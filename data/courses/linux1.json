{
  "description": "CompTIA and the Linux Professional Institute (LPI) have worked in conjunction to create the CompTIA Linux+ certification. The certification covers the basic knowledge required of a junior level Linux administrator. Candidates are expected to be able to work competently across a wide array of environments and skill sets. Unlike many certifications, candidates who complete the Linux+ exams (LX0-103 and LX0-104) are awarded with not one, but three certifications: the CompTIA Linux+ certification, the LPI LPIC-1 certification and SUSE Certified Linux Administrator (CLA). That makes this an excellent starting point for people interested in working with Linux as you gain essential base knowledge as well as fill out your resume.",
  "descriptionMD": "CompTIA and the Linux Professional Institute (LPI) have worked in conjunction to create the CompTIA Linux+ certification. The certification covers the basic knowledge required of a junior level Linux administrator. Candidates are expected to be able to work competently across a wide array of environments and skill sets. Unlike many certifications, candidates who complete the Linux+ exams (LX0-103 and LX0-104) are awarded with not one, but three certifications: the CompTIA Linux+ certification, the LPI LPIC-1 certification and SUSE Certified Linux Administrator (CLA). That makes this an excellent starting point for people interested in working with Linux as you gain essential base knowledge as well as fill out your resume. __[Click here](https://itpro.tv/comptia-partnership) to get an exam voucher discount.__",
  "length": "82687",
  "name": "CompTIA Linux+",
  "practiceExam": true,
  "subtitle": "Powered by LPI",
  "tagUrl": "comptia",
  "topics": [
    {
      "episodes": [
        {
          "description": "CompTIA and the Linux Professional Institute (LPI) have worked in conjunction to create the CompTIA Linux+ certification. The certification covers the basic knowledge required of a junior level Linux administrator. Candidates are expected to be able to work competently across a wide array of environments and skill sets. Unlike many certifications, candidates who complete the Linux+ exams (LX0-103 and LX0-104) are awarded with not one, but three certifications: the CompTIA Linux+ certification, the LPI LPIC-1 certification and SUSE Certified Linux Administrator (CLA). That makes this an excellent starting point for people interested in working with Linux as you gain essential base knowledge as well as fill out your resume.",
          "length": "573",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-0-0-overview-012916-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-0-0-overview-012916-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-0-0-overview-012916-1-sm.jpg",
          "title": "Overview",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:07.665\n[MUSIC]\n\n2\n00:00:07.665 --> 00:00:08.925\n>> In this segment,\n\n3\n00:00:08.925 --> 00:00:14.899\nwe're gonna give you a brief overview\nof the Linux+ LXO-103 and 104 exams.\n\n4\n00:00:14.899 --> 00:00:15.407\n>> [LAUGH]\n>> Yes,\n\n5\n00:00:15.407 --> 00:00:17.804\nthere are two of them\navailable from CompTIA.\n\n6\n00:00:17.804 --> 00:00:19.368\nAnd joining me today is Don.\n\n7\n00:00:19.368 --> 00:00:23.291\nHe's gonna give us a help here and give us\na good overview of what we can expect and\n\n8\n00:00:23.291 --> 00:00:24.711\nsee in the upcoming series.\n\n9\n00:00:24.711 --> 00:00:26.256\nSo Don, take it away.\n\n10\n00:00:26.256 --> 00:00:28.187\nWhat can we expect from this series?\n\n11\n00:00:28.187 --> 00:00:31.568\n>> Well, the CompTIA Linux+ certification\nis a great certification for\n\n12\n00:00:31.568 --> 00:00:33.549\npeople just getting started with Linux.\n\n13\n00:00:33.549 --> 00:00:35.953\nYou don't have to know one\nsingle bit about Linux, and\n\n14\n00:00:35.953 --> 00:00:38.356\nwe start with running through\nhow to get it installed,\n\n15\n00:00:38.356 --> 00:00:40.721\nsome of the different\ndistributions to choose from.\n\n16\n00:00:40.721 --> 00:00:43.221\nAnd then once it's installed,\nhow to support and operate it.\n\n17\n00:00:43.221 --> 00:00:47.043\nThe goal of the CompTIA Linux+\ncertification is to prove that you have\n\n18\n00:00:47.043 --> 00:00:49.701\nthe knowledge to support\nLinux workstations and\n\n19\n00:00:49.701 --> 00:00:51.734\nservers in a business environment.\n\n20\n00:00:51.734 --> 00:00:56.195\nAnd that's a pretty important thing to be\nable to do these days as Linux usage is\n\n21\n00:00:56.195 --> 00:00:57.423\nraising every year.\n\n22\n00:00:57.423 --> 00:00:59.310\nSeeing more and\nmore server deployments and\n\n23\n00:00:59.310 --> 00:01:01.709\neven a few more desktop\ndeployments that are out there.\n\n24\n00:01:01.709 --> 00:01:04.331\nNow, a couple of neat things\nabout the certification.\n\n25\n00:01:04.331 --> 00:01:06.889\nIt is two exams, like Daniel mentioned.\n\n26\n00:01:06.889 --> 00:01:08.963\nSo it divides the topics in\nhalf which is kind of nice.\n\n27\n00:01:08.963 --> 00:01:12.513\nMakes it where you have a smaller set\nof data to deal with for each exam, but\n\n28\n00:01:12.513 --> 00:01:16.237\nthe other thing is CompTIA developed\nthis in partnership with the LPI, and so\n\n29\n00:01:16.237 --> 00:01:18.207\nyou'll see like on their website here.\n\n30\n00:01:18.207 --> 00:01:24.728\nLet me pull up CompTIA's website where\nit's the CompTIA Linux+ powered by LPI.\n\n31\n00:01:24.728 --> 00:01:28.100\nNow LPI, they're an organization\nthat makes Linux certifications.\n\n32\n00:01:28.100 --> 00:01:30.749\nAnd when you get your CompTIA Linux+,\n\n33\n00:01:30.749 --> 00:01:35.089\nyou actually get your LPIC-1\ncertification at the same time.\n\n34\n00:01:35.089 --> 00:01:39.498\nYou get two certifications at once, and\nso that's a neat little benefit here.\n\n35\n00:01:39.498 --> 00:01:42.689\nIt's the same set of exams, and\nyou kind of get double certifications.\n\n36\n00:01:42.689 --> 00:01:47.638\nNow, the exams themselves are the LX-103\nand 104, and those divide up the content\n\n37\n00:01:47.638 --> 00:01:50.650\nlike I said, and\nthey divide it up in a pretty neat way.\n\n38\n00:01:50.650 --> 00:01:52.703\nLet me bring up the objectives here.\n\n39\n00:01:52.703 --> 00:01:55.710\nSo here's the exam objectives for\nthe LX0-103.\n\n40\n00:01:55.710 --> 00:01:58.844\nIt's the first part that\nwe cover in the series, and\n\n41\n00:01:58.844 --> 00:02:01.561\nit focuses on introducing\nyou guys to Linux.\n\n42\n00:02:01.561 --> 00:02:04.135\nSo if you've never worked\nwith Linux before,\n\n43\n00:02:04.135 --> 00:02:06.254\nit starts with system architecture.\n\n44\n00:02:06.254 --> 00:02:07.372\nWhat is Linux?\n\n45\n00:02:07.372 --> 00:02:08.205\nHow does it work?\n\n46\n00:02:08.205 --> 00:02:09.485\nWhat's going on under the hood?\n\n47\n00:02:09.485 --> 00:02:10.906\nHow does this thing even function?\n\n48\n00:02:10.906 --> 00:02:13.893\nWhat is it that makes Linux Linux?\n\n49\n00:02:13.893 --> 00:02:17.043\nAnd then it moves on to installation and\npackage management.\n\n50\n00:02:17.043 --> 00:02:21.533\nHow do I install the operating system,\nand how do I add software on top of that?\n\n51\n00:02:21.533 --> 00:02:25.109\nBecause it's not gonna be terribly useful\nunless I have some good software on there.\n\n52\n00:02:25.109 --> 00:02:28.217\nThen we learn about our standard GNU and\nUnix commands.\n\n53\n00:02:28.217 --> 00:02:29.939\nSo as we work with\nthe command line utilities,\n\n54\n00:02:29.939 --> 00:02:32.423\nwe've got a ton of programs we need\nto know, we learn about those.\n\n55\n00:02:32.423 --> 00:02:36.791\nAnd lastly, we talk about our hardware,\nour file systems, devices, the hierarchy,\n\n56\n00:02:36.791 --> 00:02:39.046\nhow it kind of arranges\nthings in the system.\n\n57\n00:02:39.046 --> 00:02:41.223\nSo this is a fairly low level course,\n\n58\n00:02:41.223 --> 00:02:45.440\nreally focusing on the operating\nsystem itself, getting it running on\n\n59\n00:02:45.440 --> 00:02:49.814\nyour computer and all the different\nways it interacts with the computer.\n\n60\n00:02:49.814 --> 00:02:52.772\nEverything you need to know\nto get started with Linux,\n\n61\n00:02:52.772 --> 00:02:56.903\nthat's the focus of the 103 exam,\nand it's all divided fairly evenly.\n\n62\n00:02:56.903 --> 00:03:00.384\nThe command line is really where\nthe majority of the exam is based, and\n\n63\n00:03:00.384 --> 00:03:01.446\nthat's important,\n\n64\n00:03:01.446 --> 00:03:05.295\ncuz we need that for the second exam where\nwe start to use all these utilities.\n\n65\n00:03:05.295 --> 00:03:10.049\nNow, the second exam is the 104 and\nlet me just pull that up real quick.\n\n66\n00:03:10.049 --> 00:03:13.824\nHere's the 104, and the exam\nobjectives are a little different here.\n\n67\n00:03:13.824 --> 00:03:16.993\nNow, it shifts from how does Linux work?\n\n68\n00:03:16.993 --> 00:03:19.920\nHow do I get Linux running\nto how do I use it?\n\n69\n00:03:19.920 --> 00:03:22.459\nNow that I got it up and\nrunning, what do I do with it?\n\n70\n00:03:22.459 --> 00:03:24.024\nSo how do we use the shell?\n\n71\n00:03:24.024 --> 00:03:26.359\nHow do we write scripts\nto automate things?\n\n72\n00:03:26.359 --> 00:03:28.006\nHow do we manage our data?\n\n73\n00:03:28.006 --> 00:03:30.810\nWhat kind of user interfaces and\ndesktops are available?\n\n74\n00:03:30.810 --> 00:03:33.165\nWhat are my end users going to see?\n\n75\n00:03:33.165 --> 00:03:37.665\nWhat are standard administrative tasks I\nneed to do keep Linux running smoothly and\n\n76\n00:03:37.665 --> 00:03:38.509\nefficiently?\n\n77\n00:03:38.509 --> 00:03:41.598\nThat's where we make our money\nby supporting these systems.\n\n78\n00:03:41.598 --> 00:03:44.685\nThen essential system services,\nthis is where it deviates.\n\n79\n00:03:44.685 --> 00:03:46.839\nIt stops talking about Linux and\n\n80\n00:03:46.839 --> 00:03:50.680\nstarts talking about the services\nwe run on top of Linux.\n\n81\n00:03:50.680 --> 00:03:52.121\nDo you want to run a web server?\n\n82\n00:03:52.121 --> 00:03:52.934\nWe talk about that.\n\n83\n00:03:52.934 --> 00:03:53.971\nWant to run a mail server?\n\n84\n00:03:53.971 --> 00:03:55.007\nA file server?\n\n85\n00:03:55.007 --> 00:03:56.895\nWe hit each of those kind of critical,\n\n86\n00:03:56.895 --> 00:03:59.496\nessential services that\na company is going to need.\n\n87\n00:03:59.496 --> 00:04:00.980\nThen we do networking.\n\n88\n00:04:00.980 --> 00:04:04.292\nIf you're deploying Linux, it is a network\noperating system under the hood.\n\n89\n00:04:04.292 --> 00:04:07.264\nSo we need to understand how to get\nthose systems to talk to each other, so\n\n90\n00:04:07.264 --> 00:04:08.355\nwe spend some time there.\n\n91\n00:04:08.355 --> 00:04:12.927\nAnd then lastly, what's probably\nthe most important section is security.\n\n92\n00:04:12.927 --> 00:04:15.262\nHow do we make sure that our\nLinux installs are safe?\n\n93\n00:04:15.262 --> 00:04:19.774\nThe desktops are always pretty safe, but\nthe servers, those are big attack targets.\n\n94\n00:04:19.774 --> 00:04:22.170\nThere's hackers out there that\nwant to get into your system.\n\n95\n00:04:22.170 --> 00:04:23.897\nSo how do we make sure\nthat doesn't happen?\n\n96\n00:04:23.897 --> 00:04:27.630\nAnd we talk about how to secure the files\nand the networking on our systems and\n\n97\n00:04:27.630 --> 00:04:28.632\nget those secured.\n\n98\n00:04:28.632 --> 00:04:34.330\nSo the second exam, the 104, is much more\nabout using Linux than the 103 exam is,\n\n99\n00:04:34.330 --> 00:04:37.570\nwhich is more about getting Linux up and\nrunning.\n\n100\n00:04:37.570 --> 00:04:40.545\nBut by dividing it in half like this,\nit makes it easier for\n\n101\n00:04:40.545 --> 00:04:42.568\nyou to focus in on one particular area.\n\n102\n00:04:42.568 --> 00:04:43.990\nTake that exam and pass it and\n\n103\n00:04:43.990 --> 00:04:48.035\nthen change your focus without having to\nbe distracted by too many crazy things.\n\n104\n00:04:48.035 --> 00:04:51.245\nNow if you pass one exam,\nyou do not get a certification.\n\n105\n00:04:51.245 --> 00:04:54.962\nYou have to pass both exams to\nget the Linux+ certification.\n\n106\n00:04:54.962 --> 00:04:58.477\nAnd when you pass them both,\nyou also get the LPIC-1 certification.\n\n107\n00:04:58.477 --> 00:05:01.567\nSo you do have to pass both,\ndon't think you can just do one.\n\n108\n00:05:01.567 --> 00:05:04.564\nThey really are a pair, and\nthat's why here on ITProTV,\n\n109\n00:05:04.564 --> 00:05:08.008\nyou'll notice that our show is both,\nthe 103 and the 104.\n\n110\n00:05:08.008 --> 00:05:09.023\nNow, we cover them in that order.\n\n111\n00:05:09.023 --> 00:05:12.070\nWe do divide it in half, but\nwe know you're gonna watch both.\n\n112\n00:05:12.070 --> 00:05:13.956\nSo we grouped them together,\nyou'll see them,\n\n113\n00:05:13.956 --> 00:05:16.397\nyou kind of move through them all and\nthen go and pass that exam.\n\n114\n00:05:16.397 --> 00:05:16.966\n>> Awesome stuff.\n\n115\n00:05:16.966 --> 00:05:19.614\nNow when you are ready to\ntake the exam should I say,\n\n116\n00:05:19.614 --> 00:05:23.938\nyou covered all the material, you watched\nour videos, you think, you know what?\n\n117\n00:05:23.938 --> 00:05:25.339\nI think I got this guy down.\n\n118\n00:05:25.339 --> 00:05:28.753\nDon, what do we got to do to get signed\nup for that exam so we can take it?\n\n119\n00:05:28.753 --> 00:05:32.653\n>> Well, CompTIA uses Pearson VUE for\ntheir testing exclusively.\n\n120\n00:05:32.653 --> 00:05:35.213\nSo you need to go to a Pearson VUE\ncenter to be able to take that.\n\n121\n00:05:35.213 --> 00:05:37.834\nFortunately, they've got\ncenters all over the world.\n\n122\n00:05:37.834 --> 00:05:43.259\nIf you wanna find one, the website to\ngo to is vue.com, and it's V-U-E.com.\n\n123\n00:05:43.259 --> 00:05:45.392\nAnd so I've got their\nwebsite pulled up right here.\n\n124\n00:05:45.392 --> 00:05:48.460\nSo this is Pearson Vue's website,\nV-U-E.com.\n\n125\n00:05:48.460 --> 00:05:50.857\nIt actually redirects to pearsonvue.com.\n\n126\n00:05:50.857 --> 00:05:55.733\nBut once you're here, you can see this\nlink here that says, For test takers.\n\n127\n00:05:55.733 --> 00:06:00.027\nAnd so you can go to the test taker web\npage, and on the test taker web page,\n\n128\n00:06:00.027 --> 00:06:04.809\nthey've got where you can come in and pick\nthe program that you're looking for and\n\n129\n00:06:04.809 --> 00:06:06.908\nthen find a location to take a test.\n\n130\n00:06:06.908 --> 00:06:10.894\nSo if I come in and say that I'm\nlooking for a CompTIA exam, and\n\n131\n00:06:10.894 --> 00:06:15.428\nit takes me to the official CompTIA\npage and starts to tell me about it.\n\n132\n00:06:15.428 --> 00:06:17.967\nAnd over here,\nit gives me the chance to sign in and\n\n133\n00:06:17.967 --> 00:06:20.873\ncreate a free account to then go and\nsign up for the exams.\n\n134\n00:06:20.873 --> 00:06:22.009\nNow, the exams are not free.\n\n135\n00:06:22.009 --> 00:06:24.697\nWhen you login, it will tell you how\nmuch they cost, cuz it's different for\n\n136\n00:06:24.697 --> 00:06:27.354\ndifferent countries, but the most\nimportant part is this guy right here.\n\n137\n00:06:27.354 --> 00:06:28.978\nFind a test center.\n\n138\n00:06:28.978 --> 00:06:33.591\nYou can choose that and find\na Pearson Vue testing center near you.\n\n139\n00:06:33.591 --> 00:06:36.659\nSo let's think of a city.\n\n140\n00:06:36.659 --> 00:06:37.451\n>> Cincinnati.\n\n141\n00:06:37.451 --> 00:06:38.832\n>> Cincinnati, you had to pick\none I don't know how to spell.\n\n142\n00:06:38.832 --> 00:06:42.164\n>> [LAUGH]\n>> Cincinnati, that's what Ohio?\n\n143\n00:06:42.164 --> 00:06:42.835\n>> Yep.\n\n144\n00:06:42.835 --> 00:06:43.851\n>> Cincinnati, Ohio.\n\n145\n00:06:43.851 --> 00:06:46.330\nSo we'll go ahead and search for\nthat, which I'm sure I spelled wrong.\n\n146\n00:06:46.330 --> 00:06:47.671\nThere we go.\n\n147\n00:06:47.671 --> 00:06:50.100\nSo here it pulled up Cincinnati, Ohio, and\n\n148\n00:06:50.100 --> 00:06:54.050\nthere's five Pearson Vue testing\ncenters right there in Cincinnati.\n\n149\n00:06:54.050 --> 00:06:57.053\nAnd you can even pick small towns like\nwe're here in Gainesville, Florida, and\n\n150\n00:06:57.053 --> 00:06:58.743\nGainesville, Florida is a very small town.\n\n151\n00:06:58.743 --> 00:07:01.585\nAnd so if I do a search for\nGainesville, Florida,\n\n152\n00:07:01.585 --> 00:07:05.935\nyou'll see that there's actually more\nthan one testing center here also.\n\n153\n00:07:05.935 --> 00:07:07.419\nAnd so that's convenient.\n\n154\n00:07:07.419 --> 00:07:09.390\nActually, there's four\ntesting centers here.\n\n155\n00:07:09.390 --> 00:07:12.866\nYou'll find that a lot of\ncommunity colleges and\n\n156\n00:07:12.866 --> 00:07:18.898\neven just private training companies will\nhave testing centers available for you.\n\n157\n00:07:18.898 --> 00:07:22.046\nSo there's just a lot of opportunity to\nfind one that's nearby, you can go and\n\n158\n00:07:22.046 --> 00:07:22.677\ntake the test.\n\n159\n00:07:22.677 --> 00:07:25.988\nYou don't sign up for\nthe test at the testing center.\n\n160\n00:07:25.988 --> 00:07:28.142\nDon't go to the testing\ncenter expecting to sign up.\n\n161\n00:07:28.142 --> 00:07:31.260\nMake sure you go to the VUE website and\nsign up there and\n\n162\n00:07:31.260 --> 00:07:34.114\nthen pick your testing center and\ngo and take it.\n\n163\n00:07:34.114 --> 00:07:39.104\nAnd when you pass the exam, the testing\ncenter sends those results up to CompTIA,\n\n164\n00:07:39.104 --> 00:07:44.110\nand then CompTIA gets you a certificate\nthat shows you are now Linux+ certified.\n\n165\n00:07:44.110 --> 00:07:48.234\nNow keep in mind that there are continuing\neducation requirements for Linux+ that you\n\n166\n00:07:48.234 --> 00:07:52.258\nneed to recertify every two years, or you\nneed to do continuing education credits.\n\n167\n00:07:52.258 --> 00:07:54.221\nYou continue to watch shows and\n\n168\n00:07:54.221 --> 00:07:59.064\nattend other courses to get CE credits\nto keep your certification current.\n\n169\n00:07:59.064 --> 00:08:02.031\nYou can't just take it once and forget\nabout it, you do need to maintain it.\n\n170\n00:08:02.031 --> 00:08:02.877\n>> Awesome.\nNow Don,\n\n171\n00:08:02.877 --> 00:08:06.284\nis there anything else that we need to\nknow about the Linux+ certification exams\n\n172\n00:08:06.284 --> 00:08:09.609\nspecifically, or our series coming up\nthat you'd like to tell the audience?\n\n173\n00:08:09.609 --> 00:08:12.567\n>> So the series, we cover all\nthe objectives for the 103 and\n\n174\n00:08:12.567 --> 00:08:14.018\nthe 104 certifications.\n\n175\n00:08:14.018 --> 00:08:15.053\nSo we knock them all out.\n\n176\n00:08:15.053 --> 00:08:17.736\nWe cover everything you need to know\nto get in there and pass that exam.\n\n177\n00:08:17.736 --> 00:08:20.511\nYou may choose to supplement your\nstudies with a book if you want,\n\n178\n00:08:20.511 --> 00:08:22.285\nthere's plenty of great ones out there.\n\n179\n00:08:22.285 --> 00:08:25.970\nSybex has a wonderful Linux+ book you\ncan use, really good content there, but\n\n180\n00:08:25.970 --> 00:08:29.435\nour video is designed to be pretty\nall-inclusive to cover all those topics\n\n181\n00:08:29.435 --> 00:08:31.143\nand to make sure that you're ready.\n\n182\n00:08:31.143 --> 00:08:34.927\nWe do have practice exams\navailable on the website,\n\n183\n00:08:34.927 --> 00:08:38.376\nso we do practice exams\nthrough Transcenders.\n\n184\n00:08:38.376 --> 00:08:39.311\nThere we go, I almost forgot.\n\n185\n00:08:39.311 --> 00:08:42.209\nSo you can get practice exams to make\nsure that you're ready for it, but\n\n186\n00:08:42.209 --> 00:08:43.821\nit's a pretty straightforward exam.\n\n187\n00:08:43.821 --> 00:08:45.284\nThere's no trick questions on this one.\n\n188\n00:08:45.284 --> 00:08:46.808\nYou either know the commands,\nor you don't.\n\n189\n00:08:46.808 --> 00:08:47.680\nYou learn the content.\n\n190\n00:08:47.680 --> 00:08:48.899\nYou get in there and pass it.\n\n191\n00:08:48.899 --> 00:08:49.915\nDefinitely a great one.\n\n192\n00:08:49.915 --> 00:08:54.211\nOnce you're Linux+ certified,\nif you wanna move beyond Linux+,\n\n193\n00:08:54.211 --> 00:08:57.109\nit's a good idea to check\nout the LPI website.\n\n194\n00:08:57.109 --> 00:08:59.525\nThe LPI guys, they have a ton\nof other certifications too.\n\n195\n00:08:59.525 --> 00:09:03.975\nCompTIA just has the Linux+ which again,\nyou really don't have any prerequisites.\n\n196\n00:09:03.975 --> 00:09:06.215\nYou don't need to have any\nprior experience with Linux,\n\n197\n00:09:06.215 --> 00:09:07.942\nyou can just jump right in and\nget started and\n\n198\n00:09:07.942 --> 00:09:10.010\nlearn everything that you\nneed to know to deploy it.\n\n199\n00:09:10.010 --> 00:09:11.310\nIt's really good stuff.\n\n200\n00:09:11.310 --> 00:09:12.082\n>> Excellent, Don.\n\n201\n00:09:12.082 --> 00:09:13.646\nWell, thank you so much for that synopsis.\n\n202\n00:09:13.646 --> 00:09:15.170\nHopefully, that worked out for you.\n\n203\n00:09:15.170 --> 00:09:19.237\nAnd if Linux+ sounds like something\nthat's exciting, and it's entertaining or\n\n204\n00:09:19.237 --> 00:09:21.094\nsomething you need to do, well then,\n\n205\n00:09:21.094 --> 00:09:23.723\nwe look forward to seeing\nyou in our upcoming series.\n\n206\n00:09:23.723 --> 00:09:31.840\n[MUSIC]\n\n",
          "vimeoId": "153772103"
        },
        {
          "description": "In this episode, Don and Daniel explain the basics of the Linux command-line interface (CLI) and some of the built-in CLI commands. They explain what a shell is and even give you some tips for maneuvering around your command history. Also discussed is the Linux manual pages (man pages) which are a set of basic help documents for CLI programs.",
          "length": "1894",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linux103-1-1-command_line_basics-051915.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linux103-1-1-command_line_basics-051915-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linux103-1-1-command_line_basics-051915-sm.jpg",
          "title": "Command-line Basics",
          "transcript": "WEBVTT\n\n1\n00:00:00.233 --> 00:00:10.233\n[MUSIC]\n\n2\n00:00:15.038 --> 00:00:22.320\n[SOUND]\n\n3\n00:00:22.320 --> 00:00:33.083\n[MUSIC]\n\n4\n00:00:33.083 --> 00:00:36.230\nAll right,\nwelcome to another episode of ITProTV.\n\n5\n00:00:36.230 --> 00:00:40.000\nI'm your host Don Pezet here\ntoday with Mr. Daniel Lowry.\n\n6\n00:00:40.000 --> 00:00:40.880\nHow's it going, Daniel?\n\n7\n00:00:40.880 --> 00:00:42.170\n>> Don, I'm doing fantastic.\n\n8\n00:00:42.170 --> 00:00:42.960\nHow are you today?\n\n9\n00:00:42.960 --> 00:00:43.595\n>> I am doing great,\n\n10\n00:00:43.595 --> 00:00:48.240\ncuz I'm pumped up to launch another\nepisode of the CompTIA Linux+ show, and\n\n11\n00:00:48.240 --> 00:00:51.610\ntoday we're gonna be diving into a topic\nthat is kind of a lot of fun, right?\n\n12\n00:00:51.610 --> 00:00:55.940\nBecause most of us have gotten spoiled by\noperating systems that give us a graphical\n\n13\n00:00:55.940 --> 00:00:59.670\nuser interface, and you click buttons\nall day and that's the end of it.\n\n14\n00:00:59.670 --> 00:01:02.736\nBut where the real power is,\nis the command line.\n\n15\n00:01:02.736 --> 00:01:07.410\nAnd so today we're diving into our episode\nunderstanding command line basics where,\n\n16\n00:01:07.410 --> 00:01:07.990\nfor some of you,\n\n17\n00:01:07.990 --> 00:01:10.350\nthis might be the first time that you\nreally dive into the command line.\n\n18\n00:01:10.350 --> 00:01:12.370\nFor some of you,\nyou might be old hat at this stuff.\n\n19\n00:01:12.370 --> 00:01:14.960\nBut we're gonna run through the general\ncommands, what's covered in\n\n20\n00:01:14.960 --> 00:01:19.460\nthe CompTIA exam objectives so you get\nready for that LX-103 exam, LX-0103 exam.\n\n21\n00:01:19.460 --> 00:01:24.060\nSo we want to make sure we cover those\nobjectives, get it all knocked out and\n\n22\n00:01:24.060 --> 00:01:28.410\nhave a good understanding of how to do\nbasic operations in the command line.\n\n23\n00:01:28.410 --> 00:01:32.360\n>> Yeah, with Linux, anytime that you\nget on any, just about any Linux system,\n\n24\n00:01:32.360 --> 00:01:35.950\nyou're gonna spend a lot of time in\nthe command line system because, well,\n\n25\n00:01:35.950 --> 00:01:37.980\nlike Don said, that's where the power is.\n\n26\n00:01:37.980 --> 00:01:40.450\nNow again we have been spoiled,\n\n27\n00:01:40.450 --> 00:01:44.290\nI know I sure have been spoiled by\na lot of GUI interfaces, right?\n\n28\n00:01:44.290 --> 00:01:46.280\nI need to make a change, I click a button.\n\n29\n00:01:46.280 --> 00:01:49.945\nI put a little check in a box\nsomewhere and I click next, right?\n\n30\n00:01:49.945 --> 00:01:51.790\nThat makes my life really simple.\n\n31\n00:01:51.790 --> 00:01:56.380\nBut that being said,\nwhat if there was no box to check,\n\n32\n00:01:56.380 --> 00:01:59.070\nwhat if there was no GUI to help you out?\n\n33\n00:01:59.070 --> 00:02:03.155\nMaybe you're running a stripped\ndown server version of Linux, and\n\n34\n00:02:03.155 --> 00:02:05.316\nnow all you have is command prompt.\n\n35\n00:02:05.316 --> 00:02:08.216\nIf you're not familiar with\nthe ways in which it works, and\n\n36\n00:02:08.216 --> 00:02:11.990\nhow you can bounce around and do things\nin it, you're gonna be at a real loss.\n\n37\n00:02:11.990 --> 00:02:14.620\nIt's gonna be a hard day for\nyou, that is for sure.\n\n38\n00:02:14.620 --> 00:02:17.170\nNow it can seem like a very,\noh my goodness,\n\n39\n00:02:17.170 --> 00:02:18.570\nwhat are we getting ready to get into?\n\n40\n00:02:18.570 --> 00:02:22.260\nThis seems like a lot of almost\nlike algebra or something,\n\n41\n00:02:22.260 --> 00:02:24.610\nyou know,\nvery difficult stuff to talk about.\n\n42\n00:02:24.610 --> 00:02:27.095\nIt's not really that difficult\nif you worked in any kind of\n\n43\n00:02:27.095 --> 00:02:30.395\nMicrosoft systems before,\na lot of commands actually do port over.\n\n44\n00:02:30.395 --> 00:02:33.185\nThey're very similar in structure and\nthe way things work.\n\n45\n00:02:33.185 --> 00:02:37.475\nSo if you've worked in Microsoft at all\nit should be at least somewhat familiar\n\n46\n00:02:37.475 --> 00:02:42.257\nin the way that you interact with it\n>> Not gonna be too far out in left field,\n\n47\n00:02:42.257 --> 00:02:43.697\nbut there is a difference.\n\n48\n00:02:43.697 --> 00:02:45.297\nThere's definitely a different way.\n\n49\n00:02:45.297 --> 00:02:47.987\nThere are multiple shells,\nthere's not just one.\n\n50\n00:02:47.987 --> 00:02:50.497\nYou can be, and\nI use that word shell you're like hm,\n\n51\n00:02:50.497 --> 00:02:53.140\nhold on what are talking about I\nhaven't been to the beach in forever.\n\n52\n00:02:53.140 --> 00:02:57.910\nRight, well they call that little black\nbox that you bring up a shell prompt.\n\n53\n00:02:57.910 --> 00:02:59.450\nAnd that's the old school version.\n\n54\n00:02:59.450 --> 00:03:01.730\nI'm gonna,\nit still sticks around to this day.\n\n55\n00:03:01.730 --> 00:03:03.700\nSomeone talks about a shell,\n\n56\n00:03:03.700 --> 00:03:06.300\nthey're talking about being in\nthe command line interface, right?\n\n57\n00:03:06.300 --> 00:03:09.130\nThat's where you're gonna be operating.\n\n58\n00:03:09.130 --> 00:03:11.690\nSo when I talk about a shell,\nyou've got to know that there\n\n59\n00:03:11.690 --> 00:03:16.290\nare multiple shells around, not just one\nwhen it comes to a Linux environment.\n\n60\n00:03:16.290 --> 00:03:18.155\nNow there is a de facto standard.\n\n61\n00:03:18.155 --> 00:03:22.365\nIt's not like you're going to be like what\ndo I do, have I picked the wrong one?\n\n62\n00:03:22.365 --> 00:03:23.355\nHave I done this?\n\n63\n00:03:23.355 --> 00:03:28.085\nNo there is a standard that almost\ninvariably Linux comes with, and\n\n64\n00:03:28.085 --> 00:03:29.045\nthat you're going to want.\n\n65\n00:03:29.045 --> 00:03:32.435\nAnd once you launch that black\ncommand prompt box, you're gonna see\n\n66\n00:03:32.435 --> 00:03:35.755\nthat's the one you're interacting with,\nand that's called the Bash shell.\n\n67\n00:03:35.755 --> 00:03:38.925\nThis is a derivative of an old\nshell called the Bourne shell,\n\n68\n00:03:38.925 --> 00:03:41.256\ncreated by a man named Jason Bourne, no.\n\n69\n00:03:41.256 --> 00:03:42.118\n[LAUGH]\n>> [LAUGH]\n\n70\n00:03:42.118 --> 00:03:43.605\n>> I actually don't know his first name,\n\n71\n00:03:43.605 --> 00:03:44.709\nbut his last name was Bourne.\n\n72\n00:03:44.709 --> 00:03:46.260\nHe developed the shell system.\n\n73\n00:03:46.260 --> 00:03:50.270\nAnd it was such a success and a hit\nthat they said, let's update it, let's\n\n74\n00:03:50.270 --> 00:03:54.680\nmake it a little more new, a little better\nfor our Linux systems and they called it\n\n75\n00:03:54.680 --> 00:03:57.940\nthe Bash shell, which is the Bourne\nagain shell, kind of a play on words.\n\n76\n00:03:57.940 --> 00:03:59.785\nThey love to do that stuff in Linux,\nright Don?\n\n77\n00:03:59.785 --> 00:04:02.592\n>> Yeah, where the acronym actually\nstands for another acronym.\n\n78\n00:04:02.592 --> 00:04:03.289\n[LAUGH]\n>> Yeah,\n\n79\n00:04:03.289 --> 00:04:06.240\nthe recursive acronym is\ntheir favorite thing.\n\n80\n00:04:06.240 --> 00:04:08.910\n>> Now, I'll tell you one of the nice\nthings about learning the shell and\n\n81\n00:04:08.910 --> 00:04:12.230\nthe command-line interface is when you\ngo from Linux distro to Linux distro,\n\n82\n00:04:12.230 --> 00:04:14.900\nthe user interfaces\nare normally very different.\n\n83\n00:04:14.900 --> 00:04:18.670\nAnd you might have some that are using\nKDE and other that are using like\n\n84\n00:04:18.670 --> 00:04:22.040\nEnlightenment or whatever, and\nthings just get moved around.\n\n85\n00:04:22.040 --> 00:04:22.550\nIt's hard to find them.\n\n86\n00:04:22.550 --> 00:04:26.560\nBut in the command line, because they've\nall based themself off of this original\n\n87\n00:04:26.560 --> 00:04:30.260\nshell, the command line stuff you\ncan pretty much count on, right?\n\n88\n00:04:30.260 --> 00:04:33.460\nSo let's dive into some of those commands,\nDaniel, some of the stuff that we can\n\n89\n00:04:33.460 --> 00:04:36.120\ncount on being there in\na standard Linux distribution.\n\n90\n00:04:36.120 --> 00:04:36.896\n>> Yeah, no problem.\n\n91\n00:04:36.896 --> 00:04:38.528\nWhere shall we begin?\n\n92\n00:04:38.528 --> 00:04:39.550\nWhere shall we start?\n\n93\n00:04:39.550 --> 00:04:43.205\nWell first we do need to\nget jumped into a shell.\n\n94\n00:04:43.205 --> 00:04:48.530\nNow normally if you're running just\na standard desktop, maybe even a server\n\n95\n00:04:48.530 --> 00:04:52.980\nversion of your Linux operating system,\nyou need to get into the shell itself.\n\n96\n00:04:52.980 --> 00:04:54.482\nNow, I already have my shell fired up.\n\n97\n00:04:54.482 --> 00:04:56.280\nI'm gonna go ahead and\nclose out to make this easy.\n\n98\n00:04:56.280 --> 00:04:59.200\nWe'll jump onto my computer, and\nyou'll see down here at the bottom left,\n\n99\n00:04:59.200 --> 00:05:02.600\njust in my task bar, I have a little\nthing that looks like a command prompt\n\n100\n00:05:02.600 --> 00:05:04.150\nmaking it very easy for me to find.\n\n101\n00:05:04.150 --> 00:05:05.490\nThere's a few of them around.\n\n102\n00:05:05.490 --> 00:05:09.600\nI think xterm is a very popular one\nthat you're going to come across.\n\n103\n00:05:09.600 --> 00:05:12.930\nConsole if you're running\nthe KDE GUI environment.\n\n104\n00:05:12.930 --> 00:05:15.680\nThis is GNOME terminal or\nterminal for short.\n\n105\n00:05:15.680 --> 00:05:16.965\nYou'll see that as well.\n\n106\n00:05:16.965 --> 00:05:21.050\nBut basically you're looking for\nthat little box where can I get something\n\n107\n00:05:21.050 --> 00:05:23.760\nthat says that says terminal,\nxterm something to that effect.\n\n108\n00:05:23.760 --> 00:05:26.450\nSo all I'm gonna do is click that and\nit will open my shell.\n\n109\n00:05:26.450 --> 00:05:28.780\nI am now in the command line prompt.\n\n110\n00:05:28.780 --> 00:05:31.980\nNot a very difficult thing and\nwe can then start\n\n111\n00:05:31.980 --> 00:05:35.040\nfiguring out bouncing around moving\naround through our thing here.\n\n112\n00:05:35.040 --> 00:05:41.630\nNow this is the Bash shell right and\nI can I can actually take a look at this.\n\n113\n00:05:41.630 --> 00:05:43.490\nOh man, how do I do that?\n\n114\n00:05:43.490 --> 00:05:44.129\nI forget again.\n\n115\n00:05:44.129 --> 00:05:45.920\n>> [LAUGH]\n>> Do what, see what shell you're in?\n\n116\n00:05:45.920 --> 00:05:47.080\n>> Just see what shell I'm using.\n\n117\n00:05:47.080 --> 00:05:49.960\nThe command escapes me at this point.\n\n118\n00:05:49.960 --> 00:05:51.590\nJust type bash, right?\n\n119\n00:05:51.590 --> 00:05:53.270\nIf you type bash.\n\n120\n00:05:53.270 --> 00:05:54.430\nIt should let you drop you to a prompt.\n\n121\n00:05:54.430 --> 00:05:56.490\nThat lets me know I am in the Bash shell.\n\n122\n00:05:56.490 --> 00:05:58.540\nIf I wanted to run C shell,\n\n123\n00:05:58.540 --> 00:06:02.040\nthis is another shell that's based\naround the C programming language.\n\n124\n00:06:02.040 --> 00:06:05.930\nSo if you're a C programmer you\nmight enjoy this a little bit more.\n\n125\n00:06:05.930 --> 00:06:06.540\nYou can do that.\n\n126\n00:06:06.540 --> 00:06:08.090\nJust say csh.\n\n127\n00:06:08.090 --> 00:06:09.970\nIf it's not installed,\nit won't do anything,\n\n128\n00:06:09.970 --> 00:06:13.250\nit'll just tell you there's an error,\nthis shell is not found,\n\n129\n00:06:13.250 --> 00:06:16.170\nmaybe you need to install it, but\nyou'll see that I do have this installed.\n\n130\n00:06:16.170 --> 00:06:20.440\nIt gives me a weird little prompt,\nand then I can use that as well.\n\n131\n00:06:20.440 --> 00:06:23.050\nI can also set that as my\ndefault shell if I'd like.\n\n132\n00:06:23.050 --> 00:06:25.634\nBut normally,\nas a new Linux user specifically,\n\n133\n00:06:25.634 --> 00:06:30.077\nyou'll probably wanna stick with that Bash\nshell, so that's what we're gonna do.\n\n134\n00:06:30.077 --> 00:06:32.150\nI'm just gonna exit out of that C shell.\n\n135\n00:06:32.150 --> 00:06:36.541\n>> So another little one to throw in,\nit's not a command so much, but\n\n136\n00:06:36.541 --> 00:06:39.860\nthere's a session variable that\nstores what shell you're in, and so\n\n137\n00:06:39.860 --> 00:06:43.190\nyou can run echo and\nthen $SHELL is that variable.\n\n138\n00:06:43.190 --> 00:06:46.130\nSo if you were to run that\nright now Daniel, just echo and\n\n139\n00:06:46.130 --> 00:06:48.910\nthen $SHELL and that should return.\n\n140\n00:06:48.910 --> 00:06:50.581\nThere we go.\n[CROSSTALK] You can see that you're in\n\n141\n00:06:50.581 --> 00:06:51.138\n/bin/bash.\n\n142\n00:06:51.138 --> 00:06:52.196\n>> That's the one I was looking for.\n\n143\n00:06:52.196 --> 00:06:53.658\n>> I know if there's a command\nthat matches to that.\n\n144\n00:06:53.658 --> 00:06:56.625\n>> Yeah yeah, so we're gonna get into,\nyou see this variable,\n\n145\n00:06:56.625 --> 00:06:58.809\nwe're gonna get a little\nbit of that as well.\n\n146\n00:06:59.860 --> 00:07:04.140\nThere's a lot to know about\nworking in the shell, and\n\n147\n00:07:04.140 --> 00:07:06.920\nit's hard for\nus to just pick one portion and start.\n\n148\n00:07:06.920 --> 00:07:08.790\nYou have to have at least some knowledge.\n\n149\n00:07:08.790 --> 00:07:11.860\nSo we're gonna assume a little bit,\nand then we're gonna talk about those\n\n150\n00:07:11.860 --> 00:07:13.930\nassumptions as we work\nour way through them so\n\n151\n00:07:13.930 --> 00:07:17.030\nthat you're not completely\nlost as you see this.\n\n152\n00:07:17.030 --> 00:07:19.466\nSo moving along, let's see here,\nwe talked about the Bash shell,\n\n153\n00:07:19.466 --> 00:07:20.504\nwe talked about the C Shell.\n\n154\n00:07:20.504 --> 00:07:23.812\nThere's another one I do like as well,\n\n155\n00:07:23.812 --> 00:07:29.340\nit's called the TCSH shell,\nwhich is a variation of the C shell.\n\n156\n00:07:29.340 --> 00:07:32.120\n>> You don't wanna fixate too\nmuch on the different types of\n\n157\n00:07:32.120 --> 00:07:32.940\nshells that are out there.\n\n158\n00:07:32.940 --> 00:07:35.560\nDaniel, you mentioned,\nprobably the three most common ones,\n\n159\n00:07:35.560 --> 00:07:38.830\nthere are, there's hundreds of\nthe shells that are out there, and\n\n160\n00:07:38.830 --> 00:07:41.240\ndifferent operating systems\nwill use different ones.\n\n161\n00:07:41.240 --> 00:07:45.310\nLike we kind of expect Bash to\nbe the standard one that we see.\n\n162\n00:07:45.310 --> 00:07:47.860\nBut other systems,\nlike is it Ubuntu that uses Dash?\n\n163\n00:07:47.860 --> 00:07:48.900\n>> Yes.\n>> Who uses Dash?\n\n164\n00:07:48.900 --> 00:07:49.642\n>> Yes [CROSSTALK]\n>> Actually so\n\n165\n00:07:49.642 --> 00:07:52.313\ndoes Mint because Mint is\nbased off of Ubuntu so.\n\n166\n00:07:52.313 --> 00:07:55.503\n>> But the nice part is that the basic\ncommands are compatible which means that's\n\n167\n00:07:55.503 --> 00:07:57.154\npart of the Linux compatibility right?\n\n168\n00:07:57.154 --> 00:08:00.155\nIf you want to have your systems Where\nyou write an application that'll\n\n169\n00:08:00.155 --> 00:08:03.516\nrun everywhere, then you've gotta make\nsure that this commands are the same.\n\n170\n00:08:03.516 --> 00:08:08.600\nSo let's talk a little bit about, like\nbasic navigation type commands, right?\n\n171\n00:08:08.600 --> 00:08:13.010\nYou drop to a shell, and in your shell you\nsaw the prompt at the bottom that let you\n\n172\n00:08:13.010 --> 00:08:14.200\nknow what computer you were on.\n\n173\n00:08:14.200 --> 00:08:17.130\nI think I saw yours was called,\nlike Linux A, or whatever.\n\n174\n00:08:17.130 --> 00:08:19.660\n>> Yeah.\n>> And then after that you see a path.\n\n175\n00:08:19.660 --> 00:08:24.690\nNow In Linux,\nalmost everything is treated as a file.\n\n176\n00:08:24.690 --> 00:08:27.770\nSo, when you talk about the hardware in\nyour computer or the files themselves,\n\n177\n00:08:27.770 --> 00:08:28.910\nthey're all treated as files.\n\n178\n00:08:28.910 --> 00:08:30.510\nSo when you drop to a terminal,\n\n179\n00:08:30.510 --> 00:08:32.230\nyou're really working with\nfiles most of the time.\n\n180\n00:08:32.230 --> 00:08:34.440\nEverything's referenced as a file.\n\n181\n00:08:34.440 --> 00:08:39.570\nSo, understanding how to navigate a file\nstructure is pretty important, right?\n\n182\n00:08:39.570 --> 00:08:42.480\nSo, one of the really important\ncommands that we need to make sure that\n\n183\n00:08:42.480 --> 00:08:47.170\nwe understand, is just a simple one like,\nls to pull up a listing, right.\n\n184\n00:08:47.170 --> 00:08:48.710\nAnd the reason I bring this up now.\n\n185\n00:08:48.710 --> 00:08:50.880\nI know we're gonna talk more\nabout the other commands later.\n\n186\n00:08:50.880 --> 00:08:54.640\nIs when you have a shell,\nwhat it's actually called is a CLI,\n\n187\n00:08:54.640 --> 00:08:57.180\ncommand line interpreter.\n\n188\n00:08:57.180 --> 00:08:59.220\nAnd so you type something, and\n\n189\n00:08:59.220 --> 00:09:03.160\nit interprets that into a command\nthat it executes on the back end.\n\n190\n00:09:03.160 --> 00:09:04.660\nSo when you do something like ls,\n\n191\n00:09:04.660 --> 00:09:09.660\nthe list command, the shell Bash in this\ncase, is gonna say, oh you just typed ls,\n\n192\n00:09:09.660 --> 00:09:12.730\nthat means you want to see a listing\nof the files that are in this folder.\n\n193\n00:09:12.730 --> 00:09:16.480\nIf you're in CSH, the C shell,\nor TCSH, or ZSH, or\n\n194\n00:09:16.480 --> 00:09:20.430\nany of the other shells that are out\nthere, they're doing the exact same thing.\n\n195\n00:09:20.430 --> 00:09:22.010\nYou type a command, and\n\n196\n00:09:22.010 --> 00:09:26.270\nthey interpret that into something as\nan instruction to give to the computer.\n\n197\n00:09:26.270 --> 00:09:29.620\nSo that's really what our shells\nare doing at the end of the day.\n\n198\n00:09:29.620 --> 00:09:32.690\nJust taking what we type, and\nturning it into a command on the system.\n\n199\n00:09:32.690 --> 00:09:35.880\n>> Yeah, now you do need to understand\nthat there are internal and\n\n200\n00:09:35.880 --> 00:09:37.140\nexternal commands.\n\n201\n00:09:37.140 --> 00:09:38.470\nYou don't wanna get confused on the two,\n\n202\n00:09:38.470 --> 00:09:40.560\nbecause well, they're probably\ngonna call that out on your exam,\n\n203\n00:09:40.560 --> 00:09:43.190\nthey're gonna say is this an internal\ncommand or an external command.\n\n204\n00:09:43.190 --> 00:09:46.240\nSo you do need to know that,\ninternal commands are basically\n\n205\n00:09:46.240 --> 00:09:48.090\nthe commands that are built\ninto the shell itself.\n\n206\n00:09:48.090 --> 00:09:53.590\nSo, if I did a man bash,\nthe manual page for the bash shell itself.\n\n207\n00:09:53.590 --> 00:09:57.360\nIt will show me all the internal\ncommands to that shell.\n\n208\n00:09:57.360 --> 00:10:00.614\nAn external command would be\nsomething that's third party,\n\n209\n00:10:00.614 --> 00:10:04.929\nright I've installed another command line\ntype program, and it calls to that and\n\n210\n00:10:04.929 --> 00:10:08.260\nruns it through the shell,\nthat would be an external command.\n\n211\n00:10:08.260 --> 00:10:10.715\nSo make sure you understand\nthe difference between the two so\n\n212\n00:10:10.715 --> 00:10:11.976\nthat when we go through these.\n\n213\n00:10:11.976 --> 00:10:16.478\nMost of them we're gonna talk about today\nare internal to the actual shell itself,\n\n214\n00:10:16.478 --> 00:10:18.598\nso that should make it a lot easier, but\n\n215\n00:10:18.598 --> 00:10:22.100\nas we move forward you will see\nthose external commands as well.\n\n216\n00:10:23.190 --> 00:10:26.570\n>> And there's some really common commands\nthat you would think are built in, but\n\n217\n00:10:26.570 --> 00:10:28.730\nare actually added on.\n\n218\n00:10:28.730 --> 00:10:29.560\nSo I know that's one.\n\n219\n00:10:29.560 --> 00:10:32.900\nI mentioned that ls command a minute ago,\nthat's normally an external tool.\n\n220\n00:10:32.900 --> 00:10:36.720\nBut there's other ones like cd that we'll\nsee a little bit later that are built in.\n\n221\n00:10:36.720 --> 00:10:41.081\nAnd that's part of, what's part of the\nLinux kernel and part of the shell, versus\n\n222\n00:10:41.081 --> 00:10:45.430\nwhat's part of the GNU tools and the other\nthings that get added on to the system.\n\n223\n00:10:45.430 --> 00:10:46.310\n>> Yep.\n\n224\n00:10:46.310 --> 00:10:47.990\nWell let's take a look at the ls command.\n\n225\n00:10:47.990 --> 00:10:49.600\nThat's a really good one,\nlet's just show them.\n\n226\n00:10:49.600 --> 00:10:51.270\n>> Okay.\n>> It's the one you're gonna use a lot.\n\n227\n00:10:51.270 --> 00:10:53.980\nBecause what we need to\nlist this stuff that's\n\n228\n00:10:53.980 --> 00:10:55.460\nactually in the directory\nthat we're working in.\n\n229\n00:10:55.460 --> 00:10:56.940\nSo that'll make it very simple.\n\n230\n00:10:56.940 --> 00:10:57.870\nTake a look at my computer.\n\n231\n00:10:57.870 --> 00:11:02.220\nIf i just type in ls, I get well,\nthe listing of the files and\n\n232\n00:11:02.220 --> 00:11:05.740\nfolders that are inside the actual\ndirectory that I'm working with or\n\n233\n00:11:05.740 --> 00:11:08.260\nthe working directory as\nthey like to call it there.\n\n234\n00:11:08.260 --> 00:11:10.420\nNow if you don't know what\ndirectory are you working in,\n\n235\n00:11:10.420 --> 00:11:14.240\nthere's another really good command\nthat you can use to really quickly\n\n236\n00:11:14.240 --> 00:11:16.340\nfind out where the heck\nyou're actually at.\n\n237\n00:11:16.340 --> 00:11:20.550\nYou just type in pwd, and\nthat stands for print working directory.\n\n238\n00:11:20.550 --> 00:11:22.615\nThat way you get a idea,\nyou're not out in the woods,\n\n239\n00:11:22.615 --> 00:11:26.370\ngoing I don't even know what directory\nI'm in, how can I know what this is.\n\n240\n00:11:26.370 --> 00:11:28.630\nSo pwd, and it gives me where I'm at.\n\n241\n00:11:28.630 --> 00:11:30.450\nI'm in my home/jbond.\n\n242\n00:11:30.450 --> 00:11:34.740\nI created this and I,\nunder the pseudonym of James Bond here,\n\n243\n00:11:34.740 --> 00:11:36.920\nbecause I was being a little cryptic.\n\n244\n00:11:36.920 --> 00:11:38.650\nSo I'm having a good time with it.\n\n245\n00:11:38.650 --> 00:11:39.928\nBut that's tells me where I'm at.\n\n246\n00:11:39.928 --> 00:11:44.097\n>> Yeah, and if you look at\nDaniel's prompt where it shows that\n\n247\n00:11:44.097 --> 00:11:47.469\njbond@linux-A and\nthere is a tilde next to it.\n\n248\n00:11:47.469 --> 00:11:51.550\nThat tilde, that is an alias that\npoints to his home directory.\n\n249\n00:11:51.550 --> 00:11:54.950\nSo it's /home /jbond is equal to tilde\nis just a shorter way of typing it.\n\n250\n00:11:54.950 --> 00:11:58.020\nBut if we were to move out of that\ndirectory into some other directory,\n\n251\n00:11:58.020 --> 00:12:00.140\nthe prop would change to reflect that.\n\n252\n00:12:00.140 --> 00:12:02.310\nSo changing directory, cd.\n\n253\n00:12:02.310 --> 00:12:03.240\n>> Cd yeah.\n\n254\n00:12:03.240 --> 00:12:06.926\nIf you've worked in Microsoft at all,\nyou know cd should be a very familiar\n\n255\n00:12:06.926 --> 00:12:09.634\ncommand to you, as a command prompt or\na command line.\n\n256\n00:12:09.634 --> 00:12:12.330\nA command that you would\nhave at your disposal.\n\n257\n00:12:12.330 --> 00:12:15.420\nSo I'm gonna change into\nthe /etc directory, just so\n\n258\n00:12:15.420 --> 00:12:16.970\nthat we can move out of this directory.\n\n259\n00:12:16.970 --> 00:12:21.070\nAnd there we go, if I did my ls again,\nit'll show me all the files and\n\n260\n00:12:21.070 --> 00:12:21.930\nfolders that are there.\n\n261\n00:12:21.930 --> 00:12:23.480\nGot a bunch of stuff here!\n\n262\n00:12:23.480 --> 00:12:26.685\nBut now I wanna go back to\nmy actual home directory.\n\n263\n00:12:26.685 --> 00:12:28.185\nSo now we can do Don's little trick.\n\n264\n00:12:28.185 --> 00:12:32.525\nWe can use that tilde, that little\nsquiggly line there, if you're looking for\n\n265\n00:12:32.525 --> 00:12:35.195\nit, cuz sometimes they can be a little\nhard to find on your keyboard,\n\n266\n00:12:35.195 --> 00:12:38.985\nright next to the number 1 key, usually,\non any kind of American keyboard.\n\n267\n00:12:38.985 --> 00:12:45.230\nSo if I just hit cd here and put that,\nI should take me right back.\n\n268\n00:12:45.230 --> 00:12:49.538\nAnd if I do pwd you'll see that\nnow I am back into that working\n\n269\n00:12:49.538 --> 00:12:52.390\ndirectory of my home of jbond there.\n\n270\n00:12:52.390 --> 00:12:58.480\nAnd I can do an ls and you'll see, yes, I\nactually am, verify that, very good stuff.\n\n271\n00:12:58.480 --> 00:12:59.350\n>> Yep.\n\n272\n00:12:59.350 --> 00:13:02.390\nAll right, a couple of other commands that\nwe might wanna just be familiar with on\n\n273\n00:13:02.390 --> 00:13:03.930\na general system.\n\n274\n00:13:03.930 --> 00:13:06.340\nYou know,\nbeing able to change directories.\n\n275\n00:13:06.340 --> 00:13:07.840\nWe're in a terminal right now.\n\n276\n00:13:07.840 --> 00:13:10.380\nWhen we're done,\nwe might want to get out of the terminal.\n\n277\n00:13:10.380 --> 00:13:13.990\nAnd there's a few ways to do that,\nusing the log out and exit command.\n\n278\n00:13:13.990 --> 00:13:16.300\nNow Daniel what's the difference\nbetween log out and exit?\n\n279\n00:13:16.300 --> 00:13:21.120\n>> Yeah you've gotta be aware that exit\nand log out basically do the same thing,\n\n280\n00:13:21.120 --> 00:13:25.550\nbut one only works in a specific area or\nin a certain way.\n\n281\n00:13:25.550 --> 00:13:29.670\nSo exit should if you're in any GUI shell,\nyou've opened up xterm,\n\n282\n00:13:29.670 --> 00:13:32.110\nyou've opened up Gnome terminal,\nwhatever it is.\n\n283\n00:13:32.110 --> 00:13:36.400\nAnd you hit exit, it should log you\nout of that shell and close it.\n\n284\n00:13:36.400 --> 00:13:38.620\nThe program itself will actually close.\n\n285\n00:13:38.620 --> 00:13:43.620\nNow, if you are at a log on shell,\nyou're logging in or logging off, all you\n\n286\n00:13:43.620 --> 00:13:47.730\nsee is a shell, there is no GUI interface,\nthat's what's called a log on shell.\n\n287\n00:13:47.730 --> 00:13:49.040\nThat's where you're at.\n\n288\n00:13:49.040 --> 00:13:51.420\nThat's when you can use that\nlog off command, because well,\n\n289\n00:13:51.420 --> 00:13:53.290\nyou don't wanna exit out of the system.\n\n290\n00:13:53.290 --> 00:13:54.220\nYou don't wanna do anything else.\n\n291\n00:13:54.220 --> 00:13:56.860\nAnd plus it really won't work for\nyou, because you're as far\n\n292\n00:13:56.860 --> 00:14:00.040\nout as you're going to get,\nother than restarting the computer.\n\n293\n00:14:00.040 --> 00:14:03.440\nSo log out is going to be your drug\nof choice at that point in time.\n\n294\n00:14:03.440 --> 00:14:04.870\nIt's gonna get you to say okay,\n\n295\n00:14:04.870 --> 00:14:08.620\nwell you don't wanna be interactively\nworking with the system anymore.\n\n296\n00:14:08.620 --> 00:14:10.720\nI'll log you out and\njust have a login prompt.\n\n297\n00:14:10.720 --> 00:14:14.650\nAnd anybody that wants to,\ncan then log in as necessary.\n\n298\n00:14:14.650 --> 00:14:15.410\n>> Yep.\n\n299\n00:14:15.410 --> 00:14:18.750\nNow one of the cooler features I find with\nthe shell is they know, the people who\n\n300\n00:14:18.750 --> 00:14:22.200\ndevelop these shells, that a lot of times\nwe're running the same commands over and\n\n301\n00:14:22.200 --> 00:14:25.060\nover and over again, or we're running\nslight variations of those commands.\n\n302\n00:14:25.060 --> 00:14:29.425\nSo another function of your shell is to\nbe providing what's called a history.\n\n303\n00:14:29.425 --> 00:14:31.815\nIt's keeping track of all\nthe commands that you run.\n\n304\n00:14:31.815 --> 00:14:33.845\nI say all,\nI think it's 50 commands by default.\n\n305\n00:14:33.845 --> 00:14:34.605\nDo you remember?\n\n306\n00:14:34.605 --> 00:14:35.305\n>> 500.\n>> It's 500?\n\n307\n00:14:35.305 --> 00:14:35.913\n>> Yes.\n\n308\n00:14:35.913 --> 00:14:37.165\n[LAUGH]\n>> Well you know,\n\n309\n00:14:37.165 --> 00:14:39.535\nyou get more memory in these computers\nI guess they can go further.\n\n310\n00:14:39.535 --> 00:14:44.645\nSo it's keeping track of last 500 commands\nthat you ran, and that makes it easier for\n\n311\n00:14:44.645 --> 00:14:47.975\nyou to see what you've run,\nas well as recall those commands.\n\n312\n00:14:47.975 --> 00:14:49.405\nAnd so\nyour shell is doing that automatically.\n\n313\n00:14:49.405 --> 00:14:51.990\nWe haven't configured anything,\nit's just doing it right now.\n\n314\n00:14:51.990 --> 00:14:54.760\nAnd we can pull that up with a really\nsimple command called history.\n\n315\n00:14:54.760 --> 00:14:58.040\nIf you just type history, it'll give you\na listing of all the different commands\n\n316\n00:14:58.040 --> 00:14:59.515\nthat you've executed so far.\n\n317\n00:14:59.515 --> 00:15:01.320\n>> Yep.\n>> And Daniel, let's run that on yours.\n\n318\n00:15:01.320 --> 00:15:03.320\nYou should be able to see\nthe few that you've run.\n\n319\n00:15:03.320 --> 00:15:04.330\n>> Yeah, let's go ahead and do that.\n\n320\n00:15:04.330 --> 00:15:08.410\nIf I just open my command prompt and\ntype in the word history.\n\n321\n00:15:08.410 --> 00:15:12.400\nAnd it's gonna show me those 500 last\ncommands that I've actually run.\n\n322\n00:15:12.400 --> 00:15:14.350\nI know, it seems like a daunting task.\n\n323\n00:15:14.350 --> 00:15:18.570\nNow, the cool thing is, is you'll see, it\ndoes actually number them, and that can be\n\n324\n00:15:18.570 --> 00:15:22.350\nvery helpful, cuz there are some things\nthat you can do with that history.\n\n325\n00:15:22.350 --> 00:15:25.520\nOr a set of commands that you\ncan run against that history,\n\n326\n00:15:25.520 --> 00:15:27.090\nmake things a little bit easier for you.\n\n327\n00:15:27.090 --> 00:15:29.660\nSo if I list my history using\nthe history command, and\n\n328\n00:15:29.660 --> 00:15:33.150\nI see that I want to,\noh I don't know, we'll do number 502.\n\n329\n00:15:33.150 --> 00:15:35.840\nSay, I would really\nlike to run number 502.\n\n330\n00:15:35.840 --> 00:15:38.560\nNow of course this could be because\nthis is a very long command.\n\n331\n00:15:38.560 --> 00:15:40.827\nI don't want to retype it out,\nand have that,\n\n332\n00:15:40.827 --> 00:15:42.640\nit could take me a little bit of time.\n\n333\n00:15:42.640 --> 00:15:44.552\nI could just do history,\nI see oh yea, there it is.\n\n334\n00:15:44.552 --> 00:15:49.611\nAll I have to do, is do an exclamation\npoint and then, say number 502,\n\n335\n00:15:49.611 --> 00:15:54.932\nand hit enter, and it will actually\nrun command number 502 in my history.\n\n336\n00:15:54.932 --> 00:15:57.253\nVery, very convenient for me.\n\n337\n00:15:57.253 --> 00:15:59.023\nSo all I gotta do is find a number,\n\n338\n00:15:59.023 --> 00:16:03.555\nrun the exclamation point with that number\nnext to it, and it will run that command.\n\n339\n00:16:03.555 --> 00:16:05.080\nNow, that's not the only thing.\n\n340\n00:16:05.080 --> 00:16:08.930\nA lot of times you're gonma be\nrepeating commands that you just did,\n\n341\n00:16:08.930 --> 00:16:10.010\nI mean immediately.\n\n342\n00:16:10.010 --> 00:16:14.830\nYou did this command, it ran, and now you\nneed to do it again for whatever reason.\n\n343\n00:16:14.830 --> 00:16:19.471\nI can do that as well very quickly by just\ndoing the double exclamation point, and\n\n344\n00:16:19.471 --> 00:16:23.444\nit will then run that command as well,\nyou'll see that it does that.\n\n345\n00:16:23.444 --> 00:16:26.242\n>> Yep, now you can use\nthe exclamation points for that.\n\n346\n00:16:26.242 --> 00:16:29.340\nYou can also just use your up and\ndown arrow keys on the keyboard.\n\n347\n00:16:29.340 --> 00:16:30.630\nThat's kind of a nice little shortcut.\n\n348\n00:16:30.630 --> 00:16:34.830\nIf you hit the up key on your keyboard,\nyour up arrow, it'll start scrolling back\n\n349\n00:16:34.830 --> 00:16:38.060\nthrough your commands, and the more you\npress it, the more commands it'll go back.\n\n350\n00:16:38.060 --> 00:16:40.810\nAnd then you can press the down\nkey on your keyboard to move\n\n351\n00:16:40.810 --> 00:16:41.830\nforward again, forward.\n\n352\n00:16:41.830 --> 00:16:46.100\nSo Daniel's run 512 commands now, and\nas he starts to press that up arrow,\n\n353\n00:16:46.100 --> 00:16:49.970\nsee how he's going back in time there,\nlooking at those commands that he ran.\n\n354\n00:16:49.970 --> 00:16:52.610\nAnd if he starts clicking that down\nbutton, he goes forward again.\n\n355\n00:16:52.610 --> 00:16:55.710\nIt's useful if you're just trying\nto go back two or three commands.\n\n356\n00:16:55.710 --> 00:16:57.898\nIf you're trying to go back\na hundred commands, though,\n\n357\n00:16:57.898 --> 00:16:59.296\nit's not terribly useful, right?\n\n358\n00:16:59.296 --> 00:17:00.848\nThat's where the history\ncommand comes in and\n\n359\n00:17:00.848 --> 00:17:02.731\nthen doing the exclamation\npoint followed by a number.\n\n360\n00:17:02.731 --> 00:17:03.313\n>> Yeah.\n\n361\n00:17:03.313 --> 00:17:06.649\nNow, I think a good thing you do need\nto know about the history is that it is\n\n362\n00:17:06.649 --> 00:17:10.280\nactually, like we said in the beginning,\nLinux treats everything as a file.\n\n363\n00:17:10.280 --> 00:17:14.810\nIt's usually something about a file,\nand this is stored in a file itself.\n\n364\n00:17:14.810 --> 00:17:20.330\nIf I do an ls -a, I'm gonna see\nsome hidden files that are within\n\n365\n00:17:20.330 --> 00:17:22.800\nthis directory, and one of them's\nthe important one that we're looking for\n\n366\n00:17:22.800 --> 00:17:26.330\nhere, and it's this guy right here,\nthis bash_history.\n\n367\n00:17:26.330 --> 00:17:28.220\nThat is where these files\nare actually stored,\n\n368\n00:17:28.220 --> 00:17:30.170\nthese commands are actually stored.\n\n369\n00:17:30.170 --> 00:17:33.760\nIt's just that basic text file with all\nthe commands that have been run, and\n\n370\n00:17:33.760 --> 00:17:37.820\nthat way you can call from that and say\noh, okay, I can then show you that list.\n\n371\n00:17:37.820 --> 00:17:41.240\nVery simple stuff, and\nI think it does do a good job\n\n372\n00:17:41.240 --> 00:17:45.775\nof showing you how Linux actually\nis working within itself.\n\n373\n00:17:45.775 --> 00:17:49.995\n>> Yeah, and notice in his home directory\nthere, there's a sh_history also.\n\n374\n00:17:49.995 --> 00:17:53.135\nEach SHELL maintains its own history,\nso if you find yourself moving between\n\n375\n00:17:53.135 --> 00:17:55.085\nSHELLs, the history doesn't\ncarry over between them.\n\n376\n00:17:55.085 --> 00:17:55.902\n>> Yeah.\n>> Or at least not between most.\n\n377\n00:17:55.902 --> 00:17:56.843\n>> [LAUGH] At least not between most.\n\n378\n00:17:56.843 --> 00:17:59.817\n>> [LAUGH]\n>> So there are a few other ways we can\n\n379\n00:17:59.817 --> 00:18:04.474\nbounce around and some shortcuts that\nare in the command line themselves.\n\n380\n00:18:04.474 --> 00:18:07.981\nDon was showing us that we can go up and\ndown, that's great if we just need to\n\n381\n00:18:07.981 --> 00:18:11.728\nscroll through really quickly, trying\nto find some commands that we've run.\n\n382\n00:18:11.728 --> 00:18:15.600\nNow, when you're actually typing in\na command, I know that I find this,\n\n383\n00:18:15.600 --> 00:18:18.287\nespecially when I'm working\nwith long commands,\n\n384\n00:18:18.287 --> 00:18:22.846\nlong strings of stuff that I'm typing out,\ngoing back and forth to correct mistakes,\n\n385\n00:18:22.846 --> 00:18:25.555\nit's really easy to do as\nyou're typing through.\n\n386\n00:18:25.555 --> 00:18:28.360\nI make tons of mistakes,\nI'm the world's worst typist, so\n\n387\n00:18:28.360 --> 00:18:32.180\nI'm always having to correct my\ntypographical errors, as they were.\n\n388\n00:18:32.180 --> 00:18:34.110\nLinux makes that a little bit easier for\n\n389\n00:18:34.110 --> 00:18:37.070\nyou by giving you some shortcuts\nto get through that stuff.\n\n390\n00:18:37.070 --> 00:18:40.183\nSo I'm gonna type in a really quick,\na really quick long command here, so\n\n391\n00:18:40.183 --> 00:18:41.454\nwe can play around with this.\n\n392\n00:18:41.454 --> 00:18:46.841\nLet's say sudo iptables -I INPUT, and\n\n393\n00:18:46.841 --> 00:18:53.026\nwe'll say -p tcp --dport, and there I go.\n\n394\n00:18:53.026 --> 00:18:54.919\nI'm typing along, I've got this command.\n\n395\n00:18:54.919 --> 00:18:58.217\nNow, if I wanted to change\nthat input to something else,\n\n396\n00:18:58.217 --> 00:19:01.047\nnormally I would have to\njust grab my arrow keys.\n\n397\n00:19:01.047 --> 00:19:04.345\nVery simple, I can go left and\nright, nothing to it.\n\n398\n00:19:04.345 --> 00:19:07.260\nI can just scroll over until\nI get to where I would like.\n\n399\n00:19:07.260 --> 00:19:10.810\nI say okay,\nI wanna change that from input to output.\n\n400\n00:19:11.960 --> 00:19:14.250\nAnd it's easy, it's done, right?\n\n401\n00:19:14.250 --> 00:19:18.104\nBut if I continue to type\nlong connection strings,\n\n402\n00:19:18.104 --> 00:19:20.030\nI might need to jump word by word.\n\n403\n00:19:20.030 --> 00:19:23.030\nThat would make my life\na whole lot easier.\n\n404\n00:19:23.030 --> 00:19:26.630\nSo I'll start from the end\nhere to make this easy.\n\n405\n00:19:26.630 --> 00:19:28.890\nIf you'll see, I actually have to do,\n\n406\n00:19:28.890 --> 00:19:33.090\nnormally you can do this with the control\nkey and left and right arrows.\n\n407\n00:19:33.090 --> 00:19:36.130\nI can't do it, because I'm running in\na virtual environment and it actually\n\n408\n00:19:36.130 --> 00:19:41.050\naffects my Macbook, so luckily Linux,\ngiving us all the options as they normally\n\n409\n00:19:41.050 --> 00:19:45.500\ndo, has another set of hotkeys that I can\ndo the exact same function with, so you\n\n410\n00:19:45.500 --> 00:19:50.530\ncan easily use ctrl+left or right, or I\ncan use the esc+f or b for front or back.\n\n411\n00:19:50.530 --> 00:19:51.740\nMakes it very simple.\n\n412\n00:19:51.740 --> 00:19:55.963\nSo if I wanna go back, I'll just hold\nescape and hit b, and you'll see that\n\n413\n00:19:55.963 --> 00:20:00.005\nit bounces to the beginning of each\none of the words, or I can do esc+f.\n\n414\n00:20:00.005 --> 00:20:03.350\nSee if I actually do this correctly.\n\n415\n00:20:03.350 --> 00:20:06.616\nAnd you'll see that it bounces\nto the front of the words,\n\n416\n00:20:06.616 --> 00:20:09.360\nmaking it easier for me to traverse that.\n\n417\n00:20:09.360 --> 00:20:12.600\nNow again, if I need to go\nall the way to the beginning,\n\n418\n00:20:12.600 --> 00:20:15.150\nI'm at the very end of\nthis long super string\n\n419\n00:20:15.150 --> 00:20:18.100\nof commands that I've been typing away at,\nand I'm trying to get this done.\n\n420\n00:20:18.100 --> 00:20:20.520\nAnd I'm like aw, man, I gotta go\nall the way back to the beginning.\n\n421\n00:20:20.520 --> 00:20:22.892\nWell, again, another easy command tip or\n\n422\n00:20:22.892 --> 00:20:27.820\ntrick, I just hit the ctrl+A for the\nbeginning, and you'll notice I hit ctrl+A,\n\n423\n00:20:27.820 --> 00:20:31.135\nit jumped me all the way back\nto the beginning of the command.\n\n424\n00:20:31.135 --> 00:20:35.390\nOr if I need to go all the way to the end,\nagain, very simple, ctrl+E.\n\n425\n00:20:35.390 --> 00:20:37.988\nI remember that because of A&E,\n[LAUGH] right?\n\n426\n00:20:37.988 --> 00:20:39.255\nThe actual television.\n\n427\n00:20:39.255 --> 00:20:43.620\n[LAUGH] A is in the front, E is at\nthe end and it makes it easy to remember.\n\n428\n00:20:44.755 --> 00:20:48.225\n>> Yeah, and a lot of these, they have\nthe keyboard shortcuts because the arrow\n\n429\n00:20:48.225 --> 00:20:50.275\nkeys don't always work\nin a terminal window.\n\n430\n00:20:50.275 --> 00:20:54.015\nSo if you're SSHing or telnetting into\na server, your arrow keys might not\n\n431\n00:20:54.015 --> 00:20:57.435\nfunction, so you need those control\ncodes or escape codes to work there.\n\n432\n00:20:57.435 --> 00:21:00.335\nSo definitely important stuff,\nthings that you wanna remember.\n\n433\n00:21:00.335 --> 00:21:03.295\nNow, we got a chance to\nsee a little bit of what\n\n434\n00:21:03.295 --> 00:21:07.940\nwas called a shell variable a moment ago,\nwhen Daniel did the echo $shell.\n\n435\n00:21:07.940 --> 00:21:10.820\nThere's a lot of information that your\nshell is storing in the background\n\n436\n00:21:10.820 --> 00:21:13.360\nin these variables, and\nit needs to be able to pull those and\n\n437\n00:21:13.360 --> 00:21:14.360\nlook at them from time to time.\n\n438\n00:21:14.360 --> 00:21:17.960\nNow, you can set the variables by,\nwell, using set command,\n\n439\n00:21:17.960 --> 00:21:20.630\nand you can view the variables\nby using the echo command.\n\n440\n00:21:20.630 --> 00:21:25.113\nEcho just means repeat that variable\non my screen so I can see it, right?\n\n441\n00:21:25.113 --> 00:21:28.167\nSo those are pretty useful, and\nDaniel, you got an example of that?\n\n442\n00:21:28.167 --> 00:21:29.895\n>> Oh, yeah,\nyeah we totally got an example.\n\n443\n00:21:29.895 --> 00:21:31.805\nWe can create our own variables,\n\n444\n00:21:31.805 --> 00:21:36.055\nwhich is very nice, especially when we\nget later into things like scripting.\n\n445\n00:21:36.055 --> 00:21:39.465\nThat becomes very handy for\nus to be able to create our own variables,\n\n446\n00:21:39.465 --> 00:21:43.605\nset their contents, and then call\nfrom just the variable name later.\n\n447\n00:21:43.605 --> 00:21:45.940\nSo you can start to see\nthe importance of them.\n\n448\n00:21:45.940 --> 00:21:47.740\nTo do it, it's very simple.\n\n449\n00:21:47.740 --> 00:21:49.980\nAll I'd have to do,\nlet me clear my screen here.\n\n450\n00:21:49.980 --> 00:21:53.211\nI'm just gonna back this all out and\nlet me clear everything out,\n\n451\n00:21:53.211 --> 00:21:54.755\nmake it a little easier to see.\n\n452\n00:21:54.755 --> 00:21:58.574\nI'm gonna create a variable, and\nwe're gonna call it PS1, right?\n\n453\n00:21:58.574 --> 00:22:01.536\nThat's gonna be at my actual prompt.\n\n454\n00:22:01.536 --> 00:22:04.378\nI can actually change my prompt,\nit's one of the variables in here.\n\n455\n00:22:04.378 --> 00:22:09.306\nSo if I say, let's see here,\nif I say PS1, and\n\n456\n00:22:09.306 --> 00:22:16.332\nI say =\"My New Prompt\", and\nthen give it a colon there at the end,\n\n457\n00:22:16.332 --> 00:22:21.150\nand then finish that out, and hit return.\n\n458\n00:22:21.150 --> 00:22:24.780\nYou'll notice that my prompt has actually\nchanged because now I've changed that\n\n459\n00:22:24.780 --> 00:22:26.330\nactual variable state, right?\n\n460\n00:22:26.330 --> 00:22:30.497\nWhatever the contents of that variable\nwas has now changed to my new prompt.\n\n461\n00:22:30.497 --> 00:22:39.216\nWe can shut down with that echo command\nverifying that by saying echo the PS1.\n\n462\n00:22:39.216 --> 00:22:40.971\nOops sorry about that.\n\n463\n00:22:40.971 --> 00:22:43.910\nYou're saying why aren't we echoing my\nnew prompt, isn't that what we're doing?\n\n464\n00:22:43.910 --> 00:22:47.229\nNo, see, that's what the data\nthat's inside the container,\n\n465\n00:22:47.229 --> 00:22:50.385\nthat is the variable,\nthe variable is that PS1.\n\n466\n00:22:50.385 --> 00:22:53.904\nNow, you also might notice that I've put\na little dollar sign at the front of it.\n\n467\n00:22:53.904 --> 00:22:56.880\nWhen you're declaring variables you\ndon't need the dollar sign, but\n\n468\n00:22:56.880 --> 00:23:00.870\nwhen you're actually calling on the\nvariables, you do need the dollar sign,\n\n469\n00:23:00.870 --> 00:23:03.800\nso you gotta make sure to\nunderstand that that is there.\n\n470\n00:23:03.800 --> 00:23:07.080\nSo now as I hit return it\nshould say my new prompt,\n\n471\n00:23:07.080 --> 00:23:08.990\nit is echoing what's inside there.\n\n472\n00:23:08.990 --> 00:23:10.340\nVery simple stuff.\n\n473\n00:23:10.340 --> 00:23:14.333\nI can continue to change it and I can\neven permanently set it if I want to.\n\n474\n00:23:14.333 --> 00:23:16.710\nI'm not gonna actually do that,\nbecause I don't want that as my prompt,\n\n475\n00:23:16.710 --> 00:23:19.870\nand I don't want to have to go back and\nchange that, but it's very, very simple.\n\n476\n00:23:19.870 --> 00:23:21.680\nWe use the set commands to set them.\n\n477\n00:23:21.680 --> 00:23:26.310\nWe use unset to remove that,\nif I wanted to actually remove\n\n478\n00:23:26.310 --> 00:23:30.040\nall data out of that variable container,\nI would use the unset command.\n\n479\n00:23:30.040 --> 00:23:34.450\n>> Yeah, now, those variables, they're\ntemporary, as you just mentioned, Daniel,\n\n480\n00:23:34.450 --> 00:23:38.800\nso if you were to log out and log back in\nit's prompted to go back to normal, right?\n\n481\n00:23:38.800 --> 00:23:40.340\nSo, we lose that setting.\n\n482\n00:23:40.340 --> 00:23:44.512\nEach shell has a little configuration file\nto store settings like these variables,\n\n483\n00:23:44.512 --> 00:23:46.637\nthat's loaded when the shell is created.\n\n484\n00:23:46.637 --> 00:23:49.789\nSo, if we wanted this to be permanent,\nwe'd actually need to commit that to\n\n485\n00:23:49.789 --> 00:23:52.674\nour shells profile, and\nare you still in your home directory, Dan?\n\n486\n00:23:52.674 --> 00:23:53.711\n>> Yeah, hang on.\n\n487\n00:23:53.711 --> 00:23:57.031\n>> Do a quick ls -a or whatever.\n\n488\n00:23:57.031 --> 00:24:00.192\nLs -a is the list all files,\nincluding hidden files And\n\n489\n00:24:00.192 --> 00:24:03.904\nif you'll look in there you'll\nsee files like, what is it -rc.\n\n490\n00:24:03.904 --> 00:24:06.150\n>> Yeah -rc is of them.\n\n491\n00:24:06.150 --> 00:24:11.450\nThis one uses .profile letting\nus know that, there is some\n\n492\n00:24:11.450 --> 00:24:15.770\nvariation between Linux distributions from\ntime to time this is one of those quirks.\n\n493\n00:24:15.770 --> 00:24:17.294\nI was looking for -rc.\n\n494\n00:24:17.294 --> 00:24:22.260\n-rc isn't here but I see .profile.\n\n495\n00:24:22.260 --> 00:24:24.500\nAnd it's the exact same\nthing we're looking for.\n\n496\n00:24:24.500 --> 00:24:27.040\nSo all we would have to do at that\npoint is look inside of there\n\n497\n00:24:27.040 --> 00:24:28.338\nto see what our profile was going to do.\n\n498\n00:24:28.338 --> 00:24:31.850\n>> Yeah, anything that you want to be\npermanent, and we'll learn about aliases\n\n499\n00:24:31.850 --> 00:24:34.420\nlater on, you can stick the aliases\nin there, they'll be around, your\n\n500\n00:24:34.420 --> 00:24:37.420\nsession variables all that stuff so that\nthey're there if you need them long term.\n\n501\n00:24:37.420 --> 00:24:39.280\nIf it's temporary though,\nyou do just what Daniel did,\n\n502\n00:24:39.280 --> 00:24:41.226\nand the next time you\nlog out it goes away.\n\n503\n00:24:41.226 --> 00:24:43.140\n>> Yeah.\nNow a quick command to see a lot of\n\n504\n00:24:43.140 --> 00:24:46.190\nthe variables, about how to\nactually find the file itself.\n\n505\n00:24:46.190 --> 00:24:49.150\nIs use the ENV command or\nenvironmental command.\n\n506\n00:24:49.150 --> 00:24:51.080\nSo if I just type in ENV and\n\n507\n00:24:51.080 --> 00:24:55.800\nhit enter, it's going to give me a list\nof all the system variables that are set.\n\n508\n00:24:55.800 --> 00:24:59.090\nWe don't have to, if we wanted\nto change one, maybe I wanted to\n\n509\n00:24:59.090 --> 00:25:02.610\nadd something to it or take away,\nmake it different, that kind of thing.\n\n510\n00:25:02.610 --> 00:25:04.940\nI could look through here and\ntry to find some of those.\n\n511\n00:25:04.940 --> 00:25:09.670\nYou'll see here like the color\nterm variable, a terminal with\n\n512\n00:25:09.670 --> 00:25:13.550\ncolors actually implemented in it so\nit's not all just black and white text.\n\n513\n00:25:13.550 --> 00:25:18.330\nYou'll see that that is set to be my gnome\nterminal that has colors built into it.\n\n514\n00:25:18.330 --> 00:25:19.880\nI don't have to set that stuff.\n\n515\n00:25:19.880 --> 00:25:21.770\nIf I had a different color\nterminal that I liked better,\n\n516\n00:25:21.770 --> 00:25:26.090\nif I like maybe xterm, I could go in I\ncould change that variable to xterm.\n\n517\n00:25:26.090 --> 00:25:28.890\nAnd then as a program is called upon it\n\n518\n00:25:28.890 --> 00:25:30.410\nIt would use X terminal\ninstead of gnome terminal.\n\n519\n00:25:31.690 --> 00:25:36.030\n>> Now inside of Linux, there\nare literally thousands of commands that\n\n520\n00:25:36.030 --> 00:25:39.910\nare available for us to use, and it's\nreally impossible to remember them all.\n\n521\n00:25:39.910 --> 00:25:44.140\nSo the last thing I want to talk about\nthis episode is probably one of the most\n\n522\n00:25:44.140 --> 00:25:47.240\nimportant ones because it helps us all\nthose times we can't remember the command\n\n523\n00:25:47.240 --> 00:25:48.990\nor we can't remember\nthe use of the command.\n\n524\n00:25:48.990 --> 00:25:52.340\nAnd that's the man command,\nwhich is short for manual.\n\n525\n00:25:52.340 --> 00:25:56.670\nLinux, most distributions do a pretty good\njob of documenting the tools, sometimes\n\n526\n00:25:56.670 --> 00:25:59.730\nnot so much, but most of the times they've\ndone a really good job at documenting it.\n\n527\n00:25:59.730 --> 00:26:02.980\nSo if you forget how to use a command,\nlike we did LS-a, right.\n\n528\n00:26:02.980 --> 00:26:05.740\nNow I just had that memorized,\nI know -a means show all files, but\n\n529\n00:26:05.740 --> 00:26:06.840\nwhat if you don't remember that.\n\n530\n00:26:08.140 --> 00:26:10.460\nYou're like,\nwell I know it's the LS command,\n\n531\n00:26:10.460 --> 00:26:13.020\nwhat modifier makes it show all the files?\n\n532\n00:26:13.020 --> 00:26:16.860\nWell you can use the man\ncommand to find out.\n\n533\n00:26:16.860 --> 00:26:18.440\nRight, to pull up the manual for that.\n\n534\n00:26:18.440 --> 00:26:21.660\n>> So, super easy, all you gotta\ndo is drop into your prompt again.\n\n535\n00:26:21.660 --> 00:26:25.530\nType in man again for manual and we're\ngonna save, like Don said, the LS command.\n\n536\n00:26:25.530 --> 00:26:29.250\nI wanna know the information about\nthat guy, so use that command.\n\n537\n00:26:29.250 --> 00:26:34.360\nIt returned, and a very good informatics\nsystem comes up, it's easy to\n\n538\n00:26:34.360 --> 00:26:39.710\nfollow usually, it does tend to get very\ntechnically descriptive a lot of times, so\n\n539\n00:26:39.710 --> 00:26:44.710\nit can be a bit of a drudgery to slog\nthrough these things from time to time,\n\n540\n00:26:44.710 --> 00:26:48.060\nespecially when you're starting to work\nwith more technical type of programs.\n\n541\n00:26:48.060 --> 00:26:51.800\nLS is a very simple one,\nbut, so it's a good example,\n\n542\n00:26:51.800 --> 00:26:54.120\nbut they do get a little\ndry from time to time.\n\n543\n00:26:54.120 --> 00:26:58.800\nThey're not meant to be a comprehensive,\neverything you ever needed to know.\n\n544\n00:26:58.800 --> 00:27:03.440\nThey're usually very terse,\nvery synoptic in their form.\n\n545\n00:27:03.440 --> 00:27:05.930\nSo be prepared for\nthat as you look through them.\n\n546\n00:27:05.930 --> 00:27:08.335\nIt's not Wikipedia, okay?\n\n547\n00:27:08.335 --> 00:27:10.410\n[LAUGH] Definitely it's not Wikipedia,\n\n548\n00:27:10.410 --> 00:27:15.420\nbut having those manual systems built\ninto our actual show prompt there.\n\n549\n00:27:15.420 --> 00:27:18.450\nAll you gotta do is type in man and\nwhatever command I'm looking for, and\n\n550\n00:27:18.450 --> 00:27:20.310\nI can call that manual page.\n\n551\n00:27:20.310 --> 00:27:24.740\nRead very quickly through there and\nfind out how this program works.\n\n552\n00:27:24.740 --> 00:27:25.540\nWhat I can do with it.\n\n553\n00:27:25.540 --> 00:27:27.620\nVery quick, a note.\n\n554\n00:27:27.620 --> 00:27:29.150\nThat is a very helpful thing.\n\n555\n00:27:29.150 --> 00:27:32.950\nSo I've just got to scroll\nthrough here using my arrow keys.\n\n556\n00:27:32.950 --> 00:27:36.140\nI think it uses either the more or\nthe less command,\n\n557\n00:27:36.140 --> 00:27:40.410\nwhich is a way that you can look at a lot\nof data and scroll through it one way or\n\n558\n00:27:40.410 --> 00:27:43.970\nthe other without having to go,\nuh-uh, and just seeing a bit of it.\n\n559\n00:27:43.970 --> 00:27:47.150\nYou want to see it all, and\nbeing able to scroll through it, so.\n\n560\n00:27:47.150 --> 00:27:48.560\n>> Let's throw in a bonus command.\n\n561\n00:27:48.560 --> 00:27:50.710\nI'm gonna go off the script here.\n\n562\n00:27:50.710 --> 00:27:54.300\nSo, have you ever had, Daniel,\nwhere you know there's a command for\n\n563\n00:27:54.300 --> 00:27:57.720\nsomething, but you just can't\nremember the name of the command.\n\n564\n00:27:57.720 --> 00:27:59.211\n>> Oh yeah.\n>> If you can't remember the name for\n\n565\n00:27:59.211 --> 00:28:01.590\nthe command, how can you pull\nup it's manual file, right?\n\n566\n00:28:01.590 --> 00:28:02.980\n>> That's a good question.\n\n567\n00:28:02.980 --> 00:28:05.750\n>> So do you know a way to find\na command you don't know the name of?\n\n568\n00:28:05.750 --> 00:28:07.010\n>> You know, I don't know.\n\n569\n00:28:07.010 --> 00:28:08.210\n>> I was surprised.\n\n570\n00:28:08.210 --> 00:28:09.853\nIt's not in the exam but\nit's a really useful thing.\n\n571\n00:28:09.853 --> 00:28:11.410\nWe actually have two different commands.\n\n572\n00:28:11.410 --> 00:28:14.560\nMost Linux distributions maintain\nwhat is called a what is database.\n\n573\n00:28:14.560 --> 00:28:19.040\nIt's a database of all the commands and\nall the functions that can run on it.\n\n574\n00:28:19.040 --> 00:28:21.000\nAnd so there's a what is command, but\n\n575\n00:28:21.000 --> 00:28:25.495\nit's actually tied to an older\nUnix based command called apropos.\n\n576\n00:28:25.495 --> 00:28:26.785\nNow I might be saying that wrong.\n\n577\n00:28:26.785 --> 00:28:31.685\nBut apropos, which you can run and\nyou can give a keyword to.\n\n578\n00:28:31.685 --> 00:28:35.285\nAnd it'll search the database of commands\nand functions to return something.\n\n579\n00:28:35.285 --> 00:28:36.475\nSo, like that list command.\n\n580\n00:28:36.475 --> 00:28:39.930\nI'm like, I know I need to pull up\na listing of this directory, or whatever.\n\n581\n00:28:39.930 --> 00:28:45.080\nSo you can run what is list,\nor you can run apropos,\n\n582\n00:28:45.080 --> 00:28:49.109\nthat's a p r o p, wait shoot.\n\n583\n00:28:49.109 --> 00:28:52.970\n>> Apropos,\nwe can spell at IT pro TV studios.\n\n584\n00:28:52.970 --> 00:28:54.900\n>> One p at the beginning and\nan s as the end.\n\n585\n00:28:54.900 --> 00:28:56.190\n>> One P?\nAll right, here we go.\n\n586\n00:28:56.190 --> 00:29:00.560\n>> So A P R O P O S,\napropos, there we go, list.\n\n587\n00:29:00.560 --> 00:29:06.240\nAnd so just, if you run, so\nyou do what is of the what is command.\n\n588\n00:29:06.240 --> 00:29:11.390\n>> Yeah.\n>> So if you do what is list, There we go.\n\n589\n00:29:11.390 --> 00:29:14.690\nSo that's gonna run, and it'll return back\nanything from that what is database, and\n\n590\n00:29:14.690 --> 00:29:16.440\nit didn't pull anything\nback which is interesting.\n\n591\n00:29:16.440 --> 00:29:17.779\nDo a apropos list.\n\n592\n00:29:19.050 --> 00:29:20.590\nThat's the alternate\nversion of that command.\n\n593\n00:29:20.590 --> 00:29:23.280\nAnd sometimes you go between distros,\nyou might have to do one or another.\n\n594\n00:29:24.320 --> 00:29:25.290\nGet rid of the what is.\n\n595\n00:29:25.290 --> 00:29:27.660\nSo it's just gonna apropos,\nthe command, and then list.\n\n596\n00:29:27.660 --> 00:29:28.590\nPut you on the spot here.\n\n597\n00:29:30.160 --> 00:29:33.380\n>> Like so.\n\n598\n00:29:33.380 --> 00:29:33.900\n>> Yep.\n\n599\n00:29:33.900 --> 00:29:35.050\n>> All right.\n\n600\n00:29:35.050 --> 00:29:36.050\n>> There we go.\n>> There we go.\n\n601\n00:29:36.050 --> 00:29:38.710\n>> So on this distro it's not\nusing the what is command on a,\n\n602\n00:29:38.710 --> 00:29:42.710\nlike I'm on a BDS distro here and\nthe what is command works for me.\n\n603\n00:29:42.710 --> 00:29:46.710\nBut right there you can see a list of all\nthe commands and all the functions that\n\n604\n00:29:46.710 --> 00:29:50.210\nhave a relationship to list, and so as you\nstart to look through there you can try\n\n605\n00:29:50.210 --> 00:29:52.470\nand find things that even if you didn't\nnecessarily know what their name is,\n\n606\n00:29:52.470 --> 00:29:55.050\nit gives you the command or function on\nthe left, and then it gives you brief\n\n607\n00:29:55.050 --> 00:29:58.670\ndescription, and so if you were to scroll\nup on all that output you'll find that\n\n608\n00:29:58.670 --> 00:30:02.300\nlist command in there and, yeah, just\nscroll back to your screen buffer there.\n\n609\n00:30:02.300 --> 00:30:04.790\nAnd you'll find listed,\nit's all alphabetized.\n\n610\n00:30:04.790 --> 00:30:07.570\nSo, it can be a lot to sift through, but\nif you're just trying to find a command\n\n611\n00:30:07.570 --> 00:30:10.220\nbased on what it does,\nthat's one way to hunt it down.\n\n612\n00:30:10.220 --> 00:30:11.320\n>> There she is.\n\n613\n00:30:11.320 --> 00:30:12.180\n>> Yep.\nYeah, it'll be in there.\n\n614\n00:30:12.180 --> 00:30:14.365\nYou'll find all sorts of\ncrazy stuff in there.\n\n615\n00:30:14.365 --> 00:30:14.900\n>> Very cool.\n\n616\n00:30:14.900 --> 00:30:16.225\n>> [LAUGH] It's a great\nway to learn new stuff,\n\n617\n00:30:16.225 --> 00:30:18.105\nbut that gives you a great\nexample right there.\n\n618\n00:30:18.105 --> 00:30:20.775\nHe got,\nI mean there's probably 100 commands there\n\n619\n00:30:20.775 --> 00:30:22.566\nthat just have to deal with lists, right?\n\n620\n00:30:22.566 --> 00:30:24.977\n>> [LAUGH]\n>> Not even the stuff that's outside of\n\n621\n00:30:24.977 --> 00:30:26.243\nthat, so useful one to have.\n\n622\n00:30:26.243 --> 00:30:26.785\n>> Good stuff.\n\n623\n00:30:26.785 --> 00:30:27.715\n>> All right.\nWell Daniel,\n\n624\n00:30:27.715 --> 00:30:29.945\nI think that covers quite a bit.\n\n625\n00:30:29.945 --> 00:30:32.585\nNow, there's a ton of other commands.\n\n626\n00:30:32.585 --> 00:30:35.425\nWe're gonna see them in additional\nepisodes, so definitely stay tuned for\n\n627\n00:30:35.425 --> 00:30:37.800\nthat, cuz we got a lot more\ncontent coming down the line.\n\n628\n00:30:37.800 --> 00:30:39.850\nBut the ones we saw in this\nepisode that was designed to\n\n629\n00:30:39.850 --> 00:30:41.090\nbe the introduction to the shell.\n\n630\n00:30:41.090 --> 00:30:44.258\nYou have some command line basics,\nhow we punch those commands in,\n\n631\n00:30:44.258 --> 00:30:47.815\nwe got a look at the help documentation\nas well as how to find those, and\n\n632\n00:30:47.815 --> 00:30:50.630\nyeah practice makes perfect now\nget in there and use that shell.\n\n633\n00:30:50.630 --> 00:30:55.325\nBut stay tuned cuz we have more episodes\ncoming in that are gonna be tackling other\n\n634\n00:30:55.325 --> 00:30:57.535\nconcepts, a lot of other commands.\n\n635\n00:30:57.535 --> 00:31:00.165\nIt's all on the exam, so we definitely\nhave to be familiar with that.\n\n636\n00:31:01.205 --> 00:31:03.235\nAll right, well Daniel, I think that's\nabout all we got for this episode.\n\n637\n00:31:03.235 --> 00:31:04.025\nHave we got anything else.\n\n638\n00:31:04.025 --> 00:31:05.410\n>> No, we're good to go.\n\n639\n00:31:05.410 --> 00:31:06.390\n>> All right, well, ladies and gentlemen,\n\n640\n00:31:06.390 --> 00:31:08.890\nI do hope you guys enjoyed\nthe show as much as we did.\n\n641\n00:31:08.890 --> 00:31:10.410\nSigning off for ITProTV, I'm Don Pezet.\n\n642\n00:31:10.410 --> 00:31:11.500\n>> I'm Daniel Lowrie.\n\n643\n00:31:11.500 --> 00:31:13.751\n>> And we'll see you next time.\n\n644\n00:31:13.751 --> 00:31:18.859\n[MUSIC]\n\n",
          "vimeoId": "128405453"
        },
        {
          "description": null,
          "length": "1695",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-1-2-streams_redirection_pipes-052115.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-1-2-streams_redirection_pipes-052115-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-1-2-streams_redirection_pipes-052115-sm.jpg",
          "title": "Streams, Redirection and Pipes",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.712 --> 00:00:13.181\n>> All right, greetings everyone and\nwelcome to ITProTV.\n\n3\n00:00:15.080 --> 00:00:16.240\nI'm your host, Daniel Lowrie.\n\n4\n00:00:16.240 --> 00:00:17.790\nHere with me today is my good friend,\n\n5\n00:00:17.790 --> 00:00:21.460\ncolleague, master of all that is the\ncommand line interface, that is Don Pezet.\n\n6\n00:00:21.460 --> 00:00:22.260\nHow you doing today, Don?\n\n7\n00:00:22.260 --> 00:00:23.160\n>> I'm doing great, Daniel.\n\n8\n00:00:23.160 --> 00:00:25.810\nI'm excited cuz we're gonna\nget into redirections today,\n\n9\n00:00:25.810 --> 00:00:29.280\nand this is something you'll\nuse on an everyday basis.\n\n10\n00:00:29.280 --> 00:00:31.890\nAnother great technology to learn,\nand something that's really powerful.\n\n11\n00:00:31.890 --> 00:00:34.830\n>> Yeah, these things will help you out\na lot as you're using a Linux system.\n\n12\n00:00:34.830 --> 00:00:37.932\nAnd like we've said before in previous\nepisodes, you're gonna spend a lot of time\n\n13\n00:00:37.932 --> 00:00:40.388\nbehind that seat with the command\nline interface in front of you.\n\n14\n00:00:40.388 --> 00:00:43.988\nSo, being able to work with these\ndifferent things is gonna help you a lot\n\n15\n00:00:43.988 --> 00:00:45.250\nin that endeavor.\n\n16\n00:00:45.250 --> 00:00:46.536\nNow to kick us off for today,\n\n17\n00:00:46.536 --> 00:00:49.867\nwe need to start talking about a little\nthing called streams, right Don?\n\n18\n00:00:49.867 --> 00:00:51.316\nNow, help us out, what is a stream?\n\n19\n00:00:51.316 --> 00:00:53.820\n>> All right, so when you're working with\na command line, there's a lot stuff that\n\n20\n00:00:53.820 --> 00:00:55.800\ngoes on in the background that we\ndon't really see about, right?\n\n21\n00:00:55.800 --> 00:00:58.530\nWe run a command and\nwe get some output on the screen.\n\n22\n00:00:58.530 --> 00:00:59.960\nLet me show you an example.\n\n23\n00:00:59.960 --> 00:01:02.464\nIf I run a command like ls -la, right?\n\n24\n00:01:02.464 --> 00:01:05.907\nThat's going to get me the directory\nlisting in a long format and\n\n25\n00:01:05.907 --> 00:01:08.630\nshow all files, even hidden ones, rIght?\n\n26\n00:01:08.630 --> 00:01:13.680\nWhen I run that, it gives me output on\nthe screen, that's called standard out, or\n\n27\n00:01:13.680 --> 00:01:16.200\nyou'll see it written as stdOut.\n\n28\n00:01:16.200 --> 00:01:20.670\nNow when I type the command,\nwhat I was typing, that's my imput, or\n\n29\n00:01:20.670 --> 00:01:22.340\nmy standard in.\n\n30\n00:01:22.340 --> 00:01:24.595\nSo I have standard in and standard out.\n\n31\n00:01:24.595 --> 00:01:28.544\nNow if I had messed up the command, right,\nif I typed instead of ls, I'll do lsd,\n\n32\n00:01:28.544 --> 00:01:30.475\nwe'll be a little psychedelic today.\n\n33\n00:01:30.475 --> 00:01:34.230\n>> [LAUGH]\n>> So here I get no command lsd found, but\n\n34\n00:01:34.230 --> 00:01:35.590\nthere are 17 similar ones.\n\n35\n00:01:35.590 --> 00:01:40.608\nThat is an error and that's standard\nerror, s-t-d-e-r-r, standard error.\n\n36\n00:01:40.608 --> 00:01:46.010\nNow all three of those have\na numerical identifier to them,\n\n37\n00:01:46.010 --> 00:01:52.832\nalso, the input is zero, the output\nis one, and the error is two, right?\n\n38\n00:01:52.832 --> 00:01:55.399\nSo this it's just kinda like a numerical\nnotification, or not notification,\n\n39\n00:01:55.399 --> 00:01:56.981\nwe're just numbering, numerical numbering?\n\n40\n00:01:56.981 --> 00:01:57.561\n>> Nomenclature?\n\n41\n00:01:57.561 --> 00:01:58.235\nNumbering?\n>> [LAUGH]\n\n42\n00:01:58.235 --> 00:01:58.839\n>> [LAUGH]\n\n43\n00:01:58.839 --> 00:01:59.339\n>> Yeah, well anyhow,\n\n44\n00:01:59.339 --> 00:01:59.839\n>> [LAUGH]\n\n45\n00:01:59.839 --> 00:02:01.395\n>> So it's a number the system applies to\n\n46\n00:02:01.395 --> 00:02:01.955\nit.\nAnd\n\n47\n00:02:01.955 --> 00:02:03.745\nthe reason I say that is it's important.\n\n48\n00:02:03.745 --> 00:02:06.915\nWhen we get this output\nthe default is to go our screen.\n\n49\n00:02:06.915 --> 00:02:09.565\nThe standard out is\nthe display on your screen.\n\n50\n00:02:09.565 --> 00:02:12.357\nBut we can redirect that\noutput wherever we want,\n\n51\n00:02:12.357 --> 00:02:15.618\nyou can send all sorts of crazy\nplaces using redirectors.\n\n52\n00:02:15.618 --> 00:02:17.732\nAnd that's what we're gonna be\nlooking at in this episode.\n\n53\n00:02:17.732 --> 00:02:21.322\n>> Yeah, now the one thing I would\nprobably mention to my audience out there,\n\n54\n00:02:21.322 --> 00:02:25.221\nour audience, is that those little\nnumbers, they call those file descriptors.\n\n55\n00:02:25.221 --> 00:02:28.221\nSo in case you see that on the exam, you\nknow what the heck they're talking about.\n\n56\n00:02:28.221 --> 00:02:30.431\nWe wanna make sure you're\nup on that as well.\n\n57\n00:02:30.431 --> 00:02:32.931\n>> You gotta be up on the latest jargon,\nright?\n\n58\n00:02:32.931 --> 00:02:34.896\n>> That's right,\nit's all the kids are calling it.\n\n59\n00:02:34.896 --> 00:02:35.651\n[LAUGH]\n>> Okay, so\n\n60\n00:02:35.651 --> 00:02:38.621\nlet's take a look at\na very simple redirection.\n\n61\n00:02:38.621 --> 00:02:42.591\nWhen I run ls -la it\ncomes out on my screen.\n\n62\n00:02:42.591 --> 00:02:47.570\nBut maybe I wanna redirect that output and\nsend it to a text file instead.\n\n63\n00:02:47.570 --> 00:02:51.300\nSo I could run something like ls -la and\n\n64\n00:02:51.300 --> 00:02:56.964\nI can use the greater than symbol,\nfollowed by a file name.\n\n65\n00:02:56.964 --> 00:02:59.320\nI'll do directory.txt, all right?\n\n66\n00:02:59.320 --> 00:03:02.360\nWhich I'll try to spell correctly.\n\n67\n00:03:02.360 --> 00:03:04.300\nSo I'm gonna redirect that output.\n\n68\n00:03:04.300 --> 00:03:08.820\nSo instead of giving me the information\non my screen, send it to the file.\n\n69\n00:03:08.820 --> 00:03:10.800\nAnd when I run it, what do I get?\n\n70\n00:03:10.800 --> 00:03:12.150\nThat exact thing, right?\n\n71\n00:03:12.150 --> 00:03:16.030\nIt redirected to the file,\nI don't see anything on my screen.\n\n72\n00:03:16.030 --> 00:03:20.690\nThat redirection says,\nstandard out is now a text file.\n\n73\n00:03:20.690 --> 00:03:22.700\nAnd that's where my data went,\nand now it's sitting there.\n\n74\n00:03:22.700 --> 00:03:25.690\nNow I should probably verify\nthat actually happened.\n\n75\n00:03:25.690 --> 00:03:27.077\nAnd if I look at my directory,\n\n76\n00:03:27.077 --> 00:03:30.120\nI can see I do have a directory.txt\nfile is present now.\n\n77\n00:03:30.120 --> 00:03:35.010\nAnd if I look in side of that file,\nthere's that directory list.\n\n78\n00:03:35.010 --> 00:03:37.860\nAll right, it's stored inside\nthe text file, got a copy of it,\n\n79\n00:03:37.860 --> 00:03:39.640\nvery exciting, there it is, right.\n\n80\n00:03:39.640 --> 00:03:41.260\nThat's a simple redirection.\n\n81\n00:03:41.260 --> 00:03:44.510\nAnd the way I remember this one\nis that greater than symbol,\n\n82\n00:03:44.510 --> 00:03:47.520\nit kind of looks like a funnel, right?\n\n83\n00:03:47.520 --> 00:03:52.590\nSo I'm taking all the output and funneling\nit into this other little directory.\n\n84\n00:03:52.590 --> 00:03:54.470\nSo that's how I remember the direction,\ntoo,\n\n85\n00:03:54.470 --> 00:03:59.050\nbecause we can do a less than symbol and\nthat means the opposite.\n\n86\n00:03:59.050 --> 00:04:01.950\nInstead of funneling our\noutput into something else,\n\n87\n00:04:01.950 --> 00:04:05.050\nwe're taking something else and\nfunneling it into our command, right?\n\n88\n00:04:05.050 --> 00:04:06.740\nIt's exact opposite of what we're doing.\n\n89\n00:04:06.740 --> 00:04:10.130\nSo it can go both ways, but this is\nthe most common example right here,\n\n90\n00:04:10.130 --> 00:04:12.920\nredirecting an output to a text file.\n\n91\n00:04:12.920 --> 00:04:17.110\n>> Now when we do a redirection,\nthough there's one little hint, or\n\n92\n00:04:17.110 --> 00:04:18.640\na little weird thing that happens.\n\n93\n00:04:18.640 --> 00:04:22.510\nIs if I redirect out to a file, and\nwe call it the direct react text file and\n\n94\n00:04:22.510 --> 00:04:26.830\nthen I redirect some more output to\ndirectory.txt, I use the same command.\n\n95\n00:04:26.830 --> 00:04:28.170\nWhat's going to happen?\n\n96\n00:04:28.170 --> 00:04:31.110\nYeah.\n>> So, if I do, I did a direct\n\n97\n00:04:31.110 --> 00:04:34.820\nrelisting of my own home directory,\nmy documents directory is what that was.\n\n98\n00:04:34.820 --> 00:04:40.820\nIf I do ls -la for ../, right, that's\nthe parent directory, the one above it.\n\n99\n00:04:40.820 --> 00:04:45.774\nIf I redirect that into directory.txt,\nalright, well,\n\n100\n00:04:45.774 --> 00:04:52.130\nit redirected it, and if I look inside\nof that file, it overwrote the file.\n\n101\n00:04:52.130 --> 00:04:54.480\nThe default function is to overwrite,\n\n102\n00:04:54.480 --> 00:04:56.410\nwhen you redirect it's gonna\noverwrite what you did.\n\n103\n00:04:56.410 --> 00:05:00.770\nIf you want to append,\nyou just double the symbols, and\n\n104\n00:05:00.770 --> 00:05:01.900\nwe do greater than greater than,\nlike that.\n\n105\n00:05:01.900 --> 00:05:03.750\nNow, it's going to append the document,\nand\n\n106\n00:05:03.750 --> 00:05:08.080\nlet me just do, we'll do this directory,\nAnd so, the parent this time.\n\n107\n00:05:08.080 --> 00:05:11.472\nAnd I'll just add that in, and\nnow when I go and look at that file,\n\n108\n00:05:11.472 --> 00:05:15.796\nI can see here's the directory listing for\nthe parent directory, and beneath it,\n\n109\n00:05:15.796 --> 00:05:17.936\nthere's the listing for the other one.\n\n110\n00:05:17.936 --> 00:05:21.535\nAnd, you know, it does get\na little bit kind of merged there.\n\n111\n00:05:21.535 --> 00:05:24.830\nSo let's try this a little bit\ndifferently, I'll use the echo command.\n\n112\n00:05:24.830 --> 00:05:32.236\nSo I'm gonna echo Data 1, and\nI'll put that into file.txt, all right?\n\n113\n00:05:32.236 --> 00:05:35.440\nAnd then, I'll echo Data 2, and\n\n114\n00:05:35.440 --> 00:05:40.092\nI'll redirect that into file.txt,\nall right?\n\n115\n00:05:40.092 --> 00:05:44.979\nSo now when I look at file.txt,\nthere's Data 1, there's Data 2, right?\n\n116\n00:05:44.979 --> 00:05:46.820\nIt added to it each time.\n\n117\n00:05:46.820 --> 00:05:48.650\nSo doubling that symbol just means append.\n\n118\n00:05:50.030 --> 00:05:52.120\nAll right, a couple other fun\nthings we can do, right Dave?\n\n119\n00:05:52.120 --> 00:05:54.208\n>> Oh yeah,\nthat's not the end of the show here.\n\n120\n00:05:54.208 --> 00:05:55.285\n>> [LAUGH]\n>> Definitely not.\n\n121\n00:05:55.285 --> 00:05:56.770\n>> [LAUGHS] Shortest show ever.\n\n122\n00:05:56.770 --> 00:05:58.050\n>> [LAUGH] Yeah, that's right,\nwe mini shows now..\n\n123\n00:05:58.050 --> 00:06:01.740\nBut we also can, like Don said kinda\nbefore, you kinda hinted at this.\n\n124\n00:06:01.740 --> 00:06:05.120\nIs not only can we take that input and\nredirect it one way, or\n\n125\n00:06:05.120 --> 00:06:09.550\nwe can direct it out, or\nback out to the input of another command.\n\n126\n00:06:09.550 --> 00:06:11.002\nBut we can also do error as well, right?\n\n127\n00:06:11.002 --> 00:06:11.920\n>> Mm-hmm.\n\n128\n00:06:11.920 --> 00:06:14.855\nWe can take those error files,\nsometimes, like what Don did before,\n\n129\n00:06:14.855 --> 00:06:18.187\nhe typed in a command that didn't exist,\nso it gave him some error good jargon,\n\n130\n00:06:18.187 --> 00:06:19.774\nit said this command does not exist.\n\n131\n00:06:19.774 --> 00:06:21.980\nAnd that piped that out\nto the actual screen.\n\n132\n00:06:21.980 --> 00:06:27.400\nNow that is because the standard error and\nthe standard out are basically the same\n\n133\n00:06:27.400 --> 00:06:30.050\ntype of stream or at least,\ntheir destination is the same.\n\n134\n00:06:30.050 --> 00:06:31.635\nLet's should we put it that way.\n\n135\n00:06:31.635 --> 00:06:34.400\nSo any time that something\ngoes through standard out or\n\n136\n00:06:34.400 --> 00:06:37.780\nstandard error, it's normal place\nto go to is to your screen, so\n\n137\n00:06:37.780 --> 00:06:40.260\nyou can see it and\nwork with that information.\n\n138\n00:06:40.260 --> 00:06:43.720\nBut a lot of times, I really don't,\nat least, wanna see it\n\n139\n00:06:43.720 --> 00:06:47.500\nwhile I'm trying to work with the file or\nthe command that I have in front of me.\n\n140\n00:06:47.500 --> 00:06:51.180\nI can work with that later, I can also\nredirect that to a file as well, right?\n\n141\n00:06:51.180 --> 00:06:53.350\n>> Yeah, let's take a look at\na little script that we've got here.\n\n142\n00:06:53.350 --> 00:06:57.710\nSo this script on my laptop,\nit's just called show.sh and\n\n143\n00:06:57.710 --> 00:06:59.370\nit's a real simple script, right?\n\n144\n00:06:59.370 --> 00:07:01.140\nIt just runs three commands.\n\n145\n00:07:01.140 --> 00:07:03.680\nThe first one's an echo, so\nit's going to echo out a name,\n\n146\n00:07:03.680 --> 00:07:06.170\nand then it's going to do that\ndirectory listing again, right?\n\n147\n00:07:06.170 --> 00:07:08.528\nAnd then right after that,\nit's gonna run the git command.\n\n148\n00:07:08.528 --> 00:07:13.870\nNow, ls -la, we know that one's gonna\nwork, I've run it several times already.\n\n149\n00:07:13.870 --> 00:07:18.480\nBut git is not installed on this machine,\nso if I run git, I'm gonna get an error.\n\n150\n00:07:18.480 --> 00:07:21.940\nSo, some commands are successful,\nand some commands will fail.\n\n151\n00:07:21.940 --> 00:07:25.980\nWell, I can redirect that\noutput to different places,\n\n152\n00:07:25.980 --> 00:07:28.379\nall I have to do is call the script.\n\n153\n00:07:29.740 --> 00:07:33.100\nAnd this time when I redirect I am\ngoing to add a little more to it.\n\n154\n00:07:33.100 --> 00:07:35.580\nRemember those file descriptors\nthat Daniel mentioned?\n\n155\n00:07:35.580 --> 00:07:40.990\nHow the success output, the standard\noutput, is file descriptor number one and\n\n156\n00:07:40.990 --> 00:07:44.820\nthe standard error that's\nfile descriptor number two.\n\n157\n00:07:44.820 --> 00:07:49.700\nSo I can say 1 greater than\nto redirect standard out, and\n\n158\n00:07:49.700 --> 00:07:51.489\nI'm gonna send that to good.txt.\n\n159\n00:07:51.489 --> 00:07:56.740\nAnd then I can say two greater than,\nthat's gonna redirect to standard error.\n\n160\n00:07:56.740 --> 00:07:58.955\nAnd I'll send that to bad.text right?\n\n161\n00:07:58.955 --> 00:08:02.930\nOr we might have a log.txt that we want\nto send that to, some kind of log or\n\n162\n00:08:02.930 --> 00:08:05.550\nsomething, so\nnow it's gonna run the script.\n\n163\n00:08:05.550 --> 00:08:09.323\nAnd it's gonna output those values, and\nthe data's not gonna go to my screen,\n\n164\n00:08:09.323 --> 00:08:11.590\nit's gonna get spread\nto these various files.\n\n165\n00:08:12.790 --> 00:08:16.840\nNow if there were no errors,\nthen bad.txt would be empty.\n\n166\n00:08:16.840 --> 00:08:18.240\nOr if there were no successes,\n\n167\n00:08:18.240 --> 00:08:20.600\nif they were all failures,\nthen good.txt would be empty.\n\n168\n00:08:20.600 --> 00:08:22.520\nSo you could end up with an empty file.\n\n169\n00:08:22.520 --> 00:08:25.570\nBut, in my case,\nI should have a good mix and\n\n170\n00:08:25.570 --> 00:08:30.300\nif I look, I do have a bad.txt,\nright here and a good.txt, and\n\n171\n00:08:30.300 --> 00:08:33.110\nthey both have a file size so\nthat means something happened.\n\n172\n00:08:33.110 --> 00:08:36.071\nSo if I look at good.txt,\nwell there's the directory listing, and\n\n173\n00:08:36.071 --> 00:08:38.836\nthere's the little echo that\nhappened right at the beginning.\n\n174\n00:08:38.836 --> 00:08:42.236\nSo those are the two\ncommands that ran good.\n\n175\n00:08:42.236 --> 00:08:44.825\n>> [LAUGH]\n>> We'll throw grammar out the window\n\n176\n00:08:44.825 --> 00:08:47.543\ntoday and\nthen we'll look at that bad.txt and\n\n177\n00:08:47.543 --> 00:08:51.220\nthere's the error in show.sh\nline 5 git command not found.\n\n178\n00:08:51.220 --> 00:08:52.670\nThere's my standard error, so\n\n179\n00:08:52.670 --> 00:08:54.710\nI just redirected that output\nto two different places.\n\n180\n00:08:56.210 --> 00:08:59.140\n>> Not only can you do that well you\ncan do just like we did before with\n\n181\n00:08:59.140 --> 00:09:01.810\nthe appending, if we needed to\nappend that standard error.\n\n182\n00:09:01.810 --> 00:09:04.390\nWe could do the two and then the,\n\n183\n00:09:04.390 --> 00:09:08.880\nwhat is that the greater than greater\nthan and that will append to the file.\n\n184\n00:09:08.880 --> 00:09:12.976\nSo if we want to continue that, it's like\nwhat Don's talking about as a log file, or\n\n185\n00:09:12.976 --> 00:09:16.750\nI want to continually gather that data and\nsee it, maybe I want to look at it and\n\n186\n00:09:16.750 --> 00:09:18.600\nsee what maybe is going on with my script.\n\n187\n00:09:18.600 --> 00:09:22.050\nBut I don't necessarily want it to\nbe coming up on my screen while I'm\n\n188\n00:09:22.050 --> 00:09:24.380\nactually working cuz\nwell our script did work.\n\n189\n00:09:24.380 --> 00:09:26.510\nIt did run,\nit did the things we needed it to do.\n\n190\n00:09:26.510 --> 00:09:29.720\nIt just had some error data that\ncan be cluttering up the screen.\n\n191\n00:09:29.720 --> 00:09:32.860\nSo a lot of times that's why we do that,\nwe just shovel out to a text file.\n\n192\n00:09:32.860 --> 00:09:35.865\n>> Let me show you a great example\nof how I'll typically use this is\n\n193\n00:09:35.865 --> 00:09:39.030\nI'll come in here and\nI'll do something like running show.sh.\n\n194\n00:09:39.030 --> 00:09:43.055\nAnd I don't necessarily\ncare about the good output.\n\n195\n00:09:43.055 --> 00:09:45.735\nThat succeeded, it ran,\nit did what I wanted to.\n\n196\n00:09:45.735 --> 00:09:46.455\nI don't need to see that.\n\n197\n00:09:46.455 --> 00:09:49.212\nI don't want it on my screen and\nI don't need want it in a file, so\n\n198\n00:09:49.212 --> 00:09:51.687\nI'll redirect that to\nslash dev slash null.\n\n199\n00:09:51.687 --> 00:09:53.037\nRight.\nThat means throw it away.\n\n200\n00:09:53.037 --> 00:09:55.737\nJust throw that garbage away,\ndon't even display it for me.\n\n201\n00:09:55.737 --> 00:10:00.467\nAnd then I can take the error information\nand send that to log dot text.\n\n202\n00:10:00.467 --> 00:10:01.457\nOr whatever.\n\n203\n00:10:01.457 --> 00:10:05.570\nSo I might call this Show dot log,\nbecause it's my show script and\n\n204\n00:10:05.570 --> 00:10:07.080\nnow I've got a log file for it.\n\n205\n00:10:07.080 --> 00:10:10.230\nAnd I'm two greater than greater than,\nthat means a pend to it.\n\n206\n00:10:10.230 --> 00:10:13.380\nSo every time I run this, right?\n\n207\n00:10:13.380 --> 00:10:15.840\nIt's a pending to that log file.\n\n208\n00:10:15.840 --> 00:10:21.580\nAnd when I look at Show.log,\nthere's that record of the errors, right?\n\n209\n00:10:21.580 --> 00:10:23.830\nAnd so I've got each one\nlogged in there independent.\n\n210\n00:10:23.830 --> 00:10:26.450\nBut the good data,\nit was just kind of thrown out.\n\n211\n00:10:26.450 --> 00:10:29.860\nIt ran it's commands, it did it's job,\nI don't need to see the output for that.\n\n212\n00:10:29.860 --> 00:10:32.480\nSo it's kind of mixing and\nmatching the different options there.\n\n213\n00:10:32.480 --> 00:10:33.195\nIt's pretty cool, Don.\n\n214\n00:10:33.195 --> 00:10:34.892\n<< Yeah, I know,\na lot of fun and good stuff.\n\n215\n00:10:34.892 --> 00:10:39.280\n<< Alright so now we get to some of the\nmore the skull duggery of actually using\n\n216\n00:10:39.280 --> 00:10:42.510\nthis and these redirects [LAUGHS] It's\ncool to say I'm going to send this out to\n\n217\n00:10:42.510 --> 00:10:46.940\na file and I'm going that for my perusing\nfor a later date and that's nice But\n\n218\n00:10:46.940 --> 00:10:51.490\nsometimes we do wanna take file data and\nactually input that into a command.\n\n219\n00:10:51.490 --> 00:10:55.890\nSo we're gonna call a command and then say\nget some arguments, or whatever the case\n\n220\n00:10:55.890 --> 00:10:59.640\nmay be, information from a file, and\nwe can use a redirector for that as well.\n\n221\n00:10:59.640 --> 00:11:03.300\n>> Yep, great example of this,\nit'd really be the scripting.\n\n222\n00:11:03.300 --> 00:11:06.380\nAnd an example of one that\nI know I've used myself\n\n223\n00:11:06.380 --> 00:11:08.870\nis if you're trying to\nautomate something like FTP.\n\n224\n00:11:08.870 --> 00:11:12.690\nSo, every night at midnight you want\nyour server to FTP out, get some data,\n\n225\n00:11:12.690 --> 00:11:13.880\nand download it.\n\n226\n00:11:13.880 --> 00:11:17.540\nWell, the problem with FTP is it doesn't\nhave a lot of command line arguments.\n\n227\n00:11:17.540 --> 00:11:19.060\nYou can't tell it the username and\n\n228\n00:11:19.060 --> 00:11:22.590\npassword used and a series of\ncommands to run once it connects in.\n\n229\n00:11:22.590 --> 00:11:24.570\nSo if you want to automate FTP,\n\n230\n00:11:25.640 --> 00:11:30.260\nwhat you can do is you can create\na file with all of your commands in it.\n\n231\n00:11:30.260 --> 00:11:33.150\nand then you can feed that\nfile as input into FTP.\n\n232\n00:11:34.310 --> 00:11:37.130\nOr you can either roll this all into\none script and that's what I've got\n\n233\n00:11:37.130 --> 00:11:42.070\nan example of right here is a little\nscript that has it all rolled into one.\n\n234\n00:11:42.070 --> 00:11:46.778\nSo I've got this download dot SH and\nif we take a look at\n\n235\n00:11:46.778 --> 00:11:52.560\ndownload dot SH, what it does is\nit's a pretty simple script, right?\n\n236\n00:11:52.560 --> 00:11:56.700\nWe do a little FTP And\nwe've got -V, verbose, and\n\n237\n00:11:56.700 --> 00:12:00.130\nthen we're providing that host that we're\nconnecting to, ten to 1 10 to 4, so\n\n238\n00:12:00.130 --> 00:12:02.900\nI'm going to FTP into this server.\n\n239\n00:12:02.900 --> 00:12:06.950\nAnd that's about it for command line\nentries as far as FTP is concerned.\n\n240\n00:12:06.950 --> 00:12:10.258\nBut right after that we do\nthe double less than something,\n\n241\n00:12:10.258 --> 00:12:13.093\nwe're appending to the command or\nadding to it And\n\n242\n00:12:13.093 --> 00:12:17.370\nwe're following up with just a little\nnote here that says EOF, all right.\n\n243\n00:12:17.370 --> 00:12:18.220\nEnd of file.\n\n244\n00:12:18.220 --> 00:12:20.190\nAnd this could really\nbe whatever we wanted.\n\n245\n00:12:20.190 --> 00:12:22.270\nSo it's just a text string.\n\n246\n00:12:22.270 --> 00:12:27.210\nAnd what we're saying is, everything\nthat's about to follow needs to be sent\n\n247\n00:12:27.210 --> 00:12:32.460\nas input into FTP until\nyou see this symbol again.\n\n248\n00:12:32.460 --> 00:12:33.470\nSo, we're gonna FTP and\n\n249\n00:12:33.470 --> 00:12:37.980\nthen we're gonna use the user command to\nuse a user name and a password, right.\n\n250\n00:12:37.980 --> 00:12:41.050\nOur user name is anonymous and password,\nyou could put your email address or\n\n251\n00:12:41.050 --> 00:12:43.180\nwhatever you want it to\nlog in to that FTP server.\n\n252\n00:12:43.180 --> 00:12:45.730\nThen we're issuing the binary\ncommand to switch into binary mode.\n\n253\n00:12:45.730 --> 00:12:49.210\nAnd then we're issuing get silence.wav or\n\n254\n00:12:49.210 --> 00:12:52.880\ndownloading this wav file from\nthe server and then we're exiting.\n\n255\n00:12:52.880 --> 00:12:55.660\nWe're getting out of FTP and then eof.\n\n256\n00:12:55.660 --> 00:12:57.420\nThere's that end of file, that's it,\n\n257\n00:12:57.420 --> 00:12:59.660\nthe last of the data that\nwe input into the ftp.\n\n258\n00:13:00.920 --> 00:13:03.170\nNow, when this script runs,\n\n259\n00:13:03.170 --> 00:13:05.740\nit'll be like we're sitting in\nfront of the computer typing.\n\n260\n00:13:05.740 --> 00:13:08.490\nNormally standard in, comes from us.\n\n261\n00:13:08.490 --> 00:13:10.150\nUs typing in the keyboard.\n\n262\n00:13:10.150 --> 00:13:14.050\nThis is going to make standard in\ncome from right here in the file and\n\n263\n00:13:14.050 --> 00:13:15.325\nthe computer's going to do the typing for\nus.\n\n264\n00:13:15.325 --> 00:13:16.800\nWe'll see it in action.\n\n265\n00:13:18.310 --> 00:13:19.690\nSo if I run that.\n\n266\n00:13:19.690 --> 00:13:23.090\nSo I'm just going to run download.sh,\nwhen it runs.\n\n267\n00:13:23.090 --> 00:13:25.640\nI see it connects to the f t p s server.\n\n268\n00:13:25.640 --> 00:13:29.130\nSo it reached out and\nf t p'd in and then it logged in.\n\n269\n00:13:29.130 --> 00:13:32.010\nAnd I don't see the log in, but\nsee how it says password required for\n\n270\n00:13:32.010 --> 00:13:33.120\nanonymous right here?\n\n271\n00:13:33.120 --> 00:13:36.090\nThat's how I know that it did log in\nas anonymous and provide a password.\n\n272\n00:13:36.090 --> 00:13:37.520\nSo then it says logged on.\n\n273\n00:13:37.520 --> 00:13:40.860\nAnd then I can see type set to i.\n\n274\n00:13:40.860 --> 00:13:43.920\nThat means it switched from\nasking mode to binary mode.\n\n275\n00:13:43.920 --> 00:13:48.780\nAnd then from there we issued a get\ncommand for silence.wav and I see that.\n\n276\n00:13:48.780 --> 00:13:53.790\nSo I got that wav file, it downloaded\nit and then goodbye it exited.\n\n277\n00:13:53.790 --> 00:13:57.070\nIt ran all those commands as if\nI was sitting there typing them.\n\n278\n00:13:57.070 --> 00:13:59.350\nAnd when I look in my directory,\nthere it is.\n\n279\n00:13:59.350 --> 00:14:00.870\nGood old silence.way.\n\n280\n00:14:00.870 --> 00:14:04.980\nSo we're feeding data into a command, or\n\n281\n00:14:04.980 --> 00:14:08.700\nredirecting data into a command as opposed\nto redirecting data out of a command.\n\n282\n00:14:08.700 --> 00:14:09.220\n>> Yeah.\n\n283\n00:14:09.220 --> 00:14:12.120\nNow, the one thing that we talked about\nthat we were going over this before\n\n284\n00:14:12.120 --> 00:14:14.520\nthe show just talking about\nThe redirection stuff and\n\n285\n00:14:14.520 --> 00:14:15.640\nwhat we want it to say.\n\n286\n00:14:15.640 --> 00:14:19.860\nWe realize that, not a lot of times are\nyou gonna use this in a live environment.\n\n287\n00:14:19.860 --> 00:14:23.030\nYou're not just gonna be\ntyping on the command line and\n\n288\n00:14:23.030 --> 00:14:27.260\nredirecting stuff into a command\nusing that type of redirector.\n\n289\n00:14:27.260 --> 00:14:30.030\nNormally, we see this in\nscripting ad basically,\n\n290\n00:14:30.030 --> 00:14:31.775\nthat's all the time we ever see it, right.\n\n291\n00:14:31.775 --> 00:14:32.510\n>> Yeah, yeah.\n\n292\n00:14:32.510 --> 00:14:34.582\nAnd we'll see that with some of the other\ncommands we'll see in this show,\n\n293\n00:14:34.582 --> 00:14:36.320\nthat are really designed for scripting.\n\n294\n00:14:37.430 --> 00:14:40.800\nAll right, so as far as redirections,\nthat's basically it.\n\n295\n00:14:40.800 --> 00:14:44.040\nThere's other types of redirectors\nthat are out there too.\n\n296\n00:14:44.040 --> 00:14:46.610\nOne of my favorite is the pipe command.\n\n297\n00:14:46.610 --> 00:14:49.880\nHere, I was redirecting my\ncommand output to files.\n\n298\n00:14:49.880 --> 00:14:55.160\nBut with the pipe command, we can\nredirect our output to another command.\n\n299\n00:14:55.160 --> 00:14:57.600\nSometimes we wanna take\nwhat a command gives us and\n\n300\n00:14:57.600 --> 00:14:58.920\nwe wanna modify it a little bit.\n\n301\n00:14:58.920 --> 00:15:06.660\nSo for example, if we do,\nlet's say we do ls -la, right?\n\n302\n00:15:06.660 --> 00:15:08.500\nThat gives me my directory listing.\n\n303\n00:15:08.500 --> 00:15:13.980\nAnd then I say, boy, I wish that it\nwould sort this by date modified,\n\n304\n00:15:13.980 --> 00:15:16.320\nor time modified, or\nsomething like that, right?\n\n305\n00:15:16.320 --> 00:15:19.120\nWhen you look at this,\nit's sorted alphabetically by file.\n\n306\n00:15:19.120 --> 00:15:20.740\nI want to sort it a different way.\n\n307\n00:15:20.740 --> 00:15:25.960\nSo if I want to do that, I can go through\nand I can tell it what i want to sort.\n\n308\n00:15:25.960 --> 00:15:28.660\nLS actually has some command\nline modifiers you can use it\n\n309\n00:15:28.660 --> 00:15:31.660\nto tell the sort order, but\nI can never remember them.So\n\n310\n00:15:31.660 --> 00:15:34.990\nmaybe I want to use a different command\nto do it, I want to use the sort command.\n\n311\n00:15:34.990 --> 00:15:40.440\nI remember the sort command, and so\nI wanna take the output of LS, and\n\n312\n00:15:40.440 --> 00:15:45.090\nfeed that into the sort command, and let\nthat sort it to and display it one way.\n\n313\n00:15:45.090 --> 00:15:47.400\nSo the standard output for\n\n314\n00:15:47.400 --> 00:15:51.420\none command, becomes the standard\ninput for the next command.\n\n315\n00:15:51.420 --> 00:15:53.380\nAnd the way we do that is\nwith the pipe redirector.\n\n316\n00:15:53.380 --> 00:15:55.376\nThe pipe, it's two vertical lines, and\n\n317\n00:15:55.376 --> 00:15:58.639\nit's usually located on your\nkeyboard right above your enter key.\n\n318\n00:15:58.639 --> 00:16:02.230\nIt shares the back slash key on\nmost standard U.S. keyboards.\n\n319\n00:16:02.230 --> 00:16:04.154\nIf you're on an international\nkeyboard it could be different.\n\n320\n00:16:04.154 --> 00:16:05.689\nBut just look for the two lines.\n\n321\n00:16:05.689 --> 00:16:10.246\nSometimes on laptops like mine, the two\nlines are just drawn as one long line, so\n\n322\n00:16:10.246 --> 00:16:13.510\nyou might see one really long,\nvertical line.\n\n323\n00:16:13.510 --> 00:16:18.410\nBut what we do is, we take something\nlike ls-la, and then we enter that pipe\n\n324\n00:16:18.410 --> 00:16:20.900\ncharacter, and even on my screen\nit looks like a single one, but\n\n325\n00:16:20.900 --> 00:16:23.770\nit is actually two vertical lines\nstacked on top of each other.\n\n326\n00:16:23.770 --> 00:16:26.930\nAnd now I can pipe that\ninto something else, okay.\n\n327\n00:16:28.030 --> 00:16:33.180\nMaybe I'm pulling up a directory\nlisting of /etc, right.\n\n328\n00:16:33.180 --> 00:16:36.090\nWell, there's a lot of files in there.\n\n329\n00:16:36.090 --> 00:16:38.480\nIt's more than what fits on one screen,\nright, so\n\n330\n00:16:38.480 --> 00:16:41.020\nit just lays it out as\na huge amount of data.\n\n331\n00:16:41.020 --> 00:16:46.480\nSo, maybe I wanna take that, and\npipe that into the less command.\n\n332\n00:16:47.500 --> 00:16:51.650\nAnd now I get screen pagination,\nand I can scroll backwards and\n\n333\n00:16:51.650 --> 00:16:54.080\nforwards thanks to the less command,\nor I can search for something.\n\n334\n00:16:54.080 --> 00:16:58.520\nMaybe I'm searching for profile,\nand it'll search and find that for\n\n335\n00:16:58.520 --> 00:17:03.480\nme cuz now I'm in the less command, or\nI could pipe that into the more command.\n\n336\n00:17:03.480 --> 00:17:07.814\nAnd standard out for ls-la, right,\nso the output is that success,\n\n337\n00:17:07.814 --> 00:17:12.580\neverything that's in the directory,\nbecomes the input for more.\n\n338\n00:17:12.580 --> 00:17:17.433\nAnd now, it gives me pagination, and\nI see it, so that's one example.\n\n339\n00:17:17.433 --> 00:17:20.340\nAnother example might be that\nsort command that I mentioned.\n\n340\n00:17:20.340 --> 00:17:27.850\nSo, I take ls-la of /etc, and see how\nthese dates are all over the place?\n\n341\n00:17:27.850 --> 00:17:31.250\nI might want to sort it by the month,\nor sort it by the day.\n\n342\n00:17:31.250 --> 00:17:33.400\nLet's sort it by the day\ncuz that'll be fun.\n\n343\n00:17:33.400 --> 00:17:39.030\nSo if I pipe that into the sort command,\nthe sort command takes a key value.\n\n344\n00:17:39.030 --> 00:17:40.875\nAnd I have to tell it which\nkey I want to sort by, so\n\n345\n00:17:40.875 --> 00:17:44.540\nI've got to kinda my columns here, one,\ntwo, three, four, five, six, seven.\n\n346\n00:17:44.540 --> 00:17:47.720\nSo I want to sort by the seventh column,\n\n347\n00:17:47.720 --> 00:17:50.310\nwhich is the one that has\nthe days of the week in it.\n\n348\n00:17:50.310 --> 00:17:53.640\nAnd so when I do that,\nnow everything, oops.\n\n349\n00:17:53.640 --> 00:17:55.910\nI guess if I point to the right directory.\n\n350\n00:17:55.910 --> 00:17:58.440\nWell, you can see it here,\nit actually just sorted my own directory.\n\n351\n00:17:58.440 --> 00:18:03.444\nI got May 19th here and May 21st after it,\nbut I wanted to do /etc, right?\n\n352\n00:18:03.444 --> 00:18:04.660\nA bigger directory.\n\n353\n00:18:04.660 --> 00:18:07.376\nAnd now when it sorts it,\nsee how it's got,\n\n354\n00:18:07.376 --> 00:18:12.780\nI guess it sorts a little strange cuz\nit doesn't recognize numbers, right.\n\n355\n00:18:12.780 --> 00:18:16.979\nSo it's got the twos first, and\nthen after that it's got the threes, and\n\n356\n00:18:16.979 --> 00:18:21.515\nthen after that it's got the four, five,\nsix, so it kinda gets them a little,\n\n357\n00:18:21.515 --> 00:18:23.096\nsort's only so powerful.\n\n358\n00:18:23.096 --> 00:18:26.939\nBut you can see where it has organized\nthat, so there's five, six, seven,\n\n359\n00:18:26.939 --> 00:18:28.060\neight, nine.\n\n360\n00:18:28.060 --> 00:18:31.260\nWe've taken the output from one command\nand modified it with another command.\n\n361\n00:18:31.260 --> 00:18:32.060\nPretty cool stuff.\n\n362\n00:18:32.060 --> 00:18:34.070\n>> Yeah,\nI tend to use it with the grep command.\n\n363\n00:18:34.070 --> 00:18:38.070\nVery, very handy thing to do, to say,\nhey, I gotta take some of this output.\n\n364\n00:18:38.070 --> 00:18:39.990\nAt times I'm working with maybe a server,\n\n365\n00:18:39.990 --> 00:18:42.590\nsomething with a lot of\nnetwork interface cards.\n\n366\n00:18:42.590 --> 00:18:44.240\nI need to get the hardware address, or\n\n367\n00:18:44.240 --> 00:18:46.630\nmaybe I need to the IP\naddress of those things.\n\n368\n00:18:46.630 --> 00:18:49.240\nI can sort that information out with grep.\n\n369\n00:18:49.240 --> 00:18:51.630\nShow me just what I'm looking for,\nI don't need the other lines, and\n\n370\n00:18:51.630 --> 00:18:52.640\nit gives me that stuff.\n\n371\n00:18:52.640 --> 00:18:55.140\nVery cool to be able to\nredirect that into there.\n\n372\n00:18:55.140 --> 00:18:58.740\nNow there's another cool little command\nthat we can use that will also redirect\n\n373\n00:18:58.740 --> 00:19:01.426\nthat standard output to\nthe standard output.\n\n374\n00:19:01.426 --> 00:19:04.280\nRight, it says, well, send it to the\nscreen, but if you also want to send it\n\n375\n00:19:04.280 --> 00:19:08.020\nto a file, we can do files, or\neven multiple files, as well.\n\n376\n00:19:08.020 --> 00:19:10.470\n>> Yeah, fun thing with the pipe command.\n\n377\n00:19:10.470 --> 00:19:12.570\nThey call it pipelining, right?\n\n378\n00:19:12.570 --> 00:19:14.700\nAnd just like a real pipe,\n\n379\n00:19:14.700 --> 00:19:17.050\nwhat it means is we can stack\npipe after pipe after pipe.\n\n380\n00:19:17.050 --> 00:19:21.250\nSo you could continue this on,\nthis same example, and\n\n381\n00:19:21.250 --> 00:19:25.510\nI could then pipe that into,\nlike, nl to assign line numbers.\n\n382\n00:19:25.510 --> 00:19:27.820\nLet me clear my screen so\nwe can see all this.\n\n383\n00:19:27.820 --> 00:19:28.630\nThere we go.\n\n384\n00:19:28.630 --> 00:19:30.170\n>> So, I can pipeline it in nl.\n\n385\n00:19:30.170 --> 00:19:31.290\nAnd, then I can take that and\n\n386\n00:19:31.290 --> 00:19:35.720\nI can redirect that output\ninto output.txt, right?\n\n387\n00:19:35.720 --> 00:19:38.670\nAnd, now,\nit'll pull out the directory listing,\n\n388\n00:19:38.670 --> 00:19:43.227\nit will sort it by the day of the month,\nit'll then append line numbers to it, and\n\n389\n00:19:43.227 --> 00:19:46.940\nthen at the end,\nit'll output all of that into a text file.\n\n390\n00:19:46.940 --> 00:19:50.790\nAll in one big,\nlong string here as we process that data.\n\n391\n00:19:50.790 --> 00:19:54.710\nSo pipes and redirects, you can do\nall sorts of neat stuff there to\n\n392\n00:19:54.710 --> 00:19:57.110\nredirect that and get it where we want it.\n\n393\n00:19:57.110 --> 00:20:00.560\nWe can redirect things that you mentioned,\nlike going to the screen and to a file,\n\n394\n00:20:00.560 --> 00:20:03.600\nthere's a real handy command called,\ntee, that we can use for that.\n\n395\n00:20:03.600 --> 00:20:05.840\nThe problem with this,\nif I run it, what do I see?\n\n396\n00:20:05.840 --> 00:20:06.791\nI see nothing, right?\n\n397\n00:20:06.791 --> 00:20:09.420\nIt went to a file.\n\n398\n00:20:09.420 --> 00:20:12.270\nWell, maybe I want to\nsee it on the screen,\n\n399\n00:20:12.270 --> 00:20:16.370\nas well as have it go into that file, and\nthat's where that tee command comes in.\n\n400\n00:20:16.370 --> 00:20:21.080\nSo I might pipe this one more\ntime into the tee command,\n\n401\n00:20:21.080 --> 00:20:22.680\nright, and then take that.\n\n402\n00:20:22.680 --> 00:20:25.065\nOh, actually, I guess I don't really\nneed that greater than anymore, do I?\n\n403\n00:20:25.065 --> 00:20:29.820\nWhat tee does is tee says,\nshow it on the screen, and\n\n404\n00:20:29.820 --> 00:20:31.535\noutput it to this file right here.\n\n405\n00:20:31.535 --> 00:20:35.430\nAnd so now when I run it,\nI see it on the screen, it's sorted,\n\n406\n00:20:35.430 --> 00:20:37.780\nI can tell the data has been sorted.\n\n407\n00:20:37.780 --> 00:20:40.490\nI can see the line numbers over here\non the left that have been appended, so\n\n408\n00:20:40.490 --> 00:20:42.409\nI know it did its work.\n\n409\n00:20:42.409 --> 00:20:47.915\nAnd I've got an output.txt file which is,\noh that pesky alphabet, there it is,\n\n410\n00:20:47.915 --> 00:20:53.060\noutput.txt, and if I look inside of that,\nit's in there also.\n\n411\n00:20:53.060 --> 00:20:55.280\nSo that the tee command, T-E-E.\n\n412\n00:20:55.280 --> 00:20:56.140\n>> Very cool, very cool.\n\n413\n00:20:56.140 --> 00:21:01.130\nNow that takes us to one of our probably\nmore powerful commands that you can use.\n\n414\n00:21:01.130 --> 00:21:02.740\nAnd what it does is very interesting.\n\n415\n00:21:02.740 --> 00:21:05.500\nI think this is one of the coolest\nthings that is in Linux,\n\n416\n00:21:05.500 --> 00:21:09.250\nand it usually comes by default,\nis what's called the xargs command.\n\n417\n00:21:09.250 --> 00:21:12.010\nA lot of times, you're working with\na command that can only accept so\n\n418\n00:21:12.010 --> 00:21:17.950\nmuch input, or so many operators, or so\nmuch options that you can give to it.\n\n419\n00:21:17.950 --> 00:21:19.620\nAnd once you reach the end of that,\nyou're done.\n\n420\n00:21:19.620 --> 00:21:23.140\nWell, problem is, especially when you're\nworking with scripts and things like that,\n\n421\n00:21:23.140 --> 00:21:27.865\nit might be a lot of data that you need to\npipe around or move around or redirect.\n\n422\n00:21:27.865 --> 00:21:31.440\nXargs help us do that by actually\ncreating an instance for each one of\n\n423\n00:21:31.440 --> 00:21:36.440\nthe files that they pull down, and\nrunning a command on those individually.\n\n424\n00:21:36.440 --> 00:21:39.900\n>> Yeah,\nlet's use an example here of rm, right?\n\n425\n00:21:39.900 --> 00:21:46.330\nIf I wanna delete a bunch of files, well\nrm, it can accept more than one file name.\n\n426\n00:21:46.330 --> 00:21:47.440\nA lot of commands can, right?\n\n427\n00:21:47.440 --> 00:21:48.590\nLet me show you an example.\n\n428\n00:21:48.590 --> 00:21:50.930\nSo, let's say that I create some files.\n\n429\n00:21:50.930 --> 00:21:55.110\nSo, I actually already got some files,\ndon't I, like file1.txt, file2.txt.\n\n430\n00:21:55.110 --> 00:22:01.480\nSo if I want to create some more, I could\nsay file3.txt, file4.txt, file5.txt.\n\n431\n00:22:01.480 --> 00:22:06.920\nSee how the touch command is accepting\nmore than one modifier, right?\n\n432\n00:22:06.920 --> 00:22:09.270\nAnd each one is representing\na separate file, so\n\n433\n00:22:09.270 --> 00:22:11.310\nI just created multiple\nfiles in one command.\n\n434\n00:22:11.310 --> 00:22:13.500\nWell, how far out can I do that?\n\n435\n00:22:13.500 --> 00:22:15.950\nHow many file names can I provide it?\n\n436\n00:22:15.950 --> 00:22:17.220\nWell, it depends.\n\n437\n00:22:17.220 --> 00:22:20.330\nWhen you're in your shell,\nyou're in what's called an exec session.\n\n438\n00:22:20.330 --> 00:22:23.740\nAnd, it's the exec session that determines\nexactly how much data you can provide it,\n\n439\n00:22:23.740 --> 00:22:25.910\nand it's based on a memory size, right?\n\n440\n00:22:25.910 --> 00:22:28.120\nIt can be as low five kilobytes.\n\n441\n00:22:28.120 --> 00:22:32.420\nSo five kilobytes is actually quite\na bit of text if you type that out, but\n\n442\n00:22:32.420 --> 00:22:35.580\nit might be that you're handling data\nthat's much larger than five kilobytes.\n\n443\n00:22:35.580 --> 00:22:38.699\nYour system can probably handle it,\na lot of modern systems are set to like\n\n444\n00:22:38.699 --> 00:22:40.455\na megabyte, two megabytes, which is-\n>> Could be anything [LAUGH].\n\n445\n00:22:40.455 --> 00:22:41.375\n>> Tons of text, right?\n\n446\n00:22:41.375 --> 00:22:44.465\nBut if you're dealing\nwith something even more,\n\n447\n00:22:44.465 --> 00:22:46.625\nyou'll exceed what that\none command can handle.\n\n448\n00:22:46.625 --> 00:22:48.075\nAnd so the better thing to do is,\n\n449\n00:22:48.075 --> 00:22:51.207\ninstead of running the command\nonce to create three files,\n\n450\n00:22:51.207 --> 00:22:54.677\nwhat if I ran the command three times,\neach time just creating one file?\n\n451\n00:22:54.677 --> 00:22:58.377\nThat guarantees that I'm able to run it,\nthat I stay under that memory size and\n\n452\n00:22:58.377 --> 00:22:59.907\nI don't have to worry about those limits.\n\n453\n00:22:59.907 --> 00:23:02.667\nBut I have to run the command\nmore than once, all right?\n\n454\n00:23:02.667 --> 00:23:05.617\nWhen you're pipelining,\nthat doesn't happen.\n\n455\n00:23:05.617 --> 00:23:08.417\nThe output for one command,\nthe entire output for\n\n456\n00:23:08.417 --> 00:23:13.720\nthat one command, is fed as a single\ninput into the next command.\n\n457\n00:23:13.720 --> 00:23:17.150\nif it's too big, then the next command\njust errors out, and that's it,\n\n458\n00:23:17.150 --> 00:23:18.520\nit doesn't process it.\n\n459\n00:23:18.520 --> 00:23:23.420\nBut if we use xarg, it takes\nthe output coming from one command and\n\n460\n00:23:23.420 --> 00:23:28.550\nit breaks it up so that each line is\npresented to the next command separately.\n\n461\n00:23:28.550 --> 00:23:32.070\nSo if I do something like a ls-la and\nI get ten files back?\n\n462\n00:23:32.070 --> 00:23:36.570\nThat would be presented as ten separate\nlines to the next command, right?\n\n463\n00:23:36.570 --> 00:23:39.060\nLet me show you what I mean.\n\n464\n00:23:39.060 --> 00:23:45.157\nLet's say that I wanted to delete every\nfile in this folder that was owned by me,\n\n465\n00:23:45.157 --> 00:23:45.799\nright?\n\n466\n00:23:45.799 --> 00:23:48.004\nI think they're all owned by me,\nyeah, all owned by dpezet.\n\n467\n00:23:48.004 --> 00:23:53.193\nBut maybe I wanna delete every file on\nmy entire hard drive that's owned by me,\n\n468\n00:23:53.193 --> 00:23:54.542\nby dpezet, right?\n\n469\n00:23:54.542 --> 00:23:58.976\nWell, I know I can use\nthe find command and\n\n470\n00:23:58.976 --> 00:24:03.500\nI can do a quick search for any file.\n\n471\n00:24:03.500 --> 00:24:05.764\nWhere the user is dpezet.\n\n472\n00:24:05.764 --> 00:24:08.100\nIf I do a search for that,\nit's gonna return a list.\n\n473\n00:24:08.100 --> 00:24:10.991\nHere's all the files that owned by dpezet.\n\n474\n00:24:10.991 --> 00:24:17.190\nSo I know I can get that list, and I know\nI can pipe that into the rm command.\n\n475\n00:24:17.190 --> 00:24:21.534\nAnd, I could maybe even add a little\nmore to that like -f to force it just in\n\n476\n00:24:21.534 --> 00:24:23.940\ncase they're re-homing or whatever.\n\n477\n00:24:23.940 --> 00:24:27.310\nSo if I were to run this it'll\ndelete all those files, and well,\n\n478\n00:24:27.310 --> 00:24:29.020\nI'll get an error for that directory.\n\n479\n00:24:29.020 --> 00:24:30.420\nI can't delete ./.\n\n480\n00:24:30.420 --> 00:24:31.990\nBut it can delete all these other ones.\n\n481\n00:24:31.990 --> 00:24:33.930\nAnd it would delete those out and\nwipe them out and\n\n482\n00:24:33.930 --> 00:24:36.280\nthat would be the end of this.\n\n483\n00:24:36.280 --> 00:24:42.406\nMaybe a little more specific and\nsay that the name is file*.\n\n484\n00:24:42.406 --> 00:24:45.370\nSo I wanna delete any file that\nstarts with the word file that's\n\n485\n00:24:45.370 --> 00:24:48.100\nalso owned by dpezet, delete it out.\n\n486\n00:24:48.100 --> 00:24:50.990\nWell, this command will work cuz there's\nonly a handful of files there, but\n\n487\n00:24:50.990 --> 00:24:53.530\nif this is a script that\nruns once a night, and\n\n488\n00:24:53.530 --> 00:24:58.980\nthen one day I have millions of files cuz\nmaybe I compiled my own Linux kernel.\n\n489\n00:24:58.980 --> 00:25:01.870\nSo you generate tons of\nfiles when you do that.\n\n490\n00:25:01.870 --> 00:25:05.320\nSo, I run this and\nthe output from the find command,\n\n491\n00:25:06.430 --> 00:25:11.620\nexceeds the size that the input for\nrm can be well, that's a problem.\n\n492\n00:25:11.620 --> 00:25:14.700\nSo, I can leverage xargs to fix that.\n\n493\n00:25:14.700 --> 00:25:19.450\nI can come in and I can say, I'll make\na little more room on my screen here.\n\n494\n00:25:19.450 --> 00:25:25.898\nI can pipe that into xargs and then I\ncan say that I wanna do something like,\n\n495\n00:25:25.898 --> 00:25:30.150\nwell, I can just xargs rm -f.\n\n496\n00:25:30.150 --> 00:25:35.474\nAnd if I do that, now, what it's gonna\ndo is xarge is gonna say go through,\n\n497\n00:25:35.474 --> 00:25:37.427\nI don't really need the f.\n\n498\n00:25:37.427 --> 00:25:41.785\nIt's gonna say,\ntake the output from find, and\n\n499\n00:25:41.785 --> 00:25:47.111\nrun it once for line one, so\nit'll run rm for file5.txt.\n\n500\n00:25:47.111 --> 00:25:52.680\nAnd then it'll run rm again for show.sh,\nand then it'll run rm again for file3.txt.\n\n501\n00:25:52.680 --> 00:25:54.910\nIt'll delete each one individually.\n\n502\n00:25:54.910 --> 00:25:58.530\nSo if you're worried about that memory\nsize, or maybe it's not even memory size,\n\n503\n00:25:58.530 --> 00:26:02.260\nmaybe you've got a command that\nwon't accept multiple files at once.\n\n504\n00:26:02.260 --> 00:26:05.931\nI was telling Daniel before the show,\nI had to write a script like this\n\n505\n00:26:05.931 --> 00:26:10.300\na few months ago that would convert text\nfiles to PDFs, and that command would only\n\n506\n00:26:10.300 --> 00:26:14.070\naccept one input file at a time cuz it\nonly did one output file at a time.\n\n507\n00:26:14.070 --> 00:26:17.868\nSo I couldn't just send 100\nfiles to this PDF converter.\n\n508\n00:26:17.868 --> 00:26:20.690\nI had to send it one file at a time and\nI used xarg to do it.\n\n509\n00:26:20.690 --> 00:26:23.690\nSo it would feed it through and\nrun it once per file.\n\n510\n00:26:23.690 --> 00:26:26.800\nThen when it runs, it goes through and\ndeletes them and that's the end of it.\n\n511\n00:26:26.800 --> 00:26:30.520\nNow, I do need to tell xarg how\nto know the difference between\n\n512\n00:26:30.520 --> 00:26:32.060\none line and the next.\n\n513\n00:26:32.060 --> 00:26:34.700\nAnd you do that by\ndenoting the deliminator.\n\n514\n00:26:34.700 --> 00:26:41.130\nAnd the deliminator, in my case is /n,\nwhich is the new line symbol.\n\n515\n00:26:41.130 --> 00:26:44.980\nSo after each file there's a new line\nsymbol where it moves to the next line.\n\n516\n00:26:44.980 --> 00:26:47.870\nAnd that's how it knows how to\nseparate the values that we're gonna\n\n517\n00:26:47.870 --> 00:26:48.620\nbe providing to rm.\n\n518\n00:26:49.620 --> 00:26:50.930\nSo I need to provide that.\n\n519\n00:26:50.930 --> 00:26:53.210\nThat should be all I need.\n\n520\n00:26:53.210 --> 00:26:57.470\nAnd that right there should wipe\nout any file that I own and\n\n521\n00:26:57.470 --> 00:27:01.040\nlet's see paths must proceed\nexpression file2.text.\n\n522\n00:27:01.040 --> 00:27:03.140\nApparently, I've got\na typo in here somewhere.\n\n523\n00:27:03.140 --> 00:27:05.080\nSo let's see.\n\n524\n00:27:05.080 --> 00:27:05.800\nWhat did I do wrong?\n\n525\n00:27:05.800 --> 00:27:09.723\nThat's probably my file* notation.\n\n526\n00:27:09.723 --> 00:27:11.314\nLet's just go with that.\n\n527\n00:27:11.314 --> 00:27:12.172\nThere we go.\n\n528\n00:27:12.172 --> 00:27:16.339\nSo I got an error when\nit tried to remove ./.\n\n529\n00:27:16.339 --> 00:27:18.117\nSo you can't remove that.\n\n530\n00:27:18.117 --> 00:27:20.821\nThat's like a virtual or a logical entry.\n\n531\n00:27:20.821 --> 00:27:22.342\nBut everything else is gone.\n\n532\n00:27:22.342 --> 00:27:24.072\nSee all my files are gone?\n\n533\n00:27:24.072 --> 00:27:27.423\nIt found every file owned by Don Pezet,\nand it went through and\n\n534\n00:27:27.423 --> 00:27:28.658\nknocked each one out.\n\n535\n00:27:28.658 --> 00:27:30.736\nBut it didn't run rm just once.\n\n536\n00:27:30.736 --> 00:27:35.072\nIt ran rm once for every single file\nindividual, so it ran it about 12,\n\n537\n00:27:35.072 --> 00:27:37.860\n13 times, however, many files are there.\n\n538\n00:27:37.860 --> 00:27:38.661\n>> Very cool.\n\n539\n00:27:38.661 --> 00:27:41.747\nNow there seems like there's a lot of\npower behind these tools, so even though\n\n540\n00:27:41.747 --> 00:27:44.767\ntheir very simple in their application,\nyou can do a lot of stuff with them.\n\n541\n00:27:44.767 --> 00:27:45.423\nThat rm command,\n\n542\n00:27:45.423 --> 00:27:48.586\nyou imagine running that against the root\ndirectory with the super user privileges.\n\n543\n00:27:48.586 --> 00:27:50.785\n>> [LAUGH]\n>> You might be rebuilding a server at\n\n544\n00:27:50.785 --> 00:27:53.648\nthat point, so should be careful\nwith them as you implement them.\n\n545\n00:27:53.648 --> 00:27:57.445\nWell, Don, I think we've about covered our\nbases with streams and redirectors today.\n\n546\n00:27:57.445 --> 00:27:58.583\nAnything else?\n\n547\n00:27:58.583 --> 00:27:59.385\n>> Nah, I think that's about it.\n\n548\n00:27:59.385 --> 00:28:00.185\n>> I think that's about it.\n\n549\n00:28:00.185 --> 00:28:03.122\nWell, I guess that comes to\nanother great show by ITProTv.\n\n550\n00:28:03.122 --> 00:28:04.318\nI hope you guys have enjoyed it.\n\n551\n00:28:04.318 --> 00:28:05.745\nI've been your host, Daniel Lowery.\n\n552\n00:28:05.745 --> 00:28:06.824\n>> And I'm Don Pezet.\n\n553\n00:28:06.824 --> 00:28:07.824\n>> And we'll see you next time.\n\n554\n00:28:07.824 --> 00:28:12.758\n[SOUND]\n\n",
          "vimeoId": "128989506"
        },
        {
          "description": null,
          "length": "1859",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-1-3-processing_text-052015.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-1-3-processing_text-052015-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-1-3-processing_text-052015-sm.jpg",
          "title": "Processing Text",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:32.993 --> 00:00:37.760\nAll right everyone, greetings and welcome\nto another great episode of ITProTV.\n\n3\n00:00:37.760 --> 00:00:40.460\nI'm your host, Daniel Lowrie, and\nhere with me today is Don Pezet.\n\n4\n00:00:40.460 --> 00:00:41.270\nHow are you doing today, Don?\n\n5\n00:00:41.270 --> 00:00:41.960\n>> I'm doing great.\n\n6\n00:00:41.960 --> 00:00:42.830\nHow about yourself, Daniel?\n\n7\n00:00:42.830 --> 00:00:43.960\n>> Man, I cannot complain.\n\n8\n00:00:43.960 --> 00:00:47.830\nWe are jumping into this Linux+ class\nthat we're trying to teach you guys,\n\n9\n00:00:47.830 --> 00:00:49.950\nget you schooled up in THE Linux cuz,\nwell,\n\n10\n00:00:49.950 --> 00:00:52.470\nit does seem to be a bit of\na mystery to a lot of people.\n\n11\n00:00:52.470 --> 00:00:56.920\nSo hopefully we'll dispel a lot of that,\nget you ready for that Linux+ exam, maybe,\n\n12\n00:00:56.920 --> 00:00:59.420\nif you're trying to school yourself up for\nthat.\n\n13\n00:00:59.420 --> 00:01:01.880\nAnd then jump in right\ninto that command line.\n\n14\n00:01:01.880 --> 00:01:05.300\nThat's a place where we gotta be from time\nto time, especially if you're working in\n\n15\n00:01:05.300 --> 00:01:10.420\nLinux you're gonna be a lot of seat\ntime behind that CLI, as it were.\n\n16\n00:01:10.420 --> 00:01:14.650\nThat being said, now we do need to\nprocess some text every now and then.\n\n17\n00:01:14.650 --> 00:01:17.630\nYou're gonna always see a lot of text,\nespecially if you're in that CLI.\n\n18\n00:01:17.630 --> 00:01:18.270\nRight, Don?\n\n19\n00:01:18.270 --> 00:01:21.040\n>> Yeah, if you've been watching our\nepisodes in order you've already seen some\n\n20\n00:01:21.040 --> 00:01:22.330\nof our command line episodes,\n\n21\n00:01:22.330 --> 00:01:25.840\nand in Linux, part of the power that\nyou get with it is that it's so\n\n22\n00:01:25.840 --> 00:01:28.840\neasy to administer your servers and\nworkstations from the command-line.\n\n23\n00:01:28.840 --> 00:01:31.460\nYou can write scripts to do all\nsorts of phenomenal things.\n\n24\n00:01:31.460 --> 00:01:35.250\nAnd the really cool part is when we\ntake the output of one command and\n\n25\n00:01:35.250 --> 00:01:38.180\nfeed it as the input to\nanother command you chain your\n\n26\n00:01:38.180 --> 00:01:41.860\ncommands together into a pipeline to\nperform all sorts of cool actions.\n\n27\n00:01:41.860 --> 00:01:47.240\nThe problem is sometimes the output of\none command is not exactly the way we\n\n28\n00:01:47.240 --> 00:01:50.685\nneed it for that second command to receive\nit, so we need to manipulate it a bit.\n\n29\n00:01:50.685 --> 00:01:52.445\nAnd that's what this episode is all about.\n\n30\n00:01:52.445 --> 00:01:55.825\nWe're going to talk about how to\nmanipulate files in their content and\n\n31\n00:01:55.825 --> 00:01:58.785\ncommand output to put it\ninto the right format for\n\n32\n00:01:58.785 --> 00:02:00.875\nwhat we need for performance or action.\n\n33\n00:02:00.875 --> 00:02:03.905\nNow, there's a ton of\ncommands that are built into\n\n34\n00:02:03.905 --> 00:02:07.085\ndarn near every Linux distribution\nthat can provide this functionality.\n\n35\n00:02:07.085 --> 00:02:08.675\nMost of it is very, very old.\n\n36\n00:02:08.675 --> 00:02:10.520\nIt was created back in the Unix days.\n\n37\n00:02:10.520 --> 00:02:13.900\nSo some of this stuff we're going\nto see is still on the exam and\n\n38\n00:02:13.900 --> 00:02:15.530\nnot necessarily relevant anymore.\n\n39\n00:02:15.530 --> 00:02:19.410\nBut a lot of it is stuff you'll use on\na regular basis to form that output.\n\n40\n00:02:19.410 --> 00:02:22.781\n>> Yeah, a lot of times when you're\nbumping around in the Linux in\n\n41\n00:02:22.781 --> 00:02:26.930\nthe CLI that output shows up on your\nscreen and you're like whoa there buddy.\n\n42\n00:02:26.930 --> 00:02:30.360\nThat's a lot of stuff,\nhow can I pare this down.\n\n43\n00:02:30.360 --> 00:02:32.640\nHow can I make it a little\neasier to digest.\n\n44\n00:02:32.640 --> 00:02:36.850\nOr maybe I just want to take that output\nand not have it jump to my screen, or\n\n45\n00:02:36.850 --> 00:02:40.920\nI need it to go to my screen into a file,\nor put it into another command.\n\n46\n00:02:40.920 --> 00:02:43.080\nLike Don was talking about,\ngrep it into something else,\n\n47\n00:02:43.080 --> 00:02:48.400\nor just our pipe operator being able to\npush that output into another command.\n\n48\n00:02:48.400 --> 00:02:52.100\nCan become very helpful but\nwe gotta know how to do that, right Don.\n\n49\n00:02:52.100 --> 00:02:53.000\n>> Yeah.\nNow you are already\n\n50\n00:02:53.000 --> 00:02:56.330\ntechnically manipulating text a little\nbit whenever you run any command.\n\n51\n00:02:56.330 --> 00:02:58.425\nSo for example, let me just show you here,\n\n52\n00:02:58.425 --> 00:03:01.600\nwe'll bring up my little Linux box\nthat I have got on my machine here.\n\n53\n00:03:01.600 --> 00:03:04.550\nWhen you run a command like LS\nto pull up a directory listing,\n\n54\n00:03:04.550 --> 00:03:08.020\nright, what it's doing is it's\npulling up a list of files and\n\n55\n00:03:08.020 --> 00:03:12.660\nthen it takes that list, it formats it\na certain way, and then it displays it to\n\n56\n00:03:12.660 --> 00:03:18.010\nwhat's called the standard outer, STD out\nand that's what you see on the screen.\n\n57\n00:03:18.010 --> 00:03:21.800\nNow it looks like I haven't really\nmanipulated this text at all but\n\n58\n00:03:21.800 --> 00:03:24.160\nthe system has for me,\nlike it colorized it.\n\n59\n00:03:24.160 --> 00:03:27.350\nSee how it made my directories blue,\nthey're not normally blue,\n\n60\n00:03:27.350 --> 00:03:28.840\nit's just done that for us.\n\n61\n00:03:28.840 --> 00:03:32.690\nSo Linux is always processing the text and\nthe output that we get.\n\n62\n00:03:32.690 --> 00:03:34.455\nWe can do the same thing\nwith files though.\n\n63\n00:03:34.455 --> 00:03:40.660\nSo for example in my documents folder\nI've got a file called first, right?\n\n64\n00:03:40.660 --> 00:03:45.130\nSo here's this file called first,\nand if I do more first.txt,\n\n65\n00:03:45.130 --> 00:03:49.330\nI can see the contents of that file and\nit's just data from the first file.\n\n66\n00:03:49.330 --> 00:03:53.740\nAnd if I do more second.txt,\nI can see it's got well,\n\n67\n00:03:53.740 --> 00:03:55.710\ndata from the second file, right?\n\n68\n00:03:55.710 --> 00:04:01.130\nWhat if I wanted to combine the text\nfrom those two files into one, well,\n\n69\n00:04:01.130 --> 00:04:02.690\ncombined file, [LAUGH] right?\n\n70\n00:04:02.690 --> 00:04:05.430\nWell, we can do that\nusing the cat command.\n\n71\n00:04:06.440 --> 00:04:09.660\nCat, not like the animal,\nit's short for concatenate.\n\n72\n00:04:09.660 --> 00:04:13.440\nWhat it'll let you do is combine outputs\nfrom more than one source to create\n\n73\n00:04:13.440 --> 00:04:14.920\na single output.\n\n74\n00:04:14.920 --> 00:04:21.530\nSo I can run cat first.txt second.txt.\n\n75\n00:04:21.530 --> 00:04:24.750\nAnd that cat command is gonna\njust combine those two together.\n\n76\n00:04:24.750 --> 00:04:29.540\nAnd now I get data from first file, data\nfrom second file as if it was one file.\n\n77\n00:04:29.540 --> 00:04:30.230\nRight.\nSo quick,\n\n78\n00:04:30.230 --> 00:04:35.230\neasy way to combine text like this and\nit's doing it vertically, right?\n\n79\n00:04:35.230 --> 00:04:38.720\nSo I get the first file output, and\nthen the second file output, and\n\n80\n00:04:38.720 --> 00:04:40.240\nif I had more, third file,\nfourth file, and\n\n81\n00:04:40.240 --> 00:04:44.070\nso on, they would each be just added right\nthere, vertically, one after another.\n\n82\n00:04:44.070 --> 00:04:45.580\nSo, cat, it's a good command.\n\n83\n00:04:45.580 --> 00:04:50.200\n>> Now, there's another couple commands\nthat we can use to kind of try to get some\n\n84\n00:04:50.200 --> 00:04:53.160\nthings put together, like join,\nthat's also another good one for\n\n85\n00:04:53.160 --> 00:04:56.180\ndoing kind of what we're right here,\nput those things.\n\n86\n00:04:56.180 --> 00:04:59.860\n>> Yeah, join is really similar except\nit's got a little bit of a variation.\n\n87\n00:04:59.860 --> 00:05:03.451\nNotice I've got a few other files in\nhere that's like listing 1.1.text and\n\n88\n00:05:03.451 --> 00:05:04.270\nlisting 1.2.\n\n89\n00:05:04.270 --> 00:05:06.560\nLet me show you what's in those.\n\n90\n00:05:06.560 --> 00:05:11.043\nSo if I look at listing1.1.text, right.\n\n91\n00:05:11.043 --> 00:05:12.450\nI guess I have to spell it right?\n\n92\n00:05:12.450 --> 00:05:13.190\nOh, yeah.\n\n93\n00:05:13.190 --> 00:05:14.030\nPeriods instead of commas.\n\n94\n00:05:14.030 --> 00:05:14.820\nThere we go.\n\n95\n00:05:14.820 --> 00:05:18.000\nI can see that it's got some employee\nphone numbers and names, right?\n\n96\n00:05:18.000 --> 00:05:19.715\nSo here's my employee names,\ntheir phone numbers.\n\n97\n00:05:19.715 --> 00:05:22.900\nIf I look at listing1.2.text.\n\n98\n00:05:22.900 --> 00:05:25.550\nIt's got the phone numbers and\nwhat their status is,\n\n99\n00:05:25.550 --> 00:05:28.590\nwhether they're an unlisted number or\na listed number.\n\n100\n00:05:28.590 --> 00:05:34.020\nNow if I were to cat these,\nif I do a cat listing1.1.txt and\n\n101\n00:05:34.020 --> 00:05:37.445\n1.2.txt It does it vertically.\n\n102\n00:05:37.445 --> 00:05:40.915\nIt displays the first file and\nthen the second file.\n\n103\n00:05:40.915 --> 00:05:45.815\nBut if I want to do it horizontally where\nlisting 1.1 text is on the left and\n\n104\n00:05:45.815 --> 00:05:48.647\nlisting 1.2 text is on the right.\n\n105\n00:05:48.647 --> 00:05:50.007\nCat can't do that, right?\n\n106\n00:05:50.007 --> 00:05:52.867\nBut I can use the join command,\nand the join command can.\n\n107\n00:05:52.867 --> 00:05:54.687\nIt can do this horizontally.\n\n108\n00:05:54.687 --> 00:05:59.327\nThe join command is a little more complex,\nactually it's not really all that complex.\n\n109\n00:05:59.327 --> 00:06:04.105\nIf we basically take these and feed\n\n110\n00:06:04.105 --> 00:06:08.810\nthem in just like I did just\na moment ago like that.\n\n111\n00:06:08.810 --> 00:06:09.950\nSee what it did?\n\n112\n00:06:09.950 --> 00:06:12.220\nHow now I've got it on the left and\n\n113\n00:06:12.220 --> 00:06:16.140\nthen on the right, and\nnow they're listed in order, okay?\n\n114\n00:06:16.140 --> 00:06:18.490\nNow, I say that join is\na little bit more complex, but\n\n115\n00:06:18.490 --> 00:06:21.580\nI ran it kind of the same way as cat.\n\n116\n00:06:21.580 --> 00:06:23.550\nWell, notice there is a little variation.\n\n117\n00:06:23.550 --> 00:06:26.735\nSee how I've got phone numbers in the\nfirst file and I've got phone numbers in\n\n118\n00:06:26.735 --> 00:06:29.734\nthe second file, but down here,\nI've only got the phone numbers once.\n\n119\n00:06:29.734 --> 00:06:33.377\nWhat the join command does, is it\nactually looks at the data and is says,\n\n120\n00:06:33.377 --> 00:06:37.460\nlet me look at the very first field of\ndata, and that's what I'm gonna join on.\n\n121\n00:06:37.460 --> 00:06:40.360\nThat's the common, the unique value for\neach of these entities.\n\n122\n00:06:40.360 --> 00:06:42.640\nSo it is actually doing some\nfield mappings in there.\n\n123\n00:06:42.640 --> 00:06:44.850\nAnd that's why my phone\nnumber only shows once.\n\n124\n00:06:44.850 --> 00:06:48.110\nAnd if you look at\nthe join help file you'll\n\n125\n00:06:48.110 --> 00:06:52.570\nsee there's actually a ton of alternate\nthings that we can do in here with join\n\n126\n00:06:52.570 --> 00:06:55.220\nto indicate what field we wanna map on.\n\n127\n00:06:55.220 --> 00:06:56.570\nAnd how we wanna format that output.\n\n128\n00:06:56.570 --> 00:06:58.270\nIt's a very powerful command.\n\n129\n00:06:58.270 --> 00:07:02.790\nBut for the exam, basically what\nyou need to remember is that cat\n\n130\n00:07:02.790 --> 00:07:05.530\ncan join files vertically,\none after the other.\n\n131\n00:07:05.530 --> 00:07:10.460\nJoin can combine them horizontally,\none beside the other.\n\n132\n00:07:10.460 --> 00:07:14.224\nAnd that's really useful for building\nthings like CSV files for bulk imports and\n\n133\n00:07:14.224 --> 00:07:15.061\nstuff like that.\n\n134\n00:07:15.061 --> 00:07:17.745\n>> Yeah.\nNow, another similar command to the join\n\n135\n00:07:17.745 --> 00:07:21.983\nand the cat is also paste as well, where\nit actually puts in a tab delimiter, or\n\n136\n00:07:21.983 --> 00:07:25.570\nsomething like that,\nto kinda separate it out a little more.\n\n137\n00:07:25.570 --> 00:07:28.460\n>> Yeah, it's one of those [LAUGH]\ncommands that I never really use.\n\n138\n00:07:28.460 --> 00:07:29.250\nI'm aware of it.\n\n139\n00:07:29.250 --> 00:07:32.270\nIf you wanted to create\na tab separated values file,\n\n140\n00:07:32.270 --> 00:07:35.390\nas opposed to like a common\nseparated values, you could do that.\n\n141\n00:07:35.390 --> 00:07:39.450\nBut very similar,\nif we were to run paste, and\n\n142\n00:07:39.450 --> 00:07:42.730\nthen feed our files into it,\nit would just combine those together.\n\n143\n00:07:42.730 --> 00:07:48.753\nSo if I take listing 1.1, and listing 1.2\nand use paste, notice that it's got them.\n\n144\n00:07:48.753 --> 00:07:50.622\nAnd see how it didn't do like join.\n\n145\n00:07:50.622 --> 00:07:51.655\nIt didn't match those phone numbers.\n\n146\n00:07:51.655 --> 00:07:53.096\nSo now they are separate.\n\n147\n00:07:53.096 --> 00:07:58.640\nAnd it put a tab in between\nthe first file and the second file.\n\n148\n00:07:58.640 --> 00:07:59.830\nSo that's what pace does.\n\n149\n00:07:59.830 --> 00:08:03.550\nAgain basically combining them\nhorizontally as opposed to vertically.\n\n150\n00:08:03.550 --> 00:08:06.870\n>> Yeah, now there are tons of\ndifferent other file manipulations or\n\n151\n00:08:06.870 --> 00:08:07.880\ntext manipulation.\n\n152\n00:08:07.880 --> 00:08:10.350\nThings that we have plenty of them.\n\n153\n00:08:10.350 --> 00:08:13.270\nWe can get into a laundry\nlist to be honest with you.\n\n154\n00:08:13.270 --> 00:08:14.640\n>> Yeah.\n>> You could probably never\n\n155\n00:08:14.640 --> 00:08:16.710\nactually reach the end of the Linux.\n\n156\n00:08:16.710 --> 00:08:19.150\nIt has so many different options for\nyou to use.\n\n157\n00:08:19.150 --> 00:08:20.470\nYou just find the ones that work for you.\n\n158\n00:08:20.470 --> 00:08:21.660\nCat is a great one.\n\n159\n00:08:21.660 --> 00:08:23.000\nThe join command is another great one.\n\n160\n00:08:23.000 --> 00:08:26.590\nYou're probably going to end\nup using these a lot as you\n\n161\n00:08:26.590 --> 00:08:31.355\nwork with the system itself, because they\nbecome very handy, and as you develop some\n\n162\n00:08:31.355 --> 00:08:35.051\ntime with that system itself, it's going\nto become easier and easier to use.\n\n163\n00:08:35.051 --> 00:08:38.795\nYou're gonna find quirky little ways\nin which you can actually employ it.\n\n164\n00:08:38.795 --> 00:08:42.530\nYou start looking on the Internet and you\nsee different people and the way they've\n\n165\n00:08:42.530 --> 00:08:45.776\nused and the say oh, I use cat like this,\ndid you know you could [SOUND] and\n\n166\n00:08:45.776 --> 00:08:48.020\nyou think oh it's such\na simple little command.\n\n167\n00:08:48.020 --> 00:08:50.960\nBut it can get very complex,\nand very handy.\n\n168\n00:08:50.960 --> 00:08:53.955\nEspecially when you're writing scripts,\nand doing things like that, and\n\n169\n00:08:53.955 --> 00:08:57.550\nLinux environment, especially as you're\nan administrator of that environment,\n\n170\n00:08:57.550 --> 00:09:00.120\nthat's going to be very,\nvery helpful for you.\n\n171\n00:09:00.120 --> 00:09:03.130\nAnd as you develop that\nrange of understanding,\n\n172\n00:09:03.130 --> 00:09:06.712\neven with simple commands like that,\nit'll help you out along your way.\n\n173\n00:09:06.712 --> 00:09:10.980\n>> Yeah, and speaking of unique ways to\nuse this stuff, some of these commands,\n\n174\n00:09:10.980 --> 00:09:15.185\nthey haven't been around all that long,\nand so your hard core, old school,\n\n175\n00:09:15.185 --> 00:09:16.686\nLinux users or Unix users.\n\n176\n00:09:16.686 --> 00:09:21.770\nThey might use different commands because\nthat was how they had to do it originally.\n\n177\n00:09:21.770 --> 00:09:24.180\nWhen I wanted to pull up\nthe listing of those files,\n\n178\n00:09:24.180 --> 00:09:27.130\nto see the file contents,\nI used the more command.\n\n179\n00:09:27.130 --> 00:09:28.690\nI typed more and then the file name.\n\n180\n00:09:28.690 --> 00:09:30.990\nWell the more command wasn't always there.\n\n181\n00:09:30.990 --> 00:09:32.880\nBack in the old Unix days,\n\n182\n00:09:32.880 --> 00:09:35.870\nif you wanted to view a file,\nyou actually use the cat command.\n\n183\n00:09:35.870 --> 00:09:37.700\nConcatenate can join more than one file,\n\n184\n00:09:37.700 --> 00:09:41.662\nbut if you just feed it one file as\nits modifier, so you say cat and\n\n185\n00:09:41.662 --> 00:09:44.240\ngive it an input of a single file,\nit just displays that one file.\n\n186\n00:09:44.240 --> 00:09:46.760\nSo that was an easy way to\npull up a file listing.\n\n187\n00:09:46.760 --> 00:09:48.993\nMore added in things like pagination and\nstuff.\n\n188\n00:09:48.993 --> 00:09:52.314\nSo if you don't need that, you could\nactually use cat just to view files.\n\n189\n00:09:52.314 --> 00:09:53.430\n>> Yeah.\n\n190\n00:09:53.430 --> 00:09:56.840\nNow, another thing you might wanna do\nis actually sort your data around.\n\n191\n00:09:56.840 --> 00:09:57.930\nThat could be helpful.\n\n192\n00:09:57.930 --> 00:10:02.300\nI could think of a few ways we might wanna\nactually sort stuff out, and goodness,\n\n193\n00:10:02.300 --> 00:10:06.240\nwell Linux does provide us a way to do\nthat and it does have the sort command.\n\n194\n00:10:06.240 --> 00:10:08.000\nDon, tell us a little bit\nabout the sort command.\n\n195\n00:10:08.000 --> 00:10:08.670\nHow can we use it?\n\n196\n00:10:08.670 --> 00:10:09.460\nWhere is it gonna work for us?\n\n197\n00:10:09.460 --> 00:10:09.972\n>> All right,\n\n198\n00:10:09.972 --> 00:10:13.313\nso when you're pulling data out of a file,\nlike one of my listing files here.\n\n199\n00:10:13.313 --> 00:10:16.593\nLet me do this,\nI'll pull up listing1.1.txt again and\n\n200\n00:10:16.593 --> 00:10:20.080\nin here I've got people listed\nby phone number, right?\n\n201\n00:10:20.080 --> 00:10:21.940\nWell, what is this sorted by?\n\n202\n00:10:21.940 --> 00:10:22.810\nIt's not sorted by anything.\n\n203\n00:10:22.810 --> 00:10:25.080\nIt's sorted by whoever entered\nthis into the text file.\n\n204\n00:10:25.080 --> 00:10:27.020\nThey typed it in this order and that's it.\n\n205\n00:10:27.020 --> 00:10:31.180\nBut we can use the sort command\nto change that ordering around.\n\n206\n00:10:31.180 --> 00:10:33.250\nAnd that's gonna make it\ndisplay in a different manner.\n\n207\n00:10:33.250 --> 00:10:37.540\nNow the sort command does take a few\nmodifiers and so you'll see, and\n\n208\n00:10:37.540 --> 00:10:40.800\nit's a little help documentation,\n-k is the most important one.\n\n209\n00:10:40.800 --> 00:10:41.860\nThis guy right here.\n\n210\n00:10:41.860 --> 00:10:43.080\nWhich is your key.\n\n211\n00:10:43.080 --> 00:10:45.870\nWhen you sort,\nwhat are you going to sort by?\n\n212\n00:10:45.870 --> 00:10:48.330\nWhat's going to indicate\nthe thing that we sort by?\n\n213\n00:10:48.330 --> 00:10:48.900\nBy default,\n\n214\n00:10:48.900 --> 00:10:52.260\nthis is going to sort by the very first\nvalues that it encounters in the file.\n\n215\n00:10:52.260 --> 00:10:53.616\nSo you don't have to use -k, but\n\n216\n00:10:53.616 --> 00:10:55.753\nif you wanna sort by something different,\nyou can.\n\n217\n00:10:55.753 --> 00:11:02.360\nSo if I take that file,\nthis listing 1.1.text.\n\n218\n00:11:02.360 --> 00:11:06.534\nI could pipe that output into sort,\nand then I could tell it, hey,\n\n219\n00:11:06.534 --> 00:11:09.291\nI wanna sort that data,\nand I wanna sort it,\n\n220\n00:11:09.291 --> 00:11:13.120\nwell, I can just pipe it into the sort and\nleave it like that.\n\n221\n00:11:13.120 --> 00:11:15.570\nAnd what it's gonna do is sort by\njust the very first information.\n\n222\n00:11:15.570 --> 00:11:16.600\nAnd am I already sorted?\n\n223\n00:11:16.600 --> 00:11:20.700\nOh, it's entered in and\nit's already sorted by phone number.\n\n224\n00:11:20.700 --> 00:11:22.415\nSo they all start with 555-.\n\n225\n00:11:22.415 --> 00:11:25.190\nSo,the very next thing,\nwe've got two, five, seven, nine, so\n\n226\n00:11:25.190 --> 00:11:27.130\nit's kind of already sorted by that.\n\n227\n00:11:27.130 --> 00:11:30.448\nBut we could add in -k, and\ntell it to sort by a different field,\n\n228\n00:11:30.448 --> 00:11:31.900\nlike field three.\n\n229\n00:11:31.900 --> 00:11:34.912\nAnd now, it's gonna go through and\nit's gonna sort.\n\n230\n00:11:34.912 --> 00:11:37.828\nYou know, this whole thing\nis already sorted, isn't it?\n\n231\n00:11:37.828 --> 00:11:39.315\n>> Yeah, it's entirely sorted.\n\n232\n00:11:39.315 --> 00:11:41.625\nEvery way you can think of.\n[LAUGH] >> Yeah, well that's pretty lame.\n\n233\n00:11:41.625 --> 00:11:42.805\nOh, no, there.\n\n234\n00:11:42.805 --> 00:11:43.610\nLast name.\n\n235\n00:11:43.610 --> 00:11:47.150\nSo, we've got Beckett,\nCarter, Orwell, Jones.\n\n236\n00:11:47.150 --> 00:11:49.300\nJones should come before Orwell.\n\n237\n00:11:49.300 --> 00:11:50.830\nWell that's field number two.\n\n238\n00:11:50.830 --> 00:11:55.550\nSo I just pipe that through sort -k 2 and\nnow it's sorting that.\n\n239\n00:11:55.550 --> 00:11:58.140\nAnd see how Jones is before Orwell now.\n\n240\n00:11:58.140 --> 00:12:01.520\nSo it's rearranged that list based\non what I wanted it to sort by.\n\n241\n00:12:01.520 --> 00:12:05.170\nThat's great for things like file\nlisting or other areas, user accounts.\n\n242\n00:12:05.170 --> 00:12:07.530\nYou can pull a list of user accounts and\nsort them by a certain value.\n\n243\n00:12:07.530 --> 00:12:10.210\nYou can do that and it's pretty handy.\n\n244\n00:12:10.210 --> 00:12:13.300\n>> Yeah, it's interesting how\nLinux can immediately interpret\n\n245\n00:12:13.300 --> 00:12:16.960\nthe fact that there are multiple\nfields within that file itself.\n\n246\n00:12:16.960 --> 00:12:18.620\nThat you have one as a phone number,\n\n247\n00:12:18.620 --> 00:12:22.750\neven though you're not saying this is\na phone number, or this is a last name.\n\n248\n00:12:22.750 --> 00:12:23.620\nThis is a first name.\n\n249\n00:12:23.620 --> 00:12:27.230\nIt just sees that there is either a space\nor a comma or something like that and\n\n250\n00:12:27.230 --> 00:12:29.340\nit's delimiting those\nbased off of those fields.\n\n251\n00:12:29.340 --> 00:12:30.120\nIt does that for you.\n\n252\n00:12:30.120 --> 00:12:31.770\nIt's very intuitive, actually.\n\n253\n00:12:31.770 --> 00:12:34.390\nA quite cool little\nthing you can do there.\n\n254\n00:12:34.390 --> 00:12:35.500\nNow, not the only thing we can do.\n\n255\n00:12:35.500 --> 00:12:39.160\nSometimes, files can be very,\nvery long as well, right, Don?\n\n256\n00:12:39.160 --> 00:12:45.100\nAnd you need to know a certain specific\nline that you need to go to edit that or\n\n257\n00:12:45.100 --> 00:12:46.690\npull data from that.\n\n258\n00:12:46.690 --> 00:12:50.810\nBut we can actually find those numbers and\nmake Linux show us where exactly that\n\n259\n00:12:50.810 --> 00:12:52.850\nis without having to go one,\ntwo, three, four, five, right?\n\n260\n00:12:52.850 --> 00:12:54.960\n>> Yeah,\nthis is one I use a lot in debugging.\n\n261\n00:12:54.960 --> 00:12:57.380\nYou guys might have\nencountered this in the past.\n\n262\n00:12:57.380 --> 00:12:59.870\nYou run some program or\nyou run a script, and\n\n263\n00:12:59.870 --> 00:13:02.450\nit tells you error encountered\non line number 55.\n\n264\n00:13:02.450 --> 00:13:06.430\nAnd you go well, great,\nI wonder what line 55 is, right?\n\n265\n00:13:06.430 --> 00:13:09.930\nYou use the more command or cat or\nwhatever to view the file and\n\n266\n00:13:09.930 --> 00:13:12.280\nyou look at it and you're like,\nwell, which one is line 55?\n\n267\n00:13:12.280 --> 00:13:13.760\nI could sit here and count.\n\n268\n00:13:13.760 --> 00:13:16.340\nWell we have the nl command, right?\n\n269\n00:13:16.340 --> 00:13:18.430\nWhich does numbered lines.\n\n270\n00:13:18.430 --> 00:13:21.570\nAnd you can take any output and\nattach numbers to it.\n\n271\n00:13:21.570 --> 00:13:25.430\nSo if I got an error importing this\nfile into my database software, and\n\n272\n00:13:25.430 --> 00:13:27.620\nit says error with record number three.\n\n273\n00:13:27.620 --> 00:13:30.530\nWell, I might not necessarily know\nwhat one is record number three, so\n\n274\n00:13:30.530 --> 00:13:37.290\nI could say nl and\nthe file that I'm trying to read.\n\n275\n00:13:37.290 --> 00:13:40.480\nAnd what it's doing,\nif I were to use more instead.\n\n276\n00:13:42.200 --> 00:13:45.005\nSee when I just look at the file here,\nit gives me the phone numbers and\n\n277\n00:13:45.005 --> 00:13:48.455\nthe employees, but when I used nl,\nit stuck a number before each line.\n\n278\n00:13:48.455 --> 00:13:50.085\nAnd now I know which\none's line number three.\n\n279\n00:13:50.085 --> 00:13:52.625\nI can spot that and I can find it.\n\n280\n00:13:52.625 --> 00:13:55.525\nAnd you can use nl with\nthe output of almost anything.\n\n281\n00:13:55.525 --> 00:13:58.170\nSo, if I just look at my\ndirectory listing here,\n\n282\n00:13:58.170 --> 00:14:03.210\nI could take that directory listing and\npipe that into the nl command.\n\n283\n00:14:03.210 --> 00:14:05.460\nAnd now it's gonna display it and\nI get line numbers right there.\n\n284\n00:14:05.460 --> 00:14:08.820\nSo you can add line numbers to anything\nand that makes it really handy.\n\n285\n00:14:08.820 --> 00:14:12.900\nAnd it has some advanced options if\nyou look at the man page for nl.\n\n286\n00:14:12.900 --> 00:14:16.850\nIt's got options for\nadding in things like section delimiters.\n\n287\n00:14:16.850 --> 00:14:20.150\nIf it goes to more than one page, whether\nthe line numbering should start over with\n\n288\n00:14:20.150 --> 00:14:23.100\none on each page, or\nif it just keeps going up.\n\n289\n00:14:23.100 --> 00:14:26.430\nThere's all sorts of different stuff in\nhere that you can do to tweak the way that\n\n290\n00:14:26.430 --> 00:14:31.940\nnl works, but at its most basic form, it\njust takes whatever data you feed it and\n\n291\n00:14:31.940 --> 00:14:33.430\nit sticks a number at\nthe beginning of ever line.\n\n292\n00:14:33.430 --> 00:14:35.080\n>> Yeah.\nI found this to be a very,\n\n293\n00:14:35.080 --> 00:14:36.130\nvery helpful thing.\n\n294\n00:14:36.130 --> 00:14:37.697\nYou think, oh,\nthis is a very simple thing.\n\n295\n00:14:37.697 --> 00:14:41.748\nAgain, none of these commands are too\nreally complex for you to grasp at least\n\n296\n00:14:41.748 --> 00:14:46.000\ntheir basic function of, and you think,\nwell, that's not a big deal, right?\n\n297\n00:14:46.000 --> 00:14:48.310\nI'm just putting some\nnumbers at the end of it.\n\n298\n00:14:48.310 --> 00:14:51.502\nBut when you have a large file and\nyou're trying to look for\n\n299\n00:14:51.502 --> 00:14:56.001\ncertain specific data and then be to call\nto that numbered line specifically using\n\n300\n00:14:56.001 --> 00:14:58.882\nthese little commands and\ntheir advanced options.\n\n301\n00:14:58.882 --> 00:15:02.298\nEven with the other commands that we've\nlooked at, they become very, very,\n\n302\n00:15:02.298 --> 00:15:05.248\nalmost scalpel-like in their ability\nto do something for you, and\n\n303\n00:15:05.248 --> 00:15:08.945\nas you figure those out, again,\nthat really helps you as an administrator.\n\n304\n00:15:08.945 --> 00:15:12.655\nNow one of the other options I really like\nabout Linux that you can do with these\n\n305\n00:15:12.655 --> 00:15:17.002\nfiles is that print function\ncommand where it actually displays,\n\n306\n00:15:17.002 --> 00:15:21.137\nI think it's PR, where it'll actually\ntake your data and format it to where,\n\n307\n00:15:21.137 --> 00:15:23.732\nlike you're going to print\nit out to a printer.\n\n308\n00:15:23.732 --> 00:15:25.022\nAnd it does that because,\n\n309\n00:15:25.022 --> 00:15:28.132\nwell with paper you can't have\njust lines going berserk and\n\n310\n00:15:28.132 --> 00:15:31.492\nmake it look like you do on your screen,\nnot really the same type of output.\n\n311\n00:15:31.492 --> 00:15:33.952\nSo you need to format it for that output,\n\n312\n00:15:33.952 --> 00:15:38.960\nbut using that in my actual\nscreen to push that out to\n\n313\n00:15:38.960 --> 00:15:44.070\nthe standard output of my screen, I find\nthat to be very, very helpful for myself.\n\n314\n00:15:44.070 --> 00:15:48.917\n>> Yeah, so let's say that I wanted to\nprint some kind of configuration file for\n\n315\n00:15:48.917 --> 00:15:49.671\nmy system.\n\n316\n00:15:49.671 --> 00:15:52.542\nWhile the configuration file by itself\nmight look good on the screen, but\n\n317\n00:15:52.542 --> 00:15:55.783\nwhen you print it out, you got things like\na certain character width, you have to do\n\n318\n00:15:55.783 --> 00:15:59.040\nword wrapping at a certain point, and\nso how you handle that is important.\n\n319\n00:15:59.040 --> 00:15:59.700\nSo for example,\n\n320\n00:15:59.700 --> 00:16:04.140\nlet's say that I wanted to print out\na copy of my profile configuration.\n\n321\n00:16:04.140 --> 00:16:07.490\nSo here on my system,\nI'll use cat here to display.\n\n322\n00:16:07.490 --> 00:16:11.640\nI'm gonna display, so I have etc/profile.\n\n323\n00:16:11.640 --> 00:16:15.650\nSo here's a file, and it's really just\na simple shell script, and so we've got\n\n324\n00:16:15.650 --> 00:16:19.010\ninformation here about how the default\npermissions are being set on files and\n\n325\n00:16:19.010 --> 00:16:21.170\nwhere my profile data is stored.\n\n326\n00:16:21.170 --> 00:16:21.670\nSo there we go.\n\n327\n00:16:21.670 --> 00:16:22.660\nVery exciting.\n\n328\n00:16:22.660 --> 00:16:26.710\nIf I wanna print this, well,\nI can take that output and\n\n329\n00:16:26.710 --> 00:16:31.690\nI can feed it into the PR command, and\nit's going to prepare it for printing.\n\n330\n00:16:31.690 --> 00:16:35.670\nWell, what that means is it's going to\ndeal with things like page breaks and\n\n331\n00:16:35.670 --> 00:16:37.300\nother information to get ready.\n\n332\n00:16:37.300 --> 00:16:40.190\nSo see how it's actually\nbroken it into two pages.\n\n333\n00:16:40.190 --> 00:16:41.540\nLet me find the start.\n\n334\n00:16:41.540 --> 00:16:42.600\nHere's page one.\n\n335\n00:16:42.600 --> 00:16:47.190\nSo, it's sticking the date at the top and\npage one, it's applying a word wrap at\n\n336\n00:16:47.190 --> 00:16:50.470\nthe page with a standard page width,\nand then here's the information.\n\n337\n00:16:50.470 --> 00:16:53.850\nSo here's that little shell script,\nand then it goes onto a page two.\n\n338\n00:16:53.850 --> 00:16:56.220\nSo if there was the date\nat the top of page two.\n\n339\n00:16:56.220 --> 00:16:58.160\nSo now it's kind of ready for printing.\n\n340\n00:16:58.160 --> 00:17:02.770\nNow we can manipulate this a lot more to\nget it exactly the way that we want it.\n\n341\n00:17:02.770 --> 00:17:05.020\nAnd there's changes we can make\nin a few different places.\n\n342\n00:17:05.020 --> 00:17:08.710\nFor example cat, cat actually has\na built in line numbering system.\n\n343\n00:17:08.710 --> 00:17:12.300\nYou can do cat-n, and\nit'll do line numbering for us, or\n\n344\n00:17:12.300 --> 00:17:14.640\nI could pipe in an NL command if I wanted.\n\n345\n00:17:14.640 --> 00:17:19.210\nBut then I can take that print command and\nit's not actually print but prepare for\n\n346\n00:17:19.210 --> 00:17:22.100\nprinting command, and\nnow I can apply modifications,\n\n347\n00:17:22.100 --> 00:17:24.770\nit has got a ton of little\nmodifiers we could stick on it.\n\n348\n00:17:24.770 --> 00:17:30.080\nI can do -d to do double spacing if\nI want it to really be spread out.\n\n349\n00:17:30.080 --> 00:17:31.870\nI was on two pages before that.\n\n350\n00:17:31.870 --> 00:17:34.150\nIt'll probably push me to three or\nfour pages.\n\n351\n00:17:34.150 --> 00:17:35.380\nWe can do other things.\n\n352\n00:17:35.380 --> 00:17:37.910\nWe can set the character width.\n\n353\n00:17:37.910 --> 00:17:41.100\nWe can say we only want it\nto be 50 characters wide.\n\n354\n00:17:41.100 --> 00:17:43.350\nSo you can start to dictate that.\n\n355\n00:17:43.350 --> 00:17:45.400\nTons of modifications there\nwith that PR command.\n\n356\n00:17:45.400 --> 00:17:51.360\nAnd when I run this now, I can see\nmy lines are double-spaced, I've got\n\n357\n00:17:51.360 --> 00:17:56.040\nline numbers attached, I am at four pages\nnow, and it's all ready to go and print.\n\n358\n00:17:56.040 --> 00:17:58.990\nAnother way to just modify that output.\n\n359\n00:17:58.990 --> 00:18:00.700\n>> Yeah,\nthat would be really sweet if me and\n\n360\n00:18:00.700 --> 00:18:03.250\nDon were trying to develop a script and\nwork on that.\n\n361\n00:18:03.250 --> 00:18:06.810\nMaybe he's off on a business trip,\nand I'm like, hey Don,\n\n362\n00:18:06.810 --> 00:18:08.585\nI've e-mailed you that that file and\n\n363\n00:18:08.585 --> 00:18:13.505\nI run it through this, I can say look at\nline 53 and I'm having some trouble there.\n\n364\n00:18:13.505 --> 00:18:15.675\nCan you take a look and\nsee where the problem might be lying?\n\n365\n00:18:15.675 --> 00:18:17.635\nHe can look, oh there it is, line 53.\n\n366\n00:18:17.635 --> 00:18:22.435\nWe've made it a little easier to\ndigest for us humans than the machine.\n\n367\n00:18:22.435 --> 00:18:25.565\nThe machine handles just about anything\nyou throw at it, it knows what it's doing.\n\n368\n00:18:25.565 --> 00:18:28.505\nBut for us it can get a little convoluted,\nespecially when you're working\n\n369\n00:18:28.505 --> 00:18:31.940\nwith things like scripts or\nactual programming language.\n\n370\n00:18:31.940 --> 00:18:35.110\nVery difficult for us to pare down and\ngo, okay, hold on,\n\n371\n00:18:35.110 --> 00:18:37.620\nit's on page 14,\nlet me string through that.\n\n372\n00:18:37.620 --> 00:18:39.990\nSo being able to use something like this,\nlike for\n\n373\n00:18:39.990 --> 00:18:42.870\na printing command,\nmakes that job a whole lot easier.\n\n374\n00:18:42.870 --> 00:18:46.100\nThere's some other cool things\nthat we can do inside of Linux,\n\n375\n00:18:46.100 --> 00:18:48.360\nit's not just a one-trick pony,\nthat's for sure.\n\n376\n00:18:48.360 --> 00:18:52.140\nI think the split command,\neven though it might be an older command,\n\n377\n00:18:52.140 --> 00:18:54.930\nis something that might find\nuseful from time to time.\n\n378\n00:18:54.930 --> 00:18:57.930\n>> Yeah, and a split,\nI use to use it a lot back in the day.\n\n379\n00:18:57.930 --> 00:19:02.810\nIf you were writing large files to a CD,\nand your CD could only handle 650 megs of\n\n380\n00:19:02.810 --> 00:19:06.800\ndata, but you had four gigs of data,\nyou needed to split it up across that.\n\n381\n00:19:06.800 --> 00:19:08.330\nOr it really started with floppy disks.\n\n382\n00:19:08.330 --> 00:19:10.410\nYou needed to split something\nacross floppy disks.\n\n383\n00:19:10.410 --> 00:19:14.340\nSo we can take a large file, then we can\nfeed it into the split and it will break\n\n384\n00:19:14.340 --> 00:19:18.710\nit up every so many either bytes or lines,\nyou can tell it whether it's bytes or\n\n385\n00:19:18.710 --> 00:19:21.930\nlines breaking up, and it will go ahead\nand break it apart based on that.\n\n386\n00:19:21.930 --> 00:19:26.120\nAnd then when it gets to the other system,\nthey can choose cat to combine it.\n\n387\n00:19:26.120 --> 00:19:28.940\nConcatenate adds the files one after and\nit combines them back and\n\n388\n00:19:28.940 --> 00:19:31.060\nnow you've got your\ncombined file ready to run.\n\n389\n00:19:31.060 --> 00:19:33.170\nSo split's a nice one.\n\n390\n00:19:33.170 --> 00:19:37.580\nWe don't really need it anymore\nbecause Word sizes are so much bigger.\n\n391\n00:19:37.580 --> 00:19:38.210\n>> They're large fonts.\n\n392\n00:19:38.210 --> 00:19:39.130\n>> Yeah, they're gigantic.\n\n393\n00:19:39.130 --> 00:19:41.190\nAnd we can use our archivers to do it.\n\n394\n00:19:41.190 --> 00:19:45.410\nSo if you're creating a ZIP archive or\na TAR or whatever,\n\n395\n00:19:45.410 --> 00:19:47.940\nyou can set limits there and\nit can break it apart.\n\n396\n00:19:47.940 --> 00:19:49.530\nSplit is another good one though.\n\n397\n00:19:49.530 --> 00:19:53.800\nIt's got a ton of options in there for\ndividing things up.\n\n398\n00:19:53.800 --> 00:19:56.140\nCommands that we can use for\ntroubleshooting, right?\n\n399\n00:19:56.140 --> 00:19:58.350\nYou know, we mentioned like the line\nnumbering how that's useful for\n\n400\n00:19:58.350 --> 00:19:59.950\ntroubleshooting a script.\n\n401\n00:19:59.950 --> 00:20:03.380\nThe tail and head commands.\n\n402\n00:20:03.380 --> 00:20:04.900\nTail and head is like an animal, right?\n\n403\n00:20:04.900 --> 00:20:06.350\nThe head would be\nthe beginning of the animal,\n\n404\n00:20:06.350 --> 00:20:07.510\nthe tail would be the end of the animal.\n\n405\n00:20:07.510 --> 00:20:09.610\nIf you are ever looking at a large file,\n\n406\n00:20:09.610 --> 00:20:11.540\nsometimes you just need\nto see the beginning or\n\n407\n00:20:11.540 --> 00:20:15.990\nyou just need to see the end, and a great\nexample of that would be like D message.\n\n408\n00:20:15.990 --> 00:20:19.900\nD message is a command that\ndisplays the system boot logs.\n\n409\n00:20:19.900 --> 00:20:21.720\nSo when your system boots\nup a lot of stuff happens.\n\n410\n00:20:21.720 --> 00:20:23.810\nLet me show you on this system.\n\n411\n00:20:23.810 --> 00:20:26.920\nSo on my computer, when it booted up,\na lot of stuff happened.\n\n412\n00:20:26.920 --> 00:20:29.840\nAnd if I run dmesg,\nit's gonna show me all of that.\n\n413\n00:20:29.840 --> 00:20:33.530\nHere's all the hardware detection that\nhappened when I boosted this system up.\n\n414\n00:20:33.530 --> 00:20:37.210\nSo if I'm trying to troubleshoot\na hardware problem, I can go in here and\n\n415\n00:20:37.210 --> 00:20:40.150\nsay well all right let me\nfind my USB network adapter.\n\n416\n00:20:40.150 --> 00:20:41.080\nIt's in here somewhere.\n\n417\n00:20:41.080 --> 00:20:42.155\n>> Good luck with that.\n\n418\n00:20:42.155 --> 00:20:43.000\n[LAUGH]\n>> And\n\n419\n00:20:43.000 --> 00:20:45.530\nsure I could use a tool like Graph or\nwhatever to search this,\n\n420\n00:20:45.530 --> 00:20:48.280\nbut I'm not looking for one line,\nI'm looking for that whole section\n\n421\n00:20:48.280 --> 00:20:51.440\nwhere that network adapter was found,\nso it can be a little difficult.\n\n422\n00:20:51.440 --> 00:20:56.350\nWell oftentimes what I want is right\nat the beginning or right at the end.\n\n423\n00:20:56.350 --> 00:21:00.090\nIf I take dmesg and\nI pipe that in to the head command,\n\n424\n00:21:00.090 --> 00:21:03.780\nit's going to display\nme the first ten lines.\n\n425\n00:21:03.780 --> 00:21:06.900\nHead shows the first ten lines of data.\n\n426\n00:21:06.900 --> 00:21:09.750\nAnd it could be data coming from a file or\nit could be output from a command,\n\n427\n00:21:09.750 --> 00:21:10.680\nlike I just did.\n\n428\n00:21:10.680 --> 00:21:12.000\nHere's the ten lines.\n\n429\n00:21:12.000 --> 00:21:13.790\nAnd maybe that's all I wanted.\n\n430\n00:21:13.790 --> 00:21:15.130\nI just wanted to see the very beginning so\n\n431\n00:21:15.130 --> 00:21:17.890\nI could see figure out what\nLinux version I'm running.\n\n432\n00:21:17.890 --> 00:21:19.099\nAnd I'm too lazy to run a new name or\nwhatever.\n\n433\n00:21:19.099 --> 00:21:20.680\n>> [LAUGH]\n>> So, I wanna find it there,\n\n434\n00:21:20.680 --> 00:21:21.600\nI wanna see my boot image.\n\n435\n00:21:21.600 --> 00:21:23.950\nThat's all right there\nat the very beginning.\n\n436\n00:21:23.950 --> 00:21:27.730\nBut more commonly, if I'm saying something\nlike I'm troubleshooting a USB adapter.\n\n437\n00:21:27.730 --> 00:21:31.760\nSo I take a USB adapter like this one and\nI stick it on my device.\n\n438\n00:21:31.760 --> 00:21:34.200\nI'll just plug that in, right.\n\n439\n00:21:34.200 --> 00:21:37.970\nAnd I get that connected in my system.\n\n440\n00:21:37.970 --> 00:21:38.710\nThere we go.\n\n441\n00:21:38.710 --> 00:21:40.550\nSo it was connected.\n\n442\n00:21:40.550 --> 00:21:43.070\nAnd the system just detected it.\n\n443\n00:21:43.070 --> 00:21:47.910\nIf the adaptor is not working, I might\nwant to find out why, and it'll be right\n\n444\n00:21:47.910 --> 00:21:51.950\nthere at the end of dmesg, so I can just\nsay I don't want to view the whole dmseg.\n\n445\n00:21:51.950 --> 00:21:53.990\nIt could be hundreds of\nthousands of lines long.\n\n446\n00:21:53.990 --> 00:21:57.180\nI can say dmesg and\npipe that into the tail command.\n\n447\n00:21:57.180 --> 00:21:58.200\nJust show me the last ten lines.\n\n448\n00:21:58.200 --> 00:22:01.170\nAnd right here in the last\nten lines I can see,\n\n449\n00:22:01.170 --> 00:22:03.720\nnew high-speed USB device was attached.\n\n450\n00:22:03.720 --> 00:22:07.430\nAnd I can see Invalid ep0 maxpacket: 9.\n\n451\n00:22:07.430 --> 00:22:08.160\nIt's got some problem.\n\n452\n00:22:08.160 --> 00:22:09.750\nLooks like it didn't detect it properly.\n\n453\n00:22:09.750 --> 00:22:11.680\nSo unable to enumerate the USB device.\n\n454\n00:22:11.680 --> 00:22:13.520\nWhat does that mean?\n\n455\n00:22:13.520 --> 00:22:14.550\nMissing a driver.\n\n456\n00:22:14.550 --> 00:22:15.940\nRight?\nIt can't enumerate the device.\n\n457\n00:22:15.940 --> 00:22:17.090\nIt doesn't know what the device is.\n\n458\n00:22:17.090 --> 00:22:18.980\nI need to get the driver for\nit, so I'll have to go and\n\n459\n00:22:18.980 --> 00:22:21.820\nfind out what the heck driver\nthese guys use, who knows.\n\n460\n00:22:21.820 --> 00:22:25.340\nAnd [LAUGH] get that loaded, and then I\ncan repeat this process and reattach it.\n\n461\n00:22:25.340 --> 00:22:27.030\nLook at the last ten lines.\n\n462\n00:22:27.030 --> 00:22:28.110\nDid it recognize it this time?\n\n463\n00:22:28.110 --> 00:22:30.010\nYes, it's a network adapter, great, right?\n\n464\n00:22:30.010 --> 00:22:32.060\nBut in this case I can\nsee what that problem is.\n\n465\n00:22:32.060 --> 00:22:33.960\nSo, head and tail.\n\n466\n00:22:33.960 --> 00:22:36.640\nNow, by default they show\nthe first ten lines, and\n\n467\n00:22:36.640 --> 00:22:40.620\nthe last ten lines, but\nyou can change that by specifying that,\n\n468\n00:22:40.620 --> 00:22:45.960\nyou'll see each of those like a little\nmodifier there where you can say -C for\n\n469\n00:22:45.960 --> 00:22:50.290\na certain amount of bytes or\n-N for a number of lines.\n\n470\n00:22:50.290 --> 00:22:53.460\nSo if I say -N 20,\nit'll show me the first 20 lines or\n\n471\n00:22:53.460 --> 00:22:55.660\nthe last 20 lines based on what I need.\n\n472\n00:22:55.660 --> 00:22:57.660\nSo head and tail, those are good commands.\n\n473\n00:22:57.660 --> 00:22:58.290\n>> Right.\n\n474\n00:22:58.290 --> 00:23:00.450\nNow, sometimes we do try to get data, and\n\n475\n00:23:00.450 --> 00:23:03.680\nDon was doing a great job of\nshowing us that with a large file,\n\n476\n00:23:03.680 --> 00:23:08.045\na lot of output, it's really to kind\nof figure out what we're looking for.\n\n477\n00:23:08.045 --> 00:23:10.665\nNow we've used things like the numberings,\n\n478\n00:23:10.665 --> 00:23:14.165\nwhere we can see those numbers on\nthe side, and that can be helpful.\n\n479\n00:23:14.165 --> 00:23:16.095\nBut sometimes we just say,\nyou know what, computer,\n\n480\n00:23:16.095 --> 00:23:18.095\nwhy don't you just do this for me?\n\n481\n00:23:18.095 --> 00:23:19.065\n>> [LAUGH]\n>> Just work, man.\n\n482\n00:23:19.065 --> 00:23:20.565\nYou know what I need, right?\n\n483\n00:23:20.565 --> 00:23:23.985\nWell, we've gotta let it know that yeah,\nit can do that, and say,\n\n484\n00:23:23.985 --> 00:23:27.175\nhere is what I need, can you please\ngo find that and bring it back to me?\n\n485\n00:23:27.175 --> 00:23:29.155\nWell, we can use cut to\nmake that actually happen.\n\n486\n00:23:29.155 --> 00:23:30.470\nIt's a very cool command.\n\n487\n00:23:30.470 --> 00:23:34.880\nSay look through this output,\nfind what it is I'm looking for and\n\n488\n00:23:34.880 --> 00:23:37.670\nI'm gonna give you some specifications and\nthen just give me that.\n\n489\n00:23:37.670 --> 00:23:38.960\nI don't need everything else.\n\n490\n00:23:38.960 --> 00:23:41.103\nSo cut can be very helpful\nwhen it comes to that.\n\n491\n00:23:41.103 --> 00:23:41.830\n>> Yeah for example,\n\n492\n00:23:41.830 --> 00:23:44.990\nlet's say I've got more than one\nnetwork adapter in my system.\n\n493\n00:23:44.990 --> 00:23:48.896\nAnd I want a list of the MAC addresses for\nall my network adapters.\n\n494\n00:23:48.896 --> 00:23:50.240\nWell, there's no command for that.\n\n495\n00:23:50.240 --> 00:23:53.570\nThere's no command in Linux that\njust gives me the MAC addresses.\n\n496\n00:23:53.570 --> 00:23:55.870\nI can get it, I can use ifconfig, right?\n\n497\n00:23:55.870 --> 00:24:00.930\nSo, here I'm gonna run ifconfig, and\neach of my network adapters are listed.\n\n498\n00:24:00.930 --> 00:24:04.750\nAnd in here I can find the MAC\naddresses for each one, right.\n\n499\n00:24:04.750 --> 00:24:07.100\nIt's tucked away right here\nunder this line, right there.\n\n500\n00:24:07.100 --> 00:24:09.400\nAnd so, I can go through and\nI can find each one.\n\n501\n00:24:09.400 --> 00:24:14.100\nWell, if I'm just wanting this visually\nfor me, that's fine, that's enough, right?\n\n502\n00:24:14.100 --> 00:24:19.100\nBut if I want this for a script,\nI wanna feed all of my MAC addresses as\n\n503\n00:24:19.100 --> 00:24:22.430\ninput into a script that's gonna\ncreate DHCP reservations, or\n\n504\n00:24:22.430 --> 00:24:25.560\nsomething like that,\nI just need those MAC addresses.\n\n505\n00:24:25.560 --> 00:24:29.950\nSo, I've got to filter this output\ndown to just get the MAC addresses.\n\n506\n00:24:29.950 --> 00:24:32.500\nWell, I already know I could\nuse something like grep, right?\n\n507\n00:24:32.500 --> 00:24:36.030\nSo I can pipe this into grep and\nlook for the word, ether, right?\n\n508\n00:24:36.030 --> 00:24:38.970\nJust show me lines that include the word,\nether.\n\n509\n00:24:38.970 --> 00:24:40.860\nNow I'm really close, right?\n\n510\n00:24:40.860 --> 00:24:42.680\nI've got three network adapters.\n\n511\n00:24:42.680 --> 00:24:45.330\nHere's my three adapters, and\nthere's their MAC addresses.\n\n512\n00:24:45.330 --> 00:24:48.550\nThe only problem is it's giving me\nmore than just the MAC address, right?\n\n513\n00:24:48.550 --> 00:24:53.340\nI get the word, ether, I get my transmit\ncue, I get the speed of this ethernet.\n\n514\n00:24:53.340 --> 00:24:57.660\nSo I wanna cut that down to\njust get the MAC addresses.\n\n515\n00:24:57.660 --> 00:25:00.300\nAnd here is where the cut\ncommand is really awesome.\n\n516\n00:25:00.300 --> 00:25:04.860\nI can pipe that one more time into\nthe cut command, and in the cut command,\n\n517\n00:25:04.860 --> 00:25:09.400\nI can tell it the data that I'm feeding\nit is divided into columns, and\n\n518\n00:25:09.400 --> 00:25:11.630\nI only want a particular column.\n\n519\n00:25:11.630 --> 00:25:13.980\nWell, the first thing I have to\ntell it is what my delimiter is.\n\n520\n00:25:13.980 --> 00:25:16.670\nHow does it know where one column ends and\none column starts?\n\n521\n00:25:16.670 --> 00:25:19.180\nAnd if you look at my data,\nthere's spaces, right?\n\n522\n00:25:19.180 --> 00:25:20.970\nSee these spaces in here?\n\n523\n00:25:20.970 --> 00:25:24.400\nThat's how it knows that it's\nmoving form one field to another.\n\n524\n00:25:24.400 --> 00:25:26.900\nWell, I do have a bunch right\nhere at the beginning, so\n\n525\n00:25:26.900 --> 00:25:28.280\nthat's a little bit of a problem.\n\n526\n00:25:28.280 --> 00:25:32.130\nBut I'm going to have to tell\nit that a \" \" is my delimiter.\n\n527\n00:25:32.130 --> 00:25:36.070\nSo every time you see a \" \",\nthat's dividing my stuff into columns.\n\n528\n00:25:36.070 --> 00:25:40.169\nAnd then I need to tell it which column\nI want, and so I'm gonna say -key, or\n\n529\n00:25:40.169 --> 00:25:43.992\nactually -k, it stands for\nkey, not column.\n\n530\n00:25:43.992 --> 00:25:47.150\nBut -k, and\nI'm gonna tell it I want key number, and\n\n531\n00:25:47.150 --> 00:25:48.620\nnow I've gotta do a little\nbit of counting, right?\n\n532\n00:25:48.620 --> 00:25:53.250\nI've gotta count all the spaces here,\nand in this one, and these guys, and\n\n533\n00:25:53.250 --> 00:25:54.930\nI'm pretty sure it ends up being nine.\n\n534\n00:25:56.040 --> 00:25:59.060\nAnd, oops, wait a minute,\nit's not -k, is it?\n\n535\n00:25:59.060 --> 00:26:03.340\nIt's -f, shoot, -f for field.\n\n536\n00:26:03.340 --> 00:26:04.450\nKey is for another command.\n\n537\n00:26:04.450 --> 00:26:06.550\nSo, -f for field, there we go.\n\n538\n00:26:06.550 --> 00:26:09.190\nAnd nine, and I got the wrong one, so\nI need to go up a little bit more.\n\n539\n00:26:09.190 --> 00:26:11.690\nBump up to ten, there we go.\n\n540\n00:26:11.690 --> 00:26:13.790\nSo telling it I want field number ten,\n\n541\n00:26:13.790 --> 00:26:16.180\nright, keying off of that column,\nthat's what I get.\n\n542\n00:26:16.180 --> 00:26:18.702\nAnd now I just get those MAC addresses.\n\n543\n00:26:18.702 --> 00:26:21.530\nSo while there was no command that would\nsay, just give me all the MAC addresses\n\n544\n00:26:21.530 --> 00:26:26.220\nfor my system, I can modify\nthe data to create that command.\n\n545\n00:26:26.220 --> 00:26:28.104\nIt's a little bit long here, right?\n\n546\n00:26:28.104 --> 00:26:32.200\nI did ifconfig, I piped that into grep\nether to give me just the lines that had\n\n547\n00:26:32.200 --> 00:26:37.010\nMAC address, and then I piped that\ninto cut to say just give me field\n\n548\n00:26:37.010 --> 00:26:40.940\nnumber ten there, the column, and give\nme that data, and then I'm in business.\n\n549\n00:26:40.940 --> 00:26:44.250\nThere we go, we've kind of created\na command that gives us what we want.\n\n550\n00:26:44.250 --> 00:26:47.930\n>> Yeah, what's cool about that is Don\ncould then create that as a script,\n\n551\n00:26:47.930 --> 00:26:50.850\ncall it findmymac.sh, or whatever.\n\n552\n00:26:50.850 --> 00:26:54.670\nAnd now he's got it handy, he doesn't have\nto continually type that command out,\n\n553\n00:26:54.670 --> 00:26:56.260\nit's all built in, and\nhe's got that script.\n\n554\n00:26:56.260 --> 00:26:58.160\nHe just calls it, and\nit does what he's looking for.\n\n555\n00:26:58.160 --> 00:27:01.700\nSo no matter how many NICs he's\nworking with, or how many chains,\n\n556\n00:27:01.700 --> 00:27:02.990\nmaybe he's removing some or\n\n557\n00:27:02.990 --> 00:27:06.100\nadding more, he's still gonna get the same\ntype of output that he's looking for.\n\n558\n00:27:06.100 --> 00:27:07.900\nMakes his job a whole lot easier.\n\n559\n00:27:07.900 --> 00:27:09.050\nVery cool command.\n\n560\n00:27:09.050 --> 00:27:13.190\n>> Yeah, we'll see in another episode\nwhere we'll talk about functions and\n\n561\n00:27:13.190 --> 00:27:16.920\naliases, and those actually let you,\nbasically, create your own command.\n\n562\n00:27:16.920 --> 00:27:20.040\nI can create an alias, which lets me run\na single command that would run this, or\n\n563\n00:27:20.040 --> 00:27:22.220\nI could create a function that would\nlet programs be able to call it.\n\n564\n00:27:22.220 --> 00:27:25.720\nSo we'll see those later on,\nthey're pretty cool.\n\n565\n00:27:25.720 --> 00:27:27.025\n>> Yeah, check that out.\n>> Seems like there was one other\n\n566\n00:27:27.025 --> 00:27:28.693\ncommand we wanted to cover this episode.\n\n567\n00:27:28.693 --> 00:27:30.180\n>> Anomos?\n>> The less command.\n\n568\n00:27:30.180 --> 00:27:30.900\n>> The less command.\n\n569\n00:27:30.900 --> 00:27:32.840\n>> One of my favorites.\n\n570\n00:27:32.840 --> 00:27:35.070\nI've displayed a few files\nhere on the show, right?\n\n571\n00:27:35.070 --> 00:27:38.610\nSo I use more most of the time\nbecause that's kinda what I'm used to.\n\n572\n00:27:38.610 --> 00:27:41.340\nSo if I wanna take a look at a file,\n\n573\n00:27:41.340 --> 00:27:44.550\nlike I've got this Shakespeare file here,\nright?\n\n574\n00:27:44.550 --> 00:27:47.660\nI can run more shakespeare.txt,\n\n575\n00:27:47.660 --> 00:27:51.980\nand that will pull it up and there it is,\nthere's the contents of that file, right?\n\n576\n00:27:51.980 --> 00:27:55.650\nI can also use cat to view the file,\nright?\n\n577\n00:27:55.650 --> 00:27:58.790\nBut both of them have a little\nbit of a problem, right?\n\n578\n00:27:58.790 --> 00:28:02.730\nTheir problem is they display\none screen of data, and\n\n579\n00:28:02.730 --> 00:28:04.709\nthen it gives you a more prompt, right?\n\n580\n00:28:04.709 --> 00:28:07.407\nOr cat doesn't,\nit just displays the whole thing.\n\n581\n00:28:07.407 --> 00:28:09.300\nBut the more command\ngives you a more prompt,\n\n582\n00:28:09.300 --> 00:28:11.375\nyou press space bar and\nyou continue moving forward.\n\n583\n00:28:11.375 --> 00:28:14.295\nThey only go forward, they don't go back.\n\n584\n00:28:14.295 --> 00:28:17.303\nThe less command goes forward and back.\n\n585\n00:28:17.303 --> 00:28:19.235\nIf you're gonna be\ndisplaying a large file,\n\n586\n00:28:19.235 --> 00:28:23.720\nsomething with a lot of data in it, the\nless command can really help with that.\n\n587\n00:28:23.720 --> 00:28:27.770\nSo if I take a look at, like here,\nI'll do this wgetrc file.\n\n588\n00:28:27.770 --> 00:28:32.060\nIf I were to do more wgetrc,\nI can come in here and\n\n589\n00:28:32.060 --> 00:28:34.280\nI've got my more prompt,\nI'm looking at 18% of the file.\n\n590\n00:28:34.280 --> 00:28:37.260\nAnd I can press space bar,\nand I'm moving forward.\n\n591\n00:28:37.260 --> 00:28:40.466\nAnd then if I say, oh, I wanna go back and\nsee that first screen again,\n\n592\n00:28:40.466 --> 00:28:41.580\nI can't, right.\n\n593\n00:28:41.580 --> 00:28:44.200\nAnd because of the way this is\nbeing rendered on the screen,\n\n594\n00:28:44.200 --> 00:28:46.400\na lot of times you can't\neven scroll back and see it.\n\n595\n00:28:46.400 --> 00:28:47.730\nIn this case it is working.\n\n596\n00:28:47.730 --> 00:28:51.670\nBut your limit there is that\nit generally goes forward.\n\n597\n00:28:51.670 --> 00:28:53.970\nIf we use the less command,\nthough, instead of more,\n\n598\n00:28:53.970 --> 00:28:59.780\nI'm just gonna swap that out for less,\nit basically looks the same way, right?\n\n599\n00:28:59.780 --> 00:29:04.455\nExcept if I use my up and down arrow keys,\nI can actually scroll up and down, so\n\n600\n00:29:04.455 --> 00:29:06.090\nless goes both ways, right?\n\n601\n00:29:06.090 --> 00:29:10.250\nIt goes back up and down, and\nit's got a search functionality in it, so\n\n602\n00:29:10.250 --> 00:29:11.570\nI can search for a string.\n\n603\n00:29:11.570 --> 00:29:14.930\nLike I want to search for 802, and\nyou would just type forward slash and\n\n604\n00:29:14.930 --> 00:29:18.000\nwhat you wanted to search for,\nand it finds and highlights them.\n\n605\n00:29:18.000 --> 00:29:19.770\nMore doesn't do that, right?\n\n606\n00:29:19.770 --> 00:29:23.430\nThe more command is very basic, it outputs\nthe data and gives you pagination.\n\n607\n00:29:23.430 --> 00:29:26.780\nThe cat command outputs the data,\nand that's it.\n\n608\n00:29:26.780 --> 00:29:30.220\nLess outputs the data, lets you scroll\nforward, lets you scroll back, and\n\n609\n00:29:30.220 --> 00:29:31.320\nlets you search.\n\n610\n00:29:31.320 --> 00:29:32.480\nIt's pretty cool.\n\n611\n00:29:32.480 --> 00:29:36.390\n>> I love that the Linux user groups out\nthere and the people that create these\n\n612\n00:29:36.390 --> 00:29:40.850\ncommands, irony is one of their\nfavorite forms of jocularity.\n\n613\n00:29:40.850 --> 00:29:43.555\nThey use less, and\nit actually does more than more.\n\n614\n00:29:43.555 --> 00:29:45.580\n>> [LAUGH]\n>> Kind of an ironic twist on\n\n615\n00:29:45.580 --> 00:29:46.520\nthe name, there.\n\n616\n00:29:46.520 --> 00:29:48.140\nSo if you're looking at it on the exam,\nand\n\n617\n00:29:48.140 --> 00:29:51.535\nyou think okay, less obviously does less,\nno, no, no, it's a joke.\n\n618\n00:29:51.535 --> 00:29:53.480\n[LAUGH] Less does more than more, so\n\n619\n00:29:53.480 --> 00:29:55.700\nremember that when you're\nlooking at that exam.\n\n620\n00:29:55.700 --> 00:29:57.700\nAll right, Don,\nhave we got anything else we wanna?\n\n621\n00:29:57.700 --> 00:29:58.560\n>> I think so.\n\n622\n00:29:58.560 --> 00:30:02.522\nHonesty, it's a 30 minute episode,\nwe probably could have done a 30 hour\n\n623\n00:30:02.522 --> 00:30:05.330\nepisode, and all the little text\nmanipulation commands are out there.\n\n624\n00:30:05.330 --> 00:30:08.030\nBut the ones that we showed in this\nepisode are the ones that I think most of\n\n625\n00:30:08.030 --> 00:30:10.570\nyou guys will experience in\nthe real world the most frequently,\n\n626\n00:30:10.570 --> 00:30:11.530\nas well as on the exam.\n\n627\n00:30:11.530 --> 00:30:13.780\nBut, we'll put some\nothers in the show notes.\n\n628\n00:30:13.780 --> 00:30:16.880\nAnd for those of you reading along in\nthe book, there's stuff there, too,\n\n629\n00:30:16.880 --> 00:30:19.340\nso it's good information.\n\n630\n00:30:19.340 --> 00:30:21.830\nBut I think we got a pretty good\nglimpse of the ways to manipulate text.\n\n631\n00:30:21.830 --> 00:30:24.921\n>> That's definitely,\nwe gave you a nice bite to chew on.\n\n632\n00:30:24.921 --> 00:30:26.473\n>> [LAUGH]\n>> So, go chew on it, enjoy it,\n\n633\n00:30:26.473 --> 00:30:29.090\nfigure it out, learn and\nplay around with it, it's a lot of fun.\n\n634\n00:30:29.090 --> 00:30:31.080\nThat being said,\nit's about all we have for this episode.\n\n635\n00:30:31.080 --> 00:30:32.660\nWe're glad you guys joined us.\n\n636\n00:30:32.660 --> 00:30:35.550\nI've been your host for\nITProTV, Daniel Lowrie.\n\n637\n00:30:35.550 --> 00:30:36.100\n>> And I'm Don Pezet.\n\n638\n00:30:36.100 --> 00:30:38.011\n>> And we'll see you next time.\n\n639\n00:30:38.011 --> 00:30:43.729\n[MUSIC]\n\n",
          "vimeoId": "128493263"
        },
        {
          "description": "In this episode, Daniel and Don guide you through understanding and utilizing regular expression in Linux. They start by explaining the concept of regular expression; defining what it is and how it's used. Next they show you the particulars of the syntax for RegEx in conjunction with programs like the Bash environment, grep, egrep, fgrep, and sed.",
          "length": "2561",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-1-4-using_regular_expressions-012716-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-1-4-using_regular_expressions-052015-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-1-4-using_regular_expressions-052015-sm.jpg",
          "title": "Using Regular Expressions",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.772 --> 00:00:15.921\nAll right greetings everyone and welcome\nto another great episode of ITPro TV.\n\n3\n00:00:15.921 --> 00:00:17.930\nI'm your host Daniel Lowrie and\n\n4\n00:00:17.930 --> 00:00:21.280\nin today's episode well,\nwe're continuing on our Linux+ series.\n\n5\n00:00:21.280 --> 00:00:23.081\nHopefully you've been enjoying it so far.\n\n6\n00:00:23.081 --> 00:00:26.450\nAnd joining me in the studio today,\nhelp lend his expertise yet again,\n\n7\n00:00:26.450 --> 00:00:28.630\nit's our good friend Mr. Don Pezet.\n\n8\n00:00:28.630 --> 00:00:30.410\nDon, welcome to the show and\nhow are you doing today, sir?\n\n9\n00:00:30.410 --> 00:00:31.290\n>> I'm doing great, Daniel.\n\n10\n00:00:31.290 --> 00:00:32.150\nThanks for having me back.\n\n11\n00:00:32.150 --> 00:00:36.430\nAnd ready to jump right back into\nthe world of CompTIA Linux+.\n\n12\n00:00:36.430 --> 00:00:39.560\nAnd in this episode we're gonna tackle\na topic that I know a lot of people dread,\n\n13\n00:00:39.560 --> 00:00:43.940\nor a lot of people just choose to\navoid and that's regular expressions.\n\n14\n00:00:43.940 --> 00:00:44.930\n>> Dum, dum, dum.\n\n15\n00:00:44.930 --> 00:00:47.190\n>> I know.\n[LAUGH] They're a complex thing.\n\n16\n00:00:47.190 --> 00:00:49.290\nThey are incredibly unintuitive.\n\n17\n00:00:49.290 --> 00:00:51.060\nThey are not user friendly.\n\n18\n00:00:51.060 --> 00:00:54.100\nBut darned if they aren't some of\nmost useful things in the world.\n\n19\n00:00:54.100 --> 00:00:57.590\nI use regular expressions\nliterally every single day.\n\n20\n00:00:57.590 --> 00:01:01.650\nIt's incredibly useful, can really save\nyou some time and it's worth it to learn.\n\n21\n00:01:01.650 --> 00:01:04.770\nIf for no other reason than to get\nsome questions right on the exam to\n\n22\n00:01:04.770 --> 00:01:05.990\npass the certification.\n\n23\n00:01:05.990 --> 00:01:08.670\nBut in real life you'll find\nthat if you work with scripts,\n\n24\n00:01:08.670 --> 00:01:11.380\nyou work with files in Linux,\nyou are gonna use regular expressions,\n\n25\n00:01:11.380 --> 00:01:13.340\nand that's what we're\ngonna see in this episode.\n\n26\n00:01:13.340 --> 00:01:16.110\n>> Yeah, Don couldn't be more\ncorrect when he says that\n\n27\n00:01:16.110 --> 00:01:17.670\nregular expression is just handy.\n\n28\n00:01:17.670 --> 00:01:22.210\nIt's just a wonderful thing to be a master\nover, because you are gonna use it so\n\n29\n00:01:22.210 --> 00:01:24.280\noften in your Linux environment.\n\n30\n00:01:24.280 --> 00:01:28.784\nThat being said you will probably\nbecome an alcoholic of some sort.\n\n31\n00:01:28.784 --> 00:01:33.819\n[LAUGH] Because it is also extremely\ncomplex, it does work from the very simple\n\n32\n00:01:33.819 --> 00:01:38.630\nbut it gets very complex and you can\nuse it in some seriously complex ways.\n\n33\n00:01:38.630 --> 00:01:42.066\nAnd it can take a little bit to grasp\na hold on so pull yourself up by\n\n34\n00:01:42.066 --> 00:01:46.269\nthe bootstraps, prepare for the violent\nstorm that is regular expression and\n\n35\n00:01:46.269 --> 00:01:49.132\nhopefully by the end of this,\nDon is a great teacher,\n\n36\n00:01:49.132 --> 00:01:52.762\nwe're looking forward to you\nimparting that knowledge unto us Mr.\n\n37\n00:01:52.762 --> 00:01:55.169\nDon Pezet so\n[LAUGH] I hope you're prepared.\n\n38\n00:01:55.169 --> 00:01:57.190\n>> [LAUGH] We're setting the bar high.\n\n39\n00:01:57.190 --> 00:01:57.820\n>> That's right.\n\n40\n00:01:57.820 --> 00:02:00.400\n>> Well let's start out real simple\nwith what the heck is a regular\n\n41\n00:02:00.400 --> 00:02:01.200\nexpression, right?\n\n42\n00:02:01.200 --> 00:02:04.430\nBecause if you've never heard of them now\nwe've set this up as a giant beast that's\n\n43\n00:02:04.430 --> 00:02:06.410\na nightmare,\nit's really not that bad, right.\n\n44\n00:02:06.410 --> 00:02:09.680\nIt's just the memorization that's gonna\nhave to happen especially for the exam but\n\n45\n00:02:09.680 --> 00:02:11.260\neven in real life.\n\n46\n00:02:11.260 --> 00:02:15.445\nRegular expressions, or sometimes\nyou'll hear them just called RegEx.\n\n47\n00:02:15.445 --> 00:02:17.570\nR-E-G-E-X.\n\n48\n00:02:17.570 --> 00:02:19.330\nRegular expression.\n\n49\n00:02:19.330 --> 00:02:22.140\nWhat they are is they're special\ncharacters that we can use,\n\n50\n00:02:22.140 --> 00:02:26.010\na special format of characters that we\ncan use to search and find things, right?\n\n51\n00:02:26.010 --> 00:02:27.670\nAnd that doesn't sound very amazing,\nright?\n\n52\n00:02:27.670 --> 00:02:28.870\nWe search for things all the time.\n\n53\n00:02:28.870 --> 00:02:31.570\nI go to Google and type in fishing, and\n\n54\n00:02:31.570 --> 00:02:34.080\nit returns a bunch of articles\non how to fish, right?\n\n55\n00:02:34.080 --> 00:02:36.160\nGreat, I just got that.\n\n56\n00:02:36.160 --> 00:02:40.380\nBut what we'll find is that in real life\nland, oftentimes we need to search for\n\n57\n00:02:40.380 --> 00:02:44.330\nthings inside of files, inside of data\nthat we've got on our own computers.\n\n58\n00:02:44.330 --> 00:02:45.415\nAnd we can't use Google for that.\n\n59\n00:02:45.415 --> 00:02:49.558\nAnd if I wanna quickly search and\nretrieve data from a system I'm gonna need\n\n60\n00:02:49.558 --> 00:02:52.608\na utility like a regular\nexpression to be able to do it.\n\n61\n00:02:52.608 --> 00:02:55.190\nNow, I said utility,\nI shouldn't of said that, right?\n\n62\n00:02:55.190 --> 00:02:58.020\nRegular expressions\nare technically not a utility.\n\n63\n00:02:58.020 --> 00:03:01.980\nAnd you can see that, like here, let me\nget a terminal fired up on my machine.\n\n64\n00:03:01.980 --> 00:03:04.510\nAnd I'm I'm on a CentOS 7 machine.\n\n65\n00:03:04.510 --> 00:03:08.910\nIt really doesn't matter, this is\na standard part of the Linux environment.\n\n66\n00:03:08.910 --> 00:03:13.490\nAnd really, Unix, BSD,\nthey all use regular expressions.\n\n67\n00:03:13.490 --> 00:03:17.340\nIf you fire up a command prompt and\njust try and run RegEx, right?\n\n68\n00:03:17.340 --> 00:03:20.060\nAnd run that, I'm not gonna get anything.\n\n69\n00:03:20.060 --> 00:03:23.730\nAnd for a normal command,\nwhen you pull up a normal command,\n\n70\n00:03:23.730 --> 00:03:26.610\nit's gotta have documentation,\nsyntax, how to use it.\n\n71\n00:03:26.610 --> 00:03:29.340\nThis isn't a command, so\nif I were to go man 3,\n\n72\n00:03:29.340 --> 00:03:34.790\nreg x, what i get is this C++ output for\nthat right?\n\n73\n00:03:34.790 --> 00:03:39.750\nThe actual programming side on the backend\nthat makes regular expressions work.\n\n74\n00:03:39.750 --> 00:03:41.380\nThere's not a command tied to it.\n\n75\n00:03:41.380 --> 00:03:44.230\nSo if you wanna learn about\nhow regular expressions work,\n\n76\n00:03:44.230 --> 00:03:48.600\nwhat you actually have to\ndo is run man 7 regex.\n\n77\n00:03:48.600 --> 00:03:50.880\nAnd that's the miscellaneous page.\n\n78\n00:03:50.880 --> 00:03:52.220\nAnd we don't normally do that.\n\n79\n00:03:52.220 --> 00:03:54.460\nNormally when you look at\nthe documentation for something,\n\n80\n00:03:54.460 --> 00:03:57.190\nit's either one or three, right?\n\n81\n00:03:57.190 --> 00:04:01.240\nEither the command syntax or\nthe C++ structure for it.\n\n82\n00:04:01.240 --> 00:04:04.610\nBut on this one, the miscellaneous\npage is really, really beneficial.\n\n83\n00:04:06.420 --> 00:04:11.790\nFor example, if I do a man 1 ls,\nhere's the ls command and how I use it.\n\n84\n00:04:11.790 --> 00:04:18.150\nIf I do a man 3 ls, there's nothing\nthere cuz it's not a C++ structure.\n\n85\n00:04:18.150 --> 00:04:20.200\nIt is a command that we can run.\n\n86\n00:04:20.200 --> 00:04:24.190\nAnd if I do a man 7 show me\nthe miscellaneous stuff for L S.\n\n87\n00:04:24.190 --> 00:04:24.740\nThere isn't anything.\n\n88\n00:04:24.740 --> 00:04:27.390\nBecause the command is so\nsimple we got the syntax and that's it.\n\n89\n00:04:27.390 --> 00:04:29.550\nBut regular expressions are massive.\n\n90\n00:04:29.550 --> 00:04:35.490\nAnd so if I do a man 7 regex I get\nthe manual for the miscellaneous manual.\n\n91\n00:04:35.490 --> 00:04:36.330\nWhere it goes through and\n\n92\n00:04:36.330 --> 00:04:40.950\nexplains POSIX point two regular\nexpressions and how to use them.\n\n93\n00:04:40.950 --> 00:04:44.950\nAnd this is a pretty quick read.\n\n94\n00:04:44.950 --> 00:04:47.240\nBut it's pretty complex.\n\n95\n00:04:47.240 --> 00:04:48.840\nIt's laying a lot out here for you.\n\n96\n00:04:48.840 --> 00:04:52.030\nSo what I want to do is walk you\nguys through the most common syntax\n\n97\n00:04:52.030 --> 00:04:54.640\nthat we're going to see with regular\nexpressions and how you can use it.\n\n98\n00:04:54.640 --> 00:04:56.910\nA few real world examples\nof how you might use it.\n\n99\n00:04:56.910 --> 00:05:00.340\nTo get the data that you\nneed as quickly as possible.\n\n100\n00:05:00.340 --> 00:05:02.390\nThat's really what regular\nexpressions are all about.\n\n101\n00:05:02.390 --> 00:05:05.100\n>> All right Don, so when it comes\nto regular expression, obviously one\n\n102\n00:05:05.100 --> 00:05:08.280\nof the things that if you've had any kind\nof experience with regular expression,\n\n103\n00:05:08.280 --> 00:05:11.430\nif you've seen it before,\nmaybe you've heard of it, it's the syntax.\n\n104\n00:05:11.430 --> 00:05:13.500\nThat's what normally\nstarts tripping people up.\n\n105\n00:05:13.500 --> 00:05:16.930\nThe syntax can be a bit weird but,\nlike you said,\n\n106\n00:05:16.930 --> 00:05:21.780\nit's not as complex as,\nespecially for very simple things, so\n\n107\n00:05:21.780 --> 00:05:24.380\nI guess getting the basics for\nthe syntax is where we should start.\n\n108\n00:05:24.380 --> 00:05:25.620\n>> All right, absolutely, let's do that.\n\n109\n00:05:25.620 --> 00:05:28.370\nSo, if I'm searching for something,\nif I'm just searching for\n\n110\n00:05:28.370 --> 00:05:30.430\na word, that's not a big deal.\n\n111\n00:05:30.430 --> 00:05:32.500\nAnd I know we've seen other\ncommands in other shows,\n\n112\n00:05:32.500 --> 00:05:34.290\nlike when you're searching for\na file name,\n\n113\n00:05:34.290 --> 00:05:38.060\nthat I might use the find command to go\nand find the file with that file name.\n\n114\n00:05:38.060 --> 00:05:42.710\nBut if I'm wanting to search for\ntext inside of a file find isn't so handy.\n\n115\n00:05:42.710 --> 00:05:46.340\nAnd even find by itself it actually\ncan search inside of a file.\n\n116\n00:05:46.340 --> 00:05:48.030\nIf I'm just looking for\na single word that's great.\n\n117\n00:05:48.030 --> 00:05:51.840\nBut if I'm looking for variations of that\nword that becomes a bit of a problem.\n\n118\n00:05:51.840 --> 00:05:52.340\nRight.\n\n119\n00:05:52.340 --> 00:05:54.960\nSo for example let me get back to this\nlittle Notepad window that I've got\n\n120\n00:05:54.960 --> 00:05:55.730\nfired up here.\n\n121\n00:05:55.730 --> 00:05:57.360\nAnd let me get rid of that.\n\n122\n00:05:57.360 --> 00:05:59.670\nAnd let's say that I wanted to find\n\n123\n00:06:00.960 --> 00:06:06.290\nfish as well as fishing as well as fished.\n\n124\n00:06:06.290 --> 00:06:09.430\nRight?\nSo three different forms of the same word.\n\n125\n00:06:09.430 --> 00:06:11.170\nWell, that can be pretty\nchallenging to look for.\n\n126\n00:06:11.170 --> 00:06:12.110\nI've got three different words.\n\n127\n00:06:12.110 --> 00:06:14.200\nI'll have to run three different searches.\n\n128\n00:06:14.200 --> 00:06:16.510\nBut if we use a regular expression,\nwe can actually look for\n\n129\n00:06:16.510 --> 00:06:19.420\nthese all at the same time, right.\n\n130\n00:06:19.420 --> 00:06:23.450\nOne of the first kind of syntax\ncharacters I wanna show you guys with\n\n131\n00:06:23.450 --> 00:06:25.920\nthe regular expression\nis the square bracket.\n\n132\n00:06:25.920 --> 00:06:30.040\nWe can apply a square bracket to this\nto find more than one variation of\n\n133\n00:06:30.040 --> 00:06:31.310\nthe same thing.\n\n134\n00:06:31.310 --> 00:06:35.860\nSo, what I could do is I could say,\nI wanna search for fish, and\n\n135\n00:06:35.860 --> 00:06:40.330\nthen I'll open up a square bracket,\nand then I'm gonna say fish,\n\n136\n00:06:40.330 --> 00:06:47.130\nfollowed by ing, or ed like that, okay.\n\n137\n00:06:47.130 --> 00:06:50.800\nAnd what that's telling me is,\nI wanna search for fish,\n\n138\n00:06:50.800 --> 00:06:56.190\nfollowed by a range of\npossible other options, right.\n\n139\n00:06:56.190 --> 00:06:59.310\nAnd so here I'm saying ing and ed so\n\n140\n00:06:59.310 --> 00:07:03.490\nif it finds fishing or\nfished, both will match this.\n\n141\n00:07:03.490 --> 00:07:04.080\nAll right?\n\n142\n00:07:04.080 --> 00:07:08.330\nNow, it's not going to match just the word\nfish, because just the word fish isn't\n\n143\n00:07:08.330 --> 00:07:12.510\nfollowed by ing or ed, so I might have\nto get a little bit creative there too.\n\n144\n00:07:12.510 --> 00:07:17.160\nAnd the way I can get around that,\nthe easiest way is to take the h out,\n\n145\n00:07:17.160 --> 00:07:21.920\nbecause then I can search for\nsomething like this.\n\n146\n00:07:21.920 --> 00:07:23.610\nThere's actually another\nmore complex way to do it,\n\n147\n00:07:23.610 --> 00:07:25.110\nthis is kind of an easier way to do it.\n\n148\n00:07:25.110 --> 00:07:29.830\nIf I search for this, it's going\nto find fish, fishing and fished.\n\n149\n00:07:29.830 --> 00:07:32.070\nAll three with one search term.\n\n150\n00:07:32.070 --> 00:07:34.130\nThat's the power of a regular expression.\n\n151\n00:07:34.130 --> 00:07:37.560\nIf I'm just looking for the word fishing,\nI don't need regular expressions.\n\n152\n00:07:37.560 --> 00:07:39.060\nDon't worry about it, right.\n\n153\n00:07:39.060 --> 00:07:43.740\nBut if I wanna find multiple terms,\nthen I can use the I keep saying find.\n\n154\n00:07:43.740 --> 00:07:45.280\nAnd that's how I use it the most common.\n\n155\n00:07:45.280 --> 00:07:46.780\nI'm trying to find information.\n\n156\n00:07:46.780 --> 00:07:49.460\nBut you can use regular expressions for\na lot of other things, too.\n\n157\n00:07:49.460 --> 00:07:51.280\nIt goes far beyond just searching for\nstuff.\n\n158\n00:07:51.280 --> 00:07:52.961\nBut that is the most common\nuse scenario for it.\n\n159\n00:07:52.961 --> 00:07:56.164\nAll right, so that square brackets,\nthat's basically opening up a range.\n\n160\n00:07:56.164 --> 00:07:58.441\nI'm looking for these various items.\n\n161\n00:07:58.441 --> 00:08:01.770\nAnything that matches this array\nof items Is gonna count and\n\n162\n00:08:01.770 --> 00:08:03.911\nwe're gonna find that and return it.\n\n163\n00:08:03.911 --> 00:08:04.758\nSo that's our first thing.\n\n164\n00:08:04.758 --> 00:08:07.740\n>> And\nobviously you separated it using a comma.\n\n165\n00:08:07.740 --> 00:08:09.880\nSo every one of the things\nthat I want to look for,\n\n166\n00:08:09.880 --> 00:08:12.450\nI just put a comma between them and\nthat separates them out.\n\n167\n00:08:12.450 --> 00:08:14.520\n>> Yeah, for\nthe most part there is an exception,\n\n168\n00:08:14.520 --> 00:08:17.740\nwhich would be if we wanted\nto do a true range, right?\n\n169\n00:08:17.740 --> 00:08:23.330\nSo maybe I had a series of files and\nthe files were I don't know,\n\n170\n00:08:23.330 --> 00:08:27.806\nsomething like, here,\nlet's change all this.\n\n171\n00:08:27.806 --> 00:08:30.390\nWe're gonna [LAUGH],\nlet me get my formatting straight so\n\n172\n00:08:30.390 --> 00:08:32.380\nwe'll be able to keep\nall this stuff apart.\n\n173\n00:08:32.380 --> 00:08:35.780\nSo let's say I'm looking for files that\nend in a series of numbers, right?\n\n174\n00:08:35.780 --> 00:08:42.013\nSo maybe I've got test01, I've got test02,\nI've got test03 and I've got test04.\n\n175\n00:08:42.013 --> 00:08:46.029\nOkay, and I wanna run a command and\nI want that command\n\n176\n00:08:46.029 --> 00:08:50.952\nto affect the files that are just\ntest02 and test03, right?\n\n177\n00:08:50.952 --> 00:08:55.590\nAnd maybe these are text files, so I'll\njust add .txt to the end of them, okay.\n\n178\n00:08:55.590 --> 00:09:00.540\nSo I'm gonna run some command that's\njust going to modify file test02 and\n\n179\n00:09:00.540 --> 00:09:02.340\ntest03, all right?\n\n180\n00:09:02.340 --> 00:09:07.540\nWhat I could do is I could use\na regular expression that looked for\n\n181\n00:09:07.540 --> 00:09:11.730\ntest0 and then I could open up a bracket.\n\n182\n00:09:11.730 --> 00:09:17.680\nAnd I could say 2-3, like that, .txt.\n\n183\n00:09:17.680 --> 00:09:19.810\nOkay, now when I do this,\n\n184\n00:09:19.810 --> 00:09:24.130\nit's gonna say the range of 2 through\n3 which is not an amazing range.\n\n185\n00:09:24.130 --> 00:09:25.710\nI should have had\na slightly better example.\n\n186\n00:09:25.710 --> 00:09:30.497\nLet's say I had a test05.txt and I wanted\nto modify files 2 through 4, right?\n\n187\n00:09:30.497 --> 00:09:34.623\nSo now I could say 2 through 4 and\nso it get test02,\n\n188\n00:09:34.623 --> 00:09:39.790\ntest03 and test04 all with this one entry,\ndoing a range.\n\n189\n00:09:39.790 --> 00:09:43.040\nAnd the range works with numbers\nas well as letters, right?\n\n190\n00:09:43.040 --> 00:09:48.080\nSo I do this when I'm searching for the\nfirst character of a line or something.\n\n191\n00:09:48.080 --> 00:09:49.660\nThere's different ways you can do it.\n\n192\n00:09:49.660 --> 00:09:55.346\nBut you could come in and\ndo something like test0 and\n\n193\n00:09:55.346 --> 00:09:59.711\nthen you can search for 0 through 9.\n\n194\n00:09:59.711 --> 00:10:04.757\nIf we were doing all of those test00\nall the way through test09 or\n\n195\n00:10:04.757 --> 00:10:07.820\nyou can even say a through z, right?\n\n196\n00:10:07.820 --> 00:10:11.360\nSo now any file searches test0 and\nthen the letter a.\n\n197\n00:10:11.360 --> 00:10:13.370\nJust be aware that these\nare case sensitive.\n\n198\n00:10:13.370 --> 00:10:16.010\nSo if I wanted to get capital and\nlowercase letters,\n\n199\n00:10:16.010 --> 00:10:18.770\nI actually need to combine it with that\ncomma that we still have up there.\n\n200\n00:10:18.770 --> 00:10:24.320\nI can search for\ntes0 a through z, A through Z and\n\n201\n00:10:24.320 --> 00:10:27.770\nsee how one is lower case and\none is capitalized.\n\n202\n00:10:27.770 --> 00:10:31.300\nSo that way I'm saying get\nboth of these ranges and\n\n203\n00:10:31.300 --> 00:10:33.420\nheck maybe I even add 0 through 9.\n\n204\n00:10:33.420 --> 00:10:35.401\nRight, so\nnow I'm getting my common characters but\n\n205\n00:10:35.401 --> 00:10:38.380\nnot my special characters like\npunctuation and all that other stuff.\n\n206\n00:10:38.380 --> 00:10:40.710\nSo these are my ranges\nthat I'm looking for.\n\n207\n00:10:40.710 --> 00:10:45.470\nAnd that's another way to be able to\nlocate more than one string of text\n\n208\n00:10:45.470 --> 00:10:48.970\nin a file list, in data output,\nin command output,\n\n209\n00:10:48.970 --> 00:10:51.060\nwhatever it is that we're searching for.\n\n210\n00:10:51.060 --> 00:10:53.690\n>> So that's obviously starting\nto get a little more powerful.\n\n211\n00:10:53.690 --> 00:10:58.560\nWe see that we can start putting in ranges\nof characters and it's not so bad so far.\n\n212\n00:10:58.560 --> 00:10:59.850\nVery, very simple.\n\n213\n00:10:59.850 --> 00:11:03.160\nNow Don, this is great for\nif I know I've got test01 through test05,\n\n214\n00:11:03.160 --> 00:11:04.890\nI can just say, that's great.\n\n215\n00:11:04.890 --> 00:11:09.290\nI'll put that in my regular expression,\ngive it that range and I can affect those.\n\n216\n00:11:09.290 --> 00:11:12.320\nWhat if I'm not 100% sure or\n\n217\n00:11:12.320 --> 00:11:16.300\nit could be like we what had with\nour fishing or fish, fished.\n\n218\n00:11:16.300 --> 00:11:19.270\nI want variations of it and\nI just want every kind of variation,\n\n219\n00:11:19.270 --> 00:11:21.210\nmaybe even the ones I can't think of.\n\n220\n00:11:21.210 --> 00:11:22.290\nIs there any way to do that?\n\n221\n00:11:22.290 --> 00:11:24.088\n>> So that's where we can use wildcards,\nright?\n\n222\n00:11:24.088 --> 00:11:27.038\nAnd you have wildcards in regular\nexpressions and most of you guys\n\n223\n00:11:27.038 --> 00:11:30.430\nare probably familiar with wildcards\nfrom just using regular utilities.\n\n224\n00:11:30.430 --> 00:11:32.650\nLike LS, when you pull up a file listing,\n\n225\n00:11:32.650 --> 00:11:35.120\nyou can use wildcards to\nfilter the files that you get.\n\n226\n00:11:35.120 --> 00:11:37.060\nAnd regular expressions have that too.\n\n227\n00:11:37.060 --> 00:11:40.330\nSo in a regular expression,\nI can come in and I can say.\n\n228\n00:11:41.340 --> 00:11:46.710\nFor example, if I wanna find test0,\nlet's use the same example I did up here.\n\n229\n00:11:46.710 --> 00:11:51.778\nSo if I did a test0 and\nthen 0 through 9.txt,\n\n230\n00:11:51.778 --> 00:11:55.962\nthat would find test00, test01,\n\n231\n00:11:55.962 --> 00:12:01.300\ntest02, all the way up to test09.txt.\n\n232\n00:12:01.300 --> 00:12:07.267\nOkay, I could've also said that\nI wanna look for test0.txt.\n\n233\n00:12:07.267 --> 00:12:10.603\nOkay, now I just did two periods so\nit's just gonna look for\n\n234\n00:12:10.603 --> 00:12:12.850\na file with two periods, right?\n\n235\n00:12:12.850 --> 00:12:14.300\nWell, I didn't mention it above but\n\n236\n00:12:14.300 --> 00:12:17.780\na period in a regular\nexpression is a wildcard.\n\n237\n00:12:17.780 --> 00:12:21.690\nAnd what it means is any one character,\nright?\n\n238\n00:12:21.690 --> 00:12:26.073\nSo when I wrote up here test05.txt,\nif I did a search for that,\n\n239\n00:12:26.073 --> 00:12:31.620\nit would actually look for test05 and\nthen any character followed by txt.\n\n240\n00:12:31.620 --> 00:12:32.630\nAny one character.\n\n241\n00:12:32.630 --> 00:12:37.080\nSo I can have test051.txt and\nit would've found that, right?\n\n242\n00:12:37.080 --> 00:12:39.250\nAny one character.\n\n243\n00:12:39.250 --> 00:12:43.940\nAnd so by doing it this way,\nit would find test01, test02, test09.\n\n244\n00:12:43.940 --> 00:12:48.943\nIt would also find test0a, test0!,\ntest0 anything .txt, right?\n\n245\n00:12:48.943 --> 00:12:53.514\nAnd what I should really do is\nbe a little extra careful here\n\n246\n00:12:53.514 --> 00:12:57.130\ncuz technically I've got two wildcards.\n\n247\n00:12:57.130 --> 00:13:01.220\nSo this would be test0\nfollowed by any one character,\n\n248\n00:13:01.220 --> 00:13:05.010\nfollowed by another any one character,\nfollowed by txt.\n\n249\n00:13:05.010 --> 00:13:09.574\nIf I wanna mark that this is not a special\nwildcard, that this is just a regular\n\n250\n00:13:09.574 --> 00:13:13.242\nperiod, I have to do what's\ncalled escaping the character.\n\n251\n00:13:13.242 --> 00:13:17.380\nAnd you escape the character by\nputting a backslash before it, okay?\n\n252\n00:13:17.380 --> 00:13:21.220\nThat tells the regular expression hey,\nthat's just a regular period.\n\n253\n00:13:21.220 --> 00:13:29.400\nOkay, so now it's gonna look for test0\nfollowed by any one character, any value,\n\n254\n00:13:29.400 --> 00:13:34.870\nfollowed by an actual period and\nthen txt, right?\n\n255\n00:13:34.870 --> 00:13:37.790\nSo we do have to be careful with that\ncuz regular expressions are doing\n\n256\n00:13:37.790 --> 00:13:38.530\nspecial things.\n\n257\n00:13:38.530 --> 00:13:40.430\nLook up here in my ranges, right?\n\n258\n00:13:40.430 --> 00:13:44.010\nWhen I specified this range which I lost a\nclosing bracket there, but when I look for\n\n259\n00:13:44.010 --> 00:13:45.050\nthis range.\n\n260\n00:13:45.050 --> 00:13:48.450\nHow did it know that\ndash meant a range and\n\n261\n00:13:48.450 --> 00:13:50.430\nthat I wasn't just searching for a dash?\n\n262\n00:13:50.430 --> 00:13:52.960\nRight, maybe I'm searching for\na dash, right?\n\n263\n00:13:52.960 --> 00:13:55.630\nOr maybe I'm searching for a comma.\n\n264\n00:13:55.630 --> 00:13:59.460\nAnd the way I would search for a comma is\nI would have to write backslash comma.\n\n265\n00:13:59.460 --> 00:14:01.720\nAnd now it would know to look for\nan actual comma.\n\n266\n00:14:01.720 --> 00:14:05.030\nOr backslash hyphen and it would know\nI'm looking for an actual hyphen, right?\n\n267\n00:14:05.030 --> 00:14:06.430\nBut without escaping those characters,\n\n268\n00:14:06.430 --> 00:14:08.610\nthey are interpreted by\nthe regular expression.\n\n269\n00:14:08.610 --> 00:14:12.660\nAnd some characters have special meanings\nand hyphens and commas are some of those.\n\n270\n00:14:12.660 --> 00:14:14.800\n>> Yeah, I've also heard that\ncalled negation as well.\n\n271\n00:14:14.800 --> 00:14:17.340\nThat might be some common\nterminology here when it comes to\n\n272\n00:14:17.340 --> 00:14:20.880\nescaping those characters, those special\ncharacters for regular expression.\n\n273\n00:14:20.880 --> 00:14:23.030\nNow what's funny to me though Don,\nis we used a period and\n\n274\n00:14:23.030 --> 00:14:24.570\nyou said that's a wildcard.\n\n275\n00:14:24.570 --> 00:14:28.060\nAnd probably in and\nI'm sure most of you out there as well,\n\n276\n00:14:28.060 --> 00:14:32.080\nwe've always used traditionally\na asterisk as a type of wildcard.\n\n277\n00:14:32.080 --> 00:14:35.380\n>> Yeah, and\nin the LS command for example,\n\n278\n00:14:35.380 --> 00:14:38.120\nyou can use asterisk all the time,\nuntil the cows come home and it'll work.\n\n279\n00:14:38.120 --> 00:14:44.953\nSo, if I wanted to find the test files\nhere, I could do LStest*.txt and\n\n280\n00:14:44.953 --> 00:14:47.480\nit would find test\nfollowed by anything .txt.\n\n281\n00:14:47.480 --> 00:14:48.997\nRight, and that's how LS works,\n\n282\n00:14:48.997 --> 00:14:52.320\nbut in a regular expression the stars\na little bit special, okay?\n\n283\n00:14:52.320 --> 00:14:55.070\nBecause what the star\ndoes is this wildcard.\n\n284\n00:14:55.070 --> 00:14:58.474\nIt's a wild card that stands for\nany number of characters.\n\n285\n00:14:58.474 --> 00:15:02.370\nWhere as the dot is is a single character,\nthe asterisk is any number of characters.\n\n286\n00:15:02.370 --> 00:15:05.860\nBut it's not any,\nwhat's the best way to put this?\n\n287\n00:15:05.860 --> 00:15:07.880\nIt's not any character at all,\n\n288\n00:15:07.880 --> 00:15:13.440\nit's any number of the previous character,\nlet me show you what I mean.\n\n289\n00:15:13.440 --> 00:15:16.960\nSo let's say I had a couple of files here,\n\n290\n00:15:16.960 --> 00:15:20.893\nI don't know we'll just\nkind of make some up.\n\n291\n00:15:20.893 --> 00:15:24.856\nAnd let's say that I had ab.txt,\n\n292\n00:15:24.856 --> 00:15:29.101\nmaybe I have abb.txt, abbb.txt.\n\n293\n00:15:29.101 --> 00:15:35.640\nAnd maybe I've got abc.txt and\na few things like this, okay?\n\n294\n00:15:35.640 --> 00:15:39.300\nNow if I were to come in and\ndo a search for something like this and\n\n295\n00:15:39.300 --> 00:15:41.480\nI were to look for ab.\n\n296\n00:15:42.940 --> 00:15:46.627\nAnd I wanted to find all\nthe files that well,\n\n297\n00:15:46.627 --> 00:15:52.317\nlet's just say I wanted all the files\nthat started with ab, right?\n\n298\n00:15:52.317 --> 00:15:58.131\nSo my temptation because I might have\nlike a def.txt or something afterwards.\n\n299\n00:15:58.131 --> 00:16:00.240\nI wanna find all the files\nthat start with ab.\n\n300\n00:16:00.240 --> 00:16:03.165\nWell the old directory search\nmethod would be to look for ab*.\n\n301\n00:16:03.165 --> 00:16:07.530\nAll right, if I look for ab*, that's\ngoing to return ab followed by anything.\n\n302\n00:16:07.530 --> 00:16:13.085\nBut in a regular expression, what that\nwould actually look for is ab followed\n\n303\n00:16:13.085 --> 00:16:18.760\nby any number of repeating b's which\nactually kinda works out for me here.\n\n304\n00:16:18.760 --> 00:16:23.416\nIt would find ab, it would also find\nabb and it would find abbb, but\n\n305\n00:16:23.416 --> 00:16:28.323\nit wouldn't find abc, and\nthat's because it's followed not by a b,\n\n306\n00:16:28.323 --> 00:16:31.670\nbut followed by a c,\nby a different character.\n\n307\n00:16:31.670 --> 00:16:35.154\nAnd in fact this would actually fail for\nall these because I'm not counting my\n\n308\n00:16:35.154 --> 00:16:37.795\n.txt, so I'd really need\nto add like a \\.txt, right.\n\n309\n00:16:38.940 --> 00:16:43.339\nSo, I'm saying, \\.,\nI'm looking for an actual .txt.\n\n310\n00:16:43.339 --> 00:16:49.245\nSo now it's looking for ab followed by any\nnumber of recurring instances of b and\n\n311\n00:16:49.245 --> 00:16:53.477\nthen, so if you want to true\nasterisk type of variation,\n\n312\n00:16:53.477 --> 00:16:58.650\nwhat you would normally do is\nstick a dot right there, .*.\n\n313\n00:16:58.650 --> 00:17:01.440\nBecause the dot means any characters, and\n\n314\n00:17:01.440 --> 00:17:05.300\nthe star attached to it means any\nrepetition of any character and so\n\n315\n00:17:05.300 --> 00:17:07.780\nnow you get a little bit more flexibility\nthere, and you can locate it.\n\n316\n00:17:07.780 --> 00:17:12.410\nSo just be aware that the asterisks\nworks differently inside of a regular\n\n317\n00:17:12.410 --> 00:17:16.350\nexpression than it does\ninside of something else.\n\n318\n00:17:16.350 --> 00:17:18.820\nSo it's just something that\nwe have to be aware of, and\n\n319\n00:17:18.820 --> 00:17:22.474\nI'll show you guys some examples using the\nutility called GREP in a little bit and\n\n320\n00:17:22.474 --> 00:17:25.374\nI'll make sure to use this so\nyou can kinda see what it matches and\n\n321\n00:17:25.374 --> 00:17:27.280\nwhat it doesn't in a real world example.\n\n322\n00:17:27.280 --> 00:17:30.570\nRight now, I just kinda wanna cover the\nsyntax and then we'll see it in action.\n\n323\n00:17:30.570 --> 00:17:33.120\n>> All right, well if you haven't\nopened your bottle of Mad Dog yet,\n\n324\n00:17:33.120 --> 00:17:36.180\nyou're getting ready to because now\nit's starting to get really fun.\n\n325\n00:17:36.180 --> 00:17:40.990\nNow if I wanna look for a specific thing\nlike as Don said, regular expressions\n\n326\n00:17:40.990 --> 00:17:44.690\nare usually really great for looking\ninside of a file, it also is great for\n\n327\n00:17:44.690 --> 00:17:48.900\nsearching for files as well, but sometimes\ninside of a file, I'm looking for a line\n\n328\n00:17:48.900 --> 00:17:52.644\nthat starts with such and such, and that's\nwhat we're gonna look at next, right?\n\n329\n00:17:52.644 --> 00:17:57.740\n>> Absolutely, so for example, let's say\nthat, let me go over to my text editor.\n\n330\n00:17:57.740 --> 00:18:00.610\nSo this is a little text editor I use,\nit's called sublime text.\n\n331\n00:18:00.610 --> 00:18:03.055\nIt runs on Linux, Mac, Windows, whatever.\n\n332\n00:18:03.055 --> 00:18:05.860\nSo it's one that the developers use and\n\n333\n00:18:05.860 --> 00:18:09.280\nI've got just a really simple\nHTML files written here, okay?\n\n334\n00:18:09.280 --> 00:18:12.660\nI might be looking for a word, right?\n\n335\n00:18:12.660 --> 00:18:16.300\nI might be looking for the word,\nlet's see what would be a good one.\n\n336\n00:18:16.300 --> 00:18:21.470\nHow about the word, hm,\nhow about this, okay?\n\n337\n00:18:21.470 --> 00:18:26.432\nAnd I'm just gonna add one more sentence\nhere to say like this sentence ends\n\n338\n00:18:26.432 --> 00:18:28.350\nwith this, all right?\n\n339\n00:18:28.350 --> 00:18:32.621\nSo, I wanna search and find this, T-H-I-S,\n\n340\n00:18:32.621 --> 00:18:37.140\nright and here I've got it at the\nbeginning, here I've got it at the end,\n\n341\n00:18:37.140 --> 00:18:40.910\nI might want to find the word this when\nit's at the beginning of a sentence, or\n\n342\n00:18:40.910 --> 00:18:43.660\nthe word, this,\nwhen it's at the end of a sentence and\n\n343\n00:18:43.660 --> 00:18:46.790\nI might not want to find every\noccurrence of the word this.\n\n344\n00:18:46.790 --> 00:18:49.611\nSo in a regular expression,\nyou have some special characters.\n\n345\n00:18:49.611 --> 00:18:54.655\nYou have the carrot mark which\nactually looks like this,\n\n346\n00:18:54.655 --> 00:18:59.384\nright and you've got the dollar sign and\nthe dollar,\n\n347\n00:18:59.384 --> 00:19:04.532\nif I can write it, the dollar\nsign means the end of a line and\n\n348\n00:19:04.532 --> 00:19:09.510\nthe carrot means the beginning\nof the line, all right.\n\n349\n00:19:09.510 --> 00:19:13.040\nSo the two different symbols are basically\nreferencing where we are looking for\n\n350\n00:19:13.040 --> 00:19:14.010\nthis text.\n\n351\n00:19:14.010 --> 00:19:18.670\nSo if I was looking for the the word\nthis at the beginning of the line,\n\n352\n00:19:18.670 --> 00:19:23.980\nI could do a search for this,\nright and now it's gonna look for\n\n353\n00:19:23.980 --> 00:19:27.040\nthe word this, only when it occurs\nat the beginning of the line.\n\n354\n00:19:27.040 --> 00:19:30.520\nOr if I wanted to look for it at the end\nof the sentence, or end of the line,\n\n355\n00:19:30.520 --> 00:19:35.550\nI might look for this dollar sign,\nfind it at the end of the line, okay.\n\n356\n00:19:35.550 --> 00:19:38.410\nAnd you'll find a lot of\nsoftware out there like this one.\n\n357\n00:19:38.410 --> 00:19:42.220\nSo like I said,\nthis is sublime text and if I go and\n\n358\n00:19:42.220 --> 00:19:47.500\ndo a find result in it, maybe even a find\nand replace, when it opens up down here,\n\n359\n00:19:47.500 --> 00:19:50.152\nyou can actually see some of my\nstuff that I have written before.\n\n360\n00:19:50.152 --> 00:19:53.290\nAll right so, you'll see here where\nI can do a search and replace and\n\n361\n00:19:53.290 --> 00:19:56.840\nit actually has an option right here\nto do use a regular expression.\n\n362\n00:19:56.840 --> 00:19:59.670\nIt's built into this software's search\nfeature and you'll find that a lot.\n\n363\n00:19:59.670 --> 00:20:02.610\nSo it's useful in the Linux command line\nutility, it's useful in other software,\n\n364\n00:20:02.610 --> 00:20:05.190\nregular expressions are pretty\nwell generally accepted.\n\n365\n00:20:05.190 --> 00:20:10.030\nAnd so if I look for\na sentence that begins with the word this,\n\n366\n00:20:10.030 --> 00:20:11.860\nI could say find, and\n\n367\n00:20:11.860 --> 00:20:17.190\nI'll do the little upper aerial carrot\nsymbol, followed by this, okay.\n\n368\n00:20:17.190 --> 00:20:20.360\nAnd it is case sensitive, so\nI'm doing a capital T, but you know what,\n\n369\n00:20:20.360 --> 00:20:25.590\nI could box that in and just say,\nI'm looking for the word this\n\n370\n00:20:25.590 --> 00:20:30.390\nwhether that T is capital or not, as long\nas it's at the beginning of the sentence.\n\n371\n00:20:30.390 --> 00:20:31.970\nThat's what I want to find.\n\n372\n00:20:31.970 --> 00:20:35.360\nAnd if I go into a search, actually\nI bet that won't find anything and\n\n373\n00:20:35.360 --> 00:20:38.458\nI'll show you guys why,\nwhen I go into a search, sure enough,\n\n374\n00:20:38.458 --> 00:20:41.580\nit didn't find anything,\nI didn't get any, right.\n\n375\n00:20:41.580 --> 00:20:43.572\nAnd the reason is the word this here,\n\n376\n00:20:43.572 --> 00:20:46.530\nis actually not at\nthe beginning of the sentence.\n\n377\n00:20:46.530 --> 00:20:47.560\nIt's at the beginning of the sentence.\n\n378\n00:20:47.560 --> 00:20:48.533\nI shouldn't say it that way.\n\n379\n00:20:48.533 --> 00:20:51.191\nIt's not at the beginning of the line,\nright?\n\n380\n00:20:51.191 --> 00:20:54.460\nI've got two tabs before it right here.\n\n381\n00:20:54.460 --> 00:20:57.530\nSo if I were to get rid of those tabs,\nwhoops [LAUGH],\n\n382\n00:20:57.530 --> 00:21:02.500\nif I were to break my file, not quite\nwhat I intended to do, there we go,\n\n383\n00:21:02.500 --> 00:21:07.650\nnotice how the software is starting\nto box those words, this in.\n\n384\n00:21:07.650 --> 00:21:12.800\nAnd the reason that it's boxing them in is\nthey're now at the beginning of that line.\n\n385\n00:21:12.800 --> 00:21:15.880\nAnd when I wrote my regular expression,\nI said find the word, this,\n\n386\n00:21:15.880 --> 00:21:17.350\nat the beginning of the line.\n\n387\n00:21:17.350 --> 00:21:21.690\nThe same thing would happen if I looked\nfor this at the end of the line.\n\n388\n00:21:21.690 --> 00:21:25.560\nSo if I come in here and\nsay find it at the end of the line,\n\n389\n00:21:25.560 --> 00:21:31.440\nnow it's looking and it actually seems\nto have worked there, hasn't it?\n\n390\n00:21:31.440 --> 00:21:34.030\nI think it's processing\nmy expression wrong.\n\n391\n00:21:34.030 --> 00:21:37.630\nSo the reason I was saying it probably\nwouldn't find it is I've got this period\n\n392\n00:21:37.630 --> 00:21:40.640\nafterwards that should interfere\nwith that and there it goes,\n\n393\n00:21:40.640 --> 00:21:42.340\nnow it just unhighlighted everything.\n\n394\n00:21:42.340 --> 00:21:47.120\nSo now it hasn't found it and if I rerun\nmy Find, let me just hit Find real quick,\n\n395\n00:21:47.120 --> 00:21:49.270\nyeah sure enough,\nit didn't find it because of that period.\n\n396\n00:21:49.270 --> 00:21:52.040\nSo I just need to modify this a little\nmore where the word this is not actually\n\n397\n00:21:52.040 --> 00:21:53.010\nactually at the end.\n\n398\n00:21:53.010 --> 00:21:57.167\nI'll do a \\., so that it knows\nthere's going to be a period, and\n\n399\n00:21:57.167 --> 00:22:00.160\nas soon as I do that,\nit highlights it, right?\n\n400\n00:22:00.160 --> 00:22:01.110\nSo, now it finds it.\n\n401\n00:22:01.110 --> 00:22:04.170\nSo that was actually a pretty\ngood example right there of using\n\n402\n00:22:04.170 --> 00:22:08.080\nthe range of characters or the array of\ncharacters, followed by the beginning and\n\n403\n00:22:08.080 --> 00:22:11.550\nthe end of the line and\nusing the escape or\n\n404\n00:22:11.550 --> 00:22:14.290\nnegation character there to\nfree up that period to search.\n\n405\n00:22:14.290 --> 00:22:17.040\nYou guys kind of start to see how we\ncan use this to find exactly what\n\n406\n00:22:17.040 --> 00:22:17.950\nwe're looking for.\n\n407\n00:22:17.950 --> 00:22:21.010\n>> Yeah, I use this a lot\nwhen I'm dumping something,\n\n408\n00:22:21.010 --> 00:22:25.020\nsome output into a text file, and\nthen I want to look at it later.\n\n409\n00:22:25.020 --> 00:22:28.750\nThis becomes really, really handy for that\nbecause I can say well, if it was success,\n\n410\n00:22:28.750 --> 00:22:32.310\nit's gonna be the first word and if it was\nfailure, it's gonna be the second word.\n\n411\n00:22:32.310 --> 00:22:33.790\nThis is something I do quite often.\n\n412\n00:22:33.790 --> 00:22:35.260\nThese are typical types of things.\n\n413\n00:22:35.260 --> 00:22:36.430\nSo I can just look for the word success.\n\n414\n00:22:36.430 --> 00:22:39.860\nI only wanna see the successful\nentries in that file and\n\n415\n00:22:39.860 --> 00:22:42.500\nit just weeds out everything else,\ngives me only what I'm looking for.\n\n416\n00:22:42.500 --> 00:22:43.960\nIt's a very, very handy thing.\n\n417\n00:22:43.960 --> 00:22:47.240\n>> Yeah, and sometimes there's\neasier ways to do this stuff.\n\n418\n00:22:47.240 --> 00:22:50.330\nThere's always ten different ways to\ndo something with regular expressions.\n\n419\n00:22:50.330 --> 00:22:54.520\nSo for example, if I'm looking for the\nword this and I want it with a capital T\n\n420\n00:22:54.520 --> 00:22:58.680\nor a lower case t, there is actually\nan easier way that I could have done that.\n\n421\n00:22:58.680 --> 00:23:03.820\nI could have said I'm gonna look for\nThis and then did a pipe symbol.\n\n422\n00:23:03.820 --> 00:23:05.534\nThe pipe symbol are the two\nvertical lines,\n\n423\n00:23:05.534 --> 00:23:07.389\nusually right above your\nEnter key depending,\n\n424\n00:23:07.389 --> 00:23:10.168\nyou might be on an international keyboard,\nit might be different, but\n\n425\n00:23:10.168 --> 00:23:13.299\non a US keyboard it's right above the\nEnter key, and it's two vertical lines.\n\n426\n00:23:13.299 --> 00:23:18.591\nNow I look at mine it just shows one,\nit is actually two vertical lines,\n\n427\n00:23:18.591 --> 00:23:23.974\nbut anyhow, so I can do a pipe character\nand I can do This and then a pipe and\n\n428\n00:23:23.974 --> 00:23:28.320\nthis, right, one with a capital\nT one with a lower case t.\n\n429\n00:23:28.320 --> 00:23:33.170\nWhat I'm saying is look for\nthe first word, or the second word, right?\n\n430\n00:23:33.170 --> 00:23:36.700\nThat pipe symbol works as an or\nand so when I look for\n\n431\n00:23:36.700 --> 00:23:40.760\nthat and I run that search notice up here\nhow it's highlighted the word this and\n\n432\n00:23:40.760 --> 00:23:43.690\nthe beginning of the sentence, it's\nhighlighted at the end of the sentence,\n\n433\n00:23:43.690 --> 00:23:48.150\nit's even got this one down here that has\na lower case t, so it's finding them both.\n\n434\n00:23:48.150 --> 00:23:51.890\nAnd that's a little bit faster to type\nin some cases, unless you're looking for\n\n435\n00:23:51.890 --> 00:23:55.036\na long string in which case the square\nbrackets make it a lot easier.\n\n436\n00:23:55.036 --> 00:23:58.191\nSo that's another option\nthat's available for us.\n\n437\n00:23:58.191 --> 00:24:00.756\nNow, where things gets really crazy,\nall right.\n\n438\n00:24:00.756 --> 00:24:05.355\nIs that, when you're finding strings,\nlet's say that you're wanting to replace.\n\n439\n00:24:05.355 --> 00:24:09.940\nNotice that here in sublime text,\nI'm in a find and replace screen, right.\n\n440\n00:24:09.940 --> 00:24:14.418\nI might wanna look for one string,\nand replace it with another, right.\n\n441\n00:24:14.418 --> 00:24:18.054\nSo when I look up here I see all this\nstuff that says this is a sentence,\n\n442\n00:24:18.054 --> 00:24:22.451\nand maybe I screwed up and instead of\nspelling sentence S-E-N-T-E-N-C-E,\n\n443\n00:24:22.451 --> 00:24:24.640\nI spelled it S-E-N-T-A-N-C-E.\n\n444\n00:24:24.640 --> 00:24:26.431\nRight?\nThe other spelling which means\n\n445\n00:24:26.431 --> 00:24:28.630\nsomething completely different.\n\n446\n00:24:28.630 --> 00:24:31.350\nSo I wanna do a search and\nreplace to fix that.\n\n447\n00:24:31.350 --> 00:24:34.560\nWell, I can easily come in here and\ndo a search for\n\n448\n00:24:35.620 --> 00:24:39.990\nsentence and swap that out,\njust making the e an a.\n\n449\n00:24:39.990 --> 00:24:40.960\nRight?\nA find and replace.\n\n450\n00:24:40.960 --> 00:24:42.340\nNothing special there.\n\n451\n00:24:42.340 --> 00:24:48.490\nBut sometimes I wanna find a string and\njust change particular parts of it, right?\n\n452\n00:24:48.490 --> 00:24:51.470\nThere may just be one particular\npiece that I wanna change, and\n\n453\n00:24:51.470 --> 00:24:52.920\nnot the whole thing.\n\n454\n00:24:52.920 --> 00:24:58.130\nAnd so when I do that, I might need\nto slice up what I'm searching for,\n\n455\n00:24:58.130 --> 00:25:00.210\nand you can use parenthesis to do that.\n\n456\n00:25:00.210 --> 00:25:04.160\nParenthesis in a regular expression\ndivide one big expression\n\n457\n00:25:04.160 --> 00:25:08.880\nup into smaller expressions, and\nthe smaller pieces that can be dealt with.\n\n458\n00:25:08.880 --> 00:25:11.610\nAnd then those slices can be reused.\n\n459\n00:25:11.610 --> 00:25:12.985\nAll right.\n\n460\n00:25:12.985 --> 00:25:15.735\nSo for example,\nlet's say that I'm looking for\n\n461\n00:25:15.735 --> 00:25:18.293\nany sentence that begins\nwith this is right?\n\n462\n00:25:18.293 --> 00:25:23.631\nSo I, I know that I want to find\nsentences that start with, this is,\n\n463\n00:25:23.631 --> 00:25:29.830\nokay, and then I want them to be followed\nby, really, any string after that.\n\n464\n00:25:29.830 --> 00:25:33.220\nReally, just any,\nanything else that's out there, okay,\n\n465\n00:25:33.220 --> 00:25:37.580\nand if I do that search right there and\nI hit my find.\n\n466\n00:25:37.580 --> 00:25:40.010\nYou'll see where it's highlighted\nmy first three sentences.\n\n467\n00:25:40.010 --> 00:25:43.840\nThey all begin with this is, and then\nthey end with just about anything else.\n\n468\n00:25:43.840 --> 00:25:44.520\nOkay.\n\n469\n00:25:44.520 --> 00:25:46.998\nNow what I wanna do is\nI wanna change them.\n\n470\n00:25:46.998 --> 00:25:49.140\nAnd I wanna change them so\n\n471\n00:25:49.140 --> 00:25:53.500\nthat they have maybe two tabs\nat the beginning of the line.\n\n472\n00:25:53.500 --> 00:25:54.590\nOkay?\n\n473\n00:25:54.590 --> 00:25:57.890\nOr maybe I wanna change it\nfrom this is to this is not.\n\n474\n00:25:57.890 --> 00:26:01.110\nOkay well I could come in here and\nsay well I wanna swap that and\n\n475\n00:26:01.110 --> 00:26:03.390\nI wanna say this is not.\n\n476\n00:26:03.390 --> 00:26:04.320\nBut if I do that,\n\n477\n00:26:04.320 --> 00:26:07.230\nit's actually gonna replace what\nit found before with this is not.\n\n478\n00:26:07.230 --> 00:26:09.890\nI need to reuse it,\nI don't need to lose my sentence,\n\n479\n00:26:09.890 --> 00:26:14.640\nI need to inject that character in there,\nI need to inject the word not into it.\n\n480\n00:26:14.640 --> 00:26:19.190\nAnd so what I can do is I can put\nparentheses around these things.\n\n481\n00:26:19.190 --> 00:26:23.895\nSo I'm gonna say a parentheses\naround this is, okay, and\n\n482\n00:26:23.895 --> 00:26:28.690\nthen an parentheses around\nthe whole rest of it, okay.\n\n483\n00:26:28.690 --> 00:26:33.440\nI'm slicing that query up,\nI'm slicing the regular\n\n484\n00:26:33.440 --> 00:26:39.160\nexpression up into two pieces and\nthen down here, I can reuse those pieces.\n\n485\n00:26:39.160 --> 00:26:42.690\nThe first set of parentheses, that's\ngonna be expression number one, and so\n\n486\n00:26:42.690 --> 00:26:44.900\nI can say slash one.\n\n487\n00:26:44.900 --> 00:26:47.336\nWhatever was in that first slice,\n\n488\n00:26:47.336 --> 00:26:51.370\nI'm gonna put it right here\nfollowed by a space, right.\n\n489\n00:26:52.630 --> 00:26:55.670\nSometimes we have to escape the space,\nnot always, I'm gonna do it just to be on\n\n490\n00:26:55.670 --> 00:26:58.610\nthe safe side, it usually doesn't\nhurt to escape something.\n\n491\n00:26:58.610 --> 00:27:00.480\nSo I'll go ahead and\ndo that to be on the safe side.\n\n492\n00:27:00.480 --> 00:27:06.660\nAnd I'm gonna add the word not, and\nthen I want everything that came after it.\n\n493\n00:27:06.660 --> 00:27:08.650\nSo, I'll do a slash two.\n\n494\n00:27:08.650 --> 00:27:09.310\nOkay?\n\n495\n00:27:09.310 --> 00:27:13.950\nSo, whatever it found in the first\nexpression I'm gonna bring in here,\n\n496\n00:27:13.950 --> 00:27:17.900\nI'm gonna add a space not.\n\n497\n00:27:17.900 --> 00:27:20.380\nAnd then whatever it found\nin the second expression\n\n498\n00:27:20.380 --> 00:27:22.370\nis gonna get tacked on afterwards.\n\n499\n00:27:22.370 --> 00:27:25.110\nSo these are slices and it's a great\nway to divide up text numbering and\n\n500\n00:27:25.110 --> 00:27:26.080\nback again.\n\n501\n00:27:26.080 --> 00:27:29.681\nAnd so when I run this,\nmy sentences should be preserved,\n\n502\n00:27:29.681 --> 00:27:34.385\nassuming that I wrote it right and so\nI'll hit a replace all and sure enough,\n\n503\n00:27:34.385 --> 00:27:36.930\nwhen I look, it's injected the word.\n\n504\n00:27:36.930 --> 00:27:39.620\nWell, it's actually injected space n-o-t.\n\n505\n00:27:39.620 --> 00:27:43.530\nRight, that's what it injected in, and the\nfirst part here was my first slice, and\n\n506\n00:27:43.530 --> 00:27:44.650\nthe other part was the second slice.\n\n507\n00:27:44.650 --> 00:27:47.470\nSo we can dice things up and\nreally make some good use out of it.\n\n508\n00:27:47.470 --> 00:27:48.640\n>> Like a Ginsu master.\n\n509\n00:27:48.640 --> 00:27:51.840\nUsing the regular expression, and that's\nwhy we say this can get really complex.\n\n510\n00:27:51.840 --> 00:27:56.420\nYou can start to see as you learn more of\nthe functionality of regular expression\n\n511\n00:27:56.420 --> 00:27:58.670\nhow you can put a regular\nexpression together.\n\n512\n00:27:58.670 --> 00:28:01.120\nThe multiple ways in which\nyou could do it this way or\n\n513\n00:28:01.120 --> 00:28:04.020\nthat way, it starts to become more and\nmore complex.\n\n514\n00:28:04.020 --> 00:28:07.260\nObviously the power increases\nas you learn more but\n\n515\n00:28:07.260 --> 00:28:11.975\nit also, your knowledge needs to increase\nas well so just keep that in mind.\n\n516\n00:28:11.975 --> 00:28:13.775\nDon, where do we move to next?\n\n517\n00:28:13.775 --> 00:28:16.895\n>> All right so, I've just been showing\nyou guys here with some examples\n\n518\n00:28:16.895 --> 00:28:18.965\nin text files or whatever.\n\n519\n00:28:18.965 --> 00:28:23.092\nBut I wanna show you guys some actual\nuses for this that can be pretty handy.\n\n520\n00:28:23.092 --> 00:28:28.902\nSo let me jump back to my CentOS\nbox here and get into a terminal.\n\n521\n00:28:28.902 --> 00:28:33.032\nAnd I'll show you guys some ways that we\ncan actually use this for fun and for\n\n522\n00:28:33.032 --> 00:28:34.092\nprofit, right.\n\n523\n00:28:34.092 --> 00:28:38.212\nSo, when we use regular expressions,\none of the most\n\n524\n00:28:38.212 --> 00:28:42.932\ncommon ways to use it is with a command\nline utility called Grep, right.\n\n525\n00:28:42.932 --> 00:28:44.452\nGrep, and I'm gonna have to cheat and\n\n526\n00:28:44.452 --> 00:28:47.170\nlook at my notes cuz I can never\nremember what it stands for.\n\n527\n00:28:47.170 --> 00:28:52.160\n>> What will regular expression something-\n>> You'd think that the reason I\n\n528\n00:28:52.160 --> 00:28:57.600\nwrote it down is because it's globally\nsearch a regular expression and print.\n\n529\n00:28:57.600 --> 00:29:00.900\nIt's not something you'd intuitively\ncuz there isn't a letter for each word.\n\n530\n00:29:00.900 --> 00:29:03.990\nBut anyhow, it's Grep a unit utility.\n\n531\n00:29:03.990 --> 00:29:06.299\nIt's been around forever.\n\n532\n00:29:06.299 --> 00:29:09.296\nIf you fire up a command prompter and\nrun grep, you'll see that it exists.\n\n533\n00:29:09.296 --> 00:29:10.590\nIt's there.\n\n534\n00:29:10.590 --> 00:29:13.570\nI think it's part of the base\nGNU utilities, or whatever.\n\n535\n00:29:13.570 --> 00:29:17.110\nSo, it is a part of every\ndistro that I've ever touched.\n\n536\n00:29:17.110 --> 00:29:21.090\nAnd what it let you do is,\nit let's you search for patterns and\n\n537\n00:29:21.090 --> 00:29:22.590\nyou can use it very simply.\n\n538\n00:29:22.590 --> 00:29:26.580\nSo, for example, if I do an ls dash, well,\nlet me get into my documents folder for\n\n539\n00:29:26.580 --> 00:29:31.280\nexample, and I do an ls dash la,\nI'm pulling up a list of all my files.\n\n540\n00:29:31.280 --> 00:29:36.480\nAnd I could take that list and\nI could pipe that into grep.\n\n541\n00:29:36.480 --> 00:29:39.700\nANd I could tell it to look for\nthe word files okay?\n\n542\n00:29:39.700 --> 00:29:43.930\nSo instead of returning everything, just\nreturn areas that have the word files and\n\n543\n00:29:43.930 --> 00:29:47.390\nwhen I run it, see how it just\nreturned files01, files02, files03.\n\n544\n00:29:47.390 --> 00:29:49.530\nIt didn't return everything else okay?\n\n545\n00:29:49.530 --> 00:29:51.330\nThat's the most simple usage of Grep.\n\n546\n00:29:52.370 --> 00:29:56.580\nBut Grep supports regular expressions and\nwith the regular expressions,\n\n547\n00:29:56.580 --> 00:29:59.640\nwe can really get in there and\nsearch some cool stuff.\n\n548\n00:29:59.640 --> 00:30:02.700\nAnd so, with Grep,\nit can search not just filenames but\n\n549\n00:30:02.700 --> 00:30:06.380\nit search the contents of the file and\nlook at what's in there and\n\n550\n00:30:06.380 --> 00:30:08.140\nit can search the output\nof other commands.\n\n551\n00:30:08.140 --> 00:30:12.480\nLike here, I was actually applying\nGrep to the output of ls -la.\n\n552\n00:30:12.480 --> 00:30:18.130\nI use the pipe symbol to say\ntake the output of ls -la and\n\n553\n00:30:18.130 --> 00:30:22.530\npipe that into grep and\nthen use grep to find the word files.\n\n554\n00:30:22.530 --> 00:30:24.310\nNow grep has two modes.\n\n555\n00:30:24.310 --> 00:30:27.550\nThe default mode is doing\nwhat's called a fixed string.\n\n556\n00:30:27.550 --> 00:30:28.720\nAnd that's what I look for here.\n\n557\n00:30:28.720 --> 00:30:29.600\nI just look for the word file.\n\n558\n00:30:29.600 --> 00:30:31.520\nIt's a fixed string,\nthat's what to look for.\n\n559\n00:30:31.520 --> 00:30:33.500\nIt's the most simple form.\n\n560\n00:30:33.500 --> 00:30:38.410\nAnd technically, that's grep -F,\nwhich is searching for\n\n561\n00:30:38.410 --> 00:30:41.040\na fixed string, and not every distro, but\n\n562\n00:30:41.040 --> 00:30:44.968\na lot of distros actually have\na separate command called fgrep.\n\n563\n00:30:44.968 --> 00:30:49.070\nAnd what fgrep is, is really just\ngrep dash F mapped to an alias.\n\n564\n00:30:49.070 --> 00:30:53.749\nSo, fgrep, grep dash F,\nthat's looking for a fixed string,\n\n565\n00:30:53.749 --> 00:30:56.652\nbut the cool one is grep -E.\n\n566\n00:30:56.652 --> 00:31:00.250\nGrep -E says look for a regular\nexpression, now we get advanced, and\n\n567\n00:31:00.250 --> 00:31:03.870\nextended regular expression\nthat E is actually standing.\n\n568\n00:31:03.870 --> 00:31:07.840\nSo again, a lot of distros a lot\nof egrep where you can search for\n\n569\n00:31:07.840 --> 00:31:11.520\nregular expressions, but again it's\njust grep -E mapped to an alias, so\n\n570\n00:31:11.520 --> 00:31:13.640\nthey're not true commands in and\nof that sense.\n\n571\n00:31:13.640 --> 00:31:17.260\nSo egrep and fgrep as well as grep itself.\n\n572\n00:31:17.260 --> 00:31:22.048\nNow using egrep I can jump in and\nfind all sorts of really cool stuff,\n\n573\n00:31:22.048 --> 00:31:25.324\nso for\nexample let's say that I'm looking for\n\n574\n00:31:25.324 --> 00:31:28.858\nthe configuration files for\nmy network adapter.\n\n575\n00:31:28.858 --> 00:31:30.986\nAnd I know that my\nnetwork adapter is eth0.\n\n576\n00:31:30.986 --> 00:31:35.750\nLet me run an ipconfig here,\nor ifconfig, and make sure.\n\n577\n00:31:35.750 --> 00:31:38.820\nActually, mine's eno,\nE-N-O, whatever, right?\n\n578\n00:31:38.820 --> 00:31:42.260\nSo I'm looking for its config file,\nand I wanna hunt that down and\n\n579\n00:31:42.260 --> 00:31:43.300\nlook at it, right?\n\n580\n00:31:43.300 --> 00:31:46.980\nSo what I could do is, I could go and\nhunt around and look for that file,\n\n581\n00:31:46.980 --> 00:31:50.130\nI could use the find command to find it,\nor I can also use grep.\n\n582\n00:31:50.130 --> 00:31:52.351\nSo I can come in here and\nsay I wanna use grep.\n\n583\n00:31:52.351 --> 00:31:56.775\nAnd I wanna do a recursive search,\nof the /etc/* folder,\n\n584\n00:31:56.775 --> 00:32:01.546\nI wanna search- All of /etc,\neverything that's inside of it,\n\n585\n00:32:01.546 --> 00:32:05.410\nand so that's what that asterisk is there.\n\n586\n00:32:05.410 --> 00:32:08.867\nNow what I wanna look for, though,\nis I wanna look for a string and so\n\n587\n00:32:08.867 --> 00:32:10.519\nI'm gonna add that right here.\n\n588\n00:32:10.519 --> 00:32:13.700\nI'm gonna look for eth0,\nwhich is what we normally have.\n\n589\n00:32:13.700 --> 00:32:16.210\nI'm gonna look for\nthis one cuz it's not gonna exist, right?\n\n590\n00:32:16.210 --> 00:32:18.113\nAnd actually I guess it is.\n\n591\n00:32:18.113 --> 00:32:19.936\nSo [LAUGH].\n>> [LAUGH] Showed you.\n\n592\n00:32:19.936 --> 00:32:20.811\n>> I didn't think it would exist.\n\n593\n00:32:20.811 --> 00:32:24.690\nBut anyhow, so it looks through every\nsingle file in there, trying to find it.\n\n594\n00:32:24.690 --> 00:32:27.250\nAnd you'll notice I didn't have\npermission to look at a lot of them, so\n\n595\n00:32:27.250 --> 00:32:30.140\nI got a bunch of permission denied\nerrors that kinda came back.\n\n596\n00:32:30.140 --> 00:32:32.050\nBut if I look for eno,\n\n597\n00:32:32.050 --> 00:32:37.860\nthat's the one that should actually\nrespond with my adapter files.\n\n598\n00:32:37.860 --> 00:32:40.727\nAnd it's looking inside of those files.\n\n599\n00:32:40.727 --> 00:32:43.620\nIt's looking for\nanywhere where that occurs.\n\n600\n00:32:43.620 --> 00:32:46.770\nAnd so we can hunt down a string and\nfind things really quickly.\n\n601\n00:32:46.770 --> 00:32:50.120\nNow when I ran that,\nI didn't do a regular expression.\n\n602\n00:32:50.120 --> 00:32:51.630\nThis is just a fixed string.\n\n603\n00:32:51.630 --> 00:32:56.330\nI was looking for the string e-n-o,\nand it was returning that data back.\n\n604\n00:32:56.330 --> 00:32:57.580\nAnd that's what I got.\n\n605\n00:32:57.580 --> 00:32:59.130\nBut if we wanna use a regular expression,\n\n606\n00:32:59.130 --> 00:33:01.650\nyou can get a little\nmore advanced with it.\n\n607\n00:33:01.650 --> 00:33:04.210\nYou can also pipe command output to it.\n\n608\n00:33:04.210 --> 00:33:07.518\nSo for example,\nwhen I run ifconfig I get a lot of stuff.\n\n609\n00:33:07.518 --> 00:33:12.191\nBut I might know that I'm looking for\nsomething in particular, so\n\n610\n00:33:12.191 --> 00:33:18.220\nI can just pipe that into grep and I could\nlook for e-t-h-e-r, ether or whatever.\n\n611\n00:33:18.220 --> 00:33:23.040\nSo when I look for that, now I just get\nthe lines that include the word ether.\n\n612\n00:33:23.040 --> 00:33:28.350\nAnd so there I am, I've got\nethernet MAC addresses right here.\n\n613\n00:33:28.350 --> 00:33:29.970\nThose are fixed stream.\n\n614\n00:33:29.970 --> 00:33:32.478\nIf I wanna go a little more advanced, so\n\n615\n00:33:32.478 --> 00:33:37.190\nmaybe I want the lines that have eno as\nwell as the lines that have ether, so\n\n616\n00:33:37.190 --> 00:33:41.312\nthat I can figure out what MAC\naddress is tied to what interface.\n\n617\n00:33:41.312 --> 00:33:44.560\nIf I want to find both, I need to\nuse a regular expression for that.\n\n618\n00:33:44.560 --> 00:33:49.960\nSo I can say ifconfig and\nI can pipe that into grep,\n\n619\n00:33:49.960 --> 00:33:54.240\nand I'll use -E so\nit knows I'm using a regular expression.\n\n620\n00:33:54.240 --> 00:33:57.510\nAnd then I'm just gonna tell it that what\nI wanna look for, I have to put it in\n\n621\n00:33:57.510 --> 00:34:04.440\nquotes, but what I wanna look for is\neither the string ether or the string eno.\n\n622\n00:34:04.440 --> 00:34:05.460\nThere's that pipe symbol.\n\n623\n00:34:05.460 --> 00:34:10.230\nI wanna look for either one of those and\ngive me that information back.\n\n624\n00:34:10.230 --> 00:34:13.700\nAnd so now when I run it,\nI was able to match both.\n\n625\n00:34:13.700 --> 00:34:16.610\nAnd now that ifconfig command\nnormally just gives me a ton\n\n626\n00:34:16.610 --> 00:34:19.330\nof visual output to deal with,\nI get something much more simple.\n\n627\n00:34:19.330 --> 00:34:21.110\nI get just the data that I need.\n\n628\n00:34:22.280 --> 00:34:24.920\nSo if I want to know what MAC\naddress is tied to what adapter,\n\n629\n00:34:24.920 --> 00:34:29.150\nI can quickly spot that right here without\nhaving to sift through everything else.\n\n630\n00:34:29.150 --> 00:34:30.394\nAnd that's just one example.\n\n631\n00:34:30.394 --> 00:34:34.180\nThere's plenty of other ways that you can\nuse it, really kinda sky's the limit.\n\n632\n00:34:34.180 --> 00:34:35.977\nFor example, here I was looking for eno.\n\n633\n00:34:35.977 --> 00:34:39.340\nSo if I had more than one of those\nnetwork adapters, they would all return.\n\n634\n00:34:39.340 --> 00:34:42.040\nMaybe I just want one that is eno16.\n\n635\n00:34:43.690 --> 00:34:45.670\nAnd so I could come in and\n\n636\n00:34:45.670 --> 00:34:51.320\nI could say I just wanna find lines\nthat have eno16 and that's it.\n\n637\n00:34:51.320 --> 00:34:53.686\nAnd that's not much of a regular\nexpression right there.\n\n638\n00:34:53.686 --> 00:34:55.450\nI'm not even using anything special.\n\n639\n00:34:55.450 --> 00:35:00.730\nSo I might wanna say only find eno16 when\nit's at the beginning of the line, so\n\n640\n00:35:00.730 --> 00:35:03.192\nany adapter that starts with eno16.\n\n641\n00:35:03.192 --> 00:35:06.080\nAnd then there it is.\nIt finds it and it gets me that data back.\n\n642\n00:35:06.080 --> 00:35:08.170\nAnd actually here's a great example for\nus.\n\n643\n00:35:08.170 --> 00:35:11.935\nSee how I got my adapter is eno16777736.\n\n644\n00:35:11.935 --> 00:35:13.540\nI've got repeating 7s.\n\n645\n00:35:13.540 --> 00:35:16.420\nLet me show you that wild\ncard we talked about earlier.\n\n646\n00:35:16.420 --> 00:35:22.080\nIf I look for eno16*, anything that\n\n647\n00:35:22.080 --> 00:35:27.160\nhas the beginning of the line that's eno\nfollowed by 16 and then an asterisk.\n\n648\n00:35:27.160 --> 00:35:30.320\nIf I run that, look at what it matches.\n\n649\n00:35:30.320 --> 00:35:33.910\nSo it matches eno16 and that's it.\n\n650\n00:35:33.910 --> 00:35:37.019\nIt doesn't match all this\nother stuff that's over here.\n\n651\n00:35:37.019 --> 00:35:39.756\nIt's not lit up in red, so\nI know it didn't match it, but\n\n652\n00:35:39.756 --> 00:35:41.020\nit matched that eno16.\n\n653\n00:35:42.730 --> 00:35:44.851\nSo when I ran that,\nit matched the base number.\n\n654\n00:35:44.851 --> 00:35:46.810\nIt didn't match the extended values.\n\n655\n00:35:46.810 --> 00:35:52.644\nIf I were to change that to\neno167 followed by a star.\n\n656\n00:35:52.644 --> 00:35:54.020\nSo eno167.\n\n657\n00:35:54.020 --> 00:35:58.726\nNow it's looking for eno167 and\nany repeating instances of that 7.\n\n658\n00:35:58.726 --> 00:36:03.140\nNow it comes in, and\nsee how it matched all the 7s?\n\n659\n00:36:03.140 --> 00:36:05.350\nThat shows how it's the repeating 7s.\n\n660\n00:36:05.350 --> 00:36:08.102\nAnd then if I run it again, and\nI'll just stick a dot before it.\n\n661\n00:36:08.102 --> 00:36:15.130\nSo now I'm saying look for eno16,\nI'll get rid of that 7, eno16.*.\n\n662\n00:36:15.130 --> 00:36:19.488\nSo I'm just gonna look for that, which\nmeans eno16 followed by any character, and\n\n663\n00:36:19.488 --> 00:36:22.490\nthen it can repeat as\nmany times as it wants.\n\n664\n00:36:22.490 --> 00:36:25.740\nAnd when I run that, see how it\nmatched the whole line that time?\n\n665\n00:36:25.740 --> 00:36:27.360\nThe whole line is lit up red.\n\n666\n00:36:27.360 --> 00:36:29.070\nSo it's just not repeating 7s.\n\n667\n00:36:29.070 --> 00:36:31.860\nIt's repeating any character and\nthe whole line matches.\n\n668\n00:36:31.860 --> 00:36:33.740\nSo that's that wild card\nI mentioned earlier,\n\n669\n00:36:33.740 --> 00:36:35.630\nkinda see it in action right here.\n\n670\n00:36:35.630 --> 00:36:36.850\n>> Very cool stuff, Don.\n\n671\n00:36:36.850 --> 00:36:39.310\nNow grep,\nobviously a very powerful tool and\n\n672\n00:36:39.310 --> 00:36:41.800\nsomething you're probably\ngonna use quite a bit.\n\n673\n00:36:41.800 --> 00:36:45.460\nBut also another tool that regular\nexpression uses quite oftenly,\n\n674\n00:36:45.460 --> 00:36:46.692\nwhich is sed, right?\n\n675\n00:36:46.692 --> 00:36:49.252\n>> Yeah, Daniel, there's plenty\nof commands to integrate this.\n\n676\n00:36:49.252 --> 00:36:51.150\nI know I showed you guys\nSublime Text earlier, but\n\n677\n00:36:51.150 --> 00:36:54.840\neven in the UNIX command line,\nwe've got things like sed.\n\n678\n00:36:54.840 --> 00:36:57.526\nSed, it stands for stream editor.\n\n679\n00:36:57.526 --> 00:37:00.970\nIt's a utility that's used to, well,\nbasically to edit text files, but\n\n680\n00:37:00.970 --> 00:37:04.350\nnot like what we normally think of,\nwhere we have an interactive editor and\n\n681\n00:37:04.350 --> 00:37:05.700\nwe're the ones doing the editing.\n\n682\n00:37:05.700 --> 00:37:09.970\nThere's times where you might wanna write\na script and have a script open up and\n\n683\n00:37:09.970 --> 00:37:13.270\nmodify a text file or create a text\nfile and write things to it, and\n\n684\n00:37:13.270 --> 00:37:14.390\nsed can do that.\n\n685\n00:37:14.390 --> 00:37:15.940\nSed can open up files and work with it.\n\n686\n00:37:15.940 --> 00:37:18.104\nIt's an editor that can be automated.\n\n687\n00:37:18.104 --> 00:37:21.010\nWe can have a stream of commands that we\nthrow at it and it can modify that text,\n\n688\n00:37:21.010 --> 00:37:23.430\nand it doesn't really even care\nwhere the text comes from.\n\n689\n00:37:23.430 --> 00:37:25.019\nSed's pretty powerful.\n\n690\n00:37:25.019 --> 00:37:27.902\nThere are entire books that\nare written on sed, but\n\n691\n00:37:27.902 --> 00:37:30.930\njust to give you guys kind of\na quick primer on it here.\n\n692\n00:37:30.930 --> 00:37:35.610\nIf you ever just run sed, it'll give\nyou some of the introductory syntax.\n\n693\n00:37:35.610 --> 00:37:38.710\nBut I find that this file doesn't\nreally show a lot of what we need.\n\n694\n00:37:38.710 --> 00:37:39.960\nBecause what you're gonna do,\n\n695\n00:37:39.960 --> 00:37:42.680\nwhen you run sed you need to\nprovide some options for it.\n\n696\n00:37:42.680 --> 00:37:45.312\nAnd let me tell you some\nof the most common options.\n\n697\n00:37:45.312 --> 00:37:48.490\n-i is probably one of the most common,\ncuz you're inserting.\n\n698\n00:37:48.490 --> 00:37:50.462\nAnd there's -a which is append.\n\n699\n00:37:50.462 --> 00:37:53.295\nSo -a, we wanna add something\nto the end of a text file.\n\n700\n00:37:53.295 --> 00:37:55.977\n-i, we wanna insert\nsomething inside of it.\n\n701\n00:37:55.977 --> 00:37:59.285\nWe're actually editing the file and we can\ngo anywhere inside of it that we want, and\n\n702\n00:37:59.285 --> 00:38:00.290\nso very powerful.\n\n703\n00:38:00.290 --> 00:38:02.310\nAnd that's why we see\nthose two the most often.\n\n704\n00:38:02.310 --> 00:38:05.040\nI usually use -a,\nbecause I might have a script\n\n705\n00:38:05.040 --> 00:38:07.400\nwhere I'm wanting to create a log file for\nthat script.\n\n706\n00:38:07.400 --> 00:38:09.550\nAnd so I'll have various sed\ncommands throughout the script\n\n707\n00:38:09.550 --> 00:38:12.540\nthat are just appending to a log file and\nwriting you hey, I'm at this stage,\n\n708\n00:38:12.540 --> 00:38:13.910\nI'm at this stage, I'm at this stage.\n\n709\n00:38:13.910 --> 00:38:16.010\nAnd I get a record of that.\n\n710\n00:38:16.010 --> 00:38:17.394\nSo -i and -a are the most common.\n\n711\n00:38:17.394 --> 00:38:19.918\nSome of the other ones\nyou might see out there,\n\n712\n00:38:19.918 --> 00:38:23.893\n-r which is where you take the output\nfrom one file and add it to another.\n\n713\n00:38:23.893 --> 00:38:26.000\nYou're basically combining files.\n\n714\n00:38:26.000 --> 00:38:30.169\nYou can use concatenate to do that also,\nor cat, the cat command,\n\n715\n00:38:30.169 --> 00:38:31.518\nbut sed can do it too.\n\n716\n00:38:31.518 --> 00:38:34.243\nAnd then we've got c,\nwhich is to change text,\n\n717\n00:38:34.243 --> 00:38:36.790\nwhich would be like a search and replace.\n\n718\n00:38:36.790 --> 00:38:42.180\nAnd there's also s which is substitute,\nwhere you can change text.\n\n719\n00:38:42.180 --> 00:38:43.580\nThey kind of sound the same, right?\n\n720\n00:38:43.580 --> 00:38:46.310\nWell, s is the one that uses\nregular expressions, and so\n\n721\n00:38:46.310 --> 00:38:48.260\nthat's the one that we're\nnormally going to use.\n\n722\n00:38:48.260 --> 00:38:50.890\nIf I want to open up a text file,\nsearch for\n\n723\n00:38:50.890 --> 00:38:54.400\none string to replace it with another\nstring, I can use sed to do that, and\n\n724\n00:38:54.400 --> 00:38:57.580\nI can make it part of a script and\nit can just run and be done.\n\n725\n00:38:57.580 --> 00:39:03.640\nSo for example, here in my home directory,\nI've got this little file called cal-2015.\n\n726\n00:39:03.640 --> 00:39:09.187\nAnd if I look at what's in it,\nit's a list of holidays from 2015.\n\n727\n00:39:09.187 --> 00:39:14.680\nYou'll see New Year's Day, January 1st,\nIndependence Day, July 4th, and so on.\n\n728\n00:39:15.720 --> 00:39:18.350\nI might want to update these for\n2016, but hey,\n\n729\n00:39:18.350 --> 00:39:20.480\nthese are holidays that\nalways occur on the same day.\n\n730\n00:39:21.640 --> 00:39:25.570\nJuly 4th is always on the 4th of July or\nIndependence Day.\n\n731\n00:39:25.570 --> 00:39:27.200\nNew Year's Day is always January 1st.\n\n732\n00:39:27.200 --> 00:39:28.960\nHalloween is always October 31st.\n\n733\n00:39:28.960 --> 00:39:30.870\nSo all I really need to do\nis to take this file and\n\n734\n00:39:30.870 --> 00:39:33.820\nswap out anywhere there's\na 2015 with a 2016.\n\n735\n00:39:33.820 --> 00:39:35.700\nAnd I can do that myself.\n\n736\n00:39:35.700 --> 00:39:40.561\nBut maybe I want this to happen at\nexactly 12:01 AM on January 1st,\n\n737\n00:39:40.561 --> 00:39:43.602\nI want it to generate\nthis new calendar file.\n\n738\n00:39:43.602 --> 00:39:47.602\nI could write a script and schedule it\nwith a cron job to run at that time.\n\n739\n00:39:47.602 --> 00:39:52.450\nAnd in my script, I could use\nthe sed command to update that file.\n\n740\n00:39:52.450 --> 00:39:54.977\nThe syntax that I'm gonna use\nhere is pretty straightforward.\n\n741\n00:39:54.977 --> 00:39:59.262\nWhat I'm gonna do is I'm gonna say sed and\nthen I'm gonna follow that with a -i,\n\n742\n00:39:59.262 --> 00:40:01.612\nbecause I'm inserting text into the file.\n\n743\n00:40:01.612 --> 00:40:05.040\nAnd then I need to tell it\nwhat I'm gonna be doing.\n\n744\n00:40:05.040 --> 00:40:09.503\nAnd the command I'm gonna run inside of\nthe editor is s, the substitute command,\n\n745\n00:40:09.503 --> 00:40:14.700\nand I'm gonna look for anywhere there's\n2015 and I'm gonna replace that with 2016.\n\n746\n00:40:14.700 --> 00:40:17.970\nNow if I stop right here,\nit's only gonna do the first occurrence.\n\n747\n00:40:17.970 --> 00:40:20.980\nSo I need to add a slash g to\nthe end to make that global.\n\n748\n00:40:20.980 --> 00:40:24.227\nThat way it'll get every instance\nof if throughout the file.\n\n749\n00:40:24.227 --> 00:40:28.666\nAnd the only other thing I need to\nit is what file I'm working with,\n\n750\n00:40:28.666 --> 00:40:30.830\nwhich is cal-2015.txt.\n\n751\n00:40:30.830 --> 00:40:32.770\nAnd so when I run that it's\ngonna crack open that file.\n\n752\n00:40:32.770 --> 00:40:35.040\nIt's gonna look for 2015 and swap it out.\n\n753\n00:40:35.040 --> 00:40:38.740\nAnd because I did an s,\nit allows me to use a regular expression.\n\n754\n00:40:38.740 --> 00:40:40.394\nSo I could've searched for anything.\n\n755\n00:40:40.394 --> 00:40:44.945\nI could've done like 201 dot or\n201 in a square bracket and\n\n756\n00:40:44.945 --> 00:40:48.130\nthen 0-9 in a closed square bracket.\n\n757\n00:40:48.130 --> 00:40:53.720\nSo now I'm looking for 2010 all the way\nthrough 2019 and I swap that out.\n\n758\n00:40:53.720 --> 00:40:59.561\nBut when it's done,\nthat file now shows 2016.\n\n759\n00:40:59.561 --> 00:41:01.758\nSo it edited it,\nopened it up, and changed it.\n\n760\n00:41:01.758 --> 00:41:05.697\nSo sed is another utility that's out there\nthat we can use regular expressions with\n\n761\n00:41:05.697 --> 00:41:06.428\nand automate or\n\n762\n00:41:06.428 --> 00:41:10.100\nscript changes in our system without\nus having to use an interactive editor.\n\n763\n00:41:10.100 --> 00:41:11.200\nIt's pretty powerful stuff.\n\n764\n00:41:11.200 --> 00:41:12.550\n>> Yeah, very, very cool stuff too,\n\n765\n00:41:12.550 --> 00:41:15.400\nbecause otherwise you would have\nto open something like vi or\n\n766\n00:41:15.400 --> 00:41:19.490\nnano or any of the other text\nediting software, make the changes.\n\n767\n00:41:19.490 --> 00:41:23.790\nIt's starting to get a little processy.\n\n768\n00:41:23.790 --> 00:41:25.380\nYou have to go through a process.\n\n769\n00:41:25.380 --> 00:41:28.920\nHere you just got one line, nice little\nscript there, using the sed editor,\n\n770\n00:41:28.920 --> 00:41:31.590\ngoes in there and makes your changes,\ngets out, and you're done.\n\n771\n00:41:31.590 --> 00:41:33.776\nVery, very simple, straightforward, and\n\n772\n00:41:33.776 --> 00:41:37.065\nyou can use the regular expression\nto kinda do the hard work for you.\n\n773\n00:41:37.065 --> 00:41:40.487\nYou don't have to say we gotta look for\nevery version where there's 2015 and\n\n774\n00:41:40.487 --> 00:41:41.410\nchange that out.\n\n775\n00:41:41.410 --> 00:41:44.420\nIt does that for\nyou just by adding the regular expression.\n\n776\n00:41:44.420 --> 00:41:46.520\nDon, a lot of cool stuff\nwhen it comes to Regex.\n\n777\n00:41:46.520 --> 00:41:51.273\nAgain, we understand that it is a little\ncomplex, it gets much more meaty.\n\n778\n00:41:51.273 --> 00:41:55.470\nBut what you've shown us today will\ndefinitely serve anyone that's\n\n779\n00:41:55.470 --> 00:41:59.950\nusing a Linux platform, UNIX platform,\nand very well, I would say.\n\n780\n00:41:59.950 --> 00:42:00.811\nSo thank you [CROSSTALK] for that.\n\n781\n00:42:00.811 --> 00:42:02.490\nIs there anything else we\nneed to know about this?\n\n782\n00:42:02.490 --> 00:42:03.140\n>> I think that's about it.\n\n783\n00:42:03.140 --> 00:42:06.350\nI mean, just keep in mind that we barely\nscratched the surface of the iceberg on\n\n784\n00:42:06.350 --> 00:42:08.460\nthis one, or the tip of the iceberg.\n\n785\n00:42:08.460 --> 00:42:12.460\nThere's a huge amount of information\nhere in Regex as well as in sed and\n\n786\n00:42:12.460 --> 00:42:14.430\nother utilities like that,\nso do your research on them.\n\n787\n00:42:14.430 --> 00:42:16.910\nFor the exam they want you to\nhave basic operating proficiency,\n\n788\n00:42:16.910 --> 00:42:18.640\nwhich is what we've seen right here.\n\n789\n00:42:18.640 --> 00:42:22.140\nBut in real life land, you'll find that\nyou can do some really crazy stuff.\n\n790\n00:42:22.140 --> 00:42:22.700\n>> All right, Don.\n\n791\n00:42:22.700 --> 00:42:24.940\nWell, thank you so much for\nexplaining this to us.\n\n792\n00:42:24.940 --> 00:42:26.270\nAnd thank you guys for watching.\n\n793\n00:42:26.270 --> 00:42:27.190\nI hope you got a lot out of it.\n\n794\n00:42:27.190 --> 00:42:28.550\nWe're gonna go ahead and sign off.\n\n795\n00:42:28.550 --> 00:42:31.010\nFor ITProTV,\nI've been your host Daniel Lowrey.\n\n796\n00:42:31.010 --> 00:42:35.175\n>> And I'm Don Pezet.\n>> And we'll see you next time.\n\n797\n00:42:35.175 --> 00:42:40.650\n[MUSIC]\n\n",
          "vimeoId": "153380642"
        },
        {
          "description": null,
          "length": "1703",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-1-5-editing_files_with_vi-061515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-1-5-editing_files_with_vi-061515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-1-5-editing_files_with_vi-061515-1-sm.jpg",
          "title": "Editing Files with vi",
          "transcript": "WEBVTT\n\n1\n00:00:00.076 --> 00:00:10.680\n[MUSIC]\n\n2\n00:00:10.680 --> 00:00:11.492\nAll right, everyone.\n\n3\n00:00:11.492 --> 00:00:15.074\nGreetings and welcome to another\ngreat episode of ITProTV.\n\n4\n00:00:15.074 --> 00:00:18.257\nI'll be your host today, Daniel Lowry, and\nhere with me is none other than Don Pizet.\n\n5\n00:00:18.257 --> 00:00:19.209\nHow you doing today, Don?\n\n6\n00:00:19.209 --> 00:00:20.301\n>> I'm doing great, Daniel.\n\n7\n00:00:20.301 --> 00:00:23.822\nIt's another wonderful\nepisode of CompTIA Linux+.\n\n8\n00:00:23.822 --> 00:00:26.804\nAnd in today's episode, we're gonna\nbe jumping into a topic that's kind\n\n9\n00:00:26.804 --> 00:00:29.231\nof near and dear to my heart,\nwhich is the vi editor, right?\n\n10\n00:00:29.231 --> 00:00:31.267\nWe're gonna take a look at creating and\n\n11\n00:00:31.267 --> 00:00:34.010\nediting text documents\nusing the vi editor.\n\n12\n00:00:34.010 --> 00:00:38.756\nAnd if you're not familiar with vi, it\nis a command line editor that we can use\n\n13\n00:00:38.756 --> 00:00:43.297\nthat has been a part of the Linux and\nUnix world for a very, very long time.\n\n14\n00:00:43.297 --> 00:00:46.424\nIt's not the original editor, right,\ncuz there was Evelyn, and Ed, and\n\n15\n00:00:46.424 --> 00:00:47.128\nall those guys.\n\n16\n00:00:47.128 --> 00:00:51.261\nBut it really is kind of\nthe defacto standard today.\n\n17\n00:00:51.261 --> 00:00:55.510\nAnd I want to make sure I don't make\na mistake like we did in a previous show.\n\n18\n00:00:55.510 --> 00:00:57.298\nVi has been around a long time.\n\n19\n00:00:57.298 --> 00:00:59.411\nIt's not the most user\nfriendly of editors.\n\n20\n00:00:59.411 --> 00:01:00.781\nI'll say that right now.\n\n21\n00:01:00.781 --> 00:01:04.020\nSome voodoo magic that goes\ninto getting it to work.\n\n22\n00:01:04.020 --> 00:01:08.200\nBut, you can pretty much count\non it always being there.\n\n23\n00:01:08.200 --> 00:01:13.032\nWhen you go from Distro to Distro, when\nyou go from CentOS, to Ubunto, to Mint,\n\n24\n00:01:13.032 --> 00:01:17.531\nArch Linux, whatever, you don't know\nwhat editor's going to be there.\n\n25\n00:01:17.531 --> 00:01:18.877\nSome of them have Nano.\n\n26\n00:01:18.877 --> 00:01:20.108\nSome of them have Jed.\n\n27\n00:01:20.108 --> 00:01:22.987\nSome of them have just\nstraight up EMACS or whatever.\n\n28\n00:01:22.987 --> 00:01:24.660\nThey have different ones.\n\n29\n00:01:24.660 --> 00:01:27.090\nWe can pretty always\ncount on vi being there.\n\n30\n00:01:27.090 --> 00:01:29.252\nI used to say you can always\ncount on vi being there, and\n\n31\n00:01:29.252 --> 00:01:32.228\nwe had a viewer write in and say,\nwell, Don, that's not always the case.\n\n32\n00:01:32.228 --> 00:01:34.110\nAnd sure enough, he was right.\n\n33\n00:01:34.110 --> 00:01:37.475\nThere's a couple of Distros that don't\npackage vi in, which is unfortunate.\n\n34\n00:01:37.475 --> 00:01:39.190\n>> It'll be bad distribution.\n\n35\n00:01:39.190 --> 00:01:41.790\n[LAUGH]\n>> I wouldn't say they're bad.\n\n36\n00:01:41.790 --> 00:01:46.700\nSometimes, when they create distributions,\nthey try and provide you with the minimum\n\n37\n00:01:46.700 --> 00:01:51.142\nsoftware necessary for your need, and vi\nor a text editor in general might not be\n\n38\n00:01:51.142 --> 00:01:54.654\nneeded, or they go ahead and\njust stick with the old editor, or\n\n39\n00:01:54.654 --> 00:01:59.350\na really hardcore Distros that wants\nto stick with the old unit standards.\n\n40\n00:01:59.350 --> 00:02:00.700\nBut I'll tell you,\n\n41\n00:02:00.700 --> 00:02:04.170\nit's a rare, rare day that I come\nacross a system that doesn't have vi.\n\n42\n00:02:04.170 --> 00:02:08.110\nWhereas, it's very common for me to run\nacross a system that doesn't have Nano or\n\n43\n00:02:08.110 --> 00:02:09.240\nsome other editor.\n\n44\n00:02:09.240 --> 00:02:11.498\nSo it's a good one to learn, right?\n\n45\n00:02:11.498 --> 00:02:13.648\nVi is very useful to learn.\n\n46\n00:02:13.648 --> 00:02:15.343\nIt's very integrated into the systems.\n\n47\n00:02:15.343 --> 00:02:17.316\nA lot of the tools make use of it.\n\n48\n00:02:17.316 --> 00:02:20.145\nSo if you're gonna learn\nonly one text-based editor,\n\n49\n00:02:20.145 --> 00:02:22.322\nvi is generally one that's recommended.\n\n50\n00:02:22.322 --> 00:02:25.956\n>> Yeah, I cut my teeth on vi back when\nI started using Linux back in, I guess,\n\n51\n00:02:25.956 --> 00:02:29.735\nin the late 90s or something to that\neffect, it was right around that time.\n\n52\n00:02:29.735 --> 00:02:33.299\nAnd I've tried to play with Nano,\nI've tried to play with EMax, and\n\n53\n00:02:33.299 --> 00:02:37.058\nthey just never was as, for me,\nit was a little more intuitive to use vi.\n\n54\n00:02:37.058 --> 00:02:40.355\nVi seemed to be easier for\nme than those other types of editors.\n\n55\n00:02:40.355 --> 00:02:42.653\nAnd I was glad to see that, like Don said,\n\n56\n00:02:42.653 --> 00:02:47.135\nit's basically on every machine that I\nwas logging into that was running Linux.\n\n57\n00:02:47.135 --> 00:02:49.434\nNow, saying that I used vi.\n\n58\n00:02:49.434 --> 00:02:52.808\nI've used vi plenty of times, but\nI know I'm not using it to its potential,\n\n59\n00:02:52.808 --> 00:02:54.724\ncuz there's a lot that\ncan be done with it.\n\n60\n00:02:54.724 --> 00:02:56.025\n>> There really is, and\n\n61\n00:02:56.025 --> 00:03:00.521\nthe difficulty in using it is what\nstops people from learning it, right?\n\n62\n00:03:00.521 --> 00:03:04.020\nReally, vi was created back in the day\nwhen computers didn't have mice.\n\n63\n00:03:04.020 --> 00:03:07.560\nSo, you had keyboard shortcuts for\ndoing all sorts of crazy things and\n\n64\n00:03:07.560 --> 00:03:10.264\nit evolved and, definitely,\nnot user-friendly.\n\n65\n00:03:10.264 --> 00:03:12.192\nSo, let's take a look at it.\n\n66\n00:03:12.192 --> 00:03:14.744\nAnd the more you work with it,\nthe easier it becomes,\n\n67\n00:03:14.744 --> 00:03:17.488\nthen you end up like me where\nit becomes your go to editor.\n\n68\n00:03:17.488 --> 00:03:21.593\nI'll use vi over a graphical editor in\na lot of cases just cuz it's what I'm\n\n69\n00:03:21.593 --> 00:03:22.121\nused to.\n\n70\n00:03:22.121 --> 00:03:26.467\nSo, let's take a little tour of Vi and\nhow we can use it to edit our files.\n\n71\n00:03:26.467 --> 00:03:28.145\nSo I've got a Linux box fired up here.\n\n72\n00:03:28.145 --> 00:03:30.072\nAnd this one is CentOS 7.\n\n73\n00:03:30.072 --> 00:03:32.629\nAnd it really doesn't\nmatter what distro you use,\n\n74\n00:03:32.629 --> 00:03:34.424\ncuz pretty much all of them have Vi.\n\n75\n00:03:34.424 --> 00:03:36.411\nIt's like a default\nbinary that's installed.\n\n76\n00:03:36.411 --> 00:03:38.385\nIf it isn't, you can always install it.\n\n77\n00:03:38.385 --> 00:03:43.093\nLike I can do a sudo yum list vi and\nsee if it it's already, oh,\n\n78\n00:03:43.093 --> 00:03:47.724\nit's a core package here so\nit's not going to show up in yum.\n\n79\n00:03:47.724 --> 00:03:50.210\nSo i've already got it, it's in place.\n\n80\n00:03:50.210 --> 00:03:51.687\nI know that because I can just run it.\n\n81\n00:03:51.687 --> 00:03:53.190\nAnd there it is.\n\n82\n00:03:53.190 --> 00:03:57.498\nNow, there are more than one\nversion of Vi available.\n\n83\n00:03:57.498 --> 00:04:00.968\nAnd so, notice when I ran Vi,\nit doesn't say I'm running Vi,\n\n84\n00:04:00.968 --> 00:04:03.662\nit says I'm running VIM,\nwhich is Vi IMproved.\n\n85\n00:04:03.662 --> 00:04:05.090\nWhat's that all about?\n\n86\n00:04:05.090 --> 00:04:08.170\nWell, over the years,\nthere have been improvements to Vi.\n\n87\n00:04:08.170 --> 00:04:12.530\nThe original Vi was just a straight up,\nblack and white text editor and\n\n88\n00:04:12.530 --> 00:04:14.680\nit handled text strains, and that was it.\n\n89\n00:04:14.680 --> 00:04:18.010\nOver time, people made improvements and\nVim is a great example of that,\n\n90\n00:04:18.010 --> 00:04:20.318\nwhere it added things\nlike syntax highlighting.\n\n91\n00:04:20.318 --> 00:04:24.102\nIf you're writing an html document,\nit will recognize that and\n\n92\n00:04:24.102 --> 00:04:26.214\nit will start colorizing the tags.\n\n93\n00:04:26.214 --> 00:04:27.282\nThat's a neat feature.\n\n94\n00:04:27.282 --> 00:04:31.190\nIt's not required, but\nit's a neat feature to have, right?\n\n95\n00:04:31.190 --> 00:04:34.210\nBecause it is actually recognizing\nthose tag and handling it.\n\n96\n00:04:34.210 --> 00:04:37.759\nSo if were to start adding in\ninformation in here like, let's say,\n\n97\n00:04:37.759 --> 00:04:41.185\nthis i going to be HTML document,\nand here's gonna be the body and\n\n98\n00:04:41.185 --> 00:04:43.581\nI start kind of writing\nall the stuff in here.\n\n99\n00:04:43.581 --> 00:04:47.688\nSee how these tags aren't\nreally colorized or anything?\n\n100\n00:04:47.688 --> 00:04:53.440\nAnd that's because it doesn't know\nthat I'm writing a html file yet.\n\n101\n00:04:53.440 --> 00:04:56.680\nBut, if I save this, it's file.html.\n\n102\n00:04:56.680 --> 00:04:58.842\nNow, it's colorized it.\n\n103\n00:04:58.842 --> 00:05:00.560\nYou see how I added those color tags in?\n\n104\n00:05:00.560 --> 00:05:02.441\nThat's a neat feature to have.\n\n105\n00:05:02.441 --> 00:05:03.927\nIt's not a requirement.\n\n106\n00:05:03.927 --> 00:05:05.367\nAnd it's not always there.\n\n107\n00:05:05.367 --> 00:05:06.667\nSo don't count on that.\n\n108\n00:05:06.667 --> 00:05:07.805\nWhen you see colorized tags and\n\n109\n00:05:07.805 --> 00:05:10.780\nstuff, that's usually a great indicator\nthat you're running vim and not vi.\n\n110\n00:05:10.780 --> 00:05:14.281\nAnd you'll see on CentOS\nwhere I ran the vi command.\n\n111\n00:05:14.281 --> 00:05:15.024\nI didn't run vim.\n\n112\n00:05:15.024 --> 00:05:16.440\nI could have run vim.\n\n113\n00:05:16.440 --> 00:05:20.348\nAnd if I ran Vim and edited the file,\n\n114\n00:05:20.348 --> 00:05:24.661\nthen it would open it up and there we go.\n\n115\n00:05:24.661 --> 00:05:26.310\nIt's really the same thing.\n\n116\n00:05:26.310 --> 00:05:28.469\nThey've kind of crosslinked them.\n\n117\n00:05:28.469 --> 00:05:32.440\nIf you do something crazy,\nthough, like use sudo, right?\n\n118\n00:05:32.440 --> 00:05:36.265\nNow, I'm running something as\nroot instead of myself, and\n\n119\n00:05:36.265 --> 00:05:39.118\nroot might not have vim\ncrosslinked with vi.\n\n120\n00:05:39.118 --> 00:05:44.480\nAnd so, if I start to edit that file\nthis way, see how it's not colorized?\n\n121\n00:05:44.480 --> 00:05:46.537\nAnd that's because I'm not running\nVim anymore, I'm actually running Vi.\n\n122\n00:05:46.537 --> 00:05:48.501\nIt's kind of moved into the other one.\n\n123\n00:05:48.501 --> 00:05:51.872\nSo you do have to be careful about\nflipping from one to the other, and\n\n124\n00:05:51.872 --> 00:05:55.068\nmake sure that you don't use\nanything that's tied just to Vim,\n\n125\n00:05:55.068 --> 00:05:58.590\nbecause you might get to\na system that has Vi and not Vim.\n\n126\n00:05:58.590 --> 00:06:02.456\nSo in this episode, everything that we\nuse, everything that we're gonna use\n\n127\n00:06:02.456 --> 00:06:04.988\nis available in vi and\nvim, it's in both, right?\n\n128\n00:06:04.988 --> 00:06:07.598\nSo it doesn't really matter, and\nthese are kind of the base things.\n\n129\n00:06:07.598 --> 00:06:10.803\nBut there's some advanced functionality,\nlike the colorized tags and\n\n130\n00:06:10.803 --> 00:06:12.545\nstuff that is really just a part of vim.\n\n131\n00:06:12.545 --> 00:06:13.520\nAll right.\n\n132\n00:06:13.520 --> 00:06:17.298\nNow, with vi, I guess I've already kind\nof done a few little commands here, but\n\n133\n00:06:17.298 --> 00:06:20.200\nlet's just walk through a few\nof the basic commands, right?\n\n134\n00:06:20.200 --> 00:06:24.293\nWhen you run vi by itself,\nthat's gonna launch Vi editor and\n\n135\n00:06:24.293 --> 00:06:27.914\nit's basically gonna take\nyou into a new empty file.\n\n136\n00:06:27.914 --> 00:06:32.141\nNow I see a little splash screen here, but\nas soon as I start to do any work that\n\n137\n00:06:32.141 --> 00:06:35.260\nsplash screen disappears,\nnow I'm just in a new file.\n\n138\n00:06:35.260 --> 00:06:37.649\nAnd when a new file is\nrepresented on the screen,\n\n139\n00:06:37.649 --> 00:06:41.690\nyou see a cursor which indicates\nwhere your focus is right now.\n\n140\n00:06:41.690 --> 00:06:43.443\nAnd then all these symbols.\n\n141\n00:06:43.443 --> 00:06:46.290\nAnd the symbols equal nothing.\n\n142\n00:06:46.290 --> 00:06:47.570\nThat's nothing.\n\n143\n00:06:47.570 --> 00:06:48.528\nIt's not a blank line.\n\n144\n00:06:48.528 --> 00:06:49.619\nIt's actually nothing.\n\n145\n00:06:49.619 --> 00:06:51.361\nIt's null.\nThere's no entry there.\n\n146\n00:06:51.361 --> 00:06:54.760\nSo this file really consists\nof one line right now.\n\n147\n00:06:56.070 --> 00:06:59.650\nThe mode that I'm in is command mode.\n\n148\n00:06:59.650 --> 00:07:02.226\nWhen you launch the text editor,\nif you start to type,\n\n149\n00:07:02.226 --> 00:07:04.524\nyou're not actually typing\ninto the text file.\n\n150\n00:07:04.524 --> 00:07:09.243\nSo if I type the word this, see how\nI just got the word S and that's it?\n\n151\n00:07:09.243 --> 00:07:14.130\nAnd the reason is each letter that I\ntyped was interpreted as a command.\n\n152\n00:07:14.130 --> 00:07:17.170\nI typed the word this, THIS.\n\n153\n00:07:17.170 --> 00:07:19.618\nT was interpreted as a command,\nand it did nothing.\n\n154\n00:07:19.618 --> 00:07:22.487\nAnd then H was interpreted as a command,\nand it did nothing.\n\n155\n00:07:22.487 --> 00:07:24.063\nIt technically brings up the help.\n\n156\n00:07:24.063 --> 00:07:28.402\nAnd then I,\nwhich switched me into Insert mode.\n\n157\n00:07:28.402 --> 00:07:31.516\nAnd once I was in Insert mode, I typed S,\nand it treated that as a letter and\n\n158\n00:07:31.516 --> 00:07:33.470\nthat's why S showed up.\n\n159\n00:07:33.470 --> 00:07:37.445\nSo, when you first get in,\nyou're just in command mode.\n\n160\n00:07:37.445 --> 00:07:42.365\nAnd anything that you type here is\nsending a command to vi to do something.\n\n161\n00:07:42.365 --> 00:07:44.964\nAnd that's probably the number one thing\nthat confuses people is they give them\n\n162\n00:07:44.964 --> 00:07:46.771\nthe vi, and\nthey can't figure out how to type into it.\n\n163\n00:07:46.771 --> 00:07:49.602\nThey're like, man, if this is a text\neditor and I can't even type text,\n\n164\n00:07:49.602 --> 00:07:50.797\nI don't wanna mess with this.\n\n165\n00:07:50.797 --> 00:07:52.445\nAnd they close it and\nthat's the end of it.\n\n166\n00:07:52.445 --> 00:07:55.170\nBut it's just got different modes.\n\n167\n00:07:55.170 --> 00:07:58.237\nWhen you're in Command mode,\nyou're going to see one of two things.\n\n168\n00:07:58.237 --> 00:08:02.712\nThere's this mode where if\nI type a single letter.\n\n169\n00:08:02.712 --> 00:08:05.919\nThat's gonna be interpreted\nas a command right now, okay.\n\n170\n00:08:05.919 --> 00:08:08.930\nBut then there's longer commands\nthat we might wanna run.\n\n171\n00:08:08.930 --> 00:08:13.850\nAnd if you type a colon on your keyboard,\nsee how when I type that colon,\n\n172\n00:08:13.850 --> 00:08:17.730\nmy cursor moved down here and now I've got\na little field right where I can type.\n\n173\n00:08:17.730 --> 00:08:18.850\nI can type whatever I want.\n\n174\n00:08:20.760 --> 00:08:25.880\nAnd what it's actually doing, is it's\nassuming I'm typing some kind of command.\n\n175\n00:08:25.880 --> 00:08:28.060\nAnd when I run that,\nit's gonna run the command.\n\n176\n00:08:28.060 --> 00:08:30.150\nWell, it got not an editor command.\n\n177\n00:08:30.150 --> 00:08:31.200\nI can type whatever I want, right.\n\n178\n00:08:31.200 --> 00:08:33.840\nSo that's not a command that it'll accept,\nbut\n\n179\n00:08:33.840 --> 00:08:35.830\nthat's how we can type\nin our longer commands.\n\n180\n00:08:35.830 --> 00:08:37.720\nWe'll see several in this show.\n\n181\n00:08:37.720 --> 00:08:42.610\nSo when you're just here in a regular\nscreen, you can type single letters and\n\n182\n00:08:42.610 --> 00:08:44.460\nthey'll do things, right?\n\n183\n00:08:44.460 --> 00:08:46.490\nI just hit d to try and delete a line and\n\n184\n00:08:46.490 --> 00:08:47.990\nit's telling me I've\ngot no lines in buffer.\n\n185\n00:08:47.990 --> 00:08:49.800\nI haven't actually got anything to delete.\n\n186\n00:08:51.220 --> 00:08:55.140\nIf I hit colon,\nI can start to type in commands too.\n\n187\n00:08:55.140 --> 00:08:57.630\nAnd those letter commands,\nthey work from here too.\n\n188\n00:08:57.630 --> 00:08:58.750\nIt's like that d that I did.\n\n189\n00:08:58.750 --> 00:09:02.120\nIf I do a :d, that'll try and\ndelete a line.\n\n190\n00:09:02.120 --> 00:09:04.210\nWhether I'm just pressing\nd on the keyboard or\n\n191\n00:09:04.210 --> 00:09:06.280\ntyping :d, it kinda is the same thing.\n\n192\n00:09:06.280 --> 00:09:08.361\nBut the colon is where you\ntype those longer ones in.\n\n193\n00:09:08.361 --> 00:09:11.667\n>> Now Don, if you're in the middle\nof typing up some sort of document or\n\n194\n00:09:11.667 --> 00:09:13.930\nsomething like that and you hit colon.\n\n195\n00:09:13.930 --> 00:09:15.180\nIs that gonna be a character\non the screen or\n\n196\n00:09:15.180 --> 00:09:16.900\nis that gonna take you back\ninto the command mode?\n\n197\n00:09:16.900 --> 00:09:18.115\n>> Well it's all about what mode your in.\n\n198\n00:09:18.115 --> 00:09:18.990\n>> Aah!\n>> Right?\n\n199\n00:09:18.990 --> 00:09:20.960\nSo if I'm in insert mode,\n\n200\n00:09:20.960 --> 00:09:24.380\nit assumes that everything I'm typing\nis text to be displayed on the screen.\n\n201\n00:09:24.380 --> 00:09:27.490\nIn fact, let's take a look at insert mode\nbecause it's the most important one.\n\n202\n00:09:27.490 --> 00:09:31.820\nIf you're ready to start typing in your\ndocument, you press i on your keyboard.\n\n203\n00:09:31.820 --> 00:09:33.710\nI puts you into insert mode.\n\n204\n00:09:33.710 --> 00:09:36.330\nNow you're inserting data into your file.\n\n205\n00:09:36.330 --> 00:09:37.740\nAnd now I can start typing.\n\n206\n00:09:37.740 --> 00:09:39.990\nThis is my file.\n\n207\n00:09:39.990 --> 00:09:43.550\nI can type a colon if I want to, right?\n\n208\n00:09:43.550 --> 00:09:46.520\nIt's letting me type that colon,\nbecause it knows that I'm in insert mode.\n\n209\n00:09:46.520 --> 00:09:49.520\nAnd that everything I type must\nbe a part of the file, right.\n\n210\n00:09:49.520 --> 00:09:51.730\nThis is not a command.\n\n211\n00:09:51.730 --> 00:09:56.220\nAnd if I do something like :d right,\nI'm just typing in the file.\n\n212\n00:09:56.220 --> 00:09:57.160\nThat's it, right?\n\n213\n00:09:57.160 --> 00:10:00.475\nAnd down at the bottom of the screen,\nI see that INSERT note that let's me know\n\n214\n00:10:00.475 --> 00:10:03.240\nI'm in insert mode and\nthat's how things are supposed to work.\n\n215\n00:10:04.560 --> 00:10:08.390\nIf I press Esc on my keyboard,\nwhen I press Esc,\n\n216\n00:10:08.390 --> 00:10:10.780\nsee how the INSERT note went away?\n\n217\n00:10:10.780 --> 00:10:13.320\nAnd now, I'm in command mode again.\n\n218\n00:10:13.320 --> 00:10:18.320\nIf I move my cursor somewhere in here and\nI type a colon,\n\n219\n00:10:18.320 --> 00:10:21.670\nit didn't type a colon on the screen, it\ntook me down to the command prompt, right?\n\n220\n00:10:21.670 --> 00:10:24.180\nBecause I'm in command mode and\nthat's what it's expecting.\n\n221\n00:10:24.180 --> 00:10:26.320\nEverything that I type now is a command.\n\n222\n00:10:26.320 --> 00:10:29.220\nAnd you can just press Esc to kind\nof clear out of that command.\n\n223\n00:10:29.220 --> 00:10:33.740\nSo Esc is how you easily move out\nof one of the modes, all right?\n\n224\n00:10:33.740 --> 00:10:35.050\nInsert mode is the most common.\n\n225\n00:10:35.050 --> 00:10:38.480\nYou press I, you get in in insert mode and\nthen you start typing.\n\n226\n00:10:38.480 --> 00:10:40.700\nWhen you create a file like I just did,\n\n227\n00:10:40.700 --> 00:10:43.460\nwhen you're done with the file\nyou probably wanna save it.\n\n228\n00:10:43.460 --> 00:10:47.700\nAnd so saving is pretty easy, but we gotta\nget back into command mode to save it.\n\n229\n00:10:47.700 --> 00:10:49.140\nSo we type everything that we want.\n\n230\n00:10:49.140 --> 00:10:51.770\nOr if we're editing a file,\nwe modify what we want.\n\n231\n00:10:51.770 --> 00:10:56.120\nAnd then when we're done,\nyou press Esc to get to command mode.\n\n232\n00:10:56.120 --> 00:10:59.530\nAnd now we can issue the commands\nto save our document.\n\n233\n00:10:59.530 --> 00:11:01.270\nNow most of the commands\nare single letter.\n\n234\n00:11:01.270 --> 00:11:03.923\nIf you wanna save a document,\nyou can type :, right?\n\n235\n00:11:03.923 --> 00:11:08.575\nTo get to my command prompt and\nthen w, w writes a file.\n\n236\n00:11:08.575 --> 00:11:10.570\nSo I'm gonna write this file.\n\n237\n00:11:10.570 --> 00:11:14.600\nNow this file doesn't have a name,\nso if I try and write it right now,\n\n238\n00:11:14.600 --> 00:11:16.610\nit's gonna have to ask me for a name.\n\n239\n00:11:16.610 --> 00:11:18.740\nBecause I'm in the little\ncolon prompt here,\n\n240\n00:11:18.740 --> 00:11:21.130\nI can continue on and type some more.\n\n241\n00:11:21.130 --> 00:11:22.780\nI can type a file name, right?\n\n242\n00:11:22.780 --> 00:11:27.120\nSo this is test-file.txt, right.\n\n243\n00:11:27.120 --> 00:11:28.810\nSo now it's gonna write this file and\n\n244\n00:11:28.810 --> 00:11:31.940\nsave it as test-file.txt and\nthis looks up a path too.\n\n245\n00:11:31.940 --> 00:11:36.960\nIf I wanted to put it somewhere\nspecifically in my home directory,\n\n246\n00:11:36.960 --> 00:11:38.010\nin My Documents folder.\n\n247\n00:11:38.010 --> 00:11:40.600\nTest-file.txt and that's gonna save it.\n\n248\n00:11:40.600 --> 00:11:43.120\nAnd I can see that it was a new file.\n\n249\n00:11:43.120 --> 00:11:47.540\nAnd then it created, it had 5 lines,\n71 characters, wrote it to the hard drive.\n\n250\n00:11:47.540 --> 00:11:48.050\nIt's now saved.\n\n251\n00:11:49.410 --> 00:11:52.974\nSo to save, I did :w.\n\n252\n00:11:52.974 --> 00:11:55.350\nNow to get in the insert mode,\nI just press i.\n\n253\n00:11:55.350 --> 00:11:57.180\nI didn't do :i.\n\n254\n00:11:57.180 --> 00:11:59.390\nAnd that's because it was\njust a single letter command.\n\n255\n00:11:59.390 --> 00:12:02.350\nThere's single letter commands that you\ncan do just straight from the screen\n\n256\n00:12:02.350 --> 00:12:05.700\nwithout having to enter into that\ncommand prompt down at the bottom.\n\n257\n00:12:05.700 --> 00:12:07.756\nAnd there's other ones where you\nneed to go to the command prompt.\n\n258\n00:12:07.756 --> 00:12:08.776\nAnd that :w, well,\n\n259\n00:12:08.776 --> 00:12:11.900\nthat's one of those that you need\nto do from the command prompt.\n\n260\n00:12:11.900 --> 00:12:13.950\nSo you do :w and it puts you there.\n\n261\n00:12:13.950 --> 00:12:17.410\n>> I find it interesting that you're able\nto basically save the file with any kind\n\n262\n00:12:17.410 --> 00:12:18.310\nof file extension as well.\n\n263\n00:12:18.310 --> 00:12:22.820\nThis isn't like working\na Windows Operating system where you have\n\n264\n00:12:22.820 --> 00:12:23.930\ncertain types of files.\n\n265\n00:12:23.930 --> 00:12:27.060\nI guess you can go in there and change it,\nbut normally it says what type of file\n\n266\n00:12:27.060 --> 00:12:32.235\nwould you like to save this as a .doc or\na .txt, something to that effect.\n\n267\n00:12:32.235 --> 00:12:35.463\nI just type in right here,\nI want this to be a .txt file.\n\n268\n00:12:35.463 --> 00:12:36.885\nI want this to be .html.\n\n269\n00:12:36.885 --> 00:12:38.859\nWhatever I'd like it to be and\nit saves it that way.\n\n270\n00:12:38.859 --> 00:12:40.837\n>> Yeah.\nWell, I'd love to say that was some great\n\n271\n00:12:40.837 --> 00:12:43.851\namazing feature but it was really\njust done because this was created in\n\n272\n00:12:43.851 --> 00:12:46.665\na time when we didn't have\na lot of those file extensions.\n\n273\n00:12:46.665 --> 00:12:50.785\nAnd in the original Unix platform,\neverything was a text file.\n\n274\n00:12:50.785 --> 00:12:52.280\nEverything was a file.\n\n275\n00:12:52.280 --> 00:12:54.600\nAnd so,\nthis just treats everything like text.\n\n276\n00:12:54.600 --> 00:12:56.450\nYou could open up a binary file and\n\n277\n00:12:56.450 --> 00:13:00.200\nit'll just show you all the binary\ngarbage, it treats it like a text file.\n\n278\n00:13:00.200 --> 00:13:03.530\nSo but yeah, that means you can save it\nwith any extension or no extension at all.\n\n279\n00:13:03.530 --> 00:13:05.185\nYou don't have to have a file extension,\nright?\n\n280\n00:13:05.185 --> 00:13:07.205\nThat's really a kind of a Microsoft thing.\n\n281\n00:13:07.205 --> 00:13:09.733\nWe don't have to have\nthat if we don't want to.\n\n282\n00:13:09.733 --> 00:13:13.175\nOf course, then we got to remember\nwhat the file is [LAUGH].\n\n283\n00:13:13.175 --> 00:13:14.671\n>> Yeah [LAUGH], that old chestnut.\n>> All right, so\n\n284\n00:13:14.671 --> 00:13:18.092\nwe just did i to get in insert mode.\n\n285\n00:13:18.092 --> 00:13:21.321\nAnd then I hit Esc to get out of\ninsert mode with a :w to save.\n\n286\n00:13:21.321 --> 00:13:23.292\nLet's talk a little bit more about saving.\n\n287\n00:13:23.292 --> 00:13:25.272\nI saved and I stayed in the file, okay.\n\n288\n00:13:26.572 --> 00:13:28.142\nWhat if I wanted to get\nout of the program?\n\n289\n00:13:28.142 --> 00:13:30.892\nI wanna save and exit.\n\n290\n00:13:30.892 --> 00:13:32.742\nWell, there's actually two ways to do it.\n\n291\n00:13:32.742 --> 00:13:34.452\nYou can do it in one command.\n\n292\n00:13:34.452 --> 00:13:38.952\nI can do :x, :x will save and exit.\n\n293\n00:13:38.952 --> 00:13:42.020\nSo it just saved my document and\nexited out of i.\n\n294\n00:13:43.100 --> 00:13:47.059\nOr I could have done :wq,\nw tells it to save and\n\n295\n00:13:47.059 --> 00:13:51.960\nq tells it to quit, right,\ntwo different commands.\n\n296\n00:13:51.960 --> 00:13:54.910\nNow what's the advantage\nof one over the other?\n\n297\n00:13:54.910 --> 00:13:56.167\nOne was one letter, one was two letters.\n\n298\n00:13:56.167 --> 00:13:57.480\n>> [LAUGH]\n>> It's just typing.\n\n299\n00:13:57.480 --> 00:14:02.770\nI always do wq, cuz that's what I'm\nused to but x achieves the same goal.\n\n300\n00:14:02.770 --> 00:14:07.460\nSo you'll find there's more than one\noccasion where there's one command that\n\n301\n00:14:07.460 --> 00:14:10.290\nactually has two different forms and\nit doesn't matter which one you do.\n\n302\n00:14:11.720 --> 00:14:14.330\nNow, originally I just\nran vi to get into vi,\n\n303\n00:14:14.330 --> 00:14:17.790\nbut you can feed to it an input\nparameter of what file you wanna edit.\n\n304\n00:14:17.790 --> 00:14:21.720\nAnd so if I wanna edit my,\nwhat did I call that thing, test-file.txt.\n\n305\n00:14:21.720 --> 00:14:25.600\nI can do vi followed by the file name and\nnow I'm gonna edit it and here I am,\n\n306\n00:14:25.600 --> 00:14:27.420\nall right?\n\n307\n00:14:27.420 --> 00:14:32.730\nI mentioned earlier there was, if I wanted\nto delete a line, I could do :d, right?\n\n308\n00:14:32.730 --> 00:14:37.540\nIf I do :, that puts me in the command\nprompt and if I type d and\n\n309\n00:14:37.540 --> 00:14:40.790\npress Enter, it deletes the entire\nline that I was just on.\n\n310\n00:14:40.790 --> 00:14:42.640\nSo I just deleted that line.\n\n311\n00:14:42.640 --> 00:14:46.720\nIf I don't wanna use the command prompt\nthough, I can just use the inline command.\n\n312\n00:14:46.720 --> 00:14:50.600\nAnd the inline command for deleting a line\nis just dd, you type d twice, right?\n\n313\n00:14:50.600 --> 00:14:53.560\nSo if I wanna get rid of,\nI can type a colon if I want to.\n\n314\n00:14:53.560 --> 00:14:58.550\nI can just highlight that line and\nI can hit dd and it deletes it, all right?\n\n315\n00:14:58.550 --> 00:15:01.830\nWhat's the difference between\npressing dd versus :d?\n\n316\n00:15:01.830 --> 00:15:03.260\nNothing, right?\n\n317\n00:15:03.260 --> 00:15:07.450\nExcept when you do :d, you could continue\non to provide additional commands to run\n\n318\n00:15:07.450 --> 00:15:08.460\nat the same time.\n\n319\n00:15:08.460 --> 00:15:12.360\nLike when we do :wq, you're actually\nrunning two commands at once.\n\n320\n00:15:12.360 --> 00:15:14.450\nThat's a big advantage of\ndropping to the colon.\n\n321\n00:15:14.450 --> 00:15:18.450\nBut if you're just doing a single command,\nthen you can do the inline command.\n\n322\n00:15:18.450 --> 00:15:23.540\nNow personally, I've kinda got into the\nhabit of not using the inline commands.\n\n323\n00:15:23.540 --> 00:15:26.430\nJust because oftentimes you\nare doing more than one command and\n\n324\n00:15:26.430 --> 00:15:27.690\nyou need to go to the colon.\n\n325\n00:15:27.690 --> 00:15:29.960\nAnd so I just kinda default to\nalways doing the colon commands.\n\n326\n00:15:29.960 --> 00:15:33.260\nBut don't let my habits\nprejudice you on these.\n\n327\n00:15:33.260 --> 00:15:36.570\nIt's really what you're most comfortable,\nyou can kinda pick from what's out there.\n\n328\n00:15:36.570 --> 00:15:38.700\n>> Yeah, so basically you're\ngiving yourself shortcut options.\n\n329\n00:15:38.700 --> 00:15:42.710\nIf I just wanna that one single command,\nI jump up, I do the dd or\n\n330\n00:15:42.710 --> 00:15:43.970\nany other commands that work that way.\n\n331\n00:15:43.970 --> 00:15:48.070\nBut if I need to put some commands\ntogether, maybe I want to delete a line,\n\n332\n00:15:48.070 --> 00:15:49.620\nthen save that and quit.\n\n333\n00:15:49.620 --> 00:15:53.157\nI can do dwq or dx and\nthen I'd be good to go.\n\n334\n00:15:53.157 --> 00:15:54.419\n>> Yeah, absolutely.\n\n335\n00:15:54.419 --> 00:15:57.506\nNow, let's say that I'm\nworking with a file And\n\n336\n00:15:57.506 --> 00:16:00.836\nI'm really just wanting to\nlook inside of the file.\n\n337\n00:16:00.836 --> 00:16:03.936\nAnd I'm thinking about making a change and\nthen I decide, you know what,\n\n338\n00:16:03.936 --> 00:16:05.641\nI really don't wanna make that change.\n\n339\n00:16:05.641 --> 00:16:07.801\nSo here I've deleted some lines\nout of this file and I've said,\n\n340\n00:16:07.801 --> 00:16:11.700\nyou know I really don't want to make those\nchanges, so I'm gonna quit without saving.\n\n341\n00:16:11.700 --> 00:16:14.530\nWell, you can do :q.\n\n342\n00:16:14.530 --> 00:16:16.170\nThat's q to quit.\n\n343\n00:16:16.170 --> 00:16:19.558\nBut if I run that it gives me a warning,\nNo write since last change,\n\n344\n00:16:19.558 --> 00:16:23.100\nletting me know I made some changes and\nI haven't saved yet.\n\n345\n00:16:23.100 --> 00:16:24.390\nNow I've got a choice here.\n\n346\n00:16:24.390 --> 00:16:28.820\nI can save and exit, but\nthen I save the stuff that I don't want.\n\n347\n00:16:28.820 --> 00:16:31.790\nSo what I need to do is I\nneed to exit without saving.\n\n348\n00:16:31.790 --> 00:16:33.400\nAnd notice how it says I can override it.\n\n349\n00:16:33.400 --> 00:16:36.030\nI can add an exclamation\npoint to override.\n\n350\n00:16:36.030 --> 00:16:42.670\nIf I do :q!, that means exit and don't\nbother saving the changes that I made.\n\n351\n00:16:42.670 --> 00:16:44.560\nSo I'm gonna run that and now I'm out.\n\n352\n00:16:44.560 --> 00:16:47.480\nI didn't save changes and\nthe file's back to the way it was.\n\n353\n00:16:47.480 --> 00:16:49.935\nIf I go and edit it again,\nthere's those lines I deleted.\n\n354\n00:16:49.935 --> 00:16:54.998\nIt's a quick easy way to kind of revert\nthe file back to the way that it was.\n\n355\n00:16:54.998 --> 00:16:57.980\nA couple of other neat little\ntricks that we could do with vi.\n\n356\n00:16:59.180 --> 00:17:01.770\nWe've seen getting into insert mode and\ngetting out of it.\n\n357\n00:17:01.770 --> 00:17:05.500\nWe've seen saving the document or\ncanceling our changes.\n\n358\n00:17:05.500 --> 00:17:06.980\nWe've seen a couple of those.\n\n359\n00:17:06.980 --> 00:17:08.710\nA few other things that we can do.\n\n360\n00:17:09.980 --> 00:17:11.580\nOh, with insert mode.\n\n361\n00:17:12.680 --> 00:17:15.780\nIn this file,\nwhen I went into insert mode,\n\n362\n00:17:15.780 --> 00:17:17.590\nmy cursor was always at\nthe beginning of the line.\n\n363\n00:17:18.920 --> 00:17:21.490\nIf you move all the way out here, and\n\n364\n00:17:21.490 --> 00:17:26.050\nyou press that lowercase i,\nI'm in insert mode, and I'm right here.\n\n365\n00:17:26.050 --> 00:17:28.460\nInsert mode makes you insert\nwherever your cursor is.\n\n366\n00:17:29.670 --> 00:17:33.210\nIf you enter the insert mode\nby pressing a capital I,\n\n367\n00:17:33.210 --> 00:17:36.590\nthough, see how it jumped me\nto the beginning of the line?\n\n368\n00:17:36.590 --> 00:17:39.420\nLowercase i is wherever your cursor is.\n\n369\n00:17:39.420 --> 00:17:43.390\nCapital I is the beginning of\nthe line that your cursor is on.\n\n370\n00:17:43.390 --> 00:17:47.030\nSo that makes life a little bit easier to\nbe able to jump to a particular place in\n\n371\n00:17:47.030 --> 00:17:48.250\nthe line.\n\n372\n00:17:48.250 --> 00:17:51.195\nSpeaking of jumping to\na particular place in the line,\n\n373\n00:17:51.195 --> 00:17:53.699\nhave you ever run a script and\nyou get an error.\n\n374\n00:17:53.699 --> 00:17:57.330\nIt says error on line 53, blah blah blah.\n\n375\n00:17:57.330 --> 00:17:58.930\nSo you say, all right, well,\nI need to go figure that out.\n\n376\n00:17:58.930 --> 00:18:01.360\nLet me edit the script file and\nlet me find line 53.\n\n377\n00:18:01.360 --> 00:18:03.510\nWell, how do I find line 53?\n\n378\n00:18:03.510 --> 00:18:04.452\nYou can take your cursor-\n>> You count.\n\n379\n00:18:04.452 --> 00:18:06.500\n[LAUGH]\n>> You can count.\n\n380\n00:18:06.500 --> 00:18:07.960\nThere's a few different ways.\n\n381\n00:18:07.960 --> 00:18:09.730\nCounting is the only one\nyou can ever count on.\n\n382\n00:18:09.730 --> 00:18:11.042\n>> [LAUGH]\n>> See what I did there?\n\n383\n00:18:11.042 --> 00:18:13.929\n[LAUGH] So\nit's the only one you can count on.\n\n384\n00:18:13.929 --> 00:18:15.330\nBut it would take a long time.\n\n385\n00:18:15.330 --> 00:18:22.395\nIf it's telling me line 612,\nthat's a lot of lines to count.\n\n386\n00:18:22.395 --> 00:18:27.410\nWell, in vi, down here at the bottom right\nof the screen notice these little numbers.\n\n387\n00:18:27.410 --> 00:18:28.714\nMine's got 2,1.\n\n388\n00:18:28.714 --> 00:18:31.610\nThat means I'm on line 2, character 1.\n\n389\n00:18:31.610 --> 00:18:34.640\nNow I'm on line 3, character 8.\n\n390\n00:18:34.640 --> 00:18:39.765\nThat's a quick way to find out\nwhere you are if something's\n\n391\n00:18:39.765 --> 00:18:45.212\ntelling you Expected an argument\nat line 507 character 9.\n\n392\n00:18:45.212 --> 00:18:50.000\nNow you can quickly go and find that and\nsave a little bit of time.\n\n393\n00:18:50.000 --> 00:18:51.780\nThere's a few other things we can do.\n\n394\n00:18:51.780 --> 00:18:53.320\nYou can turn on line numbers.\n\n395\n00:18:53.320 --> 00:18:55.960\nBy default,\nvi doesn't display line numbers.\n\n396\n00:18:55.960 --> 00:19:01.650\nBut if you type :, I had to hit Esc\nto get out to command mode again,\n\n397\n00:19:01.650 --> 00:19:04.890\nhit : and type set number.\n\n398\n00:19:04.890 --> 00:19:08.490\nSet number, when you do that,\nsee how it added the line numbers?\n\n399\n00:19:08.490 --> 00:19:10.400\nThat's kind of a neat feature to have.\n\n400\n00:19:10.400 --> 00:19:14.465\nNow if it tells me there's\nan error on line 53,\n\n401\n00:19:14.465 --> 00:19:18.750\nI can jump right to line\n53 thanks to having this.\n\n402\n00:19:18.750 --> 00:19:21.217\nLet me give you another example.\n\n403\n00:19:21.217 --> 00:19:23.087\nWhoops, let me get out of this file.\n\n404\n00:19:23.087 --> 00:19:29.034\nLet's take something that has a lot of\noutput, and pipe that into a text file.\n\n405\n00:19:29.034 --> 00:19:30.219\nThere we go.\n\n406\n00:19:30.219 --> 00:19:34.396\nAnd I'm gonna edit this file real quick.\n\n407\n00:19:34.396 --> 00:19:37.652\nAll right, so here's my dmesg output, and\n\n408\n00:19:37.652 --> 00:19:41.610\nyou'll see this file has\na lot of lines in it.\n\n409\n00:19:41.610 --> 00:19:46.060\nWell, if I do a set number,\nnow I get the line numbers.\n\n410\n00:19:46.060 --> 00:19:48.890\nAnd as I scroll through,\nif I'm looking for a particular line,\n\n411\n00:19:48.890 --> 00:19:50.260\nI know how to find it.\n\n412\n00:19:50.260 --> 00:19:55.470\nBut what if this thing has thousands\nupon thousands of lines, and\n\n413\n00:19:55.470 --> 00:19:58.240\nI need to jump to line 600?\n\n414\n00:19:58.240 --> 00:20:00.240\nWell, I don't wanna sit here and\nscroll through.\n\n415\n00:20:00.240 --> 00:20:04.010\nEven using Page Up and Page Down,\nit still takes forever to find 600.\n\n416\n00:20:04.010 --> 00:20:09.438\nSo what you can do is when you edit\na file, as a parameter if you say\n\n417\n00:20:09.438 --> 00:20:14.580\n+600 like that, it's gonna say open\nup dmesg.txt and jump to line 600.\n\n418\n00:20:14.580 --> 00:20:19.240\nSo we can tell vi exactly where\nwe wanna go in that file.\n\n419\n00:20:19.240 --> 00:20:22.210\nAnd then if I turn on my set number\n\n420\n00:20:22.210 --> 00:20:25.225\nI can see that my cursor is\nindeed right here on line 600.\n\n421\n00:20:26.370 --> 00:20:27.680\nGreat for troubleshooting.\n\n422\n00:20:27.680 --> 00:20:30.161\nYou know you've got an error on line five,\njump right to line five.\n\n423\n00:20:30.161 --> 00:20:32.398\nThis is a great way to do it.\n\n424\n00:20:32.398 --> 00:20:34.725\nAll right,\nI talked too long on some things so\n\n425\n00:20:34.725 --> 00:20:37.020\nI'm running a little short on time.\n\n426\n00:20:37.020 --> 00:20:39.680\nSo let's talk about a few other things\nthat we can do while we're in here.\n\n427\n00:20:39.680 --> 00:20:41.450\nMaybe we don't know what line we need.\n\n428\n00:20:41.450 --> 00:20:44.690\nMaybe we want to jump to a line but\nwe don't know where it is.\n\n429\n00:20:44.690 --> 00:20:47.860\nI'm trying to sift through\nmy dmesg stuff here and\n\n430\n00:20:47.860 --> 00:20:49.780\nI'm trying to find some ACPI stuff.\n\n431\n00:20:50.990 --> 00:20:55.000\nWell, what I could do is I\ncould edit that file and\n\n432\n00:20:55.000 --> 00:20:59.140\nI could use the inline\nsearch to find ACPI.\n\n433\n00:20:59.140 --> 00:21:01.850\nThe way you do an inline search\nis you type a forward slash.\n\n434\n00:21:01.850 --> 00:21:05.200\nWhen you type a forward slash,\nit takes you to a special prompt.\n\n435\n00:21:05.200 --> 00:21:06.820\nColon would take me to the command prompt.\n\n436\n00:21:06.820 --> 00:21:09.460\nSlash takes me to a slash prompt.\n\n437\n00:21:09.460 --> 00:21:11.630\nAnd in the slash, we can do a search.\n\n438\n00:21:11.630 --> 00:21:15.030\nAnd I can type ACPI and it's gonna jump me\n\n439\n00:21:15.030 --> 00:21:19.680\nto the first instance of ACPI in that\nfile, so there it jumps right to it.\n\n440\n00:21:19.680 --> 00:21:23.760\nAnd had I turned my numbering on I\nwould see I just skipped to line 604.\n\n441\n00:21:23.760 --> 00:21:27.410\nI skipped way ahead in\nthe queue here to find this.\n\n442\n00:21:27.410 --> 00:21:32.420\nAnd then I can type the letter\nn to move to the next one, and\n\n443\n00:21:32.420 --> 00:21:35.050\nn, so I'm just moving forward, n, n, n, n.\n\n444\n00:21:35.050 --> 00:21:39.240\nIf I do a capital N, it takes me to the\nprevious one, so I can scroll backwards.\n\n445\n00:21:39.240 --> 00:21:40.834\nSee how I'm searching backwards now.\n\n446\n00:21:40.834 --> 00:21:43.950\nSo you can go backwards and\nforwards using the N key.\n\n447\n00:21:43.950 --> 00:21:46.950\nLowercase n to go forward,\ncapital N to go backwards.\n\n448\n00:21:46.950 --> 00:21:48.750\nAnd that slash is what\nlet me do the search.\n\n449\n00:21:49.900 --> 00:21:51.670\nWe can also do replaces.\n\n450\n00:21:51.670 --> 00:21:53.138\nLet me do another example here.\n\n451\n00:21:53.138 --> 00:21:56.650\nAll right, so here's a little\nbit of Shakespeare for us today.\n\n452\n00:21:56.650 --> 00:21:58.450\nWe're going to be high\nculture on this show.\n\n453\n00:21:58.450 --> 00:22:00.900\nTo be or not to be, that is the question.\n\n454\n00:22:00.900 --> 00:22:04.710\nLet's say that I want to\nreplace every instance of\n\n455\n00:22:04.710 --> 00:22:08.800\nthe word to with T-W-O instead.\n\n456\n00:22:08.800 --> 00:22:10.648\nYou can do a search and replace.\n\n457\n00:22:10.648 --> 00:22:15.848\nAnd if I want to do a search and\nreplace, the easiest way to do\n\n458\n00:22:15.848 --> 00:22:20.951\nit is if you do :s/, or\nI'm sorry, that's the search.\n\n459\n00:22:20.951 --> 00:22:23.879\nWhen I did a / to search,\nif I searched for the word to,\n\n460\n00:22:23.879 --> 00:22:26.653\nthat's actually shorthand for\nrunning :s/to.\n\n461\n00:22:26.653 --> 00:22:29.615\nIt's really the same thing.\n\n462\n00:22:29.615 --> 00:22:31.765\nThey both work the same way.\n\n463\n00:22:31.765 --> 00:22:35.672\nActually, that just replaced my text,\nthere we go.\n\n464\n00:22:35.672 --> 00:22:38.662\nBut we can search and\nreplace things, and find them.\n\n465\n00:22:38.662 --> 00:22:41.402\nWhen we do the slash notation\nlike I was just writing,\n\n466\n00:22:41.402 --> 00:22:44.152\nwe normally provide what\nwe want to replace it with.\n\n467\n00:22:44.152 --> 00:22:47.490\nSo if I wanted to replace\nthat text with T-W-O,\n\n468\n00:22:47.490 --> 00:22:49.230\nI can provide a slightly longer command.\n\n469\n00:22:49.230 --> 00:22:53.760\nI'm going to type :s/ and\nI'm going to search for\n\n470\n00:22:53.760 --> 00:22:58.740\nthe word to, and then a slash, and\nI'm going to replace it with T-W-O.\n\n471\n00:22:58.740 --> 00:23:03.058\nRunning this will search the entire file\nfor any instance of the word T-O and\n\n472\n00:23:03.058 --> 00:23:04.555\nreplace it with T-W-O.\n\n473\n00:23:04.555 --> 00:23:09.050\nThis is really handy if you're searching\nfor network configs that eth1,\n\n474\n00:23:09.050 --> 00:23:10.940\nyou want to change it to eth0.\n\n475\n00:23:10.940 --> 00:23:14.470\nYou can search and replace them and\nwhen you run it, it's gonna get those.\n\n476\n00:23:14.470 --> 00:23:20.570\nNow notice how it only changed the second\none, and the reason is where my cursor is.\n\n477\n00:23:20.570 --> 00:23:24.960\nThe default is it searches from\nwhere your cursor is, forward.\n\n478\n00:23:24.960 --> 00:23:26.460\nIt doesn't go backwards.\n\n479\n00:23:26.460 --> 00:23:30.576\nIf we want it to go backwards too, we need\nto add a little bit more to that command.\n\n480\n00:23:30.576 --> 00:23:36.119\nWe need to say %s/to/two.\n\n481\n00:23:36.119 --> 00:23:41.325\nThat % says search the whole file,\nnot just from where my cursor is.\n\n482\n00:23:41.325 --> 00:23:44.985\nLet me repeat that example, and\nI'm gonna move my cursor way down here so\n\n483\n00:23:44.985 --> 00:23:48.297\nthat you guys will see that\nthat's actually what's happening.\n\n484\n00:23:48.297 --> 00:23:51.535\n%s/to/two.\n\n485\n00:23:51.535 --> 00:23:57.843\nSo search the whole file for any instance\nof the word T-O and replace it with T-W-O.\n\n486\n00:23:57.843 --> 00:24:01.976\nAnd there it goes, it replaces the whole\nthing, so pretty neat way to go about it.\n\n487\n00:24:01.976 --> 00:24:04.720\nWhat that percent is, is actually a range.\n\n488\n00:24:04.720 --> 00:24:08.580\nAlmost all of the vi\ncommands support ranges, so\n\n489\n00:24:08.580 --> 00:24:11.420\nwhen you type colon,\neven before you type the command,\n\n490\n00:24:11.420 --> 00:24:14.730\nyou can type a line range that\ncommand is going to apply to.\n\n491\n00:24:14.730 --> 00:24:16.240\nSo if I wanted to do a search and\n\n492\n00:24:16.240 --> 00:24:19.630\nreplace and only have it apply\nto a certain range of lines.\n\n493\n00:24:19.630 --> 00:24:20.940\nLet me get back out.\n\n494\n00:24:20.940 --> 00:24:21.630\nWe'll do this again.\n\n495\n00:24:22.720 --> 00:24:26.580\nI could come in here and say set number,\nso I could see my lines.\n\n496\n00:24:26.580 --> 00:24:30.210\nAnd maybe I just wanted to apply\nthe lines four through six.\n\n497\n00:24:30.210 --> 00:24:38.159\nI could say :4,6 s/to/two.\n\n498\n00:24:38.159 --> 00:24:41.300\nNow it's only gonna look\nat lines four through six.\n\n499\n00:24:41.300 --> 00:24:43.230\nAnd in lines four through six\nif it finds the word T-O,\n\n500\n00:24:43.230 --> 00:24:46.400\nit'll replace with T-W-O, and there we go.\n\n501\n00:24:46.400 --> 00:24:48.120\nSo those ranges are a great\nway to limit it.\n\n502\n00:24:48.120 --> 00:24:50.680\nAnd I did it with search and replace\ncuz that's the way I normally do it.\n\n503\n00:24:50.680 --> 00:24:52.720\nBut it really works with\nany of the commands.\n\n504\n00:24:52.720 --> 00:24:59.098\nIf you wanna delete some lines,\nyou could say :8,10d.\n\n505\n00:24:59.098 --> 00:25:02.560\nNow it's not just gonna delete one line,\nit's gonna delete lines eight through ten.\n\n506\n00:25:02.560 --> 00:25:05.440\nSo quick, easy way to delete ranges,\nanything.\n\n507\n00:25:05.440 --> 00:25:06.580\nYou can insert ranges.\n\n508\n00:25:06.580 --> 00:25:08.480\nYou can do all sorts of\ncrazy stuff with it.\n\n509\n00:25:08.480 --> 00:25:09.420\nIt's a pretty powerful command.\n\n510\n00:25:11.020 --> 00:25:11.540\nLet's see.\n\n511\n00:25:11.540 --> 00:25:14.270\nWhat else do I wanna tackle here in\nthe last few moments that we've got?\n\n512\n00:25:15.860 --> 00:25:20.490\nWe saw deleting lines, oh, so, I've had\nto run that set number more than once.\n\n513\n00:25:21.780 --> 00:25:25.551\nIf there's something like that, that you\nwant to keep permanent inside of vi.\n\n514\n00:25:25.551 --> 00:25:29.110\nUnfortunately, those set commands,\nthey get wiped out every time you exit vi.\n\n515\n00:25:29.110 --> 00:25:31.292\nVi does keep a configuration file.\n\n516\n00:25:31.292 --> 00:25:35.340\nIf I get out of this and\ngo back to my home directory.\n\n517\n00:25:35.340 --> 00:25:37.772\nSo, here I am in /home/dpezet.\n\n518\n00:25:37.772 --> 00:25:41.270\nIf you poke around in your home directory,\nthere's a lot of hidden files.\n\n519\n00:25:41.270 --> 00:25:45.974\nAnd, there might be a file called .vimrc.\n\n520\n00:25:45.974 --> 00:25:49.385\nAnd that's the vi editor's\nconfiguration file.\n\n521\n00:25:49.385 --> 00:25:53.020\nAnd you can put commands in\nthere that will be a part of vi,\n\n522\n00:25:53.020 --> 00:25:55.555\nthat'll actually happen\nevery time that you run it.\n\n523\n00:25:55.555 --> 00:26:00.120\nSo if I want this set number\nto always be present.\n\n524\n00:26:00.120 --> 00:26:02.284\nI can edit that file and\nI'll use vi to edit it.\n\n525\n00:26:02.284 --> 00:26:06.673\nSo I'm gonna edit tube /.vimrc,\nand the file doesn't exist, so\n\n526\n00:26:06.673 --> 00:26:12.140\nI'm effectively creating it, and I'm just\ngonna type in there, set, number, so\n\n527\n00:26:12.140 --> 00:26:17.376\nthat it'll know, hey, every time you run,\nI want you to display line numbers.\n\n528\n00:26:17.376 --> 00:26:19.680\nAnd we'll go ahead and save that.\n\n529\n00:26:19.680 --> 00:26:22.120\nNow, vi will use that\nconfiguration file and\n\n530\n00:26:22.120 --> 00:26:23.680\nit's been a while since I've done this.\n\n531\n00:26:23.680 --> 00:26:26.170\nSo I can't remember if it takes\naffect without logging out.\n\n532\n00:26:26.170 --> 00:26:28.260\nSome of these things, you have to\nlog out and log back in for it.\n\n533\n00:26:28.260 --> 00:26:29.930\nLet's do a test.\n\n534\n00:26:29.930 --> 00:26:34.860\nSo, I'll get back into my documents and\nI'm gonna edit that Shakespeare file.\n\n535\n00:26:34.860 --> 00:26:36.230\nDidn't have to log out.\n\n536\n00:26:36.230 --> 00:26:37.960\nLine numbers are automatically there.\n\n537\n00:26:37.960 --> 00:26:41.580\nSo, if you wanna tweak the behavior of vi,\nyou can do that.\n\n538\n00:26:41.580 --> 00:26:44.430\nIt's easy enough and\nyou can set that in your vimrc file and\n\n539\n00:26:44.430 --> 00:26:46.930\nthat'll take place every\ntime you run the editor.\n\n540\n00:26:46.930 --> 00:26:50.940\n>> Yeah, obviously vi is a very powerful\ntool giving you a lot of options.\n\n541\n00:26:50.940 --> 00:26:52.670\nYou get a wrangle on this thing.\n\n542\n00:26:52.670 --> 00:26:56.670\nYou're definitely gonna be really set for\nediting text files, doing HTML,\n\n543\n00:26:56.670 --> 00:27:00.130\nany kind of long form stuff,\nthis is really gonna be helpful.\n\n544\n00:27:00.130 --> 00:27:01.120\nAnd when you're working in Linux,\n\n545\n00:27:01.120 --> 00:27:05.530\nyou tend to write scripts a lot, that's\nreally when it shines and shows its color.\n\n546\n00:27:05.530 --> 00:27:08.400\nSo, that being said, it's an awesome tool.\n\n547\n00:27:08.400 --> 00:27:14.240\n>> Yeah, and I tell you, if you're working\non like a Linux server in Amazon EC2,\n\n548\n00:27:14.240 --> 00:27:17.790\nand it's got no GUI, and\nyou just SSH into the thing,\n\n549\n00:27:17.790 --> 00:27:20.840\nyou're gonna need to rely on some\nkind of command line text editor.\n\n550\n00:27:20.840 --> 00:27:22.390\nYou will have to use it.\n\n551\n00:27:22.390 --> 00:27:24.160\nI encourage you to learn vi.\n\n552\n00:27:24.160 --> 00:27:25.100\nThere's other ones out there,\n\n553\n00:27:25.100 --> 00:27:28.880\nlike nano's really prevalent these days,\nbut vi is the one you can count on.\n\n554\n00:27:28.880 --> 00:27:31.380\nSo if you have to pick one this is\nthe one that I encourage to use.\n\n555\n00:27:32.650 --> 00:27:34.860\nIt's just a really good skill to have.\n\n556\n00:27:34.860 --> 00:27:38.680\nSo, in this episode,\nwe saw some of the basic commands.\n\n557\n00:27:38.680 --> 00:27:40.510\nThis stuff can be basically proficient.\n\n558\n00:27:40.510 --> 00:27:42.460\nOpen a file, search and find text,\n\n559\n00:27:42.460 --> 00:27:46.590\nreplace if you need it, edit the text,\nsave the file and get out of the thing.\n\n560\n00:27:46.590 --> 00:27:50.640\nThat's really the bare minimum you\nneed to know to get around in vi, but\n\n561\n00:27:50.640 --> 00:27:52.230\nthere's a ton more out there so\n\n562\n00:27:52.230 --> 00:27:55.630\nif you wanna learn more go out there's\na ton of web tutorials that are out there.\n\n563\n00:27:55.630 --> 00:27:58.143\nWe should do a video series\njust on vi at some point.\n\n564\n00:27:58.143 --> 00:27:59.637\nWe say that about a lot\nof technologies though.\n\n565\n00:27:59.637 --> 00:28:01.090\n>> Yeah, we do.\n[LAUGH]\n\n566\n00:28:01.090 --> 00:28:02.750\n>> There's only so much time in the day.\n\n567\n00:28:02.750 --> 00:28:05.190\nBut for what we need to know for\nthe Linux+ exam,\n\n568\n00:28:05.190 --> 00:28:07.680\nI think we've seen the basics and\nthat's a pretty good wrap up.\n\n569\n00:28:07.680 --> 00:28:08.310\n>> Yeah.\n\n570\n00:28:08.310 --> 00:28:08.900\nAll right, Don.\nWell,\n\n571\n00:28:08.900 --> 00:28:11.250\nit looks like we've come to\nthe end of another great show.\n\n572\n00:28:11.250 --> 00:28:14.870\nSigning off for ITProTV,\nI've been your host Daniel Lowery.\n\n573\n00:28:14.870 --> 00:28:15.760\n>> And I'm Don Pezet.\n\n574\n00:28:15.760 --> 00:28:16.945\n>> And we'll see you next time.\n\n575\n00:28:16.945 --> 00:28:22.740\n[SOUND]\n\n",
          "vimeoId": "130988955"
        },
        {
          "description": "In this episode, Don and Daniel continue with their showcase of the vi(m) text editor in Linux. They pick back up by exploring some other common commands and features intrinsic to the vi(m) editor. This includes things like searching and navigating text, appending and deleting, and saving changes.",
          "length": "1655",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-1-5-2-editing_files_with_vi_pt2-012816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-1-5-2-editing_files_with_vi_pt2-012816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-1-5-2-editing_files_with_vi_pt2-012816-1-sm.jpg",
          "title": "Editing Files with vi Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.399 --> 00:00:16.321\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:16.321 --> 00:00:19.090\nI'm your host, Daniel Lowrie,\nand in today's episode,\n\n4\n00:00:19.090 --> 00:00:21.880\nwe are continuing on\nwith our Linux+ series.\n\n5\n00:00:21.880 --> 00:00:24.540\nJoining me in the studio today is\nour good friend, Mr. Don Pezet.\n\n6\n00:00:24.540 --> 00:00:27.050\nDon, welcome back to the show sir,\nhow are ya?\n\n7\n00:00:27.050 --> 00:00:27.730\n>> Doing great Daniel.\n\n8\n00:00:27.730 --> 00:00:29.220\nThanks for having me back and\n\n9\n00:00:29.220 --> 00:00:34.690\nready to continue our adventure of\nworking with the vi Unix editor.\n\n10\n00:00:34.690 --> 00:00:37.530\nThe command line editing\nwe can always count on.\n\n11\n00:00:37.530 --> 00:00:38.550\nI say we can always count on it.\n\n12\n00:00:38.550 --> 00:00:41.780\nIt's available in most distros that we\ncan use to open up and our work files.\n\n13\n00:00:41.780 --> 00:00:45.200\nWe spent the last episode kinda\nintroducing you to it, showing you a lot\n\n14\n00:00:45.200 --> 00:00:48.910\nof the commands, really everything you\nneed to get by on a day to day basis.\n\n15\n00:00:48.910 --> 00:00:50.920\nBut in this episode I wanna\ngo a little bit further and\n\n16\n00:00:50.920 --> 00:00:53.660\nshow some more commands that\nmight turn up on the exam.\n\n17\n00:00:53.660 --> 00:00:54.920\nSome of these you may use a lot.\n\n18\n00:00:54.920 --> 00:00:56.160\nSome of these you may never use.\n\n19\n00:00:56.160 --> 00:00:58.610\nBut we need to cover them just to make\nsure that you're prepared for the exam.\n\n20\n00:00:58.610 --> 00:01:00.430\nSo we're gonna get a chance\nto see those here.\n\n21\n00:01:00.430 --> 00:01:02.310\nSo more vi action coming up.\n\n22\n00:01:02.310 --> 00:01:05.220\n>> That's right,\nthe vi editor is a great editor.\n\n23\n00:01:05.220 --> 00:01:09.830\nI guarantee if you poll nine out of\nten Linux users that are probably\n\n24\n00:01:09.830 --> 00:01:14.990\nat least vi proficient if not vi\nendorsers, like yeah, vi is the way to go.\n\n25\n00:01:14.990 --> 00:01:15.680\nThere's been Emacs.\n\n26\n00:01:15.680 --> 00:01:18.190\nThere's been others as well, and there's\nsome new ones coming down the pipe.\n\n27\n00:01:18.190 --> 00:01:19.130\nI like Nano.\n\n28\n00:01:19.130 --> 00:01:20.210\nBut vi?\n\n29\n00:01:20.210 --> 00:01:20.860\nIt's always there.\n\n30\n00:01:20.860 --> 00:01:22.130\nIt's a tried and true friend.\n\n31\n00:01:22.130 --> 00:01:26.470\nLike Don said, on almost every\ndistribution that you install or use, it's\n\n32\n00:01:26.470 --> 00:01:30.260\nprobably going to have vi there waiting\nfor you like an old comfortable blanket.\n\n33\n00:01:30.260 --> 00:01:31.280\nJust wrap it around you.\n\n34\n00:01:31.280 --> 00:01:33.300\nThat being said we did talk\nabout some of the basics but\n\n35\n00:01:33.300 --> 00:01:34.580\nnow we got to take it up a level.\n\n36\n00:01:34.580 --> 00:01:39.260\nWe need to bump it up so that you can\nbe that proficient user of vi itself.\n\n37\n00:01:39.260 --> 00:01:40.560\nSo Don, where do we begin?\n\n38\n00:01:40.560 --> 00:01:43.300\n>> All right, well let's start with\na little bit of search technique.\n\n39\n00:01:43.300 --> 00:01:46.020\nSo when we open up a file in vi,\n\n40\n00:01:46.020 --> 00:01:49.460\nsometimes we're going in to edit\na particular line or a particular entry.\n\n41\n00:01:49.460 --> 00:01:52.270\nAnd so we wanna search and\nfind that so we can get to work.\n\n42\n00:01:52.270 --> 00:01:53.530\nSo let me show you that.\n\n43\n00:01:53.530 --> 00:01:54.060\nSo here I am.\n\n44\n00:01:54.060 --> 00:01:56.270\nI'm on a CentOS 7 box.\n\n45\n00:01:56.270 --> 00:02:01.500\nWell let me make sure I'm not lying to you\nthat I am indeed on a, yeah, CentOS 7.2.\n\n46\n00:02:01.500 --> 00:02:05.800\nAnd I've got vi installed, and\nI'm going to be jumping in here to\n\n47\n00:02:05.800 --> 00:02:09.470\nbasically just kinda see\nthe contents of a file.\n\n48\n00:02:09.470 --> 00:02:11.970\nI've got the Raven by Edgar Allen Poe.\n\n49\n00:02:11.970 --> 00:02:14.270\nI'm going a little literary classic here.\n\n50\n00:02:14.270 --> 00:02:19.450\nThat I'm gonna open up, and\nit's kind of a decent sized file.\n\n51\n00:02:19.450 --> 00:02:22.920\nThere's a lot of stuff kinda\nspread out through here, and\n\n52\n00:02:22.920 --> 00:02:28.260\nI want to basically look in here and find\nsomething so I can edit it or change it.\n\n53\n00:02:28.260 --> 00:02:33.020\nSo if you've ever read this poem, it's not\nthe most enlightening and uplifting poem,\n\n54\n00:02:33.020 --> 00:02:37.540\nbut there's a lot of stuff in here and\nI want to look for Lenore.\n\n55\n00:02:37.540 --> 00:02:40.120\nHe's always talking about this\nLenore old lady, whoever she is.\n\n56\n00:02:40.120 --> 00:02:41.980\nSo I wanna look in here and find it.\n\n57\n00:02:41.980 --> 00:02:45.200\nWell, you can hit the forward slash key.\n\n58\n00:02:45.200 --> 00:02:48.140\nSo right now, I've got the file open and\n\n59\n00:02:48.140 --> 00:02:51.590\nI'm in command mode where\nI can type commands in.\n\n60\n00:02:51.590 --> 00:02:53.520\nAnd we know that there's three\ndifferent modes that we've got.\n\n61\n00:02:53.520 --> 00:02:56.740\nWe've got the insert mode,\nwhere we're actually inserting text and\n\n62\n00:02:56.740 --> 00:02:57.980\nworking with the system.\n\n63\n00:02:57.980 --> 00:03:00.635\nAnd then we've got the first command mode\nwhich is what I'm in right now where\n\n64\n00:03:00.635 --> 00:03:03.230\nyou can just type a single letter and\nsomething happens.\n\n65\n00:03:03.230 --> 00:03:04.600\nOr you can type a colon,\n\n66\n00:03:04.600 --> 00:03:07.850\nand you go into the second command mode\nwhere you can do the advance stuff.\n\n67\n00:03:07.850 --> 00:03:11.730\nWell searching is just a simple command so\nI can just be in the regular mode, and\n\n68\n00:03:11.730 --> 00:03:14.390\nI can type a forward slash and\n\n69\n00:03:14.390 --> 00:03:17.400\nmy prompt updates down here\nto show that forward slash.\n\n70\n00:03:17.400 --> 00:03:19.400\nAnd now I can type in a word to look for.\n\n71\n00:03:19.400 --> 00:03:21.970\nSo I can look for Lenore.\n\n72\n00:03:21.970 --> 00:03:24.800\nNow when I do that, it's gonna start\nfrom wherever my cursor is, and\n\n73\n00:03:24.800 --> 00:03:26.970\nit's gonna search past that.\n\n74\n00:03:26.970 --> 00:03:30.800\nAnd it is case sensitive, so\nI'm looking for Lenore with a capital L.\n\n75\n00:03:30.800 --> 00:03:33.960\nAnd it's gonna go out and\ntry and find that.\n\n76\n00:03:33.960 --> 00:03:38.260\nAnd I'll see that my cursor has\nnow jumped to right here, and\n\n77\n00:03:38.260 --> 00:03:40.440\nit's found the first instance of Lenore.\n\n78\n00:03:41.450 --> 00:03:45.210\nNow I can see there's another\ninstance of Lenore right after that.\n\n79\n00:03:45.210 --> 00:03:48.520\nAnd if I wanna keep searching, maybe\nthis isn't the one I was looking for,\n\n80\n00:03:48.520 --> 00:03:49.920\nI'm looking for a different one.\n\n81\n00:03:49.920 --> 00:03:55.470\nWhat I can do is I can just do\na forward slash and press enter.\n\n82\n00:03:55.470 --> 00:04:00.340\nAnd see how every time I do forward slash\nit just continues to search for Lenore.\n\n83\n00:04:00.340 --> 00:04:02.690\nI'm not typing the word Lenore again.\n\n84\n00:04:02.690 --> 00:04:03.980\nI'm just hitting forward slash and enter,\n\n85\n00:04:03.980 --> 00:04:06.790\nand it knows to repeat\nthe search that I just did.\n\n86\n00:04:08.010 --> 00:04:11.260\nNow that forward slash searches forward.\n\n87\n00:04:11.260 --> 00:04:12.940\nIf I want to search backward,\n\n88\n00:04:12.940 --> 00:04:15.763\nwell you'd think a backslash would be\na really cool short cut, but it's not.\n\n89\n00:04:15.763 --> 00:04:16.409\n[LAUGH]\n>> [LAUGH]\n\n90\n00:04:16.409 --> 00:04:17.380\n>> If I want to search backwards,\n\n91\n00:04:17.380 --> 00:04:19.320\nit's actually a question mark.\n\n92\n00:04:19.320 --> 00:04:21.640\nSo if I know that it's\nsomething that occurred before.\n\n93\n00:04:21.640 --> 00:04:24.160\nSo maybe I want to look for the word lamp.\n\n94\n00:04:24.160 --> 00:04:26.520\nAnd I know the word lamp\noccurred before this.\n\n95\n00:04:26.520 --> 00:04:30.200\nI can do a question mark,\nand type in lamp.\n\n96\n00:04:31.500 --> 00:04:33.030\nAnd now it's going to search backwards.\n\n97\n00:04:34.030 --> 00:04:36.790\nAnd I continue to type question mark and\npress enter, and\n\n98\n00:04:36.790 --> 00:04:40.500\nit's gonna continue to search\nbackwards until we hit the top.\n\n99\n00:04:40.500 --> 00:04:42.710\nSo here it says it hit the top, and\nnow it's continuing at the bottom and\n\n100\n00:04:42.710 --> 00:04:43.810\nstarting over again.\n\n101\n00:04:43.810 --> 00:04:47.990\nSo forward slash to search forward,\nquestion mark to search back.\n\n102\n00:04:47.990 --> 00:04:51.230\nQuick and easy way to find what it is\nyou're looking for inside of a document.\n\n103\n00:04:51.230 --> 00:04:53.090\n>> Yeah,\nobviously that's going to be very helpful,\n\n104\n00:04:53.090 --> 00:04:56.510\nespecially with documents that\nhave a lot of content in them.\n\n105\n00:04:56.510 --> 00:04:59.740\nYou need to be able to find something,\n[COUGH] excuse me, really quickly.\n\n106\n00:04:59.740 --> 00:05:02.740\nSearching forward or\nback is gonna be your go-to item.\n\n107\n00:05:02.740 --> 00:05:05.860\nBut that's not the only way we can\nnavigate throughout the vi system.\n\n108\n00:05:05.860 --> 00:05:07.780\nThere is other ways we can navigate on.\n\n109\n00:05:07.780 --> 00:05:09.990\n>> Yeah.\nNow I use the arrow keys a lot.\n\n110\n00:05:09.990 --> 00:05:12.340\nSo the arrow keys on my keyboard,\nif I start pressing them,\n\n111\n00:05:12.340 --> 00:05:16.480\nI can hit the up arrow to move my\ncursor up, the down arrow to move down,\n\n112\n00:05:16.480 --> 00:05:18.800\nright arrow to move right,\nleft arrow to move left.\n\n113\n00:05:18.800 --> 00:05:22.180\nAnd if you're sitting at a terminal or\nif you're SSH'd in,\n\n114\n00:05:22.180 --> 00:05:24.690\nthat's normally not a problem.\n\n115\n00:05:24.690 --> 00:05:28.180\nBut if you're connected to a server\nby a serial cable for example, or\n\n116\n00:05:28.180 --> 00:05:30.560\nif you're going through some\nkind of terminal emulator,\n\n117\n00:05:30.560 --> 00:05:33.580\nthere's a lot of times where\nyour arrow keys may not work.\n\n118\n00:05:33.580 --> 00:05:36.470\nAnd if the arrow keys don't work,\nif you're not able to move up, down, left,\n\n119\n00:05:36.470 --> 00:05:39.650\nright using the arrow keys,\nthere's actually keyboard shortcuts you\n\n120\n00:05:39.650 --> 00:05:42.665\ncan use that are tied to letters instead\nbecause the letters always work.\n\n121\n00:05:42.665 --> 00:05:45.640\nThen so we've got H, J, K, and L.\n\n122\n00:05:45.640 --> 00:05:49.370\nIf you're on a US keyboard and you look\nat the keyboard, you'll see H, J, K,\n\n123\n00:05:49.370 --> 00:05:51.836\nand L are all lined up\nright next to each other.\n\n124\n00:05:51.836 --> 00:05:55.470\nAnd if you press them,\nyou'll see they go different ways.\n\n125\n00:05:55.470 --> 00:05:59.710\nSo H and L, H is left, L is right.\n\n126\n00:05:59.710 --> 00:06:03.500\nAnd so I'm just tapping H and\nL on my keyboard to mover left and right.\n\n127\n00:06:03.500 --> 00:06:07.450\nAnd then we've got J for\ndown and K for up.\n\n128\n00:06:07.450 --> 00:06:10.630\nAnd so\nI can use these letters to navigate around\n\n129\n00:06:10.630 --> 00:06:13.080\njust like the arrow keys that we use.\n\n130\n00:06:13.080 --> 00:06:17.430\nSo there's no difference in function\nexcept some terminals don't support\n\n131\n00:06:17.430 --> 00:06:20.340\nthe arrow keys, and\nthat's why we need to have these letters.\n\n132\n00:06:20.340 --> 00:06:23.960\nNow remember,\nvi was created a long time ago.\n\n133\n00:06:23.960 --> 00:06:26.740\nAnd back then, keyboards were not as\nconsistent as they are today, and\n\n134\n00:06:26.740 --> 00:06:29.440\nplenty of people had keyboards\nthat did not have arrow keys.\n\n135\n00:06:29.440 --> 00:06:32.370\nIt just wasn't even on the physical\nkeyboard, and so this is useful there.\n\n136\n00:06:32.370 --> 00:06:34.770\nBut then terminal emulation\nsoftware also got in the way.\n\n137\n00:06:34.770 --> 00:06:36.850\nAnd I see this with serial\nport connections all the time.\n\n138\n00:06:36.850 --> 00:06:38.690\nIf you're connected on a serial TTY,\n\n139\n00:06:38.690 --> 00:06:42.230\nyou may not have arrow keys so\ndefinitely a useful one.\n\n140\n00:06:42.230 --> 00:06:45.040\n>> Very cool.\nThat's a very handy thing to know,\n\n141\n00:06:45.040 --> 00:06:47.600\nbecause hey,\nyou never know when you're serialed in.\n\n142\n00:06:47.600 --> 00:06:50.270\nWe do this quite often,\nespecially with Linux type systems.\n\n143\n00:06:50.270 --> 00:06:52.440\nYou tend to do things\nthe old way because well,\n\n144\n00:06:52.440 --> 00:06:54.450\nit's still very useful\ninside of that system.\n\n145\n00:06:54.450 --> 00:06:57.570\nSo it's good to have a backup\nplan in case your keyboard or\n\n146\n00:06:57.570 --> 00:06:59.480\nwhatever is not working\nthe way you expect it.\n\n147\n00:06:59.480 --> 00:07:03.470\nNow also, here's something that I've\nfound that can be a little frustrating.\n\n148\n00:07:03.470 --> 00:07:06.630\nIt's all about where\nthe characters are being inserted.\n\n149\n00:07:06.630 --> 00:07:08.970\nYou're trying to put text into, and\n\n150\n00:07:08.970 --> 00:07:12.600\nsometimes it puts the character behind\nthe cursor, or it puts it before, or\n\n151\n00:07:12.600 --> 00:07:15.900\nit puts it in the, there's all different\nways in which these things happen.\n\n152\n00:07:15.900 --> 00:07:17.640\nAnd Don, correct me if I'm wrong.\n\n153\n00:07:17.640 --> 00:07:19.830\nWe can actually control\nwhere that happens.\n\n154\n00:07:19.830 --> 00:07:20.400\n>> Yeah.\n\n155\n00:07:20.400 --> 00:07:21.710\nI mentioned insert mode earlier.\n\n156\n00:07:21.710 --> 00:07:24.360\nAnd in the last episode,\nI said, you can just press I and\n\n157\n00:07:24.360 --> 00:07:25.610\nyou start inserting stuff.\n\n158\n00:07:25.610 --> 00:07:28.580\nBut it's exactly like Daniel said, there's\ndifferent ways that we can insert it, and\n\n159\n00:07:28.580 --> 00:07:29.745\nit sometimes matters.\n\n160\n00:07:29.745 --> 00:07:32.360\nNow I think in the last show I did an\nexample where I just went to a blank line\n\n161\n00:07:32.360 --> 00:07:33.560\nand I typed I.\n\n162\n00:07:33.560 --> 00:07:35.270\nAnd once you type I,\nyou go into insert mode.\n\n163\n00:07:35.270 --> 00:07:38.610\nSee how I've got a little message right\nhere telling me I'm in insert mode.\n\n164\n00:07:38.610 --> 00:07:40.530\nAnd now I'm inserting, and\nI can start typing a new sentence.\n\n165\n00:07:40.530 --> 00:07:45.810\nSo maybe I say, well you know, old Edgar,\nhe did an okay job, but I know Eddie.\n\n166\n00:07:45.810 --> 00:07:50.062\nI need to add a little more to this poem,\nand so I can start to add in here.\n\n167\n00:07:50.062 --> 00:07:51.434\nRoses are red.\n\n168\n00:07:51.434 --> 00:07:53.013\nViolets are blue, and then so on.\n\n169\n00:07:53.013 --> 00:07:55.089\nSo I'm inserting text in.\n\n170\n00:07:55.089 --> 00:07:56.203\nAnd that works great.\n\n171\n00:07:56.203 --> 00:07:57.605\nThat's what I use.\n\n172\n00:07:57.605 --> 00:07:59.138\nI'm gonna say 100% of the time.\n\n173\n00:07:59.138 --> 00:08:02.106\nI really don't use any other method of\ninsert, but there are a few others that\n\n174\n00:08:02.106 --> 00:08:04.590\nmight turn up on the exam that we\njust want to be aware of, right?\n\n175\n00:08:04.590 --> 00:08:10.520\nSo technically when you type that\nletter i you move in insert mode.\n\n176\n00:08:10.520 --> 00:08:14.120\nAnd the insert character is going\nto go where you're inserting\n\n177\n00:08:14.120 --> 00:08:15.980\nbefore where your cursor is.\n\n178\n00:08:15.980 --> 00:08:17.900\nSo let's take this word radiant.\n\n179\n00:08:17.900 --> 00:08:19.070\nOkay, so here's the word radiant,\n\n180\n00:08:19.070 --> 00:08:21.800\nI'm going to place my cursor\nright on the letter d.\n\n181\n00:08:21.800 --> 00:08:26.410\nSo I'm on the letter d and I press i to\ngo into insert mode and I start typing.\n\n182\n00:08:26.410 --> 00:08:28.360\nSo maybe I type the letter a,\n\n183\n00:08:28.360 --> 00:08:32.280\nsee how the letter a was added\nbefore the letter d, right?\n\n184\n00:08:32.280 --> 00:08:36.630\nIt's inserting the character\nbefore my cursor, right?\n\n185\n00:08:36.630 --> 00:08:39.170\nSo that may or may not be what I want.\n\n186\n00:08:39.170 --> 00:08:43.680\nIf I'm looking at a word that's a typo,\nso maybe I'm trying to write,\n\n187\n00:08:43.680 --> 00:08:47.770\nwhoops I'm trying to screw everything\nup is what I'm trying to do.\n\n188\n00:08:47.770 --> 00:08:52.450\nSo I'm trying to come in here and\nwrite the word violets, right?\n\n189\n00:08:52.450 --> 00:08:59.080\nAnd so I say roses are red,\nviolets are blue and\n\n190\n00:08:59.080 --> 00:09:02.680\nas I'm writing it, I messed up and\nI left out the letter i.\n\n191\n00:09:02.680 --> 00:09:04.300\nSo I want to add the letter i.\n\n192\n00:09:04.300 --> 00:09:07.330\nWell, if I move to the v and\nI press insert,\n\n193\n00:09:07.330 --> 00:09:09.880\nI'm going to be inserting stuff before\nthe v, and that's not where I want to be.\n\n194\n00:09:09.880 --> 00:09:13.050\nI want to be before the o, so\nI really need to move my cursor here.\n\n195\n00:09:13.050 --> 00:09:16.360\nAnd hit i for insert mode and\nthen I can type that i and\n\n196\n00:09:16.360 --> 00:09:18.430\nit ends up exactly where I want.\n\n197\n00:09:18.430 --> 00:09:22.930\nOkay, but if I'm in a hurry and\nI don't want that kind of behavior,\n\n198\n00:09:22.930 --> 00:09:26.660\nyou can choose instead of inserting before\nthe cursor to insert after the character,\n\n199\n00:09:26.660 --> 00:09:28.930\nwhich is really appending, not inserting.\n\n200\n00:09:28.930 --> 00:09:33.300\nInsert is before, append is after, and\nso I can move my cursor to the v and\n\n201\n00:09:33.300 --> 00:09:35.970\nI can hit a instead.\n\n202\n00:09:35.970 --> 00:09:40.760\nAnd now, when I start to type,\nsee how it went after the v, right?\n\n203\n00:09:40.760 --> 00:09:45.620\nSo i, you're inserting before your cursor,\na you're inserting after your cursor.\n\n204\n00:09:45.620 --> 00:09:48.380\nAnd if you're like me, I just get\nused to inserting before the cursor.\n\n205\n00:09:48.380 --> 00:09:50.650\nThat's what I always do so\nI always use i, right?\n\n206\n00:09:50.650 --> 00:09:54.560\nAnd I really never use a, but be aware\nof it cause it can turn up on the exam.\n\n207\n00:09:54.560 --> 00:09:58.580\nA is just after the cursor and\nyou can add that in.\n\n208\n00:09:58.580 --> 00:10:04.060\nAnd that's not the only thing is we might\nwant to choose to add an entire line.\n\n209\n00:10:05.070 --> 00:10:08.920\nSo I'm looking at this poem and I decide,\nboy wouldn't this just make a lot more\n\n210\n00:10:08.920 --> 00:10:14.360\nsense if there was a whole extra line\nright here in between these two.\n\n211\n00:10:14.360 --> 00:10:16.050\nSo I want to insert a whole line.\n\n212\n00:10:16.050 --> 00:10:20.910\nNow in real life land, I tap I to insert\nand I press enter to add a blank line.\n\n213\n00:10:20.910 --> 00:10:21.950\nThat's what I do.\n\n214\n00:10:21.950 --> 00:10:25.500\nBut we could save some time and\ndo this in one command.\n\n215\n00:10:25.500 --> 00:10:28.330\nIf you just tap o,\n\n216\n00:10:28.330 --> 00:10:32.990\nthe letter o will insert a line after\nthe current line that you're on.\n\n217\n00:10:32.990 --> 00:10:37.170\nSo whatever line you happen to be on,\nso see here I am on this line.\n\n218\n00:10:37.170 --> 00:10:42.000\nAnd if I tap that letter o, if I get\ninto regular command mode, there we go.\n\n219\n00:10:42.000 --> 00:10:44.610\nSee how we just added\na blank line right after it?\n\n220\n00:10:44.610 --> 00:10:46.550\nSo, o will quickly add that.\n\n221\n00:10:46.550 --> 00:10:48.330\nIf you use my method,\nI go into insert mode,\n\n222\n00:10:48.330 --> 00:10:50.710\nI have to go to the end of the line and\npress enter.\n\n223\n00:10:50.710 --> 00:10:56.590\nOtherwise if I don't, if I go to\nthe middle of a line, and I decide to go\n\n224\n00:10:56.590 --> 00:11:01.500\ninto insert mode and hit enter see how it\nmoved maiden and all that other text down.\n\n225\n00:11:01.500 --> 00:11:04.670\nSo the o short cut is a little bit faster.\n\n226\n00:11:04.670 --> 00:11:06.440\nWe learned that one it kind\nof save us a bit of time.\n\n227\n00:11:06.440 --> 00:11:07.400\n>> Awesome stuff.\n\n228\n00:11:07.400 --> 00:11:12.960\nNow that being said we also sometimes want\nto change things that are on that line and\n\n229\n00:11:12.960 --> 00:11:15.990\nwe can do that within the command\nmode as well, right Don?\n\n230\n00:11:15.990 --> 00:11:18.900\n>> Yeah, so if there's a word\nin here I just want to change.\n\n231\n00:11:18.900 --> 00:11:21.070\nSo, I'm sitting here\nlooking at violets and\n\n232\n00:11:21.070 --> 00:11:23.590\nI'm like man,\nroses are red violets are blue.\n\n233\n00:11:23.590 --> 00:11:25.290\nDid I spell violets right?\n\n234\n00:11:25.290 --> 00:11:26.950\nYou know what?\n\n235\n00:11:26.950 --> 00:11:29.043\nLet's just switch to a different flower.\n\n236\n00:11:29.043 --> 00:11:30.120\n>> [LAUGH]\n>> [LAUGH] Let's pick one we know\n\n237\n00:11:30.120 --> 00:11:30.770\nhow to spell.\n\n238\n00:11:30.770 --> 00:11:31.749\nLike Pansy.\n\n239\n00:11:31.749 --> 00:11:33.995\n>> [LAUGH]\n>> I don't know how to spell Pansy either.\n\n240\n00:11:33.995 --> 00:11:35.490\n>> [LAUGH] But, so, I want to change that.\n\n241\n00:11:35.490 --> 00:11:37.040\nI wanna change this word.\n\n242\n00:11:37.040 --> 00:11:39.600\nNow, when you change the word\nthere's a few ways you go about it.\n\n243\n00:11:39.600 --> 00:11:43.830\nI could go into insert mode and then use\nbackspace to delete that out of there.\n\n244\n00:11:43.830 --> 00:11:46.490\nOr I can use the change command,\nwhich is the letter c.\n\n245\n00:11:46.490 --> 00:11:49.380\nAnd the change command actually has\na few different variations that we\n\n246\n00:11:49.380 --> 00:11:50.630\nneed to be aware of.\n\n247\n00:11:50.630 --> 00:11:53.910\nSo for example,\nif I wanna change the whole line, right?\n\n248\n00:11:53.910 --> 00:11:55.860\nWhen you tap the letter c.\n\n249\n00:11:55.860 --> 00:11:58.230\nWhoops, I'm still in insert mode there.\n\n250\n00:11:58.230 --> 00:12:00.820\nSo if I tap the letter c,\nnothing happens, right?\n\n251\n00:12:00.820 --> 00:12:04.970\nAnd now it's waiting for a modifier\nof this to actually take an action.\n\n252\n00:12:04.970 --> 00:12:11.390\nSo for example, if I hit c twice, so cc,\nThe first c tells it I want to change.\n\n253\n00:12:11.390 --> 00:12:14.780\nThe second c tells it I want\nto change the whole line.\n\n254\n00:12:14.780 --> 00:12:21.285\nIt deletes the line and it puts me in\ninsert mode and now I can start typing and\n\n255\n00:12:21.285 --> 00:12:25.946\nI can say, roses are red,\npansies are blue, right?\n\n256\n00:12:25.946 --> 00:12:29.170\nAnd I can start to type and I change\nthe whole line, so cc changes the line.\n\n257\n00:12:29.170 --> 00:12:31.340\nBut sometimes I just\nwant to change a word.\n\n258\n00:12:31.340 --> 00:12:33.180\nI look at this and I say, you know,\n\n259\n00:12:33.180 --> 00:12:37.530\npansies that's not gonna work, let me\ngo ahead and make it back to violets.\n\n260\n00:12:37.530 --> 00:12:43.110\nSo I can do cw and\nsee how the word pansies just disappeared?\n\n261\n00:12:43.110 --> 00:12:47.370\nI'm changing the word, cw, and\nnow I can come in here and\n\n262\n00:12:47.370 --> 00:12:51.510\ntype violets are blue, and there's done.\n\n263\n00:12:51.510 --> 00:12:55.850\nSo cc, to change the whole line,\ncw to change the individual word.\n\n264\n00:12:55.850 --> 00:12:57.630\nC by itself doesn't do anything.\n\n265\n00:12:57.630 --> 00:12:59.710\nWe've got to have\na command that follows it.\n\n266\n00:12:59.710 --> 00:13:02.120\nSo cc and cw,\nthose are the most common ones.\n\n267\n00:13:02.120 --> 00:13:03.140\n>> Yes, very, very simple.\n\n268\n00:13:03.140 --> 00:13:05.490\nNot to difficult for\nus to figure out how that works.\n\n269\n00:13:05.490 --> 00:13:07.870\nCc and cw change the line,\nchange the word.\n\n270\n00:13:07.870 --> 00:13:10.130\nBut sometimes we don't wanna\njust change the word, right?\n\n271\n00:13:10.130 --> 00:13:13.390\nThat's what Don had, he said all right I\ndidn't like violets, let's try pansies.\n\n272\n00:13:13.390 --> 00:13:16.040\nThat didn't work I'm gonna switch it back,\neverything worked out fine.\n\n273\n00:13:16.040 --> 00:13:21.450\nBut sometimes you just say this\nwhole line is not worth a dolphin or\n\n274\n00:13:21.450 --> 00:13:22.870\nanything, just get rid of it.\n\n275\n00:13:22.870 --> 00:13:26.720\nI want it gone, we wanna delete it, now\nnormally we would go into that insert mode\n\n276\n00:13:26.720 --> 00:13:29.980\nstart backspacing and get rid of it,\nbut there's a quicker way to do it.\n\n277\n00:13:29.980 --> 00:13:31.970\n>> Right, and I think in the last show,\n\n278\n00:13:31.970 --> 00:13:36.215\nI feel like I showed you\nguys that you do :d, right?\n\n279\n00:13:36.215 --> 00:13:39.370\n:d, of you hit that,\nit's gonna delete a line out.\n\n280\n00:13:39.370 --> 00:13:41.670\nAnd so if I wanna get rid of this line,\n\n281\n00:13:41.670 --> 00:13:46.480\nI can hit escape, I can then type a colon,\nwhich is gonna move me into command mode.\n\n282\n00:13:46.480 --> 00:13:50.390\nSee down here is my : and\nI can type the letter d.\n\n283\n00:13:50.390 --> 00:13:53.240\nAnd if I just press enter,\nit deletes that line out, right?\n\n284\n00:13:53.240 --> 00:13:56.410\nSo I can wipe lines out\njust by doing that.\n\n285\n00:13:56.410 --> 00:13:58.220\nNow, there is a different\nshortcut I could use.\n\n286\n00:13:58.220 --> 00:14:01.280\nInstead of using the colon command,\nright, going into that command mode.\n\n287\n00:14:01.280 --> 00:14:02.800\nI can just use the letter d.\n\n288\n00:14:02.800 --> 00:14:06.330\nBut much like the letter c,\nwhen I type the letter d is waiting for\n\n289\n00:14:06.330 --> 00:14:08.080\nsome kind of follow along command.\n\n290\n00:14:08.080 --> 00:14:11.220\nAnd what I'm doing is telling\nit what I want to remove.\n\n291\n00:14:11.220 --> 00:14:17.370\nIf I do dd, right, if you just tap d\ntwice, remember cc changed the whole line,\n\n292\n00:14:17.370 --> 00:14:21.240\nit got rid of the line and left me in\ninsert mode, but there was still a line.\n\n293\n00:14:21.240 --> 00:14:24.820\nDD deleted the line,\nleft me in insert mode, but\n\n294\n00:14:24.820 --> 00:14:26.690\nthe line is actually gone, right.\n\n295\n00:14:26.690 --> 00:14:27.850\nThat's a big difference.\n\n296\n00:14:27.850 --> 00:14:31.400\nSo for example, let me back up in here.\n\n297\n00:14:31.400 --> 00:14:33.480\nSo I've got an extra line right here.\n\n298\n00:14:33.480 --> 00:14:36.060\nLet me just kinda number this so\nwe can see it, right?\n\n299\n00:14:36.060 --> 00:14:36.950\n1, 2, 3.\n\n300\n00:14:36.950 --> 00:14:40.260\nIf I hit cc, the two is gone.\n\n301\n00:14:40.260 --> 00:14:41.930\nYou see how the two is gone?\n\n302\n00:14:41.930 --> 00:14:43.840\nBut there is still a blank right there,\nthere is still a gap.\n\n303\n00:14:45.010 --> 00:14:49.290\nIf I do dd, the line is gone and\nthe gap is gone.\n\n304\n00:14:49.290 --> 00:14:50.380\nThe line is actually removed.\n\n305\n00:14:50.380 --> 00:14:53.490\nSo dd quickly deletes an individual line.\n\n306\n00:14:53.490 --> 00:14:55.620\nYou can do the same thing with a word.\n\n307\n00:14:55.620 --> 00:15:00.740\nSo in my roses are red example,\nroses are red, right?\n\n308\n00:15:00.740 --> 00:15:04.808\nIf I wanna delete one of these words, I\ncould move to the word, and I could do dw.\n\n309\n00:15:04.808 --> 00:15:05.560\nOkay?\n\n310\n00:15:05.560 --> 00:15:10.500\nAnd apparently I got a little off there.\n\n311\n00:15:10.500 --> 00:15:15.110\nSo we can do dw though and it'll wipe out\nthat word and get that one out of there.\n\n312\n00:15:15.110 --> 00:15:18.260\nIn my case it's deleting it\nfrom where the cursor is.\n\n313\n00:15:18.260 --> 00:15:20.240\nSo that's why I'm getting\npart of these words.\n\n314\n00:15:20.240 --> 00:15:21.500\nLet me fix this.\n\n315\n00:15:21.500 --> 00:15:24.790\nAnd shoot,\nnow I've got it all over the place.\n\n316\n00:15:24.790 --> 00:15:30.490\nSo roses are red is\nthe sentence that I had.\n\n317\n00:15:30.490 --> 00:15:33.120\nAnd I need to get my cursor\nat the beginning of the word.\n\n318\n00:15:33.120 --> 00:15:36.640\nWhen I'm doing dw, you'll notice it was\ndeleting everything after my cursor.\n\n319\n00:15:36.640 --> 00:15:41.190\nI get on the r and I do that dw,\nthere we go, the whole word roses is gone.\n\n320\n00:15:41.190 --> 00:15:44.510\nSo, now we can delete that word out and\nget rid of it so, dw.\n\n321\n00:15:44.510 --> 00:15:46.000\nWhat else do we have?\n\n322\n00:15:47.050 --> 00:15:47.950\nCapital D.\n\n323\n00:15:47.950 --> 00:15:49.380\nI've been doing lower case d's.\n\n324\n00:15:49.380 --> 00:15:52.514\nAll the commands I've been doing\nthis whole show has been lower case.\n\n325\n00:15:52.514 --> 00:15:54.372\nBut there's some that we can\ndo as a capital letter and\n\n326\n00:15:54.372 --> 00:15:55.460\nthen do something different.\n\n327\n00:15:55.460 --> 00:16:00.772\nSo for example, if I'm again,\nworking with this sentence right here,\n\n328\n00:16:00.772 --> 00:16:04.269\nAnd I,\nlet's put it back to the way that it was.\n\n329\n00:16:04.269 --> 00:16:08.180\nAnd I say, Roses are red,\nviolets are blue.\n\n330\n00:16:08.180 --> 00:16:10.260\nYou see how cultured I am.\n\n331\n00:16:10.260 --> 00:16:12.730\nSo I come in here and\nI basically put that in.\n\n332\n00:16:12.730 --> 00:16:16.072\nAnd what I want to do now is,\nI want to say, roses are red,\n\n333\n00:16:16.072 --> 00:16:17.760\nI'm pretty cool with that.\n\n334\n00:16:17.760 --> 00:16:20.790\nBut this whole violets are blue thing,\nI want to change that.\n\n335\n00:16:20.790 --> 00:16:24.700\nAnd I want to change everything\nafter my cursor, right?\n\n336\n00:16:24.700 --> 00:16:26.330\nSo, I don't just want\nto get rid of the word,\n\n337\n00:16:26.330 --> 00:16:28.010\nI want to get rid of everything else.\n\n338\n00:16:28.010 --> 00:16:30.290\nWell as long as I'm in\nregular command mode, and\n\n339\n00:16:30.290 --> 00:16:34.300\nI'm just going to tap escape to make sure\nthat I am, you can do a capital D, and\n\n340\n00:16:34.300 --> 00:16:36.050\neverything after your cursor gets deleted.\n\n341\n00:16:36.050 --> 00:16:38.380\nSo you can quickly delete half\nof a line of like that poem.\n\n342\n00:16:38.380 --> 00:16:41.110\nJust another time saving shortcut there,\ncapital D.\n\n343\n00:16:41.110 --> 00:16:42.350\n>> Yeah, that'll work out great for\n\n344\n00:16:42.350 --> 00:16:45.300\nwhen you're writing those emails to your\nboss and you're in like a fit of anger,\n\n345\n00:16:45.300 --> 00:16:47.280\nand you've written probably\nsomething you shouldn't have and\n\n346\n00:16:47.280 --> 00:16:49.860\nyou just delete that whole ending\npart where you call him a pompous.\n\n347\n00:16:49.860 --> 00:16:54.280\n[LAUGH] You probably want to leave\nthat in there, use that command there,\n\n348\n00:16:54.280 --> 00:16:56.090\ndelete all that out so\nyou don't get in trouble.\n\n349\n00:16:56.090 --> 00:17:01.150\n[LAUGH] All right, so Don that leaves us\nwith a few other commands that we have.\n\n350\n00:17:01.150 --> 00:17:03.130\nWe need to actually cut, copy,\n\n351\n00:17:03.130 --> 00:17:07.120\nand paste, these are functions\nthat we've come to grow and love.\n\n352\n00:17:07.120 --> 00:17:09.420\nIf I'm in a techcenter I want\nto be able to do the same thing.\n\n353\n00:17:09.420 --> 00:17:13.100\n>> Yeah, now copy and paste,\nit's important everybody uses it.\n\n354\n00:17:13.100 --> 00:17:16.990\nI remember was it the iPhone when it\ncame out it didn't have copy and paste?\n\n355\n00:17:16.990 --> 00:17:18.930\nThen everybody made a big\ndeal out of it like people.\n\n356\n00:17:18.930 --> 00:17:19.600\n>> They can't live without it.\n\n357\n00:17:19.600 --> 00:17:23.210\n>> People depend on copy and paste and\nso it is a critical feature.\n\n358\n00:17:23.210 --> 00:17:26.200\nNow depending on the terminal you're\nusing, you've probably have copy and\n\n359\n00:17:26.200 --> 00:17:27.080\npaste functionality in it.\n\n360\n00:17:27.080 --> 00:17:29.190\nSo for example in my term,\n\n361\n00:17:29.190 --> 00:17:33.990\nI'm just in a bash prompt, and I can\ncome in here, I'm sorry, I'm in xterm.\n\n362\n00:17:33.990 --> 00:17:36.150\nAnd I can come in here and\nI can just highlight something and\n\n363\n00:17:36.150 --> 00:17:38.230\nI can copy with my terminal.\n\n364\n00:17:38.230 --> 00:17:40.930\nAnd then I can go in and\nI can paste with it, right?\n\n365\n00:17:40.930 --> 00:17:44.670\nSo I've got that functionality\nright here in my terminal.\n\n366\n00:17:44.670 --> 00:17:48.000\nBut, can I count on that\nfunctionality always being there?\n\n367\n00:17:48.000 --> 00:17:52.420\nI'm in xterm now, but maybe I'm in\na different terminal somewhere else and\n\n368\n00:17:52.420 --> 00:17:53.490\nthings don't work, right.\n\n369\n00:17:53.490 --> 00:17:58.310\nSo, I need to make sure that I've got some\nkind of consistent method for copy and\n\n370\n00:17:58.310 --> 00:18:02.720\npaste and the bioeditor has that with\nkeyboard shortcuts that you can use,\n\n371\n00:18:02.720 --> 00:18:04.840\nthat you can count on,\nthat you always know.\n\n372\n00:18:04.840 --> 00:18:10.580\nIt doesn't matter if I'm on Linux or\nUnix or BSD or Mac OS or whatever.\n\n373\n00:18:10.580 --> 00:18:14.230\nIf I'm in VI,\nthis functionality will work, right?\n\n374\n00:18:14.230 --> 00:18:17.980\nSo I do typically use the stuff built\ninto my terminal because it's easier,\n\n375\n00:18:17.980 --> 00:18:19.230\nit's mouse driven, whatever.\n\n376\n00:18:19.230 --> 00:18:21.750\nBut if you're in keyboard mode only or\nif you want something consistent,\n\n377\n00:18:21.750 --> 00:18:22.950\nthere's keyboard shortcuts for it.\n\n378\n00:18:22.950 --> 00:18:25.760\nNow in the VI world,\nthey don't call it copy.\n\n379\n00:18:25.760 --> 00:18:28.290\nWe're not copying the text,\nthey call it yank.\n\n380\n00:18:28.290 --> 00:18:29.558\nWe're yanking the text.\n\n381\n00:18:29.558 --> 00:18:33.797\nI want to yank a copy of that text, and\nthen apply it somewhere else, right?\n\n382\n00:18:33.797 --> 00:18:36.120\nTo paste a copy and to have it.\n\n383\n00:18:36.120 --> 00:18:40.280\nSo if I want to take my old roses are red\nhere and copy that, there's a few\n\n384\n00:18:40.280 --> 00:18:43.720\ndifferent ways that we can do it and\nit's all set around the Y command.\n\n385\n00:18:43.720 --> 00:18:47.830\nOkay, so the Y command is\nvery similar to like C and D.\n\n386\n00:18:47.830 --> 00:18:50.540\nWhen you type Y, nothing happens.\n\n387\n00:18:50.540 --> 00:18:51.820\nIt's expecting a follow up command.\n\n388\n00:18:51.820 --> 00:18:55.790\nAnd if I want to copy this whole line,\nI just press y again, okay.\n\n389\n00:18:55.790 --> 00:18:58.590\nSo if I do y y, that copies the line.\n\n390\n00:18:58.590 --> 00:19:00.860\nI just yanked a copy of this line.\n\n391\n00:19:00.860 --> 00:19:05.016\nAnd then I can go somewhere else and I can\npaste it, or technically VI, it's put,\n\n392\n00:19:05.016 --> 00:19:05.630\nnot paste.\n\n393\n00:19:05.630 --> 00:19:08.591\nSo I yank, and I put,\nright, not copy and paste.\n\n394\n00:19:08.591 --> 00:19:10.066\nBut the functionality is the same.\n\n395\n00:19:10.066 --> 00:19:14.600\nSo I can come in here and I can just\nhit p and it's going to paste it.\n\n396\n00:19:14.600 --> 00:19:19.680\nAnd I can do it over, and over, and\nover again right, I'm copying and pasting.\n\n397\n00:19:19.680 --> 00:19:22.150\nAnd you've got variations this like YW for\n\n398\n00:19:22.150 --> 00:19:25.240\nyanking a word versus YY which\nyanks the whole sentence.\n\n399\n00:19:25.240 --> 00:19:26.880\nAnd you could go when\nyou can paste this in.\n\n400\n00:19:26.880 --> 00:19:29.272\nSo its copy and\npaste that's built into the editor, so\n\n401\n00:19:29.272 --> 00:19:32.300\nyou're not dependent on your\nterminals functionality.\n\n402\n00:19:32.300 --> 00:19:36.440\n>> Awesome stuff, let's see here, what\nelse can we do with the VI terminal, Don?\n\n403\n00:19:36.440 --> 00:19:39.572\n>> So as far as working in the terminal,\nI think at this point\n\n404\n00:19:39.572 --> 00:19:44.012\nwe've covered all the commands that you're\ngoing to see on the exam, except for\n\n405\n00:19:44.012 --> 00:19:45.271\na few with exiting VI.\n\n406\n00:19:45.271 --> 00:19:49.180\nWhen we exit, in the last episode\nI covered a few things right.\n\n407\n00:19:49.180 --> 00:19:53.960\nI covered how to save If I wanna save my\ndocument, I just made some changes to it.\n\n408\n00:19:53.960 --> 00:19:57.370\nI can do a colon followed by a W, right?\n\n409\n00:19:57.370 --> 00:20:01.745\nThat means write, I want to get out\nof this document and I want to save,\n\n410\n00:20:01.745 --> 00:20:03.490\nwell sorry.\n\n411\n00:20:03.490 --> 00:20:06.140\nRight, doesn't get me out of my document,\nright, it just saves it.\n\n412\n00:20:06.140 --> 00:20:07.630\nWhen I do :w it saves it.\n\n413\n00:20:07.630 --> 00:20:09.330\nIt tells me that it wrote the file,\n\n414\n00:20:09.330 --> 00:20:14.180\nit wrote 6700 characters and\nthere we go, it's written.\n\n415\n00:20:14.180 --> 00:20:15.990\nBut I'm still in it.\n\n416\n00:20:15.990 --> 00:20:18.550\nIf I want to get out,\nI've got to do colon q.\n\n417\n00:20:18.550 --> 00:20:21.620\nColon q is quit and\nthat's going to take me out.\n\n418\n00:20:21.620 --> 00:20:24.680\nAnd I can combine the two,\nI can do colon wq.\n\n419\n00:20:24.680 --> 00:20:26.830\nAnd when I do that it will write and\nthen quit, and\n\n420\n00:20:26.830 --> 00:20:28.780\nI'll get out of the document, right?\n\n421\n00:20:28.780 --> 00:20:32.230\nBut what if I have unsaved changes, right?\n\n422\n00:20:32.230 --> 00:20:36.510\nSo I've got, a little extra here, so\n\n423\n00:20:36.510 --> 00:20:39.600\nI'll put that in, and\nI haven't saved my changes yet.\n\n424\n00:20:39.600 --> 00:20:43.640\nIf I do colon q to quit, I get an error.\n\n425\n00:20:43.640 --> 00:20:46.070\nIt tells me no write since last change.\n\n426\n00:20:46.070 --> 00:20:49.290\nI can't get out because I\nhave unsaved changes, right?\n\n427\n00:20:49.290 --> 00:20:52.130\nSo there's modifiers to the quick\ncommand as far as what we want to do.\n\n428\n00:20:52.130 --> 00:20:54.770\nAnd there's modifiers for\nthe write command also.\n\n429\n00:20:54.770 --> 00:20:58.510\nSo when I go and start working\nwith a file and I want to get out,\n\n430\n00:20:58.510 --> 00:21:03.450\ncolon w to save, colon q to quit,\ncolon wq to save and quit.\n\n431\n00:21:03.450 --> 00:21:09.965\nBut some of the variations that we might\nhave, there's, let's see, there's zz.\n\n432\n00:21:09.965 --> 00:21:12.840\nRight if you do, don't get into the colon,\n\n433\n00:21:13.840 --> 00:21:18.860\njust do capital z capital z,\nand it will save and exit.\n\n434\n00:21:18.860 --> 00:21:19.610\nJust real quick,\n\n435\n00:21:19.610 --> 00:21:23.440\nyou don't have to do colons just\ncapital z, capital z, saves and quits.\n\n436\n00:21:23.440 --> 00:21:27.130\nAnd so now, when I go back into the Raven,\nI can go in here and\n\n437\n00:21:27.130 --> 00:21:28.990\nI'm going to look for all roses.\n\n438\n00:21:28.990 --> 00:21:31.220\nThere we go, and I can find,\nthere's all my stuff, nice and\n\n439\n00:21:31.220 --> 00:21:33.800\nsafe, all in here, okay.\n\n440\n00:21:33.800 --> 00:21:37.426\nSo, if I make a change,\nnow I kind of get back to this part,\n\n441\n00:21:37.426 --> 00:21:41.672\nwhere if I want to quit, I can't quit,\nbecause now I made changes.\n\n442\n00:21:41.672 --> 00:21:45.050\nAll right, capital z, capital z,\nsaves and quits all at the same time.\n\n443\n00:21:45.050 --> 00:21:48.860\nNow what if I made some changes, but\nI don't like them or it was an accident.\n\n444\n00:21:48.860 --> 00:21:50.090\nMaybe I was just trying to view a file.\n\n445\n00:21:50.090 --> 00:21:53.370\nI don't actually want to save anything,\nI just want to get out, right.\n\n446\n00:21:53.370 --> 00:21:57.040\nOr what will happen to me\nis I'll edit a file and\n\n447\n00:21:57.040 --> 00:22:00.580\nforget to use Sudu, so\nI'll edit like a network card file and\n\n448\n00:22:00.580 --> 00:22:03.260\nI forget to use Sudu and so\nI'm editing it just as myself.\n\n449\n00:22:03.260 --> 00:22:04.200\nAnd then when I go to save it,\n\n450\n00:22:04.200 --> 00:22:06.040\nit won't let me save because\nI don't have permissions.\n\n451\n00:22:06.040 --> 00:22:07.120\nI get permission denied.\n\n452\n00:22:07.120 --> 00:22:09.719\nBut I can't quit,\nbecause I haven't saved my changes, right?\n\n453\n00:22:09.719 --> 00:22:13.712\nSo what you can do is, q!.\n\n454\n00:22:13.712 --> 00:22:15.930\nAnd exclamation point is like an override.\n\n455\n00:22:15.930 --> 00:22:19.220\nIt says I don't care what error message\nyou're giving me, just do this.\n\n456\n00:22:19.220 --> 00:22:23.060\nSo I know that if I try and quit,\nI can't because I haven't saved anything.\n\n457\n00:22:23.060 --> 00:22:26.010\nBut if I do q!, that says I don't care.\n\n458\n00:22:26.010 --> 00:22:28.210\nQuit, throw my changes away,\nI'm okay with that.\n\n459\n00:22:28.210 --> 00:22:29.850\nRight, just get rid of the changes.\n\n460\n00:22:29.850 --> 00:22:31.280\nSo q exclamation point.\n\n461\n00:22:31.280 --> 00:22:36.890\nSame thing with w, if I'm editing\na file and I change the file name and\n\n462\n00:22:36.890 --> 00:22:39.870\nI try and save over an existing file,\nI'll get an overwrite message.\n\n463\n00:22:39.870 --> 00:22:42.560\nIt'll say warning you're\nabout to overwrite a file and\n\n464\n00:22:42.560 --> 00:22:43.660\nI might not want that right.\n\n465\n00:22:43.660 --> 00:22:44.960\nSo I get a warning about it.\n\n466\n00:22:44.960 --> 00:22:49.693\nWhile I can do :w!, and that says I\ndon't care that the file already exists,\n\n467\n00:22:49.693 --> 00:22:52.734\njust overwrite the darn thing,\nand it will do it.\n\n468\n00:22:52.734 --> 00:22:56.720\nSo q!, is quit without saving.\n\n469\n00:22:56.720 --> 00:22:58.565\nw!, is overwrite.\n\n470\n00:22:58.565 --> 00:23:01.940\nJust overwrite whatever file already\nexists, let's just get it done.\n\n471\n00:23:03.050 --> 00:23:05.730\nNow I mentioned like\nswitching to another file.\n\n472\n00:23:05.730 --> 00:23:06.638\nHow do we do that?\n\n473\n00:23:06.638 --> 00:23:10.440\nI'm editing raven.txt.\n\n474\n00:23:10.440 --> 00:23:11.740\nI might want to work\nwith another file now.\n\n475\n00:23:11.740 --> 00:23:15.900\nOkay, and if I want to work with\nanother file, I could quit out of I and\n\n476\n00:23:15.900 --> 00:23:18.010\nthen relaunch it with\nthe different file name.\n\n477\n00:23:18.010 --> 00:23:21.430\nBut I can also just do :e, and\n\n478\n00:23:21.430 --> 00:23:25.410\nwhen you do :e,\nit let's switch to another file, right?\n\n479\n00:23:25.410 --> 00:23:28.200\nBut when I switch to another file\nit just goes back to the raven,\n\n480\n00:23:28.200 --> 00:23:30.590\nbecause I did not give it a file name,\nright?\n\n481\n00:23:30.590 --> 00:23:37.156\nSo we can follow that up with a file name\nand now I'm in a new file, file.txt.\n\n482\n00:23:37.156 --> 00:23:38.450\nAnd I can start editing it and saving it.\n\n483\n00:23:38.450 --> 00:23:41.340\nSo I don't actually have to leave\nthe editor to create a new file.\n\n484\n00:23:41.340 --> 00:23:45.960\nAnd now I can start working with\nthis one and continue with my\n\n485\n00:23:45.960 --> 00:23:50.899\nliterary excellence and\nwork on my roses are red file and,\n\n486\n00:23:50.899 --> 00:23:56.880\nI'm going to win like a Nobel prize for\nliterature or something for this stuff.\n\n487\n00:23:56.880 --> 00:23:58.077\nBring peace the world.\n>> That's right.\n\n488\n00:23:58.077 --> 00:24:01.271\n>> So now I have to start working,\nso colon e followed by a file name,\n\n489\n00:24:01.271 --> 00:24:04.892\nthat will take you into a new file and\nAnd the file minority exist, right?\n\n490\n00:24:04.892 --> 00:24:08.433\nSo you can go full path on that to point\nto some file that already exists and\n\n491\n00:24:08.433 --> 00:24:13.040\nget in there and start to edit that so\nyou're easily able to switch through.\n\n492\n00:24:13.040 --> 00:24:16.430\nWhat if though, this is a throw away file\nfor me, I don't care about this file.\n\n493\n00:24:16.430 --> 00:24:20.820\nSo, I wanna go back to the Raven and\nI don't wanna save this one, okay?\n\n494\n00:24:20.820 --> 00:24:24.090\nWell, if I try and switch files and I\nhaven't saved them I'm gonna get an error.\n\n495\n00:24:24.090 --> 00:24:26.310\nIt's going to tell me you\nhave unsaved changes, but\n\n496\n00:24:26.310 --> 00:24:27.310\nI don't want to save this one.\n\n497\n00:24:27.310 --> 00:24:28.860\nI want to throw it away.\n\n498\n00:24:28.860 --> 00:24:35.500\nSo instead of :e by itself,\nwhat I can do is :e!.\n\n499\n00:24:35.500 --> 00:24:37.830\nAnd that says I want to\nswitch to another file, and\n\n500\n00:24:37.830 --> 00:24:40.940\nI don't care if you save this one or not.\n\n501\n00:24:40.940 --> 00:24:44.234\nSo I'm going to jump back to raven.text.\n\n502\n00:24:45.700 --> 00:24:49.494\nAnd when I do that, it jumps right back\nover, and it didn't save the file that I\n\n503\n00:24:49.494 --> 00:24:52.484\nhad, so :e followed by a file\nname to switch to another file,\n\n504\n00:24:52.484 --> 00:24:55.302\n:e!, followed by a file name\nto switch to another file,\n\n505\n00:24:55.302 --> 00:24:58.207\nand don't bother saving the one\nthat you're in right now.\n\n506\n00:24:58.207 --> 00:25:04.660\nSo the key thing to remember here for\nthe exam, w!, q!, e!.\n\n507\n00:25:04.660 --> 00:25:08.230\nAll three of those are ways\nto get out of a file and\n\n508\n00:25:08.230 --> 00:25:12.845\nnot worry about saving it, or in the case\nof w!, to override an existing file.\n\n509\n00:25:12.845 --> 00:25:16.585\n>> Kind of a forceful, I want to quit,\nor I want to write, or\n\n510\n00:25:16.585 --> 00:25:18.185\nI want to go to another file.\n\n511\n00:25:18.185 --> 00:25:21.245\nIt's adding emphasis to the fact\nthat that's what you want to do,\n\n512\n00:25:21.245 --> 00:25:24.375\nand I don't care if you block about it,\nthat's fine for you.\n\n513\n00:25:24.375 --> 00:25:26.890\nDo what I tell you to do, because\nI'm the almighty god of the system.\n\n514\n00:25:26.890 --> 00:25:28.525\n[LAUGH]\n>> Yes, that's basically it.\n\n515\n00:25:28.525 --> 00:25:29.685\nThere are times.\n\n516\n00:25:29.685 --> 00:25:32.476\nFor me, it's almost always when\nI'm editing a file I don't have\n\n517\n00:25:32.476 --> 00:25:33.248\npermissions to.\n\n518\n00:25:33.248 --> 00:25:37.571\nCuz it'll let you do that If you're logged\nin as a regular user and you forget to use\n\n519\n00:25:37.571 --> 00:25:41.750\nsudo, there's plenty of files that\nyou can view, but you can't edit.\n\n520\n00:25:41.750 --> 00:25:44.390\nAnd so I'll pull up a config file,\nI'll put in my change,\n\n521\n00:25:44.390 --> 00:25:46.970\nand then I'm like I can't save,\nI don't have permissions.\n\n522\n00:25:46.970 --> 00:25:49.510\nAnd there's no way to change\npermissions once you're in vi.\n\n523\n00:25:49.510 --> 00:25:52.820\nYou've gotta get out and sudo it,\nand so you're just kinda stuck.\n\n524\n00:25:52.820 --> 00:25:55.490\nYou gotta override to get out, so\ndefinitely keep those in mind.\n\n525\n00:25:55.490 --> 00:25:57.050\nThey may turn up on the exam.\n\n526\n00:25:57.050 --> 00:26:01.250\n>> I start seeing why people like to login\nas route when that kinda thing happens.\n\n527\n00:26:01.250 --> 00:26:02.020\nThat's a bad idea.\n\n528\n00:26:02.020 --> 00:26:04.150\nDon't make a habit of logging as route.\n\n529\n00:26:04.150 --> 00:26:06.500\nBut you can see why that might\nbe a very tempting thing to do.\n\n530\n00:26:06.500 --> 00:26:11.390\nWith that being said, Don,\neven though it's a very old system, it\n\n531\n00:26:11.390 --> 00:26:15.210\nis kind of antiquated in the way that we\nuse it and the way that we work with it.\n\n532\n00:26:15.210 --> 00:26:17.760\nBut, it can really save your bacon,\nespecially when you're working with\n\n533\n00:26:17.760 --> 00:26:21.100\na headless system, somebody who doesn't\nhave a mouse, or that's an older type,\n\n534\n00:26:21.100 --> 00:26:24.575\nyou're just terminalling in,\nthis is really gonna be helpful for you.\n\n535\n00:26:24.575 --> 00:26:27.420\nDon, is there anything else that we\nneed to know about for this episode?\n\n536\n00:26:27.420 --> 00:26:28.460\n>> That's it for this one.\n\n537\n00:26:28.460 --> 00:26:32.390\nWe've been pretty exhaustive on, but\nthere are more commands we didn't cover.\n\n538\n00:26:32.390 --> 00:26:33.250\nI'm confident, at this point,\n\n539\n00:26:33.250 --> 00:26:35.740\nthat we've covered all the ones that\nyou need to know on a regular basis and\n\n540\n00:26:35.740 --> 00:26:36.780\nall the ones that are on the exam.\n\n541\n00:26:36.780 --> 00:26:38.060\nSo that's really what's important.\n\n542\n00:26:38.060 --> 00:26:41.140\nBut there are more out there,\nso definitely jump in and\n\n543\n00:26:41.140 --> 00:26:42.340\nread the manual for vi.\n\n544\n00:26:42.340 --> 00:26:45.180\nIt's not the most fun read,\nbut there's a ton there.\n\n545\n00:26:45.180 --> 00:26:48.180\nThere's plenty of authors that have put\nout entire books on using the editor.\n\n546\n00:26:48.180 --> 00:26:49.130\nIt is a great editor.\n\n547\n00:26:49.130 --> 00:26:51.860\nIt's not super intuitive\ncuz of all the shortcuts.\n\n548\n00:26:51.860 --> 00:26:54.570\nBut once you learn it,\nit's what I use all the time.\n\n549\n00:26:54.570 --> 00:26:57.980\nEven when I have newer editors like Nano\navailable to me, I still go back and\n\n550\n00:26:57.980 --> 00:27:00.420\nuse this one just because it's\nkinda what I've gotten used to and\n\n551\n00:27:00.420 --> 00:27:01.710\nI know it's always gonna be there for me.\n\n552\n00:27:01.710 --> 00:27:03.480\n>> Yeah.\nHard to get away from that familiarity.\n\n553\n00:27:03.480 --> 00:27:06.910\nAnd it's a great system to be familiar\nwith because, like we said before,\n\n554\n00:27:06.910 --> 00:27:10.120\nit's almost invariably going to be found\non just about any system you log into.\n\n555\n00:27:10.120 --> 00:27:12.360\nSo it's good to have\na working knowledge of it.\n\n556\n00:27:12.360 --> 00:27:15.300\nDon, thank you so much for\njoining us today, and explaining the vi.\n\n557\n00:27:15.300 --> 00:27:19.590\nAnd giving us some of the higher level\nfunctions that we can use with that.\n\n558\n00:27:19.590 --> 00:27:21.130\nWe thank you guys so much for joining us.\n\n559\n00:27:21.130 --> 00:27:22.850\nWe're going to go ahead and\nsign off for ITProTV.\n\n560\n00:27:22.850 --> 00:27:24.710\nI've been your host, Daniel Lowrie.\n\n561\n00:27:24.710 --> 00:27:25.360\n>> And I'm Don Posette.\n\n562\n00:27:25.360 --> 00:27:26.511\n>> And we'll see you next time.\n\n563\n00:27:26.511 --> 00:27:34.580\n[MUSIC]\n\n",
          "vimeoId": "153507238"
        }
      ],
      "title": "(LX0-103) Exploring Linux Command-Line Tools"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1823",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-2-1-using_rpm-052215.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-2-1-using_rpm-052215-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-2-1-using_rpm-052215-sm.jpg",
          "title": "Using RPM",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.610 --> 00:00:13.031\nAlright everyone, greetings!\n\n3\n00:00:13.031 --> 00:00:15.970\nAnd welcome to another\ngreat episode of ITProTV.\n\n4\n00:00:15.970 --> 00:00:18.497\nI'm your host Daniel Lowrie,\nhere with me today is my good friend and\n\n5\n00:00:18.497 --> 00:00:20.410\ncolleague Don Pezet,\nhow you doing today Don?\n\n6\n00:00:20.410 --> 00:00:21.610\n>> I am doing great, I'm pumped up.\n\n7\n00:00:21.610 --> 00:00:25.600\nToday we've got an episode\non package management, and\n\n8\n00:00:25.600 --> 00:00:29.280\nparticularly package management inside\nof Red Hat-based operating systems.\n\n9\n00:00:29.280 --> 00:00:32.130\nWe've got a couple episodes on this,\nbut package management,\n\n10\n00:00:32.130 --> 00:00:34.120\nsomething that's pretty important,\nit's something we all do, so\n\n11\n00:00:34.120 --> 00:00:36.890\nit's a good thing to learn and it's always\nfun to learn about stuff like that, right?\n\n12\n00:00:36.890 --> 00:00:37.770\n>> Yeah, that's right.\n\n13\n00:00:37.770 --> 00:00:39.991\nKind of an important thing for\nus to be able to do,\n\n14\n00:00:39.991 --> 00:00:41.956\nactually install software on our system.\n\n15\n00:00:41.956 --> 00:00:43.230\nYou know, that old chestnut.\n\n16\n00:00:43.230 --> 00:00:45.550\nI know I like to do that\nfrom time to time, so\n\n17\n00:00:45.550 --> 00:00:48.330\nit helps to actually know\nhow to do these things.\n\n18\n00:00:48.330 --> 00:00:50.930\nWell, Don, when it comes to Red Hat\nsystems, they have their own kind of\n\n19\n00:00:50.930 --> 00:00:54.030\npackage management systems and\nthey're separate from other stuff.\n\n20\n00:00:54.030 --> 00:00:57.580\nSo if you're using a Red Hat type\ndistribution, you're gonna need to know\n\n21\n00:00:57.580 --> 00:01:00.220\nwhat we're gonna teach you today,\nso where should we fire this off?\n\n22\n00:01:00.220 --> 00:01:01.860\nI guess RPMs?\n\n23\n00:01:01.860 --> 00:01:03.650\n>> Yeah, RPMs are a great place to start.\n\n24\n00:01:03.650 --> 00:01:08.560\nSo Daniel, you mentioned how Red Hat\nsystems kind of do their own thing and\n\n25\n00:01:08.560 --> 00:01:09.520\nwhen you're in the Linux world,\n\n26\n00:01:09.520 --> 00:01:11.900\none of the big advantages we\nhave are the distributions.\n\n27\n00:01:11.900 --> 00:01:14.070\nThat if you don't like something about\none distribution you just go and\n\n28\n00:01:14.070 --> 00:01:14.780\nuse a different one, right?\n\n29\n00:01:14.780 --> 00:01:18.230\nAnd there's a ton of them out there so\nyou find the one that fits your needs.\n\n30\n00:01:18.230 --> 00:01:20.060\nBut at the end of the day.\n\n31\n00:01:20.060 --> 00:01:22.710\nThere might be a hundred, a thousand\ndifferent distributions out there.\n\n32\n00:01:22.710 --> 00:01:25.420\nBut at the end of the day most of them\nare really based off of just two or\n\n33\n00:01:25.420 --> 00:01:27.290\nthree core distributions.\n\n34\n00:01:27.290 --> 00:01:29.730\nAnd Red Hat Linux is one of those.\n\n35\n00:01:29.730 --> 00:01:34.100\nWell, Red Hat Linux and its community\nversion of CentOS, and there's Fedora,\n\n36\n00:01:34.100 --> 00:01:36.050\nand there's other ones\nthat are built off of it.\n\n37\n00:01:36.050 --> 00:01:39.770\nThey all use a particular set of package\nmanagement utilities that are out there.\n\n38\n00:01:39.770 --> 00:01:43.340\nThere's other ones that are Debian\nbased operating systems like Ubuntu and\n\n39\n00:01:43.340 --> 00:01:44.240\nLinux Mint.\n\n40\n00:01:44.240 --> 00:01:46.580\nAnd those guys use a different\nset of package management.\n\n41\n00:01:46.580 --> 00:01:48.850\nSo, on a positive side, you got choices.\n\n42\n00:01:48.850 --> 00:01:51.860\nOn the negative side,\nit means when you sit down on a Linux box,\n\n43\n00:01:51.860 --> 00:01:55.090\nyou're not necessarily certain which\none you're gonna have available.\n\n44\n00:01:55.090 --> 00:01:56.540\nYou have to know what\ndistribution you're on.\n\n45\n00:01:56.540 --> 00:02:00.550\nAll right, now the other thing is that\npackage management wasn't always around.\n\n46\n00:02:00.550 --> 00:02:03.730\nWhen I first started with Linux,\nit was just way back with Slackware.\n\n47\n00:02:03.730 --> 00:02:05.100\nIf you wanted to install software,\n\n48\n00:02:05.100 --> 00:02:06.780\nyou downloaded the source code,\nand you compiled it.\n\n49\n00:02:06.780 --> 00:02:10.030\nAnd you compiled the application\nright there on your system.\n\n50\n00:02:10.030 --> 00:02:12.490\nAnd every time a new version came out,\nyou downloaded the new source code,\n\n51\n00:02:12.490 --> 00:02:14.008\nyou re-compiled, and you push the binary.\n\n52\n00:02:14.008 --> 00:02:20.450\nWell, a package is where somebody's\nalready compiled that binary for us.\n\n53\n00:02:20.450 --> 00:02:23.190\nThey've already built it up, and they've\nput it in a package that has instructions\n\n54\n00:02:23.190 --> 00:02:27.140\non where to put this file, where to put\nthat file, and what other dependencies\n\n55\n00:02:27.140 --> 00:02:30.910\nwe might have cuz most programs will\noften times depend on other programs.\n\n56\n00:02:30.910 --> 00:02:33.990\nMaybe you're doing something\nlike Libre Office.\n\n57\n00:02:33.990 --> 00:02:37.610\nWell that Office suite it depends\non a graphical user interface.\n\n58\n00:02:37.610 --> 00:02:38.410\nYou gotta have that or\n\n59\n00:02:38.410 --> 00:02:41.590\nif there's not a text based version\nof Libre, well maybe there is.\n\n60\n00:02:41.590 --> 00:02:42.710\nNot one that I know of.\n\n61\n00:02:42.710 --> 00:02:44.320\nSo, it's going to depend on other things.\n\n62\n00:02:44.320 --> 00:02:46.540\nSo, there's got to be\nsomething to sort that out.\n\n63\n00:02:46.540 --> 00:02:51.010\nAnd RedHat pushed a lot of this forward\nin the early days when they created\n\n64\n00:02:51.010 --> 00:02:53.990\nthe RedHat Package Manager, or RPM.\n\n65\n00:02:53.990 --> 00:02:58.790\nAnd RPM, which is simply an archive\nformat, it's a CPIO archive that,\n\n66\n00:02:58.790 --> 00:03:03.330\nit's like a ZIP or a TAR or anything\nlike that, an archive that stores all of\n\n67\n00:03:03.330 --> 00:03:06.240\na program's files, and\nthe instructions on where you put them.\n\n68\n00:03:06.240 --> 00:03:09.340\nAnd we can use RPM to install\nprograms on our system.\n\n69\n00:03:09.340 --> 00:03:10.480\nSo let me show you an example of that,\n\n70\n00:03:10.480 --> 00:03:11.865\nbecause talking about\nit is kind of boring.\n\n71\n00:03:11.865 --> 00:03:14.110\n[LAUGH] So let's jump in and see that.\n\n72\n00:03:14.110 --> 00:03:18.050\nSo first off, when we say an RPM,\nthe red hat package manager,\n\n73\n00:03:18.050 --> 00:03:19.920\nit actually means two things.\n\n74\n00:03:19.920 --> 00:03:22.730\nYou have RPM, which is the utility\nyou can use to install it,\n\n75\n00:03:22.730 --> 00:03:26.010\nand then you have RPMs which\nare the packages themselves.\n\n76\n00:03:26.010 --> 00:03:31.200\nSo from the command line on a Red Hat\nbased system, and I'm using CentOS 7 here.\n\n77\n00:03:31.200 --> 00:03:36.700\nIf I do rpm --help,\nI'll see I've got that rpm utility,\n\n78\n00:03:36.700 --> 00:03:39.730\nand here's all the various modifiers\nit's got for doing all the magic.\n\n79\n00:03:39.730 --> 00:03:42.440\nAnd we're gonna see the important\nones here a little bit later.\n\n80\n00:03:42.440 --> 00:03:48.400\nSo that's the RPM utility, but when I\ninstall packages, the packages themselves,\n\n81\n00:03:48.400 --> 00:03:53.370\nwell here's the CentOS repository where\nthey've got all their package files.\n\n82\n00:03:53.370 --> 00:03:55.620\nAnd what you'll see is\nthe packages are listed here, and\n\n83\n00:03:55.620 --> 00:03:57.710\nsee how they all end in .rpm, right.\n\n84\n00:03:57.710 --> 00:04:00.230\nThose are my package files\nthat can be installed with\n\n85\n00:04:00.230 --> 00:04:02.070\nthe Red Hat Package Manager.\n\n86\n00:04:02.070 --> 00:04:06.300\nNow Red Hat systems actually have a second\npackage manager also called Yum, and\n\n87\n00:04:06.300 --> 00:04:08.480\nwe'll talk about that in\nthe second part of the show.\n\n88\n00:04:08.480 --> 00:04:10.070\nBut for right now, let's just tackle RPM.\n\n89\n00:04:11.350 --> 00:04:14.290\n>> So I'm looking at these file names\nthat you got listed up here, Don,\n\n90\n00:04:14.290 --> 00:04:17.140\nand they're looking a little-\n>> Pretty impressive.\n\n91\n00:04:17.140 --> 00:04:17.835\n>> Yeah, very impressive.\n\n92\n00:04:17.835 --> 00:04:19.140\n[LAUGH]\n>> You know the names,\n\n93\n00:04:19.140 --> 00:04:20.540\nthey kind of look daunting at first, but\n\n94\n00:04:20.540 --> 00:04:23.970\nthey're really not that bad when you break\nthem down into the component parts, right?\n\n95\n00:04:23.970 --> 00:04:26.840\nSo when we look at a package file,\nthe way the name works and\n\n96\n00:04:26.840 --> 00:04:29.800\nlet me find one like Mike's, here we go.\n\n97\n00:04:29.800 --> 00:04:31.490\nSo let's say I want to install Lynx.\n\n98\n00:04:31.490 --> 00:04:35.560\nWell the first part of the package name\nis the name of the software right?\n\n99\n00:04:35.560 --> 00:04:38.320\nSo this is the Lynx software.\n\n100\n00:04:38.320 --> 00:04:41.420\nLet me zoom in and, wow, that kinda\nmessed everything up, didn't it?\n\n101\n00:04:41.420 --> 00:04:42.770\n>> Oh, you're going zoom crazy now.\n\n102\n00:04:42.770 --> 00:04:45.210\n>> That's fine.\nYeah, I went a little crazy on that one.\n\n103\n00:04:45.210 --> 00:04:48.820\nSo then the first part of it is just\nthe file, or I mean, the program.\n\n104\n00:04:48.820 --> 00:04:51.620\nSo I wanna install the Lynx web browser,\nso here it is.\n\n105\n00:04:51.620 --> 00:04:53.180\nThe next part is the version.\n\n106\n00:04:53.180 --> 00:04:55.138\nThis is version 2.8.8.\n\n107\n00:04:55.138 --> 00:04:58.630\nIf a new version of the package comes out,\nit'll be here,\n\n108\n00:04:58.630 --> 00:05:01.850\nand it'll be version 2.8.9,\nor 3.0, or whatever.\n\n109\n00:05:01.850 --> 00:05:03.930\nSo, we need to know that version, so\n\n110\n00:05:03.930 --> 00:05:06.670\nwe can keep track of which\npackage we have installed.\n\n111\n00:05:06.670 --> 00:05:12.269\nNext is the build number and\nI can see that this is 0.3.dev15, right?\n\n112\n00:05:12.269 --> 00:05:15.683\nNow that's an internal numbering system\nthat whoever is the package manager\n\n113\n00:05:15.683 --> 00:05:17.267\nmaintainer for Lynx is following.\n\n114\n00:05:17.267 --> 00:05:21.230\nThey keep these for\ntheir internal build processes.\n\n115\n00:05:21.230 --> 00:05:23.324\n2.8.7 by the last version and\n\n116\n00:05:23.324 --> 00:05:27.728\nthen internally development team has\ntooled it, added new features and\n\n117\n00:05:27.728 --> 00:05:32.800\nstuff before they released 2.8.8 but\nthey might have had multiple releases.\n\n118\n00:05:32.800 --> 00:05:35.600\nBecause this is dev 15 so\nthey probably had 14 other releases\n\n119\n00:05:35.600 --> 00:05:39.183\nbefore they finally settled on what\nwould officially become 2.8.8.\n\n120\n00:05:39.183 --> 00:05:42.340\nSo we've got out version number\nfollowed by our build number.\n\n121\n00:05:43.360 --> 00:05:45.970\nAfter that, we have our architecture.\n\n122\n00:05:45.970 --> 00:05:48.800\nNow the architecture can be\na number of different things.\n\n123\n00:05:48.800 --> 00:05:50.430\nOn a Red Hat based system,\n\n124\n00:05:50.430 --> 00:05:53.880\nit'll start with what version\nof Red Hat it's intended for.\n\n125\n00:05:53.880 --> 00:05:55.830\nThis one says Enterprise Linux 7.\n\n126\n00:05:55.830 --> 00:05:59.470\nThe Red Hat operating system is\ncalled Red Hat Enterprise Linux,\n\n127\n00:05:59.470 --> 00:06:03.350\nor RHEL, and this is intended for\nEnterprise Linux version 7.\n\n128\n00:06:03.350 --> 00:06:07.520\nIf I was running version 6, I'd need to\ngo in to get the appropriate packages for\n\n129\n00:06:07.520 --> 00:06:08.300\nversion 6.\n\n130\n00:06:08.300 --> 00:06:13.390\nSo that's that first part, and the second\npart is my processor architecture.\n\n131\n00:06:13.390 --> 00:06:16.500\nAnd there's a couple that you're\ngonna see pretty commonly.\n\n132\n00:06:16.500 --> 00:06:18.580\nThere's probably four, really,\nthat you'll see commonly.\n\n133\n00:06:18.580 --> 00:06:21.482\nThis one says x86_64, right?\n\n134\n00:06:21.482 --> 00:06:23.470\nThat means this is intended for\n\n135\n00:06:23.470 --> 00:06:27.380\n64-bit processors that are of\nthe AMD standard, right?\n\n136\n00:06:27.380 --> 00:06:30.130\nSo the AMD64.\nWe see it here written this way.\n\n137\n00:06:30.130 --> 00:06:33.330\nOn the VM side,\nyou'll actually see it written as AMD64.\n\n138\n00:06:33.330 --> 00:06:34.230\nIt's a little variation.\n\n139\n00:06:36.160 --> 00:06:40.340\nIf we have a 32-bit system,\nthen the package we want is gonna be i386.\n\n140\n00:06:40.340 --> 00:06:44.870\ni386 in the case of the old\nIntel architecture, and\n\n141\n00:06:44.870 --> 00:06:46.670\nthat's the one we used for that.\n\n142\n00:06:46.670 --> 00:06:49.360\nYou might also see ARM nowadays, right?\n\n143\n00:06:49.360 --> 00:06:51.626\nA lot of systems are starting\nto ship with those low-cost,\n\n144\n00:06:51.626 --> 00:06:54.500\npower-efficient ARM processors,\nso you'll have ARM ones.\n\n145\n00:06:54.500 --> 00:06:58.810\nAnd then my favorite one is\nwhen they say no arch, right?\n\n146\n00:06:58.810 --> 00:07:01.350\nLet me see if I can find one\nthat says no arch real quick.\n\n147\n00:07:02.700 --> 00:07:03.550\nThere we go.\n\n148\n00:07:03.550 --> 00:07:06.060\nSo this one is a ruby document, right?\n\n149\n00:07:06.060 --> 00:07:09.740\nIt's a document,\nit's just a document file.\n\n150\n00:07:09.740 --> 00:07:11.820\nIt doesn't depend on\na processor architecture.\n\n151\n00:07:11.820 --> 00:07:16.430\nSo, it's not 64-bit, it's not 32-bit,\nit's not ARM, it's just no architecture.\n\n152\n00:07:16.430 --> 00:07:17.450\nIt's independent.\n\n153\n00:07:17.450 --> 00:07:19.490\nSo you'll see those kind of\nvariations from time to time.\n\n154\n00:07:19.490 --> 00:07:22.670\nNot everything has a dedicated\narchitecture assigned to it.\n\n155\n00:07:24.420 --> 00:07:27.260\nSo those are kind of what\nour packages look like.\n\n156\n00:07:27.260 --> 00:07:29.490\nNow our packages can come from\na repository like this or\n\n157\n00:07:29.490 --> 00:07:31.130\nwe can just go and download them.\n\n158\n00:07:31.130 --> 00:07:35.310\nFor example, there's a little web-based\nmanagement utility you can use for\n\n159\n00:07:35.310 --> 00:07:37.060\nLinux servers called Webmin.\n\n160\n00:07:37.060 --> 00:07:40.820\nAnd I like to use it, not on public\nservers, but on internal servers.\n\n161\n00:07:40.820 --> 00:07:44.120\nAnd if you take a look at it,\nyou can go to Webmin's website.\n\n162\n00:07:44.120 --> 00:07:46.130\nAnd they've got this webmin software,\n\n163\n00:07:46.130 --> 00:07:48.460\nweb based management console\nthat you can download.\n\n164\n00:07:48.460 --> 00:07:52.300\nIf we go right over here, we can download\nit as a RPM or a Debian package or\n\n165\n00:07:52.300 --> 00:07:52.944\nwhatever.\n\n166\n00:07:52.944 --> 00:07:56.274\nSo, if I download it as an RPM,\nI'm gonna go and download it.\n\n167\n00:07:56.274 --> 00:07:58.206\nLooks like it's going to Sourceforge,\nwhich is great.\n\n168\n00:07:58.206 --> 00:08:00.376\nSo, I might get some\nspyware attached to it.\n\n169\n00:08:00.376 --> 00:08:01.367\n>> Virus [LAUGH].\n\n170\n00:08:01.367 --> 00:08:02.629\n>> But, we can go and download it.\n\n171\n00:08:02.629 --> 00:08:07.860\nAnd there it is, so there's the file,\nWebmin-1.750-1.noarch.\n\n172\n00:08:07.860 --> 00:08:09.550\nSo, that's that no architecture file.\n\n173\n00:08:09.550 --> 00:08:12.080\nI can download it and\nI can start to install it.\n\n174\n00:08:12.080 --> 00:08:14.540\nSo, I've actually done\nthat here in my Linux box.\n\n175\n00:08:14.540 --> 00:08:18.683\nThere's my no architecture file and\nif I want to install that,\n\n176\n00:08:18.683 --> 00:08:21.348\nthat's where I can use the RPM utility.\n\n177\n00:08:21.348 --> 00:08:26.568\nNow, the RPM utility at it's most\nbasic is either going to install or\n\n178\n00:08:26.568 --> 00:08:28.670\nupdate a package.\n\n179\n00:08:28.670 --> 00:08:33.350\nSo, what you do is you say\nrpm -i to install a package,\n\n180\n00:08:33.350 --> 00:08:37.140\nor -U to update a package, all right?\n\n181\n00:08:37.140 --> 00:08:41.740\nNow notice that U is capital and the big\ndifference here, install will install\n\n182\n00:08:41.740 --> 00:08:45.230\nthe package unless it already exists,\nin which case it won't do anything.\n\n183\n00:08:45.230 --> 00:08:47.130\nIf it already exists it won't do it.\n\n184\n00:08:47.130 --> 00:08:50.660\nUpdate will say if the package\nalready exists I'm gonna update it.\n\n185\n00:08:50.660 --> 00:08:54.560\nI'll bump it to the newest version, or\nif it doesn't exist, I'll install it.\n\n186\n00:08:54.560 --> 00:08:56.160\nSo even if you're installing for\n\n187\n00:08:56.160 --> 00:08:59.190\nthe first time, a lot of times\nI'll still use the U anyway,\n\n188\n00:08:59.190 --> 00:09:02.880\ncuz it installs as well as updates, so\nthat's kinda my de facto one to go to.\n\n189\n00:09:04.160 --> 00:09:07.640\nAnd then,\nI'll usually stick a VH on there, right?\n\n190\n00:09:07.640 --> 00:09:10.200\nThese are optional,\nyou don't have to do VH.\n\n191\n00:09:10.200 --> 00:09:14.190\nBut what they do is they basically say,\nwhen the install is happening,\n\n192\n00:09:14.190 --> 00:09:17.060\ngive me a little status bar on the screen\nthat displays little hash marks\n\n193\n00:09:17.060 --> 00:09:20.270\nacross the screen that show\nthe progress of installing.\n\n194\n00:09:20.270 --> 00:09:23.680\nAnd I wanna know if it's stalled or\nif it's not installing.\n\n195\n00:09:23.680 --> 00:09:24.750\nIt doesn't do that by default.\n\n196\n00:09:24.750 --> 00:09:27.740\nIf I just run it like this,\nit's gonna install silently, and\n\n197\n00:09:27.740 --> 00:09:29.790\nit'll just let me know that it's done.\n\n198\n00:09:29.790 --> 00:09:31.583\nSo I usually stick that VH on there.\n\n199\n00:09:31.583 --> 00:09:35.821\nAnd then lastly, we just tell it\nthe RPM that we want to install, so\n\n200\n00:09:35.821 --> 00:09:43.100\nI've got that Webmin-1.750-1.noarch.rpm\nand I'll provide that and it will install.\n\n201\n00:09:43.100 --> 00:09:46.280\nNow, I do have to be careful, because\ninstalling software on a Linux box,\n\n202\n00:09:46.280 --> 00:09:49.080\nyou've got to have administrator\nrights for that, right?\n\n203\n00:09:49.080 --> 00:09:50.770\nAnd I don't, so if I try and\nrun it right now,\n\n204\n00:09:50.770 --> 00:09:52.670\nI'm gonna get an error, permission denied.\n\n205\n00:09:52.670 --> 00:09:57.660\nI'm just a regular user, so I'm gonna add\na little sudo to the beginning of that so\n\n206\n00:09:57.660 --> 00:09:59.970\nI can run it with elevated privileges.\n\n207\n00:09:59.970 --> 00:10:02.550\nAnd now when it runs,\nit's gonna install that software, and\n\n208\n00:10:02.550 --> 00:10:04.680\nthere's those little hash\nmarks I was talking about.\n\n209\n00:10:04.680 --> 00:10:07.730\nIf I didn't do the VH,\nright now it would just be sitting here.\n\n210\n00:10:07.730 --> 00:10:10.597\nAnd if it takes a long time to install,\nI might think it's locked up, but\n\n211\n00:10:10.597 --> 00:10:12.908\nwith those hash marks,\nI can actually see that progress.\n\n212\n00:10:12.908 --> 00:10:17.004\n>> Now Don, I noticed that you put the\nlittle ./ there to let you know that this\n\n213\n00:10:17.004 --> 00:10:19.060\nis in this working directory.\n\n214\n00:10:19.060 --> 00:10:20.950\nThat, but\nyou don't necessarily need that, do you?\n\n215\n00:10:20.950 --> 00:10:22.026\n>> No, that's a [LAUGH] a habit of mine.\n\n216\n00:10:22.026 --> 00:10:22.775\n>> A little bit of a quirk.\n\n217\n00:10:22.775 --> 00:10:26.240\n[LAUGH]\n>> If you've worked with Linux or Unix,\n\n218\n00:10:26.240 --> 00:10:30.630\nI really cut my teeth on Solaris back in\nthe day which was a BSD operating system.\n\n219\n00:10:30.630 --> 00:10:34.070\nSo if you've worked with these\nsystems a long time, back in the day,\n\n220\n00:10:34.070 --> 00:10:38.530\nthe path variables weren't very well\nset and it often times required you to\n\n221\n00:10:38.530 --> 00:10:41.880\ndesignate that the file was in\nthe same directory you're in with ./.\n\n222\n00:10:41.880 --> 00:10:43.540\nMost of the time,\nyou don't have to do that anymore.\n\n223\n00:10:43.540 --> 00:10:45.094\nI just kind of do it out of habit.\n\n224\n00:10:45.094 --> 00:10:50.040\nAll right, so now it's installed and\nit's letting me know, hey, it's installed,\n\n225\n00:10:50.040 --> 00:10:50.820\nit's up and running.\n\n226\n00:10:50.820 --> 00:10:52.180\nWebmin install complete.\n\n227\n00:10:52.180 --> 00:10:54.440\nYou can now log in at this URL.\n\n228\n00:10:54.440 --> 00:10:56.330\nI can browse to it and\nI can fire up Webmin.\n\n229\n00:10:57.370 --> 00:11:01.190\nNow this is where we're gonna encounter\none of the first problems of RPM.\n\n230\n00:11:01.190 --> 00:11:03.790\nAt the beginning of this show,\nI said we got two different\n\n231\n00:11:03.790 --> 00:11:07.080\npackage managers in Redhat,\nwhy do I have two different ones?\n\n232\n00:11:07.080 --> 00:11:09.921\nWell, the short and\nsimple is that RPM kind of sucks.\n\n233\n00:11:09.921 --> 00:11:11.982\n[LAUGH]\n>> One's better than the other.\n\n234\n00:11:11.982 --> 00:11:12.704\n[LAUGH]\n>> Right, so\n\n235\n00:11:12.704 --> 00:11:17.878\none of the big problems RPM has is it\ndoesn't check for dependencies, all right?\n\n236\n00:11:17.878 --> 00:11:23.000\nSo, if I installed Webmin,\nWebmin requires me to have a web server.\n\n237\n00:11:23.000 --> 00:11:27.300\nWhat if I don't have a web server, well\nit just crashes out, it doesn't install.\n\n238\n00:11:27.300 --> 00:11:29.330\nIf I do have a web server,\nit installs fine.\n\n239\n00:11:29.330 --> 00:11:32.454\nBut it doesn't say, its not smart enough\nto say, well you're gonna install this,\n\n240\n00:11:32.454 --> 00:11:34.396\nlet me install these dependencies also.\n\n241\n00:11:34.396 --> 00:11:37.950\nRPM doesn't do that, so if there is a list\nof dependencies out there that I need\n\n242\n00:11:37.950 --> 00:11:39.980\nto have, I've got to get those installed.\n\n243\n00:11:39.980 --> 00:11:43.830\nAnd so before the show, I installed the\ndependencies for Webmin so I'd have them.\n\n244\n00:11:43.830 --> 00:11:46.230\nBecause otherwise, I'd have to sit\nhere and do all these different,\n\n245\n00:11:46.230 --> 00:11:48.110\nI'd have go download all the dependencies.\n\n246\n00:11:48.110 --> 00:11:52.550\nAnd if it's something like Libre Office,\nthere's thousands of dependencies and\n\n247\n00:11:52.550 --> 00:11:54.700\nit would take forever to do that manually.\n\n248\n00:11:54.700 --> 00:11:58.630\nSo RPM was good for\nit's purpose back in the day,\n\n249\n00:11:58.630 --> 00:12:02.430\nbut today, we really only use RPM for\ninformation gathering, right?\n\n250\n00:12:02.430 --> 00:12:05.150\nWe don't normally install packages\nwith RPM, we pretty much use Yum for\n\n251\n00:12:05.150 --> 00:12:06.820\nall of that now, all right?\n\n252\n00:12:06.820 --> 00:12:09.248\nSo let's take a look at that\ninformation gathering side of things.\n\n253\n00:12:09.248 --> 00:12:13.970\nMaybe I wanna know if\na package is installed, right?\n\n254\n00:12:13.970 --> 00:12:15.760\nWell, RPM can tell all that.\n\n255\n00:12:15.760 --> 00:12:17.347\nIt has a little query\ninterface we can use.\n\n256\n00:12:17.347 --> 00:12:24.410\nYou can say rpm -qi, so I'm querying and\ngetting information, about a package.\n\n257\n00:12:24.410 --> 00:12:26.280\nI wanna get information about Webmin.\n\n258\n00:12:26.280 --> 00:12:31.260\nAnd when I run that, it's gonna tell me\nthat I've got Webmin 1.7.50, it's not\n\n259\n00:12:31.260 --> 00:12:34.540\narchitecture based, it tells me some\nother information, it's freeware, right?\n\n260\n00:12:34.540 --> 00:12:36.450\nIt's digitally signed by Jamie Cameron,\n\n261\n00:12:36.450 --> 00:12:40.620\nauthor of the software and there's all the\ninformation I could need about it, right?\n\n262\n00:12:40.620 --> 00:12:44.128\nIt's letting me know that I've got it and\nthat it's installed.\n\n263\n00:12:44.128 --> 00:12:47.230\nSee I've got my install date up there,\nso now I know when it was installed.\n\n264\n00:12:47.230 --> 00:12:49.360\nIf I try to query software\nthat wasn't installed,\n\n265\n00:12:49.360 --> 00:12:53.795\nlike MySQL, it's just gonna tell\nme package is not installed.\n\n266\n00:12:53.795 --> 00:12:56.825\nSo we can use RPM just to quickly\nquery and see what's in there.\n\n267\n00:12:56.825 --> 00:12:57.945\nWe can do the same thing with Yum.\n\n268\n00:12:57.945 --> 00:12:59.515\n>> Yeah, very informative stuff.\n\n269\n00:12:59.515 --> 00:13:00.255\n>> Yeah, yeah.\n\n270\n00:13:00.255 --> 00:13:02.045\n>> Knowing when it was installed,\nthat can be very helpful.\n\n271\n00:13:02.045 --> 00:13:04.595\nWhen did I install that thing?\n\n272\n00:13:04.595 --> 00:13:05.215\nIs it new?\n\n273\n00:13:05.215 --> 00:13:06.115\nIs it older?\n\n274\n00:13:06.115 --> 00:13:09.430\nIs it part of the actual installation\nfrom when I actually built the box.\n\n275\n00:13:09.430 --> 00:13:12.220\nMaybe it was built into that, some of\nthose packages I installed at that point.\n\n276\n00:13:12.220 --> 00:13:13.450\nIt could be very helpful.\n\n277\n00:13:13.450 --> 00:13:15.630\n>> Yeah, a lot of time the software,\nyou didn't install it.\n\n278\n00:13:15.630 --> 00:13:16.840\nIt was part of that base install.\n\n279\n00:13:16.840 --> 00:13:20.670\nSo I've got OpenSSL was like this, and so\nyou might see where that install date is\n\n280\n00:13:20.670 --> 00:13:25.075\nis far earlier because it was part\nof when you set up that system.\n\n281\n00:13:25.075 --> 00:13:27.775\nNow we can also use RPM\nto remove programs,\n\n282\n00:13:27.775 --> 00:13:29.953\nthey call it erasing the package.\n\n283\n00:13:29.953 --> 00:13:34.055\nSo we can saw rpm -e\nwebmin to get rid of it.\n\n284\n00:13:34.055 --> 00:13:37.145\nI'm gonna do a sudo on that cuz you do\nhave to have the administrator privileges\n\n285\n00:13:37.145 --> 00:13:38.890\nand it's gonna go and erase that.\n\n286\n00:13:38.890 --> 00:13:42.960\nNow when it goes to erase it, there it\ngoes, kinda knocking all that stuff out.\n\n287\n00:13:42.960 --> 00:13:46.210\nIf we installed dependencies,\nit doesn't erase the dependencies.\n\n288\n00:13:46.210 --> 00:13:48.710\nCuz it really doesn't\ntie that stuff together.\n\n289\n00:13:48.710 --> 00:13:52.900\nRPM doesn't do that, so\nit just removed Webmin, but\n\n290\n00:13:52.900 --> 00:13:56.910\nI probably still have some leftover files\nand other things that have been created.\n\n291\n00:13:56.910 --> 00:14:01.380\nIt's not a very clean removal, all right?\n\n292\n00:14:01.380 --> 00:14:02.740\n>> Yum?\n\n293\n00:14:02.740 --> 00:14:05.620\n>> Let me do one more\nthing I wanna mention.\n\n294\n00:14:05.620 --> 00:14:07.880\nIt's not something you're ever\ngonna use in real life, but\n\n295\n00:14:07.880 --> 00:14:11.610\nit shows up on the exam for some reason so\nI want to mention it real quick.\n\n296\n00:14:11.610 --> 00:14:16.650\nThese RPM packages,\nthey are modified CPIO archives.\n\n297\n00:14:16.650 --> 00:14:18.470\nI think I mentioned that earlier.\n\n298\n00:14:18.470 --> 00:14:22.850\nCPIO, that's one of the oldest forms\nof archives where it's basically\n\n299\n00:14:22.850 --> 00:14:25.900\ncopying input and output and\nstoring it in a file.\n\n300\n00:14:25.900 --> 00:14:28.610\nIf you ever need to extract a package,\nright?\n\n301\n00:14:28.610 --> 00:14:33.590\nMaybe, I don't wanna install Webmin,\nI just want to get the files out, okay?\n\n302\n00:14:33.590 --> 00:14:40.200\nWell, it's not a zip file, I can't just\nuse unzip or gzip or any of those guys.\n\n303\n00:14:40.200 --> 00:14:42.460\nI need to use CPIO to extract it.\n\n304\n00:14:42.460 --> 00:14:48.393\nAnd so there's a utility that's built into\nall of the Redhat systems called rpm2cpio.\n\n305\n00:14:48.393 --> 00:14:52.830\nAnd it lets you convert it into a normal\nCPIO archive and then you can extract it.\n\n306\n00:14:52.830 --> 00:14:56.640\nAgain, it's not something I've ever\nhad to do in the real world but\n\n307\n00:14:56.640 --> 00:14:58.260\ndoes show up on the exam so\nit's a good thing to know.\n\n308\n00:14:58.260 --> 00:14:59.810\nSo, let me show you that\ncommand real quick.\n\n309\n00:14:59.810 --> 00:15:05.970\nBasically, the way it works is like this,\nyou say rpm2cpio and you specify the file\n\n310\n00:15:05.970 --> 00:15:10.790\nthat you're gonna be extracting, so\nI'm gonna do that webmin file, all right?\n\n311\n00:15:10.790 --> 00:15:14.210\nAnd then,\nyou redirect the output cuz by default,\n\n312\n00:15:14.210 --> 00:15:17.230\nit's gonna convert it to your screen,\nwhich is not useful.\n\n313\n00:15:17.230 --> 00:15:18.980\nAnd we store that into another file.\n\n314\n00:15:18.980 --> 00:15:20.600\nAnd so I'm gonna store it in a file, and\n\n315\n00:15:20.600 --> 00:15:24.000\ninstead of .rpm,\nI'm gonna end it in .cpio.\n\n316\n00:15:24.000 --> 00:15:27.660\nOkay, so when that's done,\nI've now got two files.\n\n317\n00:15:27.660 --> 00:15:30.300\nOne that ends in rpm,\nthat's the regular package, and\n\n318\n00:15:30.300 --> 00:15:34.810\none that ends in cpio,\nthat's a regular CPIO archive.\n\n319\n00:15:34.810 --> 00:15:39.414\nAnd now I can extract that\narchive by saying cpio -i,\n\n320\n00:15:39.414 --> 00:15:43.630\nwhich means I'm inputting a file into it.\n\n321\n00:15:43.630 --> 00:15:45.980\nAnd then I'm gonna do --make-directories.\n\n322\n00:15:45.980 --> 00:15:47.340\nYou have to tell it to do directories,\n\n323\n00:15:47.340 --> 00:15:50.880\notherwise it extracts everything\nright here flat, which is not fun.\n\n324\n00:15:50.880 --> 00:15:56.157\nSo we'll preserve our directory\nstructure and then for input into that,\n\n325\n00:15:56.157 --> 00:16:01.194\nI'll feed that webmin Cpio file that\nwe just made a second ago, okay.\n\n326\n00:16:01.194 --> 00:16:04.600\nSo now it's gonna take that and\nit's going to extract it.\n\n327\n00:16:04.600 --> 00:16:06.300\nAnd when it is done,\n\n328\n00:16:06.300 --> 00:16:10.480\nnow right here on my hard drive,\nI've got this etc and usr folder.\n\n329\n00:16:10.480 --> 00:16:16.630\nAnd if we start browsing in there,\nwe can find the actual webmin files.\n\n330\n00:16:16.630 --> 00:16:19.550\nAnd now I can get access to\nthe contents inside that package\n\n331\n00:16:19.550 --> 00:16:21.170\nwithout actually installing it first.\n\n332\n00:16:22.470 --> 00:16:23.940\nSo, good thing to know.\n\n333\n00:16:23.940 --> 00:16:25.110\n>> Yeah.\nI was gonna say,\n\n334\n00:16:25.110 --> 00:16:26.960\nfrom this point could you\ndo like a source build.\n\n335\n00:16:26.960 --> 00:16:28.710\nLike what we used to do back in the day.\n\n336\n00:16:28.710 --> 00:16:31.840\nAnd do the .configure and\nmake install and all that.\n\n337\n00:16:31.840 --> 00:16:33.000\n>> If the source was in there.\n\n338\n00:16:33.000 --> 00:16:35.250\nYou know a lot of developers don't\nput the source in their packages.\n\n339\n00:16:35.250 --> 00:16:37.950\nSo they usually have a separate\npackage for the source.\n\n340\n00:16:37.950 --> 00:16:38.820\nAnd that's what you'd go for.\n\n341\n00:16:38.820 --> 00:16:41.170\nAnd those are normally just gzipped,\nright?\n\n342\n00:16:41.170 --> 00:16:44.020\nLike if I go back to that Webmin web page.\n\n343\n00:16:44.020 --> 00:16:46.960\nIf I can get out of Sourceforge.\n\n344\n00:16:46.960 --> 00:16:47.640\nHere we go.\n\n345\n00:16:47.640 --> 00:16:52.210\nWhen you go to download it, say we've\ngot RPM, Debian ,TAR file, right?\n\n346\n00:16:52.210 --> 00:16:55.130\nWhen you go to that TAR file, that's\nmore than likely just the source and\n\n347\n00:16:55.130 --> 00:16:56.230\nthen you could take that and do it.\n\n348\n00:16:56.230 --> 00:16:57.490\nSo that's probably the way we'd get there.\n\n349\n00:16:59.310 --> 00:17:00.710\nSo now we're getting into Yum.\n\n350\n00:17:00.710 --> 00:17:01.380\n>> Yes.\n\n351\n00:17:01.380 --> 00:17:03.400\nLet's go and take a look at Yum.\n\n352\n00:17:03.400 --> 00:17:03.995\nSo, with Yum.\n\n353\n00:17:03.995 --> 00:17:07.330\n[LAUGH] Oh, Chrome it's gonna just\nsit there and annoy me all day.\n\n354\n00:17:07.330 --> 00:17:08.580\nThere we go, all right.\n\n355\n00:17:08.580 --> 00:17:10.410\nSo, RPM, that's the old school.\n\n356\n00:17:10.410 --> 00:17:11.530\nWe need to know if for the exam.\n\n357\n00:17:11.530 --> 00:17:13.470\nYou're probably not gonna\nuse it in real life though.\n\n358\n00:17:13.470 --> 00:17:15.450\nYum does so much more.\n\n359\n00:17:15.450 --> 00:17:19.310\nYum will, it'll track dependencies.\n\n360\n00:17:19.310 --> 00:17:21.100\nIf you're missing something,\nit'll go out and get them.\n\n361\n00:17:21.100 --> 00:17:23.630\nWhen you erase something,\nit'll actually remove the dependency.\n\n362\n00:17:23.630 --> 00:17:26.460\nSo it's far more powerful\nthan what we saw with RPM.\n\n363\n00:17:26.460 --> 00:17:29.490\nThe other nice thing about YUM\nis that it uses what are called\n\n364\n00:17:29.490 --> 00:17:31.450\nrepositories, all right?\n\n365\n00:17:31.450 --> 00:17:36.330\nWith RPM, you'll notice I was\ninstalling an RPM that I had stored\n\n366\n00:17:36.330 --> 00:17:37.600\nright here in my Downloads file, right?\n\n367\n00:17:37.600 --> 00:17:40.270\nI had to go and download that file,\nput it right here.\n\n368\n00:17:40.270 --> 00:17:40.780\nAnd I installed it.\n\n369\n00:17:40.780 --> 00:17:42.450\nSo I already had the package local.\n\n370\n00:17:42.450 --> 00:17:47.040\nWith yum it can go and\nretrieve the package from the sent OS or\n\n371\n00:17:47.040 --> 00:17:49.860\nRed Hat servers or wherever it is\nyour distribution stores that.\n\n372\n00:17:49.860 --> 00:17:54.040\nSo you can pull from servers and\nthat means when you want to do updates.\n\n373\n00:17:54.040 --> 00:17:55.570\nI don't think I wanna download a new RPM.\n\n374\n00:17:55.570 --> 00:17:56.380\nYum can do it for me.\n\n375\n00:17:56.380 --> 00:17:59.510\nIt can update the system and\nthat is worth it's weight in gold.\n\n376\n00:17:59.510 --> 00:18:00.940\nThat's why we all use yum.\n\n377\n00:18:00.940 --> 00:18:01.530\n>> Yeah.\nI'm start,\n\n378\n00:18:01.530 --> 00:18:05.260\nwe're definitely all starting to see\na push toward that kind of thing.\n\n379\n00:18:05.260 --> 00:18:08.350\nEven Windows10,\nwe've seen that they're gonna use this,\n\n380\n00:18:08.350 --> 00:18:11.070\ntheir own package repository\ncalled Chocolatey.\n\n381\n00:18:11.070 --> 00:18:12.560\nI think they're starting to call it.\n\n382\n00:18:12.560 --> 00:18:15.510\nBasically that's also\nlike the Apple App Store.\n\n383\n00:18:15.510 --> 00:18:16.846\nRight?\nThis is kind of the same idea.\n\n384\n00:18:16.846 --> 00:18:20.910\nHaving a one stop shop, and\ncategorized even, say oh,\n\n385\n00:18:20.910 --> 00:18:22.930\nI need a administrative type of tool.\n\n386\n00:18:22.930 --> 00:18:26.840\nOr I need a developer tool, something like\nthat, I can go to these repositories.\n\n387\n00:18:26.840 --> 00:18:28.485\nLook at what software they have available.\n\n388\n00:18:28.485 --> 00:18:29.650\nGet what I'm looking for and\n\n389\n00:18:29.650 --> 00:18:31.930\nthen use Yum to get that installed\n>> Yeah,\n\n390\n00:18:31.930 --> 00:18:33.940\nthat all came from Unix world, right.\n\n391\n00:18:33.940 --> 00:18:37.400\nThis is where it originated and\nit's really powerful stuff.\n\n392\n00:18:37.400 --> 00:18:41.410\nNow the command Yum, most of the time\nthey write it like the word Yum.\n\n393\n00:18:41.410 --> 00:18:42.910\nBut it actually does stand for something.\n\n394\n00:18:42.910 --> 00:18:45.140\nIt's the yellow dog update manager.\n\n395\n00:18:45.140 --> 00:18:48.560\nThere was a variation of red\nhat called yellow dog Linux.\n\n396\n00:18:48.560 --> 00:18:51.168\nWhich was compiled for\npower PC processors for the MAC.\n\n397\n00:18:51.168 --> 00:18:52.570\nIf you wanted to run LINUX on your MAX,\n\n398\n00:18:52.570 --> 00:18:54.590\nYellow Dog Linux is one\nof the popular ones.\n\n399\n00:18:54.590 --> 00:18:58.550\nAnd it's that team that created Yum and\nthen it was upstream,\n\n400\n00:18:58.550 --> 00:19:02.075\nraw into the main distros so\nnow it's in red hat.\n\n401\n00:19:02.075 --> 00:19:04.500\n>> People say, I think you guys\ngot something going on here.\n\n402\n00:19:04.500 --> 00:19:05.340\nThis might work out.\n\n403\n00:19:06.410 --> 00:19:10.630\n>> So Yum works a lot like RPM\nexcept instead of dash e or\n\n404\n00:19:10.630 --> 00:19:12.890\ndash i, dash u, whatever.\n\n405\n00:19:12.890 --> 00:19:14.430\n>> We normally just use words.\n\n406\n00:19:14.430 --> 00:19:19.200\nSo if I wanna see if something's\ninstalled, I could say, like yum list, and\n\n407\n00:19:19.200 --> 00:19:21.920\nthen whatever the package was,\nmaybe I wanted mysql.\n\n408\n00:19:21.920 --> 00:19:27.150\nAnd so I can run that, and it'll tell me\nI've got no matching packages to list.\n\n409\n00:19:27.150 --> 00:19:28.710\nI don't have it installed, right?\n\n410\n00:19:28.710 --> 00:19:30.360\nOr if it was something\nthat I had installed,\n\n411\n00:19:30.360 --> 00:19:33.390\nI could say like yum info httpd.\n\n412\n00:19:33.390 --> 00:19:35.100\nAnd it would give me information about it.\n\n413\n00:19:35.100 --> 00:19:37.420\nYum info is the equivalent of.\n\n414\n00:19:37.420 --> 00:19:41.390\nI can see when it was installed and\nthat same basic information.\n\n415\n00:19:42.800 --> 00:19:46.980\nSo we're just using simple\nplain English really, right?\n\n416\n00:19:46.980 --> 00:19:48.860\nIt's pretty easy stuff.\n\n417\n00:19:48.860 --> 00:19:50.450\nLet me get up here to the main list.\n\n418\n00:19:50.450 --> 00:19:53.250\nSo you've got yum info,\nyum list, yum erase.\n\n419\n00:19:53.250 --> 00:19:54.250\nTo get something out.\n\n420\n00:19:54.250 --> 00:19:56.540\nYum install to install something.\n\n421\n00:19:56.540 --> 00:20:00.450\nAnd yum update to do our updates and\nget our system caught up.\n\n422\n00:20:00.450 --> 00:20:02.750\nSo pretty simple and straightforward.\n\n423\n00:20:02.750 --> 00:20:06.080\nBut say I want to install\nthat links browser.\n\n424\n00:20:06.080 --> 00:20:07.840\nWell I don't have to go and\ndownload links,\n\n425\n00:20:07.840 --> 00:20:12.430\nI can just say yum Install lynx, right.\n\n426\n00:20:12.430 --> 00:20:15.220\nBut I do have to do a sudo to do it.\n\n427\n00:20:15.220 --> 00:20:17.910\nAnd it's gonna reach out\nto the CentOS servers.\n\n428\n00:20:17.910 --> 00:20:22.490\nIt found the package, and look at this,\nFinished Dependency Resolution.\n\n429\n00:20:22.490 --> 00:20:24.370\nLook for dependencies that are out there.\n\n430\n00:20:24.370 --> 00:20:28.230\nNow Links is a really simple program,\nso it doesn't have any dependencies.\n\n431\n00:20:28.230 --> 00:20:29.820\nIt's gonna install this one package.\n\n432\n00:20:29.820 --> 00:20:33.180\nAnd if I say yes,\nit downloads it and installs it.\n\n433\n00:20:33.180 --> 00:20:34.530\nSuper easy.\n\n434\n00:20:34.530 --> 00:20:35.860\nWhat if I had dependencies?\n\n435\n00:20:35.860 --> 00:20:40.840\nWell, if I had dependencies,\nlike if I did, let's see.\n\n436\n00:20:40.840 --> 00:20:42.680\nHere's some, well, libreoffice.\n\n437\n00:20:42.680 --> 00:20:45.330\nBut let's do MySQL allright.\n\n438\n00:20:45.330 --> 00:20:50.830\nWith this one It, well lets see,\nthat's not a whole lot of dependencies.\n\n439\n00:20:50.830 --> 00:20:52.573\nWhat would be a good example?\n\n440\n00:20:52.573 --> 00:20:54.422\n>> GCC [LAUGH]\n>> GCC?\n\n441\n00:20:54.422 --> 00:20:57.850\nYeah, I should already\nhave that one installed.\n\n442\n00:20:57.850 --> 00:21:00.310\nYeah, its already in there.\n\n443\n00:21:00.310 --> 00:21:03.566\nWe can try Firefox,\nthat's already installed.\n\n444\n00:21:03.566 --> 00:21:05.400\n[LAUGH].\nAllright, well it is something with a lot\n\n445\n00:21:05.400 --> 00:21:07.110\nof dependencies you'll\nactually see that show up.\n\n446\n00:21:07.110 --> 00:21:08.930\nWe'll see something when\nwe erase them a minute ago.\n\n447\n00:21:08.930 --> 00:21:10.390\nYou could have hundreds or\n\n448\n00:21:10.390 --> 00:21:13.060\nthousands of dependencies based on\nwhatever it is that you're trying to do.\n\n449\n00:21:13.060 --> 00:21:14.150\n>> Wireshark might be a good one.\n\n450\n00:21:14.150 --> 00:21:15.470\n>> Wireshark?\nI don't know if that's in their official,\n\n451\n00:21:15.470 --> 00:21:16.960\n>> Yeah, because it might need the pcap.\n\n452\n00:21:16.960 --> 00:21:18.750\n>> That might not be in\ntheir official repository.\n\n453\n00:21:18.750 --> 00:21:19.360\nOh, there it is.\n\n454\n00:21:19.360 --> 00:21:22.050\nAll right, so there's Wireshark, and\nsee how it says installing dependencies?\n\n455\n00:21:22.050 --> 00:21:23.520\nIt depends on libsmi.\n\n456\n00:21:23.520 --> 00:21:26.170\nI don't know what libsmi is,\nbut it depends on it.\n\n457\n00:21:26.170 --> 00:21:26.680\n>> It needs it.\n[LAUGH]\n\n458\n00:21:26.680 --> 00:21:27.810\n>> And if I were to install Wireshark\n\n459\n00:21:27.810 --> 00:21:29.000\nwithout that it wouldn't work, right.\n\n460\n00:21:29.000 --> 00:21:30.580\nSo here it's gonna take care of it for me.\n\n461\n00:21:30.580 --> 00:21:33.140\nAnd the cool part is if I\nuninstall Wireshark later.\n\n462\n00:21:33.140 --> 00:21:35.450\nIt'll remove that dependency,\nI don't need it anymore.\n\n463\n00:21:35.450 --> 00:21:37.890\nUnless some other package\ncomes along that needs it to.\n\n464\n00:21:37.890 --> 00:21:39.130\nIt actually manages all that.\n\n465\n00:21:39.130 --> 00:21:42.690\nThere's a software database that it keeps\ntrack of to make sure that it knows what\n\n466\n00:21:42.690 --> 00:21:44.110\nsoftware needs what.\n\n467\n00:21:45.610 --> 00:21:46.510\nAll right.\n\n468\n00:21:46.510 --> 00:21:50.840\nSo, the other cool thing about yum,\nif I wanted to install something,\n\n469\n00:21:50.840 --> 00:21:52.330\nyou saw me install links.\n\n470\n00:21:52.330 --> 00:21:56.570\nIf I want to remove links, I can do a yum,\n\n471\n00:21:56.570 --> 00:21:59.310\nerase links and\nit's gonna go and remove it.\n\n472\n00:21:59.310 --> 00:22:00.080\nIt's gonna uninstall it.\n\n473\n00:22:00.080 --> 00:22:02.050\nIf there were dependencies,\nit's gonna get rid of those, too,\n\n474\n00:22:02.050 --> 00:22:03.710\nas long as nobody else needs them.\n\n475\n00:22:03.710 --> 00:22:07.370\nIt'll get rid of them, and now it's gone,\nso it's a simple basic functionality.\n\n476\n00:22:07.370 --> 00:22:10.520\nBut the really cool part\nare the repositories.\n\n477\n00:22:10.520 --> 00:22:12.910\nIf we browse into our ETC folder,\n\n478\n00:22:14.990 --> 00:22:19.620\nthere's actually a folder in\nthere called yum.repose.d.\n\n479\n00:22:19.620 --> 00:22:22.230\nAnd in there are repo files.\n\n480\n00:22:22.230 --> 00:22:24.920\nEach file identifies\na repository that's out there.\n\n481\n00:22:24.920 --> 00:22:27.560\nSo for\nexample the centOS base repository, let's\n\n482\n00:22:28.590 --> 00:22:33.420\ntake a look at that if we\ndo Sent to OS-Base.repo.\n\n483\n00:22:33.420 --> 00:22:36.060\nYou'll see this base repository listed,\nand\n\n484\n00:22:36.060 --> 00:22:38.450\nbasically what it does\nis it gives it a name.\n\n485\n00:22:38.450 --> 00:22:41.590\nHere's my CentOS-$releaserver base,\nso this is version seven.\n\n486\n00:22:41.590 --> 00:22:42.860\nSo this would be the CentOS 7 base.\n\n487\n00:22:42.860 --> 00:22:45.880\nAnd then we've got our mirror list,\n\n488\n00:22:45.880 --> 00:22:49.470\nwhere we can find other repositories\nwith the exact same data.\n\n489\n00:22:49.470 --> 00:22:52.500\nSo I don't have to rely on one\nserver that might be overloaded.\n\n490\n00:22:52.500 --> 00:22:53.840\nThen we've got a base URL.\n\n491\n00:22:53.840 --> 00:22:54.670\nThis one's marked out.\n\n492\n00:22:54.670 --> 00:22:58.570\nIn other words don't go straight to\nCentOS go to the mirror instead.\n\n493\n00:22:58.570 --> 00:23:01.560\nThen whether or not we check for\na digital signature with that provider.\n\n494\n00:23:01.560 --> 00:23:03.650\nA lot of these packages\nare digitally signed so\n\n495\n00:23:03.650 --> 00:23:05.395\nwe can tell if they've been tampered with.\n\n496\n00:23:05.395 --> 00:23:08.875\nAnd so this one's got it turned on and\nit's saying here's where that key is.\n\n497\n00:23:08.875 --> 00:23:12.735\nSo when we download a file use this key to\nverify that it hasn't been tampered with.\n\n498\n00:23:12.735 --> 00:23:14.905\nAnd if it's successful then go ahead and\n\n499\n00:23:14.905 --> 00:23:17.825\ninstall it but if it's been\ntampered with don't install it.\n\n500\n00:23:17.825 --> 00:23:22.591\nNow the neat part here is this is a URL\nand so when I did YUM install links.\n\n501\n00:23:22.591 --> 00:23:26.515\nWhich was back in my history or\nsomewhere or whatever or Wireshark for\n\n502\n00:23:26.515 --> 00:23:27.660\nthat matter Right?\n\n503\n00:23:27.660 --> 00:23:30.150\nI don't have the Wireshark\nfiles here on my system.\n\n504\n00:23:30.150 --> 00:23:33.020\nIt looked at the servers then said hey is\nthere a package out there named Wireshark?\n\n505\n00:23:33.020 --> 00:23:36.540\nLet me find that and op,\nthere it is okay let me install that.\n\n506\n00:23:36.540 --> 00:23:38.540\nAnd it gets all the information\nright there from the server.\n\n507\n00:23:38.540 --> 00:23:41.130\nWe don't have to download stuff ourselves.\n\n508\n00:23:41.130 --> 00:23:42.120\nWhat if though?\n\n509\n00:23:42.120 --> 00:23:46.570\nWhat if you want to install software like\nWebmin that's not in the repository right?\n\n510\n00:23:46.570 --> 00:23:51.290\nIf I do Yum list Webmin, right?\n\n511\n00:23:51.290 --> 00:23:52.806\nWebmin's not in the repository.\n\n512\n00:23:52.806 --> 00:23:55.100\nNo matching packages to list.\n\n513\n00:23:55.100 --> 00:23:58.791\nEarlier in the show I installed it from\na copy I downloaded right here to my\n\n514\n00:23:58.791 --> 00:23:59.343\nmachine.\n\n515\n00:23:59.343 --> 00:24:02.854\nYUM is looking to the repositories though,\nand it doesn't exist there.\n\n516\n00:24:02.854 --> 00:24:05.650\nIt's not on red hat servers.\n\n517\n00:24:05.650 --> 00:24:09.883\nSo if I wanna install it, I can manually\ndownload and use RPM like we did a minute\n\n518\n00:24:09.883 --> 00:24:13.478\nago or that software developer\nmight have their own repository and\n\n519\n00:24:13.478 --> 00:24:15.298\na lot of software developers do.\n\n520\n00:24:15.298 --> 00:24:16.952\nIf you're buying software for\n\n521\n00:24:16.952 --> 00:24:20.540\nyour Linux servers then they\nmay have a repository for you.\n\n522\n00:24:20.540 --> 00:24:24.390\nAnd if I take a look at\nthat Webmin web page,\n\n523\n00:24:24.390 --> 00:24:26.340\nwhen I went to install it via the RPM.\n\n524\n00:24:27.550 --> 00:24:30.300\nSo we've got the download for\nthe RPM right there, but\n\n525\n00:24:30.300 --> 00:24:33.620\nif we look in the documentation for\nit, and we start kind of reading\n\n526\n00:24:33.620 --> 00:24:38.270\nhow to get it installed or whatever,\nthey actually have in here.\n\n527\n00:24:38.270 --> 00:24:39.180\nLet's see where is it.\n\n528\n00:24:41.500 --> 00:24:43.580\nThat's gonna take me\nright to source forge.\n\n529\n00:24:43.580 --> 00:24:46.820\nIn here somewhere they've actually got the\ninstructions on how to get it installed.\n\n530\n00:24:46.820 --> 00:24:50.750\nAnd they list where they have their\nown repository that we can tie to.\n\n531\n00:24:50.750 --> 00:24:52.008\nSo if I wanna do that.\n\n532\n00:24:52.008 --> 00:24:54.210\nIf I wanna pull it from their repository,\n\n533\n00:24:54.210 --> 00:24:56.190\nwhat I need to do is\ncreate a repo file for it.\n\n534\n00:24:56.190 --> 00:24:57.020\nAnd I've actually done that right here.\n\n535\n00:24:57.020 --> 00:24:59.170\nI've created a repo file.\n\n536\n00:24:59.170 --> 00:25:01.720\nAnd if we take a look at that file\n\n537\n00:25:05.600 --> 00:25:08.830\nput a name for it,\nI called it webmin distribution neutral.\n\n538\n00:25:08.830 --> 00:25:12.860\nAnd then a base URL,\ndownload.webmin.com/download/yum,\n\n539\n00:25:12.860 --> 00:25:15.520\nthis is tied to yum.\n\n540\n00:25:15.520 --> 00:25:18.350\nAnd then the mirror list,\nwhere it can get its mirrors from.\n\n541\n00:25:18.350 --> 00:25:22.440\nSo now, whenever I do a search for\nnew packages,\n\n542\n00:25:22.440 --> 00:25:26.210\ninstead of just searching the CentOS ones,\nI'll search the webmin repository also.\n\n543\n00:25:26.210 --> 00:25:27.764\nAnd now, I'll miraculously find webmin.\n\n544\n00:25:27.764 --> 00:25:31.497\nNow, my search failed a minute ago\nbecause I have enabled set to 0, so\n\n545\n00:25:31.497 --> 00:25:34.109\nI'm gonna come in here and\nchange enabled to 1.\n\n546\n00:25:35.350 --> 00:25:38.850\nAnd now, when I search for a package,\nit's gonna look at that repository.\n\n547\n00:25:38.850 --> 00:25:43.050\nSo up here I ran yum list webmin,\nand I found nothing.\n\n548\n00:25:43.050 --> 00:25:49.710\nNow, I'm gonna run yum list webmin, and\nthis time it's gonna find something.\n\n549\n00:25:49.710 --> 00:25:53.800\nRight there.\nWebmin no architecture version 1.740-1.\n\n550\n00:25:53.800 --> 00:25:58.056\nThe cool part here is when an update comes\nout, they'll update the repository and\n\n551\n00:25:58.056 --> 00:26:01.250\nI can just have yum\nautomatically update my system.\n\n552\n00:26:01.250 --> 00:26:05.170\nSo now, if I do a sudo yum install webmin,\n\n553\n00:26:06.170 --> 00:26:09.270\nit's gonna install webmin right from\nthat repository, there it goes.\n\n554\n00:26:09.270 --> 00:26:10.610\nWe'll bring that in.\n\n555\n00:26:10.610 --> 00:26:12.910\nAnd it's gonna download it and\nit's gonna install it.\n\n556\n00:26:12.910 --> 00:26:18.100\nAnd once that's done in the future,\nall I have to do is go and do YUM update.\n\n557\n00:26:18.100 --> 00:26:22.270\nNow, actually I gotta failure right there,\npublic key for webmin is not installed.\n\n558\n00:26:22.270 --> 00:26:24.860\nIt tried to verify it, and it failed.\n\n559\n00:26:24.860 --> 00:26:26.115\nSo I got two choices here.\n\n560\n00:26:26.115 --> 00:26:28.895\nOne, I could go and\ndisable the gpg check right in the repo\n\n561\n00:26:28.895 --> 00:26:31.625\nfile I could put in there gpg check\nequals zero, and knock that out.\n\n562\n00:26:31.625 --> 00:26:34.035\nNot a great idea though.\n\n563\n00:26:34.035 --> 00:26:37.595\nThe better thing would be to get the key\nfrom that developer and he's got one.\n\n564\n00:26:37.595 --> 00:26:38.487\nDo I have the?\n>> Yep.\n\n565\n00:26:38.487 --> 00:26:39.277\n>> I got it.\n\n566\n00:26:39.277 --> 00:26:41.805\nLet me get that real quick.\n\n567\n00:26:41.805 --> 00:26:44.027\nSo I'm gonna download the key from him.\n\n568\n00:26:44.027 --> 00:26:46.855\nYou wanna make sure you download\nthe key directly from the developer not\n\n569\n00:26:46.855 --> 00:26:47.565\nfrom a mirror.\n\n570\n00:26:47.565 --> 00:26:49.465\nIf you get it from a mirror it\ncould have been tampered with.\n\n571\n00:26:50.530 --> 00:26:52.800\nSo I'm gonna pull it right from him.\n\n572\n00:26:54.050 --> 00:26:58.549\nAnd it's just jcameron-key.asc.\n\n573\n00:26:58.549 --> 00:27:01.390\nSo I'm gonna get a copy of that.\n\n574\n00:27:01.390 --> 00:27:05.380\nAnd then we actually do have to use\nthe rpm command to import that key.\n\n575\n00:27:05.380 --> 00:27:10.610\nYUM doesn't let us import it so\nI'm gonna do rmp -i or --import.\n\n576\n00:27:10.610 --> 00:27:11.225\nSame thing.\n\n577\n00:27:11.225 --> 00:27:11.991\nWhoops!\n\n578\n00:27:11.991 --> 00:27:13.663\nIt's the same thing if I type it right.\n\n579\n00:27:13.663 --> 00:27:15.811\n>> [LAUGH]\n>> And we're gonna import that one in.\n\n580\n00:27:15.811 --> 00:27:17.704\nAnd we'll specify that key.\n\n581\n00:27:19.642 --> 00:27:21.987\nAnd oh, I need to sudo.\n\n582\n00:27:21.987 --> 00:27:23.610\nI don't have permission,\nso that's not gonna run.\n\n583\n00:27:23.610 --> 00:27:24.710\nThere we go.\n\n584\n00:27:24.710 --> 00:27:26.040\nNow, I've got the key.\n\n585\n00:27:26.040 --> 00:27:31.450\nSo now, if I do sudo yum install webmin,\nit's gonna search all of the repositories,\n\n586\n00:27:31.450 --> 00:27:35.230\nit's searching CentOS repositories\nas well as the web in repositories.\n\n587\n00:27:35.230 --> 00:27:40.160\nIt finds it, I go in to install it,\nafter it downloads it will do\n\n588\n00:27:40.160 --> 00:27:43.430\nthe gpg check which should pass\nthis time because I have this key,\n\n589\n00:27:43.430 --> 00:27:46.040\nI can verify it hasn't been tampered\nwith and then it'll install.\n\n590\n00:27:47.470 --> 00:27:48.410\nAssuming I didn't screw it up.\n\n591\n00:27:48.410 --> 00:27:49.098\n>> Yeah.\n[LAUGH]\n\n592\n00:27:49.098 --> 00:27:49.818\n>> There's always room for that.\n\n593\n00:27:49.818 --> 00:27:51.165\n>> Yeah, it happens from time to time.\n\n594\n00:27:51.165 --> 00:27:53.938\n>> [LAUGH]\n>> Now, this is really cool though because\n\n595\n00:27:53.938 --> 00:27:57.484\nof I was running a business or\nmaybe we're an IT support team where\n\n596\n00:27:57.484 --> 00:28:01.804\nwe've got a bunch of Linux servers and\nwe need to do something like update them,\n\n597\n00:28:01.804 --> 00:28:06.150\nwe could set one server to have all those\nfiles that we need and have host our own.\n\n598\n00:28:06.150 --> 00:28:09.140\nMaybe if we're building our own packages,\ndeveloping our own software.\n\n599\n00:28:09.140 --> 00:28:12.840\nSet up a Linux server, put all that\non there, create one of these files.\n\n600\n00:28:12.840 --> 00:28:15.230\nAnd then they could just pull right from\nit, every body has got the right key,\n\n601\n00:28:15.230 --> 00:28:17.740\nthey can do all this stuff very,\nvery handle idle.\n\n602\n00:28:17.740 --> 00:28:18.800\n>> Yeah, those repositories.\n\n603\n00:28:18.800 --> 00:28:21.582\nThey're just like FTP or web servers,\nthere's nothing special about them.\n\n604\n00:28:21.582 --> 00:28:22.836\nThey just have all\nthe files in a directory.\n\n605\n00:28:22.836 --> 00:28:24.032\nYou can build your own repository.\n\n606\n00:28:24.032 --> 00:28:26.080\nAmazon did it.\n\n607\n00:28:26.080 --> 00:28:31.730\nAmazon has their own Amazon Linux\nimage that they use inside of EC2.\n\n608\n00:28:31.730 --> 00:28:34.070\nAnd it's CentOS which is based on Redhat.\n\n609\n00:28:34.070 --> 00:28:38.520\nThey have their own repository so\nthey can serve the update files\n\n610\n00:28:38.520 --> 00:28:41.810\nlocally instead of having to go out and\ndownload them from the CentOS servers or\n\n611\n00:28:41.810 --> 00:28:45.200\nwhatever all the time, so\nthere's an advantage to that.\n\n612\n00:28:45.200 --> 00:28:50.747\nNow, I am noticing that in\nthe repository it's version 1.74,\n\n613\n00:28:50.747 --> 00:28:53.970\nbut the one I downloaded was 1.75.\n\n614\n00:28:53.970 --> 00:28:57.104\nSo it looks like the author\nhas pushed an update out and\n\n615\n00:28:57.104 --> 00:29:01.120\nnot updated his repository so\nthis one might not be as stable.\n\n616\n00:29:01.120 --> 00:29:03.710\nThis might be like a dev release\nas opposed to a stable release.\n\n617\n00:29:03.710 --> 00:29:05.646\nUsually the repositories\nhave stable stuff or\n\n618\n00:29:05.646 --> 00:29:08.782\nhe might have just forgotten to update it,\nso I might email the guy and say.\n\n619\n00:29:08.782 --> 00:29:09.305\n>> He's got to work.\n\n620\n00:29:09.305 --> 00:29:10.547\n>> Yep-\n>> [LAUGH]\n\n621\n00:29:10.547 --> 00:29:11.185\n>> Get to work.\n\n622\n00:29:11.185 --> 00:29:15.080\n>> All right, Don we've covered YUM and\nit's obviously the next generation.\n\n623\n00:29:15.080 --> 00:29:18.450\nThis is the highest evolution\nof in package installation.\n\n624\n00:29:18.450 --> 00:29:19.890\nVery cool.\n\n625\n00:29:19.890 --> 00:29:22.440\nI love that we can just\nuse simple commands and\n\n626\n00:29:22.440 --> 00:29:26.370\nrpm can get kind of convoluted from time\nto time and of course that whole making\n\n627\n00:29:26.370 --> 00:29:31.160\nstuff from source is definitely a little\nmore in depth and detailed than this.\n\n628\n00:29:31.160 --> 00:29:32.655\nBut very cool stuff.\n\n629\n00:29:32.655 --> 00:29:34.610\n>> Yeah, and\nyou say it's the next generation.\n\n630\n00:29:34.610 --> 00:29:38.240\nIt won't be on the exam unless you\nare watching this episode years from now.\n\n631\n00:29:38.240 --> 00:29:38.860\n>> [LAUGH]\n>> But\n\n632\n00:29:38.860 --> 00:29:42.220\nthey're actually working on a replacement\nfor yum right now called DNF.\n\n633\n00:29:42.220 --> 00:29:47.138\nAnd so in the next probably three to four\nyears, we'll probably see DNF take over as\n\n634\n00:29:47.138 --> 00:29:51.529\nthe primary package manager bit it's not-\n>> Not on the table yet.\n\n635\n00:29:51.529 --> 00:29:53.072\n>> Anywhere near there right now,\nyou don't wanna use-\n\n636\n00:29:53.072 --> 00:29:53.606\n>> [LAUGH]\n\n637\n00:29:53.606 --> 00:29:54.442\n>> It in production right now.\n\n638\n00:29:54.442 --> 00:29:55.104\n>> Cool.\n\n639\n00:29:55.104 --> 00:29:57.510\n>> But that's all I've got on RPM and YUM.\n\n640\n00:29:57.510 --> 00:30:01.080\nBe aware though, that to be in systems,\nthey have different package managers so\n\n641\n00:30:01.080 --> 00:30:03.510\nwe'll have another episode\ncoming up to cover those.\n\n642\n00:30:03.510 --> 00:30:04.240\nStay tuned for that.\n\n643\n00:30:04.240 --> 00:30:06.270\nBut otherwise,\nthat's all I've got on RPM and YUM.\n\n644\n00:30:06.270 --> 00:30:07.840\n>> Well,\nI guess that's all we got for today.\n\n645\n00:30:07.840 --> 00:30:09.120\nHope everybody enjoyed the show.\n\n646\n00:30:09.120 --> 00:30:10.440\nI know we sure did.\n\n647\n00:30:10.440 --> 00:30:13.850\nSo signing off for ITProTV,\nI've been your host Daniel Lowry.\n\n648\n00:30:13.850 --> 00:30:14.800\n>> And I'm Don Pezet.\n\n649\n00:30:14.800 --> 00:30:15.708\n>> We'll see you next time.\n\n650\n00:30:15.708 --> 00:30:22.700\n[MUSIC]\n\n",
          "vimeoId": "128989513"
        },
        {
          "description": "In this episode, Daniel and Don explain package management when using Debian Linux distributions. They describe the different Debian package management systems like dpkg, apt-get, dselect, and aptitude; how to use them to install, configure, and remove software from your Linux system.",
          "length": "1624",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-2-2-using_debian_packages-052215.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-2-2-using_debian_packages-052215-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-2-2-using_debian_packages-052215-sm.jpg",
          "title": "Using Debian Packages",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.032 --> 00:00:15.091\nAll right everyone, greetings and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.091 --> 00:00:16.650\nI'll be your host, Daniel Lowry.\n\n4\n00:00:16.650 --> 00:00:19.451\nHere with me today, my good friend and\ncolleague, Mr. Don Pizet.\n\n5\n00:00:19.451 --> 00:00:20.540\nHow you doing today, Don?\n\n6\n00:00:20.540 --> 00:00:23.340\n>> I'm doing just swell, Daniel,\nI'm kind of excited about today's episode,\n\n7\n00:00:23.340 --> 00:00:26.950\nbecause it's sort of a part two\nto an episode we did earlier on\n\n8\n00:00:26.950 --> 00:00:28.340\npackage management in Linux.\n\n9\n00:00:28.340 --> 00:00:32.380\nIf you've been watching our episodes in\norder, we did an episode on using RPM,\n\n10\n00:00:32.380 --> 00:00:34.070\nthe Red Hat package manager.\n\n11\n00:00:34.070 --> 00:00:38.640\nAnd that's great if you're on a centOS or\na Red Hat-based operating system,\n\n12\n00:00:38.640 --> 00:00:40.330\ndistribution that's based on that.\n\n13\n00:00:40.330 --> 00:00:43.290\nBut a lot of distributions\ntoday like Ubuntu,\n\n14\n00:00:43.290 --> 00:00:46.305\nwhich is one of the most popular\nthey're based on Debian, and\n\n15\n00:00:46.305 --> 00:00:49.415\nDebian doesn't have RPM and\nyum and those utilities.\n\n16\n00:00:49.415 --> 00:00:53.085\nThey have a completely different set of\npackage management utilities available,\n\n17\n00:00:53.085 --> 00:00:55.735\nand so that's what we're gonna be\ntaking a look at in this episode,\n\n18\n00:00:55.735 --> 00:00:58.682\nall the other things that we used\nwhen we're on a Debian-based system.\n\n19\n00:00:58.682 --> 00:01:02.572\nAnd Daniel, I was thinking Ubuntu and,\nwell, Debian itself, but\n\n20\n00:01:02.572 --> 00:01:03.492\nthere's plenty others, right?\n\n21\n00:01:03.492 --> 00:01:05.372\n>> Yeah, there's Knoppix,\nI think is one of them.\n\n22\n00:01:05.372 --> 00:01:09.756\nUses that live distribution that\nyou used to get a lot of playtime.\n\n23\n00:01:09.756 --> 00:01:13.176\nAlso Mints, I use Mints as well,\nit's a Debian-based operating system.\n\n24\n00:01:13.176 --> 00:01:15.396\nI really like it a lot,\nit does really well for me.\n\n25\n00:01:15.396 --> 00:01:18.346\n>> So if you sit down on the computer and\nyou run yum update and nothing comes back,\n\n26\n00:01:18.346 --> 00:01:21.146\nthen you're like well, all right,\nmaybe I'm on a Debian-based distro.\n\n27\n00:01:21.146 --> 00:01:22.386\nSo in that scenario,\n\n28\n00:01:22.386 --> 00:01:25.043\nyou've got two other commands that\nyou really need to be familiar with.\n\n29\n00:01:25.043 --> 00:01:27.183\nIt's really very similar\nto the Red Hat world.\n\n30\n00:01:27.183 --> 00:01:32.613\nFirst off, we have a utility called DPKG\nwhich is the Debien package utility.\n\n31\n00:01:32.613 --> 00:01:37.490\nDPKG was the original utility that was\njust designed to install a package and\n\n32\n00:01:37.490 --> 00:01:38.470\nthat's really all it did.\n\n33\n00:01:38.470 --> 00:01:40.930\nIt didn't do dependency checking or\nanything else crazy,\n\n34\n00:01:40.930 --> 00:01:43.220\njust straight up install and\nuninstall packages.\n\n35\n00:01:43.220 --> 00:01:48.490\nVery similar to the RPM utility under Red\nHat and it's actually run the same way.\n\n36\n00:01:48.490 --> 00:01:50.880\nIf you wanted to install software,\nfirst off you'd go out and\n\n37\n00:01:50.880 --> 00:01:53.290\nyou'd download a Debian package.\n\n38\n00:01:53.290 --> 00:01:55.150\nThen, you'd DPKG to install it.\n\n39\n00:01:55.150 --> 00:01:57.050\nNow the Debian package, it's just a file.\n\n40\n00:01:57.050 --> 00:02:01.200\nIt's an archive, and it ends in\n.deb traditionally, and inside of\n\n41\n00:02:01.200 --> 00:02:04.150\nthat archive it's got all of the files\nthat are related to a particular program.\n\n42\n00:02:04.150 --> 00:02:06.000\nSo, for example, in the other episode,\n\n43\n00:02:06.000 --> 00:02:09.590\nI was installing a web-based server\nmanagement utility called webmin.\n\n44\n00:02:09.590 --> 00:02:12.470\nLet's say I wanted to install\nthat here on a Debian box, right?\n\n45\n00:02:12.470 --> 00:02:15.360\nSo, first off I'd go to\nthat vendor's website.\n\n46\n00:02:15.360 --> 00:02:16.930\nSo here I am on the Webmin website.\n\n47\n00:02:16.930 --> 00:02:19.900\nAnd they've got instructions for\ninstalling on Debian right here.\n\n48\n00:02:19.900 --> 00:02:22.564\nThe very first one is just\ndownload the Debian package.\n\n49\n00:02:22.564 --> 00:02:24.364\nThe package for Webmins.\n\n50\n00:02:24.364 --> 00:02:27.742\nSo here's Webmin version 1.750_all.\n\n51\n00:02:27.742 --> 00:02:32.420\nThat _all, that's talking about\nthe architecture this is designed for.\n\n52\n00:02:32.420 --> 00:02:37.420\nYou might see AMD64 if it's designed for\nIntel or AMD64-bit systems.\n\n53\n00:02:37.420 --> 00:02:43.460\nYou might see I386 if it's designed for\nnon-64-bit or 32-bit systems.\n\n54\n00:02:43.460 --> 00:02:45.743\nThen you might see all if it\nhas no architecture dependence.\n\n55\n00:02:45.743 --> 00:02:47.891\nThere's ARM7.\n\n56\n00:02:47.891 --> 00:02:49.114\nThere's a few others that might show\n\n57\n00:02:49.114 --> 00:02:50.830\nup depending on the type\nof processor you have.\n\n58\n00:02:50.830 --> 00:02:53.910\nAnd then .deb lets me know\nthat's a Debian package.\n\n59\n00:02:53.910 --> 00:02:56.100\nSo I can then install it using DPKG.\n\n60\n00:02:56.100 --> 00:02:59.993\nGee, they give that example right there,\ndpkg --install and\n\n61\n00:02:59.993 --> 00:03:02.930\nthen the package that you wanna install.\n\n62\n00:03:02.930 --> 00:03:06.240\nSo, I've already downloaded that here.\n\n63\n00:03:06.240 --> 00:03:06.900\nOops.\n\n64\n00:03:06.900 --> 00:03:08.290\nSo there's my file.\n\n65\n00:03:08.290 --> 00:03:12.810\nAnd so if I run dpkg, I'll just pull\nup the help file real quick, and\n\n66\n00:03:12.810 --> 00:03:15.050\nyou can see all the different\nsyntax attached to it.\n\n67\n00:03:15.050 --> 00:03:17.991\nAnd for the most part,\nwhat we wanna do is install or remove, or\n\n68\n00:03:17.991 --> 00:03:20.279\nmaybe query some information about it,\nright?\n\n69\n00:03:20.279 --> 00:03:22.392\nThere's not a whole heck of a lot\nthat we normally do with this.\n\n70\n00:03:22.392 --> 00:03:25.420\nBut we would say dpkg --install, and\n\n71\n00:03:25.420 --> 00:03:30.470\nthen the package file that\nwe're gonna be installing.\n\n72\n00:03:30.470 --> 00:03:31.290\nIt's gonna run.\n\n73\n00:03:31.290 --> 00:03:31.930\nIt's gonna install.\n\n74\n00:03:31.930 --> 00:03:33.858\nYou do need to be administrator.\n\n75\n00:03:33.858 --> 00:03:35.760\n>> [LAUGH]\n>> So I need to do a little sudo\n\n76\n00:03:35.760 --> 00:03:36.340\nto get that.\n\n77\n00:03:36.340 --> 00:03:38.920\n>> You need the power Don [LAUGH].\n\n78\n00:03:38.920 --> 00:03:40.970\n>> There we go and it's gonna install it.\n\n79\n00:03:40.970 --> 00:03:44.790\nNow, be aware that it's not\ninstalling the dependencies.\n\n80\n00:03:44.790 --> 00:03:47.710\nSo if this package depends on something\nelse, the installation might fail.\n\n81\n00:03:47.710 --> 00:03:49.570\nAnd it'll just fail and\nthat's the end of it.\n\n82\n00:03:49.570 --> 00:03:53.710\nSo in the DPKG days, these are the early\ndays, you had to do everything by hand.\n\n83\n00:03:53.710 --> 00:03:55.320\nYou had to go and\nfind all the dependencies and\n\n84\n00:03:55.320 --> 00:03:57.760\ninstall those first before\nyou installed this.\n\n85\n00:03:57.760 --> 00:03:59.460\nSo it's not a true package manager,\n\n86\n00:03:59.460 --> 00:04:01.630\nit doesn't maintain a database and\nall that stuff.\n\n87\n00:04:01.630 --> 00:04:03.010\nIt's just a package utility.\n\n88\n00:04:03.010 --> 00:04:06.110\nIt installs packages,\nit uninstalls packages, and that's it.\n\n89\n00:04:06.110 --> 00:04:06.950\n>> Very simple stuff.\n\n90\n00:04:06.950 --> 00:04:12.270\nNow, it does look a lot like the RPM\nManagement Admin System that we had\n\n91\n00:04:12.270 --> 00:04:13.250\nback in our Red Hat days.\n\n92\n00:04:13.250 --> 00:04:16.730\nI know that I cut my teeth in\npackage management with RPM as well.\n\n93\n00:04:16.730 --> 00:04:22.140\nSo it wasn't too difficult to dive in\na little bit with this DPKG system and\n\n94\n00:04:22.140 --> 00:04:22.960\nstart to move around.\n\n95\n00:04:22.960 --> 00:04:25.200\nAnd they do make it very descriptive, but\n\n96\n00:04:25.200 --> 00:04:28.230\nI love that the help\nfile does say --install.\n\n97\n00:04:28.230 --> 00:04:30.280\nIt's kind of difficult to mess that up.\n\n98\n00:04:30.280 --> 00:04:32.080\n>> Yeah.\n>> It's very easy that way.\n\n99\n00:04:32.080 --> 00:04:36.610\n>> And then we can just do like DPKG\ndash dash remove to uninstall, right?\n\n100\n00:04:36.610 --> 00:04:39.920\nTo remove that package and get it out of\nthere and it's going to removing it again.\n\n101\n00:04:39.920 --> 00:04:41.900\nIt doesn't track dependencies.\n\n102\n00:04:41.900 --> 00:04:44.758\nIf there was a dependency that\nwas installed beforehand,\n\n103\n00:04:44.758 --> 00:04:47.740\nit doesn't really know that,\nand so it leaves them behind.\n\n104\n00:04:47.740 --> 00:04:50.960\nNot the most powerful utility, but\nit definitely has its purposes.\n\n105\n00:04:50.960 --> 00:04:54.630\nWe can look at a few\nother things with DPKG.\n\n106\n00:04:54.630 --> 00:04:59.010\nYou can do dpkg-L,\nwhich is the list command.\n\n107\n00:04:59.010 --> 00:05:01.970\nThat'll list all the packages you\nhave installed on your system so\n\n108\n00:05:01.970 --> 00:05:03.650\nwe can get a quick look at that.\n\n109\n00:05:03.650 --> 00:05:06.500\nYou know,\nit's not really tracking anything for\n\n110\n00:05:06.500 --> 00:05:10.360\nus other than what packages are present\nin the little cache directory.\n\n111\n00:05:10.360 --> 00:05:14.000\nBut we can see most of these have\nan architecture of AMD 64 cuz I'm\n\n112\n00:05:14.000 --> 00:05:15.190\non a 64-bit system.\n\n113\n00:05:15.190 --> 00:05:17.010\nAnd other ones have that\narchitecture of all.\n\n114\n00:05:17.010 --> 00:05:18.900\nI shouldn't have any 32-bit stuff.\n\n115\n00:05:18.900 --> 00:05:20.093\nAt least I don't think so.\n\n116\n00:05:21.578 --> 00:05:26.003\nLet's see that -L, we can do -I webmin.\n\n117\n00:05:26.003 --> 00:05:27.547\nOr I just uninstalled webmin didn't I?\n\n118\n00:05:27.547 --> 00:05:28.370\n>> You did.\n\n119\n00:05:28.370 --> 00:05:32.481\n>> We can do HTTPD,\nlooks like I need to be admin.\n\n120\n00:05:32.481 --> 00:05:34.767\nAnd so we can look for one of those.\n\n121\n00:05:34.767 --> 00:05:35.847\nIs it not called that?\n\n122\n00:05:35.847 --> 00:05:38.204\nWell we can do zsh right there.\n\n123\n00:05:38.204 --> 00:05:39.932\nSo dpkg-I and look for one, and\n\n124\n00:05:39.932 --> 00:05:42.940\nsee I'm getting errors when\nit's encountering this.\n\n125\n00:05:42.940 --> 00:05:44.050\nIt's looking for different things.\n\n126\n00:05:45.100 --> 00:05:47.420\nAnd-\n>> Oh, you're trying to get install.\n\n127\n00:05:47.420 --> 00:05:48.280\n>> Trying to get install.\n\n128\n00:05:48.280 --> 00:05:49.260\n>> It's the capital I,\n\n129\n00:05:49.260 --> 00:05:51.780\nit's the one thing you gotta worry\nabout when it comes to Linux.\n\n130\n00:05:51.780 --> 00:05:55.840\nIt's something you got be very\nmindful of it is case sensitive.\n\n131\n00:05:55.840 --> 00:05:58.037\nA lot of times a dash I small or\nlowercase and\n\n132\n00:05:58.037 --> 00:06:02.140\na dash upper case I are completely two\ndifferent things, so easy thing to make.\n\n133\n00:06:02.140 --> 00:06:02.860\nWe all do it.\n\n134\n00:06:02.860 --> 00:06:04.235\nHands up.\nI'm guilty as charged.\n\n135\n00:06:04.235 --> 00:06:05.240\n[LAUGH]\n>> Yeah, and so\n\n136\n00:06:05.240 --> 00:06:09.445\nhere I'm just doing HTTPD-l,\nanother one easy to mix up with an I and\n\n137\n00:06:09.445 --> 00:06:13.325\nI'm getting just that little additional\ninformation about that package for ZSH so\n\n138\n00:06:13.325 --> 00:06:17.035\nyou can start to have spot information and\nkind of get a little bit out of it.\n\n139\n00:06:17.035 --> 00:06:20.545\nJust remember DKGB by itself,\nnot very powerful, so\n\n140\n00:06:20.545 --> 00:06:23.553\nwe're normally gonna use something\na heck of a lot more powerful.\n\n141\n00:06:23.553 --> 00:06:28.410\nAnd in Debian, where we really\nget our package management power\n\n142\n00:06:28.410 --> 00:06:32.110\nis from a utility called apt-get alright?\n\n143\n00:06:32.110 --> 00:06:35.050\nApt get is a true package\nmanagement utility.\n\n144\n00:06:35.050 --> 00:06:38.220\nBehind the scenes,\nit's actually using DPKG, right?\n\n145\n00:06:38.220 --> 00:06:41.860\nBut it's adding to it\ntrue package management.\n\n146\n00:06:41.860 --> 00:06:44.630\nIt maintains the database,\nit tracks dependencies.\n\n147\n00:06:44.630 --> 00:06:47.490\nWhen you install an application,\nif it needs additional dependencies,\n\n148\n00:06:47.490 --> 00:06:48.600\nit'll add those in.\n\n149\n00:06:48.600 --> 00:06:51.490\nWhen you uninstall it, if the dependencies\naren't needed anymore, it'll remove those.\n\n150\n00:06:51.490 --> 00:06:54.550\nSo it's much more powerful\nthan just regular DPKG.\n\n151\n00:06:54.550 --> 00:06:59.390\n>> Yeah, this was definitely one\nof Linux's, well, it's not good.\n\n152\n00:06:59.390 --> 00:07:00.870\nPeople don't like this part about it.\n\n153\n00:07:00.870 --> 00:07:04.110\nEspecially back in the day,\nlike when Don and I started using it,\n\n154\n00:07:04.110 --> 00:07:06.890\nbuilding from source, you had to find\ndependencies, it would throw errors.\n\n155\n00:07:06.890 --> 00:07:09.920\nYou've gotta read through the error and\nsay oh, okay, I'm missing this.\n\n156\n00:07:09.920 --> 00:07:11.130\nAnd I gotta go find that, download and\n\n157\n00:07:11.130 --> 00:07:13.560\ninstall that, configure and\ninstall that as well.\n\n158\n00:07:13.560 --> 00:07:15.010\nBing, bing, bing, it's a lot of work.\n\n159\n00:07:15.010 --> 00:07:19.110\nSo package management, especially apt-get,\nI'm a huge fan of the apt-get system.\n\n160\n00:07:19.110 --> 00:07:21.796\n>> Yeah, and the best part about it,\nwhen you talk about DPKG,\n\n161\n00:07:21.796 --> 00:07:24.600\nit's installing a package that\nyou've already downloaded.\n\n162\n00:07:24.600 --> 00:07:26.458\nSo, if you wanna do an update or whatever,\n\n163\n00:07:26.458 --> 00:07:29.879\nyou gotta go download that Debian package\nfirst, and then install with DPKG.\n\n164\n00:07:29.879 --> 00:07:34.030\nWith apt-get, it can clear your\nrepositories out there on the internet.\n\n165\n00:07:34.030 --> 00:07:37.890\nSo it can look out and find the latest\nversion for us automatically and\n\n166\n00:07:37.890 --> 00:07:39.090\nthat's really sweet.\n\n167\n00:07:39.090 --> 00:07:40.490\n>> So if I want to install something,\n\n168\n00:07:40.490 --> 00:07:43.120\nlike if I want to install,\ndo I already have lynx on this system?\n\n169\n00:07:43.120 --> 00:07:44.430\nLet's see.\n\n170\n00:07:44.430 --> 00:07:44.940\nI like lynx.\n\n171\n00:07:44.940 --> 00:07:46.880\nLynx is a text-based web browser.\n\n172\n00:07:46.880 --> 00:07:47.940\nAnd yeah, not installed.\n\n173\n00:07:47.940 --> 00:07:52.532\nSo I can just run apt-get install lynx and\nI can remember to sudo so\n\n174\n00:07:52.532 --> 00:07:54.800\nI get the elevated privileges.\n\n175\n00:07:54.800 --> 00:07:56.416\nAnd it's gonna go out on the internet.\n\n176\n00:07:56.416 --> 00:07:58.342\nIt's gonna find that package for me,\n\n177\n00:07:58.342 --> 00:08:00.980\nI don't have to go figure\nout where to download it.\n\n178\n00:08:00.980 --> 00:08:04.290\nAnd it's gonna download it,\nit's gonna install it, there it goes.\n\n179\n00:08:04.290 --> 00:08:08.000\nAnd if there's any dependencies, it's\ngonna find those and install them too, and\n\n180\n00:08:08.000 --> 00:08:12.280\nbefore we're done,\nit knocks it all out and that's it.\n\n181\n00:08:12.280 --> 00:08:13.600\nNow I've got the links web browser and\n\n182\n00:08:13.600 --> 00:08:17.360\nI can browse to, let's see who's\nwebsite we'll render horribly today.\n\n183\n00:08:17.360 --> 00:08:19.310\nI think Google's actually\nrenders pretty well.\n\n184\n00:08:19.310 --> 00:08:22.573\nSo we'll go ahead and\nfire up old Google, there we go, and\n\n185\n00:08:22.573 --> 00:08:24.910\nnow I can do a text\nbased search on Google.\n\n186\n00:08:24.910 --> 00:08:27.260\nI can relive the-\n>> The glory days.\n\n187\n00:08:27.260 --> 00:08:29.047\n>> Early 1990s, yeah.\n>> That's worth the ticket price alone of\n\n188\n00:08:29.047 --> 00:08:30.038\nthe AppGet system,\n>> [LAUGH]\n\n189\n00:08:30.038 --> 00:08:31.110\n>> I mean just saying.\n\n190\n00:08:31.110 --> 00:08:35.150\nI don't have to go search this thing down\nand maybe download from SourceForge and\n\n191\n00:08:35.150 --> 00:08:37.732\nget a lovely piece of software\nthat I probably don't want.\n\n192\n00:08:37.732 --> 00:08:38.737\n[LAUGH]\n>> Yeah.\n\n193\n00:08:38.737 --> 00:08:39.513\nThat is true.\n\n194\n00:08:39.513 --> 00:08:41.590\nAll right, so AppGet, much more powerful.\n\n195\n00:08:41.590 --> 00:08:44.625\nNow that repository piece is kind of\nan interesting thing to talk about,\n\n196\n00:08:44.625 --> 00:08:47.165\nbecause when you install Debian,\n\n197\n00:08:47.165 --> 00:08:52.315\nif you're installing from a CD,\nyour CD is your repository.\n\n198\n00:08:52.315 --> 00:08:54.005\nAnd during the install it\nasks you some questions.\n\n199\n00:08:54.005 --> 00:08:55.875\nIt says do you want to\nuse a network repository.\n\n200\n00:08:55.875 --> 00:08:58.760\nAnd a lot of times, I just say no,\nI'm just gonna use the CD to install.\n\n201\n00:08:58.760 --> 00:09:01.460\nSo, when you do an install of Debian,\nit may or\n\n202\n00:09:01.460 --> 00:09:03.950\nmay not be set to look\nout to the internet.\n\n203\n00:09:03.950 --> 00:09:06.930\nSo this is one of those areas where\nwe might need to change AppGet's\n\n204\n00:09:06.930 --> 00:09:09.940\nconfiguration a little bit to make sure\nthat it knows that it's okay to go out and\n\n205\n00:09:09.940 --> 00:09:13.140\nlook at the repositories on the internet.\n\n206\n00:09:13.140 --> 00:09:17.910\nYou can find that configuration\nburied away inside of /etc/apt,\n\n207\n00:09:17.910 --> 00:09:21.010\nthat's where it has all it's config files.\n\n208\n00:09:21.010 --> 00:09:25.200\nAnd if you look in there,\nyou'll find a file called sources.list.\n\n209\n00:09:25.200 --> 00:09:28.750\nThat's the list of repositories\nthat you're querying against.\n\n210\n00:09:28.750 --> 00:09:31.820\nAnd you can change it, you can add in\nother repositories, take some out,\n\n211\n00:09:31.820 --> 00:09:32.790\nyou can do whatever you want there.\n\n212\n00:09:32.790 --> 00:09:35.815\nAnd then there's the built in ones\nthat are in this folder right here,\n\n213\n00:09:35.815 --> 00:09:37.420\nsources.list.d.\n\n214\n00:09:37.420 --> 00:09:43.580\nIf I change into that, that folder, you'll\nsee it as a couple of files in here,\n\n215\n00:09:43.580 --> 00:09:48.900\nthat are like the get to be in dot list\nand the official package repositories.\n\n216\n00:09:48.900 --> 00:09:51.400\nThose are the official ones and they\ndon't want you to mess with those two.\n\n217\n00:09:51.400 --> 00:09:52.290\nYou leave them alone.\n\n218\n00:09:52.290 --> 00:09:55.150\nThat means you're reaching\nout to the Debian website.\n\n219\n00:09:55.150 --> 00:09:58.740\nBut if you chose no to doing a network\ninstall, or you're using a network\n\n220\n00:09:58.740 --> 00:10:02.710\nrepository during your install,\nthen these will actually be disabled.\n\n221\n00:10:02.710 --> 00:10:05.850\nAnd so you might need to come in here and\ntweak these a little bit.\n\n222\n00:10:05.850 --> 00:10:10.020\nSo, we might want to go in and\nedit this, and check.\n\n223\n00:10:10.020 --> 00:10:10.940\nAnd the repositories,\n\n224\n00:10:10.940 --> 00:10:13.870\nthey're just listed in here as\npointing to the web page, right?\n\n225\n00:10:13.870 --> 00:10:17.992\nSo I've got,\nhttp://packages.linuxmint.com, so\n\n226\n00:10:17.992 --> 00:10:21.520\nthis is a mint install, or\nubuntu right after that.\n\n227\n00:10:21.520 --> 00:10:24.480\nOr you might point to actually debian.org,\nor wherever.\n\n228\n00:10:24.480 --> 00:10:27.310\nSo, you're pointing to that installation,\nand\n\n229\n00:10:27.310 --> 00:10:30.780\nwhere it can get those files\nto be able to do the update.\n\n230\n00:10:30.780 --> 00:10:32.600\nIf you chose not to do a network install,\n\n231\n00:10:32.600 --> 00:10:35.010\nyou might have little pound symbols at\nthe beginning of each of these lines,\n\n232\n00:10:35.010 --> 00:10:38.750\nwhich is basically commenting the line\nout, and disabling that repository.\n\n233\n00:10:38.750 --> 00:10:40.990\nSo you'll probably want to turn that on.\n\n234\n00:10:40.990 --> 00:10:47.570\nBack here in the sources.list file,\nso /etc/apt/sources.list.\n\n235\n00:10:47.570 --> 00:10:51.180\nIf we take a look at that,\nthis is one that I always have to modify,\n\n236\n00:10:51.180 --> 00:10:58.720\nif you install it from a CD, the CD is\na repository, and so it adds it in here.\n\n237\n00:10:58.720 --> 00:11:02.470\nSee how i got this deb cdrom: blah,\nblah, blah?\n\n238\n00:11:02.470 --> 00:11:07.260\nRight, the problem here is every time I\ngo to install an app, it's gonna look for\n\n239\n00:11:07.260 --> 00:11:11.700\nthat CD, and if the CD's not there,\nit's gonna prompt me to mount the CD.\n\n240\n00:11:11.700 --> 00:11:13.320\nWell, I'm might not have\nthe CD with me anymore.\n\n241\n00:11:13.320 --> 00:11:15.890\nI might have used some ISO image and\nI don't have it anymore.\n\n242\n00:11:15.890 --> 00:11:17.250\nSo you'll probably want to come in and\n\n243\n00:11:17.250 --> 00:11:21.110\nthrow a hash right at the beginning\nof that, just a little pound symbol.\n\n244\n00:11:21.110 --> 00:11:23.590\nAnd that turns off the CD repository.\n\n245\n00:11:23.590 --> 00:11:25.520\nSo that's exactly how,\nthis is Daniel's server here, and\n\n246\n00:11:25.520 --> 00:11:26.770\nthat's how he's got it set up, right.\n\n247\n00:11:26.770 --> 00:11:29.940\nHe's disabled the CD repository, and\nhe's using the Internet repositories.\n\n248\n00:11:29.940 --> 00:11:30.840\nThat's what we normally want.\n\n249\n00:11:32.751 --> 00:11:35.510\n>> Well, let's see what else\ncan we do with good old AppGet?\n\n250\n00:11:35.510 --> 00:11:37.620\n>> Well, what if we want to\ninstall something that's not\n\n251\n00:11:37.620 --> 00:11:39.250\nin the repositories, right?\n\n252\n00:11:39.250 --> 00:11:41.850\nSo at the beginning of\nthe show I installed Webmin.\n\n253\n00:11:41.850 --> 00:11:44.310\nAnd I did that by downloading it, right?\n\n254\n00:11:44.310 --> 00:11:48.470\nI downloaded a copy of that package and\nI had it sitting right here.\n\n255\n00:11:48.470 --> 00:11:50.000\nBut what if I wanna pull\nit from a repository.\n\n256\n00:11:50.000 --> 00:11:52.080\nThe nice thing about\ncoming from a repository,\n\n257\n00:11:52.080 --> 00:11:54.230\nis we can do automatic updates, right?\n\n258\n00:11:54.230 --> 00:11:57.280\nYou know, you just query the repository,\nif there's a new version, you get it.\n\n259\n00:11:57.280 --> 00:12:00.930\nIf the repository is not on the list\nthough, we can add repositories.\n\n260\n00:12:00.930 --> 00:12:03.060\nYou can add more in there if you want.\n\n261\n00:12:03.060 --> 00:12:06.855\nAnd using Webmin as an example, sure they\ngave us the instructions right here for\n\n262\n00:12:06.855 --> 00:12:08.710\ndoing a straight up install, but\n\n263\n00:12:08.710 --> 00:12:12.920\nright beneath it,\nit's got if we wanna use their repository.\n\n264\n00:12:12.920 --> 00:12:17.560\nAnd you can add these lines\nto our sources.list file.\n\n265\n00:12:17.560 --> 00:12:22.420\nAnd now when AppGet runs, it'll go and\nlook there too and it can find Webmin and\n\n266\n00:12:22.420 --> 00:12:25.070\ndeal with the dependencies and\nget that stuff installed.\n\n267\n00:12:25.070 --> 00:12:27.500\nAnd it's just a matter of adding that in.\n\n268\n00:12:27.500 --> 00:12:35.470\nSo I'm gonna do where I\nedit /etc/apt/sources.list,\n\n269\n00:12:35.470 --> 00:12:40.240\nand I'm just gonna add those guys in,\nright here at the end, right?\n\n270\n00:12:40.240 --> 00:12:42.660\nSo I'm adding in those\ntwo Webmin repositories.\n\n271\n00:12:44.180 --> 00:12:45.080\nAnd I'll save that.\n\n272\n00:12:46.090 --> 00:12:50.190\nAnd then it does a little digital\nsignature check on the files to make sure\n\n273\n00:12:50.190 --> 00:12:53.030\nthey aren't tampered with, and that's what\nthe rest of his instructions are talking\n\n274\n00:12:53.030 --> 00:12:57.368\nabout here is downloading his key, and\nactually getting that key installed.\n\n275\n00:12:57.368 --> 00:12:59.440\nSo I'm gonna go ahead and\ndo that same thing.\n\n276\n00:12:59.440 --> 00:13:04.266\nI'll download the key and\nthen we'll get it installed.\n\n277\n00:13:04.266 --> 00:13:09.000\nSo to install it we just use, apt- key\nadd, and it'll add that key right in.\n\n278\n00:13:09.000 --> 00:13:11.340\nAnd now we can do digital\nsignature checks.\n\n279\n00:13:11.340 --> 00:13:13.330\nOops, kind of pseudo that one.\n\n280\n00:13:13.330 --> 00:13:14.380\nThere we go.\n\n281\n00:13:14.380 --> 00:13:16.610\nAnd so now I can do digital\nsignature checks to update that.\n\n282\n00:13:16.610 --> 00:13:21.990\nNow unlike the yum command which picks\nup it's repositories automatically,\n\n283\n00:13:21.990 --> 00:13:24.890\nwe have to tell apt-get to go and\nindex that depository.\n\n284\n00:13:24.890 --> 00:13:26.790\nIt's got to add it to its own database.\n\n285\n00:13:26.790 --> 00:13:29.300\nSo, that's why, if you look at these\ninstructions, the next thing it does,\n\n286\n00:13:29.300 --> 00:13:31.750\nis it does an update, and then installs.\n\n287\n00:13:31.750 --> 00:13:35.060\nWhy update,\nif I haven't installed it yet, and\n\n288\n00:13:35.060 --> 00:13:37.672\nwhat your updating there is\nactually updating the apt database.\n\n289\n00:13:37.672 --> 00:13:39.032\n>> Yeah,\n\n290\n00:13:39.032 --> 00:13:44.705\ncuz those names of the actual packages\nare stored locally on the computer, right?\n\n291\n00:13:44.705 --> 00:13:47.645\n>> If it wants to see that, it doesn't\nactually go out into the internet\n\n292\n00:13:47.645 --> 00:13:49.245\nto try to find those, unless you say hey,\n\n293\n00:13:49.245 --> 00:13:54.405\nI need you to update my list of good\npackages for my repository file.\n\n294\n00:13:54.405 --> 00:13:55.466\n>> Yep.\nSo I just ran.\n\n295\n00:13:55.466 --> 00:13:58.730\nI had to do a pseudo again,\nI keep forgetting to do that.\n\n296\n00:13:58.730 --> 00:14:04.580\nApp-getupdate,and now it's going querying\nall of the repositories in the list.\n\n297\n00:14:04.580 --> 00:14:06.750\nAnd downloading their package lists.\n\n298\n00:14:06.750 --> 00:14:09.440\nSo see how it's got that reading package\nlists, done right there at the end?\n\n299\n00:14:09.440 --> 00:14:12.900\nAnd if I scroll back on this\nsomewhere in all of this mess,\n\n300\n00:14:12.900 --> 00:14:14.430\nI guess I could have grapped it.\n\n301\n00:14:14.430 --> 00:14:18.540\nOh, actually right there is one of them,\nwhere it's querying Webmin.\n\n302\n00:14:18.540 --> 00:14:21.480\nAnd so it's learning about that\nrepository that's out there, and\n\n303\n00:14:21.480 --> 00:14:22.760\nthe files that are in it.\n\n304\n00:14:22.760 --> 00:14:27.412\nAnd so now if I wanna install\nsomething that Is hosted\n\n305\n00:14:27.412 --> 00:14:31.700\nby Debian, or mint, or whoever.\n\n306\n00:14:31.700 --> 00:14:34.820\nI can do apt-get install my SQL.\n\n307\n00:14:34.820 --> 00:14:36.986\nRight, I know that they've got my SQL.\n\n308\n00:14:36.986 --> 00:14:39.463\nIt'll download, it'll install,\nand we'll have it, right?\n\n309\n00:14:39.463 --> 00:14:41.250\nOh, I say that\n>> [LAUGH]\n\n310\n00:14:41.250 --> 00:14:42.066\n>> and it doesn't turn out,\n\n311\n00:14:42.066 --> 00:14:44.550\nit's probably my sqld.\n\n312\n00:14:44.550 --> 00:14:48.410\nWell, whatever it's called, oh, wait, I\nkeep forgetting, Debian, they're a little\n\n313\n00:14:48.410 --> 00:14:52.680\nmore stringent on following the GNU rules,\nand the open source licensing and stuff,\n\n314\n00:14:52.680 --> 00:14:56.460\nand I'm pretty sure they do\nmariadp now instead of MySQL.\n\n315\n00:14:56.460 --> 00:15:01.730\nWell, apparently I don't know that package\nname, but we can also do Webmin, and\n\n316\n00:15:01.730 --> 00:15:05.020\nit'll reach out, and\nit'll find that in that other repository.\n\n317\n00:15:05.020 --> 00:15:06.230\nAnd there it goes.\n\n318\n00:15:06.230 --> 00:15:09.210\nIt's going and downloading it and pulling\nit right from the vendor's website.\n\n319\n00:15:09.210 --> 00:15:13.110\nCool part here, is if an update comes out\nin the future, I don't have to go and\n\n320\n00:15:13.110 --> 00:15:14.620\ndownload that dev file.\n\n321\n00:15:14.620 --> 00:15:17.390\nI can just come in here and\ntell the system to update, right.\n\n322\n00:15:17.390 --> 00:15:20.823\nSo if I run an apt-get update or\n\n323\n00:15:20.823 --> 00:15:24.320\napt-get upgrade, it'll do that and\nknock that out for me.\n\n324\n00:15:25.710 --> 00:15:29.110\nAll right, you know I mentioned\nupgrade versus update, and\n\n325\n00:15:29.110 --> 00:15:31.040\nit's real easy to confuse those terms,\nright?\n\n326\n00:15:31.040 --> 00:15:33.190\nYou saw me do update.\n\n327\n00:15:33.190 --> 00:15:35.186\nUpdate went out to the repositories and\n\n328\n00:15:35.186 --> 00:15:37.919\nupdated my database to know\nwhat files are out there.\n\n329\n00:15:37.919 --> 00:15:40.413\nBut it didn't actually\ndownload anything so\n\n330\n00:15:40.413 --> 00:15:43.037\nif I'm trying to get new\nversions of software,\n\n331\n00:15:43.037 --> 00:15:47.649\nif I'm trying to update what's on my\nsystem, that's where the upgrade comes in.\n\n332\n00:15:47.649 --> 00:15:53.094\nAnd so I need to say Sudo apt-get upgrade.\n\n333\n00:15:53.094 --> 00:15:56.950\nUpdate lets me learn about the new\nversions that are out there,\n\n334\n00:15:56.950 --> 00:16:00.320\nupgrade will actually upgrade\nthem to the newest one.\n\n335\n00:16:00.320 --> 00:16:02.480\nReally easy to confuse those,\nespecially on the exam, so\n\n336\n00:16:02.480 --> 00:16:04.230\nmake sure you remember that difference.\n\n337\n00:16:04.230 --> 00:16:07.610\nBut it's gonna look and it's finding\nsome updates that are out there.\n\n338\n00:16:07.610 --> 00:16:09.740\nIt's listing all the packages\nthat are gonna be upgraded.\n\n339\n00:16:09.740 --> 00:16:12.490\nDaniel, you system was pretty up to date,\nthere's only-\n\n340\n00:16:12.490 --> 00:16:13.560\n>> I try to keep it tight.\n\n341\n00:16:13.560 --> 00:16:15.510\n>> Yeah.\nOnly a couple of packages there.\n\n342\n00:16:15.510 --> 00:16:16.700\nSo, we're go and say yes to that.\n\n343\n00:16:16.700 --> 00:16:17.200\nIt's only 13 megs.\n\n344\n00:16:17.200 --> 00:16:20.750\nSo, there it goes,\ngetting those packages and upgrading them.\n\n345\n00:16:20.750 --> 00:16:26.750\nNow, the cool part about AppGet is\nthat it can upgrade not just packages,\n\n346\n00:16:26.750 --> 00:16:29.060\nbut the whole operating system.\n\n347\n00:16:29.060 --> 00:16:32.190\nSo if a new version of DBN comes out, and\n\n348\n00:16:32.190 --> 00:16:36.580\nyou wanna upgrade to the latest version,\nwell you can have it do that.\n\n349\n00:16:36.580 --> 00:16:37.840\nI use the upgrade command, but\n\n350\n00:16:37.840 --> 00:16:42.770\nthere's also an upgrade-dist,\nwhich means upgrade the distribution.\n\n351\n00:16:42.770 --> 00:16:45.470\nThat'll upgrade your entire\noperating system to the next\n\n352\n00:16:45.470 --> 00:16:46.960\nversion that's been released.\n\n353\n00:16:46.960 --> 00:16:50.370\nSo if your running sarge and\nthen wheezy comes out or\n\n354\n00:16:50.370 --> 00:16:52.700\nwhatever crazy name they\ngive it this time around.\n\n355\n00:16:52.700 --> 00:16:56.410\nThen it's easy to do that upgrade\nright in place on the system and\n\n356\n00:16:56.410 --> 00:16:57.750\nget things moving along.\n\n357\n00:16:57.750 --> 00:17:00.190\nNow you might not want\nthat it just depends.\n\n358\n00:17:00.190 --> 00:17:05.455\nBut if I do like a pseudo\napt get upgrade-dist,\n\n359\n00:17:05.455 --> 00:17:08.100\nlike that, all right?\n\n360\n00:17:08.100 --> 00:17:10.530\nThat's gonna say, oops,\ndid I get that wrong?\n\n361\n00:17:10.530 --> 00:17:12.841\nI thought it was upgrade-dist.\n\n362\n00:17:12.841 --> 00:17:14.490\nDo I have that wrong, Daniel?\n\n363\n00:17:14.490 --> 00:17:18.030\nOh, it's dist-upgrade, I had it backwards.\n\n364\n00:17:18.030 --> 00:17:18.882\nThere we go.\n\n365\n00:17:18.882 --> 00:17:21.020\nApt-get dist-upgrade.\n\n366\n00:17:21.020 --> 00:17:23.228\n>> It should just know what we mean, Don.\n\n367\n00:17:23.228 --> 00:17:24.200\n[LAUGH]\n>> I know!\n\n368\n00:17:24.200 --> 00:17:29.080\nSo it'll check and see, is there a newer\nversion of DBN or Mint or Ubuntu or\n\n369\n00:17:29.080 --> 00:17:32.850\nwhatever it is that we're running, and\nif there is It'll upgrade at distribution,\n\n370\n00:17:32.850 --> 00:17:35.600\nlooks like we're on the current one,\nso nothing to do.\n\n371\n00:17:35.600 --> 00:17:36.100\n>> Yeah.\n\n372\n00:17:37.813 --> 00:17:39.470\n>> Now,\nthis is all in command-line, right.\n\n373\n00:17:39.470 --> 00:17:40.360\nI know that's your favorite.\n\n374\n00:17:40.360 --> 00:17:43.240\n>> I love it, I mean I couldn't\nlive without command-line.\n\n375\n00:17:43.240 --> 00:17:46.230\nAt least, what I do love about\ncommand-line is I do feel like I'm\n\n376\n00:17:46.230 --> 00:17:48.980\nactually engaged in with my computer,\nright.\n\n377\n00:17:48.980 --> 00:17:52.279\nI'm doing something with it and it kind\nof gives that mystique of the old, like,\n\n378\n00:17:52.279 --> 00:17:55.403\nthat guys like a hacker or something man,\nhe doesn't even touch the mouse.\n\n379\n00:17:55.403 --> 00:17:59.435\n[LAUGH]\n>> It makes it real special.\n\n380\n00:17:59.435 --> 00:18:01.710\n>> Well, for those of us that aren't so\n\n381\n00:18:01.710 --> 00:18:04.820\nkeen on typing out all the long\ncommands and remember things.\n\n382\n00:18:04.820 --> 00:18:08.430\nThere's numerous graphical front ends for\napt-get.\n\n383\n00:18:08.430 --> 00:18:11.510\nThere's even some that can be used right\nhere from inside of the command line.\n\n384\n00:18:11.510 --> 00:18:12.480\nSo I want to show you two of those.\n\n385\n00:18:12.480 --> 00:18:14.868\nOne is a little bit older,\na little more basic.\n\n386\n00:18:14.868 --> 00:18:18.980\nIt's called deselect, which I probably\nneed sudo to really get it to work.\n\n387\n00:18:18.980 --> 00:18:22.550\n>> So if I run deselect,\nit's going to launch this really,\n\n388\n00:18:22.550 --> 00:18:26.550\nits not truly a graphical user, but its\nkind of a menu driven system to go in and\n\n389\n00:18:26.550 --> 00:18:32.490\ndo updates, installs, to remove software,\nso if I want to remove web man,\n\n390\n00:18:32.490 --> 00:18:35.230\nI can go in and choose that, and\nwe can start to remove things.\n\n391\n00:18:35.230 --> 00:18:38.890\nSo its a very,\nvery limited user interface, right?\n\n392\n00:18:38.890 --> 00:18:41.140\nBut menu driven makes\nlife a little bit easier.\n\n393\n00:18:41.140 --> 00:18:43.110\n>> Not typing everything out,\nthat's always nice.\n\n394\n00:18:43.110 --> 00:18:46.050\n>> Yep.\nOne that's a little bit better though,\n\n395\n00:18:46.050 --> 00:18:47.240\nis aptitude.\n\n396\n00:18:47.240 --> 00:18:51.100\nAptitude has a very full featured user\ninterface right here in the command line,\n\n397\n00:18:51.100 --> 00:18:54.520\nand it's got a graphical correspondent\nthat's in the well in the GUI.\n\n398\n00:18:54.520 --> 00:18:56.035\nThat's kind of redundant I guess.\n\n399\n00:18:56.035 --> 00:18:57.930\n>> [LAUGH].\n>> But I'm gonna go ahead and run Well,\n\n400\n00:18:57.930 --> 00:19:03.610\nlet me sudo that one and run old aptitude,\nthe hardest part is spelling it.\n\n401\n00:19:03.610 --> 00:19:04.990\nAptitude, I am spelling it wrong.\n\n402\n00:19:04.990 --> 00:19:07.160\n>> A lot of t's and a lot of i's in there.\n\n403\n00:19:07.160 --> 00:19:08.750\n>> There we go, aptitude.\n\n404\n00:19:08.750 --> 00:19:12.850\nAnd, when we launch this,\nit did a quick query against the cache and\n\n405\n00:19:12.850 --> 00:19:14.900\nnow I get this nice menu driven option.\n\n406\n00:19:14.900 --> 00:19:16.560\nI've got new packages that are out there.\n\n407\n00:19:16.560 --> 00:19:17.610\nInstall packages.\n\n408\n00:19:17.610 --> 00:19:19.150\nNon install packages.\n\n409\n00:19:19.150 --> 00:19:20.500\nI can query certain tasks.\n\n410\n00:19:20.500 --> 00:19:21.580\nSet things up.\n\n411\n00:19:21.580 --> 00:19:25.410\nSo if I want to go in and do some kind\nof install or whatever we can do it and\n\n412\n00:19:25.410 --> 00:19:29.430\nyou will see up at the top of my\nscreen here there is shortcuts.\n\n413\n00:19:29.430 --> 00:19:32.830\nWe've got control t to pull up a menu,\nand then you've got g for\n\n414\n00:19:32.830 --> 00:19:37.440\ndownload/install/remove package,\nu for update, and so on.\n\n415\n00:19:37.440 --> 00:19:40.650\nSo, if I wanna do an update,\nI can just hit u and there it goes.\n\n416\n00:19:40.650 --> 00:19:44.500\nNow it's doing its update, it's reaching\nout, and it shouldn't have found anything,\n\n417\n00:19:44.500 --> 00:19:46.230\nwe just updated a minute ago, right?\n\n418\n00:19:46.230 --> 00:19:48.590\nSo, there it goes and it does that.\n\n419\n00:19:49.690 --> 00:19:52.390\nIt's refreshing it's cache\nto show the latest data.\n\n420\n00:19:52.390 --> 00:19:55.720\nAnd now we can start going through and\ndoing other things.\n\n421\n00:19:55.720 --> 00:19:57.860\nIf I hit g, now it's gonna come in and\n\n422\n00:19:57.860 --> 00:20:00.320\nshow the various packages\nthat are available, and\n\n423\n00:20:00.320 --> 00:20:03.270\nwe can go through and flag the ones to\ninstall, so we can install more than\n\n424\n00:20:03.270 --> 00:20:06.900\none package pretty easily, just by\nscrolling through here and selecting them.\n\n425\n00:20:06.900 --> 00:20:09.110\n>> Yeah,\nthat's really cool stuff right there.\n\n426\n00:20:09.110 --> 00:20:12.751\nI like it because it reminds me of\nthe old midnight commander [LAUGHS]\n\n427\n00:20:12.751 --> 00:20:14.340\n>> and if you hit control\n\n428\n00:20:14.340 --> 00:20:17.540\nt you'll find all these other different\noptions in here, like the resolver for\n\n429\n00:20:17.540 --> 00:20:19.540\nlooking for dependencies for packages.\n\n430\n00:20:19.540 --> 00:20:22.100\nYou can search because\nthese lists are huge so\n\n431\n00:20:22.100 --> 00:20:26.280\nif you want to try and find something\nlike, what do I want to install today?\n\n432\n00:20:26.280 --> 00:20:29.890\nLet's see if we can find if we can\nfind like an Opera package, right?\n\n433\n00:20:29.890 --> 00:20:32.950\nSo we can do a quick search there and\nsee if it can find anything for Opera, and\n\n434\n00:20:32.950 --> 00:20:37.020\nit looks like it did not, so\nmaybe that's not in their repository.\n\n435\n00:20:37.020 --> 00:20:38.410\n>> Nobody supports Opera, Don.\n\n436\n00:20:38.410 --> 00:20:39.010\nCome on.\n\n437\n00:20:39.010 --> 00:20:41.060\n[LAUGH]\n>> It's not the most popular browser.\n\n438\n00:20:41.060 --> 00:20:43.540\nBut you can find all sorts of\ndifferent things that way, and\n\n439\n00:20:43.540 --> 00:20:44.940\nstart to get them installed.\n\n440\n00:20:44.940 --> 00:20:46.150\nYou can even play Minesweeper.\n\n441\n00:20:47.180 --> 00:20:49.580\nIt's minesweeper in here, we can to there.\n\n442\n00:20:49.580 --> 00:20:52.060\nActually I don't remember the key to-\n>> To how to make it turn over.\n\n443\n00:20:52.060 --> 00:20:52.980\n>> Overturn something.\n\n444\n00:20:52.980 --> 00:20:54.700\n>> Yeah, but, oh well.\n\n445\n00:20:54.700 --> 00:20:56.060\n>> You lose.\n\n446\n00:20:56.060 --> 00:20:57.271\n>> I found the lose key.\n\n447\n00:20:57.271 --> 00:20:57.863\n>> [LAUGH]\n>> So\n\n448\n00:20:57.863 --> 00:21:00.960\nit's just a nice little GUI to\nmake life a little bit easier.\n\n449\n00:21:00.960 --> 00:21:03.910\nOn the exam, you likely won't see\nthe graphical user interface,\n\n450\n00:21:03.910 --> 00:21:05.650\nyou're gonna see those\ncommand line ones right.\n\n451\n00:21:05.650 --> 00:21:11.079\nDPKG which is the older non-dependency\nseeking one, and apt-get which is the much\n\n452\n00:21:11.079 --> 00:21:16.600\nmore powerful one that actually does check\nfor dependencies and all that good stuff.\n\n453\n00:21:17.970 --> 00:21:21.170\nAlright, I showed using\napt-get to install a package,\n\n454\n00:21:21.170 --> 00:21:24.685\nI didn't actually remove anything with it,\nbut we can certainly do that with\n\n455\n00:21:24.685 --> 00:21:30.230\napt-get remove, and then specify\nwho it is that we're removing.\n\n456\n00:21:30.230 --> 00:21:31.610\nSo I installed what, lynx?\n\n457\n00:21:31.610 --> 00:21:33.350\n>> Yeah.\n>> So we can, oh, gosh.\n\n458\n00:21:33.350 --> 00:21:34.345\n>> Don't forget that sudo!\n\n459\n00:21:34.345 --> 00:21:35.950\n[LAUGH]\n>> Gotta remember to be an admin\n\n460\n00:21:35.950 --> 00:21:37.080\nfor this stuff.\n\n461\n00:21:37.080 --> 00:21:41.130\nSo, it's gonna go and knock that out, and\nonce it does, the kinda cool part here is,\n\n462\n00:21:41.130 --> 00:21:43.940\nif there dependencies installed\nthat aren't needed anymore,\n\n463\n00:21:43.940 --> 00:21:45.610\nit's gonna yank those out too.\n\n464\n00:21:45.610 --> 00:21:47.730\nThat does save us a lot of trouble.\n\n465\n00:21:47.730 --> 00:21:50.230\n>> Yeah, those headaches on dependencies,\nthat gets you every time.\n\n466\n00:21:50.230 --> 00:21:52.040\nWhen you're trying to install something.\n\n467\n00:21:52.040 --> 00:21:54.100\nYou're like, I just want to, oh,\nthis is a nice little program,\n\n468\n00:21:54.100 --> 00:21:56.940\nlet me put that in my system,\nI could use that.\n\n469\n00:21:56.940 --> 00:22:00.000\nAnd you go to install it\nusing something like DPKG or\n\n470\n00:22:00.000 --> 00:22:02.270\nmaybe you're building it from source,\nand it errors out.\n\n471\n00:22:02.270 --> 00:22:02.860\nRight?\nIt says, oh,\n\n472\n00:22:02.860 --> 00:22:05.590\nI can't find these dependencies,\nI need these dependencies,\n\n473\n00:22:05.590 --> 00:22:06.600\nnothing's gonna work without them.\n\n474\n00:22:06.600 --> 00:22:09.220\nAnd you're like, oh,\nnow I gotta try to find that.\n\n475\n00:22:09.220 --> 00:22:10.220\nA lot of headache.\n\n476\n00:22:10.220 --> 00:22:13.920\nI've spent plenty of time running\ndown dependencies in libraries and\n\n477\n00:22:13.920 --> 00:22:17.560\nthings like that, so\nusing apt-get and it does, I love it.\n\n478\n00:22:17.560 --> 00:22:22.190\nI love just being able to go apt-get and\ninstall package, it does all that for me,\n\n479\n00:22:22.190 --> 00:22:24.200\nI don't have to worry about it so\nit's really great stuff.\n\n480\n00:22:24.200 --> 00:22:25.070\n>> Yeah.\n\n481\n00:22:25.070 --> 00:22:31.064\nOne last thing that I want to mention\nabout apt-get is when we do apt-get\n\n482\n00:22:31.064 --> 00:22:35.560\nupgrade, upgrade will\nnever remove a package.\n\n483\n00:22:35.560 --> 00:22:38.640\nSo when it goes to upgrade packages,\nit's gonna add things if it needs to,\n\n484\n00:22:38.640 --> 00:22:41.822\nit's gonna replace things with new ones,\nbut it will never remove a package.\n\n485\n00:22:41.822 --> 00:22:47.000\nApt-get dist-upgrade,\nthe one that does the distribution.\n\n486\n00:22:47.000 --> 00:22:49.910\nIt'll actually remove\npackages if necessary.\n\n487\n00:22:49.910 --> 00:22:53.020\nWe have to be really careful with that\nbecause you might find where you've got\n\n488\n00:22:53.020 --> 00:23:01.350\nsomething that you depend on that was\npresent in DBN 7 and is gone now in DBN 8.\n\n489\n00:23:01.350 --> 00:23:04.700\nMaybe, I don't know if this is a fact or\nnot, but\n\n490\n00:23:04.700 --> 00:23:08.250\nmaybe Java is built into DBN 7 by default.\n\n491\n00:23:08.250 --> 00:23:11.170\nBut in DBN 8 they made\nthe decision not to include Java.\n\n492\n00:23:11.170 --> 00:23:13.810\nSo when you do that dist upgrade\nit might remove Java, and\n\n493\n00:23:13.810 --> 00:23:16.310\nnow you have got software\nthat doesn't work.\n\n494\n00:23:16.310 --> 00:23:20.050\nSo you got to be careful with that when\nyou upgrade from one distro to another.\n\n495\n00:23:20.050 --> 00:23:21.970\nAnd as a result,\na lot of people don't do it,\n\n496\n00:23:21.970 --> 00:23:26.210\na lot of people don't upgrade from\na major version to another major version.\n\n497\n00:23:26.210 --> 00:23:28.200\nInstead, they just bring up a new server,\n\n498\n00:23:28.200 --> 00:23:30.230\nget everything configured the way\nthey want it in the new software, so\n\n499\n00:23:30.230 --> 00:23:32.700\nthey can find those problems and\nthen flip over to it.\n\n500\n00:23:32.700 --> 00:23:36.530\nBut if you're doing an in-place upgrade,\nusing the dist upgrade modifier,\n\n501\n00:23:36.530 --> 00:23:39.330\nthen there is some risk there that\nyou might lose some packages.\n\n502\n00:23:39.330 --> 00:23:41.827\nSo just be aware that\nyou can lose something.\n\n503\n00:23:41.827 --> 00:23:43.391\n>> Yeah.\nApt-get's got a full-featured,\n\n504\n00:23:43.391 --> 00:23:44.619\nI mean it has plenty of stuff.\n\n505\n00:23:44.619 --> 00:23:46.219\nThere's options to go\nalong with it as well.\n\n506\n00:23:46.219 --> 00:23:48.959\nI like using the -y option, because.\n\n507\n00:23:48.959 --> 00:23:52.489\nThere's any questions like, \"I want to\ninstall this, and I don't want to be\n\n508\n00:23:52.489 --> 00:23:55.710\nquestioned about it\", yes,\nI have already elevated my privileges.\n\n509\n00:23:55.710 --> 00:23:57.650\nI just want you to go ahead and\ninstall things.\n\n510\n00:23:57.650 --> 00:24:00.640\nSometimes, like we saw with Don when he\ninstalled a couple of those packages,\n\n511\n00:24:00.640 --> 00:24:04.830\nis the \"Do you want to do this?\", and you\nhad to say yes, and then it would install.\n\n512\n00:24:04.830 --> 00:24:08.180\nYou use the dash y, well it answers\nany question that comes up with it\n\n513\n00:24:08.180 --> 00:24:11.950\nwith a default yes, and then normally\nthat will take care of a lot of that.\n\n514\n00:24:11.950 --> 00:24:16.400\nI had a question and answer business,\nso I like using that option.\n\n515\n00:24:16.400 --> 00:24:18.865\n>> Yeah, speaking of options,\nlet me show you one thing.\n\n516\n00:24:18.865 --> 00:24:24.948\nWe saw where AptGet stored its\nconfiguration files in /etc/apt.\n\n517\n00:24:24.948 --> 00:24:28.728\nWell, there's an example configuration\nfile located on the hard drive where they\n\n518\n00:24:28.728 --> 00:24:32.076\nshow some of the advanced things we can\nkind of tweak with how it behaves and\n\n519\n00:24:32.076 --> 00:24:33.080\nhow it works.\n\n520\n00:24:33.080 --> 00:24:35.570\nUsually the sources are the only thing\nwe ever want to mess with, right?\n\n521\n00:24:35.570 --> 00:24:40.370\nSources.list, but let me bring\nthis file up here on my drive is,\n\n522\n00:24:40.370 --> 00:24:45.920\nwe've got one of the example\nconfigs here apt.conf.\n\n523\n00:24:45.920 --> 00:24:51.170\nIf I go into /etc/app/apt.conf,\nthe file's kind of sparse,\n\n524\n00:24:51.170 --> 00:24:54.780\nit's only got a little bit in it, but\nin this examples file that's tucked away\n\n525\n00:24:54.780 --> 00:24:59.670\nin /user/shared/doc/app/examples.\n\n526\n00:24:59.670 --> 00:25:00.336\n>> Really hiding it.\n\n527\n00:25:00.336 --> 00:25:03.091\n[LAUGH]\n>> Dave actually got a whole bunch of\n\n528\n00:25:03.091 --> 00:25:07.350\noptions in there that are documented\nout so you can see them.\n\n529\n00:25:07.350 --> 00:25:10.395\nAnd you can specify a lot of\nreally interesting things.\n\n530\n00:25:10.395 --> 00:25:14.475\nLike with Aptget, you can set it by\ndefault then download packages only but\n\n531\n00:25:14.475 --> 00:25:16.155\nnot install them, right?\n\n532\n00:25:16.155 --> 00:25:18.535\nSo that gives you a chance\nto maybe test them out or\n\n533\n00:25:18.535 --> 00:25:20.735\nset up your own repository\nif that's what you want.\n\n534\n00:25:20.735 --> 00:25:23.625\nYou can set the number of\nretries if it fails to connect.\n\n535\n00:25:23.625 --> 00:25:26.115\nYou can set whether it's\ngoing to clean things.\n\n536\n00:25:26.115 --> 00:25:29.465\nWhen you remove something, a lot of times\nit can leave files behind, clean can clear\n\n537\n00:25:29.465 --> 00:25:34.410\nthat up, but also when Apt installs\na package It caches the package file.\n\n538\n00:25:34.410 --> 00:25:35.470\nIt holds onto it.\n\n539\n00:25:35.470 --> 00:25:39.480\nAnd if you uninstall the package, it still\nhas a copy of the package file itself\n\n540\n00:25:39.480 --> 00:25:42.430\ncached and Kaleen can get that out of\nthere, and that's set to auto, but\n\n541\n00:25:42.430 --> 00:25:45.300\nyou can change that to set to prompt or\nalways, and\n\n542\n00:25:45.300 --> 00:25:49.145\neven deep EPKG whether it\ndoes borst overwrite or not.\n\n543\n00:25:49.145 --> 00:25:53.735\nThese are all things we can tweak and\nmodify inside of those config files.\n\n544\n00:25:53.735 --> 00:25:56.840\nMost of us will never have to work\nwith these, but they are there.\n\n545\n00:25:56.840 --> 00:26:03.063\n/etc/app is where we have it's\nconfigurations, and then /etc/.\n\n546\n00:26:03.063 --> 00:26:04.471\nIs it dpkg?\n\n547\n00:26:04.471 --> 00:26:05.173\nYeah.\n\n548\n00:26:05.173 --> 00:26:09.352\n/etc/dpkg is where we have\nthe similar config files for\n\n549\n00:26:09.352 --> 00:26:11.302\ndpackage, the old utility.\n\n550\n00:26:11.302 --> 00:26:13.842\nAnd so you'll see that kind of in there.\n\n551\n00:26:13.842 --> 00:26:16.602\nAnd you're really specifying in there\nwhether you want to do signature\n\n552\n00:26:16.602 --> 00:26:17.882\nchecking and so on.\n\n553\n00:26:17.882 --> 00:26:19.779\nThose are all options we can kinda tweak.\n\n554\n00:26:19.779 --> 00:26:20.840\n>> Very cool.\n\n555\n00:26:20.840 --> 00:26:23.880\nAll right Don,\nwell we've covered the app get command,\n\n556\n00:26:23.880 --> 00:26:26.382\nwhich is definitely going to\ngive you a lot of functionality,\n\n557\n00:26:26.382 --> 00:26:29.360\ngoing to help you out a lot as you\nwork with these Debian type systems.\n\n558\n00:26:29.360 --> 00:26:31.020\n>> Absolutely.\n>> Have we missed anything?\n\n559\n00:26:31.020 --> 00:26:31.980\n>> I think that's it.\n\n560\n00:26:31.980 --> 00:26:36.745\nI, there are the true GUI update\nutilities, but those aren't on the exam.\n\n561\n00:26:36.745 --> 00:26:41.055\nIn real life, you can fire up a synaptic\npackage manager or whatever if you want,\n\n562\n00:26:41.055 --> 00:26:42.395\nand those are a lot easier.\n\n563\n00:26:42.395 --> 00:26:43.235\nBut from the command line,\n>> [LAUGH]\n\n564\n00:26:43.235 --> 00:26:44.545\n>> These are the guys that we have.\n\n565\n00:26:44.545 --> 00:26:46.740\n>> That's right, never know when\nyou're going to be in that sea alone,\n\n566\n00:26:46.740 --> 00:26:49.120\nthat's what you've got to work with,\nso that being said,\n\n567\n00:26:49.120 --> 00:26:51.030\nhopefully you guys have\nlearned a lot today.\n\n568\n00:26:51.030 --> 00:26:54.150\nThat's about all we have for today's show,\nthough, so signing off for IT Pro TV,\n\n569\n00:26:54.150 --> 00:26:56.200\nI've been your host, Daniel Lowry.\n\n570\n00:26:56.200 --> 00:26:57.240\n>> And I'm Don Pezet.\n\n571\n00:26:57.240 --> 00:27:00.105\n>> We'll see you next time.\n\n572\n00:27:00.105 --> 00:27:04.260\n[NOISE]\n\n",
          "vimeoId": "128989508"
        },
        {
          "description": null,
          "length": "1567",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-2-3-managing_shared_libraries-061515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-2-3-managing_shared_libraries-061515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-2-3-managing_shared_libraries-061515-1-sm.jpg",
          "title": "Managing Shared Libraries",
          "transcript": "WEBVTT\n\n1\n00:00:00.742 --> 00:00:10.629\n[MUSIC]\n\n2\n00:00:10.629 --> 00:00:14.354\n>> All right, greetings everyone, and\nwelcome to another great episode of\n\n3\n00:00:14.354 --> 00:00:17.970\nITProTV with your host Daniel Lawry and\nhere with me today is Don Pezet.\n\n4\n00:00:17.970 --> 00:00:19.190\nHow you doing today Don?\n\n5\n00:00:19.190 --> 00:00:20.250\n>> I'm doing great Daniel.\n\n6\n00:00:20.250 --> 00:00:22.940\nWe are jumping back into another\nepisode of Linux plus and\n\n7\n00:00:22.940 --> 00:00:26.800\nin this episode we're taking\na look at shared libraries.\n\n8\n00:00:26.800 --> 00:00:30.460\nNow shared libraries are one of those\nthings that happened behind the scene,\n\n9\n00:00:30.460 --> 00:00:33.330\nmost of us never have to deal with,\nreally just don't care about.\n\n10\n00:00:33.330 --> 00:00:35.758\n>> That's how you get books from\nother [LAUGH] libraries, right?\n\n11\n00:00:35.758 --> 00:00:39.170\n>> Yeah, yeah, [LAUGH] you're gonna have\nyour library card, you gotta have your ID,\n\n12\n00:00:39.170 --> 00:00:41.575\nmaybe be homeless, I don't know, but.\n\n13\n00:00:41.575 --> 00:00:43.530\n[LAUGH]\n>> [LAUGH] It's one of the things we\n\n14\n00:00:43.530 --> 00:00:44.900\ndon't normally have to worry about.\n\n15\n00:00:44.900 --> 00:00:46.370\nSo, you might ask yourself,\n\n16\n00:00:46.370 --> 00:00:48.620\nif we don't have to worry about it,\nwhy the heck is it on the exam?\n\n17\n00:00:48.620 --> 00:00:51.590\nAnd the reason is unfortunately from time\nto time we do have to worry about it.\n\n18\n00:00:51.590 --> 00:00:53.560\nAnd when you do you need to\nhave that base knowledge.\n\n19\n00:00:53.560 --> 00:00:55.240\nAnd end users never\nhave to deal with this.\n\n20\n00:00:55.240 --> 00:00:56.850\nNow let's.\nI'm getting ahead of myself.\n\n21\n00:00:56.850 --> 00:01:00.160\nSo let's start with what\nthe heck is a shared library?\n\n22\n00:01:00.160 --> 00:01:02.980\nWhen you run a program,\nwhatever your program is.\n\n23\n00:01:02.980 --> 00:01:08.150\nMaybe it's like Open Office or\nthe Gimp Graphic Editor or whatever.\n\n24\n00:01:08.150 --> 00:01:09.650\nWhen you run those programs.\n\n25\n00:01:09.650 --> 00:01:12.050\nThere's a lot of components\nin there that are not new.\n\n26\n00:01:12.050 --> 00:01:13.490\nThey didn't just invent, right.\n\n27\n00:01:13.490 --> 00:01:17.310\nSo if your software has a button on\nthe screen the code to generate that\n\n28\n00:01:17.310 --> 00:01:19.100\nbutton is not unique to that program.\n\n29\n00:01:19.100 --> 00:01:20.610\nThey could have written it that way,\nthey could have written it\n\n30\n00:01:20.610 --> 00:01:22.670\nfrom scratch saying we're going\nto generate our own buttons.\n\n31\n00:01:22.670 --> 00:01:25.208\nBut instead a lot of\nthem depend on libraries.\n\n32\n00:01:25.208 --> 00:01:28.600\nThese libraries already have\nthings like buttons to find or\n\n33\n00:01:28.600 --> 00:01:32.320\nhow to talk to a serial port or\nhow to encode a JPEG file.\n\n34\n00:01:32.320 --> 00:01:34.220\n>> They are already written\nin these libraries.\n\n35\n00:01:34.220 --> 00:01:36.820\nSo if you're going to write a graphics\neditor, instead of having to reinvent\n\n36\n00:01:36.820 --> 00:01:41.630\neverything from scratch, you can just\nrely on these other library files.\n\n37\n00:01:41.630 --> 00:01:45.010\nSo it definitely cuts\ndown on code development.\n\n38\n00:01:45.010 --> 00:01:47.420\nIt shrinks the size of programs, and\n\n39\n00:01:47.420 --> 00:01:51.560\nwhen you have five programs that all need\nto display a JPEG, they can all rely\n\n40\n00:01:51.560 --> 00:01:54.760\non the same library as opposed to having\nfive different sets of libraries doing it\n\n41\n00:01:54.760 --> 00:01:58.085\nfive different ways, taking up five\ntimes the space on your hard drive.\n\n42\n00:01:58.085 --> 00:02:01.090\n>> [SOUND]\n>> So, that's what developers do.\n\n43\n00:02:01.090 --> 00:02:06.360\nThey rely on external libraries and\nthey can share them with other programs.\n\n44\n00:02:06.360 --> 00:02:10.530\nNow, there's good sides to that and\nthere's bad sides to that.\n\n45\n00:02:10.530 --> 00:02:13.935\nIn the windows world,\nwe have this term called DLL hell, right?\n\n46\n00:02:13.935 --> 00:02:16.420\n[LAUGH] In Windows they call\nthem Dynamic Link Libraries,\n\n47\n00:02:16.420 --> 00:02:19.420\nin Lynx they're just shared libraries,\nbut it's the same concept.\n\n48\n00:02:19.420 --> 00:02:22.130\nThat you can have all these\ndifferent libraries and different\n\n49\n00:02:22.130 --> 00:02:26.910\nversions of the same library, so maybe\nthere's that JPEG rendering library and\n\n50\n00:02:26.910 --> 00:02:29.610\nyou got five different versions of it, and\ndifferent programs depend on different\n\n51\n00:02:29.610 --> 00:02:32.950\nversions and\nit really make it a nightmare to manage.\n\n52\n00:02:32.950 --> 00:02:37.480\nWell, in the Linux operating system and\nthe way the Linux kernel handles this,\n\n53\n00:02:37.480 --> 00:02:41.010\nwe have these shared libraries\nthat try to solve that problem.\n\n54\n00:02:41.010 --> 00:02:42.130\nSo I wanna show you how it works.\n\n55\n00:02:42.130 --> 00:02:46.905\nI'm gonna show you some examples here with\nhow it works on just a normal system.\n\n56\n00:02:46.905 --> 00:02:51.675\nAnd then we'll talk about what we might\nhave to do if we have to get in there and\n\n57\n00:02:51.675 --> 00:02:52.785\nget involved with it.\n\n58\n00:02:52.785 --> 00:02:53.355\nAll right?\n\n59\n00:02:53.355 --> 00:02:56.425\nNow, when I say if we have to get in and\nget involved with it,\n\n60\n00:02:56.425 --> 00:03:00.800\nthe only time we have to get involved\nis if we're missing a shared library?\n\n61\n00:03:00.800 --> 00:03:01.320\nRight?\n\n62\n00:03:01.320 --> 00:03:04.310\nAnd missing a shared library doesn't\nreally happen anymore because we use\n\n63\n00:03:04.310 --> 00:03:08.970\nthings like the Yum or\nAppGet package managers.\n\n64\n00:03:08.970 --> 00:03:12.110\nAnd when they install software,\nthey install all the dependencies.\n\n65\n00:03:12.110 --> 00:03:13.460\nIf the library's already there, great.\n\n66\n00:03:13.460 --> 00:03:15.190\nIf it's not there, it adds it in.\n\n67\n00:03:15.190 --> 00:03:17.980\nRight, so\nwe don't really have to worry about it.\n\n68\n00:03:17.980 --> 00:03:20.770\nBut if you're manually installing\nsoftware, if a developer comes to you and\n\n69\n00:03:20.770 --> 00:03:22.850\nsays, here's the software\nI wrote specifically for\n\n70\n00:03:22.850 --> 00:03:25.320\nyour company, here's five sets\nof shared libraries you need.\n\n71\n00:03:25.320 --> 00:03:28.690\nYou gotta know how to load those in,\nright, and how to get them present and\n\n72\n00:03:28.690 --> 00:03:31.800\nrecognized in this system, so that's what\nwe're gonna take a look at here in this\n\n73\n00:03:31.800 --> 00:03:33.310\nepisode, and kinda see how that works.\n\n74\n00:03:34.630 --> 00:03:37.890\nAll right, first off, let's talk\nabout where the libraries are stored.\n\n75\n00:03:37.890 --> 00:03:43.570\nThe libraries, they're just files, and\nthey usually end in a .so file extension,\n\n76\n00:03:43.570 --> 00:03:47.890\nwhich I think it stands for shared object,\nbut it's these library files.\n\n77\n00:03:47.890 --> 00:03:51.310\nAnd they can actually be stored\nin a few different places.\n\n78\n00:03:51.310 --> 00:03:55.180\nThe most common place for them,\nI'll just pull up my Cento S7 box here.\n\n79\n00:03:55.180 --> 00:03:58.208\nThe most common place for\nthem is /usr/lib.\n\n80\n00:03:58.208 --> 00:04:00.710\nAll right, /lib is short for library, and\n\n81\n00:04:00.710 --> 00:04:03.660\nthat's kind of where you'd\nexpect library files to be.\n\n82\n00:04:03.660 --> 00:04:04.190\nAnd in here,\n\n83\n00:04:04.190 --> 00:04:08.580\nI can see, not a bunch of files that\nend in .so, but a bunch of folders.\n\n84\n00:04:08.580 --> 00:04:09.590\nRight.\n\n85\n00:04:09.590 --> 00:04:13.558\nEach one of these are folders and if you\nlook, you can see all these different\n\n86\n00:04:13.558 --> 00:04:17.898\nprograms that I've got, like good old Java\nright there and I can change into my Java\n\n87\n00:04:17.898 --> 00:04:21.184\nfolder and apparently I don't\nactually have Java installed?\n\n88\n00:04:21.184 --> 00:04:21.939\nThat's fun.\n\n89\n00:04:21.939 --> 00:04:24.880\nSo let's try Python instead.\n\n90\n00:04:24.880 --> 00:04:28.790\nAnd we can go in there and\nwe got another folder of site packages,\n\n91\n00:04:28.790 --> 00:04:30.530\nand eventually, there we go.\n\n92\n00:04:30.530 --> 00:04:34.240\nWe can start to get in and start to\nfind true actual library files, right.\n\n93\n00:04:34.240 --> 00:04:37.270\nSo, well even these are mostly directory\n[LAUGH] so if we dig deep enough,\n\n94\n00:04:37.270 --> 00:04:38.700\nI picked a nice complex one.\n\n95\n00:04:38.700 --> 00:04:41.809\n[LAUGH] Let's pick one that's a little\nmore simple, I'm forgetting something.\n\n96\n00:04:42.940 --> 00:04:46.340\nI'm in the /user/lib folder, right?\n\n97\n00:04:46.340 --> 00:04:47.940\nSo that's where I'm at.\n\n98\n00:04:47.940 --> 00:04:52.240\nIf you're on a 64-bit system,\nyou may have 64-bit libraries also, and\n\n99\n00:04:52.240 --> 00:04:54.940\nso you may have libraries in more\nthan one location based on that.\n\n100\n00:04:54.940 --> 00:05:01.130\nIf I go /user/lib64,\nnow I'll see 64-bit libraries.\n\n101\n00:05:01.130 --> 00:05:03.830\nI'm on a 64 bit system,\nthere's all my stinking libraries,\n\n102\n00:05:03.830 --> 00:05:05.230\nthat's why I wasn't seeing them.\n\n103\n00:05:05.230 --> 00:05:06.630\nSo I can see a lot of stuff.\n\n104\n00:05:06.630 --> 00:05:09.140\nAnd I mentioned JPEG rendering.\n\n105\n00:05:09.140 --> 00:05:13.330\nI can see libjpeg.so.62, right there.\n\n106\n00:05:13.330 --> 00:05:17.826\nWell, right after it I've\ngot lib.jpeg.so.62.1.0.\n\n107\n00:05:17.826 --> 00:05:20.170\nWhy do I have two libraries?\n\n108\n00:05:20.170 --> 00:05:21.140\nWell, I don't.\n\n109\n00:05:21.140 --> 00:05:22.900\nI've actually got one library.\n\n110\n00:05:22.900 --> 00:05:25.900\nBut in Linux they do software linking.\n\n111\n00:05:25.900 --> 00:05:30.240\nAnd it's the linking that happens between\nthese files that helps to eliminate a lot\n\n112\n00:05:30.240 --> 00:05:32.870\nof the conflicts that we had in the past.\n\n113\n00:05:32.870 --> 00:05:36.030\nWhen you look at a library file what\nyou're going to see is the name of\n\n114\n00:05:36.030 --> 00:05:36.820\nthe library.\n\n115\n00:05:36.820 --> 00:05:41.738\nSo like libjpeg, this is my library for\ndoing jpeg rending and generation.\n\n116\n00:05:41.738 --> 00:05:43.870\nAnd then .so, right?\n\n117\n00:05:43.870 --> 00:05:44.850\nThat's shared object.\n\n118\n00:05:44.850 --> 00:05:46.640\nIt is a shared library.\n\n119\n00:05:46.640 --> 00:05:47.790\nAnd then 62.\n\n120\n00:05:47.790 --> 00:05:49.760\n62 is the major version.\n\n121\n00:05:49.760 --> 00:05:54.040\nThis is the major version, 62,\nfor this particular library.\n\n122\n00:05:54.040 --> 00:05:57.280\nNow if I have ten programs\nthat all depend on that, and\n\n123\n00:05:57.280 --> 00:06:01.910\nthen a new version of libjpeg comes out,\nI don't wanna have to update\n\n124\n00:06:01.910 --> 00:06:05.700\nall five programs to point to\nthis new version of the library.\n\n125\n00:06:05.700 --> 00:06:07.420\nSo when a new version comes out,\n\n126\n00:06:07.420 --> 00:06:11.500\ninstead of constantly changing this\none file it leaves this file alone.\n\n127\n00:06:11.500 --> 00:06:16.920\nAnd then it adds the new version and\nit links it to this name.\n\n128\n00:06:16.920 --> 00:06:20.310\nThis name is actually a link\nthat points to this longer name.\n\n129\n00:06:20.310 --> 00:06:24.450\nSo right now I can say I'm\nactually running 62.1.0.\n\n130\n00:06:24.450 --> 00:06:27.758\nLet's say a hot fix comes out,\nand it's 62.1.1.\n\n131\n00:06:27.758 --> 00:06:32.830\nWell, that 62.1.1 file\nwill be listed here and\n\n132\n00:06:32.830 --> 00:06:35.680\nthis link will just be\nredirected to point at it.\n\n133\n00:06:35.680 --> 00:06:40.770\nSo now my software can\nalways call libjpeg.so.62\n\n134\n00:06:40.770 --> 00:06:43.890\nregardless of what minor version\nis underneath it, right?\n\n135\n00:06:43.890 --> 00:06:46.950\nSo you'll always see these twice but\nit's not actually two files.\n\n136\n00:06:46.950 --> 00:06:51.040\nOne is a link that points to\nthe other to hide the minor versions.\n\n137\n00:06:51.040 --> 00:06:53.670\nNow major versions will show\nup more than once, right?\n\n138\n00:06:53.670 --> 00:06:59.230\nSo you might see something like let's see,\ndo I have any that are duplicated in here?\n\n139\n00:06:59.230 --> 00:07:01.220\nI might not have any.\n\n140\n00:07:01.220 --> 00:07:05.101\nBut you may, well, lib ISO 9660.\n\n141\n00:07:05.101 --> 00:07:09.720\nWell, those are different ones,\nplus plus versus regular.\n\n142\n00:07:09.720 --> 00:07:10.220\nWell anyhow,\n\n143\n00:07:10.220 --> 00:07:13.030\nyou might see some where there's more\nthan one major version in there.\n\n144\n00:07:13.030 --> 00:07:16.120\nYou might have software\nthat depends on libjpeg 61,\n\n145\n00:07:16.120 --> 00:07:20.310\nand it hasn't been updated\nto support 62 yet.\n\n146\n00:07:20.310 --> 00:07:23.920\nAnd so you might have both 61 and\n62 right there in your libraries, right.\n\n147\n00:07:23.920 --> 00:07:24.980\nThat may happen.\n\n148\n00:07:24.980 --> 00:07:28.490\nBut for the minor versions, those\nare just being linked to that name and\n\n149\n00:07:28.490 --> 00:07:31.800\nthey have that one common name\nthat the software ties into.\n\n150\n00:07:33.100 --> 00:07:35.200\nNow, all of this stuff\ncan be really confusing.\n\n151\n00:07:35.200 --> 00:07:36.850\nThere's a lot of junk in here.\n\n152\n00:07:36.850 --> 00:07:39.620\nSo there's a few commands that\nwe can use to help kind of\n\n153\n00:07:39.620 --> 00:07:42.540\nfigure out what libraries are in place and\nwhat we even care about.\n\n154\n00:07:43.760 --> 00:07:48.380\nSo the majority of this is\nmanaged by a library daemon.\n\n155\n00:07:48.380 --> 00:07:51.698\nThere's this library daemon that's keeping\ntrack of all the libraries on your system\n\n156\n00:07:51.698 --> 00:07:54.845\nand what's linked where and what software\ndepends on what, and it's called LD.\n\n157\n00:07:54.845 --> 00:07:58.847\nAnd LD and the LD configuration\nis all stored inside of /etc, so\n\n158\n00:07:58.847 --> 00:08:01.532\nit's got a record of all these libraries.\n\n159\n00:08:01.532 --> 00:08:03.306\nAnd we can register libraries or\n\n160\n00:08:03.306 --> 00:08:06.601\nderegister libraries to get\nthem out of our system System.\n\n161\n00:08:06.601 --> 00:08:08.760\nNormally we don't have to.\n\n162\n00:08:08.760 --> 00:08:13.070\nNormally Yum or AppGet or whatever,\nthey're taking care of it.\n\n163\n00:08:13.070 --> 00:08:21.730\nSo if I install some software,\nlet's say I do yum install mySQL-server.\n\n164\n00:08:21.730 --> 00:08:22.298\nAll right.\n\n165\n00:08:22.298 --> 00:08:25.040\nSo I wanna become a SQL server.\n\n166\n00:08:25.040 --> 00:08:27.050\nAnd what have I done wrong here?\n\n167\n00:08:30.130 --> 00:08:34.840\nOh, shoot.\nIt's mariadb, now under sent OS.\n\n168\n00:08:34.840 --> 00:08:35.540\nThere we go.\n\n169\n00:08:35.540 --> 00:08:37.580\nSo if I want to install it,\nit goes to install it and\n\n170\n00:08:37.580 --> 00:08:40.750\nit it looks to see if I have\nany missing dependencies.\n\n171\n00:08:40.750 --> 00:08:42.200\nRight?\nSee where it says dependencies\n\n172\n00:08:42.200 --> 00:08:43.120\nresolved here?\n\n173\n00:08:43.120 --> 00:08:44.980\nAnd this one doesn't\nhave any dependencies.\n\n174\n00:08:44.980 --> 00:08:47.120\nThat means I either don't\nhave any dependencies, or\n\n175\n00:08:47.120 --> 00:08:49.970\nI've already got them installed and\nit's happy.\n\n176\n00:08:49.970 --> 00:08:54.570\nBut if I pick a software package\nthat I'm missing dependencies for,\n\n177\n00:08:54.570 --> 00:08:58.410\nit'll recognize that, and\nit'll go to install them and add them in.\n\n178\n00:08:58.410 --> 00:09:00.822\nSo, like if I do, let's see.\n\n179\n00:09:00.822 --> 00:09:01.979\n>> Do you have Java?\n\n180\n00:09:01.979 --> 00:09:02.970\n[LAUGH]\n>> Well, you know,\n\n181\n00:09:02.970 --> 00:09:05.360\nthat was something that was missing,\nwhich actually I guess I would need.\n\n182\n00:09:05.360 --> 00:09:08.190\nOh, says I'm already installed and\nrunning the latest one.\n\n183\n00:09:08.190 --> 00:09:12.610\nWhat would be a good one, what would be\nsome crazy software that I could install?\n\n184\n00:09:12.610 --> 00:09:13.420\n>> How about Gimp?\n\n185\n00:09:13.420 --> 00:09:14.750\nThat has a lot of dependencies.\n\n186\n00:09:14.750 --> 00:09:15.700\n>> Sure.\n\n187\n00:09:15.700 --> 00:09:16.225\nThere we go.\n\n188\n00:09:16.225 --> 00:09:17.720\n>> [LAUGH]\n>> Yes, it does.\n\n189\n00:09:17.720 --> 00:09:20.770\nSo I wanted to install Gimp\nwhich is a graphics editor.\n\n190\n00:09:20.770 --> 00:09:22.870\nIt's like an open source Photoshop.\n\n191\n00:09:22.870 --> 00:09:26.080\nAnd when I wanted to install it,\nwell it says that it's gonna install Gimp,\n\n192\n00:09:26.080 --> 00:09:29.640\nand then it's gonna install\nall these dependencies, and\n\n193\n00:09:29.640 --> 00:09:31.615\nthe majority of these\ndependencies are libraries.\n\n194\n00:09:31.615 --> 00:09:32.140\nRight?\n\n195\n00:09:32.140 --> 00:09:34.064\nSo I've got libgfortran.\n\n196\n00:09:34.064 --> 00:09:35.302\nWell, that's kinda awesome.\n\n197\n00:09:35.302 --> 00:09:36.270\n[LAUGH]\n>> [LAUGH]\n\n198\n00:09:36.270 --> 00:09:36.845\n>> I wonder why it needs that.\n\n199\n00:09:36.845 --> 00:09:39.650\nLibmng, libopenraw, quadmath.\n\n200\n00:09:39.650 --> 00:09:42.200\nIt's got all these different\nones that it wants to bring in,\n\n201\n00:09:42.200 --> 00:09:44.320\nit's gonna take care of the libraries for\nme.\n\n202\n00:09:44.320 --> 00:09:47.330\nSome might already be installed,\nand so it doesn't need those,\n\n203\n00:09:47.330 --> 00:09:50.180\nother might be missing, like these,\nand it's gonna install them for me.\n\n204\n00:09:50.180 --> 00:09:53.325\nSo I don't have to sweat it, and\nthat's kind of a nice thing.\n\n205\n00:09:53.325 --> 00:09:55.030\nRight?\nYou just let it deal with it,\n\n206\n00:09:55.030 --> 00:09:57.850\nit's gonna add those in, and\nnow it goes and installs them.\n\n207\n00:09:57.850 --> 00:10:01.030\n>> Yeah, can you imagine having to go\nthrough every one of those libraries and\n\n208\n00:10:01.030 --> 00:10:04.710\ndependencies, try to find them on the\ninternet or where ever the case may be.\n\n209\n00:10:04.710 --> 00:10:05.640\nThen get them installed,\n\n210\n00:10:05.640 --> 00:10:08.510\nespecially if you're doing it old school,\nbuilding from source.\n\n211\n00:10:08.510 --> 00:10:12.730\nThat would take forever, so it's nice to\nbe able to use these install utilities and\n\n212\n00:10:12.730 --> 00:10:14.470\nfind the dependencies and library source.\n\n213\n00:10:14.470 --> 00:10:17.400\n>> Yeah, and as you install more software\non your system you're going to get more\n\n214\n00:10:17.400 --> 00:10:18.270\nand more of these libraries.\n\n215\n00:10:18.270 --> 00:10:20.730\nIf you ever want to see\nthe list there's a fun command.\n\n216\n00:10:20.730 --> 00:10:23.910\nWhich, the fact that I call it fun,\nlet's you know that it's not.\n\n217\n00:10:23.910 --> 00:10:25.789\nIf you run ld config-v.\n\n218\n00:10:25.789 --> 00:10:26.460\nRight?\n\n219\n00:10:26.460 --> 00:10:29.012\nLD, that's the library demon.\n\n220\n00:10:29.012 --> 00:10:33.965\nLD config-v, that's going to give me\na list of all the different libraries\n\n221\n00:10:33.965 --> 00:10:37.315\nthat are on my system, and so it's\njust going to output those right here.\n\n222\n00:10:37.315 --> 00:10:38.865\nAnd see what's listing them?\n\n223\n00:10:38.865 --> 00:10:40.415\nIt's got the link name.\n\n224\n00:10:40.415 --> 00:10:42.475\nRight?\nThat's like that major name, and\n\n225\n00:10:42.475 --> 00:10:43.615\nthen what it's linked to.\n\n226\n00:10:43.615 --> 00:10:45.065\nThat's that minor revision.\n\n227\n00:10:45.065 --> 00:10:49.825\nSo I can see I've got, like libicuuc,\nand the major version is 50.\n\n228\n00:10:49.825 --> 00:10:51.465\nAnd that's linked to 50.1.2.\n\n229\n00:10:51.465 --> 00:10:53.733\nSo you can kind of spot those.\n\n230\n00:10:53.733 --> 00:10:56.334\nHere is libavahi.\n\n231\n00:10:56.334 --> 00:10:57.820\nI don't really know what that is.\n\n232\n00:10:57.820 --> 00:10:59.980\nThe major version is three and\nit's actually linked to 3.5.3.\n\n233\n00:10:59.980 --> 00:11:02.880\nThere have been a ton\nof small updates to it.\n\n234\n00:11:02.880 --> 00:11:05.025\nBut, my software doesn't have\nto change what it's pointing to,\n\n235\n00:11:05.025 --> 00:11:07.490\ncuz it's pointing to that major version.\n\n236\n00:11:07.490 --> 00:11:10.330\nAnd so, you can get a quick\nlist of all the libraries.\n\n237\n00:11:10.330 --> 00:11:11.940\nRight here.\nI say quick list.\n\n238\n00:11:11.940 --> 00:11:14.110\nThis is pretty massive, right?\n\n239\n00:11:14.110 --> 00:11:16.602\nI'm, it's apparently\nlonger than I thought.\n\n240\n00:11:16.602 --> 00:11:17.140\n>> It's [INAUDIBLE]\n>> There we go.\n\n241\n00:11:17.140 --> 00:11:18.200\nI finally reached the top.\n\n242\n00:11:18.200 --> 00:11:19.040\nAll right.\n\n243\n00:11:19.040 --> 00:11:22.130\nSo this particular view is not\nterribly useful in my opinion.\n\n244\n00:11:22.130 --> 00:11:26.440\nWhat we normally want to do is see like\nwhat libraries a particular program\n\n245\n00:11:26.440 --> 00:11:27.620\ndepends on.\n\n246\n00:11:27.620 --> 00:11:30.090\nSo for that,\nwe can use a command called ldd.\n\n247\n00:11:30.090 --> 00:11:36.040\nAll right, ldd lets us see what\ndependencies a particular program has.\n\n248\n00:11:36.040 --> 00:11:38.970\nAnd so you feed it a program name and\nit will show you what it depends on.\n\n249\n00:11:38.970 --> 00:11:43.070\nAnd that's a great way for diagnosing\nwhether you're missing some dependencies,\n\n250\n00:11:43.070 --> 00:11:47.490\nor whether you need a particular version\nthat's not present, ldd can help show us\n\n251\n00:11:47.490 --> 00:11:52.442\nthat so like if I do lld/bin/bash, right?\n\n252\n00:11:52.442 --> 00:11:56.220\nI've got the bash prompt or the bash\nshell, I want to see what it depends on.\n\n253\n00:11:56.220 --> 00:12:02.740\nWell here it is, it depends on\nLinux/-VDSO Lib T info, lib dl, lib c.\n\n254\n00:12:02.740 --> 00:12:05.598\nAnd then the actual Linux libraries.\n\n255\n00:12:05.598 --> 00:12:09.800\nSo there's it's dependencies, those are\nthe major versions that it's looking for.\n\n256\n00:12:09.800 --> 00:12:10.620\nRight.\n\n257\n00:12:10.620 --> 00:12:16.120\nIf I did /, we'll do like /bin/vim,\n\n258\n00:12:16.120 --> 00:12:20.050\nand here's for VI, or VI proof, and all\nthe different things that it depends on.\n\n259\n00:12:20.050 --> 00:12:22.300\nSo like lib and cursors and so on.\n\n260\n00:12:22.300 --> 00:12:24.680\nSo you can quickly diagnose\nwhat dependencies and\n\n261\n00:12:24.680 --> 00:12:27.650\nwhat libraries a particular\napplication needs to be tied to.\n\n262\n00:12:29.250 --> 00:12:29.776\nAll right.\n\n263\n00:12:29.776 --> 00:12:32.160\nA few other things we can do.\n\n264\n00:12:32.160 --> 00:12:35.910\nWhen you install library,\nYum, or AppGet, or whatever,\n\n265\n00:12:35.910 --> 00:12:39.210\nit's actually doing a little more than\njust copying the file into the lib folder.\n\n266\n00:12:39.210 --> 00:12:41.982\nIt's also adding it to\nour library database.\n\n267\n00:12:41.982 --> 00:12:44.630\nAll right?\nAnd the library database is tucked away\n\n268\n00:12:44.630 --> 00:12:46.750\ninside of /etc.\n\n269\n00:12:46.750 --> 00:12:53.760\nIf your browse into/etc, you'll see a file\nin here, this guy right here, ld.so.conf.\n\n270\n00:12:53.760 --> 00:12:57.877\nNow back in the old days,\nyou would edit this file and\n\n271\n00:12:57.877 --> 00:13:01.305\nyou would list all your\nlibraries right in there.\n\n272\n00:13:01.305 --> 00:13:03.495\nBut in the new day,\nit's not quite like that anymore.\n\n273\n00:13:03.495 --> 00:13:05.985\nNow inside of there is just one\ninclude statement that says,\n\n274\n00:13:05.985 --> 00:13:10.015\ninclude every file in this directory,\nld.so.conf.\n\n275\n00:13:10.015 --> 00:13:13.725\nSo if you ever look at /etc/ld.so.conf,\n\n276\n00:13:13.725 --> 00:13:19.045\nthere's not much in it, right,\ninclude everything in that subfolder.\n\n277\n00:13:19.045 --> 00:13:23.015\nBut if we go into that sub folder,\nthat's where the real action is.\n\n278\n00:13:23.015 --> 00:13:25.570\nRight?\nAnd you'll see a handful of files in here,\n\n279\n00:13:25.570 --> 00:13:29.930\neach one representing third party\nlibraries that are tied into your system.\n\n280\n00:13:29.930 --> 00:13:34.270\nSo like I installed mariadb earlier, and\nso it's got some library entries in there.\n\n281\n00:13:34.270 --> 00:13:37.886\nAnd let's take a look at what's in it.\n\n282\n00:13:37.886 --> 00:13:40.374\nAnd now they get really lazy.\n\n283\n00:13:40.374 --> 00:13:42.370\nThey're not actually listing the files,\nthey're just pointing to the folder.\n\n284\n00:13:42.370 --> 00:13:45.470\nThey're saying, all right, we're gonna\ninclude anything in this folder.\n\n285\n00:13:45.470 --> 00:13:48.920\nAnd so, If I go into /user/lib64/MySQL.\n\n286\n00:13:48.920 --> 00:13:54.380\nI can look in there, and\nthere's not too much, right?\n\n287\n00:13:54.380 --> 00:13:58.580\nI've got a link called\nlib/MySQL/client/so.18 and\n\n288\n00:13:58.580 --> 00:14:02.760\nthat's linking to\nlib/MySQLl/client/so.18.0.0, right?\n\n289\n00:14:02.760 --> 00:14:07.750\nAnd it's updates come out for that,\nit'll update this file here, and\n\n290\n00:14:07.750 --> 00:14:10.840\nit'll just change this link\nto point to that file.\n\n291\n00:14:10.840 --> 00:14:11.360\nAlright.\n\n292\n00:14:11.360 --> 00:14:15.940\nAnd so now everybody who wants to access\na Maria database with a Maria DB client\n\n293\n00:14:15.940 --> 00:14:16.780\ncan just pull right from there.\n\n294\n00:14:17.790 --> 00:14:19.590\nSo theses are how\nthe shared libraries work.\n\n295\n00:14:19.590 --> 00:14:21.860\nThat where those files end up.\n\n296\n00:14:21.860 --> 00:14:26.230\nAnd for the most part we don't\nhave to worry about that, right.\n\n297\n00:14:26.230 --> 00:14:27.690\nBut if you ever do.\n\n298\n00:14:27.690 --> 00:14:30.858\nIf you have to manually put\none of these libraries in.\n\n299\n00:14:30.858 --> 00:14:32.400\nIt's a two step process.\n\n300\n00:14:32.400 --> 00:14:34.130\nRight?\nFirst you have to copy the library\n\n301\n00:14:34.130 --> 00:14:38.970\nto the appropriate directory,\nlike /user/lib or /user/lib64.\n\n302\n00:14:38.970 --> 00:14:41.164\nThen you need to create that link.\n\n303\n00:14:41.164 --> 00:14:41.953\nAll right?\n\n304\n00:14:41.953 --> 00:14:45.488\nAnd while it's not, so\nmuch related to shared libraries,\n\n305\n00:14:45.488 --> 00:14:47.595\nlinks can be used everywhere.\n\n306\n00:14:47.595 --> 00:14:49.705\nI do wanna show you guys\nhow those links work and\n\n307\n00:14:49.705 --> 00:14:53.885\nhow we can add that if we were gonna be\nputting in our own library, all right.\n\n308\n00:14:53.885 --> 00:14:56.210\nSo, let's say I had a fake library.\n\n309\n00:14:56.210 --> 00:14:58.930\nWhoops.\n\n310\n00:14:58.930 --> 00:15:03.710\nAnd I'm in /user /lib.\n\n311\n00:15:03.710 --> 00:15:04.740\nThere we go.\n\n312\n00:15:04.740 --> 00:15:07.040\nAnd I'll just pretend that\nI've got some library, right?\n\n313\n00:15:07.040 --> 00:15:08.910\nSo I'll create a file called,\n\n314\n00:15:11.030 --> 00:15:15.769\nI'll call it lib.unlibrary.so.\n\n315\n00:15:17.260 --> 00:15:18.820\nWe'll say it's version 5.1.2 right?\n\n316\n00:15:21.320 --> 00:15:27.280\nSo I'm gonna create this file, and\nthat's gonna be my library, all right?\n\n317\n00:15:27.280 --> 00:15:30.010\nWell, I need software to\nbe able to access this.\n\n318\n00:15:30.010 --> 00:15:32.560\nSoftware that depends on the Don library,\nright?\n\n319\n00:15:32.560 --> 00:15:36.800\nAnd I want to handle my software\nthat supports Don library version 5.\n\n320\n00:15:36.800 --> 00:15:41.270\nSo I need to create a link for Don library\nversion 5 that links to this file.\n\n321\n00:15:41.270 --> 00:15:44.810\nNow in real life line we'd be downloading\na library from our vendor and copying it\n\n322\n00:15:44.810 --> 00:15:49.620\nover and not just creating a file like I\ndid, but the link we create the same way.\n\n323\n00:15:49.620 --> 00:15:53.619\nThe way the link command works,\nis you run ln to create the link and\n\n324\n00:15:53.619 --> 00:15:57.765\nthen you specify the target file,\nthe file your gonna point at, and\n\n325\n00:15:57.765 --> 00:16:01.358\nlastly you specify what you want\nthe name of the link to be.\n\n326\n00:16:01.358 --> 00:16:05.069\nNow when I run ln like this,\nI'm in the /user/lib folder, and\n\n327\n00:16:05.069 --> 00:16:07.014\nI do need to be an admin to do this.\n\n328\n00:16:07.014 --> 00:16:08.477\nSo I'm gonna go sudu.\n\n329\n00:16:08.477 --> 00:16:17.412\nln, and then my target is that\nlibdonlibrary.so.5.1.2, right?\n\n330\n00:16:17.412 --> 00:16:19.140\nSo I'm going to link to that.\n\n331\n00:16:20.540 --> 00:16:24.775\nAnd then I'm going to\nlink it right here in\n\n332\n00:16:24.775 --> 00:16:29.750\nthe same directory to libdonlibrary.so.5.\n\n333\n00:16:29.750 --> 00:16:32.478\nOkay, I don't want to put the minor\nversion stuff in there, I just want to\n\n334\n00:16:32.478 --> 00:16:35.560\nhave the major version because that's what\nmy software is going to be looking for.\n\n335\n00:16:35.560 --> 00:16:37.950\nIt's going to be looking for\nthis name right here.\n\n336\n00:16:39.400 --> 00:16:46.150\nNow I just created this and\nif I look, there it is.\n\n337\n00:16:46.150 --> 00:16:48.660\nThere's those files and\nmy permissions are wrong on them, so\n\n338\n00:16:48.660 --> 00:16:49.530\nI'll need to sort that out.\n\n339\n00:16:50.790 --> 00:16:54.160\nIf you take a look at how most these are,\nsee they're owned by root and\n\n340\n00:16:54.160 --> 00:16:55.240\nmine are too, but\n\n341\n00:16:55.240 --> 00:16:58.860\nsee how my permissions are a little bit\ndifferent than some of the ones in here.\n\n342\n00:16:58.860 --> 00:17:02.070\nIf you look at some of these other\nones they've got like full rewrite and\n\n343\n00:17:02.070 --> 00:17:06.445\nexecute assigned to them, right, versus\nmine that just have read and write for me,\n\n344\n00:17:06.445 --> 00:17:07.535\nand read for the other ones.\n\n345\n00:17:07.535 --> 00:17:08.817\nSo I really need to update that and\n\n346\n00:17:08.817 --> 00:17:12.235\nkind of fix the permissions\nto get those proper.\n\n347\n00:17:12.235 --> 00:17:16.265\nSo your vendor might tell you permissions,\nbut typically they want seven five five.\n\n348\n00:17:16.265 --> 00:17:19.165\nSo I'm just going to do\na quick change on those.\n\n349\n00:17:21.255 --> 00:17:22.740\nSo I'll do a chmod.\n\n350\n00:17:22.740 --> 00:17:25.130\n755, so\nI'm going to change the permissions.\n\n351\n00:17:25.130 --> 00:17:29.110\n7 is going to give me his root,\nthe rewrite and execute,\n\n352\n00:17:29.110 --> 00:17:32.040\nand it's going to give everybody\nelse read and execute.\n\n353\n00:17:32.040 --> 00:17:35.560\nSo anybody who's running software that in\nturn is going to call this needs to be\n\n354\n00:17:35.560 --> 00:17:38.160\nable to read and\nexecute the library itself.\n\n355\n00:17:38.160 --> 00:17:39.510\nSo that should take care of that.\n\n356\n00:17:41.060 --> 00:17:44.030\nAnd now, when I pull up my directory now,\n\n357\n00:17:44.030 --> 00:17:46.350\nI've got my libdonlibrary\nshowing up properly.\n\n358\n00:17:46.350 --> 00:17:49.070\nAnd see how it just looks like two files,\nright?\n\n359\n00:17:49.070 --> 00:17:52.940\nNow notice the links down here,\nhow it's in bright blue?\n\n360\n00:17:52.940 --> 00:17:55.880\nAnd then it's got where it's linking to,\nversus the link that I did,\n\n361\n00:17:55.880 --> 00:17:58.540\nhow they're both green, okay.\n\n362\n00:17:58.540 --> 00:18:02.030\nThe link that I did is the default type\nof link, and it's called a hard link.\n\n363\n00:18:02.030 --> 00:18:05.170\nAnd generally it's the best\nkind of link you can do.\n\n364\n00:18:05.170 --> 00:18:06.380\nWith a hard link,\n\n365\n00:18:06.380 --> 00:18:12.540\nit creates a virtual file that points\nto the raw data on the hard drive.\n\n366\n00:18:12.540 --> 00:18:14.880\nSo, this link is pointing that raw data.\n\n367\n00:18:14.880 --> 00:18:15.810\nThe neat part is,\n\n368\n00:18:15.810 --> 00:18:19.390\nI could take this target, and I can move\nit to wherever I want it in hard drive.\n\n369\n00:18:19.390 --> 00:18:20.590\nI can move it to my home directory.\n\n370\n00:18:20.590 --> 00:18:21.860\nI can move it somewhere else.\n\n371\n00:18:21.860 --> 00:18:23.620\nAnd this link up here still works.\n\n372\n00:18:23.620 --> 00:18:25.015\nIt'll still follow it.\n\n373\n00:18:25.015 --> 00:18:30.280\nBecause I didn't like to this virtual\nfile entry, I linked to the data itself.\n\n374\n00:18:30.280 --> 00:18:33.430\nHard links are pretty\nawesome because of that.\n\n375\n00:18:33.430 --> 00:18:37.720\nBut, hard links have a requirement that\nsometimes makes it where they don't work.\n\n376\n00:18:37.720 --> 00:18:43.730\nHard links can only link to files on\nthe same partition as the link itself.\n\n377\n00:18:43.730 --> 00:18:47.620\nSo if this library is on\nthe same partition as the link,\n\n378\n00:18:47.620 --> 00:18:48.460\nhard links work great.\n\n379\n00:18:49.750 --> 00:18:54.650\nBut, if this is on some other system,\nI mean some other file system, right,\n\n380\n00:18:54.650 --> 00:18:57.300\nanother partition,\nI can't use a hard link.\n\n381\n00:18:57.300 --> 00:19:00.440\nOr, if these are directories, hard\nlinks don't work for directories, also.\n\n382\n00:19:00.440 --> 00:19:02.340\nAnd, when you look down here\nat like sendmail and stuff,\n\n383\n00:19:02.340 --> 00:19:03.800\nthese are actually directories.\n\n384\n00:19:03.800 --> 00:19:06.510\nSo, you could do a hard link there.\n\n385\n00:19:06.510 --> 00:19:09.570\nAnd so they did what's\ncalled a soft link instead.\n\n386\n00:19:09.570 --> 00:19:12.800\nA soft link doesn't like to the raw,\nhard data on the hard drive.\n\n387\n00:19:12.800 --> 00:19:16.830\nInstead, it just links to a path,\nand on a positive side,\n\n388\n00:19:16.830 --> 00:19:18.590\nthat makes them a lot more flexible.\n\n389\n00:19:18.590 --> 00:19:20.590\nOn a negative side,\nit means you can't move the target.\n\n390\n00:19:20.590 --> 00:19:22.530\nIf you move the target,\nit breaks the link.\n\n391\n00:19:22.530 --> 00:19:25.502\nNow, Daniel, how often are we going\nto move our target in this case?\n\n392\n00:19:25.502 --> 00:19:27.125\n>> Probably not a whole lot of times.\n\n393\n00:19:27.125 --> 00:19:30.690\n>> [LAUGHS] Yeah you're really not going\nto,, because if you move that library to\n\n394\n00:19:30.690 --> 00:19:34.410\na whole other directory,\nthat directory has to be included in\n\n395\n00:19:34.410 --> 00:19:39.670\nthe lib.so.config file, so it knows where\nto go to find this, or in the ld.config.\n\n396\n00:19:39.670 --> 00:19:42.230\nSo it's got to be able to find these\nfolders and so we have to go and\n\n397\n00:19:42.230 --> 00:19:43.112\nupdate our path and all that.\n\n398\n00:19:43.112 --> 00:19:45.415\nSo you're going to leave your\nlibraries right here, so\n\n399\n00:19:45.415 --> 00:19:47.340\na soft link works perfectly fine.\n\n400\n00:19:47.340 --> 00:19:50.440\nSo, I'm going to get rid of\nthat hard link that I created.\n\n401\n00:19:52.290 --> 00:19:58.210\nSo, I'll just get rid of\nlibdonlibrary.so.five.\n\n402\n00:19:58.210 --> 00:20:01.370\nSo, now I've just got\nmy super specific one.\n\n403\n00:20:01.370 --> 00:20:03.480\nAnd I'm going to recreate that link.\n\n404\n00:20:03.480 --> 00:20:05.640\nAnd this time,\nI'm going to add a little note after LN.\n\n405\n00:20:05.640 --> 00:20:09.160\nI'm just going to say LN, Dash S, right?\n\n406\n00:20:09.160 --> 00:20:10.450\nAnd that dash S,\n\n407\n00:20:10.450 --> 00:20:15.020\nthat's me telling it that I want to\ncreate a soft link, not a hard link.\n\n408\n00:20:15.020 --> 00:20:15.770\nOkay?\n\n409\n00:20:15.770 --> 00:20:18.180\nAnd when I run that,\nit's going to create the link.\n\n410\n00:20:19.440 --> 00:20:22.910\nAnd now, see how it's in blue and\nit's got the pointer to the file?\n\n411\n00:20:22.910 --> 00:20:26.050\nAnd that's because soft\nlink's linked to a path.\n\n412\n00:20:26.050 --> 00:20:30.350\nIf I were to move this file,\nthe link breaks, right?\n\n413\n00:20:30.350 --> 00:20:33.880\nBut in exchange for that one weakness,\nI can now link to directories,\n\n414\n00:20:33.880 --> 00:20:38.610\nI can link to files on other file systems,\nI get a ton more flexibility.\n\n415\n00:20:38.610 --> 00:20:40.610\nAnd so you will usually see these, right?\n\n416\n00:20:40.610 --> 00:20:42.210\nBecause they know that it's a library and\n\n417\n00:20:42.210 --> 00:20:45.500\nyou're not going to go moving a library\naround, use the Softlink instead.\n\n418\n00:20:45.500 --> 00:20:48.370\n>> Now they're also called like Symlinks\nor Symbolic Links, right, as well.\n\n419\n00:20:48.370 --> 00:20:50.820\nIt's kind of the same nomenclature.\n\n420\n00:20:50.820 --> 00:20:53.270\n>> Yes, it's some gestures\nuse different terminology\n\n421\n00:20:53.270 --> 00:20:55.720\nSymbolic link is the right term.\n\n422\n00:20:55.720 --> 00:20:58.080\nThe one you use, Daniel's like,\nI should be saying that.\n\n423\n00:20:58.080 --> 00:20:59.790\nBut yeah, a symbolic link.\n\n424\n00:20:59.790 --> 00:21:04.960\nWhen we talk about a hard link, or a soft\nlink, those are types of symbolic links.\n\n425\n00:21:04.960 --> 00:21:08.490\nAnd symbolic, right, it's just a symbol\nthat being stored in the file systems,\n\n426\n00:21:08.490 --> 00:21:12.440\nthat actually points to a file\nbeing stored somewhere else.\n\n427\n00:21:12.440 --> 00:21:15.669\nIf you ever have to add\nyour own shared libraries,\n\n428\n00:21:16.700 --> 00:21:20.790\nyou can copy your library to one\nof the existing library paths, and\n\n429\n00:21:20.790 --> 00:21:23.360\nthen you can add that soft\nlink in like I just did.\n\n430\n00:21:23.360 --> 00:21:25.480\nAnd then you're in business.\n\n431\n00:21:25.480 --> 00:21:29.465\nIf you need to add it to your own path,\nto somewhere else on the hard drive,\n\n432\n00:21:29.465 --> 00:21:32.915\nthat's when you have to go to that config\nfile that I showed you inside of /etc.\n\n433\n00:21:32.915 --> 00:21:35.065\nAnd you've got to add an include\nstatement on there so\n\n434\n00:21:35.065 --> 00:21:37.225\nthat it'll link to your\nfolder to see that library.\n\n435\n00:21:37.225 --> 00:21:39.135\nSo a couple of extra steps to go through.\n\n436\n00:21:39.135 --> 00:21:41.879\nBut otherwise that's kind of\nhow we get them in there.\n\n437\n00:21:42.900 --> 00:21:48.140\nYou might have a situation where there's\nan updated version of the library out, but\n\n438\n00:21:48.140 --> 00:21:50.620\nwhatever distro you're using\nhasn't grabbed it yet.\n\n439\n00:21:50.620 --> 00:21:52.910\nGreat example of this would be CentOS,\nright?\n\n440\n00:21:52.910 --> 00:21:56.650\nWith CentOS, when new libraries come out,\nthey don't adopt them right away.\n\n441\n00:21:56.650 --> 00:22:00.640\nWhat happens is that Red Hat adopts them\n>> And then Red Hat publishes the code,\n\n442\n00:22:00.640 --> 00:22:04.260\nand then CentOS get that code and\nincorporates it into theirs.\n\n443\n00:22:04.260 --> 00:22:06.150\nThey can be a few days behind.\n\n444\n00:22:06.150 --> 00:22:08.050\nWell, if this is something critical\nthat you've been waiting on,\n\n445\n00:22:08.050 --> 00:22:09.700\nyou don't want to wait a few days.\n\n446\n00:22:09.700 --> 00:22:15.823\nSo, maybe CentOS's repositories\nhave libdonlibrary.so.5.1.2,\n\n447\n00:22:15.823 --> 00:22:19.812\nbut you need libdonlibary.so.5.1.3.\n\n448\n00:22:19.812 --> 00:22:22.930\nWell you could go and download 5.1.3, and\n\n449\n00:22:22.930 --> 00:22:28.730\nall you have to do is delete this link,\nand then re-link it to the new version.\n\n450\n00:22:28.730 --> 00:22:35.170\nSo, I could come in here and, let's say\nthat I've got, where's my, here we go.\n\n451\n00:22:35.170 --> 00:22:38.502\nSo I get version 5.1.3 in, right?\n\n452\n00:22:38.502 --> 00:22:41.960\nAnd so now when I look at it,\n\n453\n00:22:41.960 --> 00:22:46.820\nI've got libdonlibrary.so.5\nis pointing to 512.\n\n454\n00:22:46.820 --> 00:22:48.900\nBut I went out and\nmanually downloaded 513.\n\n455\n00:22:48.900 --> 00:22:52.410\nIt's not in my repositories yet,\nI downloaded it myself.\n\n456\n00:22:52.410 --> 00:22:57.050\nWell from here I can remove the simlink,\nright?\n\n457\n00:22:57.050 --> 00:23:00.880\nSo I'm just going to remove that file,\nand then I can relink it.\n\n458\n00:23:00.880 --> 00:23:06.080\nAnd when I relink it,\nI'll just point to 5.1.3 this time.\n\n459\n00:23:06.080 --> 00:23:10.160\nAll my software's still pointing at .5,\nso they don't change.\n\n460\n00:23:10.160 --> 00:23:13.990\nAnd now I've got this new library that my\nsoftware is able to use even though my\n\n461\n00:23:13.990 --> 00:23:15.650\ndistro doesn't support it yet.\n\n462\n00:23:15.650 --> 00:23:19.743\nAnd now when I look at my links, sure\nenough that parent is pointing to 5.1.3.\n\n463\n00:23:19.743 --> 00:23:23.480\nI still have 5.1.2 in case I screw\nsomething up I can flip back to it, right?\n\n464\n00:23:23.480 --> 00:23:25.230\nBut hopefully I don't have to.\n\n465\n00:23:25.230 --> 00:23:27.900\n>> Is there ever an instance where you\nmight need both for the same piece of\n\n466\n00:23:27.900 --> 00:23:30.540\nsoftware and you have to link to\nboth of them, or anything like that?\n\n467\n00:23:30.540 --> 00:23:31.795\n>> Yeah that is a real challenge.\n\n468\n00:23:31.795 --> 00:23:34.860\n>> [LAUGH]\n>> At Java is a great example of that.\n\n469\n00:23:34.860 --> 00:23:39.050\nAnd that's why you rarely see Java\nsoftware linked to just the Java library.\n\n470\n00:23:39.050 --> 00:23:40.780\nIn fact, did we see that earlier?\n\n471\n00:23:40.780 --> 00:23:42.310\nThat was in one of my folders.\n\n472\n00:23:42.310 --> 00:23:43.190\nOh, this folder right here.\n\n473\n00:23:44.290 --> 00:23:49.950\nIf we look at my directory output,\nsee how there is a Java folder, right?\n\n474\n00:23:49.950 --> 00:23:54.970\nBut then right after that I've got\nJava1.5, Java1.6, Java1.7, Java1.8.\n\n475\n00:23:54.970 --> 00:23:58.500\nWell, each of those are considered\nmajor versions of Java, so\n\n476\n00:23:58.500 --> 00:24:00.100\nyou've got all these different ones.\n\n477\n00:24:00.100 --> 00:24:03.840\nThe subversions, they don't break out,\nso when we talk about Java,\n\n478\n00:24:03.840 --> 00:24:08.670\nwe usually leave the 1 off, and so Java\nRuntime Library 6, or Java 7, or Java 8.\n\n479\n00:24:08.670 --> 00:24:12.560\nWell, I know with like Java 8,\nthere's Java 8.1, all the way through 8.,\n\n480\n00:24:12.560 --> 00:24:15.650\nseems like they're up to 53 now,\nor something like that?\n\n481\n00:24:15.650 --> 00:24:16.840\nThey're pretty high.\n\n482\n00:24:16.840 --> 00:24:19.630\nSo, those you don't normally run\ninto a situation where you need.\n\n483\n00:24:19.630 --> 00:24:24.050\nYou might have some software tied to 8.22,\nand some software tied to 8.53.\n\n484\n00:24:24.050 --> 00:24:25.890\nBut it does happen, and if that happens,\n\n485\n00:24:25.890 --> 00:24:28.140\nthere's really not a good\nway to deal with that.\n\n486\n00:24:28.140 --> 00:24:30.140\nAnd so the software that you're running,\n\n487\n00:24:30.140 --> 00:24:34.410\nyou may have to run it with like\nmanually specifying library paths.\n\n488\n00:24:34.410 --> 00:24:36.830\nIt's a pain in the butt,\nbut you can do it.\n\n489\n00:24:36.830 --> 00:24:40.310\nBut as far as major versions, you can\nmaintain more than one major version.\n\n490\n00:24:40.310 --> 00:24:44.910\nI might of instead of donlibrary five,\n\n491\n00:24:44.910 --> 00:24:48.800\nI might also have donlibrary\nfour sitting around.\n\n492\n00:24:48.800 --> 00:24:50.710\nThat's a major version that's easy.\n\n493\n00:24:50.710 --> 00:24:54.220\nBut for the minor versions it\nbecomes far more difficult, yeah.\n\n494\n00:24:54.220 --> 00:24:58.750\nAnd I've seen a lot of software where\nyou don't just run the program itself,\n\n495\n00:24:58.750 --> 00:25:02.595\nyou run a script first that overrides\nthe library mappings before it runs.\n\n496\n00:25:02.595 --> 00:25:06.165\nYou can certainly do that and\nthat'll tie it to a particular one.\n\n497\n00:25:06.165 --> 00:25:06.895\n>> Very cool.\n\n498\n00:25:06.895 --> 00:25:08.845\n>> So, hopefully you don't\nhave to deal with that.\n\n499\n00:25:08.845 --> 00:25:09.623\nThat's always a mess.\n\n500\n00:25:09.623 --> 00:25:10.355\n>> [LAUGH]\n>> Yeah.\n\n501\n00:25:10.355 --> 00:25:11.745\nYeah.\n>> Usually, if it's that case,\n\n502\n00:25:11.745 --> 00:25:13.165\nyou reach out to the vendor and\nsay \"Hey guys,\n\n503\n00:25:13.165 --> 00:25:14.505\nare you going to update your software?\"\n>> [LAUGH]\n\n504\n00:25:14.505 --> 00:25:15.656\n>> It's kind of important.\n\n505\n00:25:16.817 --> 00:25:19.737\nWell Don,\nhave we basically covered the libraries,\n\n506\n00:25:19.737 --> 00:25:22.637\nit's very informative should I say.\n\n507\n00:25:22.637 --> 00:25:23.817\n>> Yeah if you're a developer,\n\n508\n00:25:23.817 --> 00:25:25.737\nyou're probably thinking gosh Don\nyou didn't cover anything here.\n\n509\n00:25:25.737 --> 00:25:26.937\nThis was worthless.\n\n510\n00:25:26.937 --> 00:25:29.137\nBut that's fine,\nthis isn't a developer exam.\n\n511\n00:25:29.137 --> 00:25:31.827\nAs an administrator,\nthose are the basics you need to know.\n\n512\n00:25:31.827 --> 00:25:36.607\nWe saw what the libraries were, where\nthey reside, and we saw how to add or\n\n513\n00:25:36.607 --> 00:25:40.050\nmodify our own if we need to\nto put in different entries.\n\n514\n00:25:40.050 --> 00:25:44.540\nOne word of caution, sometimes these\nchanges don't actually take effect until\n\n515\n00:25:44.540 --> 00:25:48.420\nyou reboot or reload the software that\nyou're running, so be careful with that.\n\n516\n00:25:48.420 --> 00:25:51.390\nBut normally we just change our links,\nand we're in business.\n\n517\n00:25:51.390 --> 00:25:52.770\n>> Awesome.\nWell, good stuff, Don.\n\n518\n00:25:52.770 --> 00:25:56.750\nIt looks like we've wrapped up another\ngreat episode for IT Pro TV signing off,\n\n519\n00:25:56.750 --> 00:25:59.200\nI've been your host Daniel Lourie.\n\n520\n00:25:59.200 --> 00:25:59.890\n>> And I'm Don Pizet.\n\n521\n00:25:59.890 --> 00:26:01.835\n>> And we'll see you next time.\n\n522\n00:26:01.835 --> 00:26:06.238\n[SOUND]\n\n",
          "vimeoId": "130988937"
        },
        {
          "description": null,
          "length": "1778",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-2-4-managing_processes-061515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-2-4-managing_processes-061515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-2-4-managing_processes-061515-1-sm.jpg",
          "title": "Managing Processes",
          "transcript": "WEBVTT\n\n1\n00:00:00.026 --> 00:00:10.388\n[MUSIC]\n\n2\n00:00:10.388 --> 00:00:11.034\nAll right.\n\n3\n00:00:11.034 --> 00:00:14.585\nGreetings everyone, and welcome to\nanother great episode of ITProTV,\n\n4\n00:00:14.585 --> 00:00:16.225\nI'll be your host Daniel Lowry.\n\n5\n00:00:16.225 --> 00:00:20.235\nAnd here with me today is none other than\nthe Linux guru himself, Mr. Don Pezet.\n\n6\n00:00:20.235 --> 00:00:20.839\n>> How are you doing Don?\n\n7\n00:00:20.839 --> 00:00:21.956\nI'm doing great, [LAUGH] Daniel.\n\n8\n00:00:21.956 --> 00:00:24.068\nI don't know about the guru tag,\nbut we'll run with it.\n\n9\n00:00:24.068 --> 00:00:28.916\n[LAUGH] So, I'm really looking\nforward to today's episode,\n\n10\n00:00:28.916 --> 00:00:32.232\nbecause it ties back to a memory I have.\n\n11\n00:00:32.232 --> 00:00:33.962\nWe'll walk down memory lane here, right?\n\n12\n00:00:33.962 --> 00:00:38.104\nSo the year is 1996, right, you are there.\n\n13\n00:00:38.104 --> 00:00:40.002\nActually, I guess it was 1994.\n\n14\n00:00:40.002 --> 00:00:42.042\nYeah, all right, the year is 1994!\n\n15\n00:00:42.042 --> 00:00:43.667\nYou are there.\n\n16\n00:00:43.667 --> 00:00:45.632\nAnd I'm having a conversation\nwith my friend Nick.\n\n17\n00:00:45.632 --> 00:00:47.510\nNow, at the time, I was running a,\n\n18\n00:00:47.510 --> 00:00:49.460\nlike a little bulletin board\nsystem on my computer.\n\n19\n00:00:49.460 --> 00:00:51.950\nAnd I was running it on top of Deskview,\nDeskview X, or\n\n20\n00:00:51.950 --> 00:00:53.680\nactually it was just\nregular Deskview then.\n\n21\n00:00:53.680 --> 00:00:56.890\nAnd I had another OS/2 system and so\n\n22\n00:00:56.890 --> 00:01:00.510\nmultitasking operating systems\nwere not unusual to me.\n\n23\n00:01:00.510 --> 00:01:03.640\nI was used to systems that could\nrun more than one thing at a time.\n\n24\n00:01:03.640 --> 00:01:05.930\nBut they all work using time slicing,\n\n25\n00:01:05.930 --> 00:01:08.690\nwhich is not the best\nway to do multi-tasking.\n\n26\n00:01:08.690 --> 00:01:11.490\nAnd my friend, Nick, tells me,\nDon, you gotta check this out.\n\n27\n00:01:11.490 --> 00:01:12.540\nThere's this new operating system.\n\n28\n00:01:12.540 --> 00:01:18.530\nIt's called Linux, and\nwhen you see the x window system and\n\n29\n00:01:18.530 --> 00:01:21.505\nthe multi-tasking on it it\nwill make you wet your pants.\n\n30\n00:01:21.505 --> 00:01:22.840\n>> [LAUGH]\n>> I remember to this day that's what he\n\n31\n00:01:22.840 --> 00:01:24.370\nsaid, it will make you wet your pants.\n\n32\n00:01:24.370 --> 00:01:24.990\n>> Quote unquote.\n\n33\n00:01:24.990 --> 00:01:26.200\n[LAUGH]\n>> And I said whatever,\n\n34\n00:01:26.200 --> 00:01:28.740\ncuz I had OS/2,\nI was really happy with OS/2.\n\n35\n00:01:28.740 --> 00:01:29.860\nAnd I had Deskview.\n\n36\n00:01:29.860 --> 00:01:32.740\nI was doing all sorts of multi tasking.\n\n37\n00:01:32.740 --> 00:01:36.540\nAnd when I fired up Linux,\nand Slackware Linux,\n\n38\n00:01:36.540 --> 00:01:37.680\nit was the first distro that I used.\n\n39\n00:01:37.680 --> 00:01:41.100\nI downloaded the floppy disks and\nI installed it.\n\n40\n00:01:41.100 --> 00:01:43.264\nI didn't wet my pants,\nbut I was impressed.\n\n41\n00:01:43.264 --> 00:01:44.819\n>> [LAUGH]\n>> I was really impressed.\n\n42\n00:01:44.819 --> 00:01:48.720\nThe multitasking nature inside\nof Unix based operating systems\n\n43\n00:01:48.720 --> 00:01:50.270\nis just inherent to the OS.\n\n44\n00:01:50.270 --> 00:01:54.610\nIt's not like the old Windows where\nthey added it on after the fact.\n\n45\n00:01:54.610 --> 00:01:57.580\nThis it was built in from the very\nbeginning to be able to multitask.\n\n46\n00:01:57.580 --> 00:01:58.950\nIt was really amazing.\n\n47\n00:01:59.990 --> 00:02:02.740\nBut, with great power comes\ngreat responsibility.\n\n48\n00:02:02.740 --> 00:02:06.310\nAs we start running more and\nmore programs all at the same time,\n\n49\n00:02:06.310 --> 00:02:09.137\nwe run the risk of getting\nour system too bogged down.\n\n50\n00:02:09.137 --> 00:02:13.220\nAnd, even aside from that,\nwhen we talk about multitasking,\n\n51\n00:02:13.220 --> 00:02:15.160\nmost people think about\nWindow operating systems.\n\n52\n00:02:15.160 --> 00:02:18.360\nSo they fire up these OSes and\nthey start opening up multiple windows.\n\n53\n00:02:18.360 --> 00:02:20.420\nWhat if you just have the command line?\n\n54\n00:02:20.420 --> 00:02:23.249\nWell, Linux can multitask\nfrom the command-line,\n\n55\n00:02:23.249 --> 00:02:25.100\ndoing a great job of it, right.\n\n56\n00:02:25.100 --> 00:02:27.540\nSo that's what we're gonna take\na look at in this episode is\n\n57\n00:02:27.540 --> 00:02:30.720\nhow we can run more than one process\nat the same time from the command-line,\n\n58\n00:02:30.720 --> 00:02:35.180\nhow we can manage those processes, and how\nwe can really get some great multitasking\n\n59\n00:02:35.180 --> 00:02:38.700\nout of a system that doesn't even have\na GUI, and it's really powerful stuff.\n\n60\n00:02:38.700 --> 00:02:42.680\nAnd it is what got me to\ninstall Linux back in 1994 for\n\n61\n00:02:42.680 --> 00:02:45.140\nthe first time,\n[COUGH] it was this functionality.\n\n62\n00:02:45.140 --> 00:02:46.290\n>> Wow.\nThat's pretty cool.\n\n63\n00:02:46.290 --> 00:02:47.480\nLet's dive into it.\n\n64\n00:02:47.480 --> 00:02:49.340\n>> All right, so, it's time for\nour walk down memory lane.\n\n65\n00:02:49.340 --> 00:02:51.990\nSo, first thing [COUGH] is we need\nto understand what's going on in\n\n66\n00:02:51.990 --> 00:02:52.990\nthe background.\n\n67\n00:02:52.990 --> 00:02:56.730\nWhen we log in to Linux, right, so\nI've got my command prompt fired up here.\n\n68\n00:02:56.730 --> 00:02:57.940\nI start to run commands.\n\n69\n00:02:57.940 --> 00:02:59.610\nSo, I do something like LS, right.\n\n70\n00:02:59.610 --> 00:03:01.170\nGive me a directory listing.\n\n71\n00:03:01.170 --> 00:03:05.950\nWell, that directory listing, I didn't\nrun that, my shell didn't even run that.\n\n72\n00:03:05.950 --> 00:03:09.570\nIt turned around and\ntold the Linux kernel to run it, and\n\n73\n00:03:09.570 --> 00:03:13.220\nif you run newname-A you'll\nsee your Linux kernel.\n\n74\n00:03:13.220 --> 00:03:16.190\nSo this system is running\nLinux kernel 3.13.\n\n75\n00:03:16.190 --> 00:03:19.050\nIt's running in the background, it says\nthat I'm running a 64 bit bluetooth but\n\n76\n00:03:19.050 --> 00:03:21.100\nI think this is actually,\nwait what is this?\n\n77\n00:03:21.100 --> 00:03:21.625\nIs it a Bluetooth?\n\n78\n00:03:21.625 --> 00:03:22.680\nThis is mint.\n\n79\n00:03:22.680 --> 00:03:23.280\nIt's mint,\n\n80\n00:03:23.280 --> 00:03:27.645\nwhich is based on a Bluetooth which is\nbased on a Devine, it's all inbred.\n\n81\n00:03:27.645 --> 00:03:29.410\n[LAUGH] So anyhow,\nthe kernel in the background,\n\n82\n00:03:29.410 --> 00:03:31.650\nthat Linux kernel, that's what runs it.\n\n83\n00:03:31.650 --> 00:03:34.810\nAnd it doesn't matter if you're\nrunning Red Hat, CentOS, Ubuntu,\n\n84\n00:03:34.810 --> 00:03:37.070\nDebian, Mint, whatever.\n\n85\n00:03:37.070 --> 00:03:41.350\nAll of them are different distros,\nthey have different choices they've made.\n\n86\n00:03:41.350 --> 00:03:43.790\nBut the kernel is that Linux kernel.\n\n87\n00:03:43.790 --> 00:03:45.870\nAnd so in this case I'm running 3.13.\n\n88\n00:03:45.870 --> 00:03:48.600\nAnd that's what actually ran\nthe software that I ran.\n\n89\n00:03:48.600 --> 00:03:51.450\nWhen I ran LS, it's that kernel\nthat went and did the work.\n\n90\n00:03:51.450 --> 00:03:55.000\nAnd that kernel is capable of doing\nmore than one thing at a time.\n\n91\n00:03:55.000 --> 00:03:56.040\nAll right.\n\n92\n00:03:56.040 --> 00:03:59.400\nAnd even when I'm sitting here\nat a shell prompt like this,\n\n93\n00:03:59.400 --> 00:04:01.960\nit's likely doing more than\none thing at a time already.\n\n94\n00:04:01.960 --> 00:04:03.790\nCuz Daniel, you're logged into\nthe same machine, aren't you?\n\n95\n00:04:03.790 --> 00:04:04.740\n>> I am.\n\n96\n00:04:04.740 --> 00:04:06.120\nSo Daniel's got a shell open to it.\n\n97\n00:04:06.120 --> 00:04:07.060\nI've got a shell open to it.\n\n98\n00:04:07.060 --> 00:04:09.530\nAt a minimum it's presenting\ntwo shells at once, but\n\n99\n00:04:09.530 --> 00:04:11.710\nthe reality is it's doing a lot more.\n\n100\n00:04:11.710 --> 00:04:14.410\nIf you ever want to see what your system\nis doing we have a great command called\n\n101\n00:04:14.410 --> 00:04:16.370\nPS, that's the process command.\n\n102\n00:04:16.370 --> 00:04:18.770\nAnd PS has been around\nsince the UNIX days.\n\n103\n00:04:18.770 --> 00:04:21.820\nIt should be supported on every system,\neven BSD systems.\n\n104\n00:04:21.820 --> 00:04:25.290\nAnd it can display for\nus everything that our display is doing.\n\n105\n00:04:25.290 --> 00:04:29.600\nIf I run PS-a, like that.\n\n106\n00:04:29.600 --> 00:04:33.060\nIt's going to give me a list of all the\nprocesses that are running on the system.\n\n107\n00:04:33.060 --> 00:04:35.780\nNow, if I'm an administrator\nI'll see a lot.\n\n108\n00:04:35.780 --> 00:04:39.800\nIf I'm not an administrator this may\nbe limited to more of what I'm seeing\n\n109\n00:04:39.800 --> 00:04:41.320\njust from my own session.\n\n110\n00:04:41.320 --> 00:04:44.550\nSo if you get a really short list back,\nthen you're probably not an admin and\n\n111\n00:04:44.550 --> 00:04:45.720\nyou're not seeing that.\n\n112\n00:04:45.720 --> 00:04:47.400\nBut you can see all this stuff.\n\n113\n00:04:47.400 --> 00:04:51.080\nAnd look, there's hundreds of\nprocesses that are running right now.\n\n114\n00:04:51.080 --> 00:04:54.670\nThe last process in the list is\nshowing the most recent command.\n\n115\n00:04:54.670 --> 00:04:56.090\nAnd mine is showing the PS command.\n\n116\n00:04:56.090 --> 00:04:56.782\nI ran the PS.\n\n117\n00:04:56.782 --> 00:04:58.600\nThat was the process\nrunning in the background.\n\n118\n00:04:58.600 --> 00:05:01.313\nAnd it's processed 6,653.\n\n119\n00:05:01.313 --> 00:05:05.950\nNow that doesn't mean that I'm\ncurrently running 6,653 processes.\n\n120\n00:05:05.950 --> 00:05:11.830\nIt means that since this computer\nbooted up, we've run 6,653 processes.\n\n121\n00:05:11.830 --> 00:05:13.860\nA lot of them started and stopped.\n\n122\n00:05:13.860 --> 00:05:14.850\nThis one stopped.\n\n123\n00:05:14.850 --> 00:05:17.250\nI ran PS, it gave me the output and\nnow it stops.\n\n124\n00:05:17.250 --> 00:05:18.780\nSo, this process is now gone.\n\n125\n00:05:18.780 --> 00:05:24.182\nAnd that's why there's this\nhuge gap between 5819 and 6653.\n\n126\n00:05:24.182 --> 00:05:27.600\nThat gap are all the other\nprograms that have come and gone.\n\n127\n00:05:27.600 --> 00:05:32.080\nBut, if you look way at the beginning of\nthe list, when your computer boots up,\n\n128\n00:05:32.080 --> 00:05:34.230\nthere's processes that start and\n\n129\n00:05:34.230 --> 00:05:38.270\nstay running the whole time the computer\nruns, like the init process.\n\n130\n00:05:38.270 --> 00:05:41.560\nThis system initialized when it booted up,\nand that's what got all of our hardware,\n\n131\n00:05:41.560 --> 00:05:43.850\nand drivers, and the kernel,\nand all that stuff happy.\n\n132\n00:05:43.850 --> 00:05:46.020\nThat's the first process that runs,\n\n133\n00:05:46.020 --> 00:05:48.360\nit stays running until\nyour computer turns off.\n\n134\n00:05:48.360 --> 00:05:51.310\nAnd so you'll see that,\nwe've got like our kernel thread,\n\n135\n00:05:51.310 --> 00:05:55.060\ndaemon, our soft IRQs,\nall that other information.\n\n136\n00:05:55.060 --> 00:05:58.010\nThese are things that fire up at the very\nbeginning to keep our system running,\n\n137\n00:05:58.010 --> 00:06:00.060\nmanage hardware, right.\n\n138\n00:06:00.060 --> 00:06:02.330\nBut then the further\ndown the list you get,\n\n139\n00:06:02.330 --> 00:06:04.455\nyou get to these things that\nkinda come and go, right.\n\n140\n00:06:04.455 --> 00:06:08.910\nThat don't necessarily run all the time,\nso you can start to see that.\n\n141\n00:06:08.910 --> 00:06:12.408\nIn the second column we got where\nit's running, right, and so\n\n142\n00:06:12.408 --> 00:06:14.663\nI can see this one is running in pts/4.\n\n143\n00:06:14.663 --> 00:06:16.589\nThat's my SSH shell that\nI've got connected,\n\n144\n00:06:16.589 --> 00:06:19.090\nI'm not actually sitting at that machine.\n\n145\n00:06:19.090 --> 00:06:21.630\nIf I were sitting at the machine,\nit shows a tty, like this.\n\n146\n00:06:21.630 --> 00:06:26.320\nHere's a tty session that's running at\nthat physical machine, If I were go and\n\n147\n00:06:26.320 --> 00:06:29.490\nstand in front of it,\nas opposed to SSHing into it.\n\n148\n00:06:29.490 --> 00:06:33.180\nAnd those other ones with a question mark,\nthose are ones the system ran.\n\n149\n00:06:33.180 --> 00:06:35.340\nIt's not running in a terminal at all,\nright?\n\n150\n00:06:35.340 --> 00:06:37.900\nIt's not remote or\nin a terminal on a screen.\n\n151\n00:06:37.900 --> 00:06:40.190\nIt's running in the system\nin the background.\n\n152\n00:06:40.190 --> 00:06:41.530\nSo those are kind of invisible to us.\n\n153\n00:06:41.530 --> 00:06:43.780\nWe don't really see those at all.\n\n154\n00:06:43.780 --> 00:06:44.650\nRight?\n\n155\n00:06:44.650 --> 00:06:47.250\nSo in my shell as I\nstart running commands,\n\n156\n00:06:47.250 --> 00:06:49.520\nthose are all processes that\nare being run in the back.\n\n157\n00:06:49.520 --> 00:06:52.720\nAnd the kernel is handling that.\n\n158\n00:06:52.720 --> 00:06:55.140\nWhen we're in a graphical user interface.\n\n159\n00:06:55.140 --> 00:06:57.880\nWhen I'm here in my CentOS 7 box.\n\n160\n00:06:57.880 --> 00:07:00.270\nI've got this terminal window open.\n\n161\n00:07:00.270 --> 00:07:04.010\nMaybe I can go up here and\nI fire up Firefox.\n\n162\n00:07:04.010 --> 00:07:05.700\nI'm now multitasking, right.\n\n163\n00:07:05.700 --> 00:07:09.528\nI've got,\nwell this is an embarrassing page.\n\n164\n00:07:09.528 --> 00:07:13.000\n[LAUGH] I've got, you know, a webpage\nrunning, I've got this process going,\n\n165\n00:07:13.000 --> 00:07:15.120\nI've got my command prompt running.\n\n166\n00:07:15.120 --> 00:07:17.160\nI'm running more than one thing at\na time and I can switch back and\n\n167\n00:07:17.160 --> 00:07:18.830\nforth between them easily.\n\n168\n00:07:18.830 --> 00:07:21.580\nFrom the command prompt it's\na little bit more difficult, right?\n\n169\n00:07:21.580 --> 00:07:23.630\nWe don't have windows\nthat we can move around,\n\n170\n00:07:23.630 --> 00:07:26.450\nI guess I could open more\nthan one SSH session.\n\n171\n00:07:26.450 --> 00:07:28.700\nBut what if I wanted to stay\nhere in this one session?\n\n172\n00:07:29.880 --> 00:07:34.290\nWhen you want to program like, let's say\nI wanted to edit this payroll.txt file.\n\n173\n00:07:34.290 --> 00:07:38.870\nSo I fire up vi and\nI start to edit payroll.txt, right?\n\n174\n00:07:38.870 --> 00:07:39.990\nI'm running vi.\n\n175\n00:07:39.990 --> 00:07:43.660\nThat's my process but\nI'm stuck in it, right?\n\n176\n00:07:43.660 --> 00:07:46.340\nI'm running one thing, this is like\nthe old DOS days, I ran a program and\n\n177\n00:07:46.340 --> 00:07:47.490\nI'm stuck in it.\n\n178\n00:07:47.490 --> 00:07:50.490\nWell, I can stick it in the background.\n\n179\n00:07:50.490 --> 00:07:56.301\nI can hit Ctrl+Z on my keyboard and when\nI hit Ctrl+Z it just went away, right?\n\n180\n00:07:56.301 --> 00:07:57.653\nWhere did it go?\n\n181\n00:07:57.653 --> 00:07:58.172\n>> You killed it Don.\n\n182\n00:07:58.172 --> 00:07:58.691\n>> It's dead.\n\n183\n00:07:58.691 --> 00:08:00.415\n>> [LAUGH] Murderer!\n\n184\n00:08:00.415 --> 00:08:01.303\n>> It's not dead yet.\n\n185\n00:08:01.303 --> 00:08:03.549\n>> I will kill it eventually,\nbut for right now,\n\n186\n00:08:03.549 --> 00:08:05.485\nit's just running in the background.\n\n187\n00:08:05.485 --> 00:08:08.450\n>> [LAUGH]\n>> It's one of my processes, and\n\n188\n00:08:08.450 --> 00:08:12.690\nit's sitting back there, and if I just run\nPS by itself, that will show my processes,\n\n189\n00:08:12.690 --> 00:08:16.970\nand I can see bash, that's my\nterminal that I'm in, I can see VI,\n\n190\n00:08:16.970 --> 00:08:21.225\nthat's what I stuck in the background, and\nI can see PS that I'm running right now.\n\n191\n00:08:21.225 --> 00:08:22.000\nRight?\n\n192\n00:08:22.000 --> 00:08:25.250\nSo, that is now tucked\naway in the background.\n\n193\n00:08:25.250 --> 00:08:29.120\nAnd as I start to run other\nprograms maybe that are on top, so\n\n194\n00:08:29.120 --> 00:08:32.190\nI can monitor utilization on the system,\nand\n\n195\n00:08:32.190 --> 00:08:35.310\nI hit control z,\nwell that one's now in the background.\n\n196\n00:08:35.310 --> 00:08:36.715\nAnd now I'm start running more things.\n\n197\n00:08:36.715 --> 00:08:42.595\nNow if I run PS, see I'm running VI and\ntop, both at the same time, right?\n\n198\n00:08:42.595 --> 00:08:44.365\nI'm multitasking.\n\n199\n00:08:44.365 --> 00:08:45.565\nWell, here's the problem.\n\n200\n00:08:45.565 --> 00:08:46.848\nHow do I get those guys back again?\n\n201\n00:08:46.848 --> 00:08:48.512\n>> [LAUGH]\n>> It's like they're on the background.\n\n202\n00:08:48.512 --> 00:08:49.882\nNow they're kind of gone.\n\n203\n00:08:49.882 --> 00:08:53.182\nWell, you have what's called\njob management inside of Linux.\n\n204\n00:08:53.182 --> 00:08:56.882\nIf you type jobs, it'll list all\nthe jobs you're running, and\n\n205\n00:08:56.882 --> 00:08:59.542\nnotice how it leaves things out,\nlike it leaves that PS or bash,\n\n206\n00:08:59.542 --> 00:09:02.162\nbecause those are normal things\nthat you don't mess with.\n\n207\n00:09:02.162 --> 00:09:05.022\nIt just shows the programs that I've\nactually sent to the background.\n\n208\n00:09:05.022 --> 00:09:08.742\nSo I can see, I've got these two jobs\nrunning, and the little plus sign there is\n\n209\n00:09:08.742 --> 00:09:13.110\nidentifying that top is the one that I ran\nlast, so that's the last one that I ran.\n\n210\n00:09:13.110 --> 00:09:15.060\nBut the other ones,\nall of the others will have minuses and\n\n211\n00:09:15.060 --> 00:09:16.700\nthose are the ones that I've run before.\n\n212\n00:09:16.700 --> 00:09:20.050\nI can see they have a job number,\nVI has a job number of one and\n\n213\n00:09:20.050 --> 00:09:24.490\ntop has a job number of two, and if I\nwant to bring one back to the foreground,\n\n214\n00:09:24.490 --> 00:09:26.190\nthere's two ways that I can do it.\n\n215\n00:09:26.190 --> 00:09:29.420\nOne way is that I can use\nthe foreground command, fg.\n\n216\n00:09:29.420 --> 00:09:33.610\nIf you type fg followed by the job number,\nit'll bring it up.\n\n217\n00:09:33.610 --> 00:09:36.510\nIf I just do fg by itself,\nit'll bring up the last one I ran.\n\n218\n00:09:36.510 --> 00:09:38.170\nIn my case that would be top.\n\n219\n00:09:38.170 --> 00:09:43.390\nBut if I want to bring VI back,\nI could type fg1, and now I'm back in Vi.\n\n220\n00:09:43.390 --> 00:09:48.600\nAnd I can control z out, and I can do fg2,\nand now I'm in top, all right?\n\n221\n00:09:48.600 --> 00:09:52.340\nAnd these programs stay running in\nthe background, or most of them do.\n\n222\n00:09:52.340 --> 00:09:55.860\nSo it's kind of running, and I could do fg\nby itself, and see how it took me right\n\n223\n00:09:55.860 --> 00:10:00.010\nback into top, because that's the one that\nhad the plus sign there when I ran jobs.\n\n224\n00:10:01.160 --> 00:10:02.710\nThat's one way to do it.\n\n225\n00:10:02.710 --> 00:10:04.650\nAnother way is,\nif you're gonna be doing this a lot, and\n\n226\n00:10:04.650 --> 00:10:08.599\nyou know the job number,\nyou can just type %1 or %2.\n\n227\n00:10:08.599 --> 00:10:11.640\nIf I type %1 I'm back in VI.\n\n228\n00:10:11.640 --> 00:10:15.710\nIf I do %2, I'm back in top, right.\n\n229\n00:10:15.710 --> 00:10:18.530\nSo, if you know the job number percent\nfollowed by the job number that'll get you\n\n230\n00:10:18.530 --> 00:10:20.460\nright there, all right.\n\n231\n00:10:20.460 --> 00:10:24.670\nSo, these are jobs that are running\nin the background, all right.\n\n232\n00:10:24.670 --> 00:10:29.770\nThere are times though, where we want\nto run a service in the background.\n\n233\n00:10:29.770 --> 00:10:34.860\nMaybe you want to spin up a database\nserver and you got MySQL installed, right?\n\n234\n00:10:34.860 --> 00:10:37.800\nWell I could run MySQLD, right?\n\n235\n00:10:37.800 --> 00:10:40.570\nAnd when that runs, oh,\nI guess if I had it installed.\n\n236\n00:10:40.570 --> 00:10:43.210\nWe could install it real quick, I guess.\n\n237\n00:10:43.210 --> 00:10:46.580\nIf I run MySQLD it's gonna run MySQL, and\n\n238\n00:10:46.580 --> 00:10:49.098\nif you've ever run it you know\nthat it just kind of sits there.\n\n239\n00:10:49.098 --> 00:10:53.820\nAnd it, is ii mariadb on this one?\n\n240\n00:10:53.820 --> 00:10:55.240\n>> Yeah.\n\n241\n00:10:55.240 --> 00:10:57.750\n>> Which might already be installed,\nor not.\n\n242\n00:10:57.750 --> 00:10:59.470\nWell apparently I don't know\nwhat they're calling it,\n\n243\n00:10:59.470 --> 00:11:01.050\nI think they might call\nit myescroll-servers.\n\n244\n00:11:01.050 --> 00:11:02.275\nSometimes we get a few\ndifferent names here.\n\n245\n00:11:04.504 --> 00:11:07.020\nThere we go, all right,\nlet's get done with install.\n\n246\n00:11:07.020 --> 00:11:09.650\nSo when we run it,\nit's gonna drop us to a MySQL prompt, and\n\n247\n00:11:09.650 --> 00:11:14.120\nthen it's just gonna sit there,\nand that's kind of it, so.\n\n248\n00:11:14.120 --> 00:11:16.720\nAnd Daniel, I promise, I'll uninstall\nthe stuff when the show's over.\n\n249\n00:11:16.720 --> 00:11:18.725\n>> That's okay. [LAUGH] >> I'm\njunking up Daniel's machine here.\n\n250\n00:11:18.725 --> 00:11:20.310\n>> [LAUGH]\n>> So we're gonna install MySQL.\n\n251\n00:11:20.310 --> 00:11:22.450\nNow when I run it's gonna\nsit there at MySQL prompt.\n\n252\n00:11:22.450 --> 00:11:23.110\nAll right.\n\n253\n00:11:23.110 --> 00:11:25.950\nWell, I might not want that\na job to be tied to my session.\n\n254\n00:11:25.950 --> 00:11:28.000\nBecause what happens when I log out?\n\n255\n00:11:28.000 --> 00:11:30.350\nWhen I log out,\nit's gonna kill that job, right?\n\n256\n00:11:30.350 --> 00:11:34.220\nSo I might want it to run as me,\neven after I log out.\n\n257\n00:11:34.220 --> 00:11:35.080\nJobs don't do that.\n\n258\n00:11:35.080 --> 00:11:37.880\nJobs, they close when you log out.\n\n259\n00:11:37.880 --> 00:11:42.150\nSo instead, if I wanna run MySQLD,\nif I wanna fire that up,\n\n260\n00:11:42.150 --> 00:11:45.560\noh, I haven't run its little setup,\nI probably have to sudo it.\n\n261\n00:11:46.920 --> 00:11:47.860\nThere we go.\n\n262\n00:11:47.860 --> 00:11:50.250\nSo now it's running, I'm running MySQL.\n\n263\n00:11:50.250 --> 00:11:51.710\nBut it's tied to my process.\n\n264\n00:11:51.710 --> 00:11:53.510\nIf I log out, it's gonna end, and\n\n265\n00:11:53.510 --> 00:11:57.505\nI can't type any more commands here\nbecause I'm actually in MySQL.\n\n266\n00:11:57.505 --> 00:11:58.080\nRight?\n\n267\n00:11:58.080 --> 00:11:59.870\nSo what you can do instead, see,\n\n268\n00:11:59.870 --> 00:12:03.510\nI can't even I can't even\nCtrl z out of this one right?\n\n269\n00:12:03.510 --> 00:12:05.870\nI'm basically kind of stuck here, right?\n\n270\n00:12:05.870 --> 00:12:09.930\nWell we can kill the process if we want,\nright?\n\n271\n00:12:09.930 --> 00:12:14.540\nKilling the process is really not\nthat difficult a thing to do.\n\n272\n00:12:14.540 --> 00:12:20.160\nI'm gonna connect back to that machine,\nand here we go.\n\n273\n00:12:20.160 --> 00:12:21.750\nSo I'm in a new shell.\n\n274\n00:12:21.750 --> 00:12:25.110\nAnd if I run PS,\nsee how I don't have any jobs?\n\n275\n00:12:25.110 --> 00:12:29.090\nWell, those jobs were tied to my\nother session, not to this one, and\n\n276\n00:12:29.090 --> 00:12:31.740\nif I do a PS -a, I'll start to\nsee all these other things, and\n\n277\n00:12:31.740 --> 00:12:35.535\nthere's those MySQL\nprocesses that I kicked off.\n\n278\n00:12:35.535 --> 00:12:36.240\nRight?\n\n279\n00:12:36.240 --> 00:12:38.860\nNow, PS -a doesn't display\nthe user names by it.\n\n280\n00:12:38.860 --> 00:12:40.640\nThere's another version of that command.\n\n281\n00:12:40.640 --> 00:12:41.920\nDo you remember it, Daniel.\n\n282\n00:12:41.920 --> 00:12:43.620\nIs it PS -ax or -au?\n\n283\n00:12:43.620 --> 00:12:45.174\n>> I think it's -au.\n\n284\n00:12:46.730 --> 00:12:49.079\n>> This is where I said to\nmix up my PSP commands and\n\n285\n00:12:49.079 --> 00:12:50.776\ndash U definitely [CROSSTALK]\n>> And\n\n286\n00:12:50.776 --> 00:12:54.910\nthen you can say this is the [CROSSTALK]\n>> So, if I do ps -u, perfect.\n\n287\n00:12:56.230 --> 00:12:57.750\nI can see user and defaults to me.\n\n288\n00:12:57.750 --> 00:12:59.520\nSo, I see all of the stuff\nthat I'm running.\n\n289\n00:12:59.520 --> 00:13:02.040\nSo now I can see VI and top.\n\n290\n00:13:02.040 --> 00:13:05.030\nThose jobs that I was running in\nthe other system as processes.\n\n291\n00:13:05.030 --> 00:13:08.140\nBut my SQL,\nthat's kind of a service, right.\n\n292\n00:13:08.140 --> 00:13:10.650\nAnd so it's running and\nI don't see it here.\n\n293\n00:13:10.650 --> 00:13:14.460\nWell, I can kill that service\nusing the kill command.\n\n294\n00:13:14.460 --> 00:13:17.315\nAnd the kill command is\npretty straight forward.\n\n295\n00:13:17.315 --> 00:13:18.664\nRight?\nIf we want to run that,\n\n296\n00:13:18.664 --> 00:13:20.496\nI'll just do it as an admin right here.\n\n297\n00:13:20.496 --> 00:13:24.980\nBut I'm gonna run sudo kill MySQLD,\nand it's gonna look for that, and\n\n298\n00:13:24.980 --> 00:13:27.613\nsee how it's asking for my own password?\n\n299\n00:13:27.613 --> 00:13:33.763\nBecause it's as running as dpezet,\nso I can provide that password and\n\n300\n00:13:33.763 --> 00:13:38.152\napparently it didn't accept\nmy SQLD as the name.\n\n301\n00:13:38.152 --> 00:13:38.840\nLet's see.\nLet's do, oh,\n\n302\n00:13:38.840 --> 00:13:43.420\nI guess I need to know the process number,\ndon't I?\n\n303\n00:13:43.420 --> 00:13:44.719\n>> Process number ID, yeah.\n\n304\n00:13:44.719 --> 00:13:46.350\n>> Yeah.\nLet me get that.\n\n305\n00:13:46.350 --> 00:13:49.250\nSo I'm trying to kill it by name, and\nit's wanting the process ID instead.\n\n306\n00:13:49.250 --> 00:13:51.380\nSo let me just pull up that process again.\n\n307\n00:13:51.380 --> 00:13:54.750\nAnd an easy way to find processes,\nis you can use the grep command.\n\n308\n00:13:54.750 --> 00:13:56.980\nWhich, really, kind of shrinks that down.\n\n309\n00:13:56.980 --> 00:13:58.710\nSo, I can see it's 7830.\n\n310\n00:13:58.710 --> 00:14:03.670\nSo, I'm going to do a kill, and\nthen I'll do a 7830, all right?\n\n311\n00:14:03.670 --> 00:14:06.630\nSo, kill is going to kill that process and\nstop it from running.\n\n312\n00:14:06.630 --> 00:14:09.850\nAnd if I go back to my other session,\nsee how it dropped me out of it?\n\n313\n00:14:09.850 --> 00:14:10.380\nRight?\n\n314\n00:14:10.380 --> 00:14:13.080\nSo, I'm out of that processes now, dead.\n\n315\n00:14:13.080 --> 00:14:15.820\nIf i had wanted to run that, and\nleave it running in the background,\n\n316\n00:14:15.820 --> 00:14:17.830\nand not lock up my terminal.\n\n317\n00:14:17.830 --> 00:14:21.860\nWhat I should have done was\nadded an ampersand to the end.\n\n318\n00:14:21.860 --> 00:14:25.670\nAmpersand means run this and\nstick it in the background, and\n\n319\n00:14:25.670 --> 00:14:26.760\ndon't lock up my terminal.\n\n320\n00:14:26.760 --> 00:14:28.450\nRight?\nBut run it as a service.\n\n321\n00:14:28.450 --> 00:14:30.415\nLet it run in the background,\neven if I log out.\n\n322\n00:14:30.415 --> 00:14:31.470\nRight?\n\n323\n00:14:31.470 --> 00:14:33.600\nSo now when I run it,\nit's going to start up, and\n\n324\n00:14:33.600 --> 00:14:35.755\nif I press enter I'm right\nback to my prompt again.\n\n325\n00:14:35.755 --> 00:14:36.550\nRight?\n\n326\n00:14:36.550 --> 00:14:38.440\nIt's in the background, it's tucked away.\n\n327\n00:14:38.440 --> 00:14:40.130\nIt doesn't show up.\n\n328\n00:14:40.130 --> 00:14:42.080\nWell, actually it does it\nshows right here in my jobs.\n\n329\n00:14:42.080 --> 00:14:45.020\nThat will actually disappear\nafter a little while though.\n\n330\n00:14:45.020 --> 00:14:49.810\nBut it is still running, and it will show\nup when we do our search for processes.\n\n331\n00:14:49.810 --> 00:14:50.990\nSo if I go in here and look.\n\n332\n00:14:50.990 --> 00:14:54.430\nLet's see,\nit got a little upset with me there.\n\n333\n00:14:54.430 --> 00:14:58.580\nWhy did it get upset with me?\n\n334\n00:14:58.580 --> 00:14:59.730\nWell, there.\nWe can see it right there.\n\n335\n00:14:59.730 --> 00:15:01.905\nSo it is actually up and running.\n\n336\n00:15:01.905 --> 00:15:03.975\nAnd it's got that process 8089.\n\n337\n00:15:03.975 --> 00:15:07.385\nSo it's up, it's running, and\nit's tucked away in the background, and\n\n338\n00:15:07.385 --> 00:15:08.555\nI don't have to sweat it.\n\n339\n00:15:08.555 --> 00:15:10.585\nI use that ampersand to do it.\n\n340\n00:15:10.585 --> 00:15:11.995\nSo when you run a command,\n\n341\n00:15:11.995 --> 00:15:14.565\nthrowing ampersand at the end throws\nit to the background automatically.\n\n342\n00:15:14.565 --> 00:15:16.545\nI could have used\nthe background command too, bg.\n\n343\n00:15:17.565 --> 00:15:20.505\nBut if you use the bg\ncommand to run something,\n\n344\n00:15:20.505 --> 00:15:23.025\nthat sticks it in the background as a job.\n\n345\n00:15:23.025 --> 00:15:25.605\nAnd when you log out,\nIt's going to go away.\n\n346\n00:15:25.605 --> 00:15:27.520\nRight?\nVersus if you use the ampersand\n\n347\n00:15:27.520 --> 00:15:30.310\nsticking it back on,\nit will run even after you log out.\n\n348\n00:15:30.310 --> 00:15:32.630\n>> Now, Don,\nI saw you were also using the top command.\n\n349\n00:15:32.630 --> 00:15:36.745\nIt kind of looked pretty similar,\na little more graphical obviously, but\n\n350\n00:15:36.745 --> 00:15:38.393\nis that kind of the same Idea.\n\n351\n00:15:38.393 --> 00:15:39.090\n>> Yeah, I mean.\n\n352\n00:15:39.090 --> 00:15:39.635\n>> SPS.\n\n353\n00:15:39.635 --> 00:15:43.522\n>> Yeah, when you run those, some\nprograms expect you to stay in them, and\n\n354\n00:15:43.522 --> 00:15:45.235\nbe interactive, right?\n\n355\n00:15:45.235 --> 00:15:47.395\nSo, when we take something like top,\nright?\n\n356\n00:15:47.395 --> 00:15:50.175\nIf I return back to that one,\nhere it is, it's running.\n\n357\n00:15:50.175 --> 00:15:53.075\nAnd it's updating the screen so\nyou can see data.\n\n358\n00:15:53.075 --> 00:15:56.029\nIf it goes into the background,\ndoes it need to update its screen anymore?\n\n359\n00:15:56.029 --> 00:16:00.000\nNo, and that's why when I shove it\ninto the back like that it goes and\n\n360\n00:16:00.000 --> 00:16:01.820\nmoves into that stopped mode.\n\n361\n00:16:01.820 --> 00:16:04.440\nBecause Top doesn't need to do\nanything when it's in the background.\n\n362\n00:16:04.440 --> 00:16:05.431\nIf I did the same thing, right?\n\n363\n00:16:05.431 --> 00:16:06.133\nIt wouldn't have stopped.\n\n364\n00:16:06.133 --> 00:16:09.829\nWhy does it need to keep updating the\nscreen if you're not looking at it?op But\n\n365\n00:16:09.829 --> 00:16:11.794\nnotice, my SULD, it's still running.\n\n366\n00:16:11.794 --> 00:16:14.606\nIt knows that hey, it's got work to do,\neven when it's in the background.\n\n367\n00:16:14.606 --> 00:16:17.130\nSo, it keeps running and\nthere it goes, right?\n\n368\n00:16:17.130 --> 00:16:20.780\nSo, you'll see little differences like\nthat, and the programs know themselves.\n\n369\n00:16:20.780 --> 00:16:23.140\nIt's the developers that determine\nwhether they continue to do work,\n\n370\n00:16:23.140 --> 00:16:24.080\neven when they're in the background.\n\n371\n00:16:25.500 --> 00:16:28.715\nNow, we do have to be careful cuz\nsometimes, as we start to run processes,\n\n372\n00:16:28.715 --> 00:16:30.614\nwe could do things like\nlock up our session.\n\n373\n00:16:30.614 --> 00:16:33.430\nAnd I had to use that kill\ncommand to do it, right?\n\n374\n00:16:33.430 --> 00:16:36.750\nI had to kill that process to get\nit stopped and terminate it so\n\n375\n00:16:36.750 --> 00:16:39.260\nthat I could then go in and\nwork with my shell again.\n\n376\n00:16:39.260 --> 00:16:41.329\nThat does happen.\n\n377\n00:16:41.329 --> 00:16:43.800\nIt's just kind of one of\nthose things that occurs.\n\n378\n00:16:43.800 --> 00:16:48.126\nOh, I haven't done the configuration for\nmy SQL, so it finally just killed itself.\n\n379\n00:16:48.126 --> 00:16:50.060\nYeah, there it stopped.\n\n380\n00:16:50.060 --> 00:16:53.120\nSo that will happen, too,\nif you haven't configured the software.\n\n381\n00:16:53.120 --> 00:16:56.780\nBut let's say that I run some kind of\napplication that really starts locking\n\n382\n00:16:56.780 --> 00:16:58.590\ndown that CPU, right.\n\n383\n00:16:58.590 --> 00:17:00.860\nWell, I could use something like Stress,\nand\n\n384\n00:17:00.860 --> 00:17:03.840\nlet me run this under an admin\nto make sure it works properly.\n\n385\n00:17:03.840 --> 00:17:09.110\nAnd the Stress command lets you\npeg out a certain amount of CPUs.\n\n386\n00:17:09.110 --> 00:17:13.710\nAnd so we can we come in here and\nsay like, I want to peg out 1 CPU for\n\n387\n00:17:13.710 --> 00:17:15.565\n180 seconds, right?\n\n388\n00:17:15.565 --> 00:17:19.954\nSo, oh apparently I got my syntax wrong.\n\n389\n00:17:19.954 --> 00:17:22.129\nLet me get this right here real quick.\n\n390\n00:17:22.129 --> 00:17:23.478\nIt is, oh, dash C.\n\n391\n00:17:23.478 --> 00:17:28.830\nI guess I need to put a dash C in there.\n\n392\n00:17:28.830 --> 00:17:30.687\nSo I'm gonna run that, and.\n\n393\n00:17:30.687 --> 00:17:35.600\n[LAUGH] What's the duration,\nsince I'm gonna apparently screw this up.\n\n394\n00:17:35.600 --> 00:17:36.420\nOh, it's just -t.\n\n395\n00:17:36.420 --> 00:17:38.840\nI'm going a little crazy\nhere with my terms.\n\n396\n00:17:38.840 --> 00:17:39.700\nThere we go.\n\n397\n00:17:39.700 --> 00:17:42.430\nSo it's gonna peg out one of my CPUs for\nthree minutes.\n\n398\n00:17:42.430 --> 00:17:45.404\nNow while it's pegging it out,\nI'm kinda locked up.\n\n399\n00:17:45.404 --> 00:17:49.090\nAnd if I start to exit my shell or\nwhatever, this might terminate.\n\n400\n00:17:49.090 --> 00:17:50.000\nIt might not.\n\n401\n00:17:50.000 --> 00:17:52.820\nIf it's another user that's doing it,\nI might not know that.\n\n402\n00:17:53.840 --> 00:17:57.150\nSo, if I'm looking at my server and\nit's really running sluggish,\n\n403\n00:17:57.150 --> 00:18:01.140\nI can fire up Top and\nI can say who's consuming all this CPU?\n\n404\n00:18:01.140 --> 00:18:07.644\nI can see right here up at the top\nthat the root user is consuming\n\n405\n00:18:07.644 --> 00:18:13.060\n100% of the CPU, right here,\n100% of one of my cores.\n\n406\n00:18:13.060 --> 00:18:15.630\nAnd I can see that the root\nuser that's doing it,\n\n407\n00:18:15.630 --> 00:18:19.490\nversus some of these other users, and\nI can see the process ID right there.\n\n408\n00:18:19.490 --> 00:18:22.310\nThe Top command gives you\neverything you need to see\n\n409\n00:18:22.310 --> 00:18:24.280\nabout who's consuming those resources.\n\n410\n00:18:25.440 --> 00:18:28.930\nAnd so now I know,\nif I want to kill that, I can kill 8299.\n\n411\n00:18:28.930 --> 00:18:32.340\nAnd so I'm just going to come in here and\nsay kill 8299.\n\n412\n00:18:32.340 --> 00:18:34.660\nAnd that's going to kill that process.\n\n413\n00:18:34.660 --> 00:18:38.280\nAnd if I go right back in the Top, now\nI can see that's not happening anymore.\n\n414\n00:18:38.280 --> 00:18:40.810\nMy CPU is freed up and\nmy system is ready to rock.\n\n415\n00:18:40.810 --> 00:18:43.260\nNow I probably need to find out\nwhy that was happening, right.\n\n416\n00:18:43.260 --> 00:18:46.410\nHere it was that Stress command,\nbut maybe use some other software.\n\n417\n00:18:46.410 --> 00:18:48.830\nYour database server is\nconsuming all that CPU.\n\n418\n00:18:48.830 --> 00:18:50.290\nYou'd wanna find out why.\n\n419\n00:18:50.290 --> 00:18:53.430\nBut it's a great way for\nadministrators to quickly troubleshoot,\n\n420\n00:18:53.430 --> 00:18:57.400\nfind out who the resource hog is and\nterminate it out of there.\n\n421\n00:18:57.400 --> 00:19:00.910\nAnd I was using Top in terms of CPU,\nyou can use Top for memory also.\n\n422\n00:19:00.910 --> 00:19:04.960\nRight when you run Top, I still have that\njob sitting in the background don't I?\n\n423\n00:19:04.960 --> 00:19:06.460\nYep.\nLet me flip back to the job.\n\n424\n00:19:06.460 --> 00:19:09.820\nI'll be a conscientious resource consumer.\n\n425\n00:19:09.820 --> 00:19:13.290\nInside of Top, you actually\nhave a ton of different syntax.\n\n426\n00:19:13.290 --> 00:19:14.700\nIf you press the H key to get the help.\n\n427\n00:19:14.700 --> 00:19:17.350\nYou'll see where you can\nsort by all sorts of things.\n\n428\n00:19:17.350 --> 00:19:19.880\nAnd the default is the sort by CPU.\n\n429\n00:19:19.880 --> 00:19:25.370\nBut you can press M to get memory info,\nand then the sort options are.\n\n430\n00:19:25.370 --> 00:19:26.810\nLet's see, where are they?\n\n431\n00:19:26.810 --> 00:19:28.010\nThey're on here somewhere.\n\n432\n00:19:28.010 --> 00:19:30.580\nBut you can change it to\nsort by different reasons.\n\n433\n00:19:30.580 --> 00:19:36.840\nAnd then you've also got K, which lets\nyou kill right from inside of Top.\n\n434\n00:19:36.840 --> 00:19:39.909\nNow, you can kill and\nyou can do this thing called re-nice.\n\n435\n00:19:39.909 --> 00:19:43.760\nAll right, let me show you a kill first,\nwhich we've kinda already seen.\n\n436\n00:19:43.760 --> 00:19:46.090\nAnd then we'll talk about re-nice,\nall right.\n\n437\n00:19:46.090 --> 00:19:49.670\nWhen we talk about kill, basically I\ncan look and find a process, right.\n\n438\n00:19:49.670 --> 00:19:52.100\nSomething that's consuming\ntoo much resources.\n\n439\n00:19:52.100 --> 00:19:54.700\nSo, maybe I go over here and\nI run that Stress command again.\n\n440\n00:19:56.150 --> 00:19:59.780\nAnd I'll pick out one CPU, and\nI won't bother with a time out.\n\n441\n00:19:59.780 --> 00:20:01.690\nI keep wanting to spell that out.\n\n442\n00:20:01.690 --> 00:20:03.450\nThere, so, that's running.\n\n443\n00:20:03.450 --> 00:20:07.420\nAnd in Top, I can see that running, or\nI will here in a second when it updates.\n\n444\n00:20:07.420 --> 00:20:08.360\nThere we go.\n\n445\n00:20:08.360 --> 00:20:09.410\nNo, that's just Top.\n\n446\n00:20:09.410 --> 00:20:11.030\nWell, Stress isn't showing up yet.\n\n447\n00:20:12.220 --> 00:20:13.980\nWhy is Stress not showing up?\n\n448\n00:20:16.480 --> 00:20:18.170\nLet me make sure.\n\n449\n00:20:18.170 --> 00:20:19.730\n>> He likes the time out.\n\n450\n00:20:19.730 --> 00:20:23.990\n>> Oh you know what,\nI'm not running it as a root so\n\n451\n00:20:23.990 --> 00:20:29.000\nI'm seeing a limited view when I look\nat Top being run under my account, and\n\n452\n00:20:29.000 --> 00:20:34.510\nI'm not seeing other people\nif I had done a soo-doo Top.\n\n453\n00:20:35.780 --> 00:20:36.480\nThere we go.\n\n454\n00:20:36.480 --> 00:20:37.770\nNow I can see everybody.\n\n455\n00:20:37.770 --> 00:20:39.855\nAnd so\nI'm seeing that task running right there.\n\n456\n00:20:39.855 --> 00:20:41.590\n8335.\n\n457\n00:20:41.590 --> 00:20:46.570\nAnd if I pressK on my keyboard, see how\nit's offering to terminate the first one?\n\n458\n00:20:46.570 --> 00:20:50.350\nOr I can type in 8335 to\nterminate that specific one.\n\n459\n00:20:50.350 --> 00:20:54.774\nSo I can kill from right here from\ninside of Top which is pretty neat.\n\n460\n00:20:54.774 --> 00:20:57.920\nNow renice was the other [COUGH] option.\n\n461\n00:20:57.920 --> 00:21:00.080\nWhat the heck is nice?\n\n462\n00:21:00.080 --> 00:21:03.540\nWell, nice is a neat little command\nline utility that we can run\n\n463\n00:21:03.540 --> 00:21:07.500\nthat lets us specify\nthe priority of process gets.\n\n464\n00:21:07.500 --> 00:21:10.850\nWhen you run a process,\nit has a priority number assigned, and\n\n465\n00:21:10.850 --> 00:21:13.380\nhas this whole range of\nvalues that it can get.\n\n466\n00:21:13.380 --> 00:21:16.440\nAnd the nice command lets you\nover ride that, all right?\n\n467\n00:21:16.440 --> 00:21:19.590\nWith nice, you'd specify nice -n and\n\n468\n00:21:19.590 --> 00:21:23.760\nthe adjustment number you want, and\nthen the command you want to run.\n\n469\n00:21:23.760 --> 00:21:27.720\nAnd notice that it says the default\nniceness is ten, all right?\n\n470\n00:21:27.720 --> 00:21:30.680\nWith nice you can set a range I\nthink it goes from what is it,\n\n471\n00:21:30.680 --> 00:21:32.500\nnegative 20 to positive 20.\n\n472\n00:21:32.500 --> 00:21:37.440\nAnd if you look, the lower the number,\nthe more favorable it is,\n\n473\n00:21:37.440 --> 00:21:40.000\nthe more priority that process gets.\n\n474\n00:21:40.000 --> 00:21:45.750\nSo if I want something to have the highest\npriority on the system possible,\n\n475\n00:21:45.750 --> 00:21:50.970\nI could give that a nice\nfactor of negative 20.\n\n476\n00:21:50.970 --> 00:21:53.710\nAnd it's going to get access to\nall the resources in the world.\n\n477\n00:21:53.710 --> 00:21:58.330\nOther software will crawl to a stop\nif this program needs that access.\n\n478\n00:21:58.330 --> 00:22:01.040\n>> Well, that's perfect if I'm\nplaying around in Gimp as a regular\n\n479\n00:22:01.040 --> 00:22:05.710\nuser I can just re-nice all\nmy processes and have at it.\n\n480\n00:22:05.710 --> 00:22:06.500\n>> Absolutely.\n\n481\n00:22:06.500 --> 00:22:09.970\nYou can really go crazy with it and that's\nwhy it's kind of limited to administrators\n\n482\n00:22:09.970 --> 00:22:14.530\nor managing your own processes And\nthen the admins can still override that.\n\n483\n00:22:14.530 --> 00:22:15.730\nSame thing goes the opposite direction.\n\n484\n00:22:15.730 --> 00:22:17.090\nIf I have a program that I want to run and\n\n485\n00:22:17.090 --> 00:22:19.390\nI just want it to use\nextra resource cycles.\n\n486\n00:22:19.390 --> 00:22:22.800\nMaybe I want to run a Bitcoin\nminer in my background and\n\n487\n00:22:22.800 --> 00:22:26.770\njust have it use spare cycles,\nI could run that with a nice value of 20.\n\n488\n00:22:26.770 --> 00:22:29.760\n20 would be the least favorable,\npositive 20.\n\n489\n00:22:29.760 --> 00:22:32.720\nAnd that would basically say,\nlet any other program have access\n\n490\n00:22:32.720 --> 00:22:36.480\nto the resources, and only if nobody's\nusing it will I start to consume it.\n\n491\n00:22:36.480 --> 00:22:41.105\nSo if I were to do something\nlike run nice, and\n\n492\n00:22:41.105 --> 00:22:44.165\nif you look at the syntax for\nnice it's pretty easy right?\n\n493\n00:22:44.165 --> 00:22:47.045\nJust dash n, and\nwhat you want that adjustment to be.\n\n494\n00:22:47.045 --> 00:22:52.670\nSo I'm gonna say like nice and\nthen I'll give a value of 15.\n\n495\n00:22:52.670 --> 00:22:59.130\nAnd them I'm going to run Stress- CPU one,\nwith no time out.\n\n496\n00:22:59.130 --> 00:23:00.890\nSo, I'm going to run this guy.\n\n497\n00:23:00.890 --> 00:23:02.910\nAnd we'll see it do the whole thing.\n\n498\n00:23:02.910 --> 00:23:06.120\nSo, we're going to run Stress, but instead\nof having the default niceness of ten,\n\n499\n00:23:06.120 --> 00:23:08.410\nyou know,\neverything runs equal at ten by default.\n\n500\n00:23:08.410 --> 00:23:09.760\nThis one's going to run at fifteen.\n\n501\n00:23:09.760 --> 00:23:14.550\nIt's going to get lower priority and,\nI forgot the dash n.\n\n502\n00:23:14.550 --> 00:23:16.730\nMy syntax skills are kind of weak today.\n\n503\n00:23:16.730 --> 00:23:18.492\nI keep typing that.\n\n504\n00:23:18.492 --> 00:23:22.110\n[LAUGHS] This is like a comedy of errors,\nthere we go.\n\n505\n00:23:22.110 --> 00:23:24.480\nSo now I'm running a CPU Stress utility.\n\n506\n00:23:24.480 --> 00:23:29.980\nIt's going to try to consume 100% of\nmy CPU, but with a niceness of fifteen.\n\n507\n00:23:29.980 --> 00:23:33.840\nEverything else running the default\nniceness of ten, they get priority.\n\n508\n00:23:33.840 --> 00:23:35.960\nSo even though this is\nconsuming 100% of the CPU,\n\n509\n00:23:35.960 --> 00:23:39.190\nother stuff will still have\nall the access that it needs.\n\n510\n00:23:39.190 --> 00:23:43.160\nAnd if I look at Top,\nI see Stress consuming 100% of that CPU.\n\n511\n00:23:43.160 --> 00:23:46.740\nBut as I start to run other programs,\nthey'll take priority,\n\n512\n00:23:46.740 --> 00:23:48.505\nand they'll bump up above it.\n\n513\n00:23:48.505 --> 00:23:51.020\nNotice there's a column over there,\nNI, right?\n\n514\n00:23:51.020 --> 00:23:52.744\nThat's the niceness column.\n\n515\n00:23:52.744 --> 00:23:56.418\nAnd I can see that mine\nhas a niceness Of 15.\n\n516\n00:23:56.418 --> 00:23:59.164\nBut then I've got other things,\nlike this kernel worker.\n\n517\n00:23:59.164 --> 00:24:00.680\nWhere'd it go?\n\n518\n00:24:00.680 --> 00:24:01.860\nIt's just kind of jumping on me.\n\n519\n00:24:01.860 --> 00:24:05.560\nBut yeah, the kernel worker, it always\nneeds access, because it's a kernel.\n\n520\n00:24:05.560 --> 00:24:08.660\nSo it's negative 20,\nthe highest priority possible.\n\n521\n00:24:08.660 --> 00:24:12.060\nOther things are running with\nthe niceness of 0, just dead middle.\n\n522\n00:24:12.060 --> 00:24:13.660\nThese are services that are running.\n\n523\n00:24:13.660 --> 00:24:16.980\nAs I start to run other programs, though,\nthe default niceness will be ten,\n\n524\n00:24:16.980 --> 00:24:21.120\nand they'll come in here, and they'll get\nmore priority than the stress command, but\n\n525\n00:24:21.120 --> 00:24:23.570\nless priority than\nan operating system utility.\n\n526\n00:24:24.890 --> 00:24:29.460\nSo, when we say re-nice,\nwhat does that mean?\n\n527\n00:24:29.460 --> 00:24:34.390\nWell, that means change the niceness of\na process after it's already running.\n\n528\n00:24:34.390 --> 00:24:39.698\nSo, I could hit that R to re-nice, and\nI can put in what process I want to do.\n\n529\n00:24:39.698 --> 00:24:42.767\nSo I'll take that stress utility,\nwhich is 8439,\n\n530\n00:24:42.767 --> 00:24:46.831\nthat's what it's defaulting to,\nand I'm going to re-nice it to 16.\n\n531\n00:24:46.831 --> 00:24:49.732\nAnd when I do that, I can see\nthe niceness column just changed and\n\n532\n00:24:49.732 --> 00:24:51.220\nnow it's got the value of 16.\n\n533\n00:24:51.220 --> 00:24:54.970\nSo, if you have a process running and\nit's consuming too many resources,\n\n534\n00:24:54.970 --> 00:24:59.870\nbefore you just go and kill it,\nmaybe you just lessen its niceness, right?\n\n535\n00:24:59.870 --> 00:25:04.080\nMove it up to, like, niceness of 18,\nand that way it's not gonna be\n\n536\n00:25:04.080 --> 00:25:08.120\nfreezing your system anymore and now you\ncan try and diagnose what its problem is.\n\n537\n00:25:08.120 --> 00:25:10.100\nRight?\nWhat exactly is wrong with it?\n\n538\n00:25:10.100 --> 00:25:11.540\nAnd that gives you\na little breathing room,\n\n539\n00:25:11.540 --> 00:25:13.930\ncuz if you terminate the process\nit's gonna stop working.\n\n540\n00:25:13.930 --> 00:25:17.330\nMaybe right now it's just running slow,\nbut at least it's running.\n\n541\n00:25:17.330 --> 00:25:19.920\nAnd you wanna keep that going and\nnot have to exit the program and\n\n542\n00:25:19.920 --> 00:25:21.100\nstart all over again.\n\n543\n00:25:21.100 --> 00:25:25.320\nSo you can kill a process\nusing the kill command, or\n\n544\n00:25:25.320 --> 00:25:28.420\nyou could kinda finesse its\npriority using re-nice.\n\n545\n00:25:28.420 --> 00:25:30.280\nAnd you can use re-nice\nfrom the command line too.\n\n546\n00:25:30.280 --> 00:25:32.320\nIt's not just here.\n\n547\n00:25:32.320 --> 00:25:34.670\nYou've got nice and\nre-nice from the command line, and\n\n548\n00:25:34.670 --> 00:25:36.150\nthey work the same way, right?\n\n549\n00:25:36.150 --> 00:25:38.680\nBut using it from right inside of\nthe top command is pretty handy.\n\n550\n00:25:38.680 --> 00:25:42.130\n>> Yeah, and this was really great for\nprogrammers that are compiling code.\n\n551\n00:25:42.130 --> 00:25:46.210\nIt can take a long time for those jobs\nto run, because there are lots and\n\n552\n00:25:46.210 --> 00:25:49.380\nlots of lines of code that can\nbe inside any given program.\n\n553\n00:25:49.380 --> 00:25:52.872\nSo if there were saying hey,\nI need my computer to compile a code, but\n\n554\n00:25:52.872 --> 00:25:56.004\nI don't want to spend all my\nresources going after the thing,\n\n555\n00:25:56.004 --> 00:25:59.096\nI still have other things I need\nto be doing during out my day.\n\n556\n00:25:59.096 --> 00:26:03.719\nWell I can just re-nice that thing, make\nit a little lower on the priority totem\n\n557\n00:26:03.719 --> 00:26:06.380\npole, and continue to work as normal.\n\n558\n00:26:06.380 --> 00:26:10.040\nOr, if I want to say this\njob needs to get done today,\n\n559\n00:26:10.040 --> 00:26:14.170\njump that priority way on up,\ndo that minus 20 or do the minus 19.\n\n560\n00:26:14.170 --> 00:26:14.950\nSomething to that effect.\n\n561\n00:26:14.950 --> 00:26:19.920\nGive it a higher priority and\nthen that code will compile much faster.\n\n562\n00:26:19.920 --> 00:26:20.940\n>> Yep.\n\n563\n00:26:20.940 --> 00:26:24.240\nAll right, now let me give you guys one\nmore example before we wrap this one up.\n\n564\n00:26:24.240 --> 00:26:28.480\nIt might be that you want to kill more\nthan one instance of a process at the same\n\n565\n00:26:28.480 --> 00:26:29.380\ntime, right?\n\n566\n00:26:29.380 --> 00:26:30.420\nLet me show you guys an example.\n\n567\n00:26:30.420 --> 00:26:31.290\nSo here are my session,\n\n568\n00:26:31.290 --> 00:26:34.650\nI'm actually running two copies\nof that stress utility right now.\n\n569\n00:26:34.650 --> 00:26:35.990\nI probably don't want that.\n\n570\n00:26:35.990 --> 00:26:38.699\nSo we can do what's called a killall,\n\n571\n00:26:38.699 --> 00:26:42.863\nwhich will allow us to kill more\nthan one process at a time.\n\n572\n00:26:42.863 --> 00:26:45.063\nIt's kind of important we\nspecify what that process is.\n\n573\n00:26:45.063 --> 00:26:48.120\nNow I'm gonna do a swdo cuz I\nthink I ran some of these as root.\n\n574\n00:26:48.120 --> 00:26:50.810\nSo as just my regular user I\nwon't be able to terminate those.\n\n575\n00:26:50.810 --> 00:26:55.170\nBut I'm gonna do a killall -i stress, and\n\n576\n00:26:55.170 --> 00:26:58.770\nthis will look for\nany process named stress and kill it.\n\n577\n00:26:58.770 --> 00:27:03.221\nSo here it just found on 8438, and there's\n8439 and I said yes on both of those.\n\n578\n00:27:03.221 --> 00:27:07.995\nThere is actually, if we pull up the main\npage there's an option where you\n\n579\n00:27:07.995 --> 00:27:10.239\ncan tell it to do it quietly, -q.\n\n580\n00:27:10.239 --> 00:27:14.070\nIf you do a -q then it's not\ngonna prompt you for each one.\n\n581\n00:27:14.070 --> 00:27:21.050\nAnd so we could say just pseudo\nkillall -q -i stress, right?\n\n582\n00:27:21.050 --> 00:27:22.140\nJust quietly do it.\n\n583\n00:27:22.140 --> 00:27:25.020\nKill any process named stress, and\nit's gonna knock them all out.\n\n584\n00:27:25.020 --> 00:27:29.050\nAnd when that's done, you can look at your\nprocesses and verify that it is gone.\n\n585\n00:27:29.050 --> 00:27:30.180\nI don't have it anymore.\n\n586\n00:27:31.420 --> 00:27:34.770\nNow if we want to filter that\na bit just to make sure,\n\n587\n00:27:34.770 --> 00:27:38.220\nI can pipe that into grep, and\nlook for any process named stress.\n\n588\n00:27:38.220 --> 00:27:39.470\nI don't get anything.\n\n589\n00:27:39.470 --> 00:27:41.870\nAnd a lot of Linux distros actually\nhave a short cut for that.\n\n590\n00:27:41.870 --> 00:27:45.890\nThey'll have, let's see,\nwhat is it, psgrep or pgrep?\n\n591\n00:27:45.890 --> 00:27:47.731\n>> Yeah, pgrep, yeah.\n>> It's pgrep.\n\n592\n00:27:47.731 --> 00:27:50.080\nWe're gonna say pgrep stress.\n\n593\n00:27:50.080 --> 00:27:55.310\nAnd that'll basically run ps -a\npiped into a grep command for you.\n\n594\n00:27:55.310 --> 00:27:58.780\nSo you can quickly see if you're\nrunning any of those processes.\n\n595\n00:27:58.780 --> 00:28:04.160\nSo here I did a pgraph from my sld and\nI am running a process id of 8089.\n\n596\n00:28:04.160 --> 00:28:07.644\nAnd so then I can come in,\nI can say kill 8089 and\n\n597\n00:28:07.644 --> 00:28:11.450\nI can redo that with a sudo and\nthat'll kill that.\n\n598\n00:28:11.450 --> 00:28:12.824\nAnd now I've stopped MySQL.\n\n599\n00:28:12.824 --> 00:28:15.941\nSo, couple of neat ways to manage\nthis stuff from the command line.\n\n600\n00:28:15.941 --> 00:28:19.199\nThe coolest part here is we're\nmultitasking from a command line\n\n601\n00:28:19.199 --> 00:28:20.420\nenvironment.\n\n602\n00:28:20.420 --> 00:28:22.940\nAnd a lot of people get this predisposed\nnotion that you can't do that.\n\n603\n00:28:22.940 --> 00:28:24.580\nOh, if I want to multitask,\nI gotta have Windows.\n\n604\n00:28:25.750 --> 00:28:27.220\nNo, you don't need a Windows system.\n\n605\n00:28:27.220 --> 00:28:30.420\nYou don't need X-Windows, or\neven Microsoft Windows, whatever for that.\n\n606\n00:28:30.420 --> 00:28:34.505\nYou go right here from the command line,\nLinux is built to multi-task,\n\n607\n00:28:34.505 --> 00:28:37.635\nit's built to run many,\nmany things at the same time.\n\n608\n00:28:37.635 --> 00:28:38.154\nTake advantage of it.\n\n609\n00:28:38.154 --> 00:28:40.505\n>> Yeah.\nNow I would want to mention as well,\n\n610\n00:28:40.505 --> 00:28:44.775\nwith the kill command, you do have some\nsignals that you can send to that.\n\n611\n00:28:44.775 --> 00:28:47.319\nAnd sometimes you get a process\nthat just doesn't want to die,\n\n612\n00:28:47.319 --> 00:28:48.615\nno matter what you do.\n\n613\n00:28:48.615 --> 00:28:53.094\nAnd if you send the signal of a 9,\nwhich is the kill it no matter what,\n\n614\n00:28:53.094 --> 00:28:57.270\nit's basically forcing it to die,\nthen it will, usually.\n\n615\n00:28:57.270 --> 00:28:59.740\nI've never had a problem with Kill-9,\n\n616\n00:28:59.740 --> 00:29:02.110\nmaking sure that something\ngoes out of there.\n\n617\n00:29:02.110 --> 00:29:06.095\n>> Yeah, and the syntax, just like\nDaniel mentioned there, it's Kill-9, and\n\n618\n00:29:06.095 --> 00:29:08.570\nthen the name of the process\nthat you want to kill.\n\n619\n00:29:08.570 --> 00:29:11.560\nAnd it is terminating with\nextreme prejudice, right?\n\n620\n00:29:11.560 --> 00:29:13.130\n>> Yes.\n>> That's when you want them gone.\n\n621\n00:29:13.130 --> 00:29:14.157\n>> That's using the 50 cal.\n\n622\n00:29:14.157 --> 00:29:17.930\n>> [CROSSTALK] [LAUGH]\n>> On a squirrel.\n\n623\n00:29:17.930 --> 00:29:19.280\n>> All right, well Daniel, I think,\n\n624\n00:29:19.280 --> 00:29:22.040\nas far as basic process management,\nthat's about all we got for today.\n\n625\n00:29:22.040 --> 00:29:23.140\nYou got anything else you wanna throw in?\n\n626\n00:29:23.140 --> 00:29:25.120\n>> No, I think that's about\nall we have for today,\n\n627\n00:29:25.120 --> 00:29:28.340\nwrapped up another great show for\nITProTV Studios.\n\n628\n00:29:28.340 --> 00:29:30.389\nSigning off,\nI've been your host Daniel Lowry.\n\n629\n00:29:30.389 --> 00:29:31.514\n>> And I'm Don Pezet.\n\n630\n00:29:31.514 --> 00:29:32.590\n>> And we'll see you next time.\n\n631\n00:29:32.590 --> 00:29:38.490\n[MUSIC]\n\n",
          "vimeoId": "130988918"
        }
      ],
      "title": "(LX0-103) Managing Software"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "2034",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-1-configuring_hardware-061615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-1-configuring_hardware-061615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-1-configuring_hardware-061615-1-sm.jpg",
          "title": "Configuring Hardware",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.578\n[MUSIC]\n\n2\n00:00:10.578 --> 00:00:14.010\nAll right everyone, greetings and welcome\nto another great episode of ITproTV.\n\n3\n00:00:14.010 --> 00:00:16.290\nI'll be your host Daniel Lowrie.\n\n4\n00:00:16.290 --> 00:00:18.710\nHere with me today is,\nwell it's Don Pezet.\n\n5\n00:00:18.710 --> 00:00:19.590\nHow you doing today Don?\n\n6\n00:00:19.590 --> 00:00:22.775\n>> There was that moment of doubt,\nwhere I was like, does he know who I am?\n\n7\n00:00:22.775 --> 00:00:24.480\n[LAUGH] l am doing great today Daniel.\n\n8\n00:00:24.480 --> 00:00:28.530\nWe are jumping into a hardware based\nepisode, which is a little bit different\n\n9\n00:00:28.530 --> 00:00:30.810\nthan a lot of what we've been\ntalking about in this series.\n\n10\n00:00:30.810 --> 00:00:34.780\nWe've focused on the Linux operating\nsystem and the software side of things.\n\n11\n00:00:34.780 --> 00:00:38.420\nWe do kinda lose sight sometimes that\nLinux is running on top of our hardware\n\n12\n00:00:38.420 --> 00:00:41.270\nand it's got to be able to recognize and\ndeal with the hardware.\n\n13\n00:00:41.270 --> 00:00:43.797\nNow Daniel, I remember when\nI first started with Linux,\n\n14\n00:00:43.797 --> 00:00:47.536\nthis was the biggest challenge, to get you\nknow you picked your distro based on which\n\n15\n00:00:47.536 --> 00:00:49.816\none recognized the most of your hardware,\nright?\n\n16\n00:00:49.816 --> 00:00:50.761\n>> That's exactly right.\n\n17\n00:00:50.761 --> 00:00:52.740\n>> It didn't even come\ndown to your preference.\n\n18\n00:00:52.740 --> 00:00:56.960\nIt was, man, if I run Fedora,\nit'll recognize my wireless card.\n\n19\n00:00:56.960 --> 00:01:00.680\nBut if I run Debian I get\nthis other software, and\n\n20\n00:01:00.680 --> 00:01:02.230\nyou had to kinda pick and choose.\n\n21\n00:01:02.230 --> 00:01:04.030\nIt's become a lot better since then,\nright?\n\n22\n00:01:04.030 --> 00:01:04.590\n>> Oh, yeah.\n\n23\n00:01:04.590 --> 00:01:06.260\nIt's just night and day.\n\n24\n00:01:06.260 --> 00:01:10.320\nBack when we first started using it,\nI remember trying to get a DVD burner to\n\n25\n00:01:10.320 --> 00:01:14.370\nwork in my Linux tile and\nI was just like, this is impossible.\n\n26\n00:01:14.370 --> 00:01:18.210\nThis is the reason that no one goes to\nLinux, and I'm thinking about giving up.\n\n27\n00:01:18.210 --> 00:01:21.046\nAnd then I got it to work, and\nI felt better about my life.\n\n28\n00:01:21.046 --> 00:01:22.440\n[LAUGH]\n>> You do get a sense of achievement,\n\n29\n00:01:22.440 --> 00:01:23.770\nwhich is nice.\n\n30\n00:01:23.770 --> 00:01:27.580\nWell, most users, if you're just\nstarting out with Linux today,\n\n31\n00:01:27.580 --> 00:01:29.500\nwell we're kind of pretty\nfar in this series, so\n\n32\n00:01:29.500 --> 00:01:31.780\nmaybe a few days ago when you\nstarted watching the show,\n\n33\n00:01:31.780 --> 00:01:35.390\nthen you probably haven't had to deal with\nmuch in the way of hardware troubles.\n\n34\n00:01:35.390 --> 00:01:39.950\nBecause the Linux distributors have gotten\nso good about packaging drivers and\n\n35\n00:01:39.950 --> 00:01:42.680\nopen source support for\ndrivers have become a lot better,\n\n36\n00:01:42.680 --> 00:01:46.340\nthat today it's not uncommon to\ninstall Linux on your hardware and\n\n37\n00:01:46.340 --> 00:01:47.700\neverything just works\nright out of the box.\n\n38\n00:01:47.700 --> 00:01:50.590\nYou don't have to tweak with anything and\nit works great.\n\n39\n00:01:50.590 --> 00:01:52.560\nBut it doesn't always work great.\n\n40\n00:01:52.560 --> 00:01:55.290\nSo in this episode we're gonna talk\nabout how to recognize whether our\n\n41\n00:01:55.290 --> 00:01:58.220\nhardware is being detected,\nif we're having problems with hardware,\n\n42\n00:01:58.220 --> 00:02:01.170\nsome of the things we can do, and some of\nthe other interactions that we've got.\n\n43\n00:02:01.170 --> 00:02:03.390\nSo that's kind of what we've got lined up.\n\n44\n00:02:03.390 --> 00:02:06.730\nAnd I want to start with something\nthat's not really Linux related.\n\n45\n00:02:06.730 --> 00:02:10.120\nI wanna start with just\nthe BIOS of your system.\n\n46\n00:02:10.120 --> 00:02:14.350\nNow, when you have a laptop or\na desktop and you press that power button,\n\n47\n00:02:14.350 --> 00:02:18.350\nthe first thing that comes up is not\nLinux, it's the BIOS for your system,\n\n48\n00:02:18.350 --> 00:02:21.370\nyour Basic Input Output System\nthat kicks in.\n\n49\n00:02:21.370 --> 00:02:24.000\nAnd one of the reasons why we have so\n\n50\n00:02:24.000 --> 00:02:28.270\nmuch great compatibility today is that\nthe BIOS, which used to be fairly simple,\n\n51\n00:02:28.270 --> 00:02:32.190\nhas gotten more and more complex and\nit does a lot more than it used to.\n\n52\n00:02:32.190 --> 00:02:36.790\nSo on a modern system, you're typically\ngonna have an EFI or UEFI BIOS on it.\n\n53\n00:02:36.790 --> 00:02:40.850\nAnd when your system boots up,\nthat BIOS is able to do a lot,\n\n54\n00:02:40.850 --> 00:02:43.930\nincluding looking at the hard drives and\nfinding the operating systems and\n\n55\n00:02:43.930 --> 00:02:46.760\nbooting a particular OS\non a particular drive.\n\n56\n00:02:46.760 --> 00:02:48.240\nWhereas BIOS in the past couldn't do that.\n\n57\n00:02:48.240 --> 00:02:52.620\nIt would just say, let me just throw\nthis at this drive and see what happens.\n\n58\n00:02:52.620 --> 00:02:55.690\nNow UEFI actually has an understanding\nwhat's on that drive.\n\n59\n00:02:55.690 --> 00:02:59.170\nSo that gives us a lot more\ncompatibility and flexibility, and\n\n60\n00:02:59.170 --> 00:03:02.060\nas a result we don't normally\nhave to go to our BIOS.\n\n61\n00:03:02.060 --> 00:03:03.740\nBut on the exam,\nthey expect you to know that.\n\n62\n00:03:03.740 --> 00:03:06.926\nSo just in case you don't have it,\nI wanna show you guys an example.\n\n63\n00:03:06.926 --> 00:03:10.910\nNow, if you've never access the BIOS of\nyour system, it's a little different for\n\n64\n00:03:10.910 --> 00:03:11.930\ndifferent hardware.\n\n65\n00:03:11.930 --> 00:03:16.090\nWhen you boot your system up, there's\nnormally a keyboard combination that you\n\n66\n00:03:16.090 --> 00:03:19.730\nhit, and the most common ones are,\nyou'll see a little message on your screen\n\n67\n00:03:19.730 --> 00:03:24.030\nthat'll say, press F1 to access setup or\npress F2 for BIOS configuration utility.\n\n68\n00:03:24.030 --> 00:03:27.960\nPress F11, I've seen control F11,\nthat one's annoying.\n\n69\n00:03:27.960 --> 00:03:31.450\nYou know there's different ones you\nhave to hit keyboard combinations on\n\n70\n00:03:31.450 --> 00:03:33.110\nto get it to the BIOS.\n\n71\n00:03:33.110 --> 00:03:38.240\nThere's other systems, like some of the\nToshiba Satellites or any Apple system,\n\n72\n00:03:38.240 --> 00:03:42.360\nwhere they don't let you get to the BIOS,\nit's locked away and you can't get to it.\n\n73\n00:03:42.360 --> 00:03:45.590\nSometimes you have that, sometimes it's\nvery obvious that you can't do it.\n\n74\n00:03:45.590 --> 00:03:48.540\nIf you can access the BIOS in your system,\nthere's\n\n75\n00:03:48.540 --> 00:03:51.700\nreally only a couple of settings we need\nto worry about from a Linux perspective,\n\n76\n00:03:51.700 --> 00:03:54.340\nso let me walk you through a few of those.\n\n77\n00:03:54.340 --> 00:04:00.570\nNow I've got one of the Lenovo BIOS\nemulators so this isn't my actual laptop.\n\n78\n00:04:00.570 --> 00:04:04.480\nBut what you can see is what you'd expect\nwhen you get into the BIOS for a system.\n\n79\n00:04:04.480 --> 00:04:07.000\nIt's usually very basic,\ntext-based like this.\n\n80\n00:04:07.000 --> 00:04:08.680\nIt might have graphics, some of them do,\n\n81\n00:04:08.680 --> 00:04:11.480\nbut most of them look just\nlike this right here.\n\n82\n00:04:11.480 --> 00:04:14.200\nAnd the first screen will probably give\nyou something that's like a summary\n\n83\n00:04:14.200 --> 00:04:17.690\nof your hardware,\nthe amount of memory in your system,\n\n84\n00:04:17.690 --> 00:04:19.340\nand other resources like that.\n\n85\n00:04:20.390 --> 00:04:23.340\nWhen we go into configuration,\nthe most important things for\n\n86\n00:04:23.340 --> 00:04:26.940\nus here are gonna be the date and\nthe hard drive configuration right?\n\n87\n00:04:26.940 --> 00:04:28.590\nThose are usually the only\nthings that we care about,\n\n88\n00:04:28.590 --> 00:04:30.310\nthe rest of it we usually\nleave at the default.\n\n89\n00:04:30.310 --> 00:04:32.290\nBut let's just walk through a few\nof these to make sure that we're\n\n90\n00:04:32.290 --> 00:04:33.700\ncomfortable with it.\n\n91\n00:04:33.700 --> 00:04:36.960\nNow you might ask yourself,\nwhy is the date and time important?\n\n92\n00:04:36.960 --> 00:04:38.470\nAll right.\n\n93\n00:04:38.470 --> 00:04:41.510\nWell your system has\na hardware clock in it.\n\n94\n00:04:41.510 --> 00:04:45.310\nAnd by default Linux is gonna rely on that\nhardware clock to know what time it is.\n\n95\n00:04:45.310 --> 00:04:49.080\nAnd when you power your computer off,\nLinux stops running.\n\n96\n00:04:49.080 --> 00:04:50.390\nBut your BIOS keeps running.\n\n97\n00:04:50.390 --> 00:04:53.130\nIt's got a battery, it keeps\nrunning when your computer is off.\n\n98\n00:04:53.130 --> 00:04:56.190\nAnd so when you turn your computer on\nagain, your computer knows exactly how\n\n99\n00:04:56.190 --> 00:04:59.870\nmuch time has passed because of\nthe BIOS clock, the system clock.\n\n100\n00:04:59.870 --> 00:05:01.780\nAnd so, Linux relies on that.\n\n101\n00:05:01.780 --> 00:05:04.590\nEven if you're using an NTP server,\nthis is required for\n\n102\n00:05:04.590 --> 00:05:07.158\nhaving accurate time at boot up.\n\n103\n00:05:07.158 --> 00:05:09.390\nSo we wanna make sure the time\nis accurate in here and\n\n104\n00:05:09.390 --> 00:05:12.360\nit may not be, it might have the wrong\ndate, it might have the wrong time.\n\n105\n00:05:12.360 --> 00:05:17.370\nWe'll need to adjust and change those\nsettings to reflect the current values.\n\n106\n00:05:17.370 --> 00:05:21.140\nThen there's various hardware\nyou can turn on and off.\n\n107\n00:05:21.140 --> 00:05:23.840\nIf you've got a wireless adapter in\nyour system and you're not gonna use it,\n\n108\n00:05:23.840 --> 00:05:25.210\nyou might want to turn it off.\n\n109\n00:05:25.210 --> 00:05:26.600\nRight?\nEspecially if it's like a server,\n\n110\n00:05:26.600 --> 00:05:28.230\nyou don't need wireless there.\n\n111\n00:05:28.230 --> 00:05:32.110\nSo certain things like sound cards and\nUSB you might want to disable, and\n\n112\n00:05:32.110 --> 00:05:33.530\nyou can disable those in BIOS.\n\n113\n00:05:33.530 --> 00:05:37.230\nYou might find that USB is not working in\nLinux, and you're pulling your hair out\n\n114\n00:05:37.230 --> 00:05:40.810\ntrying to get it to work and it turns\nout that it's just disabled in BIOS.\n\n115\n00:05:40.810 --> 00:05:44.170\nSo Linux never even had\nthe opportunity to make it work and\n\n116\n00:05:44.170 --> 00:05:46.760\nwe need to put the blame where it belongs,\nright here in the BIOS.\n\n117\n00:05:48.440 --> 00:05:52.870\nOther things, SATA Controller working\nmode, you see this one a lot.\n\n118\n00:05:52.870 --> 00:05:54.900\nThis is your hard drive controller.\n\n119\n00:05:54.900 --> 00:05:58.910\nA lot of motherboards have three\nmodes that they can run in for this.\n\n120\n00:05:58.910 --> 00:06:02.640\nYou'll see this one shows just two modes,\nIDE and AHCI.\n\n121\n00:06:03.670 --> 00:06:07.320\nIDE is the old method for\naccessing disc storage.\n\n122\n00:06:07.320 --> 00:06:09.790\nIt's slower, but it's super compatible.\n\n123\n00:06:09.790 --> 00:06:13.080\nIt'll work with every Linux\ndistro that's out there.\n\n124\n00:06:13.080 --> 00:06:14.740\nAHCI is the newer method.\n\n125\n00:06:14.740 --> 00:06:17.570\nIt attains higher speeds,\ngives you more reliability,\n\n126\n00:06:17.570 --> 00:06:19.040\nallows for larger hard drives.\n\n127\n00:06:19.040 --> 00:06:21.920\nAnd so it allows a lot of stuff.\n\n128\n00:06:21.920 --> 00:06:24.590\nBut it may not be compatible\nwith every distro out there.\n\n129\n00:06:24.590 --> 00:06:27.030\nNow, I'll tell you,\nI think every distro these days is, so\n\n130\n00:06:27.030 --> 00:06:28.630\nit's not such a big deal.\n\n131\n00:06:28.630 --> 00:06:33.120\nBut you might also have a third mode,\nand that third mode might be RAID.\n\n132\n00:06:33.120 --> 00:06:36.220\nYour motherboard might have an integrated\nRAID controller in it, and there, I'll\n\n133\n00:06:36.220 --> 00:06:39.440\ntell you it's a crapshoot whether Linux is\ngonna support that RAID controller or not.\n\n134\n00:06:41.560 --> 00:06:43.434\nI'd probably say I have\na 50% hit rate on that one.\n\n135\n00:06:43.434 --> 00:06:45.650\n>> [LAUGH]\n>> if you have an Intel RAID controller\n\n136\n00:06:45.650 --> 00:06:48.450\nintegrated into your motherboard,\nLinux will probably support it.\n\n137\n00:06:48.450 --> 00:06:52.230\nIf it's any other vendor, it's really\nreally hit or miss, and you're not sure.\n\n138\n00:06:52.230 --> 00:06:55.430\nAnd I've even seen some Intel ones that\ndidn't work quite right under Linux.\n\n139\n00:06:55.430 --> 00:06:57.765\nSo, even though you've got\nan onboard RAID controller,\n\n140\n00:06:57.765 --> 00:07:02.565\nyou might wanna choose AHCI anyway and\ndisable that onboard RAID.\n\n141\n00:07:02.565 --> 00:07:05.505\nAnd put in a separate RAID controller\nthat you know is supported.\n\n142\n00:07:05.505 --> 00:07:09.083\nOr you might wanna do redundancy\ninside of Linux in software.\n\n143\n00:07:09.083 --> 00:07:12.600\nIt's not as good for performance, but you\nknow those are options that are available.\n\n144\n00:07:12.600 --> 00:07:14.230\nAnd those are thing that\nwe might want to tweak.\n\n145\n00:07:16.780 --> 00:07:18.350\nOther things that we might\nwant to modify here,\n\n146\n00:07:18.350 --> 00:07:21.480\nyou've got security settings if you\nwant to set like a BIOS password.\n\n147\n00:07:21.480 --> 00:07:24.190\nBut the boot order, is the next one.\n\n148\n00:07:24.190 --> 00:07:27.850\nAnd the boot order is gonna influence,\nlike if we wanna install Linux and\n\n149\n00:07:27.850 --> 00:07:29.610\nI've got a bootable USB key or\n\n150\n00:07:29.610 --> 00:07:33.400\na bootable CD drive, I've gotta make\nsure my boot order reflects that.\n\n151\n00:07:33.400 --> 00:07:35.020\nThat I can boot from the CD.\n\n152\n00:07:35.020 --> 00:07:39.640\nLook at this one,\nwe've got USB floppy disk controller.\n\n153\n00:07:39.640 --> 00:07:43.480\nIf you've got a USB floppy,\nwhich I think most of us don't,\n\n154\n00:07:43.480 --> 00:07:46.260\nthen you've got IDE hard drive,\nHitachi whatever.\n\n155\n00:07:46.260 --> 00:07:47.716\nSo it's gonna boot from this hard drive.\n\n156\n00:07:47.716 --> 00:07:49.986\nIf that hard drive doesn't\nhave a bootable OS,\n\n157\n00:07:49.986 --> 00:07:52.779\nthen it's gonna boot to\nan optical disc drive, this DVD.\n\n158\n00:07:52.779 --> 00:07:55.403\nWell, if I'm trying to\ninstall Linux from a DVD And\n\n159\n00:07:55.403 --> 00:07:59.553\nI've already got Windows on the hard\ndrive, it boots from the hard drive first,\n\n160\n00:07:59.553 --> 00:08:02.160\nit's never gonna boot from the DVD right?\n\n161\n00:08:02.160 --> 00:08:04.220\nUnless there's some kind of boot menu,\nI can access,\n\n162\n00:08:04.220 --> 00:08:08.340\nsome systems will say press f10 for a boot\nmenu and you can pick what you boot from.\n\n163\n00:08:08.340 --> 00:08:12.950\nSo I might need to change this boot order\nto reflect what I want to boot from.\n\n164\n00:08:12.950 --> 00:08:17.520\nMaybe I'm creating an ultra compact Linux\nserver and it's gonna be in one of those\n\n165\n00:08:17.520 --> 00:08:19.440\ntiny little boxes, and\nit's not gonna have a hard drive.\n\n166\n00:08:19.440 --> 00:08:21.450\nIt's gonna have a USB key inside of it,\nand so\n\n167\n00:08:21.450 --> 00:08:23.750\nI always want to boot from the USB key.\n\n168\n00:08:23.750 --> 00:08:28.670\nI would need to change this order to put\nthat USB key up in the higher echelon.\n\n169\n00:08:28.670 --> 00:08:32.655\nI don't know if this thing will\nactually let me change this stuff.\n\n170\n00:08:32.655 --> 00:08:35.020\n[LAUGH] I'm pretty sure it doesn't,\nit's just a simulator.\n\n171\n00:08:35.020 --> 00:08:35.630\nBut, basically,\n\n172\n00:08:35.630 --> 00:08:38.960\nyou'd need to move those things around\nto get them in the right order.\n\n173\n00:08:38.960 --> 00:08:42.870\nThese are things that we need to do in\nBIOS that Linux has no control over.\n\n174\n00:08:42.870 --> 00:08:46.810\nIt's not able to see these values,\nthey're already set by the time the Linux\n\n175\n00:08:46.810 --> 00:08:49.050\noperating system starts to boot up,\nall right.\n\n176\n00:08:49.050 --> 00:08:51.650\nSo be aware that when we talk\nabout configuring your hardware,\n\n177\n00:08:51.650 --> 00:08:55.830\nwe really start even before\nwe get to Linux, all right.\n\n178\n00:08:55.830 --> 00:08:57.980\nAnother thing to keep an eye out for, and\n\n179\n00:08:57.980 --> 00:09:02.570\nthis little BIOS simulator doesn't show up\nfor me, is your hard drive configuration.\n\n180\n00:09:02.570 --> 00:09:04.720\nWe're starting to see\na lot of four terabyte and\n\n181\n00:09:04.720 --> 00:09:08.880\nsix terabyte hard drives,\nyour motherboard might not support those.\n\n182\n00:09:08.880 --> 00:09:11.036\nYou might throw a six terabyte\nhard drive in there and\n\n183\n00:09:11.036 --> 00:09:12.508\nLinux is seeing it as one terabyte.\n\n184\n00:09:12.508 --> 00:09:16.246\nYou're like, why doesn't Linux\nrecognize a six terabyte drive?\n\n185\n00:09:16.246 --> 00:09:17.036\nWell, it does.\n\n186\n00:09:17.036 --> 00:09:21.920\nLinux will recognize drives that are huge,\nbut your BIOS might not.\n\n187\n00:09:21.920 --> 00:09:24.000\nAnd so you might wanna jump in here and\n\n188\n00:09:24.000 --> 00:09:26.670\ndouble check to make sure your hard\ndrives are being detected properly.\n\n189\n00:09:26.670 --> 00:09:31.630\nThis one, this must be a laptop, because\nit's not giving me the storage stuff,\n\n190\n00:09:31.630 --> 00:09:33.250\nbeyond that one mode.\n\n191\n00:09:33.250 --> 00:09:36.500\nUsually desktops give you a lot more\nbecause they have a lot more ports, right?\n\n192\n00:09:36.500 --> 00:09:39.770\nBut a laptop, they have an expectation\nof just having that one drive and so\n\n193\n00:09:39.770 --> 00:09:40.950\nthey don't show it.\n\n194\n00:09:40.950 --> 00:09:41.950\nDid I have?\n\n195\n00:09:41.950 --> 00:09:44.610\nYeah, I just have one drive,\nyeah, this is probably a laptop.\n\n196\n00:09:44.610 --> 00:09:47.668\nSo just be aware that these are settings\nthat we might need to tweak.\n\n197\n00:09:47.668 --> 00:09:50.461\nBefore we start pulling our\nhair out working with Linux\n\n198\n00:09:50.461 --> 00:09:53.270\nfinding why our hardware's\nnot being recognized.\n\n199\n00:09:53.270 --> 00:09:54.400\n>> Start with the simple stuff\n>> Right\n\n200\n00:09:55.470 --> 00:09:56.860\n>> Another thing that I want to mention,\n\n201\n00:09:56.860 --> 00:09:58.520\nnot so much here in software or\n\n202\n00:09:58.520 --> 00:10:02.612\nwhatever is you'll hear a lot of\npeople talk about UEFI secure boot.\n\n203\n00:10:02.612 --> 00:10:05.140\nAll right so\nlet's talk about secure boot for a second.\n\n204\n00:10:05.140 --> 00:10:10.500\nSecure boot is a security\nmechanism that's built into UEFI.\n\n205\n00:10:10.500 --> 00:10:16.280\nThat only allows digitally signed boot\nloaders to run when a system boots up.\n\n206\n00:10:16.280 --> 00:10:19.400\nAnd when it was originally announced,\nthe Linux community went crazy, like, arg,\n\n207\n00:10:19.400 --> 00:10:20.660\nthis is Microsoft.\n\n208\n00:10:20.660 --> 00:10:23.479\nMicrosoft is trying to lock it so you can\nonly run Windows on your hardware and\n\n209\n00:10:23.479 --> 00:10:24.325\nyou can't run Linux.\n\n210\n00:10:24.325 --> 00:10:25.945\nWell that's not what it was all about.\n\n211\n00:10:25.945 --> 00:10:27.995\nWell, I'm sure that's partly\nwhat it was about, right?\n\n212\n00:10:27.995 --> 00:10:29.165\nBut it's not what it was all about.\n\n213\n00:10:29.165 --> 00:10:30.815\nIt was all about security.\n\n214\n00:10:30.815 --> 00:10:35.735\nStopping boot loader viruses, root kits\nfrom loading before your OS loads, right?\n\n215\n00:10:35.735 --> 00:10:39.122\nAnd by requiring that digital signature,\nsecure boot can guarantee that.\n\n216\n00:10:39.122 --> 00:10:42.389\nWell, if you're running CentOS or\nRed Hat, or\n\n217\n00:10:42.389 --> 00:10:45.492\nUBUNTU, they've all digitally signed\ntheir boot orders at this point.\n\n218\n00:10:45.492 --> 00:10:46.592\nAnd so it's no big deal.\n\n219\n00:10:46.592 --> 00:10:49.730\nThey can boot up in an EFI environment,\nor UEFI environment.\n\n220\n00:10:49.730 --> 00:10:54.120\nSo you might see an option in\nhere to disable Secure Boot.\n\n221\n00:10:54.120 --> 00:10:55.430\nMine doesn't have it.\n\n222\n00:10:55.430 --> 00:10:58.546\nLet me see if I can maybe find\nanother one that has Secure Boot.\n\n223\n00:10:58.546 --> 00:11:01.160\nLet's try like some real high number.\n\n224\n00:11:01.160 --> 00:11:03.810\nSo you might see an option where\nyou can disable Secure Boot.\n\n225\n00:11:03.810 --> 00:11:09.780\nYou might not, and if you don't It's not\nan unusual thing that you don't see it.\n\n226\n00:11:09.780 --> 00:11:13.890\nWell, here, I've got UEFI boot and,\nyeah, it won't let me change that to\n\n227\n00:11:13.890 --> 00:11:16.570\nflip it to like, well,\nyou can disable it, go to legacy mode.\n\n228\n00:11:18.080 --> 00:11:21.490\nWell, it says it, but\nyou might see options in there like that.\n\n229\n00:11:21.490 --> 00:11:23.780\nDon't feel like you have\nto disable secure boot.\n\n230\n00:11:23.780 --> 00:11:28.370\nA lot of people disable it, not realizing,\nthat they're kind of giving away some\n\n231\n00:11:28.370 --> 00:11:31.420\nincreased security, and their Linux\ndistro would have supported it anyway.\n\n232\n00:11:31.420 --> 00:11:34.560\nSo if you can, leave secure boot on.\n\n233\n00:11:34.560 --> 00:11:37.120\nBut if you're running a Linux\ndistro that isn't digitally signed,\n\n234\n00:11:37.120 --> 00:11:39.020\nyou might need to disable\nthat secure boot.\n\n235\n00:11:39.020 --> 00:11:41.690\nAnd once you disable it,\nyou'll be able install just fine, but\n\n236\n00:11:41.690 --> 00:11:43.460\nyou'll lose that protection,\nso just be aware of that.\n\n237\n00:11:45.550 --> 00:11:47.850\nAll right, well, enough about BIOS, right?\n\n238\n00:11:47.850 --> 00:11:49.440\nLet's talk about Linux.\n\n239\n00:11:50.900 --> 00:11:54.630\nOnce Linux boots up,\nonce we're up into our operating system,\n\n240\n00:11:54.630 --> 00:11:57.628\nhow do I know if my hardware is working or\nnot, right?\n\n241\n00:11:57.628 --> 00:12:00.816\nHopefully it's auto-detected all of my\nhardware and everything works great and\n\n242\n00:12:00.816 --> 00:12:02.400\nI can just start browsing the Internet.\n\n243\n00:12:02.400 --> 00:12:04.257\nAnd get on my Facebook and\nwhatever else is up there.\n\n244\n00:12:04.257 --> 00:12:05.278\n>> The way God intended, Don.\n\n245\n00:12:05.278 --> 00:12:06.745\n[LAUGH]\n>> That's right.\n\n246\n00:12:06.745 --> 00:12:09.620\n>> [LAUGH]\n>> This is a right, not a privilege.\n\n247\n00:12:09.620 --> 00:12:10.598\n>> That's right.\n\n248\n00:12:10.598 --> 00:12:11.340\n[LAUGH]\n>> So, anyhow.\n\n249\n00:12:11.340 --> 00:12:12.740\nHow do we know if out hardware works or\nnot?\n\n250\n00:12:12.740 --> 00:12:14.690\nWell, when you put up your Linux distro,\n\n251\n00:12:14.690 --> 00:12:17.600\ndepending on how fancy your distro is,\nyou may not see this.\n\n252\n00:12:17.600 --> 00:12:22.480\nBut on a lot of the ones that are a little\nmore true to the core, you'll see just\n\n253\n00:12:22.480 --> 00:12:26.690\ntons and tons of text, rattling by\nthe screen as that system boots up, right?\n\n254\n00:12:26.690 --> 00:12:31.170\nSo, like if I were to reboot this system,\nhere, we'll just give it a little restart.\n\n255\n00:12:31.170 --> 00:12:34.710\nWhen it boots up you start to\nsee some text going by, right?\n\n256\n00:12:34.710 --> 00:12:36.200\nSo, well here's my little boot menu.\n\n257\n00:12:36.200 --> 00:12:39.110\nThat's not exciting, but afterwards\nwe'll start to see this text rolling by.\n\n258\n00:12:39.110 --> 00:12:45.310\nAnd what that is, is Linux piece by piece\ninitializing hardware and services.\n\n259\n00:12:45.310 --> 00:12:47.610\nWell it went by kinda fast didn't it?\n\n260\n00:12:47.610 --> 00:12:50.140\nAnd I saw a bunch of green,\nwhich is a good sign, but\n\n261\n00:12:50.140 --> 00:12:52.790\nthere could of been some red in there and\nI just didn't see it right?\n\n262\n00:12:52.790 --> 00:12:54.990\nSo, all of that's happening at boot time,\nand\n\n263\n00:12:54.990 --> 00:12:58.140\nI don't know if I have a hardware problem.\n\n264\n00:12:58.140 --> 00:13:02.320\nBut now I go to use a USB system or\nsomething, and it's not working.\n\n265\n00:13:02.320 --> 00:13:03.710\nWhy isn't USB working?\n\n266\n00:13:03.710 --> 00:13:05.690\nWell, maybe it wasn't detected properly.\n\n267\n00:13:05.690 --> 00:13:07.360\nMaybe some piece is missing.\n\n268\n00:13:07.360 --> 00:13:10.740\nSo, if we want to review\nall of that boot stuff and\n\n269\n00:13:10.740 --> 00:13:14.480\nactually see what happened, we got a nice\nlittle command line utility called dmesg.\n\n270\n00:13:15.570 --> 00:13:19.360\nDmesg shows us all that\nstuff that happened at boot.\n\n271\n00:13:19.360 --> 00:13:23.139\nNow the problem with dmesg is it\ndisplays it kinda like it did at boot,\n\n272\n00:13:23.139 --> 00:13:25.107\nrattles by the screen really fast.\n\n273\n00:13:25.107 --> 00:13:27.380\nThen I can scroll back and get the things.\n\n274\n00:13:27.380 --> 00:13:31.960\nBut what I like to do is take dmesg and\npipe that into the last command.\n\n275\n00:13:31.960 --> 00:13:35.830\nAnd because now I can scroll up and scroll\ndown, and I can search through it, right?\n\n276\n00:13:35.830 --> 00:13:38.390\nSo, let's take a look\nat what's in D Message.\n\n277\n00:13:38.390 --> 00:13:40.880\nIt's showing me all those messages\nthat happened at boot time.\n\n278\n00:13:40.880 --> 00:13:42.890\nAnd so we see like initializing the CPU.\n\n279\n00:13:42.890 --> 00:13:46.530\nWe kind of need the CPU for\nthis stuff to work, right?\n\n280\n00:13:46.530 --> 00:13:47.740\nAnd so we're going to see more.\n\n281\n00:13:47.740 --> 00:13:52.590\nWe'll see the Linux Kernel initializing,\nI've got Kernel 3.10, and so\n\n282\n00:13:52.590 --> 00:13:56.160\nthen we start to see it,\ninteracting with the bios.\n\n283\n00:13:56.160 --> 00:13:59.770\nThat's all really important stuff\nthat happens right at boot time.\n\n284\n00:13:59.770 --> 00:14:04.440\nBut after it moves past the basic stuff,\nor here it detected that I'm in VM ware so\n\n285\n00:14:04.440 --> 00:14:06.850\nit's going to load some VM\nware conditions and stuff.\n\n286\n00:14:06.850 --> 00:14:12.690\nAnd then after that it's going to start\nmoving into more generic hardware,\n\n287\n00:14:12.690 --> 00:14:16.180\nthings like initializing the video card,\nsound card, USB.\n\n288\n00:14:16.180 --> 00:14:20.160\nDetecting your hard drives,\nrunning file system integrity checks,\n\n289\n00:14:20.160 --> 00:14:22.470\nstarting up services and all of that.\n\n290\n00:14:22.470 --> 00:14:26.250\nSo it's all laid out, right Right\nhere in dMessage where we can see it.\n\n291\n00:14:26.250 --> 00:14:30.740\nIf there was some hardware that wasn't\ndetected properly, it'll show up in here.\n\n292\n00:14:30.740 --> 00:14:34.310\nIt'll show that it found it, it'll see\nthe hardware, it always sees the hardware.\n\n293\n00:14:34.310 --> 00:14:35.920\nIt may just not recognize what it is.\n\n294\n00:14:37.730 --> 00:14:40.850\nSo as we look through here,\nI'm in a virtual machine so\n\n295\n00:14:40.850 --> 00:14:42.960\nI think most of this is all\ngonna show up just fine.\n\n296\n00:14:42.960 --> 00:14:45.930\nBut one thing you can do is you\ncan search for the word, error.\n\n297\n00:14:45.930 --> 00:14:50.440\nSo I'm just going to hit forward slash and\nI don't normally search for the first\n\n298\n00:14:50.440 --> 00:14:53.200\nletter e, because I don't know if it's\ngoing to be capital or a lower case.\n\n299\n00:14:53.200 --> 00:14:55.430\nSo I normally search for rror, right?\n\n300\n00:14:55.430 --> 00:14:57.850\nThat way if it's a capital e or\na lower case e,\n\n301\n00:14:57.850 --> 00:14:59.940\nit will find the word\nerror no matter what.\n\n302\n00:14:59.940 --> 00:15:02.830\nSo I can search by that and\nI got some errors, right?\n\n303\n00:15:02.830 --> 00:15:04.670\nWell not true errors, though.\n\n304\n00:15:04.670 --> 00:15:07.610\nThis is just setting the default log for\nerror output.\n\n305\n00:15:07.610 --> 00:15:10.320\nBut I can keep searching for\n\n306\n00:15:10.320 --> 00:15:13.520\neach instance of the word error just\nto look to see if I've got any.\n\n307\n00:15:13.520 --> 00:15:15.630\nThose are it so it didn't find anymore.\n\n308\n00:15:15.630 --> 00:15:18.710\nAnd each time I'm searching I'm just\nhitting that forward slash again and\n\n309\n00:15:18.710 --> 00:15:19.410\ndoing the search.\n\n310\n00:15:19.410 --> 00:15:21.390\nI think you can do lower case n also.\n\n311\n00:15:21.390 --> 00:15:22.990\nWe'll do the next one.\n\n312\n00:15:22.990 --> 00:15:24.590\nSo I'm looking pretty good here.\n\n313\n00:15:24.590 --> 00:15:25.150\nNo errors.\n\n314\n00:15:25.150 --> 00:15:27.020\nNo hardware to speak of.\n\n315\n00:15:27.020 --> 00:15:28.160\nThat's a problem.\n\n316\n00:15:28.160 --> 00:15:32.200\nBut I might still have problems,\npersonal problems, whatever.\n\n317\n00:15:32.200 --> 00:15:36.560\nThere might be other problems, but\nI\"m not seeing it here, right?\n\n318\n00:15:36.560 --> 00:15:39.040\nSo if we are having\nissues with software or\n\n319\n00:15:39.040 --> 00:15:42.920\nhardware the normal cause is a driver,\nright?\n\n320\n00:15:42.920 --> 00:15:45.565\nSome hardware has proprietary drivers, and\n\n321\n00:15:45.565 --> 00:15:48.494\nthey're not allowed to redistribute for\nLinux.\n\n322\n00:15:48.494 --> 00:15:50.799\nThat happens a lot,\nespecially for wireless adapters.\n\n323\n00:15:50.799 --> 00:15:55.117\nAnd so, your wireless adapter\nmight get detected, but not work.\n\n324\n00:15:55.117 --> 00:15:56.859\nSame thing with USB devices.\n\n325\n00:15:56.859 --> 00:15:59.044\nAnd, in that scenario, step one for\n\n326\n00:15:59.044 --> 00:16:03.940\nus, needs to be to go to the vendor\nwebsite and download the driver, right?\n\n327\n00:16:03.940 --> 00:16:06.550\nAnd the vendors have drivers for\nLinux these days.\n\n328\n00:16:06.550 --> 00:16:10.600\nYou know, it used to be pretty hit or\nmiss whether or not you'd find drivers.\n\n329\n00:16:10.600 --> 00:16:17.260\nNowadays, if we just branch out,\nlet's say my Nvidia video card.\n\n330\n00:16:17.260 --> 00:16:20.385\nRight?\nSo I can jump over to Nvidia's website,\n\n331\n00:16:20.385 --> 00:16:23.437\nand we'll tell them I'm in USA/Canada, and\n\n332\n00:16:23.437 --> 00:16:26.734\nI'm gonna tell them that I want drivers,\nright?\n\n333\n00:16:26.734 --> 00:16:29.358\nAnd so we'll go for some GeForce drivers.\n\n334\n00:16:29.358 --> 00:16:34.708\nAnd when you go to get your drivers,\nyou kinda tell what adapter you've got,\n\n335\n00:16:34.708 --> 00:16:38.659\nand we'll say I've got a GeForce 700,\nand you know,\n\n336\n00:16:38.659 --> 00:16:42.059\nnot a Titan because I am\nnot infinitely wealthy.\n\n337\n00:16:42.059 --> 00:16:42.793\n>> [LAUGH]\n>> But,\n\n338\n00:16:42.793 --> 00:16:44.080\nwhen you pick your operating system.\n\n339\n00:16:44.080 --> 00:16:46.650\nLook at my operating system,\nright down here, Linux 32-bit.\n\n340\n00:16:46.650 --> 00:16:50.480\nNow if I scroll down a little further,\nif I can try.\n\n341\n00:16:50.480 --> 00:16:55.193\nWe can see [LAUGH] It's going to\nmake me want to lash out and kill.\n\n342\n00:16:55.193 --> 00:16:58.373\n[LAUGH] So, we can see Linux\n64-bit right there, FreeBSD So\n\n343\n00:16:58.373 --> 00:17:01.030\nthey've got drivers out there for Linux.\n\n344\n00:17:01.030 --> 00:17:04.600\nYou might have to go and download those\nand load them into the system before that\n\n345\n00:17:04.600 --> 00:17:07.430\nhardware gets detected and\noperational and works.\n\n346\n00:17:07.430 --> 00:17:10.810\nSo here I can see I've got these Linux\ndisplay drivers, I've got betas, you know,\n\n347\n00:17:10.810 --> 00:17:12.120\nall this stuff available.\n\n348\n00:17:12.120 --> 00:17:14.720\nDownload it and install it, right?\n\n349\n00:17:14.720 --> 00:17:17.290\nNow, when you load drivers,\n\n350\n00:17:17.290 --> 00:17:19.500\nthose are drivers are what\nare called kernel modules.\n\n351\n00:17:19.500 --> 00:17:23.440\nWe saw, in my D message output,\nwhere my kernel was loaded,\n\n352\n00:17:23.440 --> 00:17:26.500\nway back up at the top, right?\n\n353\n00:17:26.500 --> 00:17:31.290\nSo when I made this D message,\nthat Kernel was loaded right here,\n\n354\n00:17:31.290 --> 00:17:32.188\nthat's my Linux kernel.\n\n355\n00:17:32.188 --> 00:17:34.520\nThe Linux kernel is actually pretty small.\n\n356\n00:17:34.520 --> 00:17:38.620\nIt's like a megabyte, a meg and\na half, it's not very large.\n\n357\n00:17:38.620 --> 00:17:43.170\nAnd that's because there's tons of add-on\nmodules that extend its functionality.\n\n358\n00:17:43.170 --> 00:17:44.760\nSo when your system detects hardware,\n\n359\n00:17:44.760 --> 00:17:47.570\nit has to load the modules\nto support the hardware.\n\n360\n00:17:47.570 --> 00:17:50.975\nAnd you can see those modules with lsmod.\n\n361\n00:17:50.975 --> 00:17:53.180\nlsmod is the list module command.\n\n362\n00:17:53.180 --> 00:17:53.940\nAnd when you run that,\n\n363\n00:17:53.940 --> 00:17:57.270\nit will show all the different\nmodules that your system has loaded.\n\n364\n00:17:57.270 --> 00:18:01.190\nSo like, for my sound card,\nI guess I have an ac97 sound card, and\n\n365\n00:18:01.190 --> 00:18:05.750\nI can see that module loaded right there,\nor the PC speaker module.\n\n366\n00:18:05.750 --> 00:18:07.070\nThat one's awesome.\n\n367\n00:18:07.070 --> 00:18:09.020\nYou've got other ones that are in here for\nBluetooth.\n\n368\n00:18:09.020 --> 00:18:10.670\nThere's my Bluetooth module, right?\n\n369\n00:18:10.670 --> 00:18:13.540\nSo, it detected that I've\ngot Bluetooth in my laptop.\n\n370\n00:18:13.540 --> 00:18:15.880\nAnd it loaded the Bluetooth module for\nit, right?\n\n371\n00:18:15.880 --> 00:18:20.500\nIf I don't see a module loaded, that might\nbe part of why my hardware's not working.\n\n372\n00:18:20.500 --> 00:18:21.540\nMaybe it didn't detect it.\n\n373\n00:18:21.540 --> 00:18:22.970\nIt didn't know to load the driver.\n\n374\n00:18:22.970 --> 00:18:24.900\nI might need to tell it to do that.\n\n375\n00:18:24.900 --> 00:18:27.580\nIt's pretty rare, but\nit does happen, right?\n\n376\n00:18:27.580 --> 00:18:30.470\nYou might have a USB Bluetooth adapter,\nand\n\n377\n00:18:30.470 --> 00:18:32.560\nit just didn't realize that's what it was.\n\n378\n00:18:32.560 --> 00:18:35.310\nBut if we force the module to load,\nit might recognize it, and\n\n379\n00:18:35.310 --> 00:18:36.280\nthen it works fine, right?.\n\n380\n00:18:36.280 --> 00:18:39.800\nSo there are times when we have to get\ninvolved and kind of force that along.\n\n381\n00:18:39.800 --> 00:18:43.080\nBut lsmod is a great way to\nkinda see that, see whether or\n\n382\n00:18:43.080 --> 00:18:47.530\nnot we've loaded those modules, and what's\nactually running on our system right now.\n\n383\n00:18:47.530 --> 00:18:51.160\n>> Yeah we used to have to run lsmod a lot\nback in the day because of the hit or\n\n384\n00:18:51.160 --> 00:18:54.340\nmiss nature of being able to actually\nget something detected when you\n\n385\n00:18:54.340 --> 00:18:56.699\nplugged it into your Linux computer.\n\n386\n00:18:56.699 --> 00:19:00.020\nSo it was one of those things that you\nhad to have nailed into your brain on,\n\n387\n00:19:00.020 --> 00:19:03.540\nhow do I actually get this\nstinking box here to detect\n\n388\n00:19:03.540 --> 00:19:06.810\nthat this thing is actually plugged in and\nneeds to be used.\n\n389\n00:19:06.810 --> 00:19:10.820\n>> Yeah, absolutely and, the modules,\nhopefully we don't have to deal with them,\n\n390\n00:19:10.820 --> 00:19:14.530\nbut if we do there's other commands\ntoo that are pretty useful here.\n\n391\n00:19:14.530 --> 00:19:16.800\nlsmod for\nseeing the modules that are loaded.\n\n392\n00:19:16.800 --> 00:19:19.212\nIf the module's not loaded,\nyou might wanna see,\n\n393\n00:19:19.212 --> 00:19:21.890\ndid it even detect the hardware\nin the first place?\n\n394\n00:19:21.890 --> 00:19:24.630\nAnd we got two cool commands for\nthat, let me show you guys these.\n\n395\n00:19:24.630 --> 00:19:26.810\nThere's lspci.\n\n396\n00:19:26.810 --> 00:19:30.330\nAnd that's gonna list all your\nPCI cards that were detected.\n\n397\n00:19:30.330 --> 00:19:33.010\nNow, I say PCI cards.\n\n398\n00:19:33.010 --> 00:19:35.680\nThere's integrated components in your\nmotherboard that will show up as PCI\n\n399\n00:19:35.680 --> 00:19:36.760\nalso, right?\n\n400\n00:19:36.760 --> 00:19:38.080\nSo it's gonna list all of that stuff.\n\n401\n00:19:38.080 --> 00:19:39.090\nAnd so when I look at this,\n\n402\n00:19:39.090 --> 00:19:41.880\nI see all these VMware ones,\ncuz I'm on a virtual machine.\n\n403\n00:19:41.880 --> 00:19:45.900\nBut I see real ones too, I've got\nthis ISA bridge, my IDE interface,\n\n404\n00:19:45.900 --> 00:19:50.180\nmy VGA compatible controller\nthat it detected, SCSI storage.\n\n405\n00:19:50.180 --> 00:19:53.550\nAs I scroll down here I'll see other\nthings like my USB controller.\n\n406\n00:19:53.550 --> 00:19:54.800\nI've got two of those.\n\n407\n00:19:54.800 --> 00:19:58.070\nSo, we can see if it even\ndetected the PCI card.\n\n408\n00:19:58.070 --> 00:20:01.180\nMaybe the card's loose and\nit didn't even detect it.\n\n409\n00:20:01.180 --> 00:20:03.090\nHere, it'll detect it even if\nit doesn't know what it is,\n\n410\n00:20:03.090 --> 00:20:07.220\nbecause it's part of the PCI standard,\nthat the card has to report its name.\n\n411\n00:20:07.220 --> 00:20:09.529\nAnd so it will say,\nit might be very detailed.\n\n412\n00:20:09.529 --> 00:20:13.871\nIntel corporation 82545EM\nGigabit Ethernet Controller.\n\n413\n00:20:13.871 --> 00:20:17.500\nYou might think, cuz it's got that full\nname, that oh the system supports it.\n\n414\n00:20:17.500 --> 00:20:22.202\nNo, the PCI card just reported that name,\nthe system has to associate a module to\n\n415\n00:20:22.202 --> 00:20:24.914\nthat and\nthat may not have happened all right?\n\n416\n00:20:24.914 --> 00:20:26.679\nlsusb is another one.\n\n417\n00:20:26.679 --> 00:20:30.960\nSo, LSPCI that's great for integrated\ncomponents that are always there.\n\n418\n00:20:30.960 --> 00:20:33.160\nlsusb is great for removal components.\n\n419\n00:20:33.160 --> 00:20:34.790\nOnes that kinda come and go.\n\n420\n00:20:34.790 --> 00:20:38.010\nAnd you can see my virtual mouse,\nroot hubs, and\n\n421\n00:20:38.010 --> 00:20:39.740\nthe whole VMWare showing up again.\n\n422\n00:20:39.740 --> 00:20:43.990\nYou might have webcams,\nmicrophones, game controllers, and\n\n423\n00:20:43.990 --> 00:20:45.820\nthose may show up there too.\n\n424\n00:20:45.820 --> 00:20:48.490\nHopefully they've been detected,\nif they haven't,\n\n425\n00:20:48.490 --> 00:20:49.770\nthere may be some kind of problem there.\n\n426\n00:20:49.770 --> 00:20:53.300\nNow, let's say that it shows up here, but\n\n427\n00:20:53.300 --> 00:20:56.890\nthe module doesn't show up in lsmod,\nwhat do I do?\n\n428\n00:20:56.890 --> 00:21:00.280\nWell, we got a command called modprobe,\nand\n\n429\n00:21:00.280 --> 00:21:06.180\nmodprobe does kinda like what its name\nimplies, it looks at your hardware and\n\n430\n00:21:06.180 --> 00:21:09.990\nit probes the hardware to find out\nwhat modules should be loaded.\n\n431\n00:21:09.990 --> 00:21:12.110\nAnd it will hopefully load\nthe modules that we need.\n\n432\n00:21:12.110 --> 00:21:13.400\nAnd so you will see,\nyou can do modprobe, and\n\n433\n00:21:13.400 --> 00:21:17.710\nyou can specify a module name to load\nthem, to get them up and operational.\n\n434\n00:21:17.710 --> 00:21:20.040\nYou can see where you can do like -a,\n\n435\n00:21:20.040 --> 00:21:22.820\nconsider every non argument\nto be inserted or removed.\n\n436\n00:21:22.820 --> 00:21:24.832\nIt has all these different\noptions in here.\n\n437\n00:21:24.832 --> 00:21:28.625\n-r for removing a module and\ngetting that out of there.\n\n438\n00:21:28.625 --> 00:21:32.360\n-f to force a module to load, right?\n\n439\n00:21:32.360 --> 00:21:36.165\nI don't care if you detect it or not, just\nload it, because I bet the hardware will\n\n440\n00:21:36.165 --> 00:21:38.615\nwork if you would just load this\nmodule and get off my back [LAUGH].\n\n441\n00:21:38.615 --> 00:21:41.205\nSo, Linux can be fickle sometimes.\n\n442\n00:21:42.365 --> 00:21:44.310\nSo there's a lot of different\nways to go about that.\n\n443\n00:21:44.310 --> 00:21:49.217\nmodprobe -v, the lowercase v,\nis a pretty handy one.\n\n444\n00:21:49.217 --> 00:21:52.150\nThat's the verbose output.\n\n445\n00:21:52.150 --> 00:21:53.400\nIf I run modprobe -v, and\n\n446\n00:21:53.400 --> 00:21:58.650\nactually I'm going to sudo this one\nto make sure I'm an administrator.\n\n447\n00:22:00.360 --> 00:22:02.370\nOh shoot,\nI didn't tell it what I wanted to do.\n\n448\n00:22:02.370 --> 00:22:05.450\nSo when you look at what you're telling\nit to do, like force, or ignore,\n\n449\n00:22:05.450 --> 00:22:07.215\ninstall, you've got,\n\n450\n00:22:07.215 --> 00:22:11.760\n-a is what I wanted to do to make sure\nthis is gonna try and look at everything.\n\n451\n00:22:13.550 --> 00:22:15.830\nAnd, oh, it didn't take that, did it?\n\n452\n00:22:15.830 --> 00:22:16.351\nWhat have I done wrong?\n\n453\n00:22:20.368 --> 00:22:21.854\nOh, I haven't given it a module name!\n\n454\n00:22:21.854 --> 00:22:22.992\nThat's gonna make\na difference here isn't it?\n\n455\n00:22:22.992 --> 00:22:24.984\n>> [LAUGH]\n>> So, if we don't give it a module name,\n\n456\n00:22:24.984 --> 00:22:26.380\nit really doesn't know what to do.\n\n457\n00:22:26.380 --> 00:22:28.180\nIf I'm telling it to deal with Bluetooth,\nfor example,\n\n458\n00:22:28.180 --> 00:22:30.410\nI can say modprobe -v bluetooth.\n\n459\n00:22:30.410 --> 00:22:34.240\nNow, Bluetooth for me is already loaded,\nso I don't get any input back.\n\n460\n00:22:34.240 --> 00:22:36.660\nBut if it tries to load it, and\nhas some conflict with the hardware,\n\n461\n00:22:36.660 --> 00:22:41.000\nit's gonna give me that input and let me\nknow, hey I'm not gonna load Bluetooth for\n\n462\n00:22:41.000 --> 00:22:43.905\nyou because, well, it's already loaded,\nor I'm not gonna load it,\n\n463\n00:22:43.905 --> 00:22:46.145\nbecause I don't see\nan associated controller.\n\n464\n00:22:46.145 --> 00:22:48.295\nAnd then you know there's\nsome kind of problem there,\n\n465\n00:22:48.295 --> 00:22:50.025\nwe need to go out and get a driver.\n\n466\n00:22:50.025 --> 00:22:51.145\nOr we need to upgrade a driver.\n\n467\n00:22:51.145 --> 00:22:54.405\nIt could just be a simple matter\nof doing a system update.\n\n468\n00:22:54.405 --> 00:22:57.795\nSo those are all things that might\nget kind of, kind of fall into that.\n\n469\n00:22:57.795 --> 00:22:59.135\n>> Yeah.\nNow, Don, when you're trying to\n\n470\n00:22:59.135 --> 00:23:01.816\nload something up, say like Bluetooth,\nyou have a Bluetooth device.\n\n471\n00:23:01.816 --> 00:23:06.647\nHow do you know that it's not loading, and\nyou go to that lspcr, lsusb and see that\n\n472\n00:23:06.647 --> 00:23:11.568\nit's there, but it's not being detected,\nand that's when you would run lsmod.\n\n473\n00:23:11.568 --> 00:23:14.377\n>> Yeah, that's one area-\n>> Or I'm sorry, mod pro.\n\n474\n00:23:14.377 --> 00:23:18.706\nOr another thing to look at is, if the\nsystem recognizes the hardware, remember\n\n475\n00:23:18.706 --> 00:23:23.830\nthat Linux, and really Unix, what it's\nbased on, treats everything like a file.\n\n476\n00:23:23.830 --> 00:23:27.650\nSo, all of our hardware is really\nbeing mapped to a file somewhere.\n\n477\n00:23:27.650 --> 00:23:31.000\nWell, that somewhere, it's not somewhere\nmysterious, you can actually see it.\n\n478\n00:23:31.000 --> 00:23:35.360\nOn your hard drive if you browse to /dev,\nslash D-E-V,\n\n479\n00:23:35.360 --> 00:23:38.450\nyou'll see all of your\nhardware right there.\n\n480\n00:23:38.450 --> 00:23:40.110\nAnd when I say all of it,\nI mean all of it.\n\n481\n00:23:40.110 --> 00:23:41.780\nAll of your hardware,\neven your USB devices.\n\n482\n00:23:41.780 --> 00:23:42.330\nThey show up here.\n\n483\n00:23:42.330 --> 00:23:44.950\nNow they get funny names that\nyou might not recognize.\n\n484\n00:23:44.950 --> 00:23:47.150\nLook at some of these names, tty.\n\n485\n00:23:47.150 --> 00:23:49.420\nWhat the heck is a tty?\n\n486\n00:23:49.420 --> 00:23:51.500\nWell, it's a teletype terminal.\n\n487\n00:23:51.500 --> 00:23:53.010\nIn other words, it's a shell interface.\n\n488\n00:23:53.010 --> 00:23:53.570\nIt's a terminal.\n\n489\n00:23:53.570 --> 00:23:54.984\nIt's a user interface.\n\n490\n00:23:54.984 --> 00:23:58.549\nSo, when I'm logged in,\nI'm actually logged into a tty right now,\n\n491\n00:23:58.549 --> 00:24:00.150\nin this shell that I'm using.\n\n492\n00:24:00.150 --> 00:24:02.471\nThose all get a name.\n\n493\n00:24:02.471 --> 00:24:05.450\nSDA, that's my hard drive, right?\n\n494\n00:24:05.450 --> 00:24:07.800\nThat's my serial disc or SDA disc, right?\n\n495\n00:24:07.800 --> 00:24:09.030\nAnd it's SDA disc A.\n\n496\n00:24:09.030 --> 00:24:10.370\nIf I have more than, one well I do.\n\n497\n00:24:10.370 --> 00:24:12.890\nHere, SDA disc B, SDA disc C.\n\n498\n00:24:12.890 --> 00:24:15.200\nAnd each partition on that disc,\nSDA1, SDA2,\n\n499\n00:24:15.200 --> 00:24:18.470\nthose are petitions or volumes, all right?\n\n500\n00:24:18.470 --> 00:24:20.610\nMy video card, I can see it way over here,\n\n501\n00:24:20.610 --> 00:24:24.600\nyou've actually got VGA arbiter and\nvideo0, right?\n\n502\n00:24:24.600 --> 00:24:27.170\nMy mouse, my mouse is in here somewhere.\n\n503\n00:24:27.170 --> 00:24:29.783\nIt is, what's the mouse called?\n\n504\n00:24:29.783 --> 00:24:32.344\n>> [INAUDIBLE]\n>> Oh, sometimes you might not see\n\n505\n00:24:32.344 --> 00:24:36.520\nit right here in the main one because\nyou've got all these sub folders also.\n\n506\n00:24:36.520 --> 00:24:39.770\nSo my mouse might actually be tucked\naway in one of these sub folders.\n\n507\n00:24:39.770 --> 00:24:41.480\nBut did you see it Daniel?\n\n508\n00:24:41.480 --> 00:24:42.038\n>> Negative.\n\n509\n00:24:42.038 --> 00:24:45.358\n>> All right, well sometimes they'll show\nup as usb devices, it'll be tucked away,\n\n510\n00:24:45.358 --> 00:24:48.443\nbut you'll see other things in here\nlike the floppy disk, if you've got one,\n\n511\n00:24:48.443 --> 00:24:49.641\nyour CD drive will be in here.\n\n512\n00:24:49.641 --> 00:24:53.560\nSome of these are aliases,\nlike see how cdrom is light blue?\n\n513\n00:24:53.560 --> 00:24:54.890\nThat lets me know it's an alias.\n\n514\n00:24:54.890 --> 00:24:58.178\nAnd if I do like an ls -la,\nI can find that cdrom entry,\n\n515\n00:24:58.178 --> 00:25:00.766\nI should of filtered\nit down to just cdrom.\n\n516\n00:25:00.766 --> 00:25:03.623\nBut we can find it, and\nsee how it's mapped to SR0.\n\n517\n00:25:03.623 --> 00:25:06.084\nSo sometimes the name doesn't\nmake a lot of sense, all right?\n\n518\n00:25:06.084 --> 00:25:10.080\nAnd that's SATA read-only disk 0, SR0.\n\n519\n00:25:10.080 --> 00:25:13.690\nSo they map it to cdrom because\nit makes more sense for us.\n\n520\n00:25:13.690 --> 00:25:15.100\nThere's my CPU.\n\n521\n00:25:15.100 --> 00:25:17.360\nSo if I'm adding a Bluetooth device, and\n\n522\n00:25:17.360 --> 00:25:22.370\nit doesn't show up in here, then the\nsystem might have seen the hardware, but\n\n523\n00:25:22.370 --> 00:25:25.700\nit wasn't able to identify it,\nand map it, and load it.\n\n524\n00:25:25.700 --> 00:25:28.020\nIn the background there's\na service called udev.\n\n525\n00:25:28.020 --> 00:25:31.390\nudev is what's running this map in\nyour hardware to these file names.\n\n526\n00:25:31.390 --> 00:25:33.930\nAnd udev has a list of\nrules that it follows.\n\n527\n00:25:33.930 --> 00:25:39.050\nIf you go into /etc/udev,\nthere used to be a file in here called,\n\n528\n00:25:39.050 --> 00:25:45.250\nI think it was called rules.conf or\nwhatever.\n\n529\n00:25:45.250 --> 00:25:48.850\nBut now it's been all moved into\na subfolder called rules.d.\n\n530\n00:25:48.850 --> 00:25:55.750\nSo, I'm in /etc/udev/rules.d And\nlooking in there, you'll see rules files.\n\n531\n00:25:55.750 --> 00:26:01.170\nNow, you might see a ton of rules files,\nor like me, I've got one sad little one.\n\n532\n00:26:01.170 --> 00:26:05.340\nIt's very common these days to not store\nthe rules files right here in this folder.\n\n533\n00:26:05.340 --> 00:26:09.642\nIf we take an older version of Linux,\nlike here's, this is CentOS 6.5.\n\n534\n00:26:11.050 --> 00:26:18.260\nIf I go into /etc/udev/rules.d, see how\nI've got a bunch of files in there?\n\n535\n00:26:18.260 --> 00:26:21.180\nBut in CentOS 7, I didn't have but one.\n\n536\n00:26:21.180 --> 00:26:22.240\nWhat's up there?\n\n537\n00:26:22.240 --> 00:26:24.755\nWell, a lot of them are actually storing\nthem in the library folder up there now.\n\n538\n00:26:24.755 --> 00:26:30.478\nSo if I switch over to /lib/dev/rules.d.\n\n539\n00:26:30.478 --> 00:26:32.081\nWhoops, is that right?\n\n540\n00:26:32.081 --> 00:26:36.476\n/lib/udev [LAUGH] if I spell it right.\n\n541\n00:26:36.476 --> 00:26:40.810\n/udev/rules.d, I got a couple\nof files in there, right?\n\n542\n00:26:40.810 --> 00:26:43.700\nI got a ton of files in there.\n\n543\n00:26:43.700 --> 00:26:48.179\nAnd these are all the rules that it's\nusing to map hardware to a name,\n\n544\n00:26:48.179 --> 00:26:48.960\nall right?\n\n545\n00:26:48.960 --> 00:26:52.082\nAnd these rules, they're not\nreally all that human readable.\n\n546\n00:26:52.082 --> 00:26:55.693\nLet's see if I can find one\nthat's Bluetooth-related.\n\n547\n00:26:58.956 --> 00:26:59.792\nHere we go.\n\n548\n00:26:59.792 --> 00:27:04.280\nSo I'll take less on this one.\n\n549\n00:27:04.280 --> 00:27:07.908\nI'm gonna pull up this file and\nwhat you'll see is it's got these entries\n\n550\n00:27:07.908 --> 00:27:10.189\nin here that says,\nwhen you detect hardware,\n\n551\n00:27:10.189 --> 00:27:13.129\nhere's how we find it and\nhere's how we assign a name to it.\n\n552\n00:27:13.129 --> 00:27:15.669\nAnd so this is where the names\nare being generated from.\n\n553\n00:27:15.669 --> 00:27:20.833\nBut there's actually a little bit more to\nit because what happens is when you attach\n\n554\n00:27:20.833 --> 00:27:26.027\na device, like let's say I attach a usb\nnetwork card and it gets detected as ETH5.\n\n555\n00:27:26.027 --> 00:27:29.010\nAll right, so it's F5, and\nthen I disconnect it and\n\n556\n00:27:29.010 --> 00:27:31.007\nI attach another network adapter.\n\n557\n00:27:31.007 --> 00:27:34.568\nWell, it won't give it F5,\nit'll give it F6.\n\n558\n00:27:34.568 --> 00:27:38.510\nSo these udev rules, they remember your\ndevices, your removable devices so\n\n559\n00:27:38.510 --> 00:27:40.890\nthat if you disconnect them,\nwhen you reconnect it in the future,\n\n560\n00:27:40.890 --> 00:27:44.580\nthey get the same name and\nthat's pretty important, right?\n\n561\n00:27:44.580 --> 00:27:48.900\nWe want that to have the same name, so the\nudev rules are all determining that and\n\n562\n00:27:48.900 --> 00:27:51.520\nstoring that information and saving it.\n\n563\n00:27:51.520 --> 00:27:53.190\nYou might need to override it.\n\n564\n00:27:53.190 --> 00:27:55.960\nThere might be some time when\nyou got something that's F5 and\n\n565\n00:27:55.960 --> 00:27:58.473\nyou don't want it to be F5,\nyou want it to be F3 or F9.\n\n566\n00:27:58.473 --> 00:28:01.844\nAnd you can dig in and you can create\noverride rules that will do that,\n\n567\n00:28:01.844 --> 00:28:04.984\nwill kind of bump it to some\ndifferent number if you want, but for\n\n568\n00:28:04.984 --> 00:28:08.272\nmost of us we never really have to\nget in here and tweak with things.\n\n569\n00:28:08.272 --> 00:28:16.670\nJust kind of a basic thing that we let\nthe system detect and we use the defines.\n\n570\n00:28:16.670 --> 00:28:19.110\nA couple other things\nthat we might want to do.\n\n571\n00:28:19.110 --> 00:28:22.360\nIf you're testing a module, you might\nwant to take a module offline, and\n\n572\n00:28:22.360 --> 00:28:24.120\nwe know we can use modprobe for that.\n\n573\n00:28:24.120 --> 00:28:27.940\nWe also have rmmod,\nwhich is remove module.\n\n574\n00:28:27.940 --> 00:28:31.240\nAnd rmmod lets you take\nmodules out if you need to.\n\n575\n00:28:31.240 --> 00:28:34.470\nSo, I might want to do an rmmod for\n\n576\n00:28:34.470 --> 00:28:37.520\nBluetooth, right, and\nthat'll try and turn it off.\n\n577\n00:28:37.520 --> 00:28:39.320\nAnd it's telling me here that it's in use.\n\n578\n00:28:39.320 --> 00:28:42.680\nIt's actually being used by btusb and\nrfcom.\n\n579\n00:28:42.680 --> 00:28:46.440\nI kinda have a Bluetooth mouse here and\nso it's seeing that I'm using that and\n\n580\n00:28:46.440 --> 00:28:48.190\nit's not letting me take it out right now.\n\n581\n00:28:48.190 --> 00:28:51.830\nIf the module's in use,\nyou don't wanna take it out.\n\n582\n00:28:51.830 --> 00:28:55.690\nCouple of ways to get around that, I could\ndrop to single user mode and take it out.\n\n583\n00:28:55.690 --> 00:28:58.970\nIf we drop our run level to one or\nzero or whatever the run level is for\n\n584\n00:28:58.970 --> 00:29:00.700\nthat, then we could do that.\n\n585\n00:29:00.700 --> 00:29:02.960\nBut easier would be to\ndisconnect the device.\n\n586\n00:29:02.960 --> 00:29:04.820\nAnd then I could remove the module.\n\n587\n00:29:04.820 --> 00:29:06.480\nThere is an option for rmmod.\n\n588\n00:29:06.480 --> 00:29:07.630\nLet's see if we can find it.\n\n589\n00:29:07.630 --> 00:29:09.820\nIt's where you can tell it to wait.\n\n590\n00:29:10.910 --> 00:29:11.820\nWell, there's force.\n\n591\n00:29:11.820 --> 00:29:14.700\nI could force it to remove, right, which\nis not necessarily the greatest idea.\n\n592\n00:29:14.700 --> 00:29:16.480\nBut there is a way to make it wait.\n\n593\n00:29:16.480 --> 00:29:19.010\nI think it's -w, and\nthey don't show it here in the help.\n\n594\n00:29:19.010 --> 00:29:24.010\nBut I'm pretty sure it's, let's try\nit here and see if it'll wait for me.\n\n595\n00:29:24.010 --> 00:29:24.790\nYeah, see.\n\n596\n00:29:24.790 --> 00:29:26.170\nIt's an undocumented feature.\n\n597\n00:29:26.170 --> 00:29:28.820\nLook at that, it's not in my help\ndocument, but it does exist.\n\n598\n00:29:28.820 --> 00:29:31.900\n-w says, remove it when you can, right?\n\n599\n00:29:31.900 --> 00:29:32.470\nGo ahead and wait.\n\n600\n00:29:32.470 --> 00:29:34.470\nAnd now I can go and\ndisconnect that device or whatever.\n\n601\n00:29:34.470 --> 00:29:36.790\nAnd when it can,\nit'll go ahead and remove it.\n\n602\n00:29:36.790 --> 00:29:39.650\nOh, I didn't Sudo it so I don't\nhave permission to do it anyway, so\n\n603\n00:29:39.650 --> 00:29:40.850\nit's upset about that.\n\n604\n00:29:40.850 --> 00:29:41.470\nBut, there we go.\n\n605\n00:29:41.470 --> 00:29:44.010\nSee how it's gonna sleep for\nten seconds and then it's gonna try again?\n\n606\n00:29:44.010 --> 00:29:46.140\nAnd if it's still in use,\nthen it'll sleep for ten seconds.\n\n607\n00:29:46.140 --> 00:29:49.120\nIt's just gonna keep trying and\nremove that module when it can.\n\n608\n00:29:49.120 --> 00:29:51.570\nSo rmmod is another kinda\nhandy one that's out there.\n\n609\n00:29:51.570 --> 00:29:54.538\nI'm just gonna break out of that, so.\n\n610\n00:29:54.538 --> 00:29:59.538\nAll right, there's one other thing\nthat might show up on the exam.\n\n611\n00:29:59.538 --> 00:30:03.550\nIf I wanna look at the modules that\nare loaded, I use LS mod, right?\n\n612\n00:30:03.550 --> 00:30:05.400\nIt's super easy, it's there.\n\n613\n00:30:05.400 --> 00:30:07.990\nBut there is another\nthing that you can do.\n\n614\n00:30:07.990 --> 00:30:11.148\nThe modules actually create\nthese process files, and\n\n615\n00:30:11.148 --> 00:30:14.312\nthe process files are stored\nin the /proc directory.\n\n616\n00:30:14.312 --> 00:30:19.090\nSo another way I can kinda see\nwhat modules are loaded is I\n\n617\n00:30:19.090 --> 00:30:22.764\ncan run cat /proc/modules, all right?\n\n618\n00:30:22.764 --> 00:30:26.140\nAnd when you run that, it gives you\na list of the modules that are running.\n\n619\n00:30:26.140 --> 00:30:29.310\nNow, that's not really any\ndifferent than LS mod,\n\n620\n00:30:29.310 --> 00:30:31.950\nexcept that it does give you\na little additional information.\n\n621\n00:30:31.950 --> 00:30:35.350\nWith LS mod I saw the module, its size,\n\n622\n00:30:35.350 --> 00:30:39.610\na status ID number, which I forget\nwhat all those are mapped to, and\n\n623\n00:30:39.610 --> 00:30:43.300\nthen just an alternate name for\nthe dependencies of the modules right?\n\n624\n00:30:43.300 --> 00:30:47.140\nSo I can see SCSI transport\nhas a dependency of NPTSPI,\n\n625\n00:30:47.140 --> 00:30:50.940\nwhich is right up here in loaded,\nso you can see those dependencies.\n\n626\n00:30:50.940 --> 00:30:54.879\nWhen I look at the proc values here,\nI see the module name, I see their size,\n\n627\n00:30:54.879 --> 00:30:56.867\ntheir status, their dependencies.\n\n628\n00:30:56.867 --> 00:31:00.919\nBut I also see whether it's live or\nnot, which they should all be live and\n\n629\n00:31:00.919 --> 00:31:03.390\nthen I can see an address\nthat it's tied to.\n\n630\n00:31:03.390 --> 00:31:06.171\nSo you get a little bit more information\nwhen you do it that way, but\n\n631\n00:31:06.171 --> 00:31:08.570\notherwise it's the same basic information.\n\n632\n00:31:08.570 --> 00:31:12.160\nAnd that's just me pulling\nup what's in /proc/modules.\n\n633\n00:31:12.160 --> 00:31:16.270\nThat file stores that data for\neach of the modules that are loaded.\n\n634\n00:31:16.270 --> 00:31:18.760\nLS mod is querying that, too,\nit's just cleaning it up for us and\n\n635\n00:31:18.760 --> 00:31:19.690\nmaking it look a little nicer.\n\n636\n00:31:21.160 --> 00:31:24.200\nLet's see, who else do I have in here?\n\n637\n00:31:24.200 --> 00:31:29.362\nSame thing goes for LSPCI and LSUSB, those\nare really mapping up to directories also.\n\n638\n00:31:29.362 --> 00:31:35.351\nIf I were to really poke around\nin here in the /sys folder.\n\n639\n00:31:35.351 --> 00:31:37.407\nSo we don't normally\nmess with the sys folder.\n\n640\n00:31:37.407 --> 00:31:38.325\nIt's a system folder, right?\n\n641\n00:31:38.325 --> 00:31:39.728\nWe shouldn't have to mess with it.\n\n642\n00:31:39.728 --> 00:31:43.840\nBut if we dig in there and\nwe go into like the bus folder, so\n\n643\n00:31:43.840 --> 00:31:46.946\nI'm in /sys/bus, these are my busses.\n\n644\n00:31:46.946 --> 00:31:50.263\nAnd you'll see in here the pci bus,\nthe usb bus, right?\n\n645\n00:31:50.263 --> 00:31:53.640\nThese are all in here, and\nyou kinda see what's tied to them.\n\n646\n00:31:53.640 --> 00:31:56.450\nIf I wanna see what's tied to the usb bus,\nI could dig into that, or\n\n647\n00:31:56.450 --> 00:31:59.720\nif I go into the pci bus, for\nexample, we can go in there.\n\n648\n00:31:59.720 --> 00:32:01.990\nAnd here's where your drivers get loaded.\n\n649\n00:32:01.990 --> 00:32:05.160\nWhen you install a driver package,\nthey're getting copied here.\n\n650\n00:32:05.160 --> 00:32:07.890\nSo if I have some custom sound card, or\n\n651\n00:32:07.890 --> 00:32:11.980\nI download those Nvidia drivers, they're\ngonna end up in here with the folder for\n\n652\n00:32:11.980 --> 00:32:14.520\nNvidia, and\nthat's where the driver will be present.\n\n653\n00:32:14.520 --> 00:32:17.149\nAnd modprobe and LS mod,\nthey know how to look for that, right,\n\n654\n00:32:17.149 --> 00:32:19.407\nto be able to load the right modules for\nthat hardware.\n\n655\n00:32:21.960 --> 00:32:25.995\nAll right, so Daniel, I know we've been\ntalking about this for 30 minutes now, but\n\n656\n00:32:25.995 --> 00:32:29.221\nI can kinda summarize it all into\njust a couple of sentences, right?\n\n657\n00:32:29.221 --> 00:32:33.008\nIf we have hardware problems,\ndon't rule out BIOS, right?\n\n658\n00:32:33.008 --> 00:32:36.260\nCuz BIOS applies before Linux,\nthey can cause things not to show up.\n\n659\n00:32:36.260 --> 00:32:38.070\nNumber two, check your drivers.\n\n660\n00:32:38.070 --> 00:32:39.690\nIt's almost always a driver\nproblem these days.\n\n661\n00:32:39.690 --> 00:32:41.470\nIf you're Linux distro doesn't\nsupport it out of the box,\n\n662\n00:32:41.470 --> 00:32:43.960\njust go to the vendor's website,\ndownload the drivers.\n\n663\n00:32:43.960 --> 00:32:48.660\nThat fixes the problem nine times out\nof ten, and that's it, all right?\n\n664\n00:32:48.660 --> 00:32:53.282\nIf it's still not good, that's when\nyou can start delving into LS mod,\n\n665\n00:32:53.282 --> 00:32:56.690\nLSPCI, LSUSB,\nlooking to see if the hardware's detected.\n\n666\n00:32:56.690 --> 00:32:59.130\nYou can use modprobe to assign modules and\n\n667\n00:32:59.130 --> 00:33:03.350\nload those modules in there, to force them\nand see if that detects the hardware.\n\n668\n00:33:03.350 --> 00:33:04.700\nThese are all little\nthings that we can do.\n\n669\n00:33:04.700 --> 00:33:07.677\nBut after that, it's really gonna be\na journey to the vendor's website to hit\n\n670\n00:33:07.677 --> 00:33:09.401\ntheir troubleshooting documents, right?\n\n671\n00:33:09.401 --> 00:33:11.750\nCuz every hardware piece\nis a little bit different.\n\n672\n00:33:11.750 --> 00:33:14.170\n>> Yeah,\ndefinitely gotta stay on top of that.\n\n673\n00:33:14.170 --> 00:33:17.780\nThis is definitely one of the most\ndifficult things, especially for newbies,\n\n674\n00:33:17.780 --> 00:33:19.060\nthat are new to Linux.\n\n675\n00:33:19.060 --> 00:33:22.340\nTrying to get into that can be one of\nthe biggest stumbling blocks for them.\n\n676\n00:33:22.340 --> 00:33:24.980\nTrying to get stuff to actually just work,\nI want to plug it in and make it work.\n\n677\n00:33:24.980 --> 00:33:26.570\nSo, definitely learn this stuff,\n\n678\n00:33:26.570 --> 00:33:30.760\ndive into those man pages, learn how\nthose commands work, down to in-depth.\n\n679\n00:33:30.760 --> 00:33:31.670\nNot just for your exam,\n\n680\n00:33:31.670 --> 00:33:35.970\nbut just for yourself to be able to do\nthat on your own, for your own systems.\n\n681\n00:33:35.970 --> 00:33:39.200\nWell, I guess that being said Don, we've\ncome to the end of another great episode.\n\n682\n00:33:39.200 --> 00:33:41.010\nHopefully everybody out\nthere has enjoyed it.\n\n683\n00:33:41.010 --> 00:33:42.070\nWe sure enjoyed making it.\n\n684\n00:33:42.070 --> 00:33:45.780\nSo signing off for ITProTV,\nI've been your host Daniel Lowry.\n\n685\n00:33:45.780 --> 00:33:46.500\n>> And I'm Don Pezet.\n\n686\n00:33:46.500 --> 00:33:47.837\n>> And we'll see you next time.\n\n687\n00:33:47.837 --> 00:33:53.700\n[NOISE]\n\n",
          "vimeoId": "131435031"
        },
        {
          "description": null,
          "length": "1165",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-1-configuring_hardware_pt2-061615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-1-configuring_hardware_pt2-061615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-1-configuring_hardware_pt2-061615-1-sm.jpg",
          "title": "Configuring Hardware Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.946\n[MUSIC]\n\n2\n00:00:10.946 --> 00:00:14.900\nAll right everyone, greetings and welcome\nto another great episode of ITPro TV.\n\n3\n00:00:14.900 --> 00:00:18.220\nI'll be your host Daniel Lowrie and\nhere with my today is Don Pezet.\n\n4\n00:00:18.220 --> 00:00:19.780\nHow are you doing today Don?\n\n5\n00:00:19.780 --> 00:00:22.720\n>> I'm doing great Daniel, and\nglad to be on the show again.\n\n6\n00:00:22.720 --> 00:00:24.190\nWe're actually gonna have some fun today.\n\n7\n00:00:24.190 --> 00:00:26.590\nWell we try and have fun everyday, right?\n\n8\n00:00:26.590 --> 00:00:30.080\nBut normally we're trying to make sure\nwe cover everything that's on the exam\n\n9\n00:00:30.080 --> 00:00:33.220\nobjectives and sometimes we have to\nkind of follow things in order but\n\n10\n00:00:33.220 --> 00:00:36.850\nin this one, what I wanna do is I want to\ntake a topic we talked about last episode\n\n11\n00:00:36.850 --> 00:00:40.090\nwhich was configuring hardware and\nI wanna go off the beaten path.\n\n12\n00:00:40.090 --> 00:00:43.000\nI want to show you guys an example of\na hardware configuration that I do on\n\n13\n00:00:43.000 --> 00:00:46.680\na lot of Linux systems\nthat is not on the exam.\n\n14\n00:00:46.680 --> 00:00:50.190\nBut, in making this change we're going to\nhave to go through a couple of systems\n\n15\n00:00:50.190 --> 00:00:53.995\nthat are on the exam, so this is a great\nreal world example of how we can do this\n\n16\n00:00:53.995 --> 00:00:56.005\nstuff, and\nit helps you prepare for the exam.\n\n17\n00:00:56.005 --> 00:00:58.445\nIt's really kind of a great thing,\nand it's kind of a fun one to do.\n\n18\n00:00:58.445 --> 00:01:01.955\n>> Yeah, a lot of times the examples of\nthings that they give us for when you're\n\n19\n00:01:01.955 --> 00:01:05.305\nreading a book, or you're going through\nvideo training, what we're doing.\n\n20\n00:01:05.305 --> 00:01:09.055\nIt's hard to show you practical stuff,\nright?\n\n21\n00:01:09.055 --> 00:01:12.185\nSo to have that practicality is\nreally going to hammer home,\n\n22\n00:01:12.185 --> 00:01:13.245\nthis is why we do this.\n\n23\n00:01:13.245 --> 00:01:16.430\nThis is where this becomes helpful.\n\n24\n00:01:16.430 --> 00:01:18.970\n>> So, here's one thing that I've\ndealt with a lot in the real world,\n\n25\n00:01:18.970 --> 00:01:22.920\nwhich is if you've got\na headless Linux unit, right?\n\n26\n00:01:22.920 --> 00:01:25.850\nSo let's say you've got a one use server\nthat you've thrown Linux on there to\n\n27\n00:01:25.850 --> 00:01:29.030\nprovide some functionality, and\nyou don't have a monitor or\n\n28\n00:01:29.030 --> 00:01:32.110\na keyboard or\na mouse hooked up to it, right?\n\n29\n00:01:32.110 --> 00:01:34.050\nOr maybe you got a monitor, keyboard and\n\n30\n00:01:34.050 --> 00:01:37.850\nmouse but you've got 42 one user\nservers stacked in a single rack and\n\n31\n00:01:37.850 --> 00:01:41.640\nit's a pain to go and move those around or\nto get an expensive KVM.\n\n32\n00:01:41.640 --> 00:01:43.190\nWhat you might want to do,\n\n33\n00:01:43.190 --> 00:01:47.420\nis redirect your video output\nto the serial port, right?\n\n34\n00:01:47.420 --> 00:01:49.920\nInstead of having the video\noutput go to a monitor and\n\n35\n00:01:49.920 --> 00:01:51.820\nyeah when I want to connect\nto that Linux server and\n\n36\n00:01:51.820 --> 00:01:54.430\nwork with it I got to hook a monitor up,\na keyboard and a mouse.\n\n37\n00:01:54.430 --> 00:01:58.570\nInstead of all that, I could just have\nit redirect output to the serial port.\n\n38\n00:01:58.570 --> 00:02:01.250\nAnd, now, I can just take my\nregular laptop and walk up and\n\n39\n00:02:01.250 --> 00:02:05.370\nconnect with the serial cable, and have\na prompt on that server, access the shell,\n\n40\n00:02:05.370 --> 00:02:06.710\nand start to work with it.\n\n41\n00:02:06.710 --> 00:02:10.810\nOr I can hook it up to a terminal server\nthat can provide terminal access to all of\n\n42\n00:02:10.810 --> 00:02:13.090\nmy servers via that serial port remotely.\n\n43\n00:02:13.090 --> 00:02:15.420\nIt's a lot less expensive than doing KVMs.\n\n44\n00:02:15.420 --> 00:02:18.160\nAnd if you don't need a graphic user\ninterface, it works great if you're just\n\n45\n00:02:18.160 --> 00:02:21.010\ndoing stuff from the shell,\nwhich on a server we normally would.\n\n46\n00:02:21.010 --> 00:02:25.940\nSo in these scenarios I disable the\ngraphics video adaptor, well, you don't\n\n47\n00:02:25.940 --> 00:02:30.010\ntruly disable it but you redirect\nthe primary video output to a serial port.\n\n48\n00:02:30.010 --> 00:02:32.420\nAnd it does make things kinda neat.\n\n49\n00:02:32.420 --> 00:02:36.510\nLarge server farms, if you're doing a\nLinux firewall you might wanna do this cuz\n\n50\n00:02:36.510 --> 00:02:38.980\nit does give that console\naccess to the system.\n\n51\n00:02:38.980 --> 00:02:40.970\nNow, on the exam they're not gonna say,\n\n52\n00:02:40.970 --> 00:02:42.730\nhow do you redirect video\noutput out the serial port?\n\n53\n00:02:43.770 --> 00:02:47.080\nBut, they do want you to know\nthe underlying systems that I've got\n\n54\n00:02:47.080 --> 00:02:48.160\nto change to make this work.\n\n55\n00:02:48.160 --> 00:02:50.490\nSo this is just a real world example\nof how you might go about this.\n\n56\n00:02:50.490 --> 00:02:52.460\nSo let's jump in.\n\n57\n00:02:52.460 --> 00:02:56.328\nThe first thing I need to do is I\nneed to get my Linux system ready so\n\n58\n00:02:56.328 --> 00:03:00.980\nthat it understands what I'm trying to do,\nthat I'm trying to basically make\n\n59\n00:03:00.980 --> 00:03:06.750\nthis boot differently than normal.\n\n60\n00:03:06.750 --> 00:03:12.250\nBecause that default functionality is\nthat it wants to display everything on\n\n61\n00:03:12.250 --> 00:03:13.290\nthe video adapter.\n\n62\n00:03:13.290 --> 00:03:15.440\nThat's kind of what it does by default.\n\n63\n00:03:15.440 --> 00:03:20.040\nAnd I want to bump up my font size\nhere a little bit because it's\n\n64\n00:03:20.040 --> 00:03:21.560\ngot me in something small here.\n\n65\n00:03:21.560 --> 00:03:24.020\nSo we'll just bump that a little bigger so\neverybody can see.\n\n66\n00:03:24.020 --> 00:03:25.088\nthere we go.\n\n67\n00:03:25.088 --> 00:03:28.610\nAll right, so\nwhat I need to do is I need to modify my\n\n68\n00:03:28.610 --> 00:03:30.920\nboot loader first to\ntell it what I'm doing.\n\n69\n00:03:30.920 --> 00:03:35.810\nSo I'm going to jump in here and edit and\nI've done an SU to assume the root\n\n70\n00:03:35.810 --> 00:03:38.888\nuser here because I didn't want to have\nto run on every single command, but\n\n71\n00:03:38.888 --> 00:03:43.542\nyou do have to be an administrator\nto do this So I'm going to edit\n\n72\n00:03:43.542 --> 00:03:48.450\n/boot/grub/grub.conf.\n\n73\n00:03:48.450 --> 00:03:51.020\nThat's the configuration file for\nmy bootloader.\n\n74\n00:03:51.020 --> 00:03:53.440\nWhen your system boots up, BIOS kicks in.\n\n75\n00:03:53.440 --> 00:03:55.370\nBIOS looks to the hard drive\nfinds the boot loader,\n\n76\n00:03:55.370 --> 00:03:56.440\nlet's the boot loader kick in.\n\n77\n00:03:56.440 --> 00:03:59.280\nAnd the boot loader follows these\ninstructions to find Linux and\n\n78\n00:03:59.280 --> 00:04:00.710\nthen let's Linux kick in.\n\n79\n00:04:00.710 --> 00:04:04.940\nSo I'm getting involved before Linux\nis technically loaded, all right?\n\n80\n00:04:04.940 --> 00:04:06.840\nNow if I'm doing away with a monitor and\n\n81\n00:04:06.840 --> 00:04:10.630\nI'm going text only out the serial port,\nI need to disable my splash image.\n\n82\n00:04:10.630 --> 00:04:12.810\nSo I'm gonna come in here and\nthrow a little pound symbol before that so\n\n83\n00:04:12.810 --> 00:04:14.090\nthe splash image is disabled.\n\n84\n00:04:15.480 --> 00:04:18.990\nThen I need to modify my kernel so\n\n85\n00:04:18.990 --> 00:04:22.340\nthat it'll know that I'm\ndoing this redirection.\n\n86\n00:04:22.340 --> 00:04:25.720\nSo I'm gonna get in here and\nadd to the end of that kernel line.\n\n87\n00:04:25.720 --> 00:04:27.250\nAnd the kernel line, it wraps.\n\n88\n00:04:27.250 --> 00:04:30.340\nLike if I do a set number here\nyou'll see the line numbers.\n\n89\n00:04:30.340 --> 00:04:33.310\nSee how line 16 actually\nwraps three times there.\n\n90\n00:04:33.310 --> 00:04:35.230\nSo I'm on my kernel line.\n\n91\n00:04:35.230 --> 00:04:38.910\nAnd I'm gonna add to the end of it\na couple of little entries here.\n\n92\n00:04:38.910 --> 00:04:43.040\nI'm gonna say Serial -- unit = 1.\n\n93\n00:04:43.040 --> 00:04:47.140\nSo I'm gonna be attaching\nthis to my first serial port.\n\n94\n00:04:47.140 --> 00:04:49.950\nAnd then I'm gonna say, speed = 9600.\n\n95\n00:04:49.950 --> 00:04:56.620\nNow, 9600 bod, or bits per second,\nthat's not screaming speed.\n\n96\n00:04:56.620 --> 00:04:59.430\nBut I'm just displaying text at\na console port, and that's plenty.\n\n97\n00:04:59.430 --> 00:05:01.950\nThis is what a lot of systems default to.\n\n98\n00:05:01.950 --> 00:05:07.330\nThen I'm gonna add another entry here.\n\n99\n00:05:07.330 --> 00:05:08.530\nLet's see, serial.\n\n100\n00:05:08.530 --> 00:05:13.020\nReset my, oh, wait,\nI'm doing this in the wrong spot.\n\n101\n00:05:13.020 --> 00:05:14.560\nLet me get rid of this.\n\n102\n00:05:14.560 --> 00:05:17.160\nI need to add this as a menu item.\n\n103\n00:05:17.160 --> 00:05:18.390\nI do need to add some kernel options,\n\n104\n00:05:18.390 --> 00:05:20.260\nbut I need to add this serial\noption right here first.\n\n105\n00:05:20.260 --> 00:05:28.180\nSo I'm gonna say serial--\nunit = 1- -speed = 9600.\n\n106\n00:05:28.180 --> 00:05:30.280\nAnd then I need to follow up,\nthis is why I knew I made a mistake.\n\n107\n00:05:30.280 --> 00:05:36.040\nI need to follow up my terminal entry and\nso I'll say terminal- - timeout = 300.\n\n108\n00:05:36.040 --> 00:05:39.250\nThe timeout value says that if I\ndon't get key feedback on the port,\n\n109\n00:05:39.250 --> 00:05:41.230\nI need to log that person out or\nend that session and so\n\n110\n00:05:41.230 --> 00:05:43.660\nI'm just setting a limit here\nof 300 which is five minutes.\n\n111\n00:05:43.660 --> 00:05:46.450\nYou might want to set it\nlonger it's just up to you.\n\n112\n00:05:46.450 --> 00:05:48.870\nAnd then I'll say console serial.\n\n113\n00:05:48.870 --> 00:05:50.340\nThat's the important line.\n\n114\n00:05:50.340 --> 00:05:54.570\nI'm saying that the default console of my\nLinux box needs to be the serial port.\n\n115\n00:05:54.570 --> 00:05:56.900\nAnd the serial port is gonna\nbe that first serial port, and\n\n116\n00:05:56.900 --> 00:05:58.360\nit's gonna be at a speed of 9600, right?\n\n117\n00:05:58.360 --> 00:06:00.730\nThis is all kind of tieing together.\n\n118\n00:06:00.730 --> 00:06:02.110\nAnd then on my kernel line,\n\n119\n00:06:02.110 --> 00:06:06.330\nthis is where I need to get in and\nadd a little bit more here.\n\n120\n00:06:06.330 --> 00:06:09.590\nI'm gonna say console = tty0.\n\n121\n00:06:10.590 --> 00:06:16.700\nSo it's gonna be my first teletype,\nmy virtual console, console = tty0,\n\n122\n00:06:16.700 --> 00:06:20.656\nand then I'm gonna say console = ttyS1.\n\n123\n00:06:20.656 --> 00:06:24.970\nNow S1, that's one that I'm making.\n\n124\n00:06:24.970 --> 00:06:25.930\nI'm making it myself.\n\n125\n00:06:25.930 --> 00:06:27.250\nS1 doesn't exist by default, right?\n\n126\n00:06:27.250 --> 00:06:30.930\nThey're normally tty followed\nby one to three numbers.\n\n127\n00:06:30.930 --> 00:06:33.910\nS1, that's me adding it so\nI know that this is my serial one.\n\n128\n00:06:33.910 --> 00:06:37.720\nJust so I can have that and it's a name\nthat I will be able to spot later.\n\n129\n00:06:37.720 --> 00:06:43.660\nAnd it's gonna be 9600, and we'll do\nno parity bits and eight, all right.\n\n130\n00:06:43.660 --> 00:06:48.660\nSo now, when the system boots up, it knows\nto redirect that video output, right?\n\n131\n00:06:48.660 --> 00:06:53.030\nSo that's all kinda being done right here\nin my boot configuration changing the way\n\n132\n00:06:53.030 --> 00:06:55.510\nthat Linus is gonna boot up,\nso let me just Save that.\n\n133\n00:06:57.300 --> 00:07:02.670\nNow, because I created a new TTY, the\nsystem needs to be aware of that, right?\n\n134\n00:07:02.670 --> 00:07:03.680\nIt knows about all of it's TTYs,\n\n135\n00:07:03.680 --> 00:07:06.170\nit doesn't know about this\nnew one that I just made.\n\n136\n00:07:06.170 --> 00:07:15.640\nIf I go into /etc/securetty, sorry,\nit's not a directory, it's a file.\n\n137\n00:07:15.640 --> 00:07:22.850\nIf I edit that file, /etc/securetty, we\ncan see all these virtual consoles, right?\n\n138\n00:07:22.850 --> 00:07:24.810\nThese are the ones the system knows about.\n\n139\n00:07:24.810 --> 00:07:26.910\nSome of them are just VCs,\nother ones are TTYs.\n\n140\n00:07:26.910 --> 00:07:31.030\nThe TTYs are local, the VCs,\nthose are used for SSH sessions and stuff.\n\n141\n00:07:31.030 --> 00:07:34.090\nSo, I'm gonna come in here and\nadd another one to the end of this list.\n\n142\n00:07:34.090 --> 00:07:39.408\nAnd I'll just say tty S1, that's the one\nI made, so now it knows that that exists.\n\n143\n00:07:42.349 --> 00:07:43.451\nNow it knows it exists,\n\n144\n00:07:43.451 --> 00:07:47.130\nit needs a configuration to tell it to\nbring it active when the system boots up.\n\n145\n00:07:47.130 --> 00:07:49.140\nSo I'm gonna have to edit\nanother another file for\n\n146\n00:07:49.140 --> 00:07:51.070\nthat, and\nthis one's going to be inside of a nit.\n\n147\n00:07:51.070 --> 00:07:54.420\nNow a nit is one of those things\nthat is part of System 5 Unix,\n\n148\n00:07:54.420 --> 00:07:58.470\nso most Linux distros use it, but some\ndistros have started moving to the newer\n\n149\n00:07:58.470 --> 00:08:00.740\nnit systems, and so\nthis might be different on yours.\n\n150\n00:08:00.740 --> 00:08:07.193\nBut for most of them, I'm going to edit,\nslash etc /init/ttys1.com.\n\n151\n00:08:07.193 --> 00:08:12.960\nAnd here's where I'm gonna tell\nit the behavior of this port,\n\n152\n00:08:12.960 --> 00:08:16.040\nof this new serial interface\nthat I've created.\n\n153\n00:08:16.040 --> 00:08:17.190\nAnd we just have to give it instructions.\n\n154\n00:08:17.190 --> 00:08:24.090\nI'm gonna tell it I want to start this\ninterface on runlevel 1345, all right?.\n\n155\n00:08:25.500 --> 00:08:29.170\nNow, runlevels vary from Linux\ndistro to distro, but for\n\n156\n00:08:29.170 --> 00:08:32.020\nthe most part,\nrun level one is single user.\n\n157\n00:08:32.020 --> 00:08:35.960\nThat's the administrator when you run\nunit and use that single user prompt.\n\n158\n00:08:35.960 --> 00:08:37.540\nThat's going to be one.\n\n159\n00:08:37.540 --> 00:08:40.865\n3, 4, and 5 are mixes of multi user.\n\n160\n00:08:40.865 --> 00:08:42.825\n3 is multi user command line only.\n\n161\n00:08:42.825 --> 00:08:44.970\n5 is multi user with networking.\n\n162\n00:08:44.970 --> 00:08:46.880\nI skip forward because I can't\nremember what it is, but\n\n163\n00:08:46.880 --> 00:08:48.740\nit's a multi user with something.\n\n164\n00:08:48.740 --> 00:08:51.680\nSo those are just saying when it\nboots up in those different modes\n\n165\n00:08:51.680 --> 00:08:53.150\nwe want this serial port to be active.\n\n166\n00:08:54.480 --> 00:08:59.810\nAnd then we'll say stop on run level and\n\n167\n00:08:59.810 --> 00:09:02.050\nwe'll say s which will be\nshutdown if we're powering off.\n\n168\n00:09:02.050 --> 00:09:06.150\n0, which is the true halt, and then 6,\n\n169\n00:09:06.150 --> 00:09:11.320\nwhich is one of the most advanced\nones that you don't normally use.\n\n170\n00:09:11.320 --> 00:09:13.990\nBut it basically disables\nall the extra services.\n\n171\n00:09:13.990 --> 00:09:15.650\nSo that's when we're going to start and\n\n172\n00:09:15.650 --> 00:09:17.120\nwhen we're going to stop\nthe serial interface.\n\n173\n00:09:17.120 --> 00:09:22.400\nThen I'm gonna say respawn, so\nif it ever stops, I'll recreate it.\n\n174\n00:09:22.400 --> 00:09:28.560\nAnd then instance/dev/ttyS1.\n\n175\n00:09:28.560 --> 00:09:31.870\nAll of our hardware goes into /dev,\nthat's where it shows up.\n\n176\n00:09:31.870 --> 00:09:34.920\nIt's gotta be mapped to\na virtual device inside of /dev.\n\n177\n00:09:34.920 --> 00:09:36.500\nNormally YouDub does that?\n\n178\n00:09:36.500 --> 00:09:40.190\nYouDub sees the hardware and maps it,\nbut in this case I'm creating something\n\n179\n00:09:40.190 --> 00:09:42.940\nvirtual so YouDub isn't gonna\ndetect that hardware, right?\n\n180\n00:09:42.940 --> 00:09:44.110\nModprobe isn't gonna see it.\n\n181\n00:09:44.110 --> 00:09:47.800\nIt's not real I'm making it so I just have\nto tell it what's that gonna mapped to,\n\n182\n00:09:49.060 --> 00:09:51.690\nand then I'll tell it what it's gonna do.\n\n183\n00:09:51.690 --> 00:09:57.390\nIt's going to run agetty which is\nwhat's going to generate TTY, so\n\n184\n00:09:57.390 --> 00:10:03.370\nthat's going to create the TTY interface,\nthe TTY interface is going to be TTY S1,\n\n185\n00:10:03.370 --> 00:10:06.780\nit's going to have a speed of 9600, and\nI'll just set the terminal emulation to\n\n186\n00:10:06.780 --> 00:10:12.890\nVT100, or VT100 nav, alright Now it knows\nexactly what I want that serial interface\n\n187\n00:10:12.890 --> 00:10:17.610\nto be, what I want it to do, how I want\nit to start and when I want it to load.\n\n188\n00:10:17.610 --> 00:10:20.280\nIt knows all the little\nbits of information.\n\n189\n00:10:20.280 --> 00:10:21.950\nNormally, you don't have\nto provide this stuff,\n\n190\n00:10:21.950 --> 00:10:25.110\nbecause the system detects\nthe hardware and it puts defaults in.\n\n191\n00:10:25.110 --> 00:10:27.550\nBut I'm having to do this by hand\nbecause it's virtual hardware.\n\n192\n00:10:27.550 --> 00:10:29.910\nThat's why this is valuable for the exam.\n\n193\n00:10:29.910 --> 00:10:33.830\nBecause on the exam, you might see what\nthey ask about some of these files,\n\n194\n00:10:33.830 --> 00:10:35.440\nthese locations, right?\n\n195\n00:10:35.440 --> 00:10:41.160\nWhy you might have to go into /init/\nto /etc/init to modify something and\n\n196\n00:10:41.160 --> 00:10:42.215\nyou normally wouldn't, right?\n\n197\n00:10:42.215 --> 00:10:47.070\nCuz it's so automatic these days but these\nfiles are all and loaded at boot time so\n\n198\n00:10:47.070 --> 00:10:50.880\nI modified my boot configuration\nto change what the kernel does.\n\n199\n00:10:50.880 --> 00:10:55.420\nI created this virtual TTY, and\nnow I've added it to a knit.\n\n200\n00:10:55.420 --> 00:10:59.710\nSo when it turns on, it's gonna\ninitialize this virtual hardware, and\n\n201\n00:10:59.710 --> 00:11:02.490\nit's gonna get it up and running, and\nthe kernel's gonna be redirected.\n\n202\n00:11:02.490 --> 00:11:06.090\nAnd this is all gonna\nhappen before I log on.\n\n203\n00:11:06.090 --> 00:11:08.040\nRight?\nThis is independent of what user connects.\n\n204\n00:11:08.040 --> 00:11:09.330\nThis is at the kernel level.\n\n205\n00:11:09.330 --> 00:11:10.702\nThis is really base level stuff.\n\n206\n00:11:12.973 --> 00:11:15.190\nAll right,\nwe're actually good to go here, but\n\n207\n00:11:15.190 --> 00:11:17.960\nthere's one more change I want to make.\n\n208\n00:11:17.960 --> 00:11:20.540\nThis is CentOS and when you boot CentOS,\n\n209\n00:11:20.540 --> 00:11:23.180\nit boots to a graphical\nuser interface by default.\n\n210\n00:11:23.180 --> 00:11:25.610\nI want to tell it to boot to\na command line instead, so\n\n211\n00:11:25.610 --> 00:11:29.240\nI'm going to modify the run\nlevel that it boots to.\n\n212\n00:11:29.240 --> 00:11:34.071\nI need to modify a file\nwhich is the init table.\n\n213\n00:11:34.071 --> 00:11:38.250\nSo /etc/inittab and in there,\n\n214\n00:11:38.250 --> 00:11:41.070\nit's got a bunch of information, oh, and\nthe different modes, here we can find it.\n\n215\n00:11:41.070 --> 00:11:47.110\nSo [LAUGH] remember how we said\nto halt on, 0, and 6, right?\n\n216\n00:11:47.110 --> 00:11:50.880\nSo S was the true halt,\nwhere everything's frozen, shut down.\n\n217\n00:11:50.880 --> 00:11:55.210\nZero is halt where the system is still\ntechnically on, and then six is reboot.\n\n218\n00:11:55.210 --> 00:11:58.425\nYou don't need the service\nof reboot if 4 is unused.\n\n219\n00:11:58.425 --> 00:11:59.520\n[LAUGH]\n>> Oh, and\n\n220\n00:11:59.520 --> 00:12:02.040\nI couldn't remember [INAUDIBLE],\nI get a little bit of defense on this one.\n\n221\n00:12:02.040 --> 00:12:03.560\n>> That's right, there you go.\n\n222\n00:12:03.560 --> 00:12:04.650\n>> All right, so anyhow, but\n\n223\n00:12:04.650 --> 00:12:08.150\nyou can see where 3 is full\nmulti-user mode, and 5 is X11.\n\n224\n00:12:08.150 --> 00:12:09.110\nWhat's that?\n\n225\n00:12:09.110 --> 00:12:12.690\nWell, that's our graphical user interface.\n\n226\n00:12:12.690 --> 00:12:15.280\nSo it's multiuser mode with\nthe graphical user interface.\n\n227\n00:12:15.280 --> 00:12:18.210\nAnd I don't want that,\nI just want command line which would be 3,\n\n228\n00:12:18.210 --> 00:12:19.810\nFull multiuser mode.\n\n229\n00:12:19.810 --> 00:12:23.990\nso down here, I'm gonna take this ID line\nwhere it says ID 5, and hit default.\n\n230\n00:12:23.990 --> 00:12:25.800\nAnd I'm gonna change that to a three.\n\n231\n00:12:25.800 --> 00:12:30.090\nSo now, when my system boots up,\nit's gonna go to a command line, and\n\n232\n00:12:30.090 --> 00:12:32.290\nnot boot to a GUI.\n\n233\n00:12:32.290 --> 00:12:34.980\nAnd that's important because a command\nline can be rendered over a serial port,\n\n234\n00:12:34.980 --> 00:12:36.280\nthe graphics can't.\n\n235\n00:12:36.280 --> 00:12:41.170\nSo now I'll get a command line interface\nrepresented on my serial port, and\n\n236\n00:12:41.170 --> 00:12:44.830\nif I connect a laptop up to that serial\nport, and I fire up a terminal program,\n\n237\n00:12:44.830 --> 00:12:46.030\nset it to 9600 baud.\n\n238\n00:12:46.030 --> 00:12:48.450\nI'm gonna see that shell, and\n\n239\n00:12:48.450 --> 00:12:51.590\nI'm gonna be able to work with the system\nwithout hooking up a keyboard or\n\n240\n00:12:51.590 --> 00:12:54.870\na monitor or whatever, and\nthings will be just a lot more simple.\n\n241\n00:12:56.700 --> 00:12:59.240\nAll right, well, the moment of\ntruth is to actually see this work.\n\n242\n00:12:59.240 --> 00:13:03.880\nSo I'm gonna go ahead and\nissue a reboot, and reboot my system.\n\n243\n00:13:03.880 --> 00:13:11.930\nNow, when it boots up, I expect to see\nit boot to a command line interface.\n\n244\n00:13:11.930 --> 00:13:17.870\nEarlier it would have booted to a GUI, but\nhere it should boot to a command line.\n\n245\n00:13:17.870 --> 00:13:21.360\nAnd at the same time,\nin the kernel options,\n\n246\n00:13:21.360 --> 00:13:26.990\nI set it to output to tty0 and ttys1,\nremember I put both those in there?\n\n247\n00:13:26.990 --> 00:13:30.820\nso I should see a login prompt here,\nmonitoring the console of the system.\n\n248\n00:13:30.820 --> 00:13:34.330\nBut there should be a login\nprompt on my console also.\n\n249\n00:13:34.330 --> 00:13:36.840\nIn older versions of Linux you had\nto choose one or the other but\n\n250\n00:13:36.840 --> 00:13:38.600\nin newer ones you can\nactually choose both.\n\n251\n00:13:38.600 --> 00:13:40.040\nSo I should get a shell here.\n\n252\n00:13:40.040 --> 00:13:42.140\nUnless I screwed it up,\nI might have done a typo.\n\n253\n00:13:42.140 --> 00:13:47.220\nIf that happened I might not actually\nget a prompt here, but we probably will.\n\n254\n00:13:47.220 --> 00:13:51.550\nAll this output that I'm seeing should be\nbeing mirrored on my serial port also but\n\n255\n00:13:51.550 --> 00:13:55.820\nI just want to verify that I'm actually\nseeing the CLI boot instead and\n\n256\n00:13:55.820 --> 00:14:01.330\nit looks like I am, so if I try to log\nin here, there we go, I'm logged in.\n\n257\n00:14:01.330 --> 00:14:02.620\nNow I'm logged into the CLI.\n\n258\n00:14:02.620 --> 00:14:06.090\nThe graphical user interface\nis not running, all right?\n\n259\n00:14:06.090 --> 00:14:08.170\nNow how do I know without the serial port?\n\n260\n00:14:08.170 --> 00:14:09.470\nWell, I'm on a virtual machine here.\n\n261\n00:14:09.470 --> 00:14:12.620\nNormally on a physical machine,\nI'd hook my laptop up with a serial port.\n\n262\n00:14:12.620 --> 00:14:15.340\nBut I'm going to connect it as\nvirtual serial port, and we'll see it.\n\n263\n00:14:15.340 --> 00:14:21.020\nI'm going to do a reboot of that system,\nso it's going to reboot.\n\n264\n00:14:21.020 --> 00:14:22.810\nApparently I have to provide my password.\n\n265\n00:14:22.810 --> 00:14:24.600\nAnd am I in the sudoers group?\n\n266\n00:14:24.600 --> 00:14:25.310\nOh, I'm not.\n\n267\n00:14:25.310 --> 00:14:28.660\nShoot.\n[LAUGH]\n\n268\n00:14:28.660 --> 00:14:30.360\nThere we go.\n\n269\n00:14:30.360 --> 00:14:32.590\nLet me su, and we'll do it from there.\n\n270\n00:14:32.590 --> 00:14:34.000\nSo I'll do a quick reboot.\n\n271\n00:14:34.000 --> 00:14:37.840\nAnd while that's rebooting, I'm going\nto connect that virtual serial port.\n\n272\n00:14:37.840 --> 00:14:39.410\nAnd look what I'm getting.\n\n273\n00:14:39.410 --> 00:14:41.880\nI'm seeing that output while it goes and\nreboots.\n\n274\n00:14:41.880 --> 00:14:44.380\nThis is all coming out of\nthe serial port of that server.\n\n275\n00:14:44.380 --> 00:14:45.850\nSo, now I don't have to have a keyboard.\n\n276\n00:14:45.850 --> 00:14:46.840\nI don't have to have a mouse.\n\n277\n00:14:46.840 --> 00:14:48.510\nI don't have to have any of that stuff.\n\n278\n00:14:48.510 --> 00:14:49.690\nIt's gonna reboot.\n\n279\n00:14:49.690 --> 00:14:51.940\nIt's gonna come up, and\nif I ever wanna manage the server,\n\n280\n00:14:51.940 --> 00:14:53.230\nI can connect to the serial port.\n\n281\n00:14:53.230 --> 00:14:57.060\nAnd I know what you're probably thinking\nis, well Don, if you're gonna take your\n\n282\n00:14:57.060 --> 00:15:02.760\nlaptop into the server room and\nyou plug your laptop into the serial port.\n\n283\n00:15:02.760 --> 00:15:04.410\nWhy not just take a monitor and\na keyboard?\n\n284\n00:15:04.410 --> 00:15:06.820\nAnd plug those in,\nthat could work too, right?\n\n285\n00:15:06.820 --> 00:15:08.810\nWell, it could, right?\n\n286\n00:15:08.810 --> 00:15:12.070\nBut your laptop has a battery, your\nmonitor and your keyboard don't, right?\n\n287\n00:15:12.070 --> 00:15:14.510\nWell, a keyboard would be powered off\nthe server, but your monitor won't.\n\n288\n00:15:14.510 --> 00:15:16.120\nSo you got that to kinda deal with.\n\n289\n00:15:16.120 --> 00:15:17.960\nYou've also got different\nmonitor standards, so\n\n290\n00:15:17.960 --> 00:15:20.670\nyou might have VGA on some servers,\nDVI on others.\n\n291\n00:15:20.670 --> 00:15:22.910\nThat kinda gets a little messy, too.\n\n292\n00:15:22.910 --> 00:15:26.850\nBut the other thing is,\nwe can combine this with a terminal server\n\n293\n00:15:26.850 --> 00:15:29.970\nto get terminal access to the console\nof all of our servers, right?\n\n294\n00:15:29.970 --> 00:15:36.350\nOh here I'm at my log in prompt, I can try\nand log in, oop, the way I'm accessing\n\n295\n00:15:36.350 --> 00:15:39.770\nit is gonna make my syntax weird so\nI probably won't be able to log in here.\n\n296\n00:15:39.770 --> 00:15:41.480\nThis virtual IO stuff doesn't work.\n\n297\n00:15:41.480 --> 00:15:44.680\nOn a serial cable, this is very reliable,\nyou connect in and work.\n\n298\n00:15:44.680 --> 00:15:46.770\nBut you guys kinda see it working there.\n\n299\n00:15:46.770 --> 00:15:48.730\nBut there's companies like Open Gear.\n\n300\n00:15:48.730 --> 00:15:51.310\nLet me bring up the Open Gear site.\n\n301\n00:15:51.310 --> 00:15:54.800\nAnd Open Gear makes these\namazing terminal servers, and\n\n302\n00:15:54.800 --> 00:15:57.250\nthey build it all off of\nopen source software.\n\n303\n00:15:57.250 --> 00:16:03.875\nAnd what their terminal servers do,\nis they allow you to connect right here.\n\n304\n00:16:03.875 --> 00:16:08.455\nThey have these cables that are RJ45\non one end and serial on the other.\n\n305\n00:16:08.455 --> 00:16:11.015\nAnd here I could run these to 48 servers.\n\n306\n00:16:11.015 --> 00:16:12.865\nHave 48 servers connected up.\n\n307\n00:16:12.865 --> 00:16:17.695\nAnd then I could SSH into this device, and\nI can access the console of every one of\n\n308\n00:16:17.695 --> 00:16:20.750\nthose servers, even if the servers\ndon't have a network adapter in them.\n\n309\n00:16:20.750 --> 00:16:21.780\nI can access their console.\n\n310\n00:16:21.780 --> 00:16:24.700\nI can work with the server all\nright from that serial interface by\n\n311\n00:16:24.700 --> 00:16:25.960\nredirecting it here.\n\n312\n00:16:25.960 --> 00:16:30.330\nAnd these devices,\nhere it's like 48 ports, and\n\n313\n00:16:30.330 --> 00:16:31.520\nI think it's like $2000 or $3000.\n\n314\n00:16:31.520 --> 00:16:33.760\nIf you compare that to a KVM and\n\n315\n00:16:33.760 --> 00:16:37.010\nthe infrastructure required from that,\nit's significantly more expensive.\n\n316\n00:16:37.010 --> 00:16:41.360\nSo solutions like these in a data\ncenter are really, really handy.\n\n317\n00:16:41.360 --> 00:16:44.510\nSo I know you might be thinking yourself\nright now, I'm never going to redirect\n\n318\n00:16:44.510 --> 00:16:48.080\nthis to a serial port but\nif you're building a Linux firewall,\n\n319\n00:16:48.080 --> 00:16:50.610\nand you're not gonna have a keyboard or\nmouse attach to it,\n\n320\n00:16:50.610 --> 00:16:54.590\nif you got a high density server farm, and\nyou just don't have room for keyboards and\n\n321\n00:16:54.590 --> 00:16:57.980\nmice, and KVMS,\nthis solution works really well.\n\n322\n00:16:57.980 --> 00:17:02.960\nBut more importantly, I wanted you guys to\nsee how we kinda messed with the nit and\n\n323\n00:17:02.960 --> 00:17:05.490\nhow we messed with some of\nthe other kernel options and\n\n324\n00:17:05.490 --> 00:17:09.070\nthings to manipulate how our\nhardware was being treated.\n\n325\n00:17:09.070 --> 00:17:14.850\nSo if I double back to\n/boot/grub/grub.com.\n\n326\n00:17:14.850 --> 00:17:17.980\nThat was where the bulk\nof the work was done.\n\n327\n00:17:17.980 --> 00:17:22.290\nAnd, oh, it didn't work earlier.\n\n328\n00:17:22.290 --> 00:17:25.284\nNo surprise it's not working now.\n\n329\n00:17:25.284 --> 00:17:26.286\n>> [LAUGH]\n>> [LAUGH] You'd think\n\n330\n00:17:26.286 --> 00:17:26.920\nI'd learn my lesson.\n\n331\n00:17:26.920 --> 00:17:28.760\n>> You've gotta give\nyourself permissions Don.\n\n332\n00:17:28.760 --> 00:17:30.612\n>> Yeah, I'm not in the group,\nso I'll cheat.\n\n333\n00:17:31.740 --> 00:17:32.530\nSo if we go in here and look.\n\n334\n00:17:32.530 --> 00:17:35.690\nThis was where the bulk of that\nwork was done, where I came in and\n\n335\n00:17:35.690 --> 00:17:38.390\nI enabled that serial\ninterface at boot time.\n\n336\n00:17:38.390 --> 00:17:40.290\nAnd I redirected the terminal and\n\n337\n00:17:40.290 --> 00:17:44.780\nin my kernel options I specified to\noutput on TTYO as well as TTYS1.\n\n338\n00:17:44.780 --> 00:17:47.070\nThat's where that work happened.\n\n339\n00:17:47.070 --> 00:17:48.790\nI manipulated what happened at boot.\n\n340\n00:17:48.790 --> 00:17:52.550\nAnd you can manipulate all sorts\nof things like what modules load,\n\n341\n00:17:52.550 --> 00:17:56.150\nwhat modules don't load there's a ton of\nthings that you can do in the system.\n\n342\n00:17:56.150 --> 00:17:58.350\nThey're just not very common.\n\n343\n00:17:58.350 --> 00:17:59.500\nIt's not something we do every day.\n\n344\n00:17:59.500 --> 00:18:01.210\nSo I wanted to show you\nguys an example of that so\n\n345\n00:18:01.210 --> 00:18:03.520\nyou could get a chance to see\na real-world application.\n\n346\n00:18:03.520 --> 00:18:04.930\n>> Yeah.\nThis was very cool Don.\n\n347\n00:18:04.930 --> 00:18:08.170\nIt reminded me a lot of\nconnecting to Cisco equipment\n\n348\n00:18:08.170 --> 00:18:09.760\nthrough a serial connector.\n\n349\n00:18:09.760 --> 00:18:12.530\nJust grabbing that and\nsetting your primers\n\n350\n00:18:12.530 --> 00:18:14.220\n>> That's exactly what they're doing,\n\n351\n00:18:14.220 --> 00:18:18.090\nI have a PF sense firewall at home and\nwhen I installed it, it asked me do I want\n\n352\n00:18:18.090 --> 00:18:23.160\noutput over the serial face or\nthe VGA and like a moron a chose VGA.\n\n353\n00:18:23.160 --> 00:18:26.360\nAnd so anytime something goes wrong with\nthe firewall, I got to take a monitor and\n\n354\n00:18:26.360 --> 00:18:28.450\nkeyboard to that system and that stinks.\n\n355\n00:18:29.600 --> 00:18:33.150\nIf I had chosen serial port I could\njust take my laptop in, hook it up and\n\n356\n00:18:33.150 --> 00:18:34.150\nget access to it.\n\n357\n00:18:34.150 --> 00:18:37.300\nWell, that was an option during\nthe installer, and if I had chosen it,\n\n358\n00:18:37.300 --> 00:18:39.500\nthey were just making these changes for\nme, saying, yeah,\n\n359\n00:18:39.500 --> 00:18:41.320\nwe'll redirect that\nconsole to serial port.\n\n360\n00:18:41.320 --> 00:18:44.530\nIn hindsight, I should have done that,\nso maybe I'll reformat my firewall or\n\n361\n00:18:44.530 --> 00:18:45.616\nsomething [LAUGH].\n\n362\n00:18:45.616 --> 00:18:47.890\n>> Yeah, very, very handy stuff, the\n>> And\n\n363\n00:18:47.890 --> 00:18:50.440\nshow those examples for the Linux+ exam.\n\n364\n00:18:50.440 --> 00:18:52.230\nLike the things that you need to go and\nmodify,\n\n365\n00:18:52.230 --> 00:18:54.430\nand understand what's going on in there.\n\n366\n00:18:54.430 --> 00:18:56.960\nThat these are the areas\nin which we do that,\n\n367\n00:18:56.960 --> 00:18:59.610\nnot necessarily maybe what\nDon was putting into it.\n\n368\n00:18:59.610 --> 00:19:02.610\nBut what we were doing there\nthat those specific areas.\n\n369\n00:19:02.610 --> 00:19:03.810\nVery cool stuff.\n\n370\n00:19:03.810 --> 00:19:05.320\nAll right,\nwell that's all I've got Daniel.\n\n371\n00:19:05.320 --> 00:19:06.260\nI hope everybody enjoyed that.\n\n372\n00:19:06.260 --> 00:19:08.770\nIt was kind of an aside from\nthe exam objectives there.\n\n373\n00:19:08.770 --> 00:19:09.770\nBut I think a useful thing.\n\n374\n00:19:09.770 --> 00:19:10.530\n>> Yeah, yeah.\n\n375\n00:19:10.530 --> 00:19:11.170\nI liked it a lot.\n\n376\n00:19:11.170 --> 00:19:12.700\nI hope you guys did as well.\n\n377\n00:19:12.700 --> 00:19:14.810\nBut it is time to sign off for ITPROTV.\n\n378\n00:19:14.810 --> 00:19:17.060\nI've been your host Daniel Lowery.\n\n379\n00:19:17.060 --> 00:19:17.650\n>> And I'm Don Pazett.\n\n380\n00:19:17.650 --> 00:19:19.990\n>> And we'll see you next time.\n\n",
          "vimeoId": "131435032"
        },
        {
          "description": null,
          "length": "1743",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-2-configuring_hard_disks-061615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-2-configuring_hard_disks-061615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-2-configuring_hard_disks-061615-1-sm.jpg",
          "title": "Configuring Hard Disks",
          "transcript": "WEBVTT\n\n1\n00:00:00.065 --> 00:00:10.665\n[MUSIC]\n\n2\n00:00:10.665 --> 00:00:14.790\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.790 --> 00:00:16.740\nI'll be your host Daniel Lowry.\n\n4\n00:00:16.740 --> 00:00:20.240\nAnd here with me today is none other\nthan the man, the myth, the well,\n\n5\n00:00:20.240 --> 00:00:20.788\nI'll stop there.\n\n6\n00:00:20.788 --> 00:00:22.590\n[LAUGH] Don Pezet.\n\n7\n00:00:22.590 --> 00:00:23.970\n>> One in seven states.\n\n8\n00:00:23.970 --> 00:00:26.140\nThanks for\nhaving me back on the show Daniel.\n\n9\n00:00:26.140 --> 00:00:30.800\nI'm excited about today's show because\nwe're going to talking about partitioning,\n\n10\n00:00:30.800 --> 00:00:33.460\nformatting, handling\nhard drives in general.\n\n11\n00:00:33.460 --> 00:00:34.150\nRight?\n\n12\n00:00:34.150 --> 00:00:37.100\nWhen you install your Lennox distribution,\nit asks you a bunch of\n\n13\n00:00:37.100 --> 00:00:40.770\nquestions about how you want to format and\narrange your hard disks, and\n\n14\n00:00:40.770 --> 00:00:43.190\nusually people make those decisions and\nthat's kind of the end of it.\n\n15\n00:00:43.190 --> 00:00:46.400\nBut you can actually get involved\nin that quite a bit more even\n\n16\n00:00:46.400 --> 00:00:47.670\nafter the install is done.\n\n17\n00:00:47.670 --> 00:00:50.980\nAt a minimum, if you're adding\nnew hard drives to your system,\n\n18\n00:00:50.980 --> 00:00:53.770\nyou're probably going to need to\nget involved with formatting them,\n\n19\n00:00:53.770 --> 00:00:54.970\nmounting them, getting them online.\n\n20\n00:00:54.970 --> 00:00:57.360\nSo that's what we're going to take\na look at here in this episode,\n\n21\n00:00:57.360 --> 00:00:59.560\nhow we get those drives ready for use.\n\n22\n00:00:59.560 --> 00:01:00.440\n>> That's right.\n\n23\n00:01:00.440 --> 00:01:05.310\nNow Don, my favorite way is just to start\nmy favorite graphical user interface,\n\n24\n00:01:05.310 --> 00:01:07.320\nthe old Jeep Hearted and go to town, and\n\n25\n00:01:07.320 --> 00:01:10.250\neverything works great, but\nthat's not always an option is it?\n\n26\n00:01:10.250 --> 00:01:12.900\n>> That's right.\nIf you're on a server with no Gui,\n\n27\n00:01:12.900 --> 00:01:15.730\nthen some of the graphics tools that we\nuse, all the graphics tools that we use,\n\n28\n00:01:15.730 --> 00:01:16.400\naren't going to work.\n\n29\n00:01:16.400 --> 00:01:18.950\nNow, you might do like a remote x\nwindow session, or something, and\n\n30\n00:01:18.950 --> 00:01:19.710\nkind of get around that,\n\n31\n00:01:19.710 --> 00:01:22.980\nbut usually we're going to have to deal\nwith what we've got from the command line.\n\n32\n00:01:22.980 --> 00:01:25.860\nSo we're going to walk through a few\ndifferent ways to handle this.\n\n33\n00:01:25.860 --> 00:01:29.820\nNow, before we dive into the tools, let's\ntalk about the principle a little bit.\n\n34\n00:01:29.820 --> 00:01:34.610\nWhen you get a brand-new hard drive,\nthe odds are, well, it might be truly,\n\n35\n00:01:34.610 --> 00:01:36.010\ncompletely blank.\n\n36\n00:01:36.010 --> 00:01:38.650\nThat used to happen, not so much any more.\n\n37\n00:01:38.650 --> 00:01:41.660\nNow they usually put at least\na Windows partition on there.\n\n38\n00:01:41.660 --> 00:01:45.920\nAnd if you do that, and throw it on\nto a Linux system, it'll detect it,\n\n39\n00:01:45.920 --> 00:01:48.660\nit can use it, but\nit's not really optimal.\n\n40\n00:01:48.660 --> 00:01:53.260\nLinux has its own file system\nthat it likes to use, the ExtFS,\n\n41\n00:01:53.260 --> 00:01:56.870\nor, well there's a bunch of them,\nReiserFS and ZFS, all those good guys.\n\n42\n00:01:56.870 --> 00:02:01.110\nBut each of those are really optimized for\nuse with the Lennox journal and\n\n43\n00:02:01.110 --> 00:02:02.000\nthe Lennox operating system.\n\n44\n00:02:02.000 --> 00:02:05.108\nYou get various benefits usually\ncentering on performance from using them.\n\n45\n00:02:05.108 --> 00:02:07.620\nSo we don't want to use\nthe Windows partitions even\n\n46\n00:02:07.620 --> 00:02:09.270\nif they're already created for us.\n\n47\n00:02:09.270 --> 00:02:12.090\nSo when we get a new drive,\nwe're going to want to wipe out\n\n48\n00:02:12.090 --> 00:02:14.710\nthe partitions that are on it and\ncreate our own.\n\n49\n00:02:14.710 --> 00:02:15.300\nRight?\nAnd\n\n50\n00:02:15.300 --> 00:02:18.400\nthat way Lennox can format those and\nprepare them to use them.\n\n51\n00:02:18.400 --> 00:02:22.530\nWhen you get a drive, you might want\nto create one big partition that spans\n\n52\n00:02:22.530 --> 00:02:25.950\nthe whole drive, or you might\nwant to divide it up into chunks.\n\n53\n00:02:25.950 --> 00:02:27.870\nNow Daniel, what's my motivation,\n\n54\n00:02:27.870 --> 00:02:29.570\nlike why would I want to\ndivide a drive into chunks?\n\n55\n00:02:29.570 --> 00:02:30.780\n>> Well, because you want to protect data.\n\n56\n00:02:30.780 --> 00:02:36.110\nIf I have system files on one partition,\nand I've got program files on\n\n57\n00:02:36.110 --> 00:02:39.940\nanother partition, if one of my programs\ngoes crazy, it doesn't effect my system,\n\n58\n00:02:39.940 --> 00:02:45.220\nor my system goes completely berserk,\nmy program files are still safe.\n\n59\n00:02:45.220 --> 00:02:49.330\nAll I have to do is reformat,\nthat partition on my system files on them,\n\n60\n00:02:49.330 --> 00:02:53.580\nreinstall those files, and\nI still have all my data, it's not gone.\n\n61\n00:02:53.580 --> 00:02:57.330\n>> Yeah and a great example of this\nmight be, I'm installing Linux and\n\n62\n00:02:57.330 --> 00:02:57.960\nI've got one hard drive.\n\n63\n00:02:57.960 --> 00:02:59.970\nI've only got one hard drive.\n\n64\n00:02:59.970 --> 00:03:04.745\nAnd I'm worried about my user files\ngrowing and filling the hard drive.\n\n65\n00:03:04.745 --> 00:03:07.010\nBecause if I fill the hard drive up,\n\n66\n00:03:07.010 --> 00:03:08.785\noperating system functions stop working,\nright?\n\n67\n00:03:08.785 --> 00:03:10.450\nBecause as you run processes\nthey create files,\n\n68\n00:03:10.450 --> 00:03:12.900\nthey can't do that, processes can't run,\nsystem can't run, right?\n\n69\n00:03:12.900 --> 00:03:15.340\nIt's kind of this whole\nchain reaction that happens.\n\n70\n00:03:15.340 --> 00:03:20.140\nWhat I might want to do is take that\nslash-home folder at that directory, and\n\n71\n00:03:20.140 --> 00:03:21.820\nput it in a separate partition.\n\n72\n00:03:21.820 --> 00:03:25.140\nAnd that way, it's got boundaries on it,\nso if it fills up, well great,\n\n73\n00:03:25.140 --> 00:03:29.005\nthe whole directory is filled up, but\nmy operating system still has room, right?\n\n74\n00:03:29.005 --> 00:03:31.205\nSo that's one reason we\nmight want to do it.\n\n75\n00:03:31.205 --> 00:03:35.325\nWe might want to encrypt one partition and\nnot encrypt another one.\n\n76\n00:03:35.325 --> 00:03:37.845\nUsually it's just about\nsetting boundaries, right?\n\n77\n00:03:37.845 --> 00:03:39.291\nIt's not about redundancy.\n\n78\n00:03:39.291 --> 00:03:42.565\nI wouldn't want to create a partition and\ndivide a hard drive in half, and\n\n79\n00:03:42.565 --> 00:03:44.395\nback up data to the second partition.\n\n80\n00:03:44.395 --> 00:03:45.215\nThat doesn't make sense,\n\n81\n00:03:45.215 --> 00:03:48.465\nbecause if the hard drives fails,\nI lose both partitions, right?\n\n82\n00:03:48.465 --> 00:03:50.855\nSo that's not really a motivation for\npartitioning.\n\n83\n00:03:50.855 --> 00:03:55.170\nBut for isolating your data, that's\nreally what partitions are all about.\n\n84\n00:03:55.170 --> 00:03:58.960\nYou may or may not need that, and\nthere's more than one way to go about it.\n\n85\n00:03:58.960 --> 00:04:02.450\nIn this episode, we're going to be talking\nabout the traditional methods of directly\n\n86\n00:04:02.450 --> 00:04:03.628\npartitioning a single drive.\n\n87\n00:04:03.628 --> 00:04:04.915\nIn a follow-up episode,\n\n88\n00:04:04.915 --> 00:04:08.140\nwe're going to talk about\nthe logical volume manager, the LVM.\n\n89\n00:04:08.140 --> 00:04:11.630\nAnd it let's you do crazy things like\nhave one partition span more than one\n\n90\n00:04:11.630 --> 00:04:12.490\nphysical drive.\n\n91\n00:04:12.490 --> 00:04:13.410\nAll sorts of magic there.\n\n92\n00:04:13.410 --> 00:04:14.630\nIt's really neat stuff.\n\n93\n00:04:14.630 --> 00:04:15.440\nLet's start with the basics.\n\n94\n00:04:16.470 --> 00:04:19.540\nSo Daniel,\nI've got a Linux box right here and\n\n95\n00:04:19.540 --> 00:04:22.310\nI've got a couple of hard\ndrives on this system.\n\n96\n00:04:22.310 --> 00:04:25.714\nAnd I know I've got a couple of hard\ndrives because if I look in like /etc.\n\n97\n00:04:25.714 --> 00:04:32.920\nInside of /etc oops, not etc,\nif I look inside of /dev, there we go.\n\n98\n00:04:32.920 --> 00:04:37.150\nI can see all the hardware that was picked\nup and in here I can spot my hard drives.\n\n99\n00:04:37.150 --> 00:04:39.650\nNow on most Linux distros,\nthe hard drives,\n\n100\n00:04:39.650 --> 00:04:44.530\nif they're SATA drives, will show up\nas sd followed by a letter, right?\n\n101\n00:04:44.530 --> 00:04:49.510\nAnd that's just SATA disk,\nsd, so sda is my first disk.\n\n102\n00:04:49.510 --> 00:04:52.580\nAnd then I've got sdb as my second disk.\n\n103\n00:04:52.580 --> 00:04:54.230\nSdc, that's my third disk.\n\n104\n00:04:54.230 --> 00:04:55.486\nAnd as I add more hard drives,\n\n105\n00:04:55.486 --> 00:04:58.159\nit just keeps moving up the alphabet\nwith those drive letters.\n\n106\n00:04:58.159 --> 00:05:03.105\nRight, if I've partitioned the disk,\nI'll see a number after it.\n\n107\n00:05:03.105 --> 00:05:08.526\nSda1 is my first hard drive,\nmy first partition on it.\n\n108\n00:05:08.526 --> 00:05:12.800\nSda3 is my first hard drive,\nthe third partition on it.\n\n109\n00:05:12.800 --> 00:05:14.640\nSdb and sdc.\n\n110\n00:05:14.640 --> 00:05:16.230\nWell, they don't have any numbers.\n\n111\n00:05:16.230 --> 00:05:17.910\nThat means I haven't partitioned them.\n\n112\n00:05:17.910 --> 00:05:19.500\nThose drives are basically blank.\n\n113\n00:05:19.500 --> 00:05:20.140\nThey're sitting there.\n\n114\n00:05:20.140 --> 00:05:21.310\nThey're not in use.\n\n115\n00:05:21.310 --> 00:05:23.140\nMy system can't access them.\n\n116\n00:05:23.140 --> 00:05:26.660\nSo if I just added these hard drives,\nI had to get them ready for use.\n\n117\n00:05:26.660 --> 00:05:30.350\nAnd to do that, I need to put at\nleast one partition on there, and\n\n118\n00:05:30.350 --> 00:05:31.470\nI need to format them.\n\n119\n00:05:31.470 --> 00:05:33.270\nAnd once they're formatted,\nyou're in business.\n\n120\n00:05:33.270 --> 00:05:35.060\nNow, that word format.\n\n121\n00:05:35.060 --> 00:05:37.220\nLet me just add a little bit here.\n\n122\n00:05:37.220 --> 00:05:40.110\nI know there's some of you guys out there\nthat are hard-core Linux users that\n\n123\n00:05:40.110 --> 00:05:42.991\nare ready to turn off the video right now\n>> [LAUGH]\n\n124\n00:05:42.991 --> 00:05:44.326\n>> because I used the word format.\n\n125\n00:05:44.326 --> 00:05:46.270\nThe word format does come\nfrom the Microsoft world.\n\n126\n00:05:46.270 --> 00:05:47.930\nThey call it formatting the disk.\n\n127\n00:05:47.930 --> 00:05:51.150\nWhat you're actually doing\nis laying out a file system.\n\n128\n00:05:51.150 --> 00:05:53.230\nSo you're applying a file\nsystem to the disk.\n\n129\n00:05:53.230 --> 00:05:56.000\nYou're saying here's how\nI'm going to store files.\n\n130\n00:05:56.000 --> 00:05:59.670\nHere's the table where I'll store\nthe file names, and here's how I'll\n\n131\n00:05:59.670 --> 00:06:03.640\nplace that data on the drive itself so\nthat I can retrieve it quickly and safely.\n\n132\n00:06:03.640 --> 00:06:05.690\nAnd maybe I've got advanced\nfeatures like journaling or\n\n133\n00:06:05.690 --> 00:06:07.410\nwhatever, whenever those are enabled,\nright?\n\n134\n00:06:07.410 --> 00:06:09.120\nIt's all part of the file system.\n\n135\n00:06:09.120 --> 00:06:10.740\nSo when we say we're formatting a disc,\n\n136\n00:06:10.740 --> 00:06:15.080\nwhat we're really saying is we're\napplying a file system to it, right?\n\n137\n00:06:15.080 --> 00:06:16.620\nBut the term is formatting.\n\n138\n00:06:16.620 --> 00:06:19.280\nPretty much everyone uses it and\nit's no big deal.\n\n139\n00:06:19.280 --> 00:06:22.335\nBut if you're one of the hardcore guys,\nyou're being nippy.\n\n140\n00:06:22.335 --> 00:06:23.100\n[LAUGH] But\n\n141\n00:06:23.100 --> 00:06:27.550\nanyhow, so that's one of the things\nthat we need to get the drive ready.\n\n142\n00:06:27.550 --> 00:06:32.210\nOnce it's ready, we still can't\naccess it until we mount it.\n\n143\n00:06:32.210 --> 00:06:35.690\nMounting it is the process\nof taking a patrician and\n\n144\n00:06:35.690 --> 00:06:38.830\napplying a path to it,\na folder path, right?\n\n145\n00:06:38.830 --> 00:06:41.690\nWhen you browse your hard drive,\nyou're browsing through folders, and\n\n146\n00:06:41.690 --> 00:06:44.570\nthose folders can be mounted\nto patricians, and so\n\n147\n00:06:44.570 --> 00:06:47.300\nwe have to do that to be able\nto gain access to the drive.\n\n148\n00:06:47.300 --> 00:06:50.340\nSo there's really a three step\nprocess to get a drive ready.\n\n149\n00:06:50.340 --> 00:06:51.840\nYou got to partition it.\n\n150\n00:06:51.840 --> 00:06:54.760\nYou got to apply a file system or\nformat it.\n\n151\n00:06:54.760 --> 00:06:55.920\nAnd then you got to mount it.\n\n152\n00:06:55.920 --> 00:06:59.630\nAnd once those three things are done,\nyou now got useable storage.\n\n153\n00:06:59.630 --> 00:07:01.430\nSo, let's run through that process.\n\n154\n00:07:01.430 --> 00:07:02.910\nWe'll start with formatting.\n\n155\n00:07:02.910 --> 00:07:06.470\nDaniel I know you mentioned gparted,\nwhich is a great utility,\n\n156\n00:07:06.470 --> 00:07:08.590\nbut I want to start with fdisk.\n\n157\n00:07:08.590 --> 00:07:09.880\n>> Yeah, good old fdisk right?\n\n158\n00:07:09.880 --> 00:07:13.050\nThe tried and true, been around for\njust about ever right?\n\n159\n00:07:13.050 --> 00:07:15.830\n>> Yeah it's ancient,\nit's been around a long long time.\n\n160\n00:07:15.830 --> 00:07:16.580\nIt's the one you can count on.\n\n161\n00:07:16.580 --> 00:07:18.990\nYou don't know if you'll have\nthe other tools on a server, but\n\n162\n00:07:18.990 --> 00:07:20.990\nyou know you'll have fdisk.\n\n163\n00:07:20.990 --> 00:07:22.080\nAnd you can always check.\n\n164\n00:07:22.080 --> 00:07:25.060\nYou do a quick like fdisk, dash dash help.\n\n165\n00:07:25.060 --> 00:07:26.940\nAnd you should get the help output for it.\n\n166\n00:07:26.940 --> 00:07:29.870\nAnd this is just a simple command line\npartition creator that we can use.\n\n167\n00:07:29.870 --> 00:07:33.790\nAnd when you run fdisk,\nyou can do a couple of different things.\n\n168\n00:07:33.790 --> 00:07:36.610\nYou know, if you look at the various\noptions they've got here for\n\n169\n00:07:36.610 --> 00:07:40.200\ndisplaying your table or\naccessing a single disk or whatever.\n\n170\n00:07:40.200 --> 00:07:46.860\nBut the basic one is fdisk, followed by\na disk name to change the partition table.\n\n171\n00:07:46.860 --> 00:07:49.370\nSo maybe I'll do /dev/sdb.\n\n172\n00:07:49.370 --> 00:07:51.460\nSdb had no partitions.\n\n173\n00:07:51.460 --> 00:07:53.345\nSo when I go to access that, whoops.\n\n174\n00:07:53.345 --> 00:07:55.135\nKind of need to be an administrator\nto mess with this one, so\n\n175\n00:07:55.135 --> 00:07:56.365\nI'm going to sudo that.\n\n176\n00:07:56.365 --> 00:07:58.735\n>> Don't want your regular users\npartitioning for the fun of it [LAUGH].\n\n177\n00:07:58.735 --> 00:08:01.303\n>> That's right,\nthat wouldn't be a good time.\n\n178\n00:08:01.303 --> 00:08:03.729\nSo now I can access it, and\nI can start to create partitions.\n\n179\n00:08:03.729 --> 00:08:07.406\nAnd I can see, I can press m for\nhelp which is intuitive.\n\n180\n00:08:07.406 --> 00:08:09.710\nAnd we can see all the different\ncommands that we can do.\n\n181\n00:08:09.710 --> 00:08:12.288\nAnd you'll see things in here\nlike delete a partition, so\n\n182\n00:08:12.288 --> 00:08:16.310\nif my hard drive shipped with those\nWindows partitions, I can delete them.\n\n183\n00:08:16.310 --> 00:08:21.410\nI can add partitions by using the create\noption which is actually n for new.\n\n184\n00:08:21.410 --> 00:08:24.040\nSo I can throw in new partitions and\nget those in place.\n\n185\n00:08:24.040 --> 00:08:24.890\nAnd you can set it all, and\n\n186\n00:08:24.890 --> 00:08:29.120\nwhen you're done you can write\nthe partition table to the hard drive.\n\n187\n00:08:29.120 --> 00:08:30.900\nSo all the changes that I'm about to make,\n\n188\n00:08:30.900 --> 00:08:33.300\ndon't actually take effect\nuntil I say to write it.\n\n189\n00:08:33.300 --> 00:08:35.200\nIt's basically queueing\nup all the changes.\n\n190\n00:08:35.200 --> 00:08:38.890\n>> That's an important thing to know too,\nbecause you can spend some time really\n\n191\n00:08:38.890 --> 00:08:41.700\ntweaking the partitions the way\nyou want them, and then you hit q.\n\n192\n00:08:41.700 --> 00:08:44.030\nYou think you're done, and\nit didn't write anything.\n\n193\n00:08:44.030 --> 00:08:46.130\nYou gotta go back and\ndo it all over again.\n\n194\n00:08:46.130 --> 00:08:49.190\n>> Now,\nthe option I always go to first, is p.\n\n195\n00:08:49.190 --> 00:08:50.350\nPrint the partition table.\n\n196\n00:08:50.350 --> 00:08:54.720\nI want to see what's on this drive right\nnow, so I'm gonna hit p, and here it is.\n\n197\n00:08:54.720 --> 00:08:56.433\nI can see my drive, right?\n\n198\n00:08:56.433 --> 00:08:59.450\nIt's 68.7 gigabytes in size.\n\n199\n00:08:59.450 --> 00:09:01.800\nNow we know, once we format and\nstuff, it's much smaller, right?\n\n200\n00:09:01.800 --> 00:09:04.670\nIt's a whole difference of how\nwe measure bytes and all that.\n\n201\n00:09:04.670 --> 00:09:06.670\nBut I can see how many sectors, units.\n\n202\n00:09:06.670 --> 00:09:08.330\nI can see all that information.\n\n203\n00:09:08.330 --> 00:09:11.860\nI can also see if it's got a disk\nlabel applied to it right now.\n\n204\n00:09:11.860 --> 00:09:13.930\nApparently mine does a DoS label.\n\n205\n00:09:13.930 --> 00:09:15.580\nAnd then I can see the partitions.\n\n206\n00:09:15.580 --> 00:09:16.930\nAnd I don't have any.\n\n207\n00:09:16.930 --> 00:09:18.430\nSo it's really just a blank drive.\n\n208\n00:09:18.430 --> 00:09:20.130\nIf I had some they'd be numbered.\n\n209\n00:09:20.130 --> 00:09:21.980\nAnd I could hit D to delete, and\n\n210\n00:09:21.980 --> 00:09:24.650\nthen put the number of the partition I\nwanted to remove and I could remove it.\n\n211\n00:09:24.650 --> 00:09:27.080\nGreat way to get rid of\nthose Windows partitions.\n\n212\n00:09:27.080 --> 00:09:31.060\nThen I can hit N for new and\nI'm going to create a partition.\n\n213\n00:09:31.060 --> 00:09:32.720\nNow on a standard partition type,\n\n214\n00:09:32.720 --> 00:09:35.800\nyou have what's called a primary and\nan extended partition.\n\n215\n00:09:35.800 --> 00:09:38.790\nYour hard drive can have up\nto four primary partitions.\n\n216\n00:09:38.790 --> 00:09:42.440\nIf you need more, well you probably\nhave a pretty specialized use case.\n\n217\n00:09:42.440 --> 00:09:44.700\nMost people never need more,\nbut if you do,\n\n218\n00:09:44.700 --> 00:09:49.230\nthe fourth one can be\na extended partition.\n\n219\n00:09:49.230 --> 00:09:51.310\nIt can create basically this container,\n\n220\n00:09:51.310 --> 00:09:53.920\nand you can start creating these\nlogical partitions inside of it.\n\n221\n00:09:53.920 --> 00:09:56.320\nAnd you can actually create\nas many of those as you want.\n\n222\n00:09:56.320 --> 00:09:58.970\nThey're all nested inside of\none big partition though.\n\n223\n00:09:58.970 --> 00:10:00.530\nSo that's what that\nextended option is for.\n\n224\n00:10:00.530 --> 00:10:05.610\nIf I wanted to go beyond the four\nlimit that I normally have.\n\n225\n00:10:05.610 --> 00:10:07.180\nWell I'm just gonna create\na primary partition.\n\n226\n00:10:07.180 --> 00:10:08.490\nThat's the default.\n\n227\n00:10:08.490 --> 00:10:10.190\nAnd now it's gonna ask for that number.\n\n228\n00:10:10.190 --> 00:10:13.360\nIf I've already got partitions created,\nI can pick a number that isn't used.\n\n229\n00:10:13.360 --> 00:10:16.470\nIf this is the first one,\nwe want that default of one.\n\n230\n00:10:16.470 --> 00:10:18.480\nAnd now the size.\n\n231\n00:10:18.480 --> 00:10:21.970\nNow for the size,\nsee how it's asking for a sector?\n\n232\n00:10:21.970 --> 00:10:22.710\nRight.\n\n233\n00:10:22.710 --> 00:10:25.140\nMost people don't think of hard\ndrives in terms of sectors.\n\n234\n00:10:25.140 --> 00:10:27.715\nBut Linux gives it to us here\nkind of straight, right?\n\n235\n00:10:27.715 --> 00:10:30.090\nThey're giving us that\nwhole sector range and\n\n236\n00:10:30.090 --> 00:10:33.280\nyou'll see that sectors one through\n2047 are kind of reserved, right?\n\n237\n00:10:34.380 --> 00:10:36.439\nWell that's where my\nmaster boot record is, and\n\n238\n00:10:36.439 --> 00:10:38.170\nit's information, I can't mess with that.\n\n239\n00:10:38.170 --> 00:10:42.860\nBut 2048 through the end of\nthe drive is available, right.\n\n240\n00:10:42.860 --> 00:10:47.760\nNow some Linux distros actually\nallow you to type a size here, so\n\n241\n00:10:47.760 --> 00:10:52.670\nlike if I wanted to create a 20\ngigabyte drive, you could type 20g.\n\n242\n00:10:52.670 --> 00:10:54.180\nI don't remember if this one will do it.\n\n243\n00:10:54.180 --> 00:10:55.340\nYeah.\nThis one won't do it.\n\n244\n00:10:55.340 --> 00:10:56.980\nSo here I've got to\nspecify the sector range.\n\n245\n00:10:56.980 --> 00:10:59.250\nWe'll see another tool in a minute\nthat will let us do that.\n\n246\n00:10:59.250 --> 00:11:03.230\nSo if I want to partition out this whole\ndrive, I can just say start 2048 and\n\n247\n00:11:03.230 --> 00:11:05.620\nwe'll go all the way to the end.\n\n248\n00:11:05.620 --> 00:11:06.960\nOh here, it'll let me do it here.\n\n249\n00:11:06.960 --> 00:11:09.120\nSo, I'm starting from\nthe beginning of the drive and\n\n250\n00:11:09.120 --> 00:11:14.003\nnow I could punch in the sector I wanted\nto end at, or I could say plus 20g,\n\n251\n00:11:14.003 --> 00:11:19.320\nand now it's gonna create a 20\ngigabyte partition for me, right.\n\n252\n00:11:19.320 --> 00:11:22.280\nSo I don't have to actually know all\nmy sector numbers, most people don't.\n\n253\n00:11:23.690 --> 00:11:26.360\nAlright, so\nwhen I run that it's gonna create it, and\n\n254\n00:11:26.360 --> 00:11:30.100\nsee where it says partition\none of type Linux, right.\n\n255\n00:11:30.100 --> 00:11:32.773\nIt assumes this is gonna\nbe a Linux partition, but\n\n256\n00:11:32.773 --> 00:11:37.660\nfdisk it's really old,\nit supports all sorts of partition types.\n\n257\n00:11:37.660 --> 00:11:41.160\nIf we go into our help screen, you'll see\nwhere we've got an option in here where\n\n258\n00:11:41.160 --> 00:11:46.000\nyou can change a partition system id,\nand you can change the partition type.\n\n259\n00:11:46.000 --> 00:11:47.560\nSo we can modify that to switch.\n\n260\n00:11:47.560 --> 00:11:51.340\nAnd if you use l,\nyou can list the known partition types.\n\n261\n00:11:51.340 --> 00:11:53.000\nAnd if I pull that list up.\n\n262\n00:11:53.000 --> 00:11:55.310\nYou'll see tons of stuff, right.\n\n263\n00:11:55.310 --> 00:11:56.930\nYou've got Windows, you've got QNIX,\n\n264\n00:11:56.930 --> 00:12:00.120\nyou've got Novell Netware,\nFreeBSD, Open BSD.\n\n265\n00:12:00.120 --> 00:12:02.900\nAll the different OS's have\nslightly different partition types.\n\n266\n00:12:02.900 --> 00:12:05.610\nAnd so you can create those\nif that's what you want.\n\n267\n00:12:05.610 --> 00:12:06.500\nI wanted Linux though.\n\n268\n00:12:06.500 --> 00:12:08.030\nThat was the default, so\nI'm gonna leave it be.\n\n269\n00:12:08.030 --> 00:12:12.800\nAnd if I hit P to print,\nsee how it does have an SDB1 now?\n\n270\n00:12:12.800 --> 00:12:14.930\nThat's that first partition.\n\n271\n00:12:14.930 --> 00:12:17.740\nI saw a room on the drive so\nI could create more petitions if I wanted.\n\n272\n00:12:17.740 --> 00:12:18.936\nBut I'm gonna stop there.\n\n273\n00:12:18.936 --> 00:12:19.940\nI'll stop while I'm ahead.\n\n274\n00:12:19.940 --> 00:12:21.940\nAnd I've got that partition made.\n\n275\n00:12:21.940 --> 00:12:24.500\nNow I just need to write my\nchanges to the hard drive.\n\n276\n00:12:24.500 --> 00:12:26.840\nSo if I do a w,\nit's gonna write to the drive and\n\n277\n00:12:26.840 --> 00:12:29.490\nit says the partition\ntable has been altered.\n\n278\n00:12:29.490 --> 00:12:31.670\nIt's calling it to reread\nthe partition table.\n\n279\n00:12:31.670 --> 00:12:33.020\nIt's gotta reload it.\n\n280\n00:12:33.020 --> 00:12:33.520\nAnd there we go.\n\n281\n00:12:34.860 --> 00:12:38.015\nWhen you make changes to the partition\ntable, the OS doesn't see it\n\n282\n00:12:38.015 --> 00:12:41.640\nby default unless we tell it to, and\nthat's why it's having to reread.\n\n283\n00:12:41.640 --> 00:12:44.300\nRight here it's telling it\nreread the petition table.\n\n284\n00:12:44.300 --> 00:12:47.190\nOtherwise it only checks\nthe partition table when you boot up.\n\n285\n00:12:47.190 --> 00:12:49.150\nWhen you boot up it always checks.\n\n286\n00:12:49.150 --> 00:12:51.040\nBut after that it won't\ncheck unless we tell it, and\n\n287\n00:12:51.040 --> 00:12:53.360\nf disk does this just\ndoes that automatically.\n\n288\n00:12:53.360 --> 00:12:54.470\nYou can actually force it to do it.\n\n289\n00:12:54.470 --> 00:12:55.210\nWhat's the command?\n\n290\n00:12:55.210 --> 00:12:56.090\nIt's like partprobe.\n\n291\n00:12:57.790 --> 00:12:59.320\nYes, partprobe.\n\n292\n00:12:59.320 --> 00:13:04.350\nSo partprobe is the partition probe,\nand it tells the system to look for\n\n293\n00:13:04.350 --> 00:13:05.510\nnew partitions also.\n\n294\n00:13:05.510 --> 00:13:10.370\nThat's another way to force it on\nyour own if you bump into that.\n\n295\n00:13:10.370 --> 00:13:12.540\nSo at this point,\nI've created a partition.\n\n296\n00:13:12.540 --> 00:13:19.350\nAnd it's in place, if I look at /dev,\nI can see I've got an SDB1 now.\n\n297\n00:13:19.350 --> 00:13:20.120\nSo, it's there.\n\n298\n00:13:20.120 --> 00:13:22.420\nI created that partition.\n\n299\n00:13:22.420 --> 00:13:25.340\nNow I used fdisk,\nnot the most user friendly.\n\n300\n00:13:25.340 --> 00:13:26.470\nIt is there.\n\n301\n00:13:26.470 --> 00:13:29.391\nThere are other ones that we\ncould've used, like GParted.\n\n302\n00:13:29.391 --> 00:13:33.260\nThere's gdisk,\nwhich is another one that we can use.\n\n303\n00:13:33.260 --> 00:13:34.310\nVery, very similar, right.\n\n304\n00:13:34.310 --> 00:13:40.280\nSo, if I do gdisc/dev/sdc,\nI'll take my other hard drive.\n\n305\n00:13:41.710 --> 00:13:44.955\nWhen I point to it,\nthis ones a little bit easier to use,\n\n306\n00:13:44.955 --> 00:13:47.640\ncuz it has some newer naming conventions.\n\n307\n00:13:47.640 --> 00:13:50.440\nSo here it's letting me know that I don't\nhave any boot record on this drive yet,\n\n308\n00:13:50.440 --> 00:13:54.390\nthis drive is truly and completely blank,\nthat's fairly uncommon.\n\n309\n00:13:54.390 --> 00:13:58.090\nBut if I pull up my help, you'll see\nwe've got options just like with fdisc\n\n310\n00:13:58.090 --> 00:13:59.650\nthat we can go in and we can create.\n\n311\n00:13:59.650 --> 00:14:00.980\nThen we can start to specify this stuff.\n\n312\n00:14:00.980 --> 00:14:05.290\nSo if I want to add a new partition,\nI can do a new.\n\n313\n00:14:05.290 --> 00:14:07.100\nIt's asking for a partition number,\nI'll chose one.\n\n314\n00:14:07.100 --> 00:14:09.845\nNow notice that it goes\nall the way to 128.\n\n315\n00:14:09.845 --> 00:14:12.910\nFdisk is using the old\nmaster boot record format.\n\n316\n00:14:12.910 --> 00:14:19.223\nGdisk supports the newer GPT,\nthe what is it, the GUID Partition Table.\n\n317\n00:14:19.223 --> 00:14:20.715\nThe GPT format.\n\n318\n00:14:20.715 --> 00:14:23.879\nAnd so it can do way more\npartitions if we want, right.\n\n319\n00:14:23.879 --> 00:14:25.720\nBut most of us are just gonna do one.\n\n320\n00:14:25.720 --> 00:14:28.270\nAnd then it's asking for\nthat first sector.\n\n321\n00:14:28.270 --> 00:14:32.130\nSee how right here it is allowing me to do\nthat size, right from the very beginning?\n\n322\n00:14:32.130 --> 00:14:36.250\nSo, if I wanna do a 36 gig partition.\n\n323\n00:14:36.250 --> 00:14:39.590\nI can do that right here,\nand I won't have to specify.\n\n324\n00:14:39.590 --> 00:14:41.800\nOh, actually chose to\nstart 36 gigs into it.\n\n325\n00:14:41.800 --> 00:14:43.440\nSo, that was not what I wanted.\n\n326\n00:14:43.440 --> 00:14:45.430\nSo, I'll probably want to abandon that.\n\n327\n00:14:45.430 --> 00:14:48.800\nLet me just control C out of that,\nand we'll redo it.\n\n328\n00:14:48.800 --> 00:14:50.280\nAnd so, I'll do a new one.\n\n329\n00:14:50.280 --> 00:14:53.440\nAnd this time I will just let\nit accept the first sector,\n\n330\n00:14:53.440 --> 00:14:58.144\nand then I'll do my plus 36G and\nwe're gonna get that created.\n\n331\n00:14:58.144 --> 00:15:00.465\nAnd see how it's defaulting\nthat Linux file system.\n\n332\n00:15:00.465 --> 00:15:03.200\nAnd I can change it right here if I want,\nor\n\n333\n00:15:03.200 --> 00:15:06.352\nI can just press enter to\naccept that default of Linux.\n\n334\n00:15:06.352 --> 00:15:08.310\nAnd now, when I look at that table,\n\n335\n00:15:08.310 --> 00:15:11.560\nI've got it created and\nwe can write that to the drive.\n\n336\n00:15:11.560 --> 00:15:13.350\nAnd we'll be done.\n\n337\n00:15:13.350 --> 00:15:18.880\nBig reason to use gdisk is that support\nfor GPT, right, the GUID partition table.\n\n338\n00:15:18.880 --> 00:15:21.790\nAnd that's really required if\nyou've got really large drives,\n\n339\n00:15:21.790 --> 00:15:26.390\nlike these 6 terabyte drives and stuff,\nGPT always works better for those.\n\n340\n00:15:26.390 --> 00:15:29.040\nAnd then if you need a lot of partitions,\nGPT works better.\n\n341\n00:15:30.540 --> 00:15:31.560\nAll right.\n\n342\n00:15:31.560 --> 00:15:34.220\nSo, now I've created these drives.\n\n343\n00:15:34.220 --> 00:15:35.040\nI'm in business.\nRight, Daniel?\n\n344\n00:15:35.040 --> 00:15:36.000\nI'm done, ready to rock.\n\n345\n00:15:36.000 --> 00:15:36.950\n>> You're not done.\n\n346\n00:15:36.950 --> 00:15:38.032\nYou got plenty more to do.\n\n347\n00:15:38.032 --> 00:15:40.050\n[LAUGH]\n>> Never ending work.\n\n348\n00:15:40.050 --> 00:15:41.690\nAll right, so we've got them.\n\n349\n00:15:41.690 --> 00:15:42.400\nThey're in place.\n\n350\n00:15:43.420 --> 00:15:46.532\nYou also mentioned\naparted before the show.\n\n351\n00:15:46.532 --> 00:15:48.070\n>> Yeah, aparted I noticed,\n\n352\n00:15:48.070 --> 00:15:52.930\nit's really good if you're using\nthis mbr and the GPT type formats.\n\n353\n00:15:52.930 --> 00:15:57.815\nYou want to do both without have to use\nfdisk and then jump over to the G part,\n\n354\n00:15:57.815 --> 00:15:59.379\nor, I'm sorry G disk.\n\n355\n00:15:59.379 --> 00:16:02.752\nThen you can use aparted, and\nit will do either,or, it doesn't matter.\n\n356\n00:16:02.752 --> 00:16:03.390\nYou can work with it.\n\n357\n00:16:03.390 --> 00:16:06.773\nEven though they're very similar\nwith fdisk and gdisk, but\n\n358\n00:16:06.773 --> 00:16:09.039\nIt's nice to have one-stop shopping.\n\n359\n00:16:09.039 --> 00:16:09.839\n>> Yeah.\n\n360\n00:16:09.839 --> 00:16:11.689\nJust remember,\nfdisk is the one you can count on.\n\n361\n00:16:11.689 --> 00:16:15.220\nIt's always there but it's not the most\npowerful because it's really old.\n\n362\n00:16:15.220 --> 00:16:20.220\nSo parted, gdisk, gparted,\nthe graphical one, that one's nice.\n\n363\n00:16:20.220 --> 00:16:24.080\nYou can use any of those utilities, but on\nthe exam they do want you to at least know\n\n364\n00:16:24.080 --> 00:16:27.390\nthe basics, right, know fdisk because\nyou can count on it being there.\n\n365\n00:16:28.390 --> 00:16:32.310\nAll right, now once I've created\nthe drive, now I can mount it.\n\n366\n00:16:32.310 --> 00:16:34.870\nI can mount it to get it attached\nto the system so I can see it.\n\n367\n00:16:34.870 --> 00:16:36.780\nI do still need to format it.\n\n368\n00:16:36.780 --> 00:16:38.860\nNow when it comes to formatting the drive,\n\n369\n00:16:38.860 --> 00:16:41.380\nwe got a couple of\ndifferent ways to do it.\n\n370\n00:16:41.380 --> 00:16:44.400\nThere's a ton of utilities that\nare included with your Linux so\n\n371\n00:16:44.400 --> 00:16:48.880\nthat you really don't see,\nthat are hidden behind this one wrapper.\n\n372\n00:16:48.880 --> 00:16:51.500\nThere's a wrapper called MKFS.\n\n373\n00:16:51.500 --> 00:16:55.600\nIf you run MKFS,\nthat's the Make File System.\n\n374\n00:16:55.600 --> 00:16:59.150\nAll right, and basically you tell it what\nfile system type you want to create.\n\n375\n00:16:59.150 --> 00:17:00.350\nYou tell it the device.\n\n376\n00:17:00.350 --> 00:17:01.570\nAnd size is optional.\n\n377\n00:17:01.570 --> 00:17:03.530\nIt normally just formats\nout the whole partition.\n\n378\n00:17:03.530 --> 00:17:07.600\nBut this is what's going to apply that\nfinal system to a drive to get it ready.\n\n379\n00:17:07.600 --> 00:17:11.060\nNow MKFS looks like a command,\nbut it really isn't.\n\n380\n00:17:11.060 --> 00:17:17.110\nIt's just a wrapper, and underneath it\nthere's like 10 or 11 different commands.\n\n381\n00:17:17.110 --> 00:17:24.260\nIf you're creating an EXT2 partition,\nthen it's actually calling the MKE2FS.\n\n382\n00:17:24.260 --> 00:17:24.790\nIs that it?\n\n383\n00:17:24.790 --> 00:17:25.628\n>> Yeah, .e2.\n\n384\n00:17:25.628 --> 00:17:29.298\nI think it' MKFS.ex2t or ext2.\n\n385\n00:17:29.298 --> 00:17:32.560\n[LAUGH]\n>> It's hard to remember because nobody\n\n386\n00:17:32.560 --> 00:17:33.370\never uses it, right?\n\n387\n00:17:33.370 --> 00:17:34.210\nYou use MKFS.\n\n388\n00:17:34.210 --> 00:17:38.080\nSo just to remember this is one of those\nexamples where it looks like a command,\n\n389\n00:17:38.080 --> 00:17:40.130\nbut it's actually hiding\nthe complexity for\n\n390\n00:17:40.130 --> 00:17:44.720\nmost of these other commands that\nare out there, and you can find them\n\n391\n00:17:44.720 --> 00:17:49.600\nif you poke around in your /user/bin,\nis where I think they all reside.\n\n392\n00:17:50.600 --> 00:17:54.040\nIf we look for some of these,\nwell, actually,\n\n393\n00:17:54.040 --> 00:17:58.177\nthey're not in there,\nthey might be in regular old bin.\n\n394\n00:18:00.303 --> 00:18:01.400\nOr not.\n\n395\n00:18:01.400 --> 00:18:03.500\nI guess I could,\nthey're hiding them very well from you.\n\n396\n00:18:03.500 --> 00:18:05.711\n[LAUGH]\n>> Or they have a different name, but\n\n397\n00:18:05.711 --> 00:18:09.851\nyou'll find them in different places,\nbut they basically are just for\n\n398\n00:18:09.851 --> 00:18:12.001\neach of the different file systems.\n\n399\n00:18:12.001 --> 00:18:15.763\nBecause every file system,\nhere they are, so they were in /Sbin.\n\n400\n00:18:15.763 --> 00:18:18.925\nSo i've got mke2fs for ext2 systems,\n\n401\n00:18:18.925 --> 00:18:24.877\nmks.ext2 those are linked together,\nmks.ext3, ext4, mks.fat for\n\n402\n00:18:24.877 --> 00:18:29.900\nfile allocation table,\neach of these ones that are different.\n\n403\n00:18:29.900 --> 00:18:32.370\nNow, normally you have to say,\noh I want to use that command or\n\n404\n00:18:32.370 --> 00:18:34.390\nthe other command from what file system,\nbut\n\n405\n00:18:34.390 --> 00:18:38.850\nyou can just use mkfs and it wraps up all\nof those, get them all kind of at once.\n\n406\n00:18:38.850 --> 00:18:40.150\nAnd then we can use that format.\n\n407\n00:18:40.150 --> 00:18:41.740\nYou could use these individually.\n\n408\n00:18:41.740 --> 00:18:46.450\nLike, if I wanted to do ext3,\nyou know, that is a command and\n\n409\n00:18:46.450 --> 00:18:48.730\nyou point it to the drive and\nyou format it.\n\n410\n00:18:48.730 --> 00:18:50.730\nSo you've got that one of it.\n\n411\n00:18:50.730 --> 00:18:51.370\nAll right.\n\n412\n00:18:51.370 --> 00:18:54.110\nWell, let's say I want to format one\nof those partitions that I just made.\n\n413\n00:18:54.110 --> 00:18:54.610\nAll right?\n\n414\n00:18:54.610 --> 00:18:59.900\nSo I could do mkfs, and for\nthe type, I could say ext4,\n\n415\n00:18:59.900 --> 00:19:04.680\nand then for the device, I could say\n/dev/db1, that's what I want to format.\n\n416\n00:19:04.680 --> 00:19:11.020\nLet me do a sudo on this one to\nmake sure I'm allowed to format it.\n\n417\n00:19:11.020 --> 00:19:13.740\nAnd we'll run it, and what it just did\n\n418\n00:19:13.740 --> 00:19:18.960\nwas it created an ext4 file\nsystem on that partition.\n\n419\n00:19:18.960 --> 00:19:22.420\nThe partition was blank by default,\nwhich means you can't put any files on it.\n\n420\n00:19:22.420 --> 00:19:23.950\nIt doesn't even have a file system.\n\n421\n00:19:23.950 --> 00:19:25.100\nNow it does.\n\n422\n00:19:25.100 --> 00:19:28.760\nNow I can copy files to it\nif I can get it a thing.\n\n423\n00:19:28.760 --> 00:19:35.040\nSo, I just ran mkfs -t ext4,\nwhich is what told it to run the mk.ext4,\n\n424\n00:19:35.040 --> 00:19:40.480\nor whatever that file was, and\nthen I pointed to a device, /dev/sdb1.\n\n425\n00:19:40.480 --> 00:19:44.690\nI created other drives, right,\nlike SDC1, I'd need to format those too.\n\n426\n00:19:44.690 --> 00:19:47.850\nAnd they don't have to be the same format,\nyou could do different formats for\n\n427\n00:19:47.850 --> 00:19:49.790\ndifferent drives if you need it.\n\n428\n00:19:49.790 --> 00:19:51.460\nIt's whatever format meets your needs.\n\n429\n00:19:51.460 --> 00:19:55.920\nAll right, we created a partition,\n\n430\n00:19:55.920 --> 00:20:00.460\nwe formatted it, now I need to be\nable to get at this data, right.\n\n431\n00:20:00.460 --> 00:20:02.080\nHow do I get to these drives?\n\n432\n00:20:02.080 --> 00:20:04.560\nWell to get to them,\nwe're going to mount them.\n\n433\n00:20:04.560 --> 00:20:08.590\nAnd you can mount them any number of\nplaces, but normally you'll see a lot of\n\n434\n00:20:08.590 --> 00:20:11.740\npeople kind of create a mount\nfolder to mount things to.\n\n435\n00:20:11.740 --> 00:20:14.210\nSo I might have a /mnt folder,\n\n436\n00:20:14.210 --> 00:20:19.860\nwhich you'll see is created by default in\nCentOS, and I can mount stuff in here.\n\n437\n00:20:19.860 --> 00:20:22.630\nThe reason it's created by default is that\n\n438\n00:20:22.630 --> 00:20:24.950\nCentOS will actually mount your\nCD drive in here by default.\n\n439\n00:20:24.950 --> 00:20:27.226\nSo you'll have like /mnt/cdrom.\n\n440\n00:20:27.226 --> 00:20:29.930\nRight?\nI dont' have a CD-Rom in my drive right\n\n441\n00:20:29.930 --> 00:20:30.980\nnow, so it's not showing up.\n\n442\n00:20:30.980 --> 00:20:34.730\nBut if I were to, you know,\nlet me pop like a virtual disk in there.\n\n443\n00:20:34.730 --> 00:20:36.967\nSo if I find my CD drive.\n\n444\n00:20:40.043 --> 00:20:42.423\nLet's see if I can find an ISO real\nquick and stick it in there, and\n\n445\n00:20:42.423 --> 00:20:44.300\nyou'll see it automatically mount it.\n\n446\n00:20:44.300 --> 00:20:46.290\n>> Use Windows to really make it angry.\n\n447\n00:20:46.290 --> 00:20:46.815\n>> There we go.\n>> [LAUGH]\n\n448\n00:20:46.815 --> 00:20:47.465\n>> Lots of fun with that.\n\n449\n00:20:47.465 --> 00:20:49.310\nYeah, we'll mount a Windows disk in here.\n\n450\n00:20:49.310 --> 00:20:52.535\nSo it's going to mount it, and\ncentOS will auto mount CDs, so\n\n451\n00:20:52.535 --> 00:20:56.442\nit's going to find that CD, it's going\nto see the file system as CDfs, and\n\n452\n00:20:56.442 --> 00:21:00.140\nit's going to automatically mount\nit right here in this folder.\n\n453\n00:21:00.140 --> 00:21:02.230\nAll right?\nNow, how do I know if that's actually\n\n454\n00:21:02.230 --> 00:21:03.460\nhappening or not.\n\n455\n00:21:03.460 --> 00:21:07.200\nWell there's a few things that we need\nto look at here to see what's going on.\n\n456\n00:21:07.200 --> 00:21:10.520\nBasically, I can wait, and\neventually it should show up.\n\n457\n00:21:10.520 --> 00:21:12.520\nIt might've mounted it\nsomewhere else though.\n\n458\n00:21:12.520 --> 00:21:14.020\nIf you want to see what\ndrives are mounted,\n\n459\n00:21:14.020 --> 00:21:16.710\nyou can just just type the mount command,\nand it will tell you.\n\n460\n00:21:16.710 --> 00:21:18.860\nAnd, goodness,\nI have a few things here don't I?\n\n461\n00:21:18.860 --> 00:21:22.470\nWhen I run mount,\nI've got a lot of stuff here in this list.\n\n462\n00:21:22.470 --> 00:21:24.650\nCentral OS has apparently\npartitioned out a lot of stuff.\n\n463\n00:21:24.650 --> 00:21:28.230\nBut you can kind of look down the line and\nI see my prock folder,\n\n464\n00:21:28.230 --> 00:21:31.020\nmy SysFS, my security FS,\nthese other things.\n\n465\n00:21:31.020 --> 00:21:34.510\nA lot of these are virtual\nfile systems that CentOS uses.\n\n466\n00:21:34.510 --> 00:21:37.250\nAnd if I keep scrolling down I'll find\nones that are a little more real.\n\n467\n00:21:40.340 --> 00:21:44.735\nYeah like here,\n/dev/sda3 is mounted on slash.\n\n468\n00:21:44.735 --> 00:21:45.845\nThat's my root folder, right?\n\n469\n00:21:45.845 --> 00:21:47.915\nSlash, that's the root of my drive, and\n\n470\n00:21:47.915 --> 00:21:51.835\nthen other folders underneath it\nare mounted into different locations.\n\n471\n00:21:51.835 --> 00:21:55.365\nNow, the CD, I said it would auto-mount it\nbut it doesn't appear to have done that.\n\n472\n00:21:56.920 --> 00:22:00.510\nSo if it's not going to auto mount it for\nme, then I'll need to mount it myself.\n\n473\n00:22:00.510 --> 00:22:02.630\nAnd it's not hard, right,\nto mount something.\n\n474\n00:22:02.630 --> 00:22:04.300\nJust use the mount command.\n\n475\n00:22:04.300 --> 00:22:08.720\nAnd with the mount command you can\ntell it what file system it has, but\n\n476\n00:22:08.720 --> 00:22:12.090\nmost Linux distros have gotten\nreally good at auto detecting it.\n\n477\n00:22:12.090 --> 00:22:14.880\nSo if I take a look at my mount help,\n\n478\n00:22:14.880 --> 00:22:17.480\nyou'll see one of the things you\ncan specify is dash t for the type.\n\n479\n00:22:17.480 --> 00:22:19.950\nAnd that's where you tell\nit the file system type.\n\n480\n00:22:19.950 --> 00:22:23.200\nSo I would tell it dash t CDFS, or\n\n481\n00:22:23.200 --> 00:22:26.810\nreally I think it's Iso\n9660 is the format for me.\n\n482\n00:22:27.860 --> 00:22:32.490\nYou might say type EXT4, so\nit knows that it's a EXT4 system.\n\n483\n00:22:32.490 --> 00:22:36.008\nbut most of our modern distros will\nauto detect that pretty easily.\n\n484\n00:22:36.008 --> 00:22:40.291\nSo, what I'm going to do is I'm going to\nmake a directory in here called cdrom.\n\n485\n00:22:40.291 --> 00:22:42.636\nI'm going to sudo that.\n\n486\n00:22:42.636 --> 00:22:50.824\nThen, I'm just going to say\nmount/dev/cdrom to /mnt/cdrom.\n\n487\n00:22:50.824 --> 00:22:53.400\n/dev/cdrom is talking about the hardware.\n\n488\n00:22:53.400 --> 00:22:57.468\n/mount/cdrom, that's a path,\nthat's a folder on my hard drive.\n\n489\n00:22:57.468 --> 00:23:02.110\nAnd [LAUGH] I will remember to\nsudo this stuff sooner or later.\n\n490\n00:23:02.110 --> 00:23:07.070\nThere we go, so it tried to mount it,\nand it's telling me, no media found.\n\n491\n00:23:07.070 --> 00:23:08.620\nDid I not connect that disk?\n\n492\n00:23:08.620 --> 00:23:10.346\nI thought I did.\n\n493\n00:23:11.891 --> 00:23:16.060\nNo, that would be why it didn't auto-mount\nright there, there's our mystery.\n\n494\n00:23:16.060 --> 00:23:18.640\nSo In VMWare,\nyou have to tell it to connect.\n\n495\n00:23:18.640 --> 00:23:19.460\nThere we go, yep.\n\n496\n00:23:19.460 --> 00:23:22.330\nSee, now it's showing up and\nit's got that file and\n\n497\n00:23:22.330 --> 00:23:26.280\nif I pull up my directory here and\nchange into cdrom.\n\n498\n00:23:26.280 --> 00:23:27.750\nOh, it didn't mount it there,\nI wonder where it mounted to.\n\n499\n00:23:27.750 --> 00:23:29.810\nLet's see where it sent it.\n\n500\n00:23:29.810 --> 00:23:31.730\nSo, I'm just going to run the mount\ncommand and look in here for\n\n501\n00:23:31.730 --> 00:23:33.520\nwhere that turkey ended up.\n\n502\n00:23:33.520 --> 00:23:38.310\nAnd as I looked down my lines\nhere I can find, /dev/sr0 mounted\n\n503\n00:23:38.310 --> 00:23:43.151\nto /run/media/dpezet/blahblahblah.\n\n504\n00:23:43.151 --> 00:23:46.530\nBoy that's a convenient\nlocation to mount to, isn't it?\n\n505\n00:23:46.530 --> 00:23:48.585\n>> I'd remember that file\nname any day of the week.\n\n506\n00:23:48.585 --> 00:23:50.360\n>> [LAUGH]\n>> But you know, it's automatic I guess so\n\n507\n00:23:50.360 --> 00:23:52.970\nI don't have to worry about it but\nyeah so it mounted it.\n\n508\n00:23:52.970 --> 00:23:54.880\nThe hard drives we made.\n\n509\n00:23:54.880 --> 00:23:56.300\nDidn't get mounted though.\n\n510\n00:23:56.300 --> 00:23:56.850\nRight?\n\n511\n00:23:56.850 --> 00:23:58.687\nSo maybe I want to mount those.\n\n512\n00:23:58.687 --> 00:24:01.958\nSo what I can do is I can make\nsome directories to mount to.\n\n513\n00:24:01.958 --> 00:24:05.941\nSo I'll say storage1, And storage2.\n\n514\n00:24:05.941 --> 00:24:11.088\nSo now, I have these directories and\n\n515\n00:24:11.088 --> 00:24:18.066\nI can say mount /dev/sdb1 /mnt/storage1.\n\n516\n00:24:18.066 --> 00:24:21.750\nAnd so it's gonna mount to that one and\nthen I'll do the same thing for sdc1.\n\n517\n00:24:23.730 --> 00:24:25.750\nI'll mount that to storage2.\n\n518\n00:24:25.750 --> 00:24:28.930\nSo now, I've mounted those\ndrives to these locations.\n\n519\n00:24:28.930 --> 00:24:31.152\nOnce they're there, I can start\nputting files in there, folders.\n\n520\n00:24:31.152 --> 00:24:34.060\nI can start working with them because\nnow they're available, they're online.\n\n521\n00:24:34.060 --> 00:24:35.560\nI can access them.\n\n522\n00:24:35.560 --> 00:24:39.030\nSo right here in my tables I can switch to\n\n523\n00:24:40.060 --> 00:24:43.130\nswitch to one of those\nfolders like storage1.\n\n524\n00:24:43.130 --> 00:24:48.414\nAnd I can create some files\nlike file1.txt or whatever.\n\n525\n00:24:48.414 --> 00:24:51.989\nIt's owned by root since I mounted\nit as root so it's owned by root so\n\n526\n00:24:51.989 --> 00:24:54.350\nI got to do that or\nchange the permissions.\n\n527\n00:24:54.350 --> 00:24:56.880\nWe'll have a whole permissions\nepisode down the road.\n\n528\n00:24:56.880 --> 00:24:58.920\nBut I can start creating those files.\n\n529\n00:24:58.920 --> 00:25:02.420\nI can create however many files or\nI can make directories.\n\n530\n00:25:04.590 --> 00:25:07.540\nI'm able to work with this because\nit's just a regular drive now.\n\n531\n00:25:07.540 --> 00:25:10.250\nIt's a drive, it's in place,\npeople can browse in and access it.\n\n532\n00:25:11.770 --> 00:25:16.700\nIn CentOS, there's another security layer\ncalled SELinux and I'll have to allow\n\n533\n00:25:16.700 --> 00:25:20.040\nsoftware to access it through SELinux\nother distros don't have that though.\n\n534\n00:25:20.040 --> 00:25:22.240\nSo you should be able to\nuse the drive right away,\n\n535\n00:25:22.240 --> 00:25:24.850\nassuming you set the permissions\non that drive right.\n\n536\n00:25:24.850 --> 00:25:26.670\nOnce that's in place, it's mounted.\n\n537\n00:25:26.670 --> 00:25:28.046\nI can see it in my mount output.\n\n538\n00:25:28.046 --> 00:25:31.210\nI can also see the last two lines there.\n\n539\n00:25:31.210 --> 00:25:36.679\nI can also see if it I do df -h,\nwhich is showing my drive utilization.\n\n540\n00:25:37.950 --> 00:25:42.040\nDf shows my disk fuelsization\n-h makes it human readable.\n\n541\n00:25:42.040 --> 00:25:46.000\nIf you don't do the -h it tells you all\nthis stuff in like sector sizes and\n\n542\n00:25:46.000 --> 00:25:47.300\nblocks and all that.\n\n543\n00:25:47.300 --> 00:25:51.250\nYou do -h and you get nice amounts\nof stuff that you can manage.\n\n544\n00:25:51.250 --> 00:25:54.530\nSo I can see stb1 is 20 gigs in size.\n\n545\n00:25:54.530 --> 00:25:58.765\nI'm currently using a whopping 45 megs,\nwhich is mostly just the file system.\n\n546\n00:25:58.765 --> 00:26:03.920\nAnd then sdc1 is 36 gigs, and I can see\nwhere it's mounted and it's available.\n\n547\n00:26:05.500 --> 00:26:08.370\nMy only problem here is if I reboot.\n\n548\n00:26:08.370 --> 00:26:10.060\nIf I reboot, these all unmount.\n\n549\n00:26:11.200 --> 00:26:13.860\nWhen you use the mount command, it's just\nmounting them in real time and that's it.\n\n550\n00:26:13.860 --> 00:26:17.490\nIf you want these to be available time and\ntime again if you reboot.\n\n551\n00:26:17.490 --> 00:26:19.330\nYou've got to put it inside\nyour file system table.\n\n552\n00:26:20.350 --> 00:26:25.560\nInside of /etc,\nyou've got a file called fstab or fstab.\n\n553\n00:26:25.560 --> 00:26:27.260\nThat's the file system table.\n\n554\n00:26:27.260 --> 00:26:29.505\nAnd it shows what it's\ngonna mount at boot time.\n\n555\n00:26:29.505 --> 00:26:31.786\nNow, when you look in there,\n\n556\n00:26:31.786 --> 00:26:36.636\n[COUGH] you can see where mine is\nmounting / and /boot and swap.\n\n557\n00:26:36.636 --> 00:26:38.613\nAnd if mounting goes to boot time,\n\n558\n00:26:38.613 --> 00:26:41.553\nit doesn't know to mount\nmy drives that I created.\n\n559\n00:26:41.553 --> 00:26:44.952\nAnd so I need to add them to this list to\nsay hey, when you boot up, go ahead and\n\n560\n00:26:44.952 --> 00:26:46.350\nmount these other turkeys up.\n\n561\n00:26:46.350 --> 00:26:50.254\nMount up /dev, /sda1 or\nsbc1, /dev /sdc2 and\n\n562\n00:26:50.254 --> 00:26:55.805\nwhere it's gonna mount to and then when\nI reboot, it'll come up each time,\n\n563\n00:26:55.805 --> 00:26:59.483\nand do we cover that in another episode,\nDaniel?\n\n564\n00:26:59.483 --> 00:27:00.893\n>> I don't know.\n\n565\n00:27:00.893 --> 00:27:01.633\n>> Yeah, we do.\n\n566\n00:27:01.633 --> 00:27:03.972\nWe're gonna cover that, and\nI know we're a little short on time.\n\n567\n00:27:03.972 --> 00:27:07.450\nI wanna go a little more into this\nbecause there are some file system\n\n568\n00:27:07.450 --> 00:27:08.950\ntuning options we can do.\n\n569\n00:27:08.950 --> 00:27:12.270\nNotice when you mount these, see this\nblock here where it says defaults?\n\n570\n00:27:12.270 --> 00:27:15.170\nIt's actually a lot of stuff that you can\nstick there that kind of changes things\n\n571\n00:27:15.170 --> 00:27:17.070\nand I wanna make sure we\ncover that in depth so\n\n572\n00:27:17.070 --> 00:27:18.340\nyou guys get the best information.\n\n573\n00:27:18.340 --> 00:27:21.610\nSo for right now, I think I'm gonna\nto leave it with this, just kind of\n\n574\n00:27:21.610 --> 00:27:24.420\ncursory and if you're watching the show\nand you're saying Don, you're kind of\n\n575\n00:27:24.420 --> 00:27:27.980\nleaving out something important, we'll get\nto it in the file system tuning episode.\n\n576\n00:27:27.980 --> 00:27:31.970\nBut the basics of mounting are you\ncan use the mount command,\n\n577\n00:27:31.970 --> 00:27:34.690\nyou bring it online,\nnow you can use the disk.\n\n578\n00:27:34.690 --> 00:27:38.110\nIf you want it to be there after a reboot\nadd it to the file system table,\n\n579\n00:27:38.110 --> 00:27:41.275\nadd it to fstab, and\nthen it'll be right here as another entry.\n\n580\n00:27:41.275 --> 00:27:43.072\nAnd now when you reboot,\nit'll be available.\n\n581\n00:27:43.072 --> 00:27:44.767\nAnd if you want to see that in action,\n\n582\n00:27:44.767 --> 00:27:47.185\nbe sure to check out our\nfile system tuning episode.\n\n583\n00:27:47.185 --> 00:27:48.855\nWe're gonna have it right in there, and\n\n584\n00:27:48.855 --> 00:27:50.515\nyou'll get a chance to\nsee how that's done.\n\n585\n00:27:50.515 --> 00:27:53.305\nSo I think that episode will actually\nbe called file system health.\n\n586\n00:27:53.305 --> 00:27:54.450\nSo look for that one.\n\n587\n00:27:54.450 --> 00:27:56.185\nAnd that's where we'll put all\nof those entries in there.\n\n588\n00:27:56.185 --> 00:27:58.820\n>> Very cool.\n\n589\n00:27:58.820 --> 00:28:01.230\nNow, Don,\nare we at the end of this here Gizmo?\n\n590\n00:28:01.230 --> 00:28:02.918\n>> Yeah.\nI do wanna just mention something\n\n591\n00:28:02.918 --> 00:28:05.366\nthat I mentioned at the very\nbeginning of the show is everything\n\n592\n00:28:05.366 --> 00:28:07.739\nthat we just did right there,\nthat's basic partitioning.\n\n593\n00:28:07.739 --> 00:28:11.540\nWe partitioned the drive,\nwe formatted a drive, we mounted a drive.\n\n594\n00:28:11.540 --> 00:28:15.130\nIt got us up quick and dirty,\nno advanced functionality.\n\n595\n00:28:15.130 --> 00:28:17.890\nWe're gonna do another episode about\nLogical Volume Managers, LVM, and\n\n596\n00:28:17.890 --> 00:28:21.590\nthat has a lot more power but\nit does things a lot differently.\n\n597\n00:28:21.590 --> 00:28:24.570\nBut be sure to check that episode out too,\nand then stay tuned for\n\n598\n00:28:24.570 --> 00:28:27.180\nthat file system help where we'll\nshow advanced mounting options.\n\n599\n00:28:27.180 --> 00:28:29.970\nSo really you wanna catch\nall three of those episodes\n\n600\n00:28:29.970 --> 00:28:33.030\nbefore you start making judgements on\nhow you wanna mount and format drives.\n\n601\n00:28:33.030 --> 00:28:34.810\n>> Awesome, very good stuff,\nvery cool stuff.\n\n602\n00:28:34.810 --> 00:28:38.008\nHopefully you guys enjoyed this episode.\n\n603\n00:28:38.008 --> 00:28:38.910\nIt informed me a lot actually.\n\n604\n00:28:38.910 --> 00:28:41.000\n>> [LAUGH]\n>> I knew a lot of the basics\n\n605\n00:28:41.000 --> 00:28:43.320\nof this stuff but\nto see it in action over and\n\n606\n00:28:43.320 --> 00:28:45.680\nover again with the different types\nof stuff, really solidifies it.\n\n607\n00:28:45.680 --> 00:28:49.770\nSo make sure you watch this a few times\nand get that really concrete in your mind.\n\n608\n00:28:49.770 --> 00:28:53.514\nThat being said, we've wrapped up\nanother great episode for ITProTV.\n\n609\n00:28:53.514 --> 00:28:55.430\nI've been your host Daniel Lawry.\n\n610\n00:28:55.430 --> 00:28:56.108\n>> And I'm Don Pezet.\n\n611\n00:28:56.108 --> 00:28:57.307\n>> And we'll see you next time.\n\n612\n00:28:57.307 --> 00:29:03.330\n[SOUND]\n\n",
          "vimeoId": "130988906"
        },
        {
          "description": "Errata: At the end of the episode, Don mentioned installing the LVM during an install allowed all partitions to participate in LVM. He specifically mentioned the \"boot volume\" when he should have said \"root volume\". For the system to boot, the EFI partition and /boot cannot be a part of LVM as the service is not loaded until after the kernel fires.",
          "length": "1447",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-3-lvm-061615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-3-lvm-061615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-3-lvm-061615-1-sm.jpg",
          "title": "Logical Volume Manager",
          "transcript": "WEBVTT\n\n1\n00:00:00.025 --> 00:00:10.620\n[MUSIC]\n\n2\n00:00:10.620 --> 00:00:15.619\nAll right everyone, greetings and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.619 --> 00:00:19.370\nI'm your Host Daniel Lowry and\nhere with me today is Don Pezet, right.\n\n4\n00:00:19.370 --> 00:00:20.420\nDon, how are you doing today?\n\n5\n00:00:20.420 --> 00:00:23.100\n>> I'm doing great and, Daniel,\nare you ready to have some fun today?\n\n6\n00:00:23.100 --> 00:00:23.748\n>> Oh you know it.\n\n7\n00:00:23.748 --> 00:00:27.047\n>> [LAUGH] In our last episode if\nyou're watching these in order,\n\n8\n00:00:27.047 --> 00:00:31.890\nwe took a look at partitioning and getting\nhard drives ready to use inside of Linux.\n\n9\n00:00:31.890 --> 00:00:33.540\nAnd we did it all the old school way.\n\n10\n00:00:33.540 --> 00:00:35.490\nWell today we're kicking it new school,\nright?\n\n11\n00:00:35.490 --> 00:00:37.930\nWe're gonna dive into the logical\nvolume manager, the LVM.\n\n12\n00:00:37.930 --> 00:00:40.760\nAnd the LVM let's you do all sorts of\n\n13\n00:00:40.760 --> 00:00:44.120\ncrazy stuff that you couldn't do\nin traditional hard drive models.\n\n14\n00:00:45.670 --> 00:00:49.250\nFor example, with LVM,\nwe can take a partition and\n\n15\n00:00:49.250 --> 00:00:52.040\nhave it stretch across\nmore than one hard drive.\n\n16\n00:00:52.040 --> 00:00:56.190\nSo, like if I had two 4 terabyte drives,\nI could span a partition across them, and\n\n17\n00:00:56.190 --> 00:00:59.160\nhave one 8 terabyte partition, right?\n\n18\n00:00:59.160 --> 00:01:00.460\nSometimes we want that.\n\n19\n00:01:00.460 --> 00:01:03.820\nLVM also allows us to quickly and easily\nresize partitions, make them bigger,\n\n20\n00:01:03.820 --> 00:01:04.940\nmake them smaller.\n\n21\n00:01:04.940 --> 00:01:08.910\nYou can do all sorts of\nreally cool stuff with LVM.\n\n22\n00:01:08.910 --> 00:01:09.950\nAnd it's a neat technology.\n\n23\n00:01:09.950 --> 00:01:13.970\nThere are some distributions out\nthere like Red Hat where when you do\n\n24\n00:01:13.970 --> 00:01:17.540\nthe install, it actually offers to\ngive you LVM from the very beginning.\n\n25\n00:01:17.540 --> 00:01:21.470\nAnd so your system may already be set\nup with LVM, or you may not, right?\n\n26\n00:01:21.470 --> 00:01:25.565\nYou may have a system like mine is right\nnow where I'm not using LVM at all, and\n\n27\n00:01:25.565 --> 00:01:28.530\nI've just got regular partitions and\ndrives.\n\n28\n00:01:28.530 --> 00:01:29.350\nSo if that's the case,\n\n29\n00:01:29.350 --> 00:01:32.710\nyou might want to enable it to gain access\nto some of these advanced features.\n\n30\n00:01:32.710 --> 00:01:33.874\nAnd it is some really cool stuff.\n\n31\n00:01:33.874 --> 00:01:37.590\nSo let's take a look at LVM and kind\nof see how it makes our life different.\n\n32\n00:01:37.590 --> 00:01:41.416\n>> Sorry, let's move from the witchcraft\nof the older stuff into the more\n\n33\n00:01:41.416 --> 00:01:42.901\nscientific method of LVM.\n\n34\n00:01:42.901 --> 00:01:45.635\n[LAUGH]\n>> All right, well one of the things that\n\n35\n00:01:45.635 --> 00:01:49.960\nwe have to remember about the LVM, right,\nis that it's the logical volume manager.\n\n36\n00:01:49.960 --> 00:01:53.170\nSo it's gonna take our physical disks,\nand our physical partitions, and\n\n37\n00:01:53.170 --> 00:01:54.830\nit's gonna represent them logically.\n\n38\n00:01:54.830 --> 00:01:56.540\nThat's what lets it break the rules.\n\n39\n00:01:56.540 --> 00:01:59.730\nBut it also means it's gonna\ncreate a lot of logical devices.\n\n40\n00:01:59.730 --> 00:02:04.570\nWhen we look in /dev, right, I'll take my\nsystem here, and I'm gonna go into /dev.\n\n41\n00:02:04.570 --> 00:02:05.530\nAnd I pull up a directory.\n\n42\n00:02:05.530 --> 00:02:08.990\nWhen I look in here,\nI'm gonna see things like sda for\n\n43\n00:02:08.990 --> 00:02:13.180\nmy first hard drive, sdb for my second\nhard drive, sdc for my third one.\n\n44\n00:02:13.180 --> 00:02:16.160\nThose are representing\nthe physical drives, right?\n\n45\n00:02:16.160 --> 00:02:19.077\nMy logical volumes,\nthey're not gonna show up in here.\n\n46\n00:02:19.077 --> 00:02:22.365\nThey're actually gonna show up in separate\nfolders that are gonna be created\n\n47\n00:02:22.365 --> 00:02:24.890\nunderneath it for\nwhat are called volume groups.\n\n48\n00:02:24.890 --> 00:02:27.410\nWhen we start to create these drives,\nwe group them together so\n\n49\n00:02:27.410 --> 00:02:29.340\nthat we can span across them if we want.\n\n50\n00:02:29.340 --> 00:02:32.720\nAnd then inside of them you have your\nlogical volumes that you actually make.\n\n51\n00:02:32.720 --> 00:02:36.480\nSo, if you're running LVM, you'll start to\nsee various sub folders and things that\n\n52\n00:02:36.480 --> 00:02:39.390\nwill show up in here to represent these\nvirtual drives that we're creating.\n\n53\n00:02:40.450 --> 00:02:45.323\nIf I do just a quick fdisk -l, I can see\nthe drives that I've got, sda1, 2, and 3.\n\n54\n00:02:45.323 --> 00:02:48.218\nAnd I can see that, well those are,\nI'm sorry, those are sda1,\n\n55\n00:02:48.218 --> 00:02:50.110\n2, 3, those are my partitions.\n\n56\n00:02:50.110 --> 00:02:53.820\nI've also got sdb and\nsdc which didn't show up.\n\n57\n00:02:53.820 --> 00:02:55.290\nThere we go, they're kinda out of order.\n\n58\n00:02:55.290 --> 00:02:57.512\nThere's sdb, and where is sdc?\n\n59\n00:02:57.512 --> 00:02:58.790\nOh, he's down here at the bottom.\n\n60\n00:02:58.790 --> 00:03:01.900\nSo I've got two extra 68,\nit's actually 64 gig drives,\n\n61\n00:03:01.900 --> 00:03:03.840\nI don't know why they're showing as 68.\n\n62\n00:03:03.840 --> 00:03:07.330\nThat whole bit versus byte measurement\nthing that they do with hard drives.\n\n63\n00:03:07.330 --> 00:03:10.750\nBut they're showing up there, they're\njust not really in use yet, all right.\n\n64\n00:03:10.750 --> 00:03:14.820\nWhat I wanna do is I wanna bring those\ntwo drives into my environment, and\n\n65\n00:03:14.820 --> 00:03:17.580\nI wanna bring them in using the LVM,\nall right.\n\n66\n00:03:17.580 --> 00:03:19.810\nStep one, I want to make sure\nI have the LVM installed.\n\n67\n00:03:19.810 --> 00:03:22.950\nIf you're running CentOS or Red Hat,\nyou likely have it already.\n\n68\n00:03:22.950 --> 00:03:24.530\nIf you're not, you can always install it.\n\n69\n00:03:24.530 --> 00:03:26.560\nThere's usually a package available for\nit.\n\n70\n00:03:26.560 --> 00:03:31.850\nSo you can just do\na quick yum install lvm2.\n\n71\n00:03:31.850 --> 00:03:34.080\nAnd it'll install it if\nyou don't already have it.\n\n72\n00:03:34.080 --> 00:03:35.808\nSo for me,\nit's telling me I've already got it.\n\n73\n00:03:35.808 --> 00:03:37.990\nAnd I'm already at the latest version,\nnothing to do.\n\n74\n00:03:37.990 --> 00:03:39.780\nAll right, but\nyou might need to install it.\n\n75\n00:03:39.780 --> 00:03:40.470\nIt's as easy as that.\n\n76\n00:03:41.780 --> 00:03:45.670\nOnce it's installed,\nI need to import my physical disks.\n\n77\n00:03:45.670 --> 00:03:50.100\nI have to tell the system which physical\ndisks are gonna be part of LVM.\n\n78\n00:03:50.100 --> 00:03:52.140\nCuz by default,\nnone of my disks are a part of LVM,\n\n79\n00:03:52.140 --> 00:03:53.740\nthey're just traditional disks.\n\n80\n00:03:53.740 --> 00:03:55.260\nI need to import them in.\n\n81\n00:03:55.260 --> 00:03:58.968\nSo I'm gonna do that by creating\nwhat are called physical volumes.\n\n82\n00:03:58.968 --> 00:04:02.764\nAnd the LVM physical volumes\nmap to the disks, and so\n\n83\n00:04:02.764 --> 00:04:05.101\nwe'll use pvcreate to do that.\n\n84\n00:04:05.101 --> 00:04:07.189\npvcreate is gonna create\na physical volume.\n\n85\n00:04:07.189 --> 00:04:09.200\nIt's creating something physical,\n\n86\n00:04:09.200 --> 00:04:13.120\nit's really just mapping\nsomething physical to a LVM drive.\n\n87\n00:04:13.120 --> 00:04:14.300\nSo I'll say pvcreate, and\n\n88\n00:04:14.300 --> 00:04:17.000\nthen I'll specify all the drives\nthat I want to import.\n\n89\n00:04:17.000 --> 00:04:22.740\nYou can do them one at a time, or you can\ndo it at once, just listing each one.\n\n90\n00:04:22.740 --> 00:04:26.700\nSo I'm gonna import sdb and\nsdc, these new drives.\n\n91\n00:04:26.700 --> 00:04:28.710\nI'm gonna bring them in to LVM.\n\n92\n00:04:29.970 --> 00:04:33.130\nSo now the system knows that I wanna\nuse those two physical drives as\n\n93\n00:04:33.130 --> 00:04:34.820\npart of the logical volume manager.\n\n94\n00:04:36.020 --> 00:04:37.481\nAll right, and\nit's just kind of listing them here.\n\n95\n00:04:37.481 --> 00:04:40.340\nAnd it's got physical volume,\nsuccessfully created.\n\n96\n00:04:40.340 --> 00:04:41.600\nWhat did it create?\n\n97\n00:04:41.600 --> 00:04:45.460\nWell, if you look in /dev and\nyou kind of look through here,\n\n98\n00:04:45.460 --> 00:04:48.030\nit doesn't really look\nlike it created much.\n\n99\n00:04:48.030 --> 00:04:50.090\nWell, that's cuz we haven't\nactually partitioned them yet.\n\n100\n00:04:50.090 --> 00:04:53.865\nBut we will see some things light\nup in here not too long from now.\n\n101\n00:04:53.865 --> 00:04:56.930\nAnd we'll start to see a lot\nof things show up in here.\n\n102\n00:04:56.930 --> 00:05:01.599\nIt's just a part of that creation process,\nall right.\n\n103\n00:05:01.599 --> 00:05:03.549\nSo now that we got the physical drives in,\n\n104\n00:05:03.549 --> 00:05:07.200\nwe need to think of it like we\nwould've our old files systems, right?\n\n105\n00:05:07.200 --> 00:05:12.108\nTo use a drive in the old file system,\nyou had to create a partition,\n\n106\n00:05:12.108 --> 00:05:14.016\nformat it, and mount it.\n\n107\n00:05:14.016 --> 00:05:18.850\nWell, with LVM we've created\na physical volume, right?\n\n108\n00:05:18.850 --> 00:05:21.590\nNow we need to create what's\ncalled a volume group, and\n\n109\n00:05:21.590 --> 00:05:24.000\nthen we can create logical\nvolumes inside of that.\n\n110\n00:05:24.000 --> 00:05:26.890\nThe logical volumes are basically\nlike our partitions from before,\n\n111\n00:05:26.890 --> 00:05:28.930\nthey're just now called volumes.\n\n112\n00:05:28.930 --> 00:05:31.460\nBut the volume group has\nto be created first.\n\n113\n00:05:31.460 --> 00:05:34.710\nAnd I had pvcreate to\ndo the physical ones.\n\n114\n00:05:34.710 --> 00:05:37.068\nFor the volume group,\nit's vgcreate, right?\n\n115\n00:05:37.068 --> 00:05:41.600\nSo vgcreate is what's going to\ncreate that volume group for me, and\n\n116\n00:05:41.600 --> 00:05:43.970\nbasically we just specify what\nwe're going to name this group, and\n\n117\n00:05:43.970 --> 00:05:45.970\nwhat drives we want to be a part of it.\n\n118\n00:05:45.970 --> 00:05:49.500\nSo I'm gonna come in here and\nsay vgcreate,\n\n119\n00:05:49.500 --> 00:05:54.115\nand I'm going to give it a name,\nsomething creative, like vg1, right?\n\n120\n00:05:54.115 --> 00:05:55.785\nSo, volume group 1,\nyou can call it whatever.\n\n121\n00:05:55.785 --> 00:05:58.494\nYou can call it Bob, and\nyou'll create VG group Bob.\n\n122\n00:05:58.494 --> 00:06:01.354\nIf this is going to be storing all\nof your sales data or marketing,\n\n123\n00:06:01.354 --> 00:06:03.338\nyou might want to call\nthe volume group that.\n\n124\n00:06:03.338 --> 00:06:05.068\nYour end users are never gonna see this.\n\n125\n00:06:05.068 --> 00:06:08.827\nBut, for your own reference,\nknow what that volume group is.\n\n126\n00:06:08.827 --> 00:06:10.699\nI'll just call mine vg1, and\n\n127\n00:06:10.699 --> 00:06:15.447\nthen I need to tell it the drives that\nare going to be in that volume group.\n\n128\n00:06:15.447 --> 00:06:19.258\nWell, for\nme I haven't partitioned my drives yet, so\n\n129\n00:06:19.258 --> 00:06:22.298\nit's doing to be a little angry\nwith me if I try and add them in.\n\n130\n00:06:22.298 --> 00:06:26.398\nIf we look at the syntax for creating\nthe volume group, right, it's asking for\n\n131\n00:06:26.398 --> 00:06:28.508\na few basic things here in the list.\n\n132\n00:06:28.508 --> 00:06:30.504\nIt's asking for a volume group name and\n\n133\n00:06:30.504 --> 00:06:33.419\nthen the PhysicalDevicePaths\nthat are going to be in it.\n\n134\n00:06:33.419 --> 00:06:36.473\nSo I could say /dev/sdb and\n\n135\n00:06:36.473 --> 00:06:42.610\n/dev/sdc to put those in,\nand oh good, it was happy.\n\n136\n00:06:42.610 --> 00:06:46.531\nI wasn't sure if it was going to gripe at\nme for having not partitioned them yet.\n\n137\n00:06:46.531 --> 00:06:50.470\nBut that makes sense because I need\nto create my logical volumes anyway.\n\n138\n00:06:50.470 --> 00:06:56.350\nSo now, I've got a volume group called\nvg1, and sdb and sdc are a part of that.\n\n139\n00:06:56.350 --> 00:07:00.080\nOkay, so my first two\nrequirements are kind of done.\n\n140\n00:07:00.080 --> 00:07:03.600\nI've mapped the physical disks so that it\nknew I was going to use them here, and\n\n141\n00:07:03.600 --> 00:07:05.550\nI've created the volume group.\n\n142\n00:07:05.550 --> 00:07:10.185\nNow if I want to verify my work,\nI can do pvdisplay.\n\n143\n00:07:11.630 --> 00:07:13.597\nThat'll show the physical\nvolumes that I've mounted.\n\n144\n00:07:13.597 --> 00:07:19.105\nSo there's sdb and sdc, and see how it\nshows me the volume groups they're in.\n\n145\n00:07:19.105 --> 00:07:22.075\nSo I know these physical\nvolumes are part of the LVM,\n\n146\n00:07:22.075 --> 00:07:24.415\nand I know they're already\nin that volume group.\n\n147\n00:07:24.415 --> 00:07:29.605\nI could also do vgdisplay, and\nthat'll show me the volume group.\n\n148\n00:07:29.605 --> 00:07:32.753\nAnd I can see it's using LVM version 2,\nright?\n\n149\n00:07:32.753 --> 00:07:35.250\nAnd then I can see other information\nabout it like what size it is.\n\n150\n00:07:35.250 --> 00:07:38.645\nNow notice that size, 127.99 gigs.\n\n151\n00:07:39.940 --> 00:07:41.630\nWhere'd it get that number from?\n\n152\n00:07:41.630 --> 00:07:44.650\nI gave it two 64 gig drives.\n\n153\n00:07:44.650 --> 00:07:48.336\nSo the volume group is\nnow 127 gigs in size.\n\n154\n00:07:48.336 --> 00:07:52.050\nAnd as I add more drives to it, the volume\ngroup gets bigger and bigger and bigger.\n\n155\n00:07:52.050 --> 00:07:54.830\nThe volume group is effectively\nspanning those drives.\n\n156\n00:07:54.830 --> 00:07:57.072\nAnd I can now slice it up however I want.\n\n157\n00:07:57.072 --> 00:08:00.540\nSo that's really the power\nof the volume group.\n\n158\n00:08:00.540 --> 00:08:02.572\nYou do still have to be careful\nabout drive redundancy.\n\n159\n00:08:02.572 --> 00:08:06.550\nCuz if I lose one of those drives\nthe volume group takes a hit.\n\n160\n00:08:06.550 --> 00:08:08.130\nSo we've gotta be careful there.\n\n161\n00:08:08.130 --> 00:08:13.930\nBut I've now created 128-gig\ndrive out of two 64-gig drives.\n\n162\n00:08:13.930 --> 00:08:18.070\n>> Now Don, if you do lose one of those\ndrives, does it just drop in size or\n\n163\n00:08:18.070 --> 00:08:19.840\ndoes it actually break the volume group?\n\n164\n00:08:19.840 --> 00:08:21.119\n>> It kind of depends.\n\n165\n00:08:21.119 --> 00:08:22.070\n>> Okay.\n[LAUGH]\n\n166\n00:08:22.070 --> 00:08:23.571\n>> You don't necessarily know where it's\n\n167\n00:08:23.571 --> 00:08:24.810\nwriting the data to.\n\n168\n00:08:24.810 --> 00:08:27.450\nAnd so if it's written any data to it,\nit drops the whole volume group.\n\n169\n00:08:27.450 --> 00:08:28.510\nYeah, you lose the whole thing.\n\n170\n00:08:28.510 --> 00:08:32.610\nSo the LVM doesn't inherently\ngive you redundancy.\n\n171\n00:08:32.610 --> 00:08:34.713\nThere's ways to apply software RAID to it,\nbut\n\n172\n00:08:34.713 --> 00:08:37.930\nthe expectation is that you have\nhardware RAID underneath this.\n\n173\n00:08:37.930 --> 00:08:40.740\nSo your spanning multiple hardware RAID or\nRAIDS or something like that,\n\n174\n00:08:40.740 --> 00:08:44.710\nyou got driver redundancy done a different\nway or you don't need redundancy.\n\n175\n00:08:44.710 --> 00:08:48.530\nMaybe your goal here is speed and we're\nspreading our data across multiple discs,\n\n176\n00:08:48.530 --> 00:08:49.740\nkind of like RAID 0.\n\n177\n00:08:49.740 --> 00:08:53.700\nSo you have that but the LVM doesn't\nactually give you redundancy in this\n\n178\n00:08:53.700 --> 00:08:54.840\ndefault way of configuring.\n\n179\n00:08:57.320 --> 00:08:59.800\nSo I've got my physical volumes mapped.\n\n180\n00:08:59.800 --> 00:09:01.997\nI've got my volume group created.\n\n181\n00:09:01.997 --> 00:09:05.310\nNow, I need to create my partitions.\n\n182\n00:09:05.310 --> 00:09:08.160\nAnd I might create one or\nmore partitions based on my needs.\n\n183\n00:09:08.160 --> 00:09:09.690\nAnd those partitions\nare gonna go inside of here,\n\n184\n00:09:09.690 --> 00:09:12.460\nand they're basically\ncalled logical volumes.\n\n185\n00:09:12.460 --> 00:09:16.890\nAnd you probably kind of figured out\nthe whole pattern of how we do this stuff.\n\n186\n00:09:16.890 --> 00:09:21.710\nBut we did vgcreate,\nwe created the volume group.\n\n187\n00:09:21.710 --> 00:09:26.961\nNow, we just need to go and stick\npartitions inside of it with lvcreate.\n\n188\n00:09:26.961 --> 00:09:29.013\nPvcreate to map the physical.\n\n189\n00:09:29.013 --> 00:09:31.550\nVgcreate to map the volume group.\n\n190\n00:09:31.550 --> 00:09:34.543\nAnd now,\nlvcreate to map the logical volume.\n\n191\n00:09:34.543 --> 00:09:36.850\nAnd lvcreate is pretty simple.\n\n192\n00:09:36.850 --> 00:09:40.596\nWe basically say -L and we specify\nthe size of the volume we wanna make.\n\n193\n00:09:40.596 --> 00:09:43.060\nMaybe I want to make a 20 gigabyte one.\n\n194\n00:09:43.060 --> 00:09:44.740\nSo I'll just say 20G.\n\n195\n00:09:44.740 --> 00:09:47.853\nThen what volume group\nit's gonna be inside of.\n\n196\n00:09:47.853 --> 00:09:50.370\nMine's gonna be inside of vg1.\n\n197\n00:09:50.370 --> 00:09:53.700\nAnd then after that, I can give it a name.\n\n198\n00:09:53.700 --> 00:09:58.460\nAnd maybe this is my marketing data.\n\n199\n00:09:58.460 --> 00:10:01.540\nSo I'll just call it marketing or\nyou might just want to give it something\n\n200\n00:10:01.540 --> 00:10:03.860\ngeneric, like lv1,\nthis is my first one, lv1.\n\n201\n00:10:03.860 --> 00:10:04.910\nWhatever it is you wanna make it.\n\n202\n00:10:04.910 --> 00:10:06.890\nSo I'll just call mine marketing and now,\n\n203\n00:10:06.890 --> 00:10:09.140\nI've got a logical\nvolume called marketing.\n\n204\n00:10:09.140 --> 00:10:13.115\nThat logical volume is like\na partition in your old system.\n\n205\n00:10:13.115 --> 00:10:17.796\nThis is a volume that I can format, I can\nmount, and I can start to put files in it.\n\n206\n00:10:17.796 --> 00:10:20.435\nAnd it's 20-gigs in size.\n\n207\n00:10:20.435 --> 00:10:24.615\nI can grow it or shrink it based\non my needs as time goes on.\n\n208\n00:10:24.615 --> 00:10:28.245\nJust like I can grow or shrink the volume\ngroup based on my needs as time goes on.\n\n209\n00:10:28.245 --> 00:10:33.225\nBut now I've got that partition made and\nI can start to use it.\n\n210\n00:10:33.225 --> 00:10:36.620\nNow, all this time,\nthe system is tracking what I'm doing.\n\n211\n00:10:36.620 --> 00:10:39.390\nIt's basically creating this\nlogical stuff in the background.\n\n212\n00:10:39.390 --> 00:10:43.500\nAnd if I look in /dev,\nthis actually gets represented in here.\n\n213\n00:10:43.500 --> 00:10:47.163\nNotice I've got a new device /dev/vg1.\n\n214\n00:10:47.163 --> 00:10:50.050\nAnd unlike a lot of devices,\nit's a folder.\n\n215\n00:10:50.050 --> 00:10:54.800\nAnd if I change into that vg1 folder,\nI can look in there and there's marketing.\n\n216\n00:10:55.930 --> 00:11:00.390\nBut CO marketing is an alias or a simile.\n\n217\n00:11:00.390 --> 00:11:06.685\nCO it's map to /dev/dm-0,\ndm-0 for disk management and\n\n218\n00:11:06.685 --> 00:11:12.850\nif I look in here we'll see\ndm-0 showing up right there.\n\n219\n00:11:12.850 --> 00:11:15.020\nSo it's created this logical device.\n\n220\n00:11:15.020 --> 00:11:19.210\nIf I add more logical volumes,\nit'll just add them right in there.\n\n221\n00:11:19.210 --> 00:11:21.790\nMaybe I'll go and create one for\nmy sales department.\n\n222\n00:11:21.790 --> 00:11:25.050\nSo I'll create one for\nsales that will be 20 gigs also.\n\n223\n00:11:26.150 --> 00:11:30.618\nSo I'm gonna create that, it just\nmade it and if I change into vg1, and\n\n224\n00:11:30.618 --> 00:11:34.122\nI look in there I've got marketing and\nI've got sales.\n\n225\n00:11:34.122 --> 00:11:36.643\nSo each of these are now\nbecoming available.\n\n226\n00:11:36.643 --> 00:11:38.338\nNow, this is not mounted.\n\n227\n00:11:38.338 --> 00:11:41.560\nI can't change directory into that,\nthis is talking about the device.\n\n228\n00:11:41.560 --> 00:11:46.120\nSo this would be the equivalent of like\n/dev/sda1 where it points to a partition,\n\n229\n00:11:46.120 --> 00:11:50.020\nbut I still have to format it and\nmount it.\n\n230\n00:11:50.020 --> 00:11:55.850\nHere it's just /dev/vg1/Marketing,\n/dev/vg1/Sales.\n\n231\n00:11:55.850 --> 00:11:58.560\nIt's easier to remember those\nnames cuz I picked them.\n\n232\n00:11:58.560 --> 00:12:01.370\nVolume group 1, here's sales,\nhere's marketing.\n\n233\n00:12:01.370 --> 00:12:04.330\nBut I still need to\nformat them to get ready.\n\n234\n00:12:04.330 --> 00:12:05.629\nSo let's format them.\n\n235\n00:12:05.629 --> 00:12:07.225\nAnd you can format them\nhowever you want or\n\n236\n00:12:07.225 --> 00:12:09.765\nlay a file system on there with\nwhatever utility you want.\n\n237\n00:12:09.765 --> 00:12:13.331\nI'll just do mkfs -t ext4 and\n\n238\n00:12:13.331 --> 00:12:18.546\nI'll point it at /dev/vg1/Marketing,\n\n239\n00:12:18.546 --> 00:12:23.920\nand it's gonna lay a file system on it.\n\n240\n00:12:23.920 --> 00:12:28.758\nAnd then I'll do the same\nthing with /dev/vg1/Sales, and\n\n241\n00:12:28.758 --> 00:12:30.592\nlay a file system on it.\n\n242\n00:12:30.592 --> 00:12:33.823\nSo now, they're formatted and\nI can start to use them.\n\n243\n00:12:33.823 --> 00:12:34.770\nWell, I can use them once they're mounted.\n\n244\n00:12:35.970 --> 00:12:37.500\nSo probably need to go and\nget these things mounted.\n\n245\n00:12:38.660 --> 00:12:42.870\nNow, if I wanna mount them, well there's\na few ways we can go about that but\n\n246\n00:12:42.870 --> 00:12:45.290\nthe easiest one is to use\nthe mount command and\n\n247\n00:12:45.290 --> 00:12:46.980\nI do need a place to mount them to.\n\n248\n00:12:46.980 --> 00:12:50.908\nSo let me go into my mount folder and\nI am gonna make a sales directory and\n\n249\n00:12:50.908 --> 00:12:53.714\nI am gonna make a what was\nthe other one marketing.\n\n250\n00:12:53.714 --> 00:12:56.019\n>> Marketing.\n\n251\n00:12:56.019 --> 00:13:05.055\n>> And I am just gonna mount\n/dev/vg1/Marketing to /mnt/Marketing.\n\n252\n00:13:05.055 --> 00:13:07.740\nAnd then I'll do the same thing for Sales.\n\n253\n00:13:07.740 --> 00:13:11.300\nNow, when you mount like this,\nthese are kind of temporary.\n\n254\n00:13:11.300 --> 00:13:12.550\nSo they're not persistent.\n\n255\n00:13:12.550 --> 00:13:15.420\nIf I reboot my system\nthese are gonna go away.\n\n256\n00:13:15.420 --> 00:13:19.106\nSo if I want them to stick around I need\nto put them into my file system table.\n\n257\n00:13:19.106 --> 00:13:22.900\nThe fstab file, /etc/fstab.\n\n258\n00:13:22.900 --> 00:13:26.620\nWe're gonna do that in the file system\nhelp episodes, we'll tackle it then.\n\n259\n00:13:26.620 --> 00:13:29.170\nBut for right now,\nlet's do temporary mounts like this.\n\n260\n00:13:29.170 --> 00:13:34.390\nThose are now mounted and if I look at my\nfile system, I can see there they are.\n\n261\n00:13:34.390 --> 00:13:42.770\nAnd notice how they're being referred to\n/dev/mapper/vg1-Marketing, /vg1-Sales.\n\n262\n00:13:42.770 --> 00:13:46.650\nThe mapper device is what's\nactually powering the LVM to\n\n263\n00:13:46.650 --> 00:13:48.080\nkeep track of all this stuff.\n\n264\n00:13:48.080 --> 00:13:50.344\nWhat volumes are on what volume groups and\n\n265\n00:13:50.344 --> 00:13:52.877\nwhat volume groups are on\nwhat physical disk?\n\n266\n00:13:52.877 --> 00:13:54.840\nSo it's keeping track of all that.\n\n267\n00:13:54.840 --> 00:13:57.603\nAnd so when you run things like pvdisplay,\n\n268\n00:13:57.603 --> 00:14:01.072\nit's actually querying\nthe mapper to get that data.\n\n269\n00:14:01.072 --> 00:14:03.550\nAnd when you run vgdisplay\nto get the volume groups,\n\n270\n00:14:03.550 --> 00:14:06.040\nit's reaching out to the mapper for that.\n\n271\n00:14:06.040 --> 00:14:09.140\nAnd I believe there's lvdisplay also, yup.\n\n272\n00:14:09.140 --> 00:14:13.494\nAnd you can see those and again, all\ncoming from the mapper to tell you where\n\n273\n00:14:13.494 --> 00:14:18.569\nthat's coming from, what its name is, and\nother information about it like its size.\n\n274\n00:14:18.569 --> 00:14:20.130\nOnce these are in place,\nwe're in business.\n\n275\n00:14:20.130 --> 00:14:21.830\nWe work and we're done.\n\n276\n00:14:21.830 --> 00:14:26.850\nWell one of the cool parts about\nLVM is not the support on day one,\n\n277\n00:14:26.850 --> 00:14:28.890\nbut the support we get down the road.\n\n278\n00:14:28.890 --> 00:14:30.570\nLet's say you get a call from\nthe marketing department.\n\n279\n00:14:30.570 --> 00:14:31.980\nThey say hey guys, we're out of space.\n\n280\n00:14:33.020 --> 00:14:35.460\nOkay well, we need to add more room.\n\n281\n00:14:35.460 --> 00:14:38.582\nWell this is a logical volume, so\nwe can make a logical volume bigger.\n\n282\n00:14:38.582 --> 00:14:39.780\nWe can just stretch that volume out.\n\n283\n00:14:39.780 --> 00:14:41.330\nI made it 20-gigs.\n\n284\n00:14:41.330 --> 00:14:43.630\nWell I can stretch that out.\n\n285\n00:14:43.630 --> 00:14:46.760\nSo if I wanna bump that up,\nI can use a resize command.\n\n286\n00:14:46.760 --> 00:14:50.233\nAnd we can go in and we can pump that\nup and make it that bigger size and\n\n287\n00:14:50.233 --> 00:14:51.640\nget that in place.\n\n288\n00:14:51.640 --> 00:14:55.827\nSo we got a lvresize command and\nlvresize is what let's you make\n\n289\n00:14:55.827 --> 00:15:00.010\nthose partitions bigger or\nsmaller based on your needs.\n\n290\n00:15:00.010 --> 00:15:04.052\nMaybe I add a third hard drive to this\nmix and now, I got more storage so\n\n291\n00:15:04.052 --> 00:15:06.517\nI want to stretch out my logical volumes.\n\n292\n00:15:06.517 --> 00:15:13.290\nSo I'm just going to say lvresize and\nthen I am gonna give it a size.\n\n293\n00:15:13.290 --> 00:15:15.050\nAnd I'm gonna tell it how\nmuch bigger I wanna make it.\n\n294\n00:15:15.050 --> 00:15:17.200\nNow, the marketing one I did 20-gigs.\n\n295\n00:15:17.200 --> 00:15:22.661\nLet's say I wanna make it a nice even\n36-gigs, so I'll add 16-gigs to it.\n\n296\n00:15:22.661 --> 00:15:26.393\nSo I'm gonna say lvresize\n-L plus +16 gigs,\n\n297\n00:15:26.393 --> 00:15:30.410\nnow gigabytes and\nthen who it is that I'm resizing?\n\n298\n00:15:30.410 --> 00:15:35.001\nSo I'm gonna say /dev/vg1/Marketing.\n\n299\n00:15:35.001 --> 00:15:38.439\nAnd I'm gonna add 16-gigs of storage\nto it assuming it's available,\n\n300\n00:15:38.439 --> 00:15:40.800\nif it's not available I get an error.\n\n301\n00:15:40.800 --> 00:15:42.230\nSo it just added it to it.\n\n302\n00:15:42.230 --> 00:15:44.269\nMaybe I want to make the sales\ndepartment really big.\n\n303\n00:15:44.269 --> 00:15:47.467\nI wanna add 50-gigs to\nthe sales department.\n\n304\n00:15:47.467 --> 00:15:51.835\nSo I'm gonna go in and just punch that\nin and it's gonna make that one bigger.\n\n305\n00:15:51.835 --> 00:15:53.379\nAnd there we go.\n\n306\n00:15:53.379 --> 00:16:00.400\nAnd if I do a quick lvdisplay, I can\nsee where sales is now 70-gigs in size.\n\n307\n00:16:00.400 --> 00:16:03.067\nMy hard drives were only 64 gigs, right?\n\n308\n00:16:03.067 --> 00:16:07.230\nThis one drive is now bigger\nthan a single physical disk.\n\n309\n00:16:07.230 --> 00:16:09.580\nAnd the other one is 36 gig, right?\n\n310\n00:16:09.580 --> 00:16:12.700\nThere's marketing, it's 36 gigs in size.\n\n311\n00:16:12.700 --> 00:16:14.550\nSo I've expanded these.\n\n312\n00:16:15.910 --> 00:16:21.060\nBut, while it's super easy to\nexpand the logical volume,\n\n313\n00:16:21.060 --> 00:16:23.390\nyour file system doesn't follow suit.\n\n314\n00:16:23.390 --> 00:16:30.390\nSo when I laid a file system on this,\nI laid EXT4, EXT4, it didn't expand.\n\n315\n00:16:30.390 --> 00:16:35.450\nSo if I come and and take a look at like\nDF-H and I start looking at my sizes,\n\n316\n00:16:35.450 --> 00:16:38.150\nnotice how marketing is still 20 gigs and\nsales is still 20 gigs?\n\n317\n00:16:39.580 --> 00:16:42.650\nTo put it in terms of the physical hard\ndrive, the physical hard drive just got\n\n318\n00:16:42.650 --> 00:16:46.650\nbigger, but the partition is\nstill the same size it was.\n\n319\n00:16:46.650 --> 00:16:49.480\nSo super easy to resize\nthe logical volume.\n\n320\n00:16:49.480 --> 00:16:53.360\nBut I've gotta follow that up by\nresizing my file system too, so\n\n321\n00:16:53.360 --> 00:16:55.790\nthat it knows to be bigger,\nto fill that space.\n\n322\n00:16:55.790 --> 00:16:59.050\nNow that varies based on your file system,\nso\n\n323\n00:16:59.050 --> 00:17:03.080\nyou may have to do different things\nto get it to work for different ones.\n\n324\n00:17:03.080 --> 00:17:08.240\nWith EXT, we have the resize2fs command.\n\n325\n00:17:08.240 --> 00:17:10.210\nAnd so I'm gonna do resize to fs, and\n\n326\n00:17:10.210 --> 00:17:16.130\nI'm gonna point that at\n/dev/vg1 /marketing, like that.\n\n327\n00:17:16.130 --> 00:17:18.660\nAnd that's gonna resize it, and\nif I don't give it any options,\n\n328\n00:17:18.660 --> 00:17:21.280\nit's gonna resize it to the biggest\nsize that it can go to.\n\n329\n00:17:21.280 --> 00:17:25.370\nSo there it goes, it's resizing it,\nand I'll do the same thing with sales.\n\n330\n00:17:25.370 --> 00:17:29.090\nJust be aware, if you used a different\nfile system, that's not gonna work.\n\n331\n00:17:29.090 --> 00:17:32.708\nSo if you use ReiserFS, or ZFS,\nthey have their own commands for\n\n332\n00:17:32.708 --> 00:17:33.985\nstretching that out.\n\n333\n00:17:33.985 --> 00:17:41.410\nBut now, when I do a df -h, I can see that\nmarketing is 36 gig and sales is 69 gigs.\n\n334\n00:17:41.410 --> 00:17:42.520\nIt's not quite the 70,\n\n335\n00:17:42.520 --> 00:17:45.670\nfile systems don't get the same\nadvantage as a physical hard drive.\n\n336\n00:17:45.670 --> 00:17:49.485\nSo, I can see that space,\nnow I've got tons of room on these drives.\n\n337\n00:17:49.485 --> 00:17:52.962\n>> Now Don, we've talked about if we\nhave the space on the actual disks\n\n338\n00:17:52.962 --> 00:17:57.300\nthat we have installed in our computer at\nthat time, we can easily stretch that out.\n\n339\n00:17:57.300 --> 00:17:58.560\nBut what if we've run out of space,\n\n340\n00:17:58.560 --> 00:18:03.180\nhow difficult is it to add another\ndrive and extend that out to that?\n\n341\n00:18:03.180 --> 00:18:04.530\n>> It's really not a big deal.\n\n342\n00:18:04.530 --> 00:18:09.230\nSo if my system supports hot plug,\nwhich a lot of people don't realize this,\n\n343\n00:18:09.230 --> 00:18:12.410\neven SATA, the default SATA\nstandard supports hot plug.\n\n344\n00:18:12.410 --> 00:18:15.880\nThe power connector doesn't so\nmuch, but the SATA connector does.\n\n345\n00:18:15.880 --> 00:18:19.940\nSo you can probably add hard drives\nto your system while it's online.\n\n346\n00:18:19.940 --> 00:18:21.780\nMaybe not,\nyour hardware might not support that.\n\n347\n00:18:21.780 --> 00:18:22.810\nIf your hardware doesn't support it,\n\n348\n00:18:22.810 --> 00:18:26.750\nyou got to shut the server down,\nadd a hard drive, power it back on.\n\n349\n00:18:26.750 --> 00:18:29.890\nBut if it has hot plug,\nif it's a 2U server whatever, and\n\n350\n00:18:29.890 --> 00:18:32.960\nit's got bays right in front, you can\nprobably just slap a hard drive in there.\n\n351\n00:18:32.960 --> 00:18:37.088\nAnd then you add that hard\ndrive to your volume group,\n\n352\n00:18:37.088 --> 00:18:40.493\nso you use the pvcreate\nto import that disk.\n\n353\n00:18:40.493 --> 00:18:46.540\nSo for me it it'd be /dev/sdd,\nso I would do pvcreate /dev/sdd.\n\n354\n00:18:46.540 --> 00:18:48.870\nThat would add it to the LVM.\n\n355\n00:18:48.870 --> 00:18:52.830\nThen my VG creator, we would need\nto go into that volume group and\n\n356\n00:18:52.830 --> 00:18:54.760\nadd that drive to it.\n\n357\n00:18:54.760 --> 00:18:58.050\nSo we could go in and add it in,\nput it in place and that expands out and\n\n358\n00:18:58.050 --> 00:18:59.600\ngets that extra storage.\n\n359\n00:18:59.600 --> 00:19:01.430\nThen you just go and\nresize your logical volume.\n\n360\n00:19:01.430 --> 00:19:03.810\nAnd you do it,\nif you have hot plug drives,\n\n361\n00:19:03.810 --> 00:19:04.990\nyou can do it all while it's online.\n\n362\n00:19:04.990 --> 00:19:06.740\nYour end users don't even notice.\n\n363\n00:19:06.740 --> 00:19:08.180\nAll of a sudden you have more storage,\nright?\n\n364\n00:19:08.180 --> 00:19:12.020\nThat's really the advantage of using the\nLVM is that you can do this stuff without\n\n365\n00:19:12.020 --> 00:19:14.070\naffecting your users.\n\n366\n00:19:14.070 --> 00:19:15.250\n>> Very cool.\n\n367\n00:19:15.250 --> 00:19:17.650\n>> With the older systems,\nyou have to get people out of the system.\n\n368\n00:19:17.650 --> 00:19:20.610\nYou have to get them out of the drive or\ngo into single user mode to do stuff.\n\n369\n00:19:20.610 --> 00:19:21.910\nAnd that was kind of a hassle.\n\n370\n00:19:21.910 --> 00:19:22.890\nLVM, it's all live.\n\n371\n00:19:22.890 --> 00:19:25.050\nIt's really cool stuff,\nso pretty cool to do.\n\n372\n00:19:27.270 --> 00:19:31.620\nAnother command that we want to be\naware of is, if we're adding drives to\n\n373\n00:19:31.620 --> 00:19:36.312\nthe volume group, you have vg extend.\n\n374\n00:19:36.312 --> 00:19:39.910\nVg extend is how we add\ndrives to the volume group.\n\n375\n00:19:39.910 --> 00:19:45.680\nSo, when we created our volume group\nearlier, the command I used was vg create.\n\n376\n00:19:45.680 --> 00:19:47.580\nAnd then I gave it a name,\nso I said vg1 and\n\n377\n00:19:47.580 --> 00:19:50.800\nthen I pointed to the drives\nI was brining in.\n\n378\n00:19:50.800 --> 00:19:57.450\nSo, I did /dev/sdb /dev/sdc, those guys.\n\n379\n00:19:57.450 --> 00:20:01.797\nSo, that created volume group one and\nit added those two drives.\n\n380\n00:20:01.797 --> 00:20:06.471\nVgextend, the way it works,\nis you say vgextend and\n\n381\n00:20:06.471 --> 00:20:10.520\nthen you come in and you provide the name.\n\n382\n00:20:10.520 --> 00:20:13.164\nAnd that volume group already exists, vg1.\n\n383\n00:20:13.164 --> 00:20:16.231\nAnd then we say /dev/sdd.\n\n384\n00:20:16.231 --> 00:20:17.915\nThat's not creating a new volume group,\n\n385\n00:20:17.915 --> 00:20:20.370\nit's extending it to\nencompass a new drive.\n\n386\n00:20:20.370 --> 00:20:26.400\nSo I would do the pv create /dev/sdd\nfirst to import it into the system.\n\n387\n00:20:26.400 --> 00:20:31.063\nAnd then vgextend vg1\n/dev/sdd to add that to it.\n\n388\n00:20:31.063 --> 00:20:34.166\nNow the volume group is bigger,\nI can go to each of my logical volumes and\n\n389\n00:20:34.166 --> 00:20:35.056\nstretch those out.\n\n390\n00:20:35.056 --> 00:20:39.331\nSo vg extend is the kind of\nmissing component there for\n\n391\n00:20:39.331 --> 00:20:41.333\nadding those drives in.\n\n392\n00:20:41.333 --> 00:20:45.370\nStraight forward if you\nknow the command [LAUGH].\n\n393\n00:20:45.370 --> 00:20:47.105\n>> If you've learned those things,\nthat is.\n\n394\n00:20:47.105 --> 00:20:49.805\n[LAUGH]\n>> Now always verify the stuff when\n\n395\n00:20:49.805 --> 00:20:50.546\nyou create it.\n\n396\n00:20:50.546 --> 00:20:55.507\nYou saw I used DF-H, which is kind of\nquick way that I verify stuff that's\n\n397\n00:20:55.507 --> 00:20:58.721\nmounted and\nwhat their storages is available.\n\n398\n00:20:58.721 --> 00:21:01.820\nBut if it's not mounted yet,\nDF doesn't help you, right?\n\n399\n00:21:01.820 --> 00:21:07.050\nSo remember, your lvdisplay, and\nyour vgdisplay, and your pvdisplay.\n\n400\n00:21:07.050 --> 00:21:09.960\nThose are the ways that you're gonna\nsee how the LVM is configured and\n\n401\n00:21:09.960 --> 00:21:11.490\nwhat its got available to you.\n\n402\n00:21:11.490 --> 00:21:13.350\nTrust the output from those commands.\n\n403\n00:21:13.350 --> 00:21:14.620\nThat's good stuff.\n\n404\n00:21:14.620 --> 00:21:19.418\nBut, the whole while,\nthis is all being mapped really easy.\n\n405\n00:21:19.418 --> 00:21:21.700\nYour volume group shows up in here.\n\n406\n00:21:21.700 --> 00:21:24.640\nInside of the volume group,\nyou see the volumes that are a part of it.\n\n407\n00:21:24.640 --> 00:21:29.000\nThe mapper service is running,\nand with the mapper, you can\n\n408\n00:21:29.000 --> 00:21:32.730\nactually browse into that, and you'll\nsee these alias names that they use.\n\n409\n00:21:32.730 --> 00:21:35.550\nAnd you can kind of see\nthe data that's in there.\n\n410\n00:21:35.550 --> 00:21:37.570\nIt's all right in /dev.\n\n411\n00:21:37.570 --> 00:21:42.480\nIt's adding an extra layer of complexity,\nbut the tradeoff is that with that extra\n\n412\n00:21:42.480 --> 00:21:46.440\ncomplexity, you get a lot more power, the\nability to change this stuff dynamically.\n\n413\n00:21:46.440 --> 00:21:48.430\nAnd there's ways to do it without the LVM.\n\n414\n00:21:48.430 --> 00:21:49.790\nLVM didn't invent this stuff.\n\n415\n00:21:49.790 --> 00:21:53.470\nThere were ways to do it before, but\na lot of them require kicking users out.\n\n416\n00:21:53.470 --> 00:21:56.030\nThis can all be done seamlessly\nwhile the system is online.\n\n417\n00:21:56.030 --> 00:22:00.150\n>> Well, Don, it really seems like LVM is\njust the way to fly if you have the means.\n\n418\n00:22:00.150 --> 00:22:02.290\nIt's so much easier,\nit gives you a whole lot of control,\n\n419\n00:22:02.290 --> 00:22:05.080\na whole lot of ability on top of that.\n\n420\n00:22:05.080 --> 00:22:10.340\nIs there any reason we would use the older\nlike, Fdisk and all of that over this?\n\n421\n00:22:10.340 --> 00:22:14.670\n>> If you were trying to create the most\nstreamlined, optimized system possible,\n\n422\n00:22:14.670 --> 00:22:16.960\nlike reducing memory load, and so on.\n\n423\n00:22:16.960 --> 00:22:19.500\nThen you might choose to leave LVM off\n\n424\n00:22:19.500 --> 00:22:22.950\nif a normal hard drive\nstructure serves your needs.\n\n425\n00:22:22.950 --> 00:22:25.540\nIf you're not gonna use\nthe advanced functionality of LVM,\n\n426\n00:22:25.540 --> 00:22:28.340\nthen you don't necessarily\nneed to load it.\n\n427\n00:22:28.340 --> 00:22:32.000\nBut I'll tell you, boy is it a lot\neasier if you start out with LVM in\n\n428\n00:22:32.000 --> 00:22:34.110\nthe beginning,\nthen it is to try and retrofit.\n\n429\n00:22:34.110 --> 00:22:37.848\nAnd what I see is a lot of people end up\nwhere their boot volume is traditional and\n\n430\n00:22:37.848 --> 00:22:39.558\nthen everything else is using LVM.\n\n431\n00:22:39.558 --> 00:22:42.827\nWhere as if you had started that way you\ncould have your boot volume as a part\n\n432\n00:22:42.827 --> 00:22:43.372\nof LVM too.\n\n433\n00:22:43.372 --> 00:22:47.092\nAnd now if you are ever running out of\nhard drive space on your root drive you\n\n434\n00:22:47.092 --> 00:22:47.882\ncan expand it.\n\n435\n00:22:47.882 --> 00:22:52.201\nAnd it's really hard to\nretrofit that boot volume.\n\n436\n00:22:52.201 --> 00:22:54.920\nSo those are kind of\nthings to think about.\n\n437\n00:22:54.920 --> 00:22:57.845\nI generally do choose to use\nLVM if I have the option.\n\n438\n00:22:57.845 --> 00:23:01.457\nMost hardware these days the footprint or\nfingerprint, or whatever, for\n\n439\n00:23:01.457 --> 00:23:04.627\nthe memory consumption is so\nsmall that we don't worry about it.\n\n440\n00:23:04.627 --> 00:23:06.773\n>> Kind of a rather have it and\nnot need it, then need it and\n\n441\n00:23:06.773 --> 00:23:07.860\nnot have it kind of thing.\n\n442\n00:23:07.860 --> 00:23:09.280\n>> That's exactly right, yeah.\n\n443\n00:23:09.280 --> 00:23:12.960\nAnd, if you're running any kind of Red-Hat\nbased OS, the odds are you've got LVM\n\n444\n00:23:12.960 --> 00:23:16.670\nat least installed if not\nactually active on your system.\n\n445\n00:23:16.670 --> 00:23:20.831\nIf you're running Debian, Ubuntu, those\nguys, you may not even have it installed,\n\n446\n00:23:20.831 --> 00:23:23.170\nthey have some of their\nown systems they use too.\n\n447\n00:23:23.170 --> 00:23:24.510\nBut LVM it's a great option,\n\n448\n00:23:24.510 --> 00:23:27.720\nit's out there, it's pretty\nmuch supported on every system.\n\n449\n00:23:27.720 --> 00:23:28.750\n>> Very awesome.\n\n450\n00:23:28.750 --> 00:23:32.540\nAll right Don, have we cracked this\nnut at least the basics of it that is?\n\n451\n00:23:32.540 --> 00:23:35.623\n>> The only thing we didn't\ncover was making those mounted\n\n452\n00:23:35.623 --> 00:23:37.531\ndrives persistent past a reboot.\n\n453\n00:23:37.531 --> 00:23:40.370\nAnd like I said, we'll tackle that\nin the final system health episode.\n\n454\n00:23:40.370 --> 00:23:43.060\nThe final system health\nepisode is going to apply\n\n455\n00:23:43.060 --> 00:23:46.540\nregardless of whether you're using LVM or\nnot, so it's a little more generic.\n\n456\n00:23:46.540 --> 00:23:49.160\nAnd we'll talk about how to mount it and\nkeep that file system healthy and stuff,\n\n457\n00:23:49.160 --> 00:23:51.080\nso definitely keep an eye out for\nthat one.\n\n458\n00:23:51.080 --> 00:23:52.804\n>> Awesome, yes,\ndefinitely check that show out.\n\n459\n00:23:52.804 --> 00:23:56.964\nBut for this show, looks like we've come\nto the end, so signing off for ITProTV,\n\n460\n00:23:56.964 --> 00:23:59.160\nI've been your host, Daniel Lowry.\n\n461\n00:23:59.160 --> 00:24:00.050\n>> And I'm Don Pezet.\n\n462\n00:24:00.050 --> 00:24:01.124\n>> We'll see you next time.\n\n463\n00:24:01.124 --> 00:24:07.350\n[MUSIC]\n\n",
          "vimeoId": "130988856"
        },
        {
          "description": null,
          "length": "1842",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-4-filesystem_health-061715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-4-filesystem_health-061715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-4-filesystem_health-061715-1-sm.jpg",
          "title": "Filesystem Health",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.384\n[MUSIC]\n\n2\n00:00:10.384 --> 00:00:11.414\nAll right, greetings everyone.\n\n3\n00:00:11.414 --> 00:00:16.579\nWelcome to another great episode of\nITProTV, I'm your host Daniel Lowrie,\n\n4\n00:00:16.579 --> 00:00:20.472\nand here with me today is\nthe Linux guru himself my mentor,\n\n5\n00:00:20.472 --> 00:00:23.430\nmy Yoda as it were of Linux, Don Pezet.\n\n6\n00:00:23.430 --> 00:00:24.640\n>> So now, I'm some kinda short green guy.\n\n7\n00:00:24.640 --> 00:00:25.279\n>> I'm setting the bar.\n\n8\n00:00:25.279 --> 00:00:26.775\n[LAUGH]\n>> [LAUGH] All right, ladies and\n\n9\n00:00:26.775 --> 00:00:29.855\ngentlemen, welcome back to\nanother episode of Linux Plus.\n\n10\n00:00:29.855 --> 00:00:33.869\nWe are actually gonna be jumping into\nanother two part series, so be ready for\n\n11\n00:00:33.869 --> 00:00:38.220\na cliffhanger at the end of this one,\nas we talk about file system help.\n\n12\n00:00:38.220 --> 00:00:41.650\nIn other episodes we talked about like\nhow devices are detected in Linux and\n\n13\n00:00:41.650 --> 00:00:43.870\nhow we can partition and\nmount hard drive and\n\n14\n00:00:43.870 --> 00:00:48.180\nstuff, and we need to take\na look at that process again,\n\n15\n00:00:48.180 --> 00:00:51.370\nto understand not just how to create\na hard drive you definitely know that.\n\n16\n00:00:51.370 --> 00:00:54.654\nBut, how to keep that drive\nhealthy once it's attached.\n\n17\n00:00:54.654 --> 00:00:58.222\nAnd there's some really interesting stuff,\nsome interesting settings that\n\n18\n00:00:58.222 --> 00:01:01.949\nare available, that we need to look at to\nmake sure that our hard drives are storing\n\n19\n00:01:01.949 --> 00:01:05.028\nour data, and that we're able to\nretrieve the data when we need it,\n\n20\n00:01:05.028 --> 00:01:08.738\nthat it's available when we want it and\nnot disappeared or offline or whatever.\n\n21\n00:01:08.738 --> 00:01:11.390\nSo we're gonna take a look\nat some neat stuff there,\n\n22\n00:01:11.390 --> 00:01:14.180\nmore than what we can fit in one episode.\n\n23\n00:01:14.180 --> 00:01:17.660\n>> Now, Don, we've talked in previous\nepisodes about mounting partitions,\n\n24\n00:01:17.660 --> 00:01:20.050\nwe've built partitions,\nwe did all sorts of really cool stuff.\n\n25\n00:01:20.050 --> 00:01:21.183\nThe LVM stuff was awesome.\n\n26\n00:01:21.183 --> 00:01:23.100\nIf you guys haven't seen that show,\ncheck that out.\n\n27\n00:01:23.100 --> 00:01:27.370\nSome very, very cool, what you can do\nwith multiple partitions using that.\n\n28\n00:01:27.370 --> 00:01:29.460\nBut, we've talked about how\nwe needed to mount them so\n\n29\n00:01:29.460 --> 00:01:31.570\nthat we can actually use that device.\n\n30\n00:01:31.570 --> 00:01:33.270\nBut, the change wasn't permanent.\n\n31\n00:01:33.270 --> 00:01:35.460\n>> That's right, so\nthe way we mounted them in that episode,\n\n32\n00:01:35.460 --> 00:01:38.490\nif we had rebooted that computer,\nall our drives would have disappeared.\n\n33\n00:01:38.490 --> 00:01:42.590\nAnd what we really needed to do\nwas to make those persistent, so\n\n34\n00:01:42.590 --> 00:01:45.160\nthey'd survive after the reboot.\n\n35\n00:01:45.160 --> 00:01:48.860\nBut, we held off in that episode, because\nit actually is a little bit involved,\n\n36\n00:01:48.860 --> 00:01:51.650\nthe process that we need to\nadd a hard drive in there.\n\n37\n00:01:51.650 --> 00:01:55.570\nAnd it starts to tinker with how\nthe health of that drive is maintained,\n\n38\n00:01:55.570 --> 00:01:57.970\nand we'll see that right here.\n\n39\n00:01:57.970 --> 00:02:02.230\nWhen your computer boots up,\nit goes through a series of processes.\n\n40\n00:02:02.230 --> 00:02:06.100\nIt runs its boots loader,\nit initializes Linux, and gets fired up.\n\n41\n00:02:06.100 --> 00:02:11.530\nAnd at boot time, it looks for\na list of drives to mount.\n\n42\n00:02:11.530 --> 00:02:15.430\nAnd if your drive is in that list,\nit'll be mounted and ready at boot time.\n\n43\n00:02:15.430 --> 00:02:18.260\nIf it's not on the list,\nit's not gonna get mounted.\n\n44\n00:02:18.260 --> 00:02:21.530\nAnd when you run that mount command\nlike when you mount a CD-ROM drive,\n\n45\n00:02:21.530 --> 00:02:23.470\nwell that's not on the list.\n\n46\n00:02:23.470 --> 00:02:26.730\nYou just did it right there for your\nsession, it's live on that server, but\n\n47\n00:02:26.730 --> 00:02:29.508\nwhen it reboots, that stuff's gone.\n\n48\n00:02:29.508 --> 00:02:32.190\nSo if wanna make it persistent,\nwe need to add it to the list.\n\n49\n00:02:32.190 --> 00:02:35.260\nAnd the list is called\nthe file system table.\n\n50\n00:02:35.260 --> 00:02:36.710\nAnd it's in /etc.\n\n51\n00:02:36.710 --> 00:02:40.635\nThe file is /etc/fstab.\n\n52\n00:02:40.635 --> 00:02:43.920\nAnd you can go in there and find it and\nget a list of those drives.\n\n53\n00:02:43.920 --> 00:02:46.730\nNow, the challenge here is\n\n54\n00:02:46.730 --> 00:02:51.390\nthe format of the fstab file can vary\na little bit from distro to distro.\n\n55\n00:02:51.390 --> 00:02:54.540\nThere's a ton of options and\na lot of neat stuff in there that\n\n56\n00:02:54.540 --> 00:02:57.040\nwe really do need to have\na good understanding of.\n\n57\n00:02:57.040 --> 00:02:58.760\nSo let's take a look at this.\n\n58\n00:02:58.760 --> 00:03:00.850\nAnd I just kind of wanna show\nyou how the process works.\n\n59\n00:03:00.850 --> 00:03:03.460\nNow, I've got two CentOS boxes here.\n\n60\n00:03:03.460 --> 00:03:07.402\nThis one is running CentOS 7, and\nI've got another one running CentOS 6.5.\n\n61\n00:03:07.402 --> 00:03:12.231\nAnd the reason I have these two is I wanna\nshow you guys how even within the same\n\n62\n00:03:12.231 --> 00:03:16.416\ndistro, the way that file is written\nhas changed a bit over time.\n\n63\n00:03:16.416 --> 00:03:21.800\nSo here on this system, if I just do\na quick, probably need to sudo this one.\n\n64\n00:03:21.800 --> 00:03:25.635\nMore/etc/fstab.\n\n65\n00:03:25.635 --> 00:03:29.135\nFstab, that's that file that\nhas all my file systems in it.\n\n66\n00:03:29.135 --> 00:03:31.625\nI get to see what's in there right now.\n\n67\n00:03:31.625 --> 00:03:32.645\nAnd I've got three drives.\n\n68\n00:03:33.827 --> 00:03:38.874\nEach drive is identified by\na Universally Unique Identifier or\n\n69\n00:03:38.874 --> 00:03:40.847\nUUID, followed by where it's mounted.\n\n70\n00:03:40.847 --> 00:03:42.037\nSo I can see the slash.\n\n71\n00:03:42.037 --> 00:03:43.616\nThat's my root partition.\n\n72\n00:03:43.616 --> 00:03:44.917\nI've got /boot.\n\n73\n00:03:44.917 --> 00:03:46.437\nThat's my bootloader.\n\n74\n00:03:46.437 --> 00:03:48.198\nAnd then we've got swap.\n\n75\n00:03:48.198 --> 00:03:50.927\nNow the swap, that's not actually\nmounted to a folder at all.\n\n76\n00:03:50.927 --> 00:03:54.377\nThat's my swap file or my page file, and\n\n77\n00:03:54.377 --> 00:04:00.420\nit's helping me to keep functioning\neven if my system runs out of RAM.\n\n78\n00:04:00.420 --> 00:04:01.922\nThese have been around for a long time.\n\n79\n00:04:01.922 --> 00:04:05.669\nIf your system runs out of RAM, it starts\nto use the hard drive for memory, and\n\n80\n00:04:05.669 --> 00:04:08.910\nthe swap partition is set aside to\nbe able to provide room for that.\n\n81\n00:04:09.980 --> 00:04:14.980\nSo it's identifying those drives\nto mount when we boot up.\n\n82\n00:04:14.980 --> 00:04:18.620\nNow here,\neach drive is recognized by a UUID.\n\n83\n00:04:19.690 --> 00:04:22.460\nAnd that's kind of a newer\nway of looking at things.\n\n84\n00:04:22.460 --> 00:04:26.050\nWe see that when we're using GPTs, GPT,\n\n85\n00:04:26.050 --> 00:04:29.940\nthe GUID partition table,\nthat's where we can start to map\n\n86\n00:04:29.940 --> 00:04:33.150\nway more volumes than we used to be\nable to have on a regular drive.\n\n87\n00:04:33.150 --> 00:04:34.578\nAnd you can do much larger jobs.\n\n88\n00:04:34.578 --> 00:04:38.140\nYou get a lot of power out of that,\nand it uses these UUIDs.\n\n89\n00:04:38.140 --> 00:04:43.030\nOn other systems, though, you might not\nbe using GPT, or you might use GPT,\n\n90\n00:04:43.030 --> 00:04:45.670\nbut still use the old drive names.\n\n91\n00:04:45.670 --> 00:04:48.291\nThe old drive names are the device\nnames that we've seen,\n\n92\n00:04:48.291 --> 00:04:49.641\nthe things you find in /dev.\n\n93\n00:04:49.641 --> 00:04:53.534\nIf I go and look in /dev, and\nI pull up a list of all my hardware,\n\n94\n00:04:53.534 --> 00:04:56.650\nI don't see UUIDs here,\nI see device names.\n\n95\n00:04:56.650 --> 00:05:01.070\nMy hard drives show up as sda, sdb, sdc.\n\n96\n00:05:01.070 --> 00:05:05.940\nAnd each partition shows up as sda1,\nsda2, and so on.\n\n97\n00:05:05.940 --> 00:05:10.940\nSo in your fstab file, you might actually,\nif I get the right system.\n\n98\n00:05:10.940 --> 00:05:14.036\nYou might be mounting them\nbased on those device names.\n\n99\n00:05:14.036 --> 00:05:19.570\nHere's the CentOS 6.5 box that I've got,\nand if I take a look at that fstab file,\n\n100\n00:05:19.570 --> 00:05:23.951\nhere I can see where it's mounting\nbased on these /dev/shm or\n\n101\n00:05:23.951 --> 00:05:28.500\n/dev/pts, but I've got UUIDs here also.\n\n102\n00:05:29.540 --> 00:05:33.814\nSo mounting to those UUIDs\npointing to that location.\n\n103\n00:05:33.814 --> 00:05:35.903\nHere I've got an example that I\nkind of wrote before the show,\n\n104\n00:05:35.903 --> 00:05:36.918\nI just wrote this one by hand.\n\n105\n00:05:36.918 --> 00:05:41.190\nAnd this is showing the original method\nwhich is mounting it by the device name.\n\n106\n00:05:41.190 --> 00:05:45.270\nThe udev assigned name or\nwhat you find inside of most systems.\n\n107\n00:05:45.270 --> 00:05:48.425\nSo /dev/sda1 might be mounted to root,\n\n108\n00:05:48.425 --> 00:05:51.820\n/dev/sda2 might be mounted to boot,\nand so on.\n\n109\n00:05:53.280 --> 00:05:55.730\nThere's actually five different\n\n110\n00:05:55.730 --> 00:05:58.450\nways that they can identify\nthe drive in your system.\n\n111\n00:06:00.070 --> 00:06:06.610\nIf you're using GPT, it's normally gonna\nbe identified by either a UUID or a label.\n\n112\n00:06:07.680 --> 00:06:12.960\nAnd so you'll see something like this,\nPARTLABEL=EFI.\n\n113\n00:06:12.960 --> 00:06:17.780\nThat means there's a partition that\nhas a label on it, a name, of EFI.\n\n114\n00:06:17.780 --> 00:06:21.630\nAnd whoever is named EFI,\nmount that to this folder.\n\n115\n00:06:21.630 --> 00:06:26.717\nOr you might see PARTUUID,\nfollowed by a joined UUID like this.\n\n116\n00:06:26.717 --> 00:06:27.605\nAnd that means look for\n\n117\n00:06:27.605 --> 00:06:30.470\nthe drive with the UUID that matches\nthis amount into this other folder.\n\n118\n00:06:31.480 --> 00:06:33.090\nIf you're not using GPT, or\n\n119\n00:06:33.090 --> 00:06:36.640\nif you're using a mixture,\nthen you'll use one of these three.\n\n120\n00:06:36.640 --> 00:06:40.600\nYou'll use just a straight up UUID,\nwhich is really the same as PARTUUID.\n\n121\n00:06:40.600 --> 00:06:42.420\nI'm not sure why they use\nthe different one there,\n\n122\n00:06:42.420 --> 00:06:43.700\ncuz they are effectively the same.\n\n123\n00:06:43.700 --> 00:06:47.380\nThere's a label, which again,\nis basically the same, but\n\n124\n00:06:47.380 --> 00:06:49.480\nit is stored in a different place.\n\n125\n00:06:49.480 --> 00:06:54.280\nA GPT label and a traditional volume\nlabel are stored in two different places.\n\n126\n00:06:54.280 --> 00:06:56.500\nAnd then, there's a file name itself.\n\n127\n00:06:56.500 --> 00:06:59.990\nSo when you look at your fstab\nfile on your own system,\n\n128\n00:06:59.990 --> 00:07:02.150\nyou can see any one of these five.\n\n129\n00:07:02.150 --> 00:07:05.910\nAnd, while we don't normally do it,\nyou can mix and match them.\n\n130\n00:07:05.910 --> 00:07:09.520\nI can have some by device,\nsome by label, some by part label.\n\n131\n00:07:09.520 --> 00:07:12.360\nOr, more commonly,\nwe have them all as part label,\n\n132\n00:07:12.360 --> 00:07:14.790\nor all as a device name, or whatever.\n\n133\n00:07:14.790 --> 00:07:15.790\nBut they can be mix and match.\n\n134\n00:07:16.820 --> 00:07:19.220\nSo that's one big challenge\nwe have with the fstab,\n\n135\n00:07:19.220 --> 00:07:23.010\nis if we wanna drive to\nthe present when we reboot,\n\n136\n00:07:23.010 --> 00:07:26.830\nit needs to be added to that table so\nthat it knows to mount it at boot time.\n\n137\n00:07:26.830 --> 00:07:29.950\nAnd if you put it in there,\nwhat format you need to put it in?\n\n138\n00:07:29.950 --> 00:07:35.490\nWell, I might know\nthe device as /dev/sda1.\n\n139\n00:07:35.490 --> 00:07:37.896\nBut if I go into my fstab file and\nit's all UUIDs,\n\n140\n00:07:37.896 --> 00:07:39.911\nthen I need to figure out what my UUID is.\n\n141\n00:07:39.911 --> 00:07:41.339\nAnd then, I can get that information and\n\n142\n00:07:41.339 --> 00:07:43.880\nI can use it to populate\nthe table correctly.\n\n143\n00:07:43.880 --> 00:07:49.398\nSo that's challenge number one,\nis figuring out how to identify my drive.\n\n144\n00:07:49.398 --> 00:07:51.592\nThen, I have to determine\nwhere I wanna mount it.\n\n145\n00:07:51.592 --> 00:07:52.532\nThat's usually the easy part.\n\n146\n00:07:52.532 --> 00:07:56.455\nWe have an idea of where we want to\nmount it, so we put that folder in.\n\n147\n00:07:56.455 --> 00:07:59.091\nThen You've got your filesystem.\n\n148\n00:07:59.091 --> 00:08:04.960\nNow most versions of Linux have a standard\nset of filesystems they support,\n\n149\n00:08:04.960 --> 00:08:07.170\next2, ext3, and ext4.\n\n150\n00:08:07.170 --> 00:08:11.971\nThose are the kind of default Linux\nfilesystems that you're going to\n\n151\n00:08:11.971 --> 00:08:13.053\nsee out there.\n\n152\n00:08:13.053 --> 00:08:15.979\nExt2 and ext3 are actually identical.\n\n153\n00:08:15.979 --> 00:08:19.150\nThe different is ext3\nhas journaling enabled.\n\n154\n00:08:19.150 --> 00:08:22.360\nAnd we're going to talk more about\njournaling in the next episode.\n\n155\n00:08:22.360 --> 00:08:25.030\nExt4 is actually an improvement on them.\n\n156\n00:08:25.030 --> 00:08:27.290\nSo you've got those three.\n\n157\n00:08:27.290 --> 00:08:32.560\nYou've got other things like XFS,\nBTFRS or PTRFS, riser FS.\n\n158\n00:08:32.560 --> 00:08:35.840\nYou know, there's a whole bunch\nof them that are out there.\n\n159\n00:08:35.840 --> 00:08:40.640\nWell, swap, while technically not a\nfilesystem is identified as a file system.\n\n160\n00:08:40.640 --> 00:08:43.490\nSo, you'll identify what\nthat filesystem is.\n\n161\n00:08:43.490 --> 00:08:46.780\nNow, sometimes,\nyou'll see a note that'll say auto.\n\n162\n00:08:47.780 --> 00:08:49.080\nIt's pretty rare, but you can do it.\n\n163\n00:08:49.080 --> 00:08:50.370\nIf you put auto in here.\n\n164\n00:08:50.370 --> 00:08:53.790\nLet me go back to this guy's Fstab file.\n\n165\n00:08:54.850 --> 00:08:59.120\nSo if you take a look here,\nthey've identified xfs for those two and\n\n166\n00:08:59.120 --> 00:09:01.990\nthen swapped for the third one,\nso these are all using xfs.\n\n167\n00:09:01.990 --> 00:09:05.710\nIf I take a look at this one,\nit was ext4 on the first two and swap.\n\n168\n00:09:05.710 --> 00:09:08.310\nSo they're identifying\nwhat that filesystem is.\n\n169\n00:09:08.310 --> 00:09:11.710\nIf you put auto, it says, hey,\ngo ahead and mount this, and\n\n170\n00:09:11.710 --> 00:09:12.640\njust do your best guess.\n\n171\n00:09:12.640 --> 00:09:14.460\nTry and figure it out.\n\n172\n00:09:14.460 --> 00:09:17.110\nThat can be a little dangerous,\nbecause if it picks wrong,\n\n173\n00:09:17.110 --> 00:09:18.190\nthe drive will show as corrupted.\n\n174\n00:09:18.190 --> 00:09:21.570\nAnd if it tries to run a filesystem check,\nit can actually do damage.\n\n175\n00:09:21.570 --> 00:09:26.570\nSo I might use auto with a cd-rom drive,\nwhere it's read-only, so\n\n176\n00:09:26.570 --> 00:09:28.250\nit's not going to do any damage to it.\n\n177\n00:09:28.250 --> 00:09:30.510\nBut I won't normally use auto\nwhen I'm mounting a hard drive.\n\n178\n00:09:30.510 --> 00:09:33.560\nSo you will normally tell it what\nyou want that filesystem to be and\n\n179\n00:09:33.560 --> 00:09:36.010\nit's gotta be correct or the drive will\nshow us corrupt and it won't mount.\n\n180\n00:09:38.100 --> 00:09:41.530\nThe next column is the trickiest part,\nall right?\n\n181\n00:09:41.530 --> 00:09:44.700\nThis one most of the time is gonna\nsay this right here, defaults, right?\n\n182\n00:09:44.700 --> 00:09:47.480\nSo on this sent to us box I've\ngot defaults on all those.\n\n183\n00:09:47.480 --> 00:09:50.940\nOn this one I've got defaults\nin the fstat table, all right?\n\n184\n00:09:50.940 --> 00:09:51.790\nNow.\n\n185\n00:09:51.790 --> 00:09:57.580\nWhat you might see here is one or\nmore other options.\n\n186\n00:09:57.580 --> 00:10:00.840\nDefaults actually represents\na number of different options.\n\n187\n00:10:00.840 --> 00:10:05.110\nIf I look at this,\nI can see my root drive here, /,\n\n188\n00:10:05.110 --> 00:10:06.400\nis mounted with this defaults command.\n\n189\n00:10:07.660 --> 00:10:14.060\nIf I run the mount command, and\nlet me just, we'll grap that for 85AB.\n\n190\n00:10:14.060 --> 00:10:16.030\nThat way I just get that one.\n\n191\n00:10:17.160 --> 00:10:19.600\nApparently it's gonna be by\nit's actual drive identifier.\n\n192\n00:10:19.600 --> 00:10:22.545\nWell, we'll just run mount and find it.\n\n193\n00:10:22.545 --> 00:10:24.450\n[LAUGH] One way or\nanother we'll find that one.\n\n194\n00:10:24.450 --> 00:10:27.720\nSo let me find that root\ndrive in my mount list.\n\n195\n00:10:27.720 --> 00:10:30.480\nAnd I'm gonna look in here and\nhunt it down.\n\n196\n00:10:30.480 --> 00:10:31.470\nIt's gonna show up.\n\n197\n00:10:31.470 --> 00:10:32.220\nOh, you know what?\n\n198\n00:10:32.220 --> 00:10:34.700\nSelinux is gonna be in my way on that one,\nso\n\n199\n00:10:34.700 --> 00:10:35.880\nI'm gonna have a hard\ntime finding that one.\n\n200\n00:10:35.880 --> 00:10:39.230\nBut, here, let's just use this\nguy right here as an example.\n\n201\n00:10:39.230 --> 00:10:40.390\nHere's /dev/sdb1 that's mounted.\n\n202\n00:10:40.390 --> 00:10:43.180\nAnd it's mounted as ext4.\n\n203\n00:10:43.180 --> 00:10:45.260\nNow /dev/std1.\n\n204\n00:10:45.260 --> 00:10:48.250\nThat didn't show up in my fstab table.\n\n205\n00:10:48.250 --> 00:10:52.700\nSo all that means it that\nthis is something that was\n\n206\n00:10:52.700 --> 00:10:53.900\nmounted after boot time.\n\n207\n00:10:53.900 --> 00:10:56.150\nI've got a good 20, 25,\nmaybe even 30 things in here.\n\n208\n00:10:57.210 --> 00:10:59.550\nI only had three things in the fstab file.\n\n209\n00:10:59.550 --> 00:11:03.220\nWell, at boot time, those three things\nwere the only things that were mounted.\n\n210\n00:11:03.220 --> 00:11:07.640\nBut then other services and processes\nlike ST Linux in my case is turned on and\n\n211\n00:11:07.640 --> 00:11:09.190\ncreated all sorts of crazy stuff.\n\n212\n00:11:09.190 --> 00:11:10.890\nAnd that all starts populating.\n\n213\n00:11:10.890 --> 00:11:13.460\nYou might see a lot more in your\nmount output then what's actually on\n\n214\n00:11:13.460 --> 00:11:15.200\nthe system, all right?\n\n215\n00:11:15.200 --> 00:11:16.630\nBut look at the options on SDB1.\n\n216\n00:11:16.630 --> 00:11:20.590\nI can guarantee you when I mounted\nthis that I mounted it with defaults.\n\n217\n00:11:20.590 --> 00:11:25.190\nAnd if you look at the default,\nit's rw, relative time,\n\n218\n00:11:25.190 --> 00:11:27.930\nsecurity label, data=ordered.\n\n219\n00:11:27.930 --> 00:11:31.340\nThese are options that\nthe system's applying.\n\n220\n00:11:31.340 --> 00:11:34.220\nAnd when you say defaults,\nthat's going to correspond to\n\n221\n00:11:34.220 --> 00:11:37.980\na set of default options that\nyour Linux distribution uses.\n\n222\n00:11:37.980 --> 00:11:43.130\nMost commonly it's going to\ncorrespond to these guys right here.\n\n223\n00:11:43.130 --> 00:11:45.150\nAnd I'll put these in the show notes for\nyou.\n\n224\n00:11:45.150 --> 00:11:50.530\nBut basically, rw, suid, dev,\nexec, auto, nouser, and async.\n\n225\n00:11:50.530 --> 00:11:53.830\nThese are kinda the main ones\nthat you see on a drive.\n\n226\n00:11:53.830 --> 00:11:56.740\nNow, I wanna walk through\nsome of the main options.\n\n227\n00:11:56.740 --> 00:11:58.740\nThere's a ton of options\nthat are available.\n\n228\n00:11:58.740 --> 00:12:00.360\nIf you pull up the man page for\n\n229\n00:12:00.360 --> 00:12:04.580\nthe mount command, they actually list all\nthe options inside of the mount command.\n\n230\n00:12:04.580 --> 00:12:06.310\nAnd there's a bunch of them.\n\n231\n00:12:06.310 --> 00:12:08.030\nBut most of them we don't\nreally use anymore.\n\n232\n00:12:08.030 --> 00:12:12.010\nThey pertain to systems that are long\ngone or just aren't really necessary.\n\n233\n00:12:12.010 --> 00:12:15.180\nBut these guys right here are the main\noptions that we're going to see.\n\n234\n00:12:15.180 --> 00:12:17.250\nThe first option is auto or no auto.\n\n235\n00:12:18.370 --> 00:12:22.810\nThis determines when I boot the system up,\ndo I want this to mount automatically or\n\n236\n00:12:22.810 --> 00:12:24.220\nnot automatically.\n\n237\n00:12:24.220 --> 00:12:27.600\nIf it's not then someone would have\nto manually mount it later on,\n\n238\n00:12:27.600 --> 00:12:30.190\nand you might ask yourself,\nif you're gonna do it manually,\n\n239\n00:12:30.190 --> 00:12:32.360\nwhy even put it in the fstab table?\n\n240\n00:12:32.360 --> 00:12:35.794\nAnd I'd agree, you know, there's really\nnot a whole lot of point at that point.\n\n241\n00:12:35.794 --> 00:12:37.710\n[LAUGH] Redundant there.\n\n242\n00:12:37.710 --> 00:12:40.790\nThe next one is /user/newuser, all right?\n\n243\n00:12:40.790 --> 00:12:44.080\nDo I want to allow regular users\nto be able to mount this drive?\n\n244\n00:12:44.080 --> 00:12:45.550\nOr do you have to be an admin, or\n\n245\n00:12:45.550 --> 00:12:48.310\nat least or something that\nneed an elevated privileges.\n\n246\n00:12:48.310 --> 00:12:49.700\nThe default is nouser.\n\n247\n00:12:49.700 --> 00:12:51.930\nWe don't want a regular\nusers mounting drives.\n\n248\n00:12:51.930 --> 00:12:53.090\nYou've got to be an admin.\n\n249\n00:12:54.460 --> 00:12:55.890\nThe exact or noexec.\n\n250\n00:12:57.350 --> 00:12:59.990\nAm I allowed to run\nexecutables from that drive?\n\n251\n00:12:59.990 --> 00:13:03.240\nIf I've got a drive that's just gonna\nbe storing data, or maybe it's storing\n\n252\n00:13:03.240 --> 00:13:06.380\nmy web pages or whatever,\nI might wanna mount that as noexec,\n\n253\n00:13:06.380 --> 00:13:09.190\nto stop somebody from throwing binaries\nin there and trying to run them, right?\n\n254\n00:13:09.190 --> 00:13:10.760\nWe can use that as a protection mechanism.\n\n255\n00:13:10.760 --> 00:13:12.550\nNo executable would be allowed\nto run from that drive.\n\n256\n00:13:13.690 --> 00:13:15.270\nYou can also mount it RO, read-only.\n\n257\n00:13:15.270 --> 00:13:18.990\nNow you can read from that drive,\nbut you can't write to it.\n\n258\n00:13:18.990 --> 00:13:20.730\nCD is they default to that.\n\n259\n00:13:20.730 --> 00:13:22.470\nBut you can mount a hard\ndrive read-only too.\n\n260\n00:13:22.470 --> 00:13:26.069\nIt's a great way to make sure that\ndata stays safe and doesn't change.\n\n261\n00:13:26.069 --> 00:13:29.910\nRW, read-write,\nthat's what most of us mount to, right?\n\n262\n00:13:29.910 --> 00:13:31.690\nWe mount things so\nwe can write to them and read from them.\n\n263\n00:13:33.360 --> 00:13:36.890\nSync and async, this is one of those\noptions that almost died away, but\n\n264\n00:13:36.890 --> 00:13:39.360\nnow with SSDs,\nthis has become a lot more prevalent.\n\n265\n00:13:39.360 --> 00:13:42.410\nWhat the sync and async do,\nis they dictate how inputs and\n\n266\n00:13:42.410 --> 00:13:44.120\noutputs are written.\n\n267\n00:13:44.120 --> 00:13:49.110\nWhen you write to a hard drive, you got\nthe kind of choices of how things happen.\n\n268\n00:13:49.110 --> 00:13:51.985\nMost hard drives have memory buffers,\nand thing on them now, so\n\n269\n00:13:51.985 --> 00:13:54.690\nwe need to overwrite, we're actually\nwriting to the memory buffer, and then\n\n270\n00:13:54.690 --> 00:13:57.840\nthey write to the disk in the background,\nand we don't necessarily see that.\n\n271\n00:13:57.840 --> 00:14:02.341\nWell, your operating system gets to make\na choice If I issue a command like copy\n\n272\n00:14:02.341 --> 00:14:06.730\nfile1.txt to file2.txt and\nI press Enter, all right?\n\n273\n00:14:06.730 --> 00:14:09.590\nIt's going to be copying a file and\nwriting a new one.\n\n274\n00:14:09.590 --> 00:14:12.800\nThat command can do one of two things.\n\n275\n00:14:12.800 --> 00:14:15.710\nOne, it can run and wait for\n\n276\n00:14:15.710 --> 00:14:20.740\nthe copy to actually finish before\ncoming back and saying it's done.\n\n277\n00:14:20.740 --> 00:14:21.920\nOr it can run and\n\n278\n00:14:21.920 --> 00:14:25.410\nsay it's done even though the copy might\nstill be happening in the background.\n\n279\n00:14:26.920 --> 00:14:30.310\nThe difference here is whether\nit's asynchronous or synchronous.\n\n280\n00:14:30.310 --> 00:14:33.620\nIf it's asynchronous, we type the command.\n\n281\n00:14:33.620 --> 00:14:34.460\nWe press Enter.\n\n282\n00:14:34.460 --> 00:14:38.540\nIt'll say it's done, even though it might\nstill be running in the background.\n\n283\n00:14:38.540 --> 00:14:41.390\nAll right,\nthat makes the system run faster for us.\n\n284\n00:14:41.390 --> 00:14:45.190\nBut it does put us at a little bit of a\nrisk because we think the command is done\n\n285\n00:14:45.190 --> 00:14:47.770\nwhen in reality it's still kind\nof working in the background.\n\n286\n00:14:47.770 --> 00:14:50.900\nAnd if you were to like power off the\nsystem or whatever, you could lose data.\n\n287\n00:14:50.900 --> 00:14:54.120\nYou could end up with what's called\na dirty read and a dirty write.\n\n288\n00:14:54.120 --> 00:14:56.370\nWith synchronous, that doesn't happen.\n\n289\n00:14:56.370 --> 00:14:57.380\nYou know, you wait for\n\n290\n00:14:57.380 --> 00:15:00.890\nthat write operation to finish\nbefore you move onto the next thing.\n\n291\n00:15:00.890 --> 00:15:04.660\nThat results in slower performance but\nmore reliable data.\n\n292\n00:15:04.660 --> 00:15:06.520\nYou've gotta make a choice on that.\n\n293\n00:15:06.520 --> 00:15:10.770\nThe default for almost every system\nthese days is asynchronous, and\n\n294\n00:15:10.770 --> 00:15:11.770\nyou might say well, wait a minute.\n\n295\n00:15:11.770 --> 00:15:12.670\nThat's crazy talk.\n\n296\n00:15:12.670 --> 00:15:17.270\nWell, the reason is SSDs are so\nfast these days that\n\n297\n00:15:17.270 --> 00:15:19.780\nyou don't really need synchronous\nto get a good guarantee, right?\n\n298\n00:15:19.780 --> 00:15:21.070\nIt's really that fast.\n\n299\n00:15:21.070 --> 00:15:23.780\nBut if you need an absolute guarantee,\nyou can still put it in synchronous mode.\n\n300\n00:15:25.840 --> 00:15:26.610\nDev, nodev.\n\n301\n00:15:27.800 --> 00:15:32.280\nInside of the /dev folder,\nwhich I pulled up a minute ago.\n\n302\n00:15:32.280 --> 00:15:35.680\nIf I look inside of /dev,\nthat's where all my hardware devices are.\n\n303\n00:15:35.680 --> 00:15:36.490\nAll right?\n\n304\n00:15:36.490 --> 00:15:38.060\nWell, if I have another hard drive.\n\n305\n00:15:39.075 --> 00:15:41.611\nSomebody could go in and start to create,\nthese are called block devices.\n\n306\n00:15:41.611 --> 00:15:45.087\nThey can come in and create their own\nblock devices and they could us various\n\n307\n00:15:45.087 --> 00:15:48.193\ndriver exploits and things like\nthat to do all sorts of craziness.\n\n308\n00:15:48.193 --> 00:15:52.233\nSo I might want to prevent the creation\nof block devices on that drive.\n\n309\n00:15:52.233 --> 00:15:55.427\nSo if I mount it with nodev,\nyou can't create block devices on it.\n\n310\n00:15:55.427 --> 00:15:58.456\nSo it's just another security\nmeasure that you may choose to use.\n\n311\n00:15:59.945 --> 00:16:00.890\nQuotas.\n\n312\n00:16:00.890 --> 00:16:04.040\nWe're gonna do an episode on quotas later,\nso I won't spend too much time on it.\n\n313\n00:16:04.040 --> 00:16:07.160\nBut if we wanna limit the amount\nof space people can consume,\n\n314\n00:16:07.160 --> 00:16:08.780\nwe can limit it based on user or group.\n\n315\n00:16:08.780 --> 00:16:09.600\nAnd if we're gonna do that,\n\n316\n00:16:09.600 --> 00:16:11.990\nyou turn on the quotas right\nhere in the drive options.\n\n317\n00:16:13.890 --> 00:16:15.370\nThen we got SUID.\n\n318\n00:16:15.370 --> 00:16:19.140\nNow, we haven't really talked about SUID\nin our other episodes, I don't think.\n\n319\n00:16:19.140 --> 00:16:21.080\nSo it's a permissions value.\n\n320\n00:16:21.080 --> 00:16:25.300\nWhen a program runs,\nit normally runs as the person running it.\n\n321\n00:16:25.300 --> 00:16:29.330\nSo if I run a script that I wrote,\nit's gonna run as me.\n\n322\n00:16:29.330 --> 00:16:31.710\nIf Daniel runs my script,\nit's gonna run as him.\n\n323\n00:16:32.900 --> 00:16:38.130\nBut, what if I want the script to always\nrun as me even if Daniel runs it?\n\n324\n00:16:38.130 --> 00:16:41.050\nI want Daniel to be able to do\nsomething and have it run as me.\n\n325\n00:16:41.050 --> 00:16:45.170\nWell, an easy way to do that\nis to use SetUID or SUID.\n\n326\n00:16:45.170 --> 00:16:50.790\nAnd we can flag that script so that it\nalways runs as the owner of the script and\n\n327\n00:16:50.790 --> 00:16:52.370\nnow if I run that script, it runs as me.\n\n328\n00:16:52.370 --> 00:16:54.960\nIf Daniel runs it, it runs as me also.\n\n329\n00:16:54.960 --> 00:16:59.170\nNow, that's a little bit dangerous because\nif he has write permission of the script,\n\n330\n00:16:59.170 --> 00:17:02.220\nhe can then add all sorts of stuff\nto it and it would run as me, right?\n\n331\n00:17:02.220 --> 00:17:04.090\nSo, SetUID is a little dangerous and\n\n332\n00:17:04.090 --> 00:17:07.060\nthey recommend you don't use\nunless you absolutely have to.\n\n333\n00:17:07.060 --> 00:17:09.040\nSo we can disable that.\n\n334\n00:17:09.040 --> 00:17:12.860\nIf you have SUID set as an option,\nyou can use it on that drive.\n\n335\n00:17:12.860 --> 00:17:17.090\nIf it's not set,\nthen that value's ignored, and SetUID and\n\n336\n00:17:17.090 --> 00:17:20.240\nSetGID should be the group,\nso get user and group.\n\n337\n00:17:20.240 --> 00:17:24.080\nThose would be ignored on the system,\nregardless, if you don't add this option.\n\n338\n00:17:25.340 --> 00:17:26.670\nAnd then, lastly, there's defaults, and\n\n339\n00:17:26.670 --> 00:17:31.200\nyou'll see what those defaults typically\nare, that we mount it read write.\n\n340\n00:17:31.200 --> 00:17:33.430\nWe do allow SUID.\n\n341\n00:17:33.430 --> 00:17:35.410\nWe allow blocked devices.\n\n342\n00:17:35.410 --> 00:17:37.260\nWe allow executables.\n\n343\n00:17:37.260 --> 00:17:39.520\nWe auto mount at boot time.\n\n344\n00:17:39.520 --> 00:17:40.740\nWe don't let users mount.\n\n345\n00:17:40.740 --> 00:17:42.170\nWe require admins to mount.\n\n346\n00:17:42.170 --> 00:17:44.140\nAnd we run async by default.\n\n347\n00:17:44.140 --> 00:17:47.230\nThat's pretty common for\nmost Linux distros that are out there.\n\n348\n00:17:47.230 --> 00:17:50.150\nSo, you can go in and\nchange that behavior if you want, but\n\n349\n00:17:50.150 --> 00:17:51.769\nthese are kind of the defaults.\n\n350\n00:17:51.769 --> 00:17:54.589\nSo when we mount something and\njust say default, well,\n\n351\n00:17:54.589 --> 00:17:58.990\nthat's exactly what we're doing is just\nbasically setting all those options.\n\n352\n00:17:58.990 --> 00:18:00.690\nBut here it just says default.\n\n353\n00:18:01.780 --> 00:18:03.725\nOr we can put the other ones\njust separated by a comma.\n\n354\n00:18:03.725 --> 00:18:08.079\nYou put commas in to\nseparate each item in there.\n\n355\n00:18:08.079 --> 00:18:11.600\nAll right, the next option Is\none that's kinda antiquated and\n\n356\n00:18:11.600 --> 00:18:12.937\nmost of us just ignore.\n\n357\n00:18:12.937 --> 00:18:14.950\nSee this column of zeros here?\n\n358\n00:18:14.950 --> 00:18:16.885\nThis is called the dump column.\n\n359\n00:18:16.885 --> 00:18:22.100\nAnd dump is actually a Unix binary that\nwould allow you to backup some drives.\n\n360\n00:18:22.100 --> 00:18:24.080\nI don't even know if it's installed.\n\n361\n00:18:24.080 --> 00:18:26.880\nYeah, it's not even installed\non machines anymore.\n\n362\n00:18:26.880 --> 00:18:28.960\nBut it would let you do backups to drives.\n\n363\n00:18:28.960 --> 00:18:33.230\nAnd the way dump worked was when you\nrebooted the system, it would boot up, and\n\n364\n00:18:33.230 --> 00:18:38.390\nany partition with a one right here,\nit would say, oh I need to back that up.\n\n365\n00:18:38.390 --> 00:18:42.350\nBut if there was a zero, it would say,\ndon't need to back it up, it's fine.\n\n366\n00:18:42.350 --> 00:18:45.010\nSo that was how it knew whether or\nnot to do a backup.\n\n367\n00:18:45.010 --> 00:18:47.170\nWell, if you don't use the dump program.\n\n368\n00:18:47.170 --> 00:18:48.050\nIf it's not even installed,\n\n369\n00:18:48.050 --> 00:18:51.820\nlike on my system then that\nvalue means absolutely nothing.\n\n370\n00:18:51.820 --> 00:18:53.100\nIt doesn't do anything.\n\n371\n00:18:53.100 --> 00:18:54.269\nBut it'll be a zero or a one.\n\n372\n00:18:54.269 --> 00:18:56.860\nYou'll see mine are all zeros\nbecause I don't use dump.\n\n373\n00:18:56.860 --> 00:18:59.810\nWhat do I care?\nI just leave it as zeroes.\n\n374\n00:18:59.810 --> 00:19:03.610\nNow the last one is the most important\nin terms of filesystem health.\n\n375\n00:19:04.920 --> 00:19:10.490\nWhen your system boots up, it determines\nwhether or not it should run a filesystem\n\n376\n00:19:10.490 --> 00:19:13.022\ncheck on the hard drive, whether it\nshould check that drive for errors.\n\n377\n00:19:13.022 --> 00:19:17.210\nErrors happen, they happen if\na drive starts to physically fail.\n\n378\n00:19:17.210 --> 00:19:20.320\nBut sometimes you just get\ncolliding writes or whatever and\n\n379\n00:19:20.320 --> 00:19:21.980\nyou can end up with some disk corruption.\n\n380\n00:19:21.980 --> 00:19:23.300\nIt does happen.\n\n381\n00:19:23.300 --> 00:19:25.888\nSo the system will\nroutinely check the drives.\n\n382\n00:19:25.888 --> 00:19:29.215\nAll right, this last one is\nwhat determines whether or\n\n383\n00:19:29.215 --> 00:19:30.595\nnot we do that check.\n\n384\n00:19:30.595 --> 00:19:32.385\nSo at boot time, it looks here.\n\n385\n00:19:32.385 --> 00:19:36.235\nAnd if it sees a zero,\nit's not gonna do a check.\n\n386\n00:19:36.235 --> 00:19:39.855\nBut if it sees a one or\na two, it will do a check.\n\n387\n00:19:39.855 --> 00:19:42.160\nAll right, now what's\nthe difference between one and two?\n\n388\n00:19:42.160 --> 00:19:43.550\nPriority, right?\n\n389\n00:19:43.550 --> 00:19:46.210\nThe ones that are marked with\nthe one get checked first.\n\n390\n00:19:46.210 --> 00:19:48.590\nThe ones with the two get checked second,\nall right?\n\n391\n00:19:48.590 --> 00:19:52.430\nThe idea is you want your boot,\nyou want your system partition,\n\n392\n00:19:52.430 --> 00:19:54.530\nyour root partition,\nyou want those guys first.\n\n393\n00:19:54.530 --> 00:19:57.060\nAnd then other things like your\nhome directories and so on,\n\n394\n00:19:57.060 --> 00:20:00.670\nif those are mounted, you do those second\nbecause the boot can continue on while\n\n395\n00:20:00.670 --> 00:20:02.560\nthose are still checking, right?\n\n396\n00:20:02.560 --> 00:20:04.140\nSo it's just setting priority.\n\n397\n00:20:04.140 --> 00:20:08.110\nOnes get checked first,\ntwos get checked second, and that's it.\n\n398\n00:20:08.110 --> 00:20:10.734\nSo when you start looking at\none of those fstab tables,\n\n399\n00:20:10.734 --> 00:20:13.920\nYou might see a mixture of ones and\nzeros and twos over here.\n\n400\n00:20:13.920 --> 00:20:17.070\nIf you're mounting a drive as read only,\nyou probably don't need to do a file\n\n401\n00:20:17.070 --> 00:20:19.640\nsystem check on it cause\nyou're not writing to it, so\n\n402\n00:20:19.640 --> 00:20:22.070\nyou might choose to leave that as zero,\ndon't do any checks.\n\n403\n00:20:22.070 --> 00:20:24.110\nBut otherwise, it will use these\nvalues to figure that out.\n\n404\n00:20:24.110 --> 00:20:26.320\nAnd they call that a pass column.\n\n405\n00:20:26.320 --> 00:20:29.800\nSo, it determines which ones they\nneed to do a file system pass on.\n\n406\n00:20:29.800 --> 00:20:33.250\nSo those are all different things\nthat we're going to see inside of\n\n407\n00:20:33.250 --> 00:20:34.230\nthat fstab file.\n\n408\n00:20:34.230 --> 00:20:37.720\nAnd if we want our drives to\nbe present after a reboot,\n\n409\n00:20:37.720 --> 00:20:40.960\nwe need to add them in there.\n\n410\n00:20:40.960 --> 00:20:42.140\nLet's take a look at that system.\n\n411\n00:20:43.320 --> 00:20:46.830\nWhen I want to mount them, remember I said\nthere are five different ways we could\n\n412\n00:20:46.830 --> 00:20:51.239\nidentify them, the device name,\nthe UUID, the label,\n\n413\n00:20:51.239 --> 00:20:56.528\nthe GPT UUID and the GPT label, all right?\n\n414\n00:20:56.528 --> 00:20:59.000\nIf you don't know them, I don't blame you.\n\n415\n00:20:59.000 --> 00:21:00.690\nI usually know the device name,\nand that's it.\n\n416\n00:21:00.690 --> 00:21:02.500\nThe others, I don't know.\n\n417\n00:21:02.500 --> 00:21:06.270\nBut we can find them out pretty easy.\n\n418\n00:21:06.270 --> 00:21:10.990\nIf you're not using GPT then\nyou can use the lsblk command.\n\n419\n00:21:10.990 --> 00:21:13.540\nThat's going to list your block devices,\nright?\n\n420\n00:21:13.540 --> 00:21:14.740\nLsblk.\n\n421\n00:21:14.740 --> 00:21:17.900\nIf you run it by itself,\nit lists your block devices and\n\n422\n00:21:17.900 --> 00:21:21.880\nyou'll see where they're kind\nof mounted to and so on.\n\n423\n00:21:21.880 --> 00:21:25.960\nBut the default way the command runs,\nit just shows the device name, right,\n\n424\n00:21:25.960 --> 00:21:30.290\nwhich we probably already knew,\nslash dev, slash sda1, or whatever and\n\n425\n00:21:30.290 --> 00:21:31.220\nyou see the mount point.\n\n426\n00:21:31.220 --> 00:21:32.360\nThat's nice.\n\n427\n00:21:32.360 --> 00:21:35.280\nBut I want labels and UUID's.\n\n428\n00:21:35.280 --> 00:21:43.760\nSo if you run lsblk- f that's where\nyou can see the label and the UUID.\n\n429\n00:21:43.760 --> 00:21:46.350\nSo now I get everything, right?\n\n430\n00:21:46.350 --> 00:21:48.220\nI get the device.\n\n431\n00:21:48.220 --> 00:21:50.170\nI get the label name.\n\n432\n00:21:50.170 --> 00:21:50.960\nThe UUID name.\n\n433\n00:21:50.960 --> 00:21:53.510\nThis is all non GPT stuff, okay.\n\n434\n00:21:54.520 --> 00:21:58.540\nIf I'm using GPT,\nthen I need to use a different command.\n\n435\n00:21:58.540 --> 00:22:01.640\nAnd we actually have the blkid,\nor Block ID, command.\n\n436\n00:22:01.640 --> 00:22:05.700\nAnd if you're on blkid, it'll show\nyou basically the same thing, but for\n\n437\n00:22:05.700 --> 00:22:07.050\nGPT stuff.\n\n438\n00:22:07.050 --> 00:22:08.738\nNow, I ran it and I got nothing.\n\n439\n00:22:08.738 --> 00:22:10.530\nWell, I'm not using GPT on this system.\n\n440\n00:22:10.530 --> 00:22:12.620\nLet me switch over to one that is.\n\n441\n00:22:12.620 --> 00:22:17.330\nWhoops, not that, this guy.\n\n442\n00:22:17.330 --> 00:22:19.600\nSo this is my CentOS 6.6 system.\n\n443\n00:22:19.600 --> 00:22:22.400\nAnd it is running GPT drives.\n\n444\n00:22:22.400 --> 00:22:29.630\nSo if I go in here, and I do a lsblk -f,\nI see my drives, right?\n\n445\n00:22:29.630 --> 00:22:30.490\nThere they are.\n\n446\n00:22:30.490 --> 00:22:34.090\nBut notice how they have no\nfilesystem type, no label, no UUID.\n\n447\n00:22:34.090 --> 00:22:36.650\nIt's because they're GPT.\n\n448\n00:22:36.650 --> 00:22:41.130\nIf I were on blkid, right,\nto pull the Block IDs,\n\n449\n00:22:41.130 --> 00:22:45.200\nnow I see each drive,\ntheir UUID and label.\n\n450\n00:22:45.200 --> 00:22:48.630\nBut be careful,\nthat's not a regular UUID or label,\n\n451\n00:22:48.630 --> 00:22:51.930\nthat's a GPT UUID or a GPT label.\n\n452\n00:22:51.930 --> 00:22:56.270\nAnd that does make a difference cuz if\nwe wanna add those to our fstab file,\n\n453\n00:22:57.470 --> 00:23:02.250\nwe have to call those part label equals\nefi or part label equals sales or\n\n454\n00:23:02.250 --> 00:23:05.530\nwhatever, or part UUID if it's GPT.\n\n455\n00:23:05.530 --> 00:23:07.970\nYou gotta add that little part\nkeyword to the beginning.\n\n456\n00:23:09.060 --> 00:23:11.935\nSo, that's kind of important but those\nare the ways we can find them pretty easy.\n\n457\n00:23:11.935 --> 00:23:18.260\nBlkid and lsblk-f those two.\n\n458\n00:23:18.260 --> 00:23:21.380\nSo once we have that information,\nwe can add them to our table, and\n\n459\n00:23:21.380 --> 00:23:22.980\nif we were to reboot,\nthey would be present.\n\n460\n00:23:22.980 --> 00:23:25.350\nSo, let me show you what I mean.\n\n461\n00:23:25.350 --> 00:23:26.420\nWe'll take this system here.\n\n462\n00:23:26.420 --> 00:23:29.040\nAll right,\nI guess we can just do this guy.\n\n463\n00:23:29.040 --> 00:23:30.730\nSo, we'll take this one.\n\n464\n00:23:30.730 --> 00:23:35.360\nFirst off, let's say your drives\ndon't have a label, and that happens.\n\n465\n00:23:35.360 --> 00:23:39.430\nWhen you create these, like if you follow\nall the instructions from our LDM episode,\n\n466\n00:23:39.430 --> 00:23:41.300\nyour drives don't have\na label when you're done.\n\n467\n00:23:41.300 --> 00:23:44.380\nOr just our regular format episode,\nyou end up with a label.\n\n468\n00:23:44.380 --> 00:23:48.657\nIf you wanna add a label,\nyou can use the tune2fs command.\n\n469\n00:23:48.657 --> 00:23:53.879\nSo if we run tune2fs -L and\nthen a name, right?\n\n470\n00:23:53.879 --> 00:23:59.816\nSo I might wanna call sda3,\nI might want to call that one Root.r And\n\n471\n00:23:59.816 --> 00:24:07.210\nso I can say, tune2fs-lroot/dev/sda3,\nand it's gonna give it that label.\n\n472\n00:24:07.210 --> 00:24:11.730\nNow, I made an error because my\nroot drive is running and loaded,\n\n473\n00:24:11.730 --> 00:24:13.320\nso it's not gonna let me mess with it.\n\n474\n00:24:13.320 --> 00:24:16.160\nI would have to mount it read only and\nthen apply the label and\n\n475\n00:24:16.160 --> 00:24:18.660\nremount it, root's a little bit special.\n\n476\n00:24:18.660 --> 00:24:20.420\nBut if I take one of these other drives,\n\n477\n00:24:20.420 --> 00:24:24.990\nlike SDD1 is called marketing I\ncould always take that one, and\n\n478\n00:24:24.990 --> 00:24:28.040\nI could change its name to\nsomething else like Marketing2.\n\n479\n00:24:28.040 --> 00:24:30.940\nAnd see how it took it there?\n\n480\n00:24:30.940 --> 00:24:33.342\nAnd if I pull up my list,\n\n481\n00:24:33.342 --> 00:24:38.960\nright there, I can see that it's now\ncalled Marketing2 instead of Marketing1.\n\n482\n00:24:38.960 --> 00:24:41.408\nSo it's pretty easy to change\nthe label names on these things.\n\n483\n00:24:41.408 --> 00:24:44.830\nIf you wanna make it something different,\nyou just have to do it, right?\n\n484\n00:24:44.830 --> 00:24:46.790\nBut if you got a lot of drives,\nit's easy to get them mixed up and\n\n485\n00:24:46.790 --> 00:24:47.520\nforget what's what.\n\n486\n00:24:47.520 --> 00:24:48.600\nSo it is kind of nice to have a label.\n\n487\n00:24:48.600 --> 00:24:53.810\nAnd then you can mount based on the label,\ntoo, which is kind of cool, right?\n\n488\n00:24:53.810 --> 00:24:55.990\nBut I want these guys, accounting, sales,\n\n489\n00:24:55.990 --> 00:24:59.220\nmarketing, I want them to\nbe present when I reboot.\n\n490\n00:24:59.220 --> 00:25:02.680\nSo I can go and add them, and\nI can add them based on their UUID or\n\n491\n00:25:02.680 --> 00:25:06.550\nwhatever it is that I want to make sure\nthat my system gets everything in place.\n\n492\n00:25:06.550 --> 00:25:08.039\nAnd so that's kind of what I'm gonna do.\n\n493\n00:25:08.039 --> 00:25:13.146\nI'm gonna take my terminal here and\nlet me just open up a new\n\n494\n00:25:13.146 --> 00:25:18.150\nterminal window, and\nI'm going to edit /etc/fstab,\n\n495\n00:25:18.150 --> 00:25:22.840\noops, I don't need that dot, there we go.\n\n496\n00:25:22.840 --> 00:25:30.160\nAnd I'm gonna go in here, I'm gonna\nadd entries for these other drives.\n\n497\n00:25:30.160 --> 00:25:34.540\nAnd you can see where right now everything\nthat's in my system's been done as UUIDs.\n\n498\n00:25:34.540 --> 00:25:35.730\nSo maybe I wanna continue that,\n\n499\n00:25:35.730 --> 00:25:38.330\nI'll continue to use these\nUUIDs on this system.\n\n500\n00:25:38.330 --> 00:25:42.620\nAnd that means I need to come back\nhere and get those UUIDs for each one.\n\n501\n00:25:42.620 --> 00:25:47.349\nSo if I wanna mount accounting\nto /mnt/accounting,\n\n502\n00:25:47.349 --> 00:25:51.680\nI would copy that UUID and\nI would paste it in here.\n\n503\n00:25:53.480 --> 00:25:57.030\nSo I'll just throw that one in and then I\nwill tell it where I wanna mount it to.\n\n504\n00:25:57.030 --> 00:25:58.860\nAll right,\nI want to mount that to Accounting and\n\n505\n00:25:58.860 --> 00:26:00.550\nthen I would tell it the file system.\n\n506\n00:26:00.550 --> 00:26:04.160\nAnd my file system, if you look\nback here for Accounting, is ext4.\n\n507\n00:26:04.160 --> 00:26:07.430\nOr I could I could roll the dice and\nput auto.\n\n508\n00:26:07.430 --> 00:26:09.262\n>> Mmhmm.\n>> That's always fun.\n\n509\n00:26:09.262 --> 00:26:12.470\nAll right, and\nI'll use default options, and\n\n510\n00:26:12.470 --> 00:26:16.140\nthen I can specify whether we\nwant checks and all that stuff.\n\n511\n00:26:16.140 --> 00:26:18.930\nAnd then I can go through and\nstart to add each of the other ones.\n\n512\n00:26:18.930 --> 00:26:21.370\nDoing the same basic thing, right?\n\n513\n00:26:21.370 --> 00:26:25.931\nEach one just kind of sticking it in as\nfar as which one's we're gonna mount.\n\n514\n00:26:25.931 --> 00:26:29.484\nYou may go into do sales next,\nI'll get that one's UUID.\n\n515\n00:26:29.484 --> 00:26:33.975\nWhoops, and then we'll run from there and\n\n516\n00:26:33.975 --> 00:26:37.980\nit's not such a big deal, right?\n\n517\n00:26:37.980 --> 00:26:40.390\nWhat was that, sales?\n\n518\n00:26:40.390 --> 00:26:43.090\nAll right, so we'll make that guy ext.\n\n519\n00:26:43.090 --> 00:26:43.708\nWhat was sales?\n\n520\n00:26:43.708 --> 00:26:47.110\nThat's ext, I know one of mine is EXT3 so\nI gotta remember...\n\n521\n00:26:47.110 --> 00:26:47.850\nYou might mix and\n\n522\n00:26:47.850 --> 00:26:50.730\nmatch your file systems, that's something\nyou have to keep an eye out for.\n\n523\n00:26:50.730 --> 00:26:54.070\nIf you get the file system wrong,\nit's not going to work so well.\n\n524\n00:26:54.070 --> 00:26:54.640\nLet me tell you.\n\n525\n00:26:56.060 --> 00:26:59.670\nAll right, and then my last one\nwhich is good old Marketing.\n\n526\n00:26:59.670 --> 00:27:03.550\nSo, we'll grab that one's UUID and\nwe're almost done.\n\n527\n00:27:04.790 --> 00:27:11.960\nAnd so we'll throw that one in And\nthis one is /mnt/Marketing.\n\n528\n00:27:11.960 --> 00:27:13.790\nAnd those are just the folders\nwhere I want it mounted.\n\n529\n00:27:13.790 --> 00:27:14.890\nWe could mount it to anywhere.\n\n530\n00:27:14.890 --> 00:27:22.000\nAnd I'll set that one as ext3 and\ngood old default and there we go.\n\n531\n00:27:22.000 --> 00:27:24.840\nAll right, so now I'm pretty well set.\n\n532\n00:27:24.840 --> 00:27:27.360\nI'm just gonna quick review that\n\n533\n00:27:27.360 --> 00:27:30.200\nfstab file real quick to\nmake sure everything's good.\n\n534\n00:27:30.200 --> 00:27:31.680\nI've formatted mine, nice and neat.\n\n535\n00:27:31.680 --> 00:27:33.820\nYou don't have to,\nit just needs a space in between these.\n\n536\n00:27:33.820 --> 00:27:35.310\nYou don't have to tab it out all nice and\neven, but\n\n537\n00:27:35.310 --> 00:27:37.620\nit sure does make it easier to read.\n\n538\n00:27:37.620 --> 00:27:41.260\nNow that said, if I reboot,\nthose drives will be present.\n\n539\n00:27:41.260 --> 00:27:43.440\nAnd if I wanna force a file system check,\n\n540\n00:27:43.440 --> 00:27:46.370\nI can just go and add a one,\noevr in that file system check or\n\n541\n00:27:46.370 --> 00:27:49.610\na two, and they'll know to go ahead and\ndo the check and let that happen.\n\n542\n00:27:49.610 --> 00:27:51.610\nWe'll see how to manually\nrun that check in part two.\n\n543\n00:27:51.610 --> 00:27:54.620\nBut I'm gonna go ahead and do a reboot.\n\n544\n00:27:54.620 --> 00:27:59.940\nAnd when it reboots, assuming I didn't\nscrew up my UUIDs, right, it should\n\n545\n00:27:59.940 --> 00:28:04.280\nfind those drives, automatically mount\nthem and I should be back in business.\n\n546\n00:28:04.280 --> 00:28:07.530\n>> Now Don, you did say that you can\nmix and match for using label or\n\n547\n00:28:07.530 --> 00:28:13.770\nusing the device, using the UUID,\nGUID, or the part of that as well.\n\n548\n00:28:13.770 --> 00:28:16.420\nIs there any benefit to\nusing one over the other, or\n\n549\n00:28:16.420 --> 00:28:18.570\nis it just basically pick your poison?\n\n550\n00:28:18.570 --> 00:28:20.200\n>> Well, for\nthe most part it's pick your poison.\n\n551\n00:28:20.200 --> 00:28:24.050\nIf you do a device name or\na UUID those are the two best, right?\n\n552\n00:28:24.050 --> 00:28:26.240\nThose are the ones that I usually use.\n\n553\n00:28:26.240 --> 00:28:29.130\nThe labels,\nwhile the labels are easier, right?\n\n554\n00:28:29.130 --> 00:28:31.170\nYou're gonna say label equals sales.\n\n555\n00:28:31.170 --> 00:28:34.470\nThat's a heck of a lot easier\nthan let me go get the UUID or\n\n556\n00:28:34.470 --> 00:28:37.290\nlet me go get the device name,\nlabel equals marketing, right?\n\n557\n00:28:37.290 --> 00:28:38.870\nIt's so much easier.\n\n558\n00:28:38.870 --> 00:28:42.670\nBut there is no duplicate\nchecking in labels.\n\n559\n00:28:42.670 --> 00:28:46.180\nI could have five volumes all\nwith the same label name, right?\n\n560\n00:28:46.180 --> 00:28:50.240\nSo that opens you up for\nthe possibility of an error.\n\n561\n00:28:50.240 --> 00:28:52.480\nMaybe you've got some removable\nmedia like a USB drive,\n\n562\n00:28:52.480 --> 00:28:54.360\nand you just happen to have\ntwo with the same name.\n\n563\n00:28:54.360 --> 00:28:58.270\nAnd if they're both connected at the same\ntime, which one's gonna get mounted?\n\n564\n00:28:58.270 --> 00:29:00.000\nWhichever one comes first\nis gonna get mounted,\n\n565\n00:29:00.000 --> 00:29:00.990\nthe other one's not gonna get mounted.\n\n566\n00:29:00.990 --> 00:29:02.960\nSo, you kind of open yourself up to doubt.\n\n567\n00:29:02.960 --> 00:29:06.550\nSo I don't like to use labels,\nI don't normally even label my drives,\n\n568\n00:29:06.550 --> 00:29:08.840\nto be honest with you.\n\n569\n00:29:08.840 --> 00:29:10.330\nBut using the device name,\n\n570\n00:29:10.330 --> 00:29:13.770\nusing the UUID, those are always safe,\nthose you don't have to sweat.\n\n571\n00:29:13.770 --> 00:29:17.020\n>> Much more unique\nidentifier than to allow for\n\n572\n00:29:17.020 --> 00:29:18.160\nnone of those mistakes obviously.\n\n573\n00:29:18.160 --> 00:29:19.810\nYou're probably not gonna type those in,\n\n574\n00:29:19.810 --> 00:29:23.075\nyou're gonna be cutting and\npasting them into the document, itself.\n\n575\n00:29:23.075 --> 00:29:23.840\n>> Hm-hm.\nBut\n\n576\n00:29:23.840 --> 00:29:26.440\ngonna keep you away from having\nany of those duplications.\n\n577\n00:29:26.440 --> 00:29:27.510\n>> Yeah, absolutely.\n\n578\n00:29:27.510 --> 00:29:31.208\nYeah, UUIDs are neat, cuz they even\nsurvive having the device name change.\n\n579\n00:29:31.208 --> 00:29:34.980\nSo, if UDIV, for whatever reason,\nassigns you a new name or\n\n580\n00:29:34.980 --> 00:29:39.360\nyou move that drive to another physical\nserver, it actually preserves the UUID.\n\n581\n00:29:39.360 --> 00:29:41.760\nIt stays the same,\nwhereas the device name might change.\n\n582\n00:29:41.760 --> 00:29:45.850\nSo, that's why you see a lot of\nsystems use UUIDs by default now.\n\n583\n00:29:45.850 --> 00:29:49.194\nBut I'm just gonna double check,\nso in my fstab,\n\n584\n00:29:49.194 --> 00:29:54.527\nif I look I can see all of those guys are\nstill there, and if I run a mount command,\n\n585\n00:29:54.527 --> 00:29:59.386\nand I'm just gonna grab for mnt, and\nI can see marketing, accounting,\n\n586\n00:29:59.386 --> 00:30:03.158\nand sales are all mounted,\nand up and running, right?\n\n587\n00:30:03.158 --> 00:30:04.847\nSo they're all healthy, they're happy, and\n\n588\n00:30:04.847 --> 00:30:08.030\nthey're ready to rock right here at boot\ntime, cuz they were in that file today.\n\n589\n00:30:08.030 --> 00:30:09.220\n>> That is awesome stuff, Don.\n\n590\n00:30:09.220 --> 00:30:12.610\nThis is the meat and\npotatoes of Linux administration.\n\n591\n00:30:12.610 --> 00:30:14.710\nThis is stuff you're\nactually going to be doing,\n\n592\n00:30:14.710 --> 00:30:18.800\nprobably quite a bit as you work with\nLinux through your time with that.\n\n593\n00:30:18.800 --> 00:30:21.800\nThat being said, there is a whole lot\nmore and we do have a part 2 coming up.\n\n594\n00:30:21.800 --> 00:30:25.170\nSo check that out as soon\nas it's available, as well.\n\n595\n00:30:25.170 --> 00:30:27.400\nThat being said,\nit looks like we've wrapped up yet\n\n596\n00:30:27.400 --> 00:30:29.770\nanother episode here at ITProTV.\n\n597\n00:30:29.770 --> 00:30:31.000\nSo signing off.\n\n598\n00:30:31.000 --> 00:30:32.850\nI guess I've been your host, Daniel Lowry.\n\n599\n00:30:32.850 --> 00:30:35.150\n>> [LAUGH] And\nI guess I've been Don Pezet.\n\n600\n00:30:35.150 --> 00:30:36.499\n>> We'll see you next time.\n\n601\n00:30:36.499 --> 00:30:42.460\n[MUSIC]\n\n",
          "vimeoId": "131129587"
        },
        {
          "description": null,
          "length": "1590",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-4-filesystem_health_pt2-061715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-4-filesystem_health_pt2-061715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-3-4-filesystem_health_pt2-061715-1-sm.jpg",
          "title": "Filesystem Health Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.414\n[MUSIC]\n\n2\n00:00:10.414 --> 00:00:11.580\nAll right, greetings everyone.\n\n3\n00:00:11.580 --> 00:00:15.112\nAnd welcome to another\nfantastic episode of ITProTV.\n\n4\n00:00:15.112 --> 00:00:18.860\nI'm your host, Daniel Lowry and here with\nme today is none other than Don Pezet.\n\n5\n00:00:18.860 --> 00:00:20.060\nHow's it going, Don?\n\n6\n00:00:20.060 --> 00:00:23.130\n>> I'm doing great, Daniel, and\nI'm excited to jump back into another\n\n7\n00:00:23.130 --> 00:00:27.490\npart two, right, another action-packed\nadventure, conclusion, whatever.\n\n8\n00:00:27.490 --> 00:00:29.096\n>> Thrills, chills and\nbone-crunching spills.\n\n9\n00:00:29.096 --> 00:00:30.610\n[LAUGH]\n>> [LAUGH] In part one,\n\n10\n00:00:30.610 --> 00:00:34.490\nwe started talking about file system help,\nand we really focused more on\n\n11\n00:00:34.490 --> 00:00:37.830\njust making sure our file system was\nmounted when we booted up, right, and\n\n12\n00:00:37.830 --> 00:00:39.100\na couple of basic things.\n\n13\n00:00:39.100 --> 00:00:42.840\nIn this episode, we're gonna talk about\nlooking for errors on those drives,\n\n14\n00:00:42.840 --> 00:00:46.230\nand keeping them clean and healthy, and\nsome of the different conversions and\n\n15\n00:00:46.230 --> 00:00:47.740\nmigrations that we can do.\n\n16\n00:00:47.740 --> 00:00:50.700\nThere's a couple of different tools\nthat are out there that can be\n\n17\n00:00:50.700 --> 00:00:53.350\nreally useful in maintaining your drives.\n\n18\n00:00:53.350 --> 00:00:53.850\n>> Yeah.\nThat's one\n\n19\n00:00:53.850 --> 00:00:55.110\nthing I really like about Linux.\n\n20\n00:00:55.110 --> 00:00:59.700\nThey give you such a variety of\napplications and software and things that,\n\n21\n00:00:59.700 --> 00:01:04.490\nbasically those little tools that come\nbundled into the Linux operating system\n\n22\n00:01:04.490 --> 00:01:09.140\nitself that give you a vast\narray of abilities to work with.\n\n23\n00:01:09.140 --> 00:01:10.230\nYour file systems, your program,\n\n24\n00:01:10.230 --> 00:01:13.670\na bunch of stuff, whereas, normally you\nhave to get a bunch of third-party stuff.\n\n25\n00:01:13.670 --> 00:01:14.565\nAnd you could still do that.\n\n26\n00:01:14.565 --> 00:01:17.410\n>> Mm-hm.\n>> But having that built into the OS\n\n27\n00:01:17.410 --> 00:01:18.930\nout of the gate, that's a real help.\n\n28\n00:01:20.190 --> 00:01:21.760\n>> Now one of the things\nwe have to watch for\n\n29\n00:01:21.760 --> 00:01:25.520\non our disks is how much disk\nutilization we got, right?\n\n30\n00:01:25.520 --> 00:01:28.006\nRunning out of hard drive space is\nsomething that happens [LAUGH] less and\n\n31\n00:01:28.006 --> 00:01:30.502\nless frequently nowadays as the large\ndrives get really inexpensive.\n\n32\n00:01:30.502 --> 00:01:34.888\nBut when you start partitioning your drive\nout and creating these smaller volumes,\n\n33\n00:01:34.888 --> 00:01:37.210\nyou can run out of hard drive space.\n\n34\n00:01:37.210 --> 00:01:40.545\nSo, knowing that's [LAUGH] happening\nbefore it actually occurs is kind of\n\n35\n00:01:40.545 --> 00:01:41.200\na nice thing.\n\n36\n00:01:41.200 --> 00:01:44.860\nAnd so we got a neat little command that,\nwhich is the DF Command.\n\n37\n00:01:44.860 --> 00:01:47.440\nSo, I've got a Linux box\npulled up right here and\n\n38\n00:01:47.440 --> 00:01:49.820\nif I just wanna see how\nfull my drives are or\n\n39\n00:01:49.820 --> 00:01:54.690\nhow empty my drives are, I can run df and\nit will give me the information.\n\n40\n00:01:54.690 --> 00:01:58.250\nNow, it lists it all by mount point,\nright?\n\n41\n00:01:58.250 --> 00:02:02.560\nSo, you might have several volumes\nall mounted inside of your hierarchy,\n\n42\n00:02:02.560 --> 00:02:04.020\nyou might just have a handful.\n\n43\n00:02:04.020 --> 00:02:08.400\nBut I can see like for me I got these\nsales, marketing, accounting, drives.\n\n44\n00:02:08.400 --> 00:02:10.060\nAnd they're all different sizes.\n\n45\n00:02:10.060 --> 00:02:14.000\nIf we look at the amount of blocks\nin each one, how many are used and\n\n46\n00:02:14.000 --> 00:02:15.070\nhow many are available?\n\n47\n00:02:15.070 --> 00:02:17.810\nNow, one problem I have\nwith the DF Command,\n\n48\n00:02:17.810 --> 00:02:20.210\nis this isn't really very human readable.\n\n49\n00:02:20.210 --> 00:02:22.400\nThe only part that's human\nreadable is this Use column,\n\n50\n00:02:22.400 --> 00:02:26.555\nwhere I can see that that\nmy root volume is 17% full.\n\n51\n00:02:26.555 --> 00:02:27.907\nMy boot volume is 14%.\n\n52\n00:02:27.907 --> 00:02:30.415\nEverything else is next to empty, right?\n\n53\n00:02:30.415 --> 00:02:31.605\nAnd that will update.\n\n54\n00:02:31.605 --> 00:02:35.192\nBut a way to make it a little\nmore useful is if you do DF-H.\n\n55\n00:02:35.192 --> 00:02:36.775\nThat makes it human readable.\n\n56\n00:02:36.775 --> 00:02:41.564\nAnd when you do DF-H, see how now, instead\nof blocks, I'm getting an actual size.\n\n57\n00:02:41.564 --> 00:02:44.830\nMy sda2 is 18 gigs in size.\n\n58\n00:02:44.830 --> 00:02:46.070\nI've got 14 gigs available.\n\n59\n00:02:46.070 --> 00:02:48.310\nThat's pretty handy information to have.\n\n60\n00:02:48.310 --> 00:02:51.940\nMy Sales, Marketing and Accounting,\nthey're all 64 Gig drives, and\n\n61\n00:02:51.940 --> 00:02:54.860\nthey've all got at least 60\ngigs available space on them.\n\n62\n00:02:54.860 --> 00:02:56.810\nWe've got plenty of room.\n\n63\n00:02:56.810 --> 00:02:58.580\nAnd this updates in real time, right?\n\n64\n00:02:58.580 --> 00:03:02.681\nIf we were to try and like flood data\nonto the drive to start filling it up for\n\n65\n00:03:02.681 --> 00:03:07.069\nexample, if I were to do like a d, let's\njust see what I can get away with here.\n\n66\n00:03:07.069 --> 00:03:12.347\nIf I do a dd and\nimport something like /dev/zero,\n\n67\n00:03:12.347 --> 00:03:18.613\nand I'll send that into\n/mnt/Accounting/file.bin and\n\n68\n00:03:18.613 --> 00:03:26.260\nwe'll setup a large size of that\nin a count of, let's do a 1000.\n\n69\n00:03:26.260 --> 00:03:30.020\nI'm gonna throw in a quick\ngig of data into that system.\n\n70\n00:03:30.020 --> 00:03:33.270\nAnd so I'm gonna just chunk\nthat on over there and\n\n71\n00:03:33.270 --> 00:03:35.900\nit's basically starting to fill\nthat drive up with some data.\n\n72\n00:03:35.900 --> 00:03:38.360\nSo I just do 1 gig of data in there.\n\n73\n00:03:38.360 --> 00:03:40.750\nWell, it was 1% used a minute ago.\n\n74\n00:03:40.750 --> 00:03:45.700\nNow, if I pull off my listing,\nI can see I'm 2%, right?\n\n75\n00:03:45.700 --> 00:03:47.746\n64 gig drive, I just used 1.2 gigs.\n\n76\n00:03:47.746 --> 00:03:50.410\nThis gives you a really good reflection.\n\n77\n00:03:50.410 --> 00:03:53.963\nSo if you've got a drive that's\nin the danger zone, 80% or\n\n78\n00:03:53.963 --> 00:03:57.510\nabove, you know that that's a system\nyou need to take some attention to.\n\n79\n00:03:57.510 --> 00:04:00.451\n>> Don, are you disk have full or\ndisk have empty kind of guy?\n\n80\n00:04:00.451 --> 00:04:02.780\n[LAUGH]\n>> The disk is always not big enough.\n\n81\n00:04:02.780 --> 00:04:04.413\n>> There you go.\n[LAUGH] >> That's the way I look at it.\n\n82\n00:04:04.413 --> 00:04:06.000\nDoesn't matter how much\navailable space is on there.\n\n83\n00:04:06.000 --> 00:04:07.961\n>> The IT Philosophizing of Don Pezet.\n\n84\n00:04:07.961 --> 00:04:09.933\n[LAUGH]\n>> Now, let's say you look at the disk and\n\n85\n00:04:09.933 --> 00:04:12.340\nit is almost full, and you're like, man.\n\n86\n00:04:12.340 --> 00:04:14.760\nWho is it that's using up my space?\n\n87\n00:04:14.760 --> 00:04:18.480\nSometimes we wanna have\nan idea of how much space\n\n88\n00:04:18.480 --> 00:04:22.250\na folder is consuming on our drive,\nnot the whole drive like this.\n\n89\n00:04:22.250 --> 00:04:26.210\nAnd so the sister command to\nthe DF utility is the DU command,\n\n90\n00:04:26.210 --> 00:04:28.130\nwhich is the disk usage.\n\n91\n00:04:28.130 --> 00:04:32.410\nAnd so you can say DU and\nthen you can specify a path.\n\n92\n00:04:32.410 --> 00:04:35.950\nAnd so I can say like, my home directory,\nI wonder how big that is?\n\n93\n00:04:35.950 --> 00:04:40.780\nSo, if I do du/home/dpezet,\nI can run that and it's gonna\n\n94\n00:04:40.780 --> 00:04:45.160\ngive me a list of what's in there and\nI can see that utilization, right?\n\n95\n00:04:45.160 --> 00:04:48.920\nNow, running it like this just\ngives me how much each file is.\n\n96\n00:04:48.920 --> 00:04:52.500\nBut then right here at the end,\nI kind of get that bigger summary.\n\n97\n00:04:52.500 --> 00:04:56.760\nNow it has a couple interesting options if\nyou look what's available inside of it.\n\n98\n00:04:56.760 --> 00:05:01.240\nAnd so we get -a for write counts for\nall, not just directories.\n\n99\n00:05:01.240 --> 00:05:02.600\nWe start to get the count information.\n\n100\n00:05:02.600 --> 00:05:05.320\nAnd that's actually\nthe default on this system.\n\n101\n00:05:05.320 --> 00:05:09.420\nBut you can also tell it to show things\nin bytes instead of kilobytes or\n\n102\n00:05:09.420 --> 00:05:10.610\nblocks or whatever.\n\n103\n00:05:10.610 --> 00:05:14.780\nYou've got a few different variations\nof that, -h to make it human readable.\n\n104\n00:05:14.780 --> 00:05:16.830\nAgain another kind of useful thing.\n\n105\n00:05:16.830 --> 00:05:19.880\nAnd -c to give you a grand total.\n\n106\n00:05:19.880 --> 00:05:22.690\nAnd that's one that I\nabsolutely like to use.\n\n107\n00:05:22.690 --> 00:05:27.007\nSo if I were to rerun that and\nthis time do like a -ch, right?\n\n108\n00:05:28.300 --> 00:05:30.830\nAnd that way I get my total count and\nit's human-readable.\n\n109\n00:05:30.830 --> 00:05:32.670\nNow I can run it and I can see right here,\n\n110\n00:05:32.670 --> 00:05:36.890\nthe total,\nmy profile is 1.1 megs in size, right?\n\n111\n00:05:36.890 --> 00:05:41.210\nSo now I can start to spot where that\nutilization is actually being eaten up.\n\n112\n00:05:41.210 --> 00:05:44.784\nIf I go into, like, /MNT,\nand I take a look at it,\n\n113\n00:05:44.784 --> 00:05:47.787\nin /MNT, I have about a gigabyte of data.\n\n114\n00:05:47.787 --> 00:05:52.290\nAnd as I look at the folders underneath\nit, I can see where that gig came from.\n\n115\n00:05:52.290 --> 00:05:54.420\nIt came from Accounting, right?\n\n116\n00:05:54.420 --> 00:05:57.790\nNow we can start to find where our\ndisk is being consumed, right?\n\n117\n00:05:57.790 --> 00:05:58.940\nWhere we've got extra stuff.\n\n118\n00:05:58.940 --> 00:06:05.308\nSo, DF to look at the disk as a whole and\nDU to look at folders inside of that disk.\n\n119\n00:06:05.308 --> 00:06:05.825\n>> Awesome.\n\n120\n00:06:05.825 --> 00:06:10.475\nNow Don what happens if we want to\ncheck the actual Integrity of these?\n\n121\n00:06:10.475 --> 00:06:12.670\nDo we have that built-in command as well,\nright?\n\n122\n00:06:12.670 --> 00:06:13.262\n>> Absolutely, yeah.\n\n123\n00:06:13.262 --> 00:06:17.108\nIn part one, we talked about an F stab\noption that would tell the system when\n\n124\n00:06:17.108 --> 00:06:20.410\nyou booted up whether or\nnot to run a file system check.\n\n125\n00:06:20.410 --> 00:06:21.960\nWell, we don't have to depend on that.\n\n126\n00:06:21.960 --> 00:06:24.210\nWe can tell it to check a file\nsystem whenever we want.\n\n127\n00:06:24.210 --> 00:06:25.280\nIt's up to us.\n\n128\n00:06:25.280 --> 00:06:29.970\nWe've got a utility called fsck,\nwhich is the file system check utility.\n\n129\n00:06:29.970 --> 00:06:33.580\nThis is another one kinda like mkfs,\nwhere it's not a command itself.\n\n130\n00:06:33.580 --> 00:06:38.970\nIt's a front end for numerous other check\nutilities based on your file system.\n\n131\n00:06:38.970 --> 00:06:43.492\nSo if I run fsck against an ext2 system,\nversus running it as an ext4 system,\n\n132\n00:06:43.492 --> 00:06:45.493\nit's gonna behave differently.\n\n133\n00:06:45.493 --> 00:06:47.870\nIt's actually running a different\ncommand on the back end.\n\n134\n00:06:48.980 --> 00:06:51.100\nSo if we just wanna\ncheck all of our disks,\n\n135\n00:06:51.100 --> 00:06:55.790\nwe could say -a, that's not terribly\ncommon, check everything, go crazy.\n\n136\n00:06:55.790 --> 00:06:57.750\nBut you can specify a particular volume.\n\n137\n00:06:57.750 --> 00:06:59.690\nIt'll reach out there and check it.\n\n138\n00:06:59.690 --> 00:07:02.410\nUsually want to go ahead and\nspecify a type.\n\n139\n00:07:02.410 --> 00:07:04.888\nOtherwise, it's gonna try and\nfigure it out on its own.\n\n140\n00:07:04.888 --> 00:07:08.005\nIt will probably do a good job,\nthat's kind of what utility does.\n\n141\n00:07:08.005 --> 00:07:11.050\nBut it's kind of nice to\ntell it a file system.\n\n142\n00:07:11.050 --> 00:07:14.773\nNow, for me, let's see,\nwhat do I have on here?\n\n143\n00:07:14.773 --> 00:07:18.160\nI will take,\nlet's take good old marketing.\n\n144\n00:07:18.160 --> 00:07:20.569\nSo my marketingdrive/dev/sdc1.\n\n145\n00:07:20.569 --> 00:07:21.710\nI want to check that one.\n\n146\n00:07:21.710 --> 00:07:24.030\nIt's, oh it's ext, oh it's ext 3.\n\n147\n00:07:24.030 --> 00:07:25.280\nAll right, so we'll check that one.\n\n148\n00:07:25.280 --> 00:07:26.220\nIt's ext 3.\n\n149\n00:07:26.220 --> 00:07:31.209\nSo I'm going to go in here and\nsay fsck/dev/sdc1.\n\n150\n00:07:31.209 --> 00:07:34.414\nAnd I'm going to throw in a -t ext3.\n\n151\n00:07:34.414 --> 00:07:36.421\nIt would have detected ext3, I'm sure,\n\n152\n00:07:36.421 --> 00:07:38.833\nbut we'll do it this way\njust to be on the safe side.\n\n153\n00:07:38.833 --> 00:07:41.890\nAnd when you run that,\nit's going to go and try to check it.\n\n154\n00:07:41.890 --> 00:07:43.810\nNow look at the error I got.\n\n155\n00:07:43.810 --> 00:07:44.860\nThe drive's mounted.\n\n156\n00:07:44.860 --> 00:07:46.310\nPeople could be in there and working.\n\n157\n00:07:46.310 --> 00:07:50.300\nIt's kind of hard to check a filesystem\nthat's active, right, that's in use.\n\n158\n00:07:50.300 --> 00:07:56.482\nSo I may need to unmount that drive and\nthat was Accounting, right?\n\n159\n00:07:56.482 --> 00:07:57.602\nNo, it was Marketing.\n\n160\n00:07:57.602 --> 00:08:00.487\nSo I'm going to go ahead and\ntake Marketing offline.\n\n161\n00:08:00.487 --> 00:08:05.190\nAll right, so I just unmounted it and now\nI'll rerun that check and there it goes.\n\n162\n00:08:05.190 --> 00:08:06.070\nIt scans the hard drive.\n\n163\n00:08:06.070 --> 00:08:07.200\nNow look what it did.\n\n164\n00:08:07.200 --> 00:08:12.150\nI ran fsck, it turned around and said,\noh, instead I should run e2fsck.\n\n165\n00:08:13.250 --> 00:08:18.470\nSo it knew the utility to use because of\nwhat it was that I was defining here,\n\n166\n00:08:18.470 --> 00:08:21.100\nwhat filesystem I pointed it at.\n\n167\n00:08:21.100 --> 00:08:24.738\nAnd then when I'm done,\nI can always just remount /dev/sdc1\n\n168\n00:08:24.738 --> 00:08:29.520\n/mnt/Marketing and bring it back online.\n\n169\n00:08:29.520 --> 00:08:30.870\nAnd now I'm good to go.\n\n170\n00:08:30.870 --> 00:08:33.190\nI go and use that drive and off we go.\n\n171\n00:08:33.190 --> 00:08:37.090\nNow if I wanna issue a filesystem check\nagainst my root drive, that one's\n\n172\n00:08:37.090 --> 00:08:39.930\na little more challenging, and I am\ngonna have to reboot for that to happen.\n\n173\n00:08:39.930 --> 00:08:43.970\nAnd that's where using our fstab file and\nall that is a little bit more handy.\n\n174\n00:08:43.970 --> 00:08:45.300\nIt kinda takes care of that.\n\n175\n00:08:45.300 --> 00:08:49.180\nBut easy enough to run\na check there if we need it.\n\n176\n00:08:49.180 --> 00:08:50.590\nAll right, couple other things.\n\n177\n00:08:50.590 --> 00:08:52.150\nI mentioned mkfs.\n\n178\n00:08:52.150 --> 00:08:56.210\nI know we saw that in a previous episode,\nwhere we saw just partitioning drives.\n\n179\n00:08:56.210 --> 00:09:00.700\nBut mkfs is how we format a drive and\napply a file system to it.\n\n180\n00:09:00.700 --> 00:09:06.190\nAnd mkfs is a front-end for a number\nof other utilities on the back-end.\n\n181\n00:09:06.190 --> 00:09:11.150\nSo when you run mkfs, you specify -T for\na type and then you tell it what you want.\n\n182\n00:09:11.150 --> 00:09:16.380\nSo like here they're showing mkfs.ext2\nto say we're creating an ext2 drive.\n\n183\n00:09:16.380 --> 00:09:18.910\nOr you can do -T ext2 which\nis what I normally do.\n\n184\n00:09:18.910 --> 00:09:21.410\nRight here, -T fs-type.\n\n185\n00:09:21.410 --> 00:09:23.690\nAnd that'll designate it there.\n\n186\n00:09:23.690 --> 00:09:25.420\nNow when you create a drive,\n\n187\n00:09:25.420 --> 00:09:28.570\nyou create it with one filesystem,\nyou're not necessarily stuck.\n\n188\n00:09:28.570 --> 00:09:32.010\nThere are ways to convert from\none file system to another.\n\n189\n00:09:32.010 --> 00:09:37.628\nSo for example, this is CentOS 6.6 and\non this one, they defaulted to ext4.\n\n190\n00:09:37.628 --> 00:09:41.670\nBut on CentOS 7 they default to xfs.\n\n191\n00:09:41.670 --> 00:09:44.366\nSo if I were to do an in-place\nupgrade to CentOS 7,\n\n192\n00:09:44.366 --> 00:09:48.002\nwhich is probably not a great idea\nin the first place, but if I did it,\n\n193\n00:09:48.002 --> 00:09:51.150\nI wouldn't have ext4 drives\non a CentOS 7 system.\n\n194\n00:09:51.150 --> 00:09:54.830\nI might wanna convert over to xfs.\n\n195\n00:09:54.830 --> 00:09:55.530\nAnd you can do that.\n\n196\n00:09:55.530 --> 00:09:57.650\nYou can convert these\nthings pretty easily.\n\n197\n00:09:57.650 --> 00:10:02.470\nSome of them, like ext2 and ext3,\nare actually darn near interchangeable.\n\n198\n00:10:02.470 --> 00:10:05.570\nOthers, like xfs,\nthat requires an actual filesystem change.\n\n199\n00:10:05.570 --> 00:10:08.960\nAnd there's a utility out\nthere called fstransform.\n\n200\n00:10:08.960 --> 00:10:11.700\nI don't believe it's installed by default,\nyeah, it's not installed.\n\n201\n00:10:11.700 --> 00:10:14.960\nBut we can get out there and\ninstall it, fstransform.\n\n202\n00:10:14.960 --> 00:10:20.055\nAnd what it lets you do is\ntake a system and change it.\n\n203\n00:10:20.055 --> 00:10:24.470\nOh, it must be in one of the more\nprogressive repositories.\n\n204\n00:10:24.470 --> 00:10:27.820\nSo if you have Fedora, you get access to\nsome of the tools that they don't give\n\n205\n00:10:27.820 --> 00:10:31.320\ndirect line support for, and\nfstransform must be one of them.\n\n206\n00:10:31.320 --> 00:10:34.330\nSo we can use tools like fstransform,\nthough, to reach out there and\n\n207\n00:10:34.330 --> 00:10:39.310\nsay convert this ext4 drive to an xfs\ndrive, or convert it to ReiserFS,\n\n208\n00:10:39.310 --> 00:10:43.400\nor convert ReiserFS to Btrfs,\nor whatever it is that we want.\n\n209\n00:10:43.400 --> 00:10:46.350\nSo, easy enough to do that and\nget it changed.\n\n210\n00:10:46.350 --> 00:10:48.130\nNow be careful with that.\n\n211\n00:10:48.130 --> 00:10:49.620\nThere's always a risk of data loss, so\n\n212\n00:10:49.620 --> 00:10:52.120\nyou wanna make sure you back\nup your information first.\n\n213\n00:10:52.120 --> 00:10:55.980\nI recommend using DD to\ntake an image of that disk.\n\n214\n00:10:55.980 --> 00:10:57.190\nThat way if anything goes wrong,\n\n215\n00:10:57.190 --> 00:10:59.400\nyou can actually do a bit-level\nrecovery of that disk.\n\n216\n00:10:59.400 --> 00:11:01.530\nYou don't have to worry about losing data.\n\n217\n00:11:01.530 --> 00:11:05.430\n>> Now Don, I can't remember if we talked\nabout this on the previous show when we\n\n218\n00:11:05.430 --> 00:11:06.751\nwere talking about mkfs.\n\n219\n00:11:06.751 --> 00:11:08.378\nIs there a list that Linux does,\n\n220\n00:11:08.378 --> 00:11:11.583\nthese are all of the filesystems\nthat I support on this system?\n\n221\n00:11:11.583 --> 00:11:14.100\nOr you just kinda gotta\nknow what you're doing?\n\n222\n00:11:14.100 --> 00:11:15.650\n>> So it really depends on the distro.\n\n223\n00:11:15.650 --> 00:11:17.730\nDifferent Linux distributions\nhave different support.\n\n224\n00:11:17.730 --> 00:11:20.170\nSo for example, like Ubuntu.\n\n225\n00:11:20.170 --> 00:11:22.400\nIt has built in support for NTFS.\n\n226\n00:11:22.400 --> 00:11:26.620\nSo if you have a Microsoft Windows drive\nthat's formatted NTFS, it'll mount it.\n\n227\n00:11:26.620 --> 00:11:29.650\nIt'll mount it read only, but it'll\nmount it, which is better than nothing.\n\n228\n00:11:29.650 --> 00:11:30.980\nNot every distro has that.\n\n229\n00:11:30.980 --> 00:11:32.740\nOther ones, you might plug in that Windows\ndrive and it doesn't support it at all.\n\n230\n00:11:32.740 --> 00:11:36.840\nSo a lot of them will add stuff or\nyou can even install support for\n\n231\n00:11:36.840 --> 00:11:38.300\nother file systems yourself, too.\n\n232\n00:11:38.300 --> 00:11:40.010\nI know I've done that\nwith a couple of things.\n\n233\n00:11:40.010 --> 00:11:42.390\nIf you need to mount an Apple drive or\nwhatever.\n\n234\n00:11:42.390 --> 00:11:45.240\nBut the only way I really\nknow is to kind of\n\n235\n00:11:45.240 --> 00:11:47.380\npoke around in the binaries\non your system.\n\n236\n00:11:47.380 --> 00:11:53.263\nSo a lot of those get\nstuck away in /usr/sbin.\n\n237\n00:11:53.263 --> 00:12:00.210\nAnd if you look in there for\nmk* or, oh, maybe it's /sbin.\n\n238\n00:12:00.210 --> 00:12:02.300\nLet's see if we can find them there.\n\n239\n00:12:02.300 --> 00:12:04.220\nThere we go, in just /sbin.\n\n240\n00:12:04.220 --> 00:12:08.840\nAnd so you'll see here I got mkfs for\next2, ext3, ext4.\n\n241\n00:12:08.840 --> 00:12:13.740\nWe've got vfat, MS-DOS, a couple of\ndifferent ones that are in here.\n\n242\n00:12:13.740 --> 00:12:15.810\nBut there's other ones\nthat aren't in this list,\n\n243\n00:12:15.810 --> 00:12:18.910\nlike xfs,\nthat I know the system does support.\n\n244\n00:12:18.910 --> 00:12:22.180\nSo sometimes they don't\nnecessarily show up in here but\n\n245\n00:12:22.180 --> 00:12:25.515\nthis is one way to kind of get\nan idea what is supported.\n\n246\n00:12:25.515 --> 00:12:29.920\nOr actually this is CentOS 6.6, it might\nnot support xfs now that I think about it.\n\n247\n00:12:29.920 --> 00:12:34.295\nI might have to add that in cuz\nthat was a new feature in 7.\n\n248\n00:12:34.295 --> 00:12:38.320\nCentOS 7 also supports Btrfs and\nReiserFS and\n\n249\n00:12:38.320 --> 00:12:41.180\nstuff right out of the box, so\nyou might see other ones in here.\n\n250\n00:12:42.980 --> 00:12:46.510\nAll right, so if I've got my file system,\nI run my checks against it,\n\n251\n00:12:46.510 --> 00:12:50.550\nit looks healthy, everything's great,\nthen that's pretty much all I need there.\n\n252\n00:12:50.550 --> 00:12:53.250\nThere are a few other neat commands,\nones that we're probably\n\n253\n00:12:53.250 --> 00:12:56.050\nnot going to be using very often but\nyou might want to be aware of.\n\n254\n00:12:56.050 --> 00:12:57.640\nFor example, debugfs.\n\n255\n00:12:58.890 --> 00:13:00.860\nWhoops, if I spell it\nright it'll work better.\n\n256\n00:13:00.860 --> 00:13:05.140\nDebugfs actually creates a temporary\nfile system entirely in RAM,\n\n257\n00:13:05.140 --> 00:13:06.990\nit's kind of like a RAM drive.\n\n258\n00:13:06.990 --> 00:13:10.880\nSo if you're ever troubleshooting or\ntrying to diagnose things, and you're not\n\n259\n00:13:10.880 --> 00:13:15.005\nsure if the hard drive is safe, you can\ncreate this temporary RAM drive with\n\n260\n00:13:15.005 --> 00:13:18.920\ndebugfs and you can store your tools there\nand work with them and access the drive.\n\n261\n00:13:18.920 --> 00:13:20.120\nIt's kind of a neat way to do that.\n\n262\n00:13:20.120 --> 00:13:22.160\nA lot of recovery disks\nthat people make or\n\n263\n00:13:22.160 --> 00:13:26.040\neven live CDs can make use of that,\nso debugfs is available.\n\n264\n00:13:26.040 --> 00:13:29.020\nOn the exam they just want\nyou to be familiar with it.\n\n265\n00:13:29.020 --> 00:13:30.987\nIn real life,\nit's not something that's used very often.\n\n266\n00:13:30.987 --> 00:13:33.480\nAnd if you do it's usually just part\nof some kind of script or utility.\n\n267\n00:13:35.400 --> 00:13:36.520\nOther things.\n\n268\n00:13:36.520 --> 00:13:38.690\nI may just want to get\ninformation about my disks.\n\n269\n00:13:38.690 --> 00:13:45.160\nNow in other shows, I've shown you lsblk,\nwhich gives us a list of our devices and\n\n270\n00:13:45.160 --> 00:13:48.637\nyou kind of see which volumes you got and\nwhere they're mounted to.\n\n271\n00:13:48.637 --> 00:13:55.290\nlsblk -f is another really useful one,\nand you can see labels and UUIDs also.\n\n272\n00:13:55.290 --> 00:13:57.940\nThose are good for non-GPT systems.\n\n273\n00:13:57.940 --> 00:14:01.970\nFor GPT systems you'll want to use blkid,\nand\n\n274\n00:14:01.970 --> 00:14:04.340\nthat'll show you additional\ninformation there too.\n\n275\n00:14:04.340 --> 00:14:08.190\nAnd so I can see my UUIDs and\nmy drive labels and stuff.\n\n276\n00:14:08.190 --> 00:14:09.910\nYou can see that there too.\n\n277\n00:14:09.910 --> 00:14:12.610\nblkid doesn't work on a non-GPT system.\n\n278\n00:14:12.610 --> 00:14:14.520\nSo this is GPT so\nthat's why it works for me.\n\n279\n00:14:15.590 --> 00:14:17.180\nSo those are ways to get information.\n\n280\n00:14:17.180 --> 00:14:20.790\nThere's also the dumpe2fs command,\n\n281\n00:14:20.790 --> 00:14:24.680\nwhich is useful for\njust seeing information about a drive.\n\n282\n00:14:24.680 --> 00:14:31.600\nSo for example,\nif I wanna do dumpe2fs for /dev/sdc1.\n\n283\n00:14:31.600 --> 00:14:36.050\nIf I run that, it's gonna give\nme a bunch of information here,\n\n284\n00:14:36.050 --> 00:14:39.240\nprobably more than I cared for,\nabout that particular drive.\n\n285\n00:14:39.240 --> 00:14:41.950\nAnd the good stuff sadly is\nall the way up to the top.\n\n286\n00:14:41.950 --> 00:14:45.360\nYou know, let me rerun that and\npipe in into the more command.\n\n287\n00:14:45.360 --> 00:14:48.520\nSo right here at the top is where\nwe see things like the volume name,\n\n288\n00:14:48.520 --> 00:14:52.586\nwhen it was last mounted,\nwhat its UUID is, filesystem revisions.\n\n289\n00:14:52.586 --> 00:14:54.530\nYou'll start to see all\nsorts of other things.\n\n290\n00:14:54.530 --> 00:14:56.850\nIs journaling enabled for this system?\n\n291\n00:14:56.850 --> 00:14:58.920\nWe're going to talk more about\njournaling in just a minute.\n\n292\n00:14:58.920 --> 00:15:02.030\nBut you'll see other things like\nwhat the error behavior is.\n\n293\n00:15:02.030 --> 00:15:04.620\nThere's a ton of good\ninformation tucked away in here.\n\n294\n00:15:04.620 --> 00:15:08.930\nThe problem is, it's so much information,\nwe normally pipe this into the grep\n\n295\n00:15:08.930 --> 00:15:12.350\ncommand, a menial effort to find what\nthe heck it is that we're looking for.\n\n296\n00:15:12.350 --> 00:15:17.470\nSo if I wanted to find my label for\nexample, I might run dumpe2fs,\n\n297\n00:15:17.470 --> 00:15:20.695\nspecify the drive and\nthen pipe it into grep label, and\n\n298\n00:15:20.695 --> 00:15:25.330\nthen that way I just get the label\ninformation, which must be lowercase.\n\n299\n00:15:27.250 --> 00:15:28.600\nOr it's not gonna turn out at all.\n\n300\n00:15:28.600 --> 00:15:30.330\nIt apparently doesn't wanna\nfind its label there.\n\n301\n00:15:30.330 --> 00:15:33.710\nBut we wanna filter that output,\nso we can figure out what the heck\n\n302\n00:15:33.710 --> 00:15:35.770\nis that data without having\nto sift through everything.\n\n303\n00:15:35.770 --> 00:15:40.355\nWe could always pipe that into less\ninstead and do it quick search.\n\n304\n00:15:40.355 --> 00:15:42.815\nAnd we can find our label that way.\n\n305\n00:15:42.815 --> 00:15:45.565\nOh, apparently wasn't finding the word\nlabel cuz it wasn't in there.\n\n306\n00:15:45.565 --> 00:15:46.875\nThat would explain that one.\n\n307\n00:15:46.875 --> 00:15:48.575\nBut the label's right there, that-\n>> Volume name.\n\n308\n00:15:48.575 --> 00:15:49.425\n>> Volume name, man.\n\n309\n00:15:49.425 --> 00:15:50.971\nDifferent name there.\n\n310\n00:15:50.971 --> 00:15:54.185\nAll right, so quick and easy way is to\nkind of hunt through and find that stuff,\n\n311\n00:15:54.185 --> 00:15:55.905\njust another way to gather information.\n\n312\n00:15:57.510 --> 00:16:00.265\nAll right.\nNow probably the most important command\n\n313\n00:16:00.265 --> 00:16:03.960\nwe're going to see here in this\nepisode is tune2fs, tune2fs.\n\n314\n00:16:03.960 --> 00:16:07.810\nThis is a command that's\nbeen around a long time.\n\n315\n00:16:07.810 --> 00:16:11.130\nIt was originally created for\nEXT2, but it works with EXT3 and\n\n316\n00:16:11.130 --> 00:16:13.330\n4 and a lot of the newer file systems.\n\n317\n00:16:13.330 --> 00:16:16.760\nIt kind of front ends the other utilities\nlike we've seen with the other stuff.\n\n318\n00:16:16.760 --> 00:16:22.010\nAnd it allows us to tweak all\nsorts of things about our drives.\n\n319\n00:16:22.010 --> 00:16:26.490\nI used it, we're kind of far in this\nepisode, did we use it in this episode, or\n\n320\n00:16:26.490 --> 00:16:27.170\nwas it the last episode?\n\n321\n00:16:27.170 --> 00:16:27.970\n>> I don't think so.\n>> It was in Part\n\n322\n00:16:27.970 --> 00:16:31.210\n1 where we used tune2fs to\nassign a label to a drive, but\n\n323\n00:16:31.210 --> 00:16:37.050\nwe can use it to change the diagnostic\nbehavior of the drives also.\n\n324\n00:16:37.050 --> 00:16:39.350\nLet me show what I mean by that.\n\n325\n00:16:39.350 --> 00:16:44.960\nWith tune2fs, I can specify\nthat I want to manipulate how\n\n326\n00:16:44.960 --> 00:16:50.810\noften my drive does a check and\nhow often it is going to occur.\n\n327\n00:16:50.810 --> 00:16:55.210\nSo, your system, you probably noticed\nthis if you've been running Linux as your\n\n328\n00:16:55.210 --> 00:16:59.120\ndesktop, but every now and then you'll\nboot up and it'll do a file system check.\n\n329\n00:16:59.120 --> 00:17:02.190\nAnd you might say to yourself, well,\nwhy did it do a file system check?\n\n330\n00:17:02.190 --> 00:17:05.130\nWhat happened there that\nmade it want to do that?\n\n331\n00:17:05.130 --> 00:17:06.770\nIs my drive going bad?\n\n332\n00:17:06.770 --> 00:17:11.220\nWell no, your file system will\nroutinely run fsck on its own.\n\n333\n00:17:11.220 --> 00:17:14.850\nAnd it's got these predetermined\nintervals that it runs it at and\n\n334\n00:17:14.850 --> 00:17:16.710\neach distro uses some\nslightly different ones.\n\n335\n00:17:16.710 --> 00:17:21.060\nBut we can override that behavior\nif we want using tune to fs.\n\n336\n00:17:21.060 --> 00:17:25.168\nSo, if I come in and\nI do something like this.\n\n337\n00:17:25.168 --> 00:17:26.610\nAll right.\n\n338\n00:17:26.610 --> 00:17:32.150\nWhat I'm doing here is I'm\ntelling it I want to run fsck\n\n339\n00:17:32.150 --> 00:17:35.410\nevery 60 mounts, which is what this -c is,\n\n340\n00:17:35.410 --> 00:17:39.640\nit's the count, so every 60 times that\nI've mounted it, I want to do a check.\n\n341\n00:17:40.650 --> 00:17:44.060\nOr, every six months.\n\n342\n00:17:44.060 --> 00:17:48.270\nSo, if I reboot the system sixty times,\nit's going to do a check.\n\n343\n00:17:48.270 --> 00:17:50.310\nOr, If I've only rebooted it once and\n\n344\n00:17:50.310 --> 00:17:54.590\nsix months goes by, the next time I\nreboot it, it's going to do a check.\n\n345\n00:17:54.590 --> 00:17:58.270\nThis is how I can set the interval for\nhow often that occurs, and\n\n346\n00:17:58.270 --> 00:18:00.840\nyou can set something much,\nmuch lower if you want.\n\n347\n00:18:00.840 --> 00:18:04.710\nMaybe I want to check every\ntime I mount the thing, right,\n\n348\n00:18:04.710 --> 00:18:06.330\nwe can set that c to one.\n\n349\n00:18:06.330 --> 00:18:09.140\nAnd now every time I reboot or\nI mount this system,\n\n350\n00:18:09.140 --> 00:18:12.770\nit's going to run an fsck check on it\nautomatically to make sure it's healthy.\n\n351\n00:18:12.770 --> 00:18:15.025\nYou might want that.\n\n352\n00:18:15.025 --> 00:18:19.495\nYou might not, on a desktop it would be\nsuper annoying, on a server maybe you do.\n\n353\n00:18:19.495 --> 00:18:23.015\nBut on a desktop we might want something\nbigger, we could specify that, so I might\n\n354\n00:18:23.015 --> 00:18:28.615\nsay every 30 reboot or every one month,\nyou're saying dash c is the count for\n\n355\n00:18:28.615 --> 00:18:32.435\namounts, and dash i is the interval for\ntime, that's what those two values are,\n\n356\n00:18:32.435 --> 00:18:34.965\nand now I can tell it how often\nI want those checks to occur.\n\n357\n00:18:36.130 --> 00:18:36.670\nAnd there we go.\n\n358\n00:18:36.670 --> 00:18:39.520\nI've set that maximum mount count,\n\n359\n00:18:39.520 --> 00:18:41.750\nthe maximum amount of mounts to\ngo without doing a check to 30m,\n\n360\n00:18:41.750 --> 00:18:45.781\nand the interval between checks to,\nyou see it's done in seconds.\n\n361\n00:18:45.781 --> 00:18:48.190\nI set it to one month, so\nthat's quite a few seconds.\n\n362\n00:18:48.190 --> 00:18:51.800\nSo, that's a cool way to kind of measure\nwhen your systems are going to be checked.\n\n363\n00:18:53.780 --> 00:18:59.040\nAnother really powerful thing that tunefs\ncan do is it can enable journaling.\n\n364\n00:18:59.040 --> 00:18:59.960\nAll right?\n\n365\n00:18:59.960 --> 00:19:02.340\nNow let's talk about journal\nfile systems for a second,\n\n366\n00:19:02.340 --> 00:19:04.270\nbecause you might not know what those are.\n\n367\n00:19:04.270 --> 00:19:08.740\nAlmost all of your modern\nfile systems use journaling.\n\n368\n00:19:08.740 --> 00:19:13.600\nYour EXT 4, XFS, JFS,\nthat's what we just created,\n\n369\n00:19:13.600 --> 00:19:19.190\nRiser FS, even NTFS to an extent\nhas a weird kind of internal thing.\n\n370\n00:19:19.190 --> 00:19:23.450\nIf you have Apple HFS with Journaling,\nit does journaling.\n\n371\n00:19:23.450 --> 00:19:24.680\nIt's kind of in the name.\n\n372\n00:19:24.680 --> 00:19:27.970\nSo, a lot of people do journaling,\nbut what is it?\n\n373\n00:19:27.970 --> 00:19:31.010\nWell, one weakness our hard drive has is,\n\n374\n00:19:31.010 --> 00:19:35.540\nwhat happens if you start writing data\nto the hard drive and you lose power?\n\n375\n00:19:37.690 --> 00:19:39.080\nYou got a partial write.\n\n376\n00:19:39.080 --> 00:19:42.090\nSo when you reboot, you got half a file,\nor third of a file,\n\n377\n00:19:42.090 --> 00:19:44.530\nor two-thirds,\nwhenever the power went out, right?\n\n378\n00:19:44.530 --> 00:19:48.050\nYou got part of a file, and\nwhat good is a part of a file?\n\n379\n00:19:48.050 --> 00:19:48.790\n>> No good.\n\n380\n00:19:48.790 --> 00:19:50.350\n>> No good at all, right.\n\n381\n00:19:50.350 --> 00:19:54.500\nWhat if I had a file on the hard\ndrive that was a meg in size?\n\n382\n00:19:54.500 --> 00:19:55.490\nI opened it.\n\n383\n00:19:55.490 --> 00:19:58.360\nI edited one line, and\nthen I went to save it.\n\n384\n00:19:58.360 --> 00:19:59.440\nIt's going to rewrite that 1 meg file.\n\n385\n00:19:59.440 --> 00:20:03.560\nIt's going to start overwriting\npart of the existing file.\n\n386\n00:20:03.560 --> 00:20:06.490\nAnd then if I lose power,\nI lose the whole thing.\n\n387\n00:20:06.490 --> 00:20:08.450\nI just changed one line, but\nit wrote the whole file.\n\n388\n00:20:08.450 --> 00:20:09.670\nI just lost the whole thing.\n\n389\n00:20:09.670 --> 00:20:11.700\nIt's now corrupt,\nit's damaged and that's it.\n\n390\n00:20:11.700 --> 00:20:17.430\nTraditional hard drives are not very good\nat surviving power outages or any kind of\n\n391\n00:20:17.430 --> 00:20:21.150\ninterruption to its write ability, right,\nanything that causes that not to happen.\n\n392\n00:20:21.150 --> 00:20:24.680\nSo a journal works to save that, right?\n\n393\n00:20:24.680 --> 00:20:27.720\nSo if I have a 1 meg file and\nit's stored right here, and\n\n394\n00:20:27.720 --> 00:20:32.420\nI make a change to that one meg file, when\nI go to save it, it says you know what?\n\n395\n00:20:32.420 --> 00:20:33.205\nI'm going to save it over here.\n\n396\n00:20:33.205 --> 00:20:34.636\nI'm going to just save\nit in a different place.\n\n397\n00:20:34.636 --> 00:20:38.928\nAnd it puts it over here and\nwhen it writes 100% of this file,\n\n398\n00:20:38.928 --> 00:20:44.889\nthen it removes the other one, and you're\nleft with this good one that's 100% red,\n\n399\n00:20:44.889 --> 00:20:49.337\nbut if I've got my original file and\nI start writing this new one and\n\n400\n00:20:49.337 --> 00:20:55.370\nI lose power halfway through, when it\nreboots, it just throws away the halfway.\n\n401\n00:20:55.370 --> 00:20:57.370\nAnd now I'm back to the original file.\n\n402\n00:20:57.370 --> 00:20:58.520\nYeah, I lost my changes.\n\n403\n00:20:58.520 --> 00:20:59.910\nThat kind of sucks.\n\n404\n00:20:59.910 --> 00:21:01.280\nBut at least my file's intact.\n\n405\n00:21:01.280 --> 00:21:02.640\nI didn't get corruption.\n\n406\n00:21:02.640 --> 00:21:04.650\nThat's what a journaling file system does.\n\n407\n00:21:04.650 --> 00:21:08.150\nIt sets aside a piece of disk space,\n\n408\n00:21:08.150 --> 00:21:10.930\nand the percentage is various\nbased on how it's configured.\n\n409\n00:21:10.930 --> 00:21:13.420\nBut it sets aside a little\nslice of the drive.\n\n410\n00:21:13.420 --> 00:21:14.880\nAnd it says from now on, when I do writes,\n\n411\n00:21:14.880 --> 00:21:16.910\nI'm going to do write\nto this area instead.\n\n412\n00:21:16.910 --> 00:21:19.000\nOr it might even do it inline\nwith just a regular drive.\n\n413\n00:21:19.000 --> 00:21:20.800\nI've seen that too where\nit just writes wherever.\n\n414\n00:21:20.800 --> 00:21:22.410\nI'm going to write in this other space.\n\n415\n00:21:22.410 --> 00:21:24.470\nI'm just not going to\noverwrite the original file.\n\n416\n00:21:24.470 --> 00:21:28.640\nUntil I have a hundred 100% of that write\ndone, and then I'll remove the original.\n\n417\n00:21:28.640 --> 00:21:32.440\nIt gives you guaranteed write integrity,\nif you write data,\n\n418\n00:21:32.440 --> 00:21:35.220\nit's either going to write 100%,\nor it's going to write 0%, you're\n\n419\n00:21:35.220 --> 00:21:38.590\nnever going to end up with something\nin between on a journaling file system.\n\n420\n00:21:38.590 --> 00:21:40.210\nSounds like a good thing right?\n\n421\n00:21:40.210 --> 00:21:41.310\nThat's what we want.\n\n422\n00:21:41.310 --> 00:21:45.460\nWell if you're running EXT 3 or higher,\n\n423\n00:21:45.460 --> 00:21:47.990\nif you're running XFS,\nyou're already journaling.\n\n424\n00:21:47.990 --> 00:21:49.179\nIt's on, you don't have to mess with it.\n\n425\n00:21:50.180 --> 00:21:55.450\nBut if you inherit a server that's\nrunning ext2, ext2 is not journaling.\n\n426\n00:21:55.450 --> 00:21:58.760\nAnd the only difference between ext2 and\next3 is journaling.\n\n427\n00:21:58.760 --> 00:22:01.940\nThat's the difference,\nthey turn on journaling, they become ext3.\n\n428\n00:22:01.940 --> 00:22:05.830\nSo, we may want to convert\nfrom ext2 to ext3.\n\n429\n00:22:05.830 --> 00:22:07.590\nWe don't need to use FS transform for\nthat.\n\n430\n00:22:07.590 --> 00:22:09.360\nWe're not actually\nconverting file systems,\n\n431\n00:22:09.360 --> 00:22:13.630\nwe're just turning on journaling and\nTune 2 FS is what does it, all right?\n\n432\n00:22:13.630 --> 00:22:19.290\nIf I look at my drives here, you'll see\nwhere I've got one drive on this turkey.\n\n433\n00:22:19.290 --> 00:22:20.250\nLet's see, where is it?\n\n434\n00:22:20.250 --> 00:22:21.070\nThat one is EXT4.\n\n435\n00:22:21.070 --> 00:22:21.590\nGot it.\n\n436\n00:22:21.590 --> 00:22:22.870\nThis guy, sales.\n\n437\n00:22:22.870 --> 00:22:27.880\nMy sales drive right here has\na file system type of ext2.\n\n438\n00:22:27.880 --> 00:22:31.760\nSo it's ext2, it is not journaling.\n\n439\n00:22:31.760 --> 00:22:35.510\nIf I want to make it journal,\nI just need to turn it on, okay, and\n\n440\n00:22:35.510 --> 00:22:37.540\nturning it on is kind\nof a two-step process.\n\n441\n00:22:37.540 --> 00:22:44.630\nStep one, I run tune2fs dash j,\nI'm tuning the journaling on this drive,\n\n442\n00:22:44.630 --> 00:22:48.820\nand then I specified a drive /dev/SDB1,\nokay?\n\n443\n00:22:48.820 --> 00:22:50.670\nSo when I run that, there it runs and\n\n444\n00:22:50.670 --> 00:22:53.130\nit tells me the system will\nautomatically check every 29 mounts,\n\n445\n00:22:53.130 --> 00:22:57.810\nthese are the default values that\nI overrode earlier, or 180 days.\n\n446\n00:22:57.810 --> 00:23:01.490\nAnd it's creating that journal inode,\nand it's done.\n\n447\n00:23:01.490 --> 00:23:03.790\nAll right, I've now enabled journaling.\n\n448\n00:23:03.790 --> 00:23:06.340\nThat's awesome,\nnow my drive is super stable, right?\n\n449\n00:23:06.340 --> 00:23:08.990\nWell, actually that drive's\nreally unstable right now,\n\n450\n00:23:08.990 --> 00:23:10.870\nbecause the system still thinks it's EXT2.\n\n451\n00:23:10.870 --> 00:23:14.470\nAnd if I reboot, it's going to try and\nmount at EXT2 and there's this journal\n\n452\n00:23:14.470 --> 00:23:16.320\nthat's going to freak out and\nthe drive's not going to show up and\n\n453\n00:23:16.320 --> 00:23:19.090\nI'm going to lose data and\nit's not going to be a happy place.\n\n454\n00:23:19.090 --> 00:23:23.918\nSo, what I really need to do,\nas I need to edit my fstab file.\n\n455\n00:23:23.918 --> 00:23:28.600\nSo /etc/fstab table.\n\n456\n00:23:28.600 --> 00:23:33.120\nI need to go in and find my sales drive,\nand I need to change it so\n\n457\n00:23:33.120 --> 00:23:35.720\nthen instead of ext2, it's now ext3.\n\n458\n00:23:35.720 --> 00:23:40.370\nAnd when I change that, now it knows.\n\n459\n00:23:40.370 --> 00:23:42.680\nOh, well, this is the ext3.\n\n460\n00:23:42.680 --> 00:23:43.810\nIt has a journal.\n\n461\n00:23:43.810 --> 00:23:44.730\nAll right.\n\n462\n00:23:44.730 --> 00:23:47.130\nIf I can reboot the server,\nthat's the easiest way to reboot.\n\n463\n00:23:47.130 --> 00:23:49.300\nIf I can't,\nif the server's in use right now,\n\n464\n00:23:49.300 --> 00:23:53.370\none of the things you can just do is\nunmount it and remount it again, right?\n\n465\n00:23:53.370 --> 00:23:59.548\nSo, if I go in here and just say like\nyou mount slash mnt slash sales.\n\n466\n00:23:59.548 --> 00:24:02.650\nI can un-mount it, right,\nso now it's dismounted, and\n\n467\n00:24:02.650 --> 00:24:06.930\nI can remount it again, and\nit is, what is my sales drive,\n\n468\n00:24:06.930 --> 00:24:12.040\nit's slash dev slash,\noh shoot now I forgot what it was.\n\n469\n00:24:12.040 --> 00:24:13.060\nThere, sdb1.\n\n470\n00:24:13.060 --> 00:24:16.370\nSo I'll steal it from my\ntoon command earlier.\n\n471\n00:24:16.370 --> 00:24:20.090\nSo I want to mount slash dev slash\nsdb1 into slash mnt slash sales.\n\n472\n00:24:20.090 --> 00:24:23.580\nAlright, so now I've remounted it.\n\n473\n00:24:23.580 --> 00:24:27.320\nAnd once it's remounted,\nit'll understand that it's ext3.\n\n474\n00:24:27.320 --> 00:24:30.800\nAnd so if I find my Sales drive,\nthere it is.\n\n475\n00:24:30.800 --> 00:24:34.380\nAnd then it understands that\nit should have a journal.\n\n476\n00:24:34.380 --> 00:24:36.960\nSo at a minimum, edit fstab,\nand then reboot.\n\n477\n00:24:38.100 --> 00:24:40.538\nOr if you can't reboot,\nstill edit your f stab,\n\n478\n00:24:40.538 --> 00:24:44.000\nthat's important because\nyou will reboot eventually.\n\n479\n00:24:44.000 --> 00:24:46.620\nAnd then make sure you unmount and\nremount the drive.\n\n480\n00:24:46.620 --> 00:24:49.380\nThat way it'll now mount as ext3,\nand it'll show up right.\n\n481\n00:24:49.380 --> 00:24:52.730\nSo really easy to turn that journaling\non and get that functionality.\n\n482\n00:24:52.730 --> 00:24:54.230\nIf you're ext4, you've already got it.\n\n483\n00:24:54.230 --> 00:24:55.520\nIt's a great function.\n\n484\n00:24:55.520 --> 00:24:58.190\nIt's definitely something you want.\n\n485\n00:24:58.190 --> 00:24:59.520\nIt really works out well.\n\n486\n00:24:59.520 --> 00:25:00.710\nI say it's something you want.\n\n487\n00:25:00.710 --> 00:25:04.750\nThere's one little scenario with online\ntransaction processing databases where you\n\n488\n00:25:04.750 --> 00:25:08.910\nmight want to disable journaling, for\nfaster write performance, but for\n\n489\n00:25:08.910 --> 00:25:12.670\nmost people, like 99% of the time,\njournaling is something you want.\n\n490\n00:25:12.670 --> 00:25:16.160\n>> Yeah.\nSo many options, so many tools\n\n491\n00:25:16.160 --> 00:25:20.660\nto help tune up our systems, make sure\nthey run as efficiently as possible.\n\n492\n00:25:20.660 --> 00:25:23.820\nJournaling, obviously that is something\nthat we're definitely going to\n\n493\n00:25:23.820 --> 00:25:25.610\nwant to have enabled on our systems.\n\n494\n00:25:25.610 --> 00:25:28.035\nI know when that came out I was like,\nthis is awesome, right?\n\n495\n00:25:28.035 --> 00:25:30.530\nBecause I fell prey to that as well.\n\n496\n00:25:30.530 --> 00:25:35.290\nYou lose power or something goes out,\nlose those files and that's a big bummer.\n\n497\n00:25:35.290 --> 00:25:36.130\n>> It's one of those things.\n\n498\n00:25:36.130 --> 00:25:39.820\nI remember the first time I read about\nit and I was thinking, man, this is so\n\n499\n00:25:39.820 --> 00:25:43.030\nsimple, why didn't anybody\nthink of this before?\n\n500\n00:25:43.030 --> 00:25:45.530\nAnd how does, if you ever wonder,\nlike somebody\n\n501\n00:25:45.530 --> 00:25:48.240\nwho has a PhD in computer science,\nthey say what do you do with a PhD?\n\n502\n00:25:48.240 --> 00:25:49.530\nYou come up with junk like this.\n\n503\n00:25:49.530 --> 00:25:51.346\n>> [LAUGH]\n>> And it's so common sense,\n\n504\n00:25:51.346 --> 00:25:53.585\nthe way that it works,\nit really is impressive.\n\n505\n00:25:53.585 --> 00:25:55.277\nAnd you see that in computers a lot.\n\n506\n00:25:55.277 --> 00:25:57.070\nThat's the fascinating part.\n\n507\n00:25:57.070 --> 00:26:00.010\nPeople come up with really\nsimple solutions to problems,\n\n508\n00:26:00.010 --> 00:26:03.410\nand all of a sudden your disk integrity\ngoes through the roof, right?\n\n509\n00:26:03.410 --> 00:26:07.420\nYou don't have the failures you used to\njust because you wrote to a different\n\n510\n00:26:07.420 --> 00:26:11.090\nsector for a second while you removed it\nin the other place, it really doesn't.\n\n511\n00:26:11.090 --> 00:26:14.240\n>> The best app solutions are usually\nthe most simple, right Don?\n\n512\n00:26:14.240 --> 00:26:15.380\n>> Yeah.\n>> Well that being said,\n\n513\n00:26:15.380 --> 00:26:19.120\nit does look like we've wrapped up\nanother episode here at IT Pro TV.\n\n514\n00:26:19.120 --> 00:26:22.250\nSo signing off,\nI've been your host, Daniel Lowry.\n\n515\n00:26:22.250 --> 00:26:23.500\n>> And I'm Don Pezet.\n\n516\n00:26:23.500 --> 00:26:25.870\n>> And we'll see you next time.\n\n",
          "vimeoId": "131129584"
        }
      ],
      "title": "(LX0-103) Configuring Hardware"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1577",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-1-file_managent_commands-061715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-1-file_managent_commands-061715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-1-file_managent_commands-061715-1-sm.jpg",
          "title": "File Management Commands",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:09.960\n[MUSIC]\n\n2\n00:00:09.960 --> 00:00:14.193\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.193 --> 00:00:15.774\nI'll be your host Daniel Lowrie,\n\n4\n00:00:15.774 --> 00:00:18.205\nand here with me today is\nnone other than Don Pezet.\n\n5\n00:00:18.205 --> 00:00:19.315\nWhat's going on, Don?\n\n6\n00:00:19.315 --> 00:00:22.055\n>> Well, you know,\nit's another exciting day of Linux Plus.\n\n7\n00:00:22.055 --> 00:00:24.845\nAnd we're gonna be jumping\ninto file management commands.\n\n8\n00:00:24.845 --> 00:00:29.065\nAnd these are commands that you're\ngonna use every single day, right?\n\n9\n00:00:29.065 --> 00:00:30.255\nWell, maybe not.\n\n10\n00:00:30.255 --> 00:00:31.665\nMaybe you take a day off, right?\n\n11\n00:00:31.665 --> 00:00:32.935\nBut if you're at work,\n\n12\n00:00:32.935 --> 00:00:35.850\nthe odds are you're gonna use at least\none of these file management commands.\n\n13\n00:00:35.850 --> 00:00:38.120\nAnd we've really been using them\nall throughout the show anyway,\n\n14\n00:00:38.120 --> 00:00:43.120\nbecause in the Linux operating system\neverything is represented as a file,\n\n15\n00:00:43.120 --> 00:00:44.340\nwell almost everything.\n\n16\n00:00:44.340 --> 00:00:47.590\nSo all of our hardware that we've been\nworking with in our previous episodes,\n\n17\n00:00:47.590 --> 00:00:50.730\nthose were files as we've kind of\nbrowsing our file system and so on.\n\n18\n00:00:50.730 --> 00:00:53.740\nWell, we need to make sure that we've\ngot a good comfort level with that.\n\n19\n00:00:53.740 --> 00:00:56.380\nAnd so today we're gonna tackle\nsome of the basic commands and\n\n20\n00:00:56.380 --> 00:00:58.990\nsome of the intermediate commands\nyou're gonna use as far as manipulating\n\n21\n00:00:58.990 --> 00:01:00.420\nfiles on your hard drive.\n\n22\n00:01:00.420 --> 00:01:04.770\n>> Yeah, unless you want to try to\nactually memorize every path and filename,\n\n23\n00:01:04.770 --> 00:01:06.930\nand that's probably never going to happen,\n\n24\n00:01:06.930 --> 00:01:09.850\nwe're gonna need these commands to get\nus bopping around the command line.\n\n25\n00:01:09.850 --> 00:01:14.690\nI use ls a lot, things like that, and even\nif I know where I'm at and what I'm doing,\n\n26\n00:01:14.690 --> 00:01:18.480\nI still tend to just out of habit\nrun these types of commands, so\n\n27\n00:01:18.480 --> 00:01:22.370\nthat I continually get a good visual\nof where I'm at and what I'm doing.\n\n28\n00:01:22.370 --> 00:01:26.050\nKeeps me going on the track I need\nto go down, so yeah good stuff.\n\n29\n00:01:26.050 --> 00:01:30.460\n>> All right, so, when you first log in to\na Linux shell, whether it be bash, or csh,\n\n30\n00:01:30.460 --> 00:01:35.550\ntcsh, whatever shell it is that you use,\nwhen you log in, you're given a prompt.\n\n31\n00:01:35.550 --> 00:01:38.970\nAnd your prompt is just where\nyou type your commands and\n\n32\n00:01:38.970 --> 00:01:40.850\nthe system interprets it.\n\n33\n00:01:40.850 --> 00:01:44.330\nIt has a location that\nyou're at on the drive.\n\n34\n00:01:44.330 --> 00:01:46.960\nWhat's called your present\nworking directory.\n\n35\n00:01:46.960 --> 00:01:48.540\nAnd when you start issuing commands,\n\n36\n00:01:48.540 --> 00:01:51.490\nit issues them from the perspective\nof that present working directory.\n\n37\n00:01:51.490 --> 00:01:54.820\nAnd in that directory there may or\nmay not be files.\n\n38\n00:01:54.820 --> 00:01:58.500\nSo one of the most important commands\nthat we can learn, really there's two.\n\n39\n00:01:58.500 --> 00:02:01.550\nThere's one command to figure\nout what directory we're in and\n\n40\n00:02:01.550 --> 00:02:04.600\nthere's another command to see\nwhat's in the directory, all right?\n\n41\n00:02:04.600 --> 00:02:08.990\nThe first one I want to show you is pwd,\nwhich is present working directory.\n\n42\n00:02:08.990 --> 00:02:12.110\nIt's real easy to forget where you're\nat on the hard drive because a lot of\n\n43\n00:02:12.110 --> 00:02:14.920\ntimes your command prompt will\nshow you a part of your path, but\n\n44\n00:02:14.920 --> 00:02:17.610\nnot the whole thing, all right?\n\n45\n00:02:17.610 --> 00:02:20.890\nLet me show you one thing that occurs,\nor that kinda happens to me a lot.\n\n46\n00:02:20.890 --> 00:02:23.870\nAll right,\nI'm logged in right now as dpezet.\n\n47\n00:02:23.870 --> 00:02:27.690\nIf I do a whoami,\nI can see I'm dpezet, right?\n\n48\n00:02:27.690 --> 00:02:32.140\nAnd If I want to change into my home\ndirectory, well that's where I start.\n\n49\n00:02:32.140 --> 00:02:37.650\nWhen I first log in, I'm in my home\ndirectory, which is /home/dpezet.\n\n50\n00:02:37.650 --> 00:02:39.980\nAnd see how it's got a little tilde there?\n\n51\n00:02:39.980 --> 00:02:43.960\nThat tilde is a shortcut that\nrepresents my home directory, right?\n\n52\n00:02:43.960 --> 00:02:48.740\nI'm in there and if I type pwd,\npresent working directory,\n\n53\n00:02:48.740 --> 00:02:50.200\nit'll tell me where I'm at.\n\n54\n00:02:50.200 --> 00:02:52.870\nI'm in /home/dpezet.\n\n55\n00:02:52.870 --> 00:02:58.550\nNow as an admin, you're working on the\nsystem maybe you used su to become root or\n\n56\n00:02:58.550 --> 00:02:59.290\nsomething like that.\n\n57\n00:02:59.290 --> 00:03:03.710\nYou switch users on your system,\nall right?\n\n58\n00:03:03.710 --> 00:03:06.650\nAnd now you change into\na different directory.\n\n59\n00:03:07.940 --> 00:03:11.760\nHere, notice that little tilde,\nit says I'm in my home directory.\n\n60\n00:03:11.760 --> 00:03:15.410\nWell, I might think that\nI'm in /home/dpezet, but\n\n61\n00:03:15.410 --> 00:03:20.100\nin reality I'm in /root,\nbecause I'm now a different user.\n\n62\n00:03:20.100 --> 00:03:23.360\nSo being able to use pwd just\nto figure out where the heck\n\n63\n00:03:23.360 --> 00:03:25.690\nyou are is a pretty useful thing.\n\n64\n00:03:25.690 --> 00:03:29.000\nDon't rely on what's here in the prompt.\n\n65\n00:03:29.000 --> 00:03:31.200\nSome Linux distros don't even\nput the path in the prompt, so\n\n66\n00:03:31.200 --> 00:03:32.750\nyou might not even see that.\n\n67\n00:03:32.750 --> 00:03:35.560\nThe other thing is that it's all\nrelative to where you're at.\n\n68\n00:03:35.560 --> 00:03:39.790\nSo if I typed, like I just typed cd\nright there which changed directory, and\n\n69\n00:03:39.790 --> 00:03:41.240\nit looks like nothing happened.\n\n70\n00:03:41.240 --> 00:03:44.270\nBut in reality,\nI just switched back to my home directory.\n\n71\n00:03:44.270 --> 00:03:46.140\nI did actually move locations.\n\n72\n00:03:46.140 --> 00:03:48.861\nAnd as I change into things\nlike my documents folder,\n\n73\n00:03:48.861 --> 00:03:51.080\nsee what it says Documents there?\n\n74\n00:03:51.080 --> 00:03:54.230\nBut it doesn't say I'm in\n/home/dpezet/documents.\n\n75\n00:03:54.230 --> 00:03:56.050\nSo the pwd command,\n\n76\n00:03:56.050 --> 00:03:58.430\nreally important to figure out\nwhere the heck you are all right?\n\n77\n00:03:58.430 --> 00:04:00.420\nPresent working directory.\n\n78\n00:04:00.420 --> 00:04:03.760\nNow if I want to see what's in\nmy present working directory,\n\n79\n00:04:03.760 --> 00:04:06.060\nthat's where ls comes in.\n\n80\n00:04:06.060 --> 00:04:10.490\npwd and ls are two commands\nthat I use every single day.\n\n81\n00:04:10.490 --> 00:04:12.560\nls is an abbreviation for list.\n\n82\n00:04:12.560 --> 00:04:15.470\nI wanna list what's in this directory, and\n\n83\n00:04:15.470 --> 00:04:19.390\nif I just type ls by itself,\nit'll tell me what's in the directory.\n\n84\n00:04:20.400 --> 00:04:23.440\nIn its most basic form,\nthat's probably all I need,\n\n85\n00:04:23.440 --> 00:04:25.750\nI can see what's in there,\nand that's that.\n\n86\n00:04:27.080 --> 00:04:31.280\nNow, notice how my files\nhere are colorized.\n\n87\n00:04:31.280 --> 00:04:33.410\nI know it doesn't look\ntoo terribly colorful.\n\n88\n00:04:33.410 --> 00:04:37.040\nThere's other directories like,\nhere, let's go into\n\n89\n00:04:37.040 --> 00:04:39.990\nlike a library directory where you\nget all sorts of different colors.\n\n90\n00:04:39.990 --> 00:04:42.490\nDark blues and light blues and greens.\n\n91\n00:04:42.490 --> 00:04:44.850\nWhat's this stuff all about?\n\n92\n00:04:44.850 --> 00:04:49.830\nWell, when we look at these files,\nif your distro is colorizing,\n\n93\n00:04:49.830 --> 00:04:51.510\nyou know ls is not always colorized.\n\n94\n00:04:51.510 --> 00:04:54.210\nIt's an option and\nyour distribution might have that set.\n\n95\n00:04:54.210 --> 00:04:57.540\nIf it's colorizing, each color\nrepresents a different type of file.\n\n96\n00:04:57.540 --> 00:05:00.385\nAnd so you'll see things like\ndirectories are dark blue.\n\n97\n00:05:00.385 --> 00:05:05.140\nSymlinks, that are our soft links,\nare light blue.\n\n98\n00:05:05.140 --> 00:05:07.520\nIf they're hard links, they're green.\n\n99\n00:05:07.520 --> 00:05:11.760\nIf it's an executable, executables\nwill usually be either red or purple.\n\n100\n00:05:11.760 --> 00:05:15.300\nLet me go into a directory\nwith some executables, and\n\n101\n00:05:15.300 --> 00:05:17.360\nactually haven't seen green on these.\n\n102\n00:05:17.360 --> 00:05:18.990\nThat's a neat one.\n\n103\n00:05:18.990 --> 00:05:20.710\nWe'll talk about that in\nthe permissions episode later,\n\n104\n00:05:20.710 --> 00:05:22.100\nwhy one would show up as red.\n\n105\n00:05:22.100 --> 00:05:24.510\nBut yeah, looks like they're\nshowing up as green on this.\n\n106\n00:05:24.510 --> 00:05:28.580\nSo you'll see different colors\nrepresenting different things.\n\n107\n00:05:28.580 --> 00:05:30.030\nBut don't count on that.\n\n108\n00:05:30.030 --> 00:05:33.960\nDon't rely on always having colors,\nall right?\n\n109\n00:05:33.960 --> 00:05:37.850\nFor example,\nif I switch over to my root user, and\n\n110\n00:05:37.850 --> 00:05:40.992\nI pull up my directory,\nwell actually he's even coloring it.\n\n111\n00:05:40.992 --> 00:05:43.270\nAll right, so\nI am getting colorized output there.\n\n112\n00:05:43.270 --> 00:05:47.480\nBut if I start to modify what ls is\ndisplaying, I might lose that, or\n\n113\n00:05:47.480 --> 00:05:51.180\nif I pipe it into the more\ncommand I might lose it, right?\n\n114\n00:05:51.180 --> 00:05:54.050\nIf your ls command is going to\nreturn more than one screen\n\n115\n00:05:54.050 --> 00:05:57.570\nof information you might pipe it into\nmore, and all the colors are gone.\n\n116\n00:05:57.570 --> 00:06:00.610\nAnd so if you're gonna lose those colors,\nit'd be nice to know\n\n117\n00:06:00.610 --> 00:06:04.400\nthe difference between a file and\na folder, or other information.\n\n118\n00:06:04.400 --> 00:06:07.280\nSo there's certain things that we can do\n\n119\n00:06:07.280 --> 00:06:11.050\nthat will let us manipulate\nthe output of the list command.\n\n120\n00:06:11.050 --> 00:06:13.530\nAt its basic, it just gives us file names.\n\n121\n00:06:13.530 --> 00:06:15.500\nAnd it may or\nmay not actually colorize them so\n\n122\n00:06:15.500 --> 00:06:16.830\nyou can see what type of files they are.\n\n123\n00:06:17.860 --> 00:06:21.646\nOne of my favorite things to do is ls -l.\n\n124\n00:06:21.646 --> 00:06:23.830\nAnd I say it's one of my favorite,\nI do this so\n\n125\n00:06:23.830 --> 00:06:27.623\nmuch that I usually put an alias in the\nsystem so that ls always does a -l for me,\n\n126\n00:06:27.623 --> 00:06:30.445\ncuz there's really never\na time where I don't want it.\n\n127\n00:06:30.445 --> 00:06:33.760\n-l says to give me the long output.\n\n128\n00:06:33.760 --> 00:06:36.700\nShow me details about the files.\n\n129\n00:06:36.700 --> 00:06:40.910\nAnd so when I run that,\nI see these same files from up here, but\n\n130\n00:06:40.910 --> 00:06:44.360\nnow I see their file size.\n\n131\n00:06:44.360 --> 00:06:46.910\nI see the date they were created or\nmodified.\n\n132\n00:06:46.910 --> 00:06:49.530\nI see the user that owns them,\nthe group that owns them.\n\n133\n00:06:49.530 --> 00:06:51.650\nI see the permissions\nassigned to the file.\n\n134\n00:06:51.650 --> 00:06:55.990\nI see a lot of data right\nhere about those files.\n\n135\n00:06:55.990 --> 00:06:58.690\nAnd looking at that data,\nlike here's this folder.\n\n136\n00:06:58.690 --> 00:07:01.440\nI know it's a folder, even if it's\nnot blue cuz I can look over here and\n\n137\n00:07:01.440 --> 00:07:03.750\nthere's this d bit, d for directory.\n\n138\n00:07:03.750 --> 00:07:06.810\nAnd so I know that's a directory\ncuz it's got a d there, right?\n\n139\n00:07:06.810 --> 00:07:09.930\nThat's information we get from\nthe long output of ls, right?\n\n140\n00:07:11.360 --> 00:07:13.040\nSo, just a little variation there,\n\n141\n00:07:13.040 --> 00:07:16.000\nkind of a nice thing to use\nto get a little more data.\n\n142\n00:07:17.730 --> 00:07:21.820\nAnother option is, maybe I just want\nto know which ones are folders and\n\n143\n00:07:21.820 --> 00:07:23.360\nwhich ones are files.\n\n144\n00:07:23.360 --> 00:07:28.830\nSo I can do ls -F, it's a capital F,\nand notice how my output doesn't\n\n145\n00:07:28.830 --> 00:07:34.740\nreally look any different except Test\nhas a slash after it, all right?\n\n146\n00:07:34.740 --> 00:07:36.040\nWhy does it have a slash after it?\n\n147\n00:07:36.040 --> 00:07:37.190\nIt's a folder.\n\n148\n00:07:37.190 --> 00:07:39.680\nIf I don't have a colorized system,\nthis is a quick and\n\n149\n00:07:39.680 --> 00:07:41.860\neasy way to tell files from folders.\n\n150\n00:07:41.860 --> 00:07:43.800\nIf I switch up to my parent folder here,\n\n151\n00:07:43.800 --> 00:07:46.680\nright, see how most of\nthese things are folders?\n\n152\n00:07:46.680 --> 00:07:50.610\nIf this was all just black and white,\nI wouldn't necessarily know, right?\n\n153\n00:07:50.610 --> 00:07:54.890\nSo if I were to do ls and pipe that\ninto the more command, here's that list.\n\n154\n00:07:54.890 --> 00:07:56.849\nAnd see how I lost all my colors?\n\n155\n00:07:56.849 --> 00:08:02.626\nWell if I did LS-F, and piped into the\nmore command, now my directories have that\n\n156\n00:08:02.626 --> 00:08:07.923\nslash after them, and so I know hey\nthis is a file, and this is a directory.\n\n157\n00:08:07.923 --> 00:08:11.598\nNow, you might be saying to yourself,\nwell, Don, I could have told that because\n\n158\n00:08:11.598 --> 00:08:16.030\nthis one has a file extension, and\nthe folders don't have file extensions.\n\n159\n00:08:16.030 --> 00:08:18.130\nWell, that's a Windows way of thinking.\n\n160\n00:08:18.130 --> 00:08:19.570\nThat's a Microsoft way of thinking.\n\n161\n00:08:19.570 --> 00:08:22.760\nIn Linux and Unix,\nwe don't have to have file extensions.\n\n162\n00:08:22.760 --> 00:08:26.340\nFile extensions are just there to help\nus as humans to know what the file is.\n\n163\n00:08:26.340 --> 00:08:29.850\nLinux doesn't care about that\nfile extension one single bit.\n\n164\n00:08:29.850 --> 00:08:35.220\nSo you could have a file that's\nexecutable, that's a document, whatever.\n\n165\n00:08:35.220 --> 00:08:36.970\nWith no file extension whatsoever.\n\n166\n00:08:36.970 --> 00:08:40.220\nSo don't trust looking for\nfile extensions,\n\n167\n00:08:40.220 --> 00:08:44.060\nwhen you're just trying to identify\nif something's a folder or a file.\n\n168\n00:08:44.060 --> 00:08:45.600\nThat's definitely something\nwe wanna keep in mind.\n\n169\n00:08:45.600 --> 00:08:47.370\n>> Yeah, Don.\n\n170\n00:08:47.370 --> 00:08:51.722\nYou have to know this, because like Don\nsaid, not every single terminal which you\n\n171\n00:08:51.722 --> 00:08:56.201\nlog into, it's going to give you those\ncolorizations, and it's real easy to get,\n\n172\n00:08:56.201 --> 00:08:59.292\nso used to that,\nto really start to rely on colorization,\n\n173\n00:08:59.292 --> 00:09:02.414\nI fell into that trap myself as\nI first became a Linux user.\n\n174\n00:09:02.414 --> 00:09:05.581\nI was like I really don't want a terminal\nthat doesn't have colorization,\n\n175\n00:09:05.581 --> 00:09:08.995\nbecause I can't tell what files are what,\nand what's a folder, and this that and\n\n176\n00:09:08.995 --> 00:09:12.612\nthe other, so learn to start doing it this\nway, so even if those colorizations aren't\n\n177\n00:09:12.612 --> 00:09:16.078\nthere you're not lost in the woods, you\nstill have an ability to see these things,\n\n178\n00:09:16.078 --> 00:09:18.980\nand like Don said, make that alias,\nmake it easy for yourself.\n\n179\n00:09:18.980 --> 00:09:22.010\n>> Yeah, I've gotten to the point where I\ndon't even bother with regular LS anymore,\n\n180\n00:09:22.010 --> 00:09:28.640\nit's almost always ls-la, now, A, A is\nanother command line modifier we can do.\n\n181\n00:09:28.640 --> 00:09:30.580\nWhen I do ls -l,\n\n182\n00:09:30.580 --> 00:09:34.970\nit's given me that long form of all\nthe files that are in this folder.\n\n183\n00:09:34.970 --> 00:09:37.320\nAnd so, if I look at it,\nit says right here, total of eight.\n\n184\n00:09:37.320 --> 00:09:40.330\nThere's eight whole files in this folder.\n\n185\n00:09:40.330 --> 00:09:41.741\nAnd seven of those are folders, and\n\n186\n00:09:41.741 --> 00:09:44.009\nthen there's one more here\nthat's just a regular file.\n\n187\n00:09:44.009 --> 00:09:47.590\nWell, there's also hidden files.\n\n188\n00:09:47.590 --> 00:09:50.100\nAnd a regular end user doesn't\ncare about hidden files.\n\n189\n00:09:50.100 --> 00:09:51.660\nBut an administrator does.\n\n190\n00:09:51.660 --> 00:09:53.740\nI might need to modify one\nof these hidden files.\n\n191\n00:09:53.740 --> 00:09:55.610\nLike if I want to create that\nalias I was talking about.\n\n192\n00:09:55.610 --> 00:09:59.280\nI'd need to modify my little rc file for\nmy session.\n\n193\n00:09:59.280 --> 00:10:04.880\nWell, if I wanna see that file, ls-la\n\n194\n00:10:04.880 --> 00:10:10.940\ngives me the long output, and the a says,\nshow me all the files even hidden files.\n\n195\n00:10:10.940 --> 00:10:13.930\nNow, how do we hide a file in Linux?\n\n196\n00:10:13.930 --> 00:10:15.190\nIt's actually very easy.\n\n197\n00:10:15.190 --> 00:10:18.190\nIn the file name just make\nthe first character a dot.\n\n198\n00:10:18.190 --> 00:10:23.050\nAny character that starts with a period\nas the first part of its name is hidden.\n\n199\n00:10:23.050 --> 00:10:29.981\nAnd so, I do ls-la, now,\ninstead of 8 files I see 72, total of 72.\n\n200\n00:10:29.981 --> 00:10:31.810\nWhat are all the other files?\n\n201\n00:10:31.810 --> 00:10:32.930\nWell, look at them.\n\n202\n00:10:32.930 --> 00:10:38.000\nI've got .bash_history, .bash_logout,\n.bash_profile, and all these other ones.\n\n203\n00:10:38.000 --> 00:10:41.040\nThey're hidden, because an average\nend user doesn't need to see those.\n\n204\n00:10:41.040 --> 00:10:41.600\nRight?\n\n205\n00:10:41.600 --> 00:10:42.442\nThe history.\n\n206\n00:10:42.442 --> 00:10:44.795\nThose are all the commands that\nI've ran since I've logged in.\n\n207\n00:10:44.795 --> 00:10:46.700\nIf I wanna see those,\nI don't need to look at this file,\n\n208\n00:10:46.700 --> 00:10:47.932\nI can just run the history command.\n\n209\n00:10:47.932 --> 00:10:49.385\nAnd there's everything uptight.\n\n210\n00:10:50.585 --> 00:10:53.965\nI don't need to look at the .bash_history\nfiles, so they hide that,\n\n211\n00:10:53.965 --> 00:10:56.698\nit's tucked away, and we don't see it.\n\n212\n00:10:56.698 --> 00:10:58.355\nLike .bashrc.\n\n213\n00:10:58.355 --> 00:11:01.935\nIf I wanna create that alias I was talking\nabout, I could put that right there in\n\n214\n00:11:01.935 --> 00:11:06.890\nbashrc, and now every time I turn my\nsystem on a log in I could run ls and\n\n215\n00:11:06.890 --> 00:11:10.020\nit would automatically do -la, or whatever\nit is that you wanted to set there.\n\n216\n00:11:10.020 --> 00:11:13.440\nAnd the nice part is it's done on a per\nuser basis as part of your profile.\n\n217\n00:11:13.440 --> 00:11:15.755\nWe'll talk about that\nmore in another episode.\n\n218\n00:11:15.755 --> 00:11:20.337\nBut you'll see other things in here,\n.vimrc, other programs, and\n\n219\n00:11:20.337 --> 00:11:23.470\neven entire folders, like .java, .local.\n\n220\n00:11:23.470 --> 00:11:27.771\nThose are gonna contain numerous settings\nand files that pertain to you as a user,\n\n221\n00:11:27.771 --> 00:11:30.449\nthat an average end user\njust doesn't need to see,\n\n222\n00:11:30.449 --> 00:11:33.276\nso you just stack them away,\nvery easy to hide a file.\n\n223\n00:11:33.276 --> 00:11:37.631\nAnd while we're talking about file names,\nif I start a file name with a period,\n\n224\n00:11:37.631 --> 00:11:39.460\nthat makes it hidden.\n\n225\n00:11:39.460 --> 00:11:43.330\nBut a couple other things about a file\nname to know in Linux, a couple odd facts.\n\n226\n00:11:44.500 --> 00:11:47.004\nFirst off,\nyour file names can be really long.\n\n227\n00:11:47.004 --> 00:11:50.371\nIn earlier systems, like in DOS, you\nhad that eight by three character name,\n\n228\n00:11:50.371 --> 00:11:53.788\nso the longest name you could have was\neight letters and numbers, a period, and\n\n229\n00:11:53.788 --> 00:11:56.480\nthen three letters and\nnumbers, and that was it.\n\n230\n00:11:56.480 --> 00:12:00.090\nIn Linux, you can have a file name\nthat's up to 255 characters long.\n\n231\n00:12:00.090 --> 00:12:01.561\nSo you can have a really long name.\n\n232\n00:12:01.561 --> 00:12:02.960\nAnd that's not even counting the path.\n\n233\n00:12:02.960 --> 00:12:04.760\nWith the path, you can go even longer.\n\n234\n00:12:04.760 --> 00:12:06.570\nBut the file name itself\ncan be really long.\n\n235\n00:12:07.600 --> 00:12:13.200\nBut, most Linux distributions, almost\nall of them still maintain what's called\n\n236\n00:12:13.200 --> 00:12:17.590\nPOSIX compliance, and POSIX compliance\ndefines how permissions are set and\n\n237\n00:12:17.590 --> 00:12:21.960\nhow file names work, and one of the\nrequirements of POSIX is that your file\n\n238\n00:12:21.960 --> 00:12:25.640\nnames are case sensitive, so if you're\ncoming from the Windows world, or\n\n239\n00:12:25.640 --> 00:12:30.350\neven the Mac world, on those systems,\nfiles aren't case-sensitive.\n\n240\n00:12:30.350 --> 00:12:33.110\nSo if I have a file that begins\nwith a capital letter F,\n\n241\n00:12:33.110 --> 00:12:36.440\nand a file with the same name\nwith a lower capital F, or,\n\n242\n00:12:36.440 --> 00:12:37.415\na lower capital F-\n>> [LAUGH].\n\n243\n00:12:37.415 --> 00:12:41.540\n>> A lowercase f, then that's\nthe same file on those systems.\n\n244\n00:12:41.540 --> 00:12:46.110\nBut on most of your Linux distros,\nthose are two different files.\n\n245\n00:12:46.110 --> 00:12:47.530\nLet me show you what I mean.\n\n246\n00:12:47.530 --> 00:12:51.330\nIf I get into my documents folder,\nand I look at my directory,\n\n247\n00:12:51.330 --> 00:12:55.370\nI've got a file here\ncalled shakespeare.txt.\n\n248\n00:12:55.370 --> 00:12:58.670\nAnd so, it's got some text in there\nthat is apparently Shakespeare.\n\n249\n00:12:58.670 --> 00:13:06.320\nWell, if I type more shakespeare.txt, it's\ngonna output the content of that file.\n\n250\n00:13:06.320 --> 00:13:07.480\nTo be or not to be that is the question.\n\n251\n00:13:08.610 --> 00:13:11.800\nBut if I were to run more and\ncapitalize the S for\n\n252\n00:13:11.800 --> 00:13:17.140\nShakespeare, I get no such file of record,\nit can't find it.\n\n253\n00:13:17.140 --> 00:13:19.377\nWell, in Windows or\nMac it would be okay with that.\n\n254\n00:13:19.377 --> 00:13:21.730\nIt would say, all right,\nhere's the file, here's the contents.\n\n255\n00:13:21.730 --> 00:13:24.030\nBut on a lymph box,\nit's still process compliant,\n\n256\n00:13:24.030 --> 00:13:27.090\nit defaults to case sensitive,\nthat's a different file.\n\n257\n00:13:27.090 --> 00:13:34.040\nSo if I create a file called dontest.txt,\n\n258\n00:13:34.040 --> 00:13:36.220\nor I'll create a file, and\nI'm just using the touch command.\n\n259\n00:13:36.220 --> 00:13:37.335\nTouch creates a file.\n\n260\n00:13:37.335 --> 00:13:38.280\nIt's an empty file.\n\n261\n00:13:38.280 --> 00:13:44.590\nAnd so I'm gonna create DONTEST.TXT,\nand I'll do, we'll go crazy here.\n\n262\n00:13:46.917 --> 00:13:50.020\nI'm doing my mixed case, my leetspeak.\n\n263\n00:13:50.020 --> 00:13:52.300\nSo you know, hard core.\n\n264\n00:13:52.300 --> 00:13:53.900\nSo I just created three files.\n\n265\n00:13:53.900 --> 00:13:56.168\nThey're all called dontest.txt.\n\n266\n00:13:56.168 --> 00:13:58.070\nBut they've all got different casing.\n\n267\n00:13:58.070 --> 00:14:02.660\nAnd if I pull up my directory listing, and\nI look at it, there's all three of them.\n\n268\n00:14:02.660 --> 00:14:07.490\nThat's three different files,\ncuz they have different cases.\n\n269\n00:14:07.490 --> 00:14:10.730\nSo file names are case sensitive in Linux.\n\n270\n00:14:10.730 --> 00:14:12.360\nDefinitely be careful with that.\n\n271\n00:14:14.917 --> 00:14:18.092\nSo when we start to work with files,\nwe've seen the PWD command,\n\n272\n00:14:18.092 --> 00:14:21.500\nthe Present Working Directory,\nto figure out where we're at.\n\n273\n00:14:21.500 --> 00:14:25.910\nWe've seen the ls command to list\nwhat's available, what's in here.\n\n274\n00:14:25.910 --> 00:14:30.810\nWe also have the cd command, the change\ndirectory to be able to move paths around,\n\n275\n00:14:30.810 --> 00:14:34.040\nand you've seen me use that command\na few times, like if I do cd..,\n\n276\n00:14:36.360 --> 00:14:39.650\nthat means move to the parent directory,\nwhatever's above this directory.\n\n277\n00:14:39.650 --> 00:14:45.210\nIf I'm in the documents folder, it's\nslash home slash dpezet slash documents,\n\n278\n00:14:45.210 --> 00:14:50.790\nI can type cd.., and now, I'm in slash\nhome slash dpezet, where if I get\n\n279\n00:14:50.790 --> 00:14:56.160\nback into documents, I can just type cd\ndocuments, and now it moves me into that.\n\n280\n00:14:56.160 --> 00:14:58.240\nNow, change directory\nis a relative command.\n\n281\n00:14:58.240 --> 00:15:01.480\nIt bases your data off of\nwhere you're at right now.\n\n282\n00:15:01.480 --> 00:15:03.460\nBut you could type the whole folder.\n\n283\n00:15:03.460 --> 00:15:06.730\nIf I wanted to go to /home/dpezet I could.\n\n284\n00:15:06.730 --> 00:15:10.830\nAnd if I wanted to go to\n/home/dpezet/Documents I could do that,\n\n285\n00:15:10.830 --> 00:15:12.350\ntoo, by typing the whole thing.\n\n286\n00:15:12.350 --> 00:15:13.970\nBut the aliases are a little bit easier.\n\n287\n00:15:13.970 --> 00:15:17.920\nCd To move up cd documents, just to move\n\n288\n00:15:17.920 --> 00:15:21.030\nfrom whatever directory you're in\ninto a subdirectory called Documents.\n\n289\n00:15:21.030 --> 00:15:25.330\nYou can use cd/ to jump all\nthe way to the root and get there.\n\n290\n00:15:25.330 --> 00:15:28.620\nAnd cd by itself just returns\nyou back to your home directory.\n\n291\n00:15:28.620 --> 00:15:32.090\nSo easy way is to kinda navigate and\nmove around.\n\n292\n00:15:32.090 --> 00:15:35.850\nNow, I bring those up,\nbecause oftentimes we create files, and\n\n293\n00:15:35.850 --> 00:15:40.340\nthe files aren't necessarily where\nwe want them to reside long term.\n\n294\n00:15:40.340 --> 00:15:43.600\nSo I might have files here\nlike all my DONTEST files, and\n\n295\n00:15:43.600 --> 00:15:47.670\nI might want to move those into\nanother directory like test.\n\n296\n00:15:47.670 --> 00:15:49.797\nOr I might want to copy them into test.\n\n297\n00:15:49.797 --> 00:15:51.252\nAnd so we have two commands then.\n\n298\n00:15:51.252 --> 00:15:53.850\nCP to copy and V to move.\n\n299\n00:15:53.850 --> 00:15:56.555\nNow, When am I gonna use which one Daniel?\n\n300\n00:15:56.555 --> 00:16:00.437\n>> Well if I wanted to keep the files in\nmy current directory, it would be a pretty\n\n301\n00:16:00.437 --> 00:16:04.230\ngood idea just to copy them into\nwherever I needed them at that point.\n\n302\n00:16:04.230 --> 00:16:05.880\nBut if I wanted to get them\nout of that directory and\n\n303\n00:16:05.880 --> 00:16:07.790\npermanently place them somewhere else, and\n\n304\n00:16:07.790 --> 00:16:10.550\njust have one copy not taking\nup as much disk space obviously.\n\n305\n00:16:10.550 --> 00:16:12.090\nI would use the move command.\n\n306\n00:16:12.090 --> 00:16:12.850\n>> Yep.\n\n307\n00:16:12.850 --> 00:16:16.029\nAnd that's really what it comes down to\nis whether you want it to remain where it\n\n308\n00:16:16.029 --> 00:16:16.666\nstarted from.\n\n309\n00:16:16.666 --> 00:16:20.586\nSo if I just wanna put a copy\nof my DONTEST files into test,\n\n310\n00:16:20.586 --> 00:16:22.477\nI could use the cp command.\n\n311\n00:16:22.477 --> 00:16:23.553\nAnd the way cp works.\n\n312\n00:16:23.553 --> 00:16:25.836\nWhoops I apparently turned\non my caps lock there.\n\n313\n00:16:25.836 --> 00:16:30.505\nAnd the way cp works, is you specify\na source followed by destination.\n\n314\n00:16:30.505 --> 00:16:33.395\nAnd the source can be an individual file.\n\n315\n00:16:33.395 --> 00:16:34.625\nIt can be a folder.\n\n316\n00:16:34.625 --> 00:16:36.815\nIt can be a wild card, right?\n\n317\n00:16:36.815 --> 00:16:41.965\nI can copy a number of things based\non a basic regular expression.\n\n318\n00:16:41.965 --> 00:16:46.645\nSo, like, if I did a cp *,\nthat would mean copy\n\n319\n00:16:46.645 --> 00:16:50.500\neverything in this directory,\nto another location, and\n\n320\n00:16:50.500 --> 00:16:54.140\nthat other location might be\ninto the test folder, right.\n\n321\n00:16:54.140 --> 00:16:57.360\nAnd I can say ./test to\nrepresent the folder I'm in,\n\n322\n00:16:57.360 --> 00:16:59.500\nand then test is underneath it.\n\n323\n00:16:59.500 --> 00:17:06.525\nOr I could go all the way, and\nI could say /home/dpezet/Documents/test.\n\n324\n00:17:06.525 --> 00:17:07.250\nAnd when I run that,\n\n325\n00:17:07.250 --> 00:17:11.725\nit's gonna copy everything in this\ndirectory into that subfolder.\n\n326\n00:17:11.725 --> 00:17:12.770\nAlright.\n\n327\n00:17:12.770 --> 00:17:16.360\nNow notice I did get one error,\nomitting directory test.\n\n328\n00:17:16.360 --> 00:17:20.180\ncp does not copy directories by default,\nright.\n\n329\n00:17:20.180 --> 00:17:22.420\nIf you wanna copy subdirectories, and\n\n330\n00:17:22.420 --> 00:17:26.990\nstuff that's underneath it, then you have\nto run it in what's called recursive mode.\n\n331\n00:17:26.990 --> 00:17:30.180\nAnd most of the commands we talk\nabout today, are gonna use that,\n\n332\n00:17:30.180 --> 00:17:31.180\nare gonna have a recursive mode.\n\n333\n00:17:31.180 --> 00:17:36.010\nAll you have to do is add a -R, and\non most systems it's a capital R,\n\n334\n00:17:36.010 --> 00:17:38.200\nI have seen some where\nit's a lower case r.\n\n335\n00:17:38.200 --> 00:17:41.075\nSome of them will take either,\nbut I'm gonna do a capital R.\n\n336\n00:17:41.075 --> 00:17:43.740\ncp-R means copy everything\nin this directory, and\n\n337\n00:17:43.740 --> 00:17:47.200\neverything in the subdirectory,\ninto another location.\n\n338\n00:17:47.200 --> 00:17:50.640\nAnd so that's useful if you\nwanna preserve your path, right.\n\n339\n00:17:50.640 --> 00:17:52.745\nAll the different folder structures and\nall that, it can get those.\n\n340\n00:17:52.745 --> 00:17:56.820\nmv the move command works the same way.\n\n341\n00:17:56.820 --> 00:18:00.380\nSo, for example,\nif I change into that test directory, and\n\n342\n00:18:00.380 --> 00:18:03.900\nI pull up my directory here, I can see\nall the files that copied in there.\n\n343\n00:18:03.900 --> 00:18:07.910\nAnd if I want to move these\nsomewhere else, right.\n\n344\n00:18:07.910 --> 00:18:12.038\nMaybe I want to create a directory,\nso I'm gonna use the make dir,\n\n345\n00:18:12.038 --> 00:18:14.342\nm-k-d-i-r to make a directory.\n\n346\n00:18:14.342 --> 00:18:21.169\nAnd I'm currently in\n/home/dpezet/documents/test.\n\n347\n00:18:21.169 --> 00:18:24.348\nMaybe I want to make\n\n348\n00:18:24.348 --> 00:18:31.320\n/home/dpezet/documents/test2.\n\n349\n00:18:31.320 --> 00:18:33.500\nAlright, well I can make that directory.\n\n350\n00:18:33.500 --> 00:18:36.401\nI could've actually saved a good\nbit of time here, let's do a test3.\n\n351\n00:18:36.401 --> 00:18:38.828\nBy saying ../Test3.\n\n352\n00:18:38.828 --> 00:18:44.790\nThat mean, dot, dot, go to the parent\ndirectory and create Test3 there.\n\n353\n00:18:44.790 --> 00:18:48.860\nThat's basically the same as the command\nI did above, just a lot easier to type.\n\n354\n00:18:48.860 --> 00:18:56.854\nAnd now I could move all the files\nin this directory into Test2.\n\n355\n00:18:56.854 --> 00:19:01.890\nAnd when I move those, it's gonna move\nthem, this directory is now empty.\n\n356\n00:19:01.890 --> 00:19:06.400\nAnd if I move into Test2,\nthere's all the files.\n\n357\n00:19:06.400 --> 00:19:08.060\nRight?\nMove right over, we're in business.\n\n358\n00:19:09.410 --> 00:19:10.420\nSo the move command, pretty handy.\n\n359\n00:19:10.420 --> 00:19:12.640\nIf there were subdirectories,\nI would've wanted to use, move -R,\n\n360\n00:19:12.640 --> 00:19:15.360\nto make sure that I grabbed\neverything that was inside of it.\n\n361\n00:19:15.360 --> 00:19:17.899\nSo, definitely an important one for\nus there.\n\n362\n00:19:19.140 --> 00:19:21.470\nNow I've copied files.\n\n363\n00:19:21.470 --> 00:19:22.300\nI've moved files.\n\n364\n00:19:22.300 --> 00:19:24.180\nI've listed files.\n\n365\n00:19:24.180 --> 00:19:26.550\nWhat if we just don't want files anymore,\nright?\n\n366\n00:19:26.550 --> 00:19:29.063\nAnd you guys can't see, it's off camera,\nbut Daniel's over here doing the [SOUND].\n\n367\n00:19:29.063 --> 00:19:31.660\n>> [LAUGH]\n>> We want to kill the files.\n\n368\n00:19:31.660 --> 00:19:33.650\nSo we really want to toast these things.\n\n369\n00:19:33.650 --> 00:19:36.070\nWell, that's where\nthe rm command comes in.\n\n370\n00:19:36.070 --> 00:19:37.280\nRemove.\n\n371\n00:19:37.280 --> 00:19:40.490\nAnd you can do rm followed by a file name.\n\n372\n00:19:40.490 --> 00:19:45.340\nSo if I want to remove,\nLet's do dontest.txt.\n\n373\n00:19:45.340 --> 00:19:48.300\nRight, so\nI'm just gonna do RM Dontest.txt.\n\n374\n00:19:48.300 --> 00:19:52.490\nI can do that and now when I do an ls,\nI can see that one's gone.\n\n375\n00:19:52.490 --> 00:19:57.400\nAnd it's case sensitive so\nI only removed that one text file, right?\n\n376\n00:19:57.400 --> 00:19:59.490\nSo that's now gone and it's out of there.\n\n377\n00:19:59.490 --> 00:20:03.800\nBut rm, it can be run recursively to\nknock out things that are underneath it.\n\n378\n00:20:03.800 --> 00:20:05.030\nYou can even do rm -rf,\n\n379\n00:20:05.030 --> 00:20:10.050\nwhich will force the removal if,\nnormally if you have a subdirectory.\n\n380\n00:20:10.050 --> 00:20:11.490\nLet me show you an example here.\n\n381\n00:20:11.490 --> 00:20:14.640\nSo let's say I'll make\na directory called Test, and\n\n382\n00:20:14.640 --> 00:20:17.760\ninside of test I create a couple of files.\n\n383\n00:20:17.760 --> 00:20:19.290\nSo I'll just do it like file1 and file2.\n\n384\n00:20:20.400 --> 00:20:21.470\nAll right.\n\n385\n00:20:21.470 --> 00:20:23.720\nIf I try and remove that directory.\n\n386\n00:20:23.720 --> 00:20:28.960\nIf I try and remove ./Test, I get,\ncannot remove it, it's a directory.\n\n387\n00:20:28.960 --> 00:20:29.530\nAll right?\n\n388\n00:20:29.530 --> 00:20:30.580\nWell, if I say okay.\n\n389\n00:20:30.580 --> 00:20:32.480\nWell, you know what, let me do rm -r.\n\n390\n00:20:32.480 --> 00:20:36.050\nI'm gonna make this recursive and\ndelete inside of it.\n\n391\n00:20:36.050 --> 00:20:40.640\nWell, now it's gonna move through\nthat directory and get rid of it.\n\n392\n00:20:40.640 --> 00:20:44.430\nIt got rid of it and\nthe files underneath, all right?\n\n393\n00:20:44.430 --> 00:20:46.880\nIf it hits a file that's locked,\nor in use, or\n\n394\n00:20:46.880 --> 00:20:52.000\nsomething like that,\nI can do rm-R aft to force it to remove.\n\n395\n00:20:52.000 --> 00:20:52.800\nAnd that'll knock it out.\n\n396\n00:20:52.800 --> 00:20:55.850\nSo directories are a little bit different,\nespecially if they have files inside of\n\n397\n00:20:55.850 --> 00:20:59.090\nthem, they're a little harder to remove,\nall right?\n\n398\n00:20:59.090 --> 00:21:01.360\nBut rm can knock them out.\n\n399\n00:21:01.360 --> 00:21:06.810\nSo, cp to copy, mv to move, rm to remove.\n\n400\n00:21:06.810 --> 00:21:11.550\nAnd then if we want to make a directory,\nit was mkdir right, make directory.\n\n401\n00:21:11.550 --> 00:21:12.210\nLittle bit long right?\n\n402\n00:21:12.210 --> 00:21:16.775\nI don't know why they didn't just do md on\nthat one, but maybe they're not doctors.\n\n403\n00:21:16.775 --> 00:21:18.160\n>> [LAUGH]\n>> So we got that one.\n\n404\n00:21:18.160 --> 00:21:19.810\nWhat was the other command that we did?\n\n405\n00:21:19.810 --> 00:21:21.550\nWe did ls, for listing in directory.\n\n406\n00:21:21.550 --> 00:21:23.928\nI did cd for changing a directory.\n\n407\n00:21:23.928 --> 00:21:25.977\n>> [CROSSTALK] touch.\n\n408\n00:21:25.977 --> 00:21:26.800\n>> Oh, and touch, yeah.\n\n409\n00:21:26.800 --> 00:21:28.240\n>> Creating a file.\n\n410\n00:21:28.240 --> 00:21:31.600\n>> So couple of different files there for\nkind of manipulating things.\n\n411\n00:21:31.600 --> 00:21:35.730\nThere are tons of other commands\nthat are available, too, though.\n\n412\n00:21:35.730 --> 00:21:37.160\nThey go far beyond this.\n\n413\n00:21:37.160 --> 00:21:40.100\nAnd so we're gonna take a look at\nsome of those that are out there.\n\n414\n00:21:40.100 --> 00:21:43.490\nI'm trying to think of other ones\nthat I want to mention here before,\n\n415\n00:21:43.490 --> 00:21:45.580\nbecause I know we're running a little\nlow on time on this segment.\n\n416\n00:21:46.710 --> 00:21:48.140\nSo we looked at removing directories.\n\n417\n00:21:48.140 --> 00:21:48.930\nWe created some.\n\n418\n00:21:48.930 --> 00:21:49.955\nWe kind of navigated around,\n\n419\n00:21:49.955 --> 00:21:52.990\na few other things that we\nmight want to pay attention to.\n\n420\n00:21:52.990 --> 00:21:58.380\nWith the ls command, when we do\na listing like this or ls-la, right.\n\n421\n00:21:58.380 --> 00:22:00.080\nIt gives me the listing.\n\n422\n00:22:00.080 --> 00:22:02.440\nAnd look at those file sizes, all right?\n\n423\n00:22:02.440 --> 00:22:04.530\nThe file sizes are being listed in bytes.\n\n424\n00:22:04.530 --> 00:22:08.620\nAnd so I can see how many bytes these\nfiles are, and as the files get bigger,\n\n425\n00:22:08.620 --> 00:22:11.680\nand bigger, and bigger,\nit becomes less human readable, right?\n\n426\n00:22:11.680 --> 00:22:13.650\nIt starts to become really confusing.\n\n427\n00:22:13.650 --> 00:22:19.770\nAnd so if I go into /usr/bin, and do\na ls-la, I'll pipe that into more, and we\n\n428\n00:22:19.770 --> 00:22:23.610\nstart looking at these files sizes, some\nof these files start to get kinda big.\n\n429\n00:22:23.610 --> 00:22:27.840\nAnd there's no comma's in there, so it's\nhard to tell where the placeholder is, and\n\n430\n00:22:27.840 --> 00:22:31.350\ndetermining how big those files are,\nstarts to become really confusing.\n\n431\n00:22:31.350 --> 00:22:33.150\nSo one thing I like to do,\n\n432\n00:22:33.150 --> 00:22:36.200\nis to add one more letter to\nmy little alphabet soup here.\n\n433\n00:22:36.200 --> 00:22:39.867\nWith ls-lah.\n\n434\n00:22:39.867 --> 00:22:44.300\nH, you'll see that option on a lot of\ncommands where it makes it human readable.\n\n435\n00:22:44.300 --> 00:22:44.830\nAll right.\n\n436\n00:22:44.830 --> 00:22:47.780\nHuman readable just says,\nwhen you're gonna represent a file size,\n\n437\n00:22:47.780 --> 00:22:50.420\ngive it to me as something that\nmakes a little more sense.\n\n438\n00:22:50.420 --> 00:22:55.600\nAnd now, see how it's listing it as\nlike 6.7K, so I know that's kilobytes.\n\n439\n00:22:55.600 --> 00:22:56.840\nHere this one's 106 kilobytes.\n\n440\n00:22:56.840 --> 00:22:59.420\nWe'll see if we can find\none that's even bigger.\n\n441\n00:22:59.420 --> 00:23:01.355\nIf it's a megabyte 3.7 megabytes, right.\n\n442\n00:23:01.355 --> 00:23:06.885\nNow it's a lot easier to interpret\nwhat's being displayed there.\n\n443\n00:23:06.885 --> 00:23:09.275\nSo another little modifier\nthat's kind of handy.\n\n444\n00:23:09.275 --> 00:23:11.275\nI do typically put that one in my alias,\ntoo.\n\n445\n00:23:11.275 --> 00:23:14.110\nSo ls-lah.\n\n446\n00:23:14.110 --> 00:23:18.690\nBut the ls command, if you read\nits man page, it's got a lot of\n\n447\n00:23:18.690 --> 00:23:22.050\nother options in there that are pretty\nneat, that you can manipulate with.\n\n448\n00:23:22.050 --> 00:23:26.100\nOne that you might need to use from\ntime to time, is the order option.\n\n449\n00:23:26.100 --> 00:23:27.930\nThe sort options.\n\n450\n00:23:27.930 --> 00:23:30.330\nAnd you actually have the sort\ncommand that you can pipe this into,\n\n451\n00:23:30.330 --> 00:23:32.060\nbut ls can do it for you.\n\n452\n00:23:32.060 --> 00:23:34.860\nCuz normally it's going to\nsort alphabetically, so\n\n453\n00:23:34.860 --> 00:23:37.730\nthe files are gonna be listed\nalphabetically by name.\n\n454\n00:23:37.730 --> 00:23:40.640\nBut maybe you want\nthe biggest files first, and\n\n455\n00:23:40.640 --> 00:23:42.950\nthe smallest files second, right.\n\n456\n00:23:42.950 --> 00:23:46.230\nSo kind of ordered by size, and so\nif you look through the options in here,\n\n457\n00:23:46.230 --> 00:23:50.480\nyou can find where it's got that,\nit is with a dash.\n\n458\n00:23:51.860 --> 00:23:52.780\nI thought it was -s.\n\n459\n00:23:52.780 --> 00:23:53.880\nOh here, yeah.\n\n460\n00:23:53.880 --> 00:23:54.960\nDash capital S.\n\n461\n00:23:54.960 --> 00:23:56.110\nSort by file size.\n\n462\n00:23:57.230 --> 00:24:01.529\nSo if we were to change this,\ninstead of just doing like,\n\n463\n00:24:01.529 --> 00:24:04.080\nls-la, and getting it here sorted by name.\n\n464\n00:24:04.080 --> 00:24:06.220\nSee all my Zs are at the end?\n\n465\n00:24:06.220 --> 00:24:10.140\nI could do ls-laS.\n\n466\n00:24:10.140 --> 00:24:12.090\nAnd now it's gonna sort by its size.\n\n467\n00:24:12.090 --> 00:24:14.220\nThe small files are at the bottom, and\n\n468\n00:24:14.220 --> 00:24:18.470\nthe big files were way up here at the top,\nnice and in order.\n\n469\n00:24:18.470 --> 00:24:20.160\nNow, you do have to be a little\nbit careful with that,\n\n470\n00:24:20.160 --> 00:24:22.570\ncuz sometimes h doesn't play nice with it.\n\n471\n00:24:22.570 --> 00:24:25.020\nLet me type that in the more this time.\n\n472\n00:24:25.020 --> 00:24:27.325\nAnd actually it is sorting it right here.\n\n473\n00:24:27.325 --> 00:24:31.892\nI've seen it sometimes we you might have\none that's 20k, and then it appears above\n\n474\n00:24:31.892 --> 00:24:35.140\nthe 7.1 meg because 20 [LAUGH]\n>> 20 versus 7.\n\n475\n00:24:35.140 --> 00:24:36.180\nYeah, it's unfortunate.\n\n476\n00:24:36.180 --> 00:24:37.380\nBut this one is doing fine.\n\n477\n00:24:37.380 --> 00:24:39.940\nSo here I can see 7.1 megs,\nand then it goes down,\n\n478\n00:24:39.940 --> 00:24:42.460\nstill human readable,\nas we go down the list.\n\n479\n00:24:42.460 --> 00:24:44.990\nSo changing that sort order is handy.\n\n480\n00:24:44.990 --> 00:24:47.830\nIf you want to sort by something else,\nlike modification date,\n\n481\n00:24:47.830 --> 00:24:52.950\nyou can always pipe the ls\noutput into the sort command,\n\n482\n00:24:52.950 --> 00:24:55.240\nand we covered sort in\nanother episode didn't we?\n\n483\n00:24:55.240 --> 00:24:56.150\nThe manipulating text?\n\n484\n00:24:56.150 --> 00:24:56.970\n>> I believe so yeah.\n\n485\n00:24:56.970 --> 00:24:59.730\n>> So check that episode out because\nyou'll have to identify which column it is\n\n486\n00:24:59.730 --> 00:25:02.570\nyou want to sort by, and\nthen you can kind of grab it with that,\n\n487\n00:25:02.570 --> 00:25:07.440\nso neat way to kind of organize\nthe files the way you want.\n\n488\n00:25:07.440 --> 00:25:10.400\nOr pipe it into the gripe\ncommand to get certain files,\n\n489\n00:25:10.400 --> 00:25:12.015\nthere's all sorts of neat\nstuff you can do there.\n\n490\n00:25:12.015 --> 00:25:16.010\nSo, definitely out of\n>> Yea Linux gives you a lot of\n\n491\n00:25:16.010 --> 00:25:18.230\nflexibility, and\nif you start reading those man pages,\n\n492\n00:25:18.230 --> 00:25:21.320\nthose manual pages, you start diving\ninto those things and you realize,\n\n493\n00:25:21.320 --> 00:25:26.240\nwow these seemingly very simple commands\nhave a lot of power behind them.\n\n494\n00:25:26.240 --> 00:25:29.855\nSo dive into that, make sure that\nyou learn some stuff from them so\n\n495\n00:25:29.855 --> 00:25:32.470\nthat you can, just in your day\nto day workings with Linux,\n\n496\n00:25:32.470 --> 00:25:36.014\ngive yourself some ease of use and have\nsome trips, not trips, tips and tricks,\n\n497\n00:25:36.014 --> 00:25:36.750\n>> [LAUGH]\n\n498\n00:25:36.750 --> 00:25:38.330\n>> for yourself, and to show those.\n\n499\n00:25:38.330 --> 00:25:41.360\nIt's always a cool thing to do,\nshare how this is how I do that and\n\n500\n00:25:41.360 --> 00:25:43.140\nit's really cool, makes things easy.\n\n501\n00:25:43.140 --> 00:25:45.520\nThat's what we like to do as well.\n\n502\n00:25:45.520 --> 00:25:48.650\n>> Well Daniel, we also need to talk about\narchiving commands, but I know we're short\n\n503\n00:25:48.650 --> 00:25:52.190\nof time on this episode so,\nwhy don't we do a part two on this one?\n\n504\n00:25:52.190 --> 00:25:53.050\n>> I think we should.\n\n505\n00:25:53.050 --> 00:25:56.170\nArchiving commands are great stuff and\nwe all need to know how to do them.\n\n506\n00:25:56.170 --> 00:25:58.660\nSo we'll do that.\n\n507\n00:25:58.660 --> 00:25:59.670\n>> All right.\n>> Well, I was gonna say,\n\n508\n00:25:59.670 --> 00:26:00.480\nwell that being said,\n\n509\n00:26:00.480 --> 00:26:03.365\nit looks like we've wrapped up\nanother episode of Linux Plus here.\n\n510\n00:26:03.365 --> 00:26:05.235\nHope you guys have enjoyed it,\nwe sure did.\n\n511\n00:26:05.235 --> 00:26:08.505\nSigning off for ITProvTV,\nI've been your host, Daniel Lowrie.\n\n512\n00:26:08.505 --> 00:26:09.195\n>> And I'm Don Pezet.\n\n513\n00:26:09.195 --> 00:26:10.564\n>> And we'll see you next time.\n\n514\n00:26:10.564 --> 00:26:16.570\n[MUSIC]\n\n",
          "vimeoId": "131129581"
        },
        {
          "description": null,
          "length": "1498",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-1-file_managent_commands_pt2-061715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-1-file_managent_commands_pt2-061715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-1-file_managent_commands_pt2-061715-1-sm.jpg",
          "title": "File Management Commands Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.057 --> 00:00:15.338\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.338 --> 00:00:19.020\nBe your host, Daniel Lowry, and here with\nme today, is my good friend, Don Pezet.\n\n4\n00:00:19.020 --> 00:00:20.090\nHow are you doing today, Don?\n\n5\n00:00:20.090 --> 00:00:21.940\n>> I am doing great, and\nyou know, we're back for\n\n6\n00:00:21.940 --> 00:00:25.530\nthe action packed conclusion to our two\npart series on file management commands.\n\n7\n00:00:25.530 --> 00:00:27.050\n>> That's right,\nI'm on the edge of my seat.\n\n8\n00:00:27.050 --> 00:00:27.740\n>> I know you guys,\n\n9\n00:00:27.740 --> 00:00:32.310\nyou've found some way to tolerate the\ndistance of time between the two episodes.\n\n10\n00:00:32.310 --> 00:00:35.310\nIn our last episode we covered a lot\nof basic file management commands,\n\n11\n00:00:35.310 --> 00:00:37.440\ncopying files,\ndeleting files, moving files.\n\n12\n00:00:37.440 --> 00:00:39.990\nYou know, nothing too crazy,\nbut essential stuff.\n\n13\n00:00:39.990 --> 00:00:41.930\nThings that we do all the time.\n\n14\n00:00:41.930 --> 00:00:45.310\nIn this episode we're going to\ntalk about file archive commands.\n\n15\n00:00:45.310 --> 00:00:49.570\nThere are times when we need to take\nmultiple files and bundle them together\n\n16\n00:00:49.570 --> 00:00:53.400\ninto one big fat file to be able to\nuse for for various reasons, right?\n\n17\n00:00:53.400 --> 00:00:55.480\nFor example,\nmaybe Daniel shoots me an email.\n\n18\n00:00:55.480 --> 00:00:57.880\nAnd he says, hey Don,\nI need these five files.\n\n19\n00:00:57.880 --> 00:00:59.150\nCan you send them to me?\n\n20\n00:00:59.150 --> 00:01:03.150\nWell, I might want to bundle\nthose five files together as one.\n\n21\n00:01:03.150 --> 00:01:05.160\nSo now I'm just sending Daniel one file.\n\n22\n00:01:05.160 --> 00:01:08.280\nAnd I might even want to compress it with\na compression utility to make the file\n\n23\n00:01:08.280 --> 00:01:09.120\neven smaller.\n\n24\n00:01:09.120 --> 00:01:10.920\nMakes it easier to transmit, right?\n\n25\n00:01:10.920 --> 00:01:13.418\nSo that's one reason,\nmaybe I'm just taking backups.\n\n26\n00:01:13.418 --> 00:01:16.620\nI want to backup my files, but\nI don't want a ton of files laying around.\n\n27\n00:01:16.620 --> 00:01:19.640\nSo I want to compress those and\narchive them into a single file.\n\n28\n00:01:19.640 --> 00:01:23.760\nWell, there's several different utilities\navailable in Linux that'll let us do that,\n\n29\n00:01:23.760 --> 00:01:27.760\nto let us just store everything together\nand then retrieve it as needed.\n\n30\n00:01:27.760 --> 00:01:30.500\nSo we're going to look at a few\nof those different methods today.\n\n31\n00:01:30.500 --> 00:01:32.250\n>> Yeah if you come from\na Windows background,\n\n32\n00:01:32.250 --> 00:01:35.850\nthis really isn't a foreign concept,\nit's just a different way of doing it.\n\n33\n00:01:35.850 --> 00:01:37.400\nIn Windows they use ZIP.\n\n34\n00:01:37.400 --> 00:01:40.950\nYou get those .ZIP files and you can\nadd some compression to those as well.\n\n35\n00:01:40.950 --> 00:01:44.140\nBut Linux has their own way of doing it,\nand they're actually pretty handy.\n\n36\n00:01:44.140 --> 00:01:44.990\n>> Yeah.\n\n37\n00:01:44.990 --> 00:01:47.150\nNow, some of these are older than others,\nso\n\n38\n00:01:47.150 --> 00:01:49.060\nwe're not necessarily going\nto make use of all of them.\n\n39\n00:01:49.060 --> 00:01:52.760\nLet's start off with probably the one\nthat's the most used, and that's TAR.\n\n40\n00:01:52.760 --> 00:01:54.330\nThe tar command in Linux,\n\n41\n00:01:54.330 --> 00:01:59.100\nit stands for tape archive, and\nit was used, back in the days of tapes.\n\n42\n00:01:59.100 --> 00:02:02.765\nWhen you wanted to write files to a tape,\nyou know magnetic tapes,\n\n43\n00:02:02.765 --> 00:02:06.759\nit didn't treat them as individual files,\nit was just magnetic ones and\n\n44\n00:02:06.759 --> 00:02:10.314\nzeros written in a serial line\nright across this magnetic tape.\n\n45\n00:02:10.314 --> 00:02:14.628\nAnd it needed some way to identify\nwhere one file stopped and\n\n46\n00:02:14.628 --> 00:02:20.570\nthe next file started, otherwise it\nwould just think it was one big file.\n\n47\n00:02:20.570 --> 00:02:24.750\nSo, what TAR does,\nis TAR gathers multiple files together,\n\n48\n00:02:24.750 --> 00:02:28.080\nsticks them together to make one big file,\nand\n\n49\n00:02:28.080 --> 00:02:32.110\nkeeps a little table to know where one\nfile stops and the other one starts.\n\n50\n00:02:32.110 --> 00:02:35.510\nIt actually has these little pointers\nthat it injects between each file and\n\n51\n00:02:35.510 --> 00:02:37.070\nthat's how we know it's there.\n\n52\n00:02:37.070 --> 00:02:40.270\nNow most people don't store data\non tape anymore, so you might say,\n\n53\n00:02:40.270 --> 00:02:42.900\nwell why do we still use TAR?\n\n54\n00:02:42.900 --> 00:02:43.460\nAnd the reason is,\n\n55\n00:02:43.460 --> 00:02:47.740\neven if you're not saving to tape, it's\nstill a great way to stick files together.\n\n56\n00:02:47.740 --> 00:02:49.340\nYou could just use the cat command,\n\n57\n00:02:49.340 --> 00:02:52.890\nconcatenate, I could cat\nfive files together.\n\n58\n00:02:52.890 --> 00:02:56.550\nBut then when I want to split them apart,\nhow do I know where to split them?\n\n59\n00:02:56.550 --> 00:02:57.960\nThat's the real challenge.\n\n60\n00:02:57.960 --> 00:02:59.400\nTAR takes care of that for us.\n\n61\n00:02:59.400 --> 00:03:02.320\nIt knows where to split them,\nand it can do it.\n\n62\n00:03:02.320 --> 00:03:04.460\nNow, most people don't\njust do TAR anymore.\n\n63\n00:03:04.460 --> 00:03:09.170\nThey normally combine that with Gzip,\nbecause what Gzip does,\n\n64\n00:03:09.170 --> 00:03:13.500\nthe GNU zip utility, It can compress\nthe contents of the files too.\n\n65\n00:03:13.500 --> 00:03:16.060\nWhen you write to a tape,\nit doesn't get compressed, but\n\n66\n00:03:16.060 --> 00:03:20.020\nif we gzip it,\nwe can make those files even smaller.\n\n67\n00:03:20.020 --> 00:03:21.860\nSo we don't normally use TAR by itself,\n\n68\n00:03:21.860 --> 00:03:24.112\nwe normally combine it with\nanother utility, gzip.\n\n69\n00:03:24.112 --> 00:03:27.508\n>> Yeah, that's really handy,\nespecially when you want to send,\n\n70\n00:03:27.508 --> 00:03:31.300\nsay I wanted to send Don that file that\nhas a bunch of files in it, email.\n\n71\n00:03:31.300 --> 00:03:36.840\nWell, my online email provider might have\na limit on the size availability for\n\n72\n00:03:36.840 --> 00:03:41.580\nattachments so if I have, I'm just\nusing an arbitrary number, 5 MB, right?\n\n73\n00:03:41.580 --> 00:03:43.301\nThey can't send anything over 5 MB.\n\n74\n00:03:43.301 --> 00:03:47.240\nWell, I've got five 1.5 MB files each.\n\n75\n00:03:47.240 --> 00:03:48.510\nI want to put those in.\n\n76\n00:03:48.510 --> 00:03:52.420\nYou use the TAR command with gzip,\ncompress that down, get it under that 5 MB\n\n77\n00:03:52.420 --> 00:03:55.690\nlimit, then I'm able to attach\nthat one file, Don can get in.\n\n78\n00:03:55.690 --> 00:03:58.890\nHe has all the information he needs\nusing that, it's very simple.\n\n79\n00:03:58.890 --> 00:03:59.710\n>> Yeah.\n\n80\n00:03:59.710 --> 00:04:01.100\nSo, let's just do an example here.\n\n81\n00:04:01.100 --> 00:04:03.030\nI've got a directory,\nit's my sales directory and\n\n82\n00:04:03.030 --> 00:04:05.010\nmy sales department\nstores their stuff there.\n\n83\n00:04:05.010 --> 00:04:06.700\nAnd I've got couple of files in there.\n\n84\n00:04:06.700 --> 00:04:11.120\nAnd if you look, I've got one file that's\nactually pretty small, it's like 13 bytes.\n\n85\n00:04:11.120 --> 00:04:14.280\nI've got one file that's 50 megs,\nand another one that's 100 megs.\n\n86\n00:04:14.280 --> 00:04:19.175\nIf I were to just use TAR by itself, my\narchive would be 150 megs in size, right?\n\n87\n00:04:19.175 --> 00:04:23.400\nBut if I combine it with gzip, it'll\ncompress it and hopefully end up smaller.\n\n88\n00:04:23.400 --> 00:04:24.950\nNow, I say hopefully.\n\n89\n00:04:24.950 --> 00:04:30.130\nThere are some files that don't compress\nwell, files that are already compressed.\n\n90\n00:04:30.130 --> 00:04:34.365\nIf the file's already compressed, when we\nlay gzip on top of it again, the file can\n\n91\n00:04:34.365 --> 00:04:38.499\nactually get bigger, because now we have\nto add gzip's headers and stuff to it.\n\n92\n00:04:38.499 --> 00:04:42.700\nSo if you try to gzip jpg files,\njpg files are already compressed, so\n\n93\n00:04:42.700 --> 00:04:46.190\noften times they'll get bigger\nwhen you compress them.\n\n94\n00:04:46.190 --> 00:04:48.330\nSo you have to be a little careful,\nthey don't get that much bigger,\n\n95\n00:04:48.330 --> 00:04:49.630\njust a little bit.\n\n96\n00:04:49.630 --> 00:04:51.510\nSo we'll see how these files compress.\n\n97\n00:04:51.510 --> 00:04:53.389\nI've got a straight up text file, and\n\n98\n00:04:53.389 --> 00:04:56.561\nthen I've got a couple of binary\nfiles with binary data in them,\n\n99\n00:04:56.561 --> 00:05:00.117\nand you'll find that your compression\non text files is usually great.\n\n100\n00:05:00.117 --> 00:05:04.805\nAnd your compression on binary files\nis somewhere in between decent and\n\n101\n00:05:04.805 --> 00:05:07.550\ngreat, it's not necessarily the best.\n\n102\n00:05:07.550 --> 00:05:11.200\nSo If I want to zip up a file,\nlike I just want to zip up one file.\n\n103\n00:05:11.200 --> 00:05:13.920\nThat file.txt is 13 bytes right now.\n\n104\n00:05:13.920 --> 00:05:20.417\nAnd if I want to zip that up,\nI can just go through here and\n\n105\n00:05:20.417 --> 00:05:23.891\nI can say, tar and then cvfz.\n\n106\n00:05:23.891 --> 00:05:26.170\nThere's a lot of different options.\n\n107\n00:05:26.170 --> 00:05:28.300\nC, I'm creating a tar volume.\n\n108\n00:05:28.300 --> 00:05:30.530\nV, I want that verbose output.\n\n109\n00:05:30.530 --> 00:05:33.320\nF, I'm about to give it\na file name I'm gonna create.\n\n110\n00:05:33.320 --> 00:05:35.650\nAnd Z, I want to use gzip.\n\n111\n00:05:35.650 --> 00:05:38.420\nRight, these are all options\nof that TAR command.\n\n112\n00:05:38.420 --> 00:05:43.988\nSo it's cvfz, and then I'm going to\ntell it the file I'm going to create.\n\n113\n00:05:43.988 --> 00:05:48.820\nI'm going to make a file right here in\nthis directory, so I'll just say ./, and\n\n114\n00:05:48.820 --> 00:05:54.222\nI'll call it backup.bak, or\nwhatever you want to call it, right.\n\n115\n00:05:54.222 --> 00:05:57.820\nTAR actually, it doesn't care about\nthat file name in the slightest.\n\n116\n00:05:57.820 --> 00:05:59.650\nWhat most people normally do though,\n\n117\n00:05:59.650 --> 00:06:04.050\nis they'll end it in .tar\nif it's just a TAR file.\n\n118\n00:06:04.050 --> 00:06:10.190\nBut if you're combining it with gzip,\na lot of times they'll call it tgz, right?\n\n119\n00:06:10.190 --> 00:06:13.520\nYou've probably seen that extension before\nif you manually downloaded the packages,\n\n120\n00:06:13.520 --> 00:06:16.970\nand that means that the file\nwas created with TAR and gzip.\n\n121\n00:06:16.970 --> 00:06:20.040\nBut, the program doesn't actually care\nabout the extension, you can use whatever\n\n122\n00:06:20.040 --> 00:06:23.710\nyou want, this is for us as humans to\nknow what's been done to the file.\n\n123\n00:06:23.710 --> 00:06:25.320\n>> Now Don,\nI noticed that you're not using,\n\n124\n00:06:25.320 --> 00:06:30.670\nwith your arguments it doesn't say dash\ncvf and z, you just put the letters on.\n\n125\n00:06:30.670 --> 00:06:33.230\nI know in Linux,\na lot of times you do need that dash.\n\n126\n00:06:33.230 --> 00:06:35.810\nDo you not need it here,\nor what's up with that?\n\n127\n00:06:35.810 --> 00:06:38.930\n>> Well, tar is a really,\nreally old command, and\n\n128\n00:06:38.930 --> 00:06:43.400\nso, what you find with the old commands\nis they have three different formats.\n\n129\n00:06:43.400 --> 00:06:46.440\nThey have the GNU format for arguments,\nthey have the Unix format for\n\n130\n00:06:46.440 --> 00:06:48.660\narguments, and\nthey have the BSD format for arguments.\n\n131\n00:06:48.660 --> 00:06:53.470\nAnd so, you might not have a dash,\nor you might have a single dash, or\n\n132\n00:06:53.470 --> 00:06:56.180\nyou might have a double dash\nfollowed by words, right?\n\n133\n00:06:56.180 --> 00:06:58.020\nEach one of those is from\nthese different elements, and\n\n134\n00:06:58.020 --> 00:07:03.320\nyou'll find a lot of times that it\nsupports all of them or multiple ones.\n\n135\n00:07:03.320 --> 00:07:07.170\nSo when I look at TAR's help file,\nthey got TAR followed by an option.\n\n136\n00:07:07.170 --> 00:07:08.410\nAs I start to look at the options here,\n\n137\n00:07:08.410 --> 00:07:11.000\nlike they're showing\nwith dashes right here.\n\n138\n00:07:11.000 --> 00:07:13.020\nThey're showing a double dash, right?\n\n139\n00:07:13.020 --> 00:07:15.408\nSo I could double dash format.\n\n140\n00:07:15.408 --> 00:07:17.450\nThat would be the GNU form, right?\n\n141\n00:07:17.450 --> 00:07:18.900\nOr I could do -F.\n\n142\n00:07:18.900 --> 00:07:21.570\nThat might be the UNIX form.\n\n143\n00:07:21.570 --> 00:07:24.460\nOr the dash, no dash just f,\nand that would be the,\n\n144\n00:07:24.460 --> 00:07:27.440\nshoot which form would that be,\nI get them mixed up.\n\n145\n00:07:28.710 --> 00:07:31.810\n>> The double dash, isn't it GNU?\n\n146\n00:07:31.810 --> 00:07:36.840\n>> Well yeah, double dash is GNU, the no\ndash whatsoever, I believe is the BSD?\n\n147\n00:07:36.840 --> 00:07:38.850\n>> Yeah\n>> Okay, so you'll see those and\n\n148\n00:07:38.850 --> 00:07:43.930\nas I look here I've got -c versus\n--create, they both do the same thing.\n\n149\n00:07:43.930 --> 00:07:47.380\nIt's just whether you're doing it in\nthe GNU format or the BSD format or\n\n150\n00:07:47.380 --> 00:07:48.600\nthe UNIX format.\n\n151\n00:07:48.600 --> 00:07:51.884\nSo you'll find that sometimes they\nsupport one versus the other.\n\n152\n00:07:51.884 --> 00:07:54.623\nAnd here, it's not actually\nshowing any without the dash,\n\n153\n00:07:54.623 --> 00:07:57.803\nso we'll have to be careful and\nmake sure this works without the dash.\n\n154\n00:07:57.803 --> 00:07:58.647\nI'm pretty sure it does.\n\n155\n00:07:58.647 --> 00:07:59.638\n>> I think it does.\n>> Okay.\n\n156\n00:07:59.638 --> 00:08:02.632\nSo, you'll find that it doesn't\nreally matter which one you use but\n\n157\n00:08:02.632 --> 00:08:06.208\nthere can be subtle variations, so you've\ngotta make sure you get the right one.\n\n158\n00:08:06.208 --> 00:08:09.107\nSo I'm gonna say tar cvzf.\n\n159\n00:08:09.107 --> 00:08:12.373\nI'm gonna create a file called backup.tgz,\nso\n\n160\n00:08:12.373 --> 00:08:15.640\nthat I remember it was tarred and gzipped.\n\n161\n00:08:15.640 --> 00:08:18.080\nAnd now, I need to tell it\nthe files that I wanna back up.\n\n162\n00:08:18.080 --> 00:08:20.770\nAnd I'm just gonna back up, file.\n\n163\n00:08:20.770 --> 00:08:22.590\nI'll just backup file1.txt.\n\n164\n00:08:22.590 --> 00:08:24.722\nI'm just gonna do a single file for\nthis one, and\n\n165\n00:08:24.722 --> 00:08:27.600\nthen I'll back up all of\nthe files here in a minute.\n\n166\n00:08:27.600 --> 00:08:31.766\nIf I run that, it gives me an output\nletting me know it added file1.txt.\n\n167\n00:08:31.766 --> 00:08:34.730\nAnd then if I do an ls -la.\n\n168\n00:08:34.730 --> 00:08:37.089\nI can see that backup file right there.\n\n169\n00:08:37.089 --> 00:08:42.240\nNow notice file1.text, it was only 13\nbytes in size, that was all it was.\n\n170\n00:08:43.790 --> 00:08:50.280\nBut backup that tgz is 139 bytes in size,\nit actually got bigger.\n\n171\n00:08:51.320 --> 00:08:52.890\nThat's a problem that we have.\n\n172\n00:08:52.890 --> 00:08:56.690\nIf you're backing up small files, things\nthat don't contain a lot of data cuz we're\n\n173\n00:08:56.690 --> 00:09:00.420\nhaving to add the archive header and the\ngzip header and stuff like that to it and\n\n174\n00:09:00.420 --> 00:09:01.640\nit actually grows.\n\n175\n00:09:01.640 --> 00:09:09.177\nBut if I put more text in there, so\nif I took like, we'll take file one.\n\n176\n00:09:09.177 --> 00:09:12.872\nAnd let's bulk up its text a bit.\n\n177\n00:09:12.872 --> 00:09:19.940\nSo i this is test,\nthat's all that I had inside of that file,\n\n178\n00:09:19.940 --> 00:09:25.300\nI didn't have anything else but if I come\nin here and let's just bulk that up a bit,\n\n179\n00:09:27.920 --> 00:09:30.550\nI'm going to try and\nmess this up as much as I can.\n\n180\n00:09:31.860 --> 00:09:33.850\nMy copy and paste is not working.\n\n181\n00:09:33.850 --> 00:09:34.470\nThat's awesome.\n\n182\n00:09:36.530 --> 00:09:38.750\nHere we go.\nWe'll copy.\n\n183\n00:09:38.750 --> 00:09:39.372\n>> Do it the GUI way.\n\n184\n00:09:39.372 --> 00:09:42.750\n>> [LAUGH] Apparently it doesn't\nwanna copy and paste for me.\n\n185\n00:09:42.750 --> 00:09:45.700\nBut I was just gonna\nbulk in some data there.\n\n186\n00:09:45.700 --> 00:09:49.020\nWe can take one of our larger files, and\nwe'll be able to see it better there.\n\n187\n00:09:49.020 --> 00:09:51.870\nI'm gonna just get out of this file.\n\n188\n00:09:51.870 --> 00:09:53.770\nAnd we'll take one of the larger ones.\n\n189\n00:09:53.770 --> 00:09:57.889\nSo instead of backing up file1.txt\nmaybe I'll do like file2.bin.\n\n190\n00:09:57.889 --> 00:10:00.180\nAnd now, file2.bin is 50 megs in size.\n\n191\n00:10:00.180 --> 00:10:02.950\nIt's bigger, and I'm gonna back that up.\n\n192\n00:10:02.950 --> 00:10:03.770\nI'll call this one backup2.\n\n193\n00:10:04.820 --> 00:10:10.248\nAnd now, we back it up and\nwe look at the sizes,\n\n194\n00:10:10.248 --> 00:10:14.295\nwell backup2 is 50 kilobytes.\n\n195\n00:10:14.295 --> 00:10:18.601\n50 megs for file 2.bin, 50 kilobytes,\nlet me add lah on that so\n\n196\n00:10:18.601 --> 00:10:20.280\nwe can see the sizes.\n\n197\n00:10:20.280 --> 00:10:24.360\nSo we can see the back up two is 50 k,\nthat compressed a lot.\n\n198\n00:10:24.360 --> 00:10:26.290\nIt got a lot smaller.\n\n199\n00:10:26.290 --> 00:10:30.060\nSo don't assume that gzip is always\ngonna make your data smaller,\n\n200\n00:10:30.060 --> 00:10:31.340\nit's not a guarantee.\n\n201\n00:10:31.340 --> 00:10:32.940\nBut it usually does.\n\n202\n00:10:32.940 --> 00:10:34.200\nAnd it can make it significantly smaller.\n\n203\n00:10:36.250 --> 00:10:39.240\nAll right, now I've just been\ngrabbing single files but\n\n204\n00:10:39.240 --> 00:10:40.820\nI can grab more than one file.\n\n205\n00:10:40.820 --> 00:10:42.630\nI can grab all the files if I want.\n\n206\n00:10:42.630 --> 00:10:47.199\nIf I wanna run that and grab everything,\nI would just come in here and say,\n\n207\n00:10:47.199 --> 00:10:51.643\nI'm gonna do tar cvzf and\nthen I'll create a file called backup.tgz.\n\n208\n00:10:51.643 --> 00:10:54.520\nAnd I'm just gonna include\neverything in the directory.\n\n209\n00:10:54.520 --> 00:10:56.223\nSo I'll just said ./*.\n\n210\n00:10:56.223 --> 00:10:57.890\nSo that's gonna back up everything.\n\n211\n00:10:57.890 --> 00:11:00.360\nThere goes file1, file2, file3.\n\n212\n00:11:00.360 --> 00:11:02.340\nIt tried to back up\nthose directory markers.\n\n213\n00:11:02.340 --> 00:11:03.250\nThose don't work.\n\n214\n00:11:03.250 --> 00:11:07.951\nBut it got my files, that's what I wanted.\n\n215\n00:11:07.951 --> 00:11:14.570\nAnd when I look at that, I had 150 megs\nin files but my backup file is only 150k.\n\n216\n00:11:14.570 --> 00:11:17.170\nIt compressed a significant amount.\n\n217\n00:11:17.170 --> 00:11:18.890\nAnd you're not always gonna\nget a return that great.\n\n218\n00:11:18.890 --> 00:11:20.130\nMine has junk data in it.\n\n219\n00:11:20.130 --> 00:11:21.880\nIt's really easy to compress junk data.\n\n220\n00:11:21.880 --> 00:11:24.960\nIf I had real data in there,\nthe compression rate will be a lot lower.\n\n221\n00:11:24.960 --> 00:11:27.230\nBut we can see it's nice and compressed.\n\n222\n00:11:27.230 --> 00:11:29.440\nI can now send that file to somebody.\n\n223\n00:11:29.440 --> 00:11:31.028\nI can send it across the network or\nwhatever.\n\n224\n00:11:31.028 --> 00:11:36.460\nThey can then extract it\nby using their tar command.\n\n225\n00:11:36.460 --> 00:11:42.648\nAnd it's very similar to extract\ninstead of the cvzf that I did here.\n\n226\n00:11:42.648 --> 00:11:46.110\nYou do xvzf.\n\n227\n00:11:46.110 --> 00:11:51.550\nX means I'm extracting from it,\nas opposed to creating and v is verbose, z\n\n228\n00:11:51.550 --> 00:11:56.120\nis filter it through gzip and f, I'm gonna\nprovide it the filename to extract from.\n\n229\n00:11:56.120 --> 00:12:01.970\nSo I were to come in here and remove\nfile star, I'll just get rid of those.\n\n230\n00:12:01.970 --> 00:12:04.780\nSo now, I just have my backup file.\n\n231\n00:12:04.780 --> 00:12:06.910\nI can do tar xvzf,\n\n232\n00:12:06.910 --> 00:12:11.660\nand then I can provide at the file that\nI'm gonna extract from backup at tgdz.\n\n233\n00:12:11.660 --> 00:12:15.770\nAnd it's gonna break that file open,\nand I got all my files back.\n\n234\n00:12:16.880 --> 00:12:20.820\nSo simple archive utility, we gather\nthings together, we extract it back out.\n\n235\n00:12:20.820 --> 00:12:21.320\nVery useful.\n\n236\n00:12:22.620 --> 00:12:25.210\n>> But it's not the only type\nof archiving utility we have.\n\n237\n00:12:25.210 --> 00:12:27.710\nWe have the cpio as well, right Don?\n\n238\n00:12:27.710 --> 00:12:30.000\n>> Yeah, now cpio is actually older.\n\n239\n00:12:30.000 --> 00:12:32.870\nWith tar,\nwe're dealing with tape archives.\n\n240\n00:12:32.870 --> 00:12:34.660\nWriting data to type.\n\n241\n00:12:34.660 --> 00:12:37.850\nCpio is copying IO, the input output.\n\n242\n00:12:37.850 --> 00:12:39.490\nIt's basically copying the binary bits.\n\n243\n00:12:39.490 --> 00:12:43.890\nAnd this is really the earliest\nforms of the copy command.\n\n244\n00:12:43.890 --> 00:12:45.529\nSo this is I say, it's older.\n\n245\n00:12:45.529 --> 00:12:48.852\nThey were probably developed in\nthe same year all back in the 1970s.\n\n246\n00:12:48.852 --> 00:12:51.043\nSo they're both very old commands.\n\n247\n00:12:51.043 --> 00:12:53.507\nCpio is not used all that much anymore but\n\n248\n00:12:53.507 --> 00:12:58.090\nthere are times you'll see where people\nmake packages or whatever using.\n\n249\n00:12:59.150 --> 00:13:01.750\nBut if you bump into it,\nit's very similar to tar.\n\n250\n00:13:01.750 --> 00:13:04.170\nIt just let's us string\nthose files together.\n\n251\n00:13:04.170 --> 00:13:08.850\nSo let's take an example of cpio if I,\nif I do a manned cpio,\n\n252\n00:13:08.850 --> 00:13:11.920\nyou can pull up it's page, and\nit will tell you a little bit about it.\n\n253\n00:13:11.920 --> 00:13:14.790\nCopy files to and from archives.\n\n254\n00:13:14.790 --> 00:13:19.260\nAnd it's got a syntax that is nice and\ncomplex.\n\n255\n00:13:19.260 --> 00:13:22.850\nIt's different than tar as far\nas the syntax is concerned.\n\n256\n00:13:22.850 --> 00:13:26.920\nIt's also different as far as how\nit expects you to give the files.\n\n257\n00:13:26.920 --> 00:13:31.340\nAnd so a lot of times when we create\na cpio archive, we'll couple this\n\n258\n00:13:31.340 --> 00:13:35.680\nwith a find command to locate what it\nis that we wanna put in the archive.\n\n259\n00:13:35.680 --> 00:13:43.000\nSo for example if I do a find and\nI look in my directory for file*.\n\n260\n00:13:43.000 --> 00:13:46.475\nI wanna find any file that\nstarts with the word file.\n\n261\n00:13:46.475 --> 00:13:47.585\nThere's the file I wanna archived.\n\n262\n00:13:48.615 --> 00:13:53.565\nAnd I can take that and\npipe that into cpio.\n\n263\n00:13:53.565 --> 00:13:57.295\nSo I want cpio to create\nan archive out of this data.\n\n264\n00:13:57.295 --> 00:14:00.405\nAnd so we need to tell it where\nit's going to be sending that.\n\n265\n00:14:00.405 --> 00:14:01.805\nAnd we're going to pipe that.\n\n266\n00:14:01.805 --> 00:14:04.319\nOh, wait.\nI do need to do a dash on it,\n\n267\n00:14:04.319 --> 00:14:08.940\nthis bis a -o, and\nI'm gonna pipe that output into a file\n\n268\n00:14:08.940 --> 00:14:13.400\nthat I create which I'll\ncall this one backup.cpio.\n\n269\n00:14:13.400 --> 00:14:18.305\nSo now, I'm gonna take this data and\nfeed it into that backup file and\n\n270\n00:14:18.305 --> 00:14:21.695\nit's gonna run, and\nit tells me how many blocks it backed up.\n\n271\n00:14:21.695 --> 00:14:26.000\nAnd if I look at my directory,\nI can see backup.cpio.\n\n272\n00:14:26.000 --> 00:14:30.690\nNow, I didn't filter it through gzip,\nso it didn't compress it all.\n\n273\n00:14:30.690 --> 00:14:35.532\nI had 150 megs in files here,\nand the file it made is 150 megs.\n\n274\n00:14:35.532 --> 00:14:39.465\nIt's actually a little bit bigger\nbecause of cpio's overhead.\n\n275\n00:14:39.465 --> 00:14:44.840\nSo it's created that archive, it set\nit there, works very similar to tar.\n\n276\n00:14:44.840 --> 00:14:47.500\nAnd you could filter it\nthrough gzip if you wanted,\n\n277\n00:14:47.500 --> 00:14:51.790\nwe would just need to modify this command\na little bit instead of coming through and\n\n278\n00:14:51.790 --> 00:14:56.070\ndoing find, well we need the find file,\nthat's where we get our files from.\n\n279\n00:14:56.070 --> 00:14:58.350\nAnd then we pipe it in the cpio.\n\n280\n00:14:58.350 --> 00:15:01.409\nAnd then we can go one more step and\n\n281\n00:15:01.409 --> 00:15:06.874\npipe that into gzip before then\nredirecting that output and\n\n282\n00:15:06.874 --> 00:15:12.141\nsending that to a file that I\nmight want to call cpio.gz.\n\n283\n00:15:12.141 --> 00:15:16.082\nIf I want to extract this,\nI would need to use gzip to extract it and\n\n284\n00:15:16.082 --> 00:15:19.640\ncpio to break it apart into\nits independent pieces.\n\n285\n00:15:19.640 --> 00:15:21.390\nAnd then we'll get our data.\n\n286\n00:15:21.390 --> 00:15:26.968\nSo now, when I run that and\nI pull up a listing,\n\n287\n00:15:26.968 --> 00:15:30.841\nbackup.cpio was 151 megs.\n\n288\n00:15:30.841 --> 00:15:35.122\nBackup.cpio.gz was 150k.\n\n289\n00:15:35.122 --> 00:15:39.976\nSo what's the advantage\nof using cpio over tar?\n\n290\n00:15:39.976 --> 00:15:43.780\nNot really much at all, unless somebody's\ntelling you, hey I need this in cpio.\n\n291\n00:15:43.780 --> 00:15:45.530\nThen you need this, it makes sense.\n\n292\n00:15:45.530 --> 00:15:48.600\nBut otherwise, most people just use tar.\n\n293\n00:15:48.600 --> 00:15:50.850\nI guess I should probably\nextract this stuff.\n\n294\n00:15:50.850 --> 00:15:51.350\nWe wouldn't do that.\n\n295\n00:15:51.350 --> 00:15:52.662\n>> Show us how to reverse the process,\nDon.\n\n296\n00:15:52.662 --> 00:15:54.526\n[LAUGH]\n>> If we want to extract it.\n\n297\n00:15:54.526 --> 00:15:57.227\nI gzipped it, so I've got to ungzip it.\n\n298\n00:15:57.227 --> 00:15:58.767\nI gotta get that data out of there.\n\n299\n00:15:58.767 --> 00:16:01.884\nI'll need to do a g unzip\nfirst of that backup.\n\n300\n00:16:01.884 --> 00:16:03.982\nI'm going to get some duplicate\nnames here if I'm not careful.\n\n301\n00:16:03.982 --> 00:16:06.950\nSo let me get rid of this\nother uncompressed backup.\n\n302\n00:16:06.950 --> 00:16:12.793\nThere, so I'm gonna do gunzip, and\nI'll point to that backup cpio.gz,\n\n303\n00:16:12.793 --> 00:16:15.964\nand that's gonna unzip it, all right?\n\n304\n00:16:15.964 --> 00:16:20.141\nAnd now when I look,\nI'm left with just backup.cpio, right?\n\n305\n00:16:20.141 --> 00:16:22.270\nIt's been uncompressed.\n\n306\n00:16:22.270 --> 00:16:26.280\nAnd now I can feed that through CPIO and\ninstead of -o,\n\n307\n00:16:26.280 --> 00:16:28.840\nwhich is I'm outputting data to a file.\n\n308\n00:16:28.840 --> 00:16:33.210\nI can do a -i, I'm inputting data from\na file that's already been made, and\n\n309\n00:16:33.210 --> 00:16:38.340\nI can tell that file,\nwhich in my case is backup.cpio.\n\n310\n00:16:38.340 --> 00:16:41.810\nAnd it can take that,\nand it can generate it.\n\n311\n00:16:41.810 --> 00:16:46.680\nNow, I still have file1, file2, file3\nstill exist, and so it's just telling me\n\n312\n00:16:46.680 --> 00:16:49.530\nthe files haven't changed,\nthere's no point in extracting it.\n\n313\n00:16:49.530 --> 00:16:54.170\nI can delete those files and\nthen rerun that, and\n\n314\n00:16:54.170 --> 00:16:59.720\nnow it's gonna extract them, and I've got\nfile1, file2, file3 right back again.\n\n315\n00:16:59.720 --> 00:17:02.980\nNo big advantage over tar,\njust a different way of doing it.\n\n316\n00:17:04.740 --> 00:17:07.900\n>> Leaves us with our last type\nof archiving utility, right, Don?\n\n317\n00:17:07.900 --> 00:17:09.150\nThis is the big dog, though.\n\n318\n00:17:09.150 --> 00:17:10.680\n>> This one's hardcore, right?\n\n319\n00:17:10.680 --> 00:17:14.630\nSo what if it's not just\nlittle files that I wanna get?\n\n320\n00:17:14.630 --> 00:17:18.280\nWhat if I wanna take an entire hard drive,\nan entire volume or\n\n321\n00:17:18.280 --> 00:17:21.280\npartition, and\nput that into a file, right?\n\n322\n00:17:21.280 --> 00:17:23.050\nOr clone it or whatever.\n\n323\n00:17:23.050 --> 00:17:27.250\nWe have another command, dd and\ndd is use for disk imaging.\n\n324\n00:17:27.250 --> 00:17:29.610\nWe can grab entire copies of a disk.\n\n325\n00:17:29.610 --> 00:17:31.230\nI think it stands for disk duplicator.\n\n326\n00:17:31.230 --> 00:17:32.760\n>> Yeah, I think so.\n>> Or duplicate disk.\n\n327\n00:17:32.760 --> 00:17:34.820\nDoes a man page say what it stands for?\n\n328\n00:17:34.820 --> 00:17:36.000\nNo, of course not.\n\n329\n00:17:36.000 --> 00:17:36.720\n>> Why would it do that?\n\n330\n00:17:36.720 --> 00:17:37.595\n>> That'd be crazy talk.\n\n331\n00:17:37.595 --> 00:17:40.360\n>> [LAUGH]\n>> So anyhow, it's disk duplicator or\n\n332\n00:17:40.360 --> 00:17:41.110\nsomething like that.\n\n333\n00:17:41.110 --> 00:17:44.730\nIt's used to create\nan image of an entire disk.\n\n334\n00:17:44.730 --> 00:17:52.340\nSo for example, on my system, I've got a,\nI have so much stuff mounted.\n\n335\n00:17:52.340 --> 00:17:54.890\nLet me look for\nthe word sales, there we go.\n\n336\n00:17:54.890 --> 00:18:00.490\nI've got an LVM, a logical volume\ncalled sales and it's a partition.\n\n337\n00:18:00.490 --> 00:18:02.400\nIt's actually mounted to\none of my hard drives.\n\n338\n00:18:02.400 --> 00:18:05.640\nI think it's like mounted to SGC one,\nor something like that.\n\n339\n00:18:05.640 --> 00:18:07.780\nI don't care if LVM hides that from me.\n\n340\n00:18:07.780 --> 00:18:10.880\nSo, I have it mounted here,\nit's called sales.\n\n341\n00:18:10.880 --> 00:18:15.490\nAnd maybe I wanna back up\nthat whole hard drive, right?\n\n342\n00:18:15.490 --> 00:18:16.350\nWell I can use dd for that.\n\n343\n00:18:16.350 --> 00:18:18.540\nI'm gonna get out of there.\n\n344\n00:18:18.540 --> 00:18:20.078\nI do have to be careful with dd.\n\n345\n00:18:20.078 --> 00:18:28.540\nDd doesn't compress and it treats empty\nspace the same as it does full space.\n\n346\n00:18:28.540 --> 00:18:34.610\nSo if I'm backing up a 64 gig hard drive\nits gonna create a 64-gig file, right?\n\n347\n00:18:34.610 --> 00:18:36.760\nAnd that doesn't matter if\nthe hard drive is empty.\n\n348\n00:18:36.760 --> 00:18:41.980\nIf it's an empty 64-gig hard drive, the\nbackup of it is gonna be 64 gigs in size.\n\n349\n00:18:41.980 --> 00:18:45.510\nSo these DD images that we\ncreate get to be really big.\n\n350\n00:18:45.510 --> 00:18:48.610\nNow I can filter that through gzip and\ncompress it and\n\n351\n00:18:48.610 --> 00:18:49.970\nthat empty space goes away, right?\n\n352\n00:18:49.970 --> 00:18:51.810\nAnd now you get a nice small file.\n\n353\n00:18:51.810 --> 00:18:54.150\nBut while it's creating that file,\n\n354\n00:18:54.150 --> 00:18:57.670\nit will create the big one even\nbefore you filter it into gzip.\n\n355\n00:18:57.670 --> 00:19:00.160\nSo you have to make sure you have\nenough hard drive space for it.\n\n356\n00:19:00.160 --> 00:19:01.240\nNow I don't think I do.\n\n357\n00:19:02.290 --> 00:19:05.540\nLet's see what I've got.\n\n358\n00:19:05.540 --> 00:19:12.070\nSo my sales is this guy right here,\nand let me do a df-h.\n\n359\n00:19:12.070 --> 00:19:14.320\nThere we go.\n\n360\n00:19:14.320 --> 00:19:19.060\nAnd my sales is 64 gigs in size and\nit looks like I have 64 gigs available in\n\n361\n00:19:19.060 --> 00:19:21.720\naccounting but\nthey're the exact same size.\n\n362\n00:19:21.720 --> 00:19:23.460\nI don't think I have\nenough space anywhere.\n\n363\n00:19:25.630 --> 00:19:28.830\nSda3 has 254 Gigs in it, that's my route.\n\n364\n00:19:28.830 --> 00:19:32.110\nSo homes and root, I should have\nenough room in my home directory.\n\n365\n00:19:32.110 --> 00:19:34.290\nSo I'll back it up to my Home Directory.\n\n366\n00:19:34.290 --> 00:19:36.070\nSo what I'm gonna do is I'm gonna say dd.\n\n367\n00:19:36.070 --> 00:19:41.230\nNow in order to use dd, you either have to\nhave full access to the drive yourself or\n\n368\n00:19:41.230 --> 00:19:42.490\nyou need to be an administrator.\n\n369\n00:19:42.490 --> 00:19:44.840\nAnd so normally we are gonna\nhave to sudo this one.\n\n370\n00:19:44.840 --> 00:19:47.700\nSo I'm gonna sudo the dd command, and\n\n371\n00:19:47.700 --> 00:19:52.450\nthen we tell it where it's getting it's\ndata and where it's putting it's data to.\n\n372\n00:19:52.450 --> 00:19:56.600\nAnd so what I'm gonna do is, I'm gonna\nsay from my incoming file, right?\n\n373\n00:19:56.600 --> 00:20:01.340\nMy incoming data,\nI'm gonna point this to /dev/vg1/Sales.\n\n374\n00:20:01.340 --> 00:20:06.410\nI'm backing up that Sales logical volume,\nI'm gonna get that whole hard drive.\n\n375\n00:20:06.410 --> 00:20:11.360\nAnd then from my OF, I'm gonna back\nthat up to my home directory, and\n\n376\n00:20:11.360 --> 00:20:16.410\nI'll create a file called Sales.img,\nright?\n\n377\n00:20:16.410 --> 00:20:18.100\nSo it's gonna be an image.\n\n378\n00:20:18.100 --> 00:20:19.930\nThe file extension,\nyou can do whatever you want.\n\n379\n00:20:19.930 --> 00:20:22.830\ndd doesn't actually have\nan associated file extension.\n\n380\n00:20:22.830 --> 00:20:24.330\nYou can call it whatever you want.\n\n381\n00:20:24.330 --> 00:20:27.400\nSo I'll just call it Sales.img so\nI can remember that's what this is.\n\n382\n00:20:27.400 --> 00:20:30.870\nAll right, now when I run that,\nit's gonna start backing it up.\n\n383\n00:20:31.970 --> 00:20:34.650\nAnd the thing you'll notice\nright away Is how long it takes.\n\n384\n00:20:34.650 --> 00:20:37.889\nI've got 150 megs of data on that drive,\nright?\n\n385\n00:20:37.889 --> 00:20:41.320\nIf I look at my utilization up here\nthat sales, it's a 64 gig drive.\n\n386\n00:20:41.320 --> 00:20:46.180\nI've got, actually it says I've got 350\nmegs of data, it must be drive overhead.\n\n387\n00:20:46.180 --> 00:20:48.260\nI've got a 150 megs of my files and\n\n388\n00:20:48.260 --> 00:20:51.190\nanother 150 megs of overhead I guess,\nor 200 megs.\n\n389\n00:20:51.190 --> 00:20:56.280\nSo when it starts backing up, why is it\ntaking so long when TAR and CPIO didn't?\n\n390\n00:20:56.280 --> 00:20:58.890\nAnd that's because it's making a bit for\n\n391\n00:20:58.890 --> 00:21:01.550\nbit copy of the drive,\neven the empty space.\n\n392\n00:21:02.560 --> 00:21:07.170\nAnd so if I jump over here to another\ndirectory, or another terminal window, and\n\n393\n00:21:07.170 --> 00:21:08.540\nI take a look at my home directory.\n\n394\n00:21:12.220 --> 00:21:16.530\nThere we go, let me get this in a way\nthat we can easily read it, all right?\n\n395\n00:21:16.530 --> 00:21:20.230\nI can see that file is 9.5 gigs\nright now and now it's 11 gigs and\n\n396\n00:21:20.230 --> 00:21:25.135\nnow if I just keep running this over and\nover again the system will get mad at me.\n\n397\n00:21:25.135 --> 00:21:27.170\n>> [LAUGH]\n>> There we go, it's still 11 gigs,\n\n398\n00:21:27.170 --> 00:21:28.030\nthat's not exciting.\n\n399\n00:21:28.030 --> 00:21:29.480\n12 gigs, right?\n\n400\n00:21:29.480 --> 00:21:33.350\nIt's growing by gigabytes in size, but\nI've only got 350 megs of data there.\n\n401\n00:21:33.350 --> 00:21:34.900\nThat's the wasteful part of DD.\n\n402\n00:21:34.900 --> 00:21:37.250\nSo you almost always take your DD file and\n\n403\n00:21:37.250 --> 00:21:39.000\nthen filter it through\ngzip to make it smaller.\n\n404\n00:21:39.000 --> 00:21:40.950\nAll right,\nit's gonna continue growing and growing.\n\n405\n00:21:40.950 --> 00:21:42.550\nAnd if I don't have\nenough hard drive space,\n\n406\n00:21:42.550 --> 00:21:45.400\nit doesn't check ahead of time,\nit just starts to make the image.\n\n407\n00:21:45.400 --> 00:21:48.950\nAnd then when it runs out of space it\ncrashes out and If you're doing it\n\n408\n00:21:48.950 --> 00:21:51.900\non your root drives, like I'm doing,\nthen it might crash your systems too.\n\n409\n00:21:51.900 --> 00:21:52.610\nSo dd is fun.\n\n410\n00:21:52.610 --> 00:21:55.050\nYou definitely have to be\ncareful with this one, right?\n\n411\n00:21:55.050 --> 00:21:59.589\nBut for making a disc image, or applying\na disc image, it's really one of the best.\n\n412\n00:21:59.589 --> 00:22:02.712\nAnd applying a disc image,\nwe just kinda reversed the two.\n\n413\n00:22:02.712 --> 00:22:08.776\nI did dd if=/dev/vg1/Sales and\n\n414\n00:22:08.776 --> 00:22:15.260\nof to my home directory /sales.img.\n\n415\n00:22:15.260 --> 00:22:17.290\nThat was the command\nthat I ran a minute ago.\n\n416\n00:22:17.290 --> 00:22:21.230\nIf I want to restore that drive from\nmy image, I just reverse these around.\n\n417\n00:22:21.230 --> 00:22:28.003\nThe IF would be my sales.img, and\nmy destination would be /dev/vg1/sales.\n\n418\n00:22:28.003 --> 00:22:29.245\nAnd that puts the image back.\n\n419\n00:22:29.245 --> 00:22:33.350\nYou'll find where people\nhave bootable USB keys.\n\n420\n00:22:33.350 --> 00:22:37.170\nAnd they distribute an image for that, and\nyou'll use the DD command to apply that\n\n421\n00:22:37.170 --> 00:22:39.220\nimage to your USB key,\nnow you can boot off it.\n\n422\n00:22:39.220 --> 00:22:42.410\nCuz it's got everything,\nthe boot sector, all the data.\n\n423\n00:22:42.410 --> 00:22:45.500\nSo yeah it's wasteful of space, but\nit's great for making things like bootable\n\n424\n00:22:45.500 --> 00:22:50.150\ndrives because it preserves even the boot\nrecords, really cool stuff there.\n\n425\n00:22:50.150 --> 00:22:54.140\nNow I'm gonna stop this cuz otherwise,\nyou know, it fill up my hard drive.\n\n426\n00:22:54.140 --> 00:22:56.020\nSee how slow it's making my system?\n\n427\n00:22:56.020 --> 00:23:00.790\nIt's doing an insane amount of disk IO\nright now, reading that whole drive and\n\n428\n00:23:00.790 --> 00:23:02.520\nthat, that's a bit of a performance issue.\n\n429\n00:23:02.520 --> 00:23:04.550\n>> Yeah, and\nyou don't have a slow drive on this thing.\n\n430\n00:23:04.550 --> 00:23:05.340\n>> Oh no, I'm on LSSD.\n\n431\n00:23:05.340 --> 00:23:08.970\n>> Yeah, that's smoking and\nhow much it slowed your computer down and\n\n432\n00:23:08.970 --> 00:23:11.500\nit's going to let you know that if\nyou want to run something like this\n\n433\n00:23:11.500 --> 00:23:12.660\nmake sure you've got the time.\n\n434\n00:23:12.660 --> 00:23:14.810\nAnd it's probably got\nback up purposes right.\n\n435\n00:23:14.810 --> 00:23:18.320\nI'm taking a back up image of my\ndrive in case I do anything in\n\n436\n00:23:18.320 --> 00:23:19.740\nthe next week or whatever.\n\n437\n00:23:19.740 --> 00:23:22.995\nI can just Just revert back to that\nimage and makes everything nice.\n\n438\n00:23:22.995 --> 00:23:27.365\nBut do it on a Thursday night or something\nwhen you're gonna be sleeping for\n\n439\n00:23:27.365 --> 00:23:28.160\nmany hours.\n\n440\n00:23:28.160 --> 00:23:30.145\n[LAUGH]\n>> Or if you do need to do it during\n\n441\n00:23:30.145 --> 00:23:33.360\nproduction hours, you wanna make\nsure that the image you're creating\n\n442\n00:23:33.360 --> 00:23:35.410\n>> Is on a separate physical hard drive\n\n443\n00:23:35.410 --> 00:23:36.670\nfrom the source that you're copying.\n\n444\n00:23:36.670 --> 00:23:41.330\nIn my case, both of these drives\nactually exist on the one SSDMI laptop.\n\n445\n00:23:41.330 --> 00:23:45.820\nSo I'm reading from and\nwriting to my hard drive at the same time.\n\n446\n00:23:45.820 --> 00:23:47.640\nAnd that creates a bigger performance hit.\n\n447\n00:23:47.640 --> 00:23:51.490\n>> If I was reading from one drive and\nwriting to another one it's a different\n\n448\n00:23:51.490 --> 00:23:56.320\nstory, but reading across all that empty\nspace creates a huge amount of IO,\n\n449\n00:23:56.320 --> 00:24:00.750\nand that can be, well it will shorten the\nlifetime of an SSD like mine, but it also\n\n450\n00:24:00.750 --> 00:24:03.200\ncreates a performance issue, that's\nthe one we're really concerned about.\n\n451\n00:24:03.200 --> 00:24:05.210\nLifetimes, you know this stuff is\nunder warranty, what do I care.\n\n452\n00:24:05.210 --> 00:24:08.100\n>> Yea you'd hate to see your\ndatabase crawl, crawling,\n\n453\n00:24:08.100 --> 00:24:09.930\nwould you please let me go.\n\n454\n00:24:09.930 --> 00:24:13.260\n>> Cuz that's gonna be\na lot of IO on that disk,\n\n455\n00:24:13.260 --> 00:24:15.460\nand they really need that stuff for that.\n\n456\n00:24:15.460 --> 00:24:16.330\n>> Yep.\n>> All right, Don.\n\n457\n00:24:16.330 --> 00:24:20.300\nHave we fathomed the depths of\nthese three lovely processes?\n\n458\n00:24:20.300 --> 00:24:22.580\n>> Yeah, those are the ones\nwe need to know for the exam.\n\n459\n00:24:22.580 --> 00:24:25.810\nIn real life land,\nyou might prefer 7-zip or RAR or\n\n460\n00:24:25.810 --> 00:24:27.250\nthe other formats that are out there.\n\n461\n00:24:27.250 --> 00:24:29.230\nAnd there's Linux equivalents for\nall those.\n\n462\n00:24:29.230 --> 00:24:33.080\nBut the exam focuses on the ones you can\npretty much count on being every distro.\n\n463\n00:24:33.080 --> 00:24:34.690\nEvery distro has gzip.\n\n464\n00:24:34.690 --> 00:24:35.710\nEvery distro has tar.\n\n465\n00:24:35.710 --> 00:24:37.100\nEvery distro has cpio.\n\n466\n00:24:37.100 --> 00:24:38.350\nSo, they're available.\n\n467\n00:24:38.350 --> 00:24:38.940\nUse them.\n\n468\n00:24:38.940 --> 00:24:40.090\nThey've been around a long time.\n\n469\n00:24:40.090 --> 00:24:41.570\nThose are the ones that you can count on.\n\n470\n00:24:41.570 --> 00:24:42.900\n>> Awesome!\nExcellent stuff.\n\n471\n00:24:42.900 --> 00:24:45.540\nWell, it looks like we've actually\ncome to the end of another great\n\n472\n00:24:45.540 --> 00:24:48.850\nepisode here at ITProTV, so\n>> Signing off,\n\n473\n00:24:48.850 --> 00:24:53.890\nI have been your host, Daniel Lowry.\n\n474\n00:24:53.890 --> 00:24:54.560\n>> And I'm Don Pezet.\n\n475\n00:24:54.560 --> 00:24:56.600\n>> And we'll see you next time.\n\n",
          "vimeoId": "131129582"
        },
        {
          "description": null,
          "length": "1817",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-2-ownership_permissions-061715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-2-ownership_permissions-061715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-2-ownership_permissions-061715-1-sm.jpg",
          "title": "Ownership and Permissions",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.013 --> 00:00:11.858\nAll right, everyone.\n\n3\n00:00:11.858 --> 00:00:15.757\nGreetings and welcome to another\ngreat episode of ITProTV.\n\n4\n00:00:15.757 --> 00:00:17.565\nI'll be your host Daniel Lowery and\n\n5\n00:00:17.565 --> 00:00:19.989\nhere with me today is none\nother than Don Pezet.\n\n6\n00:00:19.989 --> 00:00:21.018\nWhat's going on today Don?\n\n7\n00:00:21.018 --> 00:00:22.138\n>> I am doing great Daniel.\n\n8\n00:00:22.138 --> 00:00:26.463\nAnd today we're gonna be jumping into\nownership and permission of files.\n\n9\n00:00:26.463 --> 00:00:28.811\nWhich is a pretty\nimportant topic to hit on,\n\n10\n00:00:28.811 --> 00:00:31.095\nbecause a lot of times\nwe see these values,\n\n11\n00:00:31.095 --> 00:00:35.790\nespecially when we're doing directory\nlistings and we don't know what they mean.\n\n12\n00:00:35.790 --> 00:00:37.590\nAnd each one actually does\nhave a particular purpose.\n\n13\n00:00:37.590 --> 00:00:39.840\nSo we're gonna talk about\nthat a good bit today.\n\n14\n00:00:39.840 --> 00:00:43.563\nSo, I wanna start off just by showing\nyou guys a directory listing.\n\n15\n00:00:43.563 --> 00:00:47.743\nLet me use my terminal here and I'll pull\nup a directory listing and you're gonna\n\n16\n00:00:47.743 --> 00:00:51.506\nsee all sorts of little columns and\nvalues and stuff that are spread out.\n\n17\n00:00:51.506 --> 00:00:53.890\nAnd, we always look for file name.\n\n18\n00:00:53.890 --> 00:00:55.620\nWe always look for file size.\n\n19\n00:00:55.620 --> 00:00:57.500\nThose are kind of our critical things,\n\n20\n00:00:57.500 --> 00:01:01.720\nbut what's all the other stuff\nthat shows up on that screen?\n\n21\n00:01:01.720 --> 00:01:06.740\nSo when I run an ls-lah,\nI sure I get file name.\n\n22\n00:01:06.740 --> 00:01:09.010\nSure I get file size and modified date.\n\n23\n00:01:09.010 --> 00:01:10.410\nThose are things that we know.\n\n24\n00:01:10.410 --> 00:01:11.810\nThose are easy to understand.\n\n25\n00:01:11.810 --> 00:01:15.390\nBut what about all this\nstuff over here to the left?\n\n26\n00:01:15.390 --> 00:01:19.480\nWell, all of that relates to\npermissions and ownership.\n\n27\n00:01:20.670 --> 00:01:24.160\nSo I've got kind of an example\nhere of what we might see and\n\n28\n00:01:24.160 --> 00:01:26.230\nwhat each of these columns represent.\n\n29\n00:01:26.230 --> 00:01:29.940\nSo file name, we know that one,\nit's the name of the file.\n\n30\n00:01:29.940 --> 00:01:30.890\nModified.\n\n31\n00:01:30.890 --> 00:01:33.939\nWhen was it modified or when was it\ncreated if it hasn't been modified.\n\n32\n00:01:33.939 --> 00:01:35.100\nWhat size is it?\n\n33\n00:01:35.100 --> 00:01:38.750\nWhich might be in bytes or\nkilobytes, megabytes, whatever.\n\n34\n00:01:38.750 --> 00:01:40.490\nEach one listed there.\n\n35\n00:01:40.490 --> 00:01:43.440\nAnd then these other\nguys here on the left.\n\n36\n00:01:43.440 --> 00:01:48.555\nThe permissions on the file,\nthe amount of links to this file.\n\n37\n00:01:48.555 --> 00:01:52.160\nCuz if we've created hard links to a file,\nthen that number will show up here.\n\n38\n00:01:52.160 --> 00:01:53.170\nI can see there's two links.\n\n39\n00:01:53.170 --> 00:01:55.690\nA directory will almost\nalways have two links.\n\n40\n00:01:55.690 --> 00:01:56.720\nThere's itself.\n\n41\n00:01:56.720 --> 00:01:57.430\nThat counts as a link.\n\n42\n00:01:57.430 --> 00:01:59.020\nThat's why they all have one.\n\n43\n00:01:59.020 --> 00:02:03.520\nAnd then inside of a directory,\nyou've got the dot and dot, dot.\n\n44\n00:02:03.520 --> 00:02:04.990\nWell, dot refers to this directory.\n\n45\n00:02:04.990 --> 00:02:06.360\nIt's a hard link to this directory.\n\n46\n00:02:06.360 --> 00:02:10.100\nSo that's why directories\nare almost always two if not more.\n\n47\n00:02:10.100 --> 00:02:13.810\nIf we put more subdirectories under there,\neach one of them has a dot,\n\n48\n00:02:13.810 --> 00:02:17.180\ndot that points to the parent, and so the\nparent keeps getting bigger and bigger and\n\n49\n00:02:17.180 --> 00:02:18.830\nbigger as we create those links.\n\n50\n00:02:18.830 --> 00:02:22.190\nSo we don't normally care about links,\nwe kind of ignored it, but\n\n51\n00:02:22.190 --> 00:02:24.580\nthen we've got user and group.\n\n52\n00:02:24.580 --> 00:02:28.760\nWell, the user is the person\nwho owns the file.\n\n53\n00:02:28.760 --> 00:02:30.920\nIt's usually the person who created it.\n\n54\n00:02:30.920 --> 00:02:33.167\nSo if I create a file,\nthe owner's gonna be dpezet.\n\n55\n00:02:33.167 --> 00:02:34.348\nThat's me.\n\n56\n00:02:34.348 --> 00:02:36.688\nI created it, and I'll be the owner.\n\n57\n00:02:36.688 --> 00:02:42.400\nThe group, well, usually by default\nit's also the user has their own group.\n\n58\n00:02:42.400 --> 00:02:45.460\nSo you might see a file that's dpezet,\ndpezet.\n\n59\n00:02:45.460 --> 00:02:46.390\nI made it.\n\n60\n00:02:46.390 --> 00:02:49.710\nI'm the owner and\nI'm the group that's in control of it.\n\n61\n00:02:49.710 --> 00:02:52.876\nBut if we're using Unix to it's fullest\nwe may have created other groups.\n\n62\n00:02:52.876 --> 00:02:56.068\nAnd I might have a sales group and\na marketing group, and so\n\n63\n00:02:56.068 --> 00:02:57.574\nI might have a user dpezet.\n\n64\n00:02:57.574 --> 00:03:00.830\nYeah, that's the person who made it,\nbut the group might be sales.\n\n65\n00:03:00.830 --> 00:03:03.553\nAnd then if I put ten\npeople in that sales group,\n\n66\n00:03:03.553 --> 00:03:08.040\nthen they'll be able to access this\nfile and do whatever they need to do.\n\n67\n00:03:08.040 --> 00:03:10.420\nAnd we have another episode\non creating users and groups.\n\n68\n00:03:10.420 --> 00:03:12.230\nSo you guys will see all that later.\n\n69\n00:03:12.230 --> 00:03:15.190\nBut this is important for permissions.\n\n70\n00:03:15.190 --> 00:03:19.470\nBecause the file permissions are all\nrepresented over here on the left.\n\n71\n00:03:19.470 --> 00:03:21.789\nAnd they're represented as nine values.\n\n72\n00:03:23.130 --> 00:03:26.040\nEach value has a particular purpose.\n\n73\n00:03:26.040 --> 00:03:29.210\nLet me just kind of run\nthrough each one of these.\n\n74\n00:03:29.210 --> 00:03:33.340\nThe first one identifies whether\nthis is a file or a directory.\n\n75\n00:03:33.340 --> 00:03:35.780\nIf it is a file you'll have a dash.\n\n76\n00:03:35.780 --> 00:03:38.120\nIf it's a directory you'll have a d.\n\n77\n00:03:38.120 --> 00:03:40.770\nSo, if you look at my list\nI've got one with a d.\n\n78\n00:03:40.770 --> 00:03:41.820\nThat's a directory.\n\n79\n00:03:41.820 --> 00:03:44.088\nThat's this files folder.\n\n80\n00:03:44.088 --> 00:03:46.520\nI know it's a folder because\nit's got a d over here,\n\n81\n00:03:46.520 --> 00:03:49.370\nall the other ones I know were\nfiles cuz they have dashes.\n\n82\n00:03:49.370 --> 00:03:51.930\nSo that first one is just\nindicating whether or a file or\n\n83\n00:03:51.930 --> 00:03:53.290\na folder and that's it.\n\n84\n00:03:54.639 --> 00:03:59.640\nAfter that then we get into\nour next set of values,\n\n85\n00:03:59.640 --> 00:04:05.190\nthe next three pertain to\nthe users permissions.\n\n86\n00:04:05.190 --> 00:04:07.260\nWhat permission does the user get?\n\n87\n00:04:07.260 --> 00:04:09.680\nThis person here, in the user column.\n\n88\n00:04:09.680 --> 00:04:13.280\nThe next three are what\npermissions the group gets.\n\n89\n00:04:13.280 --> 00:04:16.290\nThe group is right here,\nso what do they get?\n\n90\n00:04:16.290 --> 00:04:20.360\nAnd then the third set,\nthis is what's called the other.\n\n91\n00:04:20.360 --> 00:04:21.260\nWhat others get.\n\n92\n00:04:21.260 --> 00:04:23.310\nIn other words, if you're not the user and\n\n93\n00:04:23.310 --> 00:04:26.280\nyou're not in the group,\nwhat does everybody else get?\n\n94\n00:04:27.570 --> 00:04:31.050\nAnd that's what makes up\nthese last nine values,\n\n95\n00:04:31.050 --> 00:04:34.520\nthe user, the group, and the other.\n\n96\n00:04:34.520 --> 00:04:38.822\nSo, user, apparently,\nI don't know how to use my caps lock user,\n\n97\n00:04:38.822 --> 00:04:43.070\n[LAUGH] like apparently 50% of\nthe people on the internet.\n\n98\n00:04:43.070 --> 00:04:44.760\nAnd user, group, and other.\n\n99\n00:04:44.760 --> 00:04:45.669\nThose are those three values.\n\n100\n00:04:47.170 --> 00:04:49.540\nThe cool part here is,\nI can control permissions.\n\n101\n00:04:49.540 --> 00:04:53.900\nWhat permissions does the owner\nhave of that file, this user.\n\n102\n00:04:53.900 --> 00:04:54.960\nThe user is the owner.\n\n103\n00:04:54.960 --> 00:04:56.560\nWhat do they get?\n\n104\n00:04:56.560 --> 00:04:58.740\nAnd then,\nwhat permissions does the group get?\n\n105\n00:04:58.740 --> 00:05:00.350\nIt might be different.\n\n106\n00:05:00.350 --> 00:05:03.290\nThe owner might have ways\nsuper mega access, and\n\n107\n00:05:03.290 --> 00:05:05.600\nthe group might have something\na little more limited.\n\n108\n00:05:05.600 --> 00:05:08.540\nAnd then the others,\neverybody else, what do they get?\n\n109\n00:05:08.540 --> 00:05:09.640\nAnd that might be really limited.\n\n110\n00:05:09.640 --> 00:05:11.560\nThey might not have any access at all.\n\n111\n00:05:12.690 --> 00:05:16.190\nWell, these permissions, it's actually\npretty easy to understand them\n\n112\n00:05:16.190 --> 00:05:20.130\ncuz there's only three,\nread, write, and execute.\n\n113\n00:05:20.130 --> 00:05:24.323\nWhen we look at those values,\n\n114\n00:05:24.323 --> 00:05:31.216\nyou're gonna see it's r for\nread, W for write.\n\n115\n00:05:31.216 --> 00:05:31.970\n[LAUGH] There we go.\n\n116\n00:05:31.970 --> 00:05:33.090\n>> If you can write.\n\n117\n00:05:33.090 --> 00:05:34.770\n>> Apparently, it's beyond me.\n\n118\n00:05:34.770 --> 00:05:37.330\nAnd then X for execute.\n\n119\n00:05:37.330 --> 00:05:39.279\nThose are the ones that\nwe're gonna see and\n\n120\n00:05:39.279 --> 00:05:41.510\neach one pertains to\na certain type of activity.\n\n121\n00:05:41.510 --> 00:05:45.660\nIf I just wanna read the file and\nlook inside of it I need an r.\n\n122\n00:05:45.660 --> 00:05:48.560\nIf I wanna write to it, though,\nif I wanna change that file,\n\n123\n00:05:48.560 --> 00:05:51.660\nor I even wanna delete the file,\nI need a W.\n\n124\n00:05:51.660 --> 00:05:54.260\nAnd then if it's a program,\nif it's a binary or a script, and\n\n125\n00:05:54.260 --> 00:05:56.450\nI wanna run it, I need an X.\n\n126\n00:05:56.450 --> 00:05:59.130\nThat's gonna give me\nthe execute permission.\n\n127\n00:05:59.130 --> 00:06:02.120\nAnd so, as you look at some of\nthe files that I've got listed here,\n\n128\n00:06:02.120 --> 00:06:04.100\nlike this directory.\n\n129\n00:06:04.100 --> 00:06:07.820\nThis directory,\nwe know it's a directory cuz its got a d.\n\n130\n00:06:07.820 --> 00:06:11.960\nThe owner dpezet, I can read, write,\nand execute to the directory.\n\n131\n00:06:11.960 --> 00:06:15.080\nNow, in a directory that means\nthat I can write, in other words,\n\n132\n00:06:15.080 --> 00:06:17.110\nI can create files inside of it.\n\n133\n00:06:17.110 --> 00:06:19.630\nA little bit different\nthan writing to a file.\n\n134\n00:06:19.630 --> 00:06:23.260\nI can see that my group can also read,\nwrite, and execute.\n\n135\n00:06:23.260 --> 00:06:25.953\nSo anybody in my group,\nwhich is just dpezet, but\n\n136\n00:06:25.953 --> 00:06:30.379\nif we changed that to like sales, anybody\nin the sales group would be able to read,\n\n137\n00:06:30.379 --> 00:06:33.797\nwrite, and actually they'd be\nable to create files in there.\n\n138\n00:06:33.797 --> 00:06:36.343\nAnd then everybody else\ncan read the directory,\n\n139\n00:06:36.343 --> 00:06:39.137\nthey can browse into the directory and\nsee the files,\n\n140\n00:06:39.137 --> 00:06:42.690\nthey can execute programs if\nthere's programs in there.\n\n141\n00:06:42.690 --> 00:06:47.850\nBut they can't change files or\ncreate new files or delete files.\n\n142\n00:06:47.850 --> 00:06:49.720\nThey don't have the write permission.\n\n143\n00:06:49.720 --> 00:06:53.320\nNow you'll almost always have execute\non a directory cuz the act of\n\n144\n00:06:53.320 --> 00:06:55.780\nbrowsing into a directory\nis like executing it.\n\n145\n00:06:55.780 --> 00:06:56.690\nSo you'll usually see, and\n\n146\n00:06:56.690 --> 00:06:59.340\nI know it's odd, you're like,\nwell, it's not a program.\n\n147\n00:06:59.340 --> 00:07:00.360\nWell, it's a directory.\n\n148\n00:07:00.360 --> 00:07:02.826\nYou sort of execute it when you\nbrowse to it, so expect to see that.\n\n149\n00:07:04.770 --> 00:07:07.970\nOther files, like, listing1.1.txt.\n\n150\n00:07:07.970 --> 00:07:11.784\nNotice my user has read and\nwrite but not execute.\n\n151\n00:07:11.784 --> 00:07:13.508\nI can't execute this.\n\n152\n00:07:13.508 --> 00:07:14.660\nWell, it's funny, it's a text file.\n\n153\n00:07:14.660 --> 00:07:16.422\nI'm not gonna execute a text file.\n\n154\n00:07:16.422 --> 00:07:20.860\nI'm gonna use another program like vim or\nnano or whatever to open this.\n\n155\n00:07:20.860 --> 00:07:22.130\nThat's the executable.\n\n156\n00:07:22.130 --> 00:07:25.030\nSo I don't need execute on it,\nI've just got read and write.\n\n157\n00:07:25.030 --> 00:07:29.180\nSo as my group and\neveryone else just has read.\n\n158\n00:07:29.180 --> 00:07:31.360\nMaybe I don't want everybody\nelse to read this file.\n\n159\n00:07:31.360 --> 00:07:34.228\nI can take that away,\nand now we apparently,\n\n160\n00:07:34.228 --> 00:07:40.640\nauto-correct in some crazy dash, well,\nthat's gonna annoy the hell out of me.\n\n161\n00:07:40.640 --> 00:07:44.440\nWell, so anyhow you would see three\ndashes here that would represent that\n\n162\n00:07:45.690 --> 00:07:49.710\nthat not having any permission,\nyou're denied access to that point.\n\n163\n00:07:49.710 --> 00:07:51.890\nThree dashes is a deny.\n\n164\n00:07:52.940 --> 00:07:55.605\nThose are kind of the permissions and\nhow they're set.\n\n165\n00:07:55.605 --> 00:07:59.094\nWell, how they're set\nin the system already.\n\n166\n00:07:59.094 --> 00:08:01.331\nWhat if we wanna change them, though?\n\n167\n00:08:01.331 --> 00:08:05.210\nThat's where the commands we're\ngonna cover in this episode come in.\n\n168\n00:08:05.210 --> 00:08:09.340\nWe've got two main commands that\nwe really need to be aware of.\n\n169\n00:08:09.340 --> 00:08:14.130\nThere's chown, which is change owner.\n\n170\n00:08:14.130 --> 00:08:21.140\nSo, if I do man chown, I can see\nthat change file owner and group.\n\n171\n00:08:21.140 --> 00:08:24.840\nHere's how I can set, who it is that owns\nit and who's the group on it, right?\n\n172\n00:08:24.840 --> 00:08:27.130\nI can modify that right here.\n\n173\n00:08:27.130 --> 00:08:30.670\nAnd then, the other command is chmod,\nall right?\n\n174\n00:08:32.620 --> 00:08:37.683\nThat is what lets me change the file mode\nbits, which are the permissions, right?\n\n175\n00:08:37.683 --> 00:08:40.590\nHere's where I can modify\nthose permissions on the file.\n\n176\n00:08:40.590 --> 00:08:46.310\nChmod is a very old command, and it has\nan old syntax that's kinda hard to use.\n\n177\n00:08:46.310 --> 00:08:49.820\nAnd it's got a new syntax that's\nactually a lot easier to use.\n\n178\n00:08:49.820 --> 00:08:52.570\nI'm gonna show you both though,\ncuz they both show up on the exam.\n\n179\n00:08:54.090 --> 00:08:57.065\nLet's start with kinda the easy way,\nall right?\n\n180\n00:08:57.065 --> 00:09:00.040\nI wanna start with the c-h-o-w-n,\nchange ownership.\n\n181\n00:09:01.050 --> 00:09:07.300\nIf I look in my directory, I can see\nthese files, like I've got dontest.txt.\n\n182\n00:09:07.300 --> 00:09:11.032\nAnd right now it's owned by me,\nowned by dpezet, right?\n\n183\n00:09:11.032 --> 00:09:14.250\nSo I've got that one right there,\nvery exciting, right?\n\n184\n00:09:14.250 --> 00:09:19.049\nWell, if I have a new user that I create,\nand I wanna make them the owner,\n\n185\n00:09:19.049 --> 00:09:21.195\nI can set that or I can change it.\n\n186\n00:09:21.195 --> 00:09:26.250\nAnd this happens a lot because maybe the\nroot user is setting something up, right?\n\n187\n00:09:26.250 --> 00:09:30.080\nSo if I'm adding a new hard drive as root,\nit's not uncommon for\n\n188\n00:09:30.080 --> 00:09:31.200\nthat hard drive to be tied to me.\n\n189\n00:09:31.200 --> 00:09:33.940\nI created it, I put it in there,\nso it's tied to me.\n\n190\n00:09:33.940 --> 00:09:37.230\nBut if it's tied to root,\nno other user can use it.\n\n191\n00:09:37.230 --> 00:09:41.228\nI have to make it where they can, so\nI might wanna change who that user is or\n\n192\n00:09:41.228 --> 00:09:44.519\nwho that group is and\nget that kind of set up and put in place.\n\n193\n00:09:44.519 --> 00:09:46.653\nSo we can use chown for that.\n\n194\n00:09:46.653 --> 00:09:50.417\nSo for example let's say that\nI am running as root, right?\n\n195\n00:09:50.417 --> 00:09:52.833\nSo here I'm running his root and\n\n196\n00:09:52.833 --> 00:09:57.380\nI'm in Don Pezet's document folder and\nI create a file.\n\n197\n00:09:57.380 --> 00:10:01.570\nI'm just gonna do touch,\nfile2.txt, all right?\n\n198\n00:10:01.570 --> 00:10:07.490\nSo I just created a file called file2.txt,\nand if I look for that file,\n\n199\n00:10:09.090 --> 00:10:13.499\nI see it right there, and notice that\nthe owner is root and the group is root.\n\n200\n00:10:14.570 --> 00:10:16.370\nSo what about Don?\n\n201\n00:10:16.370 --> 00:10:18.234\nDon needs to be able to access this file.\n\n202\n00:10:18.234 --> 00:10:19.400\nHe's not going to be able to.\n\n203\n00:10:19.400 --> 00:10:25.370\nBasically root has read and write and\nthe group, which is also root, has read.\n\n204\n00:10:26.510 --> 00:10:29.260\nEverybody else just has read.\n\n205\n00:10:29.260 --> 00:10:32.690\nSo, Don Pezet, me,\nI'll just have read on this file, right?\n\n206\n00:10:32.690 --> 00:10:39.060\nIf I drop back out of root and I try and\nedit file2.txt, I have read permission\n\n207\n00:10:39.060 --> 00:10:43.470\nI can see it, but notice the note that vi\nis giving me down here, it's read only.\n\n208\n00:10:43.470 --> 00:10:47.680\nIf I try and change it,\nit's warning me that it's read only.\n\n209\n00:10:47.680 --> 00:10:52.180\nAnd if I try and save that,\nI get that I can't, right?\n\n210\n00:10:52.180 --> 00:10:56.642\nI don't have access, whoops,\nbecause I am not in the list, right?\n\n211\n00:10:56.642 --> 00:10:58.012\nIt's like you walk up\nto the night club and\n\n212\n00:10:58.012 --> 00:10:59.666\nthey won't let you in cuz\nyou're not on the list.\n\n213\n00:10:59.666 --> 00:11:00.601\nI know that feeling all too well.\n\n214\n00:11:00.601 --> 00:11:03.380\n>> [LAUGH]\n>> [LAUGH] So you can see it down here,\n\n215\n00:11:03.380 --> 00:11:05.398\nI'm just not that person.\n\n216\n00:11:05.398 --> 00:11:06.390\n>> So sad [LAUGH].\n\n217\n00:11:06.390 --> 00:11:08.120\n>> It's so sad.\n\n218\n00:11:08.120 --> 00:11:10.932\nSo I need to change that, and\nI can use chown for that.\n\n219\n00:11:10.932 --> 00:11:17.345\nSo I'm gonna say chown, I'm having to\ndo a sudo because it's owned by root.\n\n220\n00:11:17.345 --> 00:11:20.700\nIf it was owned by me, I wouldn't have to\nsudo it, I could change the ownership.\n\n221\n00:11:20.700 --> 00:11:21.790\nI own it, right?\n\n222\n00:11:21.790 --> 00:11:23.810\nBut this is owned by root,\nso I gotta do a sudo.\n\n223\n00:11:23.810 --> 00:11:27.550\nSo I'm gonna say chown, and\nthen the way this command works,\n\n224\n00:11:27.550 --> 00:11:30.670\nis you specify who you\nwant the user to be, or\n\n225\n00:11:30.670 --> 00:11:35.530\nthe owner, followed by a colon and\nwho you want the group to be.\n\n226\n00:11:35.530 --> 00:11:37.413\nAnd then what file it\nis you want to modify.\n\n227\n00:11:37.413 --> 00:11:40.230\nSo I wanna modify file2.txt.\n\n228\n00:11:40.230 --> 00:11:44.820\nAnd for the user and group,\nI want to set that to be dpezet for\n\n229\n00:11:44.820 --> 00:11:48.110\nthe user, and we'll go ahead and\nmake dpezet the group also.\n\n230\n00:11:48.110 --> 00:11:50.390\nOr I might make the sales department or\nmarketing or whatever,\n\n231\n00:11:50.390 --> 00:11:51.690\none of those guys, that group.\n\n232\n00:11:53.120 --> 00:11:58.240\nSo I'll run that, and now when I look for\nthat file2.txt, I guess I could\n\n233\n00:11:59.610 --> 00:12:03.260\nuse the stat command instead, but\nthis is the way I'm used to it.\n\n234\n00:12:03.260 --> 00:12:07.862\nWe can see it right here,\nfile2.txt and now dpezet is the owner.\n\n235\n00:12:07.862 --> 00:12:10.067\nAnd if I were to go back and\nedit this file,\n\n236\n00:12:10.067 --> 00:12:14.037\nit was read only a minutes ago cuz those\nwere the permissions that I had, but\n\n237\n00:12:14.037 --> 00:12:17.670\nnow I'm the owner so\nthese permissions over here apply.\n\n238\n00:12:17.670 --> 00:12:20.660\nNow I should have read and\nwrite, and I can edit that.\n\n239\n00:12:20.660 --> 00:12:23.000\nAnd now, here I am, I'm in the file.\n\n240\n00:12:23.000 --> 00:12:24.619\nI can insert some text.\n\n241\n00:12:26.820 --> 00:12:30.370\nAnd I can save it, and it let me save it.\n\n242\n00:12:30.370 --> 00:12:31.550\nNow I have that permission.\n\n243\n00:12:31.550 --> 00:12:34.190\nI changed which permissions apply to me.\n\n244\n00:12:34.190 --> 00:12:38.410\nThat's why we care about who owns\na file and what permissions are set.\n\n245\n00:12:38.410 --> 00:12:40.688\n>> Yeah, Don, we really see\nthis type of file security and\n\n246\n00:12:40.688 --> 00:12:42.828\ndirectory security with things like Etsy,\nright?\n\n247\n00:12:42.828 --> 00:12:45.080\nThere's a lot of stuff in\nthere that's owned by root.\n\n248\n00:12:45.080 --> 00:12:47.800\nThey don't want people messing around\nwith those files unless you're\n\n249\n00:12:47.800 --> 00:12:48.750\none of those super users.\n\n250\n00:12:48.750 --> 00:12:53.070\nSo it kinda stays in the root\nuser end group activity, right?\n\n251\n00:12:53.070 --> 00:12:57.380\n>> Yeah, another example,\nI see this in web servers all the time.\n\n252\n00:12:57.380 --> 00:13:00.320\nI'm not sure if I'm running\na web service or not, let's see.\n\n253\n00:13:00.320 --> 00:13:05.590\nSo let's say that I wanna be a web server,\nso I'm gonna install Apache.\n\n254\n00:13:05.590 --> 00:13:08.240\nAnd yeah, I'm not a web server, so\nI'm gonna install Apache real quick.\n\n255\n00:13:08.240 --> 00:13:12.720\nNow Apache, it creates its owner user\naccount called Apache and it creates its\n\n256\n00:13:12.720 --> 00:13:18.110\nown group called Apache and it runs\nthe web service as that user, right?\n\n257\n00:13:18.110 --> 00:13:23.280\nSo Apache is up and running as that\nuser and if I do, let's go ahead and\n\n258\n00:13:23.280 --> 00:13:27.040\nstart it, oh I think I'm running System-D,\nwhatever we'll just start this way.\n\n259\n00:13:27.040 --> 00:13:28.558\nIt will work.\n\n260\n00:13:28.558 --> 00:13:30.421\nIt's gonna translate that for\nme, there we go.\n\n261\n00:13:30.421 --> 00:13:31.692\nI should've used.\n\n262\n00:13:31.692 --> 00:13:35.755\nSo anyhow,\nthat one's going to fire up, and,\n\n263\n00:13:35.755 --> 00:13:40.770\noh did it not actually,\noh, I meant to say start.\n\n264\n00:13:40.770 --> 00:13:41.707\nThat turkey.\n\n265\n00:13:41.707 --> 00:13:43.245\nWell, shoot.\n\n266\n00:13:48.121 --> 00:13:52.128\nOne of these, I'll get my syntax right.\n>> I think it's-\n\n267\n00:13:52.128 --> 00:13:53.482\n>> [INAUDIBLE] Oh [LAUGH].\n\n268\n00:13:53.482 --> 00:13:54.697\n>> There we go, all right.\n\n269\n00:13:54.697 --> 00:13:56.884\n>> [LAUGH]\n>> So I've started up Apache, so\n\n270\n00:13:56.884 --> 00:13:58.145\nnow I am a web server.\n\n271\n00:13:58.145 --> 00:14:04.729\nApache stores it's web documents\n\n272\n00:14:04.729 --> 00:14:10.877\nin /var/www/html, right?\n\n273\n00:14:10.877 --> 00:14:13.040\nSo /var/www/html.\n\n274\n00:14:13.040 --> 00:14:18.980\nAnd if I look at that directory and what's\nin there, see how it's owned by root?\n\n275\n00:14:18.980 --> 00:14:23.050\nWell, when I start to create\nwebpages in here, if I'm root and\n\n276\n00:14:23.050 --> 00:14:25.150\nI'm creating them or\n'm a user that has access,\n\n277\n00:14:25.150 --> 00:14:28.840\nthey're gonna be owned by me,\nApache's not gonna be able to access that.\n\n278\n00:14:28.840 --> 00:14:32.350\nSo, I would need to make sure\nthat any file that I put in here\n\n279\n00:14:32.350 --> 00:14:35.110\nended up being owned by Apache.\n\n280\n00:14:35.110 --> 00:14:40.242\nSo if I start creating something\nlike an index.html, right?\n\n281\n00:14:40.242 --> 00:14:43.120\nWhich I don't have access for,\nso I have to do a sudo, right?\n\n282\n00:14:43.120 --> 00:14:47.774\nSo I'm gonna create that, or maybe I\nhave a sub-directory called files, and\n\n283\n00:14:47.774 --> 00:14:51.371\nthat's where I put downloadable\nfiles from my users, and so\n\n284\n00:14:51.371 --> 00:14:54.983\ninside of here I might have\nlike file1.zip, or whatever.\n\n285\n00:14:56.695 --> 00:14:58.932\nNot a directory?\n\n286\n00:14:58.932 --> 00:15:00.056\nWell, I know it's not a directory.\n\n287\n00:15:00.056 --> 00:15:02.500\n[LAUGH] Oh, you know what?\n\n288\n00:15:02.500 --> 00:15:04.260\nI touched it, I did make a directory.\n\n289\n00:15:04.260 --> 00:15:06.500\nThat's my fault, yeah, so let me fix that.\n\n290\n00:15:06.500 --> 00:15:09.670\nSo if I start making directories or\nwhatever, these are all gonna end up being\n\n291\n00:15:09.670 --> 00:15:15.080\nowned by root, because I'm running\nall this stuff as root, right?\n\n292\n00:15:15.080 --> 00:15:19.120\nI'm doing sudu, which effectively\nruns things as the root user.\n\n293\n00:15:19.120 --> 00:15:23.271\nAnd so as I start to do this stuff,\nit's all being done as me.\n\n294\n00:15:23.271 --> 00:15:26.920\nAnd when I look at that, see the ownership\non these guys, it's all root.\n\n295\n00:15:26.920 --> 00:15:30.310\nNow the Apache service is gonna run and\ntry and serve up these webpages and\n\n296\n00:15:30.310 --> 00:15:32.000\nit's not gonna have the right access.\n\n297\n00:15:32.000 --> 00:15:34.882\nIt's gonna fall down here where it\nmight have read and execute, but\n\n298\n00:15:34.882 --> 00:15:38.085\nI might want to tweak that a little more,\ntighten these permissions down.\n\n299\n00:15:38.085 --> 00:15:41.934\nSo we can use c-h-o-w-n,\nchange owner, to fix that, and\n\n300\n00:15:41.934 --> 00:15:45.423\nwe can do it recursively to\nhit this whole thing at once.\n\n301\n00:15:45.423 --> 00:15:50.303\nI can say run chown -r,\nto make it recursive and\n\n302\n00:15:50.303 --> 00:15:55.549\nI can set Apache as the user,\nApache as the group and\n\n303\n00:15:55.549 --> 00:15:59.098\nI can specify /var/www/html.\n\n304\n00:15:59.098 --> 00:16:03.051\nAnd now it's gonna take everything in\nthat folder and it's sub folders and\n\n305\n00:16:03.051 --> 00:16:04.380\nmake it owned by Apache.\n\n306\n00:16:04.380 --> 00:16:06.970\nNow it can serve up those\nweb pages properly.\n\n307\n00:16:06.970 --> 00:16:11.900\nAnd so I see those permissions set, if I\ngo into my files directory, I see it set\n\n308\n00:16:11.900 --> 00:16:15.850\nhere, it went all the way through and\nnow I've got that right ownership.\n\n309\n00:16:15.850 --> 00:16:19.320\nThat's very important,\nespecially on a system running SELinux,\n\n310\n00:16:19.320 --> 00:16:22.530\nbecause otherwise your service won't have\naccess to the files that it needs to run.\n\n311\n00:16:22.530 --> 00:16:24.700\nYou've gotta change that\nownership to the appropriate one.\n\n312\n00:16:24.700 --> 00:16:26.590\nMySQL is the same way.\n\n313\n00:16:26.590 --> 00:16:27.830\n>> That's pretty good stuff, right?\n\n314\n00:16:27.830 --> 00:16:31.590\nThat's the kind of thing that we need to\nknow as getting into it as administrators.\n\n315\n00:16:31.590 --> 00:16:33.470\nBeing the person that people call and\nsay, hey,\n\n316\n00:16:33.470 --> 00:16:36.640\nI'm having a little trouble here\ntrying to access these files.\n\n317\n00:16:36.640 --> 00:16:38.750\nAnd all you gotta do is put\nthem in the right group or\n\n318\n00:16:38.750 --> 00:16:41.150\nmake sure that the right group\nhas actually been applied.\n\n319\n00:16:41.150 --> 00:16:43.900\nWe can also set permissions\ndown at the file level.\n\n320\n00:16:43.900 --> 00:16:44.610\nRight, Don?\n\n321\n00:16:44.610 --> 00:16:46.680\n>> Yeah, and permissions are really\nimportant, especially for\n\n322\n00:16:46.680 --> 00:16:47.550\nsomething like a web page.\n\n323\n00:16:47.550 --> 00:16:51.170\nWe don't want people having executable\npermissions on something in your web site.\n\n324\n00:16:51.170 --> 00:16:53.280\nThat's a great way for\na hacker to get into your system.\n\n325\n00:16:53.280 --> 00:16:54.860\nSo we need to modify those permissions.\n\n326\n00:16:54.860 --> 00:16:58.800\nNow fortunately, it's pretty\neasy to modify the permissions.\n\n327\n00:16:58.800 --> 00:17:02.580\nWhen we want to change something,\nlet me get back to my home directory so\n\n328\n00:17:02.580 --> 00:17:04.471\nI don't mess anything up too much.\n\n329\n00:17:04.471 --> 00:17:08.890\nLet's take that file, well,\nmaybe I'm making a script, right?\n\n330\n00:17:08.890 --> 00:17:13.860\nSo I want to create a script, something\nreally simple, you know, maybe I create\n\n331\n00:17:13.860 --> 00:17:17.193\na script that is just I don't know-\n>> Lists the directories and\n\n332\n00:17:17.193 --> 00:17:18.589\nprints the working directory.\n\n333\n00:17:18.589 --> 00:17:20.550\n>> It does an ls, yeah, that'll work.\n\n334\n00:17:20.550 --> 00:17:22.500\nSo if I want to edit that.\n\n335\n00:17:22.500 --> 00:17:24.828\nMaybe I'll call it dir.sh, right?\n\n336\n00:17:24.828 --> 00:17:27.530\nSo it's going to be my own\nprivate directory command.\n\n337\n00:17:27.530 --> 00:17:32.460\nAnd we'll make this a,\nlike a bash command.\n\n338\n00:17:32.460 --> 00:17:34.270\nOh wait, that needs to be exclamation,\n\n339\n00:17:34.270 --> 00:17:35.442\nno I had it right\n>> You had it right.\n\n340\n00:17:35.442 --> 00:17:39.098\n>> Okay, so I'm gonna basically\nwrite a quick bash script, and\n\n341\n00:17:39.098 --> 00:17:41.880\nI'm just gonna do something like ls,\nright?\n\n342\n00:17:41.880 --> 00:17:45.690\nI'm just gonna run the ls command\ninside of this and that's it.\n\n343\n00:17:45.690 --> 00:17:48.870\nNow when I made that file, dir.sh,\n\n344\n00:17:48.870 --> 00:17:53.770\nif I look at the permissions that\nended up being assigned to it, see how\n\n345\n00:17:53.770 --> 00:17:57.540\nI have read and write, my group has\nread and write, everybody else has read.\n\n346\n00:17:57.540 --> 00:17:58.880\nNobody has execute.\n\n347\n00:17:58.880 --> 00:18:00.260\nI can't actually run this.\n\n348\n00:18:00.260 --> 00:18:04.110\nIf I try and run the script,\nI don't have execute permissions.\n\n349\n00:18:04.110 --> 00:18:06.360\nSee, I get permission denied, right?\n\n350\n00:18:06.360 --> 00:18:08.590\nSo I need to add execute\npermissions to it.\n\n351\n00:18:08.590 --> 00:18:11.030\nAnd the way we do that is with chmod.\n\n352\n00:18:12.260 --> 00:18:14.910\nNow I don't need to sudo this\nbecause it's owned by me.\n\n353\n00:18:14.910 --> 00:18:16.774\nI can change whatever I want on it right?\n\n354\n00:18:16.774 --> 00:18:18.780\nYou get the sudo when it's\nowned by somebody else and\n\n355\n00:18:18.780 --> 00:18:20.480\nyou're trying to override.\n\n356\n00:18:20.480 --> 00:18:23.890\nSo I'm gonna change its mode bits.\n\n357\n00:18:23.890 --> 00:18:27.830\nAnd the mode bits that I wanna change\ndepends on what it is I'm trying to add.\n\n358\n00:18:27.830 --> 00:18:33.970\nIf I want the user to be able to execute,\nthen what I can do is I can say u+x.\n\n359\n00:18:33.970 --> 00:18:38.370\nTake the user permissions and\nadd x, right?\n\n360\n00:18:38.370 --> 00:18:43.184\nAnd then I can tell it the file that I\nwanna modify, and I wanna do ./dir.sh.\n\n361\n00:18:43.184 --> 00:18:48.060\nAnd if I want my group to be\nable to do that, I can do g+x.\n\n362\n00:18:48.060 --> 00:18:52.630\nAnd maybe I want to make sure\nthat everyone else can't do that.\n\n363\n00:18:52.630 --> 00:18:58.770\nThen I can come in, and I could say, o- x.\n\n364\n00:18:58.770 --> 00:19:02.410\nI'm removing the execute bit for\neveryone else.\n\n365\n00:19:02.410 --> 00:19:03.600\nu, g, o.\n\n366\n00:19:03.600 --> 00:19:06.520\nThe user is the owner,\nwhich gets confusing with the other o.\n\n367\n00:19:06.520 --> 00:19:11.177\nBut the user permissions, the group\npermissions, and then everyone else.\n\n368\n00:19:11.177 --> 00:19:15.863\nAnd I could have have this all in one line\nby saying u + x, g + x, and so on, and\n\n369\n00:19:15.863 --> 00:19:20.570\nset it all at once, but I just kinda did\nit here so we could see it as an example.\n\n370\n00:19:22.240 --> 00:19:26.196\nAnd if I look at the file,\nthere we go, and\n\n371\n00:19:26.196 --> 00:19:31.073\nI can see I didn't actually get,\noh, wrong file.\n\n372\n00:19:31.073 --> 00:19:31.573\nThat'll make a difference.\n\n373\n00:19:32.870 --> 00:19:34.966\nThere we go, I knew I didn't make\ntoo much of a mistake there.\n\n374\n00:19:34.966 --> 00:19:38.389\nAnd I can see that I now have read,\nwrite, execute, my group has read,\n\n375\n00:19:38.389 --> 00:19:40.686\nwrite, execute, and\neveryone else has read.\n\n376\n00:19:40.686 --> 00:19:45.049\nNow I have to be careful here cuz\nI gave my group write permissions.\n\n377\n00:19:45.049 --> 00:19:47.510\nSo somebody in my group could come and\nedit this file and\n\n378\n00:19:47.510 --> 00:19:50.302\nnow the script could do things\nI didn't want it to do, right?\n\n379\n00:19:50.302 --> 00:19:51.654\nThey could put malicious code in there.\n\n380\n00:19:51.654 --> 00:19:54.077\nSo I might want to take away\ntheir write permissions.\n\n381\n00:19:54.077 --> 00:19:55.429\nSo I can do that.\n\n382\n00:19:55.429 --> 00:20:01.745\nchmod g- w and then dir.sh.\n\n383\n00:20:01.745 --> 00:20:05.250\nI'm taking away the group's\npermission to write.\n\n384\n00:20:05.250 --> 00:20:10.210\nAnd now when I do that that, we can\nlook at the permissions we end up with.\n\n385\n00:20:10.210 --> 00:20:14.310\nAnd now I still have permission to write,\nbut my group and everyone else doesn't.\n\n386\n00:20:14.310 --> 00:20:15.550\nBut now that script can be run.\n\n387\n00:20:15.550 --> 00:20:19.730\nI can call dir.sh and\nwhen it runs, there it goes.\n\n388\n00:20:19.730 --> 00:20:21.720\nThe script actually executed.\n\n389\n00:20:21.720 --> 00:20:22.310\nIt's now a program.\n\n390\n00:20:23.600 --> 00:20:28.651\nSo using that notation, u + x,\nu- x, g + r, g- r, o + w,\n\n391\n00:20:28.651 --> 00:20:33.904\no- w, you're adding write,\nremoving write from the group,\n\n392\n00:20:33.904 --> 00:20:38.820\nfrom the user, from the others,\nfrom everybody else.\n\n393\n00:20:38.820 --> 00:20:41.148\nSo, pretty easy to do permissions, right?\n\n394\n00:20:41.148 --> 00:20:41.806\n>> It's the way God intended.\n\n395\n00:20:41.806 --> 00:20:44.752\n[LAUGH]\n>> It wasn't always like that.\n\n396\n00:20:44.752 --> 00:20:50.370\nBack in the day, this is where we get old\ntimers, we had to set it with a bit value.\n\n397\n00:20:50.370 --> 00:20:53.940\nAnd the value was a number from 0 to 7.\n\n398\n00:20:53.940 --> 00:20:57.490\nAnd each number represented\na different level of permissions and\n\n399\n00:20:57.490 --> 00:21:01.580\nin fact it's all still\nin the chmod man file.\n\n400\n00:21:01.580 --> 00:21:04.460\nIf you go into the documentation for\nit somewhere in here.\n\n401\n00:21:05.790 --> 00:21:06.350\nWell shoot.\n\n402\n00:21:06.350 --> 00:21:07.006\n>> It's hiding in there.\n\n403\n00:21:07.006 --> 00:21:11.844\n>> Yeah it's in here where it lays\nout what all the bit values are and\n\n404\n00:21:11.844 --> 00:21:14.800\nbasically it ranges from, here we go,\n\n405\n00:21:14.800 --> 00:21:19.255\n0 which is no permissions whatsoever,\nall the way to 7.\n\n406\n00:21:19.255 --> 00:21:21.500\n7 is read, write, and execute.\n\n407\n00:21:21.500 --> 00:21:25.700\nAnd the other numbers that are in between,\nlike 5, 5 is read and execute.\n\n408\n00:21:26.895 --> 00:21:29.160\n4 is read and write, but not execute.\n\n409\n00:21:29.160 --> 00:21:32.060\nSo it's kinda laid out in between,\nand you would have to know\n\n410\n00:21:32.060 --> 00:21:35.140\nwhich number corresponded to\nwhich combination of permissions.\n\n411\n00:21:35.140 --> 00:21:37.510\nYou just had to memorize\nthis table of eight values.\n\n412\n00:21:37.510 --> 00:21:40.990\nAnd that was not something that\nmost people were going to do.\n\n413\n00:21:40.990 --> 00:21:44.645\nSo we usually just remember a couple\nof them, the ones that are useful.\n\n414\n00:21:44.645 --> 00:21:48.555\n0 is no access, 7 is full access,\nread, write and execute.\n\n415\n00:21:48.555 --> 00:21:51.460\n5 is read and execute,\n4 is read and write.\n\n416\n00:21:51.460 --> 00:21:53.450\nThose are the ones that we normally use.\n\n417\n00:21:53.450 --> 00:21:54.970\nBut there are other ones\nthat are available, and\n\n418\n00:21:54.970 --> 00:21:58.960\nit's just kind of telling us here\nwhat each one corresponds to.\n\n419\n00:21:58.960 --> 00:22:02.380\n>> Now Don, 0 is technically\na root only access, right?\n\n420\n00:22:02.380 --> 00:22:04.570\nAnd everyone else gets no access.\n\n421\n00:22:04.570 --> 00:22:07.730\n>> Yeah, if you're the owner you can\nnever truly lock yourself out of a file.\n\n422\n00:22:07.730 --> 00:22:10.060\nSo even if you take away\nyour owner permissions,\n\n423\n00:22:10.060 --> 00:22:12.650\nyou still have the permission\nto change permissions.\n\n424\n00:22:12.650 --> 00:22:15.614\nSo you can never truly lock yourself out,\neven if you do all 0s.\n\n425\n00:22:17.330 --> 00:22:20.200\nBut if I want to take that dir.sh and\n\n426\n00:22:20.200 --> 00:22:23.490\nI don't want anybody else to run\nit other than me and my group.\n\n427\n00:22:23.490 --> 00:22:24.950\nOr maybe I don't even\nwant my group to run it.\n\n428\n00:22:24.950 --> 00:22:27.430\nI just want me to be able to run it.\n\n429\n00:22:27.430 --> 00:22:31.235\nWell, I could use the other\nnotation of like g- x and\n\n430\n00:22:31.235 --> 00:22:34.620\no- x to take away their\nexecute permissions.\n\n431\n00:22:35.790 --> 00:22:38.450\nOr if I know what I want them to have,\nand I know the bit values,\n\n432\n00:22:38.450 --> 00:22:39.890\nI can provide it that way.\n\n433\n00:22:39.890 --> 00:22:43.350\nIf I want me to have full access,\nread, write and execute,\n\n434\n00:22:43.350 --> 00:22:45.506\nand everybody else to have nothing.\n\n435\n00:22:45.506 --> 00:22:52.689\nThen what I would do is I\nwould say chmod 700 dir.sh.\n\n436\n00:22:52.689 --> 00:22:55.120\n700, three numbers.\n\n437\n00:22:55.120 --> 00:22:57.320\nThe first number applies to the user.\n\n438\n00:22:57.320 --> 00:22:59.410\nThe second number applies to the group.\n\n439\n00:22:59.410 --> 00:23:02.370\nThe third number applies to everyone else.\n\n440\n00:23:02.370 --> 00:23:06.329\n7 for me means I get read,\nwrite and execute, I'm the user.\n\n441\n00:23:06.329 --> 00:23:09.400\n0 for my group means they get nothing.\n\n442\n00:23:09.400 --> 00:23:12.810\nAnd then 0 for the others means\neverybody else gets nothing.\n\n443\n00:23:12.810 --> 00:23:17.960\nAnd when I run that,\nnow I can take a look at that file and\n\n444\n00:23:17.960 --> 00:23:22.140\nsure enough, I have read, write, execute,\neverybody else has nothing, all right?\n\n445\n00:23:22.140 --> 00:23:23.590\nBut you see how difficult this is.\n\n446\n00:23:23.590 --> 00:23:25.760\nI had to remember what\nthe numbers correspond to.\n\n447\n00:23:25.760 --> 00:23:29.590\nIf I wanna let my group read and execute,\nbut not write, if I remember, hey,\n\n448\n00:23:29.590 --> 00:23:36.170\nthat's a 5, then I can come in and\nI can say chmod 750.\n\n449\n00:23:36.170 --> 00:23:38.930\nAnd I know 7 gives me everything,\n5 gives them read and\n\n450\n00:23:38.930 --> 00:23:42.390\nexecute, 0 gives everybody else nothing.\n\n451\n00:23:42.390 --> 00:23:46.620\nAnd now, when I look at that file I\ncan see that's exactly what I got.\n\n452\n00:23:46.620 --> 00:23:50.120\nRead, write, execute for me,\nread and execute for my group.\n\n453\n00:23:50.120 --> 00:23:52.540\nAnd nothing for everybody else, right?\n\n454\n00:23:52.540 --> 00:23:54.172\nNot the easiest way to do things, but\n\n455\n00:23:54.172 --> 00:23:57.445\nthat's the way it was all through\nthe 80s and really through the 90s.\n\n456\n00:23:57.445 --> 00:23:59.960\nThis notation of u + whatever.\n\n457\n00:23:59.960 --> 00:24:01.638\nThat's really somewhat new.\n\n458\n00:24:01.638 --> 00:24:03.740\nCame out, you know,\naround the turn of the century.\n\n459\n00:24:03.740 --> 00:24:05.950\nThat's obviously a very\nimportant thing to know.\n\n460\n00:24:05.950 --> 00:24:10.064\n[LAUGH] Now like Don said, this does get a\nlittle difficult when you're working with\n\n461\n00:24:10.064 --> 00:24:13.017\nthose bids and\nhaving to memorize these different things.\n\n462\n00:24:13.017 --> 00:24:15.809\nI'm not a 100% but\nwhen I took the Linux Plus test,\n\n463\n00:24:15.809 --> 00:24:18.192\nthey wanted you to know that down pat.\n\n464\n00:24:18.192 --> 00:24:20.700\nAnd there's charts that you can\nlook up and things like that.\n\n465\n00:24:20.700 --> 00:24:23.770\nMaybe we'll make one up and\nslap it on the show notes or something.\n\n466\n00:24:23.770 --> 00:24:24.940\nIt's not that difficult.\n\n467\n00:24:24.940 --> 00:24:27.036\nWell, as you start to memorize it.\n\n468\n00:24:27.036 --> 00:24:29.840\nDefinitely get it memorized so\nthat when you do it and you hit that exam,\n\n469\n00:24:29.840 --> 00:24:33.170\nand they hit you with the mode bits,\nyou're not completely lost.\n\n470\n00:24:33.170 --> 00:24:36.836\nOnly if you've memorized 7 and 5 and\n0 they might throw a 6 or a 4 at you,\n\n471\n00:24:36.836 --> 00:24:39.120\nand expect you to know\nwhat that means as well.\n\n472\n00:24:39.120 --> 00:24:41.030\nSo, definitely memorize that table.\n\n473\n00:24:41.030 --> 00:24:43.150\n>> Now, if you're watching this on our\nwebsite, you got the show notes there,\n\n474\n00:24:43.150 --> 00:24:43.830\nthe bits are in there.\n\n475\n00:24:43.830 --> 00:24:46.100\nBut for those of you that are watching\nlike on a Roku or something,\n\n476\n00:24:46.100 --> 00:24:47.226\nyou might not have those notes.\n\n477\n00:24:47.226 --> 00:24:49.410\nSo just to run through\nthe list real quick.\n\n478\n00:24:49.410 --> 00:24:50.670\n0 is no access.\n\n479\n00:24:50.670 --> 00:24:52.180\nNobody gets anything.\n\n480\n00:24:52.180 --> 00:24:54.800\n1 is just execute.\n\n481\n00:24:54.800 --> 00:24:58.670\nThat's not terribly useful, cuz if you\ndon't have the read permission also,\n\n482\n00:24:58.670 --> 00:25:00.220\nyou can't really execute it.\n\n483\n00:25:00.220 --> 00:25:02.810\nSo, 1 isn't used very often.\n\n484\n00:25:02.810 --> 00:25:04.730\n2 is just write.\n\n485\n00:25:04.730 --> 00:25:09.605\nAgain, writing to a file without having\nread permissions is kind of challenging.\n\n486\n00:25:09.605 --> 00:25:12.264\nBut if you want that, if you want that\nDropbox type functionality, people can\n\n487\n00:25:12.264 --> 00:25:14.905\ndrop off files, but not read them,\nthat's where that permission comes in.\n\n488\n00:25:14.905 --> 00:25:16.495\nSo, 2 is just write.\n\n489\n00:25:16.495 --> 00:25:19.050\n3 is write and execute.\n\n490\n00:25:19.050 --> 00:25:20.170\nThat's really dangerous.\n\n491\n00:25:20.170 --> 00:25:23.030\nYou can't read the file, but\nyou can write to it and then execute it.\n\n492\n00:25:23.030 --> 00:25:26.875\nSo, again, not a terribly useful, and\nthat's why we don't see 3 that much.\n\n493\n00:25:26.875 --> 00:25:31.955\n4 is just read, they can read,\nbut they can't write or execute.\n\n494\n00:25:31.955 --> 00:25:33.400\n5 is read and execute.\n\n495\n00:25:33.400 --> 00:25:34.560\nThat one's really common.\n\n496\n00:25:34.560 --> 00:25:36.840\nI want people to read it, and execute it.\n\n497\n00:25:36.840 --> 00:25:39.095\nI don't want them to be able to modify it.\n\n498\n00:25:39.095 --> 00:25:40.660\n6 is read and write.\n\n499\n00:25:40.660 --> 00:25:44.101\nI want them to be able to read, and\nwrite to the file but not execute it.\n\n500\n00:25:44.101 --> 00:25:46.460\nI think I might have said that\nwas 4 earlier, so it is 6.\n\n501\n00:25:46.460 --> 00:25:48.900\nAnd then 7 is everything,\nread, write, and execute.\n\n502\n00:25:48.900 --> 00:25:50.960\nThose are the values that fall in there.\n\n503\n00:25:50.960 --> 00:25:52.780\nAnd you just have to memorize it.\n\n504\n00:25:52.780 --> 00:25:54.350\nThat's what each of those corresponds to.\n\n505\n00:25:54.350 --> 00:25:56.630\nBut they'll be in the show notes.\n\n506\n00:25:56.630 --> 00:25:59.430\nAll right, now, a couple other\nthings we might want to look at.\n\n507\n00:25:59.430 --> 00:26:03.680\nWhen I create a new file, it's gonna\nhave some default permissions on it.\n\n508\n00:26:03.680 --> 00:26:08.780\nSo if I come in here and\nI say like touch file 1.txt,\n\n509\n00:26:08.780 --> 00:26:11.950\nthat file ended up with\ncertain permissions.\n\n510\n00:26:11.950 --> 00:26:13.760\nWhere do those permissions come from?\n\n511\n00:26:13.760 --> 00:26:16.840\nWell, we have what's called a Umask and\n\n512\n00:26:16.840 --> 00:26:21.100\nthe Umask is what defines the default\npermissions on your system.\n\n513\n00:26:21.100 --> 00:26:22.222\nWe don't normally mess with it.\n\n514\n00:26:22.222 --> 00:26:26.055\nEach distro usually stays about the same\nbut some of them have little variations\n\n515\n00:26:26.055 --> 00:26:28.940\nand we learn to live with that and\nwe change them as needed.\n\n516\n00:26:28.940 --> 00:26:33.460\nBut, if you wanna override the way\nthe default permissions are set, you can.\n\n517\n00:26:33.460 --> 00:26:37.500\nIt's actually stored in your\nown user configuration.\n\n518\n00:26:37.500 --> 00:26:39.480\nIf I get into my home directory,\n\n519\n00:26:39.480 --> 00:26:42.860\nthere's a file in your home\ndirectory called BashRC, right?\n\n520\n00:26:42.860 --> 00:26:45.060\nAnd that's what's got\nyour shell configuration.\n\n521\n00:26:45.060 --> 00:26:48.710\nAnd if I take a look at that,\nI'm just going to it up in vie here, and\n\n522\n00:26:48.710 --> 00:26:49.920\nlook inside of it.\n\n523\n00:26:49.920 --> 00:26:52.840\nYou'll see some information and\nyou may have a Umask\n\n524\n00:26:52.840 --> 00:26:56.900\ndefined in here that defines how those\ndefault permissions will be set.\n\n525\n00:26:56.900 --> 00:26:58.113\nI don't have one.\n\n526\n00:26:58.113 --> 00:26:59.238\nNow, I don't have one.\n\n527\n00:26:59.238 --> 00:26:59.860\nWhat does that mean?\n\n528\n00:26:59.860 --> 00:27:03.470\nWell, that means I rely on the default\none that's set up on my system.\n\n529\n00:27:03.470 --> 00:27:07.490\nIf I wanted, I could override it here and\nput in what I wanted those values to be.\n\n530\n00:27:07.490 --> 00:27:09.190\nIf you don't have it defined in here,\n\n531\n00:27:09.190 --> 00:27:14.850\nthen it's gonna be in the default which\nis in /etc/profile, and oh, it's a file.\n\n532\n00:27:14.850 --> 00:27:20.810\nBut, if I open up that file, that's\nthe default profile for my users and\n\n533\n00:27:20.810 --> 00:27:24.570\nwe can look in here and see if the Umask\nis defined, and I'm sure it will be.\n\n534\n00:27:24.570 --> 00:27:26.330\nLet's see if we can find it.\n\n535\n00:27:26.330 --> 00:27:28.240\nAnd we have some path stuff.\n\n536\n00:27:28.240 --> 00:27:29.980\nOh, there is Umask.\n\n537\n00:27:29.980 --> 00:27:34.460\nSo here we go, where it's basically\ncoming through and doing a check to see\n\n538\n00:27:34.460 --> 00:27:38.780\nwhat we're dealing with, as far as user\nIDs and how these permissions can be set.\n\n539\n00:27:38.780 --> 00:27:41.610\nBasically, the root user will get slightly\ndifferent permissions than a regular\n\n540\n00:27:41.610 --> 00:27:42.900\nuser when it's defined.\n\n541\n00:27:42.900 --> 00:27:44.950\nBut see how it's got these\nUmasks that are defining it.\n\n542\n00:27:44.950 --> 00:27:48.870\nAnd the Umask syntax is\na little bit different than\n\n543\n00:27:48.870 --> 00:27:53.120\nwhat we see with our bits for\nnormal files.\n\n544\n00:27:53.120 --> 00:27:57.762\nSo, you'll wanna look up that man file for\nUmask to find out the proper bits there.\n\n545\n00:27:57.762 --> 00:28:02.840\nLike 002 in our normal one would\nmean that everybody gets rights and\n\n546\n00:28:02.840 --> 00:28:05.510\nthe owner and the group get nothing,\nand that's not how it actually applies.\n\n547\n00:28:05.510 --> 00:28:07.470\nThese bits mean different things for\nUmask.\n\n548\n00:28:07.470 --> 00:28:09.890\nBut that's where these default\npermissions are coming from.\n\n549\n00:28:09.890 --> 00:28:13.657\nAnd you can manipulate that\nto change it how you want.\n\n550\n00:28:13.657 --> 00:28:18.392\nAll right, you know Daniel, I also\nwanted to talk about a few other things.\n\n551\n00:28:18.392 --> 00:28:21.550\nBut we don't really have the time for\nit, do we?\n\n552\n00:28:21.550 --> 00:28:24.044\nOne thing to mention real quick.\n\n553\n00:28:24.044 --> 00:28:29.150\nChown, change owner, that's great for\nchanging the owner, and the group, right?\n\n554\n00:28:29.150 --> 00:28:31.450\nYou can put the owner,\na colon and the group.\n\n555\n00:28:31.450 --> 00:28:34.800\nIf you just want to change the group,\nyou can still use change owner for that,\n\n556\n00:28:34.800 --> 00:28:40.350\nyou just put the same owner in, or you\ncan use chgrp, the change group command.\n\n557\n00:28:40.350 --> 00:28:44.057\nChgrp is useful because it will\njust change, well, the group,\n\n558\n00:28:44.057 --> 00:28:46.260\nthat's why they call it that.\n\n559\n00:28:46.260 --> 00:28:48.720\nSo, we can change that\ngroup ownership of a file,\n\n560\n00:28:48.720 --> 00:28:50.868\nif you just want to modify that one,\nthat one's out there too.\n\n561\n00:28:50.868 --> 00:28:55.100\nSo we saw chmod for changing permissions,\n\n562\n00:28:55.100 --> 00:28:59.780\nwe saw chown for changing the owner and\nthe group if we want, and\n\n563\n00:28:59.780 --> 00:29:04.750\nthen chgrp for just changing the group,\ncouple of unique commands there for those.\n\n564\n00:29:04.750 --> 00:29:05.870\n>> Yeah, good stuff.\n\n565\n00:29:05.870 --> 00:29:07.780\nDefinitely gets you into\nthat file security.\n\n566\n00:29:07.780 --> 00:29:12.160\nThis is basically the beginnings of\nsecuring your Linux systems, right?\n\n567\n00:29:12.160 --> 00:29:14.560\nMaking sure that the right people\nhave the right access, and\n\n568\n00:29:14.560 --> 00:29:17.100\nthat the people that don't need access,\nwell, they get denied.\n\n569\n00:29:17.100 --> 00:29:19.430\nYou don't want them grabbing\nstuff like in our Apache server.\n\n570\n00:29:19.430 --> 00:29:22.810\nThat'd probably be a bad place for\npeople to just be dropping files in,\n\n571\n00:29:22.810 --> 00:29:28.440\nnaming things like index.html of their\nown design, might not be a good thing.\n\n572\n00:29:28.440 --> 00:29:31.234\nSo having this file\npermission's very good stuff.\n\n573\n00:29:31.234 --> 00:29:36.470\n>> Now on the LX0-103 exam, they want\nyou to know how these permissions work.\n\n574\n00:29:36.470 --> 00:29:39.227\nBut they don't necessarily want you to\nknow how to create users and groups.\n\n575\n00:29:39.227 --> 00:29:41.931\nOn the 104, on the second part of\nthe exam, that's where the users and\n\n576\n00:29:41.931 --> 00:29:42.970\ngroups come in.\n\n577\n00:29:42.970 --> 00:29:47.550\nI encourage you, before you take the 103\nexam, jump ahead to the 104 show, and\n\n578\n00:29:47.550 --> 00:29:49.830\nwatch the part on users and groups.\n\n579\n00:29:49.830 --> 00:29:52.770\nThese permissions aren't really useful\nunless you have user accounts and\n\n580\n00:29:52.770 --> 00:29:54.870\ngroups to be able to\ntie all this stuff to.\n\n581\n00:29:54.870 --> 00:29:56.030\nSo be aware of that.\n\n582\n00:29:56.030 --> 00:29:57.950\nBut, we've covered everything\nthat's gonna be on the exam,\n\n583\n00:29:57.950 --> 00:29:59.990\nso it's a pretty good spot for\nus to wrap this one up.\n\n584\n00:29:59.990 --> 00:30:02.330\n>> Yep, looks like we've come to\nthe end of another great episode.\n\n585\n00:30:02.330 --> 00:30:04.760\nHopefully you guys enjoyed it,\nwe sure enjoyed making it.\n\n586\n00:30:04.760 --> 00:30:05.560\nThat being said,\n\n587\n00:30:05.560 --> 00:30:09.280\nit is time to sign off from ITProTV,\nI've been your host, Daniel Lawry.\n\n588\n00:30:09.280 --> 00:30:10.211\n>> And I'm Don Pezet.\n\n589\n00:30:10.211 --> 00:30:11.369\n>> And we'll see you next time.\n\n590\n00:30:11.369 --> 00:30:17.190\n[MUSIC]\n\n",
          "vimeoId": "131129580"
        },
        {
          "description": null,
          "length": "1548",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-3-disk_quotas-061715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-3-disk_quotas-061715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-3-disk_quotas-061715-1-sm.jpg",
          "title": "Disk Quotas",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.374\n[MUSIC]\n\n2\n00:00:10.374 --> 00:00:14.508\nAll right, everyone, greetings and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.508 --> 00:00:18.671\nI'm your host Daniel Lowrie and here with\nmy today is none other than Don Pezet.\n\n4\n00:00:18.671 --> 00:00:19.910\nHow's it going today, Don?\n\n5\n00:00:19.910 --> 00:00:20.960\n>> It is going great, Daniel.\n\n6\n00:00:20.960 --> 00:00:22.060\nI'm excited to be on the show today.\n\n7\n00:00:22.060 --> 00:00:24.630\nWe're gonna be talking about disk quotas.\n\n8\n00:00:24.630 --> 00:00:27.770\nAnd disk quotas are one of those\nthings that in the 1980s and\n\n9\n00:00:27.770 --> 00:00:30.940\neven the 1990s we really lived and\ndied by.\n\n10\n00:00:30.940 --> 00:00:35.330\nWhat a quota is is simply a limit to\nthe amount of storage that somebody or\n\n11\n00:00:35.330 --> 00:00:37.520\na group of people are allowed\nto use on a drive.\n\n12\n00:00:37.520 --> 00:00:43.300\nAnd in the days of 60 MB drives or 100 MB\ndrives, you had to limit people's usage.\n\n13\n00:00:43.300 --> 00:00:45.270\nYou didn't want people going crazy.\n\n14\n00:00:45.270 --> 00:00:49.260\nAnd you might say to yourself, well,\nDon today, 6 TB drives, 8 TB drives,\n\n15\n00:00:49.260 --> 00:00:50.473\nthey're super cheap.\n\n16\n00:00:50.473 --> 00:00:53.017\nAnd I can let my users eat all\nthe space they want and if I run out,\n\n17\n00:00:53.017 --> 00:00:54.565\nI'll just add some more hard drives.\n\n18\n00:00:54.565 --> 00:00:56.180\nThey don't cost a lot of money.\n\n19\n00:00:56.180 --> 00:00:57.890\nAnd you'd be right, you can do that.\n\n20\n00:00:57.890 --> 00:01:00.760\nSo you'd think quotas\nare kind of obsolete.\n\n21\n00:01:00.760 --> 00:01:02.440\nBut I'll tell you,\nI really like quotas and\n\n22\n00:01:02.440 --> 00:01:06.030\nthe main reason is, they are still\nincredibly useful even today.\n\n23\n00:01:07.060 --> 00:01:08.570\nAnd let me mention\nsomething that Daniel and\n\n24\n00:01:08.570 --> 00:01:11.660\nI were talking about before the show\nthat I think is important to mention.\n\n25\n00:01:11.660 --> 00:01:13.556\nA lot of people think about\nhow cheap that storage is.\n\n26\n00:01:13.556 --> 00:01:16.510\nYeah, we can just let our\nstorage grow as much as we want.\n\n27\n00:01:16.510 --> 00:01:21.255\nBut what you forget is\nthe larger your dataset is,\n\n28\n00:01:21.255 --> 00:01:23.565\nthe longer your backups are going to take.\n\n29\n00:01:23.565 --> 00:01:26.735\nSo if you're trying to do your backups at\nnight, while your company is closed, but\n\n30\n00:01:26.735 --> 00:01:30.155\nyour data keeps growing and growing and\ngrowing, your backups take longer and\n\n31\n00:01:30.155 --> 00:01:33.535\nlonger and longer, and all of a sudden\nyou can't do your backup at night.\n\n32\n00:01:33.535 --> 00:01:37.365\nAnd now the backup's overlapping with work\nhours and it's affecting performance.\n\n33\n00:01:37.365 --> 00:01:42.480\nNot only that, the longer your backup\ntakes, the longer your restore takes.\n\n34\n00:01:42.480 --> 00:01:46.430\nSo now, a disaster's hit, everything's\ncritical, you're trying to restore data as\n\n35\n00:01:46.430 --> 00:01:51.330\nfast as possible, and instead of restoring\npayroll, you're sitting there waiting\n\n36\n00:01:51.330 --> 00:01:54.385\nwhile it's restoring Johnny in\nAccounting's MP3 collection.\n\n37\n00:01:54.385 --> 00:01:58.620\nAnd you're watching that little blue bar\nscroll across the screen as Freebird is\n\n38\n00:01:58.620 --> 00:02:02.840\nrestored and you're thinking, this is not\nfurthering my company getting back online.\n\n39\n00:02:02.840 --> 00:02:06.720\nSo this is an area where\nwe can use quotas.\n\n40\n00:02:06.720 --> 00:02:09.910\nWe can enforce quotas if we just\ndon't have a lot of disk space, or\n\n41\n00:02:09.910 --> 00:02:12.650\nwe can enforce quotas if we're\ntrying to keep our dataset\n\n42\n00:02:12.650 --> 00:02:17.180\nwithin a reasonable boundary to\nfacilitate backups and restores.\n\n43\n00:02:17.180 --> 00:02:22.830\n>> Yeah, Don, we've talked about how\nlarge the email servers can get.\n\n44\n00:02:22.830 --> 00:02:24.760\nHaving disk quotas can\ndefinitely help a lot with that.\n\n45\n00:02:24.760 --> 00:02:27.980\nI've seen people with huge mailboxes that\n\n46\n00:02:27.980 --> 00:02:30.780\nwe had to put a quota on because\nit was just getting too large.\n\n47\n00:02:30.780 --> 00:02:32.720\nBackups were a real problem at that point.\n\n48\n00:02:32.720 --> 00:02:33.410\n>> Absolutely.\n\n49\n00:02:33.410 --> 00:02:34.550\nAnd with Linux,\n\n50\n00:02:34.550 --> 00:02:38.570\nwe have native quota support right in\nthe file system that we can turn on.\n\n51\n00:02:38.570 --> 00:02:39.730\nIt's been around a long time,\n\n52\n00:02:39.730 --> 00:02:42.230\nand it's really not that big\nof a deal to get it turned on.\n\n53\n00:02:42.230 --> 00:02:44.330\nThere are a few steps that\nwe have to go through and\n\n54\n00:02:44.330 --> 00:02:46.100\nthey have to be done\nin a particular order.\n\n55\n00:02:46.100 --> 00:02:50.340\nIt's a little finicky and I'm prone to\nmake mistakes on this myself because\n\n56\n00:02:50.340 --> 00:02:51.920\nyou configure it once and\nthen what do you do?\n\n57\n00:02:51.920 --> 00:02:53.980\nYou walk away and that's the end of it.\n\n58\n00:02:53.980 --> 00:02:55.380\nSo it's not something\nyou configure every day.\n\n59\n00:02:55.380 --> 00:02:57.002\nIt's easy to forget the steps.\n\n60\n00:02:57.002 --> 00:03:00.870\nSo let's walk through it and\nkinda get this one set up.\n\n61\n00:03:00.870 --> 00:03:04.830\nStep one, quotas are actually\ndisabled on the system by default.\n\n62\n00:03:04.830 --> 00:03:08.190\nQuotas can be turned on and\noff per file system.\n\n63\n00:03:08.190 --> 00:03:12.090\nSo if you have five mounted hard drives,\nyou can set up completely independent\n\n64\n00:03:12.090 --> 00:03:15.480\nquotas on each of the five, or just have\nquotas on one and not the other four.\n\n65\n00:03:15.480 --> 00:03:17.190\nIt's entirely up to you.\n\n66\n00:03:17.190 --> 00:03:19.261\nSo we have to enable the quota option,\n\n67\n00:03:19.261 --> 00:03:22.100\nthat functionality,\non the drive that we want to manage.\n\n68\n00:03:23.100 --> 00:03:28.260\nNow I'm gonna go in here and\nturn that on for my sales drive.\n\n69\n00:03:28.260 --> 00:03:35.606\nI'm got a sales drive which is my\n/dev/sdb1, this one right here.\n\n70\n00:03:35.606 --> 00:03:40.676\nIt's my sales drive, I want all my sales\nteam to be writing their data there,\n\n71\n00:03:40.676 --> 00:03:44.035\nbut I want to keep them\nwithin certain boundaries.\n\n72\n00:03:44.035 --> 00:03:48.730\nNow that drive was mounted\nvia my filesystem table.\n\n73\n00:03:48.730 --> 00:03:52.140\nSo if I look at /etc/fstab,\n\n74\n00:03:52.140 --> 00:03:55.870\nI can see it right in here, actually\nmounted by its UID, but there it is.\n\n75\n00:03:55.870 --> 00:03:57.340\nSales being mounted.\n\n76\n00:03:57.340 --> 00:04:00.030\nAnd if I look at the options,\nit just says defaults.\n\n77\n00:04:00.030 --> 00:04:03.280\nWell, the default option\nis not to support quotas.\n\n78\n00:04:03.280 --> 00:04:05.650\nSo we need to change that so that it will.\n\n79\n00:04:05.650 --> 00:04:07.780\nSo I'm gonna go ahead and edit that file.\n\n80\n00:04:07.780 --> 00:04:12.220\nSo I'm gonna edit /etc/fstab, and whoops.\n\n81\n00:04:12.220 --> 00:04:14.725\nWhenever I see color, that's my\nimmediate immediate warning that I'm not\n\n82\n00:04:14.725 --> 00:04:18.125\na super user, I'm not administrative,\nand so this file is read only.\n\n83\n00:04:18.125 --> 00:04:20.185\nSo I need to fix that real quick.\n\n84\n00:04:20.185 --> 00:04:21.761\nI'm going to do a little su.\n\n85\n00:04:21.761 --> 00:04:23.115\nNormally I'd use sudo,\n\n86\n00:04:23.115 --> 00:04:26.175\nbut every command that we're about to run\nrequires administrative privileges, so\n\n87\n00:04:26.175 --> 00:04:29.835\nI'm just going to move into the root\nuser and then fix that problem.\n\n88\n00:04:29.835 --> 00:04:32.375\nSo I'm going to edit that fstab file.\n\n89\n00:04:33.435 --> 00:04:38.450\nAnd I'm going to go down and I'm going to\nfind mnt/Sales, that's my sales drive.\n\n90\n00:04:38.450 --> 00:04:40.830\nAnd for\nthe options I'm gonna leave defaults.\n\n91\n00:04:40.830 --> 00:04:43.290\nI don't wanna mess with the defaults,\nI'm fine with those.\n\n92\n00:04:43.290 --> 00:04:46.393\nI wanna add to it, and so\nI'll just say comma and\n\n93\n00:04:46.393 --> 00:04:48.965\nthen I need to tell it what I'm adding.\n\n94\n00:04:48.965 --> 00:04:51.100\nWell, there's actually two\ndifferent types of quotas.\n\n95\n00:04:51.100 --> 00:04:53.990\nThere's user quotas and\nthere's group quotas.\n\n96\n00:04:53.990 --> 00:04:57.420\nIf I wanna limit people individually,\nlike Daniel gets 1 GB storage and\n\n97\n00:04:57.420 --> 00:04:59.910\nI get 50 GB cuz I'm special.\n\n98\n00:04:59.910 --> 00:05:04.060\nWell, I can do that if I do user quotas.\n\n99\n00:05:04.060 --> 00:05:07.540\nAnd so I'm just gonna do usrquota,\nuser quota.\n\n100\n00:05:07.540 --> 00:05:10.143\nIf I wanted to do group quotas,\nI'd do grpquota.\n\n101\n00:05:10.143 --> 00:05:13.081\nAnd if I want to do both, well,\n\n102\n00:05:13.081 --> 00:05:17.840\nI do default,usrquota,grpquota, like that.\n\n103\n00:05:17.840 --> 00:05:20.620\nNow I'm doing both, and I kind of\nword wrapped on the screen there, but\n\n104\n00:05:20.620 --> 00:05:24.540\nI'm doing both, and now I'll have\nthat functionality available to me.\n\n105\n00:05:24.540 --> 00:05:28.744\nIf I don't do this, my quotas aren't\ngonna work, no matter what I do.\n\n106\n00:05:28.744 --> 00:05:31.790\nAll right, now the filesystem\ntable only applies at boot time.\n\n107\n00:05:31.790 --> 00:05:36.480\nSo if I had to reboot my system right now,\nI'll get those quotas available.\n\n108\n00:05:36.480 --> 00:05:40.792\nBut if I'm in a hurry, I can actually make\nthis happen without having to reboot.\n\n109\n00:05:40.792 --> 00:05:43.070\nI can unmount that drive.\n\n110\n00:05:44.230 --> 00:05:48.464\nSo I'm gonna unmount my Sales drive.\n\n111\n00:05:48.464 --> 00:05:50.234\nAnd then I'm just gonna remount it.\n\n112\n00:05:50.234 --> 00:05:56.560\nNow, if I just do mount /dev/sdb1 and\nmount that to /mnt/Sales.\n\n113\n00:05:56.560 --> 00:06:00.710\nIf I just run it like this, it's implied\nthat I am just doing the defaults.\n\n114\n00:06:00.710 --> 00:06:05.410\nIf I reboot, the filesystem table will\ntell it to go ahead and do the quotas.\n\n115\n00:06:05.410 --> 00:06:06.710\nIf I do this, it won't.\n\n116\n00:06:06.710 --> 00:06:08.260\nI need to add a little more to it.\n\n117\n00:06:08.260 --> 00:06:11.509\nI'm gonna do a -o for options and\n\n118\n00:06:11.509 --> 00:06:16.740\nI'm gonna tell it\ndefaults,usrquota,grpquota.\n\n119\n00:06:16.740 --> 00:06:20.500\nAnd that's just to save\nme from having to reboot.\n\n120\n00:06:20.500 --> 00:06:22.500\nI'm lazy,\nI don't want to reboot if I don't have to.\n\n121\n00:06:22.500 --> 00:06:25.560\nSo I'll run that and\nnow it's gonna remount it, but\n\n122\n00:06:25.560 --> 00:06:27.010\nthe quota options are turned on.\n\n123\n00:06:27.010 --> 00:06:29.560\nSame thing as if I had rebooted.\n\n124\n00:06:29.560 --> 00:06:31.960\nNow I'm where I can start\nto set up the quotas.\n\n125\n00:06:33.090 --> 00:06:35.200\nQuotas aren't actually on yet.\n\n126\n00:06:35.200 --> 00:06:38.360\nIt's just the capability\nhas opened up to me.\n\n127\n00:06:38.360 --> 00:06:41.510\nIn order to use quotas,\nI've got to create a quota database.\n\n128\n00:06:41.510 --> 00:06:44.040\nThe quota database is where it's\nkeeping track of how much space\n\n129\n00:06:44.040 --> 00:06:45.590\nusers are occupying.\n\n130\n00:06:45.590 --> 00:06:48.650\nEvery time a user edits a file,\nwrites a file,\n\n131\n00:06:48.650 --> 00:06:52.640\ncreates a file, it updates the database\nto reflect their new utilization.\n\n132\n00:06:52.640 --> 00:06:54.935\nOr a user in a group,\nif you're a part of that group,\n\n133\n00:06:54.935 --> 00:06:57.000\nit's tracking that group's quota.\n\n134\n00:06:57.000 --> 00:07:00.070\nSo I've got to create the database,\njust an empty database.\n\n135\n00:07:00.070 --> 00:07:02.300\nYou just run a simple command to do it.\n\n136\n00:07:02.300 --> 00:07:05.980\nSo if I want to create that database,\nI'm going to use the quota check command.\n\n137\n00:07:07.180 --> 00:07:13.770\nAnd if I take a look at /mnt/Sales,\nand I'm just going to do an ls -la.\n\n138\n00:07:13.770 --> 00:07:16.510\nWhen you look in there,\nyou'll see files that people have written.\n\n139\n00:07:16.510 --> 00:07:21.020\nYou might see a journal if it's\na journaling filesystem, if it's ext3.\n\n140\n00:07:21.020 --> 00:07:24.170\nYou might see a lost and\nfound for deleted items.\n\n141\n00:07:24.170 --> 00:07:25.450\nBut that's about it.\n\n142\n00:07:25.450 --> 00:07:30.170\nWhen we turn on quotas, there'll be two\nquota database files, one for users and\n\n143\n00:07:30.170 --> 00:07:30.760\none for group.\n\n144\n00:07:30.760 --> 00:07:32.960\nWell, assuming we turn both of them on.\n\n145\n00:07:32.960 --> 00:07:36.570\nIf you just turn on users, you'll just\nsee user database and that would be it.\n\n146\n00:07:36.570 --> 00:07:43.248\nAnd the way we create that is\nby saying quotacheck -cug.\n\n147\n00:07:43.248 --> 00:07:45.025\n-c, create the database.\n\n148\n00:07:45.025 --> 00:07:47.725\n-u, I want a user database.\n\n149\n00:07:47.725 --> 00:07:48.990\n-g, I want a group database.\n\n150\n00:07:48.990 --> 00:07:50.270\nSo I'm actually creating both.\n\n151\n00:07:51.370 --> 00:07:54.569\nAnd then I tell it the drive\nthat I'm enabling it for.\n\n152\n00:07:54.569 --> 00:07:56.197\nAnd you wanna point it\nat that mount point.\n\n153\n00:07:56.197 --> 00:08:01.487\nSo my /dev/sdb1 drive is mounted here,\nso that's where I'm gonna point it to.\n\n154\n00:08:01.487 --> 00:08:05.185\nAnd that's gonna go in and\ncreate that database.\n\n155\n00:08:05.185 --> 00:08:09.700\nAnd if I do an ls- la in here,\nsee these two new files, aquota.group and\n\n156\n00:08:09.700 --> 00:08:10.750\naquota.user?\n\n157\n00:08:10.750 --> 00:08:12.250\nThose are the database files.\n\n158\n00:08:12.250 --> 00:08:13.360\nAnd they're right there,\n\n159\n00:08:13.360 --> 00:08:16.590\nthey're owned by root and they're\nready to keep track of user's data.\n\n160\n00:08:16.590 --> 00:08:20.460\nAnd only root can edit them cuz you\ndon't want a user editing that database,\n\n161\n00:08:20.460 --> 00:08:22.070\nthey could break the quota.\n\n162\n00:08:22.070 --> 00:08:24.870\n>> That would be bad [LAUGH]\n>> It kinda defeats the purpose.\n\n163\n00:08:24.870 --> 00:08:25.870\n>> Yeah.\n\n164\n00:08:25.870 --> 00:08:30.697\n>> All right, so now I've got my data\nbase, now it's time to get in and\n\n165\n00:08:30.697 --> 00:08:31.900\nturn quotas on.\n\n166\n00:08:31.900 --> 00:08:35.108\nOkay, well we turn quotas on with,\nget ready for\n\n167\n00:08:35.108 --> 00:08:38.090\nthis command, the quotaon command.\n\n168\n00:08:38.090 --> 00:08:39.830\nSo kinda easy to remember that one.\n\n169\n00:08:39.830 --> 00:08:41.060\n>> I'm never gonna get that one.\n\n170\n00:08:41.060 --> 00:08:41.896\n>> It's so crazy.\n\n171\n00:08:41.896 --> 00:08:43.580\n[LAUGH] So the quotaon command.\n\n172\n00:08:43.580 --> 00:08:47.540\nNow with quotaon, you can turn it on for\nusers or for groups.\n\n173\n00:08:47.540 --> 00:08:51.190\nYou can turn it on for individual users or\nyou can turn it on for everything, right?\n\n174\n00:08:51.190 --> 00:08:53.280\nAnd normally that's what\nwe want is everything.\n\n175\n00:08:53.280 --> 00:08:55.470\nSo I would just say, quotaon -a.\n\n176\n00:08:55.470 --> 00:09:00.697\nIf I wanted to turn it on for individual\nuser, I would say quotaon -uDaniel.\n\n177\n00:09:00.697 --> 00:09:04.010\nOr quotaon -gSales.\n\n178\n00:09:04.010 --> 00:09:05.530\nFor the Sales group, right?\n\n179\n00:09:05.530 --> 00:09:06.870\nSo you can turn it on for individuals,\n\n180\n00:09:06.870 --> 00:09:09.320\nbut normally you wanna turn it on for\nthe whole thing, right?\n\n181\n00:09:09.320 --> 00:09:12.470\nBut if you're troubleshooting or\nyou get that frantic emergency call.\n\n182\n00:09:12.470 --> 00:09:16.310\nThe CEO says, look I need more disk\nstorage and I need it right now.\n\n183\n00:09:16.310 --> 00:09:19.480\nYou can do a quotaoff -u,\n\n184\n00:09:19.480 --> 00:09:23.245\nfollowed the user name of your CEO and\nit'll turn just their quota off.\n\n185\n00:09:23.245 --> 00:09:24.500\nIt'll leave everybody else's on.\n\n186\n00:09:24.500 --> 00:09:27.490\nSo you've got real\nflexibility with quotaon.\n\n187\n00:09:27.490 --> 00:09:30.150\nIf you do quotaon -a it turns on for\neverybody, though.\n\n188\n00:09:30.150 --> 00:09:33.860\nAnd a quick quotaon --help\nwill get you that syntax.\n\n189\n00:09:33.860 --> 00:09:37.140\nThat -user, -group, -all.\n\n190\n00:09:37.140 --> 00:09:40.660\nQuotaon actually has a off option to it.\n\n191\n00:09:40.660 --> 00:09:44.230\nQuotaoff is really just an alias of that,\nso it's the same command.\n\n192\n00:09:44.230 --> 00:09:45.860\nBut you'll see those different\noptions right in there.\n\n193\n00:09:47.140 --> 00:09:50.810\nQuotas are technically on at this point,\nand I gotta be careful here because\n\n194\n00:09:50.810 --> 00:09:54.260\nthe default quotas are zero,\nand that means zero storage.\n\n195\n00:09:54.260 --> 00:09:56.470\nMy users are not able to write\nto this drive right now.\n\n196\n00:09:56.470 --> 00:09:57.907\nSo if I go and take a lunch break,\n\n197\n00:09:57.907 --> 00:10:00.583\nI might have some pretty unhappy\nemployees when I get back.\n\n198\n00:10:00.583 --> 00:10:03.490\n>> [LAUGH]\n>> So, we need to actually set our limits.\n\n199\n00:10:03.490 --> 00:10:04.350\n>> Yeah.\n\n200\n00:10:04.350 --> 00:10:05.350\n>> Now, before we go and\n\n201\n00:10:05.350 --> 00:10:09.140\nset the limits, we need to think about\nwhat we're trying to achieve, okay?\n\n202\n00:10:09.140 --> 00:10:10.820\nWhat is your goal?\n\n203\n00:10:10.820 --> 00:10:14.370\nDo you wanna make sure just\nthe hard drive doesn't fill up?\n\n204\n00:10:14.370 --> 00:10:18.320\nBecause then you might set one quota for\neverybody, and\n\n205\n00:10:18.320 --> 00:10:21.090\neverybody contributes to it until\nthey get close to the limit.\n\n206\n00:10:21.090 --> 00:10:23.800\nOr do you want individual users\nto not have a lot of storage?\n\n207\n00:10:23.800 --> 00:10:25.740\nDo you want a group to not have storage?\n\n208\n00:10:25.740 --> 00:10:27.870\nAnd what limits do I wanna set?\n\n209\n00:10:27.870 --> 00:10:30.160\nHow much space do I want them to occupy?\n\n210\n00:10:30.160 --> 00:10:31.880\nI need to think about that.\n\n211\n00:10:31.880 --> 00:10:37.520\nThen I need to think about whether I want\nthis to be a soft or a hard limit, okay?\n\n212\n00:10:37.520 --> 00:10:40.100\nA soft limit is a quota that,\n\n213\n00:10:40.100 --> 00:10:45.980\nif they hit it, it sets off an alarm,\nbut they can keep adding stuff to it.\n\n214\n00:10:45.980 --> 00:10:48.920\nSo I'll see that they're in quota\nviolation in my reports but\n\n215\n00:10:48.920 --> 00:10:51.340\nthey can still add more to it.\n\n216\n00:10:51.340 --> 00:10:54.630\nWe probably want that in a lot of cases\nwhere you don't wanna stop people from\n\n217\n00:10:54.630 --> 00:10:58.000\nworking but you do wanna be aware that\nthey're consuming too much space.\n\n218\n00:10:58.000 --> 00:10:59.500\nOr we can set a hard limit.\n\n219\n00:10:59.500 --> 00:11:01.680\nWe can say oh no, you get this limit.\n\n220\n00:11:01.680 --> 00:11:04.950\nYou get one gig of data and\nif you go over one gig, tough luck.\n\n221\n00:11:04.950 --> 00:11:06.460\nYou don't get anymore.\n\n222\n00:11:06.460 --> 00:11:07.060\n>> No mas.\n\n223\n00:11:07.060 --> 00:11:09.640\n>> So it's up to us how we\nwanna define that, right?\n\n224\n00:11:09.640 --> 00:11:13.410\nAnd once we put that limit in place,\nnow people adhere to it.\n\n225\n00:11:13.410 --> 00:11:17.550\nAll right, so when we go to\nset those limits, we're gonna\n\n226\n00:11:17.550 --> 00:11:21.960\nuse another command called edquota to be\nable to edit the quotas and define them.\n\n227\n00:11:23.070 --> 00:11:27.140\nIf we're editing quotas for a user,\nwe'd run edquota followed by the username.\n\n228\n00:11:27.140 --> 00:11:29.679\nIf we were editing the quota for a group,\n\n229\n00:11:29.679 --> 00:11:32.829\nwe'd say edquota -g\nfollowed by the group name.\n\n230\n00:11:32.829 --> 00:11:33.950\nI'm gonna edit the quota for me.\n\n231\n00:11:33.950 --> 00:11:37.822\nI'm just gonna say edquota dpezet.\n\n232\n00:11:37.822 --> 00:11:41.220\nAll right, that's my user account,\nI'm gonna edit my quota.\n\n233\n00:11:41.220 --> 00:11:45.230\nAnd you'll see every system you\nhave the quota turned on for.\n\n234\n00:11:45.230 --> 00:11:46.790\nRemember, quotas are configured per drive.\n\n235\n00:11:46.790 --> 00:11:48.670\nI could have five drives with\ndifferent quota settings.\n\n236\n00:11:48.670 --> 00:11:50.070\nI'd see all five of them right here.\n\n237\n00:11:51.170 --> 00:11:54.195\nThen I can start to define\nthe settings for the users.\n\n238\n00:11:54.195 --> 00:11:58.699\nNow, this is where I make\na mistake almost every time.\n\n239\n00:11:58.699 --> 00:12:02.590\n[LAUGH] So, if you look at this,\nwe've got six columns here.\n\n240\n00:12:02.590 --> 00:12:04.870\nTwo of the columns you\nactually can't edit,\n\n241\n00:12:04.870 --> 00:12:07.280\nthe blocks column and the inodes column.\n\n242\n00:12:08.370 --> 00:12:12.450\nThese are reflecting how many blocks and\nhow many inodes I'm using already.\n\n243\n00:12:12.450 --> 00:12:14.960\nThis is the database for my user.\n\n244\n00:12:14.960 --> 00:12:17.730\nThese are my current utilization numbers.\n\n245\n00:12:17.730 --> 00:12:24.340\nI'm consuming four blocks and two inodes,\nand my limit for these are 0.\n\n246\n00:12:24.340 --> 00:12:28.700\nSo I'm already in violation of my quota\nright now, but that's just existing files.\n\n247\n00:12:28.700 --> 00:12:30.330\nI need to go and adjust these.\n\n248\n00:12:30.330 --> 00:12:34.790\nSo when we set the limit, we determine if\nwe want it to be a soft or a hard limit,\n\n249\n00:12:34.790 --> 00:12:40.220\nand we determine if we're gonna\nlimit blocks or inodes, or both.\n\n250\n00:12:40.220 --> 00:12:43.370\nNow whats the difference,\nwhat the heck are these things?\n\n251\n00:12:43.370 --> 00:12:46.710\nWell, when you write\na file to the hard drive,\n\n252\n00:12:46.710 --> 00:12:49.850\ntheres a minimum size that it can write.\n\n253\n00:12:49.850 --> 00:12:52.310\nSome systems have a minimum\nsize of one kilobyte,\n\n254\n00:12:52.310 --> 00:12:55.830\nsome have a minimum size of four\nkilobytes, and thats an inode.\n\n255\n00:12:55.830 --> 00:12:58.660\nAnd so\nif I have a four kilobyte inode size and\n\n256\n00:12:58.660 --> 00:13:03.290\nI write a 1k file,\nit still consumes 4k on the hard drive.\n\n257\n00:13:03.290 --> 00:13:05.680\nEven though I just wrote a 1k file.\n\n258\n00:13:05.680 --> 00:13:11.710\nSo limiting inodes is more\naccurate to true hard drive space,\n\n259\n00:13:11.710 --> 00:13:14.000\nbut it's not really fair to the user,\nis it?\n\n260\n00:13:14.000 --> 00:13:15.520\nThey don't have any control over this,\n\n261\n00:13:15.520 --> 00:13:17.600\nit's not their fault the hard\ndrive stores it this way.\n\n262\n00:13:17.600 --> 00:13:21.210\nSo we normally apply our\nlimits against blocks.\n\n263\n00:13:21.210 --> 00:13:25.020\nBlocks are representations of exactly\nhow much space somebody's using,\n\n264\n00:13:25.020 --> 00:13:26.320\nregardless of what the inode sizes are.\n\n265\n00:13:27.450 --> 00:13:29.540\nSo that's usually what\nwe're gonna work with.\n\n266\n00:13:29.540 --> 00:13:32.130\nNow we're probably used to bytes and\nbits and all that.\n\n267\n00:13:32.130 --> 00:13:33.940\nWhat the heck is a block?\n\n268\n00:13:33.940 --> 00:13:35.740\nWell blocks get a little bit confusing.\n\n269\n00:13:35.740 --> 00:13:39.190\nWith blocks,\nit's built around the inode size, and\n\n270\n00:13:39.190 --> 00:13:44.890\nit calculates out exactly what amount\nof space we're gonna be consuming.\n\n271\n00:13:44.890 --> 00:13:47.830\nAnd so there's these little formulas you\ncan run to try and figure this stuff out,\n\n272\n00:13:47.830 --> 00:13:53.130\nbut one of the things that I\nusually do is use another command.\n\n273\n00:13:53.130 --> 00:13:58.450\nLet me get another terminal window here\nand there's another command we can run,\n\n274\n00:13:58.450 --> 00:14:04.800\nthe dumpe2fs and\nyou can point it at a drive.\n\n275\n00:14:04.800 --> 00:14:09.292\nSo I'm gonna point it at\n/devs/sbd1 I need to be in admin.\n\n276\n00:14:09.292 --> 00:14:14.078\nAnd whoop, I'm not in the sudoors file,\nso let's go and\n\n277\n00:14:14.078 --> 00:14:17.270\njust elevate to root and\nwe'll try that again.\n\n278\n00:14:17.270 --> 00:14:24.510\nSo I'm gonna dump to, dumpe2fs /dev/sbd1.\n\n279\n00:14:24.510 --> 00:14:27.980\nAnd let me stick that in the more\ncommand cuz it gives you a ton of data.\n\n280\n00:14:27.980 --> 00:14:30.670\nIn the data for that drive,\nyou can look in here, and\n\n281\n00:14:30.670 --> 00:14:34.250\nyou can find out how many\nblocks your drive is.\n\n282\n00:14:34.250 --> 00:14:37.480\nThat's a representation of\nthe size of your disk in blocks.\n\n283\n00:14:37.480 --> 00:14:41.560\nAll right, and then inside of that you\ncan see how many inodes you have, and\n\n284\n00:14:41.560 --> 00:14:45.710\nit's got the inode size in here somewhere,\nlet's see.\n\n285\n00:14:45.710 --> 00:14:46.340\nDid I overlook it?\n\n286\n00:14:47.640 --> 00:14:48.850\nLet's see, there's my block size.\n\n287\n00:14:48.850 --> 00:14:51.405\nEach block is 4,096 bytes.\n\n288\n00:14:51.405 --> 00:14:53.465\nThat's gonna be my inode size.\n\n289\n00:14:53.465 --> 00:14:56.433\nSo when I go and figure out how many\nblocks that I wanna give people,\n\n290\n00:14:56.433 --> 00:14:59.875\nI've got a 4k block size here, so\nI need to define it based around that.\n\n291\n00:14:59.875 --> 00:15:02.315\nSo it gets a little bit\nweird doing the math and\n\n292\n00:15:02.315 --> 00:15:05.555\nfiguring this out, but\neach block is 4,096 bytes.\n\n293\n00:15:06.805 --> 00:15:09.545\nSo when I start to figure out a size,\n\n294\n00:15:09.545 --> 00:15:15.200\nif I want to limit people to 100 MB,\nI need to take 100 MB and divide that\n\n295\n00:15:15.200 --> 00:15:20.010\nby 4,096 bytes to end up with the amount\nof blocks that I wanna give a user.\n\n296\n00:15:20.010 --> 00:15:22.760\nThat's kinda the formula\nthat I run through.\n\n297\n00:15:22.760 --> 00:15:25.050\nSo if I wanna limit me to 100 megabytes,\n\n298\n00:15:25.050 --> 00:15:28.460\nI need to figure out whether I want\nit to be a soft or a hard quota.\n\n299\n00:15:28.460 --> 00:15:30.650\nI'll go ahead and do a hard one.\n\n300\n00:15:30.650 --> 00:15:33.790\nAnd then I can put the amount\nof blocks I wanna limit that by.\n\n301\n00:15:33.790 --> 00:15:37.410\nAnd so I wanna do 100 megabytes,\nwhich will be 25,600.\n\n302\n00:15:37.410 --> 00:15:39.540\nI did the math before the show.\n\n303\n00:15:39.540 --> 00:15:43.070\nAnd that's gonna limit me to\n100 megabytes, all right.\n\n304\n00:15:43.070 --> 00:15:47.220\nNow, on the inode size, I can come in and\nset my limit here, too.\n\n305\n00:15:47.220 --> 00:15:50.870\nIf I want it to be a soft limit or\na hard limit, I can define that in here.\n\n306\n00:15:50.870 --> 00:15:53.281\nMaybe I'll just do a soft\nlimit on this one, and\n\n307\n00:15:53.281 --> 00:15:55.159\nset it to something that's higher.\n\n308\n00:15:55.159 --> 00:16:00.598\nAnd one inode represents 4,096 bytes\nin my case, so we might set this\n\n309\n00:16:00.598 --> 00:16:06.730\nto the same exact value as that block or\nwhatever, so We can define that in here.\n\n310\n00:16:06.730 --> 00:16:08.923\nI'm just going to leave mine empty for\nnow.\n\n311\n00:16:08.923 --> 00:16:11.300\nAll right.\n\n312\n00:16:11.300 --> 00:16:12.880\nWell, I'll put something in there.\n\n313\n00:16:12.880 --> 00:16:15.480\nSometimes if you leave it as zero,\nyou end up in more trouble than you\n\n314\n00:16:15.480 --> 00:16:18.180\nhoped to avoid, so we'll go ahead and\njust stick that same limit in there.\n\n315\n00:16:18.180 --> 00:16:18.860\nAll right.\n\n316\n00:16:18.860 --> 00:16:22.610\nSo now I've got a hard limit\nthough on my block size.\n\n317\n00:16:22.610 --> 00:16:24.560\nRight now I'm only consuming four blocks.\n\n318\n00:16:24.560 --> 00:16:26.870\nBut as I creep up to this one\nI'll hit my full limit and\n\n319\n00:16:26.870 --> 00:16:28.770\nI won't be able to add any\nmore data to the drive.\n\n320\n00:16:28.770 --> 00:16:31.699\nAll right.\nI'm going to go ahead and save that and\n\n321\n00:16:31.699 --> 00:16:33.720\nthat's going to go in.\n\n322\n00:16:33.720 --> 00:16:34.620\nAnd you know what?\n\n323\n00:16:34.620 --> 00:16:36.410\nI just got a warning here.\n\n324\n00:16:36.410 --> 00:16:38.640\nUnknown space binary unit.\n\n325\n00:16:38.640 --> 00:16:42.230\nOh, it's probably mad about my comma and\nthen I didn't specify unit size.\n\n326\n00:16:42.230 --> 00:16:44.250\nSo let me go back in and.\n\n327\n00:16:44.250 --> 00:16:46.868\nYou can use shortcut sizes on this,\nso that'll help out a little more.\n\n328\n00:16:46.868 --> 00:16:51.160\nI'm going to come in and just put in that\nhard limit where I'll say 100 megabytes.\n\n329\n00:16:51.160 --> 00:16:54.340\nIt should be happy about that.\n\n330\n00:16:54.340 --> 00:16:57.290\nThat's a little easier than, there we go,\n\n331\n00:16:57.290 --> 00:16:59.740\nthan doing all the crazy\nmath to get it in place.\n\n332\n00:17:00.790 --> 00:17:05.890\nAll right, so once I've got that in place,\nmy quotas are on, it's calculating.\n\n333\n00:17:05.890 --> 00:17:08.130\nI should be in good shape, right?\n\n334\n00:17:08.130 --> 00:17:12.360\nI can run quota followed by a user name,\nand get information about that user.\n\n335\n00:17:12.360 --> 00:17:16.520\nSo I can see that I've got this limit\nin place right now, and I'm okay.\n\n336\n00:17:16.520 --> 00:17:18.280\nI'm within my limit, right?\n\n337\n00:17:18.280 --> 00:17:23.140\nI'm only using four blocks of my\nquota limit, so I'm fine, right?\n\n338\n00:17:23.140 --> 00:17:25.110\nBut as a user,\nif I start to create new files,\n\n339\n00:17:25.110 --> 00:17:28.550\nif I start adding in data to them,\nit's going to start growing, and\n\n340\n00:17:28.550 --> 00:17:32.510\nI'll see these numbers change until\nI ultimately hit my limit, right.\n\n341\n00:17:32.510 --> 00:17:38.370\nSo if I go over to this tab\nwhere I'm logged in as dpezet,\n\n342\n00:17:38.370 --> 00:17:40.950\nI can switch to /mnt/Sales.\n\n343\n00:17:40.950 --> 00:17:45.740\nAnd I can start creating some files,\nright, file3.txt, file4.txt, right,\n\n344\n00:17:45.740 --> 00:17:48.710\nI start creating this files,\nand as an admin,\n\n345\n00:17:48.710 --> 00:17:50.700\nI can monitor that here in the quota.\n\n346\n00:17:50.700 --> 00:17:52.610\nAnd see I've got four files.\n\n347\n00:17:52.610 --> 00:17:54.030\nI know how many files I've created.\n\n348\n00:17:54.030 --> 00:17:57.710\nNow my size hasn't really increased\nbecause those are all empty files.\n\n349\n00:17:57.710 --> 00:18:00.478\nBut let's have some fun,\nlet's make some bigger files.\n\n350\n00:18:00.478 --> 00:18:03.510\nI'm going to do a little dd, which,\ncan I run that as a regular user?\n\n351\n00:18:03.510 --> 00:18:05.140\nPretty sure I can, yeah.\n\n352\n00:18:05.140 --> 00:18:07.040\nSo we'll do a little dd.\n\n353\n00:18:07.040 --> 00:18:10.490\nAnd from my input I'll\njust pull in fake data.\n\n354\n00:18:10.490 --> 00:18:13.240\nAnd from my output file\nI'll send that right here.\n\n355\n00:18:13.240 --> 00:18:16.770\nAnd I'm just going to\ncall this like file3.bin.\n\n356\n00:18:16.770 --> 00:18:20.647\nAnd lets do one meg block sizes and\n\n357\n00:18:20.647 --> 00:18:26.195\nI'll do a count of,\nlet's do a fifty meg file.\n\n358\n00:18:26.195 --> 00:18:28.290\nSo I'm going to create\na fifty meg file right there.\n\n359\n00:18:28.290 --> 00:18:30.180\nIt actually ended up being\nabout fifty-two megabytes.\n\n360\n00:18:30.180 --> 00:18:31.910\nThat's, that's the challenge with storage,\nright?\n\n361\n00:18:31.910 --> 00:18:34.900\nThe way storage is measured,\nyou think you're doing fifty megabytes,\n\n362\n00:18:34.900 --> 00:18:37.490\nyou end up doing fifty-two because\nyou're doing 1,024 kilobytes and\n\n363\n00:18:37.490 --> 00:18:42.050\nas you add that up you know that\nextra 24 adds up pretty fast.\n\n364\n00:18:43.620 --> 00:18:47.380\nSo now I've increased my storage and\nif I go back to my admin screen and\n\n365\n00:18:47.380 --> 00:18:51.090\nI look at that quota,\nI can see the blocks that I am consuming.\n\n366\n00:18:51.090 --> 00:18:53.250\nI've eaten up half my quota, right?\n\n367\n00:18:53.250 --> 00:18:57.510\nI've created a 50 meg file I had\na 100 meg quota, I'm halfway there.\n\n368\n00:18:57.510 --> 00:19:01.580\nIf I do this again, and\nthis time I'll do a 40, right.\n\n369\n00:19:02.710 --> 00:19:05.270\nSo now I'm at 90 megs, and so\n\n370\n00:19:05.270 --> 00:19:11.100\nI'm getting really close to hitting my\nquota limit, and no, my block size.\n\n371\n00:19:11.100 --> 00:19:12.020\nOh!\nMy block size\n\n372\n00:19:12.020 --> 00:19:13.970\nwent down because I overwrote my file,\nlike a moron.\n\n373\n00:19:13.970 --> 00:19:15.368\nI didn't change my file name.\n\n374\n00:19:15.368 --> 00:19:19.600\nLet me re-do that, and\nI'll write to file 4.bin this time.\n\n375\n00:19:19.600 --> 00:19:21.030\nI overwrote the other file.\n\n376\n00:19:21.030 --> 00:19:23.370\nI was like, why did my quota go down?\n\n377\n00:19:23.370 --> 00:19:24.490\nCraziness.\n\n378\n00:19:24.490 --> 00:19:25.080\nThere we go.\n\n379\n00:19:25.080 --> 00:19:26.910\nNow, I'm really close to that quota.\n\n380\n00:19:26.910 --> 00:19:30.710\nIf I start to try and go over it,\nhere's where the fun begins, right?\n\n381\n00:19:30.710 --> 00:19:34.660\nSo I'm going to try and\nadd in another 40 gig file.\n\n382\n00:19:34.660 --> 00:19:37.910\nAnd as it goes, it's going to write it,\nand there's my warning.\n\n383\n00:19:37.910 --> 00:19:40.080\nWrite failed, user block limit reached.\n\n384\n00:19:40.080 --> 00:19:43.025\nDd writing file disk quota exceeded.\n\n385\n00:19:43.025 --> 00:19:46.490\nI hit my limit.\nI hit my limit and\n\n386\n00:19:46.490 --> 00:19:48.500\nthe neat thing about\ndd is it doesn't care.\n\n387\n00:19:48.500 --> 00:19:49.720\nIt writes whatever it can.\n\n388\n00:19:49.720 --> 00:19:53.270\nSo it actually wrote part of that\nfile until it hit the limit.\n\n389\n00:19:53.270 --> 00:19:57.050\nAnd if I go and look at the quota\nover here, I can see that I'm\n\n390\n00:19:57.050 --> 00:20:00.190\nat my quota limit, and that's why there's\nthat little asterisk right there,\n\n391\n00:20:00.190 --> 00:20:02.800\nit's letting me know I've\nbroken the rules right?\n\n392\n00:20:02.800 --> 00:20:05.585\nI've hit my quota so that's kind\nof my warning there that I can.\n\n393\n00:20:05.585 --> 00:20:06.395\nI can see it.\n\n394\n00:20:06.395 --> 00:20:09.115\nI get a hard quota so I'm stuck.\n\n395\n00:20:09.115 --> 00:20:12.795\nI can't write anything more to this drive\nuntil I remove some stuff all right?\n\n396\n00:20:12.795 --> 00:20:13.975\nIt's a hard quota.\n\n397\n00:20:13.975 --> 00:20:16.485\nIf it were a soft quota,\nit'll let me just blow right pass it and\n\n398\n00:20:16.485 --> 00:20:21.425\nthen we'd be in business, and in this case\nhard quota I hit it and I'm stuck, right?\n\n399\n00:20:21.425 --> 00:20:23.765\nNow it's not just me,\nother users are writing just fine.\n\n400\n00:20:23.765 --> 00:20:25.605\nThere's plenty of space\non this drive right?\n\n401\n00:20:25.605 --> 00:20:27.300\nIf I do a D F.\n\n402\n00:20:27.300 --> 00:20:32.450\nAnd I look at /mt/Sales,\nit's only 1% full, but it's my user.\n\n403\n00:20:32.450 --> 00:20:35.530\nDpezet, my quota, is full and\nthat's a pretty neat thing to have.\n\n404\n00:20:36.790 --> 00:20:38.150\n>> Now, Don, when you write quotas,\n\n405\n00:20:38.150 --> 00:20:41.750\nand we've created a quota for\nyour user, if we did it to the group, I\n\n406\n00:20:41.750 --> 00:20:46.610\nassume that at that point everyone in that\ngroup would have the same quota space.\n\n407\n00:20:46.610 --> 00:20:50.030\nMy question at that point would be\nis if I have a quota on the user,\n\n408\n00:20:50.030 --> 00:20:54.080\na quota on the group, which one wins,\nor is there a battle?\n\n409\n00:20:54.080 --> 00:20:56.500\n>> There's kind of a battle,\nand it comes down to the file.\n\n410\n00:20:56.500 --> 00:21:00.270\nWhen you create a file,\nyour file has an owner and a group,\n\n411\n00:21:00.270 --> 00:21:01.860\nand that's what determines the quota.\n\n412\n00:21:01.860 --> 00:21:06.750\nSo if you look at my files on here,\nif I do an ls- la, all those\n\n413\n00:21:06.750 --> 00:21:11.770\nfiles I was creating a minute ago, the\nuser is dpezet and the group is dpezet.\n\n414\n00:21:11.770 --> 00:21:16.120\nNow if there's a sales group and\nI'm in that sales group,\n\n415\n00:21:17.190 --> 00:21:20.650\nit doesn't matter here, because\nthis isn't tied to the sales group.\n\n416\n00:21:20.650 --> 00:21:22.530\nBut if the user was dpezet, and\n\n417\n00:21:22.530 --> 00:21:27.180\nthe group with sales, that file would\ncount towards both their quotas.\n\n418\n00:21:27.180 --> 00:21:29.810\nSo I would be contributing\nto the sales group quota and\n\n419\n00:21:29.810 --> 00:21:32.300\nto the Dpezet quota\nbecause it's tied to both.\n\n420\n00:21:32.300 --> 00:21:35.410\nSo it's these values right here that\ndetermine whose quota it is that it's\n\n421\n00:21:35.410 --> 00:21:37.910\napply and\nyou could apply to more than one.\n\n422\n00:21:37.910 --> 00:21:43.830\nSo the neat thing is if you have users,\nif I have five users in the sales team and\n\n423\n00:21:43.830 --> 00:21:48.860\nthey're creating these files, they might\nhave individual quotas of different sizes.\n\n424\n00:21:48.860 --> 00:21:51.950\nBut then I might have one single quota for\nthe whole sales group and they all\n\n425\n00:21:51.950 --> 00:21:57.580\ncontribute to it as long as their files\nare set as having that group assignment.\n\n426\n00:21:57.580 --> 00:22:01.225\nIf they're leaving it like I'm doing here,\nthose group quotas never apply.\n\n427\n00:22:01.225 --> 00:22:04.340\nBecause the group here is\ntechnically dpezet, it's not sales.\n\n428\n00:22:04.340 --> 00:22:05.950\nSo it doesn't matter.\n\n429\n00:22:05.950 --> 00:22:07.665\nThat's where it gets a little bit weird.\n\n430\n00:22:07.665 --> 00:22:09.700\nBecause it does come down to\nthese file ownership values.\n\n431\n00:22:09.700 --> 00:22:10.300\n>> Very cool.\n\n432\n00:22:10.300 --> 00:22:11.270\n>> Yeah.\n\n433\n00:22:11.270 --> 00:22:15.650\nAll right, there is another neat command I\nwant to show, I think we have enough time.\n\n434\n00:22:15.650 --> 00:22:19.250\nIf I'm an admin and I want to look\nat the quotas and kind of verify,\n\n435\n00:22:19.250 --> 00:22:20.690\nthat quota command is pretty handy.\n\n436\n00:22:20.690 --> 00:22:26.280\nI can say quota dpezet or\nquota -g and a group.\n\n437\n00:22:26.280 --> 00:22:29.230\nIf I've got some group quota\nset like the sales group,\n\n438\n00:22:29.230 --> 00:22:31.250\nwhich I don't have a quota set for\nthat one.\n\n439\n00:22:31.250 --> 00:22:34.490\nBut you can go and view the quotas and\nsee kind of where they're at.\n\n440\n00:22:34.490 --> 00:22:38.505\nThere's also the repquota command.\n\n441\n00:22:38.505 --> 00:22:43.300\nAnd the repquota command is a neat\none because it's like a report\n\n442\n00:22:43.300 --> 00:22:47.510\nabout your quotas, kind of a summary\nof the quotas across your systems.\n\n443\n00:22:47.510 --> 00:22:52.069\nAnd so\nwhat I normally run is repquota -vsg and\n\n444\n00:22:52.069 --> 00:22:55.351\nthen a directory.\n\n445\n00:22:55.351 --> 00:22:57.700\nSo, -v is just verbose,\n\n446\n00:22:57.700 --> 00:23:00.930\ngive me some detail information,\ns, make it human readable.\n\n447\n00:23:00.930 --> 00:23:04.230\nThat shouldn't even be an option,\nthat should just be the way by default.\n\n448\n00:23:04.230 --> 00:23:07.010\nAnd then g, I'm pulling it up for\na group, right?\n\n449\n00:23:07.010 --> 00:23:09.410\nOr vsu, I'm pulling it up for users.\n\n450\n00:23:09.410 --> 00:23:14.190\nAll right, I'm telling it which one I\nwant to see groups or users or both.\n\n451\n00:23:14.190 --> 00:23:16.150\nLet's do users.\n\n452\n00:23:16.150 --> 00:23:20.020\nAnd then I specify the system I want to\nsee information about, like Flash Sales.\n\n453\n00:23:20.020 --> 00:23:20.600\nAll right.\n\n454\n00:23:20.600 --> 00:23:24.150\nWhen I run quotadpezet,\nI just see the dpezet and that's it.\n\n455\n00:23:24.150 --> 00:23:27.730\nBut here, when I run this,\nI see all the users.\n\n456\n00:23:27.730 --> 00:23:30.410\nI can see my root user who has no quota.\n\n457\n00:23:30.410 --> 00:23:33.790\nAnd then I can see dpezet,\nwho has a quota of a hundred megs.\n\n458\n00:23:33.790 --> 00:23:36.490\nRight?\nI get this nice little summary, and\n\n459\n00:23:36.490 --> 00:23:41.250\nI can see right here that dpezet,\nI've used 100 megs of my 100 meg quota.\n\n460\n00:23:41.250 --> 00:23:42.140\nI'm in violation.\n\n461\n00:23:42.140 --> 00:23:46.180\nI don't get the pretty little star there\nthat lets me know, but I do see it, right?\n\n462\n00:23:46.180 --> 00:23:49.610\nSo this is a cool little report,\nand you can see all of your users,\n\n463\n00:23:49.610 --> 00:23:50.990\nor all of your groups.\n\n464\n00:23:50.990 --> 00:23:55.450\nIf I were to change that to vsg, for\nexample, then I would see the groups that\n\n465\n00:23:55.450 --> 00:24:00.040\nwere in play on that drive, which right\nnow, really, is the dpezet and root.\n\n466\n00:24:00.040 --> 00:24:02.920\nAnd I don't think you can combine them,\nlet's see, will it let us combine them?\n\n467\n00:24:02.920 --> 00:24:04.360\nOh, it will, all right.\n\n468\n00:24:04.360 --> 00:24:06.350\nSo here it's just outputting\nthe users first and\n\n469\n00:24:06.350 --> 00:24:07.940\nthen the groups right afterwards.\n\n470\n00:24:07.940 --> 00:24:11.480\nBut this kind of view is\na little bit easier, and\n\n471\n00:24:11.480 --> 00:24:15.260\nyou get these nice little summaries\ndown here, average use, and so on.\n\n472\n00:24:15.260 --> 00:24:18.459\nJust a quick way to kind of see where\npeople are at with their quotas.\n\n473\n00:24:20.050 --> 00:24:23.200\nNow, do be aware if you\nget all this set up and\n\n474\n00:24:23.200 --> 00:24:27.880\nyou forget to edit the fstab file, then\nwhen you reboot, the quotas are off again.\n\n475\n00:24:27.880 --> 00:24:29.940\nAnd now people can copy\nwhatever they want, right.\n\n476\n00:24:29.940 --> 00:24:33.870\nSo make sure you edit that fstab file so\nit'll survive a reboot, and if you ever\n\n477\n00:24:33.870 --> 00:24:37.380\nunmount and remount the drive, from now\non, when you remount that drive, you've\n\n478\n00:24:37.380 --> 00:24:42.630\ngot to remember to specify that option,\nthe user quota or group quota option,\n\n479\n00:24:42.630 --> 00:24:45.620\notherwise you'll remount it without\nthat and the quotas won't work again.\n\n480\n00:24:45.620 --> 00:24:46.230\nAll right.\n\n481\n00:24:46.230 --> 00:24:47.660\nYou just turn it back on\nwhen you get a chance.\n\n482\n00:24:47.660 --> 00:24:49.440\nThe database files will still be there.\n\n483\n00:24:49.440 --> 00:24:51.997\nRight?\nThose aquota.group and aquota.user,\n\n484\n00:24:51.997 --> 00:24:55.070\nthose are the database files,\nthey'll stay.\n\n485\n00:24:55.070 --> 00:24:59.110\nBut it just wont take a fact if those\noptions aren't on for the volume.\n\n486\n00:24:59.110 --> 00:25:00.260\nThat's pretty important to have there.\n\n487\n00:25:00.260 --> 00:25:04.110\n>> It just got to take a little bit of\ncare when you're working with this quotas.\n\n488\n00:25:04.110 --> 00:25:06.160\nMake sure that you're doing do diligence.\n\n489\n00:25:06.160 --> 00:25:06.790\n>> Yeah, and\n\n490\n00:25:06.790 --> 00:25:09.870\nyou know most people aren't unmounting\ntheir drives on a regular basis anyway,\n\n491\n00:25:09.870 --> 00:25:12.880\nall right, one drives to be available so\nits not something to happen very often.\n\n492\n00:25:12.880 --> 00:25:14.420\nBut definitely something\nyou want to be aware of.\n\n493\n00:25:14.420 --> 00:25:15.090\n>> Awesome.\n\n494\n00:25:15.090 --> 00:25:17.470\nWell Don, this was excellent information.\n\n495\n00:25:17.470 --> 00:25:19.940\nI'm going home, I'm implementing quotas.\n\n496\n00:25:19.940 --> 00:25:22.510\nNo more keeping Freebird\naround if I don't want to.\n\n497\n00:25:22.510 --> 00:25:23.070\nThat's right.\n[LAUGH]\n\n498\n00:25:23.070 --> 00:25:23.570\n>> That's right.\n\n499\n00:25:23.570 --> 00:25:24.900\nYeah, rein in those mp3s.\n\n500\n00:25:24.900 --> 00:25:27.140\n>> No more of that user overrunning me.\n\n501\n00:25:27.140 --> 00:25:29.192\nI'm the super user, by God.\n\n502\n00:25:29.192 --> 00:25:29.930\n>> [LAUGH]\n>> [LAUGH] All right,\n\n503\n00:25:29.930 --> 00:25:30.730\nthat being said everyone,\n\n504\n00:25:30.730 --> 00:25:34.050\nlooks like we wrapped up another\ngreat show here at ITProTV.\n\n505\n00:25:34.050 --> 00:25:39.380\nThat being said, I am your host,\nDaniel Lowrie signing off with Don Pezet.\n\n506\n00:25:39.380 --> 00:25:39.989\nI totally messed that up.\n\n507\n00:25:39.989 --> 00:25:41.709\nBut we'll see you next time,\nhave a good one.\n\n508\n00:25:41.709 --> 00:25:48.450\n>> [LAUGH]\n[MUSIC]\n\n",
          "vimeoId": "131200932"
        },
        {
          "description": null,
          "length": "1868",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-5-locating_files-062215-2.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-5-locating_files-062215-2-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxlx0103-4-5-locating_files-062215-2-sm.jpg",
          "title": "Locating Files",
          "transcript": "WEBVTT\n\n1\n00:00:00.127 --> 00:00:11.121\n[MUSIC]\n\n2\n00:00:11.121 --> 00:00:12.627\nAll right.\nGreetings everyone and\n\n3\n00:00:12.627 --> 00:00:14.900\nwelcome to another great\nepisode of ITProTV.\n\n4\n00:00:14.900 --> 00:00:16.820\nI'll be your host Daniel Lowry and\n\n5\n00:00:16.820 --> 00:00:18.930\nhere with me today is none\nother than Don Pezet.\n\n6\n00:00:18.930 --> 00:00:20.550\nHow's it going today Don?\n\n7\n00:00:20.550 --> 00:00:21.800\n>> It is going great Daniel.\n\n8\n00:00:21.800 --> 00:00:24.719\nExcited about another Linux+ episode and\nthis episode.\n\n9\n00:00:25.760 --> 00:00:27.900\nAs you watch this episode,\nyou're gonna think gee,\n\n10\n00:00:27.900 --> 00:00:31.170\nI wish they would have filmed this one\nway back in the beginning of this series.\n\n11\n00:00:31.170 --> 00:00:34.810\nWe're gonna talk about locating\nfiles on a Linux hard drive, and\n\n12\n00:00:34.810 --> 00:00:37.030\njust the Linux file structure in general.\n\n13\n00:00:37.030 --> 00:00:38.390\nAnd if you've watched our episodes so\n\n14\n00:00:38.390 --> 00:00:41.120\nfar, you know you've seen more than\nonce where I've gone to run a command.\n\n15\n00:00:41.120 --> 00:00:42.980\nI've was like, oh shoot,\nwhere is that command.\n\n16\n00:00:42.980 --> 00:00:45.200\nAnd I check two or three directories,\nand then I find it.\n\n17\n00:00:45.200 --> 00:00:48.190\nOr where that's library, and I check\ntwo or three directories and I find it.\n\n18\n00:00:48.190 --> 00:00:50.810\nWell, I'm doing that by hand.\n\n19\n00:00:50.810 --> 00:00:52.810\nThere's actually ways that we\ncan automate that process,\n\n20\n00:00:52.810 --> 00:00:55.610\nand the reality is there's a whole\nlittle table we can memorize\n\n21\n00:00:55.610 --> 00:00:57.720\nthat would tell us exactly\nwhere these files are.\n\n22\n00:00:57.720 --> 00:01:01.300\nSo locating files on the hard drive in\nLinux doesn't have to be voodoo magic or\n\n23\n00:01:01.300 --> 00:01:02.510\ncrazy memorization.\n\n24\n00:01:02.510 --> 00:01:04.570\nThere actually is a system to it.\n\n25\n00:01:04.570 --> 00:01:07.350\nAnd we just have to have the basic\nunderstanding of how that system works.\n\n26\n00:01:07.350 --> 00:01:07.850\n>> Yeah.\nWell,\n\n27\n00:01:07.850 --> 00:01:10.230\nbefore I figured out how\nto use some of these tools,\n\n28\n00:01:10.230 --> 00:01:14.980\nand how the system is actually kinda\nset up in some sort of logical order\n\n29\n00:01:14.980 --> 00:01:18.400\nto help you remember\nwhere things should be.\n\n30\n00:01:18.400 --> 00:01:20.530\nAnd until I got that understanding,\nI was completely lost.\n\n31\n00:01:20.530 --> 00:01:22.820\nI was like, this file system's insane.\n\n32\n00:01:22.820 --> 00:01:24.040\nThere's files everywhere.\n\n33\n00:01:24.040 --> 00:01:27.470\nI've got sbin, I've got bin,\nI've got user, I've got- what is going on.\n\n34\n00:01:27.470 --> 00:01:28.640\nI have no idea.\n\n35\n00:01:28.640 --> 00:01:30.300\nHelp me out here please, Linux.\n\n36\n00:01:30.300 --> 00:01:33.820\nAnd then you read the man find command and\nyou're just, okay,\n\n37\n00:01:33.820 --> 00:01:34.945\nI'm even further confused.\n\n38\n00:01:34.945 --> 00:01:38.140\n[LAUGH]\n>> Yeah so, one of the big things we\n\n39\n00:01:38.140 --> 00:01:42.390\nhear about from our viewers is how that\nthey're coming from a Windows world.\n\n40\n00:01:42.390 --> 00:01:43.080\nAnd in Windows,\n\n41\n00:01:43.080 --> 00:01:47.580\nif you install Windows on your hard drive,\nyour drive gets a letter, right, C:.\n\n42\n00:01:47.580 --> 00:01:50.070\nAnd in Linux you don't have a drive\nletters you have mount points,\n\n43\n00:01:50.070 --> 00:01:51.440\nit's different right?\n\n44\n00:01:51.440 --> 00:01:54.640\nAnd then when you do install Windows,\nyou have C:\\WIndows that's where your\n\n45\n00:01:54.640 --> 00:01:59.370\noperating system is, and C:\\ProgramFiles,\nthat's where you program files go.\n\n46\n00:01:59.370 --> 00:02:02.710\nAnd then that's it, there's really any\nother folder is optional at that point.\n\n47\n00:02:02.710 --> 00:02:07.340\nWell the reason Windows only has a couple\nof folders like that, is because there's\n\n48\n00:02:07.340 --> 00:02:10.500\na lot of stuff that's just outright hidden\nin Windows the end users don't see,\n\n49\n00:02:10.500 --> 00:02:12.830\ncuz it's designed for end users.\n\n50\n00:02:12.830 --> 00:02:15.030\nLinux on the other hand\nis built off of Unix.\n\n51\n00:02:15.030 --> 00:02:18.960\nAnd in the Unix world, almost\neverything is represented as a file.\n\n52\n00:02:18.960 --> 00:02:23.570\nSo files are very important,\nand nothing is hidden from us.\n\n53\n00:02:23.570 --> 00:02:26.510\nSo when you do a basic install\nof Linux you're going to\n\n54\n00:02:26.510 --> 00:02:28.180\nhave a number of folders in there.\n\n55\n00:02:28.180 --> 00:02:32.900\nAnd the majority of them are going to have\nthree letter abbreviated names that follow\n\n56\n00:02:32.900 --> 00:02:35.720\nthe old Unix standard, so\nthey're not necessarily intuitive.\n\n57\n00:02:35.720 --> 00:02:36.480\nAll right?\n\n58\n00:02:36.480 --> 00:02:38.790\nBut once you get used to them,\nonce you've worked with them a bit,\n\n59\n00:02:38.790 --> 00:02:39.610\nit becomes second nature.\n\n60\n00:02:39.610 --> 00:02:40.980\nIt's not a big deal.\n\n61\n00:02:40.980 --> 00:02:44.510\nBut it is confusing for\npeople coming from the Windows world.\n\n62\n00:02:44.510 --> 00:02:48.830\nIf this is your first system,\nyou've never used Windows before,\n\n63\n00:02:48.830 --> 00:02:52.770\nit's actually pretty easy to kinda snap\ninto it and figure out what each piece is,\n\n64\n00:02:52.770 --> 00:02:54.480\nwhat it does and what it's important for.\n\n65\n00:02:54.480 --> 00:02:57.430\nSo let's take a look at what we've got.\n\n66\n00:02:57.430 --> 00:02:59.300\nI've got a CentOS 7 machine here.\n\n67\n00:02:59.300 --> 00:03:03.860\nI did a base install CentOS 7,\nI haven't messed with it very much at all.\n\n68\n00:03:03.860 --> 00:03:06.360\nI think I did some updates\non it at some point.\n\n69\n00:03:06.360 --> 00:03:09.550\nwhen you drop to a terminal\nyou default to being in\n\n70\n00:03:09.550 --> 00:03:11.730\nwhat's called your home directory.\n\n71\n00:03:11.730 --> 00:03:14.620\nAnd your home directory you can always\nview the directory with a PWD command,\n\n72\n00:03:14.620 --> 00:03:18.340\nbut your home directory is\nslash home slash d pizet.\n\n73\n00:03:18.340 --> 00:03:22.090\nLet's talk about what that means,\nright, that very first slash.\n\n74\n00:03:22.090 --> 00:03:27.860\nThat means my root, so my root drive or\nwherever my root mount point is.\n\n75\n00:03:27.860 --> 00:03:30.940\nInside of there there's\na folder called home.\n\n76\n00:03:30.940 --> 00:03:35.760\nAnd inside of that folder, this slash\ntells me that there's another folder, and\n\n77\n00:03:35.760 --> 00:03:38.150\ninside of it there's\na folder called dpezet.\n\n78\n00:03:38.150 --> 00:03:41.230\nAnd so that's where I am right now.\n\n79\n00:03:41.230 --> 00:03:44.150\nIf I were to change to my Root directory.\n\n80\n00:03:44.150 --> 00:03:45.840\nSo I'm just going to do a cd slash.\n\n81\n00:03:45.840 --> 00:03:48.760\nand if I do my present work\ndirectory I'm right there in slash.\n\n82\n00:03:48.760 --> 00:03:51.990\nAnd I pull up a listing of\nthe folders that are in there,\n\n83\n00:03:51.990 --> 00:03:54.830\nthere's that folder called home.\n\n84\n00:03:54.830 --> 00:03:57.880\nAnd if I go into my home folder and\n\n85\n00:03:57.880 --> 00:04:01.144\nI pull up that listing,\nthere's that folder called dpezet.\n\n86\n00:04:01.144 --> 00:04:05.880\nAnd if I change into that, if I can spell\nmy own name, then you'll see the files and\n\n87\n00:04:05.880 --> 00:04:06.840\nfolders that I have in there.\n\n88\n00:04:06.840 --> 00:04:08.840\nSo that's our basic file hierarchy.\n\n89\n00:04:08.840 --> 00:04:11.380\nNot really different than\nany other operating system.\n\n90\n00:04:11.380 --> 00:04:14.330\nLinux, Unix, Mac OS,\n\n91\n00:04:14.330 --> 00:04:18.790\nBSD, all of those guys use forward\nslashes to represent folders.\n\n92\n00:04:18.790 --> 00:04:21.620\nIf you're coming from the Windows\nworld for whatever reason,\n\n93\n00:04:21.620 --> 00:04:23.260\nMicrosoft uses back slashes right?\n\n94\n00:04:23.260 --> 00:04:27.090\nSo just take your mind and flip it\nthe other way, so instead of a back slash,\n\n95\n00:04:27.090 --> 00:04:27.800\ndo a forward slash.\n\n96\n00:04:27.800 --> 00:04:30.140\nThat's how it's represented in Unix and\nLinux.\n\n97\n00:04:30.140 --> 00:04:33.610\nNow, we don't have drive letters,\nwe don't have C: or F: or\n\n98\n00:04:33.610 --> 00:04:36.330\nwhatever, we just have\nstraight up mount points.\n\n99\n00:04:36.330 --> 00:04:39.560\nAnd you can always see your\nmounts with the mount command.\n\n100\n00:04:39.560 --> 00:04:43.060\nBut on modern OS's you're gonna\nget a ton of security mounts, and\n\n101\n00:04:43.060 --> 00:04:44.770\nother things that are kind of temporary.\n\n102\n00:04:44.770 --> 00:04:48.960\nSo, I find one of the better ways\nis to simply look at the slash etc\n\n103\n00:04:48.960 --> 00:04:50.100\nslash fs tab folder.\n\n104\n00:04:50.100 --> 00:04:53.430\nAnd when you look in there you can\nsee each of your different drives and\n\n105\n00:04:53.430 --> 00:04:54.040\nwhere they're mounted.\n\n106\n00:04:54.040 --> 00:04:57.840\nSo, see how I've got this slash\nthat's being my root drive,\n\n107\n00:04:57.840 --> 00:05:01.420\nand then I've got slash boot and\nslash mounts, slash accounting and\n\n108\n00:05:01.420 --> 00:05:03.600\nsome other things that\nwe did in another show.\n\n109\n00:05:03.600 --> 00:05:05.640\nSo I can see each of those mount points.\n\n110\n00:05:05.640 --> 00:05:08.540\nNow, you may see something very simple,\nlike mine.\n\n111\n00:05:08.540 --> 00:05:09.570\nI added these three.\n\n112\n00:05:09.570 --> 00:05:11.450\nBut let's assume that I\ndidn't add those three.\n\n113\n00:05:11.450 --> 00:05:13.550\nI would just see these first three.\n\n114\n00:05:13.550 --> 00:05:18.400\nSlash, which is my root, slash,\nboot, which is a special folder for\n\n115\n00:05:18.400 --> 00:05:19.150\nmy boot loaders.\n\n116\n00:05:19.150 --> 00:05:21.360\nIf you watched the boot loader episode,\nyou saw that.\n\n117\n00:05:21.360 --> 00:05:24.140\nAnd then swap,\nwhere my memory swapping is.\n\n118\n00:05:25.190 --> 00:05:26.970\nIf you install other Linux distros,\n\n119\n00:05:26.970 --> 00:05:31.550\nthey may create 5, 10,\n15 mount points for different things.\n\n120\n00:05:31.550 --> 00:05:35.410\nA lot of the folders we have in Linux may\nbe broken out into their own mount point,\n\n121\n00:05:35.410 --> 00:05:37.540\ntheir own volume or\npartition on your hard drive.\n\n122\n00:05:37.540 --> 00:05:39.880\nNow, why would I do that?\n\n123\n00:05:39.880 --> 00:05:41.690\nThere's usually two main reasons,\nall right?\n\n124\n00:05:41.690 --> 00:05:43.010\nOne reason is security.\n\n125\n00:05:43.010 --> 00:05:46.120\nWe're isolating those files out\nfrom the rest of our system.\n\n126\n00:05:46.120 --> 00:05:48.370\nThe other reason is stability.\n\n127\n00:05:48.370 --> 00:05:52.330\nWhen you fill up a folder with junk,\nwhat happens to your system?\n\n128\n00:05:52.330 --> 00:05:54.560\nWell, other parts of the system may break.\n\n129\n00:05:54.560 --> 00:05:57.010\nServices may not be able to run,\nthey don't have the file storage.\n\n130\n00:05:57.010 --> 00:05:58.810\nSo by pushing things off\nto their own folders,\n\n131\n00:05:58.810 --> 00:06:02.310\nyou start to set boundaries, limits for\nthe amount of space that they can consume.\n\n132\n00:06:02.310 --> 00:06:05.060\nSo those are reasons for moving off,\nyou can see I didn't do that.\n\n133\n00:06:05.060 --> 00:06:10.460\nWhen I did a default install of CentOS,\nit installed everything except for\n\n134\n00:06:10.460 --> 00:06:15.430\nthe boot folder in /boot,\neverything else it just put in /.\n\n135\n00:06:15.430 --> 00:06:18.940\nBut that's not always the case,\nother distros may do different things.\n\n136\n00:06:18.940 --> 00:06:22.840\nBut at the end of the day,\ninside of your root directory,\n\n137\n00:06:22.840 --> 00:06:26.480\nyou're going to have a set of folders.\n\n138\n00:06:26.480 --> 00:06:30.520\nAnd those folders are, for the most part,\nconsistent from distro to distro.\n\n139\n00:06:30.520 --> 00:06:35.740\nIf I go to Debian and install,\nUbuntu and install, Red Hat, CentOS,\n\n140\n00:06:35.740 --> 00:06:40.660\nSlackware, I can expect to see\nthe majority of these folders right here.\n\n141\n00:06:42.230 --> 00:06:44.850\nSo let's run down these folders and\nkinda see what they are.\n\n142\n00:06:44.850 --> 00:06:47.730\nNow, if you're missing a few of them,\ndon't freak out.\n\n143\n00:06:47.730 --> 00:06:52.160\nSometimes they're not required by the OS\nand some vendors choose different things.\n\n144\n00:06:52.160 --> 00:06:57.000\nBut in Linux we have what's called\nthe FHS, or File Hierarchy Standard.\n\n145\n00:06:57.000 --> 00:07:01.510\nAnd Red Hat is really the one who\nmade the big push for the FHS.\n\n146\n00:07:01.510 --> 00:07:04.265\nEach distro was doing different things,\nstoring files in different places.\n\n147\n00:07:04.265 --> 00:07:06.965\nIt was reeking havoc for software vendors.\n\n148\n00:07:06.965 --> 00:07:08.135\nIf you wrote a program and\n\n149\n00:07:08.135 --> 00:07:11.615\nyou wanted it to run on Linux, you didn't\nknow where to put your config files.\n\n150\n00:07:11.615 --> 00:07:12.895\nWhere should I put them?\n\n151\n00:07:12.895 --> 00:07:14.074\nThis distro does one thing.\n\n152\n00:07:14.074 --> 00:07:15.135\nThis distro does another.\n\n153\n00:07:15.135 --> 00:07:19.395\nRed hat made a big push and said, look the\nfreedom to do what you want is awesome.\n\n154\n00:07:19.395 --> 00:07:23.585\nWe appreciate that, but if everybody\nfollowed the same folder structure,\n\n155\n00:07:23.585 --> 00:07:25.825\nis that going to limit your\nability to do cool stuff?\n\n156\n00:07:25.825 --> 00:07:28.630\nNo, and it's gonna make it easier for\ndevelopers.\n\n157\n00:07:28.630 --> 00:07:31.480\nSo they don't have to follow it, but\n\n158\n00:07:31.480 --> 00:07:35.160\nmost distros follow the Red Hat\nfile hierarchy system.\n\n159\n00:07:35.160 --> 00:07:39.010\nAnd I've got red hat's page pulled up back\nhere this is the Red Hat customer portal.\n\n160\n00:07:39.010 --> 00:07:43.470\nAnd they basically lay out\nthe folders that they recommend.\n\n161\n00:07:43.470 --> 00:07:46.338\nThey recommend that you\nhave a /boot folder, and\n\n162\n00:07:46.338 --> 00:07:49.144\nthat that's where your\nboot loader stuff goes.\n\n163\n00:07:49.144 --> 00:07:52.958\nAnd, because of the nature of the boot\nloader, that needs to be available before\n\n164\n00:07:52.958 --> 00:07:56.380\nthe kernel starts, they recommend\nthat being on a separate partition,\n\n165\n00:07:56.380 --> 00:07:58.814\na separate volume, or\neven a separate hard drive.\n\n166\n00:07:58.814 --> 00:08:00.683\nYou know, it might be on flash or\nwhatever.\n\n167\n00:08:00.683 --> 00:08:03.411\nSo they recommend that being separate.\n\n168\n00:08:03.411 --> 00:08:07.910\nEverything else could be combined or\nseparate if we wanted to.\n\n169\n00:08:07.910 --> 00:08:12.680\nSo, things like /dev,\nthat's where our devices are, right?\n\n170\n00:08:12.680 --> 00:08:17.275\nSo if I have a mouse,\na keyboard, my hard drives,\n\n171\n00:08:17.275 --> 00:08:22.365\nmy CD-ROM drive, udev assigns them\na name inside the /dev folder.\n\n172\n00:08:22.365 --> 00:08:26.645\nAnd it's laid out exactly how that should\nbe structured and example names and stuff.\n\n173\n00:08:26.645 --> 00:08:31.185\nAnd their FHS goes through and\nlays out each of those directories and\n\n174\n00:08:31.185 --> 00:08:33.340\nwhat their purpose is, okay?\n\n175\n00:08:33.340 --> 00:08:36.920\nNow, I made a quick little table\nthat I'll post in the show notes.\n\n176\n00:08:36.920 --> 00:08:39.750\nWell, I say I made a quick little table,\nwhat did I do with that thing?\n\n177\n00:08:39.750 --> 00:08:40.560\nHere we go.\n\n178\n00:08:40.560 --> 00:08:44.950\nI'll post in the show notes, it kind\nof breaks down what those folders are.\n\n179\n00:08:44.950 --> 00:08:49.400\nBut let's just run through them right\nhere in my actual system, okay?\n\n180\n00:08:49.400 --> 00:08:52.710\nSo, we'll start with some of\nthe really important ones.\n\n181\n00:08:52.710 --> 00:08:59.010\nIf I do a, let me just do a ls -la,\nthere we go, bin, right?\n\n182\n00:08:59.010 --> 00:09:00.800\nbin is short for binary.\n\n183\n00:09:00.800 --> 00:09:05.110\nAnd these are gonna be binaries, or\nexecutables, programs that we can run.\n\n184\n00:09:05.110 --> 00:09:09.200\nGenerally, the files that are in\n/bin are files that were put there\n\n185\n00:09:09.200 --> 00:09:11.480\nby who made your distribution, okay?\n\n186\n00:09:11.480 --> 00:09:14.590\nAnd these are binaries that\nend users are expected to run.\n\n187\n00:09:14.590 --> 00:09:19.960\nSo, if I log into the computer or\nanother user in my company logs in,\n\n188\n00:09:19.960 --> 00:09:24.131\nthe executables that are part of the OS\nthat they need to run would be in /bin,\n\n189\n00:09:24.131 --> 00:09:25.420\nall right?\n\n190\n00:09:25.420 --> 00:09:28.010\nNow, there's another folder called sbin.\n\n191\n00:09:29.130 --> 00:09:32.560\nAnd sbin, these are system binaries.\n\n192\n00:09:32.560 --> 00:09:36.504\nThese are ones that are intended to be run\nby the operating system, not by us, but\n\n193\n00:09:36.504 --> 00:09:38.420\nby the operating system.\n\n194\n00:09:38.420 --> 00:09:41.202\nAnd in both cases, /bin and\n\n195\n00:09:41.202 --> 00:09:45.700\n/sbin, these are binaries that\nare a part of the distro.\n\n196\n00:09:45.700 --> 00:09:48.569\nWe will rarely modify what's\nin those two folders.\n\n197\n00:09:50.310 --> 00:09:54.150\nThen you'll notice another folder usr,\nall right?\n\n198\n00:09:54.150 --> 00:09:57.230\nusr, that's for user programs.\n\n199\n00:09:57.230 --> 00:10:01.750\nWhen we start to install software,\nit's gonna go into /usr, and\n\n200\n00:10:01.750 --> 00:10:08.151\ninside of /usr you'll see I have\nanother bin and another sbin.\n\n201\n00:10:09.330 --> 00:10:13.180\nSo if I'm installing software, and the\nsoftware's gonna install a program for me,\n\n202\n00:10:13.180 --> 00:10:16.720\nit would go into /usr/bin.\n\n203\n00:10:16.720 --> 00:10:19.780\nBut if it's installing software\nthat's gonna be used by the system,\n\n204\n00:10:19.780 --> 00:10:22.940\nlike maybe some NTFS drivers for\nreading a hard drive,\n\n205\n00:10:22.940 --> 00:10:27.880\nthen it's going to go into /usr/sbin,\nsystem binaries, right?\n\n206\n00:10:27.880 --> 00:10:33.782\nSo those four folders, /bin,\n/sbin, /usr/sbin, and /usr/bin,\n\n207\n00:10:33.782 --> 00:10:39.330\nthose four are the locations for\nall of our executable binaries.\n\n208\n00:10:40.330 --> 00:10:42.590\nNow, it gets confusing fast, doesn't it?\n\n209\n00:10:42.590 --> 00:10:46.946\nWell, notice what RedHat\ndid here on my system,\n\n210\n00:10:46.946 --> 00:10:52.684\nthat if I pull that directory back up,\nsee how /bin is symlinked\n\n211\n00:10:52.684 --> 00:10:57.940\nto /usr/bin, and\n/sbin is symlinked to /usr/sbin.\n\n212\n00:10:57.940 --> 00:11:00.445\nRedHat just said you know what, forget it,\nwe're not gonna maintain two separate\n\n213\n00:11:00.445 --> 00:11:04.420\nrepositories for distro stuff and user\nstuff, we'll just combine them together.\n\n214\n00:11:04.420 --> 00:11:08.230\nBut they still support the old\nnames to maintain compatibility.\n\n215\n00:11:08.230 --> 00:11:10.380\nThat's that file hierarchy structure.\n\n216\n00:11:10.380 --> 00:11:13.502\nWe don't want developers to have to\nworry about where the files are.\n\n217\n00:11:13.502 --> 00:11:16.835\nThe distro manufacturers,\nthey can move stuff around all they want,\n\n218\n00:11:16.835 --> 00:11:20.577\nas long as they support the old structure,\nthe software works great, right?\n\n219\n00:11:20.577 --> 00:11:22.550\nSo you see that pretty commonly.\n\n220\n00:11:22.550 --> 00:11:25.470\nAll right, some of the other folders\nthat we need to be aware of.\n\n221\n00:11:25.470 --> 00:11:26.720\n/etc.\n\n222\n00:11:26.720 --> 00:11:28.720\nIf you've watched any of our episodes so\nfar,\n\n223\n00:11:28.720 --> 00:11:30.960\nwe've gone into that at\nleast once an episode.\n\n224\n00:11:30.960 --> 00:11:34.100\nThat's where all our\nconfiguration files are, right?\n\n225\n00:11:34.100 --> 00:11:37.030\nSo all your system configs,\nall that information, your boot scripts,\n\n226\n00:11:37.030 --> 00:11:39.932\nall that kind of stuff,\nit's all right there in /etc.\n\n227\n00:11:39.932 --> 00:11:43.710\nWe've got /dev, I already talked about,\n\n228\n00:11:43.710 --> 00:11:48.220\nwhere our devices go, right, all my\nhardware gets detected and goes in there.\n\n229\n00:11:48.220 --> 00:11:51.420\nHow about one we never really use,\nproc, right?\n\n230\n00:11:51.420 --> 00:11:53.570\nproc is short for processes, right?\n\n231\n00:11:53.570 --> 00:11:55.840\nThat's where our process information goes.\n\n232\n00:11:55.840 --> 00:11:59.910\nEvery time you run a program, it creates\na little log file inside a process so\n\n233\n00:11:59.910 --> 00:12:01.620\nthe system knows it runs.\n\n234\n00:12:01.620 --> 00:12:06.120\nRunning applications\nare represented as files, and if I,\n\n235\n00:12:06.120 --> 00:12:09.910\nlet me just elevate my\nprivileges here a little bit and\n\n236\n00:12:09.910 --> 00:12:14.720\ntake a look inside of /proc, you'll\nsee a bunch of stuff in there, right?\n\n237\n00:12:14.720 --> 00:12:18.030\nThese are all the process IDs for\nthe programs that I'm running.\n\n238\n00:12:18.030 --> 00:12:22.163\nSo for example, if I were to take\nsomething like, oh, I don't know,\n\n239\n00:12:22.163 --> 00:12:24.841\ndo I have Midnight Commander\ninstalled now?\n\n240\n00:12:24.841 --> 00:12:26.685\n>> It's too bad, it's a fun tool.\n\n241\n00:12:26.685 --> 00:12:30.442\n>> [LAUGH] I'll take out Top and\nI'll stick it in the background, right?\n\n242\n00:12:30.442 --> 00:12:31.780\nSo I'm running Top.\n\n243\n00:12:31.780 --> 00:12:34.720\nTop is now running in the background,\nthere it is.\n\n244\n00:12:34.720 --> 00:12:37.650\nAnd if I take a look at my processes,\nI can come in here and\n\n245\n00:12:37.650 --> 00:12:44.300\nI can find where Top is running,\nright there, Process ID 4989, okay?\n\n246\n00:12:44.300 --> 00:12:49.480\nand if I look inside of proc,\nthere should be a folder called 4989.\n\n247\n00:12:49.480 --> 00:12:51.720\nAnd there it is.\n\n248\n00:12:51.720 --> 00:12:54.010\nThat's my Top process running, all right?\n\n249\n00:12:54.010 --> 00:12:56.790\nAnd if I take a look inside of that,\nthis is where is starts to get iffy.\n\n250\n00:12:56.790 --> 00:12:59.400\nSome of them you can't actually list.\n\n251\n00:12:59.400 --> 00:13:00.200\nThis one you can.\n\n252\n00:13:00.200 --> 00:13:00.970\nThere we go.\n\n253\n00:13:00.970 --> 00:13:04.290\nAnd so I'm able to see all sorts of\ninformation about that running process.\n\n254\n00:13:04.290 --> 00:13:06.030\nNow, some of these are real files.\n\n255\n00:13:06.030 --> 00:13:09.360\nSome of these are fake files, representing\nmemory addresses and other things.\n\n256\n00:13:09.360 --> 00:13:13.209\nSo you'll see a lot of information\nin there about that process, right?\n\n257\n00:13:13.209 --> 00:13:17.833\nGreat way to get information and\n\n258\n00:13:17.833 --> 00:13:21.300\nmanipulate things.\n\n259\n00:13:21.300 --> 00:13:22.170\nSo, let's see.\n\n260\n00:13:22.170 --> 00:13:25.430\nThat was one of my favorites.\n\n261\n00:13:25.430 --> 00:13:31.630\nIt's kind of just a mixed bag\ndirectory here with /var, okay?\n\n262\n00:13:31.630 --> 00:13:35.590\nvar, it's short for, well,\nyou hear people say different things.\n\n263\n00:13:35.590 --> 00:13:38.980\nVariable was the original name, but that\ngot kinda confusing with developers, so\n\n264\n00:13:38.980 --> 00:13:42.790\nyou hear a lot of people refer to it\nas a various, both are really correct.\n\n265\n00:13:42.790 --> 00:13:45.640\nvar can store whatever you want, right?\n\n266\n00:13:45.640 --> 00:13:48.760\nA great example would be if we\ninstalled the Apache service,\n\n267\n00:13:48.760 --> 00:13:50.680\nif we wanna be a web server.\n\n268\n00:13:50.680 --> 00:13:51.710\nSo I install Apache.\n\n269\n00:13:51.710 --> 00:13:56.020\nNow, the Apache service is a binary, and\nI would expect it to find it in /usr/,\n\n270\n00:13:56.020 --> 00:14:00.770\nwell, it could go a few different places,\nbut /bin or sbin.\n\n271\n00:14:00.770 --> 00:14:02.240\nI'd expect to find it there.\n\n272\n00:14:02.240 --> 00:14:04.650\nBut, where do my webpages go?\n\n273\n00:14:04.650 --> 00:14:07.070\nI need to store my webpages somewhere.\n\n274\n00:14:07.070 --> 00:14:08.290\nI could put them in my home directory.\n\n275\n00:14:08.290 --> 00:14:09.120\nThat would be great.\n\n276\n00:14:09.120 --> 00:14:11.040\nNow I can get to them and nobody else can.\n\n277\n00:14:11.040 --> 00:14:15.218\nBut we need a common place for software\nto store the files that they need.\n\n278\n00:14:15.218 --> 00:14:17.730\nAnd /var is that place.\n\n279\n00:14:17.730 --> 00:14:19.200\nSo if you poke around in /var,\n\n280\n00:14:19.200 --> 00:14:23.890\nyou'll find a bunch of stuff in there\nin things like this www directory.\n\n281\n00:14:23.890 --> 00:14:26.670\nThat's where Apache stores your webpages.\n\n282\n00:14:26.670 --> 00:14:29.176\nAnd in there you'll see\na folder called html, and\n\n283\n00:14:29.176 --> 00:14:31.215\nthere's our Apache webpages, right?\n\n284\n00:14:31.215 --> 00:14:35.380\nSo /var is kinda that general\nrepository for where we put stuff.\n\n285\n00:14:35.380 --> 00:14:38.420\nAll right, other directories.\n\n286\n00:14:38.420 --> 00:14:38.990\nLet's see.\n\n287\n00:14:38.990 --> 00:14:41.110\nI know I'm taking a little\nlong on some of these, so\n\n288\n00:14:41.110 --> 00:14:43.370\nI'll try to be a little\nquicker on some of them.\n\n289\n00:14:43.370 --> 00:14:44.450\n/tmp, T-M-P.\n\n290\n00:14:44.450 --> 00:14:47.390\nLike the name implies,\nit's temporary files.\n\n291\n00:14:47.390 --> 00:14:50.560\nAny time you need temporary storage for\nsomething it uses /tmp.\n\n292\n00:14:50.560 --> 00:14:53.580\nThat's wiped out every time you reboot,\nso you can't rely on that storage.\n\n293\n00:14:53.580 --> 00:14:57.195\nLet's see,\nwe already talked about /usr, /home.\n\n294\n00:14:57.195 --> 00:15:00.930\n/home is where your user\nhome directories go.\n\n295\n00:15:00.930 --> 00:15:03.618\nAnd a lot of people will put that\noff on a separate partition.\n\n296\n00:15:03.618 --> 00:15:04.330\nI haven't done that here,\n\n297\n00:15:04.330 --> 00:15:07.110\nbecause you'll see that very commonly\nit's mounted to a separate partition.\n\n298\n00:15:07.110 --> 00:15:10.390\nIt's just where your home directories\nare and people store their data.\n\n299\n00:15:10.390 --> 00:15:13.290\nYou might apply quotas to it,\nif it's on a separate partition you can\n\n300\n00:15:13.290 --> 00:15:16.240\ndo that really easy, and\nnow you control people's disk space.\n\n301\n00:15:18.455 --> 00:15:21.950\n/boot for the boot loaders,\nwe've seen that one already.\n\n302\n00:15:21.950 --> 00:15:23.850\nWe've got /lib.\n\n303\n00:15:23.850 --> 00:15:27.270\nIf you watch the shared libraries episode,\nwe used this /lib folder.\n\n304\n00:15:27.270 --> 00:15:30.860\nAnd you'll see RedHat has\nsymlinked this one also.\n\n305\n00:15:30.860 --> 00:15:34.800\nSo /lib, /lib64,\nif you're on a 64-bit system.\n\n306\n00:15:34.800 --> 00:15:37.718\nAnd then there's also\nthe /usr versions of those.\n\n307\n00:15:37.718 --> 00:15:42.445\n/lib and /lib64 are supposed to include\nthe libraries that come with your distro.\n\n308\n00:15:42.445 --> 00:15:43.740\nAnd then /usr/lib and\n\n309\n00:15:43.740 --> 00:15:49.190\n/usr/lib64 would be the ones that you've\nadded with software you've installed.\n\n310\n00:15:51.350 --> 00:15:52.971\n/opt.\n\n311\n00:15:52.971 --> 00:15:55.705\nThis one I don't really\nmake use of anymore.\n\n312\n00:15:55.705 --> 00:15:59.416\nBack in Solaris, I used to use Solaris\na lot, and we used the heck out of /opt.\n\n313\n00:15:59.416 --> 00:16:01.448\nThis is for optional add-ons.\n\n314\n00:16:01.448 --> 00:16:05.455\nAnd for a lot of Linux distros,\nthis folder is either not there or empty.\n\n315\n00:16:05.455 --> 00:16:09.474\nBut on Red Hat, Red Hat has a lot\nof closed source software they\n\n316\n00:16:09.474 --> 00:16:14.530\ndon't distribute the code for, and\na lot of it ends up in this op folder.\n\n317\n00:16:14.530 --> 00:16:17.580\nAnd so,\nnotice how I've got an rg folder in here.\n\n318\n00:16:17.580 --> 00:16:20.622\nWell, I'm running CentOS, so\nI don't have any of the Red Hat stuff.\n\n319\n00:16:20.622 --> 00:16:22.654\nBut if I was running\nRed Hat Enterprise Linux,\n\n320\n00:16:22.654 --> 00:16:25.220\nthere would be those closed\nsource applications in here.\n\n321\n00:16:25.220 --> 00:16:30.392\n/op is just optional software\nthat you may or may not Half.\n\n322\n00:16:30.392 --> 00:16:34.180\n/mnt, mnt is used for mounts.\n\n323\n00:16:34.180 --> 00:16:37.730\nNow, back in the day,\nthis was used for every mount point.\n\n324\n00:16:37.730 --> 00:16:41.370\nWhen you mounted hard drives,\nand CD drives, and USB keys, and\n\n325\n00:16:41.370 --> 00:16:44.007\nwhatever, you just mounted\nthem to /mount or /mnt.\n\n326\n00:16:44.007 --> 00:16:46.530\nAnd you see a lot of people use that,\nI'm using it right now.\n\n327\n00:16:46.530 --> 00:16:49.250\nI've got a couple of things\nmounted in there, right?\n\n328\n00:16:49.250 --> 00:16:53.260\nBut on most modern distros,\nthey have another directory called media.\n\n329\n00:16:53.260 --> 00:16:55.530\nAnd if I look at that /media folder,\n\n330\n00:16:55.530 --> 00:17:00.154\nthat's where things like my CD drive\nwould be mounted, removable media.\n\n331\n00:17:00.154 --> 00:17:03.511\nIf it's a USB or a CD,\nwe mount those to /media.\n\n332\n00:17:03.511 --> 00:17:07.390\nIf it's a hard drive, we mount it to /mnt,\nif it's like a permanent hard drive.\n\n333\n00:17:07.390 --> 00:17:08.380\nSo that's kinda the difference.\n\n334\n00:17:08.380 --> 00:17:11.410\nAt the end of the day, it doesn't\nreally matter where you mount those.\n\n335\n00:17:11.410 --> 00:17:15.680\nBut if you're running something like\nSELinux that's applying security, well,\n\n336\n00:17:15.680 --> 00:17:20.580\nthat can block access if you mount it\nsomewhere else, so be careful about that.\n\n337\n00:17:20.580 --> 00:17:25.270\nAnd the last one that I need to talk about\nthat's really important for us is /srv.\n\n338\n00:17:25.270 --> 00:17:27.450\nThat's the service folder.\n\n339\n00:17:27.450 --> 00:17:30.390\nAnd the services that we installed\nthat need to store some data\n\n340\n00:17:30.390 --> 00:17:32.070\ncan place it in there.\n\n341\n00:17:32.070 --> 00:17:34.254\nNow notice how mine is completely empty.\n\n342\n00:17:34.254 --> 00:17:38.798\nA lot of services store their data\nin /etc or in their /var folders, so\n\n343\n00:17:38.798 --> 00:17:43.267\nnot every service stores them here,\nbut if you install one that does,\n\n344\n00:17:43.267 --> 00:17:46.632\nthe folder's created and\nit's available for you.\n\n345\n00:17:46.632 --> 00:17:50.300\nSo you may or may not actually\nhave data in there, all right?\n\n346\n00:17:50.300 --> 00:17:52.140\nSo, I'll post this with the show notes,\nbut\n\n347\n00:17:52.140 --> 00:17:55.200\nbasically I just made this little table\nof what each of those folders is for.\n\n348\n00:17:55.200 --> 00:17:58.120\nThey should be created by default and\navailable on your system.\n\n349\n00:17:59.250 --> 00:18:01.600\nNow where this gets challenging is,\nall right,\n\n350\n00:18:01.600 --> 00:18:05.490\nif I wanna find out where\nsomething is located,\n\n351\n00:18:05.490 --> 00:18:08.920\nwe saw there's a number of different\noptions where things could reside.\n\n352\n00:18:08.920 --> 00:18:12.350\nSo, fortunately, we have a couple of\ncommand line utilities that can make life\n\n353\n00:18:12.350 --> 00:18:16.350\na lot easier for us if we wanna try and\nfind a command, all right?\n\n354\n00:18:16.350 --> 00:18:20.340\nSo, for example,\nlet's say that I'm looking for\n\n355\n00:18:20.340 --> 00:18:23.680\na command, the ls command, right?\n\n356\n00:18:23.680 --> 00:18:26.530\nWhere is ls stored on my system?\n\n357\n00:18:26.530 --> 00:18:28.160\nWell, I could try and find it.\n\n358\n00:18:28.160 --> 00:18:30.450\nThat, to me,\nwould be a user binary, right?\n\n359\n00:18:30.450 --> 00:18:32.210\nA program a user's intended to run.\n\n360\n00:18:32.210 --> 00:18:35.089\nSo it should be in /bin or /user/bin.\n\n361\n00:18:36.170 --> 00:18:37.260\nWhich one is it in?\n\n362\n00:18:37.260 --> 00:18:39.551\nI don't know.\nWell, Red Hat Sim links them together, so\n\n363\n00:18:39.551 --> 00:18:41.510\nI'd imagine they're both in here.\n\n364\n00:18:41.510 --> 00:18:47.470\nBut if I pull up a listing here I\ncan find ls, right there, right?\n\n365\n00:18:47.470 --> 00:18:49.030\nSo, I knew the file hierarchy.\n\n366\n00:18:49.030 --> 00:18:50.870\nI was able to kind of find it on my own.\n\n367\n00:18:50.870 --> 00:18:53.580\nBut what if I didn't\nknow the file hierarchy?\n\n368\n00:18:53.580 --> 00:18:55.280\nWell, I can search for it.\n\n369\n00:18:55.280 --> 00:18:57.150\nThere's a few different\nways we can search for it.\n\n370\n00:18:57.150 --> 00:18:59.470\nThere's, for example, the find command.\n\n371\n00:18:59.470 --> 00:19:02.770\nFind lets you search the hard drive and\nlook for files and folders.\n\n372\n00:19:03.780 --> 00:19:05.600\nWhen you do find,\nthe syntax is pretty easy.\n\n373\n00:19:05.600 --> 00:19:08.920\nYou say find where you want\nit to start the search.\n\n374\n00:19:08.920 --> 00:19:10.450\nNow normally I'll just say /.\n\n375\n00:19:10.450 --> 00:19:13.020\nStart at the root,\nsearch the whole system, right?\n\n376\n00:19:13.020 --> 00:19:15.550\nBut you might want to limit it to /home.\n\n377\n00:19:15.550 --> 00:19:19.230\nAnd now I'm just searching home\ndirectories or /home/depezet,\n\n378\n00:19:19.230 --> 00:19:21.320\nnow I'm just searching my directory,\nright?\n\n379\n00:19:22.410 --> 00:19:24.680\nThen, we can tell it\nwhat we're looking for.\n\n380\n00:19:24.680 --> 00:19:30.850\nIf I just type a string like ls, it's\nactually looking Inside the files for ls.\n\n381\n00:19:30.850 --> 00:19:31.830\nKinda like grep does.\n\n382\n00:19:31.830 --> 00:19:35.690\nI'm gonna say -name ls.\n\n383\n00:19:35.690 --> 00:19:38.260\nNow I'm looking for a file named ls.\n\n384\n00:19:39.320 --> 00:19:40.532\nNamed specifically.\n\n385\n00:19:40.532 --> 00:19:45.814\nIf I add an asterisk, it would be\nanything that starts with ls or * ls *.\n\n386\n00:19:45.814 --> 00:19:47.830\nAnything that has ls in the middle of it,\nright?\n\n387\n00:19:47.830 --> 00:19:49.540\nSo you can use wild cards here.\n\n388\n00:19:49.540 --> 00:19:52.640\nI'm just gonna look for ls and\nit's gonna run that search.\n\n389\n00:19:52.640 --> 00:19:54.760\nNow, I gotta permission deny there.\n\n390\n00:19:54.760 --> 00:19:55.680\nI'm running as root.\n\n391\n00:19:55.680 --> 00:19:59.270\nAs even as root, you get denied\non certain folders and so I did.\n\n392\n00:19:59.270 --> 00:20:00.762\nBut, if I run this not as root.\n\n393\n00:20:00.762 --> 00:20:03.980\nAll right,\nlet me just get out of root there.\n\n394\n00:20:03.980 --> 00:20:07.855\nAnd I'll run this as a regular user,\nright?\n\n395\n00:20:07.855 --> 00:20:09.160\nOh, did I not get out of?\n\n396\n00:20:11.180 --> 00:20:17.142\nOh, shoot, I still have a job\nkicking around so it's not, Oh wait,\n\n397\n00:20:17.142 --> 00:20:23.310\nthat top that I was running\nearlier is kinda hanging in there.\n\n398\n00:20:23.310 --> 00:20:25.590\nThere we go, all right.\n\n399\n00:20:25.590 --> 00:20:29.150\nSo now if I run this as a regular user,\nI'm gonna search my root drive, and\n\n400\n00:20:29.150 --> 00:20:33.270\nlook for files named ls, look at all those\npermission denieds that I get, right?\n\n401\n00:20:33.270 --> 00:20:36.260\nIt can get kind of annoying, and so Dana,\nyou've got a trick for this, right?\n\n402\n00:20:36.260 --> 00:20:39.961\n>> Oh yeah, it's really simple, we\ntalked about this in an earlier episode.\n\n403\n00:20:39.961 --> 00:20:44.585\nOur error messages are a standard type of\noutput, they call it standard err, and\n\n404\n00:20:44.585 --> 00:20:49.283\nthat was in one of the first episodes that\nwe talked about with our Linux Plus here.\n\n405\n00:20:49.283 --> 00:20:51.145\nSo if you haven't seen that,\nyou should go check that out,\n\n406\n00:20:51.145 --> 00:20:52.670\nit's gonna to help you out a lot.\n\n407\n00:20:52.670 --> 00:20:56.650\nWell that does get represented\nas a number by the system.\n\n408\n00:20:56.650 --> 00:20:59.620\nSo all you have to do is know what\nnumber that is and that number is two.\n\n409\n00:20:59.620 --> 00:21:03.820\nSo if I add two with my redirector,\nmy greater than sign, so\n\n410\n00:21:03.820 --> 00:21:08.436\nif I say two greater than,\nand redirect it to\n\n411\n00:21:08.436 --> 00:21:13.195\n/dev/null, which is basically\njust a file of nothing.\n\n412\n00:21:13.195 --> 00:21:16.775\nIt's just a bit bucket, as it were,\nthe trash can to nowhere,\n\n413\n00:21:16.775 --> 00:21:18.353\nthe great beyond for data.\n\n414\n00:21:18.353 --> 00:21:23.183\nIf I pipe redirect any standard error to\nthere, well it won't get put to my screen,\n\n415\n00:21:23.183 --> 00:21:27.806\nit doesn't go to that output because\nby nature, normally that's exactly what\n\n416\n00:21:27.806 --> 00:21:32.164\nhappens, like what we saw with Don's ls,\nor let find command for that ls.\n\n417\n00:21:32.164 --> 00:21:34.266\nIt said, well here's all\nthe things you tried to see but\n\n418\n00:21:34.266 --> 00:21:37.064\nyou don't have permissions to it, so\nI have to give you an error for that.\n\n419\n00:21:37.064 --> 00:21:42.077\nBut I don't want to see all those nasty\nerrors, I just do two greater than,\n\n420\n00:21:42.077 --> 00:21:47.649\nwhich is that redirector to /dev/null and\nyou shouldn't see any of your standard\n\n421\n00:21:47.649 --> 00:21:53.910\nerror outputs, you should only see actual\noutput for the regular standard output.\n\n422\n00:21:53.910 --> 00:21:57.216\n>> And so let's load that on here,\nI'm gonna run that same command and\n\n423\n00:21:57.216 --> 00:22:00.270\nthis is the command I ran,\nfind /start from the root.\n\n424\n00:22:00.270 --> 00:22:02.170\nLook for files named ls.\n\n425\n00:22:02.170 --> 00:22:05.840\nAnd then what I'm gonna do is,\nI'm just gonna do a 2>.\n\n426\n00:22:05.840 --> 00:22:11.051\nI'm redirecting the error output and\nI'm just gonna send that to /dev/null.\n\n427\n00:22:11.051 --> 00:22:14.630\n/dev/null throws away\nanything that you send to it.\n\n428\n00:22:14.630 --> 00:22:18.740\nSo now errors will be thrown away and\nI'll be left with successes.\n\n429\n00:22:18.740 --> 00:22:21.450\nAnd now I get that, /user/bin/ls.\n\n430\n00:22:21.450 --> 00:22:22.510\nNice and clean.\n\n431\n00:22:22.510 --> 00:22:25.880\nSo that's a nice thing to be able to do.\n\n432\n00:22:25.880 --> 00:22:29.060\nNow, when I do a find like this,\nthat's heavy disc IO.\n\n433\n00:22:29.060 --> 00:22:31.290\nIt's actually searching the whole system.\n\n434\n00:22:31.290 --> 00:22:33.050\nBecause I specified slash,\n\n435\n00:22:33.050 --> 00:22:36.480\nif any of my sub folders are mounting to\nother drives it's searching those two.\n\n436\n00:22:36.480 --> 00:22:39.390\nSo I'm actually generating a search\ncommand, a disc IO operation,\n\n437\n00:22:39.390 --> 00:22:44.840\nacross all of those discs, and that is\nnot necessarily the greatest thing.\n\n438\n00:22:44.840 --> 00:22:48.020\nSo there's a few other commands\nthat can help out with this.\n\n439\n00:22:48.020 --> 00:22:50.920\nOne of my favorites is the locate command.\n\n440\n00:22:50.920 --> 00:22:53.620\nNow it's one of my favorites,\nbut it's not always available.\n\n441\n00:22:53.620 --> 00:22:58.800\nIf you're just trying to find\na file by name, you can type locate\n\n442\n00:22:58.800 --> 00:23:03.828\nls and it's gonna locate where that\ncommand is and give you some output.\n\n443\n00:23:03.828 --> 00:23:07.760\nNow, it's [LAUGH] outputting\nquite a bit there for\n\n444\n00:23:07.760 --> 00:23:12.750\nme as it spawns any file\nwith ls involved in it.\n\n445\n00:23:12.750 --> 00:23:15.940\nSo notice how these guys have\ntools in the folder name.\n\n446\n00:23:15.940 --> 00:23:20.380\nAnd so that's what triggered ls for\nthat file, it found a ton of files.\n\n447\n00:23:20.380 --> 00:23:23.440\nSo you do have to be a little bit\nspecific when you search for things.\n\n448\n00:23:23.440 --> 00:23:27.050\nAnd you can modify the command line for\nthe locate command.\n\n449\n00:23:27.050 --> 00:23:30.490\nI'll tell you, I like the locate command,\nbut I don't use it very often, and\n\n450\n00:23:30.490 --> 00:23:35.790\nthe main reason is, locate doesn't\ndo a file search across the drives.\n\n451\n00:23:35.790 --> 00:23:38.020\nLocate actually maintains\na little database,\n\n452\n00:23:38.020 --> 00:23:40.380\na database of all\nthe files on your system.\n\n453\n00:23:40.380 --> 00:23:42.940\nAnd the database is updated.\n\n454\n00:23:42.940 --> 00:23:47.220\nWell, it depends on how often your admin\nsets it up, or you, if you're the admin.\n\n455\n00:23:47.220 --> 00:23:49.640\nIf you haven't set it up,\nthen it doesn't update.\n\n456\n00:23:49.640 --> 00:23:53.378\nThe way to update that database is\nby running the updatedb command.\n\n457\n00:23:53.378 --> 00:23:57.395\nAnd When you run that, it's gonna\ngenerate the database that locate uses.\n\n458\n00:23:57.395 --> 00:23:58.601\nAnd I'm not an admin.\n\n459\n00:23:58.601 --> 00:24:01.951\nLet me switch back to an admin account and\nI'll run updatedb.\n\n460\n00:24:01.951 --> 00:24:06.241\nAnd it's gonna run and now it's updating\nthe catalog of all my files and\n\n461\n00:24:06.241 --> 00:24:08.300\nwhen I do a search now.\n\n462\n00:24:08.300 --> 00:24:11.209\nI'll get a good quick response\nright out of that database and\n\n463\n00:24:11.209 --> 00:24:13.843\nif you want that to run routinely\nyou set up a chron job.\n\n464\n00:24:13.843 --> 00:24:16.303\nAnd just say run update\ndb every 24 hours but\n\n465\n00:24:16.303 --> 00:24:20.463\nthat means the locate command is not\nalways returning timely information.\n\n466\n00:24:20.463 --> 00:24:24.270\nThings might be different and as a result,\nI don't normally use the locate command.\n\n467\n00:24:25.380 --> 00:24:28.090\nNow, we saw using find,\nfind searches the hard drive,\n\n468\n00:24:28.090 --> 00:24:31.230\nyou definitely get timely information\nthere, it's just not fast.\n\n469\n00:24:31.230 --> 00:24:34.410\nThe more files your system has,\nthe longer the find command takes.\n\n470\n00:24:35.570 --> 00:24:37.310\nA few other alternatives.\n\n471\n00:24:37.310 --> 00:24:40.160\nThere's things like whereis, right?\n\n472\n00:24:40.160 --> 00:24:41.780\nNow, I do use this one a lot.\n\n473\n00:24:41.780 --> 00:24:46.010\nIf I say whereis LS,\nwhat it's gonna do is it's gonna look up\n\n474\n00:24:46.010 --> 00:24:50.130\nthrough the package manager and\nsay okay, we installed a package for LS.\n\n475\n00:24:50.130 --> 00:24:51.552\nWhere'd you install it to?\n\n476\n00:24:51.552 --> 00:24:57.680\nAll right, now this is a good\nin-between of doing find and locate.\n\n477\n00:24:57.680 --> 00:25:03.920\nFind gives me real time information but\nmight be processor or disk IO intensive.\n\n478\n00:25:03.920 --> 00:25:07.690\nLocate is not intensive but\nit might be out of date.\n\n479\n00:25:07.690 --> 00:25:12.060\nThis one shows me where the package\nwas installed and that's usually very,\n\n480\n00:25:12.060 --> 00:25:14.930\nvery accurate unless somebody's\nmessed with the package.\n\n481\n00:25:14.930 --> 00:25:17.500\nIf somebody went and\nmoved the files after it was installed,\n\n482\n00:25:17.500 --> 00:25:19.170\nthe package manager won't know that.\n\n483\n00:25:19.170 --> 00:25:21.277\nSo this is pretty accurate and\n\n484\n00:25:21.277 --> 00:25:25.167\npretty fast where it is is\ntypically the one that I use.\n\n485\n00:25:25.167 --> 00:25:26.260\nAll right couple other ones.\n\n486\n00:25:28.020 --> 00:25:31.430\nSometimes we run a command and\nwe think we're running a command and\n\n487\n00:25:31.430 --> 00:25:34.300\nwe're actually running an alias\nof something else right?\n\n488\n00:25:34.300 --> 00:25:38.530\nSo for example when I run LS I think\nI'm just running the list command.\n\n489\n00:25:38.530 --> 00:25:41.200\nBut I'm actually running it with several\ndifferent options enabled that I\n\n490\n00:25:41.200 --> 00:25:42.560\njust don't see.\n\n491\n00:25:42.560 --> 00:25:45.370\nOr, maybe you have an alias for\nsomething like DIR, right?\n\n492\n00:25:45.370 --> 00:25:47.860\nSo I just run DIR and\nI get my directory listing.\n\n493\n00:25:47.860 --> 00:25:50.380\nWell, where's the DIR command?\n\n494\n00:25:50.380 --> 00:25:56.431\nSo if I do like a where is DIR, I can\nfind that it's showing /user/bin/dir.\n\n495\n00:25:56.431 --> 00:26:00.921\nI don't realize that that's truly just\na soft link that's pointing to the LS\n\n496\n00:26:00.921 --> 00:26:02.020\ncommand.\n\n497\n00:26:02.020 --> 00:26:02.650\nAll right.\n\n498\n00:26:02.650 --> 00:26:07.630\nSo, sometimes the information that we get\nback is not necessarily exactly accurate.\n\n499\n00:26:07.630 --> 00:26:10.594\nBut good enough for our purposes\nto find what we're looking for.\n\n500\n00:26:10.594 --> 00:26:11.540\nAll right.\n\n501\n00:26:11.540 --> 00:26:13.050\nIf we wanna see a little bit\nmore about the commands,\n\n502\n00:26:13.050 --> 00:26:14.800\nwe can use the which command.\n\n503\n00:26:14.800 --> 00:26:20.750\nIf I say which LS, now it tells me that\nLS, I'm actually running an alias.\n\n504\n00:26:20.750 --> 00:26:24.157\nWhen I run LS,\nI'm not truly running the LS command,\n\n505\n00:26:24.157 --> 00:26:27.582\ninstead I'm running LS dash\ndash color equals auto.\n\n506\n00:26:27.582 --> 00:26:28.660\nThat's why I get those nice,\ncolorful prompts.\n\n507\n00:26:28.660 --> 00:26:33.320\nAnd then the other thing which does,\nis it tells me where LS is, right?\n\n508\n00:26:33.320 --> 00:26:34.980\nSo I get the valuable\ninformation right there.\n\n509\n00:26:34.980 --> 00:26:39.340\nI get where the program is and\nthe options that I'm applying to it.\n\n510\n00:26:39.340 --> 00:26:44.140\nIf I do which DIR, well it shows me here\nthat I don't actually have an alias for\n\n511\n00:26:44.140 --> 00:26:45.920\nDIR, I'm pointing that file.\n\n512\n00:26:45.920 --> 00:26:49.460\nAnd I think I want to look to see what\nthat file is actually assembling, but\n\n513\n00:26:49.460 --> 00:26:52.380\nwhich is a nice one you know you\ncould run this for any command.\n\n514\n00:26:52.380 --> 00:26:56.536\nIf I want to know where vie is installed,\nI can do which vie,\n\n515\n00:26:56.536 --> 00:27:00.289\nwhich really would be the same\noutput as where is vie.\n\n516\n00:27:00.289 --> 00:27:04.541\nExcept where is vie also shows\nthe packages that it came from, right, so\n\n517\n00:27:04.541 --> 00:27:08.317\nI can kind of see that and\nwhere those packages and man files are.\n\n518\n00:27:08.317 --> 00:27:10.370\nThat information is all right there.\n\n519\n00:27:10.370 --> 00:27:15.430\nSo any command that you use or whatever\nyou come in here and use which to find it.\n\n520\n00:27:15.430 --> 00:27:17.500\nAll right so, find?\n\n521\n00:27:17.500 --> 00:27:20.965\nThat's a great utility that can search\ninside of files and it can search for\n\n522\n00:27:20.965 --> 00:27:23.786\nfile names, you can search by\nwhat user owns them with find.\n\n523\n00:27:23.786 --> 00:27:27.295\nIt's very powerful, right, I encourage\nyou to take a look at that one.\n\n524\n00:27:27.295 --> 00:27:30.377\nYou know, if you do like a dash,\ndash help on it,\n\n525\n00:27:30.377 --> 00:27:35.060\nyou'll see where you can search by\nthings like what user owns it and so on.\n\n526\n00:27:35.060 --> 00:27:39.650\nThose are all options that we\ncan search buy, we did where is,\n\n527\n00:27:39.650 --> 00:27:42.350\nwe did locate, locate, I didn't like so\nmuch, because of that database.\n\n528\n00:27:42.350 --> 00:27:46.720\nIn the exam remember, update db,\nthat's how you update that database.\n\n529\n00:27:46.720 --> 00:27:49.360\nAnd then the which command,\nwhich is incredibly useful,\n\n530\n00:27:49.360 --> 00:27:54.030\nshows us the aliases if we've got one and\nwhere the program actually resides.\n\n531\n00:27:54.030 --> 00:27:57.410\nAll great ways to find the files if you\ndon't have the hierarchy memorized.\n\n532\n00:27:58.500 --> 00:28:00.864\nBut for the exam, you need to know both.\n\n533\n00:28:00.864 --> 00:28:03.880\nYou need to know the commands\nto quickly find this stuff.\n\n534\n00:28:03.880 --> 00:28:06.540\nAnd you need to know the file hierarchy.\n\n535\n00:28:06.540 --> 00:28:09.790\nExpect to see that, at least one or\ntwo questions on the exam.\n\n536\n00:28:09.790 --> 00:28:13.220\n>> Yeah, it seems like it's a lot to\nswallow, and it very well may be.\n\n537\n00:28:13.220 --> 00:28:16.860\nBut as you continually use Linux and\nyou're working with it more and\n\n538\n00:28:16.860 --> 00:28:19.650\nmore on a daily basis and\nyou're studying for the exam.\n\n539\n00:28:19.650 --> 00:28:22.640\nThis stuff really starts to become\nsecond nature pretty quickly,\n\n540\n00:28:22.640 --> 00:28:25.790\nso don't fret too much [LAUGH]\nabout it being overwhelming.\n\n541\n00:28:25.790 --> 00:28:28.300\nJust dig you heels in and\nkeep plowing through it,\n\n542\n00:28:28.300 --> 00:28:30.720\nand eventually you're gonna be like,\noh, yeah, I know where that stuff is.\n\n543\n00:28:30.720 --> 00:28:33.450\nAnd if I don't, well, I've got that\nfind command down, I've got locate down,\n\n544\n00:28:33.450 --> 00:28:38.090\nI've got whereis, or which, and\nplenty of other tools as well.\n\n545\n00:28:38.090 --> 00:28:40.420\nThese are the ones that they'll\nwant you to know for the exam.\n\n546\n00:28:40.420 --> 00:28:43.360\nGreat stuff, it's must-know information,\n\n547\n00:28:43.360 --> 00:28:46.090\neven if you're just going to be using\nLinux and not even taking the exam.\n\n548\n00:28:47.250 --> 00:28:49.510\n>> Daniel, I just skimmed over\nthe exam objectives real quick, and\n\n549\n00:28:49.510 --> 00:28:51.650\nthere's one more command\nwe need to mention.\n\n550\n00:28:51.650 --> 00:28:56.320\nThe type command, and\nI knew the type command output file data.\n\n551\n00:28:56.320 --> 00:28:59.500\nBut the type command is just type,\nT-Y-P-E,\n\n552\n00:28:59.500 --> 00:29:01.350\nit can show you a little\nbit of information also.\n\n553\n00:29:01.350 --> 00:29:04.530\nAnd it might turn up on the exam, so\nlet me just show you an example of that.\n\n554\n00:29:04.530 --> 00:29:08.410\nThe type command, if you just run\ntype it doesn't do much right?\n\n555\n00:29:08.410 --> 00:29:13.630\nBut if you run type followed by a command\nlike LS, see how it shows me the alias?\n\n556\n00:29:13.630 --> 00:29:15.360\nIt doesn't show me where the file resides.\n\n557\n00:29:15.360 --> 00:29:18.100\nBut it shows me the alias and what it's\ndoing here is it's not specifically\n\n558\n00:29:18.100 --> 00:29:21.380\nshowing me the alias,\nit's saying if you run this command.\n\n559\n00:29:21.380 --> 00:29:24.420\nHere is how the system will interpret it,\nthis is what the system will see.\n\n560\n00:29:24.420 --> 00:29:28.310\nAll right, and if there's an alias,\nthe system will see the alias.\n\n561\n00:29:28.310 --> 00:29:32.800\nIf there's not an alias,\nit will show the binary, right?\n\n562\n00:29:32.800 --> 00:29:34.500\nHere it's saying DIR is hash.\n\n563\n00:29:34.500 --> 00:29:36.251\nThat means it's indexed and it's got it.\n\n564\n00:29:36.251 --> 00:29:39.540\nAnd it's going to run /user/bin/dir.\n\n565\n00:29:39.540 --> 00:29:41.560\nRight, or if I do vie,\n\n566\n00:29:41.560 --> 00:29:46.250\nright, vie is not hashed, this one\nis hashed because it is assembling.\n\n567\n00:29:46.250 --> 00:29:49.800\nBut here we got slash USR\nslash bin slash vie so\n\n568\n00:29:49.800 --> 00:29:52.020\nthe type command is another way to see.\n\n569\n00:29:52.020 --> 00:29:56.520\nWhat's actually gonna be sent to the\noperating system when you run that command\n\n570\n00:29:56.520 --> 00:29:58.410\nso you can type the type command.\n\n571\n00:29:58.410 --> 00:30:03.377\nFollowed by, really,\nany kinda string like nano file.txt, and\n\n572\n00:30:03.377 --> 00:30:06.580\nit's gonna try and interpret that for me.\n\n573\n00:30:06.580 --> 00:30:09.090\nSo Nano, it lays that out,\nand then see how here,\n\n574\n00:30:09.090 --> 00:30:11.159\nit tried to actually interpret file.txt?\n\n575\n00:30:11.159 --> 00:30:12.704\nWell, I can't just run,\n\n576\n00:30:12.704 --> 00:30:17.491\nfile.text, I get that command, and\nthat's what it output right there for me.\n\n577\n00:30:17.491 --> 00:30:19.937\nAs it were separate commands so,\nyou can feed those in,\n\n578\n00:30:19.937 --> 00:30:22.910\nit'll give you the output and\nlet you know what system it sees.\n\n579\n00:30:22.910 --> 00:30:25.290\n>> Yeah, that's really helpful when it\ncomes to scripting and stuff like that,\n\n580\n00:30:25.290 --> 00:30:27.336\nbecause that's what you're\ngonna be working with.\n\n581\n00:30:27.336 --> 00:30:28.320\n>> Yeah.\n>> Good stuff, Don.\n\n582\n00:30:28.320 --> 00:30:29.690\nGood stuff.\nThank you very much for\n\n583\n00:30:29.690 --> 00:30:33.550\nthat very well-rehearsed and\nput together demonstration,\n\n584\n00:30:33.550 --> 00:30:37.260\nbecause this is the soup and\nthe nuts of working in Linux.\n\n585\n00:30:37.260 --> 00:30:40.150\nYou're gonna be doing a lot of finding,\na lot of searching.\n\n586\n00:30:40.150 --> 00:30:44.480\nHow is this command being interpreted\nby the actual command line itself?\n\n587\n00:30:44.480 --> 00:30:47.450\nThat's gonna be very helpful,\nespecially when it comes to that exam.\n\n588\n00:30:47.450 --> 00:30:49.510\nBut looks like we have done it again.\n\n589\n00:30:49.510 --> 00:30:52.650\nWe've got, plowed through\nanother episode of Linux Plus.\n\n590\n00:30:52.650 --> 00:30:54.010\nHopefully you guys have enjoyed it.\n\n591\n00:30:54.010 --> 00:30:55.472\nWe sure enjoyed making it for you.\n\n592\n00:30:55.472 --> 00:30:59.960\nThat being said, it's time to sign off for\nITProTV I've been your host Daniel Lowrie.\n\n593\n00:30:59.960 --> 00:31:00.680\n>> And I'm Don Pezet.\n\n594\n00:31:00.680 --> 00:31:02.095\n>> And we'll see you next time.\n\n595\n00:31:02.095 --> 00:31:08.250\n[MUSIC]\n\n",
          "vimeoId": "131535515"
        }
      ],
      "title": "(LX0-103) Managing Files"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1822",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-1-installing_bootloaders-061915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-1-installing_bootloaders-061915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-1-installing_bootloaders-061915-1-sm.jpg",
          "title": "Installing Bootloaders",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.763\n[MUSIC]\n\n2\n00:00:10.763 --> 00:00:11.943\nAll right everyone.\n\n3\n00:00:11.943 --> 00:00:15.163\nGreetings and welcome to another\ngreat episode of ITProTV.\n\n4\n00:00:15.163 --> 00:00:18.887\nWe are host Daniel Lowrie and here with\nme today is none other than Don Pezet.\n\n5\n00:00:18.887 --> 00:00:20.000\nHow's it going, Don?\n\n6\n00:00:20.000 --> 00:00:22.730\n>> I'm doing great Daniel,\nexcited about another episode.\n\n7\n00:00:22.730 --> 00:00:24.980\nWe're gonna be jumping right\nback into Linux Plus today.\n\n8\n00:00:24.980 --> 00:00:28.630\nAnd we're taking a look the boot\nprocess inside of Linux,\n\n9\n00:00:28.630 --> 00:00:30.500\nwhich is largely controlled\nby our boot loader.\n\n10\n00:00:30.500 --> 00:00:32.900\nSo we've got some really\ninteresting things to look at.\n\n11\n00:00:32.900 --> 00:00:36.401\nThese are things that a lot of people\nignore, you push the power button and\n\n12\n00:00:36.401 --> 00:00:38.844\nyou wait until you get into X Windows and\noff you go.\n\n13\n00:00:38.844 --> 00:00:41.878\nBut there's a lot of neat stuff that goes\non behind the scenes that we need to\n\n14\n00:00:41.878 --> 00:00:42.420\nbe aware of.\n\n15\n00:00:42.420 --> 00:00:45.480\n>> Yeah, it's kind of important that\nyour computer actually boots up and\n\n16\n00:00:45.480 --> 00:00:46.370\ndoes a lot of stuff.\n\n17\n00:00:46.370 --> 00:00:49.694\nThings like initializing different\nservices that you may need.\n\n18\n00:00:49.694 --> 00:00:50.510\nWell I don't know.\n\n19\n00:00:50.510 --> 00:00:52.885\nThe good old X systems got\nto get that up and running.\n\n20\n00:00:52.885 --> 00:00:55.820\nAnd then there's the partitions on your\nhard drive, it's gotta read from them.\n\n21\n00:00:55.820 --> 00:00:59.800\nTry to find out what actually do you want\nto read from a mount, all that goodness.\n\n22\n00:00:59.800 --> 00:01:04.080\nA lot of stuff that goes into actually\ngetting your system booted before you're\n\n23\n00:01:04.080 --> 00:01:08.190\nlive at five, you're sitting behind the\nwheel there, taking it for a drive, so.\n\n24\n00:01:08.190 --> 00:01:09.510\nDon that's what we're gonna\ntalk about today, right?\n\n25\n00:01:09.510 --> 00:01:12.317\nYou know it's funny Daniel that you\nmention it, most people ignore it.\n\n26\n00:01:12.317 --> 00:01:15.432\nAnd I know I say that too, you ignore it\nbecause you push the power button and\n\n27\n00:01:15.432 --> 00:01:17.874\nit just works,\nup until the point where it doesn't work.\n\n28\n00:01:17.874 --> 00:01:20.665\nAnd when it doesn't work that's when\nwe really need to know what the heck\n\n29\n00:01:20.665 --> 00:01:21.180\nis going on.\n\n30\n00:01:21.180 --> 00:01:24.980\nAnd kind of what that process is,\nso it's actually pretty neat.\n\n31\n00:01:24.980 --> 00:01:27.590\nUnfortunately, what we're going\nto see in this episode and\n\n32\n00:01:27.590 --> 00:01:30.960\nreally our next couple episodes,\nis this is an area where things\n\n33\n00:01:30.960 --> 00:01:35.220\nreally start to get different\nin-between Linux distributions.\n\n34\n00:01:35.220 --> 00:01:40.250\nThere is a common criticism out there\nthat Linux would be a lot more successful\n\n35\n00:01:40.250 --> 00:01:44.070\nif a lot of the distros would just settle\non a consistent way of doing things.\n\n36\n00:01:44.070 --> 00:01:48.105\nAnd for a lot of things,\nlike the Linux kernel and the GNU tools.\n\n37\n00:01:48.105 --> 00:01:50.065\nThose things, they are consistent on,\n\n38\n00:01:50.065 --> 00:01:52.885\nthere's thing you can count\non between the Linux distros.\n\n39\n00:01:52.885 --> 00:01:55.435\nBut then there's other things\nlike the boot process that can\n\n40\n00:01:55.435 --> 00:01:57.085\nvary from distro to distro.\n\n41\n00:01:57.085 --> 00:01:59.045\nOn the exam,\nwe need to know some of the main ones, but\n\n42\n00:01:59.045 --> 00:02:00.875\nin real life you might even\nencounter some others.\n\n43\n00:02:00.875 --> 00:02:03.195\n>> Yeah, Don, you just kind of\nthrew some jet fuel on that fire.\n\n44\n00:02:03.195 --> 00:02:05.905\nI know the Linux users out there,\nit's hotly debated,\n\n45\n00:02:05.905 --> 00:02:08.995\nlike should we go to some\nsort of standardization, or\n\n46\n00:02:08.995 --> 00:02:14.210\nis Linux meant to be that's whatever\nyou prefer kind of operating system.\n\n47\n00:02:14.210 --> 00:02:18.640\nAnd that does seem to be the prevailing\nargument, but it would be.\n\n48\n00:02:18.640 --> 00:02:23.330\nI would say that would be a whole lot\nmore well received if they did that.\n\n49\n00:02:23.330 --> 00:02:25.610\n>> Well, let's try to keep things\ngeneral here in the beginning.\n\n50\n00:02:25.610 --> 00:02:28.950\nWe'll talk about some stuff that applies\npretty much to every Linux distro.\n\n51\n00:02:28.950 --> 00:02:30.740\nWhen you push the power\nbutton on your computer,\n\n52\n00:02:30.740 --> 00:02:33.080\nyou're starting the boot process right?\n\n53\n00:02:33.080 --> 00:02:35.780\nAnd what your power\nbutton is doing is it's\n\n54\n00:02:35.780 --> 00:02:39.160\nbasically applying power to\nthe motherboard and initializing the BIOS.\n\n55\n00:02:39.160 --> 00:02:43.280\nNow BIOS use to do all the work,\nbut in today's computers,\n\n56\n00:02:43.280 --> 00:02:46.620\nmost of the time BIOS has\nbeen replaced by EFI right?\n\n57\n00:02:46.620 --> 00:02:49.969\nEFI is what Extensible Firmware Interface?\n\n58\n00:02:51.150 --> 00:02:52.060\nGive me a look there.\n\n59\n00:02:52.060 --> 00:02:54.170\n[LAUGH] Well, either way, EFI.\n\n60\n00:02:54.170 --> 00:02:56.230\nSo EFI was designed to replace BIOS.\n\n61\n00:02:56.230 --> 00:02:59.760\nRemember that BIOS is very old,\ndeveloped I don't even know when,\n\n62\n00:02:59.760 --> 00:03:03.030\nprobably earlier than the 70s,\nthat Basic Input Output System.\n\n63\n00:03:03.030 --> 00:03:06.900\nWhen you power on the computer, it's\nwhat says, oh, look you have a keyboard,\n\n64\n00:03:06.900 --> 00:03:07.570\nlet's turn that on.\n\n65\n00:03:07.570 --> 00:03:09.950\nOh, look you have have a mouse,\nlet's turn that on.\n\n66\n00:03:09.950 --> 00:03:12.590\nOh look the CPU should probably\nbe doing some work now.\n\n67\n00:03:12.590 --> 00:03:15.380\nOr a video card,\nmaybe you want to see some things.\n\n68\n00:03:15.380 --> 00:03:17.380\nYour BIOS is what's kicking all that on.\n\n69\n00:03:17.380 --> 00:03:22.680\nWell, when BIOS was originally developed,\nhaving 640k of memory was unheard of.\n\n70\n00:03:22.680 --> 00:03:24.300\nThat was a ton of memory.\n\n71\n00:03:24.300 --> 00:03:27.600\nSo BIOS was designed to be very,\nvery compact.\n\n72\n00:03:27.600 --> 00:03:29.850\nVery small, very efficient.\n\n73\n00:03:29.850 --> 00:03:33.910\nAnd it served us well 30 years or\nhowever long.\n\n74\n00:03:33.910 --> 00:03:35.940\nBut, as computers became more advanced.\n\n75\n00:03:35.940 --> 00:03:37.330\nAs hard drives became bigger.\n\n76\n00:03:37.330 --> 00:03:39.250\nAs large quantities of memory happened.\n\n77\n00:03:39.250 --> 00:03:42.930\nAs people wanted to do fancy things,\nlike instead of the old text based BIOS,\n\n78\n00:03:42.930 --> 00:03:44.720\nmaybe I want to have a graphic one,\n\n79\n00:03:44.720 --> 00:03:47.460\nwith a mouse where I can click\non buttons in the BIOS screens.\n\n80\n00:03:47.460 --> 00:03:48.100\nYou couldn't do that.\n\n81\n00:03:48.100 --> 00:03:49.840\nThere just wasn't enough room and\n\n82\n00:03:49.840 --> 00:03:52.600\npower inside a traditional BIOS,\nso EFI replaced it.\n\n83\n00:03:54.520 --> 00:03:57.090\nIf your computer is doing\nwhat's called legacy boot.\n\n84\n00:03:57.090 --> 00:03:59.540\nNow, traditional BIOS booting\nis called legacy boot.\n\n85\n00:03:59.540 --> 00:04:02.550\nIf you're doing legacy boot,\nyou push the power button.\n\n86\n00:04:02.550 --> 00:04:06.100\nYour BIOS starts to initialize\nall the different hardware.\n\n87\n00:04:06.100 --> 00:04:09.650\nAnd then it says, okay,\ntime to find an operating system.\n\n88\n00:04:09.650 --> 00:04:11.780\nAnd what it does is it looks\nin its BIOS configuration for\n\n89\n00:04:11.780 --> 00:04:14.450\nyour hard drives, or\nit actually looks for your boot order.\n\n90\n00:04:14.450 --> 00:04:18.600\nRight, because you can define a boot order\nin your BIOS, you say I want the CD ROM to\n\n91\n00:04:18.600 --> 00:04:22.010\nboot first, I want the USB to boot second,\nI want hard drives to boot third.\n\n92\n00:04:22.010 --> 00:04:24.880\nOr if I have five hard drives,\nI want this hard drive to boot third,\n\n93\n00:04:24.880 --> 00:04:26.390\nI want this other hard\ndrive to boot fourth.\n\n94\n00:04:26.390 --> 00:04:28.050\nRight, you specify that order.\n\n95\n00:04:28.050 --> 00:04:29.280\nSo the BIOS looks at its order,\n\n96\n00:04:29.280 --> 00:04:33.000\nand it just goes one by one down\nthat order looking at those drives.\n\n97\n00:04:33.000 --> 00:04:35.980\nAnd it looks for a Master Boot Record.\n\n98\n00:04:35.980 --> 00:04:41.120\nAnd in that Master Boot Record, There's\ntypically going to be a bootloader.\n\n99\n00:04:42.180 --> 00:04:46.660\nNow what happens from that bootloader then\nstarts to get a little bit grey, right?\n\n100\n00:04:46.660 --> 00:04:48.670\nThere's a couple of different things\nthat's gonna happen once that\n\n101\n00:04:48.670 --> 00:04:49.910\nbootloader initializes.\n\n102\n00:04:49.910 --> 00:04:53.270\nBut that's the basic steps that\nwe go through when a BIOS,\n\n103\n00:04:53.270 --> 00:04:55.400\na legacy boot system happens.\n\n104\n00:04:55.400 --> 00:04:59.280\nWith EFI it's a little bit different,\nwith EFI.\n\n105\n00:04:59.280 --> 00:05:01.620\nEFI isn't entirely stored in a BIOS,\n\n106\n00:05:01.620 --> 00:05:05.290\nlike BIOS is entirely stored\nin a chip on your motherboard.\n\n107\n00:05:05.290 --> 00:05:07.020\nBut EFI isn't.\n\n108\n00:05:07.020 --> 00:05:10.200\nThe loader for EFI is stored in\nthe chip on the motherboard, but\n\n109\n00:05:10.200 --> 00:05:14.920\nthe actual EFI BIOS itself is stored\non your hard drive somewhere, right?\n\n110\n00:05:14.920 --> 00:05:15.910\nBecause it can be big,\n\n111\n00:05:15.910 --> 00:05:18.360\nit can be way bigger then what\nyour typical BIOS chips are.\n\n112\n00:05:18.360 --> 00:05:20.640\nSo the EFI loader kicks\nin from the motherboard,\n\n113\n00:05:20.640 --> 00:05:24.720\nand then it looks to the hard drive\nto try to find the EFI boot loader.\n\n114\n00:05:24.720 --> 00:05:29.160\nAnd once it finds the EFI boot loader,\nthat's where it knows what drives or\n\n115\n00:05:29.160 --> 00:05:30.870\nCDs to boot from and\nall of that other stuff.\n\n116\n00:05:30.870 --> 00:05:33.730\nIt's a little bit of a different process,\nright?\n\n117\n00:05:33.730 --> 00:05:35.350\nAnd that's not dependent on Linux.\n\n118\n00:05:35.350 --> 00:05:38.530\nThis would apply to Windows,\nor anybody else.\n\n119\n00:05:38.530 --> 00:05:41.530\nBut it is a function of your hardware.\n\n120\n00:05:41.530 --> 00:05:43.140\nYour laptop, your desktop, your server.\n\n121\n00:05:43.140 --> 00:05:45.780\nThey are the ones that make that decision.\n\n122\n00:05:45.780 --> 00:05:46.800\nNow.\n\n123\n00:05:46.800 --> 00:05:50.180\nEFI gives us two big\nimprovements over buyouts.\n\n124\n00:05:50.180 --> 00:05:53.010\nThe biggest improvement is\nit's graphically bigger.\n\n125\n00:05:53.010 --> 00:05:56.630\nWe can have graphical screens,\nwe can have mouse-driven menus and\n\n126\n00:05:56.630 --> 00:05:58.490\nthings without the headaches\nof dealing with BIOS.\n\n127\n00:05:58.490 --> 00:06:01.380\nThe other thing is it gives\nus a lot more flexibility.\n\n128\n00:06:01.380 --> 00:06:04.680\nWe can easily add in many,\nmany operating systems,\n\n129\n00:06:04.680 --> 00:06:08.610\nmany different partitions to boot from,\nand it really does a great job with that.\n\n130\n00:06:08.610 --> 00:06:11.120\nBut the other thing it\ngives us is security.\n\n131\n00:06:11.120 --> 00:06:12.580\nEFI supports Secure Boot.\n\n132\n00:06:12.580 --> 00:06:14.850\nAnd what Secure Boot says is,\n\n133\n00:06:14.850 --> 00:06:18.750\nI will only load bootloaders\nthat are digitally signed.\n\n134\n00:06:20.260 --> 00:06:22.260\nAnd this has created some controversy.\n\n135\n00:06:22.260 --> 00:06:25.540\nA lot of people are really resistant\nto EFI because of this move.\n\n136\n00:06:25.540 --> 00:06:28.870\nBecause the way the Secure Boot\nworks is it says\n\n137\n00:06:28.870 --> 00:06:31.860\nIf you're going to load a bootloader,\nit has to be digitally signed.\n\n138\n00:06:31.860 --> 00:06:34.590\nAnd if somebody modifies the bootloader,\nthe digital signature doesn't match,\n\n139\n00:06:34.590 --> 00:06:35.550\nand it won't boot it.\n\n140\n00:06:35.550 --> 00:06:40.010\nThey do that for rootkits and\nboot record infection, virus protection.\n\n141\n00:06:40.010 --> 00:06:42.860\nSo it really does solve a lot of problems\nwith exploits that are out there.\n\n142\n00:06:43.870 --> 00:06:48.000\nBut when you buy a computer,\nthe digital signature for\n\n143\n00:06:48.000 --> 00:06:52.100\nyour bootloader has to be in\nthe hardware for your motherboard.\n\n144\n00:06:52.100 --> 00:06:56.070\nSo, if Daniel decides he's gonna\ncreate Daniel Linux, right.\n\n145\n00:06:56.070 --> 00:06:59.625\nAnd so next month you go and you download\nthe first release of Daniel Linux 1.0.\n\n146\n00:06:59.625 --> 00:07:02.050\nWell, he's gonna have a boot loader.\n\n147\n00:07:02.050 --> 00:07:05.570\nIs the digital signature for his boot\nloader gonna be in your motherboard?\n\n148\n00:07:05.570 --> 00:07:06.135\nProbably not.\n\n149\n00:07:06.135 --> 00:07:09.075\nWell, unless you have a lot\nmore money than I think you do.\n\n150\n00:07:09.075 --> 00:07:10.070\n[LAUGH]\n>> You know how it is, Don\n\n151\n00:07:10.070 --> 00:07:10.970\n>> We don't like to talk about\n\n152\n00:07:10.970 --> 00:07:12.130\nthat on the air.\n\n153\n00:07:12.130 --> 00:07:14.440\nSo, that's a big problem.\n\n154\n00:07:14.440 --> 00:07:18.190\nSo the Linux community as a whole said,\nwhat's really gonna happen is,\n\n155\n00:07:18.190 --> 00:07:22.030\nwhose boot loader do you think is\ngonna be on everybody's motherboard?\n\n156\n00:07:22.030 --> 00:07:23.000\nMicrosoft's.\n\n157\n00:07:23.000 --> 00:07:23.500\nRight?\n\n158\n00:07:23.500 --> 00:07:26.900\nYou can count on Microsoft's digital\nsignature being in the motherboard of\n\n159\n00:07:26.900 --> 00:07:28.060\nevery manufacturer.\n\n160\n00:07:28.060 --> 00:07:30.300\nCuz everybody's gonna kinda support that.\n\n161\n00:07:30.300 --> 00:07:31.795\nMaybe RedHat, right?\n\n162\n00:07:31.795 --> 00:07:32.450\n>> Mm-hm.\n\n163\n00:07:32.450 --> 00:07:35.450\n>> Because a lot of people swear,\nmaybe Unbuntu.\n\n164\n00:07:35.450 --> 00:07:37.240\nBut the other guys,\nwhat about the little guys?\n\n165\n00:07:37.240 --> 00:07:38.970\nThey're gonna have to go to Microsoft.\n\n166\n00:07:38.970 --> 00:07:42.740\nAnd they're gonna have to say, hey, would\nyou mind signing our boot loader for us,\n\n167\n00:07:42.740 --> 00:07:44.530\ncause yours is already trusted.\n\n168\n00:07:44.530 --> 00:07:45.650\nAnd what's Microsoft going to say?\n\n169\n00:07:46.710 --> 00:07:47.650\nWhy would we do that?\n\n170\n00:07:47.650 --> 00:07:49.050\nWhy would we sign your boot loader.\n\n171\n00:07:49.050 --> 00:07:52.918\nWhy would we take responsibility for\npotential exploits in your code?\n\n172\n00:07:52.918 --> 00:07:59.547\nAnd so a lot of people worry the secure\nboot was gonna kill off the minor distros.\n\n173\n00:07:59.547 --> 00:08:03.212\nIt hasn't actually turned out to be\nthat big of an issue mostly because most\n\n174\n00:08:03.212 --> 00:08:06.000\nmotherboards you can just\nturn off secure boot.\n\n175\n00:08:06.000 --> 00:08:09.240\nYou kinda lose that security,\nbut Red Hat and Canonical,\n\n176\n00:08:09.240 --> 00:08:13.520\nthe guys who make Red Hat Enterprise Linux\nand Ubuntu, they got digital signatures.\n\n177\n00:08:13.520 --> 00:08:15.390\nIt's in most motherboards\nthat are out there.\n\n178\n00:08:15.390 --> 00:08:18.240\nMicrosoft has actually\nsigned some bootloaders for\n\n179\n00:08:18.240 --> 00:08:21.080\npeople, so we've got that flexibility, and\n\n180\n00:08:21.080 --> 00:08:24.930\nwhen somebody creates a distro, they\nrarely create their own bootloader, right?\n\n181\n00:08:24.930 --> 00:08:29.210\nIf you look at Linux Mint,\nthey're built off of Debian or\n\n182\n00:08:29.210 --> 00:08:30.920\nUbuntu is built off of Debian too, but\n\n183\n00:08:30.920 --> 00:08:35.350\nwith Linux Mint, they just use the Debian\nbootloader that has already been signed.\n\n184\n00:08:35.350 --> 00:08:37.070\nSo, we work around that, and\n\n185\n00:08:37.070 --> 00:08:41.170\nit's not such a big deal, but that's why\nthere was a lot of resistance to EFI.\n\n186\n00:08:41.170 --> 00:08:44.070\nIf you're still resisting EFI,\nit's not a good thing.\n\n187\n00:08:44.070 --> 00:08:45.834\nRight?\nYou should go ahead and use it.\n\n188\n00:08:45.834 --> 00:08:47.916\nDon't hold back on that legacy stuff,\n\n189\n00:08:47.916 --> 00:08:51.143\nbecause you are missing out on\nsome of the protection there.\n\n190\n00:08:51.143 --> 00:08:55.940\nAll right, now once we get past that,\nnow is where the bootloader happens.\n\n191\n00:08:55.940 --> 00:08:56.576\nRight?\nWell,\n\n192\n00:08:56.576 --> 00:08:59.630\nEFI kind of has it's own little\nbootloader, IOPS doesn't.\n\n193\n00:08:59.630 --> 00:09:03.770\nThis is the first time we load\nthe true bootloader for Linux.\n\n194\n00:09:03.770 --> 00:09:07.820\nNow in Linux, there's a number of\ndifferent bootloaders that are out there.\n\n195\n00:09:07.820 --> 00:09:10.900\nThe most popular one is called Grub.\n\n196\n00:09:10.900 --> 00:09:13.270\nGrub has been around a long time.\n\n197\n00:09:13.270 --> 00:09:17.280\nIt stands for\nthe grand unified bootloader, GRUB.\n\n198\n00:09:18.610 --> 00:09:20.410\nBefore Grub,\nthere was a different bootloader.\n\n199\n00:09:20.410 --> 00:09:23.150\nThere's one called LILO,\nwhich was the Linux loader.\n\n200\n00:09:23.150 --> 00:09:28.150\nSo when I first installed Linux, when I\ninstalled Slackware Linux back in 1993 or\n\n201\n00:09:28.150 --> 00:09:30.800\nwhenever it was I installed that,\nit was LILO,\n\n202\n00:09:30.800 --> 00:09:32.730\nthat's what you used to boot that up.\n\n203\n00:09:32.730 --> 00:09:36.870\nAnd LILO was okay, it was just\ntext-based and that was about it.\n\n204\n00:09:36.870 --> 00:09:40.490\nAnd it didn't support certain things,\ndual-boot was really difficult with it.\n\n205\n00:09:40.490 --> 00:09:42.880\nGRUB sought to fix all that.\n\n206\n00:09:42.880 --> 00:09:45.600\nIt added it where you could have\na graphical boot screen and\n\n207\n00:09:45.600 --> 00:09:48.810\nmenu that you can have an easy to\nedit list of machines to boot,\n\n208\n00:09:48.810 --> 00:09:50.680\nit can handle dual-boot really well.\n\n209\n00:09:50.680 --> 00:09:52.980\nGRUB really added a lot of functionality.\n\n210\n00:09:52.980 --> 00:09:57.950\nAnd it did such a good job that almost\nevery distro out there uses GRUB.\n\n211\n00:09:57.950 --> 00:10:01.380\nI can't think of a major distro\nright now that doesn't use GRUB.\n\n212\n00:10:01.380 --> 00:10:02.160\nDo you know one?\n\n213\n00:10:02.160 --> 00:10:05.880\n>> I can't think of any, but I would\ndefinitely say that GRUB is probably one\n\n214\n00:10:05.880 --> 00:10:11.330\nof their best features that they have put\ninto most distributions and made Linux\n\n215\n00:10:11.330 --> 00:10:15.640\nhave more of a foothold in the marketplace\nbecause it's now easier to install.\n\n216\n00:10:15.640 --> 00:10:16.860\nIt's now easier to work with.\n\n217\n00:10:16.860 --> 00:10:20.140\nThat installation used to be\nreally the stumbling stone for\n\n218\n00:10:20.140 --> 00:10:22.230\na lot of people trying to get into Linux.\n\n219\n00:10:22.230 --> 00:10:25.170\nSo when they went away from LILO and\nsaid, whoa,\n\n220\n00:10:25.170 --> 00:10:29.470\nwe have this nice graphical ability\nto bootload, well, let's use that.\n\n221\n00:10:29.470 --> 00:10:32.670\n>> So that everybody started going to\nGRUB, and it made that a whole lot easier.\n\n222\n00:10:32.670 --> 00:10:36.450\nThat wasn't so painstaking trying\nto get something installed.\n\n223\n00:10:36.450 --> 00:10:39.140\nAnd now we start seeing\na rise to Linux use.\n\n224\n00:10:39.140 --> 00:10:40.900\n>> Yeah.\nNow there are other ones out there.\n\n225\n00:10:40.900 --> 00:10:42.900\nYou can still run LILO, if you want.\n\n226\n00:10:42.900 --> 00:10:47.840\nThere's Refi,\nis one that kinda builds upon EFI.\n\n227\n00:10:47.840 --> 00:10:49.330\nThere's a few others that are out there.\n\n228\n00:10:49.330 --> 00:10:51.500\nSo there are other bootloaders.\n\n229\n00:10:51.500 --> 00:10:52.840\nBut it's just GRUB is really prevalent.\n\n230\n00:10:52.840 --> 00:10:55.640\nAnd so on the exam, GRUB is\nthe only one that you're gonna see.\n\n231\n00:10:55.640 --> 00:11:00.650\nUnfortunately, there's not a lot\nof consistency inside of GRUB.\n\n232\n00:11:00.650 --> 00:11:02.800\nYou've got GRUB and\nyou've got GRUB version two.\n\n233\n00:11:02.800 --> 00:11:05.590\nSo the original version of GRUB, well,\n\n234\n00:11:05.590 --> 00:11:09.540\nsometimes we refer to it as GRUB,\nsometimes we refer to it as GRUB Legacy.\n\n235\n00:11:09.540 --> 00:11:11.740\nSometimes it's referred\nto as GRUB version 1.\n\n236\n00:11:11.740 --> 00:11:16.560\nThen you got GRUB version 2, and when\ndistros started to apply GRUB version 2,\n\n237\n00:11:16.560 --> 00:11:20.930\nsome of the them chose to store its\nfiles in a different directory.\n\n238\n00:11:20.930 --> 00:11:24.130\nOthers stored it in the same directory as\nthe original GRUB, effectively overriding\n\n239\n00:11:24.130 --> 00:11:26.930\nit, making it really difficult to tell\nif you're running GRUB version 1 or\n\n240\n00:11:26.930 --> 00:11:28.000\nversion 2.\n\n241\n00:11:28.000 --> 00:11:31.130\nAnd unfortunately,\nthere's no real solution about it.\n\n242\n00:11:31.130 --> 00:11:34.210\nIt's not the developers of GRUB\nthat are to blame for that.\n\n243\n00:11:34.210 --> 00:11:36.190\nIt's not the Linux kernel\nthat's to blame for that.\n\n244\n00:11:36.190 --> 00:11:37.725\nIt's the distros.\n\n245\n00:11:37.725 --> 00:11:40.630\nDebian might choose to put\nthe file in one place, and\n\n246\n00:11:40.630 --> 00:11:42.880\nRed Hat might choose to put\nthe files in another place.\n\n247\n00:11:42.880 --> 00:11:46.150\nAnd that creates a challenge for us.\n\n248\n00:11:46.150 --> 00:11:52.290\nBut for the most part, our GRUB files\nare gonna be stored in /boot/grub.\n\n249\n00:11:52.290 --> 00:11:54.420\nThat's kind of where we expect it to be.\n\n250\n00:11:54.420 --> 00:11:55.686\nBut on some distros it moves around.\n\n251\n00:11:55.686 --> 00:11:56.836\nLet me show you an example here.\n\n252\n00:11:56.836 --> 00:12:00.490\nThis is a CentOS 7 machine.\n\n253\n00:12:00.490 --> 00:12:02.910\nIt'd be the same as Red Hat 7.\n\n254\n00:12:02.910 --> 00:12:06.560\nAnd on my machine, if I go into /boot and\n\n255\n00:12:06.560 --> 00:12:10.300\nI pull up a directory, see how I've\ngot a grub folder and a grub2?\n\n256\n00:12:11.400 --> 00:12:15.730\nWell the original version of GRUB put\nits files in the grub folder right?\n\n257\n00:12:15.730 --> 00:12:17.980\nAnd so\nI would go into this grub folder and\n\n258\n00:12:17.980 --> 00:12:19.650\nI would take a look and I'd find stuff.\n\n259\n00:12:19.650 --> 00:12:22.260\nWell, the only thing I see\nin here is a splash screen,\n\n260\n00:12:22.260 --> 00:12:25.670\nthat's it, like a little animated screen\nthat happens when your computer boots.\n\n261\n00:12:25.670 --> 00:12:30.660\nBut if I go into grub two and\nI take a look in here, here I can\n\n262\n00:12:30.660 --> 00:12:34.030\nsee the GRUB files, all right, there is\nthe GRUB configuration file right there.\n\n263\n00:12:35.100 --> 00:12:40.380\nWell, if I have distro that puts\nthe GRUB files in the same directory\n\n264\n00:12:40.380 --> 00:12:42.840\nwhether it's Version 1 or Version 2,\nhow do I know the difference, right?\n\n265\n00:12:42.840 --> 00:12:46.545\nIf I take a look at,\nthis is a Debian machine.\n\n266\n00:12:46.545 --> 00:12:49.420\nSo here I'm on a Debian machine and\n\n267\n00:12:49.420 --> 00:12:53.392\nI go to /boot, and I take a look and\nI just have a grub folder, all right?\n\n268\n00:12:53.392 --> 00:12:55.880\nAnd if I go into grub and\n\n269\n00:12:55.880 --> 00:12:58.755\nI pull up a directory, boy,\nI see a lot of stuff in here, don't I?\n\n270\n00:12:58.755 --> 00:13:01.870\n>> Mm-hm.\n>> A lot of modules and things like that.\n\n271\n00:13:01.870 --> 00:13:03.880\nWell, let's just kinda\nfilter some of that out and\n\n272\n00:13:03.880 --> 00:13:06.750\njust look at files that deal with GRUB.\n\n273\n00:13:06.750 --> 00:13:08.960\nSee how I've got grub.cfg?\n\n274\n00:13:08.960 --> 00:13:13.820\nWell, GRUB version two uses grub.cfg.\n\n275\n00:13:13.820 --> 00:13:15.750\nGRUB version one doesn't.\n\n276\n00:13:15.750 --> 00:13:19.900\nSo, even on /boot/grub,\nthis is actually GRUB version two, right?\n\n277\n00:13:19.900 --> 00:13:21.790\nThat's the confusion that we get.\n\n278\n00:13:21.790 --> 00:13:23.990\nThat's what makes it hard\nto tell the difference.\n\n279\n00:13:23.990 --> 00:13:27.566\nJust because you're doing /boot/grub\ndoesn't mean it's GRUB version one,\n\n280\n00:13:27.566 --> 00:13:28.892\nit could be GRUB version two.\n\n281\n00:13:28.892 --> 00:13:30.614\nYou've really gotta look for\nthose config files.\n\n282\n00:13:30.614 --> 00:13:32.470\nAll right?\n\n283\n00:13:32.470 --> 00:13:35.620\nIf you see grub.cfg,\nyou're running GRUB version 2, right?\n\n284\n00:13:35.620 --> 00:13:37.270\nAnd that's what I've got here in Debian.\n\n285\n00:13:37.270 --> 00:13:38.690\nThat was Debian 7.\n\n286\n00:13:38.690 --> 00:13:44.221\nAnd if I look at CentOS 7,\nI've got grub.cfg.\n\n287\n00:13:44.221 --> 00:13:45.484\nThere's the real one right there.\n\n288\n00:13:45.484 --> 00:13:48.540\nin /boot/grub2.\n\n289\n00:13:48.540 --> 00:13:49.390\nAll right.\n\n290\n00:13:49.390 --> 00:13:51.322\nLet's jump back to like CentOS 6.\n\n291\n00:13:51.322 --> 00:13:54.140\nSo, this is the previous\nversion of CentOS.\n\n292\n00:13:54.140 --> 00:13:59.290\nIf I go into /boot and I take a look,\nI just have a grub folder.\n\n293\n00:13:59.290 --> 00:14:03.310\nAnd if I go into grub I\ndon't have a grub.cfg,\n\n294\n00:14:03.310 --> 00:14:07.160\nI've got a grub.conf, all right.\n\n295\n00:14:07.160 --> 00:14:11.743\nGRUB version one stored its\nconfiguration file in grub.conf and\n\n296\n00:14:11.743 --> 00:14:14.800\nmenu.list, those two files.\n\n297\n00:14:14.800 --> 00:14:15.700\nSo when you go out on the internet,\n\n298\n00:14:15.700 --> 00:14:17.600\nyou'll see a lot of instructions\nwhere people say like, oh yeah,\n\n299\n00:14:17.600 --> 00:14:19.660\njust go in and edit menu.list.\n\n300\n00:14:19.660 --> 00:14:22.640\nAnd you go and look and\nyou're like I don't have menu.lst.\n\n301\n00:14:22.640 --> 00:14:24.270\nWell, the instructions you found were for\n\n302\n00:14:24.270 --> 00:14:28.090\nGRUB version one and\nthis is GRUB version two or vice versa.\n\n303\n00:14:28.090 --> 00:14:29.850\nThat's where you start to\nget those things mixed up.\n\n304\n00:14:29.850 --> 00:14:31.000\nSo be aware of that.\n\n305\n00:14:31.000 --> 00:14:34.670\nThe variations are there, but\nGRUB basically works the same way.\n\n306\n00:14:34.670 --> 00:14:37.300\nYour bootloader is GRUB, typically.\n\n307\n00:14:37.300 --> 00:14:39.180\nYour bios hunts the hard drive,\n\n308\n00:14:39.180 --> 00:14:42.970\nfinds the active partition, well,\nactive is what we boot to by default.\n\n309\n00:14:42.970 --> 00:14:45.300\nIt looks for the master boot\nrecord is what is does first.\n\n310\n00:14:45.300 --> 00:14:48.200\nSo looks for the hard drive,\nfinds the master boot record,\n\n311\n00:14:48.200 --> 00:14:52.300\nthen it locates GRUB and\nit runs GRUB and it executes.\n\n312\n00:14:52.300 --> 00:14:57.960\nAnd GRUB displays a menu for us, a menu\nof operating systems that we can boot.\n\n313\n00:14:57.960 --> 00:15:00.790\nIn GRUB version one, that menu is\nstored right here in here in menu.lst.\n\n314\n00:15:00.790 --> 00:15:05.820\nAnd then add have other configurations\nin a separate file in grub.conf.\n\n315\n00:15:05.820 --> 00:15:09.380\nIn GRUB version two, they just combined\nit into one file, that grub.cfg.\n\n316\n00:15:09.380 --> 00:15:10.640\nRight?\n\n317\n00:15:10.640 --> 00:15:13.010\nIt's got the menu and\nthe other options in one file.\n\n318\n00:15:13.010 --> 00:15:14.600\nThey made it a little easier for us.\n\n319\n00:15:14.600 --> 00:15:15.240\nRight?\n\n320\n00:15:15.240 --> 00:15:17.930\nWell, they made it easier,\nbut then the distros went and\n\n321\n00:15:17.930 --> 00:15:20.060\nmade it more confusing because now\nit's harder to tell them apart.\n\n322\n00:15:21.160 --> 00:15:25.860\nBut in that configuration file, it knows\nwhat operating systems are available,\n\n323\n00:15:25.860 --> 00:15:28.310\nwhat ones we can boot\nto if we want to boot,\n\n324\n00:15:28.310 --> 00:15:30.720\nwhat ones should be the default\nif we don't pick anything.\n\n325\n00:15:30.720 --> 00:15:33.410\nIf I just turn the computer on and\nwalk away, what OS does it boot?\n\n326\n00:15:33.410 --> 00:15:36.580\nWell, it's got the default in there, and\nit will boot those up and load them.\n\n327\n00:15:36.580 --> 00:15:38.450\nThat's what a bootloader does.\n\n328\n00:15:38.450 --> 00:15:43.830\nAnd once it knows what operating system\nto boot, it then calls what's called,\n\n329\n00:15:43.830 --> 00:15:45.560\nwell it calls the Linux kernel first.\n\n330\n00:15:45.560 --> 00:15:49.420\nIt intitializes the kernel and the kernel\nruns its initialization process.\n\n331\n00:15:49.420 --> 00:15:52.046\nAnd we're going to cover the\ninitialization process in another episode.\n\n332\n00:15:52.046 --> 00:15:54.318\nThat's another one where there's a bit\nof a schism in the Linux community.\n\n333\n00:15:54.318 --> 00:15:58.776\nBut on the bootloader side, it's really\nGRUB that we need to worry about.\n\n334\n00:15:58.776 --> 00:16:01.273\nAnd so I want to spend some time\ntalking about how GRUB works and\n\n335\n00:16:01.273 --> 00:16:02.388\nhow its configuration is.\n\n336\n00:16:02.388 --> 00:16:04.784\nHow we can reinstall it\nif it gets damaged, and\n\n337\n00:16:04.784 --> 00:16:06.635\nkind of walk through that process.\n\n338\n00:16:06.635 --> 00:16:08.550\nThat's what we'll do for\nthe rest of this episode.\n\n339\n00:16:09.940 --> 00:16:12.680\nAll right,\nwell let's start with GRUB version 1,\n\n340\n00:16:12.680 --> 00:16:14.570\nthe original GRUB, or GRUB legacy.\n\n341\n00:16:14.570 --> 00:16:16.680\nOn the exam,\nyou could see any of those names for it.\n\n342\n00:16:16.680 --> 00:16:19.620\nGRUB, GRUB legacy, or GRUB version 1.\n\n343\n00:16:19.620 --> 00:16:25.505\nWith GRUB version 1,\nthere's two main files that I care about,\n\n344\n00:16:25.505 --> 00:16:31.285\n/boot/grub/menu.lst, and\n/boot/grub/grub.conf.\n\n345\n00:16:31.285 --> 00:16:33.637\nThose are the two files that\nreally make a difference to me.\n\n346\n00:16:33.637 --> 00:16:36.930\nAll the other files could come and\ngo, they don't really matter.\n\n347\n00:16:36.930 --> 00:16:39.600\nI mean, they serve a purpose,\nbut you could delete them all and\n\n348\n00:16:39.600 --> 00:16:41.210\nyou'd probably still be able to boot.\n\n349\n00:16:41.210 --> 00:16:42.250\nYou really just need these two.\n\n350\n00:16:43.760 --> 00:16:48.368\nIf we take a look at grub.conf.\n\n351\n00:16:48.368 --> 00:16:52.474\nLet me just pull this one up on my screen.\n\n352\n00:16:52.474 --> 00:16:55.547\nActually I'm just gonna su this one cuz\nwe're gonna have to do a lot of root\n\n353\n00:16:55.547 --> 00:16:56.710\nstuff today.\n\n354\n00:16:56.710 --> 00:17:01.930\nSo, let me just pull this file up and\nwe'll get a chance to see what's in there.\n\n355\n00:17:01.930 --> 00:17:04.680\nWhen I look in grub.conf, what do I see?\n\n356\n00:17:04.680 --> 00:17:07.180\nWell, first off,\nI see a bunch of comments up here.\n\n357\n00:17:07.180 --> 00:17:08.870\nNone of these lines actually apply, right?\n\n358\n00:17:08.870 --> 00:17:11.790\nAnything with a pound symbol\nat the beginning gets ignored.\n\n359\n00:17:11.790 --> 00:17:13.390\nThese are just notes for us.\n\n360\n00:17:13.390 --> 00:17:16.840\nThey're telling us here,\nthis file was generated by anaconda.\n\n361\n00:17:16.840 --> 00:17:20.820\nAnaconda is the system installer for\nRed Hat in CentOS.\n\n362\n00:17:20.820 --> 00:17:26.120\nSo, when I installed CentOS,\nanaconda made this file for me, all right?\n\n363\n00:17:26.120 --> 00:17:30.970\nI can still edit it to meet my needs,\nbut I shouldn't have to, right?\n\n364\n00:17:30.970 --> 00:17:32.730\nAnd it's telling me\nhere that if I edit it,\n\n365\n00:17:32.730 --> 00:17:35.220\nI don't have to rerun GRUB\nafter making changes.\n\n366\n00:17:35.220 --> 00:17:37.370\nIt'll just take effect the next\ntime that I reboot, right?\n\n367\n00:17:37.370 --> 00:17:39.340\nI don't have to do anything special.\n\n368\n00:17:39.340 --> 00:17:41.218\nWe'll see with GRUB version 2\nthere actually is something we\n\n369\n00:17:41.218 --> 00:17:41.840\nhave to do special.\n\n370\n00:17:44.190 --> 00:17:47.380\nNow, after that,\nwe see some basic options here.\n\n371\n00:17:47.380 --> 00:17:51.790\nAnd these basic options are telling it\nhow we want the software to function.\n\n372\n00:17:51.790 --> 00:17:53.956\nFirst, we've got default=0.\n\n373\n00:17:53.956 --> 00:17:58.210\ndefault=0 says I'm about to give you\na list of operating systems, and\n\n374\n00:17:58.210 --> 00:18:00.910\nthe list of operating systems,\nwe start numbering it with 0.\n\n375\n00:18:00.910 --> 00:18:04.480\nSo, if I have three OS's,\nI'll have 0, 1, and 2.\n\n376\n00:18:04.480 --> 00:18:07.350\nWe're saying the default one is 0.\n\n377\n00:18:07.350 --> 00:18:10.778\nIf I want the second one to be\nthe default, I would change that to a 1.\n\n378\n00:18:10.778 --> 00:18:15.045\ndefault=1 would mean that I want,\n\n379\n00:18:15.045 --> 00:18:19.015\nnot the first OS on the list, but\nthe second OS on the list to boot.\n\n380\n00:18:19.015 --> 00:18:21.495\nIn fact,\nlet me switch some editing in this.\n\n381\n00:18:21.495 --> 00:18:26.205\nAnd we'll get a chance to see\nhow we would change that.\n\n382\n00:18:27.525 --> 00:18:28.286\nWhoops.\n\n383\n00:18:28.286 --> 00:18:34.433\nLet me get in the right directory.\n\n384\n00:18:34.433 --> 00:18:35.253\nOkay.\n\n385\n00:18:35.253 --> 00:18:38.756\nLet's [LAUGH] I can't seem to type.\n\n386\n00:18:38.756 --> 00:18:40.180\nThere we go, all right.\n\n387\n00:18:40.180 --> 00:18:43.172\nSo, if I want the default to be the second\nOS on my list, I would just come in here,\n\n388\n00:18:43.172 --> 00:18:45.680\nand I would change that 0 to a 1, or\nif I wanted it to be the third OS,\n\n389\n00:18:45.680 --> 00:18:46.920\nI would come and change it to a 2.\n\n390\n00:18:46.920 --> 00:18:50.470\nYou specify right there,\nI'm picking who the default OS is.\n\n391\n00:18:50.470 --> 00:18:51.840\nAnd then what the time out is.\n\n392\n00:18:51.840 --> 00:18:54.930\nHow long do I wait before\nI just boot to the defaul.\n\n393\n00:18:54.930 --> 00:18:57.640\nMy default was 0, with a timeout of 5.\n\n394\n00:18:57.640 --> 00:19:01.300\nI will have 5 seconds to pick\na different OS in that menu.\n\n395\n00:19:02.340 --> 00:19:05.030\nIf I don't pick an OS,\nit's gonna boot to 0.\n\n396\n00:19:05.030 --> 00:19:07.480\nAfter that, a splash image.\n\n397\n00:19:07.480 --> 00:19:08.500\nWe're gonna show a pretty picture.\n\n398\n00:19:10.410 --> 00:19:12.040\nIf we want to show a pretty\npicture when we boot up,\n\n399\n00:19:12.040 --> 00:19:15.440\ninstead of just showing raw text,\nwe can give a splash image.\n\n400\n00:19:15.440 --> 00:19:18.310\nThere was an episode we did earlier where\nwe showed how to set our system up to boot\n\n401\n00:19:18.310 --> 00:19:20.560\nto a command line, and\nwe didn't want a splash image.\n\n402\n00:19:20.560 --> 00:19:22.400\nWe actually came in and we disabled that.\n\n403\n00:19:22.400 --> 00:19:25.889\nBut here, I would want that so,\nit'll look pretty.\n\n404\n00:19:25.889 --> 00:19:27.604\nNotice how they reference it though.\n\n405\n00:19:27.604 --> 00:19:32.170\nSee how it's referencing\nhd0,0/grub/splash.\n\n406\n00:19:32.170 --> 00:19:36.730\nAnd that's because when the boot\nloader runs udev hasn't run yet.\n\n407\n00:19:36.730 --> 00:19:40.847\nAnd so, we don't necessarily have our\nexact drive definitions, like /dev,\n\n408\n00:19:40.847 --> 00:19:41.600\n/ whatever.\n\n409\n00:19:41.600 --> 00:19:44.610\nA lot of times they do still work,\nbut sometimes they don't and\n\n410\n00:19:44.610 --> 00:19:45.650\nsometimes they're not reliable.\n\n411\n00:19:45.650 --> 00:19:49.444\nAnd so here it's just saying, look at\nthe very first hard drive, hard drive 0.\n\n412\n00:19:49.444 --> 00:19:54.146\nAnd, find that one, and\nlook for /grub/splash.\n\n413\n00:19:54.146 --> 00:19:56.015\nAll right, then we've got hiddenmenu.\n\n414\n00:19:57.185 --> 00:20:00.800\nhiddenmenu is just a note that says,\nthe menu can be hidden by default, and\n\n415\n00:20:00.800 --> 00:20:03.470\nit'll do like a press any key to see\nthe menu, and if you don't press a key,\n\n416\n00:20:03.470 --> 00:20:04.500\nyou don't see it.\n\n417\n00:20:04.500 --> 00:20:06.260\nYou can turn that off,\nif you want, or turn it on.\n\n418\n00:20:06.260 --> 00:20:08.060\nThat option's available.\n\n419\n00:20:08.060 --> 00:20:09.950\nThen, title.\n\n420\n00:20:09.950 --> 00:20:11.690\nTitle indicates an operating system.\n\n421\n00:20:11.690 --> 00:20:13.550\nSo I've got an operating system here,\nCentOS, right?\n\n422\n00:20:13.550 --> 00:20:15.560\nThere's my kernel version and all that.\n\n423\n00:20:15.560 --> 00:20:18.265\nIt's got the root,\nwhich is where its hard drive is gonna be,\n\n424\n00:20:18.265 --> 00:20:22.275\nwhere we can find it, and\nthen its kernel, and it's initialization.\n\n425\n00:20:22.275 --> 00:20:28.655\nSo for the kernel, it needs to look for a\nfile called vmlinuz-2.6.32 blah blah blah.\n\n426\n00:20:28.655 --> 00:20:32.602\nThat's the kernel it'll load,\nfollowed by all those kernel options.\n\n427\n00:20:32.602 --> 00:20:35.242\nAnd next is initrd, and\nwhen it initializes,\n\n428\n00:20:35.242 --> 00:20:38.612\nwhat RAM disk is it gonna use for\nthe init process, and this defines that.\n\n429\n00:20:38.612 --> 00:20:41.602\nThere's a little image file stored on\nyour drive that it's gonna load, and\n\n430\n00:20:41.602 --> 00:20:42.882\nthat's gonna kick off the initialization.\n\n431\n00:20:44.030 --> 00:20:46.930\nAnd after that it turns\nover control to Linux.\n\n432\n00:20:46.930 --> 00:20:49.240\nThe kernel takes over and\nruns the rest of the show from there,\n\n433\n00:20:49.240 --> 00:20:50.150\nthe init process runs.\n\n434\n00:20:51.530 --> 00:20:56.460\nSo all of that is right\nhere in my grub.conf.\n\n435\n00:20:56.460 --> 00:21:00.170\nIf I wanna add another OS to this list,\nI can come in here and\n\n436\n00:21:00.170 --> 00:21:03.790\nI can just say title, and\nI can start to specify what I wanna do.\n\n437\n00:21:03.790 --> 00:21:07.640\nNow, maybe I wanna add\nanother Linux install.\n\n438\n00:21:07.640 --> 00:21:11.230\nI would just kinda duplicate what we see\nabove and change it to reflect Linux.\n\n439\n00:21:11.230 --> 00:21:15.890\nBut if I wanna do a Windows install,\nthat's always a fun one.\n\n440\n00:21:15.890 --> 00:21:18.250\nWe can come in and\nwe can say, title Windows 7.\n\n441\n00:21:18.250 --> 00:21:21.660\nMaybe I've got Windows 7 on this machine,\nand that's what I want to boot.\n\n442\n00:21:21.660 --> 00:21:23.460\nSo I give it a title.\n\n443\n00:21:23.460 --> 00:21:25.228\nAnd then I can start to set some options.\n\n444\n00:21:25.228 --> 00:21:27.010\nAnd for Windows there's not\na whole lot of options.\n\n445\n00:21:27.010 --> 00:21:31.430\nWe don't specify a kernel,\nbecause Windows has it's own boot loader.\n\n446\n00:21:31.430 --> 00:21:33.890\nSo what I'm going to do is\nwhat's called chain loading.\n\n447\n00:21:33.890 --> 00:21:37.410\nChain loading is where GRUB,\nmy boot loader, runs and\n\n448\n00:21:37.410 --> 00:21:39.680\nthen it calls another boot loader.\n\n449\n00:21:39.680 --> 00:21:41.945\nWindows has it's own boot loader so\nwe'll just call it.\n\n450\n00:21:41.945 --> 00:21:48.519\nI'll say, title Windows 7, and\nthen I'll say rootnoverify.\n\n451\n00:21:48.519 --> 00:21:50.272\nNow this is kind of important.\n\n452\n00:21:50.272 --> 00:21:54.590\nThe rootnoverify, up here I just\nsaid root, and I gave a hard drive.\n\n453\n00:21:54.590 --> 00:21:56.120\nThat means it should be\nable to look at it, and\n\n454\n00:21:56.120 --> 00:21:58.760\nit should be able to find\nthe kernel on that drive.\n\n455\n00:22:00.100 --> 00:22:03.590\nBut with Windows, my drive's probably\nNTFS and Linux can't read that.\n\n456\n00:22:03.590 --> 00:22:05.230\nSo don't bother looking for the kernel.\n\n457\n00:22:05.230 --> 00:22:07.160\nJust turn control over to\nthat other boot loader and\n\n458\n00:22:07.160 --> 00:22:09.450\nlet them deal with it, rootnoverify.\n\n459\n00:22:09.450 --> 00:22:11.020\nAnd then I tell it what\nhard drive it's on.\n\n460\n00:22:11.020 --> 00:22:15.080\nMaybe I'm on hd1 which\nis my second hard drive.\n\n461\n00:22:15.080 --> 00:22:17.310\nSo I can specify that.\n\n462\n00:22:17.310 --> 00:22:19.770\nThen, normally I'd provide my kernel here,\nbut\n\n463\n00:22:19.770 --> 00:22:21.600\nwe're not gonna be able to find that for\nWindows.\n\n464\n00:22:21.600 --> 00:22:26.040\nSo instead I'm gonna say makeactive.\n\n465\n00:22:26.040 --> 00:22:29.460\nSo, treat the partition, that hard drive\nas the active drive that we're jumping to,\n\n466\n00:22:29.460 --> 00:22:31.810\neven though it might not be\nthe first hard drive on the list.\n\n467\n00:22:31.810 --> 00:22:36.410\nAnd then chainloader +1.\n\n468\n00:22:36.410 --> 00:22:40.610\nAnd that means stop this boot loader,\nand launch the next boot loader.\n\n469\n00:22:40.610 --> 00:22:41.790\nWe're going to launch one more, +1.\n\n470\n00:22:41.790 --> 00:22:43.670\nWe're going to launch one\nmore boot loader, and\n\n471\n00:22:43.670 --> 00:22:44.920\nlet that one do the rest of the work.\n\n472\n00:22:46.010 --> 00:22:49.420\nSo, I'm going to turn that\nover to the Windows system.\n\n473\n00:22:49.420 --> 00:22:52.340\nSo now that I've got that in there,\nI have two OS's.\n\n474\n00:22:52.340 --> 00:22:54.070\nI've got CentOS and I've got Windows.\n\n475\n00:22:54.070 --> 00:22:58.550\nAnd if I want Windows to be the default,\nI can come up and change this one, and\n\n476\n00:22:58.550 --> 00:23:03.535\nwe'd be in business, but otherwise I've\ngot that second one and it's in the list.\n\n477\n00:23:03.535 --> 00:23:07.638\nAll right, now that's grub.conf for\nGRUB version 1.\n\n478\n00:23:07.638 --> 00:23:10.850\nGRUB version 2 is a little bit different,\nso we'll attack that one in a minute.\n\n479\n00:23:10.850 --> 00:23:15.910\nThe other one, though,\nwas the menu.lst file, that menu.lst.\n\n480\n00:23:15.910 --> 00:23:19.340\nAnd notice on mine, menu.lst,\nsee how it's light blue?\n\n481\n00:23:19.340 --> 00:23:20.700\nIt's an alias.\n\n482\n00:23:20.700 --> 00:23:28.060\nIf I do a little ls -a action here,\nsee how it's hotlinked to grub.conf.\n\n483\n00:23:28.060 --> 00:23:32.410\nIn GRUB version 1, technically\nthe options like the default and\n\n484\n00:23:32.410 --> 00:23:35.640\nthe timeout,\nthose were supposed to go in grub.conf.\n\n485\n00:23:35.640 --> 00:23:38.670\nAnd then the menu was\nsupposed to be menu.lst.\n\n486\n00:23:38.670 --> 00:23:39.670\nTwo separate files.\n\n487\n00:23:40.770 --> 00:23:44.010\nBut Red Hat choose to go ahead and\ncombine them.\n\n488\n00:23:44.010 --> 00:23:46.140\nAnd so they've merged them together,\nand they've done a link,\n\n489\n00:23:46.140 --> 00:23:48.990\nso that menu.lst is actually\nlinked to grub.conf.\n\n490\n00:23:48.990 --> 00:23:49.793\nIt doesn't have to be like that.\n\n491\n00:23:49.793 --> 00:23:53.671\nOn your distro it might be two\ndistinct files, in which case,\n\n492\n00:23:53.671 --> 00:23:59.277\nyou'd set your default, and your timeout,\nand that kind of stuff, in the grub.conf.\n\n493\n00:23:59.277 --> 00:24:02.482\nAnd then you'd set all of\nyour OS's in menu.lst.\n\n494\n00:24:02.482 --> 00:24:03.525\nThe syntax is the same.\n\n495\n00:24:03.525 --> 00:24:04.699\nIt's just split into those two files.\n\n496\n00:24:04.699 --> 00:24:07.519\nSo, right there I've got GRUB configured.\n\n497\n00:24:07.519 --> 00:24:11.390\nIt's in place, and\nI should be ready to rock.\n\n498\n00:24:11.390 --> 00:24:14.580\nNow, the assumption here is that GRUB\nis already installed on my machine.\n\n499\n00:24:14.580 --> 00:24:15.110\nMaybe it isn't.\n\n500\n00:24:15.110 --> 00:24:17.850\nI can always reinstall it if I wanted to,\nright?\n\n501\n00:24:17.850 --> 00:24:20.170\nReinstalling GRUB is not a big deal.\n\n502\n00:24:20.170 --> 00:24:25.080\nIf you're doing legacy boot, all you\nwould do is you would run, you have to\n\n503\n00:24:25.080 --> 00:24:30.016\nbe an administrator to do this, and\nyou would say grub, followed by I'm sorry,\n\n504\n00:24:30.016 --> 00:24:34.260\nit's grub -install, followed by what\ndrive you want to install it on.\n\n505\n00:24:34.260 --> 00:24:37.140\nSo for example, for me it's /dev/sda.\n\n506\n00:24:37.140 --> 00:24:39.990\nMy first hard drive,\nI want to install GRUB to it.\n\n507\n00:24:39.990 --> 00:24:43.260\nNow, I've already got GRUB,\nmaybe GRUB's gotten damaged, and for\n\n508\n00:24:43.260 --> 00:24:44.600\nsome reason it's not loading.\n\n509\n00:24:44.600 --> 00:24:47.560\nWell, if GRUB's not loading,\nyou're probably not able to boot.\n\n510\n00:24:47.560 --> 00:24:50.150\nSo if you can't boot,\nyou gotta a little bit of a problem there.\n\n511\n00:24:50.150 --> 00:24:54.510\nAnd the solution is going downward, like\na CentOS disk or whatever distro it is,\n\n512\n00:24:54.510 --> 00:24:58.370\ndownload their disk, boot off of their\ndisk, and then access the shell.\n\n513\n00:24:58.370 --> 00:25:01.470\nAnd from there you could run\ngrub -install /data/sda.\n\n514\n00:25:01.470 --> 00:25:02.940\nAnd it'll reinstall GRUB for you.\n\n515\n00:25:02.940 --> 00:25:04.500\nSo it's really easy to repair it.\n\n516\n00:25:04.500 --> 00:25:05.690\nAnd when you run that,\n\n517\n00:25:05.690 --> 00:25:08.530\nit's just gonna rebuild that\nboot loader and put it in there.\n\n518\n00:25:08.530 --> 00:25:10.960\nI got installation finished,\nno error reported.\n\n519\n00:25:10.960 --> 00:25:15.673\nAnd here it's letting me know that drive\nmap, it's letting me know that sda is hd0.\n\n520\n00:25:15.673 --> 00:25:19.074\nSo if I needed to update my files,\nmy config files to reflect that I could.\n\n521\n00:25:19.074 --> 00:25:22.860\nBut otherwise it's in there and\nwe're in business.\n\n522\n00:25:22.860 --> 00:25:24.632\nSo it looks like we're in good shape.\n\n523\n00:25:24.632 --> 00:25:27.370\n>> So I feel pretty safe to get in\nhere and kick my feet around and\n\n524\n00:25:27.370 --> 00:25:28.610\ntry to make some changes.\n\n525\n00:25:28.610 --> 00:25:31.272\nAnd if I mess up, boot to that disk or\nwhatever I need to do, and\n\n526\n00:25:31.272 --> 00:25:33.830\nreinstall GRUB and\nget things back in working order.\n\n527\n00:25:33.830 --> 00:25:34.330\n>> Yeah.\nI mean,\n\n528\n00:25:34.330 --> 00:25:36.839\nas long as it's not a mission\ncritical production server [LAUGH]\n\n529\n00:25:36.839 --> 00:25:39.630\nIf it's your own work station,\nit's pretty hard to lock yourself out\n\n530\n00:25:39.630 --> 00:25:43.070\nas long as you have a bootable disk\navailable you can recover from.\n\n531\n00:25:43.070 --> 00:25:46.550\nBut at this stage, if I reboot,\nGRUB is now updated.\n\n532\n00:25:46.550 --> 00:25:48.790\nAnd so I'm gonna see that\nboot loader here in a second.\n\n533\n00:25:48.790 --> 00:25:51.270\nWhen you see the VMware screen pop\nup in my screen, that'll be BIOS.\n\n534\n00:25:51.270 --> 00:25:55.120\nAnd then, once the BIOS screen is gone,\nnow, here's GRUB.\n\n535\n00:25:55.120 --> 00:25:56.010\nAnd I did hiddenmenu.\n\n536\n00:25:56.010 --> 00:25:58.800\nSo that's why I had to press\nEnter to see this menu.\n\n537\n00:25:58.800 --> 00:26:01.560\nBut if I hadn't done hidden menu it\nwould have gone straight to this.\n\n538\n00:26:01.560 --> 00:26:03.200\nAnd now I can pick who I want to boot.\n\n539\n00:26:04.300 --> 00:26:06.680\nAnd I've got five seconds,\nif I don't touch anything,\n\n540\n00:26:06.680 --> 00:26:09.150\nI've got five seconds before\nit just boots CentOS.\n\n541\n00:26:09.150 --> 00:26:11.955\nBut now, because I'm in the menu,\nI can take all the time time in the world.\n\n542\n00:26:11.955 --> 00:26:13.795\nAnd I can go through here and\nI can pick which one I want to boot,\n\n543\n00:26:13.795 --> 00:26:14.635\nand I can boot to it.\n\n544\n00:26:15.855 --> 00:26:19.607\nAnd a lot of modern GRUB versions actually\nhave where you can modify things.\n\n545\n00:26:19.607 --> 00:26:22.165\nSo see, I can choose Windows 7 and\nI can e to edit it.\n\n546\n00:26:22.165 --> 00:26:24.575\nOr I can choose CentOS and\nI can e to edit it.\n\n547\n00:26:24.575 --> 00:26:28.045\nAnd now I can go in and\nI can modify what drive that distro is on.\n\n548\n00:26:28.045 --> 00:26:29.745\nMaybe I moved it to another drive.\n\n549\n00:26:29.745 --> 00:26:30.805\nWhat kernel it's booting.\n\n550\n00:26:30.805 --> 00:26:34.120\nMaybe I just didn't update and\nGRUB is pointing to the wrong kernel.\n\n551\n00:26:34.120 --> 00:26:36.410\nYou can do things like that,\nor I just did an update, and\n\n552\n00:26:36.410 --> 00:26:38.860\nnow I want to point at the old kernel\nbecause something's not working right.\n\n553\n00:26:38.860 --> 00:26:40.790\nWe can go in and we kinda manipulate that.\n\n554\n00:26:40.790 --> 00:26:42.920\nSo you got a few neat\nlittle options there.\n\n555\n00:26:42.920 --> 00:26:45.110\nBut then you choose your OS, and it boots.\n\n556\n00:26:46.945 --> 00:26:50.385\nThe only other thing I wanna mention for\nGRUB version 1 is,\n\n557\n00:26:50.385 --> 00:26:55.195\nif we're running EFI, the command to\ninstall it's a little bit different.\n\n558\n00:26:55.195 --> 00:26:55.785\nAnd that's because,\n\n559\n00:26:55.785 --> 00:27:00.705\nremember that EFI isn't storing everything\nin the BIOS chip on the motherboard.\n\n560\n00:27:00.705 --> 00:27:03.280\nEFI stores part of its\ninformation on the hard drive.\n\n561\n00:27:03.280 --> 00:27:05.700\nAnd so, when we go and\nenter in this GRUB boot loader, and\n\n562\n00:27:05.700 --> 00:27:07.650\nwe tell what hard drive to boot from and\nall that stuff,\n\n563\n00:27:07.650 --> 00:27:11.310\nwe actually have to tell it a little\nbit more because it's an EFI system.\n\n564\n00:27:11.310 --> 00:27:13.940\nAnd we don't have to wait for\nthis machine to boot.\n\n565\n00:27:13.940 --> 00:27:15.340\nWell, it boots pretty fast.\n\n566\n00:27:15.340 --> 00:27:18.380\nSo, when it runs,\nwe're gonna run a different command.\n\n567\n00:27:18.380 --> 00:27:21.240\nBefore, I ran the grub -install command,\nbut\n\n568\n00:27:21.240 --> 00:27:26.390\nwith EFI we're gonna use the efi -, or\njust efi, boot manager command, and\n\n569\n00:27:26.390 --> 00:27:28.960\nthat let's you change the stuff\nif you've got an EFI system.\n\n570\n00:27:28.960 --> 00:27:34.860\nSo if I needed to reinstall GRUB on an EFI\nsystem, the config files are the same.\n\n571\n00:27:34.860 --> 00:27:39.205\nThat doesn't change, but\nthe command to reinstall GRUB does.\n\n572\n00:27:39.205 --> 00:27:43.499\nSo what I would run is efibootmgr.\n\n573\n00:27:43.499 --> 00:27:45.903\nAnd this is what's gonna\nlet me modify that.\n\n574\n00:27:45.903 --> 00:27:50.130\nAnd then I tell it that I'm\ngonna be doing a reinstall.\n\n575\n00:27:50.130 --> 00:27:51.380\nI'm doing a -c -l.\n\n576\n00:27:51.380 --> 00:27:53.365\nAnd then here's where it\ngets it's a little weird.\n\n577\n00:27:53.365 --> 00:27:56.011\nNow I've got to point to\nwhere that EFI store is.\n\n578\n00:27:56.011 --> 00:28:01.240\nAnd the way EFI does things,\nI have to do back slashes and\n\n579\n00:28:01.240 --> 00:28:04.243\nI've gotten to escape them, so\n\n580\n00:28:04.243 --> 00:28:09.475\nit's \\\\EFI\\\\redhat\\\\grub.efi -L grub, and\n\n581\n00:28:09.475 --> 00:28:16.600\nactually I think that one has to be\nall caps, let me fix that, there.\n\n582\n00:28:16.600 --> 00:28:21.100\nSo, what I'm doing here is I'm\nreaching into that grub.efi file and\n\n583\n00:28:21.100 --> 00:28:23.950\nreinstalling GRUB there and\nputting its information in.\n\n584\n00:28:23.950 --> 00:28:26.170\nSo, it's a little bit\ndifferent of a process,\n\n585\n00:28:26.170 --> 00:28:29.530\nbecause EFI is storing it's\ninformation in a different place.\n\n586\n00:28:29.530 --> 00:28:33.170\nAnd apparently I'm not booted EFI, so\nthat's why it's not running for me.\n\n587\n00:28:33.170 --> 00:28:36.140\nBut if you go into /boot,\nyou probably saw this earlier.\n\n588\n00:28:36.140 --> 00:28:37.650\nI have this EFI directory.\n\n589\n00:28:37.650 --> 00:28:42.080\nAnd if we go into EFI,\nyou'll see there's that capital EFI,\n\n590\n00:28:42.080 --> 00:28:45.090\nthat's what I'm actually\nreferring to right here.\n\n591\n00:28:45.090 --> 00:28:49.210\nAnd then inside of that, I've got redhat,\nthat's that next folder here.\n\n592\n00:28:49.210 --> 00:28:52.778\nAnd inside redhat,\nthat's where grub.efi is.\n\n593\n00:28:52.778 --> 00:28:56.140\nAnd that's a binary file, so if I try and\n\n594\n00:28:56.140 --> 00:29:00.540\nopen that thing up, see how it says it's\na binary file, do I wanna see it anyway?\n\n595\n00:29:00.540 --> 00:29:03.550\nAnd if I look at it,\nit doesn't help me at all, right?\n\n596\n00:29:03.550 --> 00:29:07.630\nSo a little bit different than when\nwe're just writing it to a boot record.\n\n597\n00:29:07.630 --> 00:29:09.591\nWe do have to be aware of that.\n\n598\n00:29:09.591 --> 00:29:13.703\nAll right, so that command again,\nlet me just bring it back up, it was\n\n599\n00:29:13.703 --> 00:29:18.373\nefibootmgr -c -l, and we point to where\nthe EFI file is going, and then -L and\n\n600\n00:29:18.373 --> 00:29:23.400\nthe name of the bootloader we're throwing\nin there, which is GRUB in this case.\n\n601\n00:29:23.400 --> 00:29:25.430\nThat'll reinstall it on an EFI system.\n\n602\n00:29:27.090 --> 00:29:29.830\nAll right, well, that's GRUB version 1.\n\n603\n00:29:29.830 --> 00:29:33.230\nI want to take a look at GRUB version 2,\nbut I kind of talked too long,\n\n604\n00:29:33.230 --> 00:29:34.380\ndidn't I, Daniel?\n\n605\n00:29:34.380 --> 00:29:35.250\n>> Just a little bit.\n\n606\n00:29:35.250 --> 00:29:36.480\nBut this is a lot of information.\n\n607\n00:29:36.480 --> 00:29:39.280\nIt's not like this is something\nwe can just gloss over.\n\n608\n00:29:39.280 --> 00:29:41.510\nWe need to give you those kind of details.\n\n609\n00:29:41.510 --> 00:29:44.095\nIt does make for a great part two,\nthough don't they Don?\n\n610\n00:29:44.095 --> 00:29:45.205\n>> Yeah, absolutely.\n\n611\n00:29:45.205 --> 00:29:46.035\nSo let's do that.\n\n612\n00:29:46.035 --> 00:29:46.945\nWe'll stop right here.\n\n613\n00:29:46.945 --> 00:29:48.215\nBut we're gonna do a part two.\n\n614\n00:29:48.215 --> 00:29:48.915\nAnd in part two,\n\n615\n00:29:48.915 --> 00:29:52.205\nI wanna take a look at GRUB version 2,\ncuz it is very common on distros, right.\n\n616\n00:29:52.205 --> 00:29:53.745\nWe saw it on that Debian 7 system.\n\n617\n00:29:53.745 --> 00:29:55.682\nWe saw it on my CentOS 7 system.\n\n618\n00:29:55.682 --> 00:29:57.532\nSo you wanna know about GRUB version 2.\n\n619\n00:29:57.532 --> 00:29:58.492\nWe'll take a look at it, and\n\n620\n00:29:58.492 --> 00:30:02.312\nit's config files, and get a chance\nto kind of see how it works also.\n\n621\n00:30:02.312 --> 00:30:03.442\nSo stay tuned for that.\n\n622\n00:30:03.442 --> 00:30:04.842\n>> Yeah.\n>> And I think that's about all we got.\n\n623\n00:30:04.842 --> 00:30:06.030\n>> Yeah, that's about all we have for\n\n624\n00:30:06.030 --> 00:30:08.986\nGRUB version 1,\nhopefully you guys enjoyed that.\n\n625\n00:30:08.986 --> 00:30:10.776\nWhen we'll see you on GRUB version two.\n\n626\n00:30:10.776 --> 00:30:14.166\nSigning off for ITProTV,\nI've been your host Daniel Lowery.\n\n627\n00:30:14.166 --> 00:30:15.126\n>> And I'm Don Pezet.\n\n628\n00:30:15.126 --> 00:30:17.010\n>> And we'll see you next time.\n\n629\n00:30:17.010 --> 00:30:21.720\n[NOISE]\n\n",
          "vimeoId": "131435030"
        },
        {
          "description": null,
          "length": "1078",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-1-installing_bootloaders_pt2-061915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-1-installing_bootloaders_pt2-061915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-1-installing_bootloaders_pt2-061915-1-sm.jpg",
          "title": "Installing Bootloaders Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.181 --> 00:00:14.664\nAll right, everyone welcome to\nanother great episode of ITProTV.\n\n3\n00:00:14.664 --> 00:00:18.652\nI'm your host, Daniel Lowrie and here with\nme is the Master of Disaster, Don Pezet.\n\n4\n00:00:18.652 --> 00:00:19.289\nHow's it going Don?\n\n5\n00:00:19.289 --> 00:00:21.010\n>> It is going great.\n\n6\n00:00:21.010 --> 00:00:21.595\nWe're back for\n\n7\n00:00:21.595 --> 00:00:24.251\nanother part two because I just can't\nseem to shut up during the show.\n\n8\n00:00:24.251 --> 00:00:25.269\n>> [LAUGH]\n>> [LAUGH] So,\n\n9\n00:00:25.269 --> 00:00:27.140\nwe've had another one run long.\n\n10\n00:00:27.140 --> 00:00:30.270\nIf you haven't watched it already, we\nfilmed the episode on bootloaders where we\n\n11\n00:00:30.270 --> 00:00:34.070\ntalked about the boot process in Linux and\nthe GRUB bootloader.\n\n12\n00:00:34.070 --> 00:00:37.280\nAnd we didn't get to GRUB version 2 and\nit's really important, so\n\n13\n00:00:37.280 --> 00:00:38.981\nhere we are back again for part two.\n\n14\n00:00:38.981 --> 00:00:40.409\n>> Well, it's good stuff.\n\n15\n00:00:40.409 --> 00:00:42.652\nThe part one had a lot of\ninteresting things, and\n\n16\n00:00:42.652 --> 00:00:45.236\nyou still may run into GRUB\nversion 1 from time to time.\n\n17\n00:00:45.236 --> 00:00:47.689\nThey definitely want you to know it for\nthe exam, so\n\n18\n00:00:47.689 --> 00:00:50.650\nthere's a good reason to\n[LAUGH] watch part one of this.\n\n19\n00:00:50.650 --> 00:00:52.226\nPart two is probably gonna\nbe the more practical one.\n\n20\n00:00:52.226 --> 00:00:54.403\nThis is the stuff you're\nmost likely gonna see,\n\n21\n00:00:54.403 --> 00:00:56.602\nthe GRUB version that\nyou're gonna encounter.\n\n22\n00:00:56.602 --> 00:01:00.649\n>> Yep, all right, so I know we did talk\na little bit about GRUB's configuration\n\n23\n00:01:00.649 --> 00:01:03.070\nfiles, but let's rehash real quick.\n\n24\n00:01:03.070 --> 00:01:08.245\nSo GRUB, the grand unified bootloader is\na bootloader that is built into Linux.\n\n25\n00:01:08.245 --> 00:01:11.728\nSo, when you push your Power button,\nyour BIOS, your EFI process kicks in, and\n\n26\n00:01:11.728 --> 00:01:13.879\nonce those fire up,\nthey locate your hard drive,\n\n27\n00:01:13.879 --> 00:01:17.443\nthey locate where you're gonna boot from,\nor your master boot record normally.\n\n28\n00:01:17.443 --> 00:01:22.407\nAnd then from there,\nthey hand over control to your bootloader.\n\n29\n00:01:22.407 --> 00:01:24.367\nOur bootloader in this case\nis gonna be GRUB version 2.\n\n30\n00:01:24.367 --> 00:01:28.877\nAnd GRUB version 2 is gonna present\nyou with a menu of different operating\n\n31\n00:01:28.877 --> 00:01:31.581\nsystems that are available for\nyou to boot.\n\n32\n00:01:31.581 --> 00:01:36.267\n>> And in GRUB version 1, those are stored\nin just a simple little file, menu.list,\n\n33\n00:01:36.267 --> 00:01:38.915\nbut in GRUB version 2,\nit's a lot different.\n\n34\n00:01:38.915 --> 00:01:42.622\nThey moved the configuration files around,\nthey've changed things.\n\n35\n00:01:42.622 --> 00:01:46.852\nThey've simplified it, but\neven when you simplify things,\n\n36\n00:01:46.852 --> 00:01:48.532\nif you change the commands,\nit makes it more challenging.\n\n37\n00:01:48.532 --> 00:01:51.952\nSo, for a lot of people, we had to relearn\nGRUB 2, and kind of get used to it.\n\n38\n00:01:51.952 --> 00:01:55.530\nAnd that's what I wanna show\nyou here in this episode.\n\n39\n00:01:55.530 --> 00:01:58.960\nThe first thing, the biggest\ndifference between GRUB version 2 and\n\n40\n00:01:58.960 --> 00:02:02.790\nversion 1 is the configuration\nfiles are moved.\n\n41\n00:02:02.790 --> 00:02:04.900\nLet me show you what I mean.\n\n42\n00:02:04.900 --> 00:02:07.170\nSo, here I am on a CentOS 7 machine.\n\n43\n00:02:07.170 --> 00:02:13.010\nAnd if I I go into /boot, see how\nI've got a grub and a grub2 folder.\n\n44\n00:02:13.010 --> 00:02:16.660\nWell, GRUB version 2,\nit just depends on the distro.\n\n45\n00:02:16.660 --> 00:02:20.880\nSome distros, like CentOS,\nputs it in the grub2 folder.\n\n46\n00:02:20.880 --> 00:02:24.250\nOther distros, like Debian,\nwhich I've got parked back here,\n\n47\n00:02:24.250 --> 00:02:29.300\nwill put it in the /grub folder,\n/boot/grub.\n\n48\n00:02:29.300 --> 00:02:31.877\nIt may or not be in /boot/grub or\n\n49\n00:02:31.877 --> 00:02:35.240\n/boot/grub2, you just have\nto kinda look for it.\n\n50\n00:02:35.240 --> 00:02:37.460\nIt kinda sucks, but that's how it is.\n\n51\n00:02:37.460 --> 00:02:40.050\nAnd the way you can tell the difference\nbetween GRUB version 1 and\n\n52\n00:02:40.050 --> 00:02:41.750\nGRUB version 2 is the config file.\n\n53\n00:02:41.750 --> 00:02:46.015\nThe config file for\nGRUB version 2 is grub.cfg.\n\n54\n00:02:46.015 --> 00:02:48.800\nRemember in version 1,\nit's just grub.conf.\n\n55\n00:02:48.800 --> 00:02:51.510\nSo, that's our big difference there,\ngrub.cfg.\n\n56\n00:02:51.510 --> 00:02:55.180\nAnd here on my Red Hat system,\nor CentOS system here,\n\n57\n00:02:55.180 --> 00:03:00.550\nif I get into the grub2 folder,\nI'll see grub.cfg right there.\n\n58\n00:03:00.550 --> 00:03:06.310\nAnd if I look inside of grub.cfg,\nI'm gonna see the second big difference.\n\n59\n00:03:06.310 --> 00:03:08.262\nIt's this line right here.\n\n60\n00:03:08.262 --> 00:03:10.781\nDo not edit this file.\n\n61\n00:03:10.781 --> 00:03:15.266\nRemember, if you already watched\nour first episode of this, in GRUB,\n\n62\n00:03:15.266 --> 00:03:17.528\nI just went and edited grub.conf.\n\n63\n00:03:17.528 --> 00:03:20.340\nWent in, edit it, threw in a new OS,\nthings worked great.\n\n64\n00:03:20.340 --> 00:03:23.560\nBut here, I get this really big warning,\nDO NOT EDIT THIS FILE.\n\n65\n00:03:23.560 --> 00:03:24.560\nWhat, are you crazy?\n\n66\n00:03:24.560 --> 00:03:26.000\nDon't touch this thing!\n\n67\n00:03:26.000 --> 00:03:30.040\nWell, what they tried [LAUGH] to\ndo is to make life easier for you.\n\n68\n00:03:30.040 --> 00:03:34.890\nAnd GRUB has its own little editor now\nthat you can use to go in and add OSes and\n\n69\n00:03:34.890 --> 00:03:38.860\nthings like that without having\nto go here and edit these files.\n\n70\n00:03:38.860 --> 00:03:42.070\nAnd the reason they did that\nis because the config file for\n\n71\n00:03:42.070 --> 00:03:44.050\nGRUB version 2 is much more complex.\n\n72\n00:03:45.420 --> 00:03:47.480\nWhen you start to look at this file,\n\n73\n00:03:47.480 --> 00:03:51.530\nit can be made up of tons\nof scriptable options.\n\n74\n00:03:52.660 --> 00:03:55.900\nAnd so this is a pretty big file,\nmine's at the default.\n\n75\n00:03:55.900 --> 00:03:59.550\nI haven't touched this one bit\nfrom doing this CentOS 7 install.\n\n76\n00:03:59.550 --> 00:04:01.400\nThere's a lot in here.\n\n77\n00:04:01.400 --> 00:04:04.140\nAnd if you make a mistake then\nyour system's not gonna boot, so\n\n78\n00:04:04.140 --> 00:04:06.110\nthat's kind of important.\n\n79\n00:04:06.110 --> 00:04:10.337\nSo, instead of loading everything from\nhere, what's happening is this file is\n\n80\n00:04:10.337 --> 00:04:14.328\nbeing assembled for us, and that's what\nthis very next line is telling us.\n\n81\n00:04:14.328 --> 00:04:16.907\nIt's saying, DON'T EDIT THIS FILE.\n\n82\n00:04:16.907 --> 00:04:21.675\nThat's a no, no.\nInstead, you want to edit any file\n\n83\n00:04:21.675 --> 00:04:25.242\ninside of /etc/grub.d.\n\n84\n00:04:25.242 --> 00:04:30.582\nAnd anything that's in this\nparticular file, /etc/default.grub.\n\n85\n00:04:30.582 --> 00:04:34.326\nThis file is one file, /etc/default/grub,\n\n86\n00:04:34.326 --> 00:04:39.130\nthat's the default grub configuration for\na system.\n\n87\n00:04:39.130 --> 00:04:44.000\nSo, that's what it bases,\ngrub.cfg on, is this file right here.\n\n88\n00:04:44.000 --> 00:04:49.840\nAnd then it takes any file you've\ndefined inside of /etc/grub.d and\n\n89\n00:04:49.840 --> 00:04:54.480\nit adds that onto it, and\nit builds the grub.cfg file for us, and\n\n90\n00:04:54.480 --> 00:04:57.680\nit does a lot of error checking and\nvalidation before it does it.\n\n91\n00:04:57.680 --> 00:05:02.610\nAnd it helps save you a situation where\nyou've created a grub file that won't\n\n92\n00:05:02.610 --> 00:05:05.690\nboot, but you don't notice it\nuntil you reboot next time.\n\n93\n00:05:05.690 --> 00:05:09.800\nHere we'll know right away, because we\nmodify these files, and when we're done\n\n94\n00:05:09.800 --> 00:05:14.720\nwe execute a command to build grub.cfg.\n\n95\n00:05:14.720 --> 00:05:16.550\nNow, watch out for this one.\n\n96\n00:05:16.550 --> 00:05:17.850\nHere's another one where\nyou think all right,\n\n97\n00:05:17.850 --> 00:05:21.300\nwell I've got one command that builds it,\nwell you don't.\n\n98\n00:05:21.300 --> 00:05:26.379\nHere on this CentOS 7 box,\nI've got grub2-mkconfig.\n\n99\n00:05:26.379 --> 00:05:31.372\nOn other distros,\nthey might just call it grub-mkconfig.\n\n100\n00:05:31.372 --> 00:05:36.355\nRemember just like the folder, where\nit might be in grub2, it might not be.\n\n101\n00:05:36.355 --> 00:05:40.015\nThis is another example, although,\nwith this grub-mkconfig.\n\n102\n00:05:40.015 --> 00:05:45.064\nSo, if I jump over to my Debian\nsystem here, and I run grub-mkconfig,\n\n103\n00:05:45.064 --> 00:05:49.152\nor if I run grub2 like that,\ncommand not found.\n\n104\n00:05:49.152 --> 00:05:55.177\nBut I if take out that 2, right, and maybe\nI do like a --help, command not found.\n\n105\n00:05:55.177 --> 00:05:57.452\nUh-oh, now we're in real trouble, right?\n\n106\n00:05:57.452 --> 00:05:59.022\nI don't have either\nversion of this command.\n\n107\n00:05:59.022 --> 00:06:02.147\nWell, why stop at one command,\nwhen you can have a third one.\n\n108\n00:06:02.147 --> 00:06:06.380\nSo, there is actually yet\nanother version of this command,\n\n109\n00:06:06.380 --> 00:06:09.543\nwhich is update-grub, and if you run that.\n\n110\n00:06:09.543 --> 00:06:12.433\n[LAUGH] Oh, crap,\nI didn't get it there either.\n\n111\n00:06:12.433 --> 00:06:14.750\nThere is a fourth one we can\ntry which is update-grub2.\n\n112\n00:06:15.990 --> 00:06:18.230\nI must not have installed them, all right.\n\n113\n00:06:18.230 --> 00:06:21.650\nWell, those are the four, I'm out of\nother commands, there is a bunch.\n\n114\n00:06:21.650 --> 00:06:24.436\nSo, you do have to do a little bit of\ntrial and error to find out which one,\n\n115\n00:06:24.436 --> 00:06:26.846\nexactly, it is that's gonna be\nneeded to build your system.\n\n116\n00:06:26.846 --> 00:06:31.746\nAnd so, it might be grub-mkconfig,\nit might be grub2-mkconfig,\n\n117\n00:06:31.746 --> 00:06:35.907\nit might be update-grub, or\nit might be update-grub2.\n\n118\n00:06:35.907 --> 00:06:39.019\nAnd it's really unfortunate that\nthe different distros have chosen\n\n119\n00:06:39.019 --> 00:06:41.610\ndifferent names for this,\nbut that's how it is.\n\n120\n00:06:41.610 --> 00:06:44.320\nAnd that's why a lot of\nthem do what Red Hat did,\n\n121\n00:06:44.320 --> 00:06:46.210\nwhich is to put it right\nhere at the top of the file.\n\n122\n00:06:46.210 --> 00:06:48.420\nIf you wanna build it,\nhere's the command that we use.\n\n123\n00:06:49.710 --> 00:06:51.042\nOther distros might use something else.\n\n124\n00:06:51.042 --> 00:06:53.741\nAnd so,\nif we take a look at this Debian system,\n\n125\n00:06:53.741 --> 00:06:56.927\nI'm kinda curious now what it uses,\ncuz I have no idea.\n\n126\n00:06:56.927 --> 00:07:01.268\nAnd so if I look here, well, it's telling\nme to use grub-, did I type it wrong?\n\n127\n00:07:01.268 --> 00:07:03.591\nGrub-mkconfig.\n\n128\n00:07:06.374 --> 00:07:09.130\nInteresting.\n\n129\n00:07:09.130 --> 00:07:13.490\nApparently it's either not in my path or\nnot installed.\n\n130\n00:07:13.490 --> 00:07:16.474\nSo, that's odd-\n>> I've sometimes where if you see\n\n131\n00:07:16.474 --> 00:07:21.050\na command that's saying it's not found,\nif you sudo, it might work.\n\n132\n00:07:21.050 --> 00:07:24.994\nIf you just go into root, it doesn't even\nshow it to you unless you're a root.\n\n133\n00:07:24.994 --> 00:07:26.737\nI've seen that happen.\n>> Well, that might be mine then,\n\n134\n00:07:26.737 --> 00:07:27.850\nlet's just try that here.\n\n135\n00:07:27.850 --> 00:07:30.290\nSo, I'm gonna run grub-mkconfig.\n\n136\n00:07:30.290 --> 00:07:33.317\nNow, remember, oh, there is, all right,\nand there it's running, doing its thing.\n\n137\n00:07:33.317 --> 00:07:34.258\nSo, yes.\n\n138\n00:07:34.258 --> 00:07:35.256\n>> [LAUGH] So there it is,\n\n139\n00:07:35.256 --> 00:07:38.197\nit's grub-mkconfig is probably\nnot on a regular users path,\n\n140\n00:07:38.197 --> 00:07:42.380\nother wise you'd see permission denied,\nso but it is in the root user's path.\n\n141\n00:07:42.380 --> 00:07:45.645\nSo, here is grub-mkconfig.\n\n142\n00:07:45.645 --> 00:07:49.755\nOver here it was grub2-mkconfig.\n\n143\n00:07:49.755 --> 00:07:53.845\nAnd then there is update-grub and\nupdate-grub2.\n\n144\n00:07:53.845 --> 00:07:57.620\nThose are variations that you'll see on\ndifferent distros, so be aware of that.\n\n145\n00:07:57.620 --> 00:07:59.940\nThe idea is, you don't edit this file.\n\n146\n00:07:59.940 --> 00:08:01.670\nThis file will get built.\n\n147\n00:08:01.670 --> 00:08:03.100\nAnd if you wanna make changes to it,\n\n148\n00:08:03.100 --> 00:08:04.923\nthere's two places you\ncan make the change.\n\n149\n00:08:04.923 --> 00:08:08.640\nOne of them is /etc/default-grab.\n\n150\n00:08:08.640 --> 00:08:11.170\nBut I'll tell you, you generally\ndon't wanna mess with that one.\n\n151\n00:08:11.170 --> 00:08:19.090\nSo, if I go into /etc/default, and I look\nin there, you'll see various defaults for\n\n152\n00:08:19.090 --> 00:08:21.940\nuseradd, right, when I add a new user,\nwhat defaults do we have?\n\n153\n00:08:21.940 --> 00:08:24.060\nBut there's the default for GRUB.\n\n154\n00:08:24.060 --> 00:08:27.720\nAnd if we take a look at what's in there,\nthere's not a whole lot.\n\n155\n00:08:27.720 --> 00:08:29.540\nThe GRUB_TIMEOUT.\n\n156\n00:08:29.540 --> 00:08:32.800\nWhat my default is, which I save\nmy values when I exit the menu.\n\n157\n00:08:32.800 --> 00:08:35.930\nWhether you've got submenus enabled or\ndisabled.\n\n158\n00:08:35.930 --> 00:08:39.420\nWhere our output goes to by default,\nnormally the console.\n\n159\n00:08:39.420 --> 00:08:41.510\nSo, basic settings like that.\n\n160\n00:08:41.510 --> 00:08:43.428\nYou typically don't need\nto mess with these, and so\n\n161\n00:08:43.428 --> 00:08:45.620\nthat's why we don't normally\nmess with the default file.\n\n162\n00:08:46.850 --> 00:08:50.790\nInstead, when we wanna mess with\nthe actual GRUB configuration,\n\n163\n00:08:50.790 --> 00:08:52.490\nwe mess with this config files.\n\n164\n00:08:52.490 --> 00:08:57.190\nAnd in GRUB version 2, they followed\nthe standard Linux daemon system for\n\n165\n00:08:57.190 --> 00:09:00.980\nconfiguration files,\nwhich is inside of /etc\n\n166\n00:09:00.980 --> 00:09:04.530\nto create a folder of the service name .d.\n\n167\n00:09:04.530 --> 00:09:06.585\nAnd so,\nthey created a folder called grub.d.\n\n168\n00:09:06.585 --> 00:09:09.907\nAnd in there, am I not root?\n\n169\n00:09:13.964 --> 00:09:16.727\nThat's interesting.\n\n170\n00:09:16.727 --> 00:09:18.607\nIt's not gonna let me see what's in there.\n\n171\n00:09:21.318 --> 00:09:23.732\nWell, let's take a look\nat our permissions here.\n\n172\n00:09:23.732 --> 00:09:24.731\nI'm kinda curious on this one.\n\n173\n00:09:24.731 --> 00:09:30.040\nBut you'll have this folder grub.d, and\nin there, you have configuration files.\n\n174\n00:09:30.040 --> 00:09:32.680\nAnd those configuration files\nare where we can specify\n\n175\n00:09:32.680 --> 00:09:36.160\nthings like what operating systems\nshow up on our menu list and so on.\n\n176\n00:09:37.460 --> 00:09:41.136\nSo, there's that grub.d folder and\nI'm root and I have read, write and\n\n177\n00:09:41.136 --> 00:09:43.819\nexecute on that folder with\nno special permissions.\n\n178\n00:09:43.819 --> 00:09:46.605\nThere is really no reason I\nshouldn't be able to get in there.\n\n179\n00:09:46.605 --> 00:09:48.370\n>> I think you're running it as DPezet,\nthough.\n\n180\n00:09:48.370 --> 00:09:52.404\n>> No, I [CROSSTALK]\n>> Yep, now, inside of that folder,\n\n181\n00:09:52.404 --> 00:09:55.711\nyou can start to create\nmore than one conf file,\n\n182\n00:09:55.711 --> 00:09:58.866\nand those all get read and\nloaded with Linux.\n\n183\n00:09:58.866 --> 00:10:00.712\nLet me see if the Debian\nsystem will let me do it.\n\n184\n00:10:00.712 --> 00:10:02.466\nOops, as I rebuild that one.\n\n185\n00:10:02.466 --> 00:10:04.439\nSo, we'll check it out over here.\n\n186\n00:10:04.439 --> 00:10:08.645\nSo, if I go into /etc/grub.d, there we go.\n\n187\n00:10:08.645 --> 00:10:10.380\nDebians letting me do it just fine.\n\n188\n00:10:10.380 --> 00:10:14.462\nAnd see how we've got all these files\nin here, 00_header, 05_debian_theme,\n\n189\n00:10:14.462 --> 00:10:19.500\n10_linux, 20_linux, 30_os-prober,\n40_custom, 41_custom, and so on.\n\n190\n00:10:19.500 --> 00:10:22.960\nEach of these are just different\nsections of the config.\n\n191\n00:10:22.960 --> 00:10:24.467\nSo, if we look at like 00_header,\n\n192\n00:10:24.467 --> 00:10:28.120\nwell that's what would be at the top\nof our config file normally.\n\n193\n00:10:28.120 --> 00:10:31.500\nSo, if I take a look at what's in there,\nhere it is.\n\n194\n00:10:31.500 --> 00:10:35.867\nIt's mostly just comments, but then after\nthat, I've got some transform statements,\n\n195\n00:10:35.867 --> 00:10:39.716\na little script that it's running for\npopulating values at the beginning, and\n\n196\n00:10:39.716 --> 00:10:41.627\nthere's actually quite a bit in here.\n\n197\n00:10:41.627 --> 00:10:44.308\nThis is the header for that config value,\nyou see how complex that is?\n\n198\n00:10:44.308 --> 00:10:46.270\nYou probably don't wanna mess with that.\n\n199\n00:10:46.270 --> 00:10:48.040\nSo fortunately, we don't have to.\n\n200\n00:10:48.040 --> 00:10:49.490\nThey break out the other things.\n\n201\n00:10:49.490 --> 00:10:52.370\nSo, if I do like more for 10_linux.\n\n202\n00:10:52.370 --> 00:10:56.020\nHere I can come in, and\nI can start to see where /user is,\n\n203\n00:10:56.020 --> 00:10:58.830\nand other values here that\nare being tied to that, and\n\n204\n00:10:58.830 --> 00:11:02.140\nwe can start to see how that one\nis configured and specified.\n\n205\n00:11:03.460 --> 00:11:07.070\nSo, all that's kinda getting laid\nout right here, all in these files.\n\n206\n00:11:08.270 --> 00:11:11.033\nThe os-prober is probably one\nof the more important ones.\n\n207\n00:11:11.033 --> 00:11:15.160\nIf we take a look inside of here,\nthis is where it's going to try and\n\n208\n00:11:15.160 --> 00:11:16.802\nfind operating systems.\n\n209\n00:11:16.802 --> 00:11:19.900\nSo, we don't even have to necessarily\nadd them to the menu ourselves.\n\n210\n00:11:19.900 --> 00:11:23.780\nIt's gonna look and try and\nfind them to be able to populate it out.\n\n211\n00:11:23.780 --> 00:11:26.450\nAnd you don't have to be familiar\nwith the code that's executing here,\n\n212\n00:11:26.450 --> 00:11:29.650\nyou just have to know that this\nprocess is actually occurring.\n\n213\n00:11:29.650 --> 00:11:33.590\nSo, all of that is being\nstuck away back in there.\n\n214\n00:11:33.590 --> 00:11:36.070\nAnd you can make those changes, and\n\n215\n00:11:36.070 --> 00:11:40.930\nwhen you're done, you can just\nupdate your GRUB configuration.\n\n216\n00:11:40.930 --> 00:11:42.750\nSo, you make your changes,\nhowever it is that you need to do,\n\n217\n00:11:42.750 --> 00:11:45.160\nand then you run whatever command\nit is that's programmed for you.\n\n218\n00:11:45.160 --> 00:11:47.502\nSo, maybe it's update-grub.\n\n219\n00:11:47.502 --> 00:11:49.620\nWhich, oh, I can see that it's\nworking now that I'm root.\n\n220\n00:11:49.620 --> 00:11:51.470\nSo, I can run that and\nsee what it's doing?\n\n221\n00:11:51.470 --> 00:11:55.529\nHow it's updating, it found my background\nimage, it found my Linux image, my initrd.\n\n222\n00:11:55.529 --> 00:11:57.402\nIt's populating those files, and\n\n223\n00:11:57.402 --> 00:12:01.413\nit's building the grub.cfg file that's\ngonna be read by GRUB version 2.\n\n224\n00:12:01.413 --> 00:12:05.894\nAnd now, it's putting in place, and that's\nwhy we don't directly edit grub.cfg.\n\n225\n00:12:05.894 --> 00:12:08.365\nSo, pretty important there.\n\n226\n00:12:08.365 --> 00:12:11.719\nOn my Cent system,\nlet's me just make sure that I am,\n\n227\n00:12:11.719 --> 00:12:15.166\nit is still saying I'm DPezet,\nso maybe that's why.\n\n228\n00:12:15.166 --> 00:12:18.417\nI could have swore but I didn't.\n\n229\n00:12:18.417 --> 00:12:20.870\nAll right, so that's why I\nwasn't getting into that folder.\n\n230\n00:12:20.870 --> 00:12:21.610\nThere we go.\n\n231\n00:12:21.610 --> 00:12:23.830\nAnd so here we can see on the Red Hat\nsystem, it's doing the same thing.\n\n232\n00:12:23.830 --> 00:12:25.298\nI apparently just don't know who I am.\n\n233\n00:12:25.298 --> 00:12:27.243\n>> [LAUGH]\n>> So, when you look at here,\n\n234\n00:12:27.243 --> 00:12:29.160\nit's basically the same\ntype of configuration.\n\n235\n00:12:29.160 --> 00:12:33.130\nSo, while Red Hat might change\nthe commands a little bit,\n\n236\n00:12:33.130 --> 00:12:35.280\nor Debian might have commands that are a\nlittle different, at the end of the day,\n\n237\n00:12:35.280 --> 00:12:37.220\nthe configurations are basically the same.\n\n238\n00:12:37.220 --> 00:12:39.840\nIt's all laid out here, and they got\na nice little README file that explains\n\n239\n00:12:39.840 --> 00:12:42.940\nwhat's going on and\nhow you can kind of manipulate this.\n\n240\n00:12:42.940 --> 00:12:44.339\nAnd these files are read in order, so\n\n241\n00:12:44.339 --> 00:12:46.471\nthat's why they have numbers\nat the beginning of them.\n\n242\n00:12:46.471 --> 00:12:50.627\nThose 00, those are read first,\nthen 10, then 20, then 30, then 40.\n\n243\n00:12:50.627 --> 00:12:54.110\nIf there's ones that are the same,\nthey're kinda read alphabetically.\n\n244\n00:12:54.110 --> 00:12:55.483\nSo, it just goes through and\n\n245\n00:12:55.483 --> 00:12:58.310\nprocesses each one of those as\nit builds that config file.\n\n246\n00:12:58.310 --> 00:13:00.304\nSo, all kind of an important\npart of that process.\n\n247\n00:13:00.304 --> 00:13:03.346\nOnce it's done,\nwe issue an update command,\n\n248\n00:13:03.346 --> 00:13:06.864\nwhich could be the update-grub,\nupdate-grub2.\n\n249\n00:13:06.864 --> 00:13:11.184\nIt could be the grub-mkconfig,\nor grub2-mkconfig.\n\n250\n00:13:11.184 --> 00:13:14.824\nWhichever one of those it is that our\ndistro has, or it might have more than\n\n251\n00:13:14.824 --> 00:13:18.190\none, that builds the config file,\nand now grub2 is ready to rock.\n\n252\n00:13:19.830 --> 00:13:22.140\nSo, those are some of the big things.\n\n253\n00:13:23.560 --> 00:13:25.150\nThe other thing is, if we try and\n\n254\n00:13:25.150 --> 00:13:30.050\nread that GRUB config file, there are some\nlittle things that are different in it.\n\n255\n00:13:30.050 --> 00:13:31.570\nLet me just bring that up.\n\n256\n00:13:31.570 --> 00:13:33.022\nI'm not gonna edit it,\nwe're just gonna view it.\n\n257\n00:13:33.022 --> 00:13:36.622\nOops, if I get in\nthe right directory here.\n\n258\n00:13:36.622 --> 00:13:40.568\nLet's see, /etc/boot/grub2/grub,\n\n259\n00:13:40.568 --> 00:13:46.496\nlet's just get in that folder here\nsince I can't seem to remember.\n\n260\n00:13:46.496 --> 00:13:49.724\n[LAUGH] I can't seem to\nremember where I'm going today.\n\n261\n00:13:49.724 --> 00:13:57.330\nAll right, so we're gonna get into grub2,\nand there is my grub.cfg file.\n\n262\n00:13:57.330 --> 00:13:59.600\nAll right,\nfew little things that have changed.\n\n263\n00:13:59.600 --> 00:14:03.140\nIf I scroll down here until I find\nthe operating system sections,\n\n264\n00:14:03.140 --> 00:14:06.140\nyou'll notice a few things are different.\n\n265\n00:14:06.140 --> 00:14:10.350\nIn the GRUB version 1 configurations,\nwe would have things like title,\n\n266\n00:14:10.350 --> 00:14:13.200\nfollowed by a title, and that's how we\nknew an operating system was starting.\n\n267\n00:14:13.200 --> 00:14:16.010\nBut here I've got menuentry.\n\n268\n00:14:16.010 --> 00:14:17.000\nThey're called menu entries,\n\n269\n00:14:17.000 --> 00:14:20.020\nnow they've changed that terminology\ncuz it's a little more accurate.\n\n270\n00:14:20.020 --> 00:14:22.930\nThis is gonna be an entry\nin that menu that we see.\n\n271\n00:14:22.930 --> 00:14:25.647\nAnd so some of the terminology\nthat's used in here is different.\n\n272\n00:14:25.647 --> 00:14:29.603\nYou'll also see where we can\ncontrol which modules get loaded,\n\n273\n00:14:29.603 --> 00:14:32.473\nwhich is more than what\nthe original GRUB did.\n\n274\n00:14:32.473 --> 00:14:34.111\nIt would take kernel options,\n\n275\n00:14:34.111 --> 00:14:38.010\nand here, we can specify additional\nthings like module options.\n\n276\n00:14:38.010 --> 00:14:40.590\nYou'll see a few other things,\nlike instead of just saying,\n\n277\n00:14:40.590 --> 00:14:43.250\nroot whatever here,\nit just does a set of root.\n\n278\n00:14:43.250 --> 00:14:46.450\nAnd so, we get little variations\non that configuration.\n\n279\n00:14:46.450 --> 00:14:48.280\nThe syntax is not exactly the same.\n\n280\n00:14:48.280 --> 00:14:50.600\nAnd that's part of why they\nwanted to break this out,\n\n281\n00:14:50.600 --> 00:14:53.850\nto avoid a little bit of confusion there.\n\n282\n00:14:53.850 --> 00:14:56.740\nBut once it's done, we can reboot and\n\n283\n00:14:57.770 --> 00:15:01.130\nthis one is gonna have\nGRUB version 2 bootloader.\n\n284\n00:15:01.130 --> 00:15:04.440\nNow, when this one reboots,\nhere's the GRUB version 2 bootloader.\n\n285\n00:15:04.440 --> 00:15:05.980\nI didn't have a splash screen, so\n\n286\n00:15:05.980 --> 00:15:09.050\nthis one's just the regular\nstraight up text screen.\n\n287\n00:15:09.050 --> 00:15:12.020\nBut just like in GRUB version 1,\nI can choose a menu item.\n\n288\n00:15:12.020 --> 00:15:13.890\nAnd I can hit e to edit it.\n\n289\n00:15:13.890 --> 00:15:15.730\nI can go in and I can modify it.\n\n290\n00:15:15.730 --> 00:15:20.850\nAnd honestly, of all the ways to edit\nyour items, this is probably the easiest.\n\n291\n00:15:20.850 --> 00:15:23.540\nCuz I can come in here, and now I\njust see the options for this one and\n\n292\n00:15:23.540 --> 00:15:28.490\nI don't have to worry about update-grub or\ngrub-makeconfig, or whatever,\n\n293\n00:15:28.490 --> 00:15:31.290\nI can just modify it in\nhere how we need it to be.\n\n294\n00:15:32.640 --> 00:15:36.020\nAnd when you're done,\nyou can hit Ctrl+X and\n\n295\n00:15:36.020 --> 00:15:38.380\nit'll boot this option\nthe way that you set it.\n\n296\n00:15:38.380 --> 00:15:41.640\nOr you can just hit Escape and\nyou come right back here, and\n\n297\n00:15:41.640 --> 00:15:43.950\nyou can continue to edit other ones and\nwork with it.\n\n298\n00:15:43.950 --> 00:15:48.920\nSo, it's not that it's really harder\nto work with than GRUB version 1,\n\n299\n00:15:48.920 --> 00:15:50.540\nit's just a lot more powerful.\n\n300\n00:15:50.540 --> 00:15:52.227\nIt's a lot different thing GRUB version 1,\nso\n\n301\n00:15:52.227 --> 00:15:53.841\nwe have to go about\nthings are different way.\n\n302\n00:15:53.841 --> 00:16:00.552\nKey thing to remember for the exam,\ndo not manually edit that grub.cfg file.\n\n303\n00:16:00.552 --> 00:16:02.514\nYou're not supposed to edit it directly.\n\n304\n00:16:02.514 --> 00:16:06.937\nInstead, you work with\nthe custom files in /etc/grub.d.\n\n305\n00:16:06.937 --> 00:16:11.767\nAll right, is there anything else\nI wanna show on GRUB version 2?\n\n306\n00:16:11.767 --> 00:16:12.324\nI think that's about it.\n\n307\n00:16:12.324 --> 00:16:15.690\nYeah, that's really it.\n\n308\n00:16:15.690 --> 00:16:17.280\nI can't think of anything else.\n\n309\n00:16:17.280 --> 00:16:19.760\nJust be aware that you are more likely\nto see GRUB version 2 than GRUB version\n\n310\n00:16:19.760 --> 00:16:20.590\n1 these days.\n\n311\n00:16:20.590 --> 00:16:24.380\n>> Yeah, it seems, and they do have a lot\nof different ways to edit those files.\n\n312\n00:16:24.380 --> 00:16:28.440\nTo me, it seems like having multiple\naccount numbers for my bank account.\n\n313\n00:16:28.440 --> 00:16:31.580\nAnd which one you use depends on\nwhat system you're working on it.\n\n314\n00:16:31.580 --> 00:16:34.829\nIt can definitely get a little confusing,\nmaybe even a little frustrating, but\n\n315\n00:16:34.829 --> 00:16:37.718\nas you tend to work with the system\nthat you're actually working with.\n\n316\n00:16:37.718 --> 00:16:40.769\nSo, if you've gone Debian,\nor if you've gone CentOS,\n\n317\n00:16:40.769 --> 00:16:42.750\nyou'll become familiar with that.\n\n318\n00:16:42.750 --> 00:16:47.313\nAnd we do know you need to kinda have\nthat roundabout knowledge for the exam.\n\n319\n00:16:47.313 --> 00:16:51.055\nBut in practicality, as you're working\nwith your systems, you're gonna tend to\n\n320\n00:16:51.055 --> 00:16:54.080\nprefer one over the other, and\nthat will come with that as well.\n\n321\n00:16:54.080 --> 00:16:58.410\nSo, don't worry too much about\nit [LAUGH] seeming overwhelming,\n\n322\n00:16:58.410 --> 00:16:59.730\nnot too bad, right, Don?\n\n323\n00:16:59.730 --> 00:17:03.063\n>> Yeah, the other thing to remember is\njust as you do routine maintenance on\n\n324\n00:17:03.063 --> 00:17:04.694\nyour system, it will modify GRUB.\n\n325\n00:17:04.694 --> 00:17:10.160\nSo for example, if you're doing updates\none day, you run a sudo Yum update-y.\n\n326\n00:17:10.160 --> 00:17:11.299\nYou just let it do its updates.\n\n327\n00:17:11.299 --> 00:17:14.172\nWell, it may update the kernel,\nand it'll turn around and\n\n328\n00:17:14.172 --> 00:17:16.652\nedit GRUB to include the new\nversion of the kernel.\n\n329\n00:17:16.652 --> 00:17:19.720\nAnd it'll normally take your old kernel\nand move it as a secondary item.\n\n330\n00:17:19.720 --> 00:17:24.735\nSo, you may see new menu items appear and\nthose are designed for recovery purposes.\n\n331\n00:17:24.735 --> 00:17:26.565\nThe new kernel might install\nwhen something breaks,\n\n332\n00:17:26.565 --> 00:17:28.175\nyou can quickly boot to the old kernel.\n\n333\n00:17:28.175 --> 00:17:29.465\nSo, expect to see that too.\n\n334\n00:17:29.465 --> 00:17:33.005\nThe system will make changes, and\nthat's just normal for the system.\n\n335\n00:17:33.005 --> 00:17:34.023\n>> Yes, well, Don,\n\n336\n00:17:34.023 --> 00:17:38.470\nI think we've come to the end of\nanother great episode here at ITProTV.\n\n337\n00:17:38.470 --> 00:17:41.180\nGRUB, definitely a mystery, but\nshould be hopefully solved.\n\n338\n00:17:41.180 --> 00:17:43.006\nWe've removed the veil, as it were.\n\n339\n00:17:43.006 --> 00:17:47.963\nThat being said, looks like we'll\ngo ahead and sign off for ITProTV.\n\n340\n00:17:47.963 --> 00:17:49.422\nI've been your host, Daniel Lowrie.\n\n341\n00:17:49.422 --> 00:17:50.339\n>> And I'm Don Pezet.\n\n342\n00:17:50.339 --> 00:17:51.790\n>> And we'll see you next time.\n\n343\n00:17:51.790 --> 00:17:58.129\n[MUSIC]\n\n",
          "vimeoId": "131434928"
        },
        {
          "description": null,
          "length": "1719",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-2-sysv_initialization_process-061915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-2-sysv_initialization_process-061915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-2-sysv_initialization_process-061915-1-sm.jpg",
          "title": "SysV Initialization Process",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.822\n[MUSIC]\n\n2\n00:00:10.822 --> 00:00:15.438\nAll right everyone, greetings and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.438 --> 00:00:19.490\nI'll be your host, Daniel Lowrie and here\nwith me today is the Linux user of doom.\n\n4\n00:00:19.490 --> 00:00:21.020\nDon Pezet, how's it going Don?\n\n5\n00:00:21.020 --> 00:00:25.432\n>> I am doing great Daniel, I promise to\nremember what user I'm logged in as today.\n\n6\n00:00:25.432 --> 00:00:28.290\n>> [LAUGH]\n>> [LAUGH] We are back with another\n\n7\n00:00:28.290 --> 00:00:29.810\nepisode of Linux Plus,\n\n8\n00:00:29.810 --> 00:00:33.800\nwe're gonna be taking a look at the\ninitialization process inside of Linux.\n\n9\n00:00:33.800 --> 00:00:37.910\nNow this is a bit of a hot topic in\nthe Linux communities that are out\n\n10\n00:00:37.910 --> 00:00:38.900\nthere right now.\n\n11\n00:00:38.900 --> 00:00:42.360\nWe're gonna be talking\nabout the SysVinit process.\n\n12\n00:00:42.360 --> 00:00:44.660\nWe're gonna talk a little\nbit about upstart and\n\n13\n00:00:44.660 --> 00:00:46.600\nthen we'll probably do a two\npart series on this one.\n\n14\n00:00:46.600 --> 00:00:49.810\nAnd the second episode,\nwe'll do good old systemd.\n\n15\n00:00:49.810 --> 00:00:54.320\nSo if you haven't heard of these things\nthen it's really not a big deal, but\n\n16\n00:00:54.320 --> 00:00:57.710\nif you have heard of these things then you\nlikely have a very, very strong opinion.\n\n17\n00:00:57.710 --> 00:00:59.210\nJust seems to be how this works out.\n\n18\n00:00:59.210 --> 00:01:02.340\nWe'll try to put the opinions aside,\nand take a look at\n\n19\n00:01:02.340 --> 00:01:04.420\neach of these initialization processes and\nhow they work.\n\n20\n00:01:04.420 --> 00:01:07.990\nNow let me start off\na little bit before that.\n\n21\n00:01:07.990 --> 00:01:09.189\nWhat's an initialization process?\n\n22\n00:01:09.189 --> 00:01:10.920\n>> [LAUGH]\n>> What the heck is that?\n\n23\n00:01:10.920 --> 00:01:14.280\nWell, in earlier episodes, we talk\nabout the boot process of Linux and\n\n24\n00:01:14.280 --> 00:01:18.760\nhow the BIOS fires up and\nthen it looks for your hard drives.\n\n25\n00:01:18.760 --> 00:01:20.570\nFrom there, it looks for\nthe master boot record.\n\n26\n00:01:20.570 --> 00:01:22.500\nFrom there, it finds your bootloader.\n\n27\n00:01:22.500 --> 00:01:24.160\nAnd your bootloader fires up.\n\n28\n00:01:24.160 --> 00:01:27.110\nAnd from there, it finds your OS,\nit finds in the kernel and\n\n29\n00:01:27.110 --> 00:01:29.838\nit turns over control to the kernel.\n\n30\n00:01:29.838 --> 00:01:32.340\nAnd the kernel creates\na little round disk and\n\n31\n00:01:32.340 --> 00:01:36.270\nit does its initialization inside of this\nRAM disk inside of memory, all right?\n\n32\n00:01:36.270 --> 00:01:39.622\nThat is what kicks off\nthe initialization process.\n\n33\n00:01:39.622 --> 00:01:42.570\nAnd Init, it's actually an executable,\nyou can find it on your hard drive.\n\n34\n00:01:42.570 --> 00:01:44.430\nHere, I'll show you on this one.\n\n35\n00:01:44.430 --> 00:01:49.212\nI've got a, this is a Debian system,\n\n36\n00:01:49.212 --> 00:01:54.152\nbut if I go in to /sbin/init, right?\n\n37\n00:01:54.152 --> 00:01:58.250\nRight there, there's a little\nexecutable called, well, init.\n\n38\n00:01:58.250 --> 00:01:59.580\nThat's it.\nThat's the initialization process\n\n39\n00:01:59.580 --> 00:02:00.890\na regular programmer runs.\n\n40\n00:02:00.890 --> 00:02:05.240\nAnd if I jump over to a CentOS system,\nwith their annoying slide up\n\n41\n00:02:05.240 --> 00:02:09.210\nlog in screen now, that's something you\ncan have an opinion about right there.\n\n42\n00:02:09.210 --> 00:02:11.155\nIf we take a look at it,\nit's the same thing,right?\n\n43\n00:02:11.155 --> 00:02:15.525\nThat you have this initialization file\nthat's loaded and the reason they're\n\n44\n00:02:15.525 --> 00:02:19.431\nthe same is that you've gotta remember\nthat all these Linux distros,\n\n45\n00:02:19.431 --> 00:02:22.485\nthe Linux kernel itself is based on Unix,\nright?\n\n46\n00:02:22.485 --> 00:02:26.870\nWhere when Linus Torvalds set out\nto make all of this, he said,\n\n47\n00:02:26.870 --> 00:02:29.840\nI wanna make a system\nthat's just like Linux.\n\n48\n00:02:29.840 --> 00:02:34.070\nBut instead of being something that\nhas to licensed through AT&T and\n\n49\n00:02:34.070 --> 00:02:38.050\nall of that, I want it to be free, right?\n\n50\n00:02:38.050 --> 00:02:39.170\nOpen source.\n\n51\n00:02:39.170 --> 00:02:44.300\nAnd so, he started making this kernel,\nbut it followed Unix procedures.\n\n52\n00:02:44.300 --> 00:02:48.834\nAnd under Unix, the current version of\nUnix at the time that he was working with\n\n53\n00:02:48.834 --> 00:02:50.700\nit was called system five Unix.\n\n54\n00:02:50.700 --> 00:02:53.830\nOr it's written SysV like this, SysV.\n\n55\n00:02:53.830 --> 00:02:55.820\nThe Roman numeral V is five.\n\n56\n00:02:55.820 --> 00:02:58.823\nSo a system five Linux,\noh, a system five Unix.\n\n57\n00:02:58.823 --> 00:03:02.060\nThat's what Linux is built to model,\nright?\n\n58\n00:03:02.060 --> 00:03:06.660\nAnd while Linux isn't officially a Unix,\nit's a Unix variant, right.\n\n59\n00:03:06.660 --> 00:03:09.490\nIt's a variation and\nit has binary compatibility with it.\n\n60\n00:03:09.490 --> 00:03:12.310\nSo, you got a program is written for Unix.\n\n61\n00:03:12.310 --> 00:03:14.890\nWell, at least back in the day,\nthey would run on top on Linux.\n\n62\n00:03:14.890 --> 00:03:16.270\nThings have changed a lot since then.\n\n63\n00:03:16.270 --> 00:03:19.820\nUnix has not evolved at\nthe same rate as Linux has.\n\n64\n00:03:19.820 --> 00:03:24.200\nBut on the old Unix systems,\nthey would launch /sbin/init.\n\n65\n00:03:24.200 --> 00:03:27.320\nAnd that fired up the system\nfive initialization process.\n\n66\n00:03:27.320 --> 00:03:31.556\nAnd the system five initialization\nprocess really wasn't terribly complex.\n\n67\n00:03:31.556 --> 00:03:37.470\nYou had one file, that defined what\nwould happen when your system booted up.\n\n68\n00:03:37.470 --> 00:03:40.620\nOne really big file.\n\n69\n00:03:40.620 --> 00:03:44.410\nAnd that file contained all\nthe services you needed to start,\n\n70\n00:03:44.410 --> 00:03:47.310\nhow your system would operate,\nwhat would occur.\n\n71\n00:03:47.310 --> 00:03:49.470\nThat was all defined right in that file.\n\n72\n00:03:49.470 --> 00:03:53.420\nNow, over the years as things got more\ncomplex, that file got bigger and\n\n73\n00:03:53.420 --> 00:03:55.770\nbigger and bigger and\nbecame more challenging to work with.\n\n74\n00:03:55.770 --> 00:04:01.158\nAnd so we've had replacements for system\nfive and it come out over the years.\n\n75\n00:04:01.158 --> 00:04:02.680\nThose are the two others\nthat we're gonna talk about.\n\n76\n00:04:02.680 --> 00:04:04.380\nWe're gonna talk about upstart and\nsystemd,\n\n77\n00:04:04.380 --> 00:04:06.730\nthose are designed to replace this.\n\n78\n00:04:06.730 --> 00:04:11.090\nBut, there's still distributions today\nthat are using system five init, for\n\n79\n00:04:11.090 --> 00:04:12.260\nexample Debian.\n\n80\n00:04:12.260 --> 00:04:15.120\nIf I jump back over here to\nmy Debian install, this one\n\n81\n00:04:15.120 --> 00:04:18.550\nis using the original system five, well I\nshouldn't say it's the original, right?\n\n82\n00:04:18.550 --> 00:04:20.350\nObviously, they've updated it and so on.\n\n83\n00:04:20.350 --> 00:04:23.290\nBut they've maintained\nthat same structure as\n\n84\n00:04:23.290 --> 00:04:24.857\nsystem five init from the Unix Systems,\nright.\n\n85\n00:04:26.080 --> 00:04:28.960\nSo when we call this init, it looks for\n\n86\n00:04:28.960 --> 00:04:31.260\na little script file\nthat tells it what to do.\n\n87\n00:04:31.260 --> 00:04:33.430\nWhat do I do when this computer turns on?\n\n88\n00:04:33.430 --> 00:04:37.190\nOr what do I do when I change run levels?\n\n89\n00:04:37.190 --> 00:04:40.230\nNow, let's talk about run\nlevels a little bit, all right.\n\n90\n00:04:40.230 --> 00:04:42.690\nWe mentioned run levels\nin another episode.\n\n91\n00:04:42.690 --> 00:04:48.930\nAnd with run levels, your system has to\nknow what to do in certain instances.\n\n92\n00:04:48.930 --> 00:04:53.290\nAnd you have seven run levels,\nrun level zero through six.\n\n93\n00:04:53.290 --> 00:04:57.150\nAnd each run level reflects\na certain status on the machine.\n\n94\n00:04:57.150 --> 00:05:05.379\nAnd we can see those, they are tucked\naway inside of /etc/inittab, all right.\n\n95\n00:05:05.379 --> 00:05:07.027\nInside of /etc/inittab,\n\n96\n00:05:07.027 --> 00:05:12.050\nwe'll have some little entries in here\nthat tell us what our run levels are.\n\n97\n00:05:12.050 --> 00:05:16.525\nAll right, now system five init and\nupstart both use this,\n\n98\n00:05:16.525 --> 00:05:19.580\nsystemd doesn't, so\nsome of the stuff goes away with systemd.\n\n99\n00:05:19.580 --> 00:05:22.470\nI'll hold that for the systemd episode,\nbut for system five init,\n\n100\n00:05:22.470 --> 00:05:24.030\nwe have run levels.\n\n101\n00:05:24.030 --> 00:05:27.940\nAnd you can see, zero through six\nright here, zero is halt, right?\n\n102\n00:05:27.940 --> 00:05:33.070\nIf you're on level zero, technically your\ncomputer should be powered off, right?\n\n103\n00:05:33.070 --> 00:05:35.550\nSometimes Linux can't tell your\nhardware to power off, though,\n\n104\n00:05:35.550 --> 00:05:38.480\nif it doesn't have ACPI support,\nor whatever.\n\n105\n00:05:38.480 --> 00:05:41.480\nAnd if that's the case, your computer\nmight just be sitting there on a black\n\n106\n00:05:41.480 --> 00:05:44.500\nscreen and you actually have to hit your\nphysical power button to turn it off.\n\n107\n00:05:44.500 --> 00:05:48.045\nBut zero is basically non-functional,\nall right?.\n\n108\n00:05:48.045 --> 00:05:50.770\nRun level of six, that's rebooting.\n\n109\n00:05:50.770 --> 00:05:54.890\nIf you're at run level six, your system\nshould be rebooting right now, all right.\n\n110\n00:05:54.890 --> 00:06:00.200\nThe run levels in between, these are\nvarying levels of functioning, all right.\n\n111\n00:06:00.200 --> 00:06:01.760\nIf you're in run level one through five,\n\n112\n00:06:01.760 --> 00:06:04.960\nyou should have some kind of basic\nfunctions on your system, all right.\n\n113\n00:06:04.960 --> 00:06:06.820\nAnd here's how they lay out.\n\n114\n00:06:06.820 --> 00:06:09.410\nRun level one is single user mode.\n\n115\n00:06:09.410 --> 00:06:12.090\nOnly one user can be logged\nin to the system, all right.\n\n116\n00:06:12.090 --> 00:06:15.180\nAnd that user is typically root or\nan admin user.\n\n117\n00:06:15.180 --> 00:06:16.780\nIf you need to do maintenance\non your system and\n\n118\n00:06:16.780 --> 00:06:20.199\nyou need to make sure nobody else is in\nthere, you can jump to run level one, and\n\n119\n00:06:20.199 --> 00:06:23.940\neverybody else is stuck out, okay.\n\n120\n00:06:23.940 --> 00:06:27.500\nWell, when your bootloader turns\nover control to the kernel, and\n\n121\n00:06:27.500 --> 00:06:29.990\nthe kernel runs\nthe initialization process.\n\n122\n00:06:29.990 --> 00:06:33.964\nSystem five init looks for the run level\nand it says, oh, you're in single user,\n\n123\n00:06:33.964 --> 00:06:36.540\nI'm not gonna allow other\npeople to log in, right.\n\n124\n00:06:36.540 --> 00:06:39.800\nSo it's the initialization process\nthat respects these run levels,\n\n125\n00:06:39.800 --> 00:06:41.060\nit's reading these values.\n\n126\n00:06:42.170 --> 00:06:46.240\nAnd then we see like here,\nrun level two, multiuser, all right.\n\n127\n00:06:46.240 --> 00:06:48.780\nIt says here,\nmultiuser without NFS, right,\n\n128\n00:06:48.780 --> 00:06:54.390\nso it's basically not gonna have some of\nthe network sharing that we have normally.\n\n129\n00:06:54.390 --> 00:06:56.890\nRun level three is full multiuser mode.\n\n130\n00:06:56.890 --> 00:07:01.785\nThat means we get a command line, and\nas many people as we want can log in.\n\n131\n00:07:01.785 --> 00:07:05.475\nRun level four is left empty and that's\nbecause you might want to use that for\n\n132\n00:07:05.475 --> 00:07:06.025\nsomething yourself.\n\n133\n00:07:06.025 --> 00:07:09.295\nYou can define your own run level\nthat has custom characteristics.\n\n134\n00:07:09.295 --> 00:07:13.505\nAnd actually this run level two, run\nlevel two a lot of times is not defined.\n\n135\n00:07:13.505 --> 00:07:18.200\nHere in Red Hat or CentOS, it is, but\nin another distro like maybe Debian or\n\n136\n00:07:18.200 --> 00:07:19.780\nsomething, it might not be used or\n\n137\n00:07:19.780 --> 00:07:24.080\nactually, I think Debian has\nthis one as multiuser with GUI.\n\n138\n00:07:24.080 --> 00:07:26.926\nSo in Debian,\nit's actually the same as run level five.\n\n139\n00:07:26.926 --> 00:07:30.413\nRun level 5 is multiuser with\na graphical user interface.\n\n140\n00:07:30.413 --> 00:07:35.118\nSo here that it says x11, but\nthat's your typical desktop composite and\n\n141\n00:07:35.118 --> 00:07:36.170\nall that stuff.\n\n142\n00:07:37.360 --> 00:07:38.940\nAnd then after that we've\ngot good old six, right?\n\n143\n00:07:38.940 --> 00:07:43.681\nSo for most of us, we're really only gonna\nsee two run levels, run level three,\n\n144\n00:07:43.681 --> 00:07:48.382\nif we want to boot to command line, and\nrun level five, if we want to boot to GUI.\n\n145\n00:07:48.382 --> 00:07:50.174\nThose are the two we deal with.\n\n146\n00:07:50.174 --> 00:07:55.203\nWhen init fires up, init looks at this\nfile to see what should be the default.\n\n147\n00:07:55.203 --> 00:07:57.255\nSee how mine says init default five.\n\n148\n00:07:57.255 --> 00:08:00.907\nSo my system knows when it reboots,\ndon't boot to a command line,\n\n149\n00:08:00.907 --> 00:08:02.155\nboot to a GUI, right?\n\n150\n00:08:02.155 --> 00:08:04.770\nThis is what a init is looking for.\n\n151\n00:08:04.770 --> 00:08:08.440\nAnd I can tell init to move to\na different runlevel, right?\n\n152\n00:08:08.440 --> 00:08:09.540\nIt's what controls this stuff.\n\n153\n00:08:10.590 --> 00:08:15.400\nIf you run the runlevel command,\nit'll tell you what runlevel you're at.\n\n154\n00:08:15.400 --> 00:08:17.366\nSame how mine says N and 5?\n\n155\n00:08:17.366 --> 00:08:22.221\nThe N, that first value, actually\nreflects what your previous runlevel was,\n\n156\n00:08:22.221 --> 00:08:22.950\nall right?\n\n157\n00:08:22.950 --> 00:08:27.525\nI've never changed my runlevel and since I\nhaven't changed my runlevel, it just says,\n\n158\n00:08:27.525 --> 00:08:29.720\nthere was no runlevel before, right?\n\n159\n00:08:29.720 --> 00:08:34.730\nSo if you just powered on you'd expect to\nsee that but now I'm at runlevel 5, okay?\n\n160\n00:08:34.730 --> 00:08:37.670\nWell let's say I wanted\nto change my runlevel.\n\n161\n00:08:37.670 --> 00:08:42.240\nI could say init, and\nthen what runlevel I wanted to be in.\n\n162\n00:08:42.240 --> 00:08:44.380\nSo, maybe I want to drop\nto command line only.\n\n163\n00:08:44.380 --> 00:08:46.254\nSo I'll say init 3, all right?\n\n164\n00:08:46.254 --> 00:08:47.660\nI'm going to do that.\n\n165\n00:08:47.660 --> 00:08:49.600\nSee how my GUI just died?\n\n166\n00:08:49.600 --> 00:08:54.427\nAnd now I'm in my command line,\nand I can login as me, and\n\n167\n00:08:54.427 --> 00:08:57.175\nI can run the runlevel command.\n\n168\n00:08:57.175 --> 00:09:02.920\n5 is what I was in,\n3 is what I'm in now all right?\n\n169\n00:09:02.920 --> 00:09:04.497\nAnd it was init that moved me to that.\n\n170\n00:09:04.497 --> 00:09:07.195\nIf I wanna go to single user mode,\nI can say init 1, and\n\n171\n00:09:07.195 --> 00:09:10.099\nnow I'm gonna move down to,\noh, I'm not admin, right?\n\n172\n00:09:10.099 --> 00:09:14.335\nSo, I would need to be root to do that and\nthen I'll say init 1 and\n\n173\n00:09:14.335 --> 00:09:17.890\nit's gonna drop me down\nto single user mode.\n\n174\n00:09:17.890 --> 00:09:19.910\nI'm still gonna be in the command line but\n\n175\n00:09:19.910 --> 00:09:21.850\nthe root user is the only\nperson allowed in it.\n\n176\n00:09:21.850 --> 00:09:23.400\nSee how I didn't have to login again?\n\n177\n00:09:23.400 --> 00:09:27.340\nI'm still logged in, but\nnow I'm the only person logged in.\n\n178\n00:09:27.340 --> 00:09:30.520\nAnd so I know I've got exclusive\naccess to files and other data, right?\n\n179\n00:09:30.520 --> 00:09:32.321\nAll by changing that runlevel.\n\n180\n00:09:32.321 --> 00:09:34.638\nAnd it's init that's doing it, /sbin/init,\n\n181\n00:09:34.638 --> 00:09:38.290\nthat's the System 5 initialization\nprocess, that's what's doing this.\n\n182\n00:09:40.020 --> 00:09:44.180\nNow, we manipulate this\nstuff all the time,.\n\n183\n00:09:44.180 --> 00:09:45.873\nIf you're gonna shut your machine down,\nright?\n\n184\n00:09:45.873 --> 00:09:49.040\nAnd we use the shutdown command,\nlike shutdown now.\n\n185\n00:09:49.040 --> 00:09:51.380\nshutdown now says, turn this computer off.\n\n186\n00:09:51.380 --> 00:09:53.590\nWell, that's what init zero 0.\n\n187\n00:09:53.590 --> 00:09:55.340\ninit 0 says, turn this computer off.\n\n188\n00:09:55.340 --> 00:10:00.290\nSo, shutdown now is really just\nsending init 0 and if we flip to that,\n\n189\n00:10:00.290 --> 00:10:04.360\nit's gonna power that machine down\njust like shutdown now would, right?\n\n190\n00:10:04.360 --> 00:10:07.424\nSo you work with this stuff all the time\nwithout even thinking about it.\n\n191\n00:10:07.424 --> 00:10:11.516\nThe nice part about the shutdown command,\nis it will work you're on System D or\n\n192\n00:10:11.516 --> 00:10:14.620\nupstart or system 5,\nit's a little more generic.\n\n193\n00:10:14.620 --> 00:10:19.510\nBut if I'm on an actual System 5 or\n\n194\n00:10:19.510 --> 00:10:24.150\nSystem V machine, I can do init and\nachieve the same goal, right?\n\n195\n00:10:24.150 --> 00:10:25.420\nWe didn't always have\nthat shutdown command.\n\n196\n00:10:25.420 --> 00:10:26.030\nIt wasn't always there.\n\n197\n00:10:27.780 --> 00:10:28.671\nAll right, so\n\n198\n00:10:28.671 --> 00:10:33.510\nthose were some of the basics of what\nthe initialization process is, right?\n\n199\n00:10:33.510 --> 00:10:35.360\nNow how does it work?\n\n200\n00:10:35.360 --> 00:10:40.640\nWell, when it fires up, /sbin/init gets\ncalled, it starts to run and then it says,\n\n201\n00:10:40.640 --> 00:10:48.600\nokay, what is my system supposed to\ndo if I am at a certain runlevel?\n\n202\n00:10:48.600 --> 00:10:53.353\nThe way it finds that out,\nis by looking at its config file.\n\n203\n00:10:53.353 --> 00:10:56.383\nNow, the config file was that init\ntab that I was in a minute ago.\n\n204\n00:10:56.383 --> 00:10:58.460\nAnd you guys know it wasn't\nmuch in there right?\n\n205\n00:10:58.460 --> 00:11:00.730\nWell, there's a reason for\nthat, I'll show you later.\n\n206\n00:11:00.730 --> 00:11:02.440\nI'm gonna jump over to Debian.\n\n207\n00:11:02.440 --> 00:11:06.710\nThis is Debian, and it's using\nthe original System 5 init specs.\n\n208\n00:11:06.710 --> 00:11:11.854\nAnd if I take a look at /etc/inittab,\nright?\n\n209\n00:11:11.854 --> 00:11:15.810\nIf I take a look at that file,\non my Red Hat system,\n\n210\n00:11:15.810 --> 00:11:20.960\nI just saw one entry in here\nthat had the init default.\n\n211\n00:11:20.960 --> 00:11:24.680\nBut when I look inside of Debian's,\nlook what I've got here.\n\n212\n00:11:24.680 --> 00:11:26.527\nI've got these entries,\nhere it's telling me the runlevels.\n\n213\n00:11:26.527 --> 00:11:30.685\nSee, 0 is halt, 1 is single user,\n2 to 5 are multi-user, 6 is reboot, right?\n\n214\n00:11:30.685 --> 00:11:33.700\nPretty much in line with\nwhat Red Hat was using.\n\n215\n00:11:33.700 --> 00:11:35.720\nThey don't have to, they could choose\nwhatever the heck they wanted for these,\n\n216\n00:11:35.720 --> 00:11:38.660\nbut most of the distros\nhave standardized on this.\n\n217\n00:11:38.660 --> 00:11:43.190\nAnd then I see all these lines,\nthat are like L followed by a number and\n\n218\n00:11:43.190 --> 00:11:44.570\nthen a wait command and\n\n219\n00:11:44.570 --> 00:11:50.330\nthen some kind of program followed by\nanother 0 or another number, right?\n\n220\n00:11:50.330 --> 00:11:54.683\nWhat is this doing is saying, when your\nsystem boots up and you're going to init,\n\n221\n00:11:54.683 --> 00:11:55.453\nwhat do we do?\n\n222\n00:11:55.453 --> 00:11:57.430\nAnd all these L's,\nthese are launch commands.\n\n223\n00:11:58.600 --> 00:12:02.255\nSo, when I'm at runlevel 1,\nlaunch this program.\n\n224\n00:12:02.255 --> 00:12:04.544\nWhen I'm at runlevel 4,\nlaunch this program.\n\n225\n00:12:04.544 --> 00:12:07.790\nWhen I'm at runlevel 6,\nlaunch this program, right?\n\n226\n00:12:07.790 --> 00:12:13.382\nAnd so we can see the program\n/etc/enit.d/rc, right?\n\n227\n00:12:13.382 --> 00:12:15.110\nThat's a script.\n\n228\n00:12:15.110 --> 00:12:17.360\nAll of these runlevels\nare calling the same script.\n\n229\n00:12:17.360 --> 00:12:19.500\nI can call any program I wanted though.\n\n230\n00:12:19.500 --> 00:12:20.280\nYou can have some real fun.\n\n231\n00:12:20.280 --> 00:12:21.771\nI can call it the shutdown command.\n\n232\n00:12:21.771 --> 00:12:24.093\nAnd then any time someone booted up the\ncomputer it would just shut down again.\n\n233\n00:12:24.093 --> 00:12:25.360\nThat's a fun one.\n\n234\n00:12:25.360 --> 00:12:26.630\nOr you can call the reboot\ncommand [LAUGH].\n\n235\n00:12:26.630 --> 00:12:27.910\nThose are some good ones.\n\n236\n00:12:27.910 --> 00:12:30.530\nYou can call any program\nyou want from here, right?\n\n237\n00:12:30.530 --> 00:12:31.650\nAnd you tell it what runlevel.\n\n238\n00:12:31.650 --> 00:12:34.890\nNow the reason they do one more runlevel\nhere, is they're all calling the same\n\n239\n00:12:34.890 --> 00:12:37.520\ncommand and they're passing the runlevels\nof variable to that command.\n\n240\n00:12:37.520 --> 00:12:41.470\nSo, when they run that rc script, they're\npassing at what runlevel they're at.\n\n241\n00:12:41.470 --> 00:12:44.540\nAnd in the rc script,\nit'll say what to do.\n\n242\n00:12:45.620 --> 00:12:49.430\nAnd what that rc script is gonna do is,\nit's gonna call other rc files.\n\n243\n00:12:49.430 --> 00:12:51.880\nSo it's launching a series of scripts.\n\n244\n00:12:51.880 --> 00:12:55.450\nIn the original, true System 5 init\nthough, you really didn't do that.\n\n245\n00:12:55.450 --> 00:12:56.830\nAll the scripts are right here.\n\n246\n00:12:56.830 --> 00:12:59.790\nAnd that meant that file got really,\nreally big.\n\n247\n00:12:59.790 --> 00:13:02.956\nYou had tons of scripts and\ninformation here all based on runlevels.\n\n248\n00:13:02.956 --> 00:13:07.377\nAnd what made it really annoying,\nwas let's say I wanted to install a web\n\n249\n00:13:07.377 --> 00:13:12.980\nserver, and I wanted the web server to run\nwhen I was at runlevel 2, 3, 4, and 5.\n\n250\n00:13:12.980 --> 00:13:14.850\nOr maybe I'm not using 4,\nso just 2, 3, and 5.\n\n251\n00:13:14.850 --> 00:13:20.065\nI would have to go in here and modify\ndifferent scripts for different runlevels.\n\n252\n00:13:20.065 --> 00:13:22.860\nI'd have to modify the runlevel 2 scripts,\nthe runlevel 3 scripts,\n\n253\n00:13:22.860 --> 00:13:26.045\nthe runlevel 5 scripts, and\nput in, yeah launch my web server.\n\n254\n00:13:26.045 --> 00:13:27.423\nAnd that was a real challenge, right?\n\n255\n00:13:27.423 --> 00:13:29.776\nIt got complex and messy.\n\n256\n00:13:29.776 --> 00:13:34.590\nSo, this environment worked great back in\nthe old days, when you had Unix servers\n\n257\n00:13:34.590 --> 00:13:39.010\nthat were single purpose, or\nyou didn't mess with the runlevels much.\n\n258\n00:13:39.010 --> 00:13:39.600\nIt worked great.\n\n259\n00:13:40.670 --> 00:13:44.450\nBut, as desktops started to get use for\nLinux and\n\n260\n00:13:44.450 --> 00:13:48.170\nwe saw people loading tons of software\nIts started to get unmanageable.\n\n261\n00:13:48.170 --> 00:13:53.740\nIt wasn't as easy to deal with as it was\nbefore, and so that's when people started\n\n262\n00:13:53.740 --> 00:13:59.560\nrealizing, hey, maybe System 5 init is not\ngonna be good for the long hall, right?\n\n263\n00:13:59.560 --> 00:14:02.650\nThere's also another problem,\nSystem 5 init,\n\n264\n00:14:02.650 --> 00:14:06.400\nit only runs the scripts\nwhen you change runlevels.\n\n265\n00:14:06.400 --> 00:14:09.570\nSo, if I boot or if I changed my runlevel,\n\n266\n00:14:09.570 --> 00:14:12.480\nbut what about if I'm just\nsitting there normally?\n\n267\n00:14:12.480 --> 00:14:16.120\nWell, in the old days that wasn't a big\ndeal, there was nothing to do, but\n\n268\n00:14:16.120 --> 00:14:19.560\none of the things these scripts\ndo is initialize hardware.\n\n269\n00:14:19.560 --> 00:14:23.280\nAnd that meant that you only initialized\nhardware when you booted your system up or\n\n270\n00:14:23.280 --> 00:14:24.155\nwhen you changed runlevels.\n\n271\n00:14:25.400 --> 00:14:28.348\nAnd so when USB came out, right?\n\n272\n00:14:28.348 --> 00:14:29.989\nThe original unix servers didn't have USB.\n\n273\n00:14:29.989 --> 00:14:32.130\nThey had serial ports, LTPs.\n\n274\n00:14:32.130 --> 00:14:33.820\nBut now we have USB.\n\n275\n00:14:33.820 --> 00:14:36.600\nYou might add a device and\nremove a device.\n\n276\n00:14:36.600 --> 00:14:39.430\nWell, you're not changing runlevels,\nthe hardware wouldn't get detected and\n\n277\n00:14:39.430 --> 00:14:41.020\nthe stuff wouldn't work.\n\n278\n00:14:41.020 --> 00:14:44.180\nAnd some OS like Debian,\nwhere they've found a way, right?\n\n279\n00:14:44.180 --> 00:14:47.540\nThey've made some other daemon that\nmonitors those USB ports to initialize\n\n280\n00:14:47.540 --> 00:14:50.830\nthat hardware, but\nit's not System 5 init doing it, right?\n\n281\n00:14:50.830 --> 00:14:54.140\nWith the alternatives, the newer things,\nthey found a way to get around that.\n\n282\n00:14:54.140 --> 00:14:55.990\nThey said all right,\nlet's retrofit this and\n\n283\n00:14:55.990 --> 00:14:59.770\nmake it where it can detect hotplug\nhardware or other things like that.\n\n284\n00:14:59.770 --> 00:15:03.399\nSo, the other ones do have improvements,\nthey make that more functional, but\n\n285\n00:15:03.399 --> 00:15:07.320\nthere are hold-backs where\npeople still want System 5.\n\n286\n00:15:07.320 --> 00:15:10.900\nAll right,\nnow this one is calling other scripts.\n\n287\n00:15:10.900 --> 00:15:13.670\nAnd they were in /etc, whoops.\n\n288\n00:15:13.670 --> 00:15:19.830\nIf we go back up here and kinda look,\nremember it's calling /etc/init.d/rc.\n\n289\n00:15:19.830 --> 00:15:24.635\nAnd so if I go into /etc/init.d, right?\n\n290\n00:15:24.635 --> 00:15:25.903\nThat's the init daemon.\n\n291\n00:15:25.903 --> 00:15:30.777\nAnd if I look in here,\nI should be able to find that script rc.\n\n292\n00:15:30.777 --> 00:15:34.050\nBut there's a lot of other scripts\nin here, what are these all about?\n\n293\n00:15:34.050 --> 00:15:36.760\nWell, if I have something\nlike a web server,\n\n294\n00:15:36.760 --> 00:15:39.990\nit may have its own initialization\nscript in here that starts that service.\n\n295\n00:15:39.990 --> 00:15:44.890\nAnd in rc, it'll have what\nrunlevels to execute that at.\n\n296\n00:15:44.890 --> 00:15:47.900\nSo, if I'm at runlevel 3, I go ahead and\ncall the web server script.\n\n297\n00:15:47.900 --> 00:15:50.600\nIf I'm at runlevel 5, go ahead and\ncall the web server script.\n\n298\n00:15:50.600 --> 00:15:53.346\nBut if I'm at runlevel 1,\ndon't run it, right?\n\n299\n00:15:53.346 --> 00:15:54.867\nYou can kind of specify that.\n\n300\n00:15:54.867 --> 00:15:59.151\nAnd we typically don't mess around in here\ntoo much but if you wanna kinda see it,\n\n301\n00:15:59.151 --> 00:16:03.561\nHere inside of that RC, it's just a bash\nscript and if you look at what it's doing,\n\n302\n00:16:03.561 --> 00:16:04.569\nyou go down here and\n\n303\n00:16:04.569 --> 00:16:08.580\nsee the first thing it's doing is\nparsing your run level, right?\n\n304\n00:16:08.580 --> 00:16:13.390\nAnd then it's saying, if the run level\nequals a certain value, in this case two,\n\n305\n00:16:13.390 --> 00:16:16.780\nthen do these actions, and\nit lists the actions that its gonna do.\n\n306\n00:16:16.780 --> 00:16:17.690\nAnd then it runs through and\n\n307\n00:16:17.690 --> 00:16:21.090\nit kind of does that for each of the\ndifferent run levels that are available.\n\n308\n00:16:21.090 --> 00:16:24.050\nAnd so when you want to add\na service you're going to come and\n\n309\n00:16:24.050 --> 00:16:26.820\nadd it to this stuff and\nthat's not the easiest thing to do.\n\n310\n00:16:26.820 --> 00:16:31.640\nSo, system five init, it's configuration\nis all in one place, which is nice.\n\n311\n00:16:31.640 --> 00:16:35.640\nBut it's not really easy to work with and\nit does have some limitations.\n\n312\n00:16:35.640 --> 00:16:38.440\nThat's why so\nmany people want to replace it.\n\n313\n00:16:38.440 --> 00:16:39.980\nBut people don't like change right?\n\n314\n00:16:39.980 --> 00:16:43.750\nThey wanna stay with System V init,\nthat's what they've had for a long time.\n\n315\n00:16:43.750 --> 00:16:46.490\nAnd that's where you get\na lot of the opinions and\n\n316\n00:16:46.490 --> 00:16:49.000\nthe resistance to some of\nthe newer replacements.\n\n317\n00:16:49.000 --> 00:16:52.610\n>> Yeah, a lot of argumentation\ngoing on about, what should we use.\n\n318\n00:16:52.610 --> 00:16:55.720\nShould we stick with System V init or\nmove to System D?\n\n319\n00:16:55.720 --> 00:16:59.500\nI was telling Don I was looking over\nthe debian.org website last night.\n\n320\n00:16:59.500 --> 00:17:02.820\nThey actually have an entire\nsection devoted for\n\n321\n00:17:02.820 --> 00:17:08.510\nyou to formally argue the case whether\nthey should move away from system V init,\n\n322\n00:17:08.510 --> 00:17:12.960\nand into system D or upstart or\nsome of the other initialization programs.\n\n323\n00:17:12.960 --> 00:17:14.680\nOr should we stick with System V init?\n\n324\n00:17:14.680 --> 00:17:16.800\nThey all have very good arguments,\n\n325\n00:17:16.800 --> 00:17:21.520\nand it all seemed to boil to who liked\nmore control over their computer or not.\n\n326\n00:17:21.520 --> 00:17:22.460\n>> Yeah.\n>> But\n\n327\n00:17:22.460 --> 00:17:25.870\nit really does seem like you just\nneed to push on in the future.\n\n328\n00:17:25.870 --> 00:17:28.370\n>> Yeah.\nAll the big distros, Red Hat, Ubuntu,\n\n329\n00:17:28.370 --> 00:17:30.730\nall the commercial distros,\nhave already moved to system D.\n\n330\n00:17:30.730 --> 00:17:32.300\nSo they've already moved away from this.\n\n331\n00:17:32.300 --> 00:17:35.740\nBut some of the other ones, like, Debian's\nalways been really developer focused, and\n\n332\n00:17:35.740 --> 00:17:38.970\nso they kinda stayed with System V,\nand they're making it an option,\n\n333\n00:17:38.970 --> 00:17:40.890\nyou can go to System D if you want.\n\n334\n00:17:40.890 --> 00:17:44.890\nThe funny part to me is a lot of people\nthat say, you can pry System V init from\n\n335\n00:17:44.890 --> 00:17:48.180\nmy cold dead hands, turns out\nthey're actually running Upstart.\n\n336\n00:17:48.180 --> 00:17:51.200\nSo let's talk about Upstart a little bit.\n\n337\n00:17:51.200 --> 00:17:54.010\nYears ago, probably eight years ago,\nRed Hat said,\n\n338\n00:17:54.010 --> 00:17:57.540\nboy System V init has got some limitations\nand we want to improve on that.\n\n339\n00:17:57.540 --> 00:17:59.920\nWe wanna make it easier to work with.\n\n340\n00:17:59.920 --> 00:18:04.540\nAnd so what they did is they created\nUpstart, a new initialization process.\n\n341\n00:18:04.540 --> 00:18:07.530\nAnd it was designed to\nreplace system V init.\n\n342\n00:18:07.530 --> 00:18:09.140\nBut they did something really smart.\n\n343\n00:18:09.140 --> 00:18:12.713\nThey made it 100% compatible\nwith system V init.\n\n344\n00:18:12.713 --> 00:18:14.518\nSo you might be running upstart and\n\n345\n00:18:14.518 --> 00:18:18.013\nhave all the config files just like\nyou were running system V init.\n\n346\n00:18:18.013 --> 00:18:20.243\nIt might look like your system\nis running system V init but\n\n347\n00:18:20.243 --> 00:18:21.687\nyou're actually running upstart.\n\n348\n00:18:21.687 --> 00:18:26.708\nAnd what Upstart did,\nit introduced configuration files.\n\n349\n00:18:26.708 --> 00:18:29.680\nSo you didn't have one big\nconfig file that had everything,\n\n350\n00:18:29.680 --> 00:18:33.061\nyou had multiple config files, and\nthen they introduced some really\n\n351\n00:18:33.061 --> 00:18:36.848\neasy commands to define what run level\nsomething might run at or whatever, so\n\n352\n00:18:36.848 --> 00:18:39.900\nyou didn't have to be\na wizard to work with system.\n\n353\n00:18:39.900 --> 00:18:42.470\nUpstart wasn't really about\nchanging functionality,\n\n354\n00:18:42.470 --> 00:18:45.300\nit was about making it easier, right?\n\n355\n00:18:45.300 --> 00:18:48.640\nSo there was very little resistance\nto Upstart when it came out.\n\n356\n00:18:48.640 --> 00:18:50.740\nA couple of people\ndidn't wanna go with it,\n\n357\n00:18:50.740 --> 00:18:55.370\nbut for the most part the distros accepted\nit, and a lot of people used Upstart.\n\n358\n00:18:55.370 --> 00:18:57.600\nUbuntu is where Upstart really came about.\n\n359\n00:18:57.600 --> 00:18:58.660\nI know I say Red Hat.\n\n360\n00:18:58.660 --> 00:19:01.670\nWhat happened is there was\na Canonical company employee.\n\n361\n00:19:01.670 --> 00:19:04.140\nCanonical is the company\nthat makes Ubuntu.\n\n362\n00:19:04.140 --> 00:19:07.640\nHe left Canonical and\nthen created Upstart.\n\n363\n00:19:07.640 --> 00:19:11.480\nSo it is credited to Ubuntu for\nthe most part, but\n\n364\n00:19:11.480 --> 00:19:14.050\nit was implemented on\nthe Red Hat side earlier.\n\n365\n00:19:14.050 --> 00:19:17.430\nAnd so it's kind of an interesting one,\nand people credit both companies.\n\n366\n00:19:17.430 --> 00:19:18.440\nSo it doesn't matter which one.\n\n367\n00:19:18.440 --> 00:19:22.280\nBut at the end of the day,\nUpstart's very widely accepted.\n\n368\n00:19:22.280 --> 00:19:24.580\nNow, Upstart is the reason why,\n\n369\n00:19:24.580 --> 00:19:30.720\non my CentOS 6 machine over here,\nmy init tab file was so empty.\n\n370\n00:19:30.720 --> 00:19:31.540\nRemember on Debian,\n\n371\n00:19:31.540 --> 00:19:35.640\nwhen I looked /etc/inittab,\nit had a ton of stuff in there, right?\n\n372\n00:19:35.640 --> 00:19:40.150\nBut on my CentOS6 machine here.\n\n373\n00:19:40.150 --> 00:19:42.250\nIf I go into my terminal.\n\n374\n00:19:42.250 --> 00:19:46.330\nAnd I'm going to su\nbefore I forget about it.\n\n375\n00:19:46.330 --> 00:19:47.680\nWe'll pull up my init tab.\n\n376\n00:19:48.850 --> 00:19:51.390\nThere's really only one line\nthat's not commented out, and\n\n377\n00:19:51.390 --> 00:19:53.160\nit's this one that sets my run level.\n\n378\n00:19:53.160 --> 00:19:55.100\nRight.\nI'm at run level five, and that's it.\n\n379\n00:19:55.100 --> 00:19:57.650\nWhere's all the other stuff that's\n\n380\n00:19:57.650 --> 00:19:59.160\nsupposed to start when\nthis computer boots up?\n\n381\n00:20:00.172 --> 00:20:04.120\nWell, Upstart says,\nlet's not do it all here.\n\n382\n00:20:04.120 --> 00:20:07.270\nInstead, let's make a folder, and\n\n383\n00:20:07.270 --> 00:20:10.340\nwe can put all of our scripts\nright there in that folder.\n\n384\n00:20:10.340 --> 00:20:11.800\nAnd you can run things from there.\n\n385\n00:20:11.800 --> 00:20:15.301\nAnd instead of having one big script, now\nyou can have all these separate scripts.\n\n386\n00:20:15.301 --> 00:20:18.418\nWhich Debian is going to retro\nfit theirs to do that too.\n\n387\n00:20:18.418 --> 00:20:22.969\nBut if I go into /etc/init,\nthat's a form, not init.d,\n\n388\n00:20:22.969 --> 00:20:29.530\nlike we saw in Debian, just /etc/init,\nUpstart maintains config files.\n\n389\n00:20:29.530 --> 00:20:33.455\nAnd you can look in here and there's\nrc.com, which would kind of correspond\n\n390\n00:20:33.455 --> 00:20:38.495\nto the rc script we saw on system V init,\nhere it's just a configuration file.\n\n391\n00:20:38.495 --> 00:20:42.024\nAnd then you've got other ones in here for\nother things you might be running.\n\n392\n00:20:42.024 --> 00:20:45.689\nLike starting your ttys,\nyour splash manager, your serial ports,\n\n393\n00:20:45.689 --> 00:20:47.785\nall of that information.\n\n394\n00:20:47.785 --> 00:20:50.325\nAnd if we want to add services and\nhave them do crazy things,\n\n395\n00:20:50.325 --> 00:20:53.685\nwe can punch them in here, or\nwe can punch them into that rc.conf file.\n\n396\n00:20:53.685 --> 00:20:57.316\nIf I take a look at rc.conf and\n\n397\n00:20:57.316 --> 00:21:01.020\nyou start to look in here,\nthere's not a whole lot to it.\n\n398\n00:21:01.020 --> 00:21:04.866\nIt just says, start on runlevel (0123456).\n\n399\n00:21:04.866 --> 00:21:10.360\nIn other words,\nI want rc to run on every runlevel and\n\n400\n00:21:10.360 --> 00:21:13.800\nI want it to stop when I'm\nnot a run level at all.\n\n401\n00:21:13.800 --> 00:21:16.580\nIn other words,\nwhen I'm shutting down the system, okay?\n\n402\n00:21:16.580 --> 00:21:18.090\nThat's when I want this to run.\n\n403\n00:21:18.090 --> 00:21:19.490\nAnd then what do I want it to do?\n\n404\n00:21:19.490 --> 00:21:25.740\nRight down here you can see it's executing\n/ets/rc.c/rc followed by $RUNLEVEL.\n\n405\n00:21:25.740 --> 00:21:27.510\nThat's exactly what Debian did.\n\n406\n00:21:27.510 --> 00:21:29.230\nHere's my backwards compatibility.\n\n407\n00:21:29.230 --> 00:21:30.840\nThis is why Upstart is\nbackwards compatible.\n\n408\n00:21:31.930 --> 00:21:37.050\nAnything else I want to start I can just\ncreate a conf file for it, here, right?\n\n409\n00:21:37.050 --> 00:21:41.500\nSo, if I take a look at serial.conf,\nright?\n\n410\n00:21:41.500 --> 00:21:44.610\nI come in here and I tell it,\nwhen do I want it to start.\n\n411\n00:21:44.610 --> 00:21:48.600\nAnd you'll see here, start on, and\nit's mentioning run levels [2345].\n\n412\n00:21:48.600 --> 00:21:53.470\nI don't have to have four scripts for\nit, one for each run level.\n\n413\n00:21:53.470 --> 00:21:54.270\nI just have one.\n\n414\n00:21:54.270 --> 00:21:56.290\nOn all these runlevels,\ngo ahead and run it.\n\n415\n00:21:56.290 --> 00:22:01.340\nAnd then stop it when we get to s,\nwhich would be shutdown.\n\n416\n00:22:01.340 --> 00:22:03.140\nZero which is shutdown also.\n\n417\n00:22:03.140 --> 00:22:05.260\nYou can see either one on different OSs.\n\n418\n00:22:05.260 --> 00:22:06.540\nAnd then one and six.\n\n419\n00:22:06.540 --> 00:22:08.330\nI'll go to single user or reboot.\n\n420\n00:22:08.330 --> 00:22:09.810\nThat's when I wanna shut this down.\n\n421\n00:22:09.810 --> 00:22:10.370\nAll right.\n\n422\n00:22:10.370 --> 00:22:13.370\nSo, now we see that and then right\ndown here we tell it what to do.\n\n423\n00:22:13.370 --> 00:22:17.600\nAnd it's going through and executing that\nagetty which is what creates our TTYs and\n\n424\n00:22:17.600 --> 00:22:18.980\nit goes and defines them.\n\n425\n00:22:20.120 --> 00:22:22.970\nI might have a web server, same thing\nright, where it goes through and\n\n426\n00:22:22.970 --> 00:22:23.790\nit defines that.\n\n427\n00:22:23.790 --> 00:22:29.370\nLet me see,\nlet me do a quick install here for HDPD.\n\n428\n00:22:29.370 --> 00:22:34.330\nAll right, so\nI'm creating an apache web server here.\n\n429\n00:22:34.330 --> 00:22:38.410\nI'm installing HDPD, right,\nwhen it's installed that's a service.\n\n430\n00:22:38.410 --> 00:22:41.880\nAnd I want that service to\nstart at certain run levels.\n\n431\n00:22:41.880 --> 00:22:47.950\nWell, if I take a look at my init folder\nhere, notice how it's not here, right?\n\n432\n00:22:47.950 --> 00:22:50.770\nI would have to edit and\ncreate a config file and tell it to start.\n\n433\n00:22:50.770 --> 00:22:53.410\nWell remember I mentioned one thing that\nUpstart gave us were some nice little\n\n434\n00:22:53.410 --> 00:22:55.840\ncommands that we can use\nthat makes life easy?\n\n435\n00:22:55.840 --> 00:22:59.660\nWell, what we can do is we can come in\nhere and we can tell it to add this in.\n\n436\n00:22:59.660 --> 00:23:04.310\nI can say chkconfig, check config.\n\n437\n00:23:04.310 --> 00:23:07.510\nAnd then I can tell it the service,\nlike MySQL, on.\n\n438\n00:23:09.490 --> 00:23:11.610\nI say httpd on.\n\n439\n00:23:11.610 --> 00:23:15.180\nI'm telling it,\nI want that service to start up.\n\n440\n00:23:15.180 --> 00:23:20.900\nI wanna add that to my init process, so\nwhen you run upstart, notice our httpd.\n\n441\n00:23:20.900 --> 00:23:23.110\nWell, what if I only want it for\ncertain run models?\n\n442\n00:23:23.110 --> 00:23:29.880\nWell I could add to that,\nI could say --level and then 235.\n\n443\n00:23:29.880 --> 00:23:35.020\nI want it to run on run levels two,\nthree, and five and that's it okay?\n\n444\n00:23:35.020 --> 00:23:37.990\nI don't want it to run on one when\nI'm in single user mode or zero or\n\n445\n00:23:37.990 --> 00:23:39.200\nsix when I'm shutting down.\n\n446\n00:23:39.200 --> 00:23:39.960\nFour which we don't use.\n\n447\n00:23:39.960 --> 00:23:42.190\nI just want to throw it on those levels.\n\n448\n00:23:42.190 --> 00:23:44.590\nNow I don't have to go write a script,\nI don't have to edit things.\n\n449\n00:23:44.590 --> 00:23:45.610\nIt just knows to do it.\n\n450\n00:23:45.610 --> 00:23:48.090\nIt becomes part of that config.\n\n451\n00:23:48.090 --> 00:23:51.908\nAnd if I look inside of my init,\nI don't have a dedicated http and\n\n452\n00:23:51.908 --> 00:23:56.749\nthat's because it's just adding it to\nthe default configuration for upstart.\n\n453\n00:23:56.749 --> 00:23:59.315\nI don't have to write the scripts anymore.\n\n454\n00:23:59.315 --> 00:24:03.140\nAnd there's another neat command,\nI really like this one,\n\n455\n00:24:03.140 --> 00:24:06.270\nwhich is chkconfig--list, all right.\n\n456\n00:24:06.270 --> 00:24:07.570\nAnd if I pull up my list,\n\n457\n00:24:07.570 --> 00:24:10.340\nhere's all the services that\nare set to start on my computer.\n\n458\n00:24:10.340 --> 00:24:13.840\nMost of these don't have scripts and\nI can see their run level status.\n\n459\n00:24:14.980 --> 00:24:20.020\nSo if I can find httpd in this list, here\nit is, and I can see each run level and\n\n460\n00:24:20.020 --> 00:24:24.850\nsee how it's set to run on 2, 3, 4 and 5.\n\n461\n00:24:24.850 --> 00:24:26.520\nNow, I did 2, 3, 5.\n\n462\n00:24:26.520 --> 00:24:31.177\nThe reason here is I ran\nthe chkconfig httpd on command, and\n\n463\n00:24:31.177 --> 00:24:34.880\nthe default is 2, 3, 4 and 5.\n\n464\n00:24:34.880 --> 00:24:38.550\nAnd then I followed it up with\nchkconfig -- level 2, 3, 5.\n\n465\n00:24:38.550 --> 00:24:42.210\nWell, what that did, is it just added 2,\n3, 5, it didn't take it away 4, so\n\n466\n00:24:42.210 --> 00:24:42.910\nthat's why I've got that one.\n\n467\n00:24:42.910 --> 00:24:44.770\nSo I need to remove 4\nif I didn't want that.\n\n468\n00:24:44.770 --> 00:24:48.700\nBut I can see the run levels that it's set\nto fire up on, and it's all right here.\n\n469\n00:24:48.700 --> 00:24:51.305\nI don't have to go digging through\nthose config scripts and so on.\n\n470\n00:24:51.305 --> 00:24:52.905\nIt's just a lot easier to work with.\n\n471\n00:24:52.905 --> 00:24:54.465\nThat's what upstart was all about.\n\n472\n00:24:54.465 --> 00:24:57.935\nIf you make things easier,\nmistakes become less likely, right?\n\n473\n00:24:57.935 --> 00:25:02.485\nI'm not gonna have a typo in some script\ncuz I just ran a command to do it.\n\n474\n00:25:02.485 --> 00:25:05.325\n>> Now Don, if I wanted to turn off\none of those services would I just use\n\n475\n00:25:05.325 --> 00:25:10.210\nthe chkconfig off or and then give the run\nlevels as well or whatever that is?\n\n476\n00:25:10.210 --> 00:25:12.610\n>> Yeah, if you wanted to turn it off for\na particular run level.\n\n477\n00:25:12.610 --> 00:25:16.105\nSo I want to get rid of that 4, so\n\n478\n00:25:16.105 --> 00:25:21.161\nI would say chkconfig\n-- level 4 httpd off.\n\n479\n00:25:21.161 --> 00:25:23.995\nIf I just say chkconfig httpd off,\nit turns it off for\n\n480\n00:25:23.995 --> 00:25:28.390\nall run levels, but if I do level 4 off,\nnow it's just gonna be off for level 4.\n\n481\n00:25:28.390 --> 00:25:32.310\nAnd if I pull that list up, and\n\n482\n00:25:32.310 --> 00:25:35.400\nI go in here, see how it's off for\n4 but it's still on for 2, 3 and 5.\n\n483\n00:25:35.400 --> 00:25:39.010\nSo really easy to manipulate those levels,\nno scripting involved, right.\n\n484\n00:25:39.010 --> 00:25:44.960\nNow when I reboot, or when I change run\nlevels, init will run and see this.\n\n485\n00:25:44.960 --> 00:25:46.680\nBut that service is not running right now.\n\n486\n00:25:46.680 --> 00:25:50.420\nI'm not running a web server until I\nstart it myself or I change run levels.\n\n487\n00:25:50.420 --> 00:25:55.320\nSo I could do a service httpd start and\nit will start that one up.\n\n488\n00:25:55.320 --> 00:25:56.330\nSo there it goes.\n\n489\n00:25:56.330 --> 00:25:58.550\nGoing to boot it up and\nnow the service is running.\n\n490\n00:25:58.550 --> 00:26:01.530\nOr if I change run levels it\nwould have fired up, okay?\n\n491\n00:26:01.530 --> 00:26:04.370\nBut yeah,\nthat's the thing about System V Init and\n\n492\n00:26:04.370 --> 00:26:08.290\neven Upstart, it really only does\nit work when you change run levels.\n\n493\n00:26:08.290 --> 00:26:11.390\nIf you're not changing run levels it\njust sits there and it doesn't recognize\n\n494\n00:26:11.390 --> 00:26:15.240\nthings, like the fact that I turned\nthat service on, that doesn't happen.\n\n495\n00:26:15.240 --> 00:26:17.839\nThat's one of its bigger limitations.\n\n496\n00:26:17.839 --> 00:26:21.278\nAll right, let's see, is there anything\nelse I want to mention on this guy?\n\n497\n00:26:21.278 --> 00:26:26.850\nOne other thing that you\nmight see are rc.d files.\n\n498\n00:26:26.850 --> 00:26:32.771\nWhen I went into /etc,\nthere was a folder in here,\n\n499\n00:26:32.771 --> 00:26:36.370\nthis guy, rc.d, all right?\n\n500\n00:26:36.370 --> 00:26:40.100\nThat's for that initialization,\nand we went into rc.\n\n501\n00:26:40.100 --> 00:26:43.280\nYou may have other folders for\neach run level.\n\n502\n00:26:43.280 --> 00:26:45.490\nSee how I've got rc0 through rc6.d?\n\n503\n00:26:45.490 --> 00:26:47.870\nWell, see how all mine are light blue?\n\n504\n00:26:47.870 --> 00:26:50.180\nThey're all symlinked, right?\n\n505\n00:26:50.180 --> 00:26:57.030\nIf I do a ls-la rc?.d, there we go.\n\n506\n00:26:57.030 --> 00:27:01.190\nSee how they're all symlinked and they're\nall just kind of pointing to rc.d right?\n\n507\n00:27:01.190 --> 00:27:03.810\nAnd then a single thing underneath there.\n\n508\n00:27:03.810 --> 00:27:06.318\nSo they may be symlinked,\nthe reason those symlinks are there is for\n\n509\n00:27:06.318 --> 00:27:08.608\nbackwards compatibility\nwith the old Sys V Init.\n\n510\n00:27:08.608 --> 00:27:11.920\nSys V Init, if you wanted to have\nthose separate scripts you could, and\n\n511\n00:27:11.920 --> 00:27:14.210\nhere it's just symlinking to\nput them all in one place.\n\n512\n00:27:14.210 --> 00:27:16.180\nUpstart was all about tidying house,\nright?\n\n513\n00:27:16.180 --> 00:27:18.880\nCleaning up, doing a little spring\ncleaning, getting it organized and\n\n514\n00:27:18.880 --> 00:27:20.585\nminimizing the mistakes that we make.\n\n515\n00:27:20.585 --> 00:27:23.280\nSo there's very little resistance to\nUpstart, you see it out there a lot.\n\n516\n00:27:23.280 --> 00:27:27.570\nIt's not much different than the System V\nInit cuz you have full compatibility, but\n\n517\n00:27:27.570 --> 00:27:30.300\nthe configuration is more simple,\nthe commands make it easier.\n\n518\n00:27:30.300 --> 00:27:32.970\nIt is a really nice one and\nyou just see it very commonly.\n\n519\n00:27:32.970 --> 00:27:37.230\nHere, I'm on CentOS 6.5, and it was the\ndefault all the way up through CentOS 6.6.\n\n520\n00:27:37.230 --> 00:27:40.212\n>> Yeah, that's awesome for\nusers like me, right?\n\n521\n00:27:40.212 --> 00:27:40.724\n[LAUGH]\n>> [LAUGH]\n\n522\n00:27:40.724 --> 00:27:42.490\n>> Where I'm not great about the scripting\n\n523\n00:27:42.490 --> 00:27:44.920\nlanguage and everything like that,\nI just need to be able to get in there and\n\n524\n00:27:44.920 --> 00:27:45.940\nmake my changes.\n\n525\n00:27:45.940 --> 00:27:49.380\nUpstart, if I am running\na Debian type of system, or\n\n526\n00:27:49.380 --> 00:27:52.480\nsomething that's running Upstart,\nit's gonna do a lot of help for\n\n527\n00:27:52.480 --> 00:27:55.310\nme being able to say, well,\nthese are the services I wanna start and\n\n528\n00:27:55.310 --> 00:27:58.910\nI don't wanna get dirty doing it,\nI just want it to work.\n\n529\n00:27:58.910 --> 00:28:00.420\nAnd that's a lot helpful.\n\n530\n00:28:00.420 --> 00:28:01.260\n>> Yeah, absolutely.\n\n531\n00:28:01.260 --> 00:28:04.110\nAll right.\n>> Well Don, have we done this thing?\n\n532\n00:28:04.110 --> 00:28:05.250\nWith this system five?\n\n533\n00:28:05.250 --> 00:28:10.610\nI mean it's a lot of information out\nthere, and definitely, it's a hot topic.\n\n534\n00:28:10.610 --> 00:28:12.645\nBut that's not the only game in town.\n\n535\n00:28:12.645 --> 00:28:13.400\n>> Yeah, stay tuned for\n\n536\n00:28:13.400 --> 00:28:15.690\npart two of this episode because\nwe're gonna dive into system D and\n\n537\n00:28:15.690 --> 00:28:17.370\nthat's where the controversy begins.\n\n538\n00:28:17.370 --> 00:28:18.270\nSo check that one out.\n\n539\n00:28:18.270 --> 00:28:19.670\nIt's definitely important to be aware of.\n\n540\n00:28:19.670 --> 00:28:21.910\nEven if you hate system D,\nyou gotta know if for the exams.\n\n541\n00:28:21.910 --> 00:28:23.810\nSo definitely, definitely watch that.\n\n542\n00:28:23.810 --> 00:28:24.380\n>> That's right.\nSo\n\n543\n00:28:24.380 --> 00:28:27.210\nguys gets your best\nflames ready at ITProTV.\n\n544\n00:28:27.210 --> 00:28:30.910\nBut it is time to sign off, so\nI've been your host Daniel Lowrie.\n\n545\n00:28:30.910 --> 00:28:31.850\n>> And I'm Don Pezet.\n\n546\n00:28:31.850 --> 00:28:33.174\n>> And we'll see you next time.\n\n547\n00:28:33.174 --> 00:28:38.970\n[MUSIC]\n\n",
          "vimeoId": "131434926"
        },
        {
          "description": null,
          "length": "1548",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-3-systemd_initialization_process-061915-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-3-systemd_initialization_process-061915-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxplus103/comptia-linuxpluslx0103-5-3-systemd_initialization_process-061915-1-sm.jpg",
          "title": "systemd Initialization Process",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.724\n[MUSIC]\n\n2\n00:00:10.724 --> 00:00:11.820\nAll right everyone.\n\n3\n00:00:11.820 --> 00:00:15.050\nGreetings and welcome to another\ngreat episode of ITProTV.\n\n4\n00:00:15.050 --> 00:00:17.030\nI'll be your host, Daniel Lawrey and\n\n5\n00:00:17.030 --> 00:00:20.160\nwith me today is the Linux man himself,\nMr. Don Pezet.\n\n6\n00:00:20.160 --> 00:00:21.230\nHow's it going, Don?\n\n7\n00:00:21.230 --> 00:00:22.730\n>> It is going great.\n\n8\n00:00:22.730 --> 00:00:25.930\nNormally this is the part where I say I'm\nexcited about our great Linux Plus Show\n\n9\n00:00:25.930 --> 00:00:29.680\nlineup, but this is kind of a show\nthat I've been dreading because of\n\n10\n00:00:29.680 --> 00:00:34.610\nthe amount of controversy that\ncenters around this topic.\n\n11\n00:00:34.610 --> 00:00:37.820\n>> Should we have worn our fire retardant\nclothes with all the flames that\n\n12\n00:00:37.820 --> 00:00:38.945\nmight come our way.\n\n13\n00:00:38.945 --> 00:00:40.660\n[LAUGH]\n>> So today we're gonna be talking about\n\n14\n00:00:40.660 --> 00:00:45.220\nSystem D, and\nSystem D is one of those things that on\n\n15\n00:00:46.370 --> 00:00:49.380\nthe Internet, people have very,\nvery extreme opinions on it.\n\n16\n00:00:49.380 --> 00:00:52.230\nSome people love it,\nthink it's the greatest thing ever.\n\n17\n00:00:52.230 --> 00:00:56.429\nSome people hate it and wish it would\ndie and go away and not be used.\n\n18\n00:00:58.370 --> 00:01:01.678\nThis is a big topic and\nit's something we need to be aware of.\n\n19\n00:01:01.678 --> 00:01:06.700\nI'm not gonna get judgemental or anything\non that and talk about it like that.\n\n20\n00:01:06.700 --> 00:01:09.130\nLet's just focus on the facts,\nbecause it's on the exam.\n\n21\n00:01:09.130 --> 00:01:12.220\nSo whether you like it or not,\nit's on the exam, you gotta know it.\n\n22\n00:01:12.220 --> 00:01:16.890\nSo System D is an alternative\ninitialization process.\n\n23\n00:01:16.890 --> 00:01:20.130\nIt's designed to replace\nthe System V init.\n\n24\n00:01:20.130 --> 00:01:24.840\nSo, if you remember, when you push power\non your computer, your BIOS kicks in, or\n\n25\n00:01:24.840 --> 00:01:26.570\nEFI kicks in, right?\n\n26\n00:01:26.570 --> 00:01:29.660\nAnd then they locate the part of your\ndrive that has your boot loader, and\n\n27\n00:01:29.660 --> 00:01:31.030\nyour boot loader kicks in.\n\n28\n00:01:31.030 --> 00:01:33.210\nAnd the boot loader then finds\nyour operating system and\n\n29\n00:01:33.210 --> 00:01:36.140\nit finds your Linux kernel,\nand it turns that on.\n\n30\n00:01:36.140 --> 00:01:40.100\nAnd your kernel then\ncreates an init RAM disk.\n\n31\n00:01:40.100 --> 00:01:42.180\nAnd that RAM disk,\nit loads some tools in there and\n\n32\n00:01:42.180 --> 00:01:44.480\nit starts to initialize the system.\n\n33\n00:01:44.480 --> 00:01:50.102\nNow for years, most people used\nthe old Unix System V init, all right?\n\n34\n00:01:50.102 --> 00:01:52.249\nWhich was found in /sbin/init.\n\n35\n00:01:52.249 --> 00:01:54.302\nThat's been around forever.\n\n36\n00:01:54.302 --> 00:02:00.210\nIn the last decade, we saw a new\ninitialization come out called Upstart.\n\n37\n00:02:00.210 --> 00:02:03.937\nAnd Upstart was 100% compatible\nwith System V init and\n\n38\n00:02:03.937 --> 00:02:07.280\nit made some improvements upon it, right?\n\n39\n00:02:07.280 --> 00:02:10.893\nBut deep down inside,\nit really is still just System V init.\n\n40\n00:02:10.893 --> 00:02:13.940\nIt's just improved upon and\nadded a lot of new functionality.\n\n41\n00:02:13.940 --> 00:02:18.955\nSystem D is really the first time\nwhere in the mainstream people said,\n\n42\n00:02:18.955 --> 00:02:24.830\nlet's ditch System V init and\nreplace it with something else entirely.\n\n43\n00:02:24.830 --> 00:02:27.240\nAnd people love their systems,\n\n44\n00:02:27.240 --> 00:02:31.370\nthey love them to work the way they\nexpected them to for over 30 years.\n\n45\n00:02:31.370 --> 00:02:33.750\nAnd to have change like that,\nyeah, it's gonna be controversial.\n\n46\n00:02:33.750 --> 00:02:34.425\n>> It's heresy, Don.\n\n47\n00:02:34.425 --> 00:02:36.180\n[LAUGH]\n>> Yeah, so some people are really,\n\n48\n00:02:36.180 --> 00:02:37.290\nreally opposed to it.\n\n49\n00:02:37.290 --> 00:02:39.505\nBut, let's focus on the good things,\nright?\n\n50\n00:02:39.505 --> 00:02:41.303\nIf you don't have anything good to say\nyou, shouldn't say anything at all.\n\n51\n00:02:41.303 --> 00:02:43.209\nSo let's say some good things, right?\n\n52\n00:02:43.209 --> 00:02:44.565\nWell, we'll say some bad things.\n\n53\n00:02:44.565 --> 00:02:45.285\nWe'll do that too, right?\n\n54\n00:02:45.285 --> 00:02:47.769\nWhat's wrong with System D?\n\n55\n00:02:47.769 --> 00:02:49.743\nIt's different than System V init, right?\n\n56\n00:02:49.743 --> 00:02:50.346\n>> How dare you?\n\n57\n00:02:50.346 --> 00:02:51.036\n[LAUGH]\n>> I know.\n\n58\n00:02:51.036 --> 00:02:53.857\nSo, what that means though is\nthat if you've written scripts,\n\n59\n00:02:53.857 --> 00:02:56.993\nif you've written things that depend\non the old System V init process,\n\n60\n00:02:56.993 --> 00:02:59.040\nthey don't work under System D.\n\n61\n00:02:59.040 --> 00:03:01.210\nIf you rely on things like run levels,\n\n62\n00:03:01.210 --> 00:03:03.590\nwell you don't have run\nlevels under System D.\n\n63\n00:03:03.590 --> 00:03:08.010\nSo that kind of functionality is gone,\nand you gotta find a new way to do it.\n\n64\n00:03:08.010 --> 00:03:10.480\nAnd, that takes work.\n\n65\n00:03:10.480 --> 00:03:13.380\nAnd that's what a lot of people don't\nlike is they don't like to change stuff\n\n66\n00:03:13.380 --> 00:03:17.790\nthat worked fine before to a new\nsystem just for that, right?\n\n67\n00:03:17.790 --> 00:03:19.270\nSo, what are the good things?\n\n68\n00:03:19.270 --> 00:03:21.780\nWhat would motivate me to\nwant to go with System D?\n\n69\n00:03:21.780 --> 00:03:24.760\nWell, there's some neat\nstuff that it does.\n\n70\n00:03:24.760 --> 00:03:28.615\nFirst off, it breaks up the configuration\nfor how these things are done.\n\n71\n00:03:28.615 --> 00:03:31.330\nRemember that System V init,\nall of its configuration,\n\n72\n00:03:31.330 --> 00:03:35.080\nall the scripting that it did,\nwas in one big fat file.\n\n73\n00:03:35.080 --> 00:03:37.990\nAnd some distros broke that out,\nlike what Upstart does,\n\n74\n00:03:37.990 --> 00:03:41.010\nbroke it out into individual files,\nthat made it a little easier to manage.\n\n75\n00:03:41.010 --> 00:03:45.610\nBut System D breaks it apart even more,\nand makes it super clean,\n\n76\n00:03:45.610 --> 00:03:48.180\nsuper tidy, really easy to work with.\n\n77\n00:03:48.180 --> 00:03:49.960\nSo, it's much neater.\n\n78\n00:03:49.960 --> 00:03:51.540\nThat's nice, right?\n\n79\n00:03:51.540 --> 00:03:56.050\nThe other thing is System V init at\nthe end of the day is really a script.\n\n80\n00:03:56.050 --> 00:03:57.050\nIt's a script.\n\n81\n00:03:57.050 --> 00:04:00.180\nAnd when you run a script,\nhow does a script work?\n\n82\n00:04:00.180 --> 00:04:04.301\nIt runs each command one after the other,\nright?\n\n83\n00:04:04.301 --> 00:04:07.020\nSystem V init is a linear boot process.\n\n84\n00:04:07.020 --> 00:04:11.310\nYou go in a straight line, one after\nanother, and that means it's slow.\n\n85\n00:04:11.310 --> 00:04:14.630\nEven if you love System V init,\nit is slow.\n\n86\n00:04:14.630 --> 00:04:17.310\nAnd, we've probably all bumped into\nthis as some point or another.\n\n87\n00:04:17.310 --> 00:04:21.120\nIf you do a Linux install and\nwhatever chucklehead made that distro,\n\n88\n00:04:21.120 --> 00:04:25.260\nturned on send mail by default and\nhas it doing reverse DNS lookups, and\n\n89\n00:04:25.260 --> 00:04:27.020\nyou're not plugged into a network.\n\n90\n00:04:27.020 --> 00:04:29.200\nAnd all the sudden your boot sits\nthere and it stops for a minute and\n\n91\n00:04:29.200 --> 00:04:31.670\na half while it does 3 30 second retries.\n\n92\n00:04:31.670 --> 00:04:32.820\nPull my hair out when that happens.\n\n93\n00:04:32.820 --> 00:04:35.330\nWhat idiot configured this thing.\n\n94\n00:04:35.330 --> 00:04:37.185\nIt's the idiots who make the distros.\n\n95\n00:04:37.185 --> 00:04:38.570\n>> [LAUGH]\n>> So that happens, and\n\n96\n00:04:38.570 --> 00:04:39.310\nit's really annoying.\n\n97\n00:04:39.310 --> 00:04:41.900\nAnd while that's happening,\nyour system is idle.\n\n98\n00:04:41.900 --> 00:04:43.390\nNothing else is happening.\n\n99\n00:04:43.390 --> 00:04:47.190\nYour DNS lookup is happening, and\nSendmail is holding up that boot.\n\n100\n00:04:48.330 --> 00:04:51.130\nWith System D, it's not a script.\n\n101\n00:04:51.130 --> 00:04:51.790\nIt's a binary.\n\n102\n00:04:51.790 --> 00:04:52.870\nIt's a program.\n\n103\n00:04:52.870 --> 00:04:54.420\nSystem D is a program.\n\n104\n00:04:54.420 --> 00:04:58.550\nAnd when it runs, it sees all\nthe things that it needs to launch, and\n\n105\n00:04:58.550 --> 00:05:00.440\nit can do more than one at once.\n\n106\n00:05:00.440 --> 00:05:04.335\nAnd so, if you're running a web server,\nand a mail server, and\n\n107\n00:05:04.335 --> 00:05:07.958\na database server,\nit can start all three at the same time.\n\n108\n00:05:07.958 --> 00:05:11.091\nAnd if one gets hung up, big deal,\nit moves on at starting the other one.\n\n109\n00:05:11.091 --> 00:05:14.354\nSo now when Sendmail is hung up because\nsome chucklehead configured it to\n\n110\n00:05:14.354 --> 00:05:17.140\nexpect a network connection by default,\nthat's fine.\n\n111\n00:05:17.140 --> 00:05:18.980\nYour other services continue to start.\n\n112\n00:05:18.980 --> 00:05:20.870\nYou get to a command prompt and\nnow you can kill it and\n\n113\n00:05:20.870 --> 00:05:22.840\nthen go and update that configuration.\n\n114\n00:05:22.840 --> 00:05:24.970\nSo, it's a lot faster, right?\n\n115\n00:05:26.390 --> 00:05:31.060\nWhether you love it or hate it, System D\nis absolutely faster than System V init.\n\n116\n00:05:31.060 --> 00:05:33.330\nUnless your system is tuned\nto exact perfection and\n\n117\n00:05:33.330 --> 00:05:37.520\nyou're only running a couple of things,\nSystem D will almost always be faster.\n\n118\n00:05:37.520 --> 00:05:38.560\nAnd that was its goal.\n\n119\n00:05:38.560 --> 00:05:43.490\nThey wanted it to be easier to use,\nwanted it to be tidier, cleaner and\n\n120\n00:05:43.490 --> 00:05:47.500\nsimpler, and\nthey want it to be faster, all right?\n\n121\n00:05:47.500 --> 00:05:48.470\nThe other thing is,\n\n122\n00:05:48.470 --> 00:05:52.840\nSystem D was updated to fix a big\nproblem that we have in System V init.\n\n123\n00:05:52.840 --> 00:05:55.310\nSystem V init, it's a script.\n\n124\n00:05:55.310 --> 00:05:58.670\nA script that only runs\nwhen you change run levels.\n\n125\n00:05:58.670 --> 00:06:02.270\nWell, there's things that happen\non our system where we need init,\n\n126\n00:06:02.270 --> 00:06:04.350\neven when we're not changing run levels.\n\n127\n00:06:04.350 --> 00:06:08.150\nSo System D said, forget it,\nlet's just ditch these run levels, and\n\n128\n00:06:08.150 --> 00:06:10.600\nlet's just monitor\nthe system all the time.\n\n129\n00:06:10.600 --> 00:06:13.236\nAnd so System D's running all the time,\nand that is great for\n\n130\n00:06:13.236 --> 00:06:16.340\nsituations where you have\nthings like hot plug hardware.\n\n131\n00:06:16.340 --> 00:06:19.450\nSystem V init in its original form\ndidn't support hot plug hardware.\n\n132\n00:06:19.450 --> 00:06:23.502\nIf you added a USB key or put in a hot\nplug hard drive, it wouldn't detect it.\n\n133\n00:06:23.502 --> 00:06:26.330\nAnd you'd have to trigger\na run level change for\n\n134\n00:06:26.330 --> 00:06:28.248\nit to run in script to detect\nthe hardware then add it.\n\n135\n00:06:28.248 --> 00:06:32.140\nAnd so, OSs added that support,\nlike Upstart added it or\n\n136\n00:06:32.140 --> 00:06:34.690\nDebian added their work around to\nbe able to detect the hardware.\n\n137\n00:06:34.690 --> 00:06:36.350\nWell System D is always running.\n\n138\n00:06:36.350 --> 00:06:38.580\nSo when you add that new hardware,\nit says Oh, new hardware.\n\n139\n00:06:38.580 --> 00:06:39.940\nWhat should I do about that?\n\n140\n00:06:39.940 --> 00:06:42.480\nAnd then it takes an action based\non it and it has the hardware and\n\n141\n00:06:42.480 --> 00:06:43.500\nmakes it available.\n\n142\n00:06:43.500 --> 00:06:46.249\nSo, System D is running all the time.\n\n143\n00:06:46.249 --> 00:06:47.271\nSome people don't like that.\n\n144\n00:06:47.271 --> 00:06:50.661\nThey're like, hey, I like that\nSystem V runs and then goes away, and\n\n145\n00:06:50.661 --> 00:06:51.879\njust runs when I need it.\n\n146\n00:06:51.879 --> 00:06:54.308\nBut the problem is sometimes it\ndoesn't run when you need it,\n\n147\n00:06:54.308 --> 00:06:56.987\nwhereas System D is always running,\nso it is there when you need it.\n\n148\n00:06:56.987 --> 00:07:01.562\nIf you've got low resources, if you're\nstill running a 286 with 4 megs of RAM,\n\n149\n00:07:01.562 --> 00:07:03.117\nthat's terrible, right?\n\n150\n00:07:04.300 --> 00:07:07.310\nBut on modern hardware it's\na negligible amount of overhead.\n\n151\n00:07:07.310 --> 00:07:10.230\nSo the people that complain about that\nare normally people that are running on\n\n152\n00:07:10.230 --> 00:07:12.660\nembedded systems where\nthat still is important.\n\n153\n00:07:12.660 --> 00:07:16.160\nAnd in that scenario, System V init\nmight be the better choice for you.\n\n154\n00:07:16.160 --> 00:07:20.280\nSo, the people that don't like System D,\ndon't just discount them out of hand.\n\n155\n00:07:20.280 --> 00:07:22.240\nSome of them have a legitimate concern and\n\n156\n00:07:22.240 --> 00:07:24.410\na reason why System D is not good for\nthem.\n\n157\n00:07:24.410 --> 00:07:27.350\nBut for the majority of users,\nSystem D is really good.\n\n158\n00:07:27.350 --> 00:07:31.222\nAnd so, you have Red Hat,\nCentOS, all the Red Hat ones,\n\n159\n00:07:31.222 --> 00:07:33.800\nwhere they've adopted System D.\n\n160\n00:07:33.800 --> 00:07:35.240\nIt's out there, it's in production.\n\n161\n00:07:35.240 --> 00:07:38.780\nAnd for a commercial vendor like\nRed Hat to do it, where you know that\n\n162\n00:07:38.780 --> 00:07:43.130\nit's the largest enterprise distribution\nof CentOS that's out there, and\n\n163\n00:07:43.130 --> 00:07:44.270\nthey're doing it?\n\n164\n00:07:44.270 --> 00:07:46.568\nWell, that means it's pretty good, right?\n\n165\n00:07:46.568 --> 00:07:49.320\nSo it is a good system,\nit does work really well, and\n\n166\n00:07:49.320 --> 00:07:51.019\nit is a lot simpler to work with.\n\n167\n00:07:51.019 --> 00:07:55.244\n>> Yeah, it did seem from just a cursory\nglance as I was going over our notes and\n\n168\n00:07:55.244 --> 00:07:59.536\nthings for the show That most systems\nare running systems now just cuz well,\n\n169\n00:07:59.536 --> 00:08:00.427\nit's better.\n\n170\n00:08:00.427 --> 00:08:01.584\nIt seems to be a little bit better.\n\n171\n00:08:01.584 --> 00:08:06.960\nIt's definitely easier for\nus as end users, desktop systems.\n\n172\n00:08:06.960 --> 00:08:08.590\nIt's the way to fly, in my opinion.\n\n173\n00:08:08.590 --> 00:08:11.710\nAnd then, if you're running a server and\nyou do have those legitimate needs for\n\n174\n00:08:11.710 --> 00:08:14.420\nthat system V init,\nwell then you can go that way too.\n\n175\n00:08:14.420 --> 00:08:15.550\n>> Yeah.\n\n176\n00:08:15.550 --> 00:08:18.300\nSo let's take a look at systemd.\n\n177\n00:08:18.300 --> 00:08:22.310\nFirst off the name, it's called systemd\nbecause they followed the Demon naming\n\n178\n00:08:22.310 --> 00:08:23.870\nsystem or the service naming system for\n\n179\n00:08:23.870 --> 00:08:27.700\nLinux which is you have an all lowercase\nname followed by the letter d.\n\n180\n00:08:27.700 --> 00:08:30.010\nAnd so systemd,\nthat's where the name came from.\n\n181\n00:08:30.010 --> 00:08:33.570\nAnd normally when our boot loader\nfires up and our kernel fires up,\n\n182\n00:08:33.570 --> 00:08:37.090\nthe next thing it runs is /bin /init.\n\n183\n00:08:37.090 --> 00:08:41.550\nWell that's a function of the kernel, not\na function of the initialization process.\n\n184\n00:08:41.550 --> 00:08:44.440\nSo systemd actually hooks on to that.\n\n185\n00:08:44.440 --> 00:08:47.089\nYou can recognize if you've got\na systemd system pretty easy.\n\n186\n00:08:47.089 --> 00:08:48.250\nLet me show you.\n\n187\n00:08:48.250 --> 00:08:52.592\nHere I'm on a CentOS7 system, and\n\n188\n00:08:52.592 --> 00:08:57.530\nif I look at /sbin/init, there it is.\n\n189\n00:08:57.530 --> 00:08:59.920\nBut see how my assembly get's light blue.\n\n190\n00:08:59.920 --> 00:09:04.144\nIf I do a /la we'll see\nthat it's sim linked, and\n\n191\n00:09:04.144 --> 00:09:08.282\nit's sim linked to /lib/systemd/systemd.\n\n192\n00:09:08.282 --> 00:09:12.230\nThat's how I know I'm on a systemd system.\n\n193\n00:09:12.230 --> 00:09:17.879\nIf /bin/init isn't executable, I'm on\na system V init or an upstart system.\n\n194\n00:09:17.879 --> 00:09:21.207\nIf /bin/init is a symlink and\nit's pointing to systemd,\n\n195\n00:09:21.207 --> 00:09:24.140\nthen we know we're\nrunning a systemd system.\n\n196\n00:09:24.140 --> 00:09:27.170\nSo it's pretty easy to\nrecognize which one you're on.\n\n197\n00:09:27.170 --> 00:09:29.640\nIf your on systemd\n\n198\n00:09:29.640 --> 00:09:33.900\nthen all those system V init config\nfiles don't pertain to us anymore.\n\n199\n00:09:33.900 --> 00:09:39.060\nAll those runlevels and all that other\nstuff, those don't take effect anymore.\n\n200\n00:09:39.060 --> 00:09:41.334\nSo now we have all new stuff.\n\n201\n00:09:41.334 --> 00:09:44.380\nAnd this is where people get kinda\nfrustrated, I got new stuff!\n\n202\n00:09:44.380 --> 00:09:46.490\nWell the new stuff isn't so bad.\n\n203\n00:09:46.490 --> 00:09:48.592\nLet's talk about two terms really quick.\n\n204\n00:09:48.592 --> 00:09:51.640\nWhen systemd fires up,\nit's looking for two things.\n\n205\n00:09:51.640 --> 00:09:55.366\nIt's looking for units and targets.\n\n206\n00:09:55.366 --> 00:09:59.028\nIn system V init you just have scripts and\nexecutables and that's it.\n\n207\n00:09:59.028 --> 00:10:02.970\nBut in systemd you have units\n\n208\n00:10:02.970 --> 00:10:07.130\nwhich are various things that can happen\non your system at any given time.\n\n209\n00:10:07.130 --> 00:10:10.017\nAnd then you have targets which\nare just groups of units.\n\n210\n00:10:10.017 --> 00:10:12.690\nThere's some units you need\nto happen at the same time,\n\n211\n00:10:12.690 --> 00:10:15.890\nand if you need that you group\nthem together into a target.\n\n212\n00:10:15.890 --> 00:10:20.210\nAnd when you call that target, all\nthe units inside of it fire up at the same\n\n213\n00:10:20.210 --> 00:10:22.460\ntime or they're dependent on each other.\n\n214\n00:10:22.460 --> 00:10:24.950\nWe got to do a dependency\ncheck on all this stuff.\n\n215\n00:10:24.950 --> 00:10:27.770\nBecause one program might\ndepend on another and\n\n216\n00:10:27.770 --> 00:10:29.510\nthey've got to be started in that order.\n\n217\n00:10:29.510 --> 00:10:32.340\nWe used to be able to handle that\nbecause you wrote the script and so\n\n218\n00:10:32.340 --> 00:10:34.680\nyou put things in order in the script.\n\n219\n00:10:34.680 --> 00:10:36.910\nWell in systemd you\ndon't have that script.\n\n220\n00:10:36.910 --> 00:10:42.640\nSo instead when you define each unit you\ndefine the other units that it depends on.\n\n221\n00:10:42.640 --> 00:10:45.960\nAnd then systemd figures out\nthe best order to run it in.\n\n222\n00:10:45.960 --> 00:10:52.500\nAnd it'll say all right, this SSHD depends\non something else like agetty or whatever.\n\n223\n00:10:52.500 --> 00:10:57.335\nAnd it'll say let's run the TTY\nservice first and then we'll run SSHD.\n\n224\n00:10:57.335 --> 00:10:59.160\nIt'll put it in order.\n\n225\n00:10:59.160 --> 00:11:01.570\nSo it figures all that out for us.\n\n226\n00:11:01.570 --> 00:11:08.770\nAnd it does that through its configuration\nwhich is mostly in /lib/systemd.\n\n227\n00:11:08.770 --> 00:11:14.240\nIf you browse to /lib/systemd and take a\nlook in there you'll see a bunch of stuff.\n\n228\n00:11:14.240 --> 00:11:16.110\nAnd most of these are executables.\n\n229\n00:11:16.110 --> 00:11:20.410\nAnd so when you look in here the systemd\nexecutable, that's the main one.\n\n230\n00:11:20.410 --> 00:11:26.130\nBut then there's all of this other stuff\nlike systemd activate or bootchart, fsck.\n\n231\n00:11:27.140 --> 00:11:30.610\nSystemd can do a lot\nmore than run scripts.\n\n232\n00:11:30.610 --> 00:11:33.180\nSystemd can check your hard drive for\nerrors.\n\n233\n00:11:33.180 --> 00:11:37.670\nSystemd can initialize\nthe journaling on your file system.\n\n234\n00:11:37.670 --> 00:11:39.800\nIt's really powerful.\n\n235\n00:11:39.800 --> 00:11:41.920\nAnd this there's a good thing and\na bad thing.\n\n236\n00:11:41.920 --> 00:11:44.780\nIt's good in that system gets\na lot of stuff in it and\n\n237\n00:11:44.780 --> 00:11:46.140\nmake sure that the OS\ndoesn't have to do it.\n\n238\n00:11:46.140 --> 00:11:50.310\nAnd my complaint about all these distros\ndoing things different ways, goes away.\n\n239\n00:11:50.310 --> 00:11:52.810\nIf it's a systemd system,\nI know how it does it.\n\n240\n00:11:52.810 --> 00:11:58.020\nBut the other side of that argument is\nsystemd is taking control away from me and\n\n241\n00:11:58.020 --> 00:11:59.870\ngiving it to a servers\nthat I didn't write.\n\n242\n00:12:00.950 --> 00:12:04.660\nAnd I don't think that's\nnecessarily a legitimate complaint\n\n243\n00:12:04.660 --> 00:12:07.090\nbecause you can still do the same things,\nyou just have to know how to do it.\n\n244\n00:12:07.090 --> 00:12:08.070\nHere's my quota check.\n\n245\n00:12:08.070 --> 00:12:11.860\nI do it differently here than I\ndo it under system V or systemd.\n\n246\n00:12:11.860 --> 00:12:16.090\nSo different kind of variations\nthere to be aware of.\n\n247\n00:12:16.090 --> 00:12:17.640\nInside of this folder,\n\n248\n00:12:17.640 --> 00:12:22.310\ninside of /lib/systemd,\nthere's another folder called system.\n\n249\n00:12:22.310 --> 00:12:27.210\nAnd I get inside of that folder so\nI'm now in /lib/systemd/system, and\n\n250\n00:12:27.210 --> 00:12:28.950\nI take a look in here.\n\n251\n00:12:28.950 --> 00:12:32.280\nThis is where I'm gonna see my units and\nmy targets.\n\n252\n00:12:33.670 --> 00:12:38.430\nNow, there are a number of\ndifferent types of units.\n\n253\n00:12:38.430 --> 00:12:40.240\nThe most common unit is a service.\n\n254\n00:12:41.590 --> 00:12:46.419\nWhen I configure something like if I wanna\nbe a web server then I'll have a web\n\n255\n00:12:46.419 --> 00:12:48.770\nserver service, httpd.service.\n\n256\n00:12:48.770 --> 00:12:53.051\nLet's see, I don't know if I am one oh I\nam, look at that htbd.service right there,\n\n257\n00:12:53.051 --> 00:12:54.760\nso I'm a web server.\n\n258\n00:12:54.760 --> 00:12:57.520\nThat service is a unit.\n\n259\n00:12:57.520 --> 00:12:59.630\nBut services aren't the only type of unit.\n\n260\n00:12:59.630 --> 00:13:01.077\nHere, I've got mount.\n\n261\n00:13:01.077 --> 00:13:05.320\nWhen I mount a hard drive to a folder or\nto a path on the system or\n\n262\n00:13:05.320 --> 00:13:08.490\nI mount a volume to a path on the system.\n\n263\n00:13:08.490 --> 00:13:10.650\nWell that's a mount target.\n\n264\n00:13:10.650 --> 00:13:14.100\nYou'll see auto mount targets for\nones that should be automatically mounted.\n\n265\n00:13:14.100 --> 00:13:16.858\nYou'll see,\nwhat are some of the other ones, devices.\n\n266\n00:13:16.858 --> 00:13:21.360\nSo in system V we have udev.\n\n267\n00:13:21.360 --> 00:13:24.097\nAnd udev would run in assign\nnames to all of our hardware.\n\n268\n00:13:24.097 --> 00:13:26.684\nThere will be in /dev slash whatever.\n\n269\n00:13:26.684 --> 00:13:30.610\nIn systemd,\nwe actually have those define as units.\n\n270\n00:13:30.610 --> 00:13:33.500\nAnd here see you'll find device\nunits buried away in here\n\n271\n00:13:33.500 --> 00:13:35.480\nsomewhere if you program\nenough you'll find them.\n\n272\n00:13:35.480 --> 00:13:40.210\nSo there will be those,\nwe've also got a path units for\n\n273\n00:13:40.210 --> 00:13:42.420\nidentifying certain paths on the system.\n\n274\n00:13:42.420 --> 00:13:47.750\nWe've got snapshot units which are used on\nfile systems who are supporting snapshots.\n\n275\n00:13:47.750 --> 00:13:50.920\nWe've got socket units which are for\nnetwork connections or\n\n276\n00:13:50.920 --> 00:13:53.970\nconnections between processes\non the local system.\n\n277\n00:13:53.970 --> 00:13:56.270\nAnd we've got targets.\n\n278\n00:13:56.270 --> 00:13:58.600\nNow, targets are technically\na type of unit and\n\n279\n00:13:58.600 --> 00:14:01.070\nthat's kind of weird\nbecause what is a target?\n\n280\n00:14:01.070 --> 00:14:02.170\nA collection of units, so\n\n281\n00:14:02.170 --> 00:14:06.690\nit's somewhat cyclical but when you\nsee something in here that's a target.\n\n282\n00:14:06.690 --> 00:14:11.260\nLike here I've got this runlevel\n0 target or runlevel 1 target.\n\n283\n00:14:11.260 --> 00:14:15.010\nThese are targets that\nemulate the old run levels.\n\n284\n00:14:15.010 --> 00:14:17.820\nAnd you can see those are just\nkind of sim links here and\n\n285\n00:14:17.820 --> 00:14:20.380\nthose are all pointing to these\nother targets that we've got.\n\n286\n00:14:20.380 --> 00:14:23.760\nAnd you've got things like target.wants.\n\n287\n00:14:23.760 --> 00:14:28.670\nWants, that means if this runs this\nservice wants these other services.\n\n288\n00:14:28.670 --> 00:14:31.380\nThat's how we start to build\nthat hierarchy of what\n\n289\n00:14:31.380 --> 00:14:33.380\norder these guys should start from.\n\n290\n00:14:33.380 --> 00:14:35.680\nSo you'll see a lot of\ninteresting stuff in here.\n\n291\n00:14:35.680 --> 00:14:39.030\nBut at the end of the day,\nthey're are units and targets.\n\n292\n00:14:39.030 --> 00:14:42.930\nAnd the units will be individual things\nthat we want to run like my HTTPD and\n\n293\n00:14:42.930 --> 00:14:46.680\nthen the targets are collections of those\nunits, they get started at the same time.\n\n294\n00:14:46.680 --> 00:14:52.010\nAnd if I take a look at one of\nthose units like the httpd.service,\n\n295\n00:14:52.010 --> 00:14:54.820\nit's not a complex file to write at all.\n\n296\n00:14:54.820 --> 00:14:56.770\nThis is not some bash script\nthat I'm gonna write.\n\n297\n00:14:56.770 --> 00:14:58.970\nIt's really just series of variables.\n\n298\n00:14:58.970 --> 00:15:00.890\nAnd so\nyou'll see here I've got a description so\n\n299\n00:15:00.890 --> 00:15:04.460\nthat I know what it is,\nhttpd is the Apache server.\n\n300\n00:15:04.460 --> 00:15:05.960\nSo I can see that.\n\n301\n00:15:05.960 --> 00:15:08.770\nThen I've got after,\n\n302\n00:15:08.770 --> 00:15:13.630\nin other words don't start this\nservice until after these other guys.\n\n303\n00:15:13.630 --> 00:15:16.880\nAnd so I've got the network target,\nwhat's that?\n\n304\n00:15:16.880 --> 00:15:20.260\nWell the network target includes\nall of the units responsible for\n\n305\n00:15:20.260 --> 00:15:21.930\nmaking my network functional.\n\n306\n00:15:21.930 --> 00:15:26.760\nSo get the network functional\nfirst then start the web server or\n\n307\n00:15:26.760 --> 00:15:29.660\nthis one, the remote fs target.\n\n308\n00:15:29.660 --> 00:15:32.830\nIf I'm mounting remote file\nsystems like NFS shares, and\n\n309\n00:15:32.830 --> 00:15:35.280\nthat's what my web servers do,\na lot of web servers do that.\n\n310\n00:15:35.280 --> 00:15:37.380\nIf you have an auto scale cluster,\n\n311\n00:15:37.380 --> 00:15:41.000\nhow do you make sure that each node has\nthe same exact copy of the web page?\n\n312\n00:15:41.000 --> 00:15:43.130\nThe answer,\nyou don't store it on the web server.\n\n313\n00:15:43.130 --> 00:15:43.900\nYou store it on the network.\n\n314\n00:15:43.900 --> 00:15:46.210\nAnd then they can spawn up and\nimmediately have access.\n\n315\n00:15:46.210 --> 00:15:48.384\nSo wait for\nthe remote file systems to kick up.\n\n316\n00:15:48.384 --> 00:15:51.264\nWait for nss lookups to kick in.\n\n317\n00:15:51.264 --> 00:15:54.618\nWait for those and then start httpd.\n\n318\n00:15:54.618 --> 00:15:57.939\nAnd then we can see information\nabout the service, right?\n\n319\n00:15:57.939 --> 00:15:59.274\nWe do a type notify.\n\n320\n00:15:59.274 --> 00:16:01.625\nLet us know rather it works or\ndoesn't work and\n\n321\n00:16:01.625 --> 00:16:04.360\nother information about the execution,\nall right?\n\n322\n00:16:04.360 --> 00:16:06.780\nIncluding how we execute it.\n\n323\n00:16:06.780 --> 00:16:09.670\nIf I start it, this is what I run.\n\n324\n00:16:09.670 --> 00:16:10.220\nOkay?\n\n325\n00:16:10.220 --> 00:16:13.689\nI run /usr/sbin/httpd\nfollowed by $OPTIONS.\n\n326\n00:16:13.689 --> 00:16:14.760\nHow do I stop it?\n\n327\n00:16:14.760 --> 00:16:20.060\nIf I want to stop it, I run /bin/kill and\nthen I point it to that process.\n\n328\n00:16:20.060 --> 00:16:21.640\nHow do I reload it?\n\n329\n00:16:21.640 --> 00:16:23.220\nI run this option, right?\n\n330\n00:16:23.220 --> 00:16:25.020\nGo to graceful restart.\n\n331\n00:16:25.020 --> 00:16:27.820\nSo we say how to control that program.\n\n332\n00:16:27.820 --> 00:16:30.740\nThat program has its own config files and\nwe leave those alone.\n\n333\n00:16:30.740 --> 00:16:34.510\nBut here's how we start, stop it,\nand restart it, all right?\n\n334\n00:16:34.510 --> 00:16:37.830\nAnd then, if I want to do those things, if\nI want to start it, stop it, restart it,\n\n335\n00:16:37.830 --> 00:16:42.400\nI have a neat little command,\nsystemctl, all right?\n\n336\n00:16:42.400 --> 00:16:48.910\nSystemctl, or the System D Controller,\nis how we interact with System D.\n\n337\n00:16:48.910 --> 00:16:52.550\nAnd so, I can go in and I can tell it to\ndo things like start and stop services.\n\n338\n00:16:52.550 --> 00:16:54.820\nYou'll see all the different\noptions it's got in here.\n\n339\n00:16:54.820 --> 00:16:58.280\nSo if I want to start httpd,\nI could come in here and\n\n340\n00:16:58.280 --> 00:17:04.240\nI could say,System CTL,\nfollowed by start, httpd.\n\n341\n00:17:05.540 --> 00:17:10.530\nAnd it's gonna look for that unit, see\nwhat the unit says, how do I start that?\n\n342\n00:17:10.530 --> 00:17:13.460\nAnd then look at its dependencies and say,\nare these other things already running,\n\n343\n00:17:13.460 --> 00:17:15.000\nif not I need to start those.\n\n344\n00:17:15.000 --> 00:17:17.410\nIf they are, then I can go ahead and\nstart this one.\n\n345\n00:17:17.410 --> 00:17:18.700\nAnd I'll start it.\n\n346\n00:17:18.700 --> 00:17:21.840\nAnd if I wanna stop it or restart it,\nI can just come in and change that, and\n\n347\n00:17:21.840 --> 00:17:24.530\nnow I'll stop it, okay?\n\n348\n00:17:24.530 --> 00:17:26.370\nNow most of us are probably used\nto the old way of doing it,\n\n349\n00:17:26.370 --> 00:17:31.170\nwhere we'd say service httpd start, right?\n\n350\n00:17:31.170 --> 00:17:34.900\nWell Red Hat and CentOS,\nthey actually map that service command.\n\n351\n00:17:34.900 --> 00:17:39.720\nSo when I run it, see how it says\nredirecting to /bin/systemctl?\n\n352\n00:17:39.720 --> 00:17:42.330\nSo the old commands, you can use them.\n\n353\n00:17:42.330 --> 00:17:46.420\nEventually if System D becomes\nthe defacto standard for\n\n354\n00:17:46.420 --> 00:17:48.660\nLinux, you'll see the old\ncommands go away.\n\n355\n00:17:48.660 --> 00:17:51.610\nBut for now, they map them together so\nif you use the wrong one,\n\n356\n00:17:51.610 --> 00:17:53.270\nit takes care of it.\n\n357\n00:17:53.270 --> 00:17:58.180\nAnd I refer to it as httpd here but\nsee how it changes to httpd.service?\n\n358\n00:17:58.180 --> 00:17:59.030\nThat's the full unit name.\n\n359\n00:17:59.030 --> 00:18:02.530\nAnd if you don't know the unit type,\nyou can always leave it off like I did and\n\n360\n00:18:02.530 --> 00:18:03.560\nit'll find it.\n\n361\n00:18:03.560 --> 00:18:09.720\nBut, in theory,\nI could have a service unit,\n\n362\n00:18:09.720 --> 00:18:12.580\nand I could have a mount unit\nwith the same name, right?\n\n363\n00:18:12.580 --> 00:18:15.680\nMaybe I have a path that\nI've called httpd, and\n\n364\n00:18:15.680 --> 00:18:17.900\nI've got a service called httpd,\nand in that case,\n\n365\n00:18:17.900 --> 00:18:21.900\nI would need to make sure that I specified\nwhat type of unit it was, all right?\n\n366\n00:18:21.900 --> 00:18:26.010\nSo that makes it fairly easy to work\nwith and at the end of the day,\n\n367\n00:18:26.010 --> 00:18:33.630\nI install my services, they get added\nright there in my /lib/systemd/system and\n\n368\n00:18:33.630 --> 00:18:36.410\nit says what they depend on, it says\nhow to start them, how to stop them.\n\n369\n00:18:36.410 --> 00:18:38.230\nI don't have to go modify scripts.\n\n370\n00:18:38.230 --> 00:18:41.740\nAnd as far as run levels are concerned,\nI don't really need those anymore.\n\n371\n00:18:41.740 --> 00:18:44.140\nWhen it fires up,\nit's defining what to go into.\n\n372\n00:18:44.140 --> 00:18:46.740\nIf I don't want a GUI, I go in and\n\n373\n00:18:46.740 --> 00:18:52.390\nI modify the graphical unit,\nwhich is usually the default one.\n\n374\n00:18:52.390 --> 00:18:53.960\nThere is a default unit,\n\n375\n00:18:53.960 --> 00:18:57.720\nI'm glad I kinda mentioned that offhand,\nthat you'll spot in here.\n\n376\n00:18:57.720 --> 00:18:59.210\nLet's see if I can find it.\n\n377\n00:18:59.210 --> 00:19:01.578\nHere, you've got this default.target.\n\n378\n00:19:01.578 --> 00:19:04.090\nOkay?\nAnd default.that target,\n\n379\n00:19:04.090 --> 00:19:08.870\nright here, says when I boot up,\nwhat's my default grouping of units?\n\n380\n00:19:08.870 --> 00:19:10.810\nWhat units do I wanna start?\n\n381\n00:19:10.810 --> 00:19:15.290\nAnd if I want a different run levels,\nI can just create different targets,\n\n382\n00:19:15.290 --> 00:19:16.300\ndifferent groupings.\n\n383\n00:19:16.300 --> 00:19:20.270\nOne grouping might include the GUI,\nand the other grouping might not.\n\n384\n00:19:20.270 --> 00:19:24.690\nHere on CentOS the default of that target\nis actually symlinked to graphical.\n\n385\n00:19:24.690 --> 00:19:26.220\nLet me show you what I mean.\n\n386\n00:19:26.220 --> 00:19:29.305\nIf I do default.target.\n\n387\n00:19:29.305 --> 00:19:30.870\nThere we go.\n\n388\n00:19:30.870 --> 00:19:34.160\nSee how default.target is\nsymlinked to graphical.target?\n\n389\n00:19:34.160 --> 00:19:36.420\nThat would be like run level\nfive under system 5, right?\n\n390\n00:19:36.420 --> 00:19:39.710\nWith multi user width and\ngraphical user interface.\n\n391\n00:19:39.710 --> 00:19:43.040\nBut if you look in here\nthere's another one which\n\n392\n00:19:43.040 --> 00:19:44.990\nI've forgotten what it's name is.\n\n393\n00:19:44.990 --> 00:19:46.980\nLet me see if I can find it.\n\n394\n00:19:46.980 --> 00:19:50.549\nI think it's console.target.\n\n395\n00:19:50.549 --> 00:19:53.470\nI can't remember the name of it but\nthere is another target\n\n396\n00:19:53.470 --> 00:19:56.600\nthat is one that just boots to\na command line instead of GUI.\n\n397\n00:19:56.600 --> 00:20:00.730\nSo I would just sim link the default\ntarget to be that other one and\n\n398\n00:20:00.730 --> 00:20:03.650\npoint it and now it's gonna load up and\nI won't have a GUI.\n\n399\n00:20:03.650 --> 00:20:04.570\nSo you can find those\n\n400\n00:20:04.570 --> 00:20:07.040\nin your different systems defined\nthem a little bit differently.\n\n401\n00:20:07.040 --> 00:20:11.880\nBut you can spot on them and kinda pick\nthe one that you need for your system.\n\n402\n00:20:11.880 --> 00:20:15.800\nSo, is it easier than System 5?\n\n403\n00:20:15.800 --> 00:20:16.970\nI think so.\n\n404\n00:20:16.970 --> 00:20:18.730\nIt's a lot easier to work with.\n\n405\n00:20:18.730 --> 00:20:19.720\nIs it faster?\n\n406\n00:20:19.720 --> 00:20:20.610\nAbsolutely.\n\n407\n00:20:20.610 --> 00:20:23.410\nBecause it's not running synchronously,\nit's running asynchronously.\n\n408\n00:20:23.410 --> 00:20:26.910\nIt can start all these targets and\nunits along the dependencies.\n\n409\n00:20:26.910 --> 00:20:30.040\nBut it can do more than\none at the same time.\n\n410\n00:20:30.040 --> 00:20:34.570\nSo it can move forward in an order\nthat's different than System 5 init.\n\n411\n00:20:34.570 --> 00:20:35.720\nThat makes it faster.\n\n412\n00:20:35.720 --> 00:20:37.310\nIs it a lot more powerful?\n\n413\n00:20:37.310 --> 00:20:38.600\nAbsolutely.\n\n414\n00:20:38.600 --> 00:20:39.570\nIs is a lot more different?\n\n415\n00:20:40.720 --> 00:20:42.100\nSuper absolutely, right?\n\n416\n00:20:42.100 --> 00:20:43.790\nAnd that's where a lot of\nthis resistance comes from.\n\n417\n00:20:45.890 --> 00:20:46.670\nAll right.\nI feel like I'm\n\n418\n00:20:46.670 --> 00:20:48.760\nforgetting something important\nthat I wanna to talk about.\n\n419\n00:20:48.760 --> 00:20:49.260\nShoot.\n\n420\n00:20:51.000 --> 00:20:52.190\nI guess maybe that's it.\n\n421\n00:20:52.190 --> 00:20:55.330\nYeah.\nOne of the term that you might see batted\n\n422\n00:20:55.330 --> 00:20:59.646\nabout on the exam is that System D\nis considered to be monolithic.\n\n423\n00:20:59.646 --> 00:21:00.665\nAll right?\n\n424\n00:21:00.665 --> 00:21:02.910\nSystem 5, when it ran,\n\n425\n00:21:02.910 --> 00:21:06.670\nit was one big script then they\ncould call smaller scripts.\n\n426\n00:21:06.670 --> 00:21:09.070\nSo it was made up of multiple pieces.\n\n427\n00:21:09.070 --> 00:21:11.150\nSystem D, is a program.\n\n428\n00:21:11.150 --> 00:21:14.319\nSo at the end of the day,\nall boils down to one executable,\n\n429\n00:21:14.319 --> 00:21:16.175\nthe System D executable.\n\n430\n00:21:16.175 --> 00:21:18.815\nAnd so it's considered monolithic,\none piece.\n\n431\n00:21:18.815 --> 00:21:22.555\nIf systemd were to crash,\nyour system would stop working, right?\n\n432\n00:21:22.555 --> 00:21:24.785\nIt's that critical to the system.\n\n433\n00:21:24.785 --> 00:21:27.945\nWhereas init, the old SystemVinit,\nit can't crash.\n\n434\n00:21:27.945 --> 00:21:28.585\nIt's just a script.\n\n435\n00:21:28.585 --> 00:21:30.335\nThe script stops running, and runs again.\n\n436\n00:21:30.335 --> 00:21:30.925\nFine, whatever.\n\n437\n00:21:30.925 --> 00:21:33.570\nThe kernel doesn't depend\non it like System D does.\n\n438\n00:21:33.570 --> 00:21:37.720\nSo it does become a more\nessential part of your system and\n\n439\n00:21:37.720 --> 00:21:38.640\nsome people don't like that.\n\n440\n00:21:38.640 --> 00:21:41.510\nAnd this is another area where\nsome of that controversy comes in.\n\n441\n00:21:41.510 --> 00:21:44.410\n>> Yeah, it's a reluctant to change\nout there which is interesting\n\n442\n00:21:44.410 --> 00:21:48.330\nto me coming from the Linux community\nbecause their all about being different.\n\n443\n00:21:48.330 --> 00:21:51.160\nTheir all about pushing the envelope,\ndoing different things.\n\n444\n00:21:51.160 --> 00:21:55.210\nSo it is interesting to see that, hey\nthis is the way we've always done it so\n\n445\n00:21:55.210 --> 00:21:56.580\ndon't move away from that.\n\n446\n00:21:56.580 --> 00:21:58.040\nBut as you can see,\n\n447\n00:21:58.040 --> 00:22:02.390\nit's a really good idea to do that, this\nis gonna be beneficial down the road, and\n\n448\n00:22:02.390 --> 00:22:06.390\nthe more people that jump on board\nto that way of thinking for Linux,\n\n449\n00:22:06.390 --> 00:22:10.950\nit's gonna help Linux keep growing in\nthe market share and things like that, and\n\n450\n00:22:10.950 --> 00:22:16.656\nbeing used more by regular end users,\nnot so much just in the server club.\n\n451\n00:22:16.656 --> 00:22:17.710\n>> Yeah.\n\n452\n00:22:17.710 --> 00:22:18.900\nWe had a question in the forum.\n\n453\n00:22:18.900 --> 00:22:22.030\nI sort of answered this earlier, but\nlet me go a little more in depth.\n\n454\n00:22:22.030 --> 00:22:23.770\nAbout the wants option, right?\n\n455\n00:22:23.770 --> 00:22:27.230\nWhen we take a look at a unit,\nI'll pull up sshd.\n\n456\n00:22:29.060 --> 00:22:30.830\nSo like ssh, right?\n\n457\n00:22:30.830 --> 00:22:34.030\nWhen the ssh demon starts,\nI can find it right here.\n\n458\n00:22:34.030 --> 00:22:35.470\nRight?\nIt's got a unit defined for it,\n\n459\n00:22:35.470 --> 00:22:37.310\nthere's the open ssh server.\n\n460\n00:22:37.310 --> 00:22:41.970\nAnd it's got this wants\nthe sshd.keygen.service.\n\n461\n00:22:41.970 --> 00:22:44.690\nWants is different than after, okay?\n\n462\n00:22:44.690 --> 00:22:49.490\nAfter means these other guys,\nthey've gotta be started before me, right?\n\n463\n00:22:49.490 --> 00:22:51.630\nI've gotta have these\nthings started before me.\n\n464\n00:22:51.630 --> 00:22:54.227\nSo it's gonna start network.target, and\n\n465\n00:22:54.227 --> 00:22:57.325\nit's gonna start sshd-keygen.service,\nokay?\n\n466\n00:22:57.325 --> 00:23:02.070\nBut then I've got wants also, and\nI've got that same key gen service.\n\n467\n00:23:02.070 --> 00:23:03.310\nWhat does that mean?\n\n468\n00:23:03.310 --> 00:23:07.250\nWell, what it means is once sshd is up and\n\n469\n00:23:07.250 --> 00:23:12.880\nrunning, you could actually stop the key\ngen service and sshd would keep running.\n\n470\n00:23:12.880 --> 00:23:13.770\nIt'll keep running.\n\n471\n00:23:13.770 --> 00:23:17.380\nIt actually it wants that other\nservice to be running but\n\n472\n00:23:17.380 --> 00:23:19.850\nit doesn't truly depend on it.\n\n473\n00:23:19.850 --> 00:23:23.580\nAnd so by adding this once\nin like this It says hey,\n\n474\n00:23:23.580 --> 00:23:28.880\nif the sshd key gen service stops,\nstop this one too, stop sshd.\n\n475\n00:23:28.880 --> 00:23:32.970\nBecause even though it will technically\nstill run, it won't actually work.\n\n476\n00:23:32.970 --> 00:23:35.880\nIf your key gen service is not running\nwhen somebody connects you can't generate\n\n477\n00:23:35.880 --> 00:23:38.180\na session key, you're not gonna connect.\n\n478\n00:23:38.180 --> 00:23:39.620\nSo take this one down too.\n\n479\n00:23:39.620 --> 00:23:46.230\nSo it's kind of a a more true dependency,\nsomething we absolutely have to have.\n\n480\n00:23:46.230 --> 00:23:47.910\nVersus like the network target.\n\n481\n00:23:47.910 --> 00:23:52.500\nIf the network target were to stop, and\nnetwork were to go off-line, I can still\n\n482\n00:23:52.500 --> 00:23:57.500\nuse ssh from the local console to my own\nsystem, you can still do it other ways.\n\n483\n00:23:57.500 --> 00:24:01.090\nAnd so that one doesn't necessarily\nget thrown in as a want.\n\n484\n00:24:01.090 --> 00:24:02.380\nBut you'll see that.\n\n485\n00:24:02.380 --> 00:24:04.890\nAnd then there's this WantedBy down here.\n\n486\n00:24:04.890 --> 00:24:07.930\nIf we've got the multi-user target,\nfor example,\n\n487\n00:24:07.930 --> 00:24:12.620\nthat that one will initialize sshd,\nat least that one's in here.\n\n488\n00:24:12.620 --> 00:24:13.470\nSome of these wanted bys,\n\n489\n00:24:13.470 --> 00:24:16.010\nyou can actually leave them out by\naccident and it still works just fine.\n\n490\n00:24:16.010 --> 00:24:18.040\nIt's just kinda one of those things.\n\n491\n00:24:18.040 --> 00:24:21.520\nBut, by having it properly defined\nyou get a proper hierarchy.\n\n492\n00:24:21.520 --> 00:24:24.930\nAnd services know when to start and\nstop based on their dependencies, so.\n\n493\n00:24:24.930 --> 00:24:26.030\n>> Very cool, Don.\n\n494\n00:24:26.030 --> 00:24:29.570\nWell, obviously, System D is,\nlike you said, it's very powerful.\n\n495\n00:24:29.570 --> 00:24:35.250\nIt's very easier to use,\ncomparing it to that old System 5 in it.\n\n496\n00:24:35.250 --> 00:24:38.360\nNow if you're entrenched in System\n5 in it, you love System 5,\n\n497\n00:24:38.360 --> 00:24:40.460\nthat's fine there's\nnothing wrong with that.\n\n498\n00:24:40.460 --> 00:24:43.010\nBut System D is probably\nthe wave of the future.\n\n499\n00:24:43.010 --> 00:24:47.610\nSo for us as new Linux users, if you're\njust getting into Linux, this is gonna be\n\n500\n00:24:47.610 --> 00:24:51.320\nwhat you're gonna get your teeth on and\nnot the other way around.\n\n501\n00:24:51.320 --> 00:24:53.490\n>> Well I mean,\nlet's say you're a big Red Hat shop.\n\n502\n00:24:53.490 --> 00:24:54.900\nAnd you got all red hat servers.\n\n503\n00:24:54.900 --> 00:24:57.430\nIf you're running red\nhat enterprise Lenox 6.\n\n504\n00:24:57.430 --> 00:25:02.340\nWhatever then you're on upstart,\nthe variation of System 5 init.\n\n505\n00:25:02.340 --> 00:25:06.300\nBut when you upgrade to scint OS 7 or\nRed Hat 7, it's System D.\n\n506\n00:25:06.300 --> 00:25:10.490\nAnd they don't give you an easy way\nto swap out, and go back to System 5.\n\n507\n00:25:10.490 --> 00:25:13.010\nYou get some basic compatibility but\nyou really need updates,\n\n508\n00:25:13.010 --> 00:25:14.610\nso you now have a choice.\n\n509\n00:25:14.610 --> 00:25:18.400\nDo I just stay with six for the rest\nof the duration of the server's life or\n\n510\n00:25:18.400 --> 00:25:19.650\ndo I go to seven and embrace System D?\n\n511\n00:25:19.650 --> 00:25:21.450\nThey kind of force that choice on you.\n\n512\n00:25:21.450 --> 00:25:24.240\nAnd you're gonna see a lot of\ndistros do that over time,\n\n513\n00:25:24.240 --> 00:25:27.090\nunless the community rebels, which is\nwhat you're seeing with Debian and\n\n514\n00:25:27.090 --> 00:25:28.870\nwhy Debian is still in System 5 init, so.\n\n515\n00:25:28.870 --> 00:25:29.860\n>> That's right.\n\n516\n00:25:29.860 --> 00:25:31.080\nWell, a lot of good stuff today.\n\n517\n00:25:31.080 --> 00:25:33.030\nHopefully you guys enjoyed this episode.\n\n518\n00:25:33.030 --> 00:25:35.130\nWe surely enjoyed making it.\n\n519\n00:25:35.130 --> 00:25:37.520\nSo that it is time to sign off for\nITProTV.\n\n520\n00:25:37.520 --> 00:25:39.220\nI've been your host Daniel Lowry.\n\n521\n00:25:40.360 --> 00:25:42.010\n>> And I'm Don Pezet.\n\n522\n00:25:42.010 --> 00:25:43.604\n>> And we'll see you next time.\n\n523\n00:25:43.604 --> 00:25:48.190\n[MUSIC]\n\n",
          "vimeoId": "131535414"
        }
      ],
      "title": "(LX0-103) Booting Linux and Editing Files"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1933",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-1-configuring_x_windows-070815-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-1-configuring_x_windows-070815-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-1-configuring_x_windows-070815-1-sm.jpg",
          "title": "Configuring X Windows",
          "transcript": "WEBVTT\n\n1\n00:00:00.033 --> 00:00:10.132\n[MUSIC]\n\n2\n00:00:10.132 --> 00:00:15.190\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.190 --> 00:00:19.020\nYour host Daniel Lowry, and here with\nme today is none other than Don Pezet.\n\n4\n00:00:19.020 --> 00:00:19.873\nHow's it going today, Don?\n\n5\n00:00:19.873 --> 00:00:20.990\n>> It's going great, Daniel.\n\n6\n00:00:20.990 --> 00:00:24.270\nExcited about another episode of Linux+.\n\n7\n00:00:24.270 --> 00:00:25.080\nI say I'm excited,\n\n8\n00:00:25.080 --> 00:00:28.371\nwe're actually about to jump into an area\nwhich is really not one of my favorites,\n\n9\n00:00:28.371 --> 00:00:31.719\nI know this is not the [CROSSTALK]\n>> This is the most important thing in\n\n10\n00:00:31.719 --> 00:00:33.393\nLinux, Don you know this.\n\n11\n00:00:33.393 --> 00:00:34.915\n>> [LAUGH]\n>> All right, for\n\n12\n00:00:34.915 --> 00:00:38.995\nthe majority of our shows,\nwe've been focusing on great technologies,\n\n13\n00:00:38.995 --> 00:00:41.345\nreally important stuff that\nis located inside of Linux.\n\n14\n00:00:41.345 --> 00:00:44.985\nAnd we've been things that've been\ncommon across all the distros and\n\n15\n00:00:44.985 --> 00:00:49.170\nfocusing really on that command line cuz\nyou can always count on the command line,\n\n16\n00:00:49.170 --> 00:00:52.300\nserver work station, you're gonna\nhave that command line available and\n\n17\n00:00:52.300 --> 00:00:53.840\nthat's what we focus on.\n\n18\n00:00:53.840 --> 00:00:55.990\nBut at some point, to be responsible,\n\n19\n00:00:55.990 --> 00:00:59.170\nwe've got to cover the graphical user\ninterface that's found in Linux.\n\n20\n00:00:59.170 --> 00:01:01.340\nNow, if you're running a server,\n\n21\n00:01:01.340 --> 00:01:03.470\nyou probably aren't running\na graphical user interface.\n\n22\n00:01:03.470 --> 00:01:07.360\nAnd so that's why the bulk of the series\nis focused on the command line.\n\n23\n00:01:07.360 --> 00:01:09.330\nBut if you're running a desktop.\n\n24\n00:01:09.330 --> 00:01:12.920\nThe odds are, you don't have to but\nthe odds are, if it's your desktop,\n\n25\n00:01:12.920 --> 00:01:15.160\nyou're going to be running\na graphical user interface.\n\n26\n00:01:16.180 --> 00:01:19.790\nUnfortunately, there's not a lot\nof consistency between vendors.\n\n27\n00:01:19.790 --> 00:01:23.110\nThere's several different\nGUI environments for\n\n28\n00:01:23.110 --> 00:01:27.500\nLinux and distros kinda pick and choose.\n\n29\n00:01:27.500 --> 00:01:30.280\nAnd some of them are really good about\n\n30\n00:01:30.280 --> 00:01:34.110\nsticking with the same GUI version\nafter version after version.\n\n31\n00:01:34.110 --> 00:01:38.850\nBut most of them aren't [LAUGH] and\neven the big players like Red Ha.\n\n32\n00:01:38.850 --> 00:01:42.920\nRed Hat will change their GUI\ndrastically between versions\n\n33\n00:01:44.430 --> 00:01:46.890\nwith little or no notice about it, and\n\n34\n00:01:46.890 --> 00:01:50.990\nit makes it really challenging to\nkeep our end users trained up and\n\n35\n00:01:50.990 --> 00:01:54.880\nready to use the newest environments and\njust be comfortable with the system.\n\n36\n00:01:54.880 --> 00:01:59.160\nThat's really a challenge and I kinda say,\nit like it's a Linux problem.\n\n37\n00:01:59.160 --> 00:02:01.710\nIt isn't,\nother vendors have the same issues.\n\n38\n00:02:01.710 --> 00:02:05.226\nLook at Microsoft when they went\nfrom Windows 3.1 to Windows 95 or\n\n39\n00:02:05.226 --> 00:02:08.144\nwhen they went from,\nwhat was it Windows XP to, no it was,\n\n40\n00:02:08.144 --> 00:02:11.687\nwhen did they make the big change,\nbetween Windows 7 and Windows 8.\n\n41\n00:02:11.687 --> 00:02:12.768\n>> Oh yeah, that was a big change, yeah.\n\n42\n00:02:12.768 --> 00:02:14.567\n>> Where they went to that modern\nUIM it was a revolt, right?\n\n43\n00:02:14.567 --> 00:02:15.560\n>> [LAUGH]\n>> So\n\n44\n00:02:15.560 --> 00:02:21.050\nwhen Red Hat switches from KDE to GNOME or\nsomething like that.\n\n45\n00:02:21.050 --> 00:02:27.020\nIts a big change and they're doing to\ntry and improve user usability kind\n\n46\n00:02:27.020 --> 00:02:31.090\nof redundant right but as an administrator\nwhat it means is that we need to be\n\n47\n00:02:31.090 --> 00:02:34.730\nfamiliar with the different graphical user\ninterfaces that are available in Linux.\n\n48\n00:02:34.730 --> 00:02:38.290\nWe need to be at least comfortable enough\nto function and find things in it,\n\n49\n00:02:38.290 --> 00:02:41.015\nat least to be able to find the terminal.\n\n50\n00:02:41.015 --> 00:02:41.780\n>> [LAUGH]\n>> And then\n\n51\n00:02:41.780 --> 00:02:43.660\njust to be able to support\nthose environments.\n\n52\n00:02:43.660 --> 00:02:44.860\nSo in this episode,\n\n53\n00:02:44.860 --> 00:02:47.580\nthat's what we're gonna be taking\na look at some of the GUI's.\n\n54\n00:02:47.580 --> 00:02:51.180\n>> Now Don, I would say that this is one\nof the points where there is a lot of\n\n55\n00:02:51.180 --> 00:02:54.520\ncontention when it comes to the different\ngraphical environments on what's better,\n\n56\n00:02:54.520 --> 00:02:56.520\nwhat's worse, why did they make\nall these different changes and\n\n57\n00:02:56.520 --> 00:02:59.330\neverything which is valid, I would say.\n\n58\n00:02:59.330 --> 00:03:03.570\nBut it kind of goes along with the whole\nLinux philosophy of design of,\n\n59\n00:03:03.570 --> 00:03:08.010\nthey want you to have options, and by God\nsometimes they give you plenty of them,\n\n60\n00:03:08.010 --> 00:03:10.860\nand sometimes it's like trying\nto drink from a fire hose.\n\n61\n00:03:10.860 --> 00:03:16.430\nAnd a lot of the times this can be one of\nthose specific areas in which that occurs.\n\n62\n00:03:16.430 --> 00:03:18.110\nI've got so many options to choose from,\n\n63\n00:03:18.110 --> 00:03:20.900\nsometimes you can get bogged down\njust playing with different graphical\n\n64\n00:03:20.900 --> 00:03:22.930\nuser interfaces until you find\nthe right one that you like.\n\n65\n00:03:22.930 --> 00:03:25.950\nAnd then as soon you like it of course\nthey're gonna change it on you and\n\n66\n00:03:25.950 --> 00:03:28.480\nmake it a little different and you're\ngonna be like where is everything at and\n\n67\n00:03:28.480 --> 00:03:30.250\nyou get, it gets a little frustrating.\n\n68\n00:03:30.250 --> 00:03:32.721\nBut usually if you got\na little wherewithal,\n\n69\n00:03:32.721 --> 00:03:35.588\nwe can bounce around this\nthing relatively easily.\n\n70\n00:03:35.588 --> 00:03:37.226\nAnd Don, you're gonna help us\nout with that today, right?\n\n71\n00:03:37.226 --> 00:03:38.212\n>> Yeah, absolutely.\n\n72\n00:03:38.212 --> 00:03:42.260\nSo just to kind of start,\nlet's talk about these user interfaces.\n\n73\n00:03:42.260 --> 00:03:45.040\nWell, there's a couple that are really,\nreally big and really popular and\n\n74\n00:03:45.040 --> 00:03:46.330\nthere's a couple that are less popular.\n\n75\n00:03:46.330 --> 00:03:49.730\nBut they're all kind of out there,\nthe ones we need to be aware of.\n\n76\n00:03:49.730 --> 00:03:55.140\nNow, one of the most common ones the one\nyour gonna see really just a lot is\n\n77\n00:03:55.140 --> 00:03:56.000\ncalled GNOME.\n\n78\n00:03:56.000 --> 00:03:57.122\nGNOME, G-N-O-M-E.\n\n79\n00:03:57.122 --> 00:04:00.980\nThe GNOME desktop environment\nit's been around a long time and\n\n80\n00:04:00.980 --> 00:04:04.760\na lot of distros are using\nthat kind of as their default.\n\n81\n00:04:04.760 --> 00:04:08.380\nAnd let me just show you here, I'm pulling\nup the GNOME homepage here on my laptop.\n\n82\n00:04:08.380 --> 00:04:10.690\nAnd this is the GNOME desktop environment.\n\n83\n00:04:10.690 --> 00:04:15.079\nNow, GNOME is an independent organization,\nthey're a non-profit.\n\n84\n00:04:15.079 --> 00:04:19.540\nGnome.org, so this is open source\ngraphical user interface and\n\n85\n00:04:19.540 --> 00:04:21.580\nthere's many providers that use it.\n\n86\n00:04:21.580 --> 00:04:23.950\nSo for example, Red Hat.\n\n87\n00:04:23.950 --> 00:04:28.410\nIf you have Red Hat Linux or\nCentOS, they use GNOME.\n\n88\n00:04:28.410 --> 00:04:30.390\nAnd this is that kind of environment.\n\n89\n00:04:30.390 --> 00:04:32.199\nNow, when you log into Red Hat,\n\n90\n00:04:32.199 --> 00:04:35.559\nyou might not see this launch\nbar over here on the left side.\n\n91\n00:04:35.559 --> 00:04:39.521\nIt might be located somewhere else because\nRed Hat is using the GNOME desktop, but\n\n92\n00:04:39.521 --> 00:04:43.141\nthey've kind of changed the default\narrangement to make that a little more\n\n93\n00:04:43.141 --> 00:04:45.700\nconsistent with what they wanted.\n\n94\n00:04:45.700 --> 00:04:48.810\nSo that's an example right\nthere of what GNOME looks like.\n\n95\n00:04:48.810 --> 00:04:51.119\nAnd because the theming and\ncustomizations and\n\n96\n00:04:51.119 --> 00:04:53.710\nstuff you can do it can\nreally look different.\n\n97\n00:04:53.710 --> 00:05:00.270\nSo if we were to take for\nexample a CentOS 7 machine here.\n\n98\n00:05:00.270 --> 00:05:01.870\nHere I am and this is running GNOME, but\n\n99\n00:05:01.870 --> 00:05:06.070\nit doesn't really look like the user\ninterface we just saw a minute ago.\n\n100\n00:05:06.070 --> 00:05:08.650\nBut that's because they've customized it.\n\n101\n00:05:08.650 --> 00:05:09.293\nAnd sent to us,\n\n102\n00:05:09.293 --> 00:05:12.161\nthey've kind of styled their stuff\nafter Red Hat Enterprise Linux,\n\n103\n00:05:12.161 --> 00:05:14.000\nwhen this is really what\nit would look like.\n\n104\n00:05:14.000 --> 00:05:17.775\nSo they've created a more consistent\nlike drop-down menu similar to something\n\n105\n00:05:17.775 --> 00:05:20.715\nlike Microsoft Start menu and\nso we've got that.\n\n106\n00:05:20.715 --> 00:05:23.595\nBut you can create a dock on the screen\nif you want to be able to have\n\n107\n00:05:23.595 --> 00:05:26.485\ndocked applications sitting and available.\n\n108\n00:05:26.485 --> 00:05:32.725\nIf we take a look at,\nlet's do here CentOS 6.\n\n109\n00:05:32.725 --> 00:05:34.205\nLet's go back a version.\n\n110\n00:05:34.205 --> 00:05:36.215\nCentOS 6 also running null.\n\n111\n00:05:36.215 --> 00:05:39.245\nAnd the main screen elements\nare still the same.\n\n112\n00:05:39.245 --> 00:05:41.430\nI still have that\napplication drop-down menu.\n\n113\n00:05:41.430 --> 00:05:44.230\nBut see how it looks a lot\ndifferent just graphically?\n\n114\n00:05:44.230 --> 00:05:45.700\nIt's still GNOME under the hood,\n\n115\n00:05:45.700 --> 00:05:48.340\nthey've just customized it to\nlook the way that they want.\n\n116\n00:05:48.340 --> 00:05:50.940\nThey've added some default\ndesktop icons and so on.\n\n117\n00:05:50.940 --> 00:05:54.760\nSo subtle variations like\nthat even within the same\n\n118\n00:05:54.760 --> 00:05:58.300\nuser interface can cause\nconfusion amongst the end users.\n\n119\n00:05:58.300 --> 00:06:02.750\nBut these are by far not\nthe only ones that are out there.\n\n120\n00:06:02.750 --> 00:06:07.780\nThere's other ones,\nKDE is a very popular desktop environment.\n\n121\n00:06:07.780 --> 00:06:10.750\nA lot of distros were jumping\non the KDE bandwagon for\n\n122\n00:06:10.750 --> 00:06:12.870\na while and\nnow they've kind of moved away.\n\n123\n00:06:12.870 --> 00:06:14.170\nI'm not sure what happened there.\n\n124\n00:06:15.230 --> 00:06:19.870\nKDE is another, it's kde.org,\nthey're an independent organization and\n\n125\n00:06:19.870 --> 00:06:24.170\nthere's several companies that have dumped\na lot of money into KDE, like Google.\n\n126\n00:06:24.170 --> 00:06:27.140\nGoogle have put a lot of money\ninto KDE to make it better.\n\n127\n00:06:27.140 --> 00:06:31.056\nSo I'm not sure exactly why it's kind of\nfalling out of popularity right now, but\n\n128\n00:06:31.056 --> 00:06:34.516\na lot of people kind of know and love\nit because KDE comes with it's own web\n\n129\n00:06:34.516 --> 00:06:38.812\nbrowser, it's own document editor, it's\njust part of it's user interface package.\n\n130\n00:06:38.812 --> 00:06:43.711\nAnd it's a very clean interface, it's\nfairly optimized, it can take advantage\n\n131\n00:06:43.711 --> 00:06:48.691\nof 3D video cards, and GPUs to be able to\nrender that interface faster and so on so.\n\n132\n00:06:48.691 --> 00:06:50.711\nIt's pretty neat.\n\n133\n00:06:50.711 --> 00:06:52.174\nLet's see if I can make\nthis a little bit bigger.\n\n134\n00:06:52.174 --> 00:06:53.731\nWell wow, I guess that's bigger.\n\n135\n00:06:53.731 --> 00:06:54.613\nThere we go.\n\n136\n00:06:54.613 --> 00:06:57.070\nSo you can kind of see the more\ntraditional screen elements.\n\n137\n00:06:57.070 --> 00:07:00.080\nThey have a more traditional\nstart button down here,\n\n138\n00:07:00.080 --> 00:07:02.840\nkind of like what you\nwould find in Windows.\n\n139\n00:07:02.840 --> 00:07:06.420\nTo be able to bring up a start menu and\nsee the different applications.\n\n140\n00:07:06.420 --> 00:07:08.350\nBut it's a fairly straightforward system.\n\n141\n00:07:09.650 --> 00:07:14.387\nOther ones there's desktop like,\nI believe it's pronounced MATE, made, mat,\n\n142\n00:07:14.387 --> 00:07:18.150\nwhatever, but\nI'm pretty sure it's MATE which is another\n\n143\n00:07:18.150 --> 00:07:20.200\nuser interface that's\nstarting to gain popularity.\n\n144\n00:07:20.200 --> 00:07:24.180\nAnd you'll start to see between these guys\nthat there's a lot of common elements.\n\n145\n00:07:25.320 --> 00:07:27.362\nWell, maybe not so\nmuch slow loading images but.\n\n146\n00:07:27.362 --> 00:07:28.514\n>> [LAUGH]\n>> You'll see I've got this\n\n147\n00:07:28.514 --> 00:07:31.520\napplications menu up here that\ncomes down into applications.\n\n148\n00:07:31.520 --> 00:07:34.540\nThis looks a lot like GNOME,\nand there's a reason for that.\n\n149\n00:07:34.540 --> 00:07:36.280\nWhat they're trying to\ndo is make it easier for\n\n150\n00:07:36.280 --> 00:07:39.630\nusers to switch from GNOME to MATE,\nor whatever.\n\n151\n00:07:39.630 --> 00:07:42.850\nBut there's other optimizations\nin the background\n\n152\n00:07:42.850 --> 00:07:46.340\nthat might make us want to use this and\none of the big areas where you normally\n\n153\n00:07:46.340 --> 00:07:47.860\nsee that improvement is\nin the file manager.\n\n154\n00:07:49.110 --> 00:07:52.562\nThese user interfaces usually come with\ntheir own file manager that either makes\n\n155\n00:07:52.562 --> 00:07:55.656\nit easier or harder to navigate\nthe hard drive, to find your documents,\n\n156\n00:07:55.656 --> 00:07:57.040\nto work with things and edit it.\n\n157\n00:07:57.040 --> 00:07:59.000\nThat's really important to an end user.\n\n158\n00:07:59.000 --> 00:08:02.620\nTo a system administrator, we might not\ncare because we use the CLI for that but.\n\n159\n00:08:02.620 --> 00:08:04.380\nFor an end user that's important.\n\n160\n00:08:04.380 --> 00:08:08.780\nAnd so we need to make sure we choose\nthe desktop that's right for us.\n\n161\n00:08:08.780 --> 00:08:10.590\nThere's other ones,\nlike the cinnamon desktop,\n\n162\n00:08:10.590 --> 00:08:13.250\nwhich is pretty popular with linuxMint.\n\n163\n00:08:13.250 --> 00:08:14.574\nAnd they've got a series of videos here.\n\n164\n00:08:14.574 --> 00:08:16.734\nI don't want to,\nwell actually are these pictures?\n\n165\n00:08:16.734 --> 00:08:19.590\nPictures or videos or\nsomething, I don't know.\n\n166\n00:08:19.590 --> 00:08:25.270\nBut you can see the [LAUGH] if you can get\nthe little screen, show thing to work.\n\n167\n00:08:25.270 --> 00:08:26.110\nThere we go.\n\n168\n00:08:26.110 --> 00:08:28.380\nSo this is, is cinnamon and\n\n169\n00:08:28.380 --> 00:08:33.290\nlooking at cinnamon it's not all that much\ndifferent at the end of the day either.\n\n170\n00:08:33.290 --> 00:08:37.490\nAs you kind of look at the screen\nelements that it's got for being able\n\n171\n00:08:37.490 --> 00:08:42.798\nto launch things and get annoyed by Google\nChrome telling me I'm in full screen.\n\n172\n00:08:42.798 --> 00:08:45.170\nBut as you kind of work with it and\n\n173\n00:08:45.170 --> 00:08:48.950\nuse the system, it's really just\nproviding you ease of customizeability.\n\n174\n00:08:49.990 --> 00:08:51.430\nI think that's a word.\n\n175\n00:08:51.430 --> 00:08:52.320\nI'll make it a word today.\n\n176\n00:08:54.140 --> 00:08:57.840\nI've had people ask on the show before,\nwhat's my preferred GUI.\n\n177\n00:08:57.840 --> 00:09:01.450\nI prefer no GUI if I can,\non a server absolutely no GUI,\n\n178\n00:09:01.450 --> 00:09:03.950\nI don't put graphical user\ninterfaces on my servers.\n\n179\n00:09:03.950 --> 00:09:07.250\nBut on a workstation,\nit does make it work faster.\n\n180\n00:09:07.250 --> 00:09:09.600\nRight, it doesn't matter how\nhardcore you might think you are,\n\n181\n00:09:09.600 --> 00:09:12.090\nyou work faster in\na graphical user interface.\n\n182\n00:09:12.090 --> 00:09:14.095\nI like Xfce.\n\n183\n00:09:14.095 --> 00:09:16.882\nXfce is designed to be very fast.\n\n184\n00:09:16.882 --> 00:09:18.860\nIt doesn't have the flashy bells and\nwhistles.\n\n185\n00:09:18.860 --> 00:09:22.800\nIt don't have transparent windows with\nrounded edges and all that crazy stuff\n\n186\n00:09:22.800 --> 00:09:27.500\nthat makes your screen look awesome,\nits just very plain and simple.\n\n187\n00:09:27.500 --> 00:09:30.600\nAnd plain and simple means fast, right?\n\n188\n00:09:30.600 --> 00:09:31.660\nAnd that's what I like.\n\n189\n00:09:31.660 --> 00:09:32.546\nI like a fast system,\n\n190\n00:09:32.546 --> 00:09:35.313\nso its got a dock that you can throw\nyour applications down here in.\n\n191\n00:09:35.313 --> 00:09:37.500\nAnd it's got a task bar up at the top.\n\n192\n00:09:37.500 --> 00:09:39.070\nYou can launch your applications.\n\n193\n00:09:39.070 --> 00:09:40.761\nIt works really well,\nso that's another one.\n\n194\n00:09:40.761 --> 00:09:45.670\nNow, why do we care about all these\ndifferent desktops that are out there?\n\n195\n00:09:45.670 --> 00:09:51.520\nBecause some distros actually give you\nthe choice when your download the image,\n\n196\n00:09:51.520 --> 00:09:52.510\nwhich one you want.\n\n197\n00:09:52.510 --> 00:09:54.309\nDan, I known you're a big Linux Mint fan,\nright?\n\n198\n00:09:54.309 --> 00:09:55.640\n>> I do like Linux Mint, yes.\n\n199\n00:09:55.640 --> 00:09:56.675\n>> And, what was their website?\n\n200\n00:09:56.675 --> 00:09:58.140\nLinuxmint.com.\n\n201\n00:09:58.140 --> 00:10:00.089\nSo, let's say I wanted to go and\ndownload Linux Mint.\n\n202\n00:10:01.160 --> 00:10:03.205\nWell when I go to download Linux Mint.\n\n203\n00:10:03.205 --> 00:10:08.662\nI can go up here, I can go to Download and\nwhen you go to download it,\n\n204\n00:10:08.662 --> 00:10:12.470\nhere we've got Linux Mint 17.2 Rafaela.\n\n205\n00:10:12.470 --> 00:10:13.650\nVery exciting.\nSo we can go and download that.\n\n206\n00:10:13.650 --> 00:10:16.650\nBut look at as I get down\nto the download links.\n\n207\n00:10:16.650 --> 00:10:18.320\nThere's two sets of download links.\n\n208\n00:10:18.320 --> 00:10:22.290\nI've got, let me zoom in on that\na bit here, Cinnamon and MATE.\n\n209\n00:10:22.290 --> 00:10:23.630\nI can pick.\n\n210\n00:10:23.630 --> 00:10:25.510\nRight?\nSo if I download the first one,\n\n211\n00:10:25.510 --> 00:10:27.870\nit's gonna install Linux Mint\nwith the Cinnamon interface.\n\n212\n00:10:27.870 --> 00:10:29.630\nAnd if I download the second one,\n\n213\n00:10:29.630 --> 00:10:32.140\nit's gonna install Linux Mint\nwith the MATE interface.\n\n214\n00:10:32.140 --> 00:10:34.800\nAnd either one can run the other.\n\n215\n00:10:34.800 --> 00:10:36.763\nIt's just configuring it for\nme automatically.\n\n216\n00:10:36.763 --> 00:10:41.017\nSo now I get to pick based on the one that\nI want and they don't show it here, but\n\n217\n00:10:41.017 --> 00:10:44.990\nsomewhere on their website they\nhave where you can get even more.\n\n218\n00:10:44.990 --> 00:10:50.140\nWhere they break it into other interfaces\nand let's see if we jump back,\n\n219\n00:10:50.140 --> 00:10:51.920\nmaybe a version here, oh here, here.\n\n220\n00:10:51.920 --> 00:10:56.280\nSo, this is Linux Mint 13 Maya, which\nis one of their long term support ones.\n\n221\n00:10:56.280 --> 00:11:01.450\nAnd you'll see, I can download it with\nCinnamon, with KDE, with MATE, with Xfce.\n\n222\n00:11:01.450 --> 00:11:02.930\nAnd the user interface\nis already configured.\n\n223\n00:11:02.930 --> 00:11:06.960\nSo now I can run the same\ndistro that I'm used to and\n\n224\n00:11:06.960 --> 00:11:09.290\nit's pre-configured with\nthe user interface that I want.\n\n225\n00:11:10.550 --> 00:11:13.570\nBut you can also change the user\ninterface after the fact too.\n\n226\n00:11:13.570 --> 00:11:16.620\nIf you've already got a distro that's up\nand running and say it's running gnome and\n\n227\n00:11:16.620 --> 00:11:18.260\nyou want it to run KDE.\n\n228\n00:11:18.260 --> 00:11:19.500\nWell you can do that.\n\n229\n00:11:19.500 --> 00:11:23.370\nYou can always add it after the fact.\n\n230\n00:11:23.370 --> 00:11:25.910\nWe'll take this CentOS 6 machine, right?\n\n231\n00:11:25.910 --> 00:11:28.090\nSo I'm running Gnome on this one,\n\n232\n00:11:28.090 --> 00:11:31.408\nand maybe I want to change\nthat to run a different UI.\n\n233\n00:11:31.408 --> 00:11:32.914\nWell when you run these user interfaces,\n\n234\n00:11:32.914 --> 00:11:35.590\nthere's actually several different\npieces that are in the background.\n\n235\n00:11:35.590 --> 00:11:39.209\nAnd I don't wanna go to crazy on it\nbecause it's not that terribly important.\n\n236\n00:11:39.209 --> 00:11:41.669\nBut you have what's called\nthe window manager,\n\n237\n00:11:41.669 --> 00:11:43.411\nwhich is really what we see right.\n\n238\n00:11:43.411 --> 00:11:47.476\nSo we're seeing a window manager whose\nsole job is to put applications in windows\n\n239\n00:11:47.476 --> 00:11:49.463\nand allow us to move them around right.\n\n240\n00:11:49.463 --> 00:11:52.560\nIt sounds kind of trivial but\nit's pretty important.\n\n241\n00:11:52.560 --> 00:11:55.130\nThat's what we as humans interact with.\n\n242\n00:11:55.130 --> 00:11:59.220\nBut then behind that window manager\nthere's what's called a desktop\n\n243\n00:11:59.220 --> 00:12:00.450\ncompositor.\n\n244\n00:12:00.450 --> 00:12:04.610\nAnd the desktop compositor is what's\nactually generating the graphics to be\n\n245\n00:12:04.610 --> 00:12:06.280\nable to throw up on our screen.\n\n246\n00:12:06.280 --> 00:12:11.268\nAnd behind that desktop compositor,\nthere's the windowing server, and\n\n247\n00:12:11.268 --> 00:12:15.390\nthat server is what's actually\nmaking all this stuff work.\n\n248\n00:12:15.390 --> 00:12:18.400\nThat's the heart and\nsoul of what's going on.\n\n249\n00:12:18.400 --> 00:12:25.003\nNow that server, in almost every distro,\nin almost every GUI,\n\n250\n00:12:25.003 --> 00:12:29.543\nis a service called X,\nthe X window server.\n\n251\n00:12:29.543 --> 00:12:32.089\nThe first version of\nLinux that I installed,\n\n252\n00:12:32.089 --> 00:12:37.185\nwhich was Slackware Linux back in 1993,\nI think 1992, somewhere around there.\n\n253\n00:12:37.185 --> 00:12:38.832\nI installed Slackware Linux and\n\n254\n00:12:38.832 --> 00:12:43.730\nthe reason I installed it was a buddy of\nmine said Don, you gotta check out Linux.\n\n255\n00:12:43.730 --> 00:12:45.880\nAnd I said,\nwell I'm running OS2 I'm happy with that.\n\n256\n00:12:45.880 --> 00:12:47.090\nIt's a true story.\n\n257\n00:12:47.090 --> 00:12:51.050\nAnd they said, no, no you gotta try this.\n\n258\n00:12:51.050 --> 00:12:54.199\nIt's got the X Windows system on it and\nthe multitasking is so\n\n259\n00:12:54.199 --> 00:12:56.315\namazing it will make you wet your pants.\n\n260\n00:12:56.315 --> 00:12:58.590\n[LAUGH] As I said, that's a true quote,\nthis is how it went down.\n\n261\n00:12:58.590 --> 00:13:01.395\nAnd I said, well far be it for\nme to not wet my pants.\n\n262\n00:13:01.395 --> 00:13:01.950\n[LAUGH]\n>> It sounds\n\n263\n00:13:01.950 --> 00:13:03.945\nlike a day without sunshine, Don.\n\n264\n00:13:03.945 --> 00:13:06.287\n[LAUGH]\n>> So that was my first exposure to X\n\n265\n00:13:06.287 --> 00:13:07.340\nwindows.\n\n266\n00:13:07.340 --> 00:13:10.450\nI downloaded Slackware Linux, I threw\nit on there and got to mess with it.\n\n267\n00:13:10.450 --> 00:13:14.080\nAnd since then,\nthat was 20 years ago, right.\n\n268\n00:13:14.080 --> 00:13:18.980\nAnd since then, X windows has just\nbecome this really pivotal piece for\n\n269\n00:13:18.980 --> 00:13:21.840\ncreating GUIs and Open Source systems.\n\n270\n00:13:21.840 --> 00:13:25.974\nAnd so you've got desktops like the gnome\ndesktop that you can run Solaris if\n\n271\n00:13:25.974 --> 00:13:26.561\nyou want.\n\n272\n00:13:26.561 --> 00:13:30.514\nBecause on Solaris you've got the X\nserver and X server can be compiled and\n\n273\n00:13:30.514 --> 00:13:33.160\nrun on a BSD system like\nthat cuz it's Unix like.\n\n274\n00:13:33.160 --> 00:13:34.850\nSo this makes it really common.\n\n275\n00:13:34.850 --> 00:13:37.320\nLike KDE interface can run\non many different OSes,\n\n276\n00:13:37.320 --> 00:13:39.058\nand that's really powerful.\n\n277\n00:13:39.058 --> 00:13:41.930\nSo X windows.\n\n278\n00:13:41.930 --> 00:13:44.517\nX windows has kind of changed\nnames a little bit over the years.\n\n279\n00:13:44.517 --> 00:13:48.650\nWhen I first ran into it,\nit was just called x11r6, right.\n\n280\n00:13:48.650 --> 00:13:51.183\nSo there's x11 is the product,\nand then release six.\n\n281\n00:13:51.183 --> 00:13:55.698\nAnd it changed, they were calling\nit X Free 86 for a while,\n\n282\n00:13:55.698 --> 00:14:00.940\nnot X386, but X Free 86,\nfree as in open source, so X Free 86.\n\n283\n00:14:00.940 --> 00:14:04.727\nAnd then more recently,\nI say more recently, probably,\n\n284\n00:14:04.727 --> 00:14:08.841\n10 years ago now,\nthey started calling it X.Org all right.\n\n285\n00:14:08.841 --> 00:14:13.100\nX.Org because x.org, that's their\norganization, they're a non profit.\n\n286\n00:14:13.100 --> 00:14:15.280\nIt's one of those open source\nproducts that's out there.\n\n287\n00:14:15.280 --> 00:14:20.052\nAnd so\nmost distros are running the X.Org Server.\n\n288\n00:14:20.052 --> 00:14:23.250\nThe X.Org Server is installed\nby default if you have a GUI.\n\n289\n00:14:23.250 --> 00:14:24.560\nIf you do a GUI based install.\n\n290\n00:14:24.560 --> 00:14:27.110\nIf you do a command line based install,\nit doesn't install X.Org and so\n\n291\n00:14:27.110 --> 00:14:28.530\nyou might not have that right.\n\n292\n00:14:28.530 --> 00:14:29.970\nSo you can install that if you need to,\n\n293\n00:14:29.970 --> 00:14:34.420\nto convert a command line only\nsystem into a graphical system.\n\n294\n00:14:34.420 --> 00:14:36.080\nSo you need X.\n\n295\n00:14:36.080 --> 00:14:39.260\nAnd then you need your\nGUI to lay on top of it.\n\n296\n00:14:39.260 --> 00:14:42.760\nAnd X doesn't really care if you\nwanna to do KDE, MATE or Cinnamon, or\n\n297\n00:14:42.760 --> 00:14:43.560\nwhatever you pick.\n\n298\n00:14:43.560 --> 00:14:45.870\nYou throw the one on there\nthat you like and it'll run.\n\n299\n00:14:45.870 --> 00:14:50.060\nSo that means we can easily swap\nthem out after the fact, all right.\n\n300\n00:14:50.060 --> 00:14:53.730\nNow when you boot up you\nget a login screen, right.\n\n301\n00:14:53.730 --> 00:14:56.406\nLet me take my system here and\nI'm just gonna logout real quick.\n\n302\n00:14:56.406 --> 00:15:01.670\nSo when I logout of this machine,\nif I were to just press the power button,\n\n303\n00:15:01.670 --> 00:15:07.690\nthe system goes to boot up, and then it\nlaunches a desktop manager, all right.\n\n304\n00:15:07.690 --> 00:15:10.450\nAnd the desktop manager is what's saying\nall right, I'm gonna fire up X, so\n\n305\n00:15:10.450 --> 00:15:12.050\nwe get X up and running.\n\n306\n00:15:12.050 --> 00:15:14.390\nAnd then I need to create a login screen.\n\n307\n00:15:14.390 --> 00:15:15.490\nAnd then at the login screen,\n\n308\n00:15:15.490 --> 00:15:17.869\nI'm gonna allow people to pick\ntheir user account, all right.\n\n309\n00:15:17.869 --> 00:15:20.900\nSo the desktop manager is generating this.\n\n310\n00:15:20.900 --> 00:15:23.810\nAnd then each user can pick\na different user interface.\n\n311\n00:15:23.810 --> 00:15:30.493\nI might want me to default to KDE, and\nI might want Jane Doe to default to MATE.\n\n312\n00:15:30.493 --> 00:15:34.620\nAnd so each user can pick which\nwindow manager they want to use.\n\n313\n00:15:34.620 --> 00:15:37.920\nThey can pick that and\nhave it customized and go that route.\n\n314\n00:15:37.920 --> 00:15:40.730\nSo that's why we have all\nthese different components.\n\n315\n00:15:40.730 --> 00:15:44.730\nSo when we get things setup, the only\ncomponent we can really count on is X.\n\n316\n00:15:44.730 --> 00:15:46.450\nX is kinda that common one.\n\n317\n00:15:46.450 --> 00:15:49.710\nAnd there's even some replacements for\nit coming down the road, all right.\n\n318\n00:15:49.710 --> 00:15:53.869\nExpect to see in the next year or\ntwo technologies like Mirror and\n\n319\n00:15:53.869 --> 00:15:56.500\nWayland which are new display servers.\n\n320\n00:15:56.500 --> 00:15:59.250\nThat kinda take over what X did.\n\n321\n00:15:59.250 --> 00:16:01.780\nAnd, there's a big push for\nthat right now.\n\n322\n00:16:01.780 --> 00:16:04.260\nThe main reason is\nthe focus around security.\n\n323\n00:16:04.260 --> 00:16:09.135\nX Windows was created back in the times\nwhen security wasn't that big of a deal\n\n324\n00:16:09.135 --> 00:16:13.435\nand so it creates an unencrypted\ngraphical session between you and\n\n325\n00:16:13.435 --> 00:16:15.085\nthe computer you're on.\n\n326\n00:16:15.085 --> 00:16:16.655\nWell, what's the big deal there?\n\n327\n00:16:16.655 --> 00:16:18.375\nThere's not really that big of a deal.\n\n328\n00:16:18.375 --> 00:16:21.495\nBut X will allow you to run\nremote applications also.\n\n329\n00:16:21.495 --> 00:16:25.555\nI can have the graphical app running on\nthis system but actually displaying on\n\n330\n00:16:25.555 --> 00:16:28.550\nanother computer somewhere else and\nthat's all done unencrypted.\n\n331\n00:16:28.550 --> 00:16:29.990\nAnd that means somebody\ncould intercept that, and\n\n332\n00:16:29.990 --> 00:16:31.880\neffectively be watching what I'm doing.\n\n333\n00:16:31.880 --> 00:16:35.220\nAnd, X accepts keystroke, so they could\neffectively take control of the system via\n\n334\n00:16:35.220 --> 00:16:39.020\nthis unencrypted stream, and\nso X is a weakness there.\n\n335\n00:16:39.020 --> 00:16:41.410\nNow, we can couple it with SSH,\nactually we'll show that,\n\n336\n00:16:41.410 --> 00:16:44.300\nwe're gonna do a show on remote access for\nX.\n\n337\n00:16:44.300 --> 00:16:45.520\nSo, we'll get a chance to see that,\n\n338\n00:16:45.520 --> 00:16:49.760\nprobably our next episode, so\nyou can secure it with other protocols,\n\n339\n00:16:49.760 --> 00:16:51.850\nbut natively,\nit doesn't have anything built into it.\n\n340\n00:16:51.850 --> 00:16:55.090\nAnd so some of these other desktop\ncompositors that are coming out the things\n\n341\n00:16:55.090 --> 00:16:55.950\nlike Mere and\n\n342\n00:16:55.950 --> 00:17:00.920\nWaylon they look to fix that to create\na more trusted secure model that kind of\n\n343\n00:17:00.920 --> 00:17:04.700\novercomes the limitations of X but we're\nnot seeing X go anywhere anytime soon.\n\n344\n00:17:06.108 --> 00:17:10.590\nAll right so as an administrator what\ndo I need to know about all this?\n\n345\n00:17:10.590 --> 00:17:13.420\nNow we kind of have an idea of all\nthe little pieces of the little puzzle\n\n346\n00:17:13.420 --> 00:17:14.020\nthat fit together.\n\n347\n00:17:14.020 --> 00:17:15.320\nWhat do we need to know?\n\n348\n00:17:15.320 --> 00:17:18.972\nWell, we need to know how to do some\nbasic configuration changes on this,\n\n349\n00:17:18.972 --> 00:17:21.090\nto change the way that it behaves.\n\n350\n00:17:21.090 --> 00:17:23.630\nSo let's take a look at what\nall is involved in that.\n\n351\n00:17:23.630 --> 00:17:29.720\nFirst off, if you're on a non-CLI\nsystem and you're converting it.\n\n352\n00:17:29.720 --> 00:17:31.790\nI'm sorry, a non-GUI system, and\n\n353\n00:17:31.790 --> 00:17:35.250\nyou're converting it from CLI to GUI,\nwe're giving it a graphical interface,\n\n354\n00:17:35.250 --> 00:17:39.460\nwe have to make sure that our Your system\ngoes to boot up into graphical interface.\n\n355\n00:17:39.460 --> 00:17:44.640\nIf you're using a SysVinit,\nlike in Debian or\n\n356\n00:17:44.640 --> 00:17:49.540\nif you're using upstart,\nlike in Redhat previous diversion seven.\n\n357\n00:17:49.540 --> 00:17:52.810\nIn those scenarios that means\nwe need to modify our init,\n\n358\n00:17:52.810 --> 00:17:55.520\nto let it know to launch\nthe graphical interface right.\n\n359\n00:17:55.520 --> 00:17:58.770\nAnd you'll see my systems already got a\ngraphical interface, so it's already done.\n\n360\n00:17:58.770 --> 00:18:00.230\nBut I'll show you what to look for.\n\n361\n00:18:00.230 --> 00:18:01.790\nJust in case you have to worry about that.\n\n362\n00:18:02.900 --> 00:18:08.290\nSo if I jump into, whoops, I'm jumping\ninto the wrong operating system.\n\n363\n00:18:08.290 --> 00:18:09.960\nThat's not gonna get me very far.\n\n364\n00:18:09.960 --> 00:18:13.230\nSo if I jump into my terminal here,\nI'm just gonna taka a look at my inittab,\n\n365\n00:18:13.230 --> 00:18:17.420\nwhich is /etc/inittab and\n\n366\n00:18:17.420 --> 00:18:20.630\nwhat I'm looking for is this init line\nright here at the bottom all right?\n\n367\n00:18:20.630 --> 00:18:22.650\nMy init value is set to five.\n\n368\n00:18:22.650 --> 00:18:25.700\nSo when my system boots up, it's gonna\ngo to run level five by default and\n\n369\n00:18:25.700 --> 00:18:29.050\nrun level five, insta-launch X11 right?\n\n370\n00:18:29.050 --> 00:18:30.580\nIt's gonna launch that.\n\n371\n00:18:30.580 --> 00:18:34.540\nWell, if I'm running a system D system.\n\n372\n00:18:34.540 --> 00:18:38.430\nThat init file file gets ignored,\nright, so here is CentOS system and\n\n373\n00:18:38.430 --> 00:18:41.630\nit's a system B system,\nand if I go in here and\n\n374\n00:18:41.630 --> 00:18:45.900\ntake a look at its init tab,\nwell it's just kind of ignored.\n\n375\n00:18:45.900 --> 00:18:48.280\nI think it actually still has it,\nbut it is ignored.\n\n376\n00:18:48.280 --> 00:18:49.820\nLet's see if it even has it.\n\n377\n00:18:49.820 --> 00:18:52.730\nYeah it's got it, but see how it's empty?\n\n378\n00:18:52.730 --> 00:18:56.750\nIt's empty because it's not being called,\nwhen the system boots up,\n\n379\n00:18:56.750 --> 00:18:58.510\nsystem D doesn't use that.\n\n380\n00:18:58.510 --> 00:19:02.010\nSystem D instead has a default\nenvironment that it caused and\n\n381\n00:19:02.010 --> 00:19:05.950\nsee how it's telling me right here to run\nsystem-CTL get dash default, and if I run\n\n382\n00:19:05.950 --> 00:19:12.200\nthat system CTL get-default, it's gonna\nshow me what it does when it boots up.\n\n383\n00:19:12.200 --> 00:19:13.485\nSee what my target is set to?\n\n384\n00:19:13.485 --> 00:19:16.570\nGraphical.target.\n\n385\n00:19:16.570 --> 00:19:19.800\nSo when my system boots up,\nit knows to go graphical.\n\n386\n00:19:19.800 --> 00:19:24.040\nIf your default is not set to that,\nif it's set to one of the shell or\n\n387\n00:19:24.040 --> 00:19:28.260\ntext ones by default then\nwe need to change that.\n\n388\n00:19:28.260 --> 00:19:30.550\nIt'll usually say default.target\nis the other one.\n\n389\n00:19:30.550 --> 00:19:34.510\nThat's the one that goes command line\nonly, and then you can change that too,\n\n390\n00:19:34.510 --> 00:19:37.900\nby saying systemctl\nset-default graphical.target,\n\n391\n00:19:37.900 --> 00:19:40.929\nand that's what's going to switch it\nto boot into a graphical environment.\n\n392\n00:19:41.960 --> 00:19:45.140\nNow if we're gonna do that it's important\nto make sure we have a graphical\n\n393\n00:19:45.140 --> 00:19:46.770\nenvironment installed.\n\n394\n00:19:46.770 --> 00:19:49.650\nWell I've already got it here because\nthat's the distro that I chose,\n\n395\n00:19:49.650 --> 00:19:51.910\nbut if I didn't I could\ninstall it pretty quickly.\n\n396\n00:19:51.910 --> 00:19:54.895\nInstalling a graphical interface\nis not really that hard.\n\n397\n00:19:54.895 --> 00:19:56.810\nIt' just got a couple of\ndifferent components.\n\n398\n00:19:56.810 --> 00:19:59.658\nSo for example, if I wanted GNOME.\n\n399\n00:19:59.658 --> 00:20:03.785\nRight I want GNOME installed here,\nwell, gnome is the default for\n\n400\n00:20:03.785 --> 00:20:07.160\nCentOS, so there's not a whole\nheck of a lot I have to do.\n\n401\n00:20:08.330 --> 00:20:10.950\nI'm going to elevate my\nprivileges here real quick.\n\n402\n00:20:10.950 --> 00:20:13.510\nAnd then what we'll do\nis we'll just install\n\n403\n00:20:13.510 --> 00:20:17.100\na few packages that are going to\nget that user interface set up.\n\n404\n00:20:17.100 --> 00:20:20.651\nNow most distros will have package\ngroups that can do this, and\n\n405\n00:20:20.651 --> 00:20:25.207\nthat's important because the graphical\nuser interface is really made up of tons\n\n406\n00:20:25.207 --> 00:20:27.364\nof individual packages that we need.\n\n407\n00:20:27.364 --> 00:20:32.286\nSo on RedHat, for example,\nI might say yum install and\n\n408\n00:20:32.286 --> 00:20:35.176\nthen the individual packages or\n\n409\n00:20:35.176 --> 00:20:40.004\nyum group install to get\nan entire group of packages.\n\n410\n00:20:40.004 --> 00:20:44.896\nAnd so I can install the package called\nthe \"X Windows System\" that's gonna\n\n411\n00:20:44.896 --> 00:20:49.937\nget the X server setup at everything that\nit needs and then we can say \"Desktop\"\n\n412\n00:20:49.937 --> 00:20:55.080\nwhich is gonna add desktop applications,\nthings like Firefox, right.\n\n413\n00:20:55.080 --> 00:20:58.160\nWhere you probably need a web browser so\nit's gonna bring that in.\n\n414\n00:20:58.160 --> 00:21:02.740\nAnd then, I can do \"Fonts\" and\nthat fonts part is really important.\n\n415\n00:21:02.740 --> 00:21:05.050\nSince, we're doing graphical\nrepresentations of data,\n\n416\n00:21:05.050 --> 00:21:08.850\nit's gotta have a way to represent text,\nand it needs fonts to load that.\n\n417\n00:21:08.850 --> 00:21:11.630\nThe default fonts your system comes\nwith are really just designed for\n\n418\n00:21:11.630 --> 00:21:12.740\nthe command line interface.\n\n419\n00:21:12.740 --> 00:21:14.440\nAnd so they don't scale very well.\n\n420\n00:21:14.440 --> 00:21:16.390\nX Windows has it's own set of fonts.\n\n421\n00:21:16.390 --> 00:21:19.070\nAnd in fact,\nin the background when you setup X,\n\n422\n00:21:19.070 --> 00:21:22.390\nX is actually building what\nis called a font server.\n\n423\n00:21:22.390 --> 00:21:25.520\nAnd it's a server that basically it says,\nhere's all the fonts I have available.\n\n424\n00:21:25.520 --> 00:21:29.150\nAnd when X Windows fires up it says let me\ncheck the server for what fonts I have.\n\n425\n00:21:29.150 --> 00:21:31.984\nAnd it's all done right there internally.\n\n426\n00:21:31.984 --> 00:21:36.521\nIf you're a print shop and you have a\nconsistent set of fonts you want everybody\n\n427\n00:21:36.521 --> 00:21:40.232\nto use, you can actually set up\na centralized server running X,\n\n428\n00:21:40.232 --> 00:21:42.774\nput all the fonts that you want on there,\nand\n\n429\n00:21:42.774 --> 00:21:46.313\nin the configuration files of\nall your other workstations.\n\n430\n00:21:46.313 --> 00:21:48.414\nYou can tell them to use\nthat network server,\n\n431\n00:21:48.414 --> 00:21:50.250\ninstead of using their local machine.\n\n432\n00:21:50.250 --> 00:21:53.060\nAnd that way they all get\nthe same common set of fonts.\n\n433\n00:21:53.060 --> 00:21:55.680\nNow I've never worked anywhere\nthat needed to do that.\n\n434\n00:21:55.680 --> 00:21:57.690\nBut I've never worked at a print shop,\nright.\n\n435\n00:21:57.690 --> 00:22:00.820\nAnd so if you work for a newspaper\ncompany, somebody who prints books or\n\n436\n00:22:00.820 --> 00:22:02.830\nwhatever, fonts are very important to you.\n\n437\n00:22:02.830 --> 00:22:04.770\nAnd that's a neat feature to have.\n\n438\n00:22:04.770 --> 00:22:07.930\nX Windows is pulling all that\ninformation from a font server anyway.\n\n439\n00:22:07.930 --> 00:22:09.550\nIt's just the local font server.\n\n440\n00:22:09.550 --> 00:22:11.860\nSo pointing it at a network font\nserver is not really that different.\n\n441\n00:22:11.860 --> 00:22:13.749\nAnd we'll see it in the configuration\nfiles here in a minute.\n\n442\n00:22:15.680 --> 00:22:17.930\nAll right, so those are the basic\nthings I need to install,\n\n443\n00:22:17.930 --> 00:22:22.310\nnow notice I'm not telling it KDE or\ngnome or anything like that.\n\n444\n00:22:22.310 --> 00:22:28.236\nIf I leave it like this, it's gonna\ninstall the default user interface and\n\n445\n00:22:28.236 --> 00:22:32.000\non CentOS that's gnomes, so it's going\nto be putting in GNOME on its own.\n\n446\n00:22:32.000 --> 00:22:34.750\nAnd what it's doing right now is\nit's taking these group names and\n\n447\n00:22:34.750 --> 00:22:37.430\nresolving them to the individual\npackages involved.\n\n448\n00:22:37.430 --> 00:22:39.900\nAnd look at all those packages.\n\n449\n00:22:39.900 --> 00:22:43.260\nThere's 34 packages in total,\nsome I've already got, right?\n\n450\n00:22:43.260 --> 00:22:47.590\nSo it's listing as many of them just being\nupgrades and actually only adding two.\n\n451\n00:22:47.590 --> 00:22:50.310\nBut if you look at the packages\nit's gonna add, right?\n\n452\n00:22:50.310 --> 00:22:54.070\nWe've got some Google fonts that it's\ngonna be adding, cuz Google has a number\n\n453\n00:22:54.070 --> 00:22:57.460\nof open source fonts that are out\nthere the network manager, right?\n\n454\n00:22:57.460 --> 00:23:01.050\nThat's a software application unless\nwe control my network adapters.\n\n455\n00:23:01.050 --> 00:23:03.790\nWe've got other things like GDM.\n\n456\n00:23:03.790 --> 00:23:05.727\nGDM is the GNOME Desktop Manager.\n\n457\n00:23:05.727 --> 00:23:07.796\nWhen you boot up and\nget that login screen,\n\n458\n00:23:07.796 --> 00:23:10.281\nit's the GDM that representing that,\nall right?\n\n459\n00:23:10.281 --> 00:23:13.260\nKDE has the KDM that comes along with it.\n\n460\n00:23:13.260 --> 00:23:18.120\nNow I can run kde even if I booted on GDM.\n\n461\n00:23:18.120 --> 00:23:20.970\nAnd I can run GNOME even\nif I booted on KDM.\n\n462\n00:23:20.970 --> 00:23:24.600\nSo their purpose is really just to give us\nthe login screen, not necessarily generate\n\n463\n00:23:24.600 --> 00:23:27.640\nour full user interface, and\nthat's important because sometimes,\n\n464\n00:23:27.640 --> 00:23:30.830\nyou'll see big differences,\nlike here, let me show you.\n\n465\n00:23:30.830 --> 00:23:32.070\nThis is one of my favorites.\n\n466\n00:23:32.070 --> 00:23:33.210\nCentOS.\n\n467\n00:23:33.210 --> 00:23:35.470\nThis is a CentOS install and\nsee how pretty it looks?\n\n468\n00:23:35.470 --> 00:23:39.970\nIt's got a nice little, kind of textured\nbackground and the menus looks nice.\n\n469\n00:23:39.970 --> 00:23:44.300\nEverything's laid out and\nit looks nice and modern and sleek.\n\n470\n00:23:44.300 --> 00:23:45.750\nBut then I log out.\n\n471\n00:23:45.750 --> 00:23:50.710\nYou log out and I've got my nice little\nwindow here with no real border.\n\n472\n00:23:50.710 --> 00:23:51.760\nThis is very flat.\n\n473\n00:23:51.760 --> 00:23:54.250\nThis is a modern design\naesthetic that's out there.\n\n474\n00:23:54.250 --> 00:24:00.108\nAnd if I log out I get this screen that\nit's got that textured gray background and\n\n475\n00:24:00.108 --> 00:24:03.060\nit has older style rounded windows.\n\n476\n00:24:03.060 --> 00:24:05.020\nThis is like vintage 1997 right here.\n\n477\n00:24:05.020 --> 00:24:07.120\nThis is like a warp in time.\n\n478\n00:24:07.120 --> 00:24:10.695\nAnd it's even got the older Centos logo,\nthey didn't update that.\n\n479\n00:24:10.695 --> 00:24:14.165\nSo what I'm looking at here is the GDM,\nright.\n\n480\n00:24:14.165 --> 00:24:16.785\nIt's not as flashy and\nfancy as our full Window manager.\n\n481\n00:24:16.785 --> 00:24:18.465\nI'm not actually running Gnome right now.\n\n482\n00:24:18.465 --> 00:24:20.505\nI'm missing a lot of my accelerations.\n\n483\n00:24:20.505 --> 00:24:22.755\nAnd that's because it is a separate piece.\n\n484\n00:24:22.755 --> 00:24:26.275\nAnd from here I can launch KDE or\nI could launch Gnome or\n\n485\n00:24:26.275 --> 00:24:30.595\nwhatever depending on what\nmy user accounts default is.\n\n486\n00:24:30.595 --> 00:24:33.750\nSome of the other packages that are a\nlittle more important to us though if we\n\n487\n00:24:33.750 --> 00:24:35.850\nkind of scroll down in this list.\n\n488\n00:24:35.850 --> 00:24:37.620\nIf I can actually get it to scroll down,\n\n489\n00:24:37.620 --> 00:24:41.190\nthere we go, you'll find where\nit's actually installing Gnome.\n\n490\n00:24:41.190 --> 00:24:44.644\nWe got like Gnome terminal,\nthe Gnome package kit, the Gnome session,\n\n491\n00:24:44.644 --> 00:24:48.281\nso that's the Gnome software that it's\ngoing to be installing by default.\n\n492\n00:24:48.281 --> 00:24:52.271\nAnd as I keep scrolling down you'll\nfind GDM libraries, open SSH,\n\n493\n00:24:52.271 --> 00:24:54.900\npulse audio and other things.\n\n494\n00:24:54.900 --> 00:24:59.920\nSo it's getting all of that kind of put in\nplace to get my system ready to run gnome.\n\n495\n00:24:59.920 --> 00:25:02.560\nNow, I've already got gnome, so\nI'm not going to install that.\n\n496\n00:25:02.560 --> 00:25:03.490\nBut it's got it.\n\n497\n00:25:03.490 --> 00:25:07.810\nNow if I wanted to install KDE, it's\nreally basically the same type of thing.\n\n498\n00:25:07.810 --> 00:25:10.979\nIn fact, I'm just going to hit my\nup arrow to bring this back up,\n\n499\n00:25:10.979 --> 00:25:13.870\nbecause you need the x window system,\nand you need fonts.\n\n500\n00:25:13.870 --> 00:25:18.100\nBut this desktop package that\nincludes Gnome, that's the default.\n\n501\n00:25:18.100 --> 00:25:24.220\nSo, I'm gonna delete that and I'm gonna\nadd to it KDE desktop, all right.\n\n502\n00:25:24.220 --> 00:25:28.490\nThat's gonna add the KDE desktop package\nwhich, again, has desktop applications,\n\n503\n00:25:28.490 --> 00:25:32.440\nbut has the KDE Window Manager\nin there instead.\n\n504\n00:25:32.440 --> 00:25:34.280\nAnd so now it builds up some packages.\n\n505\n00:25:34.280 --> 00:25:37.380\nI've got, it looks like,\n127 packages this time around\n\n506\n00:25:37.380 --> 00:25:41.290\ncuz it's gotta install a lot of\nextra stuff to get KDE going.\n\n507\n00:25:41.290 --> 00:25:45.330\nKDE is built on top of the QT\ngraphics toolkit and so\n\n508\n00:25:45.330 --> 00:25:46.380\nit's gotta load that in there.\n\n509\n00:25:46.380 --> 00:25:50.210\nWe've got some libraries and\nthen all the KDE software, KDE games,\n\n510\n00:25:50.210 --> 00:25:54.980\nyou gotta have those,gGraphics,\nlibraries, network utilities, and so on.\n\n511\n00:25:54.980 --> 00:25:58.320\nAll the various things that we need for\nKDE, all right?\n\n512\n00:25:58.320 --> 00:26:00.330\nAnd, I'm gonna go ahead and\ninstall it, why not?\n\n513\n00:26:00.330 --> 00:26:01.340\nWe'll let that one run.\n\n514\n00:26:01.340 --> 00:26:04.220\nSo then that's gonna run for a minute\nwhile it installs KDE in my system.\n\n515\n00:26:04.220 --> 00:26:07.650\nI can do the same thing for Cinnamon,\nfor Matte, for any other one.\n\n516\n00:26:07.650 --> 00:26:11.020\nJust for your distro, you got to go and\nfind out what the packages are called and\n\n517\n00:26:11.020 --> 00:26:13.160\nthen you can install them and\nget it up and going.\n\n518\n00:26:14.220 --> 00:26:17.140\nNow when your system boots up,\nit needs to know to\n\n519\n00:26:17.140 --> 00:26:20.410\nthrow you into one of those desktop\nmanagers for the log in screen.\n\n520\n00:26:20.410 --> 00:26:21.590\nHow does it know?\n\n521\n00:26:21.590 --> 00:26:24.510\nWell, we actually have a little\nfile that manages that.\n\n522\n00:26:24.510 --> 00:26:28.730\nSo if we take a look at /etc/sysconfig\n\n523\n00:26:28.730 --> 00:26:34.160\nInside a slash ETC slash sys config,\nthere's a file and it's called desktop.\n\n524\n00:26:34.160 --> 00:26:37.490\nAll right, so I'm just gonna poke around\nhere and see if I can't find that.\n\n525\n00:26:37.490 --> 00:26:39.090\nAnd actually I'm missing that file,\naren't I?\n\n526\n00:26:39.090 --> 00:26:43.470\nIt's, I should have a file\ncalled desktop and I don't.\n\n527\n00:26:43.470 --> 00:26:44.400\nInteresting.\n\n528\n00:26:44.400 --> 00:26:47.130\nSo if you don't have the file you\ncan always create it yourself.\n\n529\n00:26:47.130 --> 00:26:49.550\nBut it's looking for\nthis desktop file to be able to say,\n\n530\n00:26:49.550 --> 00:26:52.150\n\"What environment do I need to fire up?\n\n531\n00:26:52.150 --> 00:26:57.150\nDo I need to grab to boot into?\" And\nso maybe it's GNOME, maybe it's KDE.\n\n532\n00:26:57.150 --> 00:27:00.940\nAt this stage it would really be GDM or\nKDM,\n\n533\n00:27:00.940 --> 00:27:03.190\nthat desktop manager that lets us log in.\n\n534\n00:27:03.190 --> 00:27:05.590\nOr telling it which one to fire up.\n\n535\n00:27:05.590 --> 00:27:09.390\nIn my case I don't have that desktop\nfile and I could create one, but if it's\n\n536\n00:27:09.390 --> 00:27:13.610\nmissing that's normally a great indicator\nthat they've set it somewhere else.\n\n537\n00:27:13.610 --> 00:27:17.898\nAnd on an upstart system you\ncan do that in init scripts,\n\n538\n00:27:17.898 --> 00:27:23.571\nin a system D system you can do it as\nthe objects that you define of system D.\n\n539\n00:27:23.571 --> 00:27:28.053\nSo you define it as a target or a service\nor whatever and so it starts that way.\n\n540\n00:27:28.053 --> 00:27:30.851\nSo there's a few different\nplaces that it can be and\n\n541\n00:27:30.851 --> 00:27:35.040\nyou know I don't really remember for\nCentOS 6 where it buries that.\n\n542\n00:27:35.040 --> 00:27:39.290\nLet me check CentOS 7 see\nwhat it's got for me and\n\n543\n00:27:39.290 --> 00:27:42.010\nwe'll take a look at it there,\nbut it has to know somewhere.\n\n544\n00:27:42.010 --> 00:27:44.590\nLike, hey, How do we know to go ahead and\nlaunch GDM?\n\n545\n00:27:44.590 --> 00:27:46.580\nHow do we know to go ahead and launch KDM?\n\n546\n00:27:46.580 --> 00:27:48.130\nAnd then where we go from there.\n\n547\n00:27:48.130 --> 00:27:51.580\nAnd then once that fires up,\nit's then looking at our user settings,\n\n548\n00:27:51.580 --> 00:27:55.730\nthe settings in our own user profile\nto be able to actually go in there and\n\n549\n00:27:55.730 --> 00:28:00.730\nfire up that person's connection, and\nknow that hey, Don prefers KDE versus\n\n550\n00:28:00.730 --> 00:28:05.670\nJane Doe who prefers GNOME or\nwhatever it is that they're running.\n\n551\n00:28:05.670 --> 00:28:08.790\nIf it's not defined in that desktop file,\nit just doesn't exist.\n\n552\n00:28:08.790 --> 00:28:10.260\nThey're putting it somewhere else.\n\n553\n00:28:10.260 --> 00:28:12.410\nLet's jump over and\nlook at X's configuration.\n\n554\n00:28:12.410 --> 00:28:20.530\nSo if I jump into /etc/X11,\nthat's where X's configuration is stored.\n\n555\n00:28:20.530 --> 00:28:24.477\nAnd X11 remember,\nthat's the old name X386, x.org,\n\n556\n00:28:24.477 --> 00:28:27.550\nthese are all different names for\nreally the same thing.\n\n557\n00:28:27.550 --> 00:28:30.810\nAnd if I take a look in there,\nwow, see how the folder's x11, but\n\n558\n00:28:30.810 --> 00:28:34.120\nthen the config file x.org or xorg.com.\n\n559\n00:28:34.120 --> 00:28:36.030\nSo you'll see that\ndifferent kind of naming.\n\n560\n00:28:36.030 --> 00:28:39.670\nBut as I look in here you'll\nsee the xinit folder.\n\n561\n00:28:39.670 --> 00:28:44.650\nAnd if I get into xinit,\nwe've got xclients, okay.\n\n562\n00:28:44.650 --> 00:28:49.570\nXclients, that's where it's defining\nthe initial desktop client that launches.\n\n563\n00:28:49.570 --> 00:28:51.740\nThe one that gives us our login screen.\n\n564\n00:28:51.740 --> 00:28:53.620\nIf we just take a look at that file,\n\n565\n00:28:53.620 --> 00:28:56.700\nwe don't really need to be\nwizards on how this file works.\n\n566\n00:28:56.700 --> 00:28:58.540\nIt's just really a script.\n\n567\n00:28:59.820 --> 00:29:04.760\nOn my system I have Gnome by default but\nI just installed KDE or,\n\n568\n00:29:04.760 --> 00:29:07.130\nor I'm in the process of installing\nKDE here in the background.\n\n569\n00:29:07.130 --> 00:29:08.260\nOh it is done.\nAll right.\n\n570\n00:29:08.260 --> 00:29:09.610\nSo I'm installing KDE.\n\n571\n00:29:09.610 --> 00:29:12.570\nSo this is now setup for\nboth Gnome and KDE.\n\n572\n00:29:12.570 --> 00:29:13.450\nSo look at the script here.\n\n573\n00:29:13.450 --> 00:29:16.370\nIt says check to see if the user\nhas a preferred desktop.\n\n574\n00:29:17.480 --> 00:29:21.560\nSo if I'm the user and I'm logging in,\ndo I prefer Gnome or do I prefer KDE?\n\n575\n00:29:21.560 --> 00:29:22.790\nAnd see how it gets it?\n\n576\n00:29:22.790 --> 00:29:23.930\nFrom a variable.\n\n577\n00:29:23.930 --> 00:29:30.190\nA user can set it in their session if they\nset the desktop variable to equal Gnome,\n\n578\n00:29:30.190 --> 00:29:31.370\nthen they'll launch into Gnome.\n\n579\n00:29:31.370 --> 00:29:32.940\nIf they set it to KDE\nthey'll launch into KDE.\n\n580\n00:29:32.940 --> 00:29:35.880\nSo users can pick the interface they\nprefer as long as that interface\n\n581\n00:29:35.880 --> 00:29:37.085\nis installed.\n\n582\n00:29:37.085 --> 00:29:39.227\nAll right, so\nthat's where it's checking it and\n\n583\n00:29:39.227 --> 00:29:41.019\nnotice right here at the very beginning.\n\n584\n00:29:41.019 --> 00:29:45.135\nIf it's checking to see if a file\nexists that it's looking for\n\n585\n00:29:45.135 --> 00:29:47.305\n/etc/sysconfig/desktop.\n\n586\n00:29:47.305 --> 00:29:50.070\nSo if we want to force\neverybody to use gnome.\n\n587\n00:29:50.070 --> 00:29:53.580\nWe can create that file, we define it\nright here with this same little entry,\n\n588\n00:29:53.580 --> 00:29:56.520\nand now they're gonna use gnome,\nall right.\n\n589\n00:29:56.520 --> 00:30:01.070\nAnd that just sets up preferred G session\nor does this start KDE to fire that up,\n\n590\n00:30:01.070 --> 00:30:02.240\nall right?\n\n591\n00:30:02.240 --> 00:30:06.510\nIf we don't define this file, if it's\nempty like what ours is, or ours doesn't\n\n592\n00:30:06.510 --> 00:30:09.240\neven exist right now, then it's just going\nto roll in what's on the user, all right,\n\n593\n00:30:09.240 --> 00:30:11.940\nso the user is basically\npicking their own interface.\n\n594\n00:30:11.940 --> 00:30:13.380\nAnd if you look at the rest of the file,\n\n595\n00:30:13.380 --> 00:30:15.420\nit's telling basically\nhow to start things up.\n\n596\n00:30:15.420 --> 00:30:18.560\nHow to get X up and running for that user.\n\n597\n00:30:18.560 --> 00:30:20.950\nAnd it's referencing\na few other files here.\n\n598\n00:30:20.950 --> 00:30:25.250\nHere's the XCLIENTS.D, That's a directory\nthat can have additional config files.\n\n599\n00:30:25.250 --> 00:30:26.970\nNow it's empty by default too.\n\n600\n00:30:26.970 --> 00:30:30.450\nBut you can put other things in it,\ncustomize the way that X functions.\n\n601\n00:30:30.450 --> 00:30:33.020\nAnd so it's just going to fire up and\nstart to launch.\n\n602\n00:30:33.020 --> 00:30:35.570\nThey've got some default\napplications to run.\n\n603\n00:30:35.570 --> 00:30:38.650\nSo if we want a default program to run\nwhen you first launch you can specify.\n\n604\n00:30:38.650 --> 00:30:40.460\nLike here the launch xclock.\n\n605\n00:30:40.460 --> 00:30:42.180\nThere giving a size and dimensions and\n\n606\n00:30:42.180 --> 00:30:46.400\na particular place on the screen where\nwe want that application to run.\n\n607\n00:30:46.400 --> 00:30:47.850\nSo just kind of defining that.\n\n608\n00:30:47.850 --> 00:30:53.640\nYou see X term, Firefox, these are all\ndefaults, apps that it wants to run.\n\n609\n00:30:53.640 --> 00:30:55.450\nSo, getting that stuff set up, for\n\n610\n00:30:55.450 --> 00:30:58.590\nthe most part when you load your packages,\nthat's going to set it up for you.\n\n611\n00:30:58.590 --> 00:31:00.920\nSo, you don't really have to\nmess around with it much,\n\n612\n00:31:00.920 --> 00:31:02.670\nit just does it and it's there.\n\n613\n00:31:02.670 --> 00:31:05.250\nBut, the end users do have\nthat ability to choose\n\n614\n00:31:05.250 --> 00:31:06.459\nwhich interface they're going to get.\n\n615\n00:31:08.020 --> 00:31:10.530\nAll right.\n>> Hey Don, it looks like you had a really\n\n616\n00:31:10.530 --> 00:31:14.790\ngood time looking at the differences\nbetween all the different window managers\n\n617\n00:31:14.790 --> 00:31:15.340\nthat are out there.\n\n618\n00:31:15.340 --> 00:31:19.370\nWe've got plenty to choose from probably\ngonna be working with either KDE or\n\n619\n00:31:19.370 --> 00:31:22.010\nGnome as the default on any\ndisk drive that you might.\n\n620\n00:31:22.010 --> 00:31:26.750\nUnless you specifically designed for it\nexcept for the two big dogs on the block.\n\n621\n00:31:26.750 --> 00:31:29.160\nBut we're gonna have push\nthis into a part two.\n\n622\n00:31:29.160 --> 00:31:29.840\n>> We certainly are.\n\n623\n00:31:29.840 --> 00:31:30.720\n>> It's super good.\n\n624\n00:31:30.720 --> 00:31:34.090\n>> Honestly, Daniel, I felt like we\nwere only half way through the episode.\n\n625\n00:31:34.090 --> 00:31:36.930\nWell, we are half way through,\nI just thought we had a lot more time.\n\n626\n00:31:36.930 --> 00:31:41.630\nThere is more we need to talk about\non Window interface is definitely,\n\n627\n00:31:41.630 --> 00:31:44.040\nwe really haven't changed our\nconfigurations at all or anything.\n\n628\n00:31:44.040 --> 00:31:45.180\nI definitely want to get into that.\n\n629\n00:31:45.180 --> 00:31:47.510\nSo yeah, it looks like we got\na part two in our future.\n\n630\n00:31:47.510 --> 00:31:50.410\n>> Well it's good stuff and you guys are\ndefinitely going to want to see that part\n\n631\n00:31:50.410 --> 00:31:53.840\ntwo, it's gonna help you out when\ngetting into the configuration.\n\n632\n00:31:53.840 --> 00:31:56.420\nThat's the meat and\npotatoes of this guy right here.\n\n633\n00:31:56.420 --> 00:31:58.070\nSo stick with us on that one.\n\n634\n00:31:58.070 --> 00:32:01.350\nCheck that out but as for\nthis episode, we've come to and end.\n\n635\n00:32:01.350 --> 00:32:03.220\nWe're going to go ahead and\nsign off for IT Pro TV.\n\n636\n00:32:03.220 --> 00:32:05.380\nI've been your host, Daniel Lowry.\n\n637\n00:32:05.380 --> 00:32:06.210\n>> And I'm Don Pizet.\n\n638\n00:32:06.210 --> 00:32:08.430\n>> And we'll see you next time.\n\n",
          "vimeoId": "133030649"
        },
        {
          "description": null,
          "length": "1659",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-1-configuring_x_windows_pt2-070815-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-1-configuring_x_windows_pt2-070815-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-1-configuring_x_windows_pt2-070815-1-sm.jpg",
          "title": "Configuring X Windows Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.242 --> 00:00:10.246\n[MUSIC]\n\n2\n00:00:10.246 --> 00:00:15.287\nAll right, greetings everyone and welcome\nto another great episode of ITProTV I'm\n\n3\n00:00:15.287 --> 00:00:20.058\nyour host Daniel Lowry and here with me\ntoday is my friend who loves the X system.\n\n4\n00:00:20.058 --> 00:00:21.300\nHis name is Don Pezet..\n\n5\n00:00:21.300 --> 00:00:22.101\nHow's it going to day Don.\n\n6\n00:00:22.101 --> 00:00:23.285\n>> I am doing great Daniel.\n\n7\n00:00:23.285 --> 00:00:25.320\nExcited about another\nepisode of Linux Plus.\n\n8\n00:00:25.320 --> 00:00:30.550\nIf you're not aware this is part\ntwo of our previous episode\n\n9\n00:00:30.550 --> 00:00:34.820\nwhere at the very beginning episode I said\nhow you know I'm not a big fan of GUI's,\n\n10\n00:00:34.820 --> 00:00:39.200\nespecially not on servers, and on Linux I\nlike to keep it as simple as possible and\n\n11\n00:00:39.200 --> 00:00:42.770\nyet, somehow I managed to talk way to\nmuch about it in that first episode.\n\n12\n00:00:42.770 --> 00:00:44.180\n>> [LAUGH]\n>> So here we are with part two kind of\n\n13\n00:00:44.180 --> 00:00:45.290\ncontinuing on.\n\n14\n00:00:45.290 --> 00:00:48.400\nIf you haven't seen the other episode\ndefinitely check it out cuz we talk about\n\n15\n00:00:48.400 --> 00:00:53.540\nall the components that go together to\nform the user interface inside of Linux.\n\n16\n00:00:53.540 --> 00:00:55.330\nBut we never actually\nconfigured a darn thing.\n\n17\n00:00:55.330 --> 00:00:58.320\nSo, in this episode we're going to\ntake a look at actually getting\n\n18\n00:00:58.320 --> 00:00:59.910\nthings configured.\n\n19\n00:00:59.910 --> 00:01:00.580\nAlright?\n\n20\n00:01:00.580 --> 00:01:02.850\nLet's start with the real basics.\n\n21\n00:01:02.850 --> 00:01:08.190\nNow I remember the first time I installed\nXWindows, and it was really challenging.\n\n22\n00:01:08.190 --> 00:01:09.870\nI mean, it took me days.\n\n23\n00:01:09.870 --> 00:01:13.410\nNow granted, I wasn't terribly\nskilled 20 years ago, and so\n\n24\n00:01:13.410 --> 00:01:15.930\nit was partly my own fault.\n\n25\n00:01:15.930 --> 00:01:20.490\nBut, back then, you had to make sure that\nx understood what video card you had,\n\n26\n00:01:20.490 --> 00:01:22.785\nhow much memory your video card had, what.\n\n27\n00:01:22.785 --> 00:01:24.205\nWhat kind of monitor you had.\n\n28\n00:01:24.205 --> 00:01:28.795\nWhat vertical refresh rate and horizontal\nrefresh rates your monitor supported.\n\n29\n00:01:28.795 --> 00:01:31.305\nAnd if you got those numbers wrong,\nit can burn your monitor out.\n\n30\n00:01:31.305 --> 00:01:32.705\nYou can actually damage your hardware.\n\n31\n00:01:32.705 --> 00:01:34.155\nThere was a lot of risk involved.\n\n32\n00:01:34.155 --> 00:01:35.882\nIt was really, really challenging.\n\n33\n00:01:35.882 --> 00:01:40.122\nWell, over time, X has evolved a lot.\n\n34\n00:01:40.122 --> 00:01:44.412\nAnd so today when you install Debian,\nUbuntu, CentOS,\n\n35\n00:01:44.412 --> 00:01:49.962\nany of those other distros out there, when\nyou install them, usually X just works.\n\n36\n00:01:49.962 --> 00:01:51.502\nRight?\nIt's been years since I had\n\n37\n00:01:51.502 --> 00:01:55.452\na machine where I did an install and\nit didn't just work right out of the box.\n\n38\n00:01:55.452 --> 00:01:57.070\nBut it does happen.\n\n39\n00:01:57.070 --> 00:02:00.470\nIt does happen where sometimes\nx Windows does not start up and\n\n40\n00:02:00.470 --> 00:02:02.710\nthat's where you have\nto get involved in it.\n\n41\n00:02:02.710 --> 00:02:06.600\nSo let's say that you're on one of those\nsystems, and you go to boot up, and\n\n42\n00:02:06.600 --> 00:02:09.710\nall of a sudden your screen goes\ncrazy static-y, squiggly, messy, and\n\n43\n00:02:09.710 --> 00:02:11.260\ndrops you back to a command line.\n\n44\n00:02:11.260 --> 00:02:15.960\nAnd you get a big X fail message that\ntells you that it had some issue,\n\n45\n00:02:15.960 --> 00:02:19.670\nusually something like resolution out\nof rage, or something like that, and\n\n46\n00:02:19.670 --> 00:02:21.750\nit drops you right back\nto the command line.\n\n47\n00:02:21.750 --> 00:02:23.060\nWell if that happens to you,\n\n48\n00:02:23.060 --> 00:02:26.360\nits stinks, right,\nbecause it's not the easiest thing to fix,\n\n49\n00:02:26.360 --> 00:02:30.250\nbut we've got a couple of things we can do\nto get in there and try to sort that out.\n\n50\n00:02:30.250 --> 00:02:32.830\nIt all starts with\nthe configuration files for Xorg.\n\n51\n00:02:32.830 --> 00:02:35.160\nSo, lets go and jump into that.\n\n52\n00:02:35.160 --> 00:02:38.000\nNow, with X,\nit's got a default configuration.\n\n53\n00:02:38.000 --> 00:02:40.170\nAnd the default configuration works for\nmost of us.\n\n54\n00:02:40.170 --> 00:02:40.670\nIt works fine.\n\n55\n00:02:41.740 --> 00:02:44.440\nBut, you can go in and change that.\n\n56\n00:02:44.440 --> 00:02:50.920\nIf you run Xorg- configure,\nthat runs it's little configuration.\n\n57\n00:02:50.920 --> 00:02:54.340\nAnd what it's gonna do is it's\ngonna scan your system and\n\n58\n00:02:54.340 --> 00:02:58.180\ntry to guess the best combination for\nwhat you've got.\n\n59\n00:02:58.180 --> 00:03:01.030\nI'm actually in X right now so\nit's not too happy about that,\n\n60\n00:03:01.030 --> 00:03:02.840\nso let me drop out of X.\n\n61\n00:03:02.840 --> 00:03:08.230\nIf you ever need to drop out of X, in some\nsystems you can do Ctrl + Alt + Backspace,\n\n62\n00:03:08.230 --> 00:03:10.250\nand on other systems you\ncan do Ctrl + Alt + X, but\n\n63\n00:03:10.250 --> 00:03:12.150\nusually it's Ctrl + Alt + Backspace.\n\n64\n00:03:12.150 --> 00:03:13.940\nIt will drop you to your CLI.\n\n65\n00:03:13.940 --> 00:03:18.270\nBut on a lot of newer systems,\n\"Control Alt Backspace\" will crash X and\n\n66\n00:03:18.270 --> 00:03:19.930\nit will just re-launch it again.\n\n67\n00:03:19.930 --> 00:03:22.970\nSo, if you really want to get out, you can\ndo something like \"init 3\" if you're on\n\n68\n00:03:22.970 --> 00:03:27.850\na CISV system or an Upstart system,\nyou can do \"init 3\" and\n\n69\n00:03:27.850 --> 00:03:29.940\nthat's going to drop you down\nto your command line also.\n\n70\n00:03:29.940 --> 00:03:30.880\nSo, there we go.\n\n71\n00:03:30.880 --> 00:03:32.760\nSo I just dropped out of that.\n\n72\n00:03:32.760 --> 00:03:35.170\nAnd I'll get logged back in.\n\n73\n00:03:35.170 --> 00:03:40.560\nI am gonna elevate my privileges here\nreal quick so I have root permissions.\n\n74\n00:03:40.560 --> 00:03:44.630\nAnd then I'm just gonna rerun and\nI'm gonna run Xorg-configure.\n\n75\n00:03:44.630 --> 00:03:48.470\nSo it's gonna scan my hardware and\nyou probably just saw it flip by there.\n\n76\n00:03:48.470 --> 00:03:51.340\nIt just listed a bunch\nof video card drivers.\n\n77\n00:03:51.340 --> 00:03:56.330\nAll right, from really super generic\nones like VGA and VESA All the way up\n\n78\n00:03:56.330 --> 00:04:01.230\nto more advanced ones like Nvidia,\nintel IRIS cards, things like that.\n\n79\n00:04:01.230 --> 00:04:04.895\nIt's trying to identify what video card I\nhave, and then based on the information,\n\n80\n00:04:04.895 --> 00:04:10.170\nit's' gonna build up a sample\nconfiguration file for\n\n81\n00:04:10.170 --> 00:04:12.680\nme to be able to use.\n\n82\n00:04:12.680 --> 00:04:15.600\nSo it looked at my existing\nconfiguration file, so\n\n83\n00:04:15.600 --> 00:04:20.140\nit's looking at that xorg.conf and\nlooking at the system directory.\n\n84\n00:04:20.140 --> 00:04:21.600\nThat's the shared configuration.\n\n85\n00:04:21.600 --> 00:04:23.830\nSo it's the configuration\nfrom my user account and\n\n86\n00:04:23.830 --> 00:04:26.450\nthen the configuration for the system.\n\n87\n00:04:26.450 --> 00:04:27.820\nAnd it's trying to rebuild it.\n\n88\n00:04:27.820 --> 00:04:30.940\nNow I got a segment fault,\nwhich is awesome.\n\n89\n00:04:30.940 --> 00:04:34.320\nSo that means that it did some kind of\ndetection and it didn't quite work.\n\n90\n00:04:34.320 --> 00:04:37.040\nSo it wasn't able to bring me\nup into the GUI or whatever.\n\n91\n00:04:37.040 --> 00:04:40.270\nAnd it's telling me to go\nContact RedHat support.\n\n92\n00:04:40.270 --> 00:04:41.530\nSo that could happen.\n\n93\n00:04:41.530 --> 00:04:46.020\nBut when it ran this, it actually\ngenerated a file for me to test with, or\n\n94\n00:04:46.020 --> 00:04:46.700\nat least it should have.\n\n95\n00:04:46.700 --> 00:04:48.750\nLet's see if it did before it crashed.\n\n96\n00:04:48.750 --> 00:04:49.650\nIt did.\n\n97\n00:04:49.650 --> 00:04:55.464\nSo right here in my home directory,\nit made a file called xorg.conf.new.\n\n98\n00:04:55.464 --> 00:04:56.725\nAll right?\n\n99\n00:04:56.725 --> 00:05:00.635\nThat's the file that is its\nbest guess its saying I\n\n100\n00:05:00.635 --> 00:05:06.100\nthink this is the right hardware for\nmy system this is what should make X work.\n\n101\n00:05:06.100 --> 00:05:09.590\nNow, it may not and if it doesn't,\nthen we need to edit that.\n\n102\n00:05:09.590 --> 00:05:12.290\nAnd you can edit it with\nany old text editor.\n\n103\n00:05:12.290 --> 00:05:13.870\nSo I'll go in here and edit this.\n\n104\n00:05:13.870 --> 00:05:16.980\nAnd, as you look through, what you're\ngonna see is information about the server.\n\n105\n00:05:16.980 --> 00:05:20.150\nSo here we can see that we've\ngot this default configuration.\n\n106\n00:05:20.150 --> 00:05:24.890\nThis is our Xorg configuration: screen\nzero- that's our main screen- mouse, and\n\n107\n00:05:24.890 --> 00:05:27.380\nkeyboard, and\nthen the modules that it's loading.\n\n108\n00:05:27.380 --> 00:05:28.990\nSo Xorg modules, and so on.\n\n109\n00:05:28.990 --> 00:05:31.110\nWe don't normally have to\nchange anything in there.\n\n110\n00:05:31.110 --> 00:05:34.085\nBut as you scroll down,\nyou'll see where your keyboard is defined,\n\n111\n00:05:34.085 --> 00:05:38.755\nyour mouse is defined,\nyour monitor is defined, and other things.\n\n112\n00:05:38.755 --> 00:05:41.615\nNow, this is where things\nstart to get challenging,\n\n113\n00:05:41.615 --> 00:05:44.645\nbecause notice my monitor is just generic,\nright?\n\n114\n00:05:44.645 --> 00:05:46.297\nMonitor vendor, monitor model.\n\n115\n00:05:46.297 --> 00:05:47.997\nThat's not very helpful, right?\n\n116\n00:05:47.997 --> 00:05:51.717\nSo I might need to go the x.org website\nand look up the various monitor\n\n117\n00:05:51.717 --> 00:05:55.537\nspecifications on there so\nI can put the actual monitor in there.\n\n118\n00:05:55.537 --> 00:05:58.447\nAnd you might have to put in the vertical\nand horizontal refresh rates and\n\n119\n00:05:58.447 --> 00:05:59.257\nall that other stuff.\n\n120\n00:05:59.257 --> 00:06:02.987\nAnd just be aware that if you make\na mistake, you can actually damage your\n\n121\n00:06:02.987 --> 00:06:06.317\nhardware if you have your monitor\nrunning outside of its accepted ranges.\n\n122\n00:06:06.317 --> 00:06:10.960\nNow, on modern flat screens,\nlike LCDs and LEDs,\n\n123\n00:06:10.960 --> 00:06:14.070\nit's next to impossible to hurt those, so\nI don't worry about it so much anymore.\n\n124\n00:06:14.070 --> 00:06:15.520\nBut if you still have a CRT,\n\n125\n00:06:15.520 --> 00:06:18.680\nit's a different story and hopefully none\nof you guys out there in TV land do.\n\n126\n00:06:18.680 --> 00:06:23.110\nSome of the other things we'll see in\nhere as it goes down and lays them out,\n\n127\n00:06:23.110 --> 00:06:25.950\nit's setting up our various displays,\nyou might have more than\n\n128\n00:06:25.950 --> 00:06:29.450\none display set up and so that's why we've\ngot all these different sections in here.\n\n129\n00:06:29.450 --> 00:06:32.710\nAnd at the end of the day this is\nlike the most super generic file\n\n130\n00:06:32.710 --> 00:06:33.310\nthat I could have made.\n\n131\n00:06:33.310 --> 00:06:37.330\nThere's next to nothing in here to\nfind any of my actual hardware.\n\n132\n00:06:37.330 --> 00:06:38.840\nAnd that means that it did have a problem.\n\n133\n00:06:38.840 --> 00:06:40.740\nIt didn't attack my hardware properly.\n\n134\n00:06:40.740 --> 00:06:41.800\nAnd why is that?\n\n135\n00:06:41.800 --> 00:06:43.130\nWell probably cause I'm\nin a virtual machine.\n\n136\n00:06:43.130 --> 00:06:46.740\nAnd in a virtual machine hardware\ndetection is a really crazy thing and so\n\n137\n00:06:46.740 --> 00:06:48.760\nit is kind of failed to detect that.\n\n138\n00:06:48.760 --> 00:06:52.390\nBut you'll notice that it was able to\nboot x windows just fine a minute ago,\n\n139\n00:06:52.390 --> 00:06:54.020\neven with the default config.\n\n140\n00:06:54.020 --> 00:06:57.200\nThat's a testament to how\nfar X Windows has come\n\n141\n00:06:57.200 --> 00:07:01.200\nthat even with its default config,\nit's pretty good in most scenarios.\n\n142\n00:07:01.200 --> 00:07:08.710\nNow if I'm gonna be tweaking this file and\nchanging the function of it or whatever.\n\n143\n00:07:08.710 --> 00:07:12.270\nThere we go, I just need to get the file.\n\n144\n00:07:12.270 --> 00:07:16.350\nLet's go ahead and make some changes\nto it, and I want to test it out, okay.\n\n145\n00:07:16.350 --> 00:07:18.260\nWell, you can test it out\na few different ways.\n\n146\n00:07:18.260 --> 00:07:20.670\nOne of the easiest ways is to say x.\n\n147\n00:07:20.670 --> 00:07:25.440\nAnd the whole x grapple user interface,\nyou can run it just by saying x.\n\n148\n00:07:25.440 --> 00:07:27.210\nThat's a binary board, just x.\n\n149\n00:07:27.210 --> 00:07:29.560\nIf you run that it launches\nthe grapple user interface.\n\n150\n00:07:29.560 --> 00:07:33.100\nA lot of systems will have startx,\nwhich is actually a script.\n\n151\n00:07:33.100 --> 00:07:35.690\nIt does a few other things to set things\nup before it actually runs it but\n\n152\n00:07:35.690 --> 00:07:37.510\nif I want to run X by\nitself I can just do that,\n\n153\n00:07:37.510 --> 00:07:39.640\nI'm just gonna launch\nthe X Window interface.\n\n154\n00:07:39.640 --> 00:07:43.470\nAnd you can say dash config,\nwhoa, that's a lot of dashes.\n\n155\n00:07:44.630 --> 00:07:47.450\nX dash config,\nI got a little carried away there.\n\n156\n00:07:47.450 --> 00:07:51.166\nAnd then, point it to a custom\nconfiguration file, just to test it out.\n\n157\n00:07:51.166 --> 00:07:55.599\nI want to test this one that's in my\nhome directory, so I'm root right now,\n\n158\n00:07:55.599 --> 00:08:00.129\nwhich is not the greatest idea to run x\nas root, but you can do it, certainly.\n\n159\n00:08:00.129 --> 00:08:02.604\nSo, I'll point to that file that it made.\n\n160\n00:08:02.604 --> 00:08:04.696\nWhich was xorg.conf.new.\n\n161\n00:08:04.696 --> 00:08:07.910\nAnd so I can try and\nrun x using that file.\n\n162\n00:08:07.910 --> 00:08:10.280\nAnd I can run it and see how it goes.\n\n163\n00:08:10.280 --> 00:08:14.190\nAnd if it runs great,\nI can take that config file and\n\n164\n00:08:14.190 --> 00:08:17.090\ncopy it to be the default config file for\nmy system.\n\n165\n00:08:17.090 --> 00:08:20.630\nIf it crashes like mine did, I know I need\nto go in there and tweak it some more and\n\n166\n00:08:20.630 --> 00:08:23.630\nmodify it some settings and\ntry and get it set right.\n\n167\n00:08:23.630 --> 00:08:28.540\nIf it launches x and freezes, I can use\nthat ctrl alt backspace to close out and\n\n168\n00:08:28.540 --> 00:08:30.570\ndrop back to the shell and\nagain continue to tweak it.\n\n169\n00:08:30.570 --> 00:08:32.080\nSo you keep tweaking it and\ntweaking it and\n\n170\n00:08:32.080 --> 00:08:36.820\ntweaking it and running it with this\ncommand, until you get it right.\n\n171\n00:08:36.820 --> 00:08:40.463\nAnd then when you got it right for\nyour hardware, then we can copy that and\n\n172\n00:08:40.463 --> 00:08:42.330\nmake it the default configuration.\n\n173\n00:08:42.330 --> 00:08:47.278\nNow the default configuration\nis actually stored\n\n174\n00:08:47.278 --> 00:08:52.340\nin /user/share/X11, and\nif we look in here,\n\n175\n00:08:52.340 --> 00:08:58.740\nyou'll see like this xorg.conf.d and\nthat's a directory.\n\n176\n00:08:58.740 --> 00:09:01.341\nAnd if I get into that,\nwe can look in there, and\n\n177\n00:09:01.341 --> 00:09:04.500\nyou'll see like individual\nconfiguration files.\n\n178\n00:09:04.500 --> 00:09:06.510\nAnything in here is what's\ngonna get loaded, and\n\n179\n00:09:06.510 --> 00:09:08.610\nso we can pop that\nconfiguration into here.\n\n180\n00:09:08.610 --> 00:09:11.140\nYou can pop it in to the parent directory\nand just call it xorg.conf, and\n\n181\n00:09:11.140 --> 00:09:12.620\nit will pull that.\n\n182\n00:09:12.620 --> 00:09:17.980\nThere's also other configuration files\nthat get stored in /etc/ X11, and\n\n183\n00:09:17.980 --> 00:09:23.100\nso you'll see an xorg.com.d folder there,\nalso which gets included when it starts.\n\n184\n00:09:23.100 --> 00:09:25.210\nNow, what's the difference?\n\n185\n00:09:25.210 --> 00:09:26.720\nWell, there's really not\nmuch of a difference.\n\n186\n00:09:26.720 --> 00:09:31.110\nAnd a lot of distros actually sim link the\ntwo together so there is no difference.\n\n187\n00:09:31.110 --> 00:09:34.890\nBut users can also override the settings\nin their own profile if they want.\n\n188\n00:09:34.890 --> 00:09:38.030\nThey can do an xorg configuration\nfile in their profile and\n\n189\n00:09:38.030 --> 00:09:41.550\nthey're not allowed to change hardware,\nbut they can change other basic behavior.\n\n190\n00:09:41.550 --> 00:09:44.864\nThings like making your mouse a left\nhanded mouse instead of a right\n\n191\n00:09:44.864 --> 00:09:45.720\nhanded mouse.\n\n192\n00:09:45.720 --> 00:09:46.722\nRight?\nLike reversing the left and\n\n193\n00:09:46.722 --> 00:09:47.850\nright click buttons.\n\n194\n00:09:47.850 --> 00:09:51.290\nStuff like that they can do in an x\nconfiguration in the user settings.\n\n195\n00:09:51.290 --> 00:09:54.040\nSo, there's a few different options\nthere as far as getting in and\n\n196\n00:09:54.040 --> 00:09:54.730\ndoing the configuration.\n\n197\n00:09:54.730 --> 00:09:57.090\nNow, most of us will\nnever have to do this.\n\n198\n00:09:57.090 --> 00:09:58.520\nSo hopefully you don't have to.\n\n199\n00:09:58.520 --> 00:10:00.998\nBut for the exam,\njust remember the commands that I ran.\n\n200\n00:10:00.998 --> 00:10:06.550\nIt was xorg-configure was\nthe configuration script that,\n\n201\n00:10:06.550 --> 00:10:09.210\nyou know basically tried to do\nthe auto hardware detection, and\n\n202\n00:10:09.210 --> 00:10:10.708\nthen let me modify that file.\n\n203\n00:10:10.708 --> 00:10:17.770\nAnd then x-dash config let me point to\nthe config file and run it for testing.\n\n204\n00:10:17.770 --> 00:10:20.090\nThere are some other\nthings that we can modify.\n\n205\n00:10:20.090 --> 00:10:22.180\nLet me switch back to\nmy GUI here real quick.\n\n206\n00:10:23.510 --> 00:10:29.180\nAnd other things we might need to modify,\nthe initial desktop manager.\n\n207\n00:10:29.180 --> 00:10:31.480\nWhen I log in and I get my login screen.\n\n208\n00:10:31.480 --> 00:10:32.251\nWhere does that come from?\n\n209\n00:10:32.251 --> 00:10:35.181\nIt comes from GDM, or KDM, or\nsomebody like that, and so\n\n210\n00:10:35.181 --> 00:10:38.280\nI might need to modify\ntheir configuration a bit.\n\n211\n00:10:38.280 --> 00:10:39.780\nAnd there's a few ways to go about that,\nand\n\n212\n00:10:39.780 --> 00:10:43.388\nit really varies based on which\ndesktop manager you're using.\n\n213\n00:10:43.388 --> 00:10:47.680\nSo let's say for example,\nwell in my case I'm using GDM, right,\n\n214\n00:10:47.680 --> 00:10:48.720\nthat's not what I wanted.\n\n215\n00:10:48.720 --> 00:10:50.070\nI wanted a terminal.\n\n216\n00:10:50.070 --> 00:10:51.440\nGive me the terminal.\n\n217\n00:10:51.440 --> 00:10:52.920\nI need a user interface\nthat's more convenient.\n\n218\n00:10:52.920 --> 00:10:53.965\nThat's what I need.\n\n219\n00:10:53.965 --> 00:10:55.700\n>> [LAUGH]\n>> So I'm using Gnome, so\n\n220\n00:10:55.700 --> 00:10:59.770\nI've got GDM in place on this thing and\nit's running in the background somewhere.\n\n221\n00:10:59.770 --> 00:11:02.313\nAnd when I booted up and\nit asked me for a password,\n\n222\n00:11:02.313 --> 00:11:07.560\nwell it was GDM that was doing that and if\nI want to modify its configuration well,\n\n223\n00:11:07.560 --> 00:11:10.440\nthe easiest way is to install\na configuration utility.\n\n224\n00:11:10.440 --> 00:11:13.050\nThere's a number of configuration\nutilities that are out there.\n\n225\n00:11:13.050 --> 00:11:19.460\nSo I might do Yum Install,\nGDM- or G conf-editor.\n\n226\n00:11:20.730 --> 00:11:22.390\nHere's the big one.\n\n227\n00:11:22.390 --> 00:11:23.310\nAnd let's see.\n\n228\n00:11:23.310 --> 00:11:27.720\nOh, I need to be root, that makes sense,\nso I'll reinstall that.\n\n229\n00:11:30.496 --> 00:11:31.130\nThere we go.\n\n230\n00:11:31.130 --> 00:11:33.650\nAnd so I'm just gonna add this\nquick little editor in here which\n\n231\n00:11:33.650 --> 00:11:34.600\nmakes it really easy.\n\n232\n00:11:34.600 --> 00:11:36.930\nNow, GDM just maintains\nits own config files.\n\n233\n00:11:36.930 --> 00:11:39.990\nBut as you guys have seen, they've kinda\ngotten spread out across the hard drive.\n\n234\n00:11:39.990 --> 00:11:41.820\nThings can go in different places,\nthey get symlinked,\n\n235\n00:11:41.820 --> 00:11:43.320\nit gets difficult to find that.\n\n236\n00:11:43.320 --> 00:11:46.270\nAnd so utilities like the gconf\neditor make that easier for us,\n\n237\n00:11:46.270 --> 00:11:49.820\ncuz it can run and kind of put\neverything into one place for us.\n\n238\n00:11:49.820 --> 00:11:53.890\nAnd if you take a look at a utility\nlike that, like the gconf editor.\n\n239\n00:11:53.890 --> 00:11:57.650\nLet me just fire it up here.\n\n240\n00:11:57.650 --> 00:12:02.650\nIt's going to run, and basically it trying\nto gather the configuration files together\n\n241\n00:12:02.650 --> 00:12:06.520\nfor me so I can go through and\nstart to modify those, and get things set.\n\n242\n00:12:06.520 --> 00:12:11.680\nNow it didn't, for whatever reason it\ndidn't find my existing files, that's odd.\n\n243\n00:12:11.680 --> 00:12:14.790\nBut, odd and strange.\n\n244\n00:12:14.790 --> 00:12:16.910\nYeah, so normally it finds them and\nit displays them.\n\n245\n00:12:16.910 --> 00:12:19.290\nIt gets sent right here it goes in and\nwe can punch those in and\n\n246\n00:12:19.290 --> 00:12:20.420\nget them up and running.\n\n247\n00:12:20.420 --> 00:12:23.392\nNot sure why I found it,\nprobably because I ran it as root and\n\n248\n00:12:23.392 --> 00:12:24.830\nit's not happy about that.\n\n249\n00:12:25.910 --> 00:12:28.800\nOh, yeah, it's actually got a number of\ncomplaints in here about it being locked\n\n250\n00:12:28.800 --> 00:12:32.070\nbecause I'm, you know, actively running\nas root inside of another user.\n\n251\n00:12:32.070 --> 00:12:34.870\nSo, but you can use utilities like that or\nyou can go old school,\n\n252\n00:12:34.870 --> 00:12:37.050\nyou can just go in and modify the file.\n\n253\n00:12:37.050 --> 00:12:40.340\nSo for example a user might\nhave their own file or\n\n254\n00:12:40.340 --> 00:12:45.660\nwe might just go into /etc/gdm, and\nthat's where its configuration files are.\n\n255\n00:12:45.660 --> 00:12:48.360\nAnd you'll see custom.com right there.\n\n256\n00:12:48.360 --> 00:12:50.720\nYou don't normally want to mess\nwith GDM's configuration files,\n\n257\n00:12:50.720 --> 00:12:52.610\nyou put your stuff in a custom file.\n\n258\n00:12:52.610 --> 00:12:55.960\nAnd its probably empty,\nlet's see if anything's in there today.\n\n259\n00:12:55.960 --> 00:12:58.970\nIt's not completely empty,\nit's got some place markers, right?\n\n260\n00:12:58.970 --> 00:13:02.410\nSo if I wanna manipulate how GDM runs,\nhere's where I can start specifying\n\n261\n00:13:02.410 --> 00:13:05.990\nsecurity settings, the greeter,\nthe chooser and so on.\n\n262\n00:13:05.990 --> 00:13:08.880\nThe greeter that's that initial\nscreen you see that gives\n\n263\n00:13:08.880 --> 00:13:10.030\nyou the list of user accounts.\n\n264\n00:13:10.030 --> 00:13:11.610\nThen when you click a user account.\n\n265\n00:13:11.610 --> 00:13:12.680\nThat's where it goes,\n\n266\n00:13:12.680 --> 00:13:15.270\nwell that's partly the chooser that's\nbeing displayed on top of the greeter.\n\n267\n00:13:15.270 --> 00:13:16.840\nAnd then when you pick\nthe user account and\n\n268\n00:13:16.840 --> 00:13:18.920\nprovide a password, that's where\nit reaches in the security and\n\n269\n00:13:18.920 --> 00:13:23.650\nwe could put all of our custom options in\nhere to manipulate how GDM works, right?\n\n270\n00:13:23.650 --> 00:13:27.620\nSo we can do this way or we use GUI\nutilities like the GComp editor.\n\n271\n00:13:27.620 --> 00:13:31.840\nIt's whatever is our preference on those.\n\n272\n00:13:31.840 --> 00:13:35.050\nAll right, some other utilities that\nwe need to be aware of for the exam.\n\n273\n00:13:35.050 --> 00:13:40.060\nYou guys probably saw in, I think I showed\nthe initials H N file on the last episode,\n\n274\n00:13:40.060 --> 00:13:43.210\nwhere when x fires up, we can have\nit launch default applications.\n\n275\n00:13:43.210 --> 00:13:45.930\nAnd on some of those default\napplications they had things like\n\n276\n00:13:45.930 --> 00:13:50.810\na particular set of coordinates on\nthe screen where they wanted it to run.\n\n277\n00:13:50.810 --> 00:13:52.590\nHow do you know those coordinates?\n\n278\n00:13:52.590 --> 00:13:55.340\nWell, in really old versions of XWindows\n\n279\n00:13:55.340 --> 00:13:57.880\nit used to be when you dragged\na window it'd automatically show you,\n\n280\n00:13:57.880 --> 00:14:00.600\nbut they hide that now because\nmost people don't care about it.\n\n281\n00:14:00.600 --> 00:14:03.720\nSo we've got a few other command line\nutilities that we can use for that, like\n\n282\n00:14:04.950 --> 00:14:10.300\nxwininfo, xwininfo can show you\ninformation about any window and\n\n283\n00:14:10.300 --> 00:14:13.470\nwhen I run it see how it's telling me to\nclick on a window to get information?\n\n284\n00:14:13.470 --> 00:14:16.650\nAnd so I can click on this terminal\nwindow and here's all the data.\n\n285\n00:14:16.650 --> 00:14:20.110\nHere's the coordinates for the window,\nthe width, the height, the depth.\n\n286\n00:14:20.110 --> 00:14:21.780\nAll the details about that.\n\n287\n00:14:21.780 --> 00:14:24.700\nSo if I wanna set this window to\nautomatically run and automatically be\n\n288\n00:14:24.700 --> 00:14:27.800\na certain size, and automatically be\nin a particular part of the screen.\n\n289\n00:14:27.800 --> 00:14:30.810\nI can use xwininfo info to get that data,\nand\n\n290\n00:14:30.810 --> 00:14:35.640\nthen put it into my initialization\nfiles and have it launch that way.\n\n291\n00:14:35.640 --> 00:14:39.880\nSimilar is the xdpyinfo command.\n\n292\n00:14:39.880 --> 00:14:43.160\nThat's what's showing me information\nabout my display, all right?\n\n293\n00:14:43.160 --> 00:14:46.560\nLet's say I've got two laptops and\none is not running XWindows for\n\n294\n00:14:46.560 --> 00:14:49.320\nsome reason, and\nthe other one was running it just fine.\n\n295\n00:14:49.320 --> 00:14:52.620\nI could go to the one that is running\njust fine and I can run xdpy info, and\n\n296\n00:14:52.620 --> 00:14:56.690\nI can see all of the visual settings\nthat are defined in it, and\n\n297\n00:14:56.690 --> 00:14:58.290\nmake sure that those match\nin the other system.\n\n298\n00:14:58.290 --> 00:15:02.910\nBut look, just the sheer amount of\noutput it gives us here, it's a bunch.\n\n299\n00:15:02.910 --> 00:15:06.820\nSo, this is all data here about my current\ndisplay, the resolution that I'm at,\n\n300\n00:15:06.820 --> 00:15:08.170\nmy dots per inch.\n\n301\n00:15:08.170 --> 00:15:12.615\nAll information, not about one window,\nbut about the graphical interface itself.\n\n302\n00:15:12.615 --> 00:15:17.600\nSo that was xwininfo for a window,\nand xdpyinfo for display information.\n\n303\n00:15:17.600 --> 00:15:19.310\nFor the display itself.\n\n304\n00:15:22.455 --> 00:15:23.045\nAll right.\n\n305\n00:15:23.045 --> 00:15:24.665\nLet's see I think that's\nenough about those.\n\n306\n00:15:24.665 --> 00:15:26.405\nYou know I didn't mention kdm.\n\n307\n00:15:26.405 --> 00:15:31.088\nSo kdm, if you're running the kde\ninterface you might have kdm as it's\n\n308\n00:15:31.088 --> 00:15:32.892\ninitial desktop manager.\n\n309\n00:15:32.892 --> 00:15:37.807\nThat one you can have it's\nconfigurations are actually stored in /,\n\n310\n00:15:37.807 --> 00:15:44.345\nwait let's see I installed it so I should\nhave it, /users/share/config/kdm, right?\n\n311\n00:15:44.345 --> 00:15:49.140\nSo /users/share/config/kdm,\n\n312\n00:15:49.140 --> 00:15:54.820\nand if you poke around in there you'll\nfind its configuration file kdmrc.\n\n313\n00:15:54.820 --> 00:15:56.223\nAnd so that's where we can\nkind of manipulate that.\n\n314\n00:15:56.223 --> 00:15:59.040\nSo if you're using that one,\nit's configuration is right here, and\n\n315\n00:15:59.040 --> 00:16:01.637\nit gives you details so\nyou can change all sorts of information.\n\n316\n00:16:01.637 --> 00:16:04.668\nAbout how it behaves and what it does.\n\n317\n00:16:04.668 --> 00:16:06.290\nAll right?\n\n318\n00:16:06.290 --> 00:16:09.020\nNow, those are all pretty common.\n\n319\n00:16:09.020 --> 00:16:11.230\nThere are a few others like XDM.\n\n320\n00:16:11.230 --> 00:16:12.600\nXDM is the old one.\n\n321\n00:16:12.600 --> 00:16:16.030\nAnd GDM and KDM pretty much replaced XDM.\n\n322\n00:16:16.030 --> 00:16:18.820\nBut you do still find some\nsystems that use XDM.\n\n323\n00:16:18.820 --> 00:16:21.420\nIts not terribly common though.\n\n324\n00:16:21.420 --> 00:16:24.640\nDon't expect to see that one too much but\nit might be out there.\n\n325\n00:16:24.640 --> 00:16:27.965\nBut another one that is common is LightDM.\n\n326\n00:16:27.965 --> 00:16:30.520\nLightDM is the one that Ubuntu uses.\n\n327\n00:16:30.520 --> 00:16:32.040\nSo when you put up an Ubuntu system,\n\n328\n00:16:32.040 --> 00:16:34.650\nwhich I've got one of those\nparked around here somewhere.\n\n329\n00:16:34.650 --> 00:16:35.480\nThis guy.\n\n330\n00:16:35.480 --> 00:16:36.750\nSo here's Ubuntu.\n\n331\n00:16:36.750 --> 00:16:40.740\nWhen I boot it up I get this nice,\npretty interface, right?\n\n332\n00:16:40.740 --> 00:16:42.486\nThey actually spent some time\nmaking this look cool, right?\n\n333\n00:16:42.486 --> 00:16:44.490\nThis doesn't look like 1997.\n\n334\n00:16:44.490 --> 00:16:47.440\nAnd so I can pick my user account and\nlog in.\n\n335\n00:16:47.440 --> 00:16:50.128\nThe people at Canonical,\nthey're the ones who developed Ubuntu,\n\n336\n00:16:50.128 --> 00:16:53.261\nthey just wanted something nice, and\nso they went with something different.\n\n337\n00:16:53.261 --> 00:16:55.787\nLet's not use GDM or KDM.\n\n338\n00:16:55.787 --> 00:16:57.560\nLet's use LightDM.\n\n339\n00:16:57.560 --> 00:16:58.790\nSo that's what they did.\n\n340\n00:16:58.790 --> 00:17:01.325\nAnd we can get logged in, and\nwe can work with our system.\n\n341\n00:17:01.325 --> 00:17:02.110\nRight?\n\n342\n00:17:02.110 --> 00:17:05.990\nUbuntu, I make fun of it\nsometimes because it's bloated,\n\n343\n00:17:05.990 --> 00:17:08.070\nit's got way too much software in it.\n\n344\n00:17:08.070 --> 00:17:12.660\nI'm not a big fan of it but for\nan easy user interface, it's very pretty.\n\n345\n00:17:12.660 --> 00:17:14.370\nIt's got great software support.\n\n346\n00:17:14.370 --> 00:17:15.830\nIt's harder to find a better distro for\nit.\n\n347\n00:17:15.830 --> 00:17:17.410\nSo it certainly has its place, right?\n\n348\n00:17:17.410 --> 00:17:20.290\nI wouldn't want to use it for\na server, but for\n\n349\n00:17:20.290 --> 00:17:22.450\na desktop it actually\ndoes a pretty good job.\n\n350\n00:17:22.450 --> 00:17:25.030\nBut because it uses\na different desktop manager,\n\n351\n00:17:25.030 --> 00:17:26.580\nthe configuration's\na little bit different.\n\n352\n00:17:26.580 --> 00:17:28.530\nSo we've got to be aware of that.\n\n353\n00:17:28.530 --> 00:17:32.360\nAnd on the exam, this is one of the only\nWindow managers they actually specifically\n\n354\n00:17:32.360 --> 00:17:33.530\ncall out in the exam objectives.\n\n355\n00:17:33.530 --> 00:17:36.950\nThey want you to have\nan awareness of light DM.\n\n356\n00:17:36.950 --> 00:17:39.070\nSo\n>> Let's make them aware.\n\n357\n00:17:39.070 --> 00:17:40.269\n>> [LAUGH] Let's go Skynet and\nbecome aware, right?\n\n358\n00:17:40.269 --> 00:17:42.400\n>> [LAUGH] That's right.\n\n359\n00:17:42.400 --> 00:17:45.060\n>> So if we want to see that\n>> Speaking of 1997 [LAUGHING]\n\n360\n00:17:45.060 --> 00:17:46.332\n>> LightDM is very pretty,\n\n361\n00:17:46.332 --> 00:17:50.088\nit's very powerful, and part of the way\nthat it achieves that is by having\n\n362\n00:17:50.088 --> 00:17:52.860\na number of different\nways to configure it.\n\n363\n00:17:52.860 --> 00:17:55.500\nWhich is slightly annoying, because that\nmeans we got a number of different places\n\n364\n00:17:55.500 --> 00:17:59.160\nto look for a configuration, so\nlet me show you what I mean.\n\n365\n00:17:59.160 --> 00:18:04.311\nIf I jump into a terminal, and we'll kind\nof poke around a few different places and\n\n366\n00:18:04.311 --> 00:18:07.210\nkind of show you where it is configured.\n\n367\n00:18:07.210 --> 00:18:12.094\nSo, mainly, the main place that we\nwant to go for its configuration is\n\n368\n00:18:12.094 --> 00:18:18.390\n/usr/share/lightdm, all right?\n\n369\n00:18:18.390 --> 00:18:23.430\nInside of that folder you may see\nsome config files here, not normally.\n\n370\n00:18:23.430 --> 00:18:26.050\nYou'll normally see another\nfolder called lightdm.comf.d,\n\n371\n00:18:26.050 --> 00:18:31.070\nand any file in there will be loaded\nas part of the configuration.\n\n372\n00:18:31.070 --> 00:18:34.950\nNow that might be empty also,\nI haven't customized this system.\n\n373\n00:18:34.950 --> 00:18:38.470\nThis is a stock installed into Ubuntu and\nthere's some stuff in there.\n\n374\n00:18:39.920 --> 00:18:42.380\nLike many of these folders they\nuse numbers at the beginning.\n\n375\n00:18:42.380 --> 00:18:45.330\nThese scripts are applied in order and\nso they use numbers to apply the order.\n\n376\n00:18:45.330 --> 00:18:47.380\nNow all of these have\na 50 at the beginning so\n\n377\n00:18:47.380 --> 00:18:50.130\nthey're all gonna just run\nbasically alphabetically.\n\n378\n00:18:50.130 --> 00:18:52.210\nWell, greeter comes first.\n\n379\n00:18:52.210 --> 00:18:54.890\nWhen you boot up an Ubuntu system,\nyou get the greeter.\n\n380\n00:18:54.890 --> 00:18:58.025\nYou get the splash screen and\nthen it goes to show you the login screen.\n\n381\n00:18:58.025 --> 00:18:59.030\nRight?\n\n382\n00:18:59.030 --> 00:19:03.350\nAnd from there, you start to\nget to the rest of your login,\n\n383\n00:19:03.350 --> 00:19:08.090\nyour Unity Greeter, which is actually\ntheir fancier one that's used on the lock\n\n384\n00:19:08.090 --> 00:19:11.110\nscreen that's different than the one\nthat's used on the boot screen.\n\n385\n00:19:11.110 --> 00:19:13.200\nThen you see the X server commands, right?\n\n386\n00:19:13.200 --> 00:19:15.910\nHow it's actually gonna\nstart up X after you log in.\n\n387\n00:19:15.910 --> 00:19:18.620\nAll of these are stored in\nthese separate config files.\n\n388\n00:19:18.620 --> 00:19:21.740\nNow, at Canonical, they recommend\nyou don't mess with these files, but\n\n389\n00:19:21.740 --> 00:19:24.760\nif you wanna change something,\ninstead create your own file.\n\n390\n00:19:24.760 --> 00:19:26.055\nCreate a file, and\n\n391\n00:19:26.055 --> 00:19:30.765\nif you call it 50-custom,\nwell it's applying alphabetically, right?\n\n392\n00:19:30.765 --> 00:19:34.853\n50, they're all 50, and then -custom, that\n-c would be before all these other guys,\n\n393\n00:19:34.853 --> 00:19:37.026\nand so you can put your\ncustom settings in there and\n\n394\n00:19:37.026 --> 00:19:39.223\nthat will override the ones\nthat come after that.\n\n395\n00:19:39.223 --> 00:19:40.835\nSo you could whip up\na file right there and\n\n396\n00:19:40.835 --> 00:19:43.480\nthrow in whatever configuration\nchanges that you needed.\n\n397\n00:19:43.480 --> 00:19:45.910\nBut the files are pretty well documented.\n\n398\n00:19:45.910 --> 00:19:52.470\nIf you take a look at like the,\nwe'll do the guest wrapper, right?\n\n399\n00:19:52.470 --> 00:19:53.170\nSo if you take a look at it,\n\n400\n00:19:53.170 --> 00:19:55.240\nit's basically just got the guest\nwrapper setting here and\n\n401\n00:19:55.240 --> 00:19:58.240\nit's telling it to launch\na LightDM desk session.\n\n402\n00:19:58.240 --> 00:20:01.200\nIn Ubuntu, by default you have\nan option to log in as guest.\n\n403\n00:20:01.200 --> 00:20:04.710\nIt creates like a temporary session, and\nso here's how it launches that session.\n\n404\n00:20:04.710 --> 00:20:08.430\nOr if we take a look at the unity greeter.\n\n405\n00:20:10.400 --> 00:20:14.320\nSo, we'll just swap that out for\nthe unity greeter, right?\n\n406\n00:20:14.320 --> 00:20:15.660\nNow we can see where\nit's pointing that one.\n\n407\n00:20:15.660 --> 00:20:18.320\nAnd this one just says greeter session,\nunity greeter and that's it.\n\n408\n00:20:18.320 --> 00:20:20.830\nSo you could put additional options\nin here or you could go and\n\n409\n00:20:20.830 --> 00:20:23.560\ndefine that in a custom file yourself,\nall right?\n\n410\n00:20:23.560 --> 00:20:27.823\nOther places you might\nneed to look /etc/lightvl.\n\n411\n00:20:27.823 --> 00:20:28.405\nWhoops.\n\n412\n00:20:28.405 --> 00:20:30.470\nWhich if you spell right\nyou'll actually get into.\n\n413\n00:20:30.470 --> 00:20:32.400\nThere we go.\n/etc/lightdm.\n\n414\n00:20:33.400 --> 00:20:37.030\nAnd in there I just have one\nfile right now users.conf.\n\n415\n00:20:37.030 --> 00:20:41.525\nYou might have other files also if it's\nbeen customized but this one is going to\n\n416\n00:20:41.525 --> 00:20:46.755\nhave some basic settings in it as far as\nwhat users are allowed to use lightdm.\n\n417\n00:20:46.755 --> 00:20:48.085\nNotice, when you go to lightdm,\n\n418\n00:20:48.085 --> 00:20:51.275\nit gives you a list of user\naccounts to pick from, right?\n\n419\n00:20:51.275 --> 00:20:55.175\nAnd that list, let me go back to that,\njust log out here real quick.\n\n420\n00:20:56.870 --> 00:20:59.700\nThe list are user accounts on my system.\n\n421\n00:20:59.700 --> 00:21:03.209\nAnd [LAUGH] it's black text on\na black screen, there we go.\n\n422\n00:21:03.209 --> 00:21:05.410\n[LAUGH] It's got this user, Don Pizet.\n\n423\n00:21:05.410 --> 00:21:07.010\nNow why did it display that?\n\n424\n00:21:07.010 --> 00:21:09.043\nBecause in that user.conf file,\n\n425\n00:21:09.043 --> 00:21:12.698\nit said display only users with\na user ID over 500, right.\n\n426\n00:21:12.698 --> 00:21:14.776\nIf you do less than 500 you get\nall the service accounts and\n\n427\n00:21:14.776 --> 00:21:16.420\nthey'd all show up here on the screen,\nright?\n\n428\n00:21:16.420 --> 00:21:18.200\nSo anything 500 and above.\n\n429\n00:21:18.200 --> 00:21:19.820\nAnd then it doesn't let me type in a name.\n\n430\n00:21:19.820 --> 00:21:21.720\nI can't come in here and\ntype in a user name.\n\n431\n00:21:21.720 --> 00:21:23.850\nI've got to have it right\nhere where I pick and\n\n432\n00:21:23.850 --> 00:21:25.460\nit's got the guest session and stuff.\n\n433\n00:21:25.460 --> 00:21:27.210\nI might not want those things.\n\n434\n00:21:27.210 --> 00:21:28.570\nAnd so, I could remove those.\n\n435\n00:21:28.570 --> 00:21:29.140\nDisable them,\n\n436\n00:21:29.140 --> 00:21:34.090\nget them pulled out of here if I wanted,\nby manipulating LightDM and how it works.\n\n437\n00:21:34.090 --> 00:21:34.860\nAll right?\n\n438\n00:21:34.860 --> 00:21:37.270\nSo those are some of the things\nthat we might want to configure.\n\n439\n00:21:37.270 --> 00:21:41.858\nAnother thing you might have, and I didn't\nhave it, but let me get back in here.\n\n440\n00:21:41.858 --> 00:21:47.200\nIn /etc/lightdm you might just\nhave simple files like this,\n\n441\n00:21:47.200 --> 00:21:48.970\nbut you might also have another directory.\n\n442\n00:21:48.970 --> 00:21:51.275\nAnd you can make it yourself\nif you don't have it.\n\n443\n00:21:51.275 --> 00:21:54.020\nLightdm.conf.d.\n\n444\n00:21:54.020 --> 00:21:55.248\nAnd, oh, I'm not root.\n\n445\n00:21:55.248 --> 00:21:59.770\nBut, [LAUGH] but by default anything\ninside of there will get loaded too.\n\n446\n00:21:59.770 --> 00:22:01.660\nSo you can put custom\nconfigurations inside of there.\n\n447\n00:22:01.660 --> 00:22:07.150\nYeah, you can just make your own directory\nand, you know, get that punched in there.\n\n448\n00:22:07.150 --> 00:22:07.880\nThere we go.\n\n449\n00:22:07.880 --> 00:22:11.099\nSo now I've got the directory,\nI can throw things in there, and\n\n450\n00:22:11.099 --> 00:22:12.837\nwe'll have those get loaded too.\n\n451\n00:22:12.837 --> 00:22:17.420\nAll right, so, things that we might\nwant to customize, for example.\n\n452\n00:22:18.790 --> 00:22:23.307\nIf we, let me go back and\nedit that users.comf, all right.\n\n453\n00:22:23.307 --> 00:22:27.155\nSo right here you've got the user list\nsetting, and that's that minimum UID 500,\n\n454\n00:22:27.155 --> 00:22:30.770\nhidden users, these are users that we\ndon't want to show up in the list.\n\n455\n00:22:30.770 --> 00:22:32.710\nHidden shells, the default shells.\n\n456\n00:22:32.710 --> 00:22:38.200\nIf somebody's got their shells set to\n/user/sbin/nologin, don't show that user.\n\n457\n00:22:38.200 --> 00:22:41.530\nBut we can continue this on,\nand we can add other things.\n\n458\n00:22:41.530 --> 00:22:47.360\nOh, you know, I'm getting bad about\nnot doing my sudo on these things.\n\n459\n00:22:47.360 --> 00:22:50.160\nSo if I wanted to manipulate that behavior\na little bit, I could come in here and\n\n460\n00:22:50.160 --> 00:22:51.370\nchange it.\n\n461\n00:22:51.370 --> 00:22:52.368\nAnd I could add in.\n\n462\n00:22:52.368 --> 00:22:55.408\nOh now it's going crazy.\n\n463\n00:22:55.408 --> 00:22:56.220\nNope.\n\n464\n00:22:56.220 --> 00:22:58.985\nWell, am I in?\n\n465\n00:22:58.985 --> 00:23:01.110\n[LAUGH] My vi skills are failing me.\n\n466\n00:23:01.110 --> 00:23:02.735\n>> Dude, we have an awesome show on vi.\n\n467\n00:23:02.735 --> 00:23:03.540\n[LAUGH]\n>> We're covered by [LAUGH]\n\n468\n00:23:03.540 --> 00:23:04.835\n>> So check that out.\n\n469\n00:23:04.835 --> 00:23:07.090\n[LAUGH]\n>> So anyhow I can come in here and\n\n470\n00:23:07.090 --> 00:23:12.054\nI can add things like allowguest= false.\n\n471\n00:23:12.054 --> 00:23:14.670\n>> [LAUGH] My English\nskills are also failing so\n\n472\n00:23:14.670 --> 00:23:18.270\nI don't want to allow people\nto login as guests, right.\n\n473\n00:23:18.270 --> 00:23:24.755\nI don't need that so\nI'm gonna turn that off or so\n\n474\n00:23:24.755 --> 00:23:31.250\nI might say reader-o-manual-login=true.\n\n475\n00:23:31.250 --> 00:23:33.804\nAnd that means let somebody\ntype in their username.\n\n476\n00:23:33.804 --> 00:23:37.357\nI'm not gonna require them to pick\nfrom a list that's already in,\n\n477\n00:23:37.357 --> 00:23:38.940\nthey can type a name in.\n\n478\n00:23:38.940 --> 00:23:43.479\nSo I can put those right in here if I\nwant, or instead of putting it here,\n\n479\n00:23:43.479 --> 00:23:46.144\nI could always put it\nout in a custom file.\n\n480\n00:23:46.144 --> 00:23:51.341\nSo I can go into /etc/lightdm and\nthen into that\n\n481\n00:23:51.341 --> 00:23:56.683\ndirectory that I made,\nthat lightdm.conf.d.\n\n482\n00:23:56.683 --> 00:23:58.776\nThat's that directory I\nmade just a minute ago.\n\n483\n00:23:58.776 --> 00:24:02.618\nAnd in here I could edit a file.\n\n484\n00:24:02.618 --> 00:24:07.040\nHere I'll use nano this time so\nI don't screw up so much.\n\n485\n00:24:07.040 --> 00:24:11.150\nAnd, I can create a file\ncalled 50-custom.conf and\n\n486\n00:24:11.150 --> 00:24:16.403\nI can put those settings right in here and\nI can just say, set defaults.\n\n487\n00:24:18.562 --> 00:24:21.319\nSo these are gonna be the default values,\nunless they're overridden somewhere else,\n\n488\n00:24:21.319 --> 00:24:22.561\nthese are gonna be the default values.\n\n489\n00:24:22.561 --> 00:24:24.360\nAnd I can say, allow guest [LAUGH].\n\n490\n00:24:24.360 --> 00:24:30.330\nThis show would be so\nmuch shorter if I knew how to type.\n\n491\n00:24:30.330 --> 00:24:33.033\nAnd then I can say, greeter-\n\n492\n00:24:36.489 --> 00:24:42.130\nshow manual login equals true.\n\n493\n00:24:42.130 --> 00:24:43.140\nAll right, so there we go.\n\n494\n00:24:43.140 --> 00:24:46.860\nSo I'm gonna be allowing guests, or\nnot allowing guests, turning that off.\n\n495\n00:24:46.860 --> 00:24:48.900\nMaking it where people can\ntype in their username.\n\n496\n00:24:48.900 --> 00:24:51.130\nSo that's all exciting and fun.\n\n497\n00:24:51.130 --> 00:24:52.700\nSo I'll save that.\n\n498\n00:24:52.700 --> 00:24:53.580\nAnd now I've got it in there and\n\n499\n00:24:53.580 --> 00:24:56.420\nthat's gonna be loaded the next\ntime my graphic interface loads.\n\n500\n00:24:56.420 --> 00:24:59.620\nAll right, now to see that I do\nneed to kind of restart it and\n\n501\n00:24:59.620 --> 00:25:03.200\nthe easiest way to do that is\na good old fashioned reboot.\n\n502\n00:25:03.200 --> 00:25:05.020\nWe'll get a reboot and\nlet that take effect.\n\n503\n00:25:05.020 --> 00:25:08.600\nNow, ooh, I didn't check my permissions,\noh but I pseudoed it, so it'll be fine.\n\n504\n00:25:08.600 --> 00:25:12.250\nSo be careful if you're just using your\nregular user account, well, your regular\n\n505\n00:25:12.250 --> 00:25:14.890\nuser account shouldn't be able to edit\nfiles in that directory anyway, but\n\n506\n00:25:14.890 --> 00:25:16.550\nyou might need to double check\nthe ownership of the file.\n\n507\n00:25:16.550 --> 00:25:20.060\nBut when this reboots, those configuration\nchanges will take effect and\n\n508\n00:25:20.060 --> 00:25:21.870\nnow I've modified that interface.\n\n509\n00:25:21.870 --> 00:25:26.620\nDisabling that guest login, that's\nsomething that I normally do, you know,\n\n510\n00:25:26.620 --> 00:25:30.450\nmaking it where users can type in a\nusername, maybe not on that one, but yeah.\n\n511\n00:25:31.990 --> 00:25:33.970\nSo that's kinda the basic functions there.\n\n512\n00:25:33.970 --> 00:25:34.640\nAll right, there we go.\n\n513\n00:25:34.640 --> 00:25:37.480\nIt looks like we have been rebooted and\n\n514\n00:25:37.480 --> 00:25:38.880\nmy screen looks a little different now,\nright?\n\n515\n00:25:38.880 --> 00:25:41.400\nSo the guest login is gone.\n\n516\n00:25:41.400 --> 00:25:42.310\nI don't have guest.\n\n517\n00:25:42.310 --> 00:25:43.000\nAnd I've got login.\n\n518\n00:25:43.000 --> 00:25:45.346\nI can click on that and\nI can type in my username.\n\n519\n00:25:45.346 --> 00:25:47.903\nSo if I want to login as a different user,\nI now can and\n\n520\n00:25:47.903 --> 00:25:51.000\nthat includes even users that\nweren't displayed by default.\n\n521\n00:25:51.000 --> 00:25:53.500\nSo maybe I want to break all the rules and\nlogin as root.\n\n522\n00:25:53.500 --> 00:25:54.160\n>> Don't do it, Don.\n\n523\n00:25:54.160 --> 00:25:55.389\n>> I know.\nI really shouldn't, should I?\n\n524\n00:25:55.389 --> 00:25:57.120\nI almost feel dirty doing it.\n\n525\n00:25:57.120 --> 00:25:59.451\nSo we go ahead and\npunch that in and try to login.\n\n526\n00:25:59.451 --> 00:26:01.853\nApparently I don't know my\nreal user password [LAUGH] so\n\n527\n00:26:01.853 --> 00:26:04.030\nthat's going to hold us back a little bit.\n\n528\n00:26:04.030 --> 00:26:07.000\nBut there we've manipulated\nthe way that LightDM works.\n\n529\n00:26:07.000 --> 00:26:09.420\nAnd that's kind of the power of it,\nis that you can go in and\n\n530\n00:26:09.420 --> 00:26:13.640\nchange a lot of this stuff,\nfor good or for bad, in a way.\n\n531\n00:26:13.640 --> 00:26:17.189\nBut for a company, you might want to\nhave custom logos that you display here,\n\n532\n00:26:17.189 --> 00:26:19.280\nor whatever, and LightDM is powering that.\n\n533\n00:26:19.280 --> 00:26:22.174\nSo we just want to have some\nbasic awareness of LightDM and\n\n534\n00:26:22.174 --> 00:26:23.331\nits configurations.\n\n535\n00:26:23.331 --> 00:26:27.503\nKDM, GDM, all those guys that just got a\nsimple configuration files that you can go\n\n536\n00:26:27.503 --> 00:26:28.408\nand manipulate.\n\n537\n00:26:28.408 --> 00:26:30.360\nMost of us never have to.\n\n538\n00:26:30.360 --> 00:26:34.200\nBut just be aware that they are there cuz\nthat's what they want you to know for\n\n539\n00:26:34.200 --> 00:26:34.741\nthe exam.\n\n540\n00:26:34.741 --> 00:26:38.276\n>> That's right and I love it because you\nfeel like you actually know a little more\n\n541\n00:26:38.276 --> 00:26:39.790\nof the internals of your system.\n\n542\n00:26:39.790 --> 00:26:42.950\nYou kinda have that insider\ninformation kinda thing going on.\n\n543\n00:26:42.950 --> 00:26:44.840\nWell, what is this thing actually doing?\n\n544\n00:26:44.840 --> 00:26:47.960\nAnd then, if you know that stuff, and\nif you do need to make a change or\n\n545\n00:26:47.960 --> 00:26:50.360\na configuration setting move,\nyou can do that.\n\n546\n00:26:50.360 --> 00:26:53.570\nYou just jump right into those config\nfiles, make the changes you need, and\n\n547\n00:26:53.570 --> 00:26:54.870\nyou're off to the races.\n\n548\n00:26:54.870 --> 00:26:57.690\nAnd, you'll be surprised that,\nI guarantee if you're running Linux for\n\n549\n00:26:57.690 --> 00:27:00.950\nany length of time, you will have to\neventually do something like this.\n\n550\n00:27:00.950 --> 00:27:03.860\nSo, having that information\nstored away in the old noggin,\n\n551\n00:27:03.860 --> 00:27:05.500\nthat's a good thing to have.\n\n552\n00:27:05.500 --> 00:27:09.260\nVery cool stuff, Don, but\nis that all our stuff for today, or?\n\n553\n00:27:09.260 --> 00:27:12.280\n>> We've got more stuff that we\nwant to talk about in XWindows, but\n\n554\n00:27:12.280 --> 00:27:13.350\nnot in this episode.\n\n555\n00:27:13.350 --> 00:27:17.219\nSo definitely stay tuned, we've got a few\nmore episodes on XWindows before we're all\n\n556\n00:27:17.219 --> 00:27:18.443\nsaid and done with the GUI.\n\n557\n00:27:18.443 --> 00:27:20.820\nBut for this episode,\nwe'll go ahead and wrap it up.\n\n558\n00:27:20.820 --> 00:27:22.590\n>> Awesome.\nWell hopefully all you guys out there\n\n559\n00:27:22.590 --> 00:27:25.490\nwatching enjoyed this,\nlearned a whole lot, I hope, I sure did.\n\n560\n00:27:25.490 --> 00:27:27.180\nI thoroughly enjoyed it.\n\n561\n00:27:27.180 --> 00:27:31.200\nThat being said, it's time to sign off for\nITProTV, I've been your host, Daniel Lowry\n\n562\n00:27:31.200 --> 00:27:32.080\n>> And I'm Don Pezet.\n\n563\n00:27:32.080 --> 00:27:34.180\n>> And we'll see you next time.\n\n",
          "vimeoId": "133030650"
        },
        {
          "description": null,
          "length": "1607",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-2-remote_access_to_x-070815-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-2-remote_access_to_x-070815-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-2-remote_access_to_x-070815-1-sm.jpg",
          "title": "Remote Access to X",
          "transcript": "WEBVTT\n\n1\n00:00:00.011 --> 00:00:10.748\n[MUSIC]\n\n2\n00:00:10.748 --> 00:00:15.508\nAll right everyone, greetings and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.508 --> 00:00:19.520\nI'm your host Daniel Lowrie and here with\nme today is my good friend, my mentor,\n\n4\n00:00:19.520 --> 00:00:22.850\nthe man who has fashioned\neverything you see here today.\n\n5\n00:00:22.850 --> 00:00:23.520\nThat is Don Pezet.\n\n6\n00:00:23.520 --> 00:00:24.440\nHow's it going today Don?\n\n7\n00:00:24.440 --> 00:00:26.060\n>> Are you saying that\nI'm good at fashion?\n\n8\n00:00:26.060 --> 00:00:26.560\n>> Yes.\n>> [LAUGH]\n\n9\n00:00:26.560 --> 00:00:28.555\n>> You have a very good fashion sense.\n\n10\n00:00:28.555 --> 00:00:30.050\n[LAUGH]\n>> Well, I'm doing great,\n\n11\n00:00:30.050 --> 00:00:31.020\nI'm excited to be here.\n\n12\n00:00:31.020 --> 00:00:32.570\nToday we got a really fun episode.\n\n13\n00:00:32.570 --> 00:00:34.700\nThis is one of those episodes\nwhere we get to cover something,\n\n14\n00:00:34.700 --> 00:00:37.800\nand people out there in the audience\ngo man, that was really cool.\n\n15\n00:00:37.800 --> 00:00:38.680\nThis is cool stuff.\n\n16\n00:00:38.680 --> 00:00:39.280\n>> This is cool.\n\n17\n00:00:39.280 --> 00:00:44.410\n>> We're gonna take a look at remotely\nrunning X applications, okay.\n\n18\n00:00:44.410 --> 00:00:46.320\nNow, what do I mean when I say that?\n\n19\n00:00:46.320 --> 00:00:50.800\nWell, when we run an application in\nX Windows, it's a graphical application,\n\n20\n00:00:50.800 --> 00:00:54.540\nit runs right there on your desktop and\nyou see it and that's that, right.\n\n21\n00:00:54.540 --> 00:00:59.090\nWell, what if I want to run that\napplication from a different computer?\n\n22\n00:00:59.090 --> 00:01:01.097\nWell, I need remote access to\nbe able to get in to do that.\n\n23\n00:01:01.097 --> 00:01:04.846\nAnd there's protocols out there,\nyou can use things like VNC,\n\n24\n00:01:04.846 --> 00:01:06.998\nor what's the big one, NX Desktop,\n\n25\n00:01:06.998 --> 00:01:11.470\nstuff like that to be able to remotely\nsee that screen on that computer.\n\n26\n00:01:11.470 --> 00:01:14.310\nBut those don't really play nice\nwith multiple users, right?\n\n27\n00:01:14.310 --> 00:01:16.800\nIt's really difficult to\nget those set up right.\n\n28\n00:01:16.800 --> 00:01:18.180\nAnd you don't really need them.\n\n29\n00:01:18.180 --> 00:01:22.520\nBecause technically, every time you\nrun an application in X Windows,\n\n30\n00:01:22.520 --> 00:01:23.380\nyou're running it remotely.\n\n31\n00:01:24.532 --> 00:01:26.010\nX Windows is made up of\nmore than one piece.\n\n32\n00:01:26.010 --> 00:01:30.110\nYou've got the server that's running\nin the background, and you've got your\n\n33\n00:01:30.110 --> 00:01:32.736\nwindow manager that's showing you\nthe pictures in the foreground.\n\n34\n00:01:32.736 --> 00:01:36.770\nAnd the window manager,\n\n35\n00:01:36.770 --> 00:01:39.300\nit's connecting to that server on the\nbackground as if it were on the network.\n\n36\n00:01:39.300 --> 00:01:41.383\nEven though it's local, even though\nit's right there on the same machine.\n\n37\n00:01:41.383 --> 00:01:44.887\nSo technically you can go to\na window manager anywhere and\n\n38\n00:01:44.887 --> 00:01:47.740\npoint it to your server and\nrun applications.\n\n39\n00:01:47.740 --> 00:01:50.170\nAnd the applications would\nrun on your server, but\n\n40\n00:01:50.170 --> 00:01:54.030\nyou'd see them in the window\nmanager on your own machine.\n\n41\n00:01:54.030 --> 00:01:58.298\nNow this a great thing, and it's\na negative thing all at the same time.\n\n42\n00:01:58.298 --> 00:02:01.530\nIt's great because it means you're\nnot tied to one piece of hardware.\n\n43\n00:02:01.530 --> 00:02:04.430\nYou can run your X applications\non that piece of hardware and\n\n44\n00:02:04.430 --> 00:02:06.220\nhave them show up wherever you want.\n\n45\n00:02:06.220 --> 00:02:08.910\nYou might have a lab of 50 computers for\n\n46\n00:02:08.910 --> 00:02:11.640\nyour students,\nif you're in a school for example.\n\n47\n00:02:11.640 --> 00:02:14.920\nYou could install the software\none time on a server and\n\n48\n00:02:14.920 --> 00:02:18.770\nhave every student machine simply\nrunning the application from the server.\n\n49\n00:02:18.770 --> 00:02:21.240\nSo the student machines\ncould be thin clients.\n\n50\n00:02:21.240 --> 00:02:24.224\nThey can be really low CPU,\nlow memory cuz they're not doing any work,\n\n51\n00:02:24.224 --> 00:02:25.980\nit's the server that's doing the work.\n\n52\n00:02:25.980 --> 00:02:26.840\nSo you put the memory and\n\n53\n00:02:26.840 --> 00:02:30.860\nthe extra hardware there, and\nit runs 50 copies of that application.\n\n54\n00:02:30.860 --> 00:02:32.830\nAnd graphically,\nthey show up on all these other stations.\n\n55\n00:02:32.830 --> 00:02:34.960\nPretty neat, right, so\nthat's the good side.\n\n56\n00:02:34.960 --> 00:02:36.420\nThe bad side?\n\n57\n00:02:36.420 --> 00:02:40.190\nX Windows was designed in a time\nwhen the world was safer, right,\n\n58\n00:02:40.190 --> 00:02:42.320\nwhen we didn't have to\nworry about security.\n\n59\n00:02:42.320 --> 00:02:47.590\nSo by default there's no security between\nthe desktop environment that you see and\n\n60\n00:02:47.590 --> 00:02:49.200\nthe server on the back end.\n\n61\n00:02:49.200 --> 00:02:51.964\nSo if we do that over the network,\nsomebody could run a sniffer and\n\n62\n00:02:51.964 --> 00:02:54.847\nreassemble it, and they could\nactually watch what you're doing.\n\n63\n00:02:54.847 --> 00:02:58.340\nThey would see it graphically,\nthey'd watch you using that program.\n\n64\n00:02:58.340 --> 00:03:02.610\nAnd I mean watch everything, even like\nyour mouse moving, they'd see all of that.\n\n65\n00:03:02.610 --> 00:03:06.160\nAnd even worse, if they're really\ngood at it, they can tap into it,\n\n66\n00:03:06.160 --> 00:03:08.290\nand they can start inserting keystrokes.\n\n67\n00:03:08.290 --> 00:03:11.490\nAnd so they can actually\ntake over your session, and\n\n68\n00:03:11.490 --> 00:03:13.460\nnow they have access to that application.\n\n69\n00:03:13.460 --> 00:03:14.570\nDoesn't sound so good anymore, right.\n\n70\n00:03:14.570 --> 00:03:16.381\n>> That's no bueno, Don, that's no bueno.\n\n71\n00:03:16.381 --> 00:03:19.120\n[LAUGH]\n>> And so a lot of people don't use it.\n\n72\n00:03:19.120 --> 00:03:21.560\nBut that doesn't mean you can't use it,\n\n73\n00:03:21.560 --> 00:03:25.040\nit just means you gotta couple it with\nsomething else to provide security.\n\n74\n00:03:25.040 --> 00:03:28.210\nAnd a great way to do that\nis to couple it with SSH.\n\n75\n00:03:28.210 --> 00:03:30.030\nNow, you may or\nmay not have watched it yet, but\n\n76\n00:03:30.030 --> 00:03:33.260\nwe did an episode on using\nSSH to build tunnels.\n\n77\n00:03:33.260 --> 00:03:37.350\nAnd X Windows supports that really,\nreally well, and SSH supports it,\n\n78\n00:03:37.350 --> 00:03:41.190\nwhere you can do what's called\nX Window forwarding, or X forwarding.\n\n79\n00:03:41.190 --> 00:03:45.590\nWhere we take an application and\nwe forward it across an SSH tunnel.\n\n80\n00:03:45.590 --> 00:03:47.080\nAnd now we get the encryption and\n\n81\n00:03:47.080 --> 00:03:50.920\nsecurity of SSH coupled with\nthe awesomeness of running remote apps.\n\n82\n00:03:50.920 --> 00:03:53.440\nIt's a perfect scenario,\nit really works out well.\n\n83\n00:03:53.440 --> 00:03:55.910\nSo I wanna show you guys that and\nkinda have it and get it set up.\n\n84\n00:03:55.910 --> 00:04:00.947\nIt really is just super easy, it's really\nnot a hard thing to do, all right.\n\n85\n00:04:00.947 --> 00:04:03.980\nNow I'm gonna need two components.\n\n86\n00:04:03.980 --> 00:04:05.710\nFirst off, I'm gonna need a server.\n\n87\n00:04:05.710 --> 00:04:08.870\nAnd the server has to be running\nX Windows, kinda need that.\n\n88\n00:04:08.870 --> 00:04:10.940\nIt's gotta generate stuff somewhere.\n\n89\n00:04:10.940 --> 00:04:13.310\nAnd it's got to have SSH enabled.\n\n90\n00:04:13.310 --> 00:04:18.240\nWell, if you do a default install of\nCentOS, Red Hat Enterprise Linux,\n\n91\n00:04:18.240 --> 00:04:23.340\nUbuntu, Debian, any of those guys,\nguess what they have by default.\n\n92\n00:04:23.340 --> 00:04:24.930\nThey run X, and they run SSH.\n\n93\n00:04:24.930 --> 00:04:27.900\nSo the server side's\nreally already set up.\n\n94\n00:04:27.900 --> 00:04:30.430\nYou just go and\ninstall whatever software you want.\n\n95\n00:04:30.430 --> 00:04:34.542\nSo for example,\nhere I've got CentOS 7 machine.\n\n96\n00:04:34.542 --> 00:04:38.350\nIt's a stock install, I set my own\nuser account, but that's about it.\n\n97\n00:04:38.350 --> 00:04:43.300\nAnd it's got SSH running by default, and\nit's got X Windows installed by default.\n\n98\n00:04:43.300 --> 00:04:50.694\nAnd I installed the Wireshark network\nanalyzer, right, a little network sniffer.\n\n99\n00:04:50.694 --> 00:04:52.752\nRight, I installed it in a different\nepisode, you guys might have seen that.\n\n100\n00:04:52.752 --> 00:04:55.540\nBut anyhow, so I've got it there and\nit's right here on this system.\n\n101\n00:04:55.540 --> 00:04:58.130\nI can run Wireshark right\nhere from this computer.\n\n102\n00:04:58.130 --> 00:05:02.003\nBut what if I'm on my laptop back in my\noffice, and I wanna run Wireshark, and\n\n103\n00:05:02.003 --> 00:05:04.580\nI don't wanna install\nWireshark on my own laptop?\n\n104\n00:05:05.660 --> 00:05:10.521\nWell, what I can do is, on my laptop, I\ncould have it reach out to this server and\n\n105\n00:05:10.521 --> 00:05:12.046\nrun Wireshark here, but\n\n106\n00:05:12.046 --> 00:05:15.547\nshow it graphically on my own\ncomputer back in my office.\n\n107\n00:05:15.547 --> 00:05:17.160\nNow, there's two cool things about that.\n\n108\n00:05:17.160 --> 00:05:19.877\nOne, I get to run Wireshark in\nmy office without installing it.\n\n109\n00:05:19.877 --> 00:05:23.321\nAnd two,\nit's gonna be running here on this server.\n\n110\n00:05:23.321 --> 00:05:26.679\nWhich means I can sniff the network\nadapters on the server instead of sniffing\n\n111\n00:05:26.679 --> 00:05:30.640\nthe network adapters on my own laptop,\nwhich is probably far more useful for me.\n\n112\n00:05:30.640 --> 00:05:33.760\nSo kind of cool little advantages for\ndoing that.\n\n113\n00:05:33.760 --> 00:05:36.770\nSo that's one side of the equation,\nand it's really already done for us.\n\n114\n00:05:37.890 --> 00:05:40.820\nThe other side is the client side,\nI need to get my client set up.\n\n115\n00:05:40.820 --> 00:05:42.280\nNow here's where it gets really neat.\n\n116\n00:05:42.280 --> 00:05:44.340\nYour client can be darn near anything.\n\n117\n00:05:44.340 --> 00:05:48.920\nIt can be Microsoft Windows,\nit can be Apple Mac OS, it can be Linux.\n\n118\n00:05:48.920 --> 00:05:51.870\nYou just have to have an X Window Sever\non it, or an X Window client.\n\n119\n00:05:51.870 --> 00:05:54.450\nAnd really,\nX Window servers can be X Window clients,\n\n120\n00:05:54.450 --> 00:05:56.740\nit's really all kind of one and\nthe same, all right?\n\n121\n00:05:56.740 --> 00:05:59.740\nNow if you're running a Linux distro, then\nyou've already got an X client built in,\n\n122\n00:05:59.740 --> 00:06:01.350\nyou don't have to do anything.\n\n123\n00:06:01.350 --> 00:06:04.668\nIf you're running Mac OS,\nthey don't run X Windows, they run Aqua or\n\n124\n00:06:04.668 --> 00:06:06.985\nsomething, do you remember\nwhat it's called?\n\n125\n00:06:06.985 --> 00:06:07.930\n>> I don't know at all.\n>> I think it's called Aqua.\n\n126\n00:06:07.930 --> 00:06:09.330\nSo they have their own little thing.\n\n127\n00:06:09.330 --> 00:06:10.583\nAnd if you run Windows,\n\n128\n00:06:10.583 --> 00:06:15.044\nwell they've got the window manager is\nwhat theirs is called, it's just a window.\n\n129\n00:06:15.044 --> 00:06:17.340\n[LAUGH] So they don't have X Windows.\n\n130\n00:06:17.340 --> 00:06:19.175\nSo you may need to get\na third party client and\n\n131\n00:06:19.175 --> 00:06:21.067\nthere's a number of them\nthat are out there.\n\n132\n00:06:21.067 --> 00:06:23.680\nIn the MAC OS world,\nthe most common one is XQuartz.\n\n133\n00:06:23.680 --> 00:06:27.160\nIn fact, XQuartz use to come\npre-installed in MAC OS and\n\n134\n00:06:27.160 --> 00:06:29.300\nApple just removed that\na few versions ago.\n\n135\n00:06:29.300 --> 00:06:32.900\nBut you can go out to the XQuartz\nwebsite and download it, it's free.\n\n136\n00:06:32.900 --> 00:06:37.630\nAnd it gives you an X server and\nclient that you can run right from Mac OS.\n\n137\n00:06:38.750 --> 00:06:42.560\nIf you're running Windows, one of\nthe most popular packages is Cygwin.\n\n138\n00:06:42.560 --> 00:06:48.128\nCygwin adds all of the different network\nutilities and graphic environment\n\n139\n00:06:48.128 --> 00:06:52.916\nthat you need for X Windows,\nas well as a lot of the GNU utilities.\n\n140\n00:06:52.916 --> 00:06:57.247\nSo you can use your standard Unix command\nline stuff from Windows, things like sed\n\n141\n00:06:57.247 --> 00:07:01.470\nand awk, vi, stuff that you don't normally\nhave in Windows, it adds it to it.\n\n142\n00:07:01.470 --> 00:07:03.104\nCygwin's a pretty big package.\n\n143\n00:07:03.104 --> 00:07:06.475\nNow there's Cygwin and there's CygwinX.\n\n144\n00:07:06.475 --> 00:07:10.165\nYou'd want CygwinX, that's the one that\nincludes the X Windows system that'll\n\n145\n00:07:10.165 --> 00:07:12.435\nlet you remotely run those apps,\nall right.\n\n146\n00:07:12.435 --> 00:07:14.215\nThere's another one out\nthere called Xming.\n\n147\n00:07:14.215 --> 00:07:16.385\nIt's a lot less popular but\nit is out there.\n\n148\n00:07:16.385 --> 00:07:19.735\nAnd, same thing, it let's you run\nX Windows applications on top of Windows.\n\n149\n00:07:20.780 --> 00:07:24.168\nIf you want commercial support, one that\nI've worked with a lot is called Exceed.\n\n150\n00:07:24.168 --> 00:07:27.276\nAnd Exceed, it used to be owned\nby a company called Hummingbird,\n\n151\n00:07:27.276 --> 00:07:28.697\nthey got bought by OpenText.\n\n152\n00:07:28.697 --> 00:07:31.407\nBut Exceed is just another\nX Windows server and\n\n153\n00:07:31.407 --> 00:07:34.305\nclient that can on top\nof Microsoft Windows.\n\n154\n00:07:34.305 --> 00:07:36.995\nThe difference here is you get commercial\nsupport, you can call them for help.\n\n155\n00:07:36.995 --> 00:07:39.305\nThey do charge money,\nit's not inexpensive.\n\n156\n00:07:39.305 --> 00:07:42.425\nI think it's, is it $150 per client or\nsomething like that?\n\n157\n00:07:42.425 --> 00:07:44.885\nSo it's not the cheapest\nthing in the world.\n\n158\n00:07:46.677 --> 00:07:49.117\nLet's see, where is it on here?\n\n159\n00:07:49.117 --> 00:07:51.565\nWell, anyhow,\nI don't wanna kill us hunting for it.\n\n160\n00:07:51.565 --> 00:07:53.926\nOh, here, Hummingbird,\nOpenText, Exceed 15, ouch!\n\n161\n00:07:53.926 --> 00:07:56.387\n$545, it's kind of gone\nup in price on that one.\n\n162\n00:07:56.387 --> 00:07:58.895\nSo, yeah, a little bit pricey.\n\n163\n00:07:58.895 --> 00:08:00.590\nSo we wanna be careful on that.\n\n164\n00:08:00.590 --> 00:08:04.450\nBut yes, it is there,\nyou get commercial support, great.\n\n165\n00:08:06.210 --> 00:08:08.359\nAll right, but\nif we're on a Linux box like I am,\n\n166\n00:08:08.359 --> 00:08:12.150\nI've got this Ubuntu box sitting right\nhere, I don't need anything, right?\n\n167\n00:08:12.150 --> 00:08:15.420\nI can use the X Window environment\nI've already got, right?\n\n168\n00:08:15.420 --> 00:08:18.780\nI've already got X Window so I'm\ncapable of rendering the graphics side,\n\n169\n00:08:18.780 --> 00:08:20.085\nI just need to connect\nto the different server.\n\n170\n00:08:20.085 --> 00:08:23.290\nNow normally here in Ubuntu,\nif I run some kind of graphic app,\n\n171\n00:08:23.290 --> 00:08:27.210\nlike if I run Firefox,\nit's gonna run it right here\n\n172\n00:08:27.210 --> 00:08:32.530\ninside of X Windows on this x\nserver here on my own machine.\n\n173\n00:08:32.530 --> 00:08:36.170\nSo what I need to do is I need to tell it,\nhey, I wanna run an app, but\n\n174\n00:08:36.170 --> 00:08:39.410\ndon't run it on my server,\nrun it on this other server, all right?\n\n175\n00:08:39.410 --> 00:08:40.430\nAnd step one for\n\n176\n00:08:40.430 --> 00:08:44.440\nthat is gonna be building up a secure\nSSH tunnel to connect to the other side.\n\n177\n00:08:44.440 --> 00:08:47.230\nNow, on the other side, I need to be\nrunning SSH, and I need to make sure I\n\n178\n00:08:47.230 --> 00:08:50.210\ndon't have a firewall blocking it,\nand all that stuff, right?\n\n179\n00:08:50.210 --> 00:08:55.140\nSo, I need to make sure that, that's open,\nand it should be by default, all right?\n\n180\n00:08:55.140 --> 00:09:00.200\nOn some systems X Windows might be\nconfigured to refuse remote connections\n\n181\n00:09:00.200 --> 00:09:01.450\nand so, we may need to protect from that.\n\n182\n00:09:01.450 --> 00:09:04.040\nNow, there's a lot of different\ninformation out there on the internet\n\n183\n00:09:04.040 --> 00:09:06.180\nthat is a bit misleading on this.\n\n184\n00:09:06.180 --> 00:09:10.150\nThe way to make sure that X Windows\nis accepting remote connections\n\n185\n00:09:10.150 --> 00:09:13.950\nis to run a little command called Xhost,\nall right.\n\n186\n00:09:13.950 --> 00:09:20.540\nThe xhost command is what determines who's\nallowed to access the X server, all right?\n\n187\n00:09:20.540 --> 00:09:22.550\nOn a lot of systems it's wide open.\n\n188\n00:09:22.550 --> 00:09:23.760\nBut on others,\n\n189\n00:09:23.760 --> 00:09:26.700\nthey might have a restrictor where\nonly the local machine can get to it.\n\n190\n00:09:26.700 --> 00:09:31.070\nSo what you can do, is you can type in,\nthe way the command works is like this.\n\n191\n00:09:31.070 --> 00:09:34.310\nYou can type in, let's see,\nit's xhost followed by,\n\n192\n00:09:34.310 --> 00:09:37.300\nusually you do a user name, okay?\n\n193\n00:09:37.300 --> 00:09:41.070\nSo it's xhost followed by where this\naccount is gonna be coming from and\n\n194\n00:09:41.070 --> 00:09:43.890\nusually we do si,\nwhich means server interpreted.\n\n195\n00:09:43.890 --> 00:09:46.410\nIn other words,\nlook at our local user database and\n\n196\n00:09:46.410 --> 00:09:48.190\nthese are gonna be users right here.\n\n197\n00:09:48.190 --> 00:09:54.614\nSo I'm gonna say xhost\nsi:localuser:dpezet, all right?\n\n198\n00:09:54.614 --> 00:09:58.525\nI'm gonna authorize dpezet to be\nable to remotely run X applications,\n\n199\n00:09:58.525 --> 00:10:01.390\nso I'm kind of restricting that,\nall right?\n\n200\n00:10:01.390 --> 00:10:03.300\nYou can provide other\nthings when you run this.\n\n201\n00:10:03.300 --> 00:10:07.260\nInstead of SI, we can say like KRB and\ndo Kerberos authentication.\n\n202\n00:10:07.260 --> 00:10:08.980\nYou can do NIS to do NIS and\nNIS+ authentication,\n\n203\n00:10:08.980 --> 00:10:10.560\nthere's all sort of different ones.\n\n204\n00:10:10.560 --> 00:10:15.360\nIf you want to restrict by IP,\nI can say xhost and\n\n205\n00:10:15.360 --> 00:10:20.870\nthen inet:, and\nthen specify an IP address and a name.\n\n206\n00:10:20.870 --> 00:10:24.400\nOops, there we go, sorry,\nthat's my desktop complaining.\n\n207\n00:10:24.400 --> 00:10:29.015\nSo I can punch in an IP address,\nand now it'll say you can run it if\n\n208\n00:10:29.015 --> 00:10:34.260\nyou're on 192.168.0.100:dpezet, all right?\n\n209\n00:10:34.260 --> 00:10:36.780\nSo now I'm allowed to connect\nif that's where I'm coming from.\n\n210\n00:10:36.780 --> 00:10:38.640\nSo we can specify that, but\n\n211\n00:10:38.640 --> 00:10:41.810\nat the end of the day these\nare all non-secure connections.\n\n212\n00:10:41.810 --> 00:10:45.610\nThese are direct x connections which\nI said earlier we don't wanna do.\n\n213\n00:10:45.610 --> 00:10:50.250\nSo what most people normally\ndo is they just run xhost+.\n\n214\n00:10:50.250 --> 00:10:53.290\nWhen you run that,\nit turns off access control.\n\n215\n00:10:53.290 --> 00:10:57.160\nNow anybody can connect and boy,\nthat sounds really bad, doesn't it?\n\n216\n00:10:57.160 --> 00:10:59.880\nAnybody can connect to this\nnon-secure thing, that's horrible.\n\n217\n00:10:59.880 --> 00:11:01.140\n>> I'm already in, Don.\n\n218\n00:11:01.140 --> 00:11:04.180\n>> And you'll see people all over\nthe internet who are like, don't do this,\n\n219\n00:11:04.180 --> 00:11:05.380\nit's bad.\n\n220\n00:11:05.380 --> 00:11:09.000\nWell, don't do this by itself, okay?\n\n221\n00:11:09.000 --> 00:11:11.430\nIf I run xhost plus, and\n\n222\n00:11:11.430 --> 00:11:16.840\nmy firewall is allowing connections to x,\nyeah I just made my system pretty weak.\n\n223\n00:11:16.840 --> 00:11:23.450\nBut I go into my IP tables firewall and I\nonly allow SSH can somebody connect to x?\n\n224\n00:11:23.450 --> 00:11:24.800\nNo, they can't connect.\n\n225\n00:11:24.800 --> 00:11:28.170\nSo it doesn't matter that I turned off x's\ncontrol cuz they can only connect with SSH\n\n226\n00:11:28.170 --> 00:11:29.170\nfirst, all right?\n\n227\n00:11:29.170 --> 00:11:31.400\nAnd that's what I want,\nI'm gonna connect with SSH,\n\n228\n00:11:31.400 --> 00:11:35.350\nthat's where my security is gonna come\nfrom, and then I'm gonna run x over it.\n\n229\n00:11:35.350 --> 00:11:38.490\nSo if you read on the Internet,\npeople really paranoid about this option.\n\n230\n00:11:38.490 --> 00:11:41.860\nDon't sweat it too much,\nas long as you're restricting it to SSH.\n\n231\n00:11:41.860 --> 00:11:46.951\nNow if you are allowing direct x\nconnections, you do not want to do xhost+,\n\n232\n00:11:46.951 --> 00:11:51.260\ninstead you wanna do what I showed here,\nand specifically approve users.\n\n233\n00:11:51.260 --> 00:11:54.276\nAnd I usually do it based on IP,\neven though I know people can spoof IPs,\n\n234\n00:11:54.276 --> 00:11:56.710\nI like to be really picky about\nwhere the users come from.\n\n235\n00:11:58.370 --> 00:12:02.950\nAll right, so once we've got that\nset our server's now ready for\n\n236\n00:12:02.950 --> 00:12:05.540\nconnections to come through,\nit's ready to rock.\n\n237\n00:12:05.540 --> 00:12:10.220\nSo back here under Ubuntu,\nI need to create an SSH tunnel, and\n\n238\n00:12:10.220 --> 00:12:13.600\nI need to tell it to do X forwarding\nover that tunnel, all right?\n\n239\n00:12:13.600 --> 00:12:16.210\nAnd it's really not hard to do.\n\n240\n00:12:16.210 --> 00:12:20.750\nSo I'm gonna jump into a terminal window\nreal quick and I'm gonna check this out.\n\n241\n00:12:20.750 --> 00:12:24.645\nThe first thing I need to make sure\nthat ssh supports the forwarding option.\n\n242\n00:12:24.645 --> 00:12:27.830\nAnd on most distros, it does so\nI doubt I'll have to change it, but\n\n243\n00:12:27.830 --> 00:12:30.090\nlet's just double check it just in case.\n\n244\n00:12:30.090 --> 00:12:35.680\nIf you go into /etc/ssh that's where\nyou'll find your configuration files.\n\n245\n00:12:35.680 --> 00:12:39.120\nAnd you might have just what\nI've got here ssh_config,\n\n246\n00:12:39.120 --> 00:12:44.610\nyou might also have SSHD_config and that\nwould be your SSH server configuration.\n\n247\n00:12:44.610 --> 00:12:48.170\nBut I need to look at my\nclient because it's the client\n\n248\n00:12:48.170 --> 00:12:49.670\nthat's doing the forwarding.\n\n249\n00:12:51.760 --> 00:12:55.427\nAnd so\nI'm going to edit that file real quick.\n\n250\n00:12:55.427 --> 00:12:58.160\nAnd when we open it up and\nkinda go through it's gonna show,\n\n251\n00:12:58.160 --> 00:13:01.170\nlike here, host,\nwhat host am I allowed to connect to?\n\n252\n00:13:01.170 --> 00:13:04.290\nAnd it's set to an asterisk,\nyou can connect to anybody, right.\n\n253\n00:13:04.290 --> 00:13:07.420\nBut then see this option here,\nForwardX11 no.\n\n254\n00:13:08.610 --> 00:13:11.870\nForward X11 trusted yes, okay?\n\n255\n00:13:11.870 --> 00:13:14.180\nThat means are we going to\n\n256\n00:13:15.370 --> 00:13:20.000\nallow X11 to forward over something\nlike SHH over this tunnel.\n\n257\n00:13:20.000 --> 00:13:22.420\nOkay and\nwhether we do it with trusted host or not.\n\n258\n00:13:22.420 --> 00:13:24.390\nNow what's a trusted host in SSH?\n\n259\n00:13:24.390 --> 00:13:26.080\nOne we know the certificate for.\n\n260\n00:13:26.080 --> 00:13:31.240\nSo if the certificate already exists in\nmy known host file I'm going to allow\n\n261\n00:13:31.240 --> 00:13:33.140\nThe X11 forwarding.\n\n262\n00:13:33.140 --> 00:13:35.350\nAnd if I don't know the certificate,\nI'm not going to allow it.\n\n263\n00:13:35.350 --> 00:13:39.100\nThat's normally what we want and these\nare commented out, but if I scroll down\n\n264\n00:13:39.100 --> 00:13:44.060\nsomewhere in here they won't be\ncommented or it's just the defaults.\n\n265\n00:13:44.060 --> 00:13:46.160\nSo I might need to manipulate that.\n\n266\n00:13:46.160 --> 00:13:49.100\nI don't actually remember what\nthe defaults for Ubuntu are,\n\n267\n00:13:49.100 --> 00:13:52.530\nwe can just try it and see where\nit goes and see if it stops this.\n\n268\n00:13:52.530 --> 00:13:55.430\nBut you can uncomment these lines and\nset it and normally these\n\n269\n00:13:55.430 --> 00:13:57.840\nare the ones that you want and so\nthis is more unlikely the default here.\n\n270\n00:13:57.840 --> 00:14:01.462\nForward X11 no, Forward X11 trusted\nyes that's normally what you want.\n\n271\n00:14:01.462 --> 00:14:04.670\nAll right, you've gotta already have\nthat certificate and if you don't have\n\n272\n00:14:04.670 --> 00:14:08.900\nthe certificate you can always do like\nSSH-keyscan then point to the IP of that\n\n273\n00:14:08.900 --> 00:14:11.700\nhost and you'll download the certificate,\nadd it to your known host file.\n\n274\n00:14:11.700 --> 00:14:15.920\nWe show that in SSH show also,\ndefinitely check that one out.\n\n275\n00:14:15.920 --> 00:14:18.360\nAll right, but for\nme I shouldn't have to manipulate that.\n\n276\n00:14:18.360 --> 00:14:19.680\nSo let's find out, right?\n\n277\n00:14:19.680 --> 00:14:20.390\nSo let's test this out.\n\n278\n00:14:20.390 --> 00:14:24.262\nSo I'm gonna run SSH Now if I were\nto remote into my other system,\n\n279\n00:14:24.262 --> 00:14:28.637\nI guess I kinda need to know its IP\naddress, which I don't know offhand,\n\n280\n00:14:28.637 --> 00:14:30.314\nso let's go find that out.\n\n281\n00:14:30.314 --> 00:14:32.816\nMy, whoops, I'm in Windows world,\n\n282\n00:14:32.816 --> 00:14:37.790\nmy IP is 10.1.230.118 so\nthat's the IP of my server.\n\n283\n00:14:37.790 --> 00:14:42.270\nSo if I just wanted to ssh to it,\nI would do something like this.\n\n284\n00:14:42.270 --> 00:14:47.270\nSSH depezet@10.1.230.118 and\nif I do that, I'm gonna connect over and\n\n285\n00:14:47.270 --> 00:14:51.540\nI didn't know the certificate so\nI'm gonna accept that, so\n\n286\n00:14:51.540 --> 00:14:53.940\nit gets added to my cache file.\n\n287\n00:14:55.100 --> 00:14:56.690\nAnd now I'll go ahead and log in.\n\n288\n00:14:56.690 --> 00:14:59.840\nAnd now I'm logged in on\nthat CentOS server, right?\n\n289\n00:14:59.840 --> 00:15:05.480\nIf I do a check here,\nsee how I'm on my Ubuntu machine,\n\n290\n00:15:05.480 --> 00:15:08.580\nbut I'm SSH, if that's a central S box.\n\n291\n00:15:08.580 --> 00:15:11.140\nI'm connected to it, I'm in there,\nand now I'm working with it.\n\n292\n00:15:11.140 --> 00:15:13.103\nThis is a normal SSH session, right?\n\n293\n00:15:13.103 --> 00:15:17.630\nI'm gonna exit, now I'm gonna\ntake that same exact command, and\n\n294\n00:15:17.630 --> 00:15:21.860\nthis time I'm just going to add -y,\nall right?\n\n295\n00:15:21.860 --> 00:15:27.440\nDash y, that's the option to tell SSH\nhey remote to the other server and\n\n296\n00:15:27.440 --> 00:15:30.020\ndo X forwarding, okay.\n\n297\n00:15:30.020 --> 00:15:34.240\nThat means it's gonna connect up and\nI'm not gonna notice much difference, see?\n\n298\n00:15:34.240 --> 00:15:39.300\nI'm logged in just like I was before,\nbut X forwarding is turned on also.\n\n299\n00:15:39.300 --> 00:15:40.620\nRight now, how do I know it's turned on?\n\n300\n00:15:40.620 --> 00:15:42.200\nLet me show you a quick way to check.\n\n301\n00:15:42.200 --> 00:15:44.300\nI'm gonna get out of that shell, there.\n\n302\n00:15:44.300 --> 00:15:47.259\nSo, now I'm back on my Ubuntu box and\n\n303\n00:15:47.259 --> 00:15:51.990\nI'm gonna run echo dollar sign display,\nall right?\n\n304\n00:15:51.990 --> 00:15:55.830\nDisplay is a variable that stores where\nour programs are gonna show up when we\n\n305\n00:15:55.830 --> 00:15:56.374\nrun them.\n\n306\n00:15:56.374 --> 00:15:59.328\nAnd by default you expect\nto see colon zero.\n\n307\n00:15:59.328 --> 00:16:03.927\nThat's the current display, right,\nwhat I'm on here inside of X Windows.\n\n308\n00:16:03.927 --> 00:16:07.562\nWhen I ssh into that other host, and\n\n309\n00:16:07.562 --> 00:16:13.170\nI'm connected over there,\nI can run echo $display.\n\n310\n00:16:13.170 --> 00:16:17.600\nSee what it's set to, local:10.0.\n\n311\n00:16:17.600 --> 00:16:21.750\nThat's how I know that when I run an app,\nit's not gonna run on colon zero,\n\n312\n00:16:21.750 --> 00:16:25.210\nit's not gonna run on that machine's\nscreen, it's gonna hit the tunnel.\n\n313\n00:16:25.210 --> 00:16:27.840\nAnd my tunnel's been assigned a ten, yours\nmight be assigned a different number,\n\n314\n00:16:27.840 --> 00:16:31.430\nand it's gonna send it back\nover here to me to run here.\n\n315\n00:16:31.430 --> 00:16:32.860\nSo now I can start to run applications.\n\n316\n00:16:33.970 --> 00:16:35.890\nLet's make sure that I'm picking\nan application I don't have.\n\n317\n00:16:36.980 --> 00:16:40.280\nSo I'm just gonna do\nlike a whereis wireshark.\n\n318\n00:16:40.280 --> 00:16:43.620\nSo here are my Ubuntu Box,\nI don't have virus shark.\n\n319\n00:16:43.620 --> 00:16:46.316\nYou know I could go a little\nbit more hard core.\n\n320\n00:16:46.316 --> 00:16:51.080\nI'm going to look for any file\ncalled wireshark on my hard drive.\n\n321\n00:16:51.080 --> 00:16:53.370\nAnd let me just, I'm going to\nget some permission denied, so\n\n322\n00:16:53.370 --> 00:16:56.650\nI'm redirect that to /dev/null.\n\n323\n00:16:56.650 --> 00:16:57.550\nAnd we'll run that.\n\n324\n00:16:57.550 --> 00:17:00.260\nSo it's searching my hard drive for\na command called wireshark.\n\n325\n00:17:00.260 --> 00:17:03.225\nNow I know I don't have wire\nshark installed on here, so\n\n326\n00:17:03.225 --> 00:17:05.887\nI get nothing back,\nwireshark is not installed.\n\n327\n00:17:05.887 --> 00:17:12.367\nBut if I remote to the other host,\nand get connected over there,\n\n328\n00:17:12.367 --> 00:17:17.890\nI can do a find and look for\nanything called wireshark.\n\n329\n00:17:20.700 --> 00:17:24.300\nAll right, and, oh,\nhelps if I spell it right.\n\n330\n00:17:24.300 --> 00:17:27.900\nNot gonna find it that way, there we go,\nand sure enough its got it.\n\n331\n00:17:27.900 --> 00:17:30.600\nWireshark is installed on my CentOS 7 box.\n\n332\n00:17:30.600 --> 00:17:33.080\nAnd so here I can just run wireshark and\n\n333\n00:17:33.080 --> 00:17:36.120\nthen I'm gonna throw an ampersand\non it because that says, run it and\n\n334\n00:17:36.120 --> 00:17:39.200\nthen give me my prompt back because I\nmight want to run more then one program.\n\n335\n00:17:40.320 --> 00:17:44.020\nAnd I can run that and\nnow its launching wireshark and\n\n336\n00:17:44.020 --> 00:17:46.830\nits launching it via that SSH tunnel.\n\n337\n00:17:46.830 --> 00:17:50.195\nSo I have an encrypted tunnel\nbetween me and my CentOS 7 box.\n\n338\n00:17:50.195 --> 00:17:55.190\nWireshark is running on the CentOS 7 box,\nbut the display is being\n\n339\n00:17:55.190 --> 00:17:59.140\npresented right here on my Ubuntu box, and\nI can see it and I can work with it and\n\n340\n00:17:59.140 --> 00:18:03.810\nI can start to do things all right here\neven though it's running somewhere else.\n\n341\n00:18:03.810 --> 00:18:08.040\nAnd if I switch over to my CentOS 7 box,\neverything looks normal, right?\n\n342\n00:18:08.040 --> 00:18:10.050\nYeah, I'm just kind of sitting here.\n\n343\n00:18:10.050 --> 00:18:14.710\nBut if I'm an admin and I get in here and\nI start kind of poking around and\n\n344\n00:18:14.710 --> 00:18:20.410\ndo a ps aux, and I start to look at my\nprocesses, I will find that wireshark\n\n345\n00:18:20.410 --> 00:18:24.090\nprocess in there somewhere, probably grep\nthis otherwise I'm never gonna find it.\n\n346\n00:18:24.090 --> 00:18:24.980\n>> It's right there actually, I see it.\n\n347\n00:18:24.980 --> 00:18:25.550\n>> Oh, you see it?\n\n348\n00:18:25.550 --> 00:18:26.180\n>> Yep, right there.\n\n349\n00:18:26.180 --> 00:18:27.180\n>> Oh, right there!\n\n350\n00:18:27.180 --> 00:18:28.190\nRight in front of me.\n\n351\n00:18:28.190 --> 00:18:33.310\nSo there I can see dpezet is running it,\nbut look where I'm running it from.\n\n352\n00:18:33.310 --> 00:18:36.340\nIt kinda shows all this stuff,\nwe got this pts/0, and\n\n353\n00:18:36.340 --> 00:18:40.060\nthat's what's letting me know this is\nrunning from an SSH session, right,\n\n354\n00:18:40.060 --> 00:18:44.320\nthat I'm running it kind of remotely,\nand I'm connected up and running that.\n\n355\n00:18:44.320 --> 00:18:46.000\nSo we can spot that.\n\n356\n00:18:46.000 --> 00:18:48.245\nIt is running here on the server, but\n\n357\n00:18:48.245 --> 00:18:51.675\ninstead of representing on this display,\nit's redirected to this one.\n\n358\n00:18:51.675 --> 00:18:53.125\nAnd now I can run that application.\n\n359\n00:18:53.125 --> 00:18:57.235\nSo, imagine you've got that lab\nat a school of 50 computers,\n\n360\n00:18:57.235 --> 00:18:59.815\nI don't have to install\nthe program 50 times, we can just\n\n361\n00:18:59.815 --> 00:19:04.165\nwrite a script that runs it this way, and\nnow it runs on each of the 50 machines,\n\n362\n00:19:04.165 --> 00:19:08.140\nand if I want to upgrade the app I just\ngo to that one server and I upgrade it.\n\n363\n00:19:08.140 --> 00:19:10.530\nAnd all the 50 other machines,\nthey're just running it from here, so\n\n364\n00:19:10.530 --> 00:19:13.030\nthey get the upgrade,\nmakes administration a lot easier.\n\n365\n00:19:13.030 --> 00:19:16.050\n>> I know, Don, I would think that\nthis would be a great solution for\n\n366\n00:19:16.050 --> 00:19:19.750\nlicensing issues, maybe, if I had\none license for a piece of software.\n\n367\n00:19:19.750 --> 00:19:22.360\nI know we're running Linux, and\nthat's obviously gonna have a lot of\n\n368\n00:19:22.360 --> 00:19:26.890\nopen source licensing, but every now and\nthen you do run into a licensing issue.\n\n369\n00:19:26.890 --> 00:19:30.615\nI could run it on the server and\nthen have my 50 little, you know,\n\n370\n00:19:30.615 --> 00:19:33.460\neasy-to-use terminals there and\neverybody can log in.\n\n371\n00:19:33.460 --> 00:19:34.870\nIt just uses one license, right?\n\n372\n00:19:34.870 --> 00:19:37.140\n>> Well you do have to be careful\nabout the licensing model.\n\n373\n00:19:37.140 --> 00:19:39.430\nIf it's licensed per install,\nyou're absolutely right,\n\n374\n00:19:39.430 --> 00:19:41.470\nbecause you've only installed it once.\n\n375\n00:19:41.470 --> 00:19:45.120\nBut a lot of times, they license\nper user or by concurrent process.\n\n376\n00:19:45.120 --> 00:19:47.320\nAnd so that,\nthings start to get a little iffy there.\n\n377\n00:19:47.320 --> 00:19:49.130\nSo, just make sure you\nread your licensing, but\n\n378\n00:19:49.130 --> 00:19:52.120\nyou're right it is one install, and\nthat does make life a little easier.\n\n379\n00:19:52.120 --> 00:19:54.585\nIt is actually running from\nthat server you just run.\n\n380\n00:19:54.585 --> 00:19:56.865\nMore than copy, so I likey.\n\n381\n00:19:56.865 --> 00:19:58.985\nAnd I did it with wireshark here.\n\n382\n00:19:58.985 --> 00:20:02.115\nYou can do it with any of\nthe x applications, right?\n\n383\n00:20:02.115 --> 00:20:04.385\nBecause when the application\nruns on the back end,\n\n384\n00:20:04.385 --> 00:20:08.260\nit's got a standard way that it's talking\nto x, to give it the graphics to display.\n\n385\n00:20:08.260 --> 00:20:11.320\nAnd that's just being forwarded\nover here to my local x server.\n\n386\n00:20:11.320 --> 00:20:13.750\nAnd when I run it,\nit looks like a native app.\n\n387\n00:20:13.750 --> 00:20:14.760\nYou know your end user,\n\n388\n00:20:14.760 --> 00:20:18.880\nonce they're in here, they don't\neven know necessarily that this is\n\n389\n00:20:18.880 --> 00:20:23.660\nnot a native local app running on\nthis system after it's been launched.\n\n390\n00:20:23.660 --> 00:20:28.430\nAnd because I ran it in a shell like this,\nI could continue to run more,\n\n391\n00:20:28.430 --> 00:20:31.980\nand I could have ten, twenty different\napps that were all up and running and\n\n392\n00:20:31.980 --> 00:20:33.700\nrunning from that remote system.\n\n393\n00:20:33.700 --> 00:20:37.270\nI could take apps that I do have locally,\nlike Firefox, and\n\n394\n00:20:37.270 --> 00:20:40.030\nI could fire that one up and\nit's gonna launch Firefox.\n\n395\n00:20:40.030 --> 00:20:44.490\nNow, I've got Firefox locally,\nbut here I'm running it remotely.\n\n396\n00:20:44.490 --> 00:20:46.730\nSo I could have them side by side even.\n\n397\n00:20:46.730 --> 00:20:50.530\nAlthough this one,\njust trying to recover my tabs.\n\n398\n00:20:50.530 --> 00:20:52.860\nLet's just go to CNN.com here.\n\n399\n00:20:52.860 --> 00:20:55.070\nSo, I'll fire this up.\n\n400\n00:20:55.070 --> 00:20:58.530\nAnd here's Firefox running remotely,\nand then I can come over here and\n\n401\n00:20:58.530 --> 00:21:02.210\nI can launch another copy of Firefox and\nI can run it locally,\n\n402\n00:21:03.440 --> 00:21:08.270\ninstead of running it via that\nremote session, and here we go.\n\n403\n00:21:08.270 --> 00:21:11.850\nSo this is where it does start to\nget a little bit confusing in that,\n\n404\n00:21:11.850 --> 00:21:16.170\nwhat if I've got one that's remote and\none that's local?\n\n405\n00:21:16.170 --> 00:21:19.680\nWell, when you look at them, I guess\nI should've picked a better web page,\n\n406\n00:21:19.680 --> 00:21:21.650\nmaybe something that's not full of junk.\n\n407\n00:21:21.650 --> 00:21:24.100\nLet's go to ITProTV.\n\n408\n00:21:24.100 --> 00:21:25.120\n>> Best page on the web.\n\n409\n00:21:25.120 --> 00:21:26.080\n>> That's right.\n\n410\n00:21:26.080 --> 00:21:28.640\nSo when I go to these pages,\nthe one on the left is remote,\n\n411\n00:21:28.640 --> 00:21:29.670\nthe one on the right is local.\n\n412\n00:21:29.670 --> 00:21:31.430\nAnd I know that because\nI'm the one who ran it,\n\n413\n00:21:31.430 --> 00:21:33.240\nand I remember the order\nthat I ran them in.\n\n414\n00:21:33.240 --> 00:21:36.350\nBut now that they've been run,\ncan you tell the difference?\n\n415\n00:21:37.370 --> 00:21:38.250\nI can't.\nYou know so\n\n416\n00:21:38.250 --> 00:21:41.030\nit's very difficult to figure\nout whether it is even remote\n\n417\n00:21:41.030 --> 00:21:42.280\ncompletely mastered in the end user.\n\n418\n00:21:42.280 --> 00:21:43.680\nIt's just really powerful stuff.\n\n419\n00:21:43.680 --> 00:21:44.580\n>> Very cool.\n\n420\n00:21:44.580 --> 00:21:47.820\nNow Don one of our users in the chat room\nthere is asking a really good question.\n\n421\n00:21:47.820 --> 00:21:51.380\nAnd we might have touched on this when we\nwere talking about the IP tables firewall,\n\n422\n00:21:51.380 --> 00:21:53.880\nbut we need to open any specific ports for\nthis?\n\n423\n00:21:53.880 --> 00:21:56.160\nOr are, and if so, what are those ports?\n\n424\n00:21:56.160 --> 00:22:00.690\n>> All right, well, XWindows does have\nits own ports, and I don't know them.\n\n425\n00:22:00.690 --> 00:22:03.820\nAnd the reason I don't know them is\nthat its a really bad idea to open up\n\n426\n00:22:03.820 --> 00:22:05.770\ndirect connections to XWindows.\n\n427\n00:22:05.770 --> 00:22:08.420\nYou wanna couple it with SSH,\nwhich is what I just did right there,\n\n428\n00:22:08.420 --> 00:22:09.380\nthe SSH tunnel.\n\n429\n00:22:09.380 --> 00:22:11.430\nSo at the end of the day, TCP port 22.\n\n430\n00:22:11.430 --> 00:22:13.810\n>> That's it.\n>> That's the only thing you need to open\n\n431\n00:22:13.810 --> 00:22:15.580\nand almost every Linux distro has that.\n\n432\n00:22:15.580 --> 00:22:18.870\nThey've got SSH enabled,\nand TCP port 22 is open.\n\n433\n00:22:18.870 --> 00:22:20.680\nBut if it's closed that\nthe one you need to open.\n\n434\n00:22:20.680 --> 00:22:23.210\nAll this stuff here that I'm doing\nin XWindows, yeah there's different\n\n435\n00:22:23.210 --> 00:22:26.710\nports that are involved, but\nthey're all being tunneled over port 22.\n\n436\n00:22:26.710 --> 00:22:28.760\nThat's the only one you\nneed on your firewall.\n\n437\n00:22:28.760 --> 00:22:32.080\nAnd I've gotten to the point where\nI don't even remember the XWindow\n\n438\n00:22:32.080 --> 00:22:35.380\nports cuz I would never dream\nof exposing those directly, and\n\n439\n00:22:35.380 --> 00:22:38.110\ninstead it all goes over XWindows.\n\n440\n00:22:38.110 --> 00:22:43.230\nNow if you were setting up a lab and it\nwas all going to be local traffic, well,\n\n441\n00:22:43.230 --> 00:22:46.670\nmaybe you don't want that overhead that\nSSH creates, you want to eliminate that.\n\n442\n00:22:46.670 --> 00:22:51.470\nAnd for that, I'd have to Google that one\nagain to find out what ports XWindows uses\n\n443\n00:22:51.470 --> 00:22:54.700\nand make sure to open those, and I say\nuses, it actually does use more than one\n\n444\n00:22:54.700 --> 00:22:58.760\npart, because of the way that it handles\nscreens, so you'd have to open those, but\n\n445\n00:22:58.760 --> 00:23:00.310\nyeah, you could do that.\n\n446\n00:23:00.310 --> 00:23:01.400\n>> Very cool.\n\n447\n00:23:01.400 --> 00:23:03.850\nNow this is a very convenient thing.\n\n448\n00:23:03.850 --> 00:23:08.431\nI mean I'll be honest here, I did not\nknow we could do this with Linux.\n\n449\n00:23:08.431 --> 00:23:11.460\n>> [LAUGH]\n>> This is one of the coolest features\n\n450\n00:23:11.460 --> 00:23:14.160\nI'm probably gonna be\nswitching back to Linux.\n\n451\n00:23:14.160 --> 00:23:15.460\n[LAUGH]\n>> People are always excited\n\n452\n00:23:15.460 --> 00:23:18.380\nabout this you know, and maybe it's not\na matter of switching back to Linux,\n\n453\n00:23:18.380 --> 00:23:21.530\nmaybe sometimes you need Linux but\nmost of the time you need Mac OS or\n\n454\n00:23:21.530 --> 00:23:23.110\nmost of the time you need Windows.\n\n455\n00:23:23.110 --> 00:23:26.890\nwell you could have your native\napplications running in a Linux VM,\n\n456\n00:23:26.890 --> 00:23:31.060\nand you could launch them in a native\nwindow in your main desktop OS.\n\n457\n00:23:31.060 --> 00:23:34.030\nYou could have Windows or\nMac OS running those Linux apps.\n\n458\n00:23:34.030 --> 00:23:37.970\nSo you could certainly do that, and\nnow you're not switching between VMs,\n\n459\n00:23:37.970 --> 00:23:40.120\nthere just windows sitting\nright there in one desktop,\n\n460\n00:23:40.120 --> 00:23:41.670\nso that's kind of the power of it.\n\n461\n00:23:41.670 --> 00:23:42.750\n>> I like it.\nI like it a lot.\n\n462\n00:23:42.750 --> 00:23:44.720\nHopefully you guys out\nthere are enjoying this.\n\n463\n00:23:44.720 --> 00:23:48.260\nThis is one of the coolest features\nI've ever seen on just about\n\n464\n00:23:48.260 --> 00:23:49.930\nany operating system.\n\n465\n00:23:49.930 --> 00:23:51.780\nJust super cool.\n\n466\n00:23:51.780 --> 00:23:52.355\nI'm flabbergasted.\n\n467\n00:23:52.355 --> 00:23:53.569\n[LAUGH]\n>> You know,\n\n468\n00:23:53.569 --> 00:23:56.655\nanother good question there in\nthe chatroom was I launched a web browser,\n\n469\n00:23:56.655 --> 00:23:57.915\nI launched Firefox, right?\n\n470\n00:23:57.915 --> 00:24:00.571\nAnd the question in the chatroom was well,\nwhat about DNS hookups,\n\n471\n00:24:00.571 --> 00:24:01.698\nwhere are those happening?\n\n472\n00:24:01.698 --> 00:24:06.960\nWell, it's Firefox doing the DNS hookup\nand Firefox is running from that server.\n\n473\n00:24:06.960 --> 00:24:08.790\nSo that's where it's all happening.\n\n474\n00:24:08.790 --> 00:24:10.250\nI don't even have to\nhave a default gateway or\n\n475\n00:24:10.250 --> 00:24:14.110\nDNS servers defined on my client because\neverything's happening from the server.\n\n476\n00:24:14.110 --> 00:24:17.660\nSo you might have a web filtering software\npackage installed on that server and\n\n477\n00:24:17.660 --> 00:24:20.430\nthat's all gonna take effect cuz\nit's all happening over there.\n\n478\n00:24:20.430 --> 00:24:23.090\nAll I'm seeing,\nthink of this as like a television set.\n\n479\n00:24:23.090 --> 00:24:26.490\nI'm just watching stuff that's happening\non a different server somewhere else.\n\n480\n00:24:26.490 --> 00:24:28.810\n100% of it is happening\non that other server.\n\n481\n00:24:28.810 --> 00:24:32.440\n>> Yeah, and that's a very important thing\nto understand, is what's going on here is\n\n482\n00:24:32.440 --> 00:24:35.520\nthat, like Don said, everything\nis happening on the other server.\n\n483\n00:24:35.520 --> 00:24:39.840\nSo let's say you fired up that Wireshark\nand you want use it to sniff network,\n\n484\n00:24:39.840 --> 00:24:43.910\nyou're gonna be using that server's\nEthernet interfaces to sniff on.\n\n485\n00:24:43.910 --> 00:24:47.400\nIts not gonna be your local machine,\nyour not gonna be looking at local files.\n\n486\n00:24:47.400 --> 00:24:52.051\nJust think of it as a normal SSH\nconnection really like SSHed into this\n\n487\n00:24:52.051 --> 00:24:54.950\njust normal shell prompt and I didn't LS.\n\n488\n00:24:54.950 --> 00:24:56.372\nIts not gonna show me my files,\n\n489\n00:24:56.372 --> 00:24:59.530\nits gonna show me its files\nbecause I'm remotely connected.\n\n490\n00:24:59.530 --> 00:25:03.820\nSame concept, we're just looking at\ngraphics instead of a shell prompt.\n\n491\n00:25:03.820 --> 00:25:05.580\nAnd that's pretty cool.\n\n492\n00:25:05.580 --> 00:25:08.850\n>> And then at the end of the day when\nyou're done you close your windows down.\n\n493\n00:25:08.850 --> 00:25:11.230\nSo I close these applications,\nget them out there.\n\n494\n00:25:11.230 --> 00:25:13.950\nAnd then we just terminate the shell.\n\n495\n00:25:13.950 --> 00:25:17.050\nSo here my shell actually got some\nlittle information coming back.\n\n496\n00:25:17.050 --> 00:25:19.140\nOh, this must be tied to that\nFirefox error that I saw.\n\n497\n00:25:19.140 --> 00:25:20.980\nI'll ignore that error then.\n\n498\n00:25:20.980 --> 00:25:22.900\n[LAUGH] We can ignore old Firefox.\n\n499\n00:25:22.900 --> 00:25:25.634\nBut when you're done at the end of\nthe day, you close your Windows and\n\n500\n00:25:25.634 --> 00:25:26.740\nthen you get out of SSH.\n\n501\n00:25:26.740 --> 00:25:31.200\nNow, normally when I get out of SSH,\nI just type exit and it knocks right out.\n\n502\n00:25:31.200 --> 00:25:34.440\nThis time when I run,\nsee how it's taking a little while?\n\n503\n00:25:34.440 --> 00:25:36.970\nIt's gotta close down all\nthose X tunnels that it made.\n\n504\n00:25:36.970 --> 00:25:38.920\nAnd so it's closing each one of those,\n\n505\n00:25:38.920 --> 00:25:42.290\nand it'll take a little longer to\nclose that SSH session than normal.\n\n506\n00:25:42.290 --> 00:25:43.120\nAnd that's gonna close down.\n\n507\n00:25:43.120 --> 00:25:45.187\nIf I'd done this while\nthe Windows were open,\n\n508\n00:25:45.187 --> 00:25:48.536\nthe windows would be disappearing right\nnow, I closed mine ahead of mine.\n\n509\n00:25:48.536 --> 00:25:49.970\nJust kind of use that.\n\n510\n00:25:49.970 --> 00:25:52.640\nBut bam, that's it,\nit goes away, problem's gone, and\n\n511\n00:25:52.640 --> 00:25:55.530\nnow you're back to just running stuff\nright here from your own machine.\n\n512\n00:25:55.530 --> 00:25:57.780\n>> Very cool stuff, Tom, very cool stuff.\n\n513\n00:25:57.780 --> 00:25:58.490\nThat being said,\n\n514\n00:25:58.490 --> 00:26:03.210\nhave we hopefully you guys have learned\nsomething here today that is going to\n\n515\n00:26:03.210 --> 00:26:07.365\nhelp you do a lot of neat stuff and\nmaybe even impress your friends, right?\n\n516\n00:26:07.365 --> 00:26:10.462\n[LAUGH] I know it impressed me,\nthat's the good stuff.\n\n517\n00:26:10.462 --> 00:26:13.110\nAll right Don,\nthe end of this show, though huh?\n\n518\n00:26:13.110 --> 00:26:14.490\nWe've finally wrapped it up?\n\n519\n00:26:14.490 --> 00:26:15.770\n>> Yep, let's wrap this one up.\n\n520\n00:26:15.770 --> 00:26:19.100\nAnd then make sure to stay tuned, we got\na little bit more on X Windows to go into,\n\n521\n00:26:19.100 --> 00:26:21.550\nwe're gonna tackle accessibility\nfeatures that are there, right?\n\n522\n00:26:21.550 --> 00:26:23.330\nWe need to make sure we know that for\nthe exam.\n\n523\n00:26:23.330 --> 00:26:27.350\nAnd then we'll switch back to the nice\ncomfort of the command line interface as\n\n524\n00:26:27.350 --> 00:26:29.300\nwe move through the rest\nof the exam objectives.\n\n525\n00:26:29.300 --> 00:26:30.020\n>> Awesome stuff.\n\n526\n00:26:30.020 --> 00:26:33.180\nAll right everybody out there,\nI hope you've enjoyed this episode.\n\n527\n00:26:33.180 --> 00:26:34.640\nWe really had a good time making it.\n\n528\n00:26:34.640 --> 00:26:37.110\nThat being said,\nit is time to sign off for ITProTV.\n\n529\n00:26:37.110 --> 00:26:39.850\nI've been your host Daniel Lowry,\n>> And I'm Don Pezet.\n\n530\n00:26:39.850 --> 00:26:41.240\n>> And we'll see you next time.\n\n531\n00:26:41.240 --> 00:26:47.150\n[MUSIC]\n\n",
          "vimeoId": "133030651"
        },
        {
          "description": null,
          "length": "1058",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-3-x_accessability-070715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-3-x_accessability-070715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-3-x_accessability-070715-1-sm.jpg",
          "title": "X Accessibility",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.305\n[MUSIC]\n\n2\n00:00:10.305 --> 00:00:15.280\nAll right, greetings everyone and welcome\nto another great episode of ITProTv.\n\n3\n00:00:15.280 --> 00:00:19.025\nI'll be your host Daniel Lowry and\nhere with me today is the man, the myth,\n\n4\n00:00:19.025 --> 00:00:21.766\nthe legend that is Don Pezet\nhow's it going today Don?\n\n5\n00:00:21.766 --> 00:00:23.571\n>> You know when you set up\nthese expectations Daniel,\n\n6\n00:00:23.571 --> 00:00:24.604\nit's hard to live up to them.\n\n7\n00:00:24.604 --> 00:00:29.573\n>> I like to watch you crumble [LAUGH]\n>> Here's my failure captured on video.\n\n8\n00:00:29.573 --> 00:00:34.206\nWell, I'm excited to be here we're jumping\nback into another episode of Linux Plus,\n\n9\n00:00:34.206 --> 00:00:38.330\nand today we're gonna be taking a look\nat the accessibility features found in\n\n10\n00:00:38.330 --> 00:00:41.610\nthe X Windows graphical user interface for\nLinux.\n\n11\n00:00:41.610 --> 00:00:44.961\nNow accessibility is kind of\na generic umbrella term for\n\n12\n00:00:44.961 --> 00:00:49.178\nany kind of assistive technology\nthat helps somebody use a computer.\n\n13\n00:00:49.178 --> 00:00:52.970\nYou know when people design software,\nand Linux is no exception to this,\n\n14\n00:00:52.970 --> 00:00:55.734\nthey design it for\nthe most common use case scenario.\n\n15\n00:00:55.734 --> 00:01:00.615\nSo you expect somebody to have\nfull use of motor skills, visual,\n\n16\n00:01:00.615 --> 00:01:05.587\nauditory skills, have ten fingers,\njust normal typical usage,\n\n17\n00:01:05.587 --> 00:01:10.300\nbut not everybody fits that\nstandard use case scenario.\n\n18\n00:01:10.300 --> 00:01:14.230\nThere are many people out there,\nan unfortunate large amount of people,\n\n19\n00:01:14.230 --> 00:01:17.440\nthat aren't able to use\ncomputers the normal method.\n\n20\n00:01:17.440 --> 00:01:19.720\nFor example,\nyou might be visually impaired, and\n\n21\n00:01:19.720 --> 00:01:23.520\nso does it matter that you've got\na nice screen arrangement of icons,\n\n22\n00:01:23.520 --> 00:01:27.890\nif you can't see them right, or\nyou might have auditory issues, and\n\n23\n00:01:27.890 --> 00:01:31.440\nthat sound, the warning bell that\nlet's you know you just got an email.\n\n24\n00:01:31.440 --> 00:01:34.308\nThat's not very effective anymore,\nbecause you can't hear that.\n\n25\n00:01:34.308 --> 00:01:37.593\nIf you have Parkinson's Disease,\nwhich is really,\n\n26\n00:01:37.593 --> 00:01:40.526\nits unfortunate how\ncommon that's becoming.\n\n27\n00:01:40.526 --> 00:01:44.659\nParkinson's disease can make it very\ndifficult to type on a keyboard, and so\n\n28\n00:01:44.659 --> 00:01:48.931\nfor people like that, you don't want them\njust not to be able to use a computer.\n\n29\n00:01:48.931 --> 00:01:53.036\nYou just need them to be able to use the\ncomputer a little bit differently, and so\n\n30\n00:01:53.036 --> 00:01:57.204\nthe X Windows user and interface has a\nnumber of different add-ons that make that\n\n31\n00:01:57.204 --> 00:02:00.635\npossible, that kind of facilitate\nbeing able to use the system for\n\n32\n00:02:00.635 --> 00:02:02.437\nnonstandard use case scenarios.\n\n33\n00:02:02.437 --> 00:02:07.761\nNow, as an administrator, you may not\nneed these technologies yourself right,\n\n34\n00:02:07.761 --> 00:02:09.857\nbut you need to be aware of them.\n\n35\n00:02:09.857 --> 00:02:13.073\nSo that as you work with other employees,\nand people in your company,\n\n36\n00:02:13.073 --> 00:02:16.359\nthat you're able to help them get\nthe full benefit out of the computer.\n\n37\n00:02:16.359 --> 00:02:20.663\nAnd let me tell you guys out of all the\nwork that I've done, there is nothing more\n\n38\n00:02:20.663 --> 00:02:24.003\nrewarding than helping somebody\nto be able to use a computer,\n\n39\n00:02:24.003 --> 00:02:28.177\nto be able to reach out there and connect\nto services that we take for granted,\n\n40\n00:02:28.177 --> 00:02:30.320\nthat they have to work a lot harder for.\n\n41\n00:02:30.320 --> 00:02:32.780\nAnd so anything that we can\ndo to make that easier, or\n\n42\n00:02:32.780 --> 00:02:36.150\njust to facilitate that in general it's\nsomething we really should do, right.\n\n43\n00:02:36.150 --> 00:02:39.860\nSo it's a great thing and it is something\nthat even if you don't care about it,\n\n44\n00:02:39.860 --> 00:02:43.424\nyou still have to know for the exams,\nso you wanna learn one way or another.\n\n45\n00:02:43.424 --> 00:02:47.614\nBut, as a good administrator, you should\nalways be sensitive of everybody's needs,\n\n46\n00:02:47.614 --> 00:02:51.027\nand know that not everybody uses\nthe computer the same way, all right.\n\n47\n00:02:51.027 --> 00:02:55.693\nNow, regardless of whether you're running\nthe Gnome graphical user interface, or\n\n48\n00:02:55.693 --> 00:03:00.290\nKDE, or Enlightenment, or any of\nthe number of UIs that are out there.\n\n49\n00:03:00.290 --> 00:03:03.970\nThey almost all have accessibilities\nfeatures built in, and\n\n50\n00:03:03.970 --> 00:03:06.660\nsometimes they're really obvious,\nsometimes they're kind of hidden away.\n\n51\n00:03:06.660 --> 00:03:11.940\nLet me show you as an example here if\nI take, let me take a CentOS 6 system.\n\n52\n00:03:11.940 --> 00:03:15.140\nSo here I've got a CentOS 6 system,\nand if I log out.\n\n53\n00:03:15.140 --> 00:03:16.240\nLet me just log out of this.\n\n54\n00:03:17.850 --> 00:03:21.830\nWhen I'm at the log in screen for\nCentOS 6, so here's my log in screen, and\n\n55\n00:03:21.830 --> 00:03:25.076\nI can see my name and\nother users I can pick from and so on.\n\n56\n00:03:25.076 --> 00:03:31.040\nDown here in my little taskbar,\nsee that little person?\n\n57\n00:03:31.040 --> 00:03:33.490\nIt's a white stick\nfigure in a blue circle.\n\n58\n00:03:33.490 --> 00:03:35.915\nThat's the accessibility button, and\n\n59\n00:03:35.915 --> 00:03:40.703\nif I click on that I get this nice little\npopup of universal access preferences.\n\n60\n00:03:40.703 --> 00:03:44.589\nThese are tools that I can use to\nfacilitate the use of the computer if I\n\n61\n00:03:44.589 --> 00:03:45.320\nneed this.\n\n62\n00:03:45.320 --> 00:03:49.860\nNow if someone is, say visually impaired,\nand they're going to use this system,\n\n63\n00:03:49.860 --> 00:03:51.420\nare they gonna see that button?\n\n64\n00:03:51.420 --> 00:03:51.950\nNo.\n\n65\n00:03:51.950 --> 00:03:55.080\nAre they gonna see these\nentries here on screen?\n\n66\n00:03:55.080 --> 00:03:57.180\nNo, and that's where as an administrator,\n\n67\n00:03:57.180 --> 00:04:00.270\nit's up to us to make sure that\ncomputer is prepared for them.\n\n68\n00:04:00.270 --> 00:04:04.180\nSo they say hey, I need a computer and I\nneed it to support a screen reader, right.\n\n69\n00:04:04.180 --> 00:04:06.940\nI need it to read out loud,\nwhat's on the screen so\n\n70\n00:04:06.940 --> 00:04:08.990\nI can hear it, instead of seeing it.\n\n71\n00:04:08.990 --> 00:04:11.490\nWell, we just need to turn that on and\nyou'll see the option right here,\n\n72\n00:04:11.490 --> 00:04:12.770\nview screen reader.\n\n73\n00:04:12.770 --> 00:04:16.927\nAnd if we turn that on now, when something\nappears on the screen it's not just,\n\n74\n00:04:16.927 --> 00:04:19.795\nsomething that we can't see and\nthat's the end of it.\n\n75\n00:04:19.795 --> 00:04:23.461\nIt's actually gonna read it out loud and\nlet us know, and mine's thinking.\n\n76\n00:04:23.461 --> 00:04:27.185\nSometimes it has to download some voices\nto get ready, and enable other systems, so\n\n77\n00:04:27.185 --> 00:04:28.760\nit's gonna kind of pause.\n\n78\n00:04:28.760 --> 00:04:33.680\nBut you'll see each of these provides\nsome different kind of functionality, and\n\n79\n00:04:33.680 --> 00:04:36.580\nthat's going to be\nenabling that to happen.\n\n80\n00:04:36.580 --> 00:04:39.100\nI might have my speakers set wrong\ncuz I'm not actually hearing it.\n\n81\n00:04:39.100 --> 00:04:42.070\nNormally once the screenreader's on,\nyou actually start to hear it.\n\n82\n00:04:42.070 --> 00:04:44.830\nYou'll see things like,\nuse the on screen keyboard.\n\n83\n00:04:44.830 --> 00:04:47.420\nOkay, why would I want\nan on screen keyboard,\n\n84\n00:04:47.420 --> 00:04:49.420\nif I've got a keyboard right here?\n\n85\n00:04:49.420 --> 00:04:52.640\nWell, the keyboard that's right in front\nof you is expecting you to be able to\n\n86\n00:04:52.640 --> 00:04:54.030\npress multiple keys.\n\n87\n00:04:54.030 --> 00:04:56.810\nIt's expecting a ten fingered typer.\n\n88\n00:04:56.810 --> 00:05:01.740\nWell, if you are a quadriplegic and\nyou're using a mouth pointer to type,\n\n89\n00:05:01.740 --> 00:05:04.410\na traditional keyboard is not\nreally set up very well for that.\n\n90\n00:05:04.410 --> 00:05:07.300\nSo an on screen keyboard\nmight be easier to use,\n\n91\n00:05:07.300 --> 00:05:09.940\nor maybe you've got just mouse control and\n\n92\n00:05:09.940 --> 00:05:13.240\nnot keyboard control and you can use\na mouse to type on a non-screen keyboard.\n\n93\n00:05:13.240 --> 00:05:14.811\nYou can't use a mouse to\ntype on a physical keyboard.\n\n94\n00:05:14.811 --> 00:05:19.151\nIt's a little awkward to press the keys,\nso you've got that functionality,\n\n95\n00:05:19.151 --> 00:05:23.619\nwe can turn that on, and now I'll get\nthe on-screen keyboard to be able to type,\n\n96\n00:05:23.619 --> 00:05:27.394\nright, and that functionality\nthere is pretty handy, all right.\n\n97\n00:05:27.394 --> 00:05:30.039\nNow, let me close this one, or here,\n\n98\n00:05:30.039 --> 00:05:34.430\nwe'll just move it out of the way for\nme here, all right.\n\n99\n00:05:34.430 --> 00:05:36.780\nSo, with each of these\naccessibility options,\n\n100\n00:05:36.780 --> 00:05:40.080\nthey're all addressing\ndifferent use case scenarios.\n\n101\n00:05:40.080 --> 00:05:42.850\nFor the exam you need to familiarize\nyourself with each one, right.\n\n102\n00:05:42.850 --> 00:05:45.530\nAn on screen keyboard can help\nwith somebody whose having to do\n\n103\n00:05:45.530 --> 00:05:47.180\npoint typing, right.\n\n104\n00:05:47.180 --> 00:05:50.320\nScreen reader can help for\nsomebody whose visually impaired.\n\n105\n00:05:50.320 --> 00:05:51.880\nThe screen magnifier.\n\n106\n00:05:51.880 --> 00:05:53.750\nNow, when we talk about\nvisual impairments,\n\n107\n00:05:53.750 --> 00:05:56.120\nwe could be talking about\nfull clinical blindness.\n\n108\n00:05:56.120 --> 00:05:57.880\nThey cannot see the screen.\n\n109\n00:05:57.880 --> 00:06:01.030\nWe need auditory cues from that,\nbut it could be that\n\n110\n00:06:01.030 --> 00:06:04.190\nit's not that they're clinically blind,\nbut that they just have an impairment.\n\n111\n00:06:04.190 --> 00:06:07.860\nThey have reduced vision, tunnel vision,\nthings of that nature, and so we could use\n\n112\n00:06:07.860 --> 00:06:13.470\na screen magnifier to make portions of the\nscreen bigger, to highlight those areas\n\n113\n00:06:13.470 --> 00:06:16.970\nand make it easier to read for someone who\nmight not have the clearness of vision.\n\n114\n00:06:18.110 --> 00:06:22.380\nYou can turn on contrasting colors,\nthat makes things stand out a lot more.\n\n115\n00:06:22.380 --> 00:06:26.720\nThere's an unfortunate design, not ethic.\n\n116\n00:06:26.720 --> 00:06:27.729\nWhat is it design,\n\n117\n00:06:27.729 --> 00:06:31.715\nI don't know, something that people are\nfollowing, thanks to the fine people at\n\n118\n00:06:31.715 --> 00:06:36.640\nApple who think it's beautiful to have\nlight gray text on a white background.\n\n119\n00:06:36.640 --> 00:06:38.770\nI hate it.\nIt's the dumbest thing on the planet.\n\n120\n00:06:38.770 --> 00:06:40.630\nIt looks nice, but\nyou can't read anything.\n\n121\n00:06:40.630 --> 00:06:43.450\nSo when you choose\nenhanced contrast colors,\n\n122\n00:06:43.450 --> 00:06:46.420\nsee how it's starting to make\nthings a little more stark?\n\n123\n00:06:46.420 --> 00:06:48.670\nThe text is being set\nout a lot more clearly,\n\n124\n00:06:48.670 --> 00:06:53.290\nI've got nice black text on this brownish\nbackground now versus what I said,\n\n125\n00:06:53.290 --> 00:06:55.750\nwhich was white text on\na light blue background.\n\n126\n00:06:55.750 --> 00:06:57.880\nThat's not exactly easy to read.\n\n127\n00:06:57.880 --> 00:06:59.990\nSo that's another quick change.\n\n128\n00:06:59.990 --> 00:07:02.200\nWe can make text larger.\n\n129\n00:07:02.200 --> 00:07:06.721\nThis is kinda like the magnifier, except\nnow it's making all of my text larger.\n\n130\n00:07:06.721 --> 00:07:10.805\nYou can do keyboard shortcuts\none key at a time, all right.\n\n131\n00:07:10.805 --> 00:07:14.200\nNow I wanna put you in a scenario, right.\n\n132\n00:07:14.200 --> 00:07:18.663\nImagine you are in terminal, and\nyou wanna open up a new tab, and\n\n133\n00:07:18.663 --> 00:07:22.974\nyou've gotta do Ctrl+Shift+T\nto open up a new tab, right.\n\n134\n00:07:22.974 --> 00:07:26.656\nSo, we hit Ctrl+Shift+T and\nit opens up a new tab and terminal.\n\n135\n00:07:26.656 --> 00:07:30.436\nWell, if you've got full use of both\nhands, that works out great, but\n\n136\n00:07:30.436 --> 00:07:34.594\nif you've got one hand it's kinda hard\nto hit Ctrl+Shift+T if you contort,\n\n137\n00:07:34.594 --> 00:07:36.927\nI'm actually trying to do this right here.\n\n138\n00:07:36.927 --> 00:07:39.602\nIt's almost like playing twister, right?\n\n139\n00:07:39.602 --> 00:07:43.980\nYou spin the wheel, you hit Ctrl+Shift,\nthen you just wait to fall down.\n\n140\n00:07:43.980 --> 00:07:46.320\nIt's difficult to do, right?\n\n141\n00:07:46.320 --> 00:07:51.280\nBut if you turn on Press keyboard\nshortcuts one at a time, sticky keys,\n\n142\n00:07:51.280 --> 00:07:54.100\nyou can tap Ctrl, and let go, and\nthen you can tap Shift, and let go, and\n\n143\n00:07:54.100 --> 00:08:00.570\nthen you can tap T, and it knows when\nyou hit T to run those in combination.\n\n144\n00:08:00.570 --> 00:08:02.070\nCtrl, Shift, T all at the same time.\n\n145\n00:08:02.070 --> 00:08:07.150\nThat's really useful for people with\nParkinson's, reduced motor control,\n\n146\n00:08:07.150 --> 00:08:11.300\npeople with multiple sclerosis, there's\na number of different conditions that can\n\n147\n00:08:11.300 --> 00:08:14.330\nlead to that being a really\nuseful feature to have.\n\n148\n00:08:14.330 --> 00:08:16.920\nI know some people that have full motor\ncontrol and they like that option just cuz\n\n149\n00:08:16.920 --> 00:08:20.670\nthey're not coordinated,\n[LAUGH] so that's an option too.\n\n150\n00:08:22.010 --> 00:08:25.160\nIgnore duplicate key presses all right,\nbounce keys.\n\n151\n00:08:25.160 --> 00:08:28.280\nThis is again for somebody with reduced\nmotor control, especially Parkinson's,\n\n152\n00:08:28.280 --> 00:08:30.380\nwhere you might have-\n>> Quivering.\n\n153\n00:08:30.380 --> 00:08:31.376\n>> yeah, yeah.\n\n154\n00:08:31.376 --> 00:08:33.862\nYou go to press a letter,\nand instead of pressing T,\n\n155\n00:08:33.862 --> 00:08:35.454\nyou press T three times, right.\n\n156\n00:08:35.454 --> 00:08:40.013\nThat wasn't the plan, it just kinda\nhappened, and you can turn this on, and\n\n157\n00:08:40.013 --> 00:08:44.922\nit'll say, if we have rapid key presses in\nsuccession, to ignore them and treat it\n\n158\n00:08:44.922 --> 00:08:50.570\nas one press, and then we've got press and\nhold keys to accept them, slow keys.\n\n159\n00:08:50.570 --> 00:08:55.190\nIn other words, I don't wanna accidentally\ntap keys as I'm moving my hand around from\n\n160\n00:08:55.190 --> 00:08:59.190\nkey to key, make it where I have to hold\na key for a second before it registers.\n\n161\n00:08:59.190 --> 00:09:03.860\nNow that's gonna slow down your typing\nspeed, but you may be slowed down already\n\n162\n00:09:03.860 --> 00:09:08.270\nif you're having to constantly backspace\nto reduce mistypes, this kind of helps it.\n\n163\n00:09:08.270 --> 00:09:13.410\nAll of these are designed to improve\nthe usability in your system, and\n\n164\n00:09:13.410 --> 00:09:16.520\nget that working a little bit better for\nyou, so.\n\n165\n00:09:16.520 --> 00:09:18.660\nSo that's kind of all\npart of this process and,\n\n166\n00:09:18.660 --> 00:09:21.920\nyou know that keyboard never\ndid go away for me, did it?\n\n167\n00:09:23.080 --> 00:09:24.990\nApparently I'm gonna-\n>> You turned it on.\n\n168\n00:09:24.990 --> 00:09:25.594\n>> I turned it on.\n\n169\n00:09:25.594 --> 00:09:30.096\n[CROSSTALK]\n>> I've forgotten how to get rid of this\n\n170\n00:09:30.096 --> 00:09:32.710\nthing, it's, oh, there we go!\n\n171\n00:09:32.710 --> 00:09:33.790\n>> There ya go!\n>> All right, got it.\n\n172\n00:09:33.790 --> 00:09:36.050\nSo that's done right here\nfrom the login screen.\n\n173\n00:09:36.050 --> 00:09:37.900\nNow, why is it on the login screen?\n\n174\n00:09:37.900 --> 00:09:41.460\nBecause you might need some of those\naccessibility options just to log in, and\n\n175\n00:09:41.460 --> 00:09:44.352\nI showed you here on CentOS 6,\nwhich is a Gnome environment,\n\n176\n00:09:44.352 --> 00:09:47.520\nCentOS 7 is not much\ndifferent if I log out.\n\n177\n00:09:47.520 --> 00:09:52.910\nLet me just log out as this user, and\nI'll log out and I'll do it there.\n\n178\n00:09:52.910 --> 00:09:58.070\nSo you'll find in Debian, and Ubuntu,\nmost of them do have accessibility.\n\n179\n00:09:58.070 --> 00:10:00.739\nHere in CentOS 7,\nthe little icon moved up here.\n\n180\n00:10:00.739 --> 00:10:02.931\nInstead of a blue circle\nit's a white circle now, but\n\n181\n00:10:02.931 --> 00:10:05.854\nit's got that little stick figure man\nin there, and I can click on it and\n\n182\n00:10:05.854 --> 00:10:09.240\nhere's all those options that I can turn\non, high contrast, zoom, large text.\n\n183\n00:10:09.240 --> 00:10:12.480\nSame options we saw in the other ones,\njust laid out right here.\n\n184\n00:10:12.480 --> 00:10:15.872\nWe can quickly and easily turn them on and\noff, like I'll turn that screen keyboard\n\n185\n00:10:15.872 --> 00:10:19.177\non, and now when I have to type something,\nthere's that on-screen keyboard.\n\n186\n00:10:19.177 --> 00:10:19.688\nThey made it a little prettier.\n\n187\n00:10:19.688 --> 00:10:20.385\n>> That's a much nicer one.\n\n188\n00:10:20.385 --> 00:10:21.174\n>> Yeah.\n\n189\n00:10:21.174 --> 00:10:24.586\nSo we've got that one available,\nand we can use it and type and\n\n190\n00:10:24.586 --> 00:10:26.690\nall that other good stuff.\n\n191\n00:10:26.690 --> 00:10:29.790\nAll right so, those are some of\nthe basic accessibility options.\n\n192\n00:10:29.790 --> 00:10:31.460\nThey're not just at\nthe log-in screen either.\n\n193\n00:10:31.460 --> 00:10:32.930\nOnce you log in,\n\n194\n00:10:32.930 --> 00:10:36.930\nyour distro will have those same options\ntucked away in different places.\n\n195\n00:10:36.930 --> 00:10:41.073\nSo here in CentOS 6, I can go to my\nsystem, and then preferences, and\n\n196\n00:10:41.073 --> 00:10:45.569\nI'll find Assistive Technologies,\nright there, and they might be called\n\n197\n00:10:45.569 --> 00:10:49.952\nAccessibility Options, they might\nbe called Assistive Technologies.\n\n198\n00:10:49.952 --> 00:10:52.916\nThey have different names,\ndifferent distros use different names, but\n\n199\n00:10:52.916 --> 00:10:56.095\nonce you're in there you can set some\nof the more advanced options up, right?\n\n200\n00:10:56.095 --> 00:11:00.737\nLike keyboard accessibility, here's\nwhere I've got sticky keys, slow keys,\n\n201\n00:11:00.737 --> 00:11:04.060\nthe nice part here is I can\nset what that interval is.\n\n202\n00:11:04.060 --> 00:11:07.160\nIf I choose slow keys, how long do\nI have to hold the key down for\n\n203\n00:11:07.160 --> 00:11:08.850\nit to register as a press,\nI can define it.\n\n204\n00:11:08.850 --> 00:11:10.840\nSame thing with bounce keys,\n\n205\n00:11:10.840 --> 00:11:15.570\nhow rapid of succession do I\nmonitor to throw out keystrokes?\n\n206\n00:11:15.570 --> 00:11:18.940\nSame thing with some of the other options\nthat we have, like our layouts and so on,\n\n207\n00:11:18.940 --> 00:11:19.830\nall right?\n\n208\n00:11:19.830 --> 00:11:20.840\nYou can tweak those.\n\n209\n00:11:20.840 --> 00:11:24.630\nThere's actually some other options\nin here that are pretty handy too.\n\n210\n00:11:24.630 --> 00:11:28.190\nFor example, if you're gonna be\ndoing a screen reader, right?\n\n211\n00:11:28.190 --> 00:11:29.720\nIf we go to preferred applications,\n\n212\n00:11:29.720 --> 00:11:32.580\nyou can define what screen\nreader you're going to use.\n\n213\n00:11:32.580 --> 00:11:33.870\nOrca's the default.\n\n214\n00:11:33.870 --> 00:11:36.741\nA lot of people like Orca, that's what\nthey want to use, that's the default.\n\n215\n00:11:36.741 --> 00:11:40.979\nBut you'll see where you can choose\nother ones, and well they've got Orca\n\n216\n00:11:40.979 --> 00:11:44.620\nwith Magnifier and so on, or\nyou can do custom and load your own.\n\n217\n00:11:44.620 --> 00:11:47.127\nMaybe you have a third party one\nthat you want to make use of,\n\n218\n00:11:47.127 --> 00:11:48.696\nyou can load it in and get that set up.\n\n219\n00:11:48.696 --> 00:11:53.459\nThat's generally done at the preference\nof the end user, but as an administrator,\n\n220\n00:11:53.459 --> 00:11:57.415\nthe end user may tell you like hey,\nthis is the screen reader I prefer or\n\n221\n00:11:57.415 --> 00:12:00.121\nthis is the text to speech\nengine that I prefer.\n\n222\n00:12:00.121 --> 00:12:03.462\nAnd we need to go in and configure that,\nand get it put in place, and\n\n223\n00:12:03.462 --> 00:12:07.663\nit's just done right here through our\naccessibility configuration, all right.\n\n224\n00:12:07.663 --> 00:12:14.013\nSo be aware of that, in CentOS 7,\nit is moved a little bit differently,\n\n225\n00:12:14.013 --> 00:12:18.084\nso in CentOS 6 I went to system, whoops.\n\n226\n00:12:18.084 --> 00:12:19.090\nThere we go.\n\n227\n00:12:19.090 --> 00:12:22.360\nI went to system, and preferences, and\n\n228\n00:12:22.360 --> 00:12:25.610\nassistive technologies right,\nthat was how I got to it here in CentOS 6.\n\n229\n00:12:25.610 --> 00:12:30.030\nAnd CentOS 7, we go up to our\nusername up here, so I'll go to like,\n\n230\n00:12:30.030 --> 00:12:35.380\nDon Pezet, and then go down to Settings,\nand then inside of my settings,\n\n231\n00:12:35.380 --> 00:12:38.700\nyou'll find Universal Access\nright down here, at the bottom.\n\n232\n00:12:38.700 --> 00:12:41.230\nSo, little bit different,\nit's been moved around a bit,\n\n233\n00:12:41.230 --> 00:12:43.850\nwe get our simple configurations here,\nbut then they break things down.\n\n234\n00:12:43.850 --> 00:12:45.590\nThese are the seeing options,\n\n235\n00:12:45.590 --> 00:12:48.390\nthese are ones that are designed to\nhelp people with visual impairments.\n\n236\n00:12:48.390 --> 00:12:49.740\nYou've got hearing.\n\n237\n00:12:49.740 --> 00:12:52.490\nSo people with reduced auditory functions.\n\n238\n00:12:52.490 --> 00:12:53.650\nYou can go to typing.\n\n239\n00:12:53.650 --> 00:12:57.890\nSo these are things for motor control, and\nthen pointing and clicking, ways to make\n\n240\n00:12:57.890 --> 00:13:02.050\nthe mouse less painful, really cuz mice is\nreally not the greatest way to interact\n\n241\n00:13:02.050 --> 00:13:05.200\nwith a system, but you'll see options\nthere that you can do for that too.\n\n242\n00:13:05.200 --> 00:13:09.690\nSo, all of these are designed\nto help improve a user's, really\n\n243\n00:13:09.690 --> 00:13:13.550\nexperience when they work with a system,\nand it might not just be improving it,\n\n244\n00:13:13.550 --> 00:13:15.990\nit might be making that experience\npossible in the first place.\n\n245\n00:13:15.990 --> 00:13:19.780\nWithout these technologies, they might not\nbe able to use the computer at all, so\n\n246\n00:13:19.780 --> 00:13:21.410\nthese are pretty important.\n\n247\n00:13:21.410 --> 00:13:25.420\n>> Yeah, I have some family members\nmyself that have paralyzations.\n\n248\n00:13:25.420 --> 00:13:28.530\nAnd this kind of stuff really helps\nthem out because, it's not easy,\n\n249\n00:13:28.530 --> 00:13:30.300\nto like Don said,\nto type with one hand and\n\n250\n00:13:30.300 --> 00:13:33.960\nthat's, that's the exact realizations\nthat I have a brother and a sister,\n\n251\n00:13:33.960 --> 00:13:36.950\none is paralyzed on their left side, the\nother is paralyzed on their right side.\n\n252\n00:13:36.950 --> 00:13:38.813\nThey only have use of the one hand so\n\n253\n00:13:38.813 --> 00:13:42.174\nit makes it easier for\nthem to use some of these technologies.\n\n254\n00:13:42.174 --> 00:13:44.751\nTo type along, or\nmove along in their computing experience,\n\n255\n00:13:44.751 --> 00:13:46.146\nwe don't want to leave them out.\n\n256\n00:13:46.146 --> 00:13:49.325\nThey should be able to enjoy these\ntechnologies just as much as we do.\n\n257\n00:13:49.325 --> 00:13:52.097\n>> Yeah, and\nwe take a lot of this stuff for granted,\n\n258\n00:13:52.097 --> 00:13:55.728\nbut computers are really designed for\none use case scenario, and\n\n259\n00:13:55.728 --> 00:13:58.680\na lot of the other things\n>> They just get left to the side,\n\n260\n00:13:58.680 --> 00:13:59.760\nit's really unfortunate that,\n\n261\n00:13:59.760 --> 00:14:03.795\nthat happens, but most of the distros\nare making great strides to do that.\n\n262\n00:14:03.795 --> 00:14:07.260\nCentOS for example, has support for\nbraille keyboards built into it.\n\n263\n00:14:07.260 --> 00:14:10.770\nSo, we normally have these traditional\nkeyboards, but braille keyboards,\n\n264\n00:14:10.770 --> 00:14:13.865\nI call it a braille keyboard, it's\nactually a braille screen, it's a monitor.\n\n265\n00:14:13.865 --> 00:14:18.473\nSo, if you're clinically blind,\ndo you need a monitor on your system?\n\n266\n00:14:18.473 --> 00:14:20.358\nNo it doesn't do you any good, right?\n\n267\n00:14:20.358 --> 00:14:24.496\nSo, they make special braille monitors,\nwhere instead of displaying the graphics,\n\n268\n00:14:24.496 --> 00:14:27.225\nit's displaying text and\nits writing it out in braille.\n\n269\n00:14:27.225 --> 00:14:29.836\nAnd so they're able to feel that and\nread it, and\n\n270\n00:14:29.836 --> 00:14:34.169\nlet me tell you if you've ever worked\nwith somebody who's able to read braille,\n\n271\n00:14:34.169 --> 00:14:37.949\nboy they can move through braille\nfaster then I can read regular text.\n\n272\n00:14:37.949 --> 00:14:42.352\nIt's really impressive, and so having that\nhardware support, not only helps them to\n\n273\n00:14:42.352 --> 00:14:46.477\nuse the computer, a lot of times it makes\nthem faster at it then you are yourself.\n\n274\n00:14:46.477 --> 00:14:51.106\nSo, that driver functionality for that\nhardware may be baked into your system,\n\n275\n00:14:51.106 --> 00:14:53.325\nyou may need to go out and download it.\n\n276\n00:14:53.325 --> 00:14:57.235\nThe manufacturer's of the hardware,\nthey usually do focus a little more on\n\n277\n00:14:57.235 --> 00:15:00.255\nthe Windows side, that's pretty common\ncuz most people have Windows operating\n\n278\n00:15:00.255 --> 00:15:03.637\nsystems, but\nmany of them do create Linux drivers now.\n\n279\n00:15:03.637 --> 00:15:08.057\nAnd you're able to use those because the\nLinux drivers aren't really that different\n\n280\n00:15:08.057 --> 00:15:12.307\nthan the Mac OS drivers and so, you see\na lot of Mac OS hardware out there, so\n\n281\n00:15:12.307 --> 00:15:15.877\nthat's where we start to get some\nbetter support on the Linux side too.\n\n282\n00:15:15.877 --> 00:15:20.014\nSo, just be aware of the options, that\nyou do have software functionality that's\n\n283\n00:15:20.014 --> 00:15:22.290\na part of the GUI, a part of X Windows.\n\n284\n00:15:22.290 --> 00:15:26.560\nYou've also got hardware functionality,\ndrivers and modules that you can load into\n\n285\n00:15:26.560 --> 00:15:30.320\nthe kernel that make that hardware\nfunction, it's all available.\n\n286\n00:15:30.320 --> 00:15:34.270\nIf you're booting your Linux distro\ninto the command line though,\n\n287\n00:15:34.270 --> 00:15:36.920\nif you're not launching the GUI, almost\n\n288\n00:15:36.920 --> 00:15:40.580\nall of the accessibility options are part\nof the GUI, they're a part of X Windows.\n\n289\n00:15:40.580 --> 00:15:44.440\nSo if you do a minimal install, there's\nreally not a lot of assistive technology\n\n290\n00:15:44.440 --> 00:15:48.110\nbuilt into that, and it's gonna make\nthe system very difficult to use, and\n\n291\n00:15:48.110 --> 00:15:50.760\nthat's another side that's unfortunate,\ncuz it makes it hard for\n\n292\n00:15:50.760 --> 00:15:54.080\nsomebody with say a visual impairment,\nto become a network administrator.\n\n293\n00:15:54.080 --> 00:15:57.661\nBut, it's not impossible, it just takes a\nlittle extra effort to get that server set\n\n294\n00:15:57.661 --> 00:16:00.840\nup, so that they can SSH into it, and\nthen use the screen reader, and so on,\n\n295\n00:16:00.840 --> 00:16:03.500\nthat's on their native client,\nto get in there and work on it.\n\n296\n00:16:03.500 --> 00:16:05.820\nSo, those are areas that\nare still improving.\n\n297\n00:16:05.820 --> 00:16:09.775\nThey're still getting better, but for\nthe exam, be aware of those basic ones,\n\n298\n00:16:09.775 --> 00:16:10.955\nthe ones we highlighted.\n\n299\n00:16:10.955 --> 00:16:13.915\nKnow what sticky keys are,\nknow what bounce keys are,\n\n300\n00:16:13.915 --> 00:16:17.225\nunderstand what the high contrast\nview is for, and that way,\n\n301\n00:16:17.225 --> 00:16:21.572\nif you get a question on the exam that's\nsaying something like you have a user with\n\n302\n00:16:22.692 --> 00:16:28.252\npoor vision, and they're unable to\ndiscern one color from another.\n\n303\n00:16:28.252 --> 00:16:30.452\nWhat would be a feature\nthat could facilitate that?\n\n304\n00:16:30.452 --> 00:16:32.292\nThat could faciliate\nthat user's functions?\n\n305\n00:16:32.292 --> 00:16:35.262\nAnd you would say well,\nhigh contrast, that would fix that.\n\n306\n00:16:35.262 --> 00:16:37.982\nThat would make it where it's easier\nto discern one color from the next\n\n307\n00:16:37.982 --> 00:16:39.940\nby using alternate colors, right?\n\n308\n00:16:39.940 --> 00:16:42.800\nUnderstand what each of those\nfunctions are designed for.\n\n309\n00:16:42.800 --> 00:16:45.010\n>> Yeah, some people are just\ncolor blind as well, right?\n\n310\n00:16:45.010 --> 00:16:48.264\nI mean, that would be another type of\nblindness that high contrast would do them\n\n311\n00:16:48.264 --> 00:16:49.054\nvery, very well.\n\n312\n00:16:49.054 --> 00:16:50.331\n>> Yeah, yep, it all helps.\n\n313\n00:16:50.331 --> 00:16:53.300\n>> All right, well Don,\nthis is good stuff.\n\n314\n00:16:53.300 --> 00:16:56.690\nThis is definitely stuff that we need\nto know about, because we do need to\n\n315\n00:16:56.690 --> 00:16:59.680\nsometimes, you never know what user or\nadministrator is gonna come in,\n\n316\n00:16:59.680 --> 00:17:02.010\nyou're gonna be working with, and\nyou gotta do some pre-planning.\n\n317\n00:17:02.010 --> 00:17:03.083\nYou gotta be prepared for that.\n\n318\n00:17:03.083 --> 00:17:05.961\nYou gotta know at least where\nto go to start that process, and\n\n319\n00:17:05.961 --> 00:17:08.174\nthis is what we're\ntalking about right here.\n\n320\n00:17:08.174 --> 00:17:10.102\nSo, know this stuff for the exam, and\n\n321\n00:17:10.102 --> 00:17:14.141\nyou never know when you might have to pull\nthat out of the trick bag and say, hey,\n\n322\n00:17:14.141 --> 00:17:18.210\nthis is something I gotta do for my new\nuser needs these accessibility options.\n\n323\n00:17:18.210 --> 00:17:19.341\nVery, very good stuff.\n\n324\n00:17:19.341 --> 00:17:21.175\nDon, I think we've come to the end\nof the accessibility options.\n\n325\n00:17:21.175 --> 00:17:22.941\n>> Yep.\n>> There's not a ton of them, but\n\n326\n00:17:22.941 --> 00:17:24.350\nstuff that you do need to know.\n\n327\n00:17:24.350 --> 00:17:27.080\nThat being said,\nit is time to sign off for ITProTV.\n\n328\n00:17:27.080 --> 00:17:29.480\nI've been your host Daniel Lowry.\n\n329\n00:17:29.480 --> 00:17:30.200\n>> And I'm Don Pezet.\n\n330\n00:17:30.200 --> 00:17:32.745\n>> And we'll see you next time.\n\n331\n00:17:32.745 --> 00:17:37.894\n[SOUND]\n\n",
          "vimeoId": "133069134"
        },
        {
          "description": "In this episode, Daniel and Don explore localization in Linux operating systems. They begin by explaining the concept of localization, which is the regional settings for your system; including language, numbering, and symbol characters. Then they show you how to see what your system's localization is set to and the file encoding being employed. Finally they show you how to make changes to your system's localization settings from the terminal.",
          "length": "2224",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-4-localization-012916-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-4-localization-012916-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-6-4-localization-012916-1-sm.jpg",
          "title": "Localization",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.754 --> 00:00:16.422\nAll right, greetings everyone and welcome\nto another great episode of ITPROTV.\n\n3\n00:00:16.422 --> 00:00:18.117\nI'm your host, Daniel Lowrie and\n\n4\n00:00:18.117 --> 00:00:21.660\ntoday's episode we are continuing\non with our Linux Plus series.\n\n5\n00:00:21.660 --> 00:00:25.730\nJoining me in the studio today is none\nother than our good friend, Mr. Don Pezet.\n\n6\n00:00:25.730 --> 00:00:27.470\nDon, welcome back to the show,\nhow you doing today, sir?\n\n7\n00:00:27.470 --> 00:00:31.260\n>> I am doing just swell, Daniel, and\nready to jump right back into the world of\n\n8\n00:00:31.260 --> 00:00:35.240\nCompTIA Linux+, and in this episode we're\ngonna take a look at something that often\n\n9\n00:00:35.240 --> 00:00:39.500\ngets overlooked,\nwhich is localization inside of Linux.\n\n10\n00:00:39.500 --> 00:00:41.790\nWhen you install a Linux distribution,\n\n11\n00:00:41.790 --> 00:00:44.730\nthey've gotta make a lot of choices about\nwhat's presented to you, and one of\n\n12\n00:00:44.730 --> 00:00:49.380\nthe key choices that they have to make is\nwhat language it's all gonna be set to.\n\n13\n00:00:49.380 --> 00:00:52.220\nAnd, when we go and\nchange things like the language,\n\n14\n00:00:52.220 --> 00:00:55.010\nit can be very global or changing\nthe language with the whole system, or\n\n15\n00:00:55.010 --> 00:00:58.100\nthere can be very fine little\npieces that we choose to change.\n\n16\n00:00:58.100 --> 00:01:00.120\nAnd those are the things that we're\ngonna take a look at in this episode,\n\n17\n00:01:00.120 --> 00:01:03.470\nbecause if you're just doing\nbusiness here in the United States,\n\n18\n00:01:03.470 --> 00:01:06.060\nthen it's not a big deal, but if you\nhave any international business ,or if\n\n19\n00:01:06.060 --> 00:01:09.000\nyou yourself are international,\nit really does make a difference.\n\n20\n00:01:09.000 --> 00:01:11.640\nAn important topic, so that's what\nwe're gonna spend our time looking at.\n\n21\n00:01:11.640 --> 00:01:15.140\n>> That's right, and what we're really\nthinking about here is things like where,\n\n22\n00:01:15.140 --> 00:01:16.490\nwhat's my time zone?\n\n23\n00:01:16.490 --> 00:01:18.750\nWhat time is it exactly?\n\n24\n00:01:18.750 --> 00:01:20.020\nWhat language do I speak?\n\n25\n00:01:20.020 --> 00:01:22.670\nThese are the kind of things that we\nneed to make sure that the computer\n\n26\n00:01:22.670 --> 00:01:27.200\nunderstands, so that the references and\nthings of that nature are correct and\n\n27\n00:01:27.200 --> 00:01:30.340\nat their original point,\nthe point they need to be per se.\n\n28\n00:01:30.340 --> 00:01:35.700\nSo anyway, that brings us to where do\nwe begin and Don, where do we begin?\n\n29\n00:01:35.700 --> 00:01:36.830\n>> Where do we begin to tell you?\n\n30\n00:01:36.830 --> 00:01:40.180\nLet's just start by kinda talking\nabout the localization themselves.\n\n31\n00:01:40.180 --> 00:01:45.170\nNow, when you install a Linux distro,\nit depends on whether\n\n32\n00:01:45.170 --> 00:01:49.660\nyou do a full install, or a minimal\ninstall, what languages you're gonna have.\n\n33\n00:01:49.660 --> 00:01:51.980\nAnd it also depends on where you go and\ndownload it.\n\n34\n00:01:51.980 --> 00:01:54.820\nSo, for example, if I'm here in\nthe United States, and I wanna go and\n\n35\n00:01:54.820 --> 00:01:58.200\ndownload a distribution, and I get CentOS.\n\n36\n00:01:58.200 --> 00:02:00.340\nIf I get a full version of CentOS,\n\n37\n00:02:00.340 --> 00:02:03.210\nit's gonna have all sorts of\nlanguages packed inside of it.\n\n38\n00:02:03.210 --> 00:02:08.130\nIf I get a minimal version of CentOS,\nit might only have English, and that's it.\n\n39\n00:02:08.130 --> 00:02:10.780\nAnd if I want other languages,\nI'm gonna have to add them in, and so\n\n40\n00:02:10.780 --> 00:02:12.810\nthey're packages that we can install.\n\n41\n00:02:12.810 --> 00:02:17.600\nIf you go to some other distro like SUSE\nLinux, well, they're based out of Germany,\n\n42\n00:02:17.600 --> 00:02:20.116\nand so they're already,\nI call them international.\n\n43\n00:02:20.116 --> 00:02:21.900\nIf you're somebody who lives in Germany,\n\n44\n00:02:21.900 --> 00:02:26.080\nthat's not international to you,\nit's a localized version of Linux for you.\n\n45\n00:02:26.080 --> 00:02:28.670\nSo ,it may default to\na language in your area.\n\n46\n00:02:28.670 --> 00:02:32.756\nYou might download one that defaults right\nto German, or whatever language you speak.\n\n47\n00:02:32.756 --> 00:02:36.827\nBut, most Linux distros that are out\nthere do default to English, and\n\n48\n00:02:36.827 --> 00:02:39.380\nnot just English, but US English, right?\n\n49\n00:02:39.380 --> 00:02:43.546\nBecause there is a difference between\nUS English and British English,\n\n50\n00:02:43.546 --> 00:02:47.930\nwhich many would argue is the original,\nand many would probably be right.\n\n51\n00:02:47.930 --> 00:02:51.980\nSo, we do have variations\njust from a regional area.\n\n52\n00:02:53.200 --> 00:02:57.360\nI'll use French as a great example because\nyou have the French that's spoken in\n\n53\n00:02:57.360 --> 00:03:01.060\nFrance, and then you have the French\nthat's spoken in Canada, and\n\n54\n00:03:01.060 --> 00:03:02.210\nthey're a little bit different.\n\n55\n00:03:02.210 --> 00:03:04.850\nThey're very, very similar, but\nthere are some little differences and\n\n56\n00:03:04.850 --> 00:03:06.750\nwe can have localization for that.\n\n57\n00:03:06.750 --> 00:03:10.490\nLanguage is a big part of this, and\nwe've gotta understand which languages\n\n58\n00:03:10.490 --> 00:03:12.710\nour system supports,\nbecause we might need to install more.\n\n59\n00:03:13.780 --> 00:03:16.570\nThe other thing is,\nit goes beyond language.\n\n60\n00:03:16.570 --> 00:03:18.340\nThere's other little variations.\n\n61\n00:03:18.340 --> 00:03:21.130\nSo, for example, money.\n\n62\n00:03:21.130 --> 00:03:24.970\nHere in the United States,\nour monetary symbol is the dollar sign,\n\n63\n00:03:24.970 --> 00:03:27.150\nit's an S with a line that\ngoes through it, right?\n\n64\n00:03:27.150 --> 00:03:28.460\nThat's our symbol.\n\n65\n00:03:28.460 --> 00:03:31.740\nBut, if you're in the UK,\nyour monetary symbol is\n\n66\n00:03:31.740 --> 00:03:35.830\nthe pound symbol which is like\na cursive L or something, isn't it?\n\n67\n00:03:35.830 --> 00:03:38.740\n>> Yes.\n>> Yeah, a little fancy L.\n\n68\n00:03:38.740 --> 00:03:41.570\nIf you're in the EU, right,\nwhich would be Ireland,\n\n69\n00:03:41.570 --> 00:03:45.810\npretty much all the rest of Europe,\nthen your symbol is the Euro symbol,\n\n70\n00:03:45.810 --> 00:03:48.540\nwhich is like a C with\ntwo lines through it.\n\n71\n00:03:48.540 --> 00:03:49.420\nOr actually,\nit's more like an E, isn't it?\n\n72\n00:03:49.420 --> 00:03:50.210\n>> It looks like an E, yeah.\n\n73\n00:03:50.210 --> 00:03:52.300\n>> Yeah, it's kinda curved E\nwith two lines through it.\n\n74\n00:03:52.300 --> 00:03:56.324\nEither way, it's a different symbol for\nyour currency, right and\n\n75\n00:03:56.324 --> 00:04:00.590\nso, when we change our localization,\nthat's something that changes also.\n\n76\n00:04:00.590 --> 00:04:02.240\nNow for most of us,\nwe really don't care about those things.\n\n77\n00:04:02.240 --> 00:04:03.380\nIt's not that big of a deal.\n\n78\n00:04:03.380 --> 00:04:07.260\nBut, where it get's to be a bigger\nchallenge are when it comes to decimal\n\n79\n00:04:07.260 --> 00:04:10.880\npoints, and this is one that\na lot of Americans don't realize.\n\n80\n00:04:10.880 --> 00:04:12.233\nSo, here in the U.S.\n\n81\n00:04:12.233 --> 00:04:16.671\nwhen I write something, if I say\nDaniel I'm gonna give you $5, right?\n\n82\n00:04:16.671 --> 00:04:17.530\n>> Right.\n\n83\n00:04:17.530 --> 00:04:18.046\n>> Well, we know the dollar sign,\nI already mentioned that one.\n\n84\n00:04:18.046 --> 00:04:24.310\nBut then, it's $5, so I say the number\nfive, and a period, and two zeros, right?\n\n85\n00:04:24.310 --> 00:04:27.580\nThat period,\nthat's our decimal point, right?\n\n86\n00:04:27.580 --> 00:04:31.690\nBut in other countries, like in France,\nthey use a comma instead.\n\n87\n00:04:31.690 --> 00:04:36.149\nSo, if I say I'm gonna give you\nfive euros and no euro cents,\n\n88\n00:04:36.149 --> 00:04:39.129\nthen it would be five comma, zero zero.\n\n89\n00:04:39.129 --> 00:04:42.171\nOr if we write 1,000,\nit starts to get a little strange.\n\n90\n00:04:42.171 --> 00:04:45.712\nHere, let me show you on my screen just in\ncase I'm getting a little confusing here.\n\n91\n00:04:45.712 --> 00:04:50.749\nSo if I write one thousand dollars and\ntwelve cents here in the US,\n\n92\n00:04:50.749 --> 00:04:54.340\nI might write 1,000.12, like that.\n\n93\n00:04:54.340 --> 00:05:03.087\nBut, if I'm in France, we would write\nthat as 1.000,12, like that, right?\n\n94\n00:05:03.087 --> 00:05:07.146\nThat's important, because when\nyou're dealing with computers, and\n\n95\n00:05:07.146 --> 00:05:11.870\nyou're feeding it numbers, things in\nspreadsheets, or CSV files, or whatever,\n\n96\n00:05:11.870 --> 00:05:15.060\nthat makes a huge difference\nbased on where that is.\n\n97\n00:05:15.060 --> 00:05:18.230\nHere in the US,\nthis would only be one dollar\n\n98\n00:05:18.230 --> 00:05:23.200\nwith some weird junk here at the end,\nwhereas this would be $1000, and\n\n99\n00:05:23.200 --> 00:05:28.260\nin France, this would be one dollar, or\none Euro, versus this would be 1000 Euros.\n\n100\n00:05:28.260 --> 00:05:32.080\nSo, that's the kind of stuff that we get\nwith localization, and that's why it's so\n\n101\n00:05:32.080 --> 00:05:35.240\nimportant that we set this right, okay?\n\n102\n00:05:35.240 --> 00:05:40.100\nNow, on the majority of Linux distros\nthat are out there like Ubuntu, Debian,\n\n103\n00:05:40.100 --> 00:05:45.060\nCentOS prior to CentOS 7,\nmany upstart systems,\n\n104\n00:05:45.060 --> 00:05:48.210\nyou have a nice little command you\ncan run, which is just locale.\n\n105\n00:05:48.210 --> 00:05:52.230\nAnd if you run locale,\nit's gonna return some information for us,\n\n106\n00:05:52.230 --> 00:05:57.820\nthis chunk of data right here, okay, and\nthere's a lot of information in here.\n\n107\n00:05:57.820 --> 00:05:59.140\nWhat does it all mean?\n\n108\n00:05:59.140 --> 00:06:02.140\nWell, each one of these is referring\nto something kinda important.\n\n109\n00:06:02.140 --> 00:06:06.390\nWhen you look at it,\nthe very first line is my language.\n\n110\n00:06:06.390 --> 00:06:09.254\nSo, what language is my\ncomputer defaulting to?\n\n111\n00:06:09.254 --> 00:06:12.315\nAnd when I installed this,\nI installed CentOS from a DVD,\n\n112\n00:06:12.315 --> 00:06:14.850\ndownloaded right from a CentOS mirror.\n\n113\n00:06:14.850 --> 00:06:16.190\nI did not change the language.\n\n114\n00:06:16.190 --> 00:06:20.041\nCentOS defaults to en_US, okay?\n\n115\n00:06:20.041 --> 00:06:22.090\nEn is English.\n\n116\n00:06:22.090 --> 00:06:24.450\nSo, I have the English\nlanguage as my default.\n\n117\n00:06:24.450 --> 00:06:29.990\nAnd then the underscore US, this is\nthe United States version of English.\n\n118\n00:06:29.990 --> 00:06:33.921\nIf I installed the British version,\nI might have en_UK.\n\n119\n00:06:33.921 --> 00:06:38.336\nAnd with French, for example,\nyou might have fr_FR.\n\n120\n00:06:38.336 --> 00:06:42.240\nThe first fr is for French and\nthe second FR is for France.\n\n121\n00:06:42.240 --> 00:06:47.690\nOr I might have fr_CA,\nwhich would be French Canadian, right?\n\n122\n00:06:47.690 --> 00:06:51.820\nSo, its the language\nfollowed by the country code.\n\n123\n00:06:51.820 --> 00:06:57.517\nSo, those are the find right here, and you\nwill see I've got an overall language but\n\n124\n00:06:57.517 --> 00:07:00.907\nunder that,\nI've got all sorts of other values.\n\n125\n00:07:00.907 --> 00:07:03.490\nFor example, numerics, right?\n\n126\n00:07:03.490 --> 00:07:06.010\nThis is where that comma and\nperiod will come in.\n\n127\n00:07:06.010 --> 00:07:10.540\nOr my time, like here in the U.S.\nwe normally use a 12 hour clock, right.\n\n128\n00:07:10.540 --> 00:07:14.700\nSo I have 1:00 AM through 12:00 AM.,\n1:00 PM through 12:00 PM.\n\n129\n00:07:14.700 --> 00:07:17.894\nThat's how we kinda say things, so\nI have to say, hey its 5:00 PM,\n\n130\n00:07:17.894 --> 00:07:19.504\nit's different than 5:00 AM.\n\n131\n00:07:19.504 --> 00:07:23.004\nBut in most European countries\nthey use a 24 hour clock.\n\n132\n00:07:23.004 --> 00:07:29.129\nSo, they've got 5:00 what would be AM,\nor 17, which would be 5:00 PM, right?\n\n133\n00:07:29.129 --> 00:07:32.087\nSo, 500 hours or 1700 hours.\n\n134\n00:07:32.087 --> 00:07:33.504\nWe've got monetary.\n\n135\n00:07:33.504 --> 00:07:37.670\nThat's where that monetary symbol comes\nfrom, and you'll see mine is set to en_US.\n\n136\n00:07:37.670 --> 00:07:43.500\nThese are all variables that when you run\na program, the program can query these.\n\n137\n00:07:43.500 --> 00:07:45.990\nSo the LC, that's our localization, and\n\n138\n00:07:45.990 --> 00:07:48.790\nthen the program can say,\nhow does this computer represent time?\n\n139\n00:07:48.790 --> 00:07:52.271\nLet me query the LC underscore time\nvariable and see what it tells me.\n\n140\n00:07:52.271 --> 00:07:58.587\nThey want en_US, and not just en_US,\nbut in UTF-8, all right?\n\n141\n00:07:58.587 --> 00:07:59.379\nWhat's that about?\n\n142\n00:07:59.379 --> 00:08:02.296\nWell, this is where it gets\na little bit trickier.\n\n143\n00:08:02.296 --> 00:08:03.212\nBack in the day.\n\n144\n00:08:03.212 --> 00:08:05.661\nBack when Unix was developed in the 70s,\n\n145\n00:08:05.661 --> 00:08:10.660\nthere weren't these really well-structured\ncharacter sets that were out there.\n\n146\n00:08:10.660 --> 00:08:14.740\nAnd so most people just used all\nsorts of different stuff, and\n\n147\n00:08:14.740 --> 00:08:17.590\nit caused problems when you sent\nfiles from one computer to another.\n\n148\n00:08:17.590 --> 00:08:19.951\nAnd so they started standardizing\non things like ASCII,\n\n149\n00:08:19.951 --> 00:08:21.758\nthe ASCII character set.\n\n150\n00:08:21.758 --> 00:08:25.790\nBut the ASCII character set did a really\nbad job with international characters.\n\n151\n00:08:25.790 --> 00:08:28.312\nAnd so if you had just a through z,\nlowercase and\n\n152\n00:08:28.312 --> 00:08:30.457\nuppercase, 0 through 9 for numbers,\n\n153\n00:08:30.457 --> 00:08:34.890\nexclamation point, the at symbol, the\nthings you normally see on your keyboard.\n\n154\n00:08:34.890 --> 00:08:37.150\nIf you just had that stuff,\nASCII worked fine.\n\n155\n00:08:37.150 --> 00:08:41.130\nBut when you started getting into things\nlike accented characters, an e with\n\n156\n00:08:41.130 --> 00:08:45.910\nan accent veriu or an accent aigu above\nit or whatever it is that you had,\n\n157\n00:08:45.910 --> 00:08:51.270\nall of those started to cause problems, or\numlauts, a u with the two dots above it.\n\n158\n00:08:51.270 --> 00:08:53.520\nASCII, it could handle it, but\n\n159\n00:08:53.520 --> 00:08:56.550\nit didn't handle it consistently\nacross all languages.\n\n160\n00:08:56.550 --> 00:09:00.160\nAnd so there was a big movement a few\nyears back to get everybody to move to\n\n161\n00:09:00.160 --> 00:09:04.590\nUTF-8, a universal format that\neverybody could use that handled all\n\n162\n00:09:04.590 --> 00:09:06.000\nthe international characters.\n\n163\n00:09:06.000 --> 00:09:10.320\nAnother big driving force for this was\nwhen the EU formed their joint currency,\n\n164\n00:09:10.320 --> 00:09:13.455\nand they created an all\nnew monetary symbol.\n\n165\n00:09:13.455 --> 00:09:15.783\nWell, the ASCII standard had\nbeen around a long time.\n\n166\n00:09:15.783 --> 00:09:17.405\nTo go and\nupdate that standard would be a problem.\n\n167\n00:09:17.405 --> 00:09:19.345\nSo they made it where it was\na little more extensible, so\n\n168\n00:09:19.345 --> 00:09:21.485\nwhen we add new currency symbols\nthey can get thrown in there.\n\n169\n00:09:21.485 --> 00:09:23.810\nSo there's a big push\nthese days to go to UTF-8,\n\n170\n00:09:23.810 --> 00:09:27.475\nand you'll see my system is\ndefaulted to UTF-8 and that's great.\n\n171\n00:09:28.595 --> 00:09:29.574\nYours may or may not.\n\n172\n00:09:29.574 --> 00:09:30.865\nYou have to double-check that.\n\n173\n00:09:30.865 --> 00:09:33.175\nAnd running that locale command\nis a great way to see that.\n\n174\n00:09:33.175 --> 00:09:36.240\nSo I can see my language is set to en_US.\n\n175\n00:09:36.240 --> 00:09:41.170\nI've got all these other little variations\nthat are all defaulting en_US.UTF-8,\n\n176\n00:09:41.170 --> 00:09:43.810\nand some of them are kind of fun,\nlike paper.\n\n177\n00:09:43.810 --> 00:09:45.963\nPaper's important because\nhere in the United States,\n\n178\n00:09:45.963 --> 00:09:47.666\nwhat's the size of\na normal piece of paper?\n\n179\n00:09:47.666 --> 00:09:49.871\nIt's 8.5 by 11 inches.\n\n180\n00:09:49.871 --> 00:09:53.076\nBut in Europe, they use A4 paper.\n\n181\n00:09:53.076 --> 00:09:54.610\nAnd I can't remember the dimensions of A4.\n\n182\n00:09:54.610 --> 00:09:56.180\nI'm sure it's some metric thing anyway,\n\n183\n00:09:56.180 --> 00:09:58.480\nbut it's a different\nsize of standard paper.\n\n184\n00:09:58.480 --> 00:10:02.490\nSo when I have a standard piece of paper\nhere, this is great in the US, but\n\n185\n00:10:02.490 --> 00:10:04.230\nEuropean paper is a different size.\n\n186\n00:10:04.230 --> 00:10:08.260\nSo we have to define things like that,\nand when you run your programs,\n\n187\n00:10:08.260 --> 00:10:11.130\nthey'll see this and they'll recognize\nit and they'll change to it.\n\n188\n00:10:12.170 --> 00:10:14.330\nNow there is a special one\ndown here at the bottom.\n\n189\n00:10:14.330 --> 00:10:15.870\nLC equals All.\n\n190\n00:10:17.150 --> 00:10:18.710\nAnd notice how mine's blank.\n\n191\n00:10:18.710 --> 00:10:20.750\nThis is like a global override.\n\n192\n00:10:20.750 --> 00:10:26.188\nIf I wanna change all of these,\nI could set LC_ALL to be en_US or fr_FR,\n\n193\n00:10:26.188 --> 00:10:31.860\nwhatever it was that I wanted, and\nit would override every one of these.\n\n194\n00:10:31.860 --> 00:10:34.520\nSo on most systems,\nyou'll see where this is empty, so\n\n195\n00:10:34.520 --> 00:10:37.440\nthat you can granularly\ncontrol these settings.\n\n196\n00:10:37.440 --> 00:10:41.770\nMaybe I speak English, and so\nthat's my thing, I wanna do English, but\n\n197\n00:10:41.770 --> 00:10:43.520\nI'm working in Europe right now.\n\n198\n00:10:43.520 --> 00:10:47.200\nAnd so I wanna change my numerics,\nI wanna change my monetary, but\n\n199\n00:10:47.200 --> 00:10:48.990\nI wanna leave the language in English.\n\n200\n00:10:48.990 --> 00:10:52.580\nSo I don't wanna globally change it all\nover to French cuz then I'd have to\n\n201\n00:10:52.580 --> 00:10:56.300\nbe more fluent in French than I am,\nwhich is a pitifully small amount.\n\n202\n00:10:56.300 --> 00:10:59.104\nBut that one does give\nus that global change.\n\n203\n00:10:59.104 --> 00:11:02.840\nSo LC_ALL is kind of special,\nand you expect to see it blank.\n\n204\n00:11:02.840 --> 00:11:07.579\nBut all of these other ones LC_ something\nare identifying individual variations\n\n205\n00:11:07.579 --> 00:11:08.822\nthat you might have.\n\n206\n00:11:08.822 --> 00:11:10.771\nAnd some are really important,\nlike measurement.\n\n207\n00:11:10.771 --> 00:11:14.858\nDo you default to inches or\ndo you default to the metric system?\n\n208\n00:11:14.858 --> 00:11:15.671\n>> Centimeters and stuff.\n\n209\n00:11:15.671 --> 00:11:17.910\n>> Mm-hm, so those are kind of key things.\n\n210\n00:11:17.910 --> 00:11:20.700\nAnd this is all hints that\nwe hand to software, so\n\n211\n00:11:20.700 --> 00:11:23.680\nwhen the software runs it'll access these.\n\n212\n00:11:23.680 --> 00:11:25.240\nNow I ran locale here.\n\n213\n00:11:25.240 --> 00:11:28.070\nThis is on a regular CentOS install.\n\n214\n00:11:28.070 --> 00:11:31.220\nIf you're working with containered OSs or\n\n215\n00:11:31.220 --> 00:11:35.880\nminimal installs, it's not uncommon\nto see another little variation here.\n\n216\n00:11:35.880 --> 00:11:39.386\nInstead of seeing an actual language\ndefined, you might see something.\n\n217\n00:11:39.386 --> 00:11:41.475\nActually, hang on, I think I've got\na container laying around here.\n\n218\n00:11:41.475 --> 00:11:42.845\nThis one.\n\n219\n00:11:42.845 --> 00:11:43.750\nThis is a container.\n\n220\n00:11:43.750 --> 00:11:47.440\nSo this is not a full install of CentOS.\n\n221\n00:11:47.440 --> 00:11:48.698\nThis machine is actually a container.\n\n222\n00:11:48.698 --> 00:11:52.130\nIt's running inside of Docker, and\nso it's a very minimal install.\n\n223\n00:11:52.130 --> 00:11:58.130\nI think it's like a whopping 80 megs in\nsize, so a really tiny install of CentOS.\n\n224\n00:11:58.130 --> 00:12:02.910\nAnd if I run locale, notice how\nall these are just set to LC and\n\n225\n00:12:02.910 --> 00:12:04.910\nwhatever the item is equals POSIX.\n\n226\n00:12:06.210 --> 00:12:09.163\nIt's just saying default\nto POSIX compliance.\n\n227\n00:12:09.163 --> 00:12:10.741\nWe don't know what language you speak.\n\n228\n00:12:10.741 --> 00:12:13.823\nWe don't know if it's English or French or\nwhatever, we're just gonna put it in POSIX\n\n229\n00:12:13.823 --> 00:12:15.597\ncompliance mode which is\nlargely in English, and\n\n230\n00:12:15.597 --> 00:12:17.200\nthat's what we're gonna follow.\n\n231\n00:12:17.200 --> 00:12:20.080\nAnd they're trying to establish\ncompatibility here with a very\n\n232\n00:12:20.080 --> 00:12:21.790\nminimal footprint.\n\n233\n00:12:21.790 --> 00:12:23.120\nAnd that's one way to do it.\n\n234\n00:12:23.120 --> 00:12:27.942\nAnother thing you might see\nis where it says LC_NUMERIC=,\n\n235\n00:12:27.942 --> 00:12:32.109\nand then just the letter C,\njust a capital letter C.\n\n236\n00:12:32.109 --> 00:12:33.720\nAnd what does that mean?\n\n237\n00:12:33.720 --> 00:12:37.400\nWell, actually, I don't know what\nthe capital letter C stands for.\n\n238\n00:12:37.400 --> 00:12:42.660\nI'm sure it stands for something, but what\nit means is let the application decide.\n\n239\n00:12:42.660 --> 00:12:46.360\nWhen you run a program, the program is\ngonna query the operating system to\n\n240\n00:12:46.360 --> 00:12:48.940\nfigure out what language it should run.\n\n241\n00:12:48.940 --> 00:12:52.190\nBut the program has to have a default\ntoo in case it fails to query.\n\n242\n00:12:52.190 --> 00:12:54.830\nAnd if it queries here and\ngets a C back, that tells it, hey,\n\n243\n00:12:54.830 --> 00:12:56.100\njust do whatever you want.\n\n244\n00:12:56.100 --> 00:13:00.332\nSo now if maybe I download\nthe English version of GIMP, or\n\n245\n00:13:00.332 --> 00:13:05.284\nthe French version of GIMP,\nit's gonna default to that version.\n\n246\n00:13:05.284 --> 00:13:07.050\nAnd if it gets a C back here for\nmy localization,\n\n247\n00:13:07.050 --> 00:13:09.680\nit's just going to default to\nwhatever its default language is.\n\n248\n00:13:09.680 --> 00:13:11.494\nSo they all have\na failback they can go to.\n\n249\n00:13:11.494 --> 00:13:14.174\nAnd so you may see that,\nwhere these are all set to C, or\n\n250\n00:13:14.174 --> 00:13:17.250\nall set to POSIX like mine is,\nthen that may happen.\n\n251\n00:13:17.250 --> 00:13:21.987\nAnd the key thing here is, if we want to\nchange to a different language, we can,\n\n252\n00:13:21.987 --> 00:13:25.120\nbut we have to make sure\nthat language is installed.\n\n253\n00:13:25.120 --> 00:13:30.340\nAnd when I ran the locale command, that's\njust showing me what I'm currently set to.\n\n254\n00:13:30.340 --> 00:13:35.520\nBut if I run locale -a, that'll show\nme all the ones that are supported.\n\n255\n00:13:35.520 --> 00:13:38.500\nAnd if you look at this system,\nsee how it's got, there's that capital C I\n\n256\n00:13:38.500 --> 00:13:43.370\nmentioned, there's POSIX,\nand then there's en_US.utf8.\n\n257\n00:13:43.370 --> 00:13:46.380\nSo this system only has three\nlocalizations installed, and that's it.\n\n258\n00:13:46.380 --> 00:13:49.920\nAnd that's cuz I did a very\nminimal install, it's a container.\n\n259\n00:13:49.920 --> 00:13:52.000\nIf I go back to my full install, this guy.\n\n260\n00:13:53.350 --> 00:13:56.770\nAnd let me run locale -a.\n\n261\n00:13:56.770 --> 00:14:01.540\nNow it's gonna show all the ones that it\nsupports, and you'll see it is a lot.\n\n262\n00:14:01.540 --> 00:14:05.060\nI mean,\nthere are a bunch of systems listed here.\n\n263\n00:14:05.060 --> 00:14:09.840\nAnd as we kinda look through the list,\nlet me get up to English real quick.\n\n264\n00:14:09.840 --> 00:14:11.020\nI say real quick,\nit's gonna take me awhile.\n\n265\n00:14:11.020 --> 00:14:13.760\nThere we go.\nSo here's en_US.\n\n266\n00:14:13.760 --> 00:14:18.640\nAnd notice under en_US,\nthere's en_US.utf8.\n\n267\n00:14:18.640 --> 00:14:20.010\nThat's what I'm running right now.\n\n268\n00:14:20.010 --> 00:14:24.436\nBut there's also en_US by itself,\nwhich would be the original ANSI or\n\n269\n00:14:24.436 --> 00:14:25.559\nASCII standard.\n\n270\n00:14:25.559 --> 00:14:28.641\nAnd then there's en_US.iso88591 and\n\n271\n00:14:28.641 --> 00:14:33.930\n885915, which are other\nvariations of that character set.\n\n272\n00:14:33.930 --> 00:14:39.750\nAnd I may have applications or particular\nneeds that demand that I use that format,\n\n273\n00:14:39.750 --> 00:14:42.840\nand so I can set it to use that,\nand then off I go.\n\n274\n00:14:42.840 --> 00:14:44.020\nAnd you see the other languages, too.\n\n275\n00:14:44.020 --> 00:14:45.870\nI mentioned French, let's go find French.\n\n276\n00:14:45.870 --> 00:14:48.880\nSo fr, whoops,\na lot of countries speak French.\n\n277\n00:14:48.880 --> 00:14:52.923\nAnd so here's fr_FR and\nthat's a capital FR.\n\n278\n00:14:52.923 --> 00:14:56.245\nAnd notice how there's one by itself and\nthere's one that says @euro.\n\n279\n00:14:56.245 --> 00:14:58.725\nOne still has the characters for\nthe franc,\n\n280\n00:14:58.725 --> 00:15:02.420\nwhich was the original currency of France,\nand now for the euro.\n\n281\n00:15:02.420 --> 00:15:07.180\nBut you'll see there's a French for\nUTF-8 also.\n\n282\n00:15:07.180 --> 00:15:12.760\nAnd so that's fr_FR for actual France, but\nif I go up here, here's fr_CA for Canada.\n\n283\n00:15:12.760 --> 00:15:16.030\nAnd so the little variations in languages\nthat they have are kind of accounted for\n\n284\n00:15:16.030 --> 00:15:17.010\nwith those.\n\n285\n00:15:17.010 --> 00:15:22.400\nSo a lot of localizations are installed.\n\n286\n00:15:22.400 --> 00:15:26.070\nIf your localization isn't listed,\nif you do an install and it's missing it,\n\n287\n00:15:26.070 --> 00:15:27.730\nyou can always install\nthem after the fact.\n\n288\n00:15:27.730 --> 00:15:29.240\nThere's a few commands to do that.\n\n289\n00:15:29.240 --> 00:15:32.950\nIn the CentOS world it's\nreally just a package.\n\n290\n00:15:32.950 --> 00:15:35.541\nSo if you happen to be in Ubuntu\nyou just need to find out\n\n291\n00:15:35.541 --> 00:15:37.060\nthe package name for your system.\n\n292\n00:15:37.060 --> 00:15:45.110\nIn CentOS, what you do is you run yum\ngroupinstall followed by the language.\n\n293\n00:15:45.110 --> 00:15:49.060\nSo I might say french-support, like that.\n\n294\n00:15:49.060 --> 00:15:50.890\nAnd that's gonna go and\nlook for the French one.\n\n295\n00:15:50.890 --> 00:15:55.350\nAnd then there's english-support,\nchinese-support, and so on.\n\n296\n00:15:55.350 --> 00:15:59.879\nAnd it's gonna grab all the variations of\nFrench, or all the variations of Chinese.\n\n297\n00:15:59.879 --> 00:16:02.298\nChinese is one of the bigger ones,\nthere's just a ton of variations.\n\n298\n00:16:02.298 --> 00:16:04.210\nSo it'll grab all of those, and\nthen you can pick and choose from them.\n\n299\n00:16:04.210 --> 00:16:06.587\nSo it's easy add these after the fact.\n\n300\n00:16:06.587 --> 00:16:10.212\nRight, like in my container\nI would have to do that.\n\n301\n00:16:10.212 --> 00:16:13.308\nAll right, now,\nwhen we're dealing with this formats,\n\n302\n00:16:13.308 --> 00:16:16.530\nif it's just a one time thing,\nsomebody sending me a file and\n\n303\n00:16:16.530 --> 00:16:19.585\nit's one of these formats and\nit's not the right for me.\n\n304\n00:16:19.585 --> 00:16:21.301\nI don't have to change my localization,\n\n305\n00:16:21.301 --> 00:16:25.130\ndon't automatically assume you gonna\njump in and change your localization.\n\n306\n00:16:25.130 --> 00:16:28.300\nWe actually have utilities we can\nuse to convert a file from one\n\n307\n00:16:28.300 --> 00:16:31.120\nlocalization to another,\nfrom one character set to another.\n\n308\n00:16:31.120 --> 00:16:35.063\nAnd a great example of that is the\nI-C-O-N-V, which is a converter, right?\n\n309\n00:16:35.063 --> 00:16:39.005\nI think it actually stands for\ninternational converter, or\n\n310\n00:16:39.005 --> 00:16:40.480\nsomething like that.\n\n311\n00:16:40.480 --> 00:16:46.320\nBut, it can convert one file to,\nfrom one character set to another, right?\n\n312\n00:16:46.320 --> 00:16:49.092\nAnd so, if I take a look\nat this little help for it,\n\n313\n00:16:49.092 --> 00:16:51.677\nbasically you got a from-code and to-code.\n\n314\n00:16:51.677 --> 00:16:56.180\nSo, you say coming from one character\nsetting going to another one.\n\n315\n00:16:56.180 --> 00:16:59.400\nAnd then you specify the input and\noutput file and it will convert.\n\n316\n00:16:59.400 --> 00:17:02.860\nSo, really simple way to move\nwithout changing your localization.\n\n317\n00:17:02.860 --> 00:17:05.770\nSo, if I get a file and I open it up and\neverything's all screwed up inside of it\n\n318\n00:17:05.770 --> 00:17:07.910\nbecause characters are supposed\nto have accents and\n\n319\n00:17:07.910 --> 00:17:10.140\nmy set isn't processing it right.\n\n320\n00:17:10.140 --> 00:17:15.288\nI can come in here and\nI can say, for example, icon-f.\n\n321\n00:17:15.288 --> 00:17:18.318\nI'm gonna say and I'm coming from ASCII,\n\n322\n00:17:18.318 --> 00:17:22.770\njust the original ASCII with\nnothing too crazy there.\n\n323\n00:17:22.770 --> 00:17:28.490\nAnd I could say that I'm going to,\nUTF-8, right?\n\n324\n00:17:28.490 --> 00:17:29.800\nTo convert over to it.\n\n325\n00:17:29.800 --> 00:17:33.630\nOr I could say, ISO -8859,\nthat would be another format, or\n\n326\n00:17:33.630 --> 00:17:35.150\nwhatever format it is\nthat I'm converting to.\n\n327\n00:17:35.150 --> 00:17:40.430\nAnd then, I would just specify the input\nfile, followed an output file.\n\n328\n00:17:40.430 --> 00:17:41.920\nAnd actually,\nyou have to do some little brackets.\n\n329\n00:17:41.920 --> 00:17:46.410\nYou gotta feed the command in, so\nI gotta pipe in my input file, and\n\n330\n00:17:46.410 --> 00:17:49.110\nthen I gotta pipe out my output file.\n\n331\n00:17:50.660 --> 00:17:52.480\nIf I can type it.\n\n332\n00:17:52.480 --> 00:17:57.192\nThere, and so that command right\nthere would convert an input\n\n333\n00:17:57.192 --> 00:18:01.280\nfile from ASCII to an output\nfile of UTF-8, right.\n\n334\n00:18:01.280 --> 00:18:03.846\nAnd so, I can convert it now I didn't\nhave to mess with my localization,\n\n335\n00:18:03.846 --> 00:18:06.390\nI just changed the file I'm\nworking with and I'm done, right.\n\n336\n00:18:06.390 --> 00:18:12.230\nSo, if it's a one time thing we'll\nusually use the iconv icons or whatever.\n\n337\n00:18:12.230 --> 00:18:15.630\nConversion utility and\nthat'll knock it right out, right.\n\n338\n00:18:15.630 --> 00:18:18.221\nBut, if this is something\nthat we do all the time.\n\n339\n00:18:18.221 --> 00:18:22.472\nIf I've moved to France and I'm working\nthere, and I'm living there, and I'm\n\n340\n00:18:22.472 --> 00:18:26.785\nspeaking French and working with French\ndocuments, I wanna use the character set\n\n341\n00:18:26.785 --> 00:18:30.562\nthat's gonna work, and UTF-8 will\nlargely take care of that for me.\n\n342\n00:18:30.562 --> 00:18:33.060\nBut, if I wanna actually be\nin the French localization,\n\n343\n00:18:33.060 --> 00:18:34.630\nI can do that by changing my locale.\n\n344\n00:18:36.020 --> 00:18:37.830\nSo, if we wanna do that,\nthere's a few different ways.\n\n345\n00:18:37.830 --> 00:18:41.310\nThe old way was to use the locale command,\nbut it's kinda been replaced,\n\n346\n00:18:41.310 --> 00:18:45.740\nso on my system here,\nthis is a system d system, and so\n\n347\n00:18:45.740 --> 00:18:50.570\nto change the locale, what you used to\nhave was a utility called set locale.\n\n348\n00:18:50.570 --> 00:18:51.670\nThat guy right there.\n\n349\n00:18:51.670 --> 00:18:53.660\nAnd you'll see,\nI might if I run a command not set.\n\n350\n00:18:53.660 --> 00:18:56.361\nAnd even if I do a yum provides setlocale.\n\n351\n00:18:56.361 --> 00:18:59.237\nI don't even think it exists any\nmore once you are on system d.\n\n352\n00:18:59.237 --> 00:19:02.440\nSo, yeah, I can't even get that\ncommand on a system d system.\n\n353\n00:19:02.440 --> 00:19:05.390\nBut, if you are on an older system like\nan upstart system you have setlocale.\n\n354\n00:19:05.390 --> 00:19:08.250\nAnd you can specify the localization\nthat you wanna use, all right.\n\n355\n00:19:08.250 --> 00:19:15.180\nBut on a system d system, we actually\nhave to use the localectl command, okay.\n\n356\n00:19:15.180 --> 00:19:19.006\nSo, localectl, that let's us control and\nif you just run localectl by itself,\n\n357\n00:19:19.006 --> 00:19:20.710\nit'll tell you what it's set for.\n\n358\n00:19:20.710 --> 00:19:22.850\nAnd you can see I'm set for enus.\n\n359\n00:19:22.850 --> 00:19:25.130\nI've got a us key map and\nlayout for my keyboard.\n\n360\n00:19:25.130 --> 00:19:27.190\nThat's what I'm set at, okay?\n\n361\n00:19:27.190 --> 00:19:28.780\nLet's say I wanna change this.\n\n362\n00:19:28.780 --> 00:19:33.418\nWell, right now I'm set to U.S.\nand so, if I run locale\n\n363\n00:19:33.418 --> 00:19:38.552\nfollowed by currency symbol,\noops, there we go, like that.\n\n364\n00:19:38.552 --> 00:19:40.660\nSee how my currency symbol\nis currently a dollar.\n\n365\n00:19:40.660 --> 00:19:42.992\nThe dollar sign,\nthe S with a line through it.\n\n366\n00:19:42.992 --> 00:19:44.212\nI'm gonna switch to French.\n\n367\n00:19:44.212 --> 00:19:45.520\nI'm gonna switch over to French and\nwe'll see.\n\n368\n00:19:45.520 --> 00:19:47.850\nNow, it does require a reboot, so\nI'm gonna have to reboot in this, but\n\n369\n00:19:47.850 --> 00:19:48.740\nlet me do that.\n\n370\n00:19:48.740 --> 00:19:55.438\nI'm gonna go ahead and\njust say localectl set-locale,\n\n371\n00:19:55.438 --> 00:20:00.461\nso I'm gonna change my localization, and\n\n372\n00:20:00.461 --> 00:20:06.195\nI'm gonna set my language\nto be fr_FR.utf8.\n\n373\n00:20:06.195 --> 00:20:07.460\nLike that.\n\n374\n00:20:07.460 --> 00:20:12.550\nOkay, so I'm telling it I wanna switch\nthat over and, actually let me rerun that.\n\n375\n00:20:12.550 --> 00:20:18.010\nI'm gonna do a little pseudo\nbecause otherwise it just runs for\n\n376\n00:20:18.010 --> 00:20:20.420\nme, which maybe what I want, but\nI might wanna do it for the system,\n\n377\n00:20:20.420 --> 00:20:22.430\nso I'm gonna go ahead and\nset it for both right there.\n\n378\n00:20:22.430 --> 00:20:25.380\nSo, now I've changed that localization and\n\n379\n00:20:25.380 --> 00:20:29.020\nnow I'll just do a quick reboot and\nwe'll let the system reboot.\n\n380\n00:20:29.020 --> 00:20:31.720\nOkay, because once I ran it,\nnothing happened, right?\n\n381\n00:20:31.720 --> 00:20:33.265\nAnd the system has to reloaded.\n\n382\n00:20:33.265 --> 00:20:35.970\nThere are a couple of ways to\nmake it happen without rebooting.\n\n383\n00:20:35.970 --> 00:20:38.110\nBut generally, when you're\nchanging your system localization,\n\n384\n00:20:38.110 --> 00:20:39.690\na reboot is a really good idea.\n\n385\n00:20:39.690 --> 00:20:42.380\nBecause you've got a lot of software\nrunning in the background that's not gonna\n\n386\n00:20:42.380 --> 00:20:44.120\nrecognize that localization change.\n\n387\n00:20:44.120 --> 00:20:46.908\nSo, my systems gonna reboot right here,\nso we see it starting to come up.\n\n388\n00:20:46.908 --> 00:20:49.920\nIt's not gonna look much different,\nyou know all the demons and\n\n389\n00:20:49.920 --> 00:20:51.200\nall that stuff load just like normal.\n\n390\n00:20:51.200 --> 00:20:53.040\nBut the big difference\nwould be right here.\n\n391\n00:20:53.040 --> 00:20:54.668\nSo, let's look at my log in screen.\n\n392\n00:20:54.668 --> 00:20:56.330\nSo, it's gonna pop up a log in,\n\n393\n00:20:56.330 --> 00:21:00.740\nand the log in text is gonna\nbe in a different language.\n\n394\n00:21:01.820 --> 00:21:06.000\nAnd you might not notice it at first,\nbut right here, right.\n\n395\n00:21:06.000 --> 00:21:07.730\nIt's already switched to\nthe French language just for\n\n396\n00:21:07.730 --> 00:21:09.950\nmy regular user interface.\n\n397\n00:21:09.950 --> 00:21:13.240\nAnd, today is Friday and so\nthe date up here now shows [FOREIGN],\n\n398\n00:21:13.240 --> 00:21:17.540\nso it's letting me know that\nit is Friday but in French.\n\n399\n00:21:17.540 --> 00:21:18.611\nSo, good times there.\n\n400\n00:21:18.611 --> 00:21:21.438\nSo, I'm gonna log in and\nhope that we don't incur or\n\n401\n00:21:21.438 --> 00:21:25.150\nencounter any prompts I don't\nknow the translation of.\n\n402\n00:21:25.150 --> 00:21:26.768\nWhich is actually, not that hard to do.\n\n403\n00:21:26.768 --> 00:21:28.110\nSo, I'm gonna get logged in and so,\n\n404\n00:21:28.110 --> 00:21:33.180\nthere it goes trying to log me in and\nwhen I get to my command prompting,\n\n405\n00:21:33.180 --> 00:21:36.070\nwhen I get into that terminal,\nI'll see my localization is different.\n\n406\n00:21:36.070 --> 00:21:38.390\nActually, it's prompting me\nher to really get detailed.\n\n407\n00:21:38.390 --> 00:21:41.060\nFor example, I've got a folder\ncalled desktop and it's saying,\n\n408\n00:21:41.060 --> 00:21:43.170\ndo you want me to rename that folder or\ncall it bureau,\n\n409\n00:21:43.170 --> 00:21:46.900\ncuz it's the French word for desktop or\ndownloads, templates, and so on.\n\n410\n00:21:46.900 --> 00:21:48.750\nIt's asking go ahead and\nchange those folders.\n\n411\n00:21:48.750 --> 00:21:51.591\nI can choose them.\nI'm just gonna ignore it for right now,\n\n412\n00:21:51.591 --> 00:21:53.764\nand I wanna jump over to my terminal.\n\n413\n00:21:53.764 --> 00:21:55.517\n>> A quick question,\nDon, before you do that,\n\n414\n00:21:55.517 --> 00:21:56.947\nis I noticed that when you logged in,\n\n415\n00:21:56.947 --> 00:22:00.490\nyou typed in your password and didn't seem\nlike you had to do anything different.\n\n416\n00:22:00.490 --> 00:22:03.490\n>> I assume you typed in the password\nthe way you normally would in English.\n\n417\n00:22:03.490 --> 00:22:05.245\nIt doesn't change that into French.\n\n418\n00:22:05.245 --> 00:22:07.168\n>> [LAUGH]\n>> And make you a French layout for\n\n419\n00:22:07.168 --> 00:22:08.160\nyour keyboard?\n\n420\n00:22:08.160 --> 00:22:13.290\n>> It didn't change my keyboard layout,\nand that is a good point.\n\n421\n00:22:13.290 --> 00:22:17.192\nIn the US here, we have what are called\nQWERTY keyboards, Q-W-E-R-T-Y.\n\n422\n00:22:17.192 --> 00:22:20.460\nIn French,\nyou have AZURD keyboards, and so\n\n423\n00:22:20.460 --> 00:22:25.512\nwhen I come in and I type Q-W-E-R-T-Y,\nthat's what I get.\n\n424\n00:22:25.512 --> 00:22:30.440\nIf it switched my keyboard layout, I\nwould have just typed A-Z-E-R-T-Y, right?\n\n425\n00:22:30.440 --> 00:22:31.960\nSo, the keyboard layout is still separate.\n\n426\n00:22:31.960 --> 00:22:32.950\nI would have to go and change that.\n\n427\n00:22:32.950 --> 00:22:34.190\nAnd that's because it's hardware, and\n\n428\n00:22:34.190 --> 00:22:36.290\nit's assuming that I didn't\nchange my keyboard, right?\n\n429\n00:22:36.290 --> 00:22:37.930\nAnd it'd be right in this case.\n\n430\n00:22:37.930 --> 00:22:43.750\nAnd if I come in and I run locale, I can\nsee that I am now switched to FR, right?\n\n431\n00:22:43.750 --> 00:22:50.910\nSo, I am flipped over to French and if I\nrun localectl right, I can see that I'm\n\n432\n00:22:50.910 --> 00:22:55.660\nflipped over in here we can see that my\nkey map is still set to U.S. thankfully.\n\n433\n00:22:55.660 --> 00:22:58.580\nSo, French keyboards are a little hard\nto use if you're not used to them, so\n\n434\n00:22:58.580 --> 00:23:00.290\nI'm glad it didn't change my layout.\n\n435\n00:23:00.290 --> 00:23:04.670\nSo, basically it looks like I've switched\nover, how do I know it actually did?\n\n436\n00:23:04.670 --> 00:23:10.720\nWell, I can run locale and query my\ncurrency symbol and what do I get back?\n\n437\n00:23:12.450 --> 00:23:13.950\nI get the euro.\n\n438\n00:23:13.950 --> 00:23:17.770\nSo, my currency signal is now set to\nthe euro instead of a dollar sign.\n\n439\n00:23:17.770 --> 00:23:20.390\nIt knows that I'm operating\nin that localization.\n\n440\n00:23:20.390 --> 00:23:21.680\nSo, this is kinda an important piece.\n\n441\n00:23:21.680 --> 00:23:23.660\nWe gotta make sure we change that.\n\n442\n00:23:23.660 --> 00:23:27.020\nNow, there's a few other things we need to\nbe aware of that it's changing stuff all\n\n443\n00:23:27.020 --> 00:23:28.220\nthroughout the system.\n\n444\n00:23:28.220 --> 00:23:31.627\nSo, even things like my date change,\nright.\n\n445\n00:23:31.627 --> 00:23:34.526\nSo, now when I look at my date,\nsee how it's not saying Friday,\n\n446\n00:23:34.526 --> 00:23:36.096\nJanuary 29th anymore, right.\n\n447\n00:23:36.096 --> 00:23:41.557\nNow it's saying, if I can remember this\nfrom French class so ven janv is french\n\n448\n00:23:41.557 --> 00:23:46.790\nfor Friday and I believe it's like\nHumviere or something for January.\n\n449\n00:23:46.790 --> 00:23:49.532\nBut, anyhow it switched over to\nshow that different language,\n\n450\n00:23:49.532 --> 00:23:50.712\nthat's been changed too.\n\n451\n00:23:50.712 --> 00:23:54.147\nNow, in the background,\nthe date in UNIX is just a number\n\n452\n00:23:54.147 --> 00:23:57.869\nthat it's tracking from some\nday back in the 1970's, so\n\n453\n00:23:57.869 --> 00:24:02.254\nthat's not really changed under the hood,\nbut what I see is different.\n\n454\n00:24:02.254 --> 00:24:06.174\nThat's very kind of cool though, but I\nfound it interesting like it didn't change\n\n455\n00:24:06.174 --> 00:24:09.590\nthe keyboard layout, so we can start\nplaying around with these things,\n\n456\n00:24:09.590 --> 00:24:12.502\nlike Don said you become an employee\nin a different country and\n\n457\n00:24:12.502 --> 00:24:15.246\nyou wanna start acclimating\nyourself to that language and\n\n458\n00:24:15.246 --> 00:24:17.490\nthat environment this is\nan easy way to do that.\n\n459\n00:24:17.490 --> 00:24:21.018\nI also found it interesting that you'll\nnotice that the commands don't change.\n\n460\n00:24:21.018 --> 00:24:23.760\nDon ran locale he didn't have to\ndo it some sort of French term.\n\n461\n00:24:23.760 --> 00:24:27.170\nHe just types locale because that\nis the command I'm assuming.\n\n462\n00:24:27.170 --> 00:24:28.300\nIt's not a French command.\n\n463\n00:24:28.300 --> 00:24:32.790\n>> Right, yeah the commands they're all\nwritten kind of in a standard format and\n\n464\n00:24:32.790 --> 00:24:35.410\nEnglish is kind of the accepted\nlanguage of the Unix world.\n\n465\n00:24:35.410 --> 00:24:37.420\nSo even when you're in another\ncountry a lot of people leave stuff in\n\n466\n00:24:37.420 --> 00:24:40.860\nEnglish anyways, and so that's available,\nand the commands are the same.\n\n467\n00:24:40.860 --> 00:24:43.980\nYou could always create aliases if you\nwant to use a French name for something,\n\n468\n00:24:43.980 --> 00:24:45.357\nor whatever languages you speak.\n\n469\n00:24:45.357 --> 00:24:46.463\n>> #American.\n\n470\n00:24:46.463 --> 00:24:49.551\n[LAUGH]\n>> [LAUGH] There you go.\n\n471\n00:24:49.551 --> 00:24:53.480\nSpeaking of time, let's talk a little\nbit about the time on these things.\n\n472\n00:24:53.480 --> 00:24:57.380\nSo, the way that time is represented and\ndisplayed here on the system is important,\n\n473\n00:24:57.380 --> 00:24:59.580\nand I know we've mentioned\ntime a few times,\n\n474\n00:24:59.580 --> 00:25:05.140\nbut one deal is if I just moved to another\ncountry and I'm switching my localization\n\n475\n00:25:05.140 --> 00:25:08.290\nI probably need to change things\nlike my time zone also, right?\n\n476\n00:25:08.290 --> 00:25:12.580\nBecause I'm here in the Eastern time zone\nin the US, but if I just moved to Paris\n\n477\n00:25:12.580 --> 00:25:14.960\nwell then I need to switch over\nto a time zone over there and\n\n478\n00:25:14.960 --> 00:25:17.980\nI don't know any of the names of\nthe time zones over there, but\n\n479\n00:25:17.980 --> 00:25:20.640\nif we want to change over to one those\ntime zones we may need to do that.\n\n480\n00:25:20.640 --> 00:25:22.500\nSo you'll definitely wanna double check,\nand\n\n481\n00:25:22.500 --> 00:25:25.361\nunfortunately this is where\nthings get really challenging,\n\n482\n00:25:25.361 --> 00:25:28.967\nbecause different operating systems\nhandle their time zones differently.\n\n483\n00:25:28.967 --> 00:25:30.454\nAnd not just operating systems.\n\n484\n00:25:30.454 --> 00:25:31.500\nI mean distributions.\n\n485\n00:25:31.500 --> 00:25:35.520\nSo, CentOS handles it one way,\nUbuntu handles it another, Debian.\n\n486\n00:25:35.520 --> 00:25:37.340\nActually Debian and\nUbuntu are pretty similar.\n\n487\n00:25:37.340 --> 00:25:40.860\nSo different distros handle it a different\nway, but if I wanna check my time zone,\n\n488\n00:25:40.860 --> 00:25:45.572\nthere's a few ways to look at that and\none command that's kinda useful is\n\n489\n00:25:45.572 --> 00:25:50.800\nTZ select, which is the time zone select,\nand it's not available on every system but\n\n490\n00:25:50.800 --> 00:25:53.620\nwhen you run it what you\nbasically get is a simple menu and\n\n491\n00:25:53.620 --> 00:25:56.770\nit's gonna ask me to go through and\npick where I want that time zone to be.\n\n492\n00:25:56.770 --> 00:25:59.960\nSo, I can come in here and say well,\nI need to pick Europe, right.\n\n493\n00:25:59.960 --> 00:26:03.330\nAnd then once I am in Europe I can come in\nhere and I can pick France which was 14,\n\n494\n00:26:03.330 --> 00:26:08.400\nand then once it's in France I can pick\nwhat time zone it's going to be in,\n\n495\n00:26:08.400 --> 00:26:12.940\nand looking at it here it looks like I\nguess all of France is in one time zone.\n\n496\n00:26:12.940 --> 00:26:13.468\nI did not know that.\n\n497\n00:26:13.468 --> 00:26:19.810\nSo anyhow, so it's got TZ equals\nEurope/Paris will be used, and\n\n498\n00:26:19.810 --> 00:26:23.670\nso I can come in and say yes that's what\nI want to use, and now I'm switched over.\n\n499\n00:26:23.670 --> 00:26:26.500\nOkay, so\nI used TZ select to change that over, but\n\n500\n00:26:26.500 --> 00:26:28.140\nnotice what it's telling me here.\n\n501\n00:26:28.140 --> 00:26:32.750\nI can set my timezone in my bash profile.\n\n502\n00:26:32.750 --> 00:26:34.140\nMy .profile.\n\n503\n00:26:34.140 --> 00:26:37.090\nSo for my user when I log in I\nhave one timezone when another\n\n504\n00:26:37.090 --> 00:26:38.960\nuser logs in they have\na different timezone.\n\n505\n00:26:38.960 --> 00:26:43.020\nIn my home folder, so\nif I jump over to my home folder, and\n\n506\n00:26:43.020 --> 00:26:46.410\ndo a ls-la somewhere in\nhere I've got a .profile.\n\n507\n00:26:46.410 --> 00:26:49.490\nActually I may not have it, but\nI can set the times in there.\n\n508\n00:26:49.490 --> 00:26:50.430\nI've got my bash profile.\n\n509\n00:26:50.430 --> 00:26:54.510\nI can set it in there too, so a few\ndifferent places we can set that, and\n\n510\n00:26:54.510 --> 00:26:57.060\nwe can even set it in the skeleton folder,\nright?\n\n511\n00:26:57.060 --> 00:27:00.780\nIf you go into /etc/skel, right?\n\n512\n00:27:00.780 --> 00:27:03.960\nThat's the skeleton folder,\nand when you create new users\n\n513\n00:27:03.960 --> 00:27:07.180\nthis is the folder that's copied\nto create their home folders.\n\n514\n00:27:07.180 --> 00:27:11.360\nSo you could put a .profile in here and\nwhenever you create a new user\n\n515\n00:27:11.360 --> 00:27:14.580\nit'll say TZ equals whatever, and\nthey'll operate in that time zone.\n\n516\n00:27:14.580 --> 00:27:16.460\nDifferent users can have\ndifferent time zones.\n\n517\n00:27:16.460 --> 00:27:18.040\nThat makes it a little\nchallenging there also,\n\n518\n00:27:18.040 --> 00:27:20.680\nso different places that might be set.\n\n519\n00:27:20.680 --> 00:27:26.194\nOther things system wide you\nmay have a /etc/timezone file,\n\n520\n00:27:26.194 --> 00:27:30.888\nwhich I don't on this system,\nbut you may have that.\n\n521\n00:27:30.888 --> 00:27:37.608\nYou might also have a /etc/localtime,\nwhich I do have, and if we take a look at.\n\n522\n00:27:37.608 --> 00:27:39.560\nShoot, I forgot about that one.\n\n523\n00:27:39.560 --> 00:27:42.230\nThis one, that local time.\n\n524\n00:27:42.230 --> 00:27:43.730\nLet me pull that up here real quick.\n\n525\n00:27:43.730 --> 00:27:45.300\nI want to show you guys.\n\n526\n00:27:45.300 --> 00:27:49.680\nWhen I look at /etc/localtime\nit's actually a link, and\n\n527\n00:27:49.680 --> 00:27:51.320\nlet me just find here.\n\n528\n00:27:51.320 --> 00:27:54.820\nRight here, so, here's that localtime,\nand notice how it's light blue?\n\n529\n00:27:54.820 --> 00:27:58.563\nAnd that's because it's a symlink, and if\nI look over here see what it's linked to?\n\n530\n00:27:58.563 --> 00:28:04.290\n/user/share/zoneinfo/America/New_York,\nokay?\n\n531\n00:28:04.290 --> 00:28:08.560\nMy localtime file is how the system\nknows what local time is.\n\n532\n00:28:08.560 --> 00:28:11.810\nWhat time zone I'm in, and\nthe way that CentOS is handling it, and\n\n533\n00:28:11.810 --> 00:28:13.290\na few other distros do this too.\n\n534\n00:28:13.290 --> 00:28:18.190\nIs it's just symlinking local time to a\nparticular file that defines my time zone,\n\n535\n00:28:18.190 --> 00:28:21.110\nand that way if any program wants\nto know what time zone I'm in it\n\n536\n00:28:21.110 --> 00:28:22.630\ndoesn't have to know about these files.\n\n537\n00:28:22.630 --> 00:28:25.420\nIt just has to look at /etc/localtime.\n\n538\n00:28:25.420 --> 00:28:28.990\nSo if I want to change that time zone\nI could set it in my profile, but\n\n539\n00:28:28.990 --> 00:28:32.140\nif I want it to be system wide I could\ndo it right here by relinking this.\n\n540\n00:28:32.140 --> 00:28:34.703\nI could say for example ln -sf\n\n541\n00:28:34.703 --> 00:28:43.616\n/usr/share/zoneinfo/ we'll do France.\n\n542\n00:28:43.616 --> 00:28:46.740\nFramce, if I can spell it, France,\n\n543\n00:28:46.740 --> 00:28:49.830\nand then Paris was the one that I\nchose just a moment ago, right?\n\n544\n00:28:49.830 --> 00:28:53.660\nSo I'm gonna say /France/Paris, and\n\n545\n00:28:53.660 --> 00:29:00.540\nI can map that to /etc/localtime, and\nmy heads covering up part of that.\n\n546\n00:29:00.540 --> 00:29:05.965\nLet me bump my head off the screen here\nand what you can see is the full command\n\n547\n00:29:05.965 --> 00:29:10.473\nln -sf/usr/share/zoneinfo/France/Paris,\nright?\n\n548\n00:29:10.473 --> 00:29:13.910\nAnd if you don't know the name of\nthe folder it's just a folder.\n\n549\n00:29:13.910 --> 00:29:15.360\nYou can browse to it and find it.\n\n550\n00:29:15.360 --> 00:29:17.440\nThe last file will be a binary file,\nright?\n\n551\n00:29:17.440 --> 00:29:22.051\nBut everything else here is just a folder,\nand then you map that to local time, okay?\n\n552\n00:29:22.051 --> 00:29:24.742\nAnd you'll need to be root to do that so\nI'll probably get an error if I do that.\n\n553\n00:29:24.742 --> 00:29:25.360\nYeah, permission.\n\n554\n00:29:25.360 --> 00:29:27.810\n[LAUGH] In French.\n\n555\n00:29:27.810 --> 00:29:30.850\nSo, I don't have the permission,\nbut you know you can map that and\n\n556\n00:29:30.850 --> 00:29:33.270\nnow your time zone is set,\nso keep that in mind.\n\n557\n00:29:33.270 --> 00:29:37.216\nFor systems that use a time zone\nfile you would actually edit it, so\n\n558\n00:29:37.216 --> 00:29:40.388\nyou would do some thing\nlike vi/etc/timezone, and\n\n559\n00:29:40.388 --> 00:29:45.037\nyou would edit that file and put it there,\nbut in my case you'll see I've got,\n\n560\n00:29:45.037 --> 00:29:49.437\nI should probably put it back to English,\nbut that's new file in French.\n\n561\n00:29:49.437 --> 00:29:50.055\nViva la France.\n\n562\n00:29:50.055 --> 00:29:50.645\n>> Yeah, that's right.\n\n563\n00:29:50.645 --> 00:29:53.030\n>> [LAUGH]\n>> So supporting our French brethren.\n\n564\n00:29:53.030 --> 00:29:56.860\nAll right, so that's kinda the key thing\nabout time zones, and I guess it's kinda\n\n565\n00:29:56.860 --> 00:29:59.940\nworth just mentioning a few other time\ncommands just to be familiar with them.\n\n566\n00:29:59.940 --> 00:30:02.850\nI used date earlier to verify my date,\nright.\n\n567\n00:30:02.850 --> 00:30:04.480\nSo that I can see it.\n\n568\n00:30:04.480 --> 00:30:08.890\nYou can also do hwclock to\nshow your hardware clock,\n\n569\n00:30:08.890 --> 00:30:11.900\nand the hardware clock is what's\nkind of feeding your software clock.\n\n570\n00:30:11.900 --> 00:30:13.810\nRemember, in Linux you\nget two different clocks.\n\n571\n00:30:13.810 --> 00:30:15.470\nA hardware clock and a software clock.\n\n572\n00:30:15.470 --> 00:30:17.364\nThe hardware one is\nbasically in your bios.\n\n573\n00:30:17.364 --> 00:30:19.788\nIt's part of the motherboard\nof your system,\n\n574\n00:30:19.788 --> 00:30:21.530\nand that clock is not\nnecessarily accurate.\n\n575\n00:30:21.530 --> 00:30:22.590\nIt doesn't have to be.\n\n576\n00:30:22.590 --> 00:30:24.980\nYour software clock is the one\nthat's really important, but\n\n577\n00:30:24.980 --> 00:30:27.670\nyou can synchronize the two if you want.\n\n578\n00:30:27.670 --> 00:30:30.250\nIf I do hwclock-r.\n\n579\n00:30:30.250 --> 00:30:33.300\nI'm on a virtual machine, so it's probably\ngonna freak out a little bit there yeah,\n\n580\n00:30:33.300 --> 00:30:36.150\nso it's tell me that that\nmethod's not supported,\n\n581\n00:30:36.150 --> 00:30:39.730\nbut if you're on an actual physical\nhardware machine you can synchronize these\n\n582\n00:30:39.730 --> 00:30:41.420\nthings a few different ways.\n\n583\n00:30:41.420 --> 00:30:44.630\nIf you wanna set your software\nclock you just say date -s, and\n\n584\n00:30:44.630 --> 00:30:46.680\nthen you specify what you want it to be.\n\n585\n00:30:46.680 --> 00:30:49.600\nSo I might say 20th of June 2016 at 12:00,\nlike that.\n\n586\n00:30:49.600 --> 00:30:54.060\nAnd that would set my software clock, but\n\n587\n00:30:54.060 --> 00:30:59.040\nthat doesn't do anything\nto the hardware clock, and\n\n588\n00:30:59.040 --> 00:31:01.600\nso if I want to set that hardware\nclock I gotta go a little further,\n\n589\n00:31:01.600 --> 00:31:03.580\nand I'm not root, so\nI get permission denied again.\n\n590\n00:31:03.580 --> 00:31:06.780\nBut let's see if it will\nlet me sudo up to do that.\n\n591\n00:31:08.440 --> 00:31:12.810\nThere we go, and so now I've sat it in\nits June 20th, and off we go, right?\n\n592\n00:31:12.810 --> 00:31:16.600\nSo that's setting my software clock,\nbut not the hardware clock, and\n\n593\n00:31:16.600 --> 00:31:21.090\nso if I want to set that there's two\ncommands you need to know for the exam.\n\n594\n00:31:21.090 --> 00:31:26.480\nHwclock followed by --systohc,\n\n595\n00:31:26.480 --> 00:31:30.640\nso that's your system's software clock\ngoing to the hardware clock, right?\n\n596\n00:31:30.640 --> 00:31:33.700\nSo I'm gonna synchronize my software\nclock to the hardware clock, or\n\n597\n00:31:33.700 --> 00:31:38.230\nI can reverse that and say --hctosys, and\n\n598\n00:31:38.230 --> 00:31:41.460\nthat's gonna set my hardware\nclock to the system clock.\n\n599\n00:31:41.460 --> 00:31:44.980\nSo, just the two different directions\nto synchronize that up, and\n\n600\n00:31:44.980 --> 00:31:49.330\non a virtual machine like this I'm\npretty sure that's gonna fail.\n\n601\n00:31:49.330 --> 00:31:52.980\nYou know a virtual machine doesn't\ntechnically have a hardware clock.\n\n602\n00:31:52.980 --> 00:31:53.961\nWell, it took the command.\n\n603\n00:31:53.961 --> 00:31:55.491\nWhat do we end up with.\n\n604\n00:31:55.491 --> 00:31:56.421\nAnd it did put it back.\n\n605\n00:31:56.421 --> 00:31:57.504\nIt actually worked.\n\n606\n00:31:57.504 --> 00:32:01.046\nSo, see how my software\nclock was set to June 20th?\n\n607\n00:32:01.046 --> 00:32:04.689\nBut I just took my hardware clock and\nsynced that to the software,\n\n608\n00:32:04.689 --> 00:32:05.915\nto my system clocks.\n\n609\n00:32:05.915 --> 00:32:09.810\nSo my system clock is now put back to\nthe way that it should be, and off we go.\n\n610\n00:32:09.810 --> 00:32:11.030\nSo we can synchronize those too.\n\n611\n00:32:11.030 --> 00:32:13.670\nThose are important commands to\nremember to get that in place.\n\n612\n00:32:13.670 --> 00:32:15.860\nSo when you correct your time zone, well,\n\n613\n00:32:15.860 --> 00:32:17.610\nyour time zone doesn't\nactually affect these clocks.\n\n614\n00:32:17.610 --> 00:32:21.510\nThese clocks are normally in UTC,\nright, in that universal time or\n\n615\n00:32:21.510 --> 00:32:24.000\nZulu time, Greenwich mean time,\nwhatever you want to call it.\n\n616\n00:32:24.000 --> 00:32:27.250\nSo they're normally set to that under the\nhood, so we don't have to worry about it.\n\n617\n00:32:27.250 --> 00:32:31.909\nBut if you are manipulating your time, you\ncan set these and that'll take care of it.\n\n618\n00:32:31.909 --> 00:32:36.224\nI know we covered NTP in another show but\nlet me just mention it also.\n\n619\n00:32:36.224 --> 00:32:39.597\nYou might not need to do this, because\nyou might be using network time protocol,\n\n620\n00:32:39.597 --> 00:32:43.022\nNTP servers that are out there on the\nnetwork, and if you're using network time,\n\n621\n00:32:43.022 --> 00:32:44.580\nyou're synchronizing off of that.\n\n622\n00:32:44.580 --> 00:32:47.240\nBut again, it is your system clock,\nnot your hardware, so\n\n623\n00:32:47.240 --> 00:32:49.780\nyour hardware clock might be way off,\nand so\n\n624\n00:32:49.780 --> 00:32:54.010\nyou might need to do assist to HC to\nforce the time on your hardware clock.\n\n625\n00:32:54.010 --> 00:32:56.810\nIf you're not using NTP,\nit's really easy to turn on.\n\n626\n00:32:56.810 --> 00:32:59.270\nYou do need it installed,\nwhich I don't have.\n\n627\n00:32:59.270 --> 00:33:01.710\nSo I'm gonna install NTP real quick.\n\n628\n00:33:01.710 --> 00:33:04.570\nI'll do a sudo yum install NTP.\n\n629\n00:33:04.570 --> 00:33:09.310\nAnd get that running.\n\n630\n00:33:09.310 --> 00:33:11.120\nAnd so, there it goes installing it that.\n\n631\n00:33:11.120 --> 00:33:13.880\nI don't know if everything's gonna be\nin French the rest of this episode.\n\n632\n00:33:13.880 --> 00:33:17.850\nWell, actually,\nit says I've already got it, so, okay.\n\n633\n00:33:17.850 --> 00:33:18.720\nSo apparently I've got it.\n\n634\n00:33:18.720 --> 00:33:21.770\nSo once you have NTP, you just need\nto configure its settings, right?\n\n635\n00:33:21.770 --> 00:33:26.071\nAnd if you're using it,\nyou'll have /etc/ntp.conf.\n\n636\n00:33:26.071 --> 00:33:31.390\nAnd so I'm gonna edit that real quick and\ntake a look at what's in there.\n\n637\n00:33:31.390 --> 00:33:33.760\nAnd so, here's the file,\nand as I look at it,\n\n638\n00:33:33.760 --> 00:33:35.350\nnotice how even though I\nchanged my localization,\n\n639\n00:33:35.350 --> 00:33:39.585\nthis is all still in English, right,\nbecause these are my system files.\n\n640\n00:33:39.585 --> 00:33:40.470\nThat's how they work, right?\n\n641\n00:33:40.470 --> 00:33:42.340\nSo localization only goes so far.\n\n642\n00:33:42.340 --> 00:33:44.490\nBut I can see the servers\nthat are defined right here.\n\n643\n00:33:44.490 --> 00:33:46.710\nAnd you can change these to\nwhatever you want, right?\n\n644\n00:33:46.710 --> 00:33:48.320\nIf you're actually in France,\n\n645\n00:33:48.320 --> 00:33:50.610\nyou want to pick servers that\nare geographically close to you.\n\n646\n00:33:50.610 --> 00:33:53.908\nAnd so they have a pool for this.\n\n647\n00:33:53.908 --> 00:33:56.102\nI think it's like Fr.pool.ntp.org\nversus US.pool.ntp.org.\n\n648\n00:33:56.102 --> 00:34:01.058\nYou don't want to sync off of a server in\nthe US if you're all the way in another\n\n649\n00:34:01.058 --> 00:34:02.790\ncontinent.\n\n650\n00:34:02.790 --> 00:34:06.180\nSo we can change those to match\nthe servers that are nearby to us, or\n\n651\n00:34:06.180 --> 00:34:07.320\nyou can have your own servers.\n\n652\n00:34:07.320 --> 00:34:09.290\nYou might choose to use\ninternal servers for that.\n\n653\n00:34:09.290 --> 00:34:10.998\nSo setting up NTP is pretty simple.\n\n654\n00:34:10.998 --> 00:34:14.534\nWe just modify this, whoops,\n[LAUGH] there we go,\n\n655\n00:34:14.534 --> 00:34:17.580\nthis /etc/ntp.conf file and set that.\n\n656\n00:34:17.580 --> 00:34:22.900\nAnd then if you wanna do the actual\nupdate, you can run a quick command.\n\n657\n00:34:22.900 --> 00:34:30.320\nIt's ntpdate pool.\n\n658\n00:34:30.320 --> 00:34:31.930\nAnd then the name of the pool\nthat you want to use.\n\n659\n00:34:31.930 --> 00:34:35.900\nSo I might want to use pool.ntp.org or\nwhatever, and\n\n660\n00:34:35.900 --> 00:34:39.150\nthat would be a one-time sync, if I\njust wanna get the time set real quick.\n\n661\n00:34:39.150 --> 00:34:40.800\nI just changed my time zone and\nall that other stuff.\n\n662\n00:34:40.800 --> 00:34:43.240\nI just wanna make sure it's right,\nso I run this one command.\n\n663\n00:34:43.240 --> 00:34:45.960\nOr I can create a Cron job and\nI can schedule it.\n\n664\n00:34:45.960 --> 00:34:48.640\nAnd I'll put the Cron job syntax\nin the show notes for you guys.\n\n665\n00:34:48.640 --> 00:34:49.490\nBut if you haven't watched it,\n\n666\n00:34:49.490 --> 00:34:52.100\ncheck out our Cron job episode\nwhere we show how to set those.\n\n667\n00:34:52.100 --> 00:34:54.600\nAnd you can just set it to\ndo an update every so often.\n\n668\n00:34:54.600 --> 00:34:58.240\nAnd [LAUGH] access denied\nbecause I forgot to sudo.\n\n669\n00:34:58.240 --> 00:34:59.350\nAnd then that'll run.\n\n670\n00:34:59.350 --> 00:35:02.540\nAnd now my time will be set properly with\nthat server out there on the internet.\n\n671\n00:35:02.540 --> 00:35:07.150\nAll right, so time is not necessarily\na part of localization, right.\n\n672\n00:35:07.150 --> 00:35:09.710\nIt didn't adjust our time zone, but\nit something you want to be aware of.\n\n673\n00:35:09.710 --> 00:35:13.720\nYou're physically in another region,\nand that's why you're localizing Linux.\n\n674\n00:35:13.720 --> 00:35:16.410\nYou'll want to change your time zone also,\nso that's why I bring it all up here.\n\n675\n00:35:16.410 --> 00:35:19.370\n>> Yeah, it'd be kind of funny\nto be messing up your time.\n\n676\n00:35:19.370 --> 00:35:22.546\nYou look at the clock and\nthink, good, it's only 1:30, and\n\n677\n00:35:22.546 --> 00:35:25.975\nyou've changed time zones, and\nyou haven't accounted for that, so.\n\n678\n00:35:25.975 --> 00:35:28.630\n>> Doing these things like this,\nupdating the ntp server,\n\n679\n00:35:28.630 --> 00:35:29.956\nthat can be helpful for you,\n\n680\n00:35:29.956 --> 00:35:33.980\njust making sure you stay on your schedule\nthat you're supposed to be on right, Don?\n\n681\n00:35:33.980 --> 00:35:34.545\n>> Yep.\n\n682\n00:35:34.545 --> 00:35:37.305\nI just wanna point out real quick, I got\nan error when I ran that command cuz I had\n\n683\n00:35:37.305 --> 00:35:40.605\nan extra key word in there, so let me\nshow you the correct command real quick.\n\n684\n00:35:40.605 --> 00:35:44.201\nIt should've been sudo ntpdate,\nright, that was the command, and\n\n685\n00:35:44.201 --> 00:35:48.541\nthen I'd put pool in right here, which I\ndidn't need that, so I left that out, and\n\n686\n00:35:48.541 --> 00:35:51.240\nthen pool.net.org and it synced right up.\n\n687\n00:35:51.240 --> 00:35:54.050\nAnd I got that step time server,\nit reached out, found the time,\n\n688\n00:35:54.050 --> 00:35:54.790\nand synchronized it.\n\n689\n00:35:54.790 --> 00:35:55.938\nSo, that's how we'd get that.\n\n690\n00:35:55.938 --> 00:35:59.186\nYeah, time is really important, especially\nif you doing things like kerberos\n\n691\n00:35:59.186 --> 00:36:02.440\nauthentication, cuz if your time stamp\nis off, stuff really starts to break.\n\n692\n00:36:02.440 --> 00:36:03.468\n>> Awesome stuff.\n\n693\n00:36:03.468 --> 00:36:06.680\nWell, Don, we've covered a lot of ground\ntoday when it comes to localization.\n\n694\n00:36:06.680 --> 00:36:09.370\nA lot of stuff that you probably\naren't thinking about as important,\n\n695\n00:36:09.370 --> 00:36:12.840\nbut in certain situations\nit surely can be.\n\n696\n00:36:12.840 --> 00:36:14.160\nSo this is important stuff for\nyou to learn.\n\n697\n00:36:14.160 --> 00:36:16.560\nIs there anything else that we need\nto go over for this episode, Don?\n\n698\n00:36:16.560 --> 00:36:17.810\nOr have we covered it all?\n\n699\n00:36:17.810 --> 00:36:18.740\n>> I think that's about it.\n\n700\n00:36:18.740 --> 00:36:20.140\nI need to set my localization back.\n\n701\n00:36:20.140 --> 00:36:20.980\n>> [LAUGH] Yeah.\n>> I'm gonna have a hard time\n\n702\n00:36:20.980 --> 00:36:21.860\nthe rest of the day.\n\n703\n00:36:21.860 --> 00:36:25.200\nBut to set it back, you just do\nthe same process we did going forward.\n\n704\n00:36:25.200 --> 00:36:27.640\nSo you can change it again,\nit's pretty straightforward.\n\n705\n00:36:27.640 --> 00:36:29.790\nJust be aware, things might be a little\nbit different in different distros.\n\n706\n00:36:29.790 --> 00:36:33.010\nIt's often easier to change this from\nthe GUI than the command line, but\n\n707\n00:36:33.010 --> 00:36:34.760\non the exam, they want you to\nknow the command line, and so\n\n708\n00:36:34.760 --> 00:36:35.660\nthat's what we're seeing.\n\n709\n00:36:35.660 --> 00:36:36.330\n>> That's right.\n\n710\n00:36:36.330 --> 00:36:38.050\nWell, Don, thank you so\nmuch for joining us today and\n\n711\n00:36:38.050 --> 00:36:39.450\nexplaining localization to us.\n\n712\n00:36:39.450 --> 00:36:42.582\nIt can be a little cryptic, but\nas you can see, it's not too bad.\n\n713\n00:36:42.582 --> 00:36:44.700\nAnd then, once in a while you\nmay actually have to do it,\n\n714\n00:36:44.700 --> 00:36:46.360\nespecially if you're\ntrying to take that exam.\n\n715\n00:36:46.360 --> 00:36:48.220\nThat being said,\nwe've wrapped another great show.\n\n716\n00:36:48.220 --> 00:36:49.040\nHopefully, you've enjoyed it.\n\n717\n00:36:49.040 --> 00:36:50.570\nThank you so much for watching.\n\n718\n00:36:50.570 --> 00:36:53.260\nSigning off for ITProTV,\nI've been your host Daniel Lowrie.\n\n719\n00:36:53.260 --> 00:36:53.890\n>> And I'm Don Pezet.\n\n720\n00:36:53.890 --> 00:36:54.941\n>> And we'll see you next time.\n\n721\n00:36:54.941 --> 00:37:01.338\n[MUSIC]\n\n",
          "vimeoId": "153919136"
        }
      ],
      "title": "(LX0-104) Configuring the X Window System, Localization and Printing"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1947",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-1-managing_users_and_groups-062315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-1-managing_users_and_groups-062315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-1-managing_users_and_groups-062315-1-sm.jpg",
          "title": "Managing Users and Groups",
          "transcript": "WEBVTT\n\n1\n00:00:00.133 --> 00:00:10.793\n[MUSIC]\n\n2\n00:00:10.793 --> 00:00:14.020\nAll right everyone, welcome to\nanother great episode of ITProTV.\n\n3\n00:00:14.020 --> 00:00:18.050\nI'm your host Daniel Lowrie and here with\nme today is none other than Don Pezet.\n\n4\n00:00:18.050 --> 00:00:19.140\nHow's it going today, Don?\n\n5\n00:00:19.140 --> 00:00:20.160\n>> It is going well.\n\n6\n00:00:20.160 --> 00:00:23.450\nI'm all pumped up and\nready to go on another LINUX Plus episode.\n\n7\n00:00:23.450 --> 00:00:25.430\nToday we're gonna take a look\nat an important topic,\n\n8\n00:00:25.430 --> 00:00:28.200\nwhich is managing users and groups.\n\n9\n00:00:28.200 --> 00:00:30.690\nAll throughout the show I've kind of\nbeen logging in with this one account,\n\n10\n00:00:30.690 --> 00:00:34.180\nand that's fine if you've got\na machine that's dedicated to you.\n\n11\n00:00:34.180 --> 00:00:38.100\nBut if we have any kind of shared system,\nlike a laptop that more than one person\n\n12\n00:00:38.100 --> 00:00:42.790\nuses, or a server where you've got more\nthan one admin, then you need to have\n\n13\n00:00:42.790 --> 00:00:46.540\naccounts for those people so they can get\nin there and work Individually, right?\n\n14\n00:00:46.540 --> 00:00:49.490\nNow why is it important that\nwe have separate accounts?\n\n15\n00:00:49.490 --> 00:00:54.710\nWell Linux, Unix, all the different\ndistros, they do logging.\n\n16\n00:00:54.710 --> 00:00:55.960\nThey log who did what.\n\n17\n00:00:55.960 --> 00:00:57.550\nAnd if everybody's logging\nwith the same account,\n\n18\n00:00:57.550 --> 00:00:59.140\nyou really don't know who did what.\n\n19\n00:00:59.140 --> 00:01:00.580\nAnd if we wanna keep files separate,\n\n20\n00:01:00.580 --> 00:01:04.050\nI want my files separate from Daniel,\nthen we need two separate user accounts.\n\n21\n00:01:04.050 --> 00:01:05.850\nAnd we need to control permissions.\n\n22\n00:01:05.850 --> 00:01:09.450\nI might want Daniel to be an admin on\na system and me to be just a regular user.\n\n23\n00:01:09.450 --> 00:01:12.480\nSo I can't restart a service,\nbut Daniel can, all right?\n\n24\n00:01:12.480 --> 00:01:15.490\nThat's the kind of functionality\nthat we get when we create\n\n25\n00:01:15.490 --> 00:01:17.200\nindividual user accounts.\n\n26\n00:01:17.200 --> 00:01:20.180\nSo let's take a look at the way\nthat Linux handles this.\n\n27\n00:01:20.180 --> 00:01:25.010\nNow, Linux handles users pretty much\nthe same way that Unix did, and\n\n28\n00:01:25.010 --> 00:01:27.310\nso it's a pretty straightforward process.\n\n29\n00:01:27.310 --> 00:01:28.900\nEverything is represented as a file,\nand so\n\n30\n00:01:28.900 --> 00:01:33.540\nwe find where user accounts\nare really just an entry in a file.\n\n31\n00:01:33.540 --> 00:01:35.540\nLet me show you what I mean.\n\n32\n00:01:35.540 --> 00:01:37.818\nSo I've got a Cent OS box pulled up here.\n\n33\n00:01:37.818 --> 00:01:41.040\nBut you'll find almost every\nLinux distro does this.\n\n34\n00:01:41.040 --> 00:01:44.260\nYour user accounts are all\nlisted in single file.\n\n35\n00:01:44.260 --> 00:01:49.763\nThat file is /etc/passwd, all right?\n\n36\n00:01:49.763 --> 00:01:54.800\nNow you don't have to be a super user or\nroot or whatever to access this file.\n\n37\n00:01:54.800 --> 00:01:57.050\nAnybody can look inside\nof the password file.\n\n38\n00:01:57.050 --> 00:01:59.670\nNow you might say, wait a minute,\nit's the password file!\n\n39\n00:01:59.670 --> 00:02:03.820\nWell, UNIX used to store the user names\nand passwords right here in this file, and\n\n40\n00:02:03.820 --> 00:02:07.140\nthe passwords were in plain text,\nand yeah, that'd be a big deal.\n\n41\n00:02:07.140 --> 00:02:08.360\nBut things have changed since then.\n\n42\n00:02:08.360 --> 00:02:09.000\nAnd so now,\n\n43\n00:02:09.000 --> 00:02:13.120\nwhen we look inside of the password file,\nnotice that I wasn't a root user.\n\n44\n00:02:13.120 --> 00:02:15.540\nI just had a dollar sign for my prompt.\n\n45\n00:02:15.540 --> 00:02:18.290\nAnd I can see a list of all the accounts,\nall right.\n\n46\n00:02:18.290 --> 00:02:21.320\nHere's all the user accounts\nthat are on my system.\n\n47\n00:02:21.320 --> 00:02:23.350\nAnd the circle of that list, I see root.\n\n48\n00:02:23.350 --> 00:02:25.300\nRight, there's that root user.\n\n49\n00:02:25.300 --> 00:02:28.570\nAnd then we see other ones like sync and\nshutdown, operator, games,\n\n50\n00:02:28.570 --> 00:02:30.800\ngopher, I didn't create those.\n\n51\n00:02:30.800 --> 00:02:32.430\nWell, my Lennox distro did.\n\n52\n00:02:32.430 --> 00:02:34.020\nIt created those when I installed it.\n\n53\n00:02:34.020 --> 00:02:35.220\nAll of those were made.\n\n54\n00:02:35.220 --> 00:02:39.210\nBut if we get all the way down to the end,\nwe'll start to see the ones that we made.\n\n55\n00:02:39.210 --> 00:02:40.150\nAnd there as deep as that.\n\n56\n00:02:40.150 --> 00:02:41.120\nThere's my account.\n\n57\n00:02:41.120 --> 00:02:42.870\nRight there.\n\n58\n00:02:42.870 --> 00:02:43.450\nOkay.\nThe other\n\n59\n00:02:43.450 --> 00:02:46.480\ninformation that's stored in this file\nis information about the account.\n\n60\n00:02:46.480 --> 00:02:47.400\nThat next field.\n\n61\n00:02:47.400 --> 00:02:49.220\nSee how we've got these colons?\n\n62\n00:02:49.220 --> 00:02:52.290\nEach colon indicates we're moving\nfrom one field to another.\n\n63\n00:02:52.290 --> 00:02:53.890\nSo that first field, that's my user name.\n\n64\n00:02:53.890 --> 00:02:56.530\nWhen I logged in, I logged in as dpezet.\n\n65\n00:02:56.530 --> 00:02:58.270\nBut I provided a password.\n\n66\n00:02:58.270 --> 00:03:00.760\nAnd that's what the next field is, that x.\n\n67\n00:03:00.760 --> 00:03:03.370\nNow, it used to be that the password\nwas there in plaintext.\n\n68\n00:03:03.370 --> 00:03:05.690\nAnd then they started\nhashing the passwords and so\n\n69\n00:03:05.690 --> 00:03:07.200\nthe password hash was there.\n\n70\n00:03:07.200 --> 00:03:09.243\nBut then they finally said,\nyou know what, forget it,\n\n71\n00:03:09.243 --> 00:03:10.900\nwe'll just move that\nout to a separate file.\n\n72\n00:03:10.900 --> 00:03:12.470\nSo we have what's called a shadow file,\n\n73\n00:03:12.470 --> 00:03:15.880\nand the shadow file is where\nthe passwords are stored now.\n\n74\n00:03:15.880 --> 00:03:17.900\nWell, they are hashed,\nthey're not in plaintext,\n\n75\n00:03:17.900 --> 00:03:21.560\nthey are secured, but this little x is\njust kind of a note to the system to say,\n\n76\n00:03:21.560 --> 00:03:24.190\nhey, passwords aren't here,\nthey're over in a shadow file.\n\n77\n00:03:25.670 --> 00:03:29.410\nThen, we have the user ID and group ID.\n\n78\n00:03:29.410 --> 00:03:30.560\nAll right?\n\n79\n00:03:30.560 --> 00:03:32.060\nEvery user has a user ID.\n\n80\n00:03:32.060 --> 00:03:33.060\nYou'll see mine is 500.\n\n81\n00:03:33.060 --> 00:03:33.560\nOkay.\n\n82\n00:03:34.860 --> 00:03:38.870\nMost Linux distros start numbering\nthe accounts that you create at 500.\n\n83\n00:03:38.870 --> 00:03:42.090\nSome of them start at 1,000,\nbut most of them start at 500.\n\n84\n00:03:42.090 --> 00:03:43.860\nSo if I add a user, the first one is 500.\n\n85\n00:03:43.860 --> 00:03:47.070\nIf I add another user it'll be 501 and\n\n86\n00:03:47.070 --> 00:03:49.190\nanother user it will be 502,\n503, and so on.\n\n87\n00:03:49.190 --> 00:03:50.980\nThose are user IDs.\n\n88\n00:03:50.980 --> 00:03:53.110\nLinux cares about the user ID.\n\n89\n00:03:53.110 --> 00:03:54.940\nIt doesn't care about the name.\n\n90\n00:03:54.940 --> 00:03:56.130\nThat doesn't mean anything to it.\n\n91\n00:03:56.130 --> 00:03:58.000\nRight, deep as that,\nthat's what we see as humans.\n\n92\n00:03:58.000 --> 00:03:59.700\nI could change the name on the account.\n\n93\n00:03:59.700 --> 00:04:03.530\nAnd as long as my user ID stayed 500,\nI'd still have the same permissions and\n\n94\n00:04:03.530 --> 00:04:04.840\naccess as normal, right?\n\n95\n00:04:04.840 --> 00:04:06.540\nSo the ID is what matters.\n\n96\n00:04:06.540 --> 00:04:10.340\nNow notice that my group ID\nis the same as my user ID.\n\n97\n00:04:10.340 --> 00:04:14.500\nThat means that my account\nis both a user and a group.\n\n98\n00:04:14.500 --> 00:04:15.520\nAnd that's pretty common.\n\n99\n00:04:15.520 --> 00:04:17.530\nI mean look at all these other guys,\nthey're the same way.\n\n100\n00:04:17.530 --> 00:04:19.380\nIt doesn't have to be that way.\n\n101\n00:04:19.380 --> 00:04:24.030\nI can be in a sales group and the sales\ngroup might have an ID of 501, so\n\n102\n00:04:24.030 --> 00:04:28.000\nmy user ID might be 500 and\nthen my group might be 501.\n\n103\n00:04:28.000 --> 00:04:29.869\nRight, depending on the groups\nthat I'm assigned in,\n\n104\n00:04:29.869 --> 00:04:33.020\nbut normally we'll see the number\ntwice there for user and group.\n\n105\n00:04:33.020 --> 00:04:35.026\nThen I've got my full name, Don Pezet,\n\n106\n00:04:35.026 --> 00:04:39.910\nright, the nice human readable format,\nfollowed by my home directory.\n\n107\n00:04:39.910 --> 00:04:42.630\nWhere do my personal files go, right?\n\n108\n00:04:42.630 --> 00:04:45.190\nSlash home slash dpezet is my default.\n\n109\n00:04:45.190 --> 00:04:47.610\nAnd then lastly, what's my shell,right?\n\n110\n00:04:47.610 --> 00:04:50.900\nMy shell is slash bin slash bash.\n\n111\n00:04:50.900 --> 00:04:53.860\nSo when I log in, I'm gonna get bash.\n\n112\n00:04:53.860 --> 00:04:56.720\nBut if I go up here and\ncheck out like root for example.\n\n113\n00:04:56.720 --> 00:04:58.600\nOh well I thought it was different,\nbut apparently it's not,\n\n114\n00:04:58.600 --> 00:05:00.500\nit's slash bin slash bash also.\n\n115\n00:05:00.500 --> 00:05:05.210\nBut maybe you change yours to tcsh or\nzsh or something like that.\n\n116\n00:05:05.210 --> 00:05:07.110\nYou'll see that alternate\nshell right there.\n\n117\n00:05:08.180 --> 00:05:10.570\nNotice the shell on most\nof these other accounts.\n\n118\n00:05:10.570 --> 00:05:11.990\nSlash s bin slash no login.\n\n119\n00:05:13.080 --> 00:05:17.950\nThat means that these can run as services,\nbut they can't get an interactive log in.\n\n120\n00:05:17.950 --> 00:05:19.900\nThey can't actually log in to get a shell.\n\n121\n00:05:19.900 --> 00:05:21.580\nSo, if you're setting\nup a service account,\n\n122\n00:05:21.580 --> 00:05:23.460\nthat's a great way to\nensure security on it.\n\n123\n00:05:23.460 --> 00:05:25.334\nThat nobody can actually\nfigure out that password and\n\n124\n00:05:25.334 --> 00:05:28.430\nactually log in as that user,\nit just runs as a service, right.\n\n125\n00:05:28.430 --> 00:05:30.580\nSo you'll see some of\nthose mapped to that.\n\n126\n00:05:30.580 --> 00:05:33.030\nYou can actually map the shell to\nanything, you can map it to a command.\n\n127\n00:05:33.030 --> 00:05:37.310\nAnd, when somebody logs in, that command\nwould run, and then it would log them out.\n\n128\n00:05:37.310 --> 00:05:42.110\nSo like if you wanted to,\nI don't know, cause anacron to run,\n\n129\n00:05:42.110 --> 00:05:45.830\nyou could put it in here as /bin/anacron,\nand when you logged in,\n\n130\n00:05:45.830 --> 00:05:47.720\nit would run that and\nthen kick you right back out again.\n\n131\n00:05:47.720 --> 00:05:49.890\nSo, not a whole lot of need for\nthat, but you can do it.\n\n132\n00:05:51.770 --> 00:05:54.980\nAll right, now, in the really old days,\nif you wanted to add a user,\n\n133\n00:05:54.980 --> 00:05:58.360\nyou would edit this slash\netc slash past wd file.\n\n134\n00:05:58.360 --> 00:06:02.000\nAnd you would add the user's entry and\nyou just created a user account.\n\n135\n00:06:02.000 --> 00:06:05.250\nBut thanks to the GNU tools, we actually\nhave a whole set of commands that\n\n136\n00:06:05.250 --> 00:06:07.870\nwe can use that make it really\neasy to create user accounts and\n\n137\n00:06:07.870 --> 00:06:09.990\nmodify this data without editing it.\n\n138\n00:06:11.030 --> 00:06:13.450\nSo we'll get a chance to see\nthose here in just a second.\n\n139\n00:06:13.450 --> 00:06:15.601\nBut I want to double back on something\nI mentioned just a moment ago,\n\n140\n00:06:15.601 --> 00:06:17.300\nwhich was that shadow file.\n\n141\n00:06:17.300 --> 00:06:22.820\nThe shadow file, well, this was\nslash ETC slash password or passwd.\n\n142\n00:06:22.820 --> 00:06:27.260\nIf I do slash ETC slash shadow,\nthat's my shadow file.\n\n143\n00:06:27.260 --> 00:06:30.080\nAnd remember how I said even\nthough I wasn't a real real user,\n\n144\n00:06:30.080 --> 00:06:34.160\nI could get to passwd, still I can't get\nto shadow, this one's special, right.\n\n145\n00:06:34.160 --> 00:06:35.810\nIt's actually got passwords in it.\n\n146\n00:06:35.810 --> 00:06:40.965\nAnd so, I need to elevate my privileges\nreal quick, and once I do that,\n\n147\n00:06:40.965 --> 00:06:45.710\n[LAUGH]\nif I know my password, there we go.\n\n148\n00:06:45.710 --> 00:06:50.502\nNow I can go in and take a look at\nthat shadow file, and there it is.\n\n149\n00:06:50.502 --> 00:06:51.750\nAll right.\n\n150\n00:06:51.750 --> 00:06:56.940\nNow the shadow file is made up of\nalmost the same as the past WD file.\n\n151\n00:06:56.940 --> 00:07:01.370\nYou'll see the user's name\nfollowed by their password.\n\n152\n00:07:01.370 --> 00:07:03.290\nAnd see how it's showing\nan asterisk there.\n\n153\n00:07:03.290 --> 00:07:05.740\nWell that's the system\nprotecting me from myself.\n\n154\n00:07:05.740 --> 00:07:10.710\nIn the file the actual password hash\nis there, but when you output it on\n\n155\n00:07:10.710 --> 00:07:15.755\nyour screen the Linux kernel is stepping\nin and rendering that as as a asterisk.\n\n156\n00:07:15.755 --> 00:07:17.400\nNotice this root user up here.\n\n157\n00:07:17.400 --> 00:07:20.020\nSee how we've got the password\nhash right there.\n\n158\n00:07:20.020 --> 00:07:21.220\nThat's the password hash.\n\n159\n00:07:21.220 --> 00:07:22.240\nRight?\nBut these others,\n\n160\n00:07:22.240 --> 00:07:25.410\nthese service accounts that they create,\nthey're obscured.\n\n161\n00:07:25.410 --> 00:07:29.470\nAnd what you'll find is that some of these\ncases, they don't even have a password.\n\n162\n00:07:29.470 --> 00:07:31.420\nLike where we've got\nthe double exclamation points\n\n163\n00:07:31.420 --> 00:07:32.900\nwhere there's no password\nassigned to them.\n\n164\n00:07:32.900 --> 00:07:35.480\nThey don't worry about it because\nit's just a service that runs.\n\n165\n00:07:35.480 --> 00:07:39.080\nAnd, you can't log in as the user anyway,\nso you may see that kind of syntax too.\n\n166\n00:07:39.080 --> 00:07:42.130\nBut, if I scroll all the way down,\nhere's dpezet and\n\n167\n00:07:42.130 --> 00:07:46.105\nthere's my hash password\nright inside there.\n\n168\n00:07:46.105 --> 00:07:49.140\nOkay.\nNow, the values that follow that.\n\n169\n00:07:49.140 --> 00:07:50.390\nThat's my password policy.\n\n170\n00:07:52.030 --> 00:07:54.350\nWhen's the next time I need\nto change my password?\n\n171\n00:07:54.350 --> 00:07:56.210\nWhen was it that I changed this password?\n\n172\n00:07:56.210 --> 00:08:01.210\nHow many times can I get an incorrect\npassword before I'm locked out?\n\n173\n00:08:01.210 --> 00:08:01.750\nRight?\n\n174\n00:08:01.750 --> 00:08:04.960\nThat's my password policy and it's kind\nof stored here in these various values.\n\n175\n00:08:04.960 --> 00:08:06.130\nWe'll see those at the end of the episode.\n\n176\n00:08:06.130 --> 00:08:10.790\nI'll show you how to modify those, but\nthat's all stored in that shadow file.\n\n177\n00:08:10.790 --> 00:08:13.260\nSo two files make up our passwords, right?\n\n178\n00:08:13.260 --> 00:08:18.350\nThere was /etc/passwd and /etc/shadow.\n\n179\n00:08:18.350 --> 00:08:21.280\nTwo really important files to remember.\n\n180\n00:08:21.280 --> 00:08:22.677\n>> Now that shadow file is\nreally the mother lode for\n\n181\n00:08:22.677 --> 00:08:24.688\nanybody trying to get at passwords and\nthey use a really good encrypt or\n\n182\n00:08:24.688 --> 00:08:25.381\nit's not encryption.\n\n183\n00:08:25.381 --> 00:08:28.101\nIt's a hashing algorithm\nto make sure that's and\n\n184\n00:08:28.101 --> 00:08:30.051\nit's a non reversible algorithm.\n\n185\n00:08:30.051 --> 00:08:31.320\nIsn't that right, Don?\n\n186\n00:08:33.660 --> 00:08:36.153\n>> Yeah, hash is a general non reversible.\n\n187\n00:08:36.153 --> 00:08:39.080\nSo they didn't have to do basically\na brute force attack against it, and\n\n188\n00:08:39.080 --> 00:08:40.710\nthere are rainbow tables and\nthings out there but\n\n189\n00:08:40.710 --> 00:08:43.410\nthis is a really strong\nbit strength on these.\n\n190\n00:08:43.410 --> 00:08:46.820\nDifferent distros use different hashes\nthough so just be aware of that.\n\n191\n00:08:46.820 --> 00:08:50.400\nIf you're running an outdated distro\nyou might be using a weaker hash on\n\n192\n00:08:50.400 --> 00:08:51.370\nyour shadow file.\n\n193\n00:08:51.370 --> 00:08:54.250\nFortunately the shadow file's restricted\nso that only the root user can get to it.\n\n194\n00:08:54.250 --> 00:08:57.440\nSo if they've already got root access,\nyou got bigger problems than\n\n195\n00:08:57.440 --> 00:08:59.880\nthem getting at the shadow file cuz\nthey could just reset your passwords.\n\n196\n00:08:59.880 --> 00:09:00.520\nRight?\n>> Right.\n\n197\n00:09:00.520 --> 00:09:02.240\n>> So there's just other problems there.\n\n198\n00:09:02.240 --> 00:09:03.640\nThis is pretty secure.\n\n199\n00:09:03.640 --> 00:09:04.450\n>> Cool.\n\n200\n00:09:04.450 --> 00:09:07.530\nThere's one other file I wanna point\nout before we get to the tools, and\n\n201\n00:09:07.530 --> 00:09:10.405\nthat's the groups file.\n\n202\n00:09:10.405 --> 00:09:14.020\n/etc/passwd, that's my user accounts.\n\n203\n00:09:14.020 --> 00:09:20.250\nBut if I take a look at /etc/groups,\nwell, that's my groups file.\n\n204\n00:09:20.250 --> 00:09:21.390\nNow what did I get?\n\n205\n00:09:21.390 --> 00:09:22.600\nNo such file in directory.\n\n206\n00:09:22.600 --> 00:09:23.170\nRight?\n\n207\n00:09:23.170 --> 00:09:28.540\nA lot of Linux distros store the groups\nright in with the user accounts in passwd.\n\n208\n00:09:28.540 --> 00:09:33.070\nSo don't be surprised if you get exactly\nwhat I got, no such file or directory.\n\n209\n00:09:33.070 --> 00:09:37.182\nBut your distro might actually maintain\na separate file, and that groups file will\n\n210\n00:09:37.182 --> 00:09:41.450\nhave the same format as passwd except\nit will list groups instead of users.\n\n211\n00:09:41.450 --> 00:09:44.330\nAt the end of the day when Linux reads it,\nit's just combining the two.\n\n212\n00:09:44.330 --> 00:09:46.420\nJust break it out to make a little\nbit easier for your management.\n\n213\n00:09:46.420 --> 00:09:49.250\nSo you may have a /etc/groups file.\n\n214\n00:09:49.250 --> 00:09:50.520\nIn my case, I don't.\n\n215\n00:09:50.520 --> 00:09:51.690\nOr, actually, let's see.\n\n216\n00:09:51.690 --> 00:09:52.320\nOh, there we go.\n\n217\n00:09:52.320 --> 00:09:52.910\nYep.\n\n218\n00:09:52.910 --> 00:09:53.440\nOh, shoot.\n\n219\n00:09:53.440 --> 00:09:55.890\nI just [LAUGH] jumped machines there.\n\n220\n00:09:55.890 --> 00:09:56.820\nThere we go.\n\n221\n00:09:56.820 --> 00:09:58.390\nI did an s on mine.\n\n222\n00:09:58.390 --> 00:10:00.290\nI did groups instead of group.\n\n223\n00:10:00.290 --> 00:10:04.070\nSo if I do more for\n/etc/group, there it is.\n\n224\n00:10:04.070 --> 00:10:05.700\nAnd now I'm seeing that group list.\n\n225\n00:10:05.700 --> 00:10:09.240\nAnd notice how it's that same\nbasic format as we saw in passwd.\n\n226\n00:10:09.240 --> 00:10:12.480\nI've got the group name followed\nby the group password, and\n\n227\n00:10:12.480 --> 00:10:15.870\ngroup password is a really old thing\nthat people don't use any more,\n\n228\n00:10:15.870 --> 00:10:18.580\nso you don't really expect\nto see passwords there.\n\n229\n00:10:18.580 --> 00:10:23.790\nFollowed by the group ID, and then the\nimportant part, who's in the group, right.\n\n230\n00:10:23.790 --> 00:10:26.560\nAnd so if I go all the way down\nto the end, I'll find that\n\n231\n00:10:26.560 --> 00:10:30.740\nthere's a dpezet group right there,\ngroup and the group is id 500.\n\n232\n00:10:30.740 --> 00:10:34.491\nAnd membership you've got membership\nnobody well I'm the owner so\n\n233\n00:10:34.491 --> 00:10:38.460\nI have access to the group, and\nnobody's technically in it yet.\n\n234\n00:10:38.460 --> 00:10:40.852\nIf we start to add people we'll\nsee them add to that list.\n\n235\n00:10:40.852 --> 00:10:44.010\nIf I scroll back up here,\nhere's the mail group.\n\n236\n00:10:44.010 --> 00:10:49.280\nIt's group ID 12, and the mail service and\nthe postfix service are both a part of it.\n\n237\n00:10:49.280 --> 00:10:52.110\nSo the groups are stored\nin that file right there.\n\n238\n00:10:52.110 --> 00:10:52.996\nSo pretty important.\n\n239\n00:10:52.996 --> 00:10:59.520\n/etc/passwd, /etc/shadow and /etc/group.\n\n240\n00:10:59.520 --> 00:11:01.150\nThose three files.\n\n241\n00:11:01.150 --> 00:11:04.400\nNow, rarely would we need\nto edit any of those files.\n\n242\n00:11:04.400 --> 00:11:06.090\nWe don't normally edit them.\n\n243\n00:11:06.090 --> 00:11:10.530\nInstead we use various tools to manipulate\nthem, so let's take a look at that.\n\n244\n00:11:10.530 --> 00:11:14.990\nIf I want to create a new user account,\nwell, I've got the user add command.\n\n245\n00:11:14.990 --> 00:11:19.130\nIf I do user add dash dash help,\nyou'll see where you can add any user, and\n\n246\n00:11:19.130 --> 00:11:21.380\nit's got all sorts of different options.\n\n247\n00:11:21.380 --> 00:11:24.920\nNow most of the options are,\nwell, optional, right.\n\n248\n00:11:24.920 --> 00:11:29.720\nAt its base, if I just want to create\na user I can say useradd jdoe.\n\n249\n00:11:29.720 --> 00:11:30.950\nAll right.\n\n250\n00:11:30.950 --> 00:11:32.820\nI'm gonna create a user called John Doe.\n\n251\n00:11:32.820 --> 00:11:33.640\nThere it is, I made it.\n\n252\n00:11:33.640 --> 00:11:34.660\nThat's it.\n\n253\n00:11:34.660 --> 00:11:35.410\nRight?\n\n254\n00:11:35.410 --> 00:11:36.610\n>> Pretty simple.\n>> I'm done.\n\n255\n00:11:36.610 --> 00:11:40.640\nWell, there's some little problems,\nlike, what is John's password?\n\n256\n00:11:40.640 --> 00:11:41.215\nI don't know.\n\n257\n00:11:41.215 --> 00:11:44.870\n[LAUGH] So\nhow I am I gonna log in as that user?\n\n258\n00:11:44.870 --> 00:11:48.430\nOr what groups is John a member of,\nor what's his display name?\n\n259\n00:11:48.430 --> 00:11:50.970\nHow do I know it's John Doe and\nnot James Doe?\n\n260\n00:11:50.970 --> 00:11:52.020\nI don't, right.\n\n261\n00:11:52.020 --> 00:11:54.850\nSo we obviously wanna\nprovide some more options.\n\n262\n00:11:54.850 --> 00:11:58.330\nIf I have a Jane Doe and I want to\ncreate her account, I could come in and\n\n263\n00:11:58.330 --> 00:12:01.210\nI could say, user add, and\nI could specify more information.\n\n264\n00:12:01.210 --> 00:12:03.075\nI could do her home directory.\n\n265\n00:12:03.075 --> 00:12:07.200\n-D lets me specify where her\nhome directory will be, and so\n\n266\n00:12:07.200 --> 00:12:10.500\nI'll put it in /home /janedoe.\n\n267\n00:12:10.500 --> 00:12:12.230\nRight?\nI don't want to do /home /jdoe\n\n268\n00:12:12.230 --> 00:12:14.980\nbecause that will overlap with John.\n\n269\n00:12:14.980 --> 00:12:18.400\nWe can do -e and set an expiration date.\n\n270\n00:12:18.400 --> 00:12:19.950\nWhen does this account expire?\n\n271\n00:12:19.950 --> 00:12:23.480\nSo maybe I want it to expire\non 12/31/2015, all right, and\n\n272\n00:12:23.480 --> 00:12:28.100\nso at the end of the year that account\nwill expire and will no longer be valid.\n\n273\n00:12:28.100 --> 00:12:30.000\nI don't want it to expire so\nI'll leave that off.\n\n274\n00:12:31.180 --> 00:12:34.440\nWe'll do -g for the default group.\n\n275\n00:12:34.440 --> 00:12:37.620\nSo this is the group that's their,\ntheir primary group, and\n\n276\n00:12:37.620 --> 00:12:43.070\nmost of the time we\njust do their username.\n\n277\n00:12:43.070 --> 00:12:46.210\nThe user is in a group of the same\nname and so we leave it at that.\n\n278\n00:12:46.210 --> 00:12:47.830\nBut maybe you have a sales group and\n\n279\n00:12:47.830 --> 00:12:49.810\nyou want them to be in\nthe sales group by default.\n\n280\n00:12:49.810 --> 00:12:51.710\nSo you could come in and\nyou could specify that.\n\n281\n00:12:51.710 --> 00:12:53.865\nI'll say that sales is her default group.\n\n282\n00:12:53.865 --> 00:12:54.960\nAll right?\n\n283\n00:12:54.960 --> 00:13:01.230\nI can say -G and specify any other\ngroups that I want her to be a part of.\n\n284\n00:13:01.230 --> 00:13:07.120\nSo maybe I want her to be in\nthe janedoe group, and the wheel group.\n\n285\n00:13:07.120 --> 00:13:09.610\nShe's gonna be an admin, right, so\nI'm gonna put her in the wheel group so\n\n286\n00:13:09.610 --> 00:13:10.880\nshe can use sudo.\n\n287\n00:13:10.880 --> 00:13:13.180\nSo, now we start to add\nin those other groups.\n\n288\n00:13:13.180 --> 00:13:15.640\nNotice the lowercase versus the capital G.\n\n289\n00:13:15.640 --> 00:13:17.860\nLower case g is that primary group.\n\n290\n00:13:17.860 --> 00:13:21.130\nCapital g is every other group, all right?\n\n291\n00:13:21.130 --> 00:13:22.880\nI can specify a password.\n\n292\n00:13:22.880 --> 00:13:23.660\nSo I'll do -p and\n\n293\n00:13:23.660 --> 00:13:27.060\nI'll just give her a good old\npassword 123 as my secure password.\n\n294\n00:13:29.180 --> 00:13:31.040\nLet's see, what else do we want to assign?\n\n295\n00:13:31.040 --> 00:13:31.890\nThat might be enough.\n\n296\n00:13:31.890 --> 00:13:33.280\nWell I can think of a few other things.\n\n297\n00:13:33.280 --> 00:13:36.692\nLet me resize this window so\nwe don't cover it with my head.\n\n298\n00:13:36.692 --> 00:13:37.244\nAll right.\n\n299\n00:13:37.244 --> 00:13:38.410\n[COUGH] So that was -p.\n\n300\n00:13:38.410 --> 00:13:42.010\nI can do -s and specify her shell.\n\n301\n00:13:42.010 --> 00:13:47.830\nSo I might wanna use /bin/bash or\n/bin/tcsh or an alternate shell.\n\n302\n00:13:49.000 --> 00:13:51.505\nWhat other shells do I\nhave hanging around here.\n\n303\n00:13:51.505 --> 00:13:56.337\nLet's just go and take a look at what\nother shells I got floating around.\n\n304\n00:13:56.337 --> 00:13:57.080\nWe'll do TCSH.\nThat's there.\n\n305\n00:13:57.080 --> 00:13:59.640\nI used to like that one.\n\n306\n00:13:59.640 --> 00:14:03.800\nSo we'll give her that alternate shell.\n\n307\n00:14:03.800 --> 00:14:05.030\nAll right.\n\n308\n00:14:05.030 --> 00:14:06.650\nAnd let's see, is that about it?\n\n309\n00:14:06.650 --> 00:14:09.390\nOh!\nOur user ID.\n\n310\n00:14:09.390 --> 00:14:13.540\nNow normally, we let the user ID\nbe automatically generated, right.\n\n311\n00:14:13.540 --> 00:14:17.410\nI'm user ID 500, she's the next user,\nwell actually Jay Doe was the next user,\n\n312\n00:14:17.410 --> 00:14:19.530\nhe was 501, now Jane Doe should be 502.\n\n313\n00:14:19.530 --> 00:14:21.690\nIf I'm okay with that, that's fine, but\n\n314\n00:14:21.690 --> 00:14:25.130\nthere are times we might wanna\nmanually set the user ID.\n\n315\n00:14:25.130 --> 00:14:27.280\nLet me give you an example.\n\n316\n00:14:27.280 --> 00:14:33.590\nIf you're using SCP, or NFS,\nreally, NFS is a great example.\n\n317\n00:14:33.590 --> 00:14:39.850\nSo, if I log in on my laptop, and\nI connect to an NFS share on the network,\n\n318\n00:14:39.850 --> 00:14:43.105\nif I have a user account here\non my computer for DPezet, and\n\n319\n00:14:43.105 --> 00:14:45.365\nthere's a user account on\nthe other computer called DPezet,\n\n320\n00:14:45.365 --> 00:14:46.795\nam I going to automatically log in?\n\n321\n00:14:46.795 --> 00:14:51.210\nWell you'd think so, but\nthey're two separate user accounts.\n\n322\n00:14:51.210 --> 00:14:56.830\nBut with MFS if my user id matches between\nthe two systems then it'll auto log me in.\n\n323\n00:14:56.830 --> 00:15:00.040\nI've already logged in on my machine,\nthe user id's the same,\n\n324\n00:15:00.040 --> 00:15:04.190\nit'll let me go through, so\nI might wanna make sure, maybe Jane Doe is\n\n325\n00:15:04.190 --> 00:15:09.230\nuser id 700 on another system, and\nso I wanna specify that user id.\n\n326\n00:15:09.230 --> 00:15:10.080\nSo I can come in here and\n\n327\n00:15:10.080 --> 00:15:14.290\nsay dash U700 and\nit doesnt matter that I was at 500 before.\n\n328\n00:15:14.290 --> 00:15:15.340\nIt will jump right up.\n\n329\n00:15:15.340 --> 00:15:16.740\nYou can give it whatever number.\n\n330\n00:15:16.740 --> 00:15:18.510\nI forget what the maximum number is.\n\n331\n00:15:18.510 --> 00:15:19.700\nI know I've seen it as high as 60,000,\n\n332\n00:15:19.700 --> 00:15:22.690\nso you can go pretty\nhigh with these user IDs.\n\n333\n00:15:22.690 --> 00:15:26.790\nBut you might want to manually set one,\nall right?\n\n334\n00:15:26.790 --> 00:15:28.590\nAnd then the last option is\nprobably the most important one.\n\n335\n00:15:28.590 --> 00:15:31.610\nI need to give her a user name, and so\nI'll specify that, Jane Doe, all right?\n\n336\n00:15:33.170 --> 00:15:36.850\nSo these are all different\noptions we can provide.\n\n337\n00:15:36.850 --> 00:15:42.040\nIf I scroll back up here you'll see all\nthe different ones you can do comments,\n\n338\n00:15:42.040 --> 00:15:43.580\nwhether they're inactive.\n\n339\n00:15:43.580 --> 00:15:48.003\nYou can do all sorts of different things\nin here to modify that user account, and\n\n340\n00:15:48.003 --> 00:15:50.590\nwhen I run it,\nit's gonna go in and create it.\n\n341\n00:15:50.590 --> 00:15:54.834\nNow, I got an error because I tried to\nadd her to a group called janedoe and\n\n342\n00:15:54.834 --> 00:15:57.210\nthat group doesn't exist yet, right?\n\n343\n00:15:57.210 --> 00:16:00.800\nWhen you add the user it kind of\ncreates that at the same time.\n\n344\n00:16:00.800 --> 00:16:05.250\nSo I'm kind of putting the The-\n>> Cart before the horse?\n\n345\n00:16:05.250 --> 00:16:07.110\n>> cart before the horse,\nthere we go, that's a good analogy.\n\n346\n00:16:07.110 --> 00:16:10.750\nSo, I'm gonna go ahead and bump her out of\njanedoe, and I can get around this pretty\n\n347\n00:16:10.750 --> 00:16:14.130\neasy, cuz I can always add her\nto that group afterwards, right?\n\n348\n00:16:14.130 --> 00:16:19.350\nUseradd is a great utility for\nadding users, but\n\n349\n00:16:19.350 --> 00:16:23.300\nonce they've already been added,\nwhat if I want to modify them?\n\n350\n00:16:23.300 --> 00:16:25.210\nSo now that I know\nthere's a Jane Doe group,\n\n351\n00:16:25.210 --> 00:16:27.320\nmaybe I want to add her to that group.\n\n352\n00:16:27.320 --> 00:16:30.960\nWell instead of user add,\nI can use user mod.\n\n353\n00:16:30.960 --> 00:16:33.810\nUser mod lets you change the user, or\n\n354\n00:16:33.810 --> 00:16:39.350\nmodify the user after it's been made okay,\nbe careful with user mod, though.\n\n355\n00:16:39.350 --> 00:16:44.540\nIf you look at it like -g, and -G, all\nright, I can change the default group and\n\n356\n00:16:44.540 --> 00:16:51.280\nthe groups they're in, but by default\nthese will overwrite the whole group list.\n\n357\n00:16:51.280 --> 00:16:53.620\nSo if I wanna add to the group list,\n\n358\n00:16:53.620 --> 00:16:59.390\nI need to make sure I use this -a also to\nappend, to add to the list as it exists.\n\n359\n00:16:59.390 --> 00:17:03.810\nSo, right now if I wanna look at like\nthe groups that Jane is in, well,\n\n360\n00:17:04.890 --> 00:17:09.200\nwe gotta few different commands if we want\nto see the groups that somebody is in.\n\n361\n00:17:09.200 --> 00:17:11.390\nThe easiest one is we can\nuse the groups command.\n\n362\n00:17:11.390 --> 00:17:15.760\nWe can say, like, groups, janedoe, and\nit'll show what's she's in, she's in Sales\n\n363\n00:17:15.760 --> 00:17:22.120\nand Wheel, right now, and so I can say,\nusermod, -G, i'm doing the capital G,\n\n364\n00:17:22.120 --> 00:17:26.754\nso this will be a secondary group, not her\nprimary, and I'm gonna modify janedoe.\n\n365\n00:17:26.754 --> 00:17:32.514\nOop, I need to say the group first,\ni'm gonna add her to the janedoe group,\n\n366\n00:17:32.514 --> 00:17:37.014\nand then I need to tell it\nthe user that I'm putting in that,\n\n367\n00:17:37.014 --> 00:17:39.175\nand it's gonna be janedoe.\n\n368\n00:17:39.175 --> 00:17:42.286\nWhoops, my typing is gonna stop us, here.\n\n369\n00:17:42.286 --> 00:17:44.720\nOh still getting janedoe group, not exist,\n\n370\n00:17:44.720 --> 00:17:47.997\nit should of created that group\nby default but you know what?\n\n371\n00:17:47.997 --> 00:17:50.539\nWe can always just add that group\nif we need to have it, right?\n\n372\n00:17:50.539 --> 00:17:53.036\nI used user add to create a user account.\n\n373\n00:17:53.036 --> 00:17:55.195\nYou can use group add to create a group.\n\n374\n00:17:55.195 --> 00:17:58.367\nGroups are a lot easier, because it's\nnot usually a whole lot of options\n\n375\n00:17:58.367 --> 00:18:00.873\nthat we need to modify when we\nadd a group into our system.\n\n376\n00:18:00.873 --> 00:18:04.360\nSo we normally just say groupadd,\nfollowed by a name.\n\n377\n00:18:04.360 --> 00:18:09.480\nI'll create that janedoe group,\nand now when I run usermod I can,\n\n378\n00:18:09.480 --> 00:18:13.940\noh shoot, I told the viewers I\nsaid you need to use -a to append.\n\n379\n00:18:13.940 --> 00:18:15.960\nI didn't do -a.\n\n380\n00:18:15.960 --> 00:18:22.090\nSo if I do a groups janedoe,\nnotice how she's not in wheel anymore.\n\n381\n00:18:22.090 --> 00:18:25.517\nI didn't append, I just replaced,\nand so I've got a choice.\n\n382\n00:18:25.517 --> 00:18:30.189\nI could just kind of rerun this\ncommand and add, wheel to the list,\n\n383\n00:18:30.189 --> 00:18:34.529\nlike that, or if it's a long list and\nI don't want to type it,\n\n384\n00:18:34.529 --> 00:18:39.636\nI could just say wheel, but\nI'm going to add that -a to append, right?\n\n385\n00:18:39.636 --> 00:18:43.678\nSo now it's appending the wheel group to\njane, made the mistake, you know what?\n\n386\n00:18:43.678 --> 00:18:44.505\nI'll play it up,\n\n387\n00:18:44.505 --> 00:18:47.603\nI just wanted to demonstrate to\nyou guys the the overriding there.\n\n388\n00:18:47.603 --> 00:18:49.542\n>> How easy is it to make that mistake.\n\n389\n00:18:49.542 --> 00:18:52.530\n[LAUGH]\n>> So, now that I've done that,\n\n390\n00:18:52.530 --> 00:18:56.390\nthough I can see right here that\nshe's got Sales, wheel, and janedoe.\n\n391\n00:18:56.390 --> 00:18:59.860\nShe's in all three, now the group\nmemberships are squared away correctly.\n\n392\n00:19:00.890 --> 00:19:03.940\nLet's take a look at those files and\nsee how they were modified.\n\n393\n00:19:03.940 --> 00:19:08.620\nIf I take a look at /etc/passwd,\n\n394\n00:19:08.620 --> 00:19:14.010\nI can see janedoe has an account,\nher user ID is 700, but\n\n395\n00:19:14.010 --> 00:19:19.170\nher group ID is 501, why is it 501,\ncuz I created a sales group and\n\n396\n00:19:19.170 --> 00:19:22.020\nthe sales group had an ID of 501,\nand that's what it gave her.\n\n397\n00:19:22.020 --> 00:19:22.940\nRight?\n\n398\n00:19:22.940 --> 00:19:27.613\nThen I can see her home\ndirectory is /home/janedoe and\n\n399\n00:19:27.613 --> 00:19:32.990\n/bin/tcsh is her shell that she's\ngonna get when she logs in.\n\n400\n00:19:32.990 --> 00:19:35.802\nAnd if I look in /etc/group, there we go,\n\n401\n00:19:35.802 --> 00:19:39.374\nwe can jump in there and\nI can find the janedoe group, and\n\n402\n00:19:39.374 --> 00:19:43.402\nshe's a member of it, and\nif I can find the wheel group in here,\n\n403\n00:19:43.402 --> 00:19:46.234\nwhich I'll probably just have to grab-\n>> There it is.\n\n404\n00:19:46.234 --> 00:19:47.058\n>> Oh, there it is.\n\n405\n00:19:47.058 --> 00:19:47.638\nYep.\n\n406\n00:19:47.638 --> 00:19:50.135\nThere's the wheel group and\nJane's in that one, too.\n\n407\n00:19:50.135 --> 00:19:54.895\nSo, the group memberships are set the way\nthat I want, and I'm not gonna see much,\n\n408\n00:19:54.895 --> 00:19:58.499\nbut if I take a look at passwd,\nI mean shadow, /etc/shadow,\n\n409\n00:19:58.499 --> 00:20:02.579\nwe'll see jane right there at the end,\nand there's her password, and\n\n410\n00:20:02.579 --> 00:20:05.470\nlook how encrypted that password is.\n\n411\n00:20:05.470 --> 00:20:08.410\nRight, this is something we have\nto be a little careful about,\n\n412\n00:20:08.410 --> 00:20:13.220\nLinux distros don't necessarily\nencrypt the password by default.\n\n413\n00:20:13.220 --> 00:20:17.970\nWhen I provided the password,\nI provided it in plain text.\n\n414\n00:20:17.970 --> 00:20:22.460\nSo, that's a limitation of that\n/p modifier when we do user add.\n\n415\n00:20:22.460 --> 00:20:27.140\nIf you want it to be encrypted, you\nneed to use the passwd command, and so,\n\n416\n00:20:27.140 --> 00:20:31.660\nyou could run for example,\npasswd janedoe, and\n\n417\n00:20:31.660 --> 00:20:35.560\nnow I'm changing the password for\njanedoe, and I can set it.\n\n418\n00:20:35.560 --> 00:20:40.320\nI'll set her password to just be like the\nword password, and I'll provide it, and\n\n419\n00:20:40.320 --> 00:20:44.808\nit's just warning me, and it's updating\nthose authentication tokens, and\n\n420\n00:20:44.808 --> 00:20:48.958\nif I go in and take a look at the shadow\nnow, see how it encrypted, right.\n\n421\n00:20:48.958 --> 00:20:50.660\nWell, I say encrypted, hashed it, right.\n\n422\n00:20:50.660 --> 00:20:51.866\nSo there's that hash.\n\n423\n00:20:51.866 --> 00:20:55.704\nThat's the difference when I use\nthe /p modifier and user add,\n\n424\n00:20:55.704 --> 00:20:59.330\nuser add doesn't encrypt the password,\nit's plain text,\n\n425\n00:20:59.330 --> 00:21:03.834\nbut if I use passwd that command to\nreset it, it will be hashed, all right.\n\n426\n00:21:03.834 --> 00:21:06.854\nSo a lot of times when we create a user\naccount like that janedoe account,\n\n427\n00:21:06.854 --> 00:21:08.860\nwe don't provide a password, right?\n\n428\n00:21:08.860 --> 00:21:10.070\nBecause we're just gonna\nhave to come back and\n\n429\n00:21:10.070 --> 00:21:13.870\nreset it anyway when we do\npasswd against jdoe, and\n\n430\n00:21:13.870 --> 00:21:19.200\nnow we'll set his password to something\nnew, then it'll be hashed, all right.\n\n431\n00:21:19.200 --> 00:21:24.053\nSo just keep that in mind that you may\nnot be encrypting if you're assigning\n\n432\n00:21:24.053 --> 00:21:25.756\na password with user add.\n\n433\n00:21:25.756 --> 00:21:29.297\nAll right, couple other things\nthat we might wanna manipulate.\n\n434\n00:21:29.297 --> 00:21:32.199\nWell, actually I'm\ngetting ahead of myself.\n\n435\n00:21:32.199 --> 00:21:32.917\nLet's do this.\n\n436\n00:21:32.917 --> 00:21:40.143\nLet's switch over to,\nlet me get a new tab open.\n\n437\n00:21:40.143 --> 00:21:43.116\nWhat's gonna be the best way,\nI wanna switch over to good old janedoe.\n\n438\n00:21:43.116 --> 00:21:46.140\nI'm gonna log in as janedoe real quick,\nand\n\n439\n00:21:46.140 --> 00:21:50.061\nnow I'm logged in as janedoe,\nand when I do a little pwd,\n\n440\n00:21:50.061 --> 00:21:55.070\npresent working director,\nI can see I'm in /home/janedoe, right?\n\n441\n00:21:55.070 --> 00:21:59.086\nSo she's in her directory, and\nI know it doesn't look any different, but\n\n442\n00:21:59.086 --> 00:22:03.675\nI am using tcsh right now, so I'm in that\nalternate shell, I'm working on janedoe,\n\n443\n00:22:03.675 --> 00:22:05.048\nand I'm happy, right.\n\n444\n00:22:05.048 --> 00:22:08.949\nSo, I'm able to do that, the user account\nwas created, things are working properly.\n\n445\n00:22:08.949 --> 00:22:13.687\nIf I switch back to my root user and\ngo into /home/janedoe, and\n\n446\n00:22:13.687 --> 00:22:18.423\nI take a look at all of her folders,\nnotice the owner is janedoe,\n\n447\n00:22:18.423 --> 00:22:23.430\nand the group is her primary group,\nher group is sales, okay.\n\n448\n00:22:23.430 --> 00:22:26.120\nSo everything's been created the way\nthat we expected, all right.\n\n449\n00:22:27.340 --> 00:22:31.540\nNow one little challenge we have there is\nwhen you're in those alternate groups,\n\n450\n00:22:31.540 --> 00:22:32.390\nyou get permissions.\n\n451\n00:22:32.390 --> 00:22:35.127\nYou get whatever those\nalternate groups give you, but\n\n452\n00:22:35.127 --> 00:22:38.831\nas you do things like creating files,\nright, let me switch back to jane.\n\n453\n00:22:38.831 --> 00:22:42.182\nI'll switch back to Jane here and, so\n\n454\n00:22:42.182 --> 00:22:46.793\nlet's say I create a directory\ncalled Documents and\n\n455\n00:22:46.793 --> 00:22:51.532\nin the Documents I create a file1.txt,\nall right?\n\n456\n00:22:51.532 --> 00:22:56.173\nWhen I look at that, see how sales Is my\nprimary group, and I just created that, so\n\n457\n00:22:56.173 --> 00:22:57.335\nsales is the owner.\n\n458\n00:22:57.335 --> 00:22:58.398\nWhat about all my other groups?\n\n459\n00:22:58.398 --> 00:23:01.230\nWhat about wheel, and\njanedoe, and those guys?\n\n460\n00:23:01.230 --> 00:23:04.297\nWell, I can always change\nthe ownership of this file, but\n\n461\n00:23:04.297 --> 00:23:07.614\nthat can get to be a hassle if\nwe're having to do it all the time,\n\n462\n00:23:07.614 --> 00:23:10.826\nlike always going back and\nchanging the ownership of a file.\n\n463\n00:23:10.826 --> 00:23:14.777\nSo, we have a couple of ways that we\ncan actually switch our context to say,\n\n464\n00:23:14.777 --> 00:23:18.670\nhey I want to perform something under\na different group's identity, and\n\n465\n00:23:18.670 --> 00:23:23.059\none of the easiest ways to do that is with\nthe, let's see if I can remember this one,\n\n466\n00:23:23.059 --> 00:23:24.933\nI think it's the newgrp command.\n\n467\n00:23:24.933 --> 00:23:26.014\n>> Yeah.\n>> Yep.\n\n468\n00:23:26.014 --> 00:23:33.520\n>> Newgrp, and with newgrp, there we go,\nyou just specify one of your subgroups.\n\n469\n00:23:33.520 --> 00:23:38.830\nSo she could say like,\nnewgrp wheel, all right, and\n\n470\n00:23:38.830 --> 00:23:43.760\nnow, in her current context, she's\nactually working as that subgroup, and\n\n471\n00:23:43.760 --> 00:23:47.210\nso, if I create file2.txt, and\n\n472\n00:23:47.210 --> 00:23:51.980\ntake a look, see how it's janedoe and\nwheel automatically, all right.\n\n473\n00:23:51.980 --> 00:23:56.221\nSo, if you're gonna be doing a bunch of\nwork, and you want it to happen as that\n\n474\n00:23:56.221 --> 00:23:59.835\nalternate group, you can do that\nnewgrp to change your context.\n\n475\n00:23:59.835 --> 00:24:03.169\nAnd then just, when you're done, you just\nkinda put it back, and I can go back to\n\n476\n00:24:03.169 --> 00:24:06.335\nsales, or if you log out and log back in,\nyou'll be back to the way you were.\n\n477\n00:24:06.335 --> 00:24:10.484\nAnd now you're working under that context,\nso a user can kind of switch in between,\n\n478\n00:24:10.484 --> 00:24:11.719\nso that's a useful one.\n\n479\n00:24:11.719 --> 00:24:14.981\nLet's see, I'm really short on time,\nI've got a ton of other ones I wanna show.\n\n480\n00:24:14.981 --> 00:24:20.600\nRemember that it's chown or chgrp,\nright, change group, change owner.\n\n481\n00:24:20.600 --> 00:24:23.820\nWe could have used those to change\nownership too, but that's manual.\n\n482\n00:24:23.820 --> 00:24:26.670\nNew GRP kind of saves.\n\n483\n00:24:26.670 --> 00:24:31.402\nA couple of other things,\nif we wanna get information about a user,\n\n484\n00:24:31.402 --> 00:24:35.065\nthere's the getent command, G-E-T-E-N-T.\n\n485\n00:24:35.065 --> 00:24:36.980\nLet me show you guys this one.\n\n486\n00:24:36.980 --> 00:24:41.095\nGetent, what it does is it gets entries.\n\n487\n00:24:41.095 --> 00:24:43.696\nIt looks inside of those files that\nI showed you, the shadow file,\n\n488\n00:24:43.696 --> 00:24:46.343\nthe passwd file and those, and\nit gets information out of those, so\n\n489\n00:24:46.343 --> 00:24:47.889\nyou don't have to hunt for it, right.\n\n490\n00:24:47.889 --> 00:24:52.377\nYou remember when I was hunting for that\nwheel group, well I can just getent, and\n\n491\n00:24:52.377 --> 00:24:54.295\nit will help out a lot more.\n\n492\n00:24:54.295 --> 00:24:57.347\nI can say getent,\nfollowed by group wheel and\n\n493\n00:24:57.347 --> 00:25:01.940\nit's gonna get all the entries from\nthe wheel group and there it is.\n\n494\n00:25:01.940 --> 00:25:04.459\nI don't even have to remember which file\nit's in, it just goes and it gets it.\n\n495\n00:25:04.459 --> 00:25:07.162\nAnd it's useful for\ndistros that don't use the group file,\n\n496\n00:25:07.162 --> 00:25:09.500\nthat actually lump it\ninto the passwd file.\n\n497\n00:25:09.500 --> 00:25:13.720\nSo we can get it that way,\nI can say getent user janedoe,\n\n498\n00:25:13.720 --> 00:25:18.810\nand it's gonna get her information,\nand oh sorry, not user, passwd.\n\n499\n00:25:18.810 --> 00:25:22.830\nGetent passwd janedoe.\n\n500\n00:25:22.830 --> 00:25:25.320\nAnd there it is,\nit's getting that information.\n\n501\n00:25:25.320 --> 00:25:29.180\nAll it's really doing is grepping\nthose files for us, right?\n\n502\n00:25:29.180 --> 00:25:31.610\nBut getent is a pretty handy one.\n\n503\n00:25:31.610 --> 00:25:34.765\nWe can do getent shadow janedoe also.\n\n504\n00:25:34.765 --> 00:25:37.295\nAnd it'll reach in there and\nget that information, at least it should,\n\n505\n00:25:37.295 --> 00:25:40.545\nit did not pull anything back for\nher there.\n\n506\n00:25:40.545 --> 00:25:42.226\n>> Probably because you're not-\n>> I'm not root.\n\n507\n00:25:42.226 --> 00:25:42.934\n>> That's right.\n\n508\n00:25:42.934 --> 00:25:45.197\n>> Well that'll make a difference.\n\n509\n00:25:45.197 --> 00:25:47.334\nLet me retry that.\n\n510\n00:25:47.334 --> 00:25:50.740\nI'm gonna do getent shadow janedoe.\n\n511\n00:25:50.740 --> 00:25:52.930\nAnd there we go, sure enough, there's\nour hash and our other information.\n\n512\n00:25:52.930 --> 00:25:56.720\n>> I always find that interesting that\nLinux sometimes doesn't actually warn you\n\n513\n00:25:56.720 --> 00:25:58.070\nof anything, it just doesn't do it.\n\n514\n00:25:58.070 --> 00:25:58.759\n[LAUGH]\n>> It just doesn't.\n\n515\n00:25:58.759 --> 00:25:59.815\nIt's like whatever.\n\n516\n00:25:59.815 --> 00:26:01.730\n>> It's like you're not the, you don't\nhave the clout around here, fella.\n\n517\n00:26:01.730 --> 00:26:02.926\nI'm not even gonna tell you\nyou don't have the clout,\n\n518\n00:26:02.926 --> 00:26:03.710\nthat's how little clout you have.\n\n519\n00:26:03.710 --> 00:26:05.917\n>> [LAUGH]\n>> [LAUGH]\n\n520\n00:26:05.917 --> 00:26:06.461\n>> All right,\n\n521\n00:26:06.461 --> 00:26:09.783\ncouple last little things that I wanna\ntalk about in the bare few moments I\n\n522\n00:26:09.783 --> 00:26:11.110\nhave in this episode.\n\n523\n00:26:11.110 --> 00:26:16.193\nYou guys saw useradd, you saw groupadd,\nkeep in mind there's usermod and groupmod\n\n524\n00:26:16.193 --> 00:26:21.380\nfor changing, and there's userdel for\nuser delete and groupdel for group delete.\n\n525\n00:26:21.380 --> 00:26:25.880\nSo, you can use those to add,\nchange, and delete users and groups.\n\n526\n00:26:25.880 --> 00:26:30.454\nYou should never have to edit passwd or\nedit shadow or any of those, right.\n\n527\n00:26:30.454 --> 00:26:33.470\nYou can, you can go and\nedit them, they're not protected.\n\n528\n00:26:33.470 --> 00:26:36.065\nWell, I mean, if you're a root,\nyou can go in and edit them.\n\n529\n00:26:36.065 --> 00:26:38.206\nBut you should use the commands instead.\n\n530\n00:26:38.206 --> 00:26:42.775\nThe other thing I wanna mention\nis the chage command, all right?\n\n531\n00:26:42.775 --> 00:26:46.065\nLet me show you guys this guy real quick,\nchage and\n\n532\n00:26:46.065 --> 00:26:49.355\nwhat this one does is it lets\nyou set password policies.\n\n533\n00:26:49.355 --> 00:26:52.345\nRemember in the shadow file, I mentioned\nthose numbers at the end, well,\n\n534\n00:26:52.345 --> 00:26:53.415\nthese numbers right here.\n\n535\n00:26:53.415 --> 00:26:55.140\nThat are the password policy.\n\n536\n00:26:55.140 --> 00:26:58.450\nWell you'll see right here,\nyou can set the expiration date for\n\n537\n00:26:58.450 --> 00:27:02.040\na password, you can set whether\nthe account's inactive.\n\n538\n00:27:02.040 --> 00:27:05.370\nYou can set the minimum days in\nbetween password changes and\n\n539\n00:27:05.370 --> 00:27:07.920\nthe maximum days in between\npassword changes and\n\n540\n00:27:07.920 --> 00:27:12.490\nat what point you start warning\npeople about their password expiring.\n\n541\n00:27:12.490 --> 00:27:18.360\nSo we can use chage for that, so for\nexample I might say chage-m 1, in other\n\n542\n00:27:18.360 --> 00:27:23.450\nwords, you can only change your password\nonce a day, no rapid password changes.\n\n543\n00:27:23.450 --> 00:27:29.400\nWe could say, -M 90, now you gotta\nchange your password every 90 days.\n\n544\n00:27:29.400 --> 00:27:33.350\nNotice that's a capital M, capital M for\nthe max, lower case m for the minimum.\n\n545\n00:27:33.350 --> 00:27:37.006\nI can say -E, what the expiration\ndate is gonna be for this person,\n\n546\n00:27:37.006 --> 00:27:38.237\nI'll leave that off.\n\n547\n00:27:38.237 --> 00:27:42.000\nI do -W,\nwhen do I start warning them, Right?\n\n548\n00:27:42.000 --> 00:27:44.890\nSo maybe I'll wanna warn them at 75 days,\nright?\n\n549\n00:27:44.890 --> 00:27:48.440\nSo two weeks before their password\nexpires, that's when I want to warn them.\n\n550\n00:27:48.440 --> 00:27:50.830\nAnd then I can specify\nwho I'm applying this to.\n\n551\n00:27:50.830 --> 00:27:52.510\nAnd I can do an individual user or\n\n552\n00:27:52.510 --> 00:27:56.180\nI can do like wild cards to get more but\nmaybe I want this to apply to jdoe.\n\n553\n00:27:56.180 --> 00:27:58.130\nI can fire that off and there we go.\n\n554\n00:27:58.130 --> 00:27:59.682\nThat's gonna go in and make that change.\n\n555\n00:27:59.682 --> 00:28:04.820\nI feel like there was something\nelse that I wanted to mention.\n\n556\n00:28:04.820 --> 00:28:06.848\nOh, shoot.\nWe're gonna go a little long in this\n\n557\n00:28:06.848 --> 00:28:07.670\nepisode, Dan.\n\n558\n00:28:07.670 --> 00:28:08.420\nI'm gonna break the rules.\n\n559\n00:28:09.530 --> 00:28:13.890\nWhen we create a new user, where do\nall their settings come from, right?\n\n560\n00:28:13.890 --> 00:28:17.189\nHow does it know in my home directory\nwhat files should I have, right?\n\n561\n00:28:17.189 --> 00:28:19.695\nWhen I logged in as Jane that first time,\n\n562\n00:28:19.695 --> 00:28:23.080\nshe had certain files already present,\nright?\n\n563\n00:28:23.080 --> 00:28:26.692\nSo when she went into her home directory,\nshe had .bashrc.\n\n564\n00:28:26.692 --> 00:28:29.450\nShe had .gnome2, .mozilla.\n\n565\n00:28:29.450 --> 00:28:32.450\nHow did it know to give her that stuff,\nall right.\n\n566\n00:28:32.450 --> 00:28:36.850\nThe way it did that is through some system\ntemplates that are in place on our,\n\n567\n00:28:36.850 --> 00:28:38.240\nwell on our system, all right.\n\n568\n00:28:38.240 --> 00:28:39.490\nSo let me show you where those come from.\n\n569\n00:28:39.490 --> 00:28:41.420\nThere's actually three\ndifferent places and then,\n\n570\n00:28:41.420 --> 00:28:43.060\nI swear we'll wrap\nthe episode up from there.\n\n571\n00:28:43.060 --> 00:28:44.193\nI don't want this to be\nthe longest on record.\n\n572\n00:28:44.193 --> 00:28:46.508\nSo if you take a look in /etc,\n\n573\n00:28:46.508 --> 00:28:51.270\nthere's a couple of files\nin here that are important.\n\n574\n00:28:51.270 --> 00:28:54.950\nOne of the most important ones is\nthis guy right here, login.defs.\n\n575\n00:28:54.950 --> 00:28:59.911\nIf I take a look at /etc/login.defs,\nor definitions,\n\n576\n00:28:59.911 --> 00:29:03.973\nin here,\nit defines password policy, right.\n\n577\n00:29:03.973 --> 00:29:07.379\nIt defines other information about\nwhere their mail is being stored,\n\n578\n00:29:07.379 --> 00:29:08.870\ntheir mail directory.\n\n579\n00:29:08.870 --> 00:29:12.700\nWe can see other things like\nthe UID minimum and maximum.\n\n580\n00:29:12.700 --> 00:29:15.857\nIf your distro starts at a thousand, this\nis where it makes that decision, right and\n\n581\n00:29:15.857 --> 00:29:19.280\nwhat the maximum is, there's that\n60,000 that I threw out earlier.\n\n582\n00:29:19.280 --> 00:29:21.550\nYou'll see the group ID minimum and\nmaximum.\n\n583\n00:29:21.550 --> 00:29:24.940\nDown here, you'll see whether we\nshould create a home directory.\n\n584\n00:29:24.940 --> 00:29:26.814\nAll of this is specifying what we do.\n\n585\n00:29:26.814 --> 00:29:31.412\nNotice the encrypt password and mine's\nset to MD5, maybe you don't want MD5.\n\n586\n00:29:31.412 --> 00:29:33.095\nWell you can come in here and\nyou can modify and\n\n587\n00:29:33.095 --> 00:29:35.490\nyou can change that method\nto something else, right?\n\n588\n00:29:35.490 --> 00:29:40.220\nSo we've got that ability\nright here in login.defs.\n\n589\n00:29:40.220 --> 00:29:47.510\nAnother file that comes\ninto play is /etc/default.\n\n590\n00:29:47.510 --> 00:29:49.839\nInside the default,\nyou'll see this file called useradd.\n\n591\n00:29:49.839 --> 00:29:55.620\nAnd if we take a look at that, that was\n/etc/default/useradd right in here,\n\n592\n00:29:55.620 --> 00:30:00.030\nit's got information about\nthe user defaults, right.\n\n593\n00:30:00.030 --> 00:30:01.580\nWhat's the default shell?\n\n594\n00:30:01.580 --> 00:30:03.560\nWhat's the default home directory?\n\n595\n00:30:03.560 --> 00:30:05.860\nWhat's the default group\nthey're gonna be a part of?\n\n596\n00:30:05.860 --> 00:30:07.980\nAnd we can override these when\nwe create an account, but\n\n597\n00:30:07.980 --> 00:30:13.110\nif I just say, useradd jdoe,\nit pulls these defaults right here, right.\n\n598\n00:30:13.110 --> 00:30:17.750\nIt'll give him this home directory, it'll\ngive him that shell, and so on, right.\n\n599\n00:30:17.750 --> 00:30:18.600\nThat's where it's coming from.\n\n600\n00:30:19.660 --> 00:30:24.010\nAnd then, see this SKEL value,\nthat's our skeleton.\n\n601\n00:30:24.010 --> 00:30:28.770\nYour home directory is actually cloned\nfrom this skeleton directory, so\n\n602\n00:30:28.770 --> 00:30:30.910\nwhen you wonder what files are gonna\nbe in your home directory for\n\n603\n00:30:30.910 --> 00:30:34.470\nnew user, it's whatever is in /etc/skel,\nall right?\n\n604\n00:30:35.930 --> 00:30:40.610\nIf I take a look in here,\nthere's .bash_profile, .bashrc, .gnome2,\n\n605\n00:30:40.610 --> 00:30:45.400\n.mozilla, if I put something in here\nwhen I add new users, it clones this and\n\n606\n00:30:45.400 --> 00:30:46.800\nthat's what they'll have.\n\n607\n00:30:46.800 --> 00:30:49.860\nSo if I want to set a .history and people\nalready have 20 commands in their history\n\n608\n00:30:49.860 --> 00:30:53.860\nand freak them out, I can put it right\nhere and it'll work, it'll do that, right.\n\n609\n00:30:53.860 --> 00:30:56.720\nBe aware this only affects new users.\n\n610\n00:30:56.720 --> 00:30:58.020\nIt doesn't affect existing users.\n\n611\n00:30:58.020 --> 00:30:59.480\nIf you already created users,\nit's too late.\n\n612\n00:30:59.480 --> 00:31:01.260\nYou gotta copy stuff to their folders.\n\n613\n00:31:01.260 --> 00:31:02.644\nBut for anybody new you add,\n\n614\n00:31:02.644 --> 00:31:05.418\nthis is what gets cloned to\ncreate their home directory.\n\n615\n00:31:05.418 --> 00:31:09.960\nSo those are all important parts\nabout user and group management.\n\n616\n00:31:09.960 --> 00:31:11.770\nAnd I know we went a bit over and\n\n617\n00:31:11.770 --> 00:31:14.290\nstuff, but I wanted to make sure you guys\nhad a good understanding of how to create\n\n618\n00:31:14.290 --> 00:31:17.340\nthose groups,\nhow to put users into the groups.\n\n619\n00:31:17.340 --> 00:31:18.740\nBecause once you've done that,\n\n620\n00:31:18.740 --> 00:31:22.030\nnow you can start assigning permissions to\nthe groups and really taking advantage of\n\n621\n00:31:22.030 --> 00:31:25.890\nthe permissions that we talked about\nback in the controlling axis episode.\n\n622\n00:31:25.890 --> 00:31:26.520\n>> Very cool stuff.\n\n623\n00:31:26.520 --> 00:31:31.100\nThis is definitely stuff that you're\ngonna be doing on a major basis if\n\n624\n00:31:31.100 --> 00:31:34.910\nyou're becoming a Linux administrator,\nif you're running a Linux server.\n\n625\n00:31:34.910 --> 00:31:36.480\nThat's just part of the job.\n\n626\n00:31:36.480 --> 00:31:39.820\nThere's gonna be a user calling up saying,\nI'm locked out of my,\n\n627\n00:31:39.820 --> 00:31:41.800\nI forgot my password or I let it expire.\n\n628\n00:31:41.800 --> 00:31:45.936\nYou're gonna have to go in there and\nuse that passwd, change their password for\n\n629\n00:31:45.936 --> 00:31:49.699\nthem, you may have to create new users,\nprobably at least a few a month,\n\n630\n00:31:49.699 --> 00:31:51.400\ngonna be deleting a few a month.\n\n631\n00:31:51.400 --> 00:31:54.070\nIt just happens especially if\nthe company is large enough,\n\n632\n00:31:54.070 --> 00:31:55.170\nyou got a lot of rotation.\n\n633\n00:31:55.170 --> 00:31:58.720\nThis is gonna be your bread and butter,\nsomething you do on a daily basis,\n\n634\n00:31:58.720 --> 00:31:59.740\nI know, I've done it.\n\n635\n00:31:59.740 --> 00:32:02.400\nDon, you've probably delved into\nquite a bit of that as well.\n\n636\n00:32:02.400 --> 00:32:05.850\nIt's part and parcel of the Linux gig,\nso hopefully you've enjoyed this and\n\n637\n00:32:05.850 --> 00:32:06.840\nlearned a lot from that.\n\n638\n00:32:06.840 --> 00:32:09.190\nDon, have we covered\nthis tomato pretty good?\n\n639\n00:32:09.190 --> 00:32:10.860\n>> As much as we're gonna\nget to in this one.\n\n640\n00:32:10.860 --> 00:32:12.490\n[LAUGH]\n>> All right, excellent stuff.\n\n641\n00:32:12.490 --> 00:32:15.700\nAll right everybody, thanks for\nwatching and we appreciate it.\n\n642\n00:32:15.700 --> 00:32:17.106\nWe're signing off for ITProTV.\n\n643\n00:32:17.106 --> 00:32:18.441\nI've been your host, Daniel Lowrie.\n\n644\n00:32:18.441 --> 00:32:19.544\n>> And I'm Don Pezet.\n\n645\n00:32:19.544 --> 00:32:20.786\n>> And we'll see you next time.\n\n646\n00:32:20.786 --> 00:32:26.990\n[SOUND]\n\n",
          "vimeoId": "131576409"
        },
        {
          "description": null,
          "length": "1720",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-2-sytem_logging-062315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-2-sytem_logging-062315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-2-sytem_logging-062315-1-sm.jpg",
          "title": "System Logging",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.805\n[MUSIC]\n\n2\n00:00:10.805 --> 00:00:15.380\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.380 --> 00:00:19.566\nI'm your host Daniel Lowrie and here with\nme is none other than the man himself,\n\n4\n00:00:19.566 --> 00:00:20.198\nDon Pezet.\n\n5\n00:00:20.198 --> 00:00:21.162\nHow you doing today, Don?\n\n6\n00:00:21.162 --> 00:00:21.917\n>> I am doing great Daniel.\n\n7\n00:00:21.917 --> 00:00:24.824\n>> [LAUGH]\n>> Today we're gonna talk about something\n\n8\n00:00:24.824 --> 00:00:27.361\nreally important,\nwhich is logging under Linux.\n\n9\n00:00:29.040 --> 00:00:30.840\nEvery Linux system\nmaintains some kind of log,\n\n10\n00:00:30.840 --> 00:00:33.400\na record of the activities that\nare going on in the background.\n\n11\n00:00:33.400 --> 00:00:35.230\nAnd we use them for\ntroubleshooting, right?\n\n12\n00:00:35.230 --> 00:00:39.368\nBut one key thing that we really [LAUGH]\nneed to remember is that logs aren't\n\n13\n00:00:39.368 --> 00:00:41.716\nreally important, until you need them.\n\n14\n00:00:41.716 --> 00:00:44.275\nAnd we need them,\nboy will you be glad that you have them.\n\n15\n00:00:44.275 --> 00:00:47.548\nBut if they weren't configured properly,\nwhen you get to that point where you\n\n16\n00:00:47.548 --> 00:00:50.919\nneed them, there's no way to go back and\nre-create this things if they weren't\n\n17\n00:00:50.919 --> 00:00:53.018\nmaintained originally\nfrom the very beginning.\n\n18\n00:00:53.018 --> 00:00:57.423\nSo when I set up a new Linux server,\none of the first things I do is go in and\n\n19\n00:00:57.423 --> 00:00:58.682\ntweak the logging.\n\n20\n00:00:58.682 --> 00:01:03.095\nAnd there's kind of two different\nways to do logging these days.\n\n21\n00:01:03.095 --> 00:01:05.750\nMost systems still use\nthe traditional Unix method,\n\n22\n00:01:05.750 --> 00:01:08.052\nwhich is a service called syslog,\nall right?\n\n23\n00:01:08.052 --> 00:01:12.021\nSyslog is just short for system log,\nright, nothing special there.\n\n24\n00:01:12.021 --> 00:01:15.279\nAnd basically as your system boots up,\nas your system runs programs and\n\n25\n00:01:15.279 --> 00:01:17.990\nother software,\nit's generating log messages.\n\n26\n00:01:17.990 --> 00:01:20.570\nAnd those are being put in the system log.\n\n27\n00:01:20.570 --> 00:01:22.870\nSo that syslog functionality,\nand it's basic,\n\n28\n00:01:22.870 --> 00:01:24.850\nreally doesn't sound like much, right?\n\n29\n00:01:24.850 --> 00:01:27.750\nWe generate log events, they go into\na text file, they're there for us to view.\n\n30\n00:01:27.750 --> 00:01:29.217\nGreat, whoop-dee-do.\n\n31\n00:01:29.217 --> 00:01:32.147\nWell, there are some advanced\nfunctionalities we can take advantage of\n\n32\n00:01:32.147 --> 00:01:34.740\nwith syslog, and it's an important\none to be familiar with, so\n\n33\n00:01:34.740 --> 00:01:36.180\nI want to talk about that.\n\n34\n00:01:36.180 --> 00:01:38.800\nAnd then at the end of the episode,\nI wanna talk about a new type\n\n35\n00:01:38.800 --> 00:01:41.740\nof logging called journaling,\nthat's available in systemd.\n\n36\n00:01:41.740 --> 00:01:45.221\nSo we'll get a chance to see that too\nif you're on a systemd enabled distro.\n\n37\n00:01:45.221 --> 00:01:47.748\nBut let's just start with syslog cuz\nthat's the one you can count on for\n\n38\n00:01:47.748 --> 00:01:49.573\npretty much every Linux\ndistro that's out there.\n\n39\n00:01:49.573 --> 00:01:55.340\nAs well as BSD, Unix, even Mac OS,\nright, they all use Syslog.\n\n40\n00:01:55.340 --> 00:01:59.077\nAll right, first thing, syslog is\na service, so it runs in the background.\n\n41\n00:01:59.077 --> 00:02:02.728\nIt's a default service,\nit's installed as part of your distro.\n\n42\n00:02:02.728 --> 00:02:06.315\nSo there's the syslog daemon,\nsyslogd, that runs in the background.\n\n43\n00:02:06.315 --> 00:02:08.160\nIt's what's responsible for\ndoing the logging.\n\n44\n00:02:08.160 --> 00:02:10.410\nIt runs automatically,\nit logs automatically.\n\n45\n00:02:10.410 --> 00:02:13.250\nWe can tell it's working by\nlooking at the log files.\n\n46\n00:02:13.250 --> 00:02:18.912\nIt puts the logs in /var/log, all right?\n\n47\n00:02:18.912 --> 00:02:20.785\nSo you'll have a folder /var/log,\n\n48\n00:02:20.785 --> 00:02:24.990\nand if you look in there you'll see\nall sorts of different log files.\n\n49\n00:02:24.990 --> 00:02:28.086\nThere's two that we normally\ncare about the most, right.\n\n50\n00:02:28.086 --> 00:02:32.990\nThe most important one is the messages\nfile, this guy right here.\n\n51\n00:02:32.990 --> 00:02:34.160\nThat's your syslog.\n\n52\n00:02:34.160 --> 00:02:35.340\nAll the system events and\n\n53\n00:02:35.340 --> 00:02:38.260\nother activities are being logged\nright to that messages file.\n\n54\n00:02:38.260 --> 00:02:41.060\nThere's another one on here that we\ntalked about in our hardware episode,\n\n55\n00:02:41.060 --> 00:02:42.502\nwhich is dmesg.\n\n56\n00:02:42.502 --> 00:02:43.990\nAnd dmesg,\n\n57\n00:02:43.990 --> 00:02:47.370\nthat's for hardware detection, stuff\nthat's happening when our system boots.\n\n58\n00:02:47.370 --> 00:02:54.304\nSo if we were to take a look at these,\nif I pull up more /var/log/dmesg.\n\n59\n00:02:54.304 --> 00:02:57.067\nHere's the hardware detection that\nhappened as my system booted up.\n\n60\n00:02:57.067 --> 00:03:00.242\nIt picked up my CPU,\nit started identifying hardware,\n\n61\n00:03:00.242 --> 00:03:03.223\nas I scroll down we'll see\nmore fun stuff down here.\n\n62\n00:03:03.223 --> 00:03:06.578\nAs it picks up hard drives, and\nnetwork adapters and all of that,\n\n63\n00:03:06.578 --> 00:03:08.840\nand starts provisioning them out, right?\n\n64\n00:03:08.840 --> 00:03:14.490\nSo here it's looking for CMOS color VGA\nconsole, you gotta have the best, right?\n\n65\n00:03:14.490 --> 00:03:16.580\nSo [LAUGH] all that stuff\nthat gets detected.\n\n66\n00:03:16.580 --> 00:03:19.830\nIf we're troubleshooting hardware,\nthat's where we go, right?\n\n67\n00:03:19.830 --> 00:03:22.920\nBut hardware isn't something\nwe troubleshoot very often,\n\n68\n00:03:22.920 --> 00:03:25.920\nbecause once it's configured\nyou're kinda done.\n\n69\n00:03:25.920 --> 00:03:28.080\nSoftware on the other hand,\nit's a different story.\n\n70\n00:03:28.080 --> 00:03:32.030\nI know it's all ones and zeroes on\nthe back end, but it's like when it runs\n\n71\n00:03:32.030 --> 00:03:35.306\nthere's this in-between value\nwhere things sort of work.\n\n72\n00:03:35.306 --> 00:03:38.765\n[LAUGH] And so we end up troubleshooting,\n\n73\n00:03:38.765 --> 00:03:43.460\nand that's where we end\nup in /var/log/messages.\n\n74\n00:03:43.460 --> 00:03:45.070\nAnd when we look inside of that messages,\n\n75\n00:03:45.070 --> 00:03:47.010\nthat's when we're gonna\nsee our software logs.\n\n76\n00:03:47.010 --> 00:03:50.710\nAnd I'm not a super user so\nI don't have the ability to view it, so\n\n77\n00:03:50.710 --> 00:03:53.590\nI'm just gonna escalate,\nor elevate my privileges.\n\n78\n00:03:53.590 --> 00:03:55.465\nI'm gonna escalate the situation!\n\n79\n00:03:55.465 --> 00:03:58.557\nAnd I'll take a look in\n/var/log/messages and\n\n80\n00:03:58.557 --> 00:04:02.080\nwe'll start to see some information,\nall right.\n\n81\n00:04:02.080 --> 00:04:05.420\nNow, I don't have a lot in mine,\nI just have one entry.\n\n82\n00:04:05.420 --> 00:04:08.580\nAnd my one entry is stating\nthat syslogd is starting.\n\n83\n00:04:08.580 --> 00:04:11.430\nAnd then after that I'm just there,\nthat's it.\n\n84\n00:04:11.430 --> 00:04:14.500\nWell, as services start to\ndo things on my system,\n\n85\n00:04:14.500 --> 00:04:18.190\nas activities happen,\nwe'll start to see log messages.\n\n86\n00:04:18.190 --> 00:04:22.835\nSo, for example, if I do something\nlike installing a web server, right,\n\n87\n00:04:22.835 --> 00:04:25.216\nwhich apparently I've already got.\n\n88\n00:04:25.216 --> 00:04:30.806\nAnd if I do a service httpd stop and I\nstop that service, or I start it again, or\n\n89\n00:04:30.806 --> 00:04:37.267\nif the service crashes, or whatever, these\nare things that can generate log messages.\n\n90\n00:04:37.267 --> 00:04:41.110\nAnd they may or may not log,\nit kinda depends on the software.\n\n91\n00:04:41.110 --> 00:04:44.700\nEach software, you have configuration\noptions inside of it that determine\n\n92\n00:04:44.700 --> 00:04:47.760\nwhen something is severe\nenough to go ahead and log.\n\n93\n00:04:47.760 --> 00:04:51.006\nSo those may or may not have actually\nmade it into my log, let's see.\n\n94\n00:04:51.006 --> 00:04:54.134\nYeah, they weren't exciting enough,\napparently.\n\n95\n00:04:54.134 --> 00:04:57.259\nBut you start to see entries pop\nin there as our systems goes and\n\n96\n00:04:57.259 --> 00:05:00.160\nas we start encountering errors and\nother things.\n\n97\n00:05:00.160 --> 00:05:02.422\nThey'll populate that file, all right?\n\n98\n00:05:02.422 --> 00:05:06.390\nNow the file can get pretty big, so\nI'm using the more command, right?\n\n99\n00:05:06.390 --> 00:05:09.170\nAnd more just shows me the whole\nthing with pagination.\n\n100\n00:05:09.170 --> 00:05:10.810\nBut a lot of times we'll use grep,\n\n101\n00:05:10.810 --> 00:05:13.520\nto search to find certain\nthings inside of it.\n\n102\n00:05:13.520 --> 00:05:17.730\nOr instead you might use the tail\ncommand to see the most recent stuff.\n\n103\n00:05:17.730 --> 00:05:26.085\nOne thing I like to do is\ntail -f /var/log/messages.\n\n104\n00:05:26.085 --> 00:05:29.384\nWhat this one does is it says,\nshow me the last ten lines, and\n\n105\n00:05:29.384 --> 00:05:32.210\nif the file gets updated, you update too.\n\n106\n00:05:32.210 --> 00:05:34.110\nShow me what's going on, okay?\n\n107\n00:05:34.110 --> 00:05:36.060\nSo I'll do that, I'm gonna say tail -f.\n\n108\n00:05:36.060 --> 00:05:39.040\nIt's showing me the last ten lines,\nand see how it's staying open?\n\n109\n00:05:40.160 --> 00:05:44.003\nAs messages get generated,\nit's gonna update, all right?\n\n110\n00:05:44.003 --> 00:05:45.642\nWell, I could wait.\n\n111\n00:05:45.642 --> 00:05:47.789\nThis could be the longest episode ever and\nwe could just wait for\n\n112\n00:05:47.789 --> 00:05:50.236\nsome error to happen on my system or\nother information to be generated.\n\n113\n00:05:50.236 --> 00:05:52.998\nOr I could cause something to happen.\n\n114\n00:05:52.998 --> 00:05:54.997\nWe can raise our own error messages.\n\n115\n00:05:54.997 --> 00:05:58.680\nAnd that's really useful if you're\ngonna be doing things from a script.\n\n116\n00:05:58.680 --> 00:06:01.460\nYou might have a script that runs and\nyou wanna generate log messages so\n\n117\n00:06:01.460 --> 00:06:03.965\nyou can see if the script ran or\ndifferent stages of it happened.\n\n118\n00:06:03.965 --> 00:06:07.430\nAnd I say error, a lot of us think\nof errors as a bad thing, but\n\n119\n00:06:07.430 --> 00:06:09.308\nerror messages can be a good thing, right?\n\n120\n00:06:09.308 --> 00:06:12.850\nTechnically, when your software returns,\nhey everything went fine,\n\n121\n00:06:12.850 --> 00:06:15.620\nit's returning an error code\nthat means everything went fine.\n\n122\n00:06:15.620 --> 00:06:17.890\nSo error isn't always bad.\n\n123\n00:06:17.890 --> 00:06:20.714\nSo I'm gonna open up a new tab.\n\n124\n00:06:20.714 --> 00:06:25.920\nAnd in this other tab, I'm gonna\nraise an error message on my own.\n\n125\n00:06:25.920 --> 00:06:28.648\nYou have this command,\nit's called the logger command.\n\n126\n00:06:28.648 --> 00:06:32.922\nAnd logger can generate, oh,\napparently it doesn't have a- -help.\n\n127\n00:06:32.922 --> 00:06:37.695\nBut logger can generate log messages,\nif I can pull its help file.\n\n128\n00:06:37.695 --> 00:06:41.906\nAnd so you can come in and generate\na log message that'll show up in syslog.\n\n129\n00:06:41.906 --> 00:06:45.116\nBut it's not as easy as just saying\nlogger and then your message.\n\n130\n00:06:45.116 --> 00:06:48.730\nSyslog entries actually have\na lot of data tied to them.\n\n131\n00:06:48.730 --> 00:06:50.780\nIf you look at the one\nmessage that I've got here,\n\n132\n00:06:50.780 --> 00:06:54.610\nthis line is actually made up on\na number of different pieces, all right?\n\n133\n00:06:54.610 --> 00:06:56.040\nLet's talk about the pieces.\n\n134\n00:06:56.040 --> 00:06:59.170\nThe first one is pretty easy,\nthe date and time.\n\n135\n00:06:59.170 --> 00:07:01.318\nHere's the date and\ntime that this message occurred.\n\n136\n00:07:01.318 --> 00:07:04.010\nThat's important cuz if\nI'm trying to correlate\n\n137\n00:07:04.010 --> 00:07:06.240\nmessages across more than one\nserver I need to have that time.\n\n138\n00:07:06.240 --> 00:07:08.590\nAnd time synchronization\nis really important,\n\n139\n00:07:08.590 --> 00:07:10.880\nwe'll have an episode on\ntime synchronization later.\n\n140\n00:07:10.880 --> 00:07:14.717\nMake sure you check that out because you\nwanna make sure the clocks are the same on\n\n141\n00:07:14.717 --> 00:07:17.416\nyour systems, or\nyou won't be able to correlate logs.\n\n142\n00:07:17.416 --> 00:07:20.910\nAll right,\nthe next part is what server generated it.\n\n143\n00:07:20.910 --> 00:07:23.430\nWell, I'm on the server,\nwhy do I need that?\n\n144\n00:07:23.430 --> 00:07:27.591\nWell you can actually ship your syslogs\nto another system if you want, all right?\n\n145\n00:07:27.591 --> 00:07:31.930\nThat's really handy because, what's gonna\nhappen if a hacker gets into your server?\n\n146\n00:07:31.930 --> 00:07:35.150\nA good hacker,\ntarget number one is your log files.\n\n147\n00:07:35.150 --> 00:07:36.960\nThey need to be able\nto cover their tracks.\n\n148\n00:07:36.960 --> 00:07:40.100\nSo they're gonna try and clear your\nlogs to hide what they're doing, and\n\n149\n00:07:40.100 --> 00:07:42.260\nthen they do the real damage.\n\n150\n00:07:42.260 --> 00:07:43.770\nYour logs are a big target.\n\n151\n00:07:43.770 --> 00:07:45.958\nBy using a network syslog server,\n\n152\n00:07:45.958 --> 00:07:49.961\n[COUGH] we can send those log\nmessages off to a different system.\n\n153\n00:07:49.961 --> 00:07:52.283\nAnd now if the hacker clears\nour logs here, big deal,\n\n154\n00:07:52.283 --> 00:07:54.407\nI've still got the log somewhere else,\nright?\n\n155\n00:07:54.407 --> 00:07:57.237\nSo that's why it has\nthe host name right here,\n\n156\n00:07:57.237 --> 00:08:00.511\nfollowed by what service\ngenerated the log message.\n\n157\n00:08:00.511 --> 00:08:04.991\nIn my case this is from rsyslogd\nThat's what generated this message.\n\n158\n00:08:04.991 --> 00:08:08.250\nAnd then after that we\nhave the actual message.\n\n159\n00:08:08.250 --> 00:08:10.890\nSo here's the message that\nwas generated by this system\n\n160\n00:08:10.890 --> 00:08:13.890\nletting me know that the system fired up.\n\n161\n00:08:13.890 --> 00:08:17.715\nThere's a few other things that you\nmight see attached to a message, for\n\n162\n00:08:17.715 --> 00:08:20.335\nexample a facility, all right.\n\n163\n00:08:20.335 --> 00:08:23.344\nAnd a facility and an error code.\n\n164\n00:08:23.344 --> 00:08:24.458\nAnd I made some little tables.\n\n165\n00:08:24.458 --> 00:08:26.525\nI'll put these with the show notes.\n\n166\n00:08:26.525 --> 00:08:33.280\nBut the facility is identifying\nwhat generated the message.\n\n167\n00:08:33.280 --> 00:08:36.510\nAnd not just the service,\nbut what type of service.\n\n168\n00:08:36.510 --> 00:08:40.680\nAnd so you'll see this in default\nfacilities like kernel, user, mail.\n\n169\n00:08:40.680 --> 00:08:43.630\nAnd so, if it's the Linux kernel\nthat's generating this message,\n\n170\n00:08:43.630 --> 00:08:46.800\nit'll have a facility of 0 and\nthat'll identify that.\n\n171\n00:08:46.800 --> 00:08:50.350\nOr if it's your clock that's generating,\nit'll have a facility of 9.\n\n172\n00:08:50.350 --> 00:08:54.150\nBut, most of the time, we're gonna\nsee these facilities down here,\n\n173\n00:08:54.150 --> 00:08:55.870\nlocal0 through local7.\n\n174\n00:08:55.870 --> 00:08:57.454\nThese are ones that you can use for\nwhatever you want.\n\n175\n00:08:57.454 --> 00:08:59.055\nSo when you write your software,\n\n176\n00:08:59.055 --> 00:09:03.880\nyou might say, my software is always\ngonna generate messages that are local5.\n\n177\n00:09:03.880 --> 00:09:07.460\nI'm gonna do local5, so\nthat when I go to view the log files,\n\n178\n00:09:07.460 --> 00:09:10.460\nI can just look at local5, and\nfind them right there, and that's that.\n\n179\n00:09:10.460 --> 00:09:12.247\nRight?\nMake it real easy to filter out\n\n180\n00:09:12.247 --> 00:09:13.082\nmy log messages.\n\n181\n00:09:13.082 --> 00:09:15.483\nThat's really what these\nfacilities are all about,\n\n182\n00:09:15.483 --> 00:09:17.670\nis making it easy to filter messages.\n\n183\n00:09:17.670 --> 00:09:18.770\nAll right.\n\n184\n00:09:18.770 --> 00:09:22.410\nAnd then each message has\na severity level, right?\n\n185\n00:09:22.410 --> 00:09:24.570\nHow bad is this message?\n\n186\n00:09:24.570 --> 00:09:25.290\nMaybe it's not bad at all.\n\n187\n00:09:25.290 --> 00:09:27.270\nMaybe it's just information, right?\n\n188\n00:09:27.270 --> 00:09:30.590\nThat'll be an information,\na security level of 6.\n\n189\n00:09:30.590 --> 00:09:32.700\nOr maybe it's really bad.\n\n190\n00:09:32.700 --> 00:09:33.770\nSystem Unusable.\n\n191\n00:09:33.770 --> 00:09:35.880\nRight?\nThat would be a message of 0.\n\n192\n00:09:35.880 --> 00:09:37.150\nThat's emergency.\n\n193\n00:09:37.150 --> 00:09:39.720\nSo you'll see a severity type to it also,\nand\n\n194\n00:09:39.720 --> 00:09:41.920\nthat's important for filtering purposes.\n\n195\n00:09:41.920 --> 00:09:45.760\nI might say just show me errors and above.\n\n196\n00:09:45.760 --> 00:09:47.050\nThat's all I wanna see.\n\n197\n00:09:47.050 --> 00:09:50.940\nI don't wanna see warnings, notices,\ninfo, that stuff, that's just whatever,\n\n198\n00:09:50.940 --> 00:09:51.920\nI ignore most of that.\n\n199\n00:09:51.920 --> 00:09:53.660\nJust show me the bad stuff, right?\n\n200\n00:09:53.660 --> 00:09:56.950\nSo these are all designed\nto help us kinda filter.\n\n201\n00:09:56.950 --> 00:10:00.340\nSo when we use the logger\ncommand to come in and\n\n202\n00:10:00.340 --> 00:10:04.810\ncreate a log message, those are some\nof the things that we need to provide\n\n203\n00:10:04.810 --> 00:10:07.300\nin order to generate the log message.\n\n204\n00:10:07.300 --> 00:10:11.492\nSo for example,\nI might say, logger -p, and\n\n205\n00:10:11.492 --> 00:10:16.690\nthen I'm gonna say local0 for\nthis one, right, that's my facility.\n\n206\n00:10:16.690 --> 00:10:19.550\nAnd then, I say, .crit.\n\n207\n00:10:19.550 --> 00:10:22.320\nThis is gonna be a critical message,\nright.\n\n208\n00:10:22.320 --> 00:10:27.020\nSo there's my facility, and my severity,\nright, I'm providing that information.\n\n209\n00:10:27.020 --> 00:10:29.640\nThen I give it what my\nmessage is gonna be.\n\n210\n00:10:29.640 --> 00:10:33.860\nI'm gonna say, Major issue detected.\n\n211\n00:10:33.860 --> 00:10:36.640\nStop drop and roll.\n\n212\n00:10:36.640 --> 00:10:38.460\nRight, and there we go.\n\n213\n00:10:38.460 --> 00:10:39.695\nI just generated a log message.\n\n214\n00:10:39.695 --> 00:10:41.752\nAll right now, where did it go?\n\n215\n00:10:41.752 --> 00:10:45.292\nWell, hopefully it went\ninto /var/log/messages.\n\n216\n00:10:45.292 --> 00:10:48.621\nAnd back here I was running tail-f and so,\n\n217\n00:10:48.621 --> 00:10:53.378\nas the new messages came in I see\nit right there on the screen.\n\n218\n00:10:53.378 --> 00:10:54.930\nSo tail-f is really handy for\n\n219\n00:10:54.930 --> 00:10:58.090\nseeing stuff in real time as\nthe messages get generated.\n\n220\n00:10:58.090 --> 00:11:02.050\nI can see that message right\nhere from local host dpzet and\n\n221\n00:11:02.050 --> 00:11:05.190\nthen it's listing it out right there,\nright.\n\n222\n00:11:05.190 --> 00:11:07.870\nThat's the way these syslogs work.\n\n223\n00:11:07.870 --> 00:11:12.160\nJust logging it, storing the data,\nand leaving it here available for us.\n\n224\n00:11:14.322 --> 00:11:16.935\nAll right, couple other things\nto be aware of on this.\n\n225\n00:11:16.935 --> 00:11:20.950\nSyslog may not be configured\nsuper optimally by default, so\n\n226\n00:11:20.950 --> 00:11:23.390\nyou might want to kind of\ntweak it a little bit.\n\n227\n00:11:23.390 --> 00:11:30.180\nIf you go into /etc, inside of there,\nyou've got a rsyslog.conf file.\n\n228\n00:11:30.180 --> 00:11:34.730\nSo if I take a look at\n/etc/rsyslog.conf all right.\n\n229\n00:11:36.400 --> 00:11:41.440\nRight in here is where I can see\ninformation about how this is configured.\n\n230\n00:11:41.440 --> 00:11:45.080\nWhat port number we're using\nif we're doing network syslog,\n\n231\n00:11:45.080 --> 00:11:48.660\nwe can see other things like\nwhat we're actually logging.\n\n232\n00:11:48.660 --> 00:11:55.303\nAnd notice that there's some things,\nlike kern.*, that is logging to console.\n\n233\n00:11:55.303 --> 00:11:58.139\nIt's logging to the console,\nnot /var/log/messages, or\n\n234\n00:11:58.139 --> 00:12:00.875\nactually this one's commented out so\nI don't really know.\n\n235\n00:12:00.875 --> 00:12:03.480\nBut you'll see where you can specify that.\n\n236\n00:12:03.480 --> 00:12:08.670\nHere they're saying the kernel facility,\nany severity level,\n\n237\n00:12:08.670 --> 00:12:10.470\nlogs to console, right.\n\n238\n00:12:10.470 --> 00:12:14.940\nYou can create rules that define what it\nis that's gonna go into your messages into\n\n239\n00:12:14.940 --> 00:12:16.970\nyour syslog, and what isn't.\n\n240\n00:12:16.970 --> 00:12:19.330\nI didn't have a whole lot in my syslog.\n\n241\n00:12:19.330 --> 00:12:21.170\nAnd so why is that?\n\n242\n00:12:21.170 --> 00:12:25.080\nWell in here I'll probably find where\nthere's certain things that are just not\n\n243\n00:12:25.080 --> 00:12:26.660\nbeing logged.\n\n244\n00:12:26.660 --> 00:12:29.540\nIt looks like my emergencies\nare being logged, right.\n\n245\n00:12:29.540 --> 00:12:31.970\nBut what about other things?\n\n246\n00:12:31.970 --> 00:12:34.550\nWhat about stuff that's low severity or\nhigh severity?\n\n247\n00:12:34.550 --> 00:12:36.530\nThey're not being logged by default.\n\n248\n00:12:36.530 --> 00:12:39.397\nSo if I wanna really get some\ngood information in there,\n\n249\n00:12:39.397 --> 00:12:41.380\nI probably need to change this.\n\n250\n00:12:41.380 --> 00:12:44.366\nNow if I wanna do that,\nI can modify that file.\n\n251\n00:12:47.048 --> 00:12:48.523\nAnd I can go in here and I can change it.\n\n252\n00:12:48.523 --> 00:12:51.542\nAnd the rules, their syntax is\nactually pretty straight forward.\n\n253\n00:12:51.542 --> 00:12:58.920\nBasically what you do is you put\nthe facility dot the severity, okay.\n\n254\n00:12:58.920 --> 00:12:59.500\nAnd so, if I say,\n\n255\n00:12:59.500 --> 00:13:04.490\nstartup star, it's every facility, every\nseverity is gonna be logging somewhere.\n\n256\n00:13:04.490 --> 00:13:07.330\nAnd that might be a lot of data.\n\n257\n00:13:07.330 --> 00:13:09.310\nThe messages,\nthey can actually grow pretty fast.\n\n258\n00:13:09.310 --> 00:13:11.140\nBut I'm going to go crazy and do it.\n\n259\n00:13:11.140 --> 00:13:15.290\nAnd I'm gonna log that all\nto /var/log/messages, okay.\n\n260\n00:13:15.290 --> 00:13:17.840\nOr I could've just gone and\nmodified this rule up here.\n\n261\n00:13:17.840 --> 00:13:23.430\nYou'll see I've got this other rule that's\nsetting up some basic logging here,\n\n262\n00:13:23.430 --> 00:13:25.290\nfor *.info or whatever.\n\n263\n00:13:25.290 --> 00:13:26.741\nAnd providing that.\n\n264\n00:13:26.741 --> 00:13:31.232\nSo, we've got a few different options\nof how we wanna configure that and\n\n265\n00:13:31.232 --> 00:13:32.270\nput it in place.\n\n266\n00:13:32.270 --> 00:13:36.850\nNow, syslog does start when your\ndistro starts, and you may or\n\n267\n00:13:36.850 --> 00:13:38.070\nmay not be able to restart it.\n\n268\n00:13:38.070 --> 00:13:42.510\nA lot of distros will let you do,\nlike a service rsyslogd\n\n269\n00:13:44.050 --> 00:13:46.630\nrestart, but some systems won't.\n\n270\n00:13:46.630 --> 00:13:48.650\nAnd mine's actually.\n\n271\n00:13:48.650 --> 00:13:50.240\nLet's see if she's under a different name.\n\n272\n00:13:50.240 --> 00:13:51.178\nBut mine might not let me do it.\n\n273\n00:13:51.178 --> 00:13:53.720\nAnd if it won't let you do it then\nyou gotta reboot your system.\n\n274\n00:13:53.720 --> 00:13:55.986\nSome of them have it tied to the boot\nprocess and you gotta reboot for\n\n275\n00:13:55.986 --> 00:13:56.642\nit to take effect.\n\n276\n00:13:56.642 --> 00:13:59.840\nSo apparently that's what mine's doing.\n\n277\n00:13:59.840 --> 00:14:03.790\nBut you can modify that behavior\nright in that rsyslogd.com or\n\n278\n00:14:03.790 --> 00:14:08.230\nrsyslog.com, rsyslogd, that's\na different one, let me show you that.\n\n279\n00:14:08.230 --> 00:14:11.534\nIf I go into /etc/rsyslog.d,\n\n280\n00:14:11.534 --> 00:14:16.990\nthis is the actual daemon configuration,\nright.\n\n281\n00:14:16.990 --> 00:14:23.430\nI'm in /etc/rsyslogd and if I take a look\nat what's in there and nothing, right.\n\n282\n00:14:23.430 --> 00:14:26.180\nBut you can start to create\nconfig files in here and\n\n283\n00:14:26.180 --> 00:14:28.747\nthe syslog daemon will\npay attention to that.\n\n284\n00:14:28.747 --> 00:14:33.332\nAnd what you do is you create\na file in here called like zero.\n\n285\n00:14:33.332 --> 00:14:37.200\nNot zero, it would be the facility so\nI could say like kern.com.\n\n286\n00:14:37.200 --> 00:14:40.220\nAnd now it's the kernel facility and\nhow we handle it.\n\n287\n00:14:40.220 --> 00:14:43.480\nAnd you can go on to create other ones,\nmail.com and so on.\n\n288\n00:14:43.480 --> 00:14:45.070\nAnd it'll read all of those.\n\n289\n00:14:45.070 --> 00:14:48.278\nOr you can just use the one major\nconf file, configuration file and\n\n290\n00:14:48.278 --> 00:14:49.489\nyou'll be in business.\n\n291\n00:14:49.489 --> 00:14:52.580\nSo either way,\ndifferent ways to configure it.\n\n292\n00:14:52.580 --> 00:14:55.100\n>> Now is there a benefit of\nusing one over the other or\n\n293\n00:14:55.100 --> 00:14:56.800\nit's just whatever your pleasure is?\n\n294\n00:14:58.180 --> 00:15:01.390\n>> If it's just gonna be one or\ntwo lines that you're adding,\n\n295\n00:15:01.390 --> 00:15:04.190\nit's usually simpler just to leave\nit in the one big config file.\n\n296\n00:15:04.190 --> 00:15:07.390\nBut if you're gonna do really detailed\nmodifications, breaking it up\n\n297\n00:15:07.390 --> 00:15:09.930\ninto separate config files like this\nmakes it neater and easier to deal with.\n\n298\n00:15:09.930 --> 00:15:11.950\nSo to me it would depend on volume.\n\n299\n00:15:11.950 --> 00:15:13.950\nHow much stuff are you gonna put in there?\n\n300\n00:15:13.950 --> 00:15:15.220\nWe don't normally put a ton in.\n\n301\n00:15:16.398 --> 00:15:18.480\nAll right, now I mentioned we\ncan take our syslog messages and\n\n302\n00:15:18.480 --> 00:15:20.730\nsend them off to an external server.\n\n303\n00:15:20.730 --> 00:15:22.050\nWell, how do we do that?\n\n304\n00:15:22.050 --> 00:15:23.310\nIt's actually not that hard.\n\n305\n00:15:23.310 --> 00:15:25.650\nWhat we need to do is two things.\n\n306\n00:15:25.650 --> 00:15:29.152\nFirst off, we need to verify the port\nnumber that syslog is using, okay.\n\n307\n00:15:29.152 --> 00:15:32.688\nAnd it uses a default port of 514,\nand it's UDP not TCP, so\n\n308\n00:15:32.688 --> 00:15:37.720\nit just sends the messages out, it doesn't\nwait for confirmation from the other side.\n\n309\n00:15:37.720 --> 00:15:39.461\nSo we probably don't\nneed to manipulate that.\n\n310\n00:15:39.461 --> 00:15:44.560\nBut if you ever do that is\nstored in \\etc\\services.\n\n311\n00:15:44.560 --> 00:15:49.016\nIf we take a look at \\etc\\services, that's\nwhere a lot of our services are defined\n\n312\n00:15:49.016 --> 00:15:51.426\nand you can go in here and\nyou can find syslog.\n\n313\n00:15:51.426 --> 00:15:55.810\nAnd I should just grab this thing cuz\nnow I'm gonna have to hunt for it.\n\n314\n00:15:55.810 --> 00:15:59.995\nBut let's see if we can find it with.\n\n315\n00:16:01.946 --> 00:16:03.456\n[LAUGH] All right.\n\n316\n00:16:03.456 --> 00:16:04.709\nIt says it's here on my screen.\n\n317\n00:16:04.709 --> 00:16:06.415\nOh, there it is, syslog connections.\n\n318\n00:16:06.415 --> 00:16:08.263\nWell, no, those are connections for\nincoming,\n\n319\n00:16:08.263 --> 00:16:09.632\nit's not showing me the externals.\n\n320\n00:16:09.632 --> 00:16:11.990\nLet's see if we can spot it.\n\n321\n00:16:11.990 --> 00:16:14.190\nAnyhow, it's in here somewhere\nwhere it's defined as 514,\n\n322\n00:16:14.190 --> 00:16:16.350\nI guess I could just search for 514.\n\n323\n00:16:16.350 --> 00:16:18.630\nOr maybe it's not in here.\n\n324\n00:16:18.630 --> 00:16:21.810\nIf it's not in here then I'm not\nallowing connections to come in.\n\n325\n00:16:21.810 --> 00:16:24.380\nSo nobody would be able to\nconnect to me with syslog.\n\n326\n00:16:24.380 --> 00:16:28.299\nSo, if I'm gonna be that server\nthat's receiving these connections,\n\n327\n00:16:28.299 --> 00:16:32.105\nI need to allow on my firewall also,\nbut I knew at least to find it here.\n\n328\n00:16:32.105 --> 00:16:35.938\nAnd I'm not seeing it, so\nI need to go ahead and add that in,\n\n329\n00:16:35.938 --> 00:16:38.723\nso I'm gonna edit that /etc/services.\n\n330\n00:16:38.723 --> 00:16:43.369\nAll right, and I'll just go in here and\nI'll add it to my list, right?\n\n331\n00:16:43.369 --> 00:16:46.990\nSo we'll come in here and\nI'll just add it right here to the top.\n\n332\n00:16:46.990 --> 00:16:50.232\nAnd I'll say syslog and\n\n333\n00:16:50.232 --> 00:16:54.618\nthen 514/udp, all right?\n\n334\n00:16:54.618 --> 00:16:58.040\nAnd then that way it knows to go ahead and\nallow syslog to do that.\n\n335\n00:16:58.040 --> 00:17:00.160\nSo I'm just punching in,\nnow I can be a syslog server,\n\n336\n00:17:00.160 --> 00:17:02.070\npeople can send their logs to me.\n\n337\n00:17:02.070 --> 00:17:04.000\nIf I'm just gonna be the client,\nI don't need to do that.\n\n338\n00:17:04.000 --> 00:17:04.650\nI can leave that off.\n\n339\n00:17:04.650 --> 00:17:06.190\nI'm going out, that'll be fine.\n\n340\n00:17:06.190 --> 00:17:09.517\nBut if I want people to connect to me, I\nneed to turn on that service and I'll have\n\n341\n00:17:09.517 --> 00:17:12.615\nto restart my init service or I'll need\nto reboot for that to take effect.\n\n342\n00:17:12.615 --> 00:17:18.329\nBut then, as far as where I log to, I need\nto go back to that rsyslog.conf file and\n\n343\n00:17:18.329 --> 00:17:22.364\nin that file is where we have\nour client configuration and\n\n344\n00:17:22.364 --> 00:17:26.168\nwhere we're gonna send our messages to,\nall right?\n\n345\n00:17:26.168 --> 00:17:29.157\nAnd if we wanna send our log\nmessages out to somebody else,\n\n346\n00:17:29.157 --> 00:17:31.920\nwe just need to add a few\nlittle entries here.\n\n347\n00:17:31.920 --> 00:17:35.980\nBasically what we need to do is,\nadd really one line,\n\n348\n00:17:35.980 --> 00:17:39.599\nwe have to say what it is\nthat we're gonna send.\n\n349\n00:17:39.599 --> 00:17:44.433\nSo maybe I wanna send everything,\nmaybe I just wanna send certain things and\n\n350\n00:17:44.433 --> 00:17:49.566\nI can specify that in the syntax that we\nsaw down below where you do like kern.* or\n\n351\n00:17:49.566 --> 00:17:52.830\n*.crit or whatever for\nwhat you're gonna send.\n\n352\n00:17:52.830 --> 00:17:57.316\nAnd then instead of specifying /var, /log,\n\n353\n00:17:57.316 --> 00:18:02.249\nwhatever, what we can do is,\nwe can say *.crit and\n\n354\n00:18:02.249 --> 00:18:08.082\nI'm gonna send that to, and\nthen you'd say something like,\n\n355\n00:18:08.082 --> 00:18:13.264\n@loghost.my.domain.com:514, all right?\n\n356\n00:18:13.264 --> 00:18:17.125\nSo my destination [COUGH] is\nactually a remote server, right?\n\n357\n00:18:17.125 --> 00:18:18.335\nSend it to that server.\n\n358\n00:18:18.335 --> 00:18:20.977\nWe might send it to var message log also,\nright?\n\n359\n00:18:20.977 --> 00:18:22.602\nAnd then send it this guy too.\n\n360\n00:18:22.602 --> 00:18:24.565\nYou might have more than one line for\nthat.\n\n361\n00:18:24.565 --> 00:18:26.025\nBut this will send it\noff to another server,\n\n362\n00:18:26.025 --> 00:18:29.215\nand now you've got that central repository\nof your log messages, all right?\n\n363\n00:18:29.215 --> 00:18:32.935\nSo that's another way to go about that,\nor if you just want to do an IP address.\n\n364\n00:18:32.935 --> 00:18:35.505\nThe default port is 514 so\nI didn't have to put that in there.\n\n365\n00:18:35.505 --> 00:18:38.590\nSo I could just say something like that.\n\n366\n00:18:38.590 --> 00:18:41.080\nAnd now it's gonna send those\nmessages off to that other system.\n\n367\n00:18:42.590 --> 00:18:46.370\nAll right, now your log messages\nare gonna grow, as you get more errors,\n\n368\n00:18:46.370 --> 00:18:49.670\nthings like that happen,\nthey get bigger and bigger an bigger, and\n\n369\n00:18:49.670 --> 00:18:53.280\neventually they may fill\nup your hard drive.\n\n370\n00:18:53.280 --> 00:18:56.710\nSo if that happens that's bad.\n\n371\n00:18:56.710 --> 00:19:00.350\nAnd so what happens is that Tte syslaunch\nservice by default does this thing called\n\n372\n00:19:00.350 --> 00:19:01.460\nlog rotation.\n\n373\n00:19:01.460 --> 00:19:04.608\nAnd you might have noticed it in mine,\nwhen I was in /var/log,\n\n374\n00:19:04.608 --> 00:19:12.866\nsee how I've got messages and\nI've also got messages-20150623, right?\n\n375\n00:19:12.866 --> 00:19:15.990\nEach day it's generating a new log file.\n\n376\n00:19:15.990 --> 00:19:21.609\nSo these are the messages, the logs, from\nJune 23rd and now I'm on June 24th and\n\n377\n00:19:21.609 --> 00:19:26.320\nI get a new log file, right, or\nwhatever's going on right now.\n\n378\n00:19:26.320 --> 00:19:28.160\nSo that's called log rotation.\n\n379\n00:19:28.160 --> 00:19:29.061\nIt creates new logs and\n\n380\n00:19:29.061 --> 00:19:32.860\neventually it phases out the old ones to\nstop your hard drive from getting full.\n\n381\n00:19:32.860 --> 00:19:35.043\nAnd if I take a look at what's in there.\n\n382\n00:19:37.749 --> 00:19:41.340\nHere's all these log messages that were\ngenerated, that have been wiped out.\n\n383\n00:19:41.340 --> 00:19:45.460\nSo, when I said that my log file\nwas fairly empty, well it was.\n\n384\n00:19:45.460 --> 00:19:48.121\nBut if I go and look in,\nhere's all the ones from yesterday.\n\n385\n00:19:48.121 --> 00:19:51.646\nThese are why it looked empty, and\nI'm only 5% through this file and\n\n386\n00:19:51.646 --> 00:19:52.672\nthis thing is huge.\n\n387\n00:19:52.672 --> 00:19:56.663\nThese are the amount of messages that\nwe generate every single day as our\n\n388\n00:19:56.663 --> 00:19:57.772\nsystem runs.\n\n389\n00:19:57.772 --> 00:20:01.089\nI had just booted my system though, so\nI had a nice clean log file for the show.\n\n390\n00:20:01.089 --> 00:20:05.024\nAll right, now if we wanna\nmess with that log rotation,\n\n391\n00:20:05.024 --> 00:20:07.789\nthat is in /etc/logrotate.conf and\n\n392\n00:20:07.789 --> 00:20:13.146\nmy tab autocomplete isn't working so\nI may not have that, oh, there it is,\n\n393\n00:20:13.146 --> 00:20:17.949\nall right, maybe I wasn't hitting,\noh, I was hitting caps lock.\n\n394\n00:20:17.949 --> 00:20:19.551\nI don't have caps lock autocomplete.\n\n395\n00:20:19.551 --> 00:20:21.720\n>> [LAUGH]\n>> So\n\n396\n00:20:21.720 --> 00:20:24.690\nhere's where we set,\nhow many weeks do we rotate, right?\n\n397\n00:20:24.690 --> 00:20:27.928\nHere it's keeping four weeks\nworth of backlogs, all right?\n\n398\n00:20:27.928 --> 00:20:30.210\nMaybe I don't want four weeks or\nmaybe I want more than four weeks.\n\n399\n00:20:30.210 --> 00:20:31.880\nWe can adjust that, right?\n\n400\n00:20:31.880 --> 00:20:34.880\nThen do we create new log files\nafter we rotate out the old ones?\n\n401\n00:20:34.880 --> 00:20:35.837\nNormally that makes sense.\n\n402\n00:20:35.837 --> 00:20:38.414\nHow do we format the name?\n\n403\n00:20:38.414 --> 00:20:40.250\nDo we compress them?\n\n404\n00:20:40.250 --> 00:20:43.430\nAnd then other basic information\nabout the permissions and data.\n\n405\n00:20:43.430 --> 00:20:47.310\nSo you can customize how the log rotation\nhappens and make it where you have\n\n406\n00:20:47.310 --> 00:20:49.920\nlogarithms or you can disable\nlog rotation if you turn it off.\n\n407\n00:20:49.920 --> 00:20:51.270\nYou know that option right at the top.\n\n408\n00:20:51.270 --> 00:20:53.540\nSo you can just say,\nI don't wanna do log rotation.\n\n409\n00:20:53.540 --> 00:20:55.990\nYou commet out weekly and\nnow you don't have it.\n\n410\n00:20:55.990 --> 00:20:59.000\nSo, it's a neat service so just make\nsure your log files don't get too large.\n\n411\n00:21:01.460 --> 00:21:03.509\nAll right, let's see what else do we have.\n\n412\n00:21:03.509 --> 00:21:06.681\nWe're getting to the end of this one,\noh, syslogd.\n\n413\n00:21:06.681 --> 00:21:10.920\nSyslog has been around forever\nsince the UNIX days in the 70s,\n\n414\n00:21:10.920 --> 00:21:17.340\nit's been around a long time, and it's\nprobably not going anywhere anytime soon.\n\n415\n00:21:17.340 --> 00:21:22.470\nBut System D has introduced a new way to\ndo logging and it's completely optional.\n\n416\n00:21:22.470 --> 00:21:23.490\nYou don't have to use it.\n\n417\n00:21:23.490 --> 00:21:27.860\nIn fact most System D systems\ndon't use the new logging, okay?\n\n418\n00:21:27.860 --> 00:21:30.430\nSo for\nexample if I go over to CentOS 7 box,\n\n419\n00:21:30.430 --> 00:21:33.760\nall right, here I am on my CentOS 7 box.\n\n420\n00:21:33.760 --> 00:21:37.710\nIt is a System D machine, and\n\n421\n00:21:37.710 --> 00:21:43.151\nif I take a look at /var/log, right?\n\n422\n00:21:43.151 --> 00:21:47.050\n[LAUGH] There we go.\n\n423\n00:21:47.050 --> 00:21:50.630\nI can see I've got that messages file,\nI've got messages from yesterday, so\n\n424\n00:21:50.630 --> 00:21:53.500\nI'm doing syslog like normal, all right?\n\n425\n00:21:53.500 --> 00:21:57.400\nBut in System D I can choose to\ndo what's called, journaling.\n\n426\n00:21:57.400 --> 00:22:01.040\nSystem D journaling, don't mix that\nup with hard drive journaling or\n\n427\n00:22:01.040 --> 00:22:02.190\nfile system journaling.\n\n428\n00:22:02.190 --> 00:22:06.300\nIn this case System D journaling\nis just an alternative to syslog.\n\n429\n00:22:06.300 --> 00:22:09.440\nIt's like an update,\nlike a new version of it, okay?\n\n430\n00:22:09.440 --> 00:22:13.670\nBut I'll tell you, on most System D\nsystems, it's not enabled by default.\n\n431\n00:22:13.670 --> 00:22:16.980\nAnd the easy way to tell,\nis to see if its directory exists.\n\n432\n00:22:16.980 --> 00:22:21.180\nIt should be logging to\n/var/log Slash journal.\n\n433\n00:22:21.180 --> 00:22:24.070\nAnd when I look in here,\nI don't have a journal directory.\n\n434\n00:22:24.070 --> 00:22:27.091\nSo, even if I'm running the journal\nsystem, the journal Daemon,\n\n435\n00:22:27.091 --> 00:22:29.480\nI'm not actually logging\njournal messages with it.\n\n436\n00:22:29.480 --> 00:22:32.360\nSo most systems are maintaining\ncompatibility with syslog and\n\n437\n00:22:32.360 --> 00:22:35.087\nstaying with that, but\nyou do have the option to turn it on.\n\n438\n00:22:35.087 --> 00:22:37.550\nLet me show you how to turn it on if\nyou want, it's actually really easy.\n\n439\n00:22:37.550 --> 00:22:39.670\nYou just make the directory\nthat it's missing.\n\n440\n00:22:39.670 --> 00:22:40.870\nSo that's what you do, right?\n\n441\n00:22:40.870 --> 00:22:45.854\nSo, I'm gonna create a directory and when\nI make that directory I'm just gonna make\n\n442\n00:22:45.854 --> 00:22:48.602\na, oh, actually I need the sudo for\nthis one.\n\n443\n00:22:48.602 --> 00:22:49.690\nI'll su for it.\n\n444\n00:22:49.690 --> 00:22:51.395\nI need to get elevated privilages.\n\n445\n00:22:51.395 --> 00:22:55.543\nSo, I'm gonna make a directory,\n\n446\n00:22:55.543 --> 00:22:59.986\n/var/log/journal, all right?\n\n447\n00:22:59.986 --> 00:23:01.471\nAnd now I've got the directory.\n\n448\n00:23:01.471 --> 00:23:04.870\nAnd if I reboot,\nthat'll take effect, right?\n\n449\n00:23:04.870 --> 00:23:05.870\nThat's all you have to do.\n\n450\n00:23:05.870 --> 00:23:07.300\nIt's really that simple.\n\n451\n00:23:07.300 --> 00:23:10.010\nAnd if you don't have the directory,\njournal d might be running but\n\n452\n00:23:10.010 --> 00:23:12.410\nit's not actually saving anything\nuntil you print that directory.\n\n453\n00:23:13.450 --> 00:23:14.616\nNow you an manipulate\nwhere that directory is.\n\n454\n00:23:14.616 --> 00:23:18.529\nIt doesn't have to be there,\nthat's just the default, /var/log/journal.\n\n455\n00:23:18.529 --> 00:23:25.715\nIf you want to manipulate it, this is all\ncontrolled inside of /etc/log/journal.\n\n456\n00:23:25.715 --> 00:23:28.490\nAnd actually, there's files inside\nof that, so let me get into that.\n\n457\n00:23:28.490 --> 00:23:33.296\nSo that's etc/log/journal.\n\n458\n00:23:33.296 --> 00:23:38.187\nAnd, oh, I don't even have that folder,\noh, [LAUGH] I'm going to the wrong place.\n\n459\n00:23:38.187 --> 00:23:43.047\n/etc/systemd, there we go, it's inside\nof the System D configuration and\n\n460\n00:23:43.047 --> 00:23:46.223\nyou'll see journald.comf\nthat guy right there.\n\n461\n00:23:46.223 --> 00:23:48.615\nI'm gonna get to that other\nfolder here in just a second.\n\n462\n00:23:48.615 --> 00:23:53.506\njournald.comf, if I take a look at\nthat file, that's where its got,\n\n463\n00:23:53.506 --> 00:23:55.638\nwhere the storage is, right?\n\n464\n00:23:55.638 --> 00:23:57.270\nYou can move that somewhere else.\n\n465\n00:23:57.270 --> 00:24:00.682\nYou remove this hash mark to uncomment the\nline and you specify an alternate path.\n\n466\n00:24:00.682 --> 00:24:04.880\nBut the default is to go\nto /var/log/journal and\n\n467\n00:24:04.880 --> 00:24:08.791\nIn fact, if I go in here,\nlet me edit this file.\n\n468\n00:24:08.791 --> 00:24:11.672\nIf I go in here and change it and\njust leave it at auto,\n\n469\n00:24:11.672 --> 00:24:14.910\nit's going to go ahead and\nput it in that location.\n\n470\n00:24:14.910 --> 00:24:17.162\nYou can turn on compression,\nyou can set other values,\n\n471\n00:24:17.162 --> 00:24:19.680\nall right, all sorts of other stuff that\nwe can configure in here, and I'm just\n\n472\n00:24:19.680 --> 00:24:23.510\ngonna leave them all at their defaults to\nget the new journaling system turned on.\n\n473\n00:24:23.510 --> 00:24:27.150\nNow the folder I was trying to go\nto a moment ago, /var/log/journal,\n\n474\n00:24:27.150 --> 00:24:32.080\nthat was where the logs get stored and\nthen /etc/log/journal, that one doesn't\n\n475\n00:24:32.080 --> 00:24:36.800\nactually exist, so\nthat's why I wasn't getting to it.\n\n476\n00:24:38.170 --> 00:24:42.110\nAll right so at this point I've\ngot journald configured, but\n\n477\n00:24:42.110 --> 00:24:43.890\nit's not actually running.\n\n478\n00:24:43.890 --> 00:24:46.800\nIt is fired up by systemd when it starts,\nand you do have to reboot for\n\n479\n00:24:46.800 --> 00:24:47.680\nthis one to take effect.\n\n480\n00:24:47.680 --> 00:24:49.048\nSo I'm gonna go ahead and issue a reboot.\n\n481\n00:24:49.048 --> 00:24:53.026\nAnd when it reboots,\nI've got /var/log/journal, so\n\n482\n00:24:53.026 --> 00:24:54.878\nit has a place to store it.\n\n483\n00:24:54.878 --> 00:25:01.460\nAnd in /etc/systemD/journal.cnof,\nit knows to use that.\n\n484\n00:25:01.460 --> 00:25:06.270\nAnd so now, I'm still sys logging,\nbut I'm journaling also.\n\n485\n00:25:06.270 --> 00:25:09.140\nAnd if I'm happy with the journaling,\nI can go and disable sys log and\n\n486\n00:25:09.140 --> 00:25:10.700\nI wouldn't have it anymore.\n\n487\n00:25:10.700 --> 00:25:12.690\nBut very few distros\nare doing that right now.\n\n488\n00:25:12.690 --> 00:25:17.510\nMost of the distros are supporting syslog,\nso expect to see that.\n\n489\n00:25:17.510 --> 00:25:18.600\nBut we do need to be aware of this and\n\n490\n00:25:18.600 --> 00:25:21.390\nI just kind of want to show you those\nlogs, once they come up and get generated.\n\n491\n00:25:22.860 --> 00:25:25.850\nNow for viewing the logs, I can go and\npoke around the files themselves, but\n\n492\n00:25:25.850 --> 00:25:28.420\nwe actually have a system D\nutility we can use for it too.\n\n493\n00:25:29.960 --> 00:25:37.020\nSo that I've rebooted,\nthe command is journalctl, right?\n\n494\n00:25:37.020 --> 00:25:39.590\nRemember in system D you have\nlike systemctl for starting and\n\n495\n00:25:39.590 --> 00:25:40.730\nstopping services?\n\n496\n00:25:40.730 --> 00:25:43.590\nYou got journalctl for\nlooking at the journal.\n\n497\n00:25:43.590 --> 00:25:45.710\nAnd there's my log messages, right?\n\n498\n00:25:45.710 --> 00:25:49.680\nJournalctl, I can see the logs,\nand now I've got those entries and\n\n499\n00:25:49.680 --> 00:25:53.090\nyou can see my domain name,\nthe service that generated it,\n\n500\n00:25:53.090 --> 00:25:56.220\nthe process ID of the service,\nthe message that was generated.\n\n501\n00:25:56.220 --> 00:25:59.280\nIt's all right here in Journal CTL.\n\n502\n00:25:59.280 --> 00:26:05.800\nAnd if I go into /var/log/journal,\nI can see that file right there.\n\n503\n00:26:05.800 --> 00:26:09.720\nIt's generated my first one, and it's\ngonna start drawing from there, all right?\n\n504\n00:26:09.720 --> 00:26:14.330\nSo, it's an alternative to syslog, it's\nvery new, it's not widely accepted yet,\n\n505\n00:26:14.330 --> 00:26:17.150\nbut it is kind of on the horizon,\njust something you're gonna see.\n\n506\n00:26:17.150 --> 00:26:18.320\n>> It was very neat and clean though.\n\n507\n00:26:18.320 --> 00:26:20.750\nA whole lot easier,\nat least to work with and\n\n508\n00:26:20.750 --> 00:26:25.550\ndeal with as far as the output,\nand especially with that one.\n\n509\n00:26:25.550 --> 00:26:28.510\n>> You know one of the big\nadvantages of the,\n\n510\n00:26:28.510 --> 00:26:32.610\nof journaling is it's tied the system\nds is tied to the inet process.\n\n511\n00:26:32.610 --> 00:26:36.270\nVersus syslog, where for a lot of distros,\nsyslog is just it's own service.\n\n512\n00:26:36.270 --> 00:26:39.980\nSo it's possible this service could crash\nand now you're not getting logs anymore.\n\n513\n00:26:39.980 --> 00:26:41.080\nThat'd be bad.\n\n514\n00:26:41.080 --> 00:26:45.340\nWell with journaling in system D if\nit crashes, if system D crashes,\n\n515\n00:26:45.340 --> 00:26:46.560\nyour whole system crashes, right, so\n\n516\n00:26:46.560 --> 00:26:50.460\nyou're kinda guaranteed to get those\nlog messages, so it's more reliable.\n\n517\n00:26:50.460 --> 00:26:52.220\nThat makes it nice.\n\n518\n00:26:52.220 --> 00:26:56.460\nA lot of people though have software and\nsystems that depend on syslog.\n\n519\n00:26:56.460 --> 00:26:58.260\nSo I don't know that we'll\never get away from that,\n\n520\n00:26:58.260 --> 00:27:02.210\nbut you probably see a lot of people run\nboth, like I'm running both now here.\n\n521\n00:27:02.210 --> 00:27:06.330\nI haven't disabled syslog, so\nI've got both systems in place and\n\n522\n00:27:06.330 --> 00:27:07.200\nit works just fine.\n\n523\n00:27:07.200 --> 00:27:10.650\n>> Yeah I guess it won't be until\nthose older systems start really\n\n524\n00:27:10.650 --> 00:27:14.110\ngoing the way of the dodo that the new\nsystems will completely take over and\n\n525\n00:27:14.110 --> 00:27:16.870\nwe won't have to worry about the old\nway anymore, we'll have nice new way.\n\n526\n00:27:16.870 --> 00:27:19.190\nAnd maybe they'll have an even\nnewer way at that point, who knows.\n\n527\n00:27:19.190 --> 00:27:21.120\n>> Yeah, it probably would have\nhappened already if there wasn't so\n\n528\n00:27:21.120 --> 00:27:24.975\nmuch like controversy over system D but,\nyou know that's just how it is.\n\n529\n00:27:24.975 --> 00:27:25.950\n[LAUGH]\n>> Well Don, this was\n\n530\n00:27:25.950 --> 00:27:30.280\nexcellent information, the system logs,\nbeing able to look at the logs,\n\n531\n00:27:30.280 --> 00:27:33.360\nwhat happened, events that have occurred\n>> That's really\n\n532\n00:27:33.360 --> 00:27:34.830\nsomething that we need to know how to do.\n\n533\n00:27:34.830 --> 00:27:38.710\nBecause a lot of times, like Don was\nsaying before, those error messages,\n\n534\n00:27:38.710 --> 00:27:41.610\nthey're there to actually tell\nus this is what's happened,\n\n535\n00:27:41.610 --> 00:27:44.780\nthis is the information you need to\nknow to get to the root of the problem.\n\n536\n00:27:44.780 --> 00:27:47.390\nFind out where the error occurred,\nwhy it happened.\n\n537\n00:27:47.390 --> 00:27:50.230\nSo being able to parse through our logs,\nfind out what's going on, or\n\n538\n00:27:50.230 --> 00:27:53.430\nmaybe if you've had some sort\nof malfeasance going on,\n\n539\n00:27:53.430 --> 00:27:56.410\nmaybe somebody's trying to break in,\ndo things they shouldn't do,\n\n540\n00:27:56.410 --> 00:27:58.530\nthis is definitely gonna\nhelp out with that as well.\n\n541\n00:27:58.530 --> 00:28:00.980\nDon have we basically covered this?\n\n542\n00:28:00.980 --> 00:28:03.230\nThis is the good and a foundation right?\n\n543\n00:28:03.230 --> 00:28:04.460\n>> Yep, there's a ton more in there.\n\n544\n00:28:04.460 --> 00:28:06.140\nYou know, poke around through\nthe configuration files,\n\n545\n00:28:06.140 --> 00:28:08.000\nyou'll see all the options,\nthey're well documented.\n\n546\n00:28:08.000 --> 00:28:09.220\nIt's a great system.\n\n547\n00:28:09.220 --> 00:28:14.290\nAnd having a centralized syslog\nserver is so nice for tracking down\n\n548\n00:28:14.290 --> 00:28:18.410\nsecurity alerts and other things,\nkind of correlating errors across servers.\n\n549\n00:28:18.410 --> 00:28:19.410\nReally valuable stuff.\n\n550\n00:28:19.410 --> 00:28:20.190\n>> Awesome, awesome.\n\n551\n00:28:20.190 --> 00:28:22.410\nWell it looks like we've\nwrapped up this show.\n\n552\n00:28:22.410 --> 00:28:24.800\nHopefully you guys out there\nlearned a lot from this one.\n\n553\n00:28:24.800 --> 00:28:27.990\nDefinitely take that to the bank, this\nis gonna be good stuff in your career.\n\n554\n00:28:27.990 --> 00:28:32.260\nThat being said, it's time to sign off for\nITProTV I've been your host Daniel Lowry.\n\n555\n00:28:32.260 --> 00:28:33.100\n>> And I'm Don Bissette.\n\n556\n00:28:33.100 --> 00:28:34.212\n>> And we'll see you next time.\n\n557\n00:28:34.212 --> 00:28:39.990\n[MUSIC]\n\n",
          "vimeoId": "131576408"
        },
        {
          "description": null,
          "length": "1585",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-3-system_time-062315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-3-system_time-062315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-3-system_time-062315-1-sm.jpg",
          "title": "System Time",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.958\n[MUSIC]\n\n2\n00:00:10.958 --> 00:00:15.457\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.457 --> 00:00:18.961\nI'm your host Daniel Lowry and\nhere with me today is Don Pezet.\n\n4\n00:00:18.961 --> 00:00:20.240\nHow's it going today, Don?\n\n5\n00:00:20.240 --> 00:00:21.450\n>> I'm doing great Daniel.\n\n6\n00:00:21.450 --> 00:00:25.120\nToday we're gonna be talking\nabout one of the unsung\n\n7\n00:00:25.120 --> 00:00:28.090\nheroes of the Linux server world,\nwhich is time.\n\n8\n00:00:28.090 --> 00:00:32.430\nJust setting our clock, and for those of\nyou that watch this live, before the show\n\n9\n00:00:32.430 --> 00:00:35.690\nDaniel and I had a funny conversation\nabout, why do we care about this?\n\n10\n00:00:35.690 --> 00:00:36.992\nWe're just setting the time, right?\n\n11\n00:00:36.992 --> 00:00:40.290\nWe're gonna do a whole episode on setting\nthe clock on our stupid computer,\n\n12\n00:00:40.290 --> 00:00:42.600\nand you might think to yourself\nyeah it's no big deal,\n\n13\n00:00:42.600 --> 00:00:45.200\nbut on a work station it really\nisn't a big deal, right?\n\n14\n00:00:45.200 --> 00:00:49.540\nYou set your clock during the install and\nyou're pretty much done, but on a server,\n\n15\n00:00:49.540 --> 00:00:54.000\nhaving a properly synchronized clock\nis really important all right, and\n\n16\n00:00:54.000 --> 00:00:55.710\nlet me just give you an example.\n\n17\n00:00:55.710 --> 00:01:00.690\nSo, let's say that a hacker manages\nto penetrate one of your servers.\n\n18\n00:01:00.690 --> 00:01:01.418\nYou know what happened.\n\n19\n00:01:01.418 --> 00:01:05.690\nYou saw some warning signs or whatever, so\nyou have an idea that somebody broke into\n\n20\n00:01:05.690 --> 00:01:09.750\nyour system, and now you need to\nfigure out what systems were effected.\n\n21\n00:01:09.750 --> 00:01:12.070\nAll right well, you look at the log\nmessages on your server and\n\n22\n00:01:12.070 --> 00:01:13.770\nit shows the attack happened at 3:53 pm.\n\n23\n00:01:15.068 --> 00:01:17.970\nThen you go to your other servers,\nyou start looking at 3:53 PM to see what\n\n24\n00:01:17.970 --> 00:01:20.240\nhappens and\nnone of them really show anything.\n\n25\n00:01:20.240 --> 00:01:24.730\nBut, you've got one server\nthat's logging in UTC.\n\n26\n00:01:24.730 --> 00:01:28.240\nYou've got other servers that\nare logging in their local time zone.\n\n27\n00:01:28.240 --> 00:01:31.480\nYou got other servers that are obeying\ndaylight savings time, and yet\n\n28\n00:01:31.480 --> 00:01:34.050\nagain other servers that just\nhave a wrong clock all together.\n\n29\n00:01:34.050 --> 00:01:36.910\nNow when you look at the logs,\nhow do you know it happened at 3:53?\n\n30\n00:01:36.910 --> 00:01:39.980\nIt becomes very challenging and\nreally, really difficult, and\n\n31\n00:01:39.980 --> 00:01:42.180\nif you're trying to coordinate\nthat against firewalls and\n\n32\n00:01:42.180 --> 00:01:46.680\nintrusion detection devices, and other\nthings like that, it's just a nightmare.\n\n33\n00:01:46.680 --> 00:01:50.620\nIf you had a unified clock, if all of\nyour systems had a synchronized clock,\n\n34\n00:01:50.620 --> 00:01:54.150\nthat wouldn't be a problem, you'd know\nexactly what time it was, and so,\n\n35\n00:01:54.150 --> 00:01:56.010\nthat's what we're gonna take\na look at in this episode.\n\n36\n00:01:56.010 --> 00:01:59.360\nHow do we ensure that we have the most\naccurate time possible on our system for\n\n37\n00:01:59.360 --> 00:02:00.430\nconsistent network behavior?\n\n38\n00:02:00.430 --> 00:02:03.710\nAll right, well let's just\nstart with the simple stuff.\n\n39\n00:02:03.710 --> 00:02:06.640\nSetting the clock right\nhere on our own system.\n\n40\n00:02:06.640 --> 00:02:10.370\nI'm on a CentOS 7 box here, and\nif I just type the date command,\n\n41\n00:02:10.370 --> 00:02:12.500\nit'll tell me what time my\nsystem thinks that it is,\n\n42\n00:02:12.500 --> 00:02:16.280\nand you'll see my system thinks\nit's June 23rd, which it is.\n\n43\n00:02:16.280 --> 00:02:17.420\nThat's good.\n\n44\n00:02:17.420 --> 00:02:21.040\nIt thinks it's 11:01\nAM Eastern Daylight Time 2015.\n\n45\n00:02:21.040 --> 00:02:23.240\nThat's right.\n\n46\n00:02:23.240 --> 00:02:24.210\nMy clocks right.\n\n47\n00:02:24.210 --> 00:02:25.230\nThat's good.\n\n48\n00:02:25.230 --> 00:02:28.900\nIf you just installed your system though,\nit may be wrong, or if your system has\n\n49\n00:02:28.900 --> 00:02:31.050\nbeen powered off for a while and\nyou power it on it might be wrong.\n\n50\n00:02:31.050 --> 00:02:33.632\nThere's different thinks\nthat can make it be wrong.\n\n51\n00:02:33.632 --> 00:02:38.620\nAll right, so one of the number one things\nthat makes it be wrong is the time zone.\n\n52\n00:02:38.620 --> 00:02:40.585\nWhen somebody installs a Linux distro,\n\n53\n00:02:40.585 --> 00:02:43.800\nduring the install it asks\nthem to pick a time zone.\n\n54\n00:02:43.800 --> 00:02:46.656\nWell what if you're company has\noffices in more than one state, or\n\n55\n00:02:46.656 --> 00:02:49.257\nyour in one of those states that\nhas more than one time zone and\n\n56\n00:02:49.257 --> 00:02:52.628\nyou ship a computer from one time zone\nto another, now the time zone's wrong.\n\n57\n00:02:52.628 --> 00:02:56.579\nAnd what I get, I get this all the time,\nwhere you'll have a machine that's set for\n\n58\n00:02:56.579 --> 00:02:59.967\nthe Pacific Time zone, and somebody\nbrings it over to the East coast and\n\n59\n00:02:59.967 --> 00:03:01.287\nit's three hours behind.\n\n60\n00:03:01.287 --> 00:03:03.133\nAnd so what do they do,\nthey edit their clock and\n\n61\n00:03:03.133 --> 00:03:05.500\nthey move their clock ahead three hours.\n\n62\n00:03:05.500 --> 00:03:09.680\nWell, if you move your clock\ninstead of changing the time zone,\n\n63\n00:03:09.680 --> 00:03:13.760\nyour clock is now off by three hours, and\nthat's gonna break all sorts of things.\n\n64\n00:03:13.760 --> 00:03:16.940\nYou'll have things like IP SEC\nencryption to stop working because that.\n\n65\n00:03:16.940 --> 00:03:21.180\nSo, instead you should have corrected\nthe timezone, not the clock, but\n\n66\n00:03:21.180 --> 00:03:24.200\nchanging the timezone is\nunfortunately difficult\n\n67\n00:03:24.200 --> 00:03:27.220\nbecause different distros handle\ntime zones different ways.\n\n68\n00:03:27.220 --> 00:03:30.680\nSo let me show you guys a couple of the\nvariations that you're gonna bump into.\n\n69\n00:03:30.680 --> 00:03:37.611\nOne of the easiest methods is when\na system uses the /etc/timezone file.\n\n70\n00:03:37.611 --> 00:03:41.157\nSo it's one of the first things\nthat I look for, is /etc/timezone,\n\n71\n00:03:41.157 --> 00:03:44.200\nbut if you look on my system\nI don't have /etc/timezone.\n\n72\n00:03:44.200 --> 00:03:47.208\nIf you do, it's just a text file,\nyou edit it,\n\n73\n00:03:47.208 --> 00:03:50.761\nyou change the time zone in there,\nyou reboot, right.\n\n74\n00:03:50.761 --> 00:03:53.793\nYou do kinda have to reboot, which stinks,\nbut it's the clock so you gotta do it.\n\n75\n00:03:53.793 --> 00:03:55.270\nSo there we go.\n\n76\n00:03:55.270 --> 00:03:58.000\nThat's one way to do it,\nbut I don't have it.\n\n77\n00:03:58.000 --> 00:04:02.410\nAnother one is /etc/localtime, and\n\n78\n00:04:02.410 --> 00:04:06.970\nif I look at my files in here,\nI do have /etc/localtime.\n\n79\n00:04:06.970 --> 00:04:08.001\nWell, sort of.\n\n80\n00:04:08.001 --> 00:04:09.156\nIt's a sim link, right.\n\n81\n00:04:09.156 --> 00:04:15.141\nSo if I do a little ls-la for\nlocaltime, I can see it's sim linked to\n\n82\n00:04:15.141 --> 00:04:20.950\n/usr/share/zoneinfo/America/Kentucky/Mont-\nicello.\n\n83\n00:04:20.950 --> 00:04:23.930\nWhat's that all about?\n\n84\n00:04:23.930 --> 00:04:29.022\nWell, the local time file is sim\nlinked to a time zone file, and\n\n85\n00:04:29.022 --> 00:04:34.330\nin CentOS, and Red Hat they store all the\ntime zone files in /usr/share/zoneinfo.\n\n86\n00:04:34.330 --> 00:04:39.070\nAnd all the zones are defined in there,\nand you can just sim link to that, and\n\n87\n00:04:39.070 --> 00:04:40.040\nnow you'll be in the right time zone.\n\n88\n00:04:40.040 --> 00:04:43.020\nSo I can change from this Kentucky,\nMonticello,\n\n89\n00:04:43.020 --> 00:04:45.720\nwhich I have no idea where that city is,\nI mean its obviously in Kentucky, but\n\n90\n00:04:45.720 --> 00:04:47.300\nthat's the extent of my knowledge.\n\n91\n00:04:47.300 --> 00:04:49.310\nI could pick a different city.\n\n92\n00:04:49.310 --> 00:04:51.360\nSo maybe I wanted to\nsend link it to New York.\n\n93\n00:04:51.360 --> 00:04:56.804\nRight so,\nif I went to /usr/shares/zoneinfo.\n\n94\n00:04:56.804 --> 00:05:02.370\nI'll see countries and\nI can go into America, and\n\n95\n00:05:02.370 --> 00:05:08.220\ninside of America I start to see various\nstates and other countries that are here.\n\n96\n00:05:08.220 --> 00:05:13.868\nSo maybe I can find New York in the list\nand sure enough, there is New York,\n\n97\n00:05:13.868 --> 00:05:17.600\nand oh, well apparently New York doesn't\nhave cities underneath it and so\n\n98\n00:05:17.600 --> 00:05:19.150\nit's just a straight up file New York.\n\n99\n00:05:19.150 --> 00:05:21.180\nSo I could link right to New York and\nI'd be set.\n\n100\n00:05:21.180 --> 00:05:24.350\nYou'll see there's also\nother abbreviations in here,\n\n101\n00:05:24.350 --> 00:05:28.270\nlike inside of zone info I've got est and\nest5edt.\n\n102\n00:05:29.440 --> 00:05:32.155\nWe could be daylight time versus\nnot observing daylight time,\n\n103\n00:05:32.155 --> 00:05:35.180\ncuz some people are in the Eastern time\nzone but don't observe daylight time.\n\n104\n00:05:35.180 --> 00:05:40.098\nSo I can pick between those to choose\nthe right one for me, all right.\n\n105\n00:05:40.098 --> 00:05:43.760\nYour distro may not have the exact\nsame entries that I do though.\n\n106\n00:05:43.760 --> 00:05:45.276\nSo you might have to\nbrowse around to try and\n\n107\n00:05:45.276 --> 00:05:47.272\nfind the one that matches up\nbest with what you've got.\n\n108\n00:05:47.272 --> 00:05:48.970\nAll right, just be aware of that.\n\n109\n00:05:48.970 --> 00:05:51.690\n>> Now Don, are we stuck with\nwhat they give us in our distro?\n\n110\n00:05:51.690 --> 00:05:55.110\nOr can we add different,\nlike if I don't see the the correct\n\n111\n00:05:55.110 --> 00:05:57.510\ntime zone that I would like for\nmyself, can I add that in?\n\n112\n00:05:57.510 --> 00:05:58.330\n>> Yeah, you can add your own.\n\n113\n00:05:58.330 --> 00:05:59.460\nYeah these are, they're a simple file,\n\n114\n00:05:59.460 --> 00:06:02.560\nyou can just copy one of the existing\nfiles and modify it and that'll work.\n\n115\n00:06:02.560 --> 00:06:05.128\nYou just need to make sure you're\nconsistent about that across all your\n\n116\n00:06:05.128 --> 00:06:06.130\nmachines.\n\n117\n00:06:06.130 --> 00:06:09.500\nSo, picking one that's already there\nis a little bit beneficial because\n\n118\n00:06:09.500 --> 00:06:10.800\nyou make sure that it's\nthe same everywhere.\n\n119\n00:06:11.860 --> 00:06:13.380\nAll right, other things.\n\n120\n00:06:13.380 --> 00:06:17.670\nSome systems have the tzselect command,\nwhich I really appreciate,\n\n121\n00:06:17.670 --> 00:06:21.060\ncuz it's a nice little menu where\nyou can pick your time zone.\n\n122\n00:06:21.060 --> 00:06:23.340\nSo instead of editing files or\nwhatever, I can just come in here and\n\n123\n00:06:23.340 --> 00:06:27.340\nsay all right i'm in the Americas,\nand in here I can try and\n\n124\n00:06:27.340 --> 00:06:30.820\npick something close to me or whatever.\n\n125\n00:06:30.820 --> 00:06:34.660\nNew York, not really showing up, oh,\nI'm still in countries, aren't I?\n\n126\n00:06:34.660 --> 00:06:39.191\nSo I need to pick United States, and then\nI get Eastern time and the other guys,\n\n127\n00:06:39.191 --> 00:06:43.533\nI can pick Eastern time here, and\nnow it's gonna set it and so it's got it.\n\n128\n00:06:43.533 --> 00:06:47.188\nHere's what my Local time is\nnow here's my Universal Time,\n\n129\n00:06:47.188 --> 00:06:50.854\nis the information okay, and\nI can say yes, and there we go.\n\n130\n00:06:50.854 --> 00:06:53.034\nAnd you know,\nwhile I didn't get to pick New York,\n\n131\n00:06:53.034 --> 00:06:55.080\nit did actually show it there so,\nwhatever.\n\n132\n00:06:55.080 --> 00:06:58.650\nSo [LAUGH] that was TZ select\n>> Didn't do what you wanted done [LAUGH]\n\n133\n00:06:58.650 --> 00:07:01.210\n>> Another possibility is tzconfig,\n\n134\n00:07:01.210 --> 00:07:04.400\nwhich again you may or may not have,\nwith tzconfig, I don't have it, but\n\n135\n00:07:04.400 --> 00:07:06.470\nit's just like tzselect.\n\n136\n00:07:06.470 --> 00:07:09.580\nThis one actually uses a little menu\nscreen with an animated cursor on it.\n\n137\n00:07:09.580 --> 00:07:12.763\nIt's a little flashier, all right.\n\n138\n00:07:12.763 --> 00:07:17.218\nYet again, other systems might not\nhave any of these commands, and\n\n139\n00:07:17.218 --> 00:07:20.736\ninstead, use the $TZ environment variable,\nand so\n\n140\n00:07:20.736 --> 00:07:25.662\nyou might have $TZ as an environment\nvariable when store there right but,\n\n141\n00:07:25.662 --> 00:07:30.535\nof those options, one of those is gonna\nstore where your time zone is set.\n\n142\n00:07:30.535 --> 00:07:32.550\nSo that's a pretty big\nchallenge right there.\n\n143\n00:07:32.550 --> 00:07:36.091\nIf you have GUI it's usually a lot\neasier to change the time zone, but\n\n144\n00:07:36.091 --> 00:07:40.060\nfrom the command line you kinda have to\nguess through those different options\n\n145\n00:07:40.060 --> 00:07:41.726\nuntil you find your distro has.\n\n146\n00:07:41.726 --> 00:07:46.903\nAll right after that, now we can\nstart to worry about the time itself.\n\n147\n00:07:46.903 --> 00:07:50.089\nHow do we set our clock again if we have\na GUI you just click on the clock and\n\n148\n00:07:50.089 --> 00:07:50.684\nthat's it.\n\n149\n00:07:50.684 --> 00:07:54.625\nIf you don't have a GUI, there's two\ncommands we need to be aware of.\n\n150\n00:07:54.625 --> 00:07:55.750\nOne is the date command.\n\n151\n00:07:55.750 --> 00:07:59.186\nWhen I said date earlier,\nit showed me my current date.\n\n152\n00:07:59.186 --> 00:08:01.449\nI can actually use that\nto change my date though.\n\n153\n00:08:01.449 --> 00:08:03.342\nI can say date.\n\n154\n00:08:03.342 --> 00:08:07.023\nAnd then I can specify a system time.\n\n155\n00:08:07.023 --> 00:08:10.065\nAnd you actually write the system\ntime in a human readable format,\n\n156\n00:08:10.065 --> 00:08:11.053\nwhich is kinda nice.\n\n157\n00:08:11.053 --> 00:08:14.614\nSo I can say, we'll do 20,\n\n158\n00:08:14.614 --> 00:08:20.033\nJune 2014 and I'll say it's high noon.\n\n159\n00:08:20.033 --> 00:08:22.830\nSo I'm telling the system\nwhat I want that clock to be.\n\n160\n00:08:22.830 --> 00:08:26.840\nAnd now that I've got that set, well,\n\n161\n00:08:26.840 --> 00:08:29.980\nsee how my system jumped right\nback to where it should have been?\n\n162\n00:08:29.980 --> 00:08:34.970\nMost of our modern Linux\ndistros are actually using NTP,\n\n163\n00:08:34.970 --> 00:08:37.440\nthe Network Time Protocol\nto fix the clock.\n\n164\n00:08:37.440 --> 00:08:39.130\nSo when I ran it, I know it worked.\n\n165\n00:08:39.130 --> 00:08:41.970\nI know it set the time\nbecause I see it right here.\n\n166\n00:08:41.970 --> 00:08:45.180\nBut then it set us up right\nback to being correct again, so\n\n167\n00:08:45.180 --> 00:08:46.300\ndon't be surprised if that happens.\n\n168\n00:08:46.300 --> 00:08:49.650\nIf you have a network timed server,\nthen that's going to occur, all right?\n\n169\n00:08:49.650 --> 00:08:52.752\nBut in my case, if you wanted to set it,\nyou can do date-s,\n\n170\n00:08:52.752 --> 00:08:55.060\nprovided by what you\nwanted that date to be.\n\n171\n00:08:55.060 --> 00:09:00.265\nNow that dash S, this is our system or\nour software clock.\n\n172\n00:09:00.265 --> 00:09:02.450\nYour system has a hardware clock also.\n\n173\n00:09:02.450 --> 00:09:05.200\nWhen you power your computer off,\nyour system clock,\n\n174\n00:09:05.200 --> 00:09:06.780\nthis software clock, doesn't work.\n\n175\n00:09:06.780 --> 00:09:07.500\nRight?\n\n176\n00:09:07.500 --> 00:09:10.120\nSo when you power your computer back on,\nhow does it know what time it is?\n\n177\n00:09:10.120 --> 00:09:13.640\nWell your motherboard will have\na battery backed clock on it.\n\n178\n00:09:13.640 --> 00:09:14.990\nIf you've ever looked at the motherboard,\n\n179\n00:09:14.990 --> 00:09:17.520\nthere's usually like a little\nwatch battery on there somewhere.\n\n180\n00:09:17.520 --> 00:09:19.130\nAnd that's what's powering the clock.\n\n181\n00:09:19.130 --> 00:09:21.430\nI know I've seen some servers these\ndays that have these little rechargeable\n\n182\n00:09:21.430 --> 00:09:23.770\nbatteries instead, but\nusually it's a watch battery.\n\n183\n00:09:25.380 --> 00:09:29.710\nIf you wanna change your hardware clock,\nthe best way to do it is to reboot and\n\n184\n00:09:29.710 --> 00:09:31.080\ngo into your BIOS screen.\n\n185\n00:09:31.080 --> 00:09:32.510\nAnd you can change at the BIOS screen.\n\n186\n00:09:32.510 --> 00:09:34.450\nThere's your hardware clock, done.\n\n187\n00:09:34.450 --> 00:09:39.610\nBut, many of those hardware clocks do\nsupport being set from the Linux Distro.\n\n188\n00:09:39.610 --> 00:09:41.600\nAnd that means we don't have to reboot.\n\n189\n00:09:41.600 --> 00:09:47.110\nAnd so we can come in and we can use\nthe HW clock command for hardware clock.\n\n190\n00:09:47.110 --> 00:09:51.810\nAnd see how my hardware clock is\nreturning that it's June 2015 and so on.\n\n191\n00:09:51.810 --> 00:09:55.670\nAnd I see that clock and\nI can set it from here also.\n\n192\n00:09:55.670 --> 00:09:59.290\nAnd so I can come in and I can\nspecify what I want that clock to be.\n\n193\n00:09:59.290 --> 00:10:03.340\nAnd normally, what we do, is we just kind\nof synchronize it with our system clock.\n\n194\n00:10:03.340 --> 00:10:08.960\nSo I might say something like, --systwohc.\n\n195\n00:10:08.960 --> 00:10:12.170\nCopy whatever time is in my system clock,\nto my hardware clock.\n\n196\n00:10:13.430 --> 00:10:16.839\nBut if if my hardware clock is right and\nmy system clock is wrong,\n\n197\n00:10:16.839 --> 00:10:19.630\nI can actually reverse that and\nsay like >hctosys.\n\n198\n00:10:19.630 --> 00:10:21.987\nAnd now it'll copy the hardware\nclock to my system clock and\n\n199\n00:10:21.987 --> 00:10:23.830\nget that synchronized and in place.\n\n200\n00:10:23.830 --> 00:10:27.770\nSo, we can use that to get those to put\nin place and things are back to normal.\n\n201\n00:10:29.560 --> 00:10:34.260\nAll right, so, a couple of different\noptions there, but after seeing that,\n\n202\n00:10:34.260 --> 00:10:40.200\nthose options are great, but the majority\nof the time, we're gonna be using NTP.\n\n203\n00:10:40.200 --> 00:10:42.066\nNetwork Time Protocol.\n\n204\n00:10:42.066 --> 00:10:46.430\nEvery Linux just so I've touched over\nthe last, how many, 7 years has NTP\n\n205\n00:10:46.430 --> 00:10:50.070\nenabled by default, so we can go out and\nget network time from somewhere.\n\n206\n00:10:51.530 --> 00:10:54.760\nThat somewhere is usually some kind\nof service out on the internet, but\n\n207\n00:10:54.760 --> 00:10:55.980\nyou can run your own time server.\n\n208\n00:10:55.980 --> 00:10:59.280\nYou can pick a device in your own network,\nand use it as the time server and\n\n209\n00:10:59.280 --> 00:11:00.750\nsynchronize everything off of it.\n\n210\n00:11:00.750 --> 00:11:02.090\nThat's kinda nice.\n\n211\n00:11:02.090 --> 00:11:04.870\nBecause, I'll tell you,\nend users, they hate it,\n\n212\n00:11:04.870 --> 00:11:08.360\nwhen their computer clock is different\nfrom the clock on their VoIP phone, and\n\n213\n00:11:08.360 --> 00:11:11.370\nthat's different from the clock\non their files, or whatever.\n\n214\n00:11:11.370 --> 00:11:14.210\nThey love it when their clocks\nare all synchronized across the board.\n\n215\n00:11:14.210 --> 00:11:17.160\nSo setting up your own time\nserver is a pretty useful thing.\n\n216\n00:11:17.160 --> 00:11:18.450\n>> Yeah.\nThey don't know which clock to use,\n\n217\n00:11:18.450 --> 00:11:20.040\nthey get really confused, really quickly.\n\n218\n00:11:20.040 --> 00:11:22.750\nAnd then they start complaining,\nthey're like, do I go by my phone,\n\n219\n00:11:22.750 --> 00:11:24.110\nis that my clock Tom?\n\n220\n00:11:24.110 --> 00:11:28.670\nAnd that can really come into play,\nwhen it has users that live and\n\n221\n00:11:28.670 --> 00:11:29.430\ndie by the clock.\n\n222\n00:11:29.430 --> 00:11:31.290\nThey punch in, they punch out.\n\n223\n00:11:31.290 --> 00:11:35.070\nTheir pay is graded by how much\ntime they spent at work and\n\n224\n00:11:35.070 --> 00:11:37.550\nwhen did they actually do work,\nhave they taken the correct breaks.\n\n225\n00:11:37.550 --> 00:11:38.700\nAll that kind of stuff.\n\n226\n00:11:38.700 --> 00:11:44.840\nSo they get really up in arms about\nwhich clock is the right clock.\n\n227\n00:11:44.840 --> 00:11:46.721\n>> Yeah, and let's be realistic, Daniel.\n\n228\n00:11:46.721 --> 00:11:47.800\nThey just wanna know\nwhen they can go home.\n\n229\n00:11:47.800 --> 00:11:50.428\n>> [LAUGH]\n>> [LAUGH] So they don't-\n\n230\n00:11:50.428 --> 00:11:52.390\n>> Is it really 4:30 or 4:45?\n\n231\n00:11:52.390 --> 00:11:53.501\n[LAUGH]\n>> Right,\n\n232\n00:11:53.501 --> 00:11:54.580\nthey don't wanna be there at 5:05.\n\n233\n00:11:54.580 --> 00:11:58.020\nThat's unacceptable, so\nwe wanna synchronize that clock, and\n\n234\n00:11:58.020 --> 00:11:59.730\nthat's what NTP does for us.\n\n235\n00:11:59.730 --> 00:12:03.110\nNow, if you don't have NTP installed\non your system, I'm shocked, right?\n\n236\n00:12:03.110 --> 00:12:05.430\nBecause most of them do, but\nyou can install it pretty easy.\n\n237\n00:12:05.430 --> 00:12:09.780\nJust use app dash get install NTP or yum.\n\n238\n00:12:09.780 --> 00:12:12.100\nOn my system I would say yum install ntp.\n\n239\n00:12:15.700 --> 00:12:18.840\nThat will go or wait, there we go,\nthat will install it.\n\n240\n00:12:18.840 --> 00:12:20.440\nIn my case, you can see,\nI've already got it.\n\n241\n00:12:20.440 --> 00:12:21.590\nI'm already at the latest version.\n\n242\n00:12:21.590 --> 00:12:23.220\nIt was packaged with my default install.\n\n243\n00:12:23.220 --> 00:12:25.510\nThat's kind of what you expect.\n\n244\n00:12:25.510 --> 00:12:28.140\nIf you did just install it,\nyou do need to start it.\n\n245\n00:12:28.140 --> 00:12:33.050\nSo on a SysVinit, or an upstart system,\n\n246\n00:12:33.050 --> 00:12:36.560\nyou would say service ntpd start, right?\n\n247\n00:12:36.560 --> 00:12:42.760\nOn a System D system, you'd say system\nctl ntpd start, and you'd start that up.\n\n248\n00:12:42.760 --> 00:12:45.650\nAnd so there mine goes, it's starting,\nand it's exciting, all right.\n\n249\n00:12:45.650 --> 00:12:51.136\nNow, when I'm running NTP, I can be\nan NTP client and I can be an NTP server.\n\n250\n00:12:51.136 --> 00:12:54.000\nIf I [COUGH] if I open\nup NTP on my firewall,\n\n251\n00:12:54.000 --> 00:12:56.675\nI can have clients synchronize\nthe time off of me right now.\n\n252\n00:12:56.675 --> 00:12:59.690\nLinux boxes act like\ntime servers by default.\n\n253\n00:12:59.690 --> 00:13:01.400\nBut it's closed on\nthe firewall by default.\n\n254\n00:13:01.400 --> 00:13:04.360\nPeople can't get to it and\nwe just used it as a client.\n\n255\n00:13:04.360 --> 00:13:04.920\nAll right.\n\n256\n00:13:04.920 --> 00:13:07.490\nAs a client, we can synchronize\nagainst an external time source,\n\n257\n00:13:07.490 --> 00:13:09.500\nwe just need to configure that.\n\n258\n00:13:09.500 --> 00:13:16.368\nIf you go into /etc/ntp.conf.\n\n259\n00:13:16.368 --> 00:13:18.260\nAll right, ntp.conf.\n\n260\n00:13:18.260 --> 00:13:20.050\nThat's the config file and\n\n261\n00:13:20.050 --> 00:13:24.310\nyou'll see here where you can\nspecify where you're time synching.\n\n262\n00:13:24.310 --> 00:13:24.910\nOkay.\n\n263\n00:13:24.910 --> 00:13:26.320\nLet's talk about some\nof the entries in here.\n\n264\n00:13:26.320 --> 00:13:27.080\nNotice these restrict.\n\n265\n00:13:28.160 --> 00:13:29.200\nRestrict says,\n\n266\n00:13:29.200 --> 00:13:33.120\nif we're gonna act like time server,\nwho is allowed to sync off of us?\n\n267\n00:13:33.120 --> 00:13:35.460\nAnd the default is just the loopback, us.\n\n268\n00:13:35.460 --> 00:13:36.165\nNobody else.\n\n269\n00:13:36.165 --> 00:13:40.055\nIf If I want everybody to be able to sync\nagainst me, then we'd come in here and\n\n270\n00:13:40.055 --> 00:13:44.115\nwe'd add more entries to this to\nallow people to connect up and\n\n271\n00:13:44.115 --> 00:13:45.355\nbe able to sync time.\n\n272\n00:13:45.355 --> 00:13:46.915\nAll right?\n\n273\n00:13:46.915 --> 00:13:50.235\nThen beneath it,\nhere's the time servers we're gonna use.\n\n274\n00:13:50.235 --> 00:13:53.285\nAnd you'll see I'm set already\nto use the CentOS pool.\n\n275\n00:13:54.575 --> 00:13:58.405\nThey're all defined in here, I'm set to\nuse them, if I wanna override that I can.\n\n276\n00:13:58.405 --> 00:14:01.560\nThey give you examples of several\ndifferent ways to override it.\n\n277\n00:14:01.560 --> 00:14:04.869\nBut the easiest way is to come in here and\ncomment all these lines out and\n\n278\n00:14:04.869 --> 00:14:08.110\nso if I, I just block all these guys out.\n\n279\n00:14:09.620 --> 00:14:11.770\nAnd then I can add in my own.\n\n280\n00:14:11.770 --> 00:14:16.940\nAnd so I can say, server pool.ntp.org.\n\n281\n00:14:16.940 --> 00:14:21.760\nWe can enable that iBurst to first\nthing connectivity, that's optional.\n\n282\n00:14:21.760 --> 00:14:23.280\nSo I can point in that server.\n\n283\n00:14:23.280 --> 00:14:24.960\nAnd we'll connect in, and we'll use it.\n\n284\n00:14:24.960 --> 00:14:26.168\nRight here,\nI'll just leave that iBurst off.\n\n285\n00:14:26.168 --> 00:14:29.300\nAll right [COUGH] so once that's set,\nnow we just reach out and\n\n286\n00:14:29.300 --> 00:14:30.290\nget our time from that server.\n\n287\n00:14:30.290 --> 00:14:32.620\nYou can specify whatever time\nserver it is that you want.\n\n288\n00:14:32.620 --> 00:14:34.630\nYou'll find that if you use ntp.org,\n\n289\n00:14:34.630 --> 00:14:38.120\nthey probably have servers that\nare geographically closer to you.\n\n290\n00:14:38.120 --> 00:14:40.510\nAnd you can find that,\nif you go to their website.\n\n291\n00:14:42.790 --> 00:14:46.010\nLike, let me just pull up ntp.org.\n\n292\n00:14:46.010 --> 00:14:50.710\nIf you go to ntp.org,\non their website you can go in you can\n\n293\n00:14:50.710 --> 00:14:53.110\nfind the time server\nthat's closest to you.\n\n294\n00:14:53.110 --> 00:14:55.152\nSo if we go to like\na public time server list,\n\n295\n00:14:55.152 --> 00:14:58.210\nyou wanna find a server that's close\nto you because what happens is when you\n\n296\n00:14:58.210 --> 00:15:02.750\nreach out to a server, it responds to\nyou but you have latency of that packet.\n\n297\n00:15:02.750 --> 00:15:04.700\nSo the time you're\ngetting is not accurate.\n\n298\n00:15:04.700 --> 00:15:08.320\nSo NTP is the measure the time that\ntakes for traffic to get back and forth.\n\n299\n00:15:08.320 --> 00:15:10.850\nAnd the correct that, so\nit actually applies a differential and\n\n300\n00:15:10.850 --> 00:15:11.850\nit corrects for it.\n\n301\n00:15:11.850 --> 00:15:16.190\nBut still finding a server that's\nclose to you is pretty beneficial, so\n\n302\n00:15:16.190 --> 00:15:19.040\nif we go into their public\nNTP time pool servers.\n\n303\n00:15:19.040 --> 00:15:22.790\nWe start to get their list here and I can\nsay all right, maybe I'm in Europe and\n\n304\n00:15:22.790 --> 00:15:24.180\nI'll pick Europe.\n\n305\n00:15:24.180 --> 00:15:27.370\nAnd in inside of Europe,\nwe can find ones based on our country.\n\n306\n00:15:27.370 --> 00:15:32.890\nMaybe on France, and so here's the France\npool right here, fr.pool.ntp.org.\n\n307\n00:15:32.890 --> 00:15:37.050\nAnd so, when I set my server,\nI can come in here and say that.\n\n308\n00:15:37.050 --> 00:15:42.790\nI want fr.pool.ntp.org, all right,\nthat's the one that I want.\n\n309\n00:15:42.790 --> 00:15:43.350\nAll right.\n\n310\n00:15:43.350 --> 00:15:44.870\nSo now that's set.\n\n311\n00:15:44.870 --> 00:15:47.520\nAnd now I'm gonna start using that.\n\n312\n00:15:47.520 --> 00:15:49.330\nNow how do I know it's actually using it?\n\n313\n00:15:49.330 --> 00:15:53.254\nWell, it doesn't really give me an\nconfirmation there, but we can find out.\n\n314\n00:15:53.254 --> 00:15:56.714\nIf you run, let's see,\nwhat is the command I want here?\n\n315\n00:15:56.714 --> 00:16:01.189\nIt is, I wanna query this, ntpq.\n\n316\n00:16:01.189 --> 00:16:05.001\nntpq is an ntp query protocol, right?\n\n317\n00:16:05.001 --> 00:16:08.440\nIt lets you query,\nyou can directly interact with ntp.\n\n318\n00:16:08.440 --> 00:16:11.440\nAnd what you can do is if you run -p,\n\n319\n00:16:11.440 --> 00:16:14.320\nit'll print the servers\nthat your set to use.\n\n320\n00:16:14.320 --> 00:16:19.074\nWell I was set to use the pool for CentOS,\n\n321\n00:16:19.074 --> 00:16:22.730\nand it's resolving them to the actual\nnames and soI'm seeing those.\n\n322\n00:16:22.730 --> 00:16:25.680\nNow I'm not seeing the French servers, so\n\n323\n00:16:25.680 --> 00:16:28.670\nit hasn't recognized that\nI might need to restart.\n\n324\n00:16:28.670 --> 00:16:32.050\nI might need to restart that service.\n\n325\n00:16:32.050 --> 00:16:38.600\nSo I will restart ntpd.service and let's\nsee if that one picks up our changes.\n\n326\n00:16:38.600 --> 00:16:39.106\nThere we go.\n\n327\n00:16:39.106 --> 00:16:43.921\nSo now when I run that ntpq -p,\nit shows me that server,\n\n328\n00:16:43.921 --> 00:16:47.410\nntp.univ-poitie and then blah blah.\n\n329\n00:16:47.410 --> 00:16:48.757\nSo that sounds a little French to me.\n\n330\n00:16:48.757 --> 00:16:50.850\nSo I must be using the French server now.\n\n331\n00:16:50.850 --> 00:16:53.580\nAll right but I did have to restart\nthe ntp servers for that to kick in.\n\n332\n00:16:55.220 --> 00:16:57.810\nNow I will synchronize my\nclock against that server.\n\n333\n00:16:57.810 --> 00:17:00.500\nIt's probably happening right now,\nI don't know.\n\n334\n00:17:00.500 --> 00:17:04.487\nBut if we wanna force it along we can, the\nntpq command can allow you to force it,\n\n335\n00:17:04.487 --> 00:17:06.047\nthat's one way to go about it.\n\n336\n00:17:06.047 --> 00:17:12.514\nOr we can do things like ntpdate.\n\n337\n00:17:14.754 --> 00:17:18.610\nNow ntpdate is an older command and\nit's expecting me to provide a server and\n\n338\n00:17:18.610 --> 00:17:20.870\nI kind of didn't provide it a server.\n\n339\n00:17:20.870 --> 00:17:24.470\nSo I can tell it, now this is gonna\nbypass that configuration file,\n\n340\n00:17:24.470 --> 00:17:29.300\nbut it'll at least work for me to reach\nout and synchronize against that.\n\n341\n00:17:29.300 --> 00:17:31.860\nNotice how it's telling me\nthe NTP socket is in use?\n\n342\n00:17:31.860 --> 00:17:34.230\nThat's cuz the NTP service is using it.\n\n343\n00:17:34.230 --> 00:17:38.920\nSo if I want to use ntpdate I'm gonna\nhave to stop my NTP service, so\n\n344\n00:17:38.920 --> 00:17:45.330\nI'll stop it, and then I can use\nntpdate to go and do that update.\n\n345\n00:17:45.330 --> 00:17:47.990\nSo it's reaching out to that server,\ntrying to set my date.\n\n346\n00:17:47.990 --> 00:17:51.180\nAnd then once that's done I can\nstart the NTP service again.\n\n347\n00:17:51.180 --> 00:17:51.990\nAnd so it will be up and running.\n\n348\n00:17:51.990 --> 00:17:53.130\nThere we go.\n\n349\n00:17:53.130 --> 00:17:56.530\nAnd now I'll just start that\nback again and we're set.\n\n350\n00:17:56.530 --> 00:18:00.295\nNow look at the output that I got on that,\nit got a date and\n\n351\n00:18:00.295 --> 00:18:04.960\nit's saying adjust time server\noffset 0.028978 seconds.\n\n352\n00:18:06.670 --> 00:18:10.780\nI'm doing an offset of .02 seconds,\nbut why am I doing that?\n\n353\n00:18:10.780 --> 00:18:12.500\nThat's correcting for the time it took for\n\n354\n00:18:12.500 --> 00:18:15.720\nmy connection to get to that\nother server and back again.\n\n355\n00:18:15.720 --> 00:18:19.185\nIf I picked a server that was closer,\nthat offset might be smaller, right?\n\n356\n00:18:19.185 --> 00:18:22.609\nSo, if I stop the service and\n\n357\n00:18:22.609 --> 00:18:27.048\npick like, let me just do us.pool.\n\n358\n00:18:27.048 --> 00:18:30.785\nThis should hit servers that are\ngeographically closer to me, and when it\n\n359\n00:18:30.785 --> 00:18:35.270\ndoes I should see a smaller offset,\nunless I just pick a really bad server.\n\n360\n00:18:35.270 --> 00:18:36.400\nThere we go.\n\n361\n00:18:36.400 --> 00:18:41.720\nSo see how the offset here was .02 and\nthis one is .001.\n\n362\n00:18:41.720 --> 00:18:44.800\nI actually ended up with a negative\noffset for some reason, that's odd.\n\n363\n00:18:44.800 --> 00:18:47.810\nMy clock must have been ahead,\nso it's having to move me back.\n\n364\n00:18:47.810 --> 00:18:49.520\nBut I can kinda see what that offset is.\n\n365\n00:18:49.520 --> 00:18:52.200\nSo, just be aware that it\nis kinda correcting for\n\n366\n00:18:52.200 --> 00:18:53.340\nthe time it takes to get to those servers.\n\n367\n00:18:54.610 --> 00:18:59.120\nBut, assuming you're using NTP and\nyou've pointed it to a common\n\n368\n00:18:59.120 --> 00:19:02.780\nserver that it's gonna be all your\nsystems are synchronizing off of,\n\n369\n00:19:02.780 --> 00:19:06.740\nall your systems should have very accurate\nclocks that are very much in line.\n\n370\n00:19:06.740 --> 00:19:09.558\nAnd that's really important for\nproper management of your system.\n\n371\n00:19:09.558 --> 00:19:10.340\nAll right.\n\n372\n00:19:10.340 --> 00:19:14.357\nThe only other thing\nworth mentioning I guess,\n\n373\n00:19:14.357 --> 00:19:18.073\nwe could have updated, I used ntpdate, and\n\n374\n00:19:18.073 --> 00:19:23.530\nthe problem there was I had to\nstop the NTP service to do it.\n\n375\n00:19:23.530 --> 00:19:29.490\nYou can also use the ntpq,\nthat query utility,\n\n376\n00:19:29.490 --> 00:19:35.940\nif you follow it with -gq,\nlike that, ntpq -gq.\n\n377\n00:19:35.940 --> 00:19:38.393\nOh nope, maybe not.\n\n378\n00:19:38.393 --> 00:19:40.669\nIs it qg?\n\n379\n00:19:40.669 --> 00:19:41.772\nDo I have it backwards?\n\n380\n00:19:41.772 --> 00:19:42.810\n>> I think it is gq.\n\n381\n00:19:42.810 --> 00:19:43.770\n>> Huh.\n\n382\n00:19:43.770 --> 00:19:46.700\nWhy is it not working for me?\n\n383\n00:19:46.700 --> 00:19:49.187\nOh, because I'm typing the wrong command.\nIt's ntpd -gq.\n\n384\n00:19:49.187 --> 00:19:51.080\nThere we go.\n\n385\n00:19:51.080 --> 00:19:54.060\nThat is gonna reach out and\nsynchronize your time also.\n\n386\n00:19:54.060 --> 00:19:58.760\nAnd the advantage of it over the other\nones is if I'm running my NTP service,\n\n387\n00:19:58.760 --> 00:20:02.390\nsee how I can update my time even\nthough the service is running, right?\n\n388\n00:20:02.390 --> 00:20:03.090\nThat's kind of nice.\n\n389\n00:20:03.090 --> 00:20:05.875\nNow I don't get any output because what\nit's actually doing is just telling\n\n390\n00:20:05.875 --> 00:20:08.325\nthe service to do the update instead\nof it doing the update itself.\n\n391\n00:20:08.325 --> 00:20:12.517\nSo just be aware of that\nlittle difference, ntpd -gq.\n\n392\n00:20:12.517 --> 00:20:13.945\nThat tells us to go out and get that time.\n\n393\n00:20:15.850 --> 00:20:21.430\nAll right, well,\nI think that's about it as far as time.\n\n394\n00:20:21.430 --> 00:20:23.810\nWe did wanna do a special episode\non it because it is important,\n\n395\n00:20:23.810 --> 00:20:27.410\nit is something you wanna have set,\nhaving that common server is important.\n\n396\n00:20:27.410 --> 00:20:30.610\nIf you're gonna be the server, we saw\nwhere we could turn that function on,\n\n397\n00:20:30.610 --> 00:20:33.350\nyou set your allow list to say\nwho's allowed to sync off of it.\n\n398\n00:20:33.350 --> 00:20:35.160\nMake sure you open up\nyour firewall portal or\n\n399\n00:20:35.160 --> 00:20:38.260\npeople won't be able to connect there,\nand you can get up and going.\n\n400\n00:20:38.260 --> 00:20:41.390\nIt's a neat system,\nthere's really no reason not to use it.\n\n401\n00:20:41.390 --> 00:20:44.110\nYou wanna have your clocks in sync.\n\n402\n00:20:44.110 --> 00:20:47.160\n>> Now Don, do you have to worry\nabout things like reflective or\n\n403\n00:20:47.160 --> 00:20:51.280\namplified denial service attacks\nwith these NTP service running?\n\n404\n00:20:51.280 --> 00:20:51.910\n>> It could, yeah.\n\n405\n00:20:51.910 --> 00:20:54.330\nIf you have an external time server and\n\n406\n00:20:54.330 --> 00:20:58.810\nsomebody attacks the external time server,\nit could cause an offset in your clocks.\n\n407\n00:20:58.810 --> 00:20:59.430\nNow for\n\n408\n00:20:59.430 --> 00:21:02.240\nmost people that's not gonna be a problem\ncuz all your systems are syncing the same.\n\n409\n00:21:02.240 --> 00:21:04.070\nSo they all end up with the offset.\n\n410\n00:21:04.070 --> 00:21:08.860\nBut it's possible an attacker can\nmanipulate that clock to then\n\n411\n00:21:08.860 --> 00:21:13.570\nuse it to do replay attacks\non IP sect tunnels and stuff.\n\n412\n00:21:13.570 --> 00:21:14.210\nIt is possible.\n\n413\n00:21:14.210 --> 00:21:16.390\nIt is a very complex attack,\nbut it is possible.\n\n414\n00:21:16.390 --> 00:21:20.820\nSo the solution there is to have\nyour own internal time server\n\n415\n00:21:20.820 --> 00:21:22.540\nas opposed to relying on an external one.\n\n416\n00:21:22.540 --> 00:21:24.660\nThe internal one can still be attacked,\nbut\n\n417\n00:21:24.660 --> 00:21:27.020\nit's far less likely than one that's out\nthere on the internet that's public.\n\n418\n00:21:27.020 --> 00:21:29.560\nYou have your own private one,\nyou manually set the time,\n\n419\n00:21:29.560 --> 00:21:31.270\nyou set the hardware\nclock on that one server.\n\n420\n00:21:31.270 --> 00:21:34.950\nIt then services time for your network,\nand everybody syncs off of it.\n\n421\n00:21:34.950 --> 00:21:37.100\nThat kind of alleviates that a little bit.\n\n422\n00:21:37.100 --> 00:21:39.230\nYou can still have an internal attack,\nand that's always a risk.\n\n423\n00:21:41.960 --> 00:21:45.495\nTime is but an illusion, right?\n\n424\n00:21:45.495 --> 00:21:47.851\n[CROSSTALK]\n>> Now Rick in our chatroom had a really\n\n425\n00:21:47.851 --> 00:21:51.750\ngood question, how many NTP servers\ndo you think is a good one to have?\n\n426\n00:21:51.750 --> 00:21:53.390\nA good number of NTP?\n\n427\n00:21:53.390 --> 00:21:54.020\n>> One.\n\n428\n00:21:54.020 --> 00:21:54.600\n>> One?\n\n429\n00:21:54.600 --> 00:21:55.690\n>> I know a lot of people think,\n\n430\n00:21:55.690 --> 00:21:57.680\nwell this is important I want\nredundancy and all that stuff.\n\n431\n00:21:57.680 --> 00:22:00.120\nBut at the end of the day if\nyour time-server fails and\n\n432\n00:22:00.120 --> 00:22:04.320\ngoes offline, it's gonna take awhile for\nyour clocks to get offset, right?\n\n433\n00:22:04.320 --> 00:22:08.280\nMost computer clocks only lose\na fraction of a second a month.\n\n434\n00:22:08.280 --> 00:22:12.610\nSo, you could run for years and\nnot have a time offset that's measurable.\n\n435\n00:22:12.610 --> 00:22:14.320\nMeasurable by humans, at least.\n\n436\n00:22:14.320 --> 00:22:17.500\nSo, I usually don't worry about\nredundancy with time servers.\n\n437\n00:22:17.500 --> 00:22:18.775\nIf my time server fails,\n\n438\n00:22:18.775 --> 00:22:22.292\nit's kind of trivial to just spin up a new\nmachine and use it as a time server.\n\n439\n00:22:22.292 --> 00:22:25.980\nOr oftentimes, I'll use a router or a\nfirewall in my system as the time server.\n\n440\n00:22:25.980 --> 00:22:28.955\nCuz if that fails network's down anyway,\nso you got bigger problems.\n\n441\n00:22:28.955 --> 00:22:29.730\n>> [LAUGH]\n>> But\n\n442\n00:22:29.730 --> 00:22:32.490\nI don't normally bother with\nredundant time servers.\n\n443\n00:22:33.550 --> 00:22:36.730\nI know a lot of people\nin Microsoft Worlds will\n\n444\n00:22:36.730 --> 00:22:39.110\nuse things like Microsoft domain\ncontrol versus their time servers.\n\n445\n00:22:39.110 --> 00:22:40.810\nYou're gonna have more than\none domain controller, so\n\n446\n00:22:40.810 --> 00:22:42.490\nnow you have more than one time server.\n\n447\n00:22:42.490 --> 00:22:44.470\nBut I don't normally worry about it.\n\n448\n00:22:44.470 --> 00:22:45.930\nIn the time server world,\n\n449\n00:22:45.930 --> 00:22:48.680\nthey actually have this whole hierarchy\nyou can use that are called stratums.\n\n450\n00:22:48.680 --> 00:22:52.250\nAnd you can have stratum one servers and\nstratum two servers and stratum three.\n\n451\n00:22:52.250 --> 00:22:54.010\nSo you can set up tiers, it's hierarchy.\n\n452\n00:22:54.010 --> 00:22:57.890\nSo you have a core time server, and then\nit syncs down to two sub-time servers, and\n\n453\n00:22:57.890 --> 00:22:59.330\nthen they sync out to clients.\n\n454\n00:22:59.330 --> 00:23:01.870\nYou can do crazy stuff\nlike that if you want.\n\n455\n00:23:01.870 --> 00:23:05.470\nEven if I had a network of 100,000 servers\n\n456\n00:23:05.470 --> 00:23:07.820\nI'd probably still do just one time\nserver, unless it got overwhelmed.\n\n457\n00:23:07.820 --> 00:23:09.020\nRight?\nIf it's just too much work for\n\n458\n00:23:09.020 --> 00:23:11.450\nthat one time server to handle,\nthen I might have more than one.\n\n459\n00:23:11.450 --> 00:23:14.250\nBut for redundancy purposes,\nI wouldn't bother.\n\n460\n00:23:14.250 --> 00:23:18.200\n>> And do we get maybe like the crazy\nkind of log in problems that you have?\n\n461\n00:23:18.200 --> 00:23:20.480\nLike in a Windows Active Directory Domain,\n\n462\n00:23:20.480 --> 00:23:26.300\nif your time is off on your local machine\nthen what is on the Active Directory,\n\n463\n00:23:26.300 --> 00:23:28.770\nthe AD, the domain controller,\nit won't let you log in.\n\n464\n00:23:28.770 --> 00:23:30.780\nDo we get that kind of weirdness as well?\n\n465\n00:23:30.780 --> 00:23:32.720\n>> Yeah.\nSo that problem you're describing,\n\n466\n00:23:32.720 --> 00:23:35.590\nyou described it as a Windows problem,\nit's not actually a Windows problem.\n\n467\n00:23:35.590 --> 00:23:37.620\nIt's a Kerberos problem.\n\n468\n00:23:37.620 --> 00:23:40.150\nAnd Kerberos authentication\ncame from Unix.\n\n469\n00:23:40.150 --> 00:23:42.240\nIt's right here in our own systems.\n\n470\n00:23:42.240 --> 00:23:45.470\nWith Kerberos you don't send your\npassword across the network,\n\n471\n00:23:45.470 --> 00:23:48.020\nyou send a hashed version\nof your password.\n\n472\n00:23:48.020 --> 00:23:52.010\nAnd part of the hash calculation\nis using your clock to set it.\n\n473\n00:23:52.010 --> 00:23:55.660\nWell if your clock is off\nby more than a few minutes,\n\n474\n00:23:55.660 --> 00:23:57.880\nit causes that hash not\nto calculate right and\n\n475\n00:23:57.880 --> 00:24:00.550\nit causes Kerberos to fail\nthe authentication, and you can't log in.\n\n476\n00:24:00.550 --> 00:24:04.180\nSo that would happen on a Windows Box,\na Mac, a Linux box.\n\n477\n00:24:04.180 --> 00:24:05.398\nAnybody that's using Kerberos,\n\n478\n00:24:05.398 --> 00:24:07.970\nit's time sensitive you've\ngot to be within two minutes.\n\n479\n00:24:07.970 --> 00:24:10.540\nRemember at the beginning of the show\nI mentioned, hey I just went from\n\n480\n00:24:10.540 --> 00:24:14.040\nthe Pacific Time zone to the Eastern,\nI'll change my clock ahead three hours.\n\n481\n00:24:14.040 --> 00:24:16.210\nI'm not changing my timezone,\nI'm changing my clock.\n\n482\n00:24:16.210 --> 00:24:18.760\nNow all of my packets are three\nhours in the future, or\n\n483\n00:24:18.760 --> 00:24:21.170\nthree hours in the past,\nstuff like Kerberos will fail.\n\n484\n00:24:21.170 --> 00:24:22.900\nYou won't be able to login to that domain,\nor\n\n485\n00:24:22.900 --> 00:24:26.500\nyou won't be able to use IPsec to connect\nto another session on another machine.\n\n486\n00:24:26.500 --> 00:24:27.570\nThat's the kind of problem you have,\n\n487\n00:24:27.570 --> 00:24:30.770\ncuz it sees a packet that's three\nhours in the future and it says,\n\n488\n00:24:30.770 --> 00:24:33.440\noh somebody modified this data,\nit's not valid, I'll throw it out.\n\n489\n00:24:33.440 --> 00:24:37.230\nOr they see it three hours in the past and\nthey say, oh this is a replay attack,\n\n490\n00:24:37.230 --> 00:24:38.380\nI'm gonna throw that away.\n\n491\n00:24:38.380 --> 00:24:41.390\nSo we gotta have that synchronized\ntime for that to work properly.\n\n492\n00:24:41.390 --> 00:24:41.900\n>> Awesome.\n\n493\n00:24:41.900 --> 00:24:42.680\nGood stuff, Don.\n\n494\n00:24:42.680 --> 00:24:45.560\nThis is actually a little more\ninteresting than we probably\n\n495\n00:24:45.560 --> 00:24:46.840\nthought it was going to be.\n\n496\n00:24:46.840 --> 00:24:48.150\nYou think, it's nothing to it.\n\n497\n00:24:48.150 --> 00:24:49.350\nIt's just a little clock.\n\n498\n00:24:49.350 --> 00:24:52.070\nWhat can possibly be the big\nhairy deal about this?\n\n499\n00:24:52.070 --> 00:24:56.310\nWell obviously we're seeing it does have\na lot to do with how these systems run,\n\n500\n00:24:56.310 --> 00:24:58.340\nhow they maintain,\nhow they work correctly.\n\n501\n00:24:58.340 --> 00:25:02.590\nAnd we gotta keep that time right if we\ndo want them to actually work correctly.\n\n502\n00:25:02.590 --> 00:25:03.220\nSo.\n>> Yeah.\n\n503\n00:25:03.220 --> 00:25:04.630\n>> It's been a good episode Don.\n\n504\n00:25:04.630 --> 00:25:07.400\n>> And you know we had a question\nin the chat room about\n\n505\n00:25:07.400 --> 00:25:10.100\nwhat happens if the time server goes\ncrazy and hands out some insane date?\n\n506\n00:25:10.100 --> 00:25:12.193\nYou know,\nit hands out like that we're in 1901.\n\n507\n00:25:12.193 --> 00:25:13.530\n>> [LAUGH]\n>> [LAUGH] For the year.\n\n508\n00:25:13.530 --> 00:25:15.890\nCuz the year is passed with this stuff.\n\n509\n00:25:15.890 --> 00:25:18.930\nWell, that now all your machines will\nsync that and you'll all be in 1901.\n\n510\n00:25:18.930 --> 00:25:20.760\nAnd that, that sucks, right?\n\n511\n00:25:20.760 --> 00:25:21.640\nThat's a problem.\n\n512\n00:25:21.640 --> 00:25:26.230\nBut [LAUGH] at the end of the day all\nyour machines have the same time, and\n\n513\n00:25:26.230 --> 00:25:30.650\nso, at least they still function and\nthey work and you can fix the time.\n\n514\n00:25:30.650 --> 00:25:32.590\nDavid and\nRick added some comments in there, and\n\n515\n00:25:32.590 --> 00:25:36.620\nthey're absolutely right that if you have\nfour time servers or ten time servers\n\n516\n00:25:36.620 --> 00:25:40.220\nit can actually sync across more than\none and detect when one is going crazy.\n\n517\n00:25:40.220 --> 00:25:43.280\nBut that's a lot of infrastructure for\nmost organizations.\n\n518\n00:25:43.280 --> 00:25:44.310\nWe don't normally worry about it.\n\n519\n00:25:44.310 --> 00:25:46.020\nIf the time goes crazy you\njust go to that system and\n\n520\n00:25:46.020 --> 00:25:48.240\nfix it, it's not normally\ngonna be server standing.\n\n521\n00:25:48.240 --> 00:25:51.400\nBut if time is super critical\nin your environment you might\n\n522\n00:25:51.400 --> 00:25:52.580\nneed more than one time server.\n\n523\n00:25:52.580 --> 00:25:56.134\nAnd that's usually where it's better to\njust rely on an external time server and\n\n524\n00:25:56.134 --> 00:25:58.930\nthen that way they deal with all\nthat extra infrastructure and\n\n525\n00:25:58.930 --> 00:26:00.230\nyou just hang on it.\n\n526\n00:26:00.230 --> 00:26:02.126\nAnd that's how this system was\nconfigured by default, right?\n\n527\n00:26:02.126 --> 00:26:04.330\nThe CentOS pools are what\nI was reaching out to, and\n\n528\n00:26:04.330 --> 00:26:07.080\nI was reaching out to four servers.\n\n529\n00:26:07.080 --> 00:26:09.465\n>> Well it looks like time\nis actually relative.\n\n530\n00:26:09.465 --> 00:26:10.480\n[LAUGH] That being said,\n\n531\n00:26:10.480 --> 00:26:13.277\nit looks like we've wrapped up\nanother episode here at ITProTV.\n\n532\n00:26:13.277 --> 00:26:16.423\nWe'll go ahead and sign off,\nI've been your host Daniel Lowrie.\n\n533\n00:26:16.423 --> 00:26:17.340\n>> And I'm Don Pezet.\n\n534\n00:26:17.340 --> 00:26:18.628\n>> And we'll see you next time.\n\n535\n00:26:18.628 --> 00:26:25.270\n[SOUND]\n\n",
          "vimeoId": "131576410"
        },
        {
          "description": null,
          "length": "1522",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-4-scheduling_jobs-062315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-4-scheduling_jobs-062315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-7-4-scheduling_jobs-062315-1-sm.jpg",
          "title": "Scheduling Jobs",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.897\n[MUSIC]\n\n2\n00:00:10.897 --> 00:00:14.815\nAll right greetings everyone and welcome\nto another great Great episode of ITProTV.\n\n3\n00:00:14.815 --> 00:00:18.135\nI'll be your host Daniel Lowrie and\nhere with me today is well,\n\n4\n00:00:18.135 --> 00:00:19.065\nmy good friend, Don Pezet.\n\n5\n00:00:19.065 --> 00:00:20.375\nHow's it going today Don?\n\n6\n00:00:20.375 --> 00:00:21.615\n>> I'm doing great Daniel.\n\n7\n00:00:21.615 --> 00:00:25.965\nIn this episode we're gonna be taking\na look at scheduling jobs inside of Linux.\n\n8\n00:00:25.965 --> 00:00:28.947\nIn other words, making stuff happen\nwhen you're not there to make it happen.\n\n9\n00:00:28.947 --> 00:00:30.874\n>> [LAUGH] Well,\nwe're gonna be forward looking.\n\n10\n00:00:30.874 --> 00:00:31.548\n>> Forward looking.\n\n11\n00:00:31.548 --> 00:00:35.574\n[LAUGH] So this is one of my, it's kind\nof one of my favorite things to do but\n\n12\n00:00:35.574 --> 00:00:39.336\nit's a lot of times there's stuff\nwe want to happen on our server but\n\n13\n00:00:39.336 --> 00:00:43.075\nwe want it to happen at a time\nthat's not really convenient for us.\n\n14\n00:00:43.075 --> 00:00:45.010\nRight?\nI wanna install an update but\n\n15\n00:00:45.010 --> 00:00:48.020\nI want it to happen at one AM or\nI wanna reboot the server but\n\n16\n00:00:48.020 --> 00:00:48.780\nI want it to happen at three AM.\n\n17\n00:00:48.780 --> 00:00:53.110\nThe only problem is I don't wanna be awake\nat one AM or three AM, I wanna be in bed.\n\n18\n00:00:54.130 --> 00:00:56.900\nSo fortunately we got a couple\nof different systems inside of\n\n19\n00:00:56.900 --> 00:00:58.350\nLinux that will let us do that.\n\n20\n00:00:59.440 --> 00:01:03.540\nWe can give it certain commands and\ntell it to do them later on in the day.\n\n21\n00:01:03.540 --> 00:01:05.000\nAt some other point.\n\n22\n00:01:05.000 --> 00:01:09.040\nThere are a few different ways to do it\nthough and I wanna show you each one.\n\n23\n00:01:09.040 --> 00:01:11.610\nAnd I think I'm gonna go a slightly\ndifferent order than my notes here but\n\n24\n00:01:11.610 --> 00:01:13.970\nthey each have a different purpose.\n\n25\n00:01:13.970 --> 00:01:18.050\nOne of the easiest way is if\nI want to reboot my computer\n\n26\n00:01:18.050 --> 00:01:18.920\nI wanna reboot it at 1 AM.\n\n27\n00:01:18.920 --> 00:01:20.670\nAll right?\n\n28\n00:01:20.670 --> 00:01:21.940\nIt's just a one time thing.\n\n29\n00:01:21.940 --> 00:01:24.810\nJust in the morning,\ntonight at 1 AM, I want it to reboot.\n\n30\n00:01:24.810 --> 00:01:26.220\nI don't want to do it again,\njust one time.\n\n31\n00:01:26.220 --> 00:01:30.600\nOne of the easiest ways to do it,\nis to use the at command.\n\n32\n00:01:30.600 --> 00:01:31.890\nAt.\nA-T.\n\n33\n00:01:31.890 --> 00:01:34.810\nThat means, I want you do do\nsomething at a certain time.\n\n34\n00:01:34.810 --> 00:01:35.900\nAll right?\n\n35\n00:01:35.900 --> 00:01:36.830\nLet me show you an example.\n\n36\n00:01:36.830 --> 00:01:37.380\nAll right.\n\n37\n00:01:37.380 --> 00:01:40.060\nSo I'm on my CentOS 7 box here, and\nI'm gonna use that at command, and\n\n38\n00:01:40.060 --> 00:01:41.800\nI'll schedule that reboot.\n\n39\n00:01:41.800 --> 00:01:44.650\nIt's nice because it really just\nuses a human readable format.\n\n40\n00:01:44.650 --> 00:01:47.110\nWe say at and\nthen when we want that time to be.\n\n41\n00:01:47.110 --> 00:01:50.940\nAnd you can provide the time in darn near\nany format, so I can say, for example,\n\n42\n00:01:50.940 --> 00:01:55.120\nat three AM, Friday,\nI want to do something.\n\n43\n00:01:55.120 --> 00:01:59.270\nOkay, and when I do that and I press\nenter, it figures out what Friday is, and\n\n44\n00:01:59.270 --> 00:02:02.280\nit figures out what three AM is,\nand it kind of gets that set.\n\n45\n00:02:02.280 --> 00:02:03.520\nAnd now I tell it what I want to do.\n\n46\n00:02:03.520 --> 00:02:05.740\nAnd I can tell it a whole\nlist of commands to perform.\n\n47\n00:02:05.740 --> 00:02:09.330\nI'm just going to say,\nlike /user/sbin/reboot.\n\n48\n00:02:09.330 --> 00:02:11.200\nI want it to reboot.\n\n49\n00:02:11.200 --> 00:02:13.420\nBut you provide all the different\ncommands that you wanted and\n\n50\n00:02:13.420 --> 00:02:18.890\nwhen you're done, you just hit Control D\nand now it's created an at job.\n\n51\n00:02:18.890 --> 00:02:21.020\nAn at job is a one time thing.\n\n52\n00:02:21.020 --> 00:02:23.170\nIt's gonna run at that time,\nand then that'll be it.\n\n53\n00:02:23.170 --> 00:02:23.760\nIt won't run again.\n\n54\n00:02:23.760 --> 00:02:28.960\nAnd if you run atq, it'll show you\nthe jobs that you have scheduled.\n\n55\n00:02:28.960 --> 00:02:31.990\nSo I can see I've got this\none job scheduled to run,\n\n56\n00:02:31.990 --> 00:02:35.600\nand it's gonna run as root,\nand there it is.\n\n57\n00:02:35.600 --> 00:02:37.980\nSo, that's gonna happen, works out great.\n\n58\n00:02:37.980 --> 00:02:40.250\nIf I wanna get rid of that job,\nI changed my mind,\n\n59\n00:02:40.250 --> 00:02:45.350\nI can do atrm, and the number of\nthe job and then that'll get rid of it.\n\n60\n00:02:45.350 --> 00:02:46.840\nAnd there it goes, right.\n\n61\n00:02:46.840 --> 00:02:49.050\nSo if it's just a one time thing,\n\n62\n00:02:49.050 --> 00:02:50.870\nthat command is really\nthe easiest way to do it.\n\n63\n00:02:50.870 --> 00:02:52.390\nAnd you can call a script if you want.\n\n64\n00:02:52.390 --> 00:02:55.000\nThat script can do all sorts of stuff,\nit's up to you.\n\n65\n00:02:55.000 --> 00:02:57.780\nWhen the job runs,\nit will run under your account.\n\n66\n00:02:57.780 --> 00:03:00.830\nSo I'm superuser right now,\nso that's why it said root.\n\n67\n00:03:00.830 --> 00:03:03.970\nBut if you are logged in as your regular\nuser, it will run with your privileges and\n\n68\n00:03:03.970 --> 00:03:05.270\nit will perform whatever is in there.\n\n69\n00:03:05.270 --> 00:03:08.430\nSo very easy to do a quick one time job.\n\n70\n00:03:10.920 --> 00:03:15.730\nAnother method though that's gonna be a\nlot more common is when we have recurring\n\n71\n00:03:15.730 --> 00:03:20.060\njobs, things that need to happen over,\nover, and over again on certain intervals.\n\n72\n00:03:20.060 --> 00:03:23.370\nAnd for that, in the Linux world and\nUnix world in general.\n\n73\n00:03:23.370 --> 00:03:25.760\nWe have a service called Chron.\n\n74\n00:03:25.760 --> 00:03:32.240\nAnd the Chron system is a chronological\nsystem for running jobs a certain time.\n\n75\n00:03:32.240 --> 00:03:34.560\nRight?\nSo it's basically like a job scheduler.\n\n76\n00:03:34.560 --> 00:03:39.815\nAnd we tell it what we want it to run and\nan interval that it's going to run at.\n\n77\n00:03:39.815 --> 00:03:42.715\nRight?\nNow the Chron system is powered by\n\n78\n00:03:42.715 --> 00:03:45.785\na configuration file that's\na little bit mysterious, so\n\n79\n00:03:45.785 --> 00:03:47.905\nlet's talk about that configuration file.\n\n80\n00:03:47.905 --> 00:03:53.480\nIf you went to /etc, and\nyou take a look for Chron files.\n\n81\n00:03:53.480 --> 00:03:55.900\nWhat you'll find is this Chron tab.\n\n82\n00:03:56.930 --> 00:04:00.760\nThe Chron tab is a table of the Chron\njobs that you've scheduled.\n\n83\n00:04:00.760 --> 00:04:04.030\nNow that Chron tab,\nthat's for the whole system.\n\n84\n00:04:04.030 --> 00:04:05.920\nThis is a system Chron table.\n\n85\n00:04:07.120 --> 00:04:10.580\nEvery individual user has\ntheir own Chron table, too.\n\n86\n00:04:10.580 --> 00:04:14.500\nSo, I could have jobs that are scheduled\njust for me but not for Daniel.\n\n87\n00:04:14.500 --> 00:04:16.710\nBut there's other ones that\nI want the system to do.\n\n88\n00:04:16.710 --> 00:04:19.850\nSo, you actually have two different\nChron tabs, one that's here and\n\n89\n00:04:19.850 --> 00:04:24.080\none that I'll show you in the slash\nvar folder a little bit later.\n\n90\n00:04:24.080 --> 00:04:27.890\nYou've also got Chron.deny and\nChron.allow; I'm missing my allow file.\n\n91\n00:04:27.890 --> 00:04:31.870\nAnd these are were you define\nwho's allowed to run Chron jobs.\n\n92\n00:04:31.870 --> 00:04:36.120\nIf there is no Chron denying Chron allow,\nif they're both missing?\n\n93\n00:04:36.120 --> 00:04:38.095\nOnly root can run Chron jobs.\n\n94\n00:04:38.095 --> 00:04:41.939\nSo you have to have at least one of them\nif you want other users to be able to do\n\n95\n00:04:41.939 --> 00:04:43.623\nit, even if its a Chron.deny.\n\n96\n00:04:43.623 --> 00:04:50.840\nThen, notice I've got a Chron.d folder and\ninside of it I've got this zero hourly.\n\n97\n00:04:50.840 --> 00:04:54.280\nYou can create files and\nset them to daily,\n\n98\n00:04:54.280 --> 00:04:58.710\nmonthly, weekly and whatever jobs\nare in there are going to be run.\n\n99\n00:04:58.710 --> 00:05:00.900\nOnce a day, once a week, once a month.\n\n100\n00:05:00.900 --> 00:05:02.280\nThe Chron job will do that.\n\n101\n00:05:02.280 --> 00:05:06.780\nSo if I take a look at that hourly one,\nright if I get into /etc/chron.d and\n\n102\n00:05:06.780 --> 00:05:11.570\nI take a look at hourly.\n\n103\n00:05:11.570 --> 00:05:15.224\nWell, once an hour its running\nall of the executables,\n\n104\n00:05:15.224 --> 00:05:17.652\nthat's what this run-parts mean.\n\n105\n00:05:17.652 --> 00:05:22.583\nIt running all the executables that\nare found in /ect/chron.hourly.\n\n106\n00:05:22.583 --> 00:05:24.740\nWell, let's figure out what's in there.\n\n107\n00:05:24.740 --> 00:05:31.650\nSo if I get into chron.hourly,\nI can see I've got anacron and yum hourly.\n\n108\n00:05:31.650 --> 00:05:33.130\nIt's running some kind of a, you know,\n\n109\n00:05:33.130 --> 00:05:35.620\nyum is the package manager\nto do some kind of updates.\n\n110\n00:05:35.620 --> 00:05:37.660\nSo it's running those\ntwo things once an hour.\n\n111\n00:05:37.660 --> 00:05:38.870\nAll right?\n\n112\n00:05:38.870 --> 00:05:42.730\nSo I can schedule stuff\nlike that fairly easily.\n\n113\n00:05:42.730 --> 00:05:43.340\nYou know going and\n\n114\n00:05:43.340 --> 00:05:47.630\nmanipulating those files and it's already\ncreated a lot of that stuff for you.\n\n115\n00:05:47.630 --> 00:05:48.960\nYou know depending on your distro.\n\n116\n00:05:48.960 --> 00:05:51.130\nSee how I've already got a chron weekly.\n\n117\n00:05:51.130 --> 00:05:52.310\nA chron monthly folder.\n\n118\n00:05:52.310 --> 00:05:53.340\nA chron hourly.\n\n119\n00:05:53.340 --> 00:05:57.360\nIf I just sim link my commands in there or\nput a script in there.\n\n120\n00:05:57.360 --> 00:06:00.560\nThey'll run once an hour,\nonce a day, once a week.\n\n121\n00:06:00.560 --> 00:06:02.710\nBut when will they run?\n\n122\n00:06:02.710 --> 00:06:04.150\nIt says once a day.\n\n123\n00:06:04.150 --> 00:06:05.220\nWell when during the day?\n\n124\n00:06:05.220 --> 00:06:06.410\nWill it run at one pm or five pm?\n\n125\n00:06:06.410 --> 00:06:08.470\nYou don't know.\n\n126\n00:06:08.470 --> 00:06:09.990\nIt's gonna run when it gets to it.\n\n127\n00:06:09.990 --> 00:06:13.360\nIt will run in that day, it's guaranteed,\nbut you don't necessarily know when.\n\n128\n00:06:13.360 --> 00:06:13.980\nAll right?\n\n129\n00:06:13.980 --> 00:06:15.670\nSo that can be a problem.\n\n130\n00:06:15.670 --> 00:06:19.610\nSo instead, usually if we're gonna\nschedule a job we're gonna schedule it to\n\n131\n00:06:19.610 --> 00:06:22.180\nrun at a particular time and\n\n132\n00:06:22.180 --> 00:06:25.412\nthat's where the chron tab comes\nin that table right there.\n\n133\n00:06:25.412 --> 00:06:30.608\nAll right so lets edit that thing\nI'm going to edit /etc/chrontab.\n\n134\n00:06:30.608 --> 00:06:36.420\nAll right now in here we can schedule\nthings to occur at a particular time and\n\n135\n00:06:36.420 --> 00:06:38.410\nthe syntax is really weird so\n\n136\n00:06:38.410 --> 00:06:42.160\nthe documentation lays it\nout really nice and neat.\n\n137\n00:06:42.160 --> 00:06:45.010\nYou're gonna start off with five numbers.\n\n138\n00:06:45.010 --> 00:06:49.380\nThe five numbers are gonna identify the\ndate and time that you want this to run.\n\n139\n00:06:50.380 --> 00:06:53.260\nThen it's gonna be followed by\nthe user who's going to run it.\n\n140\n00:06:53.260 --> 00:06:54.170\nThe default is you, but\n\n141\n00:06:54.170 --> 00:06:58.360\nyou can specify any user you want,\nassuming you've got permissions to.\n\n142\n00:06:58.360 --> 00:07:01.320\nThen the command that you want to execute.\n\n143\n00:07:01.320 --> 00:07:05.480\nSo let's say that I wanted my system\nto reboot every day at three AM.\n\n144\n00:07:05.480 --> 00:07:08.020\nNot just once like with the Acumen,\nI want it to reboot every day at three AM.\n\n145\n00:07:08.020 --> 00:07:11.160\nI could add another line here, and\n\n146\n00:07:11.160 --> 00:07:15.260\nI could specify these five numbers\nthat will tell it when I want it.\n\n147\n00:07:15.260 --> 00:07:16.950\nThe first one was the minute.\n\n148\n00:07:16.950 --> 00:07:18.510\nI wanna reboot at three AM.\n\n149\n00:07:18.510 --> 00:07:21.350\nAnd so this is the minutes past the hour.\n\n150\n00:07:21.350 --> 00:07:23.110\nWell, I want it to run\nat three AM exactly,\n\n151\n00:07:23.110 --> 00:07:25.070\nso that's zero minutes past the hour.\n\n152\n00:07:26.200 --> 00:07:28.190\nAnd then the hour zero to 23.\n\n153\n00:07:28.190 --> 00:07:30.514\nRight, how many hours past midnight?\n\n154\n00:07:30.514 --> 00:07:34.495\nWell I want it to run at three AM so\nI'm gonna put three.\n\n155\n00:07:34.495 --> 00:07:37.160\nThen the day of the month.\n\n156\n00:07:37.160 --> 00:07:39.730\nWell, I want this to happen everyday.\n\n157\n00:07:39.730 --> 00:07:42.680\nNot just on the 21st or\nthe 31st or whatever.\n\n158\n00:07:42.680 --> 00:07:45.270\nI almost said 32nd and\nthat would of been dumb.\n\n159\n00:07:45.270 --> 00:07:48.480\nI don't want it occur on a single day,\nI want it to occur everyday so\n\n160\n00:07:48.480 --> 00:07:49.770\nI put an asterisk.\n\n161\n00:07:49.770 --> 00:07:52.270\nA star means everyday.\n\n162\n00:07:52.270 --> 00:07:54.493\nBe careful because if\nyou put every second,\n\n163\n00:07:54.493 --> 00:07:57.737\nit's going to keep running that\ncommand every single second and\n\n164\n00:07:57.737 --> 00:08:00.634\nyour system will bog down and\nyou'll lock yourself out.\n\n165\n00:08:00.634 --> 00:08:02.412\nBe careful with the numbers.\n\n166\n00:08:02.412 --> 00:08:04.627\nThen which months do I want this to run?\n\n167\n00:08:04.627 --> 00:08:07.950\nWell I want this to run every month so\nI'll put a star there.\n\n168\n00:08:07.950 --> 00:08:10.240\nAnd then what day of the week?\n\n169\n00:08:10.240 --> 00:08:11.430\nOkay, now day of the week,\n\n170\n00:08:11.430 --> 00:08:15.550\nsee how it says zero dash six,\nit's really zero through seven.\n\n171\n00:08:15.550 --> 00:08:18.650\nZero and seven are both Sunday and\nthen one through six of the other days of\n\n172\n00:08:18.650 --> 00:08:19.930\nthe week so\nit'll accept zero through seven.\n\n173\n00:08:19.930 --> 00:08:24.528\nYou can also write the names of the days\nif you want and you can even do ranges.\n\n174\n00:08:24.528 --> 00:08:29.809\nSo I could do something\nlike two dash five.\n\n175\n00:08:29.809 --> 00:08:32.027\nTwo dash five would be\nMonday through Friday.\n\n176\n00:08:32.027 --> 00:08:35.069\nMaybe I have a backup job I want\nto run Monday through Friday.\n\n177\n00:08:35.069 --> 00:08:38.100\nI don't want it to run Saturday and\nSunday so I just do two dash five.\n\n178\n00:08:38.100 --> 00:08:39.570\nYou can do ranges with these.\n\n179\n00:08:39.570 --> 00:08:42.090\nBut for me I want this to\nhappen everyday of the week.\n\n180\n00:08:42.090 --> 00:08:46.290\nSo every day at three am I'm gonna reboot.\n\n181\n00:08:46.290 --> 00:08:48.720\nAnd I'll specify the user,\nmaybe it's me, maybe it's root.\n\n182\n00:08:49.970 --> 00:08:52.515\nAnd then I'll specify\nthe command to execute.\n\n183\n00:08:52.515 --> 00:08:55.591\nI'm gonna say /usr/sbin/reboot.\n\n184\n00:08:55.591 --> 00:09:00.735\nYou could even provide other arguments or\nwhatever if you wanted to to that command.\n\n185\n00:09:00.735 --> 00:09:03.370\nBut now at three am each\nday it's gonna reboot.\n\n186\n00:09:03.370 --> 00:09:05.770\nSo that's how the Chron table works.\n\n187\n00:09:05.770 --> 00:09:09.070\nAnd you can put jobs in here and\nit's not gonna run just once,\n\n188\n00:09:09.070 --> 00:09:15.270\nit's gonna run on the schedule that you\ndefine, which is pretty cool stuff.\n\n189\n00:09:15.270 --> 00:09:19.310\nThe file I'm editing here,\nthat's the system Chron table.\n\n190\n00:09:19.310 --> 00:09:22.930\nThese jobs are gonna run on this\nsystem regardless of who is logged in,\n\n191\n00:09:22.930 --> 00:09:23.890\nthis is gonna happen.\n\n192\n00:09:23.890 --> 00:09:28.077\nSo a lot of these jobs are gonna run as\nroot and they're gonna do their work.\n\n193\n00:09:28.077 --> 00:09:30.098\nBut users can set up their own Chron jobs.\n\n194\n00:09:30.098 --> 00:09:33.637\nAs a user,\nlet me just switch out to a regular user.\n\n195\n00:09:33.637 --> 00:09:35.530\nSo here I'm dpezet, right?\n\n196\n00:09:35.530 --> 00:09:39.211\nYou can run chrontab-e.\n\n197\n00:09:39.211 --> 00:09:42.613\nYou're going to edit your\npersonal Chron table.\n\n198\n00:09:42.613 --> 00:09:48.270\nAnd when we go to edit that, your\npersonal Chron table is probably empty.\n\n199\n00:09:48.270 --> 00:09:48.950\nAnd mine is.\n\n200\n00:09:48.950 --> 00:09:49.470\nMine's empty.\n\n201\n00:09:49.470 --> 00:09:50.540\nI don't have anything.\n\n202\n00:09:50.540 --> 00:09:53.010\nBut I can come here and\nI can add something, right?\n\n203\n00:09:53.010 --> 00:09:56.826\nSo I could put in when I\nwant something to run so.\n\n204\n00:09:56.826 --> 00:10:00.529\nMaybe I want this to run\nevery day at noon, right?\n\n205\n00:10:00.529 --> 00:10:04.454\nSo I would say zero, 12,\nstar, star, star, and\n\n206\n00:10:04.454 --> 00:10:09.203\nthen dpezet is the user, it's me,\nand then what I want to run.\n\n207\n00:10:09.203 --> 00:10:14.320\nSo maybe I wanna run backup.sh, all right?\n\n208\n00:10:14.320 --> 00:10:17.350\nAnd I wanna provide some kind\nof command line argument to it,\n\n209\n00:10:17.350 --> 00:10:18.610\nI'll tell it to do a full backup.\n\n210\n00:10:18.610 --> 00:10:21.240\nRight, so here I'm putting this in and\n\n211\n00:10:21.240 --> 00:10:24.590\nthis is my own personal Chron table,\nall right.\n\n212\n00:10:24.590 --> 00:10:27.290\nAssuming I'm allowed to run Chron.\n\n213\n00:10:27.290 --> 00:10:29.730\nI may not be.\nI may not be allowed to do it, right?\n\n214\n00:10:29.730 --> 00:10:31.353\nSo I've gotta verify that.\n\n215\n00:10:31.353 --> 00:10:39.131\nSo the way we verify that is\nif we take a look at the.\n\n216\n00:10:42.091 --> 00:10:42.905\nWhoops.\n\n217\n00:10:42.905 --> 00:10:44.910\nIf I can get here, there we go.\n\n218\n00:10:44.910 --> 00:10:47.130\nIf we take a look at our\nChron configuration,\n\n219\n00:10:47.130 --> 00:10:49.270\nremember we had that Chron.deny file?\n\n220\n00:10:49.270 --> 00:10:52.460\nLet's take a look at that,\nchron.deny file.\n\n221\n00:10:52.460 --> 00:10:57.630\nMine's empty, I'm not denying anybody,\nso everybody is allowed.\n\n222\n00:10:57.630 --> 00:11:00.620\nSo I should be allowed to use Chron,\nso I should be good there.\n\n223\n00:11:00.620 --> 00:11:04.030\nIf I was in this list, then I wouldn't be\nable to just put your name in the file and\n\n224\n00:11:04.030 --> 00:11:05.370\nnow you can't use it, right?\n\n225\n00:11:05.370 --> 00:11:10.570\nI can also do chron.allow, if we want.\n\n226\n00:11:10.570 --> 00:11:12.460\nAnd you just put the usernames in there,\nso\n\n227\n00:11:12.460 --> 00:11:16.570\nI could specifically just list myself,\nand now I'm allowed to run Chron, right,\n\n228\n00:11:16.570 --> 00:11:19.020\nreally simple way to do\naccess control on that one.\n\n229\n00:11:20.400 --> 00:11:23.150\nAll right, so I've got a Chron table.\n\n230\n00:11:23.150 --> 00:11:23.890\nIs it working?\n\n231\n00:11:23.890 --> 00:11:24.910\nIs it right?\n\n232\n00:11:24.910 --> 00:11:25.650\nI don't know.\n\n233\n00:11:25.650 --> 00:11:27.060\nWell, we can find out.\n\n234\n00:11:27.060 --> 00:11:30.840\nChrontab -e, that's how we\nedit our personal Chron table.\n\n235\n00:11:30.840 --> 00:11:35.280\nIf we wanna view it,\nyou actually have chrontab-l.\n\n236\n00:11:35.280 --> 00:11:37.950\nAnd that'll show you your Chron table.\n\n237\n00:11:37.950 --> 00:11:41.110\nYou can use it to see other people's Chron\ntable too, though, if you have access.\n\n238\n00:11:41.110 --> 00:11:44.110\nYou could say -u and specify another user.\n\n239\n00:11:44.110 --> 00:11:46.030\nSo maybe I wanna use root.\n\n240\n00:11:46.030 --> 00:11:49.570\nWell, I don't have the privilege,\nso let me, whoops.\n\n241\n00:11:49.570 --> 00:11:51.760\nLet me switch to root real quick.\n\n242\n00:11:53.000 --> 00:11:55.825\nAnd we'll say chrontab-l.\n\n243\n00:11:55.825 --> 00:11:58.832\nWell, root doesn't have a Chron table,\nhe hasn't made one, right?\n\n244\n00:11:58.832 --> 00:12:00.085\nHe hasn't run chrontab-e.\n\n245\n00:12:00.085 --> 00:12:06.412\nBut if I do -l -u dpezet,\nNow I can see dpezet's Chron table, right?\n\n246\n00:12:06.412 --> 00:12:11.050\nNow the system Chron table\nwas stored in /etc/chrontab.\n\n247\n00:12:11.050 --> 00:12:13.110\nWhat about the users?\n\n248\n00:12:13.110 --> 00:12:15.530\nWell the users are actually\nstored in their spool folder, and\n\n249\n00:12:15.530 --> 00:12:18.063\nI know that's kind of weird, but\nlet me show you where it ends up.\n\n250\n00:12:18.063 --> 00:12:23.636\nIt's /var/spool/cron, all right.\n\n251\n00:12:23.636 --> 00:12:30.410\nInside of /var/spool/crhon,\nyou'll see folders for each user.\n\n252\n00:12:30.410 --> 00:12:32.900\nAnd if I go into my deepest set folder.\n\n253\n00:12:32.900 --> 00:12:34.460\nWell, actually it's not a folder.\n\n254\n00:12:34.460 --> 00:12:37.018\nIt's just a file.\nAnd if I take a look at that file,\n\n255\n00:12:37.018 --> 00:12:39.580\nthere's that Chron table, all right?\n\n256\n00:12:39.580 --> 00:12:41.610\nThere's the Chron table for D Pizet.\n\n257\n00:12:41.610 --> 00:12:42.920\nIt's right there.\nIt's got its time,\n\n258\n00:12:42.920 --> 00:12:45.870\nit's got it's command that it's gonna run.\n\n259\n00:12:45.870 --> 00:12:50.490\nAnd each user that creates their own\nChron tab will have it right here.\n\n260\n00:12:50.490 --> 00:12:55.180\nSo for the root user,\nif I were to do a Chron tab-E and\n\n261\n00:12:55.180 --> 00:12:56.710\nput something in here, which I'm not.\n\n262\n00:12:56.710 --> 00:12:58.980\nI'm just gonna save this file and get out.\n\n263\n00:12:58.980 --> 00:13:02.570\nWell it created a Chron table for me,\nand now I've got a file for root.\n\n264\n00:13:02.570 --> 00:13:06.050\nAnd it's empty, but\nit's at least created, and\n\n265\n00:13:06.050 --> 00:13:09.777\nnow I can add stuff to it or\nwhatever with Chrontab -e.\n\n266\n00:13:09.777 --> 00:13:15.340\nAll right,\nexamples of how Chrontab might get used.\n\n267\n00:13:15.340 --> 00:13:17.360\nThings like log rotation, right.\n\n268\n00:13:17.360 --> 00:13:22.480\nLog rotation every day I want my\nsyslog to create a new file and\n\n269\n00:13:22.480 --> 00:13:24.680\nmove the old logs off to a different file,\nright?\n\n270\n00:13:24.680 --> 00:13:25.945\nI wanna throw in every day.\n\n271\n00:13:25.945 --> 00:13:29.895\nSo that's a good example of something that\nwould run on a daily inside of Chron.\n\n272\n00:13:29.895 --> 00:13:33.010\nAnd so if I go into /etc and I look for\n\n273\n00:13:33.010 --> 00:13:38.525\nchron/daily, there's probably\nsomething in there for that.\n\n274\n00:13:38.525 --> 00:13:43.135\nAnd if I look in cron.daily,\nI've got yum, there's logrotate, right?\n\n275\n00:13:43.135 --> 00:13:44.920\nLogrotate sitting right there.\n\n276\n00:13:44.920 --> 00:13:49.350\nIt's gonna run once a day, and\nif I do a ls-la I can see it.\n\n277\n00:13:49.350 --> 00:13:50.990\nIt's in dark green.\n\n278\n00:13:50.990 --> 00:13:53.700\nThe log rotate binary is\nnot actually right here,\n\n279\n00:13:53.700 --> 00:13:57.280\nwhat they've done is a hard link, and hard\nlinks just look like regular files, so\n\n280\n00:13:57.280 --> 00:13:59.760\nI don't see that it's linked, but it is.\n\n281\n00:13:59.760 --> 00:14:02.500\nAnd so that one is hard linked over\nto the actual log rotate command.\n\n282\n00:14:02.500 --> 00:14:05.430\nBut now once a day it's\ngoing to run log rotation.\n\n283\n00:14:05.430 --> 00:14:07.580\nIs it going to do it exactly at midnight?\n\n284\n00:14:07.580 --> 00:14:08.980\nMaybe, maybe not.\n\n285\n00:14:08.980 --> 00:14:10.570\nIt may do it at one am,\nit might do it at noon.\n\n286\n00:14:10.570 --> 00:14:14.496\nBut at some point each day it will\nrotate out and create a new log file.\n\n287\n00:14:14.496 --> 00:14:16.850\nSo that's one of the things about this,\n\n288\n00:14:16.850 --> 00:14:20.385\nis that we don't necessarily\nknow when it's going to run.\n\n289\n00:14:20.385 --> 00:14:23.210\nSo one problem that we have with Chron\n\n290\n00:14:23.210 --> 00:14:27.230\nis let's say that I've got\na Chron job scheduled and.\n\n291\n00:14:27.230 --> 00:14:30.610\nI'm not logged in, or the system's\nturned off, that's the better example.\n\n292\n00:14:30.610 --> 00:14:32.650\nCause if you're not logged in\nyour Chron jobs will still run.\n\n293\n00:14:32.650 --> 00:14:36.890\nBut if your system's turned off, let's say\nit's my laptop, and I power my laptop off.\n\n294\n00:14:36.890 --> 00:14:40.668\nAnd I have a job scheduled to run at three\npm, but my laptop's off at three pm.\n\n295\n00:14:40.668 --> 00:14:42.017\nWhat happens?\n\n296\n00:14:42.017 --> 00:14:43.370\nThe job doesn't run.\n\n297\n00:14:43.370 --> 00:14:45.830\nIt just skips over it,\nthat's it, it doesn't run.\n\n298\n00:14:45.830 --> 00:14:48.050\nSo Chron is really intended for\n\n299\n00:14:48.050 --> 00:14:50.300\nsystems that are always going\nto be on like a server.\n\n300\n00:14:51.570 --> 00:14:54.470\nFor an end user, Chron's inflexibility,\n\n301\n00:14:54.470 --> 00:15:00.360\nthat reliance on doing something at\na certain time, it can be a problem.\n\n302\n00:15:00.360 --> 00:15:03.000\nSo you can do a daily or\nan hourly or a monthly and\n\n303\n00:15:03.000 --> 00:15:06.250\nthose will run even if your system was\noff, just the next time you turn it on.\n\n304\n00:15:06.250 --> 00:15:09.470\nBut if you're off for\nover 24 hours and you had\n\n305\n00:15:09.470 --> 00:15:13.590\na daily scheduled on a particular day and\nit was off, then it's not gonna run.\n\n306\n00:15:13.590 --> 00:15:17.140\nSo we do have an alternate\ncommand called anacron.\n\n307\n00:15:17.140 --> 00:15:22.830\nAnd what anacron does is it lets us\nrun things even if our system was off.\n\n308\n00:15:22.830 --> 00:15:26.560\nJust the next time we turn on it\ncatches back up and runs them again.\n\n309\n00:15:26.560 --> 00:15:30.020\nSo your system may or\nmay not have anachron enabled.\n\n310\n00:15:30.020 --> 00:15:30.960\nIf you have anachron,\n\n311\n00:15:30.960 --> 00:15:34.360\nit's easy to spot because it'll\nbe in your Chron configuration.\n\n312\n00:15:34.360 --> 00:15:38.260\nAnd I think we saw that,\ndidn't we when I was in one of my files.\n\n313\n00:15:38.260 --> 00:15:44.000\nWas it, I think it was Chrons hourly file,\nwasn't it?\n\n314\n00:15:44.000 --> 00:15:48.740\nOops.\nIf I get into chron.hourly, yeah, there.\n\n315\n00:15:48.740 --> 00:15:50.430\nYep, zero anachron.\n\n316\n00:15:50.430 --> 00:15:52.380\nSo, see how anachron\nis stuck in my hourly.\n\n317\n00:15:52.380 --> 00:15:57.620\nSo, once an hour,\nregular Chron is firing up anachron.\n\n318\n00:15:57.620 --> 00:16:00.854\nAnd anachron is looking at\nyour Chron table, and saying,\n\n319\n00:16:00.854 --> 00:16:04.491\nwere any of these jobs supposed to\nrun while the computer was off?\n\n320\n00:16:04.491 --> 00:16:06.811\nAnd if they were,\nit goes ahead and runs them.\n\n321\n00:16:06.811 --> 00:16:09.344\nAnd that's a great way to make\nsure you didn't miss any jobs but,\n\n322\n00:16:09.344 --> 00:16:10.690\nyou may not want that.\n\n323\n00:16:10.690 --> 00:16:12.670\nYou might say, no it was powered off,\ndon't run that.\n\n324\n00:16:12.670 --> 00:16:15.150\nI don't want it slowing down my boot up or\nwhatever.\n\n325\n00:16:15.150 --> 00:16:18.590\nSo, you might choose to disable it and\nyou would just remove this link so\n\n326\n00:16:18.590 --> 00:16:21.300\nthat anacron wasn't being called anymore,\nall right?\n\n327\n00:16:21.300 --> 00:16:25.859\nBut that's a neat little system, anacron\nis, it is actually a command that you can\n\n328\n00:16:25.859 --> 00:16:29.394\nrun and it's got a little help file and\nstuff that we can pull up.\n\n329\n00:16:29.394 --> 00:16:33.829\nWell, it's not terribly useful,\nbut [LAUGH] there we go.\n\n330\n00:16:33.829 --> 00:16:36.828\nSo you'll see some of the different things\nthat you do like force execution of of\n\n331\n00:16:36.828 --> 00:16:39.542\njobs, even before their time or\nit just runs everything in your table.\n\n332\n00:16:39.542 --> 00:16:41.432\nYou can have a lot of fun with anacron,\nbut\n\n333\n00:16:41.432 --> 00:16:43.538\nnormally we just schedule\nit to run like this.\n\n334\n00:16:43.538 --> 00:16:47.741\nRuns once an hour or whatever and now we\ndon't have missed jobs anymore, all right.\n\n335\n00:16:47.741 --> 00:16:50.980\nSo, cron, very powerful.\n\n336\n00:16:50.980 --> 00:16:53.906\nCrontab -e for editing your table.\n\n337\n00:16:53.906 --> 00:16:59.930\nOh, if you're root,\nyou can actually do crontab -e,\n\n338\n00:16:59.930 --> 00:17:04.310\nfollowed by a username, and\nyou can edit somebody else's cron table.\n\n339\n00:17:04.310 --> 00:17:07.610\nAnd let's see,\nno argument printed, whoops.\n\n340\n00:17:08.680 --> 00:17:10.640\nHang on,\nlet me make sure I've got my syntax right.\n\n341\n00:17:10.640 --> 00:17:13.430\nYou can edit somebody else's cron table,\noh that's it.\n\n342\n00:17:13.430 --> 00:17:17.060\nIt's actually -u, is what I needed to do.\n\n343\n00:17:17.060 --> 00:17:18.080\nAnd there we go.\n\n344\n00:17:18.080 --> 00:17:21.875\nIt's now I'm logged in as root, but\nI'm editing dpezet's cron table, so\n\n345\n00:17:21.875 --> 00:17:25.989\nyou can modify other people's table\ncrontab -e -u, followed by the username.\n\n346\n00:17:25.989 --> 00:17:27.092\nSo another good one.\n\n347\n00:17:27.092 --> 00:17:27.997\n>> It's good to be king.\n\n348\n00:17:27.997 --> 00:17:29.868\n[LAUGH] Do whatever you want.\n\n349\n00:17:29.868 --> 00:17:31.377\nAnd that's the whole purpose of the root.\n\n350\n00:17:31.377 --> 00:17:34.918\nBut being able to say hey, I need to go\nin here and do a little modification.\n\n351\n00:17:34.918 --> 00:17:39.350\nSome of these users make us sometimes you\nmight see that Don may have created a job\n\n352\n00:17:39.350 --> 00:17:44.313\nand it's running, but it's doing something\nthat the administrator doesn't want it to\n\n353\n00:17:44.313 --> 00:17:46.120\ndo or it's causing some havoc.\n\n354\n00:17:46.120 --> 00:17:48.680\nYou can then go into that job,\nstop those jobs,\n\n355\n00:17:48.680 --> 00:17:52.138\nmaybe reformat it to where he\nstill gets his job done correctly,\n\n356\n00:17:52.138 --> 00:17:55.489\nbut it doesn't affect the system\nin a way that it may be doing.\n\n357\n00:17:55.489 --> 00:17:56.569\nSo that's very helpful.\n\n358\n00:17:56.569 --> 00:17:59.277\n>> All right,\nI do want to mention one more thing,\n\n359\n00:17:59.277 --> 00:18:02.732\ncuz we got a comment in the chat\nroom about the cron.allow and\n\n360\n00:18:02.732 --> 00:18:07.540\ncron.deny files, okay.ash I did kind\nof break the rules here on mine.\n\n361\n00:18:07.540 --> 00:18:09.635\nSo let's get back out and\ntake a look at that.\n\n362\n00:18:09.635 --> 00:18:11.490\nCron.allow.\n\n363\n00:18:11.490 --> 00:18:16.570\nWhat it does, is it allows you to\nspecify who's allowed to run cron.\n\n364\n00:18:17.600 --> 00:18:21.040\nAnd cron.deny allows you\nto specify who's denied.\n\n365\n00:18:21.040 --> 00:18:23.950\nBut, you can only use one or the other.\n\n366\n00:18:23.950 --> 00:18:28.350\nI've got both defined right now and\nso cron.allow is gonna trump it.\n\n367\n00:18:28.350 --> 00:18:30.880\nThat's the one that's gonna apply and\nmy cron.deny's not gonna get used.\n\n368\n00:18:30.880 --> 00:18:36.610\nSo the rule of thumb is to use one or\nthe other, but not to use both, all right?\n\n369\n00:18:36.610 --> 00:18:37.790\nThen, how do you pick?\n\n370\n00:18:37.790 --> 00:18:38.940\nHow do you pick which one to use?\n\n371\n00:18:38.940 --> 00:18:43.360\nWell, what it comes down to is this,\ndo you want to allow everybody and\n\n372\n00:18:43.360 --> 00:18:45.062\njust block a few people?\n\n373\n00:18:45.062 --> 00:18:48.285\nThen cron.denies what you want,\nbecause it allows everybody and\n\n374\n00:18:48.285 --> 00:18:51.210\nthen you just pick\nthe individual you want to deny.\n\n375\n00:18:51.210 --> 00:18:55.090\nBut do you want to deny everybody and\njust allow a couple of people?\n\n376\n00:18:55.090 --> 00:18:57.460\nWell then cron.allow is what you want.\n\n377\n00:18:57.460 --> 00:19:00.210\nSo, you really need to have one or\nthe other, all right?\n\n378\n00:19:00.210 --> 00:19:04.240\nNow, a lot of people out there will say,\nwell to get cron to work you just need to\n\n379\n00:19:04.240 --> 00:19:06.770\nhave a cron.deny file and\ndon't have cron.allow.\n\n380\n00:19:06.770 --> 00:19:08.570\nAnd you're right, that'll work.\n\n381\n00:19:08.570 --> 00:19:10.537\nBut it's not the only way.\n\n382\n00:19:10.537 --> 00:19:15.068\nYou get it to work with just a cron.allow,\nbut if you have cron.allow and it's empty,\n\n383\n00:19:15.068 --> 00:19:16.796\nthen who's allowed to run cron?\n\n384\n00:19:16.796 --> 00:19:19.640\nNobody, and so that breaks it.\n\n385\n00:19:19.640 --> 00:19:23.630\nSo if you just have a cron.allow and\nit's empty, cron won't work.\n\n386\n00:19:23.630 --> 00:19:25.773\nBut if you have cron.allow and\nyou're in it, right,\n\n387\n00:19:25.773 --> 00:19:28.810\nroot's always allowed to use it, but\nyou can put root in there if you want it.\n\n388\n00:19:28.810 --> 00:19:31.230\nBut you, your other users are in there,\nthen it's gonna work just fine.\n\n389\n00:19:31.230 --> 00:19:36.141\nBut normally you do pick one or\nthe other, so I created cron.allow and\n\n390\n00:19:36.141 --> 00:19:39.065\nput myself in it and I create cron.deny.\n\n391\n00:19:39.065 --> 00:19:42.451\nNow my cron.deny is not actually\ngetting used right now,\n\n392\n00:19:42.451 --> 00:19:44.120\nthe allow is overriding it.\n\n393\n00:19:44.120 --> 00:19:46.690\nSo I really need to\nclear one of these out.\n\n394\n00:19:46.690 --> 00:19:50.676\nSo like if I remove that cron.deny,\nI'm just gonna get rid of that one, right?\n\n395\n00:19:50.676 --> 00:19:56.644\nSo it's gone and now if I look,\nI've got my cron.allow and that's it.\n\n396\n00:19:56.644 --> 00:20:00.508\nDpezet is in that list, so\nI'm allowed to run cron, it'll work,\n\n397\n00:20:00.508 --> 00:20:02.880\neven though I don't have a cron.deny.\n\n398\n00:20:02.880 --> 00:20:05.636\nSo, just be aware that you should\nhave one file or the other and\n\n399\n00:20:05.636 --> 00:20:08.191\nyou decide based on what it\nis you're trying to achieve.\n\n400\n00:20:08.191 --> 00:20:10.165\nIf you're trying to be\nthe most restrictive,\n\n401\n00:20:10.165 --> 00:20:11.640\nthen you'll have a cron.allow.\n\n402\n00:20:11.640 --> 00:20:14.705\nIf you're trying to be the least\nrestrictive, you'll have a cron.deny.\n\n403\n00:20:14.705 --> 00:20:16.553\nI know it's kind of counter\nintuitive there, but\n\n404\n00:20:16.553 --> 00:20:17.838\nit's based on what the file does.\n\n405\n00:20:17.838 --> 00:20:21.550\nYep, so a cron very powerful,\nintimidating.\n\n406\n00:20:21.550 --> 00:20:24.268\nA lot of people don't like to use cron,\nthey're like it's so difficult!\n\n407\n00:20:24.268 --> 00:20:27.967\nBut you guys saw that\nthe crontab file is so\n\n408\n00:20:27.967 --> 00:20:32.350\nwell documented, if we go back into that.\n\n409\n00:20:32.350 --> 00:20:35.880\nIt's so well documented that it tells\nyou right here how to build the time\n\n410\n00:20:35.880 --> 00:20:39.700\nsequence and once you've got that the rest\nof it is just running a command it's not\n\n411\n00:20:39.700 --> 00:20:40.790\nhard to use.\n\n412\n00:20:40.790 --> 00:20:42.220\nDefinitely take advantage of that.\n\n413\n00:20:42.220 --> 00:20:43.873\nIt beats being awake at 3:00\nAM to do a server reboot.\n\n414\n00:20:43.873 --> 00:20:44.941\n>> [LAUGH]\n>> So.\n\n415\n00:20:44.941 --> 00:20:46.403\n>> Unless you are already have insomnia,\nright?\n\n416\n00:20:46.403 --> 00:20:48.215\n[LAUGH] It's not fun.\n\n417\n00:20:48.215 --> 00:20:49.858\nIt's a real problem people.\n\n418\n00:20:49.858 --> 00:20:50.400\n>> Some people are like,\n\n419\n00:20:50.400 --> 00:20:52.750\nyeah finally something I get to\ndo in the middle of the night.\n\n420\n00:20:52.750 --> 00:20:53.480\n>> Exactly.\n\n421\n00:20:53.480 --> 00:20:55.870\nNow Don,\nI did see at the top of that cron file,\n\n422\n00:20:55.870 --> 00:20:59.540\nthere was some extra stuff some paths and\nmail to.\n\n423\n00:20:59.540 --> 00:21:00.682\nWhat's all that about?\n\n424\n00:21:00.682 --> 00:21:03.620\n>> All right so, these guys we\nusually leave them at the default, but\n\n425\n00:21:03.620 --> 00:21:06.150\nif you want to change them,\nthe first one is the shell.\n\n426\n00:21:06.150 --> 00:21:07.188\nWe're about to run commands.\n\n427\n00:21:07.188 --> 00:21:09.790\nWe're giving cron commands to run,\nwhat shell does it use?\n\n428\n00:21:09.790 --> 00:21:11.926\nThe default is bash,\nthat's probably fine for you.\n\n429\n00:21:11.926 --> 00:21:15.586\nBut if you rely on some kind of scripting\nthat's tied to a particular shell,\n\n430\n00:21:15.586 --> 00:21:19.263\nthen you may need to modify that to\nspecify the alternate shell, all right.\n\n431\n00:21:19.263 --> 00:21:23.666\nThe path, when the scripts run that you\ndefine, what paths will it search for\n\n432\n00:21:23.666 --> 00:21:28.545\nthose scripts, if you don't provide\na full, see how I did /users/sbin/reboot,\n\n433\n00:21:28.545 --> 00:21:30.060\nwhat if I didn't do that?\n\n434\n00:21:30.060 --> 00:21:31.960\nWhat if I just said reboot?\n\n435\n00:21:33.030 --> 00:21:35.290\nWell if I do that,\n\n436\n00:21:35.290 --> 00:21:39.340\nit's gonna look in this path right\nhere to find that reboot command.\n\n437\n00:21:39.340 --> 00:21:43.618\nAnd if it's in here, great well,\n/user/bin/user/sbin so we're covered,\n\n438\n00:21:43.618 --> 00:21:44.365\nit'll work.\n\n439\n00:21:44.365 --> 00:21:47.929\nBut if I'm trying to call something\nin my home directory, right?\n\n440\n00:21:47.929 --> 00:21:51.888\nRemember that backup.shscript\nthat I mentioned.\n\n441\n00:21:51.888 --> 00:21:56.774\nSo, on that one I think it was,\nwhen I wanted to do a backup at let's say,\n\n442\n00:21:56.774 --> 00:22:00.460\nmidnight and I want it to run\nevery single day, right or\n\n443\n00:22:00.460 --> 00:22:02.892\nmaybe just Monday through Friday.\n\n444\n00:22:02.892 --> 00:22:05.348\nSo let me, let me just correct that or\n\n445\n00:22:05.348 --> 00:22:10.438\nI guess we'll follow the proper syntax and\nsay 2- or 1-5, there we go.\n\n446\n00:22:10.438 --> 00:22:15.651\n1-5 and I'll run it as dpezet and\nI wanna run backup.sh.\n\n447\n00:22:15.651 --> 00:22:19.551\nOkay, well how does it know\nwhere to find backup.sh?\n\n448\n00:22:19.551 --> 00:22:22.129\nIt's gonna look in this path\nright up here, all right.\n\n449\n00:22:22.129 --> 00:22:23.921\nIt's not gonna find my backup script.\n\n450\n00:22:23.921 --> 00:22:24.977\nSo you have two choices.\n\n451\n00:22:24.977 --> 00:22:28.639\nChoice one, add my home directory\nto the path, that would work or\n\n452\n00:22:28.639 --> 00:22:33.250\nchoice two when you specify your files,\njust be a little more detailed, right?\n\n453\n00:22:33.250 --> 00:22:37.350\nUse the fully qualified path to\nget to that file, all right.\n\n454\n00:22:37.350 --> 00:22:39.200\nAnd then the last option is MAILTO.\n\n455\n00:22:39.200 --> 00:22:41.790\nBy default, whenever a cron job runs,\n\n456\n00:22:41.790 --> 00:22:44.390\na little status report is sent\nto the root user, all right.\n\n457\n00:22:44.390 --> 00:22:45.454\nWell, maybe you don't\nwant it to go to root.\n\n458\n00:22:45.454 --> 00:22:48.530\nMaybe you want it to go to a different\nuser, like I want it to go to dpezet.\n\n459\n00:22:48.530 --> 00:22:53.154\nAnd so now if any issue happens with cron,\nit'll shoot an email over to dpezet and\n\n460\n00:22:53.154 --> 00:22:54.120\nwe'll get it.\n\n461\n00:22:54.120 --> 00:22:56.350\nNow, that's using the internal send mail,\nso\n\n462\n00:22:56.350 --> 00:22:58.764\nit's not actually going\nlike your email address.\n\n463\n00:22:58.764 --> 00:23:01.362\nIf you have send mail set up for\nexternal mail though,\n\n464\n00:23:01.362 --> 00:23:03.846\nyou could put in something\nlike don@itpro.tv and\n\n465\n00:23:03.846 --> 00:23:07.736\nnow it's gonna shoot right out to that\nsystem and you'll be in business there.\n\n466\n00:23:07.736 --> 00:23:11.636\nSo, couple of different options for\nhow we want to configure that and,\n\n467\n00:23:11.636 --> 00:23:13.340\nthat's really about it.\n\n468\n00:23:13.340 --> 00:23:14.400\n>> It's pretty cool stuff, though.\n\n469\n00:23:14.400 --> 00:23:18.460\nBeing able to set up my own jobs,\nif you come from a Windows background,\n\n470\n00:23:18.460 --> 00:23:20.620\nyou're diving into Linux for\nthe first time, you say,\n\n471\n00:23:20.620 --> 00:23:22.570\nhey I need to set up some backup jobs.\n\n472\n00:23:22.570 --> 00:23:26.450\nCreate that backup job and then set\nthat time for it to run by using cron,\n\n473\n00:23:26.450 --> 00:23:28.150\nset your own crons tables.\n\n474\n00:23:28.150 --> 00:23:28.990\nVery good stuff,\n\n475\n00:23:28.990 --> 00:23:32.360\nthat's what we need to be able to do and\nespecially when it gets in the servers.\n\n476\n00:23:32.360 --> 00:23:34.490\nWhen you start working in\nthe server environments,\n\n477\n00:23:34.490 --> 00:23:36.464\nthis is something you will do a lot,\nright?\n\n478\n00:23:36.464 --> 00:23:38.870\nBecause there's a lot of jobs\nyou're gonna have to set up,\n\n479\n00:23:38.870 --> 00:23:41.710\nmake sure they're running correctly and\nall that business.\n\n480\n00:23:41.710 --> 00:23:42.790\nSo, it's a lot of work,\n\n481\n00:23:42.790 --> 00:23:46.420\nwhich is why Don says that it's going\nto be daunting for new guys, right?\n\n482\n00:23:46.420 --> 00:23:50.610\nBecause it's not very intuitively done,\nbut like you said,\n\n483\n00:23:50.610 --> 00:23:54.320\nthat file, that configuration\nfile is well documented.\n\n484\n00:23:54.320 --> 00:23:56.168\nSo if you just take a little time and\nlook through that,\n\n485\n00:23:56.168 --> 00:23:57.222\nit should start to make sense.\n\n486\n00:23:57.222 --> 00:23:59.481\nAnd of course the more you do it\nthe better you're gonna get at it,\n\n487\n00:23:59.481 --> 00:24:02.088\nthe faster you're gonna get at it,\nand it's gonna be really easy for you.\n\n488\n00:24:02.088 --> 00:24:05.639\n>> Yep, another good question in\nthe chat room was about time zones and\n\n489\n00:24:05.639 --> 00:24:07.370\nhow that's all handled.\n\n490\n00:24:07.370 --> 00:24:10.580\nWell, these times that I'm providing,\nit is all local time.\n\n491\n00:24:10.580 --> 00:24:14.240\nSo if daylight savings time kicks in, it\nhonors that, 3 AM during daylight savings\n\n492\n00:24:14.240 --> 00:24:16.930\ntime it'll be different than 3\nAM not in daylight savings time.\n\n493\n00:24:16.930 --> 00:24:18.900\nIt recognizes that and it handles it.\n\n494\n00:24:18.900 --> 00:24:19.990\nIf you want it to happen at UTC,\n\n495\n00:24:19.990 --> 00:24:23.770\nyou need to change the timezone\nof your server to UTC.\n\n496\n00:24:23.770 --> 00:24:25.270\nThat's just kind of part of cron.\n\n497\n00:24:25.270 --> 00:24:26.920\nI'm not aware of a way to override that.\n\n498\n00:24:26.920 --> 00:24:27.456\nDo you know one Daniel?\n\n499\n00:24:27.456 --> 00:24:28.652\n>> Not that I'm aware of, no.\n\n500\n00:24:28.652 --> 00:24:32.107\n>> So, you'll see a lot of people where\nthey just set their servers to UTC and\n\n501\n00:24:32.107 --> 00:24:32.850\nthat's that.\n\n502\n00:24:32.850 --> 00:24:35.240\nYou can still have your desktop\nset to the right time zone, but\n\n503\n00:24:35.240 --> 00:24:36.460\nyou'll leave your servers at UTC.\n\n504\n00:24:36.460 --> 00:24:39.340\nNow your cron jobs observe that and\nnow they ignore daylight savings time.\n\n505\n00:24:39.340 --> 00:24:40.820\nCuz it's just that universal time.\n\n506\n00:24:40.820 --> 00:24:42.160\nSo, yep.\n\n507\n00:24:42.160 --> 00:24:42.880\n>> Awesome stuff.\n\n508\n00:24:42.880 --> 00:24:46.680\nHopefully you guys are picking up\na lot of cool Linux utilities all,\n\n509\n00:24:46.680 --> 00:24:47.650\nyou know, getting that,\n\n510\n00:24:47.650 --> 00:24:52.230\ngetting that Linux bug dug right into you\nand permeating through out your systems.\n\n511\n00:24:52.230 --> 00:24:53.068\n>> Permeating.\n>> That's right,\n\n512\n00:24:53.068 --> 00:24:54.112\nI like to use big words from time to time.\n\n513\n00:24:54.112 --> 00:24:57.159\n[LAUGH] All right Don, have we,\nhave we covered cron, the basics of cron,\n\n514\n00:24:57.159 --> 00:24:58.600\nwhat we need to know for this exam.\n\n515\n00:24:58.600 --> 00:25:00.630\n>> Yeah, pretty much wraps up and\ndon't forget the @command,\n\n516\n00:25:00.630 --> 00:25:04.170\nstill useful if you just want to do\na single instance of an occurrence.\n\n517\n00:25:04.170 --> 00:25:04.805\n>> Very good stuff.\n\n518\n00:25:04.805 --> 00:25:06.940\nAll right,\nlooks like we've come to the end of yet\n\n519\n00:25:06.940 --> 00:25:08.770\nanother great episode here at ITProTV.\n\n520\n00:25:08.770 --> 00:25:10.560\nHopefully you guys loved it.\n\n521\n00:25:10.560 --> 00:25:12.030\nWe sure enjoyed making it.\n\n522\n00:25:12.030 --> 00:25:13.900\nSigning off,\nI've been your host Daniel Lowery\n\n523\n00:25:13.900 --> 00:25:14.853\n>> And I'm Don Pezet.\n\n524\n00:25:14.853 --> 00:25:15.920\n>> And we'll see you next time.\n\n525\n00:25:15.920 --> 00:25:17.070\n[MUSIC]\n\n",
          "vimeoId": "131576411"
        }
      ],
      "title": "(LX0-104) Administering the System"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1722",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-1-understanding_tcpip-062515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-1-understanding_tcpip-062515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-1-understanding_tcpip-062515-1-sm.jpg",
          "title": "Understanding TCP/IP",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:04.756\n[MUSIC]\n\n2\n00:00:04.756 --> 00:00:11.560\nAll right.\n\n3\n00:00:11.560 --> 00:00:14.760\nGreetings everyone, and welcome to\nanother great episode of ITProTV.\n\n4\n00:00:14.760 --> 00:00:16.920\nI'll be your host, Daniel Lowery, and\n\n5\n00:00:16.920 --> 00:00:19.842\nhere with me today is none\nother than Don TCP/IP Pezet.\n\n6\n00:00:19.842 --> 00:00:22.160\n>> [LAUGH]\n>> How's it going today Don?\n\n7\n00:00:22.160 --> 00:00:24.240\n>> I am doing great\n>> Yeah,\n\n8\n00:00:24.240 --> 00:00:27.210\nI wish my name was a part\nof that abbreviation.\n\n9\n00:00:27.210 --> 00:00:30.920\nIn this episode we're going to start\ntalking about TCP/IP, which is honestly\n\n10\n00:00:30.920 --> 00:00:35.810\nthe single most important protocol\nstack that we use in networking today.\n\n11\n00:00:35.810 --> 00:00:37.260\nSo, it's a great episode.\n\n12\n00:00:37.260 --> 00:00:39.810\nWe're going to talk about some neat\nfoundational knowledge that we\n\n13\n00:00:39.810 --> 00:00:40.480\nreally need to know for\n\n14\n00:00:40.480 --> 00:00:44.930\nthe exam if we're going to be setting\nup networks for a Linux based system.\n\n15\n00:00:44.930 --> 00:00:49.340\nNow everything that we cover in this\nepisode is really foundational knowledge.\n\n16\n00:00:49.340 --> 00:00:51.320\nIt's general knowledge\nthat you need to have.\n\n17\n00:00:51.320 --> 00:00:53.560\nIf you're already Network Plus certified,\n\n18\n00:00:53.560 --> 00:00:56.860\nwell we're not going to break any\nnew boundaries in this episode.\n\n19\n00:00:56.860 --> 00:00:59.040\nAnd you won't hurt my\nfeelings if you skip past it.\n\n20\n00:00:59.040 --> 00:01:02.584\nBut if you're not Network Plus certified,\nif you haven't worked with networks,\n\n21\n00:01:02.584 --> 00:01:05.821\nwhat we're going to cover today,\nare the basic things that we need to know,\n\n22\n00:01:05.821 --> 00:01:08.453\nbefore we go and assign IP\naddresses inside of a Linux system,\n\n23\n00:01:08.453 --> 00:01:10.660\nbefore we set up a basic network and\nget that going.\n\n24\n00:01:10.660 --> 00:01:14.760\nSo it's not really Linux specific today,\nit's TCP/IP specific.\n\n25\n00:01:14.760 --> 00:01:15.360\nAll right.\n\n26\n00:01:15.360 --> 00:01:18.720\nNow, we're gonna focus on\nthe second part of that acronym.\n\n27\n00:01:18.720 --> 00:01:24.210\nThe full acronym is transmission control\nprotocol slash internet protocol.\n\n28\n00:01:24.210 --> 00:01:26.575\nNotice how there's two protocols.\n\n29\n00:01:26.575 --> 00:01:28.650\nTCP/IP is not one protocol.\n\n30\n00:01:28.650 --> 00:01:30.710\nIt's what's called a protocol stack,\n\n31\n00:01:30.710 --> 00:01:35.400\nmore than one protocol working together\nto create full network connectivity.\n\n32\n00:01:35.400 --> 00:01:38.890\nIndividually neither piece can allow\nyou to talk to another computer.\n\n33\n00:01:38.890 --> 00:01:41.010\nYou have to use them all together,\nall right.\n\n34\n00:01:41.010 --> 00:01:44.190\nBut in this episode we're going\nto focus just on the IP piece,\n\n35\n00:01:44.190 --> 00:01:46.120\nthe internet protocol.\n\n36\n00:01:46.120 --> 00:01:48.920\nIP is really, really important.\n\n37\n00:01:48.920 --> 00:01:51.720\nIt provides one primary function.\n\n38\n00:01:51.720 --> 00:01:56.630\nAnd that is to help you find\nanother computer on the network.\n\n39\n00:01:56.630 --> 00:01:59.520\nIt doesn't help you talk to that computer,\nit doesn't help you actually\n\n40\n00:01:59.520 --> 00:02:02.650\nsend data to that computer,\nit just helps you find somebody.\n\n41\n00:02:02.650 --> 00:02:04.120\nAll right, where the heck are they?\n\n42\n00:02:04.120 --> 00:02:04.960\nHow do I get to them?\n\n43\n00:02:04.960 --> 00:02:08.110\nAll right, that's what IP is all about.\n\n44\n00:02:08.110 --> 00:02:11.020\nThe most common version of IP that's\nout there is IP version four,\n\n45\n00:02:11.020 --> 00:02:12.440\ninternet protocol version four.\n\n46\n00:02:12.440 --> 00:02:14.210\nIt's what's used across the internet,\n\n47\n00:02:14.210 --> 00:02:18.020\nalmost every computer system\ntoday supports IP version four.\n\n48\n00:02:18.020 --> 00:02:21.200\nThere is a newer version of it,\nthough, called IP version six.\n\n49\n00:02:21.200 --> 00:02:23.180\nAnd it's important that\nwe know about that.\n\n50\n00:02:23.180 --> 00:02:25.590\nThe exam doesn't hit on\nIPv6 very hard at all,\n\n51\n00:02:25.590 --> 00:02:27.960\nbut It is something that's\ncoming down the line.\n\n52\n00:02:27.960 --> 00:02:29.230\nWe're seeing more and more of it so\n\n53\n00:02:29.230 --> 00:02:32.710\nwe'll talk a little bit about it towards\nthe end of the episode, all right.\n\n54\n00:02:32.710 --> 00:02:33.570\nLet's talk about IPv4.\n\n55\n00:02:34.790 --> 00:02:39.200\nIf you have a Linux box, and you wanna get\nit so that it can browse to the Internet.\n\n56\n00:02:39.200 --> 00:02:42.720\nIf you wanna get it where it can talk to\nother computers on the network, one of\n\n57\n00:02:42.720 --> 00:02:47.330\nthe first steps you're gonna have to do is\nsetting up an IP address on your system..\n\n58\n00:02:47.330 --> 00:02:49.910\nThe IP address,\nyour address, it's a number.\n\n59\n00:02:49.910 --> 00:02:51.640\nA number that identifies your computer and\n\n60\n00:02:51.640 --> 00:02:55.010\nthe other computers on\nthe network have a number also.\n\n61\n00:02:55.010 --> 00:02:57.490\nAnd if we know our number and\nwe know their number,\n\n62\n00:02:57.490 --> 00:02:59.360\nthen in theory we can find them.\n\n63\n00:02:59.360 --> 00:03:01.630\nI equate it to like a street address.\n\n64\n00:03:01.630 --> 00:03:04.876\nThe building I'm in right now\nis 6933 Northwest 4th Boulevard.\n\n65\n00:03:04.876 --> 00:03:06.201\nAll right.\n\n66\n00:03:06.201 --> 00:03:09.260\nWhat does that mean?\n\n67\n00:03:09.260 --> 00:03:12.430\nWell, Northwest 4th Boulevard,\nthat's the street that we're on.\n\n68\n00:03:12.430 --> 00:03:15.310\nThat's the road outside the building here.\n\n69\n00:03:15.310 --> 00:03:18.430\nAnd then 6933,\nthat's this building that I'm standing in.\n\n70\n00:03:18.430 --> 00:03:22.710\nSo if you know the building address\nis 6933 Northwest 4th Boulevard,\n\n71\n00:03:22.710 --> 00:03:24.430\nyou can find this building, right?\n\n72\n00:03:24.430 --> 00:03:26.730\nThrow it on Google Maps or\nwhatever and you'll find it.\n\n73\n00:03:26.730 --> 00:03:29.170\nWell, that's how IP addresses work.\n\n74\n00:03:29.170 --> 00:03:32.290\nPart of the IP address\nrepresents your network and\n\n75\n00:03:32.290 --> 00:03:34.850\nthe other part of the address\nrepresents your host.\n\n76\n00:03:34.850 --> 00:03:35.980\nLet me show you guys a sample here.\n\n77\n00:03:35.980 --> 00:03:39.720\nSo, I've got on my machine\na sample IP address here,\n\n78\n00:03:39.720 --> 00:03:42.730\na pretty common one, 192.168.0.1.\n\n79\n00:03:42.730 --> 00:03:43.760\nRight.\n\n80\n00:03:43.760 --> 00:03:48.310\nPart of that represents a network,\nand part of it represents a host.\n\n81\n00:03:48.310 --> 00:03:52.902\nSo it's actually made up of these\ntwo pieces, a NetworkID and\n\n82\n00:03:52.902 --> 00:03:54.591\na HostID, all right.\n\n83\n00:03:54.591 --> 00:03:58.020\nThe NetworkID, or I should probably just\nput a plus in there instead, there we go.\n\n84\n00:03:58.020 --> 00:03:59.440\nThe NetworkID is my network.\n\n85\n00:03:59.440 --> 00:04:01.590\nAnd that would be like my street, right?\n\n86\n00:04:01.590 --> 00:04:04.550\nSo it would be like NW 4th Blvd, right?\n\n87\n00:04:05.860 --> 00:04:09.140\nThere are many buildings\nhere on NW 4th Blvd.\n\n88\n00:04:09.140 --> 00:04:10.090\nWe're not the only ones.\n\n89\n00:04:10.090 --> 00:04:11.521\nRight.\nThere's several other buildings and\n\n90\n00:04:11.521 --> 00:04:13.780\nshopping centers, things like that,\nthey're all along the trail.\n\n91\n00:04:13.780 --> 00:04:17.460\nWe share that road with other people,\nall right?\n\n92\n00:04:17.460 --> 00:04:21.970\nBut we are the only 6933 on this road,\nright.\n\n93\n00:04:23.160 --> 00:04:26.780\nThere's no other 6933 on NW 4th Blvd,\nit's just us.\n\n94\n00:04:26.780 --> 00:04:28.441\nThere's a 6931, there a 6935.\n\n95\n00:04:28.441 --> 00:04:32.810\nThere's probably a 6934, although I\nthink it's an empty field over there.\n\n96\n00:04:32.810 --> 00:04:37.030\nSo there are other numbers that are on\nour road, but we're the only 6933.\n\n97\n00:04:37.030 --> 00:04:37.676\nAll right.\n\n98\n00:04:37.676 --> 00:04:39.845\nNetwork addresses are the same way.\n\n99\n00:04:39.845 --> 00:04:48.113\nThis address up here,\nwell 192.168.0 that's the NetworkID,\n\n100\n00:04:48.113 --> 00:04:52.670\nand 1, that's the HostID, right?\n\n101\n00:04:52.670 --> 00:04:57.997\nSo my network is 192.168.0 and\n1 is my host.\n\n102\n00:04:57.997 --> 00:05:02.722\nSo 192 at168.0 there might be many\ncomputers on that network, but\n\n103\n00:05:02.722 --> 00:05:04.301\nthere's only one .1.\n\n104\n00:05:04.301 --> 00:05:10.395\nSo there might be a 192.168.0.99 or\na 192.168.0.200.\n\n105\n00:05:10.395 --> 00:05:12.910\nThey're on the same network.\n\n106\n00:05:12.910 --> 00:05:17.040\nBut they have different HostIDs, so\nthey're unique in that perspective.\n\n107\n00:05:17.040 --> 00:05:18.180\nAll right.\n\n108\n00:05:18.180 --> 00:05:19.990\nNow, why is that important to us?\n\n109\n00:05:19.990 --> 00:05:23.978\nWell, if two computers wanna talk to each\nother, and they're on the same network,\n\n110\n00:05:23.978 --> 00:05:29.150\nthey can just talk directly to each other.\n\n111\n00:05:29.150 --> 00:05:30.970\nDaniel's laptop is on\nthe 10.1.230 network.\n\n112\n00:05:30.970 --> 00:05:31.590\nI'm on the 10.1.230 network.\n\n113\n00:05:31.590 --> 00:05:33.250\nOur laptops can talk to\neach other just fine.\n\n114\n00:05:34.960 --> 00:05:36.340\nBut what about you?\n\n115\n00:05:36.340 --> 00:05:37.770\nYou're watching this episode.\n\n116\n00:05:37.770 --> 00:05:40.600\nYou're, maybe you're watching this live,\nif you're watching this live then you're\n\n117\n00:05:40.600 --> 00:05:44.924\nout there somewhere in the world on\na network that's not 10.1.230 right,\n\n118\n00:05:44.924 --> 00:05:47.140\non some completely other\nnetwork that's out there.\n\n119\n00:05:47.140 --> 00:05:50.140\nAnd you're coming to access our\nsystems here, to watch the video.\n\n120\n00:05:50.140 --> 00:05:52.940\nWell, how do you do that?\n\n121\n00:05:52.940 --> 00:05:54.270\nYou go through routers, right?\n\n122\n00:05:54.270 --> 00:05:57.200\nThere's many routers that are out there\non the internet that we pass through when\n\n123\n00:05:57.200 --> 00:06:00.280\nwe go out to some kind of source,\nto some destination.\n\n124\n00:06:00.280 --> 00:06:04.530\nLet me,\nwe'll use ITProTV as an example, right.\n\n125\n00:06:04.530 --> 00:06:07.460\nSo let me fire up\na terminal here real quick.\n\n126\n00:06:07.460 --> 00:06:12.563\nIf I were to jump out to ITProTV I could\ndo something like ping itpro.tv and\n\n127\n00:06:12.563 --> 00:06:14.050\nI'm pinging it.\n\n128\n00:06:14.050 --> 00:06:16.262\nI know I can get to itpro.tv.\n\n129\n00:06:16.262 --> 00:06:19.560\nAll right, well how did I get there?\n\n130\n00:06:19.560 --> 00:06:25.410\nI can use the utility like trace\nroute to see how I got out there.\n\n131\n00:06:25.410 --> 00:06:30.330\nAnd it starts to lay out the route that\nI followed on my way out to that system.\n\n132\n00:06:30.330 --> 00:06:32.990\nAnd if you look,\nhere's our firewall, right?\n\n133\n00:06:32.990 --> 00:06:34.890\nThat's the equipment that we control.\n\n134\n00:06:34.890 --> 00:06:37.710\nAnd then after that,\nwe start bouncing through GRU,\n\n135\n00:06:37.710 --> 00:06:39.650\nwhich is our internet service provider.\n\n136\n00:06:39.650 --> 00:06:42.430\nAnd from there,\nthey bounce us over to some other network.\n\n137\n00:06:42.430 --> 00:06:44.950\nAnd then looks like after we\nhit level three communications,\n\n138\n00:06:44.950 --> 00:06:46.480\nwe hit some kind of firewall there.\n\n139\n00:06:46.480 --> 00:06:51.300\nAnd it's not returning names anymore,\nbut we can see all these different\n\n140\n00:06:51.300 --> 00:06:55.470\nrouters we're passing through on our\nway out to that destination, all right.\n\n141\n00:06:55.470 --> 00:06:58.200\nThose routers are all on\ndifferent networks, and\n\n142\n00:06:58.200 --> 00:07:02.010\nit's a router's job to know how\nto get to those destinations.\n\n143\n00:07:02.010 --> 00:07:05.530\nBut your computer has to\nknow when to use the router.\n\n144\n00:07:05.530 --> 00:07:08.130\nAnd it's your address\nthat keys it in on that.\n\n145\n00:07:08.130 --> 00:07:10.100\nWhen your address starts\nwith 192.168.0 and\n\n146\n00:07:10.100 --> 00:07:14.530\nyou're talking to somebody whose address\nstarts with something different,\n\n147\n00:07:14.530 --> 00:07:17.610\nyou say well I don't know how to get\nthere, let me go through my router.\n\n148\n00:07:17.610 --> 00:07:20.260\nAnd your router will guide you\non the way to that destination.\n\n149\n00:07:21.396 --> 00:07:25.774\nAll right.\nNow, I said my network was 192.168.0.\n\n150\n00:07:25.774 --> 00:07:26.680\nHow did I know that?\n\n151\n00:07:27.820 --> 00:07:31.400\nWell, to understand how we know where\nthe NetworkID and where the HostID is,\n\n152\n00:07:31.400 --> 00:07:34.060\nwe kind of have to understand\nhow these addresses are made up.\n\n153\n00:07:34.060 --> 00:07:36.110\nWhen we see an IPv4 address,\n\n154\n00:07:36.110 --> 00:07:40.400\nwe see it written as four numbers\nseparated by periods, okay.\n\n155\n00:07:40.400 --> 00:07:43.620\nThis is called the dotted\ndecimal notation.\n\n156\n00:07:43.620 --> 00:07:47.450\nIn computers there's really three\ndifferent types of numbers that you see.\n\n157\n00:07:47.450 --> 00:07:50.150\nThere's decimal,\n\n158\n00:07:51.210 --> 00:07:56.400\nthere is binary and\nthere's hexadecimal, right.\n\n159\n00:07:56.400 --> 00:07:58.168\nThose are the three types\nof numbers that we see.\n\n160\n00:07:58.168 --> 00:08:02.167\nDecimal we recognize really easy, right?\n\n161\n00:08:02.167 --> 00:08:06.044\nEach digit, each placeholder Is\na value between zero and nine.\n\n162\n00:08:06.044 --> 00:08:08.367\nRight?\nSo I have zero, one, two, three, four,\n\n163\n00:08:08.367 --> 00:08:10.870\nfive, six, seven, eight,\nnine, and then I go to ten.\n\n164\n00:08:10.870 --> 00:08:12.560\nI went to two digits.\n\n165\n00:08:12.560 --> 00:08:14.310\nRight?\nAnd I go all the way to 99 and\n\n166\n00:08:14.310 --> 00:08:15.470\nthen I go to three digits.\n\n167\n00:08:15.470 --> 00:08:17.480\nAnd I go to 999 and I go to four digits.\n\n168\n00:08:17.480 --> 00:08:18.730\nRight?\nThat's decimal mathematics.\n\n169\n00:08:18.730 --> 00:08:20.890\nIt's what most of us\nlearned in grade school.\n\n170\n00:08:20.890 --> 00:08:24.090\nIt's pretty common, I should say.\n\n171\n00:08:24.090 --> 00:08:25.540\nBinary, on the other hand,\nis what computers use.\n\n172\n00:08:25.540 --> 00:08:29.690\nAnd with binary,\neach digit is just a zero or a one.\n\n173\n00:08:29.690 --> 00:08:32.700\nAnd that's it, zeroes and ones,\nthat's what your computer sees.\n\n174\n00:08:32.700 --> 00:08:34.319\nIt does everything in terms of zeroes and\nones.\n\n175\n00:08:36.210 --> 00:08:43.290\nThen there's hexadecimal, and\nhexadecimal does things in zero through F.\n\n176\n00:08:43.290 --> 00:08:45.760\nNow, what do I mean by zero through F?\n\n177\n00:08:45.760 --> 00:08:50.420\nWell, I mean zero, one, two, three,\nfour, five, six, seven, eight, nine.\n\n178\n00:08:50.420 --> 00:08:50.960\nWhoops.\n\n179\n00:08:50.960 --> 00:08:55.800\nAnd then instead of ten,\nit goes to A, B, C, D, E, and F.\n\n180\n00:08:57.050 --> 00:08:59.580\nIt's actually got 16 different values.\n\n181\n00:08:59.580 --> 00:09:05.390\nSo, when we say 16 different values,\nthese are Base 10 mathematics,\n\n182\n00:09:05.390 --> 00:09:10.720\nBase 2 mathematics, and\nBase 16 mathematics.\n\n183\n00:09:11.790 --> 00:09:14.540\nI've got 16 different values for\neach digit.\n\n184\n00:09:14.540 --> 00:09:17.880\nSo, different ways of\nrepresenting those numbers.\n\n185\n00:09:17.880 --> 00:09:22.120\nWell, when we see an IP address,\nan IPv4 address,\n\n186\n00:09:22.120 --> 00:09:26.140\nis written like this which\nis four decimal numbers.\n\n187\n00:09:26.140 --> 00:09:28.340\nIn the background, your computer\ntakes that decimal number and\n\n188\n00:09:28.340 --> 00:09:29.980\nit converts it to binary.\n\n189\n00:09:29.980 --> 00:09:36.129\nSo it would take something like\n192.168.01 and convert that to binary.\n\n190\n00:09:36.129 --> 00:09:41.561\nSo you'd see something like this\none the computer that number\n\n191\n00:09:41.561 --> 00:09:46.575\nwould actually be,\nlet's see if I can do this in my head,\n\n192\n00:09:46.575 --> 00:09:50.347\n11000000.10101000.\n\n193\n00:09:53.660 --> 00:09:54.451\nThere.\n\n194\n00:09:54.451 --> 00:09:59.571\nAll right,\nthat is 192.168.0.1 written in binary.\n\n195\n00:09:59.571 --> 00:10:01.940\nNow I've put these\nlittle periods in there.\n\n196\n00:10:01.940 --> 00:10:03.415\nThe computer actually\ndoesn't even do that.\n\n197\n00:10:03.415 --> 00:10:07.780\nWhat we do it's, oops,\nwhat we do is not that.\n\n198\n00:10:07.780 --> 00:10:13.060\nWhat we do is, as human beings,\nit's kind of built into our minds, that\n\n199\n00:10:13.060 --> 00:10:17.480\nwe can handle memorizing a certain amount\nof numbers, right, like a phone number.\n\n200\n00:10:17.480 --> 00:10:19.740\nIn the United States,\nphone numbers are ten digits.\n\n201\n00:10:19.740 --> 00:10:22.420\nYou have a three digit area code,\na three digit prefix, and\n\n202\n00:10:22.420 --> 00:10:25.600\nthen a four digit suffix,\nten digit number.\n\n203\n00:10:25.600 --> 00:10:28.590\nYou ever wonder why our phone\nnumbers are ten digits?\n\n204\n00:10:28.590 --> 00:10:34.100\nThey did a study back in the 20s, and they\nfound that most humans can memorize ten\n\n205\n00:10:34.100 --> 00:10:37.510\nnumbers pretty easy, seven even better,\nright, which is why we have the area code\n\n206\n00:10:37.510 --> 00:10:41.400\nsystem the way it is but, but ten is\npretty much the maximum we can memorize.\n\n207\n00:10:41.400 --> 00:10:44.730\nAnything beyond ten,\nstarts to be a little challenging.\n\n208\n00:10:44.730 --> 00:10:46.166\nWell, look at this binary number.\n\n209\n00:10:46.166 --> 00:10:52.740\nIPv4 uses a 32-bit address,\nit's thirty two, ones and zeros.\n\n210\n00:10:52.740 --> 00:10:54.893\nImagine if you had to memorize that.\n\n211\n00:10:54.893 --> 00:10:56.638\nI'm not gonna say oh,\nwhat's your IP address?\n\n212\n00:10:56.638 --> 00:11:01.790\nOh, it's 110000001010,\nit's not gonna happen, right?\n\n213\n00:11:01.790 --> 00:11:04.650\nSo they said let's find a way\nto make this human readable.\n\n214\n00:11:04.650 --> 00:11:09.660\nAnd so they divided it up into\n8-bit sections called octets.\n\n215\n00:11:09.660 --> 00:11:11.466\nSo I've got four octets.\n\n216\n00:11:11.466 --> 00:11:16.734\nAnd then we can take each octet and\nturn that into its decimal equivalent.\n\n217\n00:11:16.734 --> 00:11:21.750\n11000000 in binary is 192 in decimal.\n\n218\n00:11:22.760 --> 00:11:25.240\nI can remember 192,\nthat's a lot easier, right?\n\n219\n00:11:25.240 --> 00:11:30.450\nSo, this is just a human\nreadable format for this number,\n\n220\n00:11:30.450 --> 00:11:32.497\nor really this number right here,\nthis 32-bit number.\n\n221\n00:11:34.280 --> 00:11:38.500\nNow along with that number,\nwe had something called a subnet mask,\n\n222\n00:11:38.500 --> 00:11:42.450\nyou probably saw it on my screen a moment\nago, that looked like this, all right?\n\n223\n00:11:42.450 --> 00:11:48.344\nNow a subnet mask, it's a decimal number\nalso, and the computer sees it as binary.\n\n224\n00:11:48.344 --> 00:11:51.410\nBut in binary,\nit looks something like this.\n\n225\n00:11:51.410 --> 00:11:53.370\nLet's see.\nI'm gonna try and\n\n226\n00:11:53.370 --> 00:11:54.580\nnot mess this up too much.\n\n227\n00:11:58.048 --> 00:11:58.820\nThere.\n\n228\n00:11:58.820 --> 00:12:00.090\nIt looks something like this.\n\n229\n00:12:00.090 --> 00:12:00.820\nOkay?\n\n230\n00:12:00.820 --> 00:12:04.800\nNow, that number doesn't mean\na whole heck of a lot to us, but\n\n231\n00:12:04.800 --> 00:12:09.980\nif I take that and\nI'm going to take the dots out of it\n\n232\n00:12:11.860 --> 00:12:15.884\nand line it up like this,\nwhat that subnet mask does.\n\n233\n00:12:15.884 --> 00:12:18.112\n[LAUGH] Apparently I'm\nshort a number in here.\n\n234\n00:12:18.112 --> 00:12:20.448\n>> [LAUGH]\n>> I'm missing a zero, there we go.\n\n235\n00:12:20.448 --> 00:12:26.476\nAll right, that number tells\nthe computer where the network stops and\n\n236\n00:12:26.476 --> 00:12:28.310\nthe host starts.\n\n237\n00:12:28.310 --> 00:12:31.650\nThese ones tell us where\nour network ID is.\n\n238\n00:12:31.650 --> 00:12:33.750\nThat part of the address\nmakes up the network ID,\n\n239\n00:12:33.750 --> 00:12:35.800\nwhere with our building\nthat would be NW 4th Blvd.\n\n240\n00:12:35.800 --> 00:12:41.052\nAnd then the last eight bits here,\nthese zeros that represent the host's ID.\n\n241\n00:12:41.052 --> 00:12:43.550\nAnd that's where our computers are, right?\n\n242\n00:12:43.550 --> 00:12:46.673\nThat would be like the 6 9 3 3 for\nour building, that's the host's ID.\n\n243\n00:12:46.673 --> 00:12:48.690\nSo that's what a subnet mask does.\n\n244\n00:12:48.690 --> 00:12:51.780\nIt tells us where the network stops and\nwhere the hosts ID start.\n\n245\n00:12:52.810 --> 00:12:56.990\nNow we didn't actually have\nthose in the early days of IP.\n\n246\n00:12:56.990 --> 00:13:01.640\nIn the early days of IP,\nwe followed a classful system.\n\n247\n00:13:01.640 --> 00:13:06.180\nAnd the classful system, it was\ndesigned to help and avoid things like\n\n248\n00:13:06.180 --> 00:13:10.295\nsubnet masks, but in the end, it caused\nsome kinda unique problems of its own.\n\n249\n00:13:10.295 --> 00:13:13.095\nThe classful system was this.\n\n250\n00:13:13.095 --> 00:13:15.385\nYou had Class A addresses.\n\n251\n00:13:15.385 --> 00:13:19.066\nThey used a subset mass of 255.0.0.0,\nall right?\n\n252\n00:13:19.066 --> 00:13:23.995\nThat meant that the first eight bits or\nthe first octet was the network ID and\n\n253\n00:13:23.995 --> 00:13:28.905\nthe all of the remaining 24 bits\nwere all part of the host ID.\n\n254\n00:13:28.905 --> 00:13:33.178\nClass Bs use 255.255.0.0 which\nmeant it split it in half.\n\n255\n00:13:33.178 --> 00:13:37.530\nThe first 16 bits were for the network ID,\nthe last 16 bits were for the host ID.\n\n256\n00:13:37.530 --> 00:13:41.080\nAnd then, Class C, these are what we\nsee most commonly, are 255.255.255.0,\n\n257\n00:13:41.080 --> 00:13:48.055\nthe first 24 bits are the network ID and\nthe last eight bits are the host ID.\n\n258\n00:13:48.055 --> 00:13:51.845\nEach of these create a network\nthat provides bits for hosts.\n\n259\n00:13:51.845 --> 00:13:53.655\nThe difference is, how many bits?\n\n260\n00:13:53.655 --> 00:13:59.640\nIn a Class A, you could actually\nhave 16.7 million IP addresses.\n\n261\n00:13:59.640 --> 00:14:03.676\nSo if you had a network of 16 million\ncomputers they could all fit in one\n\n262\n00:14:03.676 --> 00:14:04.225\nClass A.\n\n263\n00:14:04.225 --> 00:14:05.610\nBut who has a network of\n16 million computers?\n\n264\n00:14:05.610 --> 00:14:06.402\n>> I do.\n\n265\n00:14:06.402 --> 00:14:07.771\n[LAUGH].\n\n266\n00:14:07.771 --> 00:14:08.598\n>> Just fired it up last night.\n\n267\n00:14:08.598 --> 00:14:10.527\n>> Been taking over everything [LAUGH].\n\n268\n00:14:10.527 --> 00:14:12.322\n>> Is that for\nyour international spyware campaign?\n\n269\n00:14:12.322 --> 00:14:13.656\n>> That's exactly right.\n\n270\n00:14:13.656 --> 00:14:14.552\n>> And Bitcoin mining.\n\n271\n00:14:14.552 --> 00:14:15.896\n>> It's not easy to spam people, okay,\n\n272\n00:14:15.896 --> 00:14:17.730\nyou gotta take control\nof some stuff out there.\n\n273\n00:14:17.730 --> 00:14:19.297\n>> Somebody's gotta do it.\n\n274\n00:14:19.297 --> 00:14:25.570\nSo if we don't have a network that big\nthough, you can get a Class B, 65,000 IPs.\n\n275\n00:14:25.570 --> 00:14:27.510\nOr you can get a Class C, 250 IPs.\n\n276\n00:14:27.510 --> 00:14:29.177\nI'm doing approximate\nnumbers when I say it.\n\n277\n00:14:29.177 --> 00:14:32.230\nI've got the actual numbers\nwritten here on the screen.\n\n278\n00:14:32.230 --> 00:14:35.810\nBut what that meant was the smallest\nnetwork you could get was 250 IPs.\n\n279\n00:14:35.810 --> 00:14:38.260\nIf I needed five IPs, I'd need 250.\n\n280\n00:14:38.260 --> 00:14:41.900\nAnd that was the real problem with the old\nclassful system, it was very wasteful.\n\n281\n00:14:43.270 --> 00:14:48.830\nThe other problem with the classful system\nwas the way they identified the networks.\n\n282\n00:14:48.830 --> 00:14:52.166\nBasically, how did you know if you\nwere Class A, Class B, or Class C?\n\n283\n00:14:52.166 --> 00:14:54.336\nWell, if I had the subnet mask,\nit's written right there, I know.\n\n284\n00:14:54.336 --> 00:14:56.409\nI can look at the subnet mask and\nI know it.\n\n285\n00:14:56.409 --> 00:15:02.770\nBut, they also tied it to what\nnumber was in the first octet.\n\n286\n00:15:02.770 --> 00:15:07.239\nAnd the numbers divided up like this, so\n\n287\n00:15:07.239 --> 00:15:13.036\nthat we had Class As\nstarted with 1 through 126.\n\n288\n00:15:13.036 --> 00:15:18.000\nSo if the very first octet was 1\nthrough 126 you knew it was a Class A.\n\n289\n00:15:18.000 --> 00:15:20.670\nWell, that means there's\nonly 126 Class As out there.\n\n290\n00:15:21.720 --> 00:15:26.333\nAnd they were issuing them,\nApple has a class A, Ford has a class A.\n\n291\n00:15:26.333 --> 00:15:28.840\nThey're sitting on 16 million IPs.\n\n292\n00:15:28.840 --> 00:15:31.180\nNow does Apple need 16 million IPs?\n\n293\n00:15:31.180 --> 00:15:33.930\nNo, there's actually a lot of people\nputting pressure on them to return it and\n\n294\n00:15:33.930 --> 00:15:35.600\nthey're not doing it.\n\n295\n00:15:35.600 --> 00:15:38.330\nFord is sitting on those 16 million IPs.\n\n296\n00:15:38.330 --> 00:15:41.550\nFord has offered to return it and\nthe IANA is saying, you know,\n\n297\n00:15:41.550 --> 00:15:43.220\nyeah we'll take it from\nyou when we're ready.\n\n298\n00:15:43.220 --> 00:15:45.820\nSo some companies are being\na little more gracious than others.\n\n299\n00:15:45.820 --> 00:15:48.809\nBut the reason they got those,\nwas back then, back in the 80's,\n\n300\n00:15:48.809 --> 00:15:50.656\nthose were forward thinking companies.\n\n301\n00:15:50.656 --> 00:15:55.334\nApple said, what if one day every time\nwe sell an Apple we wanna include an IP\n\n302\n00:15:55.334 --> 00:15:56.550\naddress with it.\n\n303\n00:15:56.550 --> 00:15:58.380\nCould Apple sell 16 million machines?\n\n304\n00:15:58.380 --> 00:16:01.791\nAbsolutely, I'm sure they sell more\nthan 16 million iPhones, right?\n\n305\n00:16:01.791 --> 00:16:04.298\nSo that's not a big deal at all.\n\n306\n00:16:04.298 --> 00:16:08.118\nFord, what if every truck we sell\nwe want to include an IP with it?\n\n307\n00:16:08.118 --> 00:16:11.030\nCould they sell more\nthan 16 million trucks?\n\n308\n00:16:11.030 --> 00:16:12.720\nI'm sure they already have, right?\n\n309\n00:16:12.720 --> 00:16:16.270\nSo, those were realistic\nexpectations back then.\n\n310\n00:16:16.270 --> 00:16:20.070\nBut these days, people recognize\nthat we have an IP shortage.\n\n311\n00:16:20.070 --> 00:16:21.700\nWe're running out of addresses.\n\n312\n00:16:21.700 --> 00:16:26.926\nThe IPv4 space,\nthe entire IPv4 space gives\n\n313\n00:16:26.926 --> 00:16:31.629\nus approximately 4.3 billion IP's.\n\n314\n00:16:31.629 --> 00:16:33.560\n4.3 billion.\n\n315\n00:16:33.560 --> 00:16:35.710\nNow, this stuff was all\ncreated back in the 1970's and\n\n316\n00:16:35.710 --> 00:16:39.680\n1980's, and back then, the world\npopulation was around 4.3 billion.\n\n317\n00:16:39.680 --> 00:16:43.735\nAnd they said, man, this is like one\nIP for every single user on the planet,\n\n318\n00:16:43.735 --> 00:16:44.980\nthat's more than enough.\n\n319\n00:16:46.760 --> 00:16:49.870\nBack then, computers were big,\ncomputers were expensive.\n\n320\n00:16:49.870 --> 00:16:55.100\nThey didn't envision a time where you\ncould have a laptop as small as mine and\n\n321\n00:16:55.100 --> 00:16:56.930\nit be portable and functional and\n\n322\n00:16:56.930 --> 00:17:00.460\ndo everything that these bigger main\nframe type computers were doing.\n\n323\n00:17:00.460 --> 00:17:03.860\nThey didn't envision a time where\none person needed not one IP, but\n\n324\n00:17:03.860 --> 00:17:08.850\nmultiple laptop, cellphone,\nApple Watch, whatever crazy devices it\n\n325\n00:17:08.850 --> 00:17:12.770\nis that you have, all eating up IP's,\nthey didn't envision that.\n\n326\n00:17:12.770 --> 00:17:18.220\nWell, now here we are in 2015 where\nthe world's population is over 6 billion.\n\n327\n00:17:18.220 --> 00:17:20.390\nSo now there's not even enough IPs for\neverybody to have one.\n\n328\n00:17:20.390 --> 00:17:24.730\nAnd then you got people like me that are\nhogging five, ten IP's on any given day.\n\n329\n00:17:24.730 --> 00:17:28.420\nSo, they had to basically\nfind ways to get around this.\n\n330\n00:17:28.420 --> 00:17:31.340\nAnd, so, one way they did it was\nthey abandoned the classful systems.\n\n331\n00:17:31.340 --> 00:17:33.360\nThey said, we're not gonna\nfollow the classes anymore.\n\n332\n00:17:33.360 --> 00:17:36.140\nThe first octet,\nthat first number, doesn't matter.\n\n333\n00:17:36.140 --> 00:17:39.510\nIt doesn't matter if it starts with a 1,\nit could be a class C, right?\n\n334\n00:17:39.510 --> 00:17:41.880\nEven though a 1 used to\nbe defined to a class A.\n\n335\n00:17:41.880 --> 00:17:43.630\nSo now that subnet mask\nis really important.\n\n336\n00:17:43.630 --> 00:17:45.380\nSo whenever you get an IP address,\n\n337\n00:17:45.380 --> 00:17:47.970\nit's almost always coupled\nwith the subnet mask.\n\n338\n00:17:47.970 --> 00:17:48.950\nIt's really important, right?\n\n339\n00:17:48.950 --> 00:17:50.740\nCuz that's the only way we know.\n\n340\n00:17:50.740 --> 00:17:56.155\nAnd then the other thing is,\na lot of us don't use real public IP's.\n\n341\n00:17:56.155 --> 00:18:01.675\nIf you look at these ranges that I've got\nlisted here, they span a pretty big gap.\n\n342\n00:18:01.675 --> 00:18:06.065\nThere's only one real gap in here,\n127 is missing, right?\n\n343\n00:18:06.065 --> 00:18:07.725\nThat's used for loop back addresses,\n\n344\n00:18:07.725 --> 00:18:10.735\nthat's how we kind of reference our\nself for testing and diagnostics.\n\n345\n00:18:10.735 --> 00:18:12.531\nBut everything else is pretty inclusive.\n\n346\n00:18:12.531 --> 00:18:16.742\nThere's actually little gaps in here for\nwhat are called private IP's, and\n\n347\n00:18:16.742 --> 00:18:20.430\nI've got those listed here,\nlet me just bring those up.\n\n348\n00:18:20.430 --> 00:18:21.860\nThese are the private IP's.\n\n349\n00:18:21.860 --> 00:18:27.170\nThere was a IEEE RFC 1918 that defined\ncertain ranges you could use internally\n\n350\n00:18:27.170 --> 00:18:28.510\nthat were private.\n\n351\n00:18:28.510 --> 00:18:31.010\nYou didn't have to register them on the\nInternet, they didn't have to be unique\n\n352\n00:18:31.010 --> 00:18:34.170\nacross the world, you could use them,\nthey just can't go on the Internet.\n\n353\n00:18:34.170 --> 00:18:35.870\nThey're not allowed to go on the Internet.\n\n354\n00:18:35.870 --> 00:18:37.320\nWell, that's fine for most of us.\n\n355\n00:18:37.320 --> 00:18:41.670\nThink about like my home, at home I've\ngot you know a couple laptops, Rokus,\n\n356\n00:18:41.670 --> 00:18:43.270\nthings like that,\nyou know different devices.\n\n357\n00:18:43.270 --> 00:18:44.920\nThey all need Internet access.\n\n358\n00:18:44.920 --> 00:18:48.180\nI give them all fake IP's, and\nthen they hit my router or\n\n359\n00:18:48.180 --> 00:18:50.920\nmy firewall and\nit does address translation.\n\n360\n00:18:50.920 --> 00:18:54.890\nAnd they all share one public IP\non the way out to the Internet.\n\n361\n00:18:54.890 --> 00:18:56.200\nThat's what most of us do, right.\n\n362\n00:18:56.200 --> 00:18:59.660\nIt's good, good address utilization there.\n\n363\n00:18:59.660 --> 00:19:03.380\nBut those addresses that were set aside,\nthey set aside one class A,\n\n364\n00:19:03.380 --> 00:19:04.710\nthe ten dot class A.\n\n365\n00:19:04.710 --> 00:19:06.000\nThat one you can use internally,\n\n366\n00:19:06.000 --> 00:19:10.640\nto your heart's content,\nit just can't go on the Internet.\n\n367\n00:19:10.640 --> 00:19:14.392\nFor class B's,\n172.16 is the most common class B, but\n\n368\n00:19:14.392 --> 00:19:18.233\nit's really 172.16 all\nthe way through 172.31.\n\n369\n00:19:18.233 --> 00:19:20.836\nThey actually set aside\n16 of these class B's.\n\n370\n00:19:20.836 --> 00:19:24.182\nThen 192.168.0.\n\n371\n00:19:24.182 --> 00:19:28.345\nThat's the most common\nclass C that we see.\n\n372\n00:19:28.345 --> 00:19:31.750\n[LAUGH] But\nthat's my sad humor of the day.\n\n373\n00:19:31.750 --> 00:19:32.335\n>> Yeah.\n\n374\n00:19:32.335 --> 00:19:32.879\n[LAUGH]\n>> But\n\n375\n00:19:32.879 --> 00:19:35.630\nit's really 192.168.0 all\nthe way through 192.168.255.\n\n376\n00:19:35.630 --> 00:19:40.860\nThey actually set aside\n256 of these class Cs.\n\n377\n00:19:40.860 --> 00:19:42.800\nFor you to use privately\non your own networks.\n\n378\n00:19:42.800 --> 00:19:47.660\nSo these are private, you can use them and\nthen just translate to a public IP when\n\n379\n00:19:47.660 --> 00:19:49.940\nyou go out to the Internet, and\nthat's what a lot of people do.\n\n380\n00:19:49.940 --> 00:19:51.510\nSo when you're setting up\nyour internal network,\n\n381\n00:19:51.510 --> 00:19:55.070\nyou're probably gonna see IPs in this\nrange, and that just means your router's\n\n382\n00:19:55.070 --> 00:19:57.590\ngonna have to do a little extra work\nto send them out on the internet.\n\n383\n00:19:57.590 --> 00:20:00.130\nIf you're using some of\nthese other public ranges,\n\n384\n00:20:00.130 --> 00:20:02.510\nyou can go out to the Internet\nwithout having to get translated.\n\n385\n00:20:02.510 --> 00:20:05.880\nYou still have to go through a router but\nyou won't have to get translated.\n\n386\n00:20:05.880 --> 00:20:09.540\nSo, those are kind of how the IP addresses\nbreak down and when we assign them that's\n\n387\n00:20:09.540 --> 00:20:13.940\nkind of the importance of those\nsubnet masks and what they do.\n\n388\n00:20:13.940 --> 00:20:16.230\nIf I'm given a couple of machines,\n\n389\n00:20:17.280 --> 00:20:22.662\nlike this And I'm looking at them, and\n\n390\n00:20:22.662 --> 00:20:28.650\ntrying to figure out whether I would have\nto pass through a router or not, right?\n\n391\n00:20:28.650 --> 00:20:33.190\nSome of these are really easy to tell.\n\n392\n00:20:33.190 --> 00:20:36.920\nIf I look at these guys, and I say,\nare these guys on the same network?\n\n393\n00:20:36.920 --> 00:20:39.520\nWell, it's kinda hard to say\nwithout a subnet mask anymore\n\n394\n00:20:39.520 --> 00:20:43.430\nbecause the rules kinda get bent,\nthings kinda change and we're not sure.\n\n395\n00:20:43.430 --> 00:20:43.970\nRight?\n\n396\n00:20:43.970 --> 00:20:47.170\nSo, like if I, let me just add\none more on this list here.\n\n397\n00:20:47.170 --> 00:20:49.252\nThere, like that guy.\n\n398\n00:20:49.252 --> 00:20:50.220\nOkay.\n\n399\n00:20:50.220 --> 00:20:55.020\nIf i were to tell you the subnet mask\nwas 255.255.255.0, that tells you\n\n400\n00:20:55.020 --> 00:20:59.070\nthose first three octets are part of\nthe network ID and not the host ID.\n\n401\n00:20:59.070 --> 00:21:02.720\nSo, anybody whose first three octets\nmatch will be on the same network.\n\n402\n00:21:02.720 --> 00:21:05.270\nThis first guy matches the third guy.\n\n403\n00:21:05.270 --> 00:21:06.740\nThey match, they're on the same network,\n\n404\n00:21:06.740 --> 00:21:08.330\nthey can talk without\ngoing through a router.\n\n405\n00:21:08.330 --> 00:21:09.550\nEverybody else,\n\n406\n00:21:09.550 --> 00:21:13.830\ntheir first three octets don't match,\nthey're on different networks.\n\n407\n00:21:13.830 --> 00:21:19.168\nBut if I change that subnet\nmask to a class A subnet mask.\n\n408\n00:21:19.168 --> 00:21:22.370\nNow anybody whose first octet matches, and\n\n409\n00:21:22.370 --> 00:21:25.030\nyou'll see i've got four\nguys who all start with 192.\n\n410\n00:21:25.030 --> 00:21:27.560\nThey're now all on the same network and\n\n411\n00:21:27.560 --> 00:21:30.200\nonly this guy is on a separate\nnetwork that's out there.\n\n412\n00:21:30.200 --> 00:21:33.240\nSo, that subnet mask\nis basically dictating\n\n413\n00:21:33.240 --> 00:21:35.290\nwhen you go to your router and\nwhen you dont.\n\n414\n00:21:36.410 --> 00:21:39.710\nNow, there's a heck of a lot more to\nhow these addresses are built up and\n\n415\n00:21:39.710 --> 00:21:40.590\nyou can create.\n\n416\n00:21:40.590 --> 00:21:44.090\nVariable lengths of that masks and\nall sorts of non-standard stuff.\n\n417\n00:21:44.090 --> 00:21:45.310\nIt's very powerful.\n\n418\n00:21:45.310 --> 00:21:46.290\nIf you wanna check that out,\n\n419\n00:21:46.290 --> 00:21:49.150\nI encourage you to jump over\nto the Network Plus videos.\n\n420\n00:21:49.150 --> 00:21:52.630\nWhere we go in depth, I need to do like\na whole four part series on it and\n\n421\n00:21:52.630 --> 00:21:55.720\nall the different ways you can subnet and\nbreak addresses down.\n\n422\n00:21:55.720 --> 00:21:59.220\nBut for our basic Linux knowledge,\nthese are the pieces that we need.\n\n423\n00:21:59.220 --> 00:22:01.590\nWhen I go to set up a network\ncard on my Linux box,\n\n424\n00:22:01.590 --> 00:22:06.350\nI need to give it an IP address, a subnet\nmask, and probably a default gateway.\n\n425\n00:22:06.350 --> 00:22:07.480\nAnd that default gateway,\n\n426\n00:22:07.480 --> 00:22:11.170\nthat's the router you'll use when you want\nto get to somebody on a different network.\n\n427\n00:22:11.170 --> 00:22:14.000\nYou need those three pieces of\ninformation to get things going.\n\n428\n00:22:15.400 --> 00:22:19.720\nNow, before we wrap up this episode I\nwant to hit one more thing which is ipv6.\n\n429\n00:22:19.720 --> 00:22:21.530\nIpv6 is the replacement for ipv4.\n\n430\n00:22:21.530 --> 00:22:24.790\nIt was actually created about 15 years ago\n\n431\n00:22:24.790 --> 00:22:28.290\nwhen people realized that we\nwere gonna run out of IP's soon.\n\n432\n00:22:28.290 --> 00:22:31.650\nBut, it just didn't really catch on,\nand the major reason for\n\n433\n00:22:31.650 --> 00:22:33.140\nthat is the .com boom.\n\n434\n00:22:33.140 --> 00:22:34.470\nDaniel, do you remember the .com boom?\n\n435\n00:22:34.470 --> 00:22:37.820\n>> Oh yea, I was alive,\nI think I was probably about 12 or\n\n436\n00:22:37.820 --> 00:22:39.780\n13 when that happened.\n\n437\n00:22:39.780 --> 00:22:43.120\nIt was a big deal, and they started\neating up a lot of IP addresses.\n\n438\n00:22:43.120 --> 00:22:48.410\n>> Yeah, you had a ton of companies\nthat were worthless, like Pets.com.\n\n439\n00:22:48.410 --> 00:22:50.756\nThere were some like Amazon.com that\ncame out of it and made it, but\n\n440\n00:22:50.756 --> 00:22:53.395\nthe majority of them were\nsites that were kinda silly.\n\n441\n00:22:53.395 --> 00:22:57.145\nBut investors were dumping millions and\nbillions of dollars in these companies,\n\n442\n00:22:57.145 --> 00:22:59.315\ncuz they thought the Internet was\ngonna be the next great thing.\n\n443\n00:22:59.315 --> 00:23:02.365\nBut they kinda lost sight of the fact\nthat these companies really didn't have\n\n444\n00:23:02.365 --> 00:23:06.425\ntangible assets and their valuations were\ntoo high, and it all bottomed out, right?\n\n445\n00:23:06.425 --> 00:23:08.155\nWell during that time,\nall the millions and\n\n446\n00:23:08.155 --> 00:23:11.390\nbillions that were being\npumped into pets.com.\n\n447\n00:23:11.390 --> 00:23:12.240\nThey were turning around and\n\n448\n00:23:12.240 --> 00:23:15.530\ninvesting that in IPv4 infrastructure,\ntons of money.\n\n449\n00:23:15.530 --> 00:23:17.450\nAnd then they all went bankrupt.\n\n450\n00:23:17.450 --> 00:23:20.990\nAnd so now you had IPv4 infrastructure,\nrouters, switches firewalls,\n\n451\n00:23:20.990 --> 00:23:23.790\nall this stuff that was\nwell beyond what we needed.\n\n452\n00:23:23.790 --> 00:23:27.551\nFor years, for a good six year period,\ncompanies like Cisco and Juniper,\n\n453\n00:23:27.551 --> 00:23:31.207\nthey were in real trouble because\npeople weren't buying more routers.\n\n454\n00:23:31.207 --> 00:23:34.630\nBecause there was this huge glut\nthat happened in the 2000's.\n\n455\n00:23:34.630 --> 00:23:39.440\nOr 1999-2000.\nSo, that made IPv4 a lot more\n\n456\n00:23:39.440 --> 00:23:44.180\npermanent, and so while people\nsaid yea IPv6 is coming along,\n\n457\n00:23:44.180 --> 00:23:47.170\nbut we just invested in all this stuff.\n\n458\n00:23:47.170 --> 00:23:49.710\nThese companies all went bankrupt,\nlet's do it later.\n\n459\n00:23:49.710 --> 00:23:53.331\nSo over the years, IPv6 hasn't\njust sat their and got stagnant.\n\n460\n00:23:53.331 --> 00:23:56.119\nInstead they've added more features\nto it and more features to it and\n\n461\n00:23:56.119 --> 00:23:57.283\nnow it's really powerful.\n\n462\n00:23:57.283 --> 00:24:02.110\nWhen IPv6 was created it only had one\ngoal, fix the address space issue.\n\n463\n00:24:02.110 --> 00:24:08.314\nIPv4 uses a 32-bit address,\nthat gives us roughly 4.3 billion IPs.\n\n464\n00:24:08.314 --> 00:24:13.680\nIPv6 uses a 128-bit address,\nfour times the size.\n\n465\n00:24:13.680 --> 00:24:16.500\nNow, because of the way\nthe binary bits work,\n\n466\n00:24:16.500 --> 00:24:18.880\nit's not just four times 4.3 billion,\nright?\n\n467\n00:24:18.880 --> 00:24:23.410\nIt's actually way more, it's a number so\nbig that I can't even wrap my mind in.\n\n468\n00:24:23.410 --> 00:24:26.240\nIt's like a, I don't know,\na Google plex or\n\n469\n00:24:26.240 --> 00:24:29.940\nsome crazy giant number like that that\nwe just don't fathom as human beings.\n\n470\n00:24:29.940 --> 00:24:32.830\nSo to put in perspective,\non the planet Earth right now,\n\n471\n00:24:32.830 --> 00:24:34.170\nthere's six billion people.\n\n472\n00:24:34.170 --> 00:24:35.710\nRoughly six billion.\n\n473\n00:24:35.710 --> 00:24:37.080\nThe IPv6 address space is so\n\n474\n00:24:37.080 --> 00:24:42.460\nlarge that every one of those\npeople could have 4.3 billion IPs.\n\n475\n00:24:42.460 --> 00:24:44.300\nAnd we still wouldn't be out.\n\n476\n00:24:44.300 --> 00:24:47.700\nThat's how big this address space is,\nit is massive.\n\n477\n00:24:47.700 --> 00:24:50.560\nAnd that was the primary goal,\nwhen IPv6 was first announced that's all\n\n478\n00:24:50.560 --> 00:24:54.230\nit did just changed the addresses,\neverything else worked exactly the same.\n\n479\n00:24:54.230 --> 00:24:57.640\nBut since then they've been pumping\nnew features into it over and\n\n480\n00:24:57.640 --> 00:24:58.380\nover and over again.\n\n481\n00:24:58.380 --> 00:25:03.470\nMore and more and more are getting\nadded in things like integrated quality\n\n482\n00:25:03.470 --> 00:25:09.290\nof service, integrated encryption and\nIP sec, security, tunnelling.\n\n483\n00:25:09.290 --> 00:25:11.870\nIntegrated IP mobility.\n\n484\n00:25:11.870 --> 00:25:15.420\nI can have an IPv6 address and\nI can be on my network at home and\n\n485\n00:25:15.420 --> 00:25:18.310\nthen I can hop in my car and\nswitch over to my mobile network.\n\n486\n00:25:18.310 --> 00:25:20.800\nI can drive to work and\nhop on the wireless network here, and\n\n487\n00:25:20.800 --> 00:25:24.900\nmaintain the same IP address the whole\ntime, meanwhile my video that\n\n488\n00:25:24.900 --> 00:25:29.450\nI'm playing streams along just fine as I\ncross each of those network boundaries.\n\n489\n00:25:29.450 --> 00:25:32.670\nIP v6 does some really really cool stuff.\n\n490\n00:25:32.670 --> 00:25:35.040\nSo, we want to get on to IPv6.\n\n491\n00:25:35.040 --> 00:25:37.760\nEverybody out there should\nbe working to get onto IPv6.\n\n492\n00:25:37.760 --> 00:25:40.730\nThe problem is there's a lot\nof hold offs right now.\n\n493\n00:25:40.730 --> 00:25:44.570\nSo for example I could convert this\nwhole studio to IPv6 right now but\n\n494\n00:25:44.570 --> 00:25:47.100\nour Internet service\nprovider doesn't support it.\n\n495\n00:25:47.100 --> 00:25:49.292\nSo I can't get to the Internet on IPv6.\n\n496\n00:25:49.292 --> 00:25:51.540\nI'd be stuck right here\ninside of this network.\n\n497\n00:25:51.540 --> 00:25:53.570\nSo most people deploy it in tandem.\n\n498\n00:25:53.570 --> 00:25:55.770\nYou run both IPv4 and IPv6.\n\n499\n00:25:55.770 --> 00:25:58.330\nYou see a lot of systems that do that\n\n500\n00:25:58.330 --> 00:26:01.220\nbecause they're trying to\nmake that migration happen.\n\n501\n00:26:01.220 --> 00:26:03.380\nThings are kind of moving\nin that direction.\n\n502\n00:26:03.380 --> 00:26:06.770\nSo it's not uncommon when you go and pull\nup a network configuration on a system,\n\n503\n00:26:06.770 --> 00:26:12.110\nlike I'm looking at mine here, where you\nmight see that you have an IPv4 address\n\n504\n00:26:12.110 --> 00:26:18.910\nlike this one side by side with an IPv6\naddress like this one, all right.\n\n505\n00:26:18.910 --> 00:26:23.860\nAnd notice the IPv6 address is written\nin hexadecimal, 128 bits is such a big\n\n506\n00:26:23.860 --> 00:26:27.600\nnumber that they switched to hexadecimal\nto make it a little smaller and\n\n507\n00:26:27.600 --> 00:26:29.700\nmore manageable and\neven then it's still long.\n\n508\n00:26:29.700 --> 00:26:33.597\nYou're not gonna memorize IPv6 addresses,\nthese aren't ten digit phone numbers.\n\n509\n00:26:33.597 --> 00:26:36.960\nYou're gonna use DNS servers.\n\n510\n00:26:36.960 --> 00:26:37.840\nSo that's IPv6.\n\n511\n00:26:37.840 --> 00:26:40.210\nIt is coming, you are gonna see it more.\n\n512\n00:26:40.210 --> 00:26:44.180\nA lot of IPv6 has auto configured those so\nwe don't have to mess with it much, but\n\n513\n00:26:44.180 --> 00:26:46.642\nit is something to be aware of.\n\n514\n00:26:46.642 --> 00:26:50.330\n>> That IPv4 is just so entrenched,\nit's hard to get out of that game,\n\n515\n00:26:50.330 --> 00:26:52.600\nwe've just relied on it for so long.\n\n516\n00:26:52.600 --> 00:26:56.250\nLike Don said, there's so many routers and\nswitches and everything that rely on that\n\n517\n00:26:56.250 --> 00:27:00.600\nprotocol, it's gonna be, I always say, yea\nIPv6 it's coming right around the corner,\n\n518\n00:27:00.600 --> 00:27:04.430\nit's just a very large and winding corner.\n\n519\n00:27:04.430 --> 00:27:05.920\nIt's just taking some time.\n\n520\n00:27:05.920 --> 00:27:06.700\n>> Yep, it'll be a while.\n\n521\n00:27:06.700 --> 00:27:09.920\nBut we'll get there,\nI'm looking forward to it.\n\n522\n00:27:09.920 --> 00:27:12.290\nI know, like I use IPv6 in my own home.\n\n523\n00:27:12.290 --> 00:27:15.520\nBut my ISP at home doesn't\nsupport it either, and so\n\n524\n00:27:15.520 --> 00:27:17.680\nit's kind of one of those\nthings where you get stuck.\n\n525\n00:27:17.680 --> 00:27:21.370\nBut, all right, well we spent\nthis episode talking about IP,\n\n526\n00:27:21.370 --> 00:27:24.090\nwe need to talk about TCP also.\n\n527\n00:27:24.090 --> 00:27:27.760\nSo we're gonna get a chance to see that\nin the exciting conclusion to this two\n\n528\n00:27:27.760 --> 00:27:30.120\npart series on TCP/IP.\n\n529\n00:27:30.120 --> 00:27:32.060\nKeep in mind we kept\nthis fairly high level,\n\n530\n00:27:32.060 --> 00:27:34.760\nbasic information,\nwhat you need to know for the exam.\n\n531\n00:27:34.760 --> 00:27:37.090\nIn real life land there\nis a lot more to know and\n\n532\n00:27:37.090 --> 00:27:40.260\nI do encourage you to check out those\nnetwork plus videos, it's all in there.\n\n533\n00:27:40.260 --> 00:27:43.910\nBut even if you don't, we've covered\nreally what you need to know for the exam.\n\n534\n00:27:43.910 --> 00:27:44.410\n>> Awesome.\n\n535\n00:27:44.410 --> 00:27:45.220\nGreat stuff, Don.\n\n536\n00:27:45.220 --> 00:27:49.840\nWe really appreciate a really well thought\nout and a very well delivered presentation\n\n537\n00:27:49.840 --> 00:27:54.450\non IPv4, it's something that tends to\nbe a little bit of a mystery to a lot\n\n538\n00:27:54.450 --> 00:27:58.490\nof people, especially if you're new to it,\nit can seem a little daunting.\n\n539\n00:27:58.490 --> 00:28:02.100\nBut as you understand what a host\naddress is, and what a network is, and\n\n540\n00:28:02.100 --> 00:28:05.960\nyou can see the difference between\nthe two, that's really the key of it all.\n\n541\n00:28:05.960 --> 00:28:08.130\nWell I'm on this street, and\nthis is my house number,\n\n542\n00:28:08.130 --> 00:28:09.730\nkinda like what Don was\ntalking about earlier.\n\n543\n00:28:09.730 --> 00:28:11.450\nThat's what you need to know about IPv4.\n\n544\n00:28:11.450 --> 00:28:16.980\nAnd what it is so when you go to actually\nset that up on your system itself\n\n545\n00:28:16.980 --> 00:28:19.780\nit'll actually start talking and things\ncan work and you don't have duplicates and\n\n546\n00:28:19.780 --> 00:28:20.540\nthings like that.\n\n547\n00:28:20.540 --> 00:28:22.540\nEverything works as necessary.\n\n548\n00:28:22.540 --> 00:28:25.650\nThat being said I guess we've actually\nwrapped this episode up Don and\n\n549\n00:28:25.650 --> 00:28:28.435\nhopefully you guys stick around and\nwatch part two that's good stuff as well.\n\n550\n00:28:28.435 --> 00:28:31.985\nBut that being said it's time\nto sign off for ITProTV.\n\n551\n00:28:31.985 --> 00:28:33.469\nI've been your host Daniel Lowrie.\n\n552\n00:28:33.469 --> 00:28:34.454\n>> And I'm Don Pezet.\n\n553\n00:28:34.454 --> 00:28:35.535\n>> And we'll see you next time.\n\n554\n00:28:35.535 --> 00:28:41.620\n[MUSIC]\n\n",
          "vimeoId": "131871104"
        },
        {
          "description": "TCP/IP Networking Part 2 is the updated episode to the original Understanding TCP/IP Part 2. In this episode, Daniel and Don continue looking at TCP/IP networking in Linux. They begin by explaining the Transmission Control Protocol and how it is used to deliver data over the network. Then they show you how to use some of the built-in systems, like netstat, to see these connections. Finally they talk about the concepts and uses of TCP/UDP ports; giving you a list of common ports that you'll need to know for the exam.",
          "length": "1756",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-1-8-2-tcpip_networking_pt2-012716-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-1-understanding-tcpip_pt2-062415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-1-understanding-tcpip_pt2-062415-1-sm.jpg",
          "title": "Understanding TCP/IP Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.208 --> 00:00:17.375\nAll right, greetings everyone and welcome\nto another exciting episode of ITProTV.\n\n3\n00:00:17.375 --> 00:00:18.685\nI'm your host, Daniel Lowrie.\n\n4\n00:00:18.685 --> 00:00:22.695\nAnd in today's episode, well we're still\ntaking a look at our Linux+ objectives.\n\n5\n00:00:22.695 --> 00:00:26.629\nJoining me back in the studio today is\nnone other than our good friend Mr.\n\n6\n00:00:26.629 --> 00:00:27.257\nDon Pezet.\n\n7\n00:00:27.257 --> 00:00:28.207\nDon, welcome back to the show.\n\n8\n00:00:28.207 --> 00:00:29.137\nHow are you doing today sir?\n\n9\n00:00:29.137 --> 00:00:30.017\n>> I'm doing great Daniel.\n\n10\n00:00:30.017 --> 00:00:30.997\nThanks for having me back, and\n\n11\n00:00:30.997 --> 00:00:34.797\nwe're ready to jump right back into\nthe world of TCP IP networking.\n\n12\n00:00:34.797 --> 00:00:36.477\nNow, this is part two.\n\n13\n00:00:36.477 --> 00:00:41.127\nIn our last episode we got a chance to\nsee IP addressing and subnetting and\n\n14\n00:00:41.127 --> 00:00:45.300\nhow kind of the layer three\naspect of IP addressing works.\n\n15\n00:00:45.300 --> 00:00:48.470\nIn this episode we're gonna take\na look at the TCP side of things.\n\n16\n00:00:48.470 --> 00:00:50.650\nIt is TCP IP, the two work together.\n\n17\n00:00:50.650 --> 00:00:52.570\nWe're gonna see that second part.\n\n18\n00:00:52.570 --> 00:00:55.710\nAnd some of the different things that go\non in the background that most of us don't\n\n19\n00:00:55.710 --> 00:00:59.180\nworry about but we do need to be aware of\ncuz they're pretty handy when it comes to\n\n20\n00:00:59.180 --> 00:01:02.160\ntroubleshooting, testing, and\nevaluating the function of a machine.\n\n21\n00:01:02.160 --> 00:01:05.420\nSo that's what we're gonna be taking\na look at here, good old TCP.\n\n22\n00:01:05.420 --> 00:01:10.344\n>> Yeah, now we're talking TCP here, so\nI guess a good thing to start with, Don,\n\n23\n00:01:10.344 --> 00:01:12.195\nwould be what the heck is TCP?\n\n24\n00:01:12.195 --> 00:01:15.194\nGive me some of the foundational\nunderstanding so that,\n\n25\n00:01:15.194 --> 00:01:19.400\nas we move through this particular\nepisode, we are all on the same page.\n\n26\n00:01:19.400 --> 00:01:22.880\n>> All right, so\nTCP is the Transmission Control Protocol.\n\n27\n00:01:22.880 --> 00:01:27.950\nWhen you reach out to a web server, or\nan FTP server or something like that,\n\n28\n00:01:27.950 --> 00:01:31.110\nyour computer is talking to\na server somewhere in the world.\n\n29\n00:01:31.110 --> 00:01:34.400\nAnd the IP address,\nwhat we talked about in the last episode,\n\n30\n00:01:34.400 --> 00:01:37.650\nit is really important because that's\nhow we find the server, right.\n\n31\n00:01:37.650 --> 00:01:41.970\nSo I want to go to www.google.com.\n\n32\n00:01:41.970 --> 00:01:43.030\nI need to find the server.\n\n33\n00:01:43.030 --> 00:01:46.560\nI do a DNS lookup first, right,\nI get the name converted it to an IP.\n\n34\n00:01:46.560 --> 00:01:48.250\nNow I've got an IP address.\n\n35\n00:01:48.250 --> 00:01:49.890\nHow do I get to the IP?\n\n36\n00:01:49.890 --> 00:01:52.130\nWell, that's where the IP\naddressing side of things comes in.\n\n37\n00:01:52.130 --> 00:01:53.130\nWe have routes, and all that.\n\n38\n00:01:53.130 --> 00:01:54.600\nWe find a way to the server.\n\n39\n00:01:54.600 --> 00:01:58.780\nNow when we find the server,\nhow do we talk to it, right?\n\n40\n00:01:58.780 --> 00:02:01.300\nWe have to have some way to\ncommunicate between us and\n\n41\n00:02:01.300 --> 00:02:02.860\nthe machine on the other end.\n\n42\n00:02:02.860 --> 00:02:06.290\nAnd there's various levels of\ncomplexity we can go for here.\n\n43\n00:02:06.290 --> 00:02:10.770\nSo for example, there's a protocol\ncalled UDP, User Datagram Protocol.\n\n44\n00:02:10.770 --> 00:02:14.440\nAnd with UDP,\nI just start chucking data at that server.\n\n45\n00:02:14.440 --> 00:02:16.670\nI say, here you go,\nI'm throwing data right at you, okay.\n\n46\n00:02:16.670 --> 00:02:20.290\nAnd that works,\nit works well in a lot of scenarios.\n\n47\n00:02:20.290 --> 00:02:23.152\nBut what happens if some of that\ndata gets lost along the way?\n\n48\n00:02:23.152 --> 00:02:26.190\nThe Internet's a crazy place,\nsometimes packets get lost,\n\n49\n00:02:26.190 --> 00:02:28.020\nit's a very common thing.\n\n50\n00:02:28.020 --> 00:02:30.510\nWith UDP you're just rifling\nthat data out there, so\n\n51\n00:02:30.510 --> 00:02:34.050\nif data gets lost, it gets lost, it's\nnot a big deal you just move on, right.\n\n52\n00:02:34.050 --> 00:02:38.100\nI know what you're thinking,\nwhen is it okay for data to get lost?\n\n53\n00:02:38.100 --> 00:02:41.355\nIf I fire off ten emails and\none of them gets lost is that no big deal?\n\n54\n00:02:41.355 --> 00:02:43.610\nNine out of ten, that's not bad.\n\n55\n00:02:43.610 --> 00:02:45.620\nWell, it usually is bad.\n\n56\n00:02:45.620 --> 00:02:48.770\nSo we need some kind of control\nmechanism in there to help us to make\n\n57\n00:02:48.770 --> 00:02:49.560\nsure we don't lose data.\n\n58\n00:02:49.560 --> 00:02:51.330\nAnd that's not always necessary, right.\n\n59\n00:02:51.330 --> 00:02:52.550\nLet's say it's streaming video.\n\n60\n00:02:52.550 --> 00:02:54.970\nYou're watching this episode right now,\nokay.\n\n61\n00:02:54.970 --> 00:02:59.490\nWe're sending 30 frames per second\nacross the network to your computer.\n\n62\n00:02:59.490 --> 00:03:01.800\nWhat happens if one of\nthose frames disappears?\n\n63\n00:03:01.800 --> 00:03:04.350\nIf one of those frames disappears\nwhen I'm moving my hand,\n\n64\n00:03:04.350 --> 00:03:08.080\nyou might see it disappear and\nthen reappear a few centimeters over.\n\n65\n00:03:08.080 --> 00:03:09.480\nThat's no big deal, right.\n\n66\n00:03:09.480 --> 00:03:12.910\nWith streaming video,\nwith streaming audio, things like that,\n\n67\n00:03:12.910 --> 00:03:17.270\na voice over IP calls, if you miss\na frame, you miss a little chunk of data,\n\n68\n00:03:17.270 --> 00:03:19.160\nyou just skip right past it.\n\n69\n00:03:19.160 --> 00:03:20.830\nCuz otherwise you start\ngetting a bigger and\n\n70\n00:03:20.830 --> 00:03:22.710\nbigger delay in the data\nthat you're sending.\n\n71\n00:03:22.710 --> 00:03:24.250\nYou definitely don't want that, right.\n\n72\n00:03:24.250 --> 00:03:29.730\nSo we keep kind of churning right through\nand moving on, and that's what UDP is for.\n\n73\n00:03:29.730 --> 00:03:32.960\nBut for everything else, for\nemail, browsing the web,\n\n74\n00:03:32.960 --> 00:03:36.920\ntransferring files, we don't even want\nto lose even one single packet of data.\n\n75\n00:03:36.920 --> 00:03:38.950\nWe want everything to make it.\n\n76\n00:03:38.950 --> 00:03:40.140\nAnd we need something to help with that.\n\n77\n00:03:40.140 --> 00:03:44.630\nAnd what helps is TCP,\nthe Transmission Control Protocol.\n\n78\n00:03:44.630 --> 00:03:48.270\nWhen you connect to a server\nTCP reaches out and says,\n\n79\n00:03:48.270 --> 00:03:52.580\nhey I want to have a good healthy\ncommunication with you so\n\n80\n00:03:52.580 --> 00:03:55.830\nthat we can start to exchange data and\nthat's really important.\n\n81\n00:03:55.830 --> 00:03:58.120\nAnd I've got a little diagram here,\nlet me show you guys.\n\n82\n00:03:58.120 --> 00:04:01.380\nSo with UDP,\nwe just start rifling that data out.\n\n83\n00:04:01.380 --> 00:04:04.650\nSo your client just starts rifling\npacket after packet after packet across\n\n84\n00:04:04.650 --> 00:04:05.880\nthe network to the other end.\n\n85\n00:04:05.880 --> 00:04:10.100\nAnd if a packet doesn't make it, big deal,\nyou just right on past it, right.\n\n86\n00:04:10.100 --> 00:04:15.070\nBut TCP on the other hand, with TCP\nwhen you start to talk to that server,\n\n87\n00:04:15.070 --> 00:04:17.340\nyou do what's called a handshake.\n\n88\n00:04:17.340 --> 00:04:21.760\nAnd a handshake works like this, the very\nfirst thing you send to the server\n\n89\n00:04:21.760 --> 00:04:24.740\nis a SYN message,\nwhich is short for synchronize.\n\n90\n00:04:24.740 --> 00:04:27.020\nYou tell that server hey,\nI'm about to talk to you,\n\n91\n00:04:27.020 --> 00:04:30.700\nand I wanna make sure you\nget everything I send you.\n\n92\n00:04:30.700 --> 00:04:32.940\nAnd so I'm gonna give you a number,\n512, 2008,\n\n93\n00:04:32.940 --> 00:04:38.490\n75 whatever you just give it a number.\n\n94\n00:04:38.490 --> 00:04:41.060\nAnd you say this is my starting number and\n\n95\n00:04:41.060 --> 00:04:45.370\nfrom now on when I send you data,\nI'm going to attach a number to it.\n\n96\n00:04:45.370 --> 00:04:47.150\nAnd if you see me skip a number,\n\n97\n00:04:47.150 --> 00:04:50.060\nif things don't match up,\nthen you know you missed a packet.\n\n98\n00:04:50.060 --> 00:04:53.000\nYou know that one got lost and\nyou can ask me to resend it.\n\n99\n00:04:53.000 --> 00:04:54.740\nBut here's the number\nI'm going to start with.\n\n100\n00:04:56.020 --> 00:05:01.350\nAnd then the server on the other end\nreplies back to you with a SYN/ACK, okay.\n\n101\n00:05:01.350 --> 00:05:02.990\nThe ACK is an acknowledgement.\n\n102\n00:05:02.990 --> 00:05:04.770\nThey acknowledge that they got our number.\n\n103\n00:05:04.770 --> 00:05:06.610\nAll right, hey, we want to start with 75.\n\n104\n00:05:06.610 --> 00:05:07.360\nThey acknowledge that.\n\n105\n00:05:07.360 --> 00:05:10.090\nOkay, you are going to start with 75,\ngreat.\n\n106\n00:05:10.090 --> 00:05:14.046\nBut then they send a message\nback of their own send saying,\n\n107\n00:05:14.046 --> 00:05:18.420\nokay when I talk to you I'm\ngonna start with 513, all right.\n\n108\n00:05:18.420 --> 00:05:21.680\nSo we're gonna start with 75,\nthey're gonna start with 513.\n\n109\n00:05:21.680 --> 00:05:24.360\nThey're random numbers,\nthey're just kind of made up.\n\n110\n00:05:24.360 --> 00:05:26.760\nAnd then we have to acknowledge their\nnumber, so we send an ACK back.\n\n111\n00:05:26.760 --> 00:05:30.120\nAn acknowledgement saying, okay we got\nyour number, you're gonna start at 513,\n\n112\n00:05:30.120 --> 00:05:32.170\nwe're gonna start at 75.\n\n113\n00:05:32.170 --> 00:05:34.620\nAnd now we go in to 2-way communication.\n\n114\n00:05:34.620 --> 00:05:36.470\nSo I send a packet to\nthe server that's 75.\n\n115\n00:05:36.470 --> 00:05:39.950\nAnd then I send a packet that's 76 and\n\n116\n00:05:39.950 --> 00:05:44.160\n77 and 78, and the server on\nthe other end is watching that.\n\n117\n00:05:44.160 --> 00:05:45.530\nAnd if all of the sudden I skip and\n\n118\n00:05:45.530 --> 00:05:49.340\ngo from 78 to 80 the server will say,\nwhoa I didn't get 79.\n\n119\n00:05:49.340 --> 00:05:54.040\nAnd it can send a message to me saying,\nhey could you please retransmit 79?\n\n120\n00:05:54.040 --> 00:05:55.140\nAnd we'll retransmit it.\n\n121\n00:05:55.140 --> 00:05:59.030\nSo TCP can guarantee my data\nmakes it to the other side.\n\n122\n00:05:59.030 --> 00:06:00.880\nThat's really important, right.\n\n123\n00:06:00.880 --> 00:06:03.520\nWith TCP we get guaranteed delivery.\n\n124\n00:06:03.520 --> 00:06:06.180\nWith UDP you get what's\ncalled best effort.\n\n125\n00:06:06.180 --> 00:06:07.090\nWe chuck it out there.\n\n126\n00:06:07.090 --> 00:06:10.570\nWe do the best we can, but if it doesn't\nmake it, there is no retransmit in UDP.\n\n127\n00:06:10.570 --> 00:06:11.560\nIt's gone.\n\n128\n00:06:11.560 --> 00:06:12.630\nIf it didn't make it, it's gone.\n\n129\n00:06:12.630 --> 00:06:14.135\n>> Hey, they try, right.\n\n130\n00:06:14.135 --> 00:06:15.695\n>> [LAUGH] It's like\nthe US Postal Service.\n\n131\n00:06:15.695 --> 00:06:16.240\n>> [LAUGH] Yeah.\n\n132\n00:06:16.240 --> 00:06:18.400\n>> It's best effort, right.\n\n133\n00:06:18.400 --> 00:06:21.730\nBut TCP is like FedEx,\nyou know what I mean?\n\n134\n00:06:21.730 --> 00:06:24.959\nSo if any of you work for the Post Office.\n\n135\n00:06:24.959 --> 00:06:28.310\n[LAUGH] So it definitely has its place and\n\n136\n00:06:28.310 --> 00:06:31.120\nwe use it for\nthe majority of our communications, right.\n\n137\n00:06:31.120 --> 00:06:34.000\nWhen you browse through a website,\nwhen you send an email, you're using TCP.\n\n138\n00:06:35.150 --> 00:06:36.290\nThe key thing is,\n\n139\n00:06:36.290 --> 00:06:38.880\nthis is all determined by your software,\nyou don't normally have to deal with it.\n\n140\n00:06:38.880 --> 00:06:42.420\nWhen you fire up a web browser, does it\nask you if you want to use TCP or UDP?\n\n141\n00:06:42.420 --> 00:06:46.620\nNo, it just figures it out,\nit knows that it's part of the protocol.\n\n142\n00:06:46.620 --> 00:06:49.030\nAnd so when you talk to a server,\n\n143\n00:06:49.030 --> 00:06:52.450\nyou need to identify the protocol\nthat you're going to be using.\n\n144\n00:06:52.450 --> 00:06:54.820\nAnd it knows you are going to\nuse TCP if you start by sending\n\n145\n00:06:54.820 --> 00:06:55.970\na SYN message, all right.\n\n146\n00:06:55.970 --> 00:06:59.050\nIt knows you're using UDP if you\njust start flooding it, right.\n\n147\n00:06:59.050 --> 00:07:01.330\nSo that's how it's able\nto tell that apart.\n\n148\n00:07:01.330 --> 00:07:07.240\nBut then even inside of that, it needs to\nknow what it is that we're sending, right.\n\n149\n00:07:07.240 --> 00:07:09.990\nHow does it know are we sending,\nis this web traffic?\n\n150\n00:07:09.990 --> 00:07:11.390\nIs it FTP?\n\n151\n00:07:11.390 --> 00:07:14.810\nIs it network management?\n\n152\n00:07:14.810 --> 00:07:17.170\nWhat the heck are you sending me?\n\n153\n00:07:17.170 --> 00:07:21.120\nAnd so in addition to this\ninformation that's being sent,\n\n154\n00:07:21.120 --> 00:07:24.400\nwe also send a port number.\n\n155\n00:07:24.400 --> 00:07:27.810\nTCP and UDP both use port numbers, and\n\n156\n00:07:27.810 --> 00:07:31.080\nthe purpose of the port number,\nwell it's two-fold.\n\n157\n00:07:31.080 --> 00:07:34.500\nOn the client side we\nuse the port number so\n\n158\n00:07:34.500 --> 00:07:37.640\nthat we can tell the server what\nwe're expecting to get, right.\n\n159\n00:07:37.640 --> 00:07:41.180\nIf I'm expecting to get a web page,\nor if I'm expecting to get an email,\n\n160\n00:07:41.180 --> 00:07:43.568\nI have different port\nnumbers that tell it that.\n\n161\n00:07:43.568 --> 00:07:47.730\nHey, I'm using the port number for\nweb traffic, so give me a web page.\n\n162\n00:07:47.730 --> 00:07:50.170\nI'm using the port number for\nemail, give me email, right.\n\n163\n00:07:50.170 --> 00:07:51.843\nThat's how the server's gonna know.\n\n164\n00:07:51.843 --> 00:07:53.266\nAnd on the other end,\n\n165\n00:07:53.266 --> 00:07:57.550\nthe server is using port numbers\nto tell all of our people apart.\n\n166\n00:07:57.550 --> 00:07:59.256\nAll right now what do I mean by that.\n\n167\n00:07:59.256 --> 00:08:03.347\nWell, let me show you an example here, so\nI'm gonna get logged into this cento s\n\n168\n00:08:03.347 --> 00:08:05.930\nmachine here and\nI'm gonna fire up a web browser.\n\n169\n00:08:07.010 --> 00:08:09.850\nAnd in my web browser I'm\ngonna go to a website.\n\n170\n00:08:09.850 --> 00:08:13.530\nWhere should we go to today,\nhow about CNN, right.\n\n171\n00:08:13.530 --> 00:08:16.430\nSo we're gonna check out the news today,\nand we'll go to CNN and\n\n172\n00:08:16.430 --> 00:08:18.680\nI'm sure they're reporting all\nsorts of happy things occurring.\n\n173\n00:08:18.680 --> 00:08:20.280\nSo I'm gonna go to CNN.\n\n174\n00:08:20.280 --> 00:08:21.112\nGood old Donald Trump.\n\n175\n00:08:21.112 --> 00:08:21.991\nWonderful.\n\n176\n00:08:21.991 --> 00:08:25.350\n>> [LAUGH]\n>> So I'll open up some more tabs here.\n\n177\n00:08:25.350 --> 00:08:28.740\nI'm gonna go to CNN on this tab.\n\n178\n00:08:28.740 --> 00:08:32.660\nAnd I'm gonna go to CNN in a third tab.\n\n179\n00:08:32.660 --> 00:08:36.100\nI now have three windows open to CNN.\n\n180\n00:08:36.100 --> 00:08:40.120\nI'm learning all that I can stand\nto learn about Donald Trump.\n\n181\n00:08:40.120 --> 00:08:43.590\nSo why they're voting for\nTrump on this page, why they're voting for\n\n182\n00:08:43.590 --> 00:08:46.200\nTrump on this page and\nwhy they're voting for Trump on this page.\n\n183\n00:08:46.200 --> 00:08:47.830\nThe only thing that's different\nare the advertisements,\n\n184\n00:08:47.830 --> 00:08:50.710\notherwise it's exactly the same page.\n\n185\n00:08:50.710 --> 00:08:53.990\nI've got three connections\nopen to that server.\n\n186\n00:08:53.990 --> 00:08:57.890\nWhen I connected each time I told\nthe server, hey I want a webpage.\n\n187\n00:08:57.890 --> 00:09:01.610\nSo I connected on the port for\nwebpages, for web servers.\n\n188\n00:09:01.610 --> 00:09:04.380\nAnd the server replied by giving\nme a copy of the webpage.\n\n189\n00:09:04.380 --> 00:09:08.120\nNow when I click on one of these links,\nmaybe I wanna learn about the of\n\n190\n00:09:08.120 --> 00:09:12.070\nthe I don't know,\nthe leader of the Oregon siege arrested.\n\n191\n00:09:12.070 --> 00:09:13.550\nAll right so we'll go and\nlearn about that.\n\n192\n00:09:13.550 --> 00:09:16.660\nWhen I click on that link it\ntakes me into that article.\n\n193\n00:09:16.660 --> 00:09:19.260\nNow notice what happened on my other tabs.\n\n194\n00:09:19.260 --> 00:09:22.390\nSee how this tab is still on the home page\nand this tab is still on the homepage.\n\n195\n00:09:22.390 --> 00:09:23.590\nIt hasn't changed.\n\n196\n00:09:23.590 --> 00:09:27.370\nHow did it know that it was\nsupposed to go to this tab and\n\n197\n00:09:27.370 --> 00:09:28.780\nnot one of the other ones,\nhow did it know that?\n\n198\n00:09:29.820 --> 00:09:36.040\nWell, with each one of these tabs\nwe assigned a random port number.\n\n199\n00:09:36.040 --> 00:09:37.980\nAnd when the server replied to us,\n\n200\n00:09:37.980 --> 00:09:42.270\nit knew I was in my first tab because\nof the port number assigned to it.\n\n201\n00:09:42.270 --> 00:09:45.050\nIt actually doesn't know about the tabs at\nall, it just knows about the port number.\n\n202\n00:09:45.050 --> 00:09:46.710\nBut is says,\nI'm gonna send it to that one.\n\n203\n00:09:46.710 --> 00:09:48.170\nAnd that's why this page updated.\n\n204\n00:09:48.170 --> 00:09:50.450\nAnd that's why this other page didn't.\n\n205\n00:09:50.450 --> 00:09:53.630\nAnd I can click on a different link,\nI can learn about the Zika virus here.\n\n206\n00:09:53.630 --> 00:09:55.715\nAnd, it really is all happening yesterday,\nisn't it?\n\n207\n00:09:55.715 --> 00:09:56.880\n>> [LAUGH] There you go.\n\n208\n00:09:56.880 --> 00:09:57.950\n>> So we can go learn about that.\n\n209\n00:09:57.950 --> 00:10:00.990\nAnd again,\nthe other pages didn't change, right.\n\n210\n00:10:00.990 --> 00:10:04.730\nThe port numbers are really important,\nright?\n\n211\n00:10:04.730 --> 00:10:07.925\nSo, it's putting the port in important.\n\n212\n00:10:07.925 --> 00:10:09.770\n>> [LAUGH]\n>> So, I'm very witty today.\n\n213\n00:10:09.770 --> 00:10:10.590\n>> That was good.\n\n214\n00:10:10.590 --> 00:10:11.620\nThat was not bad.\n\n215\n00:10:11.620 --> 00:10:15.540\n>> So, definitely a key concept to\nhave and it's happening all the time.\n\n216\n00:10:15.540 --> 00:10:19.020\nWhen you do a TCP session,\nthere's port numbers in play.\n\n217\n00:10:19.020 --> 00:10:22.330\nWhen you do a UDP session,\nthere's port numbers in play, so\n\n218\n00:10:22.330 --> 00:10:24.650\nthe systems can identify\nwhat that traffic is.\n\n219\n00:10:24.650 --> 00:10:26.520\nSo, let me give you an example.\n\n220\n00:10:26.520 --> 00:10:30.320\nOn my client, let's saying I'm browsing\nto a web search so I've gotta client,\n\n221\n00:10:30.320 --> 00:10:30.910\nClient 01.\n\n222\n00:10:30.910 --> 00:10:33.340\nIt's got a MAC address,\nit's got an IP address and\n\n223\n00:10:33.340 --> 00:10:35.250\nit goes to communicate to a server.\n\n224\n00:10:35.250 --> 00:10:38.820\nAnd maybe it's just a server\nright here on the same network,\n\n225\n00:10:38.820 --> 00:10:40.640\nso this one's 192.168.0.55.\n\n226\n00:10:40.640 --> 00:10:42.750\nMaybe there's a server at 192.168.0.10,\nright.\n\n227\n00:10:42.750 --> 00:10:44.090\nSame network so no routers or\n\n228\n00:10:44.090 --> 00:10:46.009\nanything involved, although that\nwouldn't really make a difference.\n\n229\n00:10:47.150 --> 00:10:51.960\nWhen we go to communicate, it builds\nup a packet to send on the network.\n\n230\n00:10:51.960 --> 00:10:56.380\nAnd if we know our OSI model we kinda\nknow how this is all assembled, but\n\n231\n00:10:56.380 --> 00:10:59.588\nat Layer three,\nyou have your IP addressing.\n\n232\n00:10:59.588 --> 00:11:02.920\nAt layer two you have your MAC address,\nat layer three you have your IP address,\n\n233\n00:11:02.920 --> 00:11:07.940\nat layer four you have your TCP or\nUDP, your transport information.\n\n234\n00:11:07.940 --> 00:11:12.360\nAnd so, if I'm using TCP,\nit's breaking up all my data and\n\n235\n00:11:12.360 --> 00:11:14.940\nassigning numbers to it and\nthose numbers are called sequence numbers.\n\n236\n00:11:14.940 --> 00:11:17.950\nAnd so I would have my TCP\nsequence numbers for layer four.\n\n237\n00:11:17.950 --> 00:11:20.620\nBut then at layer five is where\nwe have our session data.\n\n238\n00:11:20.620 --> 00:11:23.380\nAnd the session data is where we\ntell it what we're connecting to.\n\n239\n00:11:23.380 --> 00:11:28.170\nAnd so when this client builds up the\npacket to send to the server, the source,\n\n240\n00:11:28.170 --> 00:11:32.830\nwhere this is coming from,\nthat's the IP address of the client and\n\n241\n00:11:32.830 --> 00:11:34.870\na random port number.\n\n242\n00:11:34.870 --> 00:11:37.760\nThis port number is 55,914.\n\n243\n00:11:37.760 --> 00:11:38.890\nRandom number.\n\n244\n00:11:38.890 --> 00:11:42.310\nIt'll be between one and\n65,535, all right?\n\n245\n00:11:43.780 --> 00:11:45.810\nSo that's the acceptable\nport number range.\n\n246\n00:11:45.810 --> 00:11:47.560\nIt'll be a, usually, random number.\n\n247\n00:11:48.730 --> 00:11:51.550\nBut when we connect to the server,\nthe destination is the IP address of\n\n248\n00:11:51.550 --> 00:11:55.370\nthe server and\na port number that's not random.\n\n249\n00:11:55.370 --> 00:11:56.510\nThis is 80.\n\n250\n00:11:56.510 --> 00:12:00.680\nPort 80 is the default port for\na web server.\n\n251\n00:12:00.680 --> 00:12:04.490\nSo when I connect to that server on\nport 80, it knows I'm on a webpage.\n\n252\n00:12:04.490 --> 00:12:07.350\nIf I connect on port 25,\nit knows I'm dealing with email.\n\n253\n00:12:07.350 --> 00:12:10.720\nThe port number tells the server\nwhat it is I want to access.\n\n254\n00:12:10.720 --> 00:12:14.290\nAnd when that traffic makes it\nall the way over to the server,\n\n255\n00:12:14.290 --> 00:12:17.710\nthe server knows to send\nthe traffic to its web software.\n\n256\n00:12:17.710 --> 00:12:21.920\nWhatever its web server is Apache, IIS,\nEngine X, whatever it happens to be.\n\n257\n00:12:21.920 --> 00:12:24.430\nAnd it can render that page and\nsend it back.\n\n258\n00:12:24.430 --> 00:12:27.100\nNow when it replies,\nit just reverses the data.\n\n259\n00:12:28.310 --> 00:12:31.930\nSo when the server replies back,\nthe source is the servers IP.\n\n260\n00:12:31.930 --> 00:12:36.280\nAnd the source is port 80 but\nthe destination is my client and\n\n261\n00:12:36.280 --> 00:12:38.730\nthe destination is that\nrandom port number.\n\n262\n00:12:38.730 --> 00:12:41.010\nThat's happening all the time.\n\n263\n00:12:41.010 --> 00:12:42.770\nAll the time without us even seeing it.\n\n264\n00:12:42.770 --> 00:12:45.520\nLet me show you a real world example here.\n\n265\n00:12:45.520 --> 00:12:49.360\nLet me get rid of CNN cuz they\nreally have an annoying webpage.\n\n266\n00:12:49.360 --> 00:12:51.580\nActually I'll keep one open.\n\n267\n00:12:51.580 --> 00:12:57.740\nAll right, so here I am in my command\nprompt, and you can see all the different\n\n268\n00:12:57.740 --> 00:13:01.410\ncommunications that are happening on your\nsystem with the utility called netstat.\n\n269\n00:13:01.410 --> 00:13:05.430\nAll right, netstat, if I just run it\nby itself, it gives me a list of all\n\n270\n00:13:05.430 --> 00:13:09.700\nthe incoming and outgoing communications\nthat my system is making and\n\n271\n00:13:09.700 --> 00:13:12.620\nit tries to resolve the names and\nit takes a long time to do that.\n\n272\n00:13:12.620 --> 00:13:16.590\nSo I'm gonna add a little bit extra to it,\nI'm gonna do netstat -an, right?\n\n273\n00:13:16.590 --> 00:13:22.000\nAn, it tells it to give me all of\nthe ports, even if they're kind of idling.\n\n274\n00:13:22.000 --> 00:13:24.040\nAnd don't worry about name resolution.\n\n275\n00:13:24.040 --> 00:13:25.120\nJust give me IP addresses.\n\n276\n00:13:25.120 --> 00:13:26.490\nThis is much faster.\n\n277\n00:13:26.490 --> 00:13:30.170\nIf I run netstat -an,\nsee how I get my data real fast?\n\n278\n00:13:30.170 --> 00:13:33.750\nBut if I run netstat with nothing,\njust netstat,\n\n279\n00:13:33.750 --> 00:13:37.086\nwell, actually that went\npretty [CROSSTALK].\n\n280\n00:13:37.086 --> 00:13:38.437\nI must not have any connections, but\n\n281\n00:13:38.437 --> 00:13:40.833\nwhat it will do is it'll look at\nall the IP's that you have open and\n\n282\n00:13:40.833 --> 00:13:43.290\nit will try to do DNS resolution and\nso it takes a little bit longer.\n\n283\n00:13:43.290 --> 00:13:44.710\nSo I don't normally do that one.\n\n284\n00:13:44.710 --> 00:13:47.890\nI normally do nestat -an, okay?\n\n285\n00:13:47.890 --> 00:13:50.800\nNow let's say that I\nwanna browse to itprotv.\n\n286\n00:13:50.800 --> 00:13:52.285\nSo I'm gonna do an nslookup for\n\n287\n00:13:52.285 --> 00:13:55.780\nitpro.tv to figure out what our IP\naddress is cuz I don't know it.\n\n288\n00:13:55.780 --> 00:13:57.300\nAnd so there it is.\n\n289\n00:13:57.300 --> 00:13:59.670\nI'm gonna copy that IP address.\n\n290\n00:13:59.670 --> 00:14:04.755\nAnd you know that looks like a,\nlooks like a private address but it isn't.\n\n291\n00:14:04.755 --> 00:14:11.340\n192.124, it's really close to 192.168,\nwhich is an RFC 19, 18 private address but\n\n292\n00:14:11.340 --> 00:14:17.160\nthis is 192.124, so that is a public\naddress and if I do a netstat -an,\n\n293\n00:14:17.160 --> 00:14:22.460\nI'm going to pipe that into grep and\nI'm going to look for that IP.\n\n294\n00:14:22.460 --> 00:14:25.416\nI don't have any connections to\nITProTV right now, all right?\n\n295\n00:14:25.416 --> 00:14:29.670\nI'm going to fire up a web browser and\n\n296\n00:14:29.670 --> 00:14:33.560\nI'm going to browse to ITPro.TV, okay?\n\n297\n00:14:33.560 --> 00:14:37.080\nWhen I browse to it, I'm opening\nup a connection to that webpage.\n\n298\n00:14:37.080 --> 00:14:41.140\nAnd if I jump right back and\nrerun that netstack command,\n\n299\n00:14:41.140 --> 00:14:44.150\nI can see that I've got three\nconnections open, right.\n\n300\n00:14:44.150 --> 00:14:46.070\nOver here one the left,\nI can see they're all using TCP.\n\n301\n00:14:46.070 --> 00:14:50.530\nWhen you browse the web that's TCP,\nnot UDP for it, right.\n\n302\n00:14:50.530 --> 00:14:54.190\nI can see the source IP address, that's\n\n303\n00:14:55.380 --> 00:15:00.210\nthe IP address on my laptop, and\n\n304\n00:15:00.210 --> 00:15:04.570\nthe source port, 50,672, 51,927,\n50,673, these's random port numbers.\n\n305\n00:15:04.570 --> 00:15:06.435\nAnd then I can see\nthe server I connected to.\n\n306\n00:15:06.435 --> 00:15:10.314\n192.124.249.2 and\n\n307\n00:15:10.314 --> 00:15:14.730\nport 80, port 443 and port 80.\n\n308\n00:15:14.730 --> 00:15:19.570\nPort 80, that's unencrypted web traffic,\nport 443, that's secure, SSL or\n\n309\n00:15:19.570 --> 00:15:22.290\nTLS secure web traffic, right?\n\n310\n00:15:22.290 --> 00:15:25.560\nAnd if I look over here a little more,\nI can see two of them are established and\n\n311\n00:15:25.560 --> 00:15:28.040\nactually doing something,\none is in a timed wait.\n\n312\n00:15:28.040 --> 00:15:29.090\nIt's ended, right?\n\n313\n00:15:29.090 --> 00:15:31.870\nAnd what happened is I\nbrowsed to the server and\n\n314\n00:15:31.870 --> 00:15:34.680\nthen it must have forwarded me over to the\nsecure page, which I didn't even notice.\n\n315\n00:15:34.680 --> 00:15:36.260\nLet me see if that's what happened.\n\n316\n00:15:36.260 --> 00:15:39.680\nYeah, although I got a little\ntriangle on it, but it did.\n\n317\n00:15:39.680 --> 00:15:42.794\nIt forwarded me over to the secure page\nto let me know that we were going to view\n\n318\n00:15:42.794 --> 00:15:45.677\nthis securely and so that's why I\ngot the connection on the two ports.\n\n319\n00:15:45.677 --> 00:15:48.834\nBut you guys see those random port\nnumbers that are being generated so\n\n320\n00:15:48.834 --> 00:15:51.556\nthat the server on the other end\nknows when it replies to me,\n\n321\n00:15:51.556 --> 00:15:54.823\nto reply on those port numbers and\nthat way we make sure it gets right back\n\n322\n00:15:54.823 --> 00:15:57.559\nto the right tab and the right place and\nwe access that data.\n\n323\n00:15:57.559 --> 00:15:59.068\nSo this is going on in the background.\n\n324\n00:15:59.068 --> 00:16:00.380\nAll the time.\n\n325\n00:16:00.380 --> 00:16:01.646\n>> This is very cool stuff, Don.\n\n326\n00:16:01.646 --> 00:16:05.518\nI'm starting to see how our computers\nare actually communicating and\n\n327\n00:16:05.518 --> 00:16:07.682\nnot just getting the end product of it,\n\n328\n00:16:07.682 --> 00:16:11.520\nalthough I've got ITProTV on my\nweb browser, and that's nice.\n\n329\n00:16:11.520 --> 00:16:13.840\nNow I'm actually seeing where\nthe connections are being made,\n\n330\n00:16:13.840 --> 00:16:16.460\nwhat port's they're using,\nit's starting to get a little in depth.\n\n331\n00:16:16.460 --> 00:16:18.410\nAre there any other\nexamples that we can see?\n\n332\n00:16:18.410 --> 00:16:20.180\nMaybe something different?\n\n333\n00:16:20.180 --> 00:16:22.080\n>> We could do FTP for example.\n\n334\n00:16:22.080 --> 00:16:28.470\nRight, so let me get another terminal here\nand, that's not exactly what I wanted.\n\n335\n00:16:28.470 --> 00:16:31.138\nSo, I was going to open a terminal.\n\n336\n00:16:31.138 --> 00:16:35.124\nThere we go, and so let's say that I,\n\n337\n00:16:35.124 --> 00:16:39.359\nwe'll use how about Dell, so if I do a And\n\n338\n00:16:39.359 --> 00:16:43.981\nlet's look up for ftp.dell.com, okay?\n\n339\n00:16:43.981 --> 00:16:46.320\nSo I'm gonna look for Dell's FTP server.\n\n340\n00:16:46.320 --> 00:16:46.940\nAnd there it is.\n\n341\n00:16:46.940 --> 00:16:49.380\nIt's got like an IP address,\nI'll just copy that.\n\n342\n00:16:49.380 --> 00:16:53.100\nI'm using the IP's here because sometimes\nwith DNS you can resolve different IPs\n\n343\n00:16:53.100 --> 00:16:55.600\ndepending on your region and so\nyou might not be able to find something.\n\n344\n00:16:55.600 --> 00:17:01.270\nSo I'm gonna open up an FTP\nconnection to that address and\n\n345\n00:17:01.270 --> 00:17:02.610\nso I'll get logged in to it.\n\n346\n00:17:02.610 --> 00:17:04.370\nI'll just log in as anonymous.\n\n347\n00:17:05.690 --> 00:17:08.250\nAnd punch in a password, there we go.\n\n348\n00:17:08.250 --> 00:17:11.810\nAll right, so\nI'm now connected to Dell's FTP server, so\n\n349\n00:17:11.810 --> 00:17:14.840\nI can start downloading driver updates or\nwhatever.\n\n350\n00:17:14.840 --> 00:17:17.640\nAnd while that session is open,\nI can come back here.\n\n351\n00:17:17.640 --> 00:17:19.830\nAnd do a netstat-an.\n\n352\n00:17:19.830 --> 00:17:26.730\nAnd I can filter that, by grepping it and\nlooking for, Dell's IP.\n\n353\n00:17:26.730 --> 00:17:27.450\nAnd there it is.\n\n354\n00:17:27.450 --> 00:17:31.230\nI see port 21, which is what\nfile transfer protocol uses, and\n\n355\n00:17:31.230 --> 00:17:32.640\nthen my random port number.\n\n356\n00:17:32.640 --> 00:17:36.130\nNow, some protocols like FTP can be\na little tricky cuz they can switch ports\n\n357\n00:17:36.130 --> 00:17:37.420\nduring communications.\n\n358\n00:17:37.420 --> 00:17:42.460\nAnd so if I start to transfer a file, I\nmight get something very, very different.\n\n359\n00:17:42.460 --> 00:17:48.080\nSo, for example, let's see, are there any\nlike text files or anything small in here?\n\n360\n00:17:48.080 --> 00:17:49.620\nWell actually, just doing an LS.\n\n361\n00:17:49.620 --> 00:17:52.920\nI'm pulling up a directory listing and\nsee how it's going into passive mode?\n\n362\n00:17:52.920 --> 00:17:55.170\nPassive mode uses a different\nport number and so\n\n363\n00:17:55.170 --> 00:17:58.180\nI should see that in my net stat output.\n\n364\n00:17:58.180 --> 00:17:59.290\nAnd I sure do.\n\n365\n00:17:59.290 --> 00:18:04.240\nSee how I've got this port 21 connection\nand now I've got this 31760 connection,\n\n366\n00:18:04.240 --> 00:18:07.440\nthat's part of FTP's passive mode where\nit generates a random port number.\n\n367\n00:18:07.440 --> 00:18:10.400\nSo I've got more than one connection\nopen and established to that host now.\n\n368\n00:18:10.400 --> 00:18:13.052\nSo you'll see that as things go\non you have those connections.\n\n369\n00:18:13.052 --> 00:18:17.675\nNow for the exam, they do want you to be\nfamiliar with some of the more common port\n\n370\n00:18:17.675 --> 00:18:19.750\nnumbers that are out there.\n\n371\n00:18:19.750 --> 00:18:23.230\nAnd unfortunately there's no great way\nto learn them aside from memorization.\n\n372\n00:18:23.230 --> 00:18:25.850\nYou need to have the most\ncommon port numbers memorized.\n\n373\n00:18:25.850 --> 00:18:31.403\nAnd so I've got a diagram here that\nhighlights some of the most common ones.\n\n374\n00:18:31.403 --> 00:18:33.530\nSo here's some of\nthe things we need to know.\n\n375\n00:18:33.530 --> 00:18:38.510\nI mentioned earlier that the port\nnumbers run from 1 to 65535.\n\n376\n00:18:38.510 --> 00:18:41.340\nWell, if we go to the IANA's website.\n\n377\n00:18:41.340 --> 00:18:44.830\nThat's the Internet Authority for\nNumber Assignment.\n\n378\n00:18:44.830 --> 00:18:45.750\nIs that right?\n>> I think that's,\n\n379\n00:18:45.750 --> 00:18:46.720\nit's the numbering something.\n\n380\n00:18:46.720 --> 00:18:47.790\n>> Something like that, yeah.\n\n381\n00:18:47.790 --> 00:18:50.251\nThe IANA, they're the guys who run this,\nwho define all the numbers.\n\n382\n00:18:50.251 --> 00:18:54.649\nAnd the actual range is 0 to 65535 but\nyou can't actually use 0 so\n\n383\n00:18:54.649 --> 00:18:57.790\nthat's why I normally leave that one out.\n\n384\n00:18:57.790 --> 00:19:02.060\nBut they've divided the port ranges up\ninto these three categories, all right?\n\n385\n00:19:02.060 --> 00:19:07.260\nYou have what are called well-known ports,\nregistered ports, and dynamic ports.\n\n386\n00:19:07.260 --> 00:19:08.080\nThe well known ports those\n\n387\n00:19:08.080 --> 00:19:12.320\nare the ones that are normally assigned\nto servers there's 0 through 1023, okay.\n\n388\n00:19:12.320 --> 00:19:15.100\nAnd most of your well\nestablished internet protocols\n\n389\n00:19:15.100 --> 00:19:17.100\nwill have a port number in that range.\n\n390\n00:19:17.100 --> 00:19:21.470\nBut there's only 1023 usable ports there,\nso obviously they've run out.\n\n391\n00:19:21.470 --> 00:19:24.710\nAnd as they add new ones they've started\nmoving into on the higher numbers And so\n\n392\n00:19:24.710 --> 00:19:30.180\nthe INA set aside 1024 all the way to\n49151 to be what are called registered\n\n393\n00:19:30.180 --> 00:19:31.070\nports.\n\n394\n00:19:32.160 --> 00:19:35.110\nTechnically, anybody can use them but\nyou can register them with the INA and\n\n395\n00:19:35.110 --> 00:19:36.820\ntie them to your application.\n\n396\n00:19:36.820 --> 00:19:40.500\nSo, Microsoft's remote desktop protocol,\nfor example, uses port 3389.\n\n397\n00:19:40.500 --> 00:19:43.030\nThey've registered it with the INA.\n\n398\n00:19:43.030 --> 00:19:46.160\nAnd that's why you'll notice the random\nport numbers that I showed you earlier,\n\n399\n00:19:46.160 --> 00:19:49.760\nwhen it was my client, they were always\n59000 whatever, they were higher.\n\n400\n00:19:49.760 --> 00:19:53.270\nAnd that's because you only have\na small range that's left over.\n\n401\n00:19:53.270 --> 00:19:57.414\n49152 all the way to 65535.\n\n402\n00:19:57.414 --> 00:19:59.410\nThose are the ones that are just\nthe Wild West, anybody can use them.\n\n403\n00:19:59.410 --> 00:20:01.970\nAnd so\nyour clients normally stay in that range.\n\n404\n00:20:01.970 --> 00:20:02.720\nThey don't have to though.\n\n405\n00:20:02.720 --> 00:20:07.800\nRemember Dell's server, when it randomly\ngenerated one, it was like 37000.\n\n406\n00:20:07.800 --> 00:20:08.980\nIt was down in this range.\n\n407\n00:20:08.980 --> 00:20:12.050\nYou can do that, and\nin this case Dell's server did.\n\n408\n00:20:12.050 --> 00:20:15.000\n>> But if that happens they could\npotentially be stomping on somebody's\n\n409\n00:20:15.000 --> 00:20:16.005\napplication, right?\n\n410\n00:20:16.005 --> 00:20:18.820\n>> They sure could and that's a risk\nwith any of these port numbers.\n\n411\n00:20:18.820 --> 00:20:22.022\nYou can overlap with somebody.\n\n412\n00:20:22.022 --> 00:20:24.090\nAll right so let's take a look at some\nof the more common ones that are out\n\n413\n00:20:24.090 --> 00:20:25.340\nthere, right?\n\n414\n00:20:25.340 --> 00:20:29.199\nWe saw FTP a moment ago, and\nFTP for me was on port 21.\n\n415\n00:20:29.199 --> 00:20:32.335\nIf you go and crack open the standard for\na lot of these, though,\n\n416\n00:20:32.335 --> 00:20:35.354\nthey have a lot of extra flexibility,\nso if you read the RFC for\n\n417\n00:20:35.354 --> 00:20:39.680\nfile transfer protocol, it includes ports\n20 and 21, and it includes TCP and UDP.\n\n418\n00:20:39.680 --> 00:20:41.040\nIt includes both.\n\n419\n00:20:41.040 --> 00:20:45.529\nBut when you use it in practice, you'll\nsee that FTP really just uses TCP for\n\n420\n00:20:45.529 --> 00:20:48.616\neverything and so\nyou communicate that way, but for\n\n421\n00:20:48.616 --> 00:20:53.136\nthe exam remember that FTP is ports 20 and\n21 and that it uses TCP and UDP.\n\n422\n00:20:53.136 --> 00:20:55.480\nThat one will actually\nturn up on the exam.\n\n423\n00:20:55.480 --> 00:20:56.710\nWe got Secure Shell, right?\n\n424\n00:20:56.710 --> 00:21:01.920\nThat's an encrypted terminal connection\nto a system and it uses port 22.\n\n425\n00:21:01.920 --> 00:21:06.300\nSecure Shell's actually kind of like\nan upgrade, a secure upgrade for Telnet,\n\n426\n00:21:06.300 --> 00:21:10.490\nthe old shell protocol which ran on port\n23 so they're right next to each other.\n\n427\n00:21:10.490 --> 00:21:13.410\nTelnet gives you a remote shell,\nbut it's just not encrypted, right.\n\n428\n00:21:13.410 --> 00:21:15.330\nPort 23, they both use TCP.\n\n429\n00:21:16.550 --> 00:21:19.910\nThen we've got\nSimple Mail Transfer Protocol, SMTP.\n\n430\n00:21:19.910 --> 00:21:23.260\nWhen email is moving from\nserver to server, it uses SMTP.\n\n431\n00:21:23.260 --> 00:21:26.590\nAnd it runs on port 25 and it uses TCP.\n\n432\n00:21:26.590 --> 00:21:28.980\nTCP's really important here\ncuz if you send an email,\n\n433\n00:21:28.980 --> 00:21:31.330\nthen you wanna know that it's\ngonna get delivered, right?\n\n434\n00:21:31.330 --> 00:21:34.815\nI don't want this risk of the email\nnot making it to the other side so\n\n435\n00:21:34.815 --> 00:21:37.629\nit's important that it uses TCP and\ndoes not use UDP.\n\n436\n00:21:37.629 --> 00:21:41.899\nSome of the other protocols that we've\ngot, though, are a little more flexible,\n\n437\n00:21:41.899 --> 00:21:42.448\nlike DNS.\n\n438\n00:21:42.448 --> 00:21:45.836\nDNS, when you do a name lookup I\ncan send my name look up out and\n\n439\n00:21:45.836 --> 00:21:47.770\nif it doesn't make it what do I do?\n\n440\n00:21:47.770 --> 00:21:50.150\nI just send another name look up, right?\n\n441\n00:21:50.150 --> 00:21:52.120\nName look ups don't actually\ncarry critical data, and\n\n442\n00:21:52.120 --> 00:21:53.800\nthat's why DNS is kinda slow.\n\n443\n00:21:53.800 --> 00:21:57.470\nBut the way DNS works is\nthat it'll actually use UDP\n\n444\n00:21:57.470 --> 00:22:00.810\nif the query fits entirely in one packet.\n\n445\n00:22:00.810 --> 00:22:02.790\nBut if the query for\nsome reason is too big and\n\n446\n00:22:02.790 --> 00:22:05.960\nit needs to go to more than one packet,\nit'll switch and use TCP.\n\n447\n00:22:05.960 --> 00:22:08.570\nSo DNS can use both TCP and UDP.\n\n448\n00:22:08.570 --> 00:22:11.410\nSome people lock their servers\ndown to only support UDP, and\n\n449\n00:22:11.410 --> 00:22:13.770\nI've seen some people lock\nit down to only use TCP.\n\n450\n00:22:13.770 --> 00:22:18.200\nBut the standard says that it\nshould be able to support both,\n\n451\n00:22:18.200 --> 00:22:18.739\nand so it's on port 53.\n\n452\n00:22:20.130 --> 00:22:23.050\nPort 80 that's one of the easy ones\nwe should all know port 80 is web\n\n453\n00:22:23.050 --> 00:22:23.780\ntraffic right?\n\n454\n00:22:23.780 --> 00:22:26.710\nHTTP or\nthe Hypertext Transfer Protocol and\n\n455\n00:22:28.090 --> 00:22:30.780\nthat one's moving unencrypted web traffic.\n\n456\n00:22:32.070 --> 00:22:36.150\nBack in the day for email,\nwe used a protocol called POP or\n\n457\n00:22:36.150 --> 00:22:39.400\nthe Post Office Protocol, a lot of\npeople are familiar with version 3 so\n\n458\n00:22:39.400 --> 00:22:41.660\nPOP3 and it uses port 110.\n\n459\n00:22:41.660 --> 00:22:46.960\nIt's email, again, we wanna guarantee that\nit gets there, so it'll be TCP as well.\n\n460\n00:22:46.960 --> 00:22:49.470\nNNTP, Network News Transfer Protocol.\n\n461\n00:22:49.470 --> 00:22:51.110\nNNTP used to be a big deal.\n\n462\n00:22:51.110 --> 00:22:52.480\nNews servers, back in the day,\n\n463\n00:22:52.480 --> 00:22:56.740\nthat was what we had, it's kinda been\nreplaced by web based forums and things.\n\n464\n00:22:56.740 --> 00:23:00.665\nBut back in the day, if you wanted to post\nsomething for other people to read, you\n\n465\n00:23:00.665 --> 00:23:04.533\nwanted to catch up on what was going on on\nthe Internet, You went to internet news\n\n466\n00:23:04.533 --> 00:23:08.849\ngroups, and those news groups were hosted\non NNTP servers, and they used port 119.\n\n467\n00:23:08.849 --> 00:23:11.643\nToday I think they're really\njust used to bootleg software\n\n468\n00:23:11.643 --> 00:23:12.205\n>> [LAUGH]\n\n469\n00:23:12.205 --> 00:23:13.950\n>> I don't know, or movies and stuff.\n\n470\n00:23:13.950 --> 00:23:15.605\nI don't know anybody that\nlegitimately uses them anymore.\n\n471\n00:23:15.605 --> 00:23:17.130\n>> So a very practical purpose.\n\n472\n00:23:17.130 --> 00:23:19.645\n[LAUGH]\n>> But it's in the exam objectives so\n\n473\n00:23:19.645 --> 00:23:20.145\nwe need to know it.\n\n474\n00:23:20.145 --> 00:23:22.295\nSo make sure you remember that one, 119.\n\n475\n00:23:22.295 --> 00:23:25.475\nNetwork Time Protocol, now this one is\nactually not in the exam objectives.\n\n476\n00:23:25.475 --> 00:23:29.167\nI added it in because it's so darn\ncommon these days to have your computer\n\n477\n00:23:29.167 --> 00:23:31.907\nsynchronize their clock\nwith a network time server.\n\n478\n00:23:31.907 --> 00:23:33.283\nAnd it uses port 123.\n\n479\n00:23:33.283 --> 00:23:37.837\nOne of the reasons I wanted to bring it in\nhere, is that it uses UDP to do it, right?\n\n480\n00:23:37.837 --> 00:23:40.757\nIf my time query fails,\nI just send another one,\n\n481\n00:23:40.757 --> 00:23:42.568\nit's not like it was a critical look up.\n\n482\n00:23:42.568 --> 00:23:46.329\nAnd I don't want to use TCP because\ntime queries are very time sensitive.\n\n483\n00:23:46.329 --> 00:23:49.317\nI just wanna send data and\nget it back as quick as possible.\n\n484\n00:23:49.317 --> 00:23:52.767\nI don't wanna do a hand shake and\nall that other stuff,\n\n485\n00:23:52.767 --> 00:23:55.471\njust get the information and get it quick.\n\n486\n00:23:55.471 --> 00:23:57.541\nAnd then we've got NetBIOS on 139.\n\n487\n00:23:57.541 --> 00:24:01.598\nNetBIOS is one of the transfer protocols\nthat Microsoft systems use for\n\n488\n00:24:01.598 --> 00:24:06.170\nsharing files and folders across\nthe network and sharing printers too.\n\n489\n00:24:06.170 --> 00:24:10.280\nNetBIOS actually came from Intel way back\nin the day and now it's used by Microsoft.\n\n490\n00:24:10.280 --> 00:24:12.640\nNot exclusively,\nyou can use NetBIOS under Linux.\n\n491\n00:24:12.640 --> 00:24:16.510\nThere's the Samba system you can load that\nuses it, and even Apple systems use it so\n\n492\n00:24:16.510 --> 00:24:20.030\nyou can share files in between\nall the different OSs.\n\n493\n00:24:20.030 --> 00:24:22.610\nNow in this chart I've got a new\nmore protocols I want to talk about.\n\n494\n00:24:22.610 --> 00:24:23.180\nSome are new, but\n\n495\n00:24:23.180 --> 00:24:26.020\nmost are just secure versions of\nthe ones we've already talked about.\n\n496\n00:24:26.020 --> 00:24:30.040\nThe first one here is IMAP, or\nthe Internet Message Access Protocol.\n\n497\n00:24:30.040 --> 00:24:31.760\nIt's like in upgraded version of POP3.\n\n498\n00:24:31.760 --> 00:24:36.190\nIt added the ability to reliably\nleave messages on the server.\n\n499\n00:24:36.190 --> 00:24:38.960\nYou could create subfolders,\nwhich you couldn't do under POP, and\n\n500\n00:24:38.960 --> 00:24:40.560\nyou use TCP port 143.\n\n501\n00:24:40.560 --> 00:24:43.830\nThese days very few\npeople use POP3 anymore.\n\n502\n00:24:43.830 --> 00:24:45.030\nMost people use IMAP4.\n\n503\n00:24:45.030 --> 00:24:48.970\nSo that's an important one to know,\nand it uses TCP because it is email.\n\n504\n00:24:48.970 --> 00:24:51.490\nWe don't want to lose anything with it,\nright?\n\n505\n00:24:51.490 --> 00:24:54.643\nNext to it we got SNMP the Simple\nNetwork Management Protocol, and\n\n506\n00:24:54.643 --> 00:24:55.950\nthat's a great protocol.\n\n507\n00:24:55.950 --> 00:24:59.670\nI know we covered it in some other\nshows where you can remotely monitor\n\n508\n00:24:59.670 --> 00:25:01.940\nthe performance and health of a system.\n\n509\n00:25:01.940 --> 00:25:05.320\nWe can query a system to see\nwhat its CPU utilization is or\n\n510\n00:25:05.320 --> 00:25:09.590\nif a hard drive has failed, or jus,\ngeneral data about the system.\n\n511\n00:25:09.590 --> 00:25:11.550\nYou can really use it to\nget a lot of information.\n\n512\n00:25:11.550 --> 00:25:17.090\nIt uses UDP over port 161, and\nagain it's not really critical data.\n\n513\n00:25:17.090 --> 00:25:19.860\nIf it doesn't work we\njust re-request the data.\n\n514\n00:25:19.860 --> 00:25:20.380\nIt's no big deal.\n\n515\n00:25:20.380 --> 00:25:22.380\nSo we don't need the overhead at TCP for\nit.\n\n516\n00:25:22.380 --> 00:25:25.320\nNow the last four are all just\n\n517\n00:25:25.320 --> 00:25:27.830\nsecure versions of the protocols\nwe already talked about.\n\n518\n00:25:27.830 --> 00:25:30.550\nHTTP, SMTP, IMAP and POP.\n\n519\n00:25:30.550 --> 00:25:34.450\nWhen those four standards were written\nthe internet was a much safer place and\n\n520\n00:25:34.450 --> 00:25:38.080\npeople didn't worry about encrypting data,\nbut the internet is not like that anymore.\n\n521\n00:25:38.080 --> 00:25:38.640\nIt's dangerous.\n\n522\n00:25:38.640 --> 00:25:40.460\nWe need to secure our information.\n\n523\n00:25:40.460 --> 00:25:42.975\nSo what they've done is they've\ntaken those protocols and\n\n524\n00:25:42.975 --> 00:25:47.810\nthey support placing them on top\nof either SSL or TLS, right?\n\n525\n00:25:47.810 --> 00:25:51.310\nSecure socket layer, which is\nreally out of date these days, and\n\n526\n00:25:51.310 --> 00:25:55.410\ntransport layer security which is\nwhat we normally see now right?\n\n527\n00:25:55.410 --> 00:25:58.460\nWhen you browse to a website you see\na little lock symbol appear up in the bar\n\n528\n00:25:58.460 --> 00:26:00.930\nlike on our site that's TLS, right?\n\n529\n00:26:00.930 --> 00:26:05.300\nSSL is what used to do it, but the\nencryption that was originally created for\n\n530\n00:26:05.300 --> 00:26:07.630\nSSL was awesome back in the day.\n\n531\n00:26:07.630 --> 00:26:08.700\nToday, not so awesome.\n\n532\n00:26:08.700 --> 00:26:11.320\nActually pretty easy to break,\nand so TLS was it's replacement.\n\n533\n00:26:11.320 --> 00:26:15.200\nSo these protocols kind of work for\nboth SSL and TLS.\n\n534\n00:26:15.200 --> 00:26:19.980\nNow all of these are TCP because this is\nall data we want to guarantee gets it.\n\n535\n00:26:19.980 --> 00:26:24.510\nThat doesn't change, but what does\nchange are the port numbers, all right.\n\n536\n00:26:24.510 --> 00:26:30.580\nHTTP, unencrypted HTTP is port 80,\nencrypted is port 443.\n\n537\n00:26:30.580 --> 00:26:34.860\nSMTP, unencrypted is port 25,\nencrypted port 465.\n\n538\n00:26:34.860 --> 00:26:39.240\nNow, SMTP doesn't actually have an\nofficial standard for this port number, so\n\n539\n00:26:39.240 --> 00:26:40.890\nyou'll see some people use 587 also.\n\n540\n00:26:40.890 --> 00:26:45.000\nI tell you that just in case you see it\nin the real world, but on the exam it's\n\n541\n00:26:45.000 --> 00:26:47.920\njust usually 465 that shows up, which is\nthe one that's used server to server.\n\n542\n00:26:49.050 --> 00:26:50.490\nThen we've got IMAP.\n\n543\n00:26:50.490 --> 00:26:52.340\nIMAP is normally, what is it, 143.\n\n544\n00:26:52.340 --> 00:26:54.330\nIt's right here on my screen.\n\n545\n00:26:54.330 --> 00:26:58.860\nIt's normally 143, but when you encrypt\nit it's 993, and POP is normally 110, but\n\n546\n00:26:58.860 --> 00:27:01.690\nwhen you encrypt it it's 995.\n\n547\n00:27:01.690 --> 00:27:04.200\nSo that's about 15 protocols right there.\n\n548\n00:27:04.200 --> 00:27:07.900\nThese are all ones that can and\nlikely will show up on the exam so\n\n549\n00:27:07.900 --> 00:27:09.400\nyou definitely want to\nhave those memorized.\n\n550\n00:27:09.400 --> 00:27:10.700\nIt's just one of those things.\n\n551\n00:27:10.700 --> 00:27:12.950\nI'll put them all in the show notes so\nthat you'll have them.\n\n552\n00:27:12.950 --> 00:27:17.320\nMake sure you memorize the protocol name,\nthe port number, and\n\n553\n00:27:17.320 --> 00:27:22.970\nwhether it uses TCP or UDP, and be careful\ncuz some of them can use both like DNS,\n\n554\n00:27:22.970 --> 00:27:25.780\nsome of them only use UDP,\nsome of them only use TCP.\n\n555\n00:27:25.780 --> 00:27:28.260\nSo make sure you know those, and\nknow the differences between them,\n\n556\n00:27:28.260 --> 00:27:30.840\nbut you definitely wanna have that\nmemorized because it'll be easy questions\n\n557\n00:27:30.840 --> 00:27:31.880\non the exam if you do.\n\n558\n00:27:31.880 --> 00:27:34.280\n>> Yeah Don,\nthis is great flash card material for\n\n559\n00:27:34.280 --> 00:27:37.460\nyou out there that are studying for\nthis exam specifically.\n\n560\n00:27:37.460 --> 00:27:38.500\nJust go ahead and create them.\n\n561\n00:27:38.500 --> 00:27:42.940\nI know it's a bear, it's drudgery,\n\n562\n00:27:42.940 --> 00:27:45.930\nbut you bury that stuff into your\nbrain when it comes time for\n\n563\n00:27:45.930 --> 00:27:50.750\nthat exam you are prepared for any\nquestion that references port numbers and\n\n564\n00:27:50.750 --> 00:27:54.370\nprotocols, and whether or\nnot what's using what, so be prepared for\n\n565\n00:27:54.370 --> 00:27:57.570\nthis, cuz like Don said they\nare gonna hit you with that stuff.\n\n566\n00:27:57.570 --> 00:27:59.440\nDon, that being said is there anything\nelse that we need to cover for\n\n567\n00:27:59.440 --> 00:28:01.000\nthis episode when it comes to networking.\n\n568\n00:28:01.000 --> 00:28:04.100\n>> Well, I want everybody to remember\nthat we are going to see this again.\n\n569\n00:28:04.100 --> 00:28:07.170\nWhen you're troubleshooting network\nconnectivity you see those port numbers.\n\n570\n00:28:07.170 --> 00:28:08.920\nLike when I ran NetStat I\nsaw the port numbers,\n\n571\n00:28:08.920 --> 00:28:11.800\nand I knew it was web traffic because\nI knew the port 80 was web traffic.\n\n572\n00:28:11.800 --> 00:28:15.190\nSo if we know this stuff it definitely\nhelps the troubleshooting, and\n\n573\n00:28:15.190 --> 00:28:17.940\nwe're gonna see it when we talk about\nsecurity cuz if you're configuring\n\n574\n00:28:17.940 --> 00:28:21.940\na firewall like IP tables you've gotta\nauthorize what ports are open and\n\n575\n00:28:21.940 --> 00:28:24.790\nwhat ports are closed to allow\ntraffic in and out of your machine.\n\n576\n00:28:24.790 --> 00:28:28.250\nYou need to know the port numbers for that\ntoo, so this is something that will come\n\n577\n00:28:28.250 --> 00:28:32.160\nup over and over again not just in Linux\nbut in other operating systems as well.\n\n578\n00:28:32.160 --> 00:28:34.370\nSo this is good foundational\nknowledge to have.\n\n579\n00:28:34.370 --> 00:28:36.180\nI know it stinks to have\nto memorize something, but\n\n580\n00:28:36.180 --> 00:28:38.220\nin this case it's definitely\nsomething you wanna do.\n\n581\n00:28:38.220 --> 00:28:39.945\n>> Yep.\nWell, great words for Don.\n\n582\n00:28:39.945 --> 00:28:41.810\n>> [LAUGH]\n>> He's totally right.\n\n583\n00:28:41.810 --> 00:28:43.000\nDefinitely just memorize this.\n\n584\n00:28:43.000 --> 00:28:44.750\nWe can't hammer them away enough.\n\n585\n00:28:44.750 --> 00:28:47.470\nLike he says we're gonna see it again\nanyway, so it's gonna help you with\n\n586\n00:28:47.470 --> 00:28:51.770\nthe retention and give you a little\ncontext to help retain that as well.\n\n587\n00:28:51.770 --> 00:28:55.320\nDon, thank you so much for explaining\nthis to us cuz it can be a little bit\n\n588\n00:28:55.320 --> 00:28:59.100\noverwhelming if this is something you're\nnew to, but really great explanations.\n\n589\n00:28:59.100 --> 00:29:00.560\nWe appreciate you showing up.\n\n590\n00:29:00.560 --> 00:29:02.560\nThat being said we thank you for watching.\n\n591\n00:29:02.560 --> 00:29:04.150\nWe're gonna go ahead and\nsign off for IT Pro TV.\n\n592\n00:29:04.150 --> 00:29:06.140\nI've been your host Daniel Lowrie.\n\n593\n00:29:06.140 --> 00:29:06.990\n>> And I'm Don Pazette.\n\n594\n00:29:06.990 --> 00:29:09.250\n>> We'll see you next time.\n\n595\n00:29:09.250 --> 00:29:14.706\n[SOUND]\n\n",
          "vimeoId": "153380751"
        },
        {
          "description": null,
          "length": "1668",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-2-configuring_networking-062515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-2-configuring_networking-062515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-2-configuring_networking-062515-1-sm.jpg",
          "title": "Configuring Networking",
          "transcript": "WEBVTT\n\n1\n00:00:00.124 --> 00:00:10.804\n[MUSIC]\n\n2\n00:00:10.804 --> 00:00:14.770\nAll right, everyone welcome to\nanother great episode of ITProTV.\n\n3\n00:00:14.770 --> 00:00:16.030\nI'll be your host, Daniel Lowrie.\n\n4\n00:00:16.030 --> 00:00:19.120\nAnd here with me today is feeling it,\nDon Pezet.\n\n5\n00:00:19.120 --> 00:00:19.690\nHow's it going, Don?\n[LAUGH]\n\n6\n00:00:19.690 --> 00:00:21.270\n>> That's right, I feel it, feel it,\n\n7\n00:00:21.270 --> 00:00:23.005\njust like Marky Mark and the funky bunch.\n\n8\n00:00:23.005 --> 00:00:29.810\n[LAUGH] Welcome back to another episode of\nLinux+, not the 90s pop flashback episode.\n\n9\n00:00:29.810 --> 00:00:32.450\nSo we're gonna be taking a look at\nconfiguring our network adapters,\n\n10\n00:00:32.450 --> 00:00:33.190\ninside of Linux.\n\n11\n00:00:33.190 --> 00:00:35.280\nThis is something that\nit is really important,\n\n12\n00:00:35.280 --> 00:00:38.210\nand I know some of you are thinking right\nnow, configuring a network adapter?\n\n13\n00:00:38.210 --> 00:00:40.340\nIt works out of the box!\n\n14\n00:00:40.340 --> 00:00:41.180\nAnd your right.\n\n15\n00:00:41.180 --> 00:00:42.820\nIf you install a distro with a GUI,\n\n16\n00:00:42.820 --> 00:00:47.190\nyou know with a graphical user interface,\nalmost all of the distro's,\n\n17\n00:00:47.190 --> 00:00:51.010\nautomatically detect network adapters and\nautomatically set them up.\n\n18\n00:00:51.010 --> 00:00:56.270\nHowever, if you're deploying a server,\nits rare that you put a GUI on a server,\n\n19\n00:00:56.270 --> 00:00:57.530\nor it should be, right [LAUGH]?\n\n20\n00:00:57.530 --> 00:00:59.330\nYou shouldn't have a GUI on your server.\n\n21\n00:00:59.330 --> 00:01:01.120\nSo you gotta do it from the command line.\n\n22\n00:01:01.120 --> 00:01:02.800\nAnd when you do a minimal install for\n\n23\n00:01:02.800 --> 00:01:06.760\na server, all that automatic network\nstuff, that's kinda out the window.\n\n24\n00:01:06.760 --> 00:01:08.210\nThat, really doesn't apply.\n\n25\n00:01:08.210 --> 00:01:11.890\nSo we need to have an understanding\nof where these settings actually go,\n\n26\n00:01:11.890 --> 00:01:13.650\nwhat it is they do.\n\n27\n00:01:13.650 --> 00:01:16.979\nAnd then start to take a look at\nhow we configure that adapter,\n\n28\n00:01:16.979 --> 00:01:19.100\nhow we get the IPs assigned, and so on.\n\n29\n00:01:19.100 --> 00:01:21.974\nAnd remember, there's really just a few\npieces of information we need to set.\n\n30\n00:01:21.974 --> 00:01:29.070\nIP address, subnet mask, default gateway,\nDNS servers, and host name.\n\n31\n00:01:29.070 --> 00:01:32.520\nThose five pieces of information, those\nare kind of the key components we need to\n\n32\n00:01:32.520 --> 00:01:34.690\nhave and, host name,\nyou could leave that one off I guess,\n\n33\n00:01:34.690 --> 00:01:38.680\nbut the other four you really gotta have,\nif you want basic network communications.\n\n34\n00:01:38.680 --> 00:01:41.040\nSo we're gonna take a look at\nthe configuration files, and\n\n35\n00:01:41.040 --> 00:01:43.275\nall that define our network adapters.\n\n36\n00:01:44.310 --> 00:01:47.930\nLet's start with just the basic\nadapter itself, right.\n\n37\n00:01:47.930 --> 00:01:51.930\nMaybe I just need quick and dirty,\nget an adapter fired up, and I'm not so\n\n38\n00:01:51.930 --> 00:01:54.430\nworried about config files and\nall that stuff, right?\n\n39\n00:01:54.430 --> 00:01:58.020\nWell, from the command prompt, one of\nthe most important commands we have is one\n\n40\n00:01:58.020 --> 00:02:02.570\ncalled ifconfig, the interface\nconfiguration command, right.\n\n41\n00:02:02.570 --> 00:02:08.030\nAnd I use ifconfig all the time, I run it\ncause it tells me what my interfaces are,\n\n42\n00:02:08.030 --> 00:02:10.730\nwell, configured for,\nkinda where it got it's name.\n\n43\n00:02:10.730 --> 00:02:14.630\nSo I can see I've got like,\nF zero there, for my Ethernet zero,\n\n44\n00:02:14.630 --> 00:02:16.380\nmy first network adapter.\n\n45\n00:02:16.380 --> 00:02:20.610\nAnd I've got lo, for my loopback adapter,\nright, so I can see those two adapters,\n\n46\n00:02:20.610 --> 00:02:23.560\nand if they've got an IP address,\nI'll see it in here.\n\n47\n00:02:23.560 --> 00:02:26.770\nI can see my eth0 has a ipv6 address, but\n\n48\n00:02:26.770 --> 00:02:30.275\nI don't have an ipv4 address for\nsome reason.\n\n49\n00:02:30.275 --> 00:02:31.125\nThat's odd.\n\n50\n00:02:31.125 --> 00:02:32.725\nWell, it's not too odd.\n\n51\n00:02:32.725 --> 00:02:36.105\nWhen you do a new server and install, and\nyou do a minimal install it, it's not\n\n52\n00:02:36.105 --> 00:02:39.485\ngonna configure the adapter, or some of\nthe distros, I think Debian actually does\n\n53\n00:02:39.485 --> 00:02:42.875\nask for an IP during the setup, and so\nyou can have a basic config put on there.\n\n54\n00:02:42.875 --> 00:02:45.495\nBut you may or may not have that, alright.\n\n55\n00:02:45.495 --> 00:02:49.823\nSo, I can use ifconfig,\nto actually configure this adapter and\n\n56\n00:02:49.823 --> 00:02:51.720\nbring it on if I want.\n\n57\n00:02:51.720 --> 00:02:55.970\nSo I could do something like this, I could\nsay, well I'm gonna start by elevating my\n\n58\n00:02:55.970 --> 00:02:59.670\nprivileges, because you do need to\nhave admin privileges to do this.\n\n59\n00:02:59.670 --> 00:03:01.090\nSo you can use sudo if you want.\n\n60\n00:03:01.090 --> 00:03:03.067\nI'm just gonna SU into root.\n\n61\n00:03:03.067 --> 00:03:09.522\nAnd then I'm gonna say ifconfig,\nfollowed by my adapter, right, f0 for me.\n\n62\n00:03:09.522 --> 00:03:12.563\nUp, cuz I wanna turn it on.\n\n63\n00:03:12.563 --> 00:03:14.305\nAnd then I'm gonna give it an IP.\n\n64\n00:03:14.305 --> 00:03:17.860\nSo I'm gonna give it 10.1.230.245.\n\n65\n00:03:17.860 --> 00:03:24.725\nI'll give it a net mask of,\n255 255 255 0, like that.\n\n66\n00:03:24.725 --> 00:03:28.795\nAnd it's gonna apply that IP address to\nthe interface, and it's gonna bring it up,\n\n67\n00:03:28.795 --> 00:03:29.630\nall right?\n\n68\n00:03:29.630 --> 00:03:30.840\nThat interface just came up.\n\n69\n00:03:30.840 --> 00:03:32.990\nWell the interface was already up, right?\n\n70\n00:03:32.990 --> 00:03:35.010\nI could see where I was receiving packets,\nbut I,\n\n71\n00:03:35.010 --> 00:03:37.270\nyou know,\nwasn't really doing anything with them.\n\n72\n00:03:37.270 --> 00:03:40.420\nNow, I should be able to send and receive.\n\n73\n00:03:40.420 --> 00:03:44.270\nAnd I can see right here that I've\ngot that IP address assigned, and\n\n74\n00:03:44.270 --> 00:03:48.230\nI should be able to ping out to\nhost on that network in there.\n\n75\n00:03:48.230 --> 00:03:49.925\nI can see I can communicate.\n\n76\n00:03:49.925 --> 00:03:54.175\nI've got an IP.\nThe only problem here is,\n\n77\n00:03:54.175 --> 00:03:55.715\nwhat if I reboot?\n\n78\n00:03:55.715 --> 00:03:58.215\nIf I reboot,\nwhat I just did is not persistent.\n\n79\n00:03:58.215 --> 00:03:59.425\nThat was just a one time thing.\n\n80\n00:03:59.425 --> 00:04:00.295\nI used ifconfig.\n\n81\n00:04:00.295 --> 00:04:01.105\nI assigned it.\n\n82\n00:04:01.105 --> 00:04:03.035\nIf I reboot, I lose those settings.\n\n83\n00:04:03.035 --> 00:04:07.730\nSo, if I just need to temporarily get on\nthe network, that's a great way to do it.\n\n84\n00:04:07.730 --> 00:04:12.220\nThere's other temporary commands\nlike that like, ifup and ifdown.\n\n85\n00:04:12.220 --> 00:04:16.670\nIf I want to temporarily take that\ninterface down, I could say ifdown.\n\n86\n00:04:16.670 --> 00:04:19.130\nF zero, and that's gonna shut it down.\n\n87\n00:04:19.130 --> 00:04:23.340\nAnd when you do ifconfig here you'll see\nthat, actually it's still showing as up.\n\n88\n00:04:23.340 --> 00:04:26.700\nIf I give it a second, it'll actually\ndisappear from this list, and\n\n89\n00:04:26.700 --> 00:04:31.140\nit'll be off and if I try and\nping out, let's see.\n\n90\n00:04:31.140 --> 00:04:32.920\nWell, that's actually not going down.\n\n91\n00:04:32.920 --> 00:04:36.140\nOh, did I forget to do\nsomething a little important?\n\n92\n00:04:36.140 --> 00:04:36.810\nNope, I did it, eth0.\n\n93\n00:04:36.810 --> 00:04:40.720\nYou have to say ifdown followed by the\ninterface, and then it'll take it down.\n\n94\n00:04:40.720 --> 00:04:45.830\nAnd then you can bring it back up with\nifup eth0, and that'll bring it back up.\n\n95\n00:04:45.830 --> 00:04:49.070\nNow mine's gonna get a little angry\nat me here, cuz it's already up.\n\n96\n00:04:49.070 --> 00:04:52.990\nSo, quick little commands you can issue\nto bring it up, or bring it down.\n\n97\n00:04:52.990 --> 00:04:55.290\nI could also use ifconfig to do that.\n\n98\n00:04:55.290 --> 00:04:57.640\nYou know it's gonna kind of hang there for\na second.\n\n99\n00:04:57.640 --> 00:05:02.132\nSo I can use ifconfig, f0, and\n\n100\n00:05:02.132 --> 00:05:06.823\nup, which is what I did a minute ago or\ndown to take it down.\n\n101\n00:05:06.823 --> 00:05:07.487\nSo those are kind of different ways.\n\n102\n00:05:07.487 --> 00:05:10.380\nBut all these commands,\nare just temporary, right.\n\n103\n00:05:10.380 --> 00:05:13.240\nThey're not persistent if I reboot,\nI lose them.\n\n104\n00:05:13.240 --> 00:05:16.692\nSo if we really wanna get our\nnetwork card configured properly,\n\n105\n00:05:16.692 --> 00:05:18.407\nwe've gotta modify some config files,\nalright.\n\n106\n00:05:19.700 --> 00:05:24.420\nNow, unfortunately, different distro's\nstore the configs, in different places.\n\n107\n00:05:24.420 --> 00:05:27.000\nBut fortunately, there's two real\nleaders that are out there right now,\n\n108\n00:05:27.000 --> 00:05:28.810\nRedHat and Debian.\n\n109\n00:05:28.810 --> 00:05:31.830\nAnd so, most of the distros that we run,\nare based off of one of those two.\n\n110\n00:05:31.830 --> 00:05:34.650\nIf you're on Ubuntu or Mint,\nthey're based off of Debian.\n\n111\n00:05:34.650 --> 00:05:37.720\nIf you run CentOS,\nit's built off of RedHat.\n\n112\n00:05:37.720 --> 00:05:40.650\nSo, it's usually gonna\nbe in one of two places.\n\n113\n00:05:40.650 --> 00:05:45.541\nOn a RedHat based system,\nthe configs are stored in\n\n114\n00:05:45.541 --> 00:05:49.654\n/etc/sysconfig/network-scripts.\n\n115\n00:05:49.654 --> 00:05:52.860\nWhoops, if I spell scripts right.\n\n116\n00:05:52.860 --> 00:05:54.415\nThere we go, that path right there.\n\n117\n00:05:54.415 --> 00:05:58.130\n/etc/sysconfig/network-scripts.\n\n118\n00:05:58.130 --> 00:06:01.490\nIf you're on a Debian system,\nit's actually a little bit different.\n\n119\n00:06:01.490 --> 00:06:06.280\nIt's in /etc/network/interfaces, right.\n\n120\n00:06:06.280 --> 00:06:09.490\n/etc/network/interfaces.\n\n121\n00:06:09.490 --> 00:06:13.340\nBut inside of either of those directories,\nwhat you'll find are a bunch\n\n122\n00:06:13.340 --> 00:06:17.360\nof scripts that run when your system boots\nup when it turns on the network service.\n\n123\n00:06:17.360 --> 00:06:21.130\nAnd you'll have a script for\neach network adapter in your system.\n\n124\n00:06:21.130 --> 00:06:25.160\nI can see ifconfig-eth0 right,\nthere for me.\n\n125\n00:06:25.160 --> 00:06:30.335\nAnd if I take a look at that file,\nyou'll see some settings in there,\n\n126\n00:06:30.335 --> 00:06:32.845\nthat are defining how this adapter works,\nalright.\n\n127\n00:06:32.845 --> 00:06:35.405\nMine says, device equals f0, alright.\n\n128\n00:06:35.405 --> 00:06:37.935\nSo that's it's name, Ethernet zero.\n\n129\n00:06:37.935 --> 00:06:39.975\nBOOTPROTO equals DHCP.\n\n130\n00:06:39.975 --> 00:06:43.575\nYou're normally gonna see one\nof two values here, DHCP,\n\n131\n00:06:43.575 --> 00:06:45.685\nfor dynamic host configuration protocol,\n\n132\n00:06:45.685 --> 00:06:48.260\nthat means automatically get\nan address from the network.\n\n133\n00:06:48.260 --> 00:06:51.645\nIt'll ask the network, say hey,\ncan somebody get me an IP?\n\n134\n00:06:51.645 --> 00:06:53.745\nAnd hopefully there's a DHCP server\nout there, that will reply and\n\n135\n00:06:53.745 --> 00:06:54.279\ngive us an address.\n\n136\n00:06:55.600 --> 00:06:57.520\nYou might see BOOTPROTO equals static,\n\n137\n00:06:57.520 --> 00:07:00.790\nand that means we're gonna\nmanually assign an IP ourselves.\n\n138\n00:07:00.790 --> 00:07:03.440\nWe'll always have the same address and\nthat's what you normally do on a server.\n\n139\n00:07:04.680 --> 00:07:09.390\nThen we see HWADDR,\nthat's the hardware address, right.\n\n140\n00:07:09.390 --> 00:07:12.390\nThat's the MAC address, or\nMedia Access Control address,\n\n141\n00:07:12.390 --> 00:07:14.400\nthat's tied to your network adapter.\n\n142\n00:07:14.400 --> 00:07:15.370\nI see IPV6INIT.\n\n143\n00:07:15.370 --> 00:07:18.570\nAlright, I'm enabling IPV6 for\nthis adapter.\n\n144\n00:07:19.570 --> 00:07:21.470\nI see NM_CONTROLLED=\"yes\".\n\n145\n00:07:21.470 --> 00:07:23.760\nNow this one is gonna cause us a problem.\n\n146\n00:07:24.930 --> 00:07:26.732\nNM is short for network manager.\n\n147\n00:07:26.732 --> 00:07:30.020\nIn RedHat systems, we have a software\nservice called network manager.\n\n148\n00:07:30.020 --> 00:07:31.750\nThat's the name here.\n\n149\n00:07:31.750 --> 00:07:34.300\nAnd it's what automatically\nconfigures our adapters.\n\n150\n00:07:34.300 --> 00:07:36.460\nThat's why I have these settings\nin here in the first place.\n\n151\n00:07:36.460 --> 00:07:38.110\nThe network manager put it there.\n\n152\n00:07:38.110 --> 00:07:39.790\nIf we're gonna take over\nthis configuration,\n\n153\n00:07:39.790 --> 00:07:41.050\nwe're gonna have to turn that off.\n\n154\n00:07:41.050 --> 00:07:44.250\nI'm gonna have to tell the network\nmanager to leave this adapter alone.\n\n155\n00:07:44.250 --> 00:07:45.570\nIf you use a RedHat base system,\n\n156\n00:07:45.570 --> 00:07:47.850\nyour network manager it's just\nthis little icon up here.\n\n157\n00:07:47.850 --> 00:07:49.505\nAnd see how I can see\nmy different adapters?\n\n158\n00:07:49.505 --> 00:07:54.003\nAnd I can see system eth0, and I can\ndisconnect it, or I can reconnect it and\n\n159\n00:07:54.003 --> 00:07:55.490\nstart to manipulate it.\n\n160\n00:07:55.490 --> 00:07:57.557\nThat's what's taking care of that.\n\n161\n00:07:57.557 --> 00:07:59.909\nAnd that's probably why my ifdown\ncommand didn't work earlier,\n\n162\n00:07:59.909 --> 00:08:01.740\nis the network manager was keeping it up.\n\n163\n00:08:01.740 --> 00:08:03.190\nWe'll disable that in just a moment.\n\n164\n00:08:05.080 --> 00:08:05.890\nAll right.\n\n165\n00:08:05.890 --> 00:08:08.190\nThe other one I've got\nis onboot equals yes.\n\n166\n00:08:08.190 --> 00:08:09.675\nThis one's really important.\n\n167\n00:08:09.675 --> 00:08:12.565\nWhen you do a minimal install for\na server, onboot is almost\n\n168\n00:08:12.565 --> 00:08:15.935\nalways set to no and that means when\nit boots up don't bother connecting it.\n\n169\n00:08:15.935 --> 00:08:18.935\nIf it says onboot equals yes when you\nreboot it will actually connect it\n\n170\n00:08:18.935 --> 00:08:20.755\nto the network and start the function.\n\n171\n00:08:20.755 --> 00:08:23.870\nThat's normally what we want.\n\n172\n00:08:23.870 --> 00:08:26.415\nType equals ethernet hopefully\nthat's what you see.\n\n173\n00:08:26.415 --> 00:08:28.675\nYou could see type equals\ntokenring I hope not.\n\n174\n00:08:28.675 --> 00:08:30.935\n[LAUGH] There are still some\ntokenring networks out there.\n\n175\n00:08:30.935 --> 00:08:32.197\n>> Old network if you're doing that.\n\n176\n00:08:32.197 --> 00:08:33.570\n[LAUGH]\n>> Yeah.\n\n177\n00:08:33.570 --> 00:08:37.130\nAnd then lastly we've got this UUID,\nUniversal ID for your network adapter.\n\n178\n00:08:37.130 --> 00:08:38.076\nAnd these values,\n\n179\n00:08:38.076 --> 00:08:41.152\nthey're not all required,\nlike you can leave off this UUID,\n\n180\n00:08:41.152 --> 00:08:45.307\nyou can leave off Type=Ethernet, It'll\nactually auto figure out some of those.\n\n181\n00:08:45.307 --> 00:08:47.409\nBut others are really important,\n\n182\n00:08:47.409 --> 00:08:52.348\nyou know we've gotta have what our IP\naddress is if we're gonna be functioning.\n\n183\n00:08:52.348 --> 00:08:56.987\nAnd I don't have an IP address in here\nwhich is why my system is not booting up\n\n184\n00:08:56.987 --> 00:08:59.710\nwith an IP right now, all right.\n\n185\n00:08:59.710 --> 00:09:03.990\nSo, I need to go and assign one so that\nit'll be there and it'll be persistent.\n\n186\n00:09:03.990 --> 00:09:05.210\nSo, I'm gonna edit that file.\n\n187\n00:09:05.210 --> 00:09:06.951\nSo remember,\n\n188\n00:09:06.951 --> 00:09:15.231\nthis was\n/etc/sysconfig/network-scripts/ifcfg-eth0.\n\n189\n00:09:15.231 --> 00:09:17.496\nThat's the file that I'm\nworking with right now.\n\n190\n00:09:17.496 --> 00:09:19.155\nAnd I'm gonna go in and\nchange a few things.\n\n191\n00:09:19.155 --> 00:09:24.015\nI'm gonna change my boot\nprotocol to static.\n\n192\n00:09:24.015 --> 00:09:27.120\nAll right?\nI want it to be a static IP, not dynamic.\n\n193\n00:09:27.120 --> 00:09:30.330\nThat means I need to provide\nit some more information.\n\n194\n00:09:30.330 --> 00:09:34.209\nAnd that other information,\nI'm gonna say things like, IPADDR=, and\n\n195\n00:09:34.209 --> 00:09:37.710\nthen I'll give it an IP address.\n\n196\n00:09:37.710 --> 00:09:41.722\nI'm gonna use 10.1.230.245, and\n\n197\n00:09:41.722 --> 00:09:47.508\nthen I'm gonna say NETMASK=, and\nthen I'll give it my subnet mask.\n\n198\n00:09:47.508 --> 00:09:50.655\nAll right, so I can put that in.\n\n199\n00:09:50.655 --> 00:09:55.089\nI can also provide my gateway.\n\n200\n00:09:55.089 --> 00:09:57.925\nIf I wanna be able to communicate\nto networks other than my own,\n\n201\n00:09:57.925 --> 00:09:59.960\nI'm gonna need a default gateway to go to.\n\n202\n00:09:59.960 --> 00:10:02.250\nAnd so I'll provide the IP\naddress to that gateway.\n\n203\n00:10:02.250 --> 00:10:04.000\nSo I'll punch that information in there.\n\n204\n00:10:04.000 --> 00:10:06.450\nI'm gonna make sure that\nonboot is set to yes.\n\n205\n00:10:06.450 --> 00:10:08.860\nAnd I'm gonna take this NM_CONTROLLED and\n\n206\n00:10:08.860 --> 00:10:11.400\nset that to no,\nnetwork manager controlled.\n\n207\n00:10:11.400 --> 00:10:13.080\nNow notice how all these are in quotes,\n\n208\n00:10:13.080 --> 00:10:16.970\nyou actually don't need the quotes on\nthese unless there's a space in the value.\n\n209\n00:10:16.970 --> 00:10:20.160\nAnd most of the time we don't have spaces,\nso you don't need the quotes.\n\n210\n00:10:20.160 --> 00:10:21.820\nBut they put them in here\njust to be on the safe side.\n\n211\n00:10:21.820 --> 00:10:22.590\nSo I'll leave them be.\n\n212\n00:10:23.980 --> 00:10:27.390\nAll right, at this point,\nI've got my static IP.\n\n213\n00:10:27.390 --> 00:10:28.720\nI've got my net mass.\n\n214\n00:10:28.720 --> 00:10:30.240\nI've got my gateway.\n\n215\n00:10:30.240 --> 00:10:32.400\nNetwork manager's gonna say hands off.\n\n216\n00:10:32.400 --> 00:10:36.630\nI should be in a pretty good position\nhere to get this working, all right?\n\n217\n00:10:36.630 --> 00:10:37.790\nI'm going to go ahead and save that.\n\n218\n00:10:37.790 --> 00:10:40.880\nAnd I'm going to do two things.\n\n219\n00:10:40.880 --> 00:10:43.160\nFirst off,\nI want to disable that network manager.\n\n220\n00:10:43.160 --> 00:10:45.360\nSo I'm going going to do a chconfig.\n\n221\n00:10:47.020 --> 00:10:49.010\nNetworkManager off.\n\n222\n00:10:50.270 --> 00:10:51.050\nAnd that's gonna tell it,\n\n223\n00:10:51.050 --> 00:10:53.840\ndon't start the network manager\nwhen my system starts, right.\n\n224\n00:10:53.840 --> 00:10:54.987\nCuz that's gonna drive me crazy.\n\n225\n00:10:54.987 --> 00:10:59.887\nIf you're on a System D, you would say\n\n226\n00:10:59.887 --> 00:11:05.070\nsystemctl disable NetworkManager.\n\n227\n00:11:05.070 --> 00:11:05.710\nThat's what you'd run.\n\n228\n00:11:05.710 --> 00:11:07.310\nI think it's actually .service on the end.\n\n229\n00:11:07.310 --> 00:11:08.540\nBut you can leave that part off.\n\n230\n00:11:08.540 --> 00:11:11.430\nSo, systemctl disable NeworkManager,\n\n231\n00:11:11.430 --> 00:11:14.110\nthat would systemd command\nto do the same thing.\n\n232\n00:11:14.110 --> 00:11:19.010\nBut chkconfig NetworkManager off,\nthat's what works on UpStart systems.\n\n233\n00:11:19.010 --> 00:11:25.999\nAnd then I'm just gonna say,\nservice NetworkManager stop.\n\n234\n00:11:25.999 --> 00:11:30.211\nSo I'm gonna stop that service on systemd,\nyou would say systemctl stop\n\n235\n00:11:30.211 --> 00:11:33.990\nNetworkmanager.service and\nthat would stop it.\n\n236\n00:11:33.990 --> 00:11:36.780\nAnd now it's stopped and\nit's not gonna restart when I boot up.\n\n237\n00:11:36.780 --> 00:11:38.640\nSo that gets it out of my way.\n\n238\n00:11:38.640 --> 00:11:40.340\nSo I'm done, right?\n\n239\n00:11:40.340 --> 00:11:41.640\nWell not exactly.\n\n240\n00:11:41.640 --> 00:11:45.000\nThese config files,\nthey're read when your system boots up.\n\n241\n00:11:45.000 --> 00:11:48.770\nAnd so when I run ifconfig see\nhow my eta0 just disappeared?\n\n242\n00:11:48.770 --> 00:11:50.160\nWhere'd it go?\n\n243\n00:11:50.160 --> 00:11:53.060\nWell, remember the ifdown\ncommand that I issued earlier?\n\n244\n00:11:53.060 --> 00:11:54.140\nNow it's working.\n\n245\n00:11:54.140 --> 00:11:56.820\nSince the network manager's\nout of the picture.\n\n246\n00:11:56.820 --> 00:11:58.830\nAnd so eth0's gone, it's off.\n\n247\n00:11:58.830 --> 00:11:59.870\nSo I need to bring it back up.\n\n248\n00:11:59.870 --> 00:12:04.560\nAnd I could say ifup and bring it up\nmyself, but that's not persistent.\n\n249\n00:12:04.560 --> 00:12:07.880\nIt's in the config file, so there's\ntwo ways to get it to come back up.\n\n250\n00:12:07.880 --> 00:12:09.100\nYou can reboot, right?\n\n251\n00:12:09.100 --> 00:12:10.230\nThat's one way.\n\n252\n00:12:10.230 --> 00:12:12.640\nBut we really just need to\nrestart the network service.\n\n253\n00:12:12.640 --> 00:12:17.582\nSo I'm gonna say, service Network restart.\n\n254\n00:12:17.582 --> 00:12:20.060\nSo I'm gonna restart\nthe network service and\n\n255\n00:12:20.060 --> 00:12:22.630\nthat's gonna fire up and,\noop, duplicate IP.\n\n256\n00:12:22.630 --> 00:12:23.810\nShoot.\n\n257\n00:12:23.810 --> 00:12:27.100\nPicked an IP that's already in use.\n\n258\n00:12:27.100 --> 00:12:28.960\nI probably should have checked that.\n\n259\n00:12:28.960 --> 00:12:30.310\n>> Those IP's, they don't like sharing.\n\n260\n00:12:30.310 --> 00:12:31.180\n>> Fortunately it told me.\n\n261\n00:12:31.180 --> 00:12:33.190\nSo I'm gonna switch out IP's here.\n\n262\n00:12:33.190 --> 00:12:39.448\nWe'll go, what's gonna be a different\nIP I can use, how about 243?\n\n263\n00:12:39.448 --> 00:12:44.720\n[LAUGH] Things that, really,\nthat IP, now I gotta go crazy.\n\n264\n00:12:44.720 --> 00:12:46.950\nBut it restarts and\nthen my IP takes effect.\n\n265\n00:12:46.950 --> 00:12:49.790\nI know it's taking effect because\nI'm seeing my conflict, right?\n\n266\n00:12:49.790 --> 00:12:52.530\nSo that's certainly one way to see it.\n\n267\n00:12:52.530 --> 00:12:53.590\nHere, 238.\n\n268\n00:12:53.590 --> 00:12:55.050\nI'm sure that one's good, right?\n\n269\n00:12:55.050 --> 00:12:57.295\nThere's no way somebody's [CROSSTALK].\n\n270\n00:12:57.295 --> 00:13:00.126\nSo each time I restart\nit the nice part here,\n\n271\n00:13:00.126 --> 00:13:03.430\nalright well you know I'm\njust going to go to that.\n\n272\n00:13:03.430 --> 00:13:05.880\nSo the nice part here is,\nI'm not having to reboot my whole server,\n\n273\n00:13:05.880 --> 00:13:06.760\nI'm just restarting the service.\n\n274\n00:13:06.760 --> 00:13:07.680\nIt's very quick.\n\n275\n00:13:07.680 --> 00:13:10.030\nI get my IP and I'm in business, right?\n\n276\n00:13:10.030 --> 00:13:13.220\nThat's kind of what we want with this\nstuff, to be able to move quickly and\n\n277\n00:13:13.220 --> 00:13:14.740\nget configured and get out there.\n\n278\n00:13:14.740 --> 00:13:18.230\nNow once it's up I can do an IF config and\n\n279\n00:13:18.230 --> 00:13:21.830\nI should see my IP address right there,\nyep, it's assigned.\n\n280\n00:13:21.830 --> 00:13:23.520\nAnd I should be talking.\n\n281\n00:13:23.520 --> 00:13:25.910\nNow, It told me I got a duplicate\nwhich I think is odd so\n\n282\n00:13:25.910 --> 00:13:28.790\nI might not actually be able to talk,\nbut no, I'm getting out there.\n\n283\n00:13:28.790 --> 00:13:31.030\nMight not be getting true duplicates.\n\n284\n00:13:31.030 --> 00:13:32.610\nI've got my network adapter virtualized,\nso\n\n285\n00:13:32.610 --> 00:13:35.580\nI might be bumping into other\nvirtual machines, but there we go.\n\n286\n00:13:35.580 --> 00:13:36.620\nI can communicate.\n\n287\n00:13:36.620 --> 00:13:37.510\nI've got my IP address.\n\n288\n00:13:37.510 --> 00:13:38.410\nI've got a default gateway.\n\n289\n00:13:38.410 --> 00:13:41.720\nI should be able to get all\nthe way out to the Internet.\n\n290\n00:13:41.720 --> 00:13:43.040\nAnd sure enough I can.\n\n291\n00:13:43.040 --> 00:13:44.500\nSo I'm functioning.\n\n292\n00:13:44.500 --> 00:13:45.920\nBut I'm not done yet.\n\n293\n00:13:45.920 --> 00:13:48.570\nI've got my IP my net mask and my gateway.\n\n294\n00:13:48.570 --> 00:13:49.920\nRight?\nSo those are good.\n\n295\n00:13:49.920 --> 00:13:52.470\nBut there's a few other things\nI might need to configure.\n\n296\n00:13:52.470 --> 00:13:53.960\nFirst off, that gateway.\n\n297\n00:13:53.960 --> 00:13:57.070\nYou can only have one default gateway.\n\n298\n00:13:57.070 --> 00:13:58.890\nWell, I've only got one network adapter so\n\n299\n00:13:58.890 --> 00:14:01.490\nI put that gateway in my network\nadapter script and that worked great.\n\n300\n00:14:01.490 --> 00:14:02.190\nWe see it right here.\n\n301\n00:14:02.190 --> 00:14:06.000\nIt's working just fine, but what if\nI have more than one network adapter?\n\n302\n00:14:06.000 --> 00:14:09.080\nIf you define a gateway\non more than one adapter,\n\n303\n00:14:09.080 --> 00:14:11.860\nit's just gonna pick the first one for\nthe card that initializes it.\n\n304\n00:14:11.860 --> 00:14:13.120\nIt will always pick f0 for me.\n\n305\n00:14:13.120 --> 00:14:15.890\nIf I had an f1, with a gateway,\nit would never use it.\n\n306\n00:14:15.890 --> 00:14:20.480\nSo instead, I might wanna put\nthe gateway in a central location, so\n\n307\n00:14:20.480 --> 00:14:23.390\nI can pick which gateway I want to use.\n\n308\n00:14:23.390 --> 00:14:27.820\nAnd if I want to do that, that's stored\nin a different place, of course.\n\n309\n00:14:27.820 --> 00:14:33.120\nSo, that's stored in slash etc\nslash sysconfig slash network.\n\n310\n00:14:34.550 --> 00:14:37.220\nAnd if I go in and\ntake a look at that file, so\n\n311\n00:14:37.220 --> 00:14:42.150\nI'm in slash etc slash sysconfig, and\nI can see that network file, right there.\n\n312\n00:14:42.150 --> 00:14:45.770\nSo I'm gong to edit that.\n\n313\n00:14:45.770 --> 00:14:50.720\nWhen I go inside that file, you'll see\nthings like the host name defined here,\n\n314\n00:14:50.720 --> 00:14:53.010\nbut I can also define my gateway.\n\n315\n00:14:53.010 --> 00:14:56.190\nIt's the same syntax as what\nwas in that other file.\n\n316\n00:14:56.190 --> 00:14:57.690\nI'm just gonna put it here.\n\n317\n00:14:57.690 --> 00:15:00.280\nAnd that way if I have more\nthan one network adapter,\n\n318\n00:15:00.280 --> 00:15:01.760\nI know this is the gateway I'm gonna use.\n\n319\n00:15:01.760 --> 00:15:02.740\nAll right?\n\n320\n00:15:02.740 --> 00:15:04.740\nThat's important if you\ngot more than one adapter.\n\n321\n00:15:04.740 --> 00:15:06.330\nIf you only have one adapter,\nit doesn't really matter.\n\n322\n00:15:06.330 --> 00:15:08.270\nYou just stick it on the adapter,\nand that's fine, too.\n\n323\n00:15:08.270 --> 00:15:09.800\nSo either way.\n\n324\n00:15:09.800 --> 00:15:10.330\nRight.\n\n325\n00:15:10.330 --> 00:15:12.790\nBut while we're here, the host name.\n\n326\n00:15:12.790 --> 00:15:15.260\nMy host name is localhost.localdomain.\n\n327\n00:15:15.260 --> 00:15:17.720\nNow, you actually have a command\nline utility called hostname,\n\n328\n00:15:17.720 --> 00:15:20.250\nand you can use that to set\nyour hostname if you want.\n\n329\n00:15:20.250 --> 00:15:22.730\nBut it's not persistent,\nyou reboot and you use it.\n\n330\n00:15:22.730 --> 00:15:25.790\nSo if we put it here,\nwe can define what that's going to be.\n\n331\n00:15:25.790 --> 00:15:32.430\nSo I might want to call this one\nDPlaptop.lab.ITPro.TV all right.\n\n332\n00:15:32.430 --> 00:15:36.180\nI can define that host name right here,\nand now I've got that name.\n\n333\n00:15:36.180 --> 00:15:36.850\nAll right.\n\n334\n00:15:36.850 --> 00:15:40.540\nBut be careful on this one, different\ndistros put the host name in different\n\n335\n00:15:40.540 --> 00:15:43.460\nplaces and some distros actually\nhave it more than one place.\n\n336\n00:15:43.460 --> 00:15:48.987\nSo this is certainly one place to go,\n\"/etc/sysconfig/network\" all right.\n\n337\n00:15:48.987 --> 00:15:51.975\nSome of the other places\nthat you might find it,\n\n338\n00:15:51.975 --> 00:15:54.749\nyou might find it in\nyour DNS resolver file.\n\n339\n00:15:54.749 --> 00:15:57.128\nWe'll see that in just a moment,\nthat's a place to look.\n\n340\n00:15:57.128 --> 00:16:00.912\nOther systems actually\nmaintain a /etc/hostname, and\n\n341\n00:16:00.912 --> 00:16:04.410\nlet me see if I have one\nof those on this system.\n\n342\n00:16:04.410 --> 00:16:05.570\nI don't know if I do.\n\n343\n00:16:05.570 --> 00:16:06.290\nNope.\n\n344\n00:16:06.290 --> 00:16:08.860\nI gotta host, I do have a host.conf\nthough, that's another place.\n\n345\n00:16:08.860 --> 00:16:10.220\nLet's take a look at that one.\n\n346\n00:16:10.220 --> 00:16:15.080\nSo this would be /etc/host.conf,\nand if I look in there, nah,\n\n347\n00:16:15.080 --> 00:16:17.640\nI've just got a couple little\nsimple entries in there.\n\n348\n00:16:17.640 --> 00:16:19.970\nNothing too special, so\nI don't have to worry about it.\n\n349\n00:16:19.970 --> 00:16:21.710\nBut just look up the documentation for\n\n350\n00:16:21.710 --> 00:16:23.930\nyour distro to see where\nhost name is stored.\n\n351\n00:16:23.930 --> 00:16:28.657\nSo make sure you get it need to\nthe places or it won't be permanent.\n\n352\n00:16:28.657 --> 00:16:32.390\nAll right, but again,\nsee how my prompt hasn't changed?\n\n353\n00:16:32.390 --> 00:16:35.128\nAnd that's because I have to restart the\nnetwork service for that to take effect.\n\n354\n00:16:35.128 --> 00:16:38.140\nBut I'm gonna hold off on that\nbecause I want to do one more change.\n\n355\n00:16:38.140 --> 00:16:39.520\nMy DNS servers.\n\n356\n00:16:39.520 --> 00:16:41.840\nHow am I doing DNS look ups right now?\n\n357\n00:16:41.840 --> 00:16:47.024\nWell if I do a DNS look up right\nnow ns look up www/google.com\n\n358\n00:16:47.024 --> 00:16:52.750\nall right I'm going to go do a DNS\nlook up and it's just sitting here.\n\n359\n00:16:52.750 --> 00:16:55.650\nWell, I was getting my\nDNS servers from DHCP,\n\n360\n00:16:56.750 --> 00:16:58.270\nnow who am I getting my DNS servers from?\n\n361\n00:16:59.360 --> 00:17:00.000\nNobody.\n\n362\n00:17:00.000 --> 00:17:02.660\nSo I need to tell it what\nDNS servers to use, and\n\n363\n00:17:02.660 --> 00:17:05.650\nthat's where that\nresolve.conf file comes in.\n\n364\n00:17:05.650 --> 00:17:11.520\nNow you actually can put DNS\nservers In your interface script,\n\n365\n00:17:11.520 --> 00:17:16.480\nso I could go into IFCFG dash F zero, and\nI could add DNS one equals blah blah blah,\n\n366\n00:17:16.480 --> 00:17:19.130\nDNS two equals blah,\nblah, blah, that works.\n\n367\n00:17:19.130 --> 00:17:23.080\nBut, if you have more than one adapter and\nall that, it's better to define it in\n\n368\n00:17:23.080 --> 00:17:28.790\na central place, and so\nmost systems maintain a /etc/resolve.com.\n\n369\n00:17:28.790 --> 00:17:36.430\nAnd so if I edit that file,\nWe can see DNS servers defined here.\n\n370\n00:17:36.430 --> 00:17:38.740\nAnd I actually don't have any,\nso that's a problem.\n\n371\n00:17:38.740 --> 00:17:41.700\nSo I need to go in here and define some.\n\n372\n00:17:41.700 --> 00:17:44.610\nSo let me just add a line here,\nand I'll say DNS1 equals.\n\n373\n00:17:44.610 --> 00:17:45.910\nAnd I'll just use Google.\n\n374\n00:17:47.520 --> 00:17:48.190\nAnd DNS2.\n\n375\n00:17:49.680 --> 00:17:53.720\nAnd if I really want to,\nI can specify my search domain,\n\n376\n00:17:53.720 --> 00:17:56.450\nwhich means if I ever try and\nping just a single name, like if I try and\n\n377\n00:17:56.450 --> 00:18:00.920\nping Daniel PC,\nit'll add this domain to it.\n\n378\n00:18:00.920 --> 00:18:03.130\nI'm gonna add lab.itpro.tv.\n\n379\n00:18:03.130 --> 00:18:05.370\nThat'll help me with doing DNS lookups for\nlocal machines.\n\n380\n00:18:06.620 --> 00:18:07.910\nSo I'll put those in there.\n\n381\n00:18:07.910 --> 00:18:11.330\nAnd notice it's even mentioning right\nhere there's no name servers found.\n\n382\n00:18:11.330 --> 00:18:13.670\nWe can try putting DNS servers here or\n\n383\n00:18:13.670 --> 00:18:16.940\nwe could put them in our interface\nconfig files in network scripts, right?\n\n384\n00:18:16.940 --> 00:18:20.080\nSo you can put them there too,\nyou can go in either place,\n\n385\n00:18:20.080 --> 00:18:24.390\nthese will override the interface and\nthese will take effect all right, so\n\n386\n00:18:24.390 --> 00:18:25.900\nI'm just gonna pop them right in there.\n\n387\n00:18:25.900 --> 00:18:30.348\nBut if I wanted, I could dive into that\n\n388\n00:18:30.348 --> 00:18:36.190\nsysconfig/network scripts/ifcfg_eth0 and\n\n389\n00:18:36.190 --> 00:18:42.445\nuse right add them right here\nto the end of this list and\n\n390\n00:18:42.445 --> 00:18:50.245\nI would say DNS1=8.8.8 DNS2=8.8.4.4 and\nso on.\n\n391\n00:18:50.245 --> 00:18:52.754\nAll right, you know I don't remember for\ncertain but\n\n392\n00:18:52.754 --> 00:18:54.940\nI don't think the domain\nkeyword works here.\n\n393\n00:18:54.940 --> 00:18:56.660\nBut it might, I'm gonna leave it out for\n\n394\n00:18:56.660 --> 00:18:58.560\nnow cuz I can't remember if that\none works in the interface or not.\n\n395\n00:18:59.670 --> 00:19:03.070\nOnce those are defined,\nnow I've got DNS servers to define.\n\n396\n00:19:03.070 --> 00:19:06.200\nAnd so if I try and do that look up,\nwell what's gonna happen?\n\n397\n00:19:07.430 --> 00:19:08.930\nIt's just like the other settings.\n\n398\n00:19:08.930 --> 00:19:11.260\nIt doesn't take effect\nuntil the service restarts.\n\n399\n00:19:11.260 --> 00:19:12.720\nSo I need to restart my service and\n\n400\n00:19:12.720 --> 00:19:15.180\nthen I should be pretty close\nto functional at that point.\n\n401\n00:19:15.180 --> 00:19:20.120\nSo, I'm gonna do a quick\nservice network restart.\n\n402\n00:19:21.300 --> 00:19:24.550\nRight, or on a system,\nI mean on the system D system,\n\n403\n00:19:24.550 --> 00:19:28.080\nyou'd say system CTL,\nrestart, network dot service.\n\n404\n00:19:28.080 --> 00:19:33.950\nSo it's going to restart, and\nthen once it's up, oh there we go.\n\n405\n00:19:33.950 --> 00:19:36.130\nSee, it's just,\nit's determining if it's already in use.\n\n406\n00:19:36.130 --> 00:19:37.630\nIt's not actually already in use, so\n\n407\n00:19:37.630 --> 00:19:40.050\nI didn't truly get a duplicate IP so\nI'm good there.\n\n408\n00:19:40.050 --> 00:19:42.150\nAnd I should be good.\n\n409\n00:19:42.150 --> 00:19:44.510\nLet's just double check with my IF config.\n\n410\n00:19:44.510 --> 00:19:47.318\nI can see here that I've got 10.1.230.238.\n\n411\n00:19:47.318 --> 00:19:51.449\nThat's my IP and if I try and ping out\nto the Internet, I'm getting there so\n\n412\n00:19:51.449 --> 00:19:54.340\nI'm going through my default gateway.\n\n413\n00:19:54.340 --> 00:19:57.075\nAnd if I try to do an NS look up for\n\n414\n00:19:57.075 --> 00:20:01.430\ngoogle.com, there we go\nit's working all right?\n\n415\n00:20:01.430 --> 00:20:05.790\nNow I've got network connectivity,\nand more importantly, it's persistent.\n\n416\n00:20:05.790 --> 00:20:11.260\nIf I reboot this system, my network should\nbe functioning exactly as it is now.\n\n417\n00:20:11.260 --> 00:20:13.500\nWe should be in good shape.\n\n418\n00:20:13.500 --> 00:20:17.000\nNow my host name, did it take effect?\n\n419\n00:20:17.000 --> 00:20:20.250\nIt looks like it didn't, but\nthe problem here is actually my shell.\n\n420\n00:20:20.250 --> 00:20:23.870\nThe shell generated this prompt\nwhen I first launched into it and\n\n421\n00:20:23.870 --> 00:20:24.930\nI haven't restarted my shell.\n\n422\n00:20:24.930 --> 00:20:27.210\nBut if I just run the hostname command.\n\n423\n00:20:28.530 --> 00:20:30.020\nActually it hasn't taken effect, has it?\n\n424\n00:20:30.020 --> 00:20:33.120\nThe hostname command is returning\nstill localhost.localdomain.\n\n425\n00:20:33.120 --> 00:20:35.100\nAnd that's an indicator of two things.\n\n426\n00:20:35.100 --> 00:20:38.190\nEither one, I do need to restart for\nthe hostname to take effect.\n\n427\n00:20:38.190 --> 00:20:42.170\nOr two, this distro is storing\nthe hostname somewhere else.\n\n428\n00:20:42.170 --> 00:20:44.450\nRemember, I put it in resolve.com.\n\n429\n00:20:44.450 --> 00:20:47.870\nI might have another place\nwhere I need to put that.\n\n430\n00:20:47.870 --> 00:20:48.980\nWait, I didn't put it there.\n\n431\n00:20:48.980 --> 00:20:55.840\nI put it in slash ETC slash\nsystem PEG slash network.\n\n432\n00:20:55.840 --> 00:21:01.850\nLet's verify now I'm\ngetting myself confused\n\n433\n00:21:01.850 --> 00:21:05.600\nand I take a look at that network file.\n\n434\n00:21:05.600 --> 00:21:07.701\nThat's where I defined it, right there.\n\n435\n00:21:07.701 --> 00:21:11.101\nHostname, dplaptop.lab.itpro.tv.\n\n436\n00:21:11.101 --> 00:21:13.020\nSo, I'm not seeing\nthe hostname take effect yet.\n\n437\n00:21:13.020 --> 00:21:16.490\nNow, I've either picked the wrong file,\nor i just need to do a reboot.\n\n438\n00:21:16.490 --> 00:21:18.770\nReboot is the path of least resistance,\nso I'm gonna give a quick reboot,\n\n439\n00:21:18.770 --> 00:21:20.490\nand we'll see if that takes care of it.\n\n440\n00:21:20.490 --> 00:21:22.620\nIf not, I'm gonna look for\na different file.\n\n441\n00:21:22.620 --> 00:21:26.810\nNow, the other file that I would\nexpect to see is /etc/hostname.\n\n442\n00:21:26.810 --> 00:21:30.020\nNow I looked for that file and\nit didn't exist.\n\n443\n00:21:30.020 --> 00:21:35.270\nSo what's up with that, well that made me\nthink I didn't need it, but maybe I do.\n\n444\n00:21:35.270 --> 00:21:38.920\nSo just because it doesn't exist\ndoesn't mean I can't use it, right,\n\n445\n00:21:38.920 --> 00:21:40.430\nI'll just go and create it.\n\n446\n00:21:40.430 --> 00:21:44.105\nSo if my hostname doesn't take effect\nstill, I'll go and create that file\n\n447\n00:21:44.105 --> 00:21:49.070\n/etc/hostname and I'll just define my host\nname right in there and that's about that.\n\n448\n00:21:49.070 --> 00:21:51.480\nSo we'll give that a chance and\nsee what happens there.\n\n449\n00:21:51.480 --> 00:21:55.140\nSo, there's one other file\nthat we need to be aware of.\n\n450\n00:21:55.140 --> 00:21:57.685\nWhile this is rebooting\nI'll talk about it.\n\n451\n00:21:57.685 --> 00:22:03.680\n/etc/hosts you might wanna override\nDNS lookups for certain things.\n\n452\n00:22:03.680 --> 00:22:06.120\nYou can edit that hosts file to do that.\n\n453\n00:22:06.120 --> 00:22:09.840\nAnd so, you can put things like an IP\naddress to a particular name and\n\n454\n00:22:09.840 --> 00:22:12.260\nit's great for testing and other services.\n\n455\n00:22:12.260 --> 00:22:13.950\nSo, that's pretty useful.\n\n456\n00:22:13.950 --> 00:22:16.110\nOh, here, my system's rebooting and\n\n457\n00:22:16.110 --> 00:22:20.000\nI can see right on my login screen,\ndplaptop.lab.itpro.tv.\n\n458\n00:22:20.000 --> 00:22:22.000\nSo, that's a good sign, right?\n\n459\n00:22:22.000 --> 00:22:24.780\nThat means that my host name likely\ntook effect and I don't have to go and\n\n460\n00:22:24.780 --> 00:22:25.740\ncreate that other file.\n\n461\n00:22:25.740 --> 00:22:31.600\nSo, if I go back into my terminal,\nthere we go.\n\n462\n00:22:31.600 --> 00:22:35.490\nThere, I see my host name,\ndpezet@dplaptop right?\n\n463\n00:22:35.490 --> 00:22:40.200\nI've got my new host name and\nit's dplaptop.lab.itpro.tv.\n\n464\n00:22:40.200 --> 00:22:41.620\nSo that worked out just fine.\n\n465\n00:22:41.620 --> 00:22:43.140\nI didn't have to create that other file.\n\n466\n00:22:43.140 --> 00:22:46.040\nJust be aware there are little\nvariations between distros and\n\n467\n00:22:46.040 --> 00:22:46.810\nyou might have to do that.\n\n468\n00:22:46.810 --> 00:22:50.470\nNow, let's take a look\nat that etc hosts file.\n\n469\n00:22:50.470 --> 00:22:55.350\nSo if I want to edit /etc/hosts\nI can go in here and\n\n470\n00:22:55.350 --> 00:23:00.370\nI can, whoops,\nI can come in as a super user instead.\n\n471\n00:23:02.509 --> 00:23:04.885\nAll right, so I'm gonna go and\nedit that file.\n\n472\n00:23:06.702 --> 00:23:11.322\nAnd I can add in things,\nlike 1.1.1.1 is mapped to www.google.com.\n\n473\n00:23:11.322 --> 00:23:17.650\nAll right, now I know Google's not there,\nbut maybe I'm doing testing.\n\n474\n00:23:17.650 --> 00:23:20.910\nI've got a production website, a staging\nwebsite, and I want to connect to staging.\n\n475\n00:23:20.910 --> 00:23:25.955\nI can override those DNS lookups right\nhere and now when I do an nslookup, for\n\n476\n00:23:25.955 --> 00:23:33.050\nwww.google.com, well, I get this full list\nbecause I'm querying the name server.\n\n477\n00:23:33.050 --> 00:23:38.317\nBut if I use something like\nping to www.google.com,\n\n478\n00:23:38.317 --> 00:23:42.674\nI use my own lookup and I see 1.1.1.1.\n\n479\n00:23:42.674 --> 00:23:46.000\nI've overridden what the DNS\nservers would respond with.\n\n480\n00:23:46.000 --> 00:23:48.940\nSo, that's useful for testing or\nfor pulling pranks on people.\n\n481\n00:23:48.940 --> 00:23:52.030\nI've had some fun with that.\n\n482\n00:23:52.030 --> 00:23:53.174\nI'll go off on a tangent here.\n\n483\n00:23:53.174 --> 00:23:57.575\nI pulled a prank on our help desk at the\nbank I used to work for where I redirected\n\n484\n00:23:57.575 --> 00:24:01.396\nall of Google to Bing and\nI told them that Microsoft bought Google.\n\n485\n00:24:01.396 --> 00:24:02.603\n[LAUGH]\n>> And I walked in that morning,\n\n486\n00:24:02.603 --> 00:24:03.299\nI was like, did you guys here?\n\n487\n00:24:03.299 --> 00:24:04.483\nMicrosoft bought Google.\n\n488\n00:24:04.483 --> 00:24:06.971\nAnd, I had them going for about an hour,\nit was pretty entertaining.\n\n489\n00:24:06.971 --> 00:24:08.202\nIt was just sad the help\ndesk didn't catch that one.\n\n490\n00:24:08.202 --> 00:24:09.055\n>> That's a good one.\n\n491\n00:24:09.055 --> 00:24:10.291\n>> But yeah,\nyou can have some fun with it.\n\n492\n00:24:10.291 --> 00:24:14.095\nBut using it for testing and staging,\nthat's where it's really handy.\n\n493\n00:24:14.095 --> 00:24:16.025\nSo, interesting stuff you can do there.\n\n494\n00:24:16.025 --> 00:24:20.215\nThat's really about it for\nbasic networking, am I missing anything?\n\n495\n00:24:20.215 --> 00:24:24.397\nLet's see, oh,\nI do wanna mention one other,\n\n496\n00:24:24.397 --> 00:24:30.075\nthis is not very common, but if you have\nSolaris servers in your environment,\n\n497\n00:24:30.075 --> 00:24:34.265\nthen you might have what's\ncalled a NIS+ domain, N-I-S+.\n\n498\n00:24:34.265 --> 00:24:36.520\nAnd NIS+ is another type of name lookup.\n\n499\n00:24:36.520 --> 00:24:40.190\nSo it's not DNS, it's NIS+,\nit's different, you might have that.\n\n500\n00:24:40.190 --> 00:24:43.391\nAnd so\nif you are in that kind of environment,\n\n501\n00:24:43.391 --> 00:24:48.213\nthere's another file in here,\n/etc/nsswitch.conf, right?\n\n502\n00:24:48.213 --> 00:24:51.000\nAnd that's where you'd\nconfigure those name lookups.\n\n503\n00:24:51.000 --> 00:24:52.840\nThese are getting to be less and\nless common.\n\n504\n00:24:52.840 --> 00:24:54.760\nThey used to be really\ncommon back in the day.\n\n505\n00:24:54.760 --> 00:24:58.070\nBut these days, if you've got NIS+ or\nwhatever, you can define it here.\n\n506\n00:24:58.070 --> 00:25:02.430\nThe reason I bring it up is that you\ncan define DNS servers here too.\n\n507\n00:25:02.430 --> 00:25:05.210\nAnd, so,\nyou could have a situation where a server\n\n508\n00:25:05.210 --> 00:25:08.420\nhas no DNS entries on its interface, and\n\n509\n00:25:08.420 --> 00:25:12.640\nno DNS entries on /etc/resolve.conf,\nbut it's still doing name lookups.\n\n510\n00:25:12.640 --> 00:25:13.296\nI'm like, how is this working?\n\n511\n00:25:13.296 --> 00:25:14.570\nIt's like magic.\n\n512\n00:25:14.570 --> 00:25:17.970\nWell, it's not magic,\nit may just be in this nsswitch file.\n\n513\n00:25:17.970 --> 00:25:21.300\nNot very common at all, but I did want\nto bring that up cuz that is possible.\n\n514\n00:25:21.300 --> 00:25:24.260\nAnd if you scroll down, there's a ton of\nsettings in here that have absolutely\n\n515\n00:25:24.260 --> 00:25:26.810\nnothing to do with name lookups but\nwith authentication.\n\n516\n00:25:26.810 --> 00:25:30.220\nBut you might have DNS entries\nin here that define that, or\n\n517\n00:25:30.220 --> 00:25:32.210\nit might even be disabling DNS lookups.\n\n518\n00:25:32.210 --> 00:25:34.370\nCuz see how you've got here your hosts?\n\n519\n00:25:34.370 --> 00:25:36.780\nAnd it's got an order for\ndoing the lookups.\n\n520\n00:25:36.780 --> 00:25:40.490\nIt's saying look at files first,\n\\etc\\hosts, and\n\n521\n00:25:40.490 --> 00:25:44.290\nthen look at dns second,\nit's setting that priority.\n\n522\n00:25:44.290 --> 00:25:46.344\nAnd they coulc remove DNS from that list,\n\n523\n00:25:46.344 --> 00:25:49.990\nand now you won't do a lookup against\nDNS even if you got servers defined.\n\n524\n00:25:49.990 --> 00:25:54.760\nSo just be aware that nsswitch.conf file\nseems like it's outdated and useless, but\n\n525\n00:25:54.760 --> 00:25:59.530\nit does actually have some power here in\ndefining the order in which we do lookups.\n\n526\n00:25:59.530 --> 00:26:03.820\nIf you need nisplus, you'd come in and\nadd nisplus to the search order.\n\n527\n00:26:03.820 --> 00:26:05.930\nAnd you could either override or\n\n528\n00:26:05.930 --> 00:26:10.020\nmake it secondary to DNS, depending\non the order of this line right here.\n\n529\n00:26:10.020 --> 00:26:11.880\nSo kind of an important file to have.\n\n530\n00:26:11.880 --> 00:26:13.190\n>> Awesome stuff, Don.\n\n531\n00:26:13.190 --> 00:26:16.678\nNow I did notice something, I remembered\nsomething and one of our viewers here in\n\n532\n00:26:16.678 --> 00:26:20.235\nour chat room reminded me of that when we\nwere talking about the ifconfig command.\n\n533\n00:26:20.235 --> 00:26:23.983\nNot always is it bundled with the actual\noperating system that you may have\n\n534\n00:26:23.983 --> 00:26:24.716\ndownloaded.\n\n535\n00:26:24.716 --> 00:26:28.980\nSo CentOS happens to be one\nof those operating systems.\n\n536\n00:26:28.980 --> 00:26:32.641\nI know that first thing I did was try to\ndo an ifconfig when I installed CentOS and\n\n537\n00:26:32.641 --> 00:26:34.208\nit was like, command not found.\n\n538\n00:26:34.208 --> 00:26:35.572\nI said, okay.\n\n539\n00:26:35.572 --> 00:26:38.990\nSo just make sure if that does happen,\nyou just have to download the net tools.\n\n540\n00:26:38.990 --> 00:26:42.860\nSo if you're running a Red Hat version\nit would just be yum install net tools.\n\n541\n00:26:42.860 --> 00:26:48.050\nSo if it's a Debian fork then it's\njust app get install net tools.\n\n542\n00:26:48.050 --> 00:26:51.740\nAnd then you should get right back into\norder, that should help out with that.\n\n543\n00:26:51.740 --> 00:26:52.860\nSo in case you just run that command,\n\n544\n00:26:52.860 --> 00:26:56.080\nyou get a command not found,\neasily fixed, not a big deal.\n\n545\n00:26:56.080 --> 00:26:58.310\n>> Yeah, and you usually see that\nwhen you do like a minimal install.\n\n546\n00:26:58.310 --> 00:27:00.300\nWhat we do on a server,\nyou choose minimal install.\n\n547\n00:27:00.300 --> 00:27:03.140\nThey're gonna give you just what\nyou absolutely have to have.\n\n548\n00:27:03.140 --> 00:27:05.600\nWell, do I need ifconfig?\n\n549\n00:27:05.600 --> 00:27:09.160\nYou actually don't, cuz you can just go\nand edit your configuration files and\n\n550\n00:27:09.160 --> 00:27:10.150\nrestart the network service.\n\n551\n00:27:10.150 --> 00:27:13.350\nYou don't actually need ifconfig for\nthat so they leave it out.\n\n552\n00:27:13.350 --> 00:27:15.660\nIt's going a little too\nliteral in my opinion,\n\n553\n00:27:15.660 --> 00:27:19.260\nit is nice to have a tool to be\nable to see what the heck is up.\n\n554\n00:27:19.260 --> 00:27:22.230\nBut there are some other commands that are\nout there that you can use to troubleshoot\n\n555\n00:27:22.230 --> 00:27:24.620\nand find information, but\nyeah, that's basically it.\n\n556\n00:27:24.620 --> 00:27:25.280\n>> All right, guys.\n\n557\n00:27:25.280 --> 00:27:28.720\nWell hopefully you have definitely\nseen how we can do this.\n\n558\n00:27:28.720 --> 00:27:31.760\nNot that difficult, you just gotta\nknow where these things go, and\n\n559\n00:27:31.760 --> 00:27:32.760\nthat's all it takes.\n\n560\n00:27:32.760 --> 00:27:35.280\nAnd then all the settings,\nyou go right in, you should know that.\n\n561\n00:27:35.280 --> 00:27:37.380\nThat being said, we've come to\nthe end of another great episode.\n\n562\n00:27:37.380 --> 00:27:40.449\nSigning off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n563\n00:27:40.449 --> 00:27:41.351\n>> And I'm Don Pezet.\n\n564\n00:27:41.351 --> 00:27:42.500\n>> And we'll see you next time.\n\n565\n00:27:42.500 --> 00:27:48.470\n[SOUND]\n\n",
          "vimeoId": "131871102"
        },
        {
          "description": null,
          "length": "1854",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-3-diagnosing_networking-062515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-3-diagnosing_networking-062515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-3-diagnosing_networking-062515-1-sm.jpg",
          "title": "Diagnosing Networking",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.606 --> 00:00:12.362\nGreetings everyone!\n\n3\n00:00:12.362 --> 00:00:16.500\nWelcome to ITProTV,\nI'll be your host today, Daniel Lowrie.\n\n4\n00:00:16.500 --> 00:00:20.610\nHere with me is a man who mostly does\nall his Linux work at night, mostly.\n\n5\n00:00:20.610 --> 00:00:21.490\nThat's Don Pezet.\n\n6\n00:00:21.490 --> 00:00:22.560\nHow's it going today, Don?\n\n7\n00:00:22.560 --> 00:00:24.205\n>> I'm doing great, Daniel.\n\n8\n00:00:24.205 --> 00:00:27.862\nWe're going to continue our networking\ntrifecta here for this episode, and\n\n9\n00:00:27.862 --> 00:00:31.349\nwe're going to jump right back into\nthe world of Linux plus networking but\n\n10\n00:00:31.349 --> 00:00:34.385\nthis time we're not going to focus\non how to set things up right,\n\n11\n00:00:34.385 --> 00:00:37.900\nwe're going to focus on how to figure\nthings out when they're not right.\n\n12\n00:00:37.900 --> 00:00:39.310\nWhen things are going wrong.\n\n13\n00:00:39.310 --> 00:00:42.420\nWe've got a ton of diagnostic\nutilities built into Linux and\n\n14\n00:00:42.420 --> 00:00:44.740\nwe need to be familiar with them\nto use them for trouble shooting.\n\n15\n00:00:44.740 --> 00:00:46.960\nI've got a laundry list of tools\nthat we're going to talk about here.\n\n16\n00:00:46.960 --> 00:00:50.100\nIt'll be a great chance for\nus to see those and see how they work.\n\n17\n00:00:50.100 --> 00:00:50.880\n>> Yeah, good stuff Don.\n\n18\n00:00:50.880 --> 00:00:52.110\nThis is really the meat and\n\n19\n00:00:52.110 --> 00:00:56.950\npotatoes of being a network\nadministrators portion of Linux plus.\n\n20\n00:00:56.950 --> 00:00:58.780\nAnd when things do go a little haywire,\n\n21\n00:00:58.780 --> 00:01:01.960\nmaybe a little left turn on you, well\nyou're not completely out in the dark.\n\n22\n00:01:01.960 --> 00:01:05.300\nYou've got some things at your fingertips,\nyou just gotta pull them up,\n\n23\n00:01:05.300 --> 00:01:07.530\nstart employing them, and\nthen you'll figure out what's wrong,\n\n24\n00:01:07.530 --> 00:01:09.930\nhopefully get things fixed\nback to a working order.\n\n25\n00:01:09.930 --> 00:01:11.580\nSo Don, where do we start?\n\n26\n00:01:11.580 --> 00:01:15.320\n>> All right, well the first tool I wanna\nstart with is one we've already seen,\n\n27\n00:01:15.320 --> 00:01:17.130\nwhich is ifconfig.\n\n28\n00:01:17.130 --> 00:01:20.480\nIfconfig is a great way to see what\nnetwork adaptors you have, whether they\n\n29\n00:01:20.480 --> 00:01:23.180\nhave IP addresses, and whether\nthey're sending and receiving traffic.\n\n30\n00:01:23.180 --> 00:01:26.380\nSo, let me just take my system here and\n\n31\n00:01:26.380 --> 00:01:30.240\nI'm gonna run ifconfig, and let me stretch\nmy window out a little bit here so\n\n32\n00:01:30.240 --> 00:01:33.740\nI don't get any kind of word\nwrap on this guy, there we go.\n\n33\n00:01:33.740 --> 00:01:36.410\nAnd you can see on my system\nI've got two network adaptors.\n\n34\n00:01:36.410 --> 00:01:39.160\nNow you'll usually have at least two.\n\n35\n00:01:39.160 --> 00:01:40.870\nYou might have three or four or even more.\n\n36\n00:01:40.870 --> 00:01:44.700\nIf you got a laptop that has wireless and\nwired connections you'll see those laid\n\n37\n00:01:44.700 --> 00:01:50.470\nout and you'll see usually one virtual\ninterface called LO for your loopback.\n\n38\n00:01:50.470 --> 00:01:53.010\nNow your physical interface,\nlike the name implies,\n\n39\n00:01:53.010 --> 00:01:55.810\nis tied to a physical\nadaptor on your system.\n\n40\n00:01:55.810 --> 00:01:59.720\nIf it's up, you should see\nan IP address like I see here.\n\n41\n00:01:59.720 --> 00:02:02.780\nYou might have an IPv6 address,\nwhich you might see.\n\n42\n00:02:02.780 --> 00:02:06.070\nI can see that mine is indeed up and\nnot down, right.\n\n43\n00:02:06.070 --> 00:02:08.820\nThat's some of the output\nthat it's giving me here.\n\n44\n00:02:08.820 --> 00:02:12.180\nThere's other information on here that's\nnot too terribly useful, like whether or\n\n45\n00:02:12.180 --> 00:02:15.400\nnot we support broadcast,\nwhether we support multicast,\n\n46\n00:02:15.400 --> 00:02:18.720\nwhat our maximum transmission unit,\nor MTU, size is.\n\n47\n00:02:18.720 --> 00:02:23.190\nThese are all pretty standard, so\nwe don't normally see variations on these.\n\n48\n00:02:23.190 --> 00:02:26.690\nBut the next couple of\nlines are really important.\n\n49\n00:02:26.690 --> 00:02:30.310\nThese are kind of like\nyour status messages here.\n\n50\n00:02:30.310 --> 00:02:32.425\nTelling us about\nthe health of the adapter.\n\n51\n00:02:32.425 --> 00:02:37.054\nYou can see how many packets you've\nreceived and how many packets you've sent,\n\n52\n00:02:37.054 --> 00:02:37.746\nall right?\n\n53\n00:02:37.746 --> 00:02:42.644\nI can see I 've received 5,012,\nI've sent 138.\n\n54\n00:02:42.644 --> 00:02:44.830\nNow, if you see one of those as zero.\n\n55\n00:02:44.830 --> 00:02:46.470\nI haven't received anything.\n\n56\n00:02:46.470 --> 00:02:49.430\nWell, I may not be plugged\ninto the network properly.\n\n57\n00:02:49.430 --> 00:02:51.000\nOr if I see that I've received but\n\n58\n00:02:51.000 --> 00:02:54.210\nI haven't sent anything,\nI might be missing my IP address.\n\n59\n00:02:54.210 --> 00:02:56.300\nI'm not gonna send anything if\nI don't have an IP address.\n\n60\n00:02:56.300 --> 00:02:58.490\nSo you can use these\nnumbers to gauge whether or\n\n61\n00:02:58.490 --> 00:03:01.420\nnot traffic is even flowing\nover your adapter at all.\n\n62\n00:03:02.480 --> 00:03:04.540\nYou can also see any\nerrors youve received.\n\n63\n00:03:04.540 --> 00:03:07.510\nThose would be packets that came in or\nwent out that were malformed.\n\n64\n00:03:07.510 --> 00:03:10.220\nAny that were dropped or overruns.\n\n65\n00:03:10.220 --> 00:03:12.850\nOverruns are ones that\nare bigger than your MTU.\n\n66\n00:03:12.850 --> 00:03:16.450\nDropped ones, those are typically ones\nthat come in and youve run out of memory.\n\n67\n00:03:16.450 --> 00:03:19.530\nEvery network adapter has a certain amount\nof memory that it uses to store packets\n\n68\n00:03:19.530 --> 00:03:24.270\nwhile it processes them and if that memory\nfills up you start dropping packets.\n\n69\n00:03:24.270 --> 00:03:27.540\nYou can also see the amount of frames\nwhich are layer two frames, and\n\n70\n00:03:27.540 --> 00:03:29.940\nyour carrier data which,\n\n71\n00:03:29.940 --> 00:03:34.300\non an ethernet adapter is always going\nto be zero unless there's a problem.\n\n72\n00:03:34.300 --> 00:03:36.150\nOther things you can see, collisions.\n\n73\n00:03:38.200 --> 00:03:41.620\nMost, not most, all, ethernet networks,\n\n74\n00:03:41.620 --> 00:03:45.437\nuse a multi broadcast\nmulti access type network.\n\n75\n00:03:45.437 --> 00:03:48.940\nSo, you can have more than one\ncomputer talking at the same time And\n\n76\n00:03:48.940 --> 00:03:51.410\nif that happens, they collide.\n\n77\n00:03:51.410 --> 00:03:54.090\nSo they do thing called CSMACD.\n\n78\n00:03:54.090 --> 00:03:55.850\nWe don't care about this too much,\n\n79\n00:03:55.850 --> 00:03:59.840\nbut it's Carrier Sense Multiple\nAccess Collision Detection.\n\n80\n00:03:59.840 --> 00:04:02.740\nYour system is listening for\nwhen a collision happens.\n\n81\n00:04:02.740 --> 00:04:05.870\nCuz if two electrical signals hit each\nother, they just gets scrambled, and\n\n82\n00:04:05.870 --> 00:04:06.910\nyou lose your data.\n\n83\n00:04:06.910 --> 00:04:09.020\nSo you have to listen for that,\nand if there's a collision,\n\n84\n00:04:09.020 --> 00:04:10.490\nyou have to re-transmit.\n\n85\n00:04:10.490 --> 00:04:13.210\nWell, if you're plugged\ninto a switch network,\n\n86\n00:04:13.210 --> 00:04:14.880\nyou don't normally have collisions.\n\n87\n00:04:14.880 --> 00:04:16.530\nUnless there's a real problem.\n\n88\n00:04:16.530 --> 00:04:19.340\nIf you're on a hub network,\ncollisions are actually pretty common.\n\n89\n00:04:19.340 --> 00:04:21.390\nSo on a hub network,\nwe kinda ignore that value.\n\n90\n00:04:21.390 --> 00:04:23.210\nBut on a switch network,\nyou can watch this.\n\n91\n00:04:23.210 --> 00:04:26.140\nAnd if you see your collisions going up,\nit normally indicates some\n\n92\n00:04:26.140 --> 00:04:29.280\nkind of broadcast storm on the network,\nyou're having network issues.\n\n93\n00:04:29.280 --> 00:04:31.630\nIt's not likely your computer's fault,\nthough,\n\n94\n00:04:31.630 --> 00:04:33.180\nit's usually the network\nequipment that's causing that.\n\n95\n00:04:34.240 --> 00:04:36.220\nWe can also see our transmit queue length,\n\n96\n00:04:36.220 --> 00:04:38.810\nhow much data can sit in our\nqueue before it runs out.\n\n97\n00:04:38.810 --> 00:04:40.590\nA queue is like a memory buffer.\n\n98\n00:04:40.590 --> 00:04:42.940\nAnd when I send data,\nif I have to wait for\n\n99\n00:04:42.940 --> 00:04:45.480\na chance to talk,\nhere's how much data I can restore.\n\n100\n00:04:46.570 --> 00:04:50.700\nThen after that we see our receive\nbytes and our transmit bytes.\n\n101\n00:04:50.700 --> 00:04:54.040\nUp here we're seeing receive packets,\nright?\n\n102\n00:04:54.040 --> 00:04:56.160\nBut packets can be varying in size.\n\n103\n00:04:56.160 --> 00:04:57.850\nThey can be very, very small.\n\n104\n00:04:57.850 --> 00:05:04.170\nUsually the smallest you'll see is around,\nit's usually around 400 bytes in size.\n\n105\n00:05:04.170 --> 00:05:07.960\nBut our maximum transmission unit of 1500\nbytes, that's the biggest they can get.\n\n106\n00:05:07.960 --> 00:05:11.910\nSo each packet represents\nup to 1500 bytes.\n\n107\n00:05:11.910 --> 00:05:15.690\nWell this kind of rounds that all nicely\nfor and gives it to me in kilobytes.\n\n108\n00:05:15.690 --> 00:05:21.130\nI can see that I've received 444\nkilobytes and I've sent 11 kilobytes.\n\n109\n00:05:21.130 --> 00:05:23.200\nAnd those are next to nothing, right.\n\n110\n00:05:23.200 --> 00:05:25.540\nSo let's say I went and\nactually downloaded something,\n\n111\n00:05:25.540 --> 00:05:30.090\nif I went to like,\nwhat's something I could download?\n\n112\n00:05:30.090 --> 00:05:34.910\nI'll go to,\nlet's say I wanna download Webmin, right?\n\n113\n00:05:34.910 --> 00:05:36.010\nSo I'm gonna go and download Webmin.\n\n114\n00:05:36.010 --> 00:05:37.900\nDaniel and I have been talking\nabout that off the show.\n\n115\n00:05:37.900 --> 00:05:40.930\nWe can go and download it and\nwe're actually gonna download data.\n\n116\n00:05:40.930 --> 00:05:42.640\nI mean, you're really just kind\nof launching some of this stuff,\n\n117\n00:05:42.640 --> 00:05:44.470\nthat's gonna create some downloads.\n\n118\n00:05:44.470 --> 00:05:45.390\nAssuming I'm getting,\n\n119\n00:05:45.390 --> 00:05:48.150\nyou know, I might have to leverage\nsome troubleshooting right here.\n\n120\n00:05:48.150 --> 00:05:50.360\nI do not appear to be\ngetting to the Internet.\n\n121\n00:05:50.360 --> 00:05:55.340\nSo let's just see if it's the system.\n\n122\n00:05:55.340 --> 00:05:59.168\nWell I'm getting out the CNN so\napparently my Google search is, oh,\n\n123\n00:05:59.168 --> 00:06:02.404\nin a previous episode I overrode\nwhere Google pointed to.\n\n124\n00:06:02.404 --> 00:06:03.808\n>> That's right, you did.\n\n125\n00:06:03.808 --> 00:06:06.504\n>> So, what you, good thing to trouble\nshoot, but we'll trouble shoot that later\n\n126\n00:06:06.504 --> 00:06:08.221\nif you didn't watch the other\nepisode of [INAUDIBLE]\n\n127\n00:06:08.221 --> 00:06:09.271\n>> Microsoft.google Don.\n\n128\n00:06:09.271 --> 00:06:10.108\n[LAUGH]\n>> So\n\n129\n00:06:10.108 --> 00:06:13.112\nnow I'm gonna have to use somebody\nelse's search for Webmin,\n\n130\n00:06:13.112 --> 00:06:14.992\nwhat crazy search engine could I use?\n\n131\n00:06:14.992 --> 00:06:17.060\n>> Man.\n>> I don't wanna use Bing, I'll use Yahoo.\n\n132\n00:06:17.060 --> 00:06:17.785\n>> Yahoo, yeah.\n\n133\n00:06:17.785 --> 00:06:19.457\n[LAUGH]\n>> We'll regret,\n\n134\n00:06:19.457 --> 00:06:22.375\nthis shows gonna go downhill fast,\nI can tell right now.\n\n135\n00:06:22.375 --> 00:06:24.330\nBut I'll search for old Webmin.\n\n136\n00:06:24.330 --> 00:06:24.940\nOh, nice.\n\n137\n00:06:24.940 --> 00:06:26.840\nWe'll get a little security warning there.\n\n138\n00:06:26.840 --> 00:06:27.990\nSo I'm gonna go and download Webmin.\n\n139\n00:06:27.990 --> 00:06:31.710\nNow when I download this file,\nwell the file's a certain size, right?\n\n140\n00:06:31.710 --> 00:06:33.004\nIs it gonna tell me the size?\n\n141\n00:06:33.004 --> 00:06:34.936\nNo, that would be too much to ask.\n\n142\n00:06:34.936 --> 00:06:38.312\nSo it's not gonna tell me the size,\nbut it'll download it, there we go,\n\n143\n00:06:38.312 --> 00:06:40.100\nit's 25 megabytes, right?\n\n144\n00:06:40.100 --> 00:06:42.510\nSo I'm gonna go ahead and save that file.\n\n145\n00:06:42.510 --> 00:06:43.970\nSo we'll let that download and save.\n\n146\n00:06:43.970 --> 00:06:46.580\nAnd when I go back and\npull up my IFconfig,\n\n147\n00:06:46.580 --> 00:06:52.200\nmy statistics should have updated to\nreflect that new amount of data transfer.\n\n148\n00:06:52.200 --> 00:06:56.190\nSo if come back here and\nre-pull up ifconfig.\n\n149\n00:06:56.190 --> 00:07:01.190\nI can see now I've received 35 megabytes\nof traffic from browsing the web,\n\n150\n00:07:01.190 --> 00:07:02.380\nand I've sent 1.3.\n\n151\n00:07:02.380 --> 00:07:05.230\nThose numbers should be\nconstantly climbing, right?\n\n152\n00:07:05.230 --> 00:07:09.225\nSo quick easy way to diagnose,\ndo I have an IP address?\n\n153\n00:07:09.225 --> 00:07:10.435\nIs my bandwidth set?\n\n154\n00:07:10.435 --> 00:07:12.405\nYou know am I actually moving data?\n\n155\n00:07:12.405 --> 00:07:13.315\nWe can see it right here.\n\n156\n00:07:13.315 --> 00:07:16.835\nAm I getting errors and drops, which might\nmean I'm running out of bandwidth, right?\n\n157\n00:07:16.835 --> 00:07:18.615\nYou can see all that\nright here on ifconfig.\n\n158\n00:07:18.615 --> 00:07:20.275\nPretty useful bit of information.\n\n159\n00:07:21.655 --> 00:07:23.445\nAll right, other things.\n\n160\n00:07:23.445 --> 00:07:25.635\nSo I couldn't get to Google a second ago.\n\n161\n00:07:25.635 --> 00:07:26.805\nAll right?\nLet's troubleshoot that.\n\n162\n00:07:26.805 --> 00:07:27.915\nHow would I troubleshoot that?\n\n163\n00:07:27.915 --> 00:07:32.060\nWell one of the first things\nthat I do is I use ping.\n\n164\n00:07:32.060 --> 00:07:34.100\nThe ping utility, it's really,\n\n165\n00:07:34.100 --> 00:07:37.360\nit generates what's called\nan ICMP echo request.\n\n166\n00:07:37.360 --> 00:07:39.740\nI send an echo message to Google,\nand I say, hey,\n\n167\n00:07:39.740 --> 00:07:41.790\nif you get this,\njust send it right back to me.\n\n168\n00:07:41.790 --> 00:07:43.780\nDo an echo reply back.\n\n169\n00:07:43.780 --> 00:07:45.615\nPings are a real simple\nway to test connectivity.\n\n170\n00:07:45.615 --> 00:07:51.016\nSo I can fire up a command prompt and\nI can say, ping www.google.com.\n\n171\n00:07:51.016 --> 00:07:55.242\nAnd when I go to ping it, it's just\nsitting here and I'm not getting out.\n\n172\n00:07:55.242 --> 00:07:56.101\nI'm stuck.\n\n173\n00:07:56.101 --> 00:07:58.261\nOkay, well that's odd.\n\n174\n00:07:58.261 --> 00:07:59.120\nSo I can't get out.\n\n175\n00:07:59.120 --> 00:07:59.863\nWhat's my problem?\n\n176\n00:07:59.863 --> 00:08:03.520\nWell, I need to find out.\n\n177\n00:08:03.520 --> 00:08:05.830\nNow, I can't get to Google.\n\n178\n00:08:05.830 --> 00:08:08.460\nThat could be any number of problems.\n\n179\n00:08:08.460 --> 00:08:11.040\nThe problem could be Google is down.\n\n180\n00:08:11.040 --> 00:08:12.370\nI doubt it, but it's possible.\n\n181\n00:08:12.370 --> 00:08:14.420\nIt could be Google's ISP is down.\n\n182\n00:08:14.420 --> 00:08:17.010\nIt could be that one of\nthe Internet backbones is down.\n\n183\n00:08:17.010 --> 00:08:20.170\nIt could be that my ISP is down or\nit could be that my network is down.\n\n184\n00:08:20.170 --> 00:08:21.550\nCould be any one of those.\n\n185\n00:08:21.550 --> 00:08:22.640\nSo any of you troubleshoot that.\n\n186\n00:08:22.640 --> 00:08:25.390\nAnd with ping, what we normally\ndo is ping from the inside out.\n\n187\n00:08:25.390 --> 00:08:27.620\nWe start with ourselves and\nthen we ping further and\n\n188\n00:08:27.620 --> 00:08:29.700\nfurther out until we find the problem.\n\n189\n00:08:29.700 --> 00:08:31.980\nSo for example, I might ping myself.\n\n190\n00:08:33.300 --> 00:08:37.211\nNow, if I ping 127.0.0.1,\nthat's my loopback address.\n\n191\n00:08:37.211 --> 00:08:41.170\nThat's gonna ping myself\nusing solely software.\n\n192\n00:08:41.170 --> 00:08:44.210\nThis is a great way to\ntest your TCPIP stack.\n\n193\n00:08:44.210 --> 00:08:47.831\nJust using software by pinging 127.001.\n\n194\n00:08:47.831 --> 00:08:54.170\nBut if I ping my actual IP, if I ping\nthat IP, now it's using my hardware.\n\n195\n00:08:54.170 --> 00:08:56.528\nThe ping actually goes to the network\nadapter and comes back again.\n\n196\n00:08:56.528 --> 00:08:59.487\nSo this is a great way to test\nyour network adapter driver.\n\n197\n00:08:59.487 --> 00:09:01.200\nSo now, I know that that's functioning.\n\n198\n00:09:02.440 --> 00:09:06.750\nThen I might wanna ping another\ncomputer on my network.\n\n199\n00:09:06.750 --> 00:09:11.750\nSo I pick some other host that's out\nthere on my network and I can ping it.\n\n200\n00:09:11.750 --> 00:09:14.260\nThat tells me my network cable is good and\nI'm getting to the switch.\n\n201\n00:09:15.260 --> 00:09:17.020\nThen I might ping my gateway.\n\n202\n00:09:17.020 --> 00:09:19.120\nHere's my default gateway,\nour firewall here in the office.\n\n203\n00:09:19.120 --> 00:09:20.850\nOkay, I can get to the firewall.\n\n204\n00:09:22.130 --> 00:09:25.047\nNow, I try and\nping somebody out there on the Internet.\n\n205\n00:09:25.047 --> 00:09:28.530\nAnd when you ping out to\nthe Internet it's a good idea\n\n206\n00:09:28.530 --> 00:09:33.525\nto ping via name as well as by IP,\ncuz DNS might be our problem.\n\n207\n00:09:33.525 --> 00:09:37.915\nSo I might pick a host out there on\nthe Internet like Google's DNS server, and\n\n208\n00:09:37.915 --> 00:09:39.165\ntry and ping it.\n\n209\n00:09:39.165 --> 00:09:42.625\nI can get all the way out to\nthe Internet and back again by IP.\n\n210\n00:09:43.715 --> 00:09:47.312\nBut then if I try and ping by name.\n\n211\n00:09:47.312 --> 00:09:50.830\nNow, I get my failure.\n\n212\n00:09:50.830 --> 00:09:53.590\nAnd that means either that\nserver specifically is down or\n\n213\n00:09:53.590 --> 00:09:55.040\nmy name lookup is the problem.\n\n214\n00:09:55.040 --> 00:09:57.625\nSo see how by pinging from the inside\nout I can kind of figure out\n\n215\n00:09:57.625 --> 00:09:58.581\nwhere the problem is.\n\n216\n00:09:58.581 --> 00:10:01.285\nIt's a great way to\ndiagnose your issue and\n\n217\n00:10:01.285 --> 00:10:04.072\ntrack it down in this\ncase DNS is my problem.\n\n218\n00:10:04.072 --> 00:10:07.030\nWell how do we trouble shoot DNS?\n\n219\n00:10:07.030 --> 00:10:08.650\nWe got a couple utilities for that.\n\n220\n00:10:08.650 --> 00:10:12.030\nThe first thing is we need to make\nsure we have DNS servers even set.\n\n221\n00:10:12.030 --> 00:10:17.040\nSo I might take a look\nat /etc/resolve.conf and\n\n222\n00:10:17.040 --> 00:10:19.710\nsee if I've got DNS servers\nto find in there and I do.\n\n223\n00:10:19.710 --> 00:10:23.510\nSo I'm set for DNS servers, I should be\ndoing some look ups and I've actually got\n\n224\n00:10:23.510 --> 00:10:26.640\nthem set twice in the two different\nformats for it so that's cool.\n\n225\n00:10:26.640 --> 00:10:28.820\nSo we're doubly covered in this case.\n\n226\n00:10:28.820 --> 00:10:29.810\n>> Covering all your bases.\n\n227\n00:10:31.240 --> 00:10:34.190\n>> So then how do we test beyond that?\n\n228\n00:10:34.190 --> 00:10:37.040\nWell there's two tools that are built\ninto the command line we can use.\n\n229\n00:10:37.040 --> 00:10:38.620\nDig and nslookup.\n\n230\n00:10:38.620 --> 00:10:39.800\nLet's talk about dig.\n\n231\n00:10:39.800 --> 00:10:41.420\nIt's the older of the utilities.\n\n232\n00:10:41.420 --> 00:10:46.740\nIf you run dig it let's you do a lookup\nand gives you DNS information back on it.\n\n233\n00:10:46.740 --> 00:10:51.991\nSo I can do a lookup for www.yahoo.com\ncuz I know I can get to that.\n\n234\n00:10:51.991 --> 00:10:54.020\nAnd here it gives me the return.\n\n235\n00:10:54.020 --> 00:10:57.420\nHere's the servers that\nare powering yahoo.com.\n\n236\n00:10:57.420 --> 00:10:58.325\nAnd here's their associated IP.\n\n237\n00:10:58.325 --> 00:11:00.044\nI can see that it's actually a CNAME.\n\n238\n00:11:00.044 --> 00:11:02.642\nAnd it went ahead and did the lookup for\nwhat the CNAME points to.\n\n239\n00:11:02.642 --> 00:11:03.930\nIt points to these two IPs.\n\n240\n00:11:05.250 --> 00:11:09.820\nIf I do a dig for\nwww.google.com that I couldn't get to.\n\n241\n00:11:09.820 --> 00:11:11.240\nWell I can see here.\n\n242\n00:11:11.240 --> 00:11:15.850\nHere's the IPs for that server,\nand I should be able to get to it.\n\n243\n00:11:15.850 --> 00:11:17.610\nSo I get that information.\n\n244\n00:11:17.610 --> 00:11:20.950\nThere's nslookup also which\ndoes basically the same thing.\n\n245\n00:11:20.950 --> 00:11:23.050\nIt gives you a bit of a cleaner format.\n\n246\n00:11:23.050 --> 00:11:24.770\nNslookup is a newer tool.\n\n247\n00:11:24.770 --> 00:11:28.741\nIf I do nslookup for\nwww.google.com, I get the answers.\n\n248\n00:11:28.741 --> 00:11:30.703\nSee how it's just a little\nneater on the screen?\n\n249\n00:11:30.703 --> 00:11:34.710\nBut nslookup also has an interactive\nmode which is pretty neat.\n\n250\n00:11:34.710 --> 00:11:38.650\nIf you run nslookup and just press Enter,\nyou'll drop to a prompt.\n\n251\n00:11:38.650 --> 00:11:42.020\nAnd now, you can issue commands\nthat manipulate the way this works.\n\n252\n00:11:42.020 --> 00:11:48.730\nSo I could look up www.google.com and\nI get the results.\n\n253\n00:11:48.730 --> 00:11:52.138\nBut I can also issue\ncommands like set type=any.\n\n254\n00:11:52.138 --> 00:11:55.970\nAnd now,\nI'm gonna tell it don't just a records.\n\n255\n00:11:55.970 --> 00:11:58.670\nI want everything,\ngive me everything you have about Google.\n\n256\n00:11:58.670 --> 00:12:01.620\nAnd so I can say www.google.com and\n\n257\n00:12:01.620 --> 00:12:05.690\nit's gonna return well, not just IPv4,\nbut I'm seeing an IPv6 address.\n\n258\n00:12:05.690 --> 00:12:06.990\nI don't think I saw that earlier, did I?\n\n259\n00:12:06.990 --> 00:12:07.780\nNope.\n\n260\n00:12:07.780 --> 00:12:09.580\nSo I get the IPv6 address for Google.\n\n261\n00:12:09.580 --> 00:12:10.640\nI can see that.\n\n262\n00:12:10.640 --> 00:12:15.530\nI can step up, and\nI can go Google.com, the full name.\n\n263\n00:12:15.530 --> 00:12:18.200\nAnd now,\nI'll see things like the name servers,\n\n264\n00:12:18.200 --> 00:12:20.020\nthe start of authority's\nin here somewhere.\n\n265\n00:12:20.020 --> 00:12:22.160\nI can see the mail exchangers.\n\n266\n00:12:22.160 --> 00:12:25.290\nYou can see some really\ndetailed information, and\n\n267\n00:12:25.290 --> 00:12:27.600\nthat can help with troubleshooting.\n\n268\n00:12:27.600 --> 00:12:32.649\nIn my case, I'm noticing one big thing\nwhich is when I do a lookup in here for\n\n269\n00:12:32.649 --> 00:12:35.936\nwww.google.com, I'm\nseeing a list of IPs and\n\n270\n00:12:35.936 --> 00:12:40.530\nthat's different than what I was\nseeing when I actually did a ping.\n\n271\n00:12:40.530 --> 00:12:43.500\nSee how it's resolving to 1.1.1.1?\n\n272\n00:12:43.500 --> 00:12:44.670\nThat's not right.\n\n273\n00:12:44.670 --> 00:12:47.320\nSo I know I've got a name lookup issue.\n\n274\n00:12:47.320 --> 00:12:49.470\nI know my resolve.com is set fine.\n\n275\n00:12:49.470 --> 00:12:51.480\nI know the name servers work.\n\n276\n00:12:51.480 --> 00:12:55.069\nThe next target for me would be my host\nfile, because hosts can override that.\n\n277\n00:12:55.069 --> 00:12:57.660\nAnd that's another command you can run.\n\n278\n00:12:57.660 --> 00:13:00.840\nActually let me get out of this here,\nyou can run the host command,\n\n279\n00:13:00.840 --> 00:13:04.970\ndo a very simple lookup,\nsorry just host, no s on it, host.\n\n280\n00:13:04.970 --> 00:13:08.717\nAnd you can say,\nlike host www.google.com and\n\n281\n00:13:08.717 --> 00:13:12.740\nit'll do a resolution and\nkinda show you where that is.\n\n282\n00:13:12.740 --> 00:13:14.107\nNot much different than dig or\n\n283\n00:13:14.107 --> 00:13:16.120\nnslookup, just different\nutilities that are available.\n\n284\n00:13:17.500 --> 00:13:21.030\nBut I can go and\ntake a look at I am a super user,\n\n285\n00:13:21.030 --> 00:13:22.640\nso I don't have to worry about that.\n\n286\n00:13:22.640 --> 00:13:26.510\nI can go into /etc/hosts and right\nthere is where I've overridden that and\n\n287\n00:13:26.510 --> 00:13:29.330\nwe did that in another episode,\nwe were talking about this host file.\n\n288\n00:13:29.330 --> 00:13:31.610\nSo that's gonna be where\nmy problem is right there.\n\n289\n00:13:31.610 --> 00:13:35.850\nAnd if I take that out now,\nwhen I ping www.google.com,\n\n290\n00:13:35.850 --> 00:13:38.870\nI get the right IP and\nI get to the server.\n\n291\n00:13:38.870 --> 00:13:42.080\nSo quite a few tools there available for\ntroubleshooting name lookups.\n\n292\n00:13:43.760 --> 00:13:46.300\nNow, maybe a name lookup\nisn't the problem,\n\n293\n00:13:46.300 --> 00:13:48.150\nmaybe it is just true connectivity.\n\n294\n00:13:48.150 --> 00:13:51.790\nIf I try and ping the IP of Google and\nI don't get there.\n\n295\n00:13:51.790 --> 00:13:55.840\nWell, that indicates there's probably\na problem in between me and them.\n\n296\n00:13:55.840 --> 00:13:59.460\nI could ping it out and try and\nfind where the problem is.\n\n297\n00:13:59.460 --> 00:14:02.650\nBut there's a cool utility called\ntraceroute that does that for us.\n\n298\n00:14:02.650 --> 00:14:06.960\nWe can say traceroute and\nspecify somebody like Google.\n\n299\n00:14:06.960 --> 00:14:10.802\nAnd it's gonna map out the, that's odd.\n\n300\n00:14:10.802 --> 00:14:16.010\n[LAUGH] It's gonna map out what\nis in between me and them.\n\n301\n00:14:16.010 --> 00:14:18.500\nAnd oh,\ntoo many ws in the old Google there.\n\n302\n00:14:18.500 --> 00:14:23.570\nSo they haven't updated to\nthe new standard wwww.google.com.\n\n303\n00:14:23.570 --> 00:14:27.390\nBut here, see how it's mapping out\nall the routers between me and them?\n\n304\n00:14:27.390 --> 00:14:30.260\nIf there was a problem,\nthis would indicate,\n\n305\n00:14:30.260 --> 00:14:33.340\nnot just that there was a problem,\nbut where the problem was?\n\n306\n00:14:33.340 --> 00:14:35.570\nThe very first hop,\nthat's your default gateway.\n\n307\n00:14:35.570 --> 00:14:38.710\nAnd in my environment,\nthat's my firewall here in the building.\n\n308\n00:14:38.710 --> 00:14:40.090\nThat's the end of my equipment.\n\n309\n00:14:40.090 --> 00:14:42.550\nSo if the problem happened there,\nit's my fault.\n\n310\n00:14:42.550 --> 00:14:44.330\nThen we get to my ISP's equipment.\n\n311\n00:14:44.330 --> 00:14:48.940\nSo all of this where we see GRU,\nthat's my internet service provider.\n\n312\n00:14:48.940 --> 00:14:51.272\nSo if the problem is there,\nI've got to call my ISP.\n\n313\n00:14:51.272 --> 00:14:54.970\nBut if the problem is beyond there?\n\n314\n00:14:54.970 --> 00:14:57.020\nBeyond there we start getting\ninto Google's network or\n\n315\n00:14:57.020 --> 00:14:58.710\nInternet backbone networks.\n\n316\n00:14:58.710 --> 00:15:00.910\nThat's somebody else's problem.\n\n317\n00:15:00.910 --> 00:15:02.190\nThat's not our fault.\n\n318\n00:15:02.190 --> 00:15:04.860\nSo trace your outlet to\nsee where that issue is.\n\n319\n00:15:04.860 --> 00:15:08.520\nAnd it gives you these nice\nadjusted times up here.\n\n320\n00:15:08.520 --> 00:15:12.650\nWhere you have the shortest amount\nof time it took to send a ping,\n\n321\n00:15:12.650 --> 00:15:16.330\nthe longest amount of time it took\nto send a ping, and the average.\n\n322\n00:15:16.330 --> 00:15:19.480\nCuz one ping is not necessarily a good\nindicator of what the average connection\n\n323\n00:15:19.480 --> 00:15:23.220\nis like, what the average latency is, and\nso I can see that laid out right there.\n\n324\n00:15:23.220 --> 00:15:26.460\nTraceroute's a pretty cool utility.\n\n325\n00:15:26.460 --> 00:15:29.260\nYou got other ones like tracepath,\nnot every distro has it.\n\n326\n00:15:29.260 --> 00:15:29.780\nDo I have it?\n\n327\n00:15:29.780 --> 00:15:30.620\nOh, I do.\n\n328\n00:15:30.620 --> 00:15:34.560\nSo you can do trace pace and\nyou can specify a system and\n\n329\n00:15:34.560 --> 00:15:35.870\nit'll do basically the same thing.\n\n330\n00:15:35.870 --> 00:15:39.340\nThe difference here is that it\ndoesn't do the minimum, maximum,\n\n331\n00:15:39.340 --> 00:15:41.210\nand average values so\nit's a little faster.\n\n332\n00:15:41.210 --> 00:15:45.100\nIf you're in a hurry you can use tracepath\nand you'll get it done more quickly.\n\n333\n00:15:45.100 --> 00:15:48.390\nAnd these no replies that I'm\ngetting that's not uncommon\n\n334\n00:15:48.390 --> 00:15:50.920\nwhen they have a firewall\nthat's blocking pings.\n\n335\n00:15:50.920 --> 00:15:51.652\nYou'll see that from time to time.\n\n336\n00:15:51.652 --> 00:15:54.776\nPeople set up firewalls that block\npings and you'll get those no replies.\n\n337\n00:15:54.776 --> 00:15:57.868\nBut you'll get through to\nthat other side eventually or\n\n338\n00:15:57.868 --> 00:15:59.525\nyou can try a different site.\n\n339\n00:15:59.525 --> 00:16:01.487\nThat one laid out nice and fast.\n\n340\n00:16:01.487 --> 00:16:03.786\nAnd so it kinda throws it along,\nand you get an idea.\n\n341\n00:16:03.786 --> 00:16:08.060\nI know that I've got 40 milliseconds\nof latency between me and Slashdot.\n\n342\n00:16:08.060 --> 00:16:09.830\nNow I can see where that latency occurs.\n\n343\n00:16:09.830 --> 00:16:12.982\nSee how the big jump\nright here from 2 to 14.\n\n344\n00:16:12.982 --> 00:16:16.940\nWell that was when I jumped from\ngru to bare internet backbone.\n\n345\n00:16:16.940 --> 00:16:20.510\nSo their backbone connection\nhad,12 milliseconds of latency.\n\n346\n00:16:20.510 --> 00:16:25.420\nAnd then we go from 14 to 27 right here,\nwhen we went from Atlanta,\n\n347\n00:16:25.420 --> 00:16:28.240\nto whatever city that is.\n\n348\n00:16:28.240 --> 00:16:32.110\nI don't know, asbnva.\n\n349\n00:16:32.110 --> 00:16:33.422\nSo that's somewhere in Virginia.\n\n350\n00:16:33.422 --> 00:16:40.575\nYeah asbn, that'll be a city,\nAshburginsville or something.\n\n351\n00:16:40.575 --> 00:16:42.230\n>> [LAUGH]\n>> We'll make up a city.\n\n352\n00:16:42.230 --> 00:16:45.200\nBut, so when it did that jump,\nit took a hit on latency.\n\n353\n00:16:45.200 --> 00:16:47.310\nAnd then we'll see another\nbig jump right here,\n\n354\n00:16:47.310 --> 00:16:51.310\nwhen we went to savvis,\nwent from ntt to savvis.\n\n355\n00:16:51.310 --> 00:16:53.430\nAnd on savvises network,\nthat's kind of sad,\n\n356\n00:16:53.430 --> 00:16:56.822\njust on savvises own network we've\ngot almost 20 milliseconds latency,\n\n357\n00:16:56.822 --> 00:16:59.540\njust moving around in\ntheir equipment on savvis.\n\n358\n00:16:59.540 --> 00:17:01.005\nThey probably need to-\n>> Upgrade.\n\n359\n00:17:01.005 --> 00:17:01.670\n>> Re-evaluate.\n\n360\n00:17:01.670 --> 00:17:04.520\nYeah, so that happens, and\nthis is a great way to diagnose that too.\n\n361\n00:17:05.910 --> 00:17:07.100\nAll right.\n\n362\n00:17:07.100 --> 00:17:10.340\nNow, all of these utilities, are just\nshowing that I've got connectivity,\n\n363\n00:17:10.340 --> 00:17:11.740\nthat I can get to the other side.\n\n364\n00:17:11.740 --> 00:17:13.940\nIt doesn't mean the other\nside's actually working.\n\n365\n00:17:13.940 --> 00:17:15.710\nWhen I reach out to Google,\nI want a webpage.\n\n366\n00:17:15.710 --> 00:17:16.910\nI need to connect on port 80.\n\n367\n00:17:16.910 --> 00:17:18.575\nI need to see a webpage.\n\n368\n00:17:18.575 --> 00:17:21.430\nWell, you fire up a web browser and\nyou go to it, right?\n\n369\n00:17:21.430 --> 00:17:23.130\nBut if we wanna test things like,\n\n370\n00:17:23.130 --> 00:17:27.920\nTelnet, SSH, FTP,\nwe can use their respective protocols.\n\n371\n00:17:27.920 --> 00:17:30.390\nAnd in the command line we've\ngot prompts for all of that.\n\n372\n00:17:30.390 --> 00:17:34.385\nSo I can try and open up a Telnet session,\nto a host that's out there.\n\n373\n00:17:34.385 --> 00:17:36.225\nI don't know any Telnet hosts offhand.\n\n374\n00:17:36.225 --> 00:17:37.891\nI just use the old blinking lights.\n\n375\n00:17:37.891 --> 00:17:38.843\n>> [LAUGH] That's true.\n\n376\n00:17:38.843 --> 00:17:42.320\n>> [LAUGH] So you can Telnet to one of\nthose websites, or it's not a website,\n\n377\n00:17:42.320 --> 00:17:44.675\nit's a shell server, but\nyou can Telnet to it.\n\n378\n00:17:44.675 --> 00:17:48.615\nI do know some SSH hosts that I could use,\nso I might try and\n\n379\n00:17:48.615 --> 00:17:53.540\nconnect to a host that's out there,\nand connect via SSH.\n\n380\n00:17:53.540 --> 00:17:58.245\nAnd now I'm actually\naccessing that system, and\n\n381\n00:17:58.245 --> 00:18:01.290\nI'm able to work with it, and so on.\n\n382\n00:18:01.290 --> 00:18:04.850\nI know that I'm connecting on port 22,\nI know that I'm able to move data.\n\n383\n00:18:04.850 --> 00:18:07.460\nSo using those native protocols,\nthat can be pretty handy.\n\n384\n00:18:08.790 --> 00:18:10.919\nAll right,\ncouple other ones that are really handy.\n\n385\n00:18:12.110 --> 00:18:14.050\nWe have generally a default gateway,\n\n386\n00:18:14.050 --> 00:18:17.180\nthat we use when we go to a network\nthat's not the one we're on, right?\n\n387\n00:18:17.180 --> 00:18:19.780\nSo if I need to get to some other network,\nI go through a gateway.\n\n388\n00:18:19.780 --> 00:18:25.639\nAnd the gateway is defined in\n/etc/cisconfig/network, right?\n\n389\n00:18:25.639 --> 00:18:27.146\nThat file,\nthat's where we define the gateway, or\n\n390\n00:18:27.146 --> 00:18:29.640\nit's defined on your network adapter,\none or the other.\n\n391\n00:18:29.640 --> 00:18:31.410\nWell, that's good.\n\n392\n00:18:31.410 --> 00:18:34.491\nAnd when we can see that\nif you do like a route-n.\n\n393\n00:18:34.491 --> 00:18:37.290\nroute-n shows you routing table.\n\n394\n00:18:37.290 --> 00:18:40.210\nAnd you'll typically\nhave two routes in here.\n\n395\n00:18:40.210 --> 00:18:43.080\nYou'll have one route for\nthe network you're directly connected to,\n\n396\n00:18:43.080 --> 00:18:46.530\nso I'm directly plugged in to 10.1.230 so\nit shows up right here.\n\n397\n00:18:46.530 --> 00:18:52.590\nAnd then your default gateway will show\nas 0.0.0.0 and that's your default route.\n\n398\n00:18:52.590 --> 00:18:57.040\nAnd I can see I'm pointing to a gateway\nof 10.1.230.1, that's our firewall.\n\n399\n00:18:57.040 --> 00:18:58.660\nAnd that's my gateway.\n\n400\n00:18:58.660 --> 00:19:00.011\nYou might see others though.\n\n401\n00:19:00.011 --> 00:19:04.330\nI got one in here for 169.254,\nthat's that APIPA network.\n\n402\n00:19:04.330 --> 00:19:07.840\nRight, the Automatic Private IP Addressing\nprotocol.\n\n403\n00:19:07.840 --> 00:19:09.990\nIt's used if your DHCP server is down.\n\n404\n00:19:09.990 --> 00:19:11.930\nYou get a fake address,\nand it's in that range.\n\n405\n00:19:11.930 --> 00:19:14.310\nSo, let's go ahead and map that,\nnot every distro does that.\n\n406\n00:19:15.370 --> 00:19:17.430\nBut you might have even others.\n\n407\n00:19:17.430 --> 00:19:20.460\nMaybe you've got a VPN tunnel\nup to a business partner, and so\n\n408\n00:19:20.460 --> 00:19:23.210\nyou want to route their traffic\nout a different gateway.\n\n409\n00:19:23.210 --> 00:19:25.920\nThese can be overridden,\nyou can add routes to your system.\n\n410\n00:19:25.920 --> 00:19:29.130\nAnd if that's happened, traffic may be\ngoing a different direction than you\n\n411\n00:19:29.130 --> 00:19:31.380\nthink, and route-n will show it, alright.\n\n412\n00:19:31.380 --> 00:19:36.730\nIf you've ever needed to do it, if you\nneed to add a network, I can show you.\n\n413\n00:19:36.730 --> 00:19:38.520\nLet's say I didn't have a default gateway,\nor\n\n414\n00:19:38.520 --> 00:19:44.120\nI wanted to override my default gateway,\nI could say, route add\n\n415\n00:19:44.120 --> 00:19:50.100\ndefault gw, and\nI could point to a different gateway.\n\n416\n00:19:50.100 --> 00:19:52.721\nSo I'll point to 10.1.230.2, right?\n\n417\n00:19:52.721 --> 00:19:57.680\nNow when I do a route-n,\nsee I've got two gateways, right?\n\n418\n00:19:57.680 --> 00:19:59.840\nI've got two default gateways defined,\nwhich one its gonna use?\n\n419\n00:19:59.840 --> 00:20:03.160\nWell, it's actually gonna use\nwhichever one it got first, so\n\n420\n00:20:03.160 --> 00:20:05.710\nin this case it's .1,\ncuz they have equal metrics.\n\n421\n00:20:05.710 --> 00:20:08.310\nThis metric value over here is how\nit determines which one is better\n\n422\n00:20:08.310 --> 00:20:09.160\nthan the other?\n\n423\n00:20:09.160 --> 00:20:10.810\nA lower metric is always better.\n\n424\n00:20:10.810 --> 00:20:13.400\nWell they both have a metric of zero,\nthat's as low as it gets.\n\n425\n00:20:13.400 --> 00:20:15.890\nSo it'll just take which\never one it gets first.\n\n426\n00:20:15.890 --> 00:20:17.350\nBut I can remove routes.\n\n427\n00:20:17.350 --> 00:20:18.550\nThat route command.\n\n428\n00:20:18.550 --> 00:20:24.370\nYou know I used route add, but if you take\na look at the other options in here in\n\n429\n00:20:24.370 --> 00:20:28.820\naddition to route add, you've got route, I\nbelieve it's DEL and not the full delete.\n\n430\n00:20:28.820 --> 00:20:32.140\nLet's pull up the command for that.\n\n431\n00:20:32.140 --> 00:20:32.730\nIt is.\n\n432\n00:20:32.730 --> 00:20:34.230\nThere's route at route del, yep.\n\n433\n00:20:34.230 --> 00:20:39.080\nSo I could say route del, and\nI could remove the other default gateway.\n\n434\n00:20:39.080 --> 00:20:42.600\nSo I might come in here and\nsay, route delete and\n\n435\n00:20:42.600 --> 00:20:45.590\nget rid of the other default route.\n\n436\n00:20:45.590 --> 00:20:48.001\nAnd now I've switched to\nmy other gateway of .2.\n\n437\n00:20:48.001 --> 00:20:49.190\nNow, .2 doesn't work for me.\n\n438\n00:20:49.190 --> 00:20:50.179\nSo now I can't get out to the internet.\n\n439\n00:20:51.370 --> 00:20:55.081\nYou can also add other\njust individual routes,\n\n440\n00:20:55.081 --> 00:21:01.109\nmaybe I want to redirect one particular\nroute, I want to say route add -net,\n\n441\n00:21:01.109 --> 00:21:05.959\nand I'm just gonna redirect\nthe 10.1.231 network.\n\n442\n00:21:05.959 --> 00:21:09.260\nI just want to send that one network\nout to a different destination.\n\n443\n00:21:09.260 --> 00:21:10.400\nAnd I'll give it its netmask.\n\n444\n00:21:12.750 --> 00:21:16.320\nLike that, and\nI'll give it a different gateway.\n\n445\n00:21:16.320 --> 00:21:19.330\nMaybe I'll send that one\nback to the other gateway.\n\n446\n00:21:19.330 --> 00:21:20.694\nAnd I do a route -n,\n\n447\n00:21:20.694 --> 00:21:24.565\nI can see that traffic is now gonna be\nredirected to that other destination.\n\n448\n00:21:24.565 --> 00:21:26.755\nSo we can override this stuff\nwith the routing table.\n\n449\n00:21:26.755 --> 00:21:28.505\nNow we don't normally have to do that.\n\n450\n00:21:28.505 --> 00:21:31.035\nYou do your routing on your router.\n\n451\n00:21:31.035 --> 00:21:34.695\nBut if you want to see the routing table\nof your Linux host, route -n will do it.\n\n452\n00:21:34.695 --> 00:21:38.125\nReally handy if you have a laptop that\nhas a wireless and a wired connection,\n\n453\n00:21:38.125 --> 00:21:41.500\nand you want to make sure you're using\nthe wired connection and not wireless.\n\n454\n00:21:41.500 --> 00:21:43.030\nRoute -n.\nIt'll show you, you know?\n\n455\n00:21:43.030 --> 00:21:44.360\nLook where your default route is pointing.\n\n456\n00:21:44.360 --> 00:21:45.420\nIt'll point to one of those adapters,\n\n457\n00:21:45.420 --> 00:21:49.266\nand they'll have different metrics to\nindicate one is better than the other.\n\n458\n00:21:51.622 --> 00:21:53.600\nAnother really cool utility?\n\n459\n00:21:53.600 --> 00:21:54.530\nNetstat.\n\n460\n00:21:54.530 --> 00:21:58.270\nNetstat will show you all the network\nconnections that are on your system\n\n461\n00:21:58.270 --> 00:21:59.130\nright now.\n\n462\n00:21:59.130 --> 00:22:01.220\nWhen you do things like\nbrowse out to the internet,\n\n463\n00:22:01.220 --> 00:22:03.290\nlet me close some of these tabs here.\n\n464\n00:22:03.290 --> 00:22:04.090\nAll right.\n\n465\n00:22:04.090 --> 00:22:05.280\nActually, you know what?\n\n466\n00:22:05.280 --> 00:22:07.935\nI need to put my default gateway back to.\n\n467\n00:22:07.935 --> 00:22:11.622\n>> [LAUGH]\n>> Back to one that actually helps.\n\n468\n00:22:11.622 --> 00:22:14.898\n[CROSSTALK] Otherwise I'm\nnot gonna get anywhere.\n\n469\n00:22:14.898 --> 00:22:17.628\nAnother thing I could've done there,\nI could've just restarted my network\n\n470\n00:22:17.628 --> 00:22:20.540\nservice, cuz those route commands\nthey're not persistent, they don't stay.\n\n471\n00:22:20.540 --> 00:22:24.970\nIf I wanna be persistent I gotta go and\nput them in /etc/sysconfig/network.\n\n472\n00:22:24.970 --> 00:22:26.230\nIf I do them like this.\n\n473\n00:22:26.230 --> 00:22:28.260\nYou just restart your network service and\nthey go away.\n\n474\n00:22:28.260 --> 00:22:30.614\nRestarting your network service is\na great way to troubleshoot, too.\n\n475\n00:22:30.614 --> 00:22:35.950\nIf you have a problem you\ncan just do a quick service\n\n476\n00:22:35.950 --> 00:22:40.685\nnetwork restart, I'm thinking systemd.\n\n477\n00:22:40.685 --> 00:22:44.770\nThat one will restart it, if you are a\nsystemd system, the command is system\n\n478\n00:22:44.770 --> 00:22:49.225\nCTL restart network.service, and\n\n479\n00:22:49.225 --> 00:22:52.085\nthat'll restart it on a systemd system,\nI'm not right now, so.\n\n480\n00:22:53.355 --> 00:22:55.675\nThat's a great way, cuz that'll\nclear out any of the non-persistant\n\n481\n00:22:55.675 --> 00:22:57.245\ncommands that've been put in.\n\n482\n00:22:57.245 --> 00:23:02.940\nNow if I want to, you know view all\nthe connections on my system right now,\n\n483\n00:23:02.940 --> 00:23:07.010\nI can say netstat-atp, alright?\n\n484\n00:23:07.010 --> 00:23:10.830\natp is telling it to show me all the\nconnections, and show me their ports, and\n\n485\n00:23:10.830 --> 00:23:14.260\nwhen I run that,\nhere's all the connections I have.\n\n486\n00:23:14.260 --> 00:23:17.770\nI actually don't really have too many,\nmost of these are listeners.\n\n487\n00:23:17.770 --> 00:23:19.320\nSee how they say listen over here?\n\n488\n00:23:19.320 --> 00:23:21.140\nThat means I'm running\nsome kind of service.\n\n489\n00:23:21.140 --> 00:23:24.010\nI'm running Linux, so\nI support SSH connections, and so\n\n490\n00:23:24.010 --> 00:23:26.800\nI can say I'm listening For SSH.\n\n491\n00:23:26.800 --> 00:23:30.050\nI'm listening for anybody out there who\nwants to connect to my machine on SSH.\n\n492\n00:23:30.050 --> 00:23:32.930\nI'm also listening on IPP,\nthe Internet Print Protocol.\n\n493\n00:23:32.930 --> 00:23:36.000\nI'm listening on SMTP, for simple mail.\n\n494\n00:23:36.000 --> 00:23:38.410\nI'm listing on HTTP, I'm a web server.\n\n495\n00:23:38.410 --> 00:23:42.060\nI'm listening on SSH on some other port,\nI guess.\n\n496\n00:23:42.060 --> 00:23:43.450\nI wonder why that's listed twice.\n\n497\n00:23:43.450 --> 00:23:43.980\nWell anyhow, so\n\n498\n00:23:43.980 --> 00:23:45.838\nI'm listening really extra hard\n>> [LAUGH]\n\n499\n00:23:45.838 --> 00:23:47.195\n>> And I could be a SMTP,\n\n500\n00:23:47.195 --> 00:23:49.693\nall of this twice for whatever reason.\n\n501\n00:23:49.693 --> 00:23:51.727\nSo I got a couple of those laid out.\n\n502\n00:23:51.727 --> 00:23:57.021\nThis other connection\nthough 10.1.230.238 that's\n\n503\n00:23:57.021 --> 00:24:03.732\nme has a connection to a foreign\naddress ala4-26-136-139.deploy and\n\n504\n00:24:03.732 --> 00:24:07.052\nI'm connecting on HTP and it's closed.\n\n505\n00:24:07.052 --> 00:24:08.130\nOkay?\nWhat's going on there?\n\n506\n00:24:09.190 --> 00:24:11.300\nWell if i look over a little further,\n\n507\n00:24:11.300 --> 00:24:15.480\nbecause i did a -p on it I'm telling\nit to tell me the program and\n\n508\n00:24:15.480 --> 00:24:20.818\nit's the clock dash, and\nit word wraps over here, clock -applet.\n\n509\n00:24:20.818 --> 00:24:26.400\nMy clock is reaching out for\nsome reason, and connecting to a host.\n\n510\n00:24:26.400 --> 00:24:29.960\nAnd so it's probably connecting to,\nwell render current time, or time zones,\n\n511\n00:24:29.960 --> 00:24:31.300\nor some other data like that.\n\n512\n00:24:31.300 --> 00:24:33.640\nBut my clock has made\nsome kind of connection.\n\n513\n00:24:33.640 --> 00:24:38.370\nIf I were to fire up another utility like,\nwell here, let me go to another tab.\n\n514\n00:24:38.370 --> 00:24:46.240\nAnd I'll open up an SSH session like I\ndid a few minutes ago and get connected.\n\n515\n00:24:46.240 --> 00:24:49.960\nIf I can remember the password, there.\n\n516\n00:24:49.960 --> 00:24:54.057\nIf I go back here and I do that netstat\ndash ATP, see how I've got another\n\n517\n00:24:54.057 --> 00:24:59.210\nconnection, 10.1.230.238 is\nconnected to 10.1.10.2 on SSH.\n\n518\n00:24:59.210 --> 00:25:03.710\nAnd it's established, it's in action\nright now, and it's SSH that's doing it.\n\n519\n00:25:03.710 --> 00:25:07.130\nIf I fire up Firefox, I'm gonna go to CNN.\n\n520\n00:25:07.130 --> 00:25:11.540\nI love CNN's webpage, because it's so\npacked full of advertisements,\n\n521\n00:25:11.540 --> 00:25:15.150\nthat when you go to it I'm just\ngoing to one web page, right?\n\n522\n00:25:15.150 --> 00:25:18.610\nBut when I go into my terminal and\n\n523\n00:25:18.610 --> 00:25:23.060\ndo a netstat -atp, look at how many\nconnections that turkey just made.\n\n524\n00:25:23.060 --> 00:25:25.190\nYou guys saw, I went to one web page.\n\n525\n00:25:25.190 --> 00:25:27.880\nThere's so many advertisements on\ntheir web page, they link to so\n\n526\n00:25:27.880 --> 00:25:30.750\nmany different servers, these are all\nthe connections I just created.\n\n527\n00:25:30.750 --> 00:25:34.520\nLook at all those Firefox program\nnotes on the right side of the screen.\n\n528\n00:25:34.520 --> 00:25:38.060\nSo this is a great way to see,\nnot only what connections you have, but\n\n529\n00:25:38.060 --> 00:25:39.610\nwhat software is generating them.\n\n530\n00:25:39.610 --> 00:25:43.542\nRight?\nSo that was nets@-atp.\n\n531\n00:25:43.542 --> 00:25:47.900\nAll right, you can modify that,\nif you drop the a, a stands for active.\n\n532\n00:25:47.900 --> 00:25:50.690\nI'm showing all of the active connections.\n\n533\n00:25:50.690 --> 00:25:53.560\nI'm sorry,\nlet me get this correct the A means all.\n\n534\n00:25:53.560 --> 00:25:55.250\nWe're seeing all the connections.\n\n535\n00:25:55.250 --> 00:25:59.900\nIf I leave the A off,\nit's gonna show me only the active ones.\n\n536\n00:25:59.900 --> 00:26:02.760\nBecause some of these are in\nlike time-wait, right?\n\n537\n00:26:02.760 --> 00:26:04.440\nSo they're not actually doing\nanything anymore, right?\n\n538\n00:26:04.440 --> 00:26:08.095\nThey're kinda sitting there stalled,\nbut other ones are sleeping.\n\n539\n00:26:08.095 --> 00:26:09.915\nIn other words, they're about to close.\n\n540\n00:26:09.915 --> 00:26:12.755\nAnd so when you leave the A off,\nthe ones that are sleeping,\n\n541\n00:26:12.755 --> 00:26:14.895\nwhich I guess didn't have\nany that were sleeping, and\n\n542\n00:26:14.895 --> 00:26:16.755\nthe ones that are all about to close,\nit leaves them off.\n\n543\n00:26:16.755 --> 00:26:19.625\nAnd you just see what's truly\nactive on your system right then.\n\n544\n00:26:19.625 --> 00:26:23.705\nSo that was netstat -tp, like that.\n\n545\n00:26:23.705 --> 00:26:25.105\nWhat else do we want?\n\n546\n00:26:25.105 --> 00:26:26.535\nNetstat is actually really powerful.\n\n547\n00:26:26.535 --> 00:26:28.750\nYou can do things like netstat -- route.\n\n548\n00:26:28.750 --> 00:26:32.100\nAnd it'll show your routing table.\n\n549\n00:26:32.100 --> 00:26:33.800\nNot any different than route- n, right?\n\n550\n00:26:33.800 --> 00:26:40.580\nBut you can get it in one command if you\nwant, netstat-- program is another one.\n\n551\n00:26:40.580 --> 00:26:42.440\nWe already saw the program output, but\n\n552\n00:26:42.440 --> 00:26:45.930\nnetstat-- program goes a little bit\nbeyond because it'll start to give you\n\n553\n00:26:45.930 --> 00:26:49.490\nsome additional information about the\nsoftware that's accessing the resources.\n\n554\n00:26:49.490 --> 00:26:52.130\nSo you can see some kind of neat\ninformation there about what it is that's\n\n555\n00:26:52.130 --> 00:26:54.880\ntruly generating those connections,\nwhere they're coming from, but\n\n556\n00:26:54.880 --> 00:26:58.200\nsometimes you'll see things like,\nthe users temp files and\n\n557\n00:26:58.200 --> 00:27:02.610\nstuff that are involved, which helps you\nisolate who's doing what on the system.\n\n558\n00:27:02.610 --> 00:27:04.400\nSo, few different variations in that set.\n\n559\n00:27:06.360 --> 00:27:10.200\nAll right, the last command\nthat I want to talk about,\n\n560\n00:27:10.200 --> 00:27:12.160\nis probably the most technical.\n\n561\n00:27:12.160 --> 00:27:13.140\nAll these things we've run so\n\n562\n00:27:13.140 --> 00:27:15.890\nfar, the output you can pretty\nmuch interpret on your own.\n\n563\n00:27:15.890 --> 00:27:20.310\nBut there are times where you\njust need to see the raw network\n\n564\n00:27:20.310 --> 00:27:22.240\ndata moving through your system.\n\n565\n00:27:22.240 --> 00:27:25.390\nAnd for that we have the tcp dump command.\n\n566\n00:27:25.390 --> 00:27:27.660\nNow if you use tcp dump,\nthe command itself is pretty simple,\n\n567\n00:27:27.660 --> 00:27:33.030\nyou can just say tcp dump-I,\nfollowed by an interface.\n\n568\n00:27:33.030 --> 00:27:37.300\nSo if I want to monitor eth0,\nI can run that.\n\n569\n00:27:37.300 --> 00:27:40.570\nAll the network data sent out is being\nrendered on my screen right here.\n\n570\n00:27:40.570 --> 00:27:43.880\nI can see every single packet\nmoving in and out of my system.\n\n571\n00:27:43.880 --> 00:27:45.770\nBut, as you can see, it.\n\n572\n00:27:45.770 --> 00:27:48.105\n>> I don't think you can see it, Don.\n\n573\n00:27:48.105 --> 00:27:48.750\n[LAUGH]\n>> Yeah,\n\n574\n00:27:48.750 --> 00:27:53.410\nso what we normally do is you run tcpdump\nand you pipe that into like a file.\n\n575\n00:27:53.410 --> 00:27:58.780\nSo, I might create a netdata.txt file and\nso I start dumping into that.\n\n576\n00:27:58.780 --> 00:28:01.960\nSo it's running and it's dumping\nthat data right into that file.\n\n577\n00:28:01.960 --> 00:28:05.816\nAnd I can switch to another tab.\n\n578\n00:28:05.816 --> 00:28:06.872\nLeave that one be.\n\n579\n00:28:08.115 --> 00:28:12.960\nAnd, let me see if I can figure out\nwhere I just put that netdata file.\n\n580\n00:28:12.960 --> 00:28:16.930\nThere it is and you can stop the dump and\nthen edit that file or\n\n581\n00:28:16.930 --> 00:28:20.150\nI can do like a tail -f of netdata.\n\n582\n00:28:20.150 --> 00:28:23.410\nAnd now it's just gonna show\nme the ten most recent ones.\n\n583\n00:28:23.410 --> 00:28:26.470\nAnd so I can kinda spot that and see how\nit's updating to show me the most recent\n\n584\n00:28:26.470 --> 00:28:30.180\nten or maybe I don't even want that,\nmaybe I just want to tail it and\n\n585\n00:28:30.180 --> 00:28:35.060\nget what it's generated so far and there\nI can see kinda like last little bits.\n\n586\n00:28:35.060 --> 00:28:36.960\nThis is good for trouble shooting, too.\n\n587\n00:28:36.960 --> 00:28:39.670\nAm I seeing traffic actually\nreach my machine at all?\n\n588\n00:28:39.670 --> 00:28:41.610\nSomebody says,\nhey I can't ping your machine.\n\n589\n00:28:41.610 --> 00:28:45.410\nWell I might fire up TCP dump and say,\nam I even seeing their pings hit me?\n\n590\n00:28:45.410 --> 00:28:48.800\nAnd that will tell you, if you see them\nhit and they're not getting a response,\n\n591\n00:28:48.800 --> 00:28:49.930\nmaybe you're blocking it with IP tables.\n\n592\n00:28:49.930 --> 00:28:51.860\nYou're blocking it with your firewall, or\n\n593\n00:28:51.860 --> 00:28:55.350\nif you don't even see them get here,\nit's not your fault.\n\n594\n00:28:55.350 --> 00:28:57.260\nSorry buddy, you're getting\nblocked somewhere in between,\n\n595\n00:28:57.260 --> 00:29:01.002\nit's not my computer that's the problem,\nI don't even see your pings here.\n\n596\n00:29:01.002 --> 00:29:05.140\nSo tcpdump is pretty handy for\nthat, and it's really powerful\n\n597\n00:29:05.140 --> 00:29:09.660\nIf you pull up the man page for tcbdump,\nyou can actually write filters, and\n\n598\n00:29:09.660 --> 00:29:13.730\nyou can say only capture traffic\ncoming from this source IP or\n\n599\n00:29:13.730 --> 00:29:17.050\ngoing to this destination port,\nlike just capture my Telnet traffic.\n\n600\n00:29:17.050 --> 00:29:20.490\nYou can say things like that in this\ncommand line, it's pretty powerful.\n\n601\n00:29:20.490 --> 00:29:24.180\nThey give some examples in\nthe man page somewhere in here.\n\n602\n00:29:24.180 --> 00:29:25.920\nI think I just scrolled one.\n\n603\n00:29:25.920 --> 00:29:31.240\nYeah, here, so they're doing tcpdump for\njust TCP port 80 and\n\n604\n00:29:31.240 --> 00:29:36.670\nwhen the IP address falls in some kind of\nrange, doing with just gateway traffic.\n\n605\n00:29:36.670 --> 00:29:40.470\nYou can filter by all sorts of\ncool stuff to minimize the,\n\n606\n00:29:40.470 --> 00:29:43.140\njust data overload that you get out of it.\n\n607\n00:29:43.140 --> 00:29:44.890\nSo, very powerful command.\n\n608\n00:29:44.890 --> 00:29:47.030\nI think it's there by default\non most of the distros.\n\n609\n00:29:47.030 --> 00:29:49.610\nI've never encountered a machine\nthat didn't have tcpdump.\n\n610\n00:29:49.610 --> 00:29:50.980\nIt just always seems to be there.\n\n611\n00:29:50.980 --> 00:29:52.770\n>> Yeah.\nIt's a wonderful tool and, of course,\n\n612\n00:29:52.770 --> 00:29:54.250\nthere's always Wireshark, but\n\n613\n00:29:54.250 --> 00:29:57.720\nWireshark usually doesn't come\npre-installed on your system.\n\n614\n00:29:57.720 --> 00:30:01.720\ntcpdump, like Don said, is normally\npre-installed on your system, so\n\n615\n00:30:01.720 --> 00:30:04.550\nit's good to get familiar with it because\nyou never know when you're just gonna\n\n616\n00:30:04.550 --> 00:30:08.170\nsit behind a terminal and you need to\ntroubleshoot, and you can use these tools.\n\n617\n00:30:08.170 --> 00:30:11.760\nAll of these tools are typically\nfound on any Linux distro.\n\n618\n00:30:11.760 --> 00:30:13.270\nThat should might be working with.\n\n619\n00:30:13.270 --> 00:30:14.320\n>> Yeah, and they're all CLI, right?\n\n620\n00:30:14.320 --> 00:30:18.020\nRemember Wireshark, if you're on a server\nand no GUI, good luck using Wireshark.\n\n621\n00:30:18.020 --> 00:30:22.410\nIt's great software, but, you know,\ngreat software on your laptop.\n\n622\n00:30:22.410 --> 00:30:25.090\nSo on a server you don't\nhave those resources.\n\n623\n00:30:25.090 --> 00:30:27.470\nTCP dump is nice, you can just fire\nit up real quick, gather your data.\n\n624\n00:30:27.470 --> 00:30:30.080\nI've used it tuns of times,\nvery, very valuable.\n\n625\n00:30:30.080 --> 00:30:33.160\n>> Well Don looks like we've wrapped\nup yet another Linux plus episode.\n\n626\n00:30:33.160 --> 00:30:35.998\nHopefully all you guys out there watching,\nyou've learned a lot from this.\n\n627\n00:30:35.998 --> 00:30:39.270\nThis is gonna help you a lot when it\ncomes to that network trouble shooting,\n\n628\n00:30:39.270 --> 00:30:41.440\nall those great tools that\nwe've shown you for today.\n\n629\n00:30:41.440 --> 00:30:44.303\nThat being said it is time to sign off.\n\n630\n00:30:44.303 --> 00:30:45.787\nI've been your host, Daniel Lowrie.\n\n631\n00:30:45.787 --> 00:30:46.809\n>> And I'm Don Pezet.\n\n632\n00:30:46.809 --> 00:30:48.051\n>> And we'll see you next time.\n\n633\n00:30:48.051 --> 00:30:53.950\n[SOUND]\n\n",
          "vimeoId": "131871449"
        },
        {
          "description": "In this episode, Daniel and Don round out network troubleshooting for Linux+, starting with a quick review of some common troubleshooting tools like ifconfig and ip. Then they take a look at some of the newer versions of older standard tools which includes ping6, traceroute6, and tracepath6; to prepare you for IPv6 networks. Also covered is the netcat tool, as well as network configuration files that are helpful when troubleshooting.",
          "length": "1732",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-3-2-diagnosing_networking_pt2-012816-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-3-2-diagnosing_networking_pt2-012816-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-8-3-2-diagnosing_networking_pt2-012816-1-sm.jpg",
          "title": "Diagnosing Networking Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:12.306 --> 00:00:17.341\nAll right, greetings, everyone and welcome\nto another exciting episode of ITPro TV.\n\n3\n00:00:17.341 --> 00:00:20.430\nI'm your host, Daniel Lowry,\nand in today's episode, well,\n\n4\n00:00:20.430 --> 00:00:24.191\nwe're continuing on with our Linux Plus\nseries Joining me in the studio today is\n\n5\n00:00:24.191 --> 00:00:27.250\nour good friend, our colleague,\nour mentor, Mr. Don Pezet.\n\n6\n00:00:27.250 --> 00:00:28.820\nDon, welcome back to the show, sir.\n\n7\n00:00:28.820 --> 00:00:32.450\n>> Thanks for having me back, Daniel, and\nback to jump into the world of Linux Plus,\n\n8\n00:00:32.450 --> 00:00:35.920\nwe're gonna continue on with our\nnetwork troubleshooting series that we\n\n9\n00:00:35.920 --> 00:00:37.170\nstarted in the last episode.\n\n10\n00:00:37.170 --> 00:00:41.020\nWe had to really see some good things that\nwere there, as far as trying to identify\n\n11\n00:00:41.020 --> 00:00:43.890\nthe source of a problem, some of\nthe different places we might have issues.\n\n12\n00:00:43.890 --> 00:00:45.900\nWe saw a lot of tools that we could use.\n\n13\n00:00:45.900 --> 00:00:49.530\nBut there were a few things we didn't get\nto, like we really didn't mention IPv6 or\n\n14\n00:00:49.530 --> 00:00:51.025\na few other configuration files.\n\n15\n00:00:51.025 --> 00:00:54.314\nSo we're gonna take a look at those today\nin this episode and kind of shore that up\n\n16\n00:00:54.314 --> 00:00:57.780\nand make sure that we have everything\nthat we need to be prepared for the exam.\n\n17\n00:00:57.780 --> 00:01:01.350\n>> That's right, we want to wrap it up in\na nice little bow in a pretty pink package\n\n18\n00:01:01.350 --> 00:01:04.750\nso that you guys are ready for\nthat test when you sit in that seat.\n\n19\n00:01:04.750 --> 00:01:07.070\nThat being said, Don,\nthere are some good basics and\n\n20\n00:01:07.070 --> 00:01:10.540\nmaybe that's a good place to begin,\njust to refresh things in our mind.\n\n21\n00:01:10.540 --> 00:01:12.970\nWhat are some of those\ntools that we're gonna use\n\n22\n00:01:12.970 --> 00:01:15.060\nto troubleshoot network\nconnectivity issues?\n\n23\n00:01:15.060 --> 00:01:17.710\n>> All right, one of the tools I\nwanna talk is ifconfig, right.\n\n24\n00:01:17.710 --> 00:01:19.830\nIfconfig is the interface\nconfiguration utility.\n\n25\n00:01:19.830 --> 00:01:21.990\nIt's been around in Linux for a long time.\n\n26\n00:01:21.990 --> 00:01:25.390\nAnd I know we used it in the last\nepisode to check our interfaces.\n\n27\n00:01:25.390 --> 00:01:29.190\nAnd I got some feedback from viewers out\nthere in the field that were saying, hey,\n\n28\n00:01:29.190 --> 00:01:32.329\nDon, I've seen some distros that\ndidn't come with ifconfig, and\n\n29\n00:01:32.329 --> 00:01:33.618\nthat's absolutely true.\n\n30\n00:01:33.618 --> 00:01:36.980\nSome of the newer distros are not\npackaging it with them anymore.\n\n31\n00:01:36.980 --> 00:01:40.581\nAnd they've replaced it with\na new utility that's just,\n\n32\n00:01:40.581 --> 00:01:42.793\nthe old IP routing utilities or IP.\n\n33\n00:01:42.793 --> 00:01:45.819\nWell, you might even find some\ndistros that don't have that one,\n\n34\n00:01:45.819 --> 00:01:49.210\nthat really just don't have any\ntroubleshooting utilities at all.\n\n35\n00:01:49.210 --> 00:01:50.780\nAnd I'm on a great example here.\n\n36\n00:01:50.780 --> 00:01:55.917\nI've got a, this is a centOS 7 install,\nright, so if I look at my little Red Hat\n\n37\n00:01:55.917 --> 00:02:01.990\nrelease file here, I'm running centOS 7.2,\nand this is a minimal install, right.\n\n38\n00:02:01.990 --> 00:02:04.660\nWhen you do a minimal install, this is\nlike what you would do on a server.\n\n39\n00:02:04.660 --> 00:02:06.170\nAnd so if I'm bringing up a new server,\n\n40\n00:02:06.170 --> 00:02:08.360\nI don't wanna install a bunch\nof extra utilities or anything.\n\n41\n00:02:08.360 --> 00:02:10.490\nI just want the minimum\nstuff to get it working.\n\n42\n00:02:10.490 --> 00:02:13.670\nWell, it doesn't have ifconfig.\n\n43\n00:02:13.670 --> 00:02:14.887\nIt doesn't have IP.\n\n44\n00:02:14.887 --> 00:02:16.880\nHeck, I don't think it even\nhas traceroute, does it?\n\n45\n00:02:16.880 --> 00:02:18.050\nYeah, it doesn't even have traceroute.\n\n46\n00:02:18.050 --> 00:02:20.752\nSo a lot of the tools we talked\nabout in the last episode you,\n\n47\n00:02:20.752 --> 00:02:22.221\nyou may not have in your distro.\n\n48\n00:02:22.221 --> 00:02:24.980\nAnd so you may need to install\nthem to be able to use them.\n\n49\n00:02:24.980 --> 00:02:28.040\nAll right, well, if you know\nthe package names that's really easy.\n\n50\n00:02:28.040 --> 00:02:29.590\nSometimes we need a little more though.\n\n51\n00:02:29.590 --> 00:02:31.391\nSo, for example, this is a centOS box.\n\n52\n00:02:31.391 --> 00:02:36.920\nSo I can do yum install on a Debian Box or\nUbuntu, you do app get.\n\n53\n00:02:36.920 --> 00:02:40.350\nIf I try and do an install for\ntraceroute, right?\n\n54\n00:02:40.350 --> 00:02:41.140\nWell, that's no big deal.\n\n55\n00:02:41.140 --> 00:02:41.960\nIt's gonna install it.\n\n56\n00:02:41.960 --> 00:02:43.630\nThere we go and now I've got traceroute.\n\n57\n00:02:43.630 --> 00:02:47.000\nBut what if I try that for ifconfig?\n\n58\n00:02:48.160 --> 00:02:50.280\nNothing to do, there's no package, right?\n\n59\n00:02:50.280 --> 00:02:54.690\nBecause these commands, they've been\ningrained in the system so long, they\n\n60\n00:02:54.690 --> 00:02:58.240\ndon't actually have a dedicated package\nto themselves or part of another package.\n\n61\n00:02:58.240 --> 00:03:04.720\nSo, in a Red Hat based system, you can do\nyum provides and then look for a command.\n\n62\n00:03:04.720 --> 00:03:07.970\nAnd so, if you do that, you can look and\nfind out which command or\n\n63\n00:03:07.970 --> 00:03:09.460\nwhich packages that contains that.\n\n64\n00:03:09.460 --> 00:03:12.250\nSo, when I do yum provides ifconfig,\nit's gonna look and\n\n65\n00:03:12.250 --> 00:03:14.395\nit will show that it's part\nof the net tools package.\n\n66\n00:03:14.395 --> 00:03:19.418\nAnd so if I know that, now I know I\nneed to install the net tools package.\n\n67\n00:03:19.418 --> 00:03:22.478\nAnd same thing for the IP command,\nit's part of the IP route package and\n\n68\n00:03:22.478 --> 00:03:24.170\nso you can find those and install them.\n\n69\n00:03:24.170 --> 00:03:25.635\nSo I'm gonna do that real quick.\n\n70\n00:03:25.635 --> 00:03:29.665\nI'll install the net tools package and\nthe IP route package.\n\n71\n00:03:29.665 --> 00:03:33.245\nThat's gonna get me the older\nifconfig command and\n\n72\n00:03:33.245 --> 00:03:36.105\nthe newer IP command that I can use for\ntroubleshooting.\n\n73\n00:03:36.105 --> 00:03:40.185\nSo now if I want to run ifconfig,\nI can, and there's my interfaces and\n\n74\n00:03:40.185 --> 00:03:41.035\nI can get the information.\n\n75\n00:03:41.035 --> 00:03:43.915\nSo in the last episode we just\nkind of treated it like ifconfig\n\n76\n00:03:43.915 --> 00:03:45.210\nwas always gonna be there.\n\n77\n00:03:45.210 --> 00:03:47.480\nBut in case it isn't,\nthis is how we get past it and\n\n78\n00:03:47.480 --> 00:03:48.710\nnow we've got it up and running.\n\n79\n00:03:48.710 --> 00:03:53.550\nWe can see our interfaces,\nour IP addresses, we can see our netmask.\n\n80\n00:03:53.550 --> 00:03:56.675\nRight here we can see our IPv6 address,\nand so on,\n\n81\n00:03:56.675 --> 00:03:59.738\njust like we saw on the other episode,\nall right.\n\n82\n00:03:59.738 --> 00:04:02.813\nHowever, a lot of distros\nare moving away from ifconfig and\n\n83\n00:04:02.813 --> 00:04:06.256\nmoving to the IP command, so\nI wanna show you that one real quick and\n\n84\n00:04:06.256 --> 00:04:08.182\nhow we can get the same information.\n\n85\n00:04:08.182 --> 00:04:09.668\n>> It's blasphemy, Don, blasphemy!\n\n86\n00:04:09.668 --> 00:04:10.411\n>> [LAUGH] I know.\n\n87\n00:04:10.411 --> 00:04:11.904\n>> [LAUGH]\n>> It's hard to change.\n\n88\n00:04:11.904 --> 00:04:14.992\nAnd in the Unix world, believe me,\npeople are resistant to change, but\n\n89\n00:04:14.992 --> 00:04:17.129\nit does happen and\nsome of the commands are nicer.\n\n90\n00:04:17.129 --> 00:04:18.970\nWhen we look at this we\nget a lot of information.\n\n91\n00:04:18.970 --> 00:04:22.650\nWe get our layer three addresses\nright here, so our IP addressing.\n\n92\n00:04:22.650 --> 00:04:25.630\nThen we get our layer two address in here,\nour Mac address.\n\n93\n00:04:25.630 --> 00:04:28.530\nAnd then we get our statistics\nall lumped into one output.\n\n94\n00:04:28.530 --> 00:04:31.270\nAnd if you have a lot of adapters\nthis can be a lot of data.\n\n95\n00:04:31.270 --> 00:04:33.660\nWell, what the IP command\ndoes is it breaks it up.\n\n96\n00:04:33.660 --> 00:04:37.330\nIf I do IP Addr, right?\n\n97\n00:04:37.330 --> 00:04:39.940\nThat's gonna show me my layer three data.\n\n98\n00:04:39.940 --> 00:04:43.028\nSo now I see my interfaces and\ntheir layer three information, and\n\n99\n00:04:43.028 --> 00:04:46.780\nit's more detailed than what I would\nget with the old ifconfig command.\n\n100\n00:04:46.780 --> 00:04:51.150\nSo, not only do I see my IPv4 addresses or\nwhatever, right?\n\n101\n00:04:51.150 --> 00:04:52.510\nSo here's an IPv4 address.\n\n102\n00:04:52.510 --> 00:04:55.110\nBut I also see the subnet mask and\n\n103\n00:04:55.110 --> 00:04:57.600\nthe other additional information\napplied to it, right?\n\n104\n00:04:57.600 --> 00:04:59.470\nAnd I can get my link status right here.\n\n105\n00:04:59.470 --> 00:05:02.110\nI can see, for example,\nthat this one is up and running.\n\n106\n00:05:02.110 --> 00:05:06.160\nIt's all right there laid out for\nme with ip addr.\n\n107\n00:05:06.160 --> 00:05:08.510\nYou can also run ip link.\n\n108\n00:05:08.510 --> 00:05:10.680\nAnd if you're on ip link,\nyou just see the link status.\n\n109\n00:05:10.680 --> 00:05:12.757\nAnd so you get that information\nkind of popping up right there.\n\n110\n00:05:12.757 --> 00:05:17.170\nAnd it's just a little bit pared down,\nso it's a little less to overwhelm you.\n\n111\n00:05:17.170 --> 00:05:18.720\nAnd you can get the statistics.\n\n112\n00:05:18.720 --> 00:05:20.147\nAnd neither of those had statistics,\nright?\n\n113\n00:05:20.147 --> 00:05:22.900\nSo I can say ip -s link.\n\n114\n00:05:22.900 --> 00:05:27.270\nShow me the statistics for my links and\nnow I get those when I need them, right.\n\n115\n00:05:27.270 --> 00:05:29.806\nSo a few different commands to replace\nwhat used to be one command but\n\n116\n00:05:29.806 --> 00:05:32.263\nit does give you a little more\ncontrol over what you're getting.\n\n117\n00:05:32.263 --> 00:05:33.515\n>> Yeah, and that's always nice.\n\n118\n00:05:33.515 --> 00:05:36.336\nAnd that's the reason that they\nstarted creating newer commands is\n\n119\n00:05:36.336 --> 00:05:38.770\nbecause we wanna add features and\nfunctionality to them.\n\n120\n00:05:38.770 --> 00:05:42.450\nSo although we may be ingrained with\nthat ifconfig and I'll tell you what,\n\n121\n00:05:42.450 --> 00:05:46.310\nit's never gonna leave my hands,\nit's just the first thing I wanna run to.\n\n122\n00:05:46.310 --> 00:05:48.720\nI do need to get familiar\nwith the IP commands,\n\n123\n00:05:48.720 --> 00:05:51.930\nbecause they're gonna allow me\na little more of that functionality.\n\n124\n00:05:51.930 --> 00:05:55.190\nNow talking about newer things,\nnewer technology.\n\n125\n00:05:55.190 --> 00:05:59.420\nTechnology, we wanna call it new, but it's\nactually been around for quite some time.\n\n126\n00:05:59.420 --> 00:06:03.410\nAnd we do wanna be able to work with and\ntroubleshoot that, which is IPv6.\n\n127\n00:06:03.410 --> 00:06:07.050\nNetworks are just gonna be IPv6\nbefore too much longer, right?\n\n128\n00:06:07.050 --> 00:06:10.480\n>> Yeah, and IPv6 is causing\nchanges to occur in IPv4, also.\n\n129\n00:06:10.480 --> 00:06:13.270\nSo even if you don't use IPv6,\nyou just say, you know what?\n\n130\n00:06:13.270 --> 00:06:14.870\nForget it, I'm not gonna move into that.\n\n131\n00:06:14.870 --> 00:06:15.945\nI'm gonna stay with IPv4.\n\n132\n00:06:15.945 --> 00:06:17.334\nWell, IPv4 is changing, or\n\n133\n00:06:17.334 --> 00:06:20.070\nat least the way the tools\nare handling IPv4 is changing.\n\n134\n00:06:20.070 --> 00:06:22.420\nAnd so, your world is gonna change\nwhether you like it or not, right?\n\n135\n00:06:22.420 --> 00:06:24.160\nAnd we sort of saw that a moment ago.\n\n136\n00:06:24.160 --> 00:06:27.456\nWhen I run ifconfig I get IPv4,\n\n137\n00:06:27.456 --> 00:06:33.680\nwhich is this iNet information, and\nI also get IPV 6, which is iNet6.\n\n138\n00:06:33.680 --> 00:06:36.630\nAnd fortunately when it comes to working\nwith these tools, a lot of times you just\n\n139\n00:06:36.630 --> 00:06:41.400\ntake whatever you do in IPV4 and add a 6\nto the end of it and that's it, right?\n\n140\n00:06:41.400 --> 00:06:45.890\nBut one thing you'll notice is,\nyou see here,\n\n141\n00:06:45.890 --> 00:06:50.790\nmy IP address is 172.17.0.2 and\nmy netmask is 255.255.0.0.\n\n142\n00:06:50.790 --> 00:06:52.801\nNow we talked about netmasks\nin the last episode.\n\n143\n00:06:52.801 --> 00:07:01.770\nBasically that's telling me that 172.17 is\nmy network, and then 0.2 is my host ID.\n\n144\n00:07:01.770 --> 00:07:06.780\nWell, when you look at the IPv6 address,\nnotice how there's no netmask.\n\n145\n00:07:06.780 --> 00:07:10.726\nThere's just this prefix length,\nand it's a 64, all right.\n\n146\n00:07:10.726 --> 00:07:12.120\nWhat is that?\n\n147\n00:07:12.120 --> 00:07:14.730\nWell, technically,\nthat's a netmask, right?\n\n148\n00:07:14.730 --> 00:07:18.724\nBut netmasks in IPv6 are much larger\nthan they were in IPv4, and so\n\n149\n00:07:18.724 --> 00:07:21.540\nthey can't write them\nin the traditional way.\n\n150\n00:07:21.540 --> 00:07:25.320\nThey can't write them using this method\ncuz that's only a 32 bit number.\n\n151\n00:07:25.320 --> 00:07:28.170\nAnd IPv6 addresses are 128 bit numbers.\n\n152\n00:07:28.170 --> 00:07:29.730\nIt'd be too large.\n\n153\n00:07:29.730 --> 00:07:31.940\nAnd so you see them written like this.\n\n154\n00:07:31.940 --> 00:07:38.348\nAnd in fact, when I did ip addr you might\nhave noticed when I see that 172.17.0.2\n\n155\n00:07:38.348 --> 00:07:43.427\naddress right here,\nit doesn't say netmask 255.255.00.\n\n156\n00:07:43.427 --> 00:07:46.922\nIt says netmask/16, all right.\n\n157\n00:07:46.922 --> 00:07:48.770\nWhat is a slash 16?\n\n158\n00:07:48.770 --> 00:07:51.568\nWell, that's CIDR shorthand notation.\n\n159\n00:07:51.568 --> 00:07:53.576\nCIDR, classless inter-domain routing,\n\n160\n00:07:53.576 --> 00:07:55.698\nwe talked about that in\nthe last episode also.\n\n161\n00:07:55.698 --> 00:07:58.814\nWhat it lets us do,\nis create variations of networks,\n\n162\n00:07:58.814 --> 00:08:02.898\nvarious netmasks that can divide\nnetworks up to be bigger and smaller.\n\n163\n00:08:02.898 --> 00:08:07.522\nWell this shorthand notation here\nis just a shorter way of writing\n\n164\n00:08:07.522 --> 00:08:11.567\nthe subnet mask we saw before but\nit means the same thing.\n\n165\n00:08:11.567 --> 00:08:18.265\n/16 is the same as 255.255.0.0,\nnow, how do I know that?\n\n166\n00:08:18.265 --> 00:08:20.850\nRight?\nWell let's do a little bit of binary.\n\n167\n00:08:20.850 --> 00:08:25.160\nI promise I'm not gonna drive us\n\n168\n00:08:25.160 --> 00:08:30.630\ntoo crazy with this stuff but 255.255.0.0\nis what we had a moment ago, okay?\n\n169\n00:08:30.630 --> 00:08:33.920\nAnd then, I'm telling you\nthat /16 is the same thing.\n\n170\n00:08:33.920 --> 00:08:35.700\nHow are those the same thing?\n\n171\n00:08:35.700 --> 00:08:40.080\nWell, looking at it here,\nit's kind of hard to tell that, right?\n\n172\n00:08:40.080 --> 00:08:43.970\nWhen I look at it here, they really\ndon't look the same at all, okay?\n\n173\n00:08:43.970 --> 00:08:48.275\nBut if I take 255.255.0.0 and\nI write that in binary,\n\n174\n00:08:48.275 --> 00:08:53.139\nthings start to make a little more sense,\n255 in binary is eight once.\n\n175\n00:08:56.273 --> 00:08:58.660\nThere.\nSo eight ones and a period.\n\n176\n00:08:58.660 --> 00:08:59.910\nEight ones and a period.\n\n177\n00:08:59.910 --> 00:09:01.660\nA zero in binary is eight zeroes.\n\n178\n00:09:01.660 --> 00:09:03.865\nThis is the kind of\nbinary conversion I like.\n\n179\n00:09:03.865 --> 00:09:04.747\nI can do it in my head.\n\n180\n00:09:04.747 --> 00:09:06.267\nI don't have to bring out a calculator.\n\n181\n00:09:06.267 --> 00:09:12.270\nSo what I just wrote is\n255.255.0.0 written in binary.\n\n182\n00:09:12.270 --> 00:09:13.490\nThis is the way the computer sees it.\n\n183\n00:09:13.490 --> 00:09:15.070\nThe computer sees it in binary.\n\n184\n00:09:15.070 --> 00:09:15.820\nOkay.\n\n185\n00:09:15.820 --> 00:09:20.130\nWell, if I count these ones,\nI've got eight ones and\n\n186\n00:09:20.130 --> 00:09:24.400\neight more ones for a total of 16 ones.\n\n187\n00:09:24.400 --> 00:09:28.260\n16 bits of my address are part\nof the network ID and\n\n188\n00:09:28.260 --> 00:09:31.820\nthe remaining 16 bits\nare part of my host ID.\n\n189\n00:09:31.820 --> 00:09:37.160\nSo this subnet mask is a 16-bit\nsubnet mask, or a /16, right?\n\n190\n00:09:38.350 --> 00:09:41.656\nAnd that kinda corresponds with\nthe old class B nomenclature, but\n\n191\n00:09:41.656 --> 00:09:43.729\nin CIDR you don't have classes anymore.\n\n192\n00:09:43.729 --> 00:09:48.025\nNow the two other most common\nnetmask that we'll see\n\n193\n00:09:48.025 --> 00:09:53.110\nare 255.0.0.0 and 255.255.255.0.\n\n194\n00:09:53.110 --> 00:09:55.059\nThat's the one that a lot of people\nuse on their home networks, right?\n\n195\n00:09:55.059 --> 00:09:59.600\nYou'll see 192.168.0.0\nwith this subnet mask.\n\n196\n00:09:59.600 --> 00:10:01.560\nAnd if I were to convert those to binary,\n\n197\n00:10:01.560 --> 00:10:04.240\nit's actually really similar\nto what we saw up here, right?\n\n198\n00:10:04.240 --> 00:10:07.340\nIf I start converting these to binary.\n\n199\n00:10:07.340 --> 00:10:09.759\nWell, this one is just\na little bit different.\n\n200\n00:10:11.220 --> 00:10:16.330\nLike that and\nthis guy is a lot more 1s in it.\n\n201\n00:10:16.330 --> 00:10:18.480\nSo there.\n\n202\n00:10:18.480 --> 00:10:20.480\nJust converting those numbers into binary.\n\n203\n00:10:20.480 --> 00:10:24.000\nAnd if you add up the 1s for\n\n204\n00:10:24.000 --> 00:10:28.790\nthis one, what used to be a class\nA is really just a /8, right?\n\n205\n00:10:28.790 --> 00:10:32.160\nAnd what used to be\na class C becomes a /24.\n\n206\n00:10:32.160 --> 00:10:33.390\nThere's 24 ones.\n\n207\n00:10:33.390 --> 00:10:36.500\nThe first 24 bits are part\nof the network ID, and\n\n208\n00:10:36.500 --> 00:10:38.990\nthe last 8 bits are left over for\nthe host ID.\n\n209\n00:10:38.990 --> 00:10:40.770\nAnd so we see that shorthand.\n\n210\n00:10:40.770 --> 00:10:42.540\nNow why is that shorthand important?\n\n211\n00:10:42.540 --> 00:10:43.930\nThe old method worked just fine.\n\n212\n00:10:43.930 --> 00:10:45.370\nWhy write it this way?\n\n213\n00:10:45.370 --> 00:10:49.070\nBecause in IPv6 you might have a /64.\n\n214\n00:10:49.070 --> 00:10:53.680\nRight, you might have a slash\nI don't know 132 or something.\n\n215\n00:10:53.680 --> 00:10:56.280\nYou can have some really big ones right?\n\n216\n00:10:56.280 --> 00:10:58.300\nAnd it becomes hard to write it.\n\n217\n00:10:58.300 --> 00:10:59.233\nIf I had a /64,\n\n218\n00:10:59.233 --> 00:11:03.356\nwhat would that be if I wrote it out in\nthe old dotted decimal notation, right?\n\n219\n00:11:03.356 --> 00:11:07.897\nIt would be 255.255.255.255.255.255,\n\n220\n00:11:07.897 --> 00:11:11.168\nlet's see,\nthere'd be three of them, right?\n\n221\n00:11:11.168 --> 00:11:14.484\nYeah, followed by just a bunch of zeros,\nand\n\n222\n00:11:14.484 --> 00:11:17.730\nI'm probably off a little\nbit here on this.\n\n223\n00:11:17.730 --> 00:11:21.420\nBut basically there'd be a really\ngigantic subnet mask like this.\n\n224\n00:11:21.420 --> 00:11:25.093\nAnd if we wrote it in hexidecimal it\nmight be a little bit shorter for us,\n\n225\n00:11:25.093 --> 00:11:28.358\nwritten in hexidecimal it would\nbe something like let's see.\n\n226\n00:11:33.373 --> 00:11:36.520\nIt's still, I guess you could do colon,\ncolon to save a little bit of time.\n\n227\n00:11:36.520 --> 00:11:38.130\nIt's still a lot to write out.\n\n228\n00:11:38.130 --> 00:11:40.768\nAnd so that's where that shorthand\nnotation comes in really handy.\n\n229\n00:11:40.768 --> 00:11:44.868\nAnd so our newer tools are being\nupdated just to default to that.\n\n230\n00:11:44.868 --> 00:11:49.263\nSo even in IPv4,\nI'm seeing that /16, and under IPv6,\n\n231\n00:11:49.263 --> 00:11:52.380\nsee this IPv6 address right here?\n\n232\n00:11:52.380 --> 00:11:56.990\nIt's got that /64, that's that subnet\nshorthand notation, and they call it\n\n233\n00:11:56.990 --> 00:12:00.910\njust CIDR notation, and so that's kinda\nthe way you're gonna see that for now on.\n\n234\n00:12:00.910 --> 00:12:03.570\nSo just be aware,\nthe newer tools, they're nice but\n\n235\n00:12:03.570 --> 00:12:06.080\nthey do use the new notation,\nwhether you like IPv6 or not.\n\n236\n00:12:06.080 --> 00:12:07.230\nAnd that's how I got on this tangent.\n\n237\n00:12:07.230 --> 00:12:08.870\nI was thinking of IPv6.\n\n238\n00:12:08.870 --> 00:12:12.280\nYou are gonna see that,\npretty much always, with IPv6.\n\n239\n00:12:12.280 --> 00:12:15.490\n>> Now Don, some of the tools that we use,\nlike the old, venerable ping.\n\n240\n00:12:15.490 --> 00:12:19.730\nOne of the greatest network\ntroubleshooting tools ever devised by man.\n\n241\n00:12:19.730 --> 00:12:20.650\nI use it all the time.\n\n242\n00:12:20.650 --> 00:12:21.760\nI'm sure you use it all the time.\n\n243\n00:12:21.760 --> 00:12:23.918\nI'm sure you use it all the time.\n\n244\n00:12:23.918 --> 00:12:26.840\nIs it built-in or\nlike you said with this tool\n\n245\n00:12:26.840 --> 00:12:30.580\nare they building in the functionality for\nIPv6 or are they creating a new tool?\n\n246\n00:12:30.580 --> 00:12:32.630\n>> So in this case,\nthey're actually creating a new tool.\n\n247\n00:12:32.630 --> 00:12:34.570\nAnd if I use ping and\nI ping an IPv4 address,\n\n248\n00:12:34.570 --> 00:12:36.390\nlike I'll just ping my own address.\n\n249\n00:12:36.390 --> 00:12:39.500\nRight?\nSo there we go, I'm pinging 172.17.0.2.\n\n250\n00:12:39.500 --> 00:12:40.000\nWorks great, right?\n\n251\n00:12:41.370 --> 00:12:43.200\nBut what if I ping my IPv6 address?\n\n252\n00:12:44.230 --> 00:12:46.510\nSo if I go in and try to ping that one.\n\n253\n00:12:46.510 --> 00:12:47.750\nWhat happens?\n\n254\n00:12:47.750 --> 00:12:48.870\nI get unknown host.\n\n255\n00:12:48.870 --> 00:12:52.050\nIt starts to see letters and\nit assumes I'm typing in a name and\n\n256\n00:12:52.050 --> 00:12:54.670\nit tries to do a DNS look up except\nthere are colons in the way,\n\n257\n00:12:54.670 --> 00:12:58.490\nwhich you can't have in a DNS name, and so\nit fails the name look up and it's dead.\n\n258\n00:12:58.490 --> 00:12:59.100\nRight?\n\n259\n00:12:59.100 --> 00:13:02.040\nIf I want to use troubleshooting tools for\nIPv6,\n\n260\n00:13:02.040 --> 00:13:06.990\nI have ping, traceroute, tracepath,\nall the good old IPv4 utilities,\n\n261\n00:13:06.990 --> 00:13:10.570\nwe have them for IPv6,\nyou just need to stick a 6 on the end.\n\n262\n00:13:10.570 --> 00:13:14.260\nSo instead of ping I'm gonna say ping6,\nlike that.\n\n263\n00:13:14.260 --> 00:13:18.160\nAnd it's not a command line argument,\nit's not ping -6, it's just ping6,\n\n264\n00:13:18.160 --> 00:13:19.760\nthat is the command.\n\n265\n00:13:19.760 --> 00:13:23.420\nAnd I can paste in that address and\nI can try and ping what the address is.\n\n266\n00:13:23.420 --> 00:13:24.990\nAnd apparently I've given\nan invalid argument.\n\n267\n00:13:24.990 --> 00:13:26.930\nLet me see, what is it expecting here?\n\n268\n00:13:26.930 --> 00:13:30.210\nSo, I need to tell it\nwhat interface to use.\n\n269\n00:13:30.210 --> 00:13:33.790\nBut we've got this updated utility\nthat's gonna let us do that.\n\n270\n00:13:33.790 --> 00:13:37.340\nProvide who it is that we're trying to get\nto, what interface we're using to get out.\n\n271\n00:13:37.340 --> 00:13:39.330\nAnd actually, it seems like\nthe interface would be optional for\n\n272\n00:13:39.330 --> 00:13:41.660\nme since I've only got the one.\n\n273\n00:13:41.660 --> 00:13:42.730\nBut basically we've got ping6.\n\n274\n00:13:42.730 --> 00:13:44.460\nSame thing with traceroute.\n\n275\n00:13:44.460 --> 00:13:46.620\nSo you've got traceroute for IPv4.\n\n276\n00:13:46.620 --> 00:13:49.140\nAnd now we have traceroute6 for IPv6.\n\n277\n00:13:49.140 --> 00:13:55.820\nAnd so it can trace those routes across\nthe network and get across them and so on.\n\n278\n00:13:55.820 --> 00:13:57.880\nTracepath was another one.\n\n279\n00:13:57.880 --> 00:13:59.910\nNow we could trace the path\nthat we follow across in\n\n280\n00:13:59.910 --> 00:14:01.110\norder to see all the routers in between.\n\n281\n00:14:01.110 --> 00:14:04.605\nIt's very similar to traceroute except\nthat there's a little more extensive\n\n282\n00:14:04.605 --> 00:14:05.930\ntime-based testing.\n\n283\n00:14:05.930 --> 00:14:07.680\nAnd so we have a tracepath6.\n\n284\n00:14:07.680 --> 00:14:09.960\nYou just stick a six on\nthe end of the tool.\n\n285\n00:14:09.960 --> 00:14:12.910\nAll the old stuff, ping,\ntraceroute, tracepath.\n\n286\n00:14:12.910 --> 00:14:16.980\nPing6, tracepath6, traceroute6,\nyou just add that 6 to them.\n\n287\n00:14:16.980 --> 00:14:17.530\n>> Yeah, very cool.\n\n288\n00:14:17.530 --> 00:14:20.840\nObviously we're moving\ntoward an IPv6 world so\n\n289\n00:14:20.840 --> 00:14:22.570\nwe have to have the tools in place,\n\n290\n00:14:22.570 --> 00:14:26.620\nready to go when that is finally the large\nswitch that's being pulled down right now.\n\n291\n00:14:26.620 --> 00:14:29.560\nIt's been coming around for,\nGod knows how long at this point.\n\n292\n00:14:29.560 --> 00:14:33.020\nBut IPv6 will be a reality,\nwe need those tools in place.\n\n293\n00:14:33.020 --> 00:14:36.990\nAnd we already need to know how to use\nthem when that becomes our reality.\n\n294\n00:14:36.990 --> 00:14:38.820\nNow a tool that has been around for\nquite some time,\n\n295\n00:14:38.820 --> 00:14:40.660\nit's a great tool it's\none of my favorites.\n\n296\n00:14:40.660 --> 00:14:43.090\nIt's a lot of fun to use and\nplay around with,\n\n297\n00:14:43.090 --> 00:14:45.750\nyou can kind of hack around with this guy.\n\n298\n00:14:45.750 --> 00:14:49.290\nIt is a favorite by hackers to be\nhonest with you, it's called Netcat and\n\n299\n00:14:49.290 --> 00:14:54.150\nNetcat, is how I love how they label it,\nis the Swiss army knife of network\n\n300\n00:14:54.150 --> 00:14:59.100\ntroubleshooting tools and Don you're gonna\ngive us a little primer on this guy.\n\n301\n00:14:59.100 --> 00:15:02.630\n>> Yeah, you know Netcat, it's been around\na long time and those are originally unit\n\n302\n00:15:02.630 --> 00:15:07.020\nutilities that's for the most part been\nreplaced by NMap's new version of it.\n\n303\n00:15:07.020 --> 00:15:10.114\nBut NCat or NC is the command,\nlet me see if I even have it here.\n\n304\n00:15:10.114 --> 00:15:10.930\nI don't.\n\n305\n00:15:10.930 --> 00:15:12.320\nSo NC is the command.\n\n306\n00:15:12.320 --> 00:15:15.820\nIt's included in a lot of distros, in mine\nit's not so I'm gonna have to install it.\n\n307\n00:15:15.820 --> 00:15:18.270\nBut what it lets you do is open\nup connections to servers and\n\n308\n00:15:18.270 --> 00:15:19.770\nyou can specify what port to connect on.\n\n309\n00:15:19.770 --> 00:15:23.120\nAnd the cool part here is,\nlet's say I'm on a server and\n\n310\n00:15:23.120 --> 00:15:24.730\nI just have command line access.\n\n311\n00:15:24.730 --> 00:15:28.390\nAnd I'm opening up some firewall holes for\nweb traffic for port 80.\n\n312\n00:15:28.390 --> 00:15:30.250\nHow do I test that?\n\n313\n00:15:30.250 --> 00:15:31.890\nI don't have a web browser here.\n\n314\n00:15:31.890 --> 00:15:34.830\nI could install the Links web browser,\nright, the command line web browser.\n\n315\n00:15:34.830 --> 00:15:37.740\nBut that's a lot of stuff to\ninstall on a server that you don't\n\n316\n00:15:37.740 --> 00:15:39.090\nnecessarily wanna do.\n\n317\n00:15:39.090 --> 00:15:41.800\nNetcat will allow me to reach out and\nconnect to\n\n318\n00:15:41.800 --> 00:15:44.760\nservers on whatever port I specify and\nsee whether or not I can communicate.\n\n319\n00:15:44.760 --> 00:15:46.680\nGreat way to troubleshoot connectivity.\n\n320\n00:15:46.680 --> 00:15:49.705\nI use it for connecting to SMTP\nservers as well as web servers and\n\n321\n00:15:49.705 --> 00:15:51.028\nother things to try it out.\n\n322\n00:15:51.028 --> 00:15:56.471\nIf you're like me and you don't have it,\nyou can always do a yum provides nc and\n\n323\n00:15:56.471 --> 00:15:59.853\nit will look and\nsee who provides that command and\n\n324\n00:15:59.853 --> 00:16:03.758\nsee how mine says That it's\nin the nmap-ncat, right?\n\n325\n00:16:03.758 --> 00:16:07.559\nSo there is an original Ncat that\nwas packaged with Unix Systems, but\n\n326\n00:16:07.559 --> 00:16:10.312\nmost issues have moved\nover to this replacement,\n\n327\n00:16:10.312 --> 00:16:11.965\nthe one from the guys at Nmap.\n\n328\n00:16:11.965 --> 00:16:13.830\nSo I'm gonna install that real quick.\n\n329\n00:16:13.830 --> 00:16:17.330\nSo I'll just punch that in,\nand we'll get installed.\n\n330\n00:16:17.330 --> 00:16:19.610\nReal small utility, install is very fast.\n\n331\n00:16:19.610 --> 00:16:23.010\nAnd when it's done,\nI'll now have Netcat, nc.\n\n332\n00:16:23.010 --> 00:16:26.590\nAnd so when I run it, see how it says\nI must specify a host to connect.\n\n333\n00:16:26.590 --> 00:16:28.630\nSo let's say that I just\nopened up a firewall, so\n\n334\n00:16:28.630 --> 00:16:32.133\nthat this server will be able to\nget to the ITPro.TV website, okay?\n\n335\n00:16:32.133 --> 00:16:33.690\nHow do I test to make sure it can work?\n\n336\n00:16:33.690 --> 00:16:34.634\nI could ping, right?\n\n337\n00:16:34.634 --> 00:16:37.850\nI could do a ping itprotv,\nbut what does that tell me?\n\n338\n00:16:37.850 --> 00:16:41.160\nThat tells me that I can ping,\nICMP is working.\n\n339\n00:16:41.160 --> 00:16:43.460\nIt doesn't tell me anything\nabout web access, right?\n\n340\n00:16:43.460 --> 00:16:44.530\nIt's not even on port 80.\n\n341\n00:16:44.530 --> 00:16:46.670\nI'm not doing a true test.\n\n342\n00:16:46.670 --> 00:16:48.750\nBut I can nc, and\n\n343\n00:16:48.750 --> 00:16:53.070\nI can point it to itpro.tv, and\nI can tell it to connect on port 80.\n\n344\n00:16:53.070 --> 00:16:55.280\nI can tell it to connect on any port.\n\n345\n00:16:55.280 --> 00:16:59.950\nAnd it's gonna open up a session to that\nsystem, and let me start issuing commands.\n\n346\n00:17:01.080 --> 00:17:03.970\nSo it's gonna connect, and\nit's probably all ready connected.\n\n347\n00:17:03.970 --> 00:17:06.150\nAnd I can issue a command,\nlike a get command, and\n\n348\n00:17:06.150 --> 00:17:08.010\nsay get me a copy of a webpage.\n\n349\n00:17:08.010 --> 00:17:11.200\nAnd so now it accesses it,\nand it returns information.\n\n350\n00:17:11.200 --> 00:17:13.300\nI'm getting a bad request,\napparently I didn't.\n\n351\n00:17:14.830 --> 00:17:15.940\n>> Almost like get head or.\n\n352\n00:17:15.940 --> 00:17:19.202\nIt's probably because we're tied to our,\nwe have a cloud proxy and\n\n353\n00:17:19.202 --> 00:17:21.960\nfirewall that runs in between our site and\nthe internet.\n\n354\n00:17:21.960 --> 00:17:24.370\nSo it's probably saying,\nyou just did a get without a file name and\n\n355\n00:17:24.370 --> 00:17:26.080\nwe're just gonna cancel that out.\n\n356\n00:17:26.080 --> 00:17:28.190\nBut I'm talking to that server.\n\n357\n00:17:28.190 --> 00:17:32.230\nAnd so I now know,\nthat I not only can I reach the server,\n\n358\n00:17:32.230 --> 00:17:35.230\nwhich I saw with ping, but I can\nconnect to the web servers on port 80.\n\n359\n00:17:35.230 --> 00:17:38.730\nAnd I can access and I can send commands\nand I can start to interact with it.\n\n360\n00:17:38.730 --> 00:17:40.550\nAnd so\nthat's a neat command to be able to use.\n\n361\n00:17:40.550 --> 00:17:44.140\nNetcat, nc, if it's not installed by\ndefault, you just install it real quick.\n\n362\n00:17:44.140 --> 00:17:47.520\nIt's small utility, and\nthen you've got it and you can test it.\n\n363\n00:17:47.520 --> 00:17:50.700\nAgain, like SMTP, it's really handy\ncuz you can actually craft a whole\n\n364\n00:17:50.700 --> 00:17:52.440\nemail from with inside of Netcat.\n\n365\n00:17:52.440 --> 00:17:55.355\nYou could use Telnet to do\na lot of this stuff too,\n\n366\n00:17:55.355 --> 00:17:58.890\nbut a lot of times we don't\nwant Telnet on our system.\n\n367\n00:17:58.890 --> 00:18:02.720\nAnd Telnet really doesn't play nice\nwith certain protocols, Netcat will.\n\n368\n00:18:02.720 --> 00:18:06.703\nYeah, Netcat is great because you have\nto think of it almost like multilingual.\n\n369\n00:18:06.703 --> 00:18:09.161\nAnd if you look it that way,\nI needed to speak FTP?\n\n370\n00:18:09.161 --> 00:18:09.980\nWell, talk to FTP.\n\n371\n00:18:09.980 --> 00:18:13.370\nIf I need to speak to HTTP,\nit'll do that too.\n\n372\n00:18:13.370 --> 00:18:17.770\nJust about any protocol that is\non a network, it can talk to it,\n\n373\n00:18:17.770 --> 00:18:18.910\nwork with it, and do it.\n\n374\n00:18:18.910 --> 00:18:20.120\nThat's why people love it so much.\n\n375\n00:18:20.120 --> 00:18:20.760\nI got one tool,\n\n376\n00:18:20.760 --> 00:18:23.910\nand it works for all the different\nthings I might need to troubleshoot.\n\n377\n00:18:23.910 --> 00:18:25.200\nIt's a very handy thing.\n\n378\n00:18:25.200 --> 00:18:27.710\nNow what's cool, Don,\nwas we installed that.\n\n379\n00:18:27.710 --> 00:18:31.440\nWe didn't have that on your systems,\nwe had to go and we had to find that.\n\n380\n00:18:31.440 --> 00:18:37.210\nAnd we used the Yum Package Management\nsystem to make that happen.\n\n381\n00:18:37.210 --> 00:18:41.490\nBut what happens if, cuz I've had this\nhappen, you go to install something and\n\n382\n00:18:41.490 --> 00:18:42.150\nit just doesn't find it?\n\n383\n00:18:42.150 --> 00:18:44.940\nI know it's a legitimate utility and\nit won't install.\n\n384\n00:18:44.940 --> 00:18:47.240\nIt says,\nI don't know what you're talking about.\n\n385\n00:18:47.240 --> 00:18:50.787\nHow do I make it say that, that is there,\ncuz there's a little problem,\n\n386\n00:18:50.787 --> 00:18:53.142\nthere's a little\ncommunication issue there?\n\n387\n00:18:53.142 --> 00:18:56.260\nYeah, there's a lot of different problems\nthat can cause these things not to work.\n\n388\n00:18:56.260 --> 00:18:57.980\nThe wrong package name is an easy one.\n\n389\n00:18:57.980 --> 00:19:00.790\nAnd that's why I was using\nyum provides because\n\n390\n00:19:00.790 --> 00:19:02.770\nI'm really bad about\nremembering package names.\n\n391\n00:19:02.770 --> 00:19:08.030\nAnd if I do a search on Yum and I look for\nNC or whatever, I might not find Netcat.\n\n392\n00:19:08.030 --> 00:19:12.460\nEspecially this one where it's actually\nnmap-netcat, so you might not find it.\n\n393\n00:19:12.460 --> 00:19:14.300\nAnd that's where yum provides\nis really handy to find that.\n\n394\n00:19:14.300 --> 00:19:19.060\nOr you can just go to the website for your\nrepositories, Debian, Ubuntu, Cent OS.\n\n395\n00:19:19.060 --> 00:19:22.130\nThey all have these repository websites\nwhere you can search and find things.\n\n396\n00:19:22.130 --> 00:19:24.507\nAnd then you know the package name and\nyou can add it, right?\n\n397\n00:19:24.507 --> 00:19:26.007\nBut a lot of times if you get an error,\n\n398\n00:19:26.007 --> 00:19:29.264\nit'll be tied to you just not even being\nable to get to your repository, right?\n\n399\n00:19:29.264 --> 00:19:32.474\nEspecially on a minimal install like this\none, where I know it's up and running,\n\n400\n00:19:32.474 --> 00:19:33.924\nI know it's talking to the network.\n\n401\n00:19:33.924 --> 00:19:35.864\nBut it might not be able\nto perform DNS lookups,\n\n402\n00:19:35.864 --> 00:19:38.000\nit might not be able\nto do name resolution.\n\n403\n00:19:38.000 --> 00:19:40.430\nAnd so I might need to get in there and\noverride that or\n\n404\n00:19:40.430 --> 00:19:41.870\nat least check name resolution.\n\n405\n00:19:41.870 --> 00:19:45.500\nAnd I know we've talked about DNS\nin other episodes and all that, but\n\n406\n00:19:45.500 --> 00:19:48.430\nI just wanna revisit it from kind\nof a troubleshooting perspective.\n\n407\n00:19:48.430 --> 00:19:52.380\nThat if I've ever got to tweak a system\nand just get a name lookup to happen,\n\n408\n00:19:52.380 --> 00:19:53.690\nthere's a few ways that I can go about it.\n\n409\n00:19:53.690 --> 00:19:56.880\nSo I just wanna highlight those because\nthe configuration files can show up\n\n410\n00:19:56.880 --> 00:19:57.870\non the exam.\n\n411\n00:19:57.870 --> 00:19:58.530\nRight?\n\n412\n00:19:58.530 --> 00:20:01.920\nThe first one is, I might not have\nDNS configured on my system for\n\n413\n00:20:01.920 --> 00:20:02.940\na reason, right?\n\n414\n00:20:02.940 --> 00:20:05.400\nMaybe my server doesn't need\nto be doing name lookups.\n\n415\n00:20:05.400 --> 00:20:08.030\nIt's doesn't need to be going out to the\ninternet, so I don't bother to set that.\n\n416\n00:20:08.030 --> 00:20:10.650\nThat's just one more thing\non the server that could\n\n417\n00:20:10.650 --> 00:20:12.440\nlead to an exploit or something.\n\n418\n00:20:12.440 --> 00:20:15.980\nSo, what I could choose to do\ninstead is do what's called a local\n\n419\n00:20:15.980 --> 00:20:17.540\nname resolution, right?\n\n420\n00:20:17.540 --> 00:20:20.770\nIn our ETC folder, if I jump over to ETC.\n\n421\n00:20:20.770 --> 00:20:24.030\nThere's a file in here called hosts,\nright?\n\n422\n00:20:24.030 --> 00:20:26.140\nAnd it's this file right here.\n\n423\n00:20:26.140 --> 00:20:29.840\nAnd it's like a,\nI'm gonna call it like a local DNS server.\n\n424\n00:20:29.840 --> 00:20:32.880\nI can put IP addresses and\nnames in that file.\n\n425\n00:20:32.880 --> 00:20:35.640\nAnd whenever I do a DNS lookup,\ninstead of going to a DNS server,\n\n426\n00:20:35.640 --> 00:20:37.030\nI look at this file first.\n\n427\n00:20:37.030 --> 00:20:38.770\nAnd if the name is in there,\nI can resolve it.\n\n428\n00:20:38.770 --> 00:20:42.790\nSo I might have a server with no DNS\nconfiguration on it whatsoever, and\n\n429\n00:20:42.790 --> 00:20:45.350\nI just put the host that I\nabsolutely need right here.\n\n430\n00:20:45.350 --> 00:20:48.270\nSo if I don't need DNS server setup,\nI at a minimum,\n\n431\n00:20:48.270 --> 00:20:50.520\nwill wanna set my repo names in here,\nright?\n\n432\n00:20:50.520 --> 00:20:56.800\nAnd you've got the repos, it depends\non your distro, but there's the repos.d\n\n433\n00:20:56.800 --> 00:21:00.600\nfolder that has all the information on\nwhat repositories you've got set up.\n\n434\n00:21:00.600 --> 00:21:04.040\nAnd so you can jump in and\nadd them to that host file.\n\n435\n00:21:04.040 --> 00:21:08.230\nAnd if we take a look at that host file\nreal quick, it's not a very complex file.\n\n436\n00:21:08.230 --> 00:21:09.670\nIt's really pretty simple.\n\n437\n00:21:09.670 --> 00:21:12.100\nYou put an IP address on the left.\n\n438\n00:21:12.100 --> 00:21:15.430\nAnd it can be IPv4 or\nIPv6, either one, right?\n\n439\n00:21:15.430 --> 00:21:17.990\nCuz the DNS server's\nthe same no matter what.\n\n440\n00:21:17.990 --> 00:21:22.520\nAnd then, you usually press Tab, but\na single space is all it needs, some\n\n441\n00:21:22.520 --> 00:21:27.200\nkind of separation between the address and\nthe name to do the lookup, okay?\n\n442\n00:21:27.200 --> 00:21:30.440\nAnd so, here's like my host name,\nlocal host, a few other things.\n\n443\n00:21:30.440 --> 00:21:32.510\nThese are just names\nthat it's put in place.\n\n444\n00:21:32.510 --> 00:21:35.050\nAnd so, if I wanted to add\nITPro.TV to that, right?\n\n445\n00:21:35.050 --> 00:21:37.963\nIf I do an nslookup for ITPro.TV.\n\n446\n00:21:37.963 --> 00:21:42.520\nI don't have the NsLookup Tool installed,\nso we can add that one.\n\n447\n00:21:42.520 --> 00:21:45.460\nThere's another useful troubleshooting\ntool just do a quick name lookup.\n\n448\n00:21:45.460 --> 00:21:48.710\nI could cheat and use ping also, right,\njust use ping, the IP and you'll get it.\n\n449\n00:21:48.710 --> 00:21:52.099\nBut I'll say it's part of buying utils,\nlet me just install that real quick.\n\n450\n00:21:53.640 --> 00:21:55.720\nThis is the challenge,\nwhen you work with a minimal system,\n\n451\n00:21:55.720 --> 00:21:58.080\nyou can't count on any\ncommand being there.\n\n452\n00:21:58.080 --> 00:22:00.980\nEven commands like the via that\nI had to add to this system,\n\n453\n00:22:00.980 --> 00:22:02.980\na minimal install is truly minimal.\n\n454\n00:22:02.980 --> 00:22:08.440\nBut I can do an nslookup for itpro.tv,\nand now I know the IP address, right?\n\n455\n00:22:08.440 --> 00:22:12.830\nAnd so if my server didn't\nhave a DNS server setup for\n\n456\n00:22:12.830 --> 00:22:15.380\nit, I could go and edit that host file.\n\n457\n00:22:15.380 --> 00:22:21.650\nSo I'm gonna edit /etc/hosts,\nand I could add that entry in.\n\n458\n00:22:21.650 --> 00:22:28.670\nSo I can just come in here and add it in,\nand I'll say 1.1.1.1 is itpro.tv.\n\n459\n00:22:28.670 --> 00:22:30.670\nIt's a fake address.\n\n460\n00:22:30.670 --> 00:22:31.810\nSo I'm gonna put that in.\n\n461\n00:22:32.870 --> 00:22:37.160\nAnd now that it's in,\nif I do an nslookup for itpro.tv?\n\n462\n00:22:37.160 --> 00:22:39.010\nWell, I still get that address, right?\n\n463\n00:22:39.010 --> 00:22:41.870\nAnd that's cuz I'm doing\na name server lookup,\n\n464\n00:22:41.870 --> 00:22:43.910\nit's forcing it to use the name server.\n\n465\n00:22:43.910 --> 00:22:48.076\nBut if I do a ping to itpro.tv,\nsee how it resolved 1.1.1.1?\n\n466\n00:22:48.076 --> 00:22:51.945\nThat's a key concept there for\ntroubleshooting.\n\n467\n00:22:51.945 --> 00:22:55.520\nNsLookup always uses a name\nserver if you have it.\n\n468\n00:22:55.520 --> 00:23:00.360\nBut your other utilities just use\nwhatever DNS resolution order is set for\n\n469\n00:23:00.360 --> 00:23:01.730\nyour system, right?\n\n470\n00:23:01.730 --> 00:23:03.160\nAnd if you don't know\nthat you can find it,\n\n471\n00:23:03.160 --> 00:23:06.170\nit's actually in /etc\nwhere I am right now.\n\n472\n00:23:06.170 --> 00:23:09.540\nThere's another file in\nhere called resolv.conf.\n\n473\n00:23:09.540 --> 00:23:14.310\nAnd so\nif I take a look at that file resolv.conf,\n\n474\n00:23:14.310 --> 00:23:18.170\nright here it sets a search name and\na name server.\n\n475\n00:23:18.170 --> 00:23:20.221\nAnd so it's looking to that file and\nsaying, all right,\n\n476\n00:23:20.221 --> 00:23:22.031\nhere's the name server\nI'm gonna use to look up.\n\n477\n00:23:22.031 --> 00:23:25.297\nAnd if you just type a single name,\nlike if I just do www.\n\n478\n00:23:25.297 --> 00:23:27.718\nIt will append studio.itpro.tv to it,\nright?\n\n479\n00:23:27.718 --> 00:23:32.076\nSo that's coming from resolv.conf, so\nit knows what to do and to find that.\n\n480\n00:23:32.076 --> 00:23:36.072\nWell, there's actually an extra\ncommand that's not showing up in here\n\n481\n00:23:36.072 --> 00:23:37.690\ncalled, order.\n\n482\n00:23:37.690 --> 00:23:40.890\nWhere you can define\nthe order of the lookup.\n\n483\n00:23:40.890 --> 00:23:44.250\nAnd by default, if you leave it\nout like I've left it out on mine,\n\n484\n00:23:44.250 --> 00:23:46.490\nthe first entry in there is\nto look to your host file.\n\n485\n00:23:46.490 --> 00:23:52.248\nAnd then the second entry is look to DNS,\nand last is to look to ns plus, okay?\n\n486\n00:23:52.248 --> 00:23:55.668\nBut you can modify this yourself, you\ncan change the search order as you need.\n\n487\n00:23:55.668 --> 00:23:58.149\nYou can even eliminate things\nfrom the search order.\n\n488\n00:23:58.149 --> 00:24:03.323\nSo if I don't want DNS,\nI could edit that resolv.conf file,\n\n489\n00:24:03.323 --> 00:24:06.500\nand I could add another line in here.\n\n490\n00:24:06.500 --> 00:24:10.060\nI'm just gonna come in here and\nadd a line, and I'm gonna say order,\n\n491\n00:24:10.060 --> 00:24:12.920\nand I'm gonna tell it the order\nI wanna do the lookup.\n\n492\n00:24:12.920 --> 00:24:18.890\nThe default is files, dns, nis,\nlike that, that's the default.\n\n493\n00:24:18.890 --> 00:24:21.139\nFiles, that means your host file.\n\n494\n00:24:21.139 --> 00:24:24.610\nDNS, whatever name server's you've got,\nmine's right above it.\n\n495\n00:24:24.610 --> 00:24:27.215\nAnd then nis, would be the NIS+ servers,\nif you have those.\n\n496\n00:24:27.215 --> 00:24:29.980\nThat's really old, I don't know\nmany people who use NIS anymore,\n\n497\n00:24:29.980 --> 00:24:32.990\nmaybe if you have Solaris deployed,\nbut not many people have NIS.\n\n498\n00:24:32.990 --> 00:24:34.710\nSo I might wanna change this and say,\n\n499\n00:24:34.710 --> 00:24:38.400\nyou know what, I don't want my\nserver to do DNS lookups at all.\n\n500\n00:24:38.400 --> 00:24:40.930\nI just want it to use that host file and\nthat's it.\n\n501\n00:24:40.930 --> 00:24:44.690\nIt's a great way to stop people from being\nable to perform phishing attempts or\n\n502\n00:24:44.690 --> 00:24:45.820\nother things.\n\n503\n00:24:45.820 --> 00:24:47.540\nIt requires a lot of host\nfile maintenance, but\n\n504\n00:24:47.540 --> 00:24:49.440\non a server it's actually not that bad.\n\n505\n00:24:49.440 --> 00:24:52.140\nAnd so\nI might choose to say just order files.\n\n506\n00:24:53.440 --> 00:24:56.220\nAnd so if you're on a system and\nyou're doing name lookups, and\n\n507\n00:24:56.220 --> 00:24:58.460\nthe name lookups are always failing and\nyou're like, I know they're good, and\n\n508\n00:24:58.460 --> 00:25:02.210\nI know I've got a name server, nslookup is\nworking, but I can't actually get there.\n\n509\n00:25:02.210 --> 00:25:06.840\nWe might need to check resolv.conf and\nsee if it's overriding things.\n\n510\n00:25:06.840 --> 00:25:10.290\nIt might have a different order,\nDNS might be first before files.\n\n511\n00:25:10.290 --> 00:25:16.065\nIf I have dns,files,\nit's gonna look to the name server first,\n\n512\n00:25:16.065 --> 00:25:18.985\nand only if that fails will\nit go to the host file.\n\n513\n00:25:18.985 --> 00:25:22.320\nSo we can manipulate that behavior right\nhere, and if you're having problems with\n\n514\n00:25:22.320 --> 00:25:24.375\nlookups, it might be that\nsomebody's already done this.\n\n515\n00:25:24.375 --> 00:25:27.425\nSo be on the lookout for\nthat, the resolv.conf file.\n\n516\n00:25:27.425 --> 00:25:30.395\nIf the line doesn't show up,\nthen it's just at the defaults.\n\n517\n00:25:30.395 --> 00:25:33.590\nYou're doing files first,\nthen DNS and so on.\n\n518\n00:25:33.590 --> 00:25:35.770\nBut, if it has an order line in there,\n\n519\n00:25:35.770 --> 00:25:39.040\nit could be changing the behavior of those\nname lookups, and that is a great way,\n\n520\n00:25:39.040 --> 00:25:41.700\non a server, to make it where\nyou can't find those packages.\n\n521\n00:25:41.700 --> 00:25:43.450\nLike Daniel was saying,\nyou go to do a package update, and\n\n522\n00:25:43.450 --> 00:25:45.340\nyou can't contact the repository.\n\n523\n00:25:45.340 --> 00:25:47.370\nOr, it does that annoying thing\nwhere it asks you to put in\n\n524\n00:25:47.370 --> 00:25:48.820\nyour install media again.\n\n525\n00:25:48.820 --> 00:25:51.522\nAnd you're like, I don't have any\ninstall media, who do you think I am?\n\n526\n00:25:51.522 --> 00:25:54.500\nSo, we can do this to kind of fix it.\n\n527\n00:25:54.500 --> 00:25:56.990\nSo definitely be aware that DNS issues\n\n528\n00:25:56.990 --> 00:26:01.570\nare very often the cause of problems\nwith doing things like package installs.\n\n529\n00:26:01.570 --> 00:26:05.580\n>> There's nothing I love more than going\nto ping a system to get an IP address or\n\n530\n00:26:05.580 --> 00:26:09.070\nsomething to that effect, I see the IP,\nand then I go to use that IP and\n\n531\n00:26:09.070 --> 00:26:10.110\nit doesn't work.\n\n532\n00:26:10.110 --> 00:26:11.400\nAnd I'm like, what is going on here?\n\n533\n00:26:11.400 --> 00:26:15.760\nAnd it ends up being this,\nnot something like this.\n\n534\n00:26:15.760 --> 00:26:18.670\nIt is this,\nwhere it's checking the order differently.\n\n535\n00:26:18.670 --> 00:26:22.110\nI know my DNS is set correctly,\nbut it's looking to my host file,\n\n536\n00:26:22.110 --> 00:26:25.370\nbecause I made a change, and\nI forgot about it, for whatever reason.\n\n537\n00:26:25.370 --> 00:26:26.480\nSo, always be aware of that.\n\n538\n00:26:26.480 --> 00:26:29.010\nYou can go in and modify these\nthings using the vi, obviously,\n\n539\n00:26:29.010 --> 00:26:31.890\nwe love that old vi editor there,\nit does come in handy from time to time.\n\n540\n00:26:31.890 --> 00:26:34.380\nDon, is there anything else about\nnetwork troubleshooting for\n\n541\n00:26:34.380 --> 00:26:35.750\nthis episode we need to cover?\n\n542\n00:26:35.750 --> 00:26:38.610\n>> The only other thing I do wanna just\nstress, I know we already covered it,\n\n543\n00:26:38.610 --> 00:26:40.350\nI just wanna repeat it,\ncuz it is important.\n\n544\n00:26:40.350 --> 00:26:43.430\nYou also need to pay attention to your\nnetwork interface configurations.\n\n545\n00:26:43.430 --> 00:26:45.490\nSo your IP address, your subnet mask,\n\n546\n00:26:45.490 --> 00:26:48.540\nyour gateway,\nthose all need to be correct also.\n\n547\n00:26:48.540 --> 00:26:50.010\nIf you can't even get out to the internet,\n\n548\n00:26:50.010 --> 00:26:52.205\nit doesn't matter if your name\nservers are right, you can't get out.\n\n549\n00:26:52.205 --> 00:26:54.085\nSo you gotta make sure those are correct.\n\n550\n00:26:54.085 --> 00:26:58.755\nAnd so just to repeat it, cuz repetition\nleads to retention, on a Red Hat based\n\n551\n00:26:58.755 --> 00:27:05.695\nsystem, most of what you're looking for\nis in the /etc/sysconfig folder.\n\n552\n00:27:05.695 --> 00:27:10.780\nAnd inside of sysconfig, there's\na folder called network-scripts and\n\n553\n00:27:10.780 --> 00:27:12.910\nthat's where you'll see scripts for\nall your interfaces.\n\n554\n00:27:12.910 --> 00:27:17.230\nAnd yours might be called F zero,\nor ENO and\n\n555\n00:27:17.230 --> 00:27:21.780\na random string of numbers, or\nmine's IFCFG-ENS3, whatever it is.\n\n556\n00:27:21.780 --> 00:27:26.650\nBut these files right here contain\nthe configuration for your interface.\n\n557\n00:27:26.650 --> 00:27:28.700\nSo when you look in here,\nwhether it's set for\n\n558\n00:27:28.700 --> 00:27:32.700\nDHCP, whether it's got a default route,\nwhether it's set to turn on by default,\n\n559\n00:27:32.700 --> 00:27:35.240\nwhether IPv6 is enabled,\nthose are all important ones.\n\n560\n00:27:35.240 --> 00:27:37.880\nAnd we covered those back in\nthe configuring/networking episode.\n\n561\n00:27:37.880 --> 00:27:39.200\nDefinitely check that one out.\n\n562\n00:27:39.200 --> 00:27:44.430\nThere's also\nthe /etc/sysconfig/network file.\n\n563\n00:27:44.430 --> 00:27:45.870\nAnd if I take a look at that one,\n\n564\n00:27:45.870 --> 00:27:48.850\nthat one's kind of important because\nyou can set a default gateway.\n\n565\n00:27:48.850 --> 00:27:51.940\nAnd you can set DNS name servers in there\ntoo, although most people don't do that.\n\n566\n00:27:51.940 --> 00:27:53.590\nSo your gateway might be set in this file.\n\n567\n00:27:53.590 --> 00:27:56.340\nMine's empty cuz everything's\nset somewhere else.\n\n568\n00:27:56.340 --> 00:28:00.560\nAnd then if you're on a Debian or\nUbuntu system, I'm on CentOS so\n\n569\n00:28:00.560 --> 00:28:01.850\nI'm not gonna have it.\n\n570\n00:28:01.850 --> 00:28:08.080\nBut for them, it's usually /etc/network\nand then in there, you'll have a file or\n\n571\n00:28:08.080 --> 00:28:10.940\na folder called interfaces, depending\non the system, usually it's a file.\n\n572\n00:28:10.940 --> 00:28:13.980\nAnd you'll see your interface\nconfiguration there.\n\n573\n00:28:13.980 --> 00:28:17.270\nBe familiar with those configuration\nfiles because if there's a mistake in\n\n574\n00:28:17.270 --> 00:28:20.150\none of them, then that's gonna\nlead to your network not working.\n\n575\n00:28:20.150 --> 00:28:23.160\nSo check out our network configuration\nepisode and we covered those files,\n\n576\n00:28:23.160 --> 00:28:24.680\nI just wanted to repeat\nthem real quick here.\n\n577\n00:28:24.680 --> 00:28:26.040\n>> Awesome stuff Don, well thank you so\n\n578\n00:28:26.040 --> 00:28:29.810\nmuch for joining us today and showing\nus how we can start to troubleshoot\n\n579\n00:28:29.810 --> 00:28:34.460\nsome of the issues that we might\nwalk into as Linux users and admins.\n\n580\n00:28:34.460 --> 00:28:37.160\nThat being said, looks like we've wrapped\nup another great show, thank you again for\n\n581\n00:28:37.160 --> 00:28:39.190\njoining us, thank you guys for watching.\n\n582\n00:28:39.190 --> 00:28:41.174\nWe're going to sign off for ITProTV.\n\n583\n00:28:41.174 --> 00:28:42.417\nI've been you host, Daniel Lowrie.\n\n584\n00:28:42.417 --> 00:28:43.276\n>> And I'm Don Pezet.\n\n585\n00:28:43.276 --> 00:28:44.900\n>> And we'll see you next time.\n\n586\n00:28:44.900 --> 00:28:52.190\n[MUSIC]\n\n",
          "vimeoId": "153507153"
        }
      ],
      "title": "(LX0-104) Configuring Basic Networking"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1289",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-1-managing_the_shell-062515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-1-managing_the_shell-062515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-1-managing_the_shell-062515-1-sm.jpg",
          "title": "Managing the Shell",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.865\n[MUSIC]\n\n2\n00:00:10.865 --> 00:00:15.270\nAll right everyone, greetings and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.270 --> 00:00:17.170\nI'm your host Daniel Laury.\n\n4\n00:00:17.170 --> 00:00:21.520\nHere with me today is the president of the\nJim Varney fan club, that is, Don Pezet.\n\n5\n00:00:21.520 --> 00:00:22.530\nHow's it going today, Don?\n\n6\n00:00:22.530 --> 00:00:23.920\n>> It's going great, Daniel.\n\n7\n00:00:23.920 --> 00:00:26.660\nIn this episode we're gonna be\njumping back into Linux Plus.\n\n8\n00:00:26.660 --> 00:00:28.290\nAnd we're gonna take a look about,\n\n9\n00:00:28.290 --> 00:00:32.160\nat kind of customizing the shell\ninterface of our system.\n\n10\n00:00:32.160 --> 00:00:36.440\nWhen you log into a server with no GUI or\nyou log into a system with a GUI and\n\n11\n00:00:36.440 --> 00:00:38.230\nyou launch the terminal,\nyou're given a shell.\n\n12\n00:00:38.230 --> 00:00:40.800\nAnd there's kind of this\ndefault layout that you get and\n\n13\n00:00:40.800 --> 00:00:42.890\ndefault information that we get used to.\n\n14\n00:00:42.890 --> 00:00:45.540\nYou can operate in that environment and\nthat's perfectly fine.\n\n15\n00:00:45.540 --> 00:00:48.260\nIn fact, it's kind of nice because\nwhenever you go to a different server,\n\n16\n00:00:48.260 --> 00:00:49.750\nthat's what you can expect.\n\n17\n00:00:49.750 --> 00:00:53.910\nBut what a lot of people don't realize is\nyou can customize that shell a good bit\n\n18\n00:00:53.910 --> 00:00:55.250\nto make it work for you.\n\n19\n00:00:55.250 --> 00:00:58.130\nYou can make that shell do more than\nwhat it does out of the box, and\n\n20\n00:00:58.130 --> 00:00:59.790\nit can really streamline\nthe way you do work.\n\n21\n00:00:59.790 --> 00:01:02.950\nYou can add some neat functions,\nneat features, it's really cool stuff.\n\n22\n00:01:02.950 --> 00:01:06.310\nSo that's what we're gonna look at\ntoday is things we can do to customize\n\n23\n00:01:06.310 --> 00:01:07.069\nthat shell environment.\n\n24\n00:01:08.288 --> 00:01:12.210\nNow, I wanna start off with talking about\nwhere our shell environment comes from.\n\n25\n00:01:12.210 --> 00:01:14.710\nSo, here on my machine, I've logged in.\n\n26\n00:01:14.710 --> 00:01:19.480\nI do have a GUI, so fired up my terminal\napp and I was given this right here.\n\n27\n00:01:19.480 --> 00:01:21.220\nIn fact,\nif I just kind of start over again.\n\n28\n00:01:21.220 --> 00:01:25.480\nLet me get out of that and\nwe will go straight into it from scratch.\n\n29\n00:01:25.480 --> 00:01:28.640\nSo if I go into my terminal, I end up\nwith a shell that looks like this.\n\n30\n00:01:28.640 --> 00:01:31.440\nNow where did this come from?\n\n31\n00:01:31.440 --> 00:01:32.580\nHow did it know to give me this?\n\n32\n00:01:32.580 --> 00:01:35.160\nWell there were certain\ndefaults that were said.\n\n33\n00:01:35.160 --> 00:01:38.550\nIt said when I launched a shell here's\nthe shell that I used, I used Bash.\n\n34\n00:01:38.550 --> 00:01:39.540\nMaybe I used TCSH.\n\n35\n00:01:39.540 --> 00:01:42.850\nWhat we saw in the users and\ngroups episode,\n\n36\n00:01:42.850 --> 00:01:45.420\nhow when you create a user You\ndefined their default shell.\n\n37\n00:01:45.420 --> 00:01:47.050\nThat's tied to the user account.\n\n38\n00:01:47.050 --> 00:01:51.140\nBut then when bash fires up, it decides,\nhey, I'm gonna give you a prompt.\n\n39\n00:01:51.140 --> 00:01:54.880\nAnd in that prompt, I'm gonna put your\nname, followed by the hostname of this\n\n40\n00:01:54.880 --> 00:01:57.530\nsystem, followed by the current\npath that you're in.\n\n41\n00:01:57.530 --> 00:01:59.790\nAnd I'm gonna surround that in brackets.\n\n42\n00:01:59.790 --> 00:02:01.730\nHow did it decide to do that?\n\n43\n00:02:01.730 --> 00:02:05.080\nWell, Bash has its own configuration\nfiles that it uses and\n\n44\n00:02:05.080 --> 00:02:07.800\nthat's how it's determining\nwhat to render for me.\n\n45\n00:02:07.800 --> 00:02:11.940\nNow that configuration file can come\nfrom a few different places, all right?\n\n46\n00:02:11.940 --> 00:02:13.025\nFirst of, it might not exist.\n\n47\n00:02:13.025 --> 00:02:14.790\n[LAUGH] That's always possible.\n\n48\n00:02:14.790 --> 00:02:19.540\nIf it doesn't exist, there's one\ndefault kind of configuration for\n\n49\n00:02:19.540 --> 00:02:20.900\nit that sits on your system.\n\n50\n00:02:20.900 --> 00:02:25.325\nAnd you can spot it,\nit is in /etc/profile, right?\n\n51\n00:02:25.325 --> 00:02:31.450\n/ect/profile is a file,\nthat goes without saying,\n\n52\n00:02:31.450 --> 00:02:35.710\nand it defines what a user's profile is\ngoing to be like unless they overwrite it.\n\n53\n00:02:35.710 --> 00:02:39.410\nSo these are kind of like defaults for\na user, what they would expect to see.\n\n54\n00:02:39.410 --> 00:02:43.360\nAnd there's a lot of stuff in here,\na lot of stuff that we don't really\n\n55\n00:02:43.360 --> 00:02:47.030\nnormally want to manipulate, things like,\nyou know, what the host name is or\n\n56\n00:02:47.030 --> 00:02:50.890\nwhat the default permissions are gonna\nbe like when we create new file.\n\n57\n00:02:50.890 --> 00:02:54.030\nThat's the stuff that's\ntucked away in here, right.\n\n58\n00:02:54.030 --> 00:02:57.510\nSo, that /etc/profile is\nkind of important, right.\n\n59\n00:02:58.670 --> 00:03:00.400\nBut it is commonly override.\n\n60\n00:03:01.550 --> 00:03:07.742\nIn each user's home directory,\nthey maintain a file called .bashrc,\n\n61\n00:03:07.742 --> 00:03:13.710\nand .bashrc, and\nthat's the configuration for your shell.\n\n62\n00:03:13.710 --> 00:03:17.330\nIf you're running a different shell\nlike TCSH, it might use bashrc or\n\n63\n00:03:17.330 --> 00:03:19.650\nit might have its own configuration file.\n\n64\n00:03:19.650 --> 00:03:21.590\nSo look for your appropriate shell.\n\n65\n00:03:21.590 --> 00:03:23.900\nBash is the most common,\nthat's the one we use here.\n\n66\n00:03:23.900 --> 00:03:26.256\nSo I've got .bashrc,\nI've also got .bash.profile.\n\n67\n00:03:26.256 --> 00:03:29.180\nI've got bash logout and bash history.\n\n68\n00:03:29.180 --> 00:03:32.212\nThese are all files that\nare dictating what Bash is gonna see.\n\n69\n00:03:32.212 --> 00:03:33.150\nBash history,\n\n70\n00:03:33.150 --> 00:03:35.277\nthat's the history of my commands\nthat's where they're being stored.\n\n71\n00:03:35.277 --> 00:03:39.315\nBash logout, those are scripts that\nrun when I logout of the system.\n\n72\n00:03:39.315 --> 00:03:43.993\nBash profile, well those\nare the overrides for /etc/profile.\n\n73\n00:03:43.993 --> 00:03:47.680\nAnd then bashrc,\nthat's the configuration for Bash and\n\n74\n00:03:47.680 --> 00:03:50.570\nthat's normally what I'm gonna\nmodify to customize my shell.\n\n75\n00:03:50.570 --> 00:03:53.430\nNow where do these files come from?\n\n76\n00:03:53.430 --> 00:03:55.540\nWell, when you create a new user account,\n\n77\n00:03:55.540 --> 00:04:01.220\ntheir home directory is\nbuilt from /etc/skel.\n\n78\n00:04:01.220 --> 00:04:06.630\nSkel is skeleton, and that directory,\nlet me do a -la on that.\n\n79\n00:04:06.630 --> 00:04:11.150\nThere we go, that directory contains\nthe default files for a user.\n\n80\n00:04:11.150 --> 00:04:15.280\nSo if I want to customize my shell I can\nmodify bashrc right in my home directory.\n\n81\n00:04:15.280 --> 00:04:19.110\nBut if I wanna modify the shell for\nevery new user I create,\n\n82\n00:04:19.110 --> 00:04:23.300\nI should modify it here in /etc/skeleton\nand then when I create new users\n\n83\n00:04:23.300 --> 00:04:25.780\nthey'll get my customizations too,\nright, and they'll have it, so\n\n84\n00:04:25.780 --> 00:04:29.210\nI can create this consistent\nenvironment for all of my users.\n\n85\n00:04:29.210 --> 00:04:32.100\nBut only applies to new users, so if you\nhae existing users, you'd have to and\n\n86\n00:04:32.100 --> 00:04:36.599\nmodify their bashrc's also, so\nit can get a little bit messy.\n\n87\n00:04:38.010 --> 00:04:41.120\nAll right, so those are some of\nthe files that we need to look for.\n\n88\n00:04:41.120 --> 00:04:42.810\nYou might also have one more.\n\n89\n00:04:42.810 --> 00:04:44.178\nLet's see if I have this one.\n\n90\n00:04:44.178 --> 00:04:48.780\nInside of /etc,\nyou might have oh, I sure do,\n\n91\n00:04:48.780 --> 00:04:53.090\na bashrc file right there, /etc/bashrc.\n\n92\n00:04:53.090 --> 00:04:57.840\nAll right, and that, just like\n/etc/profile, is kind of that default and\n\n93\n00:04:57.840 --> 00:05:00.310\nso if I look in there.\n\n94\n00:05:00.310 --> 00:05:02.230\nI can see a file that's laying out.\n\n95\n00:05:02.230 --> 00:05:05.400\nA lot of the same stuff that\nwe saw inside of profile,\n\n96\n00:05:05.400 --> 00:05:07.630\nbut things that are focused\na little more on the user.\n\n97\n00:05:07.630 --> 00:05:09.450\nSo, like what my prompt is gonna be.\n\n98\n00:05:09.450 --> 00:05:11.610\nRemember how I said that my\nprompt was going to formatted?\n\n99\n00:05:11.610 --> 00:05:15.420\nWell you can spot that if I stop\nscrolling like a madman here.\n\n100\n00:05:15.420 --> 00:05:18.110\nWhere we can see where it\ngets laid out right here.\n\n101\n00:05:18.110 --> 00:05:21.320\nSo my prompt is being defined as, and\n\n102\n00:05:21.320 --> 00:05:25.290\nI know these don't really mean a whole lot\nto us, these little variable letters and\n\n103\n00:05:25.290 --> 00:05:29.030\nstuff, but\nthose are corresponding to the host name,\n\n104\n00:05:29.030 --> 00:05:33.800\nuser name at host name and path all\nkind of being laid out there in pieces.\n\n105\n00:05:33.800 --> 00:05:37.850\nSo it's mentioning that, and then notice\nright down here that we can modify our\n\n106\n00:05:37.850 --> 00:05:42.750\nshell scripts in /etc/profile.d,\nthere's that profile coming back.\n\n107\n00:05:42.750 --> 00:05:47.990\nSo, your profile and your bashrc combine\nto kinda create this environment.\n\n108\n00:05:47.990 --> 00:05:50.490\nThat's where all of our\nsettings are coming from.\n\n109\n00:05:50.490 --> 00:05:52.491\nAnd the defaults we're\nnormally happy with, right.\n\n110\n00:05:52.491 --> 00:05:55.790\nThose work for us, they do basic\nthings that let us function and\n\n111\n00:05:55.790 --> 00:05:58.240\ndo whatever we need and that's that.\n\n112\n00:05:58.240 --> 00:05:59.520\nBut you might need to come in and\n\n113\n00:05:59.520 --> 00:06:04.480\ncustomize these to create the greatest\nworking environment ever, right?\n\n114\n00:06:04.480 --> 00:06:06.440\nWell, what do I mean by\nthe greatest working environment?\n\n115\n00:06:06.440 --> 00:06:09.230\nWell, let's see some of\nthe stuff that we can do here.\n\n116\n00:06:09.230 --> 00:06:10.890\nOne thing we might want is,\n\n117\n00:06:10.890 --> 00:06:15.540\nwe might wanna have like variables\nthat are available to us.\n\n118\n00:06:15.540 --> 00:06:20.200\nOne thing that I always\nhate is that if you\n\n119\n00:06:20.200 --> 00:06:24.890\nlog into a system it can be very hard\nto figure out what distro it is, right?\n\n120\n00:06:24.890 --> 00:06:26.785\nSo you've got like the uname command,\n\n121\n00:06:26.785 --> 00:06:29.690\nuname-a and that will tell you\nwhat Linux kernel you're running.\n\n122\n00:06:29.690 --> 00:06:30.970\nGreat, now I know.\n\n123\n00:06:30.970 --> 00:06:33.380\nAm I running Debian or\nam I running Redhat?\n\n124\n00:06:33.380 --> 00:06:34.210\nI don't know, it doesn't say that.\n\n125\n00:06:34.210 --> 00:06:36.630\nAnd there is no real command to do that.\n\n126\n00:06:36.630 --> 00:06:39.580\nSo, I might wanna create\na session variable\n\n127\n00:06:39.580 --> 00:06:41.010\nthat stores what distro I'm running.\n\n128\n00:06:41.010 --> 00:06:42.190\nAnd then that way, I can call it.\n\n129\n00:06:42.190 --> 00:06:44.320\nIf I log into five different servers\nI can call this variable, and\n\n130\n00:06:44.320 --> 00:06:46.110\nit'll tell me what distro it is, right?\n\n131\n00:06:46.110 --> 00:06:47.380\nSo I might wanna create that.\n\n132\n00:06:47.380 --> 00:06:49.630\nNow creating a variable is\nnot a hard thing to do,\n\n133\n00:06:49.630 --> 00:06:52.640\nyou can create it from the command line,\nbut it's not persistent.\n\n134\n00:06:52.640 --> 00:06:55.825\nSo I might wanna put that in my profile,\nor in my bashrc, so\n\n135\n00:06:55.825 --> 00:06:59.866\nthat every time I log into a shell that\nvariable is created for me, right?\n\n136\n00:06:59.866 --> 00:07:02.800\nSo we can do that, we can define it and\nhave it available.\n\n137\n00:07:02.800 --> 00:07:06.980\nSo that kind of stuff is not\ntoo terribly hard to do.\n\n138\n00:07:06.980 --> 00:07:09.390\nIt would go into my bashrc.\n\n139\n00:07:09.390 --> 00:07:11.290\nAnother thing I might want\nto do is an alias, right?\n\n140\n00:07:11.290 --> 00:07:15.910\nYou guys have probably noticed in the show\nthat I rarely just run LS by itself.\n\n141\n00:07:15.910 --> 00:07:19.450\nWhen I run LS, it's running and\nit gives me my output, but\n\n142\n00:07:19.450 --> 00:07:25.070\nI really like the long output better and\nI like to show my hidden files too.\n\n143\n00:07:25.070 --> 00:07:28.670\nI always like to do ls -la,\nso you've probably seen that,\n\n144\n00:07:28.670 --> 00:07:31.190\nI almost always do that so\nI get that output.\n\n145\n00:07:31.190 --> 00:07:35.780\nWell, maybe I want to default to ls -la,\nI can do that.\n\n146\n00:07:35.780 --> 00:07:37.020\nWe can do that with aliases, right?\n\n147\n00:07:37.020 --> 00:07:39.610\nCommand aliases are one of\nthe customizations that I am most\n\n148\n00:07:39.610 --> 00:07:40.600\nlikely to do.\n\n149\n00:07:40.600 --> 00:07:44.000\nIn fact you probably already have\nsome command aliases in place.\n\n150\n00:07:44.000 --> 00:07:49.460\nSo for example, if I do, what was\nthe command that which, yeah, which,\n\n151\n00:07:49.460 --> 00:07:55.380\nif I do which LS it shows me that the LS\ncommand I'm running is actually an alias.\n\n152\n00:07:55.380 --> 00:07:58.817\nIt's an alias saying,\ninstead of just running ls,\n\n153\n00:07:58.817 --> 00:08:04.340\nrun ls--color=auto, right, so\nthat's what I'm running right now.\n\n154\n00:08:04.340 --> 00:08:07.570\nBut maybe,\nI want it to run not just --color auto,\n\n155\n00:08:07.570 --> 00:08:13.140\nbut I also want it to run -la, so I get\nmy long output and always show the files.\n\n156\n00:08:13.140 --> 00:08:17.590\nSo let's do that,\nlet's modify my -rc to contain that.\n\n157\n00:08:17.590 --> 00:08:21.693\nI'm gonna get into my home directory,\nand I'm gonna edit that\n\n158\n00:08:21.693 --> 00:08:26.470\n-bashrc file, and when you go in,\nyours might be empty.\n\n159\n00:08:26.470 --> 00:08:30.870\nYours might not have anything in there\nat all, but all mine is saying is,\n\n160\n00:08:30.870 --> 00:08:34.680\nif there is no /etc/bashrc,\n\n161\n00:08:34.680 --> 00:08:40.620\nthen use the bashrc here,\nto basically define my global definitions.\n\n162\n00:08:40.620 --> 00:08:43.710\nAnd then after that,\nI can define my own stuff.\n\n163\n00:08:43.710 --> 00:08:46.640\nSo that's why it says,\nuser specific aliases right here.\n\n164\n00:08:46.640 --> 00:08:48.970\nThis is where everything else would go,\nall right?\n\n165\n00:08:48.970 --> 00:08:50.380\nSo in here I can start to define things.\n\n166\n00:08:50.380 --> 00:08:56.842\nI can say alias ls= and then I can I\ncan say what I want that alias to be.\n\n167\n00:08:56.842 --> 00:09:00.991\nI want to be ls --color=auto,\n\n168\n00:09:00.991 --> 00:09:07.074\nfollowed by -la,\nI'm gonna add to it, right?\n\n169\n00:09:07.074 --> 00:09:09.071\nI want it to always do that,\nthat's the alias.\n\n170\n00:09:09.071 --> 00:09:11.540\nNow I could have defined this\nalias from the command prompt, but\n\n171\n00:09:11.540 --> 00:09:13.560\nthat wouldn't have been persistent, right?\n\n172\n00:09:13.560 --> 00:09:15.800\nIf I logout and log back in,\nthe alias is gone.\n\n173\n00:09:15.800 --> 00:09:20.940\nBy putting it here, every time I log in,\nthat customization takes effect.\n\n174\n00:09:20.940 --> 00:09:24.940\nAnd now, I get my kind of,\nI gotta use the right back tick there.\n\n175\n00:09:24.940 --> 00:09:25.670\nThere we go.\n\n176\n00:09:25.670 --> 00:09:27.560\nAnd now it'll get over written.\n\n177\n00:09:27.560 --> 00:09:28.090\nOkay.\n\n178\n00:09:28.090 --> 00:09:32.240\nSo I'm gonna put that in here, and\nif I really wanna be on the safe side,\n\n179\n00:09:32.240 --> 00:09:36.060\nI might want to issue\nan un alias ls first.\n\n180\n00:09:36.060 --> 00:09:38.240\nJust to get rid of the alias they put in.\n\n181\n00:09:38.240 --> 00:09:40.510\nAnd then put mine in, but\nthis'll over write it so,\n\n182\n00:09:40.510 --> 00:09:42.130\nI'm not too terribly worried about that.\n\n183\n00:09:42.130 --> 00:09:43.420\nSo I'm gonna leave that out.\n\n184\n00:09:44.440 --> 00:09:46.140\nI'll only put that in if I have to.\n\n185\n00:09:46.140 --> 00:09:48.140\nAll right, so\nI'm gonna go ahead and save that.\n\n186\n00:09:48.140 --> 00:09:49.840\nSo I've got it in place, I'm good, right?\n\n187\n00:09:49.840 --> 00:09:52.925\nI can run ls, and it doesn't take affect.\n\n188\n00:09:52.925 --> 00:09:57.810\nbashrc only takes affect, when you log\nin or when you launch a new shell.\n\n189\n00:09:57.810 --> 00:09:59.310\nSo this shell I already had.\n\n190\n00:09:59.310 --> 00:10:02.540\nI'm gonna get rid of it, and\nI'm gonna open up a new one.\n\n191\n00:10:03.740 --> 00:10:06.190\nAnd now when I open up this nice,\nshiny, new shell.\n\n192\n00:10:07.780 --> 00:10:11.190\nIf I come in here and\nI run an ls, there we go,\n\n193\n00:10:11.190 --> 00:10:15.220\nit defaulted to the long format and\nit displayed all the files.\n\n194\n00:10:15.220 --> 00:10:22.260\nAnd if I do a which ls, I can see that it\nis an alias and it's --color auto and -la.\n\n195\n00:10:22.260 --> 00:10:24.880\nRight, I put that in my bashrc.\n\n196\n00:10:24.880 --> 00:10:28.120\nSo any customizations you wanna make,\nany aliases.\n\n197\n00:10:28.120 --> 00:10:31.100\nAny variables you wanna define,\nany of that stuff?\n\n198\n00:10:31.100 --> 00:10:34.180\nYou can put right there in your bashrc and\nyou'll have it available, right.\n\n199\n00:10:34.180 --> 00:10:34.960\nIt's really powerful stuff.\n\n200\n00:10:34.960 --> 00:10:37.070\nLet me show you a bigger example.\n\n201\n00:10:37.070 --> 00:10:40.740\nAnd we're gonna film\nan episode on shell scripting.\n\n202\n00:10:40.740 --> 00:10:44.190\nWith shell scripts,\nyou can do a ton of cool stuff.\n\n203\n00:10:44.190 --> 00:10:45.960\nBut you can actually take\nthose shell scripts, and\n\n204\n00:10:45.960 --> 00:10:47.030\nyou can put them in your bashrc.\n\n205\n00:10:47.030 --> 00:10:48.980\nI'll show you a neat one that I use.\n\n206\n00:10:48.980 --> 00:10:51.450\nThis is one I actually\nuse in real life land.\n\n207\n00:10:51.450 --> 00:10:52.680\nI've got it written right here.\n\n208\n00:10:52.680 --> 00:10:55.420\nSo I've got this function,\nthat I like to define,\n\n209\n00:10:55.420 --> 00:10:59.650\nand if you look at the function,\nsee how I'm running more than one thing?\n\n210\n00:10:59.650 --> 00:11:01.860\nI'm running several commands.\n\n211\n00:11:01.860 --> 00:11:06.530\nWhat a function is like, is like an alias,\nthat runs more than one thing.\n\n212\n00:11:06.530 --> 00:11:09.420\nRight, normally an alias\njust runs one command, but\n\n213\n00:11:09.420 --> 00:11:11.690\nwith a function I can run a lot of stuff.\n\n214\n00:11:11.690 --> 00:11:14.876\nAnd so,\nI'm going to edit my .bashrc file, and\n\n215\n00:11:14.876 --> 00:11:19.542\nI'm gonna come in here in my user\nspecified aliases and functions, and\n\n216\n00:11:19.542 --> 00:11:24.210\nI just did an alias,\nI'm gonna add that function afterwards.\n\n217\n00:11:24.210 --> 00:11:25.780\nSo I'm gonna paste that guy in cuz,\n\n218\n00:11:25.780 --> 00:11:27.237\nI really don't feel like typing all this,\nright.\n\n219\n00:11:28.270 --> 00:11:33.350\nAnd so here's the function that I just\nbrought in from my little notepad.\n\n220\n00:11:33.350 --> 00:11:35.650\nAnd this function, all it's doing.\n\n221\n00:11:35.650 --> 00:11:40.465\nWell, what it should be doing here,\nif I can get rid of my tabs.\n\n222\n00:11:40.465 --> 00:11:43.040\n[LAUGH] I got a bit of a mess on this one.\n\n223\n00:11:43.040 --> 00:11:45.630\nAll right, there we go.\n\n224\n00:11:45.630 --> 00:11:48.760\nSo what this function is doing,\nI'm just trying to make it neat and\n\n225\n00:11:48.760 --> 00:11:52.150\nI don't have to, so\nI'm just being a little OCD on this one.\n\n226\n00:11:52.150 --> 00:11:57.380\nBut what it's doing, now let me\nexplain each line, function sysinf.\n\n227\n00:11:57.380 --> 00:11:59.980\nThat means I'm creating\na function called sysinfo and\n\n228\n00:11:59.980 --> 00:12:02.170\nsysinfo is basically gonna be an alias.\n\n229\n00:12:02.170 --> 00:12:04.030\nRight.\nI'll have a command called sysinfo.\n\n230\n00:12:04.030 --> 00:12:06.710\nNow, that command doesn't\nnormally exist on a system.\n\n231\n00:12:06.710 --> 00:12:09.300\nI'm making that command up, so\nI can call it whatever I want.\n\n232\n00:12:09.300 --> 00:12:12.490\nIt could be function bob,\ndoesn't matter, alright.\n\n233\n00:12:12.490 --> 00:12:15.620\nAnd then, in parenthesis is\nwhere I provide any input,\n\n234\n00:12:15.620 --> 00:12:16.510\nthat I wanted to give it.\n\n235\n00:12:16.510 --> 00:12:19.600\nIf I wanted to provide\ncommand line arguments to it,\n\n236\n00:12:19.600 --> 00:12:22.040\nthey'd be kinda tucked away in\nvariables in that parentheses.\n\n237\n00:12:22.040 --> 00:12:24.160\nBut I don't have any, so\nI'm just closing it off.\n\n238\n00:12:24.160 --> 00:12:28.900\nAnd then inside of that function,\nI'm defining what I want it to do.\n\n239\n00:12:28.900 --> 00:12:31.270\nSo I want it to run five commands.\n\n240\n00:12:31.270 --> 00:12:35.851\nIt's gonna echo, and the first one's\ngonna echo kernel information :,\n\n241\n00:12:35.851 --> 00:12:37.220\nand then display uname -a.\n\n242\n00:12:37.220 --> 00:12:43.560\nAnd then it's gonna run os version : and\nrun cat/etc/centos release.\n\n243\n00:12:43.560 --> 00:12:47.520\nAnd then it's gonna run system Uptime,\nand it's gonna return each one of these\n\n244\n00:12:47.520 --> 00:12:52.540\nvalues, and it's gonna create\nthat like a pseudo command for m.\n\n245\n00:12:52.540 --> 00:12:54.910\nAnd assuming I don't have any\nmistakes in there I can save that.\n\n246\n00:12:54.910 --> 00:12:59.620\nI'm gonna exit my shell and\ncome back in, and when I get back in,\n\n247\n00:12:59.620 --> 00:13:05.350\nnow I should have this nice new command\nthat didn't exist before, right.\n\n248\n00:13:05.350 --> 00:13:09.960\nsysinfo is not a normal command, but\nnow when I run it, I get this nice\n\n249\n00:13:09.960 --> 00:13:14.550\nbig layout and in the layout I can\nsee right here, kernel information.\n\n250\n00:13:14.550 --> 00:13:15.920\nThat's the kernel I'm running.\n\n251\n00:13:15.920 --> 00:13:17.590\nI see OS version.\n\n252\n00:13:17.590 --> 00:13:21.180\nThere's the operating system I'm running,\nCentOS release 6.5 (final).\n\n253\n00:13:21.180 --> 00:13:23.950\nI've got system Uptime,\nhow long I've been up.\n\n254\n00:13:23.950 --> 00:13:27.450\nMy Memory Utilization, right there,\nhow much RAM am I consuming?\n\n255\n00:13:27.450 --> 00:13:29.360\nAnd then my filesystem information.\n\n256\n00:13:29.360 --> 00:13:31.370\nAll laid out In one big set.\n\n257\n00:13:31.370 --> 00:13:33.280\nNow, I know all five of those commands.\n\n258\n00:13:33.280 --> 00:13:35.140\nI could run each of them individually.\n\n259\n00:13:35.140 --> 00:13:36.800\nBut now I've rolled them all up into one.\n\n260\n00:13:36.800 --> 00:13:37.690\nAll right?\n\n261\n00:13:37.690 --> 00:13:38.940\nIt's called a function.\n\n262\n00:13:38.940 --> 00:13:40.030\nYou can put it in your profile.\n\n263\n00:13:40.030 --> 00:13:43.490\nIf I put that in the skeleton file for\nbashrc, it'll cover everybody.\n\n264\n00:13:43.490 --> 00:13:46.570\nOr if I put it in /etc/bashrc,\n\n265\n00:13:46.570 --> 00:13:50.220\nit'll cover everybody including\nexisting users, not just new ones.\n\n266\n00:13:50.220 --> 00:13:52.350\nSo a couple of different\nplaces I can put that.\n\n267\n00:13:52.350 --> 00:13:57.100\nI've effectively created a super command\nthat, if I have a thousand servers, and\n\n268\n00:13:57.100 --> 00:13:59.360\nI login to one,\nI don't know it intimately.\n\n269\n00:13:59.360 --> 00:14:01.260\nI can run sysinfo, and\n\n270\n00:14:01.260 --> 00:14:04.200\nnow I've got everything that I need\nright there on one output, right?\n\n271\n00:14:04.200 --> 00:14:07.440\nOr if my end users are having a problem,\nI could create a series of commands that\n\n272\n00:14:07.440 --> 00:14:10.108\ndefines all the different\ninformation gathering things I need.\n\n273\n00:14:10.108 --> 00:14:13.410\nYou know, ifconfig and all that other\nstuff and have them send me that.\n\n274\n00:14:13.410 --> 00:14:16.140\nYou know, run this command, and you\ncould even make it in the command where\n\n275\n00:14:16.140 --> 00:14:19.710\nit emails the data to you, so they just\nrun the command and that's that, right?\n\n276\n00:14:19.710 --> 00:14:21.670\nYou can put whatever you\nwant inside of a function,\n\n277\n00:14:21.670 --> 00:14:24.890\nit's a series of commands that\ncan do all sorts of crazy stuff.\n\n278\n00:14:24.890 --> 00:14:26.410\nReally powerful, right.\n\n279\n00:14:26.410 --> 00:14:28.700\nThese are ways that we can\nextend the functionality.\n\n280\n00:14:29.770 --> 00:14:35.140\nOne word of caution, right, the more you\ncustomize it, the harder it'll become for\n\n281\n00:14:35.140 --> 00:14:37.870\nyou to function on a system\nthat hasn't been customized.\n\n282\n00:14:37.870 --> 00:14:39.956\nSo, if I have to support\na thousand servers and\n\n283\n00:14:39.956 --> 00:14:43.432\nI customize one with everything I want,\nand then I go work on a different one,\n\n284\n00:14:43.432 --> 00:14:45.000\nnow I'm missing those commands.\n\n285\n00:14:45.000 --> 00:14:47.610\nI'm like, all right,\nI'm gonna run sysinfo and it doesn't work.\n\n286\n00:14:47.610 --> 00:14:50.620\nAnd you're like, aw shoot now I gotta\nremember all the little commands.\n\n287\n00:14:50.620 --> 00:14:52.455\nSo it's a doubled edged sword, right?\n\n288\n00:14:52.455 --> 00:14:56.002\nIf you start customizing this a lot,\nyou can end up in that environment where\n\n289\n00:14:56.002 --> 00:14:58.600\nyou kind of get rusty\non your other skills.\n\n290\n00:14:58.600 --> 00:15:01.770\nIt doesn't mean don't use it,\nit just means, you know be aware,\n\n291\n00:15:01.770 --> 00:15:03.270\nbe sensitive of that.\n\n292\n00:15:03.270 --> 00:15:03.975\nBe sensitive.\n\n293\n00:15:03.975 --> 00:15:06.431\n>> [LAUGH]\n>> That's what we're going to teach you in\n\n294\n00:15:06.431 --> 00:15:07.230\nthis episode.\n\n295\n00:15:07.230 --> 00:15:08.792\n>> Stuart Smalley.\n[LAUGH]\n\n296\n00:15:08.792 --> 00:15:09.940\n>> Alright so,\n\n297\n00:15:09.940 --> 00:15:12.890\nthose are some key things\nthat we can customize.\n\n298\n00:15:12.890 --> 00:15:14.050\nThere's plenty more.\n\n299\n00:15:14.050 --> 00:15:18.390\nYou'll see a lot of people,\nlike let's say modifying my prompt.\n\n300\n00:15:18.390 --> 00:15:21.000\nI mentioned the prompt earlier.\n\n301\n00:15:21.000 --> 00:15:24.070\nAnd you can customize\nthe prompt a good bit.\n\n302\n00:15:25.200 --> 00:15:28.700\nLet me pull up the documentation for\nthat, let's see.\n\n303\n00:15:28.700 --> 00:15:33.100\nArch Linux has a good one, here I'm gonna\npull up the Arch Linux website, and they\n\n304\n00:15:33.100 --> 00:15:37.810\nhave a nice little ad here on customizing\nthat prompt and, wow that's kinda small.\n\n305\n00:15:37.810 --> 00:15:38.990\n>> Use micro font.\n\n306\n00:15:38.990 --> 00:15:40.840\n>> Yeah, that's one customization\nwe might need to make.\n\n307\n00:15:40.840 --> 00:15:44.567\nBut as you kinda look at what they're\ndoing here, they're looking at\n\n308\n00:15:44.567 --> 00:15:48.672\nthat bashrc file, and kind of that normal\nprompt that you got right there of,\n\n309\n00:15:48.672 --> 00:15:52.800\nusername followed by the name of your\nsystem, followed by the path, right?\n\n310\n00:15:52.800 --> 00:15:54.080\nThat's what we expect to see.\n\n311\n00:15:54.080 --> 00:15:58.321\nWell, in your bashrc that\nprompt is defined by PS1,\n\n312\n00:15:58.321 --> 00:16:02.110\nthe PS1 variable is what\ndefines that prompt.\n\n313\n00:16:02.110 --> 00:16:07.922\nAnd so, like on my system if I do\nan echo$PS1, there's my prompt.\n\n314\n00:16:07.922 --> 00:16:12.739\nAnd see how you've got \\u,\nthat's the username, @\\h,\n\n315\n00:16:12.739 --> 00:16:17.558\nthat's the host name,\nfollowed by \\w, that's the path,\n\n316\n00:16:17.558 --> 00:16:21.650\nmy working directory,\nthat's what the w is.\n\n317\n00:16:21.650 --> 00:16:26.590\nAnd then it's got the square parentheses\naround it, and after that it's got \\$,\n\n318\n00:16:26.590 --> 00:16:30.870\nslash is just an escape character there,\nand $, that's my prompt.\n\n319\n00:16:30.870 --> 00:16:32.638\nSo I have a $ for my prompt.\n\n320\n00:16:32.638 --> 00:16:34.251\nI might wanna customize that,\n\n321\n00:16:34.251 --> 00:16:38.230\nI might wanna modify the way that that's\nrepresented, and you can do that.\n\n322\n00:16:38.230 --> 00:16:42.740\nYou can modify that PS1 variable, and\nyou can just override it in your bashrc.\n\n323\n00:16:42.740 --> 00:16:45.170\nAnd that's what they're showing\nhere on the Arch Linux site.\n\n324\n00:16:45.170 --> 00:16:46.910\nMaybe we just wanna change its color.\n\n325\n00:16:46.910 --> 00:16:51.160\nAnd so they're doing a color code\nto change their prompt to red.\n\n326\n00:16:51.160 --> 00:16:55.740\nRight, they want a red prompt instead of,\ngray is what I have, they wanna go red.\n\n327\n00:16:55.740 --> 00:16:59.899\nSo you can do that, or well,\nhere I think the 1;32,\n\n328\n00:16:59.899 --> 00:17:03.010\nit must be green and 1;31 must be red.\n\n329\n00:17:03.010 --> 00:17:05.830\nSo those are kinda color entries there\nthat they're doing to customize that.\n\n330\n00:17:07.100 --> 00:17:10.600\nYou can see other things,\nlike here they're getting really fancy and\n\n331\n00:17:10.600 --> 00:17:14.050\nthey're breaking the username and\ngetting rid of that system name.\n\n332\n00:17:14.050 --> 00:17:17.632\nSaying well we don't need that,\nfollowing up by the path, and\n\n333\n00:17:17.632 --> 00:17:19.060\nthen a different color.\n\n334\n00:17:19.060 --> 00:17:22.675\nSo you can really start to mix things\nup here and customize that prompt.\n\n335\n00:17:22.675 --> 00:17:26.490\nThat's something a lot of people do to get\nsomething more useful in the prompt, or\n\n336\n00:17:26.490 --> 00:17:28.250\njust to make the prompt smaller.\n\n337\n00:17:28.250 --> 00:17:30.700\nMaybe I don't want all this stuff,\nthat's not uncommon.\n\n338\n00:17:30.700 --> 00:17:32.809\nPeople say, you know what,\nI don't care about all that,\n\n339\n00:17:32.809 --> 00:17:34.890\njust give me a single character so\nI know I'm at a prompt.\n\n340\n00:17:34.890 --> 00:17:37.800\nI know what computer I'm on,\nI know what user I am.\n\n341\n00:17:37.800 --> 00:17:39.890\nAnd if I don't, I can always run\nwho am I and find out, right?\n\n342\n00:17:39.890 --> 00:17:44.470\nSo I don't need all that stuff, so\nwe could customize that a good bit.\n\n343\n00:17:44.470 --> 00:17:48.155\n>> Don, this is really the advantage or,\nI say the advantage,\n\n344\n00:17:48.155 --> 00:17:51.060\nthe draw that people see\ninto the Linux system.\n\n345\n00:17:51.060 --> 00:17:55.390\nIt's really what got it in a foothold,\nUnix as well I guess, to some extent.\n\n346\n00:17:55.390 --> 00:17:59.810\nThat people saw hey, I can customize\njust about everything that I for\n\n347\n00:17:59.810 --> 00:18:01.625\nmy own personal way that I like it.\n\n348\n00:18:01.625 --> 00:18:06.960\nAnd when they were passing out shells and\nthat's how you got Internet connectivity,\n\n349\n00:18:06.960 --> 00:18:10.880\nor back in the day you would actually\nget a shell prompt from somewhere,\n\n350\n00:18:10.880 --> 00:18:14.250\nan ISP or a service provider of some sort.\n\n351\n00:18:14.250 --> 00:18:16.870\nAnd you would log in and you would change\nall your environment variables and\n\n352\n00:18:16.870 --> 00:18:20.660\ndo those things for yourself,\nmake it customized to your own liking.\n\n353\n00:18:20.660 --> 00:18:25.510\nAnd that's really where, at least I\nremember, Linux getting its base of users.\n\n354\n00:18:25.510 --> 00:18:29.403\nGoing, man, I can do whatever I want with\nthis, make it the way I like and it gives\n\n355\n00:18:29.403 --> 00:18:33.850\nme all sorts of options and ability to\ncreate my own options if necessary.\n\n356\n00:18:33.850 --> 00:18:35.920\n>> Yeah and there's a ton of options.\n\n357\n00:18:35.920 --> 00:18:39.700\nLet me show you, further down on that\nArch Linux page they have listed all of\n\n358\n00:18:39.700 --> 00:18:43.430\nthe different variables, the escape\ncodes that we can use to reference.\n\n359\n00:18:43.430 --> 00:18:49.130\nAnd so we saw like \\h, which was\nthe hostname up to the first \".\", right?\n\n360\n00:18:49.130 --> 00:18:50.390\nSo that's your server's host name.\n\n361\n00:18:50.390 --> 00:18:55.130\nBut you can do a \\H for\nthe full name including the domain.\n\n362\n00:18:55.130 --> 00:19:00.790\nSo I could have dplaptop.lab.itpro.tv\nshow up instead of just dplaptop.\n\n363\n00:19:00.790 --> 00:19:04.620\nYou've got plenty of other things like\n\\u for the username, we saw that one.\n\n364\n00:19:04.620 --> 00:19:08.435\nNow the version of bash, if you want to go\ncrazy you can put the time in your prompt\n\n365\n00:19:08.435 --> 00:19:09.892\nin several different formats.\n\n366\n00:19:09.892 --> 00:19:14.400\nThat \\W, that was the working directory,\nthe base working directory.\n\n367\n00:19:14.400 --> 00:19:20.130\nBut you can actually do a \\w to get\nit with the full path assigned to it.\n\n368\n00:19:20.130 --> 00:19:22.064\nThere's a ton of stuff\nyou can put in there.\n\n369\n00:19:22.064 --> 00:19:25.040\nThis one, \\#,\nthis used to be one of the defaults,\n\n370\n00:19:25.040 --> 00:19:28.230\nwhere it would show how\nmany commands you had run.\n\n371\n00:19:28.230 --> 00:19:32.008\nSo it might show 53, and then you\nrun a command, and now it shows 54.\n\n372\n00:19:32.008 --> 00:19:34.810\nPeople just liked to see how many commands\nthey had run, I guess, I don't know,\n\n373\n00:19:34.810 --> 00:19:35.950\nI never liked that one.\n\n374\n00:19:35.950 --> 00:19:38.400\nSo you can put all of\nthat stuff in there and\n\n375\n00:19:38.400 --> 00:19:41.060\nreally customize that prompt\nto be pretty powerful.\n\n376\n00:19:41.060 --> 00:19:44.120\nSo if you're ever bored,\njump over to the Arch Linux wiki, and\n\n377\n00:19:44.120 --> 00:19:46.800\nthey lay out all the prompt\ncustomizations that you can do.\n\n378\n00:19:46.800 --> 00:19:49.270\nAnd they show examples\nof what it'll look like.\n\n379\n00:19:49.270 --> 00:19:51.190\nAnd it's really kind of\na nice thing to see.\n\n380\n00:19:51.190 --> 00:19:55.430\nAnd they're even putting little\nanimated visuals inside of there,\n\n381\n00:19:55.430 --> 00:19:58.430\nwhich I don't recommend doing that,\nbut you certainly can if you want.\n\n382\n00:19:58.430 --> 00:20:02.635\nSo, pretty powerful stuff, and\npretty neat, so definitely check that out.\n\n383\n00:20:02.635 --> 00:20:03.385\n>> Yep.\n\n384\n00:20:03.385 --> 00:20:06.802\n>> All right, well I know this ends up\nbeing one of our shorter episodes, Daniel,\n\n385\n00:20:06.802 --> 00:20:08.740\nbut that's basically the gist of it.\n\n386\n00:20:08.740 --> 00:20:11.110\nThe main thing here is,\nhave fun with it, right?\n\n387\n00:20:11.110 --> 00:20:13.560\nYou can change your prompt,\nit's just simply changing a variable.\n\n388\n00:20:13.560 --> 00:20:17.810\nYou can change your aliases and\nmanipulate those to be whatever you want.\n\n389\n00:20:17.810 --> 00:20:20.220\nYou can change the default behavior\nof pretty much any command.\n\n390\n00:20:20.220 --> 00:20:24.988\nAnd use functions to create your own new\ncommands that do all sorts of stuff,\n\n391\n00:20:24.988 --> 00:20:25.520\nright?\n\n392\n00:20:25.520 --> 00:20:29.240\nYou know what you need, and it's probably\nunique compared to other people, and\n\n393\n00:20:29.240 --> 00:20:30.660\nfunctions allow you to define that.\n\n394\n00:20:30.660 --> 00:20:34.290\nIf you don't know how to write functions,\nstay tuned for our scripting episode cuz\n\n395\n00:20:34.290 --> 00:20:37.480\nwe're gonna see them there as we run\nthrough and generate some sample scripts,\n\n396\n00:20:37.480 --> 00:20:39.640\nand use some of the tools and\ntechniques available there.\n\n397\n00:20:39.640 --> 00:20:40.450\n>> Yep, good stuff.\n\n398\n00:20:40.450 --> 00:20:44.012\nThis is definitely things you need to\nknow to get into that scripting and\n\n399\n00:20:44.012 --> 00:20:45.360\nscripting language,\n\n400\n00:20:45.360 --> 00:20:48.910\nthe bash scripting language that's\nbuilt into your Linux operating system.\n\n401\n00:20:48.910 --> 00:20:52.470\nThat's really, really gonna be where\nyour power users are gonna go.\n\n402\n00:20:52.470 --> 00:20:57.070\nAnd learning that is gonna help\nyou immensely in you Linux career.\n\n403\n00:20:57.070 --> 00:21:00.380\nSo check that episode out, we're gonna\nhave that up very, very shortly.\n\n404\n00:21:00.380 --> 00:21:02.780\nAnd this one is gonna\nbe a precursor to that.\n\n405\n00:21:02.780 --> 00:21:06.740\nSo watch this and then watch that, and\nit'll definitely get you going where you\n\n406\n00:21:06.740 --> 00:21:09.610\nneed to be when it comes to the scripting\nstuff that's built into Linux.\n\n407\n00:21:09.610 --> 00:21:10.780\nGood, good stuff.\n\n408\n00:21:10.780 --> 00:21:13.440\nThat being said though, I think we've\nwrapped up another great episode.\n\n409\n00:21:13.440 --> 00:21:14.850\nHopefully you guys have enjoyed it.\n\n410\n00:21:14.850 --> 00:21:16.475\nWe know we really enjoy making it for you.\n\n411\n00:21:16.475 --> 00:21:19.720\nSo that being said,\nit is time to sign off for ITProTV.\n\n412\n00:21:19.720 --> 00:21:21.430\nI've been your host Daniel Lowrey.\n\n413\n00:21:21.430 --> 00:21:22.390\n>> And I'm Don Pezet.\n\n414\n00:21:22.390 --> 00:21:23.220\n>> And we'll see you next time.\n\n415\n00:21:23.220 --> 00:21:29.330\n[SOUND]\n\n",
          "vimeoId": "131871105"
        },
        {
          "description": null,
          "length": "1723",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-2-writing_scripts-062615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-2-writing_scripts-062615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-2-writing_scripts-062615-1-sm.jpg",
          "title": "Writing Scripts",
          "transcript": "WEBVTT\n\n1\n00:00:00.126 --> 00:00:10.126\n[MUSIC]\n\n2\n00:00:11.143 --> 00:00:14.850\nAll right greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.850 --> 00:00:16.430\nI'll be your host, Daniel Lowry.\n\n4\n00:00:16.430 --> 00:00:19.160\nHere with me today is my\ngood friend Don Pezet.\n\n5\n00:00:19.160 --> 00:00:20.220\nHow's it going today, Don?\n\n6\n00:00:20.220 --> 00:00:21.420\n>> It is going great Daniel.\n\n7\n00:00:21.420 --> 00:00:23.170\nWe're back with another Linux+ episode.\n\n8\n00:00:23.170 --> 00:00:26.030\nAnd in this episode, we're gonna be\njumping into a topic that a lot of\n\n9\n00:00:26.030 --> 00:00:29.720\npeople are really interested in,\nwhich is writing scripts.\n\n10\n00:00:29.720 --> 00:00:32.870\nIn side of the Linux environment,\nwe've got a ton of power.\n\n11\n00:00:32.870 --> 00:00:35.740\nAnd the bulk of that power comes from\nour ability to write scripts that\n\n12\n00:00:35.740 --> 00:00:37.650\nautomate all sorts of different tasks.\n\n13\n00:00:37.650 --> 00:00:41.120\nAnd we've seen about this much of\nit throughout the series so far.\n\n14\n00:00:41.120 --> 00:00:43.530\nWe're gonna see about this much now, and\n\n15\n00:00:43.530 --> 00:00:45.840\nkinda do a little primer on\nhow you can write scripts.\n\n16\n00:00:45.840 --> 00:00:49.070\nObviously it's a very, very powerful\ntopic, so there's a ton you can do,\n\n17\n00:00:49.070 --> 00:00:51.070\nand there's only so\nmuch that we can cover.\n\n18\n00:00:51.070 --> 00:00:54.640\nOn the exam they want you to have a basic\nfamiliarity with how scripts can be\n\n19\n00:00:54.640 --> 00:00:56.590\nwritten and how you can do basic tasks.\n\n20\n00:00:56.590 --> 00:00:58.060\nSo we're gonna see that today.\n\n21\n00:00:58.060 --> 00:01:02.330\n>> Yeah, this is definitely the voodoo\nmagic that goes behind your Linux machine.\n\n22\n00:01:02.330 --> 00:01:04.900\nThis is the whole reason\nto get into using Linux,\n\n23\n00:01:04.900 --> 00:01:06.920\nespecially in the server environment.\n\n24\n00:01:06.920 --> 00:01:08.440\nBecause, well it's what we wanna do.\n\n25\n00:01:08.440 --> 00:01:10.120\nWe wanna automate tasks.\n\n26\n00:01:10.120 --> 00:01:11.360\nWe wanna do all sorts of stuff.\n\n27\n00:01:11.360 --> 00:01:12.540\nCreate our own task.\n\n28\n00:01:12.540 --> 00:01:16.540\nMaybe even some other things that the bash\nscripting language that's built-in to\n\n29\n00:01:16.540 --> 00:01:18.980\nyour actually system itself,\nvery, very powerful.\n\n30\n00:01:18.980 --> 00:01:22.620\nYou ever do a man bash as your\nterminal and try to read through that?\n\n31\n00:01:22.620 --> 00:01:23.880\nIt's gonna, better pack a lunch,\n\n32\n00:01:23.880 --> 00:01:26.470\nit'll take a little bit of time\ncuz there's a lot behind it.\n\n33\n00:01:26.470 --> 00:01:28.770\nLike Don said, we're only gonna\ncover about this much of it today,\n\n34\n00:01:28.770 --> 00:01:30.620\nbut it's gonna be enough to get you going,\n\n35\n00:01:30.620 --> 00:01:33.220\nto get your feet wet in to\nactual scripting environment.\n\n36\n00:01:33.220 --> 00:01:36.240\nSo Don, where do we begin with\nthis It's a fun fun time.\n\n37\n00:01:36.240 --> 00:01:38.890\n>> Well,\nwe're not going to begin with man bashing.\n\n38\n00:01:38.890 --> 00:01:42.900\n>> Aw, man.\n[LAUGHS] Everyone pull out your clubs.\n\n39\n00:01:42.900 --> 00:01:46.410\n>> Alright, let's dive in here and\nsee a simple script and\n\n40\n00:01:46.410 --> 00:01:47.720\nkind of get an idea of where this goes.\n\n41\n00:01:47.720 --> 00:01:49.660\nSo what is a script?\n\n42\n00:01:49.660 --> 00:01:51.820\nAt the end of the day\na script is a text file.\n\n43\n00:01:51.820 --> 00:01:54.660\nAnd in that text file\nis a list of commands.\n\n44\n00:01:54.660 --> 00:01:58.150\nAnd it runs the commands\none after another in order.\n\n45\n00:01:58.150 --> 00:02:01.260\nSo that's it,\nI mean that's really all a script is.\n\n46\n00:02:01.260 --> 00:02:05.920\nBack in the day, you might have\ndone like batch files in DOS or\n\n47\n00:02:05.920 --> 00:02:10.050\nShell scripts in Unix or Linux,\nit's really all kind of the same.\n\n48\n00:02:10.050 --> 00:02:14.360\nYou just put your commands in there\none after the other and stuff happens.\n\n49\n00:02:14.360 --> 00:02:18.140\nBut there's certain commands that\nare available specifically for\n\n50\n00:02:18.140 --> 00:02:19.450\nuse inside of scripts.\n\n51\n00:02:19.450 --> 00:02:22.360\nCommands that aren't useful\nfrom the command line.\n\n52\n00:02:22.360 --> 00:02:25.060\nSo it's normally a mixture\nof commands that\n\n53\n00:02:25.060 --> 00:02:28.540\nare traditional commands we use in the\ncommand line, coupled with commands that\n\n54\n00:02:28.540 --> 00:02:32.790\nare specifically designed to make your\nscript workflows work the way they want.\n\n55\n00:02:32.790 --> 00:02:35.490\nBut let's just start out really,\nreally simple.\n\n56\n00:02:35.490 --> 00:02:36.080\nAll right.\n\n57\n00:02:36.080 --> 00:02:40.230\nSo here I am on a CentoS 7 machine and\nI'm in the bash shell.\n\n58\n00:02:40.230 --> 00:02:43.640\nSo technically what we're gonna\nbe writing are bash scripts.\n\n59\n00:02:43.640 --> 00:02:47.580\nBash scripts are compatible at darn\nnear every other shell that's out there.\n\n60\n00:02:47.580 --> 00:02:49.130\nBut if you're running tsh or zsh,\n\n61\n00:02:49.130 --> 00:02:52.810\nthere might be some advanced\nfeatures available on those shells.\n\n62\n00:02:52.810 --> 00:02:54.350\nWe're gonna stick with\nthe standard stuff today.\n\n63\n00:02:54.350 --> 00:02:57.180\nStuff that should work in\nevery shell that's out there.\n\n64\n00:02:57.180 --> 00:02:58.946\nWell, not in the Windows shell.\n\n65\n00:02:58.946 --> 00:03:02.040\n[LAUGH] But in the Unix and\nLinux world this'll work.\n\n66\n00:03:02.040 --> 00:03:04.840\nWell, and MAC, most of this\nstuff will work too, all right.\n\n67\n00:03:04.840 --> 00:03:08.380\nSo, I'm in my home directory here and\nI'm gonna edit a file.\n\n68\n00:03:08.380 --> 00:03:11.670\nI'm just gonna make a text file and\nthis is gonna be my very first script.\n\n69\n00:03:11.670 --> 00:03:13.446\nSo, I'll just create a file called.\n\n70\n00:03:13.446 --> 00:03:15.557\nFirstscript.sh.\n\n71\n00:03:15.557 --> 00:03:20.710\nI'm putting \".sh\" at the end of it, and\nyou'll see that most people add \".sh\" so\n\n72\n00:03:20.710 --> 00:03:23.710\nthey could remember that\nas a shell script, but\n\n73\n00:03:23.710 --> 00:03:25.880\nthe reality is, that doesn't matter.\n\n74\n00:03:25.880 --> 00:03:27.360\nYou don't even have to\nhave an extension at all.\n\n75\n00:03:27.360 --> 00:03:28.730\nYou can call it whatever you want.\n\n76\n00:03:28.730 --> 00:03:30.330\nIt can just be called \"firstscript\" or\n\n77\n00:03:30.330 --> 00:03:33.660\n\"firstscript.bob\" you can\ncall it whatever you want.\n\n78\n00:03:33.660 --> 00:03:35.720\nIn my case I'm doing .sh so\nI can remember.\n\n79\n00:03:37.220 --> 00:03:38.410\nNow, whenever you write a script,\n\n80\n00:03:39.760 --> 00:03:42.790\nwe have to let our system know\nthat this is not a binary.\n\n81\n00:03:42.790 --> 00:03:45.380\nThis is not an executable that's compiled.\n\n82\n00:03:45.380 --> 00:03:47.610\nIt's just a text file with\na series of commands.\n\n83\n00:03:47.610 --> 00:03:52.390\nAnd so the very first line needs to\nidentify first that it is a script and\n\n84\n00:03:52.390 --> 00:03:54.310\nwhat shell it was written for.\n\n85\n00:03:54.310 --> 00:03:57.920\nAnd so when you create a script\nfile your very first line is\n\n86\n00:03:59.530 --> 00:04:04.910\nalmost always going to be a pound symbol,\nfollowed by an exclamation point,\n\n87\n00:04:04.910 --> 00:04:09.030\nor a hash bang as people like to say.\n\n88\n00:04:09.030 --> 00:04:10.390\nI hate that terminology.\n\n89\n00:04:10.390 --> 00:04:12.270\n>> Black bang I've heard it called.\n\n90\n00:04:12.270 --> 00:04:15.210\n>> Alright, well anyhow, a pound symbol\nand exclamation point followed by\n\n91\n00:04:15.210 --> 00:04:21.210\nthe shell that you intend this to be\nwritten on, so I'm gonna say /bin/bash.\n\n92\n00:04:21.210 --> 00:04:23.700\nSo I'm identifying what that's gonna be.\n\n93\n00:04:23.700 --> 00:04:28.220\nThis is a shell script that's\nintended to be run inside a batch.\n\n94\n00:04:28.220 --> 00:04:30.290\nAlright, after that,\nI just put my commands.\n\n95\n00:04:31.550 --> 00:04:35.060\nLet's start with the original script\nthat everybody writes, right,\n\n96\n00:04:35.060 --> 00:04:41.200\nthe echo hello world, right,\nthe old hello world script.\n\n97\n00:04:41.200 --> 00:04:42.870\nI'm using the echo command.\n\n98\n00:04:42.870 --> 00:04:44.790\nNow, I can run the echo command\nfrom the command prompt.\n\n99\n00:04:44.790 --> 00:04:47.890\nThen it'll echo,\nit'll type whatever I put in here.\n\n100\n00:04:47.890 --> 00:04:50.180\nI'm saying echo out hello world,\nand that's it.\n\n101\n00:04:50.180 --> 00:04:52.200\nAnd, that's what\nthe script is going to do.\n\n102\n00:04:52.200 --> 00:04:57.270\nNow, my vie is kind of colorizing this\nstuff because it's got colors turned on.\n\n103\n00:04:57.270 --> 00:05:00.490\nBut you can kinda see where it's\ndoing syntax highlighting for me.\n\n104\n00:05:00.490 --> 00:05:03.050\nThat's really useful because if\nwe make a mistake, we forget to\n\n105\n00:05:03.050 --> 00:05:07.490\nclose a parentheses somewhere, it'll help\nto highlight that and we can recognize it.\n\n106\n00:05:07.490 --> 00:05:10.580\nBut it's also making things\na little bit harder to read.\n\n107\n00:05:10.580 --> 00:05:14.020\nSo let me take my profile here and\n\n108\n00:05:14.020 --> 00:05:17.270\nbump my font size up just\na little bit to try, whoops.\n\n109\n00:05:17.270 --> 00:05:19.020\nTry and make that,\noh that isn't the right spot.\n\n110\n00:05:19.020 --> 00:05:22.050\nMake it a little bit easier for\nus to read what's going on here.\n\n111\n00:05:22.050 --> 00:05:23.660\nWe're gonna go super giant.\n\n112\n00:05:24.970 --> 00:05:25.720\nNow we're talking.\n\n113\n00:05:25.720 --> 00:05:29.780\nOkay, so I've got that in there,\nthere's my script, it's very exciting.\n\n114\n00:05:29.780 --> 00:05:33.590\nI'm gonna save my script and now,\nI've got that first script in.\n\n115\n00:05:33.590 --> 00:05:34.840\nAnd in fact I might want to rename that.\n\n116\n00:05:34.840 --> 00:05:39.140\nInstead of first script,\nI'm gonna call that Hello world.sh.\n\n117\n00:05:39.140 --> 00:05:40.770\nSo we're just gonna rename that.\n\n118\n00:05:40.770 --> 00:05:41.620\nAll right.\n\n119\n00:05:41.620 --> 00:05:47.700\nNow the command that I did was\necho hello world like that.\n\n120\n00:05:47.700 --> 00:05:51.770\nAnd if I run it from the command prompt,\nI'm getting event not found right?\n\n121\n00:05:51.770 --> 00:05:55.950\nI'm getting that, that echo command didn't\nwork with what I provided in there.\n\n122\n00:05:55.950 --> 00:05:58.960\nNow the problem where it's getting\nreally upset with me is that\n\n123\n00:05:58.960 --> 00:06:00.950\nexclamation point that was in there.\n\n124\n00:06:00.950 --> 00:06:02.900\nExclamation points are kinda special, and\n\n125\n00:06:02.900 --> 00:06:07.570\nit's interpreting that and\ntrying to execute it.\n\n126\n00:06:07.570 --> 00:06:09.290\nSo we'll bump into that.\n\n127\n00:06:09.290 --> 00:06:12.850\nAs you write scripts,\nyou might have special characters that\n\n128\n00:06:12.850 --> 00:06:16.650\nyou have to escape out in\norder to get them to work.\n\n129\n00:06:16.650 --> 00:06:20.360\nAnd see how it worked that time when I put\nthe slash before the exclamation point?\n\n130\n00:06:20.360 --> 00:06:24.090\nBut then it treated it literally and\nit exported that slash.\n\n131\n00:06:24.090 --> 00:06:27.460\nSo you do have to be careful with\nyour syntax on how this works.\n\n132\n00:06:27.460 --> 00:06:31.100\nSomething that's interesting though is\nthat a lot of times, it'll work just\n\n133\n00:06:31.100 --> 00:06:35.120\nfine in the script and not necessarily\nfrom the command prompt and that's because\n\n134\n00:06:35.120 --> 00:06:37.970\nscripts have an understanding of\nthe data that you're feeding to them.\n\n135\n00:06:37.970 --> 00:06:43.940\nNow if I were to try and run that\nscript if I were to say ./helloworld.\n\n136\n00:06:43.940 --> 00:06:45.204\nI did call it helloworld, didn't I?\n\n137\n00:06:47.850 --> 00:06:49.090\nHelloworld, all right.\n\n138\n00:06:49.090 --> 00:06:50.051\nSo if I were to call that one.\n\n139\n00:06:53.012 --> 00:06:54.804\nSee how I get permission denied?\n\n140\n00:06:54.804 --> 00:06:55.945\nWhat's that all about?\n\n141\n00:06:55.945 --> 00:06:58.770\nWell, when I I created this,\nI used vine and\n\n142\n00:06:58.770 --> 00:07:03.000\nvine just makes text files, and\ntext files are not executable by default.\n\n143\n00:07:03.000 --> 00:07:05.080\nSo when you make a script,\nyou need to turn around and\n\n144\n00:07:05.080 --> 00:07:06.530\nmake it executable, alright?\n\n145\n00:07:06.530 --> 00:07:09.110\nWe need to make it where\npeople can run the script.\n\n146\n00:07:09.110 --> 00:07:12.690\nSo I'm going to do a little chmod and\nI'm going to add some permissions to it.\n\n147\n00:07:12.690 --> 00:07:15.230\nNow if I look at the default\npermissions assigned to it,\n\n148\n00:07:15.230 --> 00:07:19.910\nif I look for that file,\nsee how it's read-write for\n\n149\n00:07:19.910 --> 00:07:23.930\nthe user, read-write for the group and\nthen read for everybody else.\n\n150\n00:07:23.930 --> 00:07:27.650\nI just need to add execution to that too,\nall right?\n\n151\n00:07:27.650 --> 00:07:30.410\nAnd you can do that to\nthe various change mod methods.\n\n152\n00:07:30.410 --> 00:07:34.830\n755 is read, write and execute for me,\nread and execute for the group, read and\n\n153\n00:07:34.830 --> 00:07:36.200\nexecute for the user.\n\n154\n00:07:36.200 --> 00:07:40.030\nOr I could say u + x,\ng +x, o + x to add it for\n\n155\n00:07:40.030 --> 00:07:44.390\nthe user of the group and\n\n156\n00:07:44.390 --> 00:07:48.867\nother users, and\nwe can add that to helloworld.sh.\n\n157\n00:07:48.867 --> 00:07:50.837\nSo I'm just gonna add that in.\n\n158\n00:07:50.837 --> 00:07:55.035\nNow when I look at those permissions,\neverybody's got executable, And\n\n159\n00:07:55.035 --> 00:07:57.946\nthe file name itself is\nkind of turned green there,\n\n160\n00:07:57.946 --> 00:08:01.007\nwhich is letting me know\nthat it is truly executable.\n\n161\n00:08:01.007 --> 00:08:06.180\nAnd if I try and run helloworld.sh,\nwhen I run it, there it is, helloworld.\n\n162\n00:08:06.180 --> 00:08:09.890\nAnd see how that activation point\ndidn't cause me any problems this time?\n\n163\n00:08:09.890 --> 00:08:13.640\nAnd that's because when you execute\nthings in a script context,\n\n164\n00:08:13.640 --> 00:08:15.500\nthe shell behaves a little differently.\n\n165\n00:08:15.500 --> 00:08:19.730\nIt understands the input that you're\nfeeding it, and it knows that exclamation\n\n166\n00:08:19.730 --> 00:08:23.290\npoint's not a special character in this\nscenario, and so it handles it properly.\n\n167\n00:08:23.290 --> 00:08:26.600\nSo just be aware that some commands\nbehave differently in a script,\n\n168\n00:08:26.600 --> 00:08:28.030\nthen they do in the commandline.\n\n169\n00:08:28.030 --> 00:08:30.050\nSo you might have to do\nsome little testing there.\n\n170\n00:08:30.050 --> 00:08:33.110\nBut we've just written our first script,\n\n171\n00:08:33.110 --> 00:08:38.080\nthat simple little file with\nThe #!/bin/bash followed\n\n172\n00:08:38.080 --> 00:08:43.650\nby echo helloworld, ran and\nit ran that one command.\n\n173\n00:08:43.650 --> 00:08:49.320\nAnd we continue to modify that,\nand add in other commands, right.\n\n174\n00:08:49.320 --> 00:08:51.690\nSo as I expand out what I\nwant this script to do.\n\n175\n00:08:51.690 --> 00:08:53.890\nMaybe I echo other commands.\n\n176\n00:08:53.890 --> 00:08:58.010\nLike here, I might just echo\nout a bunch of lines, and\n\n177\n00:08:58.010 --> 00:09:02.090\nthen I might run ls-la, and\n\n178\n00:09:02.090 --> 00:09:06.920\nthen I might echo some more lines so\nknow that that ran in it separate, right?\n\n179\n00:09:06.920 --> 00:09:13.050\nAnd so I'm just running command,\nafter command and that's it, right?\n\n180\n00:09:13.050 --> 00:09:17.450\nSo I can say script completed,\nthere we go.\n\n181\n00:09:17.450 --> 00:09:22.480\nSo, just running a series of commands,\nand if I call that script, there it goes,\n\n182\n00:09:22.480 --> 00:09:25.400\nand I can see up here at the top,\nwe echoed helloworld,\n\n183\n00:09:25.400 --> 00:09:26.858\nthere's my lines that were drawn.\n\n184\n00:09:26.858 --> 00:09:31.816\nThere's the ls-la that was run, here's\nanother set of lines, script completed,\n\n185\n00:09:31.816 --> 00:09:34.354\nand done, alright.\n\n186\n00:09:34.354 --> 00:09:38.140\nSo if you just had a series of\ncommands you want to run in tandem,\n\n187\n00:09:38.140 --> 00:09:39.360\nthat's how you do it right there.\n\n188\n00:09:39.360 --> 00:09:40.980\nScripting is simple and we're done.\n\n189\n00:09:42.300 --> 00:09:44.920\nBut scripting can be a lot more\npowerful than that, right?\n\n190\n00:09:44.920 --> 00:09:46.804\nWe can do a ton of other things.\n\n191\n00:09:46.804 --> 00:09:51.027\nSo I actually have a different\nscript I wanna show you guys, and\n\n192\n00:09:51.027 --> 00:09:54.385\nI'm just gonna call this\none samplescript.sh.\n\n193\n00:09:54.385 --> 00:09:57.845\nAnd let me see, oops,\nthat's not what I wanted.\n\n194\n00:09:57.845 --> 00:10:02.000\nLet me see if I can just paste this in,\nthere we go.\n\n195\n00:10:02.000 --> 00:10:05.361\nAlright, now let's say I wanna\nadd a user account to my system,\n\n196\n00:10:05.361 --> 00:10:09.159\nI know I can use the user add command,\nand the user add command's great,\n\n197\n00:10:09.159 --> 00:10:11.606\nbut it's got a lot of\ncommand line arguments.\n\n198\n00:10:11.606 --> 00:10:14.860\nAnd you've gotta remember them, and\nif you're like me you can't remember them.\n\n199\n00:10:14.860 --> 00:10:18.660\nSo maybe I choose to\nwrite a script instead.\n\n200\n00:10:18.660 --> 00:10:25.450\nAnd in my script I dictate using that user\nadd command, but instead of requiring\n\n201\n00:10:25.450 --> 00:10:29.660\nthe user to know all the arguments,\nI'm wanna ask them for the values.\n\n202\n00:10:29.660 --> 00:10:31.960\nAnd they can feed it and\nI don't have to remember.\n\n203\n00:10:31.960 --> 00:10:37.190\nSo this script is gonna do echo username:.\n\n204\n00:10:37.190 --> 00:10:39.520\nSo it's gonna echo, basically,\na prompt of username:.\n\n205\n00:10:39.520 --> 00:10:44.450\nNow I did a -e on it and what -e\nsays is I want you to echo this, and\n\n206\n00:10:44.450 --> 00:10:46.500\ndon't move to a new line afterwards.\n\n207\n00:10:46.500 --> 00:10:50.130\nBy default, echo types something on\nthe screen and then presses return.\n\n208\n00:10:50.130 --> 00:10:52.280\nHere it's gonna echo it on the screen and\nit's gonna stop.\n\n209\n00:10:52.280 --> 00:10:56.400\nAnd I wanted that because my very\nnext one, is the read command.\n\n210\n00:10:56.400 --> 00:10:59.520\nNow the read command is completely\nuseless from the normal command prompt.\n\n211\n00:10:59.520 --> 00:11:03.640\nBut in a script what it says is,\nwait for the user to type something.\n\n212\n00:11:03.640 --> 00:11:06.170\nThe user's gonna type something and\nthen they're gonna press enter, and\n\n213\n00:11:06.170 --> 00:11:11.240\nwe're gonna read what that is and\nthen we're gonna store it in a variable.\n\n214\n00:11:11.240 --> 00:11:14.070\nI'm creating a variable called user name.\n\n215\n00:11:14.070 --> 00:11:17.810\nAnd whatever the user types here,\nI'm gonna store in that variable.\n\n216\n00:11:17.810 --> 00:11:21.890\nAnd I'll be able to reuse\nthat again later, right.\n\n217\n00:11:21.890 --> 00:11:26.105\nThen you'll see down here,\nwhere I say echo- e, full Name, and\n\n218\n00:11:26.105 --> 00:11:27.125\nthen read fullname.\n\n219\n00:11:27.125 --> 00:11:29.825\nI created a variable called fullname,\nand I'm waiting for\n\n220\n00:11:29.825 --> 00:11:33.255\nthe user to type that full name in, and\nthen I'll store it in that variable.\n\n221\n00:11:33.255 --> 00:11:34.725\nAnd then same thing with password.\n\n222\n00:11:34.725 --> 00:11:36.625\nI'm going to wait for\nthem to type that password and\n\n223\n00:11:36.625 --> 00:11:38.755\nstore it in a variable called password.\n\n224\n00:11:38.755 --> 00:11:44.430\nAnd then I can run useradd,\nand I can say -c fullname,\n\n225\n00:11:44.430 --> 00:11:49.150\nso I'm creating a user, here's their full\nname, here's their username, -p password,\n\n226\n00:11:49.150 --> 00:11:52.700\nright, here's their password,\nand go in there, and create it.\n\n227\n00:11:52.700 --> 00:11:55.240\nOkay, so now I don't have to\nremember the command line arguments,\n\n228\n00:11:55.240 --> 00:11:57.840\nwe've read the values,\nand we fed them back.\n\n229\n00:11:57.840 --> 00:12:00.250\nNow I did some other stuff in here too,\nthough.\n\n230\n00:12:00.250 --> 00:12:04.530\nIf I'm going to create a user account,\nwhat if the user account already exists?\n\n231\n00:12:04.530 --> 00:12:06.830\nWell I don't wanna create\nduplicate accounts, right?\n\n232\n00:12:06.830 --> 00:12:08.930\nSo I put some error checking in here.\n\n233\n00:12:08.930 --> 00:12:12.102\nI used an if else clause, okay?\n\n234\n00:12:12.102 --> 00:12:14.860\nIf else clauses are really powerful.\n\n235\n00:12:14.860 --> 00:12:18.300\nYou can say, if this is true,\ndo one thing.\n\n236\n00:12:19.300 --> 00:12:21.180\nOtherwise do this other thing.\n\n237\n00:12:21.180 --> 00:12:25.240\nSo if the user account already exists,\nreturn an error.\n\n238\n00:12:25.240 --> 00:12:27.014\nBut if the user account\ndoesn't exist go ahead and\n\n239\n00:12:27.014 --> 00:12:28.373\nmove forward with creating the user.\n\n240\n00:12:28.373 --> 00:12:32.993\nAnd so I said if id-u$username.\n\n241\n00:12:32.993 --> 00:12:36.770\n$username, that's calling that variable.\n\n242\n00:12:36.770 --> 00:12:39.200\nUp here, I've got the username variable.\n\n243\n00:12:39.200 --> 00:12:40.760\nWhatever I just typed in.\n\n244\n00:12:40.760 --> 00:12:43.984\nSo if I type in dpezet as my username,\n\n245\n00:12:43.984 --> 00:12:49.080\nit's gonna run if id-u$username,\nso ifid-udpezet,\n\n246\n00:12:49.080 --> 00:12:54.030\nso it's gonna check and\nfind out what my user ID is.\n\n247\n00:12:54.030 --> 00:12:57.420\nIf it's greater than negative one,\nin other words if it's zero or\n\n248\n00:12:57.420 --> 00:13:00.170\nhigher, that's gonna mean the user exists.\n\n249\n00:13:00.170 --> 00:13:03.000\nIf the user doesn't exist it's\ngonna return an error, right?\n\n250\n00:13:03.000 --> 00:13:06.620\nBut if the user does exist it'll return\na number up there, and I can say Echo,\n\n251\n00:13:06.620 --> 00:13:08.770\nthat username already exists,\nand then that's it.\n\n252\n00:13:08.770 --> 00:13:10.860\nThat's the end of it, all right?\n\n253\n00:13:10.860 --> 00:13:15.540\nBut if the user doesn't exist, then we\nmove forward with this else, right?\n\n254\n00:13:15.540 --> 00:13:19.420\nOtherwise, go ahead and get the full name,\ngo ahead and get the password, go ahead\n\n255\n00:13:19.420 --> 00:13:25.200\nand create the user, and then let's find\nout whether the user actually got created.\n\n256\n00:13:25.200 --> 00:13:27.150\nCuz maybe useradd returns an error.\n\n257\n00:13:27.150 --> 00:13:31.010\nSo I say if id-u$username is greater than\nnegative one, right, I'm looking for\n\n258\n00:13:31.010 --> 00:13:31.570\nthe ID now.\n\n259\n00:13:31.570 --> 00:13:36.560\nAnd if the ID exists now,\nthen it completed successfully.\n\n260\n00:13:36.560 --> 00:13:39.197\nBut if it didn't,\nreturn that some kind of error happened,\n\n261\n00:13:39.197 --> 00:13:42.200\nan error happened that didn't\nactually make the user.\n\n262\n00:13:42.200 --> 00:13:43.370\nAnd then wrap up.\n\n263\n00:13:43.370 --> 00:13:48.405\nNow, notice that I've got an if\nelse clause right here, and\n\n264\n00:13:48.405 --> 00:13:54.310\nthen inside of the else clause,\nI've got an if else clause.\n\n265\n00:13:54.310 --> 00:13:56.350\nSo you can actually\nnest these together and\n\n266\n00:13:56.350 --> 00:13:59.980\ncreate a really complex\ninteractive scripts like this.\n\n267\n00:13:59.980 --> 00:14:03.080\nAnd that's kind of the power that\nwe have inside of these scripts.\n\n268\n00:14:03.080 --> 00:14:04.800\nReally neat functions here.\n\n269\n00:14:04.800 --> 00:14:07.186\nA lot of this stuff is not useful\nfrom the command line, but\n\n270\n00:14:07.186 --> 00:14:09.980\nin a script is incredibly useful, alright.\n\n271\n00:14:09.980 --> 00:14:12.010\nLet's see this in action, right.\n\n272\n00:14:12.010 --> 00:14:16.030\nSo I'm gonna save this, and\n\n273\n00:14:16.030 --> 00:14:21.201\nlet me just rename that I'll call it,\nnewuser.sh.\n\n274\n00:14:21.201 --> 00:14:24.380\nI need to actually\nreference the right file.\n\n275\n00:14:24.380 --> 00:14:25.410\nThere we go.\n\n276\n00:14:25.410 --> 00:14:26.940\nAnd I'm gonna do that ch mod.\n\n277\n00:14:26.940 --> 00:14:32.060\nI'll just do 755, it's faster for\nme to type that, for newuser.sh.\n\n278\n00:14:32.060 --> 00:14:34.289\nAnd I'm gonna run newuser.sh.\n\n279\n00:14:34.289 --> 00:14:38.480\nNow, notice how I'm doing\na dot slash at the beginning?\n\n280\n00:14:38.480 --> 00:14:40.350\nYou don't always have to do that.\n\n281\n00:14:40.350 --> 00:14:44.230\nWith most distros,\nwhen you run just a file like that,\n\n282\n00:14:44.230 --> 00:14:45.560\nit's gonna look in the file path,\n\n283\n00:14:45.560 --> 00:14:49.390\nand then it's gonna look in your local\ndirectory to see if that file exists.\n\n284\n00:14:49.390 --> 00:14:52.590\nNot every distro looks in\nthe local directory, though.\n\n285\n00:14:52.590 --> 00:14:56.050\nSo if you try and run it and you find that\nit doesn't work, like it just didn't for\n\n286\n00:14:56.050 --> 00:14:59.310\nme, then that's where you'll need to add\nthat ./ at the beginning saying it's\n\n287\n00:14:59.310 --> 00:15:02.740\nin the directory I'm in right now,\nor you could specify the full path.\n\n288\n00:15:02.740 --> 00:15:05.950\nSo when I run that, now it's asking me for\nmy username, right?\n\n289\n00:15:05.950 --> 00:15:07.480\nAnd it, oh it moved to a new line on me.\n\n290\n00:15:07.480 --> 00:15:09.115\nI wonder why it did that.\n\n291\n00:15:09.115 --> 00:15:12.690\nEcho-e is supposed to stop it from going\nto a new line on mine it went to a new\n\n292\n00:15:12.690 --> 00:15:15.180\nline, but I'm gonna try and\ncreate a user called dpezet.\n\n293\n00:15:16.260 --> 00:15:20.136\nWell there's already a user called dpezet,\nand it found that out and\n\n294\n00:15:20.136 --> 00:15:22.910\nit returned a nice little message\nto me that username already exists.\n\n295\n00:15:22.910 --> 00:15:24.620\nIt saw that I already had a user ID.\n\n296\n00:15:25.660 --> 00:15:28.375\nBut if I come in and try and\ncreate a new user, and\n\n297\n00:15:28.375 --> 00:15:32.275\nI wanna call this user cwalken, right?\n\n298\n00:15:33.425 --> 00:15:34.325\nNo such user.\n\n299\n00:15:34.325 --> 00:15:35.615\nSo now it's asking me for the full name.\n\n300\n00:15:35.615 --> 00:15:39.215\nAnd I can come in here and I can say\nthat's Christopher Walken, right?\n\n301\n00:15:39.215 --> 00:15:40.995\nAnd what do I want his password to be?\n\n302\n00:15:40.995 --> 00:15:43.155\nI'll set it to password123, right?\n\n303\n00:15:43.155 --> 00:15:44.995\nI'm gonna punch that in.\n\n304\n00:15:44.995 --> 00:15:49.140\nAnd now it's gonna go and try to create\nit, and I get permission denied.\n\n305\n00:15:49.140 --> 00:15:50.390\nWhat's up with that?\n\n306\n00:15:50.390 --> 00:15:54.301\nWell, I'm just a regular old user,\nI'm not a root, I'm not an admin user,\n\n307\n00:15:54.301 --> 00:15:55.880\nI'm not allowed to create it.\n\n308\n00:15:55.880 --> 00:15:58.568\nI didn't think to check on that\nin my script, so I might wanna\n\n309\n00:15:58.568 --> 00:16:01.760\nadd an entry at the very beginning of\nthat script, that does an if else.\n\n310\n00:16:01.760 --> 00:16:04.000\nTo check and\nsee if I have permission to create a user.\n\n311\n00:16:04.000 --> 00:16:07.430\nBut the reality is, you just control\nwho has access to the script, right?\n\n312\n00:16:07.430 --> 00:16:09.540\nBut that's a great example right\nthere of how that would work.\n\n313\n00:16:09.540 --> 00:16:15.370\nAnd I can just do a sudo newuser.sh and\nI can run through that same process again.\n\n314\n00:16:15.370 --> 00:16:17.370\nRight?\nSee, Walken doesn't exist.\n\n315\n00:16:17.370 --> 00:16:18.760\nWe'll go ahead and create him an account.\n\n316\n00:16:19.810 --> 00:16:21.810\nWe'll punch in his password.\n\n317\n00:16:21.810 --> 00:16:24.790\nAnd this time the user\ncreated successfully, right?\n\n318\n00:16:24.790 --> 00:16:27.920\nWe've made it and I didn't have to\nremember those command line arguments.\n\n319\n00:16:27.920 --> 00:16:29.390\nThat's kind of a nice to\nhave with the script.\n\n320\n00:16:31.140 --> 00:16:34.630\nAll right, let me show you\na couple of other examples.\n\n321\n00:16:34.630 --> 00:16:37.960\nAnd obviously you can't learn\nto program in a 30 minute show,\n\n322\n00:16:37.960 --> 00:16:41.590\nbut when you're writing a bash script it's\nreally a lot like a programming language.\n\n323\n00:16:41.590 --> 00:16:43.598\nYou can do a ton of things.\n\n324\n00:16:43.598 --> 00:16:47.561\nSo I wanna show you guys a few\nexamples of different stuff we can do.\n\n325\n00:16:47.561 --> 00:16:51.070\nAll right, so let's see another example\nof how scripts can really save us time.\n\n326\n00:16:51.070 --> 00:16:54.225\nLet's say I need to perform\na repetitive task like I need to create\n\n327\n00:16:54.225 --> 00:16:58.580\nten files that are gonna be used for\nstoring videos.\n\n328\n00:16:58.580 --> 00:17:04.740\nSo from the command prompt I might make a\ndirectory, video one and change in there.\n\n329\n00:17:04.740 --> 00:17:07.608\nAnd I might start creating\nthese individual files.\n\n330\n00:17:07.608 --> 00:17:12.310\nVideo1.mp4 and video2.mp4,\nand create those, or\n\n331\n00:17:12.310 --> 00:17:17.730\nI could just come in and reuse this\none command over and over again.\n\n332\n00:17:17.730 --> 00:17:21.540\nIf we're just doing a handful of files,\nthat's not really a big deal.\n\n333\n00:17:21.540 --> 00:17:24.130\nWe can jump in here,\nwe can create them and there we go.\n\n334\n00:17:24.130 --> 00:17:26.840\nThe problem is,\nwhat if I need a thousand files?\n\n335\n00:17:27.980 --> 00:17:31.340\nWell, that's a repetitive task,\nthis is gonna get old fast, unless you're\n\n336\n00:17:31.340 --> 00:17:33.864\nan hourly employee, then this is perfect,\nthis is exactly what you want, right?\n\n337\n00:17:33.864 --> 00:17:35.410\n>> [LAUGH]\n>> Keep your job going.\n\n338\n00:17:35.410 --> 00:17:37.340\nBut if we want to automate that,\n\n339\n00:17:37.340 --> 00:17:42.180\nwe can use a script that uses a loop to\nloop through running one command over and\n\n340\n00:17:42.180 --> 00:17:44.740\nover and over again to perform\nwhat it is that we want.\n\n341\n00:17:44.740 --> 00:17:48.250\nSo let me give you an example how\nwe can achieve this with a script.\n\n342\n00:17:48.250 --> 00:17:48.890\nAll right?\n\n343\n00:17:48.890 --> 00:17:53.292\nI'm gonna make another folder here,\nvideo2 and I'm gonna do that same thing,\n\n344\n00:17:53.292 --> 00:17:56.348\nI'm gonna create five video files,\nor we'll do 20.\n\n345\n00:17:56.348 --> 00:17:59.661\nI want to create 20 video files and\njust lay them all out and\n\n346\n00:17:59.661 --> 00:18:02.186\nget it all done in one simple script,\nright.\n\n347\n00:18:02.186 --> 00:18:05.000\nAnd when you script it,\nit doesn't matter it's 5 or 500, right?\n\n348\n00:18:05.000 --> 00:18:07.520\nIt's all the same at that point,\ncuz it's been automated.\n\n349\n00:18:07.520 --> 00:18:10.490\nSo, I'm gonna create this script.\n\n350\n00:18:10.490 --> 00:18:16.130\nI'll just call it create-videos.sh and\nI'm gonna go in here and set it up.\n\n351\n00:18:16.130 --> 00:18:20.350\nSo we'll start with our little flag that\nlet's it know we're doing a bash script.\n\n352\n00:18:21.752 --> 00:18:24.280\nAll right, and\nthen we're gonna tell it a few things.\n\n353\n00:18:24.280 --> 00:18:26.460\nFirst off I'm gonna use the for command.\n\n354\n00:18:26.460 --> 00:18:29.760\nNow for creates a loop, you say for,\n\n355\n00:18:29.760 --> 00:18:34.490\nwhatever I'm about to give you,\ndo these actions, okay.\n\n356\n00:18:34.490 --> 00:18:38.530\nSo inside of for\nI tell it a collection of stuff and\n\n357\n00:18:38.530 --> 00:18:40.290\nthat collection of stuff\nmight be one file.\n\n358\n00:18:40.290 --> 00:18:44.990\nIt might be 1,000 files and for each of\nthose files, it's then gonna do something.\n\n359\n00:18:44.990 --> 00:18:47.320\nAnd it doesn't have to be files\nit could be users, variables.\n\n360\n00:18:47.320 --> 00:18:48.830\nIt could be all sorts of different stuff.\n\n361\n00:18:48.830 --> 00:18:51.700\nSo, for whatever it is I'm gonna give it.\n\n362\n00:18:51.700 --> 00:18:54.282\nI'm gonna give it\na variable called filenum.\n\n363\n00:18:54.282 --> 00:18:56.260\nAll right,\nthis is gonna be my file number.\n\n364\n00:18:56.260 --> 00:18:59.840\nAnd filenum doesn't really exist,\nthis is a new variable, so\n\n365\n00:18:59.840 --> 00:19:00.960\nI need to tell it what's in that.\n\n366\n00:19:00.960 --> 00:19:04.940\nSo I'm gonna say in sequence 10.\n\n367\n00:19:04.940 --> 00:19:10.390\nI'm gonna create 10 files or 20 files or\n200 files or however many of those I want.\n\n368\n00:19:10.390 --> 00:19:16.030\nSo I'll just say, for\nfile number in sequence 20, do something.\n\n369\n00:19:16.030 --> 00:19:16.960\nAnd what it is it gonna do?\n\n370\n00:19:16.960 --> 00:19:18.810\nWell, I'll tell it to create a file.\n\n371\n00:19:18.810 --> 00:19:21.397\nLet's use the touch command.\n\n372\n00:19:21.397 --> 00:19:23.631\nVideo$filenum.mp4.\n\n373\n00:19:23.631 --> 00:19:27.570\nThat $filenum tells it\nto use that variable.\n\n374\n00:19:27.570 --> 00:19:31.310\nSo the variable is gonna became one,\ntwo, three, four, all the way up to 20.\n\n375\n00:19:31.310 --> 00:19:33.030\nThat's what the sequence command does.\n\n376\n00:19:33.030 --> 00:19:36.290\nIt says, break this number up\ninto its component parts and\n\n377\n00:19:36.290 --> 00:19:38.180\napply it here to the file name.\n\n378\n00:19:38.180 --> 00:19:40.510\nAnd I just tell it done,\nthat's the end of it.\n\n379\n00:19:40.510 --> 00:19:43.220\nSo it's gonna loop through that over,\nand over, and over again for\n\n380\n00:19:43.220 --> 00:19:48.860\neach of the entries in filenum until it's\ndone, and then I should have those files.\n\n381\n00:19:48.860 --> 00:19:50.510\nAnd so if I get out and\n\n382\n00:19:50.510 --> 00:19:56.330\nI'm gonna just change my permissions on\nthat file, and then I'm gonna run it.\n\n383\n00:19:57.870 --> 00:20:03.800\nWhen I run that, I don't get any feedback,\nbut if I look, there's my files, video1\n\n384\n00:20:03.800 --> 00:20:09.010\nall the way through video20.mp4, right,\nand that was because the sequence command,\n\n385\n00:20:09.010 --> 00:20:13.150\nif you just run like sequence 20, there it\nis, 1 through 20, that's what it laid out.\n\n386\n00:20:13.150 --> 00:20:15.350\nAnd so\nit iterated through it 20 times, and\n\n387\n00:20:15.350 --> 00:20:19.320\nthen I used that number to\nadd it to each file name.\n\n388\n00:20:19.320 --> 00:20:21.940\nRight?\nNow that's using FOR, the FOR\n\n389\n00:20:21.940 --> 00:20:24.680\ncommand which is very powerful for\nautomating stuff like this.\n\n390\n00:20:24.680 --> 00:20:26.400\nI could've achieved it a different way.\n\n391\n00:20:26.400 --> 00:20:30.910\nI'm gonna make another video directory and\nthis time,\n\n392\n00:20:30.910 --> 00:20:34.990\nI'm gonna use something a little bit\ndifferent to achieve the same goal.\n\n393\n00:20:34.990 --> 00:20:37.800\nWhat I'm gonna use is the while command.\n\n394\n00:20:37.800 --> 00:20:40.710\nWhat you can do is you can create\na variable that stores a number and\n\n395\n00:20:40.710 --> 00:20:44.120\nyou can run a command and\nsubtract one from that number.\n\n396\n00:20:44.120 --> 00:20:46.010\nAnd then you keep running the command\nover and over and over again, and\n\n397\n00:20:46.010 --> 00:20:49.260\nsubtracting one from that\nvariable until it gets to 0.\n\n398\n00:20:49.260 --> 00:20:50.630\nAnd when it gets to 0, you stop.\n\n399\n00:20:50.630 --> 00:20:53.130\nYou're basically dictating how many\ntimes you want to run through that loop\n\n400\n00:20:53.130 --> 00:20:55.170\nwith a variable, it's a common practice.\n\n401\n00:20:55.170 --> 00:20:59.620\nSo, doing that, it sounds more complex but\nit's really not that bad.\n\n402\n00:20:59.620 --> 00:21:03.860\nSo I'm gonna create a new\ncreate-video script, and in this one,\n\n403\n00:21:05.270 --> 00:21:11.780\nwe'll start with our #!Bin/Bash, and\nthen I'm gonna tell it what to do.\n\n404\n00:21:11.780 --> 00:21:15.660\nFirst off, I'm gonna create a variable and\nI'm going to say file# equals 20,\n\n405\n00:21:15.660 --> 00:21:16.730\nall right?\n\n406\n00:21:16.730 --> 00:21:19.080\nSo I'm just creating a variable and\nthat's what it's gonna be.\n\n407\n00:21:19.080 --> 00:21:21.820\nI'm gonna set it to 20,\nor let's do 15 just so\n\n408\n00:21:21.820 --> 00:21:26.785\nwe know I'm not running my other script,\nso I'm gonna create 15 files, all right?\n\n409\n00:21:26.785 --> 00:21:34.015\nAnd then I'm gonna say, while, and I gotta\nput this in brackets, while file number\n\n410\n00:21:34.015 --> 00:21:39.300\nis greater than 0 do something, all right?\n\n411\n00:21:39.300 --> 00:21:42.630\nWhile this says check this variable,\nand if it meets these criteria,\n\n412\n00:21:42.630 --> 00:21:45.860\nI'm saying greater than, I could have\nsaid less than or equals, equals sign.\n\n413\n00:21:45.860 --> 00:21:49.520\nBut I'm saying if it's greater than 0,\ndo something.\n\n414\n00:21:49.520 --> 00:21:52.930\nIf it's less than 0 or\nequal to 0 then don't do it, just stop.\n\n415\n00:21:52.930 --> 00:21:57.781\nAnd that's the end and for the wild part,\n\n416\n00:21:57.781 --> 00:22:04.581\nwhat I'm going to say is\ndo touch video$filenum.mp4.\n\n417\n00:22:04.581 --> 00:22:06.820\nAll right, so take whatever's\nin that file number variable and\n\n418\n00:22:06.820 --> 00:22:08.580\nuse that to create that file.\n\n419\n00:22:08.580 --> 00:22:11.965\nAnd then filenum, here's the fun part.\n\n420\n00:22:11.965 --> 00:22:17.864\nfilenum = $, and I'm going to put\nthis in double parenthesis because\n\n421\n00:22:17.864 --> 00:22:22.894\nI'm gonna do an operation on it,\nfilenum- 1, all right.\n\n422\n00:22:22.894 --> 00:22:26.888\nWhat I'm doing here,\nis I'm saying aach time this runs,\n\n423\n00:22:26.888 --> 00:22:31.160\ntake the file number variable and\nsubtract one from it.\n\n424\n00:22:31.160 --> 00:22:34.500\nJust take away one, and\nthen store that back in the filenum.\n\n425\n00:22:34.500 --> 00:22:37.680\nSo if filenum is 15, when this runs\nit's gonna take filenum minus one,\n\n426\n00:22:37.680 --> 00:22:42.410\nit becomes 14, and it's gonna store\nthat in filenum, and now it's 14,\n\n427\n00:22:42.410 --> 00:22:44.540\nand it runs the while again.\n\n428\n00:22:44.540 --> 00:22:48.983\nAnd then it becomes 13 and then 12 and\nthen 11, 10 all the way down until it gets\n\n429\n00:22:48.983 --> 00:22:52.562\nto 0 and when [INAUDIBLE] sees that\nit's not greater than 0 anymore,\n\n430\n00:22:52.562 --> 00:22:56.470\nit's equal to 0, then it goes to done and\nit finishes and that's the end.\n\n431\n00:22:56.470 --> 00:23:00.690\nAnd I might want to put in something\nlike script complete just so\n\n432\n00:23:00.690 --> 00:23:03.700\nthat I know it's actually done and\nthere we go.\n\n433\n00:23:03.700 --> 00:23:06.580\nOkay, so now let's take that and\n\n434\n00:23:06.580 --> 00:23:10.350\nrun it, oh wait I need to\nset my permissions, right?\n\n435\n00:23:10.350 --> 00:23:15.687\nSo I'll set those permissions, and\nthen I'll execute the script and\n\n436\n00:23:15.687 --> 00:23:21.750\nit's gonna run, I got my script complete\nmessage, and if I look, there's my files\n\n437\n00:23:21.750 --> 00:23:27.068\none through 15, all laid out nice and\nneat there same thing, right?\n\n438\n00:23:27.068 --> 00:23:31.020\nThe end game here was the same, whether I\nuse the for command or the wow command.\n\n439\n00:23:31.020 --> 00:23:33.340\nJust the way I implemented it\nwas a little bit different.\n\n440\n00:23:33.340 --> 00:23:36.980\nAnd that's the neat thing about command\nshell scripting is there's usually 10,\n\n441\n00:23:36.980 --> 00:23:39.990\n20 different ways to achieve your goal.\n\n442\n00:23:39.990 --> 00:23:42.790\nYou need to find the one that's\nthe most efficient, or at a minimum,\n\n443\n00:23:42.790 --> 00:23:44.000\nthe one you know, right?\n\n444\n00:23:44.000 --> 00:23:45.005\n>> Yeah, that always helps.\n\n445\n00:23:45.005 --> 00:23:47.510\n[LAUGH]\n>> All right.\n\n446\n00:23:47.510 --> 00:23:50.130\nAnd there's tons of other\ncommands that are out there.\n\n447\n00:23:50.130 --> 00:23:52.390\nThere's one more I do want to show\nthat might turn up on the exam,\n\n448\n00:23:52.390 --> 00:23:54.270\nwhich is the test command.\n\n449\n00:23:54.270 --> 00:23:57.568\nThe test command is great because\nyou can use it to test whether or\n\n450\n00:23:57.568 --> 00:24:00.760\nnot something is true or false and\nthat's useful in a script.\n\n451\n00:24:00.760 --> 00:24:04.422\nSo I showed you guys how I kind of did\nthat when I was creating a user account\n\n452\n00:24:04.422 --> 00:24:04.970\nearlier.\n\n453\n00:24:04.970 --> 00:24:07.250\nI was saying Check and\nsee if they have a user ID.\n\n454\n00:24:07.250 --> 00:24:08.590\nThat was one way to do it.\n\n455\n00:24:08.590 --> 00:24:10.830\nBut you can use the test command and\ndo things also.\n\n456\n00:24:10.830 --> 00:24:13.820\nTest is really useful for\nchecking to see if something exists.\n\n457\n00:24:13.820 --> 00:24:16.830\nSo, maybe I wanna see if\na user has a home directory.\n\n458\n00:24:16.830 --> 00:24:23.340\nSo I can do something like\ntest -d/home/ dpezet, right?\n\n459\n00:24:23.340 --> 00:24:27.620\nThat's going to test and let me know\nwhether or not that directory exists.\n\n460\n00:24:27.620 --> 00:24:29.620\nBut it doesn't really give me any output.\n\n461\n00:24:29.620 --> 00:24:32.670\nYou're supposed to follow that up\nwith what to do if it's true, and\n\n462\n00:24:32.670 --> 00:24:34.500\nwhat to do if it's false.\n\n463\n00:24:34.500 --> 00:24:39.512\nAnd so,, I could say,\nampersand, ampersand, echo,\n\n464\n00:24:39.512 --> 00:24:43.150\ndirectory exists.\n\n465\n00:24:43.150 --> 00:24:45.570\nSo that's what we do if it's true, and\n\n466\n00:24:45.570 --> 00:24:50.310\nthen I could follow that up by two\npipes and what to do if it's false.\n\n467\n00:24:50.310 --> 00:24:53.583\nNow my head's gonna cover this up,\nbut I'm just gonna echo that\n\n468\n00:24:53.583 --> 00:24:58.830\nthe directory does not exist.\n\n469\n00:24:58.830 --> 00:24:59.940\nThere we go.\n\n470\n00:24:59.940 --> 00:25:02.660\nAnd so, if it exists,\necho that out on the screen.\n\n471\n00:25:02.660 --> 00:25:04.780\nIf it doesn't exist,\necho that out on the screen.\n\n472\n00:25:04.780 --> 00:25:07.150\nAnd that's gonna be our\ntest to let us know.\n\n473\n00:25:07.150 --> 00:25:10.990\nAnd when I run it,\nsee how I get that directory exists?\n\n474\n00:25:10.990 --> 00:25:14.800\nYou could easily have it\necho out a zero or a one.\n\n475\n00:25:14.800 --> 00:25:17.420\nThen you could say if the variable\nequals zero, do this.\n\n476\n00:25:17.420 --> 00:25:19.240\nIf the variable equals one, do this.\n\n477\n00:25:19.240 --> 00:25:21.050\nAnd you could set up all sorts\nof actions based on that.\n\n478\n00:25:21.050 --> 00:25:24.480\nSo the test command is really,\nreally helpful.\n\n479\n00:25:24.480 --> 00:25:26.100\nAnd it's got a lot of operators on it.\n\n480\n00:25:26.100 --> 00:25:28.420\nI use the -d to check the directory.\n\n481\n00:25:28.420 --> 00:25:31.340\nOr you'll see I can also\njust string comparisons, so\n\n482\n00:25:31.340 --> 00:25:37.060\nyou can test how those are, -b for\nif a file exists, -c for characters.\n\n483\n00:25:37.060 --> 00:25:39.370\nYou've got all sorts of other\ndifferent ones you can use for\n\n484\n00:25:39.370 --> 00:25:42.450\ntesting different things in\ncharacteristics of files and folders.\n\n485\n00:25:42.450 --> 00:25:44.440\nSo really useful one to do there.\n\n486\n00:25:44.440 --> 00:25:47.060\nNow, notice how the test command is\nall centered around files and folders.\n\n487\n00:25:47.060 --> 00:25:51.410\nIt's a little hard to use that to test\nto see if a user account exists, and\n\n488\n00:25:51.410 --> 00:25:55.420\nthat's why in my user account example\nI went after the user id instead.\n\n489\n00:25:55.420 --> 00:25:59.350\nBecause no matter how you make a user,\nat a minimum they're gonna have a user id.\n\n490\n00:25:59.350 --> 00:26:01.814\nThat's like the one guaranteed\nthing you know they're gonna have.\n\n491\n00:26:01.814 --> 00:26:03.375\nThey might not have a password.\n\n492\n00:26:03.375 --> 00:26:05.050\nThey might not have a home directory.\n\n493\n00:26:05.050 --> 00:26:08.070\nThey might not have a default shell,\nbut they're going to have a user ID.\n\n494\n00:26:08.070 --> 00:26:10.080\nSo you have to think like\nthat when you write a script.\n\n495\n00:26:10.080 --> 00:26:14.700\nWhat do I know for a fact is going to be\nthere, because you don't want to rely on\n\n496\n00:26:14.700 --> 00:26:17.160\nsomething that might go away and\nnow your script is broken.\n\n497\n00:26:17.160 --> 00:26:20.430\nSo that's kind of a key\nprinciple of Shell scripting.\n\n498\n00:26:20.430 --> 00:26:24.470\n>> And having the command UD, or\nthe where it actually looks for that,\n\n499\n00:26:24.470 --> 00:26:26.490\nI can't remember the name?\n\n500\n00:26:26.490 --> 00:26:26.990\n>> The id.\n>> The ID.\n\n501\n00:26:26.990 --> 00:26:27.900\n>> The ID, I'm sorry, yes.\n\n502\n00:26:27.900 --> 00:26:28.630\nThe ID command,\n\n503\n00:26:28.630 --> 00:26:30.110\nhaving that built into the system,\n\n504\n00:26:30.110 --> 00:26:34.570\nwell it allows you to build these types of\nscripts to do what Don is talking about.\n\n505\n00:26:34.570 --> 00:26:38.710\nThat it can call that numerical value\nmakes it a little bit easier to work with\n\n506\n00:26:38.710 --> 00:26:41.930\nin a scripting language, because you\ncan have an equal to, a greater than,\n\n507\n00:26:41.930 --> 00:26:42.490\na less than.\n\n508\n00:26:42.490 --> 00:26:45.063\nIt's kinda hard to have less than dpizet,\nright?\n\n509\n00:26:45.063 --> 00:26:46.310\nThat doesn't make a lot of sense.\n\n510\n00:26:46.310 --> 00:26:51.110\nBut if he pulls out his user,\nthat UID, then gets that and\n\n511\n00:26:51.110 --> 00:26:53.480\nit's a numerical,\nhe can say it's less than this or\n\n512\n00:26:53.480 --> 00:26:57.680\ngreater than that, makes it easy for\nhim to make those scripts.\n\n513\n00:26:57.680 --> 00:26:59.195\nAnd then those ampersand,\nampersand, and the pipe,\n\n514\n00:26:59.195 --> 00:27:01.440\npipe, they can also use\nthose by themselves as well.\n\n515\n00:27:01.440 --> 00:27:04.350\nYou don't have to actually use\nthem within the test space.\n\n516\n00:27:04.350 --> 00:27:07.990\nIt's just basically saying, if I have\nampersand, ampersand, it's like this and\n\n517\n00:27:07.990 --> 00:27:12.640\nthis must be true for a true variable,\nor whatever to come out for\n\n518\n00:27:12.640 --> 00:27:14.070\nit to give me true results.\n\n519\n00:27:14.070 --> 00:27:18.190\nAnd then you have the pipe pipe which\nsays this or this can be true, so\n\n520\n00:27:18.190 --> 00:27:21.280\nyou can use those in your scripts wherever\nyou need them as well, very handy stuff.\n\n521\n00:27:21.280 --> 00:27:22.130\n>> Absolutely.\n\n522\n00:27:22.130 --> 00:27:24.340\nNow obviously,\nthere's a 30 minute episode,\n\n523\n00:27:24.340 --> 00:27:28.720\nwe've only really scratched\nthe surface of Shell scripting.\n\n524\n00:27:28.720 --> 00:27:30.250\nIt's extremely powerful.\n\n525\n00:27:30.250 --> 00:27:32.640\nFor the exam, they just want you\nto have that basic familiarity.\n\n526\n00:27:32.640 --> 00:27:34.540\nSome of the simple things you can do, and\n\n527\n00:27:34.540 --> 00:27:37.320\nhow you can automate things to\nsave yourself a lot of time.\n\n528\n00:27:37.320 --> 00:27:40.310\nBut if you wanna learn more about it\nthere's tons of resources out there on\n\n529\n00:27:40.310 --> 00:27:42.110\nthe Internet you can check out.\n\n530\n00:27:42.110 --> 00:27:44.985\nI know the Arch Linux website\nhas a ton of documentation,\n\n531\n00:27:44.985 --> 00:27:46.840\nthe CentOS website does too.\n\n532\n00:27:46.840 --> 00:27:48.890\nThere's just tons of\ngreat examples out there.\n\n533\n00:27:48.890 --> 00:27:52.460\nStack Overflow is a website I go to\nconstantly to find examples of how other\n\n534\n00:27:52.460 --> 00:27:53.900\npeople are achieving things.\n\n535\n00:27:53.900 --> 00:27:56.060\nIt's really impressive\nwhat people come up with.\n\n536\n00:27:56.060 --> 00:27:58.270\n>> Yeah, don't forget the Linux\ndocumentation project.\n\n537\n00:27:58.270 --> 00:27:59.120\n>> Oh, yeah.\n\n538\n00:27:59.120 --> 00:28:03.620\n>> That joker's got tons of information on\njust about everything to do with Linux.\n\n539\n00:28:03.620 --> 00:28:05.320\nIts very comprehensive.\n\n540\n00:28:05.320 --> 00:28:06.072\n>> Absolutely.\n\n541\n00:28:06.072 --> 00:28:10.430\n>> All right, Don, have we wrapped\nthis up in a pretty little package?\n\n542\n00:28:10.430 --> 00:28:13.390\n>> Yeah, let's close it here, otherwise\nwe'll do the longest episode on record.\n\n543\n00:28:13.390 --> 00:28:15.610\nSo we'll wrap it here but stay tuned.\n\n544\n00:28:15.610 --> 00:28:16.580\nWe got more stuff coming up soon.\n\n545\n00:28:16.580 --> 00:28:19.280\nYou're gonna see a little bit of scripting\nthrough some of the different episodes\n\n546\n00:28:19.280 --> 00:28:22.340\nthat we go through, but this is kind of\nthe bare minimum of what you need for\n\n547\n00:28:22.340 --> 00:28:23.242\nthe exam.\n\n548\n00:28:23.242 --> 00:28:24.520\n>> All right Don,\nwell that was good stuff,\n\n549\n00:28:24.520 --> 00:28:26.480\nhope you guys learned a lot from that.\n\n550\n00:28:26.480 --> 00:28:29.820\nStart writing some scripts,\nget your hands dirty on the keyboard and\n\n551\n00:28:29.820 --> 00:28:30.980\nget some scripts happening.\n\n552\n00:28:30.980 --> 00:28:33.400\nThat being said,\nit is time to sign off for ITProTV.\n\n553\n00:28:33.400 --> 00:28:35.380\nI've been your host, Daniel Lawry.\n\n554\n00:28:35.380 --> 00:28:36.050\n>> And I'm Don Pizet.\n\n555\n00:28:36.050 --> 00:28:37.765\n>> And we'll see ya next time.\n\n556\n00:28:37.765 --> 00:28:38.265\n[SOUND]\n\n",
          "vimeoId": "131900936"
        },
        {
          "description": null,
          "length": "1738",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-3-managing_email-062615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-3-managing_email-062615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-3-managing_email-062615-1-sm.jpg",
          "title": "Managing Email",
          "transcript": "WEBVTT\n\n1\n00:00:00.033 --> 00:00:10.370\n[MUSIC]\n\n2\n00:00:10.370 --> 00:00:15.730\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.730 --> 00:00:17.100\nI'll be your host Daniel Lowery,\n\n4\n00:00:17.100 --> 00:00:20.160\nand here with me today is none\nother than the Linux man himself.\n\n5\n00:00:20.160 --> 00:00:22.490\nThe guy's going to teach us everything\nwe need to know, right, Don?\n\n6\n00:00:22.490 --> 00:00:23.580\nDon Pezet.\n\n7\n00:00:23.580 --> 00:00:25.832\n>> Well let's just not set those\nexpectations too high, right?\n\n8\n00:00:25.832 --> 00:00:26.612\n[LAUGH]\n>> [LAUGH]\n\n9\n00:00:26.612 --> 00:00:27.588\n>> All right, well ladies and\n\n10\n00:00:27.588 --> 00:00:29.760\ngentlemen, we're back for\nanother episode of Linux Plus.\n\n11\n00:00:29.760 --> 00:00:32.870\nIn this episode,\nwe're gonna take a look at email.\n\n12\n00:00:32.870 --> 00:00:34.334\nRight, everybody uses email, right Daniel?\n\n13\n00:00:34.334 --> 00:00:34.915\n>> What's email?\n\n14\n00:00:34.915 --> 00:00:38.385\n>> [LAUGH]\n>> Email, it's like better than Dmail, but\n\n15\n00:00:38.385 --> 00:00:39.950\nnot as good as like Fmail.\n\n16\n00:00:39.950 --> 00:00:40.850\nSo email.\n\n17\n00:00:42.220 --> 00:00:44.940\nEvery Linux server,\nevery Linux desktop for that matter,\n\n18\n00:00:44.940 --> 00:00:48.490\nis capable of being an email server,\nand in fact, most of them are.\n\n19\n00:00:48.490 --> 00:00:52.600\nMost distros, when you install them, even\nif you choose to do the desktop install,\n\n20\n00:00:52.600 --> 00:00:55.500\nstill have basic email\nservices built into them.\n\n21\n00:00:55.500 --> 00:00:57.700\nAnd there's a few different reasons for\nthat.\n\n22\n00:00:57.700 --> 00:01:01.670\nMaybe you want to be a mail server,\nin which case, great, you need that.\n\n23\n00:01:01.670 --> 00:01:03.560\nBut at a minimum,\n\n24\n00:01:03.560 --> 00:01:07.890\nthere's several services inside of\nLINUX that are capable of emailing you.\n\n25\n00:01:07.890 --> 00:01:10.040\nWe already saw one in a past episode.\n\n26\n00:01:10.040 --> 00:01:15.680\nIf you watched the episode on scheduling\njobs, we talked about the Chron command.\n\n27\n00:01:15.680 --> 00:01:17.810\nAnd in the Chron config\nfile in that episode,\n\n28\n00:01:17.810 --> 00:01:22.160\nI showed you where we can have Chron email\nus the status of Chron jobs, let us know,\n\n29\n00:01:22.160 --> 00:01:23.980\nhey, did this job succeed or fail?\n\n30\n00:01:23.980 --> 00:01:28.730\nWell, how is it supposed to email us if\nit doesn't have email software, right?\n\n31\n00:01:28.730 --> 00:01:31.060\nIt's a command line service\nthat's running in the background.\n\n32\n00:01:31.060 --> 00:01:33.979\nIt can't fire up Thunderbird or\nMicrosoft Outlook or whatever and\n\n33\n00:01:33.979 --> 00:01:34.873\nshoot you an email.\n\n34\n00:01:34.873 --> 00:01:36.100\nIt can't do that.\n\n35\n00:01:36.100 --> 00:01:40.880\nSo we need to have basic email services\njust to enable that functionality.\n\n36\n00:01:40.880 --> 00:01:44.750\nNow when I say your Linux Box already has\nan email server on it, I don't mean it's\n\n37\n00:01:44.750 --> 00:01:47.030\ngot like a public one that people\non the Internet can connect to.\n\n38\n00:01:47.030 --> 00:01:48.700\nIt's not like that, it's really used for\n\n39\n00:01:48.700 --> 00:01:53.610\njust email on the local system, but\nit's very powerful software, and you\n\n40\n00:01:53.610 --> 00:01:58.730\ncan use it to be a full blown email server\nout there on the Internet if you want to.\n\n41\n00:01:58.730 --> 00:02:01.590\nSo let's talk about that email\nservice a little bit, and\n\n42\n00:02:01.590 --> 00:02:03.460\nget kind of an understanding\nof what it is.\n\n43\n00:02:03.460 --> 00:02:06.140\nNow inside of Linux you're\ntypically gonna have\n\n44\n00:02:06.140 --> 00:02:09.040\ntwo different types of email software.\n\n45\n00:02:09.040 --> 00:02:12.660\nThere's MTA's and MUA's, right.\n\n46\n00:02:12.660 --> 00:02:15.410\nAn MTA is a message transfer agent.\n\n47\n00:02:15.410 --> 00:02:17.900\nIt's software that's sole purpose is\n\n48\n00:02:17.900 --> 00:02:19.661\nmoving email from one point to another,\nall right.\n\n49\n00:02:20.730 --> 00:02:26.130\nThe most common example of an MTA\nis any kind of SMTP software,\n\n50\n00:02:26.130 --> 00:02:28.200\nsimple message transport protocol.\n\n51\n00:02:28.200 --> 00:02:32.420\nSMTP is what servers use to\nmove email between each other.\n\n52\n00:02:32.420 --> 00:02:34.730\nAnd its what we use when we send an email.\n\n53\n00:02:34.730 --> 00:02:38.140\nIf you're sending an email, you use\nSMTP to transfer it to a server, and\n\n54\n00:02:38.140 --> 00:02:41.710\nthen the server uses it to SMTP to move\nit to the destination server, and then\n\n55\n00:02:41.710 --> 00:02:46.370\nthe destination server uses something else\nto let the client access the email, right?\n\n56\n00:02:46.370 --> 00:02:50.720\nBut as far as sending the email,\nwe use MTAs, Message Transfer Agents.\n\n57\n00:02:50.720 --> 00:02:54.700\nAnd almost every Linux box out there,\neven if you choose a minimal install in\n\n58\n00:02:54.700 --> 00:02:58.240\na lot of cases, is still going\nto be an MTA so that it can move\n\n59\n00:02:58.240 --> 00:03:02.090\ninternal messages on the server for\nthings like Chron jop reporting, right?\n\n60\n00:03:02.090 --> 00:03:03.520\nThat's why it's there.\n\n61\n00:03:03.520 --> 00:03:06.861\n>> So Don, is that why I'm seeing\nroot has mail when I log in?\n\n62\n00:03:06.861 --> 00:03:09.250\n[LAUGH]\n>> You know, that's really common.\n\n63\n00:03:09.250 --> 00:03:10.309\nYou do a minimal install, right.\n\n64\n00:03:10.309 --> 00:03:13.084\nLike I'm gonna install just the bare\nminimum, and you log into that shell\n\n65\n00:03:13.084 --> 00:03:16.870\nthe first time and you get that message\nright above your prompt, root has mail.\n\n66\n00:03:16.870 --> 00:03:18.670\nWell, you're running an MTA.\n\n67\n00:03:18.670 --> 00:03:21.520\nYou actually have a mailbox and\nif you check that email,\n\n68\n00:03:21.520 --> 00:03:24.010\na lot of distros will give you\na welcome email that'll say hey,\n\n69\n00:03:24.010 --> 00:03:27.730\nwelcome to Debian and here's some steps\nyou should take to harden your system for\n\n70\n00:03:27.730 --> 00:03:30.710\nsecurity purposes and here's some\nlinks to getting started guides.\n\n71\n00:03:30.710 --> 00:03:31.760\nThey'll put that in there, right?\n\n72\n00:03:31.760 --> 00:03:33.340\nIt's pretty nice.\n\n73\n00:03:33.340 --> 00:03:36.417\nBut most people look at it and like,\nhow the heck do I even get to the email?\n\n74\n00:03:36.417 --> 00:03:37.541\n>> [LAUGH]\n>> I haven't even\n\n75\n00:03:37.541 --> 00:03:38.880\ninstalled Thunderbird yet.\n\n76\n00:03:38.880 --> 00:03:40.210\n>> How does it even know I exist?\n\n77\n00:03:40.210 --> 00:03:41.070\n>> That's right.\n\n78\n00:03:41.070 --> 00:03:44.440\nAnd it's because of that default mail\nfunctionality that's built in, all right.\n\n79\n00:03:45.490 --> 00:03:47.290\nThat's an MTA.\n\n80\n00:03:47.290 --> 00:03:51.490\nThere's also the MUA which is a message or\nmail user agent,\n\n81\n00:03:51.490 --> 00:03:56.450\nand the mail user agent that's how we\naccess our email as a human being, right?\n\n82\n00:03:56.450 --> 00:04:01.980\nSo SMTP, the MTAs, that's server talk or\nsoftware talk in the background.\n\n83\n00:04:01.980 --> 00:04:04.650\nBut when we want humans to\nget involved we need a MUA.\n\n84\n00:04:04.650 --> 00:04:10.570\nAn MUA's usually gonna take the form\nof a POP3 client, or an IMAP4 client.\n\n85\n00:04:10.570 --> 00:04:12.450\nPOP3 is the Post Office Protocol.\n\n86\n00:04:12.450 --> 00:04:17.215\nIt's a very old email protocol\nthat's been around a long time.\n\n87\n00:04:17.215 --> 00:04:18.535\nLets you check your mail.\n\n88\n00:04:18.535 --> 00:04:19.425\nIt reaches out to a server.\n\n89\n00:04:19.425 --> 00:04:23.206\nIt downloads the emails to your system and\nnow you've got access and\n\n90\n00:04:23.206 --> 00:04:25.474\nyou can read them and have at it, right?\n\n91\n00:04:25.474 --> 00:04:29.307\nBut POP3 isn't really good when it comes\nto things like having subfolders and\n\n92\n00:04:29.307 --> 00:04:32.271\nleaving messages on the server\nas opposed to downloading and\n\n93\n00:04:32.271 --> 00:04:33.854\ndeleting them from the server.\n\n94\n00:04:33.854 --> 00:04:35.770\nPop3 is not the greatest for that.\n\n95\n00:04:35.770 --> 00:04:36.880\nSo if you have more than one computer,\n\n96\n00:04:36.880 --> 00:04:39.480\nPop3 can get really\nfrustrating really fast.\n\n97\n00:04:39.480 --> 00:04:44.591\nIMap4 on the other hand, that's\nthe Internet Message Access Protocol.\n\n98\n00:04:44.591 --> 00:04:46.460\nThere we go I'm gonna get it this time.\n\n99\n00:04:46.460 --> 00:04:49.340\nIMAP 4, it lets you have subfolders,\n\n100\n00:04:49.340 --> 00:04:52.450\nit leaves the emails on the server by\ndefault and you can mark them as read.\n\n101\n00:04:52.450 --> 00:04:54.029\nAnd that way if you have\nmore than one email client,\n\n102\n00:04:54.029 --> 00:04:55.610\nthey're all kind of synchronized.\n\n103\n00:04:55.610 --> 00:04:57.500\nIt's a lot more robust, right.\n\n104\n00:04:57.500 --> 00:05:00.010\nNow more robust means that it\ntakes more resources to run, but\n\n105\n00:05:00.010 --> 00:05:02.010\nit's a lot more powerful so\npeople like it.\n\n106\n00:05:02.010 --> 00:05:05.081\nIMAP is far more common today than POP3,\nright.\n\n107\n00:05:05.081 --> 00:05:08.410\nBut both of those are MUAs,\nmail user agents, and so\n\n108\n00:05:08.410 --> 00:05:12.193\nyou might be using Thunderbird,\nor Microsoft Outlook, or\n\n109\n00:05:12.193 --> 00:05:15.824\nsome other email client,\nwhatever it happens to be, but\n\n110\n00:05:15.824 --> 00:05:21.410\nat the end of the day it's a POP3 or an\nIMAP4 client that's talking to the server.\n\n111\n00:05:21.410 --> 00:05:23.370\nAnd that's how you get your messages and\nyou read them.\n\n112\n00:05:23.370 --> 00:05:27.458\nThen when you go to send your message,\nyou use SMTP, and you send it with\n\n113\n00:05:27.458 --> 00:05:31.630\nthat to the server, it then uses SMTP\nto move it to a destination server.\n\n114\n00:05:31.630 --> 00:05:36.365\nAnd at that destination some user\nuses POP3 or IMAP to open it up and\n\n115\n00:05:36.365 --> 00:05:38.323\nread their email, right?\n\n116\n00:05:38.323 --> 00:05:42.350\nThat's been the model for a long time,\nit's not really gonna change anytime soon.\n\n117\n00:05:42.350 --> 00:05:47.290\nThe only big difference is we've started\nseeing webmail kind of take the place of\n\n118\n00:05:47.290 --> 00:05:52.275\nthe mail user agent, MUAs,\nthat instead of having POP3 or\n\n119\n00:05:52.275 --> 00:05:56.130\nIMAP4 you browse to some web page and\nyou see your mailbox and all of that.\n\n120\n00:05:56.130 --> 00:06:00.072\nThose are usually IMAP under the hood to,\nbut they can be other things.\n\n121\n00:06:00.072 --> 00:06:02.090\nBut webmail is getting to be really,\nreally common.\n\n122\n00:06:03.662 --> 00:06:06.860\nAll right so, let's talk about\nsome of the common MTAs and\n\n123\n00:06:06.860 --> 00:06:08.970\nthen we'll talk about some of\nthe common MUAs, all right?\n\n124\n00:06:08.970 --> 00:06:13.970\nOn the MTA side,\nwell almost every Linux box has one and\n\n125\n00:06:13.970 --> 00:06:17.680\nfor years and years and\nyears it was Sendmail.\n\n126\n00:06:17.680 --> 00:06:22.510\nSendmail is a, I mean,\nit's a pivotal service,\n\n127\n00:06:22.510 --> 00:06:24.500\nit was made back in the Unix days.\n\n128\n00:06:24.500 --> 00:06:28.970\nFor a long time it was the number one\nemail server out there on the Internet.\n\n129\n00:06:28.970 --> 00:06:32.597\nMore email was moved with\nSendMail than any other server,\n\n130\n00:06:32.597 --> 00:06:35.000\nbut it didn't really keep up.\n\n131\n00:06:35.000 --> 00:06:36.080\nThe teams that developed it,\n\n132\n00:06:36.080 --> 00:06:38.450\nthe people that worked on it\ndidn't really support it.\n\n133\n00:06:38.450 --> 00:06:39.825\nSo its got a great history.\n\n134\n00:06:39.825 --> 00:06:42.020\nIt's been around a long time.\n\n135\n00:06:42.020 --> 00:06:46.190\nBut, there's several big\nsecurity flaws in it, and so\n\n136\n00:06:46.190 --> 00:06:49.600\nas a result,\nmost people don't run Sendmail any more.\n\n137\n00:06:49.600 --> 00:06:52.850\nA lot of people look at their server and\nthey'll say oh yeah I'm running Sendmail.\n\n138\n00:06:52.850 --> 00:06:56.000\nAnd what they don't realize is they're\nactually running something different\n\n139\n00:06:56.000 --> 00:06:57.220\nthat's just compatible with Sendmail.\n\n140\n00:06:58.400 --> 00:07:02.610\nThe majority of Linux distros out there\nare using a software called Postfix.\n\n141\n00:07:02.610 --> 00:07:09.054\nPostfix is an email MTA, and it's designed\nto be 100% compatible with Sendmail.\n\n142\n00:07:09.054 --> 00:07:12.102\nSo all the stuff that you do with\nSendmail, all the config files and\n\n143\n00:07:12.102 --> 00:07:15.770\nall can be read by PostFix, and it'll\nwork and handle it just fine, all right?\n\n144\n00:07:15.770 --> 00:07:17.110\nSo, a lot of people that say yeah,\n\n145\n00:07:17.110 --> 00:07:20.680\nI'm running Sendmail are actually running\nPostfix and don't know it, right?\n\n146\n00:07:20.680 --> 00:07:22.260\nOr people say I'm running Postfix.\n\n147\n00:07:22.260 --> 00:07:24.970\nThat makes more sense cuz that's\nwhat they're actually running.\n\n148\n00:07:24.970 --> 00:07:26.770\nSo, those are kind of the two big ones.\n\n149\n00:07:26.770 --> 00:07:29.820\nMost people are running Postfix today,\nbut those aren't your only choices.\n\n150\n00:07:29.820 --> 00:07:33.948\nThere's other ones out there like Exim,\nE-x-i-m.\n\n151\n00:07:33.948 --> 00:07:35.806\nThat's another one that's out there.\n\n152\n00:07:35.806 --> 00:07:38.640\nQMail is another one that's out there.\n\n153\n00:07:38.640 --> 00:07:39.870\nYou can choose to run those.\n\n154\n00:07:39.870 --> 00:07:40.980\nQMail is a popular one.\n\n155\n00:07:40.980 --> 00:07:42.670\nYou see a lot of people do that.\n\n156\n00:07:42.670 --> 00:07:44.350\nThey focus on performance.\n\n157\n00:07:44.350 --> 00:07:45.870\nThey wanted speed right?\n\n158\n00:07:45.870 --> 00:07:50.386\nSo if you want a server that can handle\ntens of thousands of emails per second,\n\n159\n00:07:50.386 --> 00:07:53.109\nExim does a pretty good job with that,\nright?\n\n160\n00:07:53.109 --> 00:07:54.777\nBut it's not being updated anymore,\n\n161\n00:07:54.777 --> 00:07:57.289\nthis is kind of the problem\nwith open-source projects.\n\n162\n00:07:57.289 --> 00:08:01.170\nIf they don't get a lot of adoption Then\nthey start to kinda dwindle on the vine\n\n163\n00:08:01.170 --> 00:08:03.392\nand that's kind of what's happened to xM.\n\n164\n00:08:03.392 --> 00:08:04.290\nI mean to qmail.\n\n165\n00:08:04.290 --> 00:08:05.550\nQmail.\n\n166\n00:08:05.550 --> 00:08:08.030\nxM is still being developed today.\n\n167\n00:08:08.030 --> 00:08:10.740\nxM, they focused on security.\n\n168\n00:08:10.740 --> 00:08:13.380\nThey said, we wanna create\nthe most secure MTA possible and\n\n169\n00:08:13.380 --> 00:08:16.940\nthey did a great job of it,\nbut there's a trade-off.\n\n170\n00:08:16.940 --> 00:08:20.530\nIn exchange for that high security,\nyou get kinda poor performance, so\n\n171\n00:08:20.530 --> 00:08:22.220\nit's not very fast.\n\n172\n00:08:22.220 --> 00:08:26.260\nNow, if you're handling tens of thousands\nof emails an hour, that's fine, but\n\n173\n00:08:26.260 --> 00:08:29.480\nif you're doing tens of thousands\nof emails per second, it's not so\n\n174\n00:08:29.480 --> 00:08:32.400\nfine anymore and that becomes\na bit of a problem, all right?\n\n175\n00:08:32.400 --> 00:08:36.700\nSo of all the MTAs that are out there\nPostfix is the one that gives us the best\n\n176\n00:08:36.700 --> 00:08:40.600\nbalance between security,\nperformance, and support.\n\n177\n00:08:40.600 --> 00:08:42.960\nAnd that's why that's\nwhat most distros run.\n\n178\n00:08:42.960 --> 00:08:44.630\nThat's the one you kind of expect to see.\n\n179\n00:08:46.080 --> 00:08:48.585\nAll right now when you\nfire these clients up,\n\n180\n00:08:48.585 --> 00:08:52.630\nI mean the MTAs up, well, it's probably\nall ready installed on your system, right.\n\n181\n00:08:52.630 --> 00:08:56.020\nAnd, it's pretty easy to check, you can\ntake a look at your processes, like here.\n\n182\n00:08:56.020 --> 00:09:01.340\nIf I take a look at my system, and\nI'm gonna bump to a super user real\n\n183\n00:09:02.540 --> 00:09:08.280\nquick, and if I do ps.aux, right?\n\n184\n00:09:08.280 --> 00:09:10.100\nI start pulling up my processes.\n\n185\n00:09:10.100 --> 00:09:14.020\nYou can look through here and if you're\nrunning a mail server of some sort, you'll\n\n186\n00:09:14.020 --> 00:09:18.180\nspot it in here and you can look for send\nmail or post fix or one of those guys.\n\n187\n00:09:18.180 --> 00:09:20.510\nRight?\nSo I can grep that for send mail.\n\n188\n00:09:21.740 --> 00:09:26.550\nAnd, well, I did get a return but if you\nlook at the command that it's returning,\n\n189\n00:09:26.550 --> 00:09:29.900\nit's actually returning my grep\ncommand that's coming back, so\n\n190\n00:09:29.900 --> 00:09:33.240\nthat's what it found there,\nit didn't actually find send mail.\n\n191\n00:09:33.240 --> 00:09:37.920\nBut if I do a, let's search for\npostfix, I get some more stuff there.\n\n192\n00:09:37.920 --> 00:09:41.340\nAnd I can see that I am\nactually running postfix.\n\n193\n00:09:41.340 --> 00:09:43.860\nThat is my postfix master up and\nrunning, and\n\n194\n00:09:43.860 --> 00:09:46.920\nthere's the postfix service itself up and\nrunning.\n\n195\n00:09:48.010 --> 00:09:49.840\nYou pretty much just\nexpect to see postfix.\n\n196\n00:09:49.840 --> 00:09:52.210\nIf it's ubuntu, if it's tobian,\nif it's scint os,\n\n197\n00:09:52.210 --> 00:09:54.620\nred hat, you pretty much expect\nto see postfix these days.\n\n198\n00:09:56.010 --> 00:09:59.600\nAll right now,\npostfix ships with a default configuration\n\n199\n00:09:59.600 --> 00:10:03.430\nthat only allows email on this server.\n\n200\n00:10:03.430 --> 00:10:05.350\nSo you might feel like you're at risk,\nlike, oh no,\n\n201\n00:10:05.350 --> 00:10:08.360\nI don't wanna have people possibly\nrelaying email through my server.\n\n202\n00:10:08.360 --> 00:10:10.010\nWell don't worry about it.\n\n203\n00:10:10.010 --> 00:10:10.770\nBy default,\n\n204\n00:10:10.770 --> 00:10:14.870\nit only answers on the loopback interface,\nwhich means only your server can see it.\n\n205\n00:10:14.870 --> 00:10:18.370\nAnd it's used just for\nserver messaging on your own system.\n\n206\n00:10:18.370 --> 00:10:19.830\nAnd that's it, right.\n\n207\n00:10:19.830 --> 00:10:22.270\nSo it is secure,\nyou don't have to worry about it.\n\n208\n00:10:22.270 --> 00:10:23.520\nAnd if you're not gonna run a mail server,\n\n209\n00:10:23.520 --> 00:10:25.930\nyou just ignore it,\nthere's no maintenance needed for it.\n\n210\n00:10:25.930 --> 00:10:28.060\nIf you are gonna run a mail server\non though, you gotta go in and\n\n211\n00:10:28.060 --> 00:10:30.090\nchange some configurations, all right.\n\n212\n00:10:30.090 --> 00:10:31.960\nNow, we can spend a ton of time in this,\nbut\n\n213\n00:10:31.960 --> 00:10:34.620\non the exam they just want you to\nhave a basic understanding of it.\n\n214\n00:10:34.620 --> 00:10:35.870\nSo let me show you the config file and\n\n215\n00:10:35.870 --> 00:10:39.410\nshow you some of the things that we would\nchange if we wanted to get that set up.\n\n216\n00:10:39.410 --> 00:10:43.970\nNow, postfix stores its configuration\ninside /etc like most things.\n\n217\n00:10:43.970 --> 00:10:47.330\nAnd you'll have a folder in there for\npostfix, there it is.\n\n218\n00:10:47.330 --> 00:10:49.710\nThat's another way to see if you're\nrunning postfix, you look for\n\n219\n00:10:49.710 --> 00:10:50.300\nthe config files.\n\n220\n00:10:51.510 --> 00:10:55.550\nSo I'm gonna go in there, so\nmy directory is /etc/postfix, and\n\n221\n00:10:55.550 --> 00:11:00.160\nif I look in there you'll see a couple of\ndifferent config files, access, canonical,\n\n222\n00:11:00.160 --> 00:11:01.940\ngeneric and so on.\n\n223\n00:11:01.940 --> 00:11:04.590\nThe one we care about is\nthis guy right here main.cf,\n\n224\n00:11:04.590 --> 00:11:06.930\nthat's the main configuration file.\n\n225\n00:11:06.930 --> 00:11:08.590\nThe bulk of what we want is right there.\n\n226\n00:11:09.600 --> 00:11:14.630\nSo if I were to edit that and\ntake a look in it, it is very\n\n227\n00:11:14.630 --> 00:11:18.320\nthoroughly documented, and there's really\nabout eight or nine different things we'd\n\n228\n00:11:18.320 --> 00:11:22.710\nneed to change in here if we wanted to\nuse this as a real MTA on the internet.\n\n229\n00:11:22.710 --> 00:11:25.470\nSo as you go through and start to look\nat some of the things that are in here,\n\n230\n00:11:25.470 --> 00:11:28.340\nwe need to pay attention\nto the Q directory.\n\n231\n00:11:28.340 --> 00:11:32.620\nWhen new email comes in,\nwe write it to the hard-drive right away.\n\n232\n00:11:32.620 --> 00:11:35.180\nAnd then we take that mail and we figure\nout whose mailbox it needs to go to and\n\n233\n00:11:35.180 --> 00:11:36.650\nwe deliver it.\n\n234\n00:11:36.650 --> 00:11:40.230\nSo this is where mail is\ngoing to go temporarily\n\n235\n00:11:40.230 --> 00:11:43.080\nwhile we're waiting to figure\nout what to do with it.\n\n236\n00:11:43.080 --> 00:11:49.800\nThen, you see a little bit later we\nspecify things like who owns that queue?\n\n237\n00:11:49.800 --> 00:11:52.470\nAnd you'll see here it's\ntied to the post fix user.\n\n238\n00:11:52.470 --> 00:11:53.810\nBeyond that we see our domain names.\n\n239\n00:11:53.810 --> 00:11:56.630\nIf you're going to be servicing email\non the internet you probably have\n\n240\n00:11:56.630 --> 00:11:59.180\nan email domain name and\nyou need to list it here.\n\n241\n00:11:59.180 --> 00:12:03.659\nPost fix will reject email for\nany domain other than what's in this list.\n\n242\n00:12:04.770 --> 00:12:07.050\nWell this list and the alias list\nwe're gonna see a little bit later,\n\n243\n00:12:07.050 --> 00:12:08.560\nbecause you might have\nmore than one domain.\n\n244\n00:12:08.560 --> 00:12:11.310\nSo this will be your\nprimary domain right here.\n\n245\n00:12:11.310 --> 00:12:15.950\nAnd then for sending email, right,\nwho's allowed to send that email?\n\n246\n00:12:15.950 --> 00:12:18.230\nAnd you'll see those\norigins listed right now.\n\n247\n00:12:18.230 --> 00:12:19.710\nPeople are allowed to send email.\n\n248\n00:12:19.710 --> 00:12:22.080\nMy host name, that's a variable\nthat means this computer.\n\n249\n00:12:22.080 --> 00:12:23.270\nAnd then my domain.\n\n250\n00:12:23.270 --> 00:12:26.960\nThat would mean source accounts\nthat are in my own domain.\n\n251\n00:12:26.960 --> 00:12:28.560\nNow notice how these are all marked out.\n\n252\n00:12:28.560 --> 00:12:29.800\nThey're all commented out.\n\n253\n00:12:29.800 --> 00:12:32.610\nAnd that means right now it's\nactually rejecting everything, right?\n\n254\n00:12:32.610 --> 00:12:36.410\nExcept for\nthose internal emails from this system.\n\n255\n00:12:36.410 --> 00:12:39.310\nSame thing with receiving email,\nhow we dictate that, right.\n\n256\n00:12:39.310 --> 00:12:42.052\nWhere we're listening, here's where\nI said it's tied to loop back.\n\n257\n00:12:42.052 --> 00:12:44.660\ninet_interfaces = localhost.\n\n258\n00:12:44.660 --> 00:12:47.210\nIt's only listening on\nthe loop back interface, so\n\n259\n00:12:47.210 --> 00:12:49.700\npeople on the internet\ncan't even contact this.\n\n260\n00:12:49.700 --> 00:12:53.980\nWell if we wanted to open that up, we\nwould just add the other interfaces here.\n\n261\n00:12:53.980 --> 00:12:59.470\nYou can do, whether it's ipv4 or ipv6 or\nboth, and then a little bit beyond\n\n262\n00:12:59.470 --> 00:13:03.780\nyou can start to set some other values\nthat you may or may not actually need.\n\n263\n00:13:03.780 --> 00:13:05.600\nWe've got who we want to reject mail for.\n\n264\n00:13:06.810 --> 00:13:09.590\nAnd these are all kinda come in and\nout, except for this one.\n\n265\n00:13:09.590 --> 00:13:14.630\nIt's gonna reject all email except for\nemail destined for\n\n266\n00:13:14.630 --> 00:13:19.040\nthis machine, this host, or\nwhatever I've listed my domain as, right?\n\n267\n00:13:19.040 --> 00:13:22.280\nSo it's really,\nreally locked down by default.\n\n268\n00:13:22.280 --> 00:13:24.880\nLet's see, are there any other\nsettings I really wanna touch on here?\n\n269\n00:13:25.990 --> 00:13:28.810\nThere's one more about where\nthe mailboxes are stored.\n\n270\n00:13:28.810 --> 00:13:33.010\nEach user gets a mailbox, and by default\nthat mailbox is stored in /var/spool.\n\n271\n00:13:33.010 --> 00:13:35.560\nIt's in the spool folder,\nkinda like print jobs.\n\n272\n00:13:35.560 --> 00:13:37.430\nPrint jobs go into that spool folder too.\n\n273\n00:13:37.430 --> 00:13:38.760\nYour mailbox goes there.\n\n274\n00:13:38.760 --> 00:13:42.230\nAnd so, the path to find that\nis defined in here somewhere.\n\n275\n00:13:42.230 --> 00:13:45.180\nLet me see if I can, I'll just do\na search And look for the word spool and\n\n276\n00:13:45.180 --> 00:13:46.110\nsee if we can find it.\n\n277\n00:13:46.110 --> 00:13:46.960\nThere it is.\n\n278\n00:13:46.960 --> 00:13:49.060\nDelivery to mailbox, and\n\n279\n00:13:49.060 --> 00:13:54.150\nyou'll see that default is /var/spool/mail\nfollowed by the username, right.\n\n280\n00:13:54.150 --> 00:13:55.560\nAnd so we can change that if we want.\n\n281\n00:13:55.560 --> 00:13:57.060\nWe can map it somewhere else.\n\n282\n00:13:57.060 --> 00:13:59.600\nThere's a variable called mailbox, and\n\n283\n00:13:59.600 --> 00:14:02.390\nthat's the one that points\nto this folder right here.\n\n284\n00:14:02.390 --> 00:14:06.570\nBut you can redirect that and\nsend it somewhere else if you wanted too.\n\n285\n00:14:06.570 --> 00:14:07.220\nRight in there, right?\n\n286\n00:14:07.220 --> 00:14:10.220\nYou've got that mail spool directory\nright there too that you can change and\n\n287\n00:14:10.220 --> 00:14:11.900\nyou can point it to where ever you need.\n\n288\n00:14:11.900 --> 00:14:12.780\nAll right.\n\n289\n00:14:12.780 --> 00:14:15.180\nBut these default configurations\nare perfectly fine for us for\n\n290\n00:14:15.180 --> 00:14:18.710\nwhat we need for basic communications, and\nthat's what we need to know for the exam.\n\n291\n00:14:19.970 --> 00:14:23.040\nSo if an email gets generated\non the local host, and\n\n292\n00:14:23.040 --> 00:14:28.940\nit gets sent via SMTP on port 25 to\nthe local host, it's gonna hit postfix.\n\n293\n00:14:28.940 --> 00:14:33.000\nAnd if it's destined for an account that\nis present here on the local system,\n\n294\n00:14:33.000 --> 00:14:34.910\nit'll allow the email to move through.\n\n295\n00:14:34.910 --> 00:14:38.160\nAnd then it will get deposited\ninto one of these folders.\n\n296\n00:14:38.160 --> 00:14:41.580\nSo that's the MTA and\nit's just kinda running,\n\n297\n00:14:41.580 --> 00:14:46.010\ndoing it's job, and\nthat's basically it for the MTA.\n\n298\n00:14:46.010 --> 00:14:49.290\nWe have to tweak those values to make\nit work for the Internet, but for\n\n299\n00:14:49.290 --> 00:14:51.340\nour local system,\nit's already in business.\n\n300\n00:14:51.340 --> 00:14:52.111\nIt's already well.\n\n301\n00:14:52.111 --> 00:14:55.590\nNow, postfix should be up and running.\n\n302\n00:14:55.590 --> 00:14:58.650\nYou can double check\nwith a little systemctl.\n\n303\n00:15:00.570 --> 00:15:02.510\nLet's do start postfix.\n\n304\n00:15:04.030 --> 00:15:06.360\nAlright, so if it wasn't started,\nthat would start it.\n\n305\n00:15:06.360 --> 00:15:11.237\nIf I had just installed it, if I did like\na uninstall postfix, then I could always\n\n306\n00:15:11.237 --> 00:15:16.780\ndo a systemctl enable postfix to make sure\nit's set to start when the system starts.\n\n307\n00:15:16.780 --> 00:15:18.660\nAll right,\nnow those are the system d commands.\n\n308\n00:15:18.660 --> 00:15:20.280\nIf you're running upstart or\n\n309\n00:15:20.280 --> 00:15:25.170\nsystem five, then what you would\nsay is service postfix start.\n\n310\n00:15:25.170 --> 00:15:28.000\nAnd ch config chk config or\n\n311\n00:15:28.000 --> 00:15:33.420\ncheck config post fix on to make sure\nthat it starts when the system boots up.\n\n312\n00:15:33.420 --> 00:15:34.070\nAll right.\n\n313\n00:15:34.070 --> 00:15:34.990\nBut I'm up and running.\n\n314\n00:15:34.990 --> 00:15:35.800\nI'm running postfix.\n\n315\n00:15:35.800 --> 00:15:40.320\nIf I were to telnet into\nmy local host on port 25,\n\n316\n00:15:40.320 --> 00:15:43.480\nI should get a connection except\nI don't have telnet installed.\n\n317\n00:15:43.480 --> 00:15:45.550\nSo if I were to install a telnet client.\n\n318\n00:15:45.550 --> 00:15:48.110\nLet me just get that on here real quick.\n\n319\n00:15:48.110 --> 00:15:53.430\nI can telnet into my system on port 25 and\nI see a message from postfix.\n\n320\n00:15:53.430 --> 00:15:55.851\nI'm actually connected\nto a postfix server.\n\n321\n00:15:55.851 --> 00:15:59.350\nAnd now I could craft and\nemail or whatever, but here I am.\n\n322\n00:15:59.350 --> 00:16:02.440\nI'm actually in the system,\nand I don't want to do that so\n\n323\n00:16:02.440 --> 00:16:04.593\nlet me Just get out of that, there we go.\n\n324\n00:16:04.593 --> 00:16:06.944\nAnd now we're up and going, right?\n\n325\n00:16:06.944 --> 00:16:11.251\nNow on the MTA side, users aren't\nreally expected to talk to the MTA,\n\n326\n00:16:11.251 --> 00:16:13.320\nlike I was just doing.\n\n327\n00:16:13.320 --> 00:16:16.280\nUsers are expecting to use a client,\nan MUA.\n\n328\n00:16:16.280 --> 00:16:18.590\nAnd usually it's POP3 or Imat4 and\n\n329\n00:16:18.590 --> 00:16:23.610\nthey submit their email with SMTP You got\na tons of clients that are out there.\n\n330\n00:16:23.610 --> 00:16:27.180\nThere's not a lot of consistencies between\ndistros, each distro picks different ones.\n\n331\n00:16:27.180 --> 00:16:31.110\nSome of them use KMail,\nsome of them use Thunderbird,\n\n332\n00:16:31.110 --> 00:16:34.290\nsome of them use various ones that\nare specialized for their system.\n\n333\n00:16:34.290 --> 00:16:36.870\nThe one you can kinda count on though\n\n334\n00:16:36.870 --> 00:16:41.910\nis that most systems have the command\nline mail client called mail.\n\n335\n00:16:41.910 --> 00:16:45.040\nNow the command line mail client\nis really not user friendly.\n\n336\n00:16:45.040 --> 00:16:47.950\nIt's kinda a pain to use,\nbut you know it's there.\n\n337\n00:16:47.950 --> 00:16:52.600\nSo if you just logged in to a new server,\nand you log in as root and it says hey,\n\n338\n00:16:52.600 --> 00:16:53.880\nroot has an email.\n\n339\n00:16:53.880 --> 00:16:57.240\nAnd you wanna check it, this mail\nclient is a great one to do, to use.\n\n340\n00:16:57.240 --> 00:16:59.370\nNow, there's other command language,\ntoo, like pine.\n\n341\n00:16:59.370 --> 00:17:02.120\nThat's another popular one, but\nthey're not normally installed by default.\n\n342\n00:17:02.120 --> 00:17:06.940\nIf I try and run pine, I'm sure it's\nnot there yet, but I can run mail and\n\n343\n00:17:06.940 --> 00:17:09.310\nthat's gonna get me into my mailbox.\n\n344\n00:17:09.310 --> 00:17:10.510\nNow, I'm logged in as deep as that and\n\n345\n00:17:10.510 --> 00:17:12.560\nit's telling me here I\ndon't have any mail.\n\n346\n00:17:12.560 --> 00:17:15.220\nSo, I need to get me some email, right.\n\n347\n00:17:15.220 --> 00:17:17.740\nWell, let's do this,\nI'm gonna switch over to.\n\n348\n00:17:19.100 --> 00:17:22.190\nWell, here I'll generate an email quick,\nlet's have some fun.\n\n349\n00:17:22.190 --> 00:17:25.130\nWell, as much fun as you have\ngenerating email from the command line.\n\n350\n00:17:25.130 --> 00:17:26.280\nSo I'm gonna generate an email.\n\n351\n00:17:26.280 --> 00:17:33.040\nI'm gonna give it a subject of test email,\nand I'm gonna send it to dpezet or dpezet.\n\n352\n00:17:33.040 --> 00:17:35.560\nNow I'm just putting my user\nname with no domain on it.\n\n353\n00:17:35.560 --> 00:17:38.770\nAnd that's fine because this is just\na local email system right now.\n\n354\n00:17:38.770 --> 00:17:43.340\nSo I can email local users just like this\nand now I'm gonna type the message body.\n\n355\n00:17:43.340 --> 00:17:47.336\nThis is a test email,\nit will self destruct in\n\n356\n00:17:47.336 --> 00:17:53.850\napproximately ten seconds.\n\n357\n00:17:53.850 --> 00:17:55.090\nThere we go.\n\n358\n00:17:55.090 --> 00:17:59.570\nAnd then when I get to my last line,\nthe file is done and so you just do a dot,\n\n359\n00:17:59.570 --> 00:18:01.110\na period by itself.\n\n360\n00:18:01.110 --> 00:18:04.760\nAnd that does the end of line and so\nthat kind of closes off the email.\n\n361\n00:18:04.760 --> 00:18:06.030\nI just sent an email.\n\n362\n00:18:06.030 --> 00:18:06.640\nAll right.\n\n363\n00:18:06.640 --> 00:18:09.870\nWell if I was logged in as dpezet,\nI'd get a message saying that.\n\n364\n00:18:09.870 --> 00:18:12.200\nAnd sure enough right there I get it,\nright.\n\n365\n00:18:12.200 --> 00:18:16.730\nAnd it's telling me it's\nin /var/spool/mail/dpezet.\n\n366\n00:18:16.730 --> 00:18:18.150\nHow do I get to it?\n\n367\n00:18:18.150 --> 00:18:19.320\nI could actually browse the folder.\n\n368\n00:18:19.320 --> 00:18:22.000\nIt is just a text file on the drive,\nright?\n\n369\n00:18:22.000 --> 00:18:27.020\nOr I can fire up my mail client and\nnow I see I've got an email waiting for\n\n370\n00:18:27.020 --> 00:18:28.440\nme right there.\n\n371\n00:18:28.440 --> 00:18:31.950\nIt's got an n on the left side that\nlets me know it's a new email.\n\n372\n00:18:31.950 --> 00:18:33.360\nIt's email number one.\n\n373\n00:18:33.360 --> 00:18:36.660\nWe have numbers that we can delete\nthe appropriate emails if we want.\n\n374\n00:18:36.660 --> 00:18:40.320\nIt came from root, because I'm SU,\nI'm super user right now so\n\n375\n00:18:40.320 --> 00:18:41.430\nI'm running as root.\n\n376\n00:18:41.430 --> 00:18:45.530\nIt came in Friday, June 26th, and\nit's got a subject of Test Email.\n\n377\n00:18:45.530 --> 00:18:48.850\nNow if I wanna read it I just type 1 and\nthere is my email.\n\n378\n00:18:48.850 --> 00:18:50.880\nThis is a test email,\nit will self-destruct.\n\n379\n00:18:50.880 --> 00:18:56.470\nBut there is my email and if I'm done\nwith it, I can type a d to delete it or\n\n380\n00:18:56.470 --> 00:19:00.340\nI can just leave it, and I can type\nheaders and get my mailbox back again.\n\n381\n00:19:00.340 --> 00:19:02.890\nAnd see there's my mail, and\nit doesn't have the N anymore.\n\n382\n00:19:02.890 --> 00:19:04.530\nIt's not new, I've read it.\n\n383\n00:19:04.530 --> 00:19:06.750\nSo I've read that email and there we go.\n\n384\n00:19:06.750 --> 00:19:07.620\nRight?\n\n385\n00:19:07.620 --> 00:19:09.040\nDefinitely not user friendly, right?\n\n386\n00:19:09.040 --> 00:19:11.790\nYou've gotta remember all of these\ndifferent commands like headers to view\n\n387\n00:19:11.790 --> 00:19:16.700\nthe list and stuff, so, there's other\nemail clients out there that are better.\n\n388\n00:19:16.700 --> 00:19:19.070\nBut this one is built in,\nit's a quick way to see those messages.\n\n389\n00:19:19.070 --> 00:19:21.810\nYou mentioned, Daniel, it tells you\nroot has mail, how do you see that mail?\n\n390\n00:19:21.810 --> 00:19:24.280\n>> I wanted to see it, so\nI had to type in the mail command, and\n\n391\n00:19:24.280 --> 00:19:29.172\nit showed me all my cool mail that said,\nthank you for installing you are an idiot.\n\n392\n00:19:29.172 --> 00:19:31.150\n[LAUGH] How does it know?\n\n393\n00:19:31.150 --> 00:19:33.690\n>> Let's see if I have one of those.\n\n394\n00:19:33.690 --> 00:19:35.210\nSo if you're the root user,\n\n395\n00:19:35.210 --> 00:19:38.920\nyou can actually say,\nmail-u followed by a username.\n\n396\n00:19:38.920 --> 00:19:41.510\nSo if I wanna pull up my root mail,\nthere we go,\n\n397\n00:19:41.510 --> 00:19:43.210\nI've got a couple of entries in here.\n\n398\n00:19:43.210 --> 00:19:45.390\nAnd if you have cron jobs\nthat have been running,\n\n399\n00:19:45.390 --> 00:19:48.570\nyou'll see your cron entries in here for\nthose jobs as they ran.\n\n400\n00:19:48.570 --> 00:19:50.430\nLooks like I got a couple of emails and\n\n401\n00:19:50.430 --> 00:19:54.280\nif I read this first one it is\nsome kind of security message.\n\n402\n00:19:54.280 --> 00:19:58.830\nI'm not really familiar with this one,\nit's just a bunch of paths.\n\n403\n00:19:58.830 --> 00:19:59.910\nWhat is this all about?\n\n404\n00:19:59.910 --> 00:20:02.880\nSecurity information for\nlocalhost, dpezet user.\n\n405\n00:20:04.140 --> 00:20:08.230\nI tried to run sudo and\nI'm not in the sudoers file, and so\n\n406\n00:20:08.230 --> 00:20:11.150\nit threw an error and then it gave me\na bunch of other information about what I\n\n407\n00:20:11.150 --> 00:20:12.030\nwas doing at the time.\n\n408\n00:20:12.030 --> 00:20:17.480\nAnd you can see I was\nrunning /bin/grep -r eth0, so\n\n409\n00:20:17.480 --> 00:20:21.420\nthat's the command I was running, and then\nit went to search all those directories.\n\n410\n00:20:21.420 --> 00:20:24.830\nAnd so here it is flagging all those\ndirectories I was grepping against.\n\n411\n00:20:24.830 --> 00:20:27.470\nThat's why it's such a mess, but\nthat's what was stored here.\n\n412\n00:20:27.470 --> 00:20:29.920\nAnd here's another one where\nI tried to run sudoagain and\n\n413\n00:20:29.920 --> 00:20:33.270\nthis time I was doing something different,\nand it got mad at me.\n\n414\n00:20:33.270 --> 00:20:35.290\nAnd that was another right there.\n\n415\n00:20:35.290 --> 00:20:37.300\nSo, that's the kind of stuff\nthat's getting thrown in here.\n\n416\n00:20:37.300 --> 00:20:40.785\nThat's why we need to know about email,\neven if we're not running a mail server.\n\n417\n00:20:40.785 --> 00:20:43.435\n>> Yeah.\nI was gonna say, this is really a good\n\n418\n00:20:43.435 --> 00:20:48.455\nthing for us as Linux administrators,\nbecause when we go to set up utilities, or\n\n419\n00:20:48.455 --> 00:20:53.540\nwe are maybe washing system logs,\nthings like that we want to email us,\n\n420\n00:20:53.540 --> 00:20:55.590\nor we can just have it email\nus right through the terminal.\n\n421\n00:20:55.590 --> 00:20:59.240\nWe're in the terminal, maybe you're\nlogged in remotely through SSH and\n\n422\n00:20:59.240 --> 00:21:00.750\nyou're bouncing around and\nyou get an email.\n\n423\n00:21:00.750 --> 00:21:03.160\nWell, you can set that up to\ndo it right then and there.\n\n424\n00:21:03.160 --> 00:21:06.770\nYou don't have to have Thunderbird running\neven though you can, or whatever other\n\n425\n00:21:06.770 --> 00:21:10.890\nemail client just makes it easier when\nyou're actually in a terminal environment.\n\n426\n00:21:10.890 --> 00:21:13.390\nYou don't have to bounce from one\nthing to the other, you just hit mail,\n\n427\n00:21:13.390 --> 00:21:16.100\nlook at your mail, read your mail and\nget the messages that you need.\n\n428\n00:21:16.100 --> 00:21:17.630\nSo when you're setting those things up,\n\n429\n00:21:17.630 --> 00:21:22.285\nyou can say, use this email address\njust the root user or use dpset or\n\n430\n00:21:22.285 --> 00:21:25.710\ndlowrie, whatever it is to send those\nmessages to makes it really easy.\n\n431\n00:21:25.710 --> 00:21:26.630\n>> Yeah.\nAnd that mail\n\n432\n00:21:26.630 --> 00:21:28.440\nclient is not terribly sophisticated.\n\n433\n00:21:28.440 --> 00:21:30.330\nIt's literally looking at\nyour school folder and\n\n434\n00:21:30.330 --> 00:21:32.570\nreading the emails right\nout of your school folder.\n\n435\n00:21:32.570 --> 00:21:33.910\nIf you want a more advanced MUA,\n\n436\n00:21:33.910 --> 00:21:38.630\nyou're gonna need a POP3 or\nIMAP4 server on your system.\n\n437\n00:21:38.630 --> 00:21:43.440\nAnd while a SMTP server is pretty\nstandard on Linux distros,\n\n438\n00:21:43.440 --> 00:21:45.900\na POP3 or IMAP4 server isn't.\n\n439\n00:21:45.900 --> 00:21:47.890\nSo you may or may not have one of those.\n\n440\n00:21:47.890 --> 00:21:50.590\nNow there's a couple of them out there,\nbut\n\n441\n00:21:50.590 --> 00:21:54.160\nthe only one you\nconsistently see is DoveCot.\n\n442\n00:21:54.160 --> 00:21:57.930\nDoveCot, if you've never heard of it,\nthis is DoveCot's webpage right here.\n\n443\n00:21:57.930 --> 00:22:00.220\nIt's not a very flashy webpage.\n\n444\n00:22:00.220 --> 00:22:02.040\nTheir secure IMAP server.\n\n445\n00:22:02.040 --> 00:22:04.550\nIt does IMAP, it also does POP3.\n\n446\n00:22:04.550 --> 00:22:06.710\nIt's open source,\nyou can run it on any of the distros,\n\n447\n00:22:06.710 --> 00:22:09.700\nand most of them have it as\na package that you can quickly add.\n\n448\n00:22:09.700 --> 00:22:13.810\nAnd it'll bring up POP3 and\nIMAP4 services on your system.\n\n449\n00:22:13.810 --> 00:22:18.620\nSo if you want to be an IMAP server, then\nDoveCot is usually gonna be the one that\n\n450\n00:22:18.620 --> 00:22:21.730\nyou want to install and\nif you choose to do an email server,\n\n451\n00:22:21.730 --> 00:22:24.140\nlike when you're doing the CentoS\ninstall if you choose the packages for\n\n452\n00:22:24.140 --> 00:22:26.590\nan email server DoveCot\nis what it defaults to.\n\n453\n00:22:26.590 --> 00:22:28.810\nI don't know what a 2 and default to but\n\n454\n00:22:28.810 --> 00:22:31.030\nI know that DoveCot is\navailable on those also.\n\n455\n00:22:31.030 --> 00:22:34.768\nEvery time I run into a commercial service\nthat's running a Linux email server,\n\n456\n00:22:34.768 --> 00:22:39.460\nit's always DoveCot, it production\nyou just don't see anybody else.\n\n457\n00:22:39.460 --> 00:22:43.982\nSo this one's available\nif you do a yum list\n\n458\n00:22:43.982 --> 00:22:48.350\ndovecot, there we go, you can see\nthe packages that are right there, so\n\n459\n00:22:48.350 --> 00:22:51.160\ndeploying it is as simple as\ndoing yum install DoveCot,\n\n460\n00:22:51.160 --> 00:22:53.840\nand then it's got configuration\nfiles that you can tweak and so on,\n\n461\n00:22:53.840 --> 00:22:57.590\nbut otherwise it comes up, and now you're\na pop three, and i'm at four server.\n\n462\n00:22:58.900 --> 00:23:00.510\nBut remember I mentioned web mail.\n\n463\n00:23:00.510 --> 00:23:04.620\nWeb mail, is what a lot of people want,\nbecause they want to get that nice, easy,\n\n464\n00:23:04.620 --> 00:23:05.690\nuser friendly web environment.\n\n465\n00:23:05.690 --> 00:23:08.005\nPeople don't want to mess around\nwith all three in IMAP anymore.\n\n466\n00:23:08.005 --> 00:23:08.615\nRight?\n\n467\n00:23:08.615 --> 00:23:09.705\nSo on the webmail side,\n\n468\n00:23:09.705 --> 00:23:12.195\nthere's actually a lot of different\nchoices that are out there.\n\n469\n00:23:12.195 --> 00:23:15.135\nTwo of the bigger names,\nthere's SquirrelMail,\n\n470\n00:23:15.135 --> 00:23:17.625\nwhich was kinda like\nthe original webmail for Linux.\n\n471\n00:23:17.625 --> 00:23:19.695\nIt's been around a long time,\nit's very evolved.\n\n472\n00:23:19.695 --> 00:23:23.585\nIt's very customizable, so\nyou can change the way it looks and works.\n\n473\n00:23:23.585 --> 00:23:27.250\nLet me just bring up their screen\nshots here, and you can kinda see\n\n474\n00:23:27.250 --> 00:23:32.390\nyou know their simple log-in screen is not\ntoo terribly flashy but this message list\n\n475\n00:23:32.390 --> 00:23:36.370\nis a heck of a lot easier than that\ncommand line mail utility, right?\n\n476\n00:23:36.370 --> 00:23:39.310\nAnd then as you look at some of the other\nscreens as you go through reading email,\n\n477\n00:23:39.310 --> 00:23:42.620\ncomposing email, it's just very\nstraightforward and very simple.\n\n478\n00:23:42.620 --> 00:23:45.920\nYou see a lot of colleges and universities\nuse this because it's really easy for\n\n479\n00:23:45.920 --> 00:23:48.710\nthem to brand it to their university,\nto customize it.\n\n480\n00:23:48.710 --> 00:23:52.800\nAnd it's not too feature-rich\nwhich means it's super compatible.\n\n481\n00:23:52.800 --> 00:23:56.049\nSo they don't have to fret like, oh great\nMicrosoft came out with another stupid web\n\n482\n00:23:56.049 --> 00:23:58.219\nbrowser, are my users gonna\nbe able to access web mail?\n\n483\n00:23:58.219 --> 00:24:01.515\nWe don't have to worry about that\nbecause it's really pretty simple, but\n\n484\n00:24:01.515 --> 00:24:02.362\nit's not pretty.\n\n485\n00:24:02.362 --> 00:24:03.426\nRight, people like pretty.\n\n486\n00:24:03.426 --> 00:24:05.349\nI want my web mail to look awesome!\n\n487\n00:24:05.349 --> 00:24:06.796\nWell, this doesn't look awesome.\n\n488\n00:24:06.796 --> 00:24:09.060\nAnd so, there are some other\nones that are out there.\n\n489\n00:24:09.060 --> 00:24:11.730\nOne of the bigger ones is roundcube.\n\n490\n00:24:11.730 --> 00:24:13.940\nRoundcube is another\none that's open source.\n\n491\n00:24:13.940 --> 00:24:15.270\nYou can deploy it on your server and\n\n492\n00:24:15.270 --> 00:24:18.630\nhave web based mail client,\nMUA that's web based.\n\n493\n00:24:18.630 --> 00:24:20.590\nAnd, let me tell you, theirs is pretty.\n\n494\n00:24:20.590 --> 00:24:23.450\nTheirs looks really nice,\nif you look at some of these images.\n\n495\n00:24:23.450 --> 00:24:24.810\nHere's the mail box.\n\n496\n00:24:24.810 --> 00:24:30.230\nAnd a lot of this is done with JavaScript\nin advanced functionality, and that means\n\n497\n00:24:30.230 --> 00:24:33.910\nbrowser compatibility can be a little\nbit more of a problem with roundcube.\n\n498\n00:24:33.910 --> 00:24:37.410\nSo it looks really nice,\nbut just be aware that, and\n\n499\n00:24:37.410 --> 00:24:40.755\napparently the devil can email you or\nsomething, I don't know.\n\n500\n00:24:40.755 --> 00:24:41.300\n>> [LAUGH]\n>> So, vampires,\n\n501\n00:24:41.300 --> 00:24:43.860\nyou can get vampire emails,\nit's really feature rich.\n\n502\n00:24:43.860 --> 00:24:45.145\n>> Everybody needs an email address Don.\n\n503\n00:24:45.145 --> 00:24:46.240\n>> [LAUGH] Even vampires.\n\n504\n00:24:46.240 --> 00:24:47.910\n>> How are we supposed to get that spam?\n\n505\n00:24:47.910 --> 00:24:49.380\n>> Can they, do they only email at night?\n\n506\n00:24:49.380 --> 00:24:49.900\n>> Yes.\n\n507\n00:24:49.900 --> 00:24:51.730\nSo you can't see them in a reflection,\nright?\n\n508\n00:24:51.730 --> 00:24:53.430\n>> Oh that's a good point,\nthey can't read their own email.\n\n509\n00:24:53.430 --> 00:24:53.990\n>> That's right.\n\n510\n00:24:53.990 --> 00:24:57.125\n>> So there's options like\nthat that are out there.\n\n511\n00:24:57.125 --> 00:24:57.750\nRoundcube is nice.\n\n512\n00:24:57.750 --> 00:25:02.910\nJust remember the flashier the email,\nthe more prone to security exploits it is,\n\n513\n00:25:02.910 --> 00:25:05.230\nso you got to make sure\nyou keep these up to date.\n\n514\n00:25:05.230 --> 00:25:08.254\nIt is gonna run on top of a web server,\nso you run on top of Apache,\n\n515\n00:25:08.254 --> 00:25:11.560\nit's probably gonna require PHP,\nso you gotta add those libraries.\n\n516\n00:25:11.560 --> 00:25:13.770\nAnd all that increases your\nattack surface, right?\n\n517\n00:25:13.770 --> 00:25:17.570\nThe more powerful the webmail, the more.\n\n518\n00:25:17.570 --> 00:25:18.270\n>> Insecure?\n\n519\n00:25:18.270 --> 00:25:22.740\n>> Yeah, I shouldn't say insecure though,\nbecause they do secure your views.\n\n520\n00:25:22.740 --> 00:25:25.560\nThey take those efforts, it's just\nincreasing your attack surface, right?\n\n521\n00:25:25.560 --> 00:25:28.720\nIt's giving attackers more\nopportunity to get in the system.\n\n522\n00:25:28.720 --> 00:25:31.290\nNot that POP3 and\nIMAP4 are be all end all.\n\n523\n00:25:31.290 --> 00:25:34.130\nPOP3, by default, sends passwords\nin plain text on your network.\n\n524\n00:25:34.130 --> 00:25:35.365\nThat's awesome\n>> I'm using that.\n\n525\n00:25:35.365 --> 00:25:37.985\n[LAUGH]\n>> So a lot of times, we'll take POP3 or\n\n526\n00:25:37.985 --> 00:25:43.960\nIMAP and couple them with SSL,\nto secure and encrypt those connections.\n\n527\n00:25:43.960 --> 00:25:48.060\nSo you can do secure POP3 and\nsecure IMAP to fix those.\n\n528\n00:25:48.060 --> 00:25:52.250\nSo just be aware email does open up\nan all new security can of worms.\n\n529\n00:25:52.250 --> 00:25:53.840\nAnd you gotta make sure you\ntake precautions there.\n\n530\n00:25:53.840 --> 00:25:56.750\nCuz otherwise spammers will\nfind your server very,\n\n531\n00:25:56.750 --> 00:25:59.770\nvery fast, cuz they're scanning\nall the time for that.\n\n532\n00:25:59.770 --> 00:26:04.040\nAnd if they can get in and relay email,\nyou become a spam node for them.\n\n533\n00:26:04.040 --> 00:26:06.200\nAnd it's only a matter of time\nbefore you get blacklisted, and\n\n534\n00:26:06.200 --> 00:26:08.610\nnow your email service\nisn't functional anymore.\n\n535\n00:26:08.610 --> 00:26:11.580\nSo that's a very common\npractice that's out there.\n\n536\n00:26:11.580 --> 00:26:13.990\nMake sure take some time\nto harden your server.\n\n537\n00:26:13.990 --> 00:26:14.800\n>> Yes.\nGood stuff.\n\n538\n00:26:14.800 --> 00:26:15.930\nWise words too.\n\n539\n00:26:15.930 --> 00:26:17.280\nAnd not just with email.\n\n540\n00:26:17.280 --> 00:26:20.290\nNo matter what it is, if you're installing\nsomething, make sure you look through\n\n541\n00:26:20.290 --> 00:26:23.430\nthe security documentation,\ntry to harden your systems down.\n\n542\n00:26:23.430 --> 00:26:24.900\nCuz you don't wanna be exploited.\n\n543\n00:26:24.900 --> 00:26:26.500\nYou don't want somebody\ngetting into your system and\n\n544\n00:26:26.500 --> 00:26:29.360\nusing it for malicious reasons, right?\n\n545\n00:26:29.360 --> 00:26:31.050\nThat's never a good time.\n\n546\n00:26:31.050 --> 00:26:35.920\nBut having an email server built into your\nactual environment that you're working\n\n547\n00:26:35.920 --> 00:26:39.930\nwith, you could see the power\nbehind the Linux Operating System.\n\n548\n00:26:39.930 --> 00:26:43.990\nYou start seeing why it's used so\nmuch in an Internet fashion.\n\n549\n00:26:43.990 --> 00:26:45.760\nThat the servers on the internet,\n\n550\n00:26:45.760 --> 00:26:49.520\nbasically a lot of them are running\nLinux or Unix variance for\n\n551\n00:26:49.520 --> 00:26:52.240\nthe very reasons that, well,\nit comes with just about everything.\n\n552\n00:26:52.240 --> 00:26:53.810\nIt's one-stop shopping.\n\n553\n00:26:53.810 --> 00:26:56.310\nAnd it does it very quickly,\ndoes it very effectively.\n\n554\n00:26:56.310 --> 00:27:01.241\nAnd if you can spend some time reading\na little bit and then maybe a cup of\n\n555\n00:27:01.241 --> 00:27:06.520\namaretto and a good manual page, you can\nget this thing to do a lot of stuff.\n\n556\n00:27:06.520 --> 00:27:09.644\nWhere if you're in a Windows environment,\nsomething like that,\n\n557\n00:27:09.644 --> 00:27:13.215\nyou would need to download those or\neven purchase their email environment,\n\n558\n00:27:13.215 --> 00:27:16.000\nfind some free alternative,\nget that working as well.\n\n559\n00:27:16.000 --> 00:27:19.820\nIt's kind of built into the Linux system,\nthat's why it has such an appeal,\n\n560\n00:27:19.820 --> 00:27:21.210\nat least for me.\n\n561\n00:27:21.210 --> 00:27:23.540\n>> Yeah.\nFunny story, not so much with Linux Plus,\n\n562\n00:27:23.540 --> 00:27:25.000\nI guess, but Hotmail.\n\n563\n00:27:25.000 --> 00:27:28.640\nHotmail is one of the largest\nemail providers in the world.\n\n564\n00:27:28.640 --> 00:27:33.630\nAnd way back in 1997, I used Hotmail\nas my primary email address back then.\n\n565\n00:27:33.630 --> 00:27:36.050\nAnd they were big, they were stable.\n\n566\n00:27:36.050 --> 00:27:39.200\nAnd all of their servers were free VSD.\n\n567\n00:27:39.200 --> 00:27:41.030\nAnd they were running send mail, and\n\n568\n00:27:41.030 --> 00:27:43.870\nthey were running some of the same\nservices that we run today\n\n569\n00:27:43.870 --> 00:27:48.210\non one of the most massive server\nemail server farms in the world.\n\n570\n00:27:48.210 --> 00:27:50.015\nWell, Microsoft bought them, and\n\n571\n00:27:50.015 --> 00:27:54.155\nthey spent the next two years converting\nall those servers over to WIndows\n\n572\n00:27:54.155 --> 00:27:56.790\ncuz they didn't want to run VSD\nservers in their environment.\n\n573\n00:27:56.790 --> 00:27:58.200\nAnd so, they,\nyou know they dumped millions and\n\n574\n00:27:58.200 --> 00:27:59.840\nmillions of dollars into\nconversion that over.\n\n575\n00:27:59.840 --> 00:28:04.344\nBut it was funny because you could see\nwhere these enterprise class, world class\n\n576\n00:28:04.344 --> 00:28:09.047\nemail services were able to run these open\nsource products into a great job because,\n\n577\n00:28:09.047 --> 00:28:10.188\nwho created email?\n\n578\n00:28:10.188 --> 00:28:14.858\nWell, email began in the Unix world and\nthe Linux world.\n\n579\n00:28:14.858 --> 00:28:16.675\nThat's really where the stuff started.\n\n580\n00:28:16.675 --> 00:28:20.165\nAnd so the other guys, they have great\nemail products that are out there,\n\n581\n00:28:20.165 --> 00:28:23.365\nlike Microsoft Exchange and stuff,\nbut you don't have to use those.\n\n582\n00:28:23.365 --> 00:28:25.185\nThese solutions are really world class.\n\n583\n00:28:25.185 --> 00:28:26.285\nThey're good stuff.\n\n584\n00:28:26.285 --> 00:28:28.910\n>> Bunch of johnny-come-latelies\nin my opinion, right?\n\n585\n00:28:28.910 --> 00:28:29.995\n>> [LAUGH]\n>> Stick with the Unix,\n\n586\n00:28:29.995 --> 00:28:30.665\nthat's the way to go.\n\n587\n00:28:30.665 --> 00:28:31.995\nNo, I'm just kidding.\n\n588\n00:28:31.995 --> 00:28:33.005\nGo with whatever you like.\n\n589\n00:28:33.005 --> 00:28:35.555\nBut if you are into Linux or\nUnix, it's got it there.\n\n590\n00:28:35.555 --> 00:28:36.395\nIt's ready to go.\n\n591\n00:28:36.395 --> 00:28:40.180\nThat being said Don, I think we've wrapped\nup another pretty good episode here for\n\n592\n00:28:40.180 --> 00:28:41.100\nour viewers.\n\n593\n00:28:41.100 --> 00:28:44.950\nHopefully they enjoyed it, I know I sure\ndid listening to all this good stuff.\n\n594\n00:28:44.950 --> 00:28:47.290\nThat being said, it is time to sign off.\n\n595\n00:28:47.290 --> 00:28:50.470\nFor IT Pro TV,\nI've been your host Daniel Lowry.\n\n596\n00:28:50.470 --> 00:28:51.170\n>> And I'm Don Pizet.\n\n597\n00:28:51.170 --> 00:28:53.095\n>> And we'll see you next time.\n\n598\n00:28:53.095 --> 00:28:58.180\n[SOUND]\n\n",
          "vimeoId": "131900935"
        },
        {
          "description": null,
          "length": "1850",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-4-managing_data_with_sql-062615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-4-managing_data_with_sql-062615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-4-managing_data_with_sql-062615-1-sm.jpg",
          "title": "Managing Data with SQL",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.039 --> 00:00:11.741\nAll right.\n\n3\n00:00:11.741 --> 00:00:15.810\nGreetings everyone and welcome to\nanother great episode of ITProTV.\n\n4\n00:00:15.810 --> 00:00:19.060\nI'll be your host Daniel Lowrie, and\nhere with me today is a man that actually\n\n5\n00:00:19.060 --> 00:00:22.010\nowns a full size copy\nof Vigo the Carpathian.\n\n6\n00:00:22.010 --> 00:00:23.050\nThat is Don Pezet.\n\n7\n00:00:23.050 --> 00:00:24.000\nHow's it going today Don?\n\n8\n00:00:24.000 --> 00:00:25.460\n>> It is going great.\n\n9\n00:00:25.460 --> 00:00:28.930\nWe're back for another Linux plus episode\nand this one's kinda a neat one cuz we're\n\n10\n00:00:28.930 --> 00:00:32.040\ngonna be talking about\nmanaging data with SQL.\n\n11\n00:00:32.040 --> 00:00:34.300\nNow what the heck is SQL?\n\n12\n00:00:34.300 --> 00:00:36.240\nWell it's a database query language.\n\n13\n00:00:36.240 --> 00:00:39.800\nAnd it's getting to be very common\nthat companies have databases.\n\n14\n00:00:39.800 --> 00:00:43.110\nYou stick all your data in there, maybe\nyour authenticating users against it,\n\n15\n00:00:43.110 --> 00:00:44.320\nmaybe your web pages are stored there,\n\n16\n00:00:44.320 --> 00:00:47.190\nthere's all sorts of different\nthings you could put in a database.\n\n17\n00:00:47.190 --> 00:00:50.490\nSo as a systems administrator,\nyou may find yourself at one\n\n18\n00:00:50.490 --> 00:00:53.330\npoint in a position where you\nneed to create a database server.\n\n19\n00:00:53.330 --> 00:00:55.571\nNow, the exam, they don't expect\nyou to be a DBA, right, or\n\n20\n00:00:55.571 --> 00:00:56.883\ndatabase administrator, right.\n\n21\n00:00:56.883 --> 00:00:59.630\nThey don't expect you to know how to\ndo all the crazy queries and stuff, but\n\n22\n00:00:59.630 --> 00:01:02.070\nthey want you to have some\nbasic familiarity with it.\n\n23\n00:01:02.070 --> 00:01:06.350\nSo I'm gonna show you how to create\na SQL Server, get a database created,\n\n24\n00:01:06.350 --> 00:01:11.140\nget some tables created, throw some\ndata in there and retrieve it again, and\n\n25\n00:01:11.140 --> 00:01:12.580\njust kind of see how that works.\n\n26\n00:01:12.580 --> 00:01:13.730\nIt's actually not so bad.\n\n27\n00:01:13.730 --> 00:01:16.910\nIt seems kind of intimidating, but\nit's really not that bad to get it up and\n\n28\n00:01:16.910 --> 00:01:18.190\ngoing on the system.\n\n29\n00:01:18.190 --> 00:01:22.310\n>> Yeah, Don, it's really interesting how\nmany other systems that you might install\n\n30\n00:01:22.310 --> 00:01:26.010\ninto your Linux operating system that\nactually need a database server.\n\n31\n00:01:26.010 --> 00:01:30.810\nThey, all the time it's like, dependency\nneeded, this SQL Server, or this this type\n\n32\n00:01:30.810 --> 00:01:36.200\nof database is needed, usually SQL\nis the one that they're calling for.\n\n33\n00:01:36.200 --> 00:01:38.680\nSo it's gonna be interesting to see,\nwhy does it need this, and\n\n34\n00:01:38.680 --> 00:01:41.370\nhow we can actually\nimplement it ourselves.\n\n35\n00:01:41.370 --> 00:01:43.730\nEspecially if you just wanna put a little\nbit of the database together, right?\n\n36\n00:01:43.730 --> 00:01:44.360\n>> Yep.\n\n37\n00:01:44.360 --> 00:01:47.560\nNow, up until about a year ago,\n\n38\n00:01:47.560 --> 00:01:52.450\nthe most common SQL Server\non top of Linux was MySQL.\n\n39\n00:01:52.450 --> 00:01:57.520\nMySQL is an open source product that,\nit just worked really well, provided\n\n40\n00:01:57.520 --> 00:02:00.530\nyou with a relational database that you\ncould spin up in a matter of minutes.\n\n41\n00:02:00.530 --> 00:02:03.330\nDidn't require a like of maintenance,\nyou could scale pretty large, so\n\n42\n00:02:03.330 --> 00:02:03.860\nvery, very popular.\n\n43\n00:02:03.860 --> 00:02:06.170\nBut then something happened.\n\n44\n00:02:06.170 --> 00:02:08.680\nOracle bought the MySQL foundation.\n\n45\n00:02:08.680 --> 00:02:12.370\nAnd I don't understand how it works\nexactly when a commercial entity buys\n\n46\n00:02:12.370 --> 00:02:17.700\na none profit or whatever, but at the end\nof the day the open source community felt\n\n47\n00:02:17.700 --> 00:02:20.240\nthat Oracle wasn't\nproviding the support or\n\n48\n00:02:20.240 --> 00:02:24.470\nallowing the changes needed to properly\nsupport an open source database like that.\n\n49\n00:02:24.470 --> 00:02:28.670\nAnd so while MySQL was the de facto\nstandard up until about a year or\n\n50\n00:02:28.670 --> 00:02:32.570\ntwo ago now, we're seeing a lot\nof people switch over to MariaDB.\n\n51\n00:02:33.860 --> 00:02:37.390\nMariaDB or\nthe Maria database server is just MySQL.\n\n52\n00:02:37.390 --> 00:02:38.680\nIt's the same thing.\n\n53\n00:02:38.680 --> 00:02:42.640\nBut they fort the codebase and\nnow instead of having a push code\n\n54\n00:02:42.640 --> 00:02:46.830\nchanges through Oracle, they use push\ncode changes through themselves.\n\n55\n00:02:46.830 --> 00:02:50.026\nSo when you fire up\na brand new Linux distro.\n\n56\n00:02:50.026 --> 00:02:55.200\nit depends, your distro may or\nmay not have switched over to MySQL.\n\n57\n00:02:55.200 --> 00:03:00.222\nSo for example if you're on cento S6, it's\nstill MySQL, but if you're on cento S7,\n\n58\n00:03:00.222 --> 00:03:04.730\nit's MariaDB, so one of the first things\nwe need to do if we're going to go and\n\n59\n00:03:04.730 --> 00:03:08.050\ninstall a database server is\nfigure out which one is supported.\n\n60\n00:03:08.050 --> 00:03:12.200\nNow once they're installed they\nboth function exactly the same, so\n\n61\n00:03:12.200 --> 00:03:15.520\nyour end users they don't need to\nknow whether it's MariaDB or MySQL.\n\n62\n00:03:15.520 --> 00:03:17.030\nThey don't care about that.\n\n63\n00:03:17.030 --> 00:03:19.570\nBut for you to install it,\nyou need to know the package names and so\n\n64\n00:03:19.570 --> 00:03:21.620\nyou do need to know the difference.\n\n65\n00:03:21.620 --> 00:03:24.760\nSo one of the first things that I\nusually do when I need to do an install\n\n66\n00:03:24.760 --> 00:03:26.150\nis search for the packages.\n\n67\n00:03:26.150 --> 00:03:28.440\nSo let me do that and\nI'm gonna use the yum command,\n\n68\n00:03:28.440 --> 00:03:30.110\nbecause I'm on a RedHat based system.\n\n69\n00:03:30.110 --> 00:03:34.830\nBut if you're on the BN you'd use app get,\nto go and try and find these packages.\n\n70\n00:03:34.830 --> 00:03:37.930\nSo I'm just gonna do a yum list mysql*.\n\n71\n00:03:37.930 --> 00:03:40.832\nShow me every package\nthat starts with MySQL.\n\n72\n00:03:40.832 --> 00:03:45.780\nAll right, and I'm gonna run it and\nI only see three packages,\n\n73\n00:03:45.780 --> 00:03:49.840\nnone of which are mysql-server which\nis kinda the important one, right.\n\n74\n00:03:49.840 --> 00:03:53.326\nSo that's a pretty good indicator that\nthis system is already switched over\n\n75\n00:03:53.326 --> 00:03:53.929\nto MariaDB.\n\n76\n00:03:53.929 --> 00:03:59.630\nSo instead I'll do a yum list, mariadb*,\nand see what I get back there.\n\n77\n00:03:59.630 --> 00:04:03.000\nAnd here we go the two\npackages I'm looking for\n\n78\n00:04:03.000 --> 00:04:06.910\nare mariadb-server,\nthat's the server itself.\n\n79\n00:04:06.910 --> 00:04:10.630\nAnd mariadb by itself,\nthat's the client, all right?\n\n80\n00:04:10.630 --> 00:04:14.510\nIf you want to connect to an SQL\ndatabase you need the client.\n\n81\n00:04:14.510 --> 00:04:17.850\nIf you want to be the server,\nyou needed a minimum the server.\n\n82\n00:04:17.850 --> 00:04:20.240\nBut to configure it,\nyou need the client also.\n\n83\n00:04:20.240 --> 00:04:22.350\nSo we normally install the server and\nthe client together.\n\n84\n00:04:23.420 --> 00:04:26.100\nNow, if these were MySQL,\nit'd be the same thing.\n\n85\n00:04:26.100 --> 00:04:29.600\nThere'd be one called MySQL and\nthere'd be one called mySQL dash server.\n\n86\n00:04:29.600 --> 00:04:32.140\nSo I just need to install\nthe appropriate package.\n\n87\n00:04:32.140 --> 00:04:34.300\nOnce they are installed,\nthe two are identical and\n\n88\n00:04:34.300 --> 00:04:38.010\nyou'll actually see the commands\nare MySQL after I install MariaDB.\n\n89\n00:04:38.010 --> 00:04:41.160\nIt is just a fork of the same code base.\n\n90\n00:04:41.160 --> 00:04:44.108\nI'm gonna do a quick yum install.\n\n91\n00:04:44.108 --> 00:04:47.063\nActually hang on a second let\nme do a little super user,\n\n92\n00:04:47.063 --> 00:04:49.530\nI need to elevate my privileges here.\n\n93\n00:04:49.530 --> 00:04:56.870\nAnd I'll do a yum install and, if it was\nmysql I would do mysql and mysql-server.\n\n94\n00:04:56.870 --> 00:05:03.570\nBut since it's MariaDB I'm gonna install\nmariadb and mariadb-server, all right.\n\n95\n00:05:03.570 --> 00:05:06.800\nSo it's gonna install those two packages\nand their associated dependencies.\n\n96\n00:05:06.800 --> 00:05:10.230\nSee how I needed pearl also so\nit's grabbing those pearl components and\n\n97\n00:05:10.230 --> 00:05:15.890\nit's gonna load it in there and now I'll\nhave that database and the client alright.\n\n98\n00:05:15.890 --> 00:05:17.750\nSo we'll give it just\na second while it installs.\n\n99\n00:05:17.750 --> 00:05:19.570\nNow while it's installing,\n\n100\n00:05:19.570 --> 00:05:24.000\nsomething we really have to worry\nabout databases store data and\n\n101\n00:05:24.000 --> 00:05:28.940\nhackers love data so this is something\nthat people are gonna target for attacks.\n\n102\n00:05:28.940 --> 00:05:32.140\nSQL injection attacks are one of the most\ncommon types of attacks that are out\n\n103\n00:05:32.140 --> 00:05:33.260\nthere on the Internet.\n\n104\n00:05:33.260 --> 00:05:36.070\nAnd so, we need to make sure\nthat our database is secured.\n\n105\n00:05:36.070 --> 00:05:38.850\nWhen it installs, it is not secure.\n\n106\n00:05:38.850 --> 00:05:41.610\nSo you do not want to run\nit with a default install.\n\n107\n00:05:41.610 --> 00:05:45.120\nFor example,\nthe root user has no password, by default.\n\n108\n00:05:45.120 --> 00:05:47.240\nSo for somebody to get in,\nthere's no password set.\n\n109\n00:05:47.240 --> 00:05:49.060\nThey can get in and\nhave full access to the database.\n\n110\n00:05:49.060 --> 00:05:50.670\nThat would be bad, right?\n\n111\n00:05:50.670 --> 00:05:54.810\nSo we need to take a couple extra steps\nto get in and make sure this is secure.\n\n112\n00:05:54.810 --> 00:05:57.870\nAll right, so\nmy server just finished installing and\n\n113\n00:05:57.870 --> 00:06:02.160\nI'm gonna go in and start the service,\neven though it's not secure.\n\n114\n00:06:02.160 --> 00:06:05.110\nAnd then go in and apply a configuration\nto it to make it secure.\n\n115\n00:06:05.110 --> 00:06:09.520\nDuring this time the way I normally do\nthis is if I have an IP tables firewall\n\n116\n00:06:09.520 --> 00:06:11.050\nI don't open up MySQL ports yet.\n\n117\n00:06:11.050 --> 00:06:14.200\nI leave them closed while I\nget the server secured and\n\n118\n00:06:14.200 --> 00:06:16.180\nthen I open up the firewall ports.\n\n119\n00:06:16.180 --> 00:06:16.740\nAll right?\n\n120\n00:06:16.740 --> 00:06:19.990\nSo, just be aware that this is kinda\nvulnerable in its default install.\n\n121\n00:06:21.010 --> 00:06:25.320\nNow, I just installed MariaDB, so\nit's in there, it's up and it's going.\n\n122\n00:06:25.320 --> 00:06:29.780\nI need to make sure it's set to run,\nand to set to startup.\n\n123\n00:06:29.780 --> 00:06:37.428\nIf it was MySQL,\nI would be using the MySQL D service.\n\n124\n00:06:37.428 --> 00:06:40.600\nIf it's MariaDB,\nit'll be the MariaDB d service, and so\n\n125\n00:06:40.600 --> 00:06:45.200\nI need to make sure that I specify\nthe right service when I tell it to start.\n\n126\n00:06:45.200 --> 00:06:50.920\nOn a system five or upstart system we\nwould use the service start command.\n\n127\n00:06:50.920 --> 00:06:56.030\nOn a system D system we'll use the system\nCTL command and I'm on a system D system.\n\n128\n00:06:56.030 --> 00:07:00.641\nSo I'm gonna say systemctl start mariadb,\nso\n\n129\n00:07:00.641 --> 00:07:04.600\nI'm gonna start that service up.\n\n130\n00:07:04.600 --> 00:07:07.300\nNow, it's gonna take a second and\nthen it'll start,\n\n131\n00:07:07.300 --> 00:07:13.000\nI'm not running a non secure SQL Server,\nso I'm at risk right now.\n\n132\n00:07:13.000 --> 00:07:18.380\nI'm gonna follow that with a,\nactually let me do a system CTL\n\n133\n00:07:18.380 --> 00:07:23.350\nenable mariadb so it'll make sure that\nit starts up with my system, and so\n\n134\n00:07:23.350 --> 00:07:26.900\nit's checking it out here,\nand just creating a link.\n\n135\n00:07:26.900 --> 00:07:30.370\nSo now when my system boots up,\nMariaDB will automatically start,\n\n136\n00:07:30.370 --> 00:07:31.500\nso I'm good there.\n\n137\n00:07:31.500 --> 00:07:34.460\nOn an upstart system,\nyou'd use chkconfig to do the same thing.\n\n138\n00:07:35.570 --> 00:07:36.140\nAll right.\n\n139\n00:07:36.140 --> 00:07:38.310\nNow I need to get this guy secure.\n\n140\n00:07:38.310 --> 00:07:41.610\nWell, fortunately,\nthey put a nice little script in here.\n\n141\n00:07:41.610 --> 00:07:44.930\nAnd from this point on,\neverything that we do is the same.\n\n142\n00:07:44.930 --> 00:07:47.410\nFrom MySQL or MariaDB,\nthere's no more differences.\n\n143\n00:07:47.410 --> 00:07:50.454\nSo that's really the differences\nright there right up to that point,\n\n144\n00:07:50.454 --> 00:07:52.836\nbut at this stage now\neverything's gonna be the same.\n\n145\n00:07:52.836 --> 00:07:57.448\nSo to secure it they actually created\n\n146\n00:07:57.448 --> 00:08:02.355\na little script for us that will do it and\n\n147\n00:08:02.355 --> 00:08:08.917\nits /usr/bin/ mysql_secure_installation.\n\n148\n00:08:08.917 --> 00:08:12.230\nNow I installed mariadb, but\nsee how the script is called mysql?\n\n149\n00:08:12.230 --> 00:08:14.130\nEven the commands are mysql\nfrom this point on.\n\n150\n00:08:14.130 --> 00:08:16.170\nEverything is basically the same.\n\n151\n00:08:16.170 --> 00:08:19.040\nSo when I run that it's a simple\nscript to help secure the system.\n\n152\n00:08:19.040 --> 00:08:21.050\nHere it's asking for my root password.\n\n153\n00:08:21.050 --> 00:08:23.410\nIt's none by default so\nI just press Enter.\n\n154\n00:08:23.410 --> 00:08:24.910\nThere was no password.\n\n155\n00:08:24.910 --> 00:08:25.980\nHere's a chance for me to set it.\n\n156\n00:08:25.980 --> 00:08:27.780\nI'm gonna go and set that password, and\n\n157\n00:08:27.780 --> 00:08:32.400\nI'll pick a super secure password,\nlike the word password.\n\n158\n00:08:32.400 --> 00:08:35.080\nThen do I want to remove anonymous users?\n\n159\n00:08:35.080 --> 00:08:37.130\nAnonymous users actually\nhave access by default.\n\n160\n00:08:37.130 --> 00:08:39.000\nThat's not a necessarily a great thing.\n\n161\n00:08:39.000 --> 00:08:40.970\nSo I'm gonna say yeah, go ahead and\nremove those anonymous users.\n\n162\n00:08:40.970 --> 00:08:42.470\nGet them out of there.\n\n163\n00:08:42.470 --> 00:08:44.950\nAnd then here's probably\nthe most important option,\n\n164\n00:08:44.950 --> 00:08:47.550\ndisallow root login remotely.\n\n165\n00:08:47.550 --> 00:08:48.780\nIn other words,\n\n166\n00:08:48.780 --> 00:08:53.410\nonly allow root to login if they're\nactually on the console of this machine.\n\n167\n00:08:53.410 --> 00:08:56.440\nDon't allow them to SSH in and\ndo it or run it from a remote client.\n\n168\n00:08:56.440 --> 00:08:59.540\nDon't allow that,\nthey've gotta be on this console.\n\n169\n00:08:59.540 --> 00:09:00.390\nThat's an absolute.\n\n170\n00:09:00.390 --> 00:09:01.560\nYou want to do that.\n\n171\n00:09:01.560 --> 00:09:05.010\nWe want them to be logged into this system\ndirectly, not running a remote client.\n\n172\n00:09:05.010 --> 00:09:07.100\nCuz that remote client could be a hacker.\n\n173\n00:09:07.100 --> 00:09:09.800\nSo this is gonna stop them from\nbeing able to use that root account.\n\n174\n00:09:09.800 --> 00:09:11.010\nSo I'll say yes to disallow that.\n\n175\n00:09:12.440 --> 00:09:17.230\nThere's a test database created by\ndefault and it's offering to remove that.\n\n176\n00:09:17.230 --> 00:09:18.910\nI'm gonna leave it here on the show.\n\n177\n00:09:18.910 --> 00:09:19.640\nIn real life land,\n\n178\n00:09:19.640 --> 00:09:24.130\nI always remove it because attackers\nknow about that test database.\n\n179\n00:09:24.130 --> 00:09:26.740\nSo they know the name of at least\none database on your system and\n\n180\n00:09:26.740 --> 00:09:27.790\nthey can target that.\n\n181\n00:09:27.790 --> 00:09:32.110\nIt's a good idea to remove it, but\nI'll leave it here just for the show.\n\n182\n00:09:32.110 --> 00:09:34.080\nAnd then anytime we change permissions,\n\n183\n00:09:34.080 --> 00:09:37.320\nlike allowing that root user\nnot to log in remotely, well,\n\n184\n00:09:37.320 --> 00:09:40.200\nwe need to refresh our permissions table,\nso it's offering to do that right here.\n\n185\n00:09:40.200 --> 00:09:43.031\nI'll say yes, and it's gonna refresh that.\n\n186\n00:09:43.031 --> 00:09:45.678\nNow my database is more secure.\n\n187\n00:09:45.678 --> 00:09:49.076\nNow I can open up those firewall ports or\nwhatever and start to go in and\n\n188\n00:09:49.076 --> 00:09:50.080\nconfigure things.\n\n189\n00:09:51.130 --> 00:09:55.587\nRunning that secure install\nscript is really important.\n\n190\n00:09:55.587 --> 00:09:58.390\nAll right, so I've got it.\n\n191\n00:09:58.390 --> 00:10:00.720\nNow I should be able to\nconnect to my system.\n\n192\n00:10:00.720 --> 00:10:03.120\nTo connect to the system\nI can use the client.\n\n193\n00:10:03.120 --> 00:10:07.110\nNow the client, I know when I installed\nit the package was called MariaDB, but\n\n194\n00:10:07.110 --> 00:10:09.845\nthe command that it installs is mysql.\n\n195\n00:10:09.845 --> 00:10:12.920\nCuz everything's the same\npast the install.\n\n196\n00:10:12.920 --> 00:10:16.260\nSo I'm gonna say mysql,\nand then I can specify.\n\n197\n00:10:16.260 --> 00:10:20.320\nWell, if I just run it like this,\nit's going to use my current user name and\n\n198\n00:10:20.320 --> 00:10:21.970\nthen it's going to prompt me for\na password.\n\n199\n00:10:21.970 --> 00:10:25.210\nSo if I'm logged in as dpezet,\nit's going to try to access it as dpezet.\n\n200\n00:10:25.210 --> 00:10:28.810\nIf I want to log in as a different user\nthough I can say -u and specify that user.\n\n201\n00:10:28.810 --> 00:10:30.276\nI'm gonna log in as root.\n\n202\n00:10:30.276 --> 00:10:35.330\nAnd then -p, which is telling it, hey,\nyou need to prompt me for the password.\n\n203\n00:10:35.330 --> 00:10:36.980\nAnd when I press Enter it asks for\nmy password.\n\n204\n00:10:36.980 --> 00:10:43.000\nI punch that in, and\nnow I'm in a MariaDB shell.\n\n205\n00:10:43.000 --> 00:10:47.860\nI'm in the SQL command line interface and\nI can start to issue SQL commands.\n\n206\n00:10:47.860 --> 00:10:50.650\nNow it says right here,\nsee how it's copyright Oracle and\n\n207\n00:10:50.650 --> 00:10:52.470\nthe MariaDB Corporation?\n\n208\n00:10:52.470 --> 00:10:53.800\nThat's because I'm running MariaDB.\n\n209\n00:10:53.800 --> 00:10:57.830\nIf you were just running MySQL, it would\nsay copyright Oracle and that's it.\n\n210\n00:10:57.830 --> 00:11:01.650\nSo now I'm in here and\nI can start to work with the system.\n\n211\n00:11:01.650 --> 00:11:05.430\nSo was it hard to get a database\nserver up and running?\n\n212\n00:11:05.430 --> 00:11:06.310\nNo.\n\n213\n00:11:06.310 --> 00:11:09.790\nAnd normally at this point, what we would\ndo is we would just turn over the username\n\n214\n00:11:09.790 --> 00:11:14.750\nand password to a DBA, or they'd give you\na script to run, and you would execute\n\n215\n00:11:14.750 --> 00:11:17.760\nthat script and it would populate\nthe database with everything they needed.\n\n216\n00:11:17.760 --> 00:11:19.570\nThe DBAs take it from there.\n\n217\n00:11:19.570 --> 00:11:23.680\nBut if you have to do the work,\nif you have to create a database and\n\n218\n00:11:23.680 --> 00:11:24.870\nput some simple data in there or\n\n219\n00:11:24.870 --> 00:11:28.570\nwhatever, it is a good idea to at least\nbe familiar some of the basic commands.\n\n220\n00:11:28.570 --> 00:11:31.710\nSo let me show you some of those commands.\n\n221\n00:11:31.710 --> 00:11:35.740\nOne of the most useful ones right off\nthe bat is the SHOW DATABASES command.\n\n222\n00:11:37.100 --> 00:11:39.860\nAnd it's not really case sensitive,\n\n223\n00:11:39.860 --> 00:11:43.680\nI could run this all lowercase,\nbut when people write SQL,\n\n224\n00:11:43.680 --> 00:11:49.060\nthey typically capitalize words\nthat are actual SQL commands.\n\n225\n00:11:49.060 --> 00:11:52.850\nAnd then anything in lowercase are\ntypically terms that we put in the system,\n\n226\n00:11:52.850 --> 00:11:53.780\ncustom terms.\n\n227\n00:11:53.780 --> 00:11:57.130\nSo it's kind of the difference\nbetween built-in versus custom.\n\n228\n00:11:57.130 --> 00:11:58.070\nIt's not case sensitive though.\n\n229\n00:11:58.070 --> 00:12:00.170\nI could do this lowercase if I wanted.\n\n230\n00:12:00.170 --> 00:12:04.620\nNow in SQL, it automatically assumes\nwhatever command you're gonna run is gonna\n\n231\n00:12:04.620 --> 00:12:09.900\ntake more than one line, because it's\na rare SQL query that only takes one line.\n\n232\n00:12:09.900 --> 00:12:13.260\nSo I have to tell it the command is done,\nand you do that with a semicolon.\n\n233\n00:12:14.430 --> 00:12:15.500\nIf I put a semicolon here,\n\n234\n00:12:15.500 --> 00:12:19.330\nit knows that I wanna run show databases,\nand then it runs it.\n\n235\n00:12:19.330 --> 00:12:23.490\nIf I were to leave that semicolon off,\nit just takes me to the next line and\n\n236\n00:12:23.490 --> 00:12:26.390\nI can continue on with my command.\n\n237\n00:12:26.390 --> 00:12:27.450\nIf I do that by accident,\n\n238\n00:12:27.450 --> 00:12:30.450\nyou can just type the semicolon here,\nand then it runs it.\n\n239\n00:12:30.450 --> 00:12:34.279\nSo remember the semicolon is how\nyou terminate a command in SQL.\n\n240\n00:12:34.279 --> 00:12:36.390\nAnd then here's my list of databases.\n\n241\n00:12:36.390 --> 00:12:39.710\nI've got my information and performances\nschemas, that's for the system.\n\n242\n00:12:39.710 --> 00:12:41.640\nI've got the mysql database,\n\n243\n00:12:41.640 --> 00:12:44.550\nwhich is where the configuration for\nMySQL is stored.\n\n244\n00:12:44.550 --> 00:12:46.759\nAnd then I've got test.\n\n245\n00:12:46.759 --> 00:12:49.690\nThat's that test database\nthat they created for me.\n\n246\n00:12:50.690 --> 00:12:54.350\nNow I might not want that database to be\nthere, cuz I don't want attackers to get\n\n247\n00:12:54.350 --> 00:12:57.820\nat it or whatever, so\nI could get rid of it if I wanted.\n\n248\n00:12:57.820 --> 00:13:00.650\nIn SQL if you wanna get rid of\nsomething you use the drop command.\n\n249\n00:13:00.650 --> 00:13:04.596\nSo I could say DROP DATABASE TEST.\n\n250\n00:13:04.596 --> 00:13:07.065\nI'm gonna get rid of that database.\n\n251\n00:13:07.065 --> 00:13:11.725\nNow when you issue a command to\na SQL server, it's called a query.\n\n252\n00:13:11.725 --> 00:13:12.725\nSo I just ran a query.\n\n253\n00:13:12.725 --> 00:13:15.105\nNow if you think about a query,\nwhat is that?\n\n254\n00:13:15.105 --> 00:13:16.370\nIt's a question.\n\n255\n00:13:16.370 --> 00:13:17.900\nI didn't give it a question,\nI gave it a command.\n\n256\n00:13:17.900 --> 00:13:19.800\nI said do this.\n\n257\n00:13:19.800 --> 00:13:21.460\nBut it's still called a query.\n\n258\n00:13:21.460 --> 00:13:24.900\nSo I told it to delete the database,\nit did it, and\n\n259\n00:13:24.900 --> 00:13:26.800\nit's telling me 0 rows affected.\n\n260\n00:13:26.800 --> 00:13:28.310\nWhat's that all about?\n\n261\n00:13:28.310 --> 00:13:31.130\nWell, normally when we're working\nwith rows inside of a table,\n\n262\n00:13:31.130 --> 00:13:34.100\nwe're editing values, adding data to\na table, and so there's a certain\n\n263\n00:13:34.100 --> 00:13:37.300\namount of rows that we affect, and so\nthat's why it returns that information.\n\n264\n00:13:37.300 --> 00:13:39.980\nBut in this case I modified\na database as a whole.\n\n265\n00:13:39.980 --> 00:13:43.230\nSo no rows were involved,\nit was a whole database, and so\n\n266\n00:13:43.230 --> 00:13:45.000\nthis isn't really meaningful to me.\n\n267\n00:13:45.000 --> 00:13:48.130\nBut Query OK let's me know\nit completed successfully.\n\n268\n00:13:48.130 --> 00:13:51.360\nAnd zero seconds,\nthat's how fast it ran, pretty fast.\n\n269\n00:13:52.510 --> 00:13:55.050\nI don't think we can get faster\nthan zero seconds can we?\n\n270\n00:13:55.050 --> 00:13:55.890\n>> I don't believe so.\n\n271\n00:13:55.890 --> 00:13:57.680\nThat's a physical impossibility [LAUGH].\n\n272\n00:13:57.680 --> 00:13:59.070\n>> Not with current science.\n\n273\n00:13:59.070 --> 00:14:01.220\nAll right, so if I do a show database,\n\n274\n00:14:01.220 --> 00:14:04.680\nI'll do it lowercase here just\nto kinda prove that it'll run.\n\n275\n00:14:04.680 --> 00:14:07.100\nThere we go, I see my databases and\nthe test database is gone.\n\n276\n00:14:08.120 --> 00:14:12.535\nAnd if I wanna create a new database\nI can just say CREATE DATABASE and\n\n277\n00:14:12.535 --> 00:14:13.045\nI can give it a name.\n\n278\n00:14:13.045 --> 00:14:15.115\nI'm gonna create a database for\nmy company.\n\n279\n00:14:15.115 --> 00:14:19.215\nSo I'm gonna create a company database,\nand if I do a show databases, there it is.\n\n280\n00:14:19.215 --> 00:14:20.265\nI now have a database called company.\n\n281\n00:14:21.445 --> 00:14:25.895\nNow all a database is, at the end of\nthe day, is a collection of tables.\n\n282\n00:14:25.895 --> 00:14:30.697\nIf you've ever used like a spreadsheet\nprogram like Microsoft Excel or\n\n283\n00:14:30.697 --> 00:14:34.650\nOpen Office Sheets, or\nwhatever they call theirs.\n\n284\n00:14:34.650 --> 00:14:39.040\nIf you ever use one of those software\nprograms, they are tables, right?\n\n285\n00:14:39.040 --> 00:14:41.430\nYou have just a bunch of cells and\nyou type in your data and that's it.\n\n286\n00:14:41.430 --> 00:14:42.840\nThat's what's in a database.\n\n287\n00:14:42.840 --> 00:14:45.867\nYou might have more than one of those\ntables or you might only have one.\n\n288\n00:14:45.867 --> 00:14:48.330\nBut that's all a database\nis at the end of the day.\n\n289\n00:14:48.330 --> 00:14:51.560\nSo when we create a database,\nit's not terribly useful\n\n290\n00:14:51.560 --> 00:14:55.720\nuntil we have some data in it, and\nwe do that by creating some tables.\n\n291\n00:14:56.780 --> 00:15:00.440\nNow if we're gonna start issuing commands,\nthe default is\n\n292\n00:15:00.440 --> 00:15:04.340\nall of my commands are being run against\nthis database right here, mysql.\n\n293\n00:15:04.340 --> 00:15:06.540\nI'm creating databases,\nremoving databases,\n\n294\n00:15:06.540 --> 00:15:10.840\ndoing server-level stuff,\nwhich is done against the mysql database.\n\n295\n00:15:10.840 --> 00:15:14.025\nBut if I want to create a table\ninside of my company database,\n\n296\n00:15:14.025 --> 00:15:17.530\nI have to tell it that my commands\nare gonna be issued against that.\n\n297\n00:15:17.530 --> 00:15:20.670\nSo I'm gonna say USE Company.\n\n298\n00:15:22.055 --> 00:15:24.485\nAnd now see how it says Database changed?\n\n299\n00:15:24.485 --> 00:15:27.595\nIt knows that every command I'm about\nto issue is going to be issued against\n\n300\n00:15:27.595 --> 00:15:31.505\nthe company database and\nnot against the server as a whole.\n\n301\n00:15:31.505 --> 00:15:34.215\nAnd from here I can do things\nlike creating a table.\n\n302\n00:15:34.215 --> 00:15:38.275\nNow creating a table is\na little bit difficult, so\n\n303\n00:15:38.275 --> 00:15:42.560\nI've actually got some commands I'm gonna\npaste in here cuz I don't want you guys to\n\n304\n00:15:42.560 --> 00:15:45.040\nhave to sit here and\nsuffer through me typing these.\n\n305\n00:15:45.040 --> 00:15:47.580\nBut let me just bring it up here so\nyou guys can see.\n\n306\n00:15:47.580 --> 00:15:51.020\nI'm starting here with\nCREATE TABLE employees.\n\n307\n00:15:51.020 --> 00:15:53.266\nSo I'm creating a table called employees.\n\n308\n00:15:53.266 --> 00:15:57.680\nAnd in there, in that table, I want\neach row to represent an employee, so\n\n309\n00:15:57.680 --> 00:16:01.328\nwhen I hire somebody, I put a row in and\nI have all their data.\n\n310\n00:16:01.328 --> 00:16:03.545\nNow what's the data I need for\nan employee?\n\n311\n00:16:03.545 --> 00:16:05.468\nI might want to have an ID number.\n\n312\n00:16:05.468 --> 00:16:08.527\nRight?\nEvery employee has an id number, right?\n\n313\n00:16:08.527 --> 00:16:12.070\nBut that id number is special,\nit needs to be unique.\n\n314\n00:16:12.070 --> 00:16:14.965\nIf Daniel is employee number one and\nI'm employee number two,\n\n315\n00:16:14.965 --> 00:16:17.930\nI don't wanna hire somebody and\nmake them employee number two also.\n\n316\n00:16:17.930 --> 00:16:19.720\nI don't wanna have duplicates.\n\n317\n00:16:19.720 --> 00:16:23.079\nSo I created an ID column\nthat's an integer.\n\n318\n00:16:23.079 --> 00:16:24.066\nIt's a number, right?\n\n319\n00:16:24.066 --> 00:16:26.619\nYou have to tell SQL or\nMySQL what data type it is, and\n\n320\n00:16:26.619 --> 00:16:28.840\nthe data type here is integer.\n\n321\n00:16:28.840 --> 00:16:30.378\nAnd then I'm saying NOT NULL.\n\n322\n00:16:30.378 --> 00:16:31.850\nIt can't be empty.\n\n323\n00:16:31.850 --> 00:16:33.110\nIt has to have a value.\n\n324\n00:16:33.110 --> 00:16:34.540\nThis is their employee ID.\n\n325\n00:16:34.540 --> 00:16:36.520\nEvery employee has to have one.\n\n326\n00:16:36.520 --> 00:16:39.160\nAnd then I'm saying AUTO_INCREMENT.\n\n327\n00:16:39.160 --> 00:16:43.190\nIn other words, if the last\nperson was employee number 500,\n\n328\n00:16:43.190 --> 00:16:44.350\nthe next person's gonna be 501.\n\n329\n00:16:44.350 --> 00:16:46.650\nWe auto increment up to the next value.\n\n330\n00:16:46.650 --> 00:16:48.600\nAnd then PRIMARY KEY.\n\n331\n00:16:48.600 --> 00:16:50.870\nIt has to be unique, right?\n\n332\n00:16:50.870 --> 00:16:53.970\nI can't have two people with the same ID.\n\n333\n00:16:53.970 --> 00:16:57.540\nNow, you might say if\nit's auto incrementing,\n\n334\n00:16:57.540 --> 00:16:59.410\ndoesn't that insure it's unique?\n\n335\n00:16:59.410 --> 00:17:03.240\nWell, it does when it's created, but\nI can always come back and edit it and\n\n336\n00:17:03.240 --> 00:17:04.420\nchange that number after the fact.\n\n337\n00:17:04.420 --> 00:17:06.860\nAuto increment just takes effect\nwhen you create a new record.\n\n338\n00:17:06.860 --> 00:17:09.570\nSo primary key enforces it after the fact.\n\n339\n00:17:09.570 --> 00:17:12.330\nWe will never have two\nemployees with the same ID.\n\n340\n00:17:12.330 --> 00:17:16.480\nThat's a lot for\njust one column in my spreadsheet.\n\n341\n00:17:16.480 --> 00:17:18.700\nRight?\nThis first column employee ID.\n\n342\n00:17:18.700 --> 00:17:20.630\nWell then I've got first name.\n\n343\n00:17:20.630 --> 00:17:23.300\nAnd first name is a lot more simple.\n\n344\n00:17:23.300 --> 00:17:25.470\nI could have two employees named John.\n\n345\n00:17:25.470 --> 00:17:29.050\nSo I don't need to make it\na not auto increment and\n\n346\n00:17:29.050 --> 00:17:31.770\nI don't have to make it unique,\nI don't have to worry about it being null.\n\n347\n00:17:31.770 --> 00:17:33.450\nI can have an employee with no first name,\nwhat do I care?\n\n348\n00:17:33.450 --> 00:17:35.831\nThey have an ID, that's all I need, right?\n\n349\n00:17:35.831 --> 00:17:39.611\nSo I'm saying first name,\nvariable character 50.\n\n350\n00:17:39.611 --> 00:17:44.946\nThat means the first name can be\nany number of characters up to 50.\n\n351\n00:17:44.946 --> 00:17:47.613\nNow, you might ask yourself,\nwhy set a maximum?\n\n352\n00:17:47.613 --> 00:17:49.010\nWhy not make it 5,000?\n\n353\n00:17:49.010 --> 00:17:50.139\nWhy not make it infinite?\n\n354\n00:17:50.139 --> 00:17:54.559\nWell, your SQL database is gonna optimize\nperformance based on storage, and so\n\n355\n00:17:54.559 --> 00:17:59.109\nwhen it has a column like this that could\nbe variable lengths, it needs no maximum,\n\n356\n00:17:59.109 --> 00:18:02.955\nso it can plan out how to store that\non the hard drive more efficiently.\n\n357\n00:18:02.955 --> 00:18:07.539\nWhat you don't want is to have\na person whose first name,\n\n358\n00:18:07.539 --> 00:18:10.412\nmaybe I put them in as Jess, right?\n\n359\n00:18:10.412 --> 00:18:11.921\nJ-E-S-S.\n\n360\n00:18:11.921 --> 00:18:14.450\nAnd it's only four characters.\n\n361\n00:18:14.450 --> 00:18:17.570\nAnd so it stores it in a place on the hard\ndrive that only has enough room for\n\n362\n00:18:17.570 --> 00:18:18.900\nfour characters.\n\n363\n00:18:18.900 --> 00:18:22.470\nAnd then I found out that employee's\nfull legal name is Jessia and\n\n364\n00:18:22.470 --> 00:18:24.380\nI'm like well crud,\nlet me go edit that, right?\n\n365\n00:18:24.380 --> 00:18:26.180\nAnd add in to Jessia.\n\n366\n00:18:26.180 --> 00:18:29.480\nWell, now that record won't fit on\nthe hard drive where it was and\n\n367\n00:18:29.480 --> 00:18:31.700\nit's gonna move that record and\nstore it somewhere else and\n\n368\n00:18:31.700 --> 00:18:33.930\nmy database becomes fragmented, right?\n\n369\n00:18:33.930 --> 00:18:37.240\nNow, that can be good in some scenarios,\nbut it's bad in a lot of scenarios.\n\n370\n00:18:37.240 --> 00:18:38.310\nAnd so we don't want that.\n\n371\n00:18:38.310 --> 00:18:41.230\nSo by letting it know the maximum\ncharacters, it can plan for\n\n372\n00:18:41.230 --> 00:18:44.120\nthat better and say,\nlet me put this in a place where I\n\n373\n00:18:44.120 --> 00:18:46.420\nhave a little bit of expansion\nroom if it's available, right?\n\n374\n00:18:47.530 --> 00:18:50.014\nI did the same thing with last name,\nI set that to variable character 50.\n\n375\n00:18:50.014 --> 00:18:52.960\nAnd then I created a department\nwhich I just made an integer.\n\n376\n00:18:52.960 --> 00:18:56.482\nI might have a sales department, marketing\nand so on, each one has a number that\n\n377\n00:18:56.482 --> 00:18:59.640\nidentifies them and so\nthat's where I flag that as an integer.\n\n378\n00:18:59.640 --> 00:19:01.330\nSo that created an empty table.\n\n379\n00:19:02.370 --> 00:19:07.750\nAnd then I put data into it, you use\nthe INSERT command to add new records.\n\n380\n00:19:07.750 --> 00:19:11.400\nI'm saying,\nINSERT INTO the employees table, and\n\n381\n00:19:11.400 --> 00:19:13.860\nthen I'm gonna provide\nit to some employees.\n\n382\n00:19:13.860 --> 00:19:15.860\nAnd you start by telling it the format.\n\n383\n00:19:15.860 --> 00:19:18.530\nI'm gonna give firstname,\nlastname, department.\n\n384\n00:19:18.530 --> 00:19:20.310\nNotice I'm leaving out ID.\n\n385\n00:19:20.310 --> 00:19:23.420\nID will automatically generate, cuz we\nput that AUTO_INCREMENT on there, so\n\n386\n00:19:23.420 --> 00:19:25.160\nit's gonna go up on its own.\n\n387\n00:19:25.160 --> 00:19:28.859\nAnd then for the values, I'm creating\na user Bob Smith whose gonna work in\n\n388\n00:19:28.859 --> 00:19:32.211\ndepartment one, and John Doe whose\ngonna work in department two.\n\n389\n00:19:32.211 --> 00:19:35.407\nAnd good ol'' Alan Johnson\nhere in department one,\n\n390\n00:19:35.407 --> 00:19:37.830\nAlice Smith in department two, right?\n\n391\n00:19:37.830 --> 00:19:39.766\nSo I'm creating four employees, and\n\n392\n00:19:39.766 --> 00:19:42.252\nright here is the first\ntime I see this be useful.\n\n393\n00:19:42.252 --> 00:19:44.052\nFour rows affected, right?\n\n394\n00:19:44.052 --> 00:19:48.057\nI know that I've created four records and\nthat there were no duplicates,\n\n395\n00:19:48.057 --> 00:19:50.640\nno warnings, it was a healthy import.\n\n396\n00:19:50.640 --> 00:19:52.410\nI should now have four users.\n\n397\n00:19:52.410 --> 00:19:55.050\nSo now I have a database called company.\n\n398\n00:19:55.050 --> 00:19:57.970\nInside of it I have\na table called employees.\n\n399\n00:19:57.970 --> 00:20:02.610\nAnd in that table, I've got four columns\nof information about each employee and\n\n400\n00:20:02.610 --> 00:20:04.920\nI've got four employees stored in there.\n\n401\n00:20:04.920 --> 00:20:07.760\nOnce it's there, what good is it?\n\n402\n00:20:07.760 --> 00:20:08.270\nIt's no good.\n\n403\n00:20:08.270 --> 00:20:09.530\nIt's no good to us at all.\n\n404\n00:20:09.530 --> 00:20:11.330\nUnless we can retrieve it, right?\n\n405\n00:20:11.330 --> 00:20:12.680\nWe need to give it that data.\n\n406\n00:20:12.680 --> 00:20:15.860\nShow me all of the employees\nin department two.\n\n407\n00:20:15.860 --> 00:20:18.700\nShow me all of the employees\nwhose last name starts with A.\n\n408\n00:20:18.700 --> 00:20:20.250\nShow me all my employees, right?\n\n409\n00:20:20.250 --> 00:20:21.690\nThat's what a database lets us do.\n\n410\n00:20:21.690 --> 00:20:23.290\nWe can get the information we need.\n\n411\n00:20:23.290 --> 00:20:27.185\nWe can customize it and get exactly\nwhat we want in the format that we want.\n\n412\n00:20:27.185 --> 00:20:28.280\nRight?\n\n413\n00:20:28.280 --> 00:20:33.020\nAnd that leads us to the most\nimportant command to learn in SQL,\n\n414\n00:20:33.020 --> 00:20:34.870\nwhich is the SelectCommand.\n\n415\n00:20:34.870 --> 00:20:37.910\nSelect is how you get\ndata out of the database.\n\n416\n00:20:37.910 --> 00:20:43.500\nSo you put data in there, to make use of\nit, we need to get it back out, right?\n\n417\n00:20:43.500 --> 00:20:48.374\nThe easiest form of SelectCommand\nis you can say SELECT *,\n\n418\n00:20:48.374 --> 00:20:54.140\nin other words get everything\nSELECT * FROM, and then a table.\n\n419\n00:20:54.140 --> 00:20:57.270\nSo I'll say get everything\nfrom the employees table.\n\n420\n00:20:57.270 --> 00:20:59.770\nSELECT * FROM employees.\n\n421\n00:20:59.770 --> 00:21:03.860\nAnd when I run that, it's gonna grab\nthat whole table, and now I can see it.\n\n422\n00:21:03.860 --> 00:21:05.370\nI've got an ID column.\n\n423\n00:21:05.370 --> 00:21:08.690\nIt started with one, and\nit auto incremented up to four.\n\n424\n00:21:08.690 --> 00:21:11.300\nI've got a first name column,\na last name column, and\n\n425\n00:21:11.300 --> 00:21:13.030\nthe department, there it all is.\n\n426\n00:21:13.030 --> 00:21:13.970\nThat's what's in the table.\n\n427\n00:21:13.970 --> 00:21:15.560\nI see the whole thing.\n\n428\n00:21:16.880 --> 00:21:21.250\nBut the real power of the select statement\nis where we customize it, right?\n\n429\n00:21:21.250 --> 00:21:22.930\nWe can search for all sorts of things.\n\n430\n00:21:22.930 --> 00:21:25.530\nThink about like when you\ngo to Amazon's web page.\n\n431\n00:21:25.530 --> 00:21:26.730\nAnd you search for something, right?\n\n432\n00:21:26.730 --> 00:21:27.720\nYou search for a product.\n\n433\n00:21:27.720 --> 00:21:30.080\nI'm gonna search for a new laptop.\n\n434\n00:21:30.080 --> 00:21:32.460\nWell, they've got a hundred departments.\n\n435\n00:21:32.460 --> 00:21:35.850\nAnd when you do your search, it can\nsearch against all hundred departments or\n\n436\n00:21:35.850 --> 00:21:38.530\nyou can filter down and say,\njust search electronics.\n\n437\n00:21:38.530 --> 00:21:41.680\nWhat you're doing is you're modifying\na select query on the backend.\n\n438\n00:21:41.680 --> 00:21:45.700\nYou're not just selecting values where the\nname includes laptop in every department,\n\n439\n00:21:45.700 --> 00:21:48.630\nyou're saying where the department\nequals a certain number.\n\n440\n00:21:48.630 --> 00:21:52.810\nAnd that filters the results, makes the\nquery run better, return less data, and\n\n441\n00:21:52.810 --> 00:21:54.320\ngives the user the data they want.\n\n442\n00:21:54.320 --> 00:21:55.900\nThat's the power of a database.\n\n443\n00:21:55.900 --> 00:21:59.540\nSo the select statement I ran,\nthat's not terribly efficient, right?\n\n444\n00:21:59.540 --> 00:22:02.150\nBut if I just want people\nin department two,\n\n445\n00:22:02.150 --> 00:22:04.372\nI can take that query and I can add to it.\n\n446\n00:22:04.372 --> 00:22:09.550\nSELECT *, give me everything\nFROM employees WHERE and\n\n447\n00:22:09.550 --> 00:22:10.830\nthen I can start to limit this down.\n\n448\n00:22:10.830 --> 00:22:18.016\nAnd I can say something like,\ndepartment is LIKE 1.\n\n449\n00:22:18.016 --> 00:22:18.632\nAll right?\n\n450\n00:22:18.632 --> 00:22:21.860\nSo if the department equals one, right?\n\n451\n00:22:21.860 --> 00:22:25.208\nAnd not the LIKE command is kind of\na funny one, because when you say LIKE it\n\n452\n00:22:25.208 --> 00:22:29.120\ncan actually equal other things,\nI'll show you another example in a second.\n\n453\n00:22:29.120 --> 00:22:31.914\nBut when I run that, so\nWHERE the department is LIKE 1,\n\n454\n00:22:31.914 --> 00:22:34.120\nit's giving me Bob Smith and Alan Johnson.\n\n455\n00:22:34.120 --> 00:22:37.470\nIt's leaving off John Doe and\nAlice Smith cuz they're in department two.\n\n456\n00:22:37.470 --> 00:22:39.140\nI'm getting that filtered data back.\n\n457\n00:22:40.390 --> 00:22:44.260\nNow LIKE, you can actually use it to\nkinda tailor things a bit differently.\n\n458\n00:22:44.260 --> 00:22:49.905\nMaybe I want people where their last\nname starts with the letter S, right?\n\n459\n00:22:49.905 --> 00:22:55.757\nSo I might say, WHERE lastname is LIKE %S.\n\n460\n00:22:55.757 --> 00:22:56.314\nAll right?\n\n461\n00:22:56.314 --> 00:23:01.168\nThat percent I'm basically saying that the\nname, oh wait I got it backwards, shoot.\n\n462\n00:23:01.168 --> 00:23:02.863\nI'm doing it the Linux way.\n\n463\n00:23:02.863 --> 00:23:04.965\nThere, the SQL way, S*.\n\n464\n00:23:04.965 --> 00:23:08.023\nSo I'm saying where the name\nstarts with the letter S and\n\n465\n00:23:08.023 --> 00:23:11.224\nis followed by anything else,\nthat % is like a wildcard.\n\n466\n00:23:11.224 --> 00:23:11.850\nOkay?\n\n467\n00:23:11.850 --> 00:23:14.745\nSo just give me the people with\nthe last name starts with S and,\n\n468\n00:23:14.745 --> 00:23:16.480\noh did I have it right the first time?\n\n469\n00:23:16.480 --> 00:23:17.680\nLet's see.\n\n470\n00:23:17.680 --> 00:23:21.045\nLast name, LIKE oh,\nI forgot something important.\n\n471\n00:23:21.045 --> 00:23:24.500\nSQL is very finicky about the syntax and\n\n472\n00:23:24.500 --> 00:23:28.790\nwhen I do this S% like isn't expecting\nthat percent sign to be there.\n\n473\n00:23:28.790 --> 00:23:33.620\nSo I actually need to put that inside\nof some single quotes there, right?\n\n474\n00:23:33.620 --> 00:23:35.880\nTo make it happy and there we go.\n\n475\n00:23:35.880 --> 00:23:37.580\nNow it's gonna run and\nit's gonna handle that.\n\n476\n00:23:37.580 --> 00:23:39.680\nIt was interpreting the percent\nsign was the problem there.\n\n477\n00:23:39.680 --> 00:23:42.170\nSo putting it in those single\nquotes stops that from happening.\n\n478\n00:23:42.170 --> 00:23:44.160\nAnd now I get Bob Smith and\n\n479\n00:23:44.160 --> 00:23:49.170\nAlice Smith, just the two people whose\nlast name started with S, right?\n\n480\n00:23:49.170 --> 00:23:52.429\nSo pretty nice way to filter that,\nget just the data we want and\n\n481\n00:23:52.429 --> 00:23:53.752\nstart to do work with it.\n\n482\n00:23:53.752 --> 00:23:57.828\nNow each time I've done this,\nI've done select star, right?\n\n483\n00:23:57.828 --> 00:23:59.414\nI've selected everything.\n\n484\n00:23:59.414 --> 00:24:03.981\nMaybe I wanna filter that down, maybe I\njust want the firstname and lastname.\n\n485\n00:24:03.981 --> 00:24:09.353\nSo, I can get rid of that * and\nI can say firstname, lastname.\n\n486\n00:24:09.353 --> 00:24:12.318\nRight, so\nnow I'm just getting the first name and\n\n487\n00:24:12.318 --> 00:24:17.500\nlast name from the employee's table\nwhere the last name starts with that S.\n\n488\n00:24:17.500 --> 00:24:18.110\nRight?\n\n489\n00:24:18.110 --> 00:24:21.508\nAnd there we go, no I don't get those\nother columns so you can filter that, too.\n\n490\n00:24:21.508 --> 00:24:26.537\nAnd you can even filter on\na column that you don't return, so\n\n491\n00:24:26.537 --> 00:24:33.460\nmaybe I'm gonna change this and I'll say\nwhere the department Is like one, okay?\n\n492\n00:24:33.460 --> 00:24:37.380\nNow when I run that, so my heads not\non top of it now, you can see it.\n\n493\n00:24:37.380 --> 00:24:39.740\nWell I'm saying where that\ndepartment is like one,\n\n494\n00:24:39.740 --> 00:24:43.910\nnow I'm not selecting the department but\nit still exists.\n\n495\n00:24:43.910 --> 00:24:46.320\nI can still query against it and\nit returns something else.\n\n496\n00:24:46.320 --> 00:24:49.060\nSo I get Bob and Alan,\nwho are in department one, but\n\n497\n00:24:49.060 --> 00:24:50.310\ni don't have that column.\n\n498\n00:24:50.310 --> 00:24:53.190\nThat column's not useful to me,\ncuz I did where they were like one,\n\n499\n00:24:53.190 --> 00:24:56.130\nI already know that it's gonna be one,\nwhat do I need to see a column for?\n\n500\n00:24:56.130 --> 00:24:56.680\nRight?\n\n501\n00:24:56.680 --> 00:24:59.618\nSo again, customizing that data\nthat we get back from the system.\n\n502\n00:25:01.149 --> 00:25:02.150\nAll right.\n\n503\n00:25:02.150 --> 00:25:04.700\nSo those are some examples\nof how we can do this.\n\n504\n00:25:04.700 --> 00:25:08.350\nNow you can get really, really fancy and\nadvanced with this stuff.\n\n505\n00:25:08.350 --> 00:25:13.710\nSome other examples like, here let me,\nI've got a different example here for\n\n506\n00:25:13.710 --> 00:25:19.260\na departments table, and let me just jump\nin here and I'll just paste that in.\n\n507\n00:25:20.390 --> 00:25:21.080\nThere we go.\n\n508\n00:25:21.080 --> 00:25:25.538\nSo I just created another table called\ndepartments and if I do a select star from\n\n509\n00:25:25.538 --> 00:25:30.325\ndepartments, whoops, forgot my semicolon.\n\n510\n00:25:30.325 --> 00:25:31.445\nI just created marketing and sales.\n\n511\n00:25:31.445 --> 00:25:34.225\nI'm giving a name to the departments,\nright.\n\n512\n00:25:34.225 --> 00:25:37.175\nI said somebody was in department one,\nsomebody was in department two,\n\n513\n00:25:37.175 --> 00:25:38.085\nwhat are those.\n\n514\n00:25:38.085 --> 00:25:40.155\nWell this table has the mapping.\n\n515\n00:25:40.155 --> 00:25:42.895\nIt maps one to marketing and two to sales.\n\n516\n00:25:44.115 --> 00:25:47.715\nI can then take data\nfrom the two tables and\n\n517\n00:25:47.715 --> 00:25:51.410\ncombine it to create one\nsuper set of data, right.\n\n518\n00:25:51.410 --> 00:25:53.120\nAnd that's called doing a join.\n\n519\n00:25:53.120 --> 00:25:54.210\nAnd so.\n\n520\n00:25:54.210 --> 00:25:56.260\nDo I not actually have a?\n\n521\n00:25:56.260 --> 00:25:57.890\nI thought I wrote a?\n\n522\n00:25:57.890 --> 00:25:58.955\nOh, this is my join, here.\n\n523\n00:25:58.955 --> 00:26:01.890\n[LAUGH] I thought I'd written\na join before the show.\n\n524\n00:26:01.890 --> 00:26:04.090\nSo here, I'm going to paste this one in.\n\n525\n00:26:04.090 --> 00:26:06.174\nAnd let me show you what it's doing.\n\n526\n00:26:06.174 --> 00:26:13.410\nI'm selecting employees.firstname,\nemployees.lastname, and departments.name.\n\n527\n00:26:13.410 --> 00:26:17.130\nNotice the dots there,\nI'm specifying a table in the column.\n\n528\n00:26:17.130 --> 00:26:20.070\nSo I'm getting first name and\nlast name from employees, and\n\n529\n00:26:20.070 --> 00:26:23.090\nI'm getting the name from departments.\n\n530\n00:26:23.090 --> 00:26:27.580\nAnd then I'm saying pull that from\nemployees and join it to departments on.\n\n531\n00:26:27.580 --> 00:26:30.200\nAnd I'm saying that in\nthe employees table,\n\n532\n00:26:30.200 --> 00:26:35.350\nthe department column equals the ID\ncolumn in the departments table.\n\n533\n00:26:35.350 --> 00:26:40.430\nSo it's combining that data and\nI end up with a table like this.\n\n534\n00:26:40.430 --> 00:26:45.000\nSo now I can see Bob Smith isn't just in\ndepartment one, Bob Smith is in Marketing.\n\n535\n00:26:45.000 --> 00:26:46.730\nAnd John Doe is in Sales.\n\n536\n00:26:46.730 --> 00:26:50.950\nWe're combining that data in a join\nto create a table that doesn't exist.\n\n537\n00:26:50.950 --> 00:26:54.330\nTo create a table that's more meaningful\nto us in this particular scenario.\n\n538\n00:26:54.330 --> 00:26:58.870\nThat's how customizable this information\nis and that's why SQL is so powerful.\n\n539\n00:26:58.870 --> 00:27:02.090\n>> Well, Don, it seems like, basically,\nwhat we're doing here with this database\n\n540\n00:27:02.090 --> 00:27:05.680\nbusiness is saying, I got a bunch of\ndata and I just need to organize it.\n\n541\n00:27:05.680 --> 00:27:10.650\nAnd if you can learn the SQL language,\nthe syntax that it uses,\n\n542\n00:27:10.650 --> 00:27:14.590\nyou can do that pretty effectively, and\nthen call that data as you need it.\n\n543\n00:27:14.590 --> 00:27:15.160\nVery helpful.\n\n544\n00:27:15.160 --> 00:27:17.650\nI think I already know what I'm going\nto do with my first SQL database.\n\n545\n00:27:17.650 --> 00:27:22.330\nI'm going to arrange all of my movies into\n[LAUGH] by name, and genre, and all that,\n\n546\n00:27:22.330 --> 00:27:24.210\nand that could be a very handy thing for\nmyself.\n\n547\n00:27:24.210 --> 00:27:25.310\n>> Absolutely.\n\n548\n00:27:25.310 --> 00:27:28.820\nLet me show you guys one more thing and\nthen we'll wrap up our SQL lesson here.\n\n549\n00:27:28.820 --> 00:27:32.340\nI created those records,\nwhat if I need to change one?\n\n550\n00:27:32.340 --> 00:27:32.950\nOkay?\n\n551\n00:27:32.950 --> 00:27:37.389\nSo, for example, if I do select star\n\n552\n00:27:37.389 --> 00:27:41.845\nfrom Employees where ID equals one.\n\n553\n00:27:41.845 --> 00:27:43.315\nOkay, or here, we'll do ID number four.\n\n554\n00:27:43.315 --> 00:27:45.655\nWe'll do the last one that I made.\n\n555\n00:27:45.655 --> 00:27:47.725\nI didn't use the like command here,\nI used equals and\n\n556\n00:27:47.725 --> 00:27:50.245\nequals is actually a more efficient query,\nso when you're searching for\n\n557\n00:27:50.245 --> 00:27:52.245\nsomething in particular\nequals works a little better.\n\n558\n00:27:52.245 --> 00:27:56.095\nSo, select star from employees where\nid equals four, I can see Alice Smith.\n\n559\n00:27:56.095 --> 00:27:59.105\nAnd see how Alice is in department two?\n\n560\n00:27:59.105 --> 00:28:01.850\nMaybe I want to change\nher to department 1,\n\n561\n00:28:01.850 --> 00:28:04.570\nall right, I wanna move her\nover to the other department.\n\n562\n00:28:04.570 --> 00:28:08.970\nWell what I can do is I can\ndo an update statement.\n\n563\n00:28:08.970 --> 00:28:12.950\nAnd what I'm doing here is I'm saying\nupdate the employees table and\n\n564\n00:28:12.950 --> 00:28:15.784\nI wanna set department equals one.\n\n565\n00:28:15.784 --> 00:28:18.998\nAnd if I were to stop right there it\nwould set everybody to department one.\n\n566\n00:28:18.998 --> 00:28:22.411\nAnd so\nthen I say where the ID equals four.\n\n567\n00:28:22.411 --> 00:28:23.501\nNow who is ID four?\n\n568\n00:28:23.501 --> 00:28:25.200\nAlice Smith.\n\n569\n00:28:25.200 --> 00:28:31.150\nSo I'm just updating Alice's record to\nchange her department from two to one.\n\n570\n00:28:31.150 --> 00:28:35.870\nAnd if I rerun my query, I can see\nthat Alice is now in department one.\n\n571\n00:28:35.870 --> 00:28:38.480\nAnd if I rerun my big\njoin from a minute ago.\n\n572\n00:28:38.480 --> 00:28:39.710\nAnd I rerun that.\n\n573\n00:28:39.710 --> 00:28:42.630\nI can see I now have three\npeople in marketing.\n\n574\n00:28:42.630 --> 00:28:46.100\nSo that update command is\npretty straight forward.\n\n575\n00:28:46.100 --> 00:28:48.070\nAnd it can update more than one row.\n\n576\n00:28:48.070 --> 00:28:53.160\nYou could say where, instead of ID,\nyou could say where last name,\n\n577\n00:28:53.160 --> 00:28:57.900\nlike S%, and it would do everybody\nwhose last name started with S, right?\n\n578\n00:28:57.900 --> 00:29:02.490\nSo you can update tens of thousands\nof rows all in a single command,\n\n579\n00:29:02.490 --> 00:29:04.070\nall very, very quickly.\n\n580\n00:29:04.070 --> 00:29:07.450\nAnd if you're somebody like Amazon,\nthat's pretty important, right?\n\n581\n00:29:07.450 --> 00:29:10.510\nIf they have something that's on sale,\nand they then wanna take it off sale,\n\n582\n00:29:10.510 --> 00:29:13.070\nright, maybe they have a big\nBlack Friday sale, right?\n\n583\n00:29:13.070 --> 00:29:16.770\nAnd a ton of stuff is 30 percent off and\nthe next day the sale is over.\n\n584\n00:29:16.770 --> 00:29:19.400\nThey need to update all this\nstuff to show the sale's over.\n\n585\n00:29:19.400 --> 00:29:22.040\nIf they have thousands and\nthousands of products,\n\n586\n00:29:22.040 --> 00:29:23.840\nthat could take forever doing it by hand.\n\n587\n00:29:23.840 --> 00:29:28.130\nA quick SQL query runs through,\nupdates them, sale is over, right?\n\n588\n00:29:28.130 --> 00:29:30.370\nThat's the kind of power that we\nhave with databases like this.\n\n589\n00:29:31.912 --> 00:29:34.450\nAll right, well, I think that's enough for\nour initial primer.\n\n590\n00:29:34.450 --> 00:29:37.730\nKeep in mind that COMPTIA, they don't\nexpect you to be a database administrator.\n\n591\n00:29:37.730 --> 00:29:40.360\nThey just want you to know\nhow to install SQL server,\n\n592\n00:29:40.360 --> 00:29:43.060\nhow to get it up, and how that functions.\n\n593\n00:29:43.060 --> 00:29:46.160\nHow the database works, how the table\nworks, and how you can quickly and\n\n594\n00:29:46.160 --> 00:29:47.380\neasily put data in there.\n\n595\n00:29:47.380 --> 00:29:48.400\nand get it out, right?\n\n596\n00:29:48.400 --> 00:29:50.700\nSo, I think we've got\na pretty good primer here.\n\n597\n00:29:50.700 --> 00:29:53.550\nIf you want to learn more about\nthe data bases I encourage you to check\n\n598\n00:29:53.550 --> 00:29:57.790\nout Oracle's website and the Maria DB\nwebsite at, I think its tied to the,\n\n599\n00:29:57.790 --> 00:30:00.250\noh no they've got their own site.\n\n600\n00:30:00.250 --> 00:30:01.948\nIts not part of the Apache umbrella.\n\n601\n00:30:01.948 --> 00:30:06.071\nBut you can jump over and check them\nout and they got tons of documentation,\n\n602\n00:30:06.071 --> 00:30:07.550\na lot of efficiencies.\n\n603\n00:30:07.550 --> 00:30:11.000\nYou can learn a lot more about\nprimary keys, foreign keys, indexes,\n\n604\n00:30:11.000 --> 00:30:13.940\nall the stuff that's really important\nif you're gonna use this in production.\n\n605\n00:30:13.940 --> 00:30:17.540\nBut just to get a basic understanding in\nplace, we've kind of seen what we need.\n\n606\n00:30:17.540 --> 00:30:19.680\n>> Yeah, really great stuff and\na lot of cool information,\n\n607\n00:30:19.680 --> 00:30:21.310\nespecially if you're new to this.\n\n608\n00:30:21.310 --> 00:30:24.650\nNot a huge database guy but\nthis is definitely making me want to\n\n609\n00:30:24.650 --> 00:30:29.310\nplay with some, then it never hurts to\nhave another set of skills in the toolbox.\n\n610\n00:30:29.310 --> 00:30:33.080\nSo hopefully you guys will work on that\nand play around with it and get it brushed\n\n611\n00:30:33.080 --> 00:30:36.140\nup and maybe even become a database\nadministrator one day, you never know.\n\n612\n00:30:36.140 --> 00:30:40.080\nBut looks like we've wrapped up another\nreally good episode, signing off for\n\n613\n00:30:40.080 --> 00:30:42.560\nITProTV, I've been your host Daniel Lowry.\n\n614\n00:30:42.560 --> 00:30:43.220\n>> And I'm Don Pezet.\n\n615\n00:30:43.220 --> 00:30:44.539\n>> And we'll see you next time.\n\n616\n00:30:44.539 --> 00:30:50.330\n[MUSIC]\n\n",
          "vimeoId": "131900934"
        },
        {
          "description": null,
          "length": "1349",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-5-printers_and_printing-070615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-5-printers_and_printing-070615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-9-5-printers_and_printing-070615-1-sm.jpg",
          "title": "Printers and Printing",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.877\n[MUSIC]\n\n2\n00:00:10.877 --> 00:00:14.064\nAll right, good morning,\ngood afternoon, and good evening,\n\n3\n00:00:14.064 --> 00:00:16.483\nand welcome back to another\nepisode of ITProTV,\n\n4\n00:00:16.483 --> 00:00:20.390\nI'm your host Don Pezet back again\nwith another episode of Linux plus.\n\n5\n00:00:20.390 --> 00:00:23.450\nDaniel's out sick today so\nI'm taking over the show, solo style.\n\n6\n00:00:23.450 --> 00:00:26.630\nAnd that's pretty cool because today\nwe're gonna be taking a look at\n\n7\n00:00:26.630 --> 00:00:30.610\nprinting inside the Linux world which\nis a pretty neat little system.\n\n8\n00:00:30.610 --> 00:00:33.660\nSomething you are gonna encounter\nsooner or later, believe it or not.\n\n9\n00:00:33.660 --> 00:00:35.425\nNo matter how green and\n\n10\n00:00:35.425 --> 00:00:40.790\ne-document kind of our systems have\ngotten, people still expect to print.\n\n11\n00:00:40.790 --> 00:00:43.640\nI mean, even look at people like me\nwhere sure at home, everything I do\n\n12\n00:00:43.640 --> 00:00:46.900\nis digital but when we do a show,\nI've got my notes on paper right here.\n\n13\n00:00:46.900 --> 00:00:50.780\nSo plenty of people still have a need\nto get what's in their computer out\n\n14\n00:00:50.780 --> 00:00:52.340\non a piece of dead tree from time to time,\n\n15\n00:00:52.340 --> 00:00:55.630\nand that's what I'm gonna show you guys\ntoday, we're gonna kill some trees.\n\n16\n00:00:55.630 --> 00:01:00.690\nSo inside the Linux world, if you had the\nopportunity to work with Linux printing,\n\n17\n00:01:00.690 --> 00:01:04.200\nsay eight or more years ago,\nit was a nightmare.\n\n18\n00:01:04.200 --> 00:01:05.640\nIt was really challenging.\n\n19\n00:01:05.640 --> 00:01:09.870\nThat for a printer to be supported\nunder Linux was kind of a rarity, and\n\n20\n00:01:09.870 --> 00:01:13.560\nto have printer manufacturers actually\ncreate hardware and create drivers and\n\n21\n00:01:13.560 --> 00:01:16.730\nall of that, that worked in the Linux\nworld, it was really, really, rough.\n\n22\n00:01:16.730 --> 00:01:18.580\nAnd then something happened.\n\n23\n00:01:18.580 --> 00:01:24.660\nThat something was that Apple decided\nto switch to using a BSD core for\n\n24\n00:01:24.660 --> 00:01:25.735\ntheir operating system.\n\n25\n00:01:25.735 --> 00:01:28.480\nSo, Mac OS in Mac OS 9 and\n\n26\n00:01:28.480 --> 00:01:32.130\nearlier, can get kinda ran\nApple's own proprietary stuff.\n\n27\n00:01:32.130 --> 00:01:35.473\nAnd then starting with OS X,\nthey ran BSD under the hood.\n\n28\n00:01:35.473 --> 00:01:40.107\nBSD is built on top of Unix,\nLinux which is build on top of Unix.\n\n29\n00:01:40.107 --> 00:01:44.086\nAnd so because Linux and\nMac OS share that kind of common heritage,\n\n30\n00:01:44.086 --> 00:01:47.711\nwhen something's developed for\none, sometimes it can make\n\n31\n00:01:47.711 --> 00:01:52.100\nit's way over to the other and\nprinting is a great example of that.\n\n32\n00:01:52.100 --> 00:01:53.900\nWhen Apple started creating Mac OS X,\n\n33\n00:01:53.900 --> 00:01:59.170\nthey said man, printing is just a mess\nunder Unix, let's create our own system.\n\n34\n00:01:59.170 --> 00:02:02.535\nAnd so they did.\nThey created a system called CUPS,\n\n35\n00:02:02.535 --> 00:02:03.150\nC-U-P-S.\n\n36\n00:02:03.150 --> 00:02:06.960\nAnd it stands for\nthe Common Unix Printing System.\n\n37\n00:02:06.960 --> 00:02:08.940\nAnd Apple dumped a ton of money into it,\nand\n\n38\n00:02:08.940 --> 00:02:12.350\na ton of power because\nthey're a fairly big name.\n\n39\n00:02:12.350 --> 00:02:17.160\nThey got printer manufactures to get on\nboard and they created this common driver\n\n40\n00:02:17.160 --> 00:02:22.310\nformat that can be used across any\nUnix-based system and they released\n\n41\n00:02:22.310 --> 00:02:27.630\nit as open source, and so every major\nLinux distro has picked this up.\n\n42\n00:02:27.630 --> 00:02:32.530\nAnd as a result, printing today under\nLinux is really no big deal at all.\n\n43\n00:02:32.530 --> 00:02:35.790\nIt's pretty much a given that your\nhardware manufacturers are going to have\n\n44\n00:02:35.790 --> 00:02:39.180\nLinux drivers because they're\nmaking them from Mac OS also.\n\n45\n00:02:39.180 --> 00:02:41.050\nAnd it's the same driver.\n\n46\n00:02:41.050 --> 00:02:44.630\nEven though they usually package them in\nseparate files because of the installer,\n\n47\n00:02:44.630 --> 00:02:47.000\nthe driver at the end\nof the day is the same.\n\n48\n00:02:47.000 --> 00:02:51.320\nSo that CUPS printing system is\nreally what makes this easy,\n\n49\n00:02:51.320 --> 00:02:53.760\nwhat makes this work,\nwhat makes this convenient and so\n\n50\n00:02:53.760 --> 00:02:56.340\nI wanna show you guys how to get\nthat enabled on your system.\n\n51\n00:02:56.340 --> 00:02:58.700\nOdds are it probably already is.\n\n52\n00:02:58.700 --> 00:03:00.170\nYou probably don't have\nto enable it at all,\n\n53\n00:03:00.170 --> 00:03:03.040\nunless you did like a minimal\ninstall on your system.\n\n54\n00:03:03.040 --> 00:03:05.570\nAll the desktop and\nserver ones typically have it present,\n\n55\n00:03:05.570 --> 00:03:07.568\nand then you just have to configure it and\nget it going.\n\n56\n00:03:07.568 --> 00:03:10.390\nSo let's jump in there and take a look.\n\n57\n00:03:10.390 --> 00:03:14.239\nI've got a system here I'm running CentOS,\nand it's fired up, and to be honest with\n\n58\n00:03:14.239 --> 00:03:17.947\nyou, I don't really remember whether I\nhave cups installed on this thing or not.\n\n59\n00:03:17.947 --> 00:03:19.672\nSo, we could always\njust try to install it,\n\n60\n00:03:19.672 --> 00:03:21.840\nif it's already there it's\nnot gonna hurt anything.\n\n61\n00:03:21.840 --> 00:03:25.370\nIt is a service, so I could just look\nto see if the service was running.\n\n62\n00:03:25.370 --> 00:03:30.170\nIf I do like a service -- status- all, and\n\n63\n00:03:30.170 --> 00:03:34.735\nI'll just kinda grep that for cups,\nand take a look if we see anything.\n\n64\n00:03:34.735 --> 00:03:40.350\nAnd I'm not root here, so let me\nswitch over to a root shell that I've\n\n65\n00:03:40.350 --> 00:03:44.910\ngot in my other window and we'll get a\nchance to see that a little more clearly.\n\n66\n00:03:44.910 --> 00:03:50.849\nSo I'll just do a service -- status-\nall and we'll search for cups.\n\n67\n00:03:50.849 --> 00:03:53.733\nAll right, so I'm just gonna look and\nsee if we've got it running, and\n\n68\n00:03:53.733 --> 00:03:57.070\nsure enough right there I can see I've\ngot the cups daemon, it's up and running.\n\n69\n00:03:57.070 --> 00:03:59.590\nNow I didn't install that,\nthat was a part of this default.\n\n70\n00:03:59.590 --> 00:04:02.480\nThe installer was just already there,\nand I don't have to sweat it.\n\n71\n00:04:02.480 --> 00:04:07.070\nBut, if you're on one of those dish\nrows where you do need to install it,\n\n72\n00:04:07.070 --> 00:04:09.170\nyou just use your package manager, right?\n\n73\n00:04:09.170 --> 00:04:13.200\nOn a DBN based system like a Boom Tube,\nyou'd use AppGet.\n\n74\n00:04:13.200 --> 00:04:15.630\nOn a Red Hat based system, you'd use Yum.\n\n75\n00:04:15.630 --> 00:04:20.690\nSo for example, this one's Red Hat based,\nso I would say yum install cups, right?\n\n76\n00:04:20.690 --> 00:04:21.750\nAnd it's gonna go and install it.\n\n77\n00:04:21.750 --> 00:04:25.500\nSince I already have it, there's not much\nto do, but, actually looks like I've got\n\n78\n00:04:25.500 --> 00:04:29.500\nsome updates, so doesn't hurt to do some\nupdates, wanna go ahead and apply those.\n\n79\n00:04:29.500 --> 00:04:31.960\nWe'll do the full service\nhere on this show.\n\n80\n00:04:31.960 --> 00:04:35.590\nIf you're doing AppGet,\nit'd just be app- get install cups and\n\n81\n00:04:35.590 --> 00:04:37.330\nthen that would throw it on there too.\n\n82\n00:04:37.330 --> 00:04:41.120\nSo once we've got it,\nnow we're ready to use it.\n\n83\n00:04:41.120 --> 00:04:42.130\nWell, almost.\n\n84\n00:04:42.130 --> 00:04:45.250\nIt is a service, so you need to\nget the service up and running.\n\n85\n00:04:45.250 --> 00:04:49.800\nOn an up-start system,\nyou would say service, cups, start.\n\n86\n00:04:51.160 --> 00:04:59.220\nOn a system B system,\nyou would say systemctl start cups, right?\n\n87\n00:04:59.220 --> 00:05:00.327\nAnd that would start it up.\n\n88\n00:05:00.327 --> 00:05:03.150\nAnd then we need to make sure it runs\nwhen our system boots up too, right?\n\n89\n00:05:03.150 --> 00:05:08.360\nSo on a system B system,\nyou would say systemctl enable cups,\n\n90\n00:05:08.360 --> 00:05:11.120\nand that'll make sure it starts\nevery time your system boots up.\n\n91\n00:05:11.120 --> 00:05:14.351\nBut mine is Upstart,\nI know this is convenient isn't it?\n\n92\n00:05:14.351 --> 00:05:16.400\nHaving like forked systems.\n\n93\n00:05:16.400 --> 00:05:21.560\nSo on mine I'll say, chkconfig cups on,\n\n94\n00:05:21.560 --> 00:05:24.820\nand that's gonna make sure it\nstarts every time my system boots.\n\n95\n00:05:24.820 --> 00:05:27.310\nOn my system it was probably\nalready set that way,\n\n96\n00:05:27.310 --> 00:05:30.040\nthis just makes it where I know for\na fact that it's set that way.\n\n97\n00:05:30.040 --> 00:05:34.550\nSo now, cups is installed,\nit's running and it's ready to rock.\n\n98\n00:05:34.550 --> 00:05:35.630\nI'm ready to print.\n\n99\n00:05:35.630 --> 00:05:37.740\nWell, all my printing tools\nare probably enabled,\n\n100\n00:05:37.740 --> 00:05:42.080\nready to be used, but,\nI kind of don't have any printer set up.\n\n101\n00:05:42.080 --> 00:05:44.110\nAnd so we do need to get a printer set up.\n\n102\n00:05:44.110 --> 00:05:48.470\nNow, remember that I said that it was so\nmuch easier to get drivers these days.\n\n103\n00:05:48.470 --> 00:05:51.270\nIf you wanna get drivers for your\nprinter you can go out to your vendors,\n\n104\n00:05:51.270 --> 00:05:52.860\nfind them and download them.\n\n105\n00:05:52.860 --> 00:05:54.120\nWell, when you download a driver for\n\n106\n00:05:54.120 --> 00:05:57.780\nsomething like Windows, it's normally\npackaged with a bunch of other software.\n\n107\n00:05:57.780 --> 00:06:01.020\nThings like whether it can detect,\nwhether the toner levels are low or\n\n108\n00:06:01.020 --> 00:06:03.260\nif there's a paper jam and\nyou got multiple paper trays and\n\n109\n00:06:03.260 --> 00:06:06.550\nall of sudden the stuff it's got\nthe software that drives it.\n\n110\n00:06:06.550 --> 00:06:10.209\nBut in the units world, we really\njust need a text file that identifies\n\n111\n00:06:10.209 --> 00:06:14.191\nthe functions of that printer and what\nlanguage it wants us to speak to it in.\n\n112\n00:06:14.191 --> 00:06:17.772\nAnd so for that, we need a PPD\nfile which is a printer driver or\n\n113\n00:06:17.772 --> 00:06:22.129\nprinter definition file, and\nthat's what's gonna tell the cups system\n\n114\n00:06:22.129 --> 00:06:25.210\neverything it needs to\nknow about a printer.\n\n115\n00:06:25.210 --> 00:06:25.930\nAll right?\n\n116\n00:06:25.930 --> 00:06:30.830\nApple, they package a bunch of PPDs\nwith their system from the factory, but\n\n117\n00:06:30.830 --> 00:06:33.690\nthat's because Apple doesn't mind doing\nclosed source stuff where they don't\n\n118\n00:06:33.690 --> 00:06:34.980\nreveal the source code.\n\n119\n00:06:34.980 --> 00:06:37.570\nBut most of your Linux\ndistros don't do that.\n\n120\n00:06:37.570 --> 00:06:40.180\nThey don't have a lot of printer drivers\nbuilt into them because a lot of them\n\n121\n00:06:40.180 --> 00:06:42.740\nare closed source and they're copyrighted.\n\n122\n00:06:42.740 --> 00:06:45.060\nSo oftentimes we gotta go\nout to the website and\n\n123\n00:06:45.060 --> 00:06:47.340\nget those printer drivers ourselves.\n\n124\n00:06:47.340 --> 00:06:47.900\nAll right.\n\n125\n00:06:47.900 --> 00:06:51.490\nSo, if you have a printer, like for\nexample, here in the building we've got\n\n126\n00:06:51.490 --> 00:06:56.050\na big Canon printer, so\nI'm gonna go to Canon's website.\n\n127\n00:06:56.050 --> 00:06:59.180\nI'll have to go to Canon USA or\nsomething like that.\n\n128\n00:06:59.180 --> 00:07:00.120\nThere we go.\n\n129\n00:07:00.120 --> 00:07:03.118\nSo, I can go to their website and\nI go and locate that driver, so\n\n130\n00:07:03.118 --> 00:07:06.641\nif I go to support and drivers,\nI can punch in the printer that we've got.\n\n131\n00:07:06.641 --> 00:07:12.474\nAnd this is a pretty big office printer,\nso I'll say that it's office equipment and\n\n132\n00:07:12.474 --> 00:07:16.847\nit is a color image runner,\nadvanced, and it's a C7065.\n\n133\n00:07:16.847 --> 00:07:19.035\nLet's see if we can find this in the list,\nthere it is.\n\n134\n00:07:19.035 --> 00:07:21.306\nAll right, so here's the printer\nthat we have in the office,\n\n135\n00:07:21.306 --> 00:07:23.220\nthat we can print these notes on and\nstuff.\n\n136\n00:07:23.220 --> 00:07:27.750\nAnd if I go to my drivers and software to\ndownload it'll take me to the section and\n\n137\n00:07:27.750 --> 00:07:29.600\nit's gonna be a little Windows and\n\n138\n00:07:29.600 --> 00:07:32.580\nMac centric,\ncuz those are the primary systems.\n\n139\n00:07:32.580 --> 00:07:34.590\nBut you'll see,\ntheir site actually detected that\n\n140\n00:07:34.590 --> 00:07:35.710\nI was running Linux, that's good.\n\n141\n00:07:35.710 --> 00:07:40.569\nAnd if I go under drivers,\nI can see right here the bright Q\n\n142\n00:07:40.569 --> 00:07:44.210\npro Unix/Linux printer driver\nthat we can go and download.\n\n143\n00:07:44.210 --> 00:07:47.130\nAnd it's got where we can\ndownload that and pull it, right?\n\n144\n00:07:47.130 --> 00:07:50.863\nNow if your system has a GUI,\nthis driver will be an installer and\n\n145\n00:07:50.863 --> 00:07:54.960\nit can actually install a lot of\nthe graphics utilities that you need.\n\n146\n00:07:54.960 --> 00:07:58.420\nBut if you're installing this on a server,\nfor example, you might not have a GUI.\n\n147\n00:07:58.420 --> 00:07:59.840\nIt's command line only.\n\n148\n00:07:59.840 --> 00:08:03.600\nAnd in that case, you'll need to\nextract the PPD file out of this.\n\n149\n00:08:03.600 --> 00:08:05.980\nIt's normally just a TAR, GZIP file.\n\n150\n00:08:05.980 --> 00:08:07.950\nSo you can get that PPD file out.\n\n151\n00:08:07.950 --> 00:08:11.270\nBut at the end of the day,\nthat's the only piece that you need.\n\n152\n00:08:11.270 --> 00:08:13.180\nAnd so I've already downloaded\nthis in the background and\n\n153\n00:08:13.180 --> 00:08:16.450\nripped the driver out of it so I'd have\nit, cuz I use it on other servers.\n\n154\n00:08:16.450 --> 00:08:20.440\nSo I'm gonna get that PPD installed on\nhere so we can see that printer and\n\n155\n00:08:20.440 --> 00:08:22.170\nstart to work with it, all right?\n\n156\n00:08:22.170 --> 00:08:26.730\nSo I'm gonna get out of my browser here,\nand we'll jump back over to my shell.\n\n157\n00:08:26.730 --> 00:08:30.680\nNow, to set up a printer,\nwe do need to be an administrator.\n\n158\n00:08:30.680 --> 00:08:33.480\nWe need to have elevated\nprivileges to do that, all right?\n\n159\n00:08:33.480 --> 00:08:37.310\nTo use the printer, you could just\nbe a regular user on the system, but\n\n160\n00:08:37.310 --> 00:08:39.030\nto get it set up we do need\nto be an administrator.\n\n161\n00:08:39.030 --> 00:08:41.740\nSo you'll see I'm at an elevated\nprivilege prompt here.\n\n162\n00:08:41.740 --> 00:08:45.040\nSo I've got my little pound sign that\nlets you guys know that I'm logged in as\n\n163\n00:08:45.040 --> 00:08:46.070\nroot for this one.\n\n164\n00:08:46.070 --> 00:08:49.280\nBut you could do sudo also if\nyou've got permissions for that.\n\n165\n00:08:49.280 --> 00:08:51.000\nAnd now I can add in that printer driver.\n\n166\n00:08:51.000 --> 00:08:53.940\nWell, I've got it on a little server.\n\n167\n00:08:53.940 --> 00:08:54.490\nI've got it here.\n\n168\n00:08:54.490 --> 00:08:59.540\nSo let me just pull that down real quick,\nand we'll get it on to the system.\n\n169\n00:09:00.730 --> 00:09:02.930\nSo I'm just gonna reach out and get that.\n\n170\n00:09:02.930 --> 00:09:07.210\nAnd this is the PPD file that I ripped out\nof that archive, just so we'd have it.\n\n171\n00:09:07.210 --> 00:09:10.150\nFor that printer, it actually shares\na driver with another printer.\n\n172\n00:09:10.150 --> 00:09:15.400\nSo it's gonna be the 7055,\neven though my printer is a 7065.\n\n173\n00:09:15.400 --> 00:09:17.900\nThere we go.\n\n174\n00:09:17.900 --> 00:09:21.380\nAnd so now I've got that PPD\nfile sitting right here.\n\n175\n00:09:21.380 --> 00:09:23.420\nAnd notice how small it is, right?\n\n176\n00:09:23.420 --> 00:09:24.770\nIt's only 134K.\n\n177\n00:09:24.770 --> 00:09:29.480\nIt's amazing these printer drivers, when\nyou strip out all the USB driver junk, all\n\n178\n00:09:29.480 --> 00:09:33.570\nthe graphical user interface junk, all the\nlet's sell you more paper and ink junk.\n\n179\n00:09:33.570 --> 00:09:36.190\nWhen you take all that out,\nthe printer driver, at the end of the day,\n\n180\n00:09:36.190 --> 00:09:38.290\nis really only a couple hundred K tops,\nand\n\n181\n00:09:38.290 --> 00:09:41.640\nit just has the basic information\nyou need to know to print.\n\n182\n00:09:41.640 --> 00:09:44.150\nSo I've got that right there,\nI've got the PPD file.\n\n183\n00:09:44.150 --> 00:09:45.920\nI'm just ready to get it\nloaded in the system.\n\n184\n00:09:47.520 --> 00:09:50.650\nNow, cups, in order for\nit to work with this driver,\n\n185\n00:09:50.650 --> 00:09:52.700\nit needs to be in a particular place.\n\n186\n00:09:52.700 --> 00:09:58.200\nYou got a folder, /etc/cups,\nand if you take a look at that,\n\n187\n00:09:58.200 --> 00:09:59.990\nyou'll see the configuration\nfiles in there.\n\n188\n00:09:59.990 --> 00:10:03.520\nSo here's the cups daemon configuration\nfile right there, and that's for\n\n189\n00:10:03.520 --> 00:10:04.770\nthe service itself.\n\n190\n00:10:04.770 --> 00:10:08.330\nYou don't normally have to mess with\nthe cups daemon, for the most part we just\n\n191\n00:10:08.330 --> 00:10:13.300\npush our drivers into it and it's fine,\nbut it does have a subfolder, ppd, right?\n\n192\n00:10:13.300 --> 00:10:16.880\nAnd if we take a look at that folder,\nit may be empty, or\n\n193\n00:10:16.880 --> 00:10:18.730\nthere may be information in there, and\n\n194\n00:10:18.730 --> 00:10:21.980\nif you look in here you'll see I've\nalready got a few other printers set up.\n\n195\n00:10:21.980 --> 00:10:27.695\nSo there's a Canon MG6200, that's my\nprinter at home, there's Tim Color Laser,\n\n196\n00:10:27.695 --> 00:10:31.900\nthat's Tim's printer over there,\nin his office, it's an HP.\n\n197\n00:10:31.900 --> 00:10:34.040\nSo it's got a few PPDs\nthat it's already loaded.\n\n198\n00:10:34.040 --> 00:10:36.829\nThat's CentOS doing this automatically.\n\n199\n00:10:36.829 --> 00:10:38.974\nIf I had a minimal\ninstall like on a server,\n\n200\n00:10:38.974 --> 00:10:41.310\nthis wouldn't be happening automatically.\n\n201\n00:10:41.310 --> 00:10:46.290\nI wouldn't be seeing any PPDs here, and so\nwhat I need to do is download a PPD, and\n\n202\n00:10:46.290 --> 00:10:49.730\neither copy it here or symlink it.\n\n203\n00:10:49.730 --> 00:10:52.690\nSee how this VMware one is\nactually just a symlink?\n\n204\n00:10:52.690 --> 00:10:53.332\nSo it's symlink and\n\n205\n00:10:53.332 --> 00:10:55.710\nthey've got it actually located\nthere in the VMware tools.\n\n206\n00:10:55.710 --> 00:10:58.810\nWell, if I wanna put this Canon driver\nthat I just downloaded in here,\n\n207\n00:10:58.810 --> 00:11:00.210\nI've got two choices.\n\n208\n00:11:00.210 --> 00:11:02.718\nOne, I can put it in this directory or\ntwo, I can symlink it.\n\n209\n00:11:02.718 --> 00:11:06.620\nIf I symlink it I've gotta be\ncareful about permissions, right?\n\n210\n00:11:06.620 --> 00:11:11.120\nBecause I downloaded this as root, and I\ndownloaded this to root's home directory.\n\n211\n00:11:11.120 --> 00:11:12.670\nWell, the system may or\n\n212\n00:11:12.670 --> 00:11:15.780\nmay not have access to that, depending\non how security is set up on your box.\n\n213\n00:11:15.780 --> 00:11:19.870\nSo it's usually a good idea to go\nahead and copy the PPD right here.\n\n214\n00:11:19.870 --> 00:11:21.590\nSo that's exactly what I'm gonna do.\n\n215\n00:11:21.590 --> 00:11:25.380\nI'm gonna copy that PPD to this folder.\n\n216\n00:11:26.780 --> 00:11:29.870\nAnd then now I can see I've\ngot that Canon one here.\n\n217\n00:11:29.870 --> 00:11:32.460\nAnd it's a good idea to\ndouble-check your permissions and\n\n218\n00:11:32.460 --> 00:11:35.180\nownership to make sure it\nmatches the other PPDs in there.\n\n219\n00:11:35.180 --> 00:11:35.900\nIt should.\n\n220\n00:11:35.900 --> 00:11:38.980\nAnd see how root's the owner and\nthe group, and read-write, and\n\n221\n00:11:38.980 --> 00:11:41.670\nread permissions have\nbeen doled out to people.\n\n222\n00:11:41.670 --> 00:11:44.542\nBut see how there's a group called lp.\n\n223\n00:11:44.542 --> 00:11:45.140\nAll right,\n\n224\n00:11:45.140 --> 00:11:50.890\nthat lp group, lp is the command that\nour end users are going to use to print.\n\n225\n00:11:50.890 --> 00:11:54.780\nAnd lp needs to be able to get to\nthis directory, so it's got read and\n\n226\n00:11:54.780 --> 00:11:56.700\nexecute permissions on the directory.\n\n227\n00:11:56.700 --> 00:11:59.840\nAnd then it's gonna have read\npermissions for the PPD.\n\n228\n00:11:59.840 --> 00:12:00.960\nThat's important.\n\n229\n00:12:00.960 --> 00:12:05.450\nYou don't want your end users to have\nwrite permissions to any kind of a driver.\n\n230\n00:12:05.450 --> 00:12:08.630\nCuz they could modify that PPD and\nput stuff in there you didn't want,\n\n231\n00:12:08.630 --> 00:12:12.500\nand then it would run with elevated\nprivileges, so that would be bad.\n\n232\n00:12:12.500 --> 00:12:16.940\nBut these permissions right here are\nperfect, the lp command will have read and\n\n233\n00:12:16.940 --> 00:12:17.950\nexecute and\n\n234\n00:12:17.950 --> 00:12:21.560\nthen these files they'll have read, that\nworks great they'll be able to get to it.\n\n235\n00:12:21.560 --> 00:12:24.400\nAnd now we just need to tell\nthe system this file exists.\n\n236\n00:12:26.490 --> 00:12:28.384\nAll right, now,\nthe way we tell the file exists,\n\n237\n00:12:28.384 --> 00:12:29.798\nit sort of already knows it, right?\n\n238\n00:12:29.798 --> 00:12:31.370\nIt knows that file is there.\n\n239\n00:12:31.370 --> 00:12:36.010\nBut we have to create a printer\nobject that's then tied to that file.\n\n240\n00:12:36.010 --> 00:12:40.940\nAnd the command to do that is lpadmin,\nI mentioned lp, lp stands for\n\n241\n00:12:40.940 --> 00:12:44.330\nline printer and it's designed to,\nwell, print to line printers.\n\n242\n00:12:44.330 --> 00:12:48.880\nSo if we want to set that up, we use\nthe lpadmin command to define it and\n\n243\n00:12:48.880 --> 00:12:51.600\nthen lp to use it.\n\n244\n00:12:51.600 --> 00:12:54.330\nAll right,.so I'm gonna say lpadmin and\nthen I'm gonna add a printer.\n\n245\n00:12:54.330 --> 00:12:56.780\nI need to tell it what server\nI'm adding the printer to.\n\n246\n00:12:56.780 --> 00:12:59.720\nWell, I'm gonna add it,\ndo -h for the host.\n\n247\n00:12:59.720 --> 00:13:03.680\nI'm gonna add it to, well,\nthis system, localhost, right?\n\n248\n00:13:03.680 --> 00:13:05.310\nYou can install a printer remotely.\n\n249\n00:13:05.310 --> 00:13:08.270\nIs if I have a remote server and\nI'm adding it to that one I can do it.\n\n250\n00:13:08.270 --> 00:13:10.190\nI'm just adding it to this system.\n\n251\n00:13:10.190 --> 00:13:15.570\nAnd then I need to give it a name,\nso I'm gonna call mine a Canon 7065.\n\n252\n00:13:15.570 --> 00:13:19.600\nThen I need to tell it how we're\ngonna connect to it, all right?\n\n253\n00:13:19.600 --> 00:13:21.970\nSo I'm gonna say -e -v.\n\n254\n00:13:21.970 --> 00:13:26.530\nAnd then I'm gonna specify that\nthis is a socket-based printer.\n\n255\n00:13:26.530 --> 00:13:29.860\nSome of your printers are gonna be\ndirectly connected via lpt port and so\n\n256\n00:13:29.860 --> 00:13:32.170\nyou do an lpt to connect to it.\n\n257\n00:13:32.170 --> 00:13:34.080\nIn my case, though,\nit's a network printer.\n\n258\n00:13:34.080 --> 00:13:35.430\nSo I'm gonna say socket.\n\n259\n00:13:35.430 --> 00:13:36.440\nWhen I print to this printer,\n\n260\n00:13:36.440 --> 00:13:40.290\nI'm going to reach out over the network\nto connect to this printer.\n\n261\n00:13:40.290 --> 00:13:42.380\nSo I'll say socket://10.1.10.23,\n\n262\n00:13:42.380 --> 00:13:46.120\nthat's the IP address of that\nprinter that I'm connecting to.\n\n263\n00:13:47.420 --> 00:13:52.382\nThen, we tell it where it's\ngonna get the PPD file from.\n\n264\n00:13:52.382 --> 00:13:56.180\nAll right so I'll do a -p, and\nI'm gonna say /etc/cups/ppd/, and now I\n\n265\n00:13:57.370 --> 00:14:01.980\ncan type that nice easy name.\n\n266\n00:14:01.980 --> 00:14:04.480\nI'll do a little tab autocomplete\nto save me some time.\n\n267\n00:14:04.480 --> 00:14:09.290\nAll right, so this command is gonna create\na virtual printer called Canon 7065.\n\n268\n00:14:09.290 --> 00:14:14.710\nThat virtual printer is gonna be tied to\nan IP address out here on my network.\n\n269\n00:14:14.710 --> 00:14:17.650\nAnd when I print to it, it's going to use\n\n270\n00:14:17.650 --> 00:14:22.950\nthe configuration defined in this PPD\nfile to know how to talk to that printer.\n\n271\n00:14:22.950 --> 00:14:27.590\nThose are the three pieces of information\nwe need to get that set up and\n\n272\n00:14:27.590 --> 00:14:29.680\nmake it where we can print to the printer.\n\n273\n00:14:29.680 --> 00:14:32.690\nSo now we've got the printer defined,\nlet's use it, right?\n\n274\n00:14:32.690 --> 00:14:36.430\nWe've got the lp command, which lets you\nprint to a printer from the command line.\n\n275\n00:14:36.430 --> 00:14:39.480\nI just need a file, so let me,\nI'll whip up like a quick file here.\n\n276\n00:14:41.020 --> 00:14:43.100\nMaybe we'll just call one file.txt.\n\n277\n00:14:43.100 --> 00:14:46.600\nAnd I'll insert some text,\nthis is a test document.\n\n278\n00:14:47.760 --> 00:14:49.330\nAll right, there we go.\n\n279\n00:14:49.330 --> 00:14:51.520\nOops!\n[LAUGH] Stayed in insert mode there.\n\n280\n00:14:51.520 --> 00:14:52.740\nThere we go, all right.\n\n281\n00:14:52.740 --> 00:14:54.400\nSo I got a little document.\n\n282\n00:14:54.400 --> 00:14:57.990\nI wanna print this document,\nso I can just say, lp and\n\n283\n00:14:57.990 --> 00:14:59.330\nI need to give it a destination.\n\n284\n00:14:59.330 --> 00:15:01.272\nWho am I gonna print to?\n\n285\n00:15:01.272 --> 00:15:04.690\nSo -d and I'll specify that\nI'm printing to Canon7065.\n\n286\n00:15:04.690 --> 00:15:09.460\nThat was the name that I gave to my\nprinter, the easy name to remember, right?\n\n287\n00:15:09.460 --> 00:15:11.030\nSo lp -d Canon7065.\n\n288\n00:15:11.030 --> 00:15:14.220\nAnd then I just need to\ntell it what I'm printing.\n\n289\n00:15:14.220 --> 00:15:17.300\nI'm gonna print file.txt, right?\n\n290\n00:15:17.300 --> 00:15:19.000\nIt's gonna take that file.\n\n291\n00:15:19.000 --> 00:15:22.280\nIt's gonna look at the PPD for\nCanon7065, and say all right,\n\n292\n00:15:22.280 --> 00:15:25.360\nwhat do I need to do this file to\nget the printer to recognize it?\n\n293\n00:15:25.360 --> 00:15:26.870\nNot much, in this case.\n\n294\n00:15:26.870 --> 00:15:30.080\nAnd then it's gonna send it\nto the printer, all right?\n\n295\n00:15:30.080 --> 00:15:33.650\nNow, when I say, what do we have to\ndo to it, some printers use PCL,\n\n296\n00:15:33.650 --> 00:15:36.650\nthe printer control language,\nsome use PostScript,\n\n297\n00:15:36.650 --> 00:15:39.560\nwhich is another way of defining fonts and\narrangement on a page.\n\n298\n00:15:39.560 --> 00:15:43.010\nOthers expect it to be a raw\nimage that's sent to the printer.\n\n299\n00:15:43.010 --> 00:15:44.458\nThe PPD is what defines that, and\n\n300\n00:15:44.458 --> 00:15:48.000\ntells your system how to manipulate\nthe document before sending it, all right?\n\n301\n00:15:48.000 --> 00:15:50.960\nSo it's gonna know that, and\nit's gonna send it to the printer.\n\n302\n00:15:50.960 --> 00:15:54.774\nNow I'm stalling here, and the reason is\nOnce I run this, this is a small document,\n\n303\n00:15:54.774 --> 00:15:56.140\nIt's gonna print very fast.\n\n304\n00:15:56.140 --> 00:15:58.610\nHow do I know if it actually printed?\n\n305\n00:15:58.610 --> 00:16:03.440\nWell, there's a second command\nwe can run called lpstat, and\n\n306\n00:16:03.440 --> 00:16:07.300\nlpstat shows us the status of a print job,\nso you can see if it's printing, or\n\n307\n00:16:07.300 --> 00:16:08.840\nif it's stuck in your queue.\n\n308\n00:16:08.840 --> 00:16:10.850\nMaybe I can't contact that printer, and\n\n309\n00:16:10.850 --> 00:16:13.800\nthe document will say stuck in\nmy queue and waiting, right.\n\n310\n00:16:13.800 --> 00:16:16.240\nSo I'm gonna print this, and\nthen as soon as it's done,\n\n311\n00:16:16.240 --> 00:16:19.070\nI'm gonna pull up an lpstat for\nthat printer.\n\n312\n00:16:19.070 --> 00:16:21.310\nNow when I run lpstat,\nthere's two ways I can run it.\n\n313\n00:16:21.310 --> 00:16:24.240\nIf I'm in a hurry, I can do lpstat-a,\n\n314\n00:16:24.240 --> 00:16:27.690\nand that'll show me the status\nof all of my printers.\n\n315\n00:16:27.690 --> 00:16:31.471\nBut if I have a lot of\nprinters I'm gonna wanna run\n\n316\n00:16:31.471 --> 00:16:36.820\nlpstat-p followed by the name of\nthe printer, so I get just that one skew.\n\n317\n00:16:36.820 --> 00:16:38.900\nI've got several printers here so\nI want to do a dash p and\n\n318\n00:16:38.900 --> 00:16:42.140\nI just want to type it fast,\nso that's what I'm gonna do.\n\n319\n00:16:42.140 --> 00:16:45.050\nAll right, so I'm gonna run this and\n\n320\n00:16:45.050 --> 00:16:50.730\nthen I'll do an lp stat dash p Canon7065\nand shoot, I wasn't fast enough.\n\n321\n00:16:50.730 --> 00:16:53.540\nWhen you print a small document\nit goes really fast and so\n\n322\n00:16:53.540 --> 00:16:59.680\nI can see the Canon 7065 is idle, it's not\ndoing anything, and it's ready to print.\n\n323\n00:16:59.680 --> 00:17:03.190\nWell, I sent it a job but\nthat document was so\n\n324\n00:17:03.190 --> 00:17:06.690\nsmall that it whipped through that\nqueue really fast and it's over there.\n\n325\n00:17:06.690 --> 00:17:10.470\nBut if I had made a mistake, maybe I put\nthe wrong IP address in for the printer.\n\n326\n00:17:10.470 --> 00:17:15.700\nThen that job might get stuck here in\nthe queue and then it's just gonna wait.\n\n327\n00:17:15.700 --> 00:17:18.230\nSo, for example, if I went back and\nredefined that printer,\n\n328\n00:17:18.230 --> 00:17:24.470\nI'm gonna create another Canon7065,\nI'll call it the same thing dash two.\n\n329\n00:17:24.470 --> 00:17:28.790\nAnd maybe I'll put it at an IP\nthat wouldn't respond, right?\n\n330\n00:17:28.790 --> 00:17:30.115\nSo here I'll point it to a firewall.\n\n331\n00:17:30.115 --> 00:17:37.450\n[LAUGH] So, it's gonna point it to\nan invalid IP and kind of define that one.\n\n332\n00:17:37.450 --> 00:17:40.200\nAnd you can have more than one printer\ndefined on the same PPD file right?\n\n333\n00:17:40.200 --> 00:17:43.130\nYou can reuse that same driver over and\nover again.\n\n334\n00:17:43.130 --> 00:17:46.680\nSo now if I were to print to that printer.\n\n335\n00:17:48.420 --> 00:17:52.670\nAll right, so there it goes to print,\nand then I do an lpstat for\n\n336\n00:17:52.670 --> 00:17:57.480\nthat other one what I should see is,\nright there, connecting to printer.\n\n337\n00:17:57.480 --> 00:17:59.960\nIt's sitting there, it's ready to print.\n\n338\n00:17:59.960 --> 00:18:03.440\nSee it says, Canon printer, now printing.\n\n339\n00:18:03.440 --> 00:18:06.900\nSo it's ready to print, but\nit's stuck connecting to the printer.\n\n340\n00:18:06.900 --> 00:18:09.810\nI can see that status, so\nif you're wondering like where's my job,\n\n341\n00:18:09.810 --> 00:18:10.830\nwhy isn't it going out?\n\n342\n00:18:10.830 --> 00:18:14.956\nWell you can see it right here, lpstat.\n\n343\n00:18:14.956 --> 00:18:18.271\nAll right, now, when I printed,\nI used the LP command, and\n\n344\n00:18:18.271 --> 00:18:22.190\nI had to do dash p to tell it which\nprinter I wanted to print to.\n\n345\n00:18:22.190 --> 00:18:26.685\nWell, you can set a default printer,\nall you have to do is set a variable.\n\n346\n00:18:26.685 --> 00:18:28.975\nThere is a session\nvariable you can define.\n\n347\n00:18:28.975 --> 00:18:33.655\nIt's called the LPDEST, or\nline printer destination, and\n\n348\n00:18:33.655 --> 00:18:36.125\nyou can set that to who you want\nyour default printer to be.\n\n349\n00:18:36.125 --> 00:18:40.895\nSo for example, LPDEST equals and\nthen what your printer is, so\n\n350\n00:18:40.895 --> 00:18:42.075\nI might say Canon7065.\n\n351\n00:18:43.520 --> 00:18:46.788\nAll right, if I do that,\n\n352\n00:18:46.788 --> 00:18:52.310\nnow, LP dest, oop dollar signs.\n\n353\n00:18:52.310 --> 00:18:56.560\nThere we go, you can see my\nvariable is storing that Canon 65.\n\n354\n00:18:56.560 --> 00:18:57.670\nNow when I print,\n\n355\n00:18:57.670 --> 00:19:01.670\nif I leave out that dash p I'll just\nautomatically print to that one.\n\n356\n00:19:01.670 --> 00:19:03.800\nSo you can put that in\nyour bashrc file and\n\n357\n00:19:03.800 --> 00:19:08.100\nthat way every time you boot up you'll\nhave that default printer already defined.\n\n358\n00:19:08.100 --> 00:19:10.940\nIf you've got a graphical user interface,\na lot of this stuff is taken care of\n\n359\n00:19:10.940 --> 00:19:14.220\nfrom there, but on the exam they\nwant you to know the CLI sign right?\n\n360\n00:19:14.220 --> 00:19:16.450\nDoing it from the command line,\nso we know it's always there,\n\n361\n00:19:16.450 --> 00:19:18.790\neven if we don't have a graphical\nuser interface installed.\n\n362\n00:19:21.040 --> 00:19:24.540\nAll right,\nthe other thing to remember is, well,\n\n363\n00:19:24.540 --> 00:19:27.300\nI've got a print job that's\nkinda just sitting there.\n\n364\n00:19:27.300 --> 00:19:29.160\nWell, you can cancel print jobs too.\n\n365\n00:19:29.160 --> 00:19:33.330\nWe had lp to create a print job,\nlpstat to view the status, and\n\n366\n00:19:33.330 --> 00:19:36.730\nyou have cancel to kill a print job,\nright?\n\n367\n00:19:36.730 --> 00:19:40.150\nSo if we take a look at the cancel\ncommand, you'll see where you\n\n368\n00:19:40.150 --> 00:19:44.520\ncan cancel jobs and you can specify\nthat print job to kill off and stop it.\n\n369\n00:19:45.810 --> 00:19:50.100\nThe commands that I've been showing you,\nthose are really just the Linux\n\n370\n00:19:50.100 --> 00:19:54.760\ncommands which are based off of Unix\nsystem 5, the SysV commands, right?\n\n371\n00:19:54.760 --> 00:19:57.430\nBut because Apple created\na lot of this stuff and\n\n372\n00:19:57.430 --> 00:20:00.870\nthey were basing it on BSD,\nthey used BSD commands.\n\n373\n00:20:00.870 --> 00:20:06.020\nAnd so most Linux distros will\nactually take both the Unix version,\n\n374\n00:20:06.020 --> 00:20:09.520\nthe SysV command and the BSD commands.\n\n375\n00:20:09.520 --> 00:20:12.910\nSo, I don't know if it'll show up on\nthe exam, but I just wanna mention it for\n\n376\n00:20:12.910 --> 00:20:15.940\nyour own benefit here,\nthese alternate version.\n\n377\n00:20:15.940 --> 00:20:19.634\nSo for example, lp is what I use to print,\nthat's the sysv command.\n\n378\n00:20:19.634 --> 00:20:22.045\nIn BSD, it's lpr.\n\n379\n00:20:22.045 --> 00:20:27.600\nAll right, LPR is what prints and\nif I do like a man lp,\n\n380\n00:20:27.600 --> 00:20:32.580\nright and I see it prints files in\nman LPR, it prints files, right?\n\n381\n00:20:32.580 --> 00:20:37.100\nSo it's actually kind of\ndoing the same thing, right?\n\n382\n00:20:37.100 --> 00:20:40.980\nSo the command is defined lpr but\n\n383\n00:20:40.980 --> 00:20:46.320\nit's working just like lp, so they kind\nof put in both sets of commands for us.\n\n384\n00:20:46.320 --> 00:20:49.620\nSo the BSD equivalent of lp is LPR.\n\n385\n00:20:49.620 --> 00:20:55.190\nThe bsd equivalent of lpstat, for\nviewing your print jobs, is lpq, right?\n\n386\n00:20:55.190 --> 00:21:00.060\nWhich is the line printer queue,\nversus the line printer status, and\n\n387\n00:21:00.060 --> 00:21:03.600\nit will do that same thing,\nas far as showing us what's sitting there.\n\n388\n00:21:03.600 --> 00:21:07.090\nAs you can see, I've got that one job\nthat's stuck, kinda sitting there,\n\n389\n00:21:07.090 --> 00:21:11.840\njob number 5, and so I can cancel out\njob number 5, if I wanted and delete it.\n\n390\n00:21:11.840 --> 00:21:16.200\nAnd the cancel command, the BSD\nequivalent of the cancel command is lprm,\n\n391\n00:21:17.820 --> 00:21:20.750\nremove the job from the line printer,\nright?\n\n392\n00:21:20.750 --> 00:21:25.730\nLprm will do that, and so\nwe can come in and knockout job five and\n\n393\n00:21:25.730 --> 00:21:28.640\nnow when I look at my queue,\nit's gone and empty.\n\n394\n00:21:28.640 --> 00:21:31.610\nSo you can define these things\npretty easily to get in there and\n\n395\n00:21:31.610 --> 00:21:34.450\nmanipulate the job to kind of seem them,\nwork with them, and so on.\n\n396\n00:21:34.450 --> 00:21:36.370\nThere's just two sets of commands right?\n\n397\n00:21:36.370 --> 00:21:38.190\nAnd I'll put these in the show notes so\nyou'll have them.\n\n398\n00:21:38.190 --> 00:21:41.400\nI don't know if the BSD equivalents\nwill show up on the exam but they might.\n\n399\n00:21:41.400 --> 00:21:43.990\nThey are there but the sysV equivalent, or\n\n400\n00:21:43.990 --> 00:21:46.320\nthe sysV commands are the ones\nwe really need to know.\n\n401\n00:21:47.420 --> 00:21:49.920\nAll right, well I think that\nsums it up pretty nicely there.\n\n402\n00:21:49.920 --> 00:21:52.651\nWe got a chance to see\nsetting up a printer, right?\n\n403\n00:21:52.651 --> 00:21:55.630\nLoading a PPD, getting it published,\ngetting the CUPS service up and\n\n404\n00:21:55.630 --> 00:21:58.030\nrunning, and\nthen sending some print jobs at it.\n\n405\n00:21:58.030 --> 00:22:00.580\nIt's really not a big deal to\nget printing up and going.\n\n406\n00:22:00.580 --> 00:22:03.050\nIt's so\nmuch easier now than it used to be.\n\n407\n00:22:03.050 --> 00:22:05.030\nIt used to be a nightmare to\nset this up under Linux, so\n\n408\n00:22:05.030 --> 00:22:09.820\nthe CUPS system really did make\nthat a lot more convenient for us.\n\n409\n00:22:09.820 --> 00:22:10.740\nSo be appreciative,\n\n410\n00:22:10.740 --> 00:22:14.750\nand even if you hate Apple, here's at\nleast one thing you can thank them for.\n\n411\n00:22:14.750 --> 00:22:18.302\nCUPS really did revolutionized\nprinting on the Unix and Linux.\n\n412\n00:22:18.302 --> 00:22:19.620\nAll right,\nwell I hope you guys enjoyed the show.\n\n413\n00:22:19.620 --> 00:22:23.327\nStay tuned,\nwe've got more Linux content coming up.\n\n414\n00:22:23.327 --> 00:22:29.430\n[MUSIC]\n\n",
          "vimeoId": "132763275"
        }
      ],
      "title": "(LX0-104) Writing Scripts, Configuring Email and Using Databases"
    },
    {
      "episodes": [
        {
          "description": null,
          "length": "1571",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-1-security_administration-070615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-1-security_administration-070615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-1-security_administration-070615-1-sm.jpg",
          "title": "Security Administration",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.012 --> 00:00:13.391\n>> All right, good morning,\ngood afternoon, and good evening.\n\n3\n00:00:13.391 --> 00:00:15.670\nWelcome back to another\nepisode of ITProTV.\n\n4\n00:00:15.670 --> 00:00:21.170\nI'm your host Don Pezet, back with\nanother episode of Comptia LINUX+.\n\n5\n00:00:21.170 --> 00:00:25.200\nNow in this episode, we're gonna be\ndiving into security administration.\n\n6\n00:00:25.200 --> 00:00:28.830\nAnd let me tell you guys,\nwhen you bring up a new LINUX server and\n\n7\n00:00:28.830 --> 00:00:30.300\nyou chuck it onto the internet,\n\n8\n00:00:30.300 --> 00:00:33.490\nexpose it to the public,\nthere's a lot of risk that's there.\n\n9\n00:00:33.490 --> 00:00:36.370\nBut even if it's not exposed to\nthe public, even if it's an internal only\n\n10\n00:00:36.370 --> 00:00:40.310\nserver, there's a lot of risk just\namongst your own internal employees.\n\n11\n00:00:40.310 --> 00:00:44.570\nSo there's certain steps that we should go\nthrough to harden and protect our servers,\n\n12\n00:00:44.570 --> 00:00:47.250\nand that's what we're\ngonna see in this episode.\n\n13\n00:00:47.250 --> 00:00:49.080\nEvery distro is a little bit different.\n\n14\n00:00:49.080 --> 00:00:51.010\nSome of them come with\ndifferent security sub-layers,\n\n15\n00:00:51.010 --> 00:00:52.710\nsome of them come with\ndifferent firewalls.\n\n16\n00:00:52.710 --> 00:00:56.230\nSo definitely take advantage of what\neach individual distro offers, right?\n\n17\n00:00:56.230 --> 00:00:58.030\nThat's why they offer that stuff,\n\n18\n00:00:58.030 --> 00:01:02.930\nbut there's a common set of things\nthat we can do on any Linux system,\n\n19\n00:01:02.930 --> 00:01:05.750\nand you really need to be\nfamiliar with those for the exam.\n\n20\n00:01:05.750 --> 00:01:08.640\nAnd that's what we're gonna be looking\nat right here some of those basic things\n\n21\n00:01:08.640 --> 00:01:09.430\nthat we need to tackle.\n\n22\n00:01:09.430 --> 00:01:13.500\nNow I've got my notes here I know what I\nwanna cover, I'm pretty sure I can't do\n\n23\n00:01:13.500 --> 00:01:18.260\nit in 30 minutes so don't be surprised if\nwe go into a multi-part series on this.\n\n24\n00:01:18.260 --> 00:01:20.350\nIt's that important,\nI don't wanna skip out on anything.\n\n25\n00:01:20.350 --> 00:01:23.920\nI don't wanna cover anything too briefly\ncuz this is really kinda critical stuff.\n\n26\n00:01:23.920 --> 00:01:27.300\nSo we're gonna take our time and we're\ngonna go through each of these options and\n\n27\n00:01:27.300 --> 00:01:31.790\nreally get a chance to see stuff that you\nshould be doing on every system, desktops\n\n28\n00:01:31.790 --> 00:01:35.040\ntoo, but definitely on your servers to\nmake sure that they're protected and\n\n29\n00:01:35.040 --> 00:01:37.150\nthat you're not leaving yourself\nopen to vulnerabilities.\n\n30\n00:01:38.430 --> 00:01:40.930\nAll right, now the very first\nthing that I want to talk about\n\n31\n00:01:40.930 --> 00:01:44.280\nis a really misunderstood file permission.\n\n32\n00:01:44.280 --> 00:01:48.400\nThere is a file permission,\nwell what do I mean file permissions?\n\n33\n00:01:48.400 --> 00:01:52.560\nWell, in Linux, when we look at files,\neverything in Linux is a file.\n\n34\n00:01:52.560 --> 00:01:54.480\nLet's take a look at my laptop here.\n\n35\n00:01:54.480 --> 00:01:57.480\nSo everything in Linux\nis treated as a file.\n\n36\n00:01:57.480 --> 00:02:00.610\nLike if we go into /dev,\nAnd poke around in there.\n\n37\n00:02:00.610 --> 00:02:01.840\nThere's all my hardware.\n\n38\n00:02:01.840 --> 00:02:06.050\nMy CPU, my hard drive, my terminal\ninterfaces, all defined as a file.\n\n39\n00:02:06.050 --> 00:02:10.200\nAnd then we browse around our file, you've\ngot things like your home directory,\n\n40\n00:02:10.200 --> 00:02:11.965\nwhere you've got all your\nvarious files there too.\n\n41\n00:02:11.965 --> 00:02:15.910\nThey're files and they have permissions\nand we covered permissions in another\n\n42\n00:02:15.910 --> 00:02:18.550\nepisode, you guys have probably\nwatched it already and so\n\n43\n00:02:18.550 --> 00:02:23.870\nyour used to seeing these kind of letters\nand stuff over her to the left side.\n\n44\n00:02:23.870 --> 00:02:27.050\nThe first of which represents\nwhether it's a directory or not and\n\n45\n00:02:27.050 --> 00:02:31.990\nthen you've got read, write, and\nexecute permissions for the owner.\n\n46\n00:02:31.990 --> 00:02:35.690\nYou've got read, write, and\nexecute permissions for the group.\n\n47\n00:02:35.690 --> 00:02:40.210\nAnd then you've got read, write, and\nexecute permissions for everybody else.\n\n48\n00:02:40.210 --> 00:02:42.900\nSo if I'm the owner of the file,\nI might get one set of permissions.\n\n49\n00:02:42.900 --> 00:02:46.570\nIf I'm the group attached to the file, I\nmight get a different set of permissions,\n\n50\n00:02:46.570 --> 00:02:50.460\nand if I'm anybody else,\nthen I get a third set of permissions.\n\n51\n00:02:50.460 --> 00:02:53.650\nAnd you can see the owner and\nthe group right here.\n\n52\n00:02:54.860 --> 00:02:58.710\nSo normally we expect to see rwx rwx rwx.\n\n53\n00:02:58.710 --> 00:03:01.520\nThat's what I expect to see.\n\n54\n00:03:01.520 --> 00:03:06.240\nBut sometimes, we can see something\na little bit different, right?\n\n55\n00:03:07.320 --> 00:03:09.350\nLike with the Pass WD command.\n\n56\n00:03:09.350 --> 00:03:13.560\nNow Pass WD, if you remember that\nfrom the user account episode,\n\n57\n00:03:13.560 --> 00:03:15.840\nthat's the command we use\nto set people's passwords.\n\n58\n00:03:15.840 --> 00:03:18.010\nIf I want to reset a user's password.\n\n59\n00:03:18.010 --> 00:03:21.650\nAnd it's located in /USR/Bin.\n\n60\n00:03:21.650 --> 00:03:26.830\nAnd if I take a look at\nthe permissions for it,\n\n61\n00:03:26.830 --> 00:03:30.920\nlook at the permissions, rwsr-xr-x.\n\n62\n00:03:30.920 --> 00:03:34.700\nWhat the heck is that s right there?\n\n63\n00:03:34.700 --> 00:03:40.640\nThere's a special permission\nthat's called set UID or set GID.\n\n64\n00:03:42.240 --> 00:03:47.930\nWhen you run a program, when you run\nany program, you run it as yourself.\n\n65\n00:03:47.930 --> 00:03:51.440\nAnd you run it as whatever\nyour default group is.\n\n66\n00:03:51.440 --> 00:03:57.770\nSo when I run something, my user account\nis dpezet, and my default group is dpezet.\n\n67\n00:03:57.770 --> 00:04:01.650\nSo when I run a program, that's the user\nand group that I run it as, and\n\n68\n00:04:01.650 --> 00:04:03.950\nit runs with whatever permissions\nare associated with that.\n\n69\n00:04:05.100 --> 00:04:08.730\nBut what if you have a program\n\n70\n00:04:08.730 --> 00:04:13.910\nthat you want other people to run\nas if they were somebody else?\n\n71\n00:04:13.910 --> 00:04:16.280\nIf you want them to\nimpersonate somebody else.\n\n72\n00:04:16.280 --> 00:04:19.170\nWell we've got a command like\nsudo that let you do that.\n\n73\n00:04:19.170 --> 00:04:21.750\nSudo, which I'll talk about\nlater in this episode,\n\n74\n00:04:21.750 --> 00:04:24.500\nis how you can impersonate the root user.\n\n75\n00:04:24.500 --> 00:04:28.110\nBut your average engine doesn't\nneed access to Sudo, right?\n\n76\n00:04:28.110 --> 00:04:31.670\nWhat if it's something as something\nas simple as changing their password.\n\n77\n00:04:31.670 --> 00:04:33.740\nI want my end-users to be able\nto change their password.\n\n78\n00:04:33.740 --> 00:04:36.830\nWell in order to do that, they have\nto be able to edit the password file.\n\n79\n00:04:36.830 --> 00:04:40.710\nThe password file which is /etc/shadow.\n\n80\n00:04:40.710 --> 00:04:45.620\nIf I take a look at /etc/shadow,\nwhat are the permissions on that?\n\n81\n00:04:46.760 --> 00:04:48.490\nNobody has access to shadow,\n\n82\n00:04:49.800 --> 00:04:53.600\njust the colonel is able to access that\nto be able to write the passwords.\n\n83\n00:04:53.600 --> 00:04:59.010\nWell your actually editing /etc/passwd And\n\n84\n00:04:59.010 --> 00:05:01.790\nthen it hashes the password and\nstores that in shadow for you.\n\n85\n00:05:01.790 --> 00:05:07.110\nSo if I take a look at\nthe permissions on the passwd file,\n\n86\n00:05:07.110 --> 00:05:11.220\nyou'll notice that root is the only\nperson who can write to it.\n\n87\n00:05:11.220 --> 00:05:14.260\nSo only root can write to \\etc\\passwd,\n\n88\n00:05:14.260 --> 00:05:18.740\nso how can a user change their own\npassword if they can't write to that file?\n\n89\n00:05:18.740 --> 00:05:21.390\nWhat I want them to be able to do is I\nwant my users to be able to change their\n\n90\n00:05:21.390 --> 00:05:25.940\npassword and when they do they\nneed to be acting as root.\n\n91\n00:05:25.940 --> 00:05:32.020\nAnd so the passwd command has\na special bit set called set UID.\n\n92\n00:05:33.200 --> 00:05:35.440\nAnd notice how it replaces the x.\n\n93\n00:05:36.550 --> 00:05:39.130\nThey have the execute permission, and\n\n94\n00:05:39.130 --> 00:05:43.750\nwhen they execute it,\nthey execute it as a different user ID.\n\n95\n00:05:43.750 --> 00:05:47.860\nThat's why this is called setUID,\nor you'll see it written as SUID,\n\n96\n00:05:47.860 --> 00:05:52.140\nsome people say suid, which I think\nsounds stupid, but it's set user ID, and\n\n97\n00:05:52.140 --> 00:05:58.830\nit means when anybody runs passWD,\nit's gonna run as the owner.\n\n98\n00:05:58.830 --> 00:06:01.350\nAnd the owner of password is root.\n\n99\n00:06:01.350 --> 00:06:04.630\nSo when anybody runs password,\nit runs as root.\n\n100\n00:06:04.630 --> 00:06:06.240\nDoes that sound dangerous?\n\n101\n00:06:06.240 --> 00:06:09.220\nIt should, it is,\nit's super mega dangerous.\n\n102\n00:06:09.220 --> 00:06:11.320\nSo, we normally don't use it.\n\n103\n00:06:11.320 --> 00:06:15.350\nImagine if you had a script file,\nand you setUID it.\n\n104\n00:06:15.350 --> 00:06:17.400\nAnd the owner was root.\n\n105\n00:06:17.400 --> 00:06:21.220\nIf the owner was dpezet, and somebody ran\nit, they'd run it as dpezet and that's not\n\n106\n00:06:21.220 --> 00:06:26.950\na big deal, but if the owner was root,\nand we set UID it, they'd run it as root.\n\n107\n00:06:26.950 --> 00:06:29.610\nWell what if they had right\npermissions to it also?\n\n108\n00:06:29.610 --> 00:06:32.290\nThey could edit that script and put\nwhatever the heck they wanted in there,\n\n109\n00:06:32.290 --> 00:06:35.490\noh then they could wreak havoc,\nthey could put whatever they wanted,\n\n110\n00:06:35.490 --> 00:06:38.240\nand when they ran that\nscript it would run as root.\n\n111\n00:06:38.240 --> 00:06:40.270\nSo we've gotta be really\ncareful with setUID, and\n\n112\n00:06:40.270 --> 00:06:42.210\nthe general practice is not to use it.\n\n113\n00:06:42.210 --> 00:06:43.950\nBut there are times where you need it.\n\n114\n00:06:43.950 --> 00:06:48.740\nMaybe you've got a backup program, and\nyou want the backup program to be able to\n\n115\n00:06:48.740 --> 00:06:51.980\nbackup all the files, not just\nthe files that user has permission to.\n\n116\n00:06:51.980 --> 00:06:56.210\nSo you might setUID that backup program so\nthat it runs as root and\n\n117\n00:06:56.210 --> 00:06:58.090\nnow you're able to backup\nthat whole hard drive.\n\n118\n00:06:59.340 --> 00:07:01.040\nThat's an example of\nwhere we might use this.\n\n119\n00:07:02.050 --> 00:07:07.210\nThere's a less commonly used one\nwhich is setGID, set group ID.\n\n120\n00:07:07.210 --> 00:07:09.100\nIt's the same idea as set UID.\n\n121\n00:07:09.100 --> 00:07:11.990\nWhenever they run the program,\ninstead of running it as their own group,\n\n122\n00:07:11.990 --> 00:07:15.880\nthey run it as the group that\nactually is attached to the file.\n\n123\n00:07:15.880 --> 00:07:18.700\nIn my case,\nthis one's got a group of root also.\n\n124\n00:07:18.700 --> 00:07:20.850\nSo that just means it would\ndo the group as root.\n\n125\n00:07:20.850 --> 00:07:26.200\nSo set SetUID, SetGID, it's just an S\nthat you'll see in the permissions.\n\n126\n00:07:26.200 --> 00:07:30.020\nSo, when you go to harden your system,\none of the things you should do is\n\n127\n00:07:30.020 --> 00:07:34.820\ncheck your system to see what\nfiles are set as setUID or setGID.\n\n128\n00:07:34.820 --> 00:07:37.800\nNow, let me show you a quick\nway that we can do that.\n\n129\n00:07:37.800 --> 00:07:40.680\nSo, when you install a brand new distro,\nit's a good idea to\n\n130\n00:07:40.680 --> 00:07:44.050\nget a handle of this or even a distro\nhas been running for a few years,\n\n131\n00:07:44.050 --> 00:07:47.350\nyou want to check to see if anybody\nis doing this and they shouldn't be.\n\n132\n00:07:47.350 --> 00:07:49.920\nMaybe there's some network admin\nthat you had hired before and\n\n133\n00:07:49.920 --> 00:07:51.780\nyou don't know what\nthey did on the system.\n\n134\n00:07:51.780 --> 00:07:54.771\nSo we can actually do a quick\nfind command, all right.\n\n135\n00:07:54.771 --> 00:07:58.386\nNow I'm doing this as root,\nsee how I've got my hash mark here, so\n\n136\n00:07:58.386 --> 00:08:01.826\nI'm logged in as the root user,\nI SUed into the root user here.\n\n137\n00:08:01.826 --> 00:08:04.680\nA regular user might not\nbe able to find all these.\n\n138\n00:08:04.680 --> 00:08:08.741\nSo I'm gonna do a find, I'm gonna\nstart with my root directory, and\n\n139\n00:08:08.741 --> 00:08:12.120\nI'm gonna search files that\nhave a certain permission.\n\n140\n00:08:13.890 --> 00:08:18.930\nsetuid, we can find that by looking for\nanything with 4000.\n\n141\n00:08:18.930 --> 00:08:22.470\nNow remember when we set permissions\nit'll be things like 755,\n\n142\n00:08:22.470 --> 00:08:24.760\nit's only three digits.\n\n143\n00:08:24.760 --> 00:08:29.203\nWell set UID and set GID there\nare special hidden fourth digit and so\n\n144\n00:08:29.203 --> 00:08:33.577\nI'm looking for a four and\nI don't care what the other three are.\n\n145\n00:08:33.577 --> 00:08:38.547\nSo I just put a 000 I don't care about\nthose they can be 777, 755, 655,\n\n146\n00:08:38.547 --> 00:08:42.327\n644 who cares right I just need\nthat first one I'm looking for\n\n147\n00:08:42.327 --> 00:08:45.610\nanything that has a four\nin that first field.\n\n148\n00:08:45.610 --> 00:08:48.040\nOkay, that's going to be\nsomething that set you id and\n\n149\n00:08:48.040 --> 00:08:51.200\nthat's going to search the drive and\nit's going to find that all right?\n\n150\n00:08:51.200 --> 00:08:55.260\nAnother way I could write this would\nbe to look for -perm, I'm looking for\n\n151\n00:08:55.260 --> 00:08:59.140\npermissions, -u plus s.\n\n152\n00:08:59.140 --> 00:09:01.710\nI'm looking where the user\nhas a plus s right?\n\n153\n00:09:01.710 --> 00:09:07.258\nWhat set you id set gid,\nit would just be -gs+s or\n\n154\n00:09:07.258 --> 00:09:12.440\nI could say +2000 for the gid, right.\n\n155\n00:09:12.440 --> 00:09:13.640\nThat would be set gid.\n\n156\n00:09:13.640 --> 00:09:15.860\nYou normally wanna look for both, right.\n\n157\n00:09:15.860 --> 00:09:17.670\nSo it looks like for the user one first.\n\n158\n00:09:17.670 --> 00:09:22.210\nSo I'm gonna look for u+s and I'm gonna\nsearch the whole hard drive, all right.\n\n159\n00:09:22.210 --> 00:09:24.210\nNow there's some that we expect to find.\n\n160\n00:09:24.210 --> 00:09:26.220\nI expect to find passwd in here.\n\n161\n00:09:27.240 --> 00:09:32.840\nSo as you start looking through a lot of\nthese are just ones that aren't gonna\n\n162\n00:09:32.840 --> 00:09:34.760\nbe out of the ordinary.\n\n163\n00:09:34.760 --> 00:09:37.900\nSo you could take a default\ninstall of CentOS.\n\n164\n00:09:37.900 --> 00:09:39.010\nIf you're running Cent OS.\n\n165\n00:09:39.010 --> 00:09:41.740\nOr a default install of Ubuntu if\nthat's what you're running and\n\n166\n00:09:41.740 --> 00:09:42.790\nrun this command right here.\n\n167\n00:09:42.790 --> 00:09:46.110\nDo the fine command and look for\neverybody that's set UID'ed.\n\n168\n00:09:46.110 --> 00:09:47.600\nAnd document that.\n\n169\n00:09:47.600 --> 00:09:51.550\nAnd then you can run that check against\nevery other server in your network, and\n\n170\n00:09:51.550 --> 00:09:53.030\nsee if they have anything extra.\n\n171\n00:09:53.030 --> 00:09:55.270\nHas anything in this list,\nhave they added to it?\n\n172\n00:09:55.270 --> 00:09:58.681\nAnd if they have, that might be a bad\nthing, right, you need to make sure that's\n\n173\n00:09:58.681 --> 00:10:01.357\nsomething that's specifically approved and\nshould be done.\n\n174\n00:10:01.357 --> 00:10:04.819\nOtherwise users could be using\nthat to bypass authentication, and\n\n175\n00:10:04.819 --> 00:10:09.143\nstart running things as the root user, or\nwhoever that owner of the file is, right.\n\n176\n00:10:09.143 --> 00:10:14.131\nI can have a file that was owned by Ronnie\nhere at the office and if it set you IDd,\n\n177\n00:10:14.131 --> 00:10:16.670\nI can start running stuff as Ronnie.\n\n178\n00:10:16.670 --> 00:10:19.710\nSo I can just do malicious things and\nwhen people check the logs,\n\n179\n00:10:19.710 --> 00:10:20.910\nit would look like Ronnie was doing it.\n\n180\n00:10:20.910 --> 00:10:25.535\nIt's a way to impersonate people without\naccess to the su command, right?\n\n181\n00:10:25.535 --> 00:10:27.895\nAnd you can impersonate\nwhoever you want to.\n\n182\n00:10:27.895 --> 00:10:32.735\nSo definitely keep an eye on this and\nnot just set UID but also watch out for\n\n183\n00:10:32.735 --> 00:10:33.435\nset gid.\n\n184\n00:10:33.435 --> 00:10:36.055\nA lot of people forget that one but\nit is out there and\n\n185\n00:10:36.055 --> 00:10:38.935\nnotice several of this commands\nhave set gid on them also.\n\n186\n00:10:38.935 --> 00:10:41.495\nIf these are normal,\nif these are what you expect, great, but\n\n187\n00:10:41.495 --> 00:10:42.745\ndefinitely monitor that, all right?\n\n188\n00:10:42.745 --> 00:10:45.375\nSo that needs to be part of\nyour security administration.\n\n189\n00:10:48.950 --> 00:10:51.840\nAll right other things\nthat you need to do.\n\n190\n00:10:51.840 --> 00:10:55.040\nWhenever you deploy a server\nyou need to pay attention to\n\n191\n00:10:55.040 --> 00:10:59.420\nwhat services it's running and\nwhat ports it's listening on.\n\n192\n00:10:59.420 --> 00:11:02.850\nMost servers will ship with a firewall and\nthe firewall may or\n\n193\n00:11:02.850 --> 00:11:04.690\nmay not be turned on right?\n\n194\n00:11:04.690 --> 00:11:09.240\nLike my system, I don't know it's CentOS\nbased and so it ships with IP tables most\n\n195\n00:11:09.240 --> 00:11:15.480\nLinux users have IP tables these days so\nI might do a service --status-all and\n\n196\n00:11:15.480 --> 00:11:20.460\nI might grep that for iptables and\nlet's see what I get here.\n\n197\n00:11:21.620 --> 00:11:24.970\nI get nothing back so it looks like I'm\nnot running the iptables service so my\n\n198\n00:11:24.970 --> 00:11:30.280\nfirewall is either not installed which is\ndoubtful or it's just not turned on right?\n\n199\n00:11:30.280 --> 00:11:35.100\nSo I might wanna turn on my firewall and\nthen configure various ports to\n\n200\n00:11:35.100 --> 00:11:39.750\nrestrict that a little more and we'll\nsee IP tables more in another episode.\n\n201\n00:11:39.750 --> 00:11:44.930\nBut I might just wanna do a quick\nIP table, start, and get that thing\n\n202\n00:11:44.930 --> 00:11:48.990\nfired up and so that way I know it's up\nand running and I'm protecting my system.\n\n203\n00:11:48.990 --> 00:11:53.300\nNow what if this is a system\nthat's exposed to the Internet?\n\n204\n00:11:53.300 --> 00:11:55.750\nWell maybe it's a web server,\nmaybe it's a mail server.\n\n205\n00:11:55.750 --> 00:11:58.160\nThere's gonna be certain\nports that I want open.\n\n206\n00:11:58.160 --> 00:12:00.310\nAnd I want Internet users to\nbe able to get to those ports.\n\n207\n00:12:00.310 --> 00:12:03.430\nSo we'll create firewall rules that\nopen those ports to allow them through.\n\n208\n00:12:04.615 --> 00:12:08.840\nBut, how do you know if you're\nblocking ports properly and\n\n209\n00:12:08.840 --> 00:12:11.250\nonly allowing the ports\nthat you really want?\n\n210\n00:12:11.250 --> 00:12:13.920\nHow do we know that things\nare being restricted just right?\n\n211\n00:12:13.920 --> 00:12:16.260\nWell, you can look at your\nIP tables configurate,\n\n212\n00:12:16.260 --> 00:12:19.620\nright, in the chat room James\nmentioned you know, IP tables dash L.\n\n213\n00:12:19.620 --> 00:12:23.570\nWhich will list out all the different\nrules and you kind of see what's going on.\n\n214\n00:12:23.570 --> 00:12:26.610\nBut what if you've got\nlike a network firewall?\n\n215\n00:12:26.610 --> 00:12:28.520\nAnd it's not IP tables that's powering it?\n\n216\n00:12:28.520 --> 00:12:30.640\nYou'd have IP tables turned off here and\n\n217\n00:12:30.640 --> 00:12:33.070\nyour other firewall might\nbe doing all the filtering.\n\n218\n00:12:33.070 --> 00:12:37.195\nWe need a way to test what ports\nare open on our system and look for\n\n219\n00:12:37.195 --> 00:12:39.805\nports that might be\nopen that shouldn't be.\n\n220\n00:12:39.805 --> 00:12:43.655\nAnd a great way to do that\nis with the nmap utility,\n\n221\n00:12:43.655 --> 00:12:47.765\nnmap is a little network mapping utility\nthat let's you scan systems and look for\n\n222\n00:12:47.765 --> 00:12:49.595\nthings like open ports.\n\n223\n00:12:49.595 --> 00:12:54.015\nAnother great way to audit our systems and\nmake sure they're configured securely.\n\n224\n00:12:54.015 --> 00:12:56.495\nNow nmap may or\nmay not be installed in your system.\n\n225\n00:12:56.495 --> 00:12:58.930\nYou can see it's not installed on mine.\n\n226\n00:12:58.930 --> 00:13:03.520\nSo I'm gonna do a quick,\nyum install nmap, and\n\n227\n00:13:03.520 --> 00:13:05.420\nlet's just get that guy\ninstalled real quick.\n\n228\n00:13:05.420 --> 00:13:09.260\nIt's a very small utility 2.8 megs,\ninstalls really quickly.\n\n229\n00:13:09.260 --> 00:13:10.120\nIt's not a service,\n\n230\n00:13:10.120 --> 00:13:13.080\nit doesn't keep running on your system,\nit just runs when you call it.\n\n231\n00:13:13.080 --> 00:13:14.470\nDon't install it on your server,\n\n232\n00:13:14.470 --> 00:13:17.800\ncuz it doesn't really make sense to\nscan the server from the server itself.\n\n233\n00:13:17.800 --> 00:13:20.610\nYou need to scan from a remote host, so\nyou normally want to install this on your\n\n234\n00:13:20.610 --> 00:13:23.520\nlaptop or desktop or\nwhatever it is you have.\n\n235\n00:13:23.520 --> 00:13:26.730\nAnd scan as if you were\nan external person, right?\n\n236\n00:13:26.730 --> 00:13:28.620\nSo I could now go and scan a system.\n\n237\n00:13:28.620 --> 00:13:34.200\nI could say nmap, and\nthen specify an an IP to scan.\n\n238\n00:13:34.200 --> 00:13:37.845\nSo I might scan this site IP 10.1.10.4,\nand\n\n239\n00:13:37.845 --> 00:13:42.725\nit's gonna scan it and give me kind of a\nsnap shot of what that system is running.\n\n240\n00:13:42.725 --> 00:13:44.655\nAnd so when I look at that server,\n\n241\n00:13:44.655 --> 00:13:47.355\nlook at all the stuff that's\nopen on this one, right?\n\n242\n00:13:47.355 --> 00:13:54.180\nMaybe this is an FTP server, and so\nI expect to see FTP port 21 open right?\n\n243\n00:13:54.180 --> 00:13:55.560\nBut look at all these other ports.\n\n244\n00:13:55.560 --> 00:13:57.850\nI've got TCP Port 80, it's a web server.\n\n245\n00:13:57.850 --> 00:14:00.650\nI don't want it to be a web server,\nit's an FTP server, right?\n\n246\n00:14:00.650 --> 00:14:01.990\nWhy do I have that turned on?\n\n247\n00:14:01.990 --> 00:14:03.380\nOr MSRPC, right?\n\n248\n00:14:03.380 --> 00:14:08.130\nApparently it's a Microsoft box and\nit's listening for shared connections.\n\n249\n00:14:08.130 --> 00:14:10.100\nNet Bios is part of that too.\n\n250\n00:14:10.100 --> 00:14:12.280\nI see it's got secure web services.\n\n251\n00:14:12.280 --> 00:14:13.690\nNFS is turned on.\n\n252\n00:14:13.690 --> 00:14:17.140\nWe've got IIS, more web services stuff.\n\n253\n00:14:17.140 --> 00:14:19.330\nWe have some unknown protocol on 1,028.\n\n254\n00:14:19.330 --> 00:14:21.130\nWhat the heck is that all about?\n\n255\n00:14:21.130 --> 00:14:23.250\nI don't know, I need to find out though.\n\n256\n00:14:23.250 --> 00:14:27.130\nMaybe that system got compromised and\nsomebody's running a Bitcoin miner on\n\n257\n00:14:27.130 --> 00:14:29.830\nthere and they're doing\nthe Bitcoin controls on port 1028.\n\n258\n00:14:29.830 --> 00:14:32.080\nI don't know right.\n\n259\n00:14:32.080 --> 00:14:36.940\nYou should have a good handle on what\nports your system is answering to.\n\n260\n00:14:36.940 --> 00:14:37.630\nAll right.\n\n261\n00:14:37.630 --> 00:14:40.770\nNow, if I wanna figure out what\nis listening on port 1028 for\n\n262\n00:14:40.770 --> 00:14:45.050\nexample, on a Linux system,\nand it's really not hard.\n\n263\n00:14:45.050 --> 00:14:49.790\nYou can run netstat-tp, and I know\nwe showed this in the In the network\n\n264\n00:14:49.790 --> 00:14:52.290\ndiagnostics show, but\nI want to show it again here.\n\n265\n00:14:52.290 --> 00:14:55.980\nAnd that's that STP,\nthat'll show you your listening ports, and\n\n266\n00:14:55.980 --> 00:14:58.350\nwhat program it is that's doing it.\n\n267\n00:14:58.350 --> 00:15:01.760\nSo, I kind of got a little\nscreen wrap on this one.\n\n268\n00:15:01.760 --> 00:15:04.269\nLet me see if I can make\nthat a little wider for us.\n\n269\n00:15:06.507 --> 00:15:07.610\nThere we go.\n\n270\n00:15:07.610 --> 00:15:11.760\nSo you can see currently\nmy system is listening, or\n\n271\n00:15:11.760 --> 00:15:15.180\nactually it's connected via\nHTTP to a foreign address.\n\n272\n00:15:15.180 --> 00:15:17.860\nBut you can see if you got a local\naddress and you're listening on 1028 and\n\n273\n00:15:17.860 --> 00:15:22.510\nover here you can see the program\nname that's causing it.\n\n274\n00:15:22.510 --> 00:15:25.580\nI can see that right now I've got some\nclock applets probably doing network\n\n275\n00:15:25.580 --> 00:15:27.590\ntime updates or something and so\n\n276\n00:15:27.590 --> 00:15:30.650\nit's reaching out here to this\nother system to get that update.\n\n277\n00:15:30.650 --> 00:15:33.170\nYou can get an idea of what\nprogram it is that's doing it.\n\n278\n00:15:33.170 --> 00:15:37.600\nBut Nmap is a great way to scan and\nsee things from the outsiders perspective.\n\n279\n00:15:37.600 --> 00:15:41.380\nWhen you look with Netstat it tells\nyou you're listening on those ports.\n\n280\n00:15:41.380 --> 00:15:44.500\nBut you may or may not actually be able\n\n281\n00:15:44.500 --> 00:15:47.740\nto access those from the web because\nyou might have firewalls in between.\n\n282\n00:15:47.740 --> 00:15:50.910\nSo it doesn't matter that you're listing\non the port if outside people can't get to\n\n283\n00:15:50.910 --> 00:15:51.630\nit right?\n\n284\n00:15:51.630 --> 00:15:54.217\nAnd that gives us a more realistic view.\n\n285\n00:15:54.217 --> 00:15:58.081\nNow be careful with\nNmap of yourself right?\n\n286\n00:15:58.081 --> 00:16:02.046\nWhen you scan yourself You might\nbe behind a firewall already, so\n\n287\n00:16:02.046 --> 00:16:04.940\nyou've kind of gotten\nout of that protection.\n\n288\n00:16:04.940 --> 00:16:06.010\nI mean, you can use it quickly.\n\n289\n00:16:06.010 --> 00:16:10.878\nHere I can see that I've got ssh, smtp,\napparently I'm a little mail server,\n\n290\n00:16:10.878 --> 00:16:13.215\nhttp, and Internet print protocol.\n\n291\n00:16:13.215 --> 00:16:15.560\nSo I've got a couple of things\nrunning on this system.\n\n292\n00:16:15.560 --> 00:16:19.020\nAnd they're open,\nas far as my system is concerned.\n\n293\n00:16:19.020 --> 00:16:21.170\nI could use IP tables to try and\nblock those, or\n\n294\n00:16:21.170 --> 00:16:23.100\nI could use a network\nfirewall to block those.\n\n295\n00:16:23.100 --> 00:16:26.610\nBut again, we need to be sure\nof what our system is open and\n\n296\n00:16:26.610 --> 00:16:28.840\ndoing and kinda get an eye on that.\n\n297\n00:16:28.840 --> 00:16:33.750\nNow, when I did netstat -tp,\nit didn't show ssh on my list.\n\n298\n00:16:33.750 --> 00:16:37.180\nSo I'm gonna rerun that as netstat -atp.\n\n299\n00:16:37.180 --> 00:16:38.250\nThere we go.\n\n300\n00:16:38.250 --> 00:16:42.440\nSo -tp is showing me\nmy active connections.\n\n301\n00:16:43.470 --> 00:16:46.390\nI'm listening on ssh, but it's not\nactive so it didn't make the list.\n\n302\n00:16:46.390 --> 00:16:49.340\nSo when I do -atp,\nnow I'll see those other things.\n\n303\n00:16:49.340 --> 00:16:51.085\nAnd so I can see ssh, right there.\n\n304\n00:16:51.085 --> 00:16:53.570\nI'm listening on ssh.\n\n305\n00:16:53.570 --> 00:16:57.131\nSo if I see that I've got port 1028 open,\nfor whatever reason,\n\n306\n00:16:57.131 --> 00:16:58.641\nit would be here in the list.\n\n307\n00:16:58.641 --> 00:17:01.150\nAnd now I'd be able to see\nthe program name that was tied to it.\n\n308\n00:17:01.150 --> 00:17:02.649\nSo another great way to track that down.\n\n309\n00:17:02.649 --> 00:17:06.680\nSo that was just netstat -atp\nto get even the idle ones.\n\n310\n00:17:08.280 --> 00:17:12.710\nAll right, so\nthat's kind of a good example.\n\n311\n00:17:12.710 --> 00:17:18.623\nThe nmap command that I ran, when I ran\nthat, I just ran like nmap.10.1.10.4 here.\n\n312\n00:17:18.623 --> 00:17:21.000\nAnd it scanned it, and\nit kinda listed that out.\n\n313\n00:17:21.000 --> 00:17:24.420\nThere's a number of different\nsubcommands you can issue to nmap.\n\n314\n00:17:24.420 --> 00:17:27.500\nIf you ever read a command file,\nit's got a ton of information in there.\n\n315\n00:17:27.500 --> 00:17:30.930\nYou can scan entire networks,\nyou can do deep scans.\n\n316\n00:17:30.930 --> 00:17:33.550\nUsually I don't do too much\nin the way of variation.\n\n317\n00:17:33.550 --> 00:17:35.123\nI might do like a -v.\n\n318\n00:17:35.123 --> 00:17:38.332\nA -v tells it really just to hit\nsome of the well known ports, and\n\n319\n00:17:38.332 --> 00:17:40.243\nthat makes it run a little bit faster.\n\n320\n00:17:40.243 --> 00:17:43.657\nBut you'll see on my system it ran\nin basically the same time, right?\n\n321\n00:17:43.657 --> 00:17:48.480\nI had 0.26 seconds on that one,\nversus when I ran it a moment ago.\n\n322\n00:17:48.480 --> 00:17:50.780\nActually, it ran faster last time.\n\n323\n00:17:50.780 --> 00:17:52.920\nSo that really didn't seem to help,\ndid it?\n\n324\n00:17:52.920 --> 00:17:56.510\nYeah, well anyhow,\nsometimes that'll give you a faster scan.\n\n325\n00:17:56.510 --> 00:18:00.070\nIn my case, it actually made things worse.\n\n326\n00:18:00.070 --> 00:18:01.570\nSo you can do that.\n\n327\n00:18:01.570 --> 00:18:05.480\nVarious changes you can make to nmap,\nbut just use it as a quick scanner.\n\n328\n00:18:05.480 --> 00:18:06.960\nAgain, run it from your laptop or\n\n329\n00:18:06.960 --> 00:18:09.170\ndesktop, it'll give you an idea\nof your server's listening on.\n\n330\n00:18:11.080 --> 00:18:13.200\nAll right,\nfew other things that we can do.\n\n331\n00:18:13.200 --> 00:18:18.510\nLet's say that we've got a user,\nor we just notice on our system\n\n332\n00:18:18.510 --> 00:18:22.370\nthat resource utilization is way\nhigher than it should be, right.\n\n333\n00:18:22.370 --> 00:18:25.120\nSomebody calls in and says, hey Don,\nthis server is running slow, and\n\n334\n00:18:25.120 --> 00:18:26.390\nI don't know why.\n\n335\n00:18:26.390 --> 00:18:28.150\nAnd you go and you look,\nand you start diagnosing.\n\n336\n00:18:28.150 --> 00:18:29.160\nYou do troubleshooting, right.\n\n337\n00:18:29.160 --> 00:18:31.860\nYou connect into your server,\nand you run a command like top.\n\n338\n00:18:31.860 --> 00:18:33.740\nRight, let me run the top command.\n\n339\n00:18:33.740 --> 00:18:36.427\nSo if I run top,\nit's gonna show me my processes.\n\n340\n00:18:36.427 --> 00:18:39.907\nAnd I can start to see who is\nconsuming resources on my system, and\n\n341\n00:18:39.907 --> 00:18:40.867\nI can look at CPU.\n\n342\n00:18:40.867 --> 00:18:42.710\nAnd let's say we look at it in there,\ndpezet.\n\n343\n00:18:42.710 --> 00:18:45.470\nSee how dpezet just jumped\nup that gnome-terminal?\n\n344\n00:18:45.470 --> 00:18:47.458\nAnd sure, it's only 1% of the CPU,\nbig deal.\n\n345\n00:18:47.458 --> 00:18:50.840\nBut let's say it was 99% or 100%.\n\n346\n00:18:50.840 --> 00:18:52.910\nI'm pegging out the CPU.\n\n347\n00:18:52.910 --> 00:18:55.170\nAnd other users are calling in and\ncomplaining, like, hey,\n\n348\n00:18:55.170 --> 00:18:57.340\nsomebody's driving this system nuts.\n\n349\n00:18:57.340 --> 00:19:00.110\nWell, it might be good, it might be bad.\n\n350\n00:19:00.110 --> 00:19:01.480\nWe don't necessarily know at this point,\nor\n\n351\n00:19:01.480 --> 00:19:03.290\nyou might,\nyou might be aware of it, right?\n\n352\n00:19:03.290 --> 00:19:04.705\nIf you're aware of it,\nyou might choose to ignore it.\n\n353\n00:19:04.705 --> 00:19:06.122\nBut if you're not aware of it,\n\n354\n00:19:06.122 --> 00:19:09.948\nyou might want to throttle that user while\nyou figure out what's going on, right?\n\n355\n00:19:09.948 --> 00:19:12.230\nWhy are they pegging out 100% of the CPU?\n\n356\n00:19:12.230 --> 00:19:13.570\nShould they be doing that?\n\n357\n00:19:13.570 --> 00:19:16.060\nWe might want to impose limits.\n\n358\n00:19:16.060 --> 00:19:21.030\nNow, limits, we didn't really use those,\nor we don't really use those today.\n\n359\n00:19:21.030 --> 00:19:23.230\nBack in the day, we used limits a lot.\n\n360\n00:19:23.230 --> 00:19:25.522\nYou might remember if you've\nbeen in computers a while,\n\n361\n00:19:25.522 --> 00:19:28.387\nif you've been using the Internet a while,\nback in the dial-up days,\n\n362\n00:19:28.387 --> 00:19:30.365\nyou'd sign up for\na dial-up Internet account.\n\n363\n00:19:30.365 --> 00:19:35.530\nAnd they'd say, you get 100 minutes\nof Internet access per month.\n\n364\n00:19:35.530 --> 00:19:37.010\nWell how did they track that?\n\n365\n00:19:37.010 --> 00:19:39.422\nWell they use radius accounting and\nlimits.\n\n366\n00:19:39.422 --> 00:19:42.230\nAnd when you'd connect into a shared\nsystem to get that Internet access,\n\n367\n00:19:42.230 --> 00:19:44.670\nyou'd share that system\nwith 1,000 other users.\n\n368\n00:19:44.670 --> 00:19:47.078\nHow do they make sure that one\nperson didn't monopolize the system?\n\n369\n00:19:47.078 --> 00:19:48.900\nThey used limits.\n\n370\n00:19:48.900 --> 00:19:53.970\nWe can define limits, how much CPU, how\nmuch memory a user is allowed to consume.\n\n371\n00:19:53.970 --> 00:19:57.450\nAnd that stops one person\nfrom hogging the system.\n\n372\n00:19:57.450 --> 00:19:59.050\nAnd there's two ways we can do it.\n\n373\n00:19:59.050 --> 00:20:01.300\nWe can do it as a on-the-spot thing,\nright?\n\n374\n00:20:01.300 --> 00:20:02.520\nI see a user consuming too much.\n\n375\n00:20:02.520 --> 00:20:06.490\nI can throttle that user,\nright, just a one time thing.\n\n376\n00:20:06.490 --> 00:20:10.910\nOr we can actually build the limits into\nour system so that they're always there.\n\n377\n00:20:10.910 --> 00:20:14.170\nSo that those users aren't able to\nconsume more resources than necessary.\n\n378\n00:20:14.170 --> 00:20:17.910\nSo when we're starting to evaluate\nour system, it's running slow, why?\n\n379\n00:20:17.910 --> 00:20:18.598\nHere's this user,\n\n380\n00:20:18.598 --> 00:20:20.868\nI don't want to stop what they're\ndoing because it might be good.\n\n381\n00:20:20.868 --> 00:20:24.260\nI just want to limit them so\nI can work within the system, right?\n\n382\n00:20:24.260 --> 00:20:25.931\nThat's where these limits come in.\n\n383\n00:20:25.931 --> 00:20:30.747\nSo for that in the Linux kernel,\nwe actually have this tie in that we\n\n384\n00:20:30.747 --> 00:20:35.403\ncan use called ulimit that let's\nus go in and apply user limits.\n\n385\n00:20:35.403 --> 00:20:37.920\nLet me show you how that works.\n\n386\n00:20:37.920 --> 00:20:42.228\nulimit is the command, an oop,\nit doesn't have a normal help.\n\n387\n00:20:42.228 --> 00:20:45.268\nWell anyhow, so\nif you take a look at ulimit,\n\n388\n00:20:45.268 --> 00:20:47.757\nit has a ton of different functions.\n\n389\n00:20:47.757 --> 00:20:50.333\nAnd when I run the ulimit and\nI pull its man page,\n\n390\n00:20:50.333 --> 00:20:52.539\nsee how I'm getting the BASH BUILTINS.\n\n391\n00:20:52.539 --> 00:20:55.693\nulimit is actually a part\nof the BASH shell.\n\n392\n00:20:55.693 --> 00:20:58.853\nAnd when these users are coming in and\nlaunching their shells,\n\n393\n00:20:58.853 --> 00:21:01.666\nits BASH is actually applying\nthose limitations to it.\n\n394\n00:21:01.666 --> 00:21:05.702\nAnd so it's got a ton of\nfunctionality buried in here if I dug\n\n395\n00:21:05.702 --> 00:21:08.064\nthrough this help file to find it.\n\n396\n00:21:08.064 --> 00:21:11.268\nThere we go, ulimit, and here's all\nthe different options that we can specify.\n\n397\n00:21:11.268 --> 00:21:16.218\nMaximum socket buffer, maximum size of\ncore files, maximum size of a process\n\n398\n00:21:16.218 --> 00:21:21.250\ndata segment, and it goes on and on and\non where we can limit so much stuff.\n\n399\n00:21:21.250 --> 00:21:25.410\nLimit the amount of threads they run,\nlimit the amount of cpu time in seconds.\n\n400\n00:21:25.410 --> 00:21:27.620\nYou could really go crazy with this stuff.\n\n401\n00:21:27.620 --> 00:21:31.120\nAnd stop users from monopolizing\nthe system, all right.\n\n402\n00:21:31.120 --> 00:21:37.870\nNow if we do ulimit and do like\na ulimit -a, you'll see right here.\n\n403\n00:21:37.870 --> 00:21:39.870\nAll current limits are reported.\n\n404\n00:21:39.870 --> 00:21:42.370\nThat's gonna show us\nthe limits that we have,\n\n405\n00:21:42.370 --> 00:21:45.020\nand normally we don't really have limits.\n\n406\n00:21:45.020 --> 00:21:49.916\nAnd so notice what I've got here as I look\nat core, data, scheduling, files by size,\n\n407\n00:21:49.916 --> 00:21:51.676\nopen file, cpu time, right?\n\n408\n00:21:51.676 --> 00:21:55.223\ncpu time is normally the one we\ncare about, and if you look at it,\n\n409\n00:21:55.223 --> 00:21:57.480\nit's set to unlimited.\n\n410\n00:21:57.480 --> 00:22:01.290\nSo you could do a ulimit -t and\nspecify a limit,\n\n411\n00:22:01.290 --> 00:22:06.900\nand now you'd tie down the amount of CPU\nutilization that each user can generate.\n\n412\n00:22:06.900 --> 00:22:08.030\nAnd you can specify other things too,\n\n413\n00:22:08.030 --> 00:22:11.870\nlike virtual memory, the maximum amount of\nmemory each user is allowed to consume.\n\n414\n00:22:11.870 --> 00:22:14.190\nAnd that kind of creates that ceiling,\nright?\n\n415\n00:22:14.190 --> 00:22:15.830\nYou just have to be\ncareful with it though,\n\n416\n00:22:15.830 --> 00:22:17.480\nbecause sometimes it's legitimate use.\n\n417\n00:22:17.480 --> 00:22:20.930\nYou want your users to be able to\nhave the resources when they need it.\n\n418\n00:22:20.930 --> 00:22:22.754\nAnd most of the time, users spike, right.\n\n419\n00:22:22.754 --> 00:22:25.484\nThey spike and consume the resources for\na moment, and then it drops down.\n\n420\n00:22:25.484 --> 00:22:27.970\nSo we don't need like a long-term limit.\n\n421\n00:22:27.970 --> 00:22:31.950\nWe can just apply it temporarily or\nsomething.\n\n422\n00:22:31.950 --> 00:22:35.200\nOr we can ignore it and just,\nthe users spike, and then it's done.\n\n423\n00:22:35.200 --> 00:22:37.320\nAnd we just move on, right.\n\n424\n00:22:37.320 --> 00:22:39.980\nBe careful of the ulimit command\nthough because it's not persistent.\n\n425\n00:22:39.980 --> 00:22:43.840\nIf we start defining limits here,\nulimit -t, whatever and\n\n426\n00:22:43.840 --> 00:22:45.810\nwe reboot, we lose those limits.\n\n427\n00:22:45.810 --> 00:22:47.699\nSo if you want the limits\nto be persistent,\n\n428\n00:22:47.699 --> 00:22:49.539\nyou need to store them in your etc folder.\n\n429\n00:22:49.539 --> 00:22:50.700\nAnd let me show you.\n\n430\n00:22:50.700 --> 00:22:53.200\nI don't know if I actually\nhave a limit file on here.\n\n431\n00:22:53.200 --> 00:22:57.500\nBut if you go into /etc/security,\n\n432\n00:22:57.500 --> 00:23:01.090\nyou'll have a file in here\ncalled limits.conf, there it is.\n\n433\n00:23:01.090 --> 00:23:02.650\nSo I have the configuration file.\n\n434\n00:23:02.650 --> 00:23:05.400\nIt might not be there for you,\nif it's not there, you just create it.\n\n435\n00:23:05.400 --> 00:23:06.998\nAnd then you can start to\nput your limits in there.\n\n436\n00:23:06.998 --> 00:23:11.725\nSo it's /etc/security/limits.conf.\n\n437\n00:23:11.725 --> 00:23:16.523\nAnd if I edit that file and\ntake a look in here, you'll see it's\n\n438\n00:23:16.523 --> 00:23:21.791\npretty well documented, and\nyou can specify the limits right here.\n\n439\n00:23:21.791 --> 00:23:24.778\nAnd the nice part about this\nis it'll be persistent.\n\n440\n00:23:24.778 --> 00:23:27.630\nIt'll stay past a reboot, all right.\n\n441\n00:23:27.630 --> 00:23:30.440\nNow, when you define these,\nnotice how they're defined.\n\n442\n00:23:30.440 --> 00:23:34.580\nYou can do a * or a username, okay.\n\n443\n00:23:34.580 --> 00:23:36.630\nIf you do a username, or a group name,\n\n444\n00:23:36.630 --> 00:23:39.140\nfor that matter, then it's going\nto apply just to that person.\n\n445\n00:23:39.140 --> 00:23:41.290\nNotice how some of these\nstart with an @ symbol?\n\n446\n00:23:41.290 --> 00:23:43.640\nAnd some start without an @ symbol,\nall right.\n\n447\n00:23:43.640 --> 00:23:48.350\nThis one says ftp,\nit's applying to a user named ftp.\n\n448\n00:23:48.350 --> 00:23:50.000\nThis one says @student.\n\n449\n00:23:50.000 --> 00:23:53.460\nThat's applying to a group\ncalled students, all right.\n\n450\n00:23:53.460 --> 00:23:54.890\nAnd then you can see the limit.\n\n451\n00:23:54.890 --> 00:23:59.430\nThey've got a hard limit for students,\nfor the number of processes at 20.\n\n452\n00:23:59.430 --> 00:24:03.570\nA student can only run 20 simultaneous\nprocesses, and it's a hard limit.\n\n453\n00:24:03.570 --> 00:24:06.030\nSo if they try and\nrun a 21st one, it'll stop it.\n\n454\n00:24:06.030 --> 00:24:08.210\nThey're limited at 20 processes.\n\n455\n00:24:08.210 --> 00:24:11.460\nVersus their faculty\nhas a soft limit of 20.\n\n456\n00:24:11.460 --> 00:24:14.280\nIf they run 21, it lets them run it.\n\n457\n00:24:14.280 --> 00:24:15.730\nBut it sets off a little alert.\n\n458\n00:24:15.730 --> 00:24:18.430\nWe see an alert get triggered,\na SYSLOG message.\n\n459\n00:24:18.430 --> 00:24:21.220\nSo we're aware that that\nstaff user generates more.\n\n460\n00:24:21.220 --> 00:24:23.970\nAnd then they've got a hard\nlimit defined of 50.\n\n461\n00:24:23.970 --> 00:24:27.170\nWhen they get to that 51st process,\nit won't run.\n\n462\n00:24:27.170 --> 00:24:29.010\nSo we can define that as *.\n\n463\n00:24:29.010 --> 00:24:30.620\nIt applies to everybody.\n\n464\n00:24:30.620 --> 00:24:34.160\nOr we can do it as @student or\n@ whatever when it applies to group.\n\n465\n00:24:34.160 --> 00:24:36.290\nOr just a name, and it applies to a user.\n\n466\n00:24:36.290 --> 00:24:40.142\nAnd it can be a hard or a soft limit,\nmuch like our disk quotas for storage,\n\n467\n00:24:40.142 --> 00:24:40.772\nall right?\n\n468\n00:24:40.772 --> 00:24:43.750\nBut you put those things in here,\nand now when those users connect,\n\n469\n00:24:43.750 --> 00:24:45.276\nthey'll always have that limit.\n\n470\n00:24:45.276 --> 00:24:48.307\nAnd if our server reboots,\nit'll be preserved, all right?\n\n471\n00:24:48.307 --> 00:24:52.410\nNow, you might ask yourself,\nwhy is this in the security section?\n\n472\n00:24:52.410 --> 00:24:54.890\nWell, think about denial\nof service attacks.\n\n473\n00:24:54.890 --> 00:24:57.714\nMost people think of denial of service\nattacks as coming from the network.\n\n474\n00:24:57.714 --> 00:25:01.228\nBut just as easily a user\ncould be on the system and\n\n475\n00:25:01.228 --> 00:25:05.707\nstart monopolizing CPU and\ngenerating a denial service act.\n\n476\n00:25:05.707 --> 00:25:09.249\nOther users can't work cuz\nthey're consuming CPU.\n\n477\n00:25:09.249 --> 00:25:11.596\nSo putting these limits in place\nis a great way to limit that.\n\n478\n00:25:11.596 --> 00:25:13.657\nNow, if you don't have\nend users in your system,\n\n479\n00:25:13.657 --> 00:25:17.145\nif it's a true server and they're just\naccessing the various processes remotely,\n\n480\n00:25:17.145 --> 00:25:18.635\nthen you don't need these limits.\n\n481\n00:25:18.635 --> 00:25:20.940\nAnd that's why a lot of\npeople don't use them.\n\n482\n00:25:20.940 --> 00:25:25.410\nBut if this is a terminal, if users are\nconnecting, these limits are a great way\n\n483\n00:25:25.410 --> 00:25:29.230\nto make sure that they play nice\nwith the other users, all right?\n\n484\n00:25:29.230 --> 00:25:33.894\nSo those are the limits,\n/etc/security/limits.conf.\n\n485\n00:25:33.894 --> 00:25:34.730\nRemember that file location.\n\n486\n00:25:36.570 --> 00:25:40.380\nAll right, I've got a lot of other\nthings that I want to talk about,\n\n487\n00:25:40.380 --> 00:25:42.440\nbut I'm kind of out of\ntime on this segment.\n\n488\n00:25:42.440 --> 00:25:45.060\nSo, this is a good spot for\nus to wrap it up.\n\n489\n00:25:45.060 --> 00:25:47.650\nStay tuned, I'm gonna do a part two,\nmaybe even a part three.\n\n490\n00:25:47.650 --> 00:25:49.380\nI don't know,\nI kind of rambled on a long time.\n\n491\n00:25:49.380 --> 00:25:52.510\nBut we're definitely doing a part two,\ncuz I need to talk about the sudo command,\n\n492\n00:25:52.510 --> 00:25:55.520\nwhich is probably the most important\ncommand I can teach you guys for\n\n493\n00:25:55.520 --> 00:25:56.100\nthis exam.\n\n494\n00:25:56.100 --> 00:25:59.690\nWe definitely wanna be aware of that\none so I wanna take my time with it.\n\n495\n00:25:59.690 --> 00:26:03.100\nStay tuned for that, but for\nthis episode we'll wrap it up here.\n\n496\n00:26:03.100 --> 00:26:04.752\nAnd I'll see you next time.\n\n497\n00:26:04.752 --> 00:26:10.670\n[SOUND]\n\n",
          "vimeoId": "132763274"
        },
        {
          "description": null,
          "length": "1548",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-1-security_administration_pt2-070615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-1-security_administration_pt2-070615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-1-security_administration_pt2-070615-1-sm.jpg",
          "title": "Security Administration Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.142 --> 00:00:13.546\nAll right, good morning,\ngood afternoon, and good evening.\n\n3\n00:00:13.546 --> 00:00:16.227\nAnd welcome back to another\nepisode of ITProTV.\n\n4\n00:00:16.227 --> 00:00:20.800\nI'm your host, Don Pezet, back again\nwith another episode of Linux plus.\n\n5\n00:00:20.800 --> 00:00:25.371\nIn this episode we're gonna be\ncontinuing with our system security or\n\n6\n00:00:25.371 --> 00:00:28.476\nadministering security\non our system series.\n\n7\n00:00:28.476 --> 00:00:32.844\nWe did one episode already and I talked\ntoo much, we didn't get through it all, so\n\n8\n00:00:32.844 --> 00:00:34.198\nhere we are for part two.\n\n9\n00:00:34.198 --> 00:00:37.950\nI got a couple of important commands\nthat we need to cover to be aware of on\n\n10\n00:00:37.950 --> 00:00:40.530\nthe exam, but\nalso to be aware of in real life.\n\n11\n00:00:40.530 --> 00:00:44.000\nAnd the one I'm gonna start of\nwith today is the sudo command and\n\n12\n00:00:44.000 --> 00:00:46.780\nit is really, really important.\n\n13\n00:00:46.780 --> 00:00:49.440\nIt's probably the most important command\nthat we learn out of this whole series for\n\n14\n00:00:49.440 --> 00:00:50.260\nthe exam, and\n\n15\n00:00:50.260 --> 00:00:54.000\nit's one you'll use most every single\nday if you're an administrator.\n\n16\n00:00:54.000 --> 00:00:56.820\nWell, let's talk a little bit\nabout what we're worried about,\n\n17\n00:00:56.820 --> 00:00:59.483\nwhat our problem is and\nhow sudo solves it for us.\n\n18\n00:00:59.483 --> 00:01:01.190\nSo we have a little bit of a problem.\n\n19\n00:01:01.190 --> 00:01:05.382\nWhen we log into a Linux box, if we\ncreated a user account for ourselves,\n\n20\n00:01:05.382 --> 00:01:08.490\nit's probably just a regular user account.\n\n21\n00:01:08.490 --> 00:01:12.090\nAnd there's things that\na regular user can't do.\n\n22\n00:01:12.090 --> 00:01:15.840\nSo for example, a regular user\ncan't modify configuration files.\n\n23\n00:01:15.840 --> 00:01:17.940\nAnd that can be a real problem.\n\n24\n00:01:17.940 --> 00:01:22.010\nSo if I'm logged in, let's take my machine\nhere, so I'm logged in as my user.\n\n25\n00:01:22.010 --> 00:01:24.615\nAnd if I do a whoami,\nI'm logged in as dpezet.\n\n26\n00:01:26.140 --> 00:01:28.810\nAnd let's say that I want to go in and\n\n27\n00:01:28.810 --> 00:01:33.580\nperform something like ifdown eth0,\nI want to shut down an interface.\n\n28\n00:01:34.800 --> 00:01:37.613\nAnd I get Users cannot\ncontrol this device.\n\n29\n00:01:37.613 --> 00:01:38.620\nI don't have permission.\n\n30\n00:01:38.620 --> 00:01:41.755\nI'm just a regular old user.\n\n31\n00:01:41.755 --> 00:01:44.135\nSo what can I do?\n\n32\n00:01:44.135 --> 00:01:45.899\nWell, I can log in as root.\n\n33\n00:01:45.899 --> 00:01:49.010\nIf I log in as the root user,\nI can shut that interface down.\n\n34\n00:01:49.010 --> 00:01:51.299\nAnd so that's what a lot of people do,\nis they open up another window and\n\n35\n00:01:51.299 --> 00:01:52.610\nthey log in as root.\n\n36\n00:01:52.610 --> 00:01:58.450\nBut the problem is if you log in as root,\neverything you do runs as root.\n\n37\n00:01:58.450 --> 00:02:00.920\nSo if you're running the X Windows\ninterface, like I am,\n\n38\n00:02:00.920 --> 00:02:04.360\nthe graphical user interface,\nthat whole GUI is now running as root, and\n\n39\n00:02:04.360 --> 00:02:06.820\nevery program you run\nis now running as root.\n\n40\n00:02:06.820 --> 00:02:09.010\nAnd they can all do really bad things.\n\n41\n00:02:09.010 --> 00:02:12.469\nYou fire up Firefox and start browsing\nthe Internet, you're running as root,\n\n42\n00:02:12.469 --> 00:02:14.586\nplugins start doing all\nsorts of crazy things and\n\n43\n00:02:14.586 --> 00:02:17.285\nyou end up with a system whose\nsecurity has been compromised.\n\n44\n00:02:17.285 --> 00:02:20.779\nSo you should never log in as root, ever.\n\n45\n00:02:20.779 --> 00:02:24.767\nThere's never a time where you\nshould log into a system as root.\n\n46\n00:02:24.767 --> 00:02:27.028\nExcept the very first\ntime you do an install,\n\n47\n00:02:27.028 --> 00:02:29.500\nyou've got to create your own account.\n\n48\n00:02:29.500 --> 00:02:32.080\nNow most distros will actually\ndo that during the installation,\n\n49\n00:02:32.080 --> 00:02:33.930\nso if you've already got\nyour own user account,\n\n50\n00:02:33.930 --> 00:02:36.330\nyou literally never should\nlog in as root on a system.\n\n51\n00:02:37.840 --> 00:02:42.780\nInstead, there's a few other ways\nwe can perform these actions\n\n52\n00:02:42.780 --> 00:02:44.130\nwith elevated privileges.\n\n53\n00:02:45.240 --> 00:02:48.580\nOne of the original ways was to\nuse the super user command su.\n\n54\n00:02:49.930 --> 00:02:53.280\nsu allows you to assume\nthe identity of another user,\n\n55\n00:02:53.280 --> 00:02:56.800\nand we most commonly use it with\nassuming the identity of the root user.\n\n56\n00:02:56.800 --> 00:03:00.770\nSo here I'm logged in as dpezet.\n\n57\n00:03:00.770 --> 00:03:04.350\nBut if I run su and then leave it blank or\n\n58\n00:03:04.350 --> 00:03:09.480\nsu root, either one,\nit's gonna switch me to root.\n\n59\n00:03:09.480 --> 00:03:13.250\nSo if I do that su it's now asking me for\nthe root user's password and\n\n60\n00:03:13.250 --> 00:03:16.370\nI can provide that, and\nnow I'm logged in as root.\n\n61\n00:03:16.370 --> 00:03:22.270\nSee how my prompt changed from\ndpezet@dplaptop to root@dplaptop?\n\n62\n00:03:22.270 --> 00:03:25.630\nAnd if I do a whoami, I'm now root.\n\n63\n00:03:25.630 --> 00:03:31.710\nI can now run things like ifdown eth0 and\nthat interface just went down.\n\n64\n00:03:31.710 --> 00:03:36.550\nAnd then I can run ifup and\nI'll bring it back up.\n\n65\n00:03:36.550 --> 00:03:38.490\nOh, apparently it wasn't down yet.\n\n66\n00:03:38.490 --> 00:03:40.150\nOh, no, it came back up, yep.\n\n67\n00:03:40.150 --> 00:03:42.530\nVerifying the IP address is not in use and\nthen it's back up.\n\n68\n00:03:42.530 --> 00:03:44.950\nSo now I can perform those actions.\n\n69\n00:03:44.950 --> 00:03:48.530\nI'm logged in as dpezet,\nmy graphical user interface is dpezet,\n\n70\n00:03:48.530 --> 00:03:50.080\nall the other programs I'm running.\n\n71\n00:03:50.080 --> 00:03:53.060\nBut this one shell is now root.\n\n72\n00:03:53.060 --> 00:03:55.837\nAnd so I can run that and\nI can start to do things.\n\n73\n00:03:55.837 --> 00:03:58.148\nNow that kind of solves our problem.\n\n74\n00:03:58.148 --> 00:03:59.382\nAnd as a root user,\n\n75\n00:03:59.382 --> 00:04:04.960\nyou might want to impersonate another user\nto test something, so I could say su jdoe.\n\n76\n00:04:04.960 --> 00:04:07.330\nI'm gonna assume the identity of John Doe.\n\n77\n00:04:07.330 --> 00:04:10.000\nAnd now there I am, I'm John Doe.\n\n78\n00:04:10.000 --> 00:04:12.150\nAs a root user, I'm allowed to do that.\n\n79\n00:04:12.150 --> 00:04:13.440\nIt didn't even ask me for a password.\n\n80\n00:04:14.810 --> 00:04:17.510\nIf I type exit,\nI get out of that su instance and\n\n81\n00:04:17.510 --> 00:04:20.572\nyou can see I'm all the way\nback to being dpezet now.\n\n82\n00:04:20.572 --> 00:04:26.880\nAnd as dpezet if I run su jdoe, I have to\nhave his password to assume his identity.\n\n83\n00:04:26.880 --> 00:04:28.150\nA root user doesn't.\n\n84\n00:04:28.150 --> 00:04:30.900\nBut now I can assume Joe's identity and\n\n85\n00:04:30.900 --> 00:04:33.930\nnow I'm running programs as Joe\nbecause I had his password.\n\n86\n00:04:35.030 --> 00:04:37.150\nSo the su command is a pretty\nneat way to do that.\n\n87\n00:04:37.150 --> 00:04:40.490\nThe problem is it's easy\nto forget you've done it.\n\n88\n00:04:40.490 --> 00:04:44.080\nWhen you run su and you get logged in,\nyou're now in the shell,\n\n89\n00:04:44.080 --> 00:04:45.120\nyou start working.\n\n90\n00:04:45.120 --> 00:04:46.390\nMaybe you move on and do other things and\n\n91\n00:04:46.390 --> 00:04:49.240\nyou come back here and\nyou forget that you're logged in as root.\n\n92\n00:04:50.280 --> 00:04:52.020\nsu is kind of a permanent thing.\n\n93\n00:04:52.020 --> 00:04:55.900\nYou stay as the root user\nuntil you exit out of it,\n\n94\n00:04:55.900 --> 00:04:57.820\nuntil you actually type the exit\ncommand to get out of it.\n\n95\n00:04:59.130 --> 00:05:02.490\nWell, most of the times we don't\nneed to stay as the root user.\n\n96\n00:05:02.490 --> 00:05:04.740\nWe just need to run one\ncommand as the root user.\n\n97\n00:05:04.740 --> 00:05:07.050\nWe just need to temporarily run something.\n\n98\n00:05:07.050 --> 00:05:10.620\nAnd that's what the sudo command does.\n\n99\n00:05:10.620 --> 00:05:13.480\nThat means super user do.\n\n100\n00:05:13.480 --> 00:05:15.690\nDo something as the super user.\n\n101\n00:05:15.690 --> 00:05:20.880\nI can say sudo followed\nby a command like ls, and\n\n102\n00:05:20.880 --> 00:05:22.960\nit's gonna run just that\ncommand as super user and\n\n103\n00:05:22.960 --> 00:05:26.460\nthen put me right back to who I am,\nto my regular user.\n\n104\n00:05:27.950 --> 00:05:31.500\nThe only problem here is, by default,\n\n105\n00:05:31.500 --> 00:05:35.460\nyou probably don't have permission\nto run the sudo command.\n\n106\n00:05:35.460 --> 00:05:39.700\nSo for example, if I run sudo ls,\nit's gonna ask me for my password,\n\n107\n00:05:39.700 --> 00:05:45.245\nand I'm gonna provide it, and\nI get dpezet is not in the sudoers file.\n\n108\n00:05:45.245 --> 00:05:46.910\nThe incident will be reported.\n\n109\n00:05:46.910 --> 00:05:49.010\nSo it's showing that I tried\nto use the sudo command, and\n\n110\n00:05:49.010 --> 00:05:49.980\nI didn't have permissions.\n\n111\n00:05:49.980 --> 00:05:51.166\nI put the right password in.\n\n112\n00:05:51.166 --> 00:05:52.525\nI just don't have permissions.\n\n113\n00:05:52.525 --> 00:05:54.297\nSo if we wanna make use of this,\n\n114\n00:05:54.297 --> 00:05:59.090\nwe need to specifically authorize users or\ngroups to be able to do the sudo command.\n\n115\n00:06:00.090 --> 00:06:01.900\nLet me show you how that's done.\n\n116\n00:06:01.900 --> 00:06:05.050\nIt's actually all maintained\nin a configuration file.\n\n117\n00:06:05.050 --> 00:06:07.060\nAnd so you can go and\nedit that configuration file.\n\n118\n00:06:07.060 --> 00:06:10.910\nYou do have to be a root user\nto modify that file, though, so\n\n119\n00:06:10.910 --> 00:06:13.900\nI am gonna have to use the su\ncommand here to take care of that.\n\n120\n00:06:13.900 --> 00:06:18.430\nSo I'll just say su and\nswitch over to the root user.\n\n121\n00:06:18.430 --> 00:06:22.350\nNow in some distros you can just go\nstraight over to where the config file\n\n122\n00:06:22.350 --> 00:06:23.350\nis and edit it.\n\n123\n00:06:23.350 --> 00:06:27.920\nIn other systems, they actually\nhave a command called visudo which\n\n124\n00:06:27.920 --> 00:06:32.540\npulls up the configuration file in the vi\neditor for you and takes you right to it.\n\n125\n00:06:32.540 --> 00:06:35.620\nYou usually want to use this\nbecause some distros protect\n\n126\n00:06:35.620 --> 00:06:37.390\nthe configuration file for sudo.\n\n127\n00:06:37.390 --> 00:06:41.020\nObviously it's pretty dangerous and so\nthey don't want you directly editing it.\n\n128\n00:06:41.020 --> 00:06:43.290\nSo I'm gonna use the visudo command.\n\n129\n00:06:43.290 --> 00:06:45.480\nAnd it's just gonna launch vi and\nit's modifying the file.\n\n130\n00:06:45.480 --> 00:06:49.630\nNow notice it's got /etc/sudoers.\n\n131\n00:06:49.630 --> 00:06:55.230\nThat's the file that I would normally go\nto, But right now I'm in /etc/sudoers.tmp,\n\n132\n00:06:55.230 --> 00:06:56.910\nso I'm modifying a temporary\nversion of that file.\n\n133\n00:06:58.200 --> 00:07:01.190\nNow the way the file is\nstructured is pretty simple.\n\n134\n00:07:01.190 --> 00:07:02.740\nYou've got a series of lines.\n\n135\n00:07:02.740 --> 00:07:05.900\nWell, if you take all these comments\nout it's actually almost empty.\n\n136\n00:07:05.900 --> 00:07:09.300\nAnd you basically put in here an alias for\n\n137\n00:07:09.300 --> 00:07:11.960\nwho it is that you want\nto give permissions to.\n\n138\n00:07:11.960 --> 00:07:14.870\nAnd you can be giving permissions\nto a user or a group.\n\n139\n00:07:16.150 --> 00:07:20.400\nSo it's up to you how you wanna do this,\nspecific users or entire groups.\n\n140\n00:07:20.400 --> 00:07:25.246\nThen you specify what computers they're\nallowed to use the sudo command\n\n141\n00:07:25.246 --> 00:07:26.923\nfrom when they connect.\n\n142\n00:07:26.923 --> 00:07:30.460\nAre they only allowed to use sudo when\nthey're sitting here at this machine?\n\n143\n00:07:30.460 --> 00:07:34.130\nOr are they allowed to use sudo when\nthey're remotely connecting via SSH\n\n144\n00:07:34.130 --> 00:07:35.130\nfrom another work station?\n\n145\n00:07:35.130 --> 00:07:38.030\nAnd if they are,\nwhat work stations do we wanna allow?\n\n146\n00:07:38.030 --> 00:07:41.150\nSo you can get really specific about\nhow they're allowed to connect\n\n147\n00:07:41.150 --> 00:07:41.920\nto be able to run sudo.\n\n148\n00:07:44.190 --> 00:07:47.034\nAnd then you specify, they don't\nshow it here in this example but\n\n149\n00:07:47.034 --> 00:07:48.545\nif we go down a little bit further.\n\n150\n00:07:48.545 --> 00:07:52.549\nYou can specify what commands\nthey're allowed to run.\n\n151\n00:07:52.549 --> 00:07:53.962\nYou can get really specific.\n\n152\n00:07:53.962 --> 00:07:57.459\nThey're allowed to use sudo but\nonly for running fdisk.\n\n153\n00:07:57.459 --> 00:08:00.374\nOr only for running mount or\npartprobe, or something like that,\n\n154\n00:08:00.374 --> 00:08:04.400\nbeing really specific about what\ncommands they wanna be able to run.\n\n155\n00:08:04.400 --> 00:08:08.600\nAnd then you can specify whether or\nnot we ask for a password,\n\n156\n00:08:08.600 --> 00:08:11.500\nwhich they don't really have\nan example in the comment, do they?\n\n157\n00:08:11.500 --> 00:08:12.890\nWell, I'll add my own.\n\n158\n00:08:12.890 --> 00:08:14.360\nSo you can kind of specify that too.\n\n159\n00:08:14.360 --> 00:08:17.040\nYou can really get detailed\nwith these sudo commands.\n\n160\n00:08:17.040 --> 00:08:21.766\nMost people don't dig through the configs\nvery much because there's a standard\n\n161\n00:08:21.766 --> 00:08:25.740\nexample, which is this example right here,\nthat most people use.\n\n162\n00:08:25.740 --> 00:08:31.505\nAnd what this is saying is we're\ngonna give the wheel group,\n\n163\n00:08:31.505 --> 00:08:39.079\nso anybody in the wheel group, we're gonna\nlet them log in from any computer and\n\n164\n00:08:39.079 --> 00:08:44.980\nbe able to run all commands as\nlong as they provide a password.\n\n165\n00:08:44.980 --> 00:08:48.396\nThe sudo command actually came from\nthe BSD world, and in the BSD world,\n\n166\n00:08:48.396 --> 00:08:51.670\nthey use the wheel group to\ndefine basically administrators.\n\n167\n00:08:51.670 --> 00:08:54.760\nIn the Linux world, we have the wheel\ngroup just for compatibility with BSD,\n\n168\n00:08:54.760 --> 00:08:57.680\nbut we don't actually use it,\nso wheel is normally empty.\n\n169\n00:08:57.680 --> 00:09:01.540\nYou can choose to use the wheel group if\nyou want, kinda keep it BSD-compatible.\n\n170\n00:09:01.540 --> 00:09:05.560\nOr you can make your own group that you\nwant to treat as your administrators.\n\n171\n00:09:05.560 --> 00:09:07.970\nSo maybe I create a group called admins,\nand\n\n172\n00:09:07.970 --> 00:09:11.800\nthen in here I can define admins as\nhaving the ability to run sudo, and\n\n173\n00:09:11.800 --> 00:09:14.380\nthen that kinda makes them actual admins,\nright?\n\n174\n00:09:14.380 --> 00:09:17.020\nSo you can define that however you want.\n\n175\n00:09:17.020 --> 00:09:20.600\nNow, they've got this NOPASSWD: ALL.\n\n176\n00:09:20.600 --> 00:09:25.355\nThat means that for this group if I turn\nthis on, they can run every command, and\n\n177\n00:09:25.355 --> 00:09:28.240\nsudo is not gonna ask them for\ntheir password.\n\n178\n00:09:28.240 --> 00:09:31.200\nWell, it's usually a good idea to ask for\nthe password, cuz if\n\n179\n00:09:31.200 --> 00:09:34.680\nthey stay logged in on a machine and they\nwalk away, and somebody else runs and sits\n\n180\n00:09:34.680 --> 00:09:39.080\ndown on their machine, and runs a sudo,\nit's gonna prompt for the password again.\n\n181\n00:09:39.080 --> 00:09:42.060\nSo you kind of effectively stop\nthat mistake from happening.\n\n182\n00:09:42.060 --> 00:09:46.020\nVersus if you say NOPASSWD, if somebody\ngets up and walks away from the computer,\n\n183\n00:09:46.020 --> 00:09:48.970\nsomebody could run up and start sudoing\ncommands and it doesn't ask for\n\n184\n00:09:48.970 --> 00:09:51.790\ntheir password again, and so\nnow you're somewhat vulnerable.\n\n185\n00:09:52.800 --> 00:09:56.370\nSo, we can add in specific users,\nwe can add in particular groups,\n\n186\n00:09:56.370 --> 00:09:58.950\nyou can do all sorts of cool stuff\nin here, it's really not a big deal.\n\n187\n00:09:58.950 --> 00:10:02.210\nHere's the only uncommented\nline that I got,\n\n188\n00:10:02.210 --> 00:10:06.360\nwhich is the root user is allowed\nto connect from any workstation and\n\n189\n00:10:06.360 --> 00:10:09.640\nrun any command, and\nit'll just prompt for their password.\n\n190\n00:10:09.640 --> 00:10:13.239\nSo I may wanna come in here and\nadd to that, dpezet, and\n\n191\n00:10:13.239 --> 00:10:17.233\nI might wanna allow myself to\nlog in from any workstation, or\n\n192\n00:10:17.233 --> 00:10:20.311\nI might even wanna put\nin just like local host.\n\n193\n00:10:20.311 --> 00:10:22.430\nI can only log in from this host.\n\n194\n00:10:22.430 --> 00:10:23.650\nAnd I'm gonna allow myself to run ALL.\n\n195\n00:10:24.650 --> 00:10:28.210\nOr if I create a group,\nI might do like a group called admins, and\n\n196\n00:10:28.210 --> 00:10:31.200\nso I would say %admins.\n\n197\n00:10:31.200 --> 00:10:35.470\nI'll let them log in from anywhere and\nexecute all commands.\n\n198\n00:10:35.470 --> 00:10:39.140\nThat's gonna let them\nuse the sudo command.\n\n199\n00:10:39.140 --> 00:10:40.720\nAnd then I just need to save this file.\n\n200\n00:10:40.720 --> 00:10:45.770\nSo it's vi, so I'll hit Escape\n:wq to exit and write that.\n\n201\n00:10:47.540 --> 00:10:51.220\nNow I'm gonna type exit to\nget out of my su shell.\n\n202\n00:10:51.220 --> 00:10:54.250\nSo you can see here, I'm just dpezet and\n\n203\n00:10:54.250 --> 00:11:00.060\nif I do whoami, it says dpezet,\nit ran it as me.\n\n204\n00:11:00.060 --> 00:11:06.390\nIf I do sudo whoami, that means run the\nwhoami command but run it as a superuser.\n\n205\n00:11:06.390 --> 00:11:09.840\nAnd it's gonna ask for my password,\nand I'm gonna provide that, and\n\n206\n00:11:09.840 --> 00:11:11.840\nnotice who it returned, root.\n\n207\n00:11:12.850 --> 00:11:16.360\nNow, it asked for my password, and it's\ngonna cache that for a brief moment, so\n\n208\n00:11:16.360 --> 00:11:19.030\nif I run the command again,\nsee how it didn't ask for it?\n\n209\n00:11:19.030 --> 00:11:21.630\nBut it's got a timer, I don't\nremember what it's actually set to,\n\n210\n00:11:21.630 --> 00:11:23.610\nI think five minutes, where for\nthe next five minutes,\n\n211\n00:11:23.610 --> 00:11:26.958\nI can continue to run more commands and\nit's not gonna ask for that password.\n\n212\n00:11:26.958 --> 00:11:29.610\nBut once five minutes passes,\nthen it's gonna start asking for\n\n213\n00:11:29.610 --> 00:11:30.540\nthat password again.\n\n214\n00:11:30.540 --> 00:11:33.680\nSo it's not super-annoying about it,\nbut it wants to make sure that if you\n\n215\n00:11:33.680 --> 00:11:36.570\nwalk away from your computer that\nyou're not putting yourself at risk.\n\n216\n00:11:36.570 --> 00:11:39.150\nNow I can just quickly run one command.\n\n217\n00:11:39.150 --> 00:11:42.720\nI'm logged in as dpezet, but\nI wanna turn that interface off.\n\n218\n00:11:42.720 --> 00:11:48.350\nSo I can say sudo ifdown eth0.\n\n219\n00:11:48.350 --> 00:11:53.030\nThat one command ran as root, and\nnow I'm back to just being me, and\n\n220\n00:11:53.030 --> 00:11:56.300\nI don't have to worry about leaving\nmyself in a root shell or whatever.\n\n221\n00:11:56.300 --> 00:11:59.840\nWhen I have a command that needs admin\naccess, I can run it that way, but\n\n222\n00:11:59.840 --> 00:12:02.710\nthen everything else I'm just\nrunning as my regular user.\n\n223\n00:12:02.710 --> 00:12:07.400\nSudo protects you from accidentally\nmessing up stuff by staying in as root.\n\n224\n00:12:07.400 --> 00:12:08.560\nIt's really, really handy.\n\n225\n00:12:09.760 --> 00:12:12.480\nSo you can use it that way,\nand then if I try and\n\n226\n00:12:12.480 --> 00:12:18.190\ndo something like ifup eth0, well,\na regular user can't do that.\n\n227\n00:12:18.190 --> 00:12:22.404\nI can just add sudo right before it,\nand now there it goes coming up, and\n\n228\n00:12:22.404 --> 00:12:23.960\nthe interface is back up.\n\n229\n00:12:23.960 --> 00:12:26.880\nSo that's the sudo command,\nreally, really handy.\n\n230\n00:12:26.880 --> 00:12:31.220\nFor the exam, remember that you should\nbe using sudo, definitely want that one.\n\n231\n00:12:31.220 --> 00:12:37.000\nYou also need to remember that we had\nto add ourselves to /etc/sudoers,\n\n232\n00:12:37.000 --> 00:12:43.710\nto that file, S-U-D-O-E-R-S, sudoers, and\nwe have to add ourselves to that file.\n\n233\n00:12:43.710 --> 00:12:46.160\nOn some distros you can just go and\nedit it directly.\n\n234\n00:12:46.160 --> 00:12:51.320\nOn others like this one, you need to\nuse visudo, V-I-S-U-D-O, to actually go\n\n235\n00:12:51.320 --> 00:12:54.740\nin there and edit that file, and it's kind\nof a security mechanism that it's got.\n\n236\n00:12:54.740 --> 00:12:59.540\nSo, Sudo, it's installed on every\ndistro that I've touched in the last\n\n237\n00:12:59.540 --> 00:13:01.830\nprobably eight years, so\nit's not a new thing.\n\n238\n00:13:01.830 --> 00:13:03.060\nIt's been around a while.\n\n239\n00:13:03.060 --> 00:13:05.506\nDefinitely take advantage of that one.\n\n240\n00:13:05.506 --> 00:13:10.302\nAll right, a couple other things that we\nneed to be aware of as we harden security\n\n241\n00:13:10.302 --> 00:13:11.240\non our system.\n\n242\n00:13:12.490 --> 00:13:15.630\nMany Linux systems have\nthe GNU tools installed.\n\n243\n00:13:15.630 --> 00:13:18.370\nAnd that's what gives us a lot\nof the commands that we use.\n\n244\n00:13:18.370 --> 00:13:22.180\nIn addition to that, you might have\nsome standard network services,\n\n245\n00:13:22.180 --> 00:13:25.930\nthings like telnet, finger, Archie.\n\n246\n00:13:25.930 --> 00:13:28.520\nThese are protocols that you\nmight not have ever heard of.\n\n247\n00:13:28.520 --> 00:13:32.600\nIf you're new to computers, if you've\nonly been in IT for a handful of years,\n\n248\n00:13:32.600 --> 00:13:36.790\nyou've probably never heard of Archie or\nGopher or protocols like that.\n\n249\n00:13:36.790 --> 00:13:40.650\nBut back in the day, back in late 80s,\nearly 90s, these were very,\n\n250\n00:13:40.650 --> 00:13:45.390\nvery common Internet protocols,\nand UNIX had them built in.\n\n251\n00:13:45.390 --> 00:13:47.920\nLinux is based on UNIX, and as a result,\n\n252\n00:13:47.920 --> 00:13:50.730\nsome distros still have\nthese services built in.\n\n253\n00:13:50.730 --> 00:13:56.290\nNow most of them have been moved off to\na special service process called xinetd,\n\n254\n00:13:56.290 --> 00:13:59.750\nwhich I think is the extended Internet\ndaemon, is what it stands for\n\n255\n00:13:59.750 --> 00:14:00.730\nif I remember right.\n\n256\n00:14:00.730 --> 00:14:02.380\nBut it's xinetd, and\n\n257\n00:14:02.380 --> 00:14:06.010\nit adds these services that\nmost of us don't use anymore.\n\n258\n00:14:06.010 --> 00:14:09.630\nAnd so if you're setting up a new system,\nif you're working in a new distro that\n\n259\n00:14:09.630 --> 00:14:15.650\nyou're not used to, it's a good idea\nto check and see if you're got xinetd.\n\n260\n00:14:15.650 --> 00:14:19.886\nI'm running CentOS 6 or 7,\nI think I'm running CentOS 6 on this one.\n\n261\n00:14:19.886 --> 00:14:22.880\nCentOS 6 and 7, both of them, they don't\nhave it by default, so it's not there,\n\n262\n00:14:22.880 --> 00:14:24.100\nI don't have to worry about it.\n\n263\n00:14:24.100 --> 00:14:27.435\nBut if run CentOS 5 or\nRed Hat Enterprise Linux 5 or\n\n264\n00:14:27.435 --> 00:14:31.840\nsome older distro, it may have it,\nand it may be enabled by default.\n\n265\n00:14:31.840 --> 00:14:34.640\nSo you may have some non-secure\nprotocols in place, and\n\n266\n00:14:34.640 --> 00:14:35.980\nyou might want to disable those.\n\n267\n00:14:35.980 --> 00:14:38.800\nAnd that really goes for any service,\nany service on your system,\n\n268\n00:14:38.800 --> 00:14:41.080\nif you're not gonna use it,\nyou need to turn it off.\n\n269\n00:14:41.080 --> 00:14:43.910\nMaybe you installed Apache\njust to test it out.\n\n270\n00:14:43.910 --> 00:14:46.455\nSo now you're running a web server,\nbut you don't need it anymore.\n\n271\n00:14:46.455 --> 00:14:48.450\nWell, don't leave it running, turn it off.\n\n272\n00:14:48.450 --> 00:14:52.480\nTurn it off, you don't need it,\nget it out of there, any unused services.\n\n273\n00:14:52.480 --> 00:14:57.190\nSo, it is a good idea to kind of evaluate\nyour service list from time to time.\n\n274\n00:14:57.190 --> 00:15:02.470\nAnd you can do, for example,\nthe services --status-all,\n\n275\n00:15:02.470 --> 00:15:04.020\nto list all of your services.\n\n276\n00:15:06.580 --> 00:15:09.840\nOh I'm sorry, service--status-all.\n\n277\n00:15:09.840 --> 00:15:10.850\nThere we go.\n\n278\n00:15:10.850 --> 00:15:12.940\nAnd that'll list all\nthe services that are running.\n\n279\n00:15:12.940 --> 00:15:14.460\nAnd you can kinda look down the list and\nsay,\n\n280\n00:15:14.460 --> 00:15:16.900\nall right, am I running something\nthat I really shouldn't be?\n\n281\n00:15:16.900 --> 00:15:18.130\nYou know, what am I running?\n\n282\n00:15:18.130 --> 00:15:21.540\nA lot of these will be system services,\nso we can't mess with those.\n\n283\n00:15:21.540 --> 00:15:23.720\nBut you can see like I'm running CUPS,\nright?\n\n284\n00:15:23.720 --> 00:15:25.560\nThat's the printing service.\n\n285\n00:15:25.560 --> 00:15:28.440\nIf I'm not gonna be printing from\nthis system, I need to turn that off.\n\n286\n00:15:28.440 --> 00:15:31.290\nGet that thing turned off and don't\nhave it start up again with the system.\n\n287\n00:15:32.650 --> 00:15:36.880\nOther ones we can look for like DNS mask\nis turned on, maybe I don't need that.\n\n288\n00:15:36.880 --> 00:15:38.170\nIf I don't need it, turn it off.\n\n289\n00:15:38.170 --> 00:15:39.300\nAnything like that.\n\n290\n00:15:39.300 --> 00:15:42.520\nAnd definitely look for xinetd.\n\n291\n00:15:42.520 --> 00:15:44.910\nThat guy is the one that\nruns the older protocols.\n\n292\n00:15:44.910 --> 00:15:48.262\nAnd as I look down my system,\nI kind of don't expect to see it.\n\n293\n00:15:48.262 --> 00:15:51.860\nYeah, I don't have it on mine, but\nif you do, you got two choices.\n\n294\n00:15:51.860 --> 00:15:53.527\nOne is to turn it off.\n\n295\n00:15:53.527 --> 00:15:56.507\nThe other thing though is,\nyou might have it for a reason.\n\n296\n00:15:56.507 --> 00:15:57.832\nMaybe you need it.\n\n297\n00:15:57.832 --> 00:16:00.607\nMaybe you've got some service\nthat just requires Telnet.\n\n298\n00:16:00.607 --> 00:16:02.437\nYou have to have Telnet connectivity.\n\n299\n00:16:02.437 --> 00:16:05.630\nSo, you install that xinetd,\nyou got that on there.\n\n300\n00:16:05.630 --> 00:16:08.700\nWell, xinetd has it's own\nconfiguration file and\n\n301\n00:16:08.700 --> 00:16:12.760\nin that you can tweak what services\nare on and what services are off.\n\n302\n00:16:12.760 --> 00:16:17.995\nSo for example, here I'm gonna,\nlet me just install xinetd on mine.\n\n303\n00:16:17.995 --> 00:16:22.946\nAnd, reroute, so here's a good chance for\nme to use my sudo command, there we go.\n\n304\n00:16:22.946 --> 00:16:25.080\nAnd I'm gonna go ahead and\ninstall that service.\n\n305\n00:16:25.080 --> 00:16:27.630\nAll right, so that's gonna install it and\nget it in place.\n\n306\n00:16:27.630 --> 00:16:29.880\nSo I've got that and now I can go and\n\n307\n00:16:29.880 --> 00:16:32.320\nstart to take a look at\nits configuration files.\n\n308\n00:16:32.320 --> 00:16:38.375\nAnd if I take a look at,\nlet's see, this guy,\n\n309\n00:16:38.375 --> 00:16:45.120\n/etc/xinetd.d In there you can see\nit created a series of files, right?\n\n310\n00:16:45.120 --> 00:16:48.070\nDaytime, discard time, rsyn and so on.\n\n311\n00:16:48.070 --> 00:16:51.470\nThese are some of the configurations for\nindividual services but there's actually\n\n312\n00:16:51.470 --> 00:16:57.300\na master configuration file just right\ninside, [LAUGH], right inside of /etc.\n\n313\n00:16:57.300 --> 00:16:58.680\nSo if I.\n\n314\n00:16:58.680 --> 00:17:01.000\nTake a look in here, I'll find a file.\n\n315\n00:17:01.000 --> 00:17:06.781\nThis guy right here /etc/xinetd.conf and\nI'm gonna edit that file.\n\n316\n00:17:09.636 --> 00:17:12.650\nAnd in there, permission denied.\n\n317\n00:17:12.650 --> 00:17:16.750\nYou know, again I'm not doing my\nsudo like I should, there we go.\n\n318\n00:17:16.750 --> 00:17:18.840\nNow we can start to take a look\nat those individual services and\n\n319\n00:17:18.840 --> 00:17:20.790\nwhether they're turned on or not, right?\n\n320\n00:17:20.790 --> 00:17:22.650\nAnd so as you start to look through here,\n\n321\n00:17:22.650 --> 00:17:25.950\nyou'll see this one is actually just\nincluding everything in that subdirectory.\n\n322\n00:17:25.950 --> 00:17:28.410\nSo this one actually is not gonna\nhave anything in it at all, is it?\n\n323\n00:17:29.730 --> 00:17:32.960\nBut here we've got the enabled equals and\ndisabled equals.\n\n324\n00:17:32.960 --> 00:17:36.330\nAnd here's where we can specify which\nof the services we wanna turn on,\n\n325\n00:17:36.330 --> 00:17:38.770\nand which of the services\nwe wanna turn off.\n\n326\n00:17:38.770 --> 00:17:43.170\nAnd so if you actually need xinetd,\nthe recommendation is to disable\n\n327\n00:17:43.170 --> 00:17:47.070\nthe services in it that you don't need,\nand just enable the ones that you do.\n\n328\n00:17:47.070 --> 00:17:49.500\nAnd I'm using xinetd here as my example,\nbut\n\n329\n00:17:49.500 --> 00:17:51.350\nthis goes for\nany service that's out there.\n\n330\n00:17:51.350 --> 00:17:54.040\nIf you add a service to your system,\nand you're only using\n\n331\n00:17:54.040 --> 00:17:57.350\nparts of its functionality,\nturn off the parts you're not using.\n\n332\n00:17:57.350 --> 00:18:00.220\nThat's a way of,\nthey call it reducing your attack surface.\n\n333\n00:18:00.220 --> 00:18:03.442\nGiving a hacker less stuff that\nthey can target on your system and\n\n334\n00:18:03.442 --> 00:18:05.481\nthat's a pretty important thing to do.\n\n335\n00:18:09.023 --> 00:18:12.188\nAll right now, if I need to\ntighten up security on a service,\n\n336\n00:18:12.188 --> 00:18:15.510\nI usually go to the service\nconfig files like this, right?\n\n337\n00:18:15.510 --> 00:18:16.770\nYou hunt down those config files and\n\n338\n00:18:16.770 --> 00:18:19.310\nthey've usually got functionality\nin there to restrict it.\n\n339\n00:18:19.310 --> 00:18:21.730\nThere is another way though all right?\n\n340\n00:18:21.730 --> 00:18:26.879\nYou might remember from\nsome of our other episodes\n\n341\n00:18:26.879 --> 00:18:32.151\nthat sometimes we have\nslash let's see it's slash\n\n342\n00:18:32.151 --> 00:18:39.050\netc slash a command.allow, or\na command.deny file, right?\n\n343\n00:18:39.050 --> 00:18:40.650\nSo look here at my system.\n\n344\n00:18:40.650 --> 00:18:45.460\nI've got /etc/hosts.allow, all right?\n\n345\n00:18:45.460 --> 00:18:50.914\nThat's people allowed to use the hosts\ncommand or I've got /etc/at.deny,\n\n346\n00:18:50.914 --> 00:18:55.300\npeople who are denied the ability\nto use the at command.\n\n347\n00:18:55.300 --> 00:18:59.230\nPeople denied the ability to use cron or\nhost, so\n\n348\n00:18:59.230 --> 00:19:03.220\nI've got these files that are specifying\nwho's allowed or denied the ability to use\n\n349\n00:19:03.220 --> 00:19:06.650\na particular command, or a service,\nit's really tied to a service.\n\n350\n00:19:06.650 --> 00:19:10.580\nSo that the at and cron,\nthose run jobs at a scheduled interval, so\n\n351\n00:19:10.580 --> 00:19:12.350\nthat's a service that\nruns in the background.\n\n352\n00:19:12.350 --> 00:19:14.960\nHost is a service for\ndoing name resolution.\n\n353\n00:19:14.960 --> 00:19:17.852\nSo we can restrict\npeople's access to that.\n\n354\n00:19:17.852 --> 00:19:20.670\nAll right,\nnow that is kind of an interesting thing,\n\n355\n00:19:20.670 --> 00:19:23.360\nbecause it's not a function\nof the service itself.\n\n356\n00:19:23.360 --> 00:19:28.986\nMany services inside of Linux\nleverage what are TCP wrappers.\n\n357\n00:19:28.986 --> 00:19:30.951\nThese are TCP wrappers.\n\n358\n00:19:30.951 --> 00:19:36.320\nWhen a TCP port is open on your system,\nwhich is what a network service will use.\n\n359\n00:19:36.320 --> 00:19:38.730\nWe can define who's allowed\nto use that TCP port.\n\n360\n00:19:38.730 --> 00:19:42.270\nIn other words, who's allowed\nto even talk to that service?\n\n361\n00:19:42.270 --> 00:19:45.780\nAnd we can leverage these allow and\ndeny files to define that.\n\n362\n00:19:45.780 --> 00:19:48.000\nWell, which services support that?\n\n363\n00:19:48.000 --> 00:19:49.670\nSometimes it's kinda hard to tell.\n\n364\n00:19:49.670 --> 00:19:53.220\nWhen somebody writes a service\nall they have to do is include\n\n365\n00:19:53.220 --> 00:19:57.050\nthe TCP wrapper library in that\nservice and now it supports wrappers.\n\n366\n00:19:57.050 --> 00:20:01.100\nSo technically any developer,\nany developer of any software on Linux can\n\n367\n00:20:02.530 --> 00:20:05.650\nincorporate TCP wrappers just\nby simply including the library.\n\n368\n00:20:05.650 --> 00:20:09.160\nThat's all they have to do,\nbut not every developer does.\n\n369\n00:20:09.160 --> 00:20:11.720\nThey might have their own system for\ncontrolling access.\n\n370\n00:20:11.720 --> 00:20:13.135\nSo like MySQL.\n\n371\n00:20:13.135 --> 00:20:15.770\nMySQL has it's own way of\nsetting permissions for\n\n372\n00:20:15.770 --> 00:20:18.010\nwhat systems are allowed to connect\nto it and which ones aren't.\n\n373\n00:20:18.010 --> 00:20:23.200\nSo it doesn't need TCP wrappers so they\ndon't include it, but other services do.\n\n374\n00:20:23.200 --> 00:20:25.150\nIf you want to take advantage of these,\n\n375\n00:20:25.150 --> 00:20:27.260\nyou'd be surprised how many\nservices do support it.\n\n376\n00:20:27.260 --> 00:20:30.070\nIf you want to find out,\nthere's a neat way to find out.\n\n377\n00:20:30.070 --> 00:20:33.310\nIf you watched our shared library episode.\n\n378\n00:20:33.310 --> 00:20:35.550\nI talked about a command called LDD.\n\n379\n00:20:35.550 --> 00:20:40.730\nLDD lists your dynamic libraries that\nare attached to any particular file.\n\n380\n00:20:40.730 --> 00:20:43.680\nSo I can take a look at any\nservice on my system and\n\n381\n00:20:43.680 --> 00:20:47.370\nsee if it's linking\nthe TCP wrapper library.\n\n382\n00:20:47.370 --> 00:20:47.980\nAll right?\n\n383\n00:20:47.980 --> 00:20:54.260\nThe way I normally do it is just\nsomething like LDD /user/sbin/sshd.\n\n384\n00:20:54.260 --> 00:20:57.890\nSo I wanna pull up a list\nof libraries that ssh uses.\n\n385\n00:20:57.890 --> 00:21:02.250\nNow I don't see any SSH allow or\ndeny files up here.\n\n386\n00:21:02.250 --> 00:21:06.220\nSo I don't know if SSH can use it or\nnot, but I wanna list the libraries, and\n\n387\n00:21:06.220 --> 00:21:08.920\nthey're gonna be a lot of libraries,\nso I'm gonna filter that out a bit.\n\n388\n00:21:08.920 --> 00:21:11.380\nI'm just gonna, rep that, there we go.\n\n389\n00:21:11.380 --> 00:21:14.520\nAnd I'm gonna look for\nthe word wrap, right.\n\n390\n00:21:14.520 --> 00:21:18.290\nAnd so when it lists the libraries,\nsure enough I can see that\n\n391\n00:21:18.290 --> 00:21:23.440\nthe SSH demon that service,\nis linking to libwrap, right.\n\n392\n00:21:23.440 --> 00:21:26.760\nThat's the TCP library, libwrap.\n\n393\n00:21:26.760 --> 00:21:30.770\nAny service that links to that\nlibrary you can use these allow and\n\n394\n00:21:30.770 --> 00:21:35.180\ndeny files to restrict access so\nif I wanna restrict access to SSH\n\n395\n00:21:35.180 --> 00:21:38.950\nall I need to do is come in and\ncreate an SSHD dot allow or\n\n396\n00:21:38.950 --> 00:21:43.160\nSSH dot deny and\nthat's gonna restrict that access.\n\n397\n00:21:44.860 --> 00:21:49.270\nSo, for example I might want to\ndo an allow file, and I go in and\n\n398\n00:21:49.270 --> 00:21:50.790\nI start to specify those.\n\n399\n00:21:50.790 --> 00:21:54.650\nAnd you would just basically mirror the\nname of the service, and punch that in.\n\n400\n00:21:54.650 --> 00:21:58.010\nIf we take a look at the at.deny file,\nright?\n\n401\n00:21:58.010 --> 00:22:02.380\nSo if I look at /etc/at.deny, right?\n\n402\n00:22:02.380 --> 00:22:04.765\nIt's empty,\nthat's not very exciting, right?\n\n403\n00:22:04.765 --> 00:22:07.210\n[LAUGH] So, right now it's empty,\nwhat does that mean?\n\n404\n00:22:07.210 --> 00:22:11.430\nIt means nobody's denied,\nin other words, everybody can use it.\n\n405\n00:22:11.430 --> 00:22:14.020\nAll I have to do is go in here and\nlist the usernames, put usernames,\n\n406\n00:22:14.020 --> 00:22:20.030\none on each line, and those users will be\ndenied the ability to use the at command.\n\n407\n00:22:20.030 --> 00:22:20.790\nAll right.\n\n408\n00:22:20.790 --> 00:22:24.820\nIf we want to allow everybody,\nand just block a few people,\n\n409\n00:22:24.820 --> 00:22:28.320\nwe use the deny file and we just put\nthe few people we want to block.\n\n410\n00:22:28.320 --> 00:22:31.190\nIf we want to deny everybody, and\n\n411\n00:22:31.190 --> 00:22:34.220\njust allow a few people,\nwe use the allow file instead.\n\n412\n00:22:34.220 --> 00:22:35.210\nAll right.\n\n413\n00:22:35.210 --> 00:22:38.860\nAnd you go in, and then you put it in\nthere, and then you create a At dot allow,\n\n414\n00:22:38.860 --> 00:22:40.892\nand you put just a few people in there.\n\n415\n00:22:40.892 --> 00:22:45.870\nAll right, be careful though, because\nyou can't use both at the same time,\n\n416\n00:22:45.870 --> 00:22:50.980\nnotice my hosts, I've got hosts.allow and\nhosts.deny, that doesn't actually work,\n\n417\n00:22:50.980 --> 00:22:56.550\nalright, if you've got both It uses\nhosts.deny and it ignores hosts.allow.\n\n418\n00:22:56.550 --> 00:23:02.140\nSo it has to use one or the other, so\nyou should only have one or the other.\n\n419\n00:23:02.140 --> 00:23:06.020\nSo, I should probably get rid of one of\nthose and just have the other one present.\n\n420\n00:23:06.020 --> 00:23:07.670\nI'm not quite sure why I have both.\n\n421\n00:23:07.670 --> 00:23:11.630\nBut, that is something to remember is that\nmost of our services that are out there\n\n422\n00:23:11.630 --> 00:23:16.302\nonly support one file at a time, so\nyou pick if you want to do the .allow or\n\n423\n00:23:16.302 --> 00:23:20.670\nthe .deny but what you're doing there is\ncalled a TCP wrapper and in order to use\n\n424\n00:23:20.670 --> 00:23:25.030\nit, you've got to have that functionality\nand not every service does.\n\n425\n00:23:25.030 --> 00:23:26.690\nSo use that LDD command.\n\n426\n00:23:26.690 --> 00:23:27.620\nUse the LDD command,\n\n427\n00:23:27.620 --> 00:23:30.620\nrun it against whatever service\nit is that you're running.\n\n428\n00:23:30.620 --> 00:23:34.370\nMaybe I've got HTTPD right,\nthe web service, and\n\n429\n00:23:34.370 --> 00:23:38.450\nnotice when I ran against that and\nI did a grep for wrap, I got nothing back.\n\n430\n00:23:38.450 --> 00:23:42.310\nWell, Apache doesn't\nsupport the TCP wrappers.\n\n431\n00:23:42.310 --> 00:23:44.890\nApache has its own HT access files,\n\n432\n00:23:44.890 --> 00:23:47.680\nwhere you define exactly who\nhas access and who doesn't.\n\n433\n00:23:47.680 --> 00:23:50.350\nIt doesn't need TCP wrappers and\nso it's not there.\n\n434\n00:23:50.350 --> 00:23:53.070\nBut, SSH, it doesn't have a way build-in\n\n435\n00:23:53.070 --> 00:23:56.300\nto the protocol to restrict who has\naccess other than basic authentication.\n\n436\n00:23:56.300 --> 00:24:00.840\nSo, we need to apply that on our own,\nand we can do that with a TCP wrapper.\n\n437\n00:24:00.840 --> 00:24:02.940\nSo, you can really set that up and\nrestrict it.\n\n438\n00:24:02.940 --> 00:24:03.725\nWorks out pretty well.\n\n439\n00:24:03.725 --> 00:24:04.780\nOkay?\n\n440\n00:24:04.780 --> 00:24:08.290\nSo, that's another great way to kind\nof secure our system for some services.\n\n441\n00:24:09.852 --> 00:24:13.080\nAll right,\nlet's see what else do I want to do here?\n\n442\n00:24:14.850 --> 00:24:18.350\nThat's probably a pretty\ngood example there.\n\n443\n00:24:18.350 --> 00:24:22.330\nAnd you can always look up-every service,\nit's in their documentation, whether they\n\n444\n00:24:22.330 --> 00:24:24.850\nhave TCP wrappers and they have additional\ninformation you can find there.\n\n445\n00:24:24.850 --> 00:24:27.159\nSo, definitely something that you'll use.\n\n446\n00:24:28.630 --> 00:24:32.260\nAll right well I think that's a pretty\ngood overview of basic security here.\n\n447\n00:24:32.260 --> 00:24:36.880\nNow you might be saying to yourself\nright now, well Don, I've got Ubuntu and\n\n448\n00:24:36.880 --> 00:24:39.220\nI've got all this extra security stuff or\nI've got CentOS,\n\n449\n00:24:39.220 --> 00:24:42.330\nI've got this extra security stuff and\nyou're absolutely right.\n\n450\n00:24:42.330 --> 00:24:45.390\nEach of your distros will have\ndifferent firewalls, SC Linux,\n\n451\n00:24:45.390 --> 00:24:48.220\nother security layers inside of it,\nand those are great.\n\n452\n00:24:48.220 --> 00:24:50.800\nBut they're not common\namongst all the distros.\n\n453\n00:24:50.800 --> 00:24:54.310\nDifferent distros use different\npacket filters, or firewalls,\n\n454\n00:24:54.310 --> 00:24:56.410\ndifferent security sublayers.\n\n455\n00:24:56.410 --> 00:24:59.250\nAnd so, for the exam they really\nwant you to be familiar with\n\n456\n00:24:59.250 --> 00:25:01.590\nthe basic ones that\nare common on every system.\n\n457\n00:25:01.590 --> 00:25:04.240\nAnd those are the ones that we've\ncovered here throughout this episode.\n\n458\n00:25:04.240 --> 00:25:07.740\nSo, hopefully that gives you guys a pretty\ngood example of what's out there.\n\n459\n00:25:07.740 --> 00:25:09.370\nWe'll talk about IP tables\na little bit later,\n\n460\n00:25:09.370 --> 00:25:12.430\ncuz that one is a very common\nfirewall system that's out there.\n\n461\n00:25:12.430 --> 00:25:15.660\nBut as far as basic security\nadministration on our system,\n\n462\n00:25:15.660 --> 00:25:17.720\nI think we've covered some of\nthe more important things.\n\n463\n00:25:17.720 --> 00:25:20.990\nSo this is a pretty good spot for\nus to wrap this one up.\n\n464\n00:25:20.990 --> 00:25:22.350\nWe'll stop here.\n\n465\n00:25:22.350 --> 00:25:23.550\nBut the Linux ride isn't over.\n\n466\n00:25:23.550 --> 00:25:24.580\nWe still have more content.\n\n467\n00:25:24.580 --> 00:25:29.110\nWe've gotta talk about SSH, we've gotta\ntalk about some other good stuff.\n\n468\n00:25:29.110 --> 00:25:29.760\nGPG, right?\n\n469\n00:25:29.760 --> 00:25:31.330\nWe're gonna encrypt some data.\n\n470\n00:25:31.330 --> 00:25:32.850\nSo security is far from over.\n\n471\n00:25:32.850 --> 00:25:35.420\nWe've got more of that,\ndefinitely stay tuned for it.\n\n472\n00:25:35.420 --> 00:25:38.720\nBut for\nthis episode we're going to wrap it up.\n\n473\n00:25:38.720 --> 00:25:44.813\nFor ITProTV, I'm Don Pezet,\nand I'll see you next time.\n\n474\n00:25:44.813 --> 00:25:48.190\n[SOUND]\n\n",
          "vimeoId": "132866008"
        },
        {
          "description": null,
          "length": "1537",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-2-securing_data_with_gpg-070715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-2-securing_data_with_gpg-070715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-2-securing_data_with_gpg-070715-1-sm.jpg",
          "title": "Securing Data with GPG",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.541\n[MUSIC]\n\n2\n00:00:10.541 --> 00:00:15.257\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.257 --> 00:00:19.149\nI'm your host Daniel Lowry and here with\nme today is the dance master himself Mr.\n\n4\n00:00:19.149 --> 00:00:19.740\nDon Pezet.\n\n5\n00:00:19.740 --> 00:00:20.660\nHow's it going today, Don?\n\n6\n00:00:20.660 --> 00:00:21.590\n>> Lord of the dance.\n\n7\n00:00:21.590 --> 00:00:23.400\n>> That's right.\n>> Is my official title.\n\n8\n00:00:23.400 --> 00:00:24.200\nWelcome back everybody.\n\n9\n00:00:24.200 --> 00:00:27.864\nJust excited today because we're jumping\nback into Linux + which is always\n\n10\n00:00:27.864 --> 00:00:28.503\na good time.\n\n11\n00:00:28.503 --> 00:00:33.063\nIn this episode we're going to be\ntaking a look at GPG, encrypting and\n\n12\n00:00:33.063 --> 00:00:35.722\nsending and decrypting data using GPG.\n\n13\n00:00:35.722 --> 00:00:37.950\nNow hat the heck is GPG,.\n\n14\n00:00:37.950 --> 00:00:43.400\nWell a long time ago in a galaxy far far\naway there was a gentleman who said boy,\n\n15\n00:00:43.400 --> 00:00:46.100\nwouldn't it be nice if I could send\nemails and not have people read them\n\n16\n00:00:46.100 --> 00:00:49.530\nexcept the people I intend it to be,\nI can send private email.\n\n17\n00:00:49.530 --> 00:00:52.750\nAnd so\nthey came up with a utility called PGP,\n\n18\n00:00:52.750 --> 00:00:55.670\nand PGP stood for pretty good privacy.\n\n19\n00:00:55.670 --> 00:00:58.000\nAnd what the program will let you do\nis you can put data in there, and\n\n20\n00:00:58.000 --> 00:00:59.968\nit would encrypt it, and\nyou could send it to somebody.\n\n21\n00:00:59.968 --> 00:01:03.116\nAnd then, lo and behold,\nthey could receive it, and decrypt it and\n\n22\n00:01:03.116 --> 00:01:04.340\nactually read the stuff.\n\n23\n00:01:04.340 --> 00:01:05.690\nIt was great right.\n\n24\n00:01:05.690 --> 00:01:08.924\nBut PGP was never really freely available.\n\n25\n00:01:08.924 --> 00:01:10.699\nThe software was always private and\n\n26\n00:01:10.699 --> 00:01:14.603\nit ended up getting bought by Semantic,\nwhich If you watch enough of my shows,\n\n27\n00:01:14.603 --> 00:01:17.643\nyou know that I think Semantic\nis where software goes to die.\n\n28\n00:01:17.643 --> 00:01:19.710\nAnd that's exactly what's happened to PGP.\n\n29\n00:01:19.710 --> 00:01:25.695\nSo, instead, we now have GPG,\nwhich is an open-source equivalent to PGP.\n\n30\n00:01:25.695 --> 00:01:32.028\nGPG stands for GNU Privacy Guard and\nit's just an open source version of PGP.\n\n31\n00:01:32.028 --> 00:01:36.020\nIt's software that lets us encrypt data,\nsend it securely, and\n\n32\n00:01:36.020 --> 00:01:37.330\nsomeone on the other end\ncan decrypt the data.\n\n33\n00:01:37.330 --> 00:01:41.580\nNow, you might be saying, well why not\njust use SSH or something like that?\n\n34\n00:01:41.580 --> 00:01:44.746\nThe nice thing about GPG is you can\nencrypt something now while the other\n\n35\n00:01:44.746 --> 00:01:46.320\nuser's not even online.\n\n36\n00:01:46.320 --> 00:01:49.320\nAnd you can send it via email and\nit can just wait until they go and\n\n37\n00:01:49.320 --> 00:01:50.660\ncheck their email and\nreceive it and then open it.\n\n38\n00:01:50.660 --> 00:01:54.310\nAnd so it's a, what'd that be,\nlike an asynchronous type model.\n\n39\n00:01:54.310 --> 00:01:56.610\nYou don't have to have the two\nusers connected at the same time.\n\n40\n00:01:56.610 --> 00:01:59.075\nSo that's the nice part about GPG.\n\n41\n00:01:59.075 --> 00:02:00.765\nAnd it can encrypt anything.\n\n42\n00:02:00.765 --> 00:02:03.365\nAny file, text stream, you even copy and\n\n43\n00:02:03.365 --> 00:02:05.455\npaste right from the clipboard,\nyou can do all sorts of stuff.\n\n44\n00:02:05.455 --> 00:02:08.911\nEncrypt the data, and then you know\nit's secure and it's protected,\n\n45\n00:02:08.911 --> 00:02:11.915\neven if you stick it somewhere\nlike Dropbox or cloud storage.\n\n46\n00:02:11.915 --> 00:02:14.235\nYou know it's safe cuz you encrypted\nit before it left your machine.\n\n47\n00:02:15.305 --> 00:02:20.380\nAll right now using GPG is not terribly\ndifficult, but it does require some setup.\n\n48\n00:02:20.380 --> 00:02:22.470\nBecause there's keys involved.\n\n49\n00:02:22.470 --> 00:02:25.220\nYou have to have a private and\na public key pair.\n\n50\n00:02:26.300 --> 00:02:30.550\nThe private key is capable of\nencrypting and decrypting data, but\n\n51\n00:02:30.550 --> 00:02:34.430\nthe public key is only\ncapable of encrypting data.\n\n52\n00:02:34.430 --> 00:02:38.990\nSo somebody can take data and encrypt it\nwith a public key, send it to you, and\n\n53\n00:02:38.990 --> 00:02:41.310\nif you have the private key,\nyou can decrypt it.\n\n54\n00:02:41.310 --> 00:02:45.584\nSo if Daniel wants to send something\nto me secure and encrypted,\n\n55\n00:02:45.584 --> 00:02:48.846\nI have to generate a private key and\na public key.\n\n56\n00:02:48.846 --> 00:02:51.893\nI have to send him my public key, and\n\n57\n00:02:51.893 --> 00:02:57.390\nthen he can use my public key to\nencrypt the data and send it to me.\n\n58\n00:02:57.390 --> 00:02:59.553\nNow he can't decrypt data\nwith that public key.\n\n59\n00:02:59.553 --> 00:03:01.616\nHe can just encrypt it and send it to me.\n\n60\n00:03:01.616 --> 00:03:04.360\nBut when I get it,\nI've got the private key.\n\n61\n00:03:04.360 --> 00:03:06.449\nI can decrypt it and read it.\n\n62\n00:03:06.449 --> 00:03:10.420\nNow the advantage of this is that my\nprivate key never travels the network.\n\n63\n00:03:10.420 --> 00:03:11.547\nI've got it, it's just me,\n\n64\n00:03:11.547 --> 00:03:13.766\nsomebody would have to break\ninto my computer to get at it.\n\n65\n00:03:13.766 --> 00:03:16.424\nAnd if they've done that then I've\ngot bigger problems than whether my\n\n66\n00:03:16.424 --> 00:03:17.230\ndata's encrypted.\n\n67\n00:03:18.460 --> 00:03:20.710\nSo that's kind of where that\nprivate key comes into play.\n\n68\n00:03:20.710 --> 00:03:23.560\nAnd the public key,\nI can send that out to anybody.\n\n69\n00:03:23.560 --> 00:03:26.735\nI could put it in my email signature so\nthat everybody gets my public key.\n\n70\n00:03:26.735 --> 00:03:29.108\nAnd I can say if you ever wanna\nsend something encrypted to me,\n\n71\n00:03:29.108 --> 00:03:31.540\nhere's my public key, just use it,\nencrypt it, and send it.\n\n72\n00:03:31.540 --> 00:03:32.924\nThere's plenty of people that do that.\n\n73\n00:03:32.924 --> 00:03:37.652\nYou'll see it in their email signature or\nthey'll have like a, what are they, VCB,\n\n74\n00:03:37.652 --> 00:03:39.634\nVCF, the virtual business cards.\n\n75\n00:03:39.634 --> 00:03:44.029\nThey'll have those attached to their email\nthat has a private, a public key in there.\n\n76\n00:03:44.029 --> 00:03:45.635\n>> [CROSSTALK] Don't send the private key.\n\n77\n00:03:45.635 --> 00:03:48.355\n>> Yeah don't bother\nsending that person data.\n\n78\n00:03:48.355 --> 00:03:50.105\nSend them right to the recycle bin.\n\n79\n00:03:50.105 --> 00:03:53.775\nBut so that makes it where people\ncan securely send data to you.\n\n80\n00:03:53.775 --> 00:03:56.880\nNow, if Daniel and\nI want to send data securely back and\n\n81\n00:03:56.880 --> 00:04:01.360\nforth between each other, he would need my\npublic key, I would need his public key.\n\n82\n00:04:01.360 --> 00:04:03.160\nAnd that's really the only\nchallenging part about GPG,\n\n83\n00:04:03.160 --> 00:04:05.430\nis you have to have that key exchange,\nright?\n\n84\n00:04:05.430 --> 00:04:08.250\nAnd that's why people put their public\nkeys in their email signatures so\n\n85\n00:04:08.250 --> 00:04:12.330\nthat everybody out there gets a copy\nof it, but it hasn't really caught on.\n\n86\n00:04:12.330 --> 00:04:16.238\nSo a lot of users don't even know\nabout GPG or PGP or any of it.\n\n87\n00:04:16.238 --> 00:04:19.070\nSo, you gotta kinda educate the users,\ndo the key exchange.\n\n88\n00:04:19.070 --> 00:04:21.140\nAnd once that's done,\nit's really powerful.\n\n89\n00:04:21.140 --> 00:04:22.307\n>> And that's a real shame, right Don?\n\n90\n00:04:22.307 --> 00:04:25.290\nBecause this is some\npretty good encryption.\n\n91\n00:04:25.290 --> 00:04:27.490\nIt is basically them being facetious.\n\n92\n00:04:27.490 --> 00:04:28.701\nThis is good encryption.\n\n93\n00:04:28.701 --> 00:04:31.464\nThis is military,\ngovernment grade encryption, right.\n\n94\n00:04:31.464 --> 00:04:32.130\n>> Yeah.\n\n95\n00:04:32.130 --> 00:04:35.709\nIt's good stuff and it fixes everything\nthat's wrong with e-mail right.\n\n96\n00:04:35.709 --> 00:04:39.018\nE-mail, just SMPT in general,\nsends things in plain text.\n\n97\n00:04:39.018 --> 00:04:43.130\nMaybe it's base-64 encoded,\nwhich takes two seconds to decode.\n\n98\n00:04:43.130 --> 00:04:46.910\nIt's just not really secure.\n\n99\n00:04:46.910 --> 00:04:49.480\nIf you encrypt your email now,\nit's secure.\n\n100\n00:04:49.480 --> 00:04:51.470\nAnd it's not just email,\nany kind of file transfer.\n\n101\n00:04:51.470 --> 00:04:54.180\nYou can use regular old ftp,\nwhich is plain text.\n\n102\n00:04:54.180 --> 00:04:56.569\nBut if you've already encrypted\nyour files, it's safe, right.\n\n103\n00:04:56.569 --> 00:04:58.420\nSo that's kind of a nice thing.\n\n104\n00:04:58.420 --> 00:05:00.040\nAll right, let's see how GPG works.\n\n105\n00:05:00.040 --> 00:05:02.090\nStep one, we need to install it.\n\n106\n00:05:02.090 --> 00:05:04.615\nSome distros have it installed already,\nsome don't right.\n\n107\n00:05:04.615 --> 00:05:06.740\nIf you don't know,\nit's easy to just go in and install it.\n\n108\n00:05:06.740 --> 00:05:10.060\nSo here I'll take my system,\nthis is a CentOS box and\n\n109\n00:05:10.060 --> 00:05:14.980\nI'm just gonna run gpg and\nsure enough it's already installed right.\n\n110\n00:05:14.980 --> 00:05:19.420\nAnd when I ran gpg by itself it\nactually started its startup wizard.\n\n111\n00:05:19.420 --> 00:05:22.700\nThe startup wizard for\nGPG is what's getting it ready for use.\n\n112\n00:05:22.700 --> 00:05:23.940\nIt knows that if you're gonna use it.\n\n113\n00:05:23.940 --> 00:05:25.870\nIt's got to generate a private key and\na public key and\n\n114\n00:05:25.870 --> 00:05:27.630\nit's starting to kind of do that.\n\n115\n00:05:27.630 --> 00:05:32.752\nIf GPG wasn't installed I could\njust do a yum install gpg right?\n\n116\n00:05:32.752 --> 00:05:36.070\nOr @-get install gpg and\nit would install it.\n\n117\n00:05:36.070 --> 00:05:38.310\nBut a lot of distros already have it.\n\n118\n00:05:38.310 --> 00:05:41.480\nBy running gpg,\nit's gonna kick off and start running.\n\n119\n00:05:41.480 --> 00:05:44.415\nNow I do have a slight problem here,\nis that I kinda ran it as root.\n\n120\n00:05:44.415 --> 00:05:45.957\n>> [LAUGH]\n>> So I'm gonna cancel that.\n\n121\n00:05:45.957 --> 00:05:48.060\nI'm a super user in this prompt.\n\n122\n00:05:48.060 --> 00:05:49.620\nSo let me just switch to\nlike a regular user here.\n\n123\n00:05:49.620 --> 00:05:50.250\nI'll do John Doe.\n\n124\n00:05:50.250 --> 00:05:52.880\nSo this is my user, John Doe.\n\n125\n00:05:52.880 --> 00:05:58.300\nAnd John, he needs to generate a private\nand public key and get the system ready.\n\n126\n00:05:58.300 --> 00:06:01.800\nSo you can just run gpg and\nthat'll start that start up wizard.\n\n127\n00:06:01.800 --> 00:06:05.579\nIf you've already got a key and\nyou want a new one, right,\n\n128\n00:06:05.579 --> 00:06:10.690\nmaybe you just don't trust the one\nyou've got, you can do gpg-- gen-key.\n\n129\n00:06:10.690 --> 00:06:11.950\nAnd that'll do it too, right.\n\n130\n00:06:11.950 --> 00:06:13.530\nThat kinda kicks it off again.\n\n131\n00:06:13.530 --> 00:06:16.130\nAnd see here it's gonna start and\ngenerate that key.\n\n132\n00:06:16.130 --> 00:06:19.120\nBut notice these little messages here,\ndirectory created,\n\n133\n00:06:19.120 --> 00:06:21.500\nnew configuration file created, and so on.\n\n134\n00:06:21.500 --> 00:06:24.860\nIt's basically looking for those files\nthat they're missing and creating them.\n\n135\n00:06:24.860 --> 00:06:28.310\nSo I've kind of gotten in the habit\nof running this right here instead of\n\n136\n00:06:28.310 --> 00:06:33.140\njust running gpg, and that way if there's\nalready a key, I don't know who made that.\n\n137\n00:06:33.140 --> 00:06:34.880\nI don't trust that, I wanna make my own,\n\n138\n00:06:34.880 --> 00:06:38.390\nthis is gonna do it and it will run\nthe startup wizard too if it's necessary.\n\n139\n00:06:38.390 --> 00:06:40.931\nSo here it's kinda getting\nthings started up.\n\n140\n00:06:40.931 --> 00:06:46.027\nSo gpg-- gen-key creates that key.\n\n141\n00:06:46.027 --> 00:06:48.695\nHere it's asking me what\nkind of key I want.\n\n142\n00:06:48.695 --> 00:06:49.565\nAnd you can pick.\n\n143\n00:06:49.565 --> 00:06:54.285\nThe default is to use RSA keys for the\nprivate and the public, for the key pair.\n\n144\n00:06:54.285 --> 00:07:00.225\nYou can choose to use, in here it's the\ncipher as well as the hashing algorithm,\n\n145\n00:07:00.225 --> 00:07:01.885\nso it's using RSA for both.\n\n146\n00:07:01.885 --> 00:07:03.721\nYou can use DSA and Elgamal.\n\n147\n00:07:03.721 --> 00:07:07.245\nYou can use DSA and RSA just for\nsigning and not encrypting.\n\n148\n00:07:08.315 --> 00:07:12.520\nMaybe you wanna send data that's signed,\nso that you know if it's been modified.\n\n149\n00:07:12.520 --> 00:07:14.300\nBut you don't care if somebody reads it,\nright.\n\n150\n00:07:14.300 --> 00:07:16.000\nThen why bother encrypting it?\n\n151\n00:07:16.000 --> 00:07:19.860\nNow people will be able to read\nyour email, even if they don't have\n\n152\n00:07:19.860 --> 00:07:22.580\nthe private key associated with it,\ncuz it's not encrypted.\n\n153\n00:07:22.580 --> 00:07:24.730\nBut they can verify whether\nit's been tampered with, so\n\n154\n00:07:24.730 --> 00:07:26.520\nthat's why we're gonna do sign only.\n\n155\n00:07:26.520 --> 00:07:29.030\nAll right, but\nthe default is to do RSA for both, and\n\n156\n00:07:29.030 --> 00:07:30.860\nI'll go ahead and choose that.\n\n157\n00:07:30.860 --> 00:07:34.866\nNow when I ran gpg in the other window\nas root, it didn't generate a new key,\n\n158\n00:07:34.866 --> 00:07:37.071\nit didn't ask for questions like these.\n\n159\n00:07:37.071 --> 00:07:40.505\nIt just generated the default one, so\nthis is nice that I get that option.\n\n160\n00:07:40.505 --> 00:07:41.936\nI can pick my key strength right.\n\n161\n00:07:41.936 --> 00:07:45.502\nDo I want it to be 1,024 bits or\nall the way up to 4,096,\n\n162\n00:07:45.502 --> 00:07:48.288\ndefault's 2,048, I'll stick with that.\n\n163\n00:07:48.288 --> 00:07:52.285\n>> Now Don, is there any,\nsay you picked 4,096, right.\n\n164\n00:07:52.285 --> 00:07:55.347\nIs there anything on my end as I\nreceive it that I would have to do, or\n\n165\n00:07:55.347 --> 00:07:58.935\nam I just going to be able to decrypt that\nno problemo because I've got your key\n\n166\n00:07:58.935 --> 00:08:00.925\n>> Yeah, it's not a big deal.\n\n167\n00:08:00.925 --> 00:08:03.865\nSo once you have the key you know\nthe bit strength and that's it.\n\n168\n00:08:03.865 --> 00:08:04.941\nPicking a stronger key,\n\n169\n00:08:04.941 --> 00:08:08.075\nthe main thing is that it just takes\nlonger to generate that key, right?\n\n170\n00:08:08.075 --> 00:08:09.750\nSo it is a harder key to generate.\n\n171\n00:08:09.750 --> 00:08:13.430\nThat also means it's a harder key to\nguess so it's more secure, right?\n\n172\n00:08:13.430 --> 00:08:15.130\nAnd on the client,\nwhoever's sending you data,\n\n173\n00:08:15.130 --> 00:08:17.580\nthey don't really have to do anything\ndifferent, it's not a big deal, awesome.\n\n174\n00:08:18.730 --> 00:08:21.020\nAll right, so\nI'll just think with that default of 2048.\n\n175\n00:08:21.020 --> 00:08:24.220\nAnd then how long is\nthe key gonna be valid for?\n\n176\n00:08:24.220 --> 00:08:25.840\nNow the default is\nthe key is good forever.\n\n177\n00:08:25.840 --> 00:08:29.420\nBut the problem here is you might\nnot want it to be good forever.\n\n178\n00:08:29.420 --> 00:08:33.380\nYou might wanna do a new key every year,\nso you generate a new key and you move on.\n\n179\n00:08:33.380 --> 00:08:36.300\nThat means if somebody is trying\nto read your emails in the past,\n\n180\n00:08:36.300 --> 00:08:38.360\nthey would have to have the private\nkey that you used in the past,\n\n181\n00:08:38.360 --> 00:08:40.650\nbecause your private key changes.\n\n182\n00:08:40.650 --> 00:08:44.540\nMost people don't do an expiration date\non their GPG keys, but you certainly can.\n\n183\n00:08:44.540 --> 00:08:46.560\nI'm gonna specify here but\nthe default is zero.\n\n184\n00:08:46.560 --> 00:08:47.530\nIt's not going to expire.\n\n185\n00:08:48.900 --> 00:08:51.560\nAnd then it's just asking me to\nmake sure that I really want that.\n\n186\n00:08:51.560 --> 00:08:52.960\nI'll say yes.\n\n187\n00:08:52.960 --> 00:08:55.500\nAnd now it's building up my identity.\n\n188\n00:08:55.500 --> 00:08:56.860\nI need to give it my real name.\n\n189\n00:08:56.860 --> 00:08:58.360\nSo this is a user called John Doe.\n\n190\n00:08:58.360 --> 00:09:00.420\nSo I'm gonna give it his name.\n\n191\n00:09:00.420 --> 00:09:03.900\nAnd his email address, so\nthis is jdoe@localhost.\n\n192\n00:09:03.900 --> 00:09:05.570\nI haven't actually\nassigned a machine name.\n\n193\n00:09:05.570 --> 00:09:06.950\nActually I think I did, didn't I?\n\n194\n00:09:06.950 --> 00:09:11.470\nThis is like a dplaptop.lab.itpro.tv\nI think is what it's called.\n\n195\n00:09:12.550 --> 00:09:15.430\nAll right, I can do a comment,\nwell whatever you want here.\n\n196\n00:09:15.430 --> 00:09:21.198\nI'll say John Doe is super awesome,\njust so we can remember.\n\n197\n00:09:21.198 --> 00:09:22.295\n>> Yeah.\n[LAUGH]\n\n198\n00:09:22.295 --> 00:09:23.360\n>> [LAUGH] But oh and\n\n199\n00:09:23.360 --> 00:09:25.620\nI spelled John Does is super awesome, so\n\n200\n00:09:25.620 --> 00:09:29.500\napparently I'm a moron, but\nhere we'll just blank the comment out.\n\n201\n00:09:29.500 --> 00:09:30.268\nAll right.\nSo there we go, so\n\n202\n00:09:30.268 --> 00:09:31.260\nwe got good old John Doe.\n\n203\n00:09:31.260 --> 00:09:34.780\nI'm okay with all of that, so we'll go\nahead and just say that we are okay.\n\n204\n00:09:34.780 --> 00:09:36.910\nAnd now it's gonna go and generate it.\n\n205\n00:09:36.910 --> 00:09:39.540\nNow, it's going to generate that key, and\n\n206\n00:09:39.540 --> 00:09:42.310\nyou'll see it's like doing a- this\nis a pine entry here for email.\n\n207\n00:09:42.310 --> 00:09:44.280\nThis is sent to us being annoying.\n\n208\n00:09:44.280 --> 00:09:47.660\nSo I just need to get my pass-phrase,\nwhich I'll punch in there.\n\n209\n00:09:47.660 --> 00:09:50.635\nAnd I just used the word password.\n\n210\n00:09:50.635 --> 00:09:53.103\nI'm not happy about that, but\nI'm going to use it anyway.\n\n211\n00:09:53.103 --> 00:09:53.948\n[LAUGH] So I'm gonna punch that in there.\n\n212\n00:09:53.948 --> 00:09:56.930\nAnd there we go.\n\n213\n00:09:56.930 --> 00:10:00.460\nNow it's going to\ngenerate my private keys.\n\n214\n00:10:00.460 --> 00:10:04.630\nOkay, now it's telling me right here we\nneed to generate a lot of random bytes.\n\n215\n00:10:04.630 --> 00:10:06.720\nIt's a good idea to perform\nsome other actions.\n\n216\n00:10:07.850 --> 00:10:09.270\nThis is where things get a little tricky.\n\n217\n00:10:09.270 --> 00:10:09.840\nAll right.\n\n218\n00:10:09.840 --> 00:10:15.040\nWhen it generates a private key it needs\nto make sure that it's randomly generated.\n\n219\n00:10:15.040 --> 00:10:18.330\nIf it's not randomly generated somebody\ncould guess the key that I've made.\n\n220\n00:10:18.330 --> 00:10:20.280\nRight?\nGuess based on the version of operating\n\n221\n00:10:20.280 --> 00:10:22.520\nsystem I'm running and\nthe seed values used by it.\n\n222\n00:10:22.520 --> 00:10:24.140\nSo it's trying to get a random number.\n\n223\n00:10:24.140 --> 00:10:26.380\nAnd the way it does that is by\ntracking activity on your system,\n\n224\n00:10:26.380 --> 00:10:29.530\nit assumes that you're\nusing your system uniquely.\n\n225\n00:10:29.530 --> 00:10:32.340\nNow when you're on traditional hardware,\nyou can move your mouse around,\n\n226\n00:10:32.340 --> 00:10:35.410\nyou can read and write from the hard\ndrive, and you can generate that.\n\n227\n00:10:35.410 --> 00:10:39.220\nIf your system has a TPM, a trusted\nplatform module on the motherboard which\n\n228\n00:10:39.220 --> 00:10:44.900\na lot of systems do these days, then\nit'll generate that entropy from the TPM.\n\n229\n00:10:44.900 --> 00:10:46.480\nRight?\nThe entropy that's that\n\n230\n00:10:46.480 --> 00:10:47.840\nrandomness that we need.\n\n231\n00:10:47.840 --> 00:10:50.550\nAnd it'll come right out of the TPM,\nthis will happen almost instantly.\n\n232\n00:10:51.550 --> 00:10:54.940\nBut I'm on a virtual machine,\nthat means I don't have access to a TPM.\n\n233\n00:10:54.940 --> 00:10:58.370\nIn fact, I don't really have access\nto hardware, it's a virtual machine.\n\n234\n00:10:58.370 --> 00:11:00.883\nSo there's not a lot of\nentropy in a virtual machine.\n\n235\n00:11:00.883 --> 00:11:03.530\nLet me show you what I mean,\nif I jump back to my root user here.\n\n236\n00:11:05.220 --> 00:11:06.770\nWhoops.\nSo here in my root user,\n\n237\n00:11:06.770 --> 00:11:09.682\nif I take a look at a little\nfile kind of stuck away here,\n\n238\n00:11:09.682 --> 00:11:12.080\nlet me see if I can dig in and find it.\n\n239\n00:11:12.080 --> 00:11:13.952\nIt is cat\n\n240\n00:11:13.952 --> 00:11:23.952\n/proc/sys/kernel/random/entropy_avail.\n\n241\n00:11:25.990 --> 00:11:30.230\nAll right, so this little file store\nstored away in the proc folder\n\n242\n00:11:30.230 --> 00:11:33.260\ntells us how much entropy is available,\nright?\n\n243\n00:11:33.260 --> 00:11:37.220\nNormally, on a normal hardware system,\nthis should always be around 2,000.\n\n244\n00:11:37.220 --> 00:11:40.060\nYou expect to see around 2,000, all right?\n\n245\n00:11:40.060 --> 00:11:43.520\nOn a virtual machine,\nit'll oftentimes be lower, all right?\n\n246\n00:11:43.520 --> 00:11:47.990\nIt'll be lower cuz a virtual machine\ncan't generate entropy at the same rate.\n\n247\n00:11:47.990 --> 00:11:51.702\nAnd, so if I go up here and I do,\nI'll just copy, Linux systems.\n\n248\n00:11:51.702 --> 00:11:53.910\nHere's another system that I've got.\n\n249\n00:11:53.910 --> 00:11:55.480\nAnd I'll do that same thing here.\n\n250\n00:11:55.480 --> 00:12:00.020\nSee how this one's got 3,145 little\nblocks of entropy available, right.\n\n251\n00:12:00.020 --> 00:12:02.200\nThis one has 12, why does it have 12?\n\n252\n00:12:02.200 --> 00:12:04.920\nWell, I'm performing a random\noperation right now.\n\n253\n00:12:04.920 --> 00:12:09.640\nAnd so it ate up all the entropy that I\ngenerated, and now it's waiting for more.\n\n254\n00:12:09.640 --> 00:12:13.650\nAnd so I've gotta generate activity on my\nsystem, see how I'm back up to 900 now?\n\n255\n00:12:13.650 --> 00:12:15.520\nBut have I generated my key?\n\n256\n00:12:15.520 --> 00:12:17.680\nLet's go find out.\n\n257\n00:12:17.680 --> 00:12:18.880\nOh we did, good.\n\n258\n00:12:18.880 --> 00:12:23.300\nSo we did enough activity here\nto actually generate that key.\n\n259\n00:12:23.300 --> 00:12:24.410\nOkay.\n\n260\n00:12:24.410 --> 00:12:28.430\nIf you're sitting here and just waiting\nand waiting and that key is not getting\n\n261\n00:12:28.430 --> 00:12:32.510\ngenerated, there's certain steps you can\ntake to make sure that it gets generated.\n\n262\n00:12:32.510 --> 00:12:35.870\nUsually you just generate a lot of\ndisk activity, so I'll do things like.\n\n263\n00:12:37.400 --> 00:12:41.790\nOh, you can do like ls-laR/, right?\n\n264\n00:12:41.790 --> 00:12:44.960\nGive me a directory listing of\nthe entire hard drive, and so\n\n265\n00:12:44.960 --> 00:12:47.180\nit's gonna go through and\nlist the whole hard drive, right?\n\n266\n00:12:47.180 --> 00:12:51.490\nThat performs a full read\nagainst your file system tables.\n\n267\n00:12:51.490 --> 00:12:54.030\nAnd that generates entropy.\n\n268\n00:12:54.030 --> 00:12:56.280\nWe're generating entropy while that runs.\n\n269\n00:12:56.280 --> 00:12:57.410\n>> Also generating a seizure.\n\n270\n00:12:57.410 --> 00:13:01.650\n>> [LAUGH] Yeah a lot of colors on that\none, I should have turned off the colors.\n\n271\n00:13:01.650 --> 00:13:05.570\nAnother thing you can do is you can do\nlike an md5sum of your whole hard drive.\n\n272\n00:13:05.570 --> 00:13:07.980\nSo you should take a look at all\nthe hard drive, and generate the md5sum.\n\n273\n00:13:07.980 --> 00:13:11.030\nThat's gonna cause a read operation to\nhappen against the whole hard drive.\n\n274\n00:13:11.030 --> 00:13:17.310\nSo you can say like, md5sum /dev/sda,\nand oh, I've got to be SU to do that.\n\n275\n00:13:17.310 --> 00:13:19.330\nBut it'll do that kinda checksum.\n\n276\n00:13:19.330 --> 00:13:23.060\nIf that still doesn't work another one\nthat you can do is kind of a cool one.\n\n277\n00:13:23.060 --> 00:13:28.060\nYou can use dd to read your hard drive and\n\n278\n00:13:28.060 --> 00:13:31.957\nthen write it to /dev/0.\n\n279\n00:13:31.957 --> 00:13:36.270\nIn other words read the entire\nhard drive and write to zero.\n\n280\n00:13:36.270 --> 00:13:38.350\nIt just goes away basically.\n\n281\n00:13:38.350 --> 00:13:40.790\nIt's kind of like writing it to null\nexcept null doesn't actually do a write,\n\n282\n00:13:40.790 --> 00:13:41.860\nwriting it to zero does.\n\n283\n00:13:41.860 --> 00:13:43.220\nSo you're generating reads and\n\n284\n00:13:43.220 --> 00:13:45.870\nrights that are the equivalent\nof your entire hard drive size.\n\n285\n00:13:45.870 --> 00:13:49.020\nEven if your hard drive is blank,\ndd still reads and rights the sector.\n\n286\n00:13:49.020 --> 00:13:51.630\nThat'll generate a ton of entropy.\n\n287\n00:13:51.630 --> 00:13:54.940\nSo one of those three methods right\nthere should generate entropy for you.\n\n288\n00:13:54.940 --> 00:13:57.140\nOn actual hardware it's not a problem.\n\n289\n00:13:57.140 --> 00:13:59.140\nOn a virtual machine it\ncan be a little tricky.\n\n290\n00:13:59.140 --> 00:14:00.330\nOn my case, though,\n\n291\n00:14:00.330 --> 00:14:04.980\nI worked out and over time my system\nwill build that entropy back up again.\n\n292\n00:14:04.980 --> 00:14:08.300\nSo I was down pretty low,\nI was down to 12 at one point.\n\n293\n00:14:08.300 --> 00:14:11.190\nAnd then now it's gonna slowly climb back\nup, and see how I'm back up to 3,588?\n\n294\n00:14:11.190 --> 00:14:15.660\nThat entropy continues to build.\n\n295\n00:14:15.660 --> 00:14:19.890\nSo now Joe has his private keys for GPG.\n\n296\n00:14:19.890 --> 00:14:22.280\nSo he's pretty much ready to go.\n\n297\n00:14:22.280 --> 00:14:26.050\nNow we can actually put\nthe software to work.\n\n298\n00:14:26.050 --> 00:14:26.670\nAll right.\nSo now,\n\n299\n00:14:26.670 --> 00:14:29.600\nif Joe wants somebody to send\nsomething encrypted to him,\n\n300\n00:14:29.600 --> 00:14:31.040\nwe gotta export that public key.\n\n301\n00:14:31.040 --> 00:14:33.240\nSo that the user, these other people,\nwill have the public key and\n\n302\n00:14:33.240 --> 00:14:34.040\nbe able to send it to us.\n\n303\n00:14:34.040 --> 00:14:37.040\nSo, we can run a quick gpg export for\nthat.\n\n304\n00:14:37.040 --> 00:14:39.620\nSo I'm gonna go back here, and\nI'm logged in as Joe still.\n\n305\n00:14:39.620 --> 00:14:45.670\nSo I'll do a gpg --export to let it\nknow that I'm exporting that public key.\n\n306\n00:14:45.670 --> 00:14:52.150\nAnd I'll just do a output, and I'm gonna\nput this in my home directory here,\n\n307\n00:14:52.150 --> 00:14:56.562\nand we'll call it jdoe.pub, and\nwe're gonna export that out.\n\n308\n00:14:56.562 --> 00:15:00.090\nAll right, and if I change into\nthat directory and take a look,\n\n309\n00:15:00.090 --> 00:15:05.610\nthere's that jdoe.pub file, right,\nand so that's my good old public key.\n\n310\n00:15:05.610 --> 00:15:06.980\nIt's just a little file.\n\n311\n00:15:06.980 --> 00:15:09.130\nIt's really, really tiny.\n\n312\n00:15:09.130 --> 00:15:11.330\nWe're looking at 1.1k in size.\n\n313\n00:15:11.330 --> 00:15:12.900\nSo it's a pretty small file.\n\n314\n00:15:12.900 --> 00:15:16.590\nIf I try and read it, it is a binary file.\n\n315\n00:15:16.590 --> 00:15:20.150\nAnd so we just see gibberish,\nyou know nothing terribly exciting there.\n\n316\n00:15:20.150 --> 00:15:22.080\nRight?\nBut that's his public key.\n\n317\n00:15:22.080 --> 00:15:24.120\nThat's the public key and\nit's now save to export.\n\n318\n00:15:24.120 --> 00:15:27.880\nI can give that to other people and\nthey can use the encrypt data and\n\n319\n00:15:27.880 --> 00:15:29.750\nsend it to us, all right?\n\n320\n00:15:29.750 --> 00:15:34.100\nSo now, what Joe needs to do is he\nneeds to send that key to other people.\n\n321\n00:15:34.100 --> 00:15:37.800\nSo send it to Jane Doe or\nwhoever else it is that's out there.\n\n322\n00:15:37.800 --> 00:15:41.410\nWhat are the permissions on this file,\neverybody's got read, good.\n\n323\n00:15:42.890 --> 00:15:44.510\nAnd same thing with documents, good.\n\n324\n00:15:44.510 --> 00:15:46.390\nSo I'm gonna switch over to Jane Doe.\n\n325\n00:15:46.390 --> 00:15:48.220\nSo now I'm logged in as Jane.\n\n326\n00:15:48.220 --> 00:15:52.000\nAnd Jane wants to send something to\nJoe and wants it to be encrypted.\n\n327\n00:15:52.000 --> 00:15:55.840\nSo she needs to get a copy of Joe's key.\n\n328\n00:15:55.840 --> 00:15:59.130\nSo we're gonna reach over into his folder.\n\n329\n00:15:59.130 --> 00:16:02.640\nAnd oh,\nshe doesn't have access to that folder.\n\n330\n00:16:02.640 --> 00:16:04.700\nLet's see.\n\n331\n00:16:06.450 --> 00:16:07.757\nOh, here I'll just do this root.\n\n332\n00:16:07.757 --> 00:16:10.408\n[LAUGH] We'll heavy hand this one, right?\n\n333\n00:16:10.408 --> 00:16:11.350\n>> That's right.\n\n334\n00:16:11.350 --> 00:16:14.670\n>> So what I'm gonna do is\nI'm gonna copy Joe's key.\n\n335\n00:16:16.460 --> 00:16:22.770\nAnd we'll just take that public key, and\nI'm gonna copy it over to janedoe, right?\n\n336\n00:16:22.770 --> 00:16:27.530\nSo we want it to be in Jane Doe's home\nfolder, and I'll probably need to\n\n337\n00:16:27.530 --> 00:16:31.210\nchange some permissions on that so that\nshe has ownership of the file, at least.\n\n338\n00:16:31.210 --> 00:16:36.590\nSo I can do a little change ownership,\nand we'll just add that to her.\n\n339\n00:16:38.614 --> 00:16:40.200\nAnd that way she'll have access to it.\n\n340\n00:16:40.200 --> 00:16:44.850\nAll right, normally this would be\neasier cuz you would just email it.\n\n341\n00:16:44.850 --> 00:16:46.160\nJohn Doe would email it to Jane.\n\n342\n00:16:46.160 --> 00:16:48.790\nAnd so Jane would get it as\na file attachment and save it.\n\n343\n00:16:48.790 --> 00:16:51.090\nBut here, I've just kinda copied it over.\n\n344\n00:16:51.090 --> 00:16:54.930\nSo Jane's got a copy of it here\nright in her home directory.\n\n345\n00:16:54.930 --> 00:16:59.650\nAnd there's that jdoe.pub and\nshe's got access to the file.\n\n346\n00:16:59.650 --> 00:17:03.562\nSo she's now got the public key from Joe.\n\n347\n00:17:03.562 --> 00:17:06.710\nSo all she needs to do is import that so\nshe's got it on record.\n\n348\n00:17:06.710 --> 00:17:11.974\nSo I'll do a gpg- -import and\nthen we'll specify that key,\n\n349\n00:17:11.974 --> 00:17:15.630\nand it's gonna import it into the system.\n\n350\n00:17:15.630 --> 00:17:17.320\nAnd she's never run gpg so\n\n351\n00:17:17.320 --> 00:17:21.230\nI see it creating those directories,\ncreating the folders and stuff.\n\n352\n00:17:21.230 --> 00:17:24.800\nAnd then right here, the last few lines\nare the important part, processed 1 key,\n\n353\n00:17:24.800 --> 00:17:25.880\nimported 1 key.\n\n354\n00:17:25.880 --> 00:17:28.495\nWe've now got John Doe, or\n\n355\n00:17:28.495 --> 00:17:33.270\njdoe@dplaptop.blahblahblah, is\nnow imported and ready for use.\n\n356\n00:17:33.270 --> 00:17:37.710\nShe's got the public key so\nshe can encrypt data using the public key.\n\n357\n00:17:37.710 --> 00:17:39.160\nShe won't be able to decrypt it again.\n\n358\n00:17:39.160 --> 00:17:41.770\nShe can just encrypt and\nthen send it to Joe.\n\n359\n00:17:41.770 --> 00:17:46.372\nAnd Joe, he'll be able to decrypt\nthat data and have access to it.\n\n360\n00:17:46.372 --> 00:17:51.405\nAll right, if you wanna see what keys\nyou've got, you can do a gpg- -listkey.\n\n361\n00:17:51.405 --> 00:17:53.954\nAnd that'll show you the keys,\nor list-key, and\n\n362\n00:17:53.954 --> 00:17:56.870\nthat'll show the keys that\nyou've got in your database.\n\n363\n00:17:56.870 --> 00:17:58.630\nYou might have hundreds, right?\n\n364\n00:17:58.630 --> 00:18:02.172\nAnd so we can look in there to see if\nwe have somebody's key already and\n\n365\n00:18:02.172 --> 00:18:03.771\nI can see John Doe right there.\n\n366\n00:18:03.771 --> 00:18:05.810\nAll right, now we can encrypt some data.\n\n367\n00:18:05.810 --> 00:18:07.160\nLet's see, does she have anything?\n\n368\n00:18:07.160 --> 00:18:10.170\nLet's see if she has any\ndocuments we can use.\n\n369\n00:18:10.170 --> 00:18:11.100\nOoh, she does.\n\n370\n00:18:11.100 --> 00:18:13.360\nLet's take a look at file1.txt here.\n\n371\n00:18:13.360 --> 00:18:14.920\nOh it's empty, how convenient.\n\n372\n00:18:14.920 --> 00:18:16.530\nAll right, so\nshe doesn't have anything too exciting.\n\n373\n00:18:16.530 --> 00:18:18.860\nLet's put some data inside here.\n\n374\n00:18:18.860 --> 00:18:20.400\nSo this is one of her files.\n\n375\n00:18:20.400 --> 00:18:24.430\nAnd I'll just say,\nThis is super secret data.\n\n376\n00:18:24.430 --> 00:18:26.210\nDo not read!!!!\n\n377\n00:18:26.210 --> 00:18:28.647\nWe'll put some exclamation points on\nhere so people know we mean business.\n\n378\n00:18:28.647 --> 00:18:29.327\n>> That's right.\n\n379\n00:18:29.327 --> 00:18:30.346\n>> That's important.\n\n380\n00:18:30.346 --> 00:18:35.440\nAll right, so she wants to send file1.txt\nover to Joe but this is super sensitive.\n\n381\n00:18:35.440 --> 00:18:38.140\nWe don't want somebody intercepting it so\nshe needs to encrypt it.\n\n382\n00:18:38.140 --> 00:18:45.000\nSo we do gpg -encrypt, or- -encrypt.\n\n383\n00:18:45.000 --> 00:18:49.504\nSo we're gonna be encrypting some data,\nwe're gonna say -r, and\n\n384\n00:18:49.504 --> 00:18:52.910\nwho it is that we're encrypting data for,\nright?\n\n385\n00:18:52.910 --> 00:19:00.120\nWe're gonna encrypt data for\njdoe@dplaptop.lab.itpro.tv.\n\n386\n00:19:00.120 --> 00:19:01.930\nAll right, so\nwe're encrypting data for him.\n\n387\n00:19:01.930 --> 00:19:05.836\nThat way, it'll look in the gpg database\nand say, do I have a public key for\n\n388\n00:19:05.836 --> 00:19:06.580\nthis person?\n\n389\n00:19:06.580 --> 00:19:09.900\nAll right, -r, that's the remote\nperson that we're sending to.\n\n390\n00:19:09.900 --> 00:19:11.850\nAnd then, we tell it the file\nthat we want to encrypt.\n\n391\n00:19:11.850 --> 00:19:14.425\nI want to encrypt file1.txt.\n\n392\n00:19:14.425 --> 00:19:18.465\nAnd we run that, and it looks in here and\nit finds the key and\n\n393\n00:19:18.465 --> 00:19:22.865\nit says, It is NOT certain that\nthe key really belongs to that person.\n\n394\n00:19:22.865 --> 00:19:25.525\nIt's possible somebody\nsent you a fake key.\n\n395\n00:19:25.525 --> 00:19:27.145\nThat goes down to the key exchange.\n\n396\n00:19:27.145 --> 00:19:30.665\nWhen Joe gave us the key, how do we know\nit actually came from Joe, or John Doe or\n\n397\n00:19:30.665 --> 00:19:31.480\nwhatever his name is?\n\n398\n00:19:31.480 --> 00:19:33.490\nSo how do we know it really came from him?\n\n399\n00:19:33.490 --> 00:19:36.360\nWell, in my case the root user\ncopied it over, I can trust that.\n\n400\n00:19:36.360 --> 00:19:38.042\nSo it's just giving us\na little warning there, but\n\n401\n00:19:38.042 --> 00:19:40.164\nit's saying do we want to use it anyway,\nyeah, we'll say yes.\n\n402\n00:19:40.164 --> 00:19:48.400\nAll right, so now it's gonna encrypt\nthat data using John Doe's key.\n\n403\n00:19:48.400 --> 00:19:53.698\nAnd if I look at my files,\nI have a new file called file1.txt.gpg.\n\n404\n00:19:53.698 --> 00:19:58.553\nNotice how gpg doesn't encrypt the file\nname, the file name is still file1.txt.\n\n405\n00:19:58.553 --> 00:20:03.546\nBut the data inside of it,\nif I do a more for file1.txt.gpg and\n\n406\n00:20:03.546 --> 00:20:07.440\nlook inside of it, by,\nthat makes a lot of sense.\n\n407\n00:20:08.660 --> 00:20:10.220\nIt's encrypted, the data's protected.\n\n408\n00:20:12.250 --> 00:20:14.490\nSo now she can take this file and\nemail it to John.\n\n409\n00:20:15.530 --> 00:20:18.831\nI'll use my root user here and\nI'll just copy it over.\n\n410\n00:20:18.831 --> 00:20:23.809\nSo let me copy /home/janedoe/documents,\nand\n\n411\n00:20:23.809 --> 00:20:27.725\nwe'll grab that file1.text.gpg.\n\n412\n00:20:27.725 --> 00:20:31.480\nAnd we're gonna sent that on\nover to John Doe's directory.\n\n413\n00:20:31.480 --> 00:20:34.450\nAnd we'll throw it in his documents.\n\n414\n00:20:34.450 --> 00:20:36.988\nAnd let me change the owner of that, so\n\n415\n00:20:36.988 --> 00:20:40.850\nthat he'll have access to\nthe file we just sent over.\n\n416\n00:20:40.850 --> 00:20:43.740\nAnd again, in real life Jane\nwould just email this to John.\n\n417\n00:20:43.740 --> 00:20:47.000\nHe'd get it in an email and\ndownload it and\n\n418\n00:20:47.000 --> 00:20:50.070\nhave access to it that way, so\nwe wouldn't have to go through all this.\n\n419\n00:20:50.070 --> 00:20:52.020\nBut there we go.\n\n420\n00:20:52.020 --> 00:20:54.090\nAll right, so now Joe, he gets this email.\n\n421\n00:20:54.090 --> 00:20:56.710\nHe gets an email from Jane,\nit's got a file attached to it.\n\n422\n00:20:56.710 --> 00:20:59.230\nShe encrypted it with his public key.\n\n423\n00:20:59.230 --> 00:21:02.400\nSo he gets it, and there it is, right?\n\n424\n00:21:02.400 --> 00:21:07.770\nBut if he tries to read that file,\nit's still encrypted, even for him.\n\n425\n00:21:07.770 --> 00:21:10.600\nHe's gotta decrypt it\nbefore he can read it.\n\n426\n00:21:10.600 --> 00:21:15.880\nif it was encrypted with his public key,\nhe can use his private key to decrypt it.\n\n427\n00:21:15.880 --> 00:21:19.000\nIf it was encrypted with\nsomebody else's public key,\n\n428\n00:21:19.000 --> 00:21:21.860\nlike Jane maybe encrypted it with hers,\nhe can't decrypt it.\n\n429\n00:21:21.860 --> 00:21:26.080\nHe doesn't have the private key for\nthat, he's only got his own private key.\n\n430\n00:21:26.080 --> 00:21:28.940\nWell fortunately,\nshe encrypted it with his public key so\n\n431\n00:21:28.940 --> 00:21:30.220\nhe will be able to decrypt it.\n\n432\n00:21:31.270 --> 00:21:33.020\nI say he will, we'll find out.\n\n433\n00:21:33.020 --> 00:21:34.550\nSo he should be able to get that.\n\n434\n00:21:34.550 --> 00:21:35.730\nAnd to decrypt it,\n\n435\n00:21:35.730 --> 00:21:40.260\nwe just take gpg followed by the file\nthat we wanna decrypt, right.\n\n436\n00:21:40.260 --> 00:21:43.040\nWe don't have to tell it what private\nkey to use because we've only got\n\n437\n00:21:43.040 --> 00:21:44.220\none private key.\n\n438\n00:21:44.220 --> 00:21:45.880\nAnd so it assumes that it's ours.\n\n439\n00:21:45.880 --> 00:21:48.572\nAnd when we point it to a file it\nassumes that we want to decrypt it,\n\n440\n00:21:48.572 --> 00:21:50.620\nright, it's an encrypted file.\n\n441\n00:21:50.620 --> 00:21:51.800\nAnd so we can run it.\n\n442\n00:21:51.800 --> 00:21:54.570\nI set a pass key when I\ncreated my private key so\n\n443\n00:21:54.570 --> 00:21:59.010\nI've gotta provide that,\nand it's gonna decrypt it.\n\n444\n00:21:59.010 --> 00:22:03.630\nAnd when it's done,\nI now have file1.txt, and if I try and\n\n445\n00:22:03.630 --> 00:22:06.870\nread that, there it is.\n\n446\n00:22:06.870 --> 00:22:09.035\nThis is super secret data, Do not read!!!!\n\n447\n00:22:09.035 --> 00:22:12.995\nOkay, I could have taken any text,\nfed it into gpg and\n\n448\n00:22:12.995 --> 00:22:17.573\nencrypted it, and then sent it\nvia email as an attachment, or\n\n449\n00:22:17.573 --> 00:22:21.469\nsent it via FTP as a file,\nand known that it was safe.\n\n450\n00:22:21.469 --> 00:22:24.995\nBecause it was already encrypted,\nregardless of whether the protocol I was\n\n451\n00:22:24.995 --> 00:22:28.330\nusing was safe or not,\ngpg encrypted it, now I know it's safe.\n\n452\n00:22:28.330 --> 00:22:31.320\nAnd even better, it's end-to-end security.\n\n453\n00:22:31.320 --> 00:22:33.380\nIt was encrypted on my computer,\n\n454\n00:22:33.380 --> 00:22:35.640\nit's not decrypted until\nit gets to John's computer.\n\n455\n00:22:36.700 --> 00:22:40.650\nOther things like VPN tunnels, they don't\ngive you end-to-end encryption, right.\n\n456\n00:22:40.650 --> 00:22:43.080\nThey give you encryption on the network.\n\n457\n00:22:43.080 --> 00:22:46.170\nYou get, it's called data in motion, your\ndata's encrypted while it's in motion.\n\n458\n00:22:46.170 --> 00:22:49.290\nBut while your data's at rest,\nwhen it's on your computer, or\n\n459\n00:22:49.290 --> 00:22:51.870\nwhen it's on John's computer,\nit's not safe anymore.\n\n460\n00:22:51.870 --> 00:22:53.820\nNow that it's data at rest,\nit's not encrypted.\n\n461\n00:22:53.820 --> 00:22:57.990\nWith gpg, it's encrypted while it's at\nrest, it's encrypted while it's in motion,\n\n462\n00:22:57.990 --> 00:23:00.250\nyou get end-to-end encryption.\n\n463\n00:23:00.250 --> 00:23:02.670\nNow, I did it all from the command line\nwhich is what they want you to know for\n\n464\n00:23:02.670 --> 00:23:03.710\nthe exam.\n\n465\n00:23:03.710 --> 00:23:06.758\nIn real life land,\nwe usually use GUIs for these stuff.\n\n466\n00:23:06.758 --> 00:23:10.210\nThey've got some nice graphical interfaces\nyou can use that make this super easy.\n\n467\n00:23:10.210 --> 00:23:13.023\nBut for the exam they want you to know the\ncommand line side because that's where you\n\n468\n00:23:13.023 --> 00:23:15.328\nsee the keys, you see what's\nactually going on behind the scenes.\n\n469\n00:23:15.328 --> 00:23:18.940\n>> Now, Don, one of our users in the chat\nroom has a really good question, I think.\n\n470\n00:23:18.940 --> 00:23:23.880\nHe's asking, what happens to that\njdoe.pub file that we generated and\n\n471\n00:23:23.880 --> 00:23:25.202\nthat we copied over to Jane?\n\n472\n00:23:25.202 --> 00:23:26.835\nYou say, here's a copy of that.\n\n473\n00:23:26.835 --> 00:23:31.156\nOnce she imports that using GPG\ninto that key ring, does she then,\n\n474\n00:23:31.156 --> 00:23:33.490\ncan she get rid of that file or-\n>> Yeah.\n\n475\n00:23:33.490 --> 00:23:36.150\n>> What's up?\n>> She can delete it, or she can save it.\n\n476\n00:23:36.150 --> 00:23:38.342\nMaybe she says,\noh I got five other computers I use.\n\n477\n00:23:38.342 --> 00:23:40.850\nI wanna go import this key on\nthose other ones, too, right?\n\n478\n00:23:40.850 --> 00:23:43.250\nSo she can delete it or\nshe can leave it laying around.\n\n479\n00:23:43.250 --> 00:23:45.280\nIf she leaves it laying around,\nare we at risk?\n\n480\n00:23:45.280 --> 00:23:47.920\nNo, it's the public key, who cares?\n\n481\n00:23:47.920 --> 00:23:49.710\nYou can post your public\nkey on your Internet.\n\n482\n00:23:49.710 --> 00:23:51.880\nYou want people to have your public key.\n\n483\n00:23:51.880 --> 00:23:54.630\nCuz they can use it to encrypt data and\nsend it to you securely, right?\n\n484\n00:23:54.630 --> 00:23:56.600\nThey can't decrypt data with it.\n\n485\n00:23:56.600 --> 00:23:57.250\nSame thing goes for\n\n486\n00:23:57.250 --> 00:24:01.640\nJohn, John created that public\nkey with the GPG export command.\n\n487\n00:24:01.640 --> 00:24:05.070\nHe could delete it cuz he can always\nrun GPG export again later on.\n\n488\n00:24:05.070 --> 00:24:07.260\nIf you run GPG export a hundred times,\n\n489\n00:24:07.260 --> 00:24:09.650\nit generates the same public\nkey every time, right?\n\n490\n00:24:09.650 --> 00:24:12.890\nSo it's not a big deal unless\nyou change your private key,\n\n491\n00:24:12.890 --> 00:24:15.090\nand then you need to regenerate it, right?\n\n492\n00:24:15.090 --> 00:24:16.600\nBut yeah,\nyou don't have to keep those lying around.\n\n493\n00:24:16.600 --> 00:24:19.535\nOnce they're imported into the database,\nyou can delete them.\n\n494\n00:24:19.535 --> 00:24:23.470\nBoth users, John and Jane in this\nscenario can delete those public keys and\n\n495\n00:24:23.470 --> 00:24:26.410\neverything would work fine\ncuz it's in that GPG cache.\n\n496\n00:24:26.410 --> 00:24:27.950\n>> Yeah, and the good thing about this,\n\n497\n00:24:27.950 --> 00:24:31.060\nusing GPG is,\nit's really not that difficult.\n\n498\n00:24:31.060 --> 00:24:34.449\nDon is showing you, walking through you\nstep by step and explaining everything.\n\n499\n00:24:34.449 --> 00:24:37.884\nBut at the end of the day, once you\nwork with this just even a little bit,\n\n500\n00:24:37.884 --> 00:24:41.350\nyou're gonna get pretty quick at\nimporting keys and encrypting data.\n\n501\n00:24:41.350 --> 00:24:42.660\nIt gets really quick.\n\n502\n00:24:42.660 --> 00:24:46.360\nAnd it's a great way, like you said,\nend-to-end encryption.\n\n503\n00:24:46.360 --> 00:24:49.810\nYou never have to worry about\nthat data in any kind of transit,\n\n504\n00:24:49.810 --> 00:24:51.160\nno matter what type it is.\n\n505\n00:24:51.160 --> 00:24:55.130\nLike he said, FTP or SMTP,\nthose are plain text protocols.\n\n506\n00:24:55.130 --> 00:24:57.838\nBut it doesn't matter because\nthe files themselves are encrypted.\n\n507\n00:24:57.838 --> 00:25:01.459\nAnd they're not decrypted until\nthe user that's received them says,\n\n508\n00:25:01.459 --> 00:25:05.760\nI need to decrypt this, and they run\nthe GPG software on that, decrypting it.\n\n509\n00:25:05.760 --> 00:25:06.890\nAnd then they're able to read it.\n\n510\n00:25:06.890 --> 00:25:10.680\nSo you've got so much better\nsecurity from endpoint to endpoint.\n\n511\n00:25:10.680 --> 00:25:11.690\nThis is great stuff.\n\n512\n00:25:11.690 --> 00:25:12.820\n>> Yep.\n\n513\n00:25:12.820 --> 00:25:14.320\nAll right well, Daniel,\nthat's basically it for\n\n514\n00:25:14.320 --> 00:25:16.380\nGPG as far as what we need to know for\nthe exam.\n\n515\n00:25:16.380 --> 00:25:18.210\nSo this is a pretty good spot for\nus to wrap it up.\n\n516\n00:25:18.210 --> 00:25:19.610\n>> All right,\nwell it's been a great episode.\n\n517\n00:25:19.610 --> 00:25:22.070\nI hope you guys out there\nlearned a lot from this one.\n\n518\n00:25:22.070 --> 00:25:24.210\nIt will definitely serve\nyou well you IT career.\n\n519\n00:25:24.210 --> 00:25:26.750\nThat being said,\nit is time to sign off for ITProTV.\n\n520\n00:25:26.750 --> 00:25:28.680\nI've been your host Daniel Lowrey.\n\n521\n00:25:28.680 --> 00:25:29.514\n>> And I'm Don Pezet.\n\n522\n00:25:29.514 --> 00:25:30.725\n>> And we'll see you next time.\n\n523\n00:25:30.725 --> 00:25:31.790\n[SOUND]\n\n",
          "vimeoId": "133069111"
        },
        {
          "description": null,
          "length": "2045",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-2-securing_data_with_ssh-070715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-2-securing_data_with_ssh-070715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-2-securing_data_with_ssh-070715-1-sm.jpg",
          "title": "Securing Data with SSH",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.558\n[MUSIC]\n\n2\n00:00:10.558 --> 00:00:14.836\nAll right, greetings, and welcome to\nanother great episode of ITProTV.\n\n3\n00:00:14.836 --> 00:00:18.303\nI'm your host, Daniel Lowrie, and here\nwith me today is a person that took third\n\n4\n00:00:18.303 --> 00:00:20.700\nplace in a Richard Moll lookalike contest.\n\n5\n00:00:20.700 --> 00:00:22.420\nThat's Don Pezet,\nhow's it going today, Don [LAUGH]\n\n6\n00:00:22.420 --> 00:00:23.800\n>> It is going great,\n\n7\n00:00:23.800 --> 00:00:26.270\nwe're back again with another\nepisode of Linux plus.\n\n8\n00:00:26.270 --> 00:00:29.660\nAnd in today's episode we're\ngonna be jumping into SSH or\n\n9\n00:00:29.660 --> 00:00:35.440\nthe secure shell protocol, application,\nit's all sorts of things wrapped into one.\n\n10\n00:00:35.440 --> 00:00:38.740\nIt's a really powerful utility,\nit's a really powerful service.\n\n11\n00:00:38.740 --> 00:00:42.880\nSomething you are going to use on, well,\nif you're like me, on daily basis.\n\n12\n00:00:42.880 --> 00:00:43.960\nSo it's a pretty important one,\n\n13\n00:00:43.960 --> 00:00:48.270\nand that's what we need to understand,\nbecause this is a security related topic.\n\n14\n00:00:48.270 --> 00:00:53.030\nA lot of the communications that we use\non any machine, Windows, Mac, Linux,\n\n15\n00:00:53.030 --> 00:00:54.350\ndoesn't really matter.\n\n16\n00:00:54.350 --> 00:00:57.010\nA lot of the communications\nthat we do are in plain text.\n\n17\n00:00:57.010 --> 00:01:00.550\nThey're not secure, and\nthat's a pretty big problem, right?\n\n18\n00:01:00.550 --> 00:01:03.813\nYou don't necessarily want people\nintercepting your communications and\n\n19\n00:01:03.813 --> 00:01:04.905\nbeing able to read them.\n\n20\n00:01:04.905 --> 00:01:08.310\nOr even worse, intercepting\ncommunications and manipulating them.\n\n21\n00:01:08.310 --> 00:01:12.290\nAnd so software like SSH helps\nto protect us from that.\n\n22\n00:01:12.290 --> 00:01:15.095\nSo we're gonna get a chance to see that,\nwe'll see it in action,\n\n23\n00:01:15.095 --> 00:01:18.265\nhow to get it set up and Daniel I know\nwe've got a 30 minute episode here.\n\n24\n00:01:18.265 --> 00:01:20.843\nBut I probably have a little more planned\nthan what we can fit in this one so\n\n25\n00:01:20.843 --> 00:01:22.760\nwe'll probably end up having\nto do a part two on this.\n\n26\n00:01:22.760 --> 00:01:25.690\n>> Well that's just the icing\non the cake then Don.\n\n27\n00:01:25.690 --> 00:01:27.320\nWe love a good part two.\n\n28\n00:01:27.320 --> 00:01:30.700\nEspecially when it's going into\nsomething as important as SSH.\n\n29\n00:01:30.700 --> 00:01:35.360\nNow, you can be like me and just live\nyour lackadaisical life with Telnet and\n\n30\n00:01:35.360 --> 00:01:36.500\nkeep getting hacked into.\n\n31\n00:01:36.500 --> 00:01:38.480\nBut that's probably not a good thing,\nright Don?\n\n32\n00:01:38.480 --> 00:01:41.470\nWe want to be a little more secure and\nSSH helps us out with that.\n\n33\n00:01:41.470 --> 00:01:44.320\n>> Yeah, and let's start with that,\nlet's start with the problem and\n\n34\n00:01:44.320 --> 00:01:45.740\nthen we'll see how SSH solves it.\n\n35\n00:01:45.740 --> 00:01:49.890\nSo, back in the day,\nif you wanted to connect to a Unix or\n\n36\n00:01:49.890 --> 00:01:52.960\nLinux server from the network,\nyou used a protocol called Telnet.\n\n37\n00:01:52.960 --> 00:01:54.080\nDaniel mentioned it.\n\n38\n00:01:54.080 --> 00:01:58.720\nAnd what Telnet did is it allowed you to\nremotely access the shell of your server.\n\n39\n00:01:58.720 --> 00:02:01.300\nSo for example,\nlet me show you here on this system.\n\n40\n00:02:01.300 --> 00:02:03.090\nI'm on one Linux box right here.\n\n41\n00:02:04.350 --> 00:02:06.550\nAnd I'm so lazy,\nI haven't changed the host name.\n\n42\n00:02:06.550 --> 00:02:09.070\nSo you'll see it's just\nlocalhost.localdomain it's\n\n43\n00:02:09.070 --> 00:02:10.620\na regular system.\n\n44\n00:02:10.620 --> 00:02:15.420\nAnd if I wanna connect to, say,\nmy laptop, I wanna connect to dp laptop.\n\n45\n00:02:15.420 --> 00:02:18.710\nI could go in here and\nI could do telnet and\n\n46\n00:02:18.710 --> 00:02:24.000\nspecify the IP that I wanna connect to,\nwhich is 238.\n\n47\n00:02:24.000 --> 00:02:25.270\nAnd I could open up a remote shell.\n\n48\n00:02:25.270 --> 00:02:29.810\nNow before I do that in the background\nI'm gonna open up a network sniffer.\n\n49\n00:02:29.810 --> 00:02:32.130\nSo I've got Wireshark installed here.\n\n50\n00:02:32.130 --> 00:02:34.940\nAnd I'm gonna take good old Wireshark, and\n\n51\n00:02:34.940 --> 00:02:39.240\nI'm gonna start recording network traffic,\nokay?\n\n52\n00:02:39.240 --> 00:02:42.720\nSo Wireshark, if you've never used it,\nit's a network sniffer and\n\n53\n00:02:42.720 --> 00:02:44.350\nprotocol analyzer.\n\n54\n00:02:44.350 --> 00:02:47.430\nIt watches the traffic on your\nnetwork interface, and it records it.\n\n55\n00:02:47.430 --> 00:02:49.840\nSo I'm recording that traffic right now.\n\n56\n00:02:49.840 --> 00:02:53.510\nAnd in the background,\nI'm gonna open that telnet session.\n\n57\n00:02:53.510 --> 00:02:55.510\nAnd, so here I'm connecting to my laptop.\n\n58\n00:02:55.510 --> 00:02:58.500\nAnd I'm gonna log in with my username and\npassword.\n\n59\n00:02:58.500 --> 00:02:59.340\nRight?\nSo here I am,\n\n60\n00:02:59.340 --> 00:03:02.170\nand you can see its\nchanged to dplaptop there.\n\n61\n00:03:02.170 --> 00:03:06.570\nI'm on that other system and,\nif I start to do work,\n\n62\n00:03:06.570 --> 00:03:11.180\nI look in my directories here, I kinda\nstart poking around looking for things.\n\n63\n00:03:11.180 --> 00:03:12.460\nDoing whatever it is I'm doing.\n\n64\n00:03:12.460 --> 00:03:15.630\nHey, maybe I need to elevate privileges,\nso I do su.\n\n65\n00:03:15.630 --> 00:03:18.470\nRight?\nAnd I log in with my root account so\n\n66\n00:03:18.470 --> 00:03:20.000\nI can start doing some work.\n\n67\n00:03:20.000 --> 00:03:21.890\nAnd so now, I'm really having some fun.\n\n68\n00:03:21.890 --> 00:03:25.645\nMaybe I do some updates, or whatever.\n\n69\n00:03:25.645 --> 00:03:29.156\n[SOUND] That systems is just\na little bit out of date isn't it?\n\n70\n00:03:29.156 --> 00:03:31.440\nIt's not my actual laptop for the record.\n\n71\n00:03:31.440 --> 00:03:35.000\nI don't want to blow all of\nmy security cred right there.\n\n72\n00:03:35.000 --> 00:03:37.810\nSo, anyhow,\nit has a few updates available.\n\n73\n00:03:37.810 --> 00:03:41.990\nSo, I'm doing all of this via Telnet, and\nwhen I'm done I can get out of that Telnet\n\n74\n00:03:41.990 --> 00:03:47.660\nsession And now I'm just back to my\nregular machine that I'm on right here.\n\n75\n00:03:47.660 --> 00:03:50.460\nIn the background,\nWire Shark has been recording all data and\n\n76\n00:03:50.460 --> 00:03:52.070\nlet me just stop that.\n\n77\n00:03:52.070 --> 00:03:57.260\nLet's see, if I filter this down,\nthere's a lot of,\n\n78\n00:03:57.260 --> 00:04:04.400\nyou know what,\nit's i p dot e s t Equals 10.1.230.\n\n79\n00:04:04.400 --> 00:04:09.040\nI'm just gonna filter this down so I get\na little less stuff in user interface.\n\n80\n00:04:09.040 --> 00:04:09.860\nHere we go.\n\n81\n00:04:09.860 --> 00:04:15.000\nSo here's the traffic that just happened\nbetween my system and the system that\n\n82\n00:04:15.000 --> 00:04:20.060\nI just remoted into, and I can clearly see\nthere's some Telnet traffic right here.\n\n83\n00:04:20.060 --> 00:04:21.200\nThis is Telnet And\n\n84\n00:04:21.200 --> 00:04:25.670\nas I scroll down this list of traffic,\nI can see all those telnet packets.\n\n85\n00:04:25.670 --> 00:04:31.150\nNow down here I see the raw data\nof each packet, and what is that.\n\n86\n00:04:31.150 --> 00:04:33.480\nIt's kinda a jumbled mess,\ndoesn';t really mean anything to me.\n\n87\n00:04:33.480 --> 00:04:36.930\nWell that might've been me pressing\na letter, that might've been a letter or\n\n88\n00:04:36.930 --> 00:04:38.200\ntwo sent to me.\n\n89\n00:04:38.200 --> 00:04:42.190\nIt's just something slightly\nless than 1500 bytes of data.\n\n90\n00:04:42.190 --> 00:04:44.690\nBeing represented right\nthere on the screen.\n\n91\n00:04:44.690 --> 00:04:48.570\nWell, I can take a network\nanalyzer like this one and\n\n92\n00:04:48.570 --> 00:04:53.010\nwe can follow the TCP stream and\nit's gonna reassemble it for me.\n\n93\n00:04:53.010 --> 00:04:55.815\nAnd when it reassembles it,\nlook what I see.\n\n94\n00:04:55.815 --> 00:04:59.695\nHere I logged in, and anything in red is\nsomething that I sent, like when I typed.\n\n95\n00:04:59.695 --> 00:05:01.525\nAnything in blue something I received.\n\n96\n00:05:01.525 --> 00:05:04.238\nSo when I type my username,\nI would press d on my keyboard, and\n\n97\n00:05:04.238 --> 00:05:06.445\nd would be sent back to me\nto display on the screen.\n\n98\n00:05:06.445 --> 00:05:07.825\nSo you see d, cuz that was my username.\n\n99\n00:05:07.825 --> 00:05:11.205\nAnd here you can see my ultra-secure\npassword on that system,\n\n100\n00:05:11.205 --> 00:05:12.935\nit's just the word password.\n\n101\n00:05:12.935 --> 00:05:16.045\nAnd then you can see as I\ncontinued on the system working,\n\n102\n00:05:16.045 --> 00:05:18.970\nI ran the hostname command,\nI ran the ls command.\n\n103\n00:05:18.970 --> 00:05:20.370\nAnd here's the output.\n\n104\n00:05:20.370 --> 00:05:20.880\nRight?\n\n105\n00:05:20.880 --> 00:05:25.210\nEverything that happened in that session\nwas sent in plain text when I su'ed.\n\n106\n00:05:25.210 --> 00:05:28.440\nWhen I went up to be a super user\nhere's my super user password.\n\n107\n00:05:28.440 --> 00:05:30.940\nNow they've got my root\npassword right there all\n\n108\n00:05:30.940 --> 00:05:32.060\nintercepted from that north traffic.\n\n109\n00:05:32.060 --> 00:05:34.580\nSo that's a problem with\nunencrypted traffic.\n\n110\n00:05:34.580 --> 00:05:36.450\nAnd if you're wondering, like,\nwhy would they ever do this?\n\n111\n00:05:36.450 --> 00:05:37.810\nIt's craziness!\n\n112\n00:05:37.810 --> 00:05:40.244\nRemember, these protocols\nwer designed in the 70's and\n\n113\n00:05:40.244 --> 00:05:42.880\nthe 80's when you didn't have\nthe Internet like it is today.\n\n114\n00:05:42.880 --> 00:05:45.610\nYou had small networks\nthat were a lot safer and\n\n115\n00:05:45.610 --> 00:05:48.170\na lot more controlled,\nyou didn't need encryption.\n\n116\n00:05:48.170 --> 00:05:50.090\nThat doesn't scale well to today.\n\n117\n00:05:50.090 --> 00:05:53.750\nIn today's world you can't even trust\nyour network, better yet the Internet.\n\n118\n00:05:53.750 --> 00:05:58.200\nAnd so we need ways to encrypt this to\nensure that people don't do exactly what\n\n119\n00:05:58.200 --> 00:05:59.480\nI just did.\n\n120\n00:05:59.480 --> 00:06:02.570\nWatch network for traffic,\nintercept it, reassemble it, and\n\n121\n00:06:02.570 --> 00:06:03.250\nget your data out of it.\n\n122\n00:06:03.250 --> 00:06:04.702\nThat was not a hard\nthing to do right there.\n\n123\n00:06:04.702 --> 00:06:06.001\nThat was pretty easy.\n\n124\n00:06:06.001 --> 00:06:09.230\n>> Now it seems a long,\nlike that telnet, it's still around.\n\n125\n00:06:09.230 --> 00:06:10.860\nWhy is it even available?\n\n126\n00:06:10.860 --> 00:06:12.840\nWhy would we ever use telnet?\n\n127\n00:06:12.840 --> 00:06:15.180\nAnd probably a lot comes\nfrom just inertia, right?\n\n128\n00:06:15.180 --> 00:06:17.600\nIt's been around so long,\npeople have used it for\n\n129\n00:06:17.600 --> 00:06:21.790\nsuch a long time that we're still having\nto push people and prod them to say.\n\n130\n00:06:21.790 --> 00:06:22.780\nYou gotta use SSH.\n\n131\n00:06:22.780 --> 00:06:26.080\nAnd that's gonna involve some learning,\nand that's what we're doing today.\n\n132\n00:06:26.080 --> 00:06:29.430\n>> Yeah, you know, with Telnet all you\nhave to know is the IP address of a system\n\n133\n00:06:29.430 --> 00:06:31.770\nand the username and password, right?\n\n134\n00:06:31.770 --> 00:06:34.700\nWith SSH you need to know\nthe IP address of a system,\n\n135\n00:06:34.700 --> 00:06:36.780\nyou need to know a username and password.\n\n136\n00:06:36.780 --> 00:06:41.070\nBut you also have to have\na certificate to do the encryption and\n\n137\n00:06:41.070 --> 00:06:43.370\ndecryption, and\npeople get intimidated by that.\n\n138\n00:06:43.370 --> 00:06:46.180\nThey're like I don't wanna deal\nwith certificates and whatever.\n\n139\n00:06:46.180 --> 00:06:49.850\nWell, you'll actually find out that\nthere's not all that much to it.\n\n140\n00:06:49.850 --> 00:06:54.100\nYou know, you don't actually have to\nknow a ton about certificates to use SSH\n\n141\n00:06:54.100 --> 00:06:55.020\nto do that encryption.\n\n142\n00:06:55.020 --> 00:06:58.450\nSo if people would just take a little\nbit of time to learn more about SSH,\n\n143\n00:06:58.450 --> 00:07:01.340\nit's not intimidating, it's easy to use.\n\n144\n00:07:01.340 --> 00:07:05.600\nAnd there is no reason to use Telnet\nanymore, unless you have some really\n\n145\n00:07:05.600 --> 00:07:09.590\noutdated hardware, something that\njust requires the use of Telnet.\n\n146\n00:07:09.590 --> 00:07:13.020\nAnd we'll see, there's ways that\nwe can kinda even get around that.\n\n147\n00:07:13.020 --> 00:07:15.280\nSo really SSH got a great solution.\n\n148\n00:07:15.280 --> 00:07:17.250\nSo, let's see what's involved.\n\n149\n00:07:17.250 --> 00:07:21.570\nWell the nice thing here\nis when you install Linux.\n\n150\n00:07:21.570 --> 00:07:26.040\nEvery modern distro has SSH installed and\nenabled by default.\n\n151\n00:07:26.040 --> 00:07:27.100\nIt, it's pretty much a given.\n\n152\n00:07:27.100 --> 00:07:30.680\nI can't think of a single distro\nthat doesn't have SSH installed and\n\n153\n00:07:30.680 --> 00:07:31.890\nenabled by default.\n\n154\n00:07:31.890 --> 00:07:34.610\nNow it might be blocked in IP tables.\n\n155\n00:07:34.610 --> 00:07:37.020\nIt might be blocked in your\nsoftware firewall, but\n\n156\n00:07:37.020 --> 00:07:41.120\nthe service is almost always installed and\nactive by default.\n\n157\n00:07:41.120 --> 00:07:45.040\nUbuntu, Debian, CentOS,\neven the older versions of CentOS,\n\n158\n00:07:45.040 --> 00:07:46.920\nnot just the newer ones, RedHat.\n\n159\n00:07:46.920 --> 00:07:49.690\nAll those guys have SSH installed and\nrunning.\n\n160\n00:07:49.690 --> 00:07:51.780\nAnd it's just a daemon that\nruns in the background.\n\n161\n00:07:51.780 --> 00:07:53.630\nthe SSH daemon.\n\n162\n00:07:53.630 --> 00:07:58.795\nAnd if you take a look at a system, let's\nsay I've got a system like this one And\n\n163\n00:07:58.795 --> 00:08:02.090\nI don't know if it's running SSH or\nnot, right?\n\n164\n00:08:02.090 --> 00:08:07.725\nWell if you're on an upstart system,\nyou can just do a service--status-all and\n\n165\n00:08:07.725 --> 00:08:11.920\nfilter that by something like,\nhere I'll just grep for SSH.\n\n166\n00:08:13.110 --> 00:08:14.200\nAnd you can look and see, and\n\n167\n00:08:14.200 --> 00:08:18.520\nsure enough right there I've got\nthe open SSH demon is up and running.\n\n168\n00:08:19.570 --> 00:08:24.090\nIf you're on a A system D system,\n\n169\n00:08:25.460 --> 00:08:30.140\nlike this one, you can run systemctl and\nfilter that, and\n\n170\n00:08:30.140 --> 00:08:34.360\nlook for SSH, and\nthere's the SSH d.service up and running.\n\n171\n00:08:34.360 --> 00:08:36.530\nI didn't install that on either of these,\nright?\n\n172\n00:08:36.530 --> 00:08:39.470\nIt was already installed and\nup and running.\n\n173\n00:08:39.470 --> 00:08:41.000\nSo that means we can use it, right?\n\n174\n00:08:41.000 --> 00:08:43.700\nWe can go ahead and\nfire it up and get connected.\n\n175\n00:08:43.700 --> 00:08:45.420\nWell if you have a firewall,\n\n176\n00:08:45.420 --> 00:08:48.850\nyou'll need to open it up in your firewall\nrules to allow those connections.\n\n177\n00:08:48.850 --> 00:08:52.960\nSo let me go back here, this is the host\nthat I Telneted into a moment ago, and so\n\n178\n00:08:52.960 --> 00:08:54.590\nI know it's running Telnet.\n\n179\n00:08:54.590 --> 00:08:56.080\nIs it running SSH?\n\n180\n00:08:56.080 --> 00:09:01.140\nNow Telnet is not enabled on most distros\ntoday, and you'll see if I just kinda\n\n181\n00:09:01.140 --> 00:09:05.610\nscroll back up here where I actually had\nto install Telnet on it before the show,\n\n182\n00:09:05.610 --> 00:09:06.720\nthat's what I did up there.\n\n183\n00:09:06.720 --> 00:09:09.890\nSo we don't see Telnet so\nmuch anymore, cuz it is not secure.\n\n184\n00:09:09.890 --> 00:09:11.260\nBut SSH is there.\n\n185\n00:09:11.260 --> 00:09:14.090\nAnd SSH,\nthe server should already be installed.\n\n186\n00:09:14.090 --> 00:09:19.270\nIf it isn't, you can just install\nit with yum install openssh,\n\n187\n00:09:19.270 --> 00:09:21.820\nand that'll get it installed and\nhave it place.\n\n188\n00:09:21.820 --> 00:09:23.540\nBut you more than likely\ndo already have it.\n\n189\n00:09:23.540 --> 00:09:25.198\nI can't think of a distro that doesn't.\n\n190\n00:09:25.198 --> 00:09:27.161\nAll right.\n\n191\n00:09:27.161 --> 00:09:29.700\nNow, SSH is up and running.\n\n192\n00:09:29.700 --> 00:09:34.370\nIf I've got a firewall like IP tables,\nright, I might need to edit that.\n\n193\n00:09:34.370 --> 00:09:38.960\nAnd so IP tables, it's actually\nkind of buried away the config for\n\n194\n00:09:38.960 --> 00:09:44.330\nit is buried away in\n/ETC/sysconfig/IP tables.\n\n195\n00:09:44.330 --> 00:09:47.890\nIf I edit that and go in you can\nsee some of the different things.\n\n196\n00:09:47.890 --> 00:09:51.120\nI added TelNet before the show to enable\nthat, but right down here is SSH.\n\n197\n00:09:51.120 --> 00:09:52.300\nI didn't add that.\n\n198\n00:09:52.300 --> 00:09:54.680\nSo SSH was already allowed\nthrough the firewall.\n\n199\n00:09:54.680 --> 00:09:57.280\nJust look for a rule for TCP port 22.\n\n200\n00:09:57.280 --> 00:10:00.590\nThat's what SSH uses and\nyou'll see mine's already accepting it.\n\n201\n00:10:00.590 --> 00:10:05.240\nI didn't add that, it was there\nfrom the start with this distro.\n\n202\n00:10:05.240 --> 00:10:08.710\nIf I don't change anything\nI should be able to\n\n203\n00:10:08.710 --> 00:10:11.300\nconnect to that system using SSH, right?\n\n204\n00:10:11.300 --> 00:10:13.420\nAnd let's just see that here, if I do SSH,\n\n205\n00:10:13.420 --> 00:10:16.810\nand there's two ways to provide the server\nthat you're going to connect to.\n\n206\n00:10:16.810 --> 00:10:22.230\nThe most common way is to provide a user\nname, @, and then the IP address or\n\n207\n00:10:22.230 --> 00:10:25.070\nfully qualified DNS name of\nthe server I'm going to connect to.\n\n208\n00:10:25.070 --> 00:10:28.220\nSo I'm just going to say DPezet@ whatever.\n\n209\n00:10:28.220 --> 00:10:31.850\nSo the user name is being provided\nalong with the server name right here.\n\n210\n00:10:33.190 --> 00:10:36.370\nAnd when I run that it's gonna connect\nup and look at the message that I got.\n\n211\n00:10:36.370 --> 00:10:39.610\nThe authenticity of the host\ncan't be established.\n\n212\n00:10:39.610 --> 00:10:42.125\nHere's the certificate we're getting,\ndo you trust it?\n\n213\n00:10:42.125 --> 00:10:45.760\nAnd this just means I've never\nconnected to this host before and\n\n214\n00:10:45.760 --> 00:10:50.210\nthe host is saying hey I've got a\ncertificate, this says I am who I say I am\n\n215\n00:10:50.210 --> 00:10:54.450\nand we look at the certificate and\nwe say well Is that true, right?\n\n216\n00:10:54.450 --> 00:10:58.230\nWell, these certificates\nare a second form of authentication.\n\n217\n00:10:58.230 --> 00:11:00.690\nYou gotta have a user name and\npassword, right?\n\n218\n00:11:00.690 --> 00:11:01.930\nWe know our user name and password, but\n\n219\n00:11:01.930 --> 00:11:06.060\nhow do we know this is actually our server\nand not somebody impersonating our server.\n\n220\n00:11:06.060 --> 00:11:07.980\nWe need to know the certificate, right.\n\n221\n00:11:07.980 --> 00:11:09.990\nNow, in my case,\nI didn't know the certificate,\n\n222\n00:11:09.990 --> 00:11:11.550\nI'm not the one who made it, right.\n\n223\n00:11:11.550 --> 00:11:14.680\nSo I'll show you guys how to change\nthese certificates here in a minute so\n\n224\n00:11:14.680 --> 00:11:17.020\nit is something that you do know and\nyou can be prepared for.\n\n225\n00:11:17.020 --> 00:11:20.290\nBut in my case I'm going to just have to\ntrust it, because I don't know, right?\n\n226\n00:11:20.290 --> 00:11:21.700\nOops.\n\n227\n00:11:21.700 --> 00:11:25.100\nSo I said yes to trust the certificate and\nthen I pressed enter too many times, so\n\n228\n00:11:25.100 --> 00:11:27.700\nI sent a blank password and\nthat doesn't work so well.\n\n229\n00:11:27.700 --> 00:11:29.200\nNotice the second time that I connect,\n\n230\n00:11:29.200 --> 00:11:32.070\nthough, it didn't ask me\nabout the certificate.\n\n231\n00:11:32.070 --> 00:11:36.070\nBecause once I said I trust it,\nit adds it to my certificate cache.\n\n232\n00:11:36.070 --> 00:11:38.710\nSo I've now got a cache and\nyes, I trust that certificate.\n\n233\n00:11:38.710 --> 00:11:42.290\nOkay, so now I can just provide\nmy password, and I'm in, right?\n\n234\n00:11:42.290 --> 00:11:45.370\nI'm connected to the server,\nand I'm using SSH.\n\n235\n00:11:46.620 --> 00:11:50.490\nNow my data should be fairly\nsecure at this point, right?\n\n236\n00:11:50.490 --> 00:11:51.330\nLet's test that.\n\n237\n00:11:51.330 --> 00:11:53.340\nI'm gonna close my SSH connection.\n\n238\n00:11:53.340 --> 00:11:56.160\nAnd you'll see I'm just\nback on local host now.\n\n239\n00:11:56.160 --> 00:11:59.096\nAnd I'm gonna fire up old Wireshark again.\n\n240\n00:12:01.093 --> 00:12:05.876\nAll right, and so we'll get that running\nso there goes, it's recording traffic and\n\n241\n00:12:05.876 --> 00:12:08.534\nthis time instead of telnet\nI'm gonna ssh in and\n\n242\n00:12:08.534 --> 00:12:12.260\nI'm gonna use the other way of\nproviding information here.\n\n243\n00:12:12.260 --> 00:12:17.226\nInstead of username@ and a hostname or\nIP, I'll do ssh-l dpezet,\n\n244\n00:12:17.226 --> 00:12:22.940\nfollowed by that hostname, and\nthat's just saying here's my login name.\n\n245\n00:12:22.940 --> 00:12:25.370\nIt's really the same thing\nthat at symbol is shorter, so\n\n246\n00:12:25.370 --> 00:12:26.460\nthat's what I normally type.\n\n247\n00:12:26.460 --> 00:12:28.270\nBut you can do whatever.\n\n248\n00:12:28.270 --> 00:12:29.990\nAnd so it's gonna reach out.\n\n249\n00:12:29.990 --> 00:12:31.710\nI'm gonna get connected, and\n\n250\n00:12:31.710 --> 00:12:35.540\nif I do a quick host name I can\nsee I'm on dplaptop, right?\n\n251\n00:12:35.540 --> 00:12:37.440\nAnd what were some of\nthe things I did earlier?\n\n252\n00:12:37.440 --> 00:12:38.060\nI did, like an LS.\n\n253\n00:12:38.060 --> 00:12:43.700\n>> You changed directory, you SU, you had\nthe SU, switch user to the root user.\n\n254\n00:12:43.700 --> 00:12:45.740\nThat's always fun to do.\n\n255\n00:12:45.740 --> 00:12:47.600\n>> All right.\nSo now I'm a super user and\n\n256\n00:12:47.600 --> 00:12:51.560\nif I do like a yum update and I get that\ngiant list of updates that are available,\n\n257\n00:12:51.560 --> 00:12:54.630\nthose are all things that I did\na minute ago while I was in here.\n\n258\n00:12:54.630 --> 00:12:57.630\nSo I'm doing these same things again\nthat I did under Telnet a minute ago.\n\n259\n00:12:59.570 --> 00:13:05.691\nNow if I go back to WireShark and I stop\nthis and let me filter this a little bit\n\n260\n00:13:08.059 --> 00:13:11.010\nto whatever IP address that was.\n\n261\n00:13:11.010 --> 00:13:12.330\nYou'd think I'd remember that IP by now.\n\n262\n00:13:12.330 --> 00:13:15.920\nAll right I can see that SSH\nconnection right there, right?\n\n263\n00:13:15.920 --> 00:13:22.610\nI see SSH and if I follow that tcp stream,\nlet's see what I get.\n\n264\n00:13:22.610 --> 00:13:28.020\nWell, right here at the top,\nI see a huge chunk of stuff that I sent,\n\n265\n00:13:28.020 --> 00:13:31.980\nthe red stuff is stuff that I sent,\nand blue stuff that I received.\n\n266\n00:13:31.980 --> 00:13:37.870\nI sent a list of of all the encryption\nalgorithms that I supported and\n\n267\n00:13:37.870 --> 00:13:41.590\nthe server sent me a list of all\nthe encryption algorithms they supported.\n\n268\n00:13:41.590 --> 00:13:42.800\nAnd then we talked for a second.\n\n269\n00:13:42.800 --> 00:13:44.380\nWe said alright, let's pick this one.\n\n270\n00:13:44.380 --> 00:13:47.450\nThis is the strongest one\nthat we both support.\n\n271\n00:13:47.450 --> 00:13:48.920\nAnd then from there,\n\n272\n00:13:48.920 --> 00:13:52.170\nthey started communicating using\nthat encrypted certificate.\n\n273\n00:13:53.240 --> 00:13:58.480\nAnd so after that point look what I see,\nit's a jumbled mess,\n\n274\n00:13:58.480 --> 00:14:00.630\nand I don't know what any of that is,\nright?\n\n275\n00:14:00.630 --> 00:14:02.070\nNone of it is meaningful.\n\n276\n00:14:02.070 --> 00:14:04.510\nAnd the reason is it's all encrypted.\n\n277\n00:14:04.510 --> 00:14:06.730\nNow, see this big section here?\n\n278\n00:14:06.730 --> 00:14:08.860\nHow it's all blue?\n\n279\n00:14:08.860 --> 00:14:12.160\nThat's more than likely where I ran\nthat yum update command, right?\n\n280\n00:14:12.160 --> 00:14:15.040\nThe yum update command gave me\nthis huge list of updates and\n\n281\n00:14:15.040 --> 00:14:16.050\nI didn't send any text back.\n\n282\n00:14:16.050 --> 00:14:19.500\nRemember, red is something I sent,\nblue is something I received.\n\n283\n00:14:19.500 --> 00:14:22.070\nAnd so,\nup here where it's a mixture of red and\n\n284\n00:14:22.070 --> 00:14:25.300\nblue, that's me sending commands and\ngetting feedback.\n\n285\n00:14:25.300 --> 00:14:27.880\nI know that cuz I was there,\nI did it, right?\n\n286\n00:14:27.880 --> 00:14:31.880\nBut if I were intercepting this as\na hacker, what would I know here?\n\n287\n00:14:31.880 --> 00:14:33.120\nI really wouldn't know much.\n\n288\n00:14:33.120 --> 00:14:36.210\nI'd know that somebody ran a command,\nI have no clue what command.\n\n289\n00:14:36.210 --> 00:14:39.280\nAnd I know that they got\na bunch of output back, but\n\n290\n00:14:39.280 --> 00:14:41.140\nI have no idea what that output is.\n\n291\n00:14:41.140 --> 00:14:41.710\nRight?\nAnd\n\n292\n00:14:41.710 --> 00:14:44.790\nI can't decipher it without\nthe private key for\n\n293\n00:14:44.790 --> 00:14:48.660\nthat communication to be able to de-crypt\nthat data and extrapolate what it is.\n\n294\n00:14:48.660 --> 00:14:51.520\nIt's meaningless without that.\n\n295\n00:14:51.520 --> 00:14:54.130\nSSH secures and encrypts the data.\n\n296\n00:14:54.130 --> 00:14:57.450\nAnd did I have to do anything\nspecial to set this up?\n\n297\n00:14:57.450 --> 00:14:59.670\nNo, SSH was already enabled for\nmy disk drive.\n\n298\n00:14:59.670 --> 00:15:01.820\nIt was already open on my firewall.\n\n299\n00:15:01.820 --> 00:15:05.530\nI just had to connect up and\ntrust that certificate, all right?\n\n300\n00:15:05.530 --> 00:15:07.700\nLet's talk about that\ncertificate a little bit.\n\n301\n00:15:07.700 --> 00:15:09.010\nI trusted the certificate.\n\n302\n00:15:09.010 --> 00:15:11.630\nI said, I'm the one who set that\nserver up, I know that's who it is.\n\n303\n00:15:11.630 --> 00:15:13.400\nI'm gonna go ahead and just trust it.\n\n304\n00:15:13.400 --> 00:15:15.500\nBut what if you weren't the person\nthat set that server up?\n\n305\n00:15:15.500 --> 00:15:17.240\nWhat if somebody else did?\n\n306\n00:15:17.240 --> 00:15:21.830\nAnd you go to connect and you're like\nwell, this could be the actual server.\n\n307\n00:15:21.830 --> 00:15:26.040\nOr Daniel could be IP\nspoofing that server and\n\n308\n00:15:26.040 --> 00:15:28.300\nmaybe I've actually connected to him and\nI don't know it.\n\n309\n00:15:28.300 --> 00:15:32.060\nAnd if I just say yeah trust that\ncertificate I've got an encrypted session.\n\n310\n00:15:32.060 --> 00:15:34.020\nAn encrypted session\nto his fake server and\n\n311\n00:15:34.020 --> 00:15:36.120\nhe's now intercepting\neverything that I run.\n\n312\n00:15:36.120 --> 00:15:40.220\nSo what happens, I go to log in, I provide\na username and a password and Daniel says,\n\n313\n00:15:40.220 --> 00:15:41.049\noh invalid password.\n\n314\n00:15:42.290 --> 00:15:44.770\nI'm like, no, I type it again,\ninvalid password.\n\n315\n00:15:44.770 --> 00:15:47.880\nMeanwhile, he's just recording that\npassword on his end, he's like oh,\n\n316\n00:15:47.880 --> 00:15:51.000\nnow I got your password, sucker,\nyou know, that's how this stuff works.\n\n317\n00:15:51.000 --> 00:15:55.877\nAnd, same thing goes for like, maybe he\nalready knows my password, so he lets me\n\n318\n00:15:55.877 --> 00:16:00.850\nin, and then he listens out for that su or\nwhatever, you start watching for that.\n\n319\n00:16:00.850 --> 00:16:03.441\nPeople just sit there and\ntype their password over and over again,\n\n320\n00:16:03.441 --> 00:16:04.840\nnot realizing it's being logged.\n\n321\n00:16:04.840 --> 00:16:06.860\nSo, that's the risk.\n\n322\n00:16:06.860 --> 00:16:12.295\nThat's where it'd be really nice if I knew\nthat certificate identity ahead of time.\n\n323\n00:16:12.295 --> 00:16:17.100\nIf I knew it ahead of time, when I\nwent to connect, I would know that I\n\n324\n00:16:17.100 --> 00:16:21.010\nwas connecting to the right server, cuz I\nalready knew the certificate has to match,\n\n325\n00:16:21.010 --> 00:16:24.030\nand if the certificate didn't match,\nI wouldn't be able to connect.\n\n326\n00:16:25.160 --> 00:16:25.980\nLet me show you that process.\n\n327\n00:16:27.110 --> 00:16:33.370\nPersonally, I'm always distrustful of\nthe keys that come with a Linux distro.\n\n328\n00:16:34.430 --> 00:16:35.450\nThere's a risk.\n\n329\n00:16:35.450 --> 00:16:36.990\n>> You have trust issues Don.\n\n330\n00:16:36.990 --> 00:16:38.400\n>> I do.\n[LAUGH] I got trust issues.\n\n331\n00:16:38.400 --> 00:16:43.660\nSo, there's a risk that who ever made\nthat distro pre-generated the keys.\n\n332\n00:16:43.660 --> 00:16:48.030\nAnd if they pre-generated the keys\nwhen they send that distro out there,\n\n333\n00:16:48.030 --> 00:16:52.170\nif a 1,000 people install it, a 1,000\npeople now have the same key, right?\n\n334\n00:16:52.170 --> 00:16:54.650\nThat's the risk and we're seeing\nthis with home routers right now,\n\n335\n00:16:54.650 --> 00:16:58.560\nwhere a lot of the manufacturers like\nLinksys are setting up these routers that\n\n336\n00:16:58.560 --> 00:17:01.060\nall have the same private key and\nthat's bad.\n\n337\n00:17:01.060 --> 00:17:04.330\nOne of things that I usually do\nwhen I set up a new Linux system\n\n338\n00:17:04.330 --> 00:17:06.050\nIs generate my own key, right?\n\n339\n00:17:06.050 --> 00:17:08.840\nThat way I know it was generated just for\nme.\n\n340\n00:17:09.900 --> 00:17:10.500\nSo let's do that,\n\n341\n00:17:10.500 --> 00:17:14.550\nI'm gonna take this server here that I\ndidn't change anything on it, right?\n\n342\n00:17:14.550 --> 00:17:18.980\nIt already had SSH enabled on it,\nI'm going to go and change its key, so\n\n343\n00:17:18.980 --> 00:17:22.040\nthat it's using one that\nI generated that I trust,\n\n344\n00:17:22.040 --> 00:17:23.890\nthat meets the Don seal of approval.\n\n345\n00:17:25.240 --> 00:17:26.815\n>> Your Don Pazete and\nyou approve this key.\n\n346\n00:17:26.815 --> 00:17:28.160\n[LAUGH]\n>> That's right.\n\n347\n00:17:28.160 --> 00:17:32.029\nSo to do this what we can do is,\n\n348\n00:17:33.180 --> 00:17:35.770\nfirst off we need to wipe out\nthe keys that it shipped with.\n\n349\n00:17:35.770 --> 00:17:39.330\nThe keys that it's using are actually\nstored away in a particular directory.\n\n350\n00:17:39.330 --> 00:17:44.550\nIf we go into /etc/ssh,\nthis folder right here,\n\n351\n00:17:44.550 --> 00:17:48.500\nyou'll see a bunch of files in there,\nand those files are different things.\n\n352\n00:17:48.500 --> 00:17:53.430\nSSH config,\nthat's the SSH client configuration.\n\n353\n00:17:53.430 --> 00:17:57.830\nSSHD config, that's the SSH\nserver configuration, right?\n\n354\n00:17:57.830 --> 00:17:59.830\nSo those are stored right\nthere in those files.\n\n355\n00:17:59.830 --> 00:18:03.100\nAnd then after that are your keys, right?\n\n356\n00:18:03.100 --> 00:18:04.870\nAnd there's a lot of key files here,\nright?\n\n357\n00:18:04.870 --> 00:18:07.880\nThere's six of them, or\nyou could potentially have more, but\n\n358\n00:18:07.880 --> 00:18:09.740\nnormally you'll have six just like this.\n\n359\n00:18:09.740 --> 00:18:13.790\nAnd as you kinda look down the list you'll\nsee there's DSA ones, there's keys, and\n\n360\n00:18:13.790 --> 00:18:15.420\nthere's RSA ones.\n\n361\n00:18:15.420 --> 00:18:18.920\nEach one kinda serves\na slightly different purpose.\n\n362\n00:18:18.920 --> 00:18:21.330\nThe keys are the ones that\nwe really care about.\n\n363\n00:18:21.330 --> 00:18:22.130\nThese guys here.\n\n364\n00:18:23.140 --> 00:18:28.620\nThe one that says ssh_host_key,\nthat's the private key for your system.\n\n365\n00:18:28.620 --> 00:18:33.020\nThat private key is capable of\nencrypting and decrypting data.\n\n366\n00:18:33.020 --> 00:18:36.020\nThen the one right after that,\nthat's the public key.\n\n367\n00:18:36.020 --> 00:18:42.130\nThe public key is capable of encrypting\ndata but not decrypting data.\n\n368\n00:18:42.130 --> 00:18:43.640\nIt can only encrypt.\n\n369\n00:18:43.640 --> 00:18:45.410\nSo when I connected as a client and\n\n370\n00:18:45.410 --> 00:18:49.600\nit said here's my certificate, it was\nactually sending me that public key.\n\n371\n00:18:49.600 --> 00:18:54.770\nAnd my client could encrypt data with that\npublic key, send it to the server and\n\n372\n00:18:54.770 --> 00:18:58.000\nthe server could use this\nprivate key to decrypt it.\n\n373\n00:18:58.000 --> 00:18:59.960\nThe private key never crosses the network.\n\n374\n00:18:59.960 --> 00:19:01.890\nThat's the one that we\nreally need to keep safe.\n\n375\n00:19:01.890 --> 00:19:04.310\nThe public key,\nyou could post that on the internet.\n\n376\n00:19:04.310 --> 00:19:05.850\nYou could give that to whoever wanted it.\n\n377\n00:19:05.850 --> 00:19:07.270\nWe don't care about that one.\n\n378\n00:19:07.270 --> 00:19:10.390\nBecause all it does is allow\nsomebody to encrypt data and\n\n379\n00:19:10.390 --> 00:19:12.380\nsend it to us, not to decrypt.\n\n380\n00:19:12.380 --> 00:19:14.120\nThe private key is the one\nwe have to keep safe.\n\n381\n00:19:15.200 --> 00:19:18.400\nSo those are the two that we\nreally need to regenerate.\n\n382\n00:19:18.400 --> 00:19:20.490\nBut these other keys get used for\n\n383\n00:19:20.490 --> 00:19:23.940\ndifferent services inside of SSH,\ndifferent parts of its process.\n\n384\n00:19:23.940 --> 00:19:28.440\nAnd so, if we're gonna regenerate one, we\nreally need to regenerate the whole set.\n\n385\n00:19:28.440 --> 00:19:31.170\nSo that's kind of where we start.\n\n386\n00:19:31.170 --> 00:19:34.120\nIf we want to generate our own keys,\nwe just need to wipe these turkeys out.\n\n387\n00:19:34.120 --> 00:19:35.530\nYou do need to be an admin to do this.\n\n388\n00:19:35.530 --> 00:19:39.620\nI've already done SUs, so\nI'm at an elevated user prompt here.\n\n389\n00:19:39.620 --> 00:19:44.590\nAnd I'm just gonna wipe those out so\nI'll do an RM and really,\n\n390\n00:19:44.590 --> 00:19:47.830\nyou could just wipe out anything\nwith the word key in it.\n\n391\n00:19:47.830 --> 00:19:53.030\nSo, I'll do like rm *key* and\nthat's gonna get rid of those files and\n\n392\n00:19:53.030 --> 00:19:57.290\nI should've done an -f, so it didn't\nprompt me for each one, but there we go.\n\n393\n00:19:57.290 --> 00:20:00.360\nSo, now when I look in there,\nI still have my config files, but\n\n394\n00:20:00.360 --> 00:20:01.660\nall those keys are gone.\n\n395\n00:20:01.660 --> 00:20:04.150\nI've effectively broken SSH, so\n\n396\n00:20:04.150 --> 00:20:09.020\nyou probably wanna do this from the local\nmachine, not necessarily remoting into it.\n\n397\n00:20:09.020 --> 00:20:10.490\nI'm on my local machine here.\n\n398\n00:20:10.490 --> 00:20:12.520\nSo I just wiped out those keys.\n\n399\n00:20:12.520 --> 00:20:14.770\nNow I need to generate some new ones,\nokay?\n\n400\n00:20:14.770 --> 00:20:19.380\nSo I'm gonna start by\nsaying ssh-keygen-t and\n\n401\n00:20:19.380 --> 00:20:22.370\nI'm gonna regenerate the rsa keys first.\n\n402\n00:20:22.370 --> 00:20:29.114\nAnd so I'll do rsa 1/etc/ssh/ssh\n\n403\n00:20:29.114 --> 00:20:33.720\npost key, whoops,\nif we spell it right it will work better.\n\n404\n00:20:33.720 --> 00:20:36.810\nAll right, so I'm gonna regenerate that,\nand here it goes generating it.\n\n405\n00:20:36.810 --> 00:20:38.920\nNow it's gonna ask for a pass phrase.\n\n406\n00:20:38.920 --> 00:20:41.170\nWe need to leave pass phrase empty.\n\n407\n00:20:41.170 --> 00:20:45.130\nNormally if you create a private key and\nyou go to open the private key you've got\n\n408\n00:20:45.130 --> 00:20:50.550\nto provide a pass phrase, but here we\nneed a service to open the private key.\n\n409\n00:20:50.550 --> 00:20:52.530\nSo there's no interactive prompt for that.\n\n410\n00:20:52.530 --> 00:20:53.970\nSo we need to leave the pass phrase empty.\n\n411\n00:20:53.970 --> 00:20:57.740\nI know that kinda goes against what you\nnormally think of for security, but\n\n412\n00:20:57.740 --> 00:21:01.020\nthis directory is locked off so that only\nthe system and root can get to it, so\n\n413\n00:21:01.020 --> 00:21:02.700\nit is a protected file.\n\n414\n00:21:02.700 --> 00:21:04.490\nAnd that's what gives us our protection,\nso\n\n415\n00:21:04.490 --> 00:21:07.460\nwe don't necessarily need\nthe pass phrase on it.\n\n416\n00:21:07.460 --> 00:21:09.210\nSo there it goes, and it generated and\n\n417\n00:21:09.210 --> 00:21:13.040\nit gives us this random image art,\nwhich is pointless.\n\n418\n00:21:13.040 --> 00:21:14.080\nBut you know.\n\n419\n00:21:14.080 --> 00:21:15.767\n>> Lets you know something happened.\n\n420\n00:21:15.767 --> 00:21:17.990\n[LAUGH]\n>> Looks like maybe a snail or something.\n\n421\n00:21:17.990 --> 00:21:19.830\n>> Yeah.\n>> Anyhow, so I've generated that key.\n\n422\n00:21:19.830 --> 00:21:21.520\nI've got two more to do.\n\n423\n00:21:21.520 --> 00:21:24.260\nSo that was the first set of private keys.\n\n424\n00:21:24.260 --> 00:21:27.880\nMy second key is just gonna be\nthe straight-up regular RSA key, and so\n\n425\n00:21:27.880 --> 00:21:34.870\nthat one is the one that\nwas SSH _host _ RSA_key.\n\n426\n00:21:34.870 --> 00:21:36.030\nSo I'll regenerate that one, too.\n\n427\n00:21:36.030 --> 00:21:39.960\nDoing the same thing,\nno pass phrase on that.\n\n428\n00:21:39.960 --> 00:21:46.200\nAnd then the last one is the DSA key,\nso we'll get that one done and\n\n429\n00:21:46.200 --> 00:21:50.020\nwe'll put that in the directory also.\n\n430\n00:21:50.020 --> 00:21:52.480\nAll right.\n\n431\n00:21:52.480 --> 00:21:56.060\nAnd when we're done,\nI can look at that list and\n\n432\n00:21:56.060 --> 00:21:59.030\nright there I can see it's got those keys.\n\n433\n00:21:59.030 --> 00:22:01.956\nIt's got them in place, and\nI just regenerated them and\n\n434\n00:22:01.956 --> 00:22:05.640\nI know that I generated them, and\nit didn't come with the distro,\n\n435\n00:22:05.640 --> 00:22:09.660\nit didn't, it wasn't something\nthat was predictably calculable.\n\n436\n00:22:09.660 --> 00:22:14.160\nFor example, I might have a TPM in\nmy hardware so my entropy levels\n\n437\n00:22:14.160 --> 00:22:17.810\nmight be way higher than what somebody\nelse generating this might have done.\n\n438\n00:22:17.810 --> 00:22:19.670\nIf they generated in a virtual machine for\nexample,\n\n439\n00:22:19.670 --> 00:22:21.450\nentropy is terrible in a virtual machine.\n\n440\n00:22:21.450 --> 00:22:26.220\nSo this makes sure that I get nice,\ngood, clean keys, all right?\n\n441\n00:22:26.220 --> 00:22:28.080\nNow SSH is gonna start using these,\n\n442\n00:22:28.080 --> 00:22:30.790\ndon't actually have to do anything\nto SSH to make it start using it.\n\n443\n00:22:30.790 --> 00:22:33.580\nYou could restart the SSH\nservice if you wanted.\n\n444\n00:22:33.580 --> 00:22:38.270\nThis is a up-start system so\nI'll do service sshd Restart.\n\n445\n00:22:39.410 --> 00:22:40.320\nThere we go.\n\n446\n00:22:40.320 --> 00:22:41.380\nYou can restart it if you want to.\n\n447\n00:22:41.380 --> 00:22:44.150\nIt actually starts using\nthe keys with any new connection.\n\n448\n00:22:44.150 --> 00:22:47.610\nRestarting the SSHD will just make sure\nthat you kick everybody out that's still\n\n449\n00:22:47.610 --> 00:22:48.670\non the old keys.\n\n450\n00:22:48.670 --> 00:22:51.950\nSo now we're up and\nwe're using those new keys.\n\n451\n00:22:52.980 --> 00:22:57.230\nNow the key itself,\nif I wanna verify it and\n\n452\n00:22:57.230 --> 00:23:02.570\nhand it off to the other users so they've\ngot access to it, if I look in these keys,\n\n453\n00:23:02.570 --> 00:23:07.137\nif I take a look at SSH_host_key.pub,\n\n454\n00:23:07.137 --> 00:23:12.230\nif you take a look at that key it kind of\nlays it out here and it's giving it to\n\n455\n00:23:12.230 --> 00:23:17.920\nyou as far as the numerical kind\nof version of that key If you\n\n456\n00:23:17.920 --> 00:23:22.100\nwant somebody to pre-load the key it needs\nto be in a slightly different format.\n\n457\n00:23:22.100 --> 00:23:23.930\nWhen you SSH into a host,\n\n458\n00:23:23.930 --> 00:23:29.060\nlet me show you what I'm talking about\nhere let me get rid of that guy.\n\n459\n00:23:29.060 --> 00:23:34.010\nSo when you SSH into a host,\nit asks you if you trust that key, and\n\n460\n00:23:34.010 --> 00:23:36.100\nthen, remember how I said it caches it?\n\n461\n00:23:36.100 --> 00:23:37.940\nIt caches it and it saves it.\n\n462\n00:23:37.940 --> 00:23:41.280\nIf I go back to my home directory and\nI do a ls-la?\n\n463\n00:23:41.280 --> 00:23:43.890\nI'll see that I have a .ssh folder, and\n\n464\n00:23:43.890 --> 00:23:49.750\nif I go into that .ssh folder you'll see\nthis file right here, Known Hosts, okay?\n\n465\n00:23:49.750 --> 00:23:52.690\nKnown hosts,\nthose are the keys that I've cached.\n\n466\n00:23:52.690 --> 00:23:54.460\nIts just a text file, we can edit that.\n\n467\n00:23:55.790 --> 00:23:58.510\nAnd each user maintains\ntheir own known host.\n\n468\n00:23:58.510 --> 00:24:01.574\nAnd when you look in here,\nsee how it's got an IP address for\n\n469\n00:24:01.574 --> 00:24:03.920\na server that I've\nconnected to in the past.\n\n470\n00:24:03.920 --> 00:24:07.071\nAnd it's got a key, and\nthen it's got this lettered, or\n\n471\n00:24:07.071 --> 00:24:10.616\nhexadecimal, special character,\nit's a lot different, but\n\n472\n00:24:10.616 --> 00:24:14.330\nthis is a representation of this\npublic key from the server.\n\n473\n00:24:14.330 --> 00:24:18.190\nOkay, I can get that representation and\n\n474\n00:24:18.190 --> 00:24:21.010\nhand it off to the user so\nthat they have it.\n\n475\n00:24:21.010 --> 00:24:23.240\nThere's a few different ways to do that.\n\n476\n00:24:23.240 --> 00:24:25.680\nThere's actually a little\ncommand you can use called SSH\n\n477\n00:24:25.680 --> 00:24:28.090\nkey scan that'll reach out there and\nget it.\n\n478\n00:24:28.090 --> 00:24:29.670\nSo if I go back to this system.\n\n479\n00:24:29.670 --> 00:24:31.300\nDo I even have SSH keyscan on here?\n\n480\n00:24:31.300 --> 00:24:33.420\nLet's see.\n\n481\n00:24:33.420 --> 00:24:37.480\nSo you can run SSH keyscan and\nyou can point it at your system, so\n\n482\n00:24:37.480 --> 00:24:41.130\nI might point it at like 127.0.0.\n\n483\n00:24:41.130 --> 00:24:45.590\nI'm on the server, I can do a key\nscan against the server, and\n\n484\n00:24:45.590 --> 00:24:50.670\nwhen we do that, it's gonna give\nus that proper representation.\n\n485\n00:24:50.670 --> 00:24:53.110\nSee how I've got it\nlisted here with the IP\n\n486\n00:24:53.110 --> 00:24:55.770\nfollowed by the certificate\nkinda listed here.\n\n487\n00:24:55.770 --> 00:24:58.540\nThis is what I need to\ngive to somebody else.\n\n488\n00:24:58.540 --> 00:25:01.780\nIf they want to know about\nthis key ahead of time,\n\n489\n00:25:01.780 --> 00:25:03.460\nI need to give this to them, right?\n\n490\n00:25:03.460 --> 00:25:06.560\nAnd then they'll have it, and\nthey'll be able to connect in and use it.\n\n491\n00:25:06.560 --> 00:25:07.100\nAll right.\n\n492\n00:25:07.100 --> 00:25:08.780\nAnd you can just copy and paste this.\n\n493\n00:25:08.780 --> 00:25:13.480\nIt's just text and you can grab it that\nway and hand it off as you need to.\n\n494\n00:25:13.480 --> 00:25:15.570\nSo I'm gonna go ahead and copy that and\n\n495\n00:25:15.570 --> 00:25:20.650\nif I jump back over here\nwe could take this file and\n\n496\n00:25:20.650 --> 00:25:25.630\nI'll just go onto the very next line and\nI'm gonna paste that in, all right?\n\n497\n00:25:25.630 --> 00:25:30.990\nSo now I'm setting the key and my only\nproblem here Is that the IP address\n\n498\n00:25:30.990 --> 00:25:35.760\nis wrong, right.\n\n499\n00:25:35.760 --> 00:25:39.220\nSo I did that from the individual\nserver to make sure that I got\n\n500\n00:25:39.220 --> 00:25:41.180\nVU right specific key.\n\n501\n00:25:41.180 --> 00:25:42.980\nKeyboard shortcut for that but whatever.\n\n502\n00:25:42.980 --> 00:25:44.290\nSo I need to go in and edit that IP.\n\n503\n00:25:44.290 --> 00:25:49.760\nThe certificate is the same, right so\nthe IP doesn't break things by me going in\n\n504\n00:25:49.760 --> 00:25:55.580\nhere and changing that, but now it's got\nit, and I know the key for that system.\n\n505\n00:25:55.580 --> 00:26:00.660\nAlso notice how the key I generated, see\nhow it's word wrapping around five lines.\n\n506\n00:26:00.660 --> 00:26:02.750\nThis other key that I've got is only\nword wrapping around three lines,\n\n507\n00:26:02.750 --> 00:26:04.260\nwhat's that all about?\n\n508\n00:26:04.260 --> 00:26:07.470\nWell, that key was generated\nwith a weaker bit rate.\n\n509\n00:26:07.470 --> 00:26:10.150\nThere's another reason why you might want\nto generate your own key right there to\n\n510\n00:26:10.150 --> 00:26:15.138\nmake sure that you started with\na stronger bitrate than some other value.\n\n511\n00:26:15.138 --> 00:26:20.260\nAll right, so now,\ninside of my known_host I've\n\n512\n00:26:20.260 --> 00:26:23.110\nalready got that certificate entered\nin and I've got it in a save.\n\n513\n00:26:23.110 --> 00:26:27.690\nNow, that's just for me I used\nthis known_hosts file just for me.\n\n514\n00:26:27.690 --> 00:26:31.260\nBut there is a common known_hosts\nfile that's shared for everybody.\n\n515\n00:26:31.260 --> 00:26:37.080\nIf you go into /etc/ssh,\nI don't think I have one in here.\n\n516\n00:26:37.080 --> 00:26:37.720\nYeah.\n\n517\n00:26:37.720 --> 00:26:40.350\nYou can create a file in here called SSH,\nI think it's,\n\n518\n00:26:40.350 --> 00:26:42.480\nlet me make sure I'm giving\nyou the right one here.\n\n519\n00:26:42.480 --> 00:26:46.720\nSSH underscore known underscore hosts,\nand if you put it here and\n\n520\n00:26:46.720 --> 00:26:50.550\nyou paste that key in,\nthen all of the users on your system will\n\n521\n00:26:50.550 --> 00:26:52.980\nalready know that key and\nhave it available.\n\n522\n00:26:52.980 --> 00:26:56.420\nThe negative there is only\nroot can change that, right?\n\n523\n00:26:56.420 --> 00:26:58.727\nIf you leave it in users' profiles,\nthey can go and change it.\n\n524\n00:26:58.727 --> 00:27:02.584\nSo you could always put it in\nlike the skel directory so\n\n525\n00:27:02.584 --> 00:27:04.392\nyou add it with new user.\n\n526\n00:27:04.392 --> 00:27:06.620\nThere's all sorts of different\nthings you can do with it.\n\n527\n00:27:06.620 --> 00:27:09.970\nBut now, if I go to ssh that other system,\n\n528\n00:27:09.970 --> 00:27:15.410\nwhen I go to connect,\nit's gonna look at my known hosts.\n\n529\n00:27:15.410 --> 00:27:16.770\nIt's gonna see I've got that certificate.\n\n530\n00:27:16.770 --> 00:27:20.850\nAnd when it connects to the server, it's\ngonna get the certificate with them and\n\n531\n00:27:20.850 --> 00:27:22.470\ncompare them and see if they match.\n\n532\n00:27:22.470 --> 00:27:24.470\nAnd if they don't match,\nit's giving me a warning.\n\n533\n00:27:24.470 --> 00:27:27.420\nAnd that's how I know I connected\nto an impersonating server.\n\n534\n00:27:27.420 --> 00:27:30.020\nBut if I don't get a warning at all,\nthen I'm gonna connect and\n\n535\n00:27:30.020 --> 00:27:30.680\nthings are gonna work.\n\n536\n00:27:30.680 --> 00:27:32.740\nNow I did just get a big warning.\n\n537\n00:27:32.740 --> 00:27:35.230\nRemote host identification has changed.\n\n538\n00:27:35.230 --> 00:27:37.782\nIt is possible that someone\nis doing something nasty.\n\n539\n00:27:37.782 --> 00:27:40.902\nIt's telling me my key didn't match,\nokay and\n\n540\n00:27:40.902 --> 00:27:43.944\nit's telling me I need to\nadd a correct host key\n\n541\n00:27:43.944 --> 00:27:48.639\nin /home/dpezet/.ssh/known_hosts\nto get rid of this message.\n\n542\n00:27:48.639 --> 00:27:50.740\nNow I did that, right?\n\n543\n00:27:50.740 --> 00:27:54.110\nAnd it's saying the offending key\n/home/dpezet/.ssh/known_hosts:2,\n\n544\n00:27:54.110 --> 00:27:57.700\nit's saying it doesn't match.\n\n545\n00:27:57.700 --> 00:28:00.420\nThe RSA host key has changed.\n\n546\n00:28:00.420 --> 00:28:03.390\nAnd we've requested strict checking,\nright?\n\n547\n00:28:03.390 --> 00:28:06.870\nStrict checking is a feature in\nthe SSH config file that I kinda\n\n548\n00:28:06.870 --> 00:28:10.440\npointed at earlier, that says,\ndon't allow us to connect to somebody,\n\n549\n00:28:10.440 --> 00:28:13.030\nif their certificate is different\nthan what we've cached.\n\n550\n00:28:13.030 --> 00:28:17.670\nNow, I put the proper key in there,\nat least I thought I did.\n\n551\n00:28:17.670 --> 00:28:21.880\nWhen you cut and paste, there's always the\ndanger that you get extra spaces in there,\n\n552\n00:28:21.880 --> 00:28:23.260\nor other things.\n\n553\n00:28:23.260 --> 00:28:28.270\nSo let's just do a quick ssh\nkey scan of that other system.\n\n554\n00:28:29.770 --> 00:28:32.650\nAll right, and I'm just gonna verify, so\n\n555\n00:28:32.650 --> 00:28:35.720\nthis is the key that I'm\ngetting on a scan right now.\n\n556\n00:28:35.720 --> 00:28:39.420\nAnd if I let me just kinda switch.\n\n557\n00:28:39.420 --> 00:28:40.580\nWho am I?\n\n558\n00:28:40.580 --> 00:28:42.400\nI'm root, I don't want to be root,\nI want to be dpezet.\n\n559\n00:28:42.400 --> 00:28:43.230\nThere we go.\n\n560\n00:28:43.230 --> 00:28:47.540\nSo let me verify that compared\nto what I pasted in here.\n\n561\n00:28:50.150 --> 00:28:51.820\nSo if I take a look at what I pasted in.\n\n562\n00:28:54.540 --> 00:28:58.930\nI added the key to the root user and\nnot to my regular user.\n\n563\n00:28:58.930 --> 00:29:00.330\nSo that's why there's not a match.\n\n564\n00:29:00.330 --> 00:29:02.340\nSo if I look at this entry hear and\n\n565\n00:29:02.340 --> 00:29:07.180\nthe key that's in there, that's different\nthan what the other system is returning.\n\n566\n00:29:07.180 --> 00:29:11.360\nSo let me just redo this.\n\n567\n00:29:11.360 --> 00:29:13.950\nSo I'm just gonna paste it right\nafter this one so we can see.\n\n568\n00:29:13.950 --> 00:29:22.580\nAll right, so here's the key that\nI lifted from the other system.\n\n569\n00:29:22.580 --> 00:29:25.412\nAnd I've had I shouldn't say\nI lifted it like I stole it.\n\n570\n00:29:25.412 --> 00:29:27.210\n>> [LAUGH]\n>> But it was freely given.\n\n571\n00:29:27.210 --> 00:29:28.620\n>> Sticky fingers Pezet.\n\n572\n00:29:28.620 --> 00:29:31.250\n>> But if you compare the key on the top\nand the key on the bottom they're\n\n573\n00:29:31.250 --> 00:29:32.650\ndifferent and\nyou don't have to look at the whole thing.\n\n574\n00:29:32.650 --> 00:29:33.860\nJust like right here at the end.\n\n575\n00:29:33.860 --> 00:29:36.950\nThe last few characters nez kw equals,\nequals.\n\n576\n00:29:36.950 --> 00:29:41.770\nHere I've got qk fm nw equals,\nequals they're different, right?\n\n577\n00:29:41.770 --> 00:29:43.160\nI know these two are different.\n\n578\n00:29:43.160 --> 00:29:46.480\nThis is the key from above and what I\ndid is I edited the known host file for\n\n579\n00:29:46.480 --> 00:29:49.680\nthe root user, I forgot I SU for\nrunning wire shark.\n\n580\n00:29:49.680 --> 00:29:51.400\nAnd so, I put it in the wrong spot.\n\n581\n00:29:51.400 --> 00:29:55.480\nSo I'm just gonna get in here and\ndelete that old one out so\n\n582\n00:29:55.480 --> 00:29:58.330\nthat only the new one is left, okay?\n\n583\n00:29:58.330 --> 00:29:59.960\nAnd I'll save that.\n\n584\n00:29:59.960 --> 00:30:02.410\nAnd now,\nwhen I go back to my other tab here,\n\n585\n00:30:02.410 --> 00:30:04.720\na minute ago when I tried to connect,\nit failed.\n\n586\n00:30:04.720 --> 00:30:07.428\nThis time, when I go to connect,\nit failed.\n\n587\n00:30:07.428 --> 00:30:09.950\n>> [LAUGH]\n>> Why am I here?\n\n588\n00:30:09.950 --> 00:30:11.000\nNo, I'm dpezet.\n\n589\n00:30:11.000 --> 00:30:15.280\nLet me just double check\nthat one more time, and\n\n590\n00:30:15.280 --> 00:30:21.490\nthis time what I'm gonna do is I'll\ndo an ssh key scan of 10.1.230.238.\n\n591\n00:30:21.490 --> 00:30:25.829\nAll right, and\nI'll do a more of the known_hosts file.\n\n592\n00:30:25.829 --> 00:30:28.320\nAnd we'll compare those two,\njust to make sure they match.\n\n593\n00:30:28.320 --> 00:30:32.930\nAnd what I'm hoping to see here is\nan identical match between the two,\n\n594\n00:30:32.930 --> 00:30:35.140\nthe one up top and the one on the bottom.\n\n595\n00:30:35.140 --> 00:30:39.340\nAnd you can see where I've got that\n10.1.230.238 along with its key.\n\n596\n00:30:39.340 --> 00:30:41.730\nThis is what was returned by SSH key scan.\n\n597\n00:30:41.730 --> 00:30:46.610\nSo I know for a fact that that one is\naccurate, all right, and then the one down\n\n598\n00:30:46.610 --> 00:30:51.540\nhere, as I look at it, you know Daniel,\nI am not seeing a difference.\n\n599\n00:30:51.540 --> 00:30:52.480\nThat looks like the right key,\n\n600\n00:30:52.480 --> 00:30:55.470\nso I'm gonna assume that I got\nsome bad characters in here.\n\n601\n00:30:55.470 --> 00:30:57.900\nSo let me show you guys a quick trick.\n\n602\n00:30:57.900 --> 00:31:01.560\nIf you know you can trust the server,\nand you know you did a key scan and\n\n603\n00:31:01.560 --> 00:31:06.100\nit matches, then, we can actually populate\nthis file a little bit more automatically.\n\n604\n00:31:06.100 --> 00:31:10.260\nSo, I'm gonna remove my known host file,\nI'm just gonna delete it.\n\n605\n00:31:10.260 --> 00:31:13.430\nAnd then,\nI'm gonna use that SSH key scan and\n\n606\n00:31:13.430 --> 00:31:19.270\nI'm just going to take its output and dump\nthat directly into my known hosts file.\n\n607\n00:31:19.270 --> 00:31:20.690\nAnd, by doing that.\n\n608\n00:31:22.700 --> 00:31:24.320\nIt's going to make sure\nI don't get any typos.\n\n609\n00:31:24.320 --> 00:31:26.100\nLet's take the human element out of it.\n\n610\n00:31:26.100 --> 00:31:27.740\nI'm just gonna dump it right into there.\n\n611\n00:31:27.740 --> 00:31:30.090\nAnd now we should be\nable to get around that.\n\n612\n00:31:30.090 --> 00:31:32.205\nSo let me go in and connect.\n\n613\n00:31:34.480 --> 00:31:35.540\nAnd there we go.\n\n614\n00:31:35.540 --> 00:31:37.740\nSee, it didn't prompt me about the\ncertificate, so obviously when I cut and\n\n615\n00:31:37.740 --> 00:31:39.767\npaste, I must have brought\nover some special characters.\n\n616\n00:31:39.767 --> 00:31:41.020\nIt's sensitive, right?\n\n617\n00:31:41.020 --> 00:31:44.300\nIf you change even one letter\nit invalidates the whole key.\n\n618\n00:31:44.300 --> 00:31:51.040\nBut now I can get in here, I can log in,\nand now I'm on that laptop and\n\n619\n00:31:51.040 --> 00:31:55.010\nI'm secure and I did it with my own keys,\nkeys I know I trust.\n\n620\n00:31:55.010 --> 00:31:56.600\n>> Don that is super awesome.\n\n621\n00:31:56.600 --> 00:32:02.040\nBeing able to demystify the SSH and\ncreating keys and these known host files.\n\n622\n00:32:02.040 --> 00:32:06.570\nIt can be really daunting to a new user\nthat wants to we want to be secure.\n\n623\n00:32:06.570 --> 00:32:09.610\nThat is the avenue in which\nwe want to travel down.\n\n624\n00:32:09.610 --> 00:32:12.720\nAnd it gets a little scary when we start\nkicking our feet around somewhere we're\n\n625\n00:32:12.720 --> 00:32:13.750\nnot really sure about.\n\n626\n00:32:13.750 --> 00:32:14.760\nBut it's really not that hard,\n\n627\n00:32:14.760 --> 00:32:18.140\nwe really showed that this\nis a really simple process.\n\n628\n00:32:18.140 --> 00:32:19.910\nAnd even when you have\na little bit of trouble,\n\n629\n00:32:19.910 --> 00:32:21.950\nyou quickly troubleshoot that as well.\n\n630\n00:32:21.950 --> 00:32:25.230\nNot really that difficult,\nI mean we spent 30 minutes explaining it.\n\n631\n00:32:25.230 --> 00:32:28.380\nIf you were doing this,\nit would take you five or ten minutes, and\n\n632\n00:32:28.380 --> 00:32:31.470\nyou'd be SSH in all day\nlong having a great time.\n\n633\n00:32:31.470 --> 00:32:32.520\nNot that difficult.\n\n634\n00:32:32.520 --> 00:32:36.100\n>> And a good question in the chat room\nabout how do you set what ciphers it uses.\n\n635\n00:32:36.100 --> 00:32:40.560\nAnd you got a couple of choices\nthere on the SSH server itself.\n\n636\n00:32:40.560 --> 00:32:41.060\nRight?\n\n637\n00:32:41.060 --> 00:32:45.250\nYou need to go and modify that\n/etc/ssh/sshd_comp file, right?\n\n638\n00:32:45.250 --> 00:32:49.440\nYou go in that config file, and\nthat's where you can dictate,\n\n639\n00:32:49.440 --> 00:32:50.900\ndo you wanna support version one?\n\n640\n00:32:50.900 --> 00:32:51.680\nOr version two?\n\n641\n00:32:51.680 --> 00:32:53.100\nWhat ciphers do you wanna support?\n\n642\n00:32:53.100 --> 00:32:54.720\nSo you dictate that on the server.\n\n643\n00:32:54.720 --> 00:32:58.120\nWhen you generate your certificates,\nthat command that we used,\n\n644\n00:32:58.120 --> 00:33:02.170\nthat RSA keygen command,\nwe generated those keys.\n\n645\n00:33:02.170 --> 00:33:03.820\nI'm sorry, the SSH keygen command.\n\n646\n00:33:03.820 --> 00:33:07.400\nWhen we generated those keys, there's\na lot of command line modifiers there you\n\n647\n00:33:07.400 --> 00:33:12.130\ncan use to specify bitrates, and cipher\nsuites, hashing algorithms and so on.\n\n648\n00:33:12.130 --> 00:33:15.280\nWhen you generate those keys but you gotta\nmake sure you set it in both places.\n\n649\n00:33:15.280 --> 00:33:18.330\nYou don't wanna generate keys that are\nharder than what your SSH daemon will even\n\n650\n00:33:18.330 --> 00:33:19.120\nsupport, right?\n\n651\n00:33:19.120 --> 00:33:20.920\nSo you gotta make sure those match.\n\n652\n00:33:20.920 --> 00:33:22.860\nAnd then on the client\nside when they connect,\n\n653\n00:33:22.860 --> 00:33:25.930\nthere's a lot of command line options\nthey can do on the client side too.\n\n654\n00:33:25.930 --> 00:33:30.590\nI just ran the SSH command with its\ndefaults but you can do like ssh -two\n\n655\n00:33:30.590 --> 00:33:35.260\nto force it to run an SSH version two mode\ninstead of version one, and this so all of\n\n656\n00:33:35.260 --> 00:33:39.790\nthat can be manipulated pretty easily from\nthe commands and in the config files.\n\n657\n00:33:39.790 --> 00:33:40.451\n>> Awesome stuff Don.\n\n658\n00:33:40.451 --> 00:33:43.051\nWell it looks like we're out of time.\n\n659\n00:33:43.051 --> 00:33:44.880\nWe're gonna have to stop it here.\n\n660\n00:33:44.880 --> 00:33:46.130\nWe are gonna have a part two to this.\n\n661\n00:33:46.130 --> 00:33:48.540\nWe're gonna do some SSH tunneling,\nthat's gonna be good stuff.\n\n662\n00:33:48.540 --> 00:33:50.040\n>> Yep.\n>> So, check that episode out.\n\n663\n00:33:50.040 --> 00:33:52.780\nBut, as for this one goes,\nwe are done for the day.\n\n664\n00:33:52.780 --> 00:33:56.460\nSo, signing off for ITProTV,\nI've been your host Daniel Lowrie.\n\n665\n00:33:56.460 --> 00:33:57.130\n>> And, I'm Don Pezet.\n\n666\n00:33:57.130 --> 00:33:59.735\n>> And we'll see you next time.\n\n667\n00:33:59.735 --> 00:34:04.680\n[SOUND]\n\n",
          "vimeoId": "133069131"
        },
        {
          "description": null,
          "length": "1022",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-2-securing_data_with_ssh_pt2-070715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-2-securing_data_with_ssh_pt2-070715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/comptia-linuxlx0104/comptia-linuxlx0104-10-2-securing_data_with_ssh_pt2-070715-1-sm.jpg",
          "title": "Securing Data with SSH Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.079 --> 00:00:10.440\n[MUSIC]\n\n2\n00:00:10.440 --> 00:00:15.050\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.050 --> 00:00:16.790\nI'll be your host, Daniel Lowrie.\n\n4\n00:00:16.790 --> 00:00:20.100\nAnd here with me today is my good\nfriend and colleague, Don Pezet.\n\n5\n00:00:20.100 --> 00:00:21.120\nHow's it going today, Don?\n\n6\n00:00:21.120 --> 00:00:21.810\n>> It is going great.\n\n7\n00:00:21.810 --> 00:00:26.070\nWe're back again for another Linux+\nepisode, part two of our SSH\n\n8\n00:00:26.070 --> 00:00:27.916\nepisode that we kinda started and-\n>> The quickening.\n\n9\n00:00:27.916 --> 00:00:30.140\n[LAUGH]\n>> Yeah, I blabbered too long.\n\n10\n00:00:30.140 --> 00:00:33.139\nWe had a little bit left to get to that\nwe didn't finish in the last episode, but\n\n11\n00:00:33.139 --> 00:00:34.148\nit's pretty important.\n\n12\n00:00:34.148 --> 00:00:36.510\nIt's SSH tunneling.\n\n13\n00:00:36.510 --> 00:00:39.580\nAnd let me tell you, boy,\nSSH tunneling is some fun stuff cuz\n\n14\n00:00:39.580 --> 00:00:42.420\nthere's really no limit to\nwhat you can do with it.\n\n15\n00:00:42.420 --> 00:00:44.470\nWhat SSH tunneling is,\nit's kinda like a VPN.\n\n16\n00:00:44.470 --> 00:00:45.882\nA lot of you guys out there in TV land,\n\n17\n00:00:45.882 --> 00:00:47.854\nyou've probably used\nvirtual private networks.\n\n18\n00:00:47.854 --> 00:00:53.734\nAnd you used, PPTP or L2TP,\nmaybe you used SSL VPNs, IPsec, right,\n\n19\n00:00:53.734 --> 00:00:59.231\nto build an encrypted tunnel between\nyou and some other location.\n\n20\n00:00:59.231 --> 00:01:01.000\nAnd it worked well enough, right?\n\n21\n00:01:01.000 --> 00:01:04.180\nBut when you did that,\nyou had to set things up on both ends,\n\n22\n00:01:04.180 --> 00:01:06.140\nyou had to build the tunnel up.\n\n23\n00:01:06.140 --> 00:01:08.130\nAnd you had to have identities and\n\n24\n00:01:08.130 --> 00:01:11.070\nkind of things configured there, and\nit can be a little bit challenging.\n\n25\n00:01:11.070 --> 00:01:14.410\nWell, what a lot of people don't\nrealize is, if you just need something\n\n26\n00:01:14.410 --> 00:01:17.860\ntemporarily, you don't have to go\nthrough the trouble of setting up a VPN.\n\n27\n00:01:17.860 --> 00:01:19.060\nYou can just use SSH.\n\n28\n00:01:19.060 --> 00:01:22.730\nNow normally, when we hear SSH,\nwe think of the secure shell.\n\n29\n00:01:22.730 --> 00:01:26.160\nI'm getting a shell session and\nit's encrypted and there we go.\n\n30\n00:01:26.160 --> 00:01:31.010\nBut, you can actually send whatever\nthe heck you want over that session.\n\n31\n00:01:31.010 --> 00:01:34.890\nThe default, when you connect via SSH,\nthe default is for\n\n32\n00:01:34.890 --> 00:01:39.390\nit to run a shell on the other end for\nyou, but you don't have to do that.\n\n33\n00:01:39.390 --> 00:01:42.060\nYou can tell it, hey,\ndon't run anything on the other end.\n\n34\n00:01:42.060 --> 00:01:45.910\nLet me start running programs over this\nand let me run whatever the heck I want.\n\n35\n00:01:45.910 --> 00:01:48.000\nAnd it'll do that just fine.\n\n36\n00:01:48.000 --> 00:01:52.610\nSSH isn't actually a shell protocol,\nits an encryption protocol, right?\n\n37\n00:01:52.610 --> 00:01:54.170\nIt creates a tunnel,\n\n38\n00:01:54.170 --> 00:01:58.620\nSSH is a tunneling in protocol that\njust happens to run a shell by default.\n\n39\n00:01:58.620 --> 00:02:02.153\nBut if we tell it not to run the shell,\nyou can run anything.\n\n40\n00:02:02.153 --> 00:02:03.106\nI sound kind of creepy-\n>> [LAUGH]\n\n41\n00:02:03.106 --> 00:02:04.216\n>> When I say it that way,\n\n42\n00:02:04.216 --> 00:02:05.275\nlet me back off that.\n\n43\n00:02:05.275 --> 00:02:08.085\nYou can run things like\nX-Window applications.\n\n44\n00:02:08.085 --> 00:02:11.375\nYou can run GUI apps that are actually\nrunning on a server on the other end but\n\n45\n00:02:11.375 --> 00:02:13.055\nyou see the GUI on your end.\n\n46\n00:02:13.055 --> 00:02:15.372\nYou can run non-secure\nprotocols like telnet.\n\n47\n00:02:15.372 --> 00:02:17.382\nAnd you can say I'm gonna run telnet,\n\n48\n00:02:17.382 --> 00:02:19.532\nstick it in this tunnel that\nwill encrypt it, right?\n\n49\n00:02:19.532 --> 00:02:22.542\nMaybe you've got some application\nthat you have to use telnet with,\n\n50\n00:02:22.542 --> 00:02:23.702\nyou're just required.\n\n51\n00:02:23.702 --> 00:02:25.352\nWell that sucks, right, and it happens.\n\n52\n00:02:25.352 --> 00:02:27.670\nAnd you don't wanna do that.\n\n53\n00:02:27.670 --> 00:02:31.530\nSo maybe you take that traffic and\nyou nest it inside of an SSH tunnel.\n\n54\n00:02:31.530 --> 00:02:34.330\nMaybe your company has a firewall and\n\n55\n00:02:34.330 --> 00:02:36.840\nthey're just not letting you get certain\nwebsites and you wanna get there so\n\n56\n00:02:36.840 --> 00:02:39.170\nyou SSH into your home computer and\nbrowse the web.\n\n57\n00:02:39.170 --> 00:02:40.690\nI don't know who would\ndo something like this.\n\n58\n00:02:40.690 --> 00:02:41.256\n>> Not Don.\n\n59\n00:02:41.256 --> 00:02:44.619\n[LAUGH]\n>> Daniel and I, just kinda our history,\n\n60\n00:02:44.619 --> 00:02:48.985\nwe both worked for a insurance company\nthat, we had web filters there.\n\n61\n00:02:48.985 --> 00:02:51.179\n>> We did.\n>> And dammit, if I wanna get to ESPN,\n\n62\n00:02:51.179 --> 00:02:52.351\nI'm gonna get to ESPN.\n\n63\n00:02:52.351 --> 00:02:56.043\n>> [LAUGH] So maybe SSH out, I don't know.\n\n64\n00:02:56.043 --> 00:02:57.937\n>> We gotta know who won the game,\nman, come on,\n\n65\n00:02:57.937 --> 00:03:00.190\nthe highlight reels\nare what it's all about.\n\n66\n00:03:00.190 --> 00:03:02.290\n>> So there's any number of uses for it.\n\n67\n00:03:02.290 --> 00:03:05.270\nThe cool thing to remember is that\nSSH is not just about shells.\n\n68\n00:03:05.270 --> 00:03:09.370\nSo instead of blabbering on about this,\nlet me show you what I mean, okay?\n\n69\n00:03:09.370 --> 00:03:12.699\nIn the first part of this episode\nI showed you guys Telnet and\n\n70\n00:03:12.699 --> 00:03:14.306\nhow it just wasn't secure.\n\n71\n00:03:14.306 --> 00:03:17.548\nAnd everything I sent via Telnet\nwas in plain text on the network.\n\n72\n00:03:17.548 --> 00:03:20.437\nI used Wireshark to capture it and\nread it.\n\n73\n00:03:20.437 --> 00:03:24.895\nWhat if we nested that inside of SSH,\nright?\n\n74\n00:03:24.895 --> 00:03:26.545\nLet me show you how that works, all right.\n\n75\n00:03:26.545 --> 00:03:28.993\nStep one, you start on your client.\n\n76\n00:03:28.993 --> 00:03:32.327\nRight, your server just\nneeds to be set up for SSH.\n\n77\n00:03:32.327 --> 00:03:36.662\nAnd like we said in the last episode, most\nservers are set up for SSH by default.\n\n78\n00:03:36.662 --> 00:03:39.997\nThey've got the SSH daemon installed and\nrunning and it's open on IP tables,\n\n79\n00:03:39.997 --> 00:03:41.147\nthe software firewall,\n\n80\n00:03:41.147 --> 00:03:44.500\nso you're usually in business as\nfar as the server's concerned.\n\n81\n00:03:44.500 --> 00:03:46.290\nYou don't have to change anything there.\n\n82\n00:03:46.290 --> 00:03:50.060\nOn the client side,\nwe've got to establish a tunnel and\n\n83\n00:03:50.060 --> 00:03:52.830\ntell it not to run any\ncommands on the tunnel.\n\n84\n00:03:52.830 --> 00:03:56.310\nThat's the tricky part cuz normally when\nyou use SSH it establishes the tunnel and\n\n85\n00:03:56.310 --> 00:03:57.080\nit launches a shell.\n\n86\n00:03:58.100 --> 00:04:01.810\nSo it's a little bit of a variation\nof the SSH client command.\n\n87\n00:04:01.810 --> 00:04:03.780\nSo here I am on my client, and\n\n88\n00:04:03.780 --> 00:04:07.700\nI want to create a Telnet session\nto this server on the other side.\n\n89\n00:04:07.700 --> 00:04:10.060\nAnd I want it to be encrypted.\n\n90\n00:04:10.060 --> 00:04:15.220\nNow, I know I can just do telnet and\npoint to that other system and connect in.\n\n91\n00:04:15.220 --> 00:04:18.164\nApparently I don't have the telnet,\nwell that's gonna slow me down, isn't it?\n\n92\n00:04:18.164 --> 00:04:20.585\n>> [LAUGH]\n>> If you don't have the telnet client\n\n93\n00:04:20.585 --> 00:04:24.130\ninstalled, then you're gonna\nhave a little bit of a problem.\n\n94\n00:04:24.130 --> 00:04:26.607\nSo let me get that installed,\nthat'll be step number one.\n\n95\n00:04:26.607 --> 00:04:28.139\n>> That'll be step one, that's right.\n\n96\n00:04:28.139 --> 00:04:31.148\n[LAUGH]\n>> So [LAUGH] I learned something new.\n\n97\n00:04:31.148 --> 00:04:35.114\nIn CentOS 7 apparently the telnet\nclient is not installed by default, so-\n\n98\n00:04:35.114 --> 00:04:35.755\n>> They don't like\n\n99\n00:04:35.755 --> 00:04:37.087\nthose insecure protocols, Don.\n\n100\n00:04:37.087 --> 00:04:37.900\n>> There we go, yeah, I guess not.\n\n101\n00:04:37.900 --> 00:04:39.090\n>> It's a secure world we live in.\n\n102\n00:04:39.090 --> 00:04:42.360\n>> So here we can see I can remote over,\nI can connect.\n\n103\n00:04:42.360 --> 00:04:45.559\nAnd when I connect over there I can see\nthat I'm now on this dplaptop machine.\n\n104\n00:04:45.559 --> 00:04:50.428\nAnd if I exit out back here\nI can see that I'm just in,\n\n105\n00:04:50.428 --> 00:04:54.095\nwhoops, I'm in, where the heck am I?\n\n106\n00:04:54.095 --> 00:04:55.005\nI'm lost, that's where I am.\n\n107\n00:04:55.005 --> 00:04:55.825\nThere we go.\n\n108\n00:04:55.825 --> 00:05:00.135\nNow I'm back on dplaptop,\nam I on the wrong machine?\n\n109\n00:05:00.135 --> 00:05:02.247\n>> That could be why you didn't\nfind Telnet installed on this one.\n\n110\n00:05:02.247 --> 00:05:03.919\n>> That is probably true.\n\n111\n00:05:03.919 --> 00:05:06.629\nAll right, let's make sure I'm on\nthe right machine here, there we go.\n\n112\n00:05:06.629 --> 00:05:10.265\nAll right, so I know I can Telnet in,\nand it's gonna Telnet across,\n\n113\n00:05:10.265 --> 00:05:12.385\nand it's gonna do it unencrypted,\nand then that's bad.\n\n114\n00:05:12.385 --> 00:05:14.250\nSo I know that part already works.\n\n115\n00:05:14.250 --> 00:05:16.340\nNow I just need to do this\nin an encrypted fashion.\n\n116\n00:05:16.340 --> 00:05:18.400\nSo, we can manipulate the SSH command.\n\n117\n00:05:18.400 --> 00:05:23.650\nNow, remember in the last episode I said\nI could do ssh, followed by my username@,\n\n118\n00:05:23.650 --> 00:05:28.440\nand then the IP or fully qualified\ndomain name of the other system.\n\n119\n00:05:28.440 --> 00:05:31.130\nSo that's the command I'd\nrun to open up a shell.\n\n120\n00:05:31.130 --> 00:05:36.390\nAnd when I do that, it's gonna connect up\nand it's gonna launch a shell by default.\n\n121\n00:05:36.390 --> 00:05:41.350\nThat's the default function for SSH, is to\nrun a shell, and there we are, all right?\n\n122\n00:05:41.350 --> 00:05:44.408\nBut that's not what I want,\nI want to run other programs over it.\n\n123\n00:05:44.408 --> 00:05:48.304\nSo I'm gonna modify this command line to\ntell it not to do that shell, to instead,\n\n124\n00:05:48.304 --> 00:05:49.890\ndo some other stuff, all right?\n\n125\n00:05:51.110 --> 00:05:57.244\nSo I'm gonna say ssh -f and\ngive it that dpezet@10.1.230.238,\n\n126\n00:05:57.244 --> 00:06:01.193\nso I'm providing it that\nsame basic information.\n\n127\n00:06:01.193 --> 00:06:05.930\nAnd then I'm gonna add a little\nmore information to it, okay.\n\n128\n00:06:05.930 --> 00:06:11.830\nWhat I'm gonna do is I'm gonna\ncreate a TCP port on my system.\n\n129\n00:06:11.830 --> 00:06:15.386\nSo just a port number,\nlike SSH uses port 22.\n\n130\n00:06:15.386 --> 00:06:19.210\nI'm gonna pick a random port and\nI'm gonna create that port on my system.\n\n131\n00:06:19.210 --> 00:06:21.780\nAnd I'm gonna map that to the SSH tunnel.\n\n132\n00:06:21.780 --> 00:06:28.292\nAnd I'm gonna say any traffic that I send\nto this port, send through the SSH tunnel.\n\n133\n00:06:28.292 --> 00:06:34.050\nAnd on the other end, I need the tunnel\nto map that port to somewhere different.\n\n134\n00:06:34.050 --> 00:06:35.101\nI'm doing Telnet traffic so\n\n135\n00:06:35.101 --> 00:06:37.523\nI'd need it to be mapped to port\n23 at the end of the day, right?\n\n136\n00:06:37.523 --> 00:06:39.845\nTelnet uses TCP port 23.\n\n137\n00:06:39.845 --> 00:06:46.075\nSo I'm gonna come in here and I'm gonna\nsay -L and I'm gonna pick a local port.\n\n138\n00:06:46.075 --> 00:06:49.593\nNow your local port,\nports 1 through 1024 are registered, so\n\n139\n00:06:49.593 --> 00:06:51.400\nyou shouldn't use those.\n\n140\n00:06:51.400 --> 00:06:54.810\nBut really ports even up into\nthe 30,000s can be registered.\n\n141\n00:06:54.810 --> 00:06:59.585\nSo normally you want to pick a port that's\nsomewhere in the 49,000 to 65,000 range.\n\n142\n00:06:59.585 --> 00:07:02.020\nSo I usually pick a really high one.\n\n143\n00:07:02.020 --> 00:07:05.960\nAnd my, I'll give you guys my secrets,\nso here's the way I normally do it.\n\n144\n00:07:05.960 --> 00:07:10.200\nIs, if I'm mapping a port,\nI normally just take 60,000 and\n\n145\n00:07:10.200 --> 00:07:12.340\nthen I add whatever the normal\nport would be to it.\n\n146\n00:07:12.340 --> 00:07:15.170\nSo if it was port 23,\nthen I'd do 60023, right?\n\n147\n00:07:16.190 --> 00:07:20.580\nI know it's a nice high port number so\nI'm not picking something already in use.\n\n148\n00:07:20.580 --> 00:07:25.230\nAnd I can remember it because\nit's just 600 followed by 23.\n\n149\n00:07:25.230 --> 00:07:29.910\nOr if I was doing web traffic I might do\n60080 just so I can kinda remember it.\n\n150\n00:07:29.910 --> 00:07:32.950\nSo that's gonna be the local\nport here on this computer.\n\n151\n00:07:32.950 --> 00:07:38.020\nAny traffic that I send to that port is\ngonna get stuck under this SSH tunnel.\n\n152\n00:07:38.020 --> 00:07:43.570\nAnd so then I say :, and IP address of\nthe other system I'm connecting to.\n\n153\n00:07:43.570 --> 00:07:47.308\nAnd I know it seems kind of redundant\nthat I've already got it right here, but\n\n154\n00:07:47.308 --> 00:07:50.367\nthis is for authentication purposes,\nthis is for the tunnel.\n\n155\n00:07:50.367 --> 00:07:52.770\nThat's why we have to do it twice.\n\n156\n00:07:52.770 --> 00:07:58.670\nAnd then I do another :, and I say on\nthe other end, what does this map to?\n\n157\n00:07:58.670 --> 00:08:01.070\nWell, here's where we have\nto understand our software.\n\n158\n00:08:01.070 --> 00:08:03.371\nIf this is web traffic,\nI need to map it to port 80.\n\n159\n00:08:03.371 --> 00:08:07.160\nIf it's Telnet,\nI need to map it to port 23, right?\n\n160\n00:08:07.160 --> 00:08:09.210\nCuz if the other end receives\ntraffic on port 60023,\n\n161\n00:08:09.210 --> 00:08:12.170\nit doesn't know what the heck\nto do with that, right?\n\n162\n00:08:12.170 --> 00:08:16.560\nBut now it'll know, when this traffic\ncomes over, send it in on port 23,\n\n163\n00:08:16.560 --> 00:08:18.262\nit's just Telnet traffic.\n\n164\n00:08:18.262 --> 00:08:20.420\nIt's gonna get encrypted\nwhen it hits the tunnel.\n\n165\n00:08:20.420 --> 00:08:21.000\nAt the other end,\n\n166\n00:08:21.000 --> 00:08:25.840\nit gets decrypted, and then dumped onto\nport 23 just the way that I want it.\n\n167\n00:08:25.840 --> 00:08:29.954\nAnd then, the most important part,\nthe one that I always forget,\n\n168\n00:08:29.954 --> 00:08:33.055\nwhich is why I had to look\nat my notes here, is -N.\n\n169\n00:08:33.055 --> 00:08:35.510\nThat -N, what does that mean?\n\n170\n00:08:35.510 --> 00:08:39.720\nThat means we're gonna SSH to the other\nside, and don't run a command.\n\n171\n00:08:39.720 --> 00:08:43.780\nDon't run any commands on your side,\nwe're gonna run the commands afterwards.\n\n172\n00:08:43.780 --> 00:08:46.800\nIf you leave this off, it assumes\nyou want an interactive session.\n\n173\n00:08:46.800 --> 00:08:50.840\nAnd it's gonna try and create you a shell\non port 23 using SSH, which doesn't work.\n\n174\n00:08:50.840 --> 00:08:52.138\nAnd then the command's not gonna work.\n\n175\n00:08:52.138 --> 00:08:58.150\nBut if do -N, it's gonna create\nthe tunnel and it's gonna leave it there.\n\n176\n00:08:58.150 --> 00:09:02.023\nAnd now the tunnel's gonna sit there, and\nI can send whatever traffic I want over it\n\n177\n00:09:02.023 --> 00:09:05.470\nand it's gonna get mapped to\nport 23 on the other side, okay?\n\n178\n00:09:05.470 --> 00:09:09.510\nSo when I run that, it's gonna ask me for\nmy password, I'll provide that.\n\n179\n00:09:11.190 --> 00:09:12.747\nAnd now it's just done, right?\n\n180\n00:09:12.747 --> 00:09:13.815\nWell, what happened?\n\n181\n00:09:13.815 --> 00:09:15.788\nWell, it's still running,\nit's running in the background.\n\n182\n00:09:15.788 --> 00:09:19.630\n-N said don't run a command,\njust run in the background.\n\n183\n00:09:19.630 --> 00:09:21.941\nI now have a tunnel between me and\nthat server,\n\n184\n00:09:21.941 --> 00:09:24.560\nan SSH session that's just\nsitting there waiting.\n\n185\n00:09:24.560 --> 00:09:29.900\nAnd it's mapped to my\ncomputer on port 60023.\n\n186\n00:09:29.900 --> 00:09:33.218\nSo now I can just take\na regular protocol like telnet,\n\n187\n00:09:33.218 --> 00:09:36.114\nand instead of telnetting\nto the remote host.\n\n188\n00:09:36.114 --> 00:09:39.072\nLike if I do telnet to 10.1.230.238,\n\n189\n00:09:39.072 --> 00:09:42.801\nI'm just gonna go straight to\nit on port 23 and get connected.\n\n190\n00:09:42.801 --> 00:09:46.854\nSo instead, I'm gonna telnet to myself.\n\n191\n00:09:46.854 --> 00:09:51.600\nI'm gonna telnet to 127.0.0.1, there's not\nnormally a lot of reason for that, right?\n\n192\n00:09:51.600 --> 00:09:54.627\nBut I'm gonna follow that up with 60023.\n\n193\n00:09:54.627 --> 00:10:00.767\nSo I'm gonna telnet to myself on port\n60023, which is mapped to the tunnel.\n\n194\n00:10:00.767 --> 00:10:02.983\nWhich is gonna go encrypted\nacross the network.\n\n195\n00:10:02.983 --> 00:10:06.720\nWhich is gonna get decrypted on\nthe other side, and dumped onto port 23.\n\n196\n00:10:06.720 --> 00:10:10.332\nAnd, assuming all this works,\nI'll have a telnet session, right.\n\n197\n00:10:10.332 --> 00:10:13.460\nIf this were web traffic\nI'd fire up a web browser.\n\n198\n00:10:13.460 --> 00:10:17.214\nAnd I would point it to the server\nI was connected to :60080, or\n\n199\n00:10:17.214 --> 00:10:19.950\nwhatever it is that I wanted to use there,\nright?\n\n200\n00:10:19.950 --> 00:10:22.180\nYou could literally pick whatever\nport number you want, right?\n\n201\n00:10:22.180 --> 00:10:24.606\nThis is just the way I do it to remember,\nall right?\n\n202\n00:10:24.606 --> 00:10:28.880\nSo I'm gonna punch that in, and\nwhen I run it, it's asking me for\n\n203\n00:10:28.880 --> 00:10:31.440\na username and a password.\n\n204\n00:10:31.440 --> 00:10:33.130\nAnd when I get logged in, here I am.\n\n205\n00:10:33.130 --> 00:10:36.980\nAnd I can see I'm on dplaptop,\nI'm Telnetted in.\n\n206\n00:10:36.980 --> 00:10:42.480\nI just used Telnet, but I used Telnet\nthrough that SSH tunnel so it's encrypted.\n\n207\n00:10:42.480 --> 00:10:43.630\nNow, one thing,\n\n208\n00:10:43.630 --> 00:10:47.470\nit's kind of this recurring theme with me,\ndon't trust the system.\n\n209\n00:10:47.470 --> 00:10:49.000\nHow do we know it's actually encrypted?\n\n210\n00:10:49.000 --> 00:10:51.800\nWe don't,\nit can be sending it in plain text.\n\n211\n00:10:51.800 --> 00:10:54.780\nSo I'm gonna fire up a network sniffer and\njust be sure, right?\n\n212\n00:10:54.780 --> 00:10:57.250\nSo let me fire up good old Wireshark,\n\n213\n00:10:57.250 --> 00:10:59.780\nwhich actually I need to su to do that,\ndon't I?\n\n214\n00:11:00.910 --> 00:11:06.810\nSo let me fire up Wireshark, there we go.\n\n215\n00:11:06.810 --> 00:11:08.498\nAnd I'm gonna take Wireshark and\n\n216\n00:11:08.498 --> 00:11:11.520\nI'm gonna start recording\ntraffic on my network adapter.\n\n217\n00:11:12.600 --> 00:11:17.420\nAnd then I'm gonna jump back over here and\nI'm gonna redo that.\n\n218\n00:11:17.420 --> 00:11:21.985\nI'm gonna telnet to myself on port 60023.\n\n219\n00:11:21.985 --> 00:11:26.530\nI'm gonna login to that other server,\nI'm gonna provide my password.\n\n220\n00:11:26.530 --> 00:11:28.341\nAnd then, what all did I do in part one?\n\n221\n00:11:28.341 --> 00:11:30.990\nI think I pulled up a directory listing.\n\n222\n00:11:30.990 --> 00:11:33.302\n>> And changed users into the super user.\n\n223\n00:11:33.302 --> 00:11:36.435\nThat's always something you'll\nprobably do as an administrator.\n\n224\n00:11:36.435 --> 00:11:38.875\n>> Yep, so I'll su,\nI think I did a yum update and\n\n225\n00:11:38.875 --> 00:11:42.459\nthere were hundreds of updates\ncuz I'm a terrible administrator.\n\n226\n00:11:42.459 --> 00:11:43.568\n>> [LAUGH]\n>> So there we go,\n\n227\n00:11:43.568 --> 00:11:46.880\nthis is just a virtual machine so\nI don't really care about it so much.\n\n228\n00:11:46.880 --> 00:11:49.070\nSo I can see there's a ton\nof updates available, right.\n\n229\n00:11:49.070 --> 00:11:50.770\nAnd I'm doing this in Telnet.\n\n230\n00:11:50.770 --> 00:11:56.470\nAnd so if I have to use Telnet for some\napplication, here it is, I'm using Telnet.\n\n231\n00:11:56.470 --> 00:11:59.150\nBut in the background this\nis getting encrypted.\n\n232\n00:11:59.150 --> 00:12:01.710\nAnd I can see that if I jump over to,\n\n233\n00:12:01.710 --> 00:12:06.987\nwhoops, if I jump over to Wireshark,\nlet me just stop it, okay.\n\n234\n00:12:08.680 --> 00:12:14.370\nAnd if I take a look at any traffic\nthat was destined to that other host.\n\n235\n00:12:15.460 --> 00:12:19.450\nSo I'm gonna filter this down and\nas I look I see some DNS traffic and\n\n236\n00:12:19.450 --> 00:12:21.960\nthen I see some SSH traffic.\n\n237\n00:12:21.960 --> 00:12:25.350\nI see some TCP connections\nthat are going through, right?\n\n238\n00:12:25.350 --> 00:12:31.070\nAll these TCP connections and SSH,\nI don't see telnet in that list at all.\n\n239\n00:12:31.070 --> 00:12:34.490\nIn fact, I think you can\njust type telnet here, yeah.\n\n240\n00:12:34.490 --> 00:12:36.940\nI don't see telnet traffic at all, right?\n\n241\n00:12:36.940 --> 00:12:40.370\nIf I do ssh, I see plenty of SSH traffic.\n\n242\n00:12:40.370 --> 00:12:44.761\nAnd so here's that SSH traffic,\nI see it's coming from me, 10.1.230.118,\n\n243\n00:12:44.761 --> 00:12:47.280\ngoing to 10.1.230.238, there it is.\n\n244\n00:12:47.280 --> 00:12:49.740\nAnd if I try and reassemble that, right,\nwe already know what's gonna happen here.\n\n245\n00:12:49.740 --> 00:12:53.520\nIf I try and reassemble that,\nit's just garbage, right?\n\n246\n00:12:53.520 --> 00:12:55.140\nIt's all been encrypted.\n\n247\n00:12:56.450 --> 00:12:58.800\nSo pretty cool stuff there, right?\n\n248\n00:12:58.800 --> 00:13:01.799\nWhat we did, let me bring that\ncommand back up that I ran,\n\n249\n00:13:01.799 --> 00:13:08.620\nthe command that's really important to\nall of this, Is this command right here.\n\n250\n00:13:08.620 --> 00:13:10.090\nSo let's run back over this again.\n\n251\n00:13:10.090 --> 00:13:13.750\nThis is what built that SSH tunnel,\nssh -f, and\n\n252\n00:13:13.750 --> 00:13:15.930\nI provided it my login information, right?\n\n253\n00:13:15.930 --> 00:13:17.780\nMy username, and\nthe host I'm connecting to.\n\n254\n00:13:17.780 --> 00:13:19.118\nSo that's where that user count came from.\n\n255\n00:13:19.118 --> 00:13:25.230\nAnd then, -L, I'm creating a local\nport to tie to this tunnel.\n\n256\n00:13:25.230 --> 00:13:30.330\nYou pick your own port number, and then :,\nand then the IP address or host name.\n\n257\n00:13:30.330 --> 00:13:33.440\nYou can do the fully qualified DNS name\nof the person you're connecting to.\n\n258\n00:13:33.440 --> 00:13:36.910\nAnd then a :, and the remote port, okay.\n\n259\n00:13:36.910 --> 00:13:39.120\nNow that is one of the negatives here.\n\n260\n00:13:39.120 --> 00:13:40.250\nWhen you do a tunnel like this,\n\n261\n00:13:40.250 --> 00:13:44.220\nwhen you do a VPN tunnel you can send\nall of your traffic over the VPN tunnel.\n\n262\n00:13:44.220 --> 00:13:48.900\nWith an SSH tunnel like this, you're\npicking specific ports to send across.\n\n263\n00:13:48.900 --> 00:13:50.750\nSo if I want to send web traffic and FTP,\n\n264\n00:13:50.750 --> 00:13:53.950\nthings start to get a little tricky,\nright?\n\n265\n00:13:53.950 --> 00:13:57.210\nBut if I want to send just Telnet,\nit becomes really easy.\n\n266\n00:13:57.210 --> 00:14:01.600\nAnd then that -N at the end which says\ndon't run a command on the other side.\n\n267\n00:14:01.600 --> 00:14:06.580\nJust bring the tunnel up, get it in place,\nand let's stay connected, all right.\n\n268\n00:14:06.580 --> 00:14:08.820\nSo, that's basically it for SSH tunneling.\n\n269\n00:14:08.820 --> 00:14:12.850\nWe're gonna see SSH tunneling again,\nbecause on the exam objectives one of\n\n270\n00:14:12.850 --> 00:14:16.910\nthe things they want you to know is\nhow to tunnel X-Window applications.\n\n271\n00:14:16.910 --> 00:14:19.800\nSo in our GUI episodes when we\nstart talking about X-Windows,\n\n272\n00:14:19.800 --> 00:14:20.880\nwe'll show you guys how to do that.\n\n273\n00:14:20.880 --> 00:14:24.920\nWhere you can launch an X-Windows\napplication on your system, even though\n\n274\n00:14:24.920 --> 00:14:29.780\nit's actually running on a server in\nthe back end, all behind an SSH tunnel.\n\n275\n00:14:29.780 --> 00:14:32.460\nAnd there's other ways to do that too, but\n\n276\n00:14:32.460 --> 00:14:36.120\nusing an SSH tunnel is one of the most\neffective way to do it securely.\n\n277\n00:14:36.120 --> 00:14:38.250\nMaybe you need to connect to a SQL server.\n\n278\n00:14:38.250 --> 00:14:41.280\nYou're running MySQL or\nMariaDB and you want to connect.\n\n279\n00:14:41.280 --> 00:14:46.190\nAnd you know MySQL uses 3306, but\nyou don't wanna open that up to the world.\n\n280\n00:14:46.190 --> 00:14:52.045\nSo you create an SSH tunnel and you say,\nall right, well on my side it's gonna be\n\n281\n00:14:52.045 --> 00:14:56.340\n603306, and on the remote side it's just\nregular 3306, and now I can get connected.\n\n282\n00:14:56.340 --> 00:14:59.306\nAnd we can just modify this command and,\nooh,\n\n283\n00:14:59.306 --> 00:15:03.275\nthat's gonna be a couple of\nextra numbers in there isn't it?\n\n284\n00:15:03.275 --> 00:15:07.607\nSo there, 63306 and\nthen the remote side would be 3306 and\n\n285\n00:15:07.607 --> 00:15:11.561\nso now I've created this tunnel\nto connect to the other side.\n\n286\n00:15:11.561 --> 00:15:13.770\nAnd you can have more than\none tunnel running, right?\n\n287\n00:15:13.770 --> 00:15:15.590\nSo I just keep opening up these tunnels.\n\n288\n00:15:15.590 --> 00:15:20.944\nAnd now I can fire up my MySQL client,\nmaybe it's a MySQL workbench or\n\n289\n00:15:20.944 --> 00:15:25.948\nsomething, and\nI point it at 127.0.0.1:3306.\n\n290\n00:15:25.948 --> 00:15:28.238\nConnects to me,\ngoes over the SSH tunnel, and\n\n291\n00:15:28.238 --> 00:15:31.078\nsecurely connects to the MySQL\nserver on the other side.\n\n292\n00:15:31.078 --> 00:15:33.213\nAnd on the MySQL server on the other side,\n\n293\n00:15:33.213 --> 00:15:35.350\nin its firewall I just\nneed to open up SSH.\n\n294\n00:15:35.350 --> 00:15:39.634\nI don't need to open up MySQL,\ncuz I'm not connecting directly to MySQL,\n\n295\n00:15:39.634 --> 00:15:41.065\nI'm going through SSH.\n\n296\n00:15:41.065 --> 00:15:44.710\nIt makes configuring your firewall\nrules a heck of a lot simpler, right?\n\n297\n00:15:44.710 --> 00:15:47.020\nCuz it is all just going\nthrough the tunnel.\n\n298\n00:15:47.020 --> 00:15:49.380\nSo pretty easy to do, pretty useful stuff.\n\n299\n00:15:49.380 --> 00:15:52.410\n>> Yeah, this is a really cool thing\nto have in our bag of tricks as\n\n300\n00:15:52.410 --> 00:15:53.150\nadministrators.\n\n301\n00:15:53.150 --> 00:15:55.080\nWe're working on our Linux systems,\nevery now and\n\n302\n00:15:55.080 --> 00:15:56.470\nthen you gotta do something like this.\n\n303\n00:15:56.470 --> 00:15:59.510\nMaybe that's that one system\nthat you have, requires Telnet.\n\n304\n00:15:59.510 --> 00:16:00.850\nIt's been around for forever and a day.\n\n305\n00:16:00.850 --> 00:16:02.560\nYou gotta use that Telnet but\n\n306\n00:16:02.560 --> 00:16:05.410\nyou don't wanna send that\nunencrypted traffic across.\n\n307\n00:16:05.410 --> 00:16:07.270\nVery, very good stuff, awesome.\n\n308\n00:16:07.270 --> 00:16:10.219\n>> James in the chat room mentioned\nanother use, he said he used it with VNC,\n\n309\n00:16:10.219 --> 00:16:11.420\nand that's a great example.\n\n310\n00:16:11.420 --> 00:16:15.480\nA lot of people don't realize that VNC\ntraffic is not encrypted by default.\n\n311\n00:16:15.480 --> 00:16:18.080\nAnd so, in theory,\nsomebody could intercept that traffic and\n\n312\n00:16:18.080 --> 00:16:22.958\nreassemble the images and actually watch\nwhat you're doing, it's pretty crazy.\n\n313\n00:16:22.958 --> 00:16:24.630\n>> You couple it with SSH,\nnow it's nice and\n\n314\n00:16:24.630 --> 00:16:26.770\nsecure, so\ndefinitely a great way to handle that.\n\n315\n00:16:26.770 --> 00:16:28.853\n>> That's right, keep those bad\nguys out of your systems, or\n\n316\n00:16:28.853 --> 00:16:30.863\nat least from perusing your data,\nthat's always nice.\n\n317\n00:16:30.863 --> 00:16:32.692\n>> [LAUGH]\n>> All right, Don,\n\n318\n00:16:32.692 --> 00:16:34.620\nI think this is a pretty cool episode.\n\n319\n00:16:34.620 --> 00:16:37.220\nI hope you guys out there\nlearned a lot from it.\n\n320\n00:16:37.220 --> 00:16:38.562\n>> Definitely get this kind of thing down,\n\n321\n00:16:38.562 --> 00:16:42.020\nit's gonna serve you well in\nyour Linux administration.\n\n322\n00:16:42.020 --> 00:16:45.830\nThat being said, I think we have come to\nthe end of another really cool episode,\n\n323\n00:16:45.830 --> 00:16:47.050\nif I do say so myself.\n\n324\n00:16:47.050 --> 00:16:48.850\nReally good stuff, I enjoyed this one.\n\n325\n00:16:48.850 --> 00:16:49.867\nHope you guys enjoyed it as well.\n\n326\n00:16:49.867 --> 00:16:53.890\nSo, signing off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n327\n00:16:53.890 --> 00:16:54.510\n>> And I'm Don Pezet.\n\n328\n00:16:54.510 --> 00:16:55.682\n>> And we'll see you next time.\n\n329\n00:16:55.682 --> 00:17:01.764\n[SOUND]\n\n",
          "vimeoId": "133069133"
        }
      ],
      "title": "(LX0-104) Securing Your System"
    }
  ],
  "url": "linux1",
  "vLab": true
}
