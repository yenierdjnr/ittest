{
  "description": "Over 80% of computers run Microsoft Operating systems. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The MCSA: Windows Server 2012 is designed to be a mid-tier certification for someone who has been working in the field for several years and has had exposure to large and enterprise size deployments of Microsoft Windows and covers topics that are a “must know” for anyone responsible for deploying, maintaining and supporting Windows Server 2012 servers in a corporate or enterprise environment. Server systems often form a critical piece of the day-to-day operations for any business. The MCSA 70-412 Configuring Advanced Windows Server 2012 Services exam covers advanced configurations, Active Directory Federated Services and other areas that will help in your pursuit of the MCSA and also help in an after pursuit of the MCSE certification.",
  "descriptionMD": "Over 80% of computers run Microsoft Operating systems. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The MCSA: Windows Server 2012 is designed to be a mid-tier certification for someone who has been working in the field for several years and has had exposure to large and enterprise size deployments of Microsoft Windows and covers topics that are a “must know” for anyone responsible for deploying, maintaining and supporting Windows Server 2012 servers in a corporate or enterprise environment. Server systems often form a critical piece of the day-to-day operations for any business. The MCSA 70-412 Configuring Advanced Windows Server 2012 Services exam covers advanced configurations, Active Directory Federated Services and other areas that will help in your pursuit of the MCSA and also help in an after pursuit of the MCSE certification.",
  "length": "116375",
  "name": "MCSA Windows Server 2012 - 70-412 (2017)",
  "practiceExam": true,
  "subtitle": "Configuring Advanced Windows Server 2012 Services",
  "tagUrl": "microsoft-technical",
  "topics": [
    {
      "episodes": [
        {
          "description": "The MCSA 70-412 Configuring Advanced Windows Server 2012 Services exam covers advanced configurations, Active Directory Federated Services and other areas that will help in your pursuit of the MCSA and also help in an after pursuit of the MCSE certification.",
          "length": "222",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/overview.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/overview-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/overview-sm.jpg",
          "title": "Overveiw",
          "transcript": "",
          "vimeoId": "240874430"
        },
        {
          "description": "In this show, Cherokee introduces Adam Gordon to  explain advanced network services. Adam introduces Dynamic Host Configuration Protocol (DHCP) and walks through the process of setting one up.",
          "length": "1676",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-1-advances_network_services-0602717-PGM.00_31_42_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-1-advances_network_services-0602717-PGM.00_31_42_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-1-advances_network_services-0602717-PGM.00_31_42_21.Still001-sm.jpg",
          "title": "Advanced Network Services",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:01.128\nWelcome to ITProTV.\n\n2\n00:00:01.128 --> 00:00:02.703\nI'm your host Don Pezet.\n\n3\n00:00:02.703 --> 00:00:05.752\n[CROSSTALK]\n\n4\n00:00:05.752 --> 00:00:07.992\n[MUSIC]\n\n5\n00:00:07.992 --> 00:00:12.001\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.001 --> 00:00:15.454\n&gt;&gt; Welcome to your MCSA 70-412 series.\n\n7\n00:00:15.454 --> 00:00:17.910\nI'm your show host Cherokee Boose.\n\n8\n00:00:17.910 --> 00:00:22.220\nIn this episode we'll be taking a look\nat advanced network services and\n\n9\n00:00:22.220 --> 00:00:25.160\nback in studio with us today we have Mr.\nAdam Gordon.\n\n10\n00:00:25.160 --> 00:00:25.880\nHow's it going today Adam?\n\n11\n00:00:25.880 --> 00:00:28.250\n&gt;&gt; Going well,\nhopefully it's going well for all of you.\n\n12\n00:00:28.250 --> 00:00:30.870\nLooking forward to spending some\ntime talking about advanced network\n\n13\n00:00:30.870 --> 00:00:32.260\nservices with you.\n\n14\n00:00:32.260 --> 00:00:35.420\nAdvanced network services in the Microsoft\nworld we're thinking about things like\n\n15\n00:00:35.420 --> 00:00:40.140\nDHCP, DNS, IPAM, may or\nmay not have heard of these technologies.\n\n16\n00:00:40.140 --> 00:00:42.570\nI'm sure you've probably heard of DHCP and\nDNS.\n\n17\n00:00:42.570 --> 00:00:45.738\nYou may or may not be familiar with IP\nAddress Management, what IPAM stands for.\n\n18\n00:00:45.738 --> 00:00:49.849\nWe are gonna expose all the mysteries, all\nthe intricacies and all the beauty, and\n\n19\n00:00:49.849 --> 00:00:54.156\nthe horror of all of these technologies to\nyou over our conversational time together.\n\n20\n00:00:54.156 --> 00:00:56.012\nWe're gonna start with DHCP.\n\n21\n00:00:56.012 --> 00:00:58.964\nThought it would actually be interesting\nin this episode to start from a little\n\n22\n00:00:58.964 --> 00:01:00.137\ndifferent perspective here.\n\n23\n00:01:00.137 --> 00:01:03.242\nWe often set things up,\ntalk about them a little bit with you,\n\n24\n00:01:03.242 --> 00:01:05.230\nmaybe do a little knowledge transfer.\n\n25\n00:01:05.230 --> 00:01:07.250\nThen we do a little show and\ntell, show you how they work.\n\n26\n00:01:07.250 --> 00:01:08.810\nThought we'd start with the show and tell.\n\n27\n00:01:08.810 --> 00:01:11.620\nDo things a little differently, and\nshow you how to install the DHCP,\n\n28\n00:01:11.620 --> 00:01:14.750\nand then along the way, we'll kind of\nnarrate and talk about what we're doing.\n\n29\n00:01:14.750 --> 00:01:17.022\nYou may have done this before,\nit's not unusual.\n\n30\n00:01:17.022 --> 00:01:19.590\nDHCP's a pretty common network service,\n\n31\n00:01:19.590 --> 00:01:22.720\nDNS is already configured in our\ninterface as you can see there.\n\n32\n00:01:22.720 --> 00:01:26.450\nHappen to be on a domain controller here,\nyou may be able to tell that as well\n\n33\n00:01:26.450 --> 00:01:29.850\njust by looking over here and seeing\nActive Directory Directory Services.\n\n34\n00:01:29.850 --> 00:01:33.670\nSo we already got some of the moving parts\nand pieces for networking, and some of\n\n35\n00:01:33.670 --> 00:01:37.510\nthe more advanced quote unquote services\nwe'll talk about already configured.\n\n36\n00:01:37.510 --> 00:01:38.970\nBut I thought it would be\na great opportunity for\n\n37\n00:01:38.970 --> 00:01:42.800\nus to go in, spend a few minutes\nlooking at the capabilities and\n\n38\n00:01:42.800 --> 00:01:45.940\nthe configuration of how we manage and\nset up DHCP.\n\n39\n00:01:45.940 --> 00:01:47.520\nReally starting from the ground up and\n\n40\n00:01:47.520 --> 00:01:50.530\ntalking through the logic of how\nwe use the wizard to install.\n\n41\n00:01:50.530 --> 00:01:53.820\nSo we're gonna start in the server\nmanager here, server 12 machine,\n\n42\n00:01:53.820 --> 00:01:56.010\nnothing special, 12R2 actually.\n\n43\n00:01:56.010 --> 00:01:59.110\nNothing special about it other than\nthe fact it happens to already be a domain\n\n44\n00:01:59.110 --> 00:02:00.030\ncontroller, but\n\n45\n00:02:00.030 --> 00:02:04.560\nthat really does not impact any way our\ndecision to put the HTTP on here or not.\n\n46\n00:02:04.560 --> 00:02:07.840\nMay not do that normally in\nthe real world only because\n\n47\n00:02:07.840 --> 00:02:11.250\nyou may not want multiple network\nservices running on a domain controller.\n\n48\n00:02:11.250 --> 00:02:14.870\nYou may choose to put DHCP out on\nanother system somewhere else.\n\n49\n00:02:14.870 --> 00:02:17.937\nBut there's no prohibition against it and\nno reason why you couldn't do that.\n\n50\n00:02:17.937 --> 00:02:19.570\nIt would be up to you.\n\n51\n00:02:19.570 --> 00:02:21.920\nSo we're gonna go to our\nManage area right here,\n\n52\n00:02:21.920 --> 00:02:25.770\npull down our little Add/Remove Roles and\nFeatures item.\n\n53\n00:02:25.770 --> 00:02:28.350\nSo we're gonna start the wizard\noff right from here.\n\n54\n00:02:28.350 --> 00:02:31.420\nJust speaking of Wizard,\nlet me just move this up just a smidge so\n\n55\n00:02:31.420 --> 00:02:36.140\nwe can see that and we have our standard\nbefore you begin Wizard frame or\n\n56\n00:02:36.140 --> 00:02:39.140\nWizard page that we can obviously look at.\n\n57\n00:02:39.140 --> 00:02:42.070\nNothing real important here just\nkind of some disclaimer information\n\n58\n00:02:42.070 --> 00:02:44.160\nabout making sure we\nknow what we're doing.\n\n59\n00:02:44.160 --> 00:02:47.920\nUse strong administrative passwords,\nmake sure that you're setting static IP\n\n60\n00:02:47.920 --> 00:02:52.180\naddresses as opposed to dynamic ones\non network service servers such as DNS,\n\n61\n00:02:52.180 --> 00:02:56.130\nsuch as DHCP, to ensure that you're\nnot gonna worry about that IP address\n\n62\n00:02:56.130 --> 00:02:57.960\nchanging as we hand out addresses.\n\n63\n00:02:57.960 --> 00:02:59.260\nSo standard guidance, right?\n\n64\n00:02:59.260 --> 00:03:01.460\nObviously, important for\nus to be aware of that.\n\n65\n00:03:01.460 --> 00:03:04.100\nMaking sure we have the most current and\nup-to-date security updates and\n\n66\n00:03:04.100 --> 00:03:05.500\npatches from Microsoft.\n\n67\n00:03:05.500 --> 00:03:07.570\nAlways important to make sure\nwe're thinking about that.\n\n68\n00:03:07.570 --> 00:03:10.680\nEspecially givien the advent of just\nall of these zero day exploits,\n\n69\n00:03:10.680 --> 00:03:13.710\nand what we call advanced persistent\nthreats that are constantly\n\n70\n00:03:13.710 --> 00:03:17.160\ntaking advantage of an unpatched\nsystem to wreak havoc with it.\n\n71\n00:03:17.160 --> 00:03:18.740\nReal important to take note of that and\n\n72\n00:03:18.740 --> 00:03:22.170\njust think through the logic of that\nas we're examining our options here.\n\n73\n00:03:22.170 --> 00:03:24.630\nWe're gonna do a roll base or\nfeature base install.\n\n74\n00:03:24.630 --> 00:03:26.900\nWe could be doing remote\ndesktop services installation.\n\n75\n00:03:26.900 --> 00:03:28.937\nBut that's really a different topic for\nanother time.\n\n76\n00:03:28.937 --> 00:03:31.700\nHere, we're gonna focus on\nputting a roll on this server.\n\n77\n00:03:31.700 --> 00:03:33.910\nAnd serving it up and\nmanaging it locally from this server.\n\n78\n00:03:33.910 --> 00:03:36.410\nSo that's gonna be our default choice,\nright here.\n\n79\n00:03:36.410 --> 00:03:37.730\nWe're gonna click Next.\n\n80\n00:03:37.730 --> 00:03:41.100\nWe have to select what server if there is\nmore than one that we wanna target for\n\n81\n00:03:41.100 --> 00:03:42.020\ninstallation.\n\n82\n00:03:42.020 --> 00:03:43.810\nWe're on the server we're\ninstalling against,\n\n83\n00:03:43.810 --> 00:03:45.520\nonly one server currently available.\n\n84\n00:03:45.520 --> 00:03:48.590\nI only have one turned on in this\nparticular demo environment so\n\n85\n00:03:48.590 --> 00:03:50.190\nit's a no brainer choice here.\n\n86\n00:03:50.190 --> 00:03:52.120\nBut in what's called a server pool there,\n\n87\n00:03:52.120 --> 00:03:54.440\nas you can see,\nwe had multiple servers available.\n\n88\n00:03:54.440 --> 00:03:55.770\nWe may have to make a selection.\n\n89\n00:03:55.770 --> 00:03:58.800\nIt may not always be the server that we're\nrunning the wizard from that we wanna\n\n90\n00:03:58.800 --> 00:03:59.560\ninstall against, right?\n\n91\n00:03:59.560 --> 00:04:02.850\nWe may have a different remote server\nwe wanna configure, and this brings up\n\n92\n00:04:02.850 --> 00:04:07.730\nan interesting opportunity, a little\ndiversions in our conversation here.\n\n93\n00:04:07.730 --> 00:04:11.640\nSo, could we use some sort of remote\naccess technology to install and\n\n94\n00:04:11.640 --> 00:04:12.930\nconfigure a role like this?\n\n95\n00:04:12.930 --> 00:04:13.610\n&gt;&gt; Most definitely.\n\n96\n00:04:13.610 --> 00:04:15.540\n&gt;&gt; Right, we have several options,\n\n97\n00:04:15.540 --> 00:04:19.590\nwe could be using remote desktop,\nRTP-ing in and doing that remotely.\n\n98\n00:04:19.590 --> 00:04:22.240\nWe could be using PowerShell\nto target a machine,\n\n99\n00:04:22.240 --> 00:04:23.890\ndo this from a script environment.\n\n100\n00:04:23.890 --> 00:04:26.520\nLots of different ways for\nus to install and configure a role.\n\n101\n00:04:26.520 --> 00:04:29.727\nSo your local auto machine through\nthe console wizard is not the only\n\n102\n00:04:29.727 --> 00:04:30.820\noption, right?\n\n103\n00:04:30.820 --> 00:04:34.330\nThe standing unofficial rule that we often\nhear about with Microsoft is there's\n\n104\n00:04:34.330 --> 00:04:37.130\nalways usually at least three\nways to do anything we wanna do.\n\n105\n00:04:37.130 --> 00:04:40.510\nAnd there's usually more than three but it\ndepends on how hard you're willing to look\n\n106\n00:04:40.510 --> 00:04:43.490\nand how hard you're willing to work,\nI suppose when we think about that.\n\n107\n00:04:43.490 --> 00:04:45.770\nAll right, so we're gonna go ahead,\nwe're gonna click Next here.\n\n108\n00:04:45.770 --> 00:04:49.565\nNow, while I'm just getting the DHCP,\nkind of highlighted and chosen here.\n\n109\n00:04:49.565 --> 00:04:51.005\nCherokee, help me out, if you could.\n\n110\n00:04:51.005 --> 00:04:52.965\nMaybe we could give everybody\nthat's watching us,\n\n111\n00:04:52.965 --> 00:04:57.175\nbefore we read the little description of\nwhat DHCP is there, give me maybe a one or\n\n112\n00:04:57.175 --> 00:05:00.005\ntwo sentence working\ndefinition of what DHCP does.\n\n113\n00:05:00.005 --> 00:05:02.245\nWhat do we tell the folks\nthat are watching out there,\n\n114\n00:05:02.245 --> 00:05:03.445\nwhat DHCP is gonna do for them?\n\n115\n00:05:03.445 --> 00:05:05.375\nWhy we wanna use DHCP?\n\n116\n00:05:05.375 --> 00:05:09.485\n&gt;&gt; Okay, so our DHCP role, per se,\nis where we can manage and\n\n117\n00:05:09.485 --> 00:05:14.000\nmaintain any kind of\nspecific DHCP function.\n\n118\n00:05:14.000 --> 00:05:15.250\n&gt;&gt; Can't wait, very important rule.\n\n119\n00:05:15.250 --> 00:05:16.430\nCan't use the term to describe a term.\n\n120\n00:05:16.430 --> 00:05:17.156\n&gt;&gt; Okay, okay.\n\n121\n00:05:17.156 --> 00:05:19.395\n&gt;&gt; So\ncan't use the HCP to describe the HCP.\n\n122\n00:05:19.395 --> 00:05:20.154\n&gt;&gt; [LAUGH]\n&gt;&gt; But you're on the right\n\n123\n00:05:20.154 --> 00:05:20.654\ntrack other than that.\n\n124\n00:05:20.654 --> 00:05:22.420\n&gt;&gt; Okay, are there any other rules?\n\n125\n00:05:22.420 --> 00:05:23.160\n&gt;&gt; No that's the only rule.\n\n126\n00:05:23.160 --> 00:05:23.730\n&gt;&gt; Okay, all right.\n\n127\n00:05:23.730 --> 00:05:26.070\n&gt;&gt; And always keep your feet firmly\nplanted on the ground while we're talking.\n\n128\n00:05:26.070 --> 00:05:30.731\n&gt;&gt; Okay, all right so, all right.\n\n129\n00:05:32.970 --> 00:05:34.885\nDHCP offers-\n&gt;&gt; DHCP, right.\n\n130\n00:05:34.885 --> 00:05:36.440\n&gt;&gt; [LAUGH] Ability,\n\n131\n00:05:36.440 --> 00:05:40.405\none the ability to manage IP addresses-\n&gt;&gt; Okay, good.\n\n132\n00:05:40.405 --> 00:05:44.400\n&gt;&gt; Allocates information\nsuch as scopes and\n\n133\n00:05:44.400 --> 00:05:50.000\nadditional information such as subnet\nmasks, default gateways and provide,\n\n134\n00:05:50.000 --> 00:05:54.715\nthe world provides centralized location to\nperform all these configuration settings.\n\n135\n00:05:54.715 --> 00:05:57.710\nOkay, great so it does, and it does\nall those things absolutely correct so\n\n136\n00:05:57.710 --> 00:06:01.440\nit gives us the ability to automate most\nlikely, or at least partially automate\n\n137\n00:06:01.440 --> 00:06:04.330\nthe handing out or\nthe issuing of IP addresses as you said.\n\n138\n00:06:04.330 --> 00:06:07.370\nWe can do that typically dynamically,\noften times somebody will show up and\n\n139\n00:06:07.370 --> 00:06:10.130\nwe'll just give them an IP\naddress out of the server.\n\n140\n00:06:10.130 --> 00:06:11.820\nWe may have what are called reservations,\n\n141\n00:06:11.820 --> 00:06:14.330\nwe may be able to provide\nstatic IP addresses that\n\n142\n00:06:14.330 --> 00:06:18.130\nare reserved by a Mac address\nreservation traditionally for a client.\n\n143\n00:06:18.130 --> 00:06:22.230\nMaybe a server that has to have a certain\nIP or a workstation needs that.\n\n144\n00:06:22.230 --> 00:06:23.450\nWe kind of set that aside.\n\n145\n00:06:23.450 --> 00:06:25.080\nRight.\nThere's a few ways to do that.\n\n146\n00:06:25.080 --> 00:06:27.420\nYou mention scopes and scope options.\n\n147\n00:06:27.420 --> 00:06:29.210\nRight?\nThe things you called out like default\n\n148\n00:06:29.210 --> 00:06:31.870\ngateways and perhaps subnet masks,\n\n149\n00:06:31.870 --> 00:06:34.480\nthings like that,\nwould be part of the configuration\n\n150\n00:06:34.480 --> 00:06:38.320\nthat's handed out to the client when\nthey're requesting the DHCP address.\n\n151\n00:06:38.320 --> 00:06:40.930\nAnd you said we can essentially\nmanage all that through the console.\n\n152\n00:06:40.930 --> 00:06:43.930\nSo we have a graphical interface to\nbe able to keep track of all that.\n\n153\n00:06:43.930 --> 00:06:47.340\nWe have a database that maintains all\nthat information for us as part of DHCP.\n\n154\n00:06:47.340 --> 00:06:48.880\nWe have logging.\n\n155\n00:06:48.880 --> 00:06:52.790\nAnd we have the ability to oversee all\nthat and to auto moment's notice or\n\n156\n00:06:52.790 --> 00:06:55.580\non demand go to take an inventory,\nsee what's out there,\n\n157\n00:06:55.580 --> 00:06:58.610\nhow many addresses are available\nin the scope, as you mentioned.\n\n158\n00:06:58.610 --> 00:07:01.130\nHow many are out for use,\nhow many are coming back in.\n\n159\n00:07:01.130 --> 00:07:03.015\nSo we have these capabilities with DHCP.\n\n160\n00:07:03.015 --> 00:07:08.610\nIt gives a centralized IP address, excuse\nme, centralized IP address management.\n\n161\n00:07:08.610 --> 00:07:13.230\nAnd remote IP address deployment\ncapabilities throughout our inter-\n\n162\n00:07:13.230 --> 00:07:16.220\nbasically throughout the forest if you\nwanna think about it that way, right.\n\n163\n00:07:16.220 --> 00:07:18.090\nBy sudden and certainly by scope.\n\n164\n00:07:18.090 --> 00:07:21.780\nSo, it's very valuable set of networking\ntools, one that we're gonna deploy.\n\n165\n00:07:21.780 --> 00:07:22.632\nSo we're gonna highlight that.\n\n166\n00:07:22.632 --> 00:07:26.600\nWe're gonna check this off now,\nas is the case with most of these wizards.\n\n167\n00:07:26.600 --> 00:07:30.540\nThe nice thing about using 12,\n12R2, look ahead, server 16,\n\n168\n00:07:30.540 --> 00:07:33.670\nif you're gonna be doing\nthat is that these days,\n\n169\n00:07:33.670 --> 00:07:36.390\nthe wizards are smart enough to\nknow that we have dependencies.\n\n170\n00:07:36.390 --> 00:07:40.450\nTo understand that we have or at least\npotentially have a need for other tools or\n\n171\n00:07:40.450 --> 00:07:41.210\nfeatures.\n\n172\n00:07:41.210 --> 00:07:42.450\nAnd to say, hey by the way,\n\n173\n00:07:42.450 --> 00:07:45.670\nif you're gonna deploy this, you need\nthese things, right, whatever they are.\n\n174\n00:07:45.670 --> 00:07:49.280\nIn this case, the R set tools,\nthe remote server administration tools.\n\n175\n00:07:49.280 --> 00:07:50.690\nAnd you have to deploy those or\n\n176\n00:07:50.690 --> 00:07:52.970\nyou're not gonna be able to\nset this up the right way.\n\n177\n00:07:52.970 --> 00:07:54.980\nYears ago, that wasn't the case.\n\n178\n00:07:54.980 --> 00:07:57.575\nYou deployed this, you didn't\nget notified, you had to know or\n\n179\n00:07:57.575 --> 00:07:58.741\nguess that they were there.\n\n180\n00:07:58.741 --> 00:08:00.627\nAnd if they weren't deployed\nyou may have to go back and\n\n181\n00:08:00.627 --> 00:08:02.070\nhave to reconfigure them later, right?\n\n182\n00:08:02.070 --> 00:08:05.024\nSo, it's nice that we get prompted for\nthis, so we understand that.\n\n183\n00:08:05.024 --> 00:08:08.688\nSo, we'll click Add Feature, so\njust Puts in the appropriate tools for us.\n\n184\n00:08:08.688 --> 00:08:10.049\nAnd then, we'll click Next.\n\n185\n00:08:10.049 --> 00:08:13.870\nThere may or may not be some additional\nfeatures that we may wanna add.\n\n186\n00:08:13.870 --> 00:08:18.187\nSo we get an option to go through and\ncheck off whatever may be the case there,\n\n187\n00:08:18.187 --> 00:08:19.210\n.NET features.\n\n188\n00:08:19.210 --> 00:08:23.092\nIt may be BitLocker or BranchCache,\nwhatever the case may be, we'll be talking\n\n189\n00:08:23.092 --> 00:08:26.977\nsome of these technologies in upcoming\nconversations about network support for\n\n190\n00:08:26.977 --> 00:08:30.730\nfile systems, and BranchCache for\nremote access and file management.\n\n191\n00:08:30.730 --> 00:08:32.762\nAll that kinda stuff will come\nup in future conversations.\n\n192\n00:08:32.762 --> 00:08:36.100\nSo we would or would not choose here,\ndepending on what we wanna do.\n\n193\n00:08:36.100 --> 00:08:41.270\nWe click Next, there may be some reasons\nand/or things we need to additionally\n\n194\n00:08:41.270 --> 00:08:45.810\naddress here in terms of confirmation or\nconfiguration of the service and feature.\n\n195\n00:08:45.810 --> 00:08:47.610\nReally just depends on what we're doing.\n\n196\n00:08:47.610 --> 00:08:51.500\nDHCP typically requires that we do\nmost if not all the configuration\n\n197\n00:08:51.500 --> 00:08:53.090\nin the console once we install.\n\n198\n00:08:53.090 --> 00:08:54.980\nSo we're not really gonna\nhave much to do here.\n\n199\n00:08:54.980 --> 00:08:59.160\nBut if this was IS, we'd have some\nadditional things we have to select,\n\n200\n00:08:59.160 --> 00:09:02.160\nmaybe additional authentication\nmechanisms, and things like that.\n\n201\n00:09:02.160 --> 00:09:05.310\nBut, again, most of that configuration\nwill be done after the fact in the wizard.\n\n202\n00:09:05.310 --> 00:09:08.980\nSo we're just gonna simply accept and\nacknowledge the fact we're deploying that.\n\n203\n00:09:08.980 --> 00:09:10.050\nWe're gonna click Next.\n\n204\n00:09:10.050 --> 00:09:11.870\nWe get our little confirmation.\n\n205\n00:09:11.870 --> 00:09:15.650\nYou don't underestimate the value of\nthe Restart If Necessary option here,\n\n206\n00:09:15.650 --> 00:09:17.210\njust as a general rule of thumb.\n\n207\n00:09:17.210 --> 00:09:19.580\nIt's nice to let\nthe system restart itself.\n\n208\n00:09:19.580 --> 00:09:24.340\nOne of the nice things about 12 and 12 R2,\neven going back as far as 2008 R2, is that\n\n209\n00:09:24.340 --> 00:09:30.670\nMicrosoft really did a lot of work to\nfocus on the need to restart the systems\n\n210\n00:09:30.670 --> 00:09:34.960\nand remediate, eliminate a lot of the\nrestart requirements as we add features\n\n211\n00:09:34.960 --> 00:09:38.960\nperhaps as we update so that we're really\nminimizing the interruption to production.\n\n212\n00:09:38.960 --> 00:09:42.740\nAnd the interruption to the use of these\nsystems while they're being configured.\n\n213\n00:09:42.740 --> 00:09:44.860\nSo restarts have been\ncut down to a minimum.\n\n214\n00:09:44.860 --> 00:09:47.420\nThere are certain features\nthat do require restarts.\n\n215\n00:09:47.420 --> 00:09:49.170\nSo DHCP may or may not be one of those.\n\n216\n00:09:49.170 --> 00:09:51.096\nIt's typically not\nconsidered one of those.\n\n217\n00:09:51.096 --> 00:09:53.270\nYou don't have restart to\ninstall a DHCP server but\n\n218\n00:09:53.270 --> 00:09:56.395\nit's good to know that if we needed to,\nwe could automate that process.\n\n219\n00:09:56.395 --> 00:09:58.425\nWe're gonna click Install,\njust let it do its thing.\n\n220\n00:09:58.425 --> 00:10:02.042\nIt's not very exciting to watch, doesn't\ntake very long but we'll see if this kinda\n\n221\n00:10:02.042 --> 00:10:05.508\nwalk through the logic of installation,\ntells us if it's done started here, and\n\n222\n00:10:05.508 --> 00:10:08.644\nthen once it finishes, we'll get\na prompt that says, hey, it's done.\n\n223\n00:10:08.644 --> 00:10:11.098\nAnd then, we'll be able to go in and\nlook at the management console, and\n\n224\n00:10:11.098 --> 00:10:13.087\ntake a look at some of the things\nthat are going on in there.\n\n225\n00:10:13.087 --> 00:10:15.807\nSo we'll give that a moment to run in\nthe background while we're talking.\n\n226\n00:10:15.807 --> 00:10:18.267\nSo we've already talked about\nwhat DHCP does at a high level,\n\n227\n00:10:18.267 --> 00:10:19.947\nwhat are the components of DHCP?\n\n228\n00:10:19.947 --> 00:10:22.247\nWe do have the server\nobviously as you can see.\n\n229\n00:10:22.247 --> 00:10:25.707\nWe're installing, figuring the role and\nthe MMC associated with that.\n\n230\n00:10:25.707 --> 00:10:29.410\nCherokee mentioned the scope, our scopes\nand the options associated with it.\n\n231\n00:10:29.410 --> 00:10:32.480\nSo we have all of those as being parts or\nmoving parts of it.\n\n232\n00:10:32.480 --> 00:10:34.860\nI mentioned the database that\nwould be used to store and\n\n233\n00:10:34.860 --> 00:10:36.630\nconfigure DHCP information.\n\n234\n00:10:36.630 --> 00:10:40.790\nSo we have all of those things as parts or\ncomponents of the DHCP solution.\n\n235\n00:10:40.790 --> 00:10:43.910\nObviously the DHCP-capable client,\nwhatever that may be,\n\n236\n00:10:43.910 --> 00:10:46.650\nthat will request information.\n\n237\n00:10:46.650 --> 00:10:50.340\nRequest addresses from the DHCP server\nwould also be part of this mix,\n\n238\n00:10:50.340 --> 00:10:51.630\nwe'd have to think about that.\n\n239\n00:10:51.630 --> 00:10:53.660\nDo DHCP clients have to\nbe Microsoft clients?\n\n240\n00:10:53.660 --> 00:10:55.560\nDo they have to be a Microsoft OS, or\n\n241\n00:10:55.560 --> 00:10:58.910\ncan we have non-Microsoft clients\nwork with the DHCP server?\n\n242\n00:10:58.910 --> 00:11:00.940\n&gt;&gt; So we can have non Microsoft clients.\n\n243\n00:11:00.940 --> 00:11:04.220\nAs a matter of fact,\nyou can have printers connect and\n\n244\n00:11:04.220 --> 00:11:06.120\nobtain an IP address within your network.\n\n245\n00:11:06.120 --> 00:11:07.680\nCanon, HP, whatever.\n\n246\n00:11:07.680 --> 00:11:08.260\n&gt;&gt; We could.\n\n247\n00:11:08.260 --> 00:11:12.470\nCould a Macintosh computer\nget a DHCP sponsored address?\n\n248\n00:11:12.470 --> 00:11:13.536\nA non Microsoft OS.\n\n249\n00:11:13.536 --> 00:11:15.810\n&gt;&gt; Yeah.\n&gt;&gt; Could, Linux / Unix machines, right?\n\n250\n00:11:15.810 --> 00:11:17.470\nAny OS that's DHCP capable.\n\n251\n00:11:17.470 --> 00:11:23.140\nMy point is, DHCP, contrary to urban myth\nand legend, is not a Microsoft invention.\n\n252\n00:11:23.140 --> 00:11:24.510\nIt is a Microsoft technology.\n\n253\n00:11:24.510 --> 00:11:26.625\nWe certainly leverage it,\njust like DNS is.\n\n254\n00:11:26.625 --> 00:11:29.025\nLike many technologies we talk about are.\n\n255\n00:11:29.025 --> 00:11:31.535\nBut they are not exclusive\nto Microsoft by any means.\n\n256\n00:11:31.535 --> 00:11:33.515\nWe're talking about net bios and wins.\n\n257\n00:11:33.515 --> 00:11:37.135\nTalk about a Microsoft centric technology\nthat is really primarily designed for\n\n258\n00:11:37.135 --> 00:11:40.702\nwork and use on a Microsoft network,\nalthough Microsoft borrowed that\n\n259\n00:11:40.702 --> 00:11:43.622\ntechnology from another company and\nkinda tweaked it, but\n\n260\n00:11:43.622 --> 00:11:48.613\nwins is their own specific implementation\nof that technology, files more broadly.\n\n261\n00:11:48.613 --> 00:11:51.916\nNon Microsoft specific but\nassociated primarily with Microsoft.\n\n262\n00:11:51.916 --> 00:11:55.906\nBut DHCP, DNS,\ncertainly not Microsoft specific at all.\n\n263\n00:11:55.906 --> 00:12:00.656\nSo leverageable by any client that is\ncapable of running a TCP/IP network stack,\n\n264\n00:12:00.656 --> 00:12:03.386\nand that has DNS and/or\nDHCP support in this case.\n\n265\n00:12:03.386 --> 00:12:04.646\nSo just keep that in mind.\n\n266\n00:12:04.646 --> 00:12:07.296\nWe're done with the installation,\nas you see, it doesn't take very long.\n\n267\n00:12:07.296 --> 00:12:09.606\nWe'll click Close here,\nno restart required.\n\n268\n00:12:09.606 --> 00:12:11.956\nNow, one of the little quirky\nthings about the server manager,\n\n269\n00:12:11.956 --> 00:12:14.820\nit didn't do it this time,\nyou can see DHCP is there.\n\n270\n00:12:14.820 --> 00:12:17.770\nBut every so often if you do this\nwith the server manager open,\n\n271\n00:12:17.770 --> 00:12:20.630\nit may not always update and\nshow you that the feature was installed.\n\n272\n00:12:20.630 --> 00:12:22.480\nSo it's never a bad idea to go ahead,\n\n273\n00:12:22.480 --> 00:12:25.830\ndo a little refresh here just to make\nsure everything comes up the right way.\n\n274\n00:12:25.830 --> 00:12:28.210\nThat way you're sure that\neverything is running possibly.\n\n275\n00:12:28.210 --> 00:12:29.820\nWe do get a little prompt here.\n\n276\n00:12:29.820 --> 00:12:30.840\nThere's a little notification.\n\n277\n00:12:32.030 --> 00:12:35.619\nIt says, post deployment\nconfiguration is required for DHCP.\n\n278\n00:12:35.619 --> 00:12:37.500\nNotice it doesn't say restart requirement.\n\n279\n00:12:37.500 --> 00:12:40.740\nIt does say, hey, go in and\ncomplete DHCP configuration.\n\n280\n00:12:40.740 --> 00:12:43.895\nWe're gonna load the DHCP console and\ntake a look at that right now.\n\n281\n00:12:43.895 --> 00:12:47.280\nBut it is important to pay attention\nto the console, know what's going on.\n\n282\n00:12:47.280 --> 00:12:50.220\nKnow that this is an important sign for\n\n283\n00:12:50.220 --> 00:12:52.740\nus as administrators that\nsomething may be required of us.\n\n284\n00:12:52.740 --> 00:12:55.430\nAnd we should always take a look,\npay attention to those details,\n\n285\n00:12:55.430 --> 00:12:57.180\nmake sure we know what's happening there.\n\n286\n00:12:57.180 --> 00:12:59.930\nSo we're gonna go ahead,\ngonna go into tools here.\n\n287\n00:13:01.110 --> 00:13:04.030\nWe will see DHCP,\nyou can see it right there in the menu.\n\n288\n00:13:04.030 --> 00:13:05.570\nWe'll go ahead and\nwe'll open up our console.\n\n289\n00:13:05.570 --> 00:13:08.550\nLet me just minimize the service\nmanager behind the scenes.\n\n290\n00:13:08.550 --> 00:13:11.890\nOpen this up so we're not distracted\nby what's going on back there.\n\n291\n00:13:11.890 --> 00:13:15.270\nLet's just move this over just\na wee bit so we can see that.\n\n292\n00:13:15.270 --> 00:13:18.000\nWe do have our plat DC01 as our machine,\n\n293\n00:13:18.000 --> 00:13:21.040\nthat's our host where\nDHCP has been enabled.\n\n294\n00:13:21.040 --> 00:13:22.606\nI told you it was the domain controller so\n\n295\n00:13:22.606 --> 00:13:24.689\nthe naming convention\nhopefully makes sense to you.\n\n296\n00:13:24.689 --> 00:13:29.020\nwww.practicelabs.com is our domain, so\nthat's just the domain we're a part of.\n\n297\n00:13:29.020 --> 00:13:31.910\nWe're using our practice labs domain,\nor rather,\n\n298\n00:13:31.910 --> 00:13:36.070\nour practice labs lab platform to be\nable to do our configurations here.\n\n299\n00:13:36.070 --> 00:13:39.010\nGlad that we're able to use those,\nthey always provide this kinda support for\n\n300\n00:13:39.010 --> 00:13:40.530\nus in a lot of these shows.\n\n301\n00:13:40.530 --> 00:13:43.010\nAnd it's a great platform for\nus to use to demo for you and\n\n302\n00:13:43.010 --> 00:13:46.060\nfor you to take advantage of when\nyou're following along with us, so\n\n303\n00:13:46.060 --> 00:13:48.590\nmake sure you do take advantage\nof that if at all possible.\n\n304\n00:13:48.590 --> 00:13:51.088\nIPv4 and IPv6 support.\n\n305\n00:13:51.088 --> 00:13:53.167\nDHCP and Server 12, 12 R2,\n\n306\n00:13:53.167 --> 00:13:58.014\ncertainly going into Server 16 provides\nsupport for both IPv4 and IPv6.\n\n307\n00:13:58.014 --> 00:13:59.760\nSo it's important to be aware of that.\n\n308\n00:13:59.760 --> 00:14:02.440\nWe do have, as you'll see here,\nI know it's kinda hard to see,\n\n309\n00:14:02.440 --> 00:14:05.250\nif we go full screen you may see just\na little bit more of the detail.\n\n310\n00:14:05.250 --> 00:14:06.251\nBut it's kinda small.\n\n311\n00:14:06.251 --> 00:14:10.630\nIt's a little circle there with a red\narrow at how the edge of each of the IPv4\n\n312\n00:14:10.630 --> 00:14:12.070\nand IPv6 servers.\n\n313\n00:14:12.070 --> 00:14:14.350\nAnd what that's indicating\nto us as we open this up,\n\n314\n00:14:14.350 --> 00:14:16.950\nis that we have not finished\nconfiguring IPv4 yet.\n\n315\n00:14:16.950 --> 00:14:20.570\nYou'll see here that we haven't set\nup a scope as Cherokee indicated we\n\n316\n00:14:20.570 --> 00:14:21.620\nneeded to do.\n\n317\n00:14:21.620 --> 00:14:23.600\nGotta put in our IP address range.\n\n318\n00:14:23.600 --> 00:14:28.570\nConfigure that so we can start giving out\nIP addresses haven't set up scope options,\n\n319\n00:14:28.570 --> 00:14:30.730\nserver options anything like that so\n\n320\n00:14:30.730 --> 00:14:33.660\nwe do have to do a little bit of work here\nbehind the scenes right before we can\n\n321\n00:14:33.660 --> 00:14:37.210\nactivate the server but we have all\nthe moving parts and pieces here.\n\n322\n00:14:37.210 --> 00:14:39.750\nLet's talk for a minute just before we\ndo anything in here about how clients\n\n323\n00:14:39.750 --> 00:14:42.240\nactually acquire IP addresses.\n\n324\n00:14:42.240 --> 00:14:44.060\nSo when we think about DHCP,\n\n325\n00:14:44.060 --> 00:14:48.410\nwe're thinking about the client\nusing a broadcast method\n\n326\n00:14:48.410 --> 00:14:51.940\nto be able to request an IP address if\nthe client does not currently have one.\n\n327\n00:14:51.940 --> 00:14:56.550\nBut the client may already own or\nhave a DHCP sponsored address.\n\n328\n00:14:56.550 --> 00:14:58.107\nAnd the client may be looking to renew.\n\n329\n00:14:58.107 --> 00:15:00.940\nSo there's different options\nthat would be engaged in here.\n\n330\n00:15:00.940 --> 00:15:02.780\nDifferent paths we would pursue.\n\n331\n00:15:02.780 --> 00:15:06.040\nDepending on the kind of traffic, in other\nwords, and I'm suggesting we would see\n\n332\n00:15:06.040 --> 00:15:08.860\nis depending on the activity\nthat the client's engaging in.\n\n333\n00:15:08.860 --> 00:15:11.591\nLet's assume for a minute that\nthe client doesn't have an IP address.\n\n334\n00:15:11.591 --> 00:15:12.570\nWe are starting out.\n\n335\n00:15:12.570 --> 00:15:14.160\nNo IP address assigned.\n\n336\n00:15:14.160 --> 00:15:18.250\nSo we would see all zeros and we would do\nan IP config and we do and take a look and\n\n337\n00:15:18.250 --> 00:15:23.870\nsee, hey, no IP address or maybe we\nsee a 169254 address and the pip o no.\n\n338\n00:15:23.870 --> 00:15:26.950\nAutomatic private IP\naddress-based address range.\n\n339\n00:15:26.950 --> 00:15:30.470\nEither one of those would indicate\nthat the client does not have\n\n340\n00:15:30.470 --> 00:15:35.170\na IP address in a subnet leased\nfrom a DHCP server currently\n\n341\n00:15:35.170 --> 00:15:38.200\nthat would allow them to communicate\nfully across the network.\n\n342\n00:15:38.200 --> 00:15:40.830\nSo we'd have to go out and\ntalk to the DHCP server and\n\n343\n00:15:40.830 --> 00:15:42.070\ntry to secure an IP address.\n\n344\n00:15:42.070 --> 00:15:44.970\nIf that's the case,\nwe're gonna use a four-step process.\n\n345\n00:15:44.970 --> 00:15:49.870\nIn order to do that, we often talk\nabout these steps in relation to\n\n346\n00:15:49.870 --> 00:15:51.660\na group of sisters, two sisters.\n\n347\n00:15:51.660 --> 00:15:53.790\nWe often talk about DORA or ROSA,\n\n348\n00:15:53.790 --> 00:15:58.730\nthe DHCP sisters as pneumonics or acronyms\nrepresenting the four steps involved.\n\n349\n00:15:58.730 --> 00:16:02.579\nDORA, discover, offer, request,\nacknowledge, four steps.\n\n350\n00:16:02.579 --> 00:16:06.101\nROSA, request, offer, select,\nacknowledge or request, offer, selection,\n\n351\n00:16:06.101 --> 00:16:07.930\nacknowledgement, whatever you prefer.\n\n352\n00:16:07.930 --> 00:16:08.589\nIt's essentially the same thing.\n\n353\n00:16:08.589 --> 00:16:13.073\nWhichever set of steps we walk through\nthey're roughly parallel to one another.\n\n354\n00:16:13.073 --> 00:16:17.949\nWhether it's discover, offer, request,\nacknowledge, or request, offer, select,\n\n355\n00:16:17.949 --> 00:16:21.937\nacknowledge, the idea is that we start\nout with the client talking to one or\n\n356\n00:16:21.937 --> 00:16:25.356\nmore DHCP servers, broadcasting,\nlooking for a DHCP server or\n\n357\n00:16:25.356 --> 00:16:29.572\nservers on their subnet that would be\navailable for them to communicate with.\n\n358\n00:16:29.572 --> 00:16:32.510\nSo we're sending out a general plea or\na call for help.\n\n359\n00:16:32.510 --> 00:16:37.073\nHey anybody out there that can hear me,\nthat is in ear shot on my subnet,\n\n360\n00:16:37.073 --> 00:16:40.513\nthat can respond to me as a DHCP client,\nplease do so.\n\n361\n00:16:40.513 --> 00:16:45.492\nRight, that's what step one is, now it's\nimportant we specify broadcasts right,\n\n362\n00:16:45.492 --> 00:16:49.918\nbroadcast traffic, one of three types\nwe traditionally see, broadcast,\n\n363\n00:16:49.918 --> 00:16:52.286\nunicast and multicast transmissions.\n\n364\n00:16:52.286 --> 00:16:56.447\nBroadcast, anybody within earshot that\nis on our subnet, whether they want\n\n365\n00:16:56.447 --> 00:17:01.190\nthe traffic or not, will hear it and\npotentially can respond if they choose to.\n\n366\n00:17:01.190 --> 00:17:05.870\nWhen we're broadcasting we are sending\ntraffic out to a broadcast address or\n\n367\n00:17:05.870 --> 00:17:07.270\nthrough a broadcast address,\n\n368\n00:17:07.270 --> 00:17:10.050\nanybody that's out there in\ntheory can hear that broadcast.\n\n369\n00:17:10.050 --> 00:17:14.369\nBut not just anybody, anybody on our\nsubnet as I've said several times.\n\n370\n00:17:14.369 --> 00:17:17.476\nRouters serve a very important purpose\nin this exchange of information.\n\n371\n00:17:17.476 --> 00:17:21.889\nThey are designed to stop and\nprevent propagation of broadcast storms or\n\n372\n00:17:21.889 --> 00:17:24.579\ntraffic unrestricted across interfaces.\n\n373\n00:17:24.579 --> 00:17:28.021\nSo as a result if the DHCP server\nis on the wrong side of the router,\n\n374\n00:17:28.021 --> 00:17:29.899\nright essentially is remote to us,\n\n375\n00:17:29.899 --> 00:17:33.820\nwe may not be able to reach it\nwith a traditional DHCP broadcast.\n\n376\n00:17:33.820 --> 00:17:36.393\nAnd that broadcast by the way\nuses a special kind of protocol.\n\n377\n00:17:36.393 --> 00:17:37.520\nYou know that protocol that is?\n\n378\n00:17:37.520 --> 00:17:38.878\nI know you know what protocol that is.\n\n379\n00:17:38.878 --> 00:17:41.640\nWe're talking about bootstrap\ntraffic right for DHCP.\n\n380\n00:17:41.640 --> 00:17:44.901\nSo we're talking about the Boot P?\n\n381\n00:17:44.901 --> 00:17:46.343\n&gt;&gt; Boot P.\n&gt;&gt; The Boot P, right the Boot P protocol.\n\n382\n00:17:46.343 --> 00:17:48.734\n&gt;&gt; [LAUGH] I was losing it there for\na second Adam.\n\n383\n00:17:48.734 --> 00:17:49.390\n&gt;&gt; I saw.\n\n384\n00:17:49.390 --> 00:17:51.159\n&gt;&gt; I'm thinking about all these things and\nyeah I'm like okay, I.\n\n385\n00:17:51.159 --> 00:17:53.910\n&gt;&gt; I saw that deer in the headlights\nyou give me every so often.\n\n386\n00:17:53.910 --> 00:17:55.325\n&gt;&gt; You're like, why did you ask me that?\n\n387\n00:17:55.325 --> 00:17:57.273\nThe last question in\nthe world I was expecting.\n\n388\n00:17:57.273 --> 00:17:57.912\nI was thinking you were\ngoing a different way.\n\n389\n00:17:57.912 --> 00:18:02.016\n&gt;&gt; I know we've had several conversation\nabout Boot P and the origin of Boot P.\n\n390\n00:18:02.016 --> 00:18:05.235\n&gt;&gt; So you know, we talk about the Boot P\nor bootstrap protocol that's used right?\n\n391\n00:18:05.235 --> 00:18:06.895\nAnd so this is a broadcast so\n\n392\n00:18:06.895 --> 00:18:10.970\nwe have to make sure that if our\nDHCP server is remote to us.\n\n393\n00:18:10.970 --> 00:18:14.200\nThat we are dealing with that traffic\nat the router in a way that allows\n\n394\n00:18:14.200 --> 00:18:16.960\nus to propagate, to move that\ntraffic across the routed interface.\n\n395\n00:18:16.960 --> 00:18:20.184\nRouters normally drop this traffic,\nthey see this it as a security threat and\n\n396\n00:18:20.184 --> 00:18:22.530\nthey see it as a potentially\na denial of service attack.\n\n397\n00:18:22.530 --> 00:18:26.322\nNow, DHCP traffic is special traffic,\nit's tagged a certain way.\n\n398\n00:18:26.322 --> 00:18:28.939\nIt's structured a certain way and\nas a result,\n\n399\n00:18:28.939 --> 00:18:32.550\nwe normally will allow this traffic\nacross most normal routers.\n\n400\n00:18:32.550 --> 00:18:36.061\nMost, when I say normal routers,\nwhat I mean is most routers that have been\n\n401\n00:18:36.061 --> 00:18:38.591\ncreated, let's say in\nthe last five to seven years.\n\n402\n00:18:38.591 --> 00:18:39.232\n&gt;&gt; Primarily to route.\n\n403\n00:18:39.232 --> 00:18:41.506\n&gt;&gt; Well, just newer routers, right?\n\n404\n00:18:41.506 --> 00:18:44.753\nYou have routers from a hardware\nperspective that are newer,\n\n405\n00:18:44.753 --> 00:18:47.260\nmeaning that they are RFC 1542 compliant.\n\n406\n00:18:47.260 --> 00:18:51.202\nThey are supporting the propagation of\nbroadcast traffic for DHCP addressing and\n\n407\n00:18:51.202 --> 00:18:53.575\nthey have that feature enabled or\nturned on.\n\n408\n00:18:53.575 --> 00:18:56.582\nDepending on how old they are they may or\nmay not have it turned on by default but\n\n409\n00:18:56.582 --> 00:18:58.710\nthey should support\nthe propagation of this traffic,\n\n410\n00:18:58.710 --> 00:19:00.016\nthe movement of of this traffic.\n\n411\n00:19:00.016 --> 00:19:02.649\nIf for some odd reason,\nwe have really old routers, or\n\n412\n00:19:02.649 --> 00:19:06.141\nwe've disabled this feature on\npurpose because of security concerns,\n\n413\n00:19:06.141 --> 00:19:08.445\nwe may use what's called\nthe DHCP relay agent.\n\n414\n00:19:08.445 --> 00:19:12.282\nRight, so essentially a machine that's\nmulti-homed, two network cards,\n\n415\n00:19:12.282 --> 00:19:13.568\nstraddles both subnets.\n\n416\n00:19:13.568 --> 00:19:17.443\nSo sits between the two routered\ninterfaces and will pass traffic back and\n\n417\n00:19:17.443 --> 00:19:21.632\nforth through its system by transiting\nbetween two cards, one on each subnet,\n\n418\n00:19:21.632 --> 00:19:25.211\nas opposed to having it broadcast\ndirectly across the interface.\n\n419\n00:19:25.211 --> 00:19:28.411\nSo we have different options to configure,\nstand up, and\n\n420\n00:19:28.411 --> 00:19:30.697\nensure that this traffic will be moved but\n\n421\n00:19:30.697 --> 00:19:34.834\nour preference would be to be able\nto use an RFC 1542 compliant router.\n\n422\n00:19:34.834 --> 00:19:38.291\nA router that understands broadcast\ntraffic for DHCP services, and\n\n423\n00:19:38.291 --> 00:19:41.400\nwill allow it under certain\ncircumstances to be propagated.\n\n424\n00:19:41.400 --> 00:19:45.228\nSo we would do this with our D,\nour discover offer.\n\n425\n00:19:45.228 --> 00:19:48.490\nExcuse me, our discover, offer,\nrequest, acknowledgment sequence.\n\n426\n00:19:48.490 --> 00:19:49.580\nSo D for Discover.\n\n427\n00:19:49.580 --> 00:19:52.208\nThe client broadcasts the traffic out,\nright?\n\n428\n00:19:52.208 --> 00:19:54.226\nAny DHCP servers on that subnet or\n\n429\n00:19:54.226 --> 00:19:59.500\nacross the routed interface that received\nthat discover packet are bound to respond.\n\n430\n00:19:59.500 --> 00:20:04.154\nSo the D becomes, going the other\nway from the server, O, an offer.\n\n431\n00:20:04.154 --> 00:20:10.780\nAll servers will offer traffic, or excuse\nme, offer a request, honor a request.\n\n432\n00:20:10.780 --> 00:20:14.856\nOffer, send back a packet from the\ndiscover from the client that says hey I\n\n433\n00:20:14.856 --> 00:20:19.218\nwant my server to respond to me, please\nrespond to me, tell me you're there.\n\n434\n00:20:19.218 --> 00:20:23.142\nServers will send back packets saying\nyes I'm here, here's my information,\n\n435\n00:20:23.142 --> 00:20:25.030\ncall me when you're ready to do this.\n\n436\n00:20:25.030 --> 00:20:26.780\nSo we get essentially multiple,\n\n437\n00:20:26.780 --> 00:20:30.700\npotentially multiple offers,\nif there's more than one DHCP server.\n\n438\n00:20:30.700 --> 00:20:37.010\nOnce we do that, then it's us, the client\nin step 3, D, O and now R, request.\n\n439\n00:20:37.010 --> 00:20:39.385\nWe have to select or\nrequest that a certain server,\n\n440\n00:20:39.385 --> 00:20:42.761\nstart doing business with us and\npolitely thank all the other servers and\n\n441\n00:20:42.761 --> 00:20:45.543\nsay, no thank you we're not\ngoing to do business with you.\n\n442\n00:20:45.543 --> 00:20:49.677\nAnd so we have to respond to one server\nand say, I want a lease from you, and\n\n443\n00:20:49.677 --> 00:20:52.434\nsay no to all the others,\nright, in step three.\n\n444\n00:20:52.434 --> 00:20:55.706\nAnd then in step four,\nthe server responds back to the client,\n\n445\n00:20:55.706 --> 00:20:58.570\nspecifically saying okay,\nhere's your IP address.\n\n446\n00:20:58.570 --> 00:21:02.510\nAnd this is at the point where the client\nactually gets an IP in the subnet they're\n\n447\n00:21:02.510 --> 00:21:06.610\nsupposed to be assigned to, and switches\nfrom broadcast to unicast transmissions,\n\n448\n00:21:06.610 --> 00:21:08.480\nafter the completion of the four steps.\n\n449\n00:21:08.480 --> 00:21:10.680\nSo discover, offer, request, acknowledge.\n\n450\n00:21:10.680 --> 00:21:14.790\nAt the end of this four-step process,\nclient has an IP if everything goes well,\n\n451\n00:21:14.790 --> 00:21:19.420\nserver has leased that client and\nIP for what's called a TTL, a certain\n\n452\n00:21:19.420 --> 00:21:22.840\namount of time, a total time on the lease,\nby default typically eight days.\n\n453\n00:21:22.840 --> 00:21:25.280\nAnd so\nthe lease duration would be imported,\n\n454\n00:21:25.280 --> 00:21:28.980\nthe server makes a note of that or\na notation of that in the database and\n\n455\n00:21:28.980 --> 00:21:33.040\nthe client goes off and uses its IP\naddress for however long the lease is for.\n\n456\n00:21:33.040 --> 00:21:36.540\nAnd then at the end of that process,\nclient and server\n\n457\n00:21:36.540 --> 00:21:41.160\nare now talking to each other using IP\naddresses in unicast transmission traffic.\n\n458\n00:21:41.160 --> 00:21:45.027\nClient goes off, does whatever it needs to\ndo but that's not the end of the story,\n\n459\n00:21:45.027 --> 00:21:47.829\nright, because the DHCP lease is good for\na period of time,\n\n460\n00:21:47.829 --> 00:21:49.589\nthis TTO value that we talked about.\n\n461\n00:21:49.589 --> 00:21:53.150\nDefault is eight days and\nwindows but you can modify that,\n\n462\n00:21:53.150 --> 00:21:55.365\nnow we measure that in hours right?\n\n463\n00:21:55.365 --> 00:21:58.954\n&gt;&gt; [LAUGH] Yes okay all right I know\nit's coming I know it's coming okay.\n\n464\n00:21:58.954 --> 00:22:00.036\n&gt;&gt; No, no not just cuz I look at you\n\n465\n00:22:00.036 --> 00:22:01.678\ndoesn't mean I'm going\nto ask you anything.\n\n466\n00:22:01.678 --> 00:22:04.557\nI'm not gonna ask you how many\nhours eight days is right?\n\n467\n00:22:04.557 --> 00:22:06.710\nBut it is 196 hours by the way.\n\n468\n00:22:06.710 --> 00:22:07.838\nBut we're not, 192 hours rather.\n\n469\n00:22:07.838 --> 00:22:10.160\nBut we're not gonna go ahead,\nwe're not going to worry about that.\n\n470\n00:22:10.160 --> 00:22:14.515\nWhat we are gonna worry about though is\nthe fact that we do count down the number\n\n471\n00:22:14.515 --> 00:22:18.401\nof hours, right, overall, and\nwhen we get to a value, 50% TTL,\n\n472\n00:22:18.401 --> 00:22:19.878\nhalf the lease duration.\n\n473\n00:22:19.878 --> 00:22:22.691\nThe client has to go and\ntry to renew that IP address.\n\n474\n00:22:22.691 --> 00:22:26.130\nNow, under normal circumstances no big\ndeal, the client and the server talk.\n\n475\n00:22:26.130 --> 00:22:28.476\nThey both have IP addresses at this point,\nso\n\n476\n00:22:28.476 --> 00:22:32.633\ntalking is a lot easier than it was across\nthe broadcast issue with the routers.\n\n477\n00:22:32.633 --> 00:22:36.960\nAnd if the client is able to talk\nto the DHCP server successfully and\n\n478\n00:22:36.960 --> 00:22:40.570\nsay hey I'm at 50% TTL,\nplease renew my lease.\n\n479\n00:22:40.570 --> 00:22:42.990\nThe server and the client negotiate,\nthey agree, so\n\n480\n00:22:42.990 --> 00:22:46.540\nlong as the client doesn't have to give up\nthat IP address because the server wants\n\n481\n00:22:46.540 --> 00:22:49.990\nit back to give it to another machine,\nusually that doesn't happen.\n\n482\n00:22:49.990 --> 00:22:52.290\nThen the client just\nkeeps the I.P address,\n\n483\n00:22:52.290 --> 00:22:54.830\nextends the lease back out\nto the full value, and\n\n484\n00:22:54.830 --> 00:22:59.880\njust keeps on about its business and this\nessentially keeps at happening 50% TTL.\n\n485\n00:22:59.880 --> 00:23:03.640\nHowever, if the client is not able\nto successfully talk to the server\n\n486\n00:23:03.640 --> 00:23:07.630\nat that 50% mark, clients turned off and\nthe clock just keeps ticking and\n\n487\n00:23:07.630 --> 00:23:11.340\nthe clients not on, servers unavailable,\nthere is a network problem,\n\n488\n00:23:11.340 --> 00:23:14.330\nthere is a million reasons why this may or\nmay not happen.\n\n489\n00:23:14.330 --> 00:23:18.637\nThen no big deal,\nwe keep going at seven eighths TTL.\n\n490\n00:23:18.637 --> 00:23:22.186\nIn other words, on a eight day lease,\nessentially seven days have gone by,\n\n491\n00:23:22.186 --> 00:23:23.660\nseven eighths TTL.\n\n492\n00:23:23.660 --> 00:23:26.300\nOne day left, 24 hours left,\nthe client tries again.\n\n493\n00:23:26.300 --> 00:23:28.861\nIf the client and\nthe server are successful, no big deal,\n\n494\n00:23:28.861 --> 00:23:32.378\nwe just extend the lease back out and\neverything goes along about its merry way.\n\n495\n00:23:32.378 --> 00:23:33.382\nIf the client and\n\n496\n00:23:33.382 --> 00:23:37.273\nthe server do not talk at seven\neighths TTL we count down to zero.\n\n497\n00:23:37.273 --> 00:23:41.539\nAt the zero mark, client loses the ability\nto claim and use that IP address.\n\n498\n00:23:41.539 --> 00:23:45.360\nLet's say the IP in theory was 192.168.05.\n\n499\n00:23:45.360 --> 00:23:50.102\nThat IP address goes away, the client\nwould then be given an APIPA what we\n\n500\n00:23:50.102 --> 00:23:54.554\ncall an APIPA based IP address,\nautomatic private IP addressing.\n\n501\n00:23:54.554 --> 00:24:00.442\nAnd the 169.254 address block,\n169.254.0.20, let's say hypothetically.\n\n502\n00:24:00.442 --> 00:24:03.192\nClient self assigns that address,\nby the way,\n\n503\n00:24:03.192 --> 00:24:08.470\nusing an algorithm it randomly chooses of\nvalue out of the available IP addresses.\n\n504\n00:24:08.470 --> 00:24:11.285\nChecking to ensure that no other machine\non the subnet has that IP address\n\n505\n00:24:11.285 --> 00:24:12.079\nalready assigned.\n\n506\n00:24:12.079 --> 00:24:14.990\nSo we avoid IP conflicts, obviously.\n\n507\n00:24:14.990 --> 00:24:18.800\nBut the key here, the server is not\ninvolved in assigning that IP address.\n\n508\n00:24:18.800 --> 00:24:20.760\nThe server and the client do not talk.\n\n509\n00:24:20.760 --> 00:24:23.469\nAnd the reason that we're getting that\nIP address in the first place is that\n\n510\n00:24:23.469 --> 00:24:25.660\nthe server and\nthe client have not talked, right?\n\n511\n00:24:25.660 --> 00:24:28.900\nSo now we're on an automatic\nprivate IP address block.\n\n512\n00:24:28.900 --> 00:24:32.990\nAnd that means that every so often, we\nwill be able to connect to the network and\n\n513\n00:24:32.990 --> 00:24:36.890\nsee if the server is still there\nattempting to renew an IP address and\n\n514\n00:24:36.890 --> 00:24:37.990\nget a different one.\n\n515\n00:24:37.990 --> 00:24:40.288\nBut we will stay connected to the network.\n\n516\n00:24:40.288 --> 00:24:44.630\nIn other words, we don't go to an all\nzero or no IP address state any longer.\n\n517\n00:24:44.630 --> 00:24:47.760\nWe used to years ago do that before\nwe implemented the use of APIPA.\n\n518\n00:24:47.760 --> 00:24:50.300\nWe don't do that anymore so\nwe do stay connected.\n\n519\n00:24:50.300 --> 00:24:54.400\nMakes it easier for us to be able to\ncommunicate with the DHCP server.\n\n520\n00:24:54.400 --> 00:24:57.240\nAnd not have to revert back\nto broadcasting necessarily\n\n521\n00:24:57.240 --> 00:25:00.310\nin order to talk to it under\ncertain circumstances.\n\n522\n00:25:00.310 --> 00:25:03.000\nIf the client restarts, shuts down,\n\n523\n00:25:03.000 --> 00:25:06.430\nwhatever the case may be, it will\nautomatically attempt to contact the DHCP\n\n524\n00:25:06.430 --> 00:25:10.980\nserver as it comes back up looking for\nthe ability to renew that address as well.\n\n525\n00:25:10.980 --> 00:25:13.840\nSo there are reasons why the client\nwill be reaching out to the server,\n\n526\n00:25:13.840 --> 00:25:16.370\nattempting to restore that IP address.\n\n527\n00:25:16.370 --> 00:25:17.930\nMost likely, we won't get the same one.\n\n528\n00:25:17.930 --> 00:25:21.290\nBut it'll attempt to restore that\nIP address and lease a new IP.\n\n529\n00:25:21.290 --> 00:25:24.080\nEssentially walking back through\nthe discover, offer, request,\n\n530\n00:25:24.080 --> 00:25:25.580\nacknowledge phase again.\n\n531\n00:25:25.580 --> 00:25:28.150\nAttempting to secure a new IP address for\na period of time.\n\n532\n00:25:28.150 --> 00:25:31.055\nSo we just wanna make sure we're\nfamiliar with the thought process,\n\n533\n00:25:31.055 --> 00:25:33.024\nthe concepts,\nthe general overview of DHCP.\n\n534\n00:25:33.024 --> 00:25:36.449\nHow the technology is implemented\nas you saw, we set up.\n\n535\n00:25:36.449 --> 00:25:39.740\nAlthough we haven't configured it yet,\nwe'll configure it in an upcoming episode.\n\n536\n00:25:39.740 --> 00:25:42.055\nBut you saw stand up in DHCP server.\n\n537\n00:25:42.055 --> 00:25:45.180\nWe've talked about the overview\nof how DHCP as a service works.\n\n538\n00:25:45.180 --> 00:25:46.070\nWhat have I missed?\n\n539\n00:25:46.070 --> 00:25:47.255\nDid we cover everything?\n\n540\n00:25:47.255 --> 00:25:52.102\n&gt;&gt; Should we note that the subset we're\ngiven were specifically addressing IPv4\n\n541\n00:25:52.102 --> 00:25:52.835\nnetworks?\n\n542\n00:25:52.835 --> 00:25:53.468\n&gt;&gt; They were.\n\n543\n00:25:53.468 --> 00:25:55.928\n&gt;&gt; Because we're gonna be talking\na little bit more about IPv6 later on.\n\n544\n00:25:55.928 --> 00:25:58.740\n&gt;&gt; We may have a few things to\nsay about it, not too much.\n\n545\n00:25:58.740 --> 00:26:02.660\nNot as much as we would, for instance,\nif this was a Server 16 conversation.\n\n546\n00:26:02.660 --> 00:26:05.003\nWhere we would be talking exclusively,\nor not exclusively,\n\n547\n00:26:05.003 --> 00:26:07.470\nrather extensively about IPv6 as well.\n\n548\n00:26:07.470 --> 00:26:09.604\nBecause this is focused on Server 12,\n\n549\n00:26:09.604 --> 00:26:12.570\nwe kind of acknowledge\ngrudgingly that IPv6 is there.\n\n550\n00:26:12.570 --> 00:26:15.360\nBut we're not as interested in\nthe support as we would be in Server 16,\n\n551\n00:26:15.360 --> 00:26:16.340\nbelieve it or not.\n\n552\n00:26:16.340 --> 00:26:19.350\nBut what we did leave out is\nDHCP server authorization.\n\n553\n00:26:19.350 --> 00:26:20.662\nI don't believe I said\nanything about that.\n\n554\n00:26:20.662 --> 00:26:21.486\nThat may be important.\n\n555\n00:26:21.486 --> 00:26:23.538\n&gt;&gt; You said we had some post\nconfiguration duties to perform.\n\n556\n00:26:23.538 --> 00:26:24.067\n&gt;&gt; I did.\n&gt;&gt; So\n\n557\n00:26:24.067 --> 00:26:26.614\nthat would definitely\nfall in that category.\n\n558\n00:26:26.614 --> 00:26:29.556\n&gt;&gt; It would and we would want\nto at least think about that.\n\n559\n00:26:29.556 --> 00:26:31.220\nAnd we'll talk, we'll have some\nmore to say about that coming up.\n\n560\n00:26:31.220 --> 00:26:33.948\nWe're not gonna get too far into it now,\nbut it would be important.\n\n561\n00:26:33.948 --> 00:26:36.840\nAnd also, although I hinted at the fact\nwe could do this through PowerShell,\n\n562\n00:26:36.840 --> 00:26:38.610\ndidn't really say much about PowerShell.\n\n563\n00:26:38.610 --> 00:26:40.932\nAnd as we always try to do,\nwe have a little URL on the show notes.\n\n564\n00:26:40.932 --> 00:26:43.546\nWe'll show it to you in the next round for\nepisode two here,\n\n565\n00:26:43.546 --> 00:26:45.813\nwhere you can find all\nthose PowerShell commands.\n\n566\n00:26:45.813 --> 00:26:49.650\nThere are over 100 DHCP specific\nPowerShell commands just for\n\n567\n00:26:49.650 --> 00:26:53.160\nconfiguration management\non Server 12 R2 alone.\n\n568\n00:26:53.160 --> 00:26:55.416\nSo you may wanna start delving into\nsome of those and taking a look at them.\n\n569\n00:26:55.416 --> 00:26:58.745\nAnd we'll show you where to find them to\nmake sure you know how to get in there and\n\n570\n00:26:58.745 --> 00:26:59.570\ntake a look.\n\n571\n00:26:59.570 --> 00:27:01.290\nAnd also Dynamic DNS updates.\n\n572\n00:27:01.290 --> 00:27:02.984\nThe interaction of DHCP and DNS.\n\n573\n00:27:02.984 --> 00:27:06.126\nAnd how we use DHCP to take\ninformation that's leased and\n\n574\n00:27:06.126 --> 00:27:09.930\ngiven out to clients that may not\nbe able to talk directly to DNS.\n\n575\n00:27:09.930 --> 00:27:12.246\nAnd send it over to DNS so\nDNS can be updated.\n\n576\n00:27:12.246 --> 00:27:14.941\nAnd we have a complete and\naccurate record of all our IP addressing.\n\n577\n00:27:14.941 --> 00:27:16.543\nFor name resolution,\nwe could do that as well.\n\n578\n00:27:16.543 --> 00:27:18.675\nWe're gonna take a look at\nthat in our next conversation.\n\n579\n00:27:18.675 --> 00:27:20.309\nSo there's still a lot of\ninteresting things coming up.\n\n580\n00:27:20.309 --> 00:27:21.939\n&gt;&gt; Yeah,\nsounds like a great introduction, though.\n\n581\n00:27:21.939 --> 00:27:26.622\nYou've provided us the basic\nfundamentals as what DHCP is.\n\n582\n00:27:26.622 --> 00:27:28.515\nAnd then also showed us\nhow we can set that up.\n\n583\n00:27:28.515 --> 00:27:32.166\nBut, like Adam said, we do have additional\npost-configuration tasks to take care of\n\n584\n00:27:32.166 --> 00:27:33.170\nlater on down the road.\n\n585\n00:27:33.170 --> 00:27:35.199\nSo thank you for joining us today.\n\n586\n00:27:35.199 --> 00:27:37.055\nBut for this show,\nwe're gonna go ahead and sign out.\n\n587\n00:27:37.055 --> 00:27:39.039\nRemember, I'm your host, Cherokee Boose.\n\n588\n00:27:39.039 --> 00:27:40.097\n&gt;&gt; I'm Adam Gordon.\n\n589\n00:27:40.097 --> 00:27:41.825\n&gt;&gt; See you next time here at ITProTV.\n\n590\n00:27:41.825 --> 00:27:49.868\n[MUSIC]\n\n591\n00:27:49.868 --> 00:27:52.158\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "223605788"
        },
        {
          "description": "In this episode, Adam and Cherokee continue discussing DHCP and how it integrates with other core network services such as DNS. They explain why and how to create scopes and associated scope options such as exclusions and reservations.",
          "length": "1995",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-2-advances_network_services_pt2-0602817-PGM.00_00_11_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-2-advances_network_services_pt2-0602817-PGM.00_00_11_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-2-advances_network_services_pt2-0602817-PGM.00_00_11_26.Still001-sm.jpg",
          "title": "Advanced Network Services Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:02.402\nWelcome to ITProTV I'm your host Don.\n\n2\n00:00:02.402 --> 00:00:06.536\n[CROSSTALK]\n\n3\n00:00:06.536 --> 00:00:08.247\n[MUSIC]\n\n4\n00:00:08.247 --> 00:00:11.848\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.848 --> 00:00:16.400\n&gt;&gt; Welcome to your Microsoft MCSA\n7 Dash 412 series.\n\n6\n00:00:16.400 --> 00:00:18.490\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.490 --> 00:00:23.030\nIn this episode, we'll continue to take\na look at advanced network services,\n\n8\n00:00:23.030 --> 00:00:25.160\nspecifically DHCP.\n\n9\n00:00:25.160 --> 00:00:28.020\nAnd back in studios with us\ntoday we have Mr. Adam Gordon.\n\n10\n00:00:28.020 --> 00:00:29.310\nHow's it going today, Adam?\n\n11\n00:00:29.310 --> 00:00:32.010\n&gt;&gt; Going well,\nhopefully good for all of you.\n\n12\n00:00:32.010 --> 00:00:34.630\nWe're gonna continue as Cherokee\nwas saying talking about DHCP.\n\n13\n00:00:34.630 --> 00:00:39.080\nNot just DHCP but primarily\nlittle sneak DNS in there ever so\n\n14\n00:00:39.080 --> 00:00:42.960\noften we have talked that the relationship\nbetween these two services as we\n\n15\n00:00:42.960 --> 00:00:44.190\nhint to that in out first step.\n\n16\n00:00:44.190 --> 00:00:47.510\nSo if you haven't watch that by the way,\nwe did an overview of DHCP,\n\n17\n00:00:47.510 --> 00:00:48.900\ntalks about it about what it is?\n\n18\n00:00:48.900 --> 00:00:50.010\nHow it works?\n\n19\n00:00:50.010 --> 00:00:53.220\nThe resolution process for\ngaining an IP address.\n\n20\n00:00:53.220 --> 00:00:57.530\nTalked about the VHTP sisters,\nDora and Rosa, a little bit.\n\n21\n00:00:57.530 --> 00:00:58.950\nAlways fun ladies to hang out with.\n\n22\n00:00:58.950 --> 00:01:00.440\nSo, keep that in mind.\n\n23\n00:01:00.440 --> 00:01:03.450\nAnd we're gonna continue that\nconversation, and that thought process,\n\n24\n00:01:03.450 --> 00:01:07.360\njump back into the console where\nwe have our DHCP servers set up.\n\n25\n00:01:07.360 --> 00:01:10.410\nWalk through some additional\nconfiguration options.\n\n26\n00:01:10.410 --> 00:01:12.850\nShow you how all these different\nmoving parts come together.\n\n27\n00:01:12.850 --> 00:01:15.720\nWe'll take a look at the scopes and\nsee what's going on with them.\n\n28\n00:01:15.720 --> 00:01:16.940\nScope options.\n\n29\n00:01:16.940 --> 00:01:19.220\nAs Cherokee mentioned in the last episode,\nserver options,\n\n30\n00:01:19.220 --> 00:01:21.430\nscope options very important.\n\n31\n00:01:21.430 --> 00:01:24.240\nI've already got a scope configured, so\nwe'll take a look at what that means.\n\n32\n00:01:24.240 --> 00:01:25.520\nWe'll set up a new one.\n\n33\n00:01:25.520 --> 00:01:30.270\nTalk about multi a little bit,\nsuper scopes, and\n\n34\n00:01:30.270 --> 00:01:35.180\nin addition to all that we'll\nalso take a look at the DNS and\n\n35\n00:01:35.180 --> 00:01:38.420\nDHCP integration and\nthe HTP name protection, all sorts of\n\n36\n00:01:38.420 --> 00:01:41.250\ninteresting features that we have to take\na look at and make sure we understand.\n\n37\n00:01:41.250 --> 00:01:43.790\nSo, join me here in\nthe console if you will.\n\n38\n00:01:43.790 --> 00:01:44.790\nAnd let's get started.\n\n39\n00:01:44.790 --> 00:01:48.140\nSo we're back in our DHCP server,\nplat DM01.\n\n40\n00:01:48.140 --> 00:01:50.720\nGot that set up and installed.\n\n41\n00:01:50.720 --> 00:01:53.170\nWe did that during the last discussion.\n\n42\n00:01:53.170 --> 00:01:56.220\nAll I did was go through\nan authorized server while\n\n43\n00:01:56.220 --> 00:01:57.970\nwe were waiting to come back on and\ntalk to you.\n\n44\n00:01:57.970 --> 00:02:00.750\nAgain, I'm gong to show you quickly what\nI did, but it's a very quick process.\n\n45\n00:02:00.750 --> 00:02:03.060\nThere's really not a lot of mystery there.\n\n46\n00:02:03.060 --> 00:02:05.000\nAnd I did create a scope in the meantime.\n\n47\n00:02:05.000 --> 00:02:07.905\nJust so if you're looking at this saying\nthat looks a little different than what we\n\n48\n00:02:07.905 --> 00:02:09.436\njust saw a minutes ago\nin the last episode.\n\n49\n00:02:09.436 --> 00:02:11.024\nYou're absolutely right.\n\n50\n00:02:11.024 --> 00:02:14.834\nBut through the magic of IT ProTV,\nwe're able to fast forward and\n\n51\n00:02:14.834 --> 00:02:19.780\nbring all that stuff up and so all we did\nwas simply just pre-configure some things.\n\n52\n00:02:19.780 --> 00:02:21.110\nIt's a little bit easier for\n\n53\n00:02:21.110 --> 00:02:24.330\nus to then talk about some of the features\nI wanna examine with you here.\n\n54\n00:02:24.330 --> 00:02:29.560\nSo when we authorize DHCP server,\nwhat we're doing is after the installation\n\n55\n00:02:29.560 --> 00:02:32.660\nis there's usually a bit of\nconfiguration that has to happen.\n\n56\n00:02:32.660 --> 00:02:36.250\nThe primary thing, other than obviously\ncreating scopes, starting to set up\n\n57\n00:02:36.250 --> 00:02:40.770\nthe htp, to actively lease address\nis is to authorize the dhcp server.\n\n58\n00:02:40.770 --> 00:02:45.820\nAnd authorization, as we talked about Is\nseeking permission through registration in\n\n59\n00:02:45.820 --> 00:02:49.620\nthe active directory, in the LDAP\ndirectory, in this case, AD DS,\n\n60\n00:02:49.620 --> 00:02:50.620\nthe domain.\n\n61\n00:02:50.620 --> 00:02:53.540\nTo signify that this machine,\nthis domain, or rather,\n\n62\n00:02:53.540 --> 00:02:57.460\nthis DHCP server in the domain,\nis an official and therefore,\n\n63\n00:02:57.460 --> 00:03:01.280\nproperly entitled the DHCP server to\nhand out addresses on our behalf.\n\n64\n00:03:01.280 --> 00:03:05.245\nAnd we do that with a domain credential\nto with the domain credential will\n\n65\n00:03:05.245 --> 00:03:09.275\nbe used to authorize the HCB server\ngiving it the rights to registration to\n\n66\n00:03:09.275 --> 00:03:13.121\nbe sent as an official DS server and\nas a result hand out the IP address.\n\n67\n00:03:13.121 --> 00:03:16.942\nSo we've already done that e simply right\nclick on the server instead you can see\n\n68\n00:03:16.942 --> 00:03:17.522\nthat here.\n\n69\n00:03:17.522 --> 00:03:22.128\nAnd although it does say unauthorized\nright now, it would say authorized when\n\n70\n00:03:22.128 --> 00:03:25.780\nwe have to authorize,\nwe would simply click Authorize.\n\n71\n00:03:25.780 --> 00:03:29.730\nTakes a few seconds to communicate back\nand forth with the domain controller.\n\n72\n00:03:29.730 --> 00:03:31.490\nAnd then the system is authorized.\n\n73\n00:03:31.490 --> 00:03:33.610\nAnd I know it's almost impossible to see.\n\n74\n00:03:33.610 --> 00:03:37.070\nThere's a little green circle hanging\nout right down there at the very bottom\n\n75\n00:03:37.070 --> 00:03:40.420\nright hand corner of the server that\nindicates that it is actually authorized.\n\n76\n00:03:40.420 --> 00:03:43.640\nThough it's very small probably almost\nimpossible for you to see on the screen.\n\n77\n00:03:43.640 --> 00:03:46.870\nIf we did have to unauthorize for\nany reason, we could obviously do that.\n\n78\n00:03:46.870 --> 00:03:51.310\nClick Unauthorize, put the system\ninto an unauthorized, inactive state.\n\n79\n00:03:51.310 --> 00:03:53.100\nIt will not hand out IP addresses.\n\n80\n00:03:53.100 --> 00:03:56.310\nThe DHCP service, in other words,\nwill stop working, and\n\n81\n00:03:56.310 --> 00:03:59.140\nwill not restart until we\nauthorize the server again.\n\n82\n00:03:59.140 --> 00:04:01.360\nAnd that would be what we could do.\n\n83\n00:04:01.360 --> 00:04:04.420\nNow, we can configure the HTTP\nserver while it's on authorize.\n\n84\n00:04:04.420 --> 00:04:06.800\nWe can work with the settings,\nlook at properties,\n\n85\n00:04:06.800 --> 00:04:10.220\nset things up but we will not be able to\nactually turn the DHCP service on and\n\n86\n00:04:10.220 --> 00:04:13.280\ngo live with it and work with it,\nunless it is authorized.\n\n87\n00:04:13.280 --> 00:04:15.700\nAnd one of the things that just\nmay come up and you never know,\n\n88\n00:04:15.700 --> 00:04:19.790\nthese things do happen if you're trying\nto authorize the DHCP server and if for\n\n89\n00:04:19.790 --> 00:04:22.180\nsome reason it's not working,\nnot communicating.\n\n90\n00:04:22.180 --> 00:04:24.205\nPerhaps, you'd never know\nthese things can occur,\n\n91\n00:04:24.205 --> 00:04:27.310\noccurred to me while we were setting this\nup, so I'm sharing with you, because we\n\n92\n00:04:27.310 --> 00:04:30.102\ndid have a little bit of a technical\nissue behind the scenes trying to get-\n\n93\n00:04:30.102 --> 00:04:30.945\n&gt;&gt; And how did you get around that, Adam?\n\n94\n00:04:30.945 --> 00:04:32.950\n&gt;&gt; And so how do we get around that?\n\n95\n00:04:32.950 --> 00:04:33.590\nGreat question.\n\n96\n00:04:33.590 --> 00:04:36.380\nSo, you experience is\nalways very important.\n\n97\n00:04:36.380 --> 00:04:39.410\nSo we try to share with you things\nthat could go wrong in the real world,\n\n98\n00:04:39.410 --> 00:04:42.640\nshare with you and tell you About\nthings that you may or may not see.\n\n99\n00:04:42.640 --> 00:04:47.070\nSo I was trying to configure this,\nthe second time around, if you will,\n\n100\n00:04:47.070 --> 00:04:50.900\njust getting the console recreated for\nus to use for this episode.\n\n101\n00:04:50.900 --> 00:04:51.930\nAnd I was having a problem.\n\n102\n00:04:51.930 --> 00:04:54.090\nI could not get the to authorize.\n\n103\n00:04:54.090 --> 00:04:55.140\nWasn't sure what was going on.\n\n104\n00:04:55.140 --> 00:04:56.520\nDid a little troubleshooting.\n\n105\n00:04:56.520 --> 00:04:59.710\nFigured out that the domain\ncontroller had stopped communicating.\n\n106\n00:04:59.710 --> 00:05:00.700\nActually had crashed.\n\n107\n00:05:00.700 --> 00:05:03.040\nIt wasn't available,\nit was a service problem.\n\n108\n00:05:03.040 --> 00:05:06.210\nAnd because of that, we were not able\nto authorize, so I went ahead and\n\n109\n00:05:06.210 --> 00:05:07.385\nreset everything.\n\n110\n00:05:07.385 --> 00:05:08.995\nReset the domain controller,\nbrought it back up.\n\n111\n00:05:08.995 --> 00:05:10.755\nIn other words, made sure it was working.\n\n112\n00:05:10.755 --> 00:05:14.305\nOnce we re established that\ncommunication pathway, DHCP was fine.\n\n113\n00:05:14.305 --> 00:05:16.295\nSo authorization was a big deal.\n\n114\n00:05:16.295 --> 00:05:18.265\nWe often tend to just gloss over that.\n\n115\n00:05:18.265 --> 00:05:19.535\nYeah, we'll just authorize it.\n\n116\n00:05:19.535 --> 00:05:20.485\nNo big deal.\n\n117\n00:05:20.485 --> 00:05:23.685\nBut it is important to know, and also\nimportant to know how to troubleshoot.\n\n118\n00:05:23.685 --> 00:05:27.025\nAnd the primary issue there would be\nlack of communication between us and\n\n119\n00:05:27.025 --> 00:05:29.850\nthe domain controller or\ncontrollers, obviously.\n\n120\n00:05:29.850 --> 00:05:31.160\nThere is more than one.\n\n121\n00:05:31.160 --> 00:05:34.490\nYou are spreading your chances out that\nyou wanna have a communication problem in\n\n122\n00:05:34.490 --> 00:05:35.440\nour lab environment.\n\n123\n00:05:35.440 --> 00:05:37.130\nWe run one domain\ncontroller traditionally.\n\n124\n00:05:37.130 --> 00:05:40.104\nSo for us, it's a little bit\nmore important when that one\n\n125\n00:05:40.104 --> 00:05:42.986\ndomain stops working,\na little bit harder to get things done.\n\n126\n00:05:42.986 --> 00:05:47.150\nSo we overcame that when there are trouble\nand As a result, we're able to authorize.\n\n127\n00:05:47.150 --> 00:05:48.010\nAnd now that we've done that.\n\n128\n00:05:48.010 --> 00:05:52.290\nWhat we're going to do,\nlet's take a look at the IPv4 area here.\n\n129\n00:05:52.290 --> 00:05:54.390\nI do have a green circle\nhere with a white check,\n\n130\n00:05:54.390 --> 00:05:57.260\nindicating that I've configured\nat least one scope and\n\n131\n00:05:57.260 --> 00:06:02.410\nyou could see I do have a scope\nalready setup, 192.168.0.0 scope one.\n\n132\n00:06:02.410 --> 00:06:07.390\nIPv6 right now no, although you can see\nhere that we don't have any scope options.\n\n133\n00:06:07.390 --> 00:06:08.568\nBut we do have the ability to create one.\n\n134\n00:06:08.568 --> 00:06:10.808\nAnd we'll just talk about\nwhat scopes on how they work.\n\n135\n00:06:10.808 --> 00:06:13.305\nSo, I'm going to go into IPV4.\n\n136\n00:06:13.305 --> 00:06:15.045\nLet's at least examine\nthe scope we've created.\n\n137\n00:06:15.045 --> 00:06:16.655\nThen we'll go ahead and\ncreate another one.\n\n138\n00:06:16.655 --> 00:06:20.525\nBecause we need to have two scopes to set\nup our super scope joining two scopes\n\n139\n00:06:20.525 --> 00:06:22.445\ntogether, into one big scope.\n\n140\n00:06:22.445 --> 00:06:25.255\nWe'll take a look at how to do\nthat in just a couple of minutes.\n\n141\n00:06:25.255 --> 00:06:28.325\nAfter we get the second scope set up,\nwe'll create a multi-task scope.\n\n142\n00:06:28.325 --> 00:06:29.705\nJust to show you what\ndifferent scopes are.\n\n143\n00:06:29.705 --> 00:06:31.235\nAnd then we're gonna go ahead and\n\n144\n00:06:31.235 --> 00:06:32.975\nconfigure some additional\nsettings in here.\n\n145\n00:06:32.975 --> 00:06:33.819\nNeed protection and some other stuff.\n\n146\n00:06:33.819 --> 00:06:37.927\nSo, IP V 4, our first scope here,\nlet's open this up, and\n\n147\n00:06:37.927 --> 00:06:41.166\nthis is under the scope\nwe do have some options.\n\n148\n00:06:41.166 --> 00:06:44.438\nWe just move this over just a little bit,\nwe do have some options,\n\n149\n00:06:44.438 --> 00:06:48.187\nwe have our address pool, this is the\nrange of IP addresses that we signed on\n\n150\n00:06:48.187 --> 00:06:50.173\nthe scope that we can list and give out.\n\n151\n00:06:50.173 --> 00:06:52.998\n196.168.0.200 is 0 to 20.\n\n152\n00:06:52.998 --> 00:06:57.710\nSo I've gotta scope with approximately\n20 addresses available for it and\n\n153\n00:06:57.710 --> 00:07:00.620\nyou could see I could highlight that here.\n\n154\n00:07:00.620 --> 00:07:02.510\nWhen I right-click, I can refresh if for\n\n155\n00:07:02.510 --> 00:07:06.470\nsome reason maybe actively leasing\naddresses that scope may go up or\n\n156\n00:07:06.470 --> 00:07:10.320\ndown and may have added to and things like\nthat, so I could check the status of it.\n\n157\n00:07:10.320 --> 00:07:12.220\nI do have an Action menu over here.\n\n158\n00:07:12.220 --> 00:07:15.760\nI can take action with various\ncapabilities depending on what I'm\n\n159\n00:07:15.760 --> 00:07:16.850\nlooking to manage.\n\n160\n00:07:16.850 --> 00:07:19.220\nThe active leases that have been\ngiven out will show up here.\n\n161\n00:07:19.220 --> 00:07:22.740\nI'm not using the scope currently,\nno machines that are currently actively\n\n162\n00:07:22.740 --> 00:07:26.480\nlooking for a DHCP address, but if there\nwere, I'd have a record of them here.\n\n163\n00:07:26.480 --> 00:07:31.230\nWe mentioned reservations in the last\nepisode, if I did create a reservation\n\n164\n00:07:31.230 --> 00:07:34.600\nusing the MAC address of a machine\nto hardcode and reserve one or\n\n165\n00:07:34.600 --> 00:07:38.040\nmore IP addresses, give them out and\ndedicate them to that machine,\n\n166\n00:07:38.040 --> 00:07:41.300\nensuring that machine will\nget that specific address.\n\n167\n00:07:41.300 --> 00:07:43.765\nI would see them here and\nI can do that if I need to.\n\n168\n00:07:43.765 --> 00:07:47.562\nRight-click new reservation,\nspecify as you can see here,\n\n169\n00:07:47.562 --> 00:07:51.293\nlet's just pull this over,\nspecify the reservation name.\n\n170\n00:07:51.293 --> 00:07:55.722\nMaybe Server 12, R2 File or whatever,\nso I know what machine it is.\n\n171\n00:07:55.722 --> 00:07:57.114\nIt's really just a descriptive tag.\n\n172\n00:07:57.114 --> 00:08:00.570\nThe thing that identifies the machine\nuniquely is the Mac address.\n\n173\n00:08:00.570 --> 00:08:04.668\nAnd so we'd have to know the Mac address\nof the machine that we want to rent or\n\n174\n00:08:04.668 --> 00:08:06.050\ngive that IP address to.\n\n175\n00:08:06.050 --> 00:08:10.470\nWe would specify the IP address out of\nthe scope range that we want to give.\n\n176\n00:08:10.470 --> 00:08:13.990\nSo maybe you know from 0-220,\nmaybe we want to lease or\n\n177\n00:08:13.990 --> 00:08:16.128\ngive to that machine number 5.\n\n178\n00:08:16.128 --> 00:08:21.627\nRight so specify the IP address we\nwant to give out the MAC address and\n\n179\n00:08:21.627 --> 00:08:25.976\nthen as a result allow us to be\nable to add that reservation in.\n\n180\n00:08:25.976 --> 00:08:27.698\nAnd then when that machine shows up,\n\n181\n00:08:27.698 --> 00:08:30.820\nidentifies itself through\nthe requests process we went through.\n\n182\n00:08:30.820 --> 00:08:34.280\nEither Dora or\nRosa as we discussed in the last episode,\n\n183\n00:08:34.280 --> 00:08:36.210\nhow we give that IP address out.\n\n184\n00:08:36.210 --> 00:08:37.210\nGood morning how are you?\n\n185\n00:08:37.210 --> 00:08:37.815\nNice to see you.\n\n186\n00:08:37.815 --> 00:08:39.070\n&gt;&gt; [LAUGH]\n&gt;&gt; We'll get to Cherokee's\n\n187\n00:08:39.070 --> 00:08:39.750\nquestion in just a sec.\n\n188\n00:08:39.750 --> 00:08:41.162\nShe's waving at me she\nwants to say something.\n\n189\n00:08:41.162 --> 00:08:45.289\nBut as soon as we get through that, part\nof that resolution process will be the MAC\n\n190\n00:08:45.289 --> 00:08:47.960\naddress, is going to be identified for\nthe sender,\n\n191\n00:08:47.960 --> 00:08:51.664\nthe requester of the address will look\nthrough our records match them and\n\n192\n00:08:51.664 --> 00:08:55.669\nsay look, This is a machine that gets\nthis IP and will dedicate that IP to that\n\n193\n00:08:55.669 --> 00:08:59.191\nmachine as opposed to just simply\nliterally pulling the first one off\n\n194\n00:08:59.191 --> 00:09:03.780\nthe top of the scope that's available and\nround robin-ing through those as we go.\n\n195\n00:09:03.780 --> 00:09:07.630\nNot randomly, but pseudo randomly\nassigning addresses in the sense that\n\n196\n00:09:07.630 --> 00:09:09.750\nwe won't be guaranteed\nthe one we've specified,\n\n197\n00:09:09.750 --> 00:09:11.990\nwe want but rather simply get\nthe next one up in the list.\n\n198\n00:09:11.990 --> 00:09:16.724\nSo reservations actually do play\na very important part in what we do\n\n199\n00:09:16.724 --> 00:09:18.422\nwhen we are using DHCP.\n\n200\n00:09:18.422 --> 00:09:22.717\nBut do you want to give out a specific IP\naddress to a machine for name resolution,\n\n201\n00:09:22.717 --> 00:09:27.283\nidentification, service purposes, whatever\nthe reason may be behind the scenes.\n\n202\n00:09:27.283 --> 00:09:28.311\nYeah.\n&gt;&gt; Yeah, so\n\n203\n00:09:28.311 --> 00:09:32.510\nI just wanted to highlight that in\ncontrast to that random IP assignment.\n\n204\n00:09:32.510 --> 00:09:37.251\nWhen you're sending these reservations,\nit can become pretty handy because you\n\n205\n00:09:37.251 --> 00:09:41.802\ncan control logically the IP addresses\nto help you remember certain devices.\n\n206\n00:09:41.802 --> 00:09:45.078\nSo let's say I have a particular\nrange of five printers, and\n\n207\n00:09:45.078 --> 00:09:49.127\nthen I number them sequentially,\nthen I will know when troubleshooting,\n\n208\n00:09:49.127 --> 00:09:54.550\nit just makes things a little bit easier\nif you use this concept to your advantage.\n\n209\n00:09:54.550 --> 00:09:58.230\n&gt;&gt; It's a great thought process and\na great way to think about this because\n\n210\n00:09:58.230 --> 00:10:00.740\nit does give us many,\nmany capabilities, right.\n\n211\n00:10:00.740 --> 00:10:01.990\nTroubleshooting is one,\n\n212\n00:10:01.990 --> 00:10:04.620\nvery important to be able to think\nabout what machines are out there.\n\n213\n00:10:04.620 --> 00:10:06.850\nKeep in mind, especially today, and\n\n214\n00:10:06.850 --> 00:10:09.860\nwe talk about this in a lot of\ndifferent areas, but with the advent of\n\n215\n00:10:09.860 --> 00:10:14.070\nlarger enterprise solutions,\nmeaning very massively scaled systems,\n\n216\n00:10:14.070 --> 00:10:17.090\na lot of virtualization, and\nparticular in the cloud today.\n\n217\n00:10:17.090 --> 00:10:20.500\nWe may have so many machines running and\nnot just running but\n\n218\n00:10:20.500 --> 00:10:22.040\nrunning a different geographies, right?\n\n219\n00:10:22.040 --> 00:10:26.360\nDifferent physical locations, where we may\nnot always have IT staff on the ground.\n\n220\n00:10:26.360 --> 00:10:29.330\nWe may have to easily able\nto go in physically or\n\n221\n00:10:29.330 --> 00:10:32.800\nremotely put our hands on the box,\ninteract with it to see what's there.\n\n222\n00:10:32.800 --> 00:10:35.150\nAnd it can give us an economy\nof skill advantage.\n\n223\n00:10:35.150 --> 00:10:36.090\nAs you're pointing out.\n\n224\n00:10:36.090 --> 00:10:38.760\nTo be able to administer this\ndistributed infrastructure.\n\n225\n00:10:38.760 --> 00:10:40.370\nThat seems to be the norm more and\nmore today.\n\n226\n00:10:40.370 --> 00:10:44.070\nSo it's a really good opportunity for you\nto think about how to leverage the skills.\n\n227\n00:10:44.070 --> 00:10:48.080\nAnd the tools available to you with DHCP,\nto your advantage, as Cherokee points out,\n\n228\n00:10:48.080 --> 00:10:49.250\nit's a great way to think about that.\n\n229\n00:10:49.250 --> 00:10:53.630\nI had scope options, so we have the\nability here to specify different options.\n\n230\n00:10:53.630 --> 00:10:55.720\nYou can see there's a couple already here.\n\n231\n00:10:55.720 --> 00:11:01.395\nThe DNS server has been specified,\n192.168.0.1, the DNS domain name,\n\n232\n00:11:01.395 --> 00:11:04.830\nPracticeLabs.com, we can tell that\njust by looking over here and\n\n233\n00:11:04.830 --> 00:11:09.090\nseeing the instance name for the DNS, or\nrather, excuse me, for the DHCP server.\n\n234\n00:11:09.090 --> 00:11:12.736\nBut we can see that, and\nwe see also interestingly right and\n\n235\n00:11:12.736 --> 00:11:15.900\nimportant that the options have\nnumbers associated with them.\n\n236\n00:11:15.900 --> 00:11:19.430\nA little bit hard to see, but\nyou could see 006 for DNS servers,\n\n237\n00:11:19.430 --> 00:11:22.790\n015 for DNS domain name.\n\n238\n00:11:22.790 --> 00:11:26.580\nThese are going to be\noptions that are identified\n\n239\n00:11:26.580 --> 00:11:31.010\nby the number that we are assigning\nthem so that we know what they are.\n\n240\n00:11:31.010 --> 00:11:35.742\n081 is gonna be the enabled DNS dynamic\nupdate option that we've talked about.\n\n241\n00:11:35.742 --> 00:11:37.440\nAnd we're gonna show you\nhere in a few minutes.\n\n242\n00:11:37.440 --> 00:11:40.190\nSo when we create scope options,\nwe assign them,\n\n243\n00:11:40.190 --> 00:11:42.260\nwe program in whatever\ninformation we need.\n\n244\n00:11:42.260 --> 00:11:45.900\nBut there is a numerical identifier\nthat uniquely identifies each option\n\n245\n00:11:45.900 --> 00:11:49.540\nthat is used to track that option and\nensure we're providing it the right way.\n\n246\n00:11:49.540 --> 00:11:52.780\nAnd so we can right click and configure\noptions just to see what they are.\n\n247\n00:11:52.780 --> 00:11:54.802\nAnd we'll take a look here quickly.\n\n248\n00:11:54.802 --> 00:11:57.374\nWe'll just put this down below\nthe options that are there,\n\n249\n00:11:57.374 --> 00:11:58.874\nso you can kind of see both at once.\n\n250\n00:11:58.874 --> 00:12:02.148\nAnd you will see 002 time offset,\n003 router,\n\n251\n00:12:02.148 --> 00:12:05.980\npretty traditional common one ride for\ndefault gateway.\n\n252\n00:12:05.980 --> 00:12:10.190\nOur time servers if we are using NTP for\ninstance would be there.\n\n253\n00:12:10.190 --> 00:12:14.960\nName servers for resolutions 005 DNS,\nlog service, etc,\n\n254\n00:12:14.960 --> 00:12:20.590\nyou could see every one of them has it's\nown unique, numerical identifier and\n\n255\n00:12:20.590 --> 00:12:23.340\nas we scroll down, if we go all\nthe way down towards the bottom here,\n\n256\n00:12:23.340 --> 00:12:28.050\nthere are different options,\nnot every one is sequential.\n\n257\n00:12:28.050 --> 00:12:29.770\nYou'll see we jump from 0 to 76 to 121,\n\n258\n00:12:29.770 --> 00:12:33.580\ncause there's a bunch in the middle\nthat we're not assigning.\n\n259\n00:12:33.580 --> 00:12:35.680\nSo, we just wanna make\nsure we're aware of that.\n\n260\n00:12:35.680 --> 00:12:39.230\nAll of these will have different values.\n\n261\n00:12:39.230 --> 00:12:40.140\nYou could see down here.\n\n262\n00:12:40.140 --> 00:12:45.096\nFor instance, when I do time offset,\nif I select that, I can put in a value,\n\n263\n00:12:45.096 --> 00:12:49.911\nwhereas when I select router,\nyou'll see the value entry is different.\n\n264\n00:12:49.911 --> 00:12:51.965\nI have to put in an IP address,\na server name,\n\n265\n00:12:51.965 --> 00:12:55.491\nyour different information based on\nthe kind of option that I'm selecting.\n\n266\n00:12:55.491 --> 00:12:59.190\nSo just wanna make sure we're aware of\nthat and we have those standard options.\n\n267\n00:12:59.190 --> 00:13:04.240\nAs you can see we have Microsoft options,\nMicrosoft Windows 2000 options, and\n\n268\n00:13:04.240 --> 00:13:06.600\nWindows 98 options for older systems,\n\n269\n00:13:06.600 --> 00:13:08.795\nprobably not gonna be using\nthose to often these days.\n\n270\n00:13:08.795 --> 00:13:10.648\nBut you would do still do\nhave old infrastructure.\n\n271\n00:13:10.648 --> 00:13:12.555\nIt's important to be aware of that and\nknow that.\n\n272\n00:13:12.555 --> 00:13:17.610\nBut certainly under Microsoft options, we\nhave options specific that we can specify.\n\n273\n00:13:17.610 --> 00:13:20.725\nAnd you'll see this is just a very\nconstrained, small list there.\n\n274\n00:13:20.725 --> 00:13:23.785\nBut if we go with the standard options,\nmuch broader.\n\n275\n00:13:23.785 --> 00:13:25.655\nIf we go with Windows 2000,\n\n276\n00:13:25.655 --> 00:13:29.330\npretty much the standard list that\nlooks very similar to Microsoft.\n\n277\n00:13:29.330 --> 00:13:32.300\nBut they are specific to older systems.\n\n278\n00:13:32.300 --> 00:13:36.430\nSame thing with Windows 98, you'll see we\nhave no options on the advance side for\n\n279\n00:13:36.430 --> 00:13:38.050\nWindows 98.\n\n280\n00:13:38.050 --> 00:13:40.380\nSo it just depends on the OS and\nthe choices we're making.\n\n281\n00:13:40.380 --> 00:13:42.670\nBut we do have different\ncapabilities here,\n\n282\n00:13:42.670 --> 00:13:44.470\nwe can then specify different settings.\n\n283\n00:13:44.470 --> 00:13:45.890\nSo we're gonna just cancel out of that.\n\n284\n00:13:45.890 --> 00:13:48.620\nIf we do wanna take a look at.\n\n285\n00:13:48.620 --> 00:13:50.830\nI mean one of the ones that's\nalready been provisioned out.\n\n286\n00:13:50.830 --> 00:13:54.030\nJust right click, go to properties,\nwe can simply see that setting and\n\n287\n00:13:54.030 --> 00:13:57.580\nsee what it's set for so we can go in and\ninteract with that directly.\n\n288\n00:13:57.580 --> 00:13:59.150\nSo we see our scope options.\n\n289\n00:13:59.150 --> 00:14:03.010\nIf we do have any policies associated\nwith the scope, we can see them here,\n\n290\n00:14:03.010 --> 00:14:05.170\nright now there are no policies assigned.\n\n291\n00:14:05.170 --> 00:14:09.570\nBut if we want to create a policy,\nyou could see for instance here let's just\n\n292\n00:14:09.570 --> 00:14:16.500\ncall this, IT Pro TV Paul One right,\nand we'll give it a little description.\n\n293\n00:14:16.500 --> 00:14:20.100\nBuy you'll see this feature allows us\nto distribute configurable settings so\n\n294\n00:14:20.100 --> 00:14:24.210\nyou IP DHCP option to clients\nbased on certain conditions.\n\n295\n00:14:24.210 --> 00:14:28.210\nMeeting things like vendor class,\nmac address, user class, etc.\n\n296\n00:14:28.210 --> 00:14:33.180\nSo we can hone in on certain systems with\npolicies and say, this configuration,\n\n297\n00:14:33.180 --> 00:14:38.490\nthis machine with these options, this mac\naddress or from this mac address class\n\n298\n00:14:38.490 --> 00:14:42.935\nI wanna give these particular IP addresses\ntoo and this policy we'll do a comparison.\n\n299\n00:14:42.935 --> 00:14:45.683\nIt's almost like a firewall rule,\nare we compliant or are we not.\n\n300\n00:14:45.683 --> 00:14:48.105\nAnd if we are,\nwe get the IP address, if we're not,\n\n301\n00:14:48.105 --> 00:14:50.240\nwe ignore the policy and we don't assign.\n\n302\n00:14:50.240 --> 00:14:52.730\nSo we could use policies, as well.\n\n303\n00:14:52.730 --> 00:14:54.650\nSo we go through, we click next here.\n\n304\n00:14:54.650 --> 00:14:57.510\nWe then have to specify conditions for\nthe policy.\n\n305\n00:14:57.510 --> 00:14:59.655\nJust move this over just a touch.\n\n306\n00:14:59.655 --> 00:15:02.589\nAnd so you'll see here,\nwe can stack up conditions.\n\n307\n00:15:02.589 --> 00:15:05.015\nWe will click add here\nin a minute to show you.\n\n308\n00:15:05.015 --> 00:15:06.465\nBut we could do and/or.\n\n309\n00:15:06.465 --> 00:15:09.555\nSo we could say three or\nfour sets of conditions.\n\n310\n00:15:09.555 --> 00:15:10.435\nMix and match.\n\n311\n00:15:10.435 --> 00:15:14.342\nDo all of them,\nyour cumulative and, or do any one.\n\n312\n00:15:14.342 --> 00:15:15.322\nLike any one of these four.\n\n313\n00:15:15.322 --> 00:15:17.212\nThis, or this, or this, or this.\n\n314\n00:15:17.212 --> 00:15:20.382\nYou ever use these when you're\nsetting stuff up, your IP policies?\n\n315\n00:15:20.382 --> 00:15:22.202\n&gt;&gt; Not necessarily here, but\n\n316\n00:15:22.202 --> 00:15:28.772\nit's almost reminiscent of WIM\nconfigurations but not necessarily.\n\n317\n00:15:28.772 --> 00:15:32.790\nWhen you're setting it based on\ncertain requirements like hardware so.\n\n318\n00:15:32.790 --> 00:15:36.990\n&gt;&gt; And we may want to just explain what\na WIM, a .WIM is specifically, right?\n\n319\n00:15:36.990 --> 00:15:41.170\nSo, a .WIM, or WIM, as Cherokee is talking\nabout it, is a Windows Image Format.\n\n320\n00:15:41.170 --> 00:15:43.720\nRight?\nIt's the .WIM extension for formatting or\n\n321\n00:15:43.720 --> 00:15:46.856\nfor images that are used with SECM,\nfor instance.\n\n322\n00:15:46.856 --> 00:15:49.109\n&gt;&gt; No.\nYes, WMI.\n\n323\n00:15:49.109 --> 00:15:49.717\nI'm sorry.\n\n324\n00:15:49.717 --> 00:15:50.827\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Cause you said WIM, that's why i make.\n\n325\n00:15:50.827 --> 00:15:52.058\nYou're talking about WMI's.\n\n326\n00:15:52.058 --> 00:15:53.049\n&gt;&gt; WMI, yes.\n\n327\n00:15:53.049 --> 00:15:54.230\n&gt;&gt; WMI's, or\n\n328\n00:15:54.230 --> 00:15:57.472\nWQL, WMI query language [LAUGH]\n&gt;&gt; Well,\n\n329\n00:15:57.472 --> 00:15:58.560\nwhich is probably what\nwe're talking about.\n\n330\n00:15:58.560 --> 00:15:59.321\n&gt;&gt; Acronyms, yes.\n\n331\n00:15:59.321 --> 00:16:02.220\n&gt;&gt; Just wanna make sure cuz I wasn't\nfamiliar with the whole WIM thing.\n\n332\n00:16:02.220 --> 00:16:04.245\nBut I was wondering where\nyou'll go with that.\n\n333\n00:16:04.245 --> 00:16:05.310\n&gt;&gt; [LAUGH]\n&gt;&gt; All right so,\n\n334\n00:16:05.310 --> 00:16:09.170\nlet's scratch WIM reference cuz that's\nreally not appropriate for this.\n\n335\n00:16:09.170 --> 00:16:12.830\nThere is a tie in to what Cherokee\nwas talking about with WIM images but\n\n336\n00:16:12.830 --> 00:16:14.850\nit's really more about the task scheduler,\nright.\n\n337\n00:16:14.850 --> 00:16:17.380\nAnd how we go through the task sequence or\nrather how we go through and\n\n338\n00:16:17.380 --> 00:16:22.330\ncreate images and how we could actually\ncreate specific policy attributes we\n\n339\n00:16:22.330 --> 00:16:25.780\nhave to match in that task sequencer to\nbe able to deploy an image a certain way.\n\n340\n00:16:25.780 --> 00:16:28.990\nSo there is a reference that\nwould make sense here but\n\n341\n00:16:28.990 --> 00:16:33.470\nWMI in terms of maybe doing the WQL,\na WMI query and\n\n342\n00:16:33.470 --> 00:16:35.910\ntrying to figure out the status\nof something, say yes or no.\n\n343\n00:16:35.910 --> 00:16:38.679\nAnd then deploying something or\nconfiguring something based on\n\n344\n00:16:38.679 --> 00:16:42.070\nthat would be also a good way of thinking\nabout this from a policy perspective.\n\n345\n00:16:42.070 --> 00:16:44.454\nSo either one, high-five,\nthat was like a good, that was a good one.\n\n346\n00:16:44.454 --> 00:16:45.832\n&gt;&gt; [LAUGH]\n&gt;&gt; All right,\n\n347\n00:16:45.832 --> 00:16:47.490\nyou got two W's out of that one.\n\n348\n00:16:47.490 --> 00:16:48.955\n&gt;&gt; I didn't even mean to, yeah.\n\n349\n00:16:48.955 --> 00:16:49.660\n&gt;&gt; All right, so good.\n\n350\n00:16:49.660 --> 00:16:53.170\nLet's just go through and\nsee how we add a policy condition here.\n\n351\n00:16:53.170 --> 00:16:58.110\nSo criteria, we have different\noptions a vendor class, user class,\n\n352\n00:16:58.110 --> 00:17:01.920\nmac address, you'll see here\nfully qualified domain name.\n\n353\n00:17:01.920 --> 00:17:02.820\nRight?\nSo,\n\n354\n00:17:02.820 --> 00:17:06.700\nwe can say with a fully qualified domain\nname equal to, we specify the value.\n\n355\n00:17:06.700 --> 00:17:09.180\nWe could say if it matches\nthis machine name,\n\n356\n00:17:09.180 --> 00:17:11.210\nwe would then give it this address, right?\n\n357\n00:17:11.210 --> 00:17:13.680\nSo we could set up all\nthese different things and\n\n358\n00:17:13.680 --> 00:17:15.660\nits really just a very quick comparison.\n\n359\n00:17:15.660 --> 00:17:17.100\nHey, do you meet this criteria?\n\n360\n00:17:17.100 --> 00:17:18.210\nDo you meet these conditions?\n\n361\n00:17:18.210 --> 00:17:19.940\nIf so, let's give you something.\n\n362\n00:17:19.940 --> 00:17:21.690\nIf you don't, thank you for playing.\n\n363\n00:17:21.690 --> 00:17:23.650\nCome back and we'll try another time.\n\n364\n00:17:23.650 --> 00:17:25.486\nSo we go through and\nfigure this stuff out.\n\n365\n00:17:25.486 --> 00:17:31.662\nWe would specify what this is,\nthe value maybe something like\n\n366\n00:17:31.662 --> 00:17:36.906\nlet's say, adpl.com, if that's our name.\n\n367\n00:17:36.906 --> 00:17:40.330\nAnd click Add or whatever it may be.\n\n368\n00:17:40.330 --> 00:17:42.710\nWe could do a prefix with a wildcard,\na pen wildcard,\n\n369\n00:17:42.710 --> 00:17:44.260\nlet's do all sorts of different things.\n\n370\n00:17:44.260 --> 00:17:46.740\nSo we wanna set that equal to that,\nso we'll say, okay, great.\n\n371\n00:17:46.740 --> 00:17:50.140\nYou gotta match that or\nmatch something else, right?\n\n372\n00:17:50.140 --> 00:17:51.077\nSo we'll do another one.\n\n373\n00:17:51.077 --> 00:17:59.660\nAnd maybe another one would be another\none on this one will be ITPro.TV, right.\n\n374\n00:17:59.660 --> 00:18:03.410\nWe have different domains or\nfully qualified domain names.\n\n375\n00:18:03.410 --> 00:18:08.230\nAnd so we could put in those and\nsay okay, equal to either one match or\n\n376\n00:18:08.230 --> 00:18:11.110\nmust be equal to both clearly,\ncan't be equal to both at the same time.\n\n377\n00:18:11.110 --> 00:18:14.760\nSo that would be a bad way to set\nthis up for doing just FQDNs,\n\n378\n00:18:14.760 --> 00:18:15.760\nbut you get the idea.\n\n379\n00:18:15.760 --> 00:18:19.541\nWe can stack this up, build up a logic,\nwhen we're done, we then specify,\n\n380\n00:18:19.541 --> 00:18:24.050\nkind of say okay good that's there, that's\nwhat we're gonna do, let's click finish.\n\n381\n00:18:24.050 --> 00:18:26.020\nAnd now, we have our policy there, and\n\n382\n00:18:26.020 --> 00:18:29.126\nthe our policy as you can see is\nenabled works for this scope and\n\n383\n00:18:29.126 --> 00:18:32.501\nwould then govern the granting of\nIP addresses against the scope.\n\n384\n00:18:32.501 --> 00:18:36.567\nIf I want to deactivate of disable\nthe policy I can remove it no\n\n385\n00:18:36.567 --> 00:18:40.820\nbig deal I could disable it or\nI could simply go in and delete it.\n\n386\n00:18:40.820 --> 00:18:44.020\nWe are gonna delete in this case cuz don't\nwant it getting in the way of some of\n\n387\n00:18:44.020 --> 00:18:47.550\nthe stuff we're gonna do here over\nthe next few minutes with the other scope.\n\n388\n00:18:47.550 --> 00:18:49.000\nBut you could see how we would create one.\n\n389\n00:18:49.000 --> 00:18:51.816\nIn case, you've never seen that before,\nbe good for you to walk through and\n\n390\n00:18:51.816 --> 00:18:53.100\nobviously look at these options.\n\n391\n00:18:53.100 --> 00:18:53.974\nGet a sense of them.\n\n392\n00:18:53.974 --> 00:18:58.262\nPractice doing what we're doing be\ncomfortable with not only how to do it but\n\n393\n00:18:58.262 --> 00:19:02.617\nunderstand the why right it's really\nimportant to why we would use the policy\n\n394\n00:19:02.617 --> 00:19:06.637\nwhat's the value there to an administrator\nwho's looking to set up and\n\n395\n00:19:06.637 --> 00:19:09.183\nconfigure the management\nof IP addresses and\n\n396\n00:19:09.183 --> 00:19:12.780\nbe able to extend that capability\nout to systems coming in.\n\n397\n00:19:12.780 --> 00:19:17.210\nBut to do so, in a conditional comparison\ndriven way as opposed to just saying hey,\n\n398\n00:19:17.210 --> 00:19:19.480\nhere's an address whether you\nbelong here or not, right?\n\n399\n00:19:19.480 --> 00:19:20.380\nAnd giving them out.\n\n400\n00:19:20.380 --> 00:19:24.000\nThis lets us be a lot more granular\nin our approach to resolution or\n\n401\n00:19:24.000 --> 00:19:27.620\ntherefore, in this case,\nour approach to address resolution and\n\n402\n00:19:27.620 --> 00:19:30.580\ncreation of those addresses as\nleast addresses in the scope.\n\n403\n00:19:31.760 --> 00:19:35.740\n&gt;&gt; And\njust going with using those wind files,\n\n404\n00:19:35.740 --> 00:19:40.510\nthough, another way to selectively\npush configurations out,\n\n405\n00:19:40.510 --> 00:19:42.250\nI'm not saying that you\nhave to do it that way.\n\n406\n00:19:42.250 --> 00:19:46.730\nBut something that I've done in the past\nis working at a computer school.\n\n407\n00:19:46.730 --> 00:19:49.940\nIf I wanted a particular\nclassroom to go ahead and\n\n408\n00:19:49.940 --> 00:19:52.090\nhave a particular operation system.\n\n409\n00:19:52.090 --> 00:19:55.490\nMaybe I'm just upgrading, maybe I have\na special event that I'm training for\n\n410\n00:19:55.490 --> 00:19:59.410\nthat week that relies on\na particular operation system.\n\n411\n00:19:59.410 --> 00:20:03.390\nThen by utilizing that MAC address,\nyou could selectively pick and\n\n412\n00:20:03.390 --> 00:20:05.470\ndole those operating systems out.\n\n413\n00:20:05.470 --> 00:20:09.590\nHere, we're not talking about operating\nsystems but the same concept applies if I\n\n414\n00:20:09.590 --> 00:20:14.891\nhave again using this technology to\nmy advantage and I know I want these\n\n415\n00:20:14.891 --> 00:20:20.130\nparticular policies, set of rules applied\nto a particular geographic area or\n\n416\n00:20:20.130 --> 00:20:24.450\nsome kind of other logical grouping and\nthis would be a perfect solution for that.\n\n417\n00:20:24.450 --> 00:20:26.231\n&gt;&gt; It's another great way to think about,\nright?\n\n418\n00:20:26.231 --> 00:20:27.625\nWe get the flexibility and\n\n419\n00:20:27.625 --> 00:20:31.613\nthe capability to define how we want to\ndrive that leasing of IP addresses or\n\n420\n00:20:31.613 --> 00:20:34.800\nthat granting of them based on\na variety of values, right?\n\n421\n00:20:34.800 --> 00:20:38.907\nOr a variety of circumstances and\nspecifying an IP address that would then\n\n422\n00:20:38.907 --> 00:20:43.409\nbe used to image a certain set of machines\nbased on a subnet that we wanna put into,\n\n423\n00:20:43.409 --> 00:20:47.620\nhey, our Windows 10 clients will be\nin this class or in this subnet.\n\n424\n00:20:47.620 --> 00:20:50.390\nMaybe our Windows 8\nclients will be over here.\n\n425\n00:20:50.390 --> 00:20:52.340\nWhatever we're doing based\non what you were suggesting.\n\n426\n00:20:52.340 --> 00:20:54.840\nBe another great way to think\nabout carving up those scopes.\n\n427\n00:20:54.840 --> 00:20:57.440\nAnd speaking of carving up scopes,\nwhy don't we see how to create a scope?\n\n428\n00:20:57.440 --> 00:20:58.540\nYou've already seen one but\n\n429\n00:20:58.540 --> 00:21:00.805\nlet's actually take a look at\nhow to do this from Ground up.\n\n430\n00:21:00.805 --> 00:21:04.615\nSo we're gonna right click on IPv4,\ncreate another scope here.\n\n431\n00:21:04.615 --> 00:21:06.785\nYou've already got one as you saw\nthat we've been working with.\n\n432\n00:21:06.785 --> 00:21:09.605\nJust so we can walk through\nthe beginning of this conversation.\n\n433\n00:21:09.605 --> 00:21:12.485\nBut let's actually see how we put one in\nthere, because that is important as well.\n\n434\n00:21:12.485 --> 00:21:14.205\nSo we're gonna right click here.\n\n435\n00:21:14.205 --> 00:21:18.215\nGonna create a brand new scope so\nwe create as many of these as we need to.\n\n436\n00:21:18.215 --> 00:21:19.505\nStack up here.\n\n437\n00:21:19.505 --> 00:21:22.525\nSo let's go in, we'll use our new\nscope list and we'll create a new one.\n\n438\n00:21:22.525 --> 00:21:23.930\nSo let's click next.\n\n439\n00:21:23.930 --> 00:21:30.600\nLet's give this a name, gonna call this a\none scope one, we'll call this scope two.\n\n440\n00:21:30.600 --> 00:21:34.770\nITProTV scope two.\n\n441\n00:21:34.770 --> 00:21:39.110\nYou can describe this, use a little bit of\nmetadata to say what you want to do here.\n\n442\n00:21:39.110 --> 00:21:42.060\nCherokee's example, maybe this would\nbe called instead of scope two,\n\n443\n00:21:42.060 --> 00:21:44.460\nmaybe classroom two, something like that.\n\n444\n00:21:44.460 --> 00:21:48.100\nAnd description may be\nWindows Server 16 or Windows 10,\n\n445\n00:21:48.100 --> 00:21:50.000\ncuz maybe that's the client OS\nthat you’re going to image.\n\n446\n00:21:50.000 --> 00:21:53.880\nThere's a lot of different ways we could\nuse that description to our advantage.\n\n447\n00:21:53.880 --> 00:21:55.240\nJust keep that in mind.\n\n448\n00:21:55.240 --> 00:21:56.496\nWhat's the IP range going to be here?\n\n449\n00:21:56.496 --> 00:21:57.632\nLet me just look at my notes.\n\n450\n00:21:57.632 --> 00:21:59.714\nWe're going to do 1.200.\n\n451\n00:21:59.714 --> 00:22:02.482\n192:168.1.200.\n\n452\n00:22:02.482 --> 00:22:05.012\nWe did 0.200 to 220.\n\n453\n00:22:05.012 --> 00:22:08.432\nThis will be 1.200 and 1.220.\n\n454\n00:22:08.432 --> 00:22:11.232\nSo 192, 168.1.220.\n\n455\n00:22:11.232 --> 00:22:14.986\nSo we got another scope here, you know,\njust walking through different address\n\n456\n00:22:14.986 --> 00:22:17.610\nblocks we're going to assign,\nthat makes sense.\n\n457\n00:22:17.610 --> 00:22:21.840\nAgain I actually like a lot the whole\nclassroom analogy right because\n\n458\n00:22:21.840 --> 00:22:25.150\nthat could be extended to\noffices not just the classroom.\n\n459\n00:22:25.150 --> 00:22:27.340\n&gt;&gt; Sure.\n&gt;&gt; Maybe a floor in office if you have\n\n460\n00:22:27.340 --> 00:22:31.920\na multi floor office building or maybe\nby department or by function there's all\n\n461\n00:22:31.920 --> 00:22:35.470\nthese different ways you can imagine\nusing those scopes labeling them and\n\n462\n00:22:35.470 --> 00:22:39.590\ngiving out addresses based on the need or\nthe function of that system so\n\n463\n00:22:39.590 --> 00:22:41.840\nI like the analogy a lot\nbecause it's really scalable.\n\n464\n00:22:41.840 --> 00:22:44.460\nAnd we can make it flexible for\nanything we wanna do.\n\n465\n00:22:44.460 --> 00:22:48.570\nAnd remember, when we talk about hard\ncoded skills, you gotta know how to do\n\n466\n00:22:48.570 --> 00:22:51.640\nthis, it's important, I would say\nimportant for the exam, important for\n\n467\n00:22:51.640 --> 00:22:54.170\nyou to be aware of, important for\nyou to be able to do in the real world.\n\n468\n00:22:54.170 --> 00:22:58.570\nBut the concept of taking that knowledge\nand making it applicable to your\n\n469\n00:22:58.570 --> 00:23:01.150\nenvironment is really what Cherokee\nis pointing out we could do.\n\n470\n00:23:01.150 --> 00:23:04.700\nAnd that's probably one of the most\nimportant things that we can talk about,\n\n471\n00:23:04.700 --> 00:23:07.220\nbecause it's easy just\nto replicate what we do\n\n472\n00:23:07.220 --> 00:23:09.580\nwithout understanding how it\napplies in the real world.\n\n473\n00:23:09.580 --> 00:23:13.150\nIt's a lot harder to take that knowledge\nmake it youre own in your environment and\n\n474\n00:23:13.150 --> 00:23:16.270\nmake it unique to what you're doing and\nstill have it make sense.\n\n475\n00:23:16.270 --> 00:23:19.000\nAnd what Cherokee is pointing out\nis that exact thought process.\n\n476\n00:23:19.000 --> 00:23:21.830\nAnd that's probably one of the most\nimportant things we can show you and\n\n477\n00:23:21.830 --> 00:23:25.390\nremind you how to do is to apply\nthe knowledge contextually\n\n478\n00:23:25.390 --> 00:23:27.752\nto your environment, right,\nand really make it your own.\n\n479\n00:23:27.752 --> 00:23:29.038\nThat's gonna be very important.\n\n480\n00:23:29.038 --> 00:23:30.133\nAll right, so we've got that.\n\n481\n00:23:30.133 --> 00:23:33.132\nWanna take note of the fact that we do\nhave to specify the appropriate subnet\n\n482\n00:23:33.132 --> 00:23:34.000\nmask here, right.\n\n483\n00:23:34.000 --> 00:23:35.079\nWhatever that's gonna be.\n\n484\n00:23:35.079 --> 00:23:39.918\nI'll keep in mind, traditionally we're\nusing a class C subnet mask slash 24.\n\n485\n00:23:39.918 --> 00:23:45.210\nSo, 255, 255, 255, 0 makes sense\ngiven the IP range we're using.\n\n486\n00:23:45.210 --> 00:23:48.215\nBut, don't overlook the fact\nthat those IP addresses and\n\n487\n00:23:48.215 --> 00:23:50.433\nthose subnets have to match up logically.\n\n488\n00:23:50.433 --> 00:23:53.204\nNot saying gotta use default subnet\nmasks for everything, right,\n\n489\n00:23:53.204 --> 00:23:56.663\nwe can obviously use super netting, we can\nuse classless internet domain routing.\n\n490\n00:23:56.663 --> 00:23:59.381\nAll sorts of stuff,\nbit-splitting could borrow bits.\n\n491\n00:23:59.381 --> 00:24:00.630\nThere's a lot of things we could do.\n\n492\n00:24:00.630 --> 00:24:02.457\nYou're not up on all\nthat stuff I just said.\n\n493\n00:24:02.457 --> 00:24:04.484\nAll that stuff just went\nright over your head.\n\n494\n00:24:04.484 --> 00:24:05.753\n&gt;&gt; We have shows for that.\n\n495\n00:24:05.753 --> 00:24:06.620\n&gt;&gt; No clue what that was?\n\n496\n00:24:06.620 --> 00:24:07.774\nWe have shows for that, right?\n\n497\n00:24:07.774 --> 00:24:10.890\n&gt;&gt; Adam's just not picking these\nnumbers randomly to input here.\n\n498\n00:24:10.890 --> 00:24:12.430\nThere's logic behind that, as well.\n\n499\n00:24:12.430 --> 00:24:13.158\n&gt;&gt; Absolutely.\n&gt;&gt; [LAUGH]\n\n500\n00:24:13.158 --> 00:24:14.569\n&gt;&gt; Absolutely cuz Cherokee whispered in\n\n501\n00:24:14.569 --> 00:24:15.977\nmy ear before we came on and said\n&gt;&gt; [LAUGH]\n\n502\n00:24:15.977 --> 00:24:17.470\n&gt;&gt; This is what you have to use.\n\n503\n00:24:17.470 --> 00:24:19.230\nSo she's actually off camera,\n\n504\n00:24:19.230 --> 00:24:20.860\nholding a big sign up that says\n&gt;&gt; [LAUGH]\n\n505\n00:24:20.860 --> 00:24:22.120\n&gt;&gt; Here's the IP address.\n\n506\n00:24:22.120 --> 00:24:23.790\nNo, she's not doing that,\nI'm only kidding, but.\n\n507\n00:24:23.790 --> 00:24:26.540\nWe do have a method to our madness,\nthere's no doubt about it.\n\n508\n00:24:26.540 --> 00:24:29.390\nAnd you're just pointing out, that if\nyou're not familiar with how we get those\n\n509\n00:24:29.390 --> 00:24:33.180\nsubnet masks, how we link them to the IP\naddress range, what that connection is.\n\n510\n00:24:33.180 --> 00:24:34.530\nYou're not comfortable with all that?\n\n511\n00:24:34.530 --> 00:24:36.360\nHey, we do, as Cherokee said, have shows.\n\n512\n00:24:36.360 --> 00:24:40.080\nNetwork Plus would be a great place to\ngo to take a look for some of that.\n\n513\n00:24:40.080 --> 00:24:42.230\nThe probably introductory Cisco for\n\n514\n00:24:42.230 --> 00:24:45.970\nCCNA, right some of the background\nnetworking 101 kind of stuff.\n\n515\n00:24:45.970 --> 00:24:49.360\nI know Cherokee and\nI did a series of shows on this essential\n\n516\n00:24:49.360 --> 00:24:52.500\nsame equivalent knowledge but\non the server 16 platform, right?\n\n517\n00:24:52.500 --> 00:24:56.180\nSo on the server 16 side,\ndo a very thorough,\n\n518\n00:24:56.180 --> 00:25:00.800\nvery detailed walk through on IPv4, IPv6,\ntalk about how all this stuff works.\n\n519\n00:25:00.800 --> 00:25:02.430\nGave you good overview there.\n\n520\n00:25:02.430 --> 00:25:05.760\nIt's totally backwards compatible and\napplicable to this discussion cuz\n\n521\n00:25:05.760 --> 00:25:09.670\nnetworking is networking, IP addresses\nare IP addresses, they don't change.\n\n522\n00:25:09.670 --> 00:25:10.170\nSo as a result,\n\n523\n00:25:10.170 --> 00:25:13.650\nyou have a lot of options if you need\nto just brush up on those skills.\n\n524\n00:25:13.650 --> 00:25:15.210\nWill be important for the MCSA exams.\n\n525\n00:25:15.210 --> 00:25:19.151\nEven though we may not go into it here,\ndifferent set of skills in the sense that\n\n526\n00:25:19.151 --> 00:25:21.558\nwe kind of assume some of\nthat [CROSSTALK] right?\n\n527\n00:25:21.558 --> 00:25:22.925\nWe do assume that.\n\n528\n00:25:22.925 --> 00:25:25.411\nMay not always go into it,\ndoesn't mean it's not important.\n\n529\n00:25:25.411 --> 00:25:27.642\nSo I'm just giving you a warning,\ngiving you a heads up.\n\n530\n00:25:27.642 --> 00:25:31.337\nYou want to follow up on that knowledge\nif you're a little bit fuzzy on that,\n\n531\n00:25:31.337 --> 00:25:32.340\ngotta be there.\n\n532\n00:25:32.340 --> 00:25:33.850\nReally have that squared\naway in your head and\n\n533\n00:25:33.850 --> 00:25:36.550\nknow what we're doing with that,\nbecause Microsoft's gonna assume you do.\n\n534\n00:25:36.550 --> 00:25:39.620\nAnd when they assume things,\nthey test on them, right?\n\n535\n00:25:39.620 --> 00:25:40.378\nSo, just so you know.\n\n536\n00:25:40.378 --> 00:25:42.472\nAll right, so we're gonna leave\nour default subnet mask there.\n\n537\n00:25:42.472 --> 00:25:44.880\nThat's gonna be appropriate for\nour discussion here.\n\n538\n00:25:44.880 --> 00:25:47.050\nAre we gonna add an exclusion or a delay?\n\n539\n00:25:47.050 --> 00:25:50.520\nNow, exclusions, delays are interesting\nhere as we're setting up our scope.\n\n540\n00:25:50.520 --> 00:25:55.158\nMeaning we could stay out of that\nscope range, I'll 1.0 to 1.220, hey,\n\n541\n00:25:55.158 --> 00:25:56.042\nyou know what?\n\n542\n00:25:56.042 --> 00:26:02.106\nIn that range, I want to exclude 10 to 15,\nso 1.10 to 1.15.\n\n543\n00:26:02.106 --> 00:26:04.740\nI wanna pull those out and\nnot put them into the scope, right?\n\n544\n00:26:04.740 --> 00:26:08.680\nSo I can exclude them and now you would\nsay logically at least I always say well\n\n545\n00:26:08.680 --> 00:26:12.150\nwhy don't I just set the scope up\naround them and not worry about it but\n\n546\n00:26:12.150 --> 00:26:15.250\nwhat if the address block you want to\nexclude is in the middle as opposed to at\n\n547\n00:26:15.250 --> 00:26:16.050\nthe end of the scope?\n\n548\n00:26:16.050 --> 00:26:17.332\nRight?\nThen it's a little bit harder because\n\n549\n00:26:17.332 --> 00:26:21.130\nyou've got to set up a small scope with\nfive IP addresses then another scope with\n\n550\n00:26:21.130 --> 00:26:23.010\nten, yeah, it becomes harder to manage.\n\n551\n00:26:23.010 --> 00:26:26.010\nIt's easier just to set up one scope,\nbut exclude a block,\n\n552\n00:26:26.010 --> 00:26:28.630\nand that's what this does,\nso just be aware of that.\n\n553\n00:26:28.630 --> 00:26:33.440\nWe could also set up a subnet delay here,\nit is in milliseconds,\n\n554\n00:26:33.440 --> 00:26:37.250\nso, or milli second, as they say,\n[LAUGH] as opposed to putting it together,\n\n555\n00:26:37.250 --> 00:26:38.410\nthere's a space there.\n\n556\n00:26:38.410 --> 00:26:40.230\nBut in milliseconds, meaning yeah,\n\n557\n00:26:40.230 --> 00:26:44.850\nwe can add in a delay here, that would\nbe available for us in the transmission.\n\n558\n00:26:44.850 --> 00:26:48.716\nOf the DHCP offer message essentially it's\njust a small delay as we're sending back\n\n559\n00:26:48.716 --> 00:26:52.325\nthe information from the server saying\nhere you go, here's your IP address.\n\n560\n00:26:52.325 --> 00:26:55.845\nWe tell the server, hey,\nwait five milliseconds or something,\n\n561\n00:26:55.845 --> 00:27:00.005\nthere may be reasons from a latency\nstandpoint or from a queuing standpoint or\n\n562\n00:27:00.005 --> 00:27:02.181\njust a traffic management standpoint.\n\n563\n00:27:02.181 --> 00:27:06.538\nThat, that delay is important to us just\nto manage our traffic appropriately so\n\n564\n00:27:06.538 --> 00:27:09.138\nwe can hard code that or\nput that in if we need to,\n\n565\n00:27:09.138 --> 00:27:12.779\nthat's what that delay value is used for,\ntypically, usually,\n\n566\n00:27:12.779 --> 00:27:15.790\nnot a very big reason to do\nthis in many organizations.\n\n567\n00:27:15.790 --> 00:27:20.060\nBut I do have clients where this is an\nissue because of traffic management across\n\n568\n00:27:20.060 --> 00:27:23.500\nrouted subnets where they actually have\nfirewalls, and VLANs and things like that,\n\n569\n00:27:23.500 --> 00:27:26.405\nand they have to have a certain delay\nbuilt in, in order to manage that traffic.\n\n570\n00:27:26.405 --> 00:27:29.055\nSo maybe important just to\nknow about that, all right, so\n\n571\n00:27:29.055 --> 00:27:29.925\nwe're not gonna do anything there.\n\n572\n00:27:29.925 --> 00:27:32.695\nLeast duration, I know it's hard to see,\nit's highlighted there.\n\n573\n00:27:32.695 --> 00:27:34.015\nLet me just click over here.\n\n574\n00:27:34.015 --> 00:27:37.565\nWe did say that the least duration\nby default in Windows in DHCP,\n\n575\n00:27:37.565 --> 00:27:40.870\n8 days by default, you could see it there.\n\n576\n00:27:40.870 --> 00:27:43.250\nWe talked about the fact that\nalthough we say eight days,\n\n577\n00:27:43.250 --> 00:27:45.100\nsystem measures that in hours, right?\n\n578\n00:27:45.100 --> 00:27:47.790\nSo just do the math, 8 times 24, right?\n\n579\n00:27:47.790 --> 00:27:51.960\nSo that'll be 192 hours for\nthe default lease duration.\n\n580\n00:27:51.960 --> 00:27:54.300\nCan modify that as you can see here.\n\n581\n00:27:54.300 --> 00:27:58.260\nAnd in systems where we have high\nturnover so lots of systems coming and\n\n582\n00:27:58.260 --> 00:27:59.830\ngoing lots of leasing going on.\n\n583\n00:27:59.830 --> 00:28:03.640\nYou don't to have an eight day lease\nduration by default because remember\n\n584\n00:28:03.640 --> 00:28:08.580\nour default behavior is at 50% ttl,\nfour days in this case right?\n\n585\n00:28:08.580 --> 00:28:12.340\nWe would attempt to renew which\nmeans that lease will sit there for\n\n586\n00:28:12.340 --> 00:28:15.320\na long period of time for\na device that's not using it.\n\n587\n00:28:15.320 --> 00:28:19.028\nIf you have a school and I like the\nclassroom example Cherokee used earlier.\n\n588\n00:28:19.028 --> 00:28:21.660\nIf you're in a school where you've got\npeople coming and going every day,\n\n589\n00:28:21.660 --> 00:28:25.370\nan office where you have a lot of\nguests coming in on a regular basis,\n\n590\n00:28:25.370 --> 00:28:29.820\nyou wanna shorten that lease duration on\nthis scope specific to that behavior cuz\n\n591\n00:28:29.820 --> 00:28:33.960\nyou want that turnover happening very\nquickly so that those addresses that\n\n592\n00:28:33.960 --> 00:28:37.198\nare no longer active go back\ninto the pool and can be reused.\n\n593\n00:28:37.198 --> 00:28:40.720\nOtherwise you may run out of addresses and\nmay not have enough to be able to lease.\n\n594\n00:28:40.720 --> 00:28:43.910\nSo it is gonna be important for you to\nthink about that and be aware of that.\n\n595\n00:28:43.910 --> 00:28:48.360\nYou'll manage that given the context and\nthe parameters of your situation.\n\n596\n00:28:48.360 --> 00:28:52.510\nI could tell you from first hand\nexperience, doing this in classrooms for\n\n597\n00:28:52.510 --> 00:28:56.580\ndecades at this point, that we've\nhad situations over the years where\n\n598\n00:28:56.580 --> 00:29:00.880\nour network administrators who did not pay\nattention to this actually ran our scopes\n\n599\n00:29:00.880 --> 00:29:04.740\ninto the ground and we were prevented from\nreleasing IP addresses in our classrooms.\n\n600\n00:29:04.740 --> 00:29:08.800\nBecause we ran out of IPs because the\nlease duration was set to eight days and\n\n601\n00:29:08.800 --> 00:29:12.480\nyou'd have students coming in for\na day class, leaving, leasing an address,\n\n602\n00:29:12.480 --> 00:29:16.250\nlocking it up in the DHCP server for\na period of time and not using it.\n\n603\n00:29:16.250 --> 00:29:19.890\nSo we made it very clear, hey you got\nto go in and be aggressive with this.\n\n604\n00:29:19.890 --> 00:29:22.180\nSet it to eight hours,\nthat's a typical business day.\n\n605\n00:29:23.200 --> 00:29:24.900\nHalf way through that day\nthey'll have to renew.\n\n606\n00:29:24.900 --> 00:29:27.440\nIf they don't renew,\nwe get that IP address back and\n\n607\n00:29:27.440 --> 00:29:29.945\nby the end of that day those\nIPs come back into the pool and\n\n608\n00:29:29.945 --> 00:29:33.090\nwe're able to continuously just\nchurn those and turn them over.\n\n609\n00:29:33.090 --> 00:29:34.100\nAnd it solves the problem.\n\n610\n00:29:34.100 --> 00:29:36.170\nSo be aware of the fact you\ncan modify this, right?\n\n611\n00:29:36.170 --> 00:29:37.440\nIt is important.\n\n612\n00:29:37.440 --> 00:29:40.034\nWe're gonna not worry about that for\nnow, but we just wanna note that.\n\n613\n00:29:40.034 --> 00:29:42.535\nWe're gonna go ahead and\nadd some additional options here.\n\n614\n00:29:42.535 --> 00:29:46.170\nSo we're gonna say yes, I want to\nconfigure some additional scope options.\n\n615\n00:29:46.170 --> 00:29:49.960\nThis is where we get our things like our\nDNS name, our fully qualified domain name,\n\n616\n00:29:49.960 --> 00:29:52.170\nour DNS server, our router,\ndefault gateway.\n\n617\n00:29:52.170 --> 00:29:54.780\nAll the options I showed\nyou that we took a look at.\n\n618\n00:29:54.780 --> 00:29:57.650\nBy the way, if we say no here,\nyou can always as you saw go back and\n\n619\n00:29:57.650 --> 00:29:58.510\nadd them later, right?\n\n620\n00:29:58.510 --> 00:30:01.040\nThere's nothing wrong\nwith not adding them now.\n\n621\n00:30:01.040 --> 00:30:03.420\nYou may be doing this and\nnot be aware of the default gateway.\n\n622\n00:30:03.420 --> 00:30:07.720\nYou may be doing this and not readily\nhave at hand the DNS server information.\n\n623\n00:30:07.720 --> 00:30:10.100\nJust go back and\nadd them into the scope later.\n\n624\n00:30:10.100 --> 00:30:10.780\nNo big deal at all.\n\n625\n00:30:10.780 --> 00:30:12.020\nBut we're gonna do this now.\n\n626\n00:30:12.020 --> 00:30:14.390\nWe wanna add the router,\nthe default gateway in here.\n\n627\n00:30:14.390 --> 00:30:19.876\nSo we're gonna do that,\nthat's gonna be 192.168.1.250.\n\n628\n00:30:20.905 --> 00:30:22.145\nSo let's put that in here.\n\n629\n00:30:22.145 --> 00:30:25.215\nAlways important to stress that\ntyping in here is not enough.\n\n630\n00:30:25.215 --> 00:30:26.425\nRight?\nPeople do this all the time.\n\n631\n00:30:26.425 --> 00:30:29.985\nYou do this without clicking add,\nand click next, right?\n\n632\n00:30:29.985 --> 00:30:31.475\nAnd what happens is,\n\n633\n00:30:31.475 --> 00:30:34.965\nis you can see that it doesn't\nactually drop it in the box here.\n\n634\n00:30:34.965 --> 00:30:36.390\nIt's not gonna be assigned.\n\n635\n00:30:36.390 --> 00:30:39.970\nSo just make sure you do add that weight\nis part of that assignment just so\n\n636\n00:30:39.970 --> 00:30:42.640\nyou know, we'll click next so\nthat's now how hard coded.\n\n637\n00:30:42.640 --> 00:30:47.620\nYou do see our DNS domain\ninformation there practicelabs.com,\n\n638\n00:30:47.620 --> 00:30:51.760\nour DNS server 192.168.0.1 is there so\nthat's already hard coded so\n\n639\n00:30:51.760 --> 00:30:54.390\nwe don't have to worry about that.\n\n640\n00:30:54.390 --> 00:30:57.210\nWe'll just click next,\nwe're not gonna be using Wins but\n\n641\n00:30:57.210 --> 00:31:01.640\nif we did have a need for\nnet bios name resolution for Win services.\n\n642\n00:31:01.640 --> 00:31:04.090\nWe could easy add a Win\nserver in here as well.\n\n643\n00:31:05.500 --> 00:31:07.490\nDo I want to activate the scope now?\n\n644\n00:31:07.490 --> 00:31:11.770\nActivating the scope allows me to start\nleasing addresses as we saw our other\n\n645\n00:31:11.770 --> 00:31:12.790\nscope is active.\n\n646\n00:31:12.790 --> 00:31:16.160\nAnd we took a look at that, right,\nit did register and say active there.\n\n647\n00:31:16.160 --> 00:31:20.000\nAs a matter of fact you can see\nthat right back here, right,\n\n648\n00:31:20.000 --> 00:31:23.080\nthe status on the scope we were just\nlooking at is active so we do wanna\n\n649\n00:31:23.080 --> 00:31:26.340\nactivate our scopes traditionally when\nwe create them, but keep in mind, there\n\n650\n00:31:26.340 --> 00:31:30.840\nmay be reasons to prepopulate the scope\nbut maybe not start leasing addresses yet.\n\n651\n00:31:30.840 --> 00:31:34.060\nMaybe you haven't brought those machines\nonline in that area where you want\n\n652\n00:31:34.060 --> 00:31:36.730\nto start leasing, you don't want to\nhave the scope up and running so\n\n653\n00:31:36.730 --> 00:31:38.710\nthat it's not being used\nuntil you're ready.\n\n654\n00:31:38.710 --> 00:31:40.890\nSo you may just say no,\nI want to activate later.\n\n655\n00:31:40.890 --> 00:31:44.420\nJust right click on the scope when you're\nready and activate turns on automatically.\n\n656\n00:31:44.420 --> 00:31:48.770\nSo again options for you,\nchoices to make, there's no right and\n\n657\n00:31:48.770 --> 00:31:52.850\nwrong here but making sure you understand\nthat you can do this one way or\n\n658\n00:31:52.850 --> 00:31:56.500\nanother and what the circumstances would\nbe that would drive you to make choices.\n\n659\n00:31:56.500 --> 00:32:00.900\nIf you're given word problems or scenarios\nyou may have to address on the exam and\n\n660\n00:32:00.900 --> 00:32:05.110\nyou're very likely to see those aside from\njust simple multiple choice questions.\n\n661\n00:32:05.110 --> 00:32:08.310\nYou'd have to think through the logic\nof how do I apply these skills and\n\n662\n00:32:08.310 --> 00:32:10.207\nhow I used them to solve\na specific issue or\n\n663\n00:32:10.207 --> 00:32:13.720\na concern raised in the question you\nmay have to make some choices here.\n\n664\n00:32:13.720 --> 00:32:16.420\nAnd so knowing about these options\nwould be valuable for you.\n\n665\n00:32:16.420 --> 00:32:18.320\nLet's click next, just finish this up.\n\n666\n00:32:18.320 --> 00:32:19.616\nWe'll go ahead we'll activate our scope.\n\n667\n00:32:19.616 --> 00:32:23.540\nThere is scope two, there is scope one.\n\n668\n00:32:23.540 --> 00:32:26.210\nLet's just go back up here so\nwe could see both scopes.\n\n669\n00:32:26.210 --> 00:32:29.020\nAnd you could see they are both\nthere set up and ready to go.\n\n670\n00:32:30.430 --> 00:32:33.388\nAnd that boys and\ngirls is how you create a scope in DHCP.\n\n671\n00:32:33.388 --> 00:32:34.319\n&gt;&gt; Woo hoo.\n&gt;&gt; All right, so we are,\n\n672\n00:32:34.319 --> 00:32:36.587\nI think just looking at the clock,\nprobably out of time for\n\n673\n00:32:36.587 --> 00:32:38.221\nall the other good stuff I promised to do.\n\n674\n00:32:38.221 --> 00:32:40.840\n&gt;&gt; [LAUGH]\n&gt;&gt; We're gonna keep the servers running,\n\n675\n00:32:40.840 --> 00:32:42.410\nkeep them warm and revved up.\n\n676\n00:32:42.410 --> 00:32:44.136\nBut I think we're gonna\nhave to come back and\n\n677\n00:32:44.136 --> 00:32:46.480\ndo another part to our story\nhere in order to finish that up.\n\n678\n00:32:46.480 --> 00:32:46.990\nWhat do you think?\n\n679\n00:32:46.990 --> 00:32:47.500\n&gt;&gt; Sounds good.\n\n680\n00:32:47.500 --> 00:32:50.110\nI think we have multi parts\nin your near future so\n\n681\n00:32:50.110 --> 00:32:52.380\na lot of great information\nheaded your way.\n\n682\n00:32:52.380 --> 00:32:55.590\nBut we are out of time for this show so\nwe'll go ahead and sign off.\n\n683\n00:32:55.590 --> 00:32:57.284\nRemember I'm your host Cherokee Boos.\n\n684\n00:32:57.284 --> 00:32:58.192\n&gt;&gt; I'm Adam Gordon.\n\n685\n00:32:58.192 --> 00:33:00.154\n&gt;&gt; See you next time here at IT Pro TV.\n\n686\n00:33:00.154 --> 00:33:02.900\n&gt;&gt; Happy DHCPing.\n\n687\n00:33:02.900 --> 00:33:08.740\n[MUSIC]\n\n688\n00:33:08.740 --> 00:33:11.781\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "224326112"
        },
        {
          "description": "In this show, Cherokee and Adam continue to examine scope options. First, they discuss how and why one would create a superscope. Next, Adam shows how to create a multicast scope. They also look at how to install DHCP via PowerShell and how to prevent name conflicts with name protection.",
          "length": "1909",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-3-advances_network_services_pt3-0602817-PGM.00_43_39_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-3-advances_network_services_pt3-0602817-PGM.00_43_39_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-3-advances_network_services_pt3-0602817-PGM.00_43_39_20.Still001-sm.jpg",
          "title": "Advanced Network Services Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.290 --> 00:00:06.297\nWelcome to ITPRO.TV, I'm your host,\nDon Pezet- [CROSSTALK] [INAUDIBLE]\n\n2\n00:00:06.297 --> 00:00:07.968\n[MUSIC]\n\n3\n00:00:07.968 --> 00:00:12.689\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:12.689 --> 00:00:15.685\n&gt;&gt; Welcome to your MCSA 70-412 series.\n\n5\n00:00:15.685 --> 00:00:17.573\nI'm your host, Cherokee Boose.\n\n6\n00:00:17.573 --> 00:00:20.785\nThis is a part three, a continuation\nof a discussion that Adam and\n\n7\n00:00:20.785 --> 00:00:25.915\nI were having, focused on DHCP,\namongst other core network services.\n\n8\n00:00:25.915 --> 00:00:29.025\nAnd back in the studio with us today,\njust as promised,\n\n9\n00:00:29.025 --> 00:00:32.435\nAdam kept his DHCP machine hot and\nready to go.\n\n10\n00:00:32.435 --> 00:00:34.525\nSo thank you for joining us today, Adam.\n\n11\n00:00:34.525 --> 00:00:36.949\n&gt;&gt; Thank you.\nAll right, so since DHCP is hot and\n\n12\n00:00:36.949 --> 00:00:37.835\nready to go.\n\n13\n00:00:37.835 --> 00:00:41.635\nI don't know if we could say that on TV,\nbut we did, so hopefully that is okay.\n\n14\n00:00:41.635 --> 00:00:42.150\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n15\n00:00:42.150 --> 00:00:45.090\nnow that we have our DHCP scopes set up,\nwe have scope one,\n\n16\n00:00:45.090 --> 00:00:47.675\nscope two,\nif you remember from our last episode.\n\n17\n00:00:47.675 --> 00:00:50.490\nIf you haven't seen it, probably a good\nidea to go back and take a quick look.\n\n18\n00:00:50.490 --> 00:00:53.930\nSo you know where we are, what we're\nabout to jump back in and continue with.\n\n19\n00:00:53.930 --> 00:00:56.830\nWe're gonna jump in now, and we're gonna\ngo ahead and set up our Superscope.\n\n20\n00:00:56.830 --> 00:00:59.870\nAnd you could see, got scope one,\nand scope two active there.\n\n21\n00:00:59.870 --> 00:01:03.360\nRight clicked on IPv4,\njust to bring up the menu.\n\n22\n00:01:03.360 --> 00:01:06.565\nAbout to select New Superscope,\nwe're gonna do that.\n\n23\n00:01:06.565 --> 00:01:09.440\nSuperscope, just get that\nstarted while we're talking.\n\n24\n00:01:10.955 --> 00:01:15.479\nSuperscope allows us to expand the number\nof IP addresses, as you could see there,\n\n25\n00:01:15.479 --> 00:01:19.505\nthat are available for leasing by\ncombining two or more scopes together.\n\n26\n00:01:19.505 --> 00:01:24.040\nEach scope may be limited, our scopes\nhad about 20 IP address in them each.\n\n27\n00:01:24.040 --> 00:01:25.641\nIf we want to join them together,\n\n28\n00:01:25.641 --> 00:01:28.799\ncreate a large block of addresses\nthat we could then lease out of.\n\n29\n00:01:28.799 --> 00:01:30.936\nWe just simply combine them and\ncreate a Superscope,\n\n30\n00:01:30.936 --> 00:01:32.273\nthere's a container to do that.\n\n31\n00:01:32.273 --> 00:01:35.360\nThat's what we're gonna do,\njust walk through the logic of that.\n\n32\n00:01:35.360 --> 00:01:39.158\nSo we're gonna go ahead, and\nwe're gonna give it a Superscope name.\n\n33\n00:01:39.158 --> 00:01:42.501\nSo we'll click Next,\nwe'll name this, and we'll call this\n\n34\n00:01:45.324 --> 00:01:50.313\nThat's Superscope one, or\nwhatever you wanna call it\n\n35\n00:01:50.313 --> 00:01:54.443\nexcept scope is spelled with an O and\nnot an I.\n\n36\n00:01:54.443 --> 00:01:57.078\nSo we'll go ahead and do that,\nwe'll give it a name.\n\n37\n00:01:57.078 --> 00:02:00.990\nClick Next, you'll see the two,\nin this case, our case two,\n\n38\n00:02:00.990 --> 00:02:01.940\nbecause we already have two.\n\n39\n00:02:01.940 --> 00:02:03.430\nThere may be more, obviously,\n\n40\n00:02:03.430 --> 00:02:05.590\nin your world if you have\na bunch of scopes available.\n\n41\n00:02:05.590 --> 00:02:07.590\nBut you'll see the available scopes.\n\n42\n00:02:07.590 --> 00:02:10.960\nWe have to select one or\nmore of them that are going to be there.\n\n43\n00:02:12.488 --> 00:02:15.820\nSo we will go ahead, just hold down\nthe control key, control select, or\n\n44\n00:02:15.820 --> 00:02:19.172\nshift select to select the multiple\nscopes we wanna add in.\n\n45\n00:02:19.172 --> 00:02:23.040\nI'm gonna add both my scopes,\nin that way they are both available to me.\n\n46\n00:02:23.040 --> 00:02:25.492\nAnd then, we're gonna go ahead,\nwe'll click Next.\n\n47\n00:02:25.492 --> 00:02:28.670\nWe're gonna click Finish,\nnot very complicated to do,\n\n48\n00:02:28.670 --> 00:02:30.250\ngive that just a moment.\n\n49\n00:02:30.250 --> 00:02:34.123\nAnd then you'll see, that instead\nof having individual scopes there,\n\n50\n00:02:34.123 --> 00:02:35.782\neach one active, ready to go.\n\n51\n00:02:35.782 --> 00:02:39.298\nWe simply now have a Superscope container,\nand underneath that Superscope,\n\n52\n00:02:39.298 --> 00:02:40.530\nwe just see both our scope.\n\n53\n00:02:40.530 --> 00:02:43.490\nThey've just been added\ntogether in hierarchically\n\n54\n00:02:43.490 --> 00:02:47.340\nare now manage as child object\nof the Superscope container.\n\n55\n00:02:47.340 --> 00:02:50.380\nSo we're just setting up another\nadministrative capability for\n\n56\n00:02:50.380 --> 00:02:54.560\nourselves, combining the scopes together,\nmake it easier for us to manage that.\n\n57\n00:02:54.560 --> 00:02:55.540\nThat's really all we're doing.\n\n58\n00:02:55.540 --> 00:02:58.730\nYou'll see the individual address pools,\naddress leases,\n\n59\n00:02:58.730 --> 00:03:03.190\nreservations, scope options,\nwhatever they may be, are still assigned.\n\n60\n00:03:03.190 --> 00:03:04.938\nThey have not been, in any way, modified.\n\n61\n00:03:04.938 --> 00:03:09.651\nSo our router, our default gateway\nselection, we put in there,\n\n62\n00:03:09.651 --> 00:03:11.745\n003 router for scope 2.\n\n63\n00:03:11.745 --> 00:03:17.120\n1.250 is there, whereas for scope 1,\nremember we did not specify a router.\n\n64\n00:03:17.120 --> 00:03:21.260\nWe just had our DNS server, and our fully\nqualified domain name for the domain.\n\n65\n00:03:21.260 --> 00:03:23.560\nAnd all those options have stayed there,\nright?\n\n66\n00:03:23.560 --> 00:03:25.100\nThey're not gonna be in\nany way manipulated,\n\n67\n00:03:25.100 --> 00:03:27.200\nor modified by joining the Superscope.\n\n68\n00:03:27.200 --> 00:03:29.400\nSo all we're simply doing is\ncollecting those scopes up,\n\n69\n00:03:29.400 --> 00:03:32.490\nputting them into a basket,\nas Cherokee likes to say.\n\n70\n00:03:32.490 --> 00:03:34.280\nThat is just easier for\nus to manage, right.\n\n71\n00:03:34.280 --> 00:03:35.190\nThat's all we've done.\n\n72\n00:03:35.190 --> 00:03:37.813\nSo we have that, so let's just\nclean that up a little bit, just so\n\n73\n00:03:37.813 --> 00:03:39.940\nwe can keep track of everything,\nsee where that is.\n\n74\n00:03:39.940 --> 00:03:43.591\nSo we could certainly create a Superscope,\nwhat about a multicast scope?\n\n75\n00:03:43.591 --> 00:03:44.530\nExcuse me.\n\n76\n00:03:44.530 --> 00:03:46.730\nYou may wanna do that, as well.\n\n77\n00:03:46.730 --> 00:03:49.050\nIt's right click, New Multicast Scope.\n\n78\n00:03:49.050 --> 00:03:55.170\nMulticasting is going to be done\non the 224 to 239 address block.\n\n79\n00:03:55.170 --> 00:03:59.278\nSo class D addresses are assigned\nmulti casting capabilities, just in\n\n80\n00:03:59.278 --> 00:04:04.480\ncase you're wondering about the IP address\nclasses and where this range would fall?\n\n81\n00:04:04.480 --> 00:04:08.587\nMulticasting is traditionally used for\nthings like desktop imaging.\n\n82\n00:04:08.587 --> 00:04:11.309\nSo Cherokee and\nI would type that imaging a little bit,\n\n83\n00:04:11.309 --> 00:04:13.336\nin the last conversation without whim.\n\n84\n00:04:13.336 --> 00:04:16.649\nThought process that she mentioned with\nimaging would be a good example of\n\n85\n00:04:16.649 --> 00:04:18.798\nsomething that may be\ndone with multicasting.\n\n86\n00:04:18.798 --> 00:04:23.570\nIf you've ever done WDS,\nWindows Deployment Services.\n\n87\n00:04:23.570 --> 00:04:27.168\nIf you've ever used Alteras,\nwhich is sometimes called Keylabs.\n\n88\n00:04:27.168 --> 00:04:31.308\nIf you've ever used SCCM, a product that\nCherokee likes to talk about from time to\n\n89\n00:04:31.308 --> 00:04:33.640\ntime that I do a lot of work with,\nas well.\n\n90\n00:04:33.640 --> 00:04:38.085\nSystem Center Config Manager for imaging\nthe OSD, Operating System Deployment\n\n91\n00:04:38.085 --> 00:04:41.120\nfeatures set, which is really just\nWDS Windows Deployment Service,\n\n92\n00:04:41.120 --> 00:04:43.650\nintegrated directly into SCCM.\n\n93\n00:04:43.650 --> 00:04:48.570\nIf you've used HP OpenView, IBM's any\nof those products that do configuration\n\n94\n00:04:48.570 --> 00:04:51.540\nmanagement and imaging,\nyou have a sense of what this would be.\n\n95\n00:04:51.540 --> 00:04:55.236\nMulticasting is what's often used as\nan address box to drive that imaging, so\n\n96\n00:04:55.236 --> 00:04:56.306\njust be aware of that.\n\n97\n00:04:56.306 --> 00:05:00.330\nStreaming media often will use, streaming\nservices often needs multicasting as well.\n\n98\n00:05:00.330 --> 00:05:03.490\nSo there's a lot of value, a lot of\ndifferent reasons why we may see this.\n\n99\n00:05:03.490 --> 00:05:07.270\nWe'll click Next, go ahead and\nwe'll specify the scope.\n\n100\n00:05:07.270 --> 00:05:10.071\nLet me just get\nthe information we need here.\n\n101\n00:05:10.071 --> 00:05:15.130\nSo let’s go ahead and lets name this,\nwe’ll call this Plabasmulticast.\n\n102\n00:05:15.130 --> 00:05:18.293\nIn the real world obviously, you'd\nwant to come with a name that probably\n\n103\n00:05:18.293 --> 00:05:20.139\napproximates what you're looking to do.\n\n104\n00:05:20.139 --> 00:05:25.907\nFor description, I’ll call this\nITProTV Multi-cast scope one,\n\n105\n00:05:25.907 --> 00:05:28.545\nname it anything you'd like.\n\n106\n00:05:28.545 --> 00:05:31.935\nClick Next, we have to specify\nour start and end IP range.\n\n107\n00:05:31.935 --> 00:05:38.015\nNow keep in mind, as I said, multicasting\nis done in the 224 to 239 address block.\n\n108\n00:05:38.015 --> 00:05:42.265\nSo we'd have to specify a range that falls\nwithin that, and they remind of us of that\n\n109\n00:05:42.265 --> 00:05:49.155\nright here, 224.0.0.0 to 239.255.255.255\nis the range we can use here.\n\n110\n00:05:49.155 --> 00:05:51.295\nSo we're already being prompted for and\n\n111\n00:05:51.295 --> 00:05:53.955\nkind of reminded of our\nresponsibility here.\n\n112\n00:05:53.955 --> 00:05:55.745\nBut we'd have to then\ncome up with a usable,\n\n113\n00:05:55.745 --> 00:05:58.245\nworkable set of IPs within that range.\n\n114\n00:05:58.245 --> 00:06:05.039\nSo we're gonna do 224.100.100.200.\n\n115\n00:06:05.039 --> 00:06:09.529\nAnd then we're gonna do that up to 220,\n\n116\n00:06:09.529 --> 00:06:13.779\nso 224.100.100.220.\n\n117\n00:06:13.779 --> 00:06:17.451\nAnd we have a TTL, the time to live there,\nthis is the number of routers and\n\n118\n00:06:17.451 --> 00:06:20.335\nmulticast traffic passes\nthrough on the network.\n\n119\n00:06:20.335 --> 00:06:21.928\nYou could think of this\nalmost like a hop count.\n\n120\n00:06:21.928 --> 00:06:23.867\nBecause traditionally when\nwe talk about routing,\n\n121\n00:06:23.867 --> 00:06:25.645\nwe would talk about this\nas being the hop count.\n\n122\n00:06:25.645 --> 00:06:28.618\nThe number of routers that we\nconnect through a number of hops.\n\n123\n00:06:28.618 --> 00:06:31.342\nIn other words, that we engage\nin as we move through a path,\n\n124\n00:06:31.342 --> 00:06:33.245\nis what we're talking about here.\n\n125\n00:06:33.245 --> 00:06:37.640\nThat metric is normally set to 30\nin most standard routing solutions.\n\n126\n00:06:37.640 --> 00:06:41.458\nWe may modify that here, and\nwe can think about the logic of how we\n\n127\n00:06:41.458 --> 00:06:45.727\ncontrol the multicast path, and\nhow many routes we may have to follow.\n\n128\n00:06:45.727 --> 00:06:47.887\nHow many routers may we\nhave to pass through, and\n\n129\n00:06:47.887 --> 00:06:49.581\nwe can manipulate that as necessary.\n\n130\n00:06:49.581 --> 00:06:51.631\nWe'll leave it at the default,\nbut obviously,\n\n131\n00:06:51.631 --> 00:06:53.181\nyou can change that if you needed to.\n\n132\n00:06:53.181 --> 00:06:54.780\nAll right, is there gonna be an exclusion?\n\n133\n00:06:54.780 --> 00:06:57.250\nWe talked about exclusions\nin the last conversation.\n\n134\n00:06:57.250 --> 00:06:59.770\nIf there are,\nwe can obviously add them in there.\n\n135\n00:06:59.770 --> 00:07:01.780\nIf there aren't,\nwe would just leave them alone.\n\n136\n00:07:01.780 --> 00:07:05.500\nNotice, there is no time-off set\nhere on the exclusionary for\n\n137\n00:07:05.500 --> 00:07:09.890\nthe delay the way there was the standard\nIPv4 scope, right, where we set that up.\n\n138\n00:07:09.890 --> 00:07:12.820\nWe're just adding in the block\nof addresses we wanna exclude,\n\n139\n00:07:12.820 --> 00:07:16.450\nnot a time delay for\nthe transmission of the offer.\n\n140\n00:07:16.450 --> 00:07:18.700\nThat would be different,\nwe're not doing that for multicast scopes.\n\n141\n00:07:18.700 --> 00:07:20.820\nWe do it for normal scopes,\nnot for this one.\n\n142\n00:07:20.820 --> 00:07:25.320\nGonna click Next, Lease Duration,\nnotice our lease duration\n\n143\n00:07:25.320 --> 00:07:29.600\nhere is different by default, 30 days on\na multicast scope by default in Microsoft.\n\n144\n00:07:29.600 --> 00:07:32.520\nUnlike 8 days for a standard IPv4 scope.\n\n145\n00:07:32.520 --> 00:07:36.115\nMay be an important little piece of\ntrivia that would be helpful for you.\n\n146\n00:07:36.115 --> 00:07:38.705\nCertainly for the exam first and foremost.\n\n147\n00:07:38.705 --> 00:07:40.905\nBut even if you're not preparing for\nthe exam,\n\n148\n00:07:40.905 --> 00:07:43.607\nin the real world knowing that's the case\nit would also be important, right.\n\n149\n00:07:43.607 --> 00:07:46.015\nYou'd wanna know that and\nobviously have a sense of that, so\n\n150\n00:07:46.015 --> 00:07:47.365\nyou can manipulate that as needed.\n\n151\n00:07:47.365 --> 00:07:51.075\nSo, we would again modify that\njust based on whatever criteria or\n\n152\n00:07:51.075 --> 00:07:52.695\nneeds we have in our network.\n\n153\n00:07:52.695 --> 00:07:54.375\nWe'll click Next, leaving that alone.\n\n154\n00:07:54.375 --> 00:07:56.537\nDo you wanna activate the scope now,\nyes or no?\n\n155\n00:07:56.537 --> 00:07:59.810\nAgain, we would choose to do that now or\ndo it later, up to us.\n\n156\n00:07:59.810 --> 00:08:01.973\nWe'll leave it at yes.\nJust activate a click finish.\n\n157\n00:08:01.973 --> 00:08:05.760\nGive that just a minute and then we\nhave our multi-cast scope right there.\n\n158\n00:08:05.760 --> 00:08:08.420\nWe could see that there\ncurrently are no leases.\n\n159\n00:08:08.420 --> 00:08:10.100\nWe could see the address pool in there.\n\n160\n00:08:10.100 --> 00:08:11.280\nPretty straight forward.\n\n161\n00:08:11.280 --> 00:08:12.511\nWe can see the multi-cast scope.\n\n162\n00:08:12.511 --> 00:08:14.090\nAnd obviously, if we click here.\n\n163\n00:08:14.090 --> 00:08:15.598\nWe'll see it is active right there.\n\n164\n00:08:15.598 --> 00:08:18.100\nWe'll see our super\nscope is there as well.\n\n165\n00:08:18.100 --> 00:08:21.110\nCombining scope one and\nscope two that we had created before.\n\n166\n00:08:21.110 --> 00:08:24.392\nSo, we've got all of that information\norganized, set up, put together.\n\n167\n00:08:24.392 --> 00:08:29.299\nSo we've walked through the back end\nprocess use of architecting out our\n\n168\n00:08:29.299 --> 00:08:29.948\nscopes.\n\n169\n00:08:29.948 --> 00:08:33.610\nSetting up our ability to lease addresses,\nlooked at all of our options.\n\n170\n00:08:33.610 --> 00:08:35.620\nWhat we would setup, how we would do that.\n\n171\n00:08:35.620 --> 00:08:38.060\nCombining them together for\nSuper Scope Management.\n\n172\n00:08:38.060 --> 00:08:40.150\nSo we've really gone through\nthe logic of how to,\n\n173\n00:08:40.150 --> 00:08:44.960\nin stage one, setup the basic\noperational environment with DHCP.\n\n174\n00:08:44.960 --> 00:08:47.928\nNow what we wanna do is add\nsome special capabilities.\n\n175\n00:08:47.928 --> 00:08:52.200\nSome nuances to our DHCP server that\nmake it even easier for us to manage.\n\n176\n00:08:52.200 --> 00:08:55.750\nBut also give us flexibility to\nconnect to other systems like DNS.\n\n177\n00:08:55.750 --> 00:08:59.130\nAnd do dynamic updates of DHCP registered\n\n178\n00:08:59.130 --> 00:09:01.930\nclients that may not be able\nto talk to DNS directly.\n\n179\n00:09:01.930 --> 00:09:04.999\nNon Microsoft clients for\ninstance may fall into this category.\n\n180\n00:09:04.999 --> 00:09:08.820\nSpoke in our first episode a little\nbit about the fact that DHCP.\n\n181\n00:09:09.870 --> 00:09:12.920\nDoes offer support for\nnon-Microsoft clients.\n\n182\n00:09:12.920 --> 00:09:15.840\nCherokee brought up the idea of\nusing printers, for instance.\n\n183\n00:09:15.840 --> 00:09:17.760\nHardware that may be leasing IP addresses.\n\n184\n00:09:17.760 --> 00:09:19.234\nWe talked about the value of that and\n\n185\n00:09:19.234 --> 00:09:21.898\npublishing your printer locations\nthrough active directory.\n\n186\n00:09:21.898 --> 00:09:25.905\nAnd needing to tie in DHCP and\nDNS to make that available.\n\n187\n00:09:25.905 --> 00:09:27.590\nSo just things like that would be helpful.\n\n188\n00:09:27.590 --> 00:09:30.670\nSo we're gonna take a look at some\nof those options and how that works.\n\n189\n00:09:30.670 --> 00:09:32.275\nBut before we do that\nCherokee wants to say.\n\n190\n00:09:32.275 --> 00:09:37.147\n&gt;&gt; So obviously Adam brings up a really\ngood point when he`s calling out that\n\n191\n00:09:37.147 --> 00:09:41.000\nDHCP is not a Microsoft\nproprietary protocol.\n\n192\n00:09:41.000 --> 00:09:42.380\nAs a matter of fact, and\n\n193\n00:09:42.380 --> 00:09:45.700\nwe just had a question in chat about this,\njust a few moments ago.\n\n194\n00:09:45.700 --> 00:09:48.472\nYou can configure DHCP to be running and\n\n195\n00:09:48.472 --> 00:09:53.767\ndoling out this information on other\nvendor type devices, even routers.\n\n196\n00:09:53.767 --> 00:09:56.403\nAnd we have shows for Cisco, but\n\n197\n00:09:56.403 --> 00:10:01.197\nbecause this is a Microsoft\nserver series show exam prep.\n\n198\n00:10:01.197 --> 00:10:02.840\nThat's what we're focusing on here,\n\n199\n00:10:02.840 --> 00:10:05.180\nto show you how to configure\nwithin this environment.\n\n200\n00:10:05.180 --> 00:10:06.705\nSo that's just all I wanted to say.\n\n201\n00:10:06.705 --> 00:10:11.520\n&gt;&gt; [LAUGH] Okay, well now that Cherokee\nsaid what she wanted to say we're gonna\n\n202\n00:10:11.520 --> 00:10:14.400\ntake a look at how to take a little\nslightly different approach.\n\n203\n00:10:14.400 --> 00:10:19.023\nWe already preloaded DHCP when we started\nthe demo, showed you how to set it up.\n\n204\n00:10:19.023 --> 00:10:21.170\nIt's always good to go back,\ntake a look at how to do that.\n\n205\n00:10:21.170 --> 00:10:24.969\nI did that from the console last time\nusing the add remove features capability.\n\n206\n00:10:24.969 --> 00:10:26.273\nWalk through that with you and\n\n207\n00:10:26.273 --> 00:10:29.516\nepisode one kind of showed you the logic\nof using the wizard to set that up.\n\n208\n00:10:29.516 --> 00:10:30.954\nAnd many people will do that.\n\n209\n00:10:30.954 --> 00:10:34.208\nBut Power Shell is always there\nbehind the scenes lurking somewhere.\n\n210\n00:10:34.208 --> 00:10:35.901\nAnd if you've seen us do any shows,\n\n211\n00:10:35.901 --> 00:10:38.447\nyou know that I'm always\ntrying to push Power Shell.\n\n212\n00:10:38.447 --> 00:10:42.424\nKinda silently and subtly behind\nthe scenes, sometimes not so subtly.\n\n213\n00:10:42.424 --> 00:10:44.293\nBut just trying to get\nyou to think about that.\n\n214\n00:10:44.293 --> 00:10:48.008\nAnd make sure you're comfortable with the\nfact that there's always more than one way\n\n215\n00:10:48.008 --> 00:10:49.775\nto get to the configuration of a system.\n\n216\n00:10:49.775 --> 00:10:52.306\nAnd Power Shell's becoming that standard.\n\n217\n00:10:52.306 --> 00:10:55.675\nThat whether we like it or not,\nwe all have to be comfortable with.\n\n218\n00:10:55.675 --> 00:10:59.180\nAnd so we're always gonna take that\nopportunity where and when we can.\n\n219\n00:10:59.180 --> 00:11:00.260\nTo show you how that works.\n\n220\n00:11:00.260 --> 00:11:01.990\nSo I've moved to another machine here.\n\n221\n00:11:01.990 --> 00:11:03.240\nThis is our domain controller.\n\n222\n00:11:03.240 --> 00:11:05.771\nJust another machine we would\ninstall the HTTP on for\n\n223\n00:11:05.771 --> 00:11:08.770\npurposes of setting up some\nadditional features in the demo.\n\n224\n00:11:08.770 --> 00:11:11.935\nSo I thought instead of just\npreloading it, doesn't take very long.\n\n225\n00:11:11.935 --> 00:11:14.662\nWe'd show you how to do\nthis through Power Shell.\n\n226\n00:11:14.662 --> 00:11:18.000\nSo open Power shell as an administrator,\nobviously on the system.\n\n227\n00:11:18.000 --> 00:11:20.800\nI just loaded and\nopened the standard Power shell console.\n\n228\n00:11:20.800 --> 00:11:24.442\nThe only thing I did was just to modify\nthe font size a little bit to make it\n\n229\n00:11:24.442 --> 00:11:25.609\neasier for you to see.\n\n230\n00:11:25.609 --> 00:11:28.661\nThat`s the only thing I do, typically,\nwhen we use Power Shell as modify that.\n\n231\n00:11:28.661 --> 00:11:31.840\nOccasionally I'll modify the background\ncolor so it's easier for you to see.\n\n232\n00:11:31.840 --> 00:11:35.160\nBut Add-windows feature,\nspecify the feature, DHCP.\n\n233\n00:11:35.160 --> 00:11:36.466\nAlways use include management tools.\n\n234\n00:11:36.466 --> 00:11:39.760\nThat gives us all the dependencies\nthat are gonna need to be there.\n\n235\n00:11:39.760 --> 00:11:42.340\nThat we showed you in\nthe walk-through in the wizard.\n\n236\n00:11:42.340 --> 00:11:44.260\nObviously you do that, we hit enter.\n\n237\n00:11:44.260 --> 00:11:46.265\nTakes up maybe 30 seconds to a minute.\n\n238\n00:11:46.265 --> 00:11:49.930\nDoesn't take very long for us to walk\nthrough, get that installation done.\n\n239\n00:11:49.930 --> 00:11:53.856\nWe can track that, obviously, see that\nrunning, see it goes from 24 to 92.\n\n240\n00:11:53.856 --> 00:11:57.030\nSo it happens almost immediately here,\nvery quickly.\n\n241\n00:11:57.030 --> 00:11:58.880\nOnce we get this setup and done.\n\n242\n00:11:58.880 --> 00:12:00.820\nWe’ll switch over to the server manager.\n\n243\n00:12:00.820 --> 00:12:04.951\nWe’ll go in and we'll be able to load\nDHCP or the DHCP MMC, the console.\n\n244\n00:12:04.951 --> 00:12:08.930\nAnd then we'll be able to continue working\nwith DHCP and configuring on this system.\n\n245\n00:12:08.930 --> 00:12:10.650\nJust like we were doing on the other one.\n\n246\n00:12:10.650 --> 00:12:13.100\nJust that now we're going\nto have another install.\n\n247\n00:12:13.100 --> 00:12:15.840\nWe'll be able to go through and\ndo some configuration there.\n\n248\n00:12:15.840 --> 00:12:19.490\nYou can see within 30 seconds to\na minute like I said finishes up.\n\n249\n00:12:19.490 --> 00:12:21.800\nSuccess true, that's what we want to see.\n\n250\n00:12:21.800 --> 00:12:24.560\nRestart needed no,\nas I pointed out in the first episode.\n\n251\n00:12:24.560 --> 00:12:27.370\nDHCP configuration does\nnot require a restart.\n\n252\n00:12:27.370 --> 00:12:29.703\nExit code success,\nthat's what we're looking for,\n\n253\n00:12:29.703 --> 00:12:32.353\nthat means we were able to\ncomplete this operation properly.\n\n254\n00:12:32.353 --> 00:12:36.413\nDHCP server and server tools were both\ninstalled, that's what we're looking for.\n\n255\n00:12:36.413 --> 00:12:38.500\nAll right, so\nwe'll just minimize Power Shell here.\n\n256\n00:12:38.500 --> 00:12:40.530\nNot gonna worry about closing out of it.\n\n257\n00:12:40.530 --> 00:12:41.730\nType exit to get out of there.\n\n258\n00:12:41.730 --> 00:12:42.680\nClose the window.\n\n259\n00:12:42.680 --> 00:12:44.520\nWhatever you wanna do, up to you.\n\n260\n00:12:44.520 --> 00:12:47.570\nI did point out in the first episode\nthat sometimes you do not see\n\n261\n00:12:47.570 --> 00:12:49.830\nDHC pop in here when you're\nwhen you're working.\n\n262\n00:12:49.830 --> 00:12:51.050\nEven though it's been configured.\n\n263\n00:12:51.050 --> 00:12:53.950\nI told all you have to do is\nsimply go hit the refresh.\n\n264\n00:12:53.950 --> 00:12:55.500\nAnd when you do that it will pop in.\n\n265\n00:12:55.500 --> 00:12:57.510\nAnd you could see that it is there.\n\n266\n00:12:57.510 --> 00:13:00.220\nWe do get a little prompt to\ndo the configuration here.\n\n267\n00:13:00.220 --> 00:13:01.340\nSo we can do that.\n\n268\n00:13:01.340 --> 00:13:02.420\nWe'll go into tools here.\n\n269\n00:13:03.790 --> 00:13:07.180\nBring up our DHCP console just\nlike we did on the other system.\n\n270\n00:13:07.180 --> 00:13:10.881\nI'm just gonna minimize the server manager\nhere real quick, just bring this up.\n\n271\n00:13:10.881 --> 00:13:13.040\nI'm gonna just move this over.\n\n272\n00:13:13.040 --> 00:13:17.009\nAnd we can see that this is a different,\nindeed a different instance,\n\n273\n00:13:17.009 --> 00:13:19.109\nplabdc01 instead of plabdm01.\n\n274\n00:13:19.109 --> 00:13:22.080\nSo we are working on a different machine.\n\n275\n00:13:22.080 --> 00:13:25.280\nThe plabdm01 is over here,\nas you could see,\n\n276\n00:13:25.280 --> 00:13:27.470\nalready preconfigured from our last demo,\nright?\n\n277\n00:13:27.470 --> 00:13:31.090\nSo we're gonna stay on this machine now,\ndo a little configuration here.\n\n278\n00:13:31.090 --> 00:13:33.825\nSo we're gonna authorize this server\njust like we did on the other one.\n\n279\n00:13:33.825 --> 00:13:36.250\nBut you're actually gonna\nsee me authorize this one.\n\n280\n00:13:36.250 --> 00:13:39.222\nSo I'm gonna right-click here,\nyou'll see I can choose authorize.\n\n281\n00:13:39.222 --> 00:13:40.595\nI'd pre-authorized the other one.\n\n282\n00:13:40.595 --> 00:13:42.610\nWe just explained what would happen.\n\n283\n00:13:42.610 --> 00:13:43.940\nSo we get authorize here.\n\n284\n00:13:43.940 --> 00:13:46.730\nNow before I do that, let me just show\nyou something I'd mentioned this to\n\n285\n00:13:46.730 --> 00:13:48.780\nCherokee before we got started.\n\n286\n00:13:48.780 --> 00:13:53.150\nAnd we were discussing it when we\ndiscussed a little issue with the domain\n\n287\n00:13:53.150 --> 00:13:55.390\ncontrol not working and\nwe had to trouble shoot.\n\n288\n00:13:55.390 --> 00:13:59.374\nAnd one of the things we looked at was\nthe fact that we could come over here,\n\n289\n00:13:59.374 --> 00:14:02.672\ngo here, go to this,\ncomplete DHCP configuration wizard.\n\n290\n00:14:02.672 --> 00:14:06.880\nAnd we would have the option to authorize\nthe server right from that console.\n\n291\n00:14:06.880 --> 00:14:10.000\nAnd when I saw that it was grayed out,\nthe credential was not available.\n\n292\n00:14:10.000 --> 00:14:12.030\nAnd it was not resolving the credential,\n\n293\n00:14:12.030 --> 00:14:14.480\nthat led me to understand the domain\ncontroller must have died.\n\n294\n00:14:14.480 --> 00:14:16.389\nAnd that's how I figured\nout what the problem was.\n\n295\n00:14:16.389 --> 00:14:19.212\nI could have obviously just gone to the\ndomain controller and looked at it easily.\n\n296\n00:14:19.212 --> 00:14:20.482\n[LAUGH] solved the problem as well.\n\n297\n00:14:20.482 --> 00:14:22.997\nBut I didn't realize I had\na communication problem and\n\n298\n00:14:22.997 --> 00:14:25.471\nactually that the domain\ncontroller blue screened.\n\n299\n00:14:25.471 --> 00:14:29.267\nSo I didn't think to go look at\nthe machine, I assumed it was okay.\n\n300\n00:14:29.267 --> 00:14:33.090\nBut running through this wizard indicated\nto me from a skills perspective.\n\n301\n00:14:33.090 --> 00:14:36.897\nAnd a troubleshooting perspective,\nlogically hey, this was not working.\n\n302\n00:14:36.897 --> 00:14:39.607\nThe only reason would be name\nresolution is not available.\n\n303\n00:14:39.607 --> 00:14:42.181\nThat means domain and or\nDNS in this case both.\n\n304\n00:14:42.181 --> 00:14:45.413\nAre unavailable and sure enough when I\nwent to look the system had crashed.\n\n305\n00:14:45.413 --> 00:14:48.805\nSo, I can configure and\nfinish configuration here.\n\n306\n00:14:48.805 --> 00:14:51.853\nAnd it would allow me to authorize\nthe tour, the only thing the wizard does.\n\n307\n00:14:51.853 --> 00:14:55.593\nSo you could run it either way, you don't\nhave to do it from here as you saw.\n\n308\n00:14:55.593 --> 00:14:58.930\nWe can go in right to\nthe server there we go.\n\n309\n00:14:58.930 --> 00:15:03.230\nGo right to the console as we're about\nto do an authorized ride from here.\n\n310\n00:15:03.230 --> 00:15:03.953\nBut you could do it either way.\n\n311\n00:15:03.953 --> 00:15:05.088\nJust so you know.\n\n312\n00:15:05.088 --> 00:15:08.439\nIf it comes up on the exam or if you're\never in that position where somebody's\n\n313\n00:15:08.439 --> 00:15:10.510\nsaying, no you got to go\nto that wizard screen.\n\n314\n00:15:10.510 --> 00:15:11.166\nGo do it there.\n\n315\n00:15:11.166 --> 00:15:11.958\nYou can do it either way.\n\n316\n00:15:11.958 --> 00:15:12.806\nIt's totally up to you.\n\n317\n00:15:12.806 --> 00:15:13.782\nIt does the same thing.\n\n318\n00:15:13.782 --> 00:15:15.330\nIt's just a matter of what it looks like.\n\n319\n00:15:15.330 --> 00:15:17.060\nSo we're gonna click authorize there.\n\n320\n00:15:17.060 --> 00:15:18.191\nYou'll see it doesn't take long.\n\n321\n00:15:18.191 --> 00:15:20.030\nThere's really no bells or whistles.\n\n322\n00:15:20.030 --> 00:15:21.770\nNo crazy stuff happens.\n\n323\n00:15:21.770 --> 00:15:24.320\nWe just see now that it\nswitches to on authorize,\n\n324\n00:15:24.320 --> 00:15:26.860\nwhich means that we are authorized,\nand everything is good.\n\n325\n00:15:26.860 --> 00:15:28.142\nSo just so you know, right?\n\n326\n00:15:28.142 --> 00:15:29.230\nAnd that's what we're doing.\n\n327\n00:15:29.230 --> 00:15:31.550\nSo we've authorized.\n\n328\n00:15:31.550 --> 00:15:34.850\nNow what we're gonna do,\ncome in here, go to IPv4.\n\n329\n00:15:34.850 --> 00:15:35.950\nSo we'll open this up.\n\n330\n00:15:35.950 --> 00:15:38.664\nLet's go here, right click,\ninstead of adding a scope.\n\n331\n00:15:38.664 --> 00:15:39.670\nWhich we've already done.\n\n332\n00:15:39.670 --> 00:15:42.990\nWe're gonna look at some of\nthe properties that we can add in.\n\n333\n00:15:42.990 --> 00:15:47.395\nThings like the, either the DCHP\naudit logging, booting table,\n\n334\n00:15:47.395 --> 00:15:50.633\nthe DNS integration we\nwere just talking about.\n\n335\n00:15:50.633 --> 00:15:53.070\nName protection, which is what\nwe are going to take a look at.\n\n336\n00:15:53.070 --> 00:15:54.199\nAl these options are here,\n\n337\n00:15:54.199 --> 00:15:56.910\nwe'll be taking a look at fail\nover in an upcoming conversation.\n\n338\n00:15:56.910 --> 00:15:58.320\nAs well.\n\n339\n00:15:58.320 --> 00:16:00.760\nAnd let's just start here quickly\nwith some of these options.\n\n340\n00:16:00.760 --> 00:16:02.490\nTake a look at some of\nthe things that are here.\n\n341\n00:16:02.490 --> 00:16:05.390\nLet me center this on\nthe screen just a little bit.\n\n342\n00:16:05.390 --> 00:16:07.900\nAll right, so\nwe can automatically update statistics.\n\n343\n00:16:07.900 --> 00:16:09.542\nWe can specify a hard-coded time here.\n\n344\n00:16:09.542 --> 00:16:13.070\nWe wanna refresh the statistics,\nlook at the DHCP database and\n\n345\n00:16:13.070 --> 00:16:14.650\nget an update as to what's going on.\n\n346\n00:16:14.650 --> 00:16:18.960\nSystem does that behind the scenes, but we\ncan actually push that agenda forward by\n\n347\n00:16:18.960 --> 00:16:21.830\nsaying I want you to update every hour or\nwhatever the case may be.\n\n348\n00:16:21.830 --> 00:16:24.810\nSo we can modify that if we\nchoose to by setting that here.\n\n349\n00:16:24.810 --> 00:16:27.862\nNotice DHCP audit logging\nis enabled by default.\n\n350\n00:16:27.862 --> 00:16:30.780\nAudit logging keeps track of all\nthe activities we engage in,\n\n351\n00:16:30.780 --> 00:16:35.440\ngiving us the ability to look at the DHCP\nlogs and find information about good,\n\n352\n00:16:35.440 --> 00:16:37.040\nbad, things that are occurring.\n\n353\n00:16:37.040 --> 00:16:39.080\nIf we have a fault,\nit will be noted there.\n\n354\n00:16:39.080 --> 00:16:42.810\nIf we have an attempt to authorize and\nit was not successful, we'd see it there.\n\n355\n00:16:42.810 --> 00:16:46.890\nAll the activity we want to take track, or\ntake note of and track, will be available.\n\n356\n00:16:46.890 --> 00:16:50.670\nWe could go into the DHCP directory and\nWindows system 32, look for\n\n357\n00:16:50.670 --> 00:16:52.300\nthe logs there, and\nthat's where we'll find them.\n\n358\n00:16:52.300 --> 00:16:54.070\nSo just make sure you're aware of that.\n\n359\n00:16:54.070 --> 00:16:56.620\nWe could add the boot P table here.\n\n360\n00:16:56.620 --> 00:16:59.910\nIt is a folder that gets added, we'll\njust add it in if we check off the box.\n\n361\n00:16:59.910 --> 00:17:03.300\nAnd it shows up right up under here,\nand we're able to then track and\n\n362\n00:17:03.300 --> 00:17:08.440\nlook at information in the Bootp table\nthat shows us the configuration entries\n\n363\n00:17:08.440 --> 00:17:10.290\nthat support the Bootp clients.\n\n364\n00:17:10.290 --> 00:17:13.780\nJust all the information we're using to\nconnect with them and lease addresses.\n\n365\n00:17:13.780 --> 00:17:15.990\nYou don't normally go in there and mess\naround with that, but if you wanna see it,\n\n366\n00:17:15.990 --> 00:17:17.650\nyou can just check off the box.\n\n367\n00:17:17.650 --> 00:17:20.370\nAnd when you do,\nlet me just show you what it looks like.\n\n368\n00:17:20.370 --> 00:17:21.990\nWe just get a folder in there.\n\n369\n00:17:21.990 --> 00:17:25.160\nAnd you could then see entries that\nwould be there once it's all configured.\n\n370\n00:17:25.160 --> 00:17:28.280\nCreate a boot image there and specify\ninformation about how that would work.\n\n371\n00:17:28.280 --> 00:17:32.280\nSo we can go in and take a look at\nthat if we want to, it's up to us.\n\n372\n00:17:32.280 --> 00:17:34.220\nJust go back to where we\nwere with properties.\n\n373\n00:17:34.220 --> 00:17:36.940\nI'm just gonna remove that,\njust because we don't need it there for\n\n374\n00:17:36.940 --> 00:17:37.640\nwhat we're doing.\n\n375\n00:17:37.640 --> 00:17:40.350\nBut obviously,\nbe easy enough put it back as you saw.\n\n376\n00:17:40.350 --> 00:17:41.820\nAll right, so we have that.\n\n377\n00:17:41.820 --> 00:17:45.620\nOn the DNS tab, this is where we're\ngonna integrate DHCP and DNS.\n\n378\n00:17:45.620 --> 00:17:50.140\nWe've talked a lot about the value\nof having DHCP do the updates for\n\n379\n00:17:50.140 --> 00:17:54.240\nclients that are not capable of doing\ndynamic secured updates with DNS.\n\n380\n00:17:54.240 --> 00:17:57.670\nRemember, DNS, and\nCherokee made a great point earlier, or\n\n381\n00:17:57.670 --> 00:18:01.325\nreinforced the point that we both\nhad made in prior conversations,\n\n382\n00:18:01.325 --> 00:18:06.265\nbut reminded us the fact that DHCP is\nnot a Microsoft proprietary protocol.\n\n383\n00:18:06.265 --> 00:18:10.305\nAnd I liked the fact that she specified\nas a protocol, because it is, right?\n\n384\n00:18:10.305 --> 00:18:13.795\nAs well as a service which we\noften think of it as incorrectly,\n\n385\n00:18:13.795 --> 00:18:17.095\ncuz it is protocol that's\nused to provide IP addresses.\n\n386\n00:18:17.095 --> 00:18:19.790\nBut it is running in Microsoft.\n\n387\n00:18:19.790 --> 00:18:22.460\nBut we leverage it, but\nit's not Microsoft specific.\n\n388\n00:18:22.460 --> 00:18:26.850\nWe support it and Microsoft implements it,\nbut it's not something Microsoft created.\n\n389\n00:18:26.850 --> 00:18:30.860\nWe talk about Winds, Winds is a Microsoft\nspecific technology created to support\n\n390\n00:18:30.860 --> 00:18:35.480\nthe use of NetBios name resolution, and\nNetBios requests for name resolution.\n\n391\n00:18:35.480 --> 00:18:39.380\nBut DHCP and\nDNS are non-Microsoft specific.\n\n392\n00:18:39.380 --> 00:18:41.520\nAnd DNS falls into this category as well.\n\n393\n00:18:41.520 --> 00:18:45.738\nDNS is gonna be predating\nMicrosoft by some time.\n\n394\n00:18:45.738 --> 00:18:49.100\nWe refer to it traditionally in\nthe non-Microsoft world as BIND.\n\n395\n00:18:49.100 --> 00:18:52.860\nBIND servers are DNS servers\nout in the Linux-Unix world.\n\n396\n00:18:52.860 --> 00:18:57.150\nAnd we can use and support BIND servers,\nnon-Microsoft DNS servers,\n\n397\n00:18:57.150 --> 00:18:59.110\nwith Microsoft infrastructure.\n\n398\n00:18:59.110 --> 00:19:04.600\nAnd we can use non-Microsoft clients\nwith a Microsoft-centric DNS server.\n\n399\n00:19:04.600 --> 00:19:06.410\nBut there's a catch when we go that way,\n\n400\n00:19:06.410 --> 00:19:10.540\nwhere we say non-Microsoft clients\ntalk to a Microsoft DNS server.\n\n401\n00:19:10.540 --> 00:19:14.740\nThese days, when I say these\ndays I mean Server 12, 12 R2.\n\n402\n00:19:14.740 --> 00:19:18.500\nLooking ahead, Server 16 or\nwhatever may come after that.\n\n403\n00:19:18.500 --> 00:19:21.110\nSo more modern operating systems.\n\n404\n00:19:21.110 --> 00:19:25.330\nWe are using secure, dynamic, updating of\nthe DNS traditionally as a setting for\n\n405\n00:19:25.330 --> 00:19:28.710\nour clients to avoid rogue registrations,\nright?\n\n406\n00:19:28.710 --> 00:19:32.730\nOr client cache poisoning of\nthe DNS name resolution system,\n\n407\n00:19:32.730 --> 00:19:36.045\nto prevent systems that are registering,\neven though they're not supposed to be\n\n408\n00:19:36.045 --> 00:19:40.165\nthere from showing up and attempting to\nsteer our clients away from our systems\n\n409\n00:19:40.165 --> 00:19:43.705\ninto some sort of a bad situation\nwhere they could be attacked.\n\n410\n00:19:43.705 --> 00:19:47.015\nMalware could be placed on them,\nall sorts of stuff can happen, right?\n\n411\n00:19:47.015 --> 00:19:49.895\nThat is prevented by using\nsecure dynamic updates.\n\n412\n00:19:49.895 --> 00:19:53.065\nClients have to transmit\ntheir data securely.\n\n413\n00:19:53.065 --> 00:19:55.660\nBut they have to also be\na member of the domain and\n\n414\n00:19:55.660 --> 00:19:58.190\nhave the ability to register with DNS and\nprove who they\n\n415\n00:19:58.190 --> 00:20:01.840\nare with a certain operating system\nversion and things like that.\n\n416\n00:20:01.840 --> 00:20:06.595\nOlder Microsoft clients, Windows NT4,\nWindows XP, things like that, and\n\n417\n00:20:06.595 --> 00:20:09.190\nnon-Microsoft clients won't\nhave that capability.\n\n418\n00:20:09.190 --> 00:20:12.890\nAnd so if we go to an active\ndirectory integrated DNS zone and\n\n419\n00:20:12.890 --> 00:20:17.050\nonly allow secure dynamic updates,\nwe're severely curtailing or\n\n420\n00:20:17.050 --> 00:20:20.720\nlimiting our ability to be able\nto register those clients in DNS.\n\n421\n00:20:20.720 --> 00:20:24.290\nBecause not all the clients that\nare in these categories will fall into\n\n422\n00:20:24.290 --> 00:20:26.565\na solution where they\ncan actually do that.\n\n423\n00:20:26.565 --> 00:20:29.175\nAnd so we are preventing,\npotentially, a lot of problems.\n\n424\n00:20:29.175 --> 00:20:30.955\nWe're also cutting a lot\nof clients out of DNS,\n\n425\n00:20:30.955 --> 00:20:32.715\nand we may not be able to resolve them.\n\n426\n00:20:32.715 --> 00:20:33.785\nAnd this is an issue.\n\n427\n00:20:33.785 --> 00:20:37.832\nSo using DHCP to do the registration\non behalf of those clients, and\n\n428\n00:20:37.832 --> 00:20:42.447\nto allow those clients who cannot meet\nthe criteria to still be registered but\n\n429\n00:20:42.447 --> 00:20:47.219\nto have that registration done on their\nbehalf through DHCP is an option for us.\n\n430\n00:20:47.219 --> 00:20:49.100\nAnd that's what we're setting up and\ndoing here.\n\n431\n00:20:49.100 --> 00:20:52.320\nSo enabling DNS dynamic updates\naccording to the setting below.\n\n432\n00:20:52.320 --> 00:20:55.900\nNotice that is the default setting,\nmeaning by default a scope\n\n433\n00:20:55.900 --> 00:21:00.440\nthat is created in DHCP will automatically\nhave that capability assigned to it.\n\n434\n00:21:00.440 --> 00:21:03.010\nWe assume the preferences update\n\n435\n00:21:03.010 --> 00:21:07.230\ninto DNS dynamically with DHCP\nregistration information.\n\n436\n00:21:07.230 --> 00:21:08.510\nBut we have some constraints,\n\n437\n00:21:08.510 --> 00:21:11.540\nsome rules, some things that we\nwanna make sure are happening.\n\n438\n00:21:11.540 --> 00:21:15.650\nFor Microsoft exam, in case you're not\nfamiliar with this, default settings and\n\n439\n00:21:15.650 --> 00:21:19.430\ninterfaces like this love to ask\nquestions about those default settings.\n\n440\n00:21:19.430 --> 00:21:25.180\nHey, what would be the default setting on\nthat IPv4 scope for DNS dynamic updating?\n\n441\n00:21:25.180 --> 00:21:26.135\nAnd you'd have to know what it is.\n\n442\n00:21:26.135 --> 00:21:29.173\nSo take note of the default settings\nwhen we talk about them, even though you\n\n443\n00:21:29.173 --> 00:21:32.406\nmanipulate them, you change them,\nit's real important to know what they are.\n\n444\n00:21:32.406 --> 00:21:33.342\nVery, very important.\n\n445\n00:21:33.342 --> 00:21:37.030\n&gt;&gt; Or even just where would you\ngo to change the default setting?\n\n446\n00:21:37.030 --> 00:21:40.060\nKnowing and being familiar with\nthe operating system, obviously,\n\n447\n00:21:40.060 --> 00:21:42.530\nthat's their product, that's what\nthey're wanting you to know, right?\n\n448\n00:21:42.530 --> 00:21:45.270\n&gt;&gt; Gonna definitely wanna\ncheck your knowledge or\n\n449\n00:21:45.270 --> 00:21:47.530\nvalidate your ability to\nunderstand where to go.\n\n450\n00:21:47.530 --> 00:21:51.790\nKeep in mind, the exams are these days not\njust multiple choice questions, right?\n\n451\n00:21:51.790 --> 00:21:54.110\nYears ago,\nyou would have just had 80, 100,\n\n452\n00:21:54.110 --> 00:21:56.340\nwhatever it was,\nmultiple choice questions.\n\n453\n00:21:56.340 --> 00:21:59.551\nNo click here, hot spot,\nclick on this item, and\n\n454\n00:21:59.551 --> 00:22:03.570\nhow do I configure it, maybe even go in,\nwrite a piece of PowerShell script or\n\n455\n00:22:03.570 --> 00:22:05.780\ncode that may do something,\nwhatever it is.\n\n456\n00:22:05.780 --> 00:22:08.595\nWe have simulated environments\nin a lot of these exams today.\n\n457\n00:22:08.595 --> 00:22:11.845\nAnd as a result, you may actually have to\ngo in, right-click in an interface that\n\n458\n00:22:11.845 --> 00:22:16.035\nlooks like this, bring up these settings,\nand click there to accomplish something.\n\n459\n00:22:16.035 --> 00:22:17.795\nAnd say, okay, boom, and\nthen click OK, done.\n\n460\n00:22:17.795 --> 00:22:19.575\nAnd that's the answer to the question.\n\n461\n00:22:19.575 --> 00:22:22.905\nYou may actually have to do that\nin order to answer the question\n\n462\n00:22:22.905 --> 00:22:26.105\nas opposed to just choosing the option\nout of a multiple choice setting\n\n463\n00:22:26.105 --> 00:22:27.535\nright at the bottom of the page.\n\n464\n00:22:27.535 --> 00:22:31.835\nSo it can go multiple ways, and Cherokee's\nguidance about knowing the interfaces,\n\n465\n00:22:31.835 --> 00:22:34.480\nknowing where to go, really helpful\nif you wanna pass those exams.\n\n466\n00:22:34.480 --> 00:22:36.610\n&gt;&gt; Well, there's a reason why you're\nwalking through all these steps and\n\n467\n00:22:36.610 --> 00:22:37.400\nshowing everyone.\n\n468\n00:22:37.400 --> 00:22:40.905\nIt's not just for Adam's health here,\nbut it's for you, you guys.\n\n469\n00:22:40.905 --> 00:22:43.350\n[LAUGH]\n&gt;&gt; Actually it's cuz you told me to, but\n\n470\n00:22:43.350 --> 00:22:44.230\nthat's beside the point.\n\n471\n00:22:44.230 --> 00:22:47.000\nAll right, so we're gonna continue\nour conversation here, all right?\n\n472\n00:22:47.000 --> 00:22:49.950\nSo enable DNS dynamic updates\naccording to the settings below.\n\n473\n00:22:49.950 --> 00:22:50.780\nWell, what are our settings?\n\n474\n00:22:50.780 --> 00:22:53.180\nBy default,\nI just put it back to where it was, right?\n\n475\n00:22:53.180 --> 00:22:54.070\nYou saw me click.\n\n476\n00:22:54.070 --> 00:22:54.941\nSo the default setting,\n\n477\n00:22:54.941 --> 00:22:59.200\ndynamically update DNS records only,\nonly if requested by the DHCP clients.\n\n478\n00:22:59.200 --> 00:23:01.830\nMeaning, the client says, hey,\nI need you to update for me.\n\n479\n00:23:01.830 --> 00:23:02.940\nThat's the default.\n\n480\n00:23:02.940 --> 00:23:05.350\nAutomatically update no matter what,\n\n481\n00:23:05.350 --> 00:23:08.140\nregardless whether the client\nmakes a connection request or not.\n\n482\n00:23:08.140 --> 00:23:11.020\nThat's an option we can set, but\nthat's not the default setting.\n\n483\n00:23:11.020 --> 00:23:12.540\nMake sure you are familiar with that.\n\n484\n00:23:12.540 --> 00:23:15.650\nWe can change this, and\nobviously specify what we wanna do.\n\n485\n00:23:15.650 --> 00:23:18.120\nDiscard A host records, capital A.\n\n486\n00:23:18.120 --> 00:23:19.710\nWe're talking about DNS records now.\n\n487\n00:23:19.710 --> 00:23:24.410\nSo a host record, a capital A record,\nis the record that equates a host name,\n\n488\n00:23:24.410 --> 00:23:29.170\nserver1, with an IP address,\n1.2.3.4 in the DNS server.\n\n489\n00:23:29.170 --> 00:23:31.100\nMost common name record that we create, or\n\n490\n00:23:31.100 --> 00:23:34.300\nmost common record we create\nin DNS will be a host record.\n\n491\n00:23:34.300 --> 00:23:37.100\nThat's the majority,\nthe preponderance of the records we see.\n\n492\n00:23:37.100 --> 00:23:38.581\nSo capital A, host record.\n\n493\n00:23:38.581 --> 00:23:44.187\nFour As, all four capital A, host records\nfor IPv6 as opposed to IPv4, right?\n\n494\n00:23:44.187 --> 00:23:46.695\nWe're talking about IPv4 right now,\nso just be aware of that.\n\n495\n00:23:46.695 --> 00:23:51.291\nBut we're talking about traditional\nhost records and PTR, pointer records,\n\n496\n00:23:51.291 --> 00:23:54.460\nreverse lookup records for\nreverse lookup zones.\n\n497\n00:23:54.460 --> 00:23:57.830\nInstead of doing the host name to IP,\nwe do the IP to the host name, right?\n\n498\n00:23:57.830 --> 00:23:58.850\nReverse that.\n\n499\n00:23:58.850 --> 00:24:01.008\nWe have to create those,\nthey're not there by default.\n\n500\n00:24:01.008 --> 00:24:03.330\nBut we're talking about housekeeping here.\n\n501\n00:24:03.330 --> 00:24:07.290\nOnce those systems are set up,\nonce we register in DNS,\n\n502\n00:24:07.290 --> 00:24:10.480\nwe're gonna have because DHCP is\ncontrolling that registration.\n\n503\n00:24:10.480 --> 00:24:13.790\nWe're gonna have all these records\nover in DNS that are sitting there.\n\n504\n00:24:13.790 --> 00:24:18.160\nThat normally DNS itself would get rid\nof when we take the client away and\n\n505\n00:24:18.160 --> 00:24:20.700\nthe client says, hey, I'm leaving,\nI'm no longer here and\n\n506\n00:24:20.700 --> 00:24:22.490\nDNS will do what's called scavenging.\n\n507\n00:24:22.490 --> 00:24:25.802\nIt will go through on a predetermined\ntime value, every 70 minutes,\n\n508\n00:24:25.802 --> 00:24:27.080\nhours, days, whatever.\n\n509\n00:24:27.080 --> 00:24:29.510\nAnd it will scavenge what\nis called stale records.\n\n510\n00:24:29.510 --> 00:24:30.667\nRecords that have been marked for\n\n511\n00:24:30.667 --> 00:24:32.497\ndeletion that are not active\nafter a period of time.\n\n512\n00:24:32.497 --> 00:24:35.404\nAnd this is how we call the database,\nso keep it up to date, so\n\n513\n00:24:35.404 --> 00:24:38.311\nwe don't resolve old systems\nthat are not online anymore and\n\n514\n00:24:38.311 --> 00:24:42.050\nsend you off into space trying to\nconnect to something that isn't there.\n\n515\n00:24:42.050 --> 00:24:43.730\n&gt;&gt; Make sure you're getting\naccurate information.\n\n516\n00:24:43.730 --> 00:24:44.720\n&gt;&gt; Right.\nVery important to do that,\n\n517\n00:24:44.720 --> 00:24:49.290\ncuz we gotta keep the databases clean and\nas essentially filtered and\n\n518\n00:24:49.290 --> 00:24:52.340\nreally just focused on the active\nmachines as possible, or\n\n519\n00:24:52.340 --> 00:24:53.430\nwe get a lot of garbage in there.\n\n520\n00:24:53.430 --> 00:24:54.820\nWe start having problems.\n\n521\n00:24:54.820 --> 00:24:57.360\nAnd so,\nthat's normally handled by DNS itself.\n\n522\n00:24:57.360 --> 00:25:00.430\nBut because DNS is not actually\nregistering these clients.\n\n523\n00:25:00.430 --> 00:25:03.330\nBut they're coming from a third party,\nDHCP.\n\n524\n00:25:03.330 --> 00:25:07.160\nHere, we have the ability to say\nto DHCP through DHCP to DNS,\n\n525\n00:25:07.160 --> 00:25:09.400\nhey, clean up after yourself.\n\n526\n00:25:09.400 --> 00:25:12.710\nWhen those clients are no longer there and\nDHCP gets rid of them, and\n\n527\n00:25:12.710 --> 00:25:18.210\nthose leases are no longer active, DHCP\nsends a request over to DNS that says,\n\n528\n00:25:18.210 --> 00:25:24.950\nby the way, hey, that Cherokee client with\n1.2.3.4, hey, she's not here anymore.\n\n529\n00:25:24.950 --> 00:25:28.376\nLet's clean up and make sure we get rid of\nthose records so we're not trying to tell\n\n530\n00:25:28.376 --> 00:25:31.569\npeople where she is because she's not\nactively part of this group anymore.\n\n531\n00:25:31.569 --> 00:25:34.690\nAnd DHCP's responsible for that, so\nwe wanna make sure we know that and\n\n532\n00:25:34.690 --> 00:25:38.265\nthe default setting is, let's do that,\nthat's gonna be important.\n\n533\n00:25:38.265 --> 00:25:40.365\nSo dynamically update DNS records for\n\n534\n00:25:40.365 --> 00:25:45.145\nDHCP clients that do not request updates,\nfor example, an older one, NT4.\n\n535\n00:25:46.255 --> 00:25:49.941\nAgain, we may not be using really,\nreally old infrastructure anymore,\n\n536\n00:25:49.941 --> 00:25:53.211\nthis is becoming less and\nless of an issue, but as I talk about from\n\n537\n00:25:53.211 --> 00:25:57.015\ntime to time in the real world, i still\nhave clients that are running this old\n\n538\n00:25:57.015 --> 00:26:00.595\ninfrastructure, for a variety of\nbackwards compatibility reasons.\n\n539\n00:26:00.595 --> 00:26:02.873\nAnd if that's the case,\nyou may wanna go ahead and\n\n540\n00:26:02.873 --> 00:26:05.380\ncheck this off to ensure\nthat that happens correctly.\n\n541\n00:26:05.380 --> 00:26:06.650\nSo again, up to you.\n\n542\n00:26:06.650 --> 00:26:09.880\nAnd then, disable dynamic updates for\nDNS, appoint to records only.\n\n543\n00:26:09.880 --> 00:26:12.730\nMeaning don't dynamically\nupdate reverse lookups, but\n\n544\n00:26:12.730 --> 00:26:16.360\ndynamically update obviously the host\nrecords, the forward lookups.\n\n545\n00:26:16.360 --> 00:26:19.780\nSo you can mix and match these settings\nto figure out what you want done.\n\n546\n00:26:19.780 --> 00:26:23.490\nUp to us to decide how to do that,\nyou guys will obviously act accordingly.\n\n547\n00:26:23.490 --> 00:26:26.600\nBut what we're gonna do here is we're\ngonna take a look at name protection.\n\n548\n00:26:26.600 --> 00:26:28.420\nAnother setting that's\nvery important here.\n\n549\n00:26:28.420 --> 00:26:31.120\nSitting at the bottom,\nit's kinda patiently waiting for us.\n\n550\n00:26:31.120 --> 00:26:34.360\nAnd let's talk about what DHCP\nname protection is going to be.\n\n551\n00:26:34.360 --> 00:26:38.770\nWe have to turn it on, so configuring is\nhow we will have the option to enable it.\n\n552\n00:26:38.770 --> 00:26:40.730\nAnd we can check off the box there.\n\n553\n00:26:40.730 --> 00:26:45.350\nLet's just put this over to side here for\njust a second, kinda center that so\n\n554\n00:26:45.350 --> 00:26:46.320\nwe can see.\n\n555\n00:26:46.320 --> 00:26:49.680\nNow, in order to turn it on,\nwe just enable it, that's all we do.\n\n556\n00:26:49.680 --> 00:26:51.559\nBut let's talk about what\nname protection does.\n\n557\n00:26:52.680 --> 00:26:56.920\nName protection ensures that we're not\ngonna overwrite as we do dynamic updates\n\n558\n00:26:56.920 --> 00:26:58.130\ninto DNS.\n\n559\n00:26:58.130 --> 00:27:01.950\nClients that already have records\nthere with the same exact information.\n\n560\n00:27:01.950 --> 00:27:06.490\nWe may have pre-existing clients that\nhave registered with the name Cherokee 1\n\n561\n00:27:06.490 --> 00:27:09.130\nwith an IP address of 1.2.3.4,\nfor instance, hypothetically.\n\n562\n00:27:09.130 --> 00:27:13.160\nAnd if we have that machine\nname already in DNS, and\n\n563\n00:27:13.160 --> 00:27:17.860\nwe push a dynamic update from DHCP\nover there then we may override, or\n\n564\n00:27:17.860 --> 00:27:21.400\ncreate a duplicate record, or\nsome sort of conflict may occur.\n\n565\n00:27:21.400 --> 00:27:26.179\nBecause DHCP is authorized,\nis valid as a name resolution provider.\n\n566\n00:27:26.179 --> 00:27:28.352\nAnd it's gonna push that\ninformation into DNS,\n\n567\n00:27:28.352 --> 00:27:31.532\nas we've already established\nwith the settings back here.\n\n568\n00:27:31.532 --> 00:27:36.343\nWe wanna avoid overwrite scenarios where\nwe modify the address information and\n\n569\n00:27:36.343 --> 00:27:41.239\nCherokee 1 is not 1.2.3.4 anymore,\nbut becomes 1921680.5.\n\n570\n00:27:41.239 --> 00:27:45.813\nTaking that correct information\nthat Cherokee's machine provided\n\n571\n00:27:45.813 --> 00:27:48.097\ndirectly to DNS and removing it and\n\n572\n00:27:48.097 --> 00:27:52.830\nadding something different that\nnow does not allow us to resolve.\n\n573\n00:27:52.830 --> 00:27:55.780\nCherokee's machine properly,\nCherokee 1 or whatever it is.\n\n574\n00:27:55.780 --> 00:28:00.390\nThis is a very common scenario, this can\nhappen, and what name protection does is\n\n575\n00:28:00.390 --> 00:28:06.410\nit says to the DHCP-DNS interface, hey,\nif DHCP says we have some information,\n\n576\n00:28:06.410 --> 00:28:10.710\nbut it's already in DNS authoritatively,\ndo not overwrite what's in DNS.\n\n577\n00:28:10.710 --> 00:28:12.645\nIn favor of what DHCP provides,\n\n578\n00:28:12.645 --> 00:28:16.090\ncuz what's already in DNS should\nbe seen as being authoritative.\n\n579\n00:28:16.090 --> 00:28:21.130\nSo it marks that connection,\nthose records, that conflict issue in such\n\n580\n00:28:21.130 --> 00:28:26.150\na way that we see the name registrations\nin DNS taking precedence and\n\n581\n00:28:26.150 --> 00:28:28.990\nthe DHCP information will\nnot be allow to override it.\n\n582\n00:28:28.990 --> 00:28:29.980\nSo this is very important,\n\n583\n00:28:29.980 --> 00:28:33.040\nbecause you'll see here name protection\nprovides the following capabilities,\n\n584\n00:28:33.040 --> 00:28:37.980\nDHCP server registers records on behalf of\nclients; however, we'll get to Cherokee\n\n585\n00:28:37.980 --> 00:28:41.590\nin a minute, she wants to chime in here,\njust making sure you're clear on this.\n\n586\n00:28:41.590 --> 00:28:44.800\nHowever, if there is a different client\nalready registered with this name,\n\n587\n00:28:44.800 --> 00:28:46.060\nDHCP update fails.\n\n588\n00:28:46.060 --> 00:28:50.370\nIn other words, as I said, we're giving\npreference to what already exists in DNS.\n\n589\n00:28:50.370 --> 00:28:52.110\nThat's what this solution does.\n\n590\n00:28:52.110 --> 00:28:56.220\nNow, it's named DHCP name protection,\nprobably not the best name for it,\n\n591\n00:28:56.220 --> 00:28:57.170\ngiven what it does.\n\n592\n00:28:57.170 --> 00:29:00.620\nIt really should be DNS record\nregistration protection,\n\n593\n00:29:00.620 --> 00:29:01.140\nor something like that.\n\n594\n00:29:01.140 --> 00:29:02.510\nBecause what it does is,\n\n595\n00:29:02.510 --> 00:29:07.218\nit fails the update from DHCP in\nfavor of preexisting updates in DNS.\n\n596\n00:29:07.218 --> 00:29:10.900\nBut just understand the logic of what\nthis does and why it's important.\n\n597\n00:29:10.900 --> 00:29:13.320\nAnd Cherokee wants to add\nsomething here real quick.\n\n598\n00:29:13.320 --> 00:29:15.160\n&gt;&gt; I just wanna say how\nit's a really cool idea.\n\n599\n00:29:15.160 --> 00:29:17.030\nBecause imagine,Adam,\nif we had something like-\n\n600\n00:29:17.030 --> 00:29:17.720\n&gt;&gt; And I'm gonna, I'm sorry,\n\n601\n00:29:17.720 --> 00:29:18.670\nI don't mean to cut you off.\n\n602\n00:29:18.670 --> 00:29:21.380\nI'm just gonna click OK while Cherokee's\ntalking just so we can move forward here.\n\n603\n00:29:21.380 --> 00:29:22.630\nSo go ahead, I apologize.\n\n604\n00:29:22.630 --> 00:29:23.505\n&gt;&gt; No worries.\n\n605\n00:29:23.505 --> 00:29:25.646\n&gt;&gt; Yep.\n&gt;&gt; But if we had something like this for\n\n606\n00:29:25.646 --> 00:29:27.926\nevery kinda static\nconfiguration that we set.\n\n607\n00:29:27.926 --> 00:29:32.910\nBecause static configuration\nare great if managed properly.\n\n608\n00:29:32.910 --> 00:29:37.306\nBut if we had some kinda setting like this\nfor our everyday lives just to make sure,\n\n609\n00:29:37.306 --> 00:29:39.551\nhey, I know this is the right thing to do.\n\n610\n00:29:39.551 --> 00:29:40.279\nGo ahead.\n\n611\n00:29:41.440 --> 00:29:42.835\nPerfect.\n\n612\n00:29:42.835 --> 00:29:45.317\nAdam's just staring at me like [SOUND],\nwhat is she talking about?\n\n613\n00:29:45.317 --> 00:29:47.060\nBut yeah, it's good.\n\n614\n00:29:47.060 --> 00:29:50.310\nOne can only hope and\ndesire for these things.\n\n615\n00:29:50.310 --> 00:29:54.080\nThat would be a perfect world [LAUGH].\n\n616\n00:29:54.080 --> 00:29:56.240\n&gt;&gt; Okay.\n[LAUGH] All right,\n\n617\n00:29:56.240 --> 00:30:00.840\nso in Cherokee's unicorn populated,\nrainbow filled world, it would be perfect.\n\n618\n00:30:00.840 --> 00:30:02.090\nShe's absolutely right.\n\n619\n00:30:02.090 --> 00:30:05.060\nAnd all kidding aside,\nall Cherokee is simply reminding us of\n\n620\n00:30:05.060 --> 00:30:08.770\nis the fact that look, we can assume\nthings are gonna work a certain way, and\n\n621\n00:30:08.770 --> 00:30:10.270\nit would be great if they did.\n\n622\n00:30:10.270 --> 00:30:12.210\nBut we all know from personal experience,\nand\n\n623\n00:30:12.210 --> 00:30:16.110\nif you don't, we're sharing that with you,\nthat it doesn't always turn out that way.\n\n624\n00:30:16.110 --> 00:30:17.710\nSo Cherokee's saying, hey, you know what?\n\n625\n00:30:17.710 --> 00:30:19.130\nTrust but verify.\n\n626\n00:30:19.130 --> 00:30:21.270\nPlan to be prepared and\nplan to be successful.\n\n627\n00:30:21.270 --> 00:30:25.740\nAnd ultimately, take advantage of those\nsettings that are there to ensure success\n\n628\n00:30:25.740 --> 00:30:29.030\ninstead of just hoping that the vendor's\nsmart enough to make it work that way.\n\n629\n00:30:29.030 --> 00:30:30.818\nYour Microsoft's a smart vendor, but\n\n630\n00:30:30.818 --> 00:30:34.512\nclearly they added an extra step here to\nensure something happens the right way.\n\n631\n00:30:34.512 --> 00:30:38.230\nIt's incumbent on us as administrators\nto be educated about that.\n\n632\n00:30:38.230 --> 00:30:42.130\nIncumbent on you to understand the value\nof that and to make good decision.\n\n633\n00:30:42.130 --> 00:30:45.680\nI tell my customers, tell my students,\ntell my kids all the time.\n\n634\n00:30:45.680 --> 00:30:47.710\nYou plan to succeed or you plan to fail.\n\n635\n00:30:47.710 --> 00:30:50.760\nYou make a choice but\neither way you're still planning.\n\n636\n00:30:50.760 --> 00:30:51.872\nBe smart plan to succeed.\n\n637\n00:30:51.872 --> 00:30:54.730\nTake advantage of the settings make\nsure you know how to use them.\n\n638\n00:30:54.730 --> 00:30:58.670\nDon’t plan to fail, it takes twice as long\nand it’s twice as difficult to cleanup\n\n639\n00:30:58.670 --> 00:31:01.720\nmesses that you could have prevented\njust by being smart in the first place.\n\n640\n00:31:01.720 --> 00:31:04.420\n&gt;&gt; Right,\nnot having a plan is planning to fail.\n\n641\n00:31:04.420 --> 00:31:07.105\n&gt;&gt; It is, you're still making a plan,\nyou're just making a really bad one.\n\n642\n00:31:07.105 --> 00:31:10.150\n&gt;&gt; [LAUGH] All right, so\nwhat do you think for our plan, Adam?\n\n643\n00:31:10.150 --> 00:31:13.381\nDo you think we should plan to have a part\nfour, or are we just about finished here?\n\n644\n00:31:13.381 --> 00:31:16.240\n&gt;&gt; I think we should plan to come back and\ntalk about DHCP failover.\n\n645\n00:31:16.240 --> 00:31:19.190\n&gt;&gt; All right, Adam,\nthat sounds like a great plan, so\n\n646\n00:31:19.190 --> 00:31:23.025\nwe'll come back here for a part four.\n\n647\n00:31:23.025 --> 00:31:25.924\n[SOUND] And ladies and gentlemen,\nyou heard it right there.\n\n648\n00:31:25.924 --> 00:31:29.760\nFor this show, we are out of time so\nwe'll go ahead and sign out.\n\n649\n00:31:29.760 --> 00:31:31.780\nRemember, I'm your host, Cherokee Boose.\n\n650\n00:31:31.780 --> 00:31:32.830\n&gt;&gt; I am Adam Gordon.\n\n651\n00:31:32.830 --> 00:31:35.423\n&gt;&gt; See you next time here at ITProTV.\n\n652\n00:31:35.423 --> 00:31:36.183\n&gt;&gt; Take care everybody.\n\n653\n00:31:36.183 --> 00:31:43.830\n[MUSIC]\n\n654\n00:31:43.830 --> 00:31:45.975\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "223606190"
        },
        {
          "description": "In this episode, Adam and Cherokee pick up with configuring DHCP failover. Adam explains the the two following modes including hot standby and Load sharing. He also shows additional configuration options like adjusting the auto state switchover interval and more!",
          "length": "1375",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-4-advances_network_services_pt4-0602817-PGM.00_24_21_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-4-advances_network_services_pt4-0602817-PGM.00_24_21_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-4-advances_network_services_pt4-0602817-PGM.00_24_21_25.Still001-sm.jpg",
          "title": "Advanced Network Services Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.300 --> 00:00:06.038\nWelcome to ITProTV,\nI'm your host Don Pezet, [CROSSTALK]\n\n2\n00:00:06.038 --> 00:00:08.474\n[MUSIC]\n\n3\n00:00:08.474 --> 00:00:12.188\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.188 --> 00:00:17.579\n&gt;&gt; Welcome to your MCSA 70-412 series,\nI'm your show host, Cherokee Boose.\n\n5\n00:00:17.579 --> 00:00:21.825\nIn this show we'll continue taking\na look at Advanced Network Services,\n\n6\n00:00:21.825 --> 00:00:26.070\nspecifically we'll be looking at\nsomething called DHCP failover.\n\n7\n00:00:26.070 --> 00:00:30.700\nFrom a business perspective continuity\nis huge, we wanna have that uptime.\n\n8\n00:00:30.700 --> 00:00:32.090\nAnd today in studios,\n\n9\n00:00:32.090 --> 00:00:36.290\nwe have Mr Adam Gordon to show us\nhow we can implement DHCP failover.\n\n10\n00:00:36.290 --> 00:00:40.766\nTo provide more redundancy better uptime\nfor our production environment, so\n\n11\n00:00:40.766 --> 00:00:43.013\nthank you for joining us today, Adam.\n\n12\n00:00:43.013 --> 00:00:45.418\n&gt;&gt; You are welcome, you are welcome,\nit's a great topic,\n\n13\n00:00:45.418 --> 00:00:48.142\nsomething pretty exciting to talk\nabout and think about and do.\n\n14\n00:00:48.142 --> 00:00:50.901\nBecause, as Cherokee pointed out,\nredundancy and\n\n15\n00:00:50.901 --> 00:00:54.550\nthe capability to survive through\na BCDR event or a series of events.\n\n16\n00:00:54.550 --> 00:00:58.054\nDepending on what we're talking about, is\nso critical to business today, right, we\n\n17\n00:00:58.054 --> 00:01:01.421\nreally can't afford to be offline at all,\nlet alone for extended periods of time.\n\n18\n00:01:01.421 --> 00:01:05.757\nAnd thankfully the DHCP gurus and wizards\nat Microsoft have come up with a way for\n\n19\n00:01:05.757 --> 00:01:07.707\nus to prevent that from happening.\n\n20\n00:01:07.707 --> 00:01:11.384\nYears ago, we didn't have the ability to\nconfigure failover the way we do today.\n\n21\n00:01:11.384 --> 00:01:14.712\nWe're gonna walk you through how to do\nthis in just a minute in the interface.\n\n22\n00:01:14.712 --> 00:01:19.320\nBut what we used to have to do was\nmanually cross-pollinate scopes\n\n23\n00:01:19.320 --> 00:01:23.941\nusing generically what we used\nto refer to as the 80/20 rule.\n\n24\n00:01:23.941 --> 00:01:28.901\nAnd the idea would be that you would\npopulate scopes manually on other DHCP\n\n25\n00:01:28.901 --> 00:01:30.349\nservers to rent out.\n\n26\n00:01:30.349 --> 00:01:34.432\nOr lease a portion of the IP address\nrange in case that server went down,\n\n27\n00:01:34.432 --> 00:01:38.736\npart of that scope would survive on\nanother server and would be available.\n\n28\n00:01:38.736 --> 00:01:43.200\nSo those clients coming up for renewal\nwould have a place to go and not go dark,\n\n29\n00:01:43.200 --> 00:01:46.649\nand that worked but\nit was person intensive, a lot of time.\n\n30\n00:01:46.649 --> 00:01:51.329\nNot always configured the right way,\nit didn't always get set up properly,\n\n31\n00:01:51.329 --> 00:01:54.578\nthe scopes may be too small\nas we reference them over.\n\n32\n00:01:54.578 --> 00:01:56.136\nAnd as a result if we didn't get that,\n\n33\n00:01:56.136 --> 00:01:59.177\nit wasn't always 80/20 that's just\na generic way we thought of it.\n\n34\n00:01:59.177 --> 00:02:04.020\nMaybe it was 60/40, whatever\nthe percentage was for the primary and\n\n35\n00:02:04.020 --> 00:02:07.862\nthen failover,\n\"that you manually would configure\".\n\n36\n00:02:07.862 --> 00:02:11.220\nIf we didn't get those numbers right,\nif we didn't have enough IP addresses in\n\n37\n00:02:11.220 --> 00:02:13.188\nthe alternate scope on\nthe surviving server.\n\n38\n00:02:13.188 --> 00:02:17.211\nThen some of our clients wouldn't renew,\nit was just a lot of work,\n\n39\n00:02:17.211 --> 00:02:22.594\nthis is back in NT 4, in Windows 2000, in\nearlier versions of the operating system.\n\n40\n00:02:22.594 --> 00:02:27.507\nThankfully, in the more modern\nversions starting with 12, 12R2, 8R2,\n\n41\n00:02:27.507 --> 00:02:32.222\netc., we do have the ability to be able\nto use the configuration of failover.\n\n42\n00:02:32.222 --> 00:02:35.889\nThrough the wizard and through\nthe interface, we're gonna take a look\n\n43\n00:02:35.889 --> 00:02:39.633\nat that right now, so if you join me\nhere or right up there as you will see.\n\n44\n00:02:39.633 --> 00:02:43.311\nYou can see I've just right clicked on the\nIPv4 scope just like we have been doing\n\n45\n00:02:43.311 --> 00:02:45.488\nand configuring a bunch\nof different options.\n\n46\n00:02:45.488 --> 00:02:49.790\nJust another one out of the menu here, and\nconfigure failover is what we're about to\n\n47\n00:02:49.790 --> 00:02:53.497\nselect so we can right-click here,\ndo this, let's just choose that.\n\n48\n00:02:53.497 --> 00:02:56.742\nAnd notice by the way, as we wait for\nthe wizard to come up,\n\n49\n00:02:56.742 --> 00:03:00.211\nthat we are on the DM1 machine\nwhere we have our scopes set up.\n\n50\n00:03:00.211 --> 00:03:03.961\nOur super scope, multi-cast scope,\nall that is there and\n\n51\n00:03:03.961 --> 00:03:07.418\nconfigured already so\nwe're just gonna wait on that.\n\n52\n00:03:07.418 --> 00:03:11.096\nWe should have our wizard pop in here\nmomentarily, there it is right there,\n\n53\n00:03:11.096 --> 00:03:12.947\nmaking a dramatic entrance, right?\n\n54\n00:03:12.947 --> 00:03:16.485\nSo let's just move this over here,\nthat way you can see what's going on and\n\n55\n00:03:16.485 --> 00:03:18.240\nwe can see what's happening there.\n\n56\n00:03:18.240 --> 00:03:22.657\nAll right, so with our configure failover\nwizard, introducing DHCP failover,\n\n57\n00:03:22.657 --> 00:03:26.446\nwe need a drumroll or something dramatic,\nlights flashing, smoke.\n\n58\n00:03:26.446 --> 00:03:28.384\n&gt;&gt; I've been telling them,\nthey won't give me a soundboard,\n\n59\n00:03:28.384 --> 00:03:30.705\nit's almost like they're afraid of\nwhat I'll do with it or something.\n\n60\n00:03:30.705 --> 00:03:34.581\n&gt;&gt; I would be afraid of what you'd do\nwith it as well, so I think that's\n\n61\n00:03:34.581 --> 00:03:39.009\na very apropos and adult decision-making\nthought process on their behalf.\n\n62\n00:03:39.009 --> 00:03:43.802\nAll right, so DHCP failover, it enables\nhigh availability as Cherokee was saying\n\n63\n00:03:43.802 --> 00:03:47.092\nhere, you'll see we have\nboth our DHCP scopes, right.\n\n64\n00:03:47.092 --> 00:03:51.022\nOur super scope participant 0010,\nwe have our two scopes here,\n\n65\n00:03:51.022 --> 00:03:54.832\nreason I am using this server is\nthat both scopes are here, right.\n\n66\n00:03:54.832 --> 00:03:57.383\nSo obviously I am gonna be able\nto configure it from this site,\n\n67\n00:03:57.383 --> 00:03:59.852\nnotice by the way,\nour multicast scope is not part of this.\n\n68\n00:03:59.852 --> 00:04:04.587\nWe're just using the IPv4 scopes, not the\nmulticast scope, so just noting that and\n\n69\n00:04:04.587 --> 00:04:06.317\njust pointing that out to you.\n\n70\n00:04:06.317 --> 00:04:10.064\nBut we see here that we are gonna be\nable to synchronize the IP address\n\n71\n00:04:10.064 --> 00:04:13.569\ninformation between two DHCP\nservers by setting up failover.\n\n72\n00:04:13.569 --> 00:04:17.829\nThis is a controlled replication event\nthat's automated through the management of\n\n73\n00:04:17.829 --> 00:04:20.777\nthe console here,\nconnection between two DHCP servers.\n\n74\n00:04:20.777 --> 00:04:23.290\nAnd it would be the equivalent of us,\nyou wanna play a little game with me here?\n\n75\n00:04:23.290 --> 00:04:24.706\n&gt;&gt; Sure.\n&gt;&gt; Stick out your hand,\n\n76\n00:04:24.706 --> 00:04:28.183\nthe equivalent of us replicating right,\nright there, so\n\n77\n00:04:28.183 --> 00:04:33.113\nwe're gonna take this information, let's\npretend this is our scope information.\n\n78\n00:04:33.113 --> 00:04:37.340\nWe're gonna take a copy of it, give it to\nCherokee, and she's gonna now have a copy,\n\n79\n00:04:37.340 --> 00:04:38.946\nso now we have it in both places.\n\n80\n00:04:38.946 --> 00:04:42.191\nSo if one of the DHCP servers stops\nworking, our clients could show up at\n\n81\n00:04:42.191 --> 00:04:45.470\nthe other one and because that\ninformation is synchronized, right?\n\n82\n00:04:45.470 --> 00:04:46.621\n&gt;&gt; Ta-da.\n&gt;&gt; Ta-da, thank you,\n\n83\n00:04:46.621 --> 00:04:50.001\nsynchronize back the other way cuz\nCherokee updated, made some changes, so\n\n84\n00:04:50.001 --> 00:04:51.362\nnow we both have a copy of that.\n\n85\n00:04:51.362 --> 00:04:55.070\nAnd as a result either one of\nus could hand out or lease or\n\n86\n00:04:55.070 --> 00:05:00.651\nrenew most importantly, equally\nimportantly, those addresses if necessary.\n\n87\n00:05:00.651 --> 00:05:04.045\nSo we are creating this survivability,\nthis high availability that\n\n88\n00:05:04.045 --> 00:05:07.975\nCherokee was implying, and we are doing so\nthrough a controlled replication.\n\n89\n00:05:07.975 --> 00:05:11.646\nAnd through a management between two DHCP\nservers through the console of this,\n\n90\n00:05:11.646 --> 00:05:14.023\nit says,\nwizard guides you through this, right?\n\n91\n00:05:14.023 --> 00:05:17.243\nSelect from the following list of\nscopes that you wanna have available,\n\n92\n00:05:17.243 --> 00:05:18.792\nnotice the default is Select All.\n\n93\n00:05:18.792 --> 00:05:22.580\nMeaning we assume that all the scopes\navailable should be replicated,\n\n94\n00:05:22.580 --> 00:05:26.255\nIf you wanted to select out one or\nmore scopes and not replicate them.\n\n95\n00:05:26.255 --> 00:05:29.978\nMaybe you have scopes in\nhere that are being used for\n\n96\n00:05:29.978 --> 00:05:33.626\nQA or for staging or\npre-production or testing.\n\n97\n00:05:33.626 --> 00:05:37.263\nOr who knows what this scope setter is\nessentially not supposed to be exposed to\n\n98\n00:05:37.263 --> 00:05:39.646\nproduction, then you would\njust uncheck the box.\n\n99\n00:05:39.646 --> 00:05:42.791\nDeselect one or more of them and\nthen highlight the ones you wanna use,\n\n100\n00:05:42.791 --> 00:05:43.658\ntotally up to you.\n\n101\n00:05:43.658 --> 00:05:46.333\nSo we're gonna assume we want both,\nwe're gonna click next,\n\n102\n00:05:46.333 --> 00:05:47.554\nwhat is our partner server?\n\n103\n00:05:47.554 --> 00:05:51.240\nWe have to specify who our partner is\ngonna be, we're gonna click Add server\n\n104\n00:05:51.240 --> 00:05:54.130\nthere, we're gonna put in\nthe name of our partner server.\n\n105\n00:05:54.130 --> 00:05:58.260\nAnd I'm just gonna remind you before\nwe do this that our partner server\n\n106\n00:05:58.260 --> 00:06:01.833\nis gonna be plav dc01, and\nyou'll notice here by the way.\n\n107\n00:06:01.833 --> 00:06:05.973\nThat we do not have any IPv4 scopes on\nthis other server yet, this is the one\n\n108\n00:06:05.973 --> 00:06:09.684\nthat we were just looking at in\nthe prior episode where we set it up.\n\n109\n00:06:09.684 --> 00:06:12.684\nWe installed it with Powershell,\nwe authorized it, and\n\n110\n00:06:12.684 --> 00:06:15.128\nwe were looking at some\nbasic configuration.\n\n111\n00:06:15.128 --> 00:06:18.960\nBut we hadn't actually set scopes up on\nthis one because we're gonna synchronize\n\n112\n00:06:18.960 --> 00:06:20.582\nfrom the primary one, the DM one.\n\n113\n00:06:20.582 --> 00:06:23.386\nAnd we're gonna replicate them back, so\nnow that we have this availability, so,\n\n114\n00:06:23.386 --> 00:06:24.963\nwe're gonna see them\nshow up here in a minute.\n\n115\n00:06:24.963 --> 00:06:28.529\nBut this is the machine, this is the DHCB\nserver that we are gonna target, so\n\n116\n00:06:28.529 --> 00:06:32.013\nwe are going to use this one, so\nwe are gonna go in here, click Add server.\n\n117\n00:06:32.013 --> 00:06:35.478\nWe're gonna specify our name, now you\ncan see here, we can just highlight\n\n118\n00:06:35.478 --> 00:06:38.891\nthe authorized DHCB server that is there,\nit's already there, right?\n\n119\n00:06:38.891 --> 00:06:43.708\nSo I can just go ahead and I can either\nhighlight this, click here, do that,\n\n120\n00:06:43.708 --> 00:06:48.701\nand say, okay and put it in there,\nactually, you know what, I apologize.\n\n121\n00:06:48.701 --> 00:06:51.773\nRight idea, wrong server, I wasn't\npaying attention to what was there,\n\n122\n00:06:51.773 --> 00:06:53.989\nthat's actually our DM server,\nI didn't realize.\n\n123\n00:06:53.989 --> 00:06:57.185\nI thought it was our DC server because I\nhad already populated that, we'll wait for\n\n124\n00:06:57.185 --> 00:06:59.435\nthat to error out,\nthat's not gonna be the right choice.\n\n125\n00:06:59.435 --> 00:07:02.813\nI am gonna put the name in, I forgot that\nI hadn't actually pre-populated the other\n\n126\n00:07:02.813 --> 00:07:05.205\none, so we're gonna go ahead,\nwe're gonna change that.\n\n127\n00:07:05.205 --> 00:07:08.335\nCuz we don't want it to replicate to\nitself, we actually wanna go ahead and\n\n128\n00:07:08.335 --> 00:07:09.788\nreplicate it out to the other one.\n\n129\n00:07:09.788 --> 00:07:13.432\nSo we're gonna do\nplabdc01.practicelabs.com,\n\n130\n00:07:13.432 --> 00:07:17.785\nwe are gonna put in the fully\nqualified domain name there, just so\n\n131\n00:07:17.785 --> 00:07:19.778\nthat way we have everything.\n\n132\n00:07:19.778 --> 00:07:23.421\nJust make sure it's spelled correctly,\nand we can go ahead and\n\n133\n00:07:23.421 --> 00:07:27.698\nwe can look for that if we wanna browse,\nif we don't just wanna type it in.\n\n134\n00:07:27.698 --> 00:07:30.714\nIt would be up to us to decide,\nso if we do plabdc01,\n\n135\n00:07:30.714 --> 00:07:34.747\nwe could probably find that machine\nin there, sure enough it shows up.\n\n136\n00:07:34.747 --> 00:07:38.091\nAnd you'll see we could resolve it\neither way, it really doesn't matter, so\n\n137\n00:07:38.091 --> 00:07:41.253\nwe do that, we'll grab that, will take\njust a minute, let it go find it.\n\n138\n00:07:41.253 --> 00:07:44.246\nMake sure it's all good and\nit's gonna be able to hook that up, and\n\n139\n00:07:44.246 --> 00:07:45.535\nas soon as it resolves that.\n\n140\n00:07:45.535 --> 00:07:48.244\nWe'll see it show back up in the name\nspace there in just a minute,\n\n141\n00:07:48.244 --> 00:07:50.827\non the pulldown menu you'll\nactually be able to select that.\n\n142\n00:07:50.827 --> 00:07:52.755\nYou could see it right there, so\n\n143\n00:07:52.755 --> 00:07:56.334\nnow that we have that we'll go ahead and\nwe'll click Next.\n\n144\n00:07:56.334 --> 00:08:00.101\nCreate a new failover relationship so\nwe have to go in and\n\n145\n00:08:00.101 --> 00:08:03.720\nwe have to specify here\nthe maximum client lead time.\n\n146\n00:08:03.720 --> 00:08:05.820\nHow much time are we\ngonna have setup there?\n\n147\n00:08:05.820 --> 00:08:10.190\nWhat's our mode for load balancing between\nthe local server, the partner server.\n\n148\n00:08:10.190 --> 00:08:12.160\nLocal server's where we are starting from,\n\n149\n00:08:12.160 --> 00:08:13.930\npartner server's the one\nwe're gonna replicate out to.\n\n150\n00:08:13.930 --> 00:08:16.156\nYou see we're balancing 50-50,\n\n151\n00:08:16.156 --> 00:08:19.960\nessentially 50% of the scopes will wind\nup on each machine available for us.\n\n152\n00:08:19.960 --> 00:08:23.160\nThat's that 80-20,\n60-40 kind of thing I was talking about.\n\n153\n00:08:23.160 --> 00:08:23.850\nHow do we want to do that?\n\n154\n00:08:23.850 --> 00:08:25.860\nWhat's that balancing gonna be?\n\n155\n00:08:25.860 --> 00:08:28.675\nSo we can set that up,\nenable message authentication.\n\n156\n00:08:28.675 --> 00:08:30.350\nChecked off by default down here.\n\n157\n00:08:30.350 --> 00:08:33.160\nThis is going to allow us\nto provide a password.\n\n158\n00:08:33.160 --> 00:08:34.848\nWe call it a shared\nsecret in the interface.\n\n159\n00:08:34.848 --> 00:08:38.760\nBut it's sorta just a password that we\nprovide that has to be on reference, or\n\n160\n00:08:38.760 --> 00:08:42.040\nrather on file and referenced,\nby both partners to allow for\n\n161\n00:08:42.040 --> 00:08:45.200\nthis relationship to be setup and\nfor the synchronization to occur.\n\n162\n00:08:45.200 --> 00:08:49.640\nPrevents rogue DHCP servers, servers that\ndon't belong, getting this information in\n\n163\n00:08:49.640 --> 00:08:53.140\nthe relationship from seeing it because\nthey'd have to provide the password or\n\n164\n00:08:53.140 --> 00:08:56.480\nthey would not be able to establish and\ntherefore maintain this relationship.\n\n165\n00:08:56.480 --> 00:08:59.000\nSo we're gonna type this\nin just while I'm talking.\n\n166\n00:08:59.000 --> 00:09:01.597\nCherokee looked like she was\nanxious to say something, so\n\n167\n00:09:01.597 --> 00:09:03.509\nwhile I'm typing perhaps we'll let her.\n\n168\n00:09:03.509 --> 00:09:07.531\n&gt;&gt; No, I was just kind of thinking,\nAdam, with what do you recommend?\n\n169\n00:09:07.531 --> 00:09:11.143\nHere they have the default with 50-50 but\n\n170\n00:09:11.143 --> 00:09:16.050\nI guess it would really depend on\nmaybe any kind of link speeds,\n\n171\n00:09:16.050 --> 00:09:19.710\nor how could we divvy\nthat up a little bit?\n\n172\n00:09:19.710 --> 00:09:23.610\n&gt;&gt; In terms of just the percentage for\nthe mirroring,\n\n173\n00:09:23.610 --> 00:09:28.040\nor the replication rather, it really\ndepends primarily, it's a great question.\n\n174\n00:09:28.040 --> 00:09:30.090\nGreat thought process to think about.\n\n175\n00:09:30.090 --> 00:09:34.440\nTraditionally, we'd want it to\ndepend on a couple factors.\n\n176\n00:09:34.440 --> 00:09:37.934\nNumber one, a lot of this is\na law of averages kind of thing.\n\n177\n00:09:37.934 --> 00:09:41.990\nHow long do we think the outage may be\nthat's gonna occur that may impact us?\n\n178\n00:09:41.990 --> 00:09:45.160\nIf it's going to be a short term outage,\nwe're not very worried about clients\n\n179\n00:09:45.160 --> 00:09:47.490\nhaving to renew and\na lot of them coming up all at once.\n\n180\n00:09:47.490 --> 00:09:50.510\nSo we may not have to worry about\nweighting that scope as heavily\n\n181\n00:09:50.510 --> 00:09:52.320\non one server versus the other.\n\n182\n00:09:52.320 --> 00:09:54.620\nIf we expect a longer outage,\n\n183\n00:09:54.620 --> 00:09:57.150\nwe may have to worry about the fact\nthat more clients would show up.\n\n184\n00:09:57.150 --> 00:10:00.060\nWe would have to have more of the scope\navailable on the surviving server.\n\n185\n00:10:00.060 --> 00:10:03.560\nAs a result, being able to release and\nrenew more IP addresses.\n\n186\n00:10:03.560 --> 00:10:05.210\nSo that's something to consider.\n\n187\n00:10:05.210 --> 00:10:08.710\nWe'd have to think about\nthe duration of our overall lease.\n\n188\n00:10:08.710 --> 00:10:10.980\nSo what's, again,\nyou know the default 8 days for\n\n189\n00:10:10.980 --> 00:10:14.750\na IPv4 scope, meaning we would\nstart to see replication or,\n\n190\n00:10:14.750 --> 00:10:18.580\nexcuse me, start to see\nrenewal activity at 4 days in.\n\n191\n00:10:18.580 --> 00:10:20.220\nSo we have to start thinking about that.\n\n192\n00:10:20.220 --> 00:10:23.340\n&gt;&gt; Or sooner if you hadn't set,\nlike in that classroom setting you were\n\n193\n00:10:23.340 --> 00:10:26.960\nreferencing, where you\nset it to eight hours.\n\n194\n00:10:26.960 --> 00:10:27.510\n&gt;&gt; Right.\n\n195\n00:10:27.510 --> 00:10:28.200\nMy point exactly,\n\n196\n00:10:28.200 --> 00:10:31.828\nthat we'd want to know what the duration\nof the lease is to account for that.\n\n197\n00:10:31.828 --> 00:10:34.610\nAnd then we'd also have to think\nabout the fact that not all clients\n\n198\n00:10:34.610 --> 00:10:36.040\nstart out life at the same time.\n\n199\n00:10:36.040 --> 00:10:38.160\nIn other words, hypothetically,\n\n200\n00:10:38.160 --> 00:10:41.040\nlet's say we have 100 clients in\nthe scope that in theory are active.\n\n201\n00:10:41.040 --> 00:10:44.670\nNot all 100 clients claim their\nIP addresses at the same exact\n\n202\n00:10:44.670 --> 00:10:45.770\ninstance in time.\n\n203\n00:10:45.770 --> 00:10:49.760\nMeaning that the eight day window, that\nclock countdown of eight days, the TTL for\n\n204\n00:10:49.760 --> 00:10:51.400\neach lease is staggered.\n\n205\n00:10:51.400 --> 00:10:55.840\nAnd so what the smart money would be\non would be going in and looking at\n\n206\n00:10:55.840 --> 00:11:00.480\nlease durations in the database, getting\na sense of where that bell curve sits, and\n\n207\n00:11:00.480 --> 00:11:04.640\nwhat is the bulk of the clients, where are\nthe bulk of the clients going to be at.\n\n208\n00:11:04.640 --> 00:11:09.900\nIf the bulk of them are let's say\nhaving leased at maybe on average,\n\n209\n00:11:11.750 --> 00:11:14.630\nalthough all of them will\nrenew over a four day cycle,\n\n210\n00:11:14.630 --> 00:11:16.710\nthat's going to be staggered\nover multiple days.\n\n211\n00:11:16.710 --> 00:11:20.000\nIf we see that maybe day three of that\ncycle has some preponderance, the majority\n\n212\n00:11:20.000 --> 00:11:24.050\nof those clients showing up, if we think\nthat an outage could last longer than\n\n213\n00:11:24.050 --> 00:11:27.300\nthree days then we have to extend that\nscope percentage to account for that.\n\n214\n00:11:27.300 --> 00:11:31.840\nSo there's some behind the scenes\nthought processes that\n\n215\n00:11:31.840 --> 00:11:34.090\nwe have to go into to\nreally get a sense of this.\n\n216\n00:11:34.090 --> 00:11:39.310\nBut generically you know, an outage that\nlasts multiple days is catastrophic.\n\n217\n00:11:39.310 --> 00:11:42.960\nAnd quite honestly, if you have an outage\nthat goes that long, those clients may not\n\n218\n00:11:42.960 --> 00:11:45.920\nbe up and functioning and renewing\ntheir IP addresses anyway, honestly.\n\n219\n00:11:45.920 --> 00:11:49.270\nYou may have bigger issues, in other\nwords, that whether clients can renew.\n\n220\n00:11:49.270 --> 00:11:52.710\nSo, you know, we often say 50-50\nworks because we don't expect\n\n221\n00:11:52.710 --> 00:11:55.570\nmore than half the clients to have\nto renew within an outage period and\n\n222\n00:11:55.570 --> 00:11:59.440\nhave to survive and fail over but\nit does depend on a lot of variables.\n\n223\n00:11:59.440 --> 00:12:00.820\nIt's very hard to say overall.\n\n224\n00:12:00.820 --> 00:12:03.830\nBut traditionally, 50-50 works well.\n\n225\n00:12:03.830 --> 00:12:07.800\nIf you're worried about it maybe\nyou weight it heavily in favor of\n\n226\n00:12:07.800 --> 00:12:09.990\nwhat we think the surviving\nserver would be.\n\n227\n00:12:09.990 --> 00:12:13.230\nBut, only in certain circumstances where\nwe can account for that and know for\n\n228\n00:12:13.230 --> 00:12:15.730\na fact that will be necessary, all right?\n\n229\n00:12:15.730 --> 00:12:19.380\nSo all I did was just simply click Okay on\nthe name resolution screen we got here,\n\n230\n00:12:19.380 --> 00:12:21.050\nand we're basically done at this point,\nright?\n\n231\n00:12:21.050 --> 00:12:25.190\nWe're gonna click Finish, so let's just\ndo that while we're waiting and talking.\n\n232\n00:12:25.190 --> 00:12:26.130\nGive that just a moment.\n\n233\n00:12:26.130 --> 00:12:27.170\nIt kind of does its thing.\n\n234\n00:12:27.170 --> 00:12:28.770\nYou'll see here, configure failover.\n\n235\n00:12:28.770 --> 00:12:30.420\nYou get a little pop-up that says okay,\n\n236\n00:12:30.420 --> 00:12:34.230\nI basically ran through all these tasks\nthat I have to accomplish to do this.\n\n237\n00:12:34.230 --> 00:12:35.890\nWe're obviously looking for success here.\n\n238\n00:12:35.890 --> 00:12:37.855\nWe do success all the way across.\n\n239\n00:12:37.855 --> 00:12:40.820\nAdd scopes on partner server,\ndisable scopes on partner server.\n\n240\n00:12:40.820 --> 00:12:42.760\nSo add them but disable them, right?\n\n241\n00:12:42.760 --> 00:12:45.370\nCreation of failover\nconfiguration on the partner.\n\n242\n00:12:45.370 --> 00:12:47.050\nCreation of failover on the host.\n\n243\n00:12:47.050 --> 00:12:48.850\nActivate scopes on partner, right?\n\n244\n00:12:48.850 --> 00:12:50.200\nConfigure failover success.\n\n245\n00:12:50.200 --> 00:12:51.080\nOkay, great.\n\n246\n00:12:51.080 --> 00:12:51.940\nSo we've done all that.\n\n247\n00:12:51.940 --> 00:12:53.218\nSo let's just close.\n\n248\n00:12:53.218 --> 00:12:54.760\nSo, we see them here.\n\n249\n00:12:54.760 --> 00:12:58.833\nNow obviously the test is really\ngo over to the other one, plab.\n\n250\n00:12:58.833 --> 00:13:01.764\nOops, plab DMO1,\nlet's try that one more time.\n\n251\n00:13:01.764 --> 00:13:03.440\nPlab DC right over here.\n\n252\n00:13:03.440 --> 00:13:06.940\nAnd we don't see anything, but\nremember, the interface is open.\n\n253\n00:13:06.940 --> 00:13:08.670\nIt may not have refreshed.\n\n254\n00:13:08.670 --> 00:13:12.650\nSo, we can just close it out or refresh\neither way, it doesn't really matter.\n\n255\n00:13:12.650 --> 00:13:14.440\nBut we wanna bring it back up again.\n\n256\n00:13:14.440 --> 00:13:15.910\nSo let's just go ahead and do this.\n\n257\n00:13:15.910 --> 00:13:19.500\nAnd actually I'm wondering if my console,\nyeah, my console may have frozen.\n\n258\n00:13:19.500 --> 00:13:21.780\nLet me just open the console\nto the VM up again.\n\n259\n00:13:21.780 --> 00:13:24.320\nIt looks like it just probably\nfroze really quickly.\n\n260\n00:13:24.320 --> 00:13:27.420\nSo let me bring that back up and\nthen we'll be able to see that.\n\n261\n00:13:27.420 --> 00:13:29.970\nSo let's go in there to the DC.\n\n262\n00:13:31.400 --> 00:13:32.420\nJust bring that back up.\n\n263\n00:13:32.420 --> 00:13:34.530\nJust give it one second to connect.\n\n264\n00:13:34.530 --> 00:13:36.990\nAnd then we'll be able to go ahead and\nwe'll see that come back up.\n\n265\n00:13:36.990 --> 00:13:39.980\nAnd then when we do,\nwe'll be able to see the connection, and\n\n266\n00:13:39.980 --> 00:13:40.920\nwe'll see that everything is there.\n\n267\n00:13:40.920 --> 00:13:44.730\nNow, we did get the indicator of success,\nso we know that it actually did work.\n\n268\n00:13:44.730 --> 00:13:47.640\nEven if we're not able to get right\nback into the console to see it, we\n\n269\n00:13:47.640 --> 00:13:50.940\nknow that failover did occur and we know,\nor rather, configuration of failover,\n\n270\n00:13:50.940 --> 00:13:53.610\nI should say, did occur and\nwe know that it was successful.\n\n271\n00:13:53.610 --> 00:13:54.950\nSo, we do know that it's there.\n\n272\n00:13:54.950 --> 00:13:57.800\nConsole's a little sluggish coming up,\nwe're not gonna worry about it right now.\n\n273\n00:13:57.800 --> 00:14:01.180\nWe know it is there and\nwe know that we are configured properly.\n\n274\n00:14:01.180 --> 00:14:05.040\nAnd we know from the DM's side that we can\nsee that and we know that that is working.\n\n275\n00:14:05.040 --> 00:14:08.215\nWe'll refresh and\nwe'll be able to get back, and\n\n276\n00:14:08.215 --> 00:14:09.665\nit actually it looks\nlike both consoles froze.\n\n277\n00:14:09.665 --> 00:14:12.665\nSo we'll bring that back up for\njust a minute, see if we can get one or\n\n278\n00:14:12.665 --> 00:14:14.435\nboth consoles to go back in.\n\n279\n00:14:14.435 --> 00:14:15.715\nThere we are, disconnected so\n\n280\n00:14:15.715 --> 00:14:18.575\nit means at least we're connecting in and\nwe're able to get back.\n\n281\n00:14:18.575 --> 00:14:19.865\nJust while we're doing this,\n\n282\n00:14:19.865 --> 00:14:22.295\nlet me just see if I can bring it\nback up real quick and there we go.\n\n283\n00:14:22.295 --> 00:14:24.085\nJust get back in,\nthat's what we were waiting on.\n\n284\n00:14:24.085 --> 00:14:26.295\nAll right, so\nlet's just cancel out of that.\n\n285\n00:14:26.295 --> 00:14:29.510\nLet's bring up the other one just to make\nsure that we can see that side of it.\n\n286\n00:14:30.870 --> 00:14:34.040\nAnd, while we're waiting on that to\ncome up, I just wanted to show you,\n\n287\n00:14:34.040 --> 00:14:35.483\nwe talked a lot about Power Shell.\n\n288\n00:14:35.483 --> 00:14:37.800\nWe've talked about Power Shell modules for\nDHCP.\n\n289\n00:14:37.800 --> 00:14:42.320\nI showed you a couple of, at least one\ncommand, just doing the add features, and\n\n290\n00:14:42.320 --> 00:14:43.580\nthen include management tools.\n\n291\n00:14:43.580 --> 00:14:45.780\nBut there are many,\nmany commandlets for DHCP.\n\n292\n00:14:45.780 --> 00:14:50.420\nThere's over 100 of them that currently\nexist in 12 and 12r2, not to mention\n\n293\n00:14:50.420 --> 00:14:53.970\nadditional features and capabilities in\nServer 16 that have been added as well, so\n\n294\n00:14:53.970 --> 00:14:55.680\nwe have quite a bit in here.\n\n295\n00:14:55.680 --> 00:14:57.230\nSo just always good to reference that.\n\n296\n00:14:57.230 --> 00:15:00.430\nWe try to bring these websites up for\nyou and show you them whenever we have\n\n297\n00:15:00.430 --> 00:15:03.530\nthe opportunity just to make sure\nwe know that they're out there.\n\n298\n00:15:03.530 --> 00:15:06.700\nAnd this is where you would get\nthe authoritative information for\n\n299\n00:15:06.700 --> 00:15:08.510\nthe DHCP server module.\n\n300\n00:15:08.510 --> 00:15:10.320\nAll the different\ncommandlets are listed here.\n\n301\n00:15:10.320 --> 00:15:13.420\nYou could see any one of them that\nyou wanna go in and take a look at.\n\n302\n00:15:13.420 --> 00:15:16.570\nDhcpServer4Failover, for\ninstance, FailoverScope, etc.\n\n303\n00:15:16.570 --> 00:15:19.030\nYou just click on any\none of these commands.\n\n304\n00:15:19.030 --> 00:15:22.735\nEverything we're doing, that we're showing\nyou in the interface through the MMC\n\n305\n00:15:22.735 --> 00:15:24.345\ncan be done from Powershell.\n\n306\n00:15:24.345 --> 00:15:26.315\nSo any one of those options,\nanything we set,\n\n307\n00:15:26.315 --> 00:15:28.945\nanything we want to configure,\nall of that would be available there and\n\n308\n00:15:28.945 --> 00:15:33.495\nyou can just drill down, see the syntax on\nthis particular command or any of them.\n\n309\n00:15:33.495 --> 00:15:35.955\nLittle bit of a description,\nsome examples of the syntax and\n\n310\n00:15:35.955 --> 00:15:37.365\nhow it would be configured.\n\n311\n00:15:37.365 --> 00:15:39.565\nAll the stuff we are doing\nthrough point and click.\n\n312\n00:15:39.565 --> 00:15:41.785\nYou could see here the shared\nsecret parameter and\n\n313\n00:15:41.785 --> 00:15:45.290\nwe're specifying the password,\njust like we did in the wizard right now.\n\n314\n00:15:46.520 --> 00:15:50.442\nAnd DHCP in the computer name, so the\ntarget, the name of the failover partner,\n\n315\n00:15:50.442 --> 00:15:52.183\nthe partner server, the scope ID.\n\n316\n00:15:52.183 --> 00:15:55.768\nAll the stuff we just did in the wizard\nright now is essentially right there in\n\n317\n00:15:55.768 --> 00:15:56.334\nthat code.\n\n318\n00:15:56.334 --> 00:15:58.774\nWe'd be able to do the same thing\nfrom PowerShell if we wanted to.\n\n319\n00:15:58.774 --> 00:16:02.505\nSo, just wanted to make sure you're able\nto see that and you're aware of that,\n\n320\n00:16:02.505 --> 00:16:04.968\nobviously important for\nyou to have a sense of that.\n\n321\n00:16:04.968 --> 00:16:07.953\nAll right, let's go in there and\n\n322\n00:16:07.953 --> 00:16:12.654\nlet's just close out of that and\nbring that back up.\n\n323\n00:16:12.654 --> 00:16:17.230\nAll right, so while we're just\nwrapping up our conversation on DCHP.\n\n324\n00:16:17.230 --> 00:16:19.292\nCouple of things I wanna\nto just throw up and\n\n325\n00:16:19.292 --> 00:16:22.286\nbring to your attention here in\nthe notes that are important.\n\n326\n00:16:22.286 --> 00:16:23.454\nSo let me just scroll down\nthrough all my notes.\n\n327\n00:16:23.454 --> 00:16:24.734\nThese are all the show notes, by the way.\n\n328\n00:16:24.734 --> 00:16:27.310\nYou guys have the access to all this\nstuff, we've been through all this.\n\n329\n00:16:27.310 --> 00:16:31.611\nBut I wanted to talk about specifically\nthe idea of the firewall considerations\n\n330\n00:16:31.611 --> 00:16:33.900\nwhen we do set up failover traffic.\n\n331\n00:16:33.900 --> 00:16:34.620\nIt's important for\n\n332\n00:16:34.620 --> 00:16:37.820\nus to be aware of the fact that when\nwe do this part of the configuration,\n\n333\n00:16:37.820 --> 00:16:40.650\nespecially if we do it through the wizard,\nwe do it through PowerShell,\n\n334\n00:16:40.650 --> 00:16:44.340\nwe have to account for this traffic going\nback and forth through the firewalls.\n\n335\n00:16:44.340 --> 00:16:48.170\nRemember, we tend to run\nWindows Advance Firewall on\n\n336\n00:16:48.170 --> 00:16:51.652\nthe local instance of the server, it's\nthere by default, it's often turned on.\n\n337\n00:16:51.652 --> 00:16:54.030\nSo when we're talking\nabout firewalls here,\n\n338\n00:16:54.030 --> 00:16:58.220\nwe're talking about the Windows Advance\nFirewall, right, not the Cisco Firewall or\n\n339\n00:16:58.220 --> 00:17:01.010\nthe Check Point Firewall,\nwhatever firewall you may be using.\n\n340\n00:17:01.010 --> 00:17:03.548\nWe may have to worry about\nthose as well obviously,\n\n341\n00:17:03.548 --> 00:17:06.207\nif they separate DHCP servers\nin different subnets or\n\n342\n00:17:06.207 --> 00:17:10.185\ndifferent offices then we'd have to\nextend this logic out to those firewalls.\n\n343\n00:17:10.185 --> 00:17:13.477\nBut right now what we're talking\nabout here and what is being done and\n\n344\n00:17:13.477 --> 00:17:16.770\nthe rules that are being created\nthat I'm referencing here are being\n\n345\n00:17:16.770 --> 00:17:19.608\ncreated in the local Windows Firewall\non each DHCP server,\n\n346\n00:17:19.608 --> 00:17:23.322\nallowing us to move traffic back and\nforth, and open the appropriate ports.\n\n347\n00:17:23.322 --> 00:17:26.775\nIf we would have to remotely\nconnect to a DHCP server,\n\n348\n00:17:26.775 --> 00:17:31.536\nacross a firewall interface, we would\nhave to program in the appropriate\n\n349\n00:17:31.536 --> 00:17:35.330\nrules to have that firewall\nto open port 647 using TCP.\n\n350\n00:17:35.330 --> 00:17:39.255\nIn order to allow that traffic for\nfailover specifically, right, to occur, so\n\n351\n00:17:39.255 --> 00:17:40.351\njust be aware of that,\n\n352\n00:17:40.351 --> 00:17:43.400\ncuz that may complicate your\narchitecture just a little bit.\n\n353\n00:17:43.400 --> 00:17:46.980\nBut If we do it through the wizard, do it\nthrough PowerShell, this is configured for\n\n354\n00:17:46.980 --> 00:17:48.430\nus on the firewall locally.\n\n355\n00:17:48.430 --> 00:17:51.813\nAssuming the firewall is enabled them\nturned on, those rules will be there and\n\n356\n00:17:51.813 --> 00:17:54.820\nwill be operational, allowing our\ntraffic to pass back and forth.\n\n357\n00:17:54.820 --> 00:17:57.286\n&gt;&gt; Which is pretty cool, you don't even\nhave to remember that number for the port.\n\n358\n00:17:57.286 --> 00:18:01.047\nYou're just like I'm converting failovers,\nso let's type in failover and\n\n359\n00:18:01.047 --> 00:18:02.580\nthen go ahead and do that for you.\n\n360\n00:18:02.580 --> 00:18:04.930\n&gt;&gt; You would and as a result,\nit would actually just set it up for\n\n361\n00:18:04.930 --> 00:18:06.400\nyou which is nice, cuz it's already there.\n\n362\n00:18:06.400 --> 00:18:10.240\nSo just wanna make sure we're aware of\nthat, also, the two different modes for\n\n363\n00:18:10.240 --> 00:18:13.150\nfailover, right, we have hot standby,\nand we have load sharing.\n\n364\n00:18:13.150 --> 00:18:16.730\nThink about the normal thought process\nin a cluster, right, if we're thinking\n\n365\n00:18:16.730 --> 00:18:20.280\nabout two machines joined together,\nsharing the load of some kind.\n\n366\n00:18:20.280 --> 00:18:23.230\nLoad sharing the default mode,\nessentially active active, right,\n\n367\n00:18:23.230 --> 00:18:27.178\nboth partners are supplying IP\nconfigurations to clients simultaneously.\n\n368\n00:18:27.178 --> 00:18:30.870\nIf you think about hot standby, we`d be\nthinking about this primary secondary\n\n369\n00:18:30.870 --> 00:18:33.620\nthought process we saw\nreferenced in the configuration.\n\n370\n00:18:33.620 --> 00:18:35.820\nAnd that would be active passive, right,\n\n371\n00:18:35.820 --> 00:18:38.330\nto use the language of\nclustering traditionally.\n\n372\n00:18:38.330 --> 00:18:41.280\nSo we can do this in one way or\nanother but load sharing, or\n\n373\n00:18:41.280 --> 00:18:44.110\nload balancing essentially\nan active active configuration,\n\n374\n00:18:44.110 --> 00:18:46.070\nis our default mode for the failover.\n\n375\n00:18:46.070 --> 00:18:49.304\nJust wanna make sure we're aware of that\nand thinking about the logic of that,\n\n376\n00:18:49.304 --> 00:18:50.745\nthat`s why we do the split there.\n\n377\n00:18:50.745 --> 00:18:54.037\nAs you saw the 50 50,\nwe're able to load balance and\n\n378\n00:18:54.037 --> 00:18:56.840\nlease addresses out of that if we need to.\n\n379\n00:18:56.840 --> 00:18:57.870\nSo it's just important for\n\n380\n00:18:57.870 --> 00:19:00.766\nus to think about the logic of that and\nhow that'll work.\n\n381\n00:19:00.766 --> 00:19:05.050\nWe have auto-state switchover interval,\nthe time communication irruption state\n\n382\n00:19:05.050 --> 00:19:08.430\nthat occurs, the measurement of time\nthat we will use when we failover\n\n383\n00:19:08.430 --> 00:19:11.160\nto the secondary partner\nif it's an active-passive,\n\n384\n00:19:11.160 --> 00:19:15.460\nhot standby solution when we bring that\nother DHCP server on and start using it.\n\n385\n00:19:15.460 --> 00:19:17.800\nWe call that the auto state\nswitch over to interval, so\n\n386\n00:19:17.800 --> 00:19:20.060\njust the time value associated with that.\n\n387\n00:19:20.060 --> 00:19:22.960\nSo you're measuring that if there's\na certain amount of disruption we\n\n388\n00:19:22.960 --> 00:19:25.310\nwill then be able to go ahead and\nswitch over.\n\n389\n00:19:25.310 --> 00:19:29.205\nSo just thinking about the logic of that\nand what that may be, the default there\n\n390\n00:19:29.205 --> 00:19:33.335\nis ten minutes by default, but obviously\nthat can vary, we can modify that, but\n\n391\n00:19:33.335 --> 00:19:36.605\nwe don't know how long that communication\ninterruption takes place for.\n\n392\n00:19:36.605 --> 00:19:39.605\nSometimes there's interim\ncommunication problems, but\n\n393\n00:19:39.605 --> 00:19:41.817\nthey're not gonna be long term.\n\n394\n00:19:41.817 --> 00:19:45.047\nMaybe a machine is restarted because\nof maintenance or patching, right, and\n\n395\n00:19:45.047 --> 00:19:46.817\nit will go offline for a period of time.\n\n396\n00:19:46.817 --> 00:19:50.160\nSo we don't want that to be too aggressive\nand be like two minutes or something.\n\n397\n00:19:50.160 --> 00:19:53.608\nBecause usually it takes longer for\na server to restart than that, and\n\n398\n00:19:53.608 --> 00:19:56.480\nwe'd start failing over, and\nyou we call that flapping.\n\n399\n00:19:56.480 --> 00:20:00.489\nFlapping back and forth between\nthe servers in a hot standby scenario, and\n\n400\n00:20:00.489 --> 00:20:04.823\nthat would be bad because that would\nlead to disruption and cause problems.\n\n401\n00:20:04.823 --> 00:20:05.952\nAnd we could de-synchronize or\n\n402\n00:20:05.952 --> 00:20:08.852\ndecouple the two servers cuz they're not\ngonna be able to keep up with each other.\n\n403\n00:20:08.852 --> 00:20:10.911\nThere's a lot of bad\nthings that can occur.\n\n404\n00:20:10.911 --> 00:20:14.748\nWe want that time value, in other words,\nto be, not too aggressive.\n\n405\n00:20:14.748 --> 00:20:18.268\nBut we also don’t want it to be so\nfar out in the future, 100 minutes or\n\n406\n00:20:18.268 --> 00:20:21.410\nsomething crazy like that,\nthat a failure goes unrecognized.\n\n407\n00:20:21.410 --> 00:20:25.838\nAnd as a result unmitigated for too long,\nand we start to have clients potentially\n\n408\n00:20:25.838 --> 00:20:28.895\nfall into the black hole cuz\nthey`re not able to renew.\n\n409\n00:20:28.895 --> 00:20:31.976\nThey`re not, in other words,\nthen able to take advantage of DHCP and\n\n410\n00:20:31.976 --> 00:20:33.868\nthat failover that we`re providing for.\n\n411\n00:20:33.868 --> 00:20:35.558\nAnd they wind up with\nAPIPA based addresses,\n\n412\n00:20:35.558 --> 00:20:38.227\nautomatic private IP based addresses,\nand we've talked about that in\n\n413\n00:20:38.227 --> 00:20:41.042\na couple of the prior episodes,\nthat's the 169254 address block.\n\n414\n00:20:41.042 --> 00:20:46.550\nAnd so we do wanna make sure we're aware\nof that and kinda just calculating.\n\n415\n00:20:46.550 --> 00:20:50.130\nAnd that`s why we set a default\nof ten minutes, modifiable but\n\n416\n00:20:50.130 --> 00:20:52.760\noften recommended that we kinda leave it\nthere, we don't get too aggressive and\n\n417\n00:20:52.760 --> 00:20:54.760\ndrop it down too far below that.\n\n418\n00:20:54.760 --> 00:20:56.961\nJust so you know, right?\nSo just some stuff to think about there,\n\n419\n00:20:56.961 --> 00:20:58.800\nright, may wanna think about that.\n\n420\n00:20:58.800 --> 00:21:02.169\nWe do have message authentication as you\nsaw, remember the master authentication\n\n421\n00:21:02.169 --> 00:21:05.360\nsolution was just the shared secret,\nit was that password we were putting in.\n\n422\n00:21:05.360 --> 00:21:09.304\nWe talked about that, but then Cherokee\nwas commenting on something, and\n\n423\n00:21:09.304 --> 00:21:12.933\nI didn't relay get a chance just to\ncome back and remind you of that and\n\n424\n00:21:12.933 --> 00:21:15.870\njust ensure that we understood\nwhat that setting was.\n\n425\n00:21:15.870 --> 00:21:18.655\nThat's new to 2012, excuse me,\nnot new to 2012 R2, but\n\n426\n00:21:18.655 --> 00:21:20.409\n12 12 R2 does have that capability.\n\n427\n00:21:20.409 --> 00:21:24.115\nSo just make sure you're aware of that,\nwe know in 12 R2 that we can do that.\n\n428\n00:21:24.115 --> 00:21:26.068\nAnd so those are just the things\nthat we kinda saw and\n\n429\n00:21:26.068 --> 00:21:28.250\nthat we were thinking about\nthere as we were setting up and\n\n430\n00:21:28.250 --> 00:21:30.267\nestablishing our failover\nrelationship,right.\n\n431\n00:21:30.267 --> 00:21:33.309\nJust to kinda summarize all\nthe things we went through.\n\n432\n00:21:33.309 --> 00:21:35.016\n&gt;&gt; Yeah, and so I know we have\nDNS services coming up next, and\n\n433\n00:21:35.016 --> 00:21:36.143\nlooking at the clock here-\n&gt;&gt; We do,\n\n434\n00:21:36.143 --> 00:21:39.768\nwe do, you can see it, it's right there\non my notes, we kinda previewed it.\n\n435\n00:21:39.768 --> 00:21:41.240\n&gt;&gt; Yeah, so what do you think, Adam?\n\n436\n00:21:41.240 --> 00:21:44.280\nWe're gonna come back for a part,\nI don't even know what part we're on.\n\n437\n00:21:44.280 --> 00:21:47.040\nI think it's part five, to go ahead and\npick right up with DNS?\n\n438\n00:21:47.040 --> 00:21:50.169\n&gt;&gt; I think it's just,\nit absolutely is DNS fantastic,\n\n439\n00:21:50.169 --> 00:21:53.570\nDNStastic idea that we can come back and\ntalk about.\n\n440\n00:21:53.570 --> 00:21:57.037\nWe do have, all kidding aside, quite\na lot of additional stuff to talk about,\n\n441\n00:21:57.037 --> 00:22:00.291\nwe said at the set up, the very beginning\nof our discussions in this area,\n\n442\n00:22:00.291 --> 00:22:02.330\nadvanced network servers, plural.\n\n443\n00:22:02.330 --> 00:22:06.233\nAnd I made clear it was DHCP, DNS,\nand IPAM, IP Address Management,\n\n444\n00:22:06.233 --> 00:22:08.140\nwe've only done DHCP.\n\n445\n00:22:08.140 --> 00:22:11.480\nTook a lot of time to get here and finish\nit up, a lot of stuff to talk about, but\n\n446\n00:22:11.480 --> 00:22:14.540\nhopefully you feel we did a really good\nthorough job of covering all the nooks and\n\n447\n00:22:14.540 --> 00:22:15.115\ncrannies.\n\n448\n00:22:15.115 --> 00:22:17.261\nThe English muffin concept for\nDHCP, right?\n\n449\n00:22:17.261 --> 00:22:18.923\nWe covered all those different areas.\n\n450\n00:22:18.923 --> 00:22:20.189\n&gt;&gt; [LAUGH] I don't care\nhow many parts it takes.\n\n451\n00:22:20.189 --> 00:22:21.131\nWe're gonna be here.\nWe're gonna make sure we get it out\n\n452\n00:22:21.131 --> 00:22:21.846\nthere for you, that's right.\n\n453\n00:22:21.846 --> 00:22:22.662\n&gt;&gt; We're gonna cover it all, right?\n\n454\n00:22:22.662 --> 00:22:24.417\nSo now we're going to do Sending with DNS,\nbut\n\n455\n00:22:24.417 --> 00:22:27.650\nit obviously requires you to come back and\ncontinue spending some time with us.\n\n456\n00:22:27.650 --> 00:22:30.050\nPromise you it's going to be worth you\nwhile, but you gotta tune back in and\n\n457\n00:22:30.050 --> 00:22:31.626\ncome on back for\nthat episode if you wanna see it.\n\n458\n00:22:31.626 --> 00:22:34.777\nSo we're gonna go away, we're gonna\ncome back, you're gonna join us, and\n\n459\n00:22:34.777 --> 00:22:35.853\nboy are we gonna have fun.\n\n460\n00:22:35.853 --> 00:22:38.008\n&gt;&gt; All right, so remember,\nI'm your host, Cherokee Boose.\n\n461\n00:22:38.008 --> 00:22:39.128\n&gt;&gt; I'm Adam Gordon.\n\n462\n00:22:39.128 --> 00:22:41.206\n&gt;&gt; See you next time here at ITProTV.\n\n463\n00:22:41.206 --> 00:22:49.222\n[MUSIC]\n\n464\n00:22:49.222 --> 00:22:51.800\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "223606059"
        },
        {
          "description": "In this show, Cherokee and Adam shift their focus to DNS. They explain the function and process of DNS. In addition to specifics like forwarding and root hints.",
          "length": "2024",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-5-advances_network_services_pt5-0602817-PGM.00_36_04_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-5-advances_network_services_pt5-0602817-PGM.00_36_04_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-5-advances_network_services_pt5-0602817-PGM.00_36_04_29.Still001-sm.jpg",
          "title": "Advanced Network Serivces Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:01.387\nWelcome to IT Pro TV.\n\n2\n00:00:01.387 --> 00:00:06.418\nI'm your host [CROSSTALK]\n\n3\n00:00:06.418 --> 00:00:11.923\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:11.923 --> 00:00:15.560\n&gt;&gt; Welcome to your MCSA 70-412 series.\n\n5\n00:00:15.560 --> 00:00:17.540\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.540 --> 00:00:21.550\nIn this episode we'll continue taking\na look at advanced network services.\n\n7\n00:00:21.550 --> 00:00:25.110\nAnd back in the studio with us\ntoday we have Mr Adam Gordon.\n\n8\n00:00:25.110 --> 00:00:25.760\nHow's it going Adam?\n\n9\n00:00:25.760 --> 00:00:26.870\n&gt;&gt; It's going well.\n\n10\n00:00:26.870 --> 00:00:28.325\nHopefully going well for all of you.\n\n11\n00:00:28.325 --> 00:00:33.040\nGonna continue our conversations with\nregards to advanced network services,\n\n12\n00:00:33.040 --> 00:00:36.500\nor networking in Windows Server 2012 R2.\n\n13\n00:00:36.500 --> 00:00:39.420\nWe spent a number of\nepisodes up until now.\n\n14\n00:00:39.420 --> 00:00:42.740\nI encourage you to go back, take a look\nif you have not seen them on DHCP.\n\n15\n00:00:42.740 --> 00:00:46.670\nOne of the three advanced networking\nservices we are talking about.\n\n16\n00:00:46.670 --> 00:00:49.630\nWe're gonna continue that journey,\ntalking about DNS.\n\n17\n00:00:49.630 --> 00:00:52.540\nWe hinted the DNS and\nspoke a little bit about it at the end\n\n18\n00:00:52.540 --> 00:00:56.000\nof our DHCP conversations as we\nlooked at the integration and\n\n19\n00:00:56.000 --> 00:00:59.540\nthe interplay between DNS and\nDHCP and using DHCP and\n\n20\n00:00:59.540 --> 00:01:04.800\nsetting it up to dynamically update\nclient reservations and add into DNS.\n\n21\n00:01:04.800 --> 00:01:08.050\nWe're gonna flip over now look\nat the DNS side of the equation.\n\n22\n00:01:08.050 --> 00:01:10.050\nI'll begin by talking\na little about what DNS is,\n\n23\n00:01:10.050 --> 00:01:14.500\nwhat it does, just like we did with DHCP,\ntip our networking toe in the water.\n\n24\n00:01:14.500 --> 00:01:16.680\nMake sure we're comfortable\nwith how things work.\n\n25\n00:01:16.680 --> 00:01:18.950\nWe'll get in under the hood\nin there in a little bit.\n\n26\n00:01:18.950 --> 00:01:23.120\nStart looking at how we setup and\nuse DNSSEC,\n\n27\n00:01:23.120 --> 00:01:26.990\none of the newer features available to\nus in more modern operating systems.\n\n28\n00:01:26.990 --> 00:01:30.550\nDigitally signing zone files\nis what DNSSEC represents.\n\n29\n00:01:30.550 --> 00:01:31.830\nShort for DNS security.\n\n30\n00:01:31.830 --> 00:01:33.160\nAnd we'll talk about how that works.\n\n31\n00:01:33.160 --> 00:01:34.330\nIt's actually not that complicated.\n\n32\n00:01:34.330 --> 00:01:35.660\nWe'll take a look at how to set it up.\n\n33\n00:01:35.660 --> 00:01:39.960\nWe'll take a look at some of the other\nthings that we can do in DNS as well, and\n\n34\n00:01:39.960 --> 00:01:42.460\nmake sure we understand\nthe particulars of how this operates.\n\n35\n00:01:42.460 --> 00:01:45.050\nWhy don't we start by talking about\nwhat DNS is and what it does?\n\n36\n00:01:45.050 --> 00:01:46.770\nSo, Cherokee,\nmaybe you can help me out with this.\n\n37\n00:01:46.770 --> 00:01:50.116\nI know this is one of the things that\nyou certainly are familiar with and\n\n38\n00:01:50.116 --> 00:01:52.682\nwe spend a lot of time talking\nabout name resolution.\n\n39\n00:01:52.682 --> 00:01:56.715\nWe often pay lip service to the idea of\nthe fact that we use DNS to do quite a bit\n\n40\n00:01:56.715 --> 00:02:00.060\nof the name resolution heavy\nlifting that we engage in today.\n\n41\n00:02:00.060 --> 00:02:04.480\nBut we don't often step back and\nspend time just really examining and\n\n42\n00:02:04.480 --> 00:02:07.740\nbreaking down in simple terms\nwhat name resolution means.\n\n43\n00:02:07.740 --> 00:02:11.880\nSo if we had to describe for,\nI don't know, Johnny or\n\n44\n00:02:11.880 --> 00:02:16.190\nany of our listeners and watchers out\nthere who may be wondering what DNS is.\n\n45\n00:02:16.190 --> 00:02:17.530\nSimple couple of sentences.\n\n46\n00:02:17.530 --> 00:02:18.420\nNot too complicated.\n\n47\n00:02:18.420 --> 00:02:20.980\nWhat would we tell somebody about DNS and\nhow it works?\n\n48\n00:02:20.980 --> 00:02:24.960\n&gt;&gt; Sure, so if I even just break it\ndown Barney style, I would say that it's\n\n49\n00:02:24.960 --> 00:02:30.940\nbasically a way for computers to\nresolve host names to IP addresses.\n\n50\n00:02:30.940 --> 00:02:32.980\nBecause, I don't know about you, Adam, but\n\n51\n00:02:32.980 --> 00:02:36.710\nI certainly don't browse the Internet\nlooking for different IP addresses.\n\n52\n00:02:36.710 --> 00:02:42.080\nI use names like Amazon.com,\nZappos.com, ITPRO.TV.\n\n53\n00:02:42.080 --> 00:02:47.745\nSo that's the service that ultimately\namongst the more complicated\n\n54\n00:02:47.745 --> 00:02:53.700\nintricacies of it, but ultimately it\nresolves host names to IP addresses.\n\n55\n00:02:53.700 --> 00:02:59.924\n&gt;&gt; Okay, so DNS will, exactly as it does,\nresolve a fully qualified domain name and\n\n56\n00:02:59.924 --> 00:03:03.790\nor host name, cuz we could have a host\nname or a full path out to what we call\n\n57\n00:03:03.790 --> 00:03:07.700\na fully qualified reference to the name\nspace and the host put together.\n\n58\n00:03:07.700 --> 00:03:10.740\nHence the concept of the FQDN\nyou often hear us talk about.\n\n59\n00:03:10.740 --> 00:03:13.910\nSo we will resolve that to an IP address,\nright?\n\n60\n00:03:13.910 --> 00:03:14.580\nAbsolutely.\n\n61\n00:03:14.580 --> 00:03:15.530\nCan we go the other way?\n\n62\n00:03:15.530 --> 00:03:20.890\nYou mention, hey, I don't know about you,\nbut I don't personally go out and\n\n63\n00:03:20.890 --> 00:03:22.900\nsearch the Internet looking for IPs.\n\n64\n00:03:22.900 --> 00:03:26.440\nI search for these names, or\nwe call them URLs on the Internet, but\n\n65\n00:03:26.440 --> 00:03:29.280\nessentially, they refer to the namespace\nthat we're trying to resolve.\n\n66\n00:03:29.280 --> 00:03:32.420\nBut you say, on average, and you're right,\nmost people probably don't know the IP,\n\n67\n00:03:32.420 --> 00:03:35.670\nright, of the site or\nthe namespace they wanna resolve.\n\n68\n00:03:35.670 --> 00:03:38.390\nAnd so they're gonna search with\na more user friendly, right,\n\n69\n00:03:38.390 --> 00:03:40.480\nhuman friendly string.\n\n70\n00:03:40.480 --> 00:03:44.550\nBut could we resolve, could we go out and\nsearch for an IP address as you suggested?\n\n71\n00:03:44.550 --> 00:03:45.770\nWe don't, but we could.\n\n72\n00:03:45.770 --> 00:03:47.180\nDNS does that as well, does it not?\n\n73\n00:03:47.180 --> 00:03:51.030\n&gt;&gt; For sure, and it's definitely\nhelpful even as a network administrator\n\n74\n00:03:51.030 --> 00:03:51.700\nlooking at that.\n\n75\n00:03:51.700 --> 00:03:55.550\nAnd maybe they have a piece of network\nmonitoring software, some kind of network\n\n76\n00:03:55.550 --> 00:03:59.950\nmonitoring utility, and they just see\nissues with a particular IP address.\n\n77\n00:03:59.950 --> 00:04:03.873\nWell, they might not know, well, okay,\nthat's Adam's desk, I need to go look and\n\n78\n00:04:03.873 --> 00:04:06.773\ntalk to Adam as to if he's\nexperiencing problems or whatever.\n\n79\n00:04:06.773 --> 00:04:11.465\nSo yeah, that ability does allow\nus to utilize DNS to provide\n\n80\n00:04:11.465 --> 00:04:14.360\nthose reverse look ups as well.\n\n81\n00:04:14.360 --> 00:04:18.397\n&gt;&gt; All right, and we did reverse look ups,\nreverse look ups zone, and the records\n\n82\n00:04:18.397 --> 00:04:22.372\nassociated with that, the PTR records,\nin one of our DHCP episodes early on,\n\n83\n00:04:22.372 --> 00:04:26.770\njust referencing how DHCP could be used to\nupdate DNS, the A record, the host record,\n\n84\n00:04:26.770 --> 00:04:28.590\nthe PTR, the pointer record.\n\n85\n00:04:28.590 --> 00:04:29.580\nWe'll take a look at those and\n\n86\n00:04:29.580 --> 00:04:33.100\nmake sure we are familiar with\nthem in DNS as we take a look.\n\n87\n00:04:33.100 --> 00:04:35.100\nBut we do have that ability\nto go backwards and forwards,\n\n88\n00:04:35.100 --> 00:04:37.860\neither host name and\nIP or IP and host name.\n\n89\n00:04:37.860 --> 00:04:40.480\nWe can browse and or\nresolve going either way.\n\n90\n00:04:40.480 --> 00:04:44.700\nBut the default setup is a what\nwe call a forward look up zone,\n\n91\n00:04:44.700 --> 00:04:48.660\nmeaning that when we setup DNS and\nwe enable DNS and setup the zone,\n\n92\n00:04:48.660 --> 00:04:50.510\nwe're setting up a forward look up zone.\n\n93\n00:04:50.510 --> 00:04:54.670\nThe first of the two name resolution\nopportunities that Cherokee described,\n\n94\n00:04:54.670 --> 00:04:59.280\nwe provide a host name, we get an IP\naddress and return all the inverse, right?\n\n95\n00:04:59.280 --> 00:05:02.860\nThe reverse as we call it, a reverse\nlook up zone where we provide the IP and\n\n96\n00:05:02.860 --> 00:05:06.090\nget the host name is not something there\nby default, although it is an option.\n\n97\n00:05:06.090 --> 00:05:09.910\nWe can set that up, and we certainly would\nencourage you to think about using one or\n\n98\n00:05:09.910 --> 00:05:11.380\nboth depending on the circumstances.\n\n99\n00:05:11.380 --> 00:05:14.580\nSo DNS is a name resolution service,\nright?\n\n100\n00:05:14.580 --> 00:05:17.060\nThat's what it is,\nit's what it's designed to do.\n\n101\n00:05:17.060 --> 00:05:18.500\nAgain, not Microsoft-centric,\n\n102\n00:05:18.500 --> 00:05:22.250\nalthough used by Microsoft as it\nis by all other operating systems.\n\n103\n00:05:22.250 --> 00:05:25.200\nAnd Microsoft certainly\nprovides that capability to us,\n\n104\n00:05:25.200 --> 00:05:27.380\nconfigurable through\nseveral different options.\n\n105\n00:05:27.380 --> 00:05:30.590\nWe'll take a look at the MMC,\nthe Microsoft shell for DNS,\n\n106\n00:05:30.590 --> 00:05:34.880\nthe command interface rather, and\nthe graphical, the GUI interface.\n\n107\n00:05:34.880 --> 00:05:35.830\nBut I'll show you those.\n\n108\n00:05:35.830 --> 00:05:36.650\nWe have PowerShell.\n\n109\n00:05:36.650 --> 00:05:37.400\nYou can use that.\n\n110\n00:05:37.400 --> 00:05:39.640\nWe also have a command line\ntool called DNS command,\n\n111\n00:05:39.640 --> 00:05:42.330\ndnscmd that we can use\nwhich is often overlooked.\n\n112\n00:05:42.330 --> 00:05:43.840\nA lot of people don't\nthink about the fact,\n\n113\n00:05:43.840 --> 00:05:47.140\nespecially with the PowerShell these days,\nthat we can use DNS command.\n\n114\n00:05:47.140 --> 00:05:50.887\nBut DNS command's been around,\nbeen available to for us for some time.\n\n115\n00:05:50.887 --> 00:05:53.905\nAnd nslookup, another tool that can\nbe used to configure, work with, and\n\n116\n00:05:53.905 --> 00:05:54.870\nmanage DNS.\n\n117\n00:05:54.870 --> 00:05:57.215\nAnd so we have several different options,\nat least four,\n\n118\n00:05:57.215 --> 00:05:59.395\nin the case of DNS that we can use.\n\n119\n00:05:59.395 --> 00:06:02.953\nAnd we're gonna be able to take advantage\nof any one or all of those as needed to do\n\n120\n00:06:02.953 --> 00:06:06.397\nthe work that we need to do to\nconfigure and manage and maintain DNS.\n\n121\n00:06:06.397 --> 00:06:07.877\nEncourage you to think about those.\n\n122\n00:06:07.877 --> 00:06:10.537\nEncourage you to understand\nthe options you have there.\n\n123\n00:06:10.537 --> 00:06:13.487\nRemember, Microsoft\nloves to test on tools.\n\n124\n00:06:13.487 --> 00:06:14.677\nNot just the obvious ones.\n\n125\n00:06:14.677 --> 00:06:18.543\nHey, go into that MMC,\nopen that particular item, right-click,\n\n126\n00:06:18.543 --> 00:06:23.773\nshow that particular option on a task or\non a tab and then go ahead and do it.\n\n127\n00:06:23.773 --> 00:06:24.773\nThose are the obvious ones.\n\n128\n00:06:24.773 --> 00:06:27.153\nBut how would you do it from\na command line interface?\n\n129\n00:06:27.153 --> 00:06:28.733\nHow would you do it through nslookup?\n\n130\n00:06:28.733 --> 00:06:31.513\nIs the command the same in nslookup\nas it would be in DNS command?\n\n131\n00:06:31.513 --> 00:06:34.873\nThe answer is probably not, and you would\nwant to know the difference between those.\n\n132\n00:06:34.873 --> 00:06:37.420\nAnd the commands are certainly\ndifferent in PowerShell.\n\n133\n00:06:37.420 --> 00:06:40.850\nSo we'd wanna be spending some time poking\naround taking a look at those things.\n\n134\n00:06:40.850 --> 00:06:42.310\nTo that end, if you join me here for\n\n135\n00:06:42.310 --> 00:06:47.130\njust a moment, I do have a handy\ncommand prompt opened up.\n\n136\n00:06:47.130 --> 00:06:50.640\nAdministrative access already granted,\nwe can see that here.\n\n137\n00:06:50.640 --> 00:06:53.690\nI did modify the command prompt so\nwe could see it a little bit easier,\n\n138\n00:06:53.690 --> 00:06:57.890\nmade it a little bigger, changed\nthe background color and the font size.\n\n139\n00:06:57.890 --> 00:07:00.800\nIf you're wondering why it's unusual and\nit's white with blue and\n\n140\n00:07:00.800 --> 00:07:01.900\na little bit bigger.\n\n141\n00:07:01.900 --> 00:07:05.070\nIt's just so you could see it easier,\nit's the only modifications we make\n\n142\n00:07:05.070 --> 00:07:07.390\nwhen we set these up for\nyou in the demonstrations.\n\n143\n00:07:07.390 --> 00:07:09.340\nOther than that,\nthey would be the same command line,\n\n144\n00:07:09.340 --> 00:07:12.330\nthe same command prompt you would open up\nby right-clicking and choosing to do that.\n\n145\n00:07:12.330 --> 00:07:13.660\nSo, just so you know.\n\n146\n00:07:13.660 --> 00:07:16.250\nBut I mentioned dns-cmd,\n\n147\n00:07:16.250 --> 00:07:21.090\nand if we are not familiar with\ndns command, and you may not be.\n\n148\n00:07:21.090 --> 00:07:23.473\nAnd if I could type that\nwould certainly be helpful.\n\n149\n00:07:23.473 --> 00:07:26.002\nWhat we would see here is,\nas I always encouraged you to do,\n\n150\n00:07:26.002 --> 00:07:29.410\ntake a look at the help file for command\nif you're not familiar with it, right?\n\n151\n00:07:29.410 --> 00:07:32.420\nAnd you'll see this one is\nactually fairly extensive.\n\n152\n00:07:32.420 --> 00:07:36.547\nAnd when they're big like this, sometimes\nI like to output them to a text file and\n\n153\n00:07:36.547 --> 00:07:39.644\njust read them so\nI'm not scrolling through this long very,\n\n154\n00:07:39.644 --> 00:07:43.725\nvery hard to manage sometimes cuz it may\nrun through the edge of the buffer here.\n\n155\n00:07:43.725 --> 00:07:47.757\nVery long file, but either way,\nyou could see there are a number of\n\n156\n00:07:47.757 --> 00:07:51.575\ncommands that are available to\nus inside of the Dnscmd cmdlet.\n\n157\n00:07:51.575 --> 00:07:56.684\nAnd when we use this and use the options\nassociated with it, info, config Num zone\n\n158\n00:07:56.684 --> 00:08:01.810\nstatistics, clear cache, whatever,\nwe're able to provide for information.\n\n159\n00:08:01.810 --> 00:08:04.624\nI could reset server or\nzone information using the config command.\n\n160\n00:08:04.624 --> 00:08:06.609\nA bunch of different stuff I can do.\n\n161\n00:08:06.609 --> 00:08:10.535\nCan I clear the cache, the config,\nall that from within the MMC?\n\n162\n00:08:10.535 --> 00:08:13.390\nSure, I could right-click and go in and\ndo that, but I could do it from here.\n\n163\n00:08:13.390 --> 00:08:15.540\nUse nslookup to do that.\n\n164\n00:08:15.540 --> 00:08:17.160\nI can also use PowerShell to do that.\n\n165\n00:08:17.160 --> 00:08:20.159\nSo, as I was suggesting,\nlots of different options for you.\n\n166\n00:08:20.159 --> 00:08:24.891\nAnd we'll get into some of this, I'll do\na quick configuration from DNS command\n\n167\n00:08:24.891 --> 00:08:29.430\nto show you what a command looks like\nto set the DNS overwrite protection.\n\n168\n00:08:29.430 --> 00:08:33.300\nWe'll take a look at that and\nI'll show you this command right here,\n\n169\n00:08:33.300 --> 00:08:37.200\ncash lock in percent, and we'll take a\nlook at what this does, does it prevent or\n\n170\n00:08:37.200 --> 00:08:40.780\nspecify the time value in\na percentage associated with.\n\n171\n00:08:40.780 --> 00:08:44.200\nWhether we overwrite the DNS entries or\nnot, and if so at what time.\n\n172\n00:08:44.200 --> 00:08:46.940\nWe'll take a look at some of these and\nhow they work over the next few minutes.\n\n173\n00:08:46.940 --> 00:08:49.210\nBut it is important to start thinking\nabout that as we get into DNS.\n\n174\n00:08:49.210 --> 00:08:53.470\nSo we do have a baseline explanation\nof what DNS is and how it works.\n\n175\n00:08:53.470 --> 00:08:55.653\nLike DHCP, it must be installed and\nconfigured.\n\n176\n00:08:55.653 --> 00:08:57.674\nSo we add it as a feature.\n\n177\n00:08:57.674 --> 00:08:58.545\nYou set it up.\n\n178\n00:08:58.545 --> 00:09:01.542\nThis server has already been configured,\nit's on our domain control.\n\n179\n00:09:01.542 --> 00:09:03.620\nYou may notice that from\nprior demonstrations.\n\n180\n00:09:03.620 --> 00:09:07.376\nAnd as is the case in many Windows\ninstalls today, especially in the active\n\n181\n00:09:07.376 --> 00:09:11.622\ndirectory based installs, we often are\nusing active directory integrated zones.\n\n182\n00:09:11.622 --> 00:09:16.261\nMeaning our DNS servers are storing\ntheir DNS zone information in the domain\n\n183\n00:09:16.261 --> 00:09:21.450\ncontrollers, and we often see DNS running\non domain controllers as a result.\n\n184\n00:09:21.450 --> 00:09:23.320\nSo, we will often find that's the case.\n\n185\n00:09:23.320 --> 00:09:26.470\nSo, you should not be surprised that that\nwould be the configuration we go with.\n\n186\n00:09:26.470 --> 00:09:28.427\nSo, just keeping that in mind so we know.\n\n187\n00:09:28.427 --> 00:09:31.972\nAre there reasons maybe Cherokee why\nwe would decide not to put DNS and\n\n188\n00:09:31.972 --> 00:09:36.145\nactive directory together, integrate\nthem and run DNS on domain controllers?\n\n189\n00:09:36.145 --> 00:09:38.209\nMight there be business cases or\n\n190\n00:09:38.209 --> 00:09:42.030\nscenarios where we'd wanna have\nDNS stand off on its own and\n\n191\n00:09:42.030 --> 00:09:47.260\nmaybe not be all on the exposing them\nperhaps unnecessarily to certain things?\n\n192\n00:09:47.260 --> 00:09:47.924\nWhat might we think of there?\n\n193\n00:09:47.924 --> 00:09:52.487\n&gt;&gt; Yeah well if you just want to go\nahead and think about your security and\n\n194\n00:09:52.487 --> 00:09:57.260\nkeep your active directory\nseparate from your DNS so maybe.\n\n195\n00:09:57.260 --> 00:10:02.750\nLet's you had a server that\nwas handling any external DNS.\n\n196\n00:10:02.750 --> 00:10:05.990\nSo you could even set it as a full router,\nto allow, maybe,\n\n197\n00:10:05.990 --> 00:10:09.345\nan internet service provider to\nhandle those external request.\n\n198\n00:10:09.345 --> 00:10:13.870\nWhereas you would have an internal DNS\nserver to handle those internal active\n\n199\n00:10:13.870 --> 00:10:17.558\ndirectory so that you do have some\nsort of segregation there and\n\n200\n00:10:17.558 --> 00:10:20.427\nkeep internal information, well, internal.\n\n201\n00:10:20.427 --> 00:10:24.247\nAnd it's a little more secure than\nsomething that would be more on\n\n202\n00:10:24.247 --> 00:10:26.610\nthe perimeter of your network.\n\n203\n00:10:26.610 --> 00:10:29.970\n&gt;&gt; So DNS servers are perhaps\noperating in a DMZ for\n\n204\n00:10:29.970 --> 00:10:31.080\ninstance-\n&gt;&gt; Yeah you could have one out\n\n205\n00:10:31.080 --> 00:10:31.720\nmore close, yeah.\n\n206\n00:10:31.720 --> 00:10:34.250\n&gt;&gt; Maybe have one that's\nsomehow exposed partially for\n\n207\n00:10:34.250 --> 00:10:37.980\nexternal resolution like you were\nsuggesting, but perhaps in the DMZ or\n\n208\n00:10:37.980 --> 00:10:42.650\neven inside, behind the secondary\nfirewall in the internal part of the LAN.\n\n209\n00:10:42.650 --> 00:10:46.352\nBut perhaps on the portion of the network\nwhere we need guest services to be able to\n\n210\n00:10:46.352 --> 00:10:47.877\ngive guest access for internet or\n\n211\n00:10:47.877 --> 00:10:51.543\nwe wanna have them resolved through there\nwith a forwarder, as you suggested.\n\n212\n00:10:51.543 --> 00:10:56.166\nBut not touch our active directory domain\nbase DNS infrastructure exposing zones,\n\n213\n00:10:56.166 --> 00:10:58.966\nthings of that nature which\nwould give bad actors,\n\n214\n00:10:58.966 --> 00:11:02.562\nwhether they meant to or\nnot potentially the advantage, right?\n\n215\n00:11:02.562 --> 00:11:06.503\nTo be able to see name resolution and find\nout and map out about our resources and\n\n216\n00:11:06.503 --> 00:11:07.228\nour network.\n\n217\n00:11:07.228 --> 00:11:10.088\nWould be a good idea is to segment\nthat as you were suggesting, right?\n\n218\n00:11:10.088 --> 00:11:12.597\nAnd to push that off and\nkeep her half separate\n\n219\n00:11:12.597 --> 00:11:16.896\nDNS infrastructure available Some\nintegrated, some not integrated.\n\n220\n00:11:16.896 --> 00:11:19.346\nSo we can segment and\nfurther manage our zones.\n\n221\n00:11:19.346 --> 00:11:23.176\nWhich is really what it comes down to with\nDNS, management of the name resolution.\n\n222\n00:11:23.176 --> 00:11:25.086\nThe named spaces we call them zones.\n\n223\n00:11:25.086 --> 00:11:26.096\nAnd you see here for\n\n224\n00:11:26.096 --> 00:11:30.246\ninstance practicelabs.com is that forward\nlook up zone we were talking about, right?\n\n225\n00:11:30.246 --> 00:11:32.770\nGive me the host name and\nwe'll give you the IP address.\n\n226\n00:11:32.770 --> 00:11:33.769\nRight, that's what we do there.\n\n227\n00:11:33.769 --> 00:11:35.846\nAnd the reverse look up\nzones that we talked about,\n\n228\n00:11:35.846 --> 00:11:38.760\nalthough they're not populated,\ncould easily be added here as well.\n\n229\n00:11:38.760 --> 00:11:42.267\nSo that would be a great scenario, or set\nof scenarios, where we think about from\n\n230\n00:11:42.267 --> 00:11:45.121\na troubleshooting perspective,\nfrom a security perspective.\n\n231\n00:11:45.121 --> 00:11:47.344\nWhat would be the reasons\nwhy we'd go one way or\n\n232\n00:11:47.344 --> 00:11:49.230\nthe other with the architecture here.\n\n233\n00:11:49.230 --> 00:11:51.870\nAnd there are compelling\nreasons not to integrate DNS.\n\n234\n00:11:51.870 --> 00:11:54.746\nEven though we often say in here, yeah,\njust store it in active directory.\n\n235\n00:11:54.746 --> 00:11:55.813\nIt's so much easier.\n\n236\n00:11:55.813 --> 00:11:58.545\nIt'll be replicated with\nthe zone information,\n\n237\n00:11:58.545 --> 00:12:03.340\nwe'll go out with the AD information\nfrom a survivability standpoint.\n\n238\n00:12:03.340 --> 00:12:07.162\nIt's so much easier to plan for\ndistributed DNS architectures by putting\n\n239\n00:12:07.162 --> 00:12:10.921\nDNS into and on every domain controller,\nso it's spread out so we don't\n\n240\n00:12:10.921 --> 00:12:15.131\nhave to worry about some of things things\nlike with DHCP where we set up fail over.\n\n241\n00:12:15.131 --> 00:12:16.990\nIn our prior episodes right.\n\n242\n00:12:16.990 --> 00:12:19.150\nThis makes it a lot easier it's built in.\n\n243\n00:12:19.150 --> 00:12:22.722\nWe use the AD replication topology to\nmove our zone information around and\n\n244\n00:12:22.722 --> 00:12:26.179\nkeep it synchronised, losing the main\ncontroller that could happen,\n\n245\n00:12:26.179 --> 00:12:28.097\nlose the DNS server that could happen.\n\n246\n00:12:28.097 --> 00:12:31.938\nBut if this is on every domain controller\nwe're gonna have full knowledge of that\n\n247\n00:12:31.938 --> 00:12:35.340\nand we typically have more than oe\ndomain controller in a domain today.\n\n248\n00:12:35.340 --> 00:12:39.352\nAnd as a result we have the availability,\nfor DNS built right in.\n\n249\n00:12:39.352 --> 00:12:43.138\nSo there's a lot of compelling reasons\nwhy we may choose to do this, right?\n\n250\n00:12:43.138 --> 00:12:46.479\nBut then there're also some\ncompelling reasons on the other side\n\n251\n00:12:46.479 --> 00:12:48.247\nwhere we may choose not to do this.\n\n252\n00:12:48.247 --> 00:12:52.521\nAnd what I often talk with customers\nabout, what I talk with students about,\n\n253\n00:12:52.521 --> 00:12:56.927\nwhat I talk with you about Is the idea\nthat you don't let circumstances drive and\n\n254\n00:12:56.927 --> 00:12:58.865\ndictate decisions exclusively.\n\n255\n00:12:58.865 --> 00:13:00.845\nYou think logically\nabout the best path and\n\n256\n00:13:00.845 --> 00:13:03.492\nthen you make decisions that\nmake the most sense for you.\n\n257\n00:13:03.492 --> 00:13:06.940\nBut you plan to understand what\nthe implications of those situations are.\n\n258\n00:13:06.940 --> 00:13:10.703\nAnd deciding here to separate\nout certain named spaces and\n\n259\n00:13:10.703 --> 00:13:14.950\nmanage them stand alone versus\nintegrated may be a value add.\n\n260\n00:13:14.950 --> 00:13:17.063\nIt may be a security play\nas Cherokee was suggesting.\n\n261\n00:13:17.063 --> 00:13:19.040\nAnd I like the way we think about that.\n\n262\n00:13:19.040 --> 00:13:21.760\nThere could be a lot of architectural\nreasons why we'd do this.\n\n263\n00:13:21.760 --> 00:13:24.640\nSo I just want you to be\nthinking outside that proverbial\n\n264\n00:13:24.640 --> 00:13:27.100\nactive directory box\nthat we often hear about.\n\n265\n00:13:27.100 --> 00:13:29.242\nBecause it's easy just to go\nwith the flow and say yeah,\n\n266\n00:13:29.242 --> 00:13:31.537\nI'll do that because that's\nwhat everybody recommends.\n\n267\n00:13:31.537 --> 00:13:34.812\nAnd well, it's just gonna work that\nway less headache, absolutely,\n\n268\n00:13:34.812 --> 00:13:36.024\nnothing wrong with that.\n\n269\n00:13:36.024 --> 00:13:39.350\nBut the path of least resistance\nis not always the best choice.\n\n270\n00:13:39.350 --> 00:13:42.585\nAnd that's what you gotta think about and\nmake sure you understand in the real\n\n271\n00:13:42.585 --> 00:13:45.720\nworld, cuz there are overarching,\ncompelling reasons why you may have to\n\n272\n00:13:45.720 --> 00:13:47.834\ntake a different path or\nmaybe more complicated.\n\n273\n00:13:47.834 --> 00:13:49.871\nBut ultimately may one to be more secured,\n\n274\n00:13:49.871 --> 00:13:52.540\nmore functional at the end of\nthe day as a result as well.\n\n275\n00:13:52.540 --> 00:13:53.860\nAnd those are important considerations.\n\n276\n00:13:53.860 --> 00:13:57.300\nAll right, so we talked a little bit about\njust the high level thought process,\n\n277\n00:13:57.300 --> 00:14:00.000\nif you can join me back up,\nI don't know, somewhere.\n\n278\n00:14:00.000 --> 00:14:03.100\nOver there, wherever that is,\nin the box up top where I'm talking.\n\n279\n00:14:03.100 --> 00:14:05.295\nSo if we take a look at DNS and\nwe're thinking about, great,\n\n280\n00:14:05.295 --> 00:14:08.586\nwe've got our zones, we've got our general\nstructure, who's in charge of this stuff?\n\n281\n00:14:08.586 --> 00:14:11.360\nRight, the question we often have to ask,\nwho manages this?\n\n282\n00:14:11.360 --> 00:14:13.950\nWho in other words has right\nthe DNS when we set it up?\n\n283\n00:14:13.950 --> 00:14:16.400\nDoes the average user have rights to DNS?\n\n284\n00:14:16.400 --> 00:14:20.850\nWell, they do in one respect is Cherokee\npoint that they can certainly consume, and\n\n285\n00:14:20.850 --> 00:14:25.150\nuse the output of a DNS query, which is\nwhat we call a question launched against\n\n286\n00:14:25.150 --> 00:14:27.920\nthe DNS server for name resolution,\nwe call it a query.\n\n287\n00:14:27.920 --> 00:14:30.430\nSo an average customer,\nan average consumer,\n\n288\n00:14:30.430 --> 00:14:35.570\nan average user of our network can launch\nan application that needs name resolution.\n\n289\n00:14:35.570 --> 00:14:37.990\nAnd can make a request to find something.\n\n290\n00:14:37.990 --> 00:14:41.082\nAnd as long as we're in the same system,\nsetup the same way and\n\n291\n00:14:41.082 --> 00:14:43.818\nwe have access to the DNS server and\nhave been told where\n\n292\n00:14:43.818 --> 00:14:48.068\nto go to find the DNS server, we'll start\nby going and asking a series of questions.\n\n293\n00:14:48.068 --> 00:14:50.851\nNow, those questions are actually\nresolved locally first.\n\n294\n00:14:50.851 --> 00:14:54.053\nWhen I say locally, we always try\nto find the information if we\n\n295\n00:14:54.053 --> 00:14:57.132\npossess it in our own systems\nfirst because it's cheaper,\n\n296\n00:14:57.132 --> 00:14:59.860\nmeaning it takes less time,\ntakes less resources.\n\n297\n00:14:59.860 --> 00:15:02.296\nIf we already know the answer\nthan it is to go out and\n\n298\n00:15:02.296 --> 00:15:04.510\nask somebody to be told\nwhat we already know.\n\n299\n00:15:04.510 --> 00:15:06.140\nIf you think about the logic of it.\n\n300\n00:15:06.140 --> 00:15:10.153\nSo name resolution always begins at home I\nsay, and if it's not found there then we\n\n301\n00:15:10.153 --> 00:15:13.956\ngo remote, we go out to the DNS server and\nthere may be several options there.\n\n302\n00:15:13.956 --> 00:15:15.906\nDNS server on our subnet.\n\n303\n00:15:15.906 --> 00:15:20.740\nDNS server on our subnet does or does not\nknow what the answer is, as Cherokee said.\n\n304\n00:15:20.740 --> 00:15:21.947\nWe may have what's called forwarding,\nright?\n\n305\n00:15:21.947 --> 00:15:24.025\nWe may be told hey,\nI'm not sure what that it is.\n\n306\n00:15:24.025 --> 00:15:27.895\nIt's not local, it's remote, I've been\ntold to send all remote questions or\n\n307\n00:15:27.895 --> 00:15:28.890\nqueries over here.\n\n308\n00:15:28.890 --> 00:15:34.870\nAnd we have another DNS server, typically\nan ISP server outside of our network,\n\n309\n00:15:34.870 --> 00:15:37.670\noutside of our namespace that\nwe will resolve against.\n\n310\n00:15:37.670 --> 00:15:40.290\nBut not always we may have what\nare called root hints right.\n\n311\n00:15:40.290 --> 00:15:42.950\nWe may go up to one of the root\nservers on the Internet.\n\n312\n00:15:42.950 --> 00:15:44.860\nAnd we'll talk just very quickly.\n\n313\n00:15:44.860 --> 00:15:47.040\nCherokee's gonna help me walk\nthrough the logic of this and\n\n314\n00:15:47.040 --> 00:15:48.650\npaint you a picture with words.\n\n315\n00:15:48.650 --> 00:15:50.130\nShe's a lot better at that than I am.\n\n316\n00:15:50.130 --> 00:15:52.770\nI'm really good with finger paints,\nI'm horrible with words.\n\n317\n00:15:52.770 --> 00:15:54.039\nSo she's gonna help us figure that out.\n\n318\n00:15:54.039 --> 00:15:57.056\nBut we're gonna quickly narrate\nthrough the logic of the hierarchy for\n\n319\n00:15:57.056 --> 00:15:59.227\nyou with DNS, what we do,\nhow that gets resolved.\n\n320\n00:15:59.227 --> 00:16:00.985\nWe'll paint that picture for\nyou here in a minute.\n\n321\n00:16:00.985 --> 00:16:03.927\nBut we may push those resolution\nrequests out beyond the border of\n\n322\n00:16:03.927 --> 00:16:04.952\nthe network, right?\n\n323\n00:16:04.952 --> 00:16:08.506\nMay be not just be local and\nthen eventually, hopefully, right,\n\n324\n00:16:08.506 --> 00:16:11.552\nif we do everything right and\nthe resolution does exist,\n\n325\n00:16:11.552 --> 00:16:15.910\nthere is an answer to that question,\nwhere is, what'd you say, zappos.com?\n\n326\n00:16:15.910 --> 00:16:19.060\nRight or I heard her say baskets.com or\nsomething.\n\n327\n00:16:19.060 --> 00:16:20.490\nWhere is zappos.com or\n\n328\n00:16:20.490 --> 00:16:23.270\nwhatever it is, right, we're gonna\nhopefully get that answer back.\n\n329\n00:16:23.270 --> 00:16:24.060\nBut you know what?\n\n330\n00:16:24.060 --> 00:16:29.070\nSometimes we ask for Zappos.com but\nmaybe we spell it the wrong way.\n\n331\n00:16:29.070 --> 00:16:33.060\nMaybe it's got three p's and two s's and\nthen it's not how it's spelled at least\n\n332\n00:16:33.060 --> 00:16:34.860\nlast time I checked it's not\nhow it's spelled, right.\n\n333\n00:16:34.860 --> 00:16:38.420\nSo if we try that who knows what we'll get\nback maybe there really is a Zappos.com\n\n334\n00:16:38.420 --> 00:16:42.670\nwith three p's and two s's, but let's just\nassume there isn't for just a minute.\n\n335\n00:16:42.670 --> 00:16:45.565\nWe gotta get all those people who\nwork zappos.com with three p's and\n\n336\n00:16:45.565 --> 00:16:48.370\ntwo s's ready,\nwhy did you say that we don't exist?\n\n337\n00:16:48.370 --> 00:16:51.000\nI didn't say you don't exist I'm\njust saying there may not be one.\n\n338\n00:16:51.000 --> 00:16:53.460\nBut let's assume for\na minute there is not one right, and\n\n339\n00:16:53.460 --> 00:16:55.110\nthat's not the proper resolution.\n\n340\n00:16:55.110 --> 00:16:58.000\nWe would expect and\nhopefully indeed get back\n\n341\n00:16:58.000 --> 00:17:02.060\na request error that essentially says hey\nguess what, we can't find that out there.\n\n342\n00:17:02.060 --> 00:17:04.010\nThere's some sort of a mistake, step back,\n\n343\n00:17:04.010 --> 00:17:06.310\ntry that again cuz we just\ndon't know what that is.\n\n344\n00:17:06.310 --> 00:17:09.680\nAnd so there's different ways,\nright, the resolution to take place.\n\n345\n00:17:09.680 --> 00:17:13.670\nWe have to be thinking about all these\nas we're juggling trying to figure out\n\n346\n00:17:13.670 --> 00:17:15.460\nhow name resolution is gonna take place.\n\n347\n00:17:15.460 --> 00:17:18.660\nWe start local, we end remote and\nwe need to understand that.\n\n348\n00:17:18.660 --> 00:17:21.240\nSo let's maybe walk through the logical\nwhat that really means, right?\n\n349\n00:17:21.240 --> 00:17:22.140\n&gt;&gt; Okay.\n&gt;&gt; Let's talk about the different\n\n350\n00:17:22.140 --> 00:17:22.730\nsteps involved.\n\n351\n00:17:22.730 --> 00:17:24.460\nSo when we start local,\n\n352\n00:17:24.460 --> 00:17:28.500\nwe're thinking about name\nresolution in the hosts file right.\n\n353\n00:17:28.500 --> 00:17:30.130\nSo we do have a hosts\nfile on every machine,\n\n354\n00:17:30.130 --> 00:17:32.970\nat least every Windows based\nmachine will have a host file.\n\n355\n00:17:32.970 --> 00:17:35.920\nThere's an equivalent version of\nthis in other operating systems.\n\n356\n00:17:35.920 --> 00:17:38.460\nSo we would see local\nresolution occurring,\n\n357\n00:17:38.460 --> 00:17:42.820\nlooking something up against a file in the\nlocal system, whatever that version is.\n\n358\n00:17:42.820 --> 00:17:44.660\nWindows 10, Windows 7, Server 12 etc.\n\n359\n00:17:44.660 --> 00:17:48.226\nIt's gonna be on the system,\nwe'll take a look there.\n\n360\n00:17:48.226 --> 00:17:49.711\nDriver's XE right so\n\n361\n00:17:49.711 --> 00:17:54.336\nsee Windows right, in the drivers\nat C directory all drivers etc.\n\n362\n00:17:54.336 --> 00:17:57.966\nIf you're not a Linux Unix person and\ndon't say etc, totally up to you up but\n\n363\n00:17:57.966 --> 00:18:01.683\neither way right we would see it there\nwhich he hosts file we would look there.\n\n364\n00:18:01.683 --> 00:18:05.080\nBut traditionally, there is really\nnothing in the host file normally,\n\n365\n00:18:05.080 --> 00:18:09.350\nwith the exception of a reference to\nLoopBack adapter, right, or 127.0.0.1.\n\n366\n00:18:09.350 --> 00:18:11.260\nWell, may or may not be, right, I mean,\n\n367\n00:18:11.260 --> 00:18:15.150\nhopefully is one way to put it, but\nwe would traditionally say, right.\n\n368\n00:18:15.150 --> 00:18:20.060\nUnless we've been either purposely\non the path to editing that,\n\n369\n00:18:20.060 --> 00:18:24.310\nright, cuz we may make a change to forced\nresolution to go to something that's\n\n370\n00:18:24.310 --> 00:18:28.640\na hard coded URL or a hard coded\nreference to a host internal or\n\n371\n00:18:28.640 --> 00:18:30.940\nlocally for testing or variety of reasons.\n\n372\n00:18:30.940 --> 00:18:34.810\nBut under normal circumstances, unless\nwe've gone out of our way to do that or\n\n373\n00:18:34.810 --> 00:18:36.270\nsomebody's done that on our behalf.\n\n374\n00:18:36.270 --> 00:18:37.672\nA malware for instance, right?\n\n375\n00:18:37.672 --> 00:18:41.150\n&gt;&gt; Right. [LAUGH] &gt;&gt; Something that is\ngonna be a good outcome that we would hope\n\n376\n00:18:41.150 --> 00:18:42.120\nwould not be there.\n\n377\n00:18:42.120 --> 00:18:46.310\nWe should not see anything other than the\nreference to 127001, right and the local\n\n378\n00:18:46.310 --> 00:18:51.060\nhost equivalent which is why when you\nping 127001 or ping local host, it works.\n\n379\n00:18:51.060 --> 00:18:54.510\nBecause we can ping or parse that file,\nunderstand that it's there,\n\n380\n00:18:54.510 --> 00:18:55.910\nunderstand the resolution.\n\n381\n00:18:55.910 --> 00:19:00.160\nBut we look there and we look in\nthe IPconfig displayed DNS will show us\n\n382\n00:19:00.160 --> 00:19:03.230\nthe post DNS resolver cache, right.\n\n383\n00:19:03.230 --> 00:19:06.710\nAnd so we look in that resolver\ncache our memory space\n\n384\n00:19:06.710 --> 00:19:10.920\nthat caches information that we found\nthrough other resolution requests and\n\n385\n00:19:10.920 --> 00:19:13.710\nwe look in these places\nfirst on every host.\n\n386\n00:19:13.710 --> 00:19:18.040\nIf we find something there, we take that\nas authoritative and we go with that.\n\n387\n00:19:18.040 --> 00:19:21.240\nThis is why sometimes when you have\na machine that doesn't connect to\n\n388\n00:19:21.240 --> 00:19:25.830\nthe internet or doesn't resolve the\nparticular name resolution you're looking\n\n389\n00:19:25.830 --> 00:19:29.760\nfor properly or from your perspective,\nwhat you feel is proper.\n\n390\n00:19:29.760 --> 00:19:32.620\nAnd then everybody around you\nis getting that resolution.\n\n391\n00:19:32.620 --> 00:19:33.580\nThey're getting to the Internet.\n\n392\n00:19:33.580 --> 00:19:36.130\nIf they're finding the things they need,\nbut you're not,\n\n393\n00:19:36.130 --> 00:19:41.660\nthis is why that difference or dichotomy\nis occurring because you may have an entry\n\n394\n00:19:41.660 --> 00:19:46.450\nthat's either purposely set up to be\nincorrect or perhaps for whatever reason\n\n395\n00:19:46.450 --> 00:19:50.560\nhas been entered into the cache, either\nby accident or however it got there.\n\n396\n00:19:50.560 --> 00:19:53.690\nAnd it's taking you to a different place,\nand we're not overcoming that because we\n\n397\n00:19:53.690 --> 00:19:57.460\nnever get off the local machine\nunless we don't find that resolution.\n\n398\n00:19:57.460 --> 00:19:59.500\nThis is why we need to\nrestart those machines.\n\n399\n00:20:00.530 --> 00:20:02.990\nClearing that name resolver cache.\n\n400\n00:20:02.990 --> 00:20:06.800\nThen typically they start resolving again\nbecause that information is wiped out.\n\n401\n00:20:06.800 --> 00:20:10.400\nShutting it down in other words clearing\nthe memory space will solve this problem.\n\n402\n00:20:10.400 --> 00:20:13.840\nDoesn't overcome the issues in the host\nfile because the entries in the host file\n\n403\n00:20:13.840 --> 00:20:16.640\nare static and\nthat will always be parsed first.\n\n404\n00:20:16.640 --> 00:20:17.950\nSo we always look at that and\n\n405\n00:20:17.950 --> 00:20:20.850\nif there's an entry in the host\nfile we won't overcome that.\n\n406\n00:20:20.850 --> 00:20:22.480\nSo just be aware of that.\n\n407\n00:20:22.480 --> 00:20:26.012\nThere are some things we have to be aware\nof here, but we can move past those,\n\n408\n00:20:26.012 --> 00:20:29.900\nand then from there we go out\nonto the wire so to speak right,\n\n409\n00:20:29.900 --> 00:20:33.910\nso we broadcast or\nsend out our query, our request for\n\n410\n00:20:33.910 --> 00:20:36.760\nname resolution,\ngoes to our DNS server of record.\n\n411\n00:20:36.760 --> 00:20:39.630\nYou ever wonder why we\nhave secondary to primary.\n\n412\n00:20:39.630 --> 00:20:43.100\nTwo or multiple DNS servers in our\nIP config a lot of times you'll\n\n413\n00:20:43.100 --> 00:20:46.110\nsee a primary to secondary obviously for\nseveral reasons.\n\n414\n00:20:46.110 --> 00:20:49.630\nOne, first DNS server may be\ntaking a break when you go and\n\n415\n00:20:49.630 --> 00:20:50.560\nask a question right.\n\n416\n00:20:50.560 --> 00:20:53.720\nIt may not be there it's gonna\nhave an alternate also because in\n\n417\n00:20:53.720 --> 00:20:56.480\ncertain situations that primary\nserver may be overwhelmed\n\n418\n00:20:56.480 --> 00:20:58.700\nimage be too much traffic\nto what's going on.\n\n419\n00:20:58.700 --> 00:21:02.660\nAnd after a time out period, we would\nwant to be able to return that request or\n\n420\n00:21:02.660 --> 00:21:06.410\nsend that query out to a secondary to fail\nthrough that list to see if whether or\n\n421\n00:21:06.410 --> 00:21:07.800\nnot it can be able to help us.\n\n422\n00:21:07.800 --> 00:21:12.380\nSo there are reasons why we would creat\ndepth in our DNF server structure and\n\n423\n00:21:12.380 --> 00:21:13.380\nlist those DNF servers.\n\n424\n00:21:13.380 --> 00:21:14.560\nIt's very important.\n\n425\n00:21:14.560 --> 00:21:15.420\nSo think about that.\n\n426\n00:21:15.420 --> 00:21:16.870\nBut we would go through the ones local.\n\n427\n00:21:16.870 --> 00:21:19.290\nIf the local one is authoritative,\nfor instance,\n\n428\n00:21:19.290 --> 00:21:22.050\nthis here where we have practicelabs.com.\n\n429\n00:21:22.050 --> 00:21:24.540\nWe would essentially get a resolution\nfrom there we would stop,\n\n430\n00:21:24.540 --> 00:21:26.000\nwe wouldn't go any further right.\n\n431\n00:21:26.000 --> 00:21:29.280\nBut we haven't got beyond the server yet\nbeyond our local system.\n\n432\n00:21:29.280 --> 00:21:32.800\nWe talked about the fact and Cherokee\nmentioned there could be forwarding and or\n\n433\n00:21:32.800 --> 00:21:36.580\nthere could be additional servers outside,\ntalk about root ends.\n\n434\n00:21:36.580 --> 00:21:39.780\nTalked about the root servers on\nthe internet and the hierarchy.\n\n435\n00:21:39.780 --> 00:21:41.770\nSo let's narrate through\nsome of that stuff.\n\n436\n00:21:41.770 --> 00:21:43.590\n&gt;&gt; Okay.\n&gt;&gt; We've told the story up until now but\n\n437\n00:21:43.590 --> 00:21:47.190\nlet's assume we get to this server and\nwe're not authoritative and\n\n438\n00:21:47.190 --> 00:21:50.470\nwe have set up forwarding,\nwhat's gonna happen at that point.\n\n439\n00:21:50.470 --> 00:21:54.830\n&gt;&gt; All right, so you have forwarding and\nconditional forwarding, but\n\n440\n00:21:54.830 --> 00:21:58.790\nforwarding basically just says I'm\ngoing to act as the middle man and\n\n441\n00:21:58.790 --> 00:21:59.900\nget you to where you need to go.\n\n442\n00:21:59.900 --> 00:22:02.950\nAnd like Adam mentioned, those root\nhint servers, if you think about those,\n\n443\n00:22:02.950 --> 00:22:05.290\nthose are kind of like\nthe big dogs of the internet.\n\n444\n00:22:05.290 --> 00:22:07.900\nKind of like a big giant,\ndigital phonebook.\n\n445\n00:22:07.900 --> 00:22:10.910\nAnd there are 13 spread\nout across the world.\n\n446\n00:22:10.910 --> 00:22:11.630\n&gt;&gt; Regionally, right?\n\n447\n00:22:11.630 --> 00:22:12.880\nBy region.\n&gt;&gt; Yeah, and\n\n448\n00:22:12.880 --> 00:22:14.230\nof course there's mirrors out there.\n\n449\n00:22:14.230 --> 00:22:18.060\nThere's not only 13, but\nmanaged by different entities,\n\n450\n00:22:18.060 --> 00:22:21.870\ngovernments, universities,\nwhomever, I think even NASA.\n\n451\n00:22:21.870 --> 00:22:25.380\nSo it's pretty cool when\nyou think about that and\n\n452\n00:22:25.380 --> 00:22:29.280\nthey ultimately have that\ntop level information.\n\n453\n00:22:29.280 --> 00:22:32.310\nAnd for each one of those tiers so\n\n454\n00:22:32.310 --> 00:22:36.720\nlet's say underneath that you have\nyour TLDs, your top level domains.\n\n455\n00:22:36.720 --> 00:22:40.300\n&gt;&gt; And so each one of those domains,\n\n456\n00:22:40.300 --> 00:22:43.150\nthey have an authoritative server,\nlike Adam said.\n\n457\n00:22:43.150 --> 00:22:46.790\nSo that authoritative\nserver has the authority to\n\n458\n00:22:47.920 --> 00:22:51.820\nanswer those queries with confidence,\nand say yes, I own this domain,\n\n459\n00:22:51.820 --> 00:22:55.610\nand this is the particular\nmapping that I have.\n\n460\n00:22:55.610 --> 00:23:00.437\nAnd then they'll give you that IP,\nusually, or fully qualified domain name,\n\n461\n00:23:00.437 --> 00:23:01.383\nto IP mapping.\n\n462\n00:23:01.383 --> 00:23:05.908\nIf they don't know, then that's when\nyou'll see, kind of, trickling down\n\n463\n00:23:05.908 --> 00:23:10.710\nthrough that hierarchy there, all the way\ndown to something specific, any kind of\n\n464\n00:23:10.710 --> 00:23:15.741\nsubdomains, or child domains, that may be\npart of that fully qualified domain name.\n\n465\n00:23:15.741 --> 00:23:19.043\n&gt;&gt; Great, so if we want to take a look\nhere we'll just put a picture to\n\n466\n00:23:19.043 --> 00:23:20.856\nwords that Cherokee was giving us.\n\n467\n00:23:20.856 --> 00:23:23.409\nCuz it's very helpful for\nher to explain that to us but\n\n468\n00:23:23.409 --> 00:23:27.212\nit's helpful to then correlate that to\nlink that to the actual things that we see\n\n469\n00:23:27.212 --> 00:23:28.885\nthat represent the explanation.\n\n470\n00:23:28.885 --> 00:23:32.535\nAnd so Cherokee was describing for\nus the fact that we have forwarders.\n\n471\n00:23:32.535 --> 00:23:35.865\nAnd let's break this down into two parts,\ncuz she joined together the idea of\n\n472\n00:23:35.865 --> 00:23:38.095\nforwarders and root hints and\nexplained the logic.\n\n473\n00:23:38.095 --> 00:23:38.925\nBut let's break it down,\n\n474\n00:23:38.925 --> 00:23:42.802\nbecause we actually have a preference\nin the way we do name resolution.\n\n475\n00:23:42.802 --> 00:23:44.152\nWe start with forwarders, right?\n\n476\n00:23:44.152 --> 00:23:47.741\nComing out of our local machine,\nlooking for resolution in our LAN.\n\n477\n00:23:47.741 --> 00:23:50.045\nIf we're not authoritative\nin the name space.\n\n478\n00:23:50.045 --> 00:23:52.865\nIf practicelabs.com was not a zone.\n\n479\n00:23:52.865 --> 00:23:56.889\nThat we acknowledge of here, or\nZappos.com, or whatever it may be.\n\n480\n00:23:56.889 --> 00:23:59.461\nWe would then,\nthe next stop would be, hey,\n\n481\n00:23:59.461 --> 00:24:03.269\nis there a forwarder configured on\nthis DNS server that we can use?\n\n482\n00:24:03.269 --> 00:24:05.990\nAnd if that forwarder exists,\nwe'll use that.\n\n483\n00:24:05.990 --> 00:24:08.560\nThe stop after that would be,\nif no forwarder exists, and\n\n484\n00:24:08.560 --> 00:24:10.710\nI'll show you this on\nthe forwarders tab in a second.\n\n485\n00:24:10.710 --> 00:24:15.320\nThe way DNS and Windows works is we\ngive preference to forwarders, and\n\n486\n00:24:15.320 --> 00:24:19.020\nthen if no forwarder exists,\nwe then fill over to the root hints.\n\n487\n00:24:19.020 --> 00:24:21.730\nSo we're gonna do forwarders first,\nthen root hit second, right,\n\n488\n00:24:21.730 --> 00:24:23.440\ndepending on the way we set this up.\n\n489\n00:24:23.440 --> 00:24:26.260\nSo it's important to see this as\nCherokee's walking us through it, and\n\n490\n00:24:26.260 --> 00:24:27.120\ndescribing it.\n\n491\n00:24:27.120 --> 00:24:30.720\nSo I right clicked on the DNS server.\n\n492\n00:24:30.720 --> 00:24:32.310\nI'm saying domain,\ncuz it's the domain controller.\n\n493\n00:24:32.310 --> 00:24:37.090\nI right clicked on our DNS server here,\nwent to Properties, right?\n\n494\n00:24:37.090 --> 00:24:38.720\nSo just right click, bring up the menu.\n\n495\n00:24:38.720 --> 00:24:44.180\nI'm looking at interfaces, those are just\nthe IP interfaces that are bound for\n\n496\n00:24:44.180 --> 00:24:45.960\nuse for DNS resolution.\n\n497\n00:24:45.960 --> 00:24:50.140\nWe're seeing both the IPv4 and\nIPv6 IP addresses here.\n\n498\n00:24:50.140 --> 00:24:52.039\nWe're gonna go to the forwarders tab, and\n\n499\n00:24:52.039 --> 00:24:54.325\nyou'll see that we have forwarding here,\nright?\n\n500\n00:24:54.325 --> 00:24:56.535\nThere are forwarders for\nthe local IP addresses.\n\n501\n00:24:56.535 --> 00:25:00.245\nBut it says here, hey, if forwarders\nare not available, use root hints.\n\n502\n00:25:00.245 --> 00:25:02.045\nAnd this is what I was talking about,\n\n503\n00:25:02.045 --> 00:25:06.155\nwhen I said we express a preference in\nthe order of name resolution, right?\n\n504\n00:25:06.155 --> 00:25:09.222\nSo it's important to know that\nwe're gonna try to forward first,\n\n505\n00:25:09.222 --> 00:25:10.883\nsend this out to a specific server.\n\n506\n00:25:10.883 --> 00:25:15.167\nProbably an ISP based DNS servers,\nas Cherokee was describing for us.\n\n507\n00:25:15.167 --> 00:25:18.110\nAnd that would be the normal\nstandard way we'd go,\n\n508\n00:25:18.110 --> 00:25:20.442\nbecause we'd wanna use the ISP server.\n\n509\n00:25:20.442 --> 00:25:24.025\nAnd have it do the heavy lifting for\nus, right, on our behalf,\n\n510\n00:25:24.025 --> 00:25:28.083\nand walk through the name resolution\nquery process, irritively or a,\n\n511\n00:25:28.083 --> 00:25:31.938\nwalking through and saying can I resolve,\nyes or no, or yes no, and\n\n512\n00:25:31.938 --> 00:25:34.394\nlet me go find out hold on a second,\nright.\n\n513\n00:25:34.394 --> 00:25:36.680\nSo we're gonna be asking those questions,\nand\n\n514\n00:25:36.680 --> 00:25:39.545\npushing them down the road to\nget somebody to do that for us.\n\n515\n00:25:39.545 --> 00:25:43.780\nBut if the forwarding's not available, if\nwe don't have the forwarding capability.\n\n516\n00:25:43.780 --> 00:25:45.940\nWe can go out and\ngo to the Root Hints, right?\n\n517\n00:25:45.940 --> 00:25:48.442\nSee Root Hints here, and\nwe can use the Root Hints.\n\n518\n00:25:48.442 --> 00:25:51.864\nAnd these Root Hints,\nas Cherokee was suggesting,\n\n519\n00:25:51.864 --> 00:25:55.615\nare based around the idea of\nthe IP address class blocks.\n\n520\n00:25:55.615 --> 00:26:00.252\nThere are a certain number of servers\nassigned to each class block globally, for\n\n521\n00:26:00.252 --> 00:26:02.105\nclass A, class B, class C etc.\n\n522\n00:26:02.105 --> 00:26:05.535\n13 main servers that kind\nof take the lead on that.\n\n523\n00:26:05.535 --> 00:26:07.685\nBut they're distributed in\n[INAUDIBLE] architecture,\n\n524\n00:26:07.685 --> 00:26:08.985\nas Cherokee was pointing out.\n\n525\n00:26:08.985 --> 00:26:12.559\nAnd so there are actually are hundreds\nof DNS servers, globally.\n\n526\n00:26:12.559 --> 00:26:17.713\nBut we talk about there being 13 root\nservers that anchor these particular name\n\n527\n00:26:17.713 --> 00:26:22.581\nresolution capabilities by DNS,\nexcuse me, by IP address block and zone.\n\n528\n00:26:22.581 --> 00:26:26.007\nAnd so you'll see them represented here,\nand we then have it listed,\n\n529\n00:26:26.007 --> 00:26:28.372\nMicrosoft pushes this out and\npublishes it.\n\n530\n00:26:28.372 --> 00:26:31.459\nEvery software, there may be updates\nto it based on Windows Updates,\n\n531\n00:26:31.459 --> 00:26:33.516\nor if there's an update\nto the DNS hierarchy.\n\n532\n00:26:33.516 --> 00:26:37.477\nEvery so often we get an update on\na root hint file, not very often, but\n\n533\n00:26:37.477 --> 00:26:38.850\nsometimes you do.\n\n534\n00:26:38.850 --> 00:26:42.400\nCan you add in, and or modify, use this?\n\n535\n00:26:42.400 --> 00:26:44.570\nWell, you see here we do\nhave an edit capability.\n\n536\n00:26:44.570 --> 00:26:47.904\nWe can actually go in, and we could\nedit name, server records here, and\n\n537\n00:26:47.904 --> 00:26:50.323\nspecify additional servers\nwe wanna add to the mix.\n\n538\n00:26:50.323 --> 00:26:52.123\nSo we do have some capabilities to go in,\nand\n\n539\n00:26:52.123 --> 00:26:54.033\nplay around with some\nof these architecture.\n\n540\n00:26:54.033 --> 00:26:59.310\nBut its important to us, for us to know\nthat we could either edit what's here.\n\n541\n00:26:59.310 --> 00:27:02.250\nWe can add in, as we said,\nand create as necessary.\n\n542\n00:27:02.250 --> 00:27:05.109\nIf you want to edit one and or\nadd, essentially, same idea.\n\n543\n00:27:05.109 --> 00:27:09.662\nAnd with forwarders, you'll see we can go\nin, and we can add in forwarders here, and\n\n544\n00:27:09.662 --> 00:27:10.557\npopulate them.\n\n545\n00:27:10.557 --> 00:27:13.940\nSo that we can say, use this,\nand then go and do root hints.\n\n546\n00:27:13.940 --> 00:27:15.680\nSo we do have an order of precedence.\n\n547\n00:27:15.680 --> 00:27:18.190\nSo we just wanna make sure we're\nfamiliar with the logic and\n\n548\n00:27:18.190 --> 00:27:19.700\nthinking about the logic of this.\n\n549\n00:27:19.700 --> 00:27:21.611\nBut it is important for\nus to understand that, and\n\n550\n00:27:21.611 --> 00:27:22.987\nto know how this will work, right?\n\n551\n00:27:22.987 --> 00:27:26.159\nBecause remember,\nthe ISP DNS servers may ultimately,\n\n552\n00:27:26.159 --> 00:27:29.208\nand we're probably only\npushing off the inevitable.\n\n553\n00:27:29.208 --> 00:27:32.648\nBecause the ISP DNS servers are gonna\nwanna go in using the root hints\n\n554\n00:27:32.648 --> 00:27:35.100\nultimately, resolve anyway, most likely.\n\n555\n00:27:35.100 --> 00:27:39.450\nBecause they're probably no more\nauthoritative for zappos.com, then we are,\n\n556\n00:27:39.450 --> 00:27:40.070\nlet's be honest.\n\n557\n00:27:40.070 --> 00:27:42.224\nThe ISP unless zappos is your ISP,\n\n558\n00:27:42.224 --> 00:27:46.093\nis not gonna know anything more\nabout zappos.com than we do.\n\n559\n00:27:46.093 --> 00:27:49.180\nBut what they're gonna know, is they're\ngonna have to be able to find the next DNS\n\n560\n00:27:49.180 --> 00:27:52.070\nserver down or upstream, downstream,\ndepending on where they are.\n\n561\n00:27:52.070 --> 00:27:55.318\nThat can be authoritative, or\nknows how to find one that ultimately is.\n\n562\n00:27:55.318 --> 00:27:59.760\nAnd so, we're just really allowing the\nprocess to take its logical progression by\n\n563\n00:27:59.760 --> 00:28:03.260\nfollowing a predetermined path,\nor order for name resolution.\n\n564\n00:28:03.260 --> 00:28:06.260\nAnd that's what we're trying to establish\nand make sure we're comfortable with.\n\n565\n00:28:06.260 --> 00:28:08.660\n&gt;&gt; Yeah, and like you said,\na predetermined path, so\n\n566\n00:28:08.660 --> 00:28:12.112\nmaybe I buy a pair of shoes every single\nday, and I go to Zappos all the time.\n\n567\n00:28:12.112 --> 00:28:16.309\nOr maybe, I'm communicating,\nmaybe there's been some kind of merger, or\n\n568\n00:28:16.309 --> 00:28:19.380\nmaybe my company's business\npartner is Zappos.com.\n\n569\n00:28:19.380 --> 00:28:24.753\nAnd I communicate quite frequently with\nnodes within their particular network.\n\n570\n00:28:24.753 --> 00:28:26.742\nSo, I kind of left a cliffhanger there,\n\n571\n00:28:26.742 --> 00:28:29.149\nwhen I just mentioned\nconditional forwarders.\n\n572\n00:28:29.149 --> 00:28:33.732\nBut if I know the IP address of a DNS\nserver, that is authoritative for\n\n573\n00:28:33.732 --> 00:28:37.800\na particular domain,\nlike the DNS server for zappos.com.\n\n574\n00:28:37.800 --> 00:28:41.120\nI can also take that to my advantage,\nas well and specify,\n\n575\n00:28:41.120 --> 00:28:45.010\nhey, I'm using forwarding to\nmy advantage with conditional\n\n576\n00:28:45.010 --> 00:28:47.320\nforwarders to expedite that process.\n\n577\n00:28:47.320 --> 00:28:50.930\nI have less traffic on my networks and,\nyeah, it's kind of a win-win.\n\n578\n00:28:50.930 --> 00:28:54.926\nBut, I'm sure Adam will cover that\na little bit more, because there's another\n\n579\n00:28:54.926 --> 00:28:58.885\nway you can implement that via stub zones,\na little more dynamic, if you will.\n\n580\n00:28:58.885 --> 00:29:01.985\n&gt;&gt; There are, and just referencing since\nyou talked about conditional forwarders,\n\n581\n00:29:01.985 --> 00:29:05.040\nwe happen to have verbiage that explains\nthat what you described right down here,\n\n582\n00:29:05.040 --> 00:29:06.235\nwe just haven't gotten to it.\n\n583\n00:29:06.235 --> 00:29:06.850\n&gt;&gt; Yep.\n&gt;&gt; But\n\n584\n00:29:06.850 --> 00:29:08.960\nnote if conditional\nforwarders are defined, and\n\n585\n00:29:08.960 --> 00:29:11.980\nyou kinda read through the logic,\nthat if we have a conditional forwarder.\n\n586\n00:29:11.980 --> 00:29:15.760\nAnd you may have looked over here and\nseen the conditional forwarders area,\n\n587\n00:29:15.760 --> 00:29:17.670\nwhere we would set these up.\n\n588\n00:29:17.670 --> 00:29:20.270\nAnd what would happen is\nessentially a conditional forwarder\n\n589\n00:29:20.270 --> 00:29:21.330\nwould take precedence,\n\n590\n00:29:21.330 --> 00:29:25.410\nas it says here, over the forwarders\nthat are listed at the server level.\n\n591\n00:29:25.410 --> 00:29:29.904\nForwarding on this tab is for the entire\nserver, meaning any resolution request\n\n592\n00:29:29.904 --> 00:29:34.197\nthat comes in from any point on this\nserver from any place against any domain,\n\n593\n00:29:34.197 --> 00:29:38.511\nor any namespace would be dealt with at\nthe forwardest tab here at this level.\n\n594\n00:29:38.511 --> 00:29:42.763\nBut we could have conditional forwarding\nthat says for certain namespaces and or\n\n595\n00:29:42.763 --> 00:29:45.110\ncertain combinations of requirements.\n\n596\n00:29:45.110 --> 00:29:47.100\nWe will not pay attention to this, but\n\n597\n00:29:47.100 --> 00:29:50.340\nsimply use this conditional\nforwarder specified here.\n\n598\n00:29:50.340 --> 00:29:55.077\nAnd that can be used, as Cherokee pointed\nout, to direct us to a certain sub zone,\n\n599\n00:29:55.077 --> 00:29:56.737\nperhaps, or certain zone.\n\n600\n00:29:56.737 --> 00:30:01.000\nStub zone's a little bit different\nof a concept are gonna be\n\n601\n00:30:01.000 --> 00:30:04.675\nreally just refined and\nvery granular zone files.\n\n602\n00:30:04.675 --> 00:30:08.685\nThat are limited in scope and limited in\ncoverage to just giving us a push, and\n\n603\n00:30:08.685 --> 00:30:11.555\nnudge to the right direction\nto do name resolution.\n\n604\n00:30:11.555 --> 00:30:13.934\nThey don't have full records\nof everything in the zone,\n\n605\n00:30:13.934 --> 00:30:15.977\nthat are limited to only\ncertain kinds of files.\n\n606\n00:30:15.977 --> 00:30:20.222\nEssentially, just enough information to\nkick start the name resolution process.\n\n607\n00:30:20.222 --> 00:30:24.042\nAnd tell us where we would find\nthe authoritative information, and\n\n608\n00:30:24.042 --> 00:30:25.312\npoint us in that direction.\n\n609\n00:30:25.312 --> 00:30:28.083\nBut not a full fledged zone\nfile the way let's say,\n\n610\n00:30:28.083 --> 00:30:30.354\nthat practice-labs.com is over here.\n\n611\n00:30:30.354 --> 00:30:32.680\nLet me just cancel out of this,\nso we can see.\n\n612\n00:30:32.680 --> 00:30:37.030\nYou'll see here, we do have a bunch\nof host records and SSOA records, and\n\n613\n00:30:37.030 --> 00:30:39.200\nother record types that would be here.\n\n614\n00:30:39.200 --> 00:30:42.470\nImagine if we have maybe MX records,\nmail exchange records,\n\n615\n00:30:42.470 --> 00:30:44.790\nsame name records, alias records etc.\n\n616\n00:30:44.790 --> 00:30:47.390\nThere's a lot of other\nrecords that maybe there,\n\n617\n00:30:47.390 --> 00:30:50.410\nwe wouldn't see all that with stub zones,\nwe'd see only a few records.\n\n618\n00:30:50.410 --> 00:30:53.300\nReally, just giving us the ability\nto understand the basic architecture\n\n619\n00:30:53.300 --> 00:30:55.640\nof that zone, but\nnothing more and point us to it.\n\n620\n00:30:55.640 --> 00:31:00.540\nSo, it is like an outlier of picket\nzone that sits on the periphery, and\n\n621\n00:31:00.540 --> 00:31:03.000\ntells us how to go back and\nfind information.\n\n622\n00:31:03.000 --> 00:31:06.210\nIt's a referral, essentially is\nwhat we would refer to it as.\n\n623\n00:31:06.210 --> 00:31:07.970\nAnd so, we could use those as well,\nright, but\n\n624\n00:31:07.970 --> 00:31:11.170\nwe could set up conditional\nforwarding here, as you could see.\n\n625\n00:31:11.170 --> 00:31:12.670\nNew conditional forwarder.\n\n626\n00:31:12.670 --> 00:31:17.230\nAnd we could go in and specify the DNS\ndomain, the IP address, the FQDN, etc.\n\n627\n00:31:17.230 --> 00:31:21.600\nAnd we could specify that information,\nand set up a conditional forwarder.\n\n628\n00:31:21.600 --> 00:31:23.450\nAnd like a firewall,\nwe're just comparing rules, and\n\n629\n00:31:23.450 --> 00:31:26.850\nsaying, if you come in looking for\nthis, and I have you on this list.\n\n630\n00:31:26.850 --> 00:31:28.750\nI should resolve you and send you here.\n\n631\n00:31:28.750 --> 00:31:30.480\nThat's a conditional forwarder, right?\n\n632\n00:31:30.480 --> 00:31:32.790\nIf this condition applies,\nresolve this way.\n\n633\n00:31:32.790 --> 00:31:33.772\nIf it doesn't, go and\n\n634\n00:31:33.772 --> 00:31:36.896\ndo whatever else you're gonna do at\nthe server level with forwarding.\n\n635\n00:31:36.896 --> 00:31:38.788\nSo we do have this order of precedence,\nand\n\n636\n00:31:38.788 --> 00:31:40.950\nwe wanna make sure we're\njust thinking about.\n\n637\n00:31:40.950 --> 00:31:44.310\nYou should make sure you're thinking\nabout the ways in which this works,\n\n638\n00:31:44.310 --> 00:31:49.840\nas we begin to talk about the mysteries\nthat make up DNS and what it is.\n\n639\n00:31:49.840 --> 00:31:52.280\nIt's easy just to say go in there,\nright-click, configure this,\n\n640\n00:31:52.280 --> 00:31:53.180\nboom, you're done.\n\n641\n00:31:53.180 --> 00:31:54.690\nDon't touch anything, it'll work.\n\n642\n00:31:54.690 --> 00:31:57.690\nRight, that's the two cent\nversion of the tour for DNS.\n\n643\n00:31:57.690 --> 00:32:00.500\nBut the problem is a lot of times,\nwhen that happens, we hand\n\n644\n00:32:00.500 --> 00:32:03.800\nyou this DNS infrastructure running, and\nthen you don't know what to do with it.\n\n645\n00:32:03.800 --> 00:32:04.816\nYou don't know how to manage it.\n\n646\n00:32:04.816 --> 00:32:06.112\nAnd when something goes wrong,\n\n647\n00:32:06.112 --> 00:32:08.754\nthat's really unfortunately where\na lot of the problems start.\n\n648\n00:32:08.754 --> 00:32:12.483\nBecause somebody else has set this up,\ngiven you a black box solution,\n\n649\n00:32:12.483 --> 00:32:14.420\nyou're not familiar with it.\n\n650\n00:32:14.420 --> 00:32:17.230\nAnd you have no idea what\nto do when things go wrong.\n\n651\n00:32:17.230 --> 00:32:18.690\nThat's where you can get into trouble.\n\n652\n00:32:18.690 --> 00:32:21.383\nBut that's also where you have a great\nopportunity to learn how to do things\n\n653\n00:32:21.383 --> 00:32:22.593\nthe right way from the ground up.\n\n654\n00:32:22.593 --> 00:32:25.020\nAnd that's what we're trying to\nmake sure we do for you, and\n\n655\n00:32:25.020 --> 00:32:28.116\nthat's the reason we're taking the time\nto lay out really this foundational\n\n656\n00:32:28.116 --> 00:32:29.660\nconversation about the basics.\n\n657\n00:32:29.660 --> 00:32:32.150\nBefore we go in and start playing\naround with some of the settings here.\n\n658\n00:32:32.150 --> 00:32:35.300\n&gt;&gt; Yeah, it doesn't even take anything\nactually going wrong all the time,\n\n659\n00:32:35.300 --> 00:32:36.906\nthings are just changing, right, Adam?\n\n660\n00:32:36.906 --> 00:32:39.478\nSo, what if maybe one of\nthose IP addresses change,\n\n661\n00:32:39.478 --> 00:32:43.169\none of those servers they had,\nthey replaced the network interface card.\n\n662\n00:32:43.169 --> 00:32:46.623\nIt came with a new IP address,\nthey didn't care to keep the old one, or\n\n663\n00:32:46.623 --> 00:32:48.300\nwhatever the issue maybe.\n\n664\n00:32:48.300 --> 00:32:52.390\nBut now, that conditional forwarder, well,\nit had that information statically input.\n\n665\n00:32:52.390 --> 00:32:56.870\nIt's not working and\nyour tasked with figuring out, why.\n\n666\n00:32:56.870 --> 00:32:57.842\nWhere do you go to check it?\n\n667\n00:32:57.842 --> 00:33:00.599\n&gt;&gt; Absolutely, and that's why you call\nCherokee to solve that problem for you,\n\n668\n00:33:00.599 --> 00:33:02.260\nbecause she's gonna\ntell you how to fix it.\n\n669\n00:33:02.260 --> 00:33:03.990\nBecause she's good at that kind of stuff.\n\n670\n00:33:03.990 --> 00:33:05.190\nYou should keep that in mind, right?\n\n671\n00:33:05.190 --> 00:33:05.702\n&gt;&gt; Yeah.\n&gt;&gt; Put your phone number up\n\n672\n00:33:05.702 --> 00:33:06.241\nthere to tell them where to find you.\n\n673\n00:33:06.241 --> 00:33:08.427\n&gt;&gt; My PayPal information, how about that.\n\n674\n00:33:08.427 --> 00:33:09.753\n[LAUGH]\n&gt;&gt; Could use that as well.\n\n675\n00:33:09.753 --> 00:33:10.730\nOkay, very good.\n\n676\n00:33:10.730 --> 00:33:13.310\nAll right, so I am gonna say that I\nlooked at the clock on the wall, and\n\n677\n00:33:13.310 --> 00:33:14.420\nthat we're out of time.\n\n678\n00:33:14.420 --> 00:33:15.384\n&gt;&gt; Okay.\n&gt;&gt; How does that work?\n\n679\n00:33:15.384 --> 00:33:17.600\n&gt;&gt; See, I don't even need to be here,\nAdam [LAUGH].\n\n680\n00:33:17.600 --> 00:33:19.280\n&gt;&gt; Of course, you need to be here.\n\n681\n00:33:19.280 --> 00:33:20.847\nHow could I do this without you Cherokee?\n\n682\n00:33:20.847 --> 00:33:22.380\n&gt;&gt; All right, guys, so that's our cue.\n\n683\n00:33:22.380 --> 00:33:24.200\nWe're out of time for this show.\n\n684\n00:33:24.200 --> 00:33:26.170\nBut thank you for being here, like always.\n\n685\n00:33:26.170 --> 00:33:27.970\nRemember, I'm your host Cherokee Boose.\n\n686\n00:33:27.970 --> 00:33:28.660\n&gt;&gt; I'm Adam Gordon.\n\n687\n00:33:28.660 --> 00:33:32.098\n&gt;&gt; See you next time, here at ITProTV.\n\n688\n00:33:32.098 --> 00:33:38.021\n[MUSIC]\n\n689\n00:33:38.021 --> 00:33:41.101\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "224327455"
        },
        {
          "description": "In this episode, Adam and Cherokee continue discussing DNS. Topics covered include backups, aging and scavenging, DNS cache locking, configuring socket pools and more!",
          "length": "2170",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-6-advances_network_services_pt6-0602817-PGM.00_00_11_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-6-advances_network_services_pt6-0602817-PGM.00_00_11_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-6-advances_network_services_pt6-0602817-PGM.00_00_11_29.Still001-sm.jpg",
          "title": "Advanced Network Services Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.117\nWelcome to ITPRO.TV, I'm your host.\n\n2\n00:00:02.117 --> 00:00:06.610\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.610 --> 00:00:08.190\n&gt;&gt; [MUSIC]\n\n4\n00:00:08.190 --> 00:00:12.057\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:12.057 --> 00:00:15.870\n&gt;&gt; Welcome to your MCSA 70-412 series.\n\n6\n00:00:15.870 --> 00:00:17.790\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.790 --> 00:00:21.360\nIn this episode we'll\ncontinue our DNS discussion.\n\n8\n00:00:21.360 --> 00:00:23.960\nAnd back with us in studios we have Mr.\nAdam Gordon.\n\n9\n00:00:23.960 --> 00:00:25.650\nThanks for being with us today, Adam.\n\n10\n00:00:25.650 --> 00:00:27.360\n&gt;&gt; No problem, no problem.\n\n11\n00:00:27.360 --> 00:00:28.190\nAlways glad to be here.\n\n12\n00:00:28.190 --> 00:00:29.550\nAlways glad to spend time with all of you,\n\n13\n00:00:29.550 --> 00:00:33.430\nwith Cherokee, talking about cool\nstuff like DNS and how it works.\n\n14\n00:00:33.430 --> 00:00:36.320\nWe can jump right back in,\nget back to our conversations.\n\n15\n00:00:36.320 --> 00:00:39.830\nWe just left off kind of highlighting\nthe thought processes behind DNS.\n\n16\n00:00:39.830 --> 00:00:42.880\nCherokee helped us do a great\njob explaining the logic.\n\n17\n00:00:42.880 --> 00:00:46.630\nHelped us to understand the flow\nof name resolution priority order.\n\n18\n00:00:46.630 --> 00:00:48.810\nAnd what we do?\nWe through in a little curveball there\n\n19\n00:00:48.810 --> 00:00:52.640\nwith conditional formatting but we talked\nabout that and why that's so important.\n\n20\n00:00:52.640 --> 00:00:54.620\nEven brought in the mythical stub zone and\n\n21\n00:00:54.620 --> 00:00:57.460\ntalked about what that was and\nwhy that may be important.\n\n22\n00:00:57.460 --> 00:01:00.310\nThis is what happens when we let her\ngo off on her own and read about stuff.\n\n23\n00:01:00.310 --> 00:01:03.000\nShe just starts talking about\nall sorts of crazy stuff.\n\n24\n00:01:03.000 --> 00:01:06.060\nBut all that's really good, really\nimportant, really valuable, and one of\n\n25\n00:01:06.060 --> 00:01:10.260\nthe reasons that we always wanna make sure\nthat we're able to explain these things to\n\n26\n00:01:10.260 --> 00:01:13.090\nyou, take our time, really walk through\nthem, and make sure you understand them,\n\n27\n00:01:13.090 --> 00:01:15.440\nand show them to you so that you can\nsee how these things work together.\n\n28\n00:01:15.440 --> 00:01:19.400\nWe'll come back to those ideas in\na little bit as we start laying out and\n\n29\n00:01:19.400 --> 00:01:20.500\nconfiguring some of the stuff.\n\n30\n00:01:20.500 --> 00:01:24.060\nBut I wanna go back in and start\nlooking at some of the settings in DNS.\n\n31\n00:01:24.060 --> 00:01:27.290\nWe had mentioned, I mentioned that,\nwho's in charge of DNS?\n\n32\n00:01:27.290 --> 00:01:29.870\nWe kinda got side tracked off\non the name resolution piece.\n\n33\n00:01:29.870 --> 00:01:32.040\nDidn't really circle back to\nthat in the prior episode.\n\n34\n00:01:32.040 --> 00:01:35.320\nThought it was a good idea just to make\nsure we understand the logic of security\n\n35\n00:01:35.320 --> 00:01:38.240\nand how the permissions model works,\nnot just here in DNS but for\n\n36\n00:01:38.240 --> 00:01:41.520\nany of these consoles,\nDHCP essentially would be the same.\n\n37\n00:01:41.520 --> 00:01:44.320\nWe have delegated authority\nthrough what we call RBAC,\n\n38\n00:01:44.320 --> 00:01:48.210\nthe role based access control\nmodel standard in Windows.\n\n39\n00:01:48.210 --> 00:01:51.880\nPut a user in a group, assign permissions\nto a group, those group permissions\n\n40\n00:01:51.880 --> 00:01:55.420\nare inherited, propagated down to any and\nall members of the group.\n\n41\n00:01:55.420 --> 00:01:59.230\nYou can do this on an individual user\nbasis as well, but you know the preference\n\n42\n00:01:59.230 --> 00:02:04.010\nof the recommendation we often talk about\nwith Windows is, use the group motto,\n\n43\n00:02:04.010 --> 00:02:07.420\nit's easier to keep track of users\nfrom an auditability perspective.\n\n44\n00:02:07.420 --> 00:02:10.830\nWe do this one off exception\nbase administration\n\n45\n00:02:10.830 --> 00:02:12.110\nwithin the individual users.\n\n46\n00:02:12.110 --> 00:02:14.320\nLot harder to know who's got\nwhat permissions, right.\n\n47\n00:02:14.320 --> 00:02:17.659\nSo just reminding you of that, really\njust important to think about that but,\n\n48\n00:02:17.659 --> 00:02:19.189\nhow do we walk through the console.\n\n49\n00:02:19.189 --> 00:02:23.143\nWhat we see in the very top here,\nat the DNSprompt, so in other words,\n\n50\n00:02:23.143 --> 00:02:27.031\nup at the router, it's kinda fun to\nsay up at the router right there,\n\n51\n00:02:27.031 --> 00:02:28.794\nup at the top where it says DNS.\n\n52\n00:02:28.794 --> 00:02:32.440\nThe only thing we can do here Is\nconnect out to one or more DNS servers.\n\n53\n00:02:32.440 --> 00:02:34.920\nWe can remotely manage DNS\nservers from this console,\n\n54\n00:02:34.920 --> 00:02:36.630\ndoesn't have to be the local\nmachine that we're on.\n\n55\n00:02:36.630 --> 00:02:39.380\nSo, just keep that in mind,\nwe do have that capability.\n\n56\n00:02:39.380 --> 00:02:42.630\nBut other than that, we're essentially\njust configuring the connection.\n\n57\n00:02:42.630 --> 00:02:45.470\nAs we move down one, into the server or\n\n58\n00:02:45.470 --> 00:02:49.540\nservers if there is more than one buy\nserver, if everything is just rolled\n\n59\n00:02:49.540 --> 00:02:53.880\nup under here, let's say like that, and\nwe have multiple servers either way.\n\n60\n00:02:53.880 --> 00:02:56.140\nRight click here,\nwe do have a bunch of options,\n\n61\n00:02:56.140 --> 00:02:58.145\nwe've talked about some of them already.\n\n62\n00:02:58.145 --> 00:03:01.770\nConfiguring the DNS server,\nsetting up one or more zones,\n\n63\n00:03:01.770 --> 00:03:06.278\nmaking sure that we can update or\nclear the server data files in the cache.\n\n64\n00:03:06.278 --> 00:03:09.295\nAnd mentioned DNS Lookup is a tool,\nyou can launch it right from here,\n\n65\n00:03:09.295 --> 00:03:12.205\nyou can launch it from a generic\ncommand prompt as well.\n\n66\n00:03:12.205 --> 00:03:16.945\nBut in addition to all that we have tasks\nstop and restart the DNS service, so\n\n67\n00:03:16.945 --> 00:03:19.840\nwe can deal with those kind of\nissues from here if necessary.\n\n68\n00:03:19.840 --> 00:03:24.090\nBut if we go to properties, where we\nwere at the end of our last discussion,\n\n69\n00:03:24.090 --> 00:03:27.390\nlooking at forwarding and root hints,\nas we were talking about.\n\n70\n00:03:27.390 --> 00:03:30.950\nBut if we go up to the top row here and\nat the upper right hand corner look at\n\n71\n00:03:30.950 --> 00:03:34.870\nthe security tab, we do see that we\nhave the ability to set security at\n\n72\n00:03:34.870 --> 00:03:39.480\nthe server level, and specify what group\nor groups user or users may have rights,\n\n73\n00:03:39.480 --> 00:03:43.390\nand if so, what rights, to administer,\ninteract with, and use DNS.\n\n74\n00:03:43.390 --> 00:03:47.233\nI mentioned that all authenticated\nusers in the zone- or, excuse me,\n\n75\n00:03:47.233 --> 00:03:51.780\nall authenticated users in, in this case,\nthe name space, meaning in the domain,\n\n76\n00:03:51.780 --> 00:03:55.365\nwould have rights, at minimum,\nto be able to see the DNS server and\n\n77\n00:03:55.365 --> 00:03:56.800\nmake queries against it.\n\n78\n00:03:56.800 --> 00:03:58.500\nBut they may not have\nrights to administer.\n\n79\n00:03:58.500 --> 00:04:00.120\n&gt;&gt; By default, the domain admins is,\n\n80\n00:04:00.120 --> 00:04:04.130\nyou can see, do have full rights to\nthe DNS server, which makes sense.\n\n81\n00:04:04.130 --> 00:04:06.590\nEnterprise admins inherit those rights,\nas well.\n\n82\n00:04:06.590 --> 00:04:10.620\nDomain admins being members of the\nadministrator group for that name space,\n\n83\n00:04:10.620 --> 00:04:11.610\nfor that domain.\n\n84\n00:04:11.610 --> 00:04:14.260\nEnterprise admins being\nfar level administrators,\n\n85\n00:04:14.260 --> 00:04:17.850\nacross all the name spaces, all\nthe domains, all the trees in the forest.\n\n86\n00:04:17.850 --> 00:04:21.040\n&gt;&gt; So at the forest level,\nwe have rights to all the subdomains and\n\n87\n00:04:21.040 --> 00:04:23.230\nall the DNS infrastructure below that.\n\n88\n00:04:23.230 --> 00:04:26.650\nBut by domain, as domain admins,\nwe have rights just to our domain and\n\n89\n00:04:26.650 --> 00:04:27.260\nour namespace.\n\n90\n00:04:27.260 --> 00:04:31.300\nSo we could theoretically see different\nDNS servers at different structural\n\n91\n00:04:31.300 --> 00:04:33.160\nlevels, different namespace levels.\n\n92\n00:04:33.160 --> 00:04:35.970\nBut we may have rights to some but\nnot to others, depending on whether we\n\n93\n00:04:35.970 --> 00:04:40.220\nare a member of the local admin,\ndomain admin or enterprise admin group.\n\n94\n00:04:40.220 --> 00:04:42.340\nSo just a standard windows model, right?\n\n95\n00:04:42.340 --> 00:04:43.210\nNothing more than that.\n\n96\n00:04:43.210 --> 00:04:45.890\nBut, important to be aware of that and\njust keep that in mind.\n\n97\n00:04:45.890 --> 00:04:47.760\nCan we modify and add users here?\n\n98\n00:04:47.760 --> 00:04:48.350\nAbsolutely.\n\n99\n00:04:48.350 --> 00:04:50.580\nJust like we do normally, add a user,\n\n100\n00:04:50.580 --> 00:04:54.440\ngrant them permissions, and\nthen you have the ability to assign that.\n\n101\n00:04:54.440 --> 00:04:56.500\nNow, that's at the server level and\n\n102\n00:04:56.500 --> 00:04:58.970\nthis is a hierarchical model\nas everything is in Windows.\n\n103\n00:04:58.970 --> 00:05:01.060\nEverything below there\ngets propagated down.\n\n104\n00:05:01.060 --> 00:05:05.310\nIf I grant rights at the server level all\nthe zones below will inherit those rights,\n\n105\n00:05:05.310 --> 00:05:07.900\nbut can I go to an individual zone?\n\n106\n00:05:07.900 --> 00:05:11.950\nLet's just say the practicelabs.com zone,\nright click, and\n\n107\n00:05:11.950 --> 00:05:15.553\ngo to Properties which I can,\ngo to Security on the zone.\n\n108\n00:05:15.553 --> 00:05:19.487\nAnd can I add users here that would\nbe given right to this zone but\n\n109\n00:05:19.487 --> 00:05:21.872\nnot necessarily at the server level?\n\n110\n00:05:21.872 --> 00:05:23.880\nAbsolutely, we see\nan additional group here.\n\n111\n00:05:23.880 --> 00:05:27.010\n&gt;&gt; Authenticated users,\nby zone, by namespace.\n\n112\n00:05:27.010 --> 00:05:30.610\nUsers have the rights to come in and\nmake requests against their zone files.\n\n113\n00:05:30.610 --> 00:05:34.670\nBut not at the server level overall, but\nsimply at the local or at the zone level,\n\n114\n00:05:34.670 --> 00:05:37.220\nquote unquote, one level below the server.\n\n115\n00:05:37.220 --> 00:05:41.420\nSo just bear that in mind and\nkeep that in your head,\n\n116\n00:05:41.420 --> 00:05:43.360\nyou'll see here we have\nthe ability to come in and\n\n117\n00:05:43.360 --> 00:05:46.880\nto interact with this zone, but\nthat's because we are given rights here.\n\n118\n00:05:46.880 --> 00:05:49.710\nNot given rights up at the server, so\nwe just have to think about that and\n\n119\n00:05:49.710 --> 00:05:53.450\nbe aware of that, but we can do that, the\neveryone group has rights here as well,\n\n120\n00:05:53.450 --> 00:05:54.810\neverybody can read, right?\n\n121\n00:05:54.810 --> 00:05:56.982\nThe everyone group was\nnot up on the server, but\n\n122\n00:05:56.982 --> 00:05:58.951\nit is on the individual\nzone files as well.\n\n123\n00:05:58.951 --> 00:06:02.486\nSo that permission model we're used to in\nWindows is one that holds true here, and\n\n124\n00:06:02.486 --> 00:06:04.350\nwe just wanna be thinking about that.\n\n125\n00:06:04.350 --> 00:06:07.390\nWe do have a delegated administration\nmodel, and it is important for\n\n126\n00:06:07.390 --> 00:06:11.910\nus to be thinking about that and\nto understand the logic of that as we go.\n\n127\n00:06:11.910 --> 00:06:13.720\nWe also have the ability\nto configure logging.\n\n128\n00:06:13.720 --> 00:06:15.420\nWe've talked about logging with DHCP.\n\n129\n00:06:15.420 --> 00:06:17.100\nThe same idea here.\n\n130\n00:06:17.100 --> 00:06:21.560\nYou'll see that when we are in\nthe DNS server, if we just go and\n\n131\n00:06:21.560 --> 00:06:24.965\nfollow the path where most of this\ninformation would normally be found,\n\n132\n00:06:24.965 --> 00:06:29.800\nC:\\Windows}System32\\DNS in this case,\nDHCP if we were talking about DHCP,\n\n133\n00:06:29.800 --> 00:06:31.602\nyou'd see the same thing there.\n\n134\n00:06:31.602 --> 00:06:36.390\nWe could see information or if we backup\nour DNS infrastructure, our backup\n\n135\n00:06:36.390 --> 00:06:40.970\ninformation will be here, our zone file\nis there, there's our backup of that.\n\n136\n00:06:40.970 --> 00:06:45.010\nIf we are using logging and\nsetting it up, we'll have that here,\n\n137\n00:06:45.010 --> 00:06:46.790\nour cache file is here, right?\n\n138\n00:06:46.790 --> 00:06:49.837\nSo there's information that's\nstored in the DNS directory.\n\n139\n00:06:49.837 --> 00:06:53.107\nWe set this up either at the server level,\nas you can see again,\n\n140\n00:06:53.107 --> 00:06:57.556\njust right click &gt; Properties,\ngo in here, we've already done forwarding\n\n141\n00:06:57.556 --> 00:07:01.052\ndebug logging and event logging\nare the two logging types we have.\n\n142\n00:07:01.052 --> 00:07:05.935\nDebug logging, in-depth really granular\nbut also voluminous amounts of logging to\n\n143\n00:07:05.935 --> 00:07:11.020\ntruly diagnose and understand every aspect\nof what's happening with the server.\n\n144\n00:07:11.020 --> 00:07:13.430\nNotice that this is not\nenabled by default.\n\n145\n00:07:13.430 --> 00:07:15.130\nWe don't turn on debug logging nor\n\n146\n00:07:15.130 --> 00:07:17.840\ndo we recommend you do unless\nyou have a support issue.\n\n147\n00:07:17.840 --> 00:07:21.090\nYou are on the phone typically with\nour support engineers at Microsoft\n\n148\n00:07:21.090 --> 00:07:23.000\ntrying to figure out what's going on.\n\n149\n00:07:23.000 --> 00:07:24.500\nOr you're trying to self diagnose,\n\n150\n00:07:24.500 --> 00:07:27.580\nalthough that's usually not gonna be very\nhelpful because the information on these\n\n151\n00:07:27.580 --> 00:07:30.120\nlogs is usually not gonna\nbe very valuable to you.\n\n152\n00:07:30.120 --> 00:07:33.390\nIt has to be interpreted by somebody who\nhas the ability to understand what's going\n\n153\n00:07:33.390 --> 00:07:37.390\non in there and that's usually a support\nperson, right, using the debug tools.\n\n154\n00:07:37.390 --> 00:07:40.110\nAlthough you can download those debug\ntools and use them on your own.\n\n155\n00:07:40.110 --> 00:07:41.890\nIt's up to you to decide how to do that.\n\n156\n00:07:41.890 --> 00:07:42.450\nYou ever do that?\n\n157\n00:07:42.450 --> 00:07:43.696\nYou ever try to read the debug logs?\n\n158\n00:07:43.696 --> 00:07:46.026\n&gt;&gt; I have, in lab environments and\n\n159\n00:07:46.026 --> 00:07:50.182\nthere are also even utilities\nto help read the debug log.\n\n160\n00:07:50.182 --> 00:07:54.026\nSo like you said,\nby the time you learn that language or\n\n161\n00:07:54.026 --> 00:07:57.966\nthe Syntax,\nthe way that they write down those errors.\n\n162\n00:07:57.966 --> 00:08:02.330\nIt may be more beneficial to contact\nsupport, but that's completely up to you.\n\n163\n00:08:02.330 --> 00:08:03.895\n&gt;&gt; Just depends right, obviously.\n\n164\n00:08:03.895 --> 00:08:06.595\nYou'd have to obviously have support\nfirst, I mean you have to have paid for\n\n165\n00:08:06.595 --> 00:08:07.659\nsupport or have access to it.\n\n166\n00:08:07.659 --> 00:08:11.131\nOr you politely are told hey, get out\nyour credit card, in which case you use\n\n167\n00:08:11.131 --> 00:08:12.943\nCherokee's PayPal information\n&gt;&gt; [LAUGH]\n\n168\n00:08:12.943 --> 00:08:14.710\n&gt;&gt; Because she loves when that happens.\n\n169\n00:08:14.710 --> 00:08:17.034\nAll right so\nevent logging is turned on be default,\n\n170\n00:08:17.034 --> 00:08:18.771\nthe other kind of log data you can see.\n\n171\n00:08:18.771 --> 00:08:22.114\nWe do log all events,\nmeaning if you go to the Windows event\n\n172\n00:08:22.114 --> 00:08:26.704\nlog viewer in the administrative tools,\nyou would see information about DNS.\n\n173\n00:08:26.704 --> 00:08:29.634\nYou would see events related to\nthat as you would for DHCP and\n\n174\n00:08:29.634 --> 00:08:31.760\nother services that we are using.\n\n175\n00:08:31.760 --> 00:08:36.092\nBut notice we are logging all events\nwhich means we're gonna get information\n\n176\n00:08:36.092 --> 00:08:37.365\npertinent to the use.\n\n177\n00:08:37.365 --> 00:08:41.038\nAnd configuration as well as\nthe management, the operation of DNS,\n\n178\n00:08:41.038 --> 00:08:42.380\nin this case by default.\n\n179\n00:08:42.380 --> 00:08:45.464\nSo it's important to know we have two\ndistinctly different kinds of event\n\n180\n00:08:45.464 --> 00:08:46.900\nlogging and debug logging.\n\n181\n00:08:46.900 --> 00:08:49.660\nTwo kinds of logging that take\nplace up at the server level so\n\n182\n00:08:49.660 --> 00:08:51.330\nwe just want to make\nsure we're aware of that.\n\n183\n00:08:51.330 --> 00:08:55.037\nWhat do we get with debug logging that\nmay be different packet direction, for\n\n184\n00:08:55.037 --> 00:08:56.415\ninstance coming and going.\n\n185\n00:08:56.415 --> 00:08:58.039\nThe contents of packets coming and\n\n186\n00:08:58.039 --> 00:09:00.899\ngoing into the server are gonna\nbe found with debug logging.\n\n187\n00:09:00.899 --> 00:09:03.730\nThey're not gonna be found with\nEvent Logging traditionally.\n\n188\n00:09:03.730 --> 00:09:07.430\nTransfer protocol, types of requests,\na lot of detailed information.\n\n189\n00:09:07.430 --> 00:09:09.573\nYou could see most of that here, right?\n\n190\n00:09:09.573 --> 00:09:13.010\nIf you just do this and obviously see\nwhat's going on and the options here.\n\n191\n00:09:13.010 --> 00:09:17.608\nTransport protocol, packet type,\npacket contents, other options in terms of\n\n192\n00:09:17.608 --> 00:09:21.004\nfiltering packets and\nonly showing certain packets by IP.\n\n193\n00:09:21.004 --> 00:09:23.058\nWe have a lot of options here,\nbut it would be good for\n\n194\n00:09:23.058 --> 00:09:24.152\nyou to have a sense of that.\n\n195\n00:09:24.152 --> 00:09:27.005\nI put some of this in the notes just to\ngive you a sense of what's going on and\n\n196\n00:09:27.005 --> 00:09:29.463\nhow it's configured, just so\nyou know what your options are.\n\n197\n00:09:29.463 --> 00:09:32.650\nLove to ask about options,\nby the way, for things like logging.\n\n198\n00:09:32.650 --> 00:09:35.130\nWould be good for\nyou to know how to turn on debug logging,\n\n199\n00:09:35.130 --> 00:09:37.160\ngood to know what some\nof those options may be.\n\n200\n00:09:37.160 --> 00:09:40.314\nMay see questions about that at\nsome point, so would be good for\n\n201\n00:09:40.314 --> 00:09:41.693\nyou to have a sense of that.\n\n202\n00:09:41.693 --> 00:09:45.128\nWe do have the ability to be\nable to go in and to specify,\n\n203\n00:09:45.128 --> 00:09:47.163\njust get out of here real quick.\n\n204\n00:09:47.163 --> 00:09:50.570\nActually, you know what we can\ndo it up here, just go up here.\n\n205\n00:09:50.570 --> 00:09:54.070\nWe'll leave this up for just a second,\ntalk about advanced settings.\n\n206\n00:09:54.070 --> 00:09:54.580\nBut remember,\n\n207\n00:09:54.580 --> 00:09:58.120\nI can right-click and I showed you\nthat we had scavenging settings.\n\n208\n00:09:58.120 --> 00:10:00.570\nSo we could go in and\nsay you scavenge stale records,\n\n209\n00:10:00.570 --> 00:10:02.260\nwas one of the options\nwhen we right-clicked.\n\n210\n00:10:02.260 --> 00:10:04.289\nI mentioned this in\nthe prior episode as well.\n\n211\n00:10:04.289 --> 00:10:07.895\nThe idea of cleaning up those\nregistrations that may have been marked as\n\n212\n00:10:07.895 --> 00:10:10.620\nno longer valid and\nare what we be called tombstoned.\n\n213\n00:10:10.620 --> 00:10:12.598\nThey've been marked for deletion but\nhave not been removed yet.\n\n214\n00:10:12.598 --> 00:10:16.062\nAnd scavenging goes through and\ncleans the database up every so often and\n\n215\n00:10:16.062 --> 00:10:16.860\nremoves them.\n\n216\n00:10:16.860 --> 00:10:19.408\nSo we do wanna make sure we're\naware of that, and aging and\n\n217\n00:10:19.408 --> 00:10:20.820\nscavenging is very important.\n\n218\n00:10:20.820 --> 00:10:24.250\nBecause as Cherokee pointed out both\nin the last episode and this one,\n\n219\n00:10:24.250 --> 00:10:25.655\nthere's a lot of dynamism.\n\n220\n00:10:25.655 --> 00:10:30.460\nA lot of dynamic churn in our name\nresolution and our registrations in DNS.\n\n221\n00:10:30.460 --> 00:10:32.925\nEspecially if we're linking to DHCP and\n\n222\n00:10:32.925 --> 00:10:37.220\nhaving DHCP dynamically update DNS\nentries for non-Microsoft clients.\n\n223\n00:10:37.220 --> 00:10:40.552\nAs we talked about the fact that we\ncould do or hardware like printers,\n\n224\n00:10:40.552 --> 00:10:41.461\nthings like that.\n\n225\n00:10:41.461 --> 00:10:45.494\nIf we're doing that then we're gonna have\na lot of churn inside the databases and\n\n226\n00:10:45.494 --> 00:10:47.820\nwe have to be able to\nclean up after ourselves.\n\n227\n00:10:47.820 --> 00:10:51.866\nWe talked about the settings on\nthe DHCP side that allow us to do that.\n\n228\n00:10:51.866 --> 00:10:54.120\nDelete and automatically get rid of A and\n\n229\n00:10:54.120 --> 00:10:57.040\nPTR records once we get rid\nof those registrations.\n\n230\n00:10:57.040 --> 00:11:00.226\nBut aging and scavenging on the DNS\nside will be important as well.\n\n231\n00:11:00.226 --> 00:11:03.219\nSo want to make sure we're aware of that,\nif we go in and we take a look here.\n\n232\n00:11:04.750 --> 00:11:08.561\nWe can go in, you'll see set\nscavenging and aging for all zones, and\n\n233\n00:11:08.561 --> 00:11:11.141\nthen scavenge stale\nresource records right.\n\n234\n00:11:11.141 --> 00:11:15.574\nSo if we set it here we can bring up a\nlittle screen that allows us to go in and\n\n235\n00:11:15.574 --> 00:11:16.240\nspecify.\n\n236\n00:11:17.740 --> 00:11:21.841\nAnd specify the default, and\n7 is a magic number in Windows in a lot of\n\n237\n00:11:21.841 --> 00:11:26.458\nthe operating system functionality,\na lot of the settings usually 7 days.\n\n238\n00:11:26.458 --> 00:11:29.014\nThat's a value you see that in\nSystems Center quite a bit as well and\n\n239\n00:11:29.014 --> 00:11:30.210\nConfig Manager for instance.\n\n240\n00:11:30.210 --> 00:11:31.930\nYou see seven days as\nbeing the default for\n\n241\n00:11:31.930 --> 00:11:35.150\nquite a number of things that we do so\nseven days is usually a good bet.\n\n242\n00:11:35.150 --> 00:11:38.081\nThe reason I'm pointing that out is,\nif you're ever asked hey,\n\n243\n00:11:38.081 --> 00:11:41.942\nwhat's the default setting for non-refresh\nor refresh intervals for scavenging?\n\n244\n00:11:41.942 --> 00:11:45.817\nEven if you didn't know, seven's usually\na good number, can't go wrong with seven.\n\n245\n00:11:45.817 --> 00:11:48.055\nI mean you could but normally you're\nnot going to if it's Microsoft, so-\n\n246\n00:11:48.055 --> 00:11:49.179\n&gt;&gt; Lucky seven.\n\n247\n00:11:49.179 --> 00:11:50.638\n&gt;&gt; Lucky seven, so just be aware of that.\n\n248\n00:11:50.638 --> 00:11:53.768\nSo we can set that,\nall right specify that, you'll see here,\n\n249\n00:11:53.768 --> 00:11:55.165\ndefault settings for new.\n\n250\n00:11:55.165 --> 00:11:58.630\nRight to apply this to all existing\nActive Directory integrated zones or\n\n251\n00:11:58.630 --> 00:12:01.580\ndo we just simply apply them for\na new zones going forward?\n\n252\n00:12:01.580 --> 00:12:05.960\nWe have an additional option here, we want\nto retrograde and retrofit backwards and\n\n253\n00:12:05.960 --> 00:12:07.880\napply this to all existing zones.\n\n254\n00:12:07.880 --> 00:12:10.600\nOr just new zones going forward,\nit's up to us to decide.\n\n255\n00:12:10.600 --> 00:12:13.831\nI'll apply these to the existing zones,\nno big deal, click OK.\n\n256\n00:12:13.831 --> 00:12:17.381\nAnd now we're scavenging, meaning records\nthat are older than seven days that have\n\n257\n00:12:17.381 --> 00:12:19.520\nnot been touched, have not been refreshed.\n\n258\n00:12:19.520 --> 00:12:22.580\nHave not been claimed and updated,\nare not proven to be alive,\n\n259\n00:12:22.580 --> 00:12:24.623\nare subject to tombstoning and removal.\n\n260\n00:12:24.623 --> 00:12:26.512\nThat's essentially what\nwe're talking about here.\n\n261\n00:12:26.512 --> 00:12:30.950\nThis is disabled by default as you saw,\nyou do have to go in and turn this on.\n\n262\n00:12:30.950 --> 00:12:32.192\nSo just be aware of that and\n\n263\n00:12:32.192 --> 00:12:34.965\nunderstand the logic of why\nwe don't just start going in.\n\n264\n00:12:34.965 --> 00:12:38.080\nAnd hacking away at the database,\nremoving records automatically,\n\n265\n00:12:38.080 --> 00:12:39.630\nthat can get us in trouble..\n\n266\n00:12:39.630 --> 00:12:42.048\nYou do have to understand the downside\nof turning this setting on.\n\n267\n00:12:42.048 --> 00:12:44.458\nIf you have clients that for instance,\n\n268\n00:12:44.458 --> 00:12:48.880\nturn off over an extended period of\ntime and then turn back on again.\n\n269\n00:12:48.880 --> 00:12:51.147\nBut maybe every two weeks\nthey come on to do stuff.\n\n270\n00:12:51.147 --> 00:12:54.497\nYou're gonna scavenge those records\nout of the database after seven days.\n\n271\n00:12:54.497 --> 00:12:57.150\nYou're gonna have to re-register those\nclients every time they come on.\n\n272\n00:12:57.150 --> 00:13:01.650\nSomebody who's travelling on an extended\nbusiness trip, and may not be checking in.\n\n273\n00:13:01.650 --> 00:13:05.660\nAnd showing signs of life for extended\nperiods of time because they are not going\n\n274\n00:13:05.660 --> 00:13:07.480\nto be in a place where they can do that.\n\n275\n00:13:07.480 --> 00:13:10.400\nYou would run the risk of removing\nthose records for their systems.\n\n276\n00:13:10.400 --> 00:13:13.108\nNot the end of the world, they get\nput back in when they check back in.\n\n277\n00:13:13.108 --> 00:13:14.078\nBut the point is-\n&gt;&gt; Just a longer process.\n\n278\n00:13:14.078 --> 00:13:15.845\n&gt;&gt; You put additional\nstress on the system.\n\n279\n00:13:15.845 --> 00:13:19.172\nTakes longer, they may not be able\nto resolve resources right away.\n\n280\n00:13:19.172 --> 00:13:22.030\nThere could be delay in them\nauthenticating, if they're remote,\n\n281\n00:13:22.030 --> 00:13:23.041\ntrying to launch a VPN.\n\n282\n00:13:23.041 --> 00:13:26.062\nThere could be connectivity issues\nas they're coming in cuz there's no\n\n283\n00:13:26.062 --> 00:13:27.295\nrecord of the machine.\n\n284\n00:13:27.295 --> 00:13:30.487\nThis could lead to just troubleshooting\nissues that you would then have to address\n\n285\n00:13:30.487 --> 00:13:31.051\nseparately.\n\n286\n00:13:31.051 --> 00:13:34.040\nAnd as Cherokee said I think the best way\nto put it, it complicates things, right?\n\n287\n00:13:34.040 --> 00:13:35.070\nSo just may make things\na little bit harder.\n\n288\n00:13:35.070 --> 00:13:39.672\n&gt;&gt; And you also wanna keep that in mind\ntoo like when you're deleting manually\n\n289\n00:13:39.672 --> 00:13:44.510\nrecords regardless if they're stale or\nincorrect or whatever out manually.\n\n290\n00:13:44.510 --> 00:13:47.085\nInstead of blowing out tons at one time,\n\n291\n00:13:47.085 --> 00:13:50.283\nyou might just want to\ndelete them individually.\n\n292\n00:13:50.283 --> 00:13:52.712\nLike Adam said,\nit's not the end of the world.\n\n293\n00:13:52.712 --> 00:13:55.825\nBut it will have that\nadditional computations, and\n\n294\n00:13:55.825 --> 00:13:59.760\nthe time associated with\nrebuilding those records.\n\n295\n00:13:59.760 --> 00:14:01.950\n&gt;&gt; It can take a little longer,\nabsolutely.\n\n296\n00:14:01.950 --> 00:14:05.060\nSo yeah just wanna be thinking about that,\njust be aware of that, right.\n\n297\n00:14:05.060 --> 00:14:07.220\nAll right, so we do have those issues,\nthose concerns,\n\n298\n00:14:07.220 --> 00:14:08.530\nwe also have to think about that.\n\n299\n00:14:08.530 --> 00:14:11.960\nRemember, if our zones are Active\nDirectory integrated they are being\n\n300\n00:14:11.960 --> 00:14:15.864\nreplicated, stored, managed through\nthe Active Directory infrastructure.\n\n301\n00:14:15.864 --> 00:14:18.681\nThe Active Directory replication\ntopology is being used so\n\n302\n00:14:18.681 --> 00:14:21.283\nwe're not as concerned about\nhaving backups of them.\n\n303\n00:14:21.283 --> 00:14:22.780\nI'm not saying we shouldn't backup.\n\n304\n00:14:22.780 --> 00:14:26.070\nJust pointing out we're not as concerned\nbecause they are already essentially being\n\n305\n00:14:26.070 --> 00:14:28.040\nbacked up and replicated on our behalf.\n\n306\n00:14:28.040 --> 00:14:30.490\nBut if the zone is not stored\nin the active directory,\n\n307\n00:14:30.490 --> 00:14:32.230\nwe just have to make\nsure we're aware of that.\n\n308\n00:14:32.230 --> 00:14:35.401\nTo back up an active directory integrated\nzone, which we can do by the way.\n\n309\n00:14:35.401 --> 00:14:37.560\nA lot of people don't realize\nthat we could do that.\n\n310\n00:14:37.560 --> 00:14:40.337\nThey think it's in AD, it's being\nreplicated, we don't have to back that up.\n\n311\n00:14:40.337 --> 00:14:42.783\nWe do need to back that up and\nthat is important.\n\n312\n00:14:42.783 --> 00:14:44.740\nThis is where DNS command comes in and\n\n313\n00:14:44.740 --> 00:14:47.971\nwhere we may actually want to\nthink about using DNS command.\n\n314\n00:14:47.971 --> 00:14:51.031\nYou saw that I did\nthe DNS command tool and\n\n315\n00:14:51.031 --> 00:14:54.551\nI brought up the help\nfile in the last episode.\n\n316\n00:14:54.551 --> 00:14:56.070\nI just wanna remind you of this.\n\n317\n00:14:56.070 --> 00:15:01.001\nWanna show you one of the things\nthat we may want to use here and\n\n318\n00:15:01.001 --> 00:15:03.913\nthis is going to be, where is zone?\n\n319\n00:15:03.913 --> 00:15:07.521\nThere is zonesign,\nwhere is zoneexport, right up here,\n\n320\n00:15:07.521 --> 00:15:10.928\nzoneadd, zonetransfer,\nthere we go, zoneexport.\n\n321\n00:15:10.928 --> 00:15:13.520\nAll right so zoneexport right here\n\n322\n00:15:13.520 --> 00:15:18.310\nis gonna be the command right there that\nwe are gonna want to use with DNS command.\n\n323\n00:15:18.310 --> 00:15:20.830\nIn order to back up an actual\ndirectory integrated zone.\n\n324\n00:15:20.830 --> 00:15:24.060\nSo we would do DNS command zoneexport,\nname of zone,\n\n325\n00:15:24.060 --> 00:15:26.470\nzone name file, as placeholders, right.\n\n326\n00:15:26.470 --> 00:15:30.270\nYou'll see this in the show notes, we just\nhave the brackets with the placeholders.\n\n327\n00:15:30.270 --> 00:15:32.868\nBut you would type that in,\nyou would then get, essentially,\n\n328\n00:15:32.868 --> 00:15:34.499\nan export out of the zone information.\n\n329\n00:15:34.499 --> 00:15:35.897\nThat's how you would back this up.\n\n330\n00:15:35.897 --> 00:15:38.499\nSo it is important to know that\njust because it's Active Directory\n\n331\n00:15:38.499 --> 00:15:40.549\nintegrated doesn't mean\nthat we don't back it up.\n\n332\n00:15:40.549 --> 00:15:43.196\nIt just means we may have to use\nan alternate method cuz you're not\n\n333\n00:15:43.196 --> 00:15:45.750\nnecessarily gonna be able\nto back it up in the MMC.\n\n334\n00:15:45.750 --> 00:15:46.625\nAnd indeed, that's the case.\n\n335\n00:15:46.625 --> 00:15:47.920\nCan you do this through PowerShell?\n\n336\n00:15:47.920 --> 00:15:49.001\nDo it through PowerShell as well.\n\n337\n00:15:49.001 --> 00:15:50.299\nYou could do it either way, right.\n\n338\n00:15:50.299 --> 00:15:52.684\nSo just keep that in mind and\nmake sure you're aware of that.\n\n339\n00:15:52.684 --> 00:15:55.834\nThat's one of those things that\npeople often forget about and or\n\n340\n00:15:55.834 --> 00:15:58.415\nare not aware of and\nthat is important for us to note.\n\n341\n00:15:58.415 --> 00:16:00.184\nYou could do this I said\nthrough PowerShell.\n\n342\n00:16:00.184 --> 00:16:04.200\nExport DNS server zone,\njust looking at my notes real quick.\n\n343\n00:16:04.200 --> 00:16:06.830\nExport DNS server zone would\nbe the commandlet there.\n\n344\n00:16:06.830 --> 00:16:10.920\nThe name of the zone and\nthe file name, same general syntax\n\n345\n00:16:10.920 --> 00:16:13.960\njust a slightly different commandlet for\nthat, just keep in mind.\n\n346\n00:16:13.960 --> 00:16:18.800\nNow if the DNS SEC or\nDNS Security zone signing\n\n347\n00:16:18.800 --> 00:16:22.760\nhas been enabled, we haven't done that,\nwe'll be showing you how to do that.\n\n348\n00:16:22.760 --> 00:16:25.990\nBut if that's enabled\nthen when we go ahead and\n\n349\n00:16:25.990 --> 00:16:30.020\nwe do the backup security information\nis not gonna be exported.\n\n350\n00:16:30.020 --> 00:16:33.290\nThe zone file will, but we will not\nexport the security information.\n\n351\n00:16:33.290 --> 00:16:35.360\nSo there's a little bit of difference\nthere depending on whether or\n\n352\n00:16:35.360 --> 00:16:37.150\nnot DNS SEC has been enabled.\n\n353\n00:16:37.150 --> 00:16:40.980\nImportant for us to be aware of that\nas well just to keep that in mind.\n\n354\n00:16:40.980 --> 00:16:42.730\nSo backing those up, good to know.\n\n355\n00:16:42.730 --> 00:16:44.990\nBacking up the primary zones,\nwe could do that as well.\n\n356\n00:16:44.990 --> 00:16:46.530\nIf they're not stored in\nthe Active Directory,\n\n357\n00:16:46.530 --> 00:16:49.660\nyou could back them up from within\nthe MMC, not too difficult to do that.\n\n358\n00:16:49.660 --> 00:16:52.480\nSo just be aware of that,\nwe have talked about forwarding,\n\n359\n00:16:52.480 --> 00:16:54.310\nI've talked about conditional forwarding.\n\n360\n00:16:54.310 --> 00:16:56.550\nCherokee mentioned stub zones, and\n\n361\n00:16:56.550 --> 00:17:01.070\nwe did give you a little bit of\nan explanation as to what a stub zone is.\n\n362\n00:17:01.070 --> 00:17:04.800\nWhat did I not mention is what the\nspecific resource records are that make\n\n363\n00:17:04.800 --> 00:17:05.630\nup a stub zone.\n\n364\n00:17:05.630 --> 00:17:07.380\nWe talked about them and\nkind of hinted at them.\n\n365\n00:17:07.380 --> 00:17:08.470\nI said what would not be in there.\n\n366\n00:17:08.470 --> 00:17:10.610\nI kind of hinted at what they were or\nwould be.\n\n367\n00:17:10.610 --> 00:17:13.040\nBut do we know which ones\nthey are without looking?\n\n368\n00:17:13.040 --> 00:17:15.010\n&gt;&gt; So I know you at least have your SOA.\n\n369\n00:17:15.010 --> 00:17:16.900\nAny kind of public information.\n\n370\n00:17:16.900 --> 00:17:20.280\nSo if there are any kind\nof associated glue records\n\n371\n00:17:20.280 --> 00:17:21.830\nthat we need to be aware of there.\n\n372\n00:17:21.830 --> 00:17:23.316\n&gt;&gt; Which would traditionally\nbe called host records.\n\n373\n00:17:23.316 --> 00:17:25.102\n&gt;&gt; The host records, yeah.\n\n374\n00:17:25.102 --> 00:17:28.880\n&gt;&gt; So SOA, Start of Authority record,\njust to be clear on what that is.\n\n375\n00:17:28.880 --> 00:17:30.960\nWe have one SOA record per zone.\n\n376\n00:17:30.960 --> 00:17:33.960\nThe SOA record is what gives us\nthe ability to say that we are quote\n\n377\n00:17:33.960 --> 00:17:34.740\nunquote authoritative.\n\n378\n00:17:34.740 --> 00:17:37.720\nYou hear us refer to that,\nmeaning we own the zone and\n\n379\n00:17:37.720 --> 00:17:41.350\nwe can do name resolution on its behalf,\ncuz we have the rights to understand and\n\n380\n00:17:41.350 --> 00:17:44.000\ntherefore give you\ninformation about the zone.\n\n381\n00:17:44.000 --> 00:17:48.005\nSo any of those zones that you see\nthat's listed on a DNS server like\n\n382\n00:17:48.005 --> 00:17:53.780\npracticedabs.com will have an SOA record\nassociated with it like this one here.\n\n383\n00:17:53.780 --> 00:17:57.620\nIf it is not going to be or\nif we do not see an SOA record we\n\n384\n00:17:57.620 --> 00:18:00.010\nare not authoritative,\nwe may have a copy of that zone.\n\n385\n00:18:00.010 --> 00:18:03.690\nWe may be able be looking at\na stub zone or a secondary copy.\n\n386\n00:18:03.690 --> 00:18:05.330\nBut we may not be authoritative.\n\n387\n00:18:05.330 --> 00:18:07.370\nWe may only be able to\ntell you what is there.\n\n388\n00:18:07.370 --> 00:18:09.870\nBut we cannot authoritative say for\nsure it's correct.\n\n389\n00:18:09.870 --> 00:18:13.410\nSo SOA record would be there our\nglue records or host records you\n\n390\n00:18:13.410 --> 00:18:16.650\nhear them referred to, either way when\nwe talk about stub zones would be there.\n\n391\n00:18:16.650 --> 00:18:18.760\n&gt;&gt; And I think there is one more,\nI think there is usually three and\n\n392\n00:18:18.760 --> 00:18:19.750\nI'm kind blank right now.\n\n393\n00:18:19.750 --> 00:18:21.920\n&gt;&gt; And we're kind of looking\nat it it's just right there.\n\n394\n00:18:21.920 --> 00:18:26.395\n&gt;&gt; I can't see that far well, that is not\nmy problem missy that is your problem.\n\n395\n00:18:26.395 --> 00:18:27.100\n&gt;&gt; Okay, NS our name server.\n\n396\n00:18:27.100 --> 00:18:28.270\n&gt;&gt; NS record.\n\n397\n00:18:28.270 --> 00:18:31.100\nYou gotta bring your good eyes with you\nto the studio while we're doing this.\n\n398\n00:18:31.100 --> 00:18:34.110\nAll right, so the NS records as well,\nthe name server record or\n\n399\n00:18:34.110 --> 00:18:39.160\nrecords, usually is on NS record that is\ngonna be a primary one, the name server\n\n400\n00:18:39.160 --> 00:18:43.010\nrecord points to the DNS server of record,\nthe one that is hosting this.\n\n401\n00:18:43.010 --> 00:18:46.232\nBut there could be more than one NS more\nthan one name server associated with this.\n\n402\n00:18:46.232 --> 00:18:48.181\nSo we would see NS, SOA and\n\n403\n00:18:48.181 --> 00:18:53.330\nhost records if there is more than\none associated with our stub zone.\n\n404\n00:18:53.330 --> 00:18:56.340\nSo I just wanted to point that out to\nyou since we were kind of going through,\n\n405\n00:18:56.340 --> 00:18:58.730\ntalking about what the different\nzone types may be.\n\n406\n00:18:58.730 --> 00:19:02.150\nDifferent record types kind of just\ndetailing out all this information.\n\n407\n00:19:02.150 --> 00:19:03.260\nWhat about global name zones?\n\n408\n00:19:04.610 --> 00:19:05.845\nPardon me, global name zones.\n\n409\n00:19:05.845 --> 00:19:09.555\nI don't know if you're familiar with\nglobal names and what they do but\n\n410\n00:19:09.555 --> 00:19:11.245\nthese are single labed names.\n\n411\n00:19:11.245 --> 00:19:14.625\nThese make resolution for\nus easier using alias records.\n\n412\n00:19:14.625 --> 00:19:16.395\nSo we have CNAME records.\n\n413\n00:19:16.395 --> 00:19:18.652\nWe often talk about these and\na CNAME record,\n\n414\n00:19:18.652 --> 00:19:20.092\nlet me just right-click here and show you.\n\n415\n00:19:20.092 --> 00:19:24.652\nA CNAME record right here and ALIAS\nrecord, this would allow us to go in.\n\n416\n00:19:24.652 --> 00:19:29.633\nAnd instead of saying practicelabs.com and\nmaybe webserver.practicelabs.com\n\n417\n00:19:29.633 --> 00:19:33.288\nif we're thinking about a web server,\nwe could just say web.\n\n418\n00:19:33.288 --> 00:19:37.922\nAnd that'll be ALIAS or the CNAME, the\nCanonical Name is what CNAME stands for,\n\n419\n00:19:37.922 --> 00:19:40.782\nthe ALIAS for webserver.practicelabs.com.\n\n420\n00:19:40.782 --> 00:19:44.620\nBecause it would be easier for\nsomebody to type web server or web or\n\n421\n00:19:44.620 --> 00:19:47.755\nwhatever was shorter too into\na browser than it would for\n\n422\n00:19:47.755 --> 00:19:50.460\nthem to type the full path or\nthrough the full FTDN.\n\n423\n00:19:50.460 --> 00:19:53.512\nSo it just gives us the ability make\nbrowsing a little more human friendly\n\n424\n00:19:53.512 --> 00:19:56.225\na little bit easier on users\nthat's what ALIAS records are for.\n\n425\n00:19:56.225 --> 00:20:00.358\n&gt;&gt; I know you have like a couple different\nweb servers on the back end that I don't\n\n426\n00:20:00.358 --> 00:20:04.428\nwant customers seeing and they just type\nin web and it could go to either one of\n\n427\n00:20:04.428 --> 00:20:08.498\nthose that are available, those web\nservers on the back side just kind of all\n\n428\n00:20:08.498 --> 00:20:12.350\nkeeping it in-house and\npretty on the front end there.\n\n429\n00:20:12.350 --> 00:20:14.101\nIf that makes sense.\n\n430\n00:20:14.101 --> 00:20:15.880\n&gt;&gt; Baskets.\n&gt;&gt; [LAUGH]\n\n431\n00:20:15.880 --> 00:20:18.670\n&gt;&gt; The scary part is it made perfect sense\n\n432\n00:20:18.670 --> 00:20:19.680\nto me when you said that.\n\n433\n00:20:19.680 --> 00:20:21.340\nThat's how long we've\nbeen doing this together.\n\n434\n00:20:21.340 --> 00:20:22.401\n&gt;&gt; Yeah.\n&gt;&gt; The minute you said that I\n\n435\n00:20:22.401 --> 00:20:25.275\nwas envisioning in my mind, she's talking\nabout putting things in boxes, that's her,\n\n436\n00:20:25.275 --> 00:20:25.800\n&gt;&gt; [LAUGH]\n\n437\n00:20:25.800 --> 00:20:26.976\n&gt;&gt; Basket metaphor.\n\n438\n00:20:26.976 --> 00:20:27.543\nAnd I get it.\n\n439\n00:20:27.543 --> 00:20:30.530\nAnd wow I gotta go take a break\ncuz that is truly scary.\n\n440\n00:20:30.530 --> 00:20:31.970\nBut yes, I did get that.\n\n441\n00:20:31.970 --> 00:20:35.310\nObviously as you said,\nkeeping things organized.\n\n442\n00:20:35.310 --> 00:20:38.700\nJust keeping it simple, clean and\ntherefore, its easy for\n\n443\n00:20:38.700 --> 00:20:41.790\nus to understand what is working but\nit's also see what problems may arise.\n\n444\n00:20:41.790 --> 00:20:43.900\nThat would be a good way\nto think about that.\n\n445\n00:20:43.900 --> 00:20:47.188\nAlso CNAME records [INAUDIBLE]\nsaid with these global name zones,\n\n446\n00:20:47.188 --> 00:20:50.833\nthe trick with global names zone or\nzones are that the names must be unique\n\n447\n00:20:50.833 --> 00:20:53.240\nacross the entire forest\nif we wanna use them.\n\n448\n00:20:53.240 --> 00:20:56.140\nSo we're talking about names that\nwould be unique across a forest.\n\n449\n00:20:56.140 --> 00:21:00.670\nAnd we would then use CNAME records in the\nglobal name zone to be able to resolve and\n\n450\n00:21:00.670 --> 00:21:02.080\nto understand what they are.\n\n451\n00:21:02.080 --> 00:21:06.420\nSo this would allow us to get rid of\nthings like NetBIOS based name resolution\n\n452\n00:21:06.420 --> 00:21:12.400\nrequirements and dependencies by flipping\nthose name resolution requests into DNS.\n\n453\n00:21:12.400 --> 00:21:15.460\nAnd using a global name\nzone to host those records\n\n454\n00:21:15.460 --> 00:21:17.930\nbecause we could use the ALIASES\nto resolve the NetBIOS names.\n\n455\n00:21:17.930 --> 00:21:20.370\nAnd this is how we often get\nout from under using wins.\n\n456\n00:21:20.370 --> 00:21:23.080\nIf we don't wanna use it anymore and\njust rely on DNS totally.\n\n457\n00:21:23.080 --> 00:21:26.020\nWe'll use a global name zone to\nbe able to resolve those hosts.\n\n458\n00:21:26.020 --> 00:21:28.560\nSo a little trick of the trade that\nyou may not have realized that\n\n459\n00:21:28.560 --> 00:21:30.670\nwas available to you there,\nbut global name zones.\n\n460\n00:21:30.670 --> 00:21:31.620\nSo we talk about that.\n\n461\n00:21:32.660 --> 00:21:34.920\nYou could create these\nthrough the DNS command tool.\n\n462\n00:21:34.920 --> 00:21:36.310\nThat will be one way to do this.\n\n463\n00:21:36.310 --> 00:21:37.960\nYou create a new forward lookup zone.\n\n464\n00:21:37.960 --> 00:21:39.190\nYou call it globalnames.\n\n465\n00:21:39.190 --> 00:21:41.370\nIt's not case sensitive,\nit must be all one word.\n\n466\n00:21:41.370 --> 00:21:46.095\nSo just globalnames all together, no\nspaces and no dynamic updates for the zone\n\n467\n00:21:46.095 --> 00:21:49.055\nmust be updated manually, cuz you're\ngonna wanna control what goes in there.\n\n468\n00:21:49.055 --> 00:21:51.725\nWe don't want all these hosts showing\nup and registering in there and\n\n469\n00:21:51.725 --> 00:21:52.795\nscrewing everything up.\n\n470\n00:21:52.795 --> 00:21:56.335\nCuz you may have more than one Printer1\nacross the forest if you think about it,\n\n471\n00:21:56.335 --> 00:21:57.295\nright, by namespace.\n\n472\n00:21:57.295 --> 00:21:59.595\nAnd that gets confusing\nenough it's gonna work.\n\n473\n00:21:59.595 --> 00:22:00.335\nSo I did tell you,\n\n474\n00:22:00.335 --> 00:22:03.025\nthe requirement is these names\nmust be unique across the forest.\n\n475\n00:22:03.025 --> 00:22:05.895\nAnd we have to manually control\nregistrations in the global name\n\n476\n00:22:05.895 --> 00:22:06.950\nzone as a result.\n\n477\n00:22:06.950 --> 00:22:09.834\nSo no dynamic updates when\nwe create it we go in and\n\n478\n00:22:09.834 --> 00:22:12.440\nwe create the CNAME name ALIAS\nrecords that we wanna use and\n\n479\n00:22:12.440 --> 00:22:14.660\nthat's how we put that to use\nif we wanna be able to do that.\n\n480\n00:22:14.660 --> 00:22:16.110\nSo just keeping that in mind and\n\n481\n00:22:16.110 --> 00:22:18.520\nunderstanding the logic\nof that would be helpful.\n\n482\n00:22:18.520 --> 00:22:21.850\nJust another little feature that you may\nwanna make sure that you're aware of and\n\n483\n00:22:21.850 --> 00:22:23.050\nhave a sense of.\n\n484\n00:22:23.050 --> 00:22:25.950\nWe're moving towards discussing\nDNS set we're not quite there yet\n\n485\n00:22:25.950 --> 00:22:27.240\nbut we're getting close.\n\n486\n00:22:27.240 --> 00:22:30.750\nWhat about DNS cache locking and\noverride protection?\n\n487\n00:22:30.750 --> 00:22:34.230\nI hinted at the fact that we do\nhave the ability to control this if\n\n488\n00:22:34.230 --> 00:22:37.250\nwe just come back in here I\nshowed you the command briefly.\n\n489\n00:22:37.250 --> 00:22:39.260\nI put it up and\nsaid we'll come back to it.\n\n490\n00:22:39.260 --> 00:22:42.940\nSo give just a second lets just\nbring this back up here, So\n\n491\n00:22:42.940 --> 00:22:44.580\none of the DNS command commands.\n\n492\n00:22:44.580 --> 00:22:49.380\nYou see it in the help followup above is\nthe ability to use the config command to\n\n493\n00:22:49.380 --> 00:22:52.500\nchange or to see what the config\nof the server currently is.\n\n494\n00:22:52.500 --> 00:22:55.895\nAnd then an additional command\ncalled cache locking percent.\n\n495\n00:22:55.895 --> 00:22:59.525\nThis is at 100% by default,\nmeaning 100% is the setting.\n\n496\n00:22:59.525 --> 00:23:03.205\nAnd 100% says, no override allowed\nwhenever something that's in the cache,\n\n497\n00:23:03.205 --> 00:23:04.865\nit runs it's full TTL value.\n\n498\n00:23:04.865 --> 00:23:07.005\nGoes down to zero before we override it.\n\n499\n00:23:07.005 --> 00:23:08.225\nSo that's the normal behavior.\n\n500\n00:23:08.225 --> 00:23:10.335\nAnd that's what we wanna\nmake sure we are aware of.\n\n501\n00:23:10.335 --> 00:23:15.145\nIt's allow us to control when cached\ninformation not on the clients.\n\n502\n00:23:15.145 --> 00:23:19.160\nNot on Cherokee's machine where we said\nwe could cache poison by going in and\n\n503\n00:23:19.160 --> 00:23:24.420\ndoing an ipconfig, display DNS,\nflush the cache, re-register information\n\n504\n00:23:24.420 --> 00:23:28.090\nby putting stuff in there and\npoisoning her ability to name resolve.\n\n505\n00:23:28.090 --> 00:23:29.700\nCuz remember, we go local, then remote.\n\n506\n00:23:29.700 --> 00:23:33.800\nAnd if we rewrite her cache entries\nlocally, she'll never talk to the server.\n\n507\n00:23:33.800 --> 00:23:35.870\nThat's not what this\nsetting protects against.\n\n508\n00:23:35.870 --> 00:23:39.009\nThis setting protects against doing\nthat on the server, not on the clients.\n\n509\n00:23:39.009 --> 00:23:41.446\nSo as a result, we're doing cache locking,\n\n510\n00:23:41.446 --> 00:23:45.682\nor the cache the cachelockpercentage\nprotection to avoid cache overrides and\n\n511\n00:23:45.682 --> 00:23:49.808\ncache poisoning at the server level as\nopposed to at the local client level.\n\n512\n00:23:49.808 --> 00:23:51.684\nWhich is why a lot of these DDoS or\n\n513\n00:23:51.684 --> 00:23:56.341\nDoS attacks against DNS servers Are not\nalways successful when we talk about how\n\n514\n00:23:56.341 --> 00:23:59.760\nto specifically manipulate\nthe cache at the server.\n\n515\n00:23:59.760 --> 00:24:02.260\nThey are successful when we\ngo after individual clients\n\n516\n00:24:02.260 --> 00:24:03.880\nwith cache poisoning locally.\n\n517\n00:24:03.880 --> 00:24:05.820\nCuz we don't have the same level\nof protection on the client.\n\n518\n00:24:05.820 --> 00:24:08.060\nSo it's interesting just\nto know what we're doing.\n\n519\n00:24:08.060 --> 00:24:11.130\nBut the idea is that this value\nis set to 100 by default.\n\n520\n00:24:11.130 --> 00:24:14.590\nIf I issued this command,\nI would modify it, drop it down to 90.\n\n521\n00:24:14.590 --> 00:24:19.510\nAs a percentage, that means that 90%\nTTL consumed are essentially 10% of\n\n522\n00:24:19.510 --> 00:24:23.250\nthe TTL value of the cache entry left.\n\n523\n00:24:23.250 --> 00:24:24.810\nWe could then overwrite that data.\n\n524\n00:24:24.810 --> 00:24:26.560\nWe set this to a 100% by default.\n\n525\n00:24:26.560 --> 00:24:29.630\nMeaning out of the box, you don't do\nanything, and it's just set to a 100%.\n\n526\n00:24:29.630 --> 00:24:32.060\nYou would have to modify this\nif you wanted to drop it down.\n\n527\n00:24:32.060 --> 00:24:34.430\nAnd the way you would do that\nwould be something like this.\n\n528\n00:24:34.430 --> 00:24:38.700\nLet's say we set it to 80,\nhit Enter, registry property.\n\n529\n00:24:38.700 --> 00:24:41.410\nAs you could see, their\ncachelockingpercent successfully reset.\n\n530\n00:24:41.410 --> 00:24:42.480\nCommand complete assessment.\n\n531\n00:24:42.480 --> 00:24:45.020\nNow what it doesn't tell you there is\nthat in order for this to take effect,\n\n532\n00:24:45.020 --> 00:24:47.150\nyou have to stop and\nrestart the DNS service.\n\n533\n00:24:47.150 --> 00:24:49.810\nSo you'd have to go ahead and\nstop and restart DNS, and\n\n534\n00:24:49.810 --> 00:24:50.680\nyou'd drop that down to 80%.\n\n535\n00:24:50.680 --> 00:24:52.110\nSo we could do that, right?\n\n536\n00:24:52.110 --> 00:24:52.910\nNo big deal.\n\n537\n00:24:52.910 --> 00:24:54.720\nWe just come in here, come right up here.\n\n538\n00:24:54.720 --> 00:24:56.600\nWe took a look at this setting earlier.\n\n539\n00:24:56.600 --> 00:24:59.140\nWe can go in, just go to All Tasks.\n\n540\n00:25:00.370 --> 00:25:02.590\nWe can simply go restart right down here.\n\n541\n00:25:02.590 --> 00:25:04.890\nJust let that go do its thing,\ncome right back up.\n\n542\n00:25:04.890 --> 00:25:07.550\nNow, could you do that from the services\nMMC and administrative tools?\n\n543\n00:25:07.550 --> 00:25:10.630\nYou could do the same thing there,\nbut if you do it here, you're done.\n\n544\n00:25:10.630 --> 00:25:11.870\nNow that setting just took effect.\n\n545\n00:25:11.870 --> 00:25:15.447\nNo need to restart the entire server,\njust restart the service, right?\n\n546\n00:25:15.447 --> 00:25:16.469\nAnd that's the case.\n\n547\n00:25:16.469 --> 00:25:17.550\nHello, how are you?\n\n548\n00:25:17.550 --> 00:25:18.330\nNice to see you.\n\n549\n00:25:18.330 --> 00:25:19.270\n&gt;&gt; Was that five or three?\nI didn't see what you were doing.\n\n550\n00:25:19.270 --> 00:25:22.130\n&gt;&gt; Five. Okay. We forgot to set the clock,\nI'm just reminding.\n\n551\n00:25:22.130 --> 00:25:23.740\n&gt;&gt; No, I know we didn't forget,\nI saw it wasn't set.\n\n552\n00:25:23.740 --> 00:25:25.810\n&gt;&gt; I'm keeping track myself,\nso I do appreciate that.\n\n553\n00:25:25.810 --> 00:25:27.330\nBut my clock said six,\nso I'm going with six.\n\n554\n00:25:27.330 --> 00:25:28.826\n&gt;&gt; Okay.\n&gt;&gt; I'm not going with five.\n\n555\n00:25:28.826 --> 00:25:29.948\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n556\n00:25:29.948 --> 00:25:33.578\nwe did take a look at how to just deal\nwith this cache locking parameter, right?\n\n557\n00:25:33.578 --> 00:25:35.930\nAnd how to do the overwrite\nprotect on the cache.\n\n558\n00:25:35.930 --> 00:25:38.567\nWe don't often think about this and\nhow important this can be.\n\n559\n00:25:38.567 --> 00:25:42.406\nBut again, imagine somebody launching a\nservice attack with the express purpose of\n\n560\n00:25:42.406 --> 00:25:43.970\ncache poisoning.\n\n561\n00:25:43.970 --> 00:25:44.952\nThat could happen.\n\n562\n00:25:44.952 --> 00:25:49.310\nAnd if it got to our DNS server, it could\nactually rewrite all the cache entries,\n\n563\n00:25:49.310 --> 00:25:51.441\ncausing name resolution to be skewed.\n\n564\n00:25:51.441 --> 00:25:53.973\nAnd for\nclients to be essentially misrdirected.\n\n565\n00:25:53.973 --> 00:25:55.865\nSo we do want to make sure this is set.\n\n566\n00:25:55.865 --> 00:25:58.274\n&gt;&gt; It is set, as I said,\nat 100% by default.\n\n567\n00:25:58.274 --> 00:26:02.320\nMeaning that that TTL value will\nclick down to 0 before we can rewrite\n\n568\n00:26:02.320 --> 00:26:03.495\nthe information.\n\n569\n00:26:03.495 --> 00:26:05.475\nBut just important for\nyou to be aware of that.\n\n570\n00:26:05.475 --> 00:26:08.975\nCould we do that from PowerShell\njust like we do from DNS command?\n\n571\n00:26:08.975 --> 00:26:13.860\nAbsolutely, set DNS server cache\nlocking percent as the parameter.\n\n572\n00:26:13.860 --> 00:26:17.420\nAnd then we set that locking percent\nas a percentage, and it goes and\n\n573\n00:26:17.420 --> 00:26:18.250\nsets the same way.\n\n574\n00:26:18.250 --> 00:26:22.550\nSo everything we're doing from within DNS\ncommand could be done from Power Shell.\n\n575\n00:26:22.550 --> 00:26:23.080\nAs a matter of fact,\n\n576\n00:26:23.080 --> 00:26:26.632\nspeaking of Power Shell, let's just take a\nquick look at how we would do that, right?\n\n577\n00:26:26.632 --> 00:26:28.120\nSo set DNS, what did I say?\n\n578\n00:26:28.120 --> 00:26:29.390\nServer cache, right?\n\n579\n00:26:29.390 --> 00:26:31.950\nNow the nice thing I\nlike about Power Shell.\n\n580\n00:26:31.950 --> 00:26:33.180\nYou could see I'm auto tabbing.\n\n581\n00:26:33.180 --> 00:26:34.280\nI'm just hitting the Tab key here.\n\n582\n00:26:34.280 --> 00:26:37.680\nI don't have to type the command then,\nit just comes right up and does it for me.\n\n583\n00:26:37.680 --> 00:26:39.470\nSo set DNS server cache.\n\n584\n00:26:39.470 --> 00:26:41.010\nLet's do locking percent.\n\n585\n00:26:42.460 --> 00:26:45.430\nAgain, I don't have to get the whole\nthing, I just have to get close, right?\n\n586\n00:26:45.430 --> 00:26:46.950\nSo it'll complete for me.\n\n587\n00:26:46.950 --> 00:26:48.710\nLocking percent, there we go right there.\n\n588\n00:26:49.830 --> 00:26:51.830\nSpecify the value or the percentage.\n\n589\n00:26:51.830 --> 00:26:55.740\nIf I wanna put this back up to 100%,\nI can do that.\n\n590\n00:26:55.740 --> 00:26:57.532\nBoom, It's back up to 100%.\n\n591\n00:26:57.532 --> 00:26:58.818\nSo I set it to 80.\n\n592\n00:26:58.818 --> 00:27:00.920\nYou just saw me do that with DNS command.\n\n593\n00:27:00.920 --> 00:27:03.430\nI just reset that to 100% right now.\n\n594\n00:27:03.430 --> 00:27:07.360\nNow remember, I still have to stop and\nstart the DNS server service in order for\n\n595\n00:27:07.360 --> 00:27:08.860\nthat to take effect, right?\n\n596\n00:27:08.860 --> 00:27:10.260\nSo I still have to do that.\n\n597\n00:27:10.260 --> 00:27:13.520\nBut, I've set it right here from\nPowerShell the same way I just did\n\n598\n00:27:13.520 --> 00:27:15.518\nfrom within the DNS command console.\n\n599\n00:27:15.518 --> 00:27:19.500\nSo I could do it either way, where I\ncome back over here, do an all task, and\n\n600\n00:27:19.500 --> 00:27:20.650\njust restart again.\n\n601\n00:27:20.650 --> 00:27:24.280\nCould I restart the server service for\nDNS, by the way, from PowerShell?\n\n602\n00:27:24.280 --> 00:27:25.810\nSure, net start, net stop.\n\n603\n00:27:25.810 --> 00:27:26.960\nJust know the name of the service.\n\n604\n00:27:26.960 --> 00:27:29.360\nIf I know what the name of\nthe DNS server service is,\n\n605\n00:27:29.360 --> 00:27:32.380\nI can do it right from PowerShell right\nafter I issue that other command.\n\n606\n00:27:32.380 --> 00:27:33.210\nAnd I'd be done, right?\n\n607\n00:27:33.210 --> 00:27:35.615\nJust, as I said, net start, net stop.\n\n608\n00:27:35.615 --> 00:27:38.280\nAnd/or net restart, and that will\nallow me to do that either way, right?\n\n609\n00:27:38.280 --> 00:27:42.100\nSo I can do any or all of those, just to\nkeep that in mind and be aware of that.\n\n610\n00:27:42.100 --> 00:27:43.410\nWhat about another setting in here?\n\n611\n00:27:43.410 --> 00:27:45.430\nSomething else that's really\nimportant called the socket pool.\n\n612\n00:27:45.430 --> 00:27:52.270\nThe socket pool is the available pool of\nthe use of source ports that could be\n\n613\n00:27:52.270 --> 00:27:56.080\nused to randomize our ability to connect\nand to securely communicate with DNS.\n\n614\n00:27:56.080 --> 00:27:58.120\nThis is also a very\nimportant security setting.\n\n615\n00:27:58.120 --> 00:28:01.570\nCuz by default, right, we have a certain\nnumber of ports that are available.\n\n616\n00:28:01.570 --> 00:28:05.000\nBut if the system has a broader pool,\na larger pool of ports.\n\n617\n00:28:05.000 --> 00:28:09.080\nRemember we have 65,535\nports available to us for\n\n618\n00:28:09.080 --> 00:28:13.550\nnetworking on any system that runs\na networking stack, a TCP/IP stack.\n\n619\n00:28:13.550 --> 00:28:15.680\nAnywhere in the world,\nany operating system, it doesn't matter.\n\n620\n00:28:15.680 --> 00:28:18.320\nIt's not OS dependent,\nit's OS independent.\n\n621\n00:28:18.320 --> 00:28:21.030\nIt's dependent on the networking stack,\nnot the OS.\n\n622\n00:28:21.030 --> 00:28:23.800\nBut we traditionally,\nexcuse me, traditionally,\n\n623\n00:28:23.800 --> 00:28:28.150\nwe'll have 65,535 ports available.\n\n624\n00:28:28.150 --> 00:28:32.180\nWe don't draw on all 65,535 ports\nnormally to use for connectivity.\n\n625\n00:28:32.180 --> 00:28:36.040\nThe first 1,023 of them are dedicated\nto certain map services.\n\n626\n00:28:36.040 --> 00:28:41.830\nSo HTTP, HTTPS, DNS, FTP, etc.,\ninhabit those first 1,023.\n\n627\n00:28:41.830 --> 00:28:47.185\nBut then the dynamic ports and\nthe ports that are essentially unassigned,\n\n628\n00:28:47.185 --> 00:28:50.238\nunavailable above that number\ncan be dipped into and used.\n\n629\n00:28:50.238 --> 00:28:53.800\nAnd so this socket pool gives\nus the amount of ports or\n\n630\n00:28:53.800 --> 00:28:57.210\nthe reservoir,\nwe call it a pool that's available to us.\n\n631\n00:28:57.210 --> 00:29:00.210\nSo the number can be modified,\nand we can go in and change this.\n\n632\n00:29:00.210 --> 00:29:03.590\nAnd the higher the number for the ports,\nor the higher the number for the socket\n\n633\n00:29:03.590 --> 00:29:07.150\npool, hence the number of ports available,\nthe more secure our connection is.\n\n634\n00:29:07.150 --> 00:29:10.730\nBecause we would have to be able\nto get the port number as well as\n\n635\n00:29:10.730 --> 00:29:12.780\nall the additional information\nto truly connect and\n\n636\n00:29:12.780 --> 00:29:15.730\nunderstand the traffic flowing in and\nout of the DNS server.\n\n637\n00:29:15.730 --> 00:29:17.530\nThe default value for this is 2,500.\n\n638\n00:29:17.530 --> 00:29:21.840\nBut this can be set anywhere\nfrom zero to 10,000.\n\n639\n00:29:21.840 --> 00:29:25.220\nSo, we could have as many as 10,000\nports available in the pool.\n\n640\n00:29:25.220 --> 00:29:29.090\nSo, with 2008 R2 or newer,\nthis is a capability for us.\n\n641\n00:29:29.090 --> 00:29:31.640\nWe could do this from DNS Command as well.\n\n642\n00:29:31.640 --> 00:29:33.960\nWe can go in and do this from PowerShell.\n\n643\n00:29:33.960 --> 00:29:35.270\nCould do it either way, as we said.\n\n644\n00:29:35.270 --> 00:29:37.730\nWith DNS command,\nit's another config command.\n\n645\n00:29:37.730 --> 00:29:41.670\nBut instead of config as we did here,\ncachelockingpercent,\n\n646\n00:29:41.670 --> 00:29:44.180\nwe would do socketpoolsize, right?\n\n647\n00:29:45.420 --> 00:29:47.838\nSo we would just simply go in here,\ndo this.\n\n648\n00:29:50.676 --> 00:29:53.472\nNow, the one thing I don't\nlike about DNS Command.\n\n649\n00:29:53.472 --> 00:29:54.920\nYou could see it here, I'm tabbing.\n\n650\n00:29:54.920 --> 00:29:56.350\nYou see nothing's happening.\n\n651\n00:29:56.350 --> 00:29:59.160\nIt doesn't do the auto tab complete for\nme the way PowerShell does.\n\n652\n00:29:59.160 --> 00:30:04.040\nI'm one of those A, incredibly bad typers,\nB, incredibly bad spellers.\n\n653\n00:30:04.040 --> 00:30:05.960\nAnd C, incredibly lazy individuals.\n\n654\n00:30:05.960 --> 00:30:08.820\nI really prefer not to have to\ntype if I can, at all, avoid it.\n\n655\n00:30:08.820 --> 00:30:10.514\nThis is actually why I\nhad children by the way.\n\n656\n00:30:10.514 --> 00:30:12.632\nCuz I could then have\nthem type on my behalf.\n\n657\n00:30:12.632 --> 00:30:13.800\n[LAUGH].\nIt didn't work out too well,\n\n658\n00:30:13.800 --> 00:30:16.930\ncuz they don't like computers,\nbut you never know.\n\n659\n00:30:16.930 --> 00:30:19.640\nMy point is not go out and\nhave kids so they can type for you.\n\n660\n00:30:19.640 --> 00:30:21.870\nBut rather I prefer PowerShell,\n\n661\n00:30:21.870 --> 00:30:25.368\nsimply because it does give me the auto\ncomplete capability for these commands.\n\n662\n00:30:25.368 --> 00:30:27.420\nSo from my perspective\nit's a little bit easier.\n\n663\n00:30:27.420 --> 00:30:30.820\nNot so much cuz I can't type, not because\nI can't spell, I can do those things.\n\n664\n00:30:30.820 --> 00:30:32.070\nI just got to pay attention.\n\n665\n00:30:32.070 --> 00:30:35.720\nBut my point is, if I'm doing a lot\nof stuff quickly, which I often am\n\n666\n00:30:35.720 --> 00:30:39.690\nwhen I'm configuring these systems and I'm\nbuilding out infrastructure for customers.\n\n667\n00:30:39.690 --> 00:30:43.910\nI'm not sitting here talking the way\nI'm talking to you and narrating.\n\n668\n00:30:43.910 --> 00:30:45.990\nAnd once every five\nminutes I do something.\n\n669\n00:30:45.990 --> 00:30:47.927\nI'm on site working with a customer,\n\n670\n00:30:47.927 --> 00:30:50.865\nI'm like Speedy Gonzalez on\nthe keyboard here, right?\n\n671\n00:30:50.865 --> 00:30:52.800\nI gotta be quick and\nthey're paying for my time.\n\n672\n00:30:52.800 --> 00:30:55.590\nIf I'm wasting time cuz I'm\nnot doing things quickly,\n\n673\n00:30:55.590 --> 00:30:57.190\nit's costing them money right?\n\n674\n00:30:57.190 --> 00:30:58.100\nAnd that's bad.\n\n675\n00:30:58.100 --> 00:31:00.350\nSo I've gotta be pretty\nquick at what I do.\n\n676\n00:31:00.350 --> 00:31:02.790\nI prefer PowerShell\nbecause I can auto tab.\n\n677\n00:31:02.790 --> 00:31:06.540\nAnd if I just know the general command\nsyntax in that area of commands,\n\n678\n00:31:06.540 --> 00:31:09.540\nI can quickly tab through three or\nfour, choose the one I want.\n\n679\n00:31:09.540 --> 00:31:11.240\nAnd I'm off and running really quickly.\n\n680\n00:31:11.240 --> 00:31:14.930\nSo, I'm not suggesting one command line\nis better or worse than the other.\n\n681\n00:31:14.930 --> 00:31:18.420\nI'm just pointing out that this particular\ntool doesn't have autotab complete\n\n682\n00:31:18.420 --> 00:31:20.900\nfunctionality the way PowerShell does,\nthat's all.\n\n683\n00:31:20.900 --> 00:31:24.320\nNothing bad with that,\njust simply saying that that is the case.\n\n684\n00:31:24.320 --> 00:31:27.140\nSo, I'd have to type out the full command,\nsocket pool size.\n\n685\n00:31:27.140 --> 00:31:30.505\nAnd then, of course, specify a number\nhere, a value, whatever it is.\n\n686\n00:31:30.505 --> 00:31:33.540\n5,000 or whatever it is, as I said.\n\n687\n00:31:33.540 --> 00:31:36.320\nAnywhere from 2500 out through,\nup to 10,000.\n\n688\n00:31:36.320 --> 00:31:39.090\nYou can see right there,\ncommand completed successfully.\n\n689\n00:31:39.090 --> 00:31:42.580\nDo have to restart the DNS service to\nget this change to take effect, as well.\n\n690\n00:31:42.580 --> 00:31:44.760\nAny of these settings we're\ndoing with DNS Config.\n\n691\n00:31:44.760 --> 00:31:48.292\nJust assume as a standard, you gotta\nrestart DNS to get it to take effect.\n\n692\n00:31:48.292 --> 00:31:50.458\nI mean,\nthat's just pretty much a standing rule.\n\n693\n00:31:50.458 --> 00:31:54.178\nBecause we're modifying the config files\nand/or the underlying configuration of\n\n694\n00:31:54.178 --> 00:31:54.813\nthe service.\n\n695\n00:31:54.813 --> 00:31:55.985\nAnd we have to restart to do that.\n\n696\n00:31:55.985 --> 00:31:59.043\nSo just so you know,\nif we're doing that in PowerShell,\n\n697\n00:31:59.043 --> 00:32:01.350\na little bit more involved in PowerShell.\n\n698\n00:32:01.350 --> 00:32:02.114\nI have the steps in the notes.\n\n699\n00:32:02.114 --> 00:32:04.192\nYou wanna give me one second,\nI will bring up the notes and\n\n700\n00:32:04.192 --> 00:32:06.457\njust show you how to do that,\nbecause it's a couple of steps.\n\n701\n00:32:06.457 --> 00:32:08.470\nIt's a little hard to narrate\nthough the whole thing.\n\n702\n00:32:08.470 --> 00:32:10.902\nNot that it's hard, but just wanna\nshow it to you, just so you know.\n\n703\n00:32:10.902 --> 00:32:12.352\nSo give me just one second here.\n\n704\n00:32:12.352 --> 00:32:15.940\nAnd we'll get right down to,\nthere are we are, right there,\n\n705\n00:32:15.940 --> 00:32:17.879\njust get right down to what it is.\n\n706\n00:32:17.879 --> 00:32:20.767\nSo I gave you the example of\nwhat we do with PowerShell here.\n\n707\n00:32:20.767 --> 00:32:24.005\nWe could export the current config to\nan XML file if we wanna do this through\n\n708\n00:32:24.005 --> 00:32:24.970\nPowerShell.\n\n709\n00:32:24.970 --> 00:32:27.820\nXML is our standard out for\nmost things today.\n\n710\n00:32:27.820 --> 00:32:31.288\nGet-DnsServer -ComputerName opts\nto specify the computer name,\n\n711\n00:32:31.288 --> 00:32:32.700\nwhatever it would be.\n\n712\n00:32:32.700 --> 00:32:35.090\nOurs is DC1, whatever.\n\n713\n00:32:35.090 --> 00:32:38.088\nI just made up a default one here,\nDNS1.ITPRO.tv.\n\n714\n00:32:38.088 --> 00:32:43.900\nPipe that, right, so take that,\npipe that out to an export through Clixml.\n\n715\n00:32:43.900 --> 00:32:45.010\nSpecify the path.\n\n716\n00:32:45.010 --> 00:32:46.820\nAgain, I just put in a placeholder for\npath.\n\n717\n00:32:46.820 --> 00:32:48.648\nYour export it out wherever\nyou wanna export it to.\n\n718\n00:32:48.648 --> 00:32:52.890\nJust, I am in the habit of dumping\neverything into, typically, not the root,\n\n719\n00:32:52.890 --> 00:32:55.609\nbecause you may not have rights\nto write to the root directory in\n\n720\n00:32:55.609 --> 00:32:57.100\na Windows server natively.\n\n721\n00:32:57.100 --> 00:32:59.860\nAnd that can cause an error,\nthen you have to rerun the script.\n\n722\n00:32:59.860 --> 00:33:04.213\nI normally will create a subdirectory and\nsee, for my working directory,\n\n723\n00:33:04.213 --> 00:33:06.362\nI'll call it Adam Test or whatever.\n\n724\n00:33:06.362 --> 00:33:08.383\nAnd I'll just use that for\nall of my scripts and out.\n\n725\n00:33:08.383 --> 00:33:11.460\nAnd then I'll clean that up and remove\nit when I'm done working on the server.\n\n726\n00:33:11.460 --> 00:33:13.460\nThat way,\nI know that whatever I did is there.\n\n727\n00:33:13.460 --> 00:33:14.955\nI can just call it,\nit's a very simple path.\n\n728\n00:33:14.955 --> 00:33:18.520\nWhat I hate is I have to go five,\nsix directory layers deep into some of\n\n729\n00:33:18.520 --> 00:33:21.541\nthese paths that are launched\nat that point for that tool.\n\n730\n00:33:21.541 --> 00:33:24.560\nAnd it's a very convoluted path,\nand it's hard to type.\n\n731\n00:33:24.560 --> 00:33:28.650\nI prefer to be right up near the root or\nat the base of the OS, so it's easier for\n\n732\n00:33:28.650 --> 00:33:29.510\nme to get to.\n\n733\n00:33:29.510 --> 00:33:30.740\nThat's just me in the real world.\n\n734\n00:33:30.740 --> 00:33:32.460\nThat doesn't mean that has to be you.\n\n735\n00:33:32.460 --> 00:33:35.880\nI'm just explaining that the reason\nyou often see my scripts and\n\n736\n00:33:35.880 --> 00:33:39.720\nmy default paths to my scripts, when I\ndemo them for you, as being very simple\n\n737\n00:33:39.720 --> 00:33:43.090\nis, I don't want you to have to type\nout 200 characters to get to something.\n\n738\n00:33:43.090 --> 00:33:44.520\nI wanna keep it very straightforward.\n\n739\n00:33:44.520 --> 00:33:46.610\nIt's a lot easier in the real\nworld when you do that.\n\n740\n00:33:46.610 --> 00:33:47.430\nSo that's what the path is, right,\n\n741\n00:33:47.430 --> 00:33:50.790\nwhatever it will be,\nname of the file .xml.\n\n742\n00:33:50.790 --> 00:33:54.140\nThen edit the SocketPoolSize\nsetting in the XML file.\n\n743\n00:33:54.140 --> 00:33:56.660\nSo unlike a DNS command,\nwhere we just go and say,\n\n744\n00:33:56.660 --> 00:33:59.460\nhey, let me change that directly, right?\n\n745\n00:33:59.460 --> 00:34:01.670\nHere, we're exporting the current config.\n\n746\n00:34:02.720 --> 00:34:05.470\nWe could do that with DNS command\nby issuing a config command and\n\n747\n00:34:05.470 --> 00:34:07.370\nseeing the config and export it.\n\n748\n00:34:07.370 --> 00:34:08.872\nThen we could edit it, but why do that?\n\n749\n00:34:08.872 --> 00:34:12.210\nWe could just do it in one step,\ndirectly to the config.\n\n750\n00:34:12.210 --> 00:34:15.750\nSo here, we're exporting the file,\nediting it, then putting it back, right?\n\n751\n00:34:15.750 --> 00:34:17.570\nThat's essentially what\nwe're doing with PowerShell.\n\n752\n00:34:17.570 --> 00:34:20.040\nTakes a little bit longer,\nit's up to you to decide how to do it.\n\n753\n00:34:20.040 --> 00:34:22.010\nSo import after we edit it, right?\n\n754\n00:34:22.010 --> 00:34:25.130\nImport the DNS config file\nthat we just created.\n\n755\n00:34:25.130 --> 00:34:31.386\nSo I create a variable here,\n$x = Export-Clixml with the path.\n\n756\n00:34:31.386 --> 00:34:33.834\nAnd then I go ahead and\nI use Set-DnsServer,\n\n757\n00:34:33.834 --> 00:34:36.970\nas opposed to get Get-DnsServer\nin the beginning.\n\n758\n00:34:36.970 --> 00:34:40.125\nSet it,\nset allows me to set whatever I wanna do.\n\n759\n00:34:40.125 --> 00:34:43.850\nInputObject, specify the variable\nwhich equals the import path.\n\n760\n00:34:43.850 --> 00:34:47.030\nSo I'm pulling in that file\nagainst what computer?\n\n761\n00:34:47.030 --> 00:34:52.101\nThat computer, and that allows me to apply\nthe settings of that file, modify it\n\n762\n00:34:52.101 --> 00:34:57.120\nwith the new port size, which is just\ngonna be the new, what are we doing here?\n\n763\n00:34:57.120 --> 00:34:58.484\nThe pool, right, the DNS socket pool.\n\n764\n00:34:58.484 --> 00:34:59.052\n&gt;&gt; Socket.\n\n765\n00:34:59.052 --> 00:35:01.770\n&gt;&gt; I'm looking at DNSSEC,\nthinking, we're not doing DNSSEC.\n\n766\n00:35:01.770 --> 00:35:05.260\nDoing the socket pool, so it allows me to\napply the new socket pool configuration,\n\n767\n00:35:05.260 --> 00:35:07.770\nand allows me to overlay\nthat on top of the server.\n\n768\n00:35:07.770 --> 00:35:11.592\nRewriting the config, DNS command does it\nin one step, and then, with a restart,\n\n769\n00:35:11.592 --> 00:35:12.149\ntwo steps.\n\n770\n00:35:12.149 --> 00:35:14.960\nThis is a little more involved, but\nPowerShell can be used just the same way,\n\n771\n00:35:14.960 --> 00:35:16.790\nit's up to you to decide.\n\n772\n00:35:16.790 --> 00:35:20.100\n&gt;&gt; All right, sounds like a great deal\nof information that we've covered.\n\n773\n00:35:20.100 --> 00:35:21.523\nWe may have to come back\nwith an additional part.\n\n774\n00:35:21.523 --> 00:35:22.244\nWhat do you think, Adam?\n\n775\n00:35:22.244 --> 00:35:23.739\n&gt;&gt; Well, not may, we will,\nwe have to do DNSSEC.\n\n776\n00:35:23.739 --> 00:35:26.011\nThat's the whole big thing we've\nbeen building up to, right?\n\n777\n00:35:26.011 --> 00:35:27.997\nSo we gotta go in and\ntake a look at DNSSEC.\n\n778\n00:35:27.997 --> 00:35:29.371\nWe're gonna go in and\ntake a look at how to do that.\n\n779\n00:35:29.371 --> 00:35:31.942\nHow to zign, how to sign,\nI keep saying that.\n\n780\n00:35:31.942 --> 00:35:35.113\nHow to sign those zone files,\nnot zign those sone files, right?\n\n781\n00:35:35.113 --> 00:35:37.416\n&gt;&gt; [LAUGH]\n&gt;&gt; So we're gonna sign those zone files,\n\n782\n00:35:37.416 --> 00:35:38.468\nright, when we come back.\n\n783\n00:35:38.468 --> 00:35:39.750\nThat's what DNSSEC's all about.\n\n784\n00:35:39.750 --> 00:35:42.017\nGot a cool little demo for you,\nshow you how to do it, and\n\n785\n00:35:42.017 --> 00:35:43.632\nexplain all about how it works and why.\n\n786\n00:35:43.632 --> 00:35:46.830\n&gt;&gt; All right, Adam, thank you for that,\nand thank you for joining us as well.\n\n787\n00:35:46.830 --> 00:35:49.610\nBut like Adam alluded to,\nwe have a lot more headed your way.\n\n788\n00:35:49.610 --> 00:35:51.630\nFor this show,\nwe'll go ahead and sign out.\n\n789\n00:35:51.630 --> 00:35:53.630\nRemember, I'm your host, Cherokee Boose.\n\n790\n00:35:53.630 --> 00:35:54.950\n&gt;&gt; I am Adam Gordon.\n\n791\n00:35:54.950 --> 00:35:56.596\n&gt;&gt; See you next time here at ITProTV.\n\n792\n00:35:56.596 --> 00:36:03.205\n[MUSIC]\n\n793\n00:36:03.205 --> 00:36:06.734\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "224326441"
        },
        {
          "description": "In this show, Cherokee and Adam discuss DNSSEC (DNS Security). Adam explain how it works and walks through the setup process. He also shows how to set up zone signing and configuring trust anchor distribution points.",
          "length": "1938",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-7-advances_network_services_pt7-0602817-PGM.00_32_03_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-7-advances_network_services_pt7-0602817-PGM.00_32_03_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-7-advances_network_services_pt7-0602817-PGM.00_32_03_06.Still001-sm.jpg",
          "title": "Advanced Network Services Part 7",
          "transcript": "WEBVTT\n\n1\n00:00:00.350 --> 00:00:03.553\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.553 --> 00:00:06.023\n[CROSSTALK]\n\n3\n00:00:06.023 --> 00:00:07.975\n[MUSIC]\n\n4\n00:00:07.975 --> 00:00:11.273\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.273 --> 00:00:15.830\n&gt;&gt; Welcome back to your\nMCSA 70-412 Series.\n\n6\n00:00:15.830 --> 00:00:17.790\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.790 --> 00:00:20.600\nThis episode we have some important\ninformation in store for you.\n\n8\n00:00:20.600 --> 00:00:22.730\nWe're really talking about security and\n\n9\n00:00:22.730 --> 00:00:26.190\nissues that may be circulating\naround different network services.\n\n10\n00:00:26.190 --> 00:00:29.140\nSpecifically we'll be looking at DNSSEC.\n\n11\n00:00:29.140 --> 00:00:31.348\nAnd back in studios with\nus today we have Mr.\n\n12\n00:00:31.348 --> 00:00:33.500\nAdam Gordon, hey, Adam, how's it going?\n\n13\n00:00:33.500 --> 00:00:37.178\n&gt;&gt; Going good, going good, feeling\na little bit insecure, we wanna put that.\n\n14\n00:00:37.178 --> 00:00:38.081\n&gt;&gt; [LAUGH].\n&gt;&gt; To rest, and\n\n15\n00:00:38.081 --> 00:00:41.700\ntalk about how we're gonna create some\nsecurity around our DNS infrastructure.\n\n16\n00:00:41.700 --> 00:00:44.821\n&gt;&gt; We're gonna use DNSSEC, as we've talked\nabout in a couple of prior episodes.\n\n17\n00:00:44.821 --> 00:00:47.140\nI hinted that anyway,\nI have no talked about it per se.\n\n18\n00:00:47.140 --> 00:00:50.628\nBut we're gonna jump right back in and\nshow you how to do this.\n\n19\n00:00:50.628 --> 00:00:52.395\nIf you join me here up in the console,\n\n20\n00:00:52.395 --> 00:00:55.030\nyou'll see I'm on our\npracticelabs.com zone file.\n\n21\n00:00:55.030 --> 00:00:58.880\nI've right-clicked and just set up our\nability to click and enable DNSSEC.\n\n22\n00:00:58.880 --> 00:01:02.370\nYou'll see about half way down the menu\nthere, we do have DNSSEC as an item.\n\n23\n00:01:02.370 --> 00:01:05.352\nAnd notice, almost everything is grayed\nout cuz we haven't done anything yet.\n\n24\n00:01:05.352 --> 00:01:07.880\nWe're gonna sign the zone,\nthat's step number one.\n\n25\n00:01:07.880 --> 00:01:11.340\nNow before we do this, let's step back and\nkind of talk about DNSSEC for a moment.\n\n26\n00:01:11.340 --> 00:01:13.514\nLet's just understand\nwhat we're about to do.\n\n27\n00:01:13.514 --> 00:01:18.680\nSo DNSSEC, short for DNS Security, allows\nus to digitally sign our zone files,\n\n28\n00:01:18.680 --> 00:01:21.720\nour registration records,\nand records in the zone.\n\n29\n00:01:21.720 --> 00:01:25.896\nThat will then authoritatively prove,\nbeyond a reasonable doubt,\n\n30\n00:01:25.896 --> 00:01:30.008\nto anybody who is interacting with us,\nthat the zone is authentic.\n\n31\n00:01:30.008 --> 00:01:33.410\nThat we are getting accurate information\nabout the ownership of the zone,\n\n32\n00:01:33.410 --> 00:01:35.340\nthe resolution of the zone,\nthings like that.\n\n33\n00:01:35.340 --> 00:01:38.250\nNow digitally signing implies the idea, or\n\n34\n00:01:38.250 --> 00:01:41.200\nimplies that we are going to use\ntechnology that gives us the ability\n\n35\n00:01:41.200 --> 00:01:45.010\nto understand that there is integrity\nassociated with the records.\n\n36\n00:01:45.010 --> 00:01:46.850\nIn other words,\nthey have not been modified or\n\n37\n00:01:46.850 --> 00:01:51.445\nchanged without the without the knowledge\nor the permission of the owner.\n\n38\n00:01:51.445 --> 00:01:53.335\nSo there has been no monkey business.\n\n39\n00:01:53.335 --> 00:01:55.385\nThat's an official IT term we use.\n\n40\n00:01:55.385 --> 00:01:58.405\nThere's been no monkey business,\nnobody has gone in there and\n\n41\n00:01:58.405 --> 00:02:02.775\nfalsely registered zone information, taken\ncontrol of the zone, spoofed a record.\n\n42\n00:02:02.775 --> 00:02:06.005\nDone anything like that that would allow\nthem to pretend that they are somebody\n\n43\n00:02:06.005 --> 00:02:06.915\nthat they are not.\n\n44\n00:02:06.915 --> 00:02:09.725\nBecause we're putting security\nmeasures in place that will prevent\n\n45\n00:02:09.725 --> 00:02:10.494\nthat from happening.\n\n46\n00:02:10.494 --> 00:02:13.130\nAnd what we're doing is we are creating\n\n47\n00:02:13.130 --> 00:02:16.670\ndigital security\nrepresentations of information.\n\n48\n00:02:16.670 --> 00:02:21.090\nAssociating that through hashing and\ndigitally signing with the zone records.\n\n49\n00:02:21.090 --> 00:02:25.600\nAnd then providing information that lets\nusers validate that those signatures\n\n50\n00:02:25.600 --> 00:02:28.960\nare accurate and\ntherefore that they can be relied upon.\n\n51\n00:02:28.960 --> 00:02:30.560\nAnd we use digital\nsignatures all the time.\n\n52\n00:02:30.560 --> 00:02:34.640\nThis is not new to DNS and\nnot something that's an epiphany or\n\n53\n00:02:34.640 --> 00:02:37.520\nnew by any means in this\nparticular technology.\n\n54\n00:02:37.520 --> 00:02:40.200\nWe've had DNSSEC around for\nseveral generations now.\n\n55\n00:02:40.200 --> 00:02:43.200\nIt is perhaps not something you've\nheard of or implemented before, but\n\n56\n00:02:43.200 --> 00:02:46.620\nit is something that certainly exists and\nhas existed for some time.\n\n57\n00:02:46.620 --> 00:02:48.850\nWe digitally sign email traditionally,\n\n58\n00:02:48.850 --> 00:02:51.170\nalthough you may not\nnecessarily do that yourself.\n\n59\n00:02:51.170 --> 00:02:55.020\nBut a lot of secure communication\nchannels involve digitally signing email\n\n60\n00:02:55.020 --> 00:02:57.550\nto validate proof of origin,\nnon repudiation.\n\n61\n00:02:57.550 --> 00:03:00.650\nTell us who sent the email and\nvalidate that they did indeed do that and\n\n62\n00:03:00.650 --> 00:03:03.450\nthat we can't pretend that we did or\ndid not send it.\n\n63\n00:03:03.450 --> 00:03:06.560\nSo there are many uses and\napplications for digital signing.\n\n64\n00:03:06.560 --> 00:03:08.860\nAnd this is not a new technology.\n\n65\n00:03:08.860 --> 00:03:10.406\nSo let's go ahead, let's sign the zones.\n\n66\n00:03:10.406 --> 00:03:12.780\nSo we're just gonna go ahead,\nwe're gonna click there.\n\n67\n00:03:12.780 --> 00:03:17.600\nWe have a little wizard that comes up, our\nDNS Security Extensions, DNSSEC wizard.\n\n68\n00:03:17.600 --> 00:03:18.745\nYou'll see here it says,\n\n69\n00:03:18.745 --> 00:03:22.020\nsuite of extensions adding\nsecurity to the DNS protocol.\n\n70\n00:03:22.020 --> 00:03:24.860\nSpecifically DNSSEC\nprovides origin authority.\n\n71\n00:03:24.860 --> 00:03:27.570\nI talked about this proof\nof origin non-repudiation.\n\n72\n00:03:27.570 --> 00:03:29.950\nData integrity,\nI spoke about that as well.\n\n73\n00:03:29.950 --> 00:03:33.635\nAnd authenticated denial of existence,\neaning proof of origin,\n\n74\n00:03:33.635 --> 00:03:36.050\nnon-repudiation and integrity.\n\n75\n00:03:36.050 --> 00:03:38.367\nIt provides the ability for\nDNS servers and\n\n76\n00:03:38.367 --> 00:03:42.980\nresolvers to trust DNS responses by\nusing digital signatures for validation.\n\n77\n00:03:42.980 --> 00:03:45.900\nExactly what I just described to you\nis what we're gonna be able to do.\n\n78\n00:03:45.900 --> 00:03:47.860\nTo continue please go ahead and\nclick Next.\n\n79\n00:03:47.860 --> 00:03:49.270\nSo we're gonna do that.\n\n80\n00:03:49.270 --> 00:03:50.460\nWe'll then go ahead and\n\n81\n00:03:50.460 --> 00:03:53.480\nwe choose whether we wanna\ncustomize zone signing parameters.\n\n82\n00:03:53.480 --> 00:03:56.805\nWhether we wanna sign the zone with\nparameters of an existing zone.\n\n83\n00:03:56.805 --> 00:04:00.190\nAnd/or whether we wanna use\nthe default settings to sign the zone.\n\n84\n00:04:00.190 --> 00:04:02.830\nWe have a couple of different options\nhere, depending on what we're gonna do.\n\n85\n00:04:02.830 --> 00:04:06.750\nWe're gonna choose customize zone signing\nparameters, which is the default setting.\n\n86\n00:04:06.750 --> 00:04:09.800\nRemember I've talked about, let me\njust move this down a little bit and\n\n87\n00:04:09.800 --> 00:04:12.330\nkinda center it for you so you can see\na little bit easier while we're talking.\n\n88\n00:04:12.330 --> 00:04:14.820\nWe've talked about the fact\nthat you should definitely\n\n89\n00:04:14.820 --> 00:04:18.590\ntake note of default settings in these\ninterfaces as we walk through them.\n\n90\n00:04:18.590 --> 00:04:22.745\nFor exam preparation, knowing that\nthe default setting is configured to zone\n\n91\n00:04:22.745 --> 00:04:23.998\nsigning, or customized, rather.\n\n92\n00:04:23.998 --> 00:04:27.630\nThe zone signing parameters will be\nimportant for you to take note of, right?\n\n93\n00:04:27.630 --> 00:04:28.920\nAll right, so\nwe're gonna click Next there.\n\n94\n00:04:30.100 --> 00:04:34.780\nWe then have to go through and specify\nwhat is known as the key master here.\n\n95\n00:04:34.780 --> 00:04:37.860\nAnd the key master,\nchoose the key master for the zone.\n\n96\n00:04:37.860 --> 00:04:41.610\nI would ask Cherokee if she's seen\na movie that refers to key masters, but\n\n97\n00:04:41.610 --> 00:04:42.580\nwe've been down this road and.\n\n98\n00:04:42.580 --> 00:04:44.730\n&gt;&gt; [LAUGH].\n&gt;&gt; She has no knowledge of the outside\n\n99\n00:04:44.730 --> 00:04:48.470\nworld, if it doesn't involve Barney,\ndoesn''t involve Garfield, apparently,\n\n100\n00:04:48.470 --> 00:04:49.635\nI just learned.\n\n101\n00:04:49.635 --> 00:04:51.420\nAnd/or shopping for shoes in baskets.\n\n102\n00:04:51.420 --> 00:04:53.600\nSo she would have no\nknowledge of the movie.\n\n103\n00:04:53.600 --> 00:04:55.905\nBut I have asked you\nbefore about Ghostbusters.\n\n104\n00:04:55.905 --> 00:04:56.988\nYou've looked at me with a blank stare.\n\n105\n00:04:56.988 --> 00:04:57.520\n&gt;&gt; I´ve seen Ghostbusters.\n\n106\n00:04:57.520 --> 00:04:58.760\n&gt;&gt; The original Ghostbusters.\n\n107\n00:04:58.760 --> 00:04:59.660\n&gt;&gt; It´s been years.\n\n108\n00:04:59.660 --> 00:05:02.400\n&gt;&gt; Okay, but you remember the key master?\n\n109\n00:05:02.400 --> 00:05:04.410\nGozer the Gozerian and the key master.\n\n110\n00:05:04.410 --> 00:05:08.090\nThe Rick Moranis character becomes\nthe dog, right, if you remember?\n\n111\n00:05:08.090 --> 00:05:09.292\n&gt;&gt; I don't remember that part.\n&gt;&gt; Okay, you are absolutely\n\n112\n00:05:09.292 --> 00:05:10.586\n&gt;&gt; [LAUGH]\n\n113\n00:05:10.586 --> 00:05:11.860\n&gt;&gt; Useless when it comes to this kind of\n\n114\n00:05:11.860 --> 00:05:12.990\nstuff in this discussion.\n\n115\n00:05:12.990 --> 00:05:15.190\nI actually have to prepare a movie\nlist for you before we go on.\n\n116\n00:05:15.190 --> 00:05:18.100\nYou're gonna have to watch\nmovies before we do this just so\n\n117\n00:05:18.100 --> 00:05:19.125\nthat you can participate.\n\n118\n00:05:19.125 --> 00:05:21.396\n[CROSSTALK]\n&gt;&gt; Yeah, because you have the knowledge,\n\n119\n00:05:21.396 --> 00:05:25.100\nbut we have to get it out there in front\nand center at the top of your brain.\n\n120\n00:05:25.100 --> 00:05:27.570\nSo you had actually seen Ghostbusters,\nbut just not for a long time.\n\n121\n00:05:27.570 --> 00:05:29.588\n&gt;&gt; Yeah, like 20 years plus.\n\n122\n00:05:29.588 --> 00:05:31.836\n&gt;&gt; Yeah.\n&gt;&gt; [LAUGH]\n\n123\n00:05:31.836 --> 00:05:33.450\n&gt;&gt; Like yeah, a long time ago.\n\n124\n00:05:33.450 --> 00:05:34.190\n&gt;&gt; Yeah.\n&gt;&gt; Okay, all right.\n\n125\n00:05:34.190 --> 00:05:35.010\n&gt;&gt; That's a stretch, Adam.\n\n126\n00:05:35.010 --> 00:05:36.540\n&gt;&gt; I don't know.\n&gt;&gt; I don't even remember what I wore\n\n127\n00:05:36.540 --> 00:05:37.380\nyesterday.\n\n128\n00:05:37.380 --> 00:05:37.880\n&gt;&gt; Okay, all right.\n&gt;&gt; [LAUGH]\n\n129\n00:05:38.985 --> 00:05:40.245\n&gt;&gt; Today is Tuesday by the way,\n\n130\n00:05:40.245 --> 00:05:41.705\njust in case you were wondering.\n\n131\n00:05:41.705 --> 00:05:43.335\nAll right, so the key master, right?\n\n132\n00:05:43.335 --> 00:05:46.635\nSo the key master is going to provide for\nus a very important function.\n\n133\n00:05:46.635 --> 00:05:49.745\nIf we take a look here, we could see\nthe key master is the DNS server that\n\n134\n00:05:49.745 --> 00:05:52.127\ngenerates and manages cryptographic keys.\n\n135\n00:05:52.127 --> 00:05:55.077\nIn other words, it is the source of\nthe keys we're gonna use to do the actual\n\n136\n00:05:55.077 --> 00:05:55.987\ndigital signing.\n\n137\n00:05:55.987 --> 00:05:56.707\nWe need a key pair.\n\n138\n00:05:56.707 --> 00:05:59.297\nWe need a public private key\npair to do digital signing.\n\n139\n00:05:59.297 --> 00:06:00.487\nBut those keys have to get generated.\n\n140\n00:06:00.487 --> 00:06:01.697\nThey have to come from somewhere.\n\n141\n00:06:01.697 --> 00:06:03.610\nAnd the key master helps\nus to figure that out.\n\n142\n00:06:03.610 --> 00:06:05.220\nSo we're gonna have to\nobviously specify this.\n\n143\n00:06:05.220 --> 00:06:08.330\nNow you'll see here,\nthe DNS server PLAB dc01 just so\n\n144\n00:06:08.330 --> 00:06:11.690\nwe could see the one that's noted\nhere will be the key master.\n\n145\n00:06:11.690 --> 00:06:14.350\nSo the machine we're on where\nthe zone is that we're signing\n\n146\n00:06:14.350 --> 00:06:16.070\nwould be the key master by default.\n\n147\n00:06:16.070 --> 00:06:18.320\nSelect another primary\nserver as a key master.\n\n148\n00:06:18.320 --> 00:06:19.800\nDoesn't have to be the machine we're on,\n\n149\n00:06:19.800 --> 00:06:23.380\nalthough that is the default choice and\nnormally makes the most sense.\n\n150\n00:06:23.380 --> 00:06:25.790\nBut it could be an alternate\nserver if we want it to be.\n\n151\n00:06:25.790 --> 00:06:26.750\nSo we do have an option.\n\n152\n00:06:26.750 --> 00:06:29.200\nIt's up to us to decide who\nwill be the key master.\n\n153\n00:06:29.200 --> 00:06:31.780\nSo we're gonna go ahead and\nwe're gonna go with the default there.\n\n154\n00:06:31.780 --> 00:06:34.795\nWe'll click Next, then we have to\nspecify what's called the KSK,\n\n155\n00:06:34.795 --> 00:06:36.270\nthe key signing key.\n\n156\n00:06:37.780 --> 00:06:39.070\nThe key signing key,\n\n157\n00:06:39.070 --> 00:06:42.580\nthis is gonna be the authentication\nkey that's used to sign other keys.\n\n158\n00:06:42.580 --> 00:06:45.657\nThis is the key that essentially is used\nto sign other keys and validate their\n\n159\n00:06:45.657 --> 00:06:48.790\nexistence so that they can then be\ngiven out and used for other things.\n\n160\n00:06:48.790 --> 00:06:51.870\nSo this is the authentication key\ncorresponding to the private key.\n\n161\n00:06:51.870 --> 00:06:54.190\nPublic private key pair\nthat we talk about.\n\n162\n00:06:54.190 --> 00:06:56.760\nUsed to sign one or\nmore other sign in keys.\n\n163\n00:06:56.760 --> 00:06:59.670\nTypically it says private key\ncorresponding to a KSK sign of the keys\n\n164\n00:06:59.670 --> 00:07:01.550\nused for signing the zone.\n\n165\n00:07:01.550 --> 00:07:02.195\nOkay, we know that.\n\n166\n00:07:02.195 --> 00:07:05.420\nThis may have a long\nvalidity period typically.\n\n167\n00:07:05.420 --> 00:07:07.390\nBecause we want it to be good for\na long time so\n\n168\n00:07:07.390 --> 00:07:10.470\nwe don't have to go reissue all these\nkeys and do this on a rolling basis.\n\n169\n00:07:10.470 --> 00:07:13.030\nWe do this on an infrequent basis, right?\n\n170\n00:07:13.030 --> 00:07:16.000\nSo we're gonna be able to specify that,\nso it says, okay, no problem.\n\n171\n00:07:16.000 --> 00:07:17.250\nSo let's click Next.\n\n172\n00:07:18.530 --> 00:07:19.863\nBy the way,\nlet me just show you one quick thing.\n\n173\n00:07:19.863 --> 00:07:21.408\nI don't click on it normally, but\n\n174\n00:07:21.408 --> 00:07:24.520\nthe nice thing about a lot of this,\nif you're going this later.\n\n175\n00:07:24.520 --> 00:07:26.140\nOr perhaps you've done this\non your own before and\n\n176\n00:07:26.140 --> 00:07:28.020\nwe haven't been there\nto explain this to you.\n\n177\n00:07:28.020 --> 00:07:31.200\nMicrosoft's done a good job of putting in\nthis little areas where you can click.\n\n178\n00:07:31.200 --> 00:07:32.750\nAnd, assuming you're\nconnected to the Internet,\n\n179\n00:07:32.750 --> 00:07:35.320\nyou can actually get help by going out and\nreading up\n\n180\n00:07:35.320 --> 00:07:39.600\non help files online at Microsoft.com or\nTechnet or wherever it points you to.\n\n181\n00:07:39.600 --> 00:07:41.070\nAll about the technology and what it does,\n\n182\n00:07:41.070 --> 00:07:44.465\nso if you're doing this on your own and\nyou need a little refresher, right?\n\n183\n00:07:44.465 --> 00:07:46.935\nYou can simply click here, and\nyou'll get that information.\n\n184\n00:07:46.935 --> 00:07:48.609\nSo it is important just to point that out.\n\n185\n00:07:48.609 --> 00:07:51.172\nCuz they've done a really good job\nof providing that guidance for\n\n186\n00:07:51.172 --> 00:07:52.251\nyou inside the interface.\n\n187\n00:07:52.251 --> 00:07:52.931\nAll right, so we're gonna go here.\n\n188\n00:07:52.931 --> 00:07:55.122\nWe're gonna go ahead and\nwe're gonna add in.\n\n189\n00:07:55.122 --> 00:07:57.086\nOn this page, as you can see here.\n\n190\n00:07:57.086 --> 00:08:00.620\nConfigure parameters for\nat least one KSK, right?\n\n191\n00:08:00.620 --> 00:08:04.910\nA maximum of three can be specified to the\navailable cryptographic algorithms, but\n\n192\n00:08:04.910 --> 00:08:05.770\nwe're gonna add one in.\n\n193\n00:08:05.770 --> 00:08:09.510\nSo we have to click add to do this,\nget a whole separate little screen here.\n\n194\n00:08:09.510 --> 00:08:12.350\nJust move this up just a touch so\nwe can see what's going on.\n\n195\n00:08:12.350 --> 00:08:15.460\nYou'll notice we have a guid,\nunique identifier for the key,\n\n196\n00:08:15.460 --> 00:08:17.100\nyou'll see it right up there, right?\n\n197\n00:08:17.100 --> 00:08:21.030\nSo we do have a unique string or variable\nthat's gonna be assigned as an identifier.\n\n198\n00:08:21.030 --> 00:08:24.000\nAll right so\nit says here we will accept the default.\n\n199\n00:08:24.000 --> 00:08:25.570\nBut let's just take a look\nat we got going on.\n\n200\n00:08:25.570 --> 00:08:29.740\nWe have a unique identifier, generate new\nsigning keys will generate a new key, our\n\n201\n00:08:29.740 --> 00:08:33.740\nkey properties, cryptographic algorithm,\nwhat's the algorithm that we're gonna use.\n\n202\n00:08:33.740 --> 00:08:40.804\nNotice we have a bunch of different\nones here, RSA, SHA-1, SHA-256, SHA-512.\n\n203\n00:08:40.804 --> 00:08:44.097\nBunch of different options ECD,\nSAPS, we can do,\n\n204\n00:08:44.097 --> 00:08:47.938\na bunch of different choices\ndepending on what we wanna do.\n\n205\n00:08:47.938 --> 00:08:53.340\nSo we have these key lengths in bits\nthat we can specify key length from.\n\n206\n00:08:53.340 --> 00:08:57.420\nAll the way at the low end here\n1024 all the way up to 4096 bits.\n\n207\n00:08:57.420 --> 00:09:02.780\nThe general rule of thumb with key length\nis, in terms of the bits, that the longer\n\n208\n00:09:02.780 --> 00:09:06.240\nthe key length, the bigger the number\nof bits, the stronger the protection.\n\n209\n00:09:06.240 --> 00:09:07.806\nThe more valuable that key is for\n\n210\n00:09:07.806 --> 00:09:11.520\na period of time because it's gonna\nbe harder to crack cryptographically.\n\n211\n00:09:11.520 --> 00:09:12.740\nSo, let's just keep that in mind.\n\n212\n00:09:12.740 --> 00:09:14.760\nBut again we're just gonna\naccept our defaults here for\n\n213\n00:09:14.760 --> 00:09:16.530\npurposes of demonstration.\n\n214\n00:09:16.530 --> 00:09:22.670\nSo we have the R, the DNs key RR set\nvalidity period RR set, resource record\n\n215\n00:09:22.670 --> 00:09:26.440\nset, the set of records that we are gonna\nbe signing is referred to as the RR set.\n\n216\n00:09:26.440 --> 00:09:28.850\nHow long will this be valid for\nwhen we do this?\n\n217\n00:09:28.850 --> 00:09:31.530\n168 hours.\nWe measure this in hours, so\n\n218\n00:09:31.530 --> 00:09:33.580\nit's gonna be good for 168 hours, right?\n\n219\n00:09:33.580 --> 00:09:35.140\nSo just keep that in mind.\n\n220\n00:09:35.140 --> 00:09:36.590\nYes?\n&gt;&gt; And if they crank that\n\n221\n00:09:36.590 --> 00:09:40.650\ndial all the way up for the key there,\njust be aware that your machine have\n\n222\n00:09:40.650 --> 00:09:45.360\nto be able to support that processing\nof that additional key space there.\n\n223\n00:09:45.360 --> 00:09:47.450\nSo just kind of keep that in mind, too.\n\n224\n00:09:47.450 --> 00:09:48.780\nIt sounds great in theory, but\n\n225\n00:09:48.780 --> 00:09:52.260\nyou just wanna have that good\nbalance there, right Adam?\n\n226\n00:09:52.260 --> 00:09:55.960\n&gt;&gt; What Cherokee's implying is that we\nneed hardware that is robust enough to be\n\n227\n00:09:55.960 --> 00:09:57.550\nable to handle a 4,096-\n&gt;&gt; Correct.\n\n228\n00:09:57.550 --> 00:10:00.360\n&gt;&gt; Bit key request to encrypt and decrypt.\n\n229\n00:10:00.360 --> 00:10:03.740\nBecause the wear and tear, and\nmore specifically the amount of\n\n230\n00:10:03.740 --> 00:10:08.480\nprocessing power required to crank through\na 4,096-bit key, is pretty dramatic.\n\n231\n00:10:08.480 --> 00:10:10.270\nIt doesn't sound like it would be,\nbut it is.\n\n232\n00:10:10.270 --> 00:10:13.450\nAnd Cherokee makes an excellent point\nif we don't have enough hardware\n\n233\n00:10:13.450 --> 00:10:16.200\nunder the hood to do this\nthe machine will slow down so\n\n234\n00:10:16.200 --> 00:10:18.910\nmuch that it could actually stall and\nwe could crash, and\n\n235\n00:10:18.910 --> 00:10:22.010\nnot be able to complete the request\nwithin the specified period of time.\n\n236\n00:10:22.010 --> 00:10:23.575\nCuz it's not like this\ncan just go on forever.\n\n237\n00:10:23.575 --> 00:10:26.045\nThere is a TTL associated\nwith all activities and\n\n238\n00:10:26.045 --> 00:10:27.105\nwe could run into an issue there.\n\n239\n00:10:27.105 --> 00:10:28.965\nYou're absolutely right to point that out.\n\n240\n00:10:28.965 --> 00:10:32.305\nAnd then we do have the key rollover,\nenable automatic key rollover.\n\n241\n00:10:32.305 --> 00:10:35.635\nRollover frequency, you'll see\nthe keys rollover every 755 days.\n\n242\n00:10:35.635 --> 00:10:40.130\nWe've said this key The KS key would\nhave an extended validity period.\n\n243\n00:10:40.130 --> 00:10:41.920\nWe would not roll it over very,\n\n244\n00:10:41.920 --> 00:10:44.010\nvery aggressively because\nit's gonna be out there.\n\n245\n00:10:44.010 --> 00:10:46.860\nIt's got a long key space,\na very large key space,\n\n246\n00:10:46.860 --> 00:10:48.930\nso it's gonna have what we\ncall a high work factor.\n\n247\n00:10:48.930 --> 00:10:52.235\nIt's very hard to crack that, and\nto guess that or brute force that key.\n\n248\n00:10:52.235 --> 00:10:55.056\nSo, we're gonna keep it around for\na long period of time.\n\n249\n00:10:55.056 --> 00:10:58.706\n755 days would be the equivalent of\nover two years, just about two years,\n\n250\n00:10:58.706 --> 00:11:00.065\na little bit over than that.\n\n251\n00:11:00.065 --> 00:11:02.115\nA little bit longer than that,\nbut not by much.\n\n252\n00:11:02.115 --> 00:11:04.545\nAnd so, as a result, we're keeping it for\na long period of time.\n\n253\n00:11:04.545 --> 00:11:05.665\nAll right, so we're gonna click OK.\n\n254\n00:11:07.260 --> 00:11:07.900\nWe have that in there.\n\n255\n00:11:07.900 --> 00:11:11.350\nAnd when we say we can stack up up\nto three, we could put up to three\n\n256\n00:11:11.350 --> 00:11:16.210\nof the specificity or\nthe specified parameters per algorithm.\n\n257\n00:11:16.210 --> 00:11:21.565\nSo we could have RSA,\nSHA-256 up to three settings for\n\n258\n00:11:21.565 --> 00:11:25.305\nthat and three different configurations\nper algorithm multiple algorithms.\n\n259\n00:11:25.305 --> 00:11:28.805\nYou can have about 30 or 40 different\noptions setup here for the keys.\n\n260\n00:11:28.805 --> 00:11:31.365\nAll right, so we have all that, what we're\ngonna do is now that we have one click\n\n261\n00:11:31.365 --> 00:11:35.315\nnext, we have our order known as our ZSK,\nour zone signing key.\n\n262\n00:11:35.315 --> 00:11:38.445\nWe have a KSK, key sign and\nkey signs other keys.\n\n263\n00:11:38.445 --> 00:11:40.700\nAnd then we have our zone signing key.\n\n264\n00:11:40.700 --> 00:11:43.135\nThe KSK is used to create zone signing\nkeys which will then be used to\n\n265\n00:11:43.135 --> 00:11:44.190\nsign the zone.\n\n266\n00:11:44.190 --> 00:11:46.080\nSo, we have this hierarchy flowing down,\nright.\n\n267\n00:11:46.080 --> 00:11:50.190\nSo, for every KSK we create,\nwe may have multiple zone, sign, and keys.\n\n268\n00:11:50.190 --> 00:11:51.610\nSo just be aware of that.\n\n269\n00:11:51.610 --> 00:11:55.280\nThis is a sub, or rather an authentication\nkey that corresponds to a private key used\n\n270\n00:11:55.280 --> 00:11:57.690\nto sign zone data as we talked about.\n\n271\n00:11:57.690 --> 00:12:02.095\ntypically ZSKs are rolled over more\nfrequently than KSKs because they're not\n\n272\n00:12:02.095 --> 00:12:05.810\ngonna last as long, be out there as long,\nbecause they are gonna be exposed more and\n\n273\n00:12:05.810 --> 00:12:07.290\ntherefore more likely to be broken.\n\n274\n00:12:07.290 --> 00:12:09.450\nSo, we'll roll them over more frequently.\n\n275\n00:12:09.450 --> 00:12:10.930\nSo now that we know that let's click Next.\n\n276\n00:12:10.930 --> 00:12:12.920\nAgain, we have to go through the Add here.\n\n277\n00:12:12.920 --> 00:12:14.305\nWe'll click Add.\n\n278\n00:12:14.305 --> 00:12:16.480\nSame thought process.\nSlightly smaller screen.\n\n279\n00:12:16.480 --> 00:12:20.670\nNot as many options because we're doing\nthis on the zone and not for all keys that\n\n280\n00:12:20.670 --> 00:12:24.500\nwill be generated to sign all zone, so\njust wanna make sure we're aware of that.\n\n281\n00:12:24.500 --> 00:12:26.240\nSo we're gonna go ahead,\nwe're gonna add here.\n\n282\n00:12:26.240 --> 00:12:29.480\nWe will, again, accept our defaults, well,\nlet's just walk through what they are.\n\n283\n00:12:29.480 --> 00:12:31.550\nWe have our GUID here, unique identifier.\n\n284\n00:12:31.550 --> 00:12:35.748\nWe have our cryptographic algorithm,\nour key length, we talked about that,\n\n285\n00:12:35.748 --> 00:12:38.681\nour DNS key symmetry validity period,\n168 hours.\n\n286\n00:12:38.681 --> 00:12:41.760\nOur symmetry validity period 168.\n\n287\n00:12:41.760 --> 00:12:45.538\nZone record validity 240, but\nthen roll over frequency in days.\n\n288\n00:12:45.538 --> 00:12:51.650\nNotice that is much smaller 755\non the KSK, 90 days on the ZSK,\n\n289\n00:12:53.210 --> 00:12:58.490\nbasically, not quite one tenth, but\nmaybe like one eight of the overall value.\n\n290\n00:12:58.490 --> 00:13:01.040\nSomething like that,\napproximately, about an eight.\n\n291\n00:13:01.040 --> 00:13:02.820\nSo, it's gonna be much, much smaller.\n\n292\n00:13:02.820 --> 00:13:05.152\nIt would be good for\nyou to know the default values for\n\n293\n00:13:05.152 --> 00:13:09.370\nkey rollover about the KSK and\nthe CSK for planning on taking the exam.\n\n294\n00:13:09.370 --> 00:13:10.840\nMay actually get ask about that.\n\n295\n00:13:10.840 --> 00:13:17.560\nWouldn't be a bad idea to know that a\nthousand 24 is the key length for the KSK.\n\n296\n00:13:17.560 --> 00:13:22.940\nWhereas for the ZSK, whereas 2048\nis the default length for the KSK.\n\n297\n00:13:22.940 --> 00:13:24.330\nSo again, there's some options there.\n\n298\n00:13:24.330 --> 00:13:27.310\nYou may wanna make sure you're aware\nof those and just have a sense of that.\n\n299\n00:13:27.310 --> 00:13:28.390\nAll right, we're gonna click OK.\n\n300\n00:13:29.440 --> 00:13:30.340\nTake the default there.\n\n301\n00:13:30.340 --> 00:13:31.300\nAgain, we'll just leave that.\n\n302\n00:13:31.300 --> 00:13:34.300\nWe can stack up multiples, but\nwe know we're gonna accept those.\n\n303\n00:13:34.300 --> 00:13:35.070\nClick Next.\n\n304\n00:13:35.070 --> 00:13:38.480\nWe then have NEC Secure,\nwhat's called NSEC settings.\n\n305\n00:13:38.480 --> 00:13:39.530\nLet's talk about this.\n\n306\n00:13:40.910 --> 00:13:42.430\nThe NSEC settings.\n\n307\n00:13:42.430 --> 00:13:44.875\nNSEC and also NSEC 3,\nthe newer version of NSEC,\n\n308\n00:13:44.875 --> 00:13:48.340\nwhich is what we would normally\nbe using in more modern versions.\n\n309\n00:13:48.340 --> 00:13:52.135\nFor instance, in our Server 2016\nconversation where Cherokee and\n\n310\n00:13:52.135 --> 00:13:54.845\nI go through essentially the same\nexact stuff th material but\n\n311\n00:13:54.845 --> 00:13:57.805\ndo it on a server 2016 platform for\nthe MCSA for 2016.\n\n312\n00:13:57.805 --> 00:14:01.505\nIf you take a look at those\nshows you'll see we go through\n\n313\n00:14:01.505 --> 00:14:06.345\nessentially the same exact thing but we\ntalk about the fact that on Server 16 we\n\n314\n00:14:06.345 --> 00:14:09.525\nwould wanna use NSEC 3 as opposed\nto NSEC because it is newer.\n\n315\n00:14:09.525 --> 00:14:10.895\nRight?\nSo you would see a little difference\n\n316\n00:14:10.895 --> 00:14:12.450\nby operating system version.\n\n317\n00:14:12.450 --> 00:14:14.060\nBut we just support both.\n\n318\n00:14:14.060 --> 00:14:18.590\nSo you´ll see here choose NSEC or NSEC 3\nfor authentication, denile of existence.\n\n319\n00:14:18.590 --> 00:14:20.450\nNSEC 3 is our choice here.\n\n320\n00:14:20.450 --> 00:14:23.080\nIterations generating use\na random set of lengths.\n\n321\n00:14:23.080 --> 00:14:28.210\nUse opt out to cover unsigned delegations\nor opt in to use the older version NSEC.\n\n322\n00:14:28.210 --> 00:14:29.680\nAnd so you´ll see that we can go through,\n\n323\n00:14:29.680 --> 00:14:34.900\nand we can specify here, what the values\nwill be to allow us to use these settings.\n\n324\n00:14:34.900 --> 00:14:36.930\nTo specify and\n\n325\n00:14:36.930 --> 00:14:41.740\nto be able to ensure that we are not\nable to say hey, this is not us.\n\n326\n00:14:41.740 --> 00:14:42.600\nThis is not our zone.\n\n327\n00:14:42.600 --> 00:14:43.600\nWe did not do this.\n\n328\n00:14:43.600 --> 00:14:46.130\nThis is proof of origin and\nnon-repudiation.\n\n329\n00:14:46.130 --> 00:14:49.410\nSpecific denial of existence,\nDenial of existence is non-repudiation.\n\n330\n00:14:49.410 --> 00:14:51.760\nThat's what we talk about\nwhen we talk about integrity.\n\n331\n00:14:51.760 --> 00:14:53.060\nIt's the same idea.\n\n332\n00:14:53.060 --> 00:14:54.990\nWe cannot say we did not send something.\n\n333\n00:14:54.990 --> 00:14:57.580\nWe cannot deny that it is us and\nthat it does exist.\n\n334\n00:14:57.580 --> 00:14:59.670\nBecause we did it,\nwe created it, it's ours, and\n\n335\n00:14:59.670 --> 00:15:00.980\ntherefore we have to admit to it.\n\n336\n00:15:00.980 --> 00:15:05.070\nAnd so NSEC Net-Secure Records\nallow us to deal with that aspect\n\n337\n00:15:05.070 --> 00:15:09.380\nof this to ensure that we can validate the\nexistence of the zone and the files and\n\n338\n00:15:09.380 --> 00:15:10.970\nensure that they\nare authenticated properly.\n\n339\n00:15:10.970 --> 00:15:12.790\nSo just to make sure, all right.\n\n340\n00:15:12.790 --> 00:15:15.080\nSo we have that then we\nhave our trust anchors,\n\n341\n00:15:15.080 --> 00:15:17.460\nour TA's as they're referred to here.\n\n342\n00:15:17.460 --> 00:15:20.670\nAre we gonna enable distribution\noff trust anchors for the zone?\n\n343\n00:15:20.670 --> 00:15:24.130\nSo let's just check this off,\njust do that right there.\n\n344\n00:15:24.130 --> 00:15:27.300\nAnd if this is, it says here and\nit's important to note\n\n345\n00:15:27.300 --> 00:15:29.980\nif this is also a domain controller\nwhich we know it is, right?\n\n346\n00:15:29.980 --> 00:15:31.890\nActive directory integrated,\ntrust anchors for\n\n347\n00:15:31.890 --> 00:15:35.380\nthe zone will be distributed to\nall other DNS servers running on.\n\n348\n00:15:35.380 --> 00:15:38.560\nDomain controllers on the far, so we'll\npropagate these out to all DNS servers\n\n349\n00:15:38.560 --> 00:15:42.020\nnot just this DNS server, but\nall of them everywhere in the forest.\n\n350\n00:15:42.020 --> 00:15:43.466\nBecause we're gonna replicate them out.\n\n351\n00:15:43.466 --> 00:15:47.574\nThe trust anchors are gonna allow us\nto ensure that we can validate the zone\n\n352\n00:15:47.574 --> 00:15:52.230\nauthoritatively and make sure that we can\nspeak to it along with the rollover keys.\n\n353\n00:15:52.230 --> 00:15:53.507\nAnd have records of and\nknowledge of all that.\n\n354\n00:15:53.507 --> 00:15:56.971\nSo we're gonna be able to propagate that\nout and make sure that that's the case.\n\n355\n00:15:56.971 --> 00:16:00.735\nWe also update the trust anchors and\nwhenever we have a key roll over event,\n\n356\n00:16:00.735 --> 00:16:03.070\nwe update the trust anchor information.\n\n357\n00:16:03.070 --> 00:16:05.780\nThat's done by default with\nthat setting right down there.\n\n358\n00:16:05.780 --> 00:16:07.530\nMinimum of 90 days, as we said,\n\n359\n00:16:07.530 --> 00:16:11.040\nunless we modified those defaults for\nthe zone signing key.\n\n360\n00:16:11.040 --> 00:16:13.964\nMinimum of 755 days on\nthe key singing key.\n\n361\n00:16:13.964 --> 00:16:16.879\nBut when they rollover, we do have\nto update them in the update, or\n\n362\n00:16:16.879 --> 00:16:20.060\nenable automatic update of\nthe records will do that.\n\n363\n00:16:20.060 --> 00:16:24.110\nNext, we then specify our assigning and\npolling parameters.\n\n364\n00:16:24.110 --> 00:16:27.690\nWhat are the record generation\nalgorithms that are being used?\n\n365\n00:16:27.690 --> 00:16:29.370\nWhat is the TTL in seconds?\n\n366\n00:16:29.370 --> 00:16:31.580\nAgain, make sure you note\nthe time values here.\n\n367\n00:16:31.580 --> 00:16:36.380\nThese are in seconds, not days, for\nthe record TTL, the record key, or\n\n368\n00:16:36.380 --> 00:16:38.420\nthe key record TTL, etc.\n\n369\n00:16:38.420 --> 00:16:40.690\nAll the different values\nthat we would have here.\n\n370\n00:16:40.690 --> 00:16:43.780\nAnd normally, we'd accept the defaults,\nit's really not a reason to go through and\n\n371\n00:16:43.780 --> 00:16:44.380\nchange these.\n\n372\n00:16:44.380 --> 00:16:47.240\nBut it'll be up to us to\ndecide if we want to.\n\n373\n00:16:47.240 --> 00:16:51.130\nBut we can go ahead,\nonce we have all this configured.\n\n374\n00:16:51.130 --> 00:16:53.150\nGo ahead and click Next,\nwe're basically done at this point.\n\n375\n00:16:53.150 --> 00:16:55.730\nWe'll click Next, let this just\nfinish this up, do its thing.\n\n376\n00:16:55.730 --> 00:16:59.120\nIt successfully signs, it doesn't take\nvery long at all, as you can see.\n\n377\n00:16:59.120 --> 00:17:03.278\nOnce we've done that, you don't really\nnotice any great change here, right?\n\n378\n00:17:03.278 --> 00:17:06.250\nLets just refresh.\n\n379\n00:17:06.250 --> 00:17:08.320\nAll right, there we go, and\nnow you'll see everything.\n\n380\n00:17:08.320 --> 00:17:09.834\nCuz it didn't show up until we refreshed,\n\n381\n00:17:09.834 --> 00:17:12.920\nyou can see all these additional\nrecords have now been created.\n\n382\n00:17:12.920 --> 00:17:14.580\nSo let's just go down here and\nsee what we got.\n\n383\n00:17:14.580 --> 00:17:18.716\nJust kind of start right there,\nand you'll see the RRSIG,\n\n384\n00:17:18.716 --> 00:17:21.620\nthe Resource Record Signature Records.\n\n385\n00:17:21.620 --> 00:17:24.110\nSo let me just extend these,\nso you can see these.\n\n386\n00:17:24.110 --> 00:17:25.760\nThey have long identifiers.\n\n387\n00:17:28.770 --> 00:17:30.280\nThere we go.\n\n388\n00:17:30.280 --> 00:17:34.290\nAnd the data just goes on,\nit kind of just scrolls off all the way,\n\n389\n00:17:34.290 --> 00:17:35.220\nit´s a very long record.\n\n390\n00:17:35.220 --> 00:17:37.590\nBut you can see here we\nhave RR Signature Records,\n\n391\n00:17:37.590 --> 00:17:41.750\nResource Set Signature Records,\nDNS Key Records, you´ll see them there.\n\n392\n00:17:41.750 --> 00:17:42.630\nEnd secure, so\n\n393\n00:17:42.630 --> 00:17:47.220\nnext secure 3 and we have a bunch of\ndifferent records that are created.\n\n394\n00:17:47.220 --> 00:17:52.000\nQuite a few of them as you can see, as we\ngo all the way down, along with some host\n\n395\n00:17:52.000 --> 00:17:55.940\nrecords, and then RR Signature records for\nall the host records.\n\n396\n00:17:55.940 --> 00:17:59.570\nEvery host record has an RR\nsignature associated with it.\n\n397\n00:17:59.570 --> 00:18:02.398\nAnd so that way,\nwe're able to validate all these records,\n\n398\n00:18:02.398 --> 00:18:05.110\nwhen somebody comes in and\nrequests information.\n\n399\n00:18:05.110 --> 00:18:07.620\nWe can tell that they are authentic, and\n\n400\n00:18:07.620 --> 00:18:10.390\nthat they do have integrity\nassociated with them.\n\n401\n00:18:10.390 --> 00:18:15.960\nAnd we have timestamps as you can\nsee associated with some records.\n\n402\n00:18:15.960 --> 00:18:19.840\nAnd we have information associated with\nthem, that validates or helps to validate\n\n403\n00:18:19.840 --> 00:18:23.880\nwhat that information is, where it\ncame from and when it was created.\n\n404\n00:18:23.880 --> 00:18:25.180\nSo we can further understand and\n\n405\n00:18:25.180 --> 00:18:28.320\ncorrelate that back,\nto activities happening on the server.\n\n406\n00:18:28.320 --> 00:18:29.330\nSo once we've done all this and\n\n407\n00:18:29.330 --> 00:18:34.290\nwe take a look, we're now able to see\nthat we have all the records necessary.\n\n408\n00:18:34.290 --> 00:18:36.550\nAnd we also have this area\ndown here called Trust Points,\n\n409\n00:18:36.550 --> 00:18:40.420\nlet's just open this up right now,\ncuz this has been populated.\n\n410\n00:18:40.420 --> 00:18:46.020\nComms, practice labs sent,\njust going down, and we can see that our\n\n411\n00:18:46.020 --> 00:18:50.680\nstatus is valid, our DNS keys are here,\nour signature algorithms are here.\n\n412\n00:18:50.680 --> 00:18:52.890\nAnd our validity period\nis listed here right?\n\n413\n00:18:52.890 --> 00:18:56.380\nWe can see this, and so these are the keys\nthat were just used or created,\n\n414\n00:18:56.380 --> 00:18:58.340\nto do the zone signing and\nthe key signing.\n\n415\n00:18:58.340 --> 00:19:00.730\nSo we could see all of that in\nhere on under Trust Points.\n\n416\n00:19:00.730 --> 00:19:03.070\nThis is created when we\nactually did really signed and\n\n417\n00:19:03.070 --> 00:19:05.120\napplied DNSSEC to the zone.\n\n418\n00:19:05.120 --> 00:19:07.980\nIf we had additional zones\nthat we wanted to sign,\n\n419\n00:19:07.980 --> 00:19:09.890\nwe would do that under Trust Points.\n\n420\n00:19:09.890 --> 00:19:13.450\nWe would see references, you know COM\npractice labs, Zapos, whatever, we'd have\n\n421\n00:19:13.450 --> 00:19:17.900\na sub folder for every one of them showing\nup with the keys as we sign those zones.\n\n422\n00:19:17.900 --> 00:19:20.470\nAnd you may notice up here that,\nI know it's kind of hard to see, but\n\n423\n00:19:20.470 --> 00:19:24.550\noff to the left upper corner of the little\nfolder that represents the zone icon,\n\n424\n00:19:24.550 --> 00:19:25.510\nthere is now a padlock.\n\n425\n00:19:25.510 --> 00:19:27.242\nIt's just sitting right up\nthere on the upper left.\n\n426\n00:19:27.242 --> 00:19:29.160\nA little gold padlock that's locked,\n\n427\n00:19:29.160 --> 00:19:31.560\nthat signifies that the zone\nhas actually been signed.\n\n428\n00:19:31.560 --> 00:19:34.210\nSo we now have all of that\ninformation available to us.\n\n429\n00:19:34.210 --> 00:19:36.101\nAnd this actually helps us now,\n\n430\n00:19:36.101 --> 00:19:39.220\nto understand that yes\nindeed we did apply DNSSEC.\n\n431\n00:19:39.220 --> 00:19:42.230\nBut that's only part of it,\ncuz now we've digitally signed the zone.\n\n432\n00:19:42.230 --> 00:19:45.910\nWhat we have to do, is configure support\nfor this with our group policy objects,\n\n433\n00:19:45.910 --> 00:19:48.530\nto ensure the clients are going\nto use this and understand this.\n\n434\n00:19:48.530 --> 00:19:51.470\nSo part two now, is we're gonna go in, and\nwe're gonna take a look at configuring\n\n435\n00:19:51.470 --> 00:19:54.190\nsupport for\nDNSSEC with our group policy objects.\n\n436\n00:19:54.190 --> 00:19:56.110\nWe're going to go through and\ntake a look at that right now.\n\n437\n00:19:56.110 --> 00:19:58.920\nSo let's go in, launch our\nGroup Policy Management Console.\n\n438\n00:19:58.920 --> 00:20:00.670\nSo we're going to go\nto our server manager.\n\n439\n00:20:00.670 --> 00:20:01.880\nTake a look at that.\n\n440\n00:20:01.880 --> 00:20:03.060\nWe'll come over here.\n\n441\n00:20:03.060 --> 00:20:04.600\nGo up here to Tools.\n\n442\n00:20:04.600 --> 00:20:07.710\nGo launch our Group Policy Manager,\nthe GPM MMC.\n\n443\n00:20:07.710 --> 00:20:09.720\nSo give that just a second.\n\n444\n00:20:09.720 --> 00:20:13.250\nSo just minimize that here, and\nlet's just bring that up full screen,\n\n445\n00:20:13.250 --> 00:20:14.560\nso we can see that.\n\n446\n00:20:14.560 --> 00:20:17.516\nLet's just open this up and\nkinda move things, whoops, ever so\n\n447\n00:20:17.516 --> 00:20:20.442\nslightly over, just so\nwe could see what's going on in there.\n\n448\n00:20:20.442 --> 00:20:24.680\nAnd we'll open up our domain,\npracticelabs.com, let's just open that up.\n\n449\n00:20:24.680 --> 00:20:27.620\nGot our Default Domain Controllers Policy,\nGroup Policy Objects, etc.\n\n450\n00:20:27.620 --> 00:20:28.560\nAnd we're gonna go ahead,\n\n451\n00:20:28.560 --> 00:20:32.310\nwe're gonna create a brand\nnew Group Policy Right here.\n\n452\n00:20:32.310 --> 00:20:35.630\nSo let's right click create a GPO\nin this domain and link it here.\n\n453\n00:20:35.630 --> 00:20:37.400\nSo we're going to go ahead and\nwe're gonna do that.\n\n454\n00:20:37.400 --> 00:20:40.550\nSo let's go ahead and let's call this,\nyou can call it anything you want.\n\n455\n00:20:40.550 --> 00:20:45.318\nI'm gonna call this DNSSCE, just because\nthat way we will know what it is.\n\n456\n00:20:45.318 --> 00:20:50.210\nSo DNSSEC, okay, and\n\n457\n00:20:50.210 --> 00:20:53.530\nnow we're not using a source starter GPO,\nmeaning a template that will pre-populate,\n\n458\n00:20:53.530 --> 00:20:55.720\nwe're just gonna create brand\nnew one without doing that.\n\n459\n00:20:55.720 --> 00:20:58.876\nSo we're gonna click Okay,\ngot our policy link there.\n\n460\n00:20:58.876 --> 00:21:01.250\nWe're gonna click, so that so\nwe can actually edit it.\n\n461\n00:21:01.250 --> 00:21:03.470\nSo let's edit it, bring up the editor so\n\n462\n00:21:03.470 --> 00:21:05.240\nwe can actually make\nsome changes in there.\n\n463\n00:21:05.240 --> 00:21:07.455\nSo we're gonna go ahead and\nwe're gonna do that.\n\n464\n00:21:07.455 --> 00:21:09.166\nAnd now,\nwhat we´re going to do is the following.\n\n465\n00:21:09.166 --> 00:21:12.593\nLet's go in, we'll go to Computer\nConfiguration, just looking at my notes,\n\n466\n00:21:12.593 --> 00:21:14.200\nPolicy Window Settings.\n\n467\n00:21:14.200 --> 00:21:18.040\nLet´s go down here, let´s go down here,\nlet me open this up.\n\n468\n00:21:18.040 --> 00:21:19.010\nWait for that to pop up.\n\n469\n00:21:19.010 --> 00:21:21.710\nLet´s make this full screen, just so\nit´s a little be easier to see.\n\n470\n00:21:21.710 --> 00:21:23.040\nDrag this over a little bit, so\n\n471\n00:21:23.040 --> 00:21:24.730\nyou can see what´s kind of\nhappening over there as well.\n\n472\n00:21:24.730 --> 00:21:26.950\nAll right, so we´re in there,\nwe´re in Windows Settings.\n\n473\n00:21:26.950 --> 00:21:29.300\nLet´s go to Name Resolution Policy.\n\n474\n00:21:29.300 --> 00:21:30.820\nJust click right there.\n\n475\n00:21:30.820 --> 00:21:32.050\nWait for that to come up.\n\n476\n00:21:32.050 --> 00:21:36.590\nAlright so, Name Resolution Policy,\nwe're gonna to go to specify which part of\n\n477\n00:21:36.590 --> 00:21:40.352\nthe name space we want to apply this tool,\nthis rule to right here.\n\n478\n00:21:40.352 --> 00:21:44.920\nAnd you'll see here, we're going to\npull this down and we're gonna specify,\n\n479\n00:21:44.920 --> 00:21:49.720\nyeah we have suffix, prefix, subnet,\nany whatever the case may be, right?\n\n480\n00:21:49.720 --> 00:21:54.117\nAnd so, we're going to go ahead and over\nhere, we're going to leave suffix, and\n\n481\n00:21:54.117 --> 00:21:56.861\nwe're gonna apply this\nto practicelabs.com, so\n\n482\n00:21:56.861 --> 00:22:00.620\nwe're going to type in the name\nof our domain, practicelabs.com.\n\n483\n00:22:00.620 --> 00:22:04.060\nThis is the name of the zone file\nthat we have digitally signed,\n\n484\n00:22:04.060 --> 00:22:06.960\nthat we're going to put here again,\nif we have multiple zones.\n\n485\n00:22:06.960 --> 00:22:09.960\nWe'd have to create a policy that\nspeaks to each one and apply them.\n\n486\n00:22:09.960 --> 00:22:12.380\nSo, we're putting the name\nof the zone file here,\n\n487\n00:22:12.380 --> 00:22:13.740\nwhich also happens to be\nthe name of our domain.\n\n488\n00:22:13.740 --> 00:22:16.750\nIf you think about the logic of that,\nthat's gonna represent the same thing.\n\n489\n00:22:16.750 --> 00:22:18.890\nSo, I'm typing practicelabs.com,\n\n490\n00:22:18.890 --> 00:22:21.610\nbecause that's the name of the zone\nfile that I digitally signed.\n\n491\n00:22:21.610 --> 00:22:23.110\nIt's the name of our domain name space.\n\n492\n00:22:23.110 --> 00:22:24.710\nSo we're gonna specify that.\n\n493\n00:22:25.750 --> 00:22:28.844\nAnd then once we've done that,\njust come down right over here, so\n\n494\n00:22:28.844 --> 00:22:30.520\nwe can see we've got that in there.\n\n495\n00:22:30.520 --> 00:22:33.980\nAnd then you'll see right here DNSSEC,\nwe have to\n\n496\n00:22:33.980 --> 00:22:36.870\nscroll down just a little bit more so\nyou could see the other part of that.\n\n497\n00:22:36.870 --> 00:22:41.100\nThere's just update, create, close box or\nclear box right below, there we go.\n\n498\n00:22:41.100 --> 00:22:42.650\nWe'll see those in just a minute.\n\n499\n00:22:42.650 --> 00:22:45.630\nSo we're gonna enable DNSSEC\nright here in this rule.\n\n500\n00:22:45.630 --> 00:22:46.390\nCheck this off.\n\n501\n00:22:46.390 --> 00:22:49.280\nLet me scroll back up so we can kinda see\nwhat's happening while we're talking.\n\n502\n00:22:49.280 --> 00:22:51.580\nAll right, so we have that and\nwe're gonna enable this.\n\n503\n00:22:51.580 --> 00:22:55.960\nAnd then we're gonna require DNS clients\nto check their name and address data,\n\n504\n00:22:55.960 --> 00:22:57.410\nthat's been validated by the DNS service.\n\n505\n00:22:57.410 --> 00:22:59.880\nI'm just gonna check this\noff as well right here.\n\n506\n00:22:59.880 --> 00:23:02.130\nSo we're gonna specify\nboth those settings.\n\n507\n00:23:02.130 --> 00:23:04.980\nAnd then once we're done, we're gonna\nscroll down here and click Create.\n\n508\n00:23:04.980 --> 00:23:07.970\nNow, before we do that, let me just\npoint out here, let me scroll down so\n\n509\n00:23:07.970 --> 00:23:10.210\nyou can see the bottom,\ngive me one more sec, and\n\n510\n00:23:10.210 --> 00:23:12.550\nwe'll kind of go all the down right there,\nokay.\n\n511\n00:23:12.550 --> 00:23:14.760\nSo, we'll click Create here in a second,\nbut\n\n512\n00:23:14.760 --> 00:23:17.680\nnotice we also have the ability\nto use IPsec if we want to,\n\n513\n00:23:17.680 --> 00:23:20.920\nto further secure communication\nbetween the client and the server.\n\n514\n00:23:20.920 --> 00:23:23.930\nThe use of IPsec would encrypt and\nauthenticate potentially,\n\n515\n00:23:23.930 --> 00:23:25.510\ndepending on how we chose to do this.\n\n516\n00:23:25.510 --> 00:23:27.250\nAuthenticate only, encrypt only, or both.\n\n517\n00:23:27.250 --> 00:23:31.490\nWe will be able to authenticate and or\nencrypt the traffic, most likely both.\n\n518\n00:23:31.490 --> 00:23:34.450\nWe're not gonna add that in right now\nin the demo, but in the real world,\n\n519\n00:23:34.450 --> 00:23:37.170\nthere may be a need to do that,\ndepending on the nature of the clients.\n\n520\n00:23:37.170 --> 00:23:40.350\nWhere they are and what kind of\ncommunication we are engaging in.\n\n521\n00:23:40.350 --> 00:23:42.046\nSo just ask you to think about that and\n\n522\n00:23:42.046 --> 00:23:44.234\nnote that we could use\nIPsec if we wanted to, but\n\n523\n00:23:44.234 --> 00:23:47.773\nwe have to make sure we're using clients\nthat will support the use of IPsec.\n\n524\n00:23:47.773 --> 00:23:52.367\nAll post-Windows,\nlet's say XP operating systems, Vista,\n\n525\n00:23:52.367 --> 00:23:56.629\n7, et cetera, all modern client and\nserver-based OSs.\n\n526\n00:23:56.629 --> 00:23:58.900\nShowed support IPsec Windows trouble.\n\n527\n00:23:58.900 --> 00:24:00.393\nShouldn't I have a problem doing that?\n\n528\n00:24:00.393 --> 00:24:02.629\nBut if we have all the row\nessence we may have an issue and\n\n529\n00:24:02.629 --> 00:24:04.870\njust wanna make sure we're\naware of that as well.\n\n530\n00:24:04.870 --> 00:24:07.562\nYeah?\n&gt;&gt; So Adam, I just wanna clarify here,\n\n531\n00:24:07.562 --> 00:24:10.830\nwhat are we talking about\nencrypting it in what state,\n\n532\n00:24:10.830 --> 00:24:15.541\nbecause I'm assuming with our Active\nDirectory integrated zones when we're\n\n533\n00:24:15.541 --> 00:24:17.724\n&gt;&gt; Performing zone replication,\n\n534\n00:24:17.724 --> 00:24:20.182\nthat information is encrypted so.\n\n535\n00:24:20.182 --> 00:24:21.880\n&gt;&gt; This is not zone replication traffic.\n\n536\n00:24:21.880 --> 00:24:23.704\nThis is communication\nbetween the client and\n\n537\n00:24:23.704 --> 00:24:25.820\nthe server requesting\ninformation about the zone.\n\n538\n00:24:25.820 --> 00:24:26.580\n&gt;&gt; Okay, wanted to clarify\n&gt;&gt; So\n\n539\n00:24:26.580 --> 00:24:30.285\nwhen I talk about replication traffic\n&gt;&gt; We're talking about is remember when we\n\n540\n00:24:30.285 --> 00:24:31.684\ndigitally signed the zone,\n\n541\n00:24:31.684 --> 00:24:35.885\nwhat we're doing is providing additional\nauthenticity and integrity mechanisms to\n\n542\n00:24:35.885 --> 00:24:37.919\nthe client requesting resolution-\n&gt;&gt; Got it.\n\n543\n00:24:37.919 --> 00:24:41.390\n&gt;&gt; To ensure that they are not getting\ntricked into, essentially taking,\n\n544\n00:24:41.390 --> 00:24:42.472\n&gt;&gt; Bad information from a bad\n\n545\n00:24:42.472 --> 00:24:43.164\nactor, right?\n\n546\n00:24:43.164 --> 00:24:45.619\n&gt;&gt; Sure.\n&gt;&gt; So this exchange for traffic back and\n\n547\n00:24:45.619 --> 00:24:49.917\nforth between the client and the server is\nwhat we would be applying IP sec to here\n\n548\n00:24:49.917 --> 00:24:54.025\nwhen we are talking about requiring DNS\nclients to check name and address and\n\n549\n00:24:54.025 --> 00:24:55.460\nuse DNS sec and validate.\n\n550\n00:24:55.460 --> 00:24:58.670\nIt's that exchange between let's say\nme and you if we're client and server.\n\n551\n00:24:58.670 --> 00:25:00.060\nThat would not be encrypted normally.\n\n552\n00:25:00.060 --> 00:25:01.084\nAnd that's what we're\n\n553\n00:25:01.084 --> 00:25:02.487\ntalking about [INAUDIBLE]\n&gt;&gt; Right.\n\n554\n00:25:02.487 --> 00:25:03.788\n&gt;&gt; And it's a good point to clarify.\n\n555\n00:25:03.788 --> 00:25:06.564\nIt's really important to note that and\nmake sure we're clear on what part\n\n556\n00:25:06.564 --> 00:25:08.780\nof the transmission chain\nwe're talking about, right?\n\n557\n00:25:08.780 --> 00:25:12.088\n&gt;&gt; Right.\n&gt;&gt; Because, as you pointed out, zone.\n\n558\n00:25:12.088 --> 00:25:15.844\n&gt;&gt; Application data inside of the AD\nreplication cycle is managed differently\n\n559\n00:25:15.844 --> 00:25:18.905\nand would be handled differently and\nwe don't have to apply.\n\n560\n00:25:18.905 --> 00:25:22.925\nWe're not worried about the encryption at\nthat level cuz it is managed differently.\n\n561\n00:25:22.925 --> 00:25:24.995\nSo, that's not gonna be as\nbig of a concern to us.\n\n562\n00:25:24.995 --> 00:25:26.715\nSo, it is good to clarify that.\n\n563\n00:25:26.715 --> 00:25:28.295\nAll right, so we're not gonna apply that.\n\n564\n00:25:28.295 --> 00:25:29.675\nI just wanted to point out we could.\n\n565\n00:25:29.675 --> 00:25:31.525\nWe're gonna go ahead here and\nwe're gonna click create.\n\n566\n00:25:31.525 --> 00:25:35.050\nSo, let me just do that real quick,\ngive that just one second.\n\n567\n00:25:35.050 --> 00:25:36.920\nAll right, so we've gone ahead,\nwe've done that.\n\n568\n00:25:36.920 --> 00:25:37.820\nAnd, you may, or may not see it.\n\n569\n00:25:37.820 --> 00:25:41.310\nBut, down here, I just dropped,\nessentially that policy,\n\n570\n00:25:41.310 --> 00:25:42.500\nthat I created up above.\n\n571\n00:25:42.500 --> 00:25:45.130\nHit create, boom, it goes down\nto this little table down here.\n\n572\n00:25:45.130 --> 00:25:48.730\nName resolution policy table,\nthe NRPT, right down here.\n\n573\n00:25:48.730 --> 00:25:51.515\nLet me just add the name space, remove\nthe name space over, so you can see it.\n\n574\n00:25:51.515 --> 00:25:53.760\nPracticelabs.com right down there.\n\n575\n00:25:53.760 --> 00:25:56.151\nDNS sec, let's just move this over here.\n\n576\n00:25:56.151 --> 00:25:59.610\nValidation, right, yes.\n\n577\n00:25:59.610 --> 00:26:00.900\nAs you can see, right.\n\n578\n00:26:00.900 --> 00:26:03.900\nSo, we're using this entry right here,\nwe're seeing this.\n\n579\n00:26:03.900 --> 00:26:05.840\nAnd we can edit the rule if we need to.\n\n580\n00:26:05.840 --> 00:26:09.550\nEdit the rule just let's us go back up\nhere, make a change if we need to up here.\n\n581\n00:26:09.550 --> 00:26:11.080\nModify it in some way.\n\n582\n00:26:11.080 --> 00:26:13.640\nSo, we're just playing with the existing\nrule that we created, right?\n\n583\n00:26:13.640 --> 00:26:14.500\nSo, we can easily go in and.\n\n584\n00:26:14.500 --> 00:26:16.140\nDo that if we need to.\n\n585\n00:26:16.140 --> 00:26:20.080\nBut we have decided, or\nadded in that policy, and as a result,\n\n586\n00:26:20.080 --> 00:26:21.600\nwe now have a record of it down below,\nright?\n\n587\n00:26:21.600 --> 00:26:25.520\nAnd so, now we can see, and remember I\nsaid, we may have multiple zones that we\n\n588\n00:26:25.520 --> 00:26:28.370\nsign, and\nmultiple name spaces as a result of that.\n\n589\n00:26:28.370 --> 00:26:30.900\nWe could add these in one at a time,\nstack them up, and\n\n590\n00:26:30.900 --> 00:26:32.450\nwe'd see them all listed here in the NRPT.\n\n591\n00:26:32.450 --> 00:26:36.310\nAnd we could have one policy that could\napply for multiple zones to a client,\n\n592\n00:26:36.310 --> 00:26:39.330\nor we could have different policies,\nit'd be up to us to decide how to do that.\n\n593\n00:26:39.330 --> 00:26:40.830\nBut we could stack them all up in here and\n\n594\n00:26:40.830 --> 00:26:43.490\nmanage them individually\nseparate policies.\n\n595\n00:26:43.490 --> 00:26:47.190\nMay or may not be a good reason to\ndo that normally we'd like to see\n\n596\n00:26:47.190 --> 00:26:49.990\nnormally like to see multiple zones\nstacked up here it's easier to one policy,\n\n597\n00:26:49.990 --> 00:26:53.350\nbut we may have a reason to assign\ncertain polices to certain clients.\n\n598\n00:26:53.350 --> 00:26:55.770\nWe may want to segment those out and\nwe could do that as well.\n\n599\n00:26:55.770 --> 00:26:59.380\nSo, maximum flexibility right up\nto us to decide how to do that.\n\n600\n00:26:59.380 --> 00:27:04.430\nAlright, so we've got that essentially now\nall we need to do here Is just go in and\n\n601\n00:27:04.430 --> 00:27:06.210\nexit out of the group policy editor.\n\n602\n00:27:06.210 --> 00:27:08.080\nJust go back to full screen if you could.\n\n603\n00:27:08.080 --> 00:27:12.060\nAlso always wanna make sure we apply just\nto make sure everything is good in there.\n\n604\n00:27:12.060 --> 00:27:14.880\nGood old apply to make sure\nour changes are written back,\n\n605\n00:27:14.880 --> 00:27:16.390\nalways a good habit to get into.\n\n606\n00:27:16.390 --> 00:27:20.370\nWe're gonna close out the GPM,\nGP management editor and\n\n607\n00:27:20.370 --> 00:27:23.720\nwe'll save our policy, remember we\ndon't have to make changes there.\n\n608\n00:27:23.720 --> 00:27:24.670\nOr rather we don't have to save.\n\n609\n00:27:24.670 --> 00:27:26.890\nWe just simply close out and\nit saves on our behalf.\n\n610\n00:27:26.890 --> 00:27:31.020\nWe do have our DNS sect policy implied\nthere and now clients that log in, and\n\n611\n00:27:31.020 --> 00:27:34.530\njust pull down group policy,\nnormally will have this overlayed on top.\n\n612\n00:27:34.530 --> 00:27:36.610\nAnd as a result.\nSo, whenever they go to use the zone,\n\n613\n00:27:36.610 --> 00:27:40.550\nthey'll be told, hey, use the intersect to\nvalidate it and those settings will apply.\n\n614\n00:27:40.550 --> 00:27:43.850\nAnd, so now that's how we'll actually\ntake DNS, SAC will apply it.\n\n615\n00:27:43.850 --> 00:27:44.560\nWe've configured it.\n\n616\n00:27:44.560 --> 00:27:46.450\nThis is how we actually\nnow apply the changes and\n\n617\n00:27:46.450 --> 00:27:47.700\nwith a group of policies, manage the.\n\n618\n00:27:47.700 --> 00:27:51.140\nTo any and\nall clients that are using the zone.\n\n619\n00:27:51.140 --> 00:27:53.930\nAny and all Microsoft specific clients,\nI should say, cuz clearly,\n\n620\n00:27:53.930 --> 00:27:56.500\ngroup policy focused on\nMicrosoft only clients.\n\n621\n00:27:56.500 --> 00:27:59.670\nWe have non-Microsoft clients that are not\ngonna be able to leverage that policy to\n\n622\n00:27:59.670 --> 00:28:01.940\nuse DNS Just to be clear.\n\n623\n00:28:01.940 --> 00:28:04.930\n&gt;&gt; Yeah, and it's a pretty cool way\nwhere we can actually think about that\n\n624\n00:28:04.930 --> 00:28:07.530\nsensitive information because a DNS,\n\n625\n00:28:07.530 --> 00:28:12.430\nit does contain a lot of information\nthat could be used in malicious ways.\n\n626\n00:28:12.430 --> 00:28:15.519\nSo, that's one way we can go ahead and\nput it on lockdown,\n\n627\n00:28:15.519 --> 00:28:19.001\nutilize DNSSEC to make sure our\ninformation is protected there.\n\n628\n00:28:19.001 --> 00:28:20.887\nSo thank you for showing that to us Adam,\n\n629\n00:28:20.887 --> 00:28:23.457\ndo you have any final\nthoughts do you like to add?\n\n630\n00:28:23.457 --> 00:28:25.391\n&gt;&gt; Gonna show you if we go back\nto the interface one second.\n\n631\n00:28:25.391 --> 00:28:28.801\nA lot of times we overlook some of the\nsubtle but important additional features\n\n632\n00:28:28.801 --> 00:28:31.190\nthat are available to us\nthis management interfaces.\n\n633\n00:28:31.190 --> 00:28:33.351\nIn the group policy management editor.\n\n634\n00:28:33.351 --> 00:28:35.730\nI happen to like this feature a lot\nwhich is why I talk about it.\n\n635\n00:28:35.730 --> 00:28:37.370\nYou may or\nmay not have seen it before I don't know.\n\n636\n00:28:37.370 --> 00:28:39.080\nBut, I thought it'd be worth\njust throwing it in there\n\n637\n00:28:39.080 --> 00:28:40.580\nat the end of our conversation.\n\n638\n00:28:40.580 --> 00:28:42.680\nA lot of times I get asked by customers,\nI get asked by students.\n\n639\n00:28:42.680 --> 00:28:45.400\nHey you did all this stuff,\nyou got this policy.\n\n640\n00:28:45.400 --> 00:28:47.572\nThere may be more than one policy,\noften times there are right?\n\n641\n00:28:47.572 --> 00:28:50.439\nCuz you notice we did not edit\nthe default domain policy.\n\n642\n00:28:50.439 --> 00:28:51.760\nWe actually created a separate one.\n\n643\n00:28:51.760 --> 00:28:53.330\nSo yeah, there may be several policies.\n\n644\n00:28:53.330 --> 00:28:55.220\nAnd you could see them\nstacked up right here.\n\n645\n00:28:55.220 --> 00:28:56.660\nHey how do I know what that policy does?\n\n646\n00:28:56.660 --> 00:28:57.880\nHow do I know it's being applied?\n\n647\n00:28:57.880 --> 00:28:59.420\nHow do I know what those settings are?\n\n648\n00:28:59.420 --> 00:29:00.900\nWell, there's a couple of\ndifferent ways we could do this.\n\n649\n00:29:00.900 --> 00:29:03.380\nWe do have this nice little\nsettings feature right here.\n\n650\n00:29:03.380 --> 00:29:07.210\nI am on the editable\nproperties of the policy.\n\n651\n00:29:07.210 --> 00:29:08.900\nAnd we were just there\na minute ago on scope.\n\n652\n00:29:08.900 --> 00:29:10.240\nBut I just went to settings.\n\n653\n00:29:10.240 --> 00:29:11.120\nYou may get a prompt for\n\n654\n00:29:11.120 --> 00:29:16.050\nIE the first time you do this if you\nhave IE security enhanced enabled.\n\n655\n00:29:16.050 --> 00:29:18.380\nJust click add to the zone,\nand it'll pop right in.\n\n656\n00:29:18.380 --> 00:29:21.200\nBut we could see the resulting\nset of policies,\n\n657\n00:29:21.200 --> 00:29:23.670\nthe RSOP settings right\nhere in the console.\n\n658\n00:29:23.670 --> 00:29:26.800\nIt's one of the really brilliant things\nMicrosoft did a few generations back.\n\n659\n00:29:26.800 --> 00:29:30.490\nWe've had the command line tool\nRSOP resultant set of policy,\n\n660\n00:29:30.490 --> 00:29:32.690\nthat we could run and\nget a policy reading and\n\n661\n00:29:32.690 --> 00:29:35.210\na list of all the policy settings\nfrom the command line for awhile.\n\n662\n00:29:35.210 --> 00:29:37.330\nBut they integrated that here so\nthat we could see it.\n\n663\n00:29:37.330 --> 00:29:40.560\nAnd we also have group policy results,\nso we could see it down here.\n\n664\n00:29:40.560 --> 00:29:41.110\nAnd modeling.\n\n665\n00:29:41.110 --> 00:29:43.990\nWe could do essentially a what if\nscenario, looking at what the policy\n\n666\n00:29:43.990 --> 00:29:47.220\napplication would be, how it would\nplay out and what those settings are.\n\n667\n00:29:47.220 --> 00:29:49.620\nWe have a lot of different\noptions in this console.\n\n668\n00:29:49.620 --> 00:29:52.880\nIt's very feature rich, and I find people\ndon't often spend enough time in here\n\n669\n00:29:52.880 --> 00:29:54.470\nreally understanding\nwhat you can do with it.\n\n670\n00:29:54.470 --> 00:29:56.740\nWe're not focused on group\npolicy in this conversation.\n\n671\n00:29:56.740 --> 00:29:58.950\nWhole separate set of discussions and\nskills.\n\n672\n00:29:58.950 --> 00:30:00.560\nBut I'm just throwing out\na little help for you.\n\n673\n00:30:00.560 --> 00:30:02.580\nA little lifeline about\nhow to use GPM here, and\n\n674\n00:30:02.580 --> 00:30:05.390\nhow to make sure you're taking\nfull advantage of these settings,\n\n675\n00:30:05.390 --> 00:30:07.250\neven though we're not\ndirectly talking about them.\n\n676\n00:30:07.250 --> 00:30:09.870\nIt would be good for you to go ahead and\nsee that under the DNS Sect setting,\n\n677\n00:30:09.870 --> 00:30:13.840\nif we just do show all, we actually\nhave all the settings right here.\n\n678\n00:30:13.840 --> 00:30:16.120\nIt gives us information about what we did.\n\n679\n00:30:16.120 --> 00:30:20.170\nI'm thinking about putting on my security,\nmy auditor hat right now, right?\n\n680\n00:30:20.170 --> 00:30:23.420\nI love when clients show\nme this documentation.\n\n681\n00:30:23.420 --> 00:30:25.940\nThey print this out or open this for\nme when I'm doing an audit, and\n\n682\n00:30:25.940 --> 00:30:27.420\nsay hey, these are our settings.\n\n683\n00:30:27.420 --> 00:30:28.630\nThis is what's supplied.\n\n684\n00:30:28.630 --> 00:30:29.600\nI can't argue with that.\n\n685\n00:30:29.600 --> 00:30:31.230\nI can verify that very easily.\n\n686\n00:30:31.230 --> 00:30:35.370\nThat's authoritative It will proof or\nvalidation for\n\n687\n00:30:35.370 --> 00:30:37.680\nme that you're doing something or\nnot doing something.\n\n688\n00:30:37.680 --> 00:30:40.040\nThere's so many reasons why\nthis interface makes sense.\n\n689\n00:30:40.040 --> 00:30:42.920\nSo, many reasons why this\nwill be a good idea to use so\n\n690\n00:30:42.920 --> 00:30:44.170\nI wanna make sure you see it.\n\n691\n00:30:44.170 --> 00:30:47.600\nYou could see the value of it as we're\nclosing our conversation about DNSSEC here\n\n692\n00:30:47.600 --> 00:30:49.720\nand you can see how easy it is to use.\n\n693\n00:30:49.720 --> 00:30:53.200\nAll I did was click on it, show all,\nscreen capture that Export that,\n\n694\n00:30:53.200 --> 00:30:56.100\ntake a copy of it,\nthrow it in your documentation.\n\n695\n00:30:56.100 --> 00:30:57.840\nNow, you've got a record of what you did.\n\n696\n00:30:57.840 --> 00:31:00.440\nIn a BCVR event,\nyou gotta restore these policies,\n\n697\n00:31:00.440 --> 00:31:03.620\nhopefully you've backed them up and you\ncan obviously do that by exporting them.\n\n698\n00:31:03.620 --> 00:31:06.540\nBut, you also have an authoritative\nprint record of what was there.\n\n699\n00:31:06.540 --> 00:31:09.300\nSo even, if you have to reproduce\nthem from scratch, you go back and\n\n700\n00:31:09.300 --> 00:31:10.870\ndo that here as well if you need to.\n\n701\n00:31:10.870 --> 00:31:12.800\nSo, many good things\ncome out of these tools.\n\n702\n00:31:12.800 --> 00:31:14.540\nAnd yet,\nwe often just skim over the surface and\n\n703\n00:31:14.540 --> 00:31:15.920\ndon't necessarily see\nwhat's going on there.\n\n704\n00:31:15.920 --> 00:31:18.840\nSo, it may be worth a deeper dive\nsometime, so just take a look and see.\n\n705\n00:31:18.840 --> 00:31:19.470\n&gt;&gt; Pretty cool.\n\n706\n00:31:19.470 --> 00:31:22.290\nAnd not only if just for\nthat documentation purpose, but\n\n707\n00:31:22.290 --> 00:31:25.240\nlike you said,\nto show some kind of due diligence there,\n\n708\n00:31:25.240 --> 00:31:28.220\nthat you're taking\nthe attempt to go ahead.\n\n709\n00:31:28.220 --> 00:31:29.470\nYeah.\nSo, thank you Adam.\n\n710\n00:31:29.470 --> 00:31:31.740\nAnd thank you for\nbeing with us today as well.\n\n711\n00:31:31.740 --> 00:31:36.000\nI think that about rounds\nout our seven episode\n\n712\n00:31:36.000 --> 00:31:38.460\nmini series that we had going on here\n&gt;&gt; Well, just for\n\n713\n00:31:38.460 --> 00:31:42.600\nthe first to remember we\nhave a three what we call a.\n\n714\n00:31:42.600 --> 00:31:45.710\nRight we have three parts to\nour advance network services.\n\n715\n00:31:45.710 --> 00:31:48.430\nWe've done DHCP we've done DNS but\nwe're still missing IPAM.\n\n716\n00:31:48.430 --> 00:31:49.456\nWe've still got more to go.\n\n717\n00:31:49.456 --> 00:31:50.140\n&gt;&gt; You're right.\n\n718\n00:31:50.140 --> 00:31:53.000\nOkay so, scratch that, come back.\n\n719\n00:31:53.000 --> 00:31:56.310\nWe have additional sows to go ahead and\nadd to this.\n\n720\n00:31:56.310 --> 00:31:57.610\nSo,\n&gt;&gt; We do.\n\n721\n00:31:57.610 --> 00:31:59.229\n&gt;&gt; But, we're gonna sign out for\nthis episode.\n\n722\n00:31:59.229 --> 00:32:01.700\nRemember I'm our host, Cherokee Boose.\n\n723\n00:32:01.700 --> 00:32:02.412\n&gt;&gt; I'm Adam Gordon.\n\n724\n00:32:02.412 --> 00:32:05.812\n&gt;&gt; See you next time here at ITProTV.\n\n725\n00:32:05.812 --> 00:32:11.774\n[MUSIC]\n\n726\n00:32:11.774 --> 00:32:15.473\nThank you for watching ITProTV.\n\n",
          "vimeoId": "224329647"
        },
        {
          "description": "In this episode, Adam and Cherokee introduce IP Address Management (IPAM). Adam explains how IPAM enables the administration and monitoring of DHCP and DNS, and provides a comprehensive view of where IP addresses are used. He provides useful information for the planning of setting up an IPAM server which they will do in the next episode.",
          "length": "1265",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-8-advances_network_services_pt8-0602817-PGM.00_00_13_17.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-8-advances_network_services_pt8-0602817-PGM.00_00_13_17.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-8-advances_network_services_pt8-0602817-PGM.00_00_13_17.Still001-sm.jpg",
          "title": "Advanced Network Services Part 8",
          "transcript": "WEBVTT\n\n1\n00:00:00.178 --> 00:00:00.898\nWelcome to ITProTV.\n\n2\n00:00:00.898 --> 00:00:01.807\nI'm your host Don Pezet.\n\n3\n00:00:01.807 --> 00:00:05.801\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:05.801 --> 00:00:08.240\n[MUSIC]\n\n5\n00:00:08.240 --> 00:00:11.893\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.893 --> 00:00:14.961\n&gt;&gt; Welcome to your MCSA 70-412 series.\n\n7\n00:00:14.961 --> 00:00:17.665\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.665 --> 00:00:22.485\nIn this episode, our part eight,\nwe're really gonna be focusing on IPAM.\n\n9\n00:00:22.485 --> 00:00:26.117\nAnd back in the studios with us\ntoday we have Mr. Adam Gordon.\n\n10\n00:00:26.117 --> 00:00:28.943\nAdam, how's it going?\n\n11\n00:00:28.943 --> 00:00:30.600\n&gt;&gt; Fair to middling,\nas they say, it's going well.\n\n12\n00:00:30.600 --> 00:00:32.441\n&gt;&gt; [LAUGH]\n&gt;&gt; We're two-thirds of the way through our\n\n13\n00:00:32.441 --> 00:00:33.002\nconversation.\n\n14\n00:00:33.002 --> 00:00:33.649\n&gt;&gt; And what the heck is IPAM?\n\n15\n00:00:33.649 --> 00:00:35.262\n&gt;&gt; What the heck is IPAM?\n\n16\n00:00:35.262 --> 00:00:38.027\nWell, IPAM, IP address management\nis what IPAM stands for.\n\n17\n00:00:38.027 --> 00:00:39.952\nWe're gonna take a look\nat that in a minute.\n\n18\n00:00:39.952 --> 00:00:45.682\nAn interesting concept, automated\nmanagement through Windows Server of\n\n19\n00:00:45.682 --> 00:00:49.242\nIP addressing for DNS and\nDHCP servers, among others.\n\n20\n00:00:49.242 --> 00:00:52.490\nAnd aggregation of information\naround the monitoring,\n\n21\n00:00:52.490 --> 00:00:56.000\nthe configuration, and\nthe maintenance of DHCP and DNS,\n\n22\n00:00:56.000 --> 00:01:00.420\ncomprehensive all up heads up view of our\nIP addresses, what's going on with them,\n\n23\n00:01:00.420 --> 00:01:04.475\nwhat's being leased, what's being used,\nwhat's being reclaimed, things like that.\n\n24\n00:01:04.475 --> 00:01:08.217\nThink of it as being central dashboard\nbased, heads up management from the server\n\n25\n00:01:08.217 --> 00:01:10.784\nmanager, right, and\nthat's essentially what it is.\n\n26\n00:01:10.784 --> 00:01:13.634\nIt's a feature that we install on\na Windows Server, and then we go out and\n\n27\n00:01:13.634 --> 00:01:14.263\nwe provision.\n\n28\n00:01:14.263 --> 00:01:17.110\nWe're gonna walk through the steps, how to\nset all that up, just so you can see it.\n\n29\n00:01:17.110 --> 00:01:21.476\nI thought we'd start out, just real quick,\nwith going backwards in time for a minute,\n\n30\n00:01:21.476 --> 00:01:22.665\nto the DNS discussion.\n\n31\n00:01:22.665 --> 00:01:27.918\nI forgot to throw up the PowerShell\nmodule on the Windows website for you.\n\n32\n00:01:27.918 --> 00:01:29.165\nI'm tripping over my tongue here.\n\n33\n00:01:29.165 --> 00:01:32.080\n[LAUGH] Bring my screen up if\nyou would for just a second.\n\n34\n00:01:32.080 --> 00:01:34.864\nAlways like to show you those\nPowerShell command references.\n\n35\n00:01:34.864 --> 00:01:37.500\nAll we have here is just\nsimply the ones for DNS.\n\n36\n00:01:37.500 --> 00:01:39.220\nNow I'm gonna show you a trick.\n\n37\n00:01:39.220 --> 00:01:41.600\nCan we go full screen for\na second just so I could show you this?\n\n38\n00:01:41.600 --> 00:01:46.090\nSo we did the DHCP one and\ngave you this in the show notes.\n\n39\n00:01:46.090 --> 00:01:49.640\nAnd all I did to get to DNS, and\nall you have to do by the way, you could\n\n40\n00:01:49.640 --> 00:01:53.670\nobviously search, you could browse, etc.,\nbut all you need to do is simply go in.\n\n41\n00:01:53.670 --> 00:02:00.490\nAnd all I did was go back here, and for\nDHCP I just typed in, it said DHCP here.\n\n42\n00:02:00.490 --> 00:02:07.700\nAnd you could see when I do that\nit has DHCP and DHCP right here.\n\n43\n00:02:07.700 --> 00:02:11.000\nAnd when I do that,\nI get the DHCP one that will come up and\n\n44\n00:02:11.000 --> 00:02:12.500\nresolve in just a second.\n\n45\n00:02:12.500 --> 00:02:16.161\nAnd all I did was just simply swap out\nDHCP for DNS both here and here, and\n\n46\n00:02:16.161 --> 00:02:17.457\nI got the DNS server one.\n\n47\n00:02:17.457 --> 00:02:19.989\nSo if you wanna move around and\ncheck these out and see them,\n\n48\n00:02:19.989 --> 00:02:21.670\nyou don't always have to have the URL.\n\n49\n00:02:21.670 --> 00:02:24.950\nJust manipulate the URL,\nknow what it is you're looking for, and\n\n50\n00:02:24.950 --> 00:02:26.250\nyou could do that with no trouble.\n\n51\n00:02:26.250 --> 00:02:27.908\nJust a little hint for you.\n\n52\n00:02:27.908 --> 00:02:30.542\nObviously, we'll give you\nthose URLs in the show notes,\n\n53\n00:02:30.542 --> 00:02:32.274\nmake sure they're available to you.\n\n54\n00:02:32.274 --> 00:02:33.979\nDon't want you think that we won't.\n\n55\n00:02:33.979 --> 00:02:37.663\nBut since we're here, before we move\noff this one, let me just go ahead and\n\n56\n00:02:37.663 --> 00:02:41.597\nput the IPAM one up, since that's what\nwe're going to take a look at right now.\n\n57\n00:02:41.597 --> 00:02:45.947\nAnd to do that,\nall I would do is instead of DHCP or\n\n58\n00:02:45.947 --> 00:02:49.035\nDNS server, I would just do IPAM.\n\n59\n00:02:49.035 --> 00:02:49.821\nJust the little trick I was showing you.\n\n60\n00:02:49.821 --> 00:02:54.950\nAnd when we do that right here,\nwe'll get the IPAM on.\n\n61\n00:02:54.950 --> 00:02:59.222\nIPAM Server, IPAM Server, and\nthere's the PowerShell modules for IPAM.\n\n62\n00:02:59.222 --> 00:03:02.097\nSo just showing you how we\ncan navigate back and forth,\n\n63\n00:03:02.097 --> 00:03:05.110\nget all that information, and\nobviously be aware of it.\n\n64\n00:03:05.110 --> 00:03:09.366\nSo now that I've shown you how we can\nactually bring up the PowerShell command.\n\n65\n00:03:09.366 --> 00:03:10.973\nAnd so\nwe're gonna take a look some of them, but\n\n66\n00:03:10.973 --> 00:03:14.900\nwe're gonna do most of our configuration\nhere inside the Server Manager.\n\n67\n00:03:14.900 --> 00:03:18.800\nBut everything we do can actually be done\nright from PowerShell as you can see\n\n68\n00:03:18.800 --> 00:03:19.710\nas I'm scrolling down.\n\n69\n00:03:19.710 --> 00:03:23.337\nWe've got quite a number of PowerShell\ncmdlets here specific to IPAM.\n\n70\n00:03:23.337 --> 00:03:26.856\nIt'd be a good idea for you to check\nthose out at some point, take a look,\n\n71\n00:03:26.856 --> 00:03:28.030\nsee what they are.\n\n72\n00:03:28.030 --> 00:03:31.073\nWe do have the ability to navigate right\nover here and just take a look as well.\n\n73\n00:03:31.073 --> 00:03:33.780\nI often wonder,\ndoes anybody actually say no?\n\n74\n00:03:33.780 --> 00:03:34.935\nIs this page helpful?\nLike do people take the time to do that?\n\n75\n00:03:34.935 --> 00:03:36.742\n&gt;&gt; I always feel like I'm doing\nsome good when I hit yes.\n\n76\n00:03:36.742 --> 00:03:37.957\nI'm like yeah, yeah.\n\n77\n00:03:37.957 --> 00:03:38.947\n&gt;&gt; But does anybody really pay attention?\n\n78\n00:03:38.947 --> 00:03:42.493\nIs there somebody at Microsoft that goes\nyay, Cherokee thought it was useful.\n\n79\n00:03:42.493 --> 00:03:44.145\n&gt;&gt; I don't know.\nSometimes when I get really aggravated,\n\n80\n00:03:44.145 --> 00:03:44.679\nI hit no, though.\n\n81\n00:03:44.679 --> 00:03:46.452\n&gt;&gt; No, I can tell you,\nthere's nobody there.\n\n82\n00:03:46.452 --> 00:03:50.690\nThere's just a computer that goes,\nyeah, okay, we don't care, right?\n\n83\n00:03:50.690 --> 00:03:52.055\nSo nobody pays attention to that stuff.\n\n84\n00:03:52.055 --> 00:03:56.313\n&gt;&gt; Well, if you look at who creates the\npage, maybe it goes towards their profile\n\n85\n00:03:56.313 --> 00:03:59.679\nstatus for the articles that\nthey've written or something?\n\n86\n00:03:59.679 --> 00:04:01.165\nI don't know,\nmaybe they get graded on that.\n\n87\n00:04:01.165 --> 00:04:04.006\n&gt;&gt; I think actually,\nI'm not being 100% transparent.\n\n88\n00:04:04.006 --> 00:04:06.328\nThere is something that\npays attention to that.\n\n89\n00:04:06.328 --> 00:04:08.855\nIt is an automated service that\ncollects that survey information.\n\n90\n00:04:08.855 --> 00:04:12.358\nBut it is used, then goes back to\nthe UI design teams about whether or\n\n91\n00:04:12.358 --> 00:04:15.012\nnot the page is easy to navigate,\nstuff like that.\n\n92\n00:04:15.012 --> 00:04:17.890\nSo Microsoft actually\ndoes use that feedback.\n\n93\n00:04:17.890 --> 00:04:19.490\nI'm not trying to be facetious about it,\nbut\n\n94\n00:04:19.490 --> 00:04:21.479\nit's not a human being that\nactually gets the yes or no.\n\n95\n00:04:21.479 --> 00:04:23.890\n&gt;&gt; [LAUGH]\n&gt;&gt; She's aggravated by a computer.\n\n96\n00:04:23.890 --> 00:04:26.733\nThere's nobody sitting in an office going,\ncome on, one more yes,\n\n97\n00:04:26.733 --> 00:04:27.772\nI get to go home, right?\n\n98\n00:04:27.772 --> 00:04:28.658\n&gt;&gt; [LAUGH]\n&gt;&gt; It's not like that.\n\n99\n00:04:28.658 --> 00:04:30.372\nWe just have computers that\nkeep track of all that stuff.\n\n100\n00:04:30.372 --> 00:04:32.207\n&gt;&gt; One more show, Adam, come on.\n\n101\n00:04:32.207 --> 00:04:35.710\n&gt;&gt; One more human says it's good and\nI'm validated.\n\n102\n00:04:35.710 --> 00:04:38.427\nYay, all right, so let's talk about IPAM.\n\n103\n00:04:38.427 --> 00:04:42.133\nSo I did give you this quick idea of what\nit is when you asked Cherokee what is it,\n\n104\n00:04:42.133 --> 00:04:42.930\nwhat does it do?\n\n105\n00:04:42.930 --> 00:04:45.484\nWhat I left out is that we store all this\ninformation in what's known as the WID.\n\n106\n00:04:45.484 --> 00:04:48.767\nYou often talk about the WIM and\nthe WMI and all that other crazy W stuff,\n\n107\n00:04:48.767 --> 00:04:51.450\nyou left out the WID,\nthe Windows Internal Database, and\n\n108\n00:04:51.450 --> 00:04:53.230\nthat's where we store all this data.\n\n109\n00:04:53.230 --> 00:04:56.152\nThis is a massive amount of data that\nwe're gonna gather, accumulate, and\n\n110\n00:04:56.152 --> 00:04:58.858\nuse as we start walking through IPAM,\nhow it works, how it's set up.\n\n111\n00:04:58.858 --> 00:05:02.454\nWe're gonna be doing that in the wizard\nhere, as you can see, step-by-step.\n\n112\n00:05:02.454 --> 00:05:05.888\nI like the interface, cuz unlike some\nof the things we've done in DNS DHCP,\n\n113\n00:05:05.888 --> 00:05:09.644\nwhere you have to really understand what's\ngoing on and kind of come up with a plan,\n\n114\n00:05:09.644 --> 00:05:12.775\nand navigate through it on your own,\npretty straightforward here.\n\n115\n00:05:12.775 --> 00:05:16.629\nWe've got step-by-step guidance we can\nonly provision at the beginning, and\n\n116\n00:05:16.629 --> 00:05:18.770\nwe can't figure until we provision.\n\n117\n00:05:18.770 --> 00:05:19.433\nSo it's pretty regimented.\n\n118\n00:05:19.433 --> 00:05:21.870\nSo I actually like the way\nthis is presented.\n\n119\n00:05:21.870 --> 00:05:22.677\nWe're gonna go through here.\n\n120\n00:05:22.677 --> 00:05:27.544\nBut IPAM stores all this data inside\nthe Windows internal database of the local\n\n121\n00:05:27.544 --> 00:05:31.082\ndatabase we created used in\nthis case on this server, but\n\n122\n00:05:31.082 --> 00:05:33.980\nin whatever server we\nare setting this up on.\n\n123\n00:05:33.980 --> 00:05:38.132\nSo this is gonna backend with\na database like many of our systems do.\n\n124\n00:05:38.132 --> 00:05:41.714\nDHCP DNS do use databases, or\nat least areas to store their data, and so\n\n125\n00:05:41.714 --> 00:05:44.357\nwe just wanna make sure\nwe're aware of that as well.\n\n126\n00:05:44.357 --> 00:05:47.378\nSo some characteristics of IPAM,\njust before we get started,\n\n127\n00:05:47.378 --> 00:05:48.690\nsome things to be aware of.\n\n128\n00:05:48.690 --> 00:05:49.459\nI have some notes here.\n\n129\n00:05:49.459 --> 00:05:52.215\nA lot of information to give you\ninstead of rattling it all off,\n\n130\n00:05:52.215 --> 00:05:55.180\nI thought I'd put it into list form for\nyou, and just put it up here.\n\n131\n00:05:55.180 --> 00:05:57.416\nIf we can go full screen,\njust to show you what this is.\n\n132\n00:05:57.416 --> 00:06:01.338\nSo some things you wanna be aware of,\nnumbers, facts, figures,\n\n133\n00:06:01.338 --> 00:06:03.920\ntestable material as we often say.\n\n134\n00:06:03.920 --> 00:06:08.390\nRemember, we are talking about IPAM\non Server 12 12R2 in this particular\n\n135\n00:06:08.390 --> 00:06:09.211\ndiscussion.\n\n136\n00:06:09.211 --> 00:06:13.076\nIf you've seen the MCSA shows Cherokee and\nI have done on Server 16,\n\n137\n00:06:13.076 --> 00:06:16.695\nessentially this material, but\nfast forward into Server 16.\n\n138\n00:06:16.695 --> 00:06:18.538\nWe will have talked about IPAM.\n\n139\n00:06:18.538 --> 00:06:22.841\nThose numbers have changed a little bit\non Server 16, but you're being tested on,\n\n140\n00:06:22.841 --> 00:06:26.905\nassuming you're doing the MCSC for 12,\nyou're gonna be tested on the 12 and\n\n141\n00:06:26.905 --> 00:06:27.946\n12R2 settings.\n\n142\n00:06:27.946 --> 00:06:31.935\nSo do make sure that you're referencing\nthis information specifically.\n\n143\n00:06:31.935 --> 00:06:35.585\nBut you can see we support\nup to 150 DHCP servers and\n\n144\n00:06:35.585 --> 00:06:38.850\nup to 500 DNS servers per IPAM Server.\n\n145\n00:06:38.850 --> 00:06:41.203\nQuite a number of servers,\nif you think about the logic.\n\n146\n00:06:41.203 --> 00:06:46.201\nYou'd have to be a pretty big organization\nto have those kinds of server numbers\n\n147\n00:06:46.201 --> 00:06:48.670\nrunning inside your infrastructure.\n\n148\n00:06:48.670 --> 00:06:49.588\n&gt;&gt; 150 DHCP servers.\n&gt;&gt; That's a lot, right?\n\n149\n00:06:49.588 --> 00:06:52.006\n&gt;&gt; Yeah.\n&gt;&gt; That doesn't sound like a small amount,\n\n150\n00:06:52.006 --> 00:06:52.780\nand it's not.\n\n151\n00:06:52.780 --> 00:06:56.779\nThat is a pretty big number, even for\na midsize company that's a big number.\n\n152\n00:06:56.779 --> 00:07:01.135\nI have a lot of clients that are running\ninfrastructure that that is the case, and\n\n153\n00:07:01.135 --> 00:07:02.620\nthey have more than those.\n\n154\n00:07:02.620 --> 00:07:05.221\nBut for every one of those I have,\nI have 10, 20, 30,\n\n155\n00:07:05.221 --> 00:07:08.040\n100 clients that are not running\ninfrastructure that large.\n\n156\n00:07:08.040 --> 00:07:11.360\nI mean, you gotta be a pretty\nbig company to do that.\n\n157\n00:07:11.360 --> 00:07:17.170\nOne IPAM service reports up to 6,000\nDCHP scopes and 150 DNS zones, right?\n\n158\n00:07:17.170 --> 00:07:18.539\nSo again, a fairly large number.\n\n159\n00:07:18.539 --> 00:07:23.422\n150 DHCP servers with multiple scopes,\nup to 6000, right?\n\n160\n00:07:23.422 --> 00:07:25.640\nSo you wanna keep that in mind.\n\n161\n00:07:25.640 --> 00:07:28.220\nWe do store up to three\nyears of forensics data.\n\n162\n00:07:28.220 --> 00:07:31.610\nWhen we say forensics data, we mean\ndata captured, gathered, managed and\n\n163\n00:07:31.610 --> 00:07:34.760\nmaintained from the servers that\nwe are monitoring with IPAM.\n\n164\n00:07:34.760 --> 00:07:38.150\nAddress leases, MAC addresses for\nthe host, user logon and\n\n165\n00:07:38.150 --> 00:07:41.674\nlogoff information for\n100,000 users within the WID,\n\n166\n00:07:41.674 --> 00:07:45.346\nthe Windows Internal Database,\nwhen we're using Server 12.\n\n167\n00:07:45.346 --> 00:07:50.049\nStarting with 12R2, we have the option to\nopt out to an external SQL database as\n\n168\n00:07:50.049 --> 00:07:52.038\nopposed to just the internal WID.\n\n169\n00:07:52.038 --> 00:07:55.801\nWe see this in Server 16 where we can\nopt out to the external SQL database,\n\n170\n00:07:55.801 --> 00:07:59.060\ncuz that's now becoming more and\nmore the standard or the norm.\n\n171\n00:07:59.060 --> 00:08:00.825\nSo you do wanna make sure\nyou're aware of that.\n\n172\n00:08:00.825 --> 00:08:06.916\nHowever, and this is very important to\nnote, no database purge policy provided,\n\n173\n00:08:06.916 --> 00:08:10.980\nmeaning you must go in and\nmanually purge the data.\n\n174\n00:08:10.980 --> 00:08:14.110\nOtherwise, it's just gonna sit there and\nwe're not gonna get rid of it.\n\n175\n00:08:14.110 --> 00:08:15.130\nSo you do have to know that,\n\n176\n00:08:15.130 --> 00:08:19.300\nthat we do keep up to three years of\nthis data archived in the database.\n\n177\n00:08:19.300 --> 00:08:20.710\nBut we don't go in a cull the data,\n\n178\n00:08:20.710 --> 00:08:23.340\nyou must get rid of it manually,\njust to be aware of that.\n\n179\n00:08:23.340 --> 00:08:28.390\nAddress utilization trends and\nreclamation support only for IPv4.\n\n180\n00:08:28.390 --> 00:08:30.940\nWe don't provide data for IPv6 currently.\n\n181\n00:08:30.940 --> 00:08:33.020\nSo again,\njust make sure you're aware of that.\n\n182\n00:08:33.020 --> 00:08:37.760\nWe do not check for IP address consistency\non routing and switching interfaces.\n\n183\n00:08:37.760 --> 00:08:41.246\nOnly in the DHCP and DNS interfaces\ndo we look for conflicts and\n\n184\n00:08:41.246 --> 00:08:42.527\nvalidate that stuff.\n\n185\n00:08:42.527 --> 00:08:47.169\nSo although we may be able to provide\nadditional depth of usage information.\n\n186\n00:08:47.169 --> 00:08:48.820\nWe're not gonna look at routers and\n\n187\n00:08:48.820 --> 00:08:52.600\nunderstand what's going on with their\ninterfaces, their routing tables etc.\n\n188\n00:08:52.600 --> 00:08:54.932\nWe're simply just gonna note\nthat you have these devices but\n\n189\n00:08:54.932 --> 00:08:56.585\nwe're not gonna tell you much about them.\n\n190\n00:08:56.585 --> 00:09:00.746\nRBAC, role-based access control,\nwe've talked about this before, allows us,\n\n191\n00:09:00.746 --> 00:09:03.273\nas it does in all the other\nmanagement interfaces.\n\n192\n00:09:03.273 --> 00:09:07.040\nTo customize and to delegate role,\nand to access control.\n\n193\n00:09:07.040 --> 00:09:11.460\nSo using users, putting them in groups,\nand then assigning group-based policy or\n\n194\n00:09:11.460 --> 00:09:14.320\ngroup-based permissions is\nwhat we talk about with RBAC.\n\n195\n00:09:14.320 --> 00:09:16.361\nAnd then also virtual\naddress space management.\n\n196\n00:09:16.361 --> 00:09:19.152\nWe now have the capability to\nuse virtualized address spaces.\n\n197\n00:09:19.152 --> 00:09:21.751\nBecause we are supporting the use of,\namong others,\n\n198\n00:09:21.751 --> 00:09:23.790\nsystem center Virtual Machine Manager.\n\n199\n00:09:23.790 --> 00:09:28.647\nThat would be our, when I say our\nI mean Microsoft's product that\n\n200\n00:09:28.647 --> 00:09:32.440\ndoes the equivalent of vCenter and VMware.\n\n201\n00:09:32.440 --> 00:09:36.910\nSo that's the all up management solution\nfor all of our virtualized hosts and\n\n202\n00:09:36.910 --> 00:09:37.940\ninfrastructure.\n\n203\n00:09:37.940 --> 00:09:41.860\nOr our virtualization hosts and\nour guest OS infrastructure, our VMs.\n\n204\n00:09:41.860 --> 00:09:44.650\nSo integrating IPAM with\nVirtual Machine Manager\n\n205\n00:09:44.650 --> 00:09:47.230\nallows us to do end-to-end\naddress space management.\n\n206\n00:09:47.230 --> 00:09:48.872\nInto and across the virtualization and\n\n207\n00:09:48.872 --> 00:09:51.019\ncloud-based environments\nthat we may run today.\n\n208\n00:09:51.019 --> 00:09:53.890\nSo it's important for\nus to be aware of that and know that.\n\n209\n00:09:53.890 --> 00:09:58.708\nBecause, again, that is a relatively newer\nfeature in 12R2 going forward into 16.\n\n210\n00:09:58.708 --> 00:10:00.930\nWe did not always have that capability.\n\n211\n00:10:00.930 --> 00:10:05.067\nSo that is nod to and acknowledge of the\nfact that a lot of this infrastructure,\n\n212\n00:10:05.067 --> 00:10:08.590\nmore and more, is being virtualized and\nmanaged in those spaces.\n\n213\n00:10:08.590 --> 00:10:12.504\nAnd IPAM will be capable of doing that,\njust so we know, so just be aware of that.\n\n214\n00:10:12.504 --> 00:10:16.298\nHowever, IPAM is limited to address\nmanagement across one AD forest.\n\n215\n00:10:16.298 --> 00:10:18.808\nSo we can only manage\none forest at a time.\n\n216\n00:10:18.808 --> 00:10:22.140\nAs we deploy IPAM,\nwe deploy it within the forest and\n\n217\n00:10:22.140 --> 00:10:24.800\nthat IPAM solution manages that forest.\n\n218\n00:10:24.800 --> 00:10:28.290\nSo keep that in mind, we're not\nmanaging multi-forest deployments.\n\n219\n00:10:28.290 --> 00:10:29.620\nYou have multiple forests?\n\n220\n00:10:29.620 --> 00:10:32.910\nYou deploy multiple IPAM servers\nper forest, one or more, and\n\n221\n00:10:32.910 --> 00:10:35.380\nthen you manage in that particular forest.\n\n222\n00:10:35.380 --> 00:10:39.880\nSo if we had, let's say hypothetically,\n300 DHCP servers in a forest.\n\n223\n00:10:39.880 --> 00:10:43.040\nWe would need two IPAM servers\nin that forest to manage them.\n\n224\n00:10:43.040 --> 00:10:46.450\nBut if we had another hundred in\na separate forest, we'd need a third IPAM\n\n225\n00:10:46.450 --> 00:10:50.180\nserver in that separate forest to\nbe able to manage those servers.\n\n226\n00:10:50.180 --> 00:10:52.910\nSo wanna just understand\nthe logic of that, and\n\n227\n00:10:52.910 --> 00:10:54.980\nyou'll be aware of the fact\nthat that's the case.\n\n228\n00:10:54.980 --> 00:10:59.740\nWe also have four distinct modules\nthat make up the IPAM functionality.\n\n229\n00:10:59.740 --> 00:11:01.590\nYou could see them right here.\n\n230\n00:11:01.590 --> 00:11:05.440\nThe discovery module, we're gonna take a\nlook at these as we provision through and\n\n231\n00:11:05.440 --> 00:11:06.530\nwalk through the wizard.\n\n232\n00:11:06.530 --> 00:11:10.510\nThe address space management module,\nmulti-server management and monitoring,\n\n233\n00:11:10.510 --> 00:11:12.984\nand operational auditing and\nIP address tracking.\n\n234\n00:11:12.984 --> 00:11:17.101\nThese are the four distinct programmatic\nareas that provide functionality for\n\n235\n00:11:17.101 --> 00:11:17.905\nus with IPAMs.\n\n236\n00:11:17.905 --> 00:11:20.395\nSo you just wanna make sure\nyou have a note of that.\n\n237\n00:11:20.395 --> 00:11:23.205\nYou're thinking about the logic of\nthat and you have a sense of that.\n\n238\n00:11:23.205 --> 00:11:27.165\nWhen we talk about deployments for\nIPAM, as I said, forest-specfic,\n\n239\n00:11:27.165 --> 00:11:29.975\nbut we do have models, right,\ndifferent ways we can do this.\n\n240\n00:11:29.975 --> 00:11:32.025\nIf you wanna take a look on the screen,\nwe do have distributed,\n\n241\n00:11:32.025 --> 00:11:33.710\ncentralized and hybrid.\n\n242\n00:11:33.710 --> 00:11:37.220\nDistributed allows us to deploy an IPAM\nserver to every site in the forest.\n\n243\n00:11:37.220 --> 00:11:40.450\nI mentioned you could have more\nthan one IPAM server per forest to\n\n244\n00:11:40.450 --> 00:11:42.400\ndeal with number issues as well.\n\n245\n00:11:42.400 --> 00:11:45.790\nWe could decentralize one IPAM server for\nthe entire forest.\n\n246\n00:11:45.790 --> 00:11:48.562\nOr what we talk about is\ntypically a hybrid, right,\n\n247\n00:11:48.562 --> 00:11:51.770\nwhere we have a IPAM server\nthat is centrally managed.\n\n248\n00:11:51.770 --> 00:11:53.410\nBut then,\nwe all are centrally managing, rather.\n\n249\n00:11:53.410 --> 00:11:57.540\nBut we have localized IPAM servers\nper site reporting back up and\n\n250\n00:11:57.540 --> 00:11:59.050\nthen aggregating all of our data for us.\n\n251\n00:11:59.050 --> 00:12:02.930\nSo it's a question of the different models\nthat we would like to work with and use.\n\n252\n00:12:02.930 --> 00:12:06.280\nBut do note here, IPAM servers don't\ncommunicate with one another or\n\n253\n00:12:06.280 --> 00:12:08.180\nshare their database information.\n\n254\n00:12:08.180 --> 00:12:12.410\nIf you have multiple IPAM servers, you\nhave to customize each directory scope.\n\n255\n00:12:12.410 --> 00:12:13.490\nEach coverage area for\n\n256\n00:12:13.490 --> 00:12:17.090\nthat IPAM server, specific to\nthe infrastructure that it's gonna manage.\n\n257\n00:12:17.090 --> 00:12:19.620\nBecause we do not actually\nshare information,\n\n258\n00:12:19.620 --> 00:12:22.200\neven though we may have multiple\nIPAM servers in the forest.\n\n259\n00:12:22.200 --> 00:12:25.230\nThey're essentially standalone objects\nthat don't communicate with each other.\n\n260\n00:12:25.230 --> 00:12:26.750\nSo that is important for\nyou to be aware of and\n\n261\n00:12:26.750 --> 00:12:30.240\njust have some information in your head or\nthink about.\n\n262\n00:12:30.240 --> 00:12:33.890\nAnd when we get into IPAM configuration,\nwe have a couple of options here.\n\n263\n00:12:33.890 --> 00:12:39.400\nWe can configure IPAM and provision the\nservers to allow for remote management.\n\n264\n00:12:39.400 --> 00:12:40.810\nWe often will do that.\n\n265\n00:12:40.810 --> 00:12:43.145\nWe can manage it either manually or\nthrough Group Policy.\n\n266\n00:12:43.145 --> 00:12:47.375\nI'm going to show you essentially how to\nstand up and provision the IPAM server.\n\n267\n00:12:47.375 --> 00:12:51.325\nBut if we do this manually, we do have to\ncreate all the required network shares,\n\n268\n00:12:51.325 --> 00:12:54.285\ngroups, firewall rules, etc,\nthat are gonna be required.\n\n269\n00:12:54.285 --> 00:12:56.452\nI have a little document\nI'm gonna show you here.\n\n270\n00:12:56.452 --> 00:12:58.692\nIt's in the show notes, just so\nyou know what the name is.\n\n271\n00:12:58.692 --> 00:12:59.762\nCherokee's got a copy of it.\n\n272\n00:12:59.762 --> 00:13:02.180\nShe's gonna make sure we post\nit as part of the show notes.\n\n273\n00:13:02.180 --> 00:13:05.354\nI'm gonna show you what the settings\nare that you would have to create\n\n274\n00:13:05.354 --> 00:13:08.002\nmanually if you're gonna\nstand up IPAM on your own.\n\n275\n00:13:08.002 --> 00:13:11.412\nAs opposed to going through and\nprovisioning and having it done for you.\n\n276\n00:13:11.412 --> 00:13:16.023\nIf we do choose to do the IPAM\nprovisioning in an automated way,\n\n277\n00:13:16.023 --> 00:13:20.212\nthe Invoke-IpamGpoProvisioning PowerShell\ncmdlet.\n\n278\n00:13:20.212 --> 00:13:24.561\nAs you can see there, you run this\ncommand and it will then produce 3 GPOs,\n\n279\n00:13:24.561 --> 00:13:25.814\nthey are noted here.\n\n280\n00:13:25.814 --> 00:13:30.470\nSo you'll be able to then use these\nGroup Policy Objects to apply all the IPAM\n\n281\n00:13:30.470 --> 00:13:31.215\nsettings.\n\n282\n00:13:31.215 --> 00:13:34.490\nThat I'm about to show you in the document\nthat will be manually configured.\n\n283\n00:13:34.490 --> 00:13:38.408\nThey're called IPAM_DC_NPS,\nNetwork Policy Server.\n\n284\n00:13:38.408 --> 00:13:40.935\nIPAM_DHCP, you could probably\ntell what that does.\n\n285\n00:13:40.935 --> 00:13:42.329\nIPAM_DNS, same idea, right?\n\n286\n00:13:42.329 --> 00:13:47.324\nAnd I gave you a little description of\nwhat each Group Policy Object will govern.\n\n287\n00:13:47.324 --> 00:13:51.180\nOr what each of the Group Policy\ntemplates will provide for.\n\n288\n00:13:51.180 --> 00:13:54.640\nThey provide for all the services and\nthe settings associated with managing\n\n289\n00:13:54.640 --> 00:13:58.990\nthe Active Directory, the Network\nPolicy Servers, DHCP and/or DNS.\n\n290\n00:13:58.990 --> 00:14:00.890\nSo just make sure you're aware of that.\n\n291\n00:14:00.890 --> 00:14:03.245\nAll right, so I know Cherokee wanted\nto say something really quickly.\n\n292\n00:14:03.245 --> 00:14:07.341\nLet me just bring up the Word document,\ninvite Cherokee to ask her question for\n\n293\n00:14:07.341 --> 00:14:08.664\nher comment out here.\n\n294\n00:14:08.664 --> 00:14:12.612\n&gt;&gt; No worries, I wanted to just\nreference this Word document, as well.\n\n295\n00:14:12.612 --> 00:14:15.990\nI think it's up top right-hand corner,\nright, whichever,\n\n296\n00:14:15.990 --> 00:14:18.040\nthat's where the Show Files will be.\n\n297\n00:14:18.040 --> 00:14:22.483\nAnd guys, if you ever hear us throughout\nthis series referencing an additional file\n\n298\n00:14:22.483 --> 00:14:23.430\nand attachment.\n\n299\n00:14:23.430 --> 00:14:24.421\n&gt;&gt; You mean a little download link\nwith the little arrow [CROSSTALK]\n\n300\n00:14:24.421 --> 00:14:25.724\n&gt;&gt; Yeah you guys will be able to download\n\n301\n00:14:25.724 --> 00:14:27.330\nthat, so that's where they'll be, okay.\n\n302\n00:14:27.330 --> 00:14:29.945\nSo the Show Notes will be\nunder the actual video, but\n\n303\n00:14:29.945 --> 00:14:32.753\nthen the files will be up in\nthe top-right hand corner.\n\n304\n00:14:32.753 --> 00:14:36.119\n&gt;&gt; There's a little picture, it looks\nlike an arrow pointing to an inbox or\n\n305\n00:14:36.119 --> 00:14:38.740\nsomething that lets you\ndownload the files on the site.\n\n306\n00:14:38.740 --> 00:14:42.925\nAnd you'll see that there with each\nepisode, right, it's per episode.\n\n307\n00:14:42.925 --> 00:14:44.264\nAll right, we can go full screen just so\n\n308\n00:14:44.264 --> 00:14:46.180\nyou could see what I'm hiding\nbehind the screen there.\n\n309\n00:14:46.180 --> 00:14:50.401\nAll right, so this document, IPAM manual\nconfiguration settings, as you can see.\n\n310\n00:14:50.401 --> 00:14:54.400\nThey require configuration settings\nif you were to do this manually.\n\n311\n00:14:54.400 --> 00:14:55.178\nSo broke it down for you.\n\n312\n00:14:55.178 --> 00:14:58.305\nConfig Setting,\nDomain Controller Server and NPS,\n\n313\n00:14:58.305 --> 00:15:01.800\nNetwork Policy Server settings,\nDHCP Servers, DNS.\n\n314\n00:15:01.800 --> 00:15:05.164\nThree categories, remember we have\na Group Policy template that's\n\n315\n00:15:05.164 --> 00:15:08.298\ncreated that will address each\none of these that will automate.\n\n316\n00:15:08.298 --> 00:15:12.084\nIf you're gonna do it on your own, you'd\nhave the address the settings across each\n\n317\n00:15:12.084 --> 00:15:14.100\nof these as we go to set this up for\nyourself.\n\n318\n00:15:14.100 --> 00:15:16.620\nThis will be a handy little reference for\nyou.\n\n319\n00:15:16.620 --> 00:15:21.730\nSo you can see here the IPAM UG\ngroup has to be created by domain.\n\n320\n00:15:21.730 --> 00:15:24.370\nIt will then be added in and\nconfigured accordingly.\n\n321\n00:15:24.370 --> 00:15:27.560\nThe Windows Firewall with Advanced\nSecurity settings have to be done,\n\n322\n00:15:27.560 --> 00:15:29.220\nas are noted here.\n\n323\n00:15:29.220 --> 00:15:32.540\nThe Network Share has to be created\nif there is indeed one required.\n\n324\n00:15:32.540 --> 00:15:34.400\nYou need one,\nas you could see here, for DHCP,\n\n325\n00:15:34.400 --> 00:15:36.800\nso you create the Network Share for that.\n\n326\n00:15:37.950 --> 00:15:41.470\nEvent Log Monitoring on DNS,\nmodify the appropriate reg key.\n\n327\n00:15:41.470 --> 00:15:42.770\nYou could see it there.\n\n328\n00:15:42.770 --> 00:15:45.340\nAdditional Settings,\nif necessary, would be there.\n\n329\n00:15:45.340 --> 00:15:49.041\nSo, yeah, there is a matrix that you'd\nhave to follow here and just go through.\n\n330\n00:15:49.041 --> 00:15:52.491\nNot suggesting that it is harder or\neasier to do this manually or\n\n331\n00:15:52.491 --> 00:15:55.497\nautomated, just pointing\nout that you have options.\n\n332\n00:15:55.497 --> 00:15:56.999\nIf you wanna do it manually,\nmore power to you.\n\n333\n00:15:56.999 --> 00:16:00.890\nFollow the information on the chart,\nmake sure you get it correct.\n\n334\n00:16:00.890 --> 00:16:01.623\nNot hard to do.\n\n335\n00:16:01.623 --> 00:16:05.649\nIf you want to have this done as we\nsuggested using the automated solution\n\n336\n00:16:05.649 --> 00:16:10.402\nPowerShell Invoke-IpamGpoProvisioning,\nand then you can go through get these and\n\n337\n00:16:10.402 --> 00:16:13.580\nthen apply them, right, so\nyou'll have some options.\n\n338\n00:16:13.580 --> 00:16:16.680\nSo why don't we take a look at\nhow to provision IPAM since we\n\n339\n00:16:16.680 --> 00:16:17.920\nare starting this conversation.\n\n340\n00:16:17.920 --> 00:16:20.600\nLet me just extend out our timer here,\n\n341\n00:16:20.600 --> 00:16:23.080\njust make sure we don't run out\nof time on the lab environment.\n\n342\n00:16:23.080 --> 00:16:25.520\nAll right, so having said that,\nwhat we're gonna do is go in and\n\n343\n00:16:25.520 --> 00:16:29.600\ntake a look at how to actually stand this\nup and make sure that we are ready to go.\n\n344\n00:16:29.600 --> 00:16:30.350\nAnd actually, you know what?\n\n345\n00:16:30.350 --> 00:16:31.930\nBefore we do that, just one second,\n\n346\n00:16:31.930 --> 00:16:34.600\nI'm just looking at my notes, making\nsure we don't forget to cover anything.\n\n347\n00:16:34.600 --> 00:16:36.240\nOne more thing before we do this.\n\n348\n00:16:36.240 --> 00:16:38.440\nLet me just bring the notes\nback up real quick.\n\n349\n00:16:38.440 --> 00:16:40.720\nSo how do we ensure successful\nimplementation, and\n\n350\n00:16:40.720 --> 00:16:43.300\nmost importantly, what are some of\nthe basic hardware requirements?\n\n351\n00:16:43.300 --> 00:16:45.980\nCause you tend to get asked\nabout this stuff on the exam.\n\n352\n00:16:45.980 --> 00:16:48.060\nHey, will this configuration support IPAM?\n\n353\n00:16:48.060 --> 00:16:49.279\nYou know, they give you those scenarios.\n\n354\n00:16:49.279 --> 00:16:53.601\nI'm running Server 2008, and will I be\nable to do it with this hardware or\n\n355\n00:16:53.601 --> 00:16:54.539\nthat hardware?\n\n356\n00:16:54.539 --> 00:16:56.395\nSo, you want to make sure you know, so\n\n357\n00:16:56.395 --> 00:16:58.949\nI have a little list here\nof what's required, but,\n\n358\n00:16:58.949 --> 00:17:03.100\nto ensure successful implementation,\nIPAM servers must be domain joined.\n\n359\n00:17:03.100 --> 00:17:07.120\nBut they cannot be a domain controller,\njust make sure you're aware of that.\n\n360\n00:17:07.120 --> 00:17:09.700\nIPAM Server should be\na single purpose server, so\n\n361\n00:17:09.700 --> 00:17:10.770\njust make sure you're aware of that.\n\n362\n00:17:10.770 --> 00:17:15.440\nIn other words, the IPAM server should\nbe dedicated to being a IPAM server,\n\n363\n00:17:15.440 --> 00:17:16.660\nnothing else, in other words.\n\n364\n00:17:16.660 --> 00:17:18.140\nWanna make sure we are aware of that.\n\n365\n00:17:19.710 --> 00:17:21.360\nSo just keep that in mind, right?\n\n366\n00:17:22.850 --> 00:17:23.770\nAnd, yeah.\n\n367\n00:17:23.770 --> 00:17:26.060\nSo, let's just make sure\nwe're thinking about that.\n\n368\n00:17:26.060 --> 00:17:28.530\nIn addition, what else do we have here?\n\n369\n00:17:28.530 --> 00:17:30.545\nManaging the IPv6 address space,\n\n370\n00:17:30.545 --> 00:17:33.840\nif we're gonna be doing IPv6\naddressing on the server.\n\n371\n00:17:33.840 --> 00:17:36.780\nWe have to make sure that we enable it so\njust keep that in mind.\n\n372\n00:17:36.780 --> 00:17:38.940\nIt's not there natively by default.\n\n373\n00:17:38.940 --> 00:17:42.148\nWe wanna sign on to the IPAM\nserver with a domain account.\n\n374\n00:17:42.148 --> 00:17:45.130\nSo again, you'll domain joined,\nnot a domain controller but\n\n375\n00:17:45.130 --> 00:17:48.560\nwant to make sure we're aware of that and\njust have all that configured.\n\n376\n00:17:48.560 --> 00:17:51.940\nYou must be a member of the correct\nIPAM local security group to be able\n\n377\n00:17:51.940 --> 00:17:52.750\nto have rights.\n\n378\n00:17:52.750 --> 00:17:54.530\nThat's just the R back\nmodel that we talked about.\n\n379\n00:17:54.530 --> 00:17:58.030\nAnd I want to make sure we make\na logging of active log on events.\n\n380\n00:17:58.030 --> 00:18:02.250\nAccount log on events on the domain\ncontroller and through n pass, NPS,\n\n381\n00:18:02.250 --> 00:18:07.470\nthe network policy server, so that we can\nenable and track IP address tracking and\n\n382\n00:18:07.470 --> 00:18:11.440\nauditing through the IPAM solutions.\n\n383\n00:18:11.440 --> 00:18:13.650\nSo just some things that have to\nbe thought through ahead of time.\n\n384\n00:18:13.650 --> 00:18:16.643\nIn terms of the requirements,\nthe hardware, what do we need,\n\n385\n00:18:16.643 --> 00:18:19.022\nhow are we gonna do that,\nhow do we set all that up.\n\n386\n00:18:19.022 --> 00:18:22.393\nYou could see here, just quickly\nrun through the logic of that to\n\n387\n00:18:22.393 --> 00:18:26.897\nmake sure you can see what's required,\ndual core processors 2.0 gigs or better.\n\n388\n00:18:26.897 --> 00:18:30.080\n2012 OS, 2012 R2.\n\n389\n00:18:30.080 --> 00:18:31.800\n4 or more gigs of memory.\n\n390\n00:18:31.800 --> 00:18:33.660\nAnd at least 80 gigs of hard drive space.\n\n391\n00:18:33.660 --> 00:18:35.525\nIf we're running 2008 and or\n\n392\n00:18:35.525 --> 00:18:39.194\n2008 R2 then we just do have\nsome additional requirements.\n\n393\n00:18:39.194 --> 00:18:41.940\nYou'll see them down here.\n\n394\n00:18:41.940 --> 00:18:44.155\nSP2 for Server 2008 must be installed..\n\n395\n00:18:44.155 --> 00:18:47.650\n.NET Framework 4 must be\navailable as opposed to 3.5.\n\n396\n00:18:47.650 --> 00:18:49.090\nRight, Windows Management Framework 3.\n\n397\n00:18:49.090 --> 00:18:52.130\nWe gave you the KB articles on these,\nso if you have to go download them,\n\n398\n00:18:52.130 --> 00:18:54.000\nyou can find them and get them.\n\n399\n00:18:54.000 --> 00:18:58.510\nWindows Server 2008 SP2,\nwe need the Management Framework Core.\n\n400\n00:18:58.510 --> 00:19:01.210\nSo there just are different requirements\nas we go backwards a little bit.\n\n401\n00:19:01.210 --> 00:19:03.450\nJust want to make sure\nwe're familiar with those.\n\n402\n00:19:03.450 --> 00:19:04.980\nRemote Management must be enabled.\n\n403\n00:19:04.980 --> 00:19:08.290\nSo we have to have the Win RM\nservice available and running.\n\n404\n00:19:08.290 --> 00:19:10.250\nThat's very important.\n\n405\n00:19:10.250 --> 00:19:14.200\nGotta make sure that we are thinking about\nthat because obviously that's going to be\n\n406\n00:19:14.200 --> 00:19:18.380\nsomething that we have to\nmake sure we are doing.\n\n407\n00:19:18.380 --> 00:19:22.260\nAnd also verify service principal names\nare written, (SPNs) are written so\n\n408\n00:19:22.260 --> 00:19:24.910\nit's very important to make\nsure we have done that as well.\n\n409\n00:19:24.910 --> 00:19:29.480\nAlright, so that's on 2008, 2008R2,\nand or 2012 just as we go through.\n\n410\n00:19:29.480 --> 00:19:32.140\nI'm looking at the clock and\nrealizing we probably don't have\n\n411\n00:19:32.140 --> 00:19:36.140\nenough time to do the full walk-through\non provisioning IPAM before we run out.\n\n412\n00:19:36.140 --> 00:19:39.700\nSo may be a good time for\nus to just break on this episode.\n\n413\n00:19:39.700 --> 00:19:41.290\nCome back and jump into the demo and\n\n414\n00:19:41.290 --> 00:19:44.560\nthen just be able to walk through\nIPAM with you kinda end to end.\n\n415\n00:19:44.560 --> 00:19:47.540\nThat way we don't run out of time and\nhave to split it into hey look,\n\n416\n00:19:47.540 --> 00:19:48.240\nwe're at step two.\n\n417\n00:19:48.240 --> 00:19:50.420\nLet's jump and start a new episode.\n\n418\n00:19:50.420 --> 00:19:51.860\nSo maybe we'll do that and\nthen come back and\n\n419\n00:19:51.860 --> 00:19:54.940\njust run through the configuration\nstart to finish.\n\n420\n00:19:54.940 --> 00:19:56.828\n&gt;&gt; All right.\nSounds like a good idea and\n\n421\n00:19:56.828 --> 00:20:01.278\nalso let's give a round of applause\n[APPLAUSE] because I think Adam has just\n\n422\n00:20:01.278 --> 00:20:06.220\nbroke ITProTV history and I think we\nare gonna be encompassing part nine here.\n\n423\n00:20:06.220 --> 00:20:08.150\nSo that's even a personal record for you.\n\n424\n00:20:08.150 --> 00:20:08.705\n&gt;&gt; We are-\n&gt;&gt; But yeah.\n\n425\n00:20:08.705 --> 00:20:11.165\n&gt;&gt; But actually you what we\nhad when Daniel and I did.\n\n426\n00:20:11.165 --> 00:20:13.250\n&gt;&gt; [LAUGH]\n&gt;&gt; The cloud and\n\n427\n00:20:13.250 --> 00:20:16.580\nwe did all the installs of all the\ndifferent components for system center.\n\n428\n00:20:16.580 --> 00:20:19.280\nWe actually had 12 episodes.\n\n429\n00:20:19.280 --> 00:20:19.930\n&gt;&gt; No, you didn't.\n\n430\n00:20:19.930 --> 00:20:22.050\n&gt;&gt; Well because they were small\nlike 15-20 minute installs.\n\n431\n00:20:22.050 --> 00:20:25.400\nSo we did like 12 in that one\nseries back to back to back.\n\n432\n00:20:25.400 --> 00:20:27.730\n&gt;&gt; Okay so maybe retract the-\n&gt;&gt; Almost.\n\n433\n00:20:27.730 --> 00:20:28.510\n&gt;&gt; Golf clap there?\n\n434\n00:20:28.510 --> 00:20:29.730\n&gt;&gt; But i have the first and\n\n435\n00:20:29.730 --> 00:20:31.090\nsecond place record-\n&gt;&gt; [LAUGH]\n\n436\n00:20:31.090 --> 00:20:32.770\n&gt;&gt; As a result of that but for\n\n437\n00:20:32.770 --> 00:20:36.000\nthis kind of discussion for\njust one knowledge topic working out full\n\n438\n00:20:36.000 --> 00:20:39.090\n30 plus minute episodes hands\non with demos like this.\n\n439\n00:20:39.090 --> 00:20:40.940\nThis would be probably the record.\n\n440\n00:20:40.940 --> 00:20:41.550\n&gt;&gt; All right.\n\n441\n00:20:41.550 --> 00:20:43.440\nSo, ladies and gentlemen, stay tuned.\n\n442\n00:20:43.440 --> 00:20:47.030\nWe have another show headed your way, but\nfor this show we'll go ahead and sign out.\n\n443\n00:20:47.030 --> 00:20:49.150\nRemember, I'm your host Cherokee Boose.\n\n444\n00:20:49.150 --> 00:20:50.140\n&gt;&gt; I'm Adam Gordon.\n\n445\n00:20:50.140 --> 00:20:52.971\n&gt;&gt; See you next time here at ITProTV.\n\n446\n00:20:52.971 --> 00:20:58.938\n[MUSIC]\n\n447\n00:20:58.938 --> 00:21:01.890\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "224330021"
        },
        {
          "description": "In this show, Cherokee and Adam begin setting up an IPAM Server. Adam shares important characteristics that one should consider pre-deployment before he demonstrates the install. As a matter of fact Adam reiterates the fact that by not planning you are making a decision that may set you up for failure.",
          "length": "1524",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-9-advances_network_services_pt9-062917-PGM.00_30_31_02.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-9-advances_network_services_pt9-062917-PGM.00_30_31_02.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-9-advances_network_services_pt9-062917-PGM.00_30_31_02.Still001-sm.jpg",
          "title": "Advanced Network Services Part 9",
          "transcript": "WEBVTT\n\n1\n00:00:00.260 --> 00:00:03.771\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.771 --> 00:00:07.343\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:07.343 --> 00:00:08.850\n[MUSIC]\n\n4\n00:00:08.850 --> 00:00:12.880\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.880 --> 00:00:15.700\n&gt;&gt; Welcome to your MCSA 70-412 series.\n\n6\n00:00:15.700 --> 00:00:17.930\nI'm your show host, Cherokee Boose.\n\n7\n00:00:17.930 --> 00:00:18.860\nAnd just as promised,\n\n8\n00:00:18.860 --> 00:00:23.230\nwe were able to get Adam Gordon back in\nstudios to show us how to set up IPAM.\n\n9\n00:00:23.230 --> 00:00:25.020\nSo thank you for\nbeing with us today, Adam.\n\n10\n00:00:25.020 --> 00:00:29.620\n&gt;&gt; You are welcome, and I brought my extra\nsuper special incredibly bright shirt.\n\n11\n00:00:29.620 --> 00:00:30.570\n&gt;&gt; I know, we're so vibrant today.\n\n12\n00:00:30.570 --> 00:00:34.450\n&gt;&gt; Just to make sure that you stay awake\nlong enough to see how we do IPAM.\n\n13\n00:00:34.450 --> 00:00:36.929\nSo hopefully, this is gonna work,\ncuz if not, well, then,\n\n14\n00:00:36.929 --> 00:00:39.332\nwe're gonna have a part ten,\nand you know what that means.\n\n15\n00:00:39.332 --> 00:00:41.370\n&gt;&gt; [LAUGH]\n&gt;&gt; Double digits at that point, right.\n\n16\n00:00:41.370 --> 00:00:42.880\nAll right, so\nwe're gonna continue talking,\n\n17\n00:00:42.880 --> 00:00:46.260\nwe said we would come back from our\nlast episode, indeed we are here.\n\n18\n00:00:46.260 --> 00:00:49.181\nAnd we promised you, we're gonna\nwalk through how to configure IPAM,\n\n19\n00:00:49.181 --> 00:00:52.070\nwe talked about and give you some\nidea of what it is and what it does.\n\n20\n00:00:52.070 --> 00:00:53.860\nIf you don't remember that,\nhaven't seen that, well,\n\n21\n00:00:53.860 --> 00:00:55.500\nyou definitely have some homework, right.\n\n22\n00:00:55.500 --> 00:00:56.640\nGo back, take a look.\n\n23\n00:00:56.640 --> 00:00:59.530\nIt is important for you to have\na general sense of what IPAM does.\n\n24\n00:00:59.530 --> 00:01:01.255\nWhether you know what it does before,\nwe set it up or\n\n25\n00:01:01.255 --> 00:01:02.511\nnot is not the most important thing.\n\n26\n00:01:02.511 --> 00:01:06.518\nBut ultimately, knowing what it is, how\nwe use it, why we use it, what it is for,\n\n27\n00:01:06.518 --> 00:01:09.910\nwith regards to exam preparation,\ndefinitely gonna be important.\n\n28\n00:01:09.910 --> 00:01:12.850\nYou look at those exam objectives,\nyou will see right there,\n\n29\n00:01:12.850 --> 00:01:15.280\nthat IPAM is one of those things\nwe're gonna be asking about.\n\n30\n00:01:15.280 --> 00:01:18.760\nIt's in the networking services\nsection with DNS, DHCP,\n\n31\n00:01:18.760 --> 00:01:22.190\nand of course, IPAM the third\npart of our discussions here.\n\n32\n00:01:22.190 --> 00:01:26.220\n15 to 20% of the exam objective coverage\ncomes from this section, which means,\n\n33\n00:01:26.220 --> 00:01:29.310\nyou're very likely to see questions\non this particular topic.\n\n34\n00:01:29.310 --> 00:01:31.653\nIf you think about the logic,\n\n35\n00:01:31.653 --> 00:01:36.633\nperhaps as many as 5 to 7% per\narea in this three part series.\n\n36\n00:01:36.633 --> 00:01:39.317\nWe'll make up exam objectives and\nas result potentially,\n\n37\n00:01:39.317 --> 00:01:40.560\nmake up questions for you.\n\n38\n00:01:40.560 --> 00:01:42.460\nSo you can pretty safely say,\n\n39\n00:01:42.460 --> 00:01:45.970\nyou're gonna be doing some question and\nanswer on IPAM at some point.\n\n40\n00:01:45.970 --> 00:01:47.440\nSo let's take a look, shall we?\n\n41\n00:01:47.440 --> 00:01:49.100\nWe'll actually go right up there.\n\n42\n00:01:49.100 --> 00:01:52.910\nAnd what I'm gonna start out with,\nwe already have the initial install done.\n\n43\n00:01:52.910 --> 00:01:55.850\nJust wanted to show you as we\noften try to do how we did this.\n\n44\n00:01:55.850 --> 00:01:58.950\nIt takes a few minutes, so\nwe just fast forwarded through that\n\n45\n00:01:58.950 --> 00:02:01.920\nwith PowerShell before we got started,\nbut you haven't missed anything.\n\n46\n00:02:01.920 --> 00:02:04.330\nJust showing you the command\nstructure that we're gonna use.\n\n47\n00:02:04.330 --> 00:02:07.800\nAll the configuration is gonna be done\nthrough the GUI and the server manager.\n\n48\n00:02:07.800 --> 00:02:11.380\nWe're gonna be stepping through all that\nhere with you over the next few minutes.\n\n49\n00:02:11.380 --> 00:02:14.410\nSo install Windows feature,\nwe've used this command lit many,\n\n50\n00:02:14.410 --> 00:02:16.870\nmany times for, in this case, IPAM.\n\n51\n00:02:16.870 --> 00:02:20.350\nRemember, we've done the same for\nDNS and DHCP in prior episodes.\n\n52\n00:02:20.350 --> 00:02:24.710\nSo getting you used to the idea of using\nPowerShell as well as potentially doing\n\n53\n00:02:24.710 --> 00:02:27.910\nthe install directly from\nthe GUI with the server manager.\n\n54\n00:02:27.910 --> 00:02:30.080\nGot lots of different\nways to get this done.\n\n55\n00:02:30.080 --> 00:02:31.380\nAlways important to think about that.\n\n56\n00:02:31.380 --> 00:02:34.120\nYou could go out, get yourself an intern,\nand well, have them do it as well,\n\n57\n00:02:34.120 --> 00:02:36.060\nthat would be an acceptable third way.\n\n58\n00:02:36.060 --> 00:02:38.810\nAlthough, that does not show up\non the exam as an option though.\n\n59\n00:02:38.810 --> 00:02:42.191\nUse of interns is not an acceptable\ninstallation option on the exam.\n\n60\n00:02:42.191 --> 00:02:44.387\n&gt;&gt; I need an adult babysitter.\n\n61\n00:02:44.387 --> 00:02:45.395\n&gt;&gt; An adult babysitter.\n\n62\n00:02:45.395 --> 00:02:45.930\n&gt;&gt; Yeah.\n[LAUGH]\n\n63\n00:02:45.930 --> 00:02:46.930\n&gt;&gt; To baby sit adults?\n\n64\n00:02:46.930 --> 00:02:48.960\nOr so that you can go out and\ndo other things while?\n\n65\n00:02:48.960 --> 00:02:50.250\n&gt;&gt; No, no, no, no, to babysit me.\n\n66\n00:02:50.250 --> 00:02:50.870\n&gt;&gt; To baby sit you.\n\n67\n00:02:50.870 --> 00:02:52.070\n&gt;&gt; To make sure I stay alive.\n\n68\n00:02:52.070 --> 00:02:55.540\n&gt;&gt; Okay, that would be we call that\na minder, when we talk about adults,\n\n69\n00:02:55.540 --> 00:02:56.520\nwe call that a minder.\n\n70\n00:02:56.520 --> 00:02:57.320\n&gt;&gt; Okay.\n&gt;&gt; Actually, when I was in\n\n71\n00:02:57.320 --> 00:03:00.920\nthe music business, that's one of\nthe things that I spent time doing.\n\n72\n00:03:00.920 --> 00:03:04.090\nI babysat a lot of people with way too\nmuch money and time on their hands,\n\n73\n00:03:04.090 --> 00:03:08.640\nthat did not know how to act accordingly,\nwhen I was doing management and\n\n74\n00:03:08.640 --> 00:03:09.560\nall that kind of stuff.\n\n75\n00:03:09.560 --> 00:03:14.137\nI spent a lot of my youth [CROSSTALK]\nin bars learning how to shoot pool, and\n\n76\n00:03:14.137 --> 00:03:15.725\ndrink way too much beer.\n\n77\n00:03:15.725 --> 00:03:18.665\nAnd babysit a bunch of people that\nwere way too rich to know better and\n\n78\n00:03:18.665 --> 00:03:20.110\nway too rich to care.\n\n79\n00:03:20.110 --> 00:03:22.230\nSo there you go, now you know\nwhat I did when I was younger.\n\n80\n00:03:22.230 --> 00:03:25.160\n[LAUGH] All right so,\ninclude management tools, and\n\n81\n00:03:25.160 --> 00:03:29.600\nalthough it's kinda cut off there, include\nall sub-features which allows us to add in\n\n82\n00:03:29.600 --> 00:03:30.860\nnot just the management tools but\n\n83\n00:03:30.860 --> 00:03:34.310\nall the sub-feature dependencies\nassociated with IPAM.\n\n84\n00:03:34.310 --> 00:03:35.000\nSo we've done all that.\n\n85\n00:03:35.000 --> 00:03:38.270\nYou'll see here,\nwe do have our success indicator, so\n\n86\n00:03:38.270 --> 00:03:39.810\nwe were able to get that done.\n\n87\n00:03:39.810 --> 00:03:41.360\nWe're just gonna minimize there.\n\n88\n00:03:41.360 --> 00:03:44.120\nWhat we did then is come\ninto Server Manager.\n\n89\n00:03:44.120 --> 00:03:46.190\nWe do have, let me just go back here, so\n\n90\n00:03:46.190 --> 00:03:49.060\nyou could just see where we\nstarted from on our dashboard.\n\n91\n00:03:49.060 --> 00:03:52.180\nWe do have among the many things\nthat are now there, IPAM.\n\n92\n00:03:52.180 --> 00:03:55.630\nWe're gonna use IPAM from here to\ngo in and do our configuration.\n\n93\n00:03:55.630 --> 00:03:57.720\nNow one interesting thing I will show you.\n\n94\n00:03:59.010 --> 00:04:04.257\nUnlike many of the other tools that do\ninstall directly through Server Manager,\n\n95\n00:04:04.257 --> 00:04:09.042\nor even indirectly from PowerShell\ninto Server Manager as a central admin\n\n96\n00:04:09.042 --> 00:04:11.680\nconsole so we can use at a leverage that.\n\n97\n00:04:11.680 --> 00:04:17.320\nWe don’t see a tool or an MMC directly\nlisted here under tools for IPAM.\n\n98\n00:04:17.320 --> 00:04:19.910\nMany of the other systems and services and\n\n99\n00:04:19.910 --> 00:04:23.450\napplications we install DHCP,\nDNS, among them as you can see,\n\n100\n00:04:23.450 --> 00:04:27.710\ndo put an indicator on the menu here\nallowing us to launch an MMC directly.\n\n101\n00:04:27.710 --> 00:04:28.952\nIPAM doesn't work that way.\n\n102\n00:04:28.952 --> 00:04:33.130\nYou wanna get to IPAM, you've gotta come\nover here, go through the dashboard,\n\n103\n00:04:33.130 --> 00:04:36.310\nclick on the link, come in here and\nthen configure and\n\n104\n00:04:36.310 --> 00:04:38.130\nuse IPAM through the server tasks.\n\n105\n00:04:38.130 --> 00:04:40.440\nSo, I just wanna make sure you're\nfamiliar with that, you know that.\n\n106\n00:04:40.440 --> 00:04:43.070\nA lot of times people go look for IPAM.\n\n107\n00:04:43.070 --> 00:04:45.990\nLet me go to the tools menu, and\nyou're not gonna find it there.\n\n108\n00:04:45.990 --> 00:04:48.340\nSo just so you know where we're going.\n\n109\n00:04:48.340 --> 00:04:52.670\nHaving said that, what we have now\nis just our overview dash port.\n\n110\n00:04:52.670 --> 00:04:55.820\nWe are gonna be able to follow this\nnice set of steps as I indicated in\n\n111\n00:04:55.820 --> 00:04:57.480\nour last conversation prior episode.\n\n112\n00:04:57.480 --> 00:04:58.920\nWe kind of previewed this, and said,\n\n113\n00:04:58.920 --> 00:05:01.080\nhey look,\nthat's how we're gonna walk through it.\n\n114\n00:05:01.080 --> 00:05:03.920\nDidn't actually have time to go\nthrough it, so we're back to do that.\n\n115\n00:05:03.920 --> 00:05:05.347\nStep one is connect to IPAM.\n\n116\n00:05:05.347 --> 00:05:08.590\nNow since I've already installed and\nconfigured IPAM on this machine,\n\n117\n00:05:08.590 --> 00:05:11.540\nI'm not managing it remotely,\nI'm managing it locally.\n\n118\n00:05:11.540 --> 00:05:15.559\nI've already got the connection\nhere plaiddm01 practicelabs.com.\n\n119\n00:05:15.559 --> 00:05:19.135\nBut if you had to connect if,\nperhaps it wasn't already set up,\n\n120\n00:05:19.135 --> 00:05:23.090\nyou would go in here, select the IPAM\nserver, highlight, click OK.\n\n121\n00:05:23.090 --> 00:05:25.850\nIt will then connect to it, and\njust make sure it's available.\n\n122\n00:05:25.850 --> 00:05:28.430\nSo step one would be traditionally,\nhey, lets go in and connect.\n\n123\n00:05:28.430 --> 00:05:29.550\nSo we've got that.\n\n124\n00:05:29.550 --> 00:05:32.300\nLet's start with step two,\ngonna provision the IPAM server.\n\n125\n00:05:32.300 --> 00:05:34.260\nWe'll go through here and\ndo this in just a minute.\n\n126\n00:05:34.260 --> 00:05:38.520\nNow just before we do that, you'll see\nwe have our manage network area here.\n\n127\n00:05:38.520 --> 00:05:42.970\nShows us our IPAM server name, so\nvalidates what we see up top already.\n\n128\n00:05:42.970 --> 00:05:46.495\nShows us that we're gonna be connected\nto and managing a domain called\n\n129\n00:05:46.495 --> 00:05:50.450\npracticelabs.com, right, or\nmanage domains, if there's more than one.\n\n130\n00:05:50.450 --> 00:05:52.850\nRemember, one IPAM server per forest.\n\n131\n00:05:52.850 --> 00:05:56.710\nWe talked about this, right,\nmaintains all that information.\n\n132\n00:05:56.710 --> 00:06:02.181\nAnd that we have, as we went through\nthe hardware requirements and\n\n133\n00:06:02.181 --> 00:06:03.644\nthe-\n&gt;&gt; The locations.\n\n134\n00:06:03.644 --> 00:06:04.840\n&gt;&gt; Capacity solution.\n\n135\n00:06:04.840 --> 00:06:08.296\nAnd we talked about the fact\nwe have 150 DHCP servers,\n\n136\n00:06:08.296 --> 00:06:12.328\ncertain amount of DNS servers,\n6,000 DHCP scopes, right?\n\n137\n00:06:12.328 --> 00:06:15.680\nSo we've got a lot of\ncapabilities on an IPAM server.\n\n138\n00:06:15.680 --> 00:06:19.350\nBut if we had to scale out beyond that,\nwe would set up separate servers, right?\n\n139\n00:06:19.350 --> 00:06:21.712\nAnd when we do that,\nwe can have more than one.\n\n140\n00:06:21.712 --> 00:06:25.444\nWhen I said one per forest, what I meant\nis, we're installing one to start with,\n\n141\n00:06:25.444 --> 00:06:28.195\nbut it can manage across\nthe forest as we talked about.\n\n142\n00:06:28.195 --> 00:06:31.815\nBut keep in mind, that if we have more\nthan one as we talked about as well,\n\n143\n00:06:31.815 --> 00:06:33.675\nthey are essentially separate objects,\nright?\n\n144\n00:06:33.675 --> 00:06:35.845\nThey don't communicate,\nthey don't talk to one another.\n\n145\n00:06:35.845 --> 00:06:38.955\nThey have no knowledge of each other in\nthe sense that they don't share entries.\n\n146\n00:06:38.955 --> 00:06:43.639\nThey have their own dedicated databases,\nthat WID or Windows Internal Database.\n\n147\n00:06:43.639 --> 00:06:48.090\nIf it say Server 12 IPAM solution,\nwe made the distinction that with 12-R2,\n\n148\n00:06:48.090 --> 00:06:51.716\nwe have the option to break out and\nuse an external sequel database,\n\n149\n00:06:51.716 --> 00:06:55.103\nlittle bit of scale ability and\nenterprise management there.\n\n150\n00:06:55.103 --> 00:06:58.204\nBut either way,\nwe're not sharing data and as a result,\n\n151\n00:06:58.204 --> 00:07:01.410\neach IPAM instance manages\nits own infrastructure.\n\n152\n00:07:01.410 --> 00:07:04.070\nAnd then we have to manually\nunderstand that we would have to do\n\n153\n00:07:04.070 --> 00:07:06.960\nsome configuration and\nmanagement if we're gonna be sharing\n\n154\n00:07:06.960 --> 00:07:09.990\nIPAM service across the enterprise,\njust be aware of that.\n\n155\n00:07:09.990 --> 00:07:13.170\nBut you'll see here, we don't really\nhave much in the interface right now,\n\n156\n00:07:13.170 --> 00:07:14.810\nbecause we haven't really set much up.\n\n157\n00:07:14.810 --> 00:07:18.040\nUnder communication summary,\nwe're gonna setup and\n\n158\n00:07:18.040 --> 00:07:20.170\nstart to deal with some\nof these issues here.\n\n159\n00:07:20.170 --> 00:07:22.630\nYou'll configure the appropriate ports,\nfirewall rules,\n\n160\n00:07:22.630 --> 00:07:27.030\nall that, gives us a nice little overview,\ntells us what we're gonna be doing\n\n161\n00:07:27.030 --> 00:07:30.440\nas we start to click through some of\nthe links and configure certain things.\n\n162\n00:07:30.440 --> 00:07:34.410\nIt does indicate to us we need certain\nports opened up for the firewall.\n\n163\n00:07:34.410 --> 00:07:36.495\nRemember firewall, again,\n\n164\n00:07:36.495 --> 00:07:40.265\nwould be the Windows advanced server\nfirewall on this particular server.\n\n165\n00:07:40.265 --> 00:07:41.699\nThat's one of the nice things about this,\nright.\n\n166\n00:07:41.699 --> 00:07:45.002\nWe're gonna preconfigure as part of\nthe wizard, the ability to go in and\n\n167\n00:07:45.002 --> 00:07:48.088\nmanipulate the firewall,\ncreate the rules, open the ports up, so\n\n168\n00:07:48.088 --> 00:07:50.440\nwe don't have to worry\nabout doing this manually.\n\n169\n00:07:50.440 --> 00:07:53.842\nIf you remember, I did show you\na document that laid out on the table for\n\n170\n00:07:53.842 --> 00:07:57.647\nyou all the steps you'd have to engage in\nIf you wanted to do this manually one of\n\n171\n00:07:57.647 --> 00:08:01.282\nthem was the manipulation of the firewall\nsetting up the firewall rules but\n\n172\n00:08:01.282 --> 00:08:05.540\nalso manipulation of some of the registry\nsettings, creation of certain shares.\n\n173\n00:08:05.540 --> 00:08:07.950\nThere are a lot of things\nthat had to happen for\n\n174\n00:08:07.950 --> 00:08:10.670\nus to ensure IPAM was\nconfigured successfully.\n\n175\n00:08:10.670 --> 00:08:14.120\nSo it's up to you to decide how to do\nthis you can do this either way but\n\n176\n00:08:14.120 --> 00:08:16.600\nwe do have a table as\na downloadable document\n\n177\n00:08:16.600 --> 00:08:18.720\nright that Cherokee who's\ngoing to provide for us.\n\n178\n00:08:18.720 --> 00:08:21.620\nAnd that would give us those settings,\nso you have options, right?\n\n179\n00:08:21.620 --> 00:08:23.100\nAnd that's a good thing to know.\n\n180\n00:08:23.100 --> 00:08:26.950\nAlso keep in mind and\nremember terms options on the exam.\n\n181\n00:08:26.950 --> 00:08:30.840\nWe love to test whether or not you're\ndoing it this way or doing it manually.\n\n182\n00:08:30.840 --> 00:08:33.880\nRemember if there's more than one way\nto do it Microsoft's probably going to\n\n183\n00:08:33.880 --> 00:08:37.580\nask you about more than one question\nassociated with that methodology.\n\n184\n00:08:37.580 --> 00:08:40.250\nIt's not enough in other words just\nto know you come to the wizard,\n\n185\n00:08:40.250 --> 00:08:42.480\nclick a bunch of numbers and\nthings happen.\n\n186\n00:08:42.480 --> 00:08:46.460\nYou may have to engage in a manual\nconfiguration as a scenario, and\n\n187\n00:08:46.460 --> 00:08:49.520\nmaybe along the way, know what port\nyou have to open in the firewall.\n\n188\n00:08:49.520 --> 00:08:51.720\nWhat share you have to\ncreate on what server.\n\n189\n00:08:51.720 --> 00:08:54.650\nWhat registry key you may have to\nmanipulate on one system in order\n\n190\n00:08:54.650 --> 00:08:56.330\nto be able to be able to configure this.\n\n191\n00:08:56.330 --> 00:08:58.460\nAnd that information is gonna\nbe equally important to you.\n\n192\n00:08:58.460 --> 00:09:00.200\nSo just keep that in mind.\n\n193\n00:09:00.200 --> 00:09:02.482\nAll right, so having said that\nlet's provision the IPAM server.\n\n194\n00:09:02.482 --> 00:09:06.155\nWe'll click on this, just bring\nthis up here so we can see that.\n\n195\n00:09:06.155 --> 00:09:10.480\nWe do have little wizard\ndriven screen here.\n\n196\n00:09:10.480 --> 00:09:13.650\nAnd screen number one allows us\nto really just have an overview.\n\n197\n00:09:13.650 --> 00:09:15.510\nNow before you begin,\nwhat are we gonna do?\n\n198\n00:09:15.510 --> 00:09:19.580\nWe're gonna go through, and we're gonna\nbe able to it says here, it says,\n\n199\n00:09:19.580 --> 00:09:21.670\nhey, we're providing\ncentralized management.\n\n200\n00:09:21.670 --> 00:09:25.400\nGives us a little overview about what's\ngoing on, allows us to choose and\n\n201\n00:09:25.400 --> 00:09:26.710\ncreate an IPAM database.\n\n202\n00:09:26.710 --> 00:09:29.430\nSo we've talked about that and\nwhat we're gonna do there.\n\n203\n00:09:29.430 --> 00:09:30.925\nLocal security groups\nare going to be created.\n\n204\n00:09:30.925 --> 00:09:34.610\nIt walks us through the logic of all the\nthings we said are going to happen, and\n\n205\n00:09:34.610 --> 00:09:35.270\nwhat we're gonna do.\n\n206\n00:09:35.270 --> 00:09:36.920\nSo that's important to know.\n\n207\n00:09:36.920 --> 00:09:39.180\nIt does also give us\na little caution warning.\n\n208\n00:09:39.180 --> 00:09:40.280\nCan we go full screen for a second?\n\n209\n00:09:40.280 --> 00:09:41.430\nI just want you to see\nthis a little bigger and\n\n210\n00:09:41.430 --> 00:09:43.120\nbe able to understand\nwhat's going on here.\n\n211\n00:09:43.120 --> 00:09:44.730\nAnd let me, while we're doing that,\nby the way.\n\n212\n00:09:44.730 --> 00:09:47.170\nLet me just hide the task bar down here.\n\n213\n00:09:47.170 --> 00:09:49.810\nCuz we're not gonna be able to\nget to the bottom of that, and\n\n214\n00:09:49.810 --> 00:09:51.130\nsee those buttons easily.\n\n215\n00:09:51.130 --> 00:09:53.470\nSo let's just do that so\nwe can see what's going on.\n\n216\n00:09:53.470 --> 00:09:54.860\nSo, you know, it's always important.\n\n217\n00:09:54.860 --> 00:09:57.340\nI stress to you when we do\nthese conversations with you.\n\n218\n00:09:57.340 --> 00:10:00.870\nEspecially when we're hands-on in\nthe interface walking through things.\n\n219\n00:10:00.870 --> 00:10:04.560\nThat as an administrator, it's really\ncritical for you to stop and read and\n\n220\n00:10:04.560 --> 00:10:07.590\nunderstand what you're doing\nbefore you just make decisions But\n\n221\n00:10:07.590 --> 00:10:09.410\nyou may live to regret, right?\n\n222\n00:10:09.410 --> 00:10:12.290\nWe always wanna make sure we have\na sense of what we're doing.\n\n223\n00:10:12.290 --> 00:10:16.360\nA lot of times we get into that mind space\nwhere I know, I've done this before,\n\n224\n00:10:16.360 --> 00:10:20.570\nI'm an admin, I have all the answers,\nnext and then you look at it and go well,\n\n225\n00:10:20.570 --> 00:10:23.850\nthat's not what I wanted and you've\ngotta unwind all of that and redo it.\n\n226\n00:10:23.850 --> 00:10:26.740\nI'm trying to prevent you in other words,\nright?\n\n227\n00:10:26.740 --> 00:10:29.020\nFrom not only having to redo this, but\n\n228\n00:10:29.020 --> 00:10:32.460\nfrom making decisions that\nwill end poorly for you.\n\n229\n00:10:32.460 --> 00:10:36.130\nWe've often talked about, both Cherokee\nand I, planning to be successful or\n\n230\n00:10:36.130 --> 00:10:36.880\nplanning to fail.\n\n231\n00:10:36.880 --> 00:10:40.080\nAnd Cherokee pointed out when I made that\nstatement in one of the earlier shows\n\n232\n00:10:40.080 --> 00:10:42.350\nthat planning to fail, right?\n\n233\n00:10:42.350 --> 00:10:45.570\nAnd planning to be successful, you're\nplanning and you've got to make decisions.\n\n234\n00:10:45.570 --> 00:10:47.510\nEven if you don't make a decision.\n\n235\n00:10:47.510 --> 00:10:49.280\nNot making a decision is still making one,\nand\n\n236\n00:10:49.280 --> 00:10:52.310\nyou're planning to fail and planning\nnot to be successful by doing that.\n\n237\n00:10:52.310 --> 00:10:56.090\nSo be methodical,\nbe secure in your knowledge,\n\n238\n00:10:56.090 --> 00:10:58.090\nand most importantly, be thorough, right?\n\n239\n00:10:58.090 --> 00:11:01.700\nReally understand what you're doing, and\nit says here if you choose to install or\n\n240\n00:11:01.700 --> 00:11:04.170\nchoose to use the GPO\nbased provisioning method,\n\n241\n00:11:04.170 --> 00:11:08.080\nyou cannot change to the manual\nmethod after completing the wizard.\n\n242\n00:11:08.080 --> 00:11:11.850\nMeaning if you start down this road\nright now, no big deal, right?\n\n243\n00:11:11.850 --> 00:11:14.450\nIt's not like we're giving\nsomething to Microsoft and\n\n244\n00:11:14.450 --> 00:11:15.850\nnever gonna get it back, right?\n\n245\n00:11:15.850 --> 00:11:18.380\nWe always have the, hey,\nlet's start over again option.\n\n246\n00:11:18.380 --> 00:11:22.360\nBut they're telling you, essentially,\nonce we start this wizarding start, and\n\n247\n00:11:22.360 --> 00:11:23.940\nkick off this provisioning.\n\n248\n00:11:23.940 --> 00:11:26.510\nWe can't decide to go halfway through and\nthen go manual.\n\n249\n00:11:26.510 --> 00:11:28.200\nWe gotta go all the way through, right?\n\n250\n00:11:28.200 --> 00:11:29.080\nAutomated.\n\n251\n00:11:29.080 --> 00:11:32.710\nCentrally with the wizard or we start\nfrom the beginning doing it manual right.\n\n252\n00:11:32.710 --> 00:11:36.520\nSo be aware that it says however we\ncan use the set IPAM config windows\n\n253\n00:11:36.520 --> 00:11:41.040\nPowerShell command with the change\nfrom manual to GPO based if we desire.\n\n254\n00:11:41.040 --> 00:11:45.410\nMeaning if you start with manual and\nyou want to go GPO based essentially have\n\n255\n00:11:45.410 --> 00:11:50.270\nthe wizard do the auto config there's\nan option with PowerShell to jump in.\n\n256\n00:11:50.270 --> 00:11:54.330\nBut if we start automated there is no way\nto go manual the only way would be tear it\n\n257\n00:11:54.330 --> 00:11:56.330\ndown and start over again.\n\n258\n00:11:56.330 --> 00:12:00.890\nSo you gotta understand, that only are you\nmaking decisions that are very important\n\n259\n00:12:00.890 --> 00:12:05.460\nfor you, but you're making decisions\nhere that will specify a path,\n\n260\n00:12:05.460 --> 00:12:09.150\nthat you then may not be stuck following,\nyou could always opt out and\n\n261\n00:12:09.150 --> 00:12:12.780\nstart over, but it's gonna delay your\nability to deploy this technology.\n\n262\n00:12:12.780 --> 00:12:17.710\nIt may, in a production environment,\nwe are actually using real systems,\n\n263\n00:12:17.710 --> 00:12:23.010\ncause problems with registries, with the\nactive directory for extending the schema.\n\n264\n00:12:23.010 --> 00:12:24.800\nThere are things that could go on,\n\n265\n00:12:24.800 --> 00:12:28.470\nthat would cause you to have issues if\nyou had a back out and start over again.\n\n266\n00:12:28.470 --> 00:12:32.490\nThat may not be easy to re-mediate, easy\nto walk away from, the way it would be in\n\n267\n00:12:32.490 --> 00:12:35.990\na lab where we say no big deal, just\nreset that and you will start over again.\n\n268\n00:12:35.990 --> 00:12:37.200\nHow difficult is that?\n\n269\n00:12:37.200 --> 00:12:39.370\nIt's 30 minutes but\nit's not the end of the world.\n\n270\n00:12:39.370 --> 00:12:41.630\nIn production, it may not be that simple.\n\n271\n00:12:41.630 --> 00:12:45.270\nAnd this is probably one of those key\nlittle pieces of information that you\n\n272\n00:12:45.270 --> 00:12:48.720\nwould miss out on and not be aware\nof if you didn't stop to read.\n\n273\n00:12:48.720 --> 00:12:51.890\nBut I promise you, it be one of\nthose things you make get tested on.\n\n274\n00:12:51.890 --> 00:12:56.200\nAnd as a result, you may actually\nnow have much more knowledge and\n\n275\n00:12:56.200 --> 00:12:58.820\nperhaps be more successful\nwhen you're preparing for\n\n276\n00:12:58.820 --> 00:13:01.645\nyour exam by knowing the pathways here and\nwhat's gonna be involved.\n\n277\n00:13:01.645 --> 00:13:04.276\nOkay, all right.\n\n278\n00:13:04.276 --> 00:13:06.830\nSo let's just go ahead and let's continue.\n\n279\n00:13:06.830 --> 00:13:07.910\nBut I wanted to point that out and\n\n280\n00:13:07.910 --> 00:13:10.350\njust made sure that your\nfamiliar with that, okay.\n\n281\n00:13:10.350 --> 00:13:14.110\nLet's click next, now what we have\nto do is decide on whether or\n\n282\n00:13:14.110 --> 00:13:18.990\nnot we're gonna use that internal\ndatabase what I call the WID.\n\n283\n00:13:18.990 --> 00:13:20.570\nThe Witness Internal Database.\n\n284\n00:13:20.570 --> 00:13:23.740\nAnd or the SQL external option right.\n\n285\n00:13:23.740 --> 00:13:25.140\nYou can see we're using 12 or 2 here.\n\n286\n00:13:25.140 --> 00:13:26.820\nSo we do have that opt out option.\n\n287\n00:13:26.820 --> 00:13:28.420\nAnd if this was an earlier version.\n\n288\n00:13:28.420 --> 00:13:29.860\nWe would only be seeing WID.\n\n289\n00:13:29.860 --> 00:13:32.000\nThere would be no SQL server box here.\n\n290\n00:13:32.000 --> 00:13:35.125\nNow it's not often that you\nsee this perhaps on exams.\n\n291\n00:13:35.125 --> 00:13:38.280\nBut, we do on occasion see interfaces.\n\n292\n00:13:38.280 --> 00:13:39.860\nWe may get a screen capture, right?\n\n293\n00:13:39.860 --> 00:13:40.690\nWe've talked about that.\n\n294\n00:13:40.690 --> 00:13:41.820\nThe exams were interactive.\n\n295\n00:13:41.820 --> 00:13:44.770\nThere are different ways that\nyou could be tested on stuff.\n\n296\n00:13:44.770 --> 00:13:48.610\nI could easily see a question that\nshows you a screen capture just of this\n\n297\n00:13:48.610 --> 00:13:49.780\none screen.\n\n298\n00:13:49.780 --> 00:13:54.190\nAnd says, okay great, what version of\nthe operating system are we running on?\n\n299\n00:13:54.190 --> 00:13:55.930\nAnd you'd have to know, it's 12 or a 2,\n\n300\n00:13:55.930 --> 00:13:57.920\nbecause of the nature\nof the configuration.\n\n301\n00:13:57.920 --> 00:14:01.440\nSo, there's lots of ways for\nus to test knowledge and thankfully,\n\n302\n00:14:01.440 --> 00:14:04.350\nI'm not writing those exam questions\nbecause I'd be real sneaky and do all\n\n303\n00:14:04.350 --> 00:14:09.770\nsorts of horrible things to you, but\nyou could, obviously, be test in a variety\n\n304\n00:14:09.770 --> 00:14:13.330\nof ways to understand the application of\nthe knowledge that we're talking about.\n\n305\n00:14:13.330 --> 00:14:14.950\nVery important to think about that.\n\n306\n00:14:14.950 --> 00:14:16.930\nIt's not just simple memorization.\n\n307\n00:14:16.930 --> 00:14:17.890\nIt's that port number.\n\n308\n00:14:17.890 --> 00:14:18.970\nIt's that setting.\n\n309\n00:14:18.970 --> 00:14:21.780\nIt may be the application of that\nknowledge is what I'm suggesting to you.\n\n310\n00:14:21.780 --> 00:14:24.945\nAnd this will be a good example\nof how you could use knowledge.\n\n311\n00:14:24.945 --> 00:14:29.195\nAnd apply it to an interface to understand\nwhat you're seeing without directly\n\n312\n00:14:29.195 --> 00:14:32.125\nhaving to understand or\nquery about something else.\n\n313\n00:14:32.125 --> 00:14:35.055\nSo just be aware of the concept\nis all I'm suggesting to you.\n\n314\n00:14:35.055 --> 00:14:36.355\nAll right, so we're gonna go ahead.\n\n315\n00:14:36.355 --> 00:14:38.545\nWe're gonna use the Windows\nInternal Database here just for\n\n316\n00:14:38.545 --> 00:14:40.115\ndemonstration purposes.\n\n317\n00:14:40.115 --> 00:14:44.405\nWe could obviously path out to an external\nSQL server instance, so keep that in mind.\n\n318\n00:14:45.540 --> 00:14:50.936\nDo that default port 1433 for SQL is\nthere so just keep that in mind as well.\n\n319\n00:14:50.936 --> 00:14:53.796\nYou'll see here the standard\ninstall directory for\n\n320\n00:14:53.796 --> 00:14:56.795\nIPAM for the for the WID,\nWindows Internal Database.\n\n321\n00:14:56.795 --> 00:15:02.280\n%Windir% system variable place holder\njust for your windows installation.\n\n322\n00:15:02.280 --> 00:15:04.800\nTypically we see Windows but\nthat could be varied right.\n\n323\n00:15:04.800 --> 00:15:06.390\nYou could put that on the e drive.\n\n324\n00:15:06.390 --> 00:15:08.370\nOn the f drive,\nwho knows where you install Windows?\n\n325\n00:15:08.370 --> 00:15:12.340\nBut wherever it is locally,\nSystem 32 IPAM Database, right?\n\n326\n00:15:12.340 --> 00:15:15.310\nThat's where you're gonna go, so\nwe're gonna go ahead and click Next.\n\n327\n00:15:16.840 --> 00:15:19.650\nWe then have our provisioning\n\n328\n00:15:19.650 --> 00:15:23.410\ndiscussion here about group\npolicy based versus manual.\n\n329\n00:15:23.410 --> 00:15:24.440\n&gt;&gt; This is where we're gonna make.\n\n330\n00:15:24.440 --> 00:15:25.190\n&gt;&gt; Make the decision.\n\n331\n00:15:25.190 --> 00:15:26.650\n&gt;&gt; Where we make that decision, right.\n\n332\n00:15:26.650 --> 00:15:28.380\nSo If we're gonna go manual,\n\n333\n00:15:28.380 --> 00:15:31.270\nsays here requires you to configure\nthe required network share,\n\n334\n00:15:31.270 --> 00:15:34.330\nsecurity groups gave you all that\ninformation, talked all about that.\n\n335\n00:15:34.330 --> 00:15:35.620\nGroup policy based,\n\n336\n00:15:35.620 --> 00:15:39.700\nthis requires you to be creating some GPOs\nthat will then configure a bunch of stuff.\n\n337\n00:15:39.700 --> 00:15:43.020\nWe'll have to give the GPO prefix here,\nas you can see.\n\n338\n00:15:43.020 --> 00:15:45.840\nNotice it is required because\nof the choice we made.\n\n339\n00:15:45.840 --> 00:15:50.618\nThis is just gonna be the prefix for\nthe GPO that we are gonna use.\n\n340\n00:15:50.618 --> 00:15:55.183\nWe'll call that plabs or practice labs,\np for practice, practice\n\n341\n00:15:55.183 --> 00:15:59.764\nlabs just in our demo environment,\nyou can name anything you want.\n\n342\n00:15:59.764 --> 00:16:03.385\nYou wanna call that IT PRo TV,\nyou wanna call that Mickey Mouse.\n\n343\n00:16:03.385 --> 00:16:08.850\nIt doesn't matter what it is, it's just\ngoing to be the prefix for the jpo.\n\n344\n00:16:08.850 --> 00:16:10.570\nSo just name it something\nthat's appropriate.\n\n345\n00:16:10.570 --> 00:16:11.990\nSo be aware of that.\n\n346\n00:16:11.990 --> 00:16:15.320\nAnd it does, one of the reasons I\nlike the way they've done the wizard,\n\n347\n00:16:15.320 --> 00:16:20.340\nthey being Microsoft It also tells us\nat these break points what the power\n\n348\n00:16:20.340 --> 00:16:24.430\nshell commands are that we can invoke or\nuse in order to accomplish certain things.\n\n349\n00:16:24.430 --> 00:16:28.860\nInvoke IPAM GPO provisioning would\nallow us to be able to go in and\n\n350\n00:16:28.860 --> 00:16:33.450\ncreate these GPOs if we had to go in and\ndo this in the domain right.\n\n351\n00:16:33.450 --> 00:16:35.750\nSo just keep that in mind and\nbe aware of that.\n\n352\n00:16:35.750 --> 00:16:36.960\nSo we're gonna click next here.\n\n353\n00:16:38.350 --> 00:16:40.380\nAll right, so now the wizard\nwill make the following changes.\n\n354\n00:16:40.380 --> 00:16:41.700\nNotice the wizard's pretty small, right?\n\n355\n00:16:41.700 --> 00:16:44.980\nWe've done group policy based,\nand that's it.\n\n356\n00:16:44.980 --> 00:16:46.110\nWe're basically ready to go.\n\n357\n00:16:46.110 --> 00:16:48.570\nNow let's just go back here for\njust one second.\n\n358\n00:16:48.570 --> 00:16:50.570\nLet's say we chose manual here, right?\n\n359\n00:16:51.930 --> 00:16:54.460\nYou'll see now, see,\nwe wind up in the same place.\n\n360\n00:16:54.460 --> 00:16:58.100\nBut instead of hey, the wizard's gonna\ngo through and create all that stuff for\n\n361\n00:16:58.100 --> 00:17:01.270\nus, it says okay, the wizard will\nmake the following changes, right?\n\n362\n00:17:01.270 --> 00:17:03.160\nAnd then click apply to confirm and\n\n363\n00:17:03.160 --> 00:17:08.090\nthen we will then be expected to make\nthe additional changes ourselves.\n\n364\n00:17:08.090 --> 00:17:10.460\nSo its up to us to decide how to do this.\n\n365\n00:17:10.460 --> 00:17:14.550\nSo we're gonna go here,\ndo that, do that, click next.\n\n366\n00:17:14.550 --> 00:17:19.690\nNotice there is a difference here\nbecause we have the three group policy\n\n367\n00:17:19.690 --> 00:17:23.090\nobjects that are gonna be created as\npart of the automatic provisioning.\n\n368\n00:17:23.090 --> 00:17:26.598\nPLABS, the underscore DHCP DNS, DCNPS.\n\n369\n00:17:26.598 --> 00:17:28.790\nI went through these with\nyou on the prior episode.\n\n370\n00:17:28.790 --> 00:17:31.840\nWe talked about what they would be and\nkinda gave you a quick little one sentence\n\n371\n00:17:31.840 --> 00:17:34.490\nsummary of what each one does,\nso you saw that.\n\n372\n00:17:35.710 --> 00:17:38.450\nAnd then it goes through and\ndoes the additional things, right?\n\n373\n00:17:38.450 --> 00:17:42.740\nSo really the difference here is\nthe creation of those group policy\n\n374\n00:17:42.740 --> 00:17:43.820\nobjects for us.\n\n375\n00:17:43.820 --> 00:17:48.670\nThey're gonna help us to drive and manage\nthe application of IPAM for DHCP for\n\n376\n00:17:48.670 --> 00:17:50.610\nDNS and for the network policy service.\n\n377\n00:17:50.610 --> 00:17:52.110\nThat's right that's what we're gonna see.\n\n378\n00:17:52.110 --> 00:17:54.250\nSo we're gonna go ahead we're\ngonna click apply here.\n\n379\n00:17:55.730 --> 00:17:56.790\nThat's gonna go through.\n\n380\n00:17:56.790 --> 00:18:00.440\nTakes a minute or two to go through and\nprovision everything out.\n\n381\n00:18:00.440 --> 00:18:03.000\nIt's not like this happens boom\nyou click and it's done, so\n\n382\n00:18:03.000 --> 00:18:06.020\nwe're gonna watch that go on for\na minute or so.\n\n383\n00:18:06.020 --> 00:18:09.450\nOnce that finishes provisioning,\nwe'll then see a success screen.\n\n384\n00:18:09.450 --> 00:18:12.200\nIt'll list out all the policy\nobjects that were created.\n\n385\n00:18:12.200 --> 00:18:13.230\nAll the stuff, that'll happen.\n\n386\n00:18:13.230 --> 00:18:14.840\nThere you go, doesn't take too long.\n\n387\n00:18:14.840 --> 00:18:17.310\nAnd then following settings\nwere successfully provisioned.\n\n388\n00:18:17.310 --> 00:18:18.840\nThis is obviously a good thing.\n\n389\n00:18:18.840 --> 00:18:19.710\nSo do have our GPOs.\n\n390\n00:18:19.710 --> 00:18:23.090\nYou'll see there IPAM\nsecurity groups were created.\n\n391\n00:18:23.090 --> 00:18:25.990\nDatabase was created access\nhas been configured.\n\n392\n00:18:25.990 --> 00:18:28.920\nSo we have general\npermission set up there.\n\n393\n00:18:28.920 --> 00:18:31.690\nAll we have the IPM tabs and\n\n394\n00:18:31.690 --> 00:18:36.390\nfolders being created our access to the\nIPM tasks folders were configured rather\n\n395\n00:18:36.390 --> 00:18:40.920\nI should say and our data base created and\nthis I said access configured.\n\n396\n00:18:40.920 --> 00:18:42.330\nSo let's click close here.\n\n397\n00:18:44.040 --> 00:18:45.550\nWe'll come out of this.\n\n398\n00:18:45.550 --> 00:18:48.730\nWe're now gonna see that we do have\na completed time and day stamp here.\n\n399\n00:18:48.730 --> 00:18:50.620\nA day stamp, I should say.\n\n400\n00:18:50.620 --> 00:18:52.350\nSo it tells us when we did this.\n\n401\n00:18:52.350 --> 00:18:53.840\nSo now we're set up for step three.\n\n402\n00:18:53.840 --> 00:18:56.496\nNow before we go there,\nlet's just do the following.\n\n403\n00:18:56.496 --> 00:18:58.616\nLet's just go over here.\n\n404\n00:18:58.616 --> 00:19:00.714\nAnd let's just go in here.\n\n405\n00:19:00.714 --> 00:19:04.784\nC:/Windows?System32.\n\n406\n00:19:06.600 --> 00:19:11.380\nAnd you'll see now we have\nan ipam directory right there.\n\n407\n00:19:11.380 --> 00:19:14.520\nLet's just go in there and\nremember we configured this.\n\n408\n00:19:14.520 --> 00:19:16.880\nThis was the path where we were\ngonna be putting our data base.\n\n409\n00:19:16.880 --> 00:19:18.050\nSee the data base folder.\n\n410\n00:19:18.050 --> 00:19:21.700\nAnd the other information, including\nthe audit logs and things that we'll have.\n\n411\n00:19:21.700 --> 00:19:23.520\nBut the database was provisioned.\n\n412\n00:19:23.520 --> 00:19:26.360\nAnd you can see right\nhere that is the WID,\n\n413\n00:19:26.360 --> 00:19:29.280\nthe Windows Internal Database file or\nset of files,\n\n414\n00:19:29.280 --> 00:19:34.360\nthe log file as well as the MDF file which\nis actually gonna contain all of our data.\n\n415\n00:19:34.360 --> 00:19:36.310\nThat's been created as part\nof the process, right?\n\n416\n00:19:36.310 --> 00:19:40.390\nSo that path we specified for\nthe default directory path for\n\n417\n00:19:40.390 --> 00:19:42.140\nthat is what we're looking at right here.\n\n418\n00:19:42.140 --> 00:19:44.620\nJust wanted to show that to you so\nyou can see what we have.\n\n419\n00:19:44.620 --> 00:19:46.500\nRight?\nWe'll have the ability to start\n\n420\n00:19:46.500 --> 00:19:47.560\ncreating audit logs and\n\n421\n00:19:47.560 --> 00:19:50.730\ndrop them in here throughout the rest of\nthe process as we finish configuring.\n\n422\n00:19:50.730 --> 00:19:53.070\nSo once we're up and\nrunning we'll see some of that.\n\n423\n00:19:53.070 --> 00:19:56.790\nOur bin directory is here, just with\nthe DLL that's required for IPAM work.\n\n424\n00:19:56.790 --> 00:20:00.980\nSo nothing too important there in the\nsense that it's just common Windows files.\n\n425\n00:20:00.980 --> 00:20:04.119\nAnd then provisioning,\nthis is where we see our group policy\n\n426\n00:20:05.270 --> 00:20:08.900\ninformation referencing, the group\npolicy objects that have been created,\n\n427\n00:20:08.900 --> 00:20:13.180\nyou see each one of those objects there,\nyou'll see the folders that are here with\n\n428\n00:20:13.180 --> 00:20:17.310\nthe this is referenced back\nto each one of these and\n\n429\n00:20:17.310 --> 00:20:20.990\nwe have information that uses to\nbe able to manage and apply those.\n\n430\n00:20:20.990 --> 00:20:24.460\nSo we could see there each one of\nthose referencable folders with\n\n431\n00:20:24.460 --> 00:20:27.920\nthe it's essentially group policy\nobject unique to that template.\n\n432\n00:20:27.920 --> 00:20:31.430\nAnd it's gonna help us to understand how\nto reference and manage that information.\n\n433\n00:20:31.430 --> 00:20:34.970\nSo we have all the things that we just\ncreated sitting there ready to go, right.\n\n434\n00:20:34.970 --> 00:20:37.010\nSo we were successful so far.\n\n435\n00:20:37.010 --> 00:20:40.360\nNext thing we gotta do is go in and\nconfigure the IP and\n\n436\n00:20:40.360 --> 00:20:44.330\nmanagement server discovery process or\nin other words step number three.\n\n437\n00:20:44.330 --> 00:20:45.320\nRight is the next one up.\n\n438\n00:20:45.320 --> 00:20:46.280\nSo we're gonna go through.\n\n439\n00:20:46.280 --> 00:20:46.930\nWe're gonna click this.\n\n440\n00:20:46.930 --> 00:20:49.650\nWe're gonna start going through and\ndoing discovery.\n\n441\n00:20:49.650 --> 00:20:52.190\nYes, Miss Cherokee, we have not\nheard from you in a little bit.\n\n442\n00:20:52.190 --> 00:20:52.890\nWhat is going on?\n\n443\n00:20:52.890 --> 00:20:54.930\n&gt;&gt; I know, this exciting,\nyou're trucking right along.\n\n444\n00:20:54.930 --> 00:20:59.240\nBut looking at that server discovery,\nsomething that I like to pay attention to,\n\n445\n00:20:59.240 --> 00:21:04.430\nAdam, some technologies require\na minimum function level for the forest.\n\n446\n00:21:04.430 --> 00:21:07.600\nIs there any kind of considerations that\nwe should be aware of when we're talking\n\n447\n00:21:07.600 --> 00:21:09.988\nabout the function level for\nserver discovery?\n\n448\n00:21:11.130 --> 00:21:12.205\n&gt;&gt; So yes and no.\n\n449\n00:21:12.205 --> 00:21:15.620\n[LAUGH] So we're gonna have a whole\ndiscussion on function level,\n\n450\n00:21:15.620 --> 00:21:20.350\ndomain and forest level function, what it\nis, what versions, how they interact, etc.\n\n451\n00:21:20.350 --> 00:21:23.190\nIt's gonna be upcoming in\none of our discussions in,\n\n452\n00:21:23.190 --> 00:21:27.700\na little bit later in the Active Directory\narea where we start talking about some of\n\n453\n00:21:27.700 --> 00:21:31.880\nthe exam objectives around AD sites and\nreplication and all that.\n\n454\n00:21:31.880 --> 00:21:34.170\nSo short answer is look,\nthere's always a consideration.\n\n455\n00:21:34.170 --> 00:21:37.570\nAlways a thing that we have to be aware\nof with regards to how domain and\n\n456\n00:21:37.570 --> 00:21:39.260\nforest functionality interacts.\n\n457\n00:21:39.260 --> 00:21:40.820\nThere are some dos and don'ts.\n\n458\n00:21:40.820 --> 00:21:41.610\nBut for the moment,\n\n459\n00:21:41.610 --> 00:21:45.040\nlet's assume that we're not gonna\nreally worry too much about that here.\n\n460\n00:21:45.040 --> 00:21:49.350\nIPAM is really more about managing\nphysical infrastructure, DNS,\n\n461\n00:21:49.350 --> 00:21:54.250\nDHCP, address accountability,\nunderstanding those uses.\n\n462\n00:21:54.250 --> 00:21:58.461\nWe're not as concerned about functionality\nlevels as we would be about trust\n\n463\n00:21:58.461 --> 00:22:02.736\nrelationships and how that would be\nimpacted or able to add domain controllers\n\n464\n00:22:02.736 --> 00:22:07.010\nbased on a forest level functionality\ncause we have to have the domain level and\n\n465\n00:22:07.010 --> 00:22:11.024\nthe forest level of functionality at\nthe same level to be able to add domain\n\n466\n00:22:11.024 --> 00:22:13.008\ncontrollers is one example right?\n\n467\n00:22:13.008 --> 00:22:16.493\nIf we have a 2012 R2 forest\nlevel function would\n\n468\n00:22:16.493 --> 00:22:20.235\nearlier domain control because\nthey won't be supported.\n\n469\n00:22:20.235 --> 00:22:22.332\nSo we have things to worry about there.\n\n470\n00:22:22.332 --> 00:22:23.220\nBut for here not so\n\n471\n00:22:23.220 --> 00:22:26.260\nmuch, not right now anyway so we'll see\nthat come up we'll see it come up later.\n\n472\n00:22:26.260 --> 00:22:29.850\nOne of the things I wanna just quickly\npoint out just use the opportunity as\n\n473\n00:22:29.850 --> 00:22:33.270\nCherokee was asking the question here,\nsimply just to expand all we do is just\n\n474\n00:22:33.270 --> 00:22:37.110\nmove over this frame to the right a little\nbit here but you could see that once we've\n\n475\n00:22:37.110 --> 00:22:41.400\nprovisioned Ipam before we even start with\nserver discovery look at all the stuff\n\n476\n00:22:41.400 --> 00:22:45.370\nthat's popped in here right I\nmean this was not there before.\n\n477\n00:22:45.370 --> 00:22:47.940\nAnd all of the sudden,\nas we've done the provisioning,\n\n478\n00:22:47.940 --> 00:22:52.590\nwe now have all of the pieces, that as we\ncontinue through the wizard, here, and\n\n479\n00:22:52.590 --> 00:22:54.082\nwe ultimately finish up.\n\n480\n00:22:54.082 --> 00:22:56.220\nWe're gonna be able to use to\nstart doing our management.\n\n481\n00:22:56.220 --> 00:22:59.240\nAnd you can see, and\nprobably guess from some of these items,\n\n482\n00:22:59.240 --> 00:23:00.460\nwhat the capabilities will be.\n\n483\n00:23:00.460 --> 00:23:05.248\nWe'll be able to look at server inventory,\nIP address, space overall,\n\n484\n00:23:05.248 --> 00:23:06.882\nblocks, range groups.\n\n485\n00:23:06.882 --> 00:23:09.517\nWe talked about virtualized\nIP address management and\n\n486\n00:23:09.517 --> 00:23:12.470\nthe tie-in to system center\nVirtual Machine Manager.\n\n487\n00:23:12.470 --> 00:23:14.810\nBeing able to see our\nvirtual infrastructure.\n\n488\n00:23:14.810 --> 00:23:17.000\nAccounting for that here,\nyou can see that.\n\n489\n00:23:17.000 --> 00:23:21.100\nMonitoring and management of the DNS and\nDHCP infrastructure overall.\n\n490\n00:23:21.100 --> 00:23:26.026\nThe DHCP scopes, the zones and the groups,\nthe event catalog looking at event IDs and\n\n491\n00:23:26.026 --> 00:23:27.130\nthings like that.\n\n492\n00:23:27.130 --> 00:23:31.806\nSo essentially yeah filtered event viewer\njust specific to event IDs around these\n\n493\n00:23:31.806 --> 00:23:36.559\ntechnologies and of course access control,\nsecurity and access control groups.\n\n494\n00:23:36.559 --> 00:23:38.964\nAnd we've also if you\ntake a look down here,\n\n495\n00:23:38.964 --> 00:23:42.929\nwe've also seen now all of this is\npopulated right we didn't see all this\n\n496\n00:23:42.929 --> 00:23:47.414\nbefore we now have information about the\nconfiguration summary of what was done,\n\n497\n00:23:47.414 --> 00:23:51.704\nand you'll notice also, if we could just\nscroll down a little bit more there,\n\n498\n00:23:51.704 --> 00:23:54.759\nthat we have scheduled tasks\nthat have been populated,\n\n499\n00:23:54.759 --> 00:23:59.230\nsome of which have not run yet, some of\nwhich are teed up and are ready to be run.\n\n500\n00:23:59.230 --> 00:24:01.590\nThings like server discovery,\nwhich we haven't done yet, right?\n\n501\n00:24:01.590 --> 00:24:02.460\nObviously.\n\n502\n00:24:02.460 --> 00:24:07.140\nBut things like address utilization,\nthings like server availability,\n\n503\n00:24:07.140 --> 00:24:10.030\nservice monitoring,\nare setup and have run.\n\n504\n00:24:10.030 --> 00:24:14.880\nIn the sense that we've gone through and\nused those tasks one time to validate\n\n505\n00:24:14.880 --> 00:24:18.300\nthe baseline for the system and then be\nprepared and ready for the next step.\n\n506\n00:24:18.300 --> 00:24:22.900\nSo we have done quite a bit of stuff\njust by clicking those buttons sitting\n\n507\n00:24:22.900 --> 00:24:25.540\nback waiting maybe a minute\nover long it took for\n\n508\n00:24:25.540 --> 00:24:27.930\nthe Wizard to finish and\ngive us complete screen.\n\n509\n00:24:27.930 --> 00:24:31.440\nAnd we've seen but\nnow all the infrastructure shell and\n\n510\n00:24:31.440 --> 00:24:33.800\nthe items linking to it are in place.\n\n511\n00:24:33.800 --> 00:24:36.490\nIn he upcoming conversation cause\nwe're just about out of time for\n\n512\n00:24:36.490 --> 00:24:39.400\nthe beginning of this episode or rather\nfor the beginning of this conversation,\n\n513\n00:24:39.400 --> 00:24:40.190\nthis episode.\n\n514\n00:24:40.190 --> 00:24:42.010\nBut in the next one as we come back so\n\n515\n00:24:42.010 --> 00:24:45.012\nwe are gonna get to that\nyou was excited about.\n\n516\n00:24:45.012 --> 00:24:47.604\nWhen we get to it and we come back\nwe're gonna jump into step three.\n\n517\n00:24:47.604 --> 00:24:51.156\nBut you're gonna see that now we're gonna\nleverage all of that infrastructure that's\n\n518\n00:24:51.156 --> 00:24:52.870\nbeen prepped out and built.\n\n519\n00:24:52.870 --> 00:24:54.940\nI'm gonna walk through\nthe rest of the installation.\n\n520\n00:24:54.940 --> 00:24:56.930\nAnd we're gonna start taking\nadvantage of all those things and\n\n521\n00:24:56.930 --> 00:24:58.310\nlinking them all together.\n\n522\n00:24:58.310 --> 00:25:02.090\n&gt;&gt; All right, sound like a plan and, yes,\nwe are gonna come back with a part 10,\n\n523\n00:25:02.090 --> 00:25:04.600\nso ladies and gentlemen,\nbe prepared for that.\n\n524\n00:25:04.600 --> 00:25:06.630\nFor this show,\nwe are gonna go ahead and sign out.\n\n525\n00:25:06.630 --> 00:25:08.800\nRemember, I'm your host Cherokee Boose.\n\n526\n00:25:08.800 --> 00:25:09.700\n&gt;&gt; I'm Adam Gordon.\n\n527\n00:25:09.700 --> 00:25:11.329\n&gt;&gt; See you next time here at ITProTV.\n\n528\n00:25:11.329 --> 00:25:18.555\n[MUSIC]\n\n529\n00:25:18.555 --> 00:25:21.156\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "224328197"
        },
        {
          "description": "In this episode, Adam and Cherokee continue to install and configure an IPAM Server. Adam also gets us acclimated with the interface and shows how easy it is to manage network servers. He even launches a DNS MMC right from within IPAM, talk about a one stop shop!",
          "length": "2037",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-10-advances_network_services_pt10-062917-PGM.00_47_39_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-10-advances_network_services_pt10-062917-PGM.00_47_39_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-10-advances_network_services_pt10-062917-PGM.00_47_39_28.Still001-sm.jpg",
          "title": "Advanced Network Services Part 10",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.305\nWelcome to IT Pro TV.\n\n2\n00:00:01.305 --> 00:00:02.891\nI'm your host, Don Pezet.\n\n3\n00:00:02.891 --> 00:00:06.649\n[CROSSTALK]\n\n4\n00:00:06.649 --> 00:00:08.308\n[MUSIC]\n\n5\n00:00:08.308 --> 00:00:12.062\n&gt;&gt; You're watching IT Pro TV.\n\n6\n00:00:12.062 --> 00:00:15.620\n&gt;&gt; Welcome to your MCSA 70-412 series.\n\n7\n00:00:15.620 --> 00:00:17.620\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.620 --> 00:00:22.010\nI'm super excited to make to Part 10,\nand I'm glad you're here to join us.\n\n9\n00:00:22.010 --> 00:00:26.252\nWe just finished walking through setting\nup that IPM server, and we have Mr.\n\n10\n00:00:26.252 --> 00:00:30.510\nAdam Gordon back in studios to help\nwith additional configuration options.\n\n11\n00:00:30.510 --> 00:00:31.590\nHow's it going today Adam?\n\n12\n00:00:31.590 --> 00:00:32.460\n&gt;&gt; Good.\nDo we have like the banner and\n\n13\n00:00:32.460 --> 00:00:33.270\nthe confetti and the firework?\n\n14\n00:00:33.270 --> 00:00:34.580\n&gt;&gt; I know, we need some explosions.\n\n15\n00:00:34.580 --> 00:00:36.466\n&gt;&gt; None of that stuff for part 10?\n\n16\n00:00:36.466 --> 00:00:37.421\nThat's a big deal.\n\n17\n00:00:37.421 --> 00:00:39.532\n&gt;&gt; Yeah, and pyrotechnics.\n&gt;&gt; We should have like dancing unicorns\n\n18\n00:00:39.532 --> 00:00:41.427\nand all sorts of crazy stuff, right?\n\n19\n00:00:41.427 --> 00:00:42.349\n&gt;&gt; [LAUGH] You made it, Part ten.\n\n20\n00:00:42.349 --> 00:00:43.020\nWoo hoo!\n\n21\n00:00:43.020 --> 00:00:43.914\n&gt;&gt; That's awesome.\n\n22\n00:00:43.914 --> 00:00:47.135\nNow if you have not gotten out\nof your seat for all parts and\n\n23\n00:00:47.135 --> 00:00:51.480\nyou've gone one to ten in sequence,\nthen you deserve a gold star.\n\n24\n00:00:51.480 --> 00:00:52.316\nAnd, wow.\n\n25\n00:00:52.316 --> 00:00:53.089\nYou should-\n&gt;&gt; And a bathroom break.\n\n26\n00:00:53.089 --> 00:00:54.025\n&gt;&gt; Yes, and a bathroom break.\n\n27\n00:00:54.025 --> 00:00:55.467\nYou should get up and walk around.\n\n28\n00:00:55.467 --> 00:00:56.418\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n29\n00:00:56.418 --> 00:00:59.442\nwe're gonna get back to our\nconversation here, jump back in.\n\n30\n00:00:59.442 --> 00:01:02.800\nWe're just at the beginning\nof configuring IPAM.\n\n31\n00:01:02.800 --> 00:01:05.950\nWe're about to jump into step 3 here,\nconfiguring Server Discovery.\n\n32\n00:01:05.950 --> 00:01:08.790\nSo we're gonna go ahead, we're gonna\nclick on that, continue our journey.\n\n33\n00:01:08.790 --> 00:01:12.490\nSo let me just do that, we'll launch our\nConfigure Server Discovery window here.\n\n34\n00:01:12.490 --> 00:01:15.180\nLet me bring this up so\nwe can see what's going on there.\n\n35\n00:01:15.180 --> 00:01:17.016\nActually let me move that over so\n\n36\n00:01:17.016 --> 00:01:20.280\nwe're away from that little\npesky blue square up there.\n\n37\n00:01:20.280 --> 00:01:21.880\nSo we could see what the settings are.\n\n38\n00:01:21.880 --> 00:01:26.224\nAll right, so what we're gonna\ndo now is we're gonna go in, and\n\n39\n00:01:26.224 --> 00:01:28.890\nwe're going to add in our root domain.\n\n40\n00:01:28.890 --> 00:01:31.830\nYou could see here,\nSelect domain to discover.\n\n41\n00:01:31.830 --> 00:01:35.410\nOur root domain practicelabs.com\nis there because remember,\n\n42\n00:01:35.410 --> 00:01:38.800\nwe are aware of the fact that\nthe IPAM server is in the domain.\n\n43\n00:01:38.800 --> 00:01:39.760\nIt is domain joined.\n\n44\n00:01:39.760 --> 00:01:42.580\nIt's domain member, PLA, what is it?\n\n45\n00:01:42.580 --> 00:01:45.490\nPLAIDDM01, practicelabs.com.\n\n46\n00:01:45.490 --> 00:01:49.249\nSo, we have knowledge of the root domain\nbut we have not added the domain into\n\n47\n00:01:49.249 --> 00:01:52.088\nactually configure yet for\nserver discovery purposes.\n\n48\n00:01:52.088 --> 00:01:56.066\nSo we're gonna do this, we're going to\nclick Add, that drops it down here and\n\n49\n00:01:56.066 --> 00:01:59.802\nthen notice that we have the ability\nto specify, select the server role or\n\n50\n00:01:59.802 --> 00:02:01.420\nroles we want to discover.\n\n51\n00:02:01.420 --> 00:02:04.260\nDomain controllers DHCP server,\nDNS server.\n\n52\n00:02:04.260 --> 00:02:07.302\nIf you're thinking through\nthe logic of what we did and\n\n53\n00:02:07.302 --> 00:02:10.430\ntracking back to the GPOs we just created,\nright?\n\n54\n00:02:10.430 --> 00:02:12.980\nThose are the three GPO\nobjects that we created.\n\n55\n00:02:12.980 --> 00:02:17.040\nOne for the domain controller with\nthe NPS, the network policy server.\n\n56\n00:02:17.040 --> 00:02:19.530\nOne for DHCP, and one for DNS.\n\n57\n00:02:19.530 --> 00:02:22.470\nSo we're gonna be tracking through and\nlooking at those, right?\n\n58\n00:02:22.470 --> 00:02:24.580\nSo just wanna make sure\nthat you're aware of that.\n\n59\n00:02:24.580 --> 00:02:27.030\nIf we don't want that there,\nobviously highlight that and remove.\n\n60\n00:02:27.030 --> 00:02:28.900\nWe can take that out of there if need be.\n\n61\n00:02:28.900 --> 00:02:31.632\nAll right, so we're gonna be able to\nadd that in once we've done that.\n\n62\n00:02:31.632 --> 00:02:34.648\nWe're then gonna go ahead,\nclick OK so that we can go ahead and\n\n63\n00:02:34.648 --> 00:02:35.760\nstart the discovery.\n\n64\n00:02:35.760 --> 00:02:39.160\nSo, we'll do that here in just a second.\n\n65\n00:02:39.160 --> 00:02:41.190\nNotice here next scheduled run time.\n\n66\n00:02:41.190 --> 00:02:45.185\nIt tells us when that discovery schedule\nis gonna be used, but importantly,\n\n67\n00:02:45.185 --> 00:02:48.390\nit also tells us that we can change\nthat schedule if we need to.\n\n68\n00:02:48.390 --> 00:02:52.844\nBy editing and it gives us a path here,\nMicrosoftWindowsIpamServerDiscovery\n\n69\n00:02:52.844 --> 00:02:57.300\nlocated in Task Scheduler on the IPAM\nserver requiring admin privileges.\n\n70\n00:02:57.300 --> 00:03:01.212\nAgain that kind of subtle but important\nminutiae that may become the subject of\n\n71\n00:03:01.212 --> 00:03:04.480\na question and answer session for\nyou at some point in the future.\n\n72\n00:03:04.480 --> 00:03:08.342\nMeaning, hey I could imagine\na question that goes something like,\n\n73\n00:03:08.342 --> 00:03:11.250\nwe need to modify\nthe server discovery task.\n\n74\n00:03:11.250 --> 00:03:12.360\nWhere would I go to do that?\n\n75\n00:03:12.360 --> 00:03:13.510\nWhat task is that?\n\n76\n00:03:13.510 --> 00:03:14.510\nCan I do that?\n\n77\n00:03:14.510 --> 00:03:18.690\nThree different ways to ask that question,\nthe answer is absolutely I can.\n\n78\n00:03:18.690 --> 00:03:21.740\nThe answer is this is the name of the task\nand this is where I go to find it.\n\n79\n00:03:21.740 --> 00:03:24.250\nYou should take note of that and\nmake sure you're aware of that.\n\n80\n00:03:24.250 --> 00:03:28.026\nThese are the small things you would\nnever find out about or know number one,\n\n81\n00:03:28.026 --> 00:03:30.390\nunless you actually did this hands on for\nreal.\n\n82\n00:03:30.390 --> 00:03:32.870\nAnd let's be honest,\nhow often do you set up an IPAM server?\n\n83\n00:03:32.870 --> 00:03:34.255\nAnd if you've set one up before,\n\n84\n00:03:34.255 --> 00:03:36.740\nit's not like you set them up\non an every day basis, right?\n\n85\n00:03:36.740 --> 00:03:40.608\nIt's one of the things you would set up\nmaybe once, twice at most unless you're\n\n86\n00:03:40.608 --> 00:03:44.246\ndoing this on a regular basis cuz\nyou're doing automated provisioning for\n\n87\n00:03:44.246 --> 00:03:46.060\nlots and lots and lots of customers.\n\n88\n00:03:46.060 --> 00:03:47.410\nYou still get a lot of exposure to this.\n\n89\n00:03:47.410 --> 00:03:50.502\nNumber two, unless you read all\nthe documentation on IPAM and\n\n90\n00:03:50.502 --> 00:03:52.049\ngo through all that material,\n\n91\n00:03:52.049 --> 00:03:56.450\nyou would never find out about this cuz\nyou would never know it's there, right?\n\n92\n00:03:56.450 --> 00:03:59.680\nSo it's one of those things you\nreally have to pay attention to and\n\n93\n00:03:59.680 --> 00:04:03.438\nknow one of the reasons we go through,\nread it methodically, step by step,\n\n94\n00:04:03.438 --> 00:04:07.316\nslowly and discuss these things with you\njust to point out this kind of stuff you\n\n95\n00:04:07.316 --> 00:04:09.110\ncan see it, so you're aware of it.\n\n96\n00:04:09.110 --> 00:04:13.466\n&gt;&gt; So I'm just kinda of curious, as I'm\ntrying to think of a really good reason as\n\n97\n00:04:13.466 --> 00:04:16.130\nto why I would modify\nthat default setting and-\n\n98\n00:04:16.130 --> 00:04:17.486\n&gt;&gt; C, the answer is always c.\n\n99\n00:04:17.486 --> 00:04:18.775\n&gt;&gt; [LAUGH] Okay.\n\n100\n00:04:18.775 --> 00:04:19.759\nFor multiple choice, got it.\n\n101\n00:04:19.759 --> 00:04:21.366\n&gt;&gt; Good reason, the answer is always C.\n\n102\n00:04:21.366 --> 00:04:25.839\n&gt;&gt; I can't imagine that we're discovering\ngenerating some kind of exorbitant amount\n\n103\n00:04:25.839 --> 00:04:26.980\nof network traffic.\n\n104\n00:04:26.980 --> 00:04:31.203\nSo I don't know, do you think the\ndefault's pretty common to go ahead and\n\n105\n00:04:31.203 --> 00:04:32.300\nleave that there?\n\n106\n00:04:32.300 --> 00:04:34.980\nOr would there be a reason why I\nwould wanna modify that interval?\n\n107\n00:04:36.110 --> 00:04:37.885\n&gt;&gt; Well it's not so much the interval,\nit's the run time, right?\n\n108\n00:04:37.885 --> 00:04:42.545\nIn other words the next scheduled\nrun time is 2:36, it looks like, 14.\n\n109\n00:04:42.545 --> 00:04:45.207\n[CROSSTALK] So it's not the interval,\nit's the run time,\n\n110\n00:04:45.207 --> 00:04:46.850\nit's the next scheduled run time.\n\n111\n00:04:46.850 --> 00:04:51.030\n&gt;&gt; So you can go through and change that\nschedule in terms of when it will run.\n\n112\n00:04:51.030 --> 00:04:53.470\nAnd yeah, I can think of a lot of reasons,\nthe one you just mentioned.\n\n113\n00:04:53.470 --> 00:04:56.260\nYou'll, initially anyway,\nto lay down the baseline, right?\n\n114\n00:04:56.260 --> 00:04:59.680\nThis could cause a lot of traffic as\nwe go out and discover infrastructure.\n\n115\n00:04:59.680 --> 00:05:01.960\nSo you may wanna do this\nduring off peak hours.\n\n116\n00:05:01.960 --> 00:05:06.169\nAnd then you may not want this running\nevery week, every two weeks, every month,\n\n117\n00:05:06.169 --> 00:05:07.090\nwhatever.\n\n118\n00:05:07.090 --> 00:05:10.513\nDuring normal business hours again because\nalthough we're gonna go and scan or\n\n119\n00:05:10.513 --> 00:05:12.045\nwe're gonna pull back in deltas and\n\n120\n00:05:12.045 --> 00:05:14.360\nupdate, there is a little\nbit of traffic obviously.\n\n121\n00:05:14.360 --> 00:05:16.873\nIt can probably not be\nthe difference between success and\n\n122\n00:05:16.873 --> 00:05:19.869\nfailure in our network, but\nit can add to the overall traffic load.\n\n123\n00:05:19.869 --> 00:05:20.745\n&gt;&gt; Something to consider.\n\n124\n00:05:20.745 --> 00:05:23.413\n&gt;&gt; It could obviously cause a little\nbit of disruption depending on what\n\n125\n00:05:23.413 --> 00:05:24.660\nelse we're doing.\n\n126\n00:05:24.660 --> 00:05:26.960\nSo, we may want to manage this and\njust be aware of that.\n\n127\n00:05:26.960 --> 00:05:29.730\nSo, we do have the option to go to\nmodify the task that's created.\n\n128\n00:05:29.730 --> 00:05:33.153\nRemember, I showed you all those scheduled\ntasks down in the bottom of the console\n\n129\n00:05:33.153 --> 00:05:36.540\nhere at the end of our last episode where\nwe said, hey look, we were successful.\n\n130\n00:05:36.540 --> 00:05:38.808\nWith step two,\nlook at all the things that changed, and\n\n131\n00:05:38.808 --> 00:05:41.090\nwe had a list of scheduled\ntasks that were set up.\n\n132\n00:05:41.090 --> 00:05:44.300\nThis one had not run yet, but\nwe did have it teed up there.\n\n133\n00:05:44.300 --> 00:05:47.450\nSo if we do want to go into modify that,\nand probably because we want to align\n\n134\n00:05:47.450 --> 00:05:51.110\nwith maybe our change management windows\nor maintenance windows, things like that.\n\n135\n00:05:51.110 --> 00:05:54.740\nWe may have a standing policy that says\ncertain kinds of behavior can only happen\n\n136\n00:05:54.740 --> 00:05:56.120\nduring those windows.\n\n137\n00:05:56.120 --> 00:05:58.540\nWe may have to modify that timing\nin order to align with that, so.\n\n138\n00:05:58.540 --> 00:05:59.100\n&gt;&gt; Good point, thank you.\n\n139\n00:05:59.100 --> 00:06:01.300\n&gt;&gt; That could certainly be why,\nat least in mind.\n\n140\n00:06:01.300 --> 00:06:02.817\n&gt;&gt; Yeah.\n&gt;&gt; One of the reasons why I'd think we'd\n\n141\n00:06:02.817 --> 00:06:03.400\nwanna do that.\n\n142\n00:06:03.400 --> 00:06:04.620\nAll right, let's click OK here.\n\n143\n00:06:05.870 --> 00:06:08.600\nAll right, so,\ndomain selected one as you can see here.\n\n144\n00:06:08.600 --> 00:06:10.710\nNow, we haven't done discovery yet.\n\n145\n00:06:10.710 --> 00:06:13.280\nThis was step three,\nconfigure Server Discovery.\n\n146\n00:06:13.280 --> 00:06:17.080\nWe're about to go to step four,\nright up above me, right there, actually.\n\n147\n00:06:17.080 --> 00:06:19.730\nAnd you could see step four\nstarts server discovery, right?\n\n148\n00:06:19.730 --> 00:06:22.130\nSo, now, we've configured it but\nwe haven't run it yet.\n\n149\n00:06:22.130 --> 00:06:25.480\nAnd this also an important distinction,\nbased on what we were just talking about.\n\n150\n00:06:25.480 --> 00:06:29.411\nYou could configure it, but\nit's teed up and ready to go at, 2:40 or\n\n151\n00:06:29.411 --> 00:06:32.520\nwhatever that time would\nbe localized to the server.\n\n152\n00:06:32.520 --> 00:06:36.854\nIf I don't actually go and do something,\nand kick it off beforehand manually,\n\n153\n00:06:36.854 --> 00:06:38.225\nit'll run at that time.\n\n154\n00:06:38.225 --> 00:06:40.621\nSo I may have to go modify\nthat to Cherokee's point,\n\n155\n00:06:40.621 --> 00:06:43.115\ncuz I may not want it\nrunning at that time, right?\n\n156\n00:06:43.115 --> 00:06:46.963\nBut if I leave it to its own devices, or\nI just walk away and come back in four or\n\n157\n00:06:46.963 --> 00:06:50.210\nfive hours, whatever it is,\nto get across the 240 barrier,\n\n158\n00:06:50.210 --> 00:06:53.660\nI will see that that will actually\nhave populated and run on its own.\n\n159\n00:06:53.660 --> 00:06:56.739\nSo we've teed it up to essentially\ngo off in an automated fashion but\n\n160\n00:06:56.739 --> 00:07:00.300\nif I wanna manually trigger this ahead of\ntime, I go to step four and I do that.\n\n161\n00:07:00.300 --> 00:07:03.200\nSo it's a question of what I wanna do,\nhow I wanna see that,\n\n162\n00:07:03.200 --> 00:07:04.830\nhow quickly I want that to occur.\n\n163\n00:07:04.830 --> 00:07:07.174\nSo are you feeling lucky, or\nshould we just walk away and wait?\n\n164\n00:07:07.174 --> 00:07:09.365\nThat would be like a Part 11, so\nwe have to wait for like four hours.\n\n165\n00:07:09.365 --> 00:07:11.000\n&gt;&gt; Adam, let's live on the edge.\n\n166\n00:07:11.000 --> 00:07:13.348\nWe're not living if we don't\nstart the IPAM server.\n\n167\n00:07:13.348 --> 00:07:14.185\n&gt;&gt; You wanna start-\n&gt;&gt; [LAUGH]\n\n168\n00:07:14.185 --> 00:07:15.036\n&gt;&gt; I was gonna say we should like\n\n169\n00:07:15.036 --> 00:07:17.215\ntalk about something totally unrelated and\nthen just see what happens.\n\n170\n00:07:17.215 --> 00:07:17.799\nSo you want to do that?\n\n171\n00:07:17.799 --> 00:07:18.311\nAll right.\n\n172\n00:07:18.311 --> 00:07:19.857\nWe'll do it the right way.\n\n173\n00:07:19.857 --> 00:07:20.654\nAll right, so let's go ahead.\n\n174\n00:07:20.654 --> 00:07:21.609\nLet's start discovery.\n\n175\n00:07:21.609 --> 00:07:25.958\nSo what we see is,\nlet me scroll over so you can see this.\n\n176\n00:07:25.958 --> 00:07:28.956\nSo there are one or more IPAM tasks\nrunning in the task scheduler.\n\n177\n00:07:28.956 --> 00:07:30.293\nPlease wait for completion.\n\n178\n00:07:30.293 --> 00:07:34.381\nSee a little blue Cylon bar there,\nkind of tracking across, right?\n\n179\n00:07:34.381 --> 00:07:36.459\nYou get the whole\nBattlestar Galatica reference?\n\n180\n00:07:36.459 --> 00:07:37.258\nProbably not, right?\n\n181\n00:07:37.258 --> 00:07:37.994\n&gt;&gt; No.\n[LAUGH]\n\n182\n00:07:37.994 --> 00:07:38.745\n&gt;&gt; Okay, all right.\n\n183\n00:07:38.745 --> 00:07:40.523\nSo We've got that task running,\n\n184\n00:07:40.523 --> 00:07:45.360\nnotice down here server discovery task is\nrunning right now, you see it right there?\n\n185\n00:07:45.360 --> 00:07:47.250\nIt does say it's running,\njust highlighted.\n\n186\n00:07:47.250 --> 00:07:49.660\nSo we are seeing that go in real time.\n\n187\n00:07:49.660 --> 00:07:52.320\nSo we did kick that off,\nwe can tell that is happening.\n\n188\n00:07:52.320 --> 00:07:53.136\nIt says hey, be patient.\n\n189\n00:07:53.136 --> 00:07:55.080\nNow this is gonna take a few minutes,\n\n190\n00:07:55.080 --> 00:07:59.118\nso what we're gonna do is we're gonna\nuse the magic of ITProTV production.\n\n191\n00:07:59.118 --> 00:08:02.926\nYou're gonna come back as soon as this is\nfinished and it's gonna be like it never\n\n192\n00:08:02.926 --> 00:08:06.398\nactually Went away cuz we're gonna just\nappear [NOISE] just like that, and\n\n193\n00:08:06.398 --> 00:08:08.194\nit's gonna be all set and ready to go.\n\n194\n00:08:08.194 --> 00:08:09.880\nSo you're gonna come back and\njoin us in just one sec.\n\n195\n00:08:11.310 --> 00:08:13.190\nAll right, so as I said,\n\n196\n00:08:13.190 --> 00:08:18.035\nthe magic of modern ITProTV production,\nand [NOISE] there we go.\n\n197\n00:08:18.035 --> 00:08:20.180\nLook at that, we are done.\n\n198\n00:08:20.180 --> 00:08:23.290\nAnd you can see discovered\nservers have been found.\n\n199\n00:08:23.290 --> 00:08:24.780\nIt gives a little date and time stamp.\n\n200\n00:08:24.780 --> 00:08:27.730\nNext data collection will be,\ntell us when it's gonna run again.\n\n201\n00:08:27.730 --> 00:08:29.010\nPlease refresh to update the view.\n\n202\n00:08:29.010 --> 00:08:30.610\nGreat, we're gonna get\nto that in a minute.\n\n203\n00:08:30.610 --> 00:08:34.750\nWe come down here, and\nwe'll see a couple of things have changed.\n\n204\n00:08:34.750 --> 00:08:38.170\nNumber one, Managed Domains,\nwe now see our domain list.\n\n205\n00:08:38.170 --> 00:08:38.880\nRemember before,\n\n206\n00:08:38.880 --> 00:08:43.310\nup until now, we've just seen hey, we have\nour server, managed Domains was blank.\n\n207\n00:08:43.310 --> 00:08:45.380\nWe knew we were targeting,\nthat domain, but\n\n208\n00:08:45.380 --> 00:08:47.450\nwe haven't actually set it all up and\nput it in there yet.\n\n209\n00:08:47.450 --> 00:08:48.880\nSo now, we see that, that is there.\n\n210\n00:08:48.880 --> 00:08:53.230\nAnd we can see the server discovery task\nhas now changed from running to ready,\n\n211\n00:08:53.230 --> 00:08:57.110\nso it's t'd up for the next time we\nneed to run that, so that's good.\n\n212\n00:08:57.110 --> 00:08:58.210\nWe have that done, and\n\n213\n00:08:58.210 --> 00:09:02.710\nit does allow us now to move from\nstart server discovery to select or\n\n214\n00:09:02.710 --> 00:09:06.730\nadd servers to manage, and verify\niPam addresses or iPam access rather.\n\n215\n00:09:06.730 --> 00:09:08.990\nSo we're gonna move to step five.\n\n216\n00:09:08.990 --> 00:09:09.930\nLet's go in and do that.\n\n217\n00:09:09.930 --> 00:09:13.110\nBut before we do that,\nlet's just take one quick look here.\n\n218\n00:09:13.110 --> 00:09:14.520\nLet's go over here to Server Inventory.\n\n219\n00:09:14.520 --> 00:09:17.570\nJust wanna show you\nsomething before we go.\n\n220\n00:09:17.570 --> 00:09:20.150\nSet managed ability status unspecified,\nright?\n\n221\n00:09:20.150 --> 00:09:21.210\nWe're not quite there yet.\n\n222\n00:09:21.210 --> 00:09:23.870\nYou'll notice that IPAM\naccess status is blocked.\n\n223\n00:09:23.870 --> 00:09:26.830\nWe're gonna be configuring and\ndealing with that right now in step five.\n\n224\n00:09:26.830 --> 00:09:28.810\nBut we've found the server.\n\n225\n00:09:28.810 --> 00:09:32.330\nAnd you can see practicelabs.com,\nour domain, our domain suffix,\n\n226\n00:09:32.330 --> 00:09:34.300\nour server name for the domain controller.\n\n227\n00:09:34.300 --> 00:09:36.100\nWe found the server,\nwe know it's there, but\n\n228\n00:09:36.100 --> 00:09:37.910\nwe're not quite ready\nto finish managing it.\n\n229\n00:09:37.910 --> 00:09:40.770\nWe still have to do a little bit\nof tinkering to get that done, so\n\n230\n00:09:40.770 --> 00:09:42.450\nwe are just taking a look and\n\n231\n00:09:42.450 --> 00:09:46.130\nkinda methodically working through our\nsteps here, but we do wanna know that.\n\n232\n00:09:46.130 --> 00:09:50.030\nNow, if we go down, you'll be able to do\nthis again obviously after we get done,\n\n233\n00:09:50.030 --> 00:09:53.180\nand we can show you that, but\nif we go down here, just scroll down and\n\n234\n00:09:53.180 --> 00:09:56.660\njust move this over, could we go--there we\ngo, thank you very much--you'll see that\n\n235\n00:09:56.660 --> 00:10:00.700\nwe do have detailed views on a lot of\nthe information we provide up at the top.\n\n236\n00:10:00.700 --> 00:10:02.030\nWe only have one server there right now.\n\n237\n00:10:02.030 --> 00:10:03.750\nOur demand controller but, you could see,\n\n238\n00:10:03.750 --> 00:10:05.960\nwe could see a little\nbit more information.\n\n239\n00:10:05.960 --> 00:10:11.300\nIP address, domain space, the OS, so\nthat's obviously important to know.\n\n240\n00:10:11.300 --> 00:10:13.190\nIs the DNS suffix available?\n\n241\n00:10:13.190 --> 00:10:16.500\nWhat kind of information's running,\nor GWid, on the server.\n\n242\n00:10:16.500 --> 00:10:20.740\nWhen we have gone out and\nfound it, what the information is?\n\n243\n00:10:20.740 --> 00:10:22.140\nAnd again, notice all this is blocked.\n\n244\n00:10:22.140 --> 00:10:26.040\nRight now, we're gonna address this\nin step five here, in just a moment.\n\n245\n00:10:26.040 --> 00:10:30.900\nBut we could see all that, and if we\ngo down to the bottom here, I know it's\n\n246\n00:10:30.900 --> 00:10:34.720\nkinda hard to see, but I'm just gonna\nscroll down on the edge here, for you.\n\n247\n00:10:34.720 --> 00:10:38.220\nYou see IPv4, Managed Servers,\nUnmanaged Servers.\n\n248\n00:10:38.220 --> 00:10:42.400\nAnd remember we talked about the fact that\nwe also have IPv6 capabilities, Managed,\n\n249\n00:10:42.400 --> 00:10:43.740\nUnmanaged there as well.\n\n250\n00:10:43.740 --> 00:10:46.740\nSo we do have the ability to start\ndrilling in and seeing one or both.\n\n251\n00:10:46.740 --> 00:10:50.360\nAnd breaking out that information as we\ngo, and we're gonna be able to delve more\n\n252\n00:10:50.360 --> 00:10:54.180\ninto that and\nsee more about that as we get going.\n\n253\n00:10:54.180 --> 00:10:56.220\nAll right, so we're going to\nobviously take advantage of that,\n\n254\n00:10:56.220 --> 00:10:59.510\nsee some of that stuff as\nwe go through here, right.\n\n255\n00:10:59.510 --> 00:11:02.840\nWe do have our event catalog,\nnotice we don't have anything with IPAM\n\n256\n00:11:02.840 --> 00:11:07.210\nconfiguration yet, but we obviously\nwill start to populate this as we go.\n\n257\n00:11:07.210 --> 00:11:09.970\nWe do have access control we\ndo have our built in roles.\n\n258\n00:11:09.970 --> 00:11:11.460\nJust give you a little sense\nof what we've been doing.\n\n259\n00:11:11.460 --> 00:11:14.320\nSome of the things that have been\ngoing on behind the scenes before we\n\n260\n00:11:14.320 --> 00:11:16.210\ncontinue our configuration.\n\n261\n00:11:16.210 --> 00:11:20.840\nSo we do have our roles or our built in\nroles as with many Microsoft products we\n\n262\n00:11:20.840 --> 00:11:24.290\ndo use as we said the R back model,\nthe role based access control.\n\n263\n00:11:24.290 --> 00:11:28.220\nDelegated administration,\nvery common standard permission model.\n\n264\n00:11:28.220 --> 00:11:32.330\nAnd as a result we do have built in rules\nthat we can use to manage most everything,\n\n265\n00:11:32.330 --> 00:11:35.040\nand IPAM is no exception in this regard.\n\n266\n00:11:35.040 --> 00:11:38.950\nAnd you'll see DNS record administrator,\nIP address,\n\n267\n00:11:38.950 --> 00:11:43.280\na record admin, a IPAM admin,\nobviously that's an important one.\n\n268\n00:11:43.280 --> 00:11:44.830\nBut these are all built in roles.\n\n269\n00:11:44.830 --> 00:11:47.410\nAnd we have the ability\nto be able to assign.\n\n270\n00:11:47.410 --> 00:11:51.260\nOne or more users to them or groups of\nusers to then delegate out permissions.\n\n271\n00:11:51.260 --> 00:11:54.440\nWhen we highlight any one of those roles,\n\n272\n00:11:54.440 --> 00:11:58.820\nlet's say the IPM admin role just to\nshow you see it does change down there.\n\n273\n00:11:58.820 --> 00:12:02.820\nAs I do that, I wanna go down and\nwe look at the DTL view.\n\n274\n00:12:02.820 --> 00:12:06.360\nYou'll see we do have a brief description,\ntells us what it is,\n\n275\n00:12:06.360 --> 00:12:08.820\nit's built in,\nwhat operations it's capable of,\n\n276\n00:12:08.820 --> 00:12:12.820\nnotice the ipin admin has quite\na long laundry of list of everything.\n\n277\n00:12:12.820 --> 00:12:15.010\nIt's essential got rights to everything\nif you think about it, right.\n\n278\n00:12:15.010 --> 00:12:17.860\nIt is the equivalent of a domain admin or\nfull admin.\n\n279\n00:12:17.860 --> 00:12:21.610\nRight t the interface so\nwe can see all of that, and yeah,\n\n280\n00:12:21.610 --> 00:12:24.840\nwe can see event related information\nabout the role and its use.\n\n281\n00:12:24.840 --> 00:12:28.610\nSo the interface is nice, because it does\ngive us the ability to quickly move around\n\n282\n00:12:28.610 --> 00:12:31.350\nand find correlational information.\n\n283\n00:12:31.350 --> 00:12:35.660\nInformation that can be correlated between\ntwo different instances to understand and\n\n284\n00:12:35.660 --> 00:12:37.450\nsee about what's happening.\n\n285\n00:12:37.450 --> 00:12:38.710\nSo I like that.\n\n286\n00:12:38.710 --> 00:12:42.460\nWe do have our access scopes and\npolicies available under here.\n\n287\n00:12:42.460 --> 00:12:46.920\nSo with our access scope we can see\nthat our access is global, right?\n\n288\n00:12:46.920 --> 00:12:49.970\nMeaning we do have full rights\nto the entire infrastructure.\n\n289\n00:12:49.970 --> 00:12:53.240\nAnd we do have details about\nthat in our event catalogue.\n\n290\n00:12:53.240 --> 00:12:55.510\nAnd if there's any access policies,\nwe would see those.\n\n291\n00:12:55.510 --> 00:12:56.800\nThey have not been created yet.\n\n292\n00:12:56.800 --> 00:13:00.490\nBut obviously, that'll come as part\nof us finishing up the configuration.\n\n293\n00:13:00.490 --> 00:13:03.730\nSo I just wanted to show you some of\nthe stuff that's happening there, give you\n\n294\n00:13:03.730 --> 00:13:07.130\na sense of how things are progressing and\nwhere thing are starting to bubble up and\n\n295\n00:13:07.130 --> 00:13:11.550\nmake changes, it's a good idea after every\nstep that you engage in a whizzes like,\n\n296\n00:13:11.550 --> 00:13:16.170\nspecial one that's got six steps\ninvolved with it, four of them really\n\n297\n00:13:16.170 --> 00:13:20.650\nactionable and tangible and things like\nchanging a we go through four of them,\n\n298\n00:13:20.650 --> 00:13:24.780\nif you eliminate step one and kind of step\nthree, in a sense step three is just hey\n\n299\n00:13:24.780 --> 00:13:28.140\nlet's configure but step four is\nreally where we scan and find.\n\n300\n00:13:28.140 --> 00:13:30.870\nAnd step one is just let's make\nsure we're connected to the server.\n\n301\n00:13:30.870 --> 00:13:33.410\nIf we kinda put those off to the side and\nsay, those are good, but\n\n302\n00:13:33.410 --> 00:13:34.720\nthey're kind of self contained.\n\n303\n00:13:34.720 --> 00:13:37.000\nThere's nothing happening\nafter we do that.\n\n304\n00:13:37.000 --> 00:13:40.780\nIf we look at all the other steps, a good\nidea for you to go in and click around and\n\n305\n00:13:40.780 --> 00:13:41.960\nsee what's changing, right,\n\n306\n00:13:41.960 --> 00:13:46.230\nas you engage in these activities\nunderstand that changes that are occurring\n\n307\n00:13:46.230 --> 00:13:48.600\nas a result of the actions you're\ntaking is what I'm suggesting to you.\n\n308\n00:13:48.600 --> 00:13:51.660\nIt's a great way to understand and\nlearn more about what's happening.\n\n309\n00:13:51.660 --> 00:13:53.960\nIt's a great way to become\nfamiliar with the interface so\n\n310\n00:13:53.960 --> 00:13:56.140\nyou have a better idea\nof how this is working.\n\n311\n00:13:56.140 --> 00:13:58.410\nAlright, so we've done all this,\nwe're now over here.\n\n312\n00:13:58.410 --> 00:14:02.300\nAt step five, select or add severs to\nadd and manage and verify Ipan access.\n\n313\n00:14:02.300 --> 00:14:02.870\nWe're gonna go ahead.\n\n314\n00:14:02.870 --> 00:14:04.090\nWe're gonna click there.\n\n315\n00:14:04.090 --> 00:14:05.270\nGive that just a second.\n\n316\n00:14:05.270 --> 00:14:07.950\nThat takes us right back to where\nwe were with server inventory,\n\n317\n00:14:07.950 --> 00:14:09.780\nas I was showing you just a minute ago.\n\n318\n00:14:09.780 --> 00:14:10.944\nSo, what we're gonna do now.\n\n319\n00:14:11.965 --> 00:14:15.265\nAnd we took a look at the details already,\nwe're gonna go ahead and\n\n320\n00:14:15.265 --> 00:14:17.605\nwe are going to do the following.\n\n321\n00:14:17.605 --> 00:14:22.495\nWe're gonna go in, and were gonna go\nto PowerShell, I'm gonna invoke or\n\n322\n00:14:22.495 --> 00:14:26.815\nuse, the invoke eye palm set up and\n\n323\n00:14:26.815 --> 00:14:31.195\nconfigure access, yes I'm gonna show\nyou the PowerShell here in realtime, so\n\n324\n00:14:31.195 --> 00:14:33.800\nwe see this is blocked,\nwe took a look at that already.\n\n325\n00:14:33.800 --> 00:14:36.950\nLet me just come down here,\ngot to get my little task board opened up,\n\n326\n00:14:36.950 --> 00:14:41.180\nbring this back up, we're in power shell\nearlier, we haven't done the things what\n\n327\n00:14:41.180 --> 00:14:44.350\nwe're gonna do is type, you're gonna\nbear with me here while I type, and\n\n328\n00:14:44.350 --> 00:14:48.205\ntalk to myself because I didn't pre typed\nthis one, one, I want you to see this.\n\n329\n00:14:48.205 --> 00:14:50.015\nBut this is a little bit of a long string.\n\n330\n00:14:50.015 --> 00:14:52.725\nIt's gonna take a minute or so\nfor me to get this in there, and\n\n331\n00:14:52.725 --> 00:14:54.623\neven longer if I have to do it correctly,\nall right?\n\n332\n00:14:54.623 --> 00:14:57.495\n[LAUGH] So Invoke-IpanGPOProvisioning.\n\n333\n00:14:57.495 --> 00:15:00.735\nI'm using the auto tab feature, so\nthat I don't have to type everything and\n\n334\n00:15:00.735 --> 00:15:03.275\nit comes up and\nyou can see it very easily.\n\n335\n00:15:03.275 --> 00:15:06.320\nSo we're gonna use\nthe Invoke-IpanGPOProvisioning commandlet.\n\n336\n00:15:06.320 --> 00:15:08.960\nWe're gonna use our domain parameter here.\n\n337\n00:15:08.960 --> 00:15:12.140\nWe've got to specify what domain\nname space we're targeting.\n\n338\n00:15:12.140 --> 00:15:14.463\nThis will be practicelabs.com.\n\n339\n00:15:14.463 --> 00:15:17.040\nSo let me type that in.\n\n340\n00:15:17.040 --> 00:15:21.100\nAnd then, we're gonna do our\ngpo prefix name parameter.\n\n341\n00:15:21.100 --> 00:15:23.130\nSo let's do gpoprefixname.\n\n342\n00:15:23.130 --> 00:15:26.210\nWe've got that there.\n\n343\n00:15:27.300 --> 00:15:29.790\nRemember that is gonna\nbe what we typed in.\n\n344\n00:15:31.550 --> 00:15:33.460\nRight.\nThat was the P labs.\n\n345\n00:15:33.460 --> 00:15:36.530\nObviously, whatever you typed into\nthe interface is what you're gonna use.\n\n346\n00:15:36.530 --> 00:15:38.170\nSo, you know, just remember that.\n\n347\n00:15:38.170 --> 00:15:40.500\nObviously, you have to make a note as you\ngo through and are detailing that out.\n\n348\n00:15:40.500 --> 00:15:42.050\nAlright, so we got that.\n\n349\n00:15:42.050 --> 00:15:44.585\nThen we're gonna do our Ipan server FQDN.\n\n350\n00:15:44.585 --> 00:15:49.736\nParameter, so -ipam server FQDN,\nwe have that there.\n\n351\n00:15:49.736 --> 00:15:54.668\nAnd then, that's gonna be our\nmachine name, that'll be plab, or\n\n352\n00:15:54.668 --> 00:16:00.045\nour IPAM server name, I should say,\nplabdb01.practicelabs.com.\n\n353\n00:16:00.045 --> 00:16:01.831\nLet's type that in.\n\n354\n00:16:01.831 --> 00:16:03.840\nNow, the names are not case sensitive.\n\n355\n00:16:03.840 --> 00:16:08.094\nYou see the cmdlets are capitalized\naccording to the standard in PowerShell\n\n356\n00:16:08.094 --> 00:16:10.030\nbut they're not case sensitive.\n\n357\n00:16:10.030 --> 00:16:12.332\nEven if I typed everything in lower case,\nit wouldn't matter.\n\n358\n00:16:12.332 --> 00:16:13.785\nIt would be perfectly fine.\n\n359\n00:16:13.785 --> 00:16:16.755\nSo, that's not a problem,\nit's just that when you do the auto tab,\n\n360\n00:16:16.755 --> 00:16:21.205\nPowerShell grammatically correctly\nfrom a syntax perspective capitalizes\n\n361\n00:16:21.205 --> 00:16:23.495\nto align with the way\nthe cmdlets are normally put in.\n\n362\n00:16:23.495 --> 00:16:26.905\nBut there's no information or\nconcern there one way or the other.\n\n363\n00:16:26.905 --> 00:16:29.423\nAll right, so plabdm01.\n\n364\n00:16:29.423 --> 00:16:31.645\nJust wanna make sure that's all there.\n\n365\n00:16:31.645 --> 00:16:36.228\nLet me just make sure I put a 0 there and\nnot a although I think I did,\n\n366\n00:16:36.228 --> 00:16:39.100\nyeah, okay, just wanted to make sure.\n\n367\n00:16:39.100 --> 00:16:42.050\nSo, I was talking and not paying attention\nto what I was typing and of course,\n\n368\n00:16:42.050 --> 00:16:44.190\nthat would require us to\nredo the whole thing.\n\n369\n00:16:44.190 --> 00:16:48.160\nAll right, we've got that,\nlast thing is delegated GPO user.\n\n370\n00:16:48.160 --> 00:16:53.620\nSo, let's just put that one in,\ndelegatedgpouser,\n\n371\n00:16:53.620 --> 00:16:57.045\ndelegate, delegated, there we go.\n\n372\n00:16:57.045 --> 00:16:59.430\nDelegatedgpouser, option, and\n\n373\n00:16:59.430 --> 00:17:03.490\nthat's gonna be the name of our delegated\nGPU user, which will be the administrator.\n\n374\n00:17:03.490 --> 00:17:05.469\nSo, let's put that one in.\n\n375\n00:17:05.469 --> 00:17:07.998\nAll right, so what we're gonna do now,\ngonna hit Enter here,\n\n376\n00:17:07.998 --> 00:17:09.220\ngive that just a second.\n\n377\n00:17:09.220 --> 00:17:12.310\nComes up, says hey, by the way,\nare you sure you wanna do this?\n\n378\n00:17:12.310 --> 00:17:13.442\nConfirm please.\n\n379\n00:17:13.442 --> 00:17:17.520\nAnd that's one of the nice things\nabout PowerShell in doing this, right?\n\n380\n00:17:17.520 --> 00:17:21.108\nIts gonna launch this cmdlet, but there's\na lot of built-in logic, typically.\n\n381\n00:17:21.108 --> 00:17:24.726\nAnd a lot of times we'll have to actually\nconfirm that we wanna do this as opposed\n\n382\n00:17:24.726 --> 00:17:27.090\nto just having it execute automatically.\n\n383\n00:17:27.090 --> 00:17:31.540\nMay seem like a bit of a nuisance for you\nbut if you stop and think about the logic,\n\n384\n00:17:31.540 --> 00:17:34.980\nthe systems querying you and really just\nmaking sure this is what you meant to do.\n\n385\n00:17:34.980 --> 00:17:36.620\nKind of a final safety check, right?\n\n386\n00:17:36.620 --> 00:17:39.900\nTo make sure you're not about to go do\nsomething that you weren't meaning to do.\n\n387\n00:17:39.900 --> 00:17:43.710\nSo, we're gonna click yes there, right,\nso we're gonna click Y, I should say, or\n\n388\n00:17:43.710 --> 00:17:44.970\ntype Y for yes.\n\n389\n00:17:44.970 --> 00:17:49.329\n&gt;&gt; And I've even seen for different\nscripting environments for the PowerShell\n\n390\n00:17:49.329 --> 00:17:53.631\nhere and they put confirm equals true to\ngo ahead and auto confirm it for you.\n\n391\n00:17:53.631 --> 00:17:57.963\nBut I tend to leave those off at the end,\nthose additional parameters, just so\n\n392\n00:17:57.963 --> 00:18:01.600\nthat you can be reminded as\na last little check sum there.\n\n393\n00:18:01.600 --> 00:18:04.270\nOr, warning,\ndanger Will Robinson kind of thing.\n\n394\n00:18:04.270 --> 00:18:06.246\nHey, are you sure this\nis what you wanna do?\n\n395\n00:18:06.246 --> 00:18:07.480\n&gt;&gt; Yes.\n&gt;&gt; But, that's up to you.\n\n396\n00:18:07.480 --> 00:18:08.308\n&gt;&gt; Absolutely, up to you.\n\n397\n00:18:08.308 --> 00:18:11.393\nAnd while we were talking, you may have\nseen flash across the screen in a little\n\n398\n00:18:11.393 --> 00:18:13.380\ngreen window,\nwe were provisioning those GPOs.\n\n399\n00:18:13.380 --> 00:18:15.870\nThey actually were all successful,\nthey just went in.\n\n400\n00:18:15.870 --> 00:18:18.730\nSo, we're gonna switch over to our\ndomain controller for a minute.\n\n401\n00:18:18.730 --> 00:18:22.590\nDo a gpupdate force, or\ngpupdate refresh on the policy.\n\n402\n00:18:22.590 --> 00:18:25.070\nSo, we're gonna leave this console open,\nbut\n\n403\n00:18:25.070 --> 00:18:28.280\nI'm just gonna minimize the actual window.\n\n404\n00:18:28.280 --> 00:18:29.130\nAnd while we're doing that,\n\n405\n00:18:29.130 --> 00:18:33.725\nby the way, let me just extend\nour timer on our lab environment.\n\n406\n00:18:33.725 --> 00:18:35.750\nWe're gonna come over here\nto our domain controller.\n\n407\n00:18:35.750 --> 00:18:38.690\nWe just have DHCP open there,\nreally more for me, so\n\n408\n00:18:38.690 --> 00:18:40.890\nI know which machine it is\nmore than anything else.\n\n409\n00:18:40.890 --> 00:18:42.338\nBut you'll see DHCP is open.\n\n410\n00:18:42.338 --> 00:18:46.002\nWe obviously need that for the IPAM\ncapability to be able to go out and\n\n411\n00:18:46.002 --> 00:18:47.046\nfind DHCP and DNS.\n\n412\n00:18:47.046 --> 00:18:49.950\nAnd those systems are running\non the domain controller, right?\n\n413\n00:18:49.950 --> 00:18:51.740\nAll right, so we're gonna minimize here.\n\n414\n00:18:51.740 --> 00:18:55.010\nWe're gonna go into PowerShell.\n\n415\n00:18:55.010 --> 00:18:56.520\nWe have that open here.\n\n416\n00:18:56.520 --> 00:19:00.110\nLet me just go ahead and clear\nthe screen out here real quick, just so\n\n417\n00:19:00.110 --> 00:19:01.170\nwe can work with that.\n\n418\n00:19:01.170 --> 00:19:05.331\nThat was just the command line to\nsetup DHCP that I had used just to get\n\n419\n00:19:05.331 --> 00:19:06.791\nthe system installed.\n\n420\n00:19:06.791 --> 00:19:08.235\nAll right, we're gonna do a gpupdate here.\n\n421\n00:19:08.235 --> 00:19:10.010\nSo, let me just do that.\n\n422\n00:19:10.010 --> 00:19:11.390\nAnd do a /force.\n\n423\n00:19:11.390 --> 00:19:14.670\nForce us to do a refresh\non the group policy.\n\n424\n00:19:14.670 --> 00:19:16.160\nAlways important to do that.\n\n425\n00:19:16.160 --> 00:19:18.300\nThat won't take too long,\ntake just a moment.\n\n426\n00:19:18.300 --> 00:19:19.710\nOnce we're done with that,\n\n427\n00:19:19.710 --> 00:19:23.190\nwe're gonna go back over to our\nmanagement console for IPAM.\n\n428\n00:19:23.190 --> 00:19:25.680\nAnd we'll switch back over\nsince we see success here.\n\n429\n00:19:25.680 --> 00:19:26.550\nSo, let's do that.\n\n430\n00:19:28.360 --> 00:19:31.048\nAnd let's minimize PowerShell.\n\n431\n00:19:31.048 --> 00:19:32.901\nLet's come back over here.\n\n432\n00:19:32.901 --> 00:19:35.352\nJust bring this up here, so\nwe can see what's going on.\n\n433\n00:19:35.352 --> 00:19:39.319\nAll right, so we're back over here and\nwhat we're gonna do is,\n\n434\n00:19:39.319 --> 00:19:42.050\nlet's go back over here into overview.\n\n435\n00:19:42.050 --> 00:19:45.410\nJust do a quick refresh.\n\n436\n00:19:45.410 --> 00:19:47.150\nOkay, just make sure\neverything's up to date.\n\n437\n00:19:47.150 --> 00:19:48.487\nSo, we got all that.\n\n438\n00:19:48.487 --> 00:19:53.067\nLet's go back over here\nto sever inventory, okay?\n\n439\n00:19:53.067 --> 00:19:56.658\nAnd, we're now gonna go ahead,\nunder server inventory, and\n\n440\n00:19:56.658 --> 00:20:01.360\nwe're gonna be able to go in, and we're\ngonna be able to choose Edit Server here.\n\n441\n00:20:01.360 --> 00:20:04.462\nYou can see I'm right-clicking\non that little bar, right?\n\n442\n00:20:04.462 --> 00:20:07.074\nWe're gonna edit that and\nmake some changes to the configuration.\n\n443\n00:20:07.074 --> 00:20:09.461\nNow, that we've put all of\nour group policies in place,\n\n444\n00:20:09.461 --> 00:20:12.745\napplied them to the domains and now we\nknow that we can actually leverage them,\n\n445\n00:20:12.745 --> 00:20:14.919\nso now were gonna go and\nwe're gonna edit this out.\n\n446\n00:20:14.919 --> 00:20:18.683\nSo we're gonna do this right now,\nso were gonna click Edit Server.\n\n447\n00:20:18.683 --> 00:20:22.960\nLet me move this over so\nyou can kinda see what we're doing there.\n\n448\n00:20:22.960 --> 00:20:27.400\nAll right, so when we go into the Edit\nServer window, we're gonna go ahead and\n\n449\n00:20:27.400 --> 00:20:31.779\nwe're gonna change our manageability\nstatus right here from Unspecified,\n\n450\n00:20:31.779 --> 00:20:34.366\ngonna choose that, change that to Managed.\n\n451\n00:20:34.366 --> 00:20:37.290\nGonna pull that down,\nchange that to Managed right there.\n\n452\n00:20:37.290 --> 00:20:39.890\nGonna press OK on that,\nand once we're done,\n\n453\n00:20:39.890 --> 00:20:42.220\nwe're gonna refresh our access status.\n\n454\n00:20:42.220 --> 00:20:43.670\nSo, let's go ahead and do that.\n\n455\n00:20:43.670 --> 00:20:45.860\nBefore we do, though,\nlet me just show you one quick thing.\n\n456\n00:20:45.860 --> 00:20:48.890\nYou'll see here, we do have the server\ntypes that we are monitoring,\n\n457\n00:20:48.890 --> 00:20:51.210\nmanaging what the system reference for\n\n458\n00:20:51.210 --> 00:20:55.110\ndomain controller one is gonna have\nas services running on the back end.\n\n459\n00:20:55.110 --> 00:20:58.150\nWe do know it's a domain controller,\nwe do know it has DNS and DHCP,\n\n460\n00:20:58.150 --> 00:21:00.940\nI just showed you DHCP,\nbut DNS is there as well.\n\n461\n00:21:00.940 --> 00:21:04.960\nWe are not running an NPS, a network\npolicy server currently, but if we were,\n\n462\n00:21:04.960 --> 00:21:06.850\nwe would have to specify or\nhave that checked off.\n\n463\n00:21:06.850 --> 00:21:10.840\nIt would have been actually autoselected\nas part of the discovery when we went\n\n464\n00:21:10.840 --> 00:21:12.000\nout and actually found the server.\n\n465\n00:21:12.000 --> 00:21:14.250\nIt would have been smart enough\nto know that NPS was running.\n\n466\n00:21:14.250 --> 00:21:16.402\nWe're not using NPS in the demo, but\n\n467\n00:21:16.402 --> 00:21:18.770\nthe network policy server could\nbe deployed there as well.\n\n468\n00:21:18.770 --> 00:21:19.620\nAll right, so we're gonna go ahead.\n\n469\n00:21:19.620 --> 00:21:20.815\nWe're gonna click OK here.\n\n470\n00:21:22.285 --> 00:21:24.300\nGive that just a second, right?\n\n471\n00:21:24.300 --> 00:21:26.420\nNow, you'll see it has changed to Managed.\n\n472\n00:21:26.420 --> 00:21:29.764\nOur icon has changed from caution to red,\nyou wanna do your danger,\n\n473\n00:21:29.764 --> 00:21:31.182\nWill Robinson thing again?\n\n474\n00:21:31.182 --> 00:21:32.373\n&gt;&gt; Danger, danger Will Robinson.\n\n475\n00:21:32.373 --> 00:21:33.393\n&gt;&gt; Okay, there we go, all right.\n\n476\n00:21:33.393 --> 00:21:35.720\nSo now, what we're gonna\ndo is the following, right?\n\n477\n00:21:35.720 --> 00:21:37.400\nWe're gonna go ahead,\nwe're gonna right-click here.\n\n478\n00:21:37.400 --> 00:21:40.300\nAnd instead of Edit Server this time,\nwe're gonna go ahead and\n\n479\n00:21:40.300 --> 00:21:41.800\nrefresh server access status.\n\n480\n00:21:41.800 --> 00:21:42.950\nLet's do that.\n\n481\n00:21:42.950 --> 00:21:44.700\nGive that a minute, right, it's running.\n\n482\n00:21:44.700 --> 00:21:46.050\nThere's a task running down there.\n\n483\n00:21:46.050 --> 00:21:48.090\nWe'll give that a minute to complete.\n\n484\n00:21:48.090 --> 00:21:54.040\nWhen that completes, what we should\nget is the ability to go out and\n\n485\n00:21:54.040 --> 00:21:56.330\nretrieve data from the managed server.\n\n486\n00:21:56.330 --> 00:21:59.529\nNow, the task will typically\ntake maybe a minute or two.\n\n487\n00:21:59.529 --> 00:22:04.055\nIt really just depends on a couple of\ndifferent variables just in terms on how\n\n488\n00:22:04.055 --> 00:22:07.470\nlong it takes to go out and\nconnect and communicate.\n\n489\n00:22:07.470 --> 00:22:08.850\nSo no way to tell for sure.\n\n490\n00:22:08.850 --> 00:22:10.528\nSo we're gonna let that run for\njust a moment.\n\n491\n00:22:10.528 --> 00:22:12.770\nYou're gonna come back and\njoin us as soon as that finishes up.\n\n492\n00:22:12.770 --> 00:22:16.200\nWe'll see the status change,\nthen we'll go through and finish up, okay?\n\n493\n00:22:16.200 --> 00:22:17.630\nAll right, so here we are.\n\n494\n00:22:17.630 --> 00:22:20.400\nLet's go back and see what we get.\n\n495\n00:22:20.400 --> 00:22:20.930\nThere we are.\n\n496\n00:22:20.930 --> 00:22:21.630\nLook at that.\n\n497\n00:22:21.630 --> 00:22:23.660\nPretty green color.\n\n498\n00:22:23.660 --> 00:22:28.510\nSo, we have changed our access status,\nas you can see there, from blocked.\n\n499\n00:22:28.510 --> 00:22:30.200\nRemember, it was saying blocked.\n\n500\n00:22:30.200 --> 00:22:35.052\nRed circle, white x, ran the update there,\nran the task, finished up and\n\n501\n00:22:35.052 --> 00:22:39.827\nit takes, and just so you know in\nthe real world, it will take you probably\n\n502\n00:22:39.827 --> 00:22:44.630\nabout ten minutes to actually see\nthat status change to unblocked.\n\n503\n00:22:44.630 --> 00:22:46.930\nNow, it's interesting cuz it's\nactually running behind the scenes and\n\n504\n00:22:46.930 --> 00:22:50.920\nmore often than not, already monitoring,\nbut this just lags the update.\n\n505\n00:22:50.920 --> 00:22:54.596\nNormally, if it doesn't update after about\nten minutes, you have to actually go out\n\n506\n00:22:54.596 --> 00:22:56.945\nand potentially restart both\nthe domain controller or\n\n507\n00:22:56.945 --> 00:22:58.646\nwhatever server you're monitoring.\n\n508\n00:22:58.646 --> 00:23:00.310\nIn this case,\nit was the domain controller.\n\n509\n00:23:00.310 --> 00:23:04.891\nBut restart the server you're monitoring,\nas well as the IPAM server itself.\n\n510\n00:23:04.891 --> 00:23:08.163\nI actually did that behind the scenes\njust to force the update, so\n\n511\n00:23:08.163 --> 00:23:12.210\nwe wouldn't have to wait quite as long but\njust a little real world advice there so\n\n512\n00:23:12.210 --> 00:23:15.630\nyou know what's happening,\nknow how that may or may not play out.\n\n513\n00:23:15.630 --> 00:23:18.890\nBut eventually, you will see that update,\njust so you know.\n\n514\n00:23:18.890 --> 00:23:22.770\nDon't be afraid to liberally apply\nthe refresh there every so often.\n\n515\n00:23:22.770 --> 00:23:24.820\nBut what we wanna see\nis that green circle,\n\n516\n00:23:24.820 --> 00:23:26.660\nwanna see that status go to unblocked so\n\n517\n00:23:26.660 --> 00:23:31.120\nthat we know that we're actually now\nable to access, and therefore monitor.\n\n518\n00:23:31.120 --> 00:23:36.620\nAnd speaking of monitoring, let's just\nmove this over just a touch here,\n\n519\n00:23:36.620 --> 00:23:39.030\nif I can find the right, there we go.\n\n520\n00:23:39.030 --> 00:23:42.203\nCuz since we restarted,\nthe console kinda reset.\n\n521\n00:23:42.203 --> 00:23:44.778\nAll right, so when we take a look,\nbefore we get in any further,\n\n522\n00:23:44.778 --> 00:23:48.054\nwe're gonna go to step six here in a\nminute, retrieve data from managed server.\n\n523\n00:23:48.054 --> 00:23:50.360\nSo that'll be our last activity.\n\n524\n00:23:50.360 --> 00:23:52.440\nBut let's just take a look\nat kinda where we are.\n\n525\n00:23:52.440 --> 00:23:53.940\nWe do have our IP address space.\n\n526\n00:23:53.940 --> 00:23:54.675\nWe have not populated it yet.\n\n527\n00:23:54.675 --> 00:23:57.672\nBut you'll see we could see address\nblocks, inventory, range groups,\n\n528\n00:23:57.672 --> 00:24:00.105\nall of those are available as\nclick-throughs right here.\n\n529\n00:24:00.105 --> 00:24:04.443\nYou'll see that we do have some\ninformation now that we have gotten\n\n530\n00:24:04.443 --> 00:24:07.380\naccess, it's beginning to populate.\n\n531\n00:24:07.380 --> 00:24:12.180\nWe could see our IP address block here,\nso we can see that from DHCP.\n\n532\n00:24:12.180 --> 00:24:17.096\nIt is not virtualized right now as we\ncan see, so there's no virtual access or\n\n533\n00:24:17.096 --> 00:24:19.435\nno virtual IPs being used.\n\n534\n00:24:19.435 --> 00:24:23.925\nWe do have our IP address inventory, we'll\nsee some more about that in a few minutes.\n\n535\n00:24:23.925 --> 00:24:26.822\nVirtual IP addresses,\nwe're not using that for the moment.\n\n536\n00:24:26.822 --> 00:24:31.392\nUnder monitoring and managing,\nwe do see DNS and DHCP.\n\n537\n00:24:31.392 --> 00:24:33.662\nWe can see they both are up and running.\n\n538\n00:24:33.662 --> 00:24:37.402\nYou could see how long they've been\nunder current state management meeting,\n\n539\n00:24:37.402 --> 00:24:39.192\nabout nine minutes approximately now.\n\n540\n00:24:39.192 --> 00:24:40.382\nThey've been up and running.\n\n541\n00:24:40.382 --> 00:24:43.132\nWe see the server names,\nthe role, the domain name,\n\n542\n00:24:43.132 --> 00:24:45.542\nthe IP address, access scope, etc.\n\n543\n00:24:45.542 --> 00:24:48.565\nSo we have all that,\nthat's good obviously, right?\n\n544\n00:24:48.565 --> 00:24:52.700\nYou'll notice we can right-click and\nlaunch a MMC directly into one or\n\n545\n00:24:52.700 --> 00:24:53.600\nboth of these services.\n\n546\n00:24:53.600 --> 00:24:56.870\nRemember, one of the things IPAM gives\nus is the ability to centrally manage\n\n547\n00:24:56.870 --> 00:24:58.100\nas well as monitor.\n\n548\n00:24:58.100 --> 00:25:02.488\nI can reach out or remotely control those\nservices, and configure them from IPAM.\n\n549\n00:25:02.488 --> 00:25:05.419\nI don't have to go to the box in order to\ndo that, I can manage it right from here.\n\n550\n00:25:05.419 --> 00:25:06.498\n&gt;&gt; That's pretty cool.\n&gt;&gt; It's actually kind of nice.\n\n551\n00:25:06.498 --> 00:25:07.067\n&gt;&gt; A one stop shop.\n\n552\n00:25:07.067 --> 00:25:08.086\n&gt;&gt; So we have that.\n\n553\n00:25:08.086 --> 00:25:09.140\nYeah, one stop shop.\n\n554\n00:25:09.140 --> 00:25:10.572\nWe do have our DHCP scope.\n\n555\n00:25:10.572 --> 00:25:12.451\nWe were just taking\na look at IP addresses.\n\n556\n00:25:12.451 --> 00:25:14.350\nWe have our DHCP scope there as well.\n\n557\n00:25:14.350 --> 00:25:19.290\nCould take a look at our DNS zones,\nright now no data yet.\n\n558\n00:25:19.290 --> 00:25:22.987\nWe'll obviously be getting some data in as\nwe continue provisioning and monitoring.\n\n559\n00:25:22.987 --> 00:25:24.497\nWe do have our event catalog.\n\n560\n00:25:24.497 --> 00:25:28.072\nWe do have some events finally starting\nto populate based on us reaching out to\n\n561\n00:25:28.072 --> 00:25:28.955\nthe server.\n\n562\n00:25:28.955 --> 00:25:30.380\nBringing it in under management.\n\n563\n00:25:30.380 --> 00:25:33.230\nAuthorizing our access and\nstarting to tie in the console.\n\n564\n00:25:33.230 --> 00:25:36.130\nSo now we're starting to see\nsome events occur there.\n\n565\n00:25:36.130 --> 00:25:38.110\nRemember up until now it's been black, so\n\n566\n00:25:38.110 --> 00:25:40.280\nwe haven't really done anything but\nwe're starting to see that.\n\n567\n00:25:40.280 --> 00:25:43.180\nSo that's obviously gonna be\nvery valuable and helpful to us.\n\n568\n00:25:43.180 --> 00:25:45.894\nNow we can drill in and look at\nthe details of any one of those events,\n\n569\n00:25:45.894 --> 00:25:48.525\nof course down here and\nbegin to see more about what we're doing.\n\n570\n00:25:48.525 --> 00:25:52.817\nAll right, let's go back up here\nto our overview or dashboard,\n\n571\n00:25:52.817 --> 00:25:56.723\nwe got step six there,\nretrieve data from manage server.\n\n572\n00:25:56.723 --> 00:25:58.480\nSo let's go in, let's do that.\n\n573\n00:26:00.902 --> 00:26:06.046\nClick there, again note that\nthe tasks is running right there.\n\n574\n00:26:06.046 --> 00:26:09.322\nWe can see that,\nof course down here, right?\n\n575\n00:26:09.322 --> 00:26:13.370\nAnd see, actually wait one second.\n\n576\n00:26:13.370 --> 00:26:15.300\nThere we go.\n\n577\n00:26:15.300 --> 00:26:17.840\nI was gonna say, that´s actually\nalready in progress and probably done.\n\n578\n00:26:17.840 --> 00:26:20.347\nBy the time I scroll down, and\nactually it had already finished,\n\n579\n00:26:20.347 --> 00:26:21.220\ncuz that one is quick.\n\n580\n00:26:21.220 --> 00:26:22.920\nBecause we actually already\npopulated everything.\n\n581\n00:26:22.920 --> 00:26:25.000\nI recycled the servers they´re connected,\nso\n\n582\n00:26:25.000 --> 00:26:27.120\nit happens very very\nquickly when we do that.\n\n583\n00:26:27.120 --> 00:26:29.660\nBut you see we did grab that data.\n\n584\n00:26:29.660 --> 00:26:34.850\nAnd then once that´s done, and as I showed\nyou already with the server inventory.\n\n585\n00:26:34.850 --> 00:26:37.230\nWe are unblocked, so we do know that.\n\n586\n00:26:37.230 --> 00:26:40.890\nAnd we do see and have seen already\nthat our address space is populating.\n\n587\n00:26:40.890 --> 00:26:45.398\nWe've seen as I've showed you that\nour IP address groups are populated.\n\n588\n00:26:45.398 --> 00:26:48.230\nI actually kinda previewed most\nof what we're gonna see already.\n\n589\n00:26:48.230 --> 00:26:51.530\nBut what we do see is we\nsee here continued status.\n\n590\n00:26:51.530 --> 00:26:53.942\nWe do see our scope, as you saw.\n\n591\n00:26:53.942 --> 00:26:58.318\nOur zone monitoring will\neventually start to pick up.\n\n592\n00:26:58.318 --> 00:27:00.547\nWe're not getting anything right\nnow just because we haven't been\n\n593\n00:27:00.547 --> 00:27:01.340\nrunning long enough.\n\n594\n00:27:01.340 --> 00:27:03.900\nBut eventually we'll start\nto see that come up as well.\n\n595\n00:27:03.900 --> 00:27:05.490\nBut lets go over here.\n\n596\n00:27:05.490 --> 00:27:08.300\nLet's actually just launch that console.\n\n597\n00:27:08.300 --> 00:27:13.589\nLet's go into DHCP here, and right-click.\n\n598\n00:27:13.589 --> 00:27:16.097\nAnd you can see what we have,\nnot just launching the console.\n\n599\n00:27:16.097 --> 00:27:19.642\nBut let me just scroll, so\nwe can kind of bring that up fully.\n\n600\n00:27:19.642 --> 00:27:21.854\nAnd you'll see with our pop-p menu here,\n\n601\n00:27:21.854 --> 00:27:25.840\nwe have quite a bit of capability in\nterms of monitoring and management.\n\n602\n00:27:25.840 --> 00:27:28.360\nWe could edit the server properties,\nserver options.\n\n603\n00:27:28.360 --> 00:27:32.390\nWe can go in and create scopes,\nconfigure DHCP, same thing with DNS.\n\n604\n00:27:32.390 --> 00:27:37.110\nWe can go in and we can retrieve server\ndata update, whatever we need to do.\n\n605\n00:27:37.110 --> 00:27:40.290\nAll of the management capabilities\ncoordinated here in one area for us.\n\n606\n00:27:40.290 --> 00:27:42.902\nSame thing with DNS,\nlets right-click here.\n\n607\n00:27:45.326 --> 00:27:49.026\nWe can open up a MMC\nfrom here if we need to.\n\n608\n00:27:49.026 --> 00:27:51.614\nSo we can go in and\nmanage directly, let's see.\n\n609\n00:27:51.614 --> 00:27:56.497\nI'm loading up and using VMMC for\nPLAB DC1, I'm on DM1.\n\n610\n00:27:56.497 --> 00:27:59.085\nThis is a remote connection\ninto a different machine.\n\n611\n00:27:59.085 --> 00:28:03.145\nMonitoring and managing that DNS server\nin real-time right from here, right?\n\n612\n00:28:03.145 --> 00:28:04.515\nThere's practice labs.\n\n613\n00:28:04.515 --> 00:28:05.864\nThere is my zone.\n\n614\n00:28:05.864 --> 00:28:09.421\nAnd we've seen this in some of the prior\ndemos we did for the DNS portion, right?\n\n615\n00:28:09.421 --> 00:28:11.764\nSo I can go in and\nI can manage right from here,\n\n616\n00:28:11.764 --> 00:28:14.960\nI don't ever have to go direct\nto that machine anymore.\n\n617\n00:28:14.960 --> 00:28:17.750\nI can make changes,\nadd zone records, modify,\n\n618\n00:28:17.750 --> 00:28:19.930\ndo whatever I need to do right from here.\n\n619\n00:28:19.930 --> 00:28:23.990\nSo that's important for us to be aware of,\nbecause IPAM gives us as you said that\n\n620\n00:28:23.990 --> 00:28:27.000\none stop shop,\nthat central console where we can do,\n\n621\n00:28:27.000 --> 00:28:31.650\nand interact with all these things or\ninteract with them and coordinate them.\n\n622\n00:28:31.650 --> 00:28:33.610\n&gt;&gt; And a nice graphical user interface.\n\n623\n00:28:33.610 --> 00:28:37.740\nSo we've really came a long way for\nremote administration it wasn't always so\n\n624\n00:28:37.740 --> 00:28:41.030\nconvenient, or user-centric here.\n\n625\n00:28:41.030 --> 00:28:42.523\n&gt;&gt; Absolutely.\nAnd if we go full-screen just so\n\n626\n00:28:42.523 --> 00:28:44.763\nwe can see the details here on\nthe bottom for a minute, so just so\n\n627\n00:28:44.763 --> 00:28:45.668\nyou could see where I am.\n\n628\n00:28:45.668 --> 00:28:47.563\nLet me scroll back up here real quick, but\n\n629\n00:28:47.563 --> 00:28:50.610\nI'm highlighting the DHCP server\nright now, just so you can see.\n\n630\n00:28:50.610 --> 00:28:53.740\nAnd you'll see the detailed view,\nit gives us the overview of everything.\n\n631\n00:28:53.740 --> 00:28:57.840\nThat's obviously good, we could see\nthe database path, the backup path,\n\n632\n00:28:57.840 --> 00:29:01.620\nthe status, whether or not we're\ndoing certain kinds of filtering,\n\n633\n00:29:01.620 --> 00:29:02.780\nwhether we have dynamic updates.\n\n634\n00:29:02.780 --> 00:29:06.885\nProfiles the system for us, gives us\nall of that information right here.\n\n635\n00:29:06.885 --> 00:29:08.105\nIs auditing turned on?\n\n636\n00:29:08.105 --> 00:29:09.465\nIf so, yes.\n\n637\n00:29:09.465 --> 00:29:10.895\nWhat are we doing?\n\n638\n00:29:10.895 --> 00:29:14.235\nWe look at all the options if there\nare any associated with this.\n\n639\n00:29:14.235 --> 00:29:18.335\nAny policies, we could see event\ninformation for the event catalog.\n\n640\n00:29:18.335 --> 00:29:22.115\nSo it does give us some nice information.\n\n641\n00:29:22.115 --> 00:29:24.305\nJust switch over here to DNS.\n\n642\n00:29:24.305 --> 00:29:26.435\nJust come back down, same thing for DNS.\n\n643\n00:29:26.435 --> 00:29:30.290\nGives us information about this.\n\n644\n00:29:30.290 --> 00:29:32.020\nShows us our zones, right?\n\n645\n00:29:32.020 --> 00:29:35.100\nZone status is currently to set error\nwith its question of just updating.\n\n646\n00:29:35.100 --> 00:29:37.570\nAnd it will eventually show\nitself as being correct, but\n\n647\n00:29:37.570 --> 00:29:39.880\nit takes a few minutes for\nthat to come up.\n\n648\n00:29:39.880 --> 00:29:43.546\nWe could see event catalog, so\nwe could see any information there, right?\n\n649\n00:29:43.546 --> 00:29:46.333\nThis is because I restarted the system\nwhile it was monitoring it.\n\n650\n00:29:46.333 --> 00:29:49.583\nIt sees the system going down as being an\nerror, but eventually it will catch up and\n\n651\n00:29:49.583 --> 00:29:53.070\nrealize it's monitored and everything\nis healthy, so there's no issue there.\n\n652\n00:29:53.070 --> 00:29:54.260\nWe just saw the DNS server.\n\n653\n00:29:54.260 --> 00:29:56.340\nWe know it's up and running and\nworking, the zones are fine.\n\n654\n00:29:56.340 --> 00:29:58.002\nSo that will eventually come up.\n\n655\n00:29:58.002 --> 00:30:01.602\nSo we could see that with\nIPAM we're able to go in, and\n\n656\n00:30:01.602 --> 00:30:06.490\nwe´re able to interact around all of\nthis CR IP address blocks, right?\n\n657\n00:30:06.490 --> 00:30:08.422\nYou could see here,\nif we just go up and see one.\n\n658\n00:30:08.422 --> 00:30:11.999\nI could edit the IP address range,\nimport update information,\n\n659\n00:30:11.999 --> 00:30:14.350\nget more information about this.\n\n660\n00:30:14.350 --> 00:30:18.070\nFind and allocate available IP's,\nI can actually hand out IP addresses.\n\n661\n00:30:18.070 --> 00:30:22.820\nI can reclaim unused IPs, retrieve address\nbased data, I could set access scope.\n\n662\n00:30:22.820 --> 00:30:25.430\nI can update and manage IP\naddresses right from here, right?\n\n663\n00:30:25.430 --> 00:30:27.661\nSo this is obviously very nice.\n\n664\n00:30:27.661 --> 00:30:31.922\nI can go in, I can look at my range here.\n\n665\n00:30:31.922 --> 00:30:35.490\nEssentially with the same idea, these two\nitems address, range, groups, and blocks,\n\n666\n00:30:35.490 --> 00:30:37.170\nessentially operate the same way.\n\n667\n00:30:37.170 --> 00:30:40.570\nWe don't have any virtualized IP\naddresses, but if we did I'd have the same\n\n668\n00:30:40.570 --> 00:30:44.150\noptions here for any of my virtual\nmachine IP's that I would be using.\n\n669\n00:30:44.150 --> 00:30:46.180\nSo I just wanna make\nsure we're aware of that.\n\n670\n00:30:46.180 --> 00:30:49.150\nAnd I did already show you what\nthe monitoring looks like here, and\n\n671\n00:30:49.150 --> 00:30:49.920\nhow we can interact.\n\n672\n00:30:49.920 --> 00:30:52.850\nNow I could just focus the console\non one of these servers.\n\n673\n00:30:52.850 --> 00:30:55.490\nAnd by the way,\nif we have NPS we'd see an option for\n\n674\n00:30:55.490 --> 00:30:58.050\nthe NPS server here as well just so\nyou know.\n\n675\n00:30:58.050 --> 00:31:00.458\nSo we'd be able to go in and\ntake a look at that also.\n\n676\n00:31:00.458 --> 00:31:03.350\nSo I could see and\ninteract with any one or both of these.\n\n677\n00:31:03.350 --> 00:31:06.112\nI can obviously interact with,\nas we saw my scope here, and\n\n678\n00:31:06.112 --> 00:31:07.560\nI could see scope properties.\n\n679\n00:31:07.560 --> 00:31:09.110\nI can also look at reservations.\n\n680\n00:31:09.110 --> 00:31:12.210\nI don't have any set aside, but\nif I did I could zero in and\n\n681\n00:31:12.210 --> 00:31:14.140\nsee specifically what\nreservations are active.\n\n682\n00:31:14.140 --> 00:31:17.372\nSo I'd be able to filter for\nthat as well which is nice.\n\n683\n00:31:17.372 --> 00:31:21.063\nI could see my, there we go,\ncould see my zones here, right?\n\n684\n00:31:21.063 --> 00:31:23.592\nAnd I can, as we said,\nI could go in and find the zones.\n\n685\n00:31:23.592 --> 00:31:27.849\nI could restart or\nreset zone status rather,\n\n686\n00:31:27.849 --> 00:31:31.442\nand attempt to get it to update for me.\n\n687\n00:31:31.442 --> 00:31:35.214\nEventually we will pick up as the setting\ngo from a known into ultimately being\n\n688\n00:31:35.214 --> 00:31:37.370\nmonitored, so\nI can try to kick start that.\n\n689\n00:31:37.370 --> 00:31:40.799\nAnd I can also see my forward\nlookup zones which you see here.\n\n690\n00:31:40.799 --> 00:31:44.110\nI do have the option to see my reverse\nlookup zone, if you see down there.\n\n691\n00:31:44.110 --> 00:31:47.040\nWe don't have any created currently,\nbut for IPv4 and IPv6,\n\n692\n00:31:47.040 --> 00:31:50.090\nI'd be able to drill in and\nsee those as well.\n\n693\n00:31:50.090 --> 00:31:54.410\nSo I really have the ability to manage\nevery aspect of both of these solutions,\n\n694\n00:31:54.410 --> 00:31:59.850\nor both of these application or\nprocesses, DHCP and DNS.\n\n695\n00:31:59.850 --> 00:32:01.610\nI can manage everything\nright from here with IPAM.\n\n696\n00:32:01.610 --> 00:32:04.220\nAs we said,\nthis is an all in one solution.\n\n697\n00:32:04.220 --> 00:32:05.700\nAnd this is how we configure it,\n\n698\n00:32:05.700 --> 00:32:08.770\nhow we use it, how we monitor it, and\nof course ultimately how we leverage IPAM.\n\n699\n00:32:08.770 --> 00:32:12.550\nSo just walking through the logic\nof this end to end for us and\n\n700\n00:32:12.550 --> 00:32:14.900\ngiving us the ability to\nsee all this information,\n\n701\n00:32:14.900 --> 00:32:17.180\nhopefully gives you a better\nsense of what we're doing.\n\n702\n00:32:17.180 --> 00:32:19.530\nYou could see down here,\nyeah, nothing has changed.\n\n703\n00:32:19.530 --> 00:32:21.010\nWe do have our managed domain.\n\n704\n00:32:21.010 --> 00:32:22.980\nWe do have all of our information here.\n\n705\n00:32:22.980 --> 00:32:26.440\nBut we can see our scheduled tasks,\njust information about it.\n\n706\n00:32:26.440 --> 00:32:30.320\nThe nice thing here is it lists all the\nscheduled tasks and tells us what they do.\n\n707\n00:32:30.320 --> 00:32:34.230\nJust look at those configuration items,\nit gives us a little bit more information.\n\n708\n00:32:34.230 --> 00:32:38.340\nAnd we can always go back into just\nour Server Manager overall, and\n\n709\n00:32:38.340 --> 00:32:41.570\nmove back and forth between there and\nIPAM at will, as we need to.\n\n710\n00:32:41.570 --> 00:32:45.319\n&gt;&gt; Yeah, I could see really,\na big benefit for larger environments.\n\n711\n00:32:45.319 --> 00:32:47.910\nBecause you have few servers on your,\nmaybe it's a very small environment.\n\n712\n00:32:47.910 --> 00:32:53.008\nIt's not that big of a deal to access each\none of those machines individually for\n\n713\n00:32:53.008 --> 00:32:54.170\nmanagement.\n\n714\n00:32:54.170 --> 00:32:58.511\nBut like you had said, with those\npossibilities here, up to what was it?\n\n715\n00:32:58.511 --> 00:33:00.350\nA 150 DHCP servers, that's a lot.\n\n716\n00:33:00.350 --> 00:33:03.614\nJust right there from within one console,\nplus DNS, and\n\n717\n00:33:03.614 --> 00:33:06.470\nother servers that you\nhave in your environment.\n\n718\n00:33:06.470 --> 00:33:10.392\nSo it's definitely a tool that I\nwould take some time getting used to,\n\n719\n00:33:10.392 --> 00:33:14.660\nif you are planning on using a larger\nenvironment, or taking the exam here.\n\n720\n00:33:14.660 --> 00:33:16.180\nSo thank you for that, Adam.\n\n721\n00:33:16.180 --> 00:33:18.560\nAnd thank you for joining us as well.\n\n722\n00:33:18.560 --> 00:33:21.290\nI think we've reached the end\nof our journey here for\n\n723\n00:33:21.290 --> 00:33:23.280\nAdvanced Networking Services.\n\n724\n00:33:23.280 --> 00:33:24.890\nSo-\n&gt;&gt; Sad but true.\n\n725\n00:33:24.890 --> 00:33:26.330\n&gt;&gt; It is.\nIt's said but true,\n\n726\n00:33:26.330 --> 00:33:29.732\nbecause we are gonna have additional\ninformation and additional topics, so\n\n727\n00:33:29.732 --> 00:33:30.686\ndon't go anywhere.\n\n728\n00:33:30.686 --> 00:33:33.350\nWe have more shows coming up for you.\n\n729\n00:33:33.350 --> 00:33:37.460\nBut for this show and this topic,\nwe're gonna go ahead and sign out.\n\n730\n00:33:37.460 --> 00:33:39.198\nRemember, I'm your host, Cherokee Boose.\n\n731\n00:33:39.198 --> 00:33:40.058\n&gt;&gt; I'm Adam Gordon.\n\n732\n00:33:40.058 --> 00:33:42.032\n&gt;&gt; See you next time here at ITProTV.\n\n733\n00:33:42.032 --> 00:33:49.545\n[MUSIC]\n\n734\n00:33:49.545 --> 00:33:52.252\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "224330252"
        }
      ],
      "title": "Advanced Network Services"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam start a new topic, advanced file services. They introduce  Internet Small Computer System Interface (iSCSI) and explain why it is such a viable option for many organizations. Adam covers the essential building blocks or components need to set it up. He then installs and begins some post installation configurations.",
          "length": "2322",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-1-advance_file_services-0602917-PGM.00_39_40_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-1-advance_file_services-0602917-PGM.00_39_40_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-1-advance_file_services-0602917-PGM.00_39_40_26.Still001-sm.jpg",
          "title": "Advanced File Services",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:06.441\nWelcome to ITPro.TV, I'm your host\nDon Pezet- [CROSSTALK] [INAUDIBLE].\n\n2\n00:00:06.441 --> 00:00:07.933\n[MUSIC]\n\n3\n00:00:07.933 --> 00:00:12.073\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:12.073 --> 00:00:17.926\n&gt;&gt; Welcome to your MSCA, 70-412 series,\nI'm your show host, Cherokee Boose.\n\n5\n00:00:17.926 --> 00:00:22.646\nSo this is a new topic, today we'll be\ntaking a look at advanced file services.\n\n6\n00:00:22.646 --> 00:00:26.250\nAnd, back in studio with us,\nwe have Mr. Adam Gordon.\n\n7\n00:00:26.250 --> 00:00:27.077\nHow are you today Adam?\n\n8\n00:00:27.077 --> 00:00:30.613\n&gt;&gt; Good, good, I am feeling very\nbright and yellow, sunlight,\n\n9\n00:00:30.613 --> 00:00:34.090\nyou may say to talk about services,\nincluding storage.\n\n10\n00:00:34.090 --> 00:00:36.168\nYeah, when we think about storage,\nwe think about access to data,\n\n11\n00:00:36.168 --> 00:00:37.390\nthat makes me bright and happy.\n\n12\n00:00:37.390 --> 00:00:39.080\nSo, that's why I wore my\nhappy bright yellow shirt.\n\n13\n00:00:39.080 --> 00:00:41.281\nSo, now you know everything\nyou should know about storage,\n\n14\n00:00:41.281 --> 00:00:42.327\nlet's go to the next topic.\n\n15\n00:00:42.327 --> 00:00:42.863\nSo that was quick.\n\n16\n00:00:42.863 --> 00:00:46.570\n&gt;&gt; All right, well now I'm blue,\nbecause we've gone past it so fast.\n\n17\n00:00:46.570 --> 00:00:49.527\nWe really didn't get the full\nunderstanding of all these great services.\n\n18\n00:00:49.527 --> 00:00:53.460\n&gt;&gt; So you want me to stop, and take my\ntime, and explain what iSCSI targets are.\n\n19\n00:00:53.460 --> 00:00:56.780\nAnd branch cache, and all right,\ntwist my arm, we'll go ahead and\n\n20\n00:00:56.780 --> 00:00:57.795\nwe'll do all that, so.\n\n21\n00:00:57.795 --> 00:00:59.510\n&gt;&gt; [LAUGH]\n&gt;&gt; Let's start talking about storage.\n\n22\n00:00:59.510 --> 00:01:01.470\nWe are gonna talk about\nsome really cool stuff,\n\n23\n00:01:01.470 --> 00:01:03.540\nwe're gonna talk about iSCSI Initiators.\n\n24\n00:01:03.540 --> 00:01:06.865\nProbably the most common storage protocol\nthat's used today on the planet,\n\n25\n00:01:06.865 --> 00:01:11.060\nespecially in Cloud related services\nvirtualization, we do use iSCSI for\n\n26\n00:01:11.060 --> 00:01:11.570\na lot of things.\n\n27\n00:01:11.570 --> 00:01:15.160\nSo we're gonna talk about how we set up\niSCSI storage in a Server 12 environment.\n\n28\n00:01:15.160 --> 00:01:17.800\nYou're probably gonna have to do this,\nif you haven't done it already.\n\n29\n00:01:17.800 --> 00:01:21.250\nWe'll take a look at the logic\nbehind iSCSI deployments,\n\n30\n00:01:21.250 --> 00:01:23.470\ntalk about initiators, and\nsee how all that works.\n\n31\n00:01:23.470 --> 00:01:26.400\nThe file services got a little cool\nhands-on demonstration we'll take\n\n32\n00:01:26.400 --> 00:01:27.300\na look for you.\n\n33\n00:01:27.300 --> 00:01:30.872\nWe'll delve into the intricacies and\nthe wonders of branch cache,\n\n34\n00:01:30.872 --> 00:01:33.325\nin case you haven't\nheard about that before.\n\n35\n00:01:33.325 --> 00:01:36.805\nOur ability to cache files locally\ninside of a remote office using one or\n\n36\n00:01:36.805 --> 00:01:39.014\nmore machines, and making them available.\n\n37\n00:01:39.014 --> 00:01:43.361\nSo that others in that environment can get\nthem locally on a high speed network with\n\n38\n00:01:43.361 --> 00:01:44.369\nminimal latency.\n\n39\n00:01:44.369 --> 00:01:48.205\nBecause everybody has connected there\ntypically through live connections that\n\n40\n00:01:48.205 --> 00:01:51.730\nare going to, again it maybe high speed,\nmaybe a gigabit or more.\n\n41\n00:01:51.730 --> 00:01:55.836\nWhere as going over the LAN, back to\nthe file servers in the central core,\n\n42\n00:01:55.836 --> 00:02:00.756\nmay involve expensive bandwidth, and loss\nof time, and productivity due to latency.\n\n43\n00:02:00.756 --> 00:02:03.350\nSo we'll talk about branch caching,\nsee how that works.\n\n44\n00:02:03.350 --> 00:02:06.830\nAnd somebody called the FSRM,\nour File Services Resource Management.\n\n45\n00:02:06.830 --> 00:02:09.876\nAnd what FSRM does for\nus in terms of being able to classify and\n\n46\n00:02:09.876 --> 00:02:10.846\ncategorize data.\n\n47\n00:02:10.846 --> 00:02:14.292\nAnd how we're gonna then be able to use\nthat classification to not only inventory\n\n48\n00:02:14.292 --> 00:02:15.820\ndata, but drive resource access.\n\n49\n00:02:15.820 --> 00:02:16.910\nAnd we'll talk about that.\n\n50\n00:02:16.910 --> 00:02:18.993\nAnd it's kind of a recurring\ntheme that's gonna come up a lot.\n\n51\n00:02:18.993 --> 00:02:22.749\nResource access and how we control and\nmonitor that in a variety of different\n\n52\n00:02:22.749 --> 00:02:26.160\ntopics and conversations throughout\nthis entire series of shows.\n\n53\n00:02:26.160 --> 00:02:28.300\nSo, we've got some cool\nstuff coming up for you.\n\n54\n00:02:28.300 --> 00:02:30.556\nBut first, before we do any\nof that Cherokee promised,\n\n55\n00:02:30.556 --> 00:02:31.987\nshe was gonna do a hand stand.\n\n56\n00:02:31.987 --> 00:02:36.050\n&gt;&gt; Yeah,\nbecause I do them all the time [LAUGH]\n\n57\n00:02:36.050 --> 00:02:36.780\n&gt;&gt; All right-\n\n58\n00:02:36.780 --> 00:02:37.453\n&gt;&gt; Don't hold your breath.\n\n59\n00:02:37.453 --> 00:02:41.328\n&gt;&gt; Keeping her on her toes, proverbially\nand literally, while we're talking.\n\n60\n00:02:41.328 --> 00:02:44.330\nSo, let's take a look on my machine,\nI have for you.\n\n61\n00:02:44.330 --> 00:02:46.590\nAnd this URL is in\nthe show notes by the way.\n\n62\n00:02:46.590 --> 00:02:49.820\nJust an overview of storage\nfrom the people at Microsoft.\n\n63\n00:02:49.820 --> 00:02:52.672\nWho better to explain the technology\nthan the people that of course,\n\n64\n00:02:52.672 --> 00:02:54.011\nare putting it together for us.\n\n65\n00:02:54.011 --> 00:02:58.672\nSo don't let the date here throw you, it's\na little bit old in the sense that you're\n\n66\n00:02:58.672 --> 00:03:00.985\nlooking at this in at a minimum 2017.\n\n67\n00:03:00.985 --> 00:03:03.711\nIf not later, by the time you\nget to it after we record and\n\n68\n00:03:03.711 --> 00:03:04.945\nput it together for you.\n\n69\n00:03:04.945 --> 00:03:09.575\nBut the information on this web page is\nstill accurate for iSCSI targets, and\n\n70\n00:03:09.575 --> 00:03:11.655\nhow it can configure iSCSI storage in 12.\n\n71\n00:03:11.655 --> 00:03:15.325\nAnd by the way, don't let the Server 12\nreference fool you either, 12 slash 12R2,\n\n72\n00:03:15.325 --> 00:03:18.815\nthe information's gonna be the same,\nand is gonna be accurate for you.\n\n73\n00:03:18.815 --> 00:03:20.521\nSo when we think about iSCSI storage,\n\n74\n00:03:20.521 --> 00:03:23.038\nwe think about the ability to\nbe able to access storage.\n\n75\n00:03:23.038 --> 00:03:26.662\nI, small i, for Internet,\nInternet based SCSI,\n\n76\n00:03:26.662 --> 00:03:31.310\nto use iSCSI as a hard drive\ntechnology and a data access type.\n\n77\n00:03:31.310 --> 00:03:33.510\nAnd enable that over the internet,\nand allow for\n\n78\n00:03:33.510 --> 00:03:35.928\nthe flow of information back and forth.\n\n79\n00:03:35.928 --> 00:03:39.570\nCarry standard iSCSI commands over IP\nnetworks, either through the Cloud,\n\n80\n00:03:39.570 --> 00:03:42.180\nthrough the LAN, through the WAN or\nany combination of those.\n\n81\n00:03:42.180 --> 00:03:45.610\nAnd allows us to leverage those networks\nto facilitate data transfer for\n\n82\n00:03:45.610 --> 00:03:48.050\nus, and the use of data,\nthat's what we're doing.\n\n83\n00:03:48.050 --> 00:03:51.393\nWe are gonna be able to,\nif you think about the building blocks\n\n84\n00:03:51.393 --> 00:03:53.980\ncomponents of iSCSI,\nwe need a TCPIP network.\n\n85\n00:03:53.980 --> 00:03:56.600\nWell, we have that I'm sure,\nright that's pretty common today.\n\n86\n00:03:56.600 --> 00:03:59.050\nWho doesn't use at least\none TCPIP network?\n\n87\n00:03:59.050 --> 00:03:59.740\nRaise your hand, right?\n\n88\n00:03:59.740 --> 00:04:01.839\nI mean everybody has TCPIP today.\n\n89\n00:04:01.839 --> 00:04:06.564\nWe need iSCSI targets, iSCSI targets\nare gonna be able to present for us\n\n90\n00:04:06.564 --> 00:04:12.300\nthe storage that we are going to be using\nfrom the iSCSI devices, whatever that is.\n\n91\n00:04:12.300 --> 00:04:17.000\nWhether it's a SAM that's backing that\non the far side of our storage network.\n\n92\n00:04:17.000 --> 00:04:20.560\nAnd if that is the case,\nthen we're going to be using, essentially,\n\n93\n00:04:20.560 --> 00:04:23.850\nan array of large hard drives that\nare gonna be provisioned out,\n\n94\n00:04:23.850 --> 00:04:27.510\nand presented logically through one or\nmore LANs, most likely.\n\n95\n00:04:27.510 --> 00:04:30.560\nThat we'll be able to use, depending on\nthe storage vendor, and the technology,\n\n96\n00:04:30.560 --> 00:04:31.290\nof course.\n\n97\n00:04:31.290 --> 00:04:32.820\nSo we have iSCSi targets,\n\n98\n00:04:32.820 --> 00:04:35.920\nthose are gonna also commonly be\nreferred to as storage processors.\n\n99\n00:04:35.920 --> 00:04:37.969\nIn the generic language of storage,\n\n100\n00:04:37.969 --> 00:04:41.548\nwe often hear a target being\nreferred to as a storage processor.\n\n101\n00:04:41.548 --> 00:04:44.852\nAll that simply means is, that\na storage processor by the way, an SP,\n\n102\n00:04:44.852 --> 00:04:47.654\njust the acronym that you will\noften see in documentation.\n\n103\n00:04:47.654 --> 00:04:51.460\nWhere you look at a diagram of\na storage network, especially for SAN,\n\n104\n00:04:51.460 --> 00:04:56.103\nyou'll see the network connections on the\nSAN side, being labelled as little box for\n\n105\n00:04:56.103 --> 00:04:57.480\nlike a network card.\n\n106\n00:04:57.480 --> 00:05:00.580\nAnd it'll say SP, or\nit will say target next to it, and\n\n107\n00:05:00.580 --> 00:05:02.610\neither of those terms are interchangeable.\n\n108\n00:05:02.610 --> 00:05:03.220\nThe target or\n\n109\n00:05:03.220 --> 00:05:07.210\nthe SP storage processor, simply just the\nnetwork interface that we use to connect\n\n110\n00:05:07.210 --> 00:05:11.590\nthrough into the storage device,\nthe SAN, the NAS, whatever it may be.\n\n111\n00:05:11.590 --> 00:05:16.037\nAnd that's how we access storage from\nthe network in, to the storage device.\n\n112\n00:05:16.037 --> 00:05:19.491\nOn our side,\nmeaning where we originate and ask for\n\n113\n00:05:19.491 --> 00:05:23.440\nstorage from,\nwe have what are called iSCSI initiators.\n\n114\n00:05:23.440 --> 00:05:28.210\nThey are also commonly referred\nto as HBAs, Host Bus Adapters.\n\n115\n00:05:28.210 --> 00:05:31.970\nThat's the language again you hear\ngenerically, in storage conversations.\n\n116\n00:05:31.970 --> 00:05:34.920\nAnd so, when somebody says, hey,\nI'm talking about my iSCSI HBA,\n\n117\n00:05:34.920 --> 00:05:38.950\nthey also may say, hey,\nI'm talking about my iSCSI initiator.\n\n118\n00:05:38.950 --> 00:05:42.100\nEither way, they're speaking about\nthe same device or same interface.\n\n119\n00:05:42.100 --> 00:05:46.362\nThat is the network interface that we\nare using from the host that is requesting\n\n120\n00:05:46.362 --> 00:05:49.928\naccess to the storage,\nin order to get onto the storage network.\n\n121\n00:05:49.928 --> 00:05:55.324\nNow we have software initiators,\ndrivers essentially that overlay and\n\n122\n00:05:55.324 --> 00:05:58.959\nlay on top of the TCPIP\nnetwork stack in Windows.\n\n123\n00:05:58.959 --> 00:06:02.645\nAnd will then be bound to a physical\nnetwork card on the host,\n\n124\n00:06:02.645 --> 00:06:05.627\nand allow us to interact\nwith that network card.\n\n125\n00:06:05.627 --> 00:06:08.469\nAllowing it to be capable of transmitting,\nsending, and\n\n126\n00:06:08.469 --> 00:06:10.736\nreceiving across the iSCSI\nstorage network.\n\n127\n00:06:10.736 --> 00:06:15.590\nWe also have hardware dedicated HPAs,\nthat are self contained, essentially.\n\n128\n00:06:15.590 --> 00:06:16.570\nThink network cards, but\n\n129\n00:06:16.570 --> 00:06:19.970\nthink special network cards that\nhave additional capabilities.\n\n130\n00:06:19.970 --> 00:06:22.720\nYou go out,\nyou buy them from various vendors,\n\n131\n00:06:22.720 --> 00:06:25.695\ndepending on who's making them, and\nhow much money you wanna spend.\n\n132\n00:06:25.695 --> 00:06:28.835\nThese will cost a little bit more money\nthan traditional network cards, but\n\n133\n00:06:28.835 --> 00:06:32.155\nthey have built in capabilities on board.\n\n134\n00:06:32.155 --> 00:06:34.775\nThey have usually memory and\n\n135\n00:06:34.775 --> 00:06:38.605\nprocessing capability on board that allows\nthem to act almost like a mini computer.\n\n136\n00:06:38.605 --> 00:06:42.609\nThey have their own set of operational and\nconfiguration management instructions.\n\n137\n00:06:42.609 --> 00:06:46.388\nSo they have a ROM of some kind that\nusually will store data, and they've got,\n\n138\n00:06:46.388 --> 00:06:48.122\nas I said, on board capabilities.\n\n139\n00:06:48.122 --> 00:06:52.152\nAnd they are smart network interfaces,\nand they will allow us to be able to\n\n140\n00:06:52.152 --> 00:06:56.490\ncreate this communication pathway,\nor connect to this storage network.\n\n141\n00:06:56.490 --> 00:07:00.390\nSo we have different ways of setting up\nthe storage front end, and the back end,\n\n142\n00:07:00.390 --> 00:07:04.830\nthe host connection, the initiator, right,\nthe HBA, the storage on the back end,\n\n143\n00:07:04.830 --> 00:07:07.280\nthe target of the storage processor.\n\n144\n00:07:07.280 --> 00:07:10.340\nA lot of my clients, a lot of my\ncustomers, will spend money and\n\n145\n00:07:10.340 --> 00:07:13.590\nbuy dedicated iSCSI HBAs hardware, HBAs.\n\n146\n00:07:13.590 --> 00:07:16.780\nBut, a lot of them will simply\nuse software-based solutions that\n\n147\n00:07:16.780 --> 00:07:20.190\nallow them to leverage existing network\ninterfaces, and connect that way.\n\n148\n00:07:20.190 --> 00:07:23.220\nIt's really up to us to\ndecide how we wanna do that.\n\n149\n00:07:23.220 --> 00:07:25.430\nReally, up to us to\ndecide what we wanna do.\n\n150\n00:07:25.430 --> 00:07:27.440\nAnd we have an iSCSI, what's called IQM.\n\n151\n00:07:27.440 --> 00:07:30.740\nThe qualified name,\nthis is the global unique identifier.\n\n152\n00:07:30.740 --> 00:07:34.030\nThink of like a GUID, or\nSET, or UUID, or whatever\n\n153\n00:07:34.030 --> 00:07:37.070\nunique identifier you may reference to\nthink of, with regards to win this.\n\n154\n00:07:37.070 --> 00:07:38.550\nWe have all of them, and more.\n\n155\n00:07:38.550 --> 00:07:42.326\nBut whatever that would be, it's how we\naddress or how we are able to call and\n\n156\n00:07:42.326 --> 00:07:45.990\ninteract with the initators, and\nthe targets across the iSCSI network.\n\n157\n00:07:45.990 --> 00:07:48.425\nSo, these are the building blocks, and\n\n158\n00:07:48.425 --> 00:07:51.797\nthe deployment components\nthat make up the iSCSI sand.\n\n159\n00:07:51.797 --> 00:07:56.032\nSo these four distinct pieces we've talked\nabout would be part of that conversation,\n\n160\n00:07:56.032 --> 00:07:56.560\noverall.\n\n161\n00:07:56.560 --> 00:07:59.612\nCherokee, I know you been Patiently\nwaiting and waving at me off camera.\n\n162\n00:07:59.612 --> 00:08:00.186\n&gt;&gt; [LAUGH]\n&gt;&gt; So,\n\n163\n00:08:00.186 --> 00:08:01.097\nwhat did you want to throw in there?\n\n164\n00:08:01.097 --> 00:08:04.613\n&gt;&gt; Well, it lets you round off those\nbuilding blocks, because I'm sitting\n\n165\n00:08:04.613 --> 00:08:08.710\nhere listening to you, and I don't hear\nanything that's crazy or super expensive.\n\n166\n00:08:08.710 --> 00:08:11.080\nYou even offered different solutions for\n\n167\n00:08:11.080 --> 00:08:14.240\nthe client to have some\nflexibility in this setup here.\n\n168\n00:08:14.240 --> 00:08:17.836\nSo I could see how it's such a popular\noption when it comes to storage.\n\n169\n00:08:17.836 --> 00:08:23.098\nBecause we don't have those huge expenses\nthat we do with other solutions yet,\n\n170\n00:08:23.098 --> 00:08:25.227\nsuch as Storage Area Networks.\n\n171\n00:08:25.227 --> 00:08:28.951\nBut we're still able to take advantage\nof all those great benefits, and\n\n172\n00:08:28.951 --> 00:08:33.103\neven use it like you had said, across\nthe TCP/IP networks, even the Internet,\n\n173\n00:08:33.103 --> 00:08:34.280\nso it's pretty cool.\n\n174\n00:08:34.280 --> 00:08:38.970\n&gt;&gt; It is, and it's very,\nnot only efficient and robust, so\n\n175\n00:08:38.970 --> 00:08:40.600\nit means it works very well.\n\n176\n00:08:40.600 --> 00:08:44.240\nWorks almost in any situation,\nin any configuration, and\n\n177\n00:08:44.240 --> 00:08:47.240\nreally just kind of does its job,\ndoesn't really give us a lot of headaches.\n\n178\n00:08:47.240 --> 00:08:49.570\nIt is relatively cost\nefficient as you said,\n\n179\n00:08:49.570 --> 00:08:50.770\ndepending on how it's\nused to configure it.\n\n180\n00:08:50.770 --> 00:08:51.460\nBut even if you go out and\n\n181\n00:08:51.460 --> 00:08:55.770\nbuy hardware based HPAs, you're not\ntalking about thousands of dollars, right?\n\n182\n00:08:55.770 --> 00:08:58.780\nWe're not talking about fiber for instance\nand fiber channel where you have to buy\n\n183\n00:08:58.780 --> 00:09:02.040\ndedicated, certainly\ndedicated hardware HBAs.\n\n184\n00:09:02.040 --> 00:09:04.920\nBut you also have to, although we do\nhave software interfaces depending on\n\n185\n00:09:04.920 --> 00:09:06.810\nthe vendor that we're talking about.\n\n186\n00:09:06.810 --> 00:09:10.320\nBut traditionally you would buy hardware\nHBAs when you're doing fiber channel.\n\n187\n00:09:10.320 --> 00:09:15.096\nBut we have to buy fiber-capable switches\nand we have to do a lot more to run fiber.\n\n188\n00:09:15.096 --> 00:09:17.352\nThis just runs,\ntraditional fiber channel by the way,\n\n189\n00:09:17.352 --> 00:09:19.944\nfiber over ethernet would not\nrequire as much of an investment,\n\n190\n00:09:19.944 --> 00:09:22.781\nwe do have different options depending\non what we're talking about.\n\n191\n00:09:22.781 --> 00:09:27.750\nBut compared to standard traditional\nfiber channel, way less expensive.\n\n192\n00:09:27.750 --> 00:09:31.380\nEven if you go out and\nbuy a top of the line iSCSI HBAs,\n\n193\n00:09:31.380 --> 00:09:35.430\nyou're talking about hundreds of dollars\nnot thousands of dollars as an investment.\n\n194\n00:09:35.430 --> 00:09:40.090\nSo we are talking about a pretty\neconomical way of configuring storage for\n\n195\n00:09:40.090 --> 00:09:43.830\nthe average, small, medium sized,\nmaybe even large enterprise.\n\n196\n00:09:43.830 --> 00:09:47.890\nSome of my biggest enterprise\ncustomers run iSCSI, because for\n\n197\n00:09:47.890 --> 00:09:52.170\nbasic kinds of storage access and basic\nkinds of work loads, it works really well.\n\n198\n00:09:52.170 --> 00:09:55.320\nYou may need fiber for\nhigh end work loads,\n\n199\n00:09:55.320 --> 00:09:58.150\nfor dedicated channels,\nin order to be able to do\n\n200\n00:09:58.150 --> 00:10:02.300\nhigh volume transactional solutions\nespecially in virtualized environments.\n\n201\n00:10:02.300 --> 00:10:04.470\nFiber makes a lot of sense for\na lot reasons.\n\n202\n00:10:04.470 --> 00:10:08.820\nBut it's incredibly pricey, by comparison,\nand it's not necessary for everyday stuff.\n\n203\n00:10:08.820 --> 00:10:12.575\nDomain controllers, file and print servers\ndon't need to run on fiber channel\n\n204\n00:10:12.575 --> 00:10:16.569\nin order to be productive, they just need\nto be on well-maintained iSCI networks.\n\n205\n00:10:16.569 --> 00:10:19.654\nAnd you can really carve up your\nnetwork and your workload needs,\n\n206\n00:10:19.654 --> 00:10:23.150\nif you're smart about this, and\nreally think through the logic of this.\n\n207\n00:10:23.150 --> 00:10:26.330\nAnd save yourself a lot of money, as well\nas a lot of, as you said, complexity.\n\n208\n00:10:26.330 --> 00:10:28.890\nSo yeah, there definitely\nare some value adds there if\n\n209\n00:10:28.890 --> 00:10:30.100\nyou wanna think of it that way.\n\n210\n00:10:30.100 --> 00:10:32.920\nBut if somebody is writing a check,\nand they said, hey whatever it takes,\n\n211\n00:10:32.920 --> 00:10:33.840\njust get it done.\n\n212\n00:10:33.840 --> 00:10:37.310\nThen, top of the line,\nlet's just get fiber all the through.\n\n213\n00:10:37.310 --> 00:10:38.600\nEnd to end, as they say.\n\n214\n00:10:38.600 --> 00:10:41.030\nAll right, so iSCSI targets,\nif you notice down there,\n\n215\n00:10:41.030 --> 00:10:45.930\nmade their debut right here in\nWindows Server 2008 R2 back in 2011.\n\n216\n00:10:45.930 --> 00:10:47.270\nWe've been using this technology in,\n\n217\n00:10:47.270 --> 00:10:50.570\nat least in theory anyway,\nif you've been using it for some time.\n\n218\n00:10:50.570 --> 00:10:54.120\nReally the kickstart for this and\nthe advent of this was the move\n\n219\n00:10:54.120 --> 00:10:57.270\nin a very significant way,\nnot only on the Microsoft side, but\n\n220\n00:10:57.270 --> 00:11:01.590\nacross the virtualization stack and\nall the vendors that support it.\n\n221\n00:11:01.590 --> 00:11:05.560\nWe think of the Mware, Amazon,\nGoogle, certainly Oracle,\n\n222\n00:11:05.560 --> 00:11:08.000\nthough we don't often think about\nOracle as a virtualization vendor,\n\n223\n00:11:08.000 --> 00:11:10.770\nbut they do provide\nvirtualization services.\n\n224\n00:11:10.770 --> 00:11:13.834\nAlthough not as many people use\nthem as others, but Citrix,\n\n225\n00:11:13.834 --> 00:11:16.970\nall the major players in the Cloud and\nvirtualization stack.\n\n226\n00:11:16.970 --> 00:11:21.459\niSCSI as we said, is kind of that unsung\nhero, that workhorse that just puts its\n\n227\n00:11:21.459 --> 00:11:25.485\nhead down and gets the job done on\nthese virtualized storage networks.\n\n228\n00:11:25.485 --> 00:11:28.090\nAnd so it's there, and\nit's been there for some time.\n\n229\n00:11:28.090 --> 00:11:32.190\nMicrosoft certainly, as many other vendors\nhave, integrating it into their stack,\n\n230\n00:11:32.190 --> 00:11:35.350\nalong with the advent of Hyper-V,\nin 2008 R2,\n\n231\n00:11:35.350 --> 00:11:37.662\nwould have been Hyper-V2 at that point.\n\n232\n00:11:37.662 --> 00:11:41.640\nAnd so, really making the turn\nto become an enterprise player\n\n233\n00:11:41.640 --> 00:11:44.088\nin the virtualization\nspace around that time.\n\n234\n00:11:44.088 --> 00:11:47.370\nMicrosoft focusing its business model\nthere saying, wait we're really gonna\n\n235\n00:11:47.370 --> 00:11:50.780\nprovide an enterprise grade,\nenterprise capable solution.\n\n236\n00:11:50.780 --> 00:11:54.088\nGo head to head with VMware, go head\nto head with Citrix, and become that\n\n237\n00:11:54.088 --> 00:11:57.355\nadditional vendor that everybody\nwants to think about and talk about.\n\n238\n00:11:57.355 --> 00:11:59.291\nAnd we're gonna talk about Hyper V and\n\n239\n00:11:59.291 --> 00:12:03.660\nsome of the capabilities there later on\nin our discussions in these topic areas.\n\n240\n00:12:03.660 --> 00:12:06.820\nDon't wanna leave that out, it's gonna be\na very important part of advanced services\n\n241\n00:12:06.820 --> 00:12:08.850\nin the server 1212 R2 stack, and\nwe'll have some really cool and\n\n242\n00:12:08.850 --> 00:12:11.640\ninteresting things to say about that.\n\n243\n00:12:11.640 --> 00:12:13.194\nBut that's gonna come up in a while,\n\n244\n00:12:13.194 --> 00:12:16.110\nright now, just want to lay out\nthe highlights here for you.\n\n245\n00:12:16.110 --> 00:12:17.680\nWe talked about the building blocks,\n\n246\n00:12:17.680 --> 00:12:21.700\nyou'll see some information here\nabout iSCSI and how it's configured.\n\n247\n00:12:21.700 --> 00:12:25.740\nIt gives you a nice overview here,\nlets us share block storage remotely.\n\n248\n00:12:25.740 --> 00:12:27.920\nWe leverage the ethernet\nnetwork as we said,\n\n249\n00:12:27.920 --> 00:12:30.240\ndon't require any specialized\nhardware traditionally.\n\n250\n00:12:30.240 --> 00:12:33.577\nAs I said, you could do this with\nsoftware, but you may want that extra\n\n251\n00:12:33.577 --> 00:12:37.159\nbenefit and go out and buy those\nhardware HBA's, it's totally up to you.\n\n252\n00:12:37.159 --> 00:12:39.957\nMicrosoft's discussion here\nof some perspective of, hey,\n\n253\n00:12:39.957 --> 00:12:42.860\nuse our software initiators,\nwhy go out and buy hardware?\n\n254\n00:12:42.860 --> 00:12:43.960\nWe provide the service to you.\n\n255\n00:12:43.960 --> 00:12:47.490\nSo you're not gonna see them reference the\nfact you can use additional hardware, but\n\n256\n00:12:47.490 --> 00:12:49.295\nit is available, just so you know.\n\n257\n00:12:49.295 --> 00:12:50.070\nSo you'll see here,\n\n258\n00:12:50.070 --> 00:12:53.500\nwe do have the capability to kind of\njust lay out what this looks like.\n\n259\n00:12:53.500 --> 00:12:55.490\nThe reason I like this particular site,\n\n260\n00:12:55.490 --> 00:12:58.300\nit really walks through methodically\nall the things we just talked about.\n\n261\n00:12:58.300 --> 00:13:00.320\nExplains then to you,\ngives you some pictures,\n\n262\n00:13:00.320 --> 00:13:03.710\nhelps you to better understand all\nthe things that you may wanna know,\n\n263\n00:13:03.710 --> 00:13:06.190\nespecially if you don't\nuse iSCSI all that often.\n\n264\n00:13:06.190 --> 00:13:08.400\nIf you're new to network administration or\n\n265\n00:13:08.400 --> 00:13:10.300\nmaybe even you've been\ndoing this a long time.\n\n266\n00:13:10.300 --> 00:13:12.650\nBut traditionally in larger enterprises,\n\n267\n00:13:12.650 --> 00:13:15.390\nstorage is managed by a separate\ngroup more often than not.\n\n268\n00:13:15.390 --> 00:13:19.140\nJust like databases tend to be\nmanaged by a separate group, and\n\n269\n00:13:19.140 --> 00:13:21.620\nthey may not necessarily be things\nthat you deal with every day.\n\n270\n00:13:21.620 --> 00:13:25.120\nYou may use those services,\nyou may consume data.\n\n271\n00:13:25.120 --> 00:13:28.324\nBut you may not have hands-on first\nline experience with these systems,\n\n272\n00:13:28.324 --> 00:13:30.969\nsetting them up, administering them,\nmaintaining them.\n\n273\n00:13:30.969 --> 00:13:34.511\nAnd so, this may be something that you've\nkind of seen, you've kind of heard about,\n\n274\n00:13:34.511 --> 00:13:37.240\nbut you've not really gotten in there and\nspent a lot of time with.\n\n275\n00:13:37.240 --> 00:13:40.810\nSo I like the walk through on this page,\ncuz it really does assume that you're\n\n276\n00:13:40.810 --> 00:13:44.350\nstarting from ground zero and it lets\nyou build that knowledge incrementally.\n\n277\n00:13:44.350 --> 00:13:48.031\nGives you a really nice thorough immersion\ninto all the different variables\n\n278\n00:13:48.031 --> 00:13:52.016\nassociated with storage, gives you a nice\noverview of the technology platform.\n\n279\n00:13:52.016 --> 00:13:55.228\nHelps you to better understand all\nthe things that we're currently doing, so\n\n280\n00:13:55.228 --> 00:13:57.139\nit will be good for\nyou from that perspective.\n\n281\n00:13:57.139 --> 00:14:01.234\nYou could see some terminologies discussed\nhere, the initiator, the target server,\n\n282\n00:14:01.234 --> 00:14:04.182\nthis is where the storage is\nactually set up as we talked about.\n\n283\n00:14:04.182 --> 00:14:08.248\nThe application server uses the initiator,\nso request access to the data.\n\n284\n00:14:08.248 --> 00:14:10.820\nAnd you could see the disc's\nvirtual drives, or\n\n285\n00:14:10.820 --> 00:14:13.190\nthe targets that are being presented or\nbeing set up.\n\n286\n00:14:13.190 --> 00:14:14.920\nSo, all the things I mentioned are here,\n\n287\n00:14:14.920 --> 00:14:17.140\nit's just a matter of\nputting pictures to them.\n\n288\n00:14:17.140 --> 00:14:22.200\nThe other nice thing, you can click,\nobviously, blow any of these pictures up.\n\n289\n00:14:22.200 --> 00:14:25.340\nSo if you wanna see one a little\nbit bigger, interact with it,\n\n290\n00:14:25.340 --> 00:14:27.570\nreally get under the hood there and\nsee what's going on.\n\n291\n00:14:27.570 --> 00:14:28.080\nYou just click,\n\n292\n00:14:28.080 --> 00:14:31.835\nlike all those good websites are,\nthose pictures will just pop out at you.\n\n293\n00:14:31.835 --> 00:14:33.705\nAnd you can obviously\nthen leverage them and\n\n294\n00:14:33.705 --> 00:14:35.785\ndo whatever you need to in\norder to better understand.\n\n295\n00:14:35.785 --> 00:14:38.675\nIf you're studying,\ngreat way to get some notes together.\n\n296\n00:14:38.675 --> 00:14:41.875\nScreen capture that, maybe create\na flash card, make some notes around it.\n\n297\n00:14:41.875 --> 00:14:45.660\nLots of ways to document what you're doing\nwith regards to your studying process,\n\n298\n00:14:45.660 --> 00:14:48.080\nso just helpful to be\naware of those things and\n\n299\n00:14:48.080 --> 00:14:49.890\nmake sure you're familiar with them,\nright?\n\n300\n00:14:49.890 --> 00:14:53.309\nAll right, so we do have the iSCSI\ninterface here, target, target server,\n\n301\n00:14:53.309 --> 00:14:55.480\nvirtual disconnections,\nthe IQN I mentioned.\n\n302\n00:14:55.480 --> 00:14:58.517\nAll the things I mentioned to you are\ndocumented right here, so you can go in,\n\n303\n00:14:58.517 --> 00:15:01.680\nyou could see all these things and have\na better understanding of what they are.\n\n304\n00:15:01.680 --> 00:15:03.940\nYou guys wanna see how we\nput this all together?\n\n305\n00:15:03.940 --> 00:15:06.060\nOf course you do right,\nwhy should I even ask?\n\n306\n00:15:06.060 --> 00:15:08.210\nSo why don't we take a look at how\nwe're gonna actually set this up.\n\n307\n00:15:08.210 --> 00:15:10.870\nSo what we're gonna do,\njust give me one second here,\n\n308\n00:15:10.870 --> 00:15:15.753\nI'm going to just switch over so\nI can get to our lab environment.\n\n309\n00:15:15.753 --> 00:15:19.815\nAnd I'm gonna go to my domain controller,\nthere we go, all right.\n\n310\n00:15:19.815 --> 00:15:21.805\nSo got some machines already set up for\nus,\n\n311\n00:15:21.805 --> 00:15:24.245\nlet me just quickly give you\na highlight of what we have going on.\n\n312\n00:15:24.245 --> 00:15:26.725\nWe do have our domain controller here,\nwe're gonna install and\n\n313\n00:15:26.725 --> 00:15:30.665\nconfigure this as an iSCSI\nserver here in just one moment.\n\n314\n00:15:30.665 --> 00:15:34.415\nSo we're going to add in the iSCSI\nsupport role by going into Manage and\n\n315\n00:15:34.415 --> 00:15:34.965\nrunning through that.\n\n316\n00:15:34.965 --> 00:15:38.170\nWe'll do that for you in a minute,\njust extend our timer here and\n\n317\n00:15:38.170 --> 00:15:39.660\nmake sure everything is running well.\n\n318\n00:15:39.660 --> 00:15:44.370\nWe also have two other machines,\nwe have our DM1, or Domain Member.\n\n319\n00:15:44.370 --> 00:15:48.490\nThis is a file and\nstorage server service provider as well.\n\n320\n00:15:48.490 --> 00:15:52.183\nWe've configured this, as well as another\nmachine that we've joined to the domain,\n\n321\n00:15:52.183 --> 00:15:53.709\nso that we have some capabilities.\n\n322\n00:15:53.709 --> 00:15:57.559\nAnd then we're gonna leverage these to be\nable to access iSCSI services once we're\n\n323\n00:15:57.559 --> 00:15:58.495\nset up and running.\n\n324\n00:15:58.495 --> 00:16:01.265\nSo first thing we're gonna do, go in and\ninstall the iSCSI server service.\n\n325\n00:16:01.265 --> 00:16:03.096\nSo Gonna go to Manage.\n\n326\n00:16:03.096 --> 00:16:07.470\nWe're gonna go over here to add,\nroles and features, we do that.\n\n327\n00:16:07.470 --> 00:16:09.830\nGive us just a second,\nyou've seen this wizard before.\n\n328\n00:16:09.830 --> 00:16:12.220\nShouldn't be anything new here for\nyou by any means.\n\n329\n00:16:12.220 --> 00:16:15.000\nThe only thing new, is what we're gonna\nselect and how we're gonna do this.\n\n330\n00:16:15.000 --> 00:16:16.080\nSo we're gonna go in.\n\n331\n00:16:16.080 --> 00:16:18.620\nLet's fast forward through\nthe first couple of screens here.\n\n332\n00:16:18.620 --> 00:16:20.680\nRole based feature,\nwe're gonna be doing Next.\n\n333\n00:16:20.680 --> 00:16:22.070\nWe're adding a feature.\n\n334\n00:16:22.070 --> 00:16:25.108\nWe're gonna select our server,\nobviously, local only one server.\n\n335\n00:16:25.108 --> 00:16:28.471\nDon't have a lot of options here, but I've\ntalked about before the fact that if we\n\n336\n00:16:28.471 --> 00:16:32.050\nhad a pool, we may have multiple servers,\nwe'd select the appropriate one, right?\n\n337\n00:16:32.050 --> 00:16:33.072\nSo we're gonna click Next.\n\n338\n00:16:33.072 --> 00:16:38.457\nAll right so now, what we're gonna do,\nis go in and we are going to select under\n\n339\n00:16:38.457 --> 00:16:43.451\nthe server roles here, we're gonna\ngo in under file storage services.\n\n340\n00:16:43.451 --> 00:16:45.946\nLet me move this over so\nyou could see this.\n\n341\n00:16:47.303 --> 00:16:49.620\nWe already have that kind\nof poking out over here.\n\n342\n00:16:49.620 --> 00:16:53.081\nIt's already configured on the box,\nbut as you notice,\n\n343\n00:16:53.081 --> 00:16:55.650\nwe only have 2 of 12 installed here.\n\n344\n00:16:55.650 --> 00:16:58.918\nWe have not configured and\ninstalled every option under the server.\n\n345\n00:16:58.918 --> 00:17:01.859\nWe've only installed a few of them and\nthis one happens to have a whole bunch.\n\n346\n00:17:01.859 --> 00:17:03.002\nAnd, we're gonna go back and\n\n347\n00:17:03.002 --> 00:17:05.671\nadd in some additional capabilities\nthat we haven't utilized yet.\n\n348\n00:17:05.671 --> 00:17:08.328\nAnd that's where we're gonna find\nthe iSCSI solution, right, so\n\n349\n00:17:08.328 --> 00:17:09.360\nwe're gonna go in.\n\n350\n00:17:09.360 --> 00:17:10.120\nWe're gonna do that.\n\n351\n00:17:10.120 --> 00:17:12.490\nSo let's just move this over,\njust so again we could see that.\n\n352\n00:17:12.490 --> 00:17:15.590\nAnd I'm not cutting you off on\nthe corner there, all right.\n\n353\n00:17:15.590 --> 00:17:17.900\nSo just gonna open this up,\njust so you could see what's here.\n\n354\n00:17:17.900 --> 00:17:23.220\nLet's scroll down just a moment, File and\niSCSI services, only 1 of 11 installed.\n\n355\n00:17:23.220 --> 00:17:26.600\nAnd when we go in here, you could see\nthere's quite a lot of additional\n\n356\n00:17:26.600 --> 00:17:31.270\nthings that have not been chosen yet,\nour target server, our DFS.\n\n357\n00:17:31.270 --> 00:17:34.340\nSo DFS should be the file\nsystem provider is here.\n\n358\n00:17:34.340 --> 00:17:37.570\nExcuse me, we have our NFS,\nnetwork file service provider.\n\n359\n00:17:37.570 --> 00:17:39.930\nWe can provide NFS services for Windows.\n\n360\n00:17:39.930 --> 00:17:42.640\nWe'll talk about that later on\ntowards the end of our discussions\n\n361\n00:17:42.640 --> 00:17:44.030\nin the storage area here.\n\n362\n00:17:44.030 --> 00:17:45.550\nSo we'll talk about file services.\n\n363\n00:17:45.550 --> 00:17:48.780\nBut we can provide both iSCSI and\nNFS services.\n\n364\n00:17:48.780 --> 00:17:53.040\nNFS another common standard file\nsystem we would use in virtualized and\n\n365\n00:17:53.040 --> 00:17:54.100\ncloud environments.\n\n366\n00:17:54.100 --> 00:17:58.240\nFile level storage access as opposed\nto block level the way ISCSI is.\n\n367\n00:17:58.240 --> 00:18:00.720\nBeing able to manage data\nfrom different perspectives.\n\n368\n00:18:00.720 --> 00:18:05.050\nNFS is a standard industry\nsolution used extensively.\n\n369\n00:18:05.050 --> 00:18:07.003\nWhen you use a NAS device typically,\n\n370\n00:18:07.003 --> 00:18:10.531\nyou will usually format the NAS\ndevice with an NFS file system, and\n\n371\n00:18:10.531 --> 00:18:14.500\nuse file level storage management\non that device to present storage.\n\n372\n00:18:14.500 --> 00:18:18.430\nWhereas with the SAN, you will often\nuse a block level file system.\n\n373\n00:18:18.430 --> 00:18:23.125\nSo something like, whether you're\nusing iSCSI to connect to it, and\n\n374\n00:18:23.125 --> 00:18:26.580\nusing in VM or use VMFS,\nthe VMware file system.\n\n375\n00:18:26.580 --> 00:18:29.864\nThere's different options, but the idea\nwill be that you have different mechanisms\n\n376\n00:18:29.864 --> 00:18:31.150\nor ways of dealing with storage.\n\n377\n00:18:31.150 --> 00:18:32.520\nSo, we have a lot of options here.\n\n378\n00:18:32.520 --> 00:18:34.370\nWe'll come back and\nrevisit that a little bit.\n\n379\n00:18:34.370 --> 00:18:36.620\nBut we're gonna select\nthe iSCSI target server.\n\n380\n00:18:36.620 --> 00:18:38.800\nSo, right here as you can see, and\n\n381\n00:18:38.800 --> 00:18:42.080\njust wanna call out that you wanna make\nsure you're selecting target server,\n\n382\n00:18:42.080 --> 00:18:45.850\nnot target server, or excuse me,\ntarget storage provider, right?\n\n383\n00:18:45.850 --> 00:18:48.470\nSo just make sure that you know\nthe difference here, cuz there are two.\n\n384\n00:18:48.470 --> 00:18:52.950\nGonna check off iSCSI target server,\nprovide services and management tools for\n\n385\n00:18:52.950 --> 00:18:54.580\nthe iSCSI targets, right.\n\n386\n00:18:54.580 --> 00:18:56.431\nSo we're gonna mount storage,\nin other words,\n\n387\n00:18:56.431 --> 00:18:59.736\nmake it available through this system, cuz\nthat's what the target is gonna let us do.\n\n388\n00:18:59.736 --> 00:19:00.972\nI just wanna click Next.\n\n389\n00:19:02.940 --> 00:19:05.420\nAnd, we have our features here.\n\n390\n00:19:05.420 --> 00:19:07.950\nWe're not gonna use, or\nrequire additional features.\n\n391\n00:19:07.950 --> 00:19:10.790\nBut if we did, we absolutely\ncould go in and specify them,\n\n392\n00:19:10.790 --> 00:19:13.290\nif we need a client services for NFS, or\n\n393\n00:19:13.290 --> 00:19:17.480\nsome of the other things that maybe\nimportant for us, we could add them here.\n\n394\n00:19:17.480 --> 00:19:18.660\nWe'll click Next.\n\n395\n00:19:18.660 --> 00:19:21.820\nWe're now going to just go ahead and\ndo our solution or\n\n396\n00:19:21.820 --> 00:19:23.980\nengage in the installation\nof our solution.\n\n397\n00:19:23.980 --> 00:19:25.672\nSo we'll just let that run real quick.\n\n398\n00:19:25.672 --> 00:19:27.800\nIt doesn't take too long to install.\n\n399\n00:19:27.800 --> 00:19:30.716\nIt's one of those ones that will\ncertainly take a moment or two, but\n\n400\n00:19:30.716 --> 00:19:32.720\nin general, doesn't take very, very long.\n\n401\n00:19:32.720 --> 00:19:36.120\nBut there is always the possibility\nthat we get an error.\n\n402\n00:19:36.120 --> 00:19:38.790\nSometimes services are not gonna install,\nconfigure properly.\n\n403\n00:19:38.790 --> 00:19:41.390\nIf we do, may have to back out,\nrestart this.\n\n404\n00:19:41.390 --> 00:19:44.148\nSo don't be afraid to deal\nwith that if it does happen.\n\n405\n00:19:44.148 --> 00:19:47.700\nBut you could see here installation\nsucceeded very quick, very simple,\n\n406\n00:19:47.700 --> 00:19:50.030\nas long as everything's working,\nhumming along really well.\n\n407\n00:19:50.030 --> 00:19:51.370\nNormally, no issues, all right.\n\n408\n00:19:51.370 --> 00:19:52.958\nSo we're gonna go ahead,\nwe're gonna click Close here.\n\n409\n00:19:54.434 --> 00:19:57.300\nGive that just a second to update.\n\n410\n00:19:57.300 --> 00:19:58.800\nWe often will do a refresh there,\n\n411\n00:19:58.800 --> 00:20:00.630\njust to make sure everything's\nworking the right way.\n\n412\n00:20:00.630 --> 00:20:04.070\nWe're gonna go in, and\nwe're gonna actually configure, or\n\n413\n00:20:04.070 --> 00:20:07.760\nstart the configuration\nprocess on the iSCSI solution.\n\n414\n00:20:07.760 --> 00:20:10.670\nSo what we're gonna do,\nI'll just do a quick refresh here,\n\n415\n00:20:10.670 --> 00:20:13.280\njust make sure everything\nis instantiated correctly.\n\n416\n00:20:13.280 --> 00:20:14.580\nWe do have our little, hey,\n\n417\n00:20:14.580 --> 00:20:18.300\nthere's something going on in notification\nitem up there we could take a look.\n\n418\n00:20:18.300 --> 00:20:20.720\nWe could see, hey,\nit was successful, right?\n\n419\n00:20:20.720 --> 00:20:24.080\nNo additional configuration required,\njust tells us that, that was the case.\n\n420\n00:20:24.080 --> 00:20:25.580\nWe are gonna configure, of course, but\n\n421\n00:20:25.580 --> 00:20:27.940\nwe're not gonna worry about\ndoing that right from here.\n\n422\n00:20:27.940 --> 00:20:30.250\nWe're gonna go into file and\nstorage services, and\n\n423\n00:20:30.250 --> 00:20:33.070\namong the other things we have\nthere now we do see iSCSI.\n\n424\n00:20:33.070 --> 00:20:34.919\nSo we're gonna go ahead and\nclick on iSCSI.\n\n425\n00:20:34.919 --> 00:20:38.489\nSelect that,\niSCSI virtual disks you can see there.\n\n426\n00:20:38.489 --> 00:20:41.439\nSo we're gonna go ahead and\nwe're gonna mount some storage, or\n\n427\n00:20:41.439 --> 00:20:44.680\ncreate some storage,\nmake it available for our iSCSI target.\n\n428\n00:20:44.680 --> 00:20:46.910\nSo that's the next step\nthat we're gonna engage in.\n\n429\n00:20:46.910 --> 00:20:49.960\nSo we're gonna come over here, and you'll\nsee to create an iSCSI virtual disk,\n\n430\n00:20:49.960 --> 00:20:52.760\nstart the new iSCSI virtual disk wizard,\nright?\n\n431\n00:20:52.760 --> 00:20:55.230\nSo you'll see we can go ahead and\nwe can click on that, right?\n\n432\n00:20:55.230 --> 00:20:56.110\nSo we can click there.\n\n433\n00:20:56.110 --> 00:21:00.250\nYou'll notice also up here, under tasks,\nwe can do new iSCSI virtual disk.\n\n434\n00:21:00.250 --> 00:21:03.750\nWe can essentially do it either way,\nright, up to us to decide.\n\n435\n00:21:03.750 --> 00:21:07.891\nWould have been great if they put a big\nhonking hard drive picture with a click me\n\n436\n00:21:07.891 --> 00:21:10.740\nnow icon right there or\nsomething like that, right.\n\n437\n00:21:10.740 --> 00:21:12.216\nAll right, so we're gonna go ahead,\n\n438\n00:21:12.216 --> 00:21:14.660\nwe're gonna click right here\nto start that wizard up.\n\n439\n00:21:14.660 --> 00:21:16.620\nLet me just square this\noff on the screen here,\n\n440\n00:21:16.620 --> 00:21:19.870\nso we could see what we're\ndoing while we're doing that.\n\n441\n00:21:19.870 --> 00:21:22.041\nAll right, now I'm gonna go ahead.\n\n442\n00:21:22.041 --> 00:21:27.980\nLet me just auto-hide that task\nbar down there, all right.\n\n443\n00:21:27.980 --> 00:21:29.609\nYeah, now we can kind\nof see the whole thing.\n\n444\n00:21:29.609 --> 00:21:33.810\nAll right, so now what we're going to do,\nis go in and we're going to select our\n\n445\n00:21:33.810 --> 00:21:37.324\niSCSI, or begin the process of\nselecting our iSCSI virtual disk,\n\n446\n00:21:37.324 --> 00:21:40.980\nthe location, what we're gonna do,\nhow we're gonna do it.\n\n447\n00:21:40.980 --> 00:21:42.934\nSo the idea here is that we're\ngonna mount some storage,\n\n448\n00:21:42.934 --> 00:21:44.285\nright, publish to make it available.\n\n449\n00:21:44.285 --> 00:21:48.182\nAnd then use that or at least make that\navailable through the iSCSI interface so\n\n450\n00:21:48.182 --> 00:21:50.270\nwe can become a file server essentially.\n\n451\n00:21:50.270 --> 00:21:54.112\nAnd publish storage and make it available\nfor whatever we may wanna do, yes?\n\n452\n00:21:54.112 --> 00:21:57.220\n&gt;&gt; So how does this all tie\nin with our storage pulls?\n\n453\n00:21:57.220 --> 00:22:01.230\nI mean, are we able to take a volume that\nwas created within storage pools and\n\n454\n00:22:01.230 --> 00:22:04.080\nuse it here to be go ahead and\nallocate for this service?\n\n455\n00:22:04.080 --> 00:22:08.330\nOr are we taking about specific\ntypes of drives or hardware here?\n\n456\n00:22:08.330 --> 00:22:11.590\n&gt;&gt; Well, for iSCSI, we're talking about\nspecific stuff cuz we're creating the,\n\n457\n00:22:11.590 --> 00:22:15.320\nas you saw, we're adding in the iSCSI\ntarget service, in this case to mount it.\n\n458\n00:22:15.320 --> 00:22:19.280\nWe're using the iSCSI protocol, so it is\nspecific to iSCSI, the configuration.\n\n459\n00:22:19.280 --> 00:22:23.530\nStorage pools generically, in Windows,\nis really just the idea of being able to\n\n460\n00:22:23.530 --> 00:22:27.783\nprovide storage capabilities through some\nsort of aggregation of hard drives or\n\n461\n00:22:27.783 --> 00:22:31.985\nvirtual hard drives, physical hard\ndrives combination, whatever it may be.\n\n462\n00:22:31.985 --> 00:22:35.566\nBut really just providing the ability to\nmanage storage from this interface and\n\n463\n00:22:35.566 --> 00:22:38.130\ntee it up and provide any one\nof several different forms,\n\n464\n00:22:38.130 --> 00:22:39.930\ndepending on what we're doing.\n\n465\n00:22:39.930 --> 00:22:43.030\nBut iSCSI is a specific instance\nthat we would be configuring and\n\n466\n00:22:43.030 --> 00:22:44.720\nusing based on the choice of protocol.\n\n467\n00:22:44.720 --> 00:22:47.210\nSo, a little bit different than\njust a generic storage pool.\n\n468\n00:22:47.210 --> 00:22:49.680\n&gt;&gt; Definitely some planning\nassociated with that ahead of time,\n\n469\n00:22:49.680 --> 00:22:52.540\nnot just your old JBODs there.\n\n470\n00:22:52.540 --> 00:22:55.260\n&gt;&gt; Well, yeah, planning in terms\nof obviously having to be able to\n\n471\n00:22:55.260 --> 00:22:58.390\nprovide the iSCSI target service,\nin this case,\n\n472\n00:22:58.390 --> 00:23:02.230\nthe target server providing and as you\ncould see, configuring that cuz otherwise,\n\n473\n00:23:02.230 --> 00:23:05.095\nwe have no way of serving storage up,\nas the target.\n\n474\n00:23:05.095 --> 00:23:08.585\nMeaning, providing it, so\nother people can consume it through iSCSI.\n\n475\n00:23:08.585 --> 00:23:10.865\nSo we'd have to plan and\ndo that certainly.\n\n476\n00:23:10.865 --> 00:23:13.795\nWithout that available,\nwe could plan to use iSCSI.\n\n477\n00:23:13.795 --> 00:23:16.932\nWe could set up in theory,\nan iSCSI Initiator on the host or\n\n478\n00:23:16.932 --> 00:23:20.399\nthe application server we saw in\nthat little diagram on the web.\n\n479\n00:23:20.399 --> 00:23:24.579\nWhere on the left, we were requesting the\nstorage and on the right, we had the iSCSI\n\n480\n00:23:24.579 --> 00:23:28.184\ntarget array with the virtual disks or\nphysical disk being presented.\n\n481\n00:23:28.184 --> 00:23:31.878\nIf we don't plan for that set that up\narchitect build that configured the way\n\n482\n00:23:31.878 --> 00:23:35.397\nwe're doing here, then, we could be\nwaiting on iSCSI storage all day on\n\n483\n00:23:35.397 --> 00:23:37.784\nthe web, but\nnothing's gonna show up, right?\n\n484\n00:23:37.784 --> 00:23:39.520\n&gt;&gt; Right.\n&gt;&gt; It's not gonna get delivered.\n\n485\n00:23:39.520 --> 00:23:40.970\nYeah, we do definitely need to plan for\nthat.\n\n486\n00:23:40.970 --> 00:23:43.102\nWe do need to think about that,\nthere's no doubt about it.\n\n487\n00:23:43.102 --> 00:23:47.591\nAll right, so you'll see here,\nselect iSCSI virtual disk location.\n\n488\n00:23:47.591 --> 00:23:49.976\nSo step one or\njust kind of walking through the wizards,\n\n489\n00:23:49.976 --> 00:23:52.340\nyou see there's a bunch of\nstuff we're gonna do here.\n\n490\n00:23:52.340 --> 00:23:53.870\nSo what's the disk location?\n\n491\n00:23:53.870 --> 00:23:57.067\nServer name plaid, VC1,\nlocal server status online,\n\n492\n00:23:57.067 --> 00:23:59.071\nright, currently not clustered.\n\n493\n00:23:59.071 --> 00:24:00.844\nJust gonna install as\na single instance here.\n\n494\n00:24:00.844 --> 00:24:03.291\nWe could set up clustering, essentially,\n\n495\n00:24:03.291 --> 00:24:06.265\nset up a storage pool to\nprovide multiple Providers or\n\n496\n00:24:06.265 --> 00:24:11.040\nhave multiple providers feeding storage\nfor us, but we're not gonna be doing that.\n\n497\n00:24:11.040 --> 00:24:13.220\nWe're just gonna be setting\nthis up as a single instance.\n\n498\n00:24:13.220 --> 00:24:15.170\nSo you'll see we have that,\nselect by volume,\n\n499\n00:24:15.170 --> 00:24:17.110\nwhere is our storage location gonna be?\n\n500\n00:24:17.110 --> 00:24:21.352\nThe C drive right now,\nlooks like we have about 29 free space,\n\n501\n00:24:21.352 --> 00:24:26.393\nabout 29 gigs approximately out of\nabout 40 gigs approximately there.\n\n502\n00:24:26.393 --> 00:24:28.894\nSo we're going to be able to provide\nsome of that information, or\n\n503\n00:24:28.894 --> 00:24:31.100\nrather some of that storage,\nallocate that out.\n\n504\n00:24:31.100 --> 00:24:36.070\nThe iSCSI virtual disk will be saved\nat iSCSI or rather /iSCSI virtual disk\n\n505\n00:24:36.070 --> 00:24:39.920\non the selected volume, so it will be in\nthe C drive or we could specify a path.\n\n506\n00:24:39.920 --> 00:24:41.000\nYou see down there at the bottom,\n\n507\n00:24:41.000 --> 00:24:43.200\nI could put in a path and\ndecide where I wanna put it.\n\n508\n00:24:43.200 --> 00:24:46.498\nWe're just going to store it in the local\npath and see, that's perfectly fine.\n\n509\n00:24:46.498 --> 00:24:49.228\nAll right so, we're going to\naccept the defaults there, but\n\n510\n00:24:49.228 --> 00:24:52.061\nwe could modify as you can see,\nnot having a lot of storage here,\n\n511\n00:24:52.061 --> 00:24:54.125\nthis is really just\na quick demo environment.\n\n512\n00:24:54.125 --> 00:24:57.020\nObviously in the real world,\nwe would hopefully have,\n\n513\n00:24:57.020 --> 00:25:01.405\nand Cherokee made reference to something,\nan acronym called J Bod, right?\n\n514\n00:25:01.405 --> 00:25:03.685\nJust a bunch of disks is what J Bod means,\n\n515\n00:25:03.685 --> 00:25:05.875\nessentially, just a whole\nbunch of hard drives, right?\n\n516\n00:25:05.875 --> 00:25:09.352\nWherever they come from,\nwhatever type they are.\n\n517\n00:25:09.352 --> 00:25:13.172\nSSD, traditional HDs or\ntraditional hard drives.\n\n518\n00:25:13.172 --> 00:25:16.192\nWhatever they may be, we don't really care\nabout the backend technology right now.\n\n519\n00:25:16.192 --> 00:25:19.484\nWhat we care about is the fact that we\ncould just mount volumeous amounts of\n\n520\n00:25:19.484 --> 00:25:21.542\nstorage, or large volumes of storage.\n\n521\n00:25:21.542 --> 00:25:25.869\nAnd so, we would in the real world, stack\nthis box up with a lot of hard drives to\n\n522\n00:25:25.869 --> 00:25:29.816\nmake a lot of storage available,\nnot 20 gigs but terabytes, right?\n\n523\n00:25:29.816 --> 00:25:32.203\nBecause that's really what we need\nwhen we're doing this kind of work.\n\n524\n00:25:32.203 --> 00:25:32.917\nThis is really not,\n\n525\n00:25:32.917 --> 00:25:35.950\nin other words, represented for what you\nwould see in the real world traditionally.\n\n526\n00:25:35.950 --> 00:25:38.112\nYou wouldn't go to the time and\ntrouble of doing this,\n\n527\n00:25:38.112 --> 00:25:41.880\nto amount to 20 gig virtual hard drive, to\nstore something, there's no value in that.\n\n528\n00:25:41.880 --> 00:25:45.084\nBut when we're talking about terabytes of\nstorage, large volumes of hard drives,\n\n529\n00:25:45.084 --> 00:25:48.268\nthat's really what we would traditionally\nsee in this environment just say know.\n\n530\n00:25:48.268 --> 00:25:51.980\nAlright, we're gonna click next here,\nwe have to give this a name.\n\n531\n00:25:51.980 --> 00:25:55.160\nSo obviously, you would name this\nwhatever you think would be appropriate.\n\n532\n00:25:55.160 --> 00:25:56.500\nI'll just call mine V8HD1.\n\n533\n00:25:56.500 --> 00:25:58.360\nWe can call it anything we'd like.\n\n534\n00:25:58.360 --> 00:26:00.480\nPut a little description\nin there if we want.\n\n535\n00:26:00.480 --> 00:26:05.421\nNotice when I add the name, the path\ndown here right, we set in the C drive,\n\n536\n00:26:05.421 --> 00:26:07.939\niSCSI Virtual Disks, VHD1, VHDX.\n\n537\n00:26:07.939 --> 00:26:09.880\nThis is a virtual hard drive.\n\n538\n00:26:09.880 --> 00:26:13.660\nThe more modern extension for\nthe virtual hard drive is in Windows VHDX,\n\n539\n00:26:13.660 --> 00:26:17.010\nas opposed to VHD, the older version\nthat we would be using, right?\n\n540\n00:26:17.010 --> 00:26:19.269\nCuz everything is better with\nan x on the end, as we say.\n\n541\n00:26:19.269 --> 00:26:21.310\nAll right so yay, XML.\n\n542\n00:26:21.310 --> 00:26:24.470\nSo VHD1, you can call this\nanything you want, obviously.\n\n543\n00:26:24.470 --> 00:26:25.630\nWe'll click next.\n\n544\n00:26:25.630 --> 00:26:26.500\nNow, free space.\n\n545\n00:26:26.500 --> 00:26:28.980\nWe said we had a total of\napproximately of 29 gigs.\n\n546\n00:26:28.980 --> 00:26:32.040\nObviously, we can't go bigger than that,\nso we can allocate the full amount, or\n\n547\n00:26:32.040 --> 00:26:33.850\ndecide to allocate something smaller.\n\n548\n00:26:33.850 --> 00:26:35.580\nIt'll be up to us, right?\n\n549\n00:26:35.580 --> 00:26:38.380\nWe're gonna do just a real small one here,\nso we don't run out of room.\n\n550\n00:26:38.380 --> 00:26:40.340\nNow notice by the way,\nthe default is gigabytes.\n\n551\n00:26:40.340 --> 00:26:44.100\nSo if I did this, thinking okay I'm\ngonna get megabytes, I'm in for\n\n552\n00:26:44.100 --> 00:26:45.602\na surprise [LAUGH] right?\n\n553\n00:26:45.602 --> 00:26:49.554\nSo make sure you know that you do have to\nchange this, I did mention terabytes would\n\n554\n00:26:49.554 --> 00:26:52.380\nbe probably the standard\noperational amount of storage.\n\n555\n00:26:52.380 --> 00:26:54.680\nWe normally would go to\nthe trouble of provisioning here.\n\n556\n00:26:54.680 --> 00:26:56.950\nYou'll see TB for terabytes there.\n\n557\n00:26:56.950 --> 00:27:00.700\nIn some of the newer systems, in 16 for\ninstance, you would actually see PB for\n\n558\n00:27:00.700 --> 00:27:01.750\npetabytes as well, right?\n\n559\n00:27:01.750 --> 00:27:02.907\nWe're just getting more and\n\n560\n00:27:02.907 --> 00:27:05.761\nmore volumous, large amounts of\nstorage being made available to us.\n\n561\n00:27:05.761 --> 00:27:07.427\n&gt;&gt; Cost is going down.\n\n562\n00:27:07.427 --> 00:27:11.010\n&gt;&gt; Cost per megabyte or per gigabyte,\nnow per terabyte is dropping dramatically.\n\n563\n00:27:11.010 --> 00:27:12.940\nThe cost of SSD drives is dropping.\n\n564\n00:27:12.940 --> 00:27:16.050\nSo they're back ending a lot\nmore of the storage flash cache.\n\n565\n00:27:16.050 --> 00:27:18.730\nAll these modern technologies\nare becoming more accessible.\n\n566\n00:27:18.730 --> 00:27:22.300\nBut for now, we're just gonna go ahead and\nuse megabytes here, right?\n\n567\n00:27:22.300 --> 00:27:25.510\nAnd so, it converts the overall amount\nof space available to megabytes.\n\n568\n00:27:25.510 --> 00:27:27.100\nNo big deal, it just shows us that.\n\n569\n00:27:27.100 --> 00:27:30.428\nBut we're gonna do a 500 meg partition,\nit's real small as a VHD.\n\n570\n00:27:30.428 --> 00:27:33.200\nJust to really show you what we're doing\nmore so than anything else, right?\n\n571\n00:27:33.200 --> 00:27:35.660\nAll right, so\nwe're gonna set that up there.\n\n572\n00:27:35.660 --> 00:27:37.170\nWe're then gonna go ahead.\n\n573\n00:27:37.170 --> 00:27:38.690\nWe're going to click Next.\n\n574\n00:27:38.690 --> 00:27:42.470\nBut before I do, let's just talk about\nfixed versus dynamic here real quick.\n\n575\n00:27:42.470 --> 00:27:46.440\nFixed size disk, we would obviously\ntraditionally call this a thick provision\n\n576\n00:27:46.440 --> 00:27:48.881\ndisk, when we talk about\nstorage generically.\n\n577\n00:27:48.881 --> 00:27:51.153\nFull sized, all space allocated,\n\n578\n00:27:51.153 --> 00:27:56.381\ntraditionally sequential space allocated\non the partition, fully formatted,\n\n579\n00:27:56.381 --> 00:28:01.170\nso that all that space is available,\naccessible and usable at once.\n\n580\n00:28:01.170 --> 00:28:04.950\nThat does take the maximum space,\nallocates it all out for us at once.\n\n581\n00:28:04.950 --> 00:28:06.950\nTakes a little bit longer to create, but\n\n582\n00:28:06.950 --> 00:28:10.210\nonce it's created it will then\nfully be accessible immediately.\n\n583\n00:28:10.210 --> 00:28:12.700\nWhereas if we do a dynamically expanding,\n\n584\n00:28:12.700 --> 00:28:16.370\noften traditionally referred to\ngenerically as a thin provision disk.\n\n585\n00:28:16.370 --> 00:28:19.070\nYou will hear this terminology\ndepending on vendor.\n\n586\n00:28:19.070 --> 00:28:21.590\nMicrosoft uses fixed and dynamic.\n\n587\n00:28:21.590 --> 00:28:25.630\nMost generic storage conversations\nare about thick provisioned and\n\n588\n00:28:25.630 --> 00:28:26.490\nthin provisioned.\n\n589\n00:28:26.490 --> 00:28:27.640\nSame idea.\n\n590\n00:28:27.640 --> 00:28:31.690\nThin provisioned, dynamically expanding,\nwe only choose the minimum amount\n\n591\n00:28:31.690 --> 00:28:35.770\nrequired, to initialize the storage\nallocation we're doing.\n\n592\n00:28:35.770 --> 00:28:39.452\nSo that will typically be less than\nthe full 500 megs in this case.\n\n593\n00:28:39.452 --> 00:28:43.625\nAnd then, we will grow incrementally\nup to the maximum boundary allowed,\n\n594\n00:28:43.625 --> 00:28:45.223\nin this case, 500 megs.\n\n595\n00:28:45.223 --> 00:28:48.790\nSo let's just hypothetically assume,\nif we did dynamically expanding,\n\n596\n00:28:48.790 --> 00:28:53.740\nthat we would take 250 megs initially,\nand the other 250 would be available.\n\n597\n00:28:53.740 --> 00:28:57.790\nWe don't allocate 500 megs,\nwe don't format all 500 megs.\n\n598\n00:28:57.790 --> 00:29:01.270\nThat storage is not necessarily\ngonna be sequential on the platter.\n\n599\n00:29:01.270 --> 00:29:04.920\nInstead, what we do is,\nwe create the initial drive and\n\n600\n00:29:04.920 --> 00:29:08.770\nthen we grow that space Incrementally\nbased on usage requirements.\n\n601\n00:29:08.770 --> 00:29:11.490\nSo as we need the additional space,\nwe will grow it.\n\n602\n00:29:11.490 --> 00:29:13.941\nSo we have to write ahead\nof the read as we say,\n\n603\n00:29:13.941 --> 00:29:17.370\nwhen we do dynamically expanding or\nthin provisioning.\n\n604\n00:29:17.370 --> 00:29:20.570\nMeaning that,\nwhile it is faster to initialize and\n\n605\n00:29:20.570 --> 00:29:24.950\nspin up a dynamically expanding or thin\nprovisioned instance, it is slower overall\n\n606\n00:29:24.950 --> 00:29:28.560\nfrom a performance standpoint as we use\nit, because it's a two step process.\n\n607\n00:29:28.560 --> 00:29:32.740\nWe have to write the actual\nspace that we want to use, and\n\n608\n00:29:32.740 --> 00:29:37.050\nformat it as we go, if we're growing, and\nthen read into it and put data there.\n\n609\n00:29:37.050 --> 00:29:38.060\nSo it will slow down.\n\n610\n00:29:38.060 --> 00:29:39.374\nNow, slow is relative.\n\n611\n00:29:39.374 --> 00:29:42.530\nWe're talking about milliseconds here,\nin some cases nanoseconds, [LAUGH] right?\n\n612\n00:29:42.530 --> 00:29:45.450\nThis is not something\nthe average human will perceive.\n\n613\n00:29:45.450 --> 00:29:49.063\nBut this is something that when\nyou do winstone benchmarking, or\n\n614\n00:29:49.063 --> 00:29:53.267\nhard drive benchmarking, performance\nspeed testing and stress testing,\n\n615\n00:29:53.267 --> 00:29:58.062\nvendors will measure this and tell you,\nyou are performance rating for fix size,\n\n616\n00:29:58.062 --> 00:30:00.280\nversus dynamic expanding is blah.\n\n617\n00:30:00.280 --> 00:30:03.008\nAnd if you did dynamic expanding\nunder these conditions,\n\n618\n00:30:03.008 --> 00:30:05.748\nyou'll see this milliseconds latency or\ndelay, right?\n\n619\n00:30:05.748 --> 00:30:10.665\nSo there are reasons why we wanna be aware\nof this, but unless we're dealing with\n\n620\n00:30:10.665 --> 00:30:15.030\nincredibly large, huge,\nhuge volumes transactionally of data.\n\n621\n00:30:15.030 --> 00:30:18.150\nSo we're talking about like a data\nwarehouse, or web servers being hit,\n\n622\n00:30:18.150 --> 00:30:21.590\nhundreds of thousands of times a minute,\nto be able to transact data.\n\n623\n00:30:21.590 --> 00:30:24.520\nThere's not a lot of performance\ndifferential here that makes sense to us\n\n624\n00:30:24.520 --> 00:30:25.590\nin the real world.\n\n625\n00:30:25.590 --> 00:30:27.060\nDomain controllers, file and\n\n626\n00:30:27.060 --> 00:30:30.290\nprint servers, they're not gonna\nnotice a performance degradation here.\n\n627\n00:30:30.290 --> 00:30:34.430\nAnd we use caching and other offset\nmechanisms on the drives themselves,\n\n628\n00:30:34.430 --> 00:30:35.640\non the controllers,\n\n629\n00:30:35.640 --> 00:30:40.970\nusually in various ways to offset\nthese minimal issues and concerns.\n\n630\n00:30:40.970 --> 00:30:43.220\nSo there are reasons to consider this, but\n\n631\n00:30:43.220 --> 00:30:46.190\nwe're not talking about something\nthat's gonna be a huge burden to you\n\n632\n00:30:46.190 --> 00:30:49.500\ntraditionally, except in\nvery rare circumstances.\n\n633\n00:30:49.500 --> 00:30:54.390\nOracle database transacting PeopleSoft for\nyou, on the back end.\n\n634\n00:30:54.390 --> 00:30:58.610\nAmazon's back end data structure\naround their front end retail space.\n\n635\n00:30:58.610 --> 00:31:00.050\nThey got to worry about\nthis kind of stuff,\n\n636\n00:31:00.050 --> 00:31:03.910\nbecause of the volumes of data and\ntransactional issues they deal with.\n\n637\n00:31:03.910 --> 00:31:08.090\nAverage normal use,\npeople will tell you it's important.\n\n638\n00:31:08.090 --> 00:31:10.130\nI'm not saying it's not,\nI'm just telling you what the reality is.\n\n639\n00:31:10.130 --> 00:31:12.980\nYou're gonna spend a lot of time and\ntrouble chasing purple squirrels,\n\n640\n00:31:12.980 --> 00:31:14.880\nto fix this issue by offsetting it.\n\n641\n00:31:14.880 --> 00:31:17.400\nAnd it's not going to affect your\nperformance overall, it's just really not.\n\n642\n00:31:17.400 --> 00:31:18.770\n&gt;&gt; It's always been one of these topics,\n\n643\n00:31:18.770 --> 00:31:21.725\nthat I really haven't fully\nunderstood the benefit.\n\n644\n00:31:21.725 --> 00:31:23.790\nMaybe, I don't know if you\ncould shed some light there,\n\n645\n00:31:23.790 --> 00:31:26.560\nbecause if you think about it, and\neven with your database example,\n\n646\n00:31:26.560 --> 00:31:30.210\nwhat if there's some kind of unplanned for\ninflux of data?\n\n647\n00:31:30.210 --> 00:31:31.619\nAnd you have this\n\n648\n00:31:33.400 --> 00:31:38.560\namount of data that looks like it's being\nallocated but it's really not existing.\n\n649\n00:31:38.560 --> 00:31:41.325\nSo you could potentially\nfind yourself in trouble.\n\n650\n00:31:41.325 --> 00:31:43.470\n&gt;&gt; Looks like it's being allocated but\nnon existing?\n\n651\n00:31:43.470 --> 00:31:45.942\n&gt;&gt; Yeah,\nlike if it's dynamically expanding.\n\n652\n00:31:45.942 --> 00:31:50.014\nSo we're saying, okay,\nI have the potential to add later on, for\n\n653\n00:31:50.014 --> 00:31:52.292\nthis dynamically expending drive.\n\n654\n00:31:52.292 --> 00:31:52.958\n&gt;&gt; Right.\n\n655\n00:31:52.958 --> 00:31:55.508\n&gt;&gt; But it's so easy to go ahead and\n\n656\n00:31:55.508 --> 00:31:59.931\nespecially if we have hot\nswapping drives nowadays.\n\n657\n00:31:59.931 --> 00:32:03.343\nIt's not difficult to go ahead and\nreconfigure that.\n\n658\n00:32:03.343 --> 00:32:06.381\nI understand that concept of\nplanning out an advance, but\n\n659\n00:32:06.381 --> 00:32:10.288\nI just don't the full benefit of\nutilizing dynamically expanding disks.\n\n660\n00:32:10.288 --> 00:32:13.287\n&gt;&gt; It's not a hot swap issue, you're not\ntalking about taking out a failed drive\n\n661\n00:32:13.287 --> 00:32:15.210\nand adding a new one into\nreplace it into an array.\n\n662\n00:32:15.210 --> 00:32:17.220\nThat wouldn't be what we\nuse this technology for\n\n663\n00:32:17.220 --> 00:32:21.330\nwhich is traditionally what a hot swap\ndrive capability is for on an array.\n\n664\n00:32:21.330 --> 00:32:24.360\nIf a drive fails, you're pulling\na drive out, restoring a drive.\n\n665\n00:32:25.500 --> 00:32:27.900\nEither recreating the data\nfrom the stripe set or\n\n666\n00:32:27.900 --> 00:32:30.720\nwherever you're doing but\nwe are tied to that kind of capability.\n\n667\n00:32:30.720 --> 00:32:35.626\nThe idea here is whether we want to and\nit's really the thought processes about\n\n668\n00:32:35.626 --> 00:32:39.954\nwhether we wanna be able to quickly\nspin up and access the partition.\n\n669\n00:32:39.954 --> 00:32:43.624\nWhen I say quick I mean again relative we\nare talking about seconds in difference\n\n670\n00:32:43.624 --> 00:32:44.957\nhere depending on the size.\n\n671\n00:32:44.957 --> 00:32:49.820\nBut as we grow from megabyte,\ngigabyte, terabyte, petabyte.\n\n672\n00:32:49.820 --> 00:32:55.400\nIf we're spinning up and fully allocating\nand provisioning a 64 terabyte data store.\n\n673\n00:32:55.400 --> 00:32:58.810\nWhich let's say hypothetically\nis our maximum on VMWare.\n\n674\n00:32:58.810 --> 00:33:01.500\nAnd let's say in Microsoft\ndepending on the version of Hyper-V\n\n675\n00:33:01.500 --> 00:33:03.420\nthat we may be using currently.\n\n676\n00:33:03.420 --> 00:33:08.080\nWe're provisioning a 64 terabyte LUN,\nto be able to back end a data store.\n\n677\n00:33:08.080 --> 00:33:11.310\nFully fit provisioning versus\nthin provisioning there's\n\n678\n00:33:11.310 --> 00:33:13.930\ngoing to be a significant difference in\nthe amount of time it takes to bring that\n\n679\n00:33:13.930 --> 00:33:15.030\nstorage online.\n\n680\n00:33:15.030 --> 00:33:18.184\nAnd when you're storage provider,\na Cloud provider and\n\n681\n00:33:18.184 --> 00:33:22.272\nyou are providing that data and\naccessibility to that data to a customer.\n\n682\n00:33:22.272 --> 00:33:24.959\nThere may be value in being able\nto get them online quickly,\n\n683\n00:33:24.959 --> 00:33:26.476\nversus having to make them wait.\n\n684\n00:33:26.476 --> 00:33:30.860\nAnd if there's technology on the back end\nthat allows you to dynamically grow and\n\n685\n00:33:30.860 --> 00:33:32.737\nmanage that storage allocation.\n\n686\n00:33:32.737 --> 00:33:36.397\nWithout any detriment or\nany negative consequence to the customer,\n\n687\n00:33:36.397 --> 00:33:38.450\nperception wise, obviously.\n\n688\n00:33:38.450 --> 00:33:41.798\nI did say and want to be clear there\ncertainly are performance issues that may\n\n689\n00:33:41.798 --> 00:33:42.906\nimpact you negatively.\n\n690\n00:33:42.906 --> 00:33:45.796\nDepending on the choices you make here,\ndepending on architecture and\n\n691\n00:33:45.796 --> 00:33:46.817\ndepending on workload.\n\n692\n00:33:46.817 --> 00:33:48.504\nThat's really what it comes down to.\n\n693\n00:33:48.504 --> 00:33:52.286\nBut a lot of times these technology\nchoices are being made by us as you said\n\n694\n00:33:52.286 --> 00:33:56.280\nmaybe without our full knowledge and\nthe understanding of the benefit.\n\n695\n00:33:56.280 --> 00:33:57.794\nAnd somebody just says do this or\n\n696\n00:33:57.794 --> 00:34:01.310\nthat or you'll notice the default\nin the interface is fixed size.\n\n697\n00:34:01.310 --> 00:34:05.060\nMeaning Microsoft's preference is,\nhey just create the hard drive and\n\n698\n00:34:05.060 --> 00:34:07.910\nallocated fully it's a virtual\ndrive there's no reason not to.\n\n699\n00:34:07.910 --> 00:34:12.570\nBut for instance, when you look\nat your some storage vendors or\n\n700\n00:34:12.570 --> 00:34:15.360\nsome vendors their\npreference maybe go thin.\n\n701\n00:34:15.360 --> 00:34:18.080\nAnd there's a raging debate\nin our community in general\n\n702\n00:34:18.080 --> 00:34:21.910\nin the virtualization space and\nthe Cloud space and IT space.\n\n703\n00:34:21.910 --> 00:34:25.500\nAbout the efficacy, the value,\nthe benefit of this exact conversation,\n\n704\n00:34:25.500 --> 00:34:29.700\nfixed versus dynamic or thin versus thick\nyou know want to think of it either way.\n\n705\n00:34:29.700 --> 00:34:32.610\nAnd there's a debate, and\nthere's very strong opinions.\n\n706\n00:34:32.610 --> 00:34:35.060\nTalk to people, some people are adamant,\nyou've gotta go\n\n707\n00:34:35.060 --> 00:34:38.760\nfull you know provisioned fixed or\nthick, that's the only way to go right.\n\n708\n00:34:38.760 --> 00:34:41.770\nThick eager traditionally is what you\nwould hear meaning not only thick but\n\n709\n00:34:41.770 --> 00:34:43.030\nthick and full provisioned.\n\n710\n00:34:43.030 --> 00:34:46.150\nBecause there's something called thick\nlazy where you essentially do thick but\n\n711\n00:34:46.150 --> 00:34:48.760\nyou don't format all the space and\nencumber it.\n\n712\n00:34:48.760 --> 00:34:52.070\nYou say I'm gonna reserve it but you\ndon't actually write to all the blocks.\n\n713\n00:34:52.070 --> 00:34:55.530\nSo it's almost like a thin, but it's\na thin width contiguous storage already\n\n714\n00:34:55.530 --> 00:34:58.720\nallocated, so there's different grades and\nways you do this.\n\n715\n00:34:58.720 --> 00:35:01.480\nBut ultimately thick versus thin,\n\n716\n00:35:01.480 --> 00:35:05.180\nfixed versus dynamic, there are people\nthat will just adamantly say to you\n\n717\n00:35:05.180 --> 00:35:08.460\nI'm right you have to do this no\nmatter what and this is what you do.\n\n718\n00:35:08.460 --> 00:35:12.130\nThe challenge with dynamic or\nthin provisioning is overcommitment.\n\n719\n00:35:12.130 --> 00:35:14.290\nNot so much hot swapping or\nthings like that.\n\n720\n00:35:14.290 --> 00:35:18.440\nBut rather, I am over-allocating\nthe amount of storage that is\n\n721\n00:35:18.440 --> 00:35:20.020\ntheoretically available,.\n\n722\n00:35:20.020 --> 00:35:22.480\nAnd giving out more storage\nthan will be there and\n\n723\n00:35:22.480 --> 00:35:26.330\nif everything comes due I may\nrun out of room on the array.\n\n724\n00:35:26.330 --> 00:35:28.983\nAnd that's the biggest\nissue thin provisioning or\n\n725\n00:35:28.983 --> 00:35:30.594\ndynamically expanding disk.\n\n726\n00:35:30.594 --> 00:35:33.578\nNot one disk, you're probably not\ngoing to run into an issue with one or\n\n727\n00:35:33.578 --> 00:35:36.282\ntwo disks being dynamically expanded,\nthat's not a big deal.\n\n728\n00:35:36.282 --> 00:35:40.921\nBut if all of your and remember the idea\nhere will not be just be file storage,\n\n729\n00:35:40.921 --> 00:35:41.440\nright?\n\n730\n00:35:41.440 --> 00:35:44.010\nWe're looking at this right now saying,\nwe're gonna create a quick\n\n731\n00:35:44.010 --> 00:35:47.940\nvirtual hard drive put some data\nthere use it for file access.\n\n732\n00:35:47.940 --> 00:35:51.580\nWe're really thinking about this in\na broader context in production,\n\n733\n00:35:51.580 --> 00:35:54.770\nthis is gonna be backing\nour virtual machines.\n\n734\n00:35:54.770 --> 00:35:58.380\nThis infrastructure, our SANRS\nsolution that we're doing this on\n\n735\n00:35:58.380 --> 00:36:02.190\nis traditionally gonna be used to back\nend all of our virtual hard drives.\n\n736\n00:36:02.190 --> 00:36:06.780\nSo all the VHDX files,\nthe config files, the log files,\n\n737\n00:36:07.940 --> 00:36:11.820\nthe slot files, all the stuff that makes\na virtual machine a virtual machine.\n\n738\n00:36:11.820 --> 00:36:14.465\nAll that's going into these\npartitions traditionally,\n\n739\n00:36:14.465 --> 00:36:16.935\nthat's really the primary use of this.\n\n740\n00:36:16.935 --> 00:36:21.045\nWhen we do that,\nif we are thin provisioning to save\n\n741\n00:36:21.045 --> 00:36:24.555\nspace that's not gonna necessarily\nbe used until much later,\n\n742\n00:36:24.555 --> 00:36:27.455\nwhich is the business case logic of this.\n\n743\n00:36:27.455 --> 00:36:31.325\nWhy give it all up now, put it there and\nthen have it sit there idly essentially\n\n744\n00:36:31.325 --> 00:36:34.980\nfor days, weeks, months, in some\ncases years, in some cases forever.\n\n745\n00:36:34.980 --> 00:36:39.550\nBecause we see traditionally when we look\nat virtualization and look at Cloud usage.\n\n746\n00:36:39.550 --> 00:36:41.847\nWe, when I say we, I mean all of us,\n\n747\n00:36:41.847 --> 00:36:46.640\nwithout fail are guilty of over-allocation\nand under use of resources.\n\n748\n00:36:46.640 --> 00:36:48.130\n&gt;&gt; True.\n&gt;&gt; We tend to spend.\n\n749\n00:36:48.130 --> 00:36:50.780\n&gt;&gt; I can see that.\n&gt;&gt; A lot more time allocating resources\n\n750\n00:36:50.780 --> 00:36:52.630\nand not using them as often as we need to.\n\n751\n00:36:52.630 --> 00:36:54.320\nWhich means there's a lot of wastage.\n\n752\n00:36:54.320 --> 00:36:55.890\nAnd as a result.\n\n753\n00:36:55.890 --> 00:36:58.393\nYou may be allocating storage\nthat's never gonna get used, and\n\n754\n00:36:58.393 --> 00:37:00.722\nwe could repopulate that and\npurpose that somewhere else.\n\n755\n00:37:00.722 --> 00:37:02.738\nSo there really are some compelling\nreasons to do one or the other.\n\n756\n00:37:02.738 --> 00:37:03.960\n&gt;&gt; Okay.\n\n757\n00:37:03.960 --> 00:37:06.560\n&gt;&gt; But those are the business\narguments traditionally,\n\n758\n00:37:06.560 --> 00:37:08.660\nin the space around the choice here.\n\n759\n00:37:08.660 --> 00:37:12.510\nWhich one are we gonna do is a question of\nwhether we feel we want to write a check\n\n760\n00:37:12.510 --> 00:37:14.720\nto buy storage that may never get used.\n\n761\n00:37:14.720 --> 00:37:18.630\nOr we want to fully or almost fully\nreally extract the value out of existing\n\n762\n00:37:18.630 --> 00:37:21.710\ninvestments to utilize that\nstorage more efficiently.\n\n763\n00:37:21.710 --> 00:37:23.459\nAnd dynamic expanding drives or\n\n764\n00:37:23.459 --> 00:37:26.250\nthin provision drives\noffer us that opportunity.\n\n765\n00:37:26.250 --> 00:37:30.032\nBut the challenge is we have to be\nincredibly careful and hyperfocused on\n\n766\n00:37:30.032 --> 00:37:34.500\nthe overcommitment issue and making sure\nwe're not gonna over-allocate storage.\n\n767\n00:37:34.500 --> 00:37:36.948\nAnd then worry about having\nto crash the hard drive or\n\n768\n00:37:36.948 --> 00:37:38.739\nin this case crash the storage array.\n\n769\n00:37:38.739 --> 00:37:41.147\nBecause we spend too much\ntime giving out storage,\n\n770\n00:37:41.147 --> 00:37:44.899\nnot enough time making sure it's there\nwhen everybody says I want everything,\n\n771\n00:37:44.899 --> 00:37:47.850\nwe can't pay our bills, and\nthen bad things happen.\n\n772\n00:37:47.850 --> 00:37:50.428\nSo that's gonna really be\nthe argument we think about there.\n\n773\n00:37:50.428 --> 00:37:51.820\nHaving said that-\n&gt;&gt; [LAUGH]\n\n774\n00:37:51.820 --> 00:37:53.010\n&gt;&gt; You've driven us down\n\n775\n00:37:53.010 --> 00:37:54.990\nthe out of time lane.\n\n776\n00:37:54.990 --> 00:37:56.220\nAnd we're probably a good five,\n\n777\n00:37:56.220 --> 00:37:58.040\nten minutes over where we\nneed to be on this episode.\n\n778\n00:37:58.040 --> 00:38:02.380\nSo, I'm thinking we need to come back to\nfinish up our demo in a second part here.\n\n779\n00:38:02.380 --> 00:38:03.910\nWe're just gonna park\nit right where it is.\n\n780\n00:38:03.910 --> 00:38:05.770\nJust put it back up on the screen just for\none second.\n\n781\n00:38:05.770 --> 00:38:07.980\nSo, going out of the episode,\nwe know exactly where we were.\n\n782\n00:38:07.980 --> 00:38:11.090\nWe're gonna come back with it sitting\nright there and we're gonna pick up right\n\n783\n00:38:11.090 --> 00:38:14.670\nfrom this point where we're\nconfiguring the virtual disk size.\n\n784\n00:38:14.670 --> 00:38:17.010\nAnd then we're gonna go ahead and\ncontinue on, okay?\n\n785\n00:38:17.010 --> 00:38:18.980\n&gt;&gt; All right, Adam,\nthank you for providing clarity.\n\n786\n00:38:18.980 --> 00:38:22.620\nAnd thank you for joining us today but\nwe are out of time for this episode.\n\n787\n00:38:22.620 --> 00:38:24.400\nSo, we're gonna go ahead and sign out.\n\n788\n00:38:24.400 --> 00:38:26.310\nRemember, I'm your host Cherokee Boose.\n\n789\n00:38:26.310 --> 00:38:27.080\n&gt;&gt; I'm Adam Gordon.\n\n790\n00:38:27.080 --> 00:38:29.985\n&gt;&gt; See you next time here at ITProTV.\n\n791\n00:38:29.985 --> 00:38:35.944\n[MUSIC]\n\n792\n00:38:35.944 --> 00:38:41.830\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "224328534"
        },
        {
          "description": "In this episode, Adam and Cherokee continue to install and configure iSCSI. Adam demonstrates how to set up the target and prepare the disk for use on the clients/ initiators.",
          "length": "1688",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-2-advance_file_services_pt2-0602917-PGM.00_29_22_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-2-advance_file_services_pt2-0602917-PGM.00_29_22_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-2-advance_file_services_pt2-0602917-PGM.00_29_22_19.Still001-sm.jpg",
          "title": "Advanced File Services Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.910 --> 00:00:03.183\nWelcome to ITPRO.TV, I'm your host.\n\n2\n00:00:03.183 --> 00:00:03.898\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:03.898 --> 00:00:07.776\n[MUSIC]\n\n4\n00:00:07.776 --> 00:00:10.796\n&gt;&gt; You're watching ITPRO TV.\n\n5\n00:00:10.796 --> 00:00:12.190\n[MUSIC]\n\n6\n00:00:12.190 --> 00:00:17.144\n&gt;&gt; Welcome to your MCSA 70-412 series,\nI'm you show host, Cherokee Boose.\n\n7\n00:00:17.144 --> 00:00:20.281\nThis is a continuation of\na previous discussion,\n\n8\n00:00:20.281 --> 00:00:23.952\nwhere we were looking at iSCSI\nstorage solution options.\n\n9\n00:00:23.952 --> 00:00:27.739\nWe're looking at advanced storage here,\nand back in the studio with us today,\n\n10\n00:00:27.739 --> 00:00:30.184\nwe have Mr. Adam Gordon,\nhow's it going, Adam?\n\n11\n00:00:30.184 --> 00:00:32.404\n&gt;&gt; Going well, going well,\nI'm feeling a little thin provision today,\n\n12\n00:00:32.404 --> 00:00:33.370\nI'm gonna grow my knowledge.\n\n13\n00:00:33.370 --> 00:00:36.674\n&gt;&gt; [LAUGH]\n&gt;&gt; According to the needs of our\n\n14\n00:00:36.674 --> 00:00:37.738\ndiscussion.\n\n15\n00:00:37.738 --> 00:00:40.290\nSo we're gonna continue where we left off,\nCherokee and\n\n16\n00:00:40.290 --> 00:00:41.736\nI got sidetracked a little bit.\n\n17\n00:00:41.736 --> 00:00:43.698\nI think it was a valuable discussion, but\n\n18\n00:00:43.698 --> 00:00:46.780\nwe kind of veered off course\njust a little bit from the demo.\n\n19\n00:00:46.780 --> 00:00:51.016\nTalking about the value propositions of\nfixed size versus dynamically expanding\n\n20\n00:00:51.016 --> 00:00:54.490\ndisks, commonly referred to as thick and\nthin provisioning.\n\n21\n00:00:54.490 --> 00:00:56.325\nSo we went through all that already,\n\n22\n00:00:56.325 --> 00:01:00.362\nwe're gonna go back to the middle of the\ndemo that we were left hanging with here.\n\n23\n00:01:00.362 --> 00:01:03.514\nSpecifying our iSCSI virtual disk size,\nthrough the new iSCSI Virtual Disk Wizard,\n\n24\n00:01:03.514 --> 00:01:06.020\nprovisioning out our iSCSI storage\nhere on the virtual hard disk.\n\n25\n00:01:06.020 --> 00:01:09.520\nSo we left off right on this screen,\nI promised you we'd leave it right there.\n\n26\n00:01:09.520 --> 00:01:13.554\nCherokee was fighting me during the break,\nshe's like, I wanna click that button,\n\n27\n00:01:13.554 --> 00:01:14.516\nI wanna keep going.\n\n28\n00:01:14.516 --> 00:01:17.080\nBut I said, no, no,\ngotta pick up right where we left off.\n\n29\n00:01:17.080 --> 00:01:20.411\nSo, we're right here, we're gonna\nclick Next on this, we've talked about\n\n30\n00:01:20.411 --> 00:01:24.110\nthe differences here and talked about the\noptions, we're gonna leave it at fit size.\n\n31\n00:01:25.160 --> 00:01:28.240\nNow iSCSI virtual target here,\nor iSCSI target,\n\n32\n00:01:28.240 --> 00:01:32.260\nrather, you'll see we can assign this\nvirtual disk to an existing iSCSI target.\n\n33\n00:01:32.260 --> 00:01:34.670\nIf we already had run this\nwizard hypothetically and\n\n34\n00:01:34.670 --> 00:01:38.280\nhad provisioned it, then we would\nobviously have a target we could use.\n\n35\n00:01:38.280 --> 00:01:40.060\nBut we can create a new ISCSI target,\n\n36\n00:01:40.060 --> 00:01:42.710\nthat option kind of hiding\ndown there at the bottom.\n\n37\n00:01:42.710 --> 00:01:46.242\nSo we're gonna choose new ISCSI target,\nwe don't have one specified yet.\n\n38\n00:01:46.242 --> 00:01:48.700\nWe're gonna now, on the next screen in\na minute, have to give it a name, so\n\n39\n00:01:48.700 --> 00:01:50.155\nwe're gonna go ahead and do that.\n\n40\n00:01:50.155 --> 00:01:55.088\nSo let's click there,\nlet's give this a name, let's\n\n41\n00:01:55.088 --> 00:02:01.550\ncall this PLABDC01, name of our computer.\n\n42\n00:02:01.550 --> 00:02:07.755\nAnd we'll call that iSCSI1,\nthat's just the name of our target.\n\n43\n00:02:07.755 --> 00:02:11.460\nAgain, you can call it anything you like\nin the real world, it's really up to you.\n\n44\n00:02:11.460 --> 00:02:14.500\nThere's no right or wrong here,\nit's just something that makes sense and\n\n45\n00:02:14.500 --> 00:02:17.890\ngives you the opportunity to understand\nwhat targets you're connecting to.\n\n46\n00:02:17.890 --> 00:02:20.760\nAnd obviously, it'd be a good\nopportunity to think through that.\n\n47\n00:02:20.760 --> 00:02:22.090\nWe're gonna click Next,\n\n48\n00:02:22.090 --> 00:02:27.170\nclick Add here to specify the iSCSI\nintiators that will be available for us.\n\n49\n00:02:27.170 --> 00:02:30.444\nSo we're gonna be able to go\nadd our iSCSI initiator here.\n\n50\n00:02:30.444 --> 00:02:33.989\nRemember, the initiator is gonna\nbe the interface on the host or\n\n51\n00:02:33.989 --> 00:02:37.731\non the machine that we're gonna be\nable to use to access storage, or\n\n52\n00:02:37.731 --> 00:02:39.650\nto use to provide storage access.\n\n53\n00:02:39.650 --> 00:02:43.682\nAnd we're gonna have to click Add,\nwe'll then, I'll just bring this up and\n\n54\n00:02:43.682 --> 00:02:45.914\nkind of bring this over to the side here,\nso\n\n55\n00:02:45.914 --> 00:02:49.850\nwe can see what we're doing on both\nscreens, more or less at the same time.\n\n56\n00:02:49.850 --> 00:02:54.661\nSo select a method to identify the\ninitiator, query initiator computer for\n\n57\n00:02:54.661 --> 00:02:58.225\nID, notice here,\nnot supported on earlier versions.\n\n58\n00:02:58.225 --> 00:03:00.850\nWindows 2008 R2, 7, etc, so\n\n59\n00:03:00.850 --> 00:03:05.190\nwe have to be sensitive to the fact we may\nbe using an OS that may not support that.\n\n60\n00:03:05.190 --> 00:03:09.840\nOr enter a value if we have a value,\nremember we talked about the IQN,\n\n61\n00:03:09.840 --> 00:03:12.010\nunique identifier for the interface.\n\n62\n00:03:12.010 --> 00:03:14.250\nIf we knew what that was,\nwe could put that there.\n\n63\n00:03:14.250 --> 00:03:17.130\nThere may also be a select\nfrom list option.\n\n64\n00:03:17.130 --> 00:03:20.540\nIf we did already have the initiator\ncache available to us,\n\n65\n00:03:20.540 --> 00:03:21.540\nwe could just go in and select it.\n\n66\n00:03:21.540 --> 00:03:22.960\nIt would just be a question\nof what we're doing.\n\n67\n00:03:22.960 --> 00:03:26.003\nAll right, so\nwe're gonna go browse here and specify,\n\n68\n00:03:26.003 --> 00:03:28.413\nselect a method to identify the initiator.\n\n69\n00:03:28.413 --> 00:03:32.508\nWe're gonna use our browse option\nunderneath the default choice here, so\n\n70\n00:03:32.508 --> 00:03:33.820\nlet's go browse.\n\n71\n00:03:33.820 --> 00:03:37.168\nJust move this over, so you can see\nthat we are going to just go and\n\n72\n00:03:37.168 --> 00:03:38.346\ntype in the name here.\n\n73\n00:03:38.346 --> 00:03:41.540\nWe can do that easily enough,\nwe'll type in the name of our machine,\n\n74\n00:03:41.540 --> 00:03:44.380\nwe're just querying the active\ndirectory to find it.\n\n75\n00:03:44.380 --> 00:03:50.890\nSo PLABDM01, and check the name on that,\nthat does come back, that is recognized.\n\n76\n00:03:50.890 --> 00:03:55.360\nWe'll click OK, it will provide that for\nus, it just puts it in.\n\n77\n00:03:55.360 --> 00:03:57.824\nWe could just type in the fully\nqualified domain name there as well.\n\n78\n00:03:57.824 --> 00:04:00.078\nIt's really up to you to\ndecide how you wanna do that.\n\n79\n00:04:00.078 --> 00:04:01.957\nBut once we've done that and\n\n80\n00:04:01.957 --> 00:04:06.190\nwe click OK, we then will have\nthe ability to select this.\n\n81\n00:04:06.190 --> 00:04:11.190\nMove that back over,\nclick OK there, go out, saving it,\n\n82\n00:04:11.190 --> 00:04:12.530\nso we'll give that just a minute.\n\n83\n00:04:12.530 --> 00:04:16.473\nNotice it automatically populates not only\nthat information, but puts in the IQN for\n\n84\n00:04:16.473 --> 00:04:17.032\nus as well.\n\n85\n00:04:17.032 --> 00:04:21.250\nCould we go full screen for a second, I\nwanna show you something on the IQN here.\n\n86\n00:04:21.250 --> 00:04:24.620\nI'm gonna hover, it will pop up\nmomentarily, just so you can read it, and\n\n87\n00:04:24.620 --> 00:04:25.970\nyou can see it, then I'll talk about it.\n\n88\n00:04:25.970 --> 00:04:29.590\nCuz that little pop-up dialog text\nbox doesn't stay for very long.\n\n89\n00:04:29.590 --> 00:04:33.705\nBut the idea is that the IQN is\nan interesting path, when you read it.\n\n90\n00:04:33.705 --> 00:04:35.928\nIt kind of requires a little bit\nof deciphering, if you will.\n\n91\n00:04:35.928 --> 00:04:40.835\n[COUGH] Pardon me, what you see, as I\nchoke on my words as they come out of my\n\n92\n00:04:40.835 --> 00:04:43.429\nmouth, cuz I'm so excited\n&gt;&gt; [LAUGH]\n\n93\n00:04:43.429 --> 00:04:44.471\n&gt;&gt; About IQNs, so\n\n94\n00:04:44.471 --> 00:04:48.724\nwhat you see here is the year,\n1991-05, in this case,\n\n95\n00:04:48.724 --> 00:04:52.112\nthe fifth month of 1991,\nwhich would be May.\n\n96\n00:04:52.112 --> 00:04:57.258\nFirst thing you need to know about IQNs\nis that they are listing the year and\n\n97\n00:04:57.258 --> 00:04:59.499\nthe month that the registrant,\n\n98\n00:04:59.499 --> 00:05:04.680\nwhich will be coming right after com\nMicrosoft or think Microsoft.com.\n\n99\n00:05:04.680 --> 00:05:08.810\nThe year of the registrant,\nMicrosoft as a corporation requested and\n\n100\n00:05:08.810 --> 00:05:14.270\nwas granted a unique identifier\nthat signifies their storage paths,\n\n101\n00:05:14.270 --> 00:05:16.880\ntheir IQN for their storage mechanism.\n\n102\n00:05:16.880 --> 00:05:21.996\nIf you look at VMwares,\nit is January of 1998, I believe, right?\n\n103\n00:05:21.996 --> 00:05:27.351\nSo, you'll see different strings or path\nstrings for IQNs based on when the vendor\n\n104\n00:05:27.351 --> 00:05:32.028\nmade the request to the international\nbody that governs all this stuff.\n\n105\n00:05:32.028 --> 00:05:35.148\nAnd put it on record that they\nwanted a unique identifier so\n\n106\n00:05:35.148 --> 00:05:38.500\nthey could mount storage, and\nuse storage in their systems.\n\n107\n00:05:38.500 --> 00:05:40.114\n&gt;&gt; That's pretty interesting,\nI did not know that.\n\n108\n00:05:40.114 --> 00:05:40.866\n&gt;&gt; It is pretty interesting, right?\n\n109\n00:05:40.866 --> 00:05:45.463\nSo it tells us that Microsoft did this in\nMay of 1991, Microsoft is the company,\n\n110\n00:05:45.463 --> 00:05:48.964\nit's always done com.microsoft or\ncom.VMware or whatever,\n\n111\n00:05:48.964 --> 00:05:51.290\nso it's an inverted reference.\n\n112\n00:05:51.290 --> 00:05:55.430\nThen you see the actual string, or in this\ncase, the fully qualified domain name for\n\n113\n00:05:55.430 --> 00:05:56.640\nthe host, the identifier.\n\n114\n00:05:56.640 --> 00:06:00.493\nSo you do wanna understand how to read the\nIQN, or at least be aware of what it is,\n\n115\n00:06:00.493 --> 00:06:02.230\nwhat it says, and what it tells us.\n\n116\n00:06:02.230 --> 00:06:07.202\nCuz it does give us some information, just\nto make sure we are familiar with that.\n\n117\n00:06:07.202 --> 00:06:12.650\nSo we do have that capability here, we\nhave mounted our initial one for PLABDM.\n\n118\n00:06:12.650 --> 00:06:16.433\nWe're also gonna mount another one\nhere for PLABSA, our other box, so\n\n119\n00:06:16.433 --> 00:06:17.894\nwe're gonna add one more.\n\n120\n00:06:17.894 --> 00:06:21.736\nGo in here, let's do this again, leave it\nfull screen, just be easier for us to see.\n\n121\n00:06:21.736 --> 00:06:25.137\nLittle bit easier than what we were doing\nlast time with all the different machine\n\n122\n00:06:25.137 --> 00:06:27.460\nwindows kinda stacked\none on top of the other.\n\n123\n00:06:27.460 --> 00:06:32.410\nNow, if I didn't know the IQN for\nwhat I'm about to put in,\n\n124\n00:06:32.410 --> 00:06:38.950\nIQN 1991-05, com.Microsoft,\nPLABSA01, practicelabs.com.\n\n125\n00:06:38.950 --> 00:06:43.230\nI could type it in there, if I wanted to,\non the bottom here, under value.\n\n126\n00:06:43.230 --> 00:06:46.859\nBut in case I get it wrong,\nin case I misspell something, whatever,\n\n127\n00:06:46.859 --> 00:06:50.303\nit's gonna be easier to just go out and\nsearch for the machine, so\n\n128\n00:06:50.303 --> 00:06:53.644\nwe'll do PLABSA01,\njust check names there, get that one.\n\n129\n00:06:53.644 --> 00:06:57.300\nSo we'll be able to go and specify that,\nclick OK, this is one of our other boxes\n\n130\n00:06:57.300 --> 00:07:01.012\nthat has storage services mounted on it,\nthat I showed you at the beginning of our\n\n131\n00:07:01.012 --> 00:07:03.320\ndemo, so we're gonna be able to go in and\ndo that.\n\n132\n00:07:03.320 --> 00:07:06.716\nClick OK; that will take just a second,\nagain, just wait for it to save that off.\n\n133\n00:07:06.716 --> 00:07:11.361\nDoesn't take very long, and then\nyou'll see the IQN there for PLABSA01,\n\n134\n00:07:11.361 --> 00:07:14.290\nsame, essentially, as the one for PLABDM.\n\n135\n00:07:14.290 --> 00:07:17.736\nThe only difference is the name of\nthe machine is, obviously, varied there.\n\n136\n00:07:17.736 --> 00:07:21.298\nSo we went ahead, we did that,\nand we're gonna go ahead,\n\n137\n00:07:21.298 --> 00:07:25.000\nwe have our two initiators there,\nwe'll leave those two.\n\n138\n00:07:25.000 --> 00:07:27.837\nThat's what we're gonna use right now,\nwe're gonna click next to go and\n\n139\n00:07:27.837 --> 00:07:28.860\nenable authentication.\n\n140\n00:07:28.860 --> 00:07:30.265\nSo we'll click Next here,\n\n141\n00:07:30.265 --> 00:07:34.200\nwe also could stack up the initiators\nbased on how many we want to use.\n\n142\n00:07:34.200 --> 00:07:38.448\nNotice we do have the option to use CHAP,\nchallenge, handshake, authentication,\n\n143\n00:07:38.448 --> 00:07:41.811\nprotocol, and/or reversible CHAP,\nso we have two options here,\n\n144\n00:07:41.811 --> 00:07:43.410\nif we wanna do authentication.\n\n145\n00:07:43.410 --> 00:07:47.450\nCHAP is really just gonna use,\nhere we call them passwords.\n\n146\n00:07:47.450 --> 00:07:50.422\nYou sometimes see them referred to\nas perfect secrets, or secrets, or\n\n147\n00:07:50.422 --> 00:07:52.214\nshared secrets, it means the same thing.\n\n148\n00:07:52.214 --> 00:07:56.035\nWe're just referring to a password that\nwe're gonna put in a program here, and\n\n149\n00:07:56.035 --> 00:08:00.084\nthat both sides of the connection have to\nhave Awareness of, and be able to provide,\n\n150\n00:08:00.084 --> 00:08:04.098\nto authenticate, when we challenge them\nto allow the connectivity to take place.\n\n151\n00:08:04.098 --> 00:08:07.366\nWe're not gonna bother with enabling\nauthentication, but in the real world,\n\n152\n00:08:07.366 --> 00:08:08.744\nwe probably would wanna do this.\n\n153\n00:08:08.744 --> 00:08:12.180\nIt would be a good idea,\nkeep strangers out of our DataStore.\n\n154\n00:08:12.180 --> 00:08:15.006\nIn other words, make sure they're\nnot able to access the data, but\n\n155\n00:08:15.006 --> 00:08:18.330\nin the test environment, just doing the\ndemo here for you, really no reason for\n\n156\n00:08:18.330 --> 00:08:19.393\nyou to worry about that.\n\n157\n00:08:19.393 --> 00:08:21.390\nAll right, so\nwe do have a confirmation screen.\n\n158\n00:08:21.390 --> 00:08:23.220\nWe're just about done\nthrough the wizard here.\n\n159\n00:08:23.220 --> 00:08:27.090\nI do reference the fact, often times when\nwe do this, that this a great opportunity\n\n160\n00:08:27.090 --> 00:08:31.170\nto pause, number one, to check and double\ncheck that everything looks legitimate.\n\n161\n00:08:31.170 --> 00:08:34.140\nNumber two,\nthat you may wanna screen capture this,\n\n162\n00:08:34.140 --> 00:08:38.101\ndo some sort of thought process around\ncapturing this summary screen so\n\n163\n00:08:38.101 --> 00:08:40.165\nyou have it for your documentation.\n\n164\n00:08:40.165 --> 00:08:43.010\nIt's a great opportunity for\nyou to have a record of what you did,\n\n165\n00:08:43.010 --> 00:08:46.374\nand obviously it would then be valuable\nfor you so you could present that if you\n\n166\n00:08:46.374 --> 00:08:49.690\nneeded to, either recover something\nthrough an audit validate settings,\n\n167\n00:08:49.690 --> 00:08:52.124\nall sought of reasons why,\nwe've talked about this.\n\n168\n00:08:52.124 --> 00:08:56.406\nAll right, so we're gonna click create\nhere, wait let's make the official click\n\n169\n00:08:56.406 --> 00:08:59.667\ncamera sounds so we captured for\nour documentation purposes.\n\n170\n00:08:59.667 --> 00:09:03.034\nAll right very good, and\nnow we're gonna click create here.\n\n171\n00:09:03.034 --> 00:09:05.628\nNow, you'll see it doesn't take very\nlong boom, boom, boom, real quick.\n\n172\n00:09:05.628 --> 00:09:10.201\nYou saw it populate in the back right\nwhere we talking and kind of pop right in\n\n173\n00:09:10.201 --> 00:09:15.065\nthere to RQNs are available, but\nyou'll notice, Create iSCSI virtual disk,\n\n174\n00:09:15.065 --> 00:09:19.369\ncreate to ISCSI target access,\nAssign iSCSI virtual disk to target.\n\n175\n00:09:19.369 --> 00:09:20.461\nAll done, all complete.\n\n176\n00:09:20.461 --> 00:09:21.527\nThat's what we wanna see.\n\n177\n00:09:21.527 --> 00:09:24.972\nObviously, that means that we are good,\noff and running, and\n\n178\n00:09:24.972 --> 00:09:27.682\neverything is going to be\ncopasetic as they say.\n\n179\n00:09:27.682 --> 00:09:29.496\nWe're gonna click close, and\n\n180\n00:09:29.496 --> 00:09:32.924\nwe do see now that we do have\nour virtual disk mounted here.\n\n181\n00:09:32.924 --> 00:09:35.555\nNotice right now the target name is there.\n\n182\n00:09:35.555 --> 00:09:37.738\nNotice our target status is not connected.\n\n183\n00:09:37.738 --> 00:09:39.218\nWe do have our IQNs.\n\n184\n00:09:39.218 --> 00:09:40.635\nYou'll see them here.\n\n185\n00:09:40.635 --> 00:09:42.578\nSo we are able to provide that.\n\n186\n00:09:42.578 --> 00:09:45.957\nWe're now gonna connect the iSCSI\ninitiator to the our target store.\n\n187\n00:09:45.957 --> 00:09:49.200\nSo we do need to go ahead and\ndo that as well.\n\n188\n00:09:49.200 --> 00:09:53.040\nSo we're going to go in and\nengage in this next step.\n\n189\n00:09:53.040 --> 00:09:55.616\nSo we're gonna go ahead,\nand just before we do that,\n\n190\n00:09:55.616 --> 00:09:57.780\nlet me just do one quick thing here.\n\n191\n00:09:57.780 --> 00:10:00.683\nJust actually just go right back here.\n\n192\n00:10:00.683 --> 00:10:01.614\nGo to Local Service.\n\n193\n00:10:01.614 --> 00:10:03.702\nI just wanna show you\nsomething here real quick.\n\n194\n00:10:03.702 --> 00:10:06.115\nWe're on our domain controller right now.\n\n195\n00:10:06.115 --> 00:10:09.645\nSo I'm gonna switch over to our other\nmachine, one of our other machines,\n\n196\n00:10:09.645 --> 00:10:13.472\nour PLAMDM01 machine, and we're gonna\ngo ahead and configure it from there.\n\n197\n00:10:13.472 --> 00:10:16.395\nSo to show you what machine we're on so\nyou know where we are.\n\n198\n00:10:16.395 --> 00:10:18.618\nSo I'm gonna minimize this one.\n\n199\n00:10:18.618 --> 00:10:20.875\nGonna come over here,\nlet me just extend our lab time.\n\n200\n00:10:20.875 --> 00:10:22.862\nIt's always important to\nmake sure we're doing that.\n\n201\n00:10:22.862 --> 00:10:24.912\nAs Cherokee knows,\nyou don't want to hear me scream\n\n202\n00:10:24.912 --> 00:10:25.653\nin agony,-\n&gt;&gt; [LAUGH]\n\n203\n00:10:25.653 --> 00:10:28.052\n&gt;&gt; When we have to reset the lab because,-\n\n204\n00:10:28.052 --> 00:10:28.777\n&gt;&gt; It's never a good time.\n\n205\n00:10:28.777 --> 00:10:29.551\n&gt;&gt; It times out.\n\n206\n00:10:29.551 --> 00:10:32.170\nAll right, so let me just see\nwhich machine we're on here.\n\n207\n00:10:32.170 --> 00:10:36.051\nMake sure this PLAMDM01,\nthat's SA01, all right,\n\n208\n00:10:36.051 --> 00:10:40.736\nso we're gonna go grab the other one,\nand that should be PLABDM01.\n\n209\n00:10:40.736 --> 00:10:43.057\nAll right, so we're on PLABDM01.\n\n210\n00:10:43.057 --> 00:10:44.278\nWe're gonna go ahead and\n\n211\n00:10:44.278 --> 00:10:48.530\nwe're gonna select our iSCSI initiator out\nof the tools area here, and configure it.\n\n212\n00:10:48.530 --> 00:10:51.613\nRemember the initiator is gonna be\nused to be able to connect up to\n\n213\n00:10:51.613 --> 00:10:52.980\nthe storage target.\n\n214\n00:10:52.980 --> 00:10:57.550\nInitiator is the network interface on the\nhost that we wanna access storage through\n\n215\n00:10:57.550 --> 00:11:01.110\nonto the storage network out to the other\nside and get storage from, in this case,\n\n216\n00:11:01.110 --> 00:11:05.150\nwhere we just set up the iSCSI virtual\nhard disk out on our domain controller,\n\n217\n00:11:05.150 --> 00:11:07.090\nright on our target server as we said.\n\n218\n00:11:07.090 --> 00:11:10.860\nSo we're gonna specify here with tools,\ngonna go in,\n\n219\n00:11:10.860 --> 00:11:12.880\nnotice iSCSI initiator is there.\n\n220\n00:11:12.880 --> 00:11:14.210\nWe're gonna click on that.\n\n221\n00:11:14.210 --> 00:11:16.227\nGive that just a second.\n\n222\n00:11:16.227 --> 00:11:17.924\nBring this up here so you can see this.\n\n223\n00:11:17.924 --> 00:11:19.902\nMicrosoft iSCSI service is not running.\n\n224\n00:11:19.902 --> 00:11:22.953\nThe service is required in order for\nthis to function correctly.\n\n225\n00:11:22.953 --> 00:11:25.739\nTo start service click yes,\nare you sure you wanna do this?\n\n226\n00:11:25.739 --> 00:11:26.640\nWell absolutely, of course.\n\n227\n00:11:26.640 --> 00:11:27.522\nLet's click Yes.\n\n228\n00:11:27.522 --> 00:11:29.034\nLet's give that just a second.\n\n229\n00:11:29.034 --> 00:11:31.394\nWe'll wait for that to come up,\ndo it's thing,\n\n230\n00:11:31.394 --> 00:11:34.229\nwe get a little iSCSI initiator\nproperties dialogue box.\n\n231\n00:11:34.229 --> 00:11:37.280\nWe're gonna go in and\nwe're going to program in our connect.\n\n232\n00:11:37.280 --> 00:11:40.920\nLet me just move this over so\nwe can see what's happening there.\n\n233\n00:11:40.920 --> 00:11:45.400\nAll right, so if I actually try just\na little bit more, I could probably,\n\n234\n00:11:45.400 --> 00:11:47.116\nlet me see if I can-\n&gt;&gt; Move it up?\n\n235\n00:11:47.116 --> 00:11:47.856\n&gt;&gt; Nope, move it down.\n\n236\n00:11:47.856 --> 00:11:49.956\nI was just gonna just make\nthe red box disappear and\n\n237\n00:11:49.956 --> 00:11:51.108\npretend that that's,-\n&gt;&gt; [LAUGH]\n\n238\n00:11:51.108 --> 00:11:52.568\n&gt;&gt; This is what happens when you do\n\n239\n00:11:52.568 --> 00:11:56.540\nnothing but demos day after day,\nhour after hour, minute after minute.\n\n240\n00:11:56.540 --> 00:11:57.105\nYou get wacky.\n\n241\n00:11:57.105 --> 00:12:00.215\nAll right so we're gonna go ahead and\ndo iSCSI Initiator Properties.\n\n242\n00:12:00.215 --> 00:12:04.300\nSo we do have to program in and\nyou can see here our target's information.\n\n243\n00:12:04.300 --> 00:12:08.094\nWe do have some other capabilities,\ndiscovery, favorite targets, volumes,\n\n244\n00:12:08.094 --> 00:12:09.674\nradius, configuration, etc.\n\n245\n00:12:09.674 --> 00:12:12.839\nWe'll poke around, take a quick look\nthere in a minute, but let's go in and\n\n246\n00:12:12.839 --> 00:12:16.500\nlet's do the following, in the target box,\nlet's first of all, provide our target,\n\n247\n00:12:16.500 --> 00:12:17.756\nwhat are we gonna connect to?\n\n248\n00:12:17.756 --> 00:12:21.381\nRemember we said this was the domain\ncontroller that we configured where we\n\n249\n00:12:21.381 --> 00:12:25.134\nsetup the iSCSI server and services\nthat will provide the virtual hard disk.\n\n250\n00:12:25.134 --> 00:12:28.322\nSo we have to put in the name essentially,\nthe path to that, that's our target.\n\n251\n00:12:28.322 --> 00:12:34.636\nSo we're gonna type in\nplabdc01.practicelabs.com,\n\n252\n00:12:34.636 --> 00:12:36.663\nso let's do that.\n\n253\n00:12:36.663 --> 00:12:40.136\nAll right, so we're gonna put that in\nthere, and notice when we did that,\n\n254\n00:12:40.136 --> 00:12:43.297\nby the way, we have a Quick Connect\nbutton that becomes available.\n\n255\n00:12:43.297 --> 00:12:48.001\nThis is gonna go out and\nallow us to discover the plabdc01,\n\n256\n00:12:48.001 --> 00:12:50.688\nassuming everything is correct.\n\n257\n00:12:50.688 --> 00:12:53.269\nIf it does work it will\nquickly populate and\n\n258\n00:12:53.269 --> 00:12:58.320\nit will drop down the information under\ndiscover targets for us right in here.\n\n259\n00:12:58.320 --> 00:13:03.100\nSo let's do quick connect, goes through\nsees that we do see that name so\n\n260\n00:13:03.100 --> 00:13:04.200\nthat's all done.\n\n261\n00:13:04.200 --> 00:13:08.160\nLog in succeeded checked and validated\nour ability to connect to the array\n\n262\n00:13:08.160 --> 00:13:11.550\nremember if we were using Chap we'd have\nto have provided, the secret password or\n\n263\n00:13:11.550 --> 00:13:13.220\nthe paraphrase here to do that.\n\n264\n00:13:13.220 --> 00:13:14.960\nWe're not doing that so that's good.\n\n265\n00:13:14.960 --> 00:13:15.606\nClick Done.\n\n266\n00:13:15.606 --> 00:13:20.559\nNotice it drops it in there, publishes\nthe IQN for us, status connected.\n\n267\n00:13:20.559 --> 00:13:23.984\nGives us the ability now to access some\nof the buttons down here to work with\n\n268\n00:13:23.984 --> 00:13:24.823\nthe properties.\n\n269\n00:13:24.823 --> 00:13:28.590\nThe devices connect, disconnect, etc.,\ndepending on what it is we need to do.\n\n270\n00:13:28.590 --> 00:13:30.640\nSo we're able to now do that.\n\n271\n00:13:30.640 --> 00:13:34.332\nAll right, so we have that connected and\nwe have the ability,\n\n272\n00:13:34.332 --> 00:13:37.964\nI would normally click OK here now,\nand just get out of this.\n\n273\n00:13:37.964 --> 00:13:40.444\nBut before we do that,\nlet me just move this up, and\n\n274\n00:13:40.444 --> 00:13:42.650\nlet's just look at\nwhat's going on in here.\n\n275\n00:13:42.650 --> 00:13:46.760\nI'm also gonna hide the task bar so\nI can actually see the, hit OK button,\n\n276\n00:13:46.760 --> 00:13:49.580\ncuz I can't get to it even if I\nwanted to click on it right now.\n\n277\n00:13:49.580 --> 00:13:53.040\nAll right so there we go and I still\ncan't get to it even if I wanna see it.\n\n278\n00:13:53.040 --> 00:13:59.054\nLovely, all right so we'll go ahead and\nwe'll do the following, let me just think.\n\n279\n00:13:59.054 --> 00:14:00.286\nLet's take a quick look in here and\n\n280\n00:14:00.286 --> 00:14:02.678\nthen we'll worry about getting out\nof the window in just a minute.\n\n281\n00:14:02.678 --> 00:14:04.060\nSo we saw connect here.\n\n282\n00:14:04.060 --> 00:14:07.316\nWe saw we already did that with quick\nconnect we got that highlighted,\n\n283\n00:14:07.316 --> 00:14:08.373\nwe've got that done.\n\n284\n00:14:08.373 --> 00:14:12.374\nIf I wanna disconnect, obviously click\ndisconnect, that will remove that.\n\n285\n00:14:12.374 --> 00:14:18.390\nIf I wanna see the properties here, I can\ngo in, see the properties of the target.\n\n286\n00:14:18.390 --> 00:14:20.344\nSo we can see here our identifier.\n\n287\n00:14:20.344 --> 00:14:24.865\nI can add sessions in, I can disconnect or\nlook at devices that are backing this, and\n\n288\n00:14:24.865 --> 00:14:25.720\nsee this.\n\n289\n00:14:25.720 --> 00:14:26.760\nSo I can go in and\n\n290\n00:14:26.760 --> 00:14:30.950\njust check all the different information\nthat may be available to me.\n\n291\n00:14:30.950 --> 00:14:33.460\nI can go in, I can look at devices so\n\n292\n00:14:33.460 --> 00:14:36.240\nI can see there that I\nhave one disk mounted.\n\n293\n00:14:36.240 --> 00:14:40.190\nIt is available to me, gives me path\nthat lets me go in and see that.\n\n294\n00:14:40.190 --> 00:14:45.622\nShows me the legacy device name, shows\nme the actual device interface name and\n\n295\n00:14:45.622 --> 00:14:50.740\nif I'm configuring IO multipath IO I\nwould be able to work with that here.\n\n296\n00:14:50.740 --> 00:14:55.160\nWe're not configuring it, it's not set\nup for use, but I could specify that and\n\n297\n00:14:55.160 --> 00:14:58.410\nspecify additional paths\nto the storage device so\n\n298\n00:14:58.410 --> 00:15:02.640\nthat I can have the capability, not to\nonly connect to have a path failure, but\n\n299\n00:15:02.640 --> 00:15:05.425\nI get the benefit of additional\nbandwidth capability,\n\n300\n00:15:05.425 --> 00:15:08.680\nto be able to speed my storage up so\nI can do those things.\n\n301\n00:15:08.680 --> 00:15:10.529\nI can go to the discovery area.\n\n302\n00:15:10.529 --> 00:15:14.580\nThe port, the default port, by the way for\niSCSI, is always port 3260.\n\n303\n00:15:14.580 --> 00:15:17.890\nSo we would expect to see that here,\nunder discovery.\n\n304\n00:15:17.890 --> 00:15:22.660\nI have our address, I have our default\ninformation available for target portal.\n\n305\n00:15:22.660 --> 00:15:27.200\nI can go ahead and I can add in\nadditional servers if necessary here for\n\n306\n00:15:27.200 --> 00:15:28.630\nstorage networks.\n\n307\n00:15:28.630 --> 00:15:31.510\nThings like that so\nI can add those in if needed.\n\n308\n00:15:31.510 --> 00:15:35.225\nI can specify, now I only have one target\nso by default it is my favorite target,\n\n309\n00:15:35.225 --> 00:15:38.551\nbut if I have multiple targets,\nI may wanna prioritize certain ones and\n\n310\n00:15:38.551 --> 00:15:41.289\nput them on the favorite target list so\nI can add them here.\n\n311\n00:15:41.289 --> 00:15:43.579\nI have volumes and devices.\n\n312\n00:15:43.579 --> 00:15:46.401\nIf I have a volume list here of\ndifferent volumes that I maybe\n\n313\n00:15:46.401 --> 00:15:49.856\nmounted you'll see I can add specific\ndevices and/or configure them.\n\n314\n00:15:49.856 --> 00:15:52.401\nIf I'm using radius, I may be able to,\n\n315\n00:15:52.401 --> 00:15:56.874\nif I choose to use the radius server\nwith this, to do what we triple A,\n\n316\n00:15:56.874 --> 00:16:02.357\nauthorization and Authentication is well\nwhat we call accounting or auditing refer\n\n317\n00:16:02.357 --> 00:16:07.482\nto slightly different ways, depending\non the vendor that provides service.\n\n318\n00:16:07.482 --> 00:16:11.723\nBut what radius server traditionally\ndo is they will act as a front\n\n319\n00:16:11.723 --> 00:16:16.660\nend receiver of authentication and\naccess control request in typically web\n\n320\n00:16:16.660 --> 00:16:21.020\nenvironment remote access environment,\nthings like that.\n\n321\n00:16:21.020 --> 00:16:25.640\nThey will proxy the request on behalf of\nthe inbound request recipient or rather,\n\n322\n00:16:25.640 --> 00:16:27.880\nexcuse me the inbound requester.\n\n323\n00:16:27.880 --> 00:16:32.590\nThey will then go off to the domain or\nthe LDAP directory, do the authentication.\n\n324\n00:16:32.590 --> 00:16:37.170\nAnd provide the access control crosswalk\nto ensure that that user is providing\n\n325\n00:16:37.170 --> 00:16:38.560\nlegitimate credentials.\n\n326\n00:16:38.560 --> 00:16:41.816\nOnce that happens, they will then\nallow the connection to take place.\n\n327\n00:16:41.816 --> 00:16:45.024\nAssuming the user is authorized and\nhas permissions to do so\n\n328\n00:16:45.024 --> 00:16:47.570\nbased on whatever criteria are applied.\n\n329\n00:16:47.570 --> 00:16:50.720\nBut they will maintain control of that\nconnection overseeing it and monitoring.\n\n330\n00:16:50.720 --> 00:16:55.198\nAnd that's where the auditing or\nthe access control/audit or\n\n331\n00:16:55.198 --> 00:16:58.332\navailability part comes in where oversee.\n\n332\n00:16:58.332 --> 00:17:01.705\nWe keep track of what that user is doing,\nso we can see who they are,\n\n333\n00:17:01.705 --> 00:17:06.230\nwhat IP address they came from, activities\nthey engage in and things like that.\n\n334\n00:17:06.230 --> 00:17:09.630\nThis is what your ISP for instance,\nyour Internet service provider does.\n\n335\n00:17:09.630 --> 00:17:12.581\nThey look at your connections, inbound,\noutbound through your systems.\n\n336\n00:17:12.581 --> 00:17:16.777\nSo that if you get up to no good,\nstart hosting, streaming media sites.\n\n337\n00:17:16.777 --> 00:17:20.436\nSo things when you're not supposed to or\nyou engage in some of that hacking\n\n338\n00:17:20.436 --> 00:17:23.505\nactivity that we tell you not to\ndo even though you may go out and\n\n339\n00:17:23.505 --> 00:17:25.114\ndo things like that on your own.\n\n340\n00:17:25.114 --> 00:17:28.450\nAnd shame on you by the way if you're\nnot doing that, you're not supposed to.\n\n341\n00:17:28.450 --> 00:17:30.453\nBut if you do, this is how the ISP\nknows you're doing that and\n\n342\n00:17:30.453 --> 00:17:31.878\nhave they actually have evidence to that.\n\n343\n00:17:31.878 --> 00:17:34.915\nThat's why you get those nasty season to\nseize letters from time to time when you\n\n344\n00:17:34.915 --> 00:17:35.968\nengaged in that behavior.\n\n345\n00:17:35.968 --> 00:17:38.584\nCuz they've radio servers and\nthey keep track on what you're doing.\n\n346\n00:17:38.584 --> 00:17:40.414\nAnd that's how they could\nvalidate that you're doing that.\n\n347\n00:17:40.414 --> 00:17:42.968\nSo just be aware of that and\nunderstand the logic there.\n\n348\n00:17:42.968 --> 00:17:48.297\nAll right, so we're gonna go ahead,\nwe've got all this published in here and\n\n349\n00:17:48.297 --> 00:17:52.967\nwe are going to, What?\n\n350\n00:17:52.967 --> 00:17:55.517\nLet me see, if I can do this.\n\n351\n00:17:55.517 --> 00:18:02.736\nWell, it's actually not gonna matter.\n\n352\n00:18:02.736 --> 00:18:04.509\nI was gonna try to do that,\nbut it does not mater.\n\n353\n00:18:04.509 --> 00:18:08.919\nOkay, let me see if I can just\nget out of that really quickly\n\n354\n00:18:08.919 --> 00:18:10.989\ncuz I still have to do that.\n\n355\n00:18:10.989 --> 00:18:16.227\nNope, hold on once second, and I'm just\ngonna tab through there really quickly.\n\n356\n00:18:16.227 --> 00:18:18.418\n&gt;&gt; So Adam, I've had this happen before.\n\n357\n00:18:18.418 --> 00:18:22.029\nYeah, it's because of that resolution\nin this type of environment.\n\n358\n00:18:22.029 --> 00:18:26.582\nBut typically, you guys wouldn't\nhave to deal with that window issue.\n\n359\n00:18:26.582 --> 00:18:27.471\nBut there's also,\n\n360\n00:18:27.471 --> 00:18:30.512\nyou can use your keyboard shortcuts\nto help navigate through those.\n\n361\n00:18:30.512 --> 00:18:34.044\nIf for instance, I've been in situations\nwhere you didn't have a mouse and\n\n362\n00:18:34.044 --> 00:18:35.768\nyou had to use the keyboard, so yep.\n\n363\n00:18:35.768 --> 00:18:37.647\n&gt;&gt; They're just tapping through,\nno big deal.\n\n364\n00:18:37.647 --> 00:18:38.322\n&gt;&gt; You got out of there, yep.\n\n365\n00:18:38.322 --> 00:18:39.653\n&gt;&gt; All right, so computer management.\n\n366\n00:18:39.653 --> 00:18:42.108\nWe're just gonna go into\nComputer Management real quick here.\n\n367\n00:18:42.108 --> 00:18:45.450\nGonna go to our storage node, and\nwe are gonna go in and take a look.\n\n368\n00:18:45.450 --> 00:18:47.853\nSo let's just expand\nthat window out there.\n\n369\n00:18:47.853 --> 00:18:52.245\nAll right, so let's go over here to\nwhere are we heading over to Storage.\n\n370\n00:18:52.245 --> 00:18:53.193\nHere we go.\n\n371\n00:18:53.193 --> 00:18:59.010\nAnd, just go in there to Disk Management,\njust give that a second to open up.\n\n372\n00:18:59.010 --> 00:19:01.012\nAnd notice we're being asked\nto initialize some disk now.\n\n373\n00:19:01.012 --> 00:19:04.981\nAnd the reason that we're being ask to\ndo that is that we're actually now able\n\n374\n00:19:04.981 --> 00:19:06.824\nto see that we have various drives.\n\n375\n00:19:06.824 --> 00:19:09.434\nAnd there may have been new\ndrives that were added and or\n\n376\n00:19:09.434 --> 00:19:12.000\nnot acknowledged from the first\ntime we open this up.\n\n377\n00:19:12.000 --> 00:19:15.168\nSo let me just quickly go ahead and\ndo this, we'll go ahead and click OK.\n\n378\n00:19:15.168 --> 00:19:16.870\nWe'll just leave those in there.\n\n379\n00:19:16.870 --> 00:19:23.250\nAnd That's fine, all right,\njust give that just one second.\n\n380\n00:19:23.250 --> 00:19:26.990\nAll right, so\nyou'll see we have down here, right?\n\n381\n00:19:26.990 --> 00:19:31.803\nSome additional disks in this case,\ndisk 4, 500 megs is available to us.\n\n382\n00:19:31.803 --> 00:19:35.961\nAnd you'll see that's the one that we\nadded or we are making available through\n\n383\n00:19:35.961 --> 00:19:39.810\nthe storage that we're accessing or\nmounting with our target, right?\n\n384\n00:19:39.810 --> 00:19:41.647\nSo this one right here, so\nwe're gonna go ahead and\n\n385\n00:19:41.647 --> 00:19:44.225\nwe're gonna bring this online to\nsee it's offline right now, right?\n\n386\n00:19:44.225 --> 00:19:46.321\nSo we have to right-click here.\n\n387\n00:19:46.321 --> 00:19:49.081\nFirst, bring this online, so\nit's gonna give it a second.\n\n388\n00:19:49.081 --> 00:19:54.449\nIt's gonna come up and then once we\nhave done that we'll then go ahead and\n\n389\n00:19:54.449 --> 00:19:56.740\nwe will initialize the disks.\n\n390\n00:19:56.740 --> 00:20:00.460\nSo it says from offline to\nonline to not initialized.\n\n391\n00:20:00.460 --> 00:20:03.630\nSo we have to initialize the disk,\ngo ahead and we'll do that.\n\n392\n00:20:03.630 --> 00:20:04.770\nThat prompt that I got for\n\n393\n00:20:04.770 --> 00:20:07.580\nthe other two disks was just because\nof the nature of the lab environment.\n\n394\n00:20:07.580 --> 00:20:09.316\nWe haven't been into the computer\nmanager on this VM yet.\n\n395\n00:20:09.316 --> 00:20:12.563\nSo those disks were not recognized,\nbut this specific one,\n\n396\n00:20:12.563 --> 00:20:17.080\ndisk four is the one we're adding as\na result of accessing the virtual storage.\n\n397\n00:20:17.080 --> 00:20:20.520\nAnd so we have to initialize that disk\nas well, writing a signature to it so\n\n398\n00:20:20.520 --> 00:20:22.250\nwe can access it is what we're doing.\n\n399\n00:20:22.250 --> 00:20:22.995\nSo we're gonna go ahead,\nwe're gonna do that.\n\n400\n00:20:22.995 --> 00:20:27.088\nWe'll initialize our disk, and then once\nwe've done that let's just go ahead and\n\n401\n00:20:27.088 --> 00:20:27.622\nclick OK.\n\n402\n00:20:27.622 --> 00:20:31.329\n&gt;&gt; So what you're doing right now, this is\njust how you would treat a normal disk, or\n\n403\n00:20:31.329 --> 00:20:32.848\nhow the system would recognize.\n\n404\n00:20:32.848 --> 00:20:34.334\n&gt;&gt; To us, it's the normal-\n&gt;&gt; Yeah.\n\n405\n00:20:34.334 --> 00:20:36.867\n&gt;&gt; It seems like it's just locally\nmounted storage available to us,\n\n406\n00:20:36.867 --> 00:20:39.464\ndoesn't seem any different by any means,\nwe've initialized it.\n\n407\n00:20:39.464 --> 00:20:42.538\nWe now have it online,\nyou could see it's available.\n\n408\n00:20:42.538 --> 00:20:45.010\nOn allocated space,\nwe haven't created a volume there yet.\n\n409\n00:20:45.010 --> 00:20:47.448\nBut we can go ahead,\ncertainly do that right-click,\n\n410\n00:20:47.448 --> 00:20:50.417\ncreate any one of our volumes,\nwhatever it may be that we wanna do.\n\n411\n00:20:50.417 --> 00:20:54.645\nWe're not gonna do something like RAID\n5 without multiple drives to play with.\n\n412\n00:20:54.645 --> 00:20:56.627\nWe do have free space there, but\nI'm not gonna bother to do that.\n\n413\n00:20:56.627 --> 00:21:00.245\nWe'll just do a simple volume here\njust to allocate out the space.\n\n414\n00:21:00.245 --> 00:21:02.650\nYou've probably seen the simple\nvolume wizard before.\n\n415\n00:21:02.650 --> 00:21:03.730\nNothing too exciting there.\n\n416\n00:21:03.730 --> 00:21:07.860\nWe gotta specify what we wanna do,\nso let's just go in here quickly.\n\n417\n00:21:07.860 --> 00:21:09.090\nHow big is it overall?\n\n418\n00:21:09.090 --> 00:21:11.020\nIt's about 500 megs approximately.\n\n419\n00:21:11.020 --> 00:21:12.800\nDo I wanna take full amount of size?\n\n420\n00:21:12.800 --> 00:21:14.262\nDo I wanna take less?\nIt's really up to us.\n\n421\n00:21:14.262 --> 00:21:16.840\nWe'll just take full amount of space,\nclick Next.\n\n422\n00:21:16.840 --> 00:21:18.870\nWhat drive letter,\ndo we wanna mount this with?\n\n423\n00:21:18.870 --> 00:21:20.673\nBe up to us to decide.\nIf you have a favorite letter,\n\n424\n00:21:20.673 --> 00:21:21.919\nyou can mount it with that.\n\n425\n00:21:21.919 --> 00:21:23.647\nIf you don't care about what letter it is,\n\n426\n00:21:23.647 --> 00:21:25.760\nwhatever letter's up in\nthe rotation will come up.\n\n427\n00:21:25.760 --> 00:21:28.041\nYou just choose what that will be.\n\n428\n00:21:28.041 --> 00:21:30.430\nWe'll leave it as the E drive,\nthat'll be fine.\n\n429\n00:21:30.430 --> 00:21:31.970\nGo ahead and we'll click Next.\n\n430\n00:21:31.970 --> 00:21:35.905\nWe can choose to format it with our\nfile system whether it is going to\n\n431\n00:21:35.905 --> 00:21:37.325\nbe as you can see there.\n\n432\n00:21:37.325 --> 00:21:43.961\nNTFS, FAT, FAT32 or ReFS, the Brazilian\nfile system, newer file system in 12 R2.\n\n433\n00:21:43.961 --> 00:21:45.013\nAll right, so we can do that.\n\n434\n00:21:45.013 --> 00:21:49.510\nDefault application etc, etc,\nquick format whatever we may do.\n\n435\n00:21:49.510 --> 00:21:51.850\nJust to make our standard\nchoices there click Finish.\n\n436\n00:21:51.850 --> 00:21:55.135\nGive that just a moment shouldn't take\ntoo long comes up pretty quickly.\n\n437\n00:21:55.135 --> 00:21:58.976\nAnd then once we have that done,\nyou could see we do have an E drive now.\n\n438\n00:21:58.976 --> 00:22:04.450\nIt is available to us, we do have\nthe ability to be able to see that.\n\n439\n00:22:04.450 --> 00:22:07.680\nNow, we've mounted it on\nthis one system here.\n\n440\n00:22:07.680 --> 00:22:10.800\nSee, it just gives us the prompt about\nformatting, but we'd already formatted so\n\n441\n00:22:10.800 --> 00:22:11.640\nthat's fine.\n\n442\n00:22:11.640 --> 00:22:14.797\nAnd we could go in literally if\nwe chose to, let's just go here.\n\n443\n00:22:14.797 --> 00:22:16.966\nAnd we do see an E drive right\nin the Windows Explorer,\n\n444\n00:22:16.966 --> 00:22:19.099\nright on this machine we can\nsee the E drive is there.\n\n445\n00:22:19.099 --> 00:22:21.495\nThere's nothing in there yet,\nbut we can't see it, right?\n\n446\n00:22:21.495 --> 00:22:26.484\nSo we now have mount to that and\nwe've done that for the flab DM01 machine.\n\n447\n00:22:26.484 --> 00:22:28.635\nNow can we mount that to another machine?\n\n448\n00:22:28.635 --> 00:22:31.221\nCan we go, let's say and\ngo to a different machine and mount that.\n\n449\n00:22:31.221 --> 00:22:33.970\nWe can do that as well, so let's go in.\n\n450\n00:22:33.970 --> 00:22:36.108\nLet's get out of this one and\nlet's go over here again.\n\n451\n00:22:36.108 --> 00:22:40.140\nI'm just gonna quickly go\nover here go to flab DC.\n\n452\n00:22:40.140 --> 00:22:44.319\nWhoops, wrong one,\nlet's go to RSA01 machine.\n\n453\n00:22:44.319 --> 00:22:46.760\nThat should be this one, right over here.\n\n454\n00:22:46.760 --> 00:22:49.683\nSo flab SA 01, yet\nanother one that's running our file and\n\n455\n00:22:49.683 --> 00:22:51.390\nstorage services, right?\n\n456\n00:22:51.390 --> 00:22:52.700\nWe haven't mounted it to this one yet.\n\n457\n00:22:52.700 --> 00:22:53.609\nWe're gonna go,\nessentially do the same thing.\n\n458\n00:22:53.609 --> 00:22:56.062\nWe'll go grab our iSCSI initiator.\n\n459\n00:22:56.062 --> 00:22:58.597\nSo let's go grab that right there,\nclick Yes.\n\n460\n00:22:58.597 --> 00:23:00.002\nLet's get that service started up.\n\n461\n00:23:00.002 --> 00:23:03.160\nAll right, so we'll mount that or\nget that running.\n\n462\n00:23:04.790 --> 00:23:08.520\nGo in here and we will put in our target,\njust like we did before.\n\n463\n00:23:08.520 --> 00:23:14.367\nSo let's do plabdc01 practice-labs.com,\nwe gotta\n\n464\n00:23:14.367 --> 00:23:18.908\nwork on that voice controlled typing-\n&gt;&gt; [LAUGH]\n\n465\n00:23:18.908 --> 00:23:20.305\n&gt;&gt; Thing that we keep talking about.\n\n466\n00:23:20.305 --> 00:23:20.879\n&gt;&gt; I know you're big on that.\n\n467\n00:23:20.879 --> 00:23:23.255\n&gt;&gt; All right, so we're gonna do that.\n\n468\n00:23:23.255 --> 00:23:25.483\nYou could see it was\nsuccessful click Done there.\n\n469\n00:23:25.483 --> 00:23:27.400\nWe are able to get in there.\n\n470\n00:23:27.400 --> 00:23:28.770\nWe did the quick connect, right?\n\n471\n00:23:28.770 --> 00:23:31.726\nWe've already done this before, we're just\ngonna go ahead and click Ok here, right?\n\n472\n00:23:31.726 --> 00:23:34.368\nWe don't need to spend time kind of sight\n\n473\n00:23:34.368 --> 00:23:35.436\nseeing-\n&gt;&gt; Reiterating.\n\n474\n00:23:35.436 --> 00:23:36.308\n&gt;&gt; We did on the previous one, right?\n\n475\n00:23:36.308 --> 00:23:36.845\n&gt;&gt; Yeah.\n\n476\n00:23:36.845 --> 00:23:37.547\n&gt;&gt; We all ready did that, so.\n\n477\n00:23:37.547 --> 00:23:39.751\n&gt;&gt; But what's interesting, and\nas you're walking through this.\n\n478\n00:23:39.751 --> 00:23:41.325\nI mean you're going through,\nyou're setting things up.\n\n479\n00:23:41.325 --> 00:23:44.864\nBut once you get it configured and\nthe operating system recognizes that disk.\n\n480\n00:23:44.864 --> 00:23:49.935\nIt's not like you have just a map to\ndrive to a centralized storage location,\n\n481\n00:23:49.935 --> 00:23:52.830\nyou have to specify\nthat every single time.\n\n482\n00:23:52.830 --> 00:23:55.805\nIt's the operating system recognizes that,\nso it's pretty cool.\n\n483\n00:23:55.805 --> 00:24:00.659\n&gt;&gt; It is, so you could see okay, so I just\nwent in to the computer manager, right?\n\n484\n00:24:00.659 --> 00:24:03.547\nEssentially, so yeah, same steps,\nwe just followed on the previous machine,\n\n485\n00:24:03.547 --> 00:24:04.654\nGo into the computer manager.\n\n486\n00:24:04.654 --> 00:24:07.963\nAnd you'll see here that we do have here,\n\n487\n00:24:07.963 --> 00:24:12.270\ninstead of just disk four,\nit comes up as disk one.\n\n488\n00:24:12.270 --> 00:24:15.340\nNot because disk four is a magical\nnumber and disk one isn't.\n\n489\n00:24:15.340 --> 00:24:17.640\nBut remember we order a number.\n\n490\n00:24:17.640 --> 00:24:20.080\nEverything without exception in\ncomputers always starts from zero and\n\n491\n00:24:20.080 --> 00:24:21.230\ngoes from there right?\n\n492\n00:24:21.230 --> 00:24:24.050\nOn the other machine on DM1 I\ndidn't bother to really take\n\n493\n00:24:24.050 --> 00:24:26.130\nthe time to show you\nthe computer manager and\n\n494\n00:24:26.130 --> 00:24:29.150\nthe storage system but\nI had other disks in there already.\n\n495\n00:24:29.150 --> 00:24:31.170\nI showed you disc one,\ndisc two had come up and\n\n496\n00:24:31.170 --> 00:24:33.480\nsaid hey,\ninitialize us we need a signature.\n\n497\n00:24:33.480 --> 00:24:37.380\nSo the next available number to\ninitialize a disc was disc four.\n\n498\n00:24:37.380 --> 00:24:41.740\nMeaning it would be the fifth overall\ndisk or partition or system for\n\n499\n00:24:41.740 --> 00:24:43.110\nstorage that we would use.\n\n500\n00:24:43.110 --> 00:24:46.870\nHere, we don't have anything mounted\nexcept disc zero, so, the logical number\n\n501\n00:24:46.870 --> 00:24:50.960\nthat comes up for us to mount this\nstorage we just provided, is disc one.\n\n502\n00:24:50.960 --> 00:24:52.430\nAnd so, that's what we're actually seeing.\n\n503\n00:24:52.430 --> 00:24:54.820\nThat's why that number looks different,\nin case you're wondering, hey,\n\n504\n00:24:54.820 --> 00:24:57.410\nwas it disc four on one and\ndisc one on the other.\n\n505\n00:24:57.410 --> 00:25:00.550\nAnd when I do this in the real world, why\ndoes it come up as disc one sometimes and\n\n506\n00:25:00.550 --> 00:25:01.830\nother times, another number?\n\n507\n00:25:01.830 --> 00:25:05.180\nDoes that just because of the amount of\ndiscs that are mounted in the local system\n\n508\n00:25:05.180 --> 00:25:08.450\nthat you're making the storage available\nto, whatever that number will be.\n\n509\n00:25:08.450 --> 00:25:11.180\nAll right, so having said that\nyou'll see it's offline here right?\n\n510\n00:25:11.180 --> 00:25:12.930\nWe're gonna do the same\nthing we did a moment ago.\n\n511\n00:25:12.930 --> 00:25:14.420\nSo we'll bring this online.\n\n512\n00:25:14.420 --> 00:25:17.530\nWe'll give that just a second,\nit will change, right we went online.\n\n513\n00:25:17.530 --> 00:25:21.390\nAnd you'll see now we don't have\nto go through and initialize.\n\n514\n00:25:21.390 --> 00:25:22.780\nWe don't have to go through and format and\n\n515\n00:25:22.780 --> 00:25:24.790\nall that cuz remember we already\ndid that on the other one.\n\n516\n00:25:24.790 --> 00:25:26.880\nNow we have access to the storage, right?\n\n517\n00:25:26.880 --> 00:25:28.320\nSo, we've done the hard work,\n\n518\n00:25:28.320 --> 00:25:32.720\nthe heavy lift on the prior system\nwhere we set it up, brought it on life,\n\n519\n00:25:32.720 --> 00:25:37.030\nformatted it, said how big that space\nwas gonna be, gave it a drive letter.\n\n520\n00:25:37.030 --> 00:25:39.860\nNow, we're just simply getting\nthe benefit of all that and\n\n521\n00:25:39.860 --> 00:25:42.290\nmounting it already fully formed,\nready to go.\n\n522\n00:25:42.290 --> 00:25:43.520\nSo we can see the storage.\n\n523\n00:25:43.520 --> 00:25:44.100\nIt is there.\n\n524\n00:25:44.100 --> 00:25:46.650\nBut you can see that it's\nalready available to us.\n\n525\n00:25:46.650 --> 00:25:49.660\nAny data that would have been there, in\nother words, would already be available.\n\n526\n00:25:49.660 --> 00:25:51.420\nWe'd be able to go in and see the data.\n\n527\n00:25:51.420 --> 00:25:55.560\nSo once we format it, initialize it,\nand mount it from one system,\n\n528\n00:25:55.560 --> 00:25:58.400\nwe actually are then able to\naccess it from multiple systems.\n\n529\n00:25:58.400 --> 00:26:00.230\nSo do keep that in mind.\n\n530\n00:26:00.230 --> 00:26:03.030\nAnd remember, I know Cherokee wants to\nsay something here, but just remember,\n\n531\n00:26:03.030 --> 00:26:07.340\nthe logic being, if we're storing virtual\nmachines here, we want to have access to\n\n532\n00:26:07.340 --> 00:26:10.760\nthe existing data from any system so\nwe can see and manage them.\n\n533\n00:26:10.760 --> 00:26:12.100\nThink about live migration,\n\n534\n00:26:12.100 --> 00:26:14.780\nright, being able to move the evidence\nbetween hosts in real time.\n\n535\n00:26:14.780 --> 00:26:17.450\nWe'd have to be able to see\nthe shared data store and mount it so\n\n536\n00:26:17.450 --> 00:26:20.410\nwe can move them and\ncontrol those files, right?\n\n537\n00:26:20.410 --> 00:26:23.430\nAnd so that kinda stuff would mean\nwe'd have to mount this storage\n\n538\n00:26:23.430 --> 00:26:26.050\nagainst multiple hosts to be able\nto do that as one example, right?\n\n539\n00:26:26.050 --> 00:26:28.360\nSo this is why we need\nthis kind of technology.\n\n540\n00:26:28.360 --> 00:26:29.980\nWhy it works the way it does, yes.\n\n541\n00:26:29.980 --> 00:26:33.290\n&gt;&gt; Well, I was just thinking it's\nalso important for them to note that,\n\n542\n00:26:33.290 --> 00:26:37.020\nif someone was managing this storage\nthey would also need to take\n\n543\n00:26:37.020 --> 00:26:40.490\ninto consideration anyone else\nwho's relying on this storage.\n\n544\n00:26:40.490 --> 00:26:45.530\nLet's say before they were to go ahead and\nblow out a volume or reformat the drive or\n\n545\n00:26:45.530 --> 00:26:47.990\nsomething to that nature, because it\nwould affect affect others as well.\n\n546\n00:26:47.990 --> 00:26:50.950\n&gt;&gt; It would you'd obviously have to take\nnote of that there is no doubt about it\n\n547\n00:26:50.950 --> 00:26:54.160\nbecause now we're using\na shared common front end\n\n548\n00:26:54.160 --> 00:26:57.930\nthat's being mounted in multiple places\nto access common backend storage.\n\n549\n00:26:57.930 --> 00:27:01.470\nAnd if we monkey around in there make\na change or do something, it will affect\n\n550\n00:27:01.470 --> 00:27:04.710\neverybody connected to it so that is\na very important thing for us to consider.\n\n551\n00:27:04.710 --> 00:27:06.510\nAnd to be aware of it,\nthere's no doubt about it, right?\n\n552\n00:27:06.510 --> 00:27:09.320\nWe do have to know that and obviously\nto make sure we are aware of that.\n\n553\n00:27:09.320 --> 00:27:12.080\nAll right, so just wanna be thinking about\nthe fact that obviously we can mount\n\n554\n00:27:12.080 --> 00:27:13.600\nthe storage, make it available.\n\n555\n00:27:13.600 --> 00:27:17.020\nSpool it out so to speak and\nprovide it across multiple systems.\n\n556\n00:27:17.020 --> 00:27:19.780\nThis is how we provide\niSCSI file services,\n\n557\n00:27:19.780 --> 00:27:23.090\nhow we initiate the target server,\nthe provider of the storage.\n\n558\n00:27:23.090 --> 00:27:26.360\nHow we initialize one or more initiators\nthat will be used to connect and\n\n559\n00:27:26.360 --> 00:27:28.500\nhow we mount storage\nacross multiple hosts.\n\n560\n00:27:28.500 --> 00:27:31.565\nAll of that, and\nI still am wearing a bright yellow shirt.\n\n561\n00:27:31.565 --> 00:27:35.950\n&gt;&gt; [LAUGH] All right, Adam, and I\"m still\nwearing a blue shirt, imagine that.\n\n562\n00:27:35.950 --> 00:27:39.100\nBut thank you for your time today,\nand thank you for time as well.\n\n563\n00:27:39.100 --> 00:27:40.510\nHopefully, you've learned something here.\n\n564\n00:27:40.510 --> 00:27:41.670\niSCSI, it's pretty cool.\n\n565\n00:27:41.670 --> 00:27:44.440\nAnd now that we've been able to\nwalk through all the steps here and\n\n566\n00:27:44.440 --> 00:27:47.070\nwe're able to go ahead and\nuse that, so thank you for that.\n\n567\n00:27:47.070 --> 00:27:49.900\nFor this show we are out of time,\nand we'll go ahead and sign out.\n\n568\n00:27:49.900 --> 00:27:51.914\nSo, remember I'm your host Cherokee Boose.\n\n569\n00:27:51.914 --> 00:27:53.034\n&gt;&gt; I am Adam Gordon.\n\n570\n00:27:53.034 --> 00:27:56.289\n&gt;&gt; See you next time here at ITProTV.\n\n571\n00:27:56.289 --> 00:28:02.097\n[MUSIC]\n\n572\n00:28:02.097 --> 00:28:07.630\n&gt;&gt; Thank you for watching IT Pro TV\n\n",
          "vimeoId": "224329061"
        },
        {
          "description": "In this show, Cherokee and Adam first narrow in on Internet Storage Name Service (iSNS). Adam reiterates some terminology to know and shares options for high availability. He explains Multiple Connected Session (MCS) and Multipath I/O (MPIO). They also introduce BranchCache.",
          "length": "1699",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-3-advance_file_services_pt3-0602717.00_28_04_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-3-advance_file_services_pt3-0602717.00_28_04_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-3-advance_file_services_pt3-0602717.00_28_04_08.Still001-sm.jpg",
          "title": "Advanced File Services Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.628\nYou're watching ITPRO.TV.\n\n2\n00:00:02.628 --> 00:00:05.862\n[CROSSTALK]\n\n3\n00:00:05.862 --> 00:00:07.901\n[MUSIC]\n\n4\n00:00:07.901 --> 00:00:11.977\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:11.977 --> 00:00:15.566\n&gt;&gt; Welcome to your MCSA 70- 412 series.\n\n6\n00:00:15.566 --> 00:00:18.065\nI'm your show host Cherokee Boose.\n\n7\n00:00:18.065 --> 00:00:22.241\nIn this episode, we'll continue taking\na look at advanced file services.\n\n8\n00:00:22.241 --> 00:00:25.421\nAnd back in the studio with us today,\nwe have Mr. Adam Gordon.\n\n9\n00:00:25.421 --> 00:00:26.438\nHey, Adam, how's it going?\n\n10\n00:00:26.438 --> 00:00:29.295\n&gt;&gt; It is going well,\nhopefully going well for all of you.\n\n11\n00:00:29.295 --> 00:00:32.820\nWe are gonna continue\ntalking about surprise,\n\n12\n00:00:32.820 --> 00:00:34.300\ndrum roll, we have no sound effects.\n\n13\n00:00:34.300 --> 00:00:35.130\nI just you know,\n&gt;&gt; [LAUGH]\n\n14\n00:00:35.130 --> 00:00:36.960\n&gt;&gt; I hear them in my head but they do not.\n\n15\n00:00:36.960 --> 00:00:38.650\n&gt;&gt; These working conditions are just so\nhorrible\n\n16\n00:00:38.650 --> 00:00:40.600\n&gt;&gt; They do not appear when I am thinking.\n\n17\n00:00:40.600 --> 00:00:43.490\nWe're gonna continue our\ndiscussions around storage.\n\n18\n00:00:43.490 --> 00:00:47.610\nWe did leave off having configured iSCSI\ndid a pretty thorough job walking through\n\n19\n00:00:47.610 --> 00:00:50.300\nthe interface, setting it up\nshowing you how you can mount it.\n\n20\n00:00:50.300 --> 00:00:54.270\nBut we left out one of the really cool\nfeatures I hinted out, even looked at it.\n\n21\n00:00:54.270 --> 00:00:55.127\nBut we didn't actually configure.\n\n22\n00:00:55.127 --> 00:00:57.686\nWe're gonna go back and\ntake a look at something called ISNS.\n\n23\n00:00:57.686 --> 00:01:01.401\nWe're also just gonna have a couple quick\nthings to say to kind of round out our\n\n24\n00:01:01.401 --> 00:01:02.870\nconversation around iSCSI.\n\n25\n00:01:02.870 --> 00:01:06.140\nWe're gonna get into branch cache,\nkind of roll through that.\n\n26\n00:01:06.140 --> 00:01:07.620\nBegin our discussion there as well.\n\n27\n00:01:07.620 --> 00:01:10.490\nBut we're gonna talk about\nthe idea of send targets.\n\n28\n00:01:10.490 --> 00:01:14.480\nWe've demoed through the discussions\non iSCSI, how to configure iSCSI using\n\n29\n00:01:14.480 --> 00:01:19.070\nthe concept of the sim target by using the\ntarget portal and programming in the name.\n\n30\n00:01:19.070 --> 00:01:21.640\nRalph's going to take a look at some\nother methods, and ISNS is one of those.\n\n31\n00:01:21.640 --> 00:01:22.802\nSo if you could join me\nhere in the interface.\n\n32\n00:01:22.802 --> 00:01:25.783\nIt kind of comes and goes [LAUGH]\nif you don't grab hold of it and\n\n33\n00:01:25.783 --> 00:01:27.424\nactually start working with it.\n\n34\n00:01:27.424 --> 00:01:28.320\nIt disappears.\n\n35\n00:01:28.320 --> 00:01:29.353\nSo we got to stay in there.\n\n36\n00:01:29.353 --> 00:01:30.975\nSo we're gonna go back in.\n\n37\n00:01:30.975 --> 00:01:35.590\nI've just gone ahead and opened up\nthe iSCSI initiator properties to show you\n\n38\n00:01:35.590 --> 00:01:37.850\nhow I did this in prior episodes.\n\n39\n00:01:37.850 --> 00:01:41.193\nIf you haven't seen those yet,\nprobably be a real good idea to go back,\n\n40\n00:01:41.193 --> 00:01:43.610\ntake a look,\nat least the episode before this one.\n\n41\n00:01:43.610 --> 00:01:45.420\nJust really get a good\nsense of what we are doing.\n\n42\n00:01:45.420 --> 00:01:47.510\nBut we went into the tools menu here.\n\n43\n00:01:48.510 --> 00:01:50.290\nChoose the ice because the initiator.\n\n44\n00:01:50.290 --> 00:01:51.270\nOpened it up.\n\n45\n00:01:51.270 --> 00:01:53.040\nComes up on the target tab.\n\n46\n00:01:53.040 --> 00:01:56.160\nI just went ahead and went to discovery,\njust so you know where we are.\n\n47\n00:01:56.160 --> 00:01:58.750\nKind of prepopulating that,\ngetting organized, getting ready.\n\n48\n00:01:58.750 --> 00:02:00.700\nSo we can go through and set up by iSNS.\n\n49\n00:02:00.700 --> 00:02:03.070\nWe'll do that down here, in just a second,\n\n50\n00:02:03.070 --> 00:02:06.300\nthe internet storage name service,\nwhat iSNS stands for.\n\n51\n00:02:06.300 --> 00:02:09.400\nI don't know if I actually mentioned\nthat when we took a look at it before.\n\n52\n00:02:09.400 --> 00:02:12.160\nBut I want to go back over here\nto targets for just one second.\n\n53\n00:02:12.160 --> 00:02:17.455\nWe've gone ahead and programmed in In\nour demonstrations in the other systems.\n\n54\n00:02:17.455 --> 00:02:21.305\nOur target by using the quick connect,\nwe typed in the target name there.\n\n55\n00:02:21.305 --> 00:02:22.125\nWe hit quick connect.\n\n56\n00:02:22.125 --> 00:02:26.282\nWent out and used the send target\nfunctionality to go query and search for\n\n57\n00:02:26.282 --> 00:02:26.905\nstorage.\n\n58\n00:02:26.905 --> 00:02:31.182\nTargets on the network came back,\nvalidated them, and then put it in.\n\n59\n00:02:31.182 --> 00:02:35.592\nWe got our IQN, we went through and talked\nabout how to read that, number, year and\n\n60\n00:02:35.592 --> 00:02:39.500\nmonth and then invert name for the\nregistration along with the hostname or\n\n61\n00:02:39.500 --> 00:02:43.470\nwhatever the path will be in this case\nin a plaid S1 or plaid SA01 or DM1 or\n\n62\n00:02:43.470 --> 00:02:45.071\nwhatever it would have been.\n\n63\n00:02:45.071 --> 00:02:45.742\nBut we did all that.\n\n64\n00:02:45.742 --> 00:02:49.411\nSo we've talked about and\nused the send targets concept already,\n\n65\n00:02:49.411 --> 00:02:52.359\nthe discovery of the target\nthat we specify along with\n\n66\n00:02:52.359 --> 00:02:55.700\nlogin validation to ensure\nwe can connect and use that.\n\n67\n00:02:55.700 --> 00:02:58.660\nYou've seen me do that, that's one\nof the way we actually setup and\n\n68\n00:02:58.660 --> 00:03:00.390\nestablish iSCSI connectivity.\n\n69\n00:03:00.390 --> 00:03:03.029\nWe're gonna take a look here at ISNN and\nISNS,\n\n70\n00:03:03.029 --> 00:03:06.559\nexcuse me setting a static address and\nbeing able to use this.\n\n71\n00:03:06.559 --> 00:03:08.352\nSo, let's go in.\n\n72\n00:03:08.352 --> 00:03:10.860\nLet's just take a quick look\nat what we're gonna do here.\n\n73\n00:03:10.860 --> 00:03:13.710\nJust gotta cheat for a minute to get the\nname of the machine we're gonna connect to\n\n74\n00:03:13.710 --> 00:03:15.160\nso I know which one\nwe're gonna program in.\n\n75\n00:03:15.160 --> 00:03:18.290\nThat's why we have notes, otherwise,\nwell, things don't work so well\n\n76\n00:03:18.290 --> 00:03:21.280\nwhen you go off in this phase and try to\nconnect to the machine that isn't there.\n\n77\n00:03:21.280 --> 00:03:25.200\nAll right, so we're gonna go ahead, we're\ngonna go down here to where it says ISNS.\n\n78\n00:03:25.200 --> 00:03:26.830\nAnd we're gonna go at server, right?\n\n79\n00:03:26.830 --> 00:03:30.080\nSo we're gonna click here, geta a little\ndialogue box, pretty straight forward.\n\n80\n00:03:30.080 --> 00:03:32.240\ngive me just one second to\njust pull this down here so\n\n81\n00:03:32.240 --> 00:03:33.660\nwe can kinda see what we're doing.\n\n82\n00:03:33.660 --> 00:03:37.460\nWe're gonna enter the name in this case\nfully qualified domain name of our server.\n\n83\n00:03:37.460 --> 00:03:41.700\nSo I'm gonna do plabsa01.practicelabs.com.\n\n84\n00:03:41.700 --> 00:03:46.790\nI find when I talk to\nmyself I look down and\n\n85\n00:03:46.790 --> 00:03:49.380\nactually pay attention to what I'm typing.\n\n86\n00:03:49.380 --> 00:03:52.420\nIt actually turns out better than\nwhen I attempt to do everything but\n\n87\n00:03:52.420 --> 00:03:53.270\nlook at what I'm typing.\n\n88\n00:03:53.270 --> 00:03:56.368\nAnd we all know how well that turns\nout cuz I usually make mistakes.\n\n89\n00:03:56.368 --> 00:03:58.692\n&gt;&gt; And the camera doesn't help anything,\nat least for me it doesn't anyways.\n\n90\n00:03:58.692 --> 00:04:02.813\n&gt;&gt; Well, you can't really tell because\nit's not even zoomed in full screen\n\n91\n00:04:02.813 --> 00:04:03.550\nit's hard.\n\n92\n00:04:03.550 --> 00:04:06.682\nWe're far enough away as you know\nthat it's kind of hard to see.\n\n93\n00:04:06.682 --> 00:04:08.274\nYou can't say for\nsure that you got it right.\n\n94\n00:04:08.274 --> 00:04:09.874\n&gt;&gt; [LAUGH]\n&gt;&gt; So, at least for.\n\n95\n00:04:09.874 --> 00:04:10.762\n&gt;&gt; And usually I don't.\n\n96\n00:04:10.762 --> 00:04:11.785\n&gt;&gt; And, usually it's, you know.\n\n97\n00:04:11.785 --> 00:04:12.440\n&gt;&gt; It's like, yeah, OK.\n\n98\n00:04:12.440 --> 00:04:13.400\nSomething like that.\n\n99\n00:04:13.400 --> 00:04:16.350\n&gt;&gt; And I'm certainly fallible because I\nhave been on the receiving end of I didn't\n\n100\n00:04:16.350 --> 00:04:17.670\nit right many times.\n\n101\n00:04:17.670 --> 00:04:18.780\nAs we've been doing this.\n\n102\n00:04:18.780 --> 00:04:21.090\nAlright, so you can see we typed in\n\n103\n00:04:21.090 --> 00:04:24.070\nthe name of the machine\nthat we're going to use.\n\n104\n00:04:24.070 --> 00:04:25.460\nThe DNS name in this case.\n\n105\n00:04:25.460 --> 00:04:26.460\nJust going to click OK.\n\n106\n00:04:26.460 --> 00:04:27.480\nNow, it does come up.\n\n107\n00:04:27.480 --> 00:04:29.130\nWe'll move this over so\nyou can see the prompt here.\n\n108\n00:04:29.130 --> 00:04:30.360\nKind of side by side.\n\n109\n00:04:30.360 --> 00:04:34.830\nSo it does come up and say, hey, do you\nwant to unblock Microsoft iSCSI service to\n\n110\n00:04:34.830 --> 00:04:38.260\ncommunicate with the ISNS server\nthrough the Windows Firewall?\n\n111\n00:04:38.260 --> 00:04:39.370\nThis is important.\n\n112\n00:04:39.370 --> 00:04:42.080\nBecause this is, again,\nthe value of using the wizard, right?\n\n113\n00:04:42.080 --> 00:04:45.110\nWe have to open up a port in\nthe firewall to be able to do this.\n\n114\n00:04:45.110 --> 00:04:49.780\nWe have that logic, that capability,\niSCSI or ISNS firewall configuration for\n\n115\n00:04:49.780 --> 00:04:51.440\niSCSI already built in.\n\n116\n00:04:51.440 --> 00:04:53.160\nSo all we have to do is say yes here.\n\n117\n00:04:53.160 --> 00:04:54.670\nRight, as if you would wanna say no.\n\n118\n00:04:54.670 --> 00:04:56.150\nI often marvel sometimes.\n\n119\n00:04:56.150 --> 00:04:57.390\n&gt;&gt; Do you want this to work?\n\n120\n00:04:57.390 --> 00:04:58.270\nYes or no?\n\n121\n00:04:58.270 --> 00:05:02.180\n&gt;&gt; You can say no, but everything you\njust did is basically in vain, so yeah,\n\n122\n00:05:02.180 --> 00:05:03.050\nwe want that option.\n\n123\n00:05:03.050 --> 00:05:05.577\nThat will be importing,\ncuz maybe you didn't want to do this.\n\n124\n00:05:05.577 --> 00:05:06.352\nBut we're going to click.\n\n125\n00:05:06.352 --> 00:05:09.836\nYes, clearly, but the idea is that it's\ngonna, it being the system, is gonna\n\n126\n00:05:09.836 --> 00:05:13.380\ncreate the firewall rule force the\nexception goes through and it does that.\n\n127\n00:05:13.380 --> 00:05:16.194\nYou will notice now that we\ndo have our ISNS server here,\n\n128\n00:05:16.194 --> 00:05:19.530\naplabsa01practicelabs.com.\n\n129\n00:05:19.530 --> 00:05:22.540\nSo we were successful\nat getting that set up.\n\n130\n00:05:22.540 --> 00:05:26.631\nNow, that we've done that, we can go\nin and configure the ISNS properties.\n\n131\n00:05:26.631 --> 00:05:29.549\nWe're going to go take a look,\nwe are going to go over to the ISNS\n\n132\n00:05:29.549 --> 00:05:32.593\nserver interface on the machine\nwe just set up, the plabsa01.\n\n133\n00:05:32.593 --> 00:05:35.876\nI'm going to flip over there in\njust a minute to show that to you.\n\n134\n00:05:35.876 --> 00:05:38.663\nBut before we do,\nwe do know that we Have to\n\n135\n00:05:38.663 --> 00:05:42.900\ndo the little function there\nare move through that interface.\n\n136\n00:05:42.900 --> 00:05:44.660\nAll right, so\nwe're getting off this machine.\n\n137\n00:05:44.660 --> 00:05:47.110\nWe were on the domain control,\nlet me minimize this.\n\n138\n00:05:47.110 --> 00:05:47.830\nLet me come over here.\n\n139\n00:05:47.830 --> 00:05:50.570\nWe'll grab our SA01 machine.\n\n140\n00:05:50.570 --> 00:05:53.980\nRight there, SA01,\nwe're gonna go in now, go to Tools here.\n\n141\n00:05:55.380 --> 00:06:00.040\nAnd we will come in and you'll see ISMS\nServer right there, you could see that.\n\n142\n00:06:00.040 --> 00:06:03.850\nWe're gonna bring that up And\nlet's just open that interface up.\n\n143\n00:06:03.850 --> 00:06:06.820\nBring up our server properties,\nlet me move this over.\n\n144\n00:06:06.820 --> 00:06:08.757\nCenter that there so we can see that.\n\n145\n00:06:08.757 --> 00:06:13.733\nAll right, we have our ISSN properties and\nyou'll see here that we are gonna\n\n146\n00:06:13.733 --> 00:06:18.116\nbe able to see that we do have the IQN,\nexcuse me for the iSCSI name.\n\n147\n00:06:18.116 --> 00:06:22.355\nJust kind of move that over so you can see\nthat, and it's a little small but is plaid\n\n148\n00:06:22.355 --> 00:06:26.680\ndc 01 which Humley just connected it from\nthat we hooked up to the ISN server.\n\n149\n00:06:26.680 --> 00:06:29.620\nSo we see the reference for that there,\nif we needed to take a look,\n\n150\n00:06:29.620 --> 00:06:33.360\nwe can bring up details, it will be\na little bit easier to see most likely.\n\n151\n00:06:33.360 --> 00:06:36.590\nWe can see the detail\nof the initiator there.\n\n152\n00:06:36.590 --> 00:06:38.078\nWe can see the entity.\n\n153\n00:06:38.078 --> 00:06:39.709\nWe can see the IP address.\n\n154\n00:06:39.709 --> 00:06:40.772\nThe port that is used.\n\n155\n00:06:40.772 --> 00:06:45.367\nThis is the port 63177 that was opened\nup in the firewall when we said, hey,\n\n156\n00:06:45.367 --> 00:06:49.760\ndo you want to open up the firewall and\nestablish that rule that prompt we got,\n\n157\n00:06:49.760 --> 00:06:54.354\nin other words, was to be able to set this\nup, and to be able to access traffic with\n\n158\n00:06:54.354 --> 00:06:57.830\nthat port, and\nthat's what we're actually seeing there.\n\n159\n00:06:57.830 --> 00:06:58.330\nRight?\n\n160\n00:06:58.330 --> 00:07:00.910\nSo as a result,\nwe do see that that worked out well.\n\n161\n00:07:00.910 --> 00:07:04.380\nIt's always great when you get that\nlittle extra added advice from people,\n\n162\n00:07:04.380 --> 00:07:05.590\neven though you may not be looking for it.\n\n163\n00:07:05.590 --> 00:07:06.270\nRight, it's always good,\n\n164\n00:07:06.270 --> 00:07:09.250\nit's very helpful when that happens\nafter the fact that's good.\n\n165\n00:07:09.250 --> 00:07:11.880\nJust know that somebody's out\nthere looking out for you.\n\n166\n00:07:11.880 --> 00:07:13.250\nAll right, so we do have all of that.\n\n167\n00:07:13.250 --> 00:07:16.540\n63177 that's gonna be the port\nyou wanna make sure you're\n\n168\n00:07:16.540 --> 00:07:18.580\naware of that we use with ISNS.\n\n169\n00:07:18.580 --> 00:07:21.640\nAnd you can see it there and you see why\nwe were able to open up that firewall.\n\n170\n00:07:21.640 --> 00:07:24.110\nWe're gonna click OK there\nknowing that's there.\n\n171\n00:07:24.110 --> 00:07:27.380\nWe could go ahead we could take\na look at discovery domains.\n\n172\n00:07:27.380 --> 00:07:30.500\nWe could choose a domain if we\nneed to add one in here, and\n\n173\n00:07:30.500 --> 00:07:31.630\nwe can obviously work with those.\n\n174\n00:07:31.630 --> 00:07:33.020\nWe're not as concerned\nabout that right now.\n\n175\n00:07:33.020 --> 00:07:34.740\nJust really want to see the configuration.\n\n176\n00:07:34.740 --> 00:07:38.500\nBut setting up ISNS, as you can see,\npretty simple, pretty straightforward,\n\n177\n00:07:38.500 --> 00:07:39.300\npretty easy.\n\n178\n00:07:39.300 --> 00:07:43.022\nDoesn't quire a lot of effort and\ntime, but it is very important for\n\n179\n00:07:43.022 --> 00:07:46.831\nus to know that this is yet another\nway that we ca locate iSCSI target.\n\n180\n00:07:46.831 --> 00:07:50.427\nNow, Cherokee, help me out here,\nbecause right before we came back on,\n\n181\n00:07:50.427 --> 00:07:53.559\nbetween the two episodes,\nwe actually were talking about hey,\n\n182\n00:07:53.559 --> 00:07:57.334\nam I 100% clear on this difference\nbetween the initiator and the target?\n\n183\n00:07:57.334 --> 00:07:59.040\nYou asked me right, do I have it right?\n\n184\n00:07:59.040 --> 00:08:01.529\nIs the target this and the initiator that?\n\n185\n00:08:01.529 --> 00:08:05.019\nIt made me think about the fact that, a\nlot of times, especially if this is brand\n\n186\n00:08:05.019 --> 00:08:07.480\nnew to somebody,\nit can be a little confusing, right?\n\n187\n00:08:07.480 --> 00:08:09.799\nAnd maybe, it may take more than\none time to get it right, and\n\n188\n00:08:09.799 --> 00:08:10.900\nmake sure we understand it.\n\n189\n00:08:10.900 --> 00:08:12.090\nWe did I think, hopefully,\n\n190\n00:08:12.090 --> 00:08:14.728\na pretty good thorough job\nexplaining it in the prior episode.\n\n191\n00:08:14.728 --> 00:08:17.980\nBut haven't really mentioned [INAUDIBLE],\njust kinda taking it for granted, and\n\n192\n00:08:17.980 --> 00:08:20.114\nthrown those terms around\nthat we know what they are.\n\n193\n00:08:20.114 --> 00:08:22.784\nSo maybe we should quickly review\nwhat a target or an initiator is.\n\n194\n00:08:22.784 --> 00:08:26.680\nWe're talking about different ways we\ncan locate ice, cuz it targets here.\n\n195\n00:08:26.680 --> 00:08:27.940\nAnd locating, can we actually go back?\n\n196\n00:08:27.940 --> 00:08:29.610\nWe need to be on full screen\nto do this real quick.\n\n197\n00:08:29.610 --> 00:08:30.190\nThank you.\n\n198\n00:08:30.190 --> 00:08:34.300\nWe need to think about\nthe concept of the target, and or\n\n199\n00:08:34.300 --> 00:08:36.010\nthe concept of the initiator.\n\n200\n00:08:36.010 --> 00:08:40.611\nAnd when we're talking about\nthe initiator, you can see it right here,\n\n201\n00:08:40.611 --> 00:08:41.673\nthe initiator.\n\n202\n00:08:41.673 --> 00:08:45.507\nThe initiator is going to be\nthe connection that we are using from\n\n203\n00:08:45.507 --> 00:08:49.010\nthe machine that wants to\naccess the storage, right?\n\n204\n00:08:49.010 --> 00:08:51.250\nI'm initiating the request for storage.\n\n205\n00:08:51.250 --> 00:08:54.970\nI wanna be able to access the storage,\nand that's the initiator, right?\n\n206\n00:08:54.970 --> 00:08:58.830\nWe're using that to go out across the\nstorage network, whatever that path is.\n\n207\n00:08:58.830 --> 00:09:01.920\nAnd we're gonna connect out,\nin this case, to some sort of a target.\n\n208\n00:09:01.920 --> 00:09:04.630\nThat's where the other part of\nthis conversation comes from.\n\n209\n00:09:04.630 --> 00:09:05.170\n&gt;&gt; Makes sense, yes.\n\n210\n00:09:05.170 --> 00:09:05.877\n&gt;&gt; iSCSI target.\n\n211\n00:09:05.877 --> 00:09:09.150\nSo we're initiating a request, and\nwe're focusing on the target, and\n\n212\n00:09:09.150 --> 00:09:10.800\nthe target is the endpoint.\n\n213\n00:09:10.800 --> 00:09:14.978\nIf I'm the host and I want to see storage,\nI initiate the request and I say, hey,\n\n214\n00:09:14.978 --> 00:09:17.943\nI'd like to connect to that\ntarget where the storage is.\n\n215\n00:09:17.943 --> 00:09:21.081\nAnd we're tied by different ways,\ndifferent approaches,\n\n216\n00:09:21.081 --> 00:09:22.752\nthere are four of them overall.\n\n217\n00:09:22.752 --> 00:09:25.939\nThat we can use to be able to go in and\nset up these connections, or\n\n218\n00:09:25.939 --> 00:09:27.068\nmake these requests.\n\n219\n00:09:27.068 --> 00:09:29.901\nYou saw, we can use set and\ntargets, we talked about that.\n\n220\n00:09:29.901 --> 00:09:34.830\nYou just saw set up, the ISNS,\nthe Internet Storage Name Service, and\n\n221\n00:09:34.830 --> 00:09:36.100\nconfigure it.\n\n222\n00:09:36.100 --> 00:09:37.585\nYou kinda saw that here.\n\n223\n00:09:37.585 --> 00:09:40.540\nWe can usually go in,\nalthough we don't often do it.\n\n224\n00:09:40.540 --> 00:09:43.460\nBut we could manually configure that\nkinda walk through the logic of that,\n\n225\n00:09:43.460 --> 00:09:45.630\nas well, can put in the information.\n\n226\n00:09:45.630 --> 00:09:48.100\nOr we could do what's\ncalled HBA discovery.\n\n227\n00:09:48.100 --> 00:09:53.340\nRemember, the HBA is the iSCSI dedicated\nhardware initiator on the host, right?\n\n228\n00:09:53.340 --> 00:09:58.240\nThe machine, or the entry that wants to\naccess storage that initiates the request,\n\n229\n00:09:58.240 --> 00:10:02.570\ncan have a software initiator,\nor a hardware solution.\n\n230\n00:10:02.570 --> 00:10:06.400\nHBA, Host Bus Adaptor,\nis gonna be that SCSI or\n\n231\n00:10:06.400 --> 00:10:09.770\niSCSI initiator on the host\nthat wants to make the request.\n\n232\n00:10:09.770 --> 00:10:14.520\nWe could do the HBA configuration, the HB\nhas it's own interface, traditionally.\n\n233\n00:10:14.520 --> 00:10:16.188\nWe call it HBA Discovery.\n\n234\n00:10:16.188 --> 00:10:19.259\nAnd that would be another method, or\nmechanism that would be available to us,\n\n235\n00:10:19.259 --> 00:10:20.012\nthat we could use.\n\n236\n00:10:20.012 --> 00:10:22.224\nSo just wanna make sure\nwe're aware of that.\n\n237\n00:10:22.224 --> 00:10:25.560\nAnd that we can think about the fact\nthat that would be the case, and\n\n238\n00:10:25.560 --> 00:10:27.299\nwe could use that, if necessary.\n\n239\n00:10:27.299 --> 00:10:28.656\nAll right so, having said that,\n\n240\n00:10:28.656 --> 00:10:31.719\none other thing we wanna take a look\nat here real quick, while we're here.\n\n241\n00:10:32.860 --> 00:10:36.670\nWe go in speaking of iSCSI initiator,\nsince we are in the same place.\n\n242\n00:10:36.670 --> 00:10:39.932\nMight as well as just pull that interface\nback up real quick and take a look.\n\n243\n00:10:39.932 --> 00:10:42.730\nSo we were talking about\nthese different approaches.\n\n244\n00:10:42.730 --> 00:10:46.554\nBut there's also one other thing that we\nwanna just go through and take a look at.\n\n245\n00:10:46.554 --> 00:10:49.830\nWe can go in aside from\nsetting up the IQN as we did,\n\n246\n00:10:49.830 --> 00:10:53.742\nand having the ability to be\nable to go in, and work with it.\n\n247\n00:10:53.742 --> 00:10:57.815\nWe did discovery here, we did add\nour ISNS on the other server seal,\n\n248\n00:10:57.815 --> 00:10:59.255\nsee that where we were.\n\n249\n00:10:59.255 --> 00:11:02.580\nWe do have the ability to go in,\nand to work with, and\n\n250\n00:11:02.580 --> 00:11:06.374\nwe talk about the state of\ntargets volumes and devices etc.\n\n251\n00:11:06.374 --> 00:11:11.351\nBut if we go back in here and\nwe go in to Properties, we can,\n\n252\n00:11:11.351 --> 00:11:14.510\nlet me just see if I can pull this up.\n\n253\n00:11:14.510 --> 00:11:16.430\nWe're actually, I'll pull it over here.\n\n254\n00:11:16.430 --> 00:11:18.700\nProbably a little bit better\nthan trying to pull it up.\n\n255\n00:11:18.700 --> 00:11:20.610\nCuz can't really make it any bigger, but\n\n256\n00:11:20.610 --> 00:11:22.590\nI can just move it over\nto the other side here.\n\n257\n00:11:22.590 --> 00:11:24.480\nSo we can kind see this side by side.\n\n258\n00:11:24.480 --> 00:11:26.790\nWanted to just quickly talk\nabout this idea of MCS,\n\n259\n00:11:26.790 --> 00:11:31.270\nthe Multiple Connected Session\nconfiguration right down here.\n\n260\n00:11:31.270 --> 00:11:32.510\nAnd then should MPIO,\n\n261\n00:11:32.510 --> 00:11:36.020\nas well, which was in one of the other\ntabs that we looked at before.\n\n262\n00:11:36.020 --> 00:11:39.250\nThese are different ways that we can\nconfigure high availability for iSCSI.\n\n263\n00:11:39.250 --> 00:11:42.800\nAnd so, we just wanna make sure that we're\nthinking about some of the additional\n\n264\n00:11:42.800 --> 00:11:45.490\nthoughts that go into planning for iSCSI.\n\n265\n00:11:45.490 --> 00:11:48.942\nCherokee brought up a great point in our\nfirst or second episode around iSCSI,\n\n266\n00:11:48.942 --> 00:11:51.569\nwhere at a certain point,\nwe were talking through things.\n\n267\n00:11:51.569 --> 00:11:54.540\nAnd we talked about hey,\ndo we have to plan for iSCSI?\n\n268\n00:11:54.540 --> 00:11:56.520\nOr is it just something we\nkind of jump in and do?\n\n269\n00:11:56.520 --> 00:11:58.870\nWe'll talk about the fact we\nhave to do some planning, right?\n\n270\n00:11:58.870 --> 00:12:01.866\nWe need to understand that there's\niSCSI storage being mounted.\n\n271\n00:12:01.866 --> 00:12:05.020\nWe went through that whole thought\nprocess, talked about how that would work.\n\n272\n00:12:05.020 --> 00:12:09.220\nAnd we talked about the need to plan to\nmount the storage, make it available.\n\n273\n00:12:09.220 --> 00:12:10.510\nSet up a storage network, all that.\n\n274\n00:12:10.510 --> 00:12:13.360\nBut one of the things we also have\nto plan for is high availability.\n\n275\n00:12:13.360 --> 00:12:16.520\nIt's great when things are just there, and\nthey work the way they're supposed to.\n\n276\n00:12:16.520 --> 00:12:19.030\nIt's a problem,\nwhen we have a single point of failure,\n\n277\n00:12:19.030 --> 00:12:20.660\nwhat we call an SPoF, right?\n\n278\n00:12:20.660 --> 00:12:24.120\nAnd that single point of failure\ntypically, is our storage path, or\n\n279\n00:12:24.120 --> 00:12:25.940\nthe access to that storage path.\n\n280\n00:12:25.940 --> 00:12:29.745\nMany times when we talk about storage,\nmeaning the network connection and or\n\n281\n00:12:29.745 --> 00:12:33.324\nthe path the network itself,\ncan often be that single point of failure.\n\n282\n00:12:33.324 --> 00:12:36.305\nAnd because of that we wanna double up or\ndouble down,\n\n283\n00:12:36.305 --> 00:12:39.035\ndepending on your\nperspective on connections.\n\n284\n00:12:39.035 --> 00:12:42.092\nSo you typically, wanna have more\nthan one network card coming in and\n\n285\n00:12:42.092 --> 00:12:43.367\nout of the storage systems.\n\n286\n00:12:43.367 --> 00:12:45.388\nSo more than one storage processor,\n\n287\n00:12:45.388 --> 00:12:48.265\nmore than one target available\non the storage side.\n\n288\n00:12:48.265 --> 00:12:52.121\nMore than one initiator, more than\none HBA, or software interface for\n\n289\n00:12:52.121 --> 00:12:56.114\nnetwork connectivity on the host\nthat's requesting access to storage.\n\n290\n00:12:56.114 --> 00:12:59.691\nAnd we probably also wanna make\nsure we use protocols, and\n\n291\n00:12:59.691 --> 00:13:03.201\nwe use path management\ncapabilities that are scalable.\n\n292\n00:13:03.201 --> 00:13:07.589\nThat give us flexibility and reliability,\nso that way, we can load balance, and\n\n293\n00:13:07.589 --> 00:13:08.553\nwe can fill over.\n\n294\n00:13:08.553 --> 00:13:10.735\nAnd do all the things we need to for\nhigh availability.\n\n295\n00:13:10.735 --> 00:13:12.580\nVery important for us to think about that.\n\n296\n00:13:12.580 --> 00:13:15.104\nSo, MCS, right,\nMultiple Connected Sessions,\n\n297\n00:13:15.104 --> 00:13:16.815\nis one of the ways we could do that.\n\n298\n00:13:16.815 --> 00:13:19.635\nIf we could go back to full screen,\nI'm kinda hovering right on the top.\n\n299\n00:13:19.635 --> 00:13:21.414\n[LAUGH] But\nwhat I'm trying to point out here.\n\n300\n00:13:21.414 --> 00:13:24.764\nSo, you'll see we get additional\nconnections to a session, or\n\n301\n00:13:24.764 --> 00:13:26.197\nconfigure the MCS policy.\n\n302\n00:13:26.197 --> 00:13:30.480\nWe click here, and so what MCS is gonna\ndo, it's a iSCSI protocol feature.\n\n303\n00:13:30.480 --> 00:13:34.628\nSo, it's part of the iSCSI initiator,\nwhich is why we're accessing it here.\n\n304\n00:13:34.628 --> 00:13:39.510\nEnables multiple TCPIP session connections\nfrom the Initiator out to the target for\n\n305\n00:13:39.510 --> 00:13:40.740\nthe same session.\n\n306\n00:13:40.740 --> 00:13:42.540\nIt's almost like we're creating a right?\n\n307\n00:13:42.540 --> 00:13:45.130\nWe're gonna have multiple connections out,\nand therefore,\n\n308\n00:13:45.130 --> 00:13:49.300\nwe're gonna spread our capabilities in\nterms of connectivity and load balance.\n\n309\n00:13:49.300 --> 00:13:51.021\nAnd make it easier for us to do that.\n\n310\n00:13:51.021 --> 00:13:54.384\nAnd as a result, in addition,\nalso supports automatic failover,\n\n311\n00:13:54.384 --> 00:13:56.930\nwhich is gonna give us\nthe additional capability.\n\n312\n00:13:56.930 --> 00:14:00.520\nJust like a team, making sure we're\nconnected regardless of what's happening,\n\n313\n00:14:00.520 --> 00:14:03.250\nas long as at least one\ninterface is up and running.\n\n314\n00:14:03.250 --> 00:14:07.635\nThe key with MCS is that iSCSI\nSAN providers must support it.\n\n315\n00:14:07.635 --> 00:14:10.355\nSo its nice for us to just click here and\nsay, I wanna configure it, and\n\n316\n00:14:10.355 --> 00:14:11.875\nwe'll just take a look here real quick.\n\n317\n00:14:11.875 --> 00:14:14.315\nBut the problem becomes,\nand I'll move this over, so\n\n318\n00:14:14.315 --> 00:14:17.305\nyou could see what we're doing while\nwe have the property screen open.\n\n319\n00:14:17.305 --> 00:14:22.095\nSo, we clicked here, and now we're sitting\nover here on multiple connected sessions.\n\n320\n00:14:22.095 --> 00:14:25.708\nThe problem here, not problem, but\njust the issue you gotta be aware of,\n\n321\n00:14:25.708 --> 00:14:29.046\nis that MCS requires explicit\nsupport from the hardware provider.\n\n322\n00:14:29.046 --> 00:14:31.781\nIf the SAN provider,\nthe people that make the hard drives, and\n\n323\n00:14:31.781 --> 00:14:34.230\nthe storage where you're\nusing on the back end.\n\n324\n00:14:34.230 --> 00:14:37.831\nIf they don't support MCS,\nif it's a specific hardware solution,\n\n325\n00:14:37.831 --> 00:14:39.329\nyou won't be able to use it.\n\n326\n00:14:39.329 --> 00:14:42.390\nNow Microsoft supports it, so\nif you're using a Microsoft system,\n\n327\n00:14:42.390 --> 00:14:46.060\nlike a file server on the back end\nthat provides storage, no big deal.\n\n328\n00:14:46.060 --> 00:14:46.835\nWe're good.\n\n329\n00:14:46.835 --> 00:14:51.283\nBut, if you're using Dell EqualLogic SAN,\nor Hitachi, or\n\n330\n00:14:51.283 --> 00:14:54.260\nFujitsu, or whoever the vendor may be.\n\n331\n00:14:54.260 --> 00:14:56.680\nYou would have to make sure\nthat that vendor supports and\n\n332\n00:14:56.680 --> 00:15:00.350\nimplements MCS, before you can just\nsimply configure and expect it to work.\n\n333\n00:15:00.350 --> 00:15:03.120\nSo, I just wanna make sure you're aware\nof that, and just thinking about that.\n\n334\n00:15:04.180 --> 00:15:07.480\nBut you could see, we could easily\nsetup and configure MCS here.\n\n335\n00:15:07.480 --> 00:15:10.710\nWe do have different policies that\nare available, failover only, round robin,\n\n336\n00:15:10.710 --> 00:15:17.050\nround robin with a subset,\nleast Q depth, and or waited paths.\n\n337\n00:15:17.050 --> 00:15:20.687\nSo there's different approaches based\non the kind of configuration we want.\n\n338\n00:15:20.687 --> 00:15:24.515\nSome vendors will specify certain\npolicies, or appropriate based on the kind\n\n339\n00:15:24.515 --> 00:15:27.947\nof workload you're doing, or\nthe kind of hardware you're running.\n\n340\n00:15:27.947 --> 00:15:31.183\nCertain ones may only be used if\nthe vendor supports that particular\n\n341\n00:15:31.183 --> 00:15:32.100\nimplementation.\n\n342\n00:15:32.100 --> 00:15:35.970\nSo there's definitely some additional\nthings we'd have to be aware of here.\n\n343\n00:15:35.970 --> 00:15:38.510\nSome questioning, and\nthen a little bit of due diligence.\n\n344\n00:15:38.510 --> 00:15:41.460\nWe'd have to engage and to ensure we\nare setting this up the right way.\n\n345\n00:15:41.460 --> 00:15:44.930\nBut having said that,\nwe can obviously provide for\n\n346\n00:15:44.930 --> 00:15:47.359\nthis multipath support using MCS.\n\n347\n00:15:47.359 --> 00:15:50.260\nAnd it would give us high availability and\nautomated failover.\n\n348\n00:15:50.260 --> 00:15:52.155\nVery important for\nus to be thinking about that.\n\n349\n00:15:52.155 --> 00:15:56.284\nSo, we configure that here,\nit is configured on the targets tab,\n\n350\n00:15:56.284 --> 00:15:59.328\non the properties of\nthe initiator in question.\n\n351\n00:15:59.328 --> 00:16:03.031\nJust to know where to go to find that\ninformation To ensure you're familiar with\n\n352\n00:16:03.031 --> 00:16:05.590\nwhat we're doing, so\nwe highlighted the initiator.\n\n353\n00:16:06.860 --> 00:16:10.010\nWhatever that initiator is,\nwe went to the Properties.\n\n354\n00:16:10.010 --> 00:16:12.500\nAnd on the Properties tab,\nwe just simply see it down there.\n\n355\n00:16:12.500 --> 00:16:16.440\nSo case you're asked about, hey, where do\nI go to find it, how do I configure it?\n\n356\n00:16:16.440 --> 00:16:17.120\nYou know where to go.\n\n357\n00:16:17.120 --> 00:16:18.850\nWill be important to know that.\n\n358\n00:16:18.850 --> 00:16:22.542\nWouldn't expect to see vendor specific\nquestions about MCS on the exam.\n\n359\n00:16:22.542 --> 00:16:25.030\nRemember, Microsoft's\nnot a hardware company.\n\n360\n00:16:25.030 --> 00:16:26.750\nWe're not in the business\nof making storage arrays,\n\n361\n00:16:26.750 --> 00:16:28.570\nthat's not what we do, right?\n\n362\n00:16:28.570 --> 00:16:32.540\nWhat Microsoft does, we specifically\nare designing operating systems and\n\n363\n00:16:32.540 --> 00:16:34.360\nall the bells and\nwhistles that go with them.\n\n364\n00:16:34.360 --> 00:16:38.460\nAs a result, what we may ask\nyou on an exam about MCS and\n\n365\n00:16:38.460 --> 00:16:40.922\nhow you go through\nthe process of finding it.\n\n366\n00:16:40.922 --> 00:16:43.270\nHey, know it's a property\nof the initiator.\n\n367\n00:16:43.270 --> 00:16:45.190\nWe're not gonna ask you about\nwhat that policy is and\n\n368\n00:16:45.190 --> 00:16:47.860\nhow it's configured, cause it's totally\nrelying on the vendor's support.\n\n369\n00:16:47.860 --> 00:16:50.400\nJust doesn't really matter,\nnot something you would see.\n\n370\n00:16:50.400 --> 00:16:53.600\nJust wanna make sure you know what level\nto focus at is what I'm suggesting to you,\n\n371\n00:16:53.600 --> 00:16:56.120\nwith regards to information\nabout that would be helpful,\n\n372\n00:16:56.120 --> 00:16:58.370\njust to make sure we\nare familiar with that.\n\n373\n00:16:58.370 --> 00:17:01.085\nAll right, let me just hide the task\nbar here while we're talking,\n\n374\n00:17:01.085 --> 00:17:03.530\ncuz like that never has to happen, right?\n\n375\n00:17:03.530 --> 00:17:05.020\nAll right, so we have that here.\n\n376\n00:17:05.020 --> 00:17:09.540\nAnd then, in addition to talking about\nthat, we have something else called MPIOI.\n\n377\n00:17:09.540 --> 00:17:12.870\nI pointed it out to you in the last\ndiscussion of the last show, as well.\n\n378\n00:17:12.870 --> 00:17:15.487\nSo I wanted to quickly mention it,\njust to talk about it quickly.\n\n379\n00:17:15.487 --> 00:17:18.332\nAlso provides redundancy,\nit is another high availability option.\n\n380\n00:17:18.332 --> 00:17:21.755\nLittle bit different than the idea of\nthe MCS that we were just talking about.\n\n381\n00:17:21.755 --> 00:17:25.082\nIf we have multiple network interfaces,\nsome multiple network cards, for\n\n382\n00:17:25.082 --> 00:17:28.860\nthe iSCSI initiator in the target\nserver like I suggested, right,\n\n383\n00:17:28.860 --> 00:17:30.610\ncreating multiple paths for fail over.\n\n384\n00:17:30.610 --> 00:17:32.800\nWe can use MPIO to provide failover and\n\n385\n00:17:32.800 --> 00:17:36.740\nredundancy during outages by\nfailing over to a different path.\n\n386\n00:17:36.740 --> 00:17:40.680\nSo we have multiple path IO,\nwhich is what MPIO stands for.\n\n387\n00:17:40.680 --> 00:17:44.780\nAllows us to be able to load and provide\nthose paths, and then obviously manage and\n\n388\n00:17:44.780 --> 00:17:47.190\ncontrol them with an automated\nfailover solution.\n\n389\n00:17:47.190 --> 00:17:49.140\nSo we do have capabilities there.\n\n390\n00:17:49.140 --> 00:17:53.740\nIt is more complex to set up MPIO\nthan it is to work with MCS, so\n\n391\n00:17:53.740 --> 00:17:55.180\njust be aware of that.\n\n392\n00:17:55.180 --> 00:17:57.690\nAnd it's not necessarily\nas fully automated,\n\n393\n00:17:57.690 --> 00:18:00.840\nthe MPIO failover,\nas the MCS failover would be.\n\n394\n00:18:00.840 --> 00:18:03.610\nIt is automated but\nnot as fully automated.\n\n395\n00:18:03.610 --> 00:18:05.310\nThe MCS, it's a nice solution,\n\n396\n00:18:05.310 --> 00:18:08.540\nbecause the vendor tends to have the\ncapability to manage most of that force.\n\n397\n00:18:08.540 --> 00:18:12.945\nAnd through offload, the vendor-specific\nsupport makes it easier to work with.\n\n398\n00:18:12.945 --> 00:18:14.650\nMPIO is more of a generic.\n\n399\n00:18:14.650 --> 00:18:18.280\nHey, if the vendor doesn't support MCS,\nuse MPIO.\n\n400\n00:18:18.280 --> 00:18:21.910\nBut, it's not as full-featured, so just\nbe aware of that and the logic of that.\n\n401\n00:18:21.910 --> 00:18:23.880\nBut, we can support and\nconfigure either one.\n\n402\n00:18:23.880 --> 00:18:27.450\nSo it's up to us to decide how we're gonna\nset that up and how we're gonna use that.\n\n403\n00:18:27.450 --> 00:18:29.450\nYou look like you're dying\nto ask a question, Cherokee.\n\n404\n00:18:29.450 --> 00:18:31.160\nYou have that look about you.\n\n405\n00:18:31.160 --> 00:18:33.380\nNo, I just think it's a pretty\ncool option to have here.\n\n406\n00:18:33.380 --> 00:18:35.950\nI personally have never\nconfigured either one of those.\n\n407\n00:18:35.950 --> 00:18:40.250\nAnd having that additional capability for\nredundancy there, yeah.\n\n408\n00:18:40.250 --> 00:18:42.290\nI just think it's a cool topic.\n\n409\n00:18:42.290 --> 00:18:43.910\nKind of like you said, you compared it to,\n\n410\n00:18:43.910 --> 00:18:47.940\nwith our NIC aggregation, NIC teaming,\nNIC bonding, or whatever.\n\n411\n00:18:47.940 --> 00:18:49.550\nAnd so that has a great benefits too.\n\n412\n00:18:49.550 --> 00:18:53.065\nSo I could see how, in a high availability\nsituation, this will be perfect.\n\n413\n00:18:53.065 --> 00:18:55.970\n[LAUGH]\n&gt;&gt; Perfect.\n\n414\n00:18:55.970 --> 00:18:57.000\n&gt;&gt; Super.\n&gt;&gt; Super awesome,\n\n415\n00:18:57.000 --> 00:18:58.160\nI love that, that's great.\n\n416\n00:18:58.160 --> 00:19:00.140\nIt's like Valley Girls back in the 1980s.\n\n417\n00:19:00.140 --> 00:19:01.535\nAnother movie you\nprobably have never seen.\n\n418\n00:19:01.535 --> 00:19:02.895\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, anyway.\n\n419\n00:19:02.895 --> 00:19:04.900\nSo actually, what's his name was in that.\n\n420\n00:19:04.900 --> 00:19:06.187\nOne of the first movies he was in.\n\n421\n00:19:06.187 --> 00:19:07.750\nWhat's the actor's name?\n\n422\n00:19:07.750 --> 00:19:08.660\nNicholas Cage.\n\n423\n00:19:08.660 --> 00:19:09.381\n&gt;&gt; Interesting.\n&gt;&gt; He was in that,\n\n424\n00:19:09.381 --> 00:19:10.740\none of the very first movies he was in.\n\n425\n00:19:10.740 --> 00:19:13.210\nYeah, Valley Girls, good movie.\n\n426\n00:19:13.210 --> 00:19:13.896\nAll right, so anyway.\n\n427\n00:19:13.896 --> 00:19:15.170\nSo definitely important to think about.\n\n428\n00:19:15.170 --> 00:19:18.550\nWe also talked about a lot of best\npractices, just by walking through and\n\n429\n00:19:18.550 --> 00:19:19.630\ndiscussing things along the way.\n\n430\n00:19:19.630 --> 00:19:22.020\nI thought it would be a good idea\njust to wrap some of those back up,\n\n431\n00:19:22.020 --> 00:19:25.020\nsummarize them for you here just\nbefore we move off the topic.\n\n432\n00:19:25.020 --> 00:19:28.060\nEspecially with regards to one of\nthe things you want to know from a little\n\n433\n00:19:28.060 --> 00:19:29.610\ngeek trivia perspective.\n\n434\n00:19:29.610 --> 00:19:33.570\nSo going back to Server 2008 R2,\nif we were doing this with iSCSI,\n\n435\n00:19:33.570 --> 00:19:36.930\nwe would actually have had the storage\nexplorer snap in available for\n\n436\n00:19:36.930 --> 00:19:38.930\nan MMC to manage storage specifically.\n\n437\n00:19:38.930 --> 00:19:41.490\nIt's no longer available for\nin 12 R2, it's been removed.\n\n438\n00:19:41.490 --> 00:19:45.400\nAnd as a result, we have to go in and\nmanage through the iSCSI initiator and\n\n439\n00:19:45.400 --> 00:19:47.250\ndifferent interfaces in the Tools menu.\n\n440\n00:19:47.250 --> 00:19:49.900\nBut we don't have that all in\none storage explorer anymore.\n\n441\n00:19:49.900 --> 00:19:52.710\nMay be a little point of contention for\nyou on the exam to know that.\n\n442\n00:19:52.710 --> 00:19:57.970\nBeen removed in 12 R2 in favor of\nNot only additional tool sets and\n\n443\n00:19:57.970 --> 00:19:58.820\nmanagement through there.\n\n444\n00:19:58.820 --> 00:20:02.340\nBut obviously pushing us a little bit more\ntowards management through PowerShell.\n\n445\n00:20:02.340 --> 00:20:04.910\nWe do have a lot of commandlets that could\nbe used to manage these capabilities.\n\n446\n00:20:04.910 --> 00:20:06.340\nSo just thinking about that and\n\n447\n00:20:06.340 --> 00:20:08.800\nknowing that that's the case\nmay be of interest to you.\n\n448\n00:20:08.800 --> 00:20:12.550\nWe talked about the idea around or\nideas around security here.\n\n449\n00:20:12.550 --> 00:20:13.560\nWe talked about using SHAP for\n\n450\n00:20:13.560 --> 00:20:16.110\nauthentication, showed\nyou how we could do that.\n\n451\n00:20:16.110 --> 00:20:20.870\nSeparating and segregating the iSCSI SAN\nchannel traffic into different paths,\n\n452\n00:20:20.870 --> 00:20:24.550\nwe just kind of talked about that, would\nbe helpful, just thinking about that.\n\n453\n00:20:24.550 --> 00:20:28.510\nIn general, securing access to management\nconsoles like this as a standing rule of\n\n454\n00:20:28.510 --> 00:20:29.548\nthumb, is always a good idea.\n\n455\n00:20:29.548 --> 00:20:33.995\nServer Manager is a very powerful tool\non any server that it's used on or\n\n456\n00:20:33.995 --> 00:20:34.630\npointed to.\n\n457\n00:20:34.630 --> 00:20:38.380\nAnd it gives access to any and all\nfunctionality there, restricting access to\n\n458\n00:20:38.380 --> 00:20:42.050\nthat physically and logically,\nboth not letting people get to the server.\n\n459\n00:20:42.050 --> 00:20:44.210\nBut also from an access\ncontrol standpoint,\n\n460\n00:20:44.210 --> 00:20:47.500\npermissions, removing their ability\nto use that would be helpful.\n\n461\n00:20:47.500 --> 00:20:48.805\nYou want to think about that as well.\n\n462\n00:20:48.805 --> 00:20:50.020\nYes?\n\n463\n00:20:50.020 --> 00:20:51.560\n&gt;&gt; Coming back to the multi-path,\nthough, and\n\n464\n00:20:51.560 --> 00:20:54.760\nyou just mentioned it from\na security standpoint.\n\n465\n00:20:54.760 --> 00:21:00.250\nAnd in my brain, I'm kind of likening it\nto routing and choosing multiple paths.\n\n466\n00:21:00.250 --> 00:21:01.180\nAnd I'm just kind of curious.\n\n467\n00:21:01.180 --> 00:21:05.120\nCan we set a precedent there almost\nlike setting a static route for\n\n468\n00:21:05.120 --> 00:21:06.370\nsecurity purposes?\n\n469\n00:21:06.370 --> 00:21:08.530\nOr would it be more along the lines of,\n\n470\n00:21:08.530 --> 00:21:11.900\nhey, there's better bandwidth here,\nso I'm gonna go this particular path.\n\n471\n00:21:11.900 --> 00:21:14.540\n&gt;&gt; You're talking about setting a path\n\n472\n00:21:14.540 --> 00:21:18.830\npreference from a security standpoint\nversus a bandwidth management standpoint?\n\n473\n00:21:18.830 --> 00:21:20.180\n&gt;&gt; Yeah, like it could be.\n&gt;&gt; So like an.\n\n474\n00:21:20.180 --> 00:21:23.090\n&gt;&gt; So\nwe don't traditionally think of setting\n\n475\n00:21:23.090 --> 00:21:25.890\npaths from that perspective that way.\n\n476\n00:21:25.890 --> 00:21:29.670\nWe talk about, in storage, overall,\nsomething called zoning and masking.\n\n477\n00:21:29.670 --> 00:21:31.241\nTwo terms we often talk about and\n\n478\n00:21:31.241 --> 00:21:34.360\nhear about in storage,\nin multi tenant environments.\n\n479\n00:21:34.360 --> 00:21:36.745\nCloud environments,\nvirtualized environments, for instance,\n\n480\n00:21:36.745 --> 00:21:38.330\nthis becomes very important.\n\n481\n00:21:38.330 --> 00:21:41.090\nIn single provider environments,\neven if you're doing cloud, let's say,\n\n482\n00:21:41.090 --> 00:21:41.860\nhypothetically.\n\n483\n00:21:41.860 --> 00:21:43.568\nBut you're doing private OnPrem clouds.\n\n484\n00:21:43.568 --> 00:21:45.060\nSo you're hosting your\nown cloud environment.\n\n485\n00:21:45.060 --> 00:21:46.430\nYou don't really care,\nlet's say, necessarily,\n\n486\n00:21:46.430 --> 00:21:48.240\nabout other people interacting.\n\n487\n00:21:48.240 --> 00:21:51.020\nWe wouldn't really be too concerned\nabout that, for the most part.\n\n488\n00:21:51.020 --> 00:21:55.050\nThere are business cases where maybe\none department needs dedicated\n\n489\n00:21:55.050 --> 00:21:57.550\nsecurity controlled\naccess to storage paths,\n\n490\n00:21:57.550 --> 00:21:59.630\nbecause there is proprietary\nsensitive information.\n\n491\n00:21:59.630 --> 00:22:03.070\nI have a lot of clients in\nthe biopharmaceutical industry.\n\n492\n00:22:03.070 --> 00:22:08.040\nSo those kind of industries where it's\na lot of proprietary information.\n\n493\n00:22:08.040 --> 00:22:12.210\nDrug recipes and all sorts of\nstuff that would be valuable IP\n\n494\n00:22:12.210 --> 00:22:15.370\nthat is in certain areas of the company,\nbut may not be widely shared.\n\n495\n00:22:15.370 --> 00:22:18.792\nBecause of the concern about\nindustrial espionage, things like that.\n\n496\n00:22:18.792 --> 00:22:21.216\nSo there's definitely reasons why\nwe would do what you're suggesting,\n\n497\n00:22:21.216 --> 00:22:22.480\nthere's no doubt about it.\n\n498\n00:22:22.480 --> 00:22:25.170\nBut it's typically seen\n\n499\n00:22:25.170 --> 00:22:29.210\npredominantly in multi tenant cloud\nenvironments where we would do this.\n\n500\n00:22:29.210 --> 00:22:32.150\nBut zoning and masking would be\nthe concepts you're asking about.\n\n501\n00:22:32.150 --> 00:22:35.360\nAnd we would use, and there certainly\nare ways to do this based on\n\n502\n00:22:35.360 --> 00:22:38.280\nwhat the properties or\ncapabilities of the initiator.\n\n503\n00:22:38.280 --> 00:22:42.890\nAnd in other words, the storage providers,\nnetwork interfaces, both target.\n\n504\n00:22:42.890 --> 00:22:44.340\nAnd the initiator on the host R.\n\n505\n00:22:45.390 --> 00:22:47.390\nCHAP is typically one of\nthe things we would do.\n\n506\n00:22:47.390 --> 00:22:50.920\nSo we would set up a path with\nsome sort of authentication.\n\n507\n00:22:50.920 --> 00:22:55.810\nAnd then say this path is dedicated to\nthese VMs, or this storage access for\n\n508\n00:22:55.810 --> 00:22:57.940\nthis group or this individual,\n\n509\n00:22:57.940 --> 00:23:00.860\nbecause they can authenticate in there for\nuse it, so it's secure.\n\n510\n00:23:00.860 --> 00:23:04.070\nWhereas other traffic that doesn't have to\nbe authenticated may go to different data\n\n511\n00:23:04.070 --> 00:23:06.530\nsources, would be mounted,\nmaybe, without that.\n\n512\n00:23:06.530 --> 00:23:10.880\nSo, we definitely could see reasons why or\nexamples of how we would do it.\n\n513\n00:23:10.880 --> 00:23:12.060\nSo, yeah, absolutely.\n\n514\n00:23:12.060 --> 00:23:14.060\nBut we would refer to it\ngenerically as zoning and masking,\n\n515\n00:23:14.060 --> 00:23:15.520\nthose are the terms we use.\n\n516\n00:23:15.520 --> 00:23:18.030\nAnd one of the ways to do it,\nlike I described would be,\n\n517\n00:23:18.030 --> 00:23:21.154\nhey let's initiate CHAP on certain\nconnectors but maybe not others.\n\n518\n00:23:21.154 --> 00:23:23.767\nOkay.\nOr perhaps IPsec authentication,\n\n519\n00:23:23.767 --> 00:23:26.490\nanother option we have,\nwe didn't really explore that much.\n\n520\n00:23:26.490 --> 00:23:31.220\nBut IPsec authentication and/or\nIPsec encryption, made reference.\n\n521\n00:23:31.220 --> 00:23:32.400\n&gt;&gt; Makes sense, yeah.\n&gt;&gt; We could use IPsec.\n\n522\n00:23:32.400 --> 00:23:34.160\nSo its a little bit stronger than CHAP,\nright?\n\n523\n00:23:34.160 --> 00:23:35.700\nGives you more capabilities.\n\n524\n00:23:35.700 --> 00:23:38.150\nI think, at some point,\nwe mentioned that we could see it there.\n\n525\n00:23:38.150 --> 00:23:40.410\nWe did talk about it,\nwe're setting up the initiation.\n\n526\n00:23:40.410 --> 00:23:43.270\nOr rather setting up the storage\narray on the domain controller.\n\n527\n00:23:43.270 --> 00:23:46.360\nAnd we provided for the services,\nkind of walk through the whole thing.\n\n528\n00:23:46.360 --> 00:23:48.310\nI think I pointed out,\nat some point, IPsec was there,\n\n529\n00:23:48.310 --> 00:23:49.950\neven though we chose not to use it.\n\n530\n00:23:49.950 --> 00:23:54.076\nAnd we could use IPSec as a further drill\ndown to provide a path that's more secure.\n\n531\n00:23:54.076 --> 00:23:54.917\n&gt;&gt; Okay.\n&gt;&gt; So a couple of different\n\n532\n00:23:54.917 --> 00:23:55.914\nways to do that if we wanted to.\n\n533\n00:23:55.914 --> 00:23:59.039\n&gt;&gt; Okay.\n&gt;&gt; Absolutely, so yeah, good, awesome.\n\n534\n00:23:59.039 --> 00:24:00.414\n&gt;&gt; [LAUGH]\n&gt;&gt; Woo!\n\n535\n00:24:00.414 --> 00:24:01.898\n&gt;&gt; Woo!\n&gt;&gt; Okay, that was a good one, all right,\n\n536\n00:24:01.898 --> 00:24:04.206\nso, we definitely could bring\nthose kind of best practices and\n\n537\n00:24:04.206 --> 00:24:05.266\nsecurity thoughts to bear.\n\n538\n00:24:05.266 --> 00:24:07.275\nIt's great that Cherokee\nasked that question,\n\n539\n00:24:07.275 --> 00:24:09.790\nreally focusing our attention\non some of those things.\n\n540\n00:24:09.790 --> 00:24:11.740\nBecause, in the real world,\nwe may have these needs,\n\n541\n00:24:11.740 --> 00:24:15.155\nit's actually a pretty common scenario,\nas I said, in cloud and\n\n542\n00:24:15.155 --> 00:24:17.350\nmulti-tenant environments, so\nwe have to contend with this.\n\n543\n00:24:17.350 --> 00:24:20.630\nCompany A doesn't want Company B to see\ntheir stuff, right, and obviously, for\n\n544\n00:24:20.630 --> 00:24:22.130\na lot of reasons that's important.\n\n545\n00:24:22.130 --> 00:24:24.340\nAnd this is what we, one of the ways,\nanyway, we would address this,\n\n546\n00:24:24.340 --> 00:24:25.730\nso it is good to know.\n\n547\n00:24:25.730 --> 00:24:29.400\nAll right so we kinda talked through the\nlogic of all of this and talked about it.\n\n548\n00:24:29.400 --> 00:24:31.640\nTalk a little bit, we have about three or\n\n549\n00:24:31.640 --> 00:24:34.600\nfour minutes left in the episode here,\nput it to good use.\n\n550\n00:24:34.600 --> 00:24:35.950\nLet's talk about BranchCache.\n\n551\n00:24:35.950 --> 00:24:37.640\n&gt;&gt; Okay.\n&gt;&gt; So when I talk about BranchCache\n\n552\n00:24:37.640 --> 00:24:38.240\nwhat comes to mind?\n\n553\n00:24:38.240 --> 00:24:39.560\nWhat do you think about BranchCache?\n\n554\n00:24:39.560 --> 00:24:42.850\n&gt;&gt; The first thing that comes to my\nmind is like HQ headquarters and\n\n555\n00:24:42.850 --> 00:24:47.990\nthen I have branch offices that\nmay need access to information.\n\n556\n00:24:47.990 --> 00:24:48.515\n&gt;&gt; So-\n&gt;&gt; [LAUGH]\n\n557\n00:24:48.515 --> 00:24:50.540\n&gt;&gt; You're taking the traditionalist and\n\n558\n00:24:50.540 --> 00:24:54.750\nstandard definitive approach where you\nare literally defining BranchCache as\n\n559\n00:24:54.750 --> 00:24:56.690\nputting information out\nthere at one of the,\n\n560\n00:24:56.690 --> 00:24:59.850\nmaybe a multitude of branch offices or\nremote offices, right.\n\n561\n00:24:59.850 --> 00:25:02.052\n&gt;&gt; Yep.\n&gt;&gt; Maybe centrally provided through HQ and\n\n562\n00:25:02.052 --> 00:25:04.280\nthen made available in the field\nto these remote offices.\n\n563\n00:25:04.280 --> 00:25:08.140\nAbsolutely, can think about it that way,\none of the nice things about BranchCache,\n\n564\n00:25:08.140 --> 00:25:10.690\nit's been around for several\ngenerations in terms of the technology.\n\n565\n00:25:10.690 --> 00:25:13.318\nBut one of the nice things\nabout it essentially, and\n\n566\n00:25:13.318 --> 00:25:16.006\nI think I even hinted at this\nwhen we just previewed and\n\n567\n00:25:16.006 --> 00:25:19.649\ntalked about it in one of the prior\nepisodes, is it gives us the ability to\n\n568\n00:25:19.649 --> 00:25:23.447\nleverage local access high speed\nminimal latency connectivity in a land.\n\n569\n00:25:23.447 --> 00:25:27.055\nAnd cache data there after we bring\nit down over the WAN, right, so\n\n570\n00:25:27.055 --> 00:25:30.286\nhowever hard it was to get it\nthere once it is there cache it.\n\n571\n00:25:30.286 --> 00:25:32.880\nEssentially make it available,\nstore it into the hard drive of one or\n\n572\n00:25:32.880 --> 00:25:33.797\nmore machines.\n\n573\n00:25:33.797 --> 00:25:36.727\nAnd then distribute it locally where\nwe do have typically reliable,\n\n574\n00:25:36.727 --> 00:25:39.647\nhigh speed, minimal, if any,\nlatency connectivity.\n\n575\n00:25:39.647 --> 00:25:43.507\nInstead of having to go over those WAN\nlinks and tax them, perhaps spending a lot\n\n576\n00:25:43.507 --> 00:25:47.327\nof time and energy, not to mention\nmoney on connections, and therefore\n\n577\n00:25:47.327 --> 00:25:50.585\nyou have the viability bandwidth that may\nor may not prove to be valuable for us.\n\n578\n00:25:50.585 --> 00:25:55.510\nIn a lot of these remote locations\nespecially in multi-country entities\n\n579\n00:25:55.510 --> 00:26:00.360\nwhere we have geographically distributed\narchitectures for global businesses.\n\n580\n00:26:00.360 --> 00:26:03.546\nWe may have networks in the central core\nas you pointed out that are very well\n\n581\n00:26:03.546 --> 00:26:04.464\nconnected, right.\n\n582\n00:26:04.464 --> 00:26:08.216\nIf you're headquartered in any of\nthe major cities of the world today,\n\n583\n00:26:08.216 --> 00:26:10.967\nEurope, Latin America,\nAsia, wherever you are,\n\n584\n00:26:10.967 --> 00:26:13.736\nit doesn't matter what continent,\nwhat country.\n\n585\n00:26:13.736 --> 00:26:17.372\nBut there are cities in almost every one\nof these countries that have incredibly\n\n586\n00:26:17.372 --> 00:26:20.965\nadvanced infrastructure especially in\nthe capital cities for the most part.\n\n587\n00:26:20.965 --> 00:26:23.565\nAnd you get good bandwidth and\neverything works really well, but\n\n588\n00:26:23.565 --> 00:26:26.285\ndepending on where you are in the world,\nin some of the outlying\n\n589\n00:26:26.285 --> 00:26:29.565\nareas in some of these countries,\nconnectivity may not be as prevalent.\n\n590\n00:26:29.565 --> 00:26:32.375\nYou may not have high speed networks,\nit may be very difficult and\n\n591\n00:26:32.375 --> 00:26:35.725\nvery expensive to connect and\npull large volumes of data down.\n\n592\n00:26:35.725 --> 00:26:40.435\nWe may be talking about microwave relays,\nsatellite transmissions, these\n\n593\n00:26:40.435 --> 00:26:44.570\nare things that cost a lot of money when\nyou factor in what the infrastructure is.\n\n594\n00:26:44.570 --> 00:26:48.735\nAnd just the per minute per megabyte\ndata charge on a satellite uplink,\n\n595\n00:26:48.735 --> 00:26:50.080\nis astronomical.\n\n596\n00:26:50.080 --> 00:26:54.170\nAnd if you don't have to transfer\ntraffic 100 times to feed 100 individual\n\n597\n00:26:54.170 --> 00:26:57.560\nrequests across that link,\nthat's just really unfeasible, or\n\n598\n00:26:57.560 --> 00:26:59.100\nnot feasible and sustainable.\n\n599\n00:26:59.100 --> 00:27:02.290\nVersus transmit the data one time,\n\n600\n00:27:02.290 --> 00:27:06.060\nhave a good reliable source that you're\ntransmitting to, store it locally, and\n\n601\n00:27:06.060 --> 00:27:08.515\ndistribute it locally on the LAN,\nmakes a lot more sense.\n\n602\n00:27:08.515 --> 00:27:12.210\nAnd so this is really what\nBranchCache primarily is designed for\n\n603\n00:27:12.210 --> 00:27:13.967\nus to be able to do and take advantage of.\n\n604\n00:27:13.967 --> 00:27:18.160\nTechnology's been around for some time, as\nI said, it's not new to 12R2 by any means.\n\n605\n00:27:18.160 --> 00:27:21.518\nWe have a few generations of technology\nthat we've been able to rely on for\n\n606\n00:27:21.518 --> 00:27:22.590\nthis already.\n\n607\n00:27:22.590 --> 00:27:28.270\nWe see this back in server 2008R2, 1212R2,\ngoing all the way back to Window's 7.\n\n608\n00:27:28.270 --> 00:27:31.320\nAnd Windows Vista, to be able to use\nthis for clients in some aspects,\n\n609\n00:27:31.320 --> 00:27:32.540\ndepending on what we're doing.\n\n610\n00:27:32.540 --> 00:27:36.600\nSo we have a few generations of technology\nand market already with this capability.\n\n611\n00:27:36.600 --> 00:27:39.380\nAnd we're gonna build on that and\ntalk about that in our upcoming episode.\n\n612\n00:27:39.380 --> 00:27:42.580\nBut just laying down the thought process,\njust giving you a little bit of the idea\n\n613\n00:27:42.580 --> 00:27:45.420\nof what BranchCache is,\nwhat it's capable of, what it can do.\n\n614\n00:27:45.420 --> 00:27:46.643\nWe're gonna walk through and configure it.\n\n615\n00:27:46.643 --> 00:27:49.321\nYou'll see us setting it up and\ngo through the logic of it,\n\n616\n00:27:49.321 --> 00:27:51.414\nlike we did with all\nthe other technologies.\n\n617\n00:27:51.414 --> 00:27:53.169\nAnd make sure you're\nunderstanding how to deploy it,\n\n618\n00:27:53.169 --> 00:27:55.410\nso you could take advantage\nof it if you would like.\n\n619\n00:27:55.410 --> 00:27:56.850\n&gt;&gt; All right, Adam, well,\nthank you for that, but\n\n620\n00:27:56.850 --> 00:27:59.910\nwe are out of time for this show, so\nwe're gonna go ahead and sign out.\n\n621\n00:27:59.910 --> 00:28:02.020\nRemember, I'm your host, Cherokee Boose.\n\n622\n00:28:02.020 --> 00:28:03.180\n&gt;&gt; I am Adam Gordon.\n\n623\n00:28:03.180 --> 00:28:06.505\n&gt;&gt; See you next time here at ITPro TV.\n\n624\n00:28:06.505 --> 00:28:12.337\n[MUSIC]\n\n625\n00:28:12.337 --> 00:28:15.597\nThank you for watching ITProTV\n\n",
          "vimeoId": "224330665"
        },
        {
          "description": "In this episode, Adam and Cherokee continue to explore BranchCache. Adam explains the differences between hosted cache mode and distributed cache mode as well as required prerequisites. Adam also shares PowerShell cmdlets and states netsh is another configuration option. Monitoring options and firewall are also covered in additions to configuration details.",
          "length": "2010",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-4-advance_file_services_pt4-0602917-PGM.00_00_54_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-4-advance_file_services_pt4-0602917-PGM.00_00_54_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-4-advance_file_services_pt4-0602917-PGM.00_00_54_15.Still001-sm.jpg",
          "title": "Advanced File Services Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.176 --> 00:00:06.119\nWelcome to ITPRO.TV,\nI'm your host Don Pezet [CROSSTALK]\n\n2\n00:00:06.119 --> 00:00:08.159\n[MUSIC]\n\n3\n00:00:08.159 --> 00:00:11.952\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:11.952 --> 00:00:15.635\n&gt;&gt; Welcome to your MCSA, 70-412 series.\n\n5\n00:00:15.635 --> 00:00:17.715\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.715 --> 00:00:21.515\nWe're back in this episode to\ncontinue to talk about BranchCaching.\n\n7\n00:00:21.515 --> 00:00:25.865\nAnd who else do we have better to explain\nthis topic than, Mr. Adam Gordon his self.\n\n8\n00:00:25.865 --> 00:00:27.415\nThank you for joining us today, Adam.\n\n9\n00:00:27.415 --> 00:00:28.900\n&gt;&gt; Thank you, I was actually hoping\nyou were gonna explain BranchCache.\n\n10\n00:00:28.900 --> 00:00:30.116\n[LAUGH]\n&gt;&gt; I worked so\n\n11\n00:00:30.116 --> 00:00:32.380\nhard to get everything organized.\n\n12\n00:00:32.380 --> 00:00:33.795\n[LAUGH]\n&gt;&gt; I was gonna sit back,\n\n13\n00:00:33.795 --> 00:00:34.865\nrest a little bit.\n\n14\n00:00:34.865 --> 00:00:37.180\nLet you talk for a little bit and\nI could just rest.\n\n15\n00:00:37.180 --> 00:00:38.601\nBut we'll do this together.\n\n16\n00:00:38.601 --> 00:00:39.720\n[LAUGH]\n&gt;&gt; Cuz that's probably the best\n\n17\n00:00:39.720 --> 00:00:40.590\nway to do this.\n\n18\n00:00:40.590 --> 00:00:43.320\nCherokee is actually gonna help me out as\nwe get into our demonstration a little\n\n19\n00:00:43.320 --> 00:00:44.160\nbit, and help me walk through\n\n20\n00:00:44.160 --> 00:00:46.540\nsome of the things that I'm gonna\nexplain along the way to you.\n\n21\n00:00:46.540 --> 00:00:49.420\nBut let's start by just reviewing what we\ntalked about at the very end of the last\n\n22\n00:00:49.420 --> 00:00:50.540\nepisode with BranchCache.\n\n23\n00:00:50.540 --> 00:00:52.750\nWe really just kinda teased\nit out there a little bit.\n\n24\n00:00:52.750 --> 00:00:55.270\nSaid hey, what does it do,\nthrew out a concept to you.\n\n25\n00:00:55.270 --> 00:00:57.755\nBut didn't really spend a lot\nof time developing the idea.\n\n26\n00:00:57.755 --> 00:01:01.640\nBranchCache, allows to take\nadvantage of a very simple but\n\n27\n00:01:01.640 --> 00:01:03.300\na very effective thought process.\n\n28\n00:01:03.300 --> 00:01:08.150\nLet's get a copy of that data down\nto a machine somewhere in the LAN,\n\n29\n00:01:08.150 --> 00:01:10.680\nthat we wanna be able to\nshare that information on.\n\n30\n00:01:10.680 --> 00:01:11.960\nMake sure it's a good copy.\n\n31\n00:01:11.960 --> 00:01:14.270\nMake sure it's got integrity,\nmake sure it's complete.\n\n32\n00:01:14.270 --> 00:01:15.820\nAnd then once it's there,\n\n33\n00:01:15.820 --> 00:01:19.130\nlet's make sure that we provide\nthat through a share mechanism.\n\n34\n00:01:19.130 --> 00:01:22.640\nSo cache it somewhere, put it in\nthe hard drive of one of the machines.\n\n35\n00:01:22.640 --> 00:01:26.287\nShare it out, so really all we're doing\nis creating a network share available on\n\n36\n00:01:26.287 --> 00:01:27.317\nthe LAN, so to speak.\n\n37\n00:01:27.317 --> 00:01:32.069\nAnd then use that content and make sure\neverybody knows go there on the LAN to get\n\n38\n00:01:32.069 --> 00:01:35.309\nthe content,\ninstead of going remote out to the WAN,\n\n39\n00:01:35.309 --> 00:01:39.276\nhaving to worry about taxing our\nbandwidth, our connectivity.\n\n40\n00:01:39.276 --> 00:01:40.398\nAnd as we talked about,\n\n41\n00:01:40.398 --> 00:01:43.714\nperhaps very expensive connectivity,\nvery complex connectivity,\n\n42\n00:01:43.714 --> 00:01:47.950\nconnectivity in some cases that's only\navailable certain hours of the day.\n\n43\n00:01:47.950 --> 00:01:50.630\nI've clients depending on\nwhere they are in the world,\n\n44\n00:01:50.630 --> 00:01:54.280\nthat have remote offices in various\nplaces, maybe in a country or\n\n45\n00:01:54.280 --> 00:01:59.380\nthroughout a certain region, Latin\nAmerica, Asia, Africa, wherever it maybe.\n\n46\n00:01:59.380 --> 00:02:02.400\nAnd they may only be able to communicate\nwith offices during certain periods\n\n47\n00:02:02.400 --> 00:02:04.590\nof time,\nbecause bandwidth is only available then.\n\n48\n00:02:04.590 --> 00:02:08.710\nOr they're only able to do it at certain\npoints in time, let's say overnight for\n\n49\n00:02:08.710 --> 00:02:12.405\ninstance, because of the limited amount\nof bandwidth available on a connection.\n\n50\n00:02:12.405 --> 00:02:15.355\nAnd then I wanna stress that\nconnection during the business day,\n\n51\n00:02:15.355 --> 00:02:18.065\nwhen there's a lot of other\nlegitimate traffic going on.\n\n52\n00:02:18.065 --> 00:02:22.195\nSo things like backups,\nthings like file synchronization,\n\n53\n00:02:22.195 --> 00:02:26.025\nall sorts of stuff has to be scheduled\ntightly managed and controlled.\n\n54\n00:02:26.025 --> 00:02:26.885\nThis is not a big deal.\n\n55\n00:02:26.885 --> 00:02:30.405\nIt's a fact of life and a reality given\nwhat we do in the world today, but\n\n56\n00:02:30.405 --> 00:02:34.820\nBranch Caching may allow us to take some\nof the burden off those connections,\n\n57\n00:02:34.820 --> 00:02:37.570\nnot for everything but for certain things.\n\n58\n00:02:37.570 --> 00:02:39.990\nFor day to day,\nmoment to moment access to files.\n\n59\n00:02:39.990 --> 00:02:43.240\nI'm thinking file server content that\nneeds to be available to everybody.\n\n60\n00:02:43.240 --> 00:02:44.680\nWe can make it available locally,\n\n61\n00:02:44.680 --> 00:02:48.770\ninstead of going back to the central file\nservers in the corporate headquarters.\n\n62\n00:02:48.770 --> 00:02:53.812\nI'm thinking about the SCCM concept that\nwe often talk about, Cherokee talks about,\n\n63\n00:02:53.812 --> 00:02:57.580\nSystem Center Config Manager Program\nthat she likes to work with a lot.\n\n64\n00:02:57.580 --> 00:03:01.040\nI spend quite a bit of time in systems\ncenter as some of you may know,\n\n65\n00:03:01.040 --> 00:03:03.960\nfrom seeing me do a bunch of\nepisodes on systems center.\n\n66\n00:03:03.960 --> 00:03:06.536\nCherokee joined me on a lot of those for\nthe private Cloud stuff.\n\n67\n00:03:06.536 --> 00:03:12.180\nAnd for Systems Center Config Manager, we\nuse this exact concept to cache packages,\n\n68\n00:03:12.180 --> 00:03:14.580\napplication deployments on clients.\n\n69\n00:03:14.580 --> 00:03:18.590\nWe set up a cache in the local system,\nand we store the files there so\n\n70\n00:03:18.590 --> 00:03:20.220\nthat application can self-heal.\n\n71\n00:03:20.220 --> 00:03:24.240\nOffice for instance and whatever else\nwe may deploy as an application or\n\n72\n00:03:24.240 --> 00:03:27.550\na package could be thrown out there,\nstored on the local machine.\n\n73\n00:03:27.550 --> 00:03:32.140\nWe could reference those installation ISO,\nor installation MSI files, or\n\n74\n00:03:32.140 --> 00:03:35.450\nwhatever they are and make those available\nso we don't have to keep downloading them\n\n75\n00:03:35.450 --> 00:03:38.720\nfrom the server, pulling them back\nacross the divide chewing up bandwidth.\n\n76\n00:03:38.720 --> 00:03:42.140\nSo there's a lot of value in\nthinking through the logic of this.\n\n77\n00:03:42.140 --> 00:03:43.810\nNow this technology as I\nsaid has been around for\n\n78\n00:03:43.810 --> 00:03:46.550\na while, Windows 7 as a client\nis capable of using it.\n\n79\n00:03:46.550 --> 00:03:49.120\nIt's been around for Server 2008 forward.\n\n80\n00:03:49.120 --> 00:03:52.085\nSo we've had it for\nsome generations on the platform now.\n\n81\n00:03:52.085 --> 00:03:55.328\nWe're able to use HTTP or\nthe HTTPs protocols.\n\n82\n00:03:55.328 --> 00:03:57.610\nSo secure and/or normal traffic,\n\n83\n00:03:57.610 --> 00:04:01.910\nwe use SMB, Server Message Block Protocol\nfor accessing shared folders.\n\n84\n00:04:01.910 --> 00:04:03.620\nPretty standard on the Microsoft world.\n\n85\n00:04:03.620 --> 00:04:05.380\nWe use SMB for everything.\n\n86\n00:04:05.380 --> 00:04:08.860\nSMB, do re mi, one two three, Fa la la.\n\n87\n00:04:08.860 --> 00:04:11.360\nAnd background intelligence transfer\nservices on the company called,\n\n88\n00:04:11.360 --> 00:04:15.560\nbits which is the underlying\nservice that runs for SCCM.\n\n89\n00:04:15.560 --> 00:04:18.220\nFor clients, we used bits and\nleverage to download and\n\n90\n00:04:18.220 --> 00:04:20.280\ncapture packages in our applications.\n\n91\n00:04:20.280 --> 00:04:24.430\nWe use it for Windows updates so WSUS,\nWindows Software Update Services.\n\n92\n00:04:24.430 --> 00:04:27.139\nAll the Windows updates have\ndownloaded cache bookmark.\n\n93\n00:04:27.139 --> 00:04:29.911\nCheck marked and validated through bits,\nand have been for\n\n94\n00:04:29.911 --> 00:04:31.357\nall the way back to Windows XP.\n\n95\n00:04:31.357 --> 00:04:34.960\nI mean, so this has been ongoing for\nsome time now, and this is not new.\n\n96\n00:04:34.960 --> 00:04:38.230\nWe're just leveraging these\ntechnologies and these systems,\n\n97\n00:04:38.230 --> 00:04:41.140\nto be able to bring together this\nfocus and this thought process.\n\n98\n00:04:41.140 --> 00:04:44.940\nSo it's what we do and how we do it really\nthat we talk about with BranchCache.\n\n99\n00:04:44.940 --> 00:04:48.010\nWe have two mechanisms or\nmodes, we set BranchCache with.\n\n100\n00:04:48.010 --> 00:04:51.110\nWhat's called either Hosted Cache\nmode and/or Distribute Cache mode.\n\n101\n00:04:51.110 --> 00:04:52.223\nYou could probably tell,\n\n102\n00:04:52.223 --> 00:04:55.670\nin theory just from the name a little bit\nabout what each one does and how it works.\n\n103\n00:04:55.670 --> 00:04:59.295\nHosted cache mode, we deploy a server\nthat's gonna act as our central\n\n104\n00:04:59.295 --> 00:05:02.991\nrepository, that's gonna be\nrunning a Server 2008 R2 or newer.\n\n105\n00:05:02.991 --> 00:05:06.565\nSo again we talk about the fact that this\ntechnology goes back a few generations.\n\n106\n00:05:06.565 --> 00:05:11.160\nSo we're talking about 12, 12 R2 now,\nthree generations Server 16, look ahead,\n\n107\n00:05:11.160 --> 00:05:12.720\nwe have that there as well.\n\n108\n00:05:12.720 --> 00:05:14.390\nAnd so we can set that up,\n\n109\n00:05:14.390 --> 00:05:17.870\nset up a file server equivalent if\nyou will called a BranchCache server.\n\n110\n00:05:17.870 --> 00:05:21.900\nWe would install and configure that\nrole on a server, set it up, have that\n\n111\n00:05:21.900 --> 00:05:25.930\nact as our repository, create a share and\nthen provide the data through that.\n\n112\n00:05:25.930 --> 00:05:29.520\nClient computers can then be connecting\nup to that server to get their content.\n\n113\n00:05:29.520 --> 00:05:31.450\nSo this is one way to do this.\n\n114\n00:05:31.450 --> 00:05:35.925\nWe obviously would be able to take\nadvantage of placing that server in a high\n\n115\n00:05:35.925 --> 00:05:40.756\nbandwidth area or a low latency high\nbandwidth good connectivity area, and then\n\n116\n00:05:40.756 --> 00:05:45.815\nlet the clients in and among those subnets\naround that come in and grab that content.\n\n117\n00:05:45.815 --> 00:05:48.637\nSo that would be one way to do this,\ndistributed cache mode.\n\n118\n00:05:48.637 --> 00:05:51.220\nWe're gonna use local clients plural.\n\n119\n00:05:51.220 --> 00:05:54.560\nWindows 7 forward to act\nas that cache repository.\n\n120\n00:05:54.560 --> 00:05:57.590\nSo we can leverage different\nclients in different areas, and\n\n121\n00:05:57.590 --> 00:06:01.320\nstore content on their hard drives shared\nout and make it available as well.\n\n122\n00:06:01.320 --> 00:06:02.430\nSo that's the same idea.\n\n123\n00:06:02.430 --> 00:06:04.320\nIt's a matter of how you\nchoose to configure this.\n\n124\n00:06:04.320 --> 00:06:07.970\nBut the nice thing here,\nis we don't have to have a anchored server\n\n125\n00:06:07.970 --> 00:06:11.390\ndedicated to this provisioning of content,\nif we do distributed cache.\n\n126\n00:06:11.390 --> 00:06:13.980\nWe just pick one or more clients\nthat are available on the networks,\n\n127\n00:06:13.980 --> 00:06:15.200\nyou can use them.\n\n128\n00:06:15.200 --> 00:06:17.620\nAnd we often will have multiple\nwork stations clients,\n\n129\n00:06:17.620 --> 00:06:19.440\nassume that we may not\nhave a lot of servers.\n\n130\n00:06:19.440 --> 00:06:22.717\nSo that usually will allow us\nto scale if you think about it,\n\n131\n00:06:22.717 --> 00:06:25.016\nthe thought process around access here.\n\n132\n00:06:25.016 --> 00:06:28.278\nSo just be aware of that,\nserver 2008 R2 or newer, Windows 7 or\n\n133\n00:06:28.278 --> 00:06:30.092\nnewer on the distributed cache side.\n\n134\n00:06:30.092 --> 00:06:31.960\nSo we have options there.\n\n135\n00:06:31.960 --> 00:06:34.620\nWe can set up and\ninstall the BranchCache feature.\n\n136\n00:06:34.620 --> 00:06:35.950\nIt's just a feature that we install.\n\n137\n00:06:35.950 --> 00:06:37.040\nIt's not a big deal.\n\n138\n00:06:37.040 --> 00:06:39.340\nWe'll take a look at how to\nget that stood up and running.\n\n139\n00:06:39.340 --> 00:06:42.100\nI've actually already got it configured\nas part of the demo environment.\n\n140\n00:06:42.100 --> 00:06:45.890\nWe're not gonna really demo and\nwalk through hands on, with\n\n141\n00:06:45.890 --> 00:06:48.850\nquite the same level of depth we've done\nwith some of the other technologies here.\n\n142\n00:06:48.850 --> 00:06:51.040\nThere's not a lot of mystery\nassociated with BranchCache.\n\n143\n00:06:51.040 --> 00:06:54.536\nI am gonna show you some things, but\nreally what I wanna focus on in the hands\n\n144\n00:06:54.536 --> 00:06:57.156\non walk through,\nis the group policy management side.\n\n145\n00:06:57.156 --> 00:07:00.421\nAll the group policy settings associated\nwith BranchCache, so we have to be aware\n\n146\n00:07:00.421 --> 00:07:03.758\nof, cuz there are several and it's gonna\nbe important for us to know what they are.\n\n147\n00:07:03.758 --> 00:07:06.160\nSo we're gonna go and\nwe're gonna take a look at that,\n\n148\n00:07:06.160 --> 00:07:09.045\nbut configuring the actual role itself,\nnot very complicated.\n\n149\n00:07:09.045 --> 00:07:11.945\nWe'll take a look and show you how that\nworks, that's gonna be real simple.\n\n150\n00:07:11.945 --> 00:07:17.015\nSo I've created a group policy here,\nin or on our domain controller,\n\n151\n00:07:17.015 --> 00:07:20.280\nlet me just back out out for settings her\nfor a sec and just show you where we are.\n\n152\n00:07:20.280 --> 00:07:23.090\nI'm in the group policy\nmanagement console, the editor.\n\n153\n00:07:23.090 --> 00:07:25.540\nI'm on practicelabs.com, our domain.\n\n154\n00:07:25.540 --> 00:07:26.490\nI've created a policy,\n\n155\n00:07:26.490 --> 00:07:30.008\nI called it BranchCacheClient settings,\nyou can call it anything you would like.\n\n156\n00:07:30.008 --> 00:07:32.950\nBut again, you're naming it\nsomething contextual that would\n\n157\n00:07:32.950 --> 00:07:35.580\nmakes sense would be helpful here,\nand would be important for you.\n\n158\n00:07:35.580 --> 00:07:38.770\nIt's easy when we have one or two\npolicies sitting at the interface here,\n\n159\n00:07:38.770 --> 00:07:40.910\nto not really worry too much\nabout what does the policy do?\n\n160\n00:07:40.910 --> 00:07:43.055\nAnd tracking it, and\nhaving it named the right way.\n\n161\n00:07:43.055 --> 00:07:48.040\nBut in many enterprise environments\nI work in, there may be 30, 40, 50,\n\n162\n00:07:48.040 --> 00:07:50.860\nI've had some clients with\nseveral hundred group policies.\n\n163\n00:07:50.860 --> 00:07:52.105\nWhich is a nightmare to manage.\n\n164\n00:07:52.105 --> 00:07:54.199\nBut several hundred policies there.\n\n165\n00:07:54.199 --> 00:07:57.859\nAnd if you don't start naming these\npolicies with some sort of specificity and\n\n166\n00:07:57.859 --> 00:07:59.340\ncontextual reference.\n\n167\n00:07:59.340 --> 00:08:01.487\nGood luck trying to figure out what\nthey do and how to manage them.\n\n168\n00:08:01.487 --> 00:08:05.200\nSo naming conventions are really\nimportant, gotta think about that.\n\n169\n00:08:05.200 --> 00:08:08.920\nSo BranchCache client settings,\nI set that up, I right clicked, Edit,\n\n170\n00:08:08.920 --> 00:08:10.770\nand I'll show you\nthe settings in a minute.\n\n171\n00:08:10.770 --> 00:08:14.020\nNow, did something interesting here\nthat I wanna make sure you're aware of.\n\n172\n00:08:14.020 --> 00:08:18.250\nUnlike most policies, where we're\ngonna go with authenticated users\n\n173\n00:08:18.250 --> 00:08:22.840\nas our policy security filtering\ngroup here, to allow broad access for\n\n174\n00:08:22.840 --> 00:08:25.220\neverybody, BranchCache is\na little bit different.\n\n175\n00:08:25.220 --> 00:08:28.540\nLet me show you what I mean,\nif we go here to default domain policy,\n\n176\n00:08:28.540 --> 00:08:31.906\nyou'll see authenticated users\nare seated in a security filtering box.\n\n177\n00:08:31.906 --> 00:08:35.270\nIn other words, anybody who's in the\ndomain has the ability to pull them, and\n\n178\n00:08:35.270 --> 00:08:38.900\nuse this policy, and rightly so,\nwe want those users to do that.\n\n179\n00:08:38.900 --> 00:08:41.010\nI've changed that thought process here,\n\n180\n00:08:41.010 --> 00:08:44.280\nwith the BranchCache client\nsettings policy that I've created.\n\n181\n00:08:44.280 --> 00:08:48.040\nI've removed authenticated users,\nand I've gone ahead and\n\n182\n00:08:48.040 --> 00:08:50.610\nI've put in a group that I've\ncreated in Active Directory.\n\n183\n00:08:50.610 --> 00:08:54.330\nSo Active Directory user and computer\nwent into the management interface there.\n\n184\n00:08:54.330 --> 00:08:58.444\nCould have used ADAC as well, by the way,\nActive Directory Administration Center.\n\n185\n00:08:58.444 --> 00:09:02.357\nAn all up heads up tool that is gonna\nencompass several of the different\n\n186\n00:09:02.357 --> 00:09:04.361\nActive Directory specific tools.\n\n187\n00:09:04.361 --> 00:09:09.450\nSo AD users and computers,\nAD trusts and sites, different ones.\n\n188\n00:09:09.450 --> 00:09:13.147\nWe have those tools, had them since\nWindows 2000 in one form or another.\n\n189\n00:09:13.147 --> 00:09:18.120\nADAC makes its appearance in 2008,\n2008 R2, and is an all up tool that just\n\n190\n00:09:18.120 --> 00:09:22.215\nincorporates and encompasses all\nthose functions in one area.\n\n191\n00:09:22.215 --> 00:09:23.520\nSo you may or may not be using that,\n\n192\n00:09:23.520 --> 00:09:26.075\nit's called the Active Directory\nAdministration Center.\n\n193\n00:09:26.075 --> 00:09:28.755\nBut it's a good tool, you can do it from\neither place, doesn't really matter.\n\n194\n00:09:28.755 --> 00:09:31.365\nYou have a preference, you ever use ADAC?\n\n195\n00:09:31.365 --> 00:09:35.000\n&gt;&gt; Yeah, I think that Active Directory\nusers and computers is fine for\n\n196\n00:09:35.000 --> 00:09:35.777\nmy needs now.\n\n197\n00:09:35.777 --> 00:09:38.954\nI'm not in it managing it all the time,\nso that's were I'm at.\n\n198\n00:09:38.954 --> 00:09:41.160\n&gt;&gt; Okay, yeah, just thought I'd ask,\nyou never know.\n\n199\n00:09:41.160 --> 00:09:43.970\nAnd it's always good to explore\nthe options with those different tools.\n\n200\n00:09:43.970 --> 00:09:45.850\nYou may not necessarily\nhave heard of ADAC,\n\n201\n00:09:45.850 --> 00:09:47.550\nyou may not have even\nrealized it's a tool.\n\n202\n00:09:47.550 --> 00:09:50.120\nAnd I'll show you where to find it here\nin just a minute, we'll go take a look,\n\n203\n00:09:50.120 --> 00:09:51.460\njust in case you haven't seen it.\n\n204\n00:09:51.460 --> 00:09:53.410\nBut it's good to get\ndifferent perspectives,\n\n205\n00:09:53.410 --> 00:09:56.870\nsome people may have a preference for\ncertain tools, based on what they do or\n\n206\n00:09:56.870 --> 00:09:59.270\ndon't do on a regular basis,\nlike Cherokee said.\n\n207\n00:09:59.270 --> 00:10:02.742\nNot in there managing all that often,\nnot managing users on a regular basis.\n\n208\n00:10:02.742 --> 00:10:05.690\nThe old school tool is good enough for\nme, cuz it does what I need.\n\n209\n00:10:05.690 --> 00:10:08.370\nBut you may want more flexibility,\nand ADAC may give you that,\n\n210\n00:10:08.370 --> 00:10:12.635\ncuz it brings in more tools in one place,\ngives you more flexibility and capability.\n\n211\n00:10:12.635 --> 00:10:14.621\nIt's the only reason I mentioned it for\nyou,\n\n212\n00:10:14.621 --> 00:10:16.615\nbecause it's all about\nyou here at ITProTV.\n\n213\n00:10:16.615 --> 00:10:17.631\n&gt;&gt; [LAUGH]\n&gt;&gt; All right,\n\n214\n00:10:17.631 --> 00:10:19.178\nso let's get back to\nwhat we're talking about.\n\n215\n00:10:19.178 --> 00:10:22.670\nSo I was just mentioning that I went\nahead and created a group called, and\n\n216\n00:10:22.670 --> 00:10:25.547\nI just called it, here you can see,\nBranchCache Clients.\n\n217\n00:10:25.547 --> 00:10:29.091\nAnd what I did is, just went into\nActive Directory users and computers,\n\n218\n00:10:29.091 --> 00:10:31.896\nwhere I clicked the users folder and\nentered a new group.\n\n219\n00:10:31.896 --> 00:10:35.488\nDropped a couple of the machines in there\nthat I want to use BranchCache with,\n\n220\n00:10:35.488 --> 00:10:38.527\nbecause I'm going to set BranchCache\nup as distributing cache,\n\n221\n00:10:38.527 --> 00:10:39.982\nin that particular case.\n\n222\n00:10:39.982 --> 00:10:41.972\nOr host to cache,\nI'll show you the properties, and\n\n223\n00:10:41.972 --> 00:10:43.802\nthe group policy settings for both.\n\n224\n00:10:43.802 --> 00:10:47.932\nSo I put in machine accounts into this\ngroup, and said, by filtering and\n\n225\n00:10:47.932 --> 00:10:51.340\nusing this group as the security group or\nthe context for\n\n226\n00:10:51.340 --> 00:10:56.500\nfiltering, apply this policy to those\nmachines, as opposed to those users.\n\n227\n00:10:56.500 --> 00:10:59.140\nAnd so we're thinking,\nremember, BranchCache is about\n\n228\n00:10:59.140 --> 00:11:03.070\nconfiguring machines to host content and\naccess it, not about users.\n\n229\n00:11:03.070 --> 00:11:06.110\nThe users will get to it through\na map drive on the machine, and\n\n230\n00:11:06.110 --> 00:11:07.570\nI'll show you that in a moment.\n\n231\n00:11:07.570 --> 00:11:09.950\nSo as a result,\nI have to be thinking ahead, hey,\n\n232\n00:11:09.950 --> 00:11:12.630\nhow do I get those machines\nto take that policy,\n\n233\n00:11:12.630 --> 00:11:15.580\nthat I'm about to show you the settings\non, and apply the configuration?\n\n234\n00:11:15.580 --> 00:11:18.745\nWell, gotta use my knowledge of group\npolicy, my ability to filter and\n\n235\n00:11:18.745 --> 00:11:20.871\napply that, and\nthat's what I'm doing here.\n\n236\n00:11:20.871 --> 00:11:24.478\nSo that's one of those little secrets\nabout BranchCache we don't often see\n\n237\n00:11:24.478 --> 00:11:25.673\ndocumented as readily.\n\n238\n00:11:25.673 --> 00:11:28.662\nWe don't often talk about, people just\nkind of gloss over that, and say, yeah.\n\n239\n00:11:28.662 --> 00:11:31.390\nJust boom, boom, boom, do this and\nthis, and now you're good.\n\n240\n00:11:31.390 --> 00:11:33.368\nWell, yeah,\nyou're good if the policy applies,\n\n241\n00:11:33.368 --> 00:11:36.592\nyou're not if the policy actually doesn't\nwork, so that's gonna be important.\n\n242\n00:11:36.592 --> 00:11:39.773\nSo make sure you're familiar with that and\nhave a sense of why you're seeing\n\n243\n00:11:39.773 --> 00:11:42.021\nthe difference here,\nit's important to note that.\n\n244\n00:11:42.021 --> 00:11:44.486\nAll I did was add the group,\njust by clicking Add,\n\n245\n00:11:44.486 --> 00:11:48.596\nnow where I want to create the group was\nin the group policy, or rather, excuse me,\n\n246\n00:11:48.596 --> 00:11:51.093\nin the Active Directory\nuser from computer tool.\n\n247\n00:11:51.093 --> 00:11:53.897\nSo let me just come over here\nreal quick to Server Manager,\n\n248\n00:11:53.897 --> 00:11:57.640\ncuz you can see I got a whole bunch\nof crazy stuff opened up down there.\n\n249\n00:11:57.640 --> 00:12:01.270\nBut I did go in,\njust went up to Tools right here,\n\n250\n00:12:01.270 --> 00:12:05.350\nActive Directory Users and Computers,\nI would have just used that right click.\n\n251\n00:12:05.350 --> 00:12:10.010\nI mentioned ADAC, Active Directory\nAdministrative Center right there,\n\n252\n00:12:10.010 --> 00:12:12.730\nsame kind of tool, just opens up in\ncase you haven't seen it before.\n\n253\n00:12:12.730 --> 00:12:15.780\nWe'll just quickly preview it for\nyou, since we mentioned it.\n\n254\n00:12:15.780 --> 00:12:20.060\nLooks a lot like Server Manager, with\nthat middle plate there almost the same,\n\n255\n00:12:20.060 --> 00:12:21.990\nif you're not really paying attention.\n\n256\n00:12:21.990 --> 00:12:24.368\nI'm ashamed to admit I've mistaken this\none for the other once or twice, and\n\n257\n00:12:24.368 --> 00:12:25.145\neven going around...\n\n258\n00:12:25.145 --> 00:12:29.391\n&gt;&gt; Well, even the iPam interface\nlooks very similar to our dashboard.\n\n259\n00:12:29.391 --> 00:12:30.900\n&gt;&gt; So if you're not paying attention,\n\n260\n00:12:30.900 --> 00:12:33.882\nwell you obviously can get yourself\nin a little bit of a conundrum there.\n\n261\n00:12:33.882 --> 00:12:36.867\nBut you'll see, we can,\nwizard driven kind of click on things,\n\n262\n00:12:36.867 --> 00:12:38.510\nif you need to figure out what to do.\n\n263\n00:12:38.510 --> 00:12:41.810\nGo into the domain here,\npractice labs, and you can see,\n\n264\n00:12:41.810 --> 00:12:44.740\nwe can click through,\nwe could just see all of our OUs.\n\n265\n00:12:44.740 --> 00:12:49.160\nI could just, obviously,\ngo right into users there, and\n\n266\n00:12:49.160 --> 00:12:52.160\nyou'll notice from here, I can filter,\nI could search for stuff.\n\n267\n00:12:52.160 --> 00:12:55.190\nBut you'll notice I also have\ncapabilities over here, so\n\n268\n00:12:55.190 --> 00:12:58.260\nI can go in, reset users,\nthings like that.\n\n269\n00:12:58.260 --> 00:13:02.740\nSo I can go in, and\nthere's my users, and you'll see,\n\n270\n00:13:02.740 --> 00:13:05.970\nI can right click, I can navigate,\nI can do all sorts of stuff in here.\n\n271\n00:13:05.970 --> 00:13:09.870\nSo it gives me the same capabilities that\nI can use, the nice thing about ADAC,\n\n272\n00:13:09.870 --> 00:13:12.825\nlet me just see if I can grab this,\nhold on one second here.\n\n273\n00:13:12.825 --> 00:13:18.882\nCuz hovering in the, [SOUND],\nhovering, there we go.\n\n274\n00:13:18.882 --> 00:13:20.800\nHovering in the corner, I think I got it.\n\n275\n00:13:20.800 --> 00:13:25.081\nI'm trying to get to it and\nclick without, anyway, you get the idea.\n\n276\n00:13:25.081 --> 00:13:28.094\nI'm not gonna be able to click on it,\nthat's why I hate Server 12, because-\n\n277\n00:13:28.094 --> 00:13:29.804\n&gt;&gt; It sounds like a video game.\n\n278\n00:13:29.804 --> 00:13:31.814\n&gt;&gt; Well, it has that Windows 10,\nI don't hate it, but\n\n279\n00:13:31.814 --> 00:13:33.480\nit has the Windows 10 interface.\n\n280\n00:13:33.480 --> 00:13:36.380\nIn the screen resolution,\nwhen we're projecting with the VMs,\n\n281\n00:13:36.380 --> 00:13:40.110\nI can't hover there without going into\nthe corner and triggering the bar.\n\n282\n00:13:40.110 --> 00:13:43.170\nI just want to show you\nWindows PowerShell history down here.\n\n283\n00:13:43.170 --> 00:13:47.301\nOne of the reasons I like ADAC is that we\nactually can see what we're doing through\n\n284\n00:13:47.301 --> 00:13:50.610\nthere with PowerShell,\nthrough there it shows us everything.\n\n285\n00:13:50.610 --> 00:13:53.060\nIt's kind of nice to be able to go in and\nuse it.\n\n286\n00:13:53.060 --> 00:13:54.350\nAnyway, just thought\nI'd mention it to you,\n\n287\n00:13:54.350 --> 00:13:56.515\njust to show you what's going on in there.\n\n288\n00:13:56.515 --> 00:13:59.070\nSo we went ahead and created the group,\nnow what I'm gonna do is go, and\n\n289\n00:13:59.070 --> 00:14:00.090\nI'm gonna edit the policy.\n\n290\n00:14:00.090 --> 00:14:02.520\nNow I've already got\nthe policy settings opened up,\n\n291\n00:14:02.520 --> 00:14:04.520\nlet me just bring them back\nup,they're sitting right here.\n\n292\n00:14:05.720 --> 00:14:09.270\nSo I went into the policy,\nlet me just scroll over and up.\n\n293\n00:14:09.270 --> 00:14:12.330\nSo you'll see the policy\ncomputer configuration,\n\n294\n00:14:12.330 --> 00:14:14.970\nunderneath administrative templates,\nyou'll see where I am right there.\n\n295\n00:14:14.970 --> 00:14:17.360\nNetwork, there is a setting\ncalled BranchCache, or\n\n296\n00:14:17.360 --> 00:14:19.780\ndirectory called BranchCache,\nwith all the settings.\n\n297\n00:14:19.780 --> 00:14:21.831\nThis is where we're gonna go\nto make the magic happen,\n\n298\n00:14:21.831 --> 00:14:23.403\nthis is where we configure BranchCache.\n\n299\n00:14:23.403 --> 00:14:27.088\nSo wanna make sure you know the path,\nknow where we are, what we're doing, and\n\n300\n00:14:27.088 --> 00:14:29.520\nyou'll see there are a bunch\nof settings over here.\n\n301\n00:14:29.520 --> 00:14:32.574\nI've already got a lot of them\nconfigured because I just went ahead and\n\n302\n00:14:32.574 --> 00:14:34.303\nset them up for the use of BranchCache.\n\n303\n00:14:34.303 --> 00:14:36.182\nSo we could see what would be configured,\nbut\n\n304\n00:14:36.182 --> 00:14:38.390\nlet me walk you through\nwhat's going on here.\n\n305\n00:14:38.390 --> 00:14:39.950\nFirst and foremost, most importantly,\n\n306\n00:14:39.950 --> 00:14:42.125\nif you don't do this one,\nnone of the others matter.\n\n307\n00:14:42.125 --> 00:14:45.778\nTurn on BranchCache, that is enabled,\nbut it is disabled by default.\n\n308\n00:14:45.778 --> 00:14:49.687\nAnd so you'll go in here, and there is no\nspecial setting other than just enable it.\n\n309\n00:14:49.687 --> 00:14:51.796\nThere's no, hey,\ngive me the name of the server,\n\n310\n00:14:51.796 --> 00:14:53.379\ntell me what the latency's gonna be.\n\n311\n00:14:53.379 --> 00:14:56.194\nThere's all this other stuff we may\nset depending on other options, but\n\n312\n00:14:56.194 --> 00:14:58.515\nhere we're just turning it on,\nthat's all we're doing.\n\n313\n00:14:58.515 --> 00:15:02.675\nSo we are enabling it, but the nice\nthing about it is once we do that,\n\n314\n00:15:02.675 --> 00:15:06.520\nit does give us a little primer here\nabout all the other things we need to do.\n\n315\n00:15:06.520 --> 00:15:09.740\nMeaning, it recommends to us, by the way,\nif you're gonna turn this on,\n\n316\n00:15:09.740 --> 00:15:11.770\nyou may want to go look at\nthese other settings out here.\n\n317\n00:15:11.770 --> 00:15:15.440\nAnd it calls out a bunch and says,\nyou gotta configure this to make it work.\n\n318\n00:15:15.440 --> 00:15:17.940\nAgain, reading and\nunderstanding what's happening,\n\n319\n00:15:17.940 --> 00:15:20.810\nas opposed to just assuming that\nwe know will be valuable here,\n\n320\n00:15:20.810 --> 00:15:22.600\nbecause it will point us\nin the right direction.\n\n321\n00:15:22.600 --> 00:15:26.200\nSave us a lot of time and trouble,\nand prevent us from getting into\n\n322\n00:15:26.200 --> 00:15:28.650\nconfiguration of things that may or\nmay not make a lot of sense.\n\n323\n00:15:28.650 --> 00:15:30.160\nSo we're gonna turn that on,\n\n324\n00:15:30.160 --> 00:15:34.090\nwe'll then, depending on whether\nwe're doing distributed cache mode.\n\n325\n00:15:34.090 --> 00:15:38.010\nYou'll see right there, I have not\nconfigured that one, or hosted cache mode,\n\n326\n00:15:38.010 --> 00:15:41.670\nI am configuring that one, I would\nspecify the settings appropriately.\n\n327\n00:15:41.670 --> 00:15:44.601\nWe talked about the difference between\nthese two modes and how to set them up.\n\n328\n00:15:44.601 --> 00:15:46.869\nAnd you can see policy driven here, and\n\n329\n00:15:46.869 --> 00:15:51.011\nmake a choice about how I'm going to\ndeploy the policy to support that.\n\n330\n00:15:51.011 --> 00:15:54.338\nAnd so I would choose to\nturn on the appropriate one.\n\n331\n00:15:54.338 --> 00:15:56.681\nI've done branch cache hosted cache mode,\n\n332\n00:15:56.681 --> 00:15:59.544\nlet's just see what the settings\nlook like in there.\n\n333\n00:15:59.544 --> 00:16:03.300\nWhen we go in You'll see we do enable\nthis, and then we have to type the name of\n\n334\n00:16:03.300 --> 00:16:07.353\nthe host of cache server, and remember\nhost of cache, Windows server 2008 or\n\n335\n00:16:07.353 --> 00:16:11.702\ntwo file server or newer, and that's gonna\nbe target where we're gonna actually setup\n\n336\n00:16:11.702 --> 00:16:13.415\nthe configuration of the data.\n\n337\n00:16:13.415 --> 00:16:16.550\nThat share, put the data in their\nshare data and make it available.\n\n338\n00:16:16.550 --> 00:16:20.657\nAnd the PLAB, in this case\nDM-01 practicelabs.commachine,\n\n339\n00:16:20.657 --> 00:16:22.850\nis gonna act in that role for me.\n\n340\n00:16:22.850 --> 00:16:24.910\nSo I´m hard coding the path here,\n\n341\n00:16:24.910 --> 00:16:28.352\nthat clients will use to go find\nthe content through branch cache.\n\n342\n00:16:28.352 --> 00:16:31.640\nThat´s gonna be that server, that\ntargeted host cache server right there.\n\n343\n00:16:31.640 --> 00:16:35.600\nSo I`m specifying that with my group\npolicy enable, specify the name.\n\n344\n00:16:35.600 --> 00:16:37.220\nFully qualified domain\nname of the machine.\n\n345\n00:16:37.220 --> 00:16:38.390\nSo I've done that.\n\n346\n00:16:38.390 --> 00:16:42.171\nI have enabled automatic hosted\ncache discovery through service\n\n347\n00:16:42.171 --> 00:16:43.347\nconnection point.\n\n348\n00:16:43.347 --> 00:16:44.730\nLet's click on this one.\n\n349\n00:16:44.730 --> 00:16:48.575\nI enable that, and what that does is\nit specifies whether computers will\n\n350\n00:16:48.575 --> 00:16:52.610\nautomatically attempt to configure\nconnectivity out to the hosted cache by\n\n351\n00:16:52.610 --> 00:16:55.920\nsearching the hosted cache\nserver publishing service.\n\n352\n00:16:55.920 --> 00:17:00.600\nAnd finding it through a SRV record\nlook-up through DNS that can query and\n\n353\n00:17:00.600 --> 00:17:02.410\nfind this and, obviously, bring that down.\n\n354\n00:17:02.410 --> 00:17:05.320\nSo this is gonna be valuable if\nwe are gonna be able to do that.\n\n355\n00:17:05.320 --> 00:17:08.740\nSo we have the ability to be able to\npublish that information, and use that so\n\n356\n00:17:08.740 --> 00:17:10.380\nwe're able to take advantage of that.\n\n357\n00:17:10.380 --> 00:17:11.650\nWe've enabled that.\n\n358\n00:17:11.650 --> 00:17:14.070\nConfigure hosted cache servers\n\n359\n00:17:14.070 --> 00:17:16.800\nanother setting we have to do\nsince we're doing hosted cache.\n\n360\n00:17:16.800 --> 00:17:22.150\nWe have enabled that, and we have to\nspecify here under show, again, the path.\n\n361\n00:17:23.470 --> 00:17:25.010\nThat will not be there by default.\n\n362\n00:17:25.010 --> 00:17:28.230\nI know it's kinda hard to see, but\nit's the same machine name that we put\n\n363\n00:17:28.230 --> 00:17:31.630\nin in the other setting\nPLAB DM- 01.practicelabs.com.\n\n364\n00:17:31.630 --> 00:17:34.240\nSo we type that in,\nwe go here there's a value.\n\n365\n00:17:34.240 --> 00:17:37.450\nWe add the value line in and\nhit OK to specify that.\n\n366\n00:17:37.450 --> 00:17:39.850\nSo, we've done that as well.\n\n367\n00:17:39.850 --> 00:17:43.230\nAnd then, configure branch cache for\nnetwork files.\n\n368\n00:17:43.230 --> 00:17:45.640\nAgain, enabled here let's just click that.\n\n369\n00:17:45.640 --> 00:17:47.280\nThis one, turn it on.\n\n370\n00:17:47.280 --> 00:17:51.120\nBut here, we have to specify\nthe maximum round-trip network latency\n\n371\n00:17:51.120 --> 00:17:52.520\nafter which caching begins.\n\n372\n00:17:52.520 --> 00:17:55.390\nNow, I've set that to\nzero to force caching so\n\n373\n00:17:55.390 --> 00:17:57.950\nthat we can just take a look at\nsome files that are in the cache.\n\n374\n00:17:57.950 --> 00:17:59.350\nI have to see that it's working.\n\n375\n00:17:59.350 --> 00:18:02.070\nIn the real world you probably\nwouldn't wanna drop that down to zero.\n\n376\n00:18:02.070 --> 00:18:05.810\nYou may want a certain amount of\nlatency to be tolerated to allow for\n\n377\n00:18:05.810 --> 00:18:08.380\nyou to go out and\nget stuff from a remote location.\n\n378\n00:18:08.380 --> 00:18:11.750\nBut if there's too much latency,\nthen have caching kick in.\n\n379\n00:18:11.750 --> 00:18:15.860\nThis is one of those sliding scale\nmanagement thought processes, right?\n\n380\n00:18:15.860 --> 00:18:18.290\nYou may tolerate, in other words,\na certain amount of latency and\n\n381\n00:18:18.290 --> 00:18:21.030\ndelay in the connection\nout to a central server.\n\n382\n00:18:21.030 --> 00:18:22.790\nAnd that may be okay, you may not.\n\n383\n00:18:22.790 --> 00:18:24.070\nIt depends on how you wanna do this.\n\n384\n00:18:24.070 --> 00:18:26.800\nBut you have to set that\nthe default is 80 there, right.\n\n385\n00:18:26.800 --> 00:18:30.488\nSo if you set that to whatever\nthe default is, we'll measure and\n\n386\n00:18:30.488 --> 00:18:35.268\nlook at the latency on that connection and\nif we see a higher latency then we expect,\n\n387\n00:18:35.268 --> 00:18:39.604\nthen we flip over to the network cache or\nin this case, to the hosted cache.\n\n388\n00:18:39.604 --> 00:18:41.000\nAnd that's what we'll use.\n\n389\n00:18:41.000 --> 00:18:44.780\nBut if we don't fall on the far side\nof that connection whether it's our\n\n390\n00:18:44.780 --> 00:18:48.410\nlatency below the threshold, we will\ngo out and try to find it remotely.\n\n391\n00:18:48.410 --> 00:18:52.045\nSo we can play with these settings and\nunderstand how to configure or\n\n392\n00:18:52.045 --> 00:18:56.467\ndecide what our threshold would be before\nwe actually kick in to use branch cache.\n\n393\n00:18:56.467 --> 00:18:58.180\nSo kind of interesting in that respect.\n\n394\n00:18:58.180 --> 00:19:00.400\nUp to you to decide how you\nwanna modify that, right.\n\n395\n00:19:00.400 --> 00:19:04.560\nSo I set it to zero, dropped it down\nhere just for purposes of demonstration.\n\n396\n00:19:04.560 --> 00:19:07.160\nIn the real world, obviously,\nyou may want to tinker with that.\n\n397\n00:19:07.160 --> 00:19:10.160\nAnd as I said, the default is 80,\nand that is milliseconds.\n\n398\n00:19:10.160 --> 00:19:12.950\nJust let me make it clear there,\nthey do say milliseconds there but\n\n399\n00:19:12.950 --> 00:19:14.760\nyou obviously gotta be paying attention.\n\n400\n00:19:14.760 --> 00:19:16.491\nBut the default when you go in there\nwill be 80 just so you know and\n\n401\n00:19:16.491 --> 00:19:17.641\nyou can obviously modify that [CROSSTALK].\n\n402\n00:19:17.641 --> 00:19:19.750\n&gt;&gt; We don't have a space\nthere today though.\n\n403\n00:19:19.750 --> 00:19:20.328\nNo, no, no we don't.\n\n404\n00:19:20.328 --> 00:19:22.342\n&gt;&gt; [LAUGH]\n&gt;&gt; Milli and seconds,\n\n405\n00:19:22.342 --> 00:19:23.760\nwe do not have the space.\n\n406\n00:19:23.760 --> 00:19:27.414\nAnd at least server 2008 R2 Windows 7,\nas I've been talking about,\n\n407\n00:19:27.414 --> 00:19:30.210\ndepending on whether it is hosted or\ndistributed cache.\n\n408\n00:19:30.210 --> 00:19:33.410\nRemember, the value there would be\nthe hosted cache is the server,\n\n409\n00:19:33.410 --> 00:19:35.550\nwhereas the distribute\ncache is the client side.\n\n410\n00:19:35.550 --> 00:19:37.950\nSo we do wanna know the minimum\nrequirements on the OS's,\n\n411\n00:19:37.950 --> 00:19:39.760\nvery important for\nus to think about that as well.\n\n412\n00:19:39.760 --> 00:19:43.730\nAll right, so we've turned all those\nthings on, have them set up there.\n\n413\n00:19:43.730 --> 00:19:45.990\nSo those are the main\nsettings we would be doing.\n\n414\n00:19:45.990 --> 00:19:49.560\nNow if we decided we wanted to do branch\ncache distributing mode just so you could\n\n415\n00:19:49.560 --> 00:19:54.120\nsee it while we're here, we would go in\nand you could see we just enable that.\n\n416\n00:19:54.120 --> 00:19:59.790\nAnd then obviously based on that by itself\nthere are some additional settings here.\n\n417\n00:19:59.790 --> 00:20:02.860\nI set the age for\nsegments in the data cache.\n\n418\n00:20:02.860 --> 00:20:06.300\nI configure client branch cache version\nsupport we could say, hey you know what?\n\n419\n00:20:06.300 --> 00:20:09.320\nDon't want those older clients\nmaybe only Windows 8 or better so\n\n420\n00:20:09.320 --> 00:20:10.610\nwe can be selective.\n\n421\n00:20:10.610 --> 00:20:12.330\nThen we do support all\nthe way back to Windows 7.\n\n422\n00:20:12.330 --> 00:20:15.140\nYou have some additional\noptions here it's up to us.\n\n423\n00:20:15.140 --> 00:20:16.830\nSo we set this policy up.\n\n424\n00:20:16.830 --> 00:20:19.910\nWe've actually already applied\nthis policy of gone through and\n\n425\n00:20:19.910 --> 00:20:22.720\napplied it done the GP update and\ndone all that.\n\n426\n00:20:22.720 --> 00:20:24.320\nThere's a couple other bells and\nwhistles and\n\n427\n00:20:24.320 --> 00:20:26.248\na little group of settings\nthat we have to contend with.\n\n428\n00:20:26.248 --> 00:20:28.862\nSo, I wanna show you a couple\nof other things we did go in,\n\n429\n00:20:28.862 --> 00:20:33.845\nwe did take a look at the policy and\ntalk about how to create the group.\n\n430\n00:20:33.845 --> 00:20:35.305\nWe bound the group to the policy.\n\n431\n00:20:35.305 --> 00:20:36.615\nI showed you all that.\n\n432\n00:20:36.615 --> 00:20:42.045\nOn the firewall on this machine where\nwe are setting up and allowing,\n\n433\n00:20:42.045 --> 00:20:46.260\nright for the firewall, or excuse me for\nthe policy information everything else,\n\n434\n00:20:46.260 --> 00:20:49.640\nand also for branch cache to be used,\nthe firewall has to be manipulated.\n\n435\n00:20:49.640 --> 00:20:52.120\nWe have certain rules\nthat we have to enable.\n\n436\n00:20:52.120 --> 00:20:56.050\nWhen you come into the firewall, and\nwe're on the inbound rule set by the way,\n\n437\n00:20:56.050 --> 00:20:59.940\nthe three rules that are here,\nbranch cache content retrievable,\n\n438\n00:20:59.940 --> 00:21:04.990\nbranch cache hosted cache, branch cache\npeer discovery, all three are turned off.\n\n439\n00:21:04.990 --> 00:21:05.970\nI've enabled two of them.\n\n440\n00:21:07.190 --> 00:21:11.110\nPosted cache is not turned on,\nbecause we're not hosting on this server,\n\n441\n00:21:11.110 --> 00:21:13.790\nthis is the domain control,\nwe're hosting on one of the other ones.\n\n442\n00:21:13.790 --> 00:21:17.240\nBut you would, in theory, have to enable\nthree if this was the hosted cache server,\n\n443\n00:21:17.240 --> 00:21:19.070\nyou'd have to have all three enabled.\n\n444\n00:21:19.070 --> 00:21:22.770\nBut I've enabled content retrieval, and\nI've enabled cache peer discovery, so\n\n445\n00:21:22.770 --> 00:21:25.150\nthat the domain controller can\nprovide the group policy and\n\n446\n00:21:25.150 --> 00:21:27.820\nalso provide some information\nabout branch cache.\n\n447\n00:21:27.820 --> 00:21:31.140\nSo you have to turn these rules on,\nand you can turn them on very easily.\n\n448\n00:21:31.140 --> 00:21:34.300\nAll you have to do is just, you right\nclick on it and choose enable rule.\n\n449\n00:21:34.300 --> 00:21:36.140\nThat's all I did to turn them on.\n\n450\n00:21:36.140 --> 00:21:38.260\nSo we have that enabled,\nwe have all of that.\n\n451\n00:21:38.260 --> 00:21:39.920\nNow that's the domain controller.\n\n452\n00:21:39.920 --> 00:21:42.430\nLet me just show you one other thing here\n\n453\n00:21:42.430 --> 00:21:45.750\non the domain controller\nsince we are talking.\n\n454\n00:21:45.750 --> 00:21:49.120\nLet's not worry about all the crazy\nfile hashes that are there,\n\n455\n00:21:49.120 --> 00:21:51.119\nbecause that was just me going through.\n\n456\n00:21:52.670 --> 00:21:55.460\nAnd configuring some hashes on\nthe directory we're sharing,\n\n457\n00:21:55.460 --> 00:21:58.330\njust to provide some data\nthat we need in there.\n\n458\n00:21:58.330 --> 00:22:02.740\nBut I did go ahead here, as you can see,\nat the right top of this and\n\n459\n00:22:02.740 --> 00:22:05.730\nused power shell to enable\nthe branch cache role.\n\n460\n00:22:05.730 --> 00:22:07.670\nThe feature for branch cache.\n\n461\n00:22:07.670 --> 00:22:11.970\nAnd I installed it just as I would any\nother role you see me do this with DNS,\n\n462\n00:22:11.970 --> 00:22:14.470\nDHCP, IPAM right at this point.\n\n463\n00:22:14.470 --> 00:22:16.380\nWe've done a lot of these\nalready in prior episodes,\n\n464\n00:22:16.380 --> 00:22:20.110\nyou can obviously go back, take a look we\nuse this for just about anything we do.\n\n465\n00:22:20.110 --> 00:22:21.700\nCould we do it through Server Manager?\n\n466\n00:22:21.700 --> 00:22:23.330\nCould've done it through Server Manager.\n\n467\n00:22:23.330 --> 00:22:25.740\nWe did this for\nthe iSCSI storage solution as well.\n\n468\n00:22:25.740 --> 00:22:26.860\ncould do it either way.\n\n469\n00:22:26.860 --> 00:22:29.390\nPoint is, we would just have to\nknow the name of the feature.\n\n470\n00:22:29.390 --> 00:22:33.550\nIn this case file server-branchcash for\nthe branch cache feature.\n\n471\n00:22:33.550 --> 00:22:36.450\nInclude management tools, we installed\nthat, and made that available.\n\n472\n00:22:36.450 --> 00:22:38.700\nI just wanna point that out to you here.\n\n473\n00:22:38.700 --> 00:22:40.850\nNow in addition, what we've done,\n\n474\n00:22:40.850 --> 00:22:45.160\nlet me just walk through kind of the logic\nof the other servers that we're on here.\n\n475\n00:22:45.160 --> 00:22:47.900\nThat is my domain controller.\n\n476\n00:22:47.900 --> 00:22:53.270\nThat is my Windows, Windows,\nWindows, Windows 7, Windows 8.\n\n477\n00:22:53.270 --> 00:22:55.710\nOkay, yeah, I'm just trying to\nfind the right machine here.\n\n478\n00:22:55.710 --> 00:23:00.490\nAll right, so on my PLAB DM-01 machine,\nwhich is where we're putting\n\n479\n00:23:00.490 --> 00:23:03.790\nthe hosted cache, so this the server\nthat's actually gonna be running that.\n\n480\n00:23:03.790 --> 00:23:07.410\nSo we do have here you'll see,\nwe have installed.\n\n481\n00:23:07.410 --> 00:23:09.520\nI'm just gonna go back up so you can see.\n\n482\n00:23:09.520 --> 00:23:12.690\nWe have installed branch\ncache as well as you can see.\n\n483\n00:23:12.690 --> 00:23:14.740\nI'll include the management tools, right.\n\n484\n00:23:14.740 --> 00:23:19.300\nWe've gone ahead and I've used\nthe PowerShell commandlet which we can\n\n485\n00:23:19.300 --> 00:23:21.550\nuse to enable and configure branch cash.\n\n486\n00:23:21.550 --> 00:23:24.080\nDoesn't have to be in other words,\njust from the interface.\n\n487\n00:23:24.080 --> 00:23:26.020\nWe do this through PowerShell.\n\n488\n00:23:26.020 --> 00:23:30.262\nWe could also do it through group policy\nor Netsh, right, we have three options.\n\n489\n00:23:30.262 --> 00:23:34.490\nNetsh BranchCache, set service command\nwould be how we would do that, but\n\n490\n00:23:34.490 --> 00:23:37.290\nwith PowerShell,\nwe come in, enable BCHost,\n\n491\n00:23:37.290 --> 00:23:42.430\nit's server, register SCP and\nthen get the BranchCache, BC BranchCache.\n\n492\n00:23:42.430 --> 00:23:45.937\nSo we're enabling the BranchCache\nhosted cache solution here,\n\n493\n00:23:45.937 --> 00:23:49.326\nthat's what I turned on, and\nregister the content provider.\n\n494\n00:23:49.326 --> 00:23:53.136\nAnd then just check the status to make\nsure it was up and running, get B.C.\n\n495\n00:23:53.136 --> 00:23:56.980\nstatus, let's me validate that\nthe configuration was successful.\n\n496\n00:23:56.980 --> 00:24:00.413\nYou know in PowerShell a lot of the times\nwhen I issue a command like this as you\n\n497\n00:24:00.413 --> 00:24:02.680\ncan see I did There's no\necho back to the console.\n\n498\n00:24:02.680 --> 00:24:06.640\nIn other words, it just runs and\nwe get a command prompt, nothing there.\n\n499\n00:24:06.640 --> 00:24:09.914\nWe assume because we get nothing that\nit was functional and correct and\n\n500\n00:24:09.914 --> 00:24:10.976\nworked the right way.\n\n501\n00:24:10.976 --> 00:24:13.157\nAnd indeed that's a good assumption, but\n\n502\n00:24:13.157 --> 00:24:17.043\nmy point is not every command in\nPowerShell will issue a successful output.\n\n503\n00:24:17.043 --> 00:24:19.008\nYou could see here for instance, right?\n\n504\n00:24:19.008 --> 00:24:23.298\nWith the install that we do get back\nan echo, we do get back a success.\n\n505\n00:24:23.298 --> 00:24:27.590\nAnd we do get validation, but\nmany commands will only scream at you in\n\n506\n00:24:27.590 --> 00:24:30.970\ntypically angry red text\nwhen there's an error.\n\n507\n00:24:30.970 --> 00:24:34.120\nBut it will not actually give you anything\nthat indicates success by default.\n\n508\n00:24:34.120 --> 00:24:36.909\nSo the reason we do something\nlike get BC status is\n\n509\n00:24:36.909 --> 00:24:41.360\nto check that indeed the configuration\ndid actually go through, right?\n\n510\n00:24:41.360 --> 00:24:43.598\nBecause sometimes, we may not know.\n\n511\n00:24:43.598 --> 00:24:46.685\nEven though we assume there's nothing\nwrong, we may not actually know for\n\n512\n00:24:46.685 --> 00:24:47.330\nsure, right?\n\n513\n00:24:47.330 --> 00:24:48.667\n&gt;&gt; Yeah.\n&gt;&gt; So just wanna think about that and\n\n514\n00:24:48.667 --> 00:24:51.105\njust explain why we're doing\nthings the way we're doing it.\n\n515\n00:24:51.105 --> 00:24:52.177\n&gt;&gt; It's a great habit to get into.\n\n516\n00:24:52.177 --> 00:24:53.114\n&gt;&gt; To give you the benefit\nof understanding.\n\n517\n00:24:53.114 --> 00:24:54.353\nIt's good habit to get into, absolutely.\n\n518\n00:24:54.353 --> 00:24:56.644\nAnd it's good for\nyou to check the status of those things.\n\n519\n00:24:56.644 --> 00:25:01.875\nSo when we do that, we just mark, oops,\nhold on one second, random clicking.\n\n520\n00:25:01.875 --> 00:25:02.540\n[LAUGH] All right, there we are.\n\n521\n00:25:02.540 --> 00:25:05.242\nYou could see right here,\nBranchCacheEnabled : True.\n\n522\n00:25:05.242 --> 00:25:06.732\nBranchCacheServerStatus : Running.\n\n523\n00:25:06.732 --> 00:25:09.180\nBranchCacheServerStartType : Automatic.\n\n524\n00:25:09.180 --> 00:25:11.246\nSo we wanna see that configuration, right?\n\n525\n00:25:11.246 --> 00:25:13.044\nThat's part of what's good there.\n\n526\n00:25:13.044 --> 00:25:15.772\nClientConfiguration shows\nus that it's there.\n\n527\n00:25:15.772 --> 00:25:20.060\nWe do have the ContentServerIsEnabled\n: True, right?\n\n528\n00:25:20.060 --> 00:25:21.350\nSo we have that there.\n\n529\n00:25:21.350 --> 00:25:25.360\nNetworkConfiguration,\nHostedCacheServerConfiguration which is\n\n530\n00:25:25.360 --> 00:25:27.680\nwhat we're looking for\nspecifically as well.\n\n531\n00:25:27.680 --> 00:25:31.030\nYou'll see right here that,\nthat is set up and enabled.\n\n532\n00:25:31.030 --> 00:25:35.352\nSo again, we're just stepping through\nby dumping the output of the config to\n\n533\n00:25:35.352 --> 00:25:37.650\nthe console and checking the status.\n\n534\n00:25:37.650 --> 00:25:39.934\nWe're stepping through and making sure\neverything is set up the right way and\n\n535\n00:25:39.934 --> 00:25:41.390\nindeed we can see it is,\nand that's important.\n\n536\n00:25:41.390 --> 00:25:45.527\nSo we have all of that and\nthen what I did is I went ahead and\n\n537\n00:25:45.527 --> 00:25:48.184\njust added IIS as a web server here.\n\n538\n00:25:48.184 --> 00:25:50.957\nJust to bind a certificate, and\ncreate a self signed certificate, so\n\n539\n00:25:50.957 --> 00:25:52.180\nI could validate the content.\n\n540\n00:25:52.180 --> 00:25:54.362\nWe're not gonna worry really\nabout how we did that and why,\n\n541\n00:25:54.362 --> 00:25:56.076\nit's not pertinent to BranchCache overall.\n\n542\n00:25:56.076 --> 00:25:58.398\nIt's really specific to this\nparticular environment, but\n\n543\n00:25:58.398 --> 00:26:00.410\nthat's why you're seeing\nme set up the web server.\n\n544\n00:26:00.410 --> 00:26:04.890\nSo we've done that piece,\nand then on the clients,\n\n545\n00:26:04.890 --> 00:26:10.050\nwherever we may wanna consume branch\ncache, I'm on a Windows 7 client here.\n\n546\n00:26:10.050 --> 00:26:11.144\nDon't see those too often anymore, right?\n\n547\n00:26:11.144 --> 00:26:14.622\nBut I'm on a Windows 7 client,\nand I've gone ahead and\n\n548\n00:26:14.622 --> 00:26:16.848\nnow that I have the contents set up.\n\n549\n00:26:16.848 --> 00:26:18.852\nAnd by the way speaking\nof content being set up,\n\n550\n00:26:18.852 --> 00:26:21.230\nlet me just do one other other thing here.\n\n551\n00:26:21.230 --> 00:26:26.110\nCuz we do probably wanna go in and\ndo wanna take a look at that.\n\n552\n00:26:26.110 --> 00:26:28.800\nAnd where is that?\n\n553\n00:26:28.800 --> 00:26:31.490\nThat is going to be right here.\n\n554\n00:26:31.490 --> 00:26:35.070\nSo let's just do one other thing,\nspeaking of content.\n\n555\n00:26:35.070 --> 00:26:38.610\nSo I'm just gonna go over here.\n\n556\n00:26:38.610 --> 00:26:39.838\nNo, wait, it's not on this machine.\n\n557\n00:26:39.838 --> 00:26:42.700\n&gt;&gt; Are you just making sure we\nhave some content to share?\n\n558\n00:26:42.700 --> 00:26:43.692\n&gt;&gt; No, no, we do, definitely.\n\n559\n00:26:43.692 --> 00:26:46.011\n&gt;&gt; Okay.\n&gt;&gt; I just wanna show you how we enabled\n\n560\n00:26:46.011 --> 00:26:50.530\nthe share for that, but I just have to\nget to the right machine to do that.\n\n561\n00:26:50.530 --> 00:26:53.216\nJust one second.\n\n562\n00:26:53.216 --> 00:26:58.523\nAnd all right, so here the SW folder is\nthe folder we're sharing at amount and\n\n563\n00:26:58.523 --> 00:27:00.280\nmaking available.\n\n564\n00:27:00.280 --> 00:27:02.702\nSo the SW folder,\nlook likes every other folder.\n\n565\n00:27:02.702 --> 00:27:05.093\nThey're really nothing unusual,\nyou do see there's content.\n\n566\n00:27:05.093 --> 00:27:07.852\nThere's what was up on the Window\n7 machine a minute ago because I\n\n567\n00:27:07.852 --> 00:27:09.720\nmapped the drive over\nhere to connect to it.\n\n568\n00:27:09.720 --> 00:27:13.180\nBut what I wanted to show you,\nwas how we enable BranchCache for\n\n569\n00:27:13.180 --> 00:27:16.080\nthis particular folder or for\nany folder for that matter.\n\n570\n00:27:16.080 --> 00:27:19.039\nSo we're gonna right click here,\ngonna go to Properties,\n\n571\n00:27:19.039 --> 00:27:21.240\nonce we have this all\nconfigured of course.\n\n572\n00:27:21.240 --> 00:27:23.732\nAnd we're gonna go in,\nwe're gonna go to Sharing, and\n\n573\n00:27:23.732 --> 00:27:25.440\nwe're gonna go to Advanced Sharing.\n\n574\n00:27:26.730 --> 00:27:29.763\nInstead of sharing it out and doing all\nthe permissions stuff we normally do,\n\n575\n00:27:29.763 --> 00:27:31.597\ngonna go to the cache setting here,\nCaching.\n\n576\n00:27:31.597 --> 00:27:33.459\nA lot times people just\nblow right past this,\n\n577\n00:27:33.459 --> 00:27:36.310\ndon't even stop to think about\nthe fact that that setting is there.\n\n578\n00:27:36.310 --> 00:27:39.316\nAnd when we go in there,\nEnable BranchCache, which I checked off,\n\n579\n00:27:39.316 --> 00:27:40.758\nwas not checked off by default.\n\n580\n00:27:40.758 --> 00:27:44.176\nBut I checked off to enable this\ncontent be made available for\n\n581\n00:27:44.176 --> 00:27:46.120\nBranchCache has been set up.\n\n582\n00:27:46.120 --> 00:27:49.252\nSo that's how we actually specify this\ncontent should be made available,\n\n583\n00:27:49.252 --> 00:27:50.906\nEnable BranchCache check off the box.\n\n584\n00:27:50.906 --> 00:27:53.920\nAnd now that's gonna be made available\nwe're gonna see that's available on\n\n585\n00:27:53.920 --> 00:27:55.694\nthe Windows 7 machine\nhere in just a second.\n\n586\n00:27:55.694 --> 00:27:59.313\nSo let me just get out of this, I just\nwanted to show you where that came from so\n\n587\n00:27:59.313 --> 00:28:00.460\nyou were aware of that.\n\n588\n00:28:00.460 --> 00:28:03.808\nAll right, so\nwe're on our Windows 7 machine here.\n\n589\n00:28:03.808 --> 00:28:11.790\nAnd in Windows 7, in our E drive,\nhold on one second.\n\n590\n00:28:11.790 --> 00:28:12.790\nWhere's my drive map?\n\n591\n00:28:15.750 --> 00:28:18.770\nAll these different moving parts and\npieces.\n\n592\n00:28:18.770 --> 00:28:21.320\nThere it is right there,\nokay, my Z drive, excuse me.\n\n593\n00:28:21.320 --> 00:28:22.762\nI said E drive, I meant my Z drive.\n\n594\n00:28:22.762 --> 00:28:26.750\nI mapped the drive out to the content\nyou just saw me share through SW.\n\n595\n00:28:26.750 --> 00:28:27.972\nSo you can see it's all here.\n\n596\n00:28:27.972 --> 00:28:30.910\nNow, what I can do is I can\nobviously get that content.\n\n597\n00:28:30.910 --> 00:28:33.644\nI can copy it down locally if I want to,\nI can access it,\n\n598\n00:28:33.644 --> 00:28:36.470\nit's coming from over\nthe network obviously now.\n\n599\n00:28:36.470 --> 00:28:39.145\nIt's hosted remember, so I've gotta\ngo get it, it's not distributed,\n\n600\n00:28:39.145 --> 00:28:41.110\nbeing made available from\nthis machine to all others.\n\n601\n00:28:41.110 --> 00:28:43.490\nBut I'm grabbing it over the network,\nright?\n\n602\n00:28:43.490 --> 00:28:50.270\nSo I can go grab one or all of these,\njust do a Ctrl+C to copy.\n\n603\n00:28:50.270 --> 00:28:53.300\nAnd I'm just getting it through\nessentially my network share.\n\n604\n00:28:53.300 --> 00:28:56.081\nI mean remember at the end of the day,\nBranchCache on the hosted form is nothing\n\n605\n00:28:56.081 --> 00:28:58.880\nmore than a file server, it's providing\ncontent that we're connecting to.\n\n606\n00:28:58.880 --> 00:29:02.213\nThe only reason I mapped the drive is so\nthat I can have a direct connection to it\n\n607\n00:29:02.213 --> 00:29:04.490\nif I wanna be able to go\nback to a time and again.\n\n608\n00:29:04.490 --> 00:29:06.315\nBut I'm just grabbing the content,\ngetting it and\n\n609\n00:29:06.315 --> 00:29:07.682\nbringing down locally if I choose to.\n\n610\n00:29:07.682 --> 00:29:11.840\nI can create a new folder here on\nthe desktop, let's say, right?\n\n611\n00:29:11.840 --> 00:29:15.428\nAnd let's call this,\nlet's say BC for BranchCache.\n\n612\n00:29:15.428 --> 00:29:16.889\nAnd if I then go ahead, and\n\n613\n00:29:16.889 --> 00:29:20.690\nI paste the content in there\nit'll come across the network.\n\n614\n00:29:20.690 --> 00:29:22.860\nAnd whatever it is not a lot of material,\nit doesn't take very long.\n\n615\n00:29:22.860 --> 00:29:26.047\nBut this is me accessing the content\nthrough the hosted cash from\n\n616\n00:29:26.047 --> 00:29:27.116\nthe server, right?\n\n617\n00:29:27.116 --> 00:29:30.240\nSo I'm bringing in and\npulling it down and that's what I'm doing.\n\n618\n00:29:30.240 --> 00:29:34.360\nSo I'm able to go ahead and do that and\nbring it over if I need to just copy and\n\n619\n00:29:34.360 --> 00:29:35.498\nmake it available.\n\n620\n00:29:35.498 --> 00:29:40.013\nSo I'm using BranchCache and I'm using the\nability to be able to enable the access to\n\n621\n00:29:40.013 --> 00:29:42.390\nthat content coming from that server.\n\n622\n00:29:42.390 --> 00:29:44.354\nWith all the policy settings\nenabled as you saw and\n\n623\n00:29:44.354 --> 00:29:46.618\neverything that I am specifying\nthat I want configured.\n\n624\n00:29:46.618 --> 00:29:50.430\nAnd that's applied, we did apply policy\nto both this client and the other one.\n\n625\n00:29:50.430 --> 00:29:54.210\nThis one and the Windows 8 client, I have\na Windows 8 client connected here as well.\n\n626\n00:29:54.210 --> 00:29:56.908\nBoth of them are in that BrancCache\ngroup that is the policy applied.\n\n627\n00:29:56.908 --> 00:29:57.966\nGonna be able to go ahead and\n\n628\n00:29:57.966 --> 00:30:00.036\nbring down the content as\na result of that if I want to.\n\n629\n00:30:00.036 --> 00:30:03.039\nSo we can see that we're copying it and\nactually,\n\n630\n00:30:03.039 --> 00:30:05.696\nI have Performance Monitor up and running.\n\n631\n00:30:05.696 --> 00:30:07.549\nWe can take a look and\n\n632\n00:30:07.549 --> 00:30:13.440\njust see that I've got all\nthe BranchCache counters loaded in.\n\n633\n00:30:13.440 --> 00:30:16.361\nI don't know if you're familiar with\nthe fact there are quite a number\n\n634\n00:30:16.361 --> 00:30:19.050\nof BranchCache performance object\nmonitors that I can look at.\n\n635\n00:30:19.050 --> 00:30:22.370\nAnd so I've just loaded them up in here,\nso I can see what they are.\n\n636\n00:30:22.370 --> 00:30:26.080\nAnd yeah, I can see there are really\nnot too many of them going on.\n\n637\n00:30:26.080 --> 00:30:27.660\nThere's not a lot happening,\n\n638\n00:30:27.660 --> 00:30:32.160\njust hosted processor time rather there's\nreally no limits that's peaking right now.\n\n639\n00:30:32.160 --> 00:30:34.744\nWe're not really utilizing much,\nbecause we're making the initial copy,\n\n640\n00:30:34.744 --> 00:30:35.785\nwe're just bringing it over.\n\n641\n00:30:35.785 --> 00:30:38.165\nThere isn't much traffic or much activity.\n\n642\n00:30:38.165 --> 00:30:40.629\nIf I was doing Hosted Cache and\nI was on this machine,\n\n643\n00:30:40.629 --> 00:30:42.370\nthis is where I was grabbing it from.\n\n644\n00:30:42.370 --> 00:30:46.323\nI'd see activity cuz I'm copying and\nI would see the content coming across.\n\n645\n00:30:46.323 --> 00:30:50.015\nBut because I'm copying down here,\nthere really isn't much going on.\n\n646\n00:30:50.015 --> 00:30:52.883\nIf I take a look at the, where is it?\n\n647\n00:30:52.883 --> 00:30:56.420\n[NOISE] This one right here, I think.\n\n648\n00:30:56.420 --> 00:30:57.120\nDo I have it loaded up here?\n\n649\n00:30:57.120 --> 00:30:59.190\nI may not have loaded it up.\n\n650\n00:30:59.190 --> 00:31:00.596\nNo, I didn't turn on\nthe Performance Monitor here.\n\n651\n00:31:00.596 --> 00:31:02.703\nI would see the content and\nI'd see the bandwidth and everything,\n\n652\n00:31:02.703 --> 00:31:04.480\nif I monitored on this machine\nwhere it's coming from.\n\n653\n00:31:04.480 --> 00:31:07.470\nI just forgot to turn on\nthe monitor on this one.\n\n654\n00:31:07.470 --> 00:31:10.014\nBut yeah, you could really,\nwhat I just wanted to show you more so\n\n655\n00:31:10.014 --> 00:31:11.974\nthan the monitors themselves\nactually peeking.\n\n656\n00:31:11.974 --> 00:31:12.969\n&gt;&gt; The ability to do that.\n\n657\n00:31:12.969 --> 00:31:15.040\n&gt;&gt; And showing you stuff was really just\nthe fact that there are so many counters.\n\n658\n00:31:15.040 --> 00:31:18.120\nAnd if you take a look, and\nthis is where I want to add them.\n\n659\n00:31:18.120 --> 00:31:21.094\nI'm just gonna go in so you can see them.\n\n660\n00:31:21.094 --> 00:31:23.560\nJust scroll back up here, so\nwe can get to BranchCache.\n\n661\n00:31:23.560 --> 00:31:24.316\nThere it is right there.\n\n662\n00:31:24.316 --> 00:31:27.830\nIf you take a look,\nthere are quite a number of them.\n\n663\n00:31:27.830 --> 00:31:30.358\nA lot of times, people don't realize\nhow many counters we have and\n\n664\n00:31:30.358 --> 00:31:31.316\nthe ability to monitor.\n\n665\n00:31:31.316 --> 00:31:35.521\nBut I've got the bits coming to and\nfrom the cache and the server,\n\n666\n00:31:35.521 --> 00:31:40.790\nthe discovery attempts, the Hosted Cache\nversus Local Cache information.\n\n667\n00:31:40.790 --> 00:31:43.882\nI've got the retrieval, so I'm seeing\nthe amount of traffic to retrieve.\n\n668\n00:31:43.882 --> 00:31:48.790\nI'm seeing SMB, if I'm accessing\nfiles versus HTTP or HTTPS traffic.\n\n669\n00:31:48.790 --> 00:31:51.309\nSo I've got, as you can see,\nquite a number-\n\n670\n00:31:51.309 --> 00:31:52.159\n&gt;&gt; There is a lot.\n\n671\n00:31:52.159 --> 00:31:54.978\n&gt;&gt; Of counters that I can monitor\nwith to truly tell what's going\n\n672\n00:31:54.978 --> 00:31:56.016\non with BranchCache.\n\n673\n00:31:56.016 --> 00:31:59.185\nAnd give me the ability to see how this\nis configured and how it is working.\n\n674\n00:31:59.185 --> 00:32:02.803\nSo got quite a bit of information there or\nrather quite a bit of capability to\n\n675\n00:32:02.803 --> 00:32:05.650\nmonitor that information exchange,\nI should say.\n\n676\n00:32:05.650 --> 00:32:07.670\nWe talked about how to enable\nBranchCache and set it up.\n\n677\n00:32:07.670 --> 00:32:10.700\nShowed you the group policy,\nsettings involved.\n\n678\n00:32:10.700 --> 00:32:14.330\nWe went ahead, excuse me, and took\na look at how we could create a policy.\n\n679\n00:32:14.330 --> 00:32:17.720\nTalked a little bit about PowerShell,\nand talked about NetHS.\n\n680\n00:32:17.720 --> 00:32:20.580\nAnd the fact, we can use any or\nall of these to be able to configure this.\n\n681\n00:32:20.580 --> 00:32:24.060\nWe talked about setting up and\nconfiguring BranchCache in both hosted and\n\n682\n00:32:24.060 --> 00:32:25.020\ndistributed mode.\n\n683\n00:32:25.020 --> 00:32:26.062\nI showed you the preference for that.\n\n684\n00:32:26.062 --> 00:32:28.985\nBut just going through my notes to make\nsure we've covered all the important\n\n685\n00:32:28.985 --> 00:32:29.632\npoints for you.\n\n686\n00:32:29.632 --> 00:32:33.030\nI showed you the enable\nPC hosted client cmdlet.\n\n687\n00:32:33.030 --> 00:32:34.788\nI gave you a little example\nof that in the show notes.\n\n688\n00:32:34.788 --> 00:32:37.193\nBut we went through and\ntook a look at that as well.\n\n689\n00:32:37.193 --> 00:32:39.915\nAnd we talked about how we\ncould check the status on that.\n\n690\n00:32:39.915 --> 00:32:42.335\n&gt;&gt; As well as showing where in\nthe firewall we get into [CROSSTALK]\n\n691\n00:32:42.335 --> 00:32:43.494\n&gt;&gt; Where in the firewall as well,\n\n692\n00:32:43.494 --> 00:32:46.133\nall the different firewall rules that\nwe could go in and take a look at.\n\n693\n00:32:46.133 --> 00:32:48.745\nAnd just some of the ability\nto be able to monitor.\n\n694\n00:32:48.745 --> 00:32:50.772\nLook at some of the monitoring\nthat could go on there, as well.\n\n695\n00:32:50.772 --> 00:32:53.495\nEvent Viewer could be used as\nwell as Performance Monitor.\n\n696\n00:32:53.495 --> 00:32:55.299\nI showed you Performance Monitor, but\n\n697\n00:32:55.299 --> 00:32:58.807\nyou could be using a Event Viewer to be\nable to go in and look at some event ids.\n\n698\n00:32:58.807 --> 00:33:02.285\nAnd new information around BranchCaches,\nwell if you needed to.\n\n699\n00:33:02.285 --> 00:33:03.832\nBranchCache in a nutshell, as they say.\n\n700\n00:33:03.832 --> 00:33:06.543\n&gt;&gt; All right, well it's a lot to think\nabout, but it's not too difficult,\n\n701\n00:33:06.543 --> 00:33:08.610\nso thank you for\nsharing that with us, Adam.\n\n702\n00:33:08.610 --> 00:33:09.842\nAnd thank you for being with us today.\n\n703\n00:33:09.842 --> 00:33:12.220\nBut for this show,\nwe are gonna go ahead and sign out.\n\n704\n00:33:12.220 --> 00:33:14.072\nRemember, I'm your host, Cherokee Boose.\n\n705\n00:33:14.072 --> 00:33:14.968\n&gt;&gt; I'm Adam Gordon.\n\n706\n00:33:14.968 --> 00:33:16.728\n&gt;&gt; See you next time here at ITProTV.\n\n707\n00:33:16.728 --> 00:33:24.264\n[MUSIC]\n\n708\n00:33:24.264 --> 00:33:26.792\n&gt;&gt; Thank you for watching, ITPro.TV.\n\n",
          "vimeoId": "224329283"
        },
        {
          "description": "In this show, Adam and Cherokee introduce File Server Resource Manager. Adam explains why this feature can be so beneficial. He begins a demonstration to show how to create specific classification rules.",
          "length": "2002",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-5-advance_file_services_pt5-0603017-PGM.00_38_48_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-5-advance_file_services_pt5-0603017-PGM.00_38_48_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-5-advance_file_services_pt5-0603017-PGM.00_38_48_20.Still001-sm.jpg",
          "title": "Advanced File Services Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.300 --> 00:00:08.319\nWelcome to IT Pro TV [CROSSTALK]\n\n2\n00:00:08.319 --> 00:00:11.980\nYou're watching IT Pro TV.\n\n3\n00:00:11.980 --> 00:00:15.300\nWelcome to your MCSA 70-412 series.\n\n4\n00:00:15.300 --> 00:00:16.891\nI am your show host Cherokee Boose.\n\n5\n00:00:16.891 --> 00:00:21.101\nIn this episode, we will continue taking\na look at advanced File services and\n\n6\n00:00:21.101 --> 00:00:24.440\nback in the studios with us today,\nwe have Mr. Adam Gordon.\n\n7\n00:00:24.440 --> 00:00:25.770\nHow are you today Adam?\n\n8\n00:00:25.770 --> 00:00:26.460\nI am doing well.\n\n9\n00:00:26.460 --> 00:00:28.644\nHopefully everybody is also and\nI know you are Cherokee,\n\n10\n00:00:28.644 --> 00:00:30.204\nwe were chatting before we got started.\n\n11\n00:00:30.204 --> 00:00:33.733\nSo it is a good day to\nlearn about file system and\n\n12\n00:00:33.733 --> 00:00:37.000\nfile system advanced things, services.\n\n13\n00:00:37.000 --> 00:00:38.920\nI think it's a perfect day to\nlearn about that but what is it?\n\n14\n00:00:38.920 --> 00:00:39.930\nWhat are we going to do?\n\n15\n00:00:39.930 --> 00:00:42.990\nYeah, so\nwe're gonna be talking about FR- FSRM?\n\n16\n00:00:44.220 --> 00:00:46.400\nFSRM. FSRM.\nSo- What does that even mean Adam?\n\n17\n00:00:46.400 --> 00:00:47.755\nWell, it is an acronym.\n\n18\n00:00:47.755 --> 00:00:51.060\n[LAUGH] So as all good acronyms are,\nit does have a meaning.\n\n19\n00:00:51.060 --> 00:00:52.760\nWe should probably tell\nyou what that meaning is.\n\n20\n00:00:52.760 --> 00:00:55.820\n[LAUGH] So we had actually\nplanned to have a little back and\n\n21\n00:00:55.820 --> 00:00:58.010\nforth about it- It didn't go as great as\nI thought it was going to go, though.\n\n22\n00:00:58.010 --> 00:00:59.380\nDid not go the way it was supposed to but\nthat's okay.\n\n23\n00:00:59.380 --> 00:01:00.620\nWe're gonna keep going.\n\n24\n00:01:00.620 --> 00:01:03.720\nSo Cherookee was supposed to say, hey\nthis is great to have you back, and hey,\n\n25\n00:01:03.720 --> 00:01:06.700\nlet's talk about FSRM and I was supposed\nto answer the question, what does it do.\n\n26\n00:01:06.700 --> 00:01:08.230\nSo you can see how that turned out.\n\n27\n00:01:08.230 --> 00:01:08.977\nWe messed it up.\n\n28\n00:01:08.977 --> 00:01:10.030\nWe're just going to keep going.\n\n29\n00:01:10.030 --> 00:01:12.410\nAnyway, so FSRM,\nfile server resource manager.\n\n30\n00:01:12.410 --> 00:01:13.520\nWhat does it do?\n\n31\n00:01:13.520 --> 00:01:14.885\nGreat question to ask and\n\n32\n00:01:14.885 --> 00:01:18.200\na great thing to talk about\nactually because it is another one\n\n33\n00:01:18.200 --> 00:01:22.697\nof those kind of hidden gems that we talk\nabout sometimes in the operating system.\n\n34\n00:01:22.697 --> 00:01:27.665\nDon´t often see it, may not even know it´s\nthere, may not use it all that often,\n\n35\n00:01:27.665 --> 00:01:31.553\nbut it is important to be aware of and\nit is one of the things that,\n\n36\n00:01:31.553 --> 00:01:36.305\ndepending on what you do and what your\nskill set, your role, your job function\n\n37\n00:01:36.305 --> 00:01:40.697\nmay be within the general parameters\nof I do IT, or I´m a network admin or\n\n38\n00:01:40.697 --> 00:01:45.450\nperhaps I have a security focus in what\nI do, you may not come across this tool.\n\n39\n00:01:45.450 --> 00:01:49.250\nThis really is part of what we\nwould call GRC, governance risk and\n\n40\n00:01:49.250 --> 00:01:51.600\ncompliance as a catch all container,\n\n41\n00:01:51.600 --> 00:01:56.700\na categorization of skills and\nthings that we may engage in, more so on\n\n42\n00:01:56.700 --> 00:02:01.800\nthe security side than on the just generic\nIT admin side, but it does cross over.\n\n43\n00:02:01.800 --> 00:02:05.630\nThis tool's all about classification\ncategorization of data which is\n\n44\n00:02:05.630 --> 00:02:10.360\nessentially how we assign meta data or\nproperties to data to describe it and\n\n45\n00:02:10.360 --> 00:02:13.990\nthen we use that to manage access,\nto audit access,\n\n46\n00:02:13.990 --> 00:02:17.030\nto apply access control,\nthings of that nature.\n\n47\n00:02:17.030 --> 00:02:22.860\nSo, it is just another way to come at\nthe idea of discretionary access control,\n\n48\n00:02:22.860 --> 00:02:26.220\nwhat we often talk about as\nbeing the underlying foundation,\n\n49\n00:02:26.220 --> 00:02:29.780\nthe model that we use,\nat least in Microsoft and Windows anyway.\n\n50\n00:02:29.780 --> 00:02:30.950\nWe talk about RBAC.\n\n51\n00:02:30.950 --> 00:02:32.700\nYou've heard us talk about that before.\n\n52\n00:02:32.700 --> 00:02:38.250\nRole based access control,\nthe idea of using a group methodology or\n\n53\n00:02:38.250 --> 00:02:42.110\na group management philosophy\nby putting users into groups,\n\n54\n00:02:42.110 --> 00:02:46.690\nassigning permissions to groups, and then\ndelegating the authority to the group and\n\n55\n00:02:46.690 --> 00:02:50.410\ninheriting those permissions as a member\nof the group, to carry out activities,\n\n56\n00:02:50.410 --> 00:02:51.440\nwhatever they may be.\n\n57\n00:02:51.440 --> 00:02:54.410\nThese are the standard thought\nprocesses around Windows, and\n\n58\n00:02:54.410 --> 00:02:57.620\nthe application of permissions and\naccess control to users,\n\n59\n00:02:57.620 --> 00:03:01.540\nor objects, computer users, etc.,\nin the Windows environment.\n\n60\n00:03:01.540 --> 00:03:05.940\nAnd we're not really changing that with\nFSRM, but we are using it to manage and\n\n61\n00:03:05.940 --> 00:03:08.640\nclassify data stored on file servers.\n\n62\n00:03:08.640 --> 00:03:11.420\nWe are talking about file\nservices after all, so\n\n63\n00:03:11.420 --> 00:03:13.540\nit would be good to\nremind ourselves of that.\n\n64\n00:03:13.540 --> 00:03:17.920\nAnd it does give us the capability to\nextend that thought process and to do so\n\n65\n00:03:17.920 --> 00:03:22.170\nin an audit-able, verifiable and\nvalidation based way or\n\n66\n00:03:22.170 --> 00:03:24.812\nwith those skill sets those\nthought processes in mind.\n\n67\n00:03:24.812 --> 00:03:29.460\nThe file classification infrastructure\nautomates this process for us after we set\n\n68\n00:03:29.460 --> 00:03:34.580\nup some rules and go through the logic\nof configuring the FSRM feature.\n\n69\n00:03:34.580 --> 00:03:37.610\nWe do have to install it as\na feature on the file server so\n\n70\n00:03:37.610 --> 00:03:41.350\nwe go through and you've seen me walk\nthrough and us discuss that thought\n\n71\n00:03:41.350 --> 00:03:47.070\nprocess in many of these areas,\nDNS, DHCP, IPAM things like that.\n\n72\n00:03:47.070 --> 00:03:48.410\nWe do it the same way.\n\n73\n00:03:48.410 --> 00:03:51.660\nWe'll show you the quick snapshot in\nhow we do that through PowerShell.\n\n74\n00:03:51.660 --> 00:03:55.080\nYou'll add Windows feature, specify\nthe feature, include management tools,\n\n75\n00:03:55.080 --> 00:03:57.280\nwe've done that already,\nhave that up and running.\n\n76\n00:03:57.280 --> 00:04:01.930\nBut the trick here will be to install it\non a file server, it being the feature and\n\n77\n00:04:01.930 --> 00:04:05.670\nthen use the feature in the management\nconsole that comes with it to stand up and\n\n78\n00:04:05.670 --> 00:04:10.980\nconfigure the opportunity then to use\nthis to apply policies, dynamically,\n\n79\n00:04:10.980 --> 00:04:14.690\nthat are gonna be based on classification\nand then help us to manage access to data.\n\n80\n00:04:14.690 --> 00:04:15.780\nSo that's what we're gonna do.\n\n81\n00:04:15.780 --> 00:04:18.730\nWe're gonna create,\ntake a look at how to create, update, and\n\n82\n00:04:18.730 --> 00:04:23.440\nrun those classification rules, and define\nclassification properties and values which\n\n83\n00:04:23.440 --> 00:04:27.460\nis our building blocks or things that\nwe use in order to be able to use FSRM.\n\n84\n00:04:27.460 --> 00:04:32.620\nSo we are evaluating essentially files in\nan ongoing basis against this rule set.\n\n85\n00:04:32.620 --> 00:04:36.570\nIt's very similar if you think about\nthe logic of how a Firewall works,\n\n86\n00:04:36.570 --> 00:04:38.720\nare potentially probably\nthe closest match.\n\n87\n00:04:38.720 --> 00:04:42.700\nWe think about a rule based logic\nsystem and how we match traffic\n\n88\n00:04:42.700 --> 00:04:46.960\nto a set of rules, applying actions\nas a result of the match, yes, no.\n\n89\n00:04:46.960 --> 00:04:51.180\nTraffic did eminent from here,\nit is bound for this IP on this port.\n\n90\n00:04:51.180 --> 00:04:54.750\nUsing this protocol,\nlet's do this to it as a result right, and\n\n91\n00:04:54.750 --> 00:04:56.370\nkind of manage it that way.\n\n92\n00:04:56.370 --> 00:04:57.910\nIt's very similar in that respect.\n\n93\n00:04:57.910 --> 00:05:01.680\nWe have a set of rules, and we're gonna\nevaluate data and access data based on\n\n94\n00:05:01.680 --> 00:05:05.470\nthose rules, and then you decide what's\ngonna happen as a result of that.\n\n95\n00:05:05.470 --> 00:05:10.530\nSo all files configured in the file\nsystem are objects of the file system.\n\n96\n00:05:10.530 --> 00:05:11.780\nWe can apply properties and\n\n97\n00:05:11.780 --> 00:05:15.050\ntherefore apply rules as a result of that,\nif we enable this.\n\n98\n00:05:15.050 --> 00:05:16.210\nHello, how are you?\n\n99\n00:05:16.210 --> 00:05:17.120\nHi.\nNice to see you.\n\n100\n00:05:17.120 --> 00:05:18.101\nYou never see Cherokee.\n\n101\n00:05:18.101 --> 00:05:20.488\n[LAUGH] She signals me off\ncamera when I'm talking,\n\n102\n00:05:20.488 --> 00:05:23.580\nhey I wanna ask something She does this\ncool little thing where she just points,\n\n103\n00:05:23.580 --> 00:05:25.435\nshe kind of raises her little finger and\ndoes this.\n\n104\n00:05:25.435 --> 00:05:27.030\n[LAUGH] So\nthat I have to pay attention, I know.\n\n105\n00:05:27.030 --> 00:05:27.630\nI´m like in school.\n\n106\n00:05:27.630 --> 00:05:29.000\nI´m in class and I´m like,\npick me, pick me.\n\n107\n00:05:29.000 --> 00:05:30.220\nYea.\nIt´s almost like I´m thinking, okay,\n\n108\n00:05:30.220 --> 00:05:34.110\nyou want my attention but, you know,\nyou´re not really being aggressive enough.\n\n109\n00:05:34.110 --> 00:05:36.130\nI´m going to wait until you\nget really really anxious.\n\n110\n00:05:36.130 --> 00:05:37.840\nWell, you´re on your flow, your mojo.\n\n111\n00:05:37.840 --> 00:05:40.330\nI don´t want to mess I'm okay but\nCherokee did wanna jump in.\n\n112\n00:05:40.330 --> 00:05:41.237\nSo Cherokee, what do you wanna ask.\n\n113\n00:05:41.237 --> 00:05:43.907\nWell yeah,\nAdam you're talking about classifying and\n\n114\n00:05:43.907 --> 00:05:47.825\ncreating these classification rules and\nyou know it would be great if let's say,\n\n115\n00:05:47.825 --> 00:05:51.210\nI had a particular type of data and\nthen it stayed the same all the time.\n\n116\n00:05:51.210 --> 00:05:55.300\nBut being in a business environment\nwe know things change, and\n\n117\n00:05:55.300 --> 00:05:58.820\nmaybe I need to change or\nmodify these rules over time, or\n\n118\n00:05:58.820 --> 00:06:02.520\nmaybe a particular object falls\nunder multiple categories.\n\n119\n00:06:02.520 --> 00:06:06.229\nSo do I have the ability here\nwith FSRM to go ahead and\n\n120\n00:06:06.229 --> 00:06:09.438\nkeep it kind of evolving\nas my needs change?\n\n121\n00:06:09.438 --> 00:06:10.610\nAbsolutely.\n\n122\n00:06:10.610 --> 00:06:11.130\nIt is.\nAnd\n\n123\n00:06:11.130 --> 00:06:12.540\nwe're gonna get into\nthe console here in a minute.\n\n124\n00:06:12.540 --> 00:06:13.800\nWe're gonna take a look.\n\n125\n00:06:13.800 --> 00:06:16.990\nI wanna show you just a quick Word\ndoc we put together on properties and\n\n126\n00:06:16.990 --> 00:06:18.490\nkinda what they are before we do that.\n\n127\n00:06:18.490 --> 00:06:20.000\nWe'll get to that in just a second.\n\n128\n00:06:20.000 --> 00:06:21.640\nBut yes, we certainly can go back.\n\n129\n00:06:21.640 --> 00:06:24.790\nWe can add or modify rules if needed.\n\n130\n00:06:24.790 --> 00:06:28.180\nWe can use the FSRM console\nto be able to create or\n\n131\n00:06:28.180 --> 00:06:33.060\nadd additional thought processes,\ntranslate those into rules, we can add or\n\n132\n00:06:33.060 --> 00:06:37.140\ndefine additional properties,\nthe file classification property types.\n\n133\n00:06:37.140 --> 00:06:39.470\nWe're gonna take a look at them\nnow on the word document here.\n\n134\n00:06:39.470 --> 00:06:41.600\nIf we could actually just bring\nthat up while I'm talking,\n\n135\n00:06:41.600 --> 00:06:43.710\nwe'll take a look at this,\nexplain this in a second.\n\n136\n00:06:43.710 --> 00:06:47.340\nBut the file classification properties\non this list different property types,\n\n137\n00:06:47.340 --> 00:06:49.030\nyou know you can kind of see here,\n\n138\n00:06:49.030 --> 00:06:52.090\nwe have a pretty detailed list\nof different property types.\n\n139\n00:06:52.090 --> 00:06:55.090\nWe use these to be able to\nassign values to a file.\n\n140\n00:06:55.090 --> 00:06:56.694\nThese are built-in property types.\n\n141\n00:06:56.694 --> 00:06:59.494\nAnd here we've got about seven or\nso categories of property types,\n\n142\n00:06:59.494 --> 00:07:01.220\nyou could choose from them.\n\n143\n00:07:01.220 --> 00:07:05.719\nAnd then we'll be able to use those\nalong with the idea of perhaps you've\n\n144\n00:07:05.719 --> 00:07:10.516\nbeen adding multiple property types\ntogether to assign values and say okay,\n\n145\n00:07:10.516 --> 00:07:12.910\nis this a yes-no kind of comparison.\n\n146\n00:07:12.910 --> 00:07:16.490\nYou could see there,\nyou know do we have a date time property?\n\n147\n00:07:16.490 --> 00:07:20.660\nWe do, do we have a number property, a\nsimple property that essentially allows us\n\n148\n00:07:20.660 --> 00:07:24.150\nto be able to prevent reclassification\nby combining it with others.\n\n149\n00:07:24.150 --> 00:07:27.281\nThis is the first draft,\nthe second draft, or\n\n150\n00:07:27.281 --> 00:07:32.512\nthis is now a 1.0 versus 1.1,\nan interim draft, something like that.\n\n151\n00:07:32.512 --> 00:07:37.070\nWe have multiple choice lists, ordered\nlists, string, multi-string variables.\n\n152\n00:07:37.070 --> 00:07:41.970\nWe can combine these together, or\nmulti-string properties I should say,\n\n153\n00:07:41.970 --> 00:07:42.810\nnot values.\n\n154\n00:07:42.810 --> 00:07:45.317\nBut we could combine these together\nto be able to classify and\n\n155\n00:07:45.317 --> 00:07:47.835\nprevent reclassification\ndepending on what we're doing.\n\n156\n00:07:47.835 --> 00:07:50.949\nSo you could see the ordered lists here,\nin the sense that we do have these,\n\n157\n00:07:50.949 --> 00:07:52.828\nand yeah, we can go back and\nre-evaluate and\n\n158\n00:07:52.828 --> 00:07:55.066\nunderstand what's happening\nin there in real time.\n\n159\n00:07:55.066 --> 00:08:00.579\nWe can have different ways or different\nclassification parameters that we can use.\n\n160\n00:08:00.579 --> 00:08:02.553\nWe have these expressions as we saw.\n\n161\n00:08:02.553 --> 00:08:05.592\nWe have strings, strings could\nbe case sensitive by the way or\n\n162\n00:08:05.592 --> 00:08:06.651\nnot case sensitive.\n\n163\n00:08:06.651 --> 00:08:10.502\nSo we do have the option there to be\nable to tag data based on, for instance,\n\n164\n00:08:10.502 --> 00:08:14.314\na specific naming convention, and\na case sensitive naming convention.\n\n165\n00:08:14.314 --> 00:08:16.594\nCuz sometimes documents will be named, and\n\n166\n00:08:16.594 --> 00:08:20.730\nwe don't really pay attention necessarily\nto case sensitivity in some cases.\n\n167\n00:08:20.730 --> 00:08:25.078\nBut, we can match a case sensitive\nstring either in the document and or,\n\n168\n00:08:25.078 --> 00:08:28.516\nas a string for the name, or\nwithin the document itself.\n\n169\n00:08:28.516 --> 00:08:33.190\nWe may be tagging or looking at\nvalues within the actual data itself.\n\n170\n00:08:33.190 --> 00:08:36.234\nSo maybe a file that have\ncertain information in it.\n\n171\n00:08:36.234 --> 00:08:39.733\nAnd maybe the patient name, you know\nhypothetical I would say in theory,\n\n172\n00:08:39.733 --> 00:08:41.890\nmaybe we're looking at a medical practice.\n\n173\n00:08:41.890 --> 00:08:45.333\nAnd we're looking at medical, or patient\nrecords or information about patients.\n\n174\n00:08:45.333 --> 00:08:49.132\nAnd maybe our standard naming convention\nis patient name should always be\n\n175\n00:08:49.132 --> 00:08:51.651\ncapitalized, as a rule,\nor a thought process.\n\n176\n00:08:51.651 --> 00:08:56.518\nSo, if we did that, we could have a match\non a case sensitive string saying\n\n177\n00:08:56.518 --> 00:09:00.848\nyou know, whenever you see a case\nsensitive string of this type.\n\n178\n00:09:00.848 --> 00:09:05.649\nAnd, we then say apply this rule and\nclassify it as HIPPA compliant, or\n\n179\n00:09:05.649 --> 00:09:10.942\nclassify it as some kind of PII,\nPersonally Identifiable Information data.\n\n180\n00:09:10.942 --> 00:09:14.335\nAnd as a result, apply this rule or\nthis set of standards to it, so\n\n181\n00:09:14.335 --> 00:09:16.080\nwe could do a lot of these things.\n\n182\n00:09:16.080 --> 00:09:19.224\nSo that we could evolve that overtime\nas the needs of the organisations and\n\n183\n00:09:19.224 --> 00:09:21.061\nthe kinds of data we get, we would change.\n\n184\n00:09:21.061 --> 00:09:23.654\nSo we absolutely can do that,\nthere's no doubt about it.\n\n185\n00:09:23.654 --> 00:09:26.866\nThe thing here is that we have to\nunderstand we need Server 12 to avert 2\n\n186\n00:09:26.866 --> 00:09:28.710\nfile servers, to be able to do this.\n\n187\n00:09:28.710 --> 00:09:31.110\nSo wanna be just thinking about that,\nand of a sense of the fact,\n\n188\n00:09:31.110 --> 00:09:34.350\nthat this is one of those features that\nwe're gonna play off of, given that.\n\n189\n00:09:34.350 --> 00:09:35.010\nSpeaking of that,\n\n190\n00:09:35.010 --> 00:09:38.090\nlet's go in, let's just start to delve\ninto the mysteries a little bit.\n\n191\n00:09:38.090 --> 00:09:40.100\nLet's take a look at some of\nthe things that are going on here.\n\n192\n00:09:40.100 --> 00:09:43.620\nSo we're in a Server 12, R2 Server,\nthis is our file server,\n\n193\n00:09:43.620 --> 00:09:45.170\none of the ones we demo off of.\n\n194\n00:09:45.170 --> 00:09:48.010\nThis is our DM01 box,\nthat you've kind of seen me in and\n\n195\n00:09:48.010 --> 00:09:49.540\nout of in some of the other demos.\n\n196\n00:09:49.540 --> 00:09:54.290\nAnd, what I did initially was I went\ninto PowerShell as we talked about, and\n\n197\n00:09:54.290 --> 00:09:57.820\nyou could see, just left it up, so\nwe can refer to it, as we often do.\n\n198\n00:09:57.820 --> 00:10:01.160\nAdded the Windows feature for\nFS resources, FS file server.\n\n199\n00:10:01.160 --> 00:10:05.201\nResource manager, so FSRS include\nmanagement tools, include all sub\n\n200\n00:10:05.201 --> 00:10:09.394\nfeatures, we have our output there for\nsuccess, so that was installed.\n\n201\n00:10:09.394 --> 00:10:12.082\nAnd then, when we come in here,\nI've already opened it by the way.\n\n202\n00:10:12.082 --> 00:10:13.490\nI'm just going to show you where I get it.\n\n203\n00:10:13.490 --> 00:10:17.650\nBut we have under our tools menu,\nThe FSRM console,\n\n204\n00:10:17.650 --> 00:10:19.260\nnow the File Server Resource Manager.\n\n205\n00:10:19.260 --> 00:10:22.800\nSo, we do get that MMC installed,\nonce we've configured that.\n\n206\n00:10:22.800 --> 00:10:26.570\nWhat we've done is gone ahead whoops, we\njust get my mouse down on the ground here,\n\n207\n00:10:26.570 --> 00:10:28.570\nit's trying to jump off the console here.\n\n208\n00:10:28.570 --> 00:10:32.248\nAnd once we've set that up, we'll open\nup the File Server Resource Manager.\n\n209\n00:10:32.248 --> 00:10:36.045\nWe have this MMC that we can now\ninteract with, and we can use,\n\n210\n00:10:36.045 --> 00:10:38.490\nin order to be able to go through.\n\n211\n00:10:38.490 --> 00:10:41.800\nAnd to be able to start creating rules,\nand doing all sorts of stuff in here.\n\n212\n00:10:41.800 --> 00:10:44.720\nOur classification properties\nour classification rules, etc.\n\n213\n00:10:44.720 --> 00:10:45.320\nAs you can see.\n\n214\n00:10:45.320 --> 00:10:48.520\nSo, what we're gonna do is\njust step though setting up,\n\n215\n00:10:48.520 --> 00:10:50.920\nand actually configuring\nthis infrastructure.\n\n216\n00:10:50.920 --> 00:10:52.420\nShowing you how this works.\n\n217\n00:10:52.420 --> 00:10:56.110\nNow, I've gone ahead and\nI've created a couple of, a file rather,\n\n218\n00:10:56.110 --> 00:10:57.394\ntwo files I should say.\n\n219\n00:10:57.394 --> 00:11:00.180\nIn a directory,\njust on the local C drive on this machine.\n\n220\n00:11:00.180 --> 00:11:02.890\nSo I've pre-populated them,\njust so you know what's there.\n\n221\n00:11:02.890 --> 00:11:07.220\nI have a folder that´s called\nprojects with a couple of files, and\n\n222\n00:11:07.220 --> 00:11:08.420\nthey´re just text files.\n\n223\n00:11:08.420 --> 00:11:10.410\nRight click, new text file nothing fancy.\n\n224\n00:11:10.410 --> 00:11:14.303\nReport 1, report 2, and I put\nthe word Finance in each one, just so\n\n225\n00:11:14.303 --> 00:11:16.870\nwe have a searchable\nstring that we´ll use.\n\n226\n00:11:16.870 --> 00:11:22.160\nBut, when we have this role, this feature\ninstalled, we can go into properties here.\n\n227\n00:11:22.160 --> 00:11:25.160\nAnd what you´ll see, is we have\na classification tab on the data.\n\n228\n00:11:25.160 --> 00:11:27.730\nThere's nothing in there yet,\nas you can see, cuz we haven't program or\n\n229\n00:11:27.730 --> 00:11:28.660\ndid anything.\n\n230\n00:11:28.660 --> 00:11:31.694\nWe're gonna go into the FSRM console,\nand start doing this.\n\n231\n00:11:31.694 --> 00:11:35.080\nBut, you'll see there are no\nproperties to find in the system, and\n\n232\n00:11:35.080 --> 00:11:38.120\nthere are properties that were found in\nthe selected files that we're going to\n\n233\n00:11:38.120 --> 00:11:39.080\nmeasure against.\n\n234\n00:11:39.080 --> 00:11:42.040\nBut we now have the ability to start\nusing these classification tab\n\n235\n00:11:42.040 --> 00:11:43.500\nto do exactly that.\n\n236\n00:11:43.500 --> 00:11:46.870\nSo we've got the building blocks,\nand the general structure in place.\n\n237\n00:11:46.870 --> 00:11:50.104\nWe're now gonna actually go through,\nand start activating some of this and\n\n238\n00:11:50.104 --> 00:11:50.922\nmaking this work.\n\n239\n00:11:50.922 --> 00:11:53.479\nSo we're in FSRS now, and\nif you haven't seen the console,\n\n240\n00:11:53.479 --> 00:11:54.795\nif it's something new to you.\n\n241\n00:11:54.795 --> 00:11:56.830\nLet's just take a minute,\nlet's orient ourselves and\n\n242\n00:11:56.830 --> 00:11:59.330\nmake sure we know what's going\non before we do anything else.\n\n243\n00:11:59.330 --> 00:12:04.360\nSo we do have the FSRM consoles focused on\nthe local machine here, on this server.\n\n244\n00:12:04.360 --> 00:12:06.747\nNotice, as with many of our consoles,\nor MMCs,\n\n245\n00:12:06.747 --> 00:12:08.804\nwe could focus it out to another machine.\n\n246\n00:12:08.804 --> 00:12:11.387\nIn other words, manage remotely,\nright, if we want to,\n\n247\n00:12:11.387 --> 00:12:13.572\nit doesn't just have to\nbe on the local machine.\n\n248\n00:12:13.572 --> 00:12:16.790\nSo, we have that, and then,\nwe have some areas here.\n\n249\n00:12:16.790 --> 00:12:21.660\nWe have quota management, file screening\nmanagement, storage reports management,\n\n250\n00:12:21.660 --> 00:12:24.770\nclassification management, which is\nwhat we're talking about, right now.\n\n251\n00:12:24.770 --> 00:12:28.290\nAnd we have file management task,\nunder here, that let us do things.\n\n252\n00:12:28.290 --> 00:12:32.588\nSo under classification management,\nwe have classification properties.\n\n253\n00:12:32.588 --> 00:12:36.060\nAnd this is where, I think I have this up\njust a moment ago, as we started talking.\n\n254\n00:12:36.060 --> 00:12:38.370\nWe have some built-in properties\nthat are there by default.\n\n255\n00:12:38.370 --> 00:12:41.950\nYou can see\nAccess Denied Assistance Message.\n\n256\n00:12:41.950 --> 00:12:44.380\nHey, you can't get in, but\nhere's something you can do.\n\n257\n00:12:44.380 --> 00:12:48.370\nMaybe it's a pre-made message or\na customized one that says, sorry,\n\n258\n00:12:48.370 --> 00:12:50.910\nyou're not gonna have\npermission to see this.\n\n259\n00:12:50.910 --> 00:12:55.310\nAnd please contact your help desk, or\nwhatever you would do to maybe make\n\n260\n00:12:55.310 --> 00:12:58.720\na request, or to file a complaint,\nor whatever you're gonna do, right?\n\n261\n00:12:58.720 --> 00:13:01.187\nSo folder owner email,\nfolder usage, right?\n\n262\n00:13:01.187 --> 00:13:03.685\nSo we have some different ones\nthat have already been created.\n\n263\n00:13:03.685 --> 00:13:05.484\nThose are there out of the box,\nI did not create them.\n\n264\n00:13:05.484 --> 00:13:08.654\nWe're gonna create one now, but\nthose are gonna be there automatically.\n\n265\n00:13:08.654 --> 00:13:12.595\nSo you can come into one of these,\nyou highlight it, and you could see here.\n\n266\n00:13:12.595 --> 00:13:15.785\nYeah, we can edit the local property,\nso we can see a little bit about it.\n\n267\n00:13:15.785 --> 00:13:18.525\nWe could delete it, remove it,\nif we need to create a new one.\n\n268\n00:13:18.525 --> 00:13:22.167\nWe're gonna create a new one,\nbut you'll see here,\n\n269\n00:13:22.167 --> 00:13:28.270\njust to go in, and we can see this\nlittle description tells us what it is.\n\n270\n00:13:28.270 --> 00:13:30.562\nJust gives us general\ninformation about the property.\n\n271\n00:13:30.562 --> 00:13:33.946\nSo, these are already set up, and\nthey're populated in the system, so\n\n272\n00:13:33.946 --> 00:13:37.200\nthat way we have some properties\nthat will apply automatically.\n\n273\n00:13:37.200 --> 00:13:40.200\nBecause these are common\nscenarios that we'd wanna look at.\n\n274\n00:13:40.200 --> 00:13:43.435\nSo let's create a local property,\nor go in and create a new one.\n\n275\n00:13:43.435 --> 00:13:44.975\nWe're gonna go ahead and do this, and\n\n276\n00:13:44.975 --> 00:13:47.107\nwe'll call this confidential documents,\nright?\n\n277\n00:13:47.107 --> 00:13:50.393\nSo we're gonna have documents that may\nhave some sort of confidential tag\n\n278\n00:13:50.393 --> 00:13:51.457\nassociated with them.\n\n279\n00:13:51.457 --> 00:13:55.467\nLike I suggested in my scenario,\nmaybe medical data, financial data,\n\n280\n00:13:55.467 --> 00:13:57.990\ncorporate IP intellectual property.\n\n281\n00:13:57.990 --> 00:14:01.480\nAny of these things that may be\nimportant to wanna classify typically,\n\n282\n00:14:01.480 --> 00:14:05.090\na confidential document of some type,\nwould exist in most companies,\n\n283\n00:14:05.090 --> 00:14:06.780\nregardless of what kind of\ndata would go in there.\n\n284\n00:14:06.780 --> 00:14:09.570\nSo, its probably a good idea to have\na property that speaks to that.\n\n285\n00:14:09.570 --> 00:14:11.500\nSo, lets create a local property.\n\n286\n00:14:12.750 --> 00:14:14.439\nJust a simple little interface here.\n\n287\n00:14:14.439 --> 00:14:17.559\nLets move this over so\nyou guys can kind of see what were doing,\n\n288\n00:14:17.559 --> 00:14:21.102\nbecause that pesky little blue box\nof there gets in the way sometimes.\n\n289\n00:14:21.102 --> 00:14:25.852\nAll right, so confidential data,\nconfidential.\n\n290\n00:14:25.852 --> 00:14:29.078\nThink I spelled that correctly,\nclose enough.\n\n291\n00:14:29.078 --> 00:14:34.680\nIt's a confidential document,\nConfidential document, all right.\n\n292\n00:14:34.680 --> 00:14:35.923\nSo, we've got that.\n\n293\n00:14:35.923 --> 00:14:38.210\nAgain, description,\nthat would be up to us to decide.\n\n294\n00:14:38.210 --> 00:14:44.060\nDescriptions are not that big of a deal,\nbut I'll just put in this is a Property\n\n295\n00:14:44.060 --> 00:14:48.130\nthat course property should probably\nbe spelled correctly, as well.\n\n296\n00:14:48.130 --> 00:14:50.795\nI really do need that seeing\neye human who will type for me.\n\n297\n00:14:50.795 --> 00:14:52.670\n[LAUGH].\nYou know it is becoming more, and more for\n\n298\n00:14:52.670 --> 00:14:53.549\na requirement [LAUGH].\n\n299\n00:14:53.549 --> 00:14:58.904\nThis is a property that will\nbe added to a document,\n\n300\n00:14:58.904 --> 00:15:03.040\njust describing what this is gonna do.\n\n301\n00:15:03.040 --> 00:15:07.830\nIf it contains, and I told you I use\nthe word finance in those documents,\n\n302\n00:15:07.830 --> 00:15:09.540\njust saying that's what we're gonna do.\n\n303\n00:15:09.540 --> 00:15:12.012\nSo if it contains a word, and\n\n304\n00:15:12.012 --> 00:15:16.856\nwe'll put finance in there,\njust so we know what it is.\n\n305\n00:15:16.856 --> 00:15:20.565\nNow, the word, finance, would that be\nwithin the content of the document itself,\n\n306\n00:15:20.565 --> 00:15:21.306\nor in the title?\n\n307\n00:15:21.306 --> 00:15:22.246\nYes.\n\n308\n00:15:22.246 --> 00:15:26.603\nThat's pretty cool So, in this case, it'll\nbe a document, in the document rather,\n\n309\n00:15:26.603 --> 00:15:29.629\na piece of that inside the document\nlisting those text files.\n\n310\n00:15:29.629 --> 00:15:32.690\nAnd just literally has the word finance,\nnothing else in it, just put it in there,\n\n311\n00:15:32.690 --> 00:15:34.810\nand saved it, and\nthat's what we're gonna see.\n\n312\n00:15:34.810 --> 00:15:38.300\nAll right, so then down below,\nyou'll see Property Type here, right?\n\n313\n00:15:38.300 --> 00:15:41.693\nAnd you'll see right now,\nwe have Value Yes/No, right?\n\n314\n00:15:41.693 --> 00:15:45.620\nWe can go in here, you'll see we\nhave Description, etc., right?\n\n315\n00:15:45.620 --> 00:15:47.670\nSo, you have Property Type and then Value.\n\n316\n00:15:47.670 --> 00:15:49.488\nSo, Property Type is Yes/No.\n\n317\n00:15:49.488 --> 00:15:51.151\nWe're gonna change that, pull this down.\n\n318\n00:15:51.151 --> 00:15:53.960\nWe may wanna go full screen, it just\nmay be a little bit easier to see this.\n\n319\n00:15:53.960 --> 00:15:56.048\nAnd you'll see,\nwe have different property types, right?\n\n320\n00:15:56.048 --> 00:16:00.159\nAnd you saw the word list of all\nthe property types, that I showed you.\n\n321\n00:16:00.159 --> 00:16:02.515\nThey essentially,\nline up here with all these types, right,\n\n322\n00:16:02.515 --> 00:16:04.743\nthese are the property types\nwe were just Is talking about.\n\n323\n00:16:04.743 --> 00:16:08.374\nSo where to go, to go change this\nto a string because we wanna match,\n\n324\n00:16:08.374 --> 00:16:10.729\nyes no is not really gonna\ndo us a lot of good,\n\n325\n00:16:10.729 --> 00:16:14.070\nwe wanna match a word specifically\ncalled finance right?\n\n326\n00:16:14.070 --> 00:16:18.080\nSo we have to change this to a property\ntype that actually lets us do a match.\n\n327\n00:16:18.080 --> 00:16:21.830\nAnd when you do that, you'll see\nthe matrix down below that would've been\n\n328\n00:16:21.830 --> 00:16:24.760\nthe value for yes-no and\nhow to certify that is gone.\n\n329\n00:16:24.760 --> 00:16:27.460\nBecause each property\ntype has its own specific\n\n330\n00:16:27.460 --> 00:16:30.350\nproperties and-or values\nassociated with it.\n\n331\n00:16:30.350 --> 00:16:34.810\nSome, for instance, if I do a multiple\nchoice list here, just you can see, right,\n\n332\n00:16:34.810 --> 00:16:37.490\nI have to specify the choices\nthat would show up and\n\n333\n00:16:37.490 --> 00:16:39.510\nthe values that may be appropriate.\n\n334\n00:16:39.510 --> 00:16:42.770\nIf I do an ordered list, kind of\nthe same thing you don't really notice\n\n335\n00:16:42.770 --> 00:16:47.080\na difference, if I do date/time you notice\nI don't specify, so you know there's\n\n336\n00:16:47.080 --> 00:16:50.820\ndifferent values associated with\ndifferent properties right?\n\n337\n00:16:50.820 --> 00:16:53.630\nSo we're gonna do string type or\ntype string and\n\n338\n00:16:53.630 --> 00:16:57.730\nwe're gonna click okay just to set this\nproperty just while we're talking.\n\n339\n00:16:57.730 --> 00:16:59.390\nSo, yeah do you wanna ask?\n\n340\n00:16:59.390 --> 00:17:00.360\nNo I'm just wondering.\n\n341\n00:17:00.360 --> 00:17:03.790\nEven like if you had like a variable\nsuch as a social security number and\n\n342\n00:17:03.790 --> 00:17:07.880\nyou had that syntax of how you know of how\nthe structure maybe when the dash is and\n\n343\n00:17:07.880 --> 00:17:09.080\nso forth.\n\n344\n00:17:09.080 --> 00:17:12.051\nAnd you can also plug that in here\ntoo to just say look we're gonna\n\n345\n00:17:12.051 --> 00:17:14.716\nkeep our social security\nnumbers in that confidential.\n\n346\n00:17:14.716 --> 00:17:16.932\nFolder as well- Sure.\n\n347\n00:17:16.932 --> 00:17:19.689\nI mean like you have a really beneficial\npurpose here without having to sift\n\n348\n00:17:19.689 --> 00:17:21.010\nthrough all that manually.\n\n349\n00:17:21.010 --> 00:17:22.798\nYeah, just going back.\n\n350\n00:17:22.798 --> 00:17:25.660\nYes, you could see I can do\na number right here I supposed\n\n351\n00:17:25.660 --> 00:17:30.250\na proper type number that [INAUDIBLE]\nSSN would be a number Right?\n\n352\n00:17:30.250 --> 00:17:32.330\nSo we could. Okay. We could.\nIt's a number of a type, anyway.\n\n353\n00:17:32.330 --> 00:17:34.510\nSo we certainly could specify that.\n\n354\n00:17:34.510 --> 00:17:35.900\nWe could go in.\n\n355\n00:17:35.900 --> 00:17:36.840\nWe could do a string.\n\n356\n00:17:36.840 --> 00:17:38.290\nAnd the string could be alpha or numeric.\n\n357\n00:17:38.290 --> 00:17:41.170\nRight?\nSo we could match that based on a string.\n\n358\n00:17:41.170 --> 00:17:43.647\nIt could be, it was a lot of different\nthings we could do, but yeah,\n\n359\n00:17:43.647 --> 00:17:45.130\nthere's at least one- Yeah.\n\n360\n00:17:45.130 --> 00:17:48.850\nOr two options here that we could use\nto account for a property like that.\n\n361\n00:17:48.850 --> 00:17:49.620\nNo doubt about it.\n\n362\n00:17:49.620 --> 00:17:52.520\nJust cancel you out of that cuz we're\nnot gonna create an additional one.\n\n363\n00:17:52.520 --> 00:17:55.490\nAll right, so now that we've done that,\nlet's create a classification rule.\n\n364\n00:17:55.490 --> 00:17:56.420\nWe did properties and\n\n365\n00:17:56.420 --> 00:17:59.570\nproperties are the building blocks\nthat then are gonna feed rules.\n\n366\n00:17:59.570 --> 00:18:02.669\nRight, you see right below here\nwe have classifications rules so\n\n367\n00:18:02.669 --> 00:18:03.920\nlet's just go over here.\n\n368\n00:18:03.920 --> 00:18:07.680\nNotice by the way, no rules right now, but\nwe're obviously gonna have to go in and\n\n369\n00:18:07.680 --> 00:18:09.110\ncreate one or more of the them.\n\n370\n00:18:09.110 --> 00:18:12.320\nAnd this is the next stop\non our little journey here.\n\n371\n00:18:12.320 --> 00:18:16.390\nSo we're gonna create a classification\nrule, So we're gonna go ahead,\n\n372\n00:18:16.390 --> 00:18:17.620\nright click choose that.\n\n373\n00:18:17.620 --> 00:18:20.120\nYou can see I can do that right here.\n\n374\n00:18:20.120 --> 00:18:23.302\nJust go in, pull this up so\nwe can see what's going on there and\n\n375\n00:18:23.302 --> 00:18:24.847\njust walk through the logic.\n\n376\n00:18:24.847 --> 00:18:29.410\nOkay, so we're gonna go ahead and\nwe're going to give this a name.\n\n377\n00:18:29.410 --> 00:18:34.284\nWe'll call this the confidential\ndocuments rule since\n\n378\n00:18:34.284 --> 00:18:39.164\nthat's what we were doing so\nconfidential documents.\n\n379\n00:18:39.164 --> 00:18:40.294\nAll right.\n\n380\n00:18:40.294 --> 00:18:42.620\nAnd, another column.\n\n381\n00:18:42.620 --> 00:18:45.260\nAnd, then notice, by the way,\nby default, rules are enabled.\n\n382\n00:18:45.260 --> 00:18:46.520\nLike they are in most cases.\n\n383\n00:18:46.520 --> 00:18:48.670\nAlarms are created,\nenabled, things like that.\n\n384\n00:18:48.670 --> 00:18:52.420\nCan we disable the rule, create it,\nkind of set it up and not activate?\n\n385\n00:18:52.420 --> 00:18:53.980\nYeah, just uncheck the box and.\n\n386\n00:18:53.980 --> 00:18:55.400\nThe rule will be there.\n\n387\n00:18:55.400 --> 00:18:58.640\nAnd sometimes there is as we're\nkinda going through the setup and\n\n388\n00:18:58.640 --> 00:19:02.380\nthe hierarchy of building the system,\nthere are reasons why we may wanna stack\n\n389\n00:19:02.380 --> 00:19:05.090\na bunch of rules up and\nnot go live with them right away.\n\n390\n00:19:05.090 --> 00:19:07.040\nCuz we may be building the logic.\n\n391\n00:19:07.040 --> 00:19:09.060\nWe may not have everything\nput in right away.\n\n392\n00:19:09.060 --> 00:19:12.920\nAnd if we start enabling rules but not all\nthe data is classified the right way, not\n\n393\n00:19:12.920 --> 00:19:16.810\nall the properties exist, things may go\nsideways, they may not work the right way.\n\n394\n00:19:16.810 --> 00:19:19.630\nSo there are reasons why\nmaybe during testing or\n\n395\n00:19:19.630 --> 00:19:23.070\nphase roll out we may choose to\nenable certain rules and not others.\n\n396\n00:19:23.070 --> 00:19:25.940\nSo just keep in mind this\nis not a bad thing, right?\n\n397\n00:19:25.940 --> 00:19:28.820\nThat we may actually have the need to\ndisable rules at certain periods of time.\n\n398\n00:19:28.820 --> 00:19:30.710\nSo that's why we have that there.\n\n399\n00:19:30.710 --> 00:19:33.360\nLet's go the scope tab and\ntake a look at what's going on there.\n\n400\n00:19:34.610 --> 00:19:38.360\nSo the scope tab allows us\nto specify all folders that\n\n401\n00:19:38.360 --> 00:19:41.190\nwill store the following kinds of\ndata that we wanna be looking at.\n\n402\n00:19:41.190 --> 00:19:42.490\nSo, you know,\nwhere are we getting this from?\n\n403\n00:19:42.490 --> 00:19:47.460\nIs it application files, is it backed\nup in archive files, Is a group file,\n\n404\n00:19:47.460 --> 00:19:48.330\nuser files.\n\n405\n00:19:48.330 --> 00:19:50.450\nYou know,\nwhat are the categories of the data?\n\n406\n00:19:50.450 --> 00:19:51.800\nWhere's it gonna come from?\n\n407\n00:19:51.800 --> 00:19:54.208\nYou have, a lot of times you'll\nhave data in applications.\n\n408\n00:19:54.208 --> 00:19:56.260\nYou may wanna classify that data and so\n\n409\n00:19:56.260 --> 00:19:59.090\napplication files would have\nto be looked at for that.\n\n410\n00:19:59.090 --> 00:20:02.430\nWe may have backed up data and,\nor archival data.\n\n411\n00:20:02.430 --> 00:20:03.620\nThat's being stored.\n\n412\n00:20:03.620 --> 00:20:08.790\nYou mentioned SSNs for instance, social\nsecurity numbers as one unique identifier.\n\n413\n00:20:08.790 --> 00:20:11.580\nWe're thinking very US centric\nwhen we talk about that.\n\n414\n00:20:11.580 --> 00:20:13.010\nTrue.\nThink about it because\n\n415\n00:20:13.010 --> 00:20:16.370\nin the rest of the world social security\nnumbers really, [INAUDIBLE] SSN,\n\n416\n00:20:16.370 --> 00:20:17.790\nthey're like that's nice, what is that?\n\n417\n00:20:17.790 --> 00:20:18.340\nAll right.\nSo,\n\n418\n00:20:18.340 --> 00:20:21.430\nthat doesn't necessarily work but\nwhatever that unique identifier is,\n\n419\n00:20:21.430 --> 00:20:25.480\nmaybe it's a passport number,\nmaybe it's a drivers license number,\n\n420\n00:20:25.480 --> 00:20:30.260\nan employee ID, you know if you have-\n[INAUDIBLE] Health care systems,\n\n421\n00:20:30.260 --> 00:20:33.646\nmaybe your [CROSSTALK] Unique identifier\nin the health care system like in Canada\n\n422\n00:20:33.646 --> 00:20:37.330\nfor instance, or places like that,\nwhere there is nationalized healthcare.\n\n423\n00:20:37.330 --> 00:20:42.370\nYou'll have an ID that identifies you as\na person that is able to receive care,\n\n424\n00:20:42.370 --> 00:20:45.220\nyou're a legitimate user and you have\na unique identifier for that, right?\n\n425\n00:20:45.220 --> 00:20:46.525\nSo there's lots of different numbers,\nright?\n\n426\n00:20:46.525 --> 00:20:47.965\nOkay.\nWhatever the case may be.\n\n427\n00:20:47.965 --> 00:20:51.095\nMaybe we're a law firm, and\nmaybe this is a unique identifier for\n\n428\n00:20:51.095 --> 00:20:52.245\na case we're working on.\n\n429\n00:20:52.245 --> 00:20:53.405\nRight, not just an SSN.\n\n430\n00:20:53.405 --> 00:20:57.205\nBut all sorts of numbers that are used\nto identify us do a variety of things.\n\n431\n00:20:57.205 --> 00:21:02.465\nI have customers that, a lot of the travel\nindustry entities that I work with.\n\n432\n00:21:02.465 --> 00:21:05.425\nSo, think airlines, cruise ships.\n\n433\n00:21:05.425 --> 00:21:10.320\nThink the backhand reservation systems\nthat are used to be able to drive this.\n\n434\n00:21:10.320 --> 00:21:13.900\nOne of the biggest companies in the world\nthat does this kinda work and builds and\n\n435\n00:21:13.900 --> 00:21:15.560\nmanages this backend system for\n\n436\n00:21:15.560 --> 00:21:22.110\nalmost every transport mechanism\nimaginable that you can think of is.\n\n437\n00:21:22.110 --> 00:21:23.520\nFor over 20 years now.\n\n438\n00:21:23.520 --> 00:21:26.920\nAnd so they have to provide tracking for\n\n439\n00:21:26.920 --> 00:21:31.940\nwhat they call the- Flight manifests?\n\n440\n00:21:31.940 --> 00:21:32.890\nNo, no, no the tracking,\n\n441\n00:21:32.890 --> 00:21:36.990\nthe record numbers for customers when\nyou buy an airline ticket, right?\n\n442\n00:21:36.990 --> 00:21:39.080\nSo a PRN is what they call it.\n\n443\n00:21:39.080 --> 00:21:42.230\nAnd you're an individual\nperson on a certain airline.\n\n444\n00:21:42.230 --> 00:21:46.880\nYou're going, let's say through Delta,\nthrough American, through whatever it is,\n\n445\n00:21:46.880 --> 00:21:48.040\nKorean Air, whatever.\n\n446\n00:21:48.040 --> 00:21:52.000\nYou're buying a ticket, but the back end\nsystems that actually transact that,\n\n447\n00:21:52.000 --> 00:21:55.610\nmay not belong to the airlines, actually\ntypically belong to one of these companies\n\n448\n00:21:55.610 --> 00:22:00.120\nthat owns the system and does all the\nbackend processing for the airlines and\n\n449\n00:22:00.120 --> 00:22:02.890\nso all of that has to\nbe tracked individually\n\n450\n00:22:02.890 --> 00:22:05.580\nright you have to have unique\nidentifiers for that transaction.\n\n451\n00:22:05.580 --> 00:22:08.930\nAll of those things could be tracked and\nclassify with this kind of a system,\n\n452\n00:22:08.930 --> 00:22:10.430\nwhatever those numbers are.\n\n453\n00:22:10.430 --> 00:22:14.340\nSo just getting out from just that mindset\nof look, it's just one little thing.\n\n454\n00:22:14.340 --> 00:22:15.420\nYour numbers are numbers, right?\n\n455\n00:22:15.420 --> 00:22:16.750\nThat's the nice thing about them,\nthey're universal.\n\n456\n00:22:16.750 --> 00:22:17.980\nThey could exist anywhere.\n\n457\n00:22:17.980 --> 00:22:20.560\nAll right so, we're gonna do\nuser files in this case, right?\n\n458\n00:22:20.560 --> 00:22:25.150\nSo we're gonna check that off and\nwe're gonna save our data because remember\n\n459\n00:22:25.150 --> 00:22:29.180\nI created the data as a couple of notepad\nfiles and saved them in a folder.\n\n460\n00:22:29.180 --> 00:22:31.230\nThey're classified as user data, right.\n\n461\n00:22:31.230 --> 00:22:33.240\nSo, as a result we're gonna do user files.\n\n462\n00:22:33.240 --> 00:22:36.760\nNow we have to add them in here because\nyou'll see the following folders\n\n463\n00:22:36.760 --> 00:22:38.050\nare included in this scope.\n\n464\n00:22:38.050 --> 00:22:41.090\nWell, in other words what we're saying is,\nhey this type of data, and\n\n465\n00:22:41.090 --> 00:22:43.412\nthen actually go get it from here right?\n\n466\n00:22:43.412 --> 00:22:46.640\nWe've gotta tell the system what\nkind of data and where it is.\n\n467\n00:22:46.640 --> 00:22:50.580\nSo this is not just a bucket where\nall the data in the world exists.\n\n468\n00:22:50.580 --> 00:22:53.369\nThis is a very tightly constrained,\nwell defined.\n\n469\n00:22:54.510 --> 00:22:55.330\nBasket.\nBasket!\n\n470\n00:22:55.330 --> 00:22:56.595\nWell defined basket, right?\n\n471\n00:22:56.595 --> 00:22:58.790\n[LAUGH] I was gonna say box,\nbut then I have to think.\n\n472\n00:22:58.790 --> 00:23:00.640\nWhen I'm with you it has to be a basket,\nright?\n\n473\n00:23:00.640 --> 00:23:02.300\nSo, well defined basket.\n\n474\n00:23:02.300 --> 00:23:05.220\nWe're not just gonna populate it with\njust any word, be very selective.\n\n475\n00:23:05.220 --> 00:23:08.560\nBecause, remember,\nnot all data is of equal value.\n\n476\n00:23:08.560 --> 00:23:11.350\nAnd not all data should be\nclassified the same way.\n\n477\n00:23:11.350 --> 00:23:13.950\nAnd this is the thing we gotta\nkind of think through the logic of\n\n478\n00:23:13.950 --> 00:23:15.220\nas we use this technology right.\n\n479\n00:23:15.220 --> 00:23:16.330\nIts really what this is about.\n\n480\n00:23:16.330 --> 00:23:17.130\nSo, were gonna go ahead.\n\n481\n00:23:17.130 --> 00:23:17.890\nWe're gonna to add this in.\n\n482\n00:23:17.890 --> 00:23:20.130\nI have to go tell it\nwhere to find the data.\n\n483\n00:23:21.300 --> 00:23:23.370\nLittle browse window\nvery straight forward.\n\n484\n00:23:23.370 --> 00:23:24.790\nYou'll browse for the folder.\n\n485\n00:23:25.800 --> 00:23:27.773\nYeah.\nIts [CROSSTALK] kind of funny you mention\n\n486\n00:23:27.773 --> 00:23:29.831\nthat basket thing and\nif you guys don't know.\n\n487\n00:23:29.831 --> 00:23:30.820\nI like baskets.\n\n488\n00:23:30.820 --> 00:23:32.760\nI like to organize things and\nclassify them.\n\n489\n00:23:32.760 --> 00:23:34.960\nSo of course, when I'm looking through\nthe notes and getting ready for\n\n490\n00:23:34.960 --> 00:23:39.430\nthe show today, and, it did kind of\nlike create that sense of calmness.\n\n491\n00:23:39.430 --> 00:23:41.050\nWhen you're looking at\nthis classification,\n\n492\n00:23:41.050 --> 00:23:43.120\nbecause it can solve a lot of problems.\n\n493\n00:23:43.120 --> 00:23:45.346\nLike you were just mentioning with\nthe airlines and all that, so.\n\n494\n00:23:45.346 --> 00:23:46.457\nI like it.\n\n495\n00:23:46.457 --> 00:23:48.830\n[LAUGH] I did it just for you.\n\n496\n00:23:48.830 --> 00:23:49.530\nI'm so happy.\n\n497\n00:23:49.530 --> 00:23:50.682\nI know.\nAnd thank you Microsoft for\n\n498\n00:23:50.682 --> 00:23:54.848\n[CROSSTALK] [LAUGH] I'm so happy that we\nbrought serenity into your life, Cherokee.\n\n499\n00:23:54.848 --> 00:23:55.883\nYeah.\nThat is important.\n\n500\n00:23:55.883 --> 00:23:58.124\nAll right so,\nyou can see we're just browsing here.\n\n501\n00:23:58.124 --> 00:23:59.691\nI went to the C drive Projects,\n\n502\n00:23:59.691 --> 00:24:02.476\nremember I told you the folder\nI created was Projects?\n\n503\n00:24:02.476 --> 00:24:04.580\nI got a couple of Word documents in there.\n\n504\n00:24:04.580 --> 00:24:07.670\nKeep in mind we're going to the folder\nlevel to find the data, right?\n\n505\n00:24:07.670 --> 00:24:12.600\nAgain a little piece of trivia, a little\npiece of seemingly innocuous information\n\n506\n00:24:12.600 --> 00:24:16.045\nthat may be incredibly valuable to you\nif you're ever asked about this and\n\n507\n00:24:16.045 --> 00:24:17.385\nhave to answer a question.\n\n508\n00:24:17.385 --> 00:24:18.305\nHey, where do we go?\n\n509\n00:24:18.305 --> 00:24:19.195\nWhat level?\n\n510\n00:24:19.195 --> 00:24:20.545\nIs it the document itself?\n\n511\n00:24:20.545 --> 00:24:24.445\nNo, it's the container that the document\nis in that we path to here.\n\n512\n00:24:24.445 --> 00:24:27.915\nSo when we add, we add the folder,\nnot the file itself or files.\n\n513\n00:24:27.915 --> 00:24:29.210\nPlease make sure you know that.\n\n514\n00:24:29.210 --> 00:24:32.623\nWe're gonna click okay there, puts a\nlittle path statement there for us, right,\n\n515\n00:24:32.623 --> 00:24:33.755\nso we know what that is.\n\n516\n00:24:33.755 --> 00:24:35.805\nAll right, so we've gone and\ndone that now.\n\n517\n00:24:36.940 --> 00:24:38.365\nAnd now we're gonna move over here.\n\n518\n00:24:38.365 --> 00:24:40.180\nLet's go to the Classification tab.\n\n519\n00:24:40.180 --> 00:24:42.820\nAgain, we're kinda stepping through\nthe logic of what's happening here.\n\n520\n00:24:42.820 --> 00:24:44.470\nStep by step creating the rule, remember?\n\n521\n00:24:44.470 --> 00:24:45.198\nThat's what we're doing, right?\n\n522\n00:24:45.198 --> 00:24:47.350\nWe're going ahead and creating our rules.\n\n523\n00:24:47.350 --> 00:24:51.340\nSo on the Classification tab, we're\ngonna specify the classification method.\n\n524\n00:24:51.340 --> 00:24:53.470\nYou'll see right here,\nchoose a method to design or\n\n525\n00:24:53.470 --> 00:24:56.000\nto assign rather a property to files.\n\n526\n00:24:56.000 --> 00:24:58.117\nContent classifier, right,\nso we can make sure.\n\n527\n00:24:58.117 --> 00:25:01.910\nAgain, I'll show you the options here,\nright?\n\n528\n00:25:01.910 --> 00:25:04.574\nFolder classifier or\nWindows PowerShell classifier,\n\n529\n00:25:04.574 --> 00:25:07.246\nwe have options based on\nthe kind of method we wanna use.\n\n530\n00:25:07.246 --> 00:25:09.590\nSo we're gonna use content classifier.\n\n531\n00:25:09.590 --> 00:25:12.080\nWhat that does is,\nthat's gonna look for content.\n\n532\n00:25:12.080 --> 00:25:13.975\nThat's gonna do the string search for.\n\n533\n00:25:13.975 --> 00:25:17.013\nSo look for\nthe content in the document itself, right?\n\n534\n00:25:17.013 --> 00:25:20.100\nWe're gonna be able to say, look, hey,\nlet's go through and see what's in there.\n\n535\n00:25:20.100 --> 00:25:24.430\nSo content classifier searches for strings\nand regular expression patterns in files,\n\n536\n00:25:24.430 --> 00:25:26.180\nwhat it says right below there, right?\n\n537\n00:25:26.180 --> 00:25:28.190\nSo that's gonna do what\nCherokee was asking about.\n\n538\n00:25:28.190 --> 00:25:29.910\nHey, can I go into that file?\n\n539\n00:25:29.910 --> 00:25:33.490\nCan I search and pull out the word\nfinancer, that number, right,\n\n540\n00:25:33.490 --> 00:25:36.360\nwhatever that number is, and\npull that out as a string?\n\n541\n00:25:36.360 --> 00:25:40.130\nSo it's important to start thinking\ndata types and properties, and\n\n542\n00:25:40.130 --> 00:25:43.910\nthen classification rules and\nclassification mechanism or\n\n543\n00:25:43.910 --> 00:25:46.360\nmethod, because that's how\nwe tie this together, right?\n\n544\n00:25:46.360 --> 00:25:47.260\nSo we're gonna be doing that.\n\n545\n00:25:47.260 --> 00:25:52.522\nNow just to note here,\nFolder classifier classifies all files and\n\n546\n00:25:52.522 --> 00:25:54.380\nfolders included in\nthe scope of this rule.\n\n547\n00:25:54.380 --> 00:25:57.747\nMeaning, it's gonna classify all the files\nthat are in the folder if we choose\n\n548\n00:25:57.747 --> 00:25:58.369\nthis method.\n\n549\n00:25:58.369 --> 00:26:01.071\nAnd/or if we do Windows PowerShell cmdlet,\n\n550\n00:26:01.071 --> 00:26:04.360\nclassifies files using\nWindows PowerShell Scripts.\n\n551\n00:26:04.360 --> 00:26:06.750\nI can actually create scripts\nthat are then attached and\n\n552\n00:26:06.750 --> 00:26:12.230\nrun to do some pretty nifty logic in terms\nof what we wanna do to manipulate and\n\n553\n00:26:12.230 --> 00:26:13.500\nunderstand how to classify.\n\n554\n00:26:13.500 --> 00:26:17.040\nThat's where we get into some really\ncomplex stuff, a lot of custom stuff at\n\n555\n00:26:17.040 --> 00:26:20.530\nthat point cuz we're scripting out\nthe functionality we wanna be able to do,\n\n556\n00:26:20.530 --> 00:26:24.740\nfiltering boolean longer search strings,\ncomplex joins,\n\n557\n00:26:24.740 --> 00:26:29.100\nthings like that that require a little bit\nmore manipulation and logic to create.\n\n558\n00:26:29.100 --> 00:26:32.750\nWe could iterate through and do\na multilevel comparison join where we say\n\n559\n00:26:32.750 --> 00:26:37.350\nokay, this and then if I find this,\ngo into this search sequentially.\n\n560\n00:26:37.350 --> 00:26:40.980\nSo there's a lot of additional logic\nI can build in using these but\n\n561\n00:26:40.980 --> 00:26:44.500\nit's a little bit out beyond\nwhat were talking about here.\n\n562\n00:26:44.500 --> 00:26:48.435\nIt gets into obviously first and foremost\nas we keep talking about gotta learn\n\n563\n00:26:48.435 --> 00:26:50.500\nPowerShell wanna do this kind of stuff.\n\n564\n00:26:50.500 --> 00:26:52.380\nThis is not the, hey, let me sit down and\n\n565\n00:26:52.380 --> 00:26:54.996\nI'll just whip something out\nkind of thought process.\n\n566\n00:26:54.996 --> 00:26:57.990\nThis you gotta know PowerShell show to be\nable to use the scripts to do this stuff.\n\n567\n00:26:57.990 --> 00:27:01.589\nSo it would be good for you to take a look\nat some of the PowerShell shows and\n\n568\n00:27:01.589 --> 00:27:05.920\ndiscussions we have going on here ITProTV,\nalways valuable to have those skills.\n\n569\n00:27:05.920 --> 00:27:07.656\nYou could see it popping\nup everywhere we go.\n\n570\n00:27:07.656 --> 00:27:08.721\nThere's some sort of reference\nto PowerShell, right?\n\n571\n00:27:08.721 --> 00:27:11.255\nWe can use it for a variety of things.\n\n572\n00:27:11.255 --> 00:27:12.930\nAll right, so\nwe're gonna do a content classifier here.\n\n573\n00:27:12.930 --> 00:27:16.505\nAnd by the way, notice the context down\nbelow changes the properties as I make\n\n574\n00:27:16.505 --> 00:27:18.323\nchoices up top or modified down below.\n\n575\n00:27:18.323 --> 00:27:20.893\nAll right, we're gonna choose\na property with sign and files,\n\n576\n00:27:20.893 --> 00:27:22.857\nmake sure it's set to\nConfidential Documents.\n\n577\n00:27:22.857 --> 00:27:26.422\nCould see it is, so\nyou'll see here, right?\n\n578\n00:27:26.422 --> 00:27:27.488\nThat's the one that we've chosen.\n\n579\n00:27:27.488 --> 00:27:28.590\nThat's what we're gonna do.\n\n580\n00:27:28.590 --> 00:27:33.659\nRemember, that's the property\nthat I just defined, right?\n\n581\n00:27:33.659 --> 00:27:35.735\nWe can't see it, but\nover here under Properties,\n\n582\n00:27:35.735 --> 00:27:37.125\nthat was the one we just created.\n\n583\n00:27:37.125 --> 00:27:39.492\nIt's not there now but if I select,\nif I get out of here and select,\n\n584\n00:27:39.492 --> 00:27:40.349\nyou would see it there.\n\n585\n00:27:40.349 --> 00:27:44.351\nBut just reminding you that's the property\nthat we were actually working with and\n\n586\n00:27:44.351 --> 00:27:45.342\ncreating, right?\n\n587\n00:27:45.342 --> 00:27:48.173\nAnd then we have to specify a value,\nright?\n\n588\n00:27:48.173 --> 00:27:51.783\nSo the value, remember, if you\nremember when I created the property,\n\n589\n00:27:51.783 --> 00:27:53.366\nwe did not do a number, right?\n\n590\n00:27:53.366 --> 00:27:56.730\nSo or yes no, so rather we didn't do\na number, yes, no, or anything else,\n\n591\n00:27:56.730 --> 00:27:59.010\nbut on the string we\nsaid confidential data.\n\n592\n00:27:59.010 --> 00:28:00.440\nWe didn't specify a value.\n\n593\n00:28:00.440 --> 00:28:02.468\nThe interface said,\nhey, no value required.\n\n594\n00:28:02.468 --> 00:28:04.980\nI specify the value here.\n\n595\n00:28:04.980 --> 00:28:05.905\nThat's where I'm gonna\nactually add the value.\n\n596\n00:28:05.905 --> 00:28:08.180\nSo this is where we get to add that value.\n\n597\n00:28:08.180 --> 00:28:10.440\nThis is the tag,\nessentially, that goes on.\n\n598\n00:28:10.440 --> 00:28:13.947\nWe're gonna make this confidential,\nso that's the tag we're gonna use.\n\n599\n00:28:13.947 --> 00:28:18.340\nConfidential, make sure\nI spell that correctly.\n\n600\n00:28:18.340 --> 00:28:19.740\nAll right, so we have all that.\n\n601\n00:28:19.740 --> 00:28:21.580\nAnd then under parameters here,\n\n602\n00:28:21.580 --> 00:28:25.460\nthis classification method requires\nadditional configuration parameters.\n\n603\n00:28:25.460 --> 00:28:28.300\nWe're gonna click configure, right?\n\n604\n00:28:28.300 --> 00:28:29.470\nSo let's just bring this up.\n\n605\n00:28:29.470 --> 00:28:34.217\nLet's move this over here just so\nwe can see what's going on.\n\n606\n00:28:34.217 --> 00:28:36.095\nThank you very much, yeah.\n\n607\n00:28:36.095 --> 00:28:39.942\nAll right, so let's just take a look at\nthose parameters there for just a second.\n\n608\n00:28:39.942 --> 00:28:42.200\nAll right, so\nwe have expression type here, right,\n\n609\n00:28:42.200 --> 00:28:44.620\nand you'll see right now\nit says regular expression.\n\n610\n00:28:44.620 --> 00:28:45.650\nWell, we're gonna change that.\n\n611\n00:28:45.650 --> 00:28:46.920\nWe know we're doing a string, right?\n\n612\n00:28:46.920 --> 00:28:48.600\nSo we have to go match this.\n\n613\n00:28:48.600 --> 00:28:50.420\nSo we're gonna go in and\nwe're gonna do string.\n\n614\n00:28:50.420 --> 00:28:53.290\nRemember I said we could do case\nsensitive strings for strings, right?\n\n615\n00:28:53.290 --> 00:28:54.190\nWe're gonna do a normal string.\n\n616\n00:28:54.190 --> 00:28:57.262\nWe're not gonna bother with case\nsensitivity just cuz finance is finance.\n\n617\n00:28:57.262 --> 00:29:00.410\nWhether it's capital F or not, who cares?\n\n618\n00:29:00.410 --> 00:29:03.844\nBut if it was something like what I\ndescribed, maybe the patient name being\n\n619\n00:29:03.844 --> 00:29:07.133\nall capitals is our naming convention,\nwe wanna do case sensitivity.\n\n620\n00:29:07.133 --> 00:29:10.990\nThat's the trigger, in other words, that\nwould say, this is confidential medical\n\n621\n00:29:10.990 --> 00:29:14.356\ndata versus maybe just somebody's name\nappearing normally in the document.\n\n622\n00:29:14.356 --> 00:29:19.540\nYeah, maybe their first name, first letter\nis capitalized but not the whole name.\n\n623\n00:29:19.540 --> 00:29:22.349\nWe would not have to do a case\nsensitive match because it would behave\n\n624\n00:29:22.349 --> 00:29:23.345\ndifferently, right?\n\n625\n00:29:23.345 --> 00:29:26.502\nSo we have to just think about the logic\nhow our expressions are written or\n\n626\n00:29:26.502 --> 00:29:29.816\nhow they're being used and how we wanna\nmatch against them cuz string versus\n\n627\n00:29:29.816 --> 00:29:32.390\ncase sensitive string is\nessentially the same.\n\n628\n00:29:32.390 --> 00:29:36.020\nThe difference is whether the data\ninput that we're valuing and\n\n629\n00:29:36.020 --> 00:29:38.300\ntherefore searching for is case sensitive.\n\n630\n00:29:38.300 --> 00:29:41.368\nAnd a lot times it won't be, so it may or\nmay not be important for us to do that.\n\n631\n00:29:41.368 --> 00:29:45.150\nAll right, under expression,\nin the column here, we have to provide,\n\n632\n00:29:45.150 --> 00:29:46.393\nwe did string, right?\n\n633\n00:29:46.393 --> 00:29:49.393\nAnd so now we have to click and see, okay,\nessentially what's the string, right?\n\n634\n00:29:49.393 --> 00:29:51.655\nExpression is what we're gonna search for.\n\n635\n00:29:51.655 --> 00:29:53.705\nWhat is that string that we wanna find,\nright?\n\n636\n00:29:53.705 --> 00:29:54.545\nSo I have to put in finance so\nI'm gonna put that in.\n\n637\n00:29:54.545 --> 00:29:57.830\nIt's pretty important to make sure\nyou spell this correctly here.\n\n638\n00:29:57.830 --> 00:29:58.730\n[LAUGH] It would be.\n\n639\n00:29:59.770 --> 00:30:02.500\nThis is pretty much the crux\nof the matter right here.\n\n640\n00:30:02.500 --> 00:30:06.215\nSo all the stuff we just did, if I screwed\nup and didn't spell something correctly,\n\n641\n00:30:06.215 --> 00:30:08.221\nyou're gonna find out\nthat we have an error.\n\n642\n00:30:08.221 --> 00:30:11.309\nBut the good news is we'll know here\nto go back and fix it as we go.\n\n643\n00:30:11.309 --> 00:30:13.140\nThat's right.\n[LAUGH] We have a typo here.\n\n644\n00:30:13.140 --> 00:30:16.320\nBut also, all kidding aside,\nnotice there is no autocorrect or\n\n645\n00:30:16.320 --> 00:30:18.200\nspell check the way there would\nbe in something like Word.\n\n646\n00:30:18.200 --> 00:30:22.060\nWord underlines and says, by the way,\nfinance isn't spelled correctly.\n\n647\n00:30:22.060 --> 00:30:23.100\nWe're kinda putting the burden and\n\n648\n00:30:23.100 --> 00:30:26.140\nthe onus on you to ensure that\nyou're spelling it correctly, right?\n\n649\n00:30:26.140 --> 00:30:28.160\nSo good thing to talk about.\n\n650\n00:30:28.160 --> 00:30:29.130\nAnd now that you've jinxed me,\n\n651\n00:30:29.130 --> 00:30:33.170\nI'm sure it's gonna just well,\nend poorly cuz that's how those things go.\n\n652\n00:30:33.170 --> 00:30:35.340\nAll right, so\nwe do have finance there, right?\n\n653\n00:30:35.340 --> 00:30:38.052\nNotice minimum occurrences,\nso at least one occurrence.\n\n654\n00:30:38.052 --> 00:30:41.264\nWe're gonna wanna hit a match on that,\nso that'll be up to us to decide,\n\n655\n00:30:41.264 --> 00:30:42.400\nhow many occurrences.\n\n656\n00:30:42.400 --> 00:30:45.000\nSometimes you may have a string\nthat occurs more than once in\n\n657\n00:30:45.000 --> 00:30:45.940\na document, right?\n\n658\n00:30:45.940 --> 00:30:49.870\nYou may wanna say, hey, if it occurs\ntwo or three times, then do something.\n\n659\n00:30:49.870 --> 00:30:51.600\nIf it doesn't, then don't worry about it.\n\n660\n00:30:51.600 --> 00:30:55.110\nBecause you may say in a contract,\nhypothetically, for instance,\n\n661\n00:30:55.110 --> 00:31:00.150\njust as an example, you may have\na field where somebody has to sign,\n\n662\n00:31:00.150 --> 00:31:03.040\nright, or their name is printed and\nthey have to sign or whatever.\n\n663\n00:31:03.040 --> 00:31:06.700\nBut you may what them to print their name\nand sign, just hypothetically, let's say.\n\n664\n00:31:06.700 --> 00:31:11.430\nIf they don't do that all three times in\nthree places in the document to certify\n\n665\n00:31:11.430 --> 00:31:15.830\nthe document is good, you may not wanna\nclassify it as complete if that's\n\n666\n00:31:15.830 --> 00:31:19.170\nthe string you're gonna work with, because\nthey haven't finished the document.\n\n667\n00:31:19.170 --> 00:31:22.850\nSo you can think about the way you would\napply this logic with minimum occurrences.\n\n668\n00:31:22.850 --> 00:31:26.220\nMaybe we only see the name being\nprinted twice instead of three times.\n\n669\n00:31:26.220 --> 00:31:27.860\nThey haven't actually\nfinished the document.\n\n670\n00:31:27.860 --> 00:31:29.944\nMaybe we don't wanna classify it as done,\n\n671\n00:31:29.944 --> 00:31:33.198\nmaybe we want to keep in process,\nsomething like that.\n\n672\n00:31:33.198 --> 00:31:36.250\nThere's all these different ways we could\nthink about the logic of this, right,\n\n673\n00:31:36.250 --> 00:31:38.932\nif you just step back and\nkind of understand and\n\n674\n00:31:38.932 --> 00:31:42.750\nstart to consume that thought process and\nthink through the logic of it.\n\n675\n00:31:42.750 --> 00:31:46.210\nAll right, so\nwe've got finance here, right?\n\n676\n00:31:46.210 --> 00:31:48.740\nWe're not gonna worry about this one.\n\n677\n00:31:48.740 --> 00:31:50.390\nJust come down here, right?\n\n678\n00:31:52.210 --> 00:31:55.610\nJust to show you, we don't care about this\none, we're not worried about that, right?\n\n679\n00:31:55.610 --> 00:31:57.126\nWe're just worried right here about this.\n\n680\n00:31:57.126 --> 00:32:01.648\nAnd for instance, hypothetically,\nif I did this, right, and\n\n681\n00:32:01.648 --> 00:32:06.029\nremoved that, so\nwe're just gonna go ahead, gonna go here.\n\n682\n00:32:06.029 --> 00:32:08.369\nAnd you see the minute I put it back,\nit puts another one down below, but\n\n683\n00:32:08.369 --> 00:32:10.640\nwe're not populating that, so\nwe're not worried about that one.\n\n684\n00:32:10.640 --> 00:32:11.692\nJust wanted to show that to you.\n\n685\n00:32:11.692 --> 00:32:14.930\nAll right, so let me just put\nfinance back in, all right?\n\n686\n00:32:14.930 --> 00:32:17.410\nAnd no, I did not do that cuz I\nthought it was spelled incorrectly.\n\n687\n00:32:17.410 --> 00:32:20.310\nI'm just showing you what that was\nin case you're sitting there going,\n\n688\n00:32:20.310 --> 00:32:20.937\nyeah, he's being sly.\n\n689\n00:32:20.937 --> 00:32:21.748\n[LAUGH] He's just fixing that typo.\n\n690\n00:32:21.748 --> 00:32:23.915\nI don't think that was the case at all.\n\n691\n00:32:23.915 --> 00:32:25.250\nAll right, so we're gonna go ahead.\n\n692\n00:32:25.250 --> 00:32:26.997\nWe're going to click OK here.\n\n693\n00:32:26.997 --> 00:32:30.604\nSo we got string, we got finance,\nwe got minimum occurrence, good.\n\n694\n00:32:30.604 --> 00:32:32.251\nAll right, so we've got that set up.\n\n695\n00:32:32.251 --> 00:32:36.912\nWe're configured there, and now what we're\ngonna do is click OK to obviously put our\n\n696\n00:32:36.912 --> 00:32:38.860\nchanges in place right here.\n\n697\n00:32:38.860 --> 00:32:40.897\nSo now we've got our rule, right?\n\n698\n00:32:40.897 --> 00:32:43.160\nAll right, so I think we still\nhave some more stuff to do.\n\n699\n00:32:43.160 --> 00:32:46.770\nBut I'm thinking just looking at our\ntimekeeper there that we may have to come\n\n700\n00:32:46.770 --> 00:32:51.410\nback and make this a deuce, a second\npart on this discussion to finish up.\n\n701\n00:32:51.410 --> 00:32:54.446\nSounds good, I actually wanna see the\nfruition here and then actually run it and\n\n702\n00:32:54.446 --> 00:32:55.229\ncheck to make sure.\n\n703\n00:32:55.229 --> 00:32:55.807\nThat will be fun, yeah.\n\n704\n00:32:55.807 --> 00:32:56.539\nYeah, absolutely,\nwe're gonna do that, no doubt.\n\n705\n00:32:56.539 --> 00:32:58.260\nAll right, Adam, thank you for your time.\n\n706\n00:32:58.260 --> 00:33:01.160\nAnd thank you for your time as well,\nbut stay tuned so we can go ahead and\n\n707\n00:33:01.160 --> 00:33:02.450\nfinish up this demonstration.\n\n708\n00:33:02.450 --> 00:33:04.610\nFor this show, we are out of time.\n\n709\n00:33:04.610 --> 00:33:06.470\nRemember, I'm your host, Cherokee Boose.\n\n710\n00:33:06.470 --> 00:33:07.090\nI'm Adam Gordon.\n\n711\n00:33:07.090 --> 00:33:08.437\nSee you next time here at ITProTV.\n\n712\n00:33:08.437 --> 00:33:15.941\n[MUSIC]\n\n713\n00:33:15.941 --> 00:33:18.725\nThank you for watching ITProTV.\n\n",
          "vimeoId": "224330980"
        },
        {
          "description": "In this episode, Cherokee and Adam finish the FRSM demo and show that once their rule has been applied to the files in question the Confidential Classification value had been added. Adam also explain additional storage enhancements such as data deduplication, tiered storage and more!",
          "length": "1940",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-6-advance_file_services_pt6-063017-PGM.00_32_05_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-6-advance_file_services_pt6-063017-PGM.00_32_05_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-6-advance_file_services_pt6-063017-PGM.00_32_05_11.Still001-sm.jpg",
          "title": "Advanced File Services Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.280 --> 00:00:02.135\nWelcome on ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.135 --> 00:00:06.510\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.510 --> 00:00:08.291\n[MUSIC]\n\n4\n00:00:08.291 --> 00:00:12.157\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.157 --> 00:00:17.173\n&gt;&gt; Welcome to your MCSA 70-412 series,\nI'm your show host, Cherokee Boose.\n\n6\n00:00:17.173 --> 00:00:22.037\nThis is a part six, but we did leave\noff in the middle of a demonstration.\n\n7\n00:00:22.037 --> 00:00:25.230\nAdam was showing us how to use\nFile Server Resource Manager.\n\n8\n00:00:25.230 --> 00:00:25.974\nAnd guess what,\n\n9\n00:00:25.974 --> 00:00:29.597\nwe were able to bring him back in studios\nto pick back up with this demonstration.\n\n10\n00:00:29.597 --> 00:00:30.940\nSo, you ready, Adam?\n\n11\n00:00:30.940 --> 00:00:34.746\n&gt;&gt; I am, and so are you, hopefully,\ncuz we are about to get started.\n\n12\n00:00:34.746 --> 00:00:38.298\nSo join me here, if you will,\nwhich is actually right up over there,\n\n13\n00:00:38.298 --> 00:00:40.915\nthere, there, there,\nthere we go, all right.\n\n14\n00:00:40.915 --> 00:00:43.260\n&gt;&gt; [LAUGH]\n&gt;&gt; So, we left off on the FSRM,\n\n15\n00:00:43.260 --> 00:00:46.590\nwe just completed our rules,\nwe're about to go in and\n\n16\n00:00:46.590 --> 00:00:48.930\ncreate a file management\ntask to join with that.\n\n17\n00:00:48.930 --> 00:00:52.399\nBut just to remember where we were,\nwe started off with the classification\n\n18\n00:00:52.399 --> 00:00:55.430\nproperties, we did create\na confidential documents property,\n\n19\n00:00:55.430 --> 00:00:57.978\nwe then went ahead and\ncreated a classification rule.\n\n20\n00:00:57.978 --> 00:00:59.730\nYou'll see it here,\nconfidential documents.\n\n21\n00:00:59.730 --> 00:01:05.100\nWe bound the property to the rule,\ncreated a string search value\n\n22\n00:01:05.100 --> 00:01:09.270\ncalled finance, and now we're going to go\nahead and go to our file management task.\n\n23\n00:01:09.270 --> 00:01:10.890\nAnd we're gonna create\na file management task.\n\n24\n00:01:10.890 --> 00:01:13.776\nSo we're gonna right-click create\na file management task here.\n\n25\n00:01:15.403 --> 00:01:19.598\nJust move this over, so\nthat we can begin to work on that.\n\n26\n00:01:19.598 --> 00:01:22.951\nAll right, so let's go in,\nlet's start to programming and\n\n27\n00:01:22.951 --> 00:01:24.970\nobviously here on the task name.\n\n28\n00:01:24.970 --> 00:01:26.107\nWe're gonna go ahead and give it a name.\n\n29\n00:01:26.107 --> 00:01:30.383\nI'm gonna call this copy confidential,\ncuz what we're gonna do is,\n\n30\n00:01:30.383 --> 00:01:35.570\ncreate a task that essentially copies\nthose files and does something with them.\n\n31\n00:01:35.570 --> 00:01:40.490\nRemember, we tagged two Notepad files\ncalled file or report1, report2 to\n\n32\n00:01:40.490 --> 00:01:44.640\na text files in the projects folder that\nwe've created, that I started out with.\n\n33\n00:01:44.640 --> 00:01:47.660\nYou'll see them right here in theory,\nthere we are.\n\n34\n00:01:47.660 --> 00:01:48.470\nWe'll see them right here.\n\n35\n00:01:48.470 --> 00:01:50.030\nThis is what we're gonna be working with,\nright?\n\n36\n00:01:50.030 --> 00:01:53.670\nSo just keeping you, reminding you\nof that and keeping you folks on\n\n37\n00:01:53.670 --> 00:01:55.780\nthe fact that those are the files\nthat we are gonna be playing with.\n\n38\n00:01:55.780 --> 00:01:57.740\nWe'd started out with\nthose already set up.\n\n39\n00:01:57.740 --> 00:01:59.984\nI had them there,\njust showed you what they were.\n\n40\n00:01:59.984 --> 00:02:02.300\nAll right, so\nwe're gonna give this a name.\n\n41\n00:02:02.300 --> 00:02:03.440\n&gt;&gt; And Adam, here for\n\n42\n00:02:03.440 --> 00:02:06.880\nthe demonstration, I don't know, we\nusually don't put in lengthy descriptions.\n\n43\n00:02:06.880 --> 00:02:09.620\nBut in real life, and\nwe were even talking about this,\n\n44\n00:02:09.620 --> 00:02:13.340\nyou would probably want a pretty detailed\ndescription of what it is you are doing.\n\n45\n00:02:13.340 --> 00:02:17.498\nBecause you could work against yourself\nif you had conflicting rules, and\n\n46\n00:02:17.498 --> 00:02:20.143\nyou were stating how in\nbetween the shows here.\n\n47\n00:02:20.143 --> 00:02:23.705\nIt would be important to think\nabout how you apply them logically,\n\n48\n00:02:23.705 --> 00:02:28.030\nbecause we even stated that, if you had a\nton of different rules, and you had a lot\n\n49\n00:02:28.030 --> 00:02:32.633\nof different files, this could impact the\noverall performance of that processing.\n\n50\n00:02:34.793 --> 00:02:38.160\n[LAUGH]\n&gt;&gt; You know I can't type and\n\n51\n00:02:38.160 --> 00:02:39.340\ntalk at the same time.\n\n52\n00:02:39.340 --> 00:02:41.868\nYes, I'm just typing out a description\nwhile Cherokee was talking to you,\n\n53\n00:02:41.868 --> 00:02:42.550\njust to reinforce.\n\n54\n00:02:42.550 --> 00:02:43.088\n&gt;&gt; What does it say?\n\n55\n00:02:43.088 --> 00:02:45.741\n&gt;&gt; I'm not gonna tell you,\nyou'll have to go walk up to the screen,\n\n56\n00:02:45.741 --> 00:02:47.881\nput your nose there to read it,\nif you cannot see it.\n\n57\n00:02:47.881 --> 00:02:48.670\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n58\n00:02:48.670 --> 00:02:52.040\nI'm just typing out a description\nthat essentially does tell us,\n\n59\n00:02:52.040 --> 00:02:55.268\nas you were saying,\nwe should do what this will do.\n\n60\n00:02:55.268 --> 00:02:57.230\nWhich is this task will copy files,\n\n61\n00:02:57.230 --> 00:03:00.320\nthat are tagged as confidential,\nto a designated folder, right?\n\n62\n00:03:00.320 --> 00:03:03.330\nThis is what we're gonna\nessentially have this task do.\n\n63\n00:03:03.330 --> 00:03:07.260\nSo, I'm gonna create a task that will\nmove, or make a copy of those files, and\n\n64\n00:03:07.260 --> 00:03:08.110\nput them somewhere else.\n\n65\n00:03:08.110 --> 00:03:10.500\nThat's what we're basically\ngonna try to do here.\n\n66\n00:03:10.500 --> 00:03:13.900\nAll right, so we have a little description\nto Cherokee's point, keeping me honest and\n\n67\n00:03:13.900 --> 00:03:15.610\nmaking sure we're doing\nthis the right way.\n\n68\n00:03:15.610 --> 00:03:19.189\nRemember, we did say that these come\nup enabled by default, but we can\n\n69\n00:03:19.189 --> 00:03:23.206\ndisable if we need to, so we know we can\ngo in and do that as well, right up to us.\n\n70\n00:03:23.206 --> 00:03:25.600\nAll right, so\nwe're gonna move to the scope tab here.\n\n71\n00:03:25.600 --> 00:03:29.600\nWe did scope in the rule as well,\nif you remember.\n\n72\n00:03:29.600 --> 00:03:32.430\nLooks the same, indeed is the same,\nas you can see.\n\n73\n00:03:32.430 --> 00:03:33.930\nRight, what's the scope gonna be?\n\n74\n00:03:33.930 --> 00:03:37.430\nThe scope in this case remember\nwas user files, and we added in,\n\n75\n00:03:37.430 --> 00:03:40.170\nremember the path to find those files.\n\n76\n00:03:40.170 --> 00:03:44.231\nSo user files, we're gonna go ahead, we're\ngonna click add, just like we did before.\n\n77\n00:03:44.231 --> 00:03:47.680\nGonna go browse here,\ngo find our projects folder.\n\n78\n00:03:47.680 --> 00:03:49.410\nRemember, it was in the c drive.\n\n79\n00:03:49.410 --> 00:03:50.982\nSo we're just gonna come down here.\n\n80\n00:03:50.982 --> 00:03:54.980\nGo to the c drive, just open that up,\nthere's projects right there.\n\n81\n00:03:54.980 --> 00:03:57.306\nI'll remind you again,\nI reminded you in the last episode,\n\n82\n00:03:57.306 --> 00:03:58.456\nin case you haven't seen it.\n\n83\n00:03:58.456 --> 00:04:02.796\nThat, knowing that we're at the folder\nlevel not going to an individual file, but\n\n84\n00:04:02.796 --> 00:04:06.888\nrather the folder, would be a good little\npoint here in terms of just knowing,\n\n85\n00:04:06.888 --> 00:04:09.870\nif you're ever asked,\nwhat level do we operate at here?\n\n86\n00:04:09.870 --> 00:04:10.640\nWhat that is, right?\n\n87\n00:04:10.640 --> 00:04:12.460\nSo just make it sure you're aware of that.\n\n88\n00:04:12.460 --> 00:04:13.280\nI'm gonna click OK.\n\n89\n00:04:13.280 --> 00:04:15.130\nWe put in our path statement here.\n\n90\n00:04:15.130 --> 00:04:17.652\nWe're now gonna go over to action.\n\n91\n00:04:17.652 --> 00:04:19.360\nWhat are we gonna be doing here?\n\n92\n00:04:19.360 --> 00:04:21.470\nWhat kind of action do we wanna take?\n\n93\n00:04:21.470 --> 00:04:23.200\nWell, you'll see we have\nlots of different stuff.\n\n94\n00:04:23.200 --> 00:04:25.806\nWe could have a file expiration here.\n\n95\n00:04:25.806 --> 00:04:30.064\nWe could essentially dead end that content\nand remove it, so that it's no longer\n\n96\n00:04:30.064 --> 00:04:34.130\nactive and valid, that is and\ncan be very useful in certain situations.\n\n97\n00:04:34.130 --> 00:04:36.750\nMaybe you have a document\nout there of a certain type,\n\n98\n00:04:36.750 --> 00:04:38.240\na certain revision number, and\n\n99\n00:04:38.240 --> 00:04:41.380\nmaybe that's gonna be good for a period\nof time as people are putting data in.\n\n100\n00:04:41.380 --> 00:04:42.373\nI'm thinking-\n&gt;&gt; Good example\n\n101\n00:04:42.373 --> 00:04:44.242\n&gt;&gt; Vacation request, maybe.\n\n102\n00:04:44.242 --> 00:04:49.340\nW-9s, W-2s, 1040s, that are yearly,\nthat may have to be rotated.\n\n103\n00:04:49.340 --> 00:04:51.300\nThere's a lot of different\nreasons why that would work.\n\n104\n00:04:51.300 --> 00:04:54.060\n&gt;&gt; I was just assuming vacation\nrequests from Cherokee.\n\n105\n00:04:54.060 --> 00:04:56.105\nIf it has the word Cherokee in it,\njust delete.\n\n106\n00:04:56.105 --> 00:04:58.240\n[LAUGH]\n&gt;&gt; I did not specify a user,\n\n107\n00:04:58.240 --> 00:05:00.790\nI simply said that there could be reasons.\n\n108\n00:05:00.790 --> 00:05:02.383\nWe're gonna choose Custom, so\n\n109\n00:05:02.383 --> 00:05:05.227\nyou'll see there that does\nchange things just a wee bit.\n\n110\n00:05:05.227 --> 00:05:09.388\nAnd you'll see, we can now go in and\nactually find something along the lines of\n\n111\n00:05:09.388 --> 00:05:12.162\nan executable and\nperhaps some sort of a batch file,\n\n112\n00:05:12.162 --> 00:05:16.594\nPowerShell scripts, a lot of different\nthings we may think about logically here.\n\n113\n00:05:16.594 --> 00:05:20.185\nI have a little batch file that I wrote\nthat's gonna just do the copy for us,\n\n114\n00:05:20.185 --> 00:05:22.570\nso we're gonna essentially pull that in.\n\n115\n00:05:22.570 --> 00:05:24.620\nSo what we're gonna do is the following,\nwe're gonna go in and\n\n116\n00:05:24.620 --> 00:05:27.790\ngrab the executable here, and\nthen the command string arguments.\n\n117\n00:05:27.790 --> 00:05:30.360\nSo the executable is gonna be\ncommand.exe because to run it,\n\n118\n00:05:30.360 --> 00:05:32.080\nwe have to run it inside the Shell.\n\n119\n00:05:32.080 --> 00:05:35.477\nSo we're gonna go grab that from,\nwhat is that, C:\\Windows\\System32.\n\n120\n00:05:35.477 --> 00:05:42.340\nSo we'll go in here, we'll go in, go to\nWindows, go in, just scroll down here.\n\n121\n00:05:42.340 --> 00:05:46.674\nGo to System32, and insides System32,\nwe want command.exe, so\n\n122\n00:05:46.674 --> 00:05:50.878\nwe're just gonna go search for\nthat, oops, gonna search for that.\n\n123\n00:05:54.538 --> 00:05:56.366\nIt's in there, hold on, there we go.\n\n124\n00:05:58.249 --> 00:06:03.100\nRight there, making sure we get cmd,\nnot cmd32 by the way, right,\n\n125\n00:06:03.100 --> 00:06:05.660\ncuz that's CMDL actually, right?\n\n126\n00:06:05.660 --> 00:06:06.889\nSo we want cmd.\n\n127\n00:06:06.889 --> 00:06:09.210\nSo we're gonna do that,\nthat's command.exe.\n\n128\n00:06:09.210 --> 00:06:12.350\nThat opens up essentially our\ncommand prompt, our DOS Shell.\n\n129\n00:06:12.350 --> 00:06:14.560\nAnd then our command settings argument,\nright.\n\n130\n00:06:14.560 --> 00:06:15.360\nWe're gonna go ahead and\n\n131\n00:06:15.360 --> 00:06:18.300\nspecify the directory that we're\ngonna run the commands in.\n\n132\n00:06:18.300 --> 00:06:24.394\nSo we're gonna go ahead, I'm gonna\nspecify here, Our working directory,\n\n133\n00:06:24.394 --> 00:06:29.325\nand we'll specify our directory\nas being the following.\n\n134\n00:06:29.325 --> 00:06:33.670\nAnd we're gonna go do see\nWindows\\System32 command.exe.\n\n135\n00:06:33.670 --> 00:06:38.110\nBut then we're gonna do the actual\ncopy file commandlet that I wrote,\n\n136\n00:06:38.110 --> 00:06:40.050\nthe little batch file that I wrote and\nput in there.\n\n137\n00:06:40.050 --> 00:06:42.080\nSo let me just go grab there.\n\n138\n00:06:42.080 --> 00:06:46.526\nSo we'll do that, and do System32.\n\n139\n00:06:46.526 --> 00:06:51.362\nAnd let's go do inside System31,\n\n140\n00:06:51.362 --> 00:06:54.170\ninside System32.\n\n141\n00:06:54.170 --> 00:06:55.668\nActually, I'll type it in,\njust one second.\n\n142\n00:06:55.668 --> 00:06:58.150\nDon't even need to do that,\nnot a big deal.\n\n143\n00:06:58.150 --> 00:07:00.710\nLet's just cheat here a little bit,\nwe'll do this.\n\n144\n00:07:00.710 --> 00:07:07.334\nMake it easier, and let´s do that,\nand then command.exe and copy file.\n\n145\n00:07:09.336 --> 00:07:14.280\nCopy file.cmd, this is the batch\nfile that's sitting there.\n\n146\n00:07:14.280 --> 00:07:21.378\nAnd the batch file is going to be,\njust so you can see it.\n\n147\n00:07:21.378 --> 00:07:21.878\n&gt;&gt; Okay.\n\n148\n00:07:25.558 --> 00:07:27.370\n&gt;&gt; See what it is,\nI should a left it open.\n\n149\n00:07:27.370 --> 00:07:31.080\nI closed it, I didn't think about that, so\nshame on me for not paying more attention,\n\n150\n00:07:31.080 --> 00:07:31.750\nall right.\n\n151\n00:07:31.750 --> 00:07:35.170\nSo in here,\nwe're gonna just do copy file.cmd, so\n\n152\n00:07:35.170 --> 00:07:37.441\nlet's find that really quickly.\n\n153\n00:07:37.441 --> 00:07:46.270\nL, M, N, O, P, There it is, right there.\n\n154\n00:07:46.270 --> 00:07:47.420\n&gt;&gt; All right.\n\n155\n00:07:47.420 --> 00:07:53.611\n&gt;&gt; All right, so, And\n\n156\n00:07:53.611 --> 00:07:56.650\nyou could see it's just if you wanna go\nfull screen, you could see it for a sec.\n\n157\n00:07:56.650 --> 00:07:59.605\nIt's just a simple little batch file,\ndoesn't do anything really complicated.\n\n158\n00:07:59.605 --> 00:08:01.741\nI'm just gonna move that over,\nso you could see it, right?\n\n159\n00:08:01.741 --> 00:08:07.657\nIt just does an x copy and then does\na delete file and just moves stuff around.\n\n160\n00:08:07.657 --> 00:08:08.825\nIt's just very straight forward.\n\n161\n00:08:08.825 --> 00:08:12.386\nSo just calling the path and the So\nit's, you EOF end to file, right?\n\n162\n00:08:12.386 --> 00:08:13.110\nJust so you know.\n\n163\n00:08:13.110 --> 00:08:14.289\nSo you're not a big deal.\n\n164\n00:08:14.289 --> 00:08:14.871\nAll right?\n\n165\n00:08:14.871 --> 00:08:17.150\nSo we have a little file there\nwe are just gonna reference.\n\n166\n00:08:17.150 --> 00:08:22.280\nAll right, so we have that and then on\nthe select variable to insert here,\n\n167\n00:08:22.280 --> 00:08:23.820\nwe're gonna pull this down and\n\n168\n00:08:23.820 --> 00:08:27.880\nagain, we have a whole bunch of different\nvariable types we can reference.\n\n169\n00:08:27.880 --> 00:08:31.360\nWe're gonna do a source file path here.\n\n170\n00:08:31.360 --> 00:08:35.890\nAnd we're gonna do that so we know that\nthat's the variable that's gonna be used.\n\n171\n00:08:35.890 --> 00:08:38.501\nGonna insert variable, okay.\n\n172\n00:08:38.501 --> 00:08:41.392\nSo you'll see at the end\nthere of our command line,\n\n173\n00:08:41.392 --> 00:08:43.780\nit inserts the source file path, right.\n\n174\n00:08:43.780 --> 00:08:48.692\nSo it's gonna reference the path for\nthat right, so we have that.\n\n175\n00:08:48.692 --> 00:08:53.410\nAll right, so we have all of that,\nand then when we're done,\n\n176\n00:08:53.410 --> 00:08:57.480\nwe're going to go ahead and\nwe're gonna click the conditions tab.\n\n177\n00:08:57.480 --> 00:08:58.860\nI'll move over to here in just a second,\nbut\n\n178\n00:08:58.860 --> 00:09:02.470\nbefore I do command security,\nlet's just talk about this for a second.\n\n179\n00:09:02.470 --> 00:09:04.970\nSo we can just see what's down here,\nlet me just move that up.\n\n180\n00:09:04.970 --> 00:09:08.100\nAlright, so you'll see here run\nthe command as a local service network,\n\n181\n00:09:08.100 --> 00:09:10.970\nservice, or\nlocal system we're telling the system,\n\n182\n00:09:10.970 --> 00:09:13.880\nthe computer how to execute this command,\nunder what instance or\n\n183\n00:09:13.880 --> 00:09:17.890\nwhat identity we want it to run under,\nkeeping in mind that if it's gonna go\n\n184\n00:09:17.890 --> 00:09:21.240\nagainst a remote machine, we would need\nnetwork service, not local, right.\n\n185\n00:09:21.240 --> 00:09:25.490\nBecause it has to be run under the context\nof an account that can communicate and\n\n186\n00:09:25.490 --> 00:09:29.270\ntalk to remote machines, and have access\nto them or have permission to do so.\n\n187\n00:09:29.270 --> 00:09:30.640\nSo just be aware of that.\n\n188\n00:09:30.640 --> 00:09:34.958\nYour years ago, back in the early days of\nWindows, we used to be able to create and\n\n189\n00:09:34.958 --> 00:09:37.070\nwe still can create service accounts.\n\n190\n00:09:37.070 --> 00:09:40.510\nBut they were often user accounts\nthat would have full admin rights and\n\n191\n00:09:40.510 --> 00:09:41.300\nwould potentially,\n\n192\n00:09:41.300 --> 00:09:45.310\nas we found out as time went by, get us\ninto trouble from a security perspective.\n\n193\n00:09:45.310 --> 00:09:46.270\nToo many permissions,\n\n194\n00:09:46.270 --> 00:09:48.915\ntoo much access access,\nsomebody gets a hold of that account.\n\n195\n00:09:48.915 --> 00:09:50.418\nIt could do what we want it to do, but\n\n196\n00:09:50.418 --> 00:09:52.487\nunfortunately can also do\na lot of other things.\n\n197\n00:09:52.487 --> 00:09:56.267\nSo we started constraining those system\naccounts and service accounts around\n\n198\n00:09:56.267 --> 00:09:59.875\nthe Windows 2000 mark,\nwith the advent of the Active Directory.\n\n199\n00:09:59.875 --> 00:10:02.455\nWe have local service,\nnetwork service, etc.\n\n200\n00:10:02.455 --> 00:10:05.655\nThese are restricted accounts\nat the OS controls but,\n\n201\n00:10:05.655 --> 00:10:10.015\nto have limited rights and\nvery special circumstances to proxy.\n\n202\n00:10:10.015 --> 00:10:11.740\nEssentially act on our behalf.\n\n203\n00:10:11.740 --> 00:10:14.920\nBut to do so with limited grant\nwith limited permission rights and\n\n204\n00:10:14.920 --> 00:10:17.070\nas a result don't tend to\nget us into as much trouble.\n\n205\n00:10:17.070 --> 00:10:18.903\nSo it's good for\nus to just be aware of that and\n\n206\n00:10:18.903 --> 00:10:20.701\nto note that that is\nwhat is happening here.\n\n207\n00:10:20.701 --> 00:10:22.651\n&gt;&gt; Know that they exists that's\nwhat they were designed for,\n\n208\n00:10:22.651 --> 00:10:23.716\nso let's go ahead and use them.\n\n209\n00:10:23.716 --> 00:10:24.440\n&gt;&gt; Yeah.\n\n210\n00:10:24.440 --> 00:10:25.893\n&gt;&gt; Absolutely correct, all right.\n\n211\n00:10:25.893 --> 00:10:29.322\nSo we're going to go to condition here so\nlet's go over to condition,\n\n212\n00:10:29.322 --> 00:10:32.312\nproperty conditions we have to\nspecify one or more of these.\n\n213\n00:10:32.312 --> 00:10:36.900\nWe're gonna go ahead, we're gonna add\na condition in and we're gonna say,\n\n214\n00:10:36.900 --> 00:10:41.250\njust do that here, and we'll just move\nour property condition over just so\n\n215\n00:10:41.250 --> 00:10:44.040\nwe can see that while we're adding it.\n\n216\n00:10:44.040 --> 00:10:46.905\nSo property confidential documents,\nas you can see here.\n\n217\n00:10:46.905 --> 00:10:51.480\nRight we're gonna change our operator\ninstead of confidential documents equals,\n\n218\n00:10:51.480 --> 00:10:54.030\nand you'll see we have different\noperators here, equal not equal,\n\n219\n00:10:54.030 --> 00:10:55.992\ncontains is contained in.\n\n220\n00:10:55.992 --> 00:11:00.160\nIt starts with ends with less than greater\nthan, all the standard operators or\n\n221\n00:11:00.160 --> 00:11:02.502\ncomparison operators\nwe'd often think about.\n\n222\n00:11:02.502 --> 00:11:04.660\nWe're gonna go to contains\nbecause remember,\n\n223\n00:11:04.660 --> 00:11:07.050\nthe document has to contain a string,\nright?\n\n224\n00:11:07.050 --> 00:11:09.840\nSo, we're gonna specify that it contains,\nright?\n\n225\n00:11:09.840 --> 00:11:11.750\nSo, contains and what's the value?\n\n226\n00:11:11.750 --> 00:11:13.498\nAnd remember what our magic word was,\nright?\n\n227\n00:11:13.498 --> 00:11:15.938\n&gt;&gt; Finance.\n&gt;&gt; Finance, absolutely, right?\n\n228\n00:11:15.938 --> 00:11:17.290\nSo we're gonna put in our word here,\n\n229\n00:11:17.290 --> 00:11:22.240\nexcept we're gonna spell that\ncorrectly finance, like that and\n\n230\n00:11:22.240 --> 00:11:25.460\nso we're gonna spell finance correctly,\nvery important we do that.\n\n231\n00:11:25.460 --> 00:11:27.450\nI'm telling you I'm gonna push for\nspell check for\n\n232\n00:11:27.450 --> 00:11:28.905\nthe next time I talk to somebody.\n\n233\n00:11:28.905 --> 00:11:30.500\n[LAUGH].\nRight we need a spell checker in these\n\n234\n00:11:30.500 --> 00:11:31.260\ninterfaces.\n\n235\n00:11:31.260 --> 00:11:32.948\nAll right so we're gonna put.\n&gt;&gt; I heard you say magic word\n\n236\n00:11:32.948 --> 00:11:36.854\nI almost thought like at a Vegas show\nwhen you had some kind of hypnotist and\n\n237\n00:11:36.854 --> 00:11:40.634\nyou know they do some strange thing\nwhenever you say the magic word, but\n\n238\n00:11:40.634 --> 00:11:42.543\nthat doesn't really happen here.\n\n239\n00:11:42.543 --> 00:11:46.880\nWe´re just executing our\nclassification properties.\n\n240\n00:11:46.880 --> 00:11:49.430\nWe´re not gonna be dancing like\na chicken or anything, right?\n\n241\n00:11:49.430 --> 00:11:53.483\n&gt;&gt; [LAUGH]\n&gt;&gt; No\n\n242\n00:11:53.483 --> 00:11:54.345\n&gt;&gt; [LAUGH]\n\n243\n00:11:54.345 --> 00:11:54.865\n&gt;&gt; All right.\n\n244\n00:11:54.865 --> 00:11:57.004\nAnd we´re just going to ignore that and\nwe'll just keep going.\n\n245\n00:11:57.004 --> 00:11:57.935\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, and\n\n246\n00:11:57.935 --> 00:12:00.795\nyou feel free to contribute and\nadd value whenever you feel you can.\n\n247\n00:12:00.795 --> 00:12:01.667\n&gt;&gt; Sounds great.\n\n248\n00:12:01.667 --> 00:12:02.875\nI'm on a roll, Adam.\n\n249\n00:12:02.875 --> 00:12:04.310\n&gt;&gt; All right.\nWe try to keep Cherokee happy\n\n250\n00:12:04.310 --> 00:12:05.230\nhere right, okay.\n\n251\n00:12:05.230 --> 00:12:06.894\nNo dancing like a chicken\nhere while we're talking.\n\n252\n00:12:06.894 --> 00:12:09.051\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so, we did go ahead,\n\n253\n00:12:09.051 --> 00:12:13.812\nwe created our comparison operator set\nit contains, gave it a value of finance.\n\n254\n00:12:13.812 --> 00:12:15.866\nThose are a little bit harder to\nsee it's highlighted there but\n\n255\n00:12:15.866 --> 00:12:17.150\nyou could see what that would be.\n\n256\n00:12:17.150 --> 00:12:19.955\nNow, Cherokee we did talk\nabout the fact with rules, and\n\n257\n00:12:19.955 --> 00:12:22.879\nyou made the point about this\nwhen we started this episode,\n\n258\n00:12:22.879 --> 00:12:25.822\nthat you know, if we stack up\ntoo many of those rules right.\n\n259\n00:12:25.822 --> 00:12:28.964\nWe're talking about the description and\nsaying hey, if you have a lot of these\n\n260\n00:12:28.964 --> 00:12:31.678\nthings going on, we have to really\nthink about the architecture and\n\n261\n00:12:31.678 --> 00:12:34.510\nthink about the impact on performance and\nour ability to do this.\n\n262\n00:12:34.510 --> 00:12:37.270\nCuz we have a lot of this stuff going on\nall it once, it could slow things down and\n\n263\n00:12:37.270 --> 00:12:39.960\nwe talked a bit about that\nbetween the shows as well.\n\n264\n00:12:39.960 --> 00:12:44.069\nSo I'm just reminding you here that we\ncould have multiple property conditions,\n\n265\n00:12:44.069 --> 00:12:47.757\nwe can stack them up as you can see, but\nwe have to be thinking just like we do\n\n266\n00:12:47.757 --> 00:12:51.269\nabout rules, about the fact that as\nwe stack more and more of these up,\n\n267\n00:12:51.269 --> 00:12:53.854\nwe're potentially slowing\ndown our comparison.\n\n268\n00:12:53.854 --> 00:12:56.612\nAnd we just have to be thinking about\nthe impact that that could have and\n\n269\n00:12:56.612 --> 00:12:58.310\nunderstand the logic of that, right?\n\n270\n00:12:58.310 --> 00:12:59.781\n&gt;&gt; Right.\n&gt;&gt; So just wanna be thinking about that\n\n271\n00:12:59.781 --> 00:13:01.720\nand just have a sense of\nwhat that looks like.\n\n272\n00:13:01.720 --> 00:13:03.040\nSo we're gonna go with one for the moment.\n\n273\n00:13:03.040 --> 00:13:05.190\nIn the real world email more than one.\n\n274\n00:13:05.190 --> 00:13:06.160\nFor our purposes, for\n\n275\n00:13:06.160 --> 00:13:10.330\nour demo with the little notepad files\nwere the word finance is in there,\n\n276\n00:13:10.330 --> 00:13:13.080\nreally isn't a lot more we can compare\nsince it's the only thing in the file.\n\n277\n00:13:13.080 --> 00:13:14.060\nBut if you remember and\n\n278\n00:13:14.060 --> 00:13:17.912\nthink about the logic of what we've been\nsaying would be some real world examples.\n\n279\n00:13:17.912 --> 00:13:23.104\nYour vacation request, medical document\nof some kind about patient information.\n\n280\n00:13:23.104 --> 00:13:27.087\nPerhaps a contract where you have multiple\nplaces where a user would have to print\n\n281\n00:13:27.087 --> 00:13:28.810\ntheir name, or do something.\n\n282\n00:13:28.810 --> 00:13:30.142\nWe're gonna pivot on those.\n\n283\n00:13:30.142 --> 00:13:33.510\nThere maybe more than one property\nwe want to compare against,\n\n284\n00:13:33.510 --> 00:13:36.245\nbecause there obviously maybe\nmore than one pivot point or.\n\n285\n00:13:36.245 --> 00:13:39.235\nData type that we're looking at\nthe drives classification so\n\n286\n00:13:39.235 --> 00:13:41.785\nthey may be a reason to do more than one\nof these just want to think about that.\n\n287\n00:13:41.785 --> 00:13:46.686\nAll right, so we have that here you could\nsee also that we could add other property\n\n288\n00:13:46.686 --> 00:13:51.516\nconditions like days since file was\ncreated, days since file was last modified\n\n289\n00:13:51.516 --> 00:13:56.057\ndays since filed last accessed,\nright file name patterns with wild card so\n\n290\n00:13:56.057 --> 00:14:00.353\nwe can say anything like asterisk\ndotxslx or dotpptxppt or whatever.\n\n291\n00:14:00.353 --> 00:14:05.008\nSo it could be specific here about certain\nvalues that are outside the actual file\n\n292\n00:14:05.008 --> 00:14:05.960\nitself.\n\n293\n00:14:05.960 --> 00:14:09.120\nWe can think of these as metadata\nattributes that could be added here\n\n294\n00:14:09.120 --> 00:14:10.770\nthat we may want to pivot against as well.\n\n295\n00:14:10.770 --> 00:14:12.280\nSo there are different things we can do.\n\n296\n00:14:12.280 --> 00:14:13.990\nWe're not gonna mess with those here.\n\n297\n00:14:13.990 --> 00:14:16.330\nJust pointing out the fact that we\ncould use them if we wanted to.\n\n298\n00:14:16.330 --> 00:14:17.840\nAll right, so schedule.\n\n299\n00:14:18.970 --> 00:14:20.900\nHow often do we want this task,\n\n300\n00:14:20.900 --> 00:14:25.340\nremember this is a task, we're gonna ask\nthe system to do something on our behalf.\n\n301\n00:14:25.340 --> 00:14:27.860\nWe have to specify how\noften we want that done.\n\n302\n00:14:27.860 --> 00:14:28.880\nThis a one time event?\n\n303\n00:14:28.880 --> 00:14:32.197\nIs this a hey, every Tuesday at\n3:00 o'clock in the afternoon?\n\n304\n00:14:32.197 --> 00:14:34.998\nLet's go ahead and make sure we check\nthis and see what's going on with it.\n\n305\n00:14:34.998 --> 00:14:38.190\nSo we've gotta think through the logic\nof the specificity around the time\n\n306\n00:14:38.190 --> 00:14:39.140\nmanagement, right?\n\n307\n00:14:39.140 --> 00:14:43.030\nSo we're gonna go in here, we're gonna\nsay, run act, in this case, what time?\n\n308\n00:14:43.030 --> 00:14:45.900\nI'm gonna say 7:00 AM, right so 0700,\n\n309\n00:14:45.900 --> 00:14:50.387\nit's up to us to decide what we want\nto do, there's no right and wrong here.\n\n310\n00:14:50.387 --> 00:14:54.800\nSo just a question of us deciding what\ntime would be most valuable for us.\n\n311\n00:14:54.800 --> 00:14:57.680\nBut you know, you would think about the\nlogic of these, given the parameters for\n\n312\n00:14:57.680 --> 00:14:59.040\nwhatever you're looking to do.\n\n313\n00:14:59.040 --> 00:15:00.300\nHow often do you wanna do this?\n\n314\n00:15:00.300 --> 00:15:03.890\nDo you wanna do this weekly, but\ndoes specify a number of days?\n\n315\n00:15:03.890 --> 00:15:05.470\nYou wanna do it monthly?\n\n316\n00:15:05.470 --> 00:15:10.250\nUp to us, so I'm gonna say, Monday,\nTuesday, Wednesday, Thursday, Friday.\n\n317\n00:15:10.250 --> 00:15:14.650\nSo, I'm gonna say essentially, during the\nnormal business days of an average week.\n\n318\n00:15:14.650 --> 00:15:18.770\nRight, that's one we wanna run this,\nyou would specify what you want we could\n\n319\n00:15:19.920 --> 00:15:23.740\ngo ahead, we could limit it based\nin hours, like say, hey, run for\n\n320\n00:15:23.740 --> 00:15:27.530\nthis amount of time, so we could\nspecify a limiter there, it's up to us.\n\n321\n00:15:27.530 --> 00:15:31.620\nRun continuously a new files, enable log\nin, we have some additional options here.\n\n322\n00:15:31.620 --> 00:15:33.335\nAll right, so we're done with all that,\n\n323\n00:15:33.335 --> 00:15:35.932\nwe've basically programmed in\nall the things that we need, so\n\n324\n00:15:35.932 --> 00:15:38.677\nwe're gonna go ahead,\nwe're gonna click OK, so let's do that.\n\n325\n00:15:38.677 --> 00:15:41.620\nWe'll just give that a second,\nput our task in there.\n\n326\n00:15:41.620 --> 00:15:43.720\nSo now we have our properties.\n\n327\n00:15:43.720 --> 00:15:47.110\nWe have our rule, or rules,\nin this case, we have one rule.\n\n328\n00:15:47.110 --> 00:15:49.130\nWe have our file management task,\nor tasks.\n\n329\n00:15:49.130 --> 00:15:51.240\nSo we've done all those things.\n\n330\n00:15:51.240 --> 00:15:54.669\nAnd so now what we're gonna do\nis we're gonna go ahead and\n\n331\n00:15:54.669 --> 00:15:59.241\nwe are going to actually run our\nclassification rules and see what happens,\n\n332\n00:15:59.241 --> 00:16:02.897\nright so we're gonna come up\nhere on classification rules.\n\n333\n00:16:02.897 --> 00:16:06.785\nAnd then right click and see we have\nRun Classification with all rules now\n\n334\n00:16:06.785 --> 00:16:10.991\nwe can essentially manually trigger this\nevent and decide when we want to run so\n\n335\n00:16:10.991 --> 00:16:13.111\nthat's what we're gonna do, right.\n\n336\n00:16:13.111 --> 00:16:17.250\nSo, let's do that and\nit says here when we run classification.\n\n337\n00:16:17.250 --> 00:16:20.961\nIt says, you know you have chosen to run\nthis particular set of rules, or whatever,\n\n338\n00:16:20.961 --> 00:16:24.309\nchoose one of the following run\nclassification in the background, wait for\n\n339\n00:16:24.309 --> 00:16:25.058\nit to complete.\n\n340\n00:16:25.058 --> 00:16:27.519\nIn other words, just you know put\nit in the background as a task,\n\n341\n00:16:27.519 --> 00:16:30.240\nlet it do it's thing,\njust go off and do some other stuff.\n\n342\n00:16:30.240 --> 00:16:33.250\nAnd, or do we want to wait for\nit to complete, and if we want to wait for\n\n343\n00:16:33.250 --> 00:16:36.020\nit to complete, we just have to wait for\nit to do its stuff.\n\n344\n00:16:36.020 --> 00:16:40.290\nSo, we're gonna do wait for it complete,\nclick OK, we just get the little bar here.\n\n345\n00:16:40.290 --> 00:16:42.270\nSo, that's showing us, and\nby the way, it's hard to see, but\n\n346\n00:16:42.270 --> 00:16:45.000\ndown here we can actually see\nthe status of it, kind of happening.\n\n347\n00:16:45.000 --> 00:16:46.593\nLet me just minimize here for a second,\n\n348\n00:16:46.593 --> 00:16:48.831\nwe'll bring the report back\nup that we did in a minute.\n\n349\n00:16:48.831 --> 00:16:51.822\nAnd let me actually bring this up,\nI meant to do this and I apologize,\n\n350\n00:16:51.822 --> 00:16:53.820\nI meant to actually do it earlier, so.\n\n351\n00:16:53.820 --> 00:16:56.410\nYou can see it running behind the scenes,\nI just forgot to.\n\n352\n00:16:56.410 --> 00:17:01.240\nBut we actually do see the process\nstatus down here when it's running, so\n\n353\n00:17:01.240 --> 00:17:04.360\nit did actually show us there was some\nstuff kinda scrolling through there, and\n\n354\n00:17:04.360 --> 00:17:05.910\nit did actually show\nus what was happening.\n\n355\n00:17:05.910 --> 00:17:10.600\nAs soon as that finishes,\nwe do have a nice little web-based\n\n356\n00:17:10.600 --> 00:17:13.670\nreport that comes up, I will just kind\nof bring this up, so you can see this.\n\n357\n00:17:13.670 --> 00:17:18.050\nWe do have the ability to\nsee what's going on here,\n\n358\n00:17:18.050 --> 00:17:20.090\nso automatic classification report.\n\n359\n00:17:20.090 --> 00:17:22.520\nGives us a date and\ntime stamp tells us when it happened,\n\n360\n00:17:22.520 --> 00:17:26.890\nkind of tells us what the machine was,\nwhat the information is you'll see there\n\n361\n00:17:26.890 --> 00:17:31.050\nuser file, and you know,\nsee projects gives us the path.\n\n362\n00:17:31.050 --> 00:17:33.580\nSo, it has some clickable links here.\n\n363\n00:17:33.580 --> 00:17:38.480\nSo, give us report totals\nproperties one files two,\n\n364\n00:17:38.480 --> 00:17:42.970\ntotal size, properties files, you know,\ngives us that information, gives us\n\n365\n00:17:45.210 --> 00:17:49.870\nbroken down information based on\nuser account by file groupings.\n\n366\n00:17:49.870 --> 00:17:53.800\nShows us information,\ngives us specific information,\n\n367\n00:17:53.800 --> 00:17:56.440\nby files we continue down, right?\n\n368\n00:17:56.440 --> 00:17:59.460\nIt does say here confidential\ndocument property.\n\n369\n00:17:59.460 --> 00:18:01.610\nWe see two file size by property.\n\n370\n00:18:01.610 --> 00:18:02.897\nRemember, the text files are so\n\n371\n00:18:02.897 --> 00:18:05.193\nsmall they really have no\nsubstance to speak of, right?\n\n372\n00:18:05.193 --> 00:18:08.050\nThere is just no size limit,\nit's a text file with a single word in it.\n\n373\n00:18:08.050 --> 00:18:09.375\n&gt;&gt; Right.\n&gt;&gt; So, it's not big,\n\n374\n00:18:09.375 --> 00:18:12.330\nthat's why the file size just\ndoesn't show anything yet.\n\n375\n00:18:12.330 --> 00:18:15.000\nYou have to have bigger files\nto actually register there.\n\n376\n00:18:15.000 --> 00:18:18.130\nAll right, but\nyou can see your statistic for\n\n377\n00:18:18.130 --> 00:18:23.230\nfiles by confidential document,\nreport2, report1.txt,\n\n378\n00:18:23.230 --> 00:18:28.740\nsee projects confidential, rule, last\naccess, last modified, who the owner is.\n\n379\n00:18:28.740 --> 00:18:31.905\nSo, we could see that all that information\nis lining up based on what we've been\n\n380\n00:18:31.905 --> 00:18:32.579\ndoing, right?\n\n381\n00:18:32.579 --> 00:18:36.674\nSo, we can see the value of this, all\nright, so now, if we go and we take a look\n\n382\n00:18:36.674 --> 00:18:40.581\nat those files that we had, and we\nremember I did show you where they were,\n\n383\n00:18:40.581 --> 00:18:44.866\nlet me just go back into the C drive, and\nlet me bring back up the projects folder,\n\n384\n00:18:44.866 --> 00:18:47.980\nbecause I closed it to open\nup the badge file there.\n\n385\n00:18:47.980 --> 00:18:51.520\nSo, if we go and we take a look at one of\nthese, and I showed you the properties,\n\n386\n00:18:51.520 --> 00:18:54.620\nand I showed you the classification\ntab before we got started, right?\n\n387\n00:18:54.620 --> 00:18:57.430\nSo, if we go and we take a look\nlet's just go in, let's do this.\n\n388\n00:18:57.430 --> 00:19:00.820\nLet's go to Properties here,\nlet's go here, right.\n\n389\n00:19:00.820 --> 00:19:04.420\nYou'll see now that unlike before, let me\njust move this over, so you can see this.\n\n390\n00:19:04.420 --> 00:19:06.870\nUnlike before when we showed\nyou at the beginning, and\n\n391\n00:19:06.870 --> 00:19:09.010\nwe showed you that there was\nnothing there, it was set up.\n\n392\n00:19:09.010 --> 00:19:11.310\nIt said, okay, we're waiting, essentially.\n\n393\n00:19:11.310 --> 00:19:15.720\nNo values yet, no properties, no rules,\nbut when you get back to doing everything\n\n394\n00:19:15.720 --> 00:19:18.870\nand get done, come back, check us out,\nlet us know, and we'll see what's there.\n\n395\n00:19:18.870 --> 00:19:20.970\nAnd you can see now,\nwe've done all this, right?\n\n396\n00:19:20.970 --> 00:19:21.880\n&gt;&gt; Yeah.\n&gt;&gt; So, we do have a name,\n\n397\n00:19:21.880 --> 00:19:25.550\nconfidential document value confidential\nproperty confidential document.\n\n398\n00:19:25.550 --> 00:19:26.680\nYou can see it here.\n\n399\n00:19:26.680 --> 00:19:27.900\nSo, it has now,\n\n400\n00:19:27.900 --> 00:19:32.220\nwe have applied that classification to\nthe document as a result of running this.\n\n401\n00:19:32.220 --> 00:19:36.220\nAnd so, we actually, now, can see this,\nnow, we can cross reference what we saw in\n\n402\n00:19:36.220 --> 00:19:39.030\nthe report with the fact that\nthe tag has been applied, or\n\n403\n00:19:39.030 --> 00:19:41.420\nthe property value has been\napplied to the document.\n\n404\n00:19:41.420 --> 00:19:44.230\nBoth documents by the way, if we looked\nat either one, we'd see it's on both.\n\n405\n00:19:44.230 --> 00:19:48.195\nAnd we, now, essentially see how\nthe classification schema's applied and\n\n406\n00:19:48.195 --> 00:19:50.820\nwe can see that FSRM indeed did its job,\nit worked.\n\n407\n00:19:50.820 --> 00:19:52.014\nAnd you see the report sitting\nthere in the background.\n\n408\n00:19:52.014 --> 00:19:52.700\n&gt;&gt; That is really cool.\n\n409\n00:19:52.700 --> 00:19:55.450\nYeah, I'm kind of curious to see\nwhat's in the actual report.\n\n410\n00:19:55.450 --> 00:19:58.190\nIt's probably just like one\nword that says, finance.\n\n411\n00:19:58.190 --> 00:20:01.150\n&gt;&gt; Well, this report just shows us,\nthe report that we generate just shows us.\n\n412\n00:20:01.150 --> 00:20:02.260\n&gt;&gt; No, I know, I'm just joking,\nit's an actual file.\n\n413\n00:20:02.260 --> 00:20:04.800\n&gt;&gt; Right, it just shows us that\nthe files actually do fall in this\n\n414\n00:20:04.800 --> 00:20:05.704\ncategory and-\n&gt;&gt; But that's perfect.\n\n415\n00:20:05.704 --> 00:20:07.470\n&gt;&gt; Are going to be classified that way.\n\n416\n00:20:07.470 --> 00:20:10.490\nFrom an administration standpoint,\nit just shows us the inventory.\n\n417\n00:20:10.490 --> 00:20:12.800\nThat's under classification,\nthat's what that report does.\n\n418\n00:20:12.800 --> 00:20:16.100\nWho owns the document, or\nwho owns the data, where it's located.\n\n419\n00:20:16.100 --> 00:20:19.210\nHow many documents of that type for\nthat rule, or found and classified,\n\n420\n00:20:19.210 --> 00:20:20.400\nthat's what the report does.\n\n421\n00:20:20.400 --> 00:20:22.060\nIt's not gonna show us the data,\ncuz remember,\n\n422\n00:20:22.060 --> 00:20:23.590\nwe know what the string is already.\n\n423\n00:20:23.590 --> 00:20:25.010\nWe know we're searching for finance, so\n\n424\n00:20:25.010 --> 00:20:28.360\nit doesn't show us the actual data,\nit shows us the information around\n\n425\n00:20:28.360 --> 00:20:31.390\nthe classification of-\n&gt;&gt; It would be a good way to keep tabs on\n\n426\n00:20:31.390 --> 00:20:35.120\nany kinds of trends, and so forth, if\nyou're trying to keep track of how many-\n\n427\n00:20:35.120 --> 00:20:36.340\n&gt;&gt; How many documents are there.\n\n428\n00:20:36.340 --> 00:20:38.017\n&gt;&gt; Right.\n&gt;&gt; If a documents been added since last\n\n429\n00:20:38.017 --> 00:20:40.288\ntime we ran it, and\nwe see an increment in the report.\n\n430\n00:20:40.288 --> 00:20:43.433\nSo, we can see that, who the owners\nof that data, or that document,\n\n431\n00:20:43.433 --> 00:20:46.060\nthose document sets, or\ndata will be, see that as well.\n\n432\n00:20:46.060 --> 00:20:47.740\n&gt;&gt; Or they're coming from,\nor being generated from.\n\n433\n00:20:47.740 --> 00:20:48.720\n&gt;&gt; Absolutely, where they are.\n\n434\n00:20:48.720 --> 00:20:51.280\nExactly, all that kinda stuff,\nso it is valuable.\n\n435\n00:20:51.280 --> 00:20:53.593\nAnd this is how we actually set up\nthe news classification in Windows, so,\n\n436\n00:20:53.593 --> 00:20:54.451\nautomatic file services.\n\n437\n00:20:54.451 --> 00:20:57.540\n&gt;&gt; Adam, I think,\nthat deserves a high five.\n\n438\n00:20:57.540 --> 00:20:58.630\nAll right [LAUGH].\n\n439\n00:20:58.630 --> 00:21:01.450\n&gt;&gt; Awesome.\n&gt;&gt; Okay, so what do you think?,\n\n440\n00:21:01.450 --> 00:21:02.890\nare we finished for this particular show?\n\n441\n00:21:02.890 --> 00:21:04.646\nI know, we wanted to complete this\ndemonstration, I know, we have a few more-\n\n442\n00:21:04.646 --> 00:21:05.196\n&gt;&gt; We are, but\n\n443\n00:21:05.196 --> 00:21:08.114\nthere is just one little piece of\ninformation I want to point out\n\n444\n00:21:08.114 --> 00:21:08.840\nto everybody.\n\n445\n00:21:08.840 --> 00:21:11.990\nSo, if you give me just half a second,\nI just wanna make note of the fact to\n\n446\n00:21:11.990 --> 00:21:15.450\nremind you, it's actually kind of\nan interesting little piece of\n\n447\n00:21:15.450 --> 00:21:19.666\ndata when we're using file classification\nthat, and I actually mentioned this.\n\n448\n00:21:19.666 --> 00:21:21.310\nSo, I think,\nthat I mentioned it off camera,\n\n449\n00:21:21.310 --> 00:21:22.930\nwe weren't filming when we\nwere talking about this,\n\n450\n00:21:22.930 --> 00:21:26.095\nwe were talking about DJ names, and so,\n[LAUGH], totally unrelated to this.\n\n451\n00:21:26.095 --> 00:21:27.230\n&gt;&gt; [LAUGH] You don't even wanna know.\n\n452\n00:21:27.230 --> 00:21:29.300\n&gt;&gt; No,\nthe craziness that goes on between shows,\n\n453\n00:21:29.300 --> 00:21:31.510\nbut I was talking about\nalternate data streams.\n\n454\n00:21:31.510 --> 00:21:35.690\nI mentioned ADS in passing, just in\nrelation to something we're talking about.\n\n455\n00:21:35.690 --> 00:21:38.230\nWhat I wanted to point our here,\nwhich is actually kind of interesting.\n\n456\n00:21:38.230 --> 00:21:40.480\nThis is in the show notes by the way,\nso feel free to go through, and\n\n457\n00:21:40.480 --> 00:21:41.650\ntake a look and it will be there.\n\n458\n00:21:41.650 --> 00:21:44.790\nBut when we do classification\nproperties as you saw, we just did.\n\n459\n00:21:44.790 --> 00:21:49.130\nThey actually, are stored as metadata\nassociated with the file, in and ADS,\n\n460\n00:21:49.130 --> 00:21:50.490\nin an alternate data stream.\n\n461\n00:21:50.490 --> 00:21:55.780\nSo, we use them on as a attribute of NTFS,\nof the NT file system.\n\n462\n00:21:55.780 --> 00:22:00.030\nWe have this thing called alternate data\nstreams, that allows us to store data\n\n463\n00:22:00.030 --> 00:22:03.310\nassociated with the file in a way\nthat's transparent to the user.\n\n464\n00:22:03.310 --> 00:22:08.170\nWe don't actually see the attributes,\nwe don't see the data, because it's hidden\n\n465\n00:22:08.170 --> 00:22:12.150\ninside the file system in a way that\ndoesn't expose it and make it obvious.\n\n466\n00:22:12.150 --> 00:22:14.690\nWhich is good, in this case,\ncuz we don't need to interact with them,\n\n467\n00:22:14.690 --> 00:22:15.810\nwe don't need to see them.\n\n468\n00:22:15.810 --> 00:22:18.045\nFact, from a security standpoint,\nwe don't want to.\n\n469\n00:22:18.045 --> 00:22:19.730\nCuz we don't want people to\nunderstand what we're doing and\n\n470\n00:22:19.730 --> 00:22:21.200\nhow we're classifying data.\n\n471\n00:22:21.200 --> 00:22:24.930\nBut we take advantage of what is\nnormally considered a security issue and\n\n472\n00:22:24.930 --> 00:22:30.140\na liability for us in certain cases, and\ncertified ethical hacking in CHFI and\n\n473\n00:22:30.140 --> 00:22:33.040\nEC Council courses that I do,\nand that we've talked about, and\n\n474\n00:22:33.040 --> 00:22:36.110\nthat are hosted here in\nthe ITProTV Library, if you're interested.\n\n475\n00:22:36.110 --> 00:22:39.900\nWe talk about ADS and we talk about how\nthey could be used both for good, and for\n\n476\n00:22:39.900 --> 00:22:41.750\nbad from a hacking perspective.\n\n477\n00:22:41.750 --> 00:22:46.030\nSo, it's interesting that we actually make\nuse of it here, because what that means,\n\n478\n00:22:46.030 --> 00:22:49.040\nis we move the file that is associated, or\n\n479\n00:22:49.040 --> 00:22:52.830\nthat has the stat associated with\nit within the NTFS partition.\n\n480\n00:22:52.830 --> 00:22:56.318\nSo, as long we stay within the file\nsystem, the alternate data stream stays\n\n481\n00:22:56.318 --> 00:23:00.354\nattached, and the properties, and all the\nclassification material stays attached,\n\n482\n00:23:00.354 --> 00:23:02.719\nno big deal moves,\nin other words, with the file.\n\n483\n00:23:02.719 --> 00:23:06.503\nBut as a result, if we move it\noutside of an NTFS partition,\n\n484\n00:23:06.503 --> 00:23:10.380\nit gets stripped off, and\nwe lose the classification.\n\n485\n00:23:10.380 --> 00:23:15.530\nBut, and this is the more even interesting\npart than it was just with ADS by itself,\n\n486\n00:23:15.530 --> 00:23:17.010\nMicrosoft is crafty.\n\n487\n00:23:17.010 --> 00:23:21.590\nIf you create the document with\na Microsoft Office application,\n\n488\n00:23:21.590 --> 00:23:25.060\nthose attributes for classification\nare gonna stick with document.\n\n489\n00:23:25.060 --> 00:23:27.480\nEven if you move it outside\nof an NTFS partition.\n\n490\n00:23:27.480 --> 00:23:33.460\nSo, we don't strip it away, even though\nit is moving and we lose the ADS stream.\n\n491\n00:23:33.460 --> 00:23:35.880\nWe still bind those\nclassification properties,\n\n492\n00:23:35.880 --> 00:23:38.180\nbecause they're stored within\nthe file format itself.\n\n493\n00:23:38.180 --> 00:23:41.750\nMeaning they're stored as part of\nthe metadata of the actual files, so\n\n494\n00:23:41.750 --> 00:23:44.240\nwhen you go to word let's say,\nhypothetically you create a document.\n\n495\n00:23:44.240 --> 00:23:46.440\nI did this notepad, so\nyou won't see it here, but\n\n496\n00:23:46.440 --> 00:23:50.840\nif you go to Word, or PowerPoint,\nor Excel, or whatever, or\n\n497\n00:23:50.840 --> 00:23:53.750\nany of the office programs\neven one note by the way.\n\n498\n00:23:53.750 --> 00:23:56.200\nSo, if your doing one\nnote things like that.\n\n499\n00:23:56.200 --> 00:23:58.900\nWhen you go in, and you go to File,\nand you go to Save As,\n\n500\n00:23:58.900 --> 00:24:01.501\nyou look at all the properties\nthat are listed there.\n\n501\n00:24:01.501 --> 00:24:05.671\nThat's all file metadata that stores part\nof the actual attributes of the file\n\n502\n00:24:05.671 --> 00:24:08.716\nitself, in the file,\nirrespective of the file system.\n\n503\n00:24:08.716 --> 00:24:13.529\nWe actually attach the classification\nattributes when it's a Microsoft Office\n\n504\n00:24:13.529 --> 00:24:16.227\ndocument, there as well\nas through the ADS.\n\n505\n00:24:16.227 --> 00:24:19.584\nSo even if you move it outside NTFS and\nthey get stripped.\n\n506\n00:24:19.584 --> 00:24:22.207\nThey're still part of the metadata\ndocument in there are retained.\n\n507\n00:24:22.207 --> 00:24:25.646\nSo this is unique just based on how\nit's set up, it's kind of interesting.\n\n508\n00:24:25.646 --> 00:24:29.278\n&gt;&gt; I did a show the other day\nwith Vonne for OfficePro.TV, and\n\n509\n00:24:29.278 --> 00:24:31.612\nI had mentioned on even on build nine.\n\n510\n00:24:31.612 --> 00:24:35.203\nThey had a site in paired developer,\nwho works for Microsoft,\n\n511\n00:24:35.203 --> 00:24:39.148\nreally building up those descriptions\nthat you were talking about.\n\n512\n00:24:39.148 --> 00:24:40.011\n&gt;&gt; Yeah.\n\n513\n00:24:40.011 --> 00:24:44.931\n&gt;&gt; And if you just think about, they\nlaunched improvements with those cognitive\n\n514\n00:24:44.931 --> 00:24:48.818\nservices recently, and\nthat's gonna be huge in the future.\n\n515\n00:24:48.818 --> 00:24:53.814\nWhat we can do with those descriptors\nthat meta data, and how it can even be\n\n516\n00:24:53.814 --> 00:24:59.233\nintegrated, just think about with AI,\nand there's so much potential there.\n\n517\n00:24:59.233 --> 00:25:00.443\n&gt;&gt; There is.\n&gt;&gt; Geeking out here for\n\n518\n00:25:00.443 --> 00:25:01.390\na second, but yeah.\n\n519\n00:25:01.390 --> 00:25:03.525\n[LAUGH]\n&gt;&gt; No, there's a lot of opportunity and\n\n520\n00:25:03.525 --> 00:25:05.017\njust a lot of really cool things.\n\n521\n00:25:05.017 --> 00:25:06.822\nAnd so I just wanna point that out.\n\n522\n00:25:06.822 --> 00:25:08.569\nIt's valuable for a lot of reasons.\n\n523\n00:25:08.569 --> 00:25:11.885\nIt is one of those really subtle,\nvery often misunderstood,\n\n524\n00:25:11.885 --> 00:25:15.903\njust glossed over little optional things\nthat you may not even know about,\n\n525\n00:25:15.903 --> 00:25:17.398\nlet alone know about FSRM.\n\n526\n00:25:17.398 --> 00:25:20.711\nBut it would be valuable for you to\nknow that may somehow show up again,\n\n527\n00:25:20.711 --> 00:25:21.509\nyou never know.\n\n528\n00:25:21.509 --> 00:25:22.869\nThat's pretty in my mind,\n\n529\n00:25:22.869 --> 00:25:25.895\nmine would be a testable little\nfunctional element of this.\n\n530\n00:25:25.895 --> 00:25:27.807\nHey, how do the attributes stay,\ndo they or\n\n531\n00:25:27.807 --> 00:25:29.787\ndo they not based on how\na documents created?\n\n532\n00:25:29.787 --> 00:25:33.415\nI could see a scenario word problem\nthat may give you that kind of scenario.\n\n533\n00:25:33.415 --> 00:25:37.788\nHey, we've done this, it's classified,\nit's on an NTFS partition.\n\n534\n00:25:37.788 --> 00:25:39.174\nWe moved it here, did we or\n\n535\n00:25:39.174 --> 00:25:42.397\ndid we not retain the attributes\nbased on how it was created?\n\n536\n00:25:42.397 --> 00:25:46.586\nMoved to a fat partition, no, but\ncreated with Office and moved, yes, right?\n\n537\n00:25:46.586 --> 00:25:48.577\nSo we'd have to think about that and\nunderstand that.\n\n538\n00:25:48.577 --> 00:25:52.022\nIn my example, move to a non NTFS\npartition created with Notepad,\n\n539\n00:25:52.022 --> 00:25:53.260\nthose things are gone.\n\n540\n00:25:53.260 --> 00:25:54.644\nYou're never gonna see them again.\n\n541\n00:25:54.644 --> 00:25:56.714\nCreate that same document in Word,\nmove it.\n\n542\n00:25:56.714 --> 00:25:58.880\nThey would be bound,\nyou would see them regardless.\n\n543\n00:25:58.880 --> 00:26:02.588\nSo it is important to understand that,\nand be aware of that.\n\n544\n00:26:02.588 --> 00:26:04.183\nTwo other quick things,\njust in this regard.\n\n545\n00:26:04.183 --> 00:26:09.045\nNot so much around FSRM, but just overall,\noptions for storage optimization.\n\n546\n00:26:09.045 --> 00:26:12.990\nHow do we just optimize storage, spend\na lot of time in the beginning episodes\n\n547\n00:26:12.990 --> 00:26:15.125\nhere, talking about things like iSCSI.\n\n548\n00:26:15.125 --> 00:26:17.586\nTalking about different\nways we can manage storage.\n\n549\n00:26:17.586 --> 00:26:21.230\nSet up the iSCSI storage solution,\nshowed you how to do that.\n\n550\n00:26:21.230 --> 00:26:21.731\nFund set up, so\n\n551\n00:26:21.731 --> 00:26:24.130\nif you haven't seen that I definitely\nencourage you to go and take a look.\n\n552\n00:26:24.130 --> 00:26:27.353\nBut we do have file access\nauditing with something known as\n\n553\n00:26:27.353 --> 00:26:30.787\nDAC not the DAC you think of not\ndiscretionary access contro.\n\n554\n00:26:30.787 --> 00:26:34.228\nBut dynamic access control, so\nwe're gonna take a look at that,\n\n555\n00:26:34.228 --> 00:26:36.556\ntalk about that on upcoming conversation.\n\n556\n00:26:36.556 --> 00:26:40.467\nImplementing dynamic access control is the\ntopic you have to know about for the exam.\n\n557\n00:26:40.467 --> 00:26:42.234\nWe'll be doing that and\nsome upcoming shows,\n\n558\n00:26:42.234 --> 00:26:43.924\nyou don't wanna come\nback just to see that.\n\n559\n00:26:43.924 --> 00:26:47.550\nBut we can do file access auditing\nwith DAC, so we're gonna take a look\n\n560\n00:26:47.550 --> 00:26:51.052\nat how that happens to a central\naudit policy that's driven through\n\n561\n00:26:51.052 --> 00:26:55.200\nsomething known as ADAC, the active\ndirectory administration center.\n\n562\n00:26:55.200 --> 00:26:56.316\nI've talked about that in\nsome of the other shows.\n\n563\n00:26:56.316 --> 00:26:59.354\nYou may or may not be familiar with that,\nand we'll take a look at that.\n\n564\n00:26:59.354 --> 00:27:03.430\nWe have NFS support,\nI mentioned that with the iSCSI area.\n\n565\n00:27:03.430 --> 00:27:07.970\nNFS is the other file system that's\noften used to format file storage.\n\n566\n00:27:07.970 --> 00:27:11.235\nAnd allows us to do file level\nstorage management as opposed to block\n\n567\n00:27:11.235 --> 00:27:12.790\nlevel storage management.\n\n568\n00:27:12.790 --> 00:27:15.050\nWe made this distinction when\nwe talked about iSCSI services.\n\n569\n00:27:15.050 --> 00:27:18.083\nJust reminding you the fact\nthat we do that, NFS.\n\n570\n00:27:18.083 --> 00:27:21.651\nAnd even pointed out where we could\nactivate it, as one of the features under\n\n571\n00:27:21.651 --> 00:27:25.074\nthe file system or the file services\nwhen we went through an added iSCSI.\n\n572\n00:27:25.074 --> 00:27:28.210\nI showed you that NFS was there\nas one of those features we would\n\n573\n00:27:28.210 --> 00:27:29.320\npotentially add in.\n\n574\n00:27:29.320 --> 00:27:31.406\nThe NFS server and\nthe NFS client services.\n\n575\n00:27:31.406 --> 00:27:34.388\nSo 12,12R2 supports that,\njust reminding you of that.\n\n576\n00:27:34.388 --> 00:27:39.099\nWe do get pretty aggressive around\ndeduplication of the idea of deduping,\n\n577\n00:27:39.099 --> 00:27:42.090\nsameness in getting rid\nof sameness as I explain\n\n578\n00:27:42.090 --> 00:27:45.610\ndata deduping typically\nto people is important.\n\n579\n00:27:45.610 --> 00:27:49.110\nWe think about compressing data\ngenerically and the compression of data\n\n580\n00:27:49.110 --> 00:27:52.563\nsimply takes all the data and\nsmushes it down to a smaller size, right?\n\n581\n00:27:52.563 --> 00:27:54.499\nSo we're over packing a space and\n\n582\n00:27:54.499 --> 00:27:57.759\nputting a lot more stuff in\nthem than we normally would.\n\n583\n00:27:57.759 --> 00:27:58.875\nAnd then-\n&gt;&gt; But it's still there.\n\n584\n00:27:58.875 --> 00:28:00.871\n&gt;&gt; It's still there, and\nwe have to unpack it to use it.\n\n585\n00:28:00.871 --> 00:28:04.478\nSo we don't really get back space, I mean\npeople think, I'm gonna compress data and\n\n586\n00:28:04.478 --> 00:28:05.522\nget all this space back.\n\n587\n00:28:05.522 --> 00:28:08.155\nYeah, it's really a femoral,\nit's temporary, it's fleeting.\n\n588\n00:28:08.155 --> 00:28:11.240\nBecause you get it back as long as\nyou don't ever access the data.\n\n589\n00:28:11.240 --> 00:28:12.660\nThe minute you wanna see the data,\n\n590\n00:28:12.660 --> 00:28:15.748\nyou uncompress it that's\nfaces fully allocated again.\n\n591\n00:28:15.748 --> 00:28:18.455\nYou really haven't gained anything as\na matter of fact, you may have lost.\n\n592\n00:28:18.455 --> 00:28:20.932\nBecause if you put stuff in there\nin that space in the meantime,\n\n593\n00:28:20.932 --> 00:28:23.481\nyou may not be able to uncompress\nthe file unless you make space.\n\n594\n00:28:23.481 --> 00:28:26.803\nSo essentially compression\ndoesn't really do you any good.\n\n595\n00:28:26.803 --> 00:28:31.195\nIt's just tricking ourselves into feeling\nbetter about our lack of ability to manage\n\n596\n00:28:31.195 --> 00:28:34.434\nour space allocations, but\nit doesn't really do much for us.\n\n597\n00:28:34.434 --> 00:28:37.368\nDeduping would actually gain and\ngive us backspace.\n\n598\n00:28:37.368 --> 00:28:42.225\nSo what deduping does, we often hear\nreferred to in storage discussions.\n\n599\n00:28:42.225 --> 00:28:45.046\nYou more formally hear it referred\nto as a single instance storage.\n\n600\n00:28:45.046 --> 00:28:49.448\nIn messaging systems, in databases and\nthings like that, where we hypothetically\n\n601\n00:28:49.448 --> 00:28:53.770\nwould say, if we're sending an email\nto ten people on a distribution list.\n\n602\n00:28:53.770 --> 00:28:54.948\nPretty common occurance.\n\n603\n00:28:54.948 --> 00:28:58.610\nWe would send a 10 meg attachment\nto anybody on that list normally.\n\n604\n00:28:58.610 --> 00:29:01.200\nSo 10 megs per attachment, 10 people,\n\n605\n00:29:01.200 --> 00:29:06.391\nyou just essentially created a 100 megs of\nstorable data that is identical, right?\n\n606\n00:29:06.391 --> 00:29:07.915\nEvery 10 meg partition or\n\n607\n00:29:07.915 --> 00:29:12.040\nevery 10 meg message that's copied\nis the same as all the others.\n\n608\n00:29:12.040 --> 00:29:15.553\nWhat we do instead is we send it\nto the first person on the list,\n\n609\n00:29:15.553 --> 00:29:18.808\nwe expand the distribution group or\ndistribution list.\n\n610\n00:29:18.808 --> 00:29:20.655\nGive the first person a full copy,\n\n611\n00:29:20.655 --> 00:29:23.721\nthe other nine people get\na pointer to that copy, right?\n\n612\n00:29:23.721 --> 00:29:26.738\nTelling them where to find it\nif they want it on demand.\n\n613\n00:29:26.738 --> 00:29:29.274\nWe saved ourselves 90%\nof the consumable space,\n\n614\n00:29:29.274 --> 00:29:33.382\nwe would have to dedicate to that storage,\nthat's deduping in a nutshell, right?\n\n615\n00:29:33.382 --> 00:29:37.905\nAnd so we're aggressing with deduping here\nwith file and storage services in Windows.\n\n616\n00:29:37.905 --> 00:29:44.414\nWe do allow for and use the deduping\nfeature to be able to do this.\n\n617\n00:29:44.414 --> 00:29:47.476\nIf you do it through\nPowerShell FS Data Deduplication\n\n618\n00:29:47.476 --> 00:29:51.362\nwould be the FS-Data-Deduplication\nwould be the way to add that.\n\n619\n00:29:51.362 --> 00:29:53.826\nYou could add that from the GUI as well,\non the Server Manager.\n\n620\n00:29:53.826 --> 00:29:57.800\nBut we can use data deduplication to our\nadvantage, so just be aware of that.\n\n621\n00:29:57.800 --> 00:30:01.729\nWe also support tiered storage,\nand the use of tiered storage is\n\n622\n00:30:01.729 --> 00:30:06.385\nthe idea of being able to rank and\nrate our storage based on storage pools.\n\n623\n00:30:06.385 --> 00:30:08.768\nCherokee mentioned storage pools\nin one of our first episodes.\n\n624\n00:30:08.768 --> 00:30:12.076\nWhere we tied that iSCSI storage,\nand how we're adding storage.\n\n625\n00:30:12.076 --> 00:30:15.453\nAnd that idea how Microsoft is essentially\ncreating our ability to do that.\n\n626\n00:30:15.453 --> 00:30:19.375\nWe could tier our storage and\nsay, our tier one and\n\n627\n00:30:19.375 --> 00:30:22.543\nsometimes you see gold, silver, bronze.\n\n628\n00:30:22.543 --> 00:30:25.672\nYou see different tiering schemes, the\nschemes themselves don't mean anything.\n\n629\n00:30:25.672 --> 00:30:29.309\nThey're just descriptive metadata\nthat tells you how to prioritize or\n\n630\n00:30:29.309 --> 00:30:32.956\nrank the value of the storage, so\nyou come up with that tiering scheme.\n\n631\n00:30:32.956 --> 00:30:36.717\nBut whatever it is, high, medium,\nlow, gold, silver, bronze, etc,\n\n632\n00:30:36.717 --> 00:30:39.064\nyou're our fastest data storage typically.\n\n633\n00:30:39.064 --> 00:30:44.260\nSo maybe our SSD drives or our FlashCash\nor whatever it is, maybe our top tier.\n\n634\n00:30:44.260 --> 00:30:48.316\nAnd then maybe our 15,000 RPM\ntraditional hard drives, right?\n\n635\n00:30:48.316 --> 00:30:50.989\nVery high level, pretty fast,\nwould be our middle tier.\n\n636\n00:30:50.989 --> 00:30:55.113\nAnd maybe our 7,200 RPM drives\nare our low tier in theory, and so\n\n637\n00:30:55.113 --> 00:30:56.904\nwe're scaling our storage.\n\n638\n00:30:56.904 --> 00:31:00.326\nWe then use storage policies to\nbe able to apply that tiering.\n\n639\n00:31:00.326 --> 00:31:04.339\nAnd move files and store them according to\nthe tiering and according to our need for\n\n640\n00:31:04.339 --> 00:31:05.410\nconsumption.\n\n641\n00:31:05.410 --> 00:31:08.400\nThis becomes very important\nin cloud environments,\n\n642\n00:31:08.400 --> 00:31:11.260\nvirtual environments,\nwhere we may have certain VMs\n\n643\n00:31:11.260 --> 00:31:14.560\nthat have to be stored in certain\nplaces based on performance.\n\n644\n00:31:14.560 --> 00:31:15.998\nSo storage carrying this off and\n\n645\n00:31:15.998 --> 00:31:18.882\napplied in those environments to\nbe able to make that possible.\n\n646\n00:31:18.882 --> 00:31:21.419\nSo yeah, that's the kind of thing\nthat we would often think about and\n\n647\n00:31:21.419 --> 00:31:22.790\nwe would be considering there.\n\n648\n00:31:22.790 --> 00:31:26.450\nWe talked about thin provisioning, and\nthe whole idea of thin versus thick or\n\n649\n00:31:26.450 --> 00:31:29.449\nfixed versus dynamically growing,\ndynamically expanding.\n\n650\n00:31:29.449 --> 00:31:32.630\nTo use Microsoft's formal language, but\nwe had that whole conversation, right?\n\n651\n00:31:32.630 --> 00:31:34.670\nAbout a thin versus\na thick provision disc,\n\n652\n00:31:34.670 --> 00:31:36.827\nand really thought through\nthe logic of that.\n\n653\n00:31:36.827 --> 00:31:40.870\nSo just thinking about those kinds of\nideas are the ways in which we optimize\n\n654\n00:31:40.870 --> 00:31:41.458\nstorage.\n\n655\n00:31:41.458 --> 00:31:43.632\nJust as we round out our\nconversations here, and\n\n656\n00:31:43.632 --> 00:31:47.304\nreally think through the logic of how we'd\nwrap this whole set of discussions up.\n\n657\n00:31:47.304 --> 00:31:50.187\nAnd prepare ourselves to be able to\nmove into that really cool discussion\n\n658\n00:31:50.187 --> 00:31:52.090\naround implementing\ndynamic access control.\n\n659\n00:31:52.090 --> 00:31:55.656\nWhich is you're gonna come back and\nsee us for if you tune back in.\n\n660\n00:31:55.656 --> 00:31:56.839\n&gt;&gt; All right, sounds like a plan.\n\n661\n00:31:56.839 --> 00:32:00.080\nThank you for your time, and thank you for\nyour time as well for this show.\n\n662\n00:32:00.080 --> 00:32:02.109\nWe are out of time, so\nwe'll go ahead and sign off.\n\n663\n00:32:02.109 --> 00:32:04.128\nRemember, I'm your host, Cherokee Boose.\n\n664\n00:32:04.128 --> 00:32:05.030\n&gt;&gt; I'm Adam Gordon.\n\n665\n00:32:05.030 --> 00:32:09.326\n&gt;&gt; See you next time here at ITPro.TV.\n\n666\n00:32:09.326 --> 00:32:13.925\n[MUSIC]\n\n667\n00:32:13.925 --> 00:32:17.149\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "224331327"
        }
      ],
      "title": "Advanced File Services"
    },
    {
      "episodes": [
        {
          "description": "In this show, Adam and Cherokee introduce Dynamic Access Control. Adam explains the significance of core components such as GUIDs and Claims  that underpin this technology.",
          "length": "1681",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-3-1-1-implementing_dynamic_access_control-063017.00_00_12_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-3-1-1-implementing_dynamic_access_control-063017.00_00_12_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-3-1-1-implementing_dynamic_access_control-063017.00_00_12_01.Still001-sm.jpg",
          "title": "Implementing Dynamic Access Control",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:06.309\nWelcome to IT Pro TV,\nI'm your host [CROSSTALK].\n\n2\n00:00:06.309 --> 00:00:08.314\n[MUSIC]\n\n3\n00:00:08.314 --> 00:00:12.272\nYou're watching ITProTV.\n\n4\n00:00:12.272 --> 00:00:15.365\nWelcome to your MCSA 70-412 series.\n\n5\n00:00:15.365 --> 00:00:17.285\nI'm your show host, Cherokee Boose.\n\n6\n00:00:17.285 --> 00:00:22.298\nIn this episode, we'll be taking a look at\nhow to implement dynamic access control.\n\n7\n00:00:22.298 --> 00:00:25.810\nBack in studios with us today, we have Mr.\nAdam Gordon to cover this topic.\n\n8\n00:00:25.810 --> 00:00:27.030\nHow's it going, Adam?\n\n9\n00:00:27.030 --> 00:00:28.110\n&gt;&gt; Going well, going well.\n\n10\n00:00:28.110 --> 00:00:31.230\nExcited to be talking about\ndynamic access control.\n\n11\n00:00:31.230 --> 00:00:33.210\nWe hinted at it in one\nof our last episodes.\n\n12\n00:00:33.210 --> 00:00:36.970\nIf you haven't seen that, we did a little\ninteresting deep dive there on FSRM and\n\n13\n00:00:36.970 --> 00:00:39.570\nhow to set that up and\ndo data classification.\n\n14\n00:00:39.570 --> 00:00:40.320\nKind of cool stuff.\n\n15\n00:00:40.320 --> 00:00:41.030\nYou may want to take a look.\n\n16\n00:00:41.030 --> 00:00:43.380\nIt´s one of those features that\nyou don´t often get to see and\n\n17\n00:00:43.380 --> 00:00:46.035\nmay not really know much about in Windows,\nso may be worth your time.\n\n18\n00:00:46.035 --> 00:00:49.820\nWe're going to switch gears a little bit,\ntalk about dynamic access control.\n\n19\n00:00:49.820 --> 00:00:53.030\nYou know, we hear acronyms a lot, and\nI made reference to this in the last show,\n\n20\n00:00:53.030 --> 00:00:55.490\nwhen we´re talking about DAC and\ntalking about what it is and\n\n21\n00:00:55.490 --> 00:01:00.950\nwhat it isn´t, traditionally DAC is\nan acronym, discretionary access control.\n\n22\n00:01:00.950 --> 00:01:03.189\nNot the same thing we're\ntalking about here.\n\n23\n00:01:03.189 --> 00:01:07.765\nDAC, Dynamic Access Control, Microsoft\nunfortunately uses the acronym for both.\n\n24\n00:01:07.765 --> 00:01:09.590\n[LAUGH] Doesn't really distinguish easily.\n\n25\n00:01:09.590 --> 00:01:11.300\nYou gotta know which one\nwe're talking about.\n\n26\n00:01:11.300 --> 00:01:14.390\nBut Dynamic Access Control is what\nwe're here to speak about today.\n\n27\n00:01:14.390 --> 00:01:18.270\nSo if you wanna learn about discretionary\naccess control, well, show up at 12:30 and\n\n28\n00:01:18.270 --> 00:01:20.240\nwe'll be doing that during lunchtime.\n\n29\n00:01:20.240 --> 00:01:21.650\nYou can come and take a look at that.\n\n30\n00:01:21.650 --> 00:01:23.400\nI'm only kidding, we're not gonna\nbe doing that on this episode.\n\n31\n00:01:23.400 --> 00:01:26.750\nBut the concepts are the same,\nwe've actually talked about the logic\n\n32\n00:01:26.750 --> 00:01:30.200\nof access control in several\ndifferent of our episodes already.\n\n33\n00:01:30.200 --> 00:01:34.580\nWe talked about the idea of being\nable to apply the thought process of\n\n34\n00:01:34.580 --> 00:01:38.150\na user in a group being\ndelegated a responsibility and\n\n35\n00:01:38.150 --> 00:01:40.630\naccess as a result to then do their job.\n\n36\n00:01:40.630 --> 00:01:41.630\nAnd this is no different.\n\n37\n00:01:41.630 --> 00:01:45.430\nThe difference with DAC,\ndynamic access control in this case is,\n\n38\n00:01:45.430 --> 00:01:47.160\nwe're gonna be able to do authentication.\n\n39\n00:01:47.160 --> 00:01:49.750\nAnd we're gonna be able\nto tell who the user is.\n\n40\n00:01:49.750 --> 00:01:53.125\nBut then how we're going to do\nthat is really what we pivot on.\n\n41\n00:01:53.125 --> 00:01:56.455\nAnd we're going to use what are called\nclaims, or at least the idea of claims or\n\n42\n00:01:56.455 --> 00:02:00.555\nadditional attributes that the user\ncan provide or substantiate.\n\n43\n00:02:00.555 --> 00:02:04.705\nAnd use that along with policies to\nthen drive the assignment of rights or\n\n44\n00:02:04.705 --> 00:02:05.685\nthe access grant.\n\n45\n00:02:05.685 --> 00:02:08.525\nAnd that's what dynamic access\ncontrol's really going to be about,\n\n46\n00:02:08.525 --> 00:02:09.795\nhow we're going to be dealing with that.\n\n47\n00:02:09.795 --> 00:02:11.775\nSo, a little bit of a different approach.\n\n48\n00:02:11.775 --> 00:02:15.695\nWe are going to be doing this on\nfiles that are in NTFS systems\n\n49\n00:02:15.695 --> 00:02:18.590\nthrough the file servers, traditionally.\n\n50\n00:02:18.590 --> 00:02:21.520\nSo we're gonna use claims in\nthe authentication token.\n\n51\n00:02:21.520 --> 00:02:25.510\nWe're gonna add to the traditional\nauthentication token that a user has\n\n52\n00:02:25.510 --> 00:02:26.430\nin Windows.\n\n53\n00:02:26.430 --> 00:02:29.710\nThis idea of the aggregation\nof the user's rights and\n\n54\n00:02:29.710 --> 00:02:34.670\ntheir authentication and their identity,\nwhich is what is summarized as, or\n\n55\n00:02:34.670 --> 00:02:38.120\nthe summation of it is,\nwhat we call the User Access Token.\n\n56\n00:02:38.120 --> 00:02:40.450\nWe're gonna give that\nauthentication token, or\n\n57\n00:02:40.450 --> 00:02:43.100\nUser Access Token,\nsome additional information.\n\n58\n00:02:43.100 --> 00:02:46.475\nWe're gonna specify and\nadd these user claims to it.\n\n59\n00:02:46.475 --> 00:02:50.005\nAnd the claims are then gonna become\npart of the way in which we manage and\n\n60\n00:02:50.005 --> 00:02:50.805\nauthenticate users.\n\n61\n00:02:50.805 --> 00:02:53.415\nThat's really essentially\nthe secret behind DAC.\n\n62\n00:02:53.415 --> 00:02:56.605\nIt's often referred to and thought about\nas being used in several different\n\n63\n00:02:56.605 --> 00:02:59.267\nscenarios, I list them for\nyou in the show notes.\n\n64\n00:02:59.267 --> 00:03:03.097\nA central access policy for managing\naccess to files would be one way to do\n\n65\n00:03:03.097 --> 00:03:06.577\nthis, or one policy to think or\none way to think about this.\n\n66\n00:03:06.577 --> 00:03:10.157\nAuditing for compliance and\nanalysis of, verification of,\n\n67\n00:03:10.157 --> 00:03:14.617\nuse of data by certain people or\nlack of use on behalf of certain people.\n\n68\n00:03:14.617 --> 00:03:19.070\nProtection of sensitive information, so\nin, we have to think about enforcing and\n\n69\n00:03:19.070 --> 00:03:22.540\nvalidating confidentiality, this would\nbe one way to think about doing it.\n\n70\n00:03:22.540 --> 00:03:26.000\nAnd access-denied remediation, hey,\nyou're not able to get in, but\n\n71\n00:03:26.000 --> 00:03:30.040\nhere's a helpful hint for you, here's\na message, here's an email you can use\n\n72\n00:03:30.040 --> 00:03:33.030\nto go and follow and make a request or\nsomething like that.\n\n73\n00:03:33.030 --> 00:03:34.770\nDAC can be useful in these scenarios,\n\n74\n00:03:34.770 --> 00:03:38.380\nso we do often think about it this way,\nand think about the use of it.\n\n75\n00:03:38.380 --> 00:03:41.750\nWe're gonna be able to use ADAC,\nyet another acronym, right?\n\n76\n00:03:41.750 --> 00:03:45.570\nThe Active Directory Administration\nCenter, a newer tool, newer technology.\n\n77\n00:03:45.570 --> 00:03:49.570\nI have mentioned some for earlier shows\nto be able to go in and create and\n\n78\n00:03:49.570 --> 00:03:52.758\nwork with the DAC,\nthe Dynamic Access Control system.\n\n79\n00:03:52.758 --> 00:03:55.700\nIt's one of the subsets of\nfunctionality in a DAC.\n\n80\n00:03:55.700 --> 00:03:57.540\nThat's where we're gonna go\nto be able to implement this.\n\n81\n00:03:57.540 --> 00:03:59.370\nAnd we'll take a look at\nsome of the moving parts and\n\n82\n00:03:59.370 --> 00:04:01.090\npieces in there, talk a bit about them.\n\n83\n00:04:01.090 --> 00:04:03.480\nBut we'll talk about claims and\nsee what they are.\n\n84\n00:04:03.480 --> 00:04:06.100\nThe claim, remember,\nis just essentially something\n\n85\n00:04:06.100 --> 00:04:10.435\nthat within the Active Directory directory\nservice is specific to an object.\n\n86\n00:04:10.435 --> 00:04:13.785\nCherokee's middle name, for instance,\ncould be a claim that she could use\n\n87\n00:04:13.785 --> 00:04:17.485\nto verify that it's her along\nwith other information.\n\n88\n00:04:17.485 --> 00:04:20.825\nMultiple people may have Cherokee's\nmiddle name, whatever it may be.\n\n89\n00:04:20.825 --> 00:04:21.975\nIt's hard to say.\n\n90\n00:04:21.975 --> 00:04:26.545\nBut we use that as one unique\nidentifier along with her username,\n\n91\n00:04:26.545 --> 00:04:30.565\nher password and perhaps an employee ID or\nsomething like that.\n\n92\n00:04:30.565 --> 00:04:33.840\nAll that together is probably going to\nbecome unique enough that it would,\n\n93\n00:04:33.840 --> 00:04:35.860\nin theory, identify her uniquely.\n\n94\n00:04:35.860 --> 00:04:38.840\nAnd every one of those\nattributes can be a claim.\n\n95\n00:04:38.840 --> 00:04:43.440\nHer first name, her last name,\nher middle name, her group identity,\n\n96\n00:04:43.440 --> 00:04:48.320\nher user ID within the group, that kind\nof thing, user name, password, et cetera.\n\n97\n00:04:48.320 --> 00:04:49.630\nAny and\nall of those things could be claims.\n\n98\n00:04:49.630 --> 00:04:53.500\nThey provide information from\nthe trusted source about an entity.\n\n99\n00:04:53.500 --> 00:04:57.160\nThe entity is the user or\nthe item that's claiming.\n\n100\n00:04:57.160 --> 00:05:00.360\nAnd trying to specify who they are and\nwhat they are and prove.\n\n101\n00:05:00.360 --> 00:05:04.230\nAnd when we configure resource access,\nwe use these combinations and\n\n102\n00:05:04.230 --> 00:05:08.260\nwhatever methodology we think appropriate\nof these claims to be able to\n\n103\n00:05:08.260 --> 00:05:12.245\nauthoritatively prove who the user is or\nwho will we say the claimant is.\n\n104\n00:05:12.245 --> 00:05:13.825\nYou often hear that.\n\n105\n00:05:13.825 --> 00:05:17.915\nRemember, in the language of access\ncontrol, you know, we talk about users and\n\n106\n00:05:17.915 --> 00:05:19.370\nwe talk about data generically.\n\n107\n00:05:19.370 --> 00:05:22.825\nIn the language of access control,\nwe talk about subjects and objects.\n\n108\n00:05:22.825 --> 00:05:26.785\nSubjects are users, so when we think\nof a subject we think of a user.\n\n109\n00:05:26.785 --> 00:05:29.505\nAnd when we think about data,\nwe think about objects, typically,\n\n110\n00:05:29.505 --> 00:05:32.110\nthe things that users\nwant to be able to see.\n\n111\n00:05:32.110 --> 00:05:33.630\nSo in the language of access control,\n\n112\n00:05:33.630 --> 00:05:38.250\nwe've talked about claims associated with\nsubjects validating access to objects.\n\n113\n00:05:38.250 --> 00:05:39.860\nThat's the language you often hear.\n\n114\n00:05:39.860 --> 00:05:46.163\nWe also talk about something known\nas an NPE, non-person entity.\n\n115\n00:05:46.163 --> 00:05:49.425\nN as in Nancy, P as in purple,\nE as in Eagle.\n\n116\n00:05:49.425 --> 00:05:52.600\nNon-person entity, NPE.\n\n117\n00:05:52.600 --> 00:05:57.230\nAnd the non-person entity, in the language\nof access control, is not a user.\n\n118\n00:05:57.230 --> 00:06:01.420\nNot Cherokee or myself,\nas a subject that's making a claim.\n\n119\n00:06:01.420 --> 00:06:04.760\nBut rather something proxying on\nour behalf, a service account,\n\n120\n00:06:04.760 --> 00:06:09.620\na computer perhaps, an application\nthat is asked to make a claim\n\n121\n00:06:09.620 --> 00:06:14.600\nto present credentials or grant or\nseek a grant of access on our behalf.\n\n122\n00:06:14.600 --> 00:06:19.660\nWhen we use Outlook as an email platform,\nwhen we use a web browser, IE Chrome,\n\n123\n00:06:19.660 --> 00:06:23.850\nFirefox, whatever, and\nwe use that to access content.\n\n124\n00:06:23.850 --> 00:06:27.870\nThe NPE, the non-person entity,\nthe application, takes our credentials and\n\n125\n00:06:27.870 --> 00:06:31.950\nsends them on our behalf and says hey,\nCherokee wants to be able to go and\n\n126\n00:06:31.950 --> 00:06:33.290\nauthenticate to this website,\n\n127\n00:06:33.290 --> 00:06:36.130\ncan you please let her in,\nthis is who Cherokee is.\n\n128\n00:06:36.130 --> 00:06:38.260\nAnd the web browser does\nthat on your behalf.\n\n129\n00:06:38.260 --> 00:06:41.970\nSo we talk about NPEs,\nnon person entities as well.\n\n130\n00:06:41.970 --> 00:06:45.230\nThese are simply just accounts to proxy,\nrepresent our credential,\n\n131\n00:06:45.230 --> 00:06:47.890\nrepresent our claims, and\nthen seek access as a result.\n\n132\n00:06:47.890 --> 00:06:50.600\nSo, just want to make\nsure that we're familiar\n\n133\n00:06:50.600 --> 00:06:53.300\nwith the thought processes\nassociated with access here.\n\n134\n00:06:53.300 --> 00:06:55.510\nWe talked about user claims and\ndevice claims.\n\n135\n00:06:55.510 --> 00:06:58.070\nUser claims, subject claims,\nwhatever they are.\n\n136\n00:06:58.070 --> 00:07:01.928\nDevice claims in Microsoft's\nworld are computer-based claims.\n\n137\n00:07:01.928 --> 00:07:07.240\nSo the NPE, the non person entity, in\nthe Microsoft access control conversation,\n\n138\n00:07:07.240 --> 00:07:10.250\nwould be making a device\nclaim if it is a computer.\n\n139\n00:07:10.250 --> 00:07:13.100\nIf it is a user account,\nit would be a user claim.\n\n140\n00:07:13.100 --> 00:07:15.620\nSo in Microsoft's world\nwhen we make a user claim,\n\n141\n00:07:15.620 --> 00:07:19.330\na service account that makes a claim on\nour behalf, is still making a user claim.\n\n142\n00:07:19.330 --> 00:07:23.700\nNot a NPE that makes a computer\nbased claim as a computer account.\n\n143\n00:07:23.700 --> 00:07:25.690\nSo just make sure you understand\nthe difference there.\n\n144\n00:07:25.690 --> 00:07:28.450\nWe detail this out and\nobviously put this in the show notes for\n\n145\n00:07:28.450 --> 00:07:30.385\nyou just to give you some information.\n\n146\n00:07:30.385 --> 00:07:32.320\nAlso can we move claims across forests.\n\n147\n00:07:32.320 --> 00:07:36.780\nRemember, a forest in the active directory\nis usually a highest-level boundary\n\n148\n00:07:36.780 --> 00:07:41.360\nin terms of the things we do and\nhow we manage the names spaces\n\n149\n00:07:41.360 --> 00:07:45.060\nwe aggregate together for management\npurposes associated with our schema.\n\n150\n00:07:45.060 --> 00:07:48.459\nWe'll have those conversations about\ntrusts and forests and domains and\n\n151\n00:07:48.459 --> 00:07:51.269\ntrees and all that in case you're\na little rusty on all that.\n\n152\n00:07:51.269 --> 00:07:54.151\nWe're gonna have that coming up in some\nfuture conversations so you'll be able to\n\n153\n00:07:54.151 --> 00:07:57.011\nhear us go through the logic of that and\nmake sure you're comfortable with that.\n\n154\n00:07:57.011 --> 00:08:00.834\nImportant information to know about and\nmake sure we have a good sense of for\n\n155\n00:08:00.834 --> 00:08:01.388\nthe exam.\n\n156\n00:08:01.388 --> 00:08:05.230\nBut when we talk about claims,\nwe can think about claims across forests.\n\n157\n00:08:05.230 --> 00:08:09.630\nWe maintain a claims dictionary, directory\nof all the claims that maps them.\n\n158\n00:08:09.630 --> 00:08:14.020\nIn each forest, in Server 12 or 12 R2,\nall claim types that are defined and\n\n159\n00:08:14.020 --> 00:08:17.490\nused have to be defined within the claims\ndictionary, within that forest.\n\n160\n00:08:17.490 --> 00:08:19.470\nSo they're defined at the forest level.\n\n161\n00:08:19.470 --> 00:08:20.680\nVery important.\n\n162\n00:08:20.680 --> 00:08:24.440\nSo keep in mind, that for instance,\nCherokee making a claim, as we indicated\n\n163\n00:08:24.440 --> 00:08:28.600\na moment ago in our little explanation,\nabout something unique to her, that would\n\n164\n00:08:28.600 --> 00:08:33.070\nbe defined in the forest that she's\na member of, whatever forest that is.\n\n165\n00:08:33.070 --> 00:08:35.210\nLet's say, hypothetically, it's ITPro.TV.\n\n166\n00:08:35.210 --> 00:08:39.670\nSo, in the ITPro.TV forest, Cherokee's\nclaims are registered in the claim\n\n167\n00:08:39.670 --> 00:08:43.120\ndictionary, and\nthat claims dictionary is a forest level.\n\n168\n00:08:43.120 --> 00:08:46.800\nMeaning any tree, any domain,\nanywhere in the forest\n\n169\n00:08:46.800 --> 00:08:51.440\non hosts.itpro.tv, let's say that's\na domain within the forest, and\n\n170\n00:08:51.440 --> 00:08:55.720\nmaybe Cherokee's a member of that cuz she\nqualifies in that particular role here.\n\n171\n00:08:55.720 --> 00:09:00.040\nWhereas, maybe switchers.itpro.tv,\nwould be a different domain,\n\n172\n00:09:00.040 --> 00:09:04.080\na different sub area, different\nnamespace within the ITPro.TV forest.\n\n173\n00:09:04.080 --> 00:09:08.700\nBoth switchers and hosts,\nwould have their claims aggregated,\n\n174\n00:09:08.700 --> 00:09:13.325\ndocumented, and maintained in a single\ndictionary, and all up referenceable\n\n175\n00:09:13.325 --> 00:09:18.480\nnamespace document attached at\nthe forest level at ITPro.TV.\n\n176\n00:09:18.480 --> 00:09:22.044\nOr ITPro.TV not hosts and\nnot switcher separately, right?\n\n177\n00:09:22.044 --> 00:09:22.630\n&gt;&gt; Okay.\n&gt;&gt; So\n\n178\n00:09:22.630 --> 00:09:24.550\nwe are keeping it up at the forest level.\n\n179\n00:09:24.550 --> 00:09:29.780\nImportant to keep that in mind,\nbecause a switcher Taylor, Megan,\n\n180\n00:09:29.780 --> 00:09:34.560\nTitus, whoever those switchers may be and\nhosts Cherokee, Mike, Daniel, whoever\n\n181\n00:09:34.560 --> 00:09:39.310\nthe hosts are, are all gonna have claims\nunique to them, but those claims are all\n\n182\n00:09:39.310 --> 00:09:43.590\naggregated together on one master list at\nthe forest level so we can work with them.\n\n183\n00:09:43.590 --> 00:09:47.430\nSo we treat all the objects in other\nwords that make claims in the forest,\n\n184\n00:09:47.430 --> 00:09:50.270\nin the same way in the sense\nthat we document their claims\n\n185\n00:09:50.270 --> 00:09:54.140\nin one master referenceable solution and\nit's at a forest level.\n\n186\n00:09:54.140 --> 00:09:56.720\nIt's important to know that because\nessentially it rises to the same level of\n\n187\n00:09:56.720 --> 00:09:57.570\na schema.\n\n188\n00:09:57.570 --> 00:10:00.660\nThe schema is forest-wide and\nis unique to that forest.\n\n189\n00:10:00.660 --> 00:10:03.510\nSo, the claims are forest-wide and\nthey are unique to that forest.\n\n190\n00:10:03.510 --> 00:10:05.510\nSo, we just want to make\nsure we're aware of that.\n\n191\n00:10:05.510 --> 00:10:08.030\nThere are scenarios\nwhere we may traverse or\n\n192\n00:10:08.030 --> 00:10:12.160\nmove through trust boundaries, cross\nforest trusts are what we will call them.\n\n193\n00:10:12.160 --> 00:10:15.480\nAnd again, we'll talk about these in\nmore detail in upcoming conversations,\n\n194\n00:10:15.480 --> 00:10:16.710\nsome other shows.\n\n195\n00:10:16.710 --> 00:10:17.760\nBut keep that in mind.\n\n196\n00:10:19.090 --> 00:10:23.070\nAs a result, if we move across or\nbetween two forests because we have trust\n\n197\n00:10:23.070 --> 00:10:25.980\nrelationships that are set up to allow for\nthis.\n\n198\n00:10:25.980 --> 00:10:29.400\nImagine, hypothetically in the real\nworld we have what's called M and\n\n199\n00:10:29.400 --> 00:10:32.810\nA activity, Merger and\nAcquisition activity.\n\n200\n00:10:32.810 --> 00:10:35.130\nOne company goes out and\nbuys another, right?\n\n201\n00:10:35.130 --> 00:10:36.741\nThere are different namespaces,\n\n202\n00:10:36.741 --> 00:10:40.230\ndifferent active directory forests\nassociated with each company.\n\n203\n00:10:40.230 --> 00:10:40.880\nCompany A.\n\n204\n00:10:40.880 --> 00:10:41.880\nCompany B.\n\n205\n00:10:41.880 --> 00:10:43.580\nCompany A buys company B.\n\n206\n00:10:43.580 --> 00:10:44.800\nAcquires it.\n\n207\n00:10:44.800 --> 00:10:47.990\nJoins it to company A's infrastructure and\nstarts to manage it.\n\n208\n00:10:47.990 --> 00:10:51.240\nBut you don't just simply collapse\nthose namespaces, the forest, and\n\n209\n00:10:51.240 --> 00:10:54.370\nautomatically everything goes away and\nbecomes part of company A.\n\n210\n00:10:54.370 --> 00:10:58.740\nThere's usually a transition, a cut-over\nperiod, because messaging systems,\n\n211\n00:10:58.740 --> 00:11:04.550\ndirectory information, users, applications\nare all tied to that directory.\n\n212\n00:11:04.550 --> 00:11:06.990\nAnd it's very disruptive to\nsimply just turn it off and\n\n213\n00:11:06.990 --> 00:11:08.780\nrecreate it all over in the new company.\n\n214\n00:11:08.780 --> 00:11:12.610\nThat can cause a lot of concern and\ncause system outages and\n\n215\n00:11:12.610 --> 00:11:14.180\nall sorts of bad things can happen.\n\n216\n00:11:14.180 --> 00:11:17.040\nSo, we typically see these\ndirectories coexisting for\n\n217\n00:11:17.040 --> 00:11:21.030\na period of time in the real world,\nand we create cross forests\n\n218\n00:11:21.030 --> 00:11:25.170\ntrust boundaries at the forest level are\nessentially bridged, to be able to allow\n\n219\n00:11:25.170 --> 00:11:30.100\nthese users to interact together under a\nsingle umbrella, even though they exist in\n\n220\n00:11:30.100 --> 00:11:33.700\ndifferent directories and indeed in\ndifferent forests, different namespaces.\n\n221\n00:11:33.700 --> 00:11:36.800\nThey would have different claims\ndictionaries and we also have to be aware\n\n222\n00:11:36.800 --> 00:11:41.420\nof that, but we can actually walk across\nthis and cross forest claims are going to\n\n223\n00:11:41.420 --> 00:11:45.530\nallow or we do allow for them,\nwe do what's called transforming them.\n\n224\n00:11:45.530 --> 00:11:47.990\nWe translate them through\nthe forest trust and\n\n225\n00:11:47.990 --> 00:11:50.510\nwe can actually work with them\nacross the forest boundaries.\n\n226\n00:11:50.510 --> 00:11:53.270\nSo wanna make sure we're aware of that and\nunderstand that.\n\n227\n00:11:53.270 --> 00:11:55.390\nThere is some manual configuration,\n\n228\n00:11:55.390 --> 00:11:57.610\nsome things that have to happen\nat that level to make that work.\n\n229\n00:11:57.610 --> 00:12:01.760\nBut we can actually pass forest or pass\nthe forest boundary with claims and move\n\n230\n00:12:01.760 --> 00:12:06.040\nthem across the boundary in certain well\ndefined and well constrained solutions.\n\n231\n00:12:06.040 --> 00:12:08.850\nAgain, typically a merger and\nacquisition falls into this category,\n\n232\n00:12:08.850 --> 00:12:13.130\nwhere we're gonna blend forest together,\ndue to one company buying another.\n\n233\n00:12:13.130 --> 00:12:14.530\nAnd we can then accept those claims and\n\n234\n00:12:14.530 --> 00:12:16.470\nactually authenticate against\nthem between the two forests.\n\n235\n00:12:16.470 --> 00:12:19.840\nSo, it is a fairly flexibly\narchitecture in that respect and\n\n236\n00:12:19.840 --> 00:12:24.070\ndoes allow us to be able to really\nmake use of the technology.\n\n237\n00:12:24.070 --> 00:12:25.640\nWe're piggybacking on top of Kerberos,\n\n238\n00:12:25.640 --> 00:12:30.250\npretty standard authentication platform\nthat we've been using since Windows 2000.\n\n239\n00:12:30.250 --> 00:12:31.680\nBeen around forever and a day.\n\n240\n00:12:31.680 --> 00:12:36.306\nSo, we are going to rely on the Kerberos\nprotocol, currently version 5 in 12,\n\n241\n00:12:36.306 --> 00:12:40.250\n12 R2, and what are known as KDCs,\nKey Distribution Center.\n\n242\n00:12:40.250 --> 00:12:42.370\nYou think of them as domain\ncontrollers in Windows right,\n\n243\n00:12:42.370 --> 00:12:45.420\nbecause our KDC role is really\njust the domain controller,\n\n244\n00:12:45.420 --> 00:12:48.780\nsimply using the language of\nKerberos to describe that role.\n\n245\n00:12:48.780 --> 00:12:50.356\n&gt;&gt; The underlying technology is there.\n\n246\n00:12:50.356 --> 00:12:53.312\n&gt;&gt; Yeah, just to specify that,\nbecause Kerberos is not a Windows,\n\n247\n00:12:53.312 --> 00:12:57.129\nMicrosoft Windows technology, again one of\nthose technologies in myth and lore and\n\n248\n00:12:57.129 --> 00:13:00.728\nurban legend has grown over time in\nthe minds of many people and they say, no,\n\n249\n00:13:00.728 --> 00:13:04.870\nthat's Microsoft's authentication thing,\nthat's theirs and they created it.\n\n250\n00:13:04.870 --> 00:13:07.550\nWell, no they borrowed it,\nlike many things.\n\n251\n00:13:07.550 --> 00:13:10.190\nKerberos exists outside of Microsoft has\n\n252\n00:13:10.190 --> 00:13:12.560\nway before Microsoft\never decided to use it.\n\n253\n00:13:12.560 --> 00:13:15.810\nActually created at MIT many,\nmany moons ago.\n\n254\n00:13:15.810 --> 00:13:16.657\n&gt;&gt; In the eighties, right?\n\n255\n00:13:16.657 --> 00:13:18.210\n&gt;&gt; What?\n&gt;&gt; In the eighties, right?\n\n256\n00:13:18.210 --> 00:13:21.000\n&gt;&gt; Under a project name\ncalled project Athena.\n\n257\n00:13:21.000 --> 00:13:24.000\nThat was the name that actually was given\nto the work that ultimately becomes\n\n258\n00:13:24.000 --> 00:13:24.530\nKerberos.\n\n259\n00:13:24.530 --> 00:13:27.470\nAnd Kerberos exist and\nis used in Linux and Unix, and\n\n260\n00:13:27.470 --> 00:13:30.090\nall sorts of operating systems,\nnot just here.\n\n261\n00:13:30.090 --> 00:13:32.800\nMicrosoft does take that technology,\nlegally and rightfully,\n\n262\n00:13:32.800 --> 00:13:36.570\nthey were incorporating it since Windows\n2000, since we see the advent of\n\n263\n00:13:36.570 --> 00:13:40.380\nthe Active Directory, switching away\nfrom a single instance directory,\n\n264\n00:13:40.380 --> 00:13:43.580\nthe NT4 model,\nwhere we had a flat directory model.\n\n265\n00:13:43.580 --> 00:13:46.390\nWe have a hierarchical model\nwith active directory, but\n\n266\n00:13:46.390 --> 00:13:49.110\nwe see that incorporated\nstarting Windows 2000.\n\n267\n00:13:49.110 --> 00:13:51.460\nMicrosoft does nip and\ntuck and tweak that.\n\n268\n00:13:51.460 --> 00:13:55.410\nIt is a customized implementation\nspecific to Microsoft's vision\n\n269\n00:13:55.410 --> 00:13:59.790\nof how they want LDAP services to be\nprovided, but it's based on the generic\n\n270\n00:13:59.790 --> 00:14:02.750\nfoundational technology and\nthought process of Kerberos.\n\n271\n00:14:02.750 --> 00:14:05.660\nAnd that's where we get the naming\nconvention things like KDC from,\n\n272\n00:14:05.660 --> 00:14:08.780\ncuz that's what we call\nthe Key Distribution Centers or\n\n273\n00:14:08.780 --> 00:14:12.220\nthe control servers in Kerberos,\nthey're called KDCs.\n\n274\n00:14:12.220 --> 00:14:14.860\nSo we just simply happen to also\nrefer to them as domain controllers,\n\n275\n00:14:14.860 --> 00:14:17.420\ncuz that's what they are in Windows,\nso just be aware of that.\n\n276\n00:14:17.420 --> 00:14:20.330\nBut we do leverage a Kerberos protocol.\n\n277\n00:14:20.330 --> 00:14:21.910\nAnd we do piggyback on top of it.\n\n278\n00:14:21.910 --> 00:14:27.280\nWe do have some enhancements in server 12,\n12 R22, the Kerberos protocol\n\n279\n00:14:27.280 --> 00:14:31.537\nto the KDC slash domain controller\nfunction that allows us to use DAC.\n\n280\n00:14:31.537 --> 00:14:34.745\nThese are required to\ntransport the claims and\n\n281\n00:14:34.745 --> 00:14:37.495\nbind them to the Kerberos\nticket that is issued.\n\n282\n00:14:37.495 --> 00:14:41.085\nThe ticket granting ticket, the session\nand service tickets that are issued for\n\n283\n00:14:41.085 --> 00:14:45.535\nus, to be able to actually go out and\ngain access to services in Kerberos.\n\n284\n00:14:45.535 --> 00:14:48.605\nIf you're not familiar with that whole\nthought process of how Kerberos works,\n\n285\n00:14:48.605 --> 00:14:50.295\nI'm not gonna go into it here.\n\n286\n00:14:50.295 --> 00:14:54.155\nBut we do have conversations\nwhere we do detail that process.\n\n287\n00:14:54.155 --> 00:14:57.390\nI'd encourage you to go back,\ndo a little homework, look at one or\n\n288\n00:14:57.390 --> 00:15:01.060\nmore of those shows, read up on Kerberos\na little bit, certainly valuable for\n\n289\n00:15:01.060 --> 00:15:02.370\nyou to have a sense of how it works.\n\n290\n00:15:02.370 --> 00:15:05.790\nBut at a high level, we have\na ticketing system that issues one or\n\n291\n00:15:05.790 --> 00:15:08.430\nmore tickets to users for\na specified period of time.\n\n292\n00:15:08.430 --> 00:15:13.595\nThose tickets are joined to our user token\nbecome part of that whole thought process\n\n293\n00:15:13.595 --> 00:15:17.055\nand those tickets enable us to\naccess functions and do things.\n\n294\n00:15:17.055 --> 00:15:19.669\nAnd when those tickets expire,\nwe have to renew them and\n\n295\n00:15:19.669 --> 00:15:22.335\nor get additional tickets\nin order to do things.\n\n296\n00:15:22.335 --> 00:15:26.115\nAccessing or adding these claims\nto the Kerberos process and\n\n297\n00:15:26.115 --> 00:15:28.970\nthe tickets, we refer to something\ncalled Kerberos armoring.\n\n298\n00:15:28.970 --> 00:15:32.440\nAnd that's the idea of adding these\nadditional capabilities to claims or\n\n299\n00:15:32.440 --> 00:15:34.520\nto use the claims.\n\n300\n00:15:34.520 --> 00:15:36.020\nSo we're extending that.\n\n301\n00:15:36.020 --> 00:15:40.890\nAnd we also are able to, through Kerberos\narmoring, this is a subset of detail and\n\n302\n00:15:40.890 --> 00:15:45.566\nsupport and services that are implemented\nthough a broader thought process.\n\n303\n00:15:45.566 --> 00:15:47.678\nWe implement this through something known\n\n304\n00:15:47.678 --> 00:15:51.326\nas Flexible Authentication Secure\nTunneling, commonly known as FAST.\n\n305\n00:15:51.326 --> 00:15:57.240\nSo you often see and hear about Kerberos\narmoring, or fast and Kerberos armoring.\n\n306\n00:15:57.240 --> 00:15:59.720\nThat's what we're talking about,\nthe extension of Kerberos\n\n307\n00:15:59.720 --> 00:16:03.700\nprotocol support to enable the use of\nclaims, the transmission, the support, and\n\n308\n00:16:03.700 --> 00:16:08.845\nthe validation of claims, attachment to\nthem through Kerberos into the user token.\n\n309\n00:16:08.845 --> 00:16:11.325\nClaims are stored in\nthe Kerberos privilege account\n\n310\n00:16:11.325 --> 00:16:14.145\ncertificate which is part of\nthe Kerberos architecture.\n\n311\n00:16:14.145 --> 00:16:15.875\nThey don't increase\nthe overall token size, but\n\n312\n00:16:15.875 --> 00:16:18.587\nthey do become part of that\nthought process through this.\n\n313\n00:16:18.587 --> 00:16:21.917\nSo just want to make sure we're\nfamiliar with some of those words,\n\n314\n00:16:21.917 --> 00:16:25.167\nthe language, the thought process\nas we start to get into this.\n\n315\n00:16:25.167 --> 00:16:26.907\nAnd Cherokee's been patiently waiting.\n\n316\n00:16:26.907 --> 00:16:29.607\nShe raised her hand and then she just\nrolled her eyes when I kept talking.\n\n317\n00:16:29.607 --> 00:16:31.080\nSo what did you wanna say?\n\n318\n00:16:31.080 --> 00:16:34.100\n&gt;&gt; So, Adam,\nyou had mentioned the claims, and\n\n319\n00:16:34.100 --> 00:16:37.430\nwhen we look at dynamic\naccess control here and\n\n320\n00:16:37.430 --> 00:16:40.480\nwe're thinking about authentication,\nwe're thinking about security.\n\n321\n00:16:40.480 --> 00:16:42.936\nAre we using those security identifiers or\n\n322\n00:16:42.936 --> 00:16:47.750\nwhat are we using here to actually\nto implement dynamic access control?\n\n323\n00:16:47.750 --> 00:16:50.890\n&gt;&gt; When you said security identifiers\nyou're referring to let's say our GUID,\n\n324\n00:16:50.890 --> 00:16:52.680\nfor instance, hypothetically,\naround the user.\n\n325\n00:16:52.680 --> 00:16:55.010\nEvery user, every object,\nnot just the user, but\n\n326\n00:16:55.010 --> 00:16:57.400\nwe are as users objects in the directory.\n\n327\n00:16:57.400 --> 00:16:59.400\nBut every object has a GUID,\nfor instance, right?\n\n328\n00:16:59.400 --> 00:17:03.110\nMade up of a SID and the RID as if there\nweren't enough acronyms already, right?\n\n329\n00:17:03.110 --> 00:17:04.960\nSo the relative ID, the security ID,\n\n330\n00:17:04.960 --> 00:17:08.030\nwe combine them together we get a GUID,\nglobally unique identifier.\n\n331\n00:17:08.030 --> 00:17:10.250\nIdentifies us uniquely within the forest,\nright?\n\n332\n00:17:10.250 --> 00:17:13.020\nAs an object that has a certain\nname within a certain space.\n\n333\n00:17:13.020 --> 00:17:16.664\nSo we're talking about GUIDS,\nwe're talking about SIDS,\n\n334\n00:17:16.664 --> 00:17:21.583\njust a security identifier- [CROSSTALK]\n&gt;&gt; Example of using my middle name, right?\n\n335\n00:17:21.583 --> 00:17:22.117\n&gt;&gt; Right.\n\n336\n00:17:22.117 --> 00:17:24.918\n&gt;&gt; But in large organizations,\nin large forests,\n\n337\n00:17:24.918 --> 00:17:29.767\nI may have active directory users with the\nsame user name, like the same first name,\n\n338\n00:17:29.767 --> 00:17:32.728\nsame last first initial,\nor something like that.\n\n339\n00:17:32.728 --> 00:17:35.414\n&gt;&gt; Right, but remember the name\ndoesn't create, by itself,\n\n340\n00:17:35.414 --> 00:17:36.790\nis not the unique identifier.\n\n341\n00:17:36.790 --> 00:17:39.290\n&gt;&gt; Right, so-\n&gt;&gt; The name is simply one attribute, and\n\n342\n00:17:39.290 --> 00:17:41.400\ntherefore potentially one claim.\n\n343\n00:17:41.400 --> 00:17:45.390\nWhen we talk about creating a unique\ninstance or an object identifier,\n\n344\n00:17:45.390 --> 00:17:47.050\nwe talk about what I just mentioned.\n\n345\n00:17:47.050 --> 00:17:51.390\nThe security ID combined with your\ndomain namespace ID, the RID portion.\n\n346\n00:17:51.390 --> 00:17:53.950\nRelative ID is the domain or\nthe namespace you're in.\n\n347\n00:17:53.950 --> 00:17:56.450\nSID is the unique identifier for\nyou in that.\n\n348\n00:17:56.450 --> 00:17:59.650\nAnd then combine them and we get\nan unique instance throughout the forest.\n\n349\n00:17:59.650 --> 00:18:04.830\nSo Cherokee as a user in\nthe domain host.itpro.tv would be\n\n350\n00:18:04.830 --> 00:18:10.360\ndifferent from Cherokee as a user in\nswitcher.host or switcher.itpro.tv.\n\n351\n00:18:10.360 --> 00:18:10.960\n&gt;&gt; Got it.\n\n352\n00:18:10.960 --> 00:18:14.210\n&gt;&gt; Because the RID portion\nwould be unique, and\n\n353\n00:18:14.210 --> 00:18:19.350\ntherefore triggers the fact\nthat you as yourself in hosts,\n\n354\n00:18:19.350 --> 00:18:23.480\nand the alternate Cherokee in switchers,\nare actually two distinctly different\n\n355\n00:18:23.480 --> 00:18:26.790\nobjects because the namespaces\nthey're associated with are different.\n\n356\n00:18:26.790 --> 00:18:31.450\nAnd the idea that an object can exist\nnamed identically, as Cherokee points out,\n\n357\n00:18:31.450 --> 00:18:36.490\nin different namespaces is important\nto keep in our minds and remember here.\n\n358\n00:18:36.490 --> 00:18:39.580\nWe can't have two, and we didn't take\nthis to the logical conclusion, but\n\n359\n00:18:39.580 --> 00:18:45.900\nwe cannot have two Cherokees as users\nidentically named in the same namespace.\n\n360\n00:18:45.900 --> 00:18:48.390\nBut we can have them in the same forest,\nright?\n\n361\n00:18:48.390 --> 00:18:50.720\nSo when I say namespace, I mean domain.\n\n362\n00:18:50.720 --> 00:18:56.190\nAnd so when I said Switcher or Switchers\ndot ITPRO.TV as a unique namespace,\n\n363\n00:18:56.190 --> 00:18:59.970\nthere could only be one Cherokee called,\nlet's say Cherokee spelled the way you\n\n364\n00:18:59.970 --> 00:19:02.970\nspell your name, let's say we\ntake it to the logical extension,\n\n365\n00:19:02.970 --> 00:19:06.610\nwe're talking about, your middle name,\nwhatever that is and your full name.\n\n366\n00:19:06.610 --> 00:19:07.960\nSo Cherokee something Boose, right?\n\n367\n00:19:07.960 --> 00:19:09.130\nWhatever that is.\n\n368\n00:19:09.130 --> 00:19:12.150\nAnd if it's spelled that exact\nway with all those bells and\n\n369\n00:19:12.150 --> 00:19:16.160\nwhistles, if I try to create another user\ncalled Cherokee whatever your middle name\n\n370\n00:19:16.160 --> 00:19:21.150\nis Boose in host.itpro.tv, the interface\nwould say no, you can't do that,\n\n371\n00:19:21.150 --> 00:19:24.000\nwe already have an object called Cherokee,\nright, in this namespace.\n\n372\n00:19:24.000 --> 00:19:25.760\nBut if I go to a different domain,\n\n373\n00:19:25.760 --> 00:19:28.390\nI can have another Cherokee\nnamed identically, right?\n\n374\n00:19:28.390 --> 00:19:30.000\n&gt;&gt; Yeah.\n&gt;&gt; But it would be different because\n\n375\n00:19:30.000 --> 00:19:31.830\nthe combination of that unique name\n\n376\n00:19:31.830 --> 00:19:36.410\nplus the domain namespace equals a unique\nGUID that is gonna be globally unique.\n\n377\n00:19:36.410 --> 00:19:39.640\nAnd so we can see objects\nthat are named the same but\n\n378\n00:19:39.640 --> 00:19:43.250\nthat do exist in different namespaces and\nthat are considered unique even though\n\n379\n00:19:43.250 --> 00:19:46.390\nthey may be confusing when\nwe display them, right?\n\n380\n00:19:46.390 --> 00:19:48.010\nSo we obviously have to be aware of that.\n\n381\n00:19:48.010 --> 00:19:52.637\nAnd that's why you often see companies\nwill say first initial last name at\n\n382\n00:19:52.637 --> 00:19:57.502\nwhatever is our e-mail standard if you\nhave more than one c boose or a gordon.\n\n383\n00:19:57.502 --> 00:19:58.594\nYet we start iterating.\n\n384\n00:19:58.594 --> 00:20:01.346\nYou have a gordon 1 or\na gordon 2 or something like that.\n\n385\n00:20:01.346 --> 00:20:05.081\nOr you get the second one is now adam\ndot gordon instead of a gordon so\n\n386\n00:20:05.081 --> 00:20:06.427\nwe can differentiate.\n\n387\n00:20:06.427 --> 00:20:10.302\nBut they do something to be able to\nfigure that out because as users we don't\n\n388\n00:20:10.302 --> 00:20:13.517\nsee the GUID, we don't understand\nthe subtle distinction.\n\n389\n00:20:13.517 --> 00:20:17.467\nWe just know, hey there's three\nAdam Gordon's and two Cherokee Boose's\n\n390\n00:20:17.467 --> 00:20:21.110\nin the GAL, the global address list,\nwhich is the one I'm going to?\n\n391\n00:20:21.110 --> 00:20:22.600\nAnd you don't really know, right?\n\n392\n00:20:22.600 --> 00:20:26.180\nSo we do have a mechanism in\nthe active directory to deal with this,\n\n393\n00:20:26.180 --> 00:20:28.730\nbut it's subtle and\nwe don't really interact with it as users.\n\n394\n00:20:28.730 --> 00:20:31.570\nSo getting back to the original question,\nright?\n\n395\n00:20:31.570 --> 00:20:33.140\nSo how do we deal with all that?\n\n396\n00:20:33.140 --> 00:20:35.570\nThe GUID is really\nthe identifier we pivot on.\n\n397\n00:20:35.570 --> 00:20:39.620\nBut adding the claims in are really\njust attributes that we're gonna add\n\n398\n00:20:39.620 --> 00:20:44.700\nas additional specifiers of uniqueness\nthat we want to authenticate against.\n\n399\n00:20:44.700 --> 00:20:48.330\nBut remember, the grant of\nrights when we authorize, right?\n\n400\n00:20:48.330 --> 00:20:51.070\nWe're talking about authentication\nversus authorization.\n\n401\n00:20:51.070 --> 00:20:54.078\nAuthentication is give me your\ncredentials, let me prove who you are.\n\n402\n00:20:54.078 --> 00:20:59.210\nAuthorization is I did that, now let me\ngive you the rights you're entitled to.\n\n403\n00:20:59.210 --> 00:21:02.380\nSo we're talking about how we authenticate\na user with these attributes and\n\n404\n00:21:02.380 --> 00:21:03.380\nthese claims.\n\n405\n00:21:03.380 --> 00:21:06.660\nAnd the ability for the user to then\nuse them to prove who they are is what\n\n406\n00:21:06.660 --> 00:21:10.990\nwe're talking about, becomes a combination\nof the attributes, the claims, the unique\n\n407\n00:21:10.990 --> 00:21:15.730\nproperties, ultimately all rolled up,\nalong with all the Kerberos information,\n\n408\n00:21:15.730 --> 00:21:20.100\nand that is generated as a token, and\nthe GUID goes in as part of that.\n\n409\n00:21:20.100 --> 00:21:23.880\nWe give that to the user and say, okay,\nthis is you uniquely, and by the way,\n\n410\n00:21:23.880 --> 00:21:27.070\nhere's all the permissions you're allowed,\nhere's all the rights, etc.\n\n411\n00:21:27.070 --> 00:21:29.400\nThis now represents you,\nthis being the token.\n\n412\n00:21:29.400 --> 00:21:33.590\nThis represents you for the duration\nof your logon session, essentially your\n\n413\n00:21:33.590 --> 00:21:39.920\nactive engagement in this particular\nauthorization and validation timeline.\n\n414\n00:21:39.920 --> 00:21:42.835\nSix days, two minutes, five days,\nwhatever, up to seven and\n\n415\n00:21:42.835 --> 00:21:44.493\nhalf days without having to renew.\n\n416\n00:21:44.493 --> 00:21:47.500\nYou can essentially stay active for\nthat period of time, right?\n\n417\n00:21:47.500 --> 00:21:48.490\nSo it's really a combination of claims.\n\n418\n00:21:48.490 --> 00:21:49.920\n&gt;&gt; Yeah, there's a few things going on.\n\n419\n00:21:49.920 --> 00:21:52.420\n&gt;&gt; As well as the overall\nunique identifier, the GUID,\n\n420\n00:21:52.420 --> 00:21:53.690\nmade up of the SID and the RID.\n\n421\n00:21:53.690 --> 00:21:55.020\n&gt;&gt; All of that rols together.\n\n422\n00:21:55.020 --> 00:21:57.875\nAnd if we can't validate that,\nyou never get to authenticate,\n\n423\n00:21:57.875 --> 00:22:01.130\nyou never get through authentication\nto get to authorization.\n\n424\n00:22:01.130 --> 00:22:04.060\nYou have to authenticate successfully,\nand that's where all the claims\n\n425\n00:22:04.060 --> 00:22:07.620\ncome in cuz they're all rolled up as part\nof the, essentially the manifest list.\n\n426\n00:22:07.620 --> 00:22:09.930\nSometimes you'll go, for instance,\n\n427\n00:22:09.930 --> 00:22:14.550\nand you may have this happen sometimes\nlike when I'm checking into a hotel in\n\n428\n00:22:14.550 --> 00:22:17.590\na foreign country, we're talking about\nhotels, right, between one of the breaks.\n\n429\n00:22:17.590 --> 00:22:21.110\nAnd normally in the US, the United States,\nyou check into a hotel, they're gonna ask\n\n430\n00:22:21.110 --> 00:22:24.710\nyou for your credit card, your photo id if\nyou've made a reservation, hypothetically.\n\n431\n00:22:24.710 --> 00:22:25.550\nThey don't ask you for\n\n432\n00:22:25.550 --> 00:22:27.710\nyour passport unless you give them\nyour passport as your photo ID.\n\n433\n00:22:27.710 --> 00:22:29.160\nThey don't wanna see it.\n\n434\n00:22:29.160 --> 00:22:33.790\nYou go to a foreign hotel in another\ncountry somewhere, many countries,\n\n435\n00:22:33.790 --> 00:22:35.150\nthey don't care about\nyour driver's license.\n\n436\n00:22:35.150 --> 00:22:35.864\nIt's irrelevant to them,\n\n437\n00:22:35.864 --> 00:22:37.833\nit doesn't mean anything because\ndriver's license isn't legal there.\n\n438\n00:22:37.833 --> 00:22:40.376\nIt's not a legal form\nof ID in that country.\n\n439\n00:22:40.376 --> 00:22:43.140\nYour passport is what they wanna see.\n\n440\n00:22:43.140 --> 00:22:46.240\nCuz you'll check in with a photo ID,\nthey're like yeah, that's nice,\n\n441\n00:22:46.240 --> 00:22:48.070\nyou don't have a passport,\nwe can't check you in,\n\n442\n00:22:48.070 --> 00:22:51.120\nbecause your American driver's\nlicense doesn't mean anything.\n\n443\n00:22:51.120 --> 00:22:54.890\nSo you have to have the correct form\nof identification, the correct claims,\n\n444\n00:22:54.890 --> 00:22:57.912\nthe correct attributes assigned\nto you to be able to check in.\n\n445\n00:22:57.912 --> 00:22:58.803\nSame idea here.\n\n446\n00:22:58.803 --> 00:23:00.753\nWe have to authenticate with\nthe proper claims for actions.\n\n447\n00:23:00.753 --> 00:23:02.745\n&gt;&gt; That's a really great\nway to explain it.\n\n448\n00:23:02.745 --> 00:23:04.042\nYeah, break it down because\nthat's what I was wondering.\n\n449\n00:23:04.042 --> 00:23:07.449\nExactly what is it that we need to go\nahead and get that access that we want?\n\n450\n00:23:07.449 --> 00:23:08.007\nSo, perfect.\n\n451\n00:23:08.007 --> 00:23:10.840\n&gt;&gt; So interestingly, we talked about FSRM.\n\n452\n00:23:10.840 --> 00:23:12.303\nYou remember our FSRM conversation?\n\n453\n00:23:12.303 --> 00:23:13.835\nA lot of fun.\nData classifications and\n\n454\n00:23:13.835 --> 00:23:14.879\nall sorts of cool stuff.\n\n455\n00:23:14.879 --> 00:23:16.753\nWe actually need to have and\n\n456\n00:23:16.753 --> 00:23:20.836\nwork with the FSRM role enabled\nto be able to implement DAC.\n\n457\n00:23:20.836 --> 00:23:22.367\nBelieve it or not, it relies on that.\n\n458\n00:23:22.367 --> 00:23:24.267\nSo they kind of partner together.\n\n459\n00:23:24.267 --> 00:23:26.156\nThis has to be installed\non the file server or\n\n460\n00:23:26.156 --> 00:23:28.004\nservers that are gonna host the resource.\n\n461\n00:23:28.004 --> 00:23:30.679\nCuz remember, DAC is going to\nbe applied to files, right?\n\n462\n00:23:30.679 --> 00:23:33.575\nWe're not just talking about just,\nhey, authenticate into the domain.\n\n463\n00:23:33.575 --> 00:23:34.336\nWe do that already.\n\n464\n00:23:34.336 --> 00:23:36.290\nWe don't need DAC for that.\n\n465\n00:23:36.290 --> 00:23:38.719\nWe're piggybacking on top of\nthe authentication process.\n\n466\n00:23:38.719 --> 00:23:43.677\nAnd we're applying specific properties or\nattributes that we're claiming to then\n\n467\n00:23:43.677 --> 00:23:46.905\nsay we get access to these\nfiles as we are authorizing.\n\n468\n00:23:46.905 --> 00:23:48.902\nThat's where the DAC portion comes in.\n\n469\n00:23:48.902 --> 00:23:50.508\nSo we have to put this on and\n\n470\n00:23:50.508 --> 00:23:54.962\npiggyback it with FSRM in order to be\nable to have this actually working.\n\n471\n00:23:54.962 --> 00:23:59.454\nAnd the file server that will host\nthe shares has to be as you know from,\n\n472\n00:23:59.454 --> 00:24:03.250\nhopefully, remember from\nour FSRM conversation.\n\n473\n00:24:03.250 --> 00:24:05.930\nServer 12 or 12 R2 file server,\nto enable that.\n\n474\n00:24:05.930 --> 00:24:08.550\nIf you haven't seen that, if you don't\nremember how we do that, go back and\n\n475\n00:24:08.550 --> 00:24:10.188\ntake a look at those episodes, right?\n\n476\n00:24:10.188 --> 00:24:12.880\nWe did that two episodes on FSRM and\nhow that works,\n\n477\n00:24:12.880 --> 00:24:17.730\nits part of our six episode, a little\nseries there on advanced file services.\n\n478\n00:24:17.730 --> 00:24:20.870\nSo, it's the last couple\nof episodes in that series\n\n479\n00:24:20.870 --> 00:24:24.560\nthat specifically focus on FSRM, you\nwanna go back and take a look at those.\n\n480\n00:24:24.560 --> 00:24:29.580\nSo, we are adding the claims on the device\ninformation to the Kerberos ticket, and\n\n481\n00:24:29.580 --> 00:24:33.240\nthen we're authenticating and\nthen granting access as part of that,\n\n482\n00:24:33.240 --> 00:24:34.190\nremember that?\n\n483\n00:24:34.190 --> 00:24:38.450\nWe need to have a least a server 12,\ndomain controller or better, so\n\n484\n00:24:38.450 --> 00:24:41.240\n12 or 12 R2, to store those definitions,\nthose properties, and\n\n485\n00:24:41.240 --> 00:24:42.680\nall the things we're\ndealing with with DAC.\n\n486\n00:24:42.680 --> 00:24:44.490\nSo, this is a 12, 12 R2 functionality.\n\n487\n00:24:44.490 --> 00:24:49.610\nCan't do this with earlier versions,\nmeaning if you don't have at least\n\n488\n00:24:49.610 --> 00:24:52.430\none 12 or 12 R2 domain controller,\nwe're not gonna be able to implement DAC.\n\n489\n00:24:52.430 --> 00:24:54.240\nThis is not a 2008 or 2008 R2 function.\n\n490\n00:24:54.240 --> 00:24:59.970\nThis is a 12, 12 R2 function, so\nimportant to keep that in mind as well.\n\n491\n00:24:59.970 --> 00:25:01.860\nSo we just need to make\nsure we're doing that.\n\n492\n00:25:01.860 --> 00:25:06.440\nAnd also on the device side, so,\non the end user side, only Windows 8,\n\n493\n00:25:06.440 --> 00:25:09.432\nWindows 10 and\n8.1 in theory I suppose, and\n\n494\n00:25:09.432 --> 00:25:13.720\n10 all supports the use of claims on\nthe device side, right, for device claims.\n\n495\n00:25:13.720 --> 00:25:18.030\nMeaning, if we wanna make claims based\non the computer, the operating system,\n\n496\n00:25:18.030 --> 00:25:20.490\nthe build number, service pack level,\n\n497\n00:25:20.490 --> 00:25:22.800\nthings like that which we\ncan do as device claims.\n\n498\n00:25:22.800 --> 00:25:26.770\nFor that, we have to have a new OS because\nthe older OS's will not support that.\n\n499\n00:25:26.770 --> 00:25:29.180\nSo again, something else to be aware of.\n\n500\n00:25:29.180 --> 00:25:33.660\nWe did talk about the fact that if\nwe're gonna go cross forest trusts and\n\n501\n00:25:33.660 --> 00:25:37.030\ndo cross forest claim\nmanagement that we can do that.\n\n502\n00:25:37.030 --> 00:25:41.790\nAll domain controllers in both forests,\nmust be server 12 or better for\n\n503\n00:25:41.790 --> 00:25:42.310\nthat to work.\n\n504\n00:25:43.630 --> 00:25:45.770\nWell, in the domain that we're going\nto in each forest I should say,\n\n505\n00:25:45.770 --> 00:25:46.430\nnot in the forest.\n\n506\n00:25:46.430 --> 00:25:49.590\nBut in the two domains that we're\nmoving between in the forest.\n\n507\n00:25:49.590 --> 00:25:53.260\nBoth of those sets of domain\ncontrollers must all be 12 or 12 R2.\n\n508\n00:25:53.260 --> 00:25:56.560\nIf we have any of the older domain\ncontrollers in either of those domains,\n\n509\n00:25:56.560 --> 00:25:58.436\nwe won't be able to move across forests.\n\n510\n00:25:58.436 --> 00:26:02.508\n&gt;&gt; [CROSSTALK] Which is the good point,\nnot even just in real life but,\n\n511\n00:26:02.508 --> 00:26:05.868\nI definitely think that's\na great point to remember.\n\n512\n00:26:05.868 --> 00:26:07.255\n&gt;&gt; Okay.\n&gt;&gt; I'm trying to do my subtle cue like you\n\n513\n00:26:07.255 --> 00:26:07.825\ndo, your hints.\n\n514\n00:26:07.825 --> 00:26:10.610\n&gt;&gt; Yes,\nit's a very important point to remember.\n\n515\n00:26:10.610 --> 00:26:14.236\nDon't be subtle, just come right out and\nsay, hey, you should know that, because\n\n516\n00:26:14.236 --> 00:26:17.728\nyou may at some point need to regurgitate\nthat information for various reasons.\n\n517\n00:26:17.728 --> 00:26:21.225\nLike somebody stops you on the street and\nsays, hey, Cross domain,\n\n518\n00:26:21.225 --> 00:26:23.169\ncross forest trust stack, quickly.\n\n519\n00:26:23.169 --> 00:26:25.300\n&gt;&gt; [LAUGH]\n&gt;&gt; What version do I need?\n\n520\n00:26:25.300 --> 00:26:27.770\nRun away from them, by the way,\nif you ever see that happen.\n\n521\n00:26:27.770 --> 00:26:29.030\nThat's how I met Cherokee.\n\n522\n00:26:29.030 --> 00:26:31.150\nShe came up to me in a parking lot and\nasked me that question.\n\n523\n00:26:31.150 --> 00:26:33.620\nI wasn't fast enough that day and\nlook at what happened.\n\n524\n00:26:33.620 --> 00:26:34.780\nNow we're stuck together, right?\n\n525\n00:26:34.780 --> 00:26:38.010\nSo, you gotta be quick on your feet\nwhen somebody says that to you.\n\n526\n00:26:38.010 --> 00:26:42.610\nBut it is an important point Cherokee\nraises, as all the points she raises are.\n\n527\n00:26:42.610 --> 00:26:46.070\nTrying to help you understand, what\nkind of information will be valuable for\n\n528\n00:26:46.070 --> 00:26:47.280\nyou to focus on.\n\n529\n00:26:47.280 --> 00:26:50.430\nWith regards to not only preparation to do\nthis in the real world, and we're gonna\n\n530\n00:26:50.430 --> 00:26:54.220\nget into showing you some of the nuts and\nbolts here in our upcoming conversation.\n\n531\n00:26:54.220 --> 00:26:55.870\nWe're about out of time,\njust to do the overview,\n\n532\n00:26:55.870 --> 00:26:58.610\nwe're gonna show you how to do\nthis in our next episode here.\n\n533\n00:26:58.610 --> 00:27:00.370\nBut before we do that, just reminding you,\n\n534\n00:27:00.370 --> 00:27:02.440\nit's not just about how you apply\nthe knowledge in the real world.\n\n535\n00:27:02.440 --> 00:27:05.320\nThat's very important, but\nit's also about, in this case,\n\n536\n00:27:05.320 --> 00:27:08.040\nif you're interested in certifying,\nmake it sure you have the right kind of\n\n537\n00:27:08.040 --> 00:27:11.070\nknowledge to answer questions and\nthis kind of information.\n\n538\n00:27:11.070 --> 00:27:12.230\nHey, we need those server 12 or\n\n539\n00:27:12.230 --> 00:27:17.390\n12 R2 domain controllers at a minimum in\nboth domains to do cross forest claiming.\n\n540\n00:27:17.390 --> 00:27:19.780\nThat's probably a really\nimportant thing and\n\n541\n00:27:19.780 --> 00:27:21.760\nI could see easily being a testable item.\n\n542\n00:27:21.760 --> 00:27:23.080\nAnd you wanna make sure\nyou're aware of that, and\n\n543\n00:27:23.080 --> 00:27:26.140\nthat's what Cherokee's pointing out for\nyou which is important for you to do, and\n\n544\n00:27:26.140 --> 00:27:28.370\nto make sure you make a note\non it be aware of, right?\n\n545\n00:27:28.370 --> 00:27:29.520\nAll right, very good.\n\n546\n00:27:29.520 --> 00:27:31.432\n&gt;&gt; All right, so\nyou did say we are almost out of time.\n\n547\n00:27:31.432 --> 00:27:35.620\nThat is true, and we're going to be coming\nback with some demos, so that's a plus.\n\n548\n00:27:35.620 --> 00:27:38.650\nThank you for being with us today Adam and\nthank you for joining us as well.\n\n549\n00:27:38.650 --> 00:27:40.180\nStay tuned, you can come back for\n\n550\n00:27:40.180 --> 00:27:42.730\nthose demos, for this show we're\ngoing to go ahead and sign out.\n\n551\n00:27:42.730 --> 00:27:44.840\nRemember, I'm your host Cherokee Boose.\n\n552\n00:27:44.840 --> 00:27:45.844\n&gt;&gt; I'm Adam Gordon.\n\n553\n00:27:45.844 --> 00:27:49.167\n&gt;&gt; See you next time here ITPro.TV.\n\n554\n00:27:49.167 --> 00:27:55.072\n[MUSIC]\n\n555\n00:27:55.072 --> 00:27:58.093\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "224331666"
        },
        {
          "description": "In this episode, Cherokee and Adam continue their previous conversation focused around Dynamic Access Control. Adam demonstrates how to create and manage claims, create and manage access control rules, configuring central access rules and more!",
          "length": "2214",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-3-1-2-implementing_dynamic_access_control_pt2-063017-PGM.00_00_13_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-3-1-2-implementing_dynamic_access_control_pt2-063017-PGM.00_00_13_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-3-1-2-implementing_dynamic_access_control_pt2-063017-PGM.00_00_13_07.Still001-sm.jpg",
          "title": "Implementing Dynamic Access Control Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.300 --> 00:00:02.319\nWelcome to ITProTV,\nI'm you're host, Don Pezet.\n\n2\n00:00:02.319 --> 00:00:06.988\n[CROSSTALK]\n\n3\n00:00:06.988 --> 00:00:08.379\n[MUSIC]\n\n4\n00:00:08.379 --> 00:00:12.069\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.069 --> 00:00:17.370\n&gt;&gt; Welcome to your MCSA 70-412 series,\nI'm your show host, Cherokee Boose.\n\n6\n00:00:17.370 --> 00:00:22.155\nIn the previous episode we were able\nto introduce Dynamic Access Control.\n\n7\n00:00:22.155 --> 00:00:25.425\nAnd in this show we plan on showing you\nsome demonstrations, and Adam's really\n\n8\n00:00:25.425 --> 00:00:28.255\ngonna go through the intricacies\nof this really cool technology.\n\n9\n00:00:28.255 --> 00:00:30.115\nSo how are you doing today, Adam?\n\n10\n00:00:30.115 --> 00:00:33.615\n&gt;&gt; Good, so here are the intricacies,\nDAC, it's good, you should use it.\n\n11\n00:00:33.615 --> 00:00:36.120\nThat is the spread there,\nthat's it, yeah, we're good.\n\n12\n00:00:36.120 --> 00:00:37.310\n&gt;&gt; Ta-da!\n\n13\n00:00:37.310 --> 00:00:38.150\n&gt;&gt; I could lick the keyboard,\n\n14\n00:00:38.150 --> 00:00:38.960\nbut that would-\n&gt;&gt; [LAUGH]\n\n15\n00:00:38.960 --> 00:00:40.220\n&gt;&gt; We'd be done at that point.\n\n16\n00:00:40.220 --> 00:00:43.020\nAll right, so\nlet's talk a little bit more about DAC.\n\n17\n00:00:43.020 --> 00:00:45.770\nWe did, as Cherokee was saying,\nshow you in the prior episode,\n\n18\n00:00:45.770 --> 00:00:49.060\ndiscuss with you really, we didn't really\nshow you, we just talked about DAC.\n\n19\n00:00:49.060 --> 00:00:52.370\nLaid out some of the foundational thought\nprocesses about why it's important,\n\n20\n00:00:52.370 --> 00:00:54.590\nwhat it does, what we can use it for.\n\n21\n00:00:54.590 --> 00:00:55.220\nHad a pretty good,\n\n22\n00:00:55.220 --> 00:00:58.160\nI think thorough conversation,\nincorporated Kerberos in there.\n\n23\n00:00:58.160 --> 00:01:01.810\nTalked a little about the idea of\nuniqueness, how we identify users.\n\n24\n00:01:01.810 --> 00:01:04.910\nGot a little bit deep into\nthat whole discussion about\n\n25\n00:01:04.910 --> 00:01:08.230\nhow we form user identity, the SID and\nthe RID equaling the GUID.\n\n26\n00:01:08.230 --> 00:01:10.466\nAnd how we uniquely identify\nwho Cherokee is, so\n\n27\n00:01:10.466 --> 00:01:12.701\nwe know we're dealing with\nthe real Cherokee and\n\n28\n00:01:12.701 --> 00:01:16.210\nnot the super duper stealthy Cherokee\nwho's pretending to be the real one.\n\n29\n00:01:16.210 --> 00:01:19.060\nSo we went through all of that and\nidentified all of that.\n\n30\n00:01:19.060 --> 00:01:22.410\nTalked about claims, the idea of\nattributes and how we're gonna use them.\n\n31\n00:01:22.410 --> 00:01:26.780\nBundled in with this identity\nthought process as part of Kerberos.\n\n32\n00:01:26.780 --> 00:01:30.680\nAttach them to the Kerberos ticket,\nstore them in the Kerberos certificate.\n\n33\n00:01:30.680 --> 00:01:35.430\nAnd through Kerberos armoring in FAST, the\nextension of Kerberos to allow for this.\n\n34\n00:01:35.430 --> 00:01:40.570\nLeverage this, and use these claims or\nattributes as part of the process to grant\n\n35\n00:01:40.570 --> 00:01:45.950\nand provide assurance that we can actually\nuse certain files based on those things.\n\n36\n00:01:45.950 --> 00:01:47.890\nSo we've been through the thought process.\n\n37\n00:01:47.890 --> 00:01:49.620\nThought we'd now spend a little\ntime talking about how this is\n\n38\n00:01:49.620 --> 00:01:50.230\ngonna come together.\n\n39\n00:01:50.230 --> 00:01:54.146\nOne of the things we've got to do\nto implement DAC, first, foremost,\n\n40\n00:01:54.146 --> 00:01:58.670\nreally out of the gate, is implement\na domain controller based security policy.\n\n41\n00:01:58.670 --> 00:02:04.469\nA group policy, manipulate and modify that\nto turn on in the KDC area the use of KDC\n\n42\n00:02:04.469 --> 00:02:09.730\nsupport for the extension of Kerberos\nto allow for these attributes.\n\n43\n00:02:09.730 --> 00:02:12.040\nSo if you wanna join me here,\nwe'll take a look at where that is.\n\n44\n00:02:12.040 --> 00:02:15.844\nSo I'm in the domain controller,\nI'm in the Group Policy Management Editor,\n\n45\n00:02:15.844 --> 00:02:18.330\nspecifically, in the domain controller.\n\n46\n00:02:18.330 --> 00:02:20.540\nAnd this is a domain level function.\n\n47\n00:02:20.540 --> 00:02:22.600\nSo I am on my default domain policy,\n\n48\n00:02:22.600 --> 00:02:27.420\nas you can see right up there,\nover there, whatever our domain will be.\n\n49\n00:02:27.420 --> 00:02:30.110\nAnd I've gone into the computer\nconfiguration area,\n\n50\n00:02:30.110 --> 00:02:33.310\ngone into Administrative Templates,\nas you can see.\n\n51\n00:02:33.310 --> 00:02:40.570\nGone into System, come down here, and\nI've come to the KDC folder right here.\n\n52\n00:02:40.570 --> 00:02:44.879\nAnd inside the KDC folder, KDC support for\nclaims, compound authentication and\n\n53\n00:02:44.879 --> 00:02:49.100\nKerberos armoring, is what it says,\nthat's what we're looking for.\n\n54\n00:02:49.100 --> 00:02:54.100\nVery first item right here, when I hover,\nlet me just move this over a little bit so\n\n55\n00:02:54.100 --> 00:02:55.390\nyou can kind of see the whole thing.\n\n56\n00:02:55.390 --> 00:02:57.670\nIt is a long title, but\nyou can see it right there.\n\n57\n00:02:57.670 --> 00:03:01.330\nSo that's the one we're gonna turn on,\nnotice not configured by default,\n\n58\n00:03:01.330 --> 00:03:05.310\nthis is the default domain policy,\nhave not made any changes to it at all.\n\n59\n00:03:05.310 --> 00:03:07.800\nWe're gonna go ahead,\nwe're gonna enable this.\n\n60\n00:03:07.800 --> 00:03:10.510\nNow enabling it by itself is not enough,\n\n61\n00:03:10.510 --> 00:03:12.970\nmeaning we're gonna make a choice here,\naside from enabling.\n\n62\n00:03:12.970 --> 00:03:14.320\nSo we're gonna turn it on.\n\n63\n00:03:14.320 --> 00:03:17.140\nSome of these settings are just enable,\nboom, and we're done.\n\n64\n00:03:17.140 --> 00:03:19.140\nOthers you actually have to go in and\n\n65\n00:03:19.140 --> 00:03:22.150\nmake a choice and\nspecify what this is gonna be.\n\n66\n00:03:22.150 --> 00:03:25.882\nSo we have to choose here,\nclaims compound authentication for DAC and\n\n67\n00:03:25.882 --> 00:03:27.470\nKerberos armoring options.\n\n68\n00:03:27.470 --> 00:03:30.250\nIs it supported, is it not supported?\n\n69\n00:03:30.250 --> 00:03:33.830\nObviously, clearly, that would not make a\nlot of sense if we're gonna enable it, so\n\n70\n00:03:33.830 --> 00:03:34.730\nsupported.\n\n71\n00:03:34.730 --> 00:03:38.760\nAlways provide claims for fail unarmored\nauthentication requests, meaning if they\n\n72\n00:03:38.760 --> 00:03:42.500\ndon't provide the claims, then we are not\ngoing to allow them to authenticate.\n\n73\n00:03:42.500 --> 00:03:43.780\nSo we have different options here,\n\n74\n00:03:43.780 --> 00:03:46.340\nwe have to choose what we're gonna do,\nhow we're gonna do that.\n\n75\n00:03:46.340 --> 00:03:51.760\nWe would most likely put in Supported,\nmeaning negotiate, right?\n\n76\n00:03:51.760 --> 00:03:54.460\nAnd if it is gonna be used or\nif it is available we'll use it,\n\n77\n00:03:54.460 --> 00:03:57.760\nif it's not we'll still allow\nauthentication to take place.\n\n78\n00:03:57.760 --> 00:03:59.650\nAlways provide claims,\n\n79\n00:03:59.650 --> 00:04:03.940\nforce the use of claims to specify\nthat we will require the claims.\n\n80\n00:04:03.940 --> 00:04:06.070\nAnd fail if claims are not provided,\nright?\n\n81\n00:04:06.070 --> 00:04:08.950\nSo we have some different settings here,\nobviously you'll make a choice.\n\n82\n00:04:08.950 --> 00:04:12.050\nWe're not really too worried about\nthis for purposes of demonstration\n\n83\n00:04:12.050 --> 00:04:15.000\ncuz I'm just going through and\nshowing you the moving parts and pieces.\n\n84\n00:04:15.000 --> 00:04:17.240\nSo I'm just telling you\nwhat you would select here.\n\n85\n00:04:17.240 --> 00:04:20.695\nThe choice we make is really kind of\nirrelevant for our purposes here.\n\n86\n00:04:20.695 --> 00:04:23.645\nBut I'm just gonna put Supported in,\njust so you know what it is.\n\n87\n00:04:23.645 --> 00:04:27.705\nAnd then we're gonna go ahead and we're\ngonna go down there, gonna hit that so\n\n88\n00:04:27.705 --> 00:04:29.635\nthat we can set that up and enabled.\n\n89\n00:04:29.635 --> 00:04:32.965\nI'm getting real good with using\nthe force to navigate without those\n\n90\n00:04:32.965 --> 00:04:34.115\nbuttons being available.\n\n91\n00:04:34.115 --> 00:04:36.515\nYears ago that would have\nbeen a show stopper for me.\n\n92\n00:04:36.515 --> 00:04:39.093\nNow I'm like that's not a big deal,\njust tab through there.\n\n93\n00:04:39.093 --> 00:04:41.923\nBut you could see, because of the way in\nwhich the screen comes up as you've seen\n\n94\n00:04:41.923 --> 00:04:44.431\nin some other episodes, I can't\nalways see the button at the bottom.\n\n95\n00:04:44.431 --> 00:04:46.490\n&gt;&gt; Yes, super adaptive there, Adam.\n\n96\n00:04:46.490 --> 00:04:47.445\n&gt;&gt; I'm trying really hard.\n\n97\n00:04:47.445 --> 00:04:49.048\n&gt;&gt; [LAUGH]\n&gt;&gt; That and I'm eating more broccoli,\n\n98\n00:04:49.048 --> 00:04:51.536\nit's helping,\nall sorts of good stuff comes from that.\n\n99\n00:04:51.536 --> 00:04:52.396\n&gt;&gt; Okay.\n&gt;&gt; All right,\n\n100\n00:04:52.396 --> 00:04:54.194\nso we're gonna go ahead,\nwe're gonna enable.\n\n101\n00:04:54.194 --> 00:04:57.690\nSo you can see we turned that policy on,\nvery important.\n\n102\n00:04:57.690 --> 00:05:02.750\nThe other policies here, the other options\nI should say in the KDC, not important for\n\n103\n00:05:02.750 --> 00:05:04.540\nus with regards to DAC.\n\n104\n00:05:04.540 --> 00:05:08.020\nThis is the one that really specifies\nany significance around DAC, but\n\n105\n00:05:08.020 --> 00:05:10.500\nthere are other settings here,\nit'd be up to us to decide whether or\n\n106\n00:05:10.500 --> 00:05:12.020\nnot we need to worry about those.\n\n107\n00:05:12.020 --> 00:05:15.250\nAll right, so we've done the group\npolicy piece, just so you've seen that.\n\n108\n00:05:15.250 --> 00:05:18.943\nNow I mentioned that the other\nthing we would be looking at and\n\n109\n00:05:18.943 --> 00:05:21.996\ndoing with regards to DAC\nwould be to go into ADAC.\n\n110\n00:05:21.996 --> 00:05:24.230\nSee how that comes together?\n\n111\n00:05:24.230 --> 00:05:25.025\nThat's just awesome, right?\n\n112\n00:05:25.025 --> 00:05:28.848\nSo DAC, we're talking about\nDynamic Access Control, ADAC,\n\n113\n00:05:28.848 --> 00:05:31.530\nActive Directory Administrative Center.\n\n114\n00:05:31.530 --> 00:05:32.902\nI've mentioned this tool before.\n\n115\n00:05:32.902 --> 00:05:38.240\nAnd you open up ADAC, just minimize\nthis so you can see where we are.\n\n116\n00:05:38.240 --> 00:05:41.640\nI'm in the Server Manager here,\nand we go to Tools and we can find\n\n117\n00:05:41.640 --> 00:05:45.430\nADAC typically right at the top of\nthe list there on the domain controller.\n\n118\n00:05:45.430 --> 00:05:48.382\nRemember ADAC brings together a lot\nof the other individual tools,\n\n119\n00:05:48.382 --> 00:05:49.480\nas we've talked about.\n\n120\n00:05:49.480 --> 00:05:53.128\nThe Active Directory user and computer\ntool, sites and services, domains and\n\n121\n00:05:53.128 --> 00:05:53.990\ntrusts, etc.\n\n122\n00:05:53.990 --> 00:05:57.420\nWe have access to a lot of different\nfunctionality by using this tool.\n\n123\n00:05:57.420 --> 00:06:00.570\nSo we're gonna load ADAC,\nI've just opened it up and\n\n124\n00:06:00.570 --> 00:06:03.091\nbasically brought it up so\nwe could see it.\n\n125\n00:06:03.091 --> 00:06:06.942\nAnd then in the ADAC tool,\naside from the domain here,\n\n126\n00:06:06.942 --> 00:06:09.891\npractice labs or whatever our domain is.\n\n127\n00:06:09.891 --> 00:06:12.907\nYou'll see I click,\nI get access to all my OUs,\n\n128\n00:06:12.907 --> 00:06:15.935\nI have the ability over\nhere to be able to go New.\n\n129\n00:06:15.935 --> 00:06:20.564\nAnd you see I can create groups, users,\ncomputers, so Active Directory users and\n\n130\n00:06:20.564 --> 00:06:22.627\ncomputers functionality is there.\n\n131\n00:06:22.627 --> 00:06:26.820\nI can see properties of everything,\nI can raise domain functionality.\n\n132\n00:06:26.820 --> 00:06:30.653\nAnd farced domain levels here, so\nthe Active Directory domains and trusts,\n\n133\n00:06:30.653 --> 00:06:34.105\nsites and services functionality,\nsome of that is here.\n\n134\n00:06:34.105 --> 00:06:37.955\nSo I have the capability to deal with the\nFSMO roles by changing domain controller\n\n135\n00:06:37.955 --> 00:06:38.665\nassignments.\n\n136\n00:06:38.665 --> 00:06:42.635\nA lot of different stuff can be done here,\nit's a very powerful and useful tool.\n\n137\n00:06:42.635 --> 00:06:45.157\nWe're not interested in those\nfunctionalities right now.\n\n138\n00:06:45.157 --> 00:06:48.664\nMay become important later, when we\ntalk about domains, and trusts, and\n\n139\n00:06:48.664 --> 00:06:49.787\nall that kind of stuff.\n\n140\n00:06:49.787 --> 00:06:52.716\nMay have a reason to come back in\nhere every so often, but for now,\n\n141\n00:06:52.716 --> 00:06:54.864\njust pointing out that\nthese things are there.\n\n142\n00:06:54.864 --> 00:06:57.630\nWe're gonna come down here and\nspend some time on the DAC,\n\n143\n00:06:57.630 --> 00:07:00.747\nDynamic Access Control area,\nI'm hovering over it right here.\n\n144\n00:07:00.747 --> 00:07:03.188\nWe could just click and\nor double click and\n\n145\n00:07:03.188 --> 00:07:05.989\nyou'll see we see pop out\na set of options here.\n\n146\n00:07:05.989 --> 00:07:09.768\nAnd this is really where the architecture\nand the configuration for\n\n147\n00:07:09.768 --> 00:07:11.158\nDAC is gonna take place,\n\n148\n00:07:11.158 --> 00:07:15.810\naside from setting up the policy support\non the domain controller as we indicated.\n\n149\n00:07:15.810 --> 00:07:17.460\nAnd there are a couple of other things.\n\n150\n00:07:17.460 --> 00:07:21.710\nWe may go into the policy editor to\ndo managing and monitoring of DAC.\n\n151\n00:07:21.710 --> 00:07:25.056\nIf we wanna stage some of the policies,\nmay go in and modify a policy,\n\n152\n00:07:25.056 --> 00:07:27.900\nbe able to do some staging in there for\nadvanced auditing.\n\n153\n00:07:27.900 --> 00:07:31.170\nWe'd have to enable auditing features,\nto be able to audit the use of DAC.\n\n154\n00:07:31.170 --> 00:07:33.335\nBut those are pretty standard things,\nyou can easily go and\n\n155\n00:07:33.335 --> 00:07:34.338\nfigure out what those are.\n\n156\n00:07:34.338 --> 00:07:37.077\nHere's rather we're probably\ngonna spend time, and\n\n157\n00:07:37.077 --> 00:07:40.780\nreally make sure that you have a sense\nof the five different moving parts.\n\n158\n00:07:40.780 --> 00:07:44.150\nThe components here that just have to\nbe addressed and how we deal with them.\n\n159\n00:07:44.150 --> 00:07:47.430\nWe've mentioned most of these already,\ntalked about access policies,\n\n160\n00:07:47.430 --> 00:07:49.170\nrules, claims, claims types.\n\n161\n00:07:49.170 --> 00:07:50.743\nWent through a lot of this\nin our prior discussion.\n\n162\n00:07:50.743 --> 00:07:53.842\nBut just named them and said briefly,\nthis is what this is, or, hey,\n\n163\n00:07:53.842 --> 00:07:54.842\nthis is what it'll do.\n\n164\n00:07:54.842 --> 00:07:58.116\nAnd remember in FSRM we did this,\nand it's kind of the same thing.\n\n165\n00:07:58.116 --> 00:08:00.495\nBut we're just gonna take a look\nat where they are right now, okay.\n\n166\n00:08:00.495 --> 00:08:02.317\nSo, what we're gonna do for\nthe next few minutes.\n\n167\n00:08:02.317 --> 00:08:03.784\nJust do a little window shopping and\ntake a look at what's going on.\n\n168\n00:08:03.784 --> 00:08:05.043\n&gt;&gt; Navigating.\n\n169\n00:08:05.043 --> 00:08:06.109\n&gt;&gt; Navigating.\n\n170\n00:08:06.109 --> 00:08:06.880\n&gt;&gt; Navigating.\n\n171\n00:08:06.880 --> 00:08:08.684\n&gt;&gt; If I could only find my boat key.\n\n172\n00:08:08.684 --> 00:08:10.550\n[LAUGH]\n&gt;&gt; Like I said,\n\n173\n00:08:10.550 --> 00:08:13.110\ncall those rich people problems, right?\n\n174\n00:08:13.110 --> 00:08:16.899\nAll right, so dynamic access controlled,\ncentral access policies just so\n\n175\n00:08:16.899 --> 00:08:18.210\nyou can see what they are.\n\n176\n00:08:18.210 --> 00:08:22.785\nThe central access rules, the claim types,\nthe resource properties and\n\n177\n00:08:22.785 --> 00:08:24.420\nresource property list.\n\n178\n00:08:24.420 --> 00:08:29.273\nNow, most of these will have at least one\nor more items seen with them already.\n\n179\n00:08:29.273 --> 00:08:32.942\nI have not modified them anyway, in other\nwords, I haven't created any new anything.\n\n180\n00:08:32.942 --> 00:08:35.557\nSo let's take a look at what's their\nfirst, and then we can right click and\n\n181\n00:08:35.557 --> 00:08:37.810\nrun through some wizard,\ntalk about what's there.\n\n182\n00:08:37.810 --> 00:08:38.620\nSo you'll see here,\n\n183\n00:08:38.620 --> 00:08:41.570\nif I double click on any one of these,\nI'll be able to drill down.\n\n184\n00:08:41.570 --> 00:08:45.430\nNow for central access policies,\nno policies created by default,\n\n185\n00:08:45.430 --> 00:08:48.510\nbecause we don't really have an idea\nof what kind of policies we would want,\n\n186\n00:08:48.510 --> 00:08:49.120\nhow they would work.\n\n187\n00:08:49.120 --> 00:08:52.120\nSo those we're gonna have to\ncreate on our own, right?\n\n188\n00:08:52.120 --> 00:08:57.170\nNew CAP or central access policy, we'll\ntake a look at that in just a minute.\n\n189\n00:08:57.170 --> 00:08:59.620\nLet's just navigate back\nout here one second.\n\n190\n00:08:59.620 --> 00:09:02.692\nGo back to DAC, central access rules.\n\n191\n00:09:02.692 --> 00:09:05.840\nDouble-click, again,\nno rules yet as you can see.\n\n192\n00:09:05.840 --> 00:09:07.980\nWe'll obviously, have to create\nthose along with the policies,\n\n193\n00:09:07.980 --> 00:09:09.390\nthink about the logic of that.\n\n194\n00:09:09.390 --> 00:09:12.400\nThat makes sense, because we're not\ngonna know what kind of policies and\n\n195\n00:09:12.400 --> 00:09:15.530\nrules we want until we start getting in\nthere and playing around with some stuff.\n\n196\n00:09:15.530 --> 00:09:18.150\nSo, we're gonna go back and\ntake a look at those.\n\n197\n00:09:18.150 --> 00:09:21.190\nClaim types,\nwe've talked about claim types with FSRM.\n\n198\n00:09:21.190 --> 00:09:24.260\nSo we do see claim type here for\nauthentication silo,\n\n199\n00:09:24.260 --> 00:09:26.320\nthere is at least one claim that is here.\n\n200\n00:09:26.320 --> 00:09:28.320\nWe will certainly put some others in, but\n\n201\n00:09:28.320 --> 00:09:30.860\nwe just have to be aware of the fact\nthat we do start out with some.\n\n202\n00:09:30.860 --> 00:09:33.050\nSo just be aware of that.\n\n203\n00:09:33.050 --> 00:09:36.960\nThen, we do have our resource properties.\n\n204\n00:09:36.960 --> 00:09:39.460\nThere will be resource\nproperties built in by default,\n\n205\n00:09:39.460 --> 00:09:42.140\nthere are several of them as you can see.\n\n206\n00:09:42.140 --> 00:09:46.380\nCompany, compliancy, confidentiality,\ndepartment, discoverability, etc.\n\n207\n00:09:46.380 --> 00:09:49.171\nNow, in Windows 12,\nwe would see less of these.\n\n208\n00:09:49.171 --> 00:09:50.510\nIn 12 R 2, we see more.\n\n209\n00:09:50.510 --> 00:09:54.250\nSo this is a little more extensive\nin 12 R2 than it would be in 12.\n\n210\n00:09:54.250 --> 00:09:58.463\nBut that's just a matter of just how many\nof the specifically, in this case, just\n\n211\n00:09:58.463 --> 00:10:02.632\nhow many of these resource properties may\nbe defined ahead of time by the system.\n\n212\n00:10:02.632 --> 00:10:06.958\nBut we do have the ability to go in and\ndefine our own if we want to as well, and\n\n213\n00:10:06.958 --> 00:10:08.970\nthen resource property lists.\n\n214\n00:10:08.970 --> 00:10:13.000\nWe have a global resource property list\nhere as you can see, kind of a catch-all\n\n215\n00:10:13.000 --> 00:10:16.740\ncontainer, much like the GAL,\nthe Global Address List for Exchange.\n\n216\n00:10:16.740 --> 00:10:19.535\nIt's a container that holds all the\nproperties that have been defined already.\n\n217\n00:10:19.535 --> 00:10:23.250\nAnd then we can create specific property\nlists if we need to for some reason.\n\n218\n00:10:23.250 --> 00:10:26.450\nAll right, so, [COUGH] let us, yes?\n\n219\n00:10:26.450 --> 00:10:29.740\n&gt;&gt; And the term global just kind of\nprompted a question here I'm thinking.\n\n220\n00:10:29.740 --> 00:10:34.960\nSo, in previously, we talked about\nthis technology being available\n\n221\n00:10:34.960 --> 00:10:40.390\non forest level,\nto be applied at a forest-based level.\n\n222\n00:10:40.390 --> 00:10:43.500\nSo when we configured them on this one\nmachine, would there be additional\n\n223\n00:10:43.500 --> 00:10:46.550\nconfigurations that we would need to do,\nif we were trying to implement these\n\n224\n00:10:46.550 --> 00:10:50.390\npolicies through multiple domains or\nwould this be it for us?\n\n225\n00:10:51.690 --> 00:10:55.298\n&gt;&gt; So what we talked about with DAC, and\nwhat we talked about specific to DAC is\n\n226\n00:10:55.298 --> 00:10:59.104\nthat the claimant dictionary, right,\nis gonna be a farce level dictionary.\n\n227\n00:10:59.104 --> 00:11:02.530\nIn other words, it's gonna standardize and\nbe available across the farce.\n\n228\n00:11:02.530 --> 00:11:05.261\nAnd, although we are operating,\nto Cherokee's point,\n\n229\n00:11:05.261 --> 00:11:08.605\non a single domain controller,\nin this case let's just say in theory,\n\n230\n00:11:08.605 --> 00:11:12.231\none of several, perhaps, and one of\nseveral domains practicelabs.com and\n\n231\n00:11:12.231 --> 00:11:14.936\nmaybe there are other domains\nin the forest, who knows.\n\n232\n00:11:14.936 --> 00:11:19.588\nBut through replication, remember, were\ngonna be able to, these policies first\n\n233\n00:11:19.588 --> 00:11:23.650\nof all, are going to apply, so\nthey will be used and we can specify them.\n\n234\n00:11:23.650 --> 00:11:25.320\nAnd so actually lets,\nlet me do it this way.\n\n235\n00:11:25.320 --> 00:11:27.262\nLet's take a look at one and\nwe'll talk about it along the way.\n\n236\n00:11:27.262 --> 00:11:28.480\n&gt;&gt; Okay.\n&gt;&gt; Let's take a look at central\n\n237\n00:11:28.480 --> 00:11:30.080\naccess policies.\n\n238\n00:11:30.080 --> 00:11:31.319\nLet's go in here.\n\n239\n00:11:32.705 --> 00:11:34.668\nLet's take a look here, just one second.\n\n240\n00:11:35.852 --> 00:11:39.830\nJust have our little wizard here,\nand this is a full screen wizard.\n\n241\n00:11:39.830 --> 00:11:43.419\nSo could we go full screen just coz we're\ngonna miss some detail there if we don't.\n\n242\n00:11:43.419 --> 00:11:46.257\nOkay, and even then, we're still gonna be\nmissing some [LAUGH] let me have a second.\n\n243\n00:11:46.257 --> 00:11:48.997\nI just have to go ahead and minimize\nthe taskbar down here, cuz otherwise,\n\n244\n00:11:48.997 --> 00:11:51.823\nyou're not gonna be able to see, I'm\nnot gonna be able to see, I should say,\n\n245\n00:11:51.823 --> 00:11:52.930\nwhat's going on down there.\n\n246\n00:11:52.930 --> 00:11:55.080\nWe need to be able to see the button,\nthere so we can get to it.\n\n247\n00:11:55.080 --> 00:11:58.020\nAll right, so\nyou'll see here we have a name, right.\n\n248\n00:11:58.020 --> 00:12:00.750\nThis contains several different\naccess control rules or\n\n249\n00:12:00.750 --> 00:12:02.460\naccess rules that will be used.\n\n250\n00:12:02.460 --> 00:12:05.030\nAnd we're not gonna be able to add\nthe rules in yet, I'm just showing you\n\n251\n00:12:05.030 --> 00:12:08.460\nthat the logic of building this, will be\nwe have to have rules to feed the policy.\n\n252\n00:12:08.460 --> 00:12:11.310\nSo, we're gonna go specify couple\nof rules and build the policy.\n\n253\n00:12:11.310 --> 00:12:13.840\nPolicies are containers that\nbring rules together, and\n\n254\n00:12:13.840 --> 00:12:16.250\nthen get applied right across the domain.\n\n255\n00:12:16.250 --> 00:12:19.760\nNow, to your point, remember,\nsince we're setting up the group policy\n\n256\n00:12:19.760 --> 00:12:22.980\nthat allows for\nKerberos armoring in this domain.\n\n257\n00:12:22.980 --> 00:12:25.660\nWe'd have to go through each domain and\nset up a group policy that does that,\n\n258\n00:12:25.660 --> 00:12:28.240\nbecause group policies are not\nshared between domains.\n\n259\n00:12:28.240 --> 00:12:31.342\nThey're not inheritable in other words,\nacross domains.\n\n260\n00:12:31.342 --> 00:12:34.390\nAnd the domain is a boundary for\na group policy in that respect.\n\n261\n00:12:34.390 --> 00:12:39.220\nSo we're setting this at the group policy\nlevel, excuse me, we're setting the group\n\n262\n00:12:39.220 --> 00:12:43.720\npolicy to enable Kerberos armoring support\nclaim, support for DAC at the domain\n\n263\n00:12:43.720 --> 00:12:47.788\nlevel with the default domain policy,\nnot through the forest, right.\n\n264\n00:12:47.788 --> 00:12:49.757\n&gt;&gt; Yeah.\n&gt;&gt; We're not propagating that because\n\n265\n00:12:49.757 --> 00:12:52.838\nsecurity related settings\nare modified at the domain level.\n\n266\n00:12:52.838 --> 00:12:55.301\nAnd those domain policies do\nnot play between domain, so\n\n267\n00:12:55.301 --> 00:12:58.480\nthere's no inheritance group\npolicies between domains.\n\n268\n00:12:58.480 --> 00:13:02.200\nWe can link them, but they're not\ninherited out of the box and so\n\n269\n00:13:02.200 --> 00:13:05.643\nas a result, there's no knowledge\nof these policies between domains.\n\n270\n00:13:05.643 --> 00:13:09.909\nSo while declaim and dictionary as far as\nlevel, we would have to configure rules\n\n271\n00:13:09.909 --> 00:13:14.051\nand policies and the application of this\nthrough the group policy at the domain\n\n272\n00:13:14.051 --> 00:13:17.335\nlevel, so that we can then have\nthem applied in every domain.\n\n273\n00:13:17.335 --> 00:13:22.231\nBecause we don't enable as you saw through\nthe group policy setting I showed you.\n\n274\n00:13:22.231 --> 00:13:25.252\nSupport for this, then DAC cannot\nbe applied in that domain because\n\n275\n00:13:25.252 --> 00:13:27.800\nthe group policy will not be\nthere to support or drive it.\n\n276\n00:13:27.800 --> 00:13:29.687\nSo, it would be a domain\nbased setting in that\n\n277\n00:13:29.687 --> 00:13:30.357\nrespect-\n&gt;&gt; Thank you.\n\n278\n00:13:30.357 --> 00:13:31.620\n&gt;&gt; So we do need to be aware of that.\n\n279\n00:13:31.620 --> 00:13:34.190\nIt's a good question, it's just that\nit's easier to see the logic of it\n\n280\n00:13:34.190 --> 00:13:35.620\nas we're starting to walk through it.\n\n281\n00:13:35.620 --> 00:13:36.730\nAll right, so let's start with our rules.\n\n282\n00:13:36.730 --> 00:13:39.610\nSo I still have a couple of things\nto put into the policy container.\n\n283\n00:13:39.610 --> 00:13:42.790\nSo we'll go here, rules, just bring\nthis up real quick, right click,\n\n284\n00:13:42.790 --> 00:13:44.520\nsame idea new rule, right.\n\n285\n00:13:44.520 --> 00:13:46.730\nSo a central access rule, again real big.\n\n286\n00:13:46.730 --> 00:13:48.110\nThere we go, thank you very much.\n\n287\n00:13:48.110 --> 00:13:50.500\nReal big window, it's got a few\nthings we got to deal with here.\n\n288\n00:13:50.500 --> 00:13:51.960\nSo let's start with a name, right.\n\n289\n00:13:51.960 --> 00:13:55.710\nSo I'll call this rule one,\nwe don't have to get too creative,\n\n290\n00:13:55.710 --> 00:13:57.630\nwe're just walking through the logic here.\n\n291\n00:13:57.630 --> 00:14:00.540\nAgain, Cherokee's point,\nwrite a description, right, so.\n\n292\n00:14:01.580 --> 00:14:05.810\nHappy Friday, right, whatever that may be.\n\n293\n00:14:05.810 --> 00:14:07.610\nProtect from accidental deletion, right?\n\n294\n00:14:07.610 --> 00:14:11.560\nSo we're enabling accidental deletion\nprotection, so obviously, this is good.\n\n295\n00:14:11.560 --> 00:14:14.672\nIt means somebody can't come along and\njust right click and choose to delete it,\n\n296\n00:14:14.672 --> 00:14:16.914\nthey have to follow the process\nthat will be presented, or\n\n297\n00:14:16.914 --> 00:14:18.400\nrather prevented, from doing that.\n\n298\n00:14:18.400 --> 00:14:19.070\nWe'll get a prompt.\n\n299\n00:14:19.070 --> 00:14:22.250\nThere's other stuff instead of just\ndelete, where we actually delete, or\n\n300\n00:14:22.250 --> 00:14:24.370\nrather cannot delete\nunless we acknowledge.\n\n301\n00:14:24.370 --> 00:14:25.720\nAll right, so target resources.\n\n302\n00:14:25.720 --> 00:14:29.980\nIndicate a list of criteria to scope the\nresources, click at it to change criteria.\n\n303\n00:14:29.980 --> 00:14:31.157\nSo you'll see we'll go in here.\n\n304\n00:14:31.157 --> 00:14:34.100\nNow notice there are no resource\nproperties in this forest, right?\n\n305\n00:14:34.100 --> 00:14:38.360\nI talked about this dependency\nbetween rules and policies, right?\n\n306\n00:14:38.360 --> 00:14:41.130\nBut rules themselves\nare dependent on something.\n\n307\n00:14:41.130 --> 00:14:45.540\nAnd rules are dependent on,\nas you can see, right?\n\n308\n00:14:45.540 --> 00:14:48.310\nRules, there we go, are dependent on\n\n309\n00:14:48.310 --> 00:14:51.550\nour ability to be able to have are claim\ntypes, our resource properties, etc.\n\n310\n00:14:51.550 --> 00:14:53.910\nSo, we're building out all\nthis stuff in this lodging,\n\n311\n00:14:53.910 --> 00:14:55.160\nwe have to build it all as we go.\n\n312\n00:14:55.160 --> 00:14:56.630\nNow we can create the rule.\n\n313\n00:14:56.630 --> 00:15:00.070\nGo back and edit it and add to it later,\nit's not like it's a big deal.\n\n314\n00:15:00.070 --> 00:15:04.020\nWe don't have to necessarily have\nall those things in one place, but\n\n315\n00:15:04.020 --> 00:15:06.200\nlet's just go and\nlet's just take a look here.\n\n316\n00:15:06.200 --> 00:15:12.950\nResource properties, so for\ninstance here, You'll see we can enable.\n\n317\n00:15:12.950 --> 00:15:16.790\nNotice that, right now,\nthey are not turned on necessarily, right.\n\n318\n00:15:16.790 --> 00:15:20.159\nAnd so we can decide to use these, and\n\n319\n00:15:20.159 --> 00:15:24.960\nwe can decide, Whether or\nnot we want to use them.\n\n320\n00:15:24.960 --> 00:15:28.810\nYou'll see right now, just sorted, just so\nyou could see that you're not referenced.\n\n321\n00:15:28.810 --> 00:15:33.577\nBut if I choose to enable, and\nI can go ahead and do that, enable true.\n\n322\n00:15:33.577 --> 00:15:36.799\nI could decide that I wanna use one or\nmore of these, because right now,\n\n323\n00:15:36.799 --> 00:15:39.370\nyou see enabled false,\nthey're not being used.\n\n324\n00:15:39.370 --> 00:15:42.070\nOr in other words, we're not invoking\nthem, we're not making them available.\n\n325\n00:15:42.070 --> 00:15:44.670\nSo let's choose confidentiality.\n\n326\n00:15:44.670 --> 00:15:48.671\nLet me maybe say, I don't know,\nwe'll do department as well.\n\n327\n00:15:48.671 --> 00:15:49.855\nIt doesn't really matter.\n\n328\n00:15:49.855 --> 00:15:52.638\nBut let's just take a look at one of\nthese just properties real quick,\n\n329\n00:15:52.638 --> 00:15:53.541\njust to see what it is.\n\n330\n00:15:53.541 --> 00:15:55.643\nYou could see the property screen here.\n\n331\n00:15:55.643 --> 00:16:00.044\nWe do have the display name,\na single value choice.\n\n332\n00:16:00.044 --> 00:16:01.425\nFor a value type.\n\n333\n00:16:01.425 --> 00:16:03.420\nWe went through some\nof this with the FSRM.\n\n334\n00:16:03.420 --> 00:16:06.812\nSo you should have a sense if you've seen\nthose episodes of the kind of things we're\n\n335\n00:16:06.812 --> 00:16:08.470\nlooking at with claims and properties.\n\n336\n00:16:08.470 --> 00:16:09.530\nWe went through this.\n\n337\n00:16:09.530 --> 00:16:12.780\nSo you could see here that we have\nthe ability to be able to go in and\n\n338\n00:16:12.780 --> 00:16:17.540\nadd suggested values if we want to and\nwe scroll down so you could see here.\n\n339\n00:16:17.540 --> 00:16:23.190\nWe do have the ability to be\nable to modify and add security,\n\n340\n00:16:23.190 --> 00:16:29.030\nas well as access in the extensions to be\nable to add or work with these as needed.\n\n341\n00:16:29.030 --> 00:16:30.880\nSo we have the ability\nto be able to go in and\n\n342\n00:16:30.880 --> 00:16:33.440\nmodify these properties if necessary, but\n\n343\n00:16:33.440 --> 00:16:36.810\nwe're probably just gonna be okay with the\nones that we already have for the moment.\n\n344\n00:16:36.810 --> 00:16:39.290\nWe're not gonna actually\nmake any changes here.\n\n345\n00:16:39.290 --> 00:16:43.250\nLet's go in, let's just look\nat claims types real quick and\n\n346\n00:16:43.250 --> 00:16:48.160\nlet's just take a look at claim type\nhere and we'll see a claim type this is\n\n347\n00:16:48.160 --> 00:16:53.160\nessentially assertion as we talk about\nthe object and is being associated with\n\n348\n00:16:53.160 --> 00:16:56.490\nwhich it is being associated,\nwe talked about claims and how they work.\n\n349\n00:16:56.490 --> 00:16:59.840\nIt's based on an active directory\nattribute used to define permissions\n\n350\n00:16:59.840 --> 00:17:01.930\nwhen offering central access rules, right?\n\n351\n00:17:01.930 --> 00:17:07.010\nSo when we go in and we take a look here,\nwhatever the case may be, account expires.\n\n352\n00:17:07.010 --> 00:17:10.260\nI'm just clicking on each one, as you\ncan see, kind of moving through them,\n\n353\n00:17:10.260 --> 00:17:15.840\nwhatever it is, you'll see that we\nare then able to see the display name.\n\n354\n00:17:15.840 --> 00:17:19.750\nWe're able to specify claims of\nthis type can be issued for or\n\n355\n00:17:19.750 --> 00:17:22.510\nused with the following classes,\nusers or computers and\n\n356\n00:17:22.510 --> 00:17:27.110\nnow we talk about computers being device\nclaims, whereas users are user claims,\n\n357\n00:17:27.110 --> 00:17:29.080\nwe talked about the difference\nbetween the two.\n\n358\n00:17:29.080 --> 00:17:33.230\nAnd so we can specify, you don't go in and\nchange to default settings typically\n\n359\n00:17:33.230 --> 00:17:37.420\nbecause something like your account\nexpires, your computer account could\n\n360\n00:17:37.420 --> 00:17:41.270\nexpire certainly, but typically, we're\ngoing to leave this default settings in\n\n361\n00:17:41.270 --> 00:17:44.870\nplace because these\nare Active Directory attributes.\n\n362\n00:17:44.870 --> 00:17:47.930\nSo we don't wanna start messing around\nthe kind of pipes they are unless we have\n\n363\n00:17:47.930 --> 00:17:51.420\na very specific reason to modify one or\nrecreate new ones, right?\n\n364\n00:17:51.420 --> 00:17:54.370\nWe can create new one that we may actually\ndecide to go on and mess around that.\n\n365\n00:17:54.370 --> 00:17:57.280\nSo we do have the ability in\nhere to be able to go in and\n\n366\n00:17:57.280 --> 00:17:59.770\nspecify what kind of claim it will be.\n\n367\n00:17:59.770 --> 00:18:01.482\nWe could set ID to a numerically,\n\n368\n00:18:01.482 --> 00:18:04.910\nexcuse me, semantically identical\nclaim type in a trusted forest.\n\n369\n00:18:04.910 --> 00:18:07.550\nThis is how we would map\nclaims across the forest, so\n\n370\n00:18:07.550 --> 00:18:10.530\nwe could actually say,\nthis equals this in this other forest.\n\n371\n00:18:10.530 --> 00:18:13.690\nWe talked about this idea of\ncross forest pollination.\n\n372\n00:18:13.690 --> 00:18:17.390\nTrusted forests would be forests that we\nlink to in some way and that merger and\n\n373\n00:18:17.390 --> 00:18:20.580\nacquisition, or whatever we were\ntalking about that may be the case.\n\n374\n00:18:20.580 --> 00:18:23.860\nSo we have the ability here, as you\ncan see, to be able to go through and\n\n375\n00:18:23.860 --> 00:18:26.250\nwork with our claim types,\nlet's just go back here.\n\n376\n00:18:26.250 --> 00:18:31.813\nSo if we go in, we create our rule, let's\ngo in and do that one more time here.\n\n377\n00:18:31.813 --> 00:18:35.626\nAnd let's go in and\ngive this our Name Rule One.\n\n378\n00:18:35.626 --> 00:18:40.900\nRocco 1, [LAUGH]\nclose enough,\n\n379\n00:18:40.900 --> 00:18:42.710\nrule one, and we give it our description.\n\n380\n00:18:45.100 --> 00:18:47.390\nAnd then we have our resources,\n\n381\n00:18:47.390 --> 00:18:50.580\nall resources included in this list\nof criteria, or will be scoped.\n\n382\n00:18:50.580 --> 00:18:52.691\nYou can see all resources are there,\nright?\n\n383\n00:18:52.691 --> 00:18:54.380\nWe can go in and we can edit.\n\n384\n00:18:54.380 --> 00:18:58.490\nIt's gonna add or rather be added\nto all resources by default.\n\n385\n00:18:58.490 --> 00:19:02.600\nBut notice, I could add a condition and\nnotice I could specify here\n\n386\n00:19:02.600 --> 00:19:07.770\nif I want to view this particular\nitem in this case resource, right.\n\n387\n00:19:07.770 --> 00:19:09.090\nConfidentiality department,\n\n388\n00:19:09.090 --> 00:19:12.670\nremember I enabled just those two claims,\nconfidentiality and department.\n\n389\n00:19:12.670 --> 00:19:15.230\nSo I am seeing the ones that I went in and\nenabled.\n\n390\n00:19:15.230 --> 00:19:16.750\nRemember those were all set to defaults.\n\n391\n00:19:16.750 --> 00:19:17.270\n&gt;&gt; Yes.\n&gt;&gt; So\n\n392\n00:19:17.270 --> 00:19:19.920\nthe ones I turned on now\nare the ones that I can use here.\n\n393\n00:19:19.920 --> 00:19:23.170\nObviously, I may want to go back in and\nturn more on, I only did two for\n\n394\n00:19:23.170 --> 00:19:24.940\nthe purposes of demonstration.\n\n395\n00:19:24.940 --> 00:19:26.360\nClearly in the real world,\n\n396\n00:19:26.360 --> 00:19:29.910\nyou'd have to have a list of these things\nunless all you're doing is classifying\n\n397\n00:19:29.910 --> 00:19:34.390\nmaybe a document based on confidentiality\nequal to whatever the value would be,\n\n398\n00:19:34.390 --> 00:19:37.010\nand department equal to whatever\nyou could see obviously.\n\n399\n00:19:37.010 --> 00:19:38.590\nWe could dig through the logic here.\n\n400\n00:19:38.590 --> 00:19:43.010\nIf confidentiality is equal to,\ngreater than, not, it wouldn't really be\n\n401\n00:19:43.010 --> 00:19:47.150\nequal to or greater than or less than,\nbut it could be either exists, right?\n\n402\n00:19:47.150 --> 00:19:52.320\nMeaning as a value it exists or\nwe could say is\n\n403\n00:19:52.320 --> 00:19:56.590\nequal to a value of, and we could\nspecify whatever our value may be.\n\n404\n00:19:56.590 --> 00:20:00.360\nLet's just say in theory,\nwe rated that on a three tiered scale, so\n\n405\n00:20:00.360 --> 00:20:03.370\nwe did that and\nthen we added another condition, and\n\n406\n00:20:03.370 --> 00:20:06.450\nyou could see here I could use a join,\nso an and.\n\n407\n00:20:06.450 --> 00:20:09.430\nSo it has to be resource\nconfidentiality obviously.\n\n408\n00:20:09.430 --> 00:20:11.200\nIn this case,\nwe'd have to choose the second one,\n\n409\n00:20:11.200 --> 00:20:15.770\ndepartment, department equal to or\nnot equal to so maybe any of.\n\n410\n00:20:15.770 --> 00:20:18.325\nWe could specify whatever these are.\n\n411\n00:20:18.325 --> 00:20:21.747\nThese are all perhaps departments\nthat exist right or OUs or groups or\n\n412\n00:20:21.747 --> 00:20:23.320\nwhatever the case may be.\n\n413\n00:20:23.320 --> 00:20:27.690\nSo I could say, if it's in the engineering\nor human resources department for\n\n414\n00:20:27.690 --> 00:20:32.810\ninstance, I have two items selected and\nit has a confidentiality rating of high,\n\n415\n00:20:32.810 --> 00:20:34.957\nthen this is how I'm gonna\nstart processing the rules.\n\n416\n00:20:34.957 --> 00:20:39.590\nThis is where we gather all these\nthings together, the conditions become\n\n417\n00:20:39.590 --> 00:20:45.080\nthe drivers that have to be specified and\nmet positively, whatever that means.\n\n418\n00:20:45.080 --> 00:20:48.960\nHowever, we assess against them or\nwhatever this equals this or\n\n419\n00:20:48.960 --> 00:20:49.850\nthis is not equal to.\n\n420\n00:20:49.850 --> 00:20:53.900\nWhatever the logic is, we just have to\nassess against that, and validate that,\n\n421\n00:20:53.900 --> 00:20:54.800\neither positively or\n\n422\n00:20:54.800 --> 00:20:58.530\nnegatively, in order to understand\nthat this rule could then be applied.\n\n423\n00:20:58.530 --> 00:20:59.920\nSo we'll click OK here.\n\n424\n00:20:59.920 --> 00:21:02.960\nWe've put in the target resources,\ncreated a little bit of a more\n\n425\n00:21:02.960 --> 00:21:07.130\ncomplex logic statement,\nnot just all resources, but rather,\n\n426\n00:21:07.130 --> 00:21:11.580\nlet's target resources that meet these\ncriteria, confidentiality, level of high,\n\n427\n00:21:11.580 --> 00:21:15.220\nand coming from, what did we say,\nengineering, and HR, I think, right?\n\n428\n00:21:15.220 --> 00:21:17.200\nIt's our departments,\nwhatever that would have been.\n\n429\n00:21:17.200 --> 00:21:20.059\nSo that's how we're gonna specify\nthis rule matches, right?\n\n430\n00:21:21.310 --> 00:21:25.210\nSo targeting our resource is a matter of\nfiltering for those particular components,\n\n431\n00:21:25.210 --> 00:21:26.620\nso we're going to be doing that.\n\n432\n00:21:26.620 --> 00:21:28.060\nLet's just scroll down\nhere a little bit so\n\n433\n00:21:28.060 --> 00:21:30.030\nyou could see what's going on down here.\n\n434\n00:21:30.030 --> 00:21:34.130\nAnd then we have permissions,\nuse following permissions as proposed or\n\n435\n00:21:34.130 --> 00:21:36.120\nuse following permissions as current.\n\n436\n00:21:36.120 --> 00:21:39.520\nSo propose permissions are permissions\nthat you want to test out and\n\n437\n00:21:39.520 --> 00:21:40.630\nsee what will happen.\n\n438\n00:21:40.630 --> 00:21:45.060\nThis is like the RSOP tool in\nthe Group Policy Management Console,\n\n439\n00:21:45.060 --> 00:21:46.120\nif you think about it.\n\n440\n00:21:46.120 --> 00:21:49.000\nResolving a set of policies,\nas a matter of fact, while we're here,\n\n441\n00:21:49.000 --> 00:21:49.890\ncould we go back full screen?\n\n442\n00:21:49.890 --> 00:21:52.950\nI'm gonna show you something, but\nI wanna be able to see so I can navigate.\n\n443\n00:21:52.950 --> 00:21:55.050\nI gotta be able to see the taskbar\nfull screen to do this.\n\n444\n00:21:55.050 --> 00:21:59.620\nSo when I'm talking about RSOP,\nif I can get it to come up here,\n\n445\n00:21:59.620 --> 00:22:03.010\nyou know what, I can't get it to\ntrigger while I have the window open.\n\n446\n00:22:03.010 --> 00:22:03.890\nWe'll go there in a minute.\n\n447\n00:22:03.890 --> 00:22:06.220\nI'm just gonna show you the RSOP\ntool in the Group Policy Manager,\n\n448\n00:22:06.220 --> 00:22:07.890\nbut I forgot I have a window open.\n\n449\n00:22:07.890 --> 00:22:10.570\nIt won't toggle the taskbar\nwhile I'm here.\n\n450\n00:22:10.570 --> 00:22:13.130\nSo as soon as we hit OK,\nwe'll go back and we'll take a look.\n\n451\n00:22:13.130 --> 00:22:16.740\nBut the idea would be that we could\ndo this what if, essentially planning\n\n452\n00:22:16.740 --> 00:22:20.050\nthese permissions and it even says here,\nit allows you to audit the results of\n\n453\n00:22:20.050 --> 00:22:23.760\naccess request to target resources\nwithout affecting current system.\n\n454\n00:22:23.760 --> 00:22:28.690\nSo go to the event viewer or whatever\nother tool you wanna use to view the audit\n\n455\n00:22:28.690 --> 00:22:33.200\nlog and this will put an entry in there\nthat says, this is what would happen, this\n\n456\n00:22:33.200 --> 00:22:37.880\nis who would see this resource, this is\nhow it would be accessed if you did this.\n\n457\n00:22:37.880 --> 00:22:41.810\nAnd we can actually track that and\nsee what the application of this thought\n\n458\n00:22:41.810 --> 00:22:45.140\nprocess would be before we actually\nenable it, proposed permissions.\n\n459\n00:22:45.140 --> 00:22:49.615\nWhereas if we do following permissions\nas current, this will grant access\n\n460\n00:22:49.615 --> 00:22:54.055\nessentially apply, and as a result, we are\nactually now applying these permissions\n\n461\n00:22:54.055 --> 00:22:58.615\ndirectly, or this set of rules which\nwill then grant permissions as a result.\n\n462\n00:22:58.615 --> 00:22:59.995\nAnd then let's see if\nthe permissions are done.\n\n463\n00:22:59.995 --> 00:23:01.325\n&gt;&gt; It's kind of like\njumping in the deep end.\n\n464\n00:23:01.325 --> 00:23:02.065\nBetter be ready for it.\n\n465\n00:23:02.065 --> 00:23:03.365\n&gt;&gt; Yeah, let's just not test something.\n\n466\n00:23:03.365 --> 00:23:05.615\nLet's just go turn it on and\nlet's hope for the best.\n\n467\n00:23:05.615 --> 00:23:06.375\n&gt;&gt; Right.\n[LAUGH]\n\n468\n00:23:06.375 --> 00:23:07.755\n&gt;&gt; Clearly, that's a very good\n\n469\n00:23:07.755 --> 00:23:10.045\nadministrative strategy that\nnever gets you in trouble.\n\n470\n00:23:10.045 --> 00:23:10.575\n&gt;&gt; You couldn't go wrong.\n\n471\n00:23:10.575 --> 00:23:11.185\nYou'll never be wrong.\n\n472\n00:23:11.185 --> 00:23:11.845\n&gt;&gt; That works out all the time.\n\n473\n00:23:11.845 --> 00:23:12.920\nYou'll never do wrong, right?\n\n474\n00:23:12.920 --> 00:23:14.495\nAs long as you're Cherokee,\nyou can never be wrong.\n\n475\n00:23:14.495 --> 00:23:16.630\n&gt;&gt; [LAUGH]\n&gt;&gt; So we could modify our permissions,\n\n476\n00:23:16.630 --> 00:23:18.400\nspeaking of whether we're\ngonna do proposed or\n\n477\n00:23:18.400 --> 00:23:20.100\nwhether we're gonna do current.\n\n478\n00:23:20.100 --> 00:23:21.600\nYou could see we can modify them here.\n\n479\n00:23:21.600 --> 00:23:24.420\nI could edit either one of\nthe grants that's already here.\n\n480\n00:23:24.420 --> 00:23:27.860\nSo, built in administrator system,\nowner rights, whatever.\n\n481\n00:23:27.860 --> 00:23:29.800\nWe don't like that whole\nfull control thing.\n\n482\n00:23:29.800 --> 00:23:31.170\nLet's go in and change that.\n\n483\n00:23:31.170 --> 00:23:36.080\nAnd by the way, I wanna add somebody in\nthere, maybe add in Cherokee or myself or\n\n484\n00:23:36.080 --> 00:23:39.770\nsomebody who's a user, specifically,\nwe can go in and do that.\n\n485\n00:23:39.770 --> 00:23:44.140\nSo we can modify any one of these,\nyou know we can do.\n\n486\n00:23:44.140 --> 00:23:47.460\nThis is really just an access\ncontrol list modification.\n\n487\n00:23:47.460 --> 00:23:51.118\nI could edit the settings here, and\nsay instead of allow, I can deny or\n\n488\n00:23:51.118 --> 00:23:52.054\nselect an owner.\n\n489\n00:23:52.054 --> 00:23:54.806\nOr rather select a principal here,\nI can add a user.\n\n490\n00:23:54.806 --> 00:23:58.059\nI have access to advanced permissions,\nnot just my standard basic ones.\n\n491\n00:23:58.059 --> 00:24:00.380\nI could add conditions to limit access.\n\n492\n00:24:00.380 --> 00:24:02.423\nSo I have conditions to filter.\n\n493\n00:24:02.423 --> 00:24:06.780\nBut then, I could add additional\nconditions that have to be specified here.\n\n494\n00:24:06.780 --> 00:24:11.630\nAnd access will be granted, only if\nthe additional conditions are met, but\n\n495\n00:24:11.630 --> 00:24:13.830\nfor this particular group or user.\n\n496\n00:24:13.830 --> 00:24:17.680\nSo I can be prescriptive to\ndo the general filtering, and\n\n497\n00:24:17.680 --> 00:24:22.020\nthat I can add specific instance\nconditions by user or group for\n\n498\n00:24:22.020 --> 00:24:25.400\nadditional grants,\nbefore I actually give them permission.\n\n499\n00:24:25.400 --> 00:24:27.010\nSo it's got a very interesting interface.\n\n500\n00:24:27.010 --> 00:24:31.060\nIt's really does give me incredible\ngranularity to drill down and\n\n501\n00:24:31.060 --> 00:24:35.660\nreally be specific about how I want users\nto be introduced to the resource, and what\n\n502\n00:24:35.660 --> 00:24:39.210\nlevel of permission I want to grant them\nbased on conditions that they are meeting.\n\n503\n00:24:39.210 --> 00:24:42.061\nAnd so hypothetically,\nif I add conditions here.\n\n504\n00:24:42.061 --> 00:24:47.044\n&gt;&gt; Maybe if they are only able to\nmodify permissions if they're operating\n\n505\n00:24:47.044 --> 00:24:49.867\nfrom within the physical office space,\n\n506\n00:24:49.867 --> 00:24:53.870\ninstead of connecting remotely or\nsomething like that.\n\n507\n00:24:53.870 --> 00:24:55.050\n&gt;&gt; Well, so\nlet's take a look since you're asking.\n\n508\n00:24:55.050 --> 00:24:55.661\n&gt;&gt; Okay.\n\n509\n00:24:55.661 --> 00:24:57.491\n[LAUGH]\n&gt;&gt; So I anticipated that.\n\n510\n00:24:57.491 --> 00:25:00.840\nThat's that whole we're in sync thing.\n\n511\n00:25:00.840 --> 00:25:04.860\nSo you'll see we have either user,\nright, us a condition for a group.\n\n512\n00:25:04.860 --> 00:25:06.860\nDevice resource, so\nas Cherokee was saying,\n\n513\n00:25:06.860 --> 00:25:09.920\nhey, maybe it's the computer that we're\ngonna pivot on for that condition.\n\n514\n00:25:09.920 --> 00:25:13.140\nMaybe they have to be on a computer\nthat's domain joined, right?\n\n515\n00:25:13.140 --> 00:25:16.840\nPerhaps or one that is operating on\nthe LAN instead of perhaps from,\n\n516\n00:25:16.840 --> 00:25:18.690\nuse different ways we could think of this.\n\n517\n00:25:18.690 --> 00:25:20.350\nSo let's just take a look\nat some options here.\n\n518\n00:25:20.350 --> 00:25:23.630\nSo device, right,\nauthentication silo or group,\n\n519\n00:25:23.630 --> 00:25:26.920\nwhichever one is it a member of,\nmember of any, member of each,\n\n520\n00:25:26.920 --> 00:25:31.240\nmember of some, whatever the case may be,\nmember of any, right?\n\n521\n00:25:31.240 --> 00:25:33.160\nAnd then click to add items here.\n\n522\n00:25:33.160 --> 00:25:35.000\nNow I don't have anything,\nI have to add here,\n\n523\n00:25:35.000 --> 00:25:36.690\nso is it a member of a certain group?\n\n524\n00:25:36.690 --> 00:25:40.953\nMaybe that computer's a group,\na member of remote accesses, so\n\n525\n00:25:40.953 --> 00:25:43.500\nit's RAS, the RAS access group.\n\n526\n00:25:43.500 --> 00:25:45.980\nSo maybe we wanna trigger\nbased on the fact that,\n\n527\n00:25:45.980 --> 00:25:48.980\nthat computer is only used\nwhen it's coming in remotely.\n\n528\n00:25:48.980 --> 00:25:49.840\n&gt;&gt; Okay.\n&gt;&gt; Well, we could do that,\n\n529\n00:25:49.840 --> 00:25:51.260\njust get creative about that.\n\n530\n00:25:51.260 --> 00:25:55.010\nWe use a group membership that computer\nwould have to be in that group\n\n531\n00:25:55.010 --> 00:25:56.670\nto be able to be granted remote access.\n\n532\n00:25:56.670 --> 00:26:00.670\nSo if it's in that group, then that's\na condition then the coming in remotely,\n\n533\n00:26:00.670 --> 00:26:03.510\nmaybe then, we toggle and\ngive that access, right?\n\n534\n00:26:03.510 --> 00:26:05.700\nSo what you were suggesting\ncould certainly be done,\n\n535\n00:26:05.700 --> 00:26:09.070\nwe would just have to use\nan appropriate group to do that.\n\n536\n00:26:09.070 --> 00:26:12.130\nMaybe, it is a resource.\n\n537\n00:26:12.130 --> 00:26:14.780\nYou'll see here we can change,\nand obviously, the resource is\n\n538\n00:26:14.780 --> 00:26:19.170\nbound by the same conditions that we were\njust specifying when we first did this.\n\n539\n00:26:19.170 --> 00:26:22.120\nSo that's kinda redundant,\nwe wouldn't necessarily do that.\n\n540\n00:26:22.120 --> 00:26:25.330\nBut what we made you is have additional\nconditions that would be there, or\n\n541\n00:26:25.330 --> 00:26:28.420\nrather additional criteria,\nthat we specified for claims.\n\n542\n00:26:28.420 --> 00:26:31.060\nMaybe we didn't activate all\nthe claims on the initial\n\n543\n00:26:31.060 --> 00:26:34.520\ntarget filter to specify the list,\nmaybe we just did two.\n\n544\n00:26:34.520 --> 00:26:39.163\nBut now we could be specific about a user,\nand say, okay, for this group,\n\n545\n00:26:39.163 --> 00:26:42.731\nthis additional claim has to\nbe in place to grant access.\n\n546\n00:26:42.731 --> 00:26:47.699\nSo maybe not just confidentiality and\ndepartment, but maybe we had another one\n\n547\n00:26:47.699 --> 00:26:52.750\nthat was, I don't know, maybe manager,\nright, or something like that.\n\n548\n00:26:52.750 --> 00:26:55.210\nAnd if the direct manager of that group\n\n549\n00:26:55.210 --> 00:26:59.490\nis one of the attributes that the claimant\ncan provide and validate, they get access.\n\n550\n00:26:59.490 --> 00:27:01.260\nBut if it's not, then no.\n\n551\n00:27:01.260 --> 00:27:02.420\nMaybe it's group membership.\n\n552\n00:27:02.420 --> 00:27:05.400\nMaybe the claimant has to be\na member of this particular\n\n553\n00:27:05.400 --> 00:27:07.480\nAD group in order to be given rights.\n\n554\n00:27:07.480 --> 00:27:11.970\nAnd so as a result, we could add that\nadditional criteria per group, and\n\n555\n00:27:11.970 --> 00:27:15.750\nspecify, for patient managers,\nyou get this.\n\n556\n00:27:15.750 --> 00:27:18.259\nBut, if you're a building coordinator,\nyou get this,\n\n557\n00:27:18.259 --> 00:27:20.308\ncuz there will be\ndifferent levels of access.\n\n558\n00:27:20.308 --> 00:27:22.020\n&gt;&gt; Right.\n&gt;&gt; Based on some of that.\n\n559\n00:27:22.020 --> 00:27:24.960\nSo we could do a lot of things and\nget very creative here if wanted to,\n\n560\n00:27:24.960 --> 00:27:27.690\nif you think about the logic of just\nkind of how we're drilling down.\n\n561\n00:27:27.690 --> 00:27:30.140\nSo we can have these\nadditional conditions,\n\n562\n00:27:30.140 --> 00:27:32.080\nif we want to when we go\nto edit the permissions.\n\n563\n00:27:32.080 --> 00:27:35.380\nI'm just gonna back out of that cuz we're\nnot gonna actually do any of that editing.\n\n564\n00:27:35.380 --> 00:27:37.080\nI just wanted to show that to you.\n\n565\n00:27:37.080 --> 00:27:39.630\nSo we could specify here\nwhat that would be.\n\n566\n00:27:39.630 --> 00:27:41.330\nSo when we're done, let's just click OK.\n\n567\n00:27:42.880 --> 00:27:44.125\nWe have our rule there.\n\n568\n00:27:44.125 --> 00:27:51.750\nAnd what I was gonna simply show you was\nhere, if I can get it to come up, or not.\n\n569\n00:27:51.750 --> 00:27:52.594\n&gt;&gt; The RSOP the result and\n\n570\n00:27:52.594 --> 00:27:53.710\nset of [INAUDIBLE]\n&gt;&gt; Yeah,\n\n571\n00:27:53.710 --> 00:27:58.740\nI was just trying to get to the window\nthere, let me just do this.\n\n572\n00:27:58.740 --> 00:28:00.100\nJust I'm not able to, there we go.\n\n573\n00:28:00.100 --> 00:28:03.110\nJust wasn't able to get to the taskbar,\njust wasn't popping up there for\n\n574\n00:28:03.110 --> 00:28:04.110\nsome reason.\n\n575\n00:28:04.110 --> 00:28:06.751\nAll right, so if I get out of here for\njust one second and\n\n576\n00:28:06.751 --> 00:28:09.293\nactually go to theGroup\nPolicy Management editor.\n\n577\n00:28:09.293 --> 00:28:12.281\nGroup policy results, that's the RSOP\ntool that I was talking about.\n\n578\n00:28:12.281 --> 00:28:15.393\nIt's very similar to that,\nthose permission that are proposed,\n\n579\n00:28:15.393 --> 00:28:19.330\nbecause we're modeling them, right,\nwe're not actually gonna apply them.\n\n580\n00:28:19.330 --> 00:28:22.979\nWe're simply seeing what they would be,\nor getting the what-if scenario.\n\n581\n00:28:22.979 --> 00:28:26.260\nAnd then we see the outcome of that\nin the event log in the audit area.\n\n582\n00:28:26.260 --> 00:28:28.580\nSo we can check on the security log and\nsee what that would look like.\n\n583\n00:28:28.580 --> 00:28:31.050\nSo, it's kinda cool that we\ncan actually do it that way.\n\n584\n00:28:31.050 --> 00:28:33.200\nSo we've got that capability,\nwe've got that all set up.\n\n585\n00:28:33.200 --> 00:28:36.010\nAnd as we bring all that together,\nthen what we need\n\n586\n00:28:36.010 --> 00:28:38.104\nto do is be really distinct about\nthe fact that it's we apply DAC.\n\n587\n00:28:39.200 --> 00:28:42.600\nWe're able to go in, and we're able to\nmonitor and check for the status or\n\n588\n00:28:42.600 --> 00:28:45.170\ncheck for the application,\nand or the use of this.\n\n589\n00:28:45.170 --> 00:28:46.160\nBy looking at the rules and\n\n590\n00:28:46.160 --> 00:28:48.580\nthen tracking the events through\nthe auto log if we need to.\n\n591\n00:28:48.580 --> 00:28:50.190\nAnd, or just going to the resource.\n\n592\n00:28:50.190 --> 00:28:52.182\nSeeing who has rights and\nmaking sure we see who's using it and\n\n593\n00:28:52.182 --> 00:28:52.960\nhow they're doing it.\n\n594\n00:28:52.960 --> 00:28:56.637\nSo, DAC could be a very powerful tool for\nus.\n\n595\n00:28:56.637 --> 00:28:59.810\nBut it is one that requires a little\nbit of thought, and obviously,\n\n596\n00:28:59.810 --> 00:29:03.499\nlike we did indicate with FSRM, it\nrequires a little bit of planning, right?\n\n597\n00:29:03.499 --> 00:29:06.107\nSo we have to think about the criteria\nthat we're creating the claims,\n\n598\n00:29:06.107 --> 00:29:08.500\nin other words, that we're gonna\nbe having available to us.\n\n599\n00:29:08.500 --> 00:29:11.350\nAnd we have to think about how we're\ngonna leverage those, and how we're\n\n600\n00:29:11.350 --> 00:29:14.250\ngonna make those available by binding\nthem, turning them on, enabling them.\n\n601\n00:29:14.250 --> 00:29:16.330\nAnd then making them available for\nrules, and\n\n602\n00:29:16.330 --> 00:29:19.792\nultimately, to create those policies that\nare gonna be created with the rules.\n\n603\n00:29:19.792 --> 00:29:22.300\nI wanna show you how to create the policy\nreal quick, so we're gonna go back in,\n\n604\n00:29:22.300 --> 00:29:23.800\nI'm gonna do that just to wrap up.\n\n605\n00:29:23.800 --> 00:29:25.180\nKind of put the policy off to the side and\n\n606\n00:29:25.180 --> 00:29:29.040\nsay, let's create the rule first and have\nto enable the claims, now we've done that.\n\n607\n00:29:29.040 --> 00:29:32.390\nSo I just wanna wrap up by showing you\nthe policy, pulling that all together.\n\n608\n00:29:32.390 --> 00:29:34.230\nSo let me just do that\nwhile we're talking.\n\n609\n00:29:34.230 --> 00:29:36.700\nBut Cherokee looked like she was about\nto say something while I am doing that.\n\n610\n00:29:36.700 --> 00:29:41.315\n&gt;&gt; Well, I'm just thinking, sometimes I\nwish I could just take you with me as my\n\n611\n00:29:41.315 --> 00:29:44.410\nlittle advocate here for\nIT and computer science.\n\n612\n00:29:44.410 --> 00:29:49.450\nBecause, someone just recently\nI was talking to them about IT,\n\n613\n00:29:49.450 --> 00:29:51.932\nand they said it wasn't\na very creative field.\n\n614\n00:29:51.932 --> 00:29:54.330\nAnd just you used that word\njust a few moments ago.\n\n615\n00:29:54.330 --> 00:29:58.580\nAnd you're showing us the tools in order\nto go ahead and execute something.\n\n616\n00:29:58.580 --> 00:30:00.578\nAnd that's a great,\nespecially for the exam purposes.\n\n617\n00:30:00.578 --> 00:30:03.488\nBut in real life,\nif you have your boss come to you, or\n\n618\n00:30:03.488 --> 00:30:06.670\neven just a project or\nsomething that you want to get done.\n\n619\n00:30:06.670 --> 00:30:09.488\nAnd you're like, okay,\nthis needs to happen, but\n\n620\n00:30:09.488 --> 00:30:12.254\nit really does take that creativity,\nthat logic.\n\n621\n00:30:12.254 --> 00:30:15.212\nSo we're here providing you the tools,\nbut you need that to go ahead and\n\n622\n00:30:15.212 --> 00:30:17.405\nthink about how you're\nactually going to execute.\n\n623\n00:30:17.405 --> 00:30:20.575\nWhat tools should I use, how should\nI configure it and everything there.\n\n624\n00:30:20.575 --> 00:30:25.255\nSo it is a really creative process that\nyou have to go through and just make sure,\n\n625\n00:30:25.255 --> 00:30:27.035\nor maybe even strategic and logical.\n\n626\n00:30:28.060 --> 00:30:31.331\n&gt;&gt; I think any all those are adjectives\nand those explanation or\n\n627\n00:30:31.331 --> 00:30:34.548\nexplanatory terms are plied,\nI think they're all great.\n\n628\n00:30:34.548 --> 00:30:38.386\nI mean, you and I have a lot of these\nconversations, both on camera and\n\n629\n00:30:38.386 --> 00:30:41.210\noff about the value of\nplanning to be successful.\n\n630\n00:30:41.210 --> 00:30:45.996\nYou often hear me say they're planning\nto fail and, the role that good,\n\n631\n00:30:45.996 --> 00:30:47.487\nsolid, methodical,\n\n632\n00:30:47.487 --> 00:30:52.586\nwell thought out decisions play in\nthe expectation of meeting, and indeed,\n\n633\n00:30:52.586 --> 00:30:57.623\nexceeding the burden of due care and\ndue diligence that we put on ourselves.\n\n634\n00:30:57.623 --> 00:31:01.910\nAnd rightly so, the organization\nputs on us as IT professionals.\n\n635\n00:31:01.910 --> 00:31:04.890\nIn order to ensure that we're doing\nthe right things for the right reasons.\n\n636\n00:31:04.890 --> 00:31:10.530\nI think, it is as you point out,\nit's unfortunate that not as\n\n637\n00:31:10.530 --> 00:31:14.760\nmany individuals, especially individuals\nthat don't do what we do for a living.\n\n638\n00:31:14.760 --> 00:31:19.410\nWhat you do for a living, all of you\nthat work in IT, in whatever capacity.\n\n639\n00:31:19.410 --> 00:31:23.683\nHelp desk, network administrators,\nfirewall admins, security professionals,\n\n640\n00:31:23.683 --> 00:31:24.585\nwhatever you do.\n\n641\n00:31:24.585 --> 00:31:28.478\nAnd in all of the broad and\nvaried groups of individuals and\n\n642\n00:31:28.478 --> 00:31:31.210\nskill sets that make up IT today.\n\n643\n00:31:31.210 --> 00:31:33.544\nThat all of us,\nnot only work very hard and\n\n644\n00:31:33.544 --> 00:31:36.678\nreally work to do the good\nwork of the organization, but\n\n645\n00:31:36.678 --> 00:31:40.891\na lot of times people don't understand\nwhat we do,do your point, right?\n\n646\n00:31:40.891 --> 00:31:44.483\nAnd they don't really understand\nnot only the complexity, but,\n\n647\n00:31:44.483 --> 00:31:47.815\nthe really at the end of the day,\nwhen you get right down to it,\n\n648\n00:31:47.815 --> 00:31:52.464\nthe need to have that, and I don't always\napproach it from a creativity standpoint.\n\n649\n00:31:52.464 --> 00:31:54.426\nI understand what you´re saying,\nI don't disagree.\n\n650\n00:31:54.426 --> 00:31:55.993\nI think it´s a great\nway to think about it.\n\n651\n00:31:55.993 --> 00:32:00.897\nBut I really do think it´s about that\nThought process that is methodical that\n\n652\n00:32:00.897 --> 00:32:03.621\nadheres to policy process and procedure.\n\n653\n00:32:03.621 --> 00:32:08.061\nThat really follows through in order\nto mitigate and minimize risk, and\n\n654\n00:32:08.061 --> 00:32:10.620\nthose things that we then draw from that.\n\n655\n00:32:10.620 --> 00:32:16.000\nThe creativity required, the vision to\nbe able to articulate coherently and\n\n656\n00:32:16.000 --> 00:32:20.220\nspecifically the business requirements and\nmatch those to the things we're doing.\n\n657\n00:32:20.220 --> 00:32:21.760\nAll those things are part of\nwhat you're talking about.\n\n658\n00:32:21.760 --> 00:32:26.226\nAnd it's so critical, because if we're not\nable to do that effectively, then people\n\n659\n00:32:26.226 --> 00:32:30.323\nreally just not do not benefit from what\nwe're doing, but even if we do the right\n\n660\n00:32:30.323 --> 00:32:34.520\nthing we are not able to understand\nhow to communicate that effectively.\n\n661\n00:32:34.520 --> 00:32:35.744\nThe value is lost, right?\n\n662\n00:32:35.744 --> 00:32:41.282\nAnd so it's not so much I think anything\nother than really just articulation right,\n\n663\n00:32:41.282 --> 00:32:44.740\nof that vision and\nhelping people to understand it.\n\n664\n00:32:44.740 --> 00:32:48.947\nSo yeah I'd be the crazy policy\nadvocate that's a good thing to do.\n\n665\n00:32:48.947 --> 00:32:50.310\n&gt;&gt; [LAUGH]\n&gt;&gt; That would be cool.\n\n666\n00:32:50.310 --> 00:32:52.700\nWe could do like a little road trip or\nsomething, right?\n\n667\n00:32:52.700 --> 00:32:53.795\n&gt;&gt; Yeah.\n&gt;&gt; Adam and Cherokee.\n\n668\n00:32:53.795 --> 00:32:56.039\n&gt;&gt; [LAUGH] We'll just be knocking\non your door at dinnertime guys.\n\n669\n00:32:56.039 --> 00:32:57.279\n[LAUGH]\n&gt;&gt; Absolutely.\n\n670\n00:32:57.279 --> 00:32:59.896\nCan we talk to you about direct [LAUGH]?\n\n671\n00:32:59.896 --> 00:33:02.540\nAll right, have you seen,\nare you a Despicable Me fan?\n\n672\n00:33:02.540 --> 00:33:03.040\n&gt;&gt; Yeah.\n&gt;&gt; [CROSSTALK] Is that right?\n\n673\n00:33:03.040 --> 00:33:04.417\nSo you have young kids, probably do,\n\n674\n00:33:04.417 --> 00:33:06.019\nright.\nSo you know the third one's coming out?\n\n675\n00:33:06.019 --> 00:33:06.610\nYou may or may not realize.\n\n676\n00:33:06.610 --> 00:33:07.366\n&gt;&gt; Yes, they're excited.\n\n677\n00:33:07.366 --> 00:33:08.149\n&gt;&gt; I think it start today,\n\n678\n00:33:08.149 --> 00:33:09.370\nif I'm not mistaken.\n\n679\n00:33:09.370 --> 00:33:12.881\nBut I saw one of the coming\nattraction previews for it and so\n\n680\n00:33:12.881 --> 00:33:16.533\nin the one I saw it, there was\na little clip that was on the TV,\n\n681\n00:33:16.533 --> 00:33:20.965\nso Gru was out in the front lawn with,\nI don't know how he got there.\n\n682\n00:33:20.965 --> 00:33:23.320\nThere's some gentleman\ntalking to him in a suit.\n\n683\n00:33:23.320 --> 00:33:26.010\nYou can only imagine in the movie\nit's probably a lot funnier.\n\n684\n00:33:26.010 --> 00:33:27.580\nBut you don't really get the context.\n\n685\n00:33:27.580 --> 00:33:28.710\nBut he's there talking.\n\n686\n00:33:28.710 --> 00:33:31.210\nAnd at some point he says can\nyou hold this for a second?\n\n687\n00:33:31.210 --> 00:33:34.500\nAnd so the older gentleman that's\ntalking to him holds it, and\n\n688\n00:33:34.500 --> 00:33:36.280\nit looks like vacuum cleaner.\n\n689\n00:33:36.280 --> 00:33:36.849\nSo Gru says.\n\n690\n00:33:36.849 --> 00:33:38.309\n&gt;&gt; [LAUGH]\n&gt;&gt; Okay, hold this.\n\n691\n00:33:38.309 --> 00:33:41.730\nAnd one of the old canister, like\nthe tank vacuum cleaners, and so he says,\n\n692\n00:33:41.730 --> 00:33:45.710\nhold this, and the guy holds the hose,\nright, and the tank is like on the ground.\n\n693\n00:33:45.710 --> 00:33:50.074\nAnd Gru steps back, hits the button, and\nthe thing transforms in two seconds.\n\n694\n00:33:50.074 --> 00:33:53.186\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; Like a rocket and it shoots the guy off\n\n695\n00:33:53.186 --> 00:33:56.737\ninto space and he spirals out and lands-\n&gt;&gt; There could be a market for that.\n\n696\n00:33:56.737 --> 00:33:57.918\n&gt;&gt; A couple streets away and blows up.\n\n697\n00:33:57.918 --> 00:34:02.260\nAnd so Gru's kind of got that sinister\nlittle laugh and smile and he walks away.\n\n698\n00:34:02.260 --> 00:34:04.217\nYou get the sense it was\nlike somebody bugging them\n\n699\n00:34:04.217 --> 00:34:04.922\nabout-\n&gt;&gt; Solicitor.\n\n700\n00:34:04.922 --> 00:34:06.087\n&gt;&gt; Yeah, yeah something right, so.\n\n701\n00:34:06.087 --> 00:34:08.067\nI'm thinking that's what would\nhappen right, we would just,\n\n702\n00:34:08.067 --> 00:34:09.150\nyou'd have that happen.\n\n703\n00:34:09.150 --> 00:34:10.716\n&gt;&gt; Blown away.\n&gt;&gt; You would be blown away absolutely.\n\n704\n00:34:10.716 --> 00:34:11.788\n&gt;&gt; [LAUGH]\n&gt;&gt; All right so\n\n705\n00:34:11.788 --> 00:34:14.540\nlet's create our access policy here.\n\n706\n00:34:14.540 --> 00:34:15.930\nLet's go full screen if\nyou don't mind just so\n\n707\n00:34:15.930 --> 00:34:17.850\nyou can see what's going on behind me.\n\n708\n00:34:17.850 --> 00:34:22.870\nSo we're wrapping this all up, putting\na Cherokee sized bow on our basket and\n\n709\n00:34:22.870 --> 00:34:24.880\nfinishing out our discussion of DAC.\n\n710\n00:34:24.880 --> 00:34:27.340\nSo we're gonna create the policy that\nputs everything together for us, so\n\n711\n00:34:27.340 --> 00:34:28.330\nwe'll give this a name.\n\n712\n00:34:28.330 --> 00:34:30.320\nWe called our rule, Rule 1.\n\n713\n00:34:30.320 --> 00:34:34.810\nWe'll call this Policy 1 just to\nkeep with the logic and flow there.\n\n714\n00:34:34.810 --> 00:34:41.570\nAgain, give our description, all right\nHappy Rule Day or whatever you put there.\n\n715\n00:34:41.570 --> 00:34:44.620\nPrevent from accidental deletion,\ngreat, protect, rather.\n\n716\n00:34:44.620 --> 00:34:46.790\nAnd remember Member Central Access Rules.\n\n717\n00:34:46.790 --> 00:34:48.920\nRemember we said when we did this\nthe first time we said, hey, no rules.\n\n718\n00:34:48.920 --> 00:34:50.670\nWe gotta go create them,\nand I showed you that.\n\n719\n00:34:50.670 --> 00:34:54.100\nBut now you may just see me just click\nthere while Cherokee was talking,\n\n720\n00:34:54.100 --> 00:34:56.200\nyou'll see the little\npop up that comes up.\n\n721\n00:34:56.200 --> 00:34:59.140\nYou will see our rule was there,\ngreat we can see that.\n\n722\n00:34:59.140 --> 00:35:01.145\nYou guys know what to do\nwith this interface right?\n\n723\n00:35:01.145 --> 00:35:03.260\nWhatever's on the left,\nbelongs on the right, right?\n\n724\n00:35:03.260 --> 00:35:06.840\nSo we click there, add that in, and\nby the way, just so we're clear.\n\n725\n00:35:08.610 --> 00:35:12.030\nNot enough just to highlight and\nclick OK, you can't click OK anyway.\n\n726\n00:35:12.030 --> 00:35:13.780\nThey're smart in this interface, right?\n\n727\n00:35:13.780 --> 00:35:16.400\nBut you gotta actually make sure\nthe rule winds up over there.\n\n728\n00:35:16.400 --> 00:35:18.737\nYou could double-click as well,\nyou don't have to click the arrow,\n\n729\n00:35:18.737 --> 00:35:20.610\nbut it's gotta be on the right\nhand side to be selected.\n\n730\n00:35:20.610 --> 00:35:23.944\nThe reason I'm pointing that out is that\nif you had an interactive environment,\n\n731\n00:35:23.944 --> 00:35:24.736\nooh I don't know.\n\n732\n00:35:24.736 --> 00:35:28.360\nPerhaps let's say in a room with\na computer where you ask questions and\n\n733\n00:35:28.360 --> 00:35:30.120\nthere's a clock ticking.\n\n734\n00:35:30.120 --> 00:35:32.730\nAnd at some point you would\nrun out of time, right?\n\n735\n00:35:32.730 --> 00:35:35.940\nAs in, you would be asked a question and\nhave to answer it.\n\n736\n00:35:35.940 --> 00:35:40.550\nYou may, in a simulated environment, very\nwell be given something like this and have\n\n737\n00:35:40.550 --> 00:35:43.910\nto make a choice that shows that you've\ncertified that the rule was selected.\n\n738\n00:35:43.910 --> 00:35:46.170\nIf you don't select it the right way,\n\n739\n00:35:46.170 --> 00:35:49.720\nyou're not answering the question\ncorrectly if you follow my logic.\n\n740\n00:35:49.720 --> 00:35:52.435\nRight?\nSo just making sure you can see that and\n\n741\n00:35:52.435 --> 00:35:53.213\nknow that.\n\n742\n00:35:53.213 --> 00:35:54.693\nAll right, so\nlet's just drag this up here.\n\n743\n00:35:54.693 --> 00:35:56.164\nWe're gonna click OK.\n\n744\n00:35:56.164 --> 00:36:00.723\nWe've got that there, and now we have\nour policy along with our rules and\n\n745\n00:36:00.723 --> 00:36:04.140\nclaim types and\nall of the things that are lined up.\n\n746\n00:36:04.140 --> 00:36:07.140\nSo we've talked about how to enable DAC,\nkind of set that up.\n\n747\n00:36:07.140 --> 00:36:09.490\nTalked about policy required to do that.\n\n748\n00:36:09.490 --> 00:36:11.514\nTalked about the fact that\nwe can keep track of that.\n\n749\n00:36:11.514 --> 00:36:14.808\nTake a look at the proposed versus\nactual applied permissions so\n\n750\n00:36:14.808 --> 00:36:18.200\nthat we could see the difference there and\nhow to use that.\n\n751\n00:36:18.200 --> 00:36:21.060\nAnd that, in a nutshell,\nboys and girls, is DAC.\n\n752\n00:36:21.060 --> 00:36:22.060\n&gt;&gt; All right.\n\n753\n00:36:22.060 --> 00:36:24.870\nThank you for that Adam, and\nthank you ladies and gentlemen for\n\n754\n00:36:24.870 --> 00:36:25.550\nbeing with us today.\n\n755\n00:36:25.550 --> 00:36:28.100\nAnd you're probably going and\nlocking your doors, and\n\n756\n00:36:28.100 --> 00:36:29.970\nhoping that we don't show\nup at your place later.\n\n757\n00:36:29.970 --> 00:36:32.960\nBut we do have more information that\nwe would like to share with you so\n\n758\n00:36:32.960 --> 00:36:34.250\nplease stay tuned.\n\n759\n00:36:34.250 --> 00:36:36.240\nFor this show though, we are out of time.\n\n760\n00:36:36.240 --> 00:36:38.359\nSo remember I'm your host, Cherokee Boose.\n\n761\n00:36:38.359 --> 00:36:39.037\n&gt;&gt; I'm Adam Gordon.\n\n762\n00:36:39.037 --> 00:36:40.940\n&gt;&gt; See you next time here at ITProTV\n\n763\n00:36:43.018 --> 00:36:48.113\n[MUSIC]\n\n764\n00:36:48.113 --> 00:36:51.407\n&gt;&gt; Thank you for watching ITPRO.TV\n\n",
          "vimeoId": "224332402"
        },
        {
          "description": "In this show, Adam and Cherokee explain how one can customize access denied messages to help point the end user to the proper IT staff such as the help desk or any other message for that matter. They also discuss Work Folders and explain how domain and non-domain joined system can access centrally located data.",
          "length": "1375",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-4-1-access_denied_assistance_and_work_force-063017-PGM.00_22_37_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-4-1-access_denied_assistance_and_work_force-063017-PGM.00_22_37_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-4-1-access_denied_assistance_and_work_force-063017-PGM.00_22_37_23.Still001-sm.jpg",
          "title": "Access Denied Assistance and Work Folders",
          "transcript": "WEBVTT\n\n1\n00:00:00.022 --> 00:00:06.918\nWelcome to ITProTV,\nI'm your host, [CROSSTALK]\n\n2\n00:00:06.918 --> 00:00:08.173\n[MUSIC]\n\n3\n00:00:08.173 --> 00:00:12.139\n&gt;&gt; You're watching ITProTV.\n\n4\n00:00:12.139 --> 00:00:17.561\n&gt;&gt; Welcome to your MCSA 70-412 series,\nI'm your show host Cherokee Boose.\n\n5\n00:00:17.561 --> 00:00:22.540\nIn this episode, we'll be taking a look at\nAccess Denied Assistance and Work Folders.\n\n6\n00:00:22.540 --> 00:00:25.590\nAnd back in studios with us\ntoday we have Mr. Adam Gordon.\n\n7\n00:00:25.590 --> 00:00:26.392\nHow's it going Adam?\n\n8\n00:00:28.590 --> 00:00:32.190\n&gt;&gt; I'm not gonna talk the entire episodes,\nunleash hand signals for everything.\n\n9\n00:00:32.190 --> 00:00:33.018\n&gt;&gt; This'll be fun.\n\n10\n00:00:33.018 --> 00:00:33.676\n&gt;&gt; Oki-doki.\n\n11\n00:00:33.676 --> 00:00:36.290\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so it is going well, yeah.\n\n12\n00:00:36.290 --> 00:00:38.210\nIt's not gonna work too well beyond that.\n\n13\n00:00:38.210 --> 00:00:40.530\nIt is going well,\nhopefully going well for all of you.\n\n14\n00:00:40.530 --> 00:00:44.460\nWe thought we'd take a little break\nfrom talking about branch cache.\n\n15\n00:00:44.460 --> 00:00:47.432\nAnd talking about file system\nresource management and DAC and\n\n16\n00:00:47.432 --> 00:00:50.360\nall those really cool exciting\nthings we´ve talked about.\n\n17\n00:00:50.360 --> 00:00:53.593\nBut a little bit involve, a little\nbit technical, a little bit weighty,\n\n18\n00:00:53.593 --> 00:00:54.360\nif you will.\n\n19\n00:00:54.360 --> 00:00:55.450\nI thought we´s throw a little light and\n\n20\n00:00:55.450 --> 00:00:59.730\nfluffiness your way, talk about some other\ninteresting features that are in the OS,\n\n21\n00:00:59.730 --> 00:01:03.050\nin the file system,\nin the access control area.\n\n22\n00:01:03.050 --> 00:01:07.274\nOften, again, perhaps overlooked,\nnot appreciated for what they are,\n\n23\n00:01:07.274 --> 00:01:09.362\nperhaps undervalued in your world.\n\n24\n00:01:09.362 --> 00:01:11.930\nBut still there nonetheless, and\nsometimes forgotten about, and\n\n25\n00:01:11.930 --> 00:01:13.829\nI thought we would just do a quick,\nlittle aside.\n\n26\n00:01:13.829 --> 00:01:16.940\n&gt;&gt; It sounds like you're describing\nmy existence here [LAUGH].\n\n27\n00:01:16.940 --> 00:01:19.500\n&gt;&gt; Not at all, I didn't say that,\nquite the opposite.\n\n28\n00:01:19.500 --> 00:01:23.410\nI would value you quite highly if\nyou were a feature in my operating\n\n29\n00:01:23.410 --> 00:01:24.710\nsystem, Cherokee.\n\n30\n00:01:24.710 --> 00:01:28.570\nBut what we're thinking\nabout is really just some\n\n31\n00:01:28.570 --> 00:01:31.490\nlittle extra special features if you will.\n\n32\n00:01:31.490 --> 00:01:34.030\nWanna pay them their due and\ngive them a little bit of the tenth.\n\n33\n00:01:34.030 --> 00:01:37.250\nSo we thought we'd break them out,\nput them into an episode here for you.\n\n34\n00:01:37.250 --> 00:01:41.320\nLabel them in such knew what they were so\ndenied assistance,\n\n35\n00:01:41.320 --> 00:01:44.520\nor in this case when we're talking\nabout access denied assistance.\n\n36\n00:01:44.520 --> 00:01:48.240\nIf a user tries to get into something, is\nnot able to, hey do we have a solution for\n\n37\n00:01:48.240 --> 00:01:51.710\nthat other than goodbye, good luck, and\nlet us know if you're having a problem.\n\n38\n00:01:51.710 --> 00:01:54.560\nWell, we kinda do, we'll talk\nabout that and also work folders.\n\n39\n00:01:54.560 --> 00:01:58.100\nCherokee's gonna help me explain the\nconcept of work folders here a little bit.\n\n40\n00:01:58.100 --> 00:02:00.340\nAnd we'll just talk about\nthe logic of how we set them up so\n\n41\n00:02:00.340 --> 00:02:01.810\nyou're aware of what they are.\n\n42\n00:02:01.810 --> 00:02:03.840\nAnd then when we're done with that, well,\n\n43\n00:02:03.840 --> 00:02:05.740\nthen we'll have a lot of other\nstuff to talk about, right?\n\n44\n00:02:05.740 --> 00:02:07.332\nProbably access control,\n\n45\n00:02:07.332 --> 00:02:11.621\nand we did promise you a thorough set\nof discussions around replication,\n\n46\n00:02:11.621 --> 00:02:16.761\ndomain topology, trust relationships, all\nthat stuff's gonna be coming up as well.\n\n47\n00:02:16.761 --> 00:02:20.280\nAll right, so join me if you will here,\nlet's talk about access denied assistance.\n\n48\n00:02:20.280 --> 00:02:23.984\nThe idea behind access denied assistance,\nstarting in Windows 8 on the OS side, so\n\n49\n00:02:23.984 --> 00:02:25.930\n8, 8.1, and 10, 12 R2 and 16.\n\n50\n00:02:25.930 --> 00:02:31.484\n12 and/or 12 R2, I should say, and 16, is\nthe ability to be able to program in and\n\n51\n00:02:31.484 --> 00:02:35.853\napply through group policy this idea\nof what would happen if we were not\n\n52\n00:02:35.853 --> 00:02:39.730\nable to access something,\nother than just an error message?\n\n53\n00:02:39.730 --> 00:02:43.700\nNondescript usually, not very helpful,\nwe can actually program in and\n\n54\n00:02:43.700 --> 00:02:46.340\ncontrol some of the reason\nwhy this happens.\n\n55\n00:02:46.340 --> 00:02:49.880\nAnd specifically,\nguidance to the user in the case or\n\n56\n00:02:49.880 --> 00:02:52.880\nin the event of the fact that\nmaybe they run into an issue.\n\n57\n00:02:52.880 --> 00:02:55.777\nI am in the default domain policy,\nas you can see here [COUGH].\n\n58\n00:02:57.370 --> 00:03:00.610\nRight there, you can see I'm in\ncomputer configuration, I'm in policy,\n\n59\n00:03:00.610 --> 00:03:02.209\nI'm in administrative templates.\n\n60\n00:03:03.940 --> 00:03:08.220\nProbably, should just draw that over, just\na little bit, just so we can see that.\n\n61\n00:03:08.220 --> 00:03:11.580\nSo it's hard to catch, there we go, to\ncatch that arrow right on the side there.\n\n62\n00:03:11.580 --> 00:03:15.740\nA policy definition templates right there,\nsystem, and right at the very top,\n\n63\n00:03:15.740 --> 00:03:16.490\naccess denied.\n\n64\n00:03:16.490 --> 00:03:22.380\nI'm like where we went into here to talk\nabout dock and go to the KDC, and turn on.\n\n65\n00:03:22.380 --> 00:03:26.456\nAnd little bit further down, we're right\nat the top of this list in the system area\n\n66\n00:03:26.456 --> 00:03:29.256\nhere, to enable this one,\naccess denied assistance.\n\n67\n00:03:29.256 --> 00:03:31.840\nAnd you'll see over here we have two\nsettings, neither of which were enabled by\n\n68\n00:03:31.840 --> 00:03:36.100\ndefault, customize the message or\nmessages for access denied errors, and\n\n69\n00:03:36.100 --> 00:03:40.010\nenable access denied assistance\non clients for all file types.\n\n70\n00:03:40.010 --> 00:03:43.060\nAnd so if we go in and\nwe configure this, enable it.\n\n71\n00:03:44.560 --> 00:03:48.930\nYou'll see that we need to have at least\nServer 12, Windows 8, and/or Windows RT.\n\n72\n00:03:48.930 --> 00:03:52.680\nSo we do support\nthe Windows Surface tablets.\n\n73\n00:03:52.680 --> 00:03:56.860\nWe do support Windows 8 going forward and\non the server side, Server 12 with this.\n\n74\n00:03:56.860 --> 00:03:58.269\nThis will enable this, and\n\n75\n00:03:58.269 --> 00:04:02.016\nenables us to be able to have access\ndenied assistance for the file type.\n\n76\n00:04:02.016 --> 00:04:05.191\nSo we're gonna turn that on,\nas you can see here.\n\n77\n00:04:05.191 --> 00:04:09.391\nLet's just go in and, yeah we do\nhave the autohide enabled there,\n\n78\n00:04:09.391 --> 00:04:12.040\nwell there we go, all right let's see.\n\n79\n00:04:12.040 --> 00:04:16.050\nYeah, so let's hit that one and\nturn that on and then let's go in and\n\n80\n00:04:16.050 --> 00:04:17.902\nspecify what our message will look like.\n\n81\n00:04:17.902 --> 00:04:20.550\nThis one's a little more\ninvolved here as you can see.\n\n82\n00:04:20.550 --> 00:04:25.226\nWe'll go in and we'll enable this and\nwe again have the same guidance here,\n\n83\n00:04:25.226 --> 00:04:27.064\nServer 12, Windows 8 RT.\n\n84\n00:04:27.064 --> 00:04:30.679\nAnd then you'll see here enable\nusers to request assistance so\n\n85\n00:04:30.679 --> 00:04:32.120\nwe could check that off.\n\n86\n00:04:34.090 --> 00:04:37.780\nYou'll see here email recipients\nholder on a file administrator.\n\n87\n00:04:37.780 --> 00:04:41.951\nWe'll be emailing certain people about\nthe issue associated with that access or\n\n88\n00:04:41.951 --> 00:04:45.875\ndenied access so we could specify what\nthat would be include device claims,\n\n89\n00:04:45.875 --> 00:04:46.920\nuser claims.\n\n90\n00:04:46.920 --> 00:04:49.350\nLog emails in the application and\nservice event log so,\n\n91\n00:04:49.350 --> 00:04:51.380\nwe'll be able to keep track of all that.\n\n92\n00:04:51.380 --> 00:04:55.500\nAnd we can specify here, add the following\ntext to the end of the email.\n\n93\n00:04:55.500 --> 00:04:57.910\nSo we have a system generated email here,\nright.\n\n94\n00:04:57.910 --> 00:05:01.860\nAnd we could also display the following\nmessage to use this or denied access.\n\n95\n00:05:03.050 --> 00:05:07.917\nSorry, you are out of luck, right?\n\n96\n00:05:07.917 --> 00:05:09.959\nNo, we wouldn't do that,\nthat wouldn't be right, right?\n\n97\n00:05:09.959 --> 00:05:12.900\n[LAUGH] Wanna put something in there that\nactually is meaningful, I'm only teasing.\n\n98\n00:05:12.900 --> 00:05:18.646\nBut you get the idea, we could obviously\n\n99\n00:05:18.646 --> 00:05:24.223\nput something in such as for instance,\n\n100\n00:05:24.223 --> 00:05:29.631\nplease contact IT helpdesk, right,\n\n101\n00:05:29.631 --> 00:05:34.701\nat help@itpro.tv for assistance\n\n102\n00:05:34.701 --> 00:05:41.820\nwith access requests to this resource,\nright?\n\n103\n00:05:41.820 --> 00:05:45.270\nAnd we would give them a little guidance,\nso have that in there.\n\n104\n00:05:45.270 --> 00:05:49.930\nAnd then, clean that up so\nwe don't have a space there.\n\n105\n00:05:49.930 --> 00:05:52.282\nThen, add the following text\nto the end of the email.\n\n106\n00:05:52.282 --> 00:05:55.946\nWe're gonna be sending out this\nemail that's going to be going to,\n\n107\n00:05:55.946 --> 00:05:59.380\nas you can see, the folder owner,\nthe file server admin.\n\n108\n00:05:59.380 --> 00:06:01.000\nWe're not emailing the user right,\n\n109\n00:06:01.000 --> 00:06:04.530\nthe user gets the propt,\nthe pop up of the message we're providing.\n\n110\n00:06:04.530 --> 00:06:07.650\nBut we are gonna email the owner of\nthe data, the owner of the file or\n\n111\n00:06:07.650 --> 00:06:10.970\nwhatever, and the administrator of\nthe system so they know there's an issue.\n\n112\n00:06:10.970 --> 00:06:15.225\nWe may want to add something onto the end\nof the system email, whatever that is,\n\n113\n00:06:15.225 --> 00:06:18.820\nlike this came from this policy or\nwhatever we would put in, who knows.\n\n114\n00:06:18.820 --> 00:06:20.830\nBut you would add that information in and\n\n115\n00:06:20.830 --> 00:06:23.380\nthen when you've done that they\nwould get that information.\n\n116\n00:06:23.380 --> 00:06:25.110\nSo we're going to click OK there.\n\n117\n00:06:25.110 --> 00:06:27.610\nNo text, yeah sorry, woops, hold on.\n\n118\n00:06:28.970 --> 00:06:31.132\n&gt;&gt; So this is not the same\nas access-based enumeration,\n\n119\n00:06:31.132 --> 00:06:34.594\nbecause with access-based enumeration,\nthey're not gonna receive any kind of-\n\n120\n00:06:34.594 --> 00:06:35.569\n&gt;&gt; Additional recipients that's why,\n\n121\n00:06:35.569 --> 00:06:36.181\ngo ahead, I'm sorry.\n\n122\n00:06:36.181 --> 00:06:39.434\n&gt;&gt; They're not going to receive and\nkind of notification because they won't\n\n123\n00:06:39.434 --> 00:06:41.705\nsee that resource enabled to go ahead and\naccess it,\n\n124\n00:06:41.705 --> 00:06:45.030\nlike a folder that says top secret,\nthey won't see that top secret folder.\n\n125\n00:06:45.030 --> 00:06:48.444\nBut here, they may see that there\nis a folder called top secret but\n\n126\n00:06:48.444 --> 00:06:49.821\nyou're not generating.\n\n127\n00:06:49.821 --> 00:06:54.645\nOr specifying what that error message\nwould look like whenever they were trying\n\n128\n00:06:54.645 --> 00:06:59.870\nto access something that they weren't\nconfigured to legitimately have access to.\n\n129\n00:06:59.870 --> 00:07:04.640\n&gt;&gt; If for some reason, whatever the case\nmay be, that no text was entered for\n\n130\n00:07:04.640 --> 00:07:06.080\nwhat field am I missing here?\n\n131\n00:07:06.080 --> 00:07:08.980\nI have texts in every field, all right,\n\n132\n00:07:08.980 --> 00:07:10.900\nso let´s talk about what\nwas going wrong here.\n\n133\n00:07:10.900 --> 00:07:13.410\nYou know, sometimes you get the\nopportunity to show you great technology\n\n134\n00:07:13.410 --> 00:07:14.860\nand a lot of times it works just well.\n\n135\n00:07:14.860 --> 00:07:15.685\nBut every so often well,\n\n136\n00:07:15.685 --> 00:07:18.970\n[LAUGH] you can see it doesn´t always work\nthe way it´s supposed to and that´s okay.\n\n137\n00:07:18.970 --> 00:07:21.914\nBecause you know in the real world,\nthese things do happen sometimes and\n\n138\n00:07:21.914 --> 00:07:25.064\nwhile we can cover up a lot of these\nthings and make everything look seamless.\n\n139\n00:07:25.064 --> 00:07:27.119\nBut sometimes it´s actually\nworthwhile to show you the error and\n\n140\n00:07:27.119 --> 00:07:27.950\nshow you what went wrong.\n\n141\n00:07:27.950 --> 00:07:31.612\nSo this particular one is kind of a little\nstrange, it doesn´t happen very often but\n\n142\n00:07:31.612 --> 00:07:32.290\nit can happen.\n\n143\n00:07:32.290 --> 00:07:35.604\nYou saw me clicking through, trying\nto essentially tell the template hey,\n\n144\n00:07:35.604 --> 00:07:38.499\nI put in all the stuff in you're\ntelling me to put in all the fields,\n\n145\n00:07:38.499 --> 00:07:39.870\neverything has text in there.\n\n146\n00:07:39.870 --> 00:07:44.070\nBut I keep hitting OK and the template\nkeeps coming back saying no, I need text.\n\n147\n00:07:44.070 --> 00:07:46.970\nYou're giving me an empty field and\nthere's clearly no empty fields there.\n\n148\n00:07:46.970 --> 00:07:50.151\nSo every so often those templates,\n\n149\n00:07:50.151 --> 00:07:54.929\nget just a little we call it crazy,\nor disconnected.\n\n150\n00:07:54.929 --> 00:07:58.694\nThere's not always a good explanation\nsometimes why that happens other than for\n\n151\n00:07:58.694 --> 00:08:01.293\nsome reason, the template just\ndoes not see the data and\n\n152\n00:08:01.293 --> 00:08:03.250\nperhaps is not being applied correctly.\n\n153\n00:08:03.250 --> 00:08:06.393\nAll I did was simply cancel out\nof the template, Essentially,\n\n154\n00:08:06.393 --> 00:08:09.476\njust zeroing up the chances I was\ntrying to make, come back and\n\n155\n00:08:09.476 --> 00:08:11.392\nafter acknowledge the error screen.\n\n156\n00:08:11.392 --> 00:08:13.690\nThe, you know, hey,\ntext box is not working.\n\n157\n00:08:13.690 --> 00:08:16.810\nClick OK, Clicked OK again,\nlaunch the template again.\n\n158\n00:08:16.810 --> 00:08:20.680\nJust simply open it back up, re-enabled\nit, and just type the text back in, and\n\n159\n00:08:20.680 --> 00:08:22.120\nyou can kind of see the effect of that.\n\n160\n00:08:22.120 --> 00:08:24.080\nNow, its all more or\nless back the way it was.\n\n161\n00:08:24.080 --> 00:08:27.470\nHit OK to apply it, it's actually\nbeen applied, it's perfectly fine.\n\n162\n00:08:27.470 --> 00:08:30.090\nWe just left it up here, so you could\nsee what the outcome of that would be.\n\n163\n00:08:30.090 --> 00:08:32.610\nSo, I just wanted to show\nyou that sometimes things do\n\n164\n00:08:32.610 --> 00:08:34.450\nnot always work out as\nplanned behind the scenes.\n\n165\n00:08:34.450 --> 00:08:36.690\nBut, we do persevere, we do overcome.\n\n166\n00:08:36.690 --> 00:08:38.040\nAnd, not to be left out,\n\n167\n00:08:38.040 --> 00:08:41.070\nwe do answer questions that Cherokee\nposes while we're doing troubleshooting.\n\n168\n00:08:41.070 --> 00:08:42.750\nSo I did not answer that question.\n\n169\n00:08:42.750 --> 00:08:46.210\nShe had asked me, it's a very good point,\nand a very good distinction.\n\n170\n00:08:46.210 --> 00:08:49.640\nHey, so this is essentially, this\nthought process, and what we're doing.\n\n171\n00:08:49.640 --> 00:08:52.500\nThis is not the same thing as hiding\nthe resource from the user, and\n\n172\n00:08:52.500 --> 00:08:54.870\nnot even allowing them to\nsee it in the first place.\n\n173\n00:08:54.870 --> 00:08:57.930\nEssentially, denying them access\nby not showing it to them.\n\n174\n00:08:57.930 --> 00:08:59.050\nThis is different, right?\n\n175\n00:08:59.050 --> 00:09:02.189\nAnd the approaches absolutely, or\nthe answer rather, is absolutely.\n\n176\n00:09:02.189 --> 00:09:05.549\nThis approach is the resource is there,\nand the user clicks on it,\n\n177\n00:09:05.549 --> 00:09:08.360\nthey're not entitled to it for\nwhatever reason.\n\n178\n00:09:08.360 --> 00:09:09.368\nAnd they get an error, so\n\n179\n00:09:09.368 --> 00:09:11.529\nwhat are we gonna show them\nwhen they try to access it?\n\n180\n00:09:11.529 --> 00:09:16.040\nSo when we're using access or\naccess denied assistance, we're not hiding\n\n181\n00:09:16.040 --> 00:09:21.510\nthe resource, but rather we're providing\nexplanatory information after the fact.\n\n182\n00:09:21.510 --> 00:09:24.870\nIn order to guide the user through,\nusually not troubleshooting, but more so\n\n183\n00:09:24.870 --> 00:09:27.640\nmaybe requesting access in order to gain\n\n184\n00:09:27.640 --> 00:09:29.540\nthe authorized access\nthat they would like.\n\n185\n00:09:29.540 --> 00:09:32.190\nSo that's what we're doing, or\npotentially what we can do here.\n\n186\n00:09:32.190 --> 00:09:33.977\nAll right, so we have that set up.\n\n187\n00:09:33.977 --> 00:09:36.010\nWe've gone ahead, we've enabled that.\n\n188\n00:09:36.010 --> 00:09:38.760\nYou could see both of these are enabled,\nset up, ready to go.\n\n189\n00:09:38.760 --> 00:09:42.980\nSo once we've done all this,\nwe do have different options for the user.\n\n190\n00:09:42.980 --> 00:09:45.616\nClearly, user can kind of work\nthrough it on their own, but\n\n191\n00:09:45.616 --> 00:09:48.592\nwe will call that the ability to\nbe able to manually troubleshoot.\n\n192\n00:09:48.592 --> 00:09:51.830\nHey, I can't get in, let me maybe\ncall somebody, try to figure it out.\n\n193\n00:09:51.830 --> 00:09:53.906\nBut they're not really\ngetting any guidance from us.\n\n194\n00:09:53.906 --> 00:09:57.380\nWe could do what is called self\nremediation, provide guidance,\n\n195\n00:09:57.380 --> 00:09:59.420\nas you saw with this message here.\n\n196\n00:09:59.420 --> 00:10:01.376\nAnd the user could follow that message,\nif they want to.\n\n197\n00:10:01.376 --> 00:10:05.019\nThe reason we're applying this\nat the domain policy level, and\n\n198\n00:10:05.019 --> 00:10:10.030\nwe talked about this with the settings for\nDAC, right, for Dynamic Access Control.\n\n199\n00:10:10.030 --> 00:10:12.442\nWhere we enable curbrose\narmoring in the KVC settings.\n\n200\n00:10:12.442 --> 00:10:14.469\nA little bit further down\nin the same area here,\n\n201\n00:10:14.469 --> 00:10:17.421\nis that this is going to be propagated\nto all the domain controllers.\n\n202\n00:10:17.421 --> 00:10:20.695\nAnd applied to all domain logons,\nso users that are logging in,\n\n203\n00:10:20.695 --> 00:10:23.303\nthat are authenticating,\nand are being granted or\n\n204\n00:10:23.303 --> 00:10:26.470\ndenied permissions to resources,\nget bound by this policy.\n\n205\n00:10:26.470 --> 00:10:29.570\nAnd this will show up on their machines,\nassuming of course,\n\n206\n00:10:29.570 --> 00:10:33.450\nthat they're running a machine\nthat supports the need, or rather,\n\n207\n00:10:33.450 --> 00:10:35.990\nthe application of the access-denied\nassistance settings.\n\n208\n00:10:35.990 --> 00:10:37.012\nRemember, Windows 8 or better, right?\n\n209\n00:10:37.012 --> 00:10:39.970\nSo Just keep that in mind, but\nthat's why we do it at the domain level.\n\n210\n00:10:39.970 --> 00:10:42.320\nIt's why we're using\nthe default domain policy.\n\n211\n00:10:42.320 --> 00:10:45.660\nNow interestingly,\nwe can also do this in one other way.\n\n212\n00:10:45.660 --> 00:10:48.666\nAn area that we've already seen, we've\ntalked about it, we're gonna come back to.\n\n213\n00:10:48.666 --> 00:10:51.135\nHopefully, this console\nlooks familiar to you.\n\n214\n00:10:51.135 --> 00:10:55.275\nLet me just pull this down here in case,\nyou don't remember what this is.\n\n215\n00:10:55.275 --> 00:10:58.805\nIf you haven't seen our discussions\non File Server Resource Manager,\n\n216\n00:10:58.805 --> 00:10:59.855\nyou may not recognize this.\n\n217\n00:10:59.855 --> 00:11:04.575\nYou should go back and take a look in some\nof the earlier conversations around file\n\n218\n00:11:04.575 --> 00:11:09.315\nsystems, and the advanced file system\nof services that we were talking about.\n\n219\n00:11:09.315 --> 00:11:12.065\nWe actually had done a discussion\na couple of episodes on\n\n220\n00:11:12.065 --> 00:11:14.470\nFile Server Resource Manager, FSRM.\n\n221\n00:11:14.470 --> 00:11:17.590\nWe went through,\nwe talked about the file management tasks.\n\n222\n00:11:17.590 --> 00:11:21.637\nYou could see that my task is still there\nto do the classification on the documents.\n\n223\n00:11:21.637 --> 00:11:26.810\nWe did the classification management,\nwe took a look at our properties.\n\n224\n00:11:26.810 --> 00:11:30.070\nI added in the confidentiality property,\n\n225\n00:11:30.070 --> 00:11:32.430\nthe department property,\nall that kind of stuff.\n\n226\n00:11:32.430 --> 00:11:33.750\nDoing okay over there Cherokee?\n\n227\n00:11:33.750 --> 00:11:35.744\nAnd we do have our classification rules.\n\n228\n00:11:35.744 --> 00:11:37.511\nI walk through all this with you, but\n\n229\n00:11:37.511 --> 00:11:40.020\nwhat we actually can use\nhere in the console as well.\n\n230\n00:11:40.020 --> 00:11:43.405\nAnd we didn't really go into this portion,\nbut this is also actually tied in to\n\n231\n00:11:43.405 --> 00:11:45.550\naccess-denied assistance,\nbelieve it or not.\n\n232\n00:11:45.550 --> 00:11:47.642\nUbuntu files screening\nmanagement right here.\n\n233\n00:11:47.642 --> 00:11:52.075\nUnder file screening templates, we do have\ndifferent templates that are pre-made.\n\n234\n00:11:52.075 --> 00:11:55.365\nYou could see some in here,\nblock audio and video, block email,\n\n235\n00:11:55.365 --> 00:11:56.775\nblock image, whatever.\n\n236\n00:11:56.775 --> 00:11:58.795\nAnd we can obviously go in and\ncreate our own, as well.\n\n237\n00:12:00.057 --> 00:12:02.969\nWhether we create our own and\nor use an existing one.\n\n238\n00:12:02.969 --> 00:12:05.735\nIt really doesn't matter, we're not\ntoo concerned about that right now.\n\n239\n00:12:05.735 --> 00:12:11.020\nBut what we're gonna be able to do is tie\naccess-denied assistance in through FSRM.\n\n240\n00:12:11.020 --> 00:12:14.600\nBy creating a custom email\nmessage to go with the denial.\n\n241\n00:12:14.600 --> 00:12:15.680\nAnd that's what we're doing here,\n\n242\n00:12:15.680 --> 00:12:18.640\nif we're using the screen,\nwe can set up an email message.\n\n243\n00:12:18.640 --> 00:12:21.679\nYou could see the tab here,\nwe can set up an email message, right?\n\n244\n00:12:21.679 --> 00:12:27.958\nSo I just have to go in, have to give\nthis a name, and then hold on one second.\n\n245\n00:12:27.958 --> 00:12:32.710\nThere, and then go in and\nspecify who we're gonna send the file to.\n\n246\n00:12:32.710 --> 00:12:34.649\nWe specify a subject, but notice,\n\n247\n00:12:34.649 --> 00:12:38.088\nI can also specify what goes into\nthe body of the email message.\n\n248\n00:12:38.088 --> 00:12:41.785\nAnd so, I can actually provide additional\nassistance through these particular\n\n249\n00:12:41.785 --> 00:12:43.751\nscripted email messages, if I choose to.\n\n250\n00:12:43.751 --> 00:12:48.168\nSo, I have a couple of different options\nhere, so we can actually edit and\n\n251\n00:12:48.168 --> 00:12:49.280\nuse FSRM.\n\n252\n00:12:49.280 --> 00:12:54.070\nIn this case file screen templates and\nfile screening, in order to augment or\n\n253\n00:12:54.070 --> 00:12:55.230\naccess denied assistance.\n\n254\n00:12:55.230 --> 00:12:57.980\nSo, just wanted to point that out to you,\nbecause it is kind of a nice\n\n255\n00:12:57.980 --> 00:13:01.720\nway to tie this in and\nbring this all back together again for us.\n\n256\n00:13:01.720 --> 00:13:04.280\nWe talked about the group policy\nsettings that we can use.\n\n257\n00:13:04.280 --> 00:13:07.290\nWe talked about how we can leverage FSRM,\nin order to do this.\n\n258\n00:13:07.290 --> 00:13:08.369\nWhat about work folders?\n\n259\n00:13:09.380 --> 00:13:10.990\nTalk about work folders, as well.\n\n260\n00:13:10.990 --> 00:13:13.580\nCherokee, when I talk about this with you\nbefore we got started, you said, yeah,\n\n261\n00:13:13.580 --> 00:13:14.480\nI know about work folders.\n\n262\n00:13:14.480 --> 00:13:16.946\nBeen a while, but I can probably\ntalk about them a little bit.\n\n263\n00:13:16.946 --> 00:13:20.060\nSo why don't we educate everybody\nwho's out there watching a little bit.\n\n264\n00:13:20.060 --> 00:13:22.550\nHelp us to understand what's\ngoing on with work folders,\n\n265\n00:13:22.550 --> 00:13:23.750\nwhat we're gonna do with them.\n\n266\n00:13:23.750 --> 00:13:24.630\nAnd how we're gonna use them,\n\n267\n00:13:24.630 --> 00:13:26.300\njust while I get into position here-\n&gt;&gt; Okay.\n\n268\n00:13:26.300 --> 00:13:29.569\n&gt;&gt; To show everybody where we're gonna\nactivate this feature from if we wanna do\n\n269\n00:13:29.569 --> 00:13:30.283\nthat, so yeah.\n\n270\n00:13:30.283 --> 00:13:34.005\n&gt;&gt; Okay, so I think work folders is\na good solution for, if you think about,\n\n271\n00:13:34.005 --> 00:13:36.420\nif you've never heard\nof work folders before.\n\n272\n00:13:36.420 --> 00:13:40.160\nMaybe you've heard of something a little\nmore basic like mapping a network share,\n\n273\n00:13:40.160 --> 00:13:41.450\nor mapping a network drive.\n\n274\n00:13:41.450 --> 00:13:46.530\nSo, it's when you map something, you\ngive usually in a business environment.\n\n275\n00:13:46.530 --> 00:13:49.990\nYou're doing that to give\naccess to a central repository,\n\n276\n00:13:49.990 --> 00:13:52.310\nwhere files are stored or\nsomething like that.\n\n277\n00:13:52.310 --> 00:13:56.368\nBut, you kind of wanna think of it like\nthat maybe, but it's a step above.\n\n278\n00:13:56.368 --> 00:13:59.429\nAnd then, if you're also not\nfamiliar with work folders, but\n\n279\n00:13:59.429 --> 00:14:02.390\nyou've used the technology,\nmaybe like OneDrive.\n\n280\n00:14:02.390 --> 00:14:06.110\nIt's almost like a step down from that,\nso it's kind of like in between.\n\n281\n00:14:06.110 --> 00:14:11.620\nAnd what it does for you is allow you to\nsave information in a central repository.\n\n282\n00:14:11.620 --> 00:14:14.788\nAnd you can save it on your local machine,\nand then,\n\n283\n00:14:14.788 --> 00:14:17.390\nit will back it up in\na central repository.\n\n284\n00:14:17.390 --> 00:14:21.280\nAnd then,\nlet's say you're logging on externally.\n\n285\n00:14:21.280 --> 00:14:25.038\nSo from outside of the business workplace,\nyou're able to sync up and\n\n286\n00:14:25.038 --> 00:14:27.469\nobtain files from that central repository.\n\n287\n00:14:27.469 --> 00:14:31.057\nSo, it's a way for\nyou to gain access to files but, and\n\n288\n00:14:31.057 --> 00:14:33.900\nwe were also talking about this Adam.\n\n289\n00:14:33.900 --> 00:14:35.038\nIn my personal opinion,\n\n290\n00:14:35.038 --> 00:14:37.922\nI feel like this is a technology\nthat maybe kind of phasing out.\n\n291\n00:14:37.922 --> 00:14:43.025\nBecause with Cloud computing,\nwe have access to files easily,\n\n292\n00:14:43.025 --> 00:14:46.340\nit's readily available with OneDrive.\n\n293\n00:14:46.340 --> 00:14:48.470\nAnd there are other,\nthat's Microsoft's implementation.\n\n294\n00:14:48.470 --> 00:14:53.320\nBut you have Dropbox and different\nsolutions that are out there for you.\n\n295\n00:14:53.320 --> 00:14:58.099\nSo, this was kind of developed before\nwe were really using those other\n\n296\n00:14:58.099 --> 00:15:01.101\ntechnologies, that's my opinion, but.\n\n297\n00:15:01.101 --> 00:15:05.350\n&gt;&gt; All true, but just, we wanna be\nspecific and clear about this opinions.\n\n298\n00:15:05.350 --> 00:15:10.000\nAnd certainly important to understand and\nsee the value of.\n\n299\n00:15:10.000 --> 00:15:12.530\nBut from a exam objective perspective, and\n\n300\n00:15:12.530 --> 00:15:16.430\nperhaps from a knowledge perspective,\nopinions not withstanding.\n\n301\n00:15:16.430 --> 00:15:17.752\n&gt;&gt; That's very true.\n\n302\n00:15:17.752 --> 00:15:19.852\n[LAUGH]\n&gt;&gt; It would still be important perhaps,\n\n303\n00:15:19.852 --> 00:15:24.104\njust saying, it might be good to know that\nit is a technology that works exactly as\n\n304\n00:15:24.104 --> 00:15:25.305\nCherokee described.\n\n305\n00:15:25.305 --> 00:15:29.767\nThe only thing I will add, 100% spot on\ndefinition, everything precise, perfect,\n\n306\n00:15:29.767 --> 00:15:32.130\nclean, crisp, clear,\nall in the show notes.\n\n307\n00:15:32.130 --> 00:15:34.670\nThe only thing Cherokee left\nout is a minor point, but\n\n308\n00:15:34.670 --> 00:15:37.230\njust one that we wanna add\nto what she already said.\n\n309\n00:15:37.230 --> 00:15:38.318\nDon't even need to be domain joined.\n\n310\n00:15:38.318 --> 00:15:38.941\n&gt;&gt; That's true, yeah.\n\n311\n00:15:38.941 --> 00:15:42.515\n&gt;&gt; We're not domain joined, so\nfrom outside she said, absolutely correct.\n\n312\n00:15:42.515 --> 00:15:45.691\nBut also it could be a non-domain member,\nand still use workflows,\n\n313\n00:15:45.691 --> 00:15:48.286\nit's the doing little thing\nwanted to throw out there.\n\n314\n00:15:48.286 --> 00:15:49.916\nOther than that,\neverything is exactly as described.\n\n315\n00:15:49.916 --> 00:15:53.315\nI was just taking advantage of Cherokee\nexplaining this for us for a minute.\n\n316\n00:15:53.315 --> 00:15:55.655\nJust to show you how we would\nturn this on and enable it.\n\n317\n00:15:55.655 --> 00:15:58.678\nSo you'll see here I'm on in\nthis case our DM machine,\n\n318\n00:15:58.678 --> 00:16:00.468\njust acting as our file server.\n\n319\n00:16:00.468 --> 00:16:03.407\nIn many of the demos,\nwe do a variety of things But\n\n320\n00:16:03.407 --> 00:16:07.155\nwork folders is part of that file and\nstorage system feature.\n\n321\n00:16:07.155 --> 00:16:10.947\nSo we go up here, as you can see, and\nit's up under File and Storage Services.\n\n322\n00:16:10.947 --> 00:16:15.129\nSo it's one of the sub-features\nthat we add in under the role.\n\n323\n00:16:15.129 --> 00:16:18.551\nAnd you'll see down here at the bottom,\nWork Folders, I just highlighted it,\n\n324\n00:16:18.551 --> 00:16:19.995\nobviously would check that off.\n\n325\n00:16:19.995 --> 00:16:24.149\nIt does provide a way to use these work\nfiles from a variety of different sources,\n\n326\n00:16:24.149 --> 00:16:27.891\nas it says here, from outside the network,\nacross the Internet, etc.\n\n327\n00:16:27.891 --> 00:16:32.803\nWhen we install this, we are going to then\nhave the IIS function already joined in as\n\n328\n00:16:32.803 --> 00:16:35.767\npart of this,\nif it's not already on the system.\n\n329\n00:16:35.767 --> 00:16:39.725\nSo when you do this, you'll see\nwe do get IIS hostable web core.\n\n330\n00:16:39.725 --> 00:16:43.202\nThere are, the IIS management\nconsole would be there as well, so\n\n331\n00:16:43.202 --> 00:16:44.856\nwe'd have to be aware of that.\n\n332\n00:16:44.856 --> 00:16:49.041\nThe only reason I'm pointing that out\nis that if you don't already have it\n\n333\n00:16:49.041 --> 00:16:52.840\ninstalled, you'll see it's not here,\nit would be configured.\n\n334\n00:16:52.840 --> 00:16:55.550\nBut you'll see prompt there,\nand just be aware of that,\n\n335\n00:16:55.550 --> 00:16:58.896\nyou don't have to configure IIS,\nwe're not gonna make any changes.\n\n336\n00:16:58.896 --> 00:17:02.976\nBut we are gonna require some of the\ncapabilities of the web hosting that IIS\n\n337\n00:17:02.976 --> 00:17:04.206\nprovides to run this,\n\n338\n00:17:04.206 --> 00:17:07.988\nbecause we are synchronizing these\nfiles essentially over the web.\n\n339\n00:17:07.988 --> 00:17:10.452\nAnd so we do need to understand that, and\n\n340\n00:17:10.452 --> 00:17:14.952\nwe do need to assign a trusted SSL\ncertificate to be able to work with this.\n\n341\n00:17:14.952 --> 00:17:19.654\nSo we will need to load a SSL certificate\ninto IIS to have work folders work.\n\n342\n00:17:19.654 --> 00:17:22.542\nIt's probably the only other thing we\ndidn't talk about with the description,\n\n343\n00:17:22.542 --> 00:17:24.637\nwe just wanna make sure we\nare aware of as well, all right?\n\n344\n00:17:24.637 --> 00:17:27.156\n&gt;&gt; Yeah, because you're setting\nup that SSL certificate.\n\n345\n00:17:27.156 --> 00:17:30.627\nSo that's a good point to make,\nbecause I actually worked for\n\n346\n00:17:30.627 --> 00:17:34.989\na company as a network admin and they did\nnot want to give out any information.\n\n347\n00:17:34.989 --> 00:17:38.391\nActually, it was a very sensitive\ntype of business that they did.\n\n348\n00:17:38.391 --> 00:17:42.125\nSo they didn't want, this can all be\ndone within in house is basically\n\n349\n00:17:42.125 --> 00:17:44.929\nwhat I'm trying to say here\nif I can get my words out.\n\n350\n00:17:44.929 --> 00:17:47.569\nSo that is one thing that is a plus here.\n\n351\n00:17:47.569 --> 00:17:51.659\nConsideration also is you don't have\nto give out any of that trust or\n\n352\n00:17:51.659 --> 00:17:55.194\ncount on someone else to manage\nthis information for you.\n\n353\n00:17:55.194 --> 00:17:57.245\nYou could set it all up in house.\n\n354\n00:17:57.245 --> 00:17:58.647\n&gt;&gt; You can, absolutely.\n\n355\n00:17:58.647 --> 00:18:00.586\nSelf-sign certificates can be used for\ninstance,\n\n356\n00:18:00.586 --> 00:18:02.267\nyou don't have to go out\nto that third party.\n\n357\n00:18:02.267 --> 00:18:05.521\nSpeaking of how we would do this, we did\ndifferentiate between domain join and\n\n358\n00:18:05.521 --> 00:18:06.371\nnon-domain join.\n\n359\n00:18:06.371 --> 00:18:09.829\nSo if you're domain join we're gonna show\nyou a quick policy setting here about\n\n360\n00:18:09.829 --> 00:18:12.477\nconfiguring work folders,\nthe automatic configuration.\n\n361\n00:18:12.477 --> 00:18:14.827\nIt can be done, in other words,\nfor clients that are domain join.\n\n362\n00:18:14.827 --> 00:18:17.559\nNon-domain join computers can use it,\nas we said, no big deal.\n\n363\n00:18:17.559 --> 00:18:20.621\nBut manual configuration is\nobviously the policy we´re about to\n\n364\n00:18:20.621 --> 00:18:21.798\nshow you will not apply.\n\n365\n00:18:21.798 --> 00:18:23.500\nSo just make sure you´re aware of that.\n\n366\n00:18:23.500 --> 00:18:27.040\nSo for the policy settings, instead of\nthe computer area where we've been,\n\n367\n00:18:27.040 --> 00:18:28.898\ngonna go into user configuration here.\n\n368\n00:18:28.898 --> 00:18:31.707\nWe´re gonna go into policies\nadministrative templates.\n\n369\n00:18:31.707 --> 00:18:34.012\nJust open this up real quick.\n\n370\n00:18:34.012 --> 00:18:36.656\nWe´re gonna go into Windows Components.\n\n371\n00:18:36.656 --> 00:18:41.363\nAnd under Windows Components gonna go all\nthe way down to work folders right down\n\n372\n00:18:41.363 --> 00:18:42.639\nthere at the bottom.\n\n373\n00:18:42.639 --> 00:18:45.689\nBecause you know alphabetically\nU comes before F.\n\n374\n00:18:45.689 --> 00:18:47.056\n&gt;&gt; [LAUGH]\n&gt;&gt; And so that makes a lot of sense,\n\n375\n00:18:47.056 --> 00:18:47.972\nI never understood.\n\n376\n00:18:47.972 --> 00:18:49.282\n&gt;&gt; All right.\n&gt;&gt; Everything is alphabetical and\n\n377\n00:18:49.282 --> 00:18:52.062\nthen they go and they say you know what,\nlet's put work folders at the end,\n\n378\n00:18:52.062 --> 00:18:53.358\nnobody's gonna care about that.\n\n379\n00:18:53.358 --> 00:18:55.355\nWe don't have to worry about\nwhere that actually belongs.\n\n380\n00:18:55.355 --> 00:18:57.880\nAll right, so work folders,\nnot quite alphabetical but\n\n381\n00:18:57.880 --> 00:18:59.623\ndown there at the bottom as you can see.\n\n382\n00:18:59.623 --> 00:19:04.783\nSpecify work folder settings, yes we\nneed to do that, go in, open that up.\n\n383\n00:19:04.783 --> 00:19:09.464\nYou'll see here enabled,\nat least Windows 8.1.\n\n384\n00:19:09.464 --> 00:19:10.593\nSo not even Windows 8.\n\n385\n00:19:10.593 --> 00:19:12.960\n8.1 and or 10 going forward.\n\n386\n00:19:12.960 --> 00:19:16.138\nBut notice RT 8.1 we do support\nSurface tablets, right?\n\n387\n00:19:16.138 --> 00:19:18.733\nSo Work Folder URL,\nwe would have to put this in.\n\n388\n00:19:18.733 --> 00:19:22.686\nThis is typically gonna be, it's not\ntypically, it is an HTTPS URL as we talked\n\n389\n00:19:22.686 --> 00:19:24.598\nabout, cuz we need that,\n&gt;&gt; That's how you had the IIS.\n\n390\n00:19:24.598 --> 00:19:26.017\n&gt;&gt; SSL certificate, right?\n\n391\n00:19:26.017 --> 00:19:29.874\nSo we will do that but\nusually it's something along the HTTPS and\n\n392\n00:19:29.874 --> 00:19:32.885\nthe file server FQDN,\nwhatever that is, right?\n\n393\n00:19:32.885 --> 00:19:37.385\nSo if it is, what did we say ours was\n\n394\n00:19:37.385 --> 00:19:45.318\nPlab-DM01.practicelabs.com, in\nour example here.\n\n395\n00:19:45.318 --> 00:19:51.805\nAlthough that is [LAUGH] not quite how\nwe spell that plab, practicelabs.com.\n\n396\n00:19:51.805 --> 00:19:55.963\nSo we will put that in here, whatever\nthat URL is, force automatic setup,\n\n397\n00:19:55.963 --> 00:19:58.476\nthat will force the client\nto be configured.\n\n398\n00:19:58.476 --> 00:20:03.324\nWe will click Apply, click OK, now that\nwill be applied to all of the users\n\n399\n00:20:03.324 --> 00:20:08.271\nthat log on through that device in\nthe domain if they're domain-joined.\n\n400\n00:20:08.271 --> 00:20:12.352\nAnd then as a result, that device and that\nuser will be configured and told, hey,\n\n401\n00:20:12.352 --> 00:20:15.090\ngo to this URL,\nto be able to access this information.\n\n402\n00:20:15.090 --> 00:20:16.624\nSo just keep that in mind.\n\n403\n00:20:16.624 --> 00:20:19.755\nBut for manual configuration, or\nrather non-domain joined clients,\n\n404\n00:20:19.755 --> 00:20:22.473\nwe would have to engage in a manual\nconfiguration, going in and\n\n405\n00:20:22.473 --> 00:20:25.473\nessentially pointing them to the URL and\ntelling them how to find it.\n\n406\n00:20:25.473 --> 00:20:27.795\nSo it's up to us to decide what to do.\n\n407\n00:20:27.795 --> 00:20:31.567\nBut we can also go in,\nunder Computer Configuration.\n\n408\n00:20:31.567 --> 00:20:35.239\nSo let me just show you the other side\nof this coin, we just did the user side.\n\n409\n00:20:35.239 --> 00:20:39.328\nWe just clean this up here real quick\njust so we can see where we're going.\n\n410\n00:20:39.328 --> 00:20:42.521\nAll right, Up under Computer Configuration\nwe're gonna go in and\n\n411\n00:20:42.521 --> 00:20:45.611\ntake a look at again essentially\nthe same path for work folders.\n\n412\n00:20:45.611 --> 00:20:47.166\nSo we're gonna go into Policies here.\n\n413\n00:20:47.166 --> 00:20:49.220\nWe're gonna go to\nAdministrative Templates.\n\n414\n00:20:49.220 --> 00:20:54.038\nGo into Windows Components\nall the way down here.\n\n415\n00:20:54.038 --> 00:20:55.748\nAnd again, almost down at the bottom.\n\n416\n00:20:55.748 --> 00:20:58.511\nThat work place join and work folders\nare down below windows update.\n\n417\n00:20:58.511 --> 00:21:02.786\nSo again, no logic to the alphabetization.\n\n418\n00:21:02.786 --> 00:21:05.661\nForce automatic setup for\nall users, right?\n\n419\n00:21:05.661 --> 00:21:08.275\nSo we can specify this, enable it here.\n\n420\n00:21:08.275 --> 00:21:12.857\nAnd what that does is, again, that would\napply to the computer as well as the user,\n\n421\n00:21:12.857 --> 00:21:15.880\nforcing the configuration\nfrom either perspective.\n\n422\n00:21:15.880 --> 00:21:19.272\nSo the computer is already or will\nalways be configured regardless of user.\n\n423\n00:21:19.272 --> 00:21:22.371\nOr we could do this on a per user\nbasis as they log on in the profile.\n\n424\n00:21:22.371 --> 00:21:24.493\nSettings are up to you to\ndecide how to mix and match.\n\n425\n00:21:24.493 --> 00:21:27.590\nBut you saw both sides of this based\non the settings we will provide.\n\n426\n00:21:27.590 --> 00:21:30.367\nAgain, I did it in\nthe default domain policy.\n\n427\n00:21:30.367 --> 00:21:33.757\nYou may wanna break out a separate\npolicy and just label it Work Folders.\n\n428\n00:21:33.757 --> 00:21:36.758\nBut it's set in the same place, it's just\na matter of how you choose to apply that.\n\n429\n00:21:36.758 --> 00:21:40.502\nBut that'll be up to us and it's just\na matter then of whether we do it on\n\n430\n00:21:40.502 --> 00:21:42.476\na per user logon basis on the device.\n\n431\n00:21:42.476 --> 00:21:45.459\nYou can think about the logic, of maybe\nshift workers sharing a device, right?\n\n432\n00:21:45.459 --> 00:21:46.718\n&gt;&gt; Right.\n&gt;&gt; So we could say for\n\n433\n00:21:46.718 --> 00:21:49.884\nthose workers that require it,\nI get it, for those that don't,\n\n434\n00:21:49.884 --> 00:21:52.029\nif we do it on a per user\nbasis they would not.\n\n435\n00:21:52.029 --> 00:21:55.099\nWhereas, if we do it on the device,\nit's set up regardless of who logs in, so\n\n436\n00:21:55.099 --> 00:21:57.630\nit's really just a question of\nhow we choose to approach that.\n\n437\n00:21:57.630 --> 00:22:01.263\nBut we do have both options, question for\nyou of what you think would be\n\n438\n00:22:01.263 --> 00:22:04.229\nthe most contextually relevant\nway to set that setting.\n\n439\n00:22:04.229 --> 00:22:07.371\n&gt;&gt; Yeah, and another thing is we're\nlooking at these features here.\n\n440\n00:22:07.371 --> 00:22:10.467\nAnd they also integrate with other\nfeatures that we've already talked about.\n\n441\n00:22:10.467 --> 00:22:13.378\nAnd you can implement, use like FSRM and\n\n442\n00:22:13.378 --> 00:22:18.351\nthings like that to go ahead and\nset disk quotas and things like that.\n\n443\n00:22:18.351 --> 00:22:22.211\nSo it's really cool how you see a lot\nof these advanced storage features\n\n444\n00:22:22.211 --> 00:22:23.702\nworking together for you.\n\n445\n00:22:23.702 --> 00:22:24.949\nSo that's pretty neat.\n\n446\n00:22:24.949 --> 00:22:26.312\n&gt;&gt; Absolutely.\n\n447\n00:22:26.312 --> 00:22:28.764\n&gt;&gt; All right, Adam, it looks like\nwe're out of time for this show, so\n\n448\n00:22:28.764 --> 00:22:29.852\nwe'll go ahead and sign off.\n\n449\n00:22:29.852 --> 00:22:32.253\nRemember, I'm your host, Cherokee Boose.\n\n450\n00:22:32.253 --> 00:22:34.241\n&gt;&gt; I am ducking down, but my name is Adam.\n\n451\n00:22:34.241 --> 00:22:36.012\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm avoiding the live fire\n\n452\n00:22:36.012 --> 00:22:36.973\nhere in the studio.\n\n453\n00:22:36.973 --> 00:22:38.829\n&gt;&gt; See you next time here at ITProTV.\n\n454\n00:22:38.829 --> 00:22:44.418\n&gt;&gt; Take care, everybody.\n\n455\n00:22:44.418 --> 00:22:47.394\n[MUSIC]\n\n456\n00:22:47.394 --> 00:22:50.779\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "224333285"
        }
      ],
      "title": "Implementing Dynamic Access Control"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Cherokee and Adam explain Active Directory Domain Services. Adam shares the meaning of several boundaries and explains the terminology needed to understand the Active Directory environment. He also walks thru the process of setting up a child domain.",
          "length": "2123",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-5-1-distributed_ad_ds_deployments-063017-PGM.00_35_05_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-5-1-distributed_ad_ds_deployments-063017-PGM.00_35_05_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-5-1-distributed_ad_ds_deployments-063017-PGM.00_35_05_26.Still001-sm.jpg",
          "title": "Distributed AD DS Deployments",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:06.613\nWelcome to ITPro TV I'm your\nhost Don Pezet [CROSSTALK]\n\n2\n00:00:06.613 --> 00:00:08.478\n[MUSIC]\n\n3\n00:00:08.478 --> 00:00:12.679\n&gt;&gt; You're watching ITPRO.TV\n&gt;&gt; Welcome\n\n4\n00:00:12.679 --> 00:00:17.830\nto your MCSA 70-412 series,\nI'm your show host Cherokee Boose.\n\n5\n00:00:17.830 --> 00:00:22.590\nIn this episode we'll be taking a look\nat implementing ADDS deployments.\n\n6\n00:00:22.590 --> 00:00:23.340\nThat's an mouthful.\n\n7\n00:00:23.340 --> 00:00:26.200\nAdam, what do we actually\ngonna be talking about here?\n\n8\n00:00:26.200 --> 00:00:31.310\n&gt;&gt; So AD comes from Active Directory,\nDS comes from Directory Services,\n\n9\n00:00:31.310 --> 00:00:33.243\nwe put them together we're talking about\n&gt;&gt; ADDS.\n\n10\n00:00:33.243 --> 00:00:35.130\n&gt;&gt; Active directory directory of services.\n\n11\n00:00:35.130 --> 00:00:40.085\nSo, just the acronym that Microsoft uses,\nover the timeline that active directory\n\n12\n00:00:40.085 --> 00:00:44.623\nhas come about since the Windows 2000\noperating system, that crossover\n\n13\n00:00:44.623 --> 00:00:49.574\nbetween NT4 and Windows 2000, you hear me\nrefer to it from time to time, we went\n\n14\n00:00:49.574 --> 00:00:54.373\nfrom a flat domain model in NT4 to a\nhierarchical LDAP based directory service.\n\n15\n00:00:54.373 --> 00:00:55.940\nThank you Novell, by the way.\n\n16\n00:00:55.940 --> 00:00:58.600\nRight in Windows 2000 going forward.\n\n17\n00:00:58.600 --> 00:01:01.370\nAnd we think of the directory tree, and\nall the stuff we're about to talk about.\n\n18\n00:01:01.370 --> 00:01:05.070\nThe forest, the trees, the domains,\nthat whole thought process we've\n\n19\n00:01:05.070 --> 00:01:09.290\nreally come to know and take for granted,\nwe're talking about the Active Directory.\n\n20\n00:01:09.290 --> 00:01:10.960\nBut over time it's been\ncalled different things.\n\n21\n00:01:10.960 --> 00:01:12.670\nIt used to be called just AD for\n\n22\n00:01:12.670 --> 00:01:15.960\na long time and Windows 2000\nreferred to it as Active Directory.\n\n23\n00:01:15.960 --> 00:01:20.960\nStarting about Windows 2008ish or so\nActive Directory, Directory Services,\n\n24\n00:01:20.960 --> 00:01:22.700\nwe kinda see that cross-over.\n\n25\n00:01:22.700 --> 00:01:25.500\nAnd then it became ADD again, ADDS.\n\n26\n00:01:25.500 --> 00:01:27.190\nSo, we kinda just go back and forth.\n\n27\n00:01:27.190 --> 00:01:29.670\nBut we're really just talking\nabout the Active Directory.\n\n28\n00:01:29.670 --> 00:01:33.420\nHowever, you want to think of that\nwhatever that will mean to you.\n\n29\n00:01:33.420 --> 00:01:37.160\nBut we thought we would start\ntalking about the ADDS structures,\n\n30\n00:01:37.160 --> 00:01:38.810\nthe domain tree, the forest.\n\n31\n00:01:38.810 --> 00:01:42.790\nTalk about the domain, what it is for,\nwhy it is important, how we leverage it,\n\n32\n00:01:42.790 --> 00:01:44.160\nwhat we think of it as.\n\n33\n00:01:44.160 --> 00:01:48.392\nThought it would be helpful for us to kind\nof walk through the logic of some of the,\n\n34\n00:01:48.392 --> 00:01:50.153\nnot all of the characteristics.\n\n35\n00:01:50.153 --> 00:01:54.097\nBut, in the case of let's say the active\ndirectory domain starting there,\n\n36\n00:01:54.097 --> 00:01:55.710\nthe boundary specification.\n\n37\n00:01:55.710 --> 00:01:59.083\nSo what the domain represents,\nfrom the security, from replication,\n\n38\n00:01:59.083 --> 00:02:01.865\nfrom an administration standpoint\nwhat are those things?\n\n39\n00:02:01.865 --> 00:02:03.220\nWhy are they important?\n\n40\n00:02:03.220 --> 00:02:04.570\nWhy do we think about them?\n\n41\n00:02:04.570 --> 00:02:07.385\nFrom the replication perspective, and\nI thought it might be helpful here,\n\n42\n00:02:07.385 --> 00:02:10.320\nbear with me just a half a second while\nI bring this up just to make sure\n\n43\n00:02:10.320 --> 00:02:13.440\nwe're kind of on the right place here,\nin the right place.\n\n44\n00:02:13.440 --> 00:02:16.430\nIf you want to join me here on my notes\njust so we can see the information.\n\n45\n00:02:16.430 --> 00:02:18.130\nWe may have to go full screen on this\n\n46\n00:02:18.130 --> 00:02:19.820\notherwise you're only\ngoing to read a third.\n\n47\n00:02:19.820 --> 00:02:22.810\nOr so is gonna be missing from\nwhat I can talk about here.\n\n48\n00:02:22.810 --> 00:02:25.110\nBut I put together some notes,\nand again, these are show notes.\n\n49\n00:02:25.110 --> 00:02:28.620\nYou will see them and have access to\nthem if you want to download them.\n\n50\n00:02:28.620 --> 00:02:31.710\nJust some notes on the different\nways in which we see the domain\n\n51\n00:02:31.710 --> 00:02:32.860\nas being a boundary.\n\n52\n00:02:32.860 --> 00:02:37.940\nI mentioned replication, I mentioned\nadministration, group policy, auditing.\n\n53\n00:02:37.940 --> 00:02:42.570\nThese are all gonna be areas where we are\nthinking about the domain, what it does,\n\n54\n00:02:42.570 --> 00:02:43.590\nand why it is important.\n\n55\n00:02:43.590 --> 00:02:46.820\nWe have, below there, a couple more\npassword and account policies,\n\n56\n00:02:46.820 --> 00:02:51.130\nreally aspects of security,\nreplication boundary for domains.\n\n57\n00:02:51.130 --> 00:02:53.900\nFrom a DNS zone perspective\nI called out there, as well.\n\n58\n00:02:53.900 --> 00:02:56.200\nWe'll take a look at\nthat in just a minute.\n\n59\n00:02:56.200 --> 00:02:59.800\nAll of these are Things that we have to\nthink about and be concerned about with\n\n60\n00:02:59.800 --> 00:03:04.100\nregards to the AD, with regards\nspecifically to the Active Directory,\n\n61\n00:03:04.100 --> 00:03:07.560\nDirectory Service domain boundary,\nbecause we have to think about\n\n62\n00:03:07.560 --> 00:03:12.540\nthe boundary as a partition that\nindicates things occur in one area but\n\n63\n00:03:12.540 --> 00:03:17.680\nare segmented and uniquely associated with\nthat name space and may occur elsewhere,\n\n64\n00:03:17.680 --> 00:03:20.430\nbut are gonna be distinctly different\non the other side of that boundary.\n\n65\n00:03:20.430 --> 00:03:22.590\nAnd that's often what we talk about.\n\n66\n00:03:22.590 --> 00:03:26.600\nSo replication boundary for the domain\npartition, everything about the domain.\n\n67\n00:03:26.600 --> 00:03:29.540\nIt's unique instantiated objects\nwe've talked about these\n\n68\n00:03:29.540 --> 00:03:31.140\nin some of our other episodes.\n\n69\n00:03:31.140 --> 00:03:33.370\nAre gonna be referred there?\n\n70\n00:03:33.370 --> 00:03:36.560\nAnd as a result when we\nhave knowledge of them and\n\n71\n00:03:36.560 --> 00:03:40.680\nwe replicate knowledge of them\naround to other domain controllers,\n\n72\n00:03:40.680 --> 00:03:45.100\nwe are sending that information out so\nthat everybody thinks about refers to and\n\n73\n00:03:45.100 --> 00:03:47.770\nagrees upon what those\nobjects are in the same way.\n\n74\n00:03:47.770 --> 00:03:51.280\nAnd if they are in the container of\nthe domain, they are part of that domain.\n\n75\n00:03:51.280 --> 00:03:53.250\nIf they are outside,\nthey are from another domain.\n\n76\n00:03:53.250 --> 00:03:56.529\nAnd remember we can have two user\nobjects called the same thing,\n\n77\n00:03:56.529 --> 00:04:00.430\nas long as they don't coexist in the same\ndomain partition at the same time.\n\n78\n00:04:00.430 --> 00:04:03.980\nIn other words,\nwe can never have two Cherokee users,\n\n79\n00:04:03.980 --> 00:04:06.830\nnever have two Adam users\nin the same domain.\n\n80\n00:04:06.830 --> 00:04:08.290\nNamed the same.\n\n81\n00:04:08.290 --> 00:04:13.040\nEven if we had two objects that on the\nsurface had the same name descriptively,\n\n82\n00:04:13.040 --> 00:04:14.690\nthe metadata display name.\n\n83\n00:04:14.690 --> 00:04:17.380\nWhen we looked at\nthe grids underlying them,\n\n84\n00:04:17.380 --> 00:04:19.425\nthe actual object IDs would be different.\n\n85\n00:04:19.425 --> 00:04:21.595\nWe talked about this and\nkind of went through the logic.\n\n86\n00:04:21.595 --> 00:04:24.975\nCherokee and I broke that down for you and\ntalked about where that comes from,\n\n87\n00:04:24.975 --> 00:04:28.085\nand the combination of that\nunique security identifier,\n\n88\n00:04:28.085 --> 00:04:33.145\nthe relative ID, the domain identifier\ncombined together to give you the GUID.\n\n89\n00:04:33.145 --> 00:04:35.615\nSo remember everything is unique\nwithin the boundary of the domain and\n\n90\n00:04:35.615 --> 00:04:38.940\nwe replicate that to\nall domain controllers.\n\n91\n00:04:38.940 --> 00:04:40.640\nIn order to have knowledge of that.\n\n92\n00:04:40.640 --> 00:04:43.510\nIt's an administration boundary as well,\nwith the exception, I say,\n\n93\n00:04:43.510 --> 00:04:46.580\nthere of the Enterprise Admins\ngroup at the forest root domain.\n\n94\n00:04:46.580 --> 00:04:49.690\nAdministrative accounts do not\nhave rights in other domains or\n\n95\n00:04:49.690 --> 00:04:53.000\nin forests other than in their\nown forest in their own domain.\n\n96\n00:04:53.000 --> 00:04:56.300\nSo if I'm an administrator\nof ITPro.TV as a domain,\n\n97\n00:04:56.300 --> 00:05:00.342\nI don't have rights to any of the other\ndomains that may make up the forest.\n\n98\n00:05:00.342 --> 00:05:04.270\nitpro.org, itpro.com.\n\n99\n00:05:04.270 --> 00:05:06.810\nIf at all part of the ITPro forest\n\n100\n00:05:06.810 --> 00:05:11.770\nI only have rights to ITPro\nas an admin in ITPro.TV.\n\n101\n00:05:11.770 --> 00:05:15.795\nIf i'm an enterprise admin and in\nthe forest called ITPro would have rights\n\n102\n00:05:15.795 --> 00:05:20.755\nimplicitly, and indeed explicitly to every\none of the domains underneath the forest,\n\n103\n00:05:20.755 --> 00:05:23.515\nbecause the enterprise admin\naccount is automatically part of\n\n104\n00:05:23.515 --> 00:05:27.011\nthe domain admin account and therefore\ndomain admin group in every domain.\n\n105\n00:05:27.011 --> 00:05:30.755\nSo just want to make sure we're aware of\nthe capabilities of certain accounts to\n\n106\n00:05:30.755 --> 00:05:32.255\njump between domains.\n\n107\n00:05:32.255 --> 00:05:36.890\nBut also the hard coded security boundary,\nthat the domain implies in most cases.\n\n108\n00:05:36.890 --> 00:05:38.540\nFor most of those accounts.\n\n109\n00:05:38.540 --> 00:05:42.140\nWe do have group policy application,\nand the boundary for\n\n110\n00:05:42.140 --> 00:05:43.510\ngroup policy being applied.\n\n111\n00:05:43.510 --> 00:05:45.610\nI mentioned this in one of\nour prior episodes, actually,\n\n112\n00:05:45.610 --> 00:05:48.060\nwhen we talked about work folders, right?\n\n113\n00:05:48.060 --> 00:05:49.590\nAnd access-denied assistance,\n\n114\n00:05:49.590 --> 00:05:53.350\nwhen we were talking about the fact that\nalthough we manage with group policy.\n\n115\n00:05:54.360 --> 00:05:57.050\nWe're setting things up,\nwe do that at the domain level,\n\n116\n00:05:57.050 --> 00:06:00.060\nthat group policies are not\ngonna be shared between domains.\n\n117\n00:06:00.060 --> 00:06:03.260\nAnd as a result,\nwe don't have any knowledge of them and\n\n118\n00:06:03.260 --> 00:06:04.980\nwe have to reproduce\nthem domain to domain.\n\n119\n00:06:04.980 --> 00:06:08.630\nActually, I think specifically\nyou were talking about,\n\n120\n00:06:08.630 --> 00:06:11.930\nyou were asking me not about\naccess denied at work folders.\n\n121\n00:06:11.930 --> 00:06:15.400\nBut I think it actually had\nto do with The FSRM and\n\n122\n00:06:15.400 --> 00:06:18.930\ndealing with some of the stuff we talked\nabout there with setting up policies and\n\n123\n00:06:18.930 --> 00:06:20.310\ndoing delegation and all that stuff.\n\n124\n00:06:20.310 --> 00:06:24.360\n&gt;&gt; Policies, yes so\nthe forest wide versus domain one.\n\n125\n00:06:24.360 --> 00:06:26.335\n&gt;&gt; That and the fact that.\n\n126\n00:06:26.335 --> 00:06:29.175\nWe create the association\nof the domain level.\n\n127\n00:06:29.175 --> 00:06:33.495\nRemember the policy that enables\nto use the claims for DAC, for\n\n128\n00:06:33.495 --> 00:06:34.615\nDynamic Access Controls.\n\n129\n00:06:34.615 --> 00:06:36.685\nSo what we're talking about,\nthat occurs for domain.\n\n130\n00:06:36.685 --> 00:06:40.640\nRemember I said we had to go through in\neach domain, set that policy up again, and\n\n131\n00:06:40.640 --> 00:06:43.380\nagain, and again because it's\nnot replicated in its domain.\n\n132\n00:06:43.380 --> 00:06:46.875\nWhere its policies and the claims may\nbe concerned at the forest level.\n\n133\n00:06:46.875 --> 00:06:47.520\n&gt;&gt; Yes.\n&gt;&gt; With regards\n\n134\n00:06:47.520 --> 00:06:49.540\nto the claimant dictionary.\n\n135\n00:06:49.540 --> 00:06:52.092\nAll that stuff you've got to keep straight\nwhen you're talking about things here.\n\n136\n00:06:52.092 --> 00:06:52.728\n&gt;&gt; It is a little technical.\n\n137\n00:06:52.728 --> 00:06:53.840\nBut that's what.\n\n138\n00:06:53.840 --> 00:06:54.952\n&gt;&gt; Right.\n&gt;&gt; Technical.\n\n139\n00:06:54.952 --> 00:06:56.420\n&gt;&gt; That's\n&gt;&gt; Technicalities.\n\n140\n00:06:56.420 --> 00:06:57.253\nThat's what we're dealing with here.\n\n141\n00:06:57.253 --> 00:06:58.190\n&gt;&gt; That's what it is.\nTechnicalities.\n\n142\n00:06:58.190 --> 00:06:58.860\nExactly.\n\n143\n00:06:58.860 --> 00:07:00.340\nAll right so we do have those.\n\n144\n00:07:00.340 --> 00:07:02.770\nWe have the auditing\nboundaries you could see here.\n\n145\n00:07:02.770 --> 00:07:06.875\nAudit is manager, auditing is a central\nfunction of the domain manage\n\n146\n00:07:06.875 --> 00:07:10.735\nthough group policy usually enabled\nat the domain policy level or\n\n147\n00:07:10.735 --> 00:07:13.495\nthe default domain policy because\nof the security setting so\n\n148\n00:07:13.495 --> 00:07:17.535\njust be aware of that again maximum\nsetting and scope that would be domain.\n\n149\n00:07:17.535 --> 00:07:21.385\nIf we enable that auditing in domain 1\nthat's not enabled automatically in any\n\n150\n00:07:21.385 --> 00:07:24.965\nother domain just in the domain that\nwe focus on as a security boundary.\n\n151\n00:07:24.965 --> 00:07:29.171\nPassword and account policy same idea\nthese are level at the domain usually done\n\n152\n00:07:29.171 --> 00:07:33.127\nthrough that default domain policy I\nmention replication of the domain DNS\n\n153\n00:07:33.127 --> 00:07:36.831\ninformation if we're using\nActive Directory integrated DNS zones,\n\n154\n00:07:36.831 --> 00:07:40.658\nthat we would integrate our DNS\ninformation there, and we would see that\n\n155\n00:07:40.658 --> 00:07:45.053\nreplicated as part of that round Thought\nprocess of moving information between and\n\n156\n00:07:45.053 --> 00:07:48.035\namong the domain controllers so\nI called that out here.\n\n157\n00:07:48.035 --> 00:07:50.955\nWe do have two separate replication\npartitions that are created when\n\n158\n00:07:50.955 --> 00:07:51.468\nwe do this.\n\n159\n00:07:51.468 --> 00:07:55.333\nDomain DNS zones and forest DNS zones,\nas you can see here.\n\n160\n00:07:55.333 --> 00:07:59.345\nAnd the domainDnsZone partition\nhas domain specific DNS entries,\n\n161\n00:07:59.345 --> 00:08:03.637\nand that's replicated out to other\ndomain controllers in the domain but\n\n162\n00:08:03.637 --> 00:08:05.490\nnot replicated beyond that.\n\n163\n00:08:05.490 --> 00:08:06.970\nSo just be aware of that.\n\n164\n00:08:06.970 --> 00:08:09.940\nSo just so that we know how\nthat replication is working.\n\n165\n00:08:09.940 --> 00:08:12.080\nNow this is all at the domain level,\nright?\n\n166\n00:08:12.080 --> 00:08:13.590\nBut what about at the forest level?\n\n167\n00:08:13.590 --> 00:08:16.982\nWell, at the forest boundary level,\nwe do have additional information and\n\n168\n00:08:16.982 --> 00:08:19.480\ndo have additional considerations\nas we talked about.\n\n169\n00:08:19.480 --> 00:08:23.865\nWe're broader in our coverage, the forest\nis made up of one or more domains, and\n\n170\n00:08:23.865 --> 00:08:26.973\none or more trees, one or\nmore independent namespaces.\n\n171\n00:08:26.973 --> 00:08:30.043\nAnd if we have multiple domains and\nmultiple trees,\n\n172\n00:08:30.043 --> 00:08:32.207\nmultiple namespaces in the forest,\n\n173\n00:08:32.207 --> 00:08:36.820\nwe have to think about how those\nboundaries are gonna interact as well.\n\n174\n00:08:36.820 --> 00:08:39.562\nAnd remember,\nthe forest is a security boundary,\n\n175\n00:08:39.562 --> 00:08:41.680\nit is the ultimate security boundary.\n\n176\n00:08:41.680 --> 00:08:45.955\nMultiple domains can coexist within one\nforest, but up at the forest level,\n\n177\n00:08:45.955 --> 00:08:48.848\nwe cannot get any higher in\nthe name resolution and or\n\n178\n00:08:48.848 --> 00:08:51.100\nin the name management hierarchy.\n\n179\n00:08:51.100 --> 00:08:54.451\nSo the forest schema is going\nto be unique to that forest.\n\n180\n00:08:54.451 --> 00:08:59.312\nBut remember, we've talked about and we'll\nsee upcoming in some future conversations\n\n181\n00:08:59.312 --> 00:09:03.510\nthe idea of trust relationships and\nwhat we call cross-forest trusts.\n\n182\n00:09:03.510 --> 00:09:05.293\nBeing able to move between two trusts and\n\n183\n00:09:05.293 --> 00:09:08.770\nestablishing trust relation between\ntwo trusts, between two forests.\n\n184\n00:09:08.770 --> 00:09:12.360\nEstablishing trust relationships\nbetween them does allow for\n\n185\n00:09:12.360 --> 00:09:18.045\nus to share information and not poke a\nhole and tear apart the security boundary,\n\n186\n00:09:18.045 --> 00:09:22.615\nbut allow us to build a bridge that\nis heavily guarded and secured.\n\n187\n00:09:22.615 --> 00:09:26.625\nBut under certain circumstances\nwe can cross that boundary.\n\n188\n00:09:26.625 --> 00:09:29.525\nWhen we establish and\nextend trust relationships,\n\n189\n00:09:29.525 --> 00:09:33.335\nwe are establishing a bridge that allows\nus to communicate either unilaterally,\n\n190\n00:09:33.335 --> 00:09:39.160\none direction, or bidirectionally,\nbilaterally, we set up two-way trusts.\n\n191\n00:09:39.160 --> 00:09:43.300\nAnd as a result, users from one\nforest can be trusted by and\n\n192\n00:09:43.300 --> 00:09:47.400\nuse resources in another forest, and\nvice versa if we go in both directions.\n\n193\n00:09:47.400 --> 00:09:49.000\nSo wanna think about that and\nbe aware of that.\n\n194\n00:09:49.000 --> 00:09:52.111\nObviously very important for\nus to have that thought process.\n\n195\n00:09:52.111 --> 00:09:54.815\nReplication boundary for\nthe schema partition.\n\n196\n00:09:54.815 --> 00:09:58.808\nI mentioned that the schema is limited\nto and linked at the forest level,\n\n197\n00:09:58.808 --> 00:10:02.820\nmeaning we replicate the schema,\nthe master blueprint for all objects.\n\n198\n00:10:02.820 --> 00:10:05.090\nAnd the object property attribute value,\n\n199\n00:10:05.090 --> 00:10:10.370\nclass model that we talk about with\nActive Directory is at the forest level.\n\n200\n00:10:10.370 --> 00:10:13.520\nWe do extend the schema when\nwe add certain programs in or\n\n201\n00:10:13.520 --> 00:10:17.210\ncreate certain capabilities, and\nthe schema is replicated forest-wide.\n\n202\n00:10:17.210 --> 00:10:21.980\nThe schema partition has the rules and\nthe syntax for all of the structures and\n\n203\n00:10:21.980 --> 00:10:25.590\nthe maintenance of the Active Directory\nin what we call the ADDS database there.\n\n204\n00:10:25.590 --> 00:10:30.650\nThe Ntds.dit file is the Active Directory\nfile that we'll be thinking of there.\n\n205\n00:10:30.650 --> 00:10:35.277\nReplication boundary for the configuration\npartition for the global catalog for\n\n206\n00:10:35.277 --> 00:10:36.498\nthe forest DSN zone.\n\n207\n00:10:36.498 --> 00:10:39.340\nAgain, all this information,\nremember we saw the split\n\n208\n00:10:39.340 --> 00:10:42.390\nin the DNS zone information that\nI mentioned just a moment ago.\n\n209\n00:10:42.390 --> 00:10:46.260\nWe talked about the domain level, I said\nthere were two partitions being created\n\n210\n00:10:46.260 --> 00:10:49.420\nif we were doing\nActive Directory Integrated DNS.\n\n211\n00:10:49.420 --> 00:10:53.440\nWhat was the domain DNS zones\nthat would replicate per domain\n\n212\n00:10:53.440 --> 00:10:54.520\nlimited to the domain?\n\n213\n00:10:54.520 --> 00:10:58.410\nAnd then the forest DNS zone partition\nreplicated to all domain controllers\n\n214\n00:10:58.410 --> 00:11:00.420\nacross the entire forest.\n\n215\n00:11:00.420 --> 00:11:03.050\nObviously any of them that are integrated,\nthey're DNS servers.\n\n216\n00:11:03.050 --> 00:11:05.390\nAnd that has records\nthat are necessary for\n\n217\n00:11:05.390 --> 00:11:09.170\nname resolution forest wide as\nopposed to limited to a single domain.\n\n218\n00:11:09.170 --> 00:11:15.510\nSo praticelabs.com would be a DNS zone\nthat is limited to a specific domain.\n\n219\n00:11:15.510 --> 00:11:20.163\nBut information about the forest and all\nthe domains within the forest would have\n\n220\n00:11:20.163 --> 00:11:23.859\nto be replicated to all DNS servers\nthrough the forest DNS zone so\n\n221\n00:11:23.859 --> 00:11:27.487\nthey're knowledgable about SRV records,\nservice records,\n\n222\n00:11:27.487 --> 00:11:32.190\nthat may have to be resolved, for\ninstance, for services up at that level.\n\n223\n00:11:32.190 --> 00:11:35.765\nSo there's a split there in the DNS\nwhen we do hosting in the active\n\n224\n00:11:35.765 --> 00:11:38.766\ndirectory between the domain and\nthe forest DNS zone.\n\n225\n00:11:38.766 --> 00:11:41.748\nAnd the information is replicated at\ndifferent levels depending of what we're\n\n226\n00:11:41.748 --> 00:11:42.375\ntalking about.\n\n227\n00:11:42.375 --> 00:11:44.816\nReplication boundary for\nthe global catalogs.\n\n228\n00:11:44.816 --> 00:11:46.510\nGlobal catalogs are actually\nreally important.\n\n229\n00:11:46.510 --> 00:11:51.160\nThey are often these under-represented,\nunder-discussed, and often, I find,\n\n230\n00:11:51.160 --> 00:11:55.390\nmisunderstood objects that\nactually play such a central role\n\n231\n00:11:55.390 --> 00:11:58.250\nin what we do with the active directory\nand the way we manage it today.\n\n232\n00:11:58.250 --> 00:12:02.040\nWe take for granted because we have\nthe default setting that all domain\n\n233\n00:12:02.040 --> 00:12:06.050\ncontrollers will be global catalogs,\nthat we don't really think about the fact\n\n234\n00:12:06.050 --> 00:12:09.670\nthat the global catalog really allows\nus to scale the Active Directory and\n\n235\n00:12:09.670 --> 00:12:14.575\nmake it as usable but also as flexible as\nit is because it allows us to keep track\n\n236\n00:12:14.575 --> 00:12:17.955\nof objects throughout the entire forest,\nas you can see.\n\n237\n00:12:17.955 --> 00:12:21.425\nBut it has a read only list of\nobjects that are in the AD forest.\n\n238\n00:12:21.425 --> 00:12:24.225\nAnd because it's going to be\na truncated list, a filtered list,\n\n239\n00:12:24.225 --> 00:12:28.650\nit is not a full manifest of\nevery object's properties.\n\n240\n00:12:28.650 --> 00:12:32.395\nMeaning, hypothetically a user\nlike myself or Cherokee.\n\n241\n00:12:32.395 --> 00:12:37.070\nIf you think of us just as a generic\nuser for a moment, we may have 20 or\n\n242\n00:12:37.070 --> 00:12:39.250\n30 properties associated with\nour user account, right?\n\n243\n00:12:39.250 --> 00:12:43.522\nA user name, we may have a manager that we\nreport to in theory if you document that,\n\n244\n00:12:43.522 --> 00:12:45.450\npublish that in the active directory.\n\n245\n00:12:45.450 --> 00:12:48.460\nWe may have groups, that we're members of,\nmost likely more than one group.\n\n246\n00:12:48.460 --> 00:12:53.275\nWe may have address information as\nproperties in our user profile where\n\n247\n00:12:53.275 --> 00:12:53.924\nwe work.\n\n248\n00:12:53.924 --> 00:12:58.640\nOur telephone number, e-mail address, SIP\naddress for Skyping and things like that.\n\n249\n00:12:58.640 --> 00:13:00.960\nWhen you break down all\nthe properties that exists for\n\n250\n00:13:00.960 --> 00:13:04.830\na user object potentially and\nthen see how many of them are populated,\n\n251\n00:13:04.830 --> 00:13:07.310\nyou may see quite a bit\nof information per user.\n\n252\n00:13:07.310 --> 00:13:10.900\nAnd then if you think about the fact that\nwe would have to fully populate a list and\n\n253\n00:13:10.900 --> 00:13:15.300\nreally detail out every object's\nproperty to uniquely identify them,\n\n254\n00:13:15.300 --> 00:13:17.260\nthat's a very large amount of information.\n\n255\n00:13:17.260 --> 00:13:23.320\nSo, the full accounting of all that\nis stored in the NTDS.DIT file.\n\n256\n00:13:23.320 --> 00:13:26.978\nBut a slimmed down version of that is\nmaintained in the global catalogue,\n\n257\n00:13:26.978 --> 00:13:30.636\nessentially a read-only list that is\npartial, not fully provisioned or\n\n258\n00:13:30.636 --> 00:13:33.114\npopulated, with place holders that say,\nyeah,\n\n259\n00:13:33.114 --> 00:13:36.730\nfor this other information you gotta\ngo check the full listing, right?\n\n260\n00:13:36.730 --> 00:13:39.450\nThis is kind of the executive summary,\nright,\n\n261\n00:13:39.450 --> 00:13:42.718\nthe one page overview of\nthe population of information.\n\n262\n00:13:42.718 --> 00:13:44.695\nAnd that’s what the global\ncatalogue provides to us.\n\n263\n00:13:44.695 --> 00:13:48.175\nSome attributes are there,\nothers are going to be kind of, hey,\n\n264\n00:13:48.175 --> 00:13:49.105\ngo here to see them.\n\n265\n00:13:49.105 --> 00:13:51.960\nAnd you go ahead and look them up in\nthe appropriate domain controller\n\n266\n00:13:51.960 --> 00:13:54.510\nin the domain in the namespace\nwhere the object exists.\n\n267\n00:13:54.510 --> 00:13:56.970\nBut [COUGH] this is a shorthand list\n\n268\n00:13:56.970 --> 00:13:59.100\nthat allows us to be able to\nreference that information.\n\n269\n00:13:59.100 --> 00:14:03.130\nIf it wasn't for the global catalog, it\nwould be almost impossible for us to have\n\n270\n00:14:03.130 --> 00:14:06.860\nknowledge of objects at the forest level\nlooking down into individual domains and\n\n271\n00:14:06.860 --> 00:14:10.320\nknowing where they are cuz we'd have\nto populate all that information fully.\n\n272\n00:14:10.320 --> 00:14:12.265\nAnd it would become very difficult\nto synchronize and maintain.\n\n273\n00:14:12.265 --> 00:14:15.691\nThe global catalog is that coping\nmechanism behind the scenes that\n\n274\n00:14:15.691 --> 00:14:17.660\nactually makes that possible for us.\n\n275\n00:14:17.660 --> 00:14:19.620\nSo it is important to note and\nbe aware of that.\n\n276\n00:14:19.620 --> 00:14:22.860\nWe do have the configuration partitions\nas you can see there as well.\n\n277\n00:14:23.940 --> 00:14:28.690\nThe layout details, domain names,\ndomain controllers, replication partners.\n\n278\n00:14:28.690 --> 00:14:30.902\nWe haven't talked about sites and\nand all that yet.\n\n279\n00:14:30.902 --> 00:14:34.170\nBut all that information is all part\nof the configuration partition,\n\n280\n00:14:34.170 --> 00:14:34.970\nand you'll see it.\n\n281\n00:14:34.970 --> 00:14:37.920\nIt is also gonna have information\nabout applications that integrate\n\n282\n00:14:37.920 --> 00:14:39.320\nwith the AD database.\n\n283\n00:14:39.320 --> 00:14:40.320\nThink Exchange,\n\n284\n00:14:40.320 --> 00:14:45.370\nthink SharePoint, think Windows\napplications that may be AD friendly.\n\n285\n00:14:45.370 --> 00:14:47.050\nSystem Center, for instance.\n\n286\n00:14:47.050 --> 00:14:50.650\nSystem Center Config Manager\nintegrates into as\n\n287\n00:14:50.650 --> 00:14:53.430\ncreating containerized\nobjects that we reference.\n\n288\n00:14:53.430 --> 00:14:56.990\nThings like management points have\nto be found by looking up in the AD.\n\n289\n00:14:56.990 --> 00:14:58.670\nSo we have to have knowledge of that.\n\n290\n00:14:58.670 --> 00:15:02.120\nAll that goes into the configuration\npartition and, again, is replicated at\n\n291\n00:15:02.120 --> 00:15:06.335\nthe forest level so all domains\nhave knowledge of that information.\n\n292\n00:15:06.335 --> 00:15:09.449\nAnd we could see that an all up\nholistic picture within that or\n\n293\n00:15:09.449 --> 00:15:13.395\nthrough that configuration partition\nacross the entire enterprise.\n\n294\n00:15:13.395 --> 00:15:17.155\nSo it is important to have a sense of how\nthis things come together, what they are,\n\n295\n00:15:17.155 --> 00:15:18.935\nwhat they look like, and how we use them.\n\n296\n00:15:18.935 --> 00:15:22.417\nAnd these lays out, hopefully,\njust a high level thought process for us.\n\n297\n00:15:22.417 --> 00:15:26.535\nThe difference between domains specific\nobjects and replication between domain\n\n298\n00:15:26.535 --> 00:15:30.113\nobjects that are unique to that domain\namong the domain controllers and\n\n299\n00:15:30.113 --> 00:15:33.883\nforest level objects that are replicated\namong all members of the forest.\n\n300\n00:15:33.883 --> 00:15:37.431\nAnd understand the differences between\nthem is gonna be helpful for us.\n\n301\n00:15:37.431 --> 00:15:40.171\nWe also have the ability to\nextend our Active Directory into\n\n302\n00:15:40.171 --> 00:15:41.661\nthe Cloud these days.\n\n303\n00:15:41.661 --> 00:15:42.891\nYou've heard Cherokee talk\nabout the Cloud before.\n\n304\n00:15:42.891 --> 00:15:45.906\nWe'll be thinking in this\ncase of Windows Azure, and\n\n305\n00:15:45.906 --> 00:15:49.197\nusing the Azure Active Directory services,\nor Azure AD.\n\n306\n00:15:49.197 --> 00:15:52.995\nTo be able to leverage a cloud\nbased either hybrid on-prem,\n\n307\n00:15:52.995 --> 00:15:56.452\noff-prem through directory\nsynchronization.\n\n308\n00:15:56.452 --> 00:15:59.500\nTotally off-prem just hosted\nin the Microsoft Cloud for\n\n309\n00:15:59.500 --> 00:16:04.500\nAzure AD Services where we just rely on\nthe cloud to authenticate and log in.\n\n310\n00:16:04.500 --> 00:16:06.860\nWhen you enable Office 365, for instance,\n\n311\n00:16:06.860 --> 00:16:11.370\nwe're using this feature set, this\ncapability to do this, you may go all in.\n\n312\n00:16:11.370 --> 00:16:14.510\nHost your Active Directory through\nAzure AD in the cloud, and\n\n313\n00:16:14.510 --> 00:16:17.080\njust replicate and\nauthenticate rather, excuse me there.\n\n314\n00:16:17.080 --> 00:16:21.450\nWhere you may host an on-prem AD and\nsynchronize back and forth.\n\n315\n00:16:21.450 --> 00:16:24.140\nSo, it really just depends on the nature\nof how you're gonna implement.\n\n316\n00:16:24.140 --> 00:16:27.290\nBut if you go all in and just put your\nAD up in the cloud with Microsoft and\n\n317\n00:16:27.290 --> 00:16:28.400\nhave Azure manage it,\n\n318\n00:16:28.400 --> 00:16:32.130\nyou're just simply authenticating against\nuser accounts that are listed there.\n\n319\n00:16:32.130 --> 00:16:36.360\nSame ideas you would participate in it and\nessentially manage and\n\n320\n00:16:36.360 --> 00:16:38.420\nuse, if you kept AD on-prem.\n\n321\n00:16:38.420 --> 00:16:41.070\nYou just don't own the domain controllers\nanymore, you're not maintaining them,\n\n322\n00:16:41.070 --> 00:16:43.910\nMicrosoft does for you in the cloud,\nthat's really the only difference.\n\n323\n00:16:43.910 --> 00:16:45.700\nBut you are able to go up and\n\n324\n00:16:45.700 --> 00:16:48.250\nable to leverage this\ninformation through the cloud.\n\n325\n00:16:48.250 --> 00:16:52.340\nSo think Exchange Online,\nSharePoint Online, Skype for Business.\n\n326\n00:16:52.340 --> 00:16:54.390\nYou may have known it as\nLinkedIn in years prior.\n\n327\n00:16:54.390 --> 00:16:57.694\nAny of those, all of those\nservices available through O365,\n\n328\n00:16:57.694 --> 00:17:02.760\nare all gonna leverage AD in the cloud,\nat least as a component in some level for\n\n329\n00:17:02.760 --> 00:17:04.450\nyou to be able to\nauthenticate against as well.\n\n330\n00:17:04.450 --> 00:17:06.350\nSo, just wanna be thinking about this and\n\n331\n00:17:06.350 --> 00:17:09.450\nthinking about the logic of how this\nworks and what we may see there.\n\n332\n00:17:09.450 --> 00:17:13.460\nThought it would be a good idea to\nshow you how to create a domain, and\n\n333\n00:17:13.460 --> 00:17:16.990\nadded domain controller just\nas a hands-on exercise as we\n\n334\n00:17:16.990 --> 00:17:17.920\nare talking about some of this.\n\n335\n00:17:17.920 --> 00:17:19.520\nLet me just extend our lab time,\n\n336\n00:17:19.520 --> 00:17:22.390\nlet me make sure we don't run out of time\nhere, while we're going through this.\n\n337\n00:17:22.390 --> 00:17:26.700\nSo why don't we take a look, we'll walk\nthrough kind of the first part of our\n\n338\n00:17:26.700 --> 00:17:30.760\nthought process of creating a child\ndomain, show you how this is gonna happen.\n\n339\n00:17:30.760 --> 00:17:35.060\nSo let's go in, we've got our domain\nmember here, we're in the Server Manager.\n\n340\n00:17:35.060 --> 00:17:36.890\nNotice, we are not a domain controller.\n\n341\n00:17:36.890 --> 00:17:39.882\nThere are no domain services added here,\nso we're going to go in.\n\n342\n00:17:39.882 --> 00:17:42.170\nWe're gonna go to manage,\ngo to go to add rules and\n\n343\n00:17:42.170 --> 00:17:46.660\nfeatures, we're going to\nleverage our wizard here.\n\n344\n00:17:46.660 --> 00:17:48.635\nClick Next through the first\ncouple of screens,\n\n345\n00:17:48.635 --> 00:17:50.762\nrole-based install is what we choose.\n\n346\n00:17:50.762 --> 00:17:53.398\nWhen they have one server, we're gonna\noperate on, so let's highlight it.\n\n347\n00:17:53.398 --> 00:17:54.560\nWe're then gonna go ahead and\n\n348\n00:17:54.560 --> 00:17:59.900\nwe're gonna choose Active Directory Domain\nServices right here, so check that off.\n\n349\n00:17:59.900 --> 00:18:02.810\nWe do get a bunch of additional\ndependencies that have to be accounted for\n\n350\n00:18:02.810 --> 00:18:03.486\nand installed.\n\n351\n00:18:03.486 --> 00:18:06.321\nSo we're gonna say yes to those and\naccept those, and\n\n352\n00:18:06.321 --> 00:18:09.350\nallow them to be put in as\npart of what we're doing.\n\n353\n00:18:09.350 --> 00:18:13.330\nNotice we have the remote server admin\ntool sorta called the RSAT tools.\n\n354\n00:18:13.330 --> 00:18:16.740\nWe do have ADDS and ADLDS tools.\n\n355\n00:18:16.740 --> 00:18:20.452\nLightweight directory services full Active\nDirectory, Active Directory Module for\n\n356\n00:18:20.452 --> 00:18:21.068\nPowerShell.\n\n357\n00:18:22.346 --> 00:18:24.230\nDo need that PowerShell support.\n\n358\n00:18:24.230 --> 00:18:26.850\nWe do also have management tools,\nthe ADAC.\n\n359\n00:18:26.850 --> 00:18:28.380\nRemember, we've talked about ADAC before.\n\n360\n00:18:28.380 --> 00:18:29.742\nThis is where the ADAC tool comes from.\n\n361\n00:18:29.742 --> 00:18:34.286\nAnd the snap-ins and command line tools,\nthis will be the Active Directory user and\n\n362\n00:18:34.286 --> 00:18:37.160\ncomputer tool, the sites and\nservices tool.\n\n363\n00:18:37.160 --> 00:18:41.460\nThe various tools that come along with all\nthe support in the command line for AD.\n\n364\n00:18:41.460 --> 00:18:45.290\nSo, all those things are being added\nas part of this representation or\n\n365\n00:18:45.290 --> 00:18:47.990\nask to be able to add\na domain functionality.\n\n366\n00:18:47.990 --> 00:18:49.440\nWe'll click add features.\n\n367\n00:18:49.440 --> 00:18:52.831\nWe now have just a couple of other things,\nincluding an ADDS item right here.\n\n368\n00:18:52.831 --> 00:18:55.280\nGonna have to specify some information.\n\n369\n00:18:55.280 --> 00:18:59.780\nWe're not gonna have any need to do any\nadditional features, as you can see here.\n\n370\n00:18:59.780 --> 00:19:02.010\nWe may or may not choose, so\nit's really up to us, I should say,\n\n371\n00:19:02.010 --> 00:19:03.410\nwe don't necessarily have to.\n\n372\n00:19:03.410 --> 00:19:06.580\nBut, we may add things in\nlike the .NET Framework, or\n\n373\n00:19:06.580 --> 00:19:09.870\nwhatever else we may want to provide\nthere, it's really up to us.\n\n374\n00:19:09.870 --> 00:19:13.200\nAll the features we did need have already\nbeen added by that default window,\n\n375\n00:19:13.200 --> 00:19:15.750\nwhere it popped up and said,\nthese are things you must have.\n\n376\n00:19:15.750 --> 00:19:17.670\nIt's up to us now if we want\nto chose optional features.\n\n377\n00:19:17.670 --> 00:19:19.350\nSo we're not going to\nbother with any of that.\n\n378\n00:19:19.350 --> 00:19:20.380\nWe'll click Next.\n\n379\n00:19:20.380 --> 00:19:22.951\nNow here under ADDS,\nit gives you some information.\n\n380\n00:19:22.951 --> 00:19:26.158\nHey, you're about to go ahead and\ncreate this domain, or\n\n381\n00:19:26.158 --> 00:19:29.432\nadd to an existing domain.,\nif it's an existing domain,\n\n382\n00:19:29.432 --> 00:19:32.620\nyou wanna become a child,\nright, things like that.\n\n383\n00:19:32.620 --> 00:19:34.970\nSo we have to think about that and\nobviously be aware of this.\n\n384\n00:19:34.970 --> 00:19:36.010\nClick Next.\n\n385\n00:19:36.010 --> 00:19:38.210\nSo, we're gonna go ahead,\nwe're gonna set this up.\n\n386\n00:19:38.210 --> 00:19:41.017\nIt really just says, hey, this is what's\ngonna happen, this is what we're gonna do.\n\n387\n00:19:41.017 --> 00:19:43.164\nWe're gonna go ahead and\nwe're gonna click install.\n\n388\n00:19:43.164 --> 00:19:45.386\nAnd then, when installation is complete,\n\n389\n00:19:45.386 --> 00:19:48.689\nwe're gonna get prompted to promote\nthis machine, which is just\n\n390\n00:19:48.689 --> 00:19:53.010\ngenerically kind of a shell right now,\nand promote this to a domain controller.\n\n391\n00:19:53.010 --> 00:19:54.337\nThere'll be a link there,\nwe're gonna click on that.\n\n392\n00:19:54.337 --> 00:19:57.190\nAnd that's where we then have to\nprovide some additional information.\n\n393\n00:19:57.190 --> 00:19:58.650\nSo it's a two step process.\n\n394\n00:19:58.650 --> 00:20:01.520\nWe're gonna basically build out\nthe infrastructure components,\n\n395\n00:20:01.520 --> 00:20:04.590\ninstall the software,\nget it ready for configuration.\n\n396\n00:20:04.590 --> 00:20:07.580\nAnd then as soon as that's done,\nwe'll be invited to click on a link and\n\n397\n00:20:07.580 --> 00:20:10.230\nfinish that configuration, which you're\ngonna see here in just a minute.\n\n398\n00:20:10.230 --> 00:20:13.384\nSo, let's click Install, let that do\nits thing, it won't take very long.\n\n399\n00:20:13.384 --> 00:20:15.728\nAnd then as soon as that finishes,\nas I said,\n\n400\n00:20:15.728 --> 00:20:19.098\nwe'll see this link that we're\ngonna be able to click on.\n\n401\n00:20:19.098 --> 00:20:22.665\nAnd then, we'll actually have to walk\nthrough a deployment configuration wizard,\n\n402\n00:20:22.665 --> 00:20:25.685\nspecifically laying out the details\nof what domain we wanna be a part of,\n\n403\n00:20:25.685 --> 00:20:27.833\nhow we're gonna join that,\nwhat we're gonna do.\n\n404\n00:20:27.833 --> 00:20:30.780\nThat's kinda part two\nthat we'll walk through.\n\n405\n00:20:30.780 --> 00:20:35.100\nSo if you've done this in years gone by,\nyou may remember, you may not have, but\n\n406\n00:20:35.100 --> 00:20:39.150\nyou would've run on your\nslightly different process.\n\n407\n00:20:39.150 --> 00:20:42.620\nWe would've used\nan Active Directory tool or\n\n408\n00:20:42.620 --> 00:20:46.750\nan Active Directory installation tool\nthat really kinda did this altogether.\n\n409\n00:20:46.750 --> 00:20:49.010\nAnd one we didn't break it out this way,\nright?\n\n410\n00:20:49.010 --> 00:20:52.470\nSo, it's a little bit different now in\n12 R2, or 12 and 12 R2 I should say,\n\n411\n00:20:52.470 --> 00:20:54.860\ncuz it's been this way for\na couple of generations.\n\n412\n00:20:54.860 --> 00:20:57.710\nWhere we install the feature, and\nthen we are invited to configure it,\n\n413\n00:20:57.710 --> 00:20:59.110\nkind of a separate thought process.\n\n414\n00:20:59.110 --> 00:21:01.370\nSo, a little bit different\nthat what we may be used to,\n\n415\n00:21:01.370 --> 00:21:03.210\nin years gone by, if you will.\n\n416\n00:21:03.210 --> 00:21:05.140\nAnd you'll see here,\nwe have finished this up.\n\n417\n00:21:05.140 --> 00:21:07.380\nYou see the link right here\nthat I was talking about.\n\n418\n00:21:07.380 --> 00:21:10.160\nWe do get the little prompt back here\nthat we'd have to do that as well, for\n\n419\n00:21:10.160 --> 00:21:13.010\nsome odd reason we closed this and\ndidn't configure it.\n\n420\n00:21:13.010 --> 00:21:14.770\nWe can go up here and\nthen continue the process.\n\n421\n00:21:14.770 --> 00:21:15.718\nSo we're gonna go ahead and\n\n422\n00:21:15.718 --> 00:21:17.954\nwe're gonna click promote this\nserver to a domain controller.\n\n423\n00:21:17.954 --> 00:21:21.800\nGet this little secondary machine, or\nrather window that pops up here and\n\n424\n00:21:21.800 --> 00:21:25.100\nwe're gonna walk through\nthis configuration, yeah?\n\n425\n00:21:25.100 --> 00:21:27.880\n&gt;&gt; And, just before you do that,\nyou definitely wanna make sure that you\n\n426\n00:21:27.880 --> 00:21:31.490\nare comfortable with the name\nof your machine also.\n\n427\n00:21:31.490 --> 00:21:34.576\nIt's not impossible to change\nthe name of your machine, but\n\n428\n00:21:34.576 --> 00:21:38.632\nit's just not as easy as changing other\ntypes of service servers on your network\n\n429\n00:21:38.632 --> 00:21:40.883\nonce you've already have this installed.\n\n430\n00:21:40.883 --> 00:21:44.436\n&gt;&gt; Changing the name of the machine that\nis gonna become the domain controller.\n\n431\n00:21:44.436 --> 00:21:45.633\n&gt;&gt; That is gonna become\nthe domain controller.\n\n432\n00:21:45.633 --> 00:21:47.108\n&gt;&gt; Yeah, that would not be a good idea.\n\n433\n00:21:47.108 --> 00:21:50.011\n&gt;&gt; [LAUGH]\n&gt;&gt; As things go it's easier to move heaven\n\n434\n00:21:50.011 --> 00:21:52.940\nand Earth, traditionally,\nthan it is together, or singly,\n\n435\n00:21:52.940 --> 00:21:56.480\nthan it is to change the machine\nname once you've joined the domain.\n\n436\n00:21:56.480 --> 00:21:58.680\nAs Cherokee implied,\nit's not impossible, but\n\n437\n00:21:58.680 --> 00:22:02.180\nit is one of those things we strongly\ndiscourage you from attempting to do.\n\n438\n00:22:02.180 --> 00:22:04.617\nThis thing gets written into\na bunch of different places for\n\n439\n00:22:04.617 --> 00:22:06.710\ndifferent reasons becomes problematic.\n\n440\n00:22:06.710 --> 00:22:09.790\nYou could always back out and\nthen reinstall, but you're doing it\n\n441\n00:22:09.790 --> 00:22:13.150\nwithin the context of the structure\nbecomes a little bit of a challenge.\n\n442\n00:22:13.150 --> 00:22:14.310\nLet's put it that way.\n\n443\n00:22:14.310 --> 00:22:16.270\nIt's probably something you\nwanna try to think better of and\n\n444\n00:22:16.270 --> 00:22:18.930\nplan ahead of time to deal with it,\nif it all possible.\n\n445\n00:22:18.930 --> 00:22:20.350\nAll right, so we're gonna come in here.\n\n446\n00:22:20.350 --> 00:22:23.510\nFirst thing we have to do, select\nthe domain or the deployment operation,\n\n447\n00:22:23.510 --> 00:22:25.120\nwhat kind of structure we're gonna create.\n\n448\n00:22:25.120 --> 00:22:28.669\nAdd a domain controller to an existing\ndomain, we can do that if we want to.\n\n449\n00:22:28.669 --> 00:22:31.354\nAdd a new domain to an existing forest, so\n\n450\n00:22:31.354 --> 00:22:35.210\ncreate a new domain namespace\nwithin the existing forest.\n\n451\n00:22:35.210 --> 00:22:37.180\nWe just talked about the forest.\n\n452\n00:22:37.180 --> 00:22:40.470\nOr add a brand new forest, right,\nwe may be creating a brand new forest.\n\n453\n00:22:40.470 --> 00:22:43.090\nSo, we're gonna add a new\ndomain to an existing forest,\n\n454\n00:22:43.090 --> 00:22:45.590\ncreate another domain,\nthat's what we're gonna do.\n\n455\n00:22:45.590 --> 00:22:48.070\nSo add a new domain to an existing forest,\n\n456\n00:22:48.070 --> 00:22:50.800\nnotice the screen changes a little bit,\nby the way.\n\n457\n00:22:50.800 --> 00:22:54.160\nThen, specify the domain information for\nthis operation.\n\n458\n00:22:54.160 --> 00:22:58.520\nSo we have to go in specify what we're\ngonna do here, how we're gonna do this.\n\n459\n00:22:58.520 --> 00:23:02.420\nSo, we're gonna go ahead, and\nI'm going to select the domain type here.\n\n460\n00:23:02.420 --> 00:23:05.640\nInstead of child domain,\nI'm gonna make that tree domain.\n\n461\n00:23:05.640 --> 00:23:09.000\nThe tree domain becomes\na separate stand alone namespace.\n\n462\n00:23:09.000 --> 00:23:11.930\nA lateral to or essentially parallel,\n\n463\n00:23:11.930 --> 00:23:15.200\nhorizontal from the other domain\nnamespaces in the forest.\n\n464\n00:23:15.200 --> 00:23:21.580\nThink ITPro.TV is right here, a child\ndomain would be switchers.itpro.tv.\n\n465\n00:23:21.580 --> 00:23:24.020\nA child domain under itpro.tv.\n\n466\n00:23:24.020 --> 00:23:28.970\nInstead, we're gonna have itpro.tv, and\nwe're gonna create practicelabs.com or\n\n467\n00:23:28.970 --> 00:23:30.090\nsomething like that.\n\n468\n00:23:30.090 --> 00:23:35.150\nNext to it, up underneath this forest that\nencompasses multiple domain namespaces.\n\n469\n00:23:35.150 --> 00:23:38.560\nAnd each one would be part of a tree,\nor its own tree.\n\n470\n00:23:38.560 --> 00:23:41.190\nAnd as they say, you got one or\nmore trees that make up a forest.\n\n471\n00:23:41.190 --> 00:23:43.906\nSo we're gonna create a secondary tree,\nanother domain namespace\n\n472\n00:23:43.906 --> 00:23:45.678\nthat would send everything,\n&gt;&gt; I always wondered where\n\n473\n00:23:45.678 --> 00:23:46.198\nthis idea came from.\n\n474\n00:23:46.198 --> 00:23:47.374\n&gt;&gt; From Novell.\n\n475\n00:23:47.374 --> 00:23:48.049\n&gt;&gt; Yeah?\n\n476\n00:23:48.049 --> 00:23:48.687\n&gt;&gt; Yes.\n\n477\n00:23:48.687 --> 00:23:49.228\n&gt;&gt; Okay.\n\n478\n00:23:49.228 --> 00:23:49.777\n&gt;&gt; From Novell.\n\n479\n00:23:49.777 --> 00:23:51.903\nYeah, so\nit's like hey let's talk about computers.\n\n480\n00:23:51.903 --> 00:23:54.980\nOr maybe let's talk about nature.\n\n481\n00:23:54.980 --> 00:23:58.410\nBut, I don't know.\n\n482\n00:23:58.410 --> 00:24:02.550\n&gt;&gt; So, what Novell years ago had,\nwas really the first to market with this\n\n483\n00:24:02.550 --> 00:24:05.519\nidea of the hierarchical\ndirectory name space, or\n\n484\n00:24:05.519 --> 00:24:08.580\nthe hierarchical LDA\nbase directory service.\n\n485\n00:24:08.580 --> 00:24:11.170\nVery famous, and for\nmany years is very good.\n\n486\n00:24:11.170 --> 00:24:14.660\nAnd they had this idea, and\nkind of came up with this logic of okay,\n\n487\n00:24:14.660 --> 00:24:17.420\nthis is the space,\nwe have trees that represent this,\n\n488\n00:24:17.420 --> 00:24:20.975\nand domain names etc.,\nthat really came from them.\n\n489\n00:24:20.975 --> 00:24:24.525\nAnd everybody else kind of went down\nthat road, and that became the standard.\n\n490\n00:24:24.525 --> 00:24:27.785\nWe often joke about the fact that\nMicrosoft kind of borrowed the Novell\n\n491\n00:24:27.785 --> 00:24:30.535\ndirectory because it kind of came\nout with it after Novell had it, and\n\n492\n00:24:30.535 --> 00:24:33.937\nit looked really identical and\nessentially was basically the same thing.\n\n493\n00:24:33.937 --> 00:24:34.987\nThey did'nt really do that of course.\n\n494\n00:24:34.987 --> 00:24:38.797\nThey just patterned their implementation\ndirectory services based on.\n\n495\n00:24:38.797 --> 00:24:42.287\nWhat Novell had made a standard more or\nless in our industry.\n\n496\n00:24:42.287 --> 00:24:44.767\nBecause it had been around for\nso long and done so well.\n\n497\n00:24:44.767 --> 00:24:47.238\nEverybody used it and\nit was very easy to understand.\n\n498\n00:24:47.238 --> 00:24:48.643\nAnd that became the standard.\n\n499\n00:24:48.643 --> 00:24:50.089\n&gt;&gt; Okay.\nSo that's where it comes from and\n\n500\n00:24:50.089 --> 00:24:52.636\nthat boys and girls is a story of\nhow Directory Services are born.\n\n501\n00:24:52.636 --> 00:24:53.671\n&gt;&gt; Yeah, your history locks in.\n\n502\n00:24:53.671 --> 00:24:54.707\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n503\n00:24:54.707 --> 00:24:57.278\nwe do have the Tree Domain here,\nwe're gonna give it a new name.\n\n504\n00:24:57.278 --> 00:25:01.428\nI mentioned you were in practicelabs.com\nright now so instead we're gonna do,\n\n505\n00:25:01.428 --> 00:25:02.093\nwhat did I write down?\n\n506\n00:25:02.093 --> 00:25:03.478\npracticetraining.com.\n\n507\n00:25:03.478 --> 00:25:07.870\nSo we're gonna do that one instead so\nlet me just come in here and\n\n508\n00:25:07.870 --> 00:25:09.950\ngive this a new domain name.\n\n509\n00:25:09.950 --> 00:25:13.530\nSo we're gonna do,\nI'm just capitalize that, practice.\n\n510\n00:25:16.090 --> 00:25:19.190\nTraining.\nAnd let's me just make sure I'm spelling\n\n511\n00:25:19.190 --> 00:25:21.760\nthat correctly cuz otherwise\nit's a pain to go back and\n\n512\n00:25:21.760 --> 00:25:23.940\nfix as you point it out later.\n\n513\n00:25:23.940 --> 00:25:26.930\nPractice training, yeah,\nPracticeTraining.com.\n\n514\n00:25:26.930 --> 00:25:27.730\nOkay, so we're gonna go ahead.\n\n515\n00:25:27.730 --> 00:25:29.250\nWe're gonna specify that.\n\n516\n00:25:29.250 --> 00:25:30.850\nAnd then of course you could see,\n\n517\n00:25:30.850 --> 00:25:34.860\nwe may have to provide credentials\nthat will be used for this.\n\n518\n00:25:34.860 --> 00:25:37.330\nSo you'll see here splice\nproductions from this action.\n\n519\n00:25:37.330 --> 00:25:40.980\nRight we can either have the current\nuser or provide additional credentials.\n\n520\n00:25:40.980 --> 00:25:42.700\nYou can just go in and change that.\n\n521\n00:25:42.700 --> 00:25:45.910\nSo we can obviously go in and\nprovide that here if necessary.\n\n522\n00:25:45.910 --> 00:25:46.930\nClick Next.\n\n523\n00:25:46.930 --> 00:25:47.990\nGive that just a second.\n\n524\n00:25:49.940 --> 00:25:52.101\nAnd then we'lll get to domain\ncontroller options here,\n\n525\n00:25:52.101 --> 00:25:54.180\nwe'll see what we're gonna\ndo there in just a moment.\n\n526\n00:25:56.440 --> 00:26:00.740\nJust waiting on it to go out to talk\nto the existing infrastructure kinda\n\n527\n00:26:00.740 --> 00:26:04.910\ncommunicate, find out if there\nis gonna be any name conflict.\n\n528\n00:26:04.910 --> 00:26:06.960\nIf there's gonna be a problem\nwith establishing the new domain.\n\n529\n00:26:06.960 --> 00:26:07.930\nDoes it already exist?\n\n530\n00:26:07.930 --> 00:26:09.580\nIf it does, do we have rights to it?\n\n531\n00:26:09.580 --> 00:26:10.190\nThat kind of stuff.\n\n532\n00:26:10.190 --> 00:26:13.290\nSo we're gonna take a look at all that and\njust wait for that to happen.\n\n533\n00:26:13.290 --> 00:26:16.510\nAnd then as soon as that little\nblue bar goes across there.\n\n534\n00:26:16.510 --> 00:26:18.610\nYou can see kind of just counting time and\nwaiting.\n\n535\n00:26:18.610 --> 00:26:23.010\nBut as soon as that finishes and\nwe get to move forward to the next screen,\n\n536\n00:26:23.010 --> 00:26:26.680\nwe'll be able to talk to or\nspeak to the domain controller options.\n\n537\n00:26:26.680 --> 00:26:30.430\nWe'll be able to go in and specify our\npassword that's gonna be used there.\n\n538\n00:26:30.430 --> 00:26:33.410\nWe'll put in our standard\noperational password for the lab.\n\n539\n00:26:33.410 --> 00:26:35.890\nAnd then from there,\nwe'll get through DNS options.\n\n540\n00:26:35.890 --> 00:26:38.450\nI know you can't see it, but\nthose'll pop up in just a minute.\n\n541\n00:26:38.450 --> 00:26:41.880\nWe'll have to see whether we can resolve\nthis name or not, and if we can, great,\n\n542\n00:26:41.880 --> 00:26:44.200\nand if not,\nwe'll have to deal with that issue.\n\n543\n00:26:44.200 --> 00:26:45.897\nYou may get an error when we do this,\nno big deal, but\n\n544\n00:26:45.897 --> 00:26:47.180\nwe'll be able to deal with that error.\n\n545\n00:26:47.180 --> 00:26:49.270\nYou could see we just moved\nto the next screen there.\n\n546\n00:26:49.270 --> 00:26:51.040\nAlright, so domain functional level,\n\n547\n00:26:51.040 --> 00:26:53.850\nthis is where we specify the functional\nlevel what domain will have.\n\n548\n00:26:53.850 --> 00:26:56.350\nWe haven't really talk about\nfunctional levels yet,\n\n549\n00:26:56.350 --> 00:26:59.040\nwe'll get more into them as we get\ninto our conversation, but for\n\n550\n00:26:59.040 --> 00:27:02.490\nnow we'll assume we're gonna use 2012 R2,\nthat will be fine.\n\n551\n00:27:03.790 --> 00:27:07.250\nType in the directory services\nrestore mode password there.\n\n552\n00:27:07.250 --> 00:27:10.230\nSo we're gonna go ahead and\nwe're gonna specify that.\n\n553\n00:27:10.230 --> 00:27:11.570\nJust wait for that to fully finish up.\n\n554\n00:27:11.570 --> 00:27:12.260\nThere we go.\n\n555\n00:27:12.260 --> 00:27:13.350\nSo we'll specify that here.\n\n556\n00:27:13.350 --> 00:27:15.070\nI'll provide that in just a second.\n\n557\n00:27:15.070 --> 00:27:17.240\nBut you can see Server 12 R2, right?\n\n558\n00:27:17.240 --> 00:27:18.790\nOur site name, by the way, for\n\n559\n00:27:18.790 --> 00:27:22.350\nActive Directory's site, the traditional\nsite name, the default site name,\n\n560\n00:27:22.350 --> 00:27:26.350\nis indeed default-first-site-name,\ndefault-first-site-name.\n\n561\n00:27:26.350 --> 00:27:27.640\nWe're gonna leave that there.\n\n562\n00:27:27.640 --> 00:27:29.675\nYou'll see we don't really\nhave an option not to.\n\n563\n00:27:29.675 --> 00:27:30.960\n&gt;&gt; [LAUGH]\n&gt;&gt; We're just gonna choose that, but\n\n564\n00:27:30.960 --> 00:27:33.080\nthat is where that comes from,\nin case you're wondering.\n\n565\n00:27:33.080 --> 00:27:36.330\nAll right, so we're gonna provide our\ndirectory services restore mode password.\n\n566\n00:27:36.330 --> 00:27:39.070\nThis is what we use if we have\nto restore the Active Directory.\n\n567\n00:27:39.070 --> 00:27:40.590\nVery important for us to that.\n\n568\n00:27:40.590 --> 00:27:42.514\nAlso important for\nyou to know what this password is.\n\n569\n00:27:42.514 --> 00:27:43.221\n&gt;&gt; [LAUGH]\n&gt;&gt; Cuz if you forget it, well, hey,\n\n570\n00:27:43.221 --> 00:27:46.840\nguess what?\nThat is gonna be a problem for you.\n\n571\n00:27:46.840 --> 00:27:48.790\nSo just keep that in mind.\n\n572\n00:27:48.790 --> 00:27:50.850\n&gt;&gt; I say resume generating event.\n\n573\n00:27:50.850 --> 00:27:52.710\n&gt;&gt; Call that an RGE, absolutely correct.\n\n574\n00:27:52.710 --> 00:27:56.660\nSo I'm gonna take my caps lock off just\nto make sure that I don't inadvertently\n\n575\n00:27:56.660 --> 00:27:58.080\nput the wrong password in there.\n\n576\n00:27:58.080 --> 00:27:59.520\nSo we have that, we're gonna click Next.\n\n577\n00:27:59.520 --> 00:28:02.670\nYou'll notice DNS options popped up,\nas I said they would.\n\n578\n00:28:02.670 --> 00:28:04.770\nI said we would get\na little DNS error there,\n\n579\n00:28:04.770 --> 00:28:07.800\nbecause we can't delegate the information\nout right now for the zone.\n\n580\n00:28:07.800 --> 00:28:10.630\nNo big deal, we're just gonna ignore that,\nit's not a problem.\n\n581\n00:28:10.630 --> 00:28:14.500\nAll that's saying is, hey we don't seem\nto have rights to get to the DNS server,\n\n582\n00:28:14.500 --> 00:28:16.910\ncreate a zone for this thing,\nand manage it right now.\n\n583\n00:28:16.910 --> 00:28:19.480\nWe can deal with that after the fact,\nwe're not too worried about that.\n\n584\n00:28:19.480 --> 00:28:21.710\nSo we're just gonna ignore that,\nand click next.\n\n585\n00:28:21.710 --> 00:28:22.640\nSo no big deal.\n\n586\n00:28:24.020 --> 00:28:28.660\nVerifying the net BIOS name of the domain\nmeaning is there already a domain\n\n587\n00:28:28.660 --> 00:28:32.640\nout there called practice labs or practice\ntraining or whatever we called it.\n\n588\n00:28:32.640 --> 00:28:34.975\nAnd if there is are we\ngonna have a conflict so\n\n589\n00:28:34.975 --> 00:28:37.475\nwere gonna be asked to provide\na BIOS name here in a minute.\n\n590\n00:28:37.475 --> 00:28:40.355\nSo we're gonna do that well just\nput in one called practice train,\n\n591\n00:28:40.355 --> 00:28:42.965\nwe'll just take the .com off\nyou could see it as there.\n\n592\n00:28:42.965 --> 00:28:43.745\n&gt;&gt; And i think.\n\n593\n00:28:43.745 --> 00:28:45.135\n&gt;&gt; It actually truncates what i had.\n\n594\n00:28:45.135 --> 00:28:49.110\nI'm gonna make it practice train cause\nit's practice training minus the G,\n\n595\n00:28:49.110 --> 00:28:51.551\ncuz we get up to fifteen characters right?\n\n596\n00:28:51.551 --> 00:28:55.975\nSo we're gonna just do practice train and\nleave it at that and\n\n597\n00:28:55.975 --> 00:28:58.580\nwe'll just truncate off for\npull off the IN\n\n598\n00:28:58.580 --> 00:29:00.720\nthat was stuck on the end there just\nto make it a little bit easier to use.\n\n599\n00:29:00.720 --> 00:29:01.500\nI didn't mean to cut you off.\n\n600\n00:29:01.500 --> 00:29:03.590\n&gt;&gt; No it's okay,\nthere are some DNS rules out there.\n\n601\n00:29:03.590 --> 00:29:06.600\nAnd I mean we have shows on\nDNS to specify the rules and\n\n602\n00:29:06.600 --> 00:29:07.980\ncharacter types that you can use.\n\n603\n00:29:07.980 --> 00:29:11.010\nBut when creating these names\nI can't remember the rule.\n\n604\n00:29:11.010 --> 00:29:11.880\nMaybe you can add them.\n\n605\n00:29:11.880 --> 00:29:12.760\nBut it's something like for\n\n606\n00:29:12.760 --> 00:29:17.190\nthe .local people used to like\nback in the day use that.\n\n607\n00:29:17.190 --> 00:29:20.712\nBut we can't put the .local anymore\n&gt;&gt; Well we don't, well we're not using\n\n608\n00:29:20.712 --> 00:29:23.690\nunless you're creating a domain for\ntraining purposes just what like.\n\n609\n00:29:23.690 --> 00:29:25.050\n&gt;&gt; Some kind of, yeah.\n\n610\n00:29:25.050 --> 00:29:27.240\n&gt;&gt; .local would typically before.\n\n611\n00:29:27.240 --> 00:29:30.710\nWe don't do that because it will, it can't\ngo into production with that, and host for\n\n612\n00:29:30.710 --> 00:29:32.140\nthat because it can't be resolved.\n\n613\n00:29:32.140 --> 00:29:36.080\nSo you used to at a certain point,\nuse .local to create like one off domains,\n\n614\n00:29:36.080 --> 00:29:38.040\nor training domains things like that.\n\n615\n00:29:38.040 --> 00:29:40.730\nFor lab environments,\nalso usually popular.\n\n616\n00:29:40.730 --> 00:29:41.580\nYou can still do that.\n\n617\n00:29:41.580 --> 00:29:43.690\nIt's just you have to know\nyou can't go into production.\n\n618\n00:29:43.690 --> 00:29:45.380\nIf you do that cuz it won't be resolved.\n\n619\n00:29:45.380 --> 00:29:48.980\nThe inner servers are designed to ignore\nthat now and they don't use that, so yeah,\n\n620\n00:29:48.980 --> 00:29:50.920\nwe just don't wanna do those kinda things.\n\n621\n00:29:50.920 --> 00:29:54.210\nBut we're giving this domain\na fully qualified domain name,\n\n622\n00:29:54.210 --> 00:29:56.375\nthen in theory it would\nbe resolved externally.\n\n623\n00:29:56.375 --> 00:29:57.605\nWe're gonna use that.\n\n624\n00:29:57.605 --> 00:29:58.695\nAnd have that thought process.\n\n625\n00:29:58.695 --> 00:30:01.175\nAnd you would use that same\nthought process in your business.\n\n626\n00:30:01.175 --> 00:30:04.395\nSo that shouldn't normally present\na challenge unless we're using a real\n\n627\n00:30:04.395 --> 00:30:04.925\ndomain name.\n\n628\n00:30:04.925 --> 00:30:06.945\nWe really normally would\nnot have an issue.\n\n629\n00:30:06.945 --> 00:30:09.815\nAll right, so\nwe have some default path statements here.\n\n630\n00:30:09.815 --> 00:30:12.565\nYou see Windows, NTDS for the data base.\n\n631\n00:30:12.565 --> 00:30:13.745\nLog files will be in NTDS.\n\n632\n00:30:13.745 --> 00:30:15.895\nThe CIS File folder.\n\n633\n00:30:15.895 --> 00:30:16.635\nSee when the CIS File.\n\n634\n00:30:16.635 --> 00:30:18.100\nWe're gonna accept those defaults.\n\n635\n00:30:18.100 --> 00:30:21.520\nUsually not a reason not to unless\nyou are modifying the install and\n\n636\n00:30:21.520 --> 00:30:25.060\nyou certainly could if you want to but\nkeep in mind most active directory or\n\n637\n00:30:25.060 --> 00:30:28.000\nwear applications are hard\ncoded to look for those paths.\n\n638\n00:30:28.000 --> 00:30:31.370\nSo if you're gonna modify the install\ndirectory you may have to do some\n\n639\n00:30:31.370 --> 00:30:35.070\ntweaking on the back end to get certain\nthings working so just be aware of that.\n\n640\n00:30:35.070 --> 00:30:36.090\nWe're gonna click next there.\n\n641\n00:30:36.090 --> 00:30:38.240\nThat's where we review our options.\n\n642\n00:30:38.240 --> 00:30:41.510\nAlways a good idea as I talk about to\ncapture this to know what you're doing.\n\n643\n00:30:42.570 --> 00:30:43.410\nIn addition,\n\n644\n00:30:43.410 --> 00:30:46.910\nall this being driven by Powershell\nscripting behind the scenes these days.\n\n645\n00:30:46.910 --> 00:30:50.310\nWe're not actually gonna carry this\nstuff out by pointing and clicking.\n\n646\n00:30:50.310 --> 00:30:54.050\nWe're essentially creating an answer file\nthat's gonna automate a bunch of scripts.\n\n647\n00:30:54.050 --> 00:30:55.645\nThat's what this wizard does.\n\n648\n00:30:55.645 --> 00:31:00.305\nAnd the script itself that we populated\ncan actually be found right here.\n\n649\n00:31:00.305 --> 00:31:03.055\nYou can actually look at the Powershell\nscript if you're interested in see what\n\n650\n00:31:03.055 --> 00:31:05.015\nit's gonna and how it's going to work.\n\n651\n00:31:05.015 --> 00:31:07.915\nYou can actually take a copy of that, and\nnow you have yourself a script that will\n\n652\n00:31:07.915 --> 00:31:10.395\nactually set up an active\ndirectory domain for you.\n\n653\n00:31:10.395 --> 00:31:14.505\nAll you have to do is use that script,\npopulate the specific variables\n\n654\n00:31:14.505 --> 00:31:17.020\nwith unique instance information\nevery time you run it.\n\n655\n00:31:17.020 --> 00:31:19.699\nAnd you've got yourself a ready\nmade script that you can use to do\n\n656\n00:31:19.699 --> 00:31:20.700\ndeployments, right?\n\n657\n00:31:20.700 --> 00:31:21.710\nSo that's.\n\n658\n00:31:21.710 --> 00:31:22.250\n&gt;&gt; Pretty nice.\n\n659\n00:31:22.250 --> 00:31:24.610\n&gt;&gt; Good little extra added\nvalue if you're going into the,\n\n660\n00:31:24.610 --> 00:31:27.160\nhey i'm gonna build domains for\na living business.\n\n661\n00:31:27.160 --> 00:31:28.300\nYou now have your tool right there.\n\n662\n00:31:28.300 --> 00:31:29.380\nAll right we're gonna click next.\n\n663\n00:31:29.380 --> 00:31:31.020\nNext we do a pre req check here.\n\n664\n00:31:31.020 --> 00:31:33.390\nWe're gonna check to make sure\nwe have the proper software.\n\n665\n00:31:33.390 --> 00:31:34.680\nAll the settings are good.\n\n666\n00:31:34.680 --> 00:31:36.580\nThere don't appear to be any conflicts or\nissues.\n\n667\n00:31:36.580 --> 00:31:39.120\nWe're gonna get some warnings here just so\nyou know.\n\n668\n00:31:39.120 --> 00:31:42.295\nBut there's not gonna be anything that\nis going to prevent us from doing this.\n\n669\n00:31:42.295 --> 00:31:44.880\nBut we are gonna get some\nwarnings about some settings or\n\n670\n00:31:44.880 --> 00:31:48.073\nthings that are not gonna be as good\nas perhaps the wizard would like.\n\n671\n00:31:48.073 --> 00:31:51.462\nBut as long as we don't see any glaring\nred Xs or red circles there, we're fine.\n\n672\n00:31:51.462 --> 00:31:54.680\nMight get some yellow caution flags,\nno big deal.\n\n673\n00:31:54.680 --> 00:31:55.460\nAnd we will see those.\n\n674\n00:31:55.460 --> 00:31:58.770\nWe'll see maybe a blue circle,\na little informational item or\n\n675\n00:31:58.770 --> 00:32:00.470\ntwo that we may want to\npay attention to as well.\n\n676\n00:32:00.470 --> 00:32:02.030\nSo we'll see those happen.\n\n677\n00:32:02.030 --> 00:32:03.810\nWe'll wait for those to come up.\n\n678\n00:32:03.810 --> 00:32:06.230\nAnd then, we'll go ahead and\nwe'll click Install.\n\n679\n00:32:06.230 --> 00:32:09.640\nThe Install button right down here\nwill go live and be active for us, and\n\n680\n00:32:09.640 --> 00:32:11.030\nwe'll carry out our install.\n\n681\n00:32:11.030 --> 00:32:13.820\nIt'll take a few minutes to do that,\nand then when that's done,\n\n682\n00:32:13.820 --> 00:32:16.870\nwe'll get prompted to restart, and\nthen we'll actually have our child domain,\n\n683\n00:32:16.870 --> 00:32:19.220\nso just want you to see\nthis particular part of it.\n\n684\n00:32:19.220 --> 00:32:20.398\nI'm gonna click install.\n\n685\n00:32:20.398 --> 00:32:23.510\nWe're not gonna bother to have you\nactually watch the 15 minutes of time it\n\n686\n00:32:23.510 --> 00:32:24.750\ntakes to do the install.\n\n687\n00:32:24.750 --> 00:32:27.530\nJust wanted you to see this come up,\nsee that I'll launch it.\n\n688\n00:32:27.530 --> 00:32:29.910\nYou'll just trust us and\nassume that it will be successful,\n\n689\n00:32:29.910 --> 00:32:31.990\nbecause hell,\nwhy would we lie to you, right?\n\n690\n00:32:31.990 --> 00:32:32.790\nWe're never gonna do that.\n\n691\n00:32:32.790 --> 00:32:34.200\nWe're gonna show you the truth here.\n\n692\n00:32:34.200 --> 00:32:40.110\nSo do take a look and just see that we do\nget what I told you, some caution flags.\n\n693\n00:32:40.110 --> 00:32:40.980\nNo big deal.\n\n694\n00:32:40.980 --> 00:32:44.900\nWe do have prerequisite client check\ncompleted so information that's good.\n\n695\n00:32:44.900 --> 00:32:46.640\nAll pre-req checks passed.\n\n696\n00:32:46.640 --> 00:32:49.590\nSo the warnings here were really just\naround the DNS issue that I showed you and\n\n697\n00:32:49.590 --> 00:32:51.005\ntold you we'd deal with after the fact for\n\n698\n00:32:51.005 --> 00:32:54.315\nthe delegation of the zone, nothing\nthat's gonna stop us from installing.\n\n699\n00:32:54.315 --> 00:32:56.455\nSo we're gonna go ahead,\nwe're gonna click install.\n\n700\n00:32:56.455 --> 00:32:57.615\nLet that run, do it's thing.\n\n701\n00:32:57.615 --> 00:33:00.705\nIt will take a few minutes, so as I said,\nwe're not gonna bother to wait for\n\n702\n00:33:00.705 --> 00:33:03.875\nthe whole thing to happen, we're just\ngonna let it kick off and do it's thing.\n\n703\n00:33:03.875 --> 00:33:06.115\nIf you wanna come back and\njoin us as soon as it's done,\n\n704\n00:33:06.115 --> 00:33:08.845\nwe'll show you that it is finished that\nway you're not just sitting and waiting.\n\n705\n00:33:08.845 --> 00:33:11.675\nAnd then, we'll be able to restart,\nand you'll see that the forest, or\n\n706\n00:33:11.675 --> 00:33:15.260\nrather the new domain in the forest,\nthe new tree, will be up and running.\n\n707\n00:33:15.260 --> 00:33:17.630\n&gt;&gt; All right, sounds like a plan.\n\n708\n00:33:17.630 --> 00:33:20.060\n&gt;&gt; All right so we're gonna see,\nwe actually finished up our installment.\n\n709\n00:33:20.060 --> 00:33:20.880\nWhat happens, just so\n\n710\n00:33:20.880 --> 00:33:24.350\nyou know while we're going back in,\nis the system will automatically finish.\n\n711\n00:33:24.350 --> 00:33:27.920\nIt prompts you and says hey, by the way,\nI'm about to shut down, restart and\n\n712\n00:33:27.920 --> 00:33:30.740\nlog out because I finished, so\nthat happens automatically.\n\n713\n00:33:30.740 --> 00:33:31.880\nThat's already occurred.\n\n714\n00:33:31.880 --> 00:33:34.720\nWe log back in, we've already done that\njust to save a little time for you.\n\n715\n00:33:34.720 --> 00:33:37.220\nAnd you'll see we now\nhave our server manager\n\n716\n00:33:37.220 --> 00:33:40.320\nwith our Active Directory management\ncapabilities already stood up.\n\n717\n00:33:40.320 --> 00:33:43.140\nYou'll see the ADDS reference there.\n\n718\n00:33:43.140 --> 00:33:46.535\nJust to validate that to make sure we know\nthat we've actually done the right job.\n\n719\n00:33:46.535 --> 00:33:47.455\nWe'll take a look.\n\n720\n00:33:47.455 --> 00:33:48.375\nWe'll see ADAC and\n\n721\n00:33:48.375 --> 00:33:51.327\nall the other tools that we\nrequested being installed are there.\n\n722\n00:33:51.327 --> 00:33:53.015\nWe're gonna go to\nActive Directory users and\n\n723\n00:33:53.015 --> 00:33:56.265\ncomputers, just to validate our domain.\n\n724\n00:33:56.265 --> 00:34:00.915\nAnd you can see right over there,\npracticetraining.com is there.\n\n725\n00:34:00.915 --> 00:34:04.225\nDomain has been created,\nfully instantiated, set up, ready to go.\n\n726\n00:34:04.225 --> 00:34:09.870\nAnd that is how we actually stand up\na child domain, meaning a separate domain\n\n727\n00:34:09.870 --> 00:34:13.330\nin another forest, or excuse me, in the\nsame forest but in a different name space.\n\n728\n00:34:13.330 --> 00:34:17.750\nSo we've created a tree with\nits own domain, separate from,\n\n729\n00:34:17.750 --> 00:34:22.100\nlateral to the existing domain,\nwhich would've been PracticeLabs.com.\n\n730\n00:34:22.100 --> 00:34:24.770\nIn the next conversation\nin our next episode,\n\n731\n00:34:24.770 --> 00:34:26.920\nwe're gonna take a look at how\nto create a brand new forest.\n\n732\n00:34:26.920 --> 00:34:30.120\nWe'll talk about doing that and\ncontinue walking through some\n\n733\n00:34:30.120 --> 00:34:33.800\nof the additional discussions about Active\nDirectory management and also talk about\n\n734\n00:34:33.800 --> 00:34:36.980\nmigration pathways which will be very\nimportant for you to keep in mind and\n\n735\n00:34:36.980 --> 00:34:40.210\nthink about upgrades versus migrations,\nhow we're gonna do all that.\n\n736\n00:34:40.210 --> 00:34:43.390\nAnd how we get out of earlier\nversions into 12, 12R2, and\n\n737\n00:34:43.390 --> 00:34:46.860\nwhat that pathway may look like will\ndepend on the choices we make and\n\n738\n00:34:46.860 --> 00:34:49.222\nthe operating systems that are in play and\nwhere we're coming from.\n\n739\n00:34:49.222 --> 00:34:50.530\n&gt;&gt; Good stuff.\n&gt;&gt; Just want to take a look at all that.\n\n740\n00:34:50.530 --> 00:34:51.180\n&gt;&gt; Yeah.\n\n741\n00:34:51.180 --> 00:34:54.000\nAll right, so this is it, the meat and\npotatoes here of Active Directory.\n\n742\n00:34:54.000 --> 00:34:57.480\nWe're talking about designing that\nActive Directory environment.\n\n743\n00:34:57.480 --> 00:35:00.143\nSo stay tuned, it's really good\ninformation headed your way.\n\n744\n00:35:00.143 --> 00:35:02.018\nBut for this show we are out of time.\n\n745\n00:35:02.018 --> 00:35:03.600\nSo we're gonna go ahead and sign out.\n\n746\n00:35:03.600 --> 00:35:05.680\nRemember, I'm your host Cherokee Boose.\n\n747\n00:35:05.680 --> 00:35:06.212\n&gt;&gt; I'm Adam Gordon.\n\n748\n00:35:06.212 --> 00:35:09.784\n&gt;&gt; See you next time here at ITPRO.TV.\n\n749\n00:35:09.784 --> 00:35:15.804\n[MUSIC]\n\n750\n00:35:15.804 --> 00:35:19.004\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "224333608"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing ADDS. Adam explains what it means to understand functional levels. They also, look at Flexible Single Master Operations (FSMO) roles and encourage logical thought in the placement of those roles for business continuity. Next, they discus upgrade considerations and when to forgo the upgrade and perform a migration.",
          "length": "1862",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-5-1-2-distributed_ad_ds_deployments_pt2-070117-PGM.00_30_46_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-5-1-2-distributed_ad_ds_deployments_pt2-070117-PGM.00_30_46_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-5-1-2-distributed_ad_ds_deployments_pt2-070117-PGM.00_30_46_26.Still001-sm.jpg",
          "title": "Distributed AD DS Deployments Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.868\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.868 --> 00:00:06.121\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.121 --> 00:00:08.361\n[MUSIC]\n\n4\n00:00:08.361 --> 00:00:12.095\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.095 --> 00:00:17.005\n&gt;&gt; Welcome to your Microsoft 70-412\nseries, I'm your show host Cherokee Boose.\n\n6\n00:00:17.005 --> 00:00:21.535\nIn this episode, we'll be taking a look\nat distributed AD DS deployments.\n\n7\n00:00:21.535 --> 00:00:24.535\nAnd back in the studios with us today,\nwe have Mr. Adam Gordon.\n\n8\n00:00:24.535 --> 00:00:25.947\nHow are you doing today Adam?\n\n9\n00:00:25.947 --> 00:00:26.476\n&gt;&gt; I'm doing well.\n\n10\n00:00:26.476 --> 00:00:28.365\nWe're gonna continue our conversations.\n\n11\n00:00:28.365 --> 00:00:31.545\nWe actually in the first part\nof this discussion went through,\n\n12\n00:00:31.545 --> 00:00:34.785\nlaid out some of the thought\nprocesses around what domains are,\n\n13\n00:00:34.785 --> 00:00:37.617\nwhy are they boundaries,\nwhy do we treat them that way.\n\n14\n00:00:37.617 --> 00:00:38.513\nWhat are forests?\n\n15\n00:00:38.513 --> 00:00:39.410\nWhy are they boundaries?\n\n16\n00:00:39.410 --> 00:00:40.890\nHow do we treat them that way?\n\n17\n00:00:40.890 --> 00:00:44.590\nSo we talked about some of the basic\nconcepts associated with name space\n\n18\n00:00:44.590 --> 00:00:45.500\nmanagement.\n\n19\n00:00:45.500 --> 00:00:46.780\nWe actually went through,\n\n20\n00:00:46.780 --> 00:00:51.740\ndid a live walk through of how we\ncan actually create or stand up,\n\n21\n00:00:51.740 --> 00:00:56.170\nadd to the existing forest by adding\nanother tree, another domain name space.\n\n22\n00:00:56.170 --> 00:00:59.030\nSo we set up another domain,\nwent through that process,\n\n23\n00:00:59.030 --> 00:01:01.340\nshowed you how that would end up,\nstart to finish.\n\n24\n00:01:01.340 --> 00:01:03.772\nWe're gonna pick back up,\ntalk a bit about AD forest or\n\n25\n00:01:03.772 --> 00:01:06.090\nAD DS forest functional levels.\n\n26\n00:01:06.090 --> 00:01:09.155\nShow you a quick website that'll\nhelp you to decipher all that.\n\n27\n00:01:09.155 --> 00:01:10.538\nWe're gonna go ahead,\n\n28\n00:01:10.538 --> 00:01:15.182\nshow you how to add some additional\ninfrastructure into our Active Directory.\n\n29\n00:01:15.182 --> 00:01:16.845\nAnd we're also gonna talk about upgrading.\n\n30\n00:01:16.845 --> 00:01:19.555\nI mentioned in the last\nepisode that the upgrade path,\n\n31\n00:01:19.555 --> 00:01:23.577\nhow we go from 2008 to 2012, for instance.\n\n32\n00:01:23.577 --> 00:01:28.757\nOr maybe even from an earlier,\n2003 base system up through a rest point\n\n33\n00:01:28.757 --> 00:01:33.227\nkind of a way stations in 2008,\ninto 2012 would be important.\n\n34\n00:01:33.227 --> 00:01:34.817\nGonna have to know that for the exam.\n\n35\n00:01:34.817 --> 00:01:36.617\nSo we're gonna make sure we\ngo through that with you, but\n\n36\n00:01:36.617 --> 00:01:39.807\nlet's start by just switching\nover to the web here one second.\n\n37\n00:01:39.807 --> 00:01:43.967\nLet's start if we could just by taking\na look at forest functional levels and\n\n38\n00:01:43.967 --> 00:01:45.077\njust discussing what they are.\n\n39\n00:01:45.077 --> 00:01:48.280\nGot a nice website,\nsummarizes all this for you.\n\n40\n00:01:48.280 --> 00:01:51.630\nIt'll help you just to make sure\nyou're aware of this information.\n\n41\n00:01:51.630 --> 00:01:54.272\nI do point out sometimes\nthe date stamps on some of these.\n\n42\n00:01:54.272 --> 00:01:55.733\nThis is from 2014.\n\n43\n00:01:55.733 --> 00:01:57.557\nDon't worry about the fact\nit's a little bit older.\n\n44\n00:01:57.557 --> 00:02:01.297\nThis kind of information doesn't really\nchange once we put it out there.\n\n45\n00:02:01.297 --> 00:02:04.608\nSo this is a perfectly legitimate\nreference for you in terms of\n\n46\n00:02:04.608 --> 00:02:08.952\ngiving you the information required to\nunderstand what functional levels are.\n\n47\n00:02:08.952 --> 00:02:12.740\nSo we scroll down just a little bit here,\nhave a nice referencable table which\n\n48\n00:02:12.740 --> 00:02:16.195\nis the reason I like this particular site,\ndomain functional level.\n\n49\n00:02:16.195 --> 00:02:20.547\nThe features we get and\nthe supported controllers over here\n\n50\n00:02:20.547 --> 00:02:24.819\nthat will be able to provide\nthat level of functionality.\n\n51\n00:02:24.819 --> 00:02:28.981\nMeaning a Windows 2000 native domain\nfunctional level will be able to be\n\n52\n00:02:28.981 --> 00:02:33.405\nachieved or be provided based on using,\nalthough it's not supported anymore in\n\n53\n00:02:33.405 --> 00:02:36.740\nproduction but\nyou still may have them, Windows 2000.\n\n54\n00:02:36.740 --> 00:02:39.660\nCertainly, it's a pretty\nfar back reference.\n\n55\n00:02:39.660 --> 00:02:43.800\nWindows 2003, a little bit more recent but\nstill no longer officially supported\n\n56\n00:02:43.800 --> 00:02:47.650\nby Microsoft, out of production,\nno longer under management.\n\n57\n00:02:47.650 --> 00:02:53.898\nServer 2008, 2008 R2, notice Server 12,\n12 R2, Server 16, not on this list.\n\n58\n00:02:53.898 --> 00:02:56.769\nMeaning, if you're using\nnewer domain controllers,\n\n59\n00:02:56.769 --> 00:03:01.055\nthey're not gonna provide this native\nlevel for Windows 2000 support.\n\n60\n00:03:01.055 --> 00:03:04.631\nYou'd have to be using a slightly\nnewer domain functional level.\n\n61\n00:03:04.631 --> 00:03:07.030\nAnd so you wanna understand\nhow to read this chart.\n\n62\n00:03:07.030 --> 00:03:08.750\nIt will be important to you.\n\n63\n00:03:08.750 --> 00:03:11.488\nIf you scroll down Server 2003 level.\n\n64\n00:03:11.488 --> 00:03:15.420\nWe'll see the 12, 12 R2 does make\nits appearance on the list here.\n\n65\n00:03:15.420 --> 00:03:19.305\nMeaning that you would wanna know and\nthis could be testable.\n\n66\n00:03:19.305 --> 00:03:22.105\nThis could certainly be something\nthat may come up in production.\n\n67\n00:03:22.105 --> 00:03:25.588\nThere's a lot of different ways I would\nsee this knowledge being applied.\n\n68\n00:03:25.588 --> 00:03:29.826\nBut you'd wanna know that the minimum\ndomain functional level we support\n\n69\n00:03:29.826 --> 00:03:32.560\nrunning domain controllers\nwith Server 12 or\n\n70\n00:03:32.560 --> 00:03:36.545\nServer 12 R2 would be a Server\n2003 domain functional level.\n\n71\n00:03:36.545 --> 00:03:41.376\nBecause the domain functional level\nof 2000 native does not support or\n\n72\n00:03:41.376 --> 00:03:46.452\nis not provided by, and therefore\ncannot be used with 12, 12 R2 Server.\n\n73\n00:03:46.452 --> 00:03:49.698\nSee, this is the kind of thing you wanna\nlook at on the chart here, I'm just kind\n\n74\n00:03:49.698 --> 00:03:53.060\nof glossing over all the features that\nare added, those are in the middle.\n\n75\n00:03:53.060 --> 00:03:55.030\nYou could take a look at those,\nobviously go through them and\n\n76\n00:03:55.030 --> 00:03:56.670\nhave a sense of what's going on there.\n\n77\n00:03:56.670 --> 00:04:01.630\nBut as you see, Server 2008, as we\ncontinue to scroll down, Server 2008 R2,\n\n78\n00:04:01.630 --> 00:04:05.240\nin terms of the domain functional level.\n\n79\n00:04:05.240 --> 00:04:08.339\nNotice that the last place that we see\n\n80\n00:04:10.610 --> 00:04:14.930\nServer 2003 being available\nto us as a domain hosted or\n\n81\n00:04:14.930 --> 00:04:20.260\ndomain controller hosting option is for\nthe Server 2003 domain functional level.\n\n82\n00:04:20.260 --> 00:04:24.220\nAs we move to 2008, notice that\nwe have to have at least 2008 or\n\n83\n00:04:24.220 --> 00:04:26.420\nbetter to provide that\nlevel of functionality.\n\n84\n00:04:26.420 --> 00:04:30.430\nSo, these are the kinda little subtle\nthings on the chart that would be valuable\n\n85\n00:04:30.430 --> 00:04:33.550\nfor you to pick up on and\njust make sure you're familiar with.\n\n86\n00:04:33.550 --> 00:04:36.130\nI'm not saying you're gonna\nget tons of questions on this,\n\n87\n00:04:36.130 --> 00:04:41.420\nremember, big amount of information on\nthe exam, small number of questions.\n\n88\n00:04:41.420 --> 00:04:43.440\nCan't really spend too much\ntime on any one topic.\n\n89\n00:04:43.440 --> 00:04:48.870\nIf you look at the exam, mapping in\nterms of just the areas of focus and\n\n90\n00:04:48.870 --> 00:04:50.940\nthe percentages broken down.\n\n91\n00:04:50.940 --> 00:04:55.910\nThis kind of an area gets about a 15 to\n20% coverage on the exam overall, meaning\n\n92\n00:04:55.910 --> 00:05:00.770\nthis entire area around domain services\nand all the things that go into it.\n\n93\n00:05:00.770 --> 00:05:05.595\nSo it's one small piece of a much bigger\npuzzle, and within that 15 to 20, 25%\n\n94\n00:05:05.595 --> 00:05:10.280\ncoverage area, you're gonna get questions\nscattered across multiple topics.\n\n95\n00:05:10.280 --> 00:05:13.930\nSo it's not like you're gonna be\nspending a huge amount of time answering\n\n96\n00:05:13.930 --> 00:05:15.330\nquestions on this one area.\n\n97\n00:05:15.330 --> 00:05:18.106\nBut it may be worth one,\nmaybe two questions.\n\n98\n00:05:18.106 --> 00:05:21.056\nAnd wouldn't it be horrible if\nthe difference between you passing and\n\n99\n00:05:21.056 --> 00:05:23.356\nfailing on that exam was one or\ntwo questions, right?\n\n100\n00:05:23.356 --> 00:05:25.338\nThat would obviously be\nthe thing that would kill you.\n\n101\n00:05:25.338 --> 00:05:27.898\nBecause you'd have to go back and\ntake the exam over again.\n\n102\n00:05:27.898 --> 00:05:29.114\n&gt;&gt; That would be bad.\n\n103\n00:05:29.114 --> 00:05:32.510\n&gt;&gt; Would not be a good outcome,\nlet's put it that way.\n\n104\n00:05:32.510 --> 00:05:35.825\nAll right, so you could see as we scroll\ndown, obviously we continue there,\n\n105\n00:05:35.825 --> 00:05:39.490\nServer 12, 12 R2, as you can see,\nas we kinda go down towards the bottom.\n\n106\n00:05:39.490 --> 00:05:44.232\nAnd notice by the way, Server 12 R2 domain\nfunctionality only provided with 12 R2\n\n107\n00:05:44.232 --> 00:05:46.190\ndomain controllers, right?\n\n108\n00:05:46.190 --> 00:05:49.770\nSo we can get Server 12\ndomain functionality.\n\n109\n00:05:49.770 --> 00:05:53.082\nThose are provided by both Server 12 and\n12 R2 but\n\n110\n00:05:53.082 --> 00:05:58.640\nfull 12 R2 domain functionality is only\nprovided by a 12 R2 domain controller.\n\n111\n00:05:58.640 --> 00:06:01.505\nAgain, one of those things that will\nbe really important to match up and\n\n112\n00:06:01.505 --> 00:06:02.047\nbe aware of.\n\n113\n00:06:02.047 --> 00:06:05.411\nEspecially because this exam is\ngonna be all about 12 and 12 R2, and\n\n114\n00:06:05.411 --> 00:06:07.452\nin case we haven't made\nthat clear to you and\n\n115\n00:06:07.452 --> 00:06:11.054\nI know we've tried to talk about that and\nmake sure you're familiar with it.\n\n116\n00:06:11.054 --> 00:06:14.638\nBut this exam,\neven though it's updated for 12 R2 now.\n\n117\n00:06:14.638 --> 00:06:17.652\nBy the time you're looking\nat our discussions,\n\n118\n00:06:17.652 --> 00:06:22.957\nperhaps envisioning taking this exam\nlate 2017, perhaps into 2018, etc.\n\n119\n00:06:22.957 --> 00:06:27.282\nWe're focusing on 12 R2, that doesn't\nmean we forgot about Server 12, right?\n\n120\n00:06:27.282 --> 00:06:30.457\nThere will be questions on Server 12 and\n12 R2 on that exam, and\n\n121\n00:06:30.457 --> 00:06:34.202\nyou're gonna have to know both sides of\nthis product in order to be successful.\n\n122\n00:06:34.202 --> 00:06:36.965\nSo, understand that and\nmake sure you're comfortable with that.\n\n123\n00:06:36.965 --> 00:06:38.710\nAll right, so we have all that.\n\n124\n00:06:38.710 --> 00:06:41.940\nWe also have features that are available\nat the forest functional level\n\n125\n00:06:41.940 --> 00:06:43.370\nas a link over here.\n\n126\n00:06:43.370 --> 00:06:45.160\nWouldn't be a bad idea\nto take a look at that.\n\n127\n00:06:45.160 --> 00:06:47.910\nWe have both domain and\nforest functional levels.\n\n128\n00:06:47.910 --> 00:06:51.490\nSo do have to keep in mind that we\ndo have the ability and indeed,\n\n129\n00:06:51.490 --> 00:06:54.531\nthe need to set both of those\nat the correct settings so\n\n130\n00:06:54.531 --> 00:06:58.267\nthat we can interact and\nhave the proper support available to us.\n\n131\n00:06:58.267 --> 00:07:01.390\nSo it'd be worth your time to\njust take a look here real quick.\n\n132\n00:07:01.390 --> 00:07:04.210\nJust click and scroll down if you will.\n\n133\n00:07:04.210 --> 00:07:09.140\nAnd again, you'll see starting with 2000\nand the domain controllers that are gonna\n\n134\n00:07:09.140 --> 00:07:14.860\nprovide that support, essentially lined up\nwith the domain functionality discussion.\n\n135\n00:07:14.860 --> 00:07:19.247\nSo as we scroll down, we'll kind of\nget down here towards the bottom.\n\n136\n00:07:19.247 --> 00:07:24.138\nServer 12 R2, again, only Server 12\nR2 domain controller is natively,\n\n137\n00:07:24.138 --> 00:07:28.007\nfully in the domain in order to\nprovide forest level support and\n\n138\n00:07:28.007 --> 00:07:30.645\nforest level functionality for 12 R2.\n\n139\n00:07:30.645 --> 00:07:32.670\nSo do keep that in mind.\n\n140\n00:07:32.670 --> 00:07:35.330\nWe do have some guidance here and\nguidelines on raising domain and\n\n141\n00:07:35.330 --> 00:07:36.740\nforest functional levels.\n\n142\n00:07:36.740 --> 00:07:38.590\nWould be good for you to take a look.\n\n143\n00:07:38.590 --> 00:07:40.030\nMake sure you're comfortable with this.\n\n144\n00:07:40.030 --> 00:07:44.030\nWe can raise the forest level\non the schema ops master only.\n\n145\n00:07:44.030 --> 00:07:47.413\nSo important to know that,\nidentify that for instance,\n\n146\n00:07:47.413 --> 00:07:51.221\nas a what we call FSMO role,\nflexible single operation master.\n\n147\n00:07:51.221 --> 00:07:54.955\nYou ever wonder why, I don't know if\nyou ever stop and ponder these things.\n\n148\n00:07:54.955 --> 00:07:58.035\nYou probably don't because you're\nbusy doing real cool stuff and\n\n149\n00:07:58.035 --> 00:07:58.917\nIn the real world.\n\n150\n00:07:58.917 --> 00:08:03.027\nBut you know FSMO,\nF-S-M-O is the acronym that we talk about,\n\n151\n00:08:03.027 --> 00:08:06.916\nflexible single operations master,\nshould be F-S-O-M,\n\n152\n00:08:06.916 --> 00:08:10.370\nif you think about the logic\nof the acronym, FSOM.\n\n153\n00:08:10.370 --> 00:08:16.290\nBut we call them FSMOs, flexible\nsingle master of operations, really\n\n154\n00:08:16.290 --> 00:08:19.910\nit's flexible single operations masters,\nbecause we have five distinct roles there.\n\n155\n00:08:19.910 --> 00:08:23.540\nSo It's one of those little quirky things\nwith how we name certain things but\n\n156\n00:08:23.540 --> 00:08:25.580\nanyway I digress not really important.\n\n157\n00:08:25.580 --> 00:08:28.813\nSo you have to be a member of both\nthe domain admin group to raise the domain\n\n158\n00:08:28.813 --> 00:08:32.523\nfunctional level, enterprise admin group\nto raise the forest functional level,\n\n159\n00:08:32.523 --> 00:08:34.650\nthat's been the case since Windows 2000.\n\n160\n00:08:34.650 --> 00:08:36.190\nThat has not changed.\n\n161\n00:08:36.190 --> 00:08:39.020\nEnterprise admins are forest\nwide administrators.\n\n162\n00:08:39.020 --> 00:08:40.980\nThey have the rights to\nchange the scheme up.\n\n163\n00:08:40.980 --> 00:08:43.600\nwhich is why you must be in that group\nin order to be able to raise the forest\n\n164\n00:08:43.600 --> 00:08:48.560\nfunctional level but at the domain level,\nwe need domain admin rights cuz we're not\n\n165\n00:08:48.560 --> 00:08:52.940\nmodifying the schema, we are modifying\nthe domain information and raising that.\n\n166\n00:08:52.940 --> 00:08:57.400\nAnd Enterprise admin groups automatically\nare delegated rights by being placed into\n\n167\n00:08:57.400 --> 00:09:00.120\nall domain-admin groups within\nthe domains in the forest.\n\n168\n00:09:00.120 --> 00:09:02.160\nAnd so have rights to the domain.\n\n169\n00:09:02.160 --> 00:09:04.110\nSo if you're a member of\nthe enterprise admin group.\n\n170\n00:09:04.110 --> 00:09:07.800\nYou can raise both forest and\ndomain functional level implicitly but\n\n171\n00:09:07.800 --> 00:09:10.010\nif you're a member of the domain\nadmin group in your domain.\n\n172\n00:09:10.010 --> 00:09:13.470\nYou only have rights to in theory raise\nthe domain functional level in the domain\n\n173\n00:09:13.470 --> 00:09:14.020\nyou are in.\n\n174\n00:09:14.020 --> 00:09:15.540\nYou won't have rights to anything else.\n\n175\n00:09:15.540 --> 00:09:19.190\nSo you just want to think about that and\nkind of how that all comes together.\n\n176\n00:09:19.190 --> 00:09:22.180\nSo again you want to just take\nnotice of some of the things here.\n\n177\n00:09:22.180 --> 00:09:25.010\nUnderstanding the FSMO\nroles will be important.\n\n178\n00:09:25.010 --> 00:09:29.660\nThere are five, the PDC emulator,\nthe schema master, the rid master, right?\n\n179\n00:09:29.660 --> 00:09:32.610\nSo there are reasons why you wanna\nbe able to identify these roles and\n\n180\n00:09:32.610 --> 00:09:33.520\nknow what they are.\n\n181\n00:09:33.520 --> 00:09:34.270\nThey're referenced,\n\n182\n00:09:34.270 --> 00:09:37.850\na lot of them are referenced here as\npoints that you have to be aware of.\n\n183\n00:09:37.850 --> 00:09:38.910\nWhen you start out and\n\n184\n00:09:38.910 --> 00:09:43.280\nbuild out your initial domain controller\nin your first domain, in your first tree,\n\n185\n00:09:43.280 --> 00:09:47.010\nin your forest, and\nestablish that entire hierarchy.\n\n186\n00:09:47.010 --> 00:09:48.670\nAnd it may not be something you've done.\n\n187\n00:09:48.670 --> 00:09:51.320\nA lot of you, if you're looking\nat production environments,\n\n188\n00:09:51.320 --> 00:09:54.070\nwere probably handed systems that\nwere already up and running.\n\n189\n00:09:54.070 --> 00:09:55.230\nThat you're managing.\n\n190\n00:09:55.230 --> 00:09:58.690\nIt's rare you get to build an entire\ninfrastructure from the ground up.\n\n191\n00:09:58.690 --> 00:10:01.180\nUnless you're doing it in a lab\nenvironment or something like that.\n\n192\n00:10:01.180 --> 00:10:03.890\nAnd hopefully you've taken\nthe opportunity to do that in practice.\n\n193\n00:10:03.890 --> 00:10:07.740\nBut if you haven't, chances are good that\na lot of that infrastructure was already\n\n194\n00:10:07.740 --> 00:10:10.320\nin place at some level in the past.\n\n195\n00:10:10.320 --> 00:10:13.730\nPerhaps you played a part in that,\nbut more than likely you probably came\n\n196\n00:10:13.730 --> 00:10:17.930\ninto that at some point, as it was already\nup and running and perhaps growing.\n\n197\n00:10:17.930 --> 00:10:19.440\nYou may have added to it since then,\n\n198\n00:10:19.440 --> 00:10:21.560\nbut you probably didn't\nbuild it out from scratch.\n\n199\n00:10:21.560 --> 00:10:25.105\nAnd if you didn't do that you may not\nhave had experience with what I was just\n\n200\n00:10:25.105 --> 00:10:28.845\ndescribing, which is that the very\nfirst domain controller created\n\n201\n00:10:28.845 --> 00:10:30.155\nto establish that BCHED,\n\n202\n00:10:30.155 --> 00:10:35.085\nto start to grow the entire forest,\nis going to be assigned those FSMO roles.\n\n203\n00:10:35.085 --> 00:10:37.040\nAll five of them by default.\n\n204\n00:10:37.040 --> 00:10:40.850\nBecause that's the nature of what we do\nwhen we install the Active Directory.\n\n205\n00:10:40.850 --> 00:10:43.090\nWhether you did it the old\nschool way with DCPromo,\n\n206\n00:10:43.090 --> 00:10:46.200\nthe old program we would have\nrun to be able to do this or\n\n207\n00:10:46.200 --> 00:10:51.060\nyou saw me in the last episode do this\nthrough the add remove features tool.\n\n208\n00:10:51.060 --> 00:10:53.390\nWalk through the installation\nwizard part one.\n\n209\n00:10:53.390 --> 00:10:58.520\nSelect ADDS services, kinda quickly\nprep the box, install the tools.\n\n210\n00:10:58.520 --> 00:11:00.110\nStep two, click on the link.\n\n211\n00:11:00.110 --> 00:11:01.860\nYou'll deploy the domain controller,\n\n212\n00:11:01.860 --> 00:11:06.570\nwalk through the configuration, which\nessentially was the DCPromo functionality.\n\n213\n00:11:06.570 --> 00:11:09.930\nBut, we broke it out and\nkinda did it in a two step process now, so\n\n214\n00:11:09.930 --> 00:11:11.910\nwe don't really run DCPromo anymore.\n\n215\n00:11:11.910 --> 00:11:14.810\nWe run just through the wizard and\ndo this.\n\n216\n00:11:14.810 --> 00:11:17.510\nBut if you had done it either way\nyou would have been assigning,\n\n217\n00:11:17.510 --> 00:11:18.430\nwithout even thinking about it.\n\n218\n00:11:18.430 --> 00:11:22.380\nIf you don't get prompted to we\njust assign the five FSMO roles\n\n219\n00:11:22.380 --> 00:11:24.100\nto that first machine.\n\n220\n00:11:24.100 --> 00:11:27.570\nBest practice says hey,\nafter the fact let's go in.\n\n221\n00:11:27.570 --> 00:11:30.820\nLet's move them around from\na BCDR business continuity\n\n222\n00:11:30.820 --> 00:11:32.590\ndisaster recovery perspective.\n\n223\n00:11:32.590 --> 00:11:36.550\nDon't wanna have a single point of failure\nwhere all five roles are running on that\n\n224\n00:11:36.550 --> 00:11:37.640\none machine.\n\n225\n00:11:37.640 --> 00:11:40.330\nIf that one machine for\nany reason stops functioning\n\n226\n00:11:40.330 --> 00:11:44.910\nthen we have a very very difficult\nrecovery solution we have to engage in.\n\n227\n00:11:44.910 --> 00:11:47.470\nThe NTDS Util tool has to be used.\n\n228\n00:11:47.470 --> 00:11:50.990\nTo be able to do recovery things like that\nand it's gonna be harder if we have to\n\n229\n00:11:50.990 --> 00:11:56.180\nforce all those roles to be grabbed and\nessentially relocated.\n\n230\n00:11:56.180 --> 00:11:58.040\nWe can do that but\nit's a lot more involved.\n\n231\n00:11:58.040 --> 00:12:00.440\nIt'd be easier if those rolls\nwere scattered around and\n\n232\n00:12:00.440 --> 00:12:04.020\nyou know therefore we lost one maybe\ntwo of those rolls because maybe one or\n\n233\n00:12:04.020 --> 00:12:07.190\ntwo were on that server but\nwe have three or four that were up and\n\n234\n00:12:07.190 --> 00:12:10.090\nrunning we don't have to\nseize is the term we use.\n\n235\n00:12:10.090 --> 00:12:12.140\nWe don't have to seize all five roles.\n\n236\n00:12:12.140 --> 00:12:15.250\nand then reposition them forcefully,\nit would be a lot easier.\n\n237\n00:12:15.250 --> 00:12:19.090\nSo there are a lot of reasons why\nknowledge of these roles, understanding\n\n238\n00:12:19.090 --> 00:12:25.190\nhow to position them, spread them out and\nmake sure that they are gonna survive.\n\n239\n00:12:25.190 --> 00:12:28.340\nAnd also knowing which ones\nare forest level, Schema Master, for\n\n240\n00:12:28.340 --> 00:12:33.090\ninstance is a forest level FSMO role,\nwhereas the PVC emulator,\n\n241\n00:12:33.090 --> 00:12:35.550\nthere are multiple PDC emulators, right?\n\n242\n00:12:35.550 --> 00:12:39.620\nBy domain, you have at least one\nbecause it's a domain-level FSMO role.\n\n243\n00:12:39.620 --> 00:12:41.260\nSo for every domain name space,\n\n244\n00:12:41.260 --> 00:12:45.220\nyou're doing to have certain FSMO roles\nthat repeat, whereas at the forest level,\n\n245\n00:12:45.220 --> 00:12:47.550\nyou have one that takes\ncare of the entire forest.\n\n246\n00:12:47.550 --> 00:12:49.500\nSo we have to understand\nthe breakdown between these,\n\n247\n00:12:49.500 --> 00:12:51.720\nbecause it's a little more\ninvolved than saying,\n\n248\n00:12:51.720 --> 00:12:54.660\nI have five roles and I'll spread them\nout and everything will be good, right.\n\n249\n00:12:54.660 --> 00:12:59.020\nSome of them may be replicated, meaning\nthere will be duplicates based on multiple\n\n250\n00:12:59.020 --> 00:13:02.130\ndomains being available and\ntherefore one per domain.\n\n251\n00:13:02.130 --> 00:13:02.790\nSome will not be.\n\n252\n00:13:02.790 --> 00:13:05.700\nThe schema master, you have one for\nthe entire forest, that's all you get.\n\n253\n00:13:05.700 --> 00:13:07.440\nSo we just wanna make sure\nwe're aware of all that.\n\n254\n00:13:07.440 --> 00:13:10.520\nSo we go into some of that here,\njust the logic of it.\n\n255\n00:13:10.520 --> 00:13:13.240\nYou want to make sure you take\na look at it, have a sense of it.\n\n256\n00:13:13.240 --> 00:13:15.300\nThey do give you a nice chart here.\n\n257\n00:13:15.300 --> 00:13:20.080\nCurrent domain functional level, current\nforest functional level, rollback options,\n\n258\n00:13:20.080 --> 00:13:22.540\nmeaning what do we do,\nlet me just scroll down so you can see.\n\n259\n00:13:22.540 --> 00:13:25.130\nWhat do we do if something\ngoes wrong here,\n\n260\n00:13:25.130 --> 00:13:28.965\nyou'll see Server 2012 R2,\nServer Server 12 R2.\n\n261\n00:13:28.965 --> 00:13:31.325\nNot unless you first lower\nthe forest functional level,\n\n262\n00:13:31.325 --> 00:13:35.525\nmeaning we wanna revert back there's\nreally no way to go back unless we\n\n263\n00:13:35.525 --> 00:13:38.265\nlower the forest functional\nlevel in order to do that.\n\n264\n00:13:38.265 --> 00:13:40.355\nBecause everything's up at\nthe highest level right now.\n\n265\n00:13:40.355 --> 00:13:42.615\nNow keep in mind we're\ntalking about 12 R2 here.\n\n266\n00:13:43.660 --> 00:13:47.130\nThere is a further conversation in theory\nlooking into the future, right that would\n\n267\n00:13:47.130 --> 00:13:50.790\ninvolve server 16 that's not on that chart\nbut you have given the fact that we're\n\n268\n00:13:50.790 --> 00:13:54.770\nobviously talking about this content at\na time when server 16 has already been\n\n269\n00:13:54.770 --> 00:13:59.490\nreleased, just wanna fess up totally and\nlet you know that we know it's out there.\n\n270\n00:13:59.490 --> 00:14:02.080\nAnd obviously although it's not\non this chart because we're\n\n271\n00:14:02.080 --> 00:14:05.460\ntaking the position that this is\nreally where the buck stops at 12 R2\n\n272\n00:14:05.460 --> 00:14:07.190\ncuz that's what we're talking about.\n\n273\n00:14:07.190 --> 00:14:11.465\nThere would be an additional set of entry\non this chart to bring this fully current,\n\n274\n00:14:11.465 --> 00:14:14.345\nand although it's not specific\ninformation for this exam,\n\n275\n00:14:14.345 --> 00:14:17.455\nin the real world you may be managing\nmixed environments with server 16 and\n\n276\n00:14:17.455 --> 00:14:20.535\n12 R2 at this point, and so you just wanna\nmake sure you're familiar with the most\n\n277\n00:14:20.535 --> 00:14:23.272\nrecent information Is all\ni'm suggesting to you.\n\n278\n00:14:23.272 --> 00:14:26.152\nAlright so you have that and\nwe also have the functional level and\n\n279\n00:14:26.152 --> 00:14:30.902\nwhether the additional AD recycle bin\nwhich is a new feature that was added\n\n280\n00:14:30.902 --> 00:14:36.462\nstarting with server 2008 R2 you kind\nof see it down here is available and\n\n281\n00:14:36.462 --> 00:14:39.262\nif it is do we have it and if not.\n\n282\n00:14:40.320 --> 00:14:42.345\nWas it, or yeah, 2008 R2,\neither one of these.\n\n283\n00:14:42.345 --> 00:14:45.610\nI'm pointing to the top one, but\neither one, they're both 2008 R2.\n\n284\n00:14:45.610 --> 00:14:49.820\nBut it's a newer feature that was added so\nthat we'd have multi stage.\n\n285\n00:14:49.820 --> 00:14:52.020\nOr the ability to be able to delete\nsomething into the recycle bin and\n\n286\n00:14:52.020 --> 00:14:54.060\npull it back cuz we tombstone it.\n\n287\n00:14:54.060 --> 00:14:56.220\nIt's a feature that hasn't\nalways been there, but\n\n288\n00:14:56.220 --> 00:15:00.565\nit's there in the more recent versions\nof EOS so we do see that as well, right.\n\n289\n00:15:00.565 --> 00:15:05.200\nAnd 2016 functional levels, just\na little note about it there, right so\n\n290\n00:15:05.200 --> 00:15:07.030\nwe can find some information about it.\n\n291\n00:15:07.030 --> 00:15:09.493\nMay just want to follow up the bottom,\nread through the chat and\n\n292\n00:15:09.493 --> 00:15:12.863\nyou'll see you can reference some of that\ninformation I was just discussing, okay.\n\n293\n00:15:12.863 --> 00:15:16.327\nSo it will be important for you to\nhave a sense of the functional levels,\n\n294\n00:15:16.327 --> 00:15:17.323\nhow they interact.\n\n295\n00:15:17.323 --> 00:15:21.800\nForest functionality, and/or domain\nfunctionality, how the two come together.\n\n296\n00:15:21.800 --> 00:15:24.500\nA lot of times, we wanna see them\nbe in close, if not parallel,\n\n297\n00:15:24.500 --> 00:15:28.930\nto each other, provide full feature\nsupport across the entire enterprise.\n\n298\n00:15:28.930 --> 00:15:32.140\nSo it would be good for you to have\na sense to that and be aware of that.\n\n299\n00:15:32.140 --> 00:15:36.293\nWith regards to upgrading right and how\nwe upgrade from previous versions of ADDS\n\n300\n00:15:36.293 --> 00:15:40.935\ninto server 12 R2, talk about the fact\nthat a great pass are gonna be important.\n\n301\n00:15:40.935 --> 00:15:44.695\nYeah, we can either do a brand new,\nclean install, right?\n\n302\n00:15:44.695 --> 00:15:45.805\nEssentially just start up.\n\n303\n00:15:45.805 --> 00:15:47.135\nWe always have that option.\n\n304\n00:15:47.135 --> 00:15:47.915\nBlow everything out.\n\n305\n00:15:47.915 --> 00:15:48.725\nStart over again.\n\n306\n00:15:48.725 --> 00:15:51.185\nBut maybe obviously very disruptive.\n\n307\n00:15:51.185 --> 00:15:52.378\nCertainly, not maybe,\nwill be very disruptive.\n\n308\n00:15:52.378 --> 00:15:54.474\nMay not be the preferred option.\n\n309\n00:15:54.474 --> 00:15:59.262\nDoes give us ultimately the most stable\nplatform cause we're getting rid of all\n\n310\n00:15:59.262 --> 00:16:04.048\nthe old Stuff that's there and perhaps\neither instability or concerns that may\n\n311\n00:16:04.048 --> 00:16:08.340\nexist for multiple generations of\nbeing upgraded time over time.\n\n312\n00:16:08.340 --> 00:16:10.880\nBut that may or\nmay not make the most sense, so\n\n313\n00:16:10.880 --> 00:16:12.600\nlet's put that off to the side for\na minute.\n\n314\n00:16:12.600 --> 00:16:16.430\nWe could upgrade the existing operating\nsystems on the domain controllers if\n\n315\n00:16:16.430 --> 00:16:18.240\nthey're 2008, 2008 R2.\n\n316\n00:16:18.240 --> 00:16:22.280\nWe could upgrade to 12, 12 R2, let's say,\nand we will be able to do that, and\n\n317\n00:16:22.280 --> 00:16:24.850\nthat would continue to\nprovide that support.\n\n318\n00:16:24.850 --> 00:16:27.970\nBut keep in mind that hardware\nmay be an issue there,\n\n319\n00:16:27.970 --> 00:16:29.950\nwill the hardware support an upgrade?\n\n320\n00:16:29.950 --> 00:16:33.110\nIf that system's been up and\nrunning for multiple years,\n\n321\n00:16:33.110 --> 00:16:37.330\nis there enough drive space left, in other\nwords, do we have enough hard drive space?\n\n322\n00:16:37.330 --> 00:16:40.150\nDo we have enough memory,\ndo we have enough processing power?\n\n323\n00:16:40.150 --> 00:16:42.130\nNot that we can't overcome\nthose liabilities,\n\n324\n00:16:42.130 --> 00:16:46.420\nwe could add bigger hard drives,\nprobably add more RAM in theory, right?\n\n325\n00:16:46.420 --> 00:16:49.000\nAre we gonna virtualize,\nmaybe these are physical boxes,\n\n326\n00:16:49.000 --> 00:16:50.600\ndo we wanna virtualize them?\n\n327\n00:16:50.600 --> 00:16:54.850\nThere are things to consider that would\nextend our ability to use resources and\n\n328\n00:16:54.850 --> 00:16:59.340\nnot necessarily limit us to just\nthe physical resources of that host or\n\n329\n00:16:59.340 --> 00:17:02.120\nrather of the physical box,\nright, before we virtualize.\n\n330\n00:17:02.120 --> 00:17:04.340\nSo there are ways to\novercome those things.\n\n331\n00:17:04.340 --> 00:17:06.260\nSo hardware issues and concerns,\n\n332\n00:17:06.260 --> 00:17:09.990\nlimitations may not be as big of a deal\nas they would have been years ago, where\n\n333\n00:17:09.990 --> 00:17:14.230\nwe really were going hardware to hardware,\nphysical platform to physical platform.\n\n334\n00:17:14.230 --> 00:17:17.601\nAnd we tapped out at a certain point cuz\nthe chassis just couldn't be extended,\n\n335\n00:17:17.601 --> 00:17:20.231\nyou couldn't add more RAM,\ncouldn't add more processors.\n\n336\n00:17:20.231 --> 00:17:23.660\nAnd as a result, that may have\nmaxed out your ability to upgrade.\n\n337\n00:17:23.660 --> 00:17:25.491\nBut now we're really not\nas concerned about that.\n\n338\n00:17:25.491 --> 00:17:29.087\nWe do have flexibility and\nwe have the ability get creative, right,\n\n339\n00:17:29.087 --> 00:17:30.160\nwith hardware.\n\n340\n00:17:30.160 --> 00:17:33.071\nSo we could upgrade the operating\nsystem on existing domain controllers,\n\n341\n00:17:33.071 --> 00:17:36.130\nkinda bring them up the speed as long\nas at they are at a certain level.\n\n342\n00:17:36.130 --> 00:17:40.074\nWe could also introduce Server 12 R2\ndomain controllers into a lower level\n\n343\n00:17:40.074 --> 00:17:42.451\ndomain, a 2008 R2 domain for instance.\n\n344\n00:17:42.451 --> 00:17:45.571\nWe could start adding brand new 2012 R2 or\n\n345\n00:17:45.571 --> 00:17:49.417\nServer 12 if it's Server 12,\nwant to go to 12 R2.\n\n346\n00:17:49.417 --> 00:17:53.690\nWe could add brand new domain controllers\nas new child domain controllers or\n\n347\n00:17:53.690 --> 00:17:58.298\nrather not child domain controllers,\nadditional domain controllers, right,\n\n348\n00:17:58.298 --> 00:18:00.040\njust into the domain.\n\n349\n00:18:00.040 --> 00:18:04.340\nPromote them in, start to establish\nthat beach head functionality, and\n\n350\n00:18:04.340 --> 00:18:08.850\nthen little by little move functionality\nover, sunsetting or getting rid of those\n\n351\n00:18:08.850 --> 00:18:13.520\nolder domain controllers as we switch\nroles over and add functionality in.\n\n352\n00:18:13.520 --> 00:18:17.790\nAnd we could do that as well, again, as\nlong as we meet minimum requirements for\n\n353\n00:18:17.790 --> 00:18:18.860\nthe Active Directory.\n\n354\n00:18:18.860 --> 00:18:20.690\nSo just keep those things in mind.\n\n355\n00:18:20.690 --> 00:18:21.380\nMiss Cherokee.\n\n356\n00:18:21.380 --> 00:18:23.601\n&gt;&gt; Yeah, and so I was just gonna ask you,\nAdam, how do you feel about that?\n\n357\n00:18:23.601 --> 00:18:25.440\nWhat would be your preference?\n\n358\n00:18:25.440 --> 00:18:29.280\nBecause for me, personally,\nI always feel like moving things over,\n\n359\n00:18:29.280 --> 00:18:31.770\nperforming a migration,\nespecially server side,\n\n360\n00:18:31.770 --> 00:18:36.520\nis going to be better than\nperforming an in place upgrade.\n\n361\n00:18:36.520 --> 00:18:38.394\nThat's just my personal preference,\ndo you have a take on that?\n\n362\n00:18:38.394 --> 00:18:41.060\n&gt;&gt; No, I'm gonna defer to you because-\n&gt;&gt; [LAUGH]\n\n363\n00:18:41.060 --> 00:18:41.726\n&gt;&gt; You're Cherokee and\n\n364\n00:18:41.726 --> 00:18:42.953\nwhatever you say makes the most sense.\n\n365\n00:18:42.953 --> 00:18:47.180\nI'm just gonna go with your opinion.\n\n366\n00:18:47.180 --> 00:18:50.050\nAll kidding aside,\nit's actually a really good question and\n\n367\n00:18:50.050 --> 00:18:51.820\none that we often will struggle with,\nright?\n\n368\n00:18:51.820 --> 00:18:54.630\nIn production, you'll a lot of\ntimes have to make these decisions.\n\n369\n00:18:54.630 --> 00:18:56.550\nHey, should we use what's there,\n\n370\n00:18:56.550 --> 00:19:01.040\nmaybe try to extract some additional value\nout of that, or I continue to support it.\n\n371\n00:19:01.040 --> 00:19:03.800\nMaybe it's not end of life\nterms of the hardware.\n\n372\n00:19:03.800 --> 00:19:06.450\nMaybe we could just get another\ncouple of years out of it.\n\n373\n00:19:06.450 --> 00:19:07.890\nYou often hear those conversations.\n\n374\n00:19:07.890 --> 00:19:12.400\nI hear those a lot as a consultant\ntalking to and working with customers.\n\n375\n00:19:12.400 --> 00:19:15.990\nAnd it's an interesting balancing act,\nright?\n\n376\n00:19:15.990 --> 00:19:18.740\nBecause there is value\npotentially in that platform.\n\n377\n00:19:18.740 --> 00:19:22.490\nBut as you pointed out, it may be\nmore complex as a path, number one.\n\n378\n00:19:22.490 --> 00:19:25.880\nNumber two, it may bring forward,\nas I suggested,\n\n379\n00:19:25.880 --> 00:19:30.540\nsome of the errors, the concerns, and\nthe potential black holes or landmines,\n\n380\n00:19:30.540 --> 00:19:32.300\nwhatever you want to think of them as,\n\n381\n00:19:32.300 --> 00:19:35.910\nthat are laying dormant in those older\noperating systems that we're piling on.\n\n382\n00:19:35.910 --> 00:19:39.732\nIn other words, if we don't have a really\nstable foundation because of perhaps\n\n383\n00:19:39.732 --> 00:19:40.931\nmultiple generations,\n\n384\n00:19:40.931 --> 00:19:44.710\nthen are we gonna be even more unstable as\nwe tack in another OS right on the top?\n\n385\n00:19:44.710 --> 00:19:47.098\nAnd it can lead to some\nconcerns down the road.\n\n386\n00:19:47.098 --> 00:19:49.088\n&gt;&gt; You're not getting rid of\nany of those lingering or\n\n387\n00:19:49.088 --> 00:19:51.450\ntransient issues that [CROSSTALK]\n&gt;&gt; All those things, you're right.\n\n388\n00:19:51.450 --> 00:19:51.950\nThey're still there.\n\n389\n00:19:51.950 --> 00:19:55.940\nYou're essentially just piling more stuff\non top hoping that it's gonna continue to\n\n390\n00:19:55.940 --> 00:19:58.630\nstay stable enough so\nthat you don't knock the platform over.\n\n391\n00:19:58.630 --> 00:20:02.737\nSo at some point, we do reach a cost\nbenefit analysis tipping point where we\n\n392\n00:20:02.737 --> 00:20:07.170\nsay, four generations, not that you're\nsuggesting it would be that, but just\n\n393\n00:20:07.170 --> 00:20:11.929\nhypothetically, three or four generations\nof an old OS being repeated and upgraded,\n\n394\n00:20:11.929 --> 00:20:16.072\nmaybe it's time to clean all that out,\nput it aside and maybe start fresh.\n\n395\n00:20:16.072 --> 00:20:18.532\nAnd so\nI have that conversation with customers,\n\n396\n00:20:18.532 --> 00:20:21.893\nwhat we look at traditionally is\nhow many versions have we done that\n\n397\n00:20:21.893 --> 00:20:22.610\nwith,\n&gt;&gt; Okay.\n\n398\n00:20:22.610 --> 00:20:23.592\n&gt;&gt; If it's like one version back.\n\n399\n00:20:23.592 --> 00:20:28.820\nIf we're on 2008 R2, we're going to 12,\nor leap frogging 12 to 12 R2.\n\n400\n00:20:28.820 --> 00:20:33.241\nBut essentially it's one brand new\ninstalled OS that forms the base for us.\n\n401\n00:20:33.241 --> 00:20:35.556\nAnd we're gonna do\nan upgrade on top of that.\n\n402\n00:20:35.556 --> 00:20:38.006\nI'm usually pretty comfortable\nrecommending saying,\n\n403\n00:20:38.006 --> 00:20:39.545\nprobably enough stability there.\n\n404\n00:20:39.545 --> 00:20:42.293\nAs long as we've been keeping\nup with our patches and\n\n405\n00:20:42.293 --> 00:20:45.430\nthere's nothing crazy that's\ngone on with the box.\n\n406\n00:20:45.430 --> 00:20:46.350\nProbably okay with that.\n\n407\n00:20:46.350 --> 00:20:48.453\nIf it's more like hey you know what,\nthis was 2008.\n\n408\n00:20:48.453 --> 00:20:51.844\nWe did a 2008 R2 in place, we did 12.\n\n409\n00:20:51.844 --> 00:20:56.700\nNow we're about to do 12 R2, which is not\nan unrealistic scenario by the way, right?\n\n410\n00:20:56.700 --> 00:20:58.568\n&gt;&gt; No.\n&gt;&gt; Three or four generations,\n\n411\n00:20:58.568 --> 00:20:59.636\nif it's that close.\n\n412\n00:20:59.636 --> 00:21:02.911\nThen at that point, I'm a lot less\nlikely to say, you know what,\n\n413\n00:21:02.911 --> 00:21:06.090\nthat's a really good idea,\nlet's continue to do that.\n\n414\n00:21:06.090 --> 00:21:07.650\nHey, you wanna keep that hardware?\n\n415\n00:21:07.650 --> 00:21:10.512\nLet's take it out of production,\nlet's blow it up, let's reinstall it,\n\n416\n00:21:10.512 --> 00:21:11.731\nwe could repurpose it, right?\n\n417\n00:21:11.731 --> 00:21:12.250\n&gt;&gt; Sure.\n\n418\n00:21:12.250 --> 00:21:14.940\n&gt;&gt; That can become a file server,\ncan become a web server.\n\n419\n00:21:14.940 --> 00:21:17.380\nThere's all this other stuff that\nyou could do with the hardware.\n\n420\n00:21:17.380 --> 00:21:19.630\nWe're not gonna lose the value\nof running the hardware.\n\n421\n00:21:19.630 --> 00:21:22.210\nBut the hardware is really\nnot the issue here.\n\n422\n00:21:22.210 --> 00:21:27.020\nIt's the multiple generations of\nsoftware sitting in that registry that\n\n423\n00:21:27.020 --> 00:21:29.290\nare gonna form potentially\nthose instabilities.\n\n424\n00:21:29.290 --> 00:21:33.092\nSo it's actually a really important\nquestion for us to ponder in production,\n\n425\n00:21:33.092 --> 00:21:35.175\nand one that I think we both agree, right?\n\n426\n00:21:35.175 --> 00:21:38.625\nThe answer is usually best served\nto the customer by saying you know,\n\n427\n00:21:38.625 --> 00:21:41.063\nmaybe it's time we actually\ndo a clean install or\n\n428\n00:21:41.063 --> 00:21:44.095\nintroduce new material and\nstart to get rid of some of that old\n\n429\n00:21:44.095 --> 00:21:48.400\ninstability that may be plaguing us that\nwe're carrying down the road as liability.\n\n430\n00:21:48.400 --> 00:21:49.950\nSo, definitely good to think about that,\n\n431\n00:21:49.950 --> 00:21:52.580\ndefinitely good to consider\nthose options there.\n\n432\n00:21:52.580 --> 00:21:53.360\nLike I said, I'm gonna defer you.\n\n433\n00:21:53.360 --> 00:21:53.999\nYou have the right answer.\n\n434\n00:21:53.999 --> 00:21:55.091\nI'm gonna just go with you.\n\n435\n00:21:55.091 --> 00:21:55.611\n&gt;&gt; All right.\n\n436\n00:21:55.611 --> 00:21:57.120\n&gt;&gt; That was the way to go.\n\n437\n00:21:57.120 --> 00:21:59.324\nSo do keep in mind that as I said,\n\n438\n00:21:59.324 --> 00:22:04.050\nwe can add these Server 12 R2\nsystems into the existing domain.\n\n439\n00:22:04.050 --> 00:22:07.700\nWe can deploy them in as member\nservers in domain controllers\n\n440\n00:22:07.700 --> 00:22:10.345\nthat are running Server 2003 or newer.\n\n441\n00:22:10.345 --> 00:22:12.836\nSo we do have the ability to\ngo back to the 2003 solution.\n\n442\n00:22:12.836 --> 00:22:18.065\nBut if we're going to set up a 2012 R2\ndomain controller in one of those domains,\n\n443\n00:22:18.065 --> 00:22:22.687\nthen we have to think about the fact\nthat we have to upgrade the schema.\n\n444\n00:22:22.687 --> 00:22:24.959\nThere is a break and\nwe do need to add additional features and\n\n445\n00:22:24.959 --> 00:22:26.515\ncapabilities by upgrading the schema.\n\n446\n00:22:26.515 --> 00:22:29.923\nIf we're running something\nreally old like 2003 and\n\n447\n00:22:29.923 --> 00:22:33.970\nwe have not upgraded the schema\nalong the way for Exchange support,\n\n448\n00:22:33.970 --> 00:22:39.177\nSharePoint support, a variety of other\nthings that may require schema upgrades.\n\n449\n00:22:39.177 --> 00:22:42.527\nDeployment of newer OSs into\nthe domain to master and\n\n450\n00:22:42.527 --> 00:22:47.230\nhandle some of that, then we may have\nlarger structural issues to consider.\n\n451\n00:22:47.230 --> 00:22:52.380\nIf I come across a client that's running\nall 2003, no schema upgrades are in place.\n\n452\n00:22:52.380 --> 00:22:56.881\nWe're not thinking necessarily about hey,\ncould we get the 12 R2 in one leap.\n\n453\n00:22:56.881 --> 00:23:00.413\nWe're thinking about what are we gonna\ndo to stabilize that environment and\n\n454\n00:23:00.413 --> 00:23:03.215\nbring it forward and\nit's gonna be a multi-step process.\n\n455\n00:23:03.215 --> 00:23:05.840\nCuz we have a lot of work to do in order\nto make sure that's gonna come out\n\n456\n00:23:05.840 --> 00:23:06.850\nthe right way.\n\n457\n00:23:06.850 --> 00:23:09.232\nSo we got to think about that and\nunderstand that.\n\n458\n00:23:09.232 --> 00:23:13.900\nThe ADprep.exe tool is the tool of\nchoice here to extend the schema.\n\n459\n00:23:13.900 --> 00:23:18.870\nWhen we do 2012 R2 deployments,\nwe will extend the schema as part\n\n460\n00:23:18.870 --> 00:23:22.480\nof that deployment using that wizard you\nsaw me demonstrate in the last episode.\n\n461\n00:23:22.480 --> 00:23:25.260\nSo we don´t need ADprep as\na separate tool anymore,\n\n462\n00:23:25.260 --> 00:23:28.470\njust like we don`t run DCPromo\nas a separate solution any more.\n\n463\n00:23:28.470 --> 00:23:32.361\nBut we do still have 64-bit versions\nof ADprep available if we have to run\n\n464\n00:23:32.361 --> 00:23:37.100\nit separately in these situations where we\nmay need to upgrade the schema on the fly.\n\n465\n00:23:37.100 --> 00:23:39.050\nSo if we're dealing with\nan older compatibility or\n\n466\n00:23:39.050 --> 00:23:44.330\nbackwards compatibility environment,\nwe do still have access to ADprep.exe.\n\n467\n00:23:44.330 --> 00:23:48.300\nWe can run that and make that available so\nthat we can have that and\n\n468\n00:23:48.300 --> 00:23:50.240\nbe able to leverage that, if need be.\n\n469\n00:23:50.240 --> 00:23:52.380\nIt is a 64-bit version.\n\n470\n00:23:52.380 --> 00:23:54.780\nSo keep in mind, this is something\npeople don't often stop and think about.\n\n471\n00:23:54.780 --> 00:24:00.235\nAll modern OSs and all modern applications\nare running 64-bit today, not 32.\n\n472\n00:24:00.235 --> 00:24:05.397\nBut if you're running something older\nlike 2003, Maybe even first gen 2008.\n\n473\n00:24:05.397 --> 00:24:09.993\nThere was a 32-bit and a 64-bit option for\nthose operating systems, and\n\n474\n00:24:09.993 --> 00:24:14.010\nyou may or may not have gone\n64-bit with some of your systems.\n\n475\n00:24:14.010 --> 00:24:17.215\nSo that could be a bit of a challenge\ncuz we don't have a 32 bit version.\n\n476\n00:24:17.215 --> 00:24:19.715\nYou'd have to go back and\nfind the earlier 32-bit version.\n\n477\n00:24:19.715 --> 00:24:24.000\nIt is available in theory, but\nwe only provide currently, for 12R2,\n\n478\n00:24:24.000 --> 00:24:27.165\na 64-bit version of adprep.exe.\n\n479\n00:24:27.165 --> 00:24:31.325\nSo again, some subtle minutiae,\nright, some subtle things that may or\n\n480\n00:24:31.325 --> 00:24:35.875\nmay not pop out as being really important\nin the grand scheme of our conversation,\n\n481\n00:24:35.875 --> 00:24:37.795\nbut you do want to make\nsure you're aware of that.\n\n482\n00:24:37.795 --> 00:24:41.940\nVersioning and support, really\ncritical items we test for on exams.\n\n483\n00:24:41.940 --> 00:24:45.450\nMicrosoft and all vendors want to know\nthat you're gonna be comfortable dealing\n\n484\n00:24:45.450 --> 00:24:49.770\nwith this in the scenario that you may\nfind in the real world, that supporting\n\n485\n00:24:49.770 --> 00:24:52.850\ntheir customers, you're going to give\nthem the right kind of information,\n\n486\n00:24:52.850 --> 00:24:55.690\nmake the right recommendations like\nCherokee was suggesting here a few\n\n487\n00:24:55.690 --> 00:24:59.780\nminutes ago, about the right path to deal\nwith this and how she would approach it.\n\n488\n00:24:59.780 --> 00:25:01.970\nAnd she was absolutely right\nwhen she said I would do this,\n\n489\n00:25:01.970 --> 00:25:04.140\nthis is what I think would\nbe the right way to go.\n\n490\n00:25:04.140 --> 00:25:07.340\nAnd you want to make sure you're\nconfident in those kinds of situations\n\n491\n00:25:07.340 --> 00:25:09.860\ncuz you're definitely going to be\nfacing them both in the exam and\n\n492\n00:25:09.860 --> 00:25:11.420\ncertainly in the real world, right?\n\n493\n00:25:11.420 --> 00:25:12.835\nSo you do have to be\naware of those things and\n\n494\n00:25:12.835 --> 00:25:14.966\nmake sure we're kind of thinking\nthrough the logic of that.\n\n495\n00:25:14.966 --> 00:25:19.826\nWith regards to upgrading the Windows\noperating system of the server 12, let's\n\n496\n00:25:19.826 --> 00:25:23.575\nsay domain controller, if we're dealing\nwith a little bit more recent vintage\n\n497\n00:25:23.575 --> 00:25:28.820\nsystems one generation back, we're in 12,\nwant to go to 12 R2, you know that doesn't\n\n498\n00:25:28.820 --> 00:25:32.540\nseem like a big leap, but it's really\nnot necessarily pretty straightforward.\n\n499\n00:25:32.540 --> 00:25:35.590\nPut in the 12 R2 media, run setup right.\n\n500\n00:25:35.590 --> 00:25:38.760\nMake sure you choose the appropriate\ninstallation language and options,\n\n501\n00:25:38.760 --> 00:25:40.920\nthat's all, just standard stuff right.\n\n502\n00:25:40.920 --> 00:25:44.720\nAfter we do all that, accept the or\naccept the license, go ahead and\n\n503\n00:25:44.720 --> 00:25:46.340\nspecify what kind of install you want.\n\n504\n00:25:46.340 --> 00:25:49.930\nYou're gonna click Upgrade there right,\ninstall Windows and\n\n505\n00:25:49.930 --> 00:25:53.500\nkeep file settings and apps is the screen\nyou'll see and that's the one you want,\n\n506\n00:25:53.500 --> 00:25:55.850\ncuz obviously,\nwe're gonna keep everything in place.\n\n507\n00:25:55.850 --> 00:26:00.200\nWe just wanna lay in the new binary bits,\nthe overlay, for 12 R2, swap out\n\n508\n00:26:00.200 --> 00:26:03.260\nthe older binaries, put in the new ones,\nand then we should be ready to go.\n\n509\n00:26:03.260 --> 00:26:05.810\nKeep in mind that when we do that,\nif Active Directory is there,\n\n510\n00:26:05.810 --> 00:26:09.860\nwe're upgrading AD from 12\nto 12 R2 as well, as I said.\n\n511\n00:26:09.860 --> 00:26:13.260\nWe should check for hardware and\nsoftware compatibility, although running\n\n512\n00:26:13.260 --> 00:26:17.020\na 12 system, you're probably gonna have\nno hardware Issues going to 12 R2 even\n\n513\n00:26:17.020 --> 00:26:19.915\nif it's a physical system as opposed\nto a virtual one either way.\n\n514\n00:26:19.915 --> 00:26:23.050\nThere should be no issue there,\nbut do keep that in mind.\n\n515\n00:26:23.050 --> 00:26:26.420\nI did talk about the fact that we have a\ndirect upgrade path that we could stand on\n\n516\n00:26:26.420 --> 00:26:31.790\nthe ridge and kind of look out and\nsee from 2008, 8 R2 into 12, 12 R2.\n\n517\n00:26:31.790 --> 00:26:34.760\nAnything prior to that as I mentioned,\nand I know we talked about this,\n\n518\n00:26:34.760 --> 00:26:38.210\nI just wanna be unequivocal and clear with\nyou, so there is no misunderstanding.\n\n519\n00:26:38.210 --> 00:26:42.980\nAnything earlier than that\ndoes not have a direct path.\n\n520\n00:26:42.980 --> 00:26:46.000\nWherein 2003,\nwe've gotta stop along the way.\n\n521\n00:26:46.000 --> 00:26:49.620\nIn 2008 or 12,\nyou'd want it to upgrade into 2012 R2.\n\n522\n00:26:49.620 --> 00:26:52.350\nThat would not be possible going direct,\nright?\n\n523\n00:26:52.350 --> 00:26:53.690\nSo please be aware of that.\n\n524\n00:26:53.690 --> 00:26:56.000\nWe would do what's called\nan interim upgrade.\n\n525\n00:26:56.000 --> 00:27:00.130\nThe interim upgrade would take us to 2008,\nand then from 8, we would go to 12 R2.\n\n526\n00:27:00.130 --> 00:27:02.400\nSo it'd be a multi-step process.\n\n527\n00:27:02.400 --> 00:27:04.020\nAgain, we love to ask those scenario,\n\n528\n00:27:04.020 --> 00:27:07.480\nthose trouble shooting,\nthose case study questions on the exam.\n\n529\n00:27:07.480 --> 00:27:08.730\nHey, we've got this kind of LS,\n\n530\n00:27:08.730 --> 00:27:12.440\nwe're dealing with these issues,\nwhat's the proper sequence of events?\n\n531\n00:27:12.440 --> 00:27:14.090\nWhat are the steps involved?\n\n532\n00:27:14.090 --> 00:27:18.100\nEither drag and drop, you've got a whole\nlist of steps over here on the left.\n\n533\n00:27:18.100 --> 00:27:20.935\nHey, put out the proper set\nof steps in order over here,\n\n534\n00:27:20.935 --> 00:27:25.610\nand/or just old school, hey, there's\nfive different answers to this question.\n\n535\n00:27:25.610 --> 00:27:28.020\nGet them in the right\nsequence in multiple choice.\n\n536\n00:27:28.020 --> 00:27:29.170\nChoose the right one.\n\n537\n00:27:29.170 --> 00:27:30.850\nSo make sure you're aware of that.\n\n538\n00:27:30.850 --> 00:27:32.170\nWe could do clean installs.\n\n539\n00:27:32.170 --> 00:27:33.460\nWe talked about that.\n\n540\n00:27:33.460 --> 00:27:36.110\nObviously doing the clean install is\nprobably the easiest, as we said,\n\n541\n00:27:36.110 --> 00:27:36.820\nof everything.\n\n542\n00:27:36.820 --> 00:27:37.880\nSo just be aware of that.\n\n543\n00:27:38.940 --> 00:27:43.300\nWe did talk about the fact that we can\ndo this upgrade and/or migration and\n\n544\n00:27:43.300 --> 00:27:47.660\nwe have a migration tool to get us into\nserver 12 R2 with the Active Directory.\n\n545\n00:27:47.660 --> 00:27:52.110\nIt deals with some of these issues around,\nthings like FSMO roles and\n\n546\n00:27:52.110 --> 00:27:55.640\nSIS History and some of the other stuff we\nhave to talk about that'll be coming up.\n\n547\n00:27:55.640 --> 00:27:56.860\nBut we do have a migration tool,\n\n548\n00:27:56.860 --> 00:28:00.320\nit's called the ADMT,\nthe Active Directory migration tool.\n\n549\n00:28:00.320 --> 00:28:01.460\nYou may have heard of it.\n\n550\n00:28:01.460 --> 00:28:04.020\nCertainly if you've been doing this for\na while, you would've come across\n\n551\n00:28:04.020 --> 00:28:08.280\nprior versions of our discussions\naround operating system upgrades.\n\n552\n00:28:08.280 --> 00:28:11.320\nNot unusual by any means,\nyou'd move users, groups,\n\n553\n00:28:11.320 --> 00:28:14.860\ncomputer accounts from one domain\nto another as we're moving things.\n\n554\n00:28:14.860 --> 00:28:17.550\nIn order to do this,\nwe migrate server resources.\n\n555\n00:28:17.550 --> 00:28:19.170\nSo it's a very useful tool,\nit's been around for\n\n556\n00:28:19.170 --> 00:28:23.940\nsome time, provides both a GUI and a\nscripted interface to allow us to do this.\n\n557\n00:28:23.940 --> 00:28:27.030\nSo if you're more comfortable in the GUI,\nyou got a point and click environment.\n\n558\n00:28:27.030 --> 00:28:30.710\nIf you prefer to do this in automated\nfashion, we could do that as well.\n\n559\n00:28:30.710 --> 00:28:34.951\nYou ever use the ADMT in any of the\niterations it's been around in, Cherokee?\n\n560\n00:28:34.951 --> 00:28:36.733\nI don't know if that's something you've-\n&gt;&gt; I'm trying to think about this, and\n\n561\n00:28:36.733 --> 00:28:37.354\nI don't think I have, Adam.\n\n562\n00:28:37.354 --> 00:28:38.599\n&gt;&gt; Haven't used it before, okay.\n\n563\n00:28:38.599 --> 00:28:41.385\n&gt;&gt; I've definitely used the migration\ntools, but not this specific tool.\n\n564\n00:28:41.385 --> 00:28:44.075\n&gt;&gt; All right, it's kind of an interesting\ntool, and if you haven't, obviously, had\n\n565\n00:28:44.075 --> 00:28:47.825\na chance to take a look at it, it would be\none you'd want to spend a little time on.\n\n566\n00:28:47.825 --> 00:28:50.995\nI do have a list of just all\nthe different things that it can do,\n\n567\n00:28:50.995 --> 00:28:52.355\nif you bear with me here half a sec.\n\n568\n00:28:52.355 --> 00:28:55.005\nJust before we go to it, let me just\nbring it up, make sure I have the right\n\n569\n00:28:55.005 --> 00:28:57.440\nitem here in the notes, and\nI'll be happy to show you the list.\n\n570\n00:28:57.440 --> 00:28:58.970\nIf you look right here on the screen,\n\n571\n00:28:58.970 --> 00:29:01.120\njust while we're talking,\nyou could see that list.\n\n572\n00:29:01.120 --> 00:29:02.800\nI'll just move that down a little bit, so\n\n573\n00:29:02.800 --> 00:29:05.220\nyou can see the list of\nvarious things it will do.\n\n574\n00:29:05.220 --> 00:29:08.320\nUser account migration as I mentioned,\ngroup, computer accounts,\n\n575\n00:29:08.320 --> 00:29:10.230\nservice accounts, also important.\n\n576\n00:29:10.230 --> 00:29:15.080\nTrusts, very important for\ndealing with Exchange migrations.\n\n577\n00:29:15.080 --> 00:29:18.190\nTranslation of security for\nmigrated computer accounts.\n\n578\n00:29:18.190 --> 00:29:21.810\nWe can report on what's going on so\nwe understand what's happening there.\n\n579\n00:29:21.810 --> 00:29:24.920\nWe do have versioning on the tool,\nit's just important to understand that.\n\n580\n00:29:24.920 --> 00:29:31.430\nThe ASMT 3.2 cannot be installed as you\ncould see on a Server 12 or 12 R2 system.\n\n581\n00:29:31.430 --> 00:29:35.720\nWe have to be able to use that on\nthe earlier version, you see there.\n\n582\n00:29:35.720 --> 00:29:38.264\nYou use it to migrate\nto a Windows 12 domain,\n\n583\n00:29:38.264 --> 00:29:42.639\nfirst install the ADMT on the 2008\nR2 server, where you're coming from,\n\n584\n00:29:42.639 --> 00:29:45.599\nrun it there, and\nthen from there you kind of move up.\n\n585\n00:29:45.599 --> 00:29:48.402\nSo you just have to know about\nthe positioning of the tool, where it is,\n\n586\n00:29:48.402 --> 00:29:51.005\nhow we're gonna set it up,\nwhat we're gonna do.\n\n587\n00:29:51.005 --> 00:29:55.365\nJust to make sure we are familiar with\nthe logic of it, we'll break out and\n\n588\n00:29:55.365 --> 00:29:59.472\ntalk about this just a little bit more,\nkinda the pre-migration step planning.\n\n589\n00:29:59.472 --> 00:30:02.432\nThe inner forestry structuring\nthat may take place with ADMT,\n\n590\n00:30:02.432 --> 00:30:03.712\nwhich we have to go through.\n\n591\n00:30:03.712 --> 00:30:07.152\nTake a look at this thing called\nthe SID History attribute that I was just\n\n592\n00:30:07.152 --> 00:30:11.990\nmentioning, how we're going to deal with\nthat and also some trust relationships.\n\n593\n00:30:11.990 --> 00:30:15.090\nWe're gonna have to come back talk about\nthat in another episode because we're\n\n594\n00:30:15.090 --> 00:30:16.400\njust about out of time on this one.\n\n595\n00:30:16.400 --> 00:30:19.620\nBut I just wanted to throw the tool out\nthere, just give you a sense of it.\n\n596\n00:30:19.620 --> 00:30:21.650\nThat way,\nas we come back we talk about it,\n\n597\n00:30:21.650 --> 00:30:23.560\nyou would at least have\na sense of what it is.\n\n598\n00:30:23.560 --> 00:30:26.310\nGives you a little time to maybe go\nonline, look it up real quick, and read up\n\n599\n00:30:26.310 --> 00:30:30.230\non it if you're interested as well before\nwe go through and talk some more about it.\n\n600\n00:30:30.230 --> 00:30:31.150\n&gt;&gt; All right sounds like a plan.\n\n601\n00:30:31.150 --> 00:30:34.110\nAdam, thank you for joining us and\nthank you or joining us as well but\n\n602\n00:30:34.110 --> 00:30:35.630\nfor this show, we are out of time.\n\n603\n00:30:35.630 --> 00:30:39.190\nSo I'm gonna go ahead and\nsign out as your host Cherokee Boose.\n\n604\n00:30:39.190 --> 00:30:43.330\n&gt;&gt; I'm gonna sign out as your non-host\nCherokee, but additional host-\n\n605\n00:30:43.330 --> 00:30:44.390\n&gt;&gt; Subject matter expert.\n\n606\n00:30:44.390 --> 00:30:45.270\n&gt;&gt; Subject matter expert.\n\n607\n00:30:45.270 --> 00:30:45.940\n&gt;&gt; Adam Gordon.\n\n608\n00:30:45.940 --> 00:30:47.740\n&gt;&gt; There you go,\nthat's what I'm gonna say I am.\n\n609\n00:30:47.740 --> 00:30:50.856\n&gt;&gt; Have a great day, bye.\n\n610\n00:30:50.856 --> 00:30:56.562\n[MUSIC]\n\n611\n00:30:56.562 --> 00:31:01.980\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "224332001"
        },
        {
          "description": "In this episode, Adam and Cherokee explain how one would use the Active Directory Migration Tool (ADMT). Adam also explains how this tool will depend on setting up s trust. He shares the various trust models and demonstrates how to install AD DS forest via PowerShell.",
          "length": "1771",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-5-1-3-distributed_ad_ds_deployments_pt3-070117-PGM.00_00_11_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-5-1-3-distributed_ad_ds_deployments_pt3-070117-PGM.00_00_11_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-5-1-3-distributed_ad_ds_deployments_pt3-070117-PGM.00_00_11_22.Still001-sm.jpg",
          "title": "Distributed AD DS Deployments Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.036\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.036 --> 00:00:05.838\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:05.838 --> 00:00:07.638\n[MUSIC]\n\n4\n00:00:07.638 --> 00:00:11.713\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.713 --> 00:00:15.023\n&gt;&gt; Welcome to your MCSA 70-412 series.\n\n6\n00:00:15.023 --> 00:00:16.891\nI'm your show host, Cherokee Boose.\n\n7\n00:00:16.891 --> 00:00:20.221\nIn this episode, we'll continue\ntalking about the deployment,\n\n8\n00:00:20.221 --> 00:00:22.123\nthe distributed AD DS deployments and\n\n9\n00:00:22.123 --> 00:00:25.519\nwe introduced the concept a little\nbit in the last couple episodes.\n\n10\n00:00:25.519 --> 00:00:26.887\nBut we're gonna go ahead and\n\n11\n00:00:26.887 --> 00:00:30.590\ntake a look at what that looks inside\nthe operating system environment.\n\n12\n00:00:30.590 --> 00:00:33.310\nAnd back in the studio with us today,\nwe have Mr Adam Gordon.\n\n13\n00:00:33.310 --> 00:00:34.810\nThank you for joining us, Adam.\n\n14\n00:00:34.810 --> 00:00:37.150\n&gt;&gt; Thank you.\nAlways glad to be here talking about\n\n15\n00:00:37.150 --> 00:00:38.890\ntopics of interest, whatever they may be.\n\n16\n00:00:38.890 --> 00:00:42.280\nIn this case, we're gonna\ncontinue talking about the ADMT,\n\n17\n00:00:42.280 --> 00:00:43.590\nthe Active Directory Migration Tool.\n\n18\n00:00:43.590 --> 00:00:46.980\nWe kind of threw it out there last\nepisode, hinted at what it does, gave you\n\n19\n00:00:46.980 --> 00:00:49.670\na little background and understanding\non the reasons why we'd use it.\n\n20\n00:00:49.670 --> 00:00:51.339\nWe've shortened our discussions so\n\n21\n00:00:51.339 --> 00:00:54.038\nthat we could throw the full\nweight of it into this episode.\n\n22\n00:00:54.038 --> 00:00:57.019\nI held up right at the point of we\nstart to talk about the premigration\n\n23\n00:00:57.019 --> 00:01:00.546\nplanning and the steps and inter-forest\nrestructuring that will take place.\n\n24\n00:01:00.546 --> 00:01:04.543\nSo we're to go back and start with that\nif you would join me right over there,\n\n25\n00:01:04.543 --> 00:01:08.660\nwe will take a look, we go full\nscreen please, thank you very much.\n\n26\n00:01:08.660 --> 00:01:11.540\nAll right so, you realize when\nit's full screen and I'm talking.\n\n27\n00:01:11.540 --> 00:01:15.500\nIf you were good voice impersonator or\n\n28\n00:01:15.500 --> 00:01:18.800\nventriloquist, I could just go sit down\nand you could be doing this whole thing.\n\n29\n00:01:18.800 --> 00:01:20.330\nAs a mater of fact, you don't even know.\n\n30\n00:01:20.330 --> 00:01:23.405\nThis could actually be Cherokee talking,\nright?\n\n31\n00:01:23.405 --> 00:01:24.508\n&gt;&gt; Yeah, it could be, but the.\n\n32\n00:01:24.508 --> 00:01:26.180\n[LAUGH]\n&gt;&gt; It's not, but it could be.\n\n33\n00:01:26.180 --> 00:01:27.100\nI'm just saying, you don't see.\n\n34\n00:01:27.100 --> 00:01:28.380\nYou don't really know who's talking.\n\n35\n00:01:28.380 --> 00:01:29.620\nI'm just pointing that out.\n\n36\n00:01:29.620 --> 00:01:33.040\nAnyway, anyway, so\nlet's talk about some ADMT,\n\n37\n00:01:33.040 --> 00:01:36.760\nActive Directory Migration Tool planning,\njust to remind you of what\n\n38\n00:01:36.760 --> 00:01:39.500\nwe're talking about here, the tool,\njust so you can see, right?\n\n39\n00:01:39.500 --> 00:01:43.380\nLet's us do all these things,\nmoving users groups, computer accounts,\n\n40\n00:01:43.380 --> 00:01:46.520\nservice accounts,\nwe're migrating them right out of a 2008,\n\n41\n00:01:46.520 --> 00:01:50.710\nlet's say 2008 R2 system,\ninto the 12, 12 R2 infrastructure.\n\n42\n00:01:50.710 --> 00:01:53.710\nHow are we gonna do that,\nthe tool allows us to move that over.\n\n43\n00:01:53.710 --> 00:01:56.790\nThat should actually be\nADMT down there by the way,\n\n44\n00:01:56.790 --> 00:02:00.160\nnot ASMT, little typo there,\nlet me just fix that.\n\n45\n00:02:00.160 --> 00:02:02.990\nMake sure that,\nthat is correct, there we go.\n\n46\n00:02:02.990 --> 00:02:04.967\nWhich is a little error on\nthe notes when I was typing.\n\n47\n00:02:04.967 --> 00:02:07.160\nAll right, so pre-migration steps.\n\n48\n00:02:07.160 --> 00:02:09.640\nSo, before we do the actual migration,\n\n49\n00:02:09.640 --> 00:02:14.010\nwhat do we need to do to make sure that we\ntalk about both source and target domains?\n\n50\n00:02:14.010 --> 00:02:18.073\nSource domains, where we're coming from,\nolder 2008, 2008 R2.\n\n51\n00:02:18.073 --> 00:02:22.725\nEven as you could see,\nolder still perhaps Windows 2000,\n\n52\n00:02:22.725 --> 00:02:25.850\n2003, whatever the case may be.\n\n53\n00:02:25.850 --> 00:02:29.847\nRight, but we're really thinking\nabout 2008, 2008 R2, in this case,\n\n54\n00:02:29.847 --> 00:02:33.920\nbecause we're gonna be going into 12\ndirectly, without stopping along the way.\n\n55\n00:02:33.920 --> 00:02:37.505\nSo we're talking about a migration\npath that is supported.\n\n56\n00:02:37.505 --> 00:02:40.625\nSo we're gonna be dealing with that,\nbut if we were coming from\n\n57\n00:02:40.625 --> 00:02:43.665\nolder operating systems,\nthere will be some things to consider.\n\n58\n00:02:43.665 --> 00:02:46.219\nThe target is where we're\ngonna drop those accounts so\n\n59\n00:02:46.219 --> 00:02:48.114\nits where we're gonna wind up going to.\n\n60\n00:02:48.114 --> 00:02:54.280\nFor domain member computers that are pre\nWindows Vista, SP1 or Server 2008 R2.\n\n61\n00:02:54.280 --> 00:02:58.824\nSo if they're running older than that, we\nhave to make sure we have registry entries\n\n62\n00:02:58.824 --> 00:03:03.176\nthere to support the use of the more\nmodern cryptographic algorithms that we're\n\n63\n00:03:03.176 --> 00:03:07.400\nusing, that are compatible with some\nof the newer, as well as older systems.\n\n64\n00:03:07.400 --> 00:03:09.870\nWe have to, in other words,\nensure full compatibility.\n\n65\n00:03:09.870 --> 00:03:13.800\nWe have new cryptographic algorithms in\nsome of the newer operating systems that\n\n66\n00:03:13.800 --> 00:03:15.776\nold operating systems don't support.\n\n67\n00:03:15.776 --> 00:03:18.360\nAnd so\nwe have to provide that functionality,\n\n68\n00:03:18.360 --> 00:03:23.133\nby adding in downloading some software and\nor providing registry keys that will say,\n\n69\n00:03:23.133 --> 00:03:25.740\nhey, this is what we're\ngonna be able to use.\n\n70\n00:03:25.740 --> 00:03:29.105\nSo, we may have to go in and modify some\nof that is all we're suggesting, and\n\n71\n00:03:29.105 --> 00:03:30.113\njust be aware of that.\n\n72\n00:03:31.739 --> 00:03:33.640\n&gt;&gt; Yeah, so\nI just had a question real quick.\n\n73\n00:03:34.990 --> 00:03:36.970\nSome other migration tools, like I said,\n\n74\n00:03:36.970 --> 00:03:40.163\nI'm not completely familiar with\nthis particular migration tool.\n\n75\n00:03:40.163 --> 00:03:44.367\nBut I know in other tools,\nyou have the ability to even downgrade.\n\n76\n00:03:44.367 --> 00:03:48.601\nIf I was concerned with managing my\nlicenses, and maybe I realized an area\n\n77\n00:03:48.601 --> 00:03:52.850\nthat wasn't being fully utilized,\nand I wanted to downgrade a machine.\n\n78\n00:03:54.060 --> 00:03:56.740\nNow looking at, when you're mentioning\nthe different technologies and\n\n79\n00:03:56.740 --> 00:03:58.250\nthinking about levels of encryption,\n\n80\n00:03:58.250 --> 00:04:01.370\nis that something that we should also\nthink about with any kind of downgrade or\n\n81\n00:04:01.370 --> 00:04:05.820\nwould that even be recommended and\nwith this particular migration tool?\n\n82\n00:04:05.820 --> 00:04:08.740\n&gt;&gt; Not something we would normally\ndeal with or consider here.\n\n83\n00:04:08.740 --> 00:04:11.880\nADMT is really specific to\njust moving the accounts and\n\n84\n00:04:11.880 --> 00:04:14.550\ndealing with the issues associated\nwith you transiting from\n\n85\n00:04:14.550 --> 00:04:17.750\none domain structure into a newer one and\nbringing those in.\n\n86\n00:04:17.750 --> 00:04:22.940\nWe're not dealing with licensing or\ndowngrade requirements or grants,\n\n87\n00:04:22.940 --> 00:04:25.860\nyou hear it referred to different ways,\ndepending on what you're doing.\n\n88\n00:04:25.860 --> 00:04:27.651\nThat's not something we would be\ndealing with here traditionally.\n\n89\n00:04:27.651 --> 00:04:28.255\n&gt;&gt; [INAUDIBLE] tool, okay.\n\n90\n00:04:28.255 --> 00:04:30.790\n&gt;&gt; So it's just, yes, it's not something\nwe would really would encompass\n\n91\n00:04:30.790 --> 00:04:33.210\nas part of a discussion\ntypically on a tool like this.\n\n92\n00:04:33.210 --> 00:04:35.640\nAll right, so if we go back,\nenabling firewall rules.\n\n93\n00:04:35.640 --> 00:04:38.270\nRight, gotta make sure we have\nthe appropriate rules there to allow for\n\n94\n00:04:38.270 --> 00:04:39.630\nfile and printer sharing.\n\n95\n00:04:39.630 --> 00:04:42.410\nMaybe some ports that have to be opened,\nthings of that nature.\n\n96\n00:04:42.410 --> 00:04:46.820\nGotta make sure that we are understanding\nhow profiles for users groups,\n\n97\n00:04:46.820 --> 00:04:48.530\netc., will be dealt with.\n\n98\n00:04:48.530 --> 00:04:51.921\nAlways most importantly, probably most\nimportant thing we can do, and have to do,\n\n99\n00:04:51.921 --> 00:04:54.951\nis making sure we have that rollback\nplan if things don't go the right way.\n\n100\n00:04:54.951 --> 00:04:58.679\nWhat are we gonna do to ensure we have\nstability and continued operations,\n\n101\n00:04:58.679 --> 00:05:02.465\nwhile we figure out how we're gonna\nthen attack the problem and hopefully,\n\n102\n00:05:02.465 --> 00:05:04.150\nget it right the next time.\n\n103\n00:05:04.150 --> 00:05:06.800\nMay have to establish one or\nmore trust relationships\n\n104\n00:05:06.800 --> 00:05:10.580\nto drive the migration between these two\ninstances, so we gotta think about that.\n\n105\n00:05:10.580 --> 00:05:12.730\nThose are not gonna be\ncreated automatically.\n\n106\n00:05:12.730 --> 00:05:14.074\nThe tool can help to establish those but\n\n107\n00:05:14.074 --> 00:05:15.672\nwe have to think about\nwhat they're gonna be.\n\n108\n00:05:15.672 --> 00:05:17.280\nWhere are we coming from?\n\n109\n00:05:17.280 --> 00:05:18.510\nWhat user accounts do we need?\n\n110\n00:05:18.510 --> 00:05:19.079\nWhere are we going to?\n\n111\n00:05:19.079 --> 00:05:20.970\nWhat accounts do we\nhave to have access to?\n\n112\n00:05:20.970 --> 00:05:23.652\nWe may have to manually create\nthose prior to launching the tool.\n\n113\n00:05:25.255 --> 00:05:27.455\nWould depend on circumstances,\nso just be aware of that.\n\n114\n00:05:27.455 --> 00:05:30.453\nThe SID-History issue, we're gonna\ntalk about here in a couple minutes.\n\n115\n00:05:30.453 --> 00:05:34.293\nBut SID-History, tagging and migration,\nbeing able to keep the SID-History\n\n116\n00:05:34.293 --> 00:05:37.240\nassociated with the account as\nit's moving from one domain.\n\n117\n00:05:38.500 --> 00:05:42.760\nADS infrastructure into a newer one is\ngonna be important, so that we can keep\n\n118\n00:05:42.760 --> 00:05:47.010\nsecurity associations associated with\nuser access, and things of that nature.\n\n119\n00:05:47.010 --> 00:05:48.080\nIt's gonna be very important.\n\n120\n00:05:48.080 --> 00:05:49.658\nWe have a specific way\nof dealing with that.\n\n121\n00:05:49.658 --> 00:05:52.667\nSo we just wanna make sure\nwe're gonna talk about that.\n\n122\n00:05:52.667 --> 00:05:56.095\nThe SID-History attribute has to be\nused and we have to be aware of that.\n\n123\n00:05:56.095 --> 00:05:58.331\nSo we'll have some more to say\nabout that down below here in just\n\n124\n00:05:58.331 --> 00:05:59.098\na couple of minutes.\n\n125\n00:05:59.098 --> 00:06:02.289\nAnd most importantly,\nright along with roll back plan,\n\n126\n00:06:02.289 --> 00:06:06.940\nmake sure you do the dry runs and the test\nmigrations that tools like this offer you,\n\n127\n00:06:06.940 --> 00:06:10.353\nto fix problems and\nerrors you will encounter along the way.\n\n128\n00:06:10.353 --> 00:06:13.420\nThis could be very important for\nus to be thinking about that.\n\n129\n00:06:13.420 --> 00:06:17.500\nAnd have a good sense of the fact, that\nby the time we're ready to do this for\n\n130\n00:06:17.500 --> 00:06:20.690\nreal, pull the trigger so\nto speak, right, and go live.\n\n131\n00:06:20.690 --> 00:06:24.037\nThat we've eliminated the most obvious\nerrors and points of contention,\n\n132\n00:06:24.037 --> 00:06:27.129\nareas of concern, and that those\nthings are not gonna get in our way.\n\n133\n00:06:27.129 --> 00:06:29.930\nAnd so, we do have to be\nthinking about that as well.\n\n134\n00:06:29.930 --> 00:06:31.860\nMany times you've heard me and\nyou've heard Cherokee,\n\n135\n00:06:31.860 --> 00:06:35.560\nboth of us talk about planning to\nbe successful or planning to fail.\n\n136\n00:06:35.560 --> 00:06:39.822\nNot testing the migration, not using\nthat opportunity the tool provides, and\n\n137\n00:06:39.822 --> 00:06:43.321\nnot taking the output of those\ntest runs and fixing those errors,\n\n138\n00:06:43.321 --> 00:06:44.924\nis planning to fail, right?\n\n139\n00:06:44.924 --> 00:06:48.688\nYou're just not taking your job seriously,\nyou're not acting with due care,\n\n140\n00:06:48.688 --> 00:06:50.740\nyou're not applying due diligence.\n\n141\n00:06:50.740 --> 00:06:53.800\nAnd the reality is, you're ignoring\nissues that are gonna come back and\n\n142\n00:06:53.800 --> 00:06:54.638\ncause problems.\n\n143\n00:06:54.638 --> 00:06:57.770\nAnd you cannot do that if you wanna\nbe able to be successful in this\n\n144\n00:06:57.770 --> 00:06:58.310\nparticular area.\n\n145\n00:06:58.310 --> 00:06:59.810\nSo just be aware of that.\n\n146\n00:06:59.810 --> 00:07:02.811\nWith regards to inter-forest\nrestructuring, and\n\n147\n00:07:02.811 --> 00:07:05.411\ndealing with that\ncapability with the ADMT.\n\n148\n00:07:05.411 --> 00:07:10.380\nThe inter-forest restructuring allows\nus as you could see to move resources\n\n149\n00:07:10.380 --> 00:07:14.661\nfrom source domains that are going\nto be in different forests, and\n\n150\n00:07:14.661 --> 00:07:19.657\nthen move them over, so we can go\nforest to forest, inter-forest, right?\n\n151\n00:07:19.657 --> 00:07:21.970\nNot intra-forest, within one forest,\n\n152\n00:07:21.970 --> 00:07:26.390\nbut inter-forest, between two forests,\nand we can do this as well.\n\n153\n00:07:26.390 --> 00:07:29.499\nRemember, if we have merger and\nacquisition activity,\n\n154\n00:07:29.499 --> 00:07:33.710\nwe potentially acquire our acquired by\nanother company with its own forest,\n\n155\n00:07:33.710 --> 00:07:35.152\nits own directory space.\n\n156\n00:07:35.152 --> 00:07:39.040\nWe do have to bridge those two and\nallow for trust relationships.\n\n157\n00:07:39.040 --> 00:07:41.587\nWe talked about some of this\nin prior conversations,\n\n158\n00:07:41.587 --> 00:07:43.009\nwhere we would allow claims.\n\n159\n00:07:43.009 --> 00:07:46.998\nFor instance, to be cross-forest\npollinated and be able to use them\n\n160\n00:07:46.998 --> 00:07:51.194\nbecause we'll set of trust relationships,\nso we can use attributes for\n\n161\n00:07:51.194 --> 00:07:55.079\nclaim based access control, for\ndynamic access control for DAC.\n\n162\n00:07:55.079 --> 00:07:56.840\nWe've had that conversation.\n\n163\n00:07:56.840 --> 00:08:01.186\nSo our reasons why inter-forest\ncommunication takes place and\n\n164\n00:08:01.186 --> 00:08:06.095\nWe may be using this tool to collapse and\nbring information together into\n\n165\n00:08:06.095 --> 00:08:11.008\nthe target forest, or the target\ndomain within the target forest.\n\n166\n00:08:11.008 --> 00:08:15.220\nSo that way we can aggregate all\nthose resources from the acquired\n\n167\n00:08:15.220 --> 00:08:17.990\ninfrastructure, bring them\nunder management, and\n\n168\n00:08:17.990 --> 00:08:20.150\neventually sundown that\nsystem to get rid of them.\n\n169\n00:08:20.150 --> 00:08:23.757\nAnd this is a pretty common thought\nprocess, this does happen very often in\n\n170\n00:08:23.757 --> 00:08:27.439\nthe corporate world, so it is something\njust to make sure you're aware of.\n\n171\n00:08:27.439 --> 00:08:30.326\nGotta think about that,\nI got a four step process here,\n\n172\n00:08:30.326 --> 00:08:32.240\nit's kind of broken out logically.\n\n173\n00:08:32.240 --> 00:08:34.086\nAnd we're gonna go through\nit just real quick,\n\n174\n00:08:34.086 --> 00:08:35.524\nwe'll just give you a sense of this.\n\n175\n00:08:35.524 --> 00:08:40.615\nBut step one as you can see,\nprepare the source and target domains.\n\n176\n00:08:40.615 --> 00:08:42.140\nSo we wanna think about that.\n\n177\n00:08:42.140 --> 00:08:43.920\nStep two is down below,\nwe'll get to it in a minute.\n\n178\n00:08:43.920 --> 00:08:45.420\nBut migrate the actual accounts.\n\n179\n00:08:45.420 --> 00:08:47.031\nStep three, migrate the resources.\n\n180\n00:08:47.031 --> 00:08:49.240\nStep four, kinda finalize migration.\n\n181\n00:08:49.240 --> 00:08:53.110\nSo breaking out those steps for us just\ngiving us a sense of what's gonna happen.\n\n182\n00:08:53.110 --> 00:08:55.417\nBut let's walk through here logically,\nlet's take a look.\n\n183\n00:08:55.417 --> 00:08:57.940\nSo step one, prepare source and\ntarget domains.\n\n184\n00:08:57.940 --> 00:09:01.130\nSo there's a list of things we\ngotta do here to get that done.\n\n185\n00:09:01.130 --> 00:09:04.950\nYou got two, four, six,\neight things I called out here.\n\n186\n00:09:04.950 --> 00:09:07.600\nGotta make sure we have the proper\nencryption support on all\n\n187\n00:09:07.600 --> 00:09:09.150\ndomain controllers, right?\n\n188\n00:09:09.150 --> 00:09:15.690\nWe do support 120 bit encryption natively\nwith server 2000 SP3 going forward.\n\n189\n00:09:15.690 --> 00:09:20.270\nAt this point you should not really\nbe dealing with MT4 anymore or\n\n190\n00:09:20.270 --> 00:09:24.650\nserver 2000 prior to SP3,\nthere are significant security liabilities\n\n191\n00:09:24.650 --> 00:09:27.400\nassociated with running some of\nthat older infrastructure today.\n\n192\n00:09:27.400 --> 00:09:30.658\nBut if for some odd reason you\nstill have some floating around.\n\n193\n00:09:30.658 --> 00:09:33.322\nAnd every so often, I do have customers\nthat fall into this category.\n\n194\n00:09:33.322 --> 00:09:36.876\nIt's unusual, but it's not unheard of,\nlet's put it that way.\n\n195\n00:09:36.876 --> 00:09:38.311\nThen you would need to download and\n\n196\n00:09:38.311 --> 00:09:41.888\ninstall some separate encryption packs to\nensure we have the proper kind of support.\n\n197\n00:09:41.888 --> 00:09:45.085\nBut chances are good Item A,\nis probably just the, yeah,\n\n198\n00:09:45.085 --> 00:09:47.960\nnot interested and\nwe move on kind of check box.\n\n199\n00:09:47.960 --> 00:09:49.680\nIt's rare you have to do that these days.\n\n200\n00:09:49.680 --> 00:09:52.757\nEstablish required trusts,\nthis is gonna be important,\n\n201\n00:09:52.757 --> 00:09:56.284\nprobably the first step we really\ndeal with an actionable item on.\n\n202\n00:09:56.284 --> 00:09:58.744\nYou have to configure at least\nthe one-way trust between the source and\n\n203\n00:09:58.744 --> 00:09:59.560\ntarget domains.\n\n204\n00:09:59.560 --> 00:10:03.820\nRemember, we may not need two-way\ntrust relationships or two-way\n\n205\n00:10:03.820 --> 00:10:07.870\ncommunication pathways, but we have to\nhave at least a one-way that lets us pull\n\n206\n00:10:07.870 --> 00:10:11.830\nfrom the source and drop into the target,\nso that way we can move the accounts.\n\n207\n00:10:11.830 --> 00:10:14.820\nWe don't have that communication bridge,\nnothing's happening.\n\n208\n00:10:14.820 --> 00:10:17.580\nSo this is logically\ngonna be very important.\n\n209\n00:10:17.580 --> 00:10:21.380\nEstablish migration accounts,\nthe ADMT user migration accounts,\n\n210\n00:10:21.380 --> 00:10:25.080\nor uses rather, migration accounts\nthat are used to migrate objects.\n\n211\n00:10:25.080 --> 00:10:28.197\nAnd we have to make sure that those\naccounts are given the appropriate\n\n212\n00:10:28.197 --> 00:10:30.411\npermissions in both source and\ntarget domains.\n\n213\n00:10:30.411 --> 00:10:34.027\nIn other words, we essentially create\nservice accounts that are used and\n\n214\n00:10:34.027 --> 00:10:36.254\ndedicated just to\nmigration with this tool.\n\n215\n00:10:36.254 --> 00:10:38.068\nAnd we have to make\nsure those are spun up.\n\n216\n00:10:38.068 --> 00:10:41.486\nWe have to make sure they're assigned the\nappropriate permissions in both the source\n\n217\n00:10:41.486 --> 00:10:43.020\nand the target infrastructure.\n\n218\n00:10:43.020 --> 00:10:45.220\nAnd that's part of what\nwe need to do as well.\n\n219\n00:10:45.220 --> 00:10:46.700\nWe do that ahead of time,\n\n220\n00:10:46.700 --> 00:10:50.050\nin other words as part of the prep and\nthe stand up of the tool.\n\n221\n00:10:50.050 --> 00:10:53.700\nDetermine whether ADMT will handle\nSID history automatically, or\n\n222\n00:10:53.700 --> 00:10:56.120\nif you're gonna configure and\ndo this manually.\n\n223\n00:10:56.120 --> 00:10:59.130\nWe'll be talking about the SID\nattribute here, as I mentioned.\n\n224\n00:10:59.130 --> 00:11:02.240\nI'm getting into SID history in just\na minute, but we have to figure that out.\n\n225\n00:11:02.240 --> 00:11:03.535\nThere are options in the tool.\n\n226\n00:11:03.535 --> 00:11:05.657\nYou could opt in to let\nthe tool handle it.\n\n227\n00:11:05.657 --> 00:11:08.479\nAnd the recommendation, by the way, is\nthat you want to let the tool handle it.\n\n228\n00:11:08.479 --> 00:11:13.041\nIt does make more sense traditionally,\nbut in certain situations there may be\n\n229\n00:11:13.041 --> 00:11:15.957\nrequirements where this\nhas to be done manually.\n\n230\n00:11:15.957 --> 00:11:19.140\nAnd so you just wanna be thinking\nabout that and have a sense of that.\n\n231\n00:11:19.140 --> 00:11:23.307\nIf you're in a situation where it has to\nbe done manually, you'll probably already\n\n232\n00:11:23.307 --> 00:11:27.242\nknow bout that, and know that there are\nissues associated that are gonna need or\n\n233\n00:11:27.242 --> 00:11:29.020\nrather compel you to do it this way.\n\n234\n00:11:29.020 --> 00:11:30.802\nSo just think about the logic of it.\n\n235\n00:11:30.802 --> 00:11:34.327\nThe idea basically with SID\nhistory attribute is that,\n\n236\n00:11:34.327 --> 00:11:39.427\nwe're going to be able to deal with the\nfact that as we migrate the user accounts,\n\n237\n00:11:39.427 --> 00:11:42.890\nwe are through ADDS assigning\na brand new SID, right?\n\n238\n00:11:42.890 --> 00:11:46.123\nThat account that comes over from\nthat old source domain in that\n\n239\n00:11:46.123 --> 00:11:49.234\nother forest has a unique SID\nassociated with the thing about\n\n240\n00:11:49.234 --> 00:11:52.260\nthe logic of when we've talked about this,\nright?\n\n241\n00:11:52.260 --> 00:11:56.190\nWhen we bring it over into our target\ndomain in our brand new forest,\n\n242\n00:11:56.190 --> 00:12:00.250\nwe can't just use the old seed and say,\nyeah, even though we don't own the object,\n\n243\n00:12:00.250 --> 00:12:01.670\neven though I have no knowledge on it,\n\n244\n00:12:01.670 --> 00:12:04.910\neven though that SID doesn't make\nsense to me, I'm just going to use it.\n\n245\n00:12:04.910 --> 00:12:09.433\nWe have to assign a new one to essentially\nbrand that user account as our own,\n\n246\n00:12:09.433 --> 00:12:12.698\nand print on it the information\nthat lets us manage it.\n\n247\n00:12:12.698 --> 00:12:15.780\nWhen I say us, I mean the target\nActive Directory infrastructure.\n\n248\n00:12:15.780 --> 00:12:20.486\nIf you think about the logic of that,\nbecause the resource in the source\n\n249\n00:12:20.486 --> 00:12:24.809\ndomain grants access based on\nthat SID in it's Infrastructure.\n\n250\n00:12:24.809 --> 00:12:29.416\nAnd the target domain is gonna grant\naccess based on the SID it grants in its\n\n251\n00:12:29.416 --> 00:12:31.140\nown infrastructure.\n\n252\n00:12:31.140 --> 00:12:34.661\nTwo different forests, two different SIDs.\n\n253\n00:12:34.661 --> 00:12:35.718\nInformation and\n\n254\n00:12:35.718 --> 00:12:40.774\nresource access is initially granted in\nthe source domain based on the old SID,\n\n255\n00:12:40.774 --> 00:12:45.240\nthe one we're not gonna have knowledge\nof and have no way to validate.\n\n256\n00:12:45.240 --> 00:12:49.310\nAnd we're gonna then have to worry about\ntranslating that into the new target\n\n257\n00:12:49.310 --> 00:12:51.890\ndomain, new forest,\nnew domain with a new SID.\n\n258\n00:12:51.890 --> 00:12:53.910\nIf we didn't do something\nto bridge this gap and\n\n259\n00:12:53.910 --> 00:12:58.870\nsome how have a referenceable way to\nunderstand the old SID, track that against\n\n260\n00:12:58.870 --> 00:13:04.450\nthe resources being brought over, and\ntranslate that before we lose sight of it.\n\n261\n00:13:04.450 --> 00:13:07.000\nWe would essentially hit\nthe reset button on all users and\n\n262\n00:13:07.000 --> 00:13:10.640\nall information access, and\nnothing would hold true.\n\n263\n00:13:10.640 --> 00:13:15.440\nIn other words, we would have no way of\nmaintaining access control list integrity.\n\n264\n00:13:15.440 --> 00:13:18.726\nNo way of understanding if you\nthink about the logic of it.\n\n265\n00:13:18.726 --> 00:13:23.128\nAny kind of security infrastructure,\nall of that would just vaporize, right?\n\n266\n00:13:23.128 --> 00:13:24.430\nAnd we'd have to start over again.\n\n267\n00:13:24.430 --> 00:13:26.627\nImagine the chaos associated with that.\n\n268\n00:13:26.627 --> 00:13:27.135\nThat would be very problematic.\n\n269\n00:13:27.135 --> 00:13:30.612\n&gt;&gt; I'm sitting here and trying to think\nabout what would happen, because this\n\n270\n00:13:30.612 --> 00:13:34.190\nautomation really relieves a lot of\nthat stress and pressure that you have.\n\n271\n00:13:34.190 --> 00:13:38.450\n&gt;&gt; Because yeah, what are you gonna do\nif none of your users can login and\n\n272\n00:13:38.450 --> 00:13:43.534\nliterally their accounts are just kind of\nvaporized in a way that you put it there.\n\n273\n00:13:43.534 --> 00:13:46.628\n[CROSSTALK]\n&gt;&gt; This would be an issue,\n\n274\n00:13:46.628 --> 00:13:48.090\nwe'd strip them essentially.\n\n275\n00:13:48.090 --> 00:13:51.040\nAnd although while the system,\nboth systems were up and\n\n276\n00:13:51.040 --> 00:13:54.429\nrunning in place and\nwe have the trust relationships in theory,\n\n277\n00:13:54.429 --> 00:13:58.214\nwe may be able to go back to the old\nsystem and validate across the trust.\n\n278\n00:13:58.214 --> 00:13:59.440\nAt some point that goes away, right?\n\n279\n00:13:59.440 --> 00:14:03.325\nSo we need to rest this situation by\nhaving referenceable information to SID\n\n280\n00:14:03.325 --> 00:14:06.309\nhistory attribute,\nessentially to allows us to do this.\n\n281\n00:14:06.309 --> 00:14:11.223\nWe can, as we said, automate these\nprocess where ADMT will migrate the SID\n\n282\n00:14:11.223 --> 00:14:14.889\nfrom the source domain over\nstore the SID as an attribute\n\n283\n00:14:14.889 --> 00:14:19.570\nin the new account information as\nan attribute called SID history.\n\n284\n00:14:19.570 --> 00:14:20.360\nSo we reference,\n\n285\n00:14:20.360 --> 00:14:24.180\nanother words the old SID in this\nattribute, assigning it to the new system.\n\n286\n00:14:24.180 --> 00:14:26.225\nAnd giving us that point\nof reference that we need,\n\n287\n00:14:26.225 --> 00:14:28.650\nSID history attribute gets populated.\n\n288\n00:14:28.650 --> 00:14:31.790\nOnce it is,\nthe user's previous SID is used to grant\n\n289\n00:14:31.790 --> 00:14:35.620\nthat access to resources in the source\ndomain for that period of time.\n\n290\n00:14:35.620 --> 00:14:38.800\nObviously, if we moved them over over\ntime, and we could translate that,\n\n291\n00:14:38.800 --> 00:14:40.980\nthen we're able to deal\nwith that with no trouble.\n\n292\n00:14:40.980 --> 00:14:43.530\nSo just be aware of the fact that the SID\n\n293\n00:14:43.530 --> 00:14:45.750\nhistory attribute is vital\nto our success here.\n\n294\n00:14:45.750 --> 00:14:49.280\nIf we don't have that, then things\nare gonna end really badly for us.\n\n295\n00:14:49.280 --> 00:14:51.900\nI do have a couple of download links\nright below this list we'll show you in\n\n296\n00:14:51.900 --> 00:14:55.580\na minute, where you can find them and\nthen in the nodes where you can get them.\n\n297\n00:14:55.580 --> 00:14:57.430\nWhere you download the ADMT tool, so\n\n298\n00:14:57.430 --> 00:14:59.570\nyou can deal with this if\nyou have to go get it.\n\n299\n00:14:59.570 --> 00:15:01.990\nKeep in mind the URL's\nare active as we often say,\n\n300\n00:15:01.990 --> 00:15:03.590\nright at the time we\nput them in the nodes.\n\n301\n00:15:03.590 --> 00:15:06.510\nYou're watching this several days,\nweeks, months, perhaps even a year or\n\n302\n00:15:06.510 --> 00:15:09.370\nmore after we film it live,\nthat link may have changed.\n\n303\n00:15:09.370 --> 00:15:10.530\nWe have no way of knowing.\n\n304\n00:15:10.530 --> 00:15:11.560\nSo just validate the link.\n\n305\n00:15:11.560 --> 00:15:12.140\nGo out there.\n\n306\n00:15:12.140 --> 00:15:15.290\nIf it's moved for some reason,\ndo the obvious thing.\n\n307\n00:15:15.290 --> 00:15:17.430\nWork with the search engine\non the Microsoft site or\n\n308\n00:15:17.430 --> 00:15:21.520\nwhatever you need to do, and just get\nthe most recent up to date information.\n\n309\n00:15:21.520 --> 00:15:23.430\nThere may also be a new version\nof the tool by the time\n\n310\n00:15:23.430 --> 00:15:24.466\nyou're gonna use it, right?\n\n311\n00:15:24.466 --> 00:15:28.770\nSo again, version 3.2 may not be the most\nrecent version by the time you watch this\n\n312\n00:15:28.770 --> 00:15:30.150\nand actually go download the tool.\n\n313\n00:15:30.150 --> 00:15:32.480\nSo just adjust in real-time and no issues.\n\n314\n00:15:32.480 --> 00:15:34.240\nYou'll be able to find what\nyou need with no trouble.\n\n315\n00:15:34.240 --> 00:15:36.040\nAll right, so determining whether or\n\n316\n00:15:36.040 --> 00:15:38.050\nnot we're gonna handle that\nautomatically or manually.\n\n317\n00:15:38.050 --> 00:15:40.870\nAs I said, if you handle this manually,\nmay not be the way to go.\n\n318\n00:15:40.870 --> 00:15:43.630\nYou don't wanna be trying to cross\npollinate and populate this SID\n\n319\n00:15:43.630 --> 00:15:46.649\nhistory attributes, probably wanna\ndeal with the two let it do itself.\n\n320\n00:15:46.649 --> 00:15:49.897\nThe time way walk away from this\ntraditionally is, hey, you know what?\n\n321\n00:15:49.897 --> 00:15:53.210\nWe're leaving behind everything over\nthere, all we want are the user accounts,\n\n322\n00:15:53.210 --> 00:15:54.707\nwe don't care about anything else.\n\n323\n00:15:54.707 --> 00:15:57.303\nSaid history's probably not a big deal.\n\n324\n00:15:57.303 --> 00:16:00.453\nIf you're in other words not gonna\nhave resources you have to worry about\n\n325\n00:16:00.453 --> 00:16:03.966\naccessing, if everything's gonna be\ncreated brand new then we probably are not\n\n326\n00:16:03.966 --> 00:16:05.230\nas concerned about that.\n\n327\n00:16:05.230 --> 00:16:08.260\nBut traditionally there are resources\nthat have to be maintained.\n\n328\n00:16:08.260 --> 00:16:10.760\nAnd that's really where sid history\nbecomes important, just so you know.\n\n329\n00:16:10.760 --> 00:16:14.230\nAll right, so ensure proper\nconfiguration of the OU structure\n\n330\n00:16:14.230 --> 00:16:17.010\nin the target domain so\nthat we can drop these users in and\n\n331\n00:16:17.010 --> 00:16:20.210\nperhaps have to recreate that\nstructure from the source side.\n\n332\n00:16:20.210 --> 00:16:23.320\nThere may be specificities associated\nwith that, that's important, so\n\n333\n00:16:23.320 --> 00:16:25.060\nwe have to make sure we're aware of that.\n\n334\n00:16:25.060 --> 00:16:28.500\nProper administrative rights,\ndelegated admin rights, etc.\n\n335\n00:16:28.500 --> 00:16:30.510\nObviously install the tool, right?\n\n336\n00:16:30.510 --> 00:16:32.800\nAt that point set a password migration.\n\n337\n00:16:32.800 --> 00:16:35.900\nPerform the test as we talked about\nto make sure you get it right.\n\n338\n00:16:35.900 --> 00:16:38.800\nMigrate the accounts,\nperform the following steps,\n\n339\n00:16:38.800 --> 00:16:42.460\ntransition service accounts first,\ndo global groups then accounts.\n\n340\n00:16:42.460 --> 00:16:47.360\nAnd then resources, same idea, migrate\nworkstations and member servers first.\n\n341\n00:16:47.360 --> 00:16:50.090\nDo domain local groups,\nthen domain controllers last.\n\n342\n00:16:50.090 --> 00:16:53.410\nRemember the idea is we want all of\nthe other supporting infrastructure there.\n\n343\n00:16:53.410 --> 00:16:55.890\nIf we bring the domain\ncontrollers over first,\n\n344\n00:16:55.890 --> 00:17:01.090\nthen all that other stuff has to come\nacross the divide to be able to interact.\n\n345\n00:17:01.090 --> 00:17:02.760\nIt's easier if we have all\nthe other stuff there,\n\n346\n00:17:02.760 --> 00:17:04.780\nand then bring the domain\ncontrollers in when we're done.\n\n347\n00:17:04.780 --> 00:17:07.050\nAnd then finalize migration.\n\n348\n00:17:07.050 --> 00:17:10.160\nClean up by performing steps\nhere where we transition and\n\n349\n00:17:10.160 --> 00:17:13.750\ntransfer them into server processes into\nthe target domain so we start slowly but\n\n350\n00:17:13.750 --> 00:17:16.700\nsurely walking away from\nthat source domain.\n\n351\n00:17:16.700 --> 00:17:20.690\nEnsure that at least two operable domain\ncontrollers exist in the target domain.\n\n352\n00:17:20.690 --> 00:17:22.780\nWhat I wrote there is backup\nthose domain controllers,\n\n353\n00:17:22.780 --> 00:17:24.620\nno single points of failure, right?\n\n354\n00:17:24.620 --> 00:17:26.930\nSo if we have only one domain\ncontroller operating and\n\n355\n00:17:26.930 --> 00:17:28.620\nsomething blows up we're done.\n\n356\n00:17:28.620 --> 00:17:32.040\nSo we gotta have at least two and we\ngotta make sure we have backups of those.\n\n357\n00:17:32.040 --> 00:17:35.200\nAnd then over time as soon as everything\nis kind of done decommission that\n\n358\n00:17:35.200 --> 00:17:36.080\nsource domain, right?\n\n359\n00:17:36.080 --> 00:17:39.730\nGet rid of it and make sure we no longer\nhave an issue associated with running it.\n\n360\n00:17:39.730 --> 00:17:42.740\nWe call that sundowning\nin some discussions or\n\n361\n00:17:42.740 --> 00:17:44.600\nsome documentation that you read.\n\n362\n00:17:44.600 --> 00:17:45.500\nIt all means the same thing.\n\n363\n00:17:45.500 --> 00:17:48.290\nEssentially just turn off\nthe source domain when we're done.\n\n364\n00:17:48.290 --> 00:17:49.630\nSo just be aware of that.\n\n365\n00:17:49.630 --> 00:17:51.350\nWe talked about the SID\nhistory attribute and\n\n366\n00:17:51.350 --> 00:17:53.740\nkinda talked to you about what it is and\nwhat it does.\n\n367\n00:17:53.740 --> 00:17:56.630\nThe download links as what\nI pointed to are there.\n\n368\n00:17:56.630 --> 00:17:59.820\nThere is a nice migration\nguide that goes with the tool.\n\n369\n00:17:59.820 --> 00:18:03.060\nI put the link in there as well so that\nyou could take a look and read up on it.\n\n370\n00:18:03.060 --> 00:18:05.720\nAnd just get a better sense\nof how that's gonna work and\n\n371\n00:18:05.720 --> 00:18:08.990\nwhat we may be doing there in\norder to better understand that.\n\n372\n00:18:08.990 --> 00:18:10.970\nWanted to show you\nthe different types of trust.\n\n373\n00:18:10.970 --> 00:18:12.620\nTalked about trust a little bit and\n\n374\n00:18:12.620 --> 00:18:16.310\nmentioned the fact that we do have\nthe ability to work with them.\n\n375\n00:18:16.310 --> 00:18:20.165\nI have a document you can see I've\nreferenced here, main ADDS trust types.\n\n376\n00:18:20.165 --> 00:18:23.280\nWanna show that to you and\njust make sure we're familiar with that.\n\n377\n00:18:23.280 --> 00:18:24.260\nSo let me just bring that up.\n\n378\n00:18:24.260 --> 00:18:27.110\nJust gonna zoom in on it a little bit so\nyou could see it.\n\n379\n00:18:27.110 --> 00:18:29.310\nSo just give me a second to do that.\n\n380\n00:18:29.310 --> 00:18:33.690\nUsually put this up around about 140% or\nso, something like that so\n\n381\n00:18:33.690 --> 00:18:35.050\nyou can see a little better.\n\n382\n00:18:35.050 --> 00:18:37.920\nSo this is a document that's in\nthe show notes, you can download it.\n\n383\n00:18:37.920 --> 00:18:40.350\nJust put together a nice, little,\nhandy referenceable chart for\n\n384\n00:18:40.350 --> 00:18:44.750\nyou on the trust types, whether it's\ntransitive or not, the direction and\n\n385\n00:18:44.750 --> 00:18:47.300\na little description,\na sentence or so of what it does.\n\n386\n00:18:47.300 --> 00:18:50.040\nParent and child trusts, tree root trusts,\n\n387\n00:18:50.040 --> 00:18:53.928\nexternal realm, forest complete or\nselective, shortcut.\n\n388\n00:18:53.928 --> 00:18:57.590\nAnd you could see the different kinds of\ntrust relationships that are created.\n\n389\n00:18:57.590 --> 00:19:01.470\nIt's important for us to have a sense\nof these because we are going to\n\n390\n00:19:01.470 --> 00:19:04.910\nneed to establish certain\ntrust on our own manually.\n\n391\n00:19:04.910 --> 00:19:09.030\nOthers may be created for us automatically\nas part of joining a domain,\n\n392\n00:19:09.030 --> 00:19:11.477\nas an additional domain controller,\n\n393\n00:19:11.477 --> 00:19:15.840\nas part of adding a child domain to\nan existing domain infrastructure as\n\n394\n00:19:15.840 --> 00:19:20.440\npart of creating a brand new tree\ninside of a forest as we already saw.\n\n395\n00:19:20.440 --> 00:19:21.880\nAnd we did it, I'm gonna stand up and\n\n396\n00:19:21.880 --> 00:19:25.630\ndo a demo here on setting up a new\nforest here in just a minute.\n\n397\n00:19:25.630 --> 00:19:26.800\nSo we could do different things.\n\n398\n00:19:26.800 --> 00:19:28.840\nSo knowledge of these different trusts.\n\n399\n00:19:28.840 --> 00:19:30.400\nYou'll see here parent and child.\n\n400\n00:19:30.400 --> 00:19:33.770\nWhen a new AD DS domain is added to\nan existing tree, the new parent and\n\n401\n00:19:33.770 --> 00:19:35.170\nchild trusts are created.\n\n402\n00:19:35.170 --> 00:19:40.240\nSo if we have ITPro.TV and\nwe add switchers.ITPro.TV or\n\n403\n00:19:40.240 --> 00:19:44.800\nwe add host.ITPro.TV as a separate domain,\nas a child domain.\n\n404\n00:19:44.800 --> 00:19:47.800\nThen we would create this two way\ntransitive trust automatically\n\n405\n00:19:47.800 --> 00:19:49.910\nas part of populating that.\n\n406\n00:19:49.910 --> 00:19:51.610\nSo that's what we talk about there.\n\n407\n00:19:51.610 --> 00:19:54.550\nWhen a new AD DS tree is\ncreated in an existing forest,\n\n408\n00:19:54.550 --> 00:19:57.170\nwe create what's called\na new tree root trust.\n\n409\n00:19:57.170 --> 00:20:01.850\nSo when we add a brand new tree,\nlike I did with practicetraining.com\n\n410\n00:20:01.850 --> 00:20:06.750\ninto the forest in my last demo, we create\na tree root trust that's transitive in\n\n411\n00:20:06.750 --> 00:20:11.730\ntwo way, between that tree and other trees\nup in the forest, so they can be managed.\n\n412\n00:20:11.730 --> 00:20:13.970\nAnd we understand and\nhave knowledge of them, so\n\n413\n00:20:13.970 --> 00:20:16.260\nwe can see them up into the forest.\n\n414\n00:20:16.260 --> 00:20:20.530\nSo we join, in other words, these systems\nso we can have knowledge of them.\n\n415\n00:20:20.530 --> 00:20:25.050\nExternal trusts are non transitive,\nright and there are one or two way so\n\n416\n00:20:25.050 --> 00:20:29.120\nwe can usually create them as two one\nof cross going on either direction.\n\n417\n00:20:29.120 --> 00:20:32.950\nRight, going from trusted to trusting and\ntrusting back to trusted.\n\n418\n00:20:32.950 --> 00:20:36.670\nThey are enabling resource\naccess to external domains and\n\n419\n00:20:36.670 --> 00:20:40.760\nolder domains like NT 4.0 domains for\ninstance, things like that.\n\n420\n00:20:40.760 --> 00:20:44.050\nThat actually should just be a little\nspace there between the two.\n\n421\n00:20:44.050 --> 00:20:47.650\nBut they are gonna be set up to provide\nUsually a framework for migration,\n\n422\n00:20:47.650 --> 00:20:49.690\nmore often than not,\nas we talked about, so\n\n423\n00:20:49.690 --> 00:20:53.020\nwe would see those being used\nto create migration pathways.\n\n424\n00:20:53.020 --> 00:20:56.530\nRealm trusts, again,\ntransitive, or non-transitive,\n\n425\n00:20:56.530 --> 00:20:58.230\ndepending on how we set them up and\nwhat we do.\n\n426\n00:20:58.230 --> 00:21:04.320\nOne or two way, we set these up between\nWindows Server AD DS systems and\n\n427\n00:21:04.320 --> 00:21:09.530\nKerberos Version 5 realms, which are using\ndirectory services other than AD DS.\n\n428\n00:21:09.530 --> 00:21:13.680\nWe've mentioned the fact that Kerberos\nis not just a Microsoft solution.\n\n429\n00:21:13.680 --> 00:21:18.250\nIt's used in Linux and Unix systems,\namong many other operating systems.\n\n430\n00:21:18.250 --> 00:21:19.320\nAnd domain names and\n\n431\n00:21:19.320 --> 00:21:24.210\ndirectories are called realms in Kerberos\nwhen we implement them outside of Windows.\n\n432\n00:21:24.210 --> 00:21:28.205\nAnd so when we're linking two LDAP\nsystems together, one Windows-based,\n\n433\n00:21:28.205 --> 00:21:32.323\none non-Windows-based, both using\nKerberos We would create a realm trust,\n\n434\n00:21:32.323 --> 00:21:33.810\nin order to bridge that gap.\n\n435\n00:21:33.810 --> 00:21:37.430\nAgain, think of probably a merger and\nacquisition solution,\n\n436\n00:21:37.430 --> 00:21:41.170\nwhere we may be acquiring a company,\nor a company acquires us, and\n\n437\n00:21:41.170 --> 00:21:44.570\nthere's a mixed LDAP directory\ninfrastructure's part of that.\n\n438\n00:21:44.570 --> 00:21:47.690\nWe may need realm trust to bring\nthat into the Windows world and\n\n439\n00:21:47.690 --> 00:21:50.640\nestablish connectivity, and\nthat's what we would often see.\n\n440\n00:21:50.640 --> 00:21:52.690\nSo just wanna make sure\nwe're aware of that.\n\n441\n00:21:52.690 --> 00:21:57.550\nForest trust, trust between AD forest\nthat allows us to set up the trust\n\n442\n00:21:57.550 --> 00:22:02.060\nrelationships that we would use between\nto forest to be able to communicate.\n\n443\n00:22:02.060 --> 00:22:06.970\nAnd then short cut trust, non transitive,\nthese are configured for authentication to\n\n444\n00:22:06.970 --> 00:22:12.850\nbe able to create a direct path to deal\nwith latency issues more often than not.\n\n445\n00:22:12.850 --> 00:22:13.900\nThey're not there by default.\n\n446\n00:22:13.900 --> 00:22:17.536\nThey have to be created on the fly\nin order for this to work.\n\n447\n00:22:17.536 --> 00:22:23.160\nBut we would wanna know that a shortcut\ntrust is a one way, typically again,\n\n448\n00:22:23.160 --> 00:22:27.550\none way we will do two one way\ntrusts to create the two way option.\n\n449\n00:22:27.550 --> 00:22:31.450\nBut we create them as one off solutions,\nto create direct paths\n\n450\n00:22:31.450 --> 00:22:35.390\nin whatever level of the infrastructure\nwe're experiencing latency or delays in.\n\n451\n00:22:35.390 --> 00:22:38.460\nAnd they create a direct bridge that\nhelps us to potentially to overcome\n\n452\n00:22:38.460 --> 00:22:39.110\nthose issues.\n\n453\n00:22:39.110 --> 00:22:40.800\nAnd really the only\ntime we could see them.\n\n454\n00:22:40.800 --> 00:22:43.880\nWe'll be shortcut trust, or rather\nthe reasons why we would deploy them,\n\n455\n00:22:43.880 --> 00:22:44.810\nthere would be shortcut trust.\n\n456\n00:22:44.810 --> 00:22:48.860\nSo just make sure we're aware of that,\nwe think about the logic of it.\n\n457\n00:22:48.860 --> 00:22:52.587\nYou'll forest trust or trust between\nforest are use as we set to authenticate\n\n458\n00:22:52.587 --> 00:22:56.820\ndifferent domains between the trusts,\nand allow for exchange of information.\n\n459\n00:22:56.820 --> 00:23:00.290\nSo we've talked about this, we've talked\nabout why this would be important.\n\n460\n00:23:00.290 --> 00:23:04.640\nWe also, just while we're on the subject,\ntalk about these trust relationships.\n\n461\n00:23:04.640 --> 00:23:06.700\nJust scroll back up towards the top so\nyou could see it.\n\n462\n00:23:06.700 --> 00:23:12.370\nWe wanna think about the fact that we do\nhave some advanced AD DS trust settings\n\n463\n00:23:12.370 --> 00:23:16.270\nthat are gonna be impacted by, or gonna be\ndriven by the use of some of these trusts,\n\n464\n00:23:16.270 --> 00:23:20.340\nthings like SID filtering and selective\nauthentication comme to mind here.\n\n465\n00:23:20.340 --> 00:23:25.680\nSID filtering allows us to prevent users\nwho access information in one domain or\n\n466\n00:23:25.680 --> 00:23:27.860\nanother to be given rights or\nto be allowed rights,\n\n467\n00:23:27.860 --> 00:23:32.570\ndepending on how you choose to think\nof it in a trusted forest or a domain.\n\n468\n00:23:32.570 --> 00:23:35.970\nThey're not gonna be able to grant\nthemselves rights exclusively into other\n\n469\n00:23:35.970 --> 00:23:37.730\nareas unless we are aware of it.\n\n470\n00:23:37.730 --> 00:23:41.650\nIt's another ability issue, in other words\nwe wanna track the use of a user account\n\n471\n00:23:41.650 --> 00:23:44.730\nthat has maybe enterprise admin rights or\ndomain admin rights and\n\n472\n00:23:44.730 --> 00:23:45.965\nknow what they are doing.\n\n473\n00:23:45.965 --> 00:23:49.659\nAnd so we can do that with SID\nfilterings that prevents the use or\n\n474\n00:23:49.659 --> 00:23:53.371\nmisuse of the SID history attribute and\nmigration scenarios.\n\n475\n00:23:53.371 --> 00:23:57.708\nSo we could track the fact that you're\nnot overtaking that said history, and\n\n476\n00:23:57.708 --> 00:23:59.643\nleveraging it to grant yourself or\n\n477\n00:23:59.643 --> 00:24:03.710\nelevate your access to resources\nthat you're not supposed to see.\n\n478\n00:24:03.710 --> 00:24:05.440\nSo we do wanna make sure\nwe are aware of that and\n\n479\n00:24:05.440 --> 00:24:06.870\njust think about the logic of that.\n\n480\n00:24:06.870 --> 00:24:09.530\nWe also have this idea of\nselective authentication,\n\n481\n00:24:09.530 --> 00:24:12.948\nwhere we can manage the scope of\nauthentication across these trusts.\n\n482\n00:24:12.948 --> 00:24:15.540\nHey, I'm gonna grant these users or\nthese groups rights; but\n\n483\n00:24:15.540 --> 00:24:17.750\nnot others because when\nwe control the gateway,\n\n484\n00:24:17.750 --> 00:24:21.800\nthe trust We're essentially deciding what\nwe're gonna do and how we're gonna do it.\n\n485\n00:24:21.800 --> 00:24:25.780\nWe could do domain wide authentication or\nforest wide authentication.\n\n486\n00:24:25.780 --> 00:24:29.020\nOr what we call selective authentication,\nwe have different options.\n\n487\n00:24:29.020 --> 00:24:32.385\nSo we just have to be thinking about that\nand just make sure we're familiar with\n\n488\n00:24:32.385 --> 00:24:37.435\nthe idea associated with that or the ideas\nrather associated with that I should say.\n\n489\n00:24:37.435 --> 00:24:40.445\nAll right,\nspeaking of forest relationships, trust,\n\n490\n00:24:40.445 --> 00:24:43.615\netc, why don't we just quickly\nwrap up our conversation here.\n\n491\n00:24:43.615 --> 00:24:46.365\nTaking a look at how we created and\nstand up a brand new forest.\n\n492\n00:24:46.365 --> 00:24:49.155\nThought that would be a cool little\ndemo for us to just wrap up with.\n\n493\n00:24:49.155 --> 00:24:52.840\nJust want to extend the timer on the lab\nhere so we don't ran out of time.\n\n494\n00:24:52.840 --> 00:24:55.800\nSo I'm on a stand alone machine\nas you could see right here.\n\n495\n00:24:55.800 --> 00:24:58.660\nWe've already got PowerShell opened up.\n\n496\n00:24:58.660 --> 00:25:00.550\nJust typed in my command to go ahead and\n\n497\n00:25:00.550 --> 00:25:04.380\nlaunch and add the AD Domain Services\nfrom PowerShell.\n\n498\n00:25:04.380 --> 00:25:06.160\nSo we're just gonna go ahead and\nhit enter to let that go.\n\n499\n00:25:06.160 --> 00:25:08.480\nJust gonna go ahead and do its thing here.\n\n500\n00:25:08.480 --> 00:25:10.100\nReal quick.\nIt doesn't take very long to get\n\n501\n00:25:10.100 --> 00:25:11.040\nthat set up.\n\n502\n00:25:11.040 --> 00:25:14.559\nOnce that's done I'm gonna use\nPower Shell to then install,\n\n503\n00:25:14.559 --> 00:25:18.020\nthe ADDS Forest using the install\nADDS Forest commandlets.\n\n504\n00:25:18.020 --> 00:25:19.018\nI'll show you how to do that.\n\n505\n00:25:19.018 --> 00:25:20.260\nAnd then we'll go ahead and\n\n506\n00:25:20.260 --> 00:25:22.070\nwe'll give it a domain name that\nwe are gonna work with here.\n\n507\n00:25:22.070 --> 00:25:24.318\nSo we're gonna go ahead and\njust get that running.\n\n508\n00:25:24.318 --> 00:25:27.530\nYou can see this first part\ndoes not take very long at all.\n\n509\n00:25:27.530 --> 00:25:34.390\nAll right so, we've got the ADDS services\nset up, let's do our install ADDS Forest.\n\n510\n00:25:34.390 --> 00:25:40.010\nSo we've got that commandlet right there,\ngonna specify our domain name and\n\n511\n00:25:40.010 --> 00:25:42.920\nour domain name is going to be, let's see.\n\n512\n00:25:42.920 --> 00:25:45.930\nPractice, what are we doing?\n\n513\n00:25:45.930 --> 00:25:50.870\nPractice-IT.co.uk.\n\n514\n00:25:50.870 --> 00:25:55.980\nSo put our domain name in there, just\nmake sure that is all spelled correctly.\n\n515\n00:25:55.980 --> 00:25:57.410\nGo ahead and hit enter there.\n\n516\n00:25:57.410 --> 00:26:02.320\nWe have as you can see,\nour safe administrator password.\n\n517\n00:26:02.320 --> 00:26:03.830\nSo we gotta provide the password.\n\n518\n00:26:03.830 --> 00:26:06.750\nSo, we'll put in our standard passwords.\n\n519\n00:26:08.340 --> 00:26:09.220\nAnd confirm it.\n\n520\n00:26:11.750 --> 00:26:12.690\nLet's do that.\n\n521\n00:26:12.690 --> 00:26:15.540\nTarget server will be configured\nas a domain controller.\n\n522\n00:26:15.540 --> 00:26:18.430\nRestarted when this operation is complete,\ndo you wanna continue.\n\n523\n00:26:18.430 --> 00:26:21.100\nNow just a quick word in case\nyou haven't done this before,\n\n524\n00:26:21.100 --> 00:26:25.490\nyou'll notice we do have Y for yes but\nnotice there's an A here, yes to all.\n\n525\n00:26:25.490 --> 00:26:29.220\nRight, there may be more than one thing\nwe're saying yes to traditionally in\n\n526\n00:26:29.220 --> 00:26:30.890\na solution like this.\n\n527\n00:26:30.890 --> 00:26:33.480\nSo if you hit Y you may get\nprompted three or four times.\n\n528\n00:26:33.480 --> 00:26:36.830\nIf you hit A you're just saying yes to all\nand it'll just essentially go through and\n\n529\n00:26:36.830 --> 00:26:37.630\ndo its thing one time.\n\n530\n00:26:37.630 --> 00:26:41.260\nSo I'm just gonna put an A in there just\nso we don't get prompted for four or\n\n531\n00:26:41.260 --> 00:26:42.870\nfive different things as we're going.\n\n532\n00:26:42.870 --> 00:26:45.310\nSo you're gonna see it's\ngonna verify the pre reqs.\n\n533\n00:26:45.310 --> 00:26:48.230\nNow essentially this is doing\nwhat we did in the other demo,\n\n534\n00:26:48.230 --> 00:26:52.460\nwhere you saw me add the child domain,\nor essentially the tree into the forest.\n\n535\n00:26:52.460 --> 00:26:53.250\nIt's gonna go through and\n\n536\n00:26:53.250 --> 00:26:56.660\nwe did that in the graphical\ninterface inside Server manager.\n\n537\n00:26:56.660 --> 00:26:59.200\nWe're doing the same\nkind of operations here.\n\n538\n00:26:59.200 --> 00:27:00.860\nBut we're doing them from PowerShell.\n\n539\n00:27:00.860 --> 00:27:03.080\nWe're standing up,\nin other words, another system.\n\n540\n00:27:03.080 --> 00:27:04.590\nBut we're just doing it\nin an alternate way.\n\n541\n00:27:04.590 --> 00:27:06.650\nSo just wanna make sure you're\nfamiliar with what we're doing.\n\n542\n00:27:06.650 --> 00:27:09.520\nAnd that way you can see\nwhat's happening here.\n\n543\n00:27:09.520 --> 00:27:11.080\nEventually this will finish up.\n\n544\n00:27:11.080 --> 00:27:11.890\nWhen it does,\n\n545\n00:27:11.890 --> 00:27:15.290\nwe will be asked to automatically\nrestart the way we did on the other one.\n\n546\n00:27:15.290 --> 00:27:17.760\nYou see it starting the install\nthe new forest there.\n\n547\n00:27:17.760 --> 00:27:20.000\nDon't worry about all this yellow and\n\n548\n00:27:20.000 --> 00:27:22.550\nblack stuff that's going on\nbehind the scenes that's fine.\n\n549\n00:27:22.550 --> 00:27:24.070\nThe warnings, remember,\nwe're not worried about that.\n\n550\n00:27:24.070 --> 00:27:29.370\nWe had the same issue in the other demo,\nthe DNS delegation for the server record.\n\n551\n00:27:29.370 --> 00:27:30.710\nFine with that,\nwe're not worried about that,\n\n552\n00:27:30.710 --> 00:27:32.900\nwe'll deal with it later if we have to.\n\n553\n00:27:32.900 --> 00:27:33.690\nSo all that's fine.\n\n554\n00:27:33.690 --> 00:27:37.100\nIn PowerShell, if you see red texts\nscreaming at you from the screen,\n\n555\n00:27:37.100 --> 00:27:38.070\nyou've got a problem.\n\n556\n00:27:38.070 --> 00:27:40.144\nAny other color,\nit's just trying to tell you something but\n\n557\n00:27:40.144 --> 00:27:42.107\nchances are good it's not gonna\nbe a major issue for you.\n\n558\n00:27:42.107 --> 00:27:44.370\nSo, just wanna make sure\nyou're aware of that.\n\n559\n00:27:44.370 --> 00:27:48.190\nBut it's walking through, right, you can\nsee it's doing the DNS installation.\n\n560\n00:27:48.190 --> 00:27:49.520\nYou could see now it's checking for\n\n561\n00:27:49.520 --> 00:27:54.530\npolicy management console incase anything\nneeds to be installed for group policy.\n\n562\n00:27:54.530 --> 00:27:58.500\nSo you could actually see\nthe steps going by here and\n\n563\n00:27:58.500 --> 00:28:01.520\nbe told exactly what's happening as\nwe're actually doing the install.\n\n564\n00:28:01.520 --> 00:28:02.100\nIt's kinda nice.\n\n565\n00:28:02.100 --> 00:28:05.960\nYou could watch this and you see how many\nobjects are being installed, what's there,\n\n566\n00:28:05.960 --> 00:28:06.700\nwhat's going on.\n\n567\n00:28:06.700 --> 00:28:10.260\nSo it's giving you a nice little\ndetail of exactly what's happening.\n\n568\n00:28:10.260 --> 00:28:12.800\nIt's setting up right now,\nthe DNS server service.\n\n569\n00:28:12.800 --> 00:28:16.750\nThe reason we get the DNS errors are that\nwe're installing DNS on the server but\n\n570\n00:28:16.750 --> 00:28:20.090\nwe're also trying to make a delegation\nto a DNS server that doesn't exist yet.\n\n571\n00:28:20.090 --> 00:28:21.790\nThat's why those warnings take place.\n\n572\n00:28:21.790 --> 00:28:24.220\nAnd, we'll obviously fix\nthat after the fact, right.\n\n573\n00:28:24.220 --> 00:28:25.376\nSo, we're setting that up right now.\n\n574\n00:28:25.376 --> 00:28:26.993\nWe're about 30, let's say,\n\n575\n00:28:26.993 --> 00:28:30.530\nI don't know maybe 30 seconds to\na minute away from just finishing up.\n\n576\n00:28:30.530 --> 00:28:33.150\nDNS is one of the last major\nthings that has to happen.\n\n577\n00:28:33.150 --> 00:28:36.540\nBefore it finishes up, so we'll let this\nrun its course, we'll get logged out,\n\n578\n00:28:36.540 --> 00:28:37.880\nwe'll have to log back in.\n\n579\n00:28:37.880 --> 00:28:42.210\nAnd when we log back in, we'll then be\nable to verify the AD installation.\n\n580\n00:28:42.210 --> 00:28:44.610\nAnd we'll essentially have\nbrand new forest set up.\n\n581\n00:28:44.610 --> 00:28:46.570\nSo we don't have to watch\nthe whole thing take place,\n\n582\n00:28:46.570 --> 00:28:48.330\nyou can see it just finished up right now.\n\n583\n00:28:48.330 --> 00:28:49.710\nWe're about to be signed out.\n\n584\n00:28:49.710 --> 00:28:51.210\nThat happens automatically.\n\n585\n00:28:51.210 --> 00:28:53.840\nOnce that happens, it comes backs up,\nwe'll log back in and we're done.\n\n586\n00:28:53.840 --> 00:28:55.890\nSo there you are, right.\n\n587\n00:28:55.890 --> 00:28:57.150\nThat's how we do it from PowerShell.\n\n588\n00:28:57.150 --> 00:28:57.750\n&gt;&gt; That's pretty cool.\n\n589\n00:28:57.750 --> 00:28:59.308\nYou've shown us this tool.\n\n590\n00:28:59.308 --> 00:29:03.950\nWe've also seen the Active Directory\nMigration Tool, if I can speak here.\n\n591\n00:29:03.950 --> 00:29:07.160\nAnd you've also given us a lot to think\nabout with our different types of trust\n\n592\n00:29:07.160 --> 00:29:07.840\nrelationships.\n\n593\n00:29:07.840 --> 00:29:09.030\nSo, thank you for that Adam.\n\n594\n00:29:09.030 --> 00:29:12.690\nAnd thank you for joining us as well.,\nBut we're gonna go ahead and sign out for\n\n595\n00:29:12.690 --> 00:29:13.350\nthis show.\n\n596\n00:29:13.350 --> 00:29:15.230\nRemember I'm your host, Cherokee Boose.\n\n597\n00:29:15.230 --> 00:29:15.990\n&gt;&gt; I'm Adam Gordon.\n\n598\n00:29:15.990 --> 00:29:17.469\n&gt;&gt; See you next time at ITPRO.TV.\n\n599\n00:29:17.469 --> 00:29:24.971\n[MUSIC]\n\n600\n00:29:24.971 --> 00:29:27.742\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "224332872"
        }
      ],
      "title": "Distributed AD DS Deployments"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam begin discussing partitions that are pertinent to Active Directory. Adam explains what is stored in each of the four main partitions such as configuration, schema, domain and application partitions. He also explains key characteristics of AD DS replication.",
          "length": "1594",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-1-ad_ds_sites_and_replication-070117-PGM.00_26_17_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-1-ad_ds_sites_and_replication-070117-PGM.00_26_17_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-1-ad_ds_sites_and_replication-070117-PGM.00_26_17_20.Still001-sm.jpg",
          "title": "AD DS Sites and Replication",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:02.926\nWelcome to ITProTV,\nI'm your host, Don Pezet.\n\n2\n00:00:02.926 --> 00:00:06.607\n&gt;&gt; [SOUND]\n\n3\n00:00:06.607 --> 00:00:08.499\n[MUSIC]\n\n4\n00:00:08.499 --> 00:00:10.771\n&gt;&gt; You're watching ITProTV.\n&gt;&gt; Welcome to your MCSA 70-412 series,\n\n5\n00:00:10.771 --> 00:00:12.800\nI'm your show host, Cherokee Boose.\n\n6\n00:00:12.800 --> 00:00:17.550\nIn this episode,\nwe're really gonna be taking\n\n7\n00:00:17.550 --> 00:00:22.820\na look on how information is\nshared throughout our environment\n\n8\n00:00:22.820 --> 00:00:26.170\nutilizing AD DS Sites and replication.\n\n9\n00:00:26.170 --> 00:00:29.020\nAnd back in the studios with us\ntoday we have Mr. Adam Gordon.\n\n10\n00:00:29.020 --> 00:00:30.360\nHow are you today Adam?\n\n11\n00:00:30.360 --> 00:00:30.860\n&gt;&gt; Doing well.\n\n12\n00:00:30.860 --> 00:00:32.580\nDoing well.\nHopefully everybody is also.\n\n13\n00:00:32.580 --> 00:00:36.220\nWe're gonna continue our conversations\nin the AD frame of reference,\n\n14\n00:00:36.220 --> 00:00:37.760\nframe of mind if you will.\n\n15\n00:00:37.760 --> 00:00:41.940\nAs Cherokee said we had finished talking\nabout some of our prior conversations.\n\n16\n00:00:41.940 --> 00:00:46.610\nThe concepts of how we set up trust,\nhow we deal with migration.\n\n17\n00:00:46.610 --> 00:00:48.900\nHow we deal with setting up the domain,\nthe tree, the forest.\n\n18\n00:00:48.900 --> 00:00:51.620\nWent through all that, if you haven't seen\nthat, I encourage you to take a look.\n\n19\n00:00:51.620 --> 00:00:55.590\nDid a couple of cool little hands on\nwalk-throughs, set up a tree in a forest,\n\n20\n00:00:55.590 --> 00:00:57.190\nset up a brand new forest.\n\n21\n00:00:57.190 --> 00:00:59.810\nShowed you how to do that with\nthe graphical interface and\n\n22\n00:00:59.810 --> 00:01:03.000\nserver manager,\nshowed you how to do that from PowerShell.\n\n23\n00:01:03.000 --> 00:01:05.690\nAlways trying to spread that\ninformation around a little bit,\n\n24\n00:01:05.690 --> 00:01:08.720\nuse different tools and\nmake sure you're comfortable with them.\n\n25\n00:01:08.720 --> 00:01:11.500\nIt's very important for you to be able\nto do those things both for the exam,\n\n26\n00:01:11.500 --> 00:01:14.010\nas we talk about, but\nequally important in the real world.\n\n27\n00:01:14.010 --> 00:01:15.820\nRight?\nYou gotta be able to use the tools\n\n28\n00:01:15.820 --> 00:01:17.350\nthat Microsoft provides.\n\n29\n00:01:17.350 --> 00:01:19.620\nYou gotta be able to use\nmore than one tool, and\n\n30\n00:01:19.620 --> 00:01:23.030\ndo things in more than one way depending\non the opportunities you're given.\n\n31\n00:01:23.030 --> 00:01:24.880\nTo be able to interact\nwith the technology.\n\n32\n00:01:24.880 --> 00:01:28.320\nServer manager may not be available to you\nfor some reason, but power shell maybe,\n\n33\n00:01:28.320 --> 00:01:30.140\nor vice versa so.\n\n34\n00:01:30.140 --> 00:01:31.470\nJust keep that in mind.\n\n35\n00:01:31.470 --> 00:01:32.940\nAlthough we don't often talk about it,\n\n36\n00:01:32.940 --> 00:01:35.710\npower shell can be used to connect\nremotely to other machines.\n\n37\n00:01:35.710 --> 00:01:37.110\nAnd execute commands remotely.\n\n38\n00:01:37.110 --> 00:01:42.120\nSo in theory we could have launched\nPowerShell, setup a remote session and\n\n39\n00:01:42.120 --> 00:01:45.240\nonce we've done that we could have\nadministered a system and installed or\n\n40\n00:01:45.240 --> 00:01:48.400\nconfigured it using PowerShell,\nor Server Manager.\n\n41\n00:01:48.400 --> 00:01:50.790\nBoth of those tools are equally\nflexible in that regard.\n\n42\n00:01:50.790 --> 00:01:53.710\nSo, I just wanna make sure you're\naware of that as we get started here.\n\n43\n00:01:53.710 --> 00:01:58.190\nCherokee mentioned we're gonna be\ntalking a bit about AD replication.\n\n44\n00:01:58.190 --> 00:02:01.480\nADDS, active directory\nrectory service replication.\n\n45\n00:02:01.480 --> 00:02:04.040\nIn trust site, enter site replication.\n\n46\n00:02:04.040 --> 00:02:05.860\nTalk about some of the differences there.\n\n47\n00:02:05.860 --> 00:02:10.640\nWe're going to talk about the concept of\nactive directory sites as bound reusing\n\n48\n00:02:10.640 --> 00:02:15.760\ncontainers for IP associations,\nusing subnets and IP addresses to\n\n49\n00:02:15.760 --> 00:02:19.860\ndemarcate information, and where it's\ngonna be stored, shared, and moved around.\n\n50\n00:02:19.860 --> 00:02:22.990\nWe have to talk about\nthe concepts of adds partitions.\n\n51\n00:02:22.990 --> 00:02:26.120\nIn order to be able to do that,\ndifferent types of partitions.\n\n52\n00:02:26.120 --> 00:02:29.620\nThe active directory data that we\nthink of as traditionally being this\n\n53\n00:02:29.620 --> 00:02:32.050\nkind of monolithic block of information.\n\n54\n00:02:32.050 --> 00:02:34.220\nWe have to talk about\nthe active directory schema.\n\n55\n00:02:34.220 --> 00:02:36.440\nFor instance,\nyou've heard me mention that before.\n\n56\n00:02:36.440 --> 00:02:41.970\nThe blueprint or the masterplan that\nallows us to define the attributes,\n\n57\n00:02:41.970 --> 00:02:43.160\nobjects, properties,\n\n58\n00:02:43.160 --> 00:02:48.050\nand values associated with that\ninformation across the entire forest.\n\n59\n00:02:48.050 --> 00:02:48.850\nWe've talked about that.\n\n60\n00:02:48.850 --> 00:02:51.500\nWe've said yeah, we have one schema for\nthe forest and yeah,\n\n61\n00:02:51.500 --> 00:02:52.710\nit's at the schema master.\n\n62\n00:02:52.710 --> 00:02:53.510\nThat's where we edit it.\n\n63\n00:02:53.510 --> 00:02:57.710\nAnd we have global catalogue servers\nthat have referenceable information\n\n64\n00:02:57.710 --> 00:03:01.590\nabout most objects, but\nmost of that information is not populated\n\n65\n00:03:01.590 --> 00:03:04.800\nas a very small list of\ninformation about each object.\n\n66\n00:03:04.800 --> 00:03:05.850\nMost of those attributes,\n\n67\n00:03:05.850 --> 00:03:09.590\nmost of that property value information\nis available through look ups.\n\n68\n00:03:09.590 --> 00:03:11.790\nSo we scatter that information around but\n\n69\n00:03:11.790 --> 00:03:16.660\nwe don't often stop, really drill in and\nthink about where all that,\n\n70\n00:03:16.660 --> 00:03:20.010\nthat information that we're talking about,\nwhere it comes from.\n\n71\n00:03:20.010 --> 00:03:20.930\nWhere it's going to.\n\n72\n00:03:20.930 --> 00:03:21.980\nHow it's stored.\n\n73\n00:03:21.980 --> 00:03:22.790\nHow we carve it up.\n\n74\n00:03:22.790 --> 00:03:23.720\nWhere we put it.\n\n75\n00:03:23.720 --> 00:03:25.655\nAnd that's kinda the conversation\nI wanna start having with you,\n\n76\n00:03:25.655 --> 00:03:26.715\nlet's see a little bit here.\n\n77\n00:03:26.715 --> 00:03:29.665\nWhat are those partitions\nthat we create to manage\n\n78\n00:03:29.665 --> 00:03:32.015\nthe information inside\nthe active directory.\n\n79\n00:03:32.015 --> 00:03:34.785\nHow do we replicate them how\ndo we move them around and\n\n80\n00:03:34.785 --> 00:03:37.435\nwhere do they come from and\nwhy are they so important to us.\n\n81\n00:03:37.435 --> 00:03:41.115\nThe configuration, partition\nthe scheme of partition among other.\n\n82\n00:03:41.115 --> 00:03:42.915\nSo, we need to talk about these,\n\n83\n00:03:42.915 --> 00:03:46.015\njust have a sense of them\nthe domain partition as well.\n\n84\n00:03:46.015 --> 00:03:50.100\nWe have multiple domain partitions one for\nevery namespace that we create, so\n\n85\n00:03:50.100 --> 00:03:52.250\nit's important to have a sense of these,\nright?\n\n86\n00:03:52.250 --> 00:03:53.283\nFavorite partition?\n\n87\n00:03:53.283 --> 00:03:55.278\n&gt;&gt; Recovery partition.\n\n88\n00:03:55.278 --> 00:03:57.273\n&gt;&gt; Recovery partition.\n\n89\n00:03:57.273 --> 00:03:59.860\n&gt;&gt; [LAUGH]\n&gt;&gt; Favorite color?\n\n90\n00:03:59.860 --> 00:04:00.910\n&gt;&gt; Apparently green.\n\n91\n00:04:00.910 --> 00:04:02.790\nThat's my personality type,\nI just learned.\n\n92\n00:04:02.790 --> 00:04:03.290\n&gt;&gt; Okay.\n&gt;&gt; Yeah.\n\n93\n00:04:03.290 --> 00:04:05.207\n&gt;&gt; And favorite food?\n\n94\n00:04:05.207 --> 00:04:06.400\n&gt;&gt; All of them.\n\n95\n00:04:06.400 --> 00:04:08.330\n[LAUGH] I was thinking\n\n96\n00:04:08.330 --> 00:04:11.190\nwe were gonna go with chocolate based on\nour conversation yesterday, but okay.\n\n97\n00:04:11.190 --> 00:04:12.540\nFair enough, not actually all of them.\n\n98\n00:04:12.540 --> 00:04:13.780\nCuz you don't like sushi,\n\n99\n00:04:13.780 --> 00:04:15.470\nonly certain kinds of-\n&gt;&gt; This is true, okay.\n\n100\n00:04:15.470 --> 00:04:17.960\nI'm gonna change my answer to ice cream,\nyeah.\n\n101\n00:04:17.960 --> 00:04:19.550\n&gt;&gt; Yeah, cuz we had that conversation.\n\n102\n00:04:19.550 --> 00:04:20.820\nAnd you didn't like sushi.\n\n103\n00:04:20.820 --> 00:04:22.620\nSo, that would not be a correct answer.\n\n104\n00:04:22.620 --> 00:04:23.490\n&gt;&gt; No.\n&gt;&gt; All right, so\n\n105\n00:04:23.490 --> 00:04:25.315\nwe now have a personality\nread on Cherokee.\n\n106\n00:04:25.315 --> 00:04:27.450\n&gt;&gt; [LAUGH]\n&gt;&gt; She's eating anything,\n\n107\n00:04:27.450 --> 00:04:30.360\nlikes everything, and\nlikes to do recovery partitions.\n\n108\n00:04:30.360 --> 00:04:32.820\nAll right so, let's talk about\ndifferent partition types.\n\n109\n00:04:32.820 --> 00:04:34.680\nSo, let's start with\nthe configuration partition.\n\n110\n00:04:34.680 --> 00:04:37.030\nThis is one of the partitions\nthat is created.\n\n111\n00:04:37.030 --> 00:04:40.640\nCreated automatically as part of\nour configuration, no pun intended,\n\n112\n00:04:40.640 --> 00:04:41.920\nof the active directory.\n\n113\n00:04:41.920 --> 00:04:45.140\nBut when we setup our first domain\ncontroller this is a partition\n\n114\n00:04:45.140 --> 00:04:46.300\nthat will be created.\n\n115\n00:04:46.300 --> 00:04:50.310\nI did mention in the prior discussion\nthat when we setup and install, and\n\n116\n00:04:50.310 --> 00:04:53.310\nfirst domain controller in our\nfirst domain, in our first three,\n\n117\n00:04:53.310 --> 00:04:57.210\nin our farest essentially brand new,\nnothing there.\n\n118\n00:04:57.210 --> 00:04:59.790\nRun the wizard, set up the very\nfirst domain controller and\n\n119\n00:04:59.790 --> 00:05:01.960\nstart to establish our hierarchy.\n\n120\n00:05:01.960 --> 00:05:06.300\nThat the rolls, which is what we've been\ntalking about in that episode at the time\n\n121\n00:05:06.300 --> 00:05:10.490\nare all piled up and established and\nall configured on that one machine.\n\n122\n00:05:10.490 --> 00:05:12.910\nWe then, obviously,\nhave to spread them out as we go.\n\n123\n00:05:12.910 --> 00:05:15.690\nBut in addition, although we\ndidn't get into the discussion,\n\n124\n00:05:15.690 --> 00:05:17.700\nour partitions are created there as well.\n\n125\n00:05:17.700 --> 00:05:20.570\nOur configuration partition,\nour schema partition.\n\n126\n00:05:20.570 --> 00:05:24.300\nAnd of course our domain partition for\nthe domain that we're initially creating,\n\n127\n00:05:24.300 --> 00:05:26.480\nall of them will be there\nas part of that as well.\n\n128\n00:05:26.480 --> 00:05:28.980\nSo, everything we create initially is\n\n129\n00:05:28.980 --> 00:05:31.640\nall going to be referenced on\nthis first domain controller.\n\n130\n00:05:31.640 --> 00:05:32.450\nWe don't often stop and\n\n131\n00:05:32.450 --> 00:05:34.730\nappreciate just how important\nthat first domain controller is.\n\n132\n00:05:34.730 --> 00:05:36.490\nIf you think about the logic of it, right.\n\n133\n00:05:36.490 --> 00:05:41.120\nI mean it holds literally everything we\nneed from a configuration, a management,\n\n134\n00:05:41.120 --> 00:05:46.190\nand an accessibility standpoint right\nthere on its hard drives and its system.\n\n135\n00:05:46.190 --> 00:05:49.360\nAnd if we don't do anything to safeguard\nthis, that we run the risk of not being\n\n136\n00:05:49.360 --> 00:05:52.380\nable to access that information\nbecause everything could disappear.\n\n137\n00:05:52.380 --> 00:05:54.810\nAs they say, just like that, right?\n\n138\n00:05:54.810 --> 00:05:56.000\nAll right, so created automatically and\n\n139\n00:05:56.000 --> 00:05:58.110\nyou create the first domain\ncontroller in the forest.\n\n140\n00:05:58.110 --> 00:06:02.095\nStood up, our configuration\npartition is there Forest wide\n\n141\n00:06:02.095 --> 00:06:06.275\nADDS structure information about\nthe domains that are created, the sites,\n\n142\n00:06:06.275 --> 00:06:10.225\nwe have our default first site name site,\ncalled the default first site name.\n\n143\n00:06:10.225 --> 00:06:13.405\nThat is the site name that we use for\nthe initial site\n\n144\n00:06:13.405 --> 00:06:17.325\nto create active directory application\nboundaries, associate IP subnets.\n\n145\n00:06:17.325 --> 00:06:20.315\nAnd put our machines into\na manageable configuration or\n\n146\n00:06:20.315 --> 00:06:24.600\nmanageable container that we can\nthen use to be able to control.\n\n147\n00:06:24.600 --> 00:06:26.905\nThe movement of information\nthrough replication.\n\n148\n00:06:26.905 --> 00:06:30.690\nAD-replication is tied to the sites and\nthe site boundaries.\n\n149\n00:06:30.690 --> 00:06:34.490\nSo, we will see the site definition\non the site map associated with\n\n150\n00:06:34.490 --> 00:06:36.180\nthe configuration container.\n\n151\n00:06:36.180 --> 00:06:39.870\nWhich domains our goal, which domain\ncontrollers, rather exist in which domain.\n\n152\n00:06:39.870 --> 00:06:42.820\nSo, what is all of our infrastructure\nlook like essentially?\n\n153\n00:06:42.820 --> 00:06:45.170\nIs what the configuration\npartition deals with.\n\n154\n00:06:45.170 --> 00:06:48.900\nForest wide services that are gonna\nbe available are also listed here.\n\n155\n00:06:48.900 --> 00:06:51.200\nThink DHCP, think DNS.\n\n156\n00:06:51.200 --> 00:06:54.300\nThings we would resolve traditionally\nthrough service record look ups and\n\n157\n00:06:54.300 --> 00:06:58.270\nglobal catalog referencability will be\nlisted in the configuration partitions.\n\n158\n00:06:59.330 --> 00:07:03.240\nAuthorization for the DHTP server,\nthe status of it in other words,\n\n159\n00:07:03.240 --> 00:07:05.500\nthat status is listed\nin the configuration.\n\n160\n00:07:05.500 --> 00:07:09.040\nPartition certificate templates for\ncertificate services\n\n161\n00:07:09.040 --> 00:07:11.890\nwill be listed there because they\nshare broadly through out the forest.\n\n162\n00:07:11.890 --> 00:07:14.830\nSo, there's lot of stuff that kind of goes\non behind the scenes when you think about\n\n163\n00:07:14.830 --> 00:07:18.720\nit, all of that is there, we do replicate\nitself all the domain controllers in\n\n164\n00:07:18.720 --> 00:07:22.220\nthe forest, so this partition is\navailable to every domain controller\n\n165\n00:07:22.220 --> 00:07:26.350\nbecause it has to be referenced and\nused, in order to understand\n\n166\n00:07:26.350 --> 00:07:29.910\nall the underlying infrastructure and the\nconnectivity that's associated with it.\n\n167\n00:07:29.910 --> 00:07:31.570\nSo, we will see that there.\n\n168\n00:07:31.570 --> 00:07:36.060\nDo keep in mind that we don't see a lot\nof change in this particular partition,\n\n169\n00:07:36.060 --> 00:07:40.330\nmeaning once we establish and kind of\nstabilize the forest, initially obviously\n\n170\n00:07:40.330 --> 00:07:43.090\nis where adding domain controllers\nas we're building up the forest,\n\n171\n00:07:43.090 --> 00:07:46.420\nthere clearly is a lot of change\ngoing on as we're adding objects.\n\n172\n00:07:46.420 --> 00:07:49.822\nBut once we get to that point where\nour forest is relatively stable, and\n\n173\n00:07:49.822 --> 00:07:52.993\nwe don't seem to have a need to add\na lot of domains, a lot of trees,\n\n174\n00:07:52.993 --> 00:07:56.591\nperhaps not a lot of domain controllers\nto kind of reach saturation level.\n\n175\n00:07:56.591 --> 00:08:01.042\nAs partition stabilizes there isn't a lot\nof change, and as a result replication is\n\n176\n00:08:01.042 --> 00:08:04.682\nrelatively infrequent of this\npartition after the initial setup and\n\n177\n00:08:04.682 --> 00:08:08.910\nthe copying of this partition out to\nall participatory domain controllers.\n\n178\n00:08:08.910 --> 00:08:11.740\nSo once we reach that\nstandardization level,\n\n179\n00:08:11.740 --> 00:08:14.790\nkind of that statutory level\nwhere things have stabilized,\n\n180\n00:08:14.790 --> 00:08:17.500\nwe don't tend to see very many\nchanges in this particular partition.\n\n181\n00:08:17.500 --> 00:08:20.680\nThe schema partition,\nthe definitional criteria for\n\n182\n00:08:20.680 --> 00:08:23.310\nall objects in the Active Directory\nis stored here.\n\n183\n00:08:23.310 --> 00:08:28.870\nThe schema is that master plan,\nthat blueprint that drives all access and\n\n184\n00:08:28.870 --> 00:08:32.680\nall creation of objects to anything or\nfor anything we need.\n\n185\n00:08:32.680 --> 00:08:36.870\nWithout a definition of an object in\nthe schema, it just doesn't exist.\n\n186\n00:08:36.870 --> 00:08:42.440\nWe often talk about that fact that in the\nWindows version of the Active Directory,\n\n187\n00:08:42.440 --> 00:08:46.400\nmeaning specifically in the Windows\nMicrosoft Windows-based AD DSL dappled\n\n188\n00:08:46.400 --> 00:08:51.430\nimplementation, when we define an object,\nwe have to reference it in the schema.\n\n189\n00:08:51.430 --> 00:08:55.202\nWe create a definition for it in\nthe schema and we can go in through either\n\n190\n00:08:55.202 --> 00:08:59.710\nAD SI-edit, which is a schema\nediting tool, we can use that.\n\n191\n00:08:59.710 --> 00:09:02.750\nWe can use the MMC snap-in for\nschema editing.\n\n192\n00:09:02.750 --> 00:09:08.168\nSo there's essentially a hidden MMC\nsnap-in that we can reference and use.\n\n193\n00:09:08.168 --> 00:09:11.051\nWe have to turn on the availability\nof it and then reference that and\n\n194\n00:09:11.051 --> 00:09:12.370\nuse that as well.\n\n195\n00:09:12.370 --> 00:09:17.580\nWe can also go in through PowerShell,\nand/or through a command line editor\n\n196\n00:09:17.580 --> 00:09:21.590\nlike, well, AD SI edit would be a good\ncommand line editor, for instance.\n\n197\n00:09:21.590 --> 00:09:22.650\nWe could do it that way.\n\n198\n00:09:22.650 --> 00:09:26.080\nBut we can use different tools\nto make changes to the schema.\n\n199\n00:09:26.080 --> 00:09:27.420\nThere's a couple of things\nwe have to be aware of.\n\n200\n00:09:27.420 --> 00:09:30.300\nNumber one,\nthat we need the appropriate rights.\n\n201\n00:09:30.300 --> 00:09:33.720\nSo we need to be an Enterprise\nadmin with schema admin\n\n202\n00:09:33.720 --> 00:09:36.050\nrights to be able to modify the schema.\n\n203\n00:09:36.050 --> 00:09:39.110\nSo a domain administrator does not\nhave rights to modify the schema.\n\n204\n00:09:39.110 --> 00:09:43.220\nBut a member of the Enterprise admin\ngroup, the farest level admin would.\n\n205\n00:09:43.220 --> 00:09:46.410\nWe have to have access to the schema\nmaster, one of the five FSMO roles,\n\n206\n00:09:46.410 --> 00:09:50.200\nto make changes, because that's\nthe referenceable domain controller\n\n207\n00:09:50.200 --> 00:09:51.800\nrole that lets us modified the schema.\n\n208\n00:09:51.800 --> 00:09:55.080\nSo the schema master must be online,\nin other words, and available for\n\n209\n00:09:55.080 --> 00:09:57.050\nus to reference against to do that.\n\n210\n00:09:57.050 --> 00:10:01.370\nAnd then in addition,\nwe have to understand that the schema is\n\n211\n00:10:01.370 --> 00:10:06.590\na one-way portal or a one-way\nstorage facility for information.\n\n212\n00:10:06.590 --> 00:10:08.270\nWe could put stuff in,\nwe don't take stuff out.\n\n213\n00:10:08.270 --> 00:10:13.250\nAnd so when we edit the schema and modify\nit, make changes to it by adding an object\n\n214\n00:10:13.250 --> 00:10:17.070\ndefinition or doing what's called\nextending the schema, once we do that,\n\n215\n00:10:17.070 --> 00:10:21.540\nthose referenceable object definitions\nare stored in the schema for the lifetime,\n\n216\n00:10:21.540 --> 00:10:24.200\nthe duration of that\nsystem architecture and\n\n217\n00:10:24.200 --> 00:10:28.865\nthat system usability window, whatever\nit is, a day, a week, a month, a year.\n\n218\n00:10:28.865 --> 00:10:33.148\nHowever long you keep the Active Directory\naround, those object definitions stay.\n\n219\n00:10:33.148 --> 00:10:36.720\nWe may essentially turn them off and\ndisable them and\n\n220\n00:10:36.720 --> 00:10:39.510\nhide them from the interface so\nthat you're not able to see them, but\n\n221\n00:10:39.510 --> 00:10:42.860\nwe can never truly remove them\nfrom the Active Directory schema.\n\n222\n00:10:42.860 --> 00:10:43.930\nSo once something goes in,\n\n223\n00:10:43.930 --> 00:10:48.020\nit never actually is removed, unless we\nreset the schema and start over again.\n\n224\n00:10:48.020 --> 00:10:52.020\nSo some things to be aware of, because as\na result of that, the schema partition\n\n225\n00:10:52.020 --> 00:10:56.630\ncan get very big as we create and\nadd changes to it, add objects to it.\n\n226\n00:10:56.630 --> 00:10:59.210\nEverything created, at any point in time,\nforever and ever and\n\n227\n00:10:59.210 --> 00:11:03.510\never inside that Window´s direcotry\nis referenced in the schema.\n\n228\n00:11:03.510 --> 00:11:05.100\nEven objects that you create and\n\n229\n00:11:05.100 --> 00:11:08.820\ndelete are referenced in the schema\nbecause we have to keep track of them so\n\n230\n00:11:08.820 --> 00:11:12.000\nwe don´t recreate them and\nuse the same unique identifiers again.\n\n231\n00:11:12.000 --> 00:11:14.830\nSo that schema can get very big over time,\n\n232\n00:11:14.830 --> 00:11:17.380\nbut once we stabilize\nthe Active Directory, again,\n\n233\n00:11:17.380 --> 00:11:21.470\nthe forest is create, directories\nare created, domains are created.\n\n234\n00:11:21.470 --> 00:11:23.710\nThere's a lot of stuff that\ngoes on initially, but\n\n235\n00:11:23.710 --> 00:11:28.090\nwe don't tend to see a lot of updating to\nthe schema very often, and as a result,\n\n236\n00:11:28.090 --> 00:11:30.860\nit's, again,\nrelatively infrequent that we see changes.\n\n237\n00:11:30.860 --> 00:11:34.200\nAnd so while we do replicate,\nwe don't have to worry about that.\n\n238\n00:11:34.200 --> 00:11:38.190\nExtending the schema is probably one of\nthe key activities when we add support for\n\n239\n00:11:38.190 --> 00:11:42.910\nsomething like Exchange or SharePoint or\ncreate containers for System Center or\n\n240\n00:11:42.910 --> 00:11:46.540\nthings of that nature, that would\nrequire major changes to the schema.\n\n241\n00:11:46.540 --> 00:11:49.700\nWe will replicate on those events,\nbut normally,\n\n242\n00:11:49.700 --> 00:11:54.000\nnot a lot of activity that is\ncausing replication requirements for\n\n243\n00:11:54.000 --> 00:11:56.910\nthe schema, because it just\ndoesn't change all that often.\n\n244\n00:11:56.910 --> 00:11:59.870\n&gt;&gt; Yeah, so\nbecause the replication is contingent,\n\n245\n00:11:59.870 --> 00:12:03.290\nthe volume of replication is\ncontingent upon those changes,\n\n246\n00:12:03.290 --> 00:12:08.220\nI could only imagine that it wouldn't\nbe completely obvious if the server\n\n247\n00:12:08.220 --> 00:12:13.120\nhosting that schema role wasn't up and\nrunning unless we\n\n248\n00:12:13.120 --> 00:12:16.150\nwere performing some kind of major\nchange and then we're able to notice it.\n\n249\n00:12:17.970 --> 00:12:18.970\n&gt;&gt; Well, it would depend.\n\n250\n00:12:18.970 --> 00:12:23.010\nI mean you wouldn't necessarily\nbe told that the Schema Master\n\n251\n00:12:23.010 --> 00:12:27.990\nrole is offline just because the Schema\nMaster itself is not being used,\n\n252\n00:12:27.990 --> 00:12:29.900\njust that role specifically.\n\n253\n00:12:29.900 --> 00:12:32.300\nMay not be used to Cherokee's\npoint on a regular basis,\n\n254\n00:12:32.300 --> 00:12:36.650\nbut you would have indications to the fact\nthat the schema master was offline\n\n255\n00:12:36.650 --> 00:12:39.660\neven though you weren't trying to\nupdate the schema necessarily.\n\n256\n00:12:39.660 --> 00:12:42.880\nNumber one, it's a domain controller,\nall these FSMO roles are.\n\n257\n00:12:42.880 --> 00:12:45.310\nThey're all living on one or\nmore domain controllers.\n\n258\n00:12:45.310 --> 00:12:47.840\nThe role doesn't go offline typically,\n\n259\n00:12:47.840 --> 00:12:49.820\nunless the domain controller\nitself is unavailable.\n\n260\n00:12:49.820 --> 00:12:53.710\nIn other words, it's usually not, hey\nlook, that server stopped working and hey\n\n261\n00:12:53.710 --> 00:12:57.330\nas a result, that domain controller may\nbe running, but the service may not be.\n\n262\n00:12:57.330 --> 00:13:00.850\nThe domain controller itself,\nif it's up and running, traditionally,\n\n263\n00:13:00.850 --> 00:13:02.290\nit's providing these services.\n\n264\n00:13:02.290 --> 00:13:04.558\n&gt;&gt; Okay.\n&gt;&gt; There could be issues certainly\n\n265\n00:13:04.558 --> 00:13:09.747\nassociated with a service lock that may\ncause corruption or lack of availability.\n\n266\n00:13:09.747 --> 00:13:13.467\nThings like calm or de-calm, or\nRDP, or things like that, or SMB,\n\n267\n00:13:13.467 --> 00:13:17.705\nsupport if something like that goes wrong,\nand we have a lack of communication\n\n268\n00:13:17.705 --> 00:13:21.427\navailability in and out of the server\nbecause of protocol failures,\n\n269\n00:13:21.427 --> 00:13:25.919\nport failures, IP conflicts, right, there\nare things that could go on that would\n\n270\n00:13:25.919 --> 00:13:30.218\ncause it essentially to present itself as\nnot working when in fact, it may not be\n\n271\n00:13:30.218 --> 00:13:34.830\nthe fault of the server, but there may be\nsomething external that's causing that.\n\n272\n00:13:34.830 --> 00:13:36.990\nThere could be reasons why it\nwould go offline, you may or\n\n273\n00:13:36.990 --> 00:13:38.190\nmay not be aware of them.\n\n274\n00:13:38.190 --> 00:13:39.590\nThat's always a possibility.\n\n275\n00:13:39.590 --> 00:13:42.600\nIt just depends on how often you pay\nattention to your infrastructure.\n\n276\n00:13:42.600 --> 00:13:47.510\nAt the end of the day, this is one\nkey reasons why we always recommend\n\n277\n00:13:47.510 --> 00:13:51.890\nthings like continuous monitoring be in\nplace, automation if at all possible, to\n\n278\n00:13:51.890 --> 00:13:56.760\nmonitor key infrastructure communication\npoints like domain controllers to ensure\n\n279\n00:13:56.760 --> 00:14:00.180\nthey're healthy, and if they're not,\nto be notified as quickly as possible.\n\n280\n00:14:00.180 --> 00:14:01.910\nSo it would be good for\nus to be doing that.\n\n281\n00:14:01.910 --> 00:14:05.190\nBut you're right, I mean in theory,\nit could be likely that the role may go\n\n282\n00:14:05.190 --> 00:14:07.850\noffline and\nwe may not notice that right away if\n\n283\n00:14:07.850 --> 00:14:11.060\nwe don't have a reason to be in there\nnecessarily working with it we may not.\n\n284\n00:14:11.060 --> 00:14:16.330\nIf we go to add a domain,\ndomain controller, a tree,\n\n285\n00:14:16.330 --> 00:14:20.110\nmodify the forest in some way, that scheme\nmaster role is going to come into play and\n\n286\n00:14:20.110 --> 00:14:22.440\nif we're doing that, although again,\nwe often don't do that.\n\n287\n00:14:22.440 --> 00:14:27.300\nIt's usually an infrequent activity after\ninitial set up, we may not realize it for\n\n288\n00:14:27.300 --> 00:14:31.810\nsome time, so I think that's certainly\na good observation on the potentiality.\n\n289\n00:14:31.810 --> 00:14:35.585\nBut as I said, there may be other\ncircumstances that will lead us to realize\n\n290\n00:14:35.585 --> 00:14:37.922\nthe domain controller is not\nfunctioning correctly and\n\n291\n00:14:37.922 --> 00:14:42.015\nchance is that we could fix that and\nby fixing that, essentially by extension,\n\n292\n00:14:42.015 --> 00:14:45.600\nwe'd be fixing the lack of the schema\nmaster availability right more of the map.\n\n293\n00:14:45.600 --> 00:14:48.410\nThe biggest thing we worry\nabout there quite honestly,\n\n294\n00:14:48.410 --> 00:14:50.290\nis failure of the domain controller.\n\n295\n00:14:50.290 --> 00:14:52.298\nPhysically, the system itself failing or\n\n296\n00:14:52.298 --> 00:14:55.340\nit's a virtual machine that gets corrupted\nor whatever, and just the domain\n\n297\n00:14:55.340 --> 00:14:59.290\ncontroller itself going offline,\nbecause then the role is unavailable.\n\n298\n00:14:59.290 --> 00:15:01.820\nThen as I mentioned I\nthink in the last episode,\n\n299\n00:15:01.820 --> 00:15:06.090\nas we were talking about in\nthe last discussions we had around\n\n300\n00:15:06.090 --> 00:15:11.060\nthe Active Directory trusts and just the\ndirectory services overall, that we may\n\n301\n00:15:11.060 --> 00:15:16.200\nhave to use Ntdsutil to seize the FSMO\nrole, reposition it onto a new system.\n\n302\n00:15:16.200 --> 00:15:20.830\nSo there may be some recoverability\nthings that we have to engage,\n\n303\n00:15:20.830 --> 00:15:23.860\nrecoverability activities we may have\nto engage in if we see a failure.\n\n304\n00:15:23.860 --> 00:15:27.220\nSo we would get notification, typically,\nand have a sense of that, that would not\n\n305\n00:15:27.220 --> 00:15:31.570\nnecessarily be something that we would\nbe as concerned about just not knowing.\n\n306\n00:15:31.570 --> 00:15:35.110\nWe can actually survive and thrive with\nmany of these FSMO roles being offline for\n\n307\n00:15:35.110 --> 00:15:36.198\na period of time.\n\n308\n00:15:36.198 --> 00:15:39.355\nBut over time, we tend to run into\nissues when they go missing for\n\n309\n00:15:39.355 --> 00:15:41.600\ntoo long more often than not, right?\n\n310\n00:15:41.600 --> 00:15:44.251\nAll right and remember though I don't\nthink I said it here specifically,\n\n311\n00:15:44.251 --> 00:15:45.990\nI did talk about it in a prior discussion.\n\n312\n00:15:45.990 --> 00:15:48.310\nFSMO roles exist at both the forest level,\nso\n\n313\n00:15:48.310 --> 00:15:50.940\nthere are certain roles that\nare forest level FSMO roles.\n\n314\n00:15:50.940 --> 00:15:53.780\nSchema master that we're talking about\ncertainly falls into that category and\n\n315\n00:15:53.780 --> 00:15:57.460\nthere are some that are domain level,\nthat you will see repeated per domain.\n\n316\n00:15:57.460 --> 00:16:00.117\nSo PDC emulators are a domain\nlevel FSMO role.\n\n317\n00:16:00.117 --> 00:16:04.556\nWe would have one per domain whereas at\nthe schema master level, we have one for\n\n318\n00:16:04.556 --> 00:16:05.711\nthe entire forest.\n\n319\n00:16:05.711 --> 00:16:07.862\nSo I just wanna make sure\nthat we're aware of that,\n\n320\n00:16:07.862 --> 00:16:10.566\nbecause we could lose a PVC emulator and\nperhaps not realize it,\n\n321\n00:16:10.566 --> 00:16:13.739\nif we're not doing a lot of work in\nthat domain for a period of time, right?\n\n322\n00:16:13.739 --> 00:16:15.260\nSo that could be something to consider.\n\n323\n00:16:15.260 --> 00:16:18.800\nSpeaking of domains and partitions,\nwhat about a domain partition?\n\n324\n00:16:18.800 --> 00:16:20.373\n&gt;&gt; Look at that.\n&gt;&gt; Join these two together,\n\n325\n00:16:20.373 --> 00:16:22.745\nlike peanut butter and jelly,\nonly you don't eat it.\n\n326\n00:16:22.745 --> 00:16:23.526\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n327\n00:16:23.526 --> 00:16:26.361\ndomain partitions are created whenever\nwe create a brand new domain.\n\n328\n00:16:26.361 --> 00:16:28.725\nNot a domain controller, but a domain.\n\n329\n00:16:28.725 --> 00:16:31.983\nSo as we create a brand new name,\nSpace populated initially,\n\n330\n00:16:31.983 --> 00:16:33.434\nwe get a domain partition.\n\n331\n00:16:33.434 --> 00:16:37.209\nWe automatically create and replicate the\ninstance of the domain partition out to\n\n332\n00:16:37.209 --> 00:16:39.188\nall of the domains, domain controllers.\n\n333\n00:16:39.188 --> 00:16:43.660\nSo once we establish the domain, all new\ndomain controllers joining that domain\n\n334\n00:16:43.660 --> 00:16:47.884\nwill be getting a copy of the domain\npartition as part as being on-boarded.\n\n335\n00:16:47.884 --> 00:16:51.917\nAnd every time there's a change we then\nreplicate across all of those partitions.\n\n336\n00:16:51.917 --> 00:16:55.825\nContained domain specific information\ninstance information about objects, and\n\n337\n00:16:55.825 --> 00:16:58.177\nuniqueness of those objects,\nthings like that.\n\n338\n00:16:58.177 --> 00:17:01.241\nDomain related system settings,\nthings of that nature.\n\n339\n00:17:01.241 --> 00:17:05.953\nThis is gonna be probably by and\nlarge and far and away, the largest AD-DS\n\n340\n00:17:05.953 --> 00:17:10.670\npartition of the domain partitions,\nas a group will be the largest ones.\n\n341\n00:17:10.670 --> 00:17:13.842\nCuz we see the most change of\neverything about the logic of it,\n\n342\n00:17:13.842 --> 00:17:16.526\nall the objects being added,\nremoved, modified,\n\n343\n00:17:16.526 --> 00:17:19.222\nare referenced by domain\nin each domain partition.\n\n344\n00:17:19.222 --> 00:17:22.457\nCreate a brand new user, that reference\ngoes into the domain partition.\n\n345\n00:17:22.457 --> 00:17:26.106\nThe schema master is referenced to\nunderstand what a user means and\n\n346\n00:17:26.106 --> 00:17:28.268\nthe definition of a user as a template.\n\n347\n00:17:28.268 --> 00:17:32.219\nBut the actual specific information\nabout that unique instance of the user,\n\n348\n00:17:32.219 --> 00:17:34.052\nis stored on the domain partition.\n\n349\n00:17:34.052 --> 00:17:37.166\nAlthough the schema master may have\nsome information about that or\n\n350\n00:17:37.166 --> 00:17:39.285\nat least be aware of that for\ncertain things.\n\n351\n00:17:39.285 --> 00:17:43.132\nGlobal catalogue information is populated\npartially from the domain partitions,\n\n352\n00:17:43.132 --> 00:17:44.005\nthings like that.\n\n353\n00:17:44.005 --> 00:17:46.077\nSo let's make sure that\nwe're aware of that.\n\n354\n00:17:46.077 --> 00:17:48.315\nPretty constant on our change level here,\n\n355\n00:17:48.315 --> 00:17:50.809\nreplication is happening\npretty frequently.\n\n356\n00:17:50.809 --> 00:17:53.441\nSo we do wanna make sure\nwe're aware of that.\n\n357\n00:17:53.441 --> 00:17:56.590\nAll objects that are referenced\nwill be updated in or\n\n358\n00:17:56.590 --> 00:17:58.889\nreplicated based on changes to them.\n\n359\n00:17:58.889 --> 00:18:01.098\nWe may do delta changes,\nor in other words,\n\n360\n00:18:01.098 --> 00:18:04.936\ndeal with attribute value changes as\npart of the replication cycle as well.\n\n361\n00:18:04.936 --> 00:18:06.689\nI just wanna make sure\nwe're aware of that.\n\n362\n00:18:06.689 --> 00:18:08.942\nWe have application partitions as well.\n\n363\n00:18:08.942 --> 00:18:10.972\nCherokee mentioned the recovery partition.\n\n364\n00:18:10.972 --> 00:18:13.570\nWe have that, but it's not really\nthe one that would make our list,\n\n365\n00:18:13.570 --> 00:18:15.042\nwe wouldn't really talk about that.\n\n366\n00:18:15.042 --> 00:18:18.643\nOf the four biggies we talk about, that's\nkind of not on the list because it's\n\n367\n00:18:18.643 --> 00:18:22.263\na very special and unique instance,\nwe don't tend to deal with it very often.\n\n368\n00:18:22.263 --> 00:18:25.811\nWe have to usually manipulate the AD\nsolution with tools in order to be able\n\n369\n00:18:25.811 --> 00:18:28.117\nto recover, so\nit's kind of a separate thing.\n\n370\n00:18:28.117 --> 00:18:31.210\nThe four we really talk about would be\nthe ones that we're going through here.\n\n371\n00:18:31.210 --> 00:18:33.797\nThe application partition being\nthe last one on our list.\n\n372\n00:18:33.797 --> 00:18:36.962\nThis stores non domain\napplication related information.\n\n373\n00:18:36.962 --> 00:18:39.480\nThat may have, you update frequent,\n\n374\n00:18:39.480 --> 00:18:42.397\nfrequency to be updated\non a regular basis.\n\n375\n00:18:42.397 --> 00:18:43.861\nThat's probably not\nthe right way to say that.\n\n376\n00:18:43.861 --> 00:18:48.405\nWe'll often update is what I'm trying to\nsay, because they have a specified update\n\n377\n00:18:48.405 --> 00:18:51.867\ncycle, or a lifetime for\nthe application to be available to us.\n\n378\n00:18:51.867 --> 00:18:55.201\nThings like what we're storing,\ncategorizing, and\n\n379\n00:18:55.201 --> 00:18:59.988\nusing for applications and specific\ninformation typically winds up in here.\n\n380\n00:18:59.988 --> 00:19:03.470\nSo I wanna think about the fact that\napplication partitions would be important\n\n381\n00:19:03.470 --> 00:19:04.110\nto us as well.\n\n382\n00:19:04.110 --> 00:19:07.784\nI talked about ADSI Editor,\nthe ADSI edit tool.\n\n383\n00:19:07.784 --> 00:19:10.502\nWe can connect and\nview the partitions from there and\n\n384\n00:19:10.502 --> 00:19:12.861\ncertainly interact with them if necessary.\n\n385\n00:19:12.861 --> 00:19:16.937\nAnd we do have some thought processes\naround replication when we think about\n\n386\n00:19:16.937 --> 00:19:20.132\nActive Directory,\nDirectory Services and Replicating.\n\n387\n00:19:20.132 --> 00:19:23.615\nWe think about, as I mentioned\ndifferent kinds of replications.\n\n388\n00:19:23.615 --> 00:19:27.490\nIntrasite, intersite, are two common\nreplication thought processes\n\n389\n00:19:27.490 --> 00:19:30.295\naround the site architecture\nof Active Directory.\n\n390\n00:19:30.295 --> 00:19:31.792\nBut before we get to that level,\n\n391\n00:19:31.792 --> 00:19:35.182\nwe have to think about the kinds of\nreplication activities that occurs.\n\n392\n00:19:35.182 --> 00:19:39.332\nMulti-master replication,\npull replication, store and forward,\n\n393\n00:19:39.332 --> 00:19:42.800\ndata store partitioning,\nattribute level replication.\n\n394\n00:19:42.800 --> 00:19:45.985\nThere's a list of this and I just wanna,\nif you give me just one second to bring\n\n395\n00:19:45.985 --> 00:19:47.956\nthem up,\nI just wanna go through them with you.\n\n396\n00:19:47.956 --> 00:19:51.262\nIt's just easier usually to have a list of\nthem here, so we can take a look at them.\n\n397\n00:19:51.262 --> 00:19:52.750\nSo if you wanna join me here,\n\n398\n00:19:52.750 --> 00:19:56.843\nwe can just quickly take a look at\nthe characteristics of AD-DS replication.\n\n399\n00:19:56.843 --> 00:20:00.410\nWe talked about AD-DS replication\nbeing driven in a multi-master model\n\n400\n00:20:00.410 --> 00:20:01.279\ntraditionally.\n\n401\n00:20:01.279 --> 00:20:06.349\nAny domain controller in any domain\ncan replicate and initiate a commit\n\n402\n00:20:06.349 --> 00:20:12.622\nof changes to the domain partition, except\nfor RODC's read only domain controllers.\n\n403\n00:20:12.622 --> 00:20:16.092\nWe'll talk about read only domain\ncontrollers here in a couple of minutes.\n\n404\n00:20:16.092 --> 00:20:17.773\nI ended up it up the coming conversation,\n\n405\n00:20:17.773 --> 00:20:20.473\nI actually do a demonstration of\nhow to stand one up and install it.\n\n406\n00:20:20.473 --> 00:20:23.236\nSo you understand how to make\na read only domain controller.\n\n407\n00:20:23.236 --> 00:20:26.990\nBut essentially a read only domain\ncontroller is going to be just\n\n408\n00:20:26.990 --> 00:20:28.389\nwhat the name implies.\n\n409\n00:20:28.389 --> 00:20:33.804\nIt's not a copy of the domain partition on\na domain controller that is accessible and\n\n410\n00:20:33.804 --> 00:20:36.788\neditable on that domain\ncontroller locally.\n\n411\n00:20:36.788 --> 00:20:41.171\nBut rather a read only copy that is there\nfor us to authenticate and against them to\n\n412\n00:20:41.171 --> 00:20:45.046\nuse but one that will not allow changes\nto be initiated or made locally.\n\n413\n00:20:45.046 --> 00:20:49.475\nBut rather only we will pull down\nthe information from a read-only\n\n414\n00:20:49.475 --> 00:20:50.900\ndomain controller,\n\n415\n00:20:50.900 --> 00:20:56.280\npulls down the information from a source\nthat is gonna be readable-writable and\n\n416\n00:20:56.280 --> 00:21:00.649\nallows us to store that information\nin various configurations.\n\n417\n00:21:00.649 --> 00:21:04.112\nTypically remote offices where\nwe don't have a lot of support,\n\n418\n00:21:04.112 --> 00:21:07.961\nperhaps a branch office or\nremote location where worrying potentially\n\n419\n00:21:07.961 --> 00:21:11.937\nabout the exposure of the Active Directory\ninformation in a way that could\n\n420\n00:21:11.937 --> 00:21:15.423\nbe modified and, therefore we\ncan't fully secure the system.\n\n421\n00:21:15.423 --> 00:21:20.168\nSo we're worried about those capabilities\nread only domain controllers make good use\n\n422\n00:21:20.168 --> 00:21:20.753\nof that for\n\n423\n00:21:20.753 --> 00:21:24.653\nus because they prevent anybody from\ngetting into the domain locally in\n\n424\n00:21:24.653 --> 00:21:28.699\nthat office and attempting to push\nchanges back up into the central core.\n\n425\n00:21:28.699 --> 00:21:32.231\nAnd if somebody were to walk out the door\nliterally with the read only domain\n\n426\n00:21:32.231 --> 00:21:36.180\ncontroller, they´re getting a database\nthat´s encrypted and not modifiable.\n\n427\n00:21:36.180 --> 00:21:37.040\nAnd there´s no way for\n\n428\n00:21:37.040 --> 00:21:39.764\nthem to get access to the attributes\nof the reference-able material.\n\n429\n00:21:39.764 --> 00:21:42.641\nAnd as a result, we consider it to be\na relatively secure implementation.\n\n430\n00:21:42.641 --> 00:21:45.276\nSo we use those on a regular basis.\n\n431\n00:21:45.276 --> 00:21:47.208\nPull replication, we just talked about,\n\n432\n00:21:47.208 --> 00:21:49.686\nwhere we pull changes from\nother domain controllers.\n\n433\n00:21:49.686 --> 00:21:51.459\nStore-and-forward replication,\n\n434\n00:21:51.459 --> 00:21:54.447\nthis is where we can pull changes\nfrom one replication partner,\n\n435\n00:21:54.447 --> 00:21:57.838\nmake them available to another\nreplication partner inside the domain.\n\n436\n00:21:57.838 --> 00:22:02.273\nWe're balancing or load balancing across\nseveral domain controllers by doing this.\n\n437\n00:22:02.273 --> 00:22:06.453\nAlmost like branch cache in the sense that\nwe're gonna pull down the replication\n\n438\n00:22:06.453 --> 00:22:08.432\ninitially to one domain controller.\n\n439\n00:22:08.432 --> 00:22:13.150\nBut then we can use that domain controller\nthere perhaps in a high bandwidth,\n\n440\n00:22:13.150 --> 00:22:16.790\nlow bandwidth, high latency,\nlow latency combination.\n\n441\n00:22:16.790 --> 00:22:19.540\nSome of the domain controllers\nmay be better connected,\n\n442\n00:22:19.540 --> 00:22:21.554\nhave better response times than others.\n\n443\n00:22:21.554 --> 00:22:25.232\nAnd as a result we could then use those to\nreplicate out locally across the LAN to\n\n444\n00:22:25.232 --> 00:22:28.579\nother domain controllers without\nstressing the LAN connections to get\n\n445\n00:22:28.579 --> 00:22:29.545\nthat information.\n\n446\n00:22:29.545 --> 00:22:32.342\nThat's what store-and-forward\nhas traditionally done.\n\n447\n00:22:32.342 --> 00:22:35.271\nAround it's really just load balancing\nif you think of it that way.\n\n448\n00:22:35.271 --> 00:22:40.279\nData store partitioning a domain's domain\ncontroller hosts our naming context for\n\n449\n00:22:40.279 --> 00:22:41.061\nthe domain.\n\n450\n00:22:41.061 --> 00:22:46.391\nThis allows us to be able to make sure\nthe we have the appropriate information.\n\n451\n00:22:46.391 --> 00:22:50.313\nYou could see schema information,\nthese kind of things are replicated out.\n\n452\n00:22:50.313 --> 00:22:53.245\nAnd as we talked about,\nmaybe replicated among one or more domain\n\n453\n00:22:53.245 --> 00:22:56.830\ncontrollers across the forest, depending\non the nature of what we're doing.\n\n454\n00:22:56.830 --> 00:23:00.253\nAnd so just setting up all those different\npartitions and then leveraging them,\n\n455\n00:23:00.253 --> 00:23:01.829\nas we were talking about as helpful.\n\n456\n00:23:01.829 --> 00:23:05.737\nAn attribute-level replication,\nwhen attributes change as I mentioned.\n\n457\n00:23:05.737 --> 00:23:08.768\nWe're only gonna do essentially\na delta replication.\n\n458\n00:23:08.768 --> 00:23:09.362\nA change,\n\n459\n00:23:09.362 --> 00:23:13.790\na block is replicated out to update the\nattribute instead of the entire object.\n\n460\n00:23:13.790 --> 00:23:17.841\nSo if a user called Adam\nhas that user's attribute,\n\n461\n00:23:17.841 --> 00:23:22.085\nlet's say for\nphone number updated in their profile.\n\n462\n00:23:22.085 --> 00:23:26.075\nWe don't wanna replicate the 300 other\nattributes associated with that object\n\n463\n00:23:26.075 --> 00:23:27.791\nagain if none of them have changed.\n\n464\n00:23:27.791 --> 00:23:28.860\n&gt;&gt; Sure.\n&gt;&gt; We only wanna replicate the one.\n\n465\n00:23:28.860 --> 00:23:29.726\n&gt;&gt; Keep it lightweight.\n\n466\n00:23:29.726 --> 00:23:31.726\nSafe.\n&gt;&gt; Yeah, just so it's real simple, slim,\n\n467\n00:23:31.726 --> 00:23:35.461\nvery easy, good bandwidth management,\ngood consumption, in that respect,\n\n468\n00:23:35.461 --> 00:23:36.482\nit's very minimal.\n\n469\n00:23:36.482 --> 00:23:39.375\nSo we're gonna be doing what we\ncall Attribute Level Replication,\n\n470\n00:23:39.375 --> 00:23:42.168\nwhich is really nothing more than\njust change block management or\n\n471\n00:23:42.168 --> 00:23:44.569\ndelta replication here,\nreferred to different ways.\n\n472\n00:23:44.569 --> 00:23:48.747\nBut that's the idea, we don't replicate\nthe entire object, but rather,\n\n473\n00:23:48.747 --> 00:23:52.938\njust simply the updated attributes,\nunless it's upon initial creation.\n\n474\n00:23:52.938 --> 00:23:56.521\nWhen we create the object, obviously, we\nhave to replicate that instance out fully\n\n475\n00:23:56.521 --> 00:23:58.293\nto all domain controllers in the domain.\n\n476\n00:23:58.293 --> 00:24:01.386\nSo everybody knows there's a new\nuser called Adam in the domain.\n\n477\n00:24:01.386 --> 00:24:05.689\nBut once we do that, we're gonna start\ncranking off replication events simply for\n\n478\n00:24:05.689 --> 00:24:09.573\nattribute level replication, so\nthat's important for us to be aware of.\n\n479\n00:24:09.573 --> 00:24:15.168\nAnd then I did mention that we have\nIntersite and Intrasite replication.\n\n480\n00:24:15.168 --> 00:24:19.588\nAnd so we do wanna think about the\ndifferences between replication events and\n\n481\n00:24:19.588 --> 00:24:20.477\nhow they work.\n\n482\n00:24:20.477 --> 00:24:23.634\nWhen we talk about AD\nreplication within a site,\n\n483\n00:24:23.634 --> 00:24:28.177\nIntrasite replication,\nwe're talking about replication among and\n\n484\n00:24:28.177 --> 00:24:32.030\nwithin the domain controllers\nassociated with an AD site.\n\n485\n00:24:32.030 --> 00:24:36.251\nThe AD site is a boundary that allows us,\nbased on typically IP subnets and\n\n486\n00:24:36.251 --> 00:24:38.225\naddresses, more often than not,\n\n487\n00:24:38.225 --> 00:24:41.375\nalthough we can associate\nsystems in different ways.\n\n488\n00:24:41.375 --> 00:24:45.594\nBut typically based on IP subnetting and\naddressing, we say these domain\n\n489\n00:24:45.594 --> 00:24:50.162\ncontrollers are associated with this site,\nand then we replicate among them.\n\n490\n00:24:50.162 --> 00:24:54.883\nOften times in a small to medium size\nActive Directory infrastructure we may go\n\n491\n00:24:54.883 --> 00:24:58.886\nwith only the single site that is\ncreated out of the box by default,\n\n492\n00:24:58.886 --> 00:25:03.200\nwhat we call the Active Directory\nDefault-First-Site-Name site.\n\n493\n00:25:03.200 --> 00:25:05.319\nI've mentioned that name\na couple of times already.\n\n494\n00:25:05.319 --> 00:25:09.225\nI'll point it out to you when we do our\nwalk through on how to actually create\n\n495\n00:25:09.225 --> 00:25:10.908\na read only domain controller.\n\n496\n00:25:10.908 --> 00:25:14.413\nWe'll actually see the name of the site\nlisted there in the wizard as we go\n\n497\n00:25:14.413 --> 00:25:17.989\nthrough and we'll take a look at it and\nsee that would be the default name.\n\n498\n00:25:17.989 --> 00:25:22.542\nWe can create new sites and obviously\nname them as necessary, in order for\n\n499\n00:25:22.542 --> 00:25:23.429\nus to do that.\n\n500\n00:25:23.429 --> 00:25:28.431\nBut intrasite replication, internal to\nsite is simple just replication among and\n\n501\n00:25:28.431 --> 00:25:31.510\nbetween the domain\ncontrollers within that site.\n\n502\n00:25:31.510 --> 00:25:35.397\nIntersite replication, replication\nbetween sites, is replication between and\n\n503\n00:25:35.397 --> 00:25:38.338\namong domain controllers that\nare stored in different sites or\n\n504\n00:25:38.338 --> 00:25:41.902\nare gonna be associated in different\nsites for whatever reason that may be.\n\n505\n00:25:41.902 --> 00:25:45.302\nSo we'll delve a little more into\nthe intricacies of that in our upcoming\n\n506\n00:25:45.302 --> 00:25:46.091\nconversation.\n\n507\n00:25:46.091 --> 00:25:50.064\nI just wanted to lay out the general\nthought process around that as we´re\n\n508\n00:25:50.064 --> 00:25:52.422\nwrapping up our first conversation here.\n\n509\n00:25:52.422 --> 00:25:56.764\nJust about partitions, about the\noverarching characteristics of replication\n\n510\n00:25:56.764 --> 00:25:59.525\nso you have a sense of what\nreplication looks like.\n\n511\n00:25:59.525 --> 00:26:02.045\nWe're gonna go into more\ndetail on both intra and\n\n512\n00:26:02.045 --> 00:26:06.053\nintersite along with showing you how to\nset up a read only domain controller.\n\n513\n00:26:06.053 --> 00:26:09.345\nBut we're gonna have to come back and\ndo that in an upcoming conversation,\n\n514\n00:26:09.345 --> 00:26:11.029\ncuz we are just about out of time here.\n\n515\n00:26:11.029 --> 00:26:12.797\n&gt;&gt; All right, sounds like a plan, Adam.\n\n516\n00:26:12.797 --> 00:26:15.038\nThank you for that and\nthank you for joining us as well.\n\n517\n00:26:15.038 --> 00:26:17.701\nBut for this show we are out of time,\nso I'm gonna go ahead and\n\n518\n00:26:17.701 --> 00:26:19.488\nsign out as your host, Cherokee Boose.\n\n519\n00:26:19.488 --> 00:26:27.324\n&gt;&gt; I'm Adam Gordon.\n&gt;&gt; See you next time here at ITProTV.\n\n520\n00:26:27.324 --> 00:26:29.345\n[MUSIC]\n\n521\n00:26:29.345 --> 00:26:32.575\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "224333977"
        },
        {
          "description": "In this episode, Adam and Cherokee begin by discussing connection objects. Next, Adam explains the Knowledge Consistency Checker to help provide consistency through various maintenance tasks. Notifications, polling and resolving replication conflicts are also covered.",
          "length": "1873",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-2-ad_ds_sites_and_replication_pt2-070117-PGM.00_00_11_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-2-ad_ds_sites_and_replication_pt2-070117-PGM.00_00_11_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-2-ad_ds_sites_and_replication_pt2-070117-PGM.00_00_11_25.Still001-sm.jpg",
          "title": "AD DS Sites and Replication Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:03.636\nWelcome to ITPro.TV,\n\n2\n00:00:03.636 --> 00:00:08.581\nI'm your host Don Pezet [CROSSTALK]\n\n3\n00:00:08.581 --> 00:00:12.286\n&gt;&gt; You're watching ITPro.TV.\n\n4\n00:00:12.286 --> 00:00:15.700\n&gt;&gt; Welcome to your MCSA 70-412 series.\n\n5\n00:00:15.700 --> 00:00:17.167\nI'm your show host Cherokee Boose.\n\n6\n00:00:17.167 --> 00:00:21.537\nIn this episode we'll be taking a look\nat AD DS sites and replication,\n\n7\n00:00:21.537 --> 00:00:25.475\npart two, back in studios with\nus today we have Mr Adam Gordon.\n\n8\n00:00:25.475 --> 00:00:26.462\nHow are you Adam?\n\n9\n00:00:26.462 --> 00:00:27.510\n&gt;&gt; I'm doing well.\n\n10\n00:00:27.510 --> 00:00:29.030\nHopefully, you're doing well also.\n\n11\n00:00:29.030 --> 00:00:31.305\nSo we're going to continue our\nconversations about replications.\n\n12\n00:00:31.305 --> 00:00:33.770\nSpecifically, intrasite replication.\n\n13\n00:00:33.770 --> 00:00:35.260\nWe're making that distinction,\n\n14\n00:00:35.260 --> 00:00:41.280\nintrasite between members of a site\nversus intersite among different sites.\n\n15\n00:00:41.280 --> 00:00:42.580\nWe're gonna pick up where we left off.\n\n16\n00:00:42.580 --> 00:00:44.869\nWe kinda previewed\nthe idea of replication,\n\n17\n00:00:44.869 --> 00:00:47.522\ntalked a bit about the difference\nbetween the two but\n\n18\n00:00:47.522 --> 00:00:51.392\nhadn't really gotten into the gory\ndetails of the intrasite replication.\n\n19\n00:00:51.392 --> 00:00:54.789\nThere is definitely some knowledge we\nneed to make sure we're gonna acquaint\n\n20\n00:00:54.789 --> 00:00:56.630\nourselves with here to understand.\n\n21\n00:00:56.630 --> 00:00:58.819\nWe've talked about what\nare called connection objects and\n\n22\n00:00:58.819 --> 00:00:59.656\nhow we deal with that.\n\n23\n00:00:59.656 --> 00:01:05.232\nWe've talked about what's called the KCC,\nthe knowledge consistency checker,\n\n24\n00:01:05.232 --> 00:01:10.020\nhow we create information about\nreplication and link that to the ISTG.\n\n25\n00:01:10.020 --> 00:01:13.985\nThe inter site topology generator to be\nable to create the replication of topology\n\n26\n00:01:13.985 --> 00:01:14.850\namong the sites.\n\n27\n00:01:14.850 --> 00:01:18.519\nSo we'll be talking about some of\nthe building blocks if you will of\n\n28\n00:01:18.519 --> 00:01:19.750\nreplication.\n\n29\n00:01:19.750 --> 00:01:21.635\nLet's start,\nby talking about connection objects.\n\n30\n00:01:21.635 --> 00:01:25.346\nThe idea is that the domain\ncontroller that replicates changes,\n\n31\n00:01:25.346 --> 00:01:29.940\nor will replicate changes from one\nanother, is called the replication server.\n\n32\n00:01:29.940 --> 00:01:32.530\nWe have replication partners who\ncreate these partnerships between two\n\n33\n00:01:32.530 --> 00:01:33.720\ndomain controllers.\n\n34\n00:01:33.720 --> 00:01:37.300\nOne domain control initiates\nthe replication, another one receives it.\n\n35\n00:01:37.300 --> 00:01:40.350\nSo we talk about replication\npartnerships in this respect and\n\n36\n00:01:40.350 --> 00:01:43.690\nreplication partners are linked by\nwhat we call connection objects.\n\n37\n00:01:43.690 --> 00:01:46.470\nThese are the representational\nconnections.\n\n38\n00:01:46.470 --> 00:01:48.420\nThat allow these partners to talk and\n\n39\n00:01:48.420 --> 00:01:51.620\nas a result essentially negotiate the\nability for them to exchange information.\n\n40\n00:01:51.620 --> 00:01:53.145\nThis is what we refer to them as,\n\n41\n00:01:53.145 --> 00:01:56.815\nit represents a replication path in\nother words the connection object does,\n\n42\n00:01:56.815 --> 00:02:00.382\nbetween two domain controllers,\nfrom one domain controller to another.\n\n43\n00:02:00.382 --> 00:02:05.246\nThat is what the connection object\nrepresents, they're one way they represent\n\n44\n00:02:05.246 --> 00:02:09.935\nwhat's called in bound or pole replication\nso Cherokee and I are contacted.\n\n45\n00:02:09.935 --> 00:02:11.900\nLet's say hypothetically\nit's two domain controllers.\n\n46\n00:02:11.900 --> 00:02:17.360\nOr we have a connection object\nI should say between us.\n\n47\n00:02:17.360 --> 00:02:21.364\nIt's gonna be a one way object that allows\none of us to pull changes from the other.\n\n48\n00:02:21.364 --> 00:02:25.540\nSo whether Cherokee would be the one\nthat initiates that or I would be.\n\n49\n00:02:25.540 --> 00:02:27.940\nIt's really a question of who\nowns the connection object and\n\n50\n00:02:27.940 --> 00:02:29.430\nwhat direction it's pointing at.\n\n51\n00:02:29.430 --> 00:02:32.244\nSo, if Cherokee had the connection\nobject and she owned it.\n\n52\n00:02:32.244 --> 00:02:33.478\nAnd it was pointing at me.\n\n53\n00:02:33.478 --> 00:02:35.920\nAnd it was a one way pull connector.\n\n54\n00:02:35.920 --> 00:02:37.450\nShe could initiate replication.\n\n55\n00:02:37.450 --> 00:02:38.630\nPulling changes from me.\n\n56\n00:02:38.630 --> 00:02:40.712\nAnd I would be her replication partner.\n\n57\n00:02:40.712 --> 00:02:43.750\nBut, she would be initiating\nreplication pulling those changes down.\n\n58\n00:02:43.750 --> 00:02:47.178\nAnd that's what that connection\nobject is going to represent for us.\n\n59\n00:02:47.178 --> 00:02:50.240\nActive directory sites and\nservices as a tool.\n\n60\n00:02:50.240 --> 00:02:51.420\nThis is where we can go in and\n\n61\n00:02:51.420 --> 00:02:55.870\nview these connections,\nthese replication connection objects.\n\n62\n00:02:55.870 --> 00:03:00.130\nWe see them in the NTBS settings container\nof the domain controller server objects.\n\n63\n00:03:00.130 --> 00:03:03.935\nSo, if you've ever gone in and looked, and\nyou look at and open that up and kind of\n\n64\n00:03:03.935 --> 00:03:07.875\nsee what's in there, and drill down, and\nsee the different connection objects.\n\n65\n00:03:07.875 --> 00:03:08.703\nThat's what we're talking about.\n\n66\n00:03:08.703 --> 00:03:10.360\nAnd we'll take a look at those, and\n\n67\n00:03:10.360 --> 00:03:13.355\nsee what they are in a little bit\nas we go through our discussion.\n\n68\n00:03:13.355 --> 00:03:16.045\nWe'll then get a read-only domain\ncontroller stood up, we'll go back and\n\n69\n00:03:16.045 --> 00:03:17.665\nwe'll actually take a look,\nwe'll see what they look like.\n\n70\n00:03:17.665 --> 00:03:21.730\nSo, just want to make sure we're familiar\nwith that, have a sense of that.\n\n71\n00:03:21.730 --> 00:03:25.640\nWe're also talking about, or at least have\nto talk about, something known as the KCC,\n\n72\n00:03:25.640 --> 00:03:28.060\nthe knowledge consistency checker.\n\n73\n00:03:28.060 --> 00:03:29.833\nBeen around forever, this is, you know,\n\n74\n00:03:29.833 --> 00:03:32.267\nsomething that goes all\nthe way back to Windows 2000.\n\n75\n00:03:32.267 --> 00:03:35.960\nWe've had KCCs sitting around for\nsome time.\n\n76\n00:03:35.960 --> 00:03:39.236\nOne form or another, this is not\na new thought process by any means.\n\n77\n00:03:39.236 --> 00:03:43.484\nBut the idea here is that each domain\ncontroller is going to have or\n\n78\n00:03:43.484 --> 00:03:46.884\nuse the KCC to be able to generate or\nhelp generate and\n\n79\n00:03:46.884 --> 00:03:49.762\noptimize these replication connections.\n\n80\n00:03:49.762 --> 00:03:53.020\nThese connection objects and\nthe replication topology overall.\n\n81\n00:03:53.020 --> 00:03:57.380\nIt checks the replication pathways between\nthe domain controllers within a site.\n\n82\n00:03:57.380 --> 00:04:01.000\nValidates that they are optimized and\nthey're working correctly.\n\n83\n00:04:01.000 --> 00:04:04.740\nShould Cherokee and I have a connection\nobject and should it be one way?\n\n84\n00:04:04.740 --> 00:04:06.340\nAnd should she be controlling it?\n\n85\n00:04:06.340 --> 00:04:11.191\nMaybe, and as we said before,\nsetting it up that would be logical\n\n86\n00:04:11.191 --> 00:04:15.881\nperhaps from her perspective but\nmaybe I am highly connected.\n\n87\n00:04:15.881 --> 00:04:19.301\nhave more knowledge, have more to main\ncontrollers, have better bandwidth,\n\n88\n00:04:19.301 --> 00:04:21.020\nlower latency than Cherokee does.\n\n89\n00:04:21.020 --> 00:04:24.777\nAnd so maybe we want to flip that around\nand maybe it should go the other way\n\n90\n00:04:24.777 --> 00:04:28.732\nbecause Cherokee initiating replication\nmay not be the perfect solution.\n\n91\n00:04:28.732 --> 00:04:32.095\nBecause maybe she's on a low bandwidth,\nhigh latency connection and\n\n92\n00:04:32.095 --> 00:04:35.230\nmaybe she shouldn't be in charge\nof Initiating the request, but\n\n93\n00:04:35.230 --> 00:04:38.600\nrather maybe I should be the one who\nis in charge in doing that, right?\n\n94\n00:04:38.600 --> 00:04:43.068\nSo, maybe we flip the connections around\nand so the KCC would be helpful, because\n\n95\n00:04:43.068 --> 00:04:47.432\nit goes through it consistently hence\nthe name knowledge consistent checker.\n\n96\n00:04:47.432 --> 00:04:51.097\nBut it's checking behind the scene on\na regular basis probing all the domain\n\n97\n00:04:51.097 --> 00:04:54.418\ncontrollers looking at optimizing\nconnections if we see a new domain\n\n98\n00:04:54.418 --> 00:04:55.774\ncontroller comes online.\n\n99\n00:04:55.774 --> 00:04:58.720\nAnd we have to extend connection\nobjects out to incorporate it.\n\n100\n00:04:58.720 --> 00:05:01.758\nThe KCC will help us to figure\nthat out and generate them for us.\n\n101\n00:05:01.758 --> 00:05:04.760\nIt checks to see the status\nof domain controllers.\n\n102\n00:05:04.760 --> 00:05:06.580\nThe domain controllers going offline,\n\n103\n00:05:06.580 --> 00:05:09.920\nthen we have to rearchitect our\nconnection objects to accommodate that.\n\n104\n00:05:09.920 --> 00:05:13.524\nSo there's a lot of maintenance behind the\nscene that goes on that the KCC is going\n\n105\n00:05:13.524 --> 00:05:14.163\nto deal with.\n\n106\n00:05:14.163 --> 00:05:17.450\nEvery 15 minutes by default\nis when this thing runs.\n\n107\n00:05:17.450 --> 00:05:19.890\nWe can modify that but four times an hour.\n\n108\n00:05:19.890 --> 00:05:23.310\nAnd we check on the replication status or\nreplication pathways.\n\n109\n00:05:23.310 --> 00:05:27.300\nAs a result of that, it does\nauto-generate these pathways for us.\n\n110\n00:05:27.300 --> 00:05:29.580\nBut we do have an option to go in and\nmanually configure them as well.\n\n111\n00:05:29.580 --> 00:05:34.210\nSo we can manually create\nthe replication pathways if need be.\n\n112\n00:05:34.210 --> 00:05:35.220\nAnd sometimes we do that.\n\n113\n00:05:35.220 --> 00:05:39.370\nWe may wanna hard code, a path and have it\npermanently available between two domain\n\n114\n00:05:39.370 --> 00:05:41.330\ncontrollers for a variety of reasons.\n\n115\n00:05:41.330 --> 00:05:45.510\nWhatever that may be and the KCC may or\nmay not create that pathway according to\n\n116\n00:05:45.510 --> 00:05:49.256\nour specifications and so we may go in and\ndecide to do that on our own.\n\n117\n00:05:49.256 --> 00:05:52.701\nI don't know if you've ever had a reason\nto be in there poking around either in\n\n118\n00:05:52.701 --> 00:05:53.975\na production environment or\n\n119\n00:05:53.975 --> 00:05:57.490\ncertainly maybe in testing in certain\nconditions for shows things like that.\n\n120\n00:05:57.490 --> 00:06:00.235\nWhere you've had to go in and\ncreate a connection option or\n\n121\n00:06:00.235 --> 00:06:02.360\nmaybe manually go in and create one.\n\n122\n00:06:02.360 --> 00:06:05.140\nBut if you've ever done that,\nIt's really is not very difficult.\n\n123\n00:06:05.140 --> 00:06:07.030\nYou just go into the Sites and\nServices Tool.\n\n124\n00:06:07.030 --> 00:06:09.950\nAnd you can right click and just create\nan object using the wizard there.\n\n125\n00:06:09.950 --> 00:06:12.560\nBut the ones you see prepopulated\nwill be from the KCCs.\n\n126\n00:06:12.560 --> 00:06:14.454\nSo just some things to think about there.\n\n127\n00:06:14.454 --> 00:06:17.606\nAnd the nice thing is that KCC\ndoes not remove those manually\n\n128\n00:06:17.606 --> 00:06:18.940\ncreated objects right.\n\n129\n00:06:18.940 --> 00:06:20.070\nSo keep that in mind.\n\n130\n00:06:20.070 --> 00:06:24.070\nSo we have to keep two things\nin mind number one hey KCC will\n\n131\n00:06:24.070 --> 00:06:27.080\njust kind of leave it alone and leave\nit off to the side we don't touch it.\n\n132\n00:06:27.080 --> 00:06:30.229\nBut the KCC does not remove those\nconnection objects which means after you\n\n133\n00:06:30.229 --> 00:06:33.069\ncreate them manually if you wanna get\nrid of them you have to go in and\n\n134\n00:06:33.069 --> 00:06:34.107\ndelete them yourself.\n\n135\n00:06:34.107 --> 00:06:37.077\nBecause they will essentially be\nseen as static objects since we\n\n136\n00:06:37.077 --> 00:06:38.235\nmanually created them.\n\n137\n00:06:38.235 --> 00:06:40.910\nNo tocar as we say right no touchy.\n\n138\n00:06:40.910 --> 00:06:45.150\nSo we will not remove those and as\na result if we have to get rid of them for\n\n139\n00:06:45.150 --> 00:06:47.632\nsome reason,\nthe automatic cleanup capability.\n\n140\n00:06:47.632 --> 00:06:51.750\nThe KCC brings to the table for\nus with auto generated connection object,\n\n141\n00:06:51.750 --> 00:06:54.260\ndoes not apply in other words to\nmanual objects that we create.\n\n142\n00:06:54.260 --> 00:06:57.652\nSo wanna make sure we're aware of that\nbecause that can sometimes be a little\n\n143\n00:06:57.652 --> 00:07:00.090\nconfusing, hey we created it and\nit's still there and\n\n144\n00:07:00.090 --> 00:07:01.801\nwe thought it was going to be removed.\n\n145\n00:07:01.801 --> 00:07:03.317\nOr hey I didnt create it, it was there and\n\n146\n00:07:03.317 --> 00:07:05.405\nthen it was removed,\nwhat's going on with that.\n\n147\n00:07:05.405 --> 00:07:08.634\nWe just need to make sure we are aware of\nthe way in which this technology works\n\n148\n00:07:08.634 --> 00:07:10.185\nbehind the scenes, right?\n\n149\n00:07:10.185 --> 00:07:14.090\nSo the standing rule of thumb is typically\nleave the auto generated pathways alone,\n\n150\n00:07:14.090 --> 00:07:16.050\ndon't mess around with them.\n\n151\n00:07:16.050 --> 00:07:18.380\nBut if we have a need to augment them,\nthen go in and\n\n152\n00:07:18.380 --> 00:07:21.500\nmanually create our own and then just\nmonitor and manage those ourselves.\n\n153\n00:07:21.500 --> 00:07:23.900\nThat would just kind of be the thought\nprocess we'd want to think about.\n\n154\n00:07:23.900 --> 00:07:26.360\n&gt;&gt; So Adam,\nthe default is every 15 minutes, but\n\n155\n00:07:26.360 --> 00:07:29.280\nwhat if there's some type of\nsignificant change in our environment?\n\n156\n00:07:29.280 --> 00:07:34.460\nWould it go ahead and push, or I should\nsay pull that, or initiate that checker?\n\n157\n00:07:36.640 --> 00:07:40.790\nRight then and there instead of waiting\nfor that pre-scheduled interval.\n\n158\n00:07:40.790 --> 00:07:43.530\n&gt;&gt; So for instance, if a domain\ncontroller is added, hypothetically,\n\n159\n00:07:43.530 --> 00:07:46.770\nlet's say I write a new domain\ncontroller to an existing domain.\n\n160\n00:07:46.770 --> 00:07:48.270\nWould the KCC kick in and\n\n161\n00:07:48.270 --> 00:07:51.100\nbe aware of that immediately is\nwhat you're asking or suggesting.\n\n162\n00:07:51.100 --> 00:07:55.023\nVersus waiting for that time interval so\ngreat, so it's not actually so\n\n163\n00:07:55.023 --> 00:07:56.965\nit's a combination of two things.\n\n164\n00:07:56.965 --> 00:08:00.756\nWhen we create a domain controller part of\nthat process of adding it to the domain\n\n165\n00:08:00.756 --> 00:08:03.653\nwe establish the trusts,\nremember we talked about trusts.\n\n166\n00:08:03.653 --> 00:08:06.197\nSo those transitive trusts are extended.\n\n167\n00:08:06.197 --> 00:08:10.355\nTo a domain controller to incorporate\nit into the domain hierarchy, and\n\n168\n00:08:10.355 --> 00:08:12.616\nto establish replication as a result.\n\n169\n00:08:12.616 --> 00:08:16.810\nSo the KCC does come online and\nplay a part in part of that initially.\n\n170\n00:08:16.810 --> 00:08:20.815\nSo it will be aware of those changes,\nin other words, and will be operating.\n\n171\n00:08:20.815 --> 00:08:23.190\n&gt;&gt; Okay.\n&gt;&gt; And so that is happening in real time.\n\n172\n00:08:23.190 --> 00:08:26.870\nBut this is really more about the\nmaintenance of just the static environment\n\n173\n00:08:26.870 --> 00:08:30.416\nafter we go in and churn the waters\na little bit, add some new stuff.\n\n174\n00:08:30.416 --> 00:08:35.010\nThen the KCC is running behind the scenes\nto maintain that architecture so\n\n175\n00:08:35.010 --> 00:08:36.721\nwhen we do add or do modify.\n\n176\n00:08:36.721 --> 00:08:37.720\nCuz it's not just an add, right?\n\n177\n00:08:37.720 --> 00:08:39.073\nWe could be removing as well right?\n\n178\n00:08:39.073 --> 00:08:40.766\n&gt;&gt; True.\n&gt;&gt; Which would also be an issue or so\n\n179\n00:08:40.766 --> 00:08:43.928\nwe could be extending by adding or\ntruncating, essentially pulling back\n\n180\n00:08:43.928 --> 00:08:47.660\nthe number of domain controllers cuz we're\ntaking one out of service for some reason.\n\n181\n00:08:47.660 --> 00:08:52.160\nEither way, the KCC is aware of that\nas part of the wizard-driven activity.\n\n182\n00:08:52.160 --> 00:08:52.660\n&gt;&gt; Okay.\n&gt;&gt; Okay.\n\n183\n00:08:52.660 --> 00:08:54.370\n&gt;&gt; And will adjust as part of that action\n\n184\n00:08:54.370 --> 00:08:57.050\nat that point in time.\nSo it actually does kick off there.\n\n185\n00:08:57.050 --> 00:08:58.842\nSo that's actually a really\ngood thing to think about.\n\n186\n00:08:58.842 --> 00:09:01.340\nI didn't actually think about saying\nthat that would be part of it.\n\n187\n00:09:01.340 --> 00:09:02.979\nSo I appreciate that, that's worth,\n&gt;&gt; A fist bump.\n\n188\n00:09:02.979 --> 00:09:03.775\n&gt;&gt; A fist bump?\nWoo!\n\n189\n00:09:03.775 --> 00:09:04.275\n&gt;&gt; That's a good one right there.\n\n190\n00:09:04.275 --> 00:09:05.560\nThat was good.\n\n191\n00:09:05.560 --> 00:09:06.950\nValue added, as we say.\n\n192\n00:09:06.950 --> 00:09:08.102\nSo thank you Cherokee,\n&gt;&gt; You're welcome.\n\n193\n00:09:08.102 --> 00:09:09.460\n&gt;&gt; I appreciate you bringing that up.\n\n194\n00:09:09.460 --> 00:09:13.570\nAll right, so, in terms of notifications,\nas we were talking about.\n\n195\n00:09:13.570 --> 00:09:16.330\nNot so much,\nhey we just added a new domain controller.\n\n196\n00:09:16.330 --> 00:09:17.870\nThat is important,\nwe do need to be aware of that,\n\n197\n00:09:17.870 --> 00:09:19.300\nbut we've kind of dealt with that.\n\n198\n00:09:19.300 --> 00:09:22.850\nI'm thinking more, hey we just added\na user, hey we changed a password.\n\n199\n00:09:22.850 --> 00:09:26.960\nHey we updated a permission on a group for\nsomething, whatever it is.\n\n200\n00:09:26.960 --> 00:09:30.640\nThinking about those changes that\nwould go into the domain partition,\n\n201\n00:09:30.640 --> 00:09:34.508\nand obviously have to be replicated\nto domain controllers as a result.\n\n202\n00:09:34.508 --> 00:09:38.045\nDomain controllers will deal with\ncertain kinds of attribute changes in\n\n203\n00:09:38.045 --> 00:09:38.955\ndifferent ways.\n\n204\n00:09:38.955 --> 00:09:40.165\nIf it's a security related,\n\n205\n00:09:40.165 --> 00:09:43.305\nsecurity impacting change,\nthat would take place immediately.\n\n206\n00:09:43.305 --> 00:09:44.875\nThere's a small latency\nwhen I say immediately,\n\n207\n00:09:44.875 --> 00:09:48.095\nit's not like literally look before I\ncould even think of it, it happened.\n\n208\n00:09:48.095 --> 00:09:50.312\nIt will be queued up and\nit will be happening.\n\n209\n00:09:50.312 --> 00:09:53.452\nGoes right to the front of the line and\nalmost immediately is replicated.\n\n210\n00:09:53.452 --> 00:09:56.392\nSomething that's not security\nrelated does get queued up and\n\n211\n00:09:56.392 --> 00:09:58.582\ngets replicated on\nan existing time schedule.\n\n212\n00:09:58.582 --> 00:10:02.166\nSo some things happen right away, other\nthings there will be latency or lag for\n\n213\n00:10:02.166 --> 00:10:04.056\nwhich we want to make sure\nwe are aware of that.\n\n214\n00:10:04.056 --> 00:10:05.556\nBut we do queue those up and\n\n215\n00:10:05.556 --> 00:10:09.466\nthen set them up in a queue to be\nfired off to our replication partners.\n\n216\n00:10:09.466 --> 00:10:13.876\nThis source server where those changes\nare coming from waits 15 seconds\n\n217\n00:10:13.876 --> 00:10:17.963\nby default to notify its first\nreplication partner of the change.\n\n218\n00:10:17.963 --> 00:10:21.683\nThat way we're staggering traffic,\nand we're not piling traffic up so\n\n219\n00:10:21.683 --> 00:10:25.913\nthat as multiple things are happening,\nwe kick off this firestorm of replication,\n\n220\n00:10:25.913 --> 00:10:28.213\nin theory,\nthat could actually take down the network.\n\n221\n00:10:28.213 --> 00:10:30.743\nYou know, we don't often think about,\nhey I changed and\n\n222\n00:10:30.743 --> 00:10:34.660\nupdated a group of users or\nbatch of users.\n\n223\n00:10:34.660 --> 00:10:38.669\nMaybe we rolled out the idea of\nusing certain attributes in AD to\n\n224\n00:10:38.669 --> 00:10:40.797\nfurther populate information.\n\n225\n00:10:40.797 --> 00:10:44.117\nYou know, a lot of my really large\ncustomers will use some of the properties\n\n226\n00:10:44.117 --> 00:10:46.131\nthat we often ignore and\ndon't think about.\n\n227\n00:10:46.131 --> 00:10:50.705\nThings like address, manager,\nphone number, extension, things like that.\n\n228\n00:10:50.705 --> 00:10:53.955\nCuz they wanna build a more full\nprofile for users in Active Directory.\n\n229\n00:10:53.955 --> 00:10:56.365\nIn a small business,\nyou may not worry about those things.\n\n230\n00:10:56.365 --> 00:10:57.035\nYeah, that's George.\n\n231\n00:10:57.035 --> 00:10:59.037\nGeorge is always reporting to Tim.\n\n232\n00:10:59.037 --> 00:11:02.277\nWe know that, we don't worry about that,\nbut in an 80,000 plus\n\n233\n00:11:02.277 --> 00:11:05.817\norganization that's global,\nyou have no clue who Tim and Joe are,\n\n234\n00:11:05.817 --> 00:11:10.107\nlet alone who they report to, so you\nmight have to populate all that, right?\n\n235\n00:11:10.107 --> 00:11:14.237\nIf we start pushing massive numbers\nof changes into AD to update certain\n\n236\n00:11:14.237 --> 00:11:17.837\nattributes, we could actually\ngenerate enough replication traffic\n\n237\n00:11:17.837 --> 00:11:20.380\nthat in theory we could\ntake down the network.\n\n238\n00:11:20.380 --> 00:11:24.093\nAnd so we do have to stagger these changes\nand updates in order to manage against\n\n239\n00:11:24.093 --> 00:11:27.939\nthat and that's why these offset processes\nthat we talk about are so important.\n\n240\n00:11:27.939 --> 00:11:31.172\nThe notification in other words is\ngonna be typically managed with\n\n241\n00:11:31.172 --> 00:11:33.430\na 15-second interval to give us some time.\n\n242\n00:11:33.430 --> 00:11:37.062\nIf you think about 15 seconds,\nin the real world we count to 15,\n\n243\n00:11:37.062 --> 00:11:40.848\nthat seems like a pretty quick amount\nof time for us as humans, right?\n\n244\n00:11:40.848 --> 00:11:43.120\n15 seconds, that goes by fairly quickly.\n\n245\n00:11:43.120 --> 00:11:45.140\nBut we don't measure in\nseconds in computers,\n\n246\n00:11:45.140 --> 00:11:47.100\nremember we measure in nano seconds and\n\n247\n00:11:47.100 --> 00:11:51.890\nmilliseconds, and typically these events\nare occuring in millisecond increments.\n\n248\n00:11:51.890 --> 00:11:55.770\nAnd milliseconds there's a lot of\nmilliseconds in 15 seconds if we think\n\n249\n00:11:55.770 --> 00:12:00.160\nabout that, so as a result that's a very\nlarge amount of time in computer time.\n\n250\n00:12:00.160 --> 00:12:03.340\nAs opposed to human time, so\njust think about the logic of that and\n\n251\n00:12:03.340 --> 00:12:06.680\nthat offset actually does a lot of good\nfor us in terms of just being able to give\n\n252\n00:12:06.680 --> 00:12:10.430\nus a buffer, a cushion that will offset\nthe potential for traffic stacking up.\n\n253\n00:12:10.430 --> 00:12:12.385\nSo I just wanna make\nsure we're aware of that.\n\n254\n00:12:12.385 --> 00:12:15.980\nPulling is the idea of\nthe downstream replication partner,\n\n255\n00:12:15.980 --> 00:12:18.670\nthe partner that is not going\nto be aware of the change but\n\n256\n00:12:18.670 --> 00:12:21.470\nrather is below the server\nthat has the change.\n\n257\n00:12:21.470 --> 00:12:24.470\nRequesting or contacting the upstream\nreplication partner every so\n\n258\n00:12:24.470 --> 00:12:26.440\noften to say hey are there changes?\n\n259\n00:12:26.440 --> 00:12:31.580\nRemember we're pulling changes right so\nthe source knows the change, the target\n\n260\n00:12:31.580 --> 00:12:35.250\nthat's gonna request it is pulling to see\nare there changes and if there are you're\n\n261\n00:12:35.250 --> 00:12:39.060\ngonna pull those changes across\nthe connection object through replication.\n\n262\n00:12:39.060 --> 00:12:45.140\nSo if Cherokee is gonna be the one who\ncontrols that information exchange and\n\n263\n00:12:45.140 --> 00:12:50.490\nshe's gonna request changes from me if\nI'm the source, she pulls every so often.\n\n264\n00:12:50.490 --> 00:12:53.370\nShe gets in touch with me and says,\nhey, Adam, are there changes?\n\n265\n00:12:53.370 --> 00:12:55.260\nAnd if there are,\nI need to get ahold of them and\n\n266\n00:12:55.260 --> 00:12:57.680\nI have to pull them across\nthe replication divide.\n\n267\n00:12:57.680 --> 00:12:59.980\nAnd so we contract our upstream partners.\n\n268\n00:12:59.980 --> 00:13:02.980\nAnd we see whether or not there are any\nchanges queued up for replication.\n\n269\n00:13:02.980 --> 00:13:07.678\nAnd if there are, we then go ahead and\nwe start replicating them down.\n\n270\n00:13:07.678 --> 00:13:11.850\nNow the pulling interval is typically once\nan hour, but we can modify that as well.\n\n271\n00:13:11.850 --> 00:13:12.980\nAgain we can configure that.\n\n272\n00:13:12.980 --> 00:13:15.420\nIt's a option for us to change that,\n\n273\n00:13:15.420 --> 00:13:19.770\nhow aggressive do we wanna be with\nour updates to the replication cycle.\n\n274\n00:13:19.770 --> 00:13:23.429\nIf we pull once an hour,\neven though we're stacking changes up,\n\n275\n00:13:23.429 --> 00:13:27.154\nwe may not actually replicate them\noff until the partner comes in,\n\n276\n00:13:27.154 --> 00:13:31.150\nrequests the update through pulling and\nsays hey what's there?\n\n277\n00:13:31.150 --> 00:13:32.720\nThere's five things in the queue.\n\n278\n00:13:32.720 --> 00:13:33.690\nLet's replicate those.\n\n279\n00:13:33.690 --> 00:13:35.970\nRight?\nAnd that happens once an hour by default.\n\n280\n00:13:35.970 --> 00:13:36.860\nWe can modify that.\n\n281\n00:13:36.860 --> 00:13:39.990\nWe can do that more aggressively or\nless aggressively, it's up to us.\n\n282\n00:13:39.990 --> 00:13:43.190\nKeep in mind, security related\nchanges are replicated immediately.\n\n283\n00:13:43.190 --> 00:13:46.050\nThey do not go through this,\nlet's queue it up, and let's wait for\n\n284\n00:13:46.050 --> 00:13:47.880\npolling to happen process.\n\n285\n00:13:47.880 --> 00:13:50.620\nThis kind of a change would be,\nI added something in there, and\n\n286\n00:13:50.620 --> 00:13:52.840\nI added a new extension\nto your phone number.\n\n287\n00:13:52.840 --> 00:13:54.810\nThat would get queued up and\npolled for, and\n\n288\n00:13:54.810 --> 00:13:56.940\nyou would just replicate that\nwhen you replicate that.\n\n289\n00:13:56.940 --> 00:14:00.410\nUpdating someone's password, changing\ntheir account status, locking them out,\n\n290\n00:14:00.410 --> 00:14:01.900\nanything having to do with security,\n\n291\n00:14:01.900 --> 00:14:05.390\nreplicate it immediately regardless of\nwhatever else is going on in the system.\n\n292\n00:14:05.390 --> 00:14:08.540\nBecause if you don't do that, obviously,\nclearly there would be a gap there,\n\n293\n00:14:08.540 --> 00:14:12.310\nwhere somebody could operate under a\ndifferent set of security assumptions and\n\n294\n00:14:12.310 --> 00:14:15.390\nmaybe manipulate the system, and\nthat's what we're looking to avoid.\n\n295\n00:14:15.390 --> 00:14:16.470\nSo keep that in mind.\n\n296\n00:14:16.470 --> 00:14:17.980\nSecurity related changes go immediately.\n\n297\n00:14:17.980 --> 00:14:22.750\nNow having said that, there is still\na latency issue we have to be aware of.\n\n298\n00:14:22.750 --> 00:14:26.670\nIf we replicate off security changes,\nhypothetically, and I've seen this happen\n\n299\n00:14:26.670 --> 00:14:29.370\nin the real world, which is why it's\nimportant for you to be aware of this.\n\n300\n00:14:29.370 --> 00:14:33.415\nIf we replicate off a security change,\nI disable Cherokee's account.\n\n301\n00:14:33.415 --> 00:14:35.476\nHypothetically let's say\nit's a security change.\n\n302\n00:14:35.476 --> 00:14:36.920\nAnd I replicate that change out, so\n\n303\n00:14:36.920 --> 00:14:40.190\nit's almost immediately goes out\nto all the domain controllers.\n\n304\n00:14:40.190 --> 00:14:43.700\nIf we're in a relatively small domain,\nfew domain controllers,\n\n305\n00:14:43.700 --> 00:14:47.950\nflat, not any latency to speak of,\nall well connected, that change\n\n306\n00:14:47.950 --> 00:14:52.300\nessentially replicates through, or billows\nthrough the system almost immediately.\n\n307\n00:14:52.300 --> 00:14:56.030\nThe update to all those domain controllers\nwould happen within several seconds,\n\n308\n00:14:56.030 --> 00:14:57.880\nmaybe 30 seconds, whatever it may be.\n\n309\n00:14:57.880 --> 00:14:59.180\nBut very quickly.\n\n310\n00:14:59.180 --> 00:14:59.706\nAnd as a result,\n\n311\n00:14:59.706 --> 00:15:03.700\nthe status of Cherokee's account has\nbeen updated in every domain controller.\n\n312\n00:15:03.700 --> 00:15:05.780\nNow two things we need to\nbe aware of about this.\n\n313\n00:15:05.780 --> 00:15:08.980\nNumber one, if Cherokee happens to\nhave been actively logged in when\n\n314\n00:15:08.980 --> 00:15:13.030\nwe changed the status of her account,\nand it's quite possible she could be,\n\n315\n00:15:13.030 --> 00:15:16.690\nthen her account is still active even\nthough we've essentially disabled and\n\n316\n00:15:16.690 --> 00:15:19.610\nsaid hey, by the way don't let\nthat Cherokee girl log on anymore.\n\n317\n00:15:19.610 --> 00:15:20.400\n&gt;&gt; Until I log off?\n\n318\n00:15:20.400 --> 00:15:23.800\n&gt;&gt; Until you are forced to log off or\nyou log off.\n\n319\n00:15:23.800 --> 00:15:25.971\n&gt;&gt; Okay.\n&gt;&gt; Now, yes, obviously, if you comply and\n\n320\n00:15:25.971 --> 00:15:29.853\njust go about your business, and say well,\nyou don't want me here any more, and\n\n321\n00:15:29.853 --> 00:15:30.364\nI'll go.\n\n322\n00:15:30.364 --> 00:15:32.468\nAnd so you log off, then we're done.\n\n323\n00:15:32.468 --> 00:15:34.810\nObviously your account will not\nthen be allowed to log back in.\n\n324\n00:15:34.810 --> 00:15:38.639\nBut, If I see your log on I could also as\n\n325\n00:15:38.639 --> 00:15:40.590\nthe administrator disconnect\nyou from the system.\n\n326\n00:15:40.590 --> 00:15:44.103\nI could force you to log out by issuing\na command against your system that would\n\n327\n00:15:44.103 --> 00:15:44.760\ntake you out.\n\n328\n00:15:44.760 --> 00:15:47.290\nSo I could do that,\nI could force Cherokee off the network.\n\n329\n00:15:47.290 --> 00:15:50.620\nBut if she's logged in\nactively that change\n\n330\n00:15:50.620 --> 00:15:55.680\ndoes not automatically show up in\nthe sense that her user token is static.\n\n331\n00:15:55.680 --> 00:15:59.053\nAnd it is not dynamically updated\nwhen we make a status and change, or\n\n332\n00:15:59.053 --> 00:16:02.795\nchange of status, to an account,\na password, a username, rights, etc.\n\n333\n00:16:02.795 --> 00:16:07.320\nThis is why when we change security status\nwe have to log you out, log you back in.\n\n334\n00:16:07.320 --> 00:16:10.045\nTo see that updater curve\nbecause the token is static.\n\n335\n00:16:10.045 --> 00:16:13.553\nAnd we have to think about this because\njust cuz we say Cherokee not allowed\n\n336\n00:16:13.553 --> 00:16:17.020\ndoesn't mean Cherokee acknowledges\nthat she's not allowed anymore.\n\n337\n00:16:17.020 --> 00:16:19.000\nAs a matter of fact, she ignores that.\n\n338\n00:16:19.000 --> 00:16:22.310\nAnd that's the design and\nthe specificity of how Windows works.\n\n339\n00:16:22.310 --> 00:16:24.020\nIt's designed to work that way.\n\n340\n00:16:24.020 --> 00:16:25.920\nOur tokens are not dynamic.\n\n341\n00:16:25.920 --> 00:16:27.741\nLike that or\nnot think it's a good idea or not,\n\n342\n00:16:27.741 --> 00:16:29.890\nthat's the way it's always\nbeen [LAUGH] right?\n\n343\n00:16:29.890 --> 00:16:32.020\nAnd it's not changing any time soon.\n\n344\n00:16:32.020 --> 00:16:35.970\nAnd so as a result even though\nwe replicate that change\n\n345\n00:16:35.970 --> 00:16:38.050\nall activity going forward\nis governed by that change.\n\n346\n00:16:38.050 --> 00:16:40.820\nCurrent session activity it's not\ngoverned by that change unless we\n\n347\n00:16:40.820 --> 00:16:41.630\nchange the dynamic.\n\n348\n00:16:41.630 --> 00:16:43.420\nSo you've got to be aware\nof that number one.\n\n349\n00:16:43.420 --> 00:16:48.110\nNumber two, in geographically\ndistributed architectures,\n\n350\n00:16:49.150 --> 00:16:53.710\ndomains that are spread out physically\nin different locations with a lot of\n\n351\n00:16:53.710 --> 00:16:58.000\nlatency and potentially low bandwidth\nconnections between domain controllers.\n\n352\n00:16:58.000 --> 00:17:01.430\nRight, a domain logically\nis a very small place.\n\n353\n00:17:01.430 --> 00:17:03.940\nPhysically, we could have domain\ncontrollers in different countries that\n\n354\n00:17:03.940 --> 00:17:05.320\nare all part of the same domain.\n\n355\n00:17:05.320 --> 00:17:08.150\nRight, I mean that's not unusual,\nit happens all the time.\n\n356\n00:17:08.150 --> 00:17:10.500\nAs a result,\nif we don't have good, reliable,\n\n357\n00:17:10.500 --> 00:17:14.770\nhigh speed, low latency connections, that\nreplication even though it's gonna be teed\n\n358\n00:17:14.770 --> 00:17:16.950\nup to happen immediately, could take time.\n\n359\n00:17:16.950 --> 00:17:20.670\nAnd so literally Cherokee's\naccount could be disabled.\n\n360\n00:17:20.670 --> 00:17:24.200\nShe could be logging on\nactively trying to get back in.\n\n361\n00:17:24.200 --> 00:17:27.680\nAt the moment we disabled or shortly\nthereafter, but if she's logging in on one\n\n362\n00:17:27.680 --> 00:17:31.689\nof those outlying domains, are the domain\ncontroller rather in that lying area.\n\n363\n00:17:31.689 --> 00:17:35.560\nIn remote office that hasn't received\nthe updates yet, she could in theory, and\n\n364\n00:17:35.560 --> 00:17:39.170\nindeed in all actuality,\nlog in, still thinking and\n\n365\n00:17:39.170 --> 00:17:40.855\nthen de proving that her account is valid.\n\n366\n00:17:40.855 --> 00:17:44.337\nCuz that domain controller is not been\ntold it's not, even though we've already\n\n367\n00:17:44.337 --> 00:17:46.970\nmade the change and\nwe assume that she's not gonna be able to.\n\n368\n00:17:46.970 --> 00:17:49.475\nAnd again,\nthis can happen because of latency and\n\n369\n00:17:49.475 --> 00:17:53.800\ndelay in replication due to architecture,\nbandwidth and just connectivity.\n\n370\n00:17:53.800 --> 00:17:56.751\nWe do have to understand that\njust because we make a change\n\n371\n00:17:56.751 --> 00:17:58.656\nfrom a security standpoint and say,\n\n372\n00:17:58.656 --> 00:18:02.970\nit's gonna be replicated immediately,\nthat's a very elastic term in our world.\n\n373\n00:18:02.970 --> 00:18:05.625\nAnd there's a lot of variables\nthat may get in the way of\n\n374\n00:18:05.625 --> 00:18:07.220\nwhat that actually means.\n\n375\n00:18:07.220 --> 00:18:09.850\nAnd we have to just keep that in mind,\nkind of in our minds.\n\n376\n00:18:09.850 --> 00:18:14.530\nBe aware of the fact that a media\ndoesn't translate into on the spot and\n\n377\n00:18:14.530 --> 00:18:17.530\nby the way, we cut her off even is\nshe's in the middle of something.\n\n378\n00:18:17.530 --> 00:18:20.710\nTranslates to going forward, we're\ngonna make you aware of that change but\n\n379\n00:18:20.710 --> 00:18:22.870\ncurrent activity may\nnot be govern by that.\n\n380\n00:18:22.870 --> 00:18:23.940\nAnd indeed it's probably not.\n\n381\n00:18:25.260 --> 00:18:29.590\n&gt;&gt; Well, in an example like that where\nyou gave a geographical distribution or\n\n382\n00:18:29.590 --> 00:18:33.010\neven maybe just a poor\nbandwidth connection.\n\n383\n00:18:33.010 --> 00:18:37.150\nI mean it's ideal, if we look at polling,\njust regular polling,\n\n384\n00:18:37.150 --> 00:18:41.800\nnot necessarily a security change and it\nsays that interval by default is one hour.\n\n385\n00:18:41.800 --> 00:18:42.390\n&gt;&gt; Once an hour, right.\n\n386\n00:18:42.390 --> 00:18:47.278\n&gt;&gt; So, that would be perhaps a reason as\nto why we would increase that duration\n\n387\n00:18:47.278 --> 00:18:49.152\nif we did have poor latency.\n\n388\n00:18:49.152 --> 00:18:51.080\n&gt;&gt; We would decrease that\nduration not increase.\n\n389\n00:18:51.080 --> 00:18:51.820\n&gt;&gt; Decrease the duration.\n\n390\n00:18:51.820 --> 00:18:54.118\n&gt;&gt; Right, in other words,\nif we increase it,\n\n391\n00:18:54.118 --> 00:18:56.610\nwe're saying we want to\npoll less frequently.\n\n392\n00:18:56.610 --> 00:18:57.386\n&gt;&gt; Less frequently,\nyes if you have core bandwidth.\n\n393\n00:18:57.386 --> 00:19:00.132\n&gt;&gt; If we increase it,\n&gt;&gt; Well, no you won't.\n\n394\n00:19:00.132 --> 00:19:01.600\nWell, it would depend, right?\n\n395\n00:19:01.600 --> 00:19:03.000\nSo you have two options.\n\n396\n00:19:03.000 --> 00:19:06.777\nYou could certainly increase\nthe number of times we pull per hour,\n\n397\n00:19:06.777 --> 00:19:11.305\nwhich would fly in the face of what you\nthink may be logical but think about this.\n\n398\n00:19:11.305 --> 00:19:13.821\n&gt;&gt; Okay.\n&gt;&gt; In poor bandwidth connections,\n\n399\n00:19:13.821 --> 00:19:16.750\nin high latency low bandwidth connections.\n\n400\n00:19:16.750 --> 00:19:20.846\nThe goal is to have as little traffic\nas possible transiting that corridor on\n\n401\n00:19:20.846 --> 00:19:25.020\na regular basis because we can't\nmanage a lot of traffic at once.\n\n402\n00:19:25.020 --> 00:19:28.642\nPulling doesn't create a lot of traffic,\nbut pulling down the changes if we wait\n\n403\n00:19:28.642 --> 00:19:30.787\nand queue up a whole bunch\nof them at once could.\n\n404\n00:19:30.787 --> 00:19:32.460\n&gt;&gt; Interesting, okay.\n\n405\n00:19:32.460 --> 00:19:35.990\n&gt;&gt; And so in high latency\nlow bandwidth environments.\n\n406\n00:19:35.990 --> 00:19:41.250\nWe actually, typically, will decrease\nnot increase the polling frequency.\n\n407\n00:19:41.250 --> 00:19:43.039\nIn other words,\nwe will pull more frequently.\n\n408\n00:19:43.039 --> 00:19:43.655\n&gt;&gt; Okay.\n\n409\n00:19:43.655 --> 00:19:47.201\n&gt;&gt; Because we wanna be able to pull\nchanges across in byte size small\n\n410\n00:19:47.201 --> 00:19:51.750\nincrements instead of waiting for\nlarger numbers of changes to be queued up.\n\n411\n00:19:51.750 --> 00:19:54.210\nAnd then potentially\noverwhelming our connection, but\n\n412\n00:19:54.210 --> 00:19:56.840\nwe also can schedule when we check.\n\n413\n00:19:56.840 --> 00:19:59.890\nSo we could say poll\nonce a every 12 hours.\n\n414\n00:19:59.890 --> 00:20:02.579\nIf you think about the logic of that and\nwe could control that so\n\n415\n00:20:02.579 --> 00:20:04.502\nit happens during off\npeak periods of time.\n\n416\n00:20:04.502 --> 00:20:06.040\n&gt;&gt; Okay.\n&gt;&gt; So we could do it either way.\n\n417\n00:20:06.040 --> 00:20:10.350\nI mean there is a thought process that\ngoes either way here, but if we're really\n\n418\n00:20:10.350 --> 00:20:13.880\nworried about, even at off peak periods\nwhere there's just like no activity and\n\n419\n00:20:13.880 --> 00:20:18.050\nit's still a very low bandwidth,\nhigh latency connection.\n\n420\n00:20:18.050 --> 00:20:21.080\nNot that you would see a dial up\nconnection very often these days but\n\n421\n00:20:21.080 --> 00:20:25.140\nthink about days gone by,\nyou'd have a 56k dial up connection.\n\n422\n00:20:25.140 --> 00:20:26.740\nThat's not gonna get better,\nno matter when you connect, right?\n\n423\n00:20:26.740 --> 00:20:28.880\n&gt;&gt; [LAUGH]\n&gt;&gt; Shows you how old I am, right?\n\n424\n00:20:28.880 --> 00:20:32.420\nSo, if you think about\nsomething like that,\n\n425\n00:20:32.420 --> 00:20:36.270\nnot that we would have a 56k\nbroad modem connection today.\n\n426\n00:20:36.270 --> 00:20:40.090\nBut for certain systems for backup\npurposes, we may have alternate circuits\n\n427\n00:20:40.090 --> 00:20:43.000\nthat are much lower bandwidth\nthan our primary circuits.\n\n428\n00:20:43.000 --> 00:20:46.820\nAnd we may or may not be failing over\nto them during certain periods of time.\n\n429\n00:20:46.820 --> 00:20:49.350\nThere's just all these variables\nthat we have to consider.\n\n430\n00:20:49.350 --> 00:20:54.380\nSo we could stretch that replication\nthat latency check or rather excuse me,\n\n431\n00:20:54.380 --> 00:20:58.320\nthe polling parameter, we could say once\nevery 12 hours, once every 24 hours.\n\n432\n00:20:58.320 --> 00:21:01.080\nSo that we will check less frequently.\n\n433\n00:21:01.080 --> 00:21:03.830\nBut as a result, we're backing up\na lot of changes in the queue.\n\n434\n00:21:03.830 --> 00:21:06.490\nAnd we then would have to devote a lot\nof bandwidth to replicating them when we\n\n435\n00:21:06.490 --> 00:21:07.350\nsee them.\n\n436\n00:21:07.350 --> 00:21:10.580\nIf we did it more frequently,\nwe are creating a little\n\n437\n00:21:10.580 --> 00:21:13.010\nbit more traffic every 15,\n20 minutes, 30 minutes, whatever.\n\n438\n00:21:13.010 --> 00:21:15.740\nThat traffic is very small,\na polling check.\n\n439\n00:21:15.740 --> 00:21:17.680\nIt's very, very small amount of traffic.\n\n440\n00:21:17.680 --> 00:21:20.440\nAnd we would replicate more\nfrequently if we did have changes.\n\n441\n00:21:20.440 --> 00:21:22.670\nAnd as a result,\nless traffic would back up and\n\n442\n00:21:22.670 --> 00:21:25.660\nrequire more bandwidth to\nmove the traffic over time.\n\n443\n00:21:25.660 --> 00:21:29.300\nSo there's a thought process\nthat actually, when you stop and\n\n444\n00:21:29.300 --> 00:21:31.470\nthink about it, and kind of analyze it.\n\n445\n00:21:31.470 --> 00:21:34.789\nIs perhaps not logical on the surface but\nactually makes a lot of sense when you\n\n446\n00:21:34.789 --> 00:21:37.357\nstop and really think through\nthe logic of what we would do.\n\n447\n00:21:37.357 --> 00:21:38.663\nAnd that's how we often manage that.\n\n448\n00:21:38.663 --> 00:21:40.480\n&gt;&gt; Okay cool.\n\n449\n00:21:40.480 --> 00:21:42.133\n&gt;&gt; Or I could just be\nmaking it all up who knows.\n\n450\n00:21:42.133 --> 00:21:43.737\n&gt;&gt; [LAUGH]\n&gt;&gt; Could be just total garbage,\n\n451\n00:21:43.737 --> 00:21:44.390\nyou never know.\n\n452\n00:21:44.390 --> 00:21:46.660\nI could just be creating\nthings on the fly here.\n\n453\n00:21:46.660 --> 00:21:48.040\nNo, but in the real world that is\n\n454\n00:21:48.040 --> 00:21:50.700\npotentially one of the things we do have\nto assess and really think about it.\n\n455\n00:21:50.700 --> 00:21:53.959\nWe do manage it that way traditionally,\nmay replicate in terms of the polling\n\n456\n00:21:53.959 --> 00:21:56.832\nfrequency more frequently but\nreplicate less changes every time.\n\n457\n00:21:56.832 --> 00:22:00.260\nAnd that would be one way to deal with low\nbandwidth in high latency environments.\n\n458\n00:22:00.260 --> 00:22:02.240\nBut it would depend on\nthe number of changes.\n\n459\n00:22:02.240 --> 00:22:03.575\nBecause then we'd have\nto worry about whether\n\n460\n00:22:03.575 --> 00:22:06.665\nwe have certain periods of activity\nwhere we'd stack up a lot of changes,\n\n461\n00:22:06.665 --> 00:22:08.685\neven very small incremental changes.\n\n462\n00:22:08.685 --> 00:22:10.825\nWe may wanna extend during those cycles.\n\n463\n00:22:10.825 --> 00:22:12.655\nSo there's different\nways to deal with that.\n\n464\n00:22:12.655 --> 00:22:14.885\nWhat about resolution of\nreplication conflicts?\n\n465\n00:22:14.885 --> 00:22:17.585\nWe've been talking about time management,\nbut what about when somebody\n\n466\n00:22:17.585 --> 00:22:21.985\nchanges something on multiple or from\nmultiple advantage points simultaneously?\n\n467\n00:22:21.985 --> 00:22:25.042\nMultiple administrators could\nadminister an account and\n\n468\n00:22:25.042 --> 00:22:29.031\nmake changes to it simultaneously in\ntheory, in different environments or\n\n469\n00:22:29.031 --> 00:22:30.313\nperhaps-\n&gt;&gt; Ready, set, go.\n\n470\n00:22:30.313 --> 00:22:30.859\n&gt;&gt; Right, well yeah.\n\n471\n00:22:30.859 --> 00:22:32.100\n&gt;&gt; [LAUGH]\n&gt;&gt; I mean there's two or\n\n472\n00:22:32.100 --> 00:22:34.960\nthree domain admins could open\nthe Active Directory user and\n\n473\n00:22:34.960 --> 00:22:38.200\ncomputer tool and\ntarget an account simultaneously.\n\n474\n00:22:38.200 --> 00:22:41.101\nSimultaneous is relative, I mean you're\nnot gonna be able to literally hit\n\n475\n00:22:41.101 --> 00:22:44.064\nthe button at the same exact instant,\nbut within a few seconds of each other.\n\n476\n00:22:44.064 --> 00:22:46.506\nWe may make conflicting\nchanges to an attribute and\n\n477\n00:22:46.506 --> 00:22:50.420\nthat's something we have to think about,\nand obviously try to be aware of.\n\n478\n00:22:50.420 --> 00:22:53.548\nThere are different types of resolution or\nrather excuse me,\n\n479\n00:22:53.548 --> 00:22:57.521\nreplication conflicts we would have to\nresolve simultaneous modification of\n\n480\n00:22:57.521 --> 00:23:00.845\nthe same attribute on object from\nmultiple domain controllers.\n\n481\n00:23:00.845 --> 00:23:03.550\nThe situation I just\ndescribed could happen.\n\n482\n00:23:03.550 --> 00:23:05.490\nAdding or\nmodifying the same object on one or\n\n483\n00:23:05.490 --> 00:23:09.250\nmore domain controllers at the same\ntime that is being deleted on another.\n\n484\n00:23:09.250 --> 00:23:13.291\nSo I'm creating or rather I'm deleting\nan object called Cherokee and\n\n485\n00:23:13.291 --> 00:23:15.830\nI'm adding a new one\nright at the same time.\n\n486\n00:23:15.830 --> 00:23:18.705\nAnd that could cause conflict,\nadding objects with the same relative\n\n487\n00:23:18.705 --> 00:23:21.980\ndistinguished name into the same container\non different domain controllers.\n\n488\n00:23:21.980 --> 00:23:25.495\nThese are all scenarios where\nreplication conflicts will occur,\n\n489\n00:23:25.495 --> 00:23:28.897\nand we have to minimize these\nconflicts and just deal with them.\n\n490\n00:23:28.897 --> 00:23:32.695\nAnd so we try to minimize conflicts\nby using the forest kinda is\n\n491\n00:23:32.695 --> 00:23:34.090\nthe arbitrator here.\n\n492\n00:23:34.090 --> 00:23:38.317\nWe have records and replication of object\nchanges at the attribute level that we're\n\n493\n00:23:38.317 --> 00:23:41.769\ngoing to deal with rather than at\nthe object level, meaning we look at\n\n494\n00:23:41.769 --> 00:23:45.665\nthe attribute itself, not the object\nto try to figure out somebody changes.\n\n495\n00:23:45.665 --> 00:23:48.566\nAnd we look at the originating\nupdate where it comes from and\n\n496\n00:23:48.566 --> 00:23:51.535\nwhere it was applied, and\nwho was kind of first past to post.\n\n497\n00:23:51.535 --> 00:23:53.345\nSo, we have to look at some things.\n\n498\n00:23:53.345 --> 00:23:56.737\nSpecifically, we look at a stamp and\nthe stamp is made up with two things,\n\n499\n00:23:56.737 --> 00:23:58.940\nthe version act with three\nthings I should say.\n\n500\n00:23:58.940 --> 00:24:01.630\nThe version number of the attribute.\n\n501\n00:24:01.630 --> 00:24:04.868\nThe time stamp and the server GUID or\nthe global unique identifier.\n\n502\n00:24:04.868 --> 00:24:09.231\nThese three things together are gonna help\nus to govern what changes are made in\n\n503\n00:24:09.231 --> 00:24:11.510\nwhat order and who gets preference.\n\n504\n00:24:11.510 --> 00:24:13.150\nBecause when we look at\nthe version number for\n\n505\n00:24:13.150 --> 00:24:17.300\nthe object attribute every time we make a\nchange, we increment that version number.\n\n506\n00:24:17.300 --> 00:24:20.472\nSo, obviously control of a lower\nversion number versus a higher version\n\n507\n00:24:20.472 --> 00:24:22.973\nnumber tells us something\nabout the order of the change.\n\n508\n00:24:22.973 --> 00:24:25.681\nAnd we can then figure out who got\nthere first, who got there second,\n\n509\n00:24:25.681 --> 00:24:27.830\nwho got there third or\nwhatever the case may be.\n\n510\n00:24:27.830 --> 00:24:32.870\nTimestamp again, the updates originating\ntime and date in the universal time or\n\n511\n00:24:32.870 --> 00:24:37.630\nin Universal Time Coordination UTC is\nused to figure out who, did, what, when?\n\n512\n00:24:37.630 --> 00:24:41.461\nSo we're looking at universal time\nstamping along with attribute value in\n\n513\n00:24:41.461 --> 00:24:44.865\nversion numbering attribute value\nto be able to figure that out and\n\n514\n00:24:44.865 --> 00:24:45.790\nthe server grid.\n\n515\n00:24:45.790 --> 00:24:50.344\nThe server grid identifies the domain\ncontroller that performed the originating\n\n516\n00:24:50.344 --> 00:24:54.370\nupdate, so we know which one was\nactually being used, who did it when and\n\n517\n00:24:54.370 --> 00:24:57.370\nwith what specificity in\nterms of the lineage.\n\n518\n00:24:57.370 --> 00:24:59.020\nOr the linkage in terms of order.\n\n519\n00:24:59.020 --> 00:25:01.840\nSo we look at all of these things, and I\nhave a little document that I put together\n\n520\n00:25:01.840 --> 00:25:05.830\nhere for us that will help us just kinda\nvision this if you wanna take a look with\n\n521\n00:25:05.830 --> 00:25:08.510\nme by way of discussing this and\nwrapping this topic up.\n\n522\n00:25:08.510 --> 00:25:12.420\nCommon replication conflicts and\nhow we resolve them, so attribute value.\n\n523\n00:25:13.560 --> 00:25:15.413\nYou could see there's just\nthree things in the chart here.\n\n524\n00:25:15.413 --> 00:25:17.230\nSo pretty easy to keep track of.\n\n525\n00:25:17.230 --> 00:25:18.840\nSo we have an attribute value conflict.\n\n526\n00:25:18.840 --> 00:25:19.705\nWhat do we do?\n\n527\n00:25:19.705 --> 00:25:22.955\nIf we have an add or\nremove under a deleted container object or\n\n528\n00:25:22.955 --> 00:25:25.007\ndeletion of an object, what do we do?\n\n529\n00:25:25.007 --> 00:25:27.982\nAnd if we have an add object with\nthe same relative distinguished name,\n\n530\n00:25:27.982 --> 00:25:31.060\nthe three activities I kinda\ndescribe could potentially happen.\n\n531\n00:25:31.060 --> 00:25:34.900\nSo I gave you a little description of\nhow each resolution state would occur.\n\n532\n00:25:34.900 --> 00:25:37.430\nSo we have an attribute\nvalue conflict here.\n\n533\n00:25:37.430 --> 00:25:40.084\nVersion number of the value is the same,\nbut\n\n534\n00:25:40.084 --> 00:25:45.267\nthe absolute value itself differs excuse\nme, then the time stamp will be evaluated.\n\n535\n00:25:45.267 --> 00:25:46.890\nThe one of three criteria\nthat we talked about.\n\n536\n00:25:46.890 --> 00:25:51.030\nSo, if I have a version number for\nthe value of five and\n\n537\n00:25:51.030 --> 00:25:53.870\nthat's the same, but\nthe attribute itself differs.\n\n538\n00:25:55.730 --> 00:25:59.810\nLet's say, I don't know maybe street\naddress, if we're doing that, right?\n\n539\n00:25:59.810 --> 00:26:02.390\nIt's just one attribute, theory and value.\n\n540\n00:26:02.390 --> 00:26:05.770\nAnd so if we say the street address\nas one, two, three, circle lane.\n\n541\n00:26:05.770 --> 00:26:09.210\nAnd another entry says one,\ntwo, three, circle place.\n\n542\n00:26:09.210 --> 00:26:13.060\nSo the version number is the same but\nthe attribute value is different.\n\n543\n00:26:13.060 --> 00:26:14.040\nWe'd look at timestamp.\n\n544\n00:26:14.040 --> 00:26:16.930\nWho did it and which one was done when.\n\n545\n00:26:16.930 --> 00:26:20.850\nThe update operation with the higher\ntimestamp value replaces the attribute\n\n546\n00:26:20.850 --> 00:26:26.000\nvalue during the update process of\nthe one with the lower timestamp value.\n\n547\n00:26:26.000 --> 00:26:29.620\nSo in other words last entry would\nhave the highest timestamp and\n\n548\n00:26:29.620 --> 00:26:31.400\ntherefore would be\nthe one that we go with.\n\n549\n00:26:31.400 --> 00:26:33.890\nWhoever edited last, in other words wins.\n\n550\n00:26:33.890 --> 00:26:36.280\nIf you think about\nthe logic of that that way.\n\n551\n00:26:36.280 --> 00:26:38.190\nSo here we can see that\nbeing perhaps unfair,\n\n552\n00:26:38.190 --> 00:26:41.540\nfair depending on your point of view\nI guess, if you're the last one in.\n\n553\n00:26:41.540 --> 00:26:42.110\nYou think it's fair.\n\n554\n00:26:42.110 --> 00:26:43.920\nIf you're the first one,\nyou probably don't think it's so fair.\n\n555\n00:26:43.920 --> 00:26:46.400\nBut that's just the way it is, right?\n\n556\n00:26:46.400 --> 00:26:49.390\nSo that's what we do if we have\nan attribute value conflict,\n\n557\n00:26:49.390 --> 00:26:54.140\nhighest timestamp or last object attribute\nvalue being entered is the one we go with.\n\n558\n00:26:55.450 --> 00:27:00.218\nAdding or moving under a deleted container\nmeaning, we delete let's say, an OU and\n\n559\n00:27:00.218 --> 00:27:03.864\nwe add or remove objects under\nthat OU after it's been deleted.\n\n560\n00:27:03.864 --> 00:27:05.109\nBut because of replication,\n\n561\n00:27:05.109 --> 00:27:08.460\nthe outlying domain controller doesn't\nknow it's been delete yet, right?\n\n562\n00:27:08.460 --> 00:27:11.790\nSo that object essentially doesn't\nexist but we're still using it.\n\n563\n00:27:11.790 --> 00:27:15.220\nThat would be a problem, all right,\nhere today gone today or\n\n564\n00:27:15.220 --> 00:27:16.690\nthe deletion of a container object.\n\n565\n00:27:16.690 --> 00:27:20.180\nWe actually delete an object,\nso we delete the OU right but\n\n566\n00:27:20.180 --> 00:27:22.420\nwe don't know we've deleted\nthe OU because again,\n\n567\n00:27:22.420 --> 00:27:25.890\nreplication has not caught up with us on\none or more outlying domain controllers.\n\n568\n00:27:25.890 --> 00:27:29.860\nSo that could also haven't after\nresolution occurs and all the replicas.\n\n569\n00:27:29.860 --> 00:27:31.862\nIn other words,\nafter we get everything organized,\n\n570\n00:27:31.862 --> 00:27:34.610\nAD DS deletes the container object and\n\n571\n00:27:34.610 --> 00:27:39.540\nthe leaf object is made a child of what\nwe call the lost and found container.\n\n572\n00:27:39.540 --> 00:27:43.610\nThe lost and found container is the catch\nall container in the system area,\n\n573\n00:27:43.610 --> 00:27:47.410\nwhere we essentially find these objects\nthat were orphaned, that were created or\n\n574\n00:27:47.410 --> 00:27:49.730\nmodified or\nmoved after we deleted something.\n\n575\n00:27:49.730 --> 00:27:52.400\nWe put them there,\ntimestamps are not used for this.\n\n576\n00:27:52.400 --> 00:27:54.170\nIt's not a matter of when you did it.\n\n577\n00:27:54.170 --> 00:27:55.690\nA deletion is a deletion.\n\n578\n00:27:55.690 --> 00:27:58.430\nAt that point, we add it to the lost and\nfound container, and\n\n579\n00:27:58.430 --> 00:28:00.800\nthat's where those objects\nlive out there life right?\n\n580\n00:28:00.800 --> 00:28:01.440\nSo they wind up there.\n\n581\n00:28:01.440 --> 00:28:04.324\n&gt;&gt; Right, next to all the jackets and\numbrella's.\n\n582\n00:28:04.324 --> 00:28:04.997\nYep, absolutely.\n\n583\n00:28:04.997 --> 00:28:07.450\n&gt;&gt; [LAUGH]\n&gt;&gt; And bandanas.\n\n584\n00:28:07.450 --> 00:28:09.275\n&gt;&gt; You see a lot of\nbandanas there as well.\n\n585\n00:28:09.275 --> 00:28:09.841\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n586\n00:28:09.841 --> 00:28:12.140\nadding objects with the same\nrelative distinguished name.\n\n587\n00:28:12.140 --> 00:28:13.250\nJust the third one down on the list.\n\n588\n00:28:13.250 --> 00:28:15.790\nLet me just scroll so\nwe can see that a little bit easier.\n\n589\n00:28:15.790 --> 00:28:19.080\nRight, so if we add an object with\nthe same relative distinguished name.\n\n590\n00:28:19.080 --> 00:28:20.200\nIn other words, if we go in and\n\n591\n00:28:20.200 --> 00:28:23.960\ntry to add two objects that are named the\nsame, is what we're talking about, right?\n\n592\n00:28:25.020 --> 00:28:26.530\nThe object with the later stamp.\n\n593\n00:28:26.530 --> 00:28:28.590\nAgain, we revert back to timestamp.\n\n594\n00:28:28.590 --> 00:28:31.220\nThe later stamp keeps\nthe relative distinguished name.\n\n595\n00:28:31.220 --> 00:28:35.510\nSo again, last one in is the one that\nactually will be given preference so\n\n596\n00:28:35.510 --> 00:28:37.065\njust be aware of that.\n\n597\n00:28:37.065 --> 00:28:38.985\nAnd the object with the later timestamp.\n\n598\n00:28:38.985 --> 00:28:43.225\nAD DS assigns the sibling objects\na unique relative distinguished name\n\n599\n00:28:43.225 --> 00:28:44.515\nby the domain controller.\n\n600\n00:28:44.515 --> 00:28:47.745\nMeaning, we will not\nget rid of the object,\n\n601\n00:28:47.745 --> 00:28:50.232\nwe truncate not truncate but\nadd to it I should say.\n\n602\n00:28:50.232 --> 00:28:52.702\nWe tag its distinguished name\n\n603\n00:28:52.702 --> 00:28:55.132\nwith some additional characters\nthat show us that it's unique.\n\n604\n00:28:55.132 --> 00:28:58.772\nYou may have seen this with some\nusers where you see +CNF and\n\n605\n00:28:58.772 --> 00:29:01.652\nthen a reserve character or\nthe asterisk typically, and the GUIDs.\n\n606\n00:29:01.652 --> 00:29:04.362\nYou see a user that's normal Cherokee B,\nand\n\n607\n00:29:04.362 --> 00:29:07.142\nthen you see another Cherokee B with\nall this crazy stuff after the name.\n\n608\n00:29:07.142 --> 00:29:09.822\nAnd it goes on,\nit's like 200 characters long.\n\n609\n00:29:09.822 --> 00:29:12.912\nSo if you see that,\nthat means we had an object conflict.\n\n610\n00:29:12.912 --> 00:29:14.960\nTwo objects were added simultaneously.\n\n611\n00:29:14.960 --> 00:29:18.260\nAnd the second object,\nthe one that essentially lost, and right?\n\n612\n00:29:18.260 --> 00:29:22.750\nWas the one that we're gonna keep but\nas the secondary object gets a additional\n\n613\n00:29:22.750 --> 00:29:25.720\nstring added to its name, so\nwe can differentiate between the two.\n\n614\n00:29:25.720 --> 00:29:26.950\n&gt;&gt; Good to know.\n\n615\n00:29:26.950 --> 00:29:30.090\n&gt;&gt; Yep, and so\nit is gonna follow this form right here.\n\n616\n00:29:30.090 --> 00:29:33.680\nWe do have, just to highlight\nspecifically what would occur there,\n\n617\n00:29:33.680 --> 00:29:36.510\nto the relative distinguish\nname we add CNF.\n\n618\n00:29:36.510 --> 00:29:39.650\nRight colon,\nreserve character which is the asterisk,\n\n619\n00:29:39.650 --> 00:29:42.930\nyou'll see CNF asterisk and\nthen the GUID of the object.\n\n620\n00:29:42.930 --> 00:29:45.722\nSo I didn't really, I lied,\nit's not 200 characters,\n\n621\n00:29:45.722 --> 00:29:48.206\nit's like about 35 characters\nthat you see added.\n\n622\n00:29:48.206 --> 00:29:50.584\nBut ultimately,\nit's gonna be a long string and\n\n623\n00:29:50.584 --> 00:29:53.252\nthe username if you extend it\nfully in the interface and\n\n624\n00:29:53.252 --> 00:29:57.080\nlook at it does have that rather long\nadditional criteria associated with it.\n\n625\n00:29:57.080 --> 00:29:58.878\nJust make sure you're aware of that.\n\n626\n00:29:58.878 --> 00:30:00.790\nI definitely wanna look at this document,\n\n627\n00:30:00.790 --> 00:30:03.140\ndefinitely understand\nthe use of timestamps.\n\n628\n00:30:03.140 --> 00:30:08.380\nHow we give preference to what object\nbased on the latest timestamp being used.\n\n629\n00:30:08.380 --> 00:30:11.930\nThat will be important,\nbecause you will be asked about this.\n\n630\n00:30:11.930 --> 00:30:14.535\nAnd this is gonna be\nfair game on the exam.\n\n631\n00:30:14.535 --> 00:30:17.222\nAll right, so you wanna make sure\nyou're familiar with this and\n\n632\n00:30:17.222 --> 00:30:20.030\nhave a sense this would be really,\nreally important to know.\n\n633\n00:30:20.030 --> 00:30:23.110\nRight, we've talked about schema and\nconfiguration partition and\n\n634\n00:30:23.110 --> 00:30:24.420\nreplication of those.\n\n635\n00:30:24.420 --> 00:30:26.653\nWe've talked about how\nthey are replicated.\n\n636\n00:30:26.653 --> 00:30:29.559\nWe've talked about the global catalog,\nlittle bit on how that works and\n\n637\n00:30:29.559 --> 00:30:31.520\njust looking at some things\nthat are in my notes.\n\n638\n00:30:31.520 --> 00:30:33.090\nWe wanna make sure we talk about with you.\n\n639\n00:30:33.090 --> 00:30:36.370\nBut we've talked about the value\nof the global catalog as well,\n\n640\n00:30:36.370 --> 00:30:37.410\nthat takes us up to.\n\n641\n00:30:38.480 --> 00:30:41.022\nWe don't need domain controllers and\nas I promised you we're gonna do\n\n642\n00:30:41.022 --> 00:30:42.884\nan installation of real\nin domain controller but.\n\n643\n00:30:42.884 --> 00:30:43.845\n&gt;&gt; [LAUGH]\n&gt;&gt; We are out of time,\n\n644\n00:30:43.845 --> 00:30:44.960\nare we [INAUDIBLE]\n&gt;&gt; Yeah, we have.\n\n645\n00:30:44.960 --> 00:30:46.970\nWe've covered a lot so\nfar in this episode.\n\n646\n00:30:46.970 --> 00:30:50.290\nWe've looked at notifications,\nthe KDC, pulling and a lot more.\n\n647\n00:30:50.290 --> 00:30:54.320\nSo, we do have additional information\nheaded your way, stay tuned for that.\n\n648\n00:30:54.320 --> 00:30:56.150\nFor this show,\nwe're gonna go ahead and sign out.\n\n649\n00:30:56.150 --> 00:30:59.200\nRemember, I'm your host Cherokee Boose,\n&gt;&gt; I am Adam Gordon.\n\n650\n00:30:59.200 --> 00:31:02.865\n&gt;&gt; See you next time here, ITProTV.\n\n651\n00:31:02.865 --> 00:31:08.680\n[MUSIC]\n\n652\n00:31:08.680 --> 00:31:11.627\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "224334240"
        },
        {
          "description": "In this show, Cherokee and Adam kick off the show explaining how read only domain controllers replicate. Next, Adam demonstrates how to create a read only domain controller via the wizard. SYSVOL was introduced as well.",
          "length": "1268",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-3-ad_ds_sites_and_replication_pt3-070117-PGM.00_00_11_28.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-3-ad_ds_sites_and_replication_pt3-070117-PGM.00_00_11_28.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-3-ad_ds_sites_and_replication_pt3-070117-PGM.00_00_11_28.Still001-sm.jpg",
          "title": "AD DS Sites and Replication Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:06.364\nWelcome to ITPro.TV,\nI'm your host Don Pezet [CROSSTALK]\n\n2\n00:00:06.364 --> 00:00:08.247\n[MUSIC]\n\n3\n00:00:08.247 --> 00:00:15.108\n&gt;&gt; You're watching ITPro.TV\n&gt;&gt; Welcome to your MCSA 70- 412 Series.\n\n4\n00:00:15.108 --> 00:00:17.074\nI'm your show host, Cherokee Boose.\n\n5\n00:00:17.074 --> 00:00:21.008\nIn this episode, we're back to\nbring you some more ADDS, Site and\n\n6\n00:00:21.008 --> 00:00:23.090\nReplication Information.\n\n7\n00:00:23.090 --> 00:00:24.970\nWith us today, we have Mr. Adam Gordon.\n\n8\n00:00:24.970 --> 00:00:26.417\nHow are you, Adam?\n\n9\n00:00:26.417 --> 00:00:29.573\n&gt;&gt; I'm doing well, looking forward to yet\nanother exciting and\n\n10\n00:00:29.573 --> 00:00:33.440\nfun-filled episode of\nRead Only Domain Controller Replication.\n\n11\n00:00:33.440 --> 00:00:37.520\nWe've been promising it for you for all\nof these discussions, and it is now here.\n\n12\n00:00:37.520 --> 00:00:38.370\nCan you imagine that?\n\n13\n00:00:38.370 --> 00:00:40.000\nAll that time and we're finally here.\n\n14\n00:00:40.000 --> 00:00:42.290\n&gt;&gt; See, this is where we're missing,\nthat drum roll right now.\n\n15\n00:00:42.290 --> 00:00:42.990\n&gt;&gt; We need that.\n&gt;&gt; [LAUGH]\n\n16\n00:00:42.990 --> 00:00:44.087\n&gt;&gt; I'm gonna have to sit down,\n\n17\n00:00:44.087 --> 00:00:46.150\nI'm so shocked, I don't know what to say.\n\n18\n00:00:46.150 --> 00:00:47.780\nSo we're gonna continue our discussion.\n\n19\n00:00:47.780 --> 00:00:51.054\nLet's talk about read only domain\ncontroller replication, how it works.\n\n20\n00:00:51.054 --> 00:00:52.882\nAnd we're actually gonna do\na little demo for you, and\n\n21\n00:00:52.882 --> 00:00:54.650\nshow you how to set up a read\nonly domain controller.\n\n22\n00:00:54.650 --> 00:00:56.510\nOne of those things you may use,\nbut you may not.\n\n23\n00:00:56.510 --> 00:00:57.920\nIt really just depends.\n\n24\n00:00:57.920 --> 00:01:00.025\nWe've talked about it a couple\nof different episodes,\n\n25\n00:01:00.025 --> 00:01:02.235\nthe reasons why we'd want\na read only domain controller.\n\n26\n00:01:02.235 --> 00:01:06.154\nIt's gonna be a domain controller that\nperhaps sits in the periphery somewhere in\n\n27\n00:01:06.154 --> 00:01:07.215\na remote office.\n\n28\n00:01:07.215 --> 00:01:10.765\nAnd everyone may not have\nthe proper oversight security or\n\n29\n00:01:10.765 --> 00:01:14.525\ncoverage to maintain the viability\nof the Active Directory fully.\n\n30\n00:01:14.525 --> 00:01:18.065\nYet we do still have a need to be\nable to authenticate users, and\n\n31\n00:01:18.065 --> 00:01:21.295\ndeal with the ability to have\nthem log on and do that there.\n\n32\n00:01:21.295 --> 00:01:23.080\nBecause of bandwidth issues, perhaps,\n\n33\n00:01:23.080 --> 00:01:26.149\nwe don't have the ability to have\nthem travel back to the central core.\n\n34\n00:01:26.149 --> 00:01:30.758\nAnd as a result, wanna be able to provide\nthat domain controller capability on-site.\n\n35\n00:01:30.758 --> 00:01:34.969\nBut we're worried about the security and\nthe viability of the domain credentials.\n\n36\n00:01:34.969 --> 00:01:39.398\nSo we'd use a read only domain controller\nto do this, allows no replication of\n\n37\n00:01:39.398 --> 00:01:43.236\nchains that originate locally in\nthe read only domain controller.\n\n38\n00:01:43.236 --> 00:01:48.048\nOnly brings in chains that are replicated\nfrom copies of the domain information that\n\n39\n00:01:48.048 --> 00:01:49.414\nare stored elsewhere.\n\n40\n00:01:49.414 --> 00:01:53.750\nSo in other words, we pull down the\nchanges from a replication partner that is\n\n41\n00:01:53.750 --> 00:01:56.833\ngoing to be fully managed and\nis readable, writable.\n\n42\n00:01:56.833 --> 00:02:00.570\nBut in the read only domain controller,\nall we're doing is simply using those.\n\n43\n00:02:00.570 --> 00:02:04.170\nWe have no administrative capabilities,\nno ability to add users,\n\n44\n00:02:04.170 --> 00:02:06.540\nmodify objects,\ndo anything in any way there.\n\n45\n00:02:06.540 --> 00:02:09.557\nWe could simply see what\nthe changes are and utilize them.\n\n46\n00:02:09.557 --> 00:02:13.100\nBut no ability to modify or\nmake changes directly locally.\n\n47\n00:02:13.100 --> 00:02:15.510\nSo if anybody were to gain\ncontrol of that server,\n\n48\n00:02:15.510 --> 00:02:17.670\nthere would be no way they could add,\nmodify,\n\n49\n00:02:17.670 --> 00:02:22.290\nremove or in any way change permissions,\npasswords, anything like that.\n\n50\n00:02:22.290 --> 00:02:25.712\nNone of that is gonna be taking place,\ninstead they would be stuck with\n\n51\n00:02:25.712 --> 00:02:29.118\nessentially a static copy that\nreally doesn't do them any good.\n\n52\n00:02:29.118 --> 00:02:32.320\nWe encrypt the data there, so as a result,\nif somebody were to steal the read\n\n53\n00:02:32.320 --> 00:02:35.339\nonly domain controller physically,\nliterally just run away with it.\n\n54\n00:02:35.339 --> 00:02:38.017\nWhile they would in theory\nhave a copy of stuff, and\n\n55\n00:02:38.017 --> 00:02:40.019\nthey would physically possess that.\n\n56\n00:02:40.019 --> 00:02:43.101\nIt probably would not do them a lot of\ngood because it's highly unlikely they'd\n\n57\n00:02:43.101 --> 00:02:45.817\nbe able to break the encryption to\nactually get information out of that\n\n58\n00:02:45.817 --> 00:02:46.797\nsystem that was usable.\n\n59\n00:02:46.797 --> 00:02:51.183\nSo, for all those reasons it presents\nitself, as a very good solution but\n\n60\n00:02:51.183 --> 00:02:55.429\none that we obviously have to think\nabout and manage and use sparingly,\n\n61\n00:02:55.429 --> 00:02:58.426\njudiciously in situations\nwhere it makes sense.\n\n62\n00:02:58.426 --> 00:03:00.711\nAnd not just scatter\nthese around everywhere,\n\n63\n00:03:00.711 --> 00:03:04.195\ncuz we think it's a good idea and\nwe have potentially a misunderstanding\n\n64\n00:03:04.195 --> 00:03:07.236\nof the value of what the read\nonly domain controller provides.\n\n65\n00:03:07.236 --> 00:03:12.645\nWe don't pull changes, in other words from\nthe RODC, we only push changes down to it.\n\n66\n00:03:12.645 --> 00:03:13.705\nAnd as a result,\n\n67\n00:03:13.705 --> 00:03:18.075\nit becomes a very limited partner in the\noverall replication cycle in what we do.\n\n68\n00:03:18.075 --> 00:03:21.515\nIt's a one way solution that really\nis used just as a dumping ground for\n\n69\n00:03:21.515 --> 00:03:22.145\ninformation.\n\n70\n00:03:22.145 --> 00:03:25.134\nBut no longer as a value add\nwhere we can modify on the spot.\n\n71\n00:03:25.134 --> 00:03:26.991\nJust wanna make sure we're aware of that.\n\n72\n00:03:26.991 --> 00:03:28.780\nWhen we implement an RODC, the KCC,\n\n73\n00:03:28.780 --> 00:03:31.739\nthe knowledge consistency\nchecker as we've talked about.\n\n74\n00:03:31.739 --> 00:03:36.029\nDetects that the domain controller is\nconfigured as a read only replica, and\n\n75\n00:03:36.029 --> 00:03:40.847\nas a result of that, does not create these\nextensible connection objects that force,\n\n76\n00:03:40.847 --> 00:03:42.572\nor allow two way replication.\n\n77\n00:03:42.572 --> 00:03:45.573\nBut rather creates a one\nway only connection object\n\n78\n00:03:45.573 --> 00:03:48.241\nthat allows us to pull\ndown the information.\n\n79\n00:03:48.241 --> 00:03:51.026\nBut does not allow us to push\ninformation out going the other way.\n\n80\n00:03:51.026 --> 00:03:55.530\nSo we do adjust for that in real time\nas well, so just keep that in mind.\n\n81\n00:03:55.530 --> 00:03:58.782\nThings like being able\nto do password changes,\n\n82\n00:03:58.782 --> 00:04:03.434\nbeing able to do DNS updates,\nupdates from different attributes.\n\n83\n00:04:03.434 --> 00:04:06.956\nThese are replicated down into the read\nonly domain controller, but remember,\n\n84\n00:04:06.956 --> 00:04:08.280\nnot originating from it.\n\n85\n00:04:08.280 --> 00:04:10.873\nSo I just wanna make sure we're aware\nof that or we're thinking about that.\n\n86\n00:04:10.873 --> 00:04:13.067\nAll right, so let's take a look at\nhow we actually create a read only\n\n87\n00:04:13.067 --> 00:04:13.770\ndomain controller.\n\n88\n00:04:13.770 --> 00:04:15.807\nI thought that it'd be good to just\nwalk you through the process here.\n\n89\n00:04:15.807 --> 00:04:20.799\nI went ahead and just pre-loaded the basic\nbackground information we need to\n\n90\n00:04:20.799 --> 00:04:23.500\nkickstart an Active Directory install.\n\n91\n00:04:23.500 --> 00:04:26.703\nYou see me do this in other episodes,\nso I didn't think it was worthwhile for\n\n92\n00:04:26.703 --> 00:04:28.667\nus to spend time waiting for\nit to happen here.\n\n93\n00:04:28.667 --> 00:04:32.153\nBut I went into the graphical interface\nhere, went to Server Manager,\n\n94\n00:04:32.153 --> 00:04:34.780\nwent to Manage,\nwent to Add/Remove Features.\n\n95\n00:04:34.780 --> 00:04:38.010\nWent ahead and chose ADDS and\nconfigured it.\n\n96\n00:04:38.010 --> 00:04:41.545\nAccepted all the additional dependencies,\nran that part of it already.\n\n97\n00:04:41.545 --> 00:04:44.040\nGot to the point,\nwhere we've done the prep work, and\n\n98\n00:04:44.040 --> 00:04:47.200\nnow have our link here to promote\nthis server to a domain controller.\n\n99\n00:04:47.200 --> 00:04:50.607\nWe're gona run now from this point,\nand actually continue on.\n\n100\n00:04:50.607 --> 00:04:52.272\nAnd this is where we're gonna pick up, so\n\n101\n00:04:52.272 --> 00:04:54.665\nthat way we can configure our\nread only domain controller.\n\n102\n00:04:54.665 --> 00:04:58.204\nSo we're gonna click here,\ngive this just a moment.\n\n103\n00:04:58.204 --> 00:05:02.981\nWe get our ADDS configuration wizard,\nyou've seen this before.\n\n104\n00:05:02.981 --> 00:05:05.710\nWe're gonna specify here\nwhat we're gonna do.\n\n105\n00:05:05.710 --> 00:05:08.805\nWe're gonna go ahead and add a domain\ncontroller to an existing domain.\n\n106\n00:05:08.805 --> 00:05:11.210\nSo we're gonna go ahead and\ndo that, we have that here.\n\n107\n00:05:11.210 --> 00:05:16.322\nGonna specify our domain name,\nour domain name is practicelabs.com.\n\n108\n00:05:16.322 --> 00:05:23.000\nSo let's go ahead and\ndo that, practicelabs.com.\n\n109\n00:05:23.000 --> 00:05:26.250\nAnd we could go out, by the way,\nand do a select here.\n\n110\n00:05:26.250 --> 00:05:28.662\nWe'd have to provide our\ncredentials to get in.\n\n111\n00:05:28.662 --> 00:05:32.030\nBut we could go do a select if\nwe wanted to, and do that also.\n\n112\n00:05:32.030 --> 00:05:34.794\nYou'll see the reason we have\nto provide our credentials here,\n\n113\n00:05:34.794 --> 00:05:37.109\nis that we do not have any\ncredentials selected here.\n\n114\n00:05:37.109 --> 00:05:40.060\nRight, so we're gonna click Change,\nprovide the credential, so\n\n115\n00:05:40.060 --> 00:05:41.370\nthat we actually can do that.\n\n116\n00:05:41.370 --> 00:05:42.400\nJust so you know what that is.\n\n117\n00:05:42.400 --> 00:05:47.503\nSo we're gonna provide our credential,\npracticelabs,\n\n118\n00:05:47.503 --> 00:05:54.948\nand then administrator I'm\n\n119\n00:05:54.948 --> 00:05:58.840\njust turning off the Caps Lock, so make\nsure we put our password in the right way.\n\n120\n00:05:58.840 --> 00:06:02.486\nPut in our password, and\nthen provide that there, so\n\n121\n00:06:02.486 --> 00:06:07.927\nthat we can now have that credential, and\nit will become available to us to use.\n\n122\n00:06:07.927 --> 00:06:12.450\nSo we're gonna do that, and then we're\ngonna go ahead, we're gonna click Next.\n\n123\n00:06:12.450 --> 00:06:15.560\nAnd as soon as we validate that, and\nwe get to domain controller here.\n\n124\n00:06:15.560 --> 00:06:16.860\nIt's grayed out, but\nyou will see in the middle,\n\n125\n00:06:16.860 --> 00:06:19.040\none of the options is read\nonly domain controller.\n\n126\n00:06:19.040 --> 00:06:21.964\nWe could check that off, and that will\nmake this domain controller instance\n\n127\n00:06:21.964 --> 00:06:24.531\na read only domain controller,\nand that's what we're gonna do.\n\n128\n00:06:24.531 --> 00:06:26.677\nSo I'm gonna select that in just a minute.\n\n129\n00:06:29.863 --> 00:06:32.147\nAnd there we go, check that off.\n\n130\n00:06:32.147 --> 00:06:35.548\nRemember, I talked about the default\nfirst site name being the default name of\n\n131\n00:06:35.548 --> 00:06:36.870\nthe first site created.\n\n132\n00:06:36.870 --> 00:06:39.099\nI said I would show that to you and\nremind you where it was.\n\n133\n00:06:39.099 --> 00:06:42.709\nYou'll see right here, default first\nsite name site is our site name, and\n\n134\n00:06:42.709 --> 00:06:45.131\nthat's the only option we\nhave there by default.\n\n135\n00:06:45.131 --> 00:06:48.765\nWe have to provide our password for\ndirectory services restore mode.\n\n136\n00:06:50.622 --> 00:06:51.982\nSo we're gonna provide that.\n\n137\n00:06:55.546 --> 00:06:57.560\nPut that in, as well.\n\n138\n00:06:57.560 --> 00:06:59.710\nThen we have our RODC options.\n\n139\n00:06:59.710 --> 00:07:02.200\nWe have to specify, and\nwe haven't seen these before.\n\n140\n00:07:02.200 --> 00:07:05.700\nWe have to specify our read\nonly domain controller options.\n\n141\n00:07:05.700 --> 00:07:07.090\nSo we're gonna go ahead and\n\n142\n00:07:07.090 --> 00:07:10.590\nspecify what the delegated\nadministrator account will be.\n\n143\n00:07:10.590 --> 00:07:12.660\nAccounts that are denied from replicating.\n\n144\n00:07:12.660 --> 00:07:15.470\nPasswords for the RODC are specified here.\n\n145\n00:07:15.470 --> 00:07:18.900\nAccounts that are allowed to replicate\npasswords are specified here.\n\n146\n00:07:18.900 --> 00:07:22.680\nWe have a group called the allowed\nRODC passwords replication group\n\n147\n00:07:22.680 --> 00:07:23.940\nthat will be used.\n\n148\n00:07:23.940 --> 00:07:27.735\nSo we're gonna go ahead,\nand we're going to specify,\n\n149\n00:07:27.735 --> 00:07:31.543\nor I'm gonna go in specify\nthe account that I wanna use.\n\n150\n00:07:31.543 --> 00:07:35.410\nSo let me go in, and let me select\na delegated administrator account.\n\n151\n00:07:35.410 --> 00:07:37.750\nI'm just looking up the name I\nhave to use based on my notes.\n\n152\n00:07:37.750 --> 00:07:41.409\nAll right, so I'm gonna use\nJan's account here, so jan dot.\n\n153\n00:07:43.964 --> 00:07:48.384\nJust one of the users we have in our lab\nenvironment, specify that user account,\n\n154\n00:07:48.384 --> 00:07:51.114\nclick OK, and\nspecify that that will be an account\n\n155\n00:07:51.114 --> 00:07:54.441\nthat is given rights to administer\nthis domain controller.\n\n156\n00:07:54.441 --> 00:07:58.008\nSo it will be maybe the person on the\nground locally, maybe the IT professional,\n\n157\n00:07:58.008 --> 00:08:01.577\nor whoever we decide we wanna give rights\nto administer this domain controller in\n\n158\n00:08:01.577 --> 00:08:04.681\nthe read only environment,\nin the branch office, or wherever it is.\n\n159\n00:08:04.681 --> 00:08:07.069\nThat's the person whose account\nwe're gonna specify here.\n\n160\n00:08:07.069 --> 00:08:09.167\nSo, we're gonna add that person in.\n\n161\n00:08:09.167 --> 00:08:12.462\nWe're gonna go ahead, and\nthen we are going to go through and\n\n162\n00:08:12.462 --> 00:08:15.750\njust kind of go through the next\ncouple of screens here.\n\n163\n00:08:15.750 --> 00:08:18.150\nBut obviously,\nif we wanted to add additional accounts,\n\n164\n00:08:18.150 --> 00:08:19.490\nwe would specify them.\n\n165\n00:08:19.490 --> 00:08:21.230\nSo click Next.\n\n166\n00:08:21.230 --> 00:08:23.849\nSpecify, install for media.\n\n167\n00:08:23.849 --> 00:08:27.996\nIf we're gonna do an install for\nmedia and or replicate from we could\n\n168\n00:08:27.996 --> 00:08:32.451\nhave backed up our Active Directory\nfile of sys file or NTDS.dit files.\n\n169\n00:08:32.451 --> 00:08:35.750\nCould have done a system state back up,\nin other words, on Active Directory.\n\n170\n00:08:35.750 --> 00:08:38.460\nHave that stored on media,\nand then bring that in and\n\n171\n00:08:38.460 --> 00:08:42.320\nload the AD to this read-only domain\ncontroller directly from media.\n\n172\n00:08:42.320 --> 00:08:44.470\nThat's what install from media is for.\n\n173\n00:08:44.470 --> 00:08:48.020\nIn highly secured environments,\nwhere we have to tightly control that, and\n\n174\n00:08:48.020 --> 00:08:52.140\nor in require environments were\nbanned with this at a premium.\n\n175\n00:08:52.140 --> 00:08:55.740\nLow connectivity, high latency and\nthe AD is very big.\n\n176\n00:08:55.740 --> 00:08:59.420\nThe initial replication will be very\nlarge, time consuming and expensive.\n\n177\n00:08:59.420 --> 00:09:00.145\n&gt;&gt; We can forego that.\n\n178\n00:09:00.145 --> 00:09:01.020\n&gt;&gt; We may not wanna do that.\n\n179\n00:09:01.020 --> 00:09:04.995\nWe could essentially say, don't replicate\nfrom any domain controller over the wire.\n\n180\n00:09:04.995 --> 00:09:06.790\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; But rather install from media.\n\n181\n00:09:06.790 --> 00:09:07.900\nSo that's what we are talking about.\n\n182\n00:09:07.900 --> 00:09:09.490\nThey're not what you maybe thinking of.\n\n183\n00:09:09.490 --> 00:09:12.450\nI'm gonna get up my Window Server\n12 R2 disk and installed.\n\n184\n00:09:12.450 --> 00:09:13.320\nWe've already got that.\n\n185\n00:09:13.320 --> 00:09:17.090\nWe don't need that, cuz I have\nalready a working copy of the OS here.\n\n186\n00:09:17.090 --> 00:09:20.520\nThis is really install from\nthe system's stayed back up\n\n187\n00:09:20.520 --> 00:09:24.130\nthe version of the AD that were gonna\nuse that's stored to an external media.\n\n188\n00:09:24.130 --> 00:09:26.320\nA components of some kind, so\nthat's what we can do here.\n\n189\n00:09:26.320 --> 00:09:28.100\nWe've been able to do that for\nsome of generations.\n\n190\n00:09:28.100 --> 00:09:30.810\nThis is not new to 12 R2, but\njust something that you may or\n\n191\n00:09:30.810 --> 00:09:31.940\nmay not be familiar with.\n\n192\n00:09:31.940 --> 00:09:33.650\nSo, I just wanna point that out to you.\n\n193\n00:09:34.770 --> 00:09:37.660\nYou'll notice here, we can either just\nchoose any domain controller that\n\n194\n00:09:37.660 --> 00:09:40.770\nmay be available based on\ncommunication and connectivity.\n\n195\n00:09:40.770 --> 00:09:42.990\nWe can hard code a certain\ndomain controller.\n\n196\n00:09:42.990 --> 00:09:46.100\nIn our environment one domain controller,\nonly it's essentially the same thing,\n\n197\n00:09:46.100 --> 00:09:48.260\nwhether I chose any or\nI hard code that one.\n\n198\n00:09:48.260 --> 00:09:51.840\nBut the idea is that, the system will go\nout, communicate, use DNS lookups and\n\n199\n00:09:51.840 --> 00:09:54.842\nSRV records to find domain controllers,\ncommunicate with them.\n\n200\n00:09:54.842 --> 00:09:58.250\nAnd based on an assessment of\nthe communication pathways,\n\n201\n00:09:58.250 --> 00:10:01.330\nwe'll take a look at which\none is most likely viable.\n\n202\n00:10:01.330 --> 00:10:02.160\nAnd that's the one we'll go with.\n\n203\n00:10:02.160 --> 00:10:04.140\nSo it's up to us to kind\nof figure that out.\n\n204\n00:10:04.140 --> 00:10:06.020\nWe'll accept the default here,\nno big deal.\n\n205\n00:10:06.020 --> 00:10:09.280\nBut, if we were doing this whole,\nhey, let's install for media thing,\n\n206\n00:10:09.280 --> 00:10:12.394\nwe'd obviously then at that point\nhave provide this external media.\n\n207\n00:10:12.394 --> 00:10:16.678\nNow, we could do that from a share in the\nlocal branch office maybe on a file server\n\n208\n00:10:16.678 --> 00:10:20.410\nwhere we've placed that backup,\nso it would be local on the LAN.\n\n209\n00:10:20.410 --> 00:10:24.890\nWe could do it off an external USB device,\nmaybe burn it to a DVD, CD ROM,\n\n210\n00:10:24.890 --> 00:10:26.170\nwho knows what.\n\n211\n00:10:26.170 --> 00:10:29.080\nI would say floppy but that would\nabsolutely ridiculous and crazy, so\n\n212\n00:10:29.080 --> 00:10:29.930\nwe wouldn't do that.\n\n213\n00:10:29.930 --> 00:10:32.065\nBut you know what I'm talking about,\nright, we have options here.\n\n214\n00:10:32.065 --> 00:10:35.755\nAll right, so we're gonna leave\nthat alone, we're gonna click Next.\n\n215\n00:10:35.755 --> 00:10:38.610\nExcept our default paths for installation.\n\n216\n00:10:38.610 --> 00:10:41.540\nWe've been through these in one of\nthe other demos, the NTSD directory,\n\n217\n00:10:41.540 --> 00:10:43.920\nthe log files and of course the sys vault.\n\n218\n00:10:43.920 --> 00:10:45.574\nSo we're gonna click Next there.\n\n219\n00:10:45.574 --> 00:10:47.340\nGet a review here of what we're doing.\n\n220\n00:10:47.340 --> 00:10:49.260\nRemember, I've encouraged\nyou to look at the script.\n\n221\n00:10:49.260 --> 00:10:52.670\nLearn a little bit more about PowerShell\nand how that works, so we could see that.\n\n222\n00:10:52.670 --> 00:10:54.240\nClick Next, we do our pre req check.\n\n223\n00:10:54.240 --> 00:10:57.280\nThis is standard, you've seen this,\ncouple of different walk-throughs and\n\n224\n00:10:57.280 --> 00:10:58.490\ndemonstrations.\n\n225\n00:10:58.490 --> 00:11:00.900\nAll pre req checks have passed.\n\n226\n00:11:00.900 --> 00:11:03.179\nWe do have some warnings here,\nno big deal.\n\n227\n00:11:03.179 --> 00:11:05.811\nThey're not gonna stop us from doing this,\nso we're gonna go ahead, and\n\n228\n00:11:05.811 --> 00:11:07.230\nwe're gonna click install.\n\n229\n00:11:07.230 --> 00:11:08.660\nWe're gonna let that run and do its thing.\n\n230\n00:11:09.870 --> 00:11:10.507\nExcuse me.\n\n231\n00:11:10.507 --> 00:11:14.230\nWaiting for DNS installation to finish,\nso we're already off and running.\n\n232\n00:11:14.230 --> 00:11:16.440\nOnce this is done, and\nit may take a few minutes.\n\n233\n00:11:16.440 --> 00:11:19.220\nBut once this is done,\nwe will automatically restart.\n\n234\n00:11:19.220 --> 00:11:21.000\nJust like we've been\ndoing in the other demos.\n\n235\n00:11:21.000 --> 00:11:23.895\nIt'll go down and come back up, and\nthen we'll be able to log in and\n\n236\n00:11:23.895 --> 00:11:25.883\nhave the domain controller\navailable to us.\n\n237\n00:11:25.883 --> 00:11:27.962\nSo, we're gonna let that happen.\n\n238\n00:11:27.962 --> 00:11:30.750\nWe're gonna wait for it and then you're\ngonna come back and join us, and\n\n239\n00:11:30.750 --> 00:11:32.350\nsee it already logged back in and\nready to go.\n\n240\n00:11:32.350 --> 00:11:35.280\nSo we'll take just a minute for\nthat to occur behind the scenes.\n\n241\n00:11:35.280 --> 00:11:39.680\nAnd, when you join us again, you'll\nsee it's already set up, ready to go.\n\n242\n00:11:39.680 --> 00:11:41.670\nAll right, so\nwe're gonna take a look back here now.\n\n243\n00:11:41.670 --> 00:11:47.685\nWe've logged back in through the magic\nof modern ITProTV production.\n\n244\n00:11:47.685 --> 00:11:51.035\nAnd of course,\nthe magic of Microsoft's ADDS service.\n\n245\n00:11:51.035 --> 00:11:53.775\nWe've gone ahead, we've installed\nour read-only domain controller.\n\n246\n00:11:53.775 --> 00:11:55.355\nLog off, log back in.\n\n247\n00:11:55.355 --> 00:11:58.875\nI just went ahead and open up the Azure\nDirectory user in computer console.\n\n248\n00:11:58.875 --> 00:12:01.745\nAnd we can see practicelabs.com,\nour domain is there.\n\n249\n00:12:01.745 --> 00:12:03.535\nWe're on the domain controller's OU.\n\n250\n00:12:03.535 --> 00:12:09.285\nWe do see our original domain controller\nPLABDC01 specified as a DC type GC,\n\n251\n00:12:09.285 --> 00:12:10.470\nglobal catalog.\n\n252\n00:12:10.470 --> 00:12:16.120\nWe do now see our PLABSA01, the machine we\nwere just adding, as a domain controller.\n\n253\n00:12:16.120 --> 00:12:19.830\nIt is a global catalog, but\nnotice it is also tagged as read-only.\n\n254\n00:12:19.830 --> 00:12:22.450\nThat is our read-only domain\ncontroller that we just installed.\n\n255\n00:12:22.450 --> 00:12:23.900\nAnd so we could see that here.\n\n256\n00:12:23.900 --> 00:12:27.262\nBoth are members of the default first\nsite named site, as you can see.\n\n257\n00:12:27.262 --> 00:12:31.110\nAnd we have both of those domain\ncontrollers available to us.\n\n258\n00:12:31.110 --> 00:12:34.160\nSo that's how we add\na read-only domain controller.\n\n259\n00:12:35.300 --> 00:12:39.110\nI did mentioned to you when we were\ntalking that the Active Directory Sites\n\n260\n00:12:39.110 --> 00:12:44.390\nand Services tool would be valuable for\nus to go into, take a look at and\n\n261\n00:12:44.390 --> 00:12:49.410\naccess if we wanted to see things like\nour connection objects for replication.\n\n262\n00:12:49.410 --> 00:12:52.586\nSo, just gonna open that up here.\n\n263\n00:12:52.586 --> 00:12:55.930\nAnd just go in and take a look real quick,\nso we can see what's going on.\n\n264\n00:12:55.930 --> 00:12:57.140\nAnd actually what I'll do, there we go.\n\n265\n00:12:57.140 --> 00:12:58.510\nI was gonna say, I'll open it here, but\n\n266\n00:12:58.510 --> 00:13:00.230\nI'll open it on the other\ndomain controller as well.\n\n267\n00:13:00.230 --> 00:13:01.220\nBut we'll go over there.\n\n268\n00:13:01.220 --> 00:13:07.300\nBut you can see here under, let's move\nthis over, if I could just grab that.\n\n269\n00:13:09.687 --> 00:13:10.940\nOr maybe not.\n\n270\n00:13:10.940 --> 00:13:13.073\n&gt;&gt; I think we should start a video game.\n\n271\n00:13:13.073 --> 00:13:14.072\n&gt;&gt; Trying to get, there we go.\n\n272\n00:13:14.072 --> 00:13:14.887\n&gt;&gt; Yeah, yeah.\n[LAUGH]\n\n273\n00:13:14.887 --> 00:13:15.807\n&gt;&gt; Just trying to get,\n\n274\n00:13:15.807 --> 00:13:20.060\nit's just so random, cuz sometimes you'll\nget the black double sided arrows.\n\n275\n00:13:20.060 --> 00:13:21.328\nLike you see, I'm not getting those,\n\n276\n00:13:21.328 --> 00:13:23.220\nI have no idea if I'm\nactually on the line or not.\n\n277\n00:13:23.220 --> 00:13:24.623\nIt's just, yeah, it is totally random.\n\n278\n00:13:24.623 --> 00:13:29.612\nAll right, so Active Directory sites and\nservices PLABDC01 practicelabs.com.\n\n279\n00:13:29.612 --> 00:13:33.290\nSo you'll see our sites here\nare default first site, name site.\n\n280\n00:13:33.290 --> 00:13:35.650\nLet's just click there to open that up.\n\n281\n00:13:35.650 --> 00:13:39.042\nThere's our servers, there's our\ntwo domain controllers right there.\n\n282\n00:13:39.042 --> 00:13:45.180\nPLABDC01 PLABSA01, under NTDS setting,\nremember we said, we would go and\n\n283\n00:13:45.180 --> 00:13:49.840\nwe would be able to see our connection\nobjects if there was one and\n\n284\n00:13:49.840 --> 00:13:54.280\nyou can see there,\nour RODC connection object.\n\n285\n00:13:54.280 --> 00:13:58.470\nThat is the KCC, the Knowledge Consistency\nChecker, that's run behind the scenes.\n\n286\n00:13:58.470 --> 00:14:03.210\nCreated that read-only domain controller,\none way connection object to do\n\n287\n00:14:03.210 --> 00:14:06.600\nthe replication that we talked about,\nand we can see evidence of that there.\n\n288\n00:14:06.600 --> 00:14:11.550\nNotice we did not have a connection\nobject on the main domain controller.\n\n289\n00:14:11.550 --> 00:14:16.220\nBecause remember, we're creating this as a\none way object that comes out of the RODC,\n\n290\n00:14:16.220 --> 00:14:19.690\ngoes up the to the primary\ndomain controller, and\n\n291\n00:14:19.690 --> 00:14:23.350\nallows the primary domain controller\nto push changes down, right?\n\n292\n00:14:23.350 --> 00:14:26.570\nBut, we're not going the other way, so\nwe only see one connection object even\n\n293\n00:14:26.570 --> 00:14:29.920\nthough we have two domain controllers,\nbecause it only has to be there for\n\n294\n00:14:29.920 --> 00:14:34.090\na one way action for us to push changes\ndown to the read-only domain controller.\n\n295\n00:14:34.090 --> 00:14:36.880\nReally domain controllers not\ninitiating changes and therefore,\n\n296\n00:14:36.880 --> 00:14:38.490\ndoesn't have to be able\nto publish them up.\n\n297\n00:14:38.490 --> 00:14:39.994\nSo we always see a one-sided connection.\n\n298\n00:14:39.994 --> 00:14:44.170\nAnd that's what we were talking about and\nindeed, we actually can see that here.\n\n299\n00:14:44.170 --> 00:14:48.130\nWe do see where we're getting it from,\nfrom PLABDC01, right, and\n\n300\n00:14:48.130 --> 00:14:52.000\nwe could see that, that is the direction\nand type of connection we have there.\n\n301\n00:14:52.000 --> 00:14:55.050\nSo, we had talked about that earlier\nas we were going through this, but\n\n302\n00:14:55.050 --> 00:14:56.310\nnow you can actually see evidence of it.\n\n303\n00:14:56.310 --> 00:14:59.870\nI had said once we actually went in,\nset up the RODC and\n\n304\n00:14:59.870 --> 00:15:03.730\nhad a secondary domain controller that we\ncould actually form a connection with,\n\n305\n00:15:03.730 --> 00:15:07.460\nthat we would see this and be able\nto understand it, and indeed we do.\n\n306\n00:15:07.460 --> 00:15:10.496\nSee, I never tell half truths or\na lie, I always tell you the truth,\n\n307\n00:15:10.496 --> 00:15:13.876\njust a matter of making sure we have\nenough time in the episode to get there.\n\n308\n00:15:13.876 --> 00:15:14.469\n&gt;&gt; We'll get there eventually,\nthat's right.\n\n309\n00:15:14.469 --> 00:15:17.532\n&gt;&gt; Exactly, all right, so we could see\nthe properties, just since we're here,\n\n310\n00:15:17.532 --> 00:15:18.366\nwe could take a look.\n\n311\n00:15:18.366 --> 00:15:22.253\nWe did talk about changing the schedule\nand modifying the polling interval,\n\n312\n00:15:22.253 --> 00:15:23.880\nwe could do that if we wanted to.\n\n313\n00:15:23.880 --> 00:15:26.300\nWe'll quickly show you\nhow that works here.\n\n314\n00:15:26.300 --> 00:15:28.121\nSo we could go in under change schedule.\n\n315\n00:15:29.256 --> 00:15:31.270\nYou'll notice once per hour by default.\n\n316\n00:15:31.270 --> 00:15:34.510\nWe did talk about that, and\nsaid that would be the standard.\n\n317\n00:15:34.510 --> 00:15:36.858\nWe'll just move this over, so\nyou can kinda see what we're doing here.\n\n318\n00:15:36.858 --> 00:15:39.590\nWe did say that would be the standard,\nand you can see that is.\n\n319\n00:15:39.590 --> 00:15:41.943\nWe did say, we could go ahead and\nmodify this.\n\n320\n00:15:41.943 --> 00:15:45.092\nWe could do this up to, or\nstop it down, in other words,\n\n321\n00:15:45.092 --> 00:15:48.460\nto every 15 minutes if we\nwant to four times an hour.\n\n322\n00:15:48.460 --> 00:15:51.820\nSo we can decide how we wanna modify this,\nand we can go in, and make a change and\n\n323\n00:15:51.820 --> 00:15:52.990\nthen we'd replicate less or\n\n324\n00:15:52.990 --> 00:15:55.120\nmore aggressively depending\non what we were doing.\n\n325\n00:15:55.120 --> 00:15:55.920\nSo we can modify that,\n\n326\n00:15:55.920 --> 00:15:58.503\nwe've talked about that as well,\njust to show you what that looks like.\n\n327\n00:15:58.503 --> 00:16:00.300\nReplicate from PLABDC01, so\n\n328\n00:16:00.300 --> 00:16:03.767\nwe could see the domain controller\nwe're replicating from.\n\n329\n00:16:03.767 --> 00:16:07.752\nNow if we did have to read path\nThis RODC to [INAUDIBLE] a different or\n\n330\n00:16:07.752 --> 00:16:11.310\nsecondary domain controller for\nsome other reason.\n\n331\n00:16:11.310 --> 00:16:13.550\nMaybe this primary one was\ngonna be going offline.\n\n332\n00:16:13.550 --> 00:16:15.510\nWe could go in and\nmodify that if need be here.\n\n333\n00:16:15.510 --> 00:16:16.940\nSo just so we know.\n\n334\n00:16:16.940 --> 00:16:19.090\nSo we have all the moving parts,\nthe bells and\n\n335\n00:16:19.090 --> 00:16:23.580\nwhistles that we've talked about, sitting\nhere inside of our connection object.\n\n336\n00:16:23.580 --> 00:16:25.300\nAnd now you can see all these\nthings come to life and\n\n337\n00:16:25.300 --> 00:16:27.410\nactually understand them for\nwhat they are.\n\n338\n00:16:27.410 --> 00:16:29.550\nSo, hopefully that was helpful for\nyou here as well.\n\n339\n00:16:29.550 --> 00:16:32.210\nJust get a better sense of that and\nsee what we were doing.\n\n340\n00:16:32.210 --> 00:16:35.140\nIn addition to all this we have to\ncontinue talking about some other\n\n341\n00:16:35.140 --> 00:16:36.486\nreplication items.\n\n342\n00:16:36.486 --> 00:16:39.890\nThe container which probably one of\nthe most important things we actually\n\n343\n00:16:39.890 --> 00:16:42.250\ntalk about replicating,\nis the collection of files and\n\n344\n00:16:42.250 --> 00:16:47.910\nfolders that each domain controller has,\nits gonna be replicated out and shared.\n\n345\n00:16:47.910 --> 00:16:50.700\nIt's linked to our system root,\nSysVa location.\n\n346\n00:16:50.700 --> 00:16:52.480\nSo C: Windows, typically, right?\n\n347\n00:16:52.480 --> 00:16:54.710\nSo SysVa,\nthat's where we're gonna find that.\n\n348\n00:16:54.710 --> 00:16:56.900\nIn system root,\nit's gonna be just a placeholder for\n\n349\n00:16:56.900 --> 00:16:58.730\nwhatever we do the install under.\n\n350\n00:16:58.730 --> 00:17:00.090\nIt has all the logon scripts,\n\n351\n00:17:00.090 --> 00:17:04.110\nthe objects related to group policy, group\npolicy templates, all that kind of stuff.\n\n352\n00:17:04.110 --> 00:17:07.235\nAll that's being replicated among\nthe different domain controllers.\n\n353\n00:17:07.235 --> 00:17:07.740\nBecause remember,\n\n354\n00:17:07.740 --> 00:17:13.830\nif we create a domain based group\npolicy object at one domain controller.\n\n355\n00:17:13.830 --> 00:17:15.970\nThat's gonna be replicated to all\nthe domain controllers in the domain.\n\n356\n00:17:15.970 --> 00:17:18.050\nThat's not shared outside the domain.\n\n357\n00:17:18.050 --> 00:17:20.950\nBut if there's five domain controllers,\nand we create it on one of them.\n\n358\n00:17:20.950 --> 00:17:22.690\nThe other four have to be\ngiven knowledge of that, and\n\n359\n00:17:22.690 --> 00:17:24.510\nthat would give replicated\napps through the SysVa.\n\n360\n00:17:24.510 --> 00:17:27.320\nSo we do need to be aware of that and\nunderstand that.\n\n361\n00:17:27.320 --> 00:17:29.230\nNow there's different technology.\n\n362\n00:17:29.230 --> 00:17:31.370\nThat would've been used to\nreplicate this sys file.\n\n363\n00:17:31.370 --> 00:17:34.160\nDepending on the version of the operating\nsystem that backs these domain\n\n364\n00:17:34.160 --> 00:17:35.110\ncontrollers.\n\n365\n00:17:35.110 --> 00:17:37.240\nIn the old school way of doing this,\n\n366\n00:17:37.240 --> 00:17:40.340\nwe would've had either FRS to\nfollow our application service.\n\n367\n00:17:40.340 --> 00:17:43.450\nOr DFS, a distributed file\nsystem that would've been used.\n\n368\n00:17:43.450 --> 00:17:45.090\nWe have a couple different options.\n\n369\n00:17:45.090 --> 00:17:46.940\nFRS is not being used anymore.\n\n370\n00:17:46.940 --> 00:17:48.500\nIt's older.\n\n371\n00:17:48.500 --> 00:17:51.290\nWas the primary mechanism for server 2003.\n\n372\n00:17:51.290 --> 00:17:56.150\nGoing into server 2008 and beyond,\nwe get rid of really the reliance on FRS,\n\n373\n00:17:56.150 --> 00:17:58.260\nolder technology, Had limitations,\n\n374\n00:17:58.260 --> 00:18:02.570\nwasn't scalable, required manual\nintervention, wasn't the best way to go.\n\n375\n00:18:02.570 --> 00:18:06.280\nDFS is more automated,\nmore scalable, more survivable,\n\n376\n00:18:06.280 --> 00:18:09.600\nless likely to encounter errors due\nto interruption, things like that.\n\n377\n00:18:09.600 --> 00:18:11.370\nSo DFS is being used.\n\n378\n00:18:11.370 --> 00:18:15.670\nNow and when you go into 12 R2\nwe no longer CFRS as an option,\n\n379\n00:18:15.670 --> 00:18:19.450\nwe only rely on DFS, distributed\nfile system, to do that replication.\n\n380\n00:18:19.450 --> 00:18:23.330\nSo just might wanna be aware of that and\nmake sure you're familiar with that.\n\n381\n00:18:23.330 --> 00:18:26.300\nSo actually starting with 2008 is\nwhere we make the cut over I was\n\n382\n00:18:26.300 --> 00:18:27.610\nsuggesting with that.\n\n383\n00:18:27.610 --> 00:18:29.350\nSo just make sure you're familiar.\n\n384\n00:18:29.350 --> 00:18:35.314\nAlso we have a tool called theDFSR.\n\n385\n00:18:35.314 --> 00:18:37.560\nJust trying to get that\ncorrectly looking at my notes.\n\n386\n00:18:37.560 --> 00:18:43.220\nDFRSR Mig or the DFSR migration.exe\ntool that migrates this file replication\n\n387\n00:18:43.220 --> 00:18:48.200\nover from FRS partitions\ninto DFS if we have 2003,\n\n388\n00:18:48.200 --> 00:18:50.980\n2008 to main controllers\nare making the move.\n\n389\n00:18:50.980 --> 00:18:54.480\nPart of that may be that we have to\nrun this tool to move sys file and\n\n390\n00:18:54.480 --> 00:18:57.020\nto make sure it's replicated\nunder the newer technology.\n\n391\n00:18:57.020 --> 00:19:00.330\nSo that may be a tool that is\nvery limited, very specific use.\n\n392\n00:19:00.330 --> 00:19:01.490\nYou may never have come across it.\n\n393\n00:19:01.490 --> 00:19:02.870\nYou may not have even known it was there.\n\n394\n00:19:02.870 --> 00:19:07.210\nIf you don't have a reason to do this but\njust know that it's called DFSR MIG, or\n\n395\n00:19:07.210 --> 00:19:09.260\nDFSR MIG the migration tool.\n\n396\n00:19:09.260 --> 00:19:11.250\nAnd just know that we will use that.\n\n397\n00:19:11.250 --> 00:19:15.780\nHave to have our domain function level\nat least server 2008 or greater to\n\n398\n00:19:15.780 --> 00:19:19.640\nbe able to use DFS and to use the tool\nin order to move the Sys file partition.\n\n399\n00:19:19.640 --> 00:19:21.170\nSo, just wanna make sure\nyou're aware of that.\n\n400\n00:19:21.170 --> 00:19:23.090\nEver come across that tool before?\n\n401\n00:19:23.090 --> 00:19:25.070\nThat's one of those ones you may\nnot have seen, I'm thinking.\n\n402\n00:19:25.070 --> 00:19:25.620\nRight?\n&gt;&gt; Yes, and\n\n403\n00:19:25.620 --> 00:19:28.450\nI have seen it in other places as well.\n\n404\n00:19:28.450 --> 00:19:30.060\n&gt;&gt; Have seen it in other places as well.\n\n405\n00:19:30.060 --> 00:19:31.155\nWow, wonder what that could.\n\n406\n00:19:31.155 --> 00:19:33.215\n&gt;&gt; [LAUGH]\n&gt;&gt; Possibly allude to,\n\n407\n00:19:33.215 --> 00:19:35.040\nlike when you're at the corner store,\nbuying a pop?\n\n408\n00:19:35.040 --> 00:19:37.215\n[INAUDIBLE]\n&gt;&gt; Yeah sure.\n\n409\n00:19:37.215 --> 00:19:38.835\n&gt;&gt; Saw it up on the shelf.\n\n410\n00:19:38.835 --> 00:19:42.013\nLook, DFSR MIG, fresh in the package.\n\n411\n00:19:42.013 --> 00:19:44.995\nAll right so just make sure you're\nfamiliar with that, Cherokee's subtle but\n\n412\n00:19:44.995 --> 00:19:48.755\nimportant hint today, that perhaps there's\nsome value outside of our discussion here,\n\n413\n00:19:48.755 --> 00:19:50.825\naround knowing about that tool,\nwould be helpful,\n\n414\n00:19:50.825 --> 00:19:54.420\nand hopefully you picked\nup on that important hint.\n\n415\n00:19:54.420 --> 00:19:54.920\nAll right, so\n\n416\n00:19:54.920 --> 00:19:59.080\nwe have talked all about how we're going\nto deal with read-only Domain Controllers.\n\n417\n00:19:59.080 --> 00:20:02.750\nHow we're dealing with a lot of\nthe partition based replication of active\n\n418\n00:20:02.750 --> 00:20:04.020\ndirectory information.\n\n419\n00:20:04.020 --> 00:20:07.730\nHave not talked about AD sites yet,\nwe are gonna need to talk about those.\n\n420\n00:20:07.730 --> 00:20:11.710\nBut I'm thinking we need to come back and\ndo that as a separate conversation.\n\n421\n00:20:11.710 --> 00:20:13.850\nBecause, well number one.\n\n422\n00:20:13.850 --> 00:20:15.280\nGotta reset the lab environment so\n\n423\n00:20:15.280 --> 00:20:19.270\nwe can make sure those sites discussions\nthat we're gonna have are actually\n\n424\n00:20:19.270 --> 00:20:21.430\ngonna be accurately represented so\nwe can show them to you.\n\n425\n00:20:21.430 --> 00:20:24.110\nAnd that does require a little\nbit of behind the scenes magic.\n\n426\n00:20:24.110 --> 00:20:27.780\nBut also because we do need to make sure\n\n427\n00:20:27.780 --> 00:20:31.470\nthat we have enough time to go through\nthat discussion to really do it justice.\n\n428\n00:20:31.470 --> 00:20:33.000\nAnd with the few minutes we\nhave left in this episode,\n\n429\n00:20:33.000 --> 00:20:34.570\nwe'll probably not gonna\nhave enough time to do that.\n\n430\n00:20:34.570 --> 00:20:37.917\n&gt;&gt; All right, Adam I think we'll allow\nthat to happen because you've given us\n\n431\n00:20:37.917 --> 00:20:41.106\nsome pretty great guidance so far, but\nfor this show we are out of time and\n\n432\n00:20:41.106 --> 00:20:43.110\nwe'll go ahead and sign out.\n\n433\n00:20:43.110 --> 00:20:45.304\nRemember, I'm your host Cherokee Boose.\n\n434\n00:20:45.304 --> 00:20:46.096\n&gt;&gt; I wanna be Cherokee Boose.\n\n435\n00:20:46.096 --> 00:20:47.560\n&gt;&gt; [LAUGH]\n&gt;&gt; You never let me be Cherokee.\n\n436\n00:20:47.560 --> 00:20:48.750\nI always have to be Adam.\n\n437\n00:20:48.750 --> 00:20:50.030\n&gt;&gt; Maybe the next show we can swap it.\n\n438\n00:20:50.030 --> 00:20:51.680\n&gt;&gt; All right.\nI'm Adam Gordon.\n\n439\n00:20:51.680 --> 00:20:53.198\n&gt;&gt; See you next\n&gt;&gt; Grudgingly, but I'm Adam Gordon.\n\n440\n00:20:53.198 --> 00:20:54.780\n&gt;&gt; See you next time.\n\n441\n00:20:54.780 --> 00:20:55.395\nBye.\n\n442\n00:20:55.395 --> 00:20:56.213\n&gt;&gt; Take care, everybody.\n\n443\n00:20:56.213 --> 00:21:03.946\n[MUSIC]\n\n444\n00:21:03.946 --> 00:21:08.250\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "224334582"
        },
        {
          "description": "In this episode, Adam and Cherokee introduce sites. Adam explains why one would create additional sites and demonstrates how to set one up. Adam also explains the difference between intersite versus intrasite replication. Adam also introduces intersite topology generator (ISTG), how client computers locate domain controllers within sites, site-link bridges, universal group membership caching, repadmin.exe, Dcdiag.exe and more!",
          "length": "2509",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-4-ad_ds_sites_and_replication_pt4-070117-PGM.00_00_12_03.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-4-ad_ds_sites_and_replication_pt4-070117-PGM.00_00_12_03.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-4-ad_ds_sites_and_replication_pt4-070117-PGM.00_00_12_03.Still001-sm.jpg",
          "title": "AD DS Sites and Replication Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.554\nWelcome to ITProTV,\nI am your host Don Pezet.\n\n2\n00:00:01.554 --> 00:00:06.704\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:06.704 --> 00:00:08.386\n[MUSIC]\n\n4\n00:00:08.386 --> 00:00:12.352\n&gt;&gt; You are watching ITProTV.\n\n5\n00:00:12.352 --> 00:00:15.758\n&gt;&gt; Welcome back to your\nMCSA 70-412 series.\n\n6\n00:00:15.758 --> 00:00:17.911\nI'm your show host Cherokee Boose.\n\n7\n00:00:17.911 --> 00:00:21.351\nIn this show,\nwe've got some more AD DS site and\n\n8\n00:00:21.351 --> 00:00:26.258\nreplication information headed your\nway and we have the one the only\n\n9\n00:00:26.258 --> 00:00:30.931\nCherokee Boose in studios today\nto bring you that information.\n\n10\n00:00:30.931 --> 00:00:31.560\nWoo hoo.\n\n11\n00:00:31.560 --> 00:00:32.675\n&gt;&gt; I finally got to be Cherokee.\n\n12\n00:00:32.675 --> 00:00:33.190\n&gt;&gt; I'm so excited.\n\n13\n00:00:33.190 --> 00:00:35.790\n&gt;&gt; And I forgot to say,\nI should be Adam Gordon.\n\n14\n00:00:35.790 --> 00:00:36.965\n&gt;&gt; We could switch places real quick.\n\n15\n00:00:36.965 --> 00:00:39.740\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so I am excited.\n\n16\n00:00:39.740 --> 00:00:41.450\nDual personalities not withstanding.\n\n17\n00:00:41.450 --> 00:00:43.490\nI am very excited,\nboth as Cherokee and as Adam,\n\n18\n00:00:43.490 --> 00:00:46.770\nto be here talking with you\nabout AD sites and replication.\n\n19\n00:00:46.770 --> 00:00:50.670\nWe left off in our last discussion,\nright at the beginning of the sites\n\n20\n00:00:50.670 --> 00:00:53.240\nconversation, we reminded you that\nwe're gonna be talking about.\n\n21\n00:00:53.240 --> 00:00:56.880\nAnd now we previewed site replication\nin some of our earlier episodes.\n\n22\n00:00:56.880 --> 00:00:59.150\nIf you haven't seen them,\nwe mentioned it here and there.\n\n23\n00:00:59.150 --> 00:01:02.400\nNot worth going back and looking at just\nto understand what we're about to do.\n\n24\n00:01:02.400 --> 00:01:05.690\nSo we are gonna get into the specificity\nof it but we did hint at and\n\n25\n00:01:05.690 --> 00:01:08.423\ntalk about the fact on\nthe surface that we have both\n\n26\n00:01:08.423 --> 00:01:13.420\nintersite replication between two\nsites and intrasite replication.\n\n27\n00:01:13.420 --> 00:01:18.180\nReplication among members of an AD site,\nand we've talked in a couple of different\n\n28\n00:01:18.180 --> 00:01:21.784\nplaces about the fact that our site\nname at least out of the box by\n\n29\n00:01:21.784 --> 00:01:26.215\ndefault will be this kind of wacky crazy\ndefault first site name, site name.\n\n30\n00:01:26.215 --> 00:01:29.000\nAnd we're gonna take a look at all that,\nshow you how we can rename that,\n\n31\n00:01:29.000 --> 00:01:30.820\nshow you how to create additional sites.\n\n32\n00:01:30.820 --> 00:01:35.050\nTalk a little bit more about what sites\nare for, define a little bit more\n\n33\n00:01:35.050 --> 00:01:40.850\nspecificity, of the differences between\ninter and intrasite replication.\n\n34\n00:01:40.850 --> 00:01:42.940\nThey hinge primarily on\nthe amount of bandwidth and\n\n35\n00:01:42.940 --> 00:01:46.590\nthe quote unquote good connectivity\nthat we see between or\n\n36\n00:01:46.590 --> 00:01:49.340\namong members of a certain site or\nbetween sites.\n\n37\n00:01:49.340 --> 00:01:53.020\nWe do have a bandwidth threshold for what\nwe consider to be good connectivity and\n\n38\n00:01:53.020 --> 00:01:55.100\nwe'll talk about what that is and\nhow that works.\n\n39\n00:01:55.100 --> 00:01:57.920\nAnd so we'll go through and talk about all\nthose things and why they are important.\n\n40\n00:01:57.920 --> 00:02:00.863\nWe'll take a look at how to create some\nsites, put some subnets in there and\n\n41\n00:02:00.863 --> 00:02:01.762\ndo all sorts of stuff.\n\n42\n00:02:01.762 --> 00:02:04.685\nSo first thing we talk about\nour AD sites themselves.\n\n43\n00:02:04.685 --> 00:02:07.330\nWe've talked about the fact that\nthey represent the physical network\n\n44\n00:02:07.330 --> 00:02:08.040\ninfrastructure.\n\n45\n00:02:08.040 --> 00:02:12.470\nAnd then we manage replication using\nthe sites and the site connectors and\n\n46\n00:02:12.470 --> 00:02:14.020\nthe connection objects.\n\n47\n00:02:14.020 --> 00:02:16.890\nAs we took a look at are used\nto manage replication.\n\n48\n00:02:16.890 --> 00:02:20.110\nThey are stored or the information\nabout them are gonna be stored in\n\n49\n00:02:20.110 --> 00:02:25.530\nthe configuration container in the sites\nconfiguration forest root domain.\n\n50\n00:02:25.530 --> 00:02:29.460\nSpecifically, as we look at the name\npath and the specification there.\n\n51\n00:02:29.460 --> 00:02:33.050\nAnd we do have both management\nof replication traffic and\n\n52\n00:02:33.050 --> 00:02:36.730\nservice localization we're gonna\nlook up and find services through\n\n53\n00:02:36.730 --> 00:02:42.010\nSRV record referenced in a certain site\nbased on subnet or IP association.\n\n54\n00:02:42.010 --> 00:02:44.070\nThat's really what subnets or\nrather excuse me,\n\n55\n00:02:44.070 --> 00:02:46.152\nwhat sites are gonna be used for.\n\n56\n00:02:46.152 --> 00:02:49.012\nThe subnet objects are used to\ndefine the boundaries of the site.\n\n57\n00:02:49.012 --> 00:02:51.660\nWe're gonna go in and\nshow you how that works in just a minute.\n\n58\n00:02:51.660 --> 00:02:54.950\nWhen we talk about subnets, really nothing\ndifferent than what we already know,\n\n59\n00:02:54.950 --> 00:02:58.470\nas in IP addresses and subnets.\n\n60\n00:02:58.470 --> 00:02:59.680\nThose subnets, right?\n\n61\n00:02:59.680 --> 00:03:04.140\nSo the idea is that we simply use that to\nrepresent the address block for machines.\n\n62\n00:03:04.140 --> 00:03:07.140\nSo we'll be associated with the site and\nthat's what we're gonna see.\n\n63\n00:03:07.140 --> 00:03:08.560\nSo we're just thinking about that.\n\n64\n00:03:08.560 --> 00:03:12.030\nRemember we're focused on physical\ntopology here, physical replication\n\n65\n00:03:12.030 --> 00:03:15.610\nconnectivity, and the ability to be\nable to move information back and forth.\n\n66\n00:03:15.610 --> 00:03:19.570\nBetween and among those members of\na site through those connection objects.\n\n67\n00:03:19.570 --> 00:03:22.120\nAnd that's gonna be bounded by our\nability to be a member of a subnet.\n\n68\n00:03:22.120 --> 00:03:26.310\nAnd interact with machines and talk to\nthem because we are able to see them or\n\n69\n00:03:26.310 --> 00:03:29.955\nto be remote and have to connect to them\nthrough some sort of additional interface\n\n70\n00:03:29.955 --> 00:03:32.280\nor connection through\nan intermediaries some kind.\n\n71\n00:03:32.280 --> 00:03:33.680\nAnd so that's pretty standard and\n\n72\n00:03:33.680 --> 00:03:35.640\nlogical when you think about\nhow we do these things.\n\n73\n00:03:35.640 --> 00:03:36.460\nSo the default for\n\n74\n00:03:36.460 --> 00:03:40.500\na site, name site, is what we call\nour initial site when we create it.\n\n75\n00:03:40.500 --> 00:03:43.859\nWhen I did the walk through of how to\ncreate a read only domain controller,\n\n76\n00:03:43.859 --> 00:03:45.281\nat the end of the last episode.\n\n77\n00:03:45.281 --> 00:03:49.692\nWe showed you how to actually go through\nwould specify what kind of domain\n\n78\n00:03:49.692 --> 00:03:51.150\ncontroller we wanted.\n\n79\n00:03:51.150 --> 00:03:54.760\nAnd I pointed out to you that the site\nname was there in the wizard,\n\n80\n00:03:54.760 --> 00:03:55.420\nin the interface.\n\n81\n00:03:55.420 --> 00:03:59.890\nIt did read default dash first dash site\ndash name, to be specific and proper\n\n82\n00:03:59.890 --> 00:04:04.030\nabout what it actually looks like, and\nthat is our default first site name site.\n\n83\n00:04:04.030 --> 00:04:05.250\nBut we can modify that.\n\n84\n00:04:05.250 --> 00:04:06.190\nWe don't have to accept that.\n\n85\n00:04:06.190 --> 00:04:07.120\nWe can actually rename it and\n\n86\n00:04:07.120 --> 00:04:10.890\nI'm gonna show you how to do\nthat here in just a moment.\n\n87\n00:04:10.890 --> 00:04:14.790\nBut Cherokee was signalling to me that she\nhas [INAUDIBLE] actually I'm Cherokee.\n\n88\n00:04:14.790 --> 00:04:16.358\nYou are signalling yourself,\n&gt;&gt; [LAUGH] I'm not.\n\n89\n00:04:16.358 --> 00:04:17.820\n&gt;&gt; But\nyou had something that you wanna say.\n\n90\n00:04:17.820 --> 00:04:18.740\nBut I wanted to ask a question.\n\n91\n00:04:18.740 --> 00:04:21.298\nYou wanted to hear from me,\nregardless of who's talking.\n\n92\n00:04:21.298 --> 00:04:24.530\nBut Cherokee, did want to say something so\nwhat was going on before we continue and\n\n93\n00:04:24.530 --> 00:04:25.440\ngo into the wizard here.\n\n94\n00:04:25.440 --> 00:04:28.900\n&gt;&gt; Now Adam, you said we have our default\nsite that is generated automatically.\n\n95\n00:04:28.900 --> 00:04:33.010\nBut what would be some of the reasons\nwhy we would want to create a new site?\n\n96\n00:04:33.010 --> 00:04:35.115\n&gt;&gt; Well we're gonna take a look\nat those right now, actually.\n\n97\n00:04:35.115 --> 00:04:36.420\n&gt;&gt; Yeah [LAUGH].\n&gt;&gt; So let's go in and take a look.\n\n98\n00:04:36.420 --> 00:04:37.800\nThat's what I was just teeing up to do.\n\n99\n00:04:37.800 --> 00:04:39.480\nJust extended our lab timer.\n\n100\n00:04:39.480 --> 00:04:40.820\nSo that we're not gonna\nhave to worry about that.\n\n101\n00:04:40.820 --> 00:04:44.180\nSo you can see I've actually already gone\nin to the Active Directory sites and\n\n102\n00:04:44.180 --> 00:04:45.200\nservices tool.\n\n103\n00:04:45.200 --> 00:04:48.480\nWe previewed this in the last episode as\nwell where we went in, we took a look, and\n\n104\n00:04:48.480 --> 00:04:50.590\nat the end of our read only\ndomain controller creation.\n\n105\n00:04:50.590 --> 00:04:53.530\nThe fact that we did have our connection\nobject between the read only domain\n\n106\n00:04:53.530 --> 00:04:55.350\ncontroller and\nour primary domain controller.\n\n107\n00:04:55.350 --> 00:04:56.700\nSo we did see this.\n\n108\n00:04:56.700 --> 00:04:58.330\nBut we didn't create any additional sites,\n\n109\n00:04:58.330 --> 00:05:01.850\nwe just operated within the default\nfirst site name site, which is there.\n\n110\n00:05:01.850 --> 00:05:06.785\nI've created two additional sites in MIA\nand APAC, so geographically for instance,\n\n111\n00:05:06.785 --> 00:05:10.109\nif we had our network being\ndistributed around the world.\n\n112\n00:05:10.109 --> 00:05:12.119\nPerhaps with very large infrastructure,\n\n113\n00:05:12.119 --> 00:05:15.577\nwanted to use subnets to associate\nmachines in those sites so we could tell\n\n114\n00:05:15.577 --> 00:05:19.360\nwhere they were and from a replication\nstandpoint control replication.\n\n115\n00:05:19.360 --> 00:05:22.820\nAnd in among the domain controllers\nin that site, in between sites,\n\n116\n00:05:22.820 --> 00:05:25.400\nthat would be a good reason for\nus to create sites.\n\n117\n00:05:25.400 --> 00:05:28.330\nSo that would be one reason we\nmay see a distinction here.\n\n118\n00:05:28.330 --> 00:05:33.220\nA lot of my customers may not be global in\ntheir scope but certainly are regional or\n\n119\n00:05:33.220 --> 00:05:36.570\ngeographically affiliated within\na certain area of a country.\n\n120\n00:05:36.570 --> 00:05:41.454\nSo maybe by city, maybe we have our\nprimary infrastructure in Rome, and maybe\n\n121\n00:05:41.454 --> 00:05:46.415\nour backup or our failover or our disaster\nrecovery site is sitting in Ireland.\n\n122\n00:05:46.415 --> 00:05:48.958\nOr perhaps in the United States\nin New York or\n\n123\n00:05:48.958 --> 00:05:53.030\nin Los Angeles who knows where we are,\nit doesn't really matter.\n\n124\n00:05:53.030 --> 00:05:55.510\nPick two cities anywhere in the world,\nit doesn't really matter.\n\n125\n00:05:55.510 --> 00:05:59.520\nBut as a result, we may create\nsites that represent those and\n\n126\n00:05:59.520 --> 00:06:03.110\nlabel them primary New York or\nprimary Rome or whatever they would be.\n\n127\n00:06:03.110 --> 00:06:05.830\nSo, that way we know our primary\ninfrastructure is there.\n\n128\n00:06:05.830 --> 00:06:09.450\nOur backup or our BCDR solution\nwould be somewhere else and\n\n129\n00:06:09.450 --> 00:06:11.180\nwe'd create a site to represent that.\n\n130\n00:06:11.180 --> 00:06:15.943\nSo there may be lots of reasons why we\nwould this to carve up our representation\n\n131\n00:06:15.943 --> 00:06:18.447\nof our physical architecture to match.\n\n132\n00:06:18.447 --> 00:06:22.336\nAnd indeed to mirror so to speak in terms\nof representing it accurately in our\n\n133\n00:06:22.336 --> 00:06:26.471\nmanagement consoles, that's the reason\nsort of the generically the divers and\n\n134\n00:06:26.471 --> 00:06:28.808\nbusiness reasons why\nwe would create sites.\n\n135\n00:06:28.808 --> 00:06:30.836\nOr we are just bored and\ngot nothing to do.\n\n136\n00:06:30.836 --> 00:06:32.533\n&gt;&gt; [LAUGH]\n&gt;&gt; It's a slow Tuesday,\n\n137\n00:06:32.533 --> 00:06:33.600\nnot a lot going on.\n\n138\n00:06:33.600 --> 00:06:35.568\n&gt;&gt; Sounds legit.\nAnd the projector was broken,\n\n139\n00:06:35.568 --> 00:06:40.380\ncan't watch anything and so Netflix\nis down, here we are creating sites.\n\n140\n00:06:40.380 --> 00:06:42.523\nLots of reasons, in other words,\nwhy we would do that.\n\n141\n00:06:42.523 --> 00:06:45.020\nAll right, so let's go and\nestablish a couple of things.\n\n142\n00:06:45.020 --> 00:06:47.180\nNumber one,\nhow do we create a brand new site?\n\n143\n00:06:47.180 --> 00:06:50.130\nThat was actually very simple right click,\nNew Site.\n\n144\n00:06:50.130 --> 00:06:51.420\nYou could see that there.\n\n145\n00:06:51.420 --> 00:06:55.570\nWe give it a name,\nI just gave two names for that one.\n\n146\n00:06:55.570 --> 00:06:58.180\nLet's call this one the Cherokee site.\n\n147\n00:06:58.180 --> 00:07:01.330\nSo we'll do that,\nspecify our site length there.\n\n148\n00:07:01.330 --> 00:07:04.550\nWe have our default site link which is\nthe one that's there by default, and\n\n149\n00:07:04.550 --> 00:07:07.040\nyou could see that we do now\nhave another site container.\n\n150\n00:07:07.040 --> 00:07:10.760\nThe site is really nothing more than just\na container object we use to associate\n\n151\n00:07:10.760 --> 00:07:12.600\ndomain controllers with based on subnet.\n\n152\n00:07:12.600 --> 00:07:16.300\nSo creating one really doesn't imply to\nanything other than the fact we simply,\n\n153\n00:07:16.300 --> 00:07:18.230\nliterally, have created an object.\n\n154\n00:07:18.230 --> 00:07:21.400\nNow if we wanna rename our\ndefault first site name site.\n\n155\n00:07:21.400 --> 00:07:25.280\nWe can do that right click now we can\nRename right there as you will see.\n\n156\n00:07:25.280 --> 00:07:28.080\nAnd we can go in and\nrename it to anything we'd like.\n\n157\n00:07:28.080 --> 00:07:33.150\nJust going to rename this one to, since\nwe'll keep with our geography theme here,\n\n158\n00:07:33.150 --> 00:07:36.090\nlet me rename this one to North America.\n\n159\n00:07:36.090 --> 00:07:38.960\nThat way we kinda have\nNorth America Amia APAC kinda\n\n160\n00:07:38.960 --> 00:07:41.580\nkeeping with the regional\ntheme that we're using.\n\n161\n00:07:41.580 --> 00:07:43.430\nJust to do our representation here.\n\n162\n00:07:43.430 --> 00:07:45.950\nAnd you could see that renaming\nis very straight forward.\n\n163\n00:07:45.950 --> 00:07:49.770\nIf I wanted to go ahead and delete\none of these sites that I've created,\n\n164\n00:07:49.770 --> 00:07:51.890\nlike the Cherokee site, I can do that.\n\n165\n00:07:51.890 --> 00:07:52.961\nJust go ahead and delete.\n\n166\n00:07:52.961 --> 00:07:54.057\n&gt;&gt; No.\n&gt;&gt; And,\n\n167\n00:07:54.057 --> 00:07:54.636\n&gt;&gt; [LAUGH]\n\n168\n00:07:54.636 --> 00:07:56.192\n&gt;&gt; You'll see we are warned here.\n\n169\n00:07:56.192 --> 00:07:59.915\nIt does, it says there, have other objects\nand are you sure you want to delete.\n\n170\n00:07:59.915 --> 00:08:02.721\nThe site and\nall its container objects will be gone.\n\n171\n00:08:02.721 --> 00:08:05.320\nNow, before we say yes,\nlet's just go take a look.\n\n172\n00:08:06.840 --> 00:08:09.226\nYou'll see under there, we don't really\nhave any objects, we just have a folder.\n\n173\n00:08:09.226 --> 00:08:10.530\n&gt;&gt; Yeah, we didn't create anything.\n\n174\n00:08:10.530 --> 00:08:11.960\n&gt;&gt; Right, so even though it warns us,\n\n175\n00:08:11.960 --> 00:08:16.240\nall the object is that it's referring to\nis just the empty folder called servers.\n\n176\n00:08:16.240 --> 00:08:19.220\nSo we're not really deleting\na site that has stuff in it.\n\n177\n00:08:19.220 --> 00:08:22.685\nWhereas if we went to North America and\nwe went to servers and\n\n178\n00:08:22.685 --> 00:08:26.512\nwe had our NTDS settings in there and\nwe had our plaid DC1 server.\n\n179\n00:08:26.512 --> 00:08:29.703\nWe actually would be worried about\nthe fact that we're getting rid of,\n\n180\n00:08:29.703 --> 00:08:33.495\nnot these objects, not like if we delete\nit here, the domain controller goes away.\n\n181\n00:08:33.495 --> 00:08:36.856\nBut we are getting rid of any connection\nobjects that that domain controller may\n\n182\n00:08:36.856 --> 00:08:39.700\nhave to other domain controllers\nif there was more than one.\n\n183\n00:08:39.700 --> 00:08:41.270\nSo we just want to make\nsure we're aware of that.\n\n184\n00:08:41.270 --> 00:08:45.910\nBut in this case, because there's nothing\nup under the Cherokee site to begin with,\n\n185\n00:08:45.910 --> 00:08:49.900\ndeleting it really would have no negative\nconsequence and no impact on us at all.\n\n186\n00:08:49.900 --> 00:08:52.574\nSo we can go and delete it,\neven though we get that warning,\n\n187\n00:08:52.574 --> 00:08:54.240\nit's not gonna affect us in any way.\n\n188\n00:08:54.240 --> 00:08:57.510\nWe're just gonna click Yes, and then you\ncan see it goes away with no trouble.\n\n189\n00:08:57.510 --> 00:08:59.130\nWe could do that very easily.\n\n190\n00:08:59.130 --> 00:09:02.190\nRename a site, create sites,\ndelete one if we need to.\n\n191\n00:09:02.190 --> 00:09:03.410\nAll those things can be done.\n\n192\n00:09:03.410 --> 00:09:07.550\nNow, having said that, what we probably\nwant to do now is go in to our subnet\n\n193\n00:09:07.550 --> 00:09:11.580\nfolder and create a subnet, one or more of\nthem, and assign them to the sites, right?\n\n194\n00:09:11.580 --> 00:09:14.260\nSo the next thing we would do is\ngo ahead and create a new subnet.\n\n195\n00:09:15.900 --> 00:09:19.410\nPull this over here so\nwe could kind of see what's going on.\n\n196\n00:09:19.410 --> 00:09:24.828\nAnd we'll specify here our subnet\ninformation, or our prefix, I should say.\n\n197\n00:09:24.828 --> 00:09:29.010\nSo we're gonna go in and\nwe're gonna specify here by highlighting.\n\n198\n00:09:29.010 --> 00:09:33.758\nSo let's start with North America just\ncuz I have that in that order in my list.\n\n199\n00:09:33.758 --> 00:09:38.921\nSo with North America, let's go in and\n\n200\n00:09:38.921 --> 00:09:43.771\nspecify 192., what am I doing,\n\n201\n00:09:43.771 --> 00:09:47.217\n168.0.0/24.\n\n202\n00:09:47.217 --> 00:09:49.947\nAnd so,\nyou'll see that we are specifying for\n\n203\n00:09:49.947 --> 00:09:54.360\nthis particular site that we're gonna\nuse this particular subnet range.\n\n204\n00:09:54.360 --> 00:09:57.700\nOkay, so we're gonna go ahead and\nwe'll just click OK.\n\n205\n00:09:57.700 --> 00:09:59.530\nWe've gone ahead and done that one.\n\n206\n00:09:59.530 --> 00:10:04.670\nWe've associated that, and\nspecified that that would be part of\n\n207\n00:10:04.670 --> 00:10:08.160\nour North America default\nfirst site names site, site.\n\n208\n00:10:08.160 --> 00:10:11.329\nAll right, so we're specifying that\nwe're linking that essentially here.\n\n209\n00:10:11.329 --> 00:10:14.593\nAnd that our NTDS settings, although\nthey're not important now since we have\n\n210\n00:10:14.593 --> 00:10:17.611\nno connection objects, but\nwe're specifying that this subnet is gonna\n\n211\n00:10:17.611 --> 00:10:20.810\nbe linked is gonna be linked to\nthe North America site, right and so.\n\n212\n00:10:20.810 --> 00:10:22.090\nWe can take a look.\n\n213\n00:10:22.090 --> 00:10:22.749\nJust go here and\n\n214\n00:10:22.749 --> 00:10:25.596\nwe'll see that it's actually\nlinked to the North American site.\n\n215\n00:10:25.596 --> 00:10:28.152\nI can actually change that and\nmove it around if I need to,\n\n216\n00:10:28.152 --> 00:10:32.040\nas you can see in the properties, but\nI'm creating it and assigning it there.\n\n217\n00:10:32.040 --> 00:10:34.650\nSo let's go ahead and\nlet's just add some more subnets in.\n\n218\n00:10:34.650 --> 00:10:37.625\nWe do need one, or ultimately want to\nhave one, for each of our sites so\n\n219\n00:10:37.625 --> 00:10:40.470\nI'm just going to go ahead and\nadd the other ones in real quickly here.\n\n220\n00:10:40.470 --> 00:10:41.201\nBut you could see,\n\n221\n00:10:41.201 --> 00:10:43.872\nwe do require a little bit of planning\nas we're thinking about this.\n\n222\n00:10:43.872 --> 00:10:47.886\nCuz we'd have to know what subnet range\nwe want to be able to associate with\n\n223\n00:10:47.886 --> 00:10:48.486\nthe site.\n\n224\n00:10:48.486 --> 00:10:51.763\nIf we think back to thought process\nwe just went through about, hey,\n\n225\n00:10:51.763 --> 00:10:54.370\nwhy would we create sites,\nto Cherokee's question.\n\n226\n00:10:54.370 --> 00:10:59.302\nAnd the answer was maybe represent our\nnetwork geography from a disaster recovery\n\n227\n00:10:59.302 --> 00:11:02.386\nfailover management standpoint and\nmirror that.\n\n228\n00:11:02.386 --> 00:11:05.744\nThen we'd have to be thinking about\nwhat subnets go with that physical site\n\n229\n00:11:05.744 --> 00:11:07.627\ncontainers that represent those areas.\n\n230\n00:11:07.627 --> 00:11:10.030\nAnd we'd have to plan for that,\nknow that, and then add them in here.\n\n231\n00:11:10.030 --> 00:11:11.250\nSo that's what we're doing.\n\n232\n00:11:11.250 --> 00:11:13.930\nI'm just gonna go ahead and\nadd the APEC one in.\n\n233\n00:11:13.930 --> 00:11:17.410\nSo let's just specify APEC will be 1.0.\n\n234\n00:11:17.410 --> 00:11:24.246\nOkay so, 192, 168.1.0/24.\n\n235\n00:11:24.246 --> 00:11:29.568\nSo let's go ahead, let's do that,\nso we have that one.\n\n236\n00:11:29.568 --> 00:11:35.154\nAnd let's specify our last one and\nthat will be for Amia.\n\n237\n00:11:35.154 --> 00:11:42.339\nAnd we'll do 192.168.2.0/24 and\n\n238\n00:11:42.339 --> 00:11:46.961\ndissociate that one with Amia.\n\n239\n00:11:46.961 --> 00:11:51.101\nAnd so we have each of those, and then of\ncourse, as you saw, right-click Properties\n\n240\n00:11:51.101 --> 00:11:54.335\nand we'd be able to see what subnet\nwas associated with which site,\n\n241\n00:11:54.335 --> 00:11:55.775\nvery straightforward to do.\n\n242\n00:11:55.775 --> 00:11:57.407\nAll right so we've done all that, and\n\n243\n00:11:57.407 --> 00:12:00.569\nthen once we've done that,if we want\nto start creating some site links,\n\n244\n00:12:00.569 --> 00:12:03.330\nthen that would be something else\nthat we may want to go in and do.\n\n245\n00:12:03.330 --> 00:12:09.150\nRemember, we could do these manually\nand/or have the KCC create our inter\n\n246\n00:12:09.150 --> 00:12:12.420\nsite links, our connection objects,\namong members of a single site.\n\n247\n00:12:12.420 --> 00:12:15.744\nWe would have the ISTG,\nthe inter site topology generator,\n\n248\n00:12:15.744 --> 00:12:18.690\nanother tool separate from\nthe KCC that I mentioned.\n\n249\n00:12:18.690 --> 00:12:23.253\nThat would be checking replication among\nmembers of different sites if we're\n\n250\n00:12:23.253 --> 00:12:25.940\ncreating links or having to manage that.\n\n251\n00:12:25.940 --> 00:12:28.810\nChecks our overall AD\nreplication typology.\n\n252\n00:12:28.810 --> 00:12:32.000\nSo we're gonna go in and\nwe're going to decide, not just who we're\n\n253\n00:12:32.000 --> 00:12:35.490\ngonna connect with, but what protocol\nwe're gonna use, RPC or SMTP.\n\n254\n00:12:35.490 --> 00:12:38.180\nWe have two options for\nreplication connections.\n\n255\n00:12:38.180 --> 00:12:41.660\nSo we'll go through and think about\nthe logic of what we're gonna do there.\n\n256\n00:12:41.660 --> 00:12:44.240\nRPC over IP, to be precise.\n\n257\n00:12:44.240 --> 00:12:48.120\nThat's if we're gonna be doing multiple\nsites and spanning multiple sites.\n\n258\n00:12:48.120 --> 00:12:52.090\nMore robust, and therefore we'll use that\nwithin the same Active Directory domain.\n\n259\n00:12:52.090 --> 00:12:57.070\nBut in and among those domain controllers,\nif we're doing this in different domains,\n\n260\n00:12:57.070 --> 00:13:00.350\nbetween different domains,\nreplicating between different domains.\n\n261\n00:13:00.350 --> 00:13:03.160\nSMTP would be our preference for\nthe protocol there.\n\n262\n00:13:03.160 --> 00:13:06.700\nSo it's just a matter of what we choose to\ndo based on the architecture that we're\n\n263\n00:13:06.700 --> 00:13:07.240\nreflecting.\n\n264\n00:13:07.240 --> 00:13:11.495\nSo we're gonna go in, go to the inter\nsite transports folder here.\n\n265\n00:13:11.495 --> 00:13:16.575\nWe do see our two protocol options,\nRPC over IP is just referred to as IP.\n\n266\n00:13:16.575 --> 00:13:21.505\nSMTP, SMTP, as in SMTP for\nemail, that SMTP,\n\n267\n00:13:21.505 --> 00:13:23.515\nif you think about the logic of that.\n\n268\n00:13:23.515 --> 00:13:28.005\nAnd our default site link,\nIP site link that\n\n269\n00:13:28.005 --> 00:13:31.990\nyou saw that I was creating or\nreferencing when I was creating the site.\n\n270\n00:13:31.990 --> 00:13:33.055\nThat is the one that's there.\n\n271\n00:13:33.055 --> 00:13:37.250\nThat's the RPC over IP,\nor using the IP link.\n\n272\n00:13:37.250 --> 00:13:42.330\nThat is between domain controllers within\nthe same domain, replicating among them.\n\n273\n00:13:42.330 --> 00:13:45.910\nThat's the default site connector and\nsite link that we use.\n\n274\n00:13:45.910 --> 00:13:48.480\nSo that is the one we build\noff of traditionally.\n\n275\n00:13:48.480 --> 00:13:51.340\nSo we could see that there, but\nwe're gonna create a brand new link.\n\n276\n00:13:51.340 --> 00:13:56.182\nSo we're gonna right-click here,\nright-click on the IP folder,\n\n277\n00:13:56.182 --> 00:13:57.274\nnew site link.\n\n278\n00:13:57.274 --> 00:14:00.525\nLet's just come over here,\nlet's drag this down, kind of center it so\n\n279\n00:14:00.525 --> 00:14:02.360\nwe can see what we're doing.\n\n280\n00:14:02.360 --> 00:14:06.860\nAnd we're gonna create a brand new site\nlink, and we're gonna go ahead and\n\n281\n00:14:06.860 --> 00:14:09.299\ncreate that from North America to Amia.\n\n282\n00:14:09.299 --> 00:14:11.961\nI'm just looking at my notes to\nkeep track of what we're doing.\n\n283\n00:14:11.961 --> 00:14:14.450\nSo I'm gonna name this just so\nI know what it is.\n\n284\n00:14:14.450 --> 00:14:18.120\nObviously in the real world,\nyou would have to name these in some way\n\n285\n00:14:18.120 --> 00:14:21.980\nthat would tell us and allow us to\nunderstand what the connections are.\n\n286\n00:14:21.980 --> 00:14:23.720\nI'm using the geography references.\n\n287\n00:14:23.720 --> 00:14:25.810\nNA for North America, that I have there.\n\n288\n00:14:25.810 --> 00:14:27.410\nIt'd be up to be to decide, so\n\n289\n00:14:27.410 --> 00:14:32.580\nI'm gonna specify that I want amia and\nNorth America.\n\n290\n00:14:32.580 --> 00:14:36.110\nSo I'm gonna add these two in on\nthe right here from this are so\n\n291\n00:14:36.110 --> 00:14:39.470\nI can specify these are the sites\nthat will be using this link.\n\n292\n00:14:39.470 --> 00:14:45.570\nClick OK, and now this site link\nlinks those two sites together.\n\n293\n00:14:45.570 --> 00:14:49.140\nAnd allows me to say that I would\nreplicate between them in theory.\n\n294\n00:14:49.140 --> 00:14:52.360\nAnd then, start to schedule and\nuse replication if I choose to.\n\n295\n00:14:52.360 --> 00:14:55.960\nI can create another one,\nNorth America to Apac, for instance.\n\n296\n00:14:55.960 --> 00:14:57.920\nSo I'm gonna do that as well.\n\n297\n00:14:57.920 --> 00:15:01.940\nSo let's go in here,\njust right click new site link and\n\n298\n00:15:01.940 --> 00:15:05.610\nwe'll do this North America and Apac.\n\n299\n00:15:05.610 --> 00:15:09.598\nAll right, so we have those and\n\n300\n00:15:09.598 --> 00:15:14.740\nwe'll do NA-Apac dash link here.\n\n301\n00:15:14.740 --> 00:15:16.390\nSo you get the idea of how we can do this,\n\n302\n00:15:16.390 --> 00:15:20.300\nit does tell us we have to have at\nleast two sites here for the site link.\n\n303\n00:15:20.300 --> 00:15:22.240\nWe could have more than two but\nwe have to have at least two,\n\n304\n00:15:22.240 --> 00:15:25.480\nwhich is why I'm choosing at least\ntwo to be able to create the link.\n\n305\n00:15:25.480 --> 00:15:30.220\nSo we could create a series of links and\nhave those made available to us and\n\n306\n00:15:30.220 --> 00:15:31.730\nobviously once we do that\n\n307\n00:15:33.350 --> 00:15:35.980\nwe would then be able to start\npopulating those and using them.\n\n308\n00:15:35.980 --> 00:15:41.050\nNotice, you'll, in the site itself for\ninstance, in APAC, in Amia, there's no\n\n309\n00:15:41.050 --> 00:15:44.970\ndifference right now in the sense that I\ndon't suddenly start growing machines and\n\n310\n00:15:44.970 --> 00:15:47.770\nthrowing them in there and doing all this\nstuff just cuz I created a site link.\n\n311\n00:15:47.770 --> 00:15:49.710\nThere are no servers in\nthose sites right now.\n\n312\n00:15:49.710 --> 00:15:53.101\nSo there's really nothing that's gonna\nchange but the point is as we start to\n\n313\n00:15:53.101 --> 00:15:55.830\npopulate them, I would then\nhave these built in connectors.\n\n314\n00:15:55.830 --> 00:15:59.343\nThese side links that could be leveraged\nto replicate information between them.\n\n315\n00:15:59.343 --> 00:16:03.630\nSo we're building out the architecture,\nin other words, even though we may not be\n\n316\n00:16:03.630 --> 00:16:06.827\npopulating the physical servers right now,\njust so we know.\n\n317\n00:16:06.827 --> 00:16:11.620\nSo, we can go look at the properties\nhere of one of these site connectors.\n\n318\n00:16:11.620 --> 00:16:13.840\nThe site links,\njust to see what we're doing.\n\n319\n00:16:13.840 --> 00:16:16.430\nWe'll take a look at one,\ndoesn't really matter which one.\n\n320\n00:16:16.430 --> 00:16:19.300\n&gt;&gt; And because you generated these\nmanually you said they were gonna stay\n\n321\n00:16:19.300 --> 00:16:20.100\nstatic, so\n\n322\n00:16:20.100 --> 00:16:23.380\nthat they're not gonna be changing in\nany way unless we go back in there.\n\n323\n00:16:23.380 --> 00:16:26.060\nAnd then go ahead and\nchange them manually.\n\n324\n00:16:26.060 --> 00:16:30.760\n&gt;&gt; They will not be removed and deleted\nunless I delete them manually, correct.\n\n325\n00:16:30.760 --> 00:16:34.110\n&gt;&gt; The KCC has no power to\nremove these site links or\n\n326\n00:16:34.110 --> 00:16:38.330\nconnection objects unless we decide we're\ngonna work with them ourselves, correct.\n\n327\n00:16:38.330 --> 00:16:39.970\n&gt;&gt; All right.\n&gt;&gt; So, when we go in,\n\n328\n00:16:39.970 --> 00:16:45.390\nwe can see that the area that may be of\ninterest to us is the replication every,\n\n329\n00:16:45.390 --> 00:16:46.900\nhow many minutes we're replicating.\n\n330\n00:16:46.900 --> 00:16:49.670\nSight links, by default,\nreplicate every 180 minutes, or\n\n331\n00:16:49.670 --> 00:16:51.640\nare used every 180 minutes.\n\n332\n00:16:51.640 --> 00:16:54.730\nSo that means if we,\nthink about hours, every three hours.\n\n333\n00:16:54.730 --> 00:16:58.830\nAnd we have a cost metric associated\nwith this to value the link.\n\n334\n00:16:58.830 --> 00:17:01.360\nNotice that if you just\nlook off to the right here,\n\n335\n00:17:01.360 --> 00:17:04.720\nall the links have the same cost and\nall have the same replication interval,\n\n336\n00:17:04.720 --> 00:17:08.830\nwhether they were created by the system or\ncreated by me those are the defaults which\n\n337\n00:17:08.830 --> 00:17:13.450\nmeans all of the links are equally valued\nor essentially the metric says all of them\n\n338\n00:17:13.450 --> 00:17:17.960\ncan be used there's no preference but\nwe can modify the costs, signify that one\n\n339\n00:17:17.960 --> 00:17:22.980\nmaybe less or more costly than another,\nprioritizing the use of that link.\n\n340\n00:17:22.980 --> 00:17:25.680\nAnd we can specify replication\nintervals are different, so\n\n341\n00:17:25.680 --> 00:17:28.460\nthat we can replicate more aggressively or\nless aggressively.\n\n342\n00:17:28.460 --> 00:17:31.485\n&gt;&gt; Across the link as well,\nit would be up to us to decide.\n\n343\n00:17:31.485 --> 00:17:33.440\nSo, just keeping that in mind, right?\n\n344\n00:17:34.560 --> 00:17:36.620\nWe can do our change schedule here.\n\n345\n00:17:36.620 --> 00:17:41.010\nAnd, we can specify not how often we\nreplicate with the chain schedule.\n\n346\n00:17:41.010 --> 00:17:44.830\nThat's a time value, we would\nsignify that by changing the number.\n\n347\n00:17:44.830 --> 00:17:48.520\nBut rather what periods of\ntime Monday to Monday or\n\n348\n00:17:48.520 --> 00:17:53.670\n24 by 7 across the calendar will\nthe connection actually be available?\n\n349\n00:17:53.670 --> 00:17:54.680\nSo we could say,\n\n350\n00:17:54.680 --> 00:17:58.170\nI only want this replication link to\nbe available Tuesday from 5 to 7.\n\n351\n00:17:58.170 --> 00:18:02.450\nAnd then, that's the only time\nthis link would come online.\n\n352\n00:18:02.450 --> 00:18:06.490\nAnd I can do that by gonna here and\nsaying okay.\n\n353\n00:18:06.490 --> 00:18:10.020\nMake this not available during this\nperiod of time or make it available.\n\n354\n00:18:10.020 --> 00:18:15.480\nYou can see I'm doing this kind of\nthing here and carving out periods\n\n355\n00:18:15.480 --> 00:18:19.280\nof time where it may not, or it may be\navailable right whatever the case may be.\n\n356\n00:18:19.280 --> 00:18:21.960\nAnd then,\nI would obviously specify accordingly\n\n357\n00:18:21.960 --> 00:18:26.440\nhow I want to be able to use\nthe replication because if it's on or off.\n\n358\n00:18:26.440 --> 00:18:29.070\nDuring certain periods of time it can\nonly replicate when it's available.\n\n359\n00:18:29.070 --> 00:18:32.520\nSo remember I talked about the fact\nthat I could schedule and control\n\n360\n00:18:32.520 --> 00:18:37.310\nreplication under certain circumstances,\nnot just by signifying the length of time\n\n361\n00:18:37.310 --> 00:18:40.940\nbetween replication events, but the actual\navailability of the sighting connector.\n\n362\n00:18:40.940 --> 00:18:43.460\nAnd so this is what we could\ndo if we choose to do that.\n\n363\n00:18:43.460 --> 00:18:44.990\nIt'd be up to us to decide.\n\n364\n00:18:44.990 --> 00:18:48.190\nAnd if you're really really bored,\nand you´ve got nothing else going on.\n\n365\n00:18:48.190 --> 00:18:51.092\nJust one sec,\nlet me show you something cool here.\n\n366\n00:18:51.092 --> 00:18:53.315\nSo we could also do this, right?\n\n367\n00:19:01.126 --> 00:19:02.175\n&gt;&gt; You making a happy face?\n\n368\n00:19:02.175 --> 00:19:03.841\n&gt;&gt; Absolutely.\n&gt;&gt; This is the same interface like\n\n369\n00:19:03.841 --> 00:19:07.411\nwith active directory users and computers,\nwhen you can specify certain hours for\n\n370\n00:19:07.411 --> 00:19:08.430\nlong on or log off.\n\n371\n00:19:08.430 --> 00:19:10.785\nAnd yeah, okay, there you go.\n\n372\n00:19:10.785 --> 00:19:13.290\n[LAUGH]\n&gt;&gt; That's Cherokee, by the way.\n\n373\n00:19:13.290 --> 00:19:15.350\nThat's the modern art version of Cherokee.\n\n374\n00:19:15.350 --> 00:19:16.610\nSo, I just essentially did a portrait.\n\n375\n00:19:16.610 --> 00:19:17.970\n&gt;&gt; I didn't know you were multi-talented.\n\n376\n00:19:17.970 --> 00:19:19.470\n&gt;&gt; I just did a portrait of you, look.\n\n377\n00:19:19.470 --> 00:19:22.210\nIf you look It's like, yeah,\nput her back on the screen.\n\n378\n00:19:22.210 --> 00:19:24.315\nThe only thing I'm\nmissing is the ponytale.\n\n379\n00:19:24.315 --> 00:19:25.990\n&gt;&gt; [LAUGH]\n&gt;&gt; And the ears, I gotta put the ears on.\n\n380\n00:19:25.990 --> 00:19:28.710\nBut that's essentially Cherokee\nright there, she's happy.\n\n381\n00:19:28.710 --> 00:19:30.015\nJust like she is in the real world.\n\n382\n00:19:30.015 --> 00:19:30.650\n&gt;&gt; [LAUGH]\n&gt;&gt; No,\n\n383\n00:19:30.650 --> 00:19:31.960\nI digress of course, and we're kidding.\n\n384\n00:19:31.960 --> 00:19:33.450\nYou don't do this, and\nplease don't do this.\n\n385\n00:19:33.450 --> 00:19:35.150\nThis is not the appropriate use.\n\n386\n00:19:35.150 --> 00:19:35.870\nOf this technology.\n\n387\n00:19:35.870 --> 00:19:36.830\nWe're just fooling around with you.\n\n388\n00:19:36.830 --> 00:19:39.930\nBut you can obviously go in,\nand change the schedule.\n\n389\n00:19:39.930 --> 00:19:41.530\nAnd it is important to\nknow that you can do that.\n\n390\n00:19:41.530 --> 00:19:42.680\nThat is important.\n\n391\n00:19:42.680 --> 00:19:45.510\nReplicate every, you can change and\nmodify the number of minutes there.\n\n392\n00:19:45.510 --> 00:19:47.385\nDo take note of the fact\nthat it is in minutes.\n\n393\n00:19:47.385 --> 00:19:50.935\nMinutes and do understand as we talk\nabout the fact that we do have a cost\n\n394\n00:19:50.935 --> 00:19:53.635\nobject there or\nrather a cost metric as well.\n\n395\n00:19:53.635 --> 00:19:57.335\nRemember we always have security\non every object we create and\n\n396\n00:19:57.335 --> 00:20:00.485\nwe do have the ability to\nspecify what objects, whether\n\n397\n00:20:00.485 --> 00:20:05.125\nthey're computer accounts, authenticated\nuser as you could see some accounts, etc.\n\n398\n00:20:05.125 --> 00:20:09.470\nWe'll be given rights to this so just make\nsure you're aware of that as well, so\n\n399\n00:20:09.470 --> 00:20:13.350\nwe could go in and modify this and also\nchange the settings here if we wanted to,\n\n400\n00:20:13.350 --> 00:20:15.070\nbe up to us to decide.\n\n401\n00:20:15.070 --> 00:20:16.600\nAnd so once we've set this up,\n\n402\n00:20:16.600 --> 00:20:21.070\nlet's just say hypothetically we have all\nthis going on, if we wanted to go in and\n\n403\n00:20:21.070 --> 00:20:24.670\nwe wanted to monitor replication,\nwhich would be another thing to consider.\n\n404\n00:20:24.670 --> 00:20:28.130\nWe'll talk about the differences between\nintersite and intrasite in a minute.\n\n405\n00:20:28.130 --> 00:20:29.140\nBut, let's assume for\n\n406\n00:20:29.140 --> 00:20:33.030\na minute we're just wanting to take a look\nat replication overall, monitor that.\n\n407\n00:20:33.030 --> 00:20:37.380\nWe do have to make sure we are aware\nof how replication will take place.\n\n408\n00:20:37.380 --> 00:20:38.750\nAnd we may wanna take a look at it.\n\n409\n00:20:38.750 --> 00:20:41.960\nSo let's go in, let me just switch\nover to my other machine here,\n\n410\n00:20:41.960 --> 00:20:43.260\nmy domain controller.\n\n411\n00:20:43.260 --> 00:20:46.910\nLet me open up a console\nto that machine real quick.\n\n412\n00:20:46.910 --> 00:20:49.160\nActually let me just establish a console.\n\n413\n00:20:49.160 --> 00:20:51.430\nOkay no I was on that I didn't\nrealize I was on that machine.\n\n414\n00:20:51.430 --> 00:20:52.810\nHere we are on the domain controller.\n\n415\n00:20:52.810 --> 00:20:56.290\nI forgot I was actually on the other\nmachine, one of the domain members.\n\n416\n00:20:56.290 --> 00:20:57.600\nI didn't realize I was on this machine.\n\n417\n00:20:57.600 --> 00:21:02.140\nSo give me just a second, let me just go\nin and let me just minimize all this.\n\n418\n00:21:02.140 --> 00:21:03.620\nAnd let me just open a PowerShell here.\n\n419\n00:21:03.620 --> 00:21:06.540\nAnd let me just make this a little bigger,\nso you guys can see this.\n\n420\n00:21:06.540 --> 00:21:09.690\nSo little bit easier sometimes\nlet me increase the font size.\n\n421\n00:21:10.880 --> 00:21:14.770\nAnd that way, when I type some stuff in\nyou can actually see what we're doing.\n\n422\n00:21:14.770 --> 00:21:16.600\nAlright, so let's go in.\n\n423\n00:21:16.600 --> 00:21:20.360\nLet's take a look at rep Admin here.\n\n424\n00:21:20.360 --> 00:21:25.200\nAnd let me go in and do show Rep L\n\n425\n00:21:26.920 --> 00:21:31.260\nand let's go in and\njust output that to Whoops.\n\n426\n00:21:31.260 --> 00:21:33.440\nThat's not what I wanted.\n\n427\n00:21:33.440 --> 00:21:35.130\nI wanted that right there- output.\n\n428\n00:21:35.130 --> 00:21:42.150\nAnd let's put that out to dc rep\nl dot txt just to show the file.\n\n429\n00:21:42.150 --> 00:21:43.330\nSo, we can do that.\n\n430\n00:21:45.430 --> 00:21:50.086\nAnd let's then, go into Notepad,\nand let's open that file up.\n\n431\n00:21:50.086 --> 00:21:55.420\nRep l dot txt.\n\n432\n00:21:55.420 --> 00:22:00.030\nAnd what we're doing is just pulling\ndown some information from rep admin,\n\n433\n00:22:00.030 --> 00:22:05.100\nrep admin and show rep l is just going to\nshow some of the replication information.\n\n434\n00:22:05.100 --> 00:22:09.440\nI just outputted it to a Text file just so\nwe could see what was gonna in there.\n\n435\n00:22:09.440 --> 00:22:13.710\nSo you'll see here, right, show against\nthe full domain controller plab DC1,\n\n436\n00:22:13.710 --> 00:22:16.150\nthe only domain controller\nin the system right now.\n\n437\n00:22:16.150 --> 00:22:20.430\nBut you'll see for North America for the\nsite that we are in, remember we renamed\n\n438\n00:22:20.430 --> 00:22:24.300\ndefault for site name site to North\nAmerica, so that's what we're seeing.\n\n439\n00:22:24.300 --> 00:22:28.320\nThe DSA option is a global catalog,\nyes or no it is.\n\n440\n00:22:28.320 --> 00:22:30.410\nAnd site options, we don't have any.\n\n441\n00:22:30.410 --> 00:22:34.670\nAnd just our GUIDs, our information\nabout the unique replication ID for\n\n442\n00:22:34.670 --> 00:22:36.130\nthis domain controller is there.\n\n443\n00:22:36.130 --> 00:22:40.430\nIf I had scaled this out and I had more\ndomain controllers and more partners\n\n444\n00:22:40.430 --> 00:22:43.880\nactually replicating I would actually\nget more information by looking at this.\n\n445\n00:22:43.880 --> 00:22:48.090\nThis just really allows me To see\nbasic information that is gonna or\n\n446\n00:22:48.090 --> 00:22:51.350\nrather the basic set up of\nreplication that would be going on.\n\n447\n00:22:51.350 --> 00:22:55.360\nBut I can go in and I can actually\nreplicate manually instead of waiting for\n\n448\n00:22:55.360 --> 00:22:59.220\nreplication to take place and\ngenerate more information if I wanted to.\n\n449\n00:22:59.220 --> 00:23:04.100\nBut using the rep admin command,\nI am able to\n\n450\n00:23:04.100 --> 00:23:08.740\ntake a look at Replication, and\nif you're not familiar with Repadmin,\n\n451\n00:23:08.740 --> 00:23:11.630\nit is one of the tools we use\nto do replication monitoring.\n\n452\n00:23:11.630 --> 00:23:16.780\nYou can see I just brought up the help\nfile here, just by doing Repadmin and\n\n453\n00:23:16.780 --> 00:23:18.920\nthen forward slash question mark.\n\n454\n00:23:18.920 --> 00:23:20.860\nAnd so it would be good for\nyou to take a look.\n\n455\n00:23:20.860 --> 00:23:25.290\nThere is quite a bit of information\nabout how Repadmin works.\n\n456\n00:23:25.290 --> 00:23:28.040\nAnd actually what I probably should do\nis just move that over a little bit, so\n\n457\n00:23:28.040 --> 00:23:31.050\nwe're not cutting over on the side,\nso you can see that.\n\n458\n00:23:31.050 --> 00:23:35.383\nAnd you'll see that we do have\nthe replicate, the rep l summary,\n\n459\n00:23:35.383 --> 00:23:38.580\nwe do have the RODC\npassword rep [INAUDIBLE].\n\n460\n00:23:38.580 --> 00:23:41.350\nWe could take a look at read-only\ndomain controller replication.\n\n461\n00:23:41.350 --> 00:23:44.310\nShow metadata, I use the show rep RL to\n\n462\n00:23:44.310 --> 00:23:47.630\nshow the replication status with\nthe specific domain controller.\n\n463\n00:23:47.630 --> 00:23:52.391\nSo I can use a lot of these sub commands\nto really zero in on replication\n\n464\n00:23:52.391 --> 00:23:53.468\ninformation.\n\n465\n00:23:53.468 --> 00:23:56.254\nAnd it would not be a bad idea for\nyou to know about rep admin and\n\n466\n00:23:56.254 --> 00:23:58.836\nperhaps some of the commands\nthat are available for it.\n\n467\n00:23:58.836 --> 00:24:01.560\nMay come up again, perhaps on the exam.\n\n468\n00:24:01.560 --> 00:24:05.287\nAlways good to know about it for\nthere Never a bad idea to understand how\n\n469\n00:24:05.287 --> 00:24:08.650\nto manage and to understand how\nto interact with those things.\n\n470\n00:24:08.650 --> 00:24:11.400\nYou never know when that may\ncome in handy, so to speak.\n\n471\n00:24:11.400 --> 00:24:13.135\nSo just keep that in mind and\nbe aware of that.\n\n472\n00:24:13.135 --> 00:24:17.189\nBut if we do want to go in and\nwe do want to be able to replicate,\n\n473\n00:24:17.189 --> 00:24:20.129\nwe could go in and\nof course, we would have,\n\n474\n00:24:20.129 --> 00:24:24.360\njust doing a quick refresh here,\njust give me one second.\n\n475\n00:24:24.360 --> 00:24:25.420\nWhy don't you take a look at something?\n\n476\n00:24:25.420 --> 00:24:27.700\nOkay, so if we do want to go in and\n\n477\n00:24:27.700 --> 00:24:32.620\nwe do want to be able to replicate, we can\nreplicate manually as I was suggesting.\n\n478\n00:24:32.620 --> 00:24:34.870\nWe'd have to have a replication\npartner to do that.\n\n479\n00:24:34.870 --> 00:24:38.890\nBut we could go in and cause that to\nhappen, it wouldn't be very difficult.\n\n480\n00:24:38.890 --> 00:24:42.210\nWe could go in and\nwe could do a little searching here.\n\n481\n00:24:42.210 --> 00:24:46.322\nShowing you some of the options we\nhave on our NTDS settings container.\n\n482\n00:24:46.322 --> 00:24:49.925\nYou'll see can replicate configuration\ninformation right here, so\n\n483\n00:24:49.925 --> 00:24:51.825\nwe can right-click and replicate.\n\n484\n00:24:51.825 --> 00:24:54.728\nAgain, we don't have anything to\nreplicate with in this demonstration,\n\n485\n00:24:54.728 --> 00:24:55.890\nbut you get the general idea.\n\n486\n00:24:55.890 --> 00:24:59.860\nWe could replicate here if we wanted to,\ncreate a new connection for\n\n487\n00:24:59.860 --> 00:25:02.230\nreplication from here as well.\n\n488\n00:25:02.230 --> 00:25:06.930\nAnd we could go in, and if we had any\nspecific replication needs based on\n\n489\n00:25:06.930 --> 00:25:09.330\nconnectors, right-click and\nchoose Replication.\n\n490\n00:25:09.330 --> 00:25:11.590\nWe can manually replicate\nnow if we need to.\n\n491\n00:25:11.590 --> 00:25:14.380\nSo we do have that option,\ndepending on what we're doing.\n\n492\n00:25:14.380 --> 00:25:16.850\nTrying to stay centered in\nthe window as I wander away.\n\n493\n00:25:16.850 --> 00:25:19.200\nSo we can replicate manually\nas well as waiting for\n\n494\n00:25:19.200 --> 00:25:23.290\nreplication to take place based on\nwhatever time value we are looking at.\n\n495\n00:25:23.290 --> 00:25:25.130\nAll right, so\nthat's how we would set up sites,\n\n496\n00:25:25.130 --> 00:25:27.960\nmanipulate them a little bit,\ninteract with them.\n\n497\n00:25:27.960 --> 00:25:29.620\nMake sure we understand the logic.\n\n498\n00:25:29.620 --> 00:25:32.200\nWe did talk about the fact there\nis some difference between\n\n499\n00:25:32.200 --> 00:25:34.930\nintersite versus intrasite replication.\n\n500\n00:25:34.930 --> 00:25:36.540\nSo what are some of those differences?\n\n501\n00:25:36.540 --> 00:25:39.570\nI said we kind of really pivot\non the idea of the speed\n\n502\n00:25:39.570 --> 00:25:43.488\nof the connection between two sites when\nwe're talking about intersite replication,\n\n503\n00:25:43.488 --> 00:25:45.540\ndo we have a fast or slow link.\n\n504\n00:25:45.540 --> 00:25:48.110\nWhen we're talking about\nintrasite replication in and\n\n505\n00:25:48.110 --> 00:25:52.320\namong members of the site,\namong domain controllers inside of a site.\n\n506\n00:25:52.320 --> 00:25:55.650\nWe assume high speed,\nreliable connectivity is gonna link these.\n\n507\n00:25:55.650 --> 00:25:58.970\nSo we're not focused on the bandwidth,\nbut rather focused on other options.\n\n508\n00:25:58.970 --> 00:26:03.850\nSo when we are dealing with a site link\nthat is across the connection between\n\n509\n00:26:03.850 --> 00:26:08.194\ntwo sites and it's slow versus fast,\nwe have to worry about that.\n\n510\n00:26:08.194 --> 00:26:11.792\nBecause we have to then decide whether or\nnot we wanna replicate across that\n\n511\n00:26:11.792 --> 00:26:14.260\nconnection, and so\nwe do have to think about that.\n\n512\n00:26:14.260 --> 00:26:18.200\nReplication within a site, we assume\nhigh speed reliable connectivity, and\n\n513\n00:26:18.200 --> 00:26:20.840\ntherefore, we do not compress\nthe replication traffic.\n\n514\n00:26:20.840 --> 00:26:23.960\nWe send it out across the wire and\njust let it take its course and\n\n515\n00:26:23.960 --> 00:26:25.107\ndo what it needs to do.\n\n516\n00:26:25.107 --> 00:26:28.591\nWhen we are replicating between sites,\nwe assume low speed,\n\n517\n00:26:28.591 --> 00:26:32.614\nunreliable connections,\neven though we may have good connectivity.\n\n518\n00:26:32.614 --> 00:26:36.168\nAnd we will compress our replication\ntraffic in order to make sure it gets\n\n519\n00:26:36.168 --> 00:26:39.900\nthere and is going to be viable and\nwe're not gonna have issues with it.\n\n520\n00:26:39.900 --> 00:26:43.290\nThis is yet another reason why we\ndistinguish between the differences in\n\n521\n00:26:43.290 --> 00:26:44.880\nthe two protocols.\n\n522\n00:26:44.880 --> 00:26:49.850\nRPC over IP is done for\nintrasite replication across the wire,\n\n523\n00:26:49.850 --> 00:26:53.080\nhigh speed, good connectivity,\nno compression required.\n\n524\n00:26:53.080 --> 00:26:57.880\nSMTP between two sites, intersite\nreplication, SMTP is a hardier and\n\n525\n00:26:57.880 --> 00:27:02.930\nmore robust protocol used to being able to\ntransmit in low connectivity situations.\n\n526\n00:27:02.930 --> 00:27:06.470\nRemember it's used primarily for email and\nso it does support the use of compression\n\n527\n00:27:06.470 --> 00:27:08.910\non the wire, and\nthat's why we tend to use that protocol.\n\n528\n00:27:08.910 --> 00:27:11.100\nSo do want to understand that as well.\n\n529\n00:27:11.100 --> 00:27:15.971\nReplication takes that traffic a little\ndown from 100%, let's say, uncompressed,\n\n530\n00:27:15.971 --> 00:27:20.196\nwe compress down to about 10 to 15% of\nthe original volume of the traffic.\n\n531\n00:27:20.196 --> 00:27:24.595\nSo about 90% compression by the time we're\ndone by default on the wire, just so\n\n532\n00:27:24.595 --> 00:27:25.890\nyou're aware of that.\n\n533\n00:27:25.890 --> 00:27:28.660\nSo just some things to consider and\nto think about there.\n\n534\n00:27:29.910 --> 00:27:31.170\nAnd when we are replicating,\n\n535\n00:27:31.170 --> 00:27:34.550\nwe did talk about avoiding\nlatency in replication changes.\n\n536\n00:27:34.550 --> 00:27:38.680\nWe do create and deal with security\nrelated issues as we talked about in prior\n\n537\n00:27:38.680 --> 00:27:40.020\nepisodes immediately.\n\n538\n00:27:40.020 --> 00:27:41.610\nWe do queue up other changes.\n\n539\n00:27:41.610 --> 00:27:44.990\nWe'll talk about how we deal with that and\nthe issues surrounding that.\n\n540\n00:27:44.990 --> 00:27:48.990\nI mentioned the ISTG,\nthe Intrasite Topology Generator, as well.\n\n541\n00:27:48.990 --> 00:27:52.590\nMultiple sites are then gonna\nrequire management of this\n\n542\n00:27:52.590 --> 00:27:54.620\nreplication topology as we saw.\n\n543\n00:27:54.620 --> 00:27:59.280\nRemember, the KCC is going to be\nused on the domain controller in\n\n544\n00:27:59.280 --> 00:28:02.740\nthe site to deal with connection objects\nbetween and among the domain controllers.\n\n545\n00:28:02.740 --> 00:28:06.310\nBut the ISTG creates\nthat overarching all up\n\n546\n00:28:06.310 --> 00:28:08.590\nreplication topology\nthroughout the forest for us.\n\n547\n00:28:08.590 --> 00:28:12.500\nSo wanna make sure we're just\nunderstanding the logic of how we step up,\n\n548\n00:28:12.500 --> 00:28:14.860\nand how we then are generating\nthat information.\n\n549\n00:28:14.860 --> 00:28:17.723\nSo when we are thinking about\nbeing able to replicate,\n\n550\n00:28:17.723 --> 00:28:21.959\nwe're thinking about a combination of\nboth the connection objects among domain\n\n551\n00:28:21.959 --> 00:28:26.279\ncontrollers within a site and site to\nsite replication connections, as you saw.\n\n552\n00:28:26.279 --> 00:28:29.930\nAnd we're creating a combination of\nboth in order to drive replications.\n\n553\n00:28:29.930 --> 00:28:32.620\nI just wanna make sure we're aware\nof that and thinking about that.\n\n554\n00:28:32.620 --> 00:28:37.300\nI did lay out and discuss with you in the\nshow notes just the process for the site,\n\n555\n00:28:37.300 --> 00:28:40.030\nor rather the client, to able find\na domain controller within the site and\n\n556\n00:28:40.030 --> 00:28:41.330\nto figure out replication.\n\n557\n00:28:41.330 --> 00:28:44.349\nYou can obviously catch up on some\nof the show notes and look for\n\n558\n00:28:44.349 --> 00:28:48.065\nmore detailed information that we are\ngiving you that I may not just pop up and\n\n559\n00:28:48.065 --> 00:28:49.887\nwalk through a set of steps with you.\n\n560\n00:28:49.887 --> 00:28:53.434\nBut I did wanna bring up on the screen,\nif you could just join me here for\n\n561\n00:28:53.434 --> 00:28:54.230\njust a minute.\n\n562\n00:28:55.388 --> 00:29:01.140\nHow does a client within the site find the\ndomain controller in the closest site for\n\n563\n00:29:01.140 --> 00:29:01.808\nreplication?\n\n564\n00:29:01.808 --> 00:29:04.356\nHow do domain controllers\nfind themselves to replicate,\n\n565\n00:29:04.356 --> 00:29:06.956\nmost importantly not a client\nfinding it for replication,\n\n566\n00:29:06.956 --> 00:29:09.616\nrather a client finding it to resolve and\ndefine resources.\n\n567\n00:29:09.616 --> 00:29:13.065\nBut rather, how does a domain controller\nfind another one in the closest site?\n\n568\n00:29:13.065 --> 00:29:17.620\nThere is a website that would be valuable\nhere for us to make sure we are aware of.\n\n569\n00:29:17.620 --> 00:29:21.190\nAnd we walk through here the logic\nof the sites and subnet objects,\n\n570\n00:29:21.190 --> 00:29:23.350\nwhich we just talked\nabout with you basically.\n\n571\n00:29:23.350 --> 00:29:27.030\nAnd we go through and understand the idea\nof mapping IP addresses to site names.\n\n572\n00:29:27.030 --> 00:29:30.640\nThe subnets, we talked about all that and\nhow that's gonna be used.\n\n573\n00:29:30.640 --> 00:29:34.530\nAnd we talk about here determining\nsite coverage based on the cost,\n\n574\n00:29:34.530 --> 00:29:36.300\nthe cost metric on the connector.\n\n575\n00:29:36.300 --> 00:29:37.470\nAll the things I walked through with you,\n\n576\n00:29:37.470 --> 00:29:40.460\nthat we just did in our demonstration\nare all discussed here.\n\n577\n00:29:40.460 --> 00:29:44.210\nJust gives you a little bit more depth in\nterms of understanding the information.\n\n578\n00:29:44.210 --> 00:29:47.360\nIf you just wanna read through it on\nyour own, perhaps cross-reference\n\n579\n00:29:47.360 --> 00:29:50.300\nit with our conversation, just so\nyou know what we went through.\n\n580\n00:29:50.300 --> 00:29:53.980\nBut all the different object items that\nwe looked at on the site connectors\n\n581\n00:29:53.980 --> 00:29:55.015\nare covered here.\n\n582\n00:29:55.015 --> 00:29:58.880\nIt's just the explanation of what we did\nin other words, just so you can see.\n\n583\n00:29:58.880 --> 00:30:01.720\nAnd the reason I like\nthis particular page,\n\n584\n00:30:01.720 --> 00:30:04.950\nif you're interested in this level\nof detail, it does go in and\n\n585\n00:30:04.950 --> 00:30:07.675\nactually talk about the site coverage\nalgorithm that's used a little bit.\n\n586\n00:30:07.675 --> 00:30:10.651\nIt just gives you a little more insight\ninto how we actually generate those\n\n587\n00:30:10.651 --> 00:30:12.332\nconnections and what they're used for.\n\n588\n00:30:12.332 --> 00:30:14.552\nAnd it also talks about cache timeouts and\n\n589\n00:30:14.552 --> 00:30:18.060\nhow we measure that against\nthe closest site timeout entry.\n\n590\n00:30:18.060 --> 00:30:20.625\nSo we can figure out where\nwe should be replicating,\n\n591\n00:30:20.625 --> 00:30:22.440\nwhat the closest connection will be.\n\n592\n00:30:22.440 --> 00:30:26.240\nSo it gives you a little bit more of\nthe technical detail associated with\n\n593\n00:30:26.240 --> 00:30:27.785\nhow this is actually gonna happen.\n\n594\n00:30:27.785 --> 00:30:29.645\nIf you're interested in reading down and\n\n595\n00:30:29.645 --> 00:30:33.695\njust getting a little bit more knowledge\nthere, would be helpful, no need to.\n\n596\n00:30:33.695 --> 00:30:35.685\nProbably not the kind of thing\nyou're gonna get tested on.\n\n597\n00:30:35.685 --> 00:30:38.103\nThe majority of things we've talked\nabout would be the things that will be\n\n598\n00:30:38.103 --> 00:30:38.925\nimportant to know here.\n\n599\n00:30:38.925 --> 00:30:43.172\nBut still, just good general\ninformation for you to be aware of.\n\n600\n00:30:43.172 --> 00:30:48.682\nIn addition, the AD DS Administration\nCmdlets in PowerShell overall for\n\n601\n00:30:48.682 --> 00:30:53.082\nall of Active Directory services,\nnot just replication, but\n\n602\n00:30:53.082 --> 00:30:57.452\nreplication and the Site Services\nConnections are part of this.\n\n603\n00:30:57.452 --> 00:31:00.682\nWhich you would wanna take a look\nmost likely as I'm scrolling down,\n\n604\n00:31:00.682 --> 00:31:02.882\nand you can see all the different cmdlets.\n\n605\n00:31:02.882 --> 00:31:04.420\nLet's just start right here.\n\n606\n00:31:04.420 --> 00:31:07.754\nAnd there's a variety of them,\nthese are not just limited to replication.\n\n607\n00:31:07.754 --> 00:31:12.639\nBut you can see as I scroll down,\nthat get ad replication site link,\n\n608\n00:31:12.639 --> 00:31:17.800\nget ad replication site,\nreplication site link bridge, subnet etc.\n\n609\n00:31:17.800 --> 00:31:20.742\nThere are a bunch of cmdlets that\nare specific to replication,\n\n610\n00:31:20.742 --> 00:31:23.385\nbut there's a broad series\nof cmdlets in replication.\n\n611\n00:31:23.385 --> 00:31:25.230\nIt's just one function within there.\n\n612\n00:31:25.230 --> 00:31:29.480\nSo those would be probably good for\nyou to be noting or just be aware of.\n\n613\n00:31:29.480 --> 00:31:32.510\nWe have talked about\nwhat AD site links are.\n\n614\n00:31:32.510 --> 00:31:33.950\nWe didn't talk about site link bridging.\n\n615\n00:31:33.950 --> 00:31:37.445\nI thought I would just mention that real\nquickly cuz you could see we're talking\n\n616\n00:31:37.445 --> 00:31:38.225\nabout this here.\n\n617\n00:31:38.225 --> 00:31:41.435\nAt least we talk about the site link or\nthe site link bridge.\n\n618\n00:31:41.435 --> 00:31:44.545\nSo let's just quickly talk about\nwhat a site link bridge is.\n\n619\n00:31:44.545 --> 00:31:46.333\nA site link bridge just connect two or\n\n620\n00:31:46.333 --> 00:31:49.629\nmore site links in a way that creates\nwhat we call a transitive link.\n\n621\n00:31:49.629 --> 00:31:53.114\nAnd the site link bridge is\nnecessary only when we have cleared\n\n622\n00:31:53.114 --> 00:31:57.819\nthe bridge all site link check box in a\ntransport protocol, removing that option.\n\n623\n00:31:57.819 --> 00:32:01.576\nIn other words, we normally will have this\ncapability to be able to link the site\n\n624\n00:32:01.576 --> 00:32:02.934\nlinks and have them be used.\n\n625\n00:32:02.934 --> 00:32:03.995\nIt's not a problem.\n\n626\n00:32:03.995 --> 00:32:07.124\nBut if we decide to do that or\nwe uncheck the box I should say,\n\n627\n00:32:07.124 --> 00:32:10.879\nwe can go in and create a site link\nbridge linking these connections, so\n\n628\n00:32:10.879 --> 00:32:12.460\nthat they can be referenced.\n\n629\n00:32:12.460 --> 00:32:16.530\nAnd what we mean by that, let me just\ncome back here, give me half a second and\n\n630\n00:32:16.530 --> 00:32:17.690\nI will show you.\n\n631\n00:32:17.690 --> 00:32:24.880\nSo if we go in here, and\nwe go in and just take a look here.\n\n632\n00:32:24.880 --> 00:32:28.066\nAnd let's just take a look here\nreal quick, just one second,\n\n633\n00:32:28.066 --> 00:32:29.490\nor actually you know what?\n\n634\n00:32:29.490 --> 00:32:34.997\nI can't do it on this one, because this\none doesn't have that, but let me do this.\n\n635\n00:32:34.997 --> 00:32:38.509\nWe can do this either way, but you see,\nI can right click on either container but\n\n636\n00:32:38.509 --> 00:32:41.302\nI'll just create a site link bridge or\njust show it to you here.\n\n637\n00:32:41.302 --> 00:32:44.239\nYou'll see site link bridge, all right?\n\n638\n00:32:44.239 --> 00:32:47.970\nOne second, right idea,\nwrong place, there we go.\n\n639\n00:32:47.970 --> 00:32:50.580\nGotta have container objects or\nconnection objects to do that.\n\n640\n00:32:50.580 --> 00:32:53.460\nI thought it was on the IP folder,\nnot the SMTP folder.\n\n641\n00:32:53.460 --> 00:32:56.258\nYou'll see that it's on the side of at\nleast two connection links, I can do this.\n\n642\n00:32:56.258 --> 00:33:00.183\nRemember, I created, just move this\nover so you can see them here.\n\n643\n00:33:00.183 --> 00:33:01.528\nI created different links and\n\n644\n00:33:01.528 --> 00:33:04.340\nnamed them already, so\nI do have the ability to do this.\n\n645\n00:33:04.340 --> 00:33:10.166\nSo let's say I will bring in, maybe these\ntwo ones right here, and give this a name.\n\n646\n00:33:10.166 --> 00:33:14.090\nJust call it site link bridge.\n\n647\n00:33:16.307 --> 00:33:18.570\nJust so we know what it is.\n\n648\n00:33:18.570 --> 00:33:20.900\nCreate that, and\nthen I have a site link bridge.\n\n649\n00:33:20.900 --> 00:33:25.410\nWhat it really does is just links\nthose two connections together for\n\n650\n00:33:25.410 --> 00:33:28.730\nme into a manageable object, and allows\nthem to communicate with each other.\n\n651\n00:33:28.730 --> 00:33:31.130\nSo it just binds them together\nas you can see there.\n\n652\n00:33:31.130 --> 00:33:32.413\nWhat are the site links in the bridge?\n\n653\n00:33:32.413 --> 00:33:35.692\nI just took two of my links and joined\nthem together, and said essentially,\n\n654\n00:33:35.692 --> 00:33:38.984\ncreate an object that allows these two\nlinks to connect and to communicate.\n\n655\n00:33:38.984 --> 00:33:41.120\nAnd that's what a site link bridge does.\n\n656\n00:33:41.120 --> 00:33:45.730\nSo it allows me to take site links that\nmay normally not communicate directly and\n\n657\n00:33:45.730 --> 00:33:47.090\nbind them together administratively,\n\n658\n00:33:47.090 --> 00:33:49.930\ncreating a pathway for\nthem to be able to talk.\n\n659\n00:33:49.930 --> 00:33:53.810\nThat way the site links are able\nto communicate back and forth.\n\n660\n00:33:53.810 --> 00:33:56.780\nSo that's normally done automatically.\n\n661\n00:33:56.780 --> 00:33:58.540\nSite link bridging is enabled by default.\n\n662\n00:33:58.540 --> 00:34:00.672\nI don't normally need to go and\nmanually specify this.\n\n663\n00:34:00.672 --> 00:34:04.578\nSite links will normally be able to\ncommunicate with each other as long as\n\n664\n00:34:04.578 --> 00:34:07.152\nthey are created in\nthe right protocol folder.\n\n665\n00:34:07.152 --> 00:34:11.554\nSo IP site inks will create multiple ones\nand then they can talk to each other and\n\n666\n00:34:11.554 --> 00:34:13.363\nbe leveraged for replication.\n\n667\n00:34:13.363 --> 00:34:15.838\nI don't normally have to\nbridge them directly, but\n\n668\n00:34:15.838 --> 00:34:17.581\nthere may be reasons why I may go in and\n\n669\n00:34:17.581 --> 00:34:21.083\nmanually decide to create a bridge\nlinking two specific links together.\n\n670\n00:34:21.083 --> 00:34:25.048\nIf I want to be able to ensure they're\ncommunicating or that we want to use them\n\n671\n00:34:25.048 --> 00:34:28.651\nas a dedicated pathway, perhaps\na BCDR event or something like that.\n\n672\n00:34:28.651 --> 00:34:32.576\nSo maybe reasons why site link bridging\nwould be valuable for me to be able to do.\n\n673\n00:34:32.576 --> 00:34:36.233\nBut normally, these site links are able\nto communicate with each other already.\n\n674\n00:34:36.233 --> 00:34:39.250\nSo I don't have to specify or\nhard code a path.\n\n675\n00:34:39.250 --> 00:34:42.840\nBut imagine if I had a whole bunch of site\nlinks, not just two or three, but two or\n\n676\n00:34:42.840 --> 00:34:43.800\nthree hundred.\n\n677\n00:34:43.800 --> 00:34:46.010\nAnd imagine I wanted to specifically say,\n\n678\n00:34:46.010 --> 00:34:48.540\nno matter what these two site\nlinks should be communicating.\n\n679\n00:34:48.540 --> 00:34:50.860\nThen a manually created site\nlink bridge would ensure that.\n\n680\n00:34:50.860 --> 00:34:53.729\nThat's traditionally why we're gonna\ngo in and do that, just so you know.\n\n681\n00:34:54.850 --> 00:34:56.170\nSo we have all that there.\n\n682\n00:34:56.170 --> 00:35:00.980\nAnd other than some just last little\nvestiges of information that are floating\n\n683\n00:35:00.980 --> 00:35:03.125\naround in my notes, and\nI'm gonna mention one right now.\n\n684\n00:35:03.125 --> 00:35:04.780\nWe're essentially done with this topic,\nbut\n\n685\n00:35:04.780 --> 00:35:07.110\njust one quick thing\nthat I wanna point out.\n\n686\n00:35:07.110 --> 00:35:10.629\nUniversal group membership caching is\nalso real important for us to talk about.\n\n687\n00:35:10.629 --> 00:35:14.554\nCherokee, I don't know if you've ever\ndealt with this or had to deal with this\n\n688\n00:35:14.554 --> 00:35:17.595\nin any of your administration or\nany of your conversations.\n\n689\n00:35:17.595 --> 00:35:20.843\nI'm sure probably some shows at\ncertain points you may come across,\n\n690\n00:35:20.843 --> 00:35:23.760\njust like int the 410 or\n411 information at some point.\n\n691\n00:35:23.760 --> 00:35:26.000\nBut is this something you've\never had to deal with?\n\n692\n00:35:26.000 --> 00:35:29.762\n&gt;&gt; It's not ringing a bell right now,\nbut I can look at the name here and\n\n693\n00:35:29.762 --> 00:35:31.157\nmake some assumptions.\n\n694\n00:35:31.157 --> 00:35:33.432\nBut we all know what that does.\n\n695\n00:35:33.432 --> 00:35:35.138\n&gt;&gt; Well not necessarily.\n\n696\n00:35:35.138 --> 00:35:38.040\nThe idea is that essentially\nuniversal groups are far\n\n697\n00:35:38.040 --> 00:35:39.400\nwide if you think about the logic to it.\n\n698\n00:35:39.400 --> 00:35:42.350\nThey're not gonna be limited,\nlet's say to one domain.\n\n699\n00:35:42.350 --> 00:35:45.090\nAnd so, what we're doing\nhere with universal group.\n\n700\n00:35:45.090 --> 00:35:47.460\nCaching is making this\ninformation available.\n\n701\n00:35:47.460 --> 00:35:49.260\nSo that way if a user logs in,\n\n702\n00:35:49.260 --> 00:35:52.500\nthey can have the benefit of having\nauthenticated and have access\n\n703\n00:35:52.500 --> 00:35:56.700\nto their information on domain controllers\nin the domain where they're operating.\n\n704\n00:35:56.700 --> 00:35:58.674\nAnd we're not gonna have\nto worry about whether or\n\n705\n00:35:58.674 --> 00:36:01.072\nnot we can pull down all that\ninformation to get access to it,\n\n706\n00:36:01.072 --> 00:36:03.954\neven if something's maybe offline for\na period of time, for instance.\n\n707\n00:36:03.954 --> 00:36:06.707\nSo anytime we cache anything,\nwhatever the case may be-\n\n708\n00:36:06.707 --> 00:36:07.300\n&gt;&gt; Pretty straight forward.\n\n709\n00:36:07.300 --> 00:36:09.552\n&gt;&gt; We're making reference to it,\nand making sure it's available.\n\n710\n00:36:09.552 --> 00:36:13.195\nAnd we can configure that\nfrom the NTDS site settings.\n\n711\n00:36:13.195 --> 00:36:18.265\nIn the site node, we can actually go in,\ngive me just a second,\n\n712\n00:36:18.265 --> 00:36:19.665\nwe can take a look at that.\n\n713\n00:36:19.665 --> 00:36:24.420\nBeing able to specify that we\nhave a global catalog setting.\n\n714\n00:36:24.420 --> 00:36:25.990\nWhich is another thing\nwe do here actually, and\n\n715\n00:36:25.990 --> 00:36:27.550\nis probably important as well.\n\n716\n00:36:27.550 --> 00:36:30.400\nBut making sure we know that\nwe're using the global catalog\n\n717\n00:36:30.400 --> 00:36:34.260\noption to specify that all of our domain\ncontrollers, and indeed this domain\n\n718\n00:36:34.260 --> 00:36:37.960\ncontroller is going to be a global\ncatalog, all of them are by default.\n\n719\n00:36:37.960 --> 00:36:42.310\nWe're allowing information to be deposited\nhere remember and be referenced from\n\n720\n00:36:42.310 --> 00:36:47.300\neverywhere in the forest in a short\nlist form, so we can reference different\n\n721\n00:36:47.300 --> 00:36:51.130\nobjects, and then get a full query going\nif we need to pull down more information.\n\n722\n00:36:51.130 --> 00:36:53.760\nSo we could use the global\ncatalog option here.\n\n723\n00:36:53.760 --> 00:36:55.760\nWe do have our connections,\nwe're not replicating to and\n\n724\n00:36:55.760 --> 00:36:57.790\nfrom anything right now,\nbut we'd see them here.\n\n725\n00:36:57.790 --> 00:37:02.207\nWe do see our objects, we can protect\nfrom accidental deletion right from here.\n\n726\n00:37:02.207 --> 00:37:05.272\nGo over security, and\nwe do have our attribute editor.\n\n727\n00:37:05.272 --> 00:37:06.964\nIf for some reason we need to go in.\n\n728\n00:37:06.964 --> 00:37:10.110\nAnd you'll modify one or\nmore of the attributes.\n\n729\n00:37:10.110 --> 00:37:15.915\nSo we can go in and we can specify\nall sorts of different stuff in here,\n\n730\n00:37:15.915 --> 00:37:20.535\nbut we can go in, and\nlet's just say hypothetically.\n\n731\n00:37:20.535 --> 00:37:23.750\nI'll just move this over,\nso we can see one.\n\n732\n00:37:23.750 --> 00:37:25.550\nIt's kind of hard to see some of these.\n\n733\n00:37:25.550 --> 00:37:27.990\nBut let's just say any one of these,\nit doesn't really matter,\n\n734\n00:37:27.990 --> 00:37:29.980\nany one of the ones that may not be set.\n\n735\n00:37:29.980 --> 00:37:35.260\nWe can go in and we can view, and\njust double click to view here.\n\n736\n00:37:35.260 --> 00:37:38.682\nWe could make a change in there if we had\nthe right level of permissions to do so\n\n737\n00:37:38.682 --> 00:37:41.080\nand, or the right need to do so.\n\n738\n00:37:41.080 --> 00:37:43.160\nAnd so,\nwe would be able to see what's going.\n\n739\n00:37:43.160 --> 00:37:46.478\nI have to be an enterprise admin, and\nhave schema master connectivity and\n\n740\n00:37:46.478 --> 00:37:48.687\nrights to be able to go in and\nmodify attributes.\n\n741\n00:37:48.687 --> 00:37:52.644\nBut I could do that through ADSI or\nother editors or\n\n742\n00:37:52.644 --> 00:37:57.371\nother object AD schema\nreferenceable attribute editors.\n\n743\n00:37:57.371 --> 00:37:59.880\nif I chose to,\ntrying to get that word out correctly.\n\n744\n00:37:59.880 --> 00:38:05.325\nBut ADSI edited and or the schema master\nMMC that I talked about the snap,\n\n745\n00:38:05.325 --> 00:38:08.065\nwould be a good place for\nus to be able to go to make those changes.\n\n746\n00:38:08.065 --> 00:38:10.945\nSo I could turn those things on or\nmodify them at will.\n\n747\n00:38:10.945 --> 00:38:13.395\nBut caching is just storing that\ninformation, making it available so\n\n748\n00:38:13.395 --> 00:38:15.285\nthat we can use it if we need to.\n\n749\n00:38:15.285 --> 00:38:17.291\nThen we've talked about, I'm just\nlooking at my notes here real quick.\n\n750\n00:38:17.291 --> 00:38:20.413\nI think the only other\nthing I wanted to show was,\n\n751\n00:38:20.413 --> 00:38:24.996\nno I did talk about the AD commandlets and\nI did talk about the rep admin.\n\n752\n00:38:24.996 --> 00:38:28.311\nThere was one other tool that I did not\nmentioned just thinking through what we\n\n753\n00:38:28.311 --> 00:38:30.142\nhave to talk about before we wrap up.\n\n754\n00:38:30.142 --> 00:38:31.288\nA dcdiag,\n\n755\n00:38:31.288 --> 00:38:34.428\nwhich is our other tool that does\ndirectory services diagnostics for us.\n\n756\n00:38:34.428 --> 00:38:35.621\nAnd that´s a good tool\nto know about as well.\n\n757\n00:38:35.621 --> 00:38:39.160\nWe took a look at rep admin really\nquickly, but dcdiag is an old tool,\n\n758\n00:38:39.160 --> 00:38:40.880\nit's been around for some time.\n\n759\n00:38:40.880 --> 00:38:44.352\nBut a tool that may be valuable for\nyou to have knowledge of as well.\n\n760\n00:38:44.352 --> 00:38:48.015\nDcdiag does a set of diagnostic\ntests against the directory service,\n\n761\n00:38:48.015 --> 00:38:50.933\nmaking sure everything's\nfunctioning the right way,\n\n762\n00:38:50.933 --> 00:38:54.301\nreports on the health of replication and\nsecurity for the ADDS.\n\n763\n00:38:54.301 --> 00:38:56.821\nAnd that would be another good tool for\nyou to be aware of,\n\n764\n00:38:56.821 --> 00:38:57.934\ndid you ever use dcdiag?\n\n765\n00:38:57.934 --> 00:39:04.420\n&gt;&gt; Yes, I do remember because that\nwas one that did come up again also.\n\n766\n00:39:04.420 --> 00:39:07.580\n&gt;&gt; Well it's one that you may obviously,\nperhaps potentially want to have knowledge\n\n767\n00:39:07.580 --> 00:39:12.090\nof, but it is one that would be good for\nyou to be aware of as well.\n\n768\n00:39:12.090 --> 00:39:13.970\nIf you wanna take a look back\nat the screen really quick,\n\n769\n00:39:13.970 --> 00:39:16.920\nI'm just pulling up the help file for\nit just so you can take a look.\n\n770\n00:39:16.920 --> 00:39:18.490\nIts always good just to know its there.\n\n771\n00:39:18.490 --> 00:39:21.690\nAll you do is go into PowerShell and just\ntype dcdiag forward slash question mark.\n\n772\n00:39:21.690 --> 00:39:25.430\nIf I can get back to the top there,\nright there you could see, just so\n\n773\n00:39:25.430 --> 00:39:28.880\nyou could see the help file and\nagain very extensive help file.\n\n774\n00:39:28.880 --> 00:39:32.070\nWould probably be good for\nyou to go through and take a look.\n\n775\n00:39:32.070 --> 00:39:35.710\nThis is one of those ones where maybe\nyou wanna output that to a text file and\n\n776\n00:39:35.710 --> 00:39:38.600\nthen read it offline, so you can get\na better sense of what's in there and\n\n777\n00:39:38.600 --> 00:39:39.990\nmake some study notes about it.\n\n778\n00:39:39.990 --> 00:39:42.685\n&gt;&gt; Maybe even here in PowerShell.\n\n779\n00:39:42.685 --> 00:39:43.421\n&gt;&gt; Yeah, we could.\n\n780\n00:39:43.421 --> 00:39:45.776\nWe could do that.\nSo it's good to just take a look at it,\n\n781\n00:39:45.776 --> 00:39:48.608\nbecause you could see there\nare quite a few switches, and\n\n782\n00:39:48.608 --> 00:39:50.563\nin addition capabilities you can fix.\n\n783\n00:39:50.563 --> 00:39:54.295\nSo you can use dcdiag fix to fix\ncertain errors that are found.\n\n784\n00:39:54.295 --> 00:39:56.915\nYou can go ahead and\nredirect output to a file, so\n\n785\n00:39:56.915 --> 00:39:59.395\nyou could see the output of that and\nthen log it.\n\n786\n00:39:59.395 --> 00:40:02.245\nWe could output it to\nan XML format as well, so\n\n787\n00:40:02.245 --> 00:40:04.385\nit could be used by other log readers.\n\n788\n00:40:04.385 --> 00:40:06.800\nWe could do tests and\nspecify incrementally,\n\n789\n00:40:06.800 --> 00:40:09.660\nonly certain tests are run or\nskipped based on test,\n\n790\n00:40:09.660 --> 00:40:13.010\ntest name or skip test instead of\nthe full battery of tests, right?\n\n791\n00:40:13.010 --> 00:40:14.250\nAnd the tests that are listed,\n\n792\n00:40:14.250 --> 00:40:19.060\nand that's the kind of thing that tends to\nget asked about, are here, advertising,\n\n793\n00:40:19.060 --> 00:40:23.300\ncheck SDR, refdom,\ncheck security errors, connectivity.\n\n794\n00:40:23.300 --> 00:40:26.390\nThere's a whole bunch of tests\nas you can see as I scroll down.\n\n795\n00:40:26.390 --> 00:40:27.210\nQuite a number of them.\n\n796\n00:40:27.210 --> 00:40:28.726\nThese are all the tests\nthat are performed.\n\n797\n00:40:28.726 --> 00:40:32.383\nAnd so, you may wanna go through,\nand I wouldn't recommend you.\n\n798\n00:40:32.383 --> 00:40:35.463\nRemember the 30 or so\ntests that are created and available, but\n\n799\n00:40:35.463 --> 00:40:38.879\nwould be good to know you could that\nyou could selectively choose a test or\n\n800\n00:40:38.879 --> 00:40:40.930\nskip certain tests using a switch.\n\n801\n00:40:40.930 --> 00:40:44.658\nWe tend not to ask as much about tests in\na tool like this as we do the syntax to\n\n802\n00:40:44.658 --> 00:40:46.420\nmaybe accomplish a certain goal.\n\n803\n00:40:46.420 --> 00:40:50.462\nLike how would you,\ngiven these two tests that you wanna run.\n\n804\n00:40:50.462 --> 00:40:52.930\nAnd we tell you the names of\ntwo tests hypothetically,\n\n805\n00:40:52.930 --> 00:40:56.920\nhow would you create the command line that\nruns those tests, skipping all others?\n\n806\n00:40:56.920 --> 00:40:59.960\nThat would be something I'd probably\nwanna know about as opposed to what\n\n807\n00:40:59.960 --> 00:41:02.540\nare the 30 test that dcdiag has?\n\n808\n00:41:02.540 --> 00:41:04.750\nAs an example, right,\npotentially for that tool.\n\n809\n00:41:04.750 --> 00:41:07.040\nSo these are some of the things\nthat may be valuable to you.\n\n810\n00:41:07.040 --> 00:41:11.050\nBut dcdiag, definitely another\ntool along with rep admin\n\n811\n00:41:11.050 --> 00:41:12.860\nthat you wanna make sure you're aware of.\n\n812\n00:41:12.860 --> 00:41:16.430\n&gt;&gt; And there's a lot to think about when\nwe're looking at our sites in replication.\n\n813\n00:41:16.430 --> 00:41:21.780\nBut understanding it all really just helps\nus create a good solid foundation for\n\n814\n00:41:21.780 --> 00:41:23.220\nour Active Directory environments.\n\n815\n00:41:23.220 --> 00:41:25.820\nSo thank you for\nsharing your knowledge with us today Adam.\n\n816\n00:41:25.820 --> 00:41:27.140\nAnd thank you for joining us as well.\n\n817\n00:41:27.140 --> 00:41:30.800\nBut for this show and this topic\nwe're gonna go ahead and sign out.\n\n818\n00:41:30.800 --> 00:41:32.910\nRemember I'm your host, Cherokee Boose.\n\n819\n00:41:32.910 --> 00:41:33.819\n&gt;&gt; I am Adam Gordon.\n\n820\n00:41:33.819 --> 00:41:36.902\n&gt;&gt; See you next time here at ITProTV.\n\n821\n00:41:36.902 --> 00:41:43.048\n[MUSIC]\n\n822\n00:41:43.048 --> 00:41:46.008\n&gt;&gt; Thank you for watching ITProTV\n\n",
          "vimeoId": "224334822"
        }
      ],
      "title": "AD DS Sites and Replication"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Adam and Cherokee introduce the idea of Public Key Infrastructure (PKI). They explain several components such as root and subordinate CA's to prepare you for the discussions ahead.",
          "length": "1849",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-1-implementing_ad_cs-090617-PGM.00_00_15_23.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-1-implementing_ad_cs-090617-PGM.00_00_15_23.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-1-implementing_ad_cs-090617-PGM.00_00_15_23.Still001-sm.jpg",
          "title": "Implementing AD CS",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.176\nWelcome to IT Pro TV,\nI'm your host Don Pezet.\n\n2\n00:00:02.176 --> 00:00:04.019\n[CROSSTALK]\n&gt;&gt; You're watching ITProTV from\n\n3\n00:00:04.019 --> 00:00:05.274\nSan Francisco, California.\n\n4\n00:00:05.274 --> 00:00:06.966\n&gt;&gt; [MUSIC]\n\n5\n00:00:06.966 --> 00:00:10.946\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:10.946 --> 00:00:15.874\n&gt;&gt; Welcome ladies and gentleman to\nyour Windows Server 2012 R2 series.\n\n7\n00:00:15.874 --> 00:00:17.787\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.787 --> 00:00:20.778\nIn this episode we'll be\ntaking a look at implementing\n\n9\n00:00:20.778 --> 00:00:23.129\nActive Directory Certificate Services.\n\n10\n00:00:23.129 --> 00:00:26.867\nWith us today in studios,\nwe have Microsoft expert, Mr. Adam Gordon.\n\n11\n00:00:26.867 --> 00:00:27.903\nHow's it going today, Adam?\n\n12\n00:00:27.903 --> 00:00:31.935\n&gt;&gt; Going well, hopefully it's well going,\ngoing well, well going, whatever it is,\n\n13\n00:00:31.935 --> 00:00:33.231\nit's good for everybody.\n\n14\n00:00:33.231 --> 00:00:34.382\nThat's what we wanna say.\n\n15\n00:00:34.382 --> 00:00:36.618\nIt is good here and\nhopefully it is good for all of you.\n\n16\n00:00:36.618 --> 00:00:41.047\nWelcome back, and certainly we're happy\nto have you come back and join us for yet\n\n17\n00:00:41.047 --> 00:00:45.362\nmore in depth, exciting and informational\ndiscussions around Server 12.\n\n18\n00:00:45.362 --> 00:00:49.490\nIn this case, 12 R2 ADCS,\nActive Directory Certificate Services.\n\n19\n00:00:49.490 --> 00:00:52.493\nWe are gonna talk about one\nof the more interesting and\n\n20\n00:00:52.493 --> 00:00:55.850\nfun aspects of how to set up and\nmanage Directory Services.\n\n21\n00:00:55.850 --> 00:01:00.381\nAnd by extension, all the things we can\ndo as a result of Directory Services with\n\n22\n00:01:00.381 --> 00:01:02.829\nServer 12 using Certificate Services.\n\n23\n00:01:02.829 --> 00:01:07.112\nIn this case to create what we call a PKI,\nPublic Key Infrastructure,\n\n24\n00:01:07.112 --> 00:01:09.943\nallowing us to be able\nto issue certificates,\n\n25\n00:01:09.943 --> 00:01:13.959\nbind them to users,\ncomputer accounts in the Active Directory.\n\n26\n00:01:13.959 --> 00:01:18.645\nSpecify and identify who those particular\nobjects may be, what they may be.\n\n27\n00:01:18.645 --> 00:01:20.649\nBe able to authenticate users,\n\n28\n00:01:20.649 --> 00:01:23.627\nauthenticate end-point\ndevices as a result.\n\n29\n00:01:23.627 --> 00:01:28.127\nBe able to specify what a server is,\nwhat it's going to be able to do.\n\n30\n00:01:28.127 --> 00:01:32.268\nCertificates do so many different\nthings from authentication, in so\n\n31\n00:01:32.268 --> 00:01:35.158\nmany different aspects\nof our infrastructure.\n\n32\n00:01:35.158 --> 00:01:38.082\nAnd they're often unsung heroes,\nwe don't often stop and\n\n33\n00:01:38.082 --> 00:01:40.726\ntake the time to think about\nwhat we do and how we do it.\n\n34\n00:01:40.726 --> 00:01:43.641\nWe tend to take for granted a lot of\nthe times that things work a certain way.\n\n35\n00:01:43.641 --> 00:01:46.552\nWe go to a website and we're able\nto authenticate the website, and\n\n36\n00:01:46.552 --> 00:01:49.265\nable to present our credentials,\nlogin, and do something.\n\n37\n00:01:49.265 --> 00:01:52.042\nAnd kind of just take that in stride and\ndon't really stop and\n\n38\n00:01:52.042 --> 00:01:54.329\nthink about how that happens,\nwhy that happens,\n\n39\n00:01:54.329 --> 00:01:57.170\nwhat goes on behind the scenes\nin order to make that possible.\n\n40\n00:01:57.170 --> 00:02:00.180\n&gt;&gt; Until things are broke usually a lot of\n&gt;&gt; Until things are broke and or\n\n41\n00:02:00.180 --> 00:02:02.847\nuntil somebody says hey why\ndon't you do a show about that?\n\n42\n00:02:02.847 --> 00:02:05.744\nAnd then we'll go and we go ahead and\nwell this is what we do as a result.\n\n43\n00:02:05.744 --> 00:02:08.084\nSo we're gonna spend some\ntime talking about PKI.\n\n44\n00:02:08.084 --> 00:02:11.536\nThought we'd start out by defining some\nvocabulary, right, building up kind of\n\n45\n00:02:11.536 --> 00:02:14.901\nthat thought process that now which that\nknowledge which is involved with PKI.\n\n46\n00:02:14.901 --> 00:02:16.690\nWhat are the moving parts and components?\n\n47\n00:02:16.690 --> 00:02:19.913\nIf you join me here,we have a little\nsecret that we will share with you\n\n48\n00:02:19.913 --> 00:02:21.534\nwhich is this beautiful picture.\n\n49\n00:02:21.534 --> 00:02:24.588\nAnd I think, although we can't\nnecessarily say that you drew this.\n\n50\n00:02:24.588 --> 00:02:25.816\n&gt;&gt; Yeah, I don't remember,\nsomeone drew it.\n\n51\n00:02:25.816 --> 00:02:29.003\n&gt;&gt; We're not sure who drew it, but\nI can tell you for a fact it was not me.\n\n52\n00:02:29.003 --> 00:02:32.231\nI did not draw this picture, but\nregardless, it is a great way for\n\n53\n00:02:32.231 --> 00:02:34.901\nus to begin to talk about\nsome building blocks of PKI.\n\n54\n00:02:34.901 --> 00:02:38.525\nSo we're going to use it to illustrate\nsome things and along the way we'll define\n\n55\n00:02:38.525 --> 00:02:41.046\nsome terminology and\ntalk about some things that go on.\n\n56\n00:02:41.046 --> 00:02:47.122\nSo we have a multi-layer, or multi-level,\nhierarchy that we're representing here.\n\n57\n00:02:47.122 --> 00:02:51.279\nWe do have a root certificate authority\nthat's going to be up at the top end here,\n\n58\n00:02:51.279 --> 00:02:53.923\nwe'll talk about that and\nwhy that's important.\n\n59\n00:02:53.923 --> 00:02:57.569\nWe have intermediate CAs, plural,\nbecause we have two of them.\n\n60\n00:02:57.569 --> 00:03:00.798\nAnd then we have what are known as issuing\nCAs, down here in our third level.\n\n61\n00:03:00.798 --> 00:03:04.134\nAnd below that we have some users,\nwe have some computers,\n\n62\n00:03:04.134 --> 00:03:07.735\nendpoint devices, that are going\nto be gaining or accessing and\n\n63\n00:03:07.735 --> 00:03:10.622\nrequesting, and\nhopefully using certificates.\n\n64\n00:03:10.622 --> 00:03:12.074\nSo we'll talk about how this all works.\n\n65\n00:03:12.074 --> 00:03:16.517\nWe may traditionally see this hierarchy\nlabeled slightly differently.\n\n66\n00:03:16.517 --> 00:03:20.976\nWe may see, and often do see, a root CA at\nthe top and then instead of intermediate\n\n67\n00:03:20.976 --> 00:03:25.503\nand perhaps issuing CA, we often just see\nthese levels referred to generically,\n\n68\n00:03:25.503 --> 00:03:27.943\nkind of collapsed down as subordinate CAs.\n\n69\n00:03:27.943 --> 00:03:30.817\nAnd we'll talk about what that label\nmeans and why that's important.\n\n70\n00:03:30.817 --> 00:03:35.411\nAnd we're also going to talk about this\ndesignation of offline here versus online\n\n71\n00:03:35.411 --> 00:03:38.074\nand why this,\nas a designation of status, is so\n\n72\n00:03:38.074 --> 00:03:40.487\nimportant with regards to our PKI as well.\n\n73\n00:03:40.487 --> 00:03:43.907\nLet's start generically with\nthe idea of certificate authority,\n\n74\n00:03:43.907 --> 00:03:47.687\nthe building block that is the most\ncommon element in every part of the PKI.\n\n75\n00:03:47.687 --> 00:03:51.877\nWhether it is a root, intermediate or\nissuing, whether it is a root and or\n\n76\n00:03:51.877 --> 00:03:56.289\na subordinate CA, we always refer to\nsomething as a certificate authority.\n\n77\n00:03:56.289 --> 00:04:01.329\nThis is a machine designated by role and\nby place in the hierarchy,\n\n78\n00:04:01.329 --> 00:04:05.468\neither an enterprise root CA or\nstandalone root CA, or\n\n79\n00:04:05.468 --> 00:04:10.524\na subordinate CA that is either\nenterprise joined or standalone.\n\n80\n00:04:10.524 --> 00:04:13.499\nSo we have an enterprise root and\nan enterprise subordinate,\n\n81\n00:04:13.499 --> 00:04:16.257\nwe have a standalone root and\na standalone subordinate.\n\n82\n00:04:16.257 --> 00:04:21.322\nAnd the idea is that the CA, or\nthe Certificate Authority, is the machine\n\n83\n00:04:21.322 --> 00:04:26.900\nthat is going to actually be able to,\nin our case, implement, manage, issue.\n\n84\n00:04:26.900 --> 00:04:29.390\nReally throughout the entire life cycle,\n\n85\n00:04:29.390 --> 00:04:34.162\noversee the use of digital certificates\nfrom the creation through the issuance,\n\n86\n00:04:34.162 --> 00:04:37.288\nthrough the management,\nthe long term tracking of.\n\n87\n00:04:37.288 --> 00:04:39.920\nAnd ultimately, the revocation of or\nthe expiring of,\n\n88\n00:04:39.920 --> 00:04:41.494\ndepending on what we're doing.\n\n89\n00:04:41.494 --> 00:04:44.820\nAnd the removal of those certificates\nthroughout the life cycle.\n\n90\n00:04:44.820 --> 00:04:47.143\nSo a Certificate Authority, generically,\n\n91\n00:04:47.143 --> 00:04:51.357\nis one of those machines that's involved\nwith all those aspects of the creation,\n\n92\n00:04:51.357 --> 00:04:55.407\nmanagement, and ultimately the long\nterm use and disposal of certificates.\n\n93\n00:04:55.407 --> 00:05:00.218\nWe designate individual roles within\nthe certificate authority thought process,\n\n94\n00:05:00.218 --> 00:05:04.499\nas I mentioned root versus subordinate,\nenterprise versus standalone.\n\n95\n00:05:04.499 --> 00:05:07.947\nSo let's talk about what a root CA is,\nyou'll see one here.\n\n96\n00:05:07.947 --> 00:05:11.702\nThe root CA is typically the first\nCertificate Authority that is created,\n\n97\n00:05:11.702 --> 00:05:15.279\nas we start to install and\nconfigure the Certificate Authority roles,\n\n98\n00:05:15.279 --> 00:05:16.903\nwe always build a root CA first.\n\n99\n00:05:16.903 --> 00:05:20.602\nEven if it's going to be a standalone\nCA that's not joined directly to\n\n100\n00:05:20.602 --> 00:05:23.502\na Directory Service,\nit is still a root CA initially.\n\n101\n00:05:23.502 --> 00:05:26.598\nAnd we're going to walkthrough, in\nan upcoming episode, I'm going to show you\n\n102\n00:05:26.598 --> 00:05:29.347\nhow to actually install and configure\nboth a root and a subordinate CA.\n\n103\n00:05:29.347 --> 00:05:32.234\nThen how to backup\nthe Certificate Authority information and\n\n104\n00:05:32.234 --> 00:05:33.520\nvarious things like that.\n\n105\n00:05:33.520 --> 00:05:35.293\nSo we'll go through and\nwe'll see how all that works.\n\n106\n00:05:35.293 --> 00:05:40.716\nBut a root CA, the first machine that is\ninstalled into the certificate hierarchy\n\n107\n00:05:40.716 --> 00:05:45.762\nand, as a result, is given the status,\nthe designation of being the root.\n\n108\n00:05:45.762 --> 00:05:46.841\nThe root is the anchor or\n\n109\n00:05:46.841 --> 00:05:50.082\nthe parent if we think about\nparent-child with regards to hierarchy.\n\n110\n00:05:50.082 --> 00:05:52.757\nAnd the root CA has a very\nspecial designation.\n\n111\n00:05:52.757 --> 00:05:55.346\nAnd it's not just called the root CA, but\n\n112\n00:05:55.346 --> 00:06:00.454\nit also gives us the ability to be able to\nissue or grant certificates on behalf of,\n\n113\n00:06:00.454 --> 00:06:05.043\nin this case the root CA to other\nCertificate Authorities or other users or\n\n114\n00:06:05.043 --> 00:06:07.955\ncomputers that may look\nto get certificates.\n\n115\n00:06:07.955 --> 00:06:11.107\nBut traditionally,\nin almost every PKI except for\n\n116\n00:06:11.107 --> 00:06:14.915\nones that may be set up to either\ndo some testing or perhaps just\n\n117\n00:06:14.915 --> 00:06:19.456\nquickly to do a proof of concept or\nperhaps just to test certain theories or\n\n118\n00:06:19.456 --> 00:06:23.371\nfunctionality, we do a traditional\nstandard architecture.\n\n119\n00:06:23.371 --> 00:06:26.615\nWe will use the root CA to do one thing,\nand one thing only,\n\n120\n00:06:26.615 --> 00:06:30.920\nthat will be to issue certificates on\nbehalf of the root CA to what are called,\n\n121\n00:06:30.920 --> 00:06:34.259\nin our diagram here,\neither intermediate or issuing CAs.\n\n122\n00:06:34.259 --> 00:06:38.021\nBut let's just generically group these\ntwo parts of the hierarchy together,\n\n123\n00:06:38.021 --> 00:06:38.938\nthese two levels.\n\n124\n00:06:38.938 --> 00:06:43.326\nLet's say that these are jointly gonna be\nreferred to simply as subordinate CAs.\n\n125\n00:06:43.326 --> 00:06:46.258\nAnd so, the root CA, this downward arrow,\n\n126\n00:06:46.258 --> 00:06:50.712\nimplies that we are issuing\ncertificates on behalf of the root CA.\n\n127\n00:06:50.712 --> 00:06:55.046\nAnd we're giving them to one or more\nsubordinate certificate authorities that\n\n128\n00:06:55.046 --> 00:06:59.124\nwill have the responsibility of taking\nthat certificate from the root CA,\n\n129\n00:06:59.124 --> 00:07:03.026\nestablishing the relationship between\nthe root and the subordinate.\n\n130\n00:07:03.026 --> 00:07:07.104\nAnd pushing the trust of the root CA down,\npropagating that certificate and\n\n131\n00:07:07.104 --> 00:07:11.007\nthe trust down to that root, or\nrather from the root to the subordinate.\n\n132\n00:07:11.007 --> 00:07:15.154\nAnd what that trust entails, and\nwhat that certificate implies,\n\n133\n00:07:15.154 --> 00:07:19.670\nis that the subordinate CA is now given\nthe ability to speak on behalf of,\n\n134\n00:07:19.670 --> 00:07:23.615\nact on behalf of, issue certificates\non behalf of the root CA.\n\n135\n00:07:23.615 --> 00:07:26.853\nSo if, let's just say,\nhypothetically in our example,\n\n136\n00:07:26.853 --> 00:07:29.956\nMs Cherokee sitting over here\nis gonna be our root CA, so\n\n137\n00:07:29.956 --> 00:07:33.412\nlet's just designate Cherokee\nas our root CA for the moment.\n\n138\n00:07:33.412 --> 00:07:36.043\nAnd let's say that she\nissues a certificate,\n\n139\n00:07:36.043 --> 00:07:40.708\nperhaps you could help me out while I'm\ntalking, and issue a quick certificate.\n\n140\n00:07:40.708 --> 00:07:43.060\nIt was a subtle hint for\nyou to do something for me.\n\n141\n00:07:43.060 --> 00:07:45.460\nSo Cherokee's going to create\na quick certificate for us.\n\n142\n00:07:45.460 --> 00:07:50.048\nBut let's say she's a root CA and she's\ngoing to issue a certificate to me, and\n\n143\n00:07:50.048 --> 00:07:52.184\nI'm gonna become a subordinate CA.\n\n144\n00:07:52.184 --> 00:07:56.204\nSo what we're gonna see is magically\nit's going to appear inside our.\n\n145\n00:07:56.204 --> 00:07:58.830\n&gt;&gt; I need to see credentials first,\nMister.\n\n146\n00:07:58.830 --> 00:08:00.235\n&gt;&gt; Sure, absolutely,\nlet me get that for you.\n\n147\n00:08:00.235 --> 00:08:04.374\n&gt;&gt; [LAUGH] One second, so\nhere is my credential.\n\n148\n00:08:04.374 --> 00:08:05.955\n&gt;&gt; That looks legit, okay.\n\n149\n00:08:05.955 --> 00:08:06.802\n&gt;&gt; Well it's a new kind of credential.\n\n150\n00:08:06.802 --> 00:08:08.680\n&gt;&gt; [LAUGH]\n&gt;&gt; It's called the network dongle\n\n151\n00:08:08.680 --> 00:08:09.230\ncredential.\n\n152\n00:08:09.230 --> 00:08:10.927\nIt's new,\nyou're gonna hear all about it later.\n\n153\n00:08:10.927 --> 00:08:14.395\nSo actually, let me present my credential\nto you in a more forthright form.\n\n154\n00:08:14.395 --> 00:08:16.938\n&gt;&gt; [LAUGH] Okay.\n&gt;&gt; I'll give it to you on a thumb drive.\n\n155\n00:08:16.938 --> 00:08:17.973\nI just grabbed the first\nthing I could find.\n\n156\n00:08:17.973 --> 00:08:18.834\n&gt;&gt; That'll work.\n\n157\n00:08:18.834 --> 00:08:22.076\n&gt;&gt; All right, so\nI've given you my credential,\n\n158\n00:08:22.076 --> 00:08:25.159\nyou've checked who I am so,\nI now have the.\n\n159\n00:08:25.159 --> 00:08:26.478\n&gt;&gt; I don't know,\nI tried to do a star on the fly.\n\n160\n00:08:26.478 --> 00:08:30.495\n&gt;&gt; A star certificate, okay, so\nI have the star certificate from Cherokee,\n\n161\n00:08:30.495 --> 00:08:33.317\nbut this, let's say,\nis the root CA certificate.\n\n162\n00:08:33.317 --> 00:08:36.666\nYou have self-signed a certificate,\nissuing yourself one.\n\n163\n00:08:36.666 --> 00:08:40.168\nYou've then issued a certificate to me,\nas a subordinate CA, and\n\n164\n00:08:40.168 --> 00:08:43.683\nwhat that does is that gives me\nthe ability to speak on your behalf.\n\n165\n00:08:43.683 --> 00:08:46.105\nYou've said you trust me, right?\n\n166\n00:08:46.105 --> 00:08:49.998\nAnd I can operate on your behalf to\nissue certificates in your name, right?\n\n167\n00:08:49.998 --> 00:08:51.683\nAnd I can give them out on your behalf.\n\n168\n00:08:51.683 --> 00:08:55.874\nBecause you're gonna go ahead and we're\ngonna take your certificate authority\n\n169\n00:08:55.874 --> 00:08:58.472\nstatus and\nwe're going to deem you to be offline.\n\n170\n00:08:58.472 --> 00:09:01.544\nSo let's go back to our diagram and let's\ntake a look at that for just a second.\n\n171\n00:09:01.544 --> 00:09:06.344\nAnd what we mean by that when we say the\nroot CA is offline is that once Cherokee\n\n172\n00:09:06.344 --> 00:09:11.598\nissues the certificate to herself\ninitially, self-signs her own certificate,\n\n173\n00:09:11.598 --> 00:09:16.698\ngiving herself the right to a be a root\nCA, and then she decides she's gonna issue\n\n174\n00:09:16.698 --> 00:09:21.599\na certificate to me as a subordinate CA,\nshe is turned off and we put her away.\n\n175\n00:09:21.599 --> 00:09:24.355\nWe essentially store\nCherokee somewhere safely.\n\n176\n00:09:24.355 --> 00:09:29.097\nAnd we don't allow her to have access\nto anybody in the outside world.\n\n177\n00:09:29.097 --> 00:09:30.723\nWe don't let anybody talk with her.\n\n178\n00:09:30.723 --> 00:09:32.440\nWe don't let anybody access her.\n\n179\n00:09:32.440 --> 00:09:33.848\nYou're never gonna see\nCherokee ever again.\n\n180\n00:09:33.848 --> 00:09:35.139\nWe're quarantining her, right?\n\n181\n00:09:35.139 --> 00:09:37.859\nYou should go hang out at the elevator or\nsomething.\n\n182\n00:09:37.859 --> 00:09:38.851\nBe away from us.\n\n183\n00:09:38.851 --> 00:09:42.867\nBut the idea is that as we take\nCherokee's certificate authority offline,\n\n184\n00:09:42.867 --> 00:09:45.891\nwe are doing this purposely\nfrom a security standpoint.\n\n185\n00:09:45.891 --> 00:09:49.727\nBecause we don't want to let any of\nthese users down here, right, or\n\n186\n00:09:49.727 --> 00:09:54.358\nany of these computers have direct access\nto the root CA to request certificates and\n\n187\n00:09:54.358 --> 00:09:58.726\ninteract with her directly cuz she's\nmade it clear she's very antisocial and\n\n188\n00:09:58.726 --> 00:10:00.599\nwants nothing to do with people.\n\n189\n00:10:00.599 --> 00:10:03.883\nSo as a result, she said, hey, Adam,\nyou need to take care of this for\n\n190\n00:10:03.883 --> 00:10:05.691\nme cuz I don't wanna talk to anybody.\n\n191\n00:10:05.691 --> 00:10:08.138\nI just wanna basically be on my own,\nright?\n\n192\n00:10:08.138 --> 00:10:12.618\nI wanna be alone and I wanna be able to\njust go off and do the things I wanna do.\n\n193\n00:10:12.618 --> 00:10:16.777\nSo you're gonna take this certificate\nthat you've been issued on my behalf and\n\n194\n00:10:16.777 --> 00:10:20.265\nnow you have the right to act on my\nbehalf to give certificates out.\n\n195\n00:10:20.265 --> 00:10:24.148\nAnd as a result we can establish\nthis hierarchical chain of trust.\n\n196\n00:10:24.148 --> 00:10:27.593\nWe can delegate, essentially,\nand propagate that trust down.\n\n197\n00:10:27.593 --> 00:10:30.475\nAnd so when we do that,\nwe take Cherokee off line, right, so\n\n198\n00:10:30.475 --> 00:10:31.785\nwe remove her from the mix.\n\n199\n00:10:31.785 --> 00:10:32.976\nShe could always come back, right?\n\n200\n00:10:32.976 --> 00:10:35.092\nIf we need her we can call her back.\n\n201\n00:10:35.092 --> 00:10:38.100\nBut for the moment, let's pretend\nshe's offline and unavailable, right?\n\n202\n00:10:38.100 --> 00:10:40.622\nSo then I as an intermediate or\nI as an issuing CA,\n\n203\n00:10:40.622 --> 00:10:44.681\ndepending on what level of hierarchy I\nmay operate at, let's just pretend for\n\n204\n00:10:44.681 --> 00:10:48.553\na minute, we're gonna skip this middle\ntier and go right to the CA that does\n\n205\n00:10:48.553 --> 00:10:52.018\nthe business of giving out\ncertificates to individuals, right.\n\n206\n00:10:52.018 --> 00:10:53.097\nSo the root CA,\n\n207\n00:10:53.097 --> 00:10:57.912\nCherokee has given me a certificate\nthat comes to me as an issuing CA.\n\n208\n00:10:57.912 --> 00:11:03.392\nThe issuing CA then can talk to users and\nor computers whatever they may be.\n\n209\n00:11:03.392 --> 00:11:07.431\nOn any device or any object that\nwould like or subject rather or\n\n210\n00:11:07.431 --> 00:11:11.640\nobject that would like a certificate\nwill talk to an issuing CA.\n\n211\n00:11:11.640 --> 00:11:13.848\nWe call that a subordinate CA generically.\n\n212\n00:11:13.848 --> 00:11:18.185\nAnd that subordinate CA has\nthe ability to give certificates out,\n\n213\n00:11:18.185 --> 00:11:21.981\nthe downward arrows to each\nof these individual objects,\n\n214\n00:11:21.981 --> 00:11:26.250\nissue a certificate out to one of\nthose users on behalf of itself.\n\n215\n00:11:26.250 --> 00:11:29.291\nBut really it's on behalf of\nthe root CA via the issuing\n\n216\n00:11:29.291 --> 00:11:31.683\nCA that we're issuing this certificate.\n\n217\n00:11:31.683 --> 00:11:35.463\nAnd when we look at that certificate\nthat's issued to a user from the issuing\n\n218\n00:11:35.463 --> 00:11:39.139\nor subordinate CA, we would see\nwhat's called the certification path.\n\n219\n00:11:39.139 --> 00:11:42.782\nThe path that says the initial\ncertificate comes from the root CA, and\n\n220\n00:11:42.782 --> 00:11:45.375\nthen we have the subordinate\nCA certificate, and\n\n221\n00:11:45.375 --> 00:11:49.452\nthat path is validated as being active and\nlegitimate because we've extended\n\n222\n00:11:49.452 --> 00:11:53.370\nthe trust on behalf of the root CA\nallowing us to issue those certificates.\n\n223\n00:11:53.370 --> 00:11:57.042\nAnd so when we talk about a root CA,\na root certificate authority,\n\n224\n00:11:57.042 --> 00:12:01.111\nwe talked about the beginning point,\nthe starting point on our journey,\n\n225\n00:12:01.111 --> 00:12:04.018\nthe ability for\nus to be able to issue certificates.\n\n226\n00:12:04.018 --> 00:12:07.676\nAnd I'm thinking without even knowing,\nthat Cherokee's about to ask something and\n\n227\n00:12:07.676 --> 00:12:10.182\nI'm thinking it's gonna be\na really interesting thing.\n\n228\n00:12:10.182 --> 00:12:11.248\nSo what do we wanna say?\n\n229\n00:12:11.248 --> 00:12:12.273\nI know you've been trying\nto get a comment in.\n\n230\n00:12:12.273 --> 00:12:13.009\n&gt;&gt; Yeah.\n\n231\n00:12:13.009 --> 00:12:13.554\n&gt;&gt; Yeah, so.\n&gt;&gt; No,\n\n232\n00:12:13.554 --> 00:12:15.975\nhave you ever seen the movie\nCloudy With a Chance of Meatballs?\n\n233\n00:12:15.975 --> 00:12:16.604\n&gt;&gt; I have.\n\n234\n00:12:16.604 --> 00:12:17.436\n&gt;&gt; You have.\n\n235\n00:12:17.436 --> 00:12:21.406\nOkay, so do you remember the Flint\nLockwood diatonic super mutating dynamic\n\n236\n00:12:21.406 --> 00:12:22.392\nfood replicator?\n\n237\n00:12:22.392 --> 00:12:25.432\n&gt;&gt; I do, that's the thing that makes\nthe meatballs and makes it rain meatballs.\n\n238\n00:12:25.432 --> 00:12:27.847\n&gt;&gt; Yeah, the machine that just\nkeeps popping out all the food.\n\n239\n00:12:27.847 --> 00:12:30.677\nSo that's what we do not\nwant the root CA to be,\n\n240\n00:12:30.677 --> 00:12:33.230\njust continually generating all these.\n\n241\n00:12:33.230 --> 00:12:36.808\nWe have the ability to set even\nspecific limits to go ahead and\n\n242\n00:12:36.808 --> 00:12:40.049\nadd to those subordinate CAs and\nthen take it offline.\n\n243\n00:12:40.049 --> 00:12:41.649\n&gt;&gt; So you did not limit my certificate\n&gt;&gt; [LAUGH]\n\n244\n00:12:41.649 --> 00:12:42.347\n&gt;&gt; By the way I want it\n\n245\n00:12:42.347 --> 00:12:43.143\nto be seen clearly.\n\n246\n00:12:43.143 --> 00:12:44.337\n&gt;&gt; I didn't number it.\n&gt;&gt; No limits\n\n247\n00:12:44.337 --> 00:12:44.838\n&gt;&gt; I didn't even put a\n\n248\n00:12:44.838 --> 00:12:45.532\nversion number on there.\n\n249\n00:12:45.532 --> 00:12:46.599\n&gt;&gt; You did not.\n\n250\n00:12:46.599 --> 00:12:49.233\nSo as a result,\nI have an unlimited certificate.\n\n251\n00:12:49.233 --> 00:12:50.225\nAnd I can just go into business for\nmyself.\n\n252\n00:12:50.225 --> 00:12:51.772\n&gt;&gt; Full range, wow.\n\n253\n00:12:51.772 --> 00:12:54.364\n&gt;&gt; I could issue meatballs until\nthe cows come home if I wanted to.\n\n254\n00:12:54.364 --> 00:12:58.124\nBut you make a very important point,\nright, with your comment, which is when we\n\n255\n00:12:58.124 --> 00:13:01.832\nstart giving out certificates, right,\nwhen we start issuing certificates,\n\n256\n00:13:01.832 --> 00:13:05.849\neither from the root CA, hopefully in a\nvery limited way, right, as you suggested.\n\n257\n00:13:05.849 --> 00:13:08.869\nOne or more subordinate CAs,\ngiven those certificates,\n\n258\n00:13:08.869 --> 00:13:10.479\nissuing on behalf of the root.\n\n259\n00:13:10.479 --> 00:13:13.975\nAnd then the root kinda goes off and\nis removed from the picture,\n\n260\n00:13:13.975 --> 00:13:17.991\nnot allowing more subordinate CAs to\nbe spun up unless we have very tightly\n\n261\n00:13:17.991 --> 00:13:20.930\ncontrolled circumstances that we meet and\nagree on.\n\n262\n00:13:20.930 --> 00:13:23.829\nBut those issuing CAs, right,\nat the bottom of our hierarchy there,\n\n263\n00:13:23.829 --> 00:13:25.811\nthey go into business for\nthemselves, right?\n\n264\n00:13:25.811 --> 00:13:29.228\nThey start cranking out certificates,\ngiving them to users,\n\n265\n00:13:29.228 --> 00:13:31.811\nto computers,\ncombinations of those things.\n\n266\n00:13:31.811 --> 00:13:35.868\nAnd there are no practical limits on the\nnumber of certificates a CA will be able\n\n267\n00:13:35.868 --> 00:13:37.352\nto issue, traditionally.\n\n268\n00:13:37.352 --> 00:13:41.981\nWe can put constraints in place by saying,\nonly certain categories of\n\n269\n00:13:41.981 --> 00:13:46.620\nusers enter certain types of machines,\nmay be issued certificates.\n\n270\n00:13:46.620 --> 00:13:50.676\nWe can, in an enterprise CA\nenvironment where we have templates,\n\n271\n00:13:50.676 --> 00:13:55.115\ncontrol the kinds of certificates\nthat are issued and the uses of them.\n\n272\n00:13:55.115 --> 00:13:59.336\nAnd with the ability to be able to then go\ninto the Security tab on these templates\n\n273\n00:13:59.336 --> 00:14:00.848\nand control who has access,\n\n274\n00:14:00.848 --> 00:14:05.023\ntraditionally authenticated users as\na group has rights to these templates.\n\n275\n00:14:05.023 --> 00:14:08.514\nSo anybody who's an authenticated user\nin the directory can make a request.\n\n276\n00:14:08.514 --> 00:14:11.386\nWe may add individual sub-groups or\nadditional groups,\n\n277\n00:14:11.386 --> 00:14:14.558\nadditional computer accounts can be added,\nthings like that.\n\n278\n00:14:14.558 --> 00:14:16.843\nSo we can certainly\nconstraint to your point or\n\n279\n00:14:16.843 --> 00:14:20.603\ncontrol who may have rights to request\ncertificates and be able to get them.\n\n280\n00:14:20.603 --> 00:14:22.033\nAnd that's something to think about, and\n\n281\n00:14:22.033 --> 00:14:24.188\nwe'll take a look at that when\nwe do our hands-on walk through.\n\n282\n00:14:24.188 --> 00:14:28.182\nAnd we see how to set up a CA, and then\nwhat certificate templates can be used.\n\n283\n00:14:28.182 --> 00:14:30.347\nWe'll go and we'll take a look\nat how to issue a template, and\n\n284\n00:14:30.347 --> 00:14:31.522\nwe'll look at how to secure one.\n\n285\n00:14:31.522 --> 00:14:33.410\nSo it's definitely\na really important point.\n\n286\n00:14:33.410 --> 00:14:37.140\nBut by default and by design, almost\nwithout exception every one of these\n\n287\n00:14:37.140 --> 00:14:39.970\ntemplates come out with\nauthenticated users available\n\n288\n00:14:39.970 --> 00:14:43.840\nthere with repermission to be able to\ninteract with the template and use it.\n\n289\n00:14:43.840 --> 00:14:47.796\nAnd so the question actually becomes\nif we automate that process of issuing\n\n290\n00:14:47.796 --> 00:14:51.941\ncertificates for a web enrollment agent\nwhere we allow a certificate to either\n\n291\n00:14:51.941 --> 00:14:54.829\nbe automatically requested\nthrough some sort of MNC or\n\n292\n00:14:54.829 --> 00:14:58.311\nsome local console and/or wizard\nof some kind that will do that.\n\n293\n00:14:58.311 --> 00:15:02.045\nOr a web page where we traditionally\ngo to the machine the name,\n\n294\n00:15:02.045 --> 00:15:05.224\nthe host name of the machine\nsince Windows NT 4.0.\n\n295\n00:15:05.224 --> 00:15:10.184\nThis has gone back multiple generations\nover 20 plus years of the operating\n\n296\n00:15:10.184 --> 00:15:10.803\nsystem.\n\n297\n00:15:10.803 --> 00:15:12.644\nWe've had certificate services that long.\n\n298\n00:15:12.644 --> 00:15:16.339\nWe're talking about server 12 right now,\n12 R2 to be more precise.\n\n299\n00:15:16.339 --> 00:15:19.049\nYou've got at least six or\nseven generations of an operating\n\n300\n00:15:19.049 --> 00:15:21.768\nsystem on the enterprise server\nside at this point, right?\n\n301\n00:15:21.768 --> 00:15:25.996\nAnd so as a result, we go all the way back\nto some of the very earliest enterprise\n\n302\n00:15:25.996 --> 00:15:27.550\nserver operating systems.\n\n303\n00:15:27.550 --> 00:15:31.585\nPrior to the Active Directory cuz MP4\nis prior to what we think of today as\n\n304\n00:15:31.585 --> 00:15:33.253\nthe LDAP directory service.\n\n305\n00:15:33.253 --> 00:15:37.371\nWe had a domain hierarchy process there,\nbut it was built primary and\n\n306\n00:15:37.371 --> 00:15:41.206\ndomain controllers, and\nno reference to a directory service.\n\n307\n00:15:41.206 --> 00:15:44.229\nWe can authenticate users and\nissue certificates there, but\n\n308\n00:15:44.229 --> 00:15:48.238\nit was done locally against one or more of\nthese domain controllers in this concept\n\n309\n00:15:48.238 --> 00:15:50.968\nof what we thought it was\na namespace called the domain,\n\n310\n00:15:50.968 --> 00:15:53.894\nbut it looked very different\nfrom what it looks like today.\n\n311\n00:15:53.894 --> 00:15:55.988\nAnd even then we still have\ncertificate service and\n\n312\n00:15:55.988 --> 00:15:57.307\nyou would have a web interface.\n\n313\n00:15:57.307 --> 00:15:59.440\nYou could go back to the machine name.\n\n314\n00:15:59.440 --> 00:16:04.328\nSo let's say HTTP://rootca1\nif that was the name of\n\n315\n00:16:04.328 --> 00:16:08.802\nour machine, forward slash or\nback slash rather.\n\n316\n00:16:08.802 --> 00:16:10.869\nCERTSRV, C-E-R-T-S-R-V.\n\n317\n00:16:10.869 --> 00:16:12.025\nThat's always been the URL.\n\n318\n00:16:12.025 --> 00:16:14.555\nMachine name forward\nslash CERTSRV back slash.\n\n319\n00:16:14.555 --> 00:16:15.625\nI keep saying forward slash.\nBack slash CERTSRV.\n\n320\n00:16:15.625 --> 00:16:19.187\nAnd as a result, we would get a web\nenrollment page if we had spun up and\n\n321\n00:16:19.187 --> 00:16:22.028\nallowed for\nthe web enrollment process to take place.\n\n322\n00:16:22.028 --> 00:16:24.659\nWe could in other words,\nrequest certificates online and\n\n323\n00:16:24.659 --> 00:16:27.881\njust make a request and have it issued\nimmediately by the way, assuming\n\n324\n00:16:27.881 --> 00:16:31.590\nwe provide the right credentials or the\nright Information based on the template,\n\n325\n00:16:31.590 --> 00:16:34.245\nthe form we use to drive the request for\nthat certificate.\n\n326\n00:16:34.245 --> 00:16:36.507\nWe would have them issued immediately.\n\n327\n00:16:36.507 --> 00:16:39.045\nWe wouldn't even have to worry\nabout asking somebody and saying,\n\n328\n00:16:39.045 --> 00:16:41.966\nas you were suggesting, hey maybe you\nhave permission, maybe you don't.\n\n329\n00:16:41.966 --> 00:16:43.273\nWe could do that.\n\n330\n00:16:43.273 --> 00:16:45.436\nIn the standalone CA, not a enterprise CA,\n\n331\n00:16:45.436 --> 00:16:48.883\none that's joined to the active\ndirectory or the domain name space and\n\n332\n00:16:48.883 --> 00:16:52.226\nit's authenticating users based\non those credentials provided.\n\n333\n00:16:52.226 --> 00:16:56.075\nBut on the standalone side of this\nequation where we have no direct linkage\n\n334\n00:16:56.075 --> 00:17:00.298\nto a directory service, we still have a\nroot CA that's a standalone we still have\n\n335\n00:17:00.298 --> 00:17:03.671\na subordinate CAs, most likely plural,\nthat are standalone.\n\n336\n00:17:03.671 --> 00:17:06.604\nParent child relationship between\nthose root and subordinate CAs.\n\n337\n00:17:06.604 --> 00:17:08.695\nBut they're not linked\nto a directory service.\n\n338\n00:17:08.695 --> 00:17:12.006\nThey will have to have the ability and\nthey do have the ability to take inbound\n\n339\n00:17:12.006 --> 00:17:15.140\nrequests for certificates, but\nthey're not issued automatically.\n\n340\n00:17:15.140 --> 00:17:16.714\nSo we don't do the same process.\n\n341\n00:17:16.714 --> 00:17:19.739\nEven if we have a web enrollment,\nwe don't do the same process.\n\n342\n00:17:19.739 --> 00:17:23.472\nWe have a cut out where essentially those\ncertificates go into a pending status.\n\n343\n00:17:23.472 --> 00:17:26.039\nAnd when we look at\nthe certificate authority, MMC,\n\n344\n00:17:26.039 --> 00:17:29.299\nthe management console,\non a stand alone system, we see a folder.\n\n345\n00:17:29.299 --> 00:17:32.246\nWe see it on the enterprise root side\nas well or the enterprise side, but\n\n346\n00:17:32.246 --> 00:17:35.460\nwe don't tend to have certificates go\ninto pending status very often there.\n\n347\n00:17:35.460 --> 00:17:38.476\nBut instead,\nthey all go into pending status.\n\n348\n00:17:38.476 --> 00:17:41.739\nSo we have to then, as the administrator\nor the certificate manager,\n\n349\n00:17:41.739 --> 00:17:44.911\ndepending on what we call that role,\nwe have to go in and intercede.\n\n350\n00:17:44.911 --> 00:17:48.571\nAnd we have to decide whether we're gonna\nissue that certificate ourselves or not.\n\n351\n00:17:48.571 --> 00:17:51.618\nAnd so it's much more of\na person-intensive process, right?\n\n352\n00:17:51.618 --> 00:17:53.230\nYou have to go in there and do some work.\n\n353\n00:17:53.230 --> 00:17:57.429\nCertificated are not just automatically\nissued when they are setup as stand\n\n354\n00:17:57.429 --> 00:17:58.092\nalone CAs.\n\n355\n00:17:58.092 --> 00:18:01.405\nSo we've all these things to consider,\nright, as we just start to build this out.\n\n356\n00:18:01.405 --> 00:18:06.204\nThe certificate themselves are gonna be\nseveral different types with four standing\n\n357\n00:18:06.204 --> 00:18:10.666\ntypes or versions of templates we support,\nversion one two, three and four,\n\n358\n00:18:10.666 --> 00:18:13.995\nwe'll talk more about those\nin upcoming conversations.\n\n359\n00:18:13.995 --> 00:18:17.145\nVersion one templates go all\nthe way back to Windows 2000,\n\n360\n00:18:17.145 --> 00:18:20.302\nsome of the earliest uses of\ncertificate services that we see.\n\n361\n00:18:20.302 --> 00:18:24.152\nVersion 2 kinda builds on that,\nversion 3 out into version 4,\n\n362\n00:18:24.152 --> 00:18:29.278\nthe more recent versions available to 12,\n12 R2, Windows 8, Windows 8.1.\n\n363\n00:18:29.278 --> 00:18:32.289\nIf we look ahead to some of the newer OSs,\nall right,\n\n364\n00:18:32.289 --> 00:18:36.063\nWindows 10 on the client side,\nserver 16 on the server side.\n\n365\n00:18:36.063 --> 00:18:38.183\n&gt;&gt; No star templates.\nNo star versions.\n\n366\n00:18:38.183 --> 00:18:39.972\n&gt;&gt; No star versions.\n&gt;&gt; Like mine.\n\n367\n00:18:39.972 --> 00:18:43.275\n&gt;&gt; Yes, I forgot the star template, right.\n\n368\n00:18:43.275 --> 00:18:45.810\nNo we don't, that's a special one,\nthat's unique only to you.\n\n369\n00:18:45.810 --> 00:18:49.744\nBut we do have four versions of\ncertificate templates and as a result,\n\n370\n00:18:49.744 --> 00:18:53.155\nfour types of certificates sense\nof versioning that we see.\n\n371\n00:18:53.155 --> 00:18:55.452\nThe most traditional one\nis often version three.\n\n372\n00:18:55.452 --> 00:18:58.697\nYou'll hear certificates\nreferred to as x.509,\n\n373\n00:18:58.697 --> 00:19:01.696\nversion three certificates,\nthe most widely deployed,\n\n374\n00:19:01.696 --> 00:19:05.078\nthe most widely consumed type of\ncertificate in the world today.\n\n375\n00:19:05.078 --> 00:19:08.290\nX.509 is the international\nnaming standard.\n\n376\n00:19:26.300 --> 00:19:31.535\nList of certificates that for one reason\nor another are no longer considered valid.\n\n377\n00:19:31.535 --> 00:19:35.624\nThey have been either invalidated because\nsomeone either forgot to pay their bill,\n\n378\n00:19:35.624 --> 00:19:39.787\nif they buy a certificate from a trusted\nthird party, think VeraSign RSA.\n\n379\n00:19:39.787 --> 00:19:44.402\nWhoever issues certificates that's\nexternal PKI companies that are in\n\n380\n00:19:44.402 --> 00:19:46.754\nthe business of charging to do this.\n\n381\n00:19:46.754 --> 00:19:48.987\n&gt;&gt; Yeah, they may have even come\nacross that just surfing the web.\n\n382\n00:19:48.987 --> 00:19:51.090\nWhen you get that notification.\n\n383\n00:19:51.090 --> 00:19:54.637\nIt's kind of common sometimes whenever\npeople forget to pay their bill.\n\n384\n00:19:54.637 --> 00:19:58.079\nIt doesn't necessarily mean it's\na malicious site, it's just, hey,\n\n385\n00:19:58.079 --> 00:19:58.864\nit's expired.\n\n386\n00:19:58.864 --> 00:20:02.336\n&gt;&gt; No, it just means that you have\na term of service that says, okay,\n\n387\n00:20:02.336 --> 00:20:05.437\nyour certificate's good for\nx number of months or years and\n\n388\n00:20:05.437 --> 00:20:08.618\nyou typically buy that certificate for\nthat period of time.\n\n389\n00:20:08.618 --> 00:20:11.464\nBut if you are either paying as you go or\nbuying it monthly or\n\n390\n00:20:11.464 --> 00:20:14.485\nweekly, not weekly, yearly or\nwhatever, if you fall behind\n\n391\n00:20:14.485 --> 00:20:17.762\nth,e vendor who owns the certificate\nwill say hey, give it back.\n\n392\n00:20:17.762 --> 00:20:18.879\n&gt;&gt; [LAUGH]\n&gt;&gt; You can't use it anymore.\n\n393\n00:20:18.879 --> 00:20:21.310\nYou didn't pay for it.\nSo I only trust you if you pay your bill.\n\n394\n00:20:21.310 --> 00:20:22.650\nThat's essentially what they're saying.\n\n395\n00:20:22.650 --> 00:20:24.306\nSo it may have been revoked for that.\n\n396\n00:20:24.306 --> 00:20:27.496\nIt doesn't often get revoked for\nthat but it could in certain situations.\n\n397\n00:20:27.496 --> 00:20:30.998\nMore likely it's because the certificate\nhas been used inappropriately.\n\n398\n00:20:30.998 --> 00:20:32.959\nSomebody did something they\nweren't supposed to do with it.\n\n399\n00:20:32.959 --> 00:20:33.996\nIt may have been compromised.\n\n400\n00:20:33.996 --> 00:20:37.335\nSomebody may have hacked, or\ngotten that certificate, or\n\n401\n00:20:37.335 --> 00:20:40.222\ntried to copy it or\nis using under false pretenses.\n\n402\n00:20:40.222 --> 00:20:41.922\nAnd so the safest thing is to revoke it.\n\n403\n00:20:41.922 --> 00:20:45.666\nEssentially zero out any option for use of\nit and issue a new one that is clean and\n\n404\n00:20:45.666 --> 00:20:47.729\nyour disconnected from the original one.\n\n405\n00:20:47.729 --> 00:20:49.730\nSo we can differentiate and see that.\n\n406\n00:20:49.730 --> 00:20:52.644\nSo lots of reasons why certificates\nwind up on the CRL list.\n\n407\n00:20:52.644 --> 00:20:55.030\nI call it the naughty list for\ncertificates, right.\n\n408\n00:20:55.030 --> 00:20:58.015\nIf you did something wrong\nyou wind up on that list.\n\n409\n00:20:58.015 --> 00:21:01.333\nSo as a result, we have to keep track of\ncertificates that have been invalidated,\n\n410\n00:21:01.333 --> 00:21:02.403\nand this is how we do that.\n\n411\n00:21:02.403 --> 00:21:07.490\nTraditionally a very person-intensive\nprocess, meaning that you had to download\n\n412\n00:21:07.490 --> 00:21:12.090\na copy of the CRL, get and request that\nfrom a certificate revocation list.\n\n413\n00:21:12.090 --> 00:21:16.304\nData publication point or a CVP,\na certificate publication point.\n\n414\n00:21:16.304 --> 00:21:18.227\nAnd as a result we would have to go in and\n\n415\n00:21:18.227 --> 00:21:22.395\nget that, our CVP certificate distribution\npoint where we get the CRL list from.\n\n416\n00:21:22.395 --> 00:21:26.637\nAnd as a result we would have to go\nhave an app that would get that and\n\n417\n00:21:26.637 --> 00:21:27.880\nmake the request.\n\n418\n00:21:27.880 --> 00:21:31.230\nAnd well, it's time consuming if we\nforgot to do it, we didn't keep up on it.\n\n419\n00:21:31.230 --> 00:21:33.348\nMay have accepted a certificate\nthat had been invalidated.\n\n420\n00:21:33.348 --> 00:21:37.130\nAnd there were some issues there because\nit was relying on the owner of that\n\n421\n00:21:37.130 --> 00:21:41.037\ncertificate, or the person who wants\nto validate the certificate rather,\n\n422\n00:21:41.037 --> 00:21:43.496\nI should say, to check and\nsee the status of it.\n\n423\n00:21:43.496 --> 00:21:46.836\nSo we do have more updated\nautomated ways of doing this.\n\n424\n00:21:46.836 --> 00:21:50.991\nWe have OCSP, the online certificate\nstatus protocol that we can use with\n\n425\n00:21:50.991 --> 00:21:55.281\nonline responders to automate this\nprocess allow, for automated checking\n\n426\n00:21:55.281 --> 00:21:59.319\nof the certificate status,\ntalk more about that, and how that works.\n\n427\n00:21:59.319 --> 00:22:00.625\nStarting with 2008.\n\n428\n00:22:00.625 --> 00:22:02.986\n12-12-R2, we support the use of OCSP.\n\n429\n00:22:02.986 --> 00:22:05.727\nWhich is a nice new add on and feature.\n\n430\n00:22:05.727 --> 00:22:08.975\nWe do have the ability to be able to\nuse different management tools and\n\n431\n00:22:08.975 --> 00:22:11.663\nconsoles to be able to manage\nthe certificate solution,\n\n432\n00:22:11.663 --> 00:22:14.077\nwhether it's a stand-alone or\nan enterprise CA.\n\n433\n00:22:14.077 --> 00:22:16.896\nWe have the certificate\nauthority MMC that I mentioned.\n\n434\n00:22:16.896 --> 00:22:19.898\nThat's installed as part of\nthe configuration of the role.\n\n435\n00:22:19.898 --> 00:22:22.097\nWe have a local MMC\nsnap-in we can create for\n\n436\n00:22:22.097 --> 00:22:26.143\ncertificates on the local machine could\nfocus that on local user certificates,\n\n437\n00:22:26.143 --> 00:22:29.135\ncomputer certificates, or\ncertificates of that nature.\n\n438\n00:22:29.135 --> 00:22:32.384\nIn the local store,\nwe have things like PKIView.\n\n439\n00:22:32.384 --> 00:22:37.018\nCertutil, which is command line utility\nyou can use to do things like back up and\n\n440\n00:22:37.018 --> 00:22:38.482\nrestore certificates.\n\n441\n00:22:38.482 --> 00:22:39.184\nWe have PowerShells.\n\n442\n00:22:39.184 --> 00:22:42.409\nYou can certainly use PowerShell\nto do management today.\n\n443\n00:22:42.409 --> 00:22:45.075\nWe can even set up and\nmanage aspects of certifica.\n\n444\n00:22:45.075 --> 00:22:49.096\nSte issuance and most importantly auto\nenrollment through group policy so\n\n445\n00:22:49.096 --> 00:22:52.218\nwe can bring the MMC for\ngroup policy in and set up aspects of\n\n446\n00:22:52.218 --> 00:22:55.791\nthe management of not only the auto\nenrollment of certificates but\n\n447\n00:22:55.791 --> 00:23:00.165\nalso the placement of certificates in\nInto the certificate stores on machines.\n\n448\n00:23:00.165 --> 00:23:03.806\nSo a trusted root CA certificate can\nbe made available, published and\n\n449\n00:23:03.806 --> 00:23:07.649\nthen deployed through group policy to\nall of the computers in the domain.\n\n450\n00:23:07.649 --> 00:23:11.173\nSo they automatically\ntrust that certificate.\n\n451\n00:23:11.173 --> 00:23:12.074\nIt's part of the group policy deployment.\n\n452\n00:23:12.074 --> 00:23:13.054\nWe can do any and\n\n453\n00:23:13.054 --> 00:23:17.435\nall of these things using the public\nkey policy area of group policy.\n\n454\n00:23:17.435 --> 00:23:19.800\nWe'll take a look at that and\ngo in and see what that looks like.\n\n455\n00:23:19.800 --> 00:23:22.712\nAnd just make sure you're\ncomfortable with all those things.\n\n456\n00:23:22.712 --> 00:23:26.276\nAll these things are gonna be\npart of what we talk about.\n\n457\n00:23:26.276 --> 00:23:30.415\nWe also have information about the AIA,\nthe authority information access and\n\n458\n00:23:30.415 --> 00:23:33.363\nCDP, CRL revocation certificate,\nrevocation list,\n\n459\n00:23:33.363 --> 00:23:35.885\ndistribution point where\nwe publish the CRLs.\n\n460\n00:23:35.885 --> 00:23:40.616\nSo we have the ability to be able to\ngo in and make these items available.\n\n461\n00:23:40.616 --> 00:23:44.031\nAnd we also have the ability to store\ncertificates in either what you call TPM,\n\n462\n00:23:44.031 --> 00:23:45.339\nstress to platform modules.\n\n463\n00:23:45.339 --> 00:23:47.685\nOr HSM, Hardware Security Modules,\n\n464\n00:23:47.685 --> 00:23:52.172\nexternal TPMs sometimes called client\nlock boxes on the local machine.\n\n465\n00:23:52.172 --> 00:23:55.010\nEssentially a digital vault that\nlet's us store certificates and\n\n466\n00:23:55.010 --> 00:23:58.318\nmanage them from a security standpoint,\neffectively keeping them secure.\n\n467\n00:23:58.318 --> 00:24:01.247\nBut also allowing access\nunder the right conditions,\n\n468\n00:24:01.247 --> 00:24:03.802\nwith the right credentials\nbeing provided so.\n\n469\n00:24:03.802 --> 00:24:06.775\nWe have all of these different\nbuilding blocks, parts and pieces,\n\n470\n00:24:06.775 --> 00:24:08.139\nthat become part of what we do.\n\n471\n00:24:08.139 --> 00:24:12.390\nLet's go back to our diagram, just kind of\nwrap up this initial look at architecture,\n\n472\n00:24:12.390 --> 00:24:16.004\nlook at the building blocks, and\nexplanation of the various things, and\n\n473\n00:24:16.004 --> 00:24:17.310\nlet's just recap it all.\n\n474\n00:24:17.310 --> 00:24:20.605\nSo, let's make sure we're clear on a\ncouple of things that are very important.\n\n475\n00:24:20.605 --> 00:24:24.495\nSo we have a designation of a Root CA\nat the top of the hierarchy.\n\n476\n00:24:24.495 --> 00:24:28.837\nA Root CA can either be an enterprise\nroot joined to the active directory,\n\n477\n00:24:28.837 --> 00:24:32.143\ninstalled as a role on a domain\ncontroller most likely.\n\n478\n00:24:32.143 --> 00:24:36.431\nThat is part of the directory service, and\nthat allows us to then be able to use and\n\n479\n00:24:36.431 --> 00:24:38.198\nleverage the ADDS information,\n\n480\n00:24:38.198 --> 00:24:42.679\nspecifically the user accounts, the\ncomputer accounts, to authenticate users,\n\n481\n00:24:42.679 --> 00:24:45.994\nissuing certificates to them\nonce they've authenticated.\n\n482\n00:24:45.994 --> 00:24:48.080\nBut it also gives us access to templates,\n\n483\n00:24:48.080 --> 00:24:51.241\nbecause the enterprise CAs have\na template directory where all\n\n484\n00:24:51.241 --> 00:24:54.474\nthese templates we talked about\nare going to be made available.\n\n485\n00:24:54.474 --> 00:24:58.194\nSo we have a Root, enterprised Root CA,\nbut we can also have a stand alone CA,\n\n486\n00:24:58.194 --> 00:25:01.310\na stand alone Root CA,\none that's not joined to the directory.\n\n487\n00:25:01.310 --> 00:25:05.155\nWhether it's enterprise based or\nstand alone based, once a Root CA does\n\n488\n00:25:05.155 --> 00:25:09.693\nit's initial job, sets itself up, self\nsigns it's own certificate, issues one or\n\n489\n00:25:09.693 --> 00:25:13.980\nmore certificates to subordinate CAs to\ngive them the ability to stand in on their\n\n490\n00:25:13.980 --> 00:25:16.338\nbehalf, then the root CA is taken offline.\n\n491\n00:25:16.338 --> 00:25:19.404\nThat's literally somebody going in,\nshutting it down,\n\n492\n00:25:19.404 --> 00:25:23.781\nmost likely securing it somewhere, perhaps\nin a bank vault or wherever you put it,\n\n493\n00:25:23.781 --> 00:25:27.970\nand then not bringing it back online,\nexcept very infrequently, typically,\n\n494\n00:25:27.970 --> 00:25:31.721\nat the end of the certificate life cycle,\nwe call the validity period,\n\n495\n00:25:31.721 --> 00:25:34.284\nof the certificates that\nhave been down issued,\n\n496\n00:25:34.284 --> 00:25:36.382\nissued downstream to the Issuing CAs.\n\n497\n00:25:36.382 --> 00:25:39.678\nThese certificates that the Root CA\nissues to subordinate CAs,\n\n498\n00:25:39.678 --> 00:25:43.225\ntypically have a lifetime of one to\nfive years, more often than not.\n\n499\n00:25:43.225 --> 00:25:46.303\nThat's the average lifetime for\nmost certificates we issue.\n\n500\n00:25:46.303 --> 00:25:48.226\nIt could be two years,\nthree years, but typically,\n\n501\n00:25:48.226 --> 00:25:49.826\nit's anywhere between one and five years.\n\n502\n00:25:49.826 --> 00:25:54.255\nSo, let's just assume hypothetically,\nthat the Root CA issues a subordinate CA\n\n503\n00:25:54.255 --> 00:25:58.569\ncertificate to this Issuing CA right\ndown here, and it's good for five years.\n\n504\n00:25:58.569 --> 00:26:00.539\nWe then take this Root CA offline.\n\n505\n00:26:00.539 --> 00:26:01.919\nWe don't see it again.\n\n506\n00:26:01.919 --> 00:26:05.532\nAbout four years and 11 months in,\nor something like that,\n\n507\n00:26:05.532 --> 00:26:09.631\nright before the end of that validity\nperiod for that subordinate CA,\n\n508\n00:26:09.631 --> 00:26:13.677\nwe're gonna fire back up that Root CA,\nplug it back in, bring it up.\n\n509\n00:26:13.677 --> 00:26:16.317\nIt is offline,\nin the sense that even when we turn it on,\n\n510\n00:26:16.317 --> 00:26:18.075\nwe don't connect it to the network.\n\n511\n00:26:18.075 --> 00:26:21.366\nWe issue these certificates\noff to external media, and\n\n512\n00:26:21.366 --> 00:26:26.338\nthen we typically hand deliver them, or\ntransport them securely to the Issuing CA,\n\n513\n00:26:26.338 --> 00:26:31.328\nand install and import that certificate to\nextend the life of the one that's there.\n\n514\n00:26:31.328 --> 00:26:35.355\nWe never wanna plug these Root CAs in,\nnever wanna connect them to the network,\n\n515\n00:26:35.355 --> 00:26:39.985\nnever want them available, except in very\ntightly controlled, limited circumstances,\n\n516\n00:26:39.985 --> 00:26:44.194\nto really put a cording of security around\nthis machine physically and logically,\n\n517\n00:26:44.194 --> 00:26:48.462\nto prevent any possibility, or at least\nminimize to the greatest extent possible,\n\n518\n00:26:48.462 --> 00:26:50.626\nthe possibility that a bad actor, right,\n\n519\n00:26:50.626 --> 00:26:53.672\nwhat we call a threat source in\nthe language of IT security.\n\n520\n00:26:53.672 --> 00:26:56.651\nBut a bad actor-\n&gt;&gt; Like Tom Cruise?\n\n521\n00:26:56.651 --> 00:27:00.159\n&gt;&gt; I'm not going to comment one way or\nthe other.\n\n522\n00:27:00.159 --> 00:27:01.492\nI'm gonna be agnostic and\n\n523\n00:27:01.492 --> 00:27:04.531\nneutral with regards to actor\ndesignations of good or bad.\n\n524\n00:27:04.531 --> 00:27:07.840\nI'm gonna say Pee Dee the pirate\nas opposed to Tom Cruise.\n\n525\n00:27:07.840 --> 00:27:11.100\nSo a bad actor or a threat source,\nlike Pee Dee the pirate, and\n\n526\n00:27:11.100 --> 00:27:14.803\nif Pee Dee the pirate is gonna try\nto steal our certificate authority,\n\n527\n00:27:14.803 --> 00:27:19.259\ntake control of it, and go into business\nissuing certificates on his or her behalf,\n\n528\n00:27:19.259 --> 00:27:21.308\nright, then we want to prevent them.\n\n529\n00:27:21.308 --> 00:27:25.990\nSo we're gonna build multiple layers\nof controls around this Root CA.\n\n530\n00:27:25.990 --> 00:27:30.345\nWe call this design concept, generically,\nin the discussion of enterprise\n\n531\n00:27:30.345 --> 00:27:33.969\nsecurity architecture, and\ngenerically IT security things.\n\n532\n00:27:33.969 --> 00:27:35.464\nWe call this defense in depth.\n\n533\n00:27:35.464 --> 00:27:37.665\nThis is the concept we're talking about,\nand\n\n534\n00:27:37.665 --> 00:27:40.329\nthe thought process we just\nwant to bring forward here.\n\n535\n00:27:40.329 --> 00:27:45.420\nMutual or multiple overlapping,\nreinforcing levels or layers of controls.\n\n536\n00:27:45.420 --> 00:27:48.684\nControls and counter measures, by the way,\nsynonymous terms for one another,\n\n537\n00:27:48.684 --> 00:27:49.838\nwe use it interchangeably.\n\n538\n00:27:49.838 --> 00:27:53.571\nSo whether it's a control or a counter\nmeasure, it's some sort of coping\n\n539\n00:27:53.571 --> 00:27:58.025\nstrategy, or mitigation strategy, that\nwill hopefully prevent, or at least delay,\n\n540\n00:27:58.025 --> 00:28:01.174\ndeter, and/or detect activity\nthat's meant to do us harm.\n\n541\n00:28:01.174 --> 00:28:04.747\nAnd so we're gonna bring that root CA up,\nonly under tightly controlled,\n\n542\n00:28:04.747 --> 00:28:08.717\nlimited circumstances, issue another\nanother subordinate CA certificate, and\n\n543\n00:28:08.717 --> 00:28:10.321\nthen make this disappear again.\n\n544\n00:28:10.321 --> 00:28:12.891\nWhether it's an Intermediate CA\nand/or an Issuing CA,\n\n545\n00:28:12.891 --> 00:28:14.555\nwe're not as concerned about that.\n\n546\n00:28:14.555 --> 00:28:15.471\nWhat we say is,\n\n547\n00:28:15.471 --> 00:28:19.924\nthese lower levels are generically\ngrouped together as subordinate CAs.\n\n548\n00:28:19.924 --> 00:28:23.340\nAgain, the subordinate CA is\nsimply a child in the parent child\n\n549\n00:28:23.340 --> 00:28:27.336\nrelationship between a root, the parent,\nand one or more lower level CAs\n\n550\n00:28:27.336 --> 00:28:31.548\nthat are issuing certificates on\nthe parent's behalf on behalf of the root.\n\n551\n00:28:31.548 --> 00:28:35.569\nAgain, enterprise or stand alone\ndesignation enterprise Root CA,\n\n552\n00:28:35.569 --> 00:28:38.352\nobviously then an enterprise\nsubordinate CA.\n\n553\n00:28:38.352 --> 00:28:40.915\nStand alone root CA,\nstand alone subordinate CA.\n\n554\n00:28:40.915 --> 00:28:42.487\nSo just make sure we're aware of that.\n\n555\n00:28:42.487 --> 00:28:46.295\nThe online designation here implies\nthat this CA is open for business,\n\n556\n00:28:46.295 --> 00:28:49.341\nand as Cherokee pointed out and\nhelped me to understand,\n\n557\n00:28:49.341 --> 00:28:51.377\nis giving out certificates, right?\n\n558\n00:28:51.377 --> 00:28:54.436\nAnd so as a result,\nwe're able to issue that certificate.\n\n559\n00:28:54.436 --> 00:28:58.757\nThat certificate that the subordinate CA\nhas been given by the Root CA gives it\n\n560\n00:28:58.757 --> 00:29:03.144\nthe ability to then turn around and issue\ncertificates to users or computers on\n\n561\n00:29:03.144 --> 00:29:07.463\nbehalf of itself but with the full\nbacking, trust, and faith of the Root CA,\n\n562\n00:29:07.463 --> 00:29:11.541\nsitting behind it through the\ncertification path as we go up the system.\n\n563\n00:29:11.541 --> 00:29:14.854\nAnd that's what we're looking\nat when we think about the PKI,\n\n564\n00:29:14.854 --> 00:29:18.104\nthe Public Key Infrastructure,\nthe architecture of it, and\n\n565\n00:29:18.104 --> 00:29:20.666\nhow we begin our journey\nhere by sketching out and\n\n566\n00:29:20.666 --> 00:29:24.501\nreally understanding the building\nblocks and the definitions of them.\n\n567\n00:29:24.501 --> 00:29:27.749\nAnd then as a result of that,\nas we go into some future episodes,\n\n568\n00:29:27.749 --> 00:29:29.855\nwe'll be able to pick up some speed here,\n\n569\n00:29:29.855 --> 00:29:33.886\ntalk about how all these moving parts\ncome together, do a little show and tell,\n\n570\n00:29:33.886 --> 00:29:37.856\nstand up and actually install this Root CA\nthat we talked about, stand up, and\n\n571\n00:29:37.856 --> 00:29:41.524\ninstall, and configure, and\njoin to that Root CA a subordinate CA, and\n\n572\n00:29:41.524 --> 00:29:44.022\nwalk you through the logic\nof how all this works.\n\n573\n00:29:44.022 --> 00:29:47.221\nWe're gonna do that, but\nwe're gonna do that when we come back,\n\n574\n00:29:47.221 --> 00:29:51.189\nbecause as you often hear Cherokee say,\ncuz she's very fond of telling me that.\n\n575\n00:29:51.189 --> 00:29:54.644\nWe are, but since I have the certificate,\nI'm gonna say it this time.\n\n576\n00:29:54.644 --> 00:29:58.597\nWe are out of time, boys and girls, cuz\nwe spent this entire episode getting you\n\n577\n00:29:58.597 --> 00:30:02.316\nacclimated and familiar with the ideas\nbehind certificate authorities.\n\n578\n00:30:02.316 --> 00:30:06.186\nAnd now that hopefully, you're a little\nmore comfortable with it, we're gonna go\n\n579\n00:30:06.186 --> 00:30:09.949\nahead and really jump into some the cool\nand exciting stuff in upcoming episodes,\n\n580\n00:30:09.949 --> 00:30:12.367\nbut you gotta come back and\nsee us in order to do that.\n\n581\n00:30:12.367 --> 00:30:15.007\nAnd so, I'm gonna go ahead and let\nCherokee sign off cuz she's standing there\n\n582\n00:30:15.007 --> 00:30:16.443\nwith her mouth open like-\n&gt;&gt; [LAUGH]\n\n583\n00:30:16.443 --> 00:30:17.494\n&gt;&gt; Are you going to let me say anything?\n\n584\n00:30:17.494 --> 00:30:18.339\nWhat am I going to do?\n\n585\n00:30:18.339 --> 00:30:19.099\n&gt;&gt; You sold me, Adam.\n\n586\n00:30:19.099 --> 00:30:20.336\nIt sounds great.\n\n587\n00:30:20.336 --> 00:30:24.312\nWe can't issue those certificates\nunless we actually configure it.\n\n588\n00:30:24.312 --> 00:30:26.043\nSo you guys have to come back for that.\n\n589\n00:30:26.043 --> 00:30:28.590\nSo we're gonna go and\nsign out of this show.\n\n590\n00:30:28.590 --> 00:30:30.771\nI've been your host, Cherokee Boose.\n\n591\n00:30:30.771 --> 00:30:31.996\n&gt;&gt; I'm Adam Star.\n\n592\n00:30:31.996 --> 00:30:34.486\n&gt;&gt; See you next time at ITProTV.\n\n593\n00:30:34.486 --> 00:30:36.848\n&gt;&gt; Take care everybody.\n\n594\n00:30:36.848 --> 00:30:42.636\n[MUSIC]\n\n595\n00:30:42.636 --> 00:30:46.043\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232993625"
        },
        {
          "description": "In this show, Cherokee and Adam install Active Directory Certificate Services Role to begin setting up the PKI infrastructure and configuring an enterprise root CA. You will also see how to create a new certificate template to be used to issue certificates.",
          "length": "2423",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-2-implementing_ad_cs_pt2-090617-PGM.00_40_06_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-2-implementing_ad_cs_pt2-090617-PGM.00_40_06_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-2-implementing_ad_cs_pt2-090617-PGM.00_40_06_00.Still001-sm.jpg",
          "title": "Implementing AD CS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.090\nYou're watching ITProTV.\n\n2\n00:00:01.090 --> 00:00:02.745\nI'm your host, Don Pezet.\n\n3\n00:00:02.745 --> 00:00:06.261\n[CROSSTALK]\n\n4\n00:00:06.261 --> 00:00:08.262\n[MUSIC]\n\n5\n00:00:08.262 --> 00:00:11.785\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.785 --> 00:00:14.615\n&gt;&gt; Welcome back to your\nWindows Server 2012 R2 series.\n\n7\n00:00:14.615 --> 00:00:16.201\nI'm your show host, Cherokee Boose.\n\n8\n00:00:16.201 --> 00:00:18.106\nIn this episode, we'll pick back up,\n\n9\n00:00:18.106 --> 00:00:21.764\ntalking about implementing our\nActive Directory Certificate Services.\n\n10\n00:00:21.764 --> 00:00:25.640\nAnd back with us in studios today we\nwere able to get Adam to come and\n\n11\n00:00:25.640 --> 00:00:28.897\ndemonstrate how to set up R for\ncertificate services.\n\n12\n00:00:28.897 --> 00:00:30.321\nSo thank you for joining us, Adam.\n\n13\n00:00:30.321 --> 00:00:31.016\n&gt;&gt; Thank you.\n\n14\n00:00:31.016 --> 00:00:32.477\nYou promised me coffee by the way.\n\n15\n00:00:32.477 --> 00:00:34.705\nJust thought I'd mention that casually so\nI have witnesses.\n\n16\n00:00:34.705 --> 00:00:37.006\nSo if one does not appear\nhere before we are done,\n\n17\n00:00:37.006 --> 00:00:40.261\ncuz I noticed you strategically\nhave your water bottle there.\n\n18\n00:00:40.261 --> 00:00:41.507\n&gt;&gt; Yeah, but no coffee.\n\n19\n00:00:41.507 --> 00:00:42.451\n&gt;&gt; There's no coffee for me.\n\n20\n00:00:42.451 --> 00:00:43.069\n&gt;&gt; Hm.\n\n21\n00:00:43.069 --> 00:00:43.571\n&gt;&gt; Hm.\n\n22\n00:00:43.571 --> 00:00:45.294\n&gt;&gt; [LAUGH]\n&gt;&gt; Yes, hm indeed.\n\n23\n00:00:45.294 --> 00:00:49.136\nAll right, so we are gonna continue\non regardless of what Cherokee did or\n\n24\n00:00:49.136 --> 00:00:52.100\ndidn't promise she would do\nwith regards to caffeine.\n\n25\n00:00:52.100 --> 00:00:53.449\nWe are here.\n\n26\n00:00:53.449 --> 00:00:55.721\nWe are excited and so should you be,\nand I'll tell you why.\n\n27\n00:00:55.721 --> 00:00:57.009\nBecause we are gonna actually take a look.\n\n28\n00:00:57.009 --> 00:00:58.598\nCuz we promised you in the last episode.\n\n29\n00:00:58.598 --> 00:01:00.904\nAt how to actually start using PKI.\n\n30\n00:01:00.904 --> 00:01:02.259\nWe've talked about the basics, right?\n\n31\n00:01:02.259 --> 00:01:05.983\nTalked about what a root CA is,\ntalked about standalone versus enterprise.\n\n32\n00:01:05.983 --> 00:01:08.958\nTalked about the idea of\nroot versus subordinate,\n\n33\n00:01:08.958 --> 00:01:13.455\ntalked about the use of things like\ncertificate of revocation lists, OCSP,\n\n34\n00:01:13.455 --> 00:01:17.487\nABC, do re me, you and me, fa la la la la,\nand all of that good stuff.\n\n35\n00:01:17.487 --> 00:01:20.298\n&gt;&gt; [LAUGH]\n&gt;&gt; What we're gonna do is we're gonna go\n\n36\n00:01:20.298 --> 00:01:24.860\nahead and we're gonna actually take a walk\nthrough the beginning of the installation\n\n37\n00:01:24.860 --> 00:01:27.099\nand the configuration of a PKI solution.\n\n38\n00:01:27.099 --> 00:01:30.546\nOf course, stand up an enterprise root CA,\nand for good measure we'll probably throw\n\n39\n00:01:30.546 --> 00:01:32.685\nin a subordinate CA to go with it,\ncuz you never know.\n\n40\n00:01:32.685 --> 00:01:35.286\nYou wanna have somebody to\nkeep yourself company with and\n\n41\n00:01:35.286 --> 00:01:36.704\nmake some conversation with.\n\n42\n00:01:36.704 --> 00:01:39.624\nSo if you join me over here,\nwe're gonna actually take a look.\n\n43\n00:01:39.624 --> 00:01:43.157\nI got my domain controller up and\nrunning, you can see it right there.\n\n44\n00:01:43.157 --> 00:01:47.146\nWe are on our plabdc01 machine.\n\n45\n00:01:47.146 --> 00:01:50.775\nIt does have our directory services\nconfigured, excuse me, and\n\n46\n00:01:50.775 --> 00:01:51.703\nset up with DNS.\n\n47\n00:01:51.703 --> 00:01:53.518\nSo we are gonna go ahead and get started.\n\n48\n00:01:53.518 --> 00:01:57.849\nWe're gonna go over here and go up to\nour Tools menu in the Server Manager.\n\n49\n00:01:57.849 --> 00:02:00.981\nYou'll see that we can,\nif we choose to, come down here and\n\n50\n00:02:00.981 --> 00:02:05.388\nuse Windows PowerShell to do, well, you\ncan't really see it cuz it's behind me.\n\n51\n00:02:05.388 --> 00:02:09.105\nBut if you were watching and\nI did wear my invisibility cloak for\n\n52\n00:02:09.105 --> 00:02:11.084\nmy little window in window here.\n\n53\n00:02:11.084 --> 00:02:13.352\nYou would see that I'm am\nhighlighting Windows PowerShell.\n\n54\n00:02:13.352 --> 00:02:14.013\nThere we go back there.\n\n55\n00:02:14.013 --> 00:02:14.711\n&gt;&gt; There's your cloak.\n\n56\n00:02:14.711 --> 00:02:17.761\n&gt;&gt; You see, I just hit the invisibly\nbutton and there it goes.\n\n57\n00:02:17.761 --> 00:02:19.946\nSo I can bring up Windows PowerShell and\n\n58\n00:02:19.946 --> 00:02:24.135\nI often talk about using PowerShell\nand/or the MMC to do a configuration.\n\n59\n00:02:24.135 --> 00:02:24.985\nWe could do either one.\n\n60\n00:02:24.985 --> 00:02:28.349\nI'm gonna walk us through\nthe configuration here by using the manage\n\n61\n00:02:28.349 --> 00:02:31.717\nfeature and actually installing\nconfigure in the role from the MMC,\n\n62\n00:02:31.717 --> 00:02:33.473\nfrom the management console here.\n\n63\n00:02:33.473 --> 00:02:36.794\nBut if I did wanna use PowerShell,\njust to show you what we're gonna do,\n\n64\n00:02:36.794 --> 00:02:37.835\njust give you a sense.\n\n65\n00:02:37.835 --> 00:02:38.817\nLet me just right click.\n\n66\n00:02:38.817 --> 00:02:41.638\nLet me just make the font a little\nbigger here, that way you can see it.\n\n67\n00:02:41.638 --> 00:02:48.658\nAnd we often use Lucida Console, that\nway we can see that a little bit easier.\n\n68\n00:02:48.658 --> 00:02:52.208\nI can do something like\nadd Windows feature.\n\n69\n00:02:52.208 --> 00:02:53.840\nLet's do a little autocomplete there.\n\n70\n00:02:53.840 --> 00:02:58.855\nAnd if I wanted to install the AD DS,\nI could do AD domain,\n\n71\n00:02:58.855 --> 00:03:02.316\nif I spell that correctly, of course.\n\n72\n00:03:02.316 --> 00:03:05.334\nAD domain services,\nright, and then I could,\n\n73\n00:03:05.334 --> 00:03:08.438\nactually, you have to name first,\none second.\n\n74\n00:03:08.438 --> 00:03:11.993\nGotta specify the name parameter there.\n\n75\n00:03:11.993 --> 00:03:12.954\n&gt;&gt; -name, yeah.\n\n76\n00:03:12.954 --> 00:03:17.166\n&gt;&gt; And then one site, whoops,\nthat's not what I wanted, hold on,\n\n77\n00:03:17.166 --> 00:03:18.708\nas things go sideways.\n\n78\n00:03:18.708 --> 00:03:23.657\nSorry, let me just fix that because\nI hit Tab and it put in that for me.\n\n79\n00:03:23.657 --> 00:03:27.823\nSo I would do ad-domain-services, right?\n\n80\n00:03:27.823 --> 00:03:32.957\nAnd then I could do\ninclude management tools.\n\n81\n00:03:32.957 --> 00:03:36.759\nAnd by doing that, I would be able to\nstart the configuration from PowerShell,\n\n82\n00:03:36.759 --> 00:03:37.795\nif I chose to do this.\n\n83\n00:03:37.795 --> 00:03:40.703\nAnd then I would obviously\nhave to walk through and\n\n84\n00:03:40.703 --> 00:03:44.178\ndo the configuration if I was doing AD DS,\nI wanted to AD CS.\n\n85\n00:03:44.178 --> 00:03:46.279\nIn this case,\ncertificate serves the same thing.\n\n86\n00:03:46.279 --> 00:03:48.084\nI would do AD certificate-services.\n\n87\n00:03:48.084 --> 00:03:51.849\nI can call and configure any one of them,\nwouldn't matter what I do.\n\n88\n00:03:51.849 --> 00:03:55.596\nI would then be able to walk through and\ndo the configuration here with no trouble.\n\n89\n00:03:55.596 --> 00:03:58.037\nJust substituting in\nthe name of the feature,\n\n90\n00:03:58.037 --> 00:04:00.236\nthe role that we wanna be able to install.\n\n91\n00:04:00.236 --> 00:04:01.630\nSo PowerShell's very versatile.\n\n92\n00:04:01.630 --> 00:04:04.461\nAnd I could do this from PowerShell,\nnaming the appropriate role.\n\n93\n00:04:04.461 --> 00:04:06.453\nBut we're gonna go ahead and\nwalk through and\n\n94\n00:04:06.453 --> 00:04:08.616\ndo this configuration\nfrom within the console.\n\n95\n00:04:08.616 --> 00:04:12.141\nSo we're gonna go to Manage\n&gt; Add Roles and Features.\n\n96\n00:04:12.141 --> 00:04:14.937\nSo take a quick look here.\n\n97\n00:04:14.937 --> 00:04:17.107\nWe're gonna go through the first\ncouple of screens real quick, so\n\n98\n00:04:17.107 --> 00:04:18.714\nwe don't really have to\npay attention to these.\n\n99\n00:04:18.714 --> 00:04:20.335\nThis is just the overview screen.\n\n100\n00:04:20.335 --> 00:04:22.076\nI usually actually just skip this page and\n\n101\n00:04:22.076 --> 00:04:24.082\ndon't even have it come\nup anymore by default.\n\n102\n00:04:24.082 --> 00:04:25.051\nBut that's up to you.\n\n103\n00:04:25.051 --> 00:04:27.540\nWe're gonna a role-based or\nfeature-based install, so\n\n104\n00:04:27.540 --> 00:04:29.494\nwe're gonna choose\nthe default option here.\n\n105\n00:04:29.494 --> 00:04:33.308\nIf we were doing Remote Desktop Services\ninstall, we would choose that.\n\n106\n00:04:33.308 --> 00:04:37.109\nAnd then we would be able to set up and\ndo an installation for\n\n107\n00:04:37.109 --> 00:04:40.538\na VDI environment,\nvirtual desktop environment.\n\n108\n00:04:40.538 --> 00:04:43.639\nThat's gonna be a separate conversation\nin another set of shows off to the side\n\n109\n00:04:43.639 --> 00:04:44.345\nsomewhere else.\n\n110\n00:04:44.345 --> 00:04:47.710\nBut you could always come back, take a\nlook for that kind of information here at\n\n111\n00:04:47.710 --> 00:04:49.912\nITProTV cuz we talk about\nall sorts of great stuff.\n\n112\n00:04:49.912 --> 00:04:52.755\nBut we're gonna focus on role-based or\nfeature-based install.\n\n113\n00:04:52.755 --> 00:04:55.939\nWe're gonna click Next,\nselect a server from the pool.\n\n114\n00:04:55.939 --> 00:04:59.750\nWe have our default selection based\non the machine we're already on,\n\n115\n00:04:59.750 --> 00:05:03.313\nwhich is our plabdc01\npracticelabs.com domain controller.\n\n116\n00:05:03.313 --> 00:05:04.409\nThat's what we're gonna use.\n\n117\n00:05:04.409 --> 00:05:09.750\nServer 12 R2 is what the OS is, so that's\nwhat we wanna be able to take a look at.\n\n118\n00:05:09.750 --> 00:05:13.159\nWe're then gonna make our choice here for\nActive Directory Certificate Services.\n\n119\n00:05:13.159 --> 00:05:17.528\nSo I would select this, and when I do\nthat, Add Roles and Features Wizard pops\n\n120\n00:05:17.528 --> 00:05:21.307\nup all of the additional supporting\nelements I need to be aware of.\n\n121\n00:05:21.307 --> 00:05:25.053\nSo in this case, I need the RSAT,\nthe Remote Server Administration Tools.\n\n122\n00:05:25.053 --> 00:05:28.754\nAnd I need the Active Directory\nCertificate Services tools which will give\n\n123\n00:05:28.754 --> 00:05:32.279\nme the Certificate of Authority\nsnap-in and the management tools that\n\n124\n00:05:32.279 --> 00:05:35.355\nare necessary to manage the PKI\ninstallation once I set it up.\n\n125\n00:05:35.355 --> 00:05:40.017\nSo I'm gonna go ahead and choose these or\naccept these, and so add features.\n\n126\n00:05:40.017 --> 00:05:43.349\nAnd then I'm gonna click Next.\n\n127\n00:05:43.349 --> 00:05:47.169\nWe do have additional options here\nafter we do our server roles to add\n\n128\n00:05:47.169 --> 00:05:50.320\nthese features in if we have\nto make a choice about them,\n\n129\n00:05:50.320 --> 00:05:53.152\nif we need any of\nthe additional supporting ones.\n\n130\n00:05:53.152 --> 00:05:56.216\nFor Certificate Services, we don't need\nany of these but it's always good to know.\n\n131\n00:05:56.216 --> 00:05:58.350\nWe may need things like\nthe .NET framework.\n\n132\n00:05:58.350 --> 00:06:00.955\nWe do have the most recent\nversion installed here.\n\n133\n00:06:00.955 --> 00:06:03.014\nWe made an earlier version\ndepending on what we're doing.\n\n134\n00:06:03.014 --> 00:06:07.407\nWe may need things such as branch cache or\ndirect play or enhanced storage or\n\n135\n00:06:07.407 --> 00:06:10.349\nfailover clustering,\nwhatever the case may be.\n\n136\n00:06:10.349 --> 00:06:14.072\nWe'll talk about some of these features in\nupcoming episodes in other areas of it.\n\n137\n00:06:14.072 --> 00:06:16.081\nFor now,\nwe're not gonna choose any of these.\n\n138\n00:06:16.081 --> 00:06:17.568\nWe're just gonna go and click Next.\n\n139\n00:06:17.568 --> 00:06:20.570\nAnd notice, by the way,\nwe do have the ABCS now setting here and\n\n140\n00:06:20.570 --> 00:06:24.368\nwe're going to have to do and specify\nsome role service designation, what kind\n\n141\n00:06:24.368 --> 00:06:28.125\nof services do we want the Active\nDirectory Certificate Services to provide.\n\n142\n00:06:28.125 --> 00:06:29.454\nDo you want that web\nenrollment capability?\n\n143\n00:06:29.454 --> 00:06:34.408\nDo we want a perhaps a, [COUGH] excuse me.\n\n144\n00:06:34.408 --> 00:06:36.990\nAs I almost choke on my words.\n\n145\n00:06:36.990 --> 00:06:37.629\n&gt;&gt; Don't die.\n\n146\n00:06:37.629 --> 00:06:38.636\n&gt;&gt; I'll try not to.\n\n147\n00:06:38.636 --> 00:06:43.092\nDo we want, for instance, the certificate\nenrollment, as I said for this?\n\n148\n00:06:43.092 --> 00:06:45.776\nDo you want the online responder,\nthe OCSP capability?\n\n149\n00:06:45.776 --> 00:06:51.441\nDo you want NDES, the NDES, or\nnetwork device enrollment service?\n\n150\n00:06:51.441 --> 00:06:53.439\nI forgot to mention this one\nwhen we went through and\n\n151\n00:06:53.439 --> 00:06:54.795\ntalked about in our last episode.\n\n152\n00:06:54.795 --> 00:06:56.797\nKinda of building blocks and\nthe futures we have.\n\n153\n00:06:56.797 --> 00:06:58.864\nThe NDES is actually interesting.\n\n154\n00:06:58.864 --> 00:07:03.205\nThis is what gives us the ability to\nmanage devices that are network based.\n\n155\n00:07:03.205 --> 00:07:06.151\nThink routers, think switches,\nthink firewalls that are hardware based,\n\n156\n00:07:06.151 --> 00:07:07.928\nthings like that that\nrequire certificates.\n\n157\n00:07:07.928 --> 00:07:11.858\nAnd then we have to enroll and be able to\ngive certificates too, to authenticate and\n\n158\n00:07:11.858 --> 00:07:12.431\nto manage.\n\n159\n00:07:12.431 --> 00:07:14.815\nBut are not gonna make\ntraditional requests.\n\n160\n00:07:14.815 --> 00:07:17.220\nWe are in implementing,\nin other words, this support.\n\n161\n00:07:17.220 --> 00:07:21.721\nThis is how Microsoft implements the\ngeneric capability that's available to us.\n\n162\n00:07:21.721 --> 00:07:25.310\nFrom the industry standard perspective,\nthey, meaning Microsoft,\n\n163\n00:07:25.310 --> 00:07:27.279\nwe, right, have chosen to go ahead and\n\n164\n00:07:27.279 --> 00:07:30.776\nimplement something known as\nNetwork Device Enrollment Services.\n\n165\n00:07:30.776 --> 00:07:34.554\nThis implements something known as SCEP,\nwhich is the ability to be\n\n166\n00:07:34.554 --> 00:07:37.885\nable to use this enrollment capability for\nthese devices.\n\n167\n00:07:37.885 --> 00:07:41.112\nAnd this is just how Microsoft just\nchose to implement that standard.\n\n168\n00:07:41.112 --> 00:07:42.656\nAnd so we have that capability.\n\n169\n00:07:42.656 --> 00:07:45.082\nWe have the auth,\nthe web enrollment capability, and\n\n170\n00:07:45.082 --> 00:07:46.572\nweb service that I talked about.\n\n171\n00:07:46.572 --> 00:07:49.528\nSo any or\nall of these things can be specified here.\n\n172\n00:07:49.528 --> 00:07:52.586\nNotice the default, by the way,\nis the certificate authority.\n\n173\n00:07:52.586 --> 00:07:55.322\nThat's the default role or\nfeature that we're gonna enroll.\n\n174\n00:07:55.322 --> 00:07:57.932\nSo we're to go ahead and\nmake sure we have certificate authority.\n\n175\n00:07:57.932 --> 00:08:00.328\nWe'll do our online\nresponder here as well.\n\n176\n00:08:00.328 --> 00:08:01.393\nGet that set up.\n\n177\n00:08:01.393 --> 00:08:04.072\nLet me just click or wait for\nthat to come up there.\n\n178\n00:08:04.072 --> 00:08:07.759\nAnd as I chose online responder, I have\nadditional features that are required.\n\n179\n00:08:07.759 --> 00:08:10.128\nAgain, we would chose these and\nobviously activate these.\n\n180\n00:08:10.128 --> 00:08:11.921\nThe RSET tools are there, but\n\n181\n00:08:11.921 --> 00:08:16.519\nnotice we need web services in IS in\norder to be able do the online responder.\n\n182\n00:08:16.519 --> 00:08:20.661\nAnd we have quite a number of things that\nare gonna be configured as a result of\n\n183\n00:08:20.661 --> 00:08:21.447\nthat choice.\n\n184\n00:08:21.447 --> 00:08:22.563\nSo we'll add features.\n\n185\n00:08:22.563 --> 00:08:24.790\nAnd you'll notice down here\ninclude management tools.\n\n186\n00:08:24.790 --> 00:08:28.177\nI forgot to mention this when we went\nthrough the Wizard the first time.\n\n187\n00:08:28.177 --> 00:08:30.344\nWhen I showed you in\nPowerShell that parameter for\n\n188\n00:08:30.344 --> 00:08:33.593\ninclude management tools at the end,\nat the end of that line instead of just\n\n189\n00:08:33.593 --> 00:08:36.482\nshowing you how you would do\na configuration, that is essentially\n\n190\n00:08:36.482 --> 00:08:40.009\nthe same as checking this box off right\nhere in the graphical interface, right?\n\n191\n00:08:40.009 --> 00:08:41.732\nSo, add features.\n\n192\n00:08:41.732 --> 00:08:42.646\nAnd so we have those.\n\n193\n00:08:42.646 --> 00:08:46.421\nAnd if I chose others, I would obviously\nhave perhaps additional requirements,\n\n194\n00:08:46.421 --> 00:08:50.211\nadditional things that I could go through\nand take a look at and have to configure.\n\n195\n00:08:50.211 --> 00:08:52.798\nYou'll see now the web server role and\nthe role services have been\n\n196\n00:08:52.798 --> 00:08:55.728\nadded here because of the fact that\nI chose the online responder, right?\n\n197\n00:08:55.728 --> 00:08:59.290\nSo, we'll be able to go in and add those\nfeatures, choose whatever we wanna do.\n\n198\n00:08:59.290 --> 00:09:02.794\nWe'll go through and we'll do\nthe web server configuration here.\n\n199\n00:09:02.794 --> 00:09:05.551\nWe'll just back up one step\njust before we do that.\n\n200\n00:09:05.551 --> 00:09:07.221\nAnd just things to note here.\n\n201\n00:09:07.221 --> 00:09:08.571\nIf we can go full screen for\njust a second,\n\n202\n00:09:08.571 --> 00:09:09.816\nI wanted to point something out here.\n\n203\n00:09:09.816 --> 00:09:13.348\nI just skip over this just to show\nyou what the options would be.\n\n204\n00:09:13.348 --> 00:09:17.377\nBut you'll see here,\nADCS provides certificate infrastructure,\n\n205\n00:09:17.377 --> 00:09:22.662\nenables various capabilities like IPsec,\nlike EFS, network access protection, etc.\n\n206\n00:09:22.662 --> 00:09:26.445\nCuz all these are driven by the use, and\napplied through the use of certificates.\n\n207\n00:09:26.445 --> 00:09:29.298\nBut things to notice What I\nwanted to point out to you.\n\n208\n00:09:29.298 --> 00:09:32.750\nName and domain settings in this\ncomputer cannot be changed, right?\n\n209\n00:09:32.750 --> 00:09:33.561\nVery important.\n\n210\n00:09:33.561 --> 00:09:37.086\nCannot be changed after we setup a CA and\ninstall it,\n\n211\n00:09:37.086 --> 00:09:41.816\nbecause we bind to that name, and\nwe bind to that domain designation,\n\n212\n00:09:41.816 --> 00:09:46.486\nin the case of making an enterprise\nversus stand alone designation.\n\n213\n00:09:46.486 --> 00:09:49.043\nBut the name of the machine\nis now gonna be included in\n\n214\n00:09:49.043 --> 00:09:53.185\nthe certificates that are issued by the\nCA, self-signed and other certificates.\n\n215\n00:09:53.185 --> 00:09:56.227\nAnd if we change the name,\nall those certificates become invalid.\n\n216\n00:09:56.227 --> 00:09:57.896\nSo we're not allowed to do that, right?\n\n217\n00:09:57.896 --> 00:10:00.774\n&gt;&gt; Kind of like if you were entering\nthe witness protection program and\n\n218\n00:10:00.774 --> 00:10:04.104\nthen were e-mailing me under a psuedo\nname, and I'm like I don't trust you,\n\n219\n00:10:04.104 --> 00:10:05.232\nI don't know who you are.\n\n220\n00:10:05.232 --> 00:10:07.334\n[LAUGH]\n&gt;&gt; I would, when I did that,\n\n221\n00:10:07.334 --> 00:10:10.594\nI would always have my secret-\n&gt;&gt; That's right, you still have that?\n\n222\n00:10:10.594 --> 00:10:13.484\n[LAUGH]\n&gt;&gt; I do, yes, well, okay.\n\n223\n00:10:13.484 --> 00:10:14.296\n&gt;&gt; Where's the camera?\n\n224\n00:10:14.296 --> 00:10:15.872\nThere it is.\n&gt;&gt; I'm like there, but then it goes there.\n\n225\n00:10:15.872 --> 00:10:17.010\nAnd I'm like I'll give it to you.\n\n226\n00:10:17.010 --> 00:10:17.528\nIt's easier.\n\n227\n00:10:17.528 --> 00:10:21.099\nBut I have from my last episode, if you\nremember, I have my get out of jail,\n\n228\n00:10:21.099 --> 00:10:24.473\nalways identify me certificate,\nright, my star certificate here.\n\n229\n00:10:24.473 --> 00:10:25.432\nSo see, I'm no fool,\n\n230\n00:10:25.432 --> 00:10:28.566\nI kept that because I knew I would have\nto do that whenever I had to recover.\n\n231\n00:10:28.566 --> 00:10:32.678\nI've always been convinced, by the way,\nI've looked like this roughly if you see\n\n232\n00:10:32.678 --> 00:10:36.671\nme, you certainly are seeing me, those of\nyou who have been watching ITProTV for\n\n233\n00:10:36.671 --> 00:10:40.429\na while know I've been here working as\na presenter and an expert on and off for\n\n234\n00:10:40.429 --> 00:10:41.280\nseveral years.\n\n235\n00:10:41.280 --> 00:10:44.129\nBut when you take a look at me,\nyou see me now, right?\n\n236\n00:10:44.129 --> 00:10:45.078\nAnd this is what I look like.\n\n237\n00:10:45.078 --> 00:10:48.226\nBut I've look other than fact that\nhave more of it and it was darker,\n\n238\n00:10:48.226 --> 00:10:52.277\nI've looked like this essentially since\nI was 15 years old, 15, 16 years old.\n\n239\n00:10:52.277 --> 00:10:55.207\nI had a mustache\n&gt;&gt; And I think you even are time traveler\n\n240\n00:10:55.207 --> 00:10:58.217\nbecause I've seen a painting of you\nin another country from [CROSSTALK]\n\n241\n00:10:58.217 --> 00:11:00.433\n&gt;&gt; That's a whole separate conversation.\n\n242\n00:11:00.433 --> 00:11:02.926\nWe're not getting into that right now,\nthat's a whole separate conversation.\n\n243\n00:11:02.926 --> 00:11:04.352\nDon't cloud the issue with\n\n244\n00:11:04.352 --> 00:11:05.878\nall sorts of crazy-\n&gt;&gt; [LAUGH]\n\n245\n00:11:05.878 --> 00:11:07.915\n&gt;&gt; Renaissance references to art in\n\n246\n00:11:07.915 --> 00:11:10.469\nthe Vatican and all sorts of crazy stuff.\n\n247\n00:11:10.469 --> 00:11:12.649\nGreat story, ask me about it offline.\n\n248\n00:11:12.649 --> 00:11:14.225\nHit me up in the chats, send me an e-mail.\n\n249\n00:11:14.225 --> 00:11:15.329\nBe happy to share that with you.\n\n250\n00:11:15.329 --> 00:11:17.342\nMaybe we can talk about\nit one time as an aside.\n\n251\n00:11:17.342 --> 00:11:19.662\nBut for now, my point is simply gonna be-\n&gt;&gt; Certificates.\n\n252\n00:11:19.662 --> 00:11:22.834\n&gt;&gt; Certificates, my point was gonna\nbe I have looked basically like this,\n\n253\n00:11:22.834 --> 00:11:24.706\nmy hair's been even longer than this, but\n\n254\n00:11:24.706 --> 00:11:27.462\nessentially I've looked like\nthis since I was 15 years old.\n\n255\n00:11:27.462 --> 00:11:29.130\nI'm way older than 15 now, by the way.\n\n256\n00:11:29.130 --> 00:11:29.841\n&gt;&gt; [LAUGH]\n&gt;&gt; And\n\n257\n00:11:29.841 --> 00:11:32.335\nI've always thought because literally,\n\n258\n00:11:32.335 --> 00:11:35.797\nother than my parents not even\nmy wife who I've been with for\n\n259\n00:11:35.797 --> 00:11:39.898\nlike ever has seen me without a beard,\na mustache and with short hair.\n\n260\n00:11:39.898 --> 00:11:44.233\nSo other than a few very close friends\nof mine that have known me for decades,\n\n261\n00:11:44.233 --> 00:11:47.710\nI could count like one hand,\nmaybe two hands, and [CROSSTALK]\n\n262\n00:11:47.710 --> 00:11:50.419\n&gt;&gt; No one would be able to identify you.\n\n263\n00:11:50.419 --> 00:11:50.975\n&gt;&gt; Know what I look like without this.\n\n264\n00:11:50.975 --> 00:11:54.315\nI'm convinced, if I want to go off the\ngrid, commit insurance fraud or something,\n\n265\n00:11:54.315 --> 00:11:55.171\nand just disappear?\n\n266\n00:11:55.171 --> 00:11:58.680\nI just have to shave my head,\nshave my face.\n\n267\n00:11:58.680 --> 00:12:02.559\nNobody is gonna recognize me, because\nnobody, there's probably less than ten\n\n268\n00:12:02.559 --> 00:12:05.365\npeople in the world that know\nwhat I look like if I did that.\n\n269\n00:12:05.365 --> 00:12:07.287\nBecause nobody has ever seen me that way.\n\n270\n00:12:07.287 --> 00:12:08.669\nSo if I wanna go undercover, truly,\n\n271\n00:12:08.669 --> 00:12:10.823\nI don't have to go into\nthe witness protection program.\n\n272\n00:12:10.823 --> 00:12:11.493\nAll I gotta do is get a razor.\n\n273\n00:12:11.493 --> 00:12:12.970\n&gt;&gt; Shave.\n\n274\n00:12:12.970 --> 00:12:16.786\n&gt;&gt; If I come in one day, and this is\nall gone, you will never know who I am.\n\n275\n00:12:16.786 --> 00:12:18.150\nCuz obviously, I'll do the smart thing.\n\n276\n00:12:18.150 --> 00:12:19.232\nI'll get rid of all the bracelets, right?\n\n277\n00:12:19.232 --> 00:12:20.097\nThey'll be gone.\n\n278\n00:12:20.097 --> 00:12:20.931\nYou'll never see me.\n\n279\n00:12:20.931 --> 00:12:22.292\nAnyways, this is our aside.\n\n280\n00:12:22.292 --> 00:12:24.207\nOur random aside for this episode.\n\n281\n00:12:24.207 --> 00:12:26.508\nSo let's get back to what\nwe're here to talk about.\n\n282\n00:12:26.508 --> 00:12:28.385\nCuz shame on you, we're supposed\nto be talking about certificates.\n\n283\n00:12:28.385 --> 00:12:29.217\nHow dare you lead me astray like that?\n\n284\n00:12:29.217 --> 00:12:30.173\n&gt;&gt; I know, I'm sorry.\n\n285\n00:12:30.173 --> 00:12:35.318\n&gt;&gt; So my real important point,\nwhich actually is a very important point.\n\n286\n00:12:35.318 --> 00:12:38.216\nCannot change, cannot change the name\nof this system once we set it up.\n\n287\n00:12:38.216 --> 00:12:39.504\nIt is domain joined.\n\n288\n00:12:39.504 --> 00:12:43.063\nIt is called whatever it's called,\nin this case Plab DM01.\n\n289\n00:12:43.063 --> 00:12:44.484\nOr excuse me, Plab VC01.\n\n290\n00:12:44.484 --> 00:12:45.856\nThat's it, boys and girls.\n\n291\n00:12:45.856 --> 00:12:48.127\nWe do not change this designation.\n\n292\n00:12:48.127 --> 00:12:49.204\nSo note that.\n\n293\n00:12:49.204 --> 00:12:51.896\nWe put that stuff on these screens for\na reason.\n\n294\n00:12:51.896 --> 00:12:54.128\nAnd you gotta pay\nattention to those items.\n\n295\n00:12:54.128 --> 00:12:55.910\nVery important in the real world.\n\n296\n00:12:55.910 --> 00:12:58.229\nEqually important for exam preparation.\n\n297\n00:12:58.229 --> 00:13:01.389\nI can promise you that one of those things\nwe may ask about from a troubleshooting\n\n298\n00:13:01.389 --> 00:13:04.613\nend or from a configuration perspective\nwould be, hey, we're having issues.\n\n299\n00:13:04.613 --> 00:13:05.890\nWhat went wrong?\n\n300\n00:13:05.890 --> 00:13:06.722\nCan't rename.\n\n301\n00:13:06.722 --> 00:13:09.542\nIf we tried to that'd cause all\nsorts of conflicts and concerns.\n\n302\n00:13:09.542 --> 00:13:10.725\nSo just wanted that in there and\n\n303\n00:13:10.725 --> 00:13:12.829\npointed that out cuz that is\nkind of important to know.\n\n304\n00:13:12.829 --> 00:13:15.021\nAll right, so\nwe chose our online responder.\n\n305\n00:13:15.021 --> 00:13:16.275\nLet's go ahead, web server role.\n\n306\n00:13:16.275 --> 00:13:18.746\nWe've gotta go ahead, couple things\nwe've got to take care of here.\n\n307\n00:13:18.746 --> 00:13:23.477\nDo wanna know that the default\ninstallation of IS includes role services\n\n308\n00:13:23.477 --> 00:13:29.153\nthat it set up and enable certain kinds of\ncommunications, specifically HTTP based.\n\n309\n00:13:29.153 --> 00:13:33.385\nWe wanna support HTTPS, we may have to go\nand add bindings to our web server once we\n\n310\n00:13:33.385 --> 00:13:36.016\nstand this up to support\nsecure communications.\n\n311\n00:13:36.016 --> 00:13:38.896\nAnd we've certainly talked about\nhow that may happen before.\n\n312\n00:13:38.896 --> 00:13:41.537\nAnd we'll go through and talk more about\nthat in the future, I'm sure, as well.\n\n313\n00:13:41.537 --> 00:13:44.525\nBut just keep in mind there's some\ninformation to be aware of there.\n\n314\n00:13:44.525 --> 00:13:49.322\nWe do have our role services, we can make\nwhatever choices we may want to here,\n\n315\n00:13:49.322 --> 00:13:49.836\nright?\n\n316\n00:13:49.836 --> 00:13:50.510\nIn this case,\n\n317\n00:13:50.510 --> 00:13:54.569\nwe're not gonna change anything, but you\ncould see we're enabling HTTP features.\n\n318\n00:13:54.569 --> 00:13:56.755\nIt's kinda what the note\njust told us about,\n\n319\n00:13:56.755 --> 00:13:58.835\nwe're enabling some basic performance.\n\n320\n00:13:58.835 --> 00:14:02.622\nNotice from a security standpoint,\nwe're not enabling any of the security\n\n321\n00:14:02.622 --> 00:14:06.484\nrequirements right now, support for\nSSL certificates, things like that.\n\n322\n00:14:06.484 --> 00:14:10.541\nWe're not really supporting much on the\nAd Dev side, except for basic extensions.\n\n323\n00:14:10.541 --> 00:14:13.901\nNo FTP support out of\nthe box by default is needed.\n\n324\n00:14:13.901 --> 00:14:15.495\nMinimal management support.\n\n325\n00:14:15.495 --> 00:14:19.500\nSo it's really just a very streamlined\nversion of IS that we're installing right\n\n326\n00:14:19.500 --> 00:14:23.332\nnow to support just the web enablement and\nweb enrollment that is required, or\n\n327\n00:14:23.332 --> 00:14:27.240\nthe web console that's required for\nonline responder capabilities, right?\n\n328\n00:14:27.240 --> 00:14:28.208\nThat's what we're focusing on right now.\n\n329\n00:14:28.208 --> 00:14:28.888\n&gt;&gt; To provide that platform for\nthose requests.\n\n330\n00:14:28.888 --> 00:14:32.490\n&gt;&gt; To provide that capability for\nthe online responder to work, and then for\n\n331\n00:14:32.490 --> 00:14:33.313\nOSCP to be used.\n\n332\n00:14:33.313 --> 00:14:34.588\nThat's what we're doing right now.\n\n333\n00:14:34.588 --> 00:14:35.792\nSo we're gonna click Next.\n\n334\n00:14:35.792 --> 00:14:37.481\nWe have our confirmation here.\n\n335\n00:14:37.481 --> 00:14:38.788\nGonna go through, do what we need to.\n\n336\n00:14:38.788 --> 00:14:42.124\nWe don't need a restart, but\nif we did, we could check that off,\n\n337\n00:14:42.124 --> 00:14:44.747\nhave a system restart on our\nbehalf if we need it to.\n\n338\n00:14:44.747 --> 00:14:45.757\nSo we'll click Install.\n\n339\n00:14:45.757 --> 00:14:48.868\nThis does take, not very long,\nit will take a minute or two,\n\n340\n00:14:48.868 --> 00:14:50.770\nkind of walk through, do its stuff.\n\n341\n00:14:50.770 --> 00:14:53.089\nWe are able to kind of watch and\nsee what's happening there.\n\n342\n00:14:53.089 --> 00:14:54.930\nWe've got the install started.\n\n343\n00:14:54.930 --> 00:14:57.709\nJust tell us hey, you can close this and\nkind of go off, do some other stuff.\n\n344\n00:14:57.709 --> 00:14:59.323\nAnd when it's done we'll notify you.\n\n345\n00:14:59.323 --> 00:15:03.746\nSo that's good to know, but we need to\nknow it's finished, because in order for\n\n346\n00:15:03.746 --> 00:15:06.412\nus to go in and\nactually then get to the next step,\n\n347\n00:15:06.412 --> 00:15:10.659\nwhich will be to see this status at\nfinish, or successful, rather, close.\n\n348\n00:15:10.659 --> 00:15:14.875\nBut then up here, we'll see that little\ncaution flag with the black exclamation\n\n349\n00:15:14.875 --> 00:15:18.161\npoint that reminds us that we\nhave additional configuration,\n\n350\n00:15:18.161 --> 00:15:21.076\npost-installation configuration\nis what we call it,\n\n351\n00:15:21.076 --> 00:15:25.246\nto do to then actually set up and to\nfinish enabling the certificate authority.\n\n352\n00:15:25.246 --> 00:15:28.238\nAnd that's what we're gonna go in and\ntake a look at here in just a minute.\n\n353\n00:15:28.238 --> 00:15:29.125\nSo we're waiting on that.\n\n354\n00:15:29.125 --> 00:15:32.145\nAs soon as that comes up we'll\nthen be able to click there, and\n\n355\n00:15:32.145 --> 00:15:35.983\nwe'll go ahead and configure the Active\nDirectory Certificate Services, or\n\n356\n00:15:35.983 --> 00:15:39.315\nfinish the configuration,\ncuz it's kind of a two-step process.\n\n357\n00:15:39.315 --> 00:15:43.202\nWe are setting up the role right now and\ninstantiating the features necessary to\n\n358\n00:15:43.202 --> 00:15:46.972\nsupport it, but they haven't actually\nbeen totally set up and configured,\n\n359\n00:15:46.972 --> 00:15:48.899\nwe're just installing essentially.\n\n360\n00:15:48.899 --> 00:15:52.816\nWe're gonna go through Configuration\nof part two in this in just a moment.\n\n361\n00:15:52.816 --> 00:15:54.897\nSo as soon as this finishes\nup we will do that.\n\n362\n00:15:54.897 --> 00:15:57.978\nBut in the mean time, let me just mention\none other interesting little thing.\n\n363\n00:15:57.978 --> 00:16:00.163\nAnd you could actually see it just\npopped in right now and it's done.\n\n364\n00:16:00.163 --> 00:16:02.510\nBut still let me just mention one\nlittle interesting thing here.\n\n365\n00:16:02.510 --> 00:16:05.632\nHere, we do support the use of\nsmart cards and have for some time.\n\n366\n00:16:05.632 --> 00:16:07.942\nNow, we often will store\ncertificates in smart cards.\n\n367\n00:16:07.942 --> 00:16:12.276\nIt's not uncommon, I'm sure a lot of you\nmay actually do that, may be familiar with\n\n368\n00:16:12.276 --> 00:16:16.062\nthat, and probably one of the more\ncommon uses of certificates in terms of\n\n369\n00:16:16.062 --> 00:16:19.201\nconsumption is with smart cards and\nour ability to use them.\n\n370\n00:16:19.201 --> 00:16:23.922\nBut we actually support what are called\nVirtual Smart Cards with Server 12,\n\n371\n00:16:23.922 --> 00:16:25.720\n12R2 in our PKI solution.\n\n372\n00:16:25.720 --> 00:16:28.668\nWe can use them to represent\nour digital identity and\n\n373\n00:16:28.668 --> 00:16:32.153\nto be able to use them to store\ncertificates in an onboard TPM,\n\n374\n00:16:32.153 --> 00:16:36.388\na Trusted Platform Module, or\nexternal HSM, Hardware Security Module.\n\n375\n00:16:36.388 --> 00:16:39.924\nAnd kind of map our capabilities and\nour thought process to that.\n\n376\n00:16:39.924 --> 00:16:43.202\nSo we do have that capability,\nin case somebody ask about that or\n\n377\n00:16:43.202 --> 00:16:45.337\njust wondering hey do we support that?.\n\n378\n00:16:45.337 --> 00:16:47.498\nWe have this whole virtual\nsmart code thing going on.\n\n379\n00:16:47.498 --> 00:16:48.771\nThe answer is yes, we can use that.\n\n380\n00:16:48.771 --> 00:16:51.579\nActually since 2008 or\n2002 we have been able to do that, so\n\n381\n00:16:51.579 --> 00:16:52.928\nit's not a new feature either.\n\n382\n00:16:52.928 --> 00:16:56.566\nAll right so we are done here,\nwe just kinda click close on that.\n\n383\n00:16:56.566 --> 00:16:59.991\nWe're then able to come over here and\npick up with our configuration,\n\n384\n00:16:59.991 --> 00:17:01.745\nkind of our step two in the process.\n\n385\n00:17:01.745 --> 00:17:04.360\nSo we're gonna come over here and\nclick and you'll see that,\n\n386\n00:17:04.360 --> 00:17:07.544\nwe'll just get rid of this Success Install\nitem, we don't need that one.\n\n387\n00:17:07.544 --> 00:17:09.856\nWe're gonna focus on\nPost Deployment Configuration.\n\n388\n00:17:09.856 --> 00:17:10.924\nSo we click this link,\n\n389\n00:17:10.924 --> 00:17:14.147\nconfigure the app directory\ncertificate services on the machine.\n\n390\n00:17:14.147 --> 00:17:18.088\nSo let's do that, we're gonna open up\na separate wizard for configuration.\n\n391\n00:17:18.088 --> 00:17:20.605\nWe'll just bring this up here so\nwe can see that.\n\n392\n00:17:20.605 --> 00:17:22.116\nAnd we're then gonna provide, or\n\n393\n00:17:22.116 --> 00:17:24.470\nat least be asked to initially\nprovide a credential.\n\n394\n00:17:24.470 --> 00:17:28.250\nNotice the Practice Lab's administrative\ncredential is there by default because\n\n395\n00:17:28.250 --> 00:17:29.065\nthat's who I am.\n\n396\n00:17:29.065 --> 00:17:32.166\nIt's my alter ego when I'm logged\non here doing demonstrations.\n\n397\n00:17:32.166 --> 00:17:35.190\nSo in the real world when you do this and\nyou log on, you want to be logged on as\n\n398\n00:17:35.190 --> 00:17:37.543\nthe domain admin that has\nrights to do the configuration.\n\n399\n00:17:37.543 --> 00:17:40.301\nOr you would have to be able to\nprovide that credential here and\n\n400\n00:17:40.301 --> 00:17:43.323\nyou could just do that by clicking\nthe Change button and going out and\n\n401\n00:17:43.323 --> 00:17:45.144\njust finding the appropriate account.\n\n402\n00:17:45.144 --> 00:17:48.175\nBut since we already have that credential\nwe don't need to bother with that.\n\n403\n00:17:48.175 --> 00:17:49.305\nWe'll click Next.\n\n404\n00:17:49.305 --> 00:17:51.404\nWe have role services here.\n\n405\n00:17:51.404 --> 00:17:54.046\nSelect the Roles,\nServices that we are going to configure.\n\n406\n00:17:54.046 --> 00:17:57.621\nWell, we installed two, the other ones are\ngrayed out because they're not available.\n\n407\n00:17:57.621 --> 00:18:00.808\nWe do wanna configure both, so\nwe will check off both of them.\n\n408\n00:18:00.808 --> 00:18:02.220\nSo give me just a second to do this.\n\n409\n00:18:05.430 --> 00:18:07.371\nAnd then just\nthe Online Responder as well,\n\n410\n00:18:07.371 --> 00:18:10.734\nthat will just make sure we have all\nthe appropriate areas here configured.\n\n411\n00:18:10.734 --> 00:18:12.560\nAll right, so\nwe've got both of those, right?\n\n412\n00:18:12.560 --> 00:18:15.172\nSo we're gonna go ahead then,\nand we're gonna click Next and\n\n413\n00:18:15.172 --> 00:18:16.438\nwe'll start the set up type.\n\n414\n00:18:16.438 --> 00:18:19.974\nThis is where we get to specify\nEnterprise route or Stand Alone CA,\n\n415\n00:18:19.974 --> 00:18:22.763\nremember I told you we would\nbe able to make a choice.\n\n416\n00:18:22.763 --> 00:18:24.400\nWe are on our domain controller,\n\n417\n00:18:24.400 --> 00:18:28.374\nit would be hard to do a Stand Alone Route\nCA on a domain controller that's already\n\n418\n00:18:28.374 --> 00:18:31.304\nessentially part of the domain and\nrepresents the domain.\n\n419\n00:18:31.304 --> 00:18:36.340\nSo the logic is we'll do an Enterprise CA,\nbut you'll see here Stand Alone CAs\n\n420\n00:18:36.340 --> 00:18:41.319\ncan be members, can be members of a work\ngroup, I should say not org, right?\n\n421\n00:18:41.319 --> 00:18:44.047\nTrying to read that as we go,\ncan be members of the work group or\n\n422\n00:18:44.047 --> 00:18:44.997\na domain or a domain.\n\n423\n00:18:44.997 --> 00:18:47.466\nSomebody did not QA and\nspell check when they should have.\n\n424\n00:18:47.466 --> 00:18:50.395\nBut they can be members of a work group or\na domain, when we say Stand Alone,\n\n425\n00:18:50.395 --> 00:18:52.580\nwhat we mean is that they could\nbe a member of the domain,\n\n426\n00:18:52.580 --> 00:18:54.695\nbut we're not gonna leverage\nthe Active Directory.\n\n427\n00:18:54.695 --> 00:18:57.747\nBut as I suggested just having\nthis on a domain controller,\n\n428\n00:18:57.747 --> 00:19:00.932\nit makes no sense to do a standalone\nCA on a domain controller.\n\n429\n00:19:00.932 --> 00:19:03.411\nBecause the reality is,\nyou have the Active Directory there,\n\n430\n00:19:03.411 --> 00:19:04.781\nyou wouldn't wanna leverage it.\n\n431\n00:19:04.781 --> 00:19:07.594\nSo it just doesn't really make sense,\nso just be aware of that.\n\n432\n00:19:07.594 --> 00:19:10.777\nAll right, so\nwe are gonna choose an Enterprise CA, but\n\n433\n00:19:10.777 --> 00:19:13.372\nyou could see how we\nwould make a choice here.\n\n434\n00:19:13.372 --> 00:19:17.319\nThen we specify root or subordinate,\nit's a two step process.\n\n435\n00:19:17.319 --> 00:19:21.904\nFirst we specify the Enterprise\nversus Stand Alone designation then\n\n436\n00:19:21.904 --> 00:19:24.442\nwe do the Root versus Subordinate CA.\n\n437\n00:19:24.442 --> 00:19:29.313\nWe can only do a Subordinate CA after\nwe have set up our Root CA cuz we have\n\n438\n00:19:29.313 --> 00:19:31.638\nto link that to a root CA, right?\n\n439\n00:19:31.638 --> 00:19:34.607\nSo we're gonna obviously need to\nmake the appropriate choice here,\n\n440\n00:19:34.607 --> 00:19:35.742\nwe're gonna do a root CA.\n\n441\n00:19:35.742 --> 00:19:38.241\nSo we'll choose that, and\nthen once we've done that,\n\n442\n00:19:38.241 --> 00:19:41.376\nwe'll be able to come back through,\nin another run through here, and\n\n443\n00:19:41.376 --> 00:19:44.586\nset up a subordinate sample,\nwe'll do that as a follow on discussion.\n\n444\n00:19:44.586 --> 00:19:48.339\nSo Root CA, we're then going to have\nour private key specification in here,\n\n445\n00:19:48.339 --> 00:19:51.125\nspecify type of private key if\nyou wanna create a new one.\n\n446\n00:19:51.125 --> 00:19:54.876\nUse an existing private key, we don't\nhave one, we will create a new one.\n\n447\n00:19:54.876 --> 00:19:57.646\nRemember that the private key, right?\n\n448\n00:19:57.646 --> 00:20:01.276\nIs the key that is used to sign\nthe certificates, make them available or\n\n449\n00:20:01.276 --> 00:20:05.038\nto encrypt or decrypt depending on\nwhat we're doing it varies of course.\n\n450\n00:20:05.038 --> 00:20:07.256\nWhether we're doing public private key or\n\n451\n00:20:07.256 --> 00:20:11.816\nwhat's called Asymmetric Cryptography Key\nPair, where we're doing symmetric key,\n\n452\n00:20:11.816 --> 00:20:13.244\nsingle key cryptography.\n\n453\n00:20:13.244 --> 00:20:16.788\nBut the idea is that if we use this,\nif we do not have a private key,\n\n454\n00:20:16.788 --> 00:20:19.764\nyou wanna create a new one,\nthat's what will happen.\n\n455\n00:20:19.764 --> 00:20:24.368\nThat private key, then, is linked together\nwith our identity about the Root CA,\n\n456\n00:20:24.368 --> 00:20:28.438\nit becomes part of the identity of\nthe Root CA that's used to underlie and\n\n457\n00:20:28.438 --> 00:20:32.937\ngive credence to all the certificates and\nthings that we use as a result of that.\n\n458\n00:20:32.937 --> 00:20:36.186\nOr at least part of that key pair that\nwill ultimately be generated will be\n\n459\n00:20:36.186 --> 00:20:36.890\nused for that.\n\n460\n00:20:36.890 --> 00:20:42.098\nSo we'll talk about and\nin this case use a new private key.\n\n461\n00:20:42.098 --> 00:20:44.859\nAnd actually one of the things here,\nlet me just click here real quick.\n\n462\n00:20:44.859 --> 00:20:47.509\nWe'll just click on this\nwhile we're doing this.\n\n463\n00:20:47.509 --> 00:20:50.263\nSo a lot of times these built\nin little links for help,\n\n464\n00:20:50.263 --> 00:20:53.643\nI always like to try to show you at\nleast one of them here and there.\n\n465\n00:20:53.643 --> 00:20:56.828\nAllows us to go out and find,\nin this case a Technet article,\n\n466\n00:20:56.828 --> 00:20:58.207\nit gives us information.\n\n467\n00:20:58.207 --> 00:21:01.358\nIt talks about the storing of private\nkey as part of the CA identities as I\n\n468\n00:21:01.358 --> 00:21:04.157\nmentioned, it has to be protected,\nmust be stored securely.\n\n469\n00:21:04.157 --> 00:21:07.637\nTo be stored with either a TPM or\nan HSM, depending on what we're doing.\n\n470\n00:21:07.637 --> 00:21:11.219\nSo the idea is that you can read up on\nsome of this information if you have\n\n471\n00:21:11.219 --> 00:21:13.123\na question about what we're doing.\n\n472\n00:21:13.123 --> 00:21:15.491\nClick one or\nmore of those links down here.\n\n473\n00:21:15.491 --> 00:21:17.820\nAs long as you're connected to the web,\nand as you saw I am,\n\n474\n00:21:17.820 --> 00:21:19.508\nyou get to look up basic help information.\n\n475\n00:21:19.508 --> 00:21:22.116\nWhich can be actually beneficial\nas we're going through and\n\n476\n00:21:22.116 --> 00:21:23.861\nmaybe have a question about something.\n\n477\n00:21:23.861 --> 00:21:27.694\nAll right, so specify the cryptographic\noptions here, what will be the CSP,\n\n478\n00:21:27.694 --> 00:21:30.033\nwe call\nthe Cryptographic Security Provider.\n\n479\n00:21:30.033 --> 00:21:33.917\nRSA hash,\nMicrosoft software key storage provider.\n\n480\n00:21:33.917 --> 00:21:37.027\nThat means it is gonna be one of\nthe ones that's available to us.\n\n481\n00:21:37.027 --> 00:21:40.518\nAs you could see there are quite\na number of them by the way.\n\n482\n00:21:40.518 --> 00:21:42.879\nAnd we have a key length, the default for\n\n483\n00:21:42.879 --> 00:21:46.091\nthis particular key stored\nprovider of 2048 bit.\n\n484\n00:21:46.091 --> 00:21:51.981\nNotice it can go all the way up to 4096\nbyte if we choose to, up to us to decide.\n\n485\n00:21:51.981 --> 00:21:55.800\nThe rule of thumb is the larger\nthe number here the stronger the key, so\n\n486\n00:21:55.800 --> 00:21:57.306\nwe wanna keep that in mind.\n\n487\n00:21:57.306 --> 00:22:01.739\nThe default is usually 2048 bit for\nsomething like RSA.\n\n488\n00:22:01.739 --> 00:22:05.282\nThat's our default for RSA currently,\nit doesn't mean we can't change that,\n\n489\n00:22:05.282 --> 00:22:08.426\nit just means that's what our default\nsetting will traditionally be.\n\n490\n00:22:08.426 --> 00:22:11.475\nAnd we can specify the Hash Algorithm,\nas well.\n\n491\n00:22:11.475 --> 00:22:15.084\nThe Hash Algorithm will be used\nto digitally sign information and\n\n492\n00:22:15.084 --> 00:22:16.536\nprovide that signature.\n\n493\n00:22:16.536 --> 00:22:22.356\nThe default, is SHA1, in server 1212R2,\nwe may wanna move away from that,\n\n494\n00:22:22.356 --> 00:22:27.596\nand go to something like SHA256 to\nprovide more strength ultimately and\n\n495\n00:22:27.596 --> 00:22:30.191\nperhaps just longer term security.\n\n496\n00:22:30.191 --> 00:22:34.059\nIn, although we're not talking about\nServer 16, I understand that, but\n\n497\n00:22:34.059 --> 00:22:37.761\njust to make you a quick future\nprediction/forward looking reference.\n\n498\n00:22:37.761 --> 00:22:41.815\nIn Server 16, we actually see a change and\nthe default for\n\n499\n00:22:41.815 --> 00:22:44.826\nServer 1212R2 as you can see is SHA1.\n\n500\n00:22:44.826 --> 00:22:49.500\nAnd the default in Sever 16 is if you did\nthe same exact thing you run through this\n\n501\n00:22:49.500 --> 00:22:52.265\nWizard you would see\nSHA256 is the default.\n\n502\n00:22:52.265 --> 00:22:56.989\nSo, just giving you some heads up and\nlook ahead information if you will.\n\n503\n00:22:56.989 --> 00:23:00.991\nBut whether we're choose SHA256,\nwe're choose SHA1 which is the default,\n\n504\n00:23:00.991 --> 00:23:03.777\nwe're gonna leave that just\nlet it is where it is for now.\n\n505\n00:23:03.777 --> 00:23:05.997\nBut just make sure you're aware of that,\nright?\n\n506\n00:23:05.997 --> 00:23:09.020\nJust so you know that our\ndefault is currently SHA1,\n\n507\n00:23:09.020 --> 00:23:11.517\nwhich means actually SHA160 not SHA1.\n\n508\n00:23:11.517 --> 00:23:14.724\nWe just shorten it to SHA1 but\nit really means SHA160.\n\n509\n00:23:14.724 --> 00:23:18.738\nWhich means the hash value or the output\nof the digital signature something that is\n\n510\n00:23:18.738 --> 00:23:22.462\ncalled the message digest depending\non what we're doing is actually 160\n\n511\n00:23:22.462 --> 00:23:24.226\nbits that's what does that means.\n\n512\n00:23:24.226 --> 00:23:28.420\n&gt;&gt; In your recommendation you go ahead and\nchange that to SHA256?\n\n513\n00:23:28.420 --> 00:23:32.087\n&gt;&gt; No, I'm just simply pointing\nout that our default selection.\n\n514\n00:23:32.087 --> 00:23:36.659\nThe default that we have as our go to\nvalue if we don't make a change in\n\n515\n00:23:36.659 --> 00:23:38.916\nserver 1212R2, is SHA1.\n\n516\n00:23:38.916 --> 00:23:42.717\nI was just calling out that in Server 16,\nthe default becomes SHA256.\n\n517\n00:23:42.717 --> 00:23:44.209\n&gt;&gt; Yes.\n&gt;&gt; Not recommending that you\n\n518\n00:23:44.209 --> 00:23:45.755\nmake a change, just pointing out.\n\n519\n00:23:45.755 --> 00:23:47.880\n&gt;&gt; Okay.\n&gt;&gt; That you would see a different default.\n\n520\n00:23:47.880 --> 00:23:50.762\nIf you ran this in Server 16,\ndoing the same exact thing,\n\n521\n00:23:50.762 --> 00:23:52.502\nyou would see a different default.\n\n522\n00:23:52.502 --> 00:23:53.925\nThat's all I'm suggesting.\n\n523\n00:23:53.925 --> 00:23:57.010\nAll right, so SHA-1,\nwe then have our CA name.\n\n524\n00:23:57.010 --> 00:23:59.902\nNotice it's pre-populated,\ncuz we made some choices already, and\n\n525\n00:23:59.902 --> 00:24:00.938\nhave that information.\n\n526\n00:24:00.938 --> 00:24:05.374\nPractice labs, plabdc01 CA,\nbecause this is, remember,\n\n527\n00:24:05.374 --> 00:24:08.985\ncoming from our installation\nof the role already.\n\n528\n00:24:08.985 --> 00:24:10.830\nCertain information's\nalready been provided.\n\n529\n00:24:10.830 --> 00:24:15.025\nWe're just double checking, adding in\nas necessary our distinguished name for\n\n530\n00:24:15.025 --> 00:24:18.603\nthe domain practice labs com,\npreview record, distinguish name,\n\n531\n00:24:18.603 --> 00:24:20.466\npracticelabs.com is the domain.\n\n532\n00:24:20.466 --> 00:24:24.155\nThe common name added there, so\nthe whole thing is our strain.\n\n533\n00:24:24.155 --> 00:24:25.741\nSo we should know all that already.\n\n534\n00:24:25.741 --> 00:24:29.103\nOur validity period, remember I said it's\ntypically anywhere from one to five years.\n\n535\n00:24:29.103 --> 00:24:32.294\nFor our root CA, it'll be five years\nonce we choose to change that.\n\n536\n00:24:32.294 --> 00:24:33.908\nSo it's up to us to decide.\n\n537\n00:24:33.908 --> 00:24:38.198\nSo it just fast forwards and\nsays it'll expire on this day and time,\n\n538\n00:24:38.198 --> 00:24:39.643\nwhatever that may be.\n\n539\n00:24:39.643 --> 00:24:41.146\nSo we could see that there.\n\n540\n00:24:41.146 --> 00:24:46.704\nBy the way, 0609, this is day, then month,\njust so you know the designation, meaning\n\n541\n00:24:46.704 --> 00:24:51.860\nthis'll be September 6th of 2022, just so\nyou understand how that is written.\n\n542\n00:24:51.860 --> 00:24:54.929\nCuz the first inclination for many of us\nmay be to look at that depending on where\n\n543\n00:24:54.929 --> 00:24:57.269\nyou are in the world, and\nsay, that's month and day.\n\n544\n00:24:57.269 --> 00:24:58.800\nNot day and month, June 9th.\n\n545\n00:24:58.800 --> 00:25:01.580\n&gt;&gt; But in computing a lot of times\nyou gotta double check on that.\n\n546\n00:25:01.580 --> 00:25:04.490\n&gt;&gt; You do need to know that cuz that\ncan obviously mess with you if you're\n\n547\n00:25:04.490 --> 00:25:06.698\nmaking a note and\nyou're thinking it's too early or\n\n548\n00:25:06.698 --> 00:25:08.726\nit's not far enough based\non how you read that.\n\n549\n00:25:08.726 --> 00:25:12.723\nSo you do wanna know that our default\nIs actually day, month, year, just so\n\n550\n00:25:12.723 --> 00:25:15.984\nyou understand how that would be read,\njust so you know that.\n\n551\n00:25:15.984 --> 00:25:17.474\nAll right, so we have that there.\n\n552\n00:25:17.474 --> 00:25:21.431\nAnd then let's click Next, our certificate\ndatabase and our log file locations.\n\n553\n00:25:21.431 --> 00:25:23.726\nThe default is C, Windows system 32.\n\n554\n00:25:23.726 --> 00:25:25.802\nWe may wanna modify that path,\nthat's up to us.\n\n555\n00:25:25.802 --> 00:25:27.882\nBut we'll leave it in the default just so\nwe know.\n\n556\n00:25:27.882 --> 00:25:29.235\nYou have our confirmation.\n\n557\n00:25:29.235 --> 00:25:32.284\nI often remind you when we do some of\nthese walk-throughs that this is a great\n\n558\n00:25:32.284 --> 00:25:34.982\nscreen to photo I was gonna say Photoshop,\nright, [CROSSTALK]-\n\n559\n00:25:34.982 --> 00:25:35.878\n&gt;&gt; I thought you were gonna say photocopy\n\n560\n00:25:35.878 --> 00:25:36.697\nand then like, who photocopies?\n\n561\n00:25:36.697 --> 00:25:37.302\n[LAUGH]\n&gt;&gt; Photocopy, right?\n\n562\n00:25:37.302 --> 00:25:38.967\nYeah, photocopy, exactly.\n\n563\n00:25:38.967 --> 00:25:40.609\nAnybody have a telefax?\n\n564\n00:25:40.609 --> 00:25:44.516\nSo I was gonna say it's a great\nopportunity if you take a photo or to\n\n565\n00:25:44.516 --> 00:25:49.579\ndocument what you're doing cuz this gives\nyou all the documentation for the setup.\n\n566\n00:25:49.579 --> 00:25:51.746\nAs an auditor,\nwhen I look at this kinda stuff,\n\n567\n00:25:51.746 --> 00:25:54.089\nI can then quickly verify\nwhat you're showing me.\n\n568\n00:25:54.089 --> 00:25:57.003\nIt's very easy for us to figure that\nstuff out from a security standpoint.\n\n569\n00:25:57.003 --> 00:25:59.943\nBCDR, business continuity and\ndisaster recovery, and\n\n570\n00:25:59.943 --> 00:26:03.738\nthen all of those things are gonna be\nvery valuable to us if we have this kind\n\n571\n00:26:03.738 --> 00:26:07.313\nof very specific, very detailed and\nvery accurate documentation.\n\n572\n00:26:07.313 --> 00:26:10.412\nSo may be a good idea for you just to\nthink about that and be aware of that.\n\n573\n00:26:10.412 --> 00:26:14.415\nAll right, we're gonna click Configure and\nthen sit back and watch the magic happen,\n\n574\n00:26:14.415 --> 00:26:15.015\nas we say.\n\n575\n00:26:15.015 --> 00:26:17.366\nYou could see that does\nnot take very long at all.\n\n576\n00:26:17.366 --> 00:26:21.200\nSo we do have our CA configured,\nour online responder configured.\n\n577\n00:26:21.200 --> 00:26:22.488\nSo that's all good.\n\n578\n00:26:22.488 --> 00:26:24.566\nGonna click Close.\n\n579\n00:26:24.566 --> 00:26:28.729\nWe now have that capability or\nthat information available to us.\n\n580\n00:26:28.729 --> 00:26:30.719\nLet's see what the operative\nof that actually was.\n\n581\n00:26:30.719 --> 00:26:35.259\nSo if we go up here to Tools, we should\nnow see, just go up here right there.\n\n582\n00:26:35.259 --> 00:26:38.082\nWe do have our certification\nauthority console, so\n\n583\n00:26:38.082 --> 00:26:40.015\nwe can open this up to manage the CA.\n\n584\n00:26:40.015 --> 00:26:42.057\nSo let's do that, it takes just a second.\n\n585\n00:26:42.057 --> 00:26:46.025\nAnd assuming that everything went well and\nwe have no reason to think it did\n\n586\n00:26:46.025 --> 00:26:49.101\nnot because we saw our green\ncircle with our white check.\n\n587\n00:26:49.101 --> 00:26:52.446\nAnd we know that the people in Microsoft,\nwho make those icons take\n\n588\n00:26:52.446 --> 00:26:56.525\nthem very seriously, so we know green\ncircle means everything is good, right.\n\n589\n00:26:56.525 --> 00:26:58.329\nOne of the few that's not confusing.\n\n590\n00:26:58.329 --> 00:27:00.107\nSometimes it means good,\nsometimes it doesn't.\n\n591\n00:27:00.107 --> 00:27:01.517\nThis one always means good.\n\n592\n00:27:01.517 --> 00:27:02.914\nAnd so we see that green circle.\n\n593\n00:27:02.914 --> 00:27:05.110\nThe white check is very small but\nit is there as well.\n\n594\n00:27:05.110 --> 00:27:06.760\nWhen we open this up,\n\n595\n00:27:06.760 --> 00:27:12.099\nwe do see that the practice labs\nPLABDC01 is online and available.\n\n596\n00:27:12.099 --> 00:27:16.848\nWe do see our certificate template folder\nis there so we know it's an enterprise CA.\n\n597\n00:27:16.848 --> 00:27:19.519\nWe do see we have no\nfailed requests right now.\n\n598\n00:27:19.519 --> 00:27:21.979\nWe have no pending requests for\nthe moment.\n\n599\n00:27:21.979 --> 00:27:25.228\nWe have issued certificates,\nnot done anything yet.\n\n600\n00:27:25.228 --> 00:27:28.219\nWe haven't revoked anything either,\nwhich is good, right?\n\n601\n00:27:28.219 --> 00:27:32.816\nAnd we can go in here, and we can stop\nthe service that's currently online and\n\n602\n00:27:32.816 --> 00:27:33.605\navailable.\n\n603\n00:27:33.605 --> 00:27:34.980\nWe can backup and restore.\n\n604\n00:27:34.980 --> 00:27:38.856\nWe'll be taking a look at these thought\nprocesses in some upcoming episodes as we\n\n605\n00:27:38.856 --> 00:27:40.338\ncontinue our walk-through.\n\n606\n00:27:40.338 --> 00:27:44.586\nWe can look at properties of the CA,\nand we can look under the hood.\n\n607\n00:27:44.586 --> 00:27:47.869\nAnd we can see that our\nself-sign CA certificate\n\n608\n00:27:47.869 --> 00:27:50.921\nwhich is used to create\nthe CA itself is here.\n\n609\n00:27:50.921 --> 00:27:55.249\nThis is the CA certificate that we have\nissued to ourselves in order to be able to\n\n610\n00:27:55.249 --> 00:27:58.210\ngive ourselves the right to\nbe an enterprise root CA.\n\n611\n00:27:58.210 --> 00:28:03.127\nThat is certificate number zero, it maybe\nhard to see but that is what that says.\n\n612\n00:28:03.127 --> 00:28:07.461\nAnd we can come here and we can click\non View Certificate and we can see that\n\n613\n00:28:07.461 --> 00:28:11.819\nthis was issued by us to us for\nour validity period, as you can see there.\n\n614\n00:28:11.819 --> 00:28:14.352\nRemember day month,\nnot month day, all right.\n\n615\n00:28:14.352 --> 00:28:17.751\nAnd certificate is issued for\nthe following purposes,\n\n616\n00:28:17.751 --> 00:28:20.074\nall application issuance policies.\n\n617\n00:28:20.074 --> 00:28:23.385\nThis is what give the root CA\nthe right to then operate, and\n\n618\n00:28:23.385 --> 00:28:26.848\nto issue certificates to other\nentities for other reasons.\n\n619\n00:28:26.848 --> 00:28:31.327\nWe can see the certification path that\nI mentioned Is at our level right now.\n\n620\n00:28:31.327 --> 00:28:32.653\nWe issued the certificate, so\n\n621\n00:28:32.653 --> 00:28:36.023\nwe're the only ones there when we look\nat the subordinancy after we set one up.\n\n622\n00:28:36.023 --> 00:28:38.240\nWhen we look at the certification path,\n\n623\n00:28:38.240 --> 00:28:42.216\nwe'll see a certificate below this\nlevel that paths back up to this, and\n\n624\n00:28:42.216 --> 00:28:46.408\nreferences this root CA as being\nthe originator of our certification path.\n\n625\n00:28:46.408 --> 00:28:47.952\nAnd that's what that trust path or\n\n626\n00:28:47.952 --> 00:28:50.145\ncertification path is\nthat I keep referring to.\n\n627\n00:28:50.145 --> 00:28:52.107\nWe can see the details of the certificate.\n\n628\n00:28:52.107 --> 00:28:54.728\nIt is a V3, as I mentioned, right?\n\n629\n00:28:54.728 --> 00:28:56.327\nWe do have a unique serial number.\n\n630\n00:28:56.327 --> 00:28:58.563\nEvery certificate is given\na unique tracking number.\n\n631\n00:28:58.563 --> 00:29:01.430\nWe do have a signature algorithm,\nremember, we chose SHA-1.\n\n632\n00:29:01.430 --> 00:29:04.915\nThat is also available to us, and\nindicated, by the way, right down here on\n\n633\n00:29:04.915 --> 00:29:08.345\nthe Properties tab, or on the General\ntab on the properties of the server,\n\n634\n00:29:08.345 --> 00:29:11.137\nwhere we could see that we\nare using hash algorithm SHA-1.\n\n635\n00:29:11.137 --> 00:29:15.555\nSo we can see that, so we have that there.\n\n636\n00:29:15.555 --> 00:29:20.279\nWe do have the issuer, tells us what\nthe whole path of the issuance is,\n\n637\n00:29:20.279 --> 00:29:22.694\nvalid validity period to and from.\n\n638\n00:29:22.694 --> 00:29:24.573\nWe do then have our subject.\n\n639\n00:29:24.573 --> 00:29:26.361\nIt tells us what it is used for.\n\n640\n00:29:26.361 --> 00:29:29.584\nThe public key,\nremember we did RSA 2048 bit.\n\n641\n00:29:29.584 --> 00:29:33.262\nIf you've never seen an RSA 2048 bit key,\nthat's what one looks like,\n\n642\n00:29:33.262 --> 00:29:34.248\nit's right there.\n\n643\n00:29:34.248 --> 00:29:35.690\nIt's almost like the matrix.\n\n644\n00:29:35.690 --> 00:29:37.879\nI would say that and\nexpect Cherokee to know what that is but\n\n645\n00:29:37.879 --> 00:29:39.452\nshe has no clue cuz she watches no movies.\n\n646\n00:29:39.452 --> 00:29:41.099\n&gt;&gt; [LAUGH]\n&gt;&gt; You ever see\n\n647\n00:29:41.099 --> 00:29:41.999\nthe movie The Boy in the Bubble?\n\n648\n00:29:41.999 --> 00:29:43.308\nYou're kinda like The Girl in the Bubble.\n\n649\n00:29:43.308 --> 00:29:45.297\nYou're living like this isolated\nenvironment with no movies.\n\n650\n00:29:45.297 --> 00:29:46.587\n&gt;&gt; What about The Boy in the Balloon?\n\n651\n00:29:46.587 --> 00:29:49.566\nWas that the title of it, Red Balloon?\n\n652\n00:29:49.566 --> 00:29:50.624\nYou never saw that one?\n\n653\n00:29:50.624 --> 00:29:51.388\n&gt;&gt; Yeah, no, I didn't.\n\n654\n00:29:51.388 --> 00:29:52.092\n&gt;&gt; No, okay.\n\n655\n00:29:52.092 --> 00:29:53.798\n&gt;&gt; Red Balloon,\nThe Boy in the Red Balloon?\n\n656\n00:29:53.798 --> 00:29:56.087\n&gt;&gt; Yeah, I don't know, there was a boy in\na red balloon, so maybe that's the title.\n\n657\n00:29:56.087 --> 00:29:58.500\n[LAUGH]\n&gt;&gt; You sure you're not just seeing things?\n\n658\n00:29:58.500 --> 00:29:59.778\nI don't know, that could have been like a-\n&gt;&gt; There was like no\n\n659\n00:29:59.778 --> 00:30:01.047\ntalking during the entire movie.\n\n660\n00:30:01.047 --> 00:30:04.134\n&gt;&gt; No, okay, was that cuz he was up in\nthe balloon, and nobody could hear him?\n\n661\n00:30:04.134 --> 00:30:05.502\n&gt;&gt; It was a very strange movie.\n\n662\n00:30:05.502 --> 00:30:08.183\nYeah, I was forced to watch\nit as a child at school.\n\n663\n00:30:08.183 --> 00:30:10.173\n&gt;&gt; Okay, all right,\nthanks for sharing that.\n\n664\n00:30:10.173 --> 00:30:11.296\n&gt;&gt; Public school system, for the win.\n\n665\n00:30:11.296 --> 00:30:15.898\n&gt;&gt; Appreciate you sharing your troubles\nand travails with us, that's very good.\n\n666\n00:30:15.898 --> 00:30:17.802\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, we do have free counseling,\n\n667\n00:30:17.802 --> 00:30:19.112\nby the way, for people that have\nwatched red balloon movies.\n\n668\n00:30:19.112 --> 00:30:20.287\n&gt;&gt; Well, that's always a plus.\n\n669\n00:30:20.287 --> 00:30:21.728\n[LAUGH]\n&gt;&gt; That may be helpful.\n\n670\n00:30:21.728 --> 00:30:22.255\nAll right,\n\n671\n00:30:22.255 --> 00:30:25.797\nso we do see just all the information\nassociated with our certificate, right?\n\n672\n00:30:25.797 --> 00:30:27.096\nSo we could see that here.\n\n673\n00:30:27.096 --> 00:30:28.736\nWe can copy that, by the way.\n\n674\n00:30:28.736 --> 00:30:31.473\nWe'll talk about this later but\nwe can copy this out to a file.\n\n675\n00:30:31.473 --> 00:30:32.940\nWe use a little export wizard.\n\n676\n00:30:32.940 --> 00:30:36.067\nWe then get a copy of the certificate and\nwe can then imported somewhere else.\n\n677\n00:30:36.067 --> 00:30:36.935\nSo we may do that.\n\n678\n00:30:36.935 --> 00:30:40.657\nWe want use group policy to deploy,\nnot the root CA certificate perhaps,\n\n679\n00:30:40.657 --> 00:30:44.080\nif we chose to do that or\nanother certificate through group policy,\n\n680\n00:30:44.080 --> 00:30:47.162\nwe could take that if that was\na trusted root CA certificate.\n\n681\n00:30:47.162 --> 00:30:49.897\nSo if I wanted to export this,\nit would be very simple to do.\n\n682\n00:30:49.897 --> 00:30:53.329\nWe use our-\n&gt;&gt; I'm definitely paying attention here to\n\n683\n00:30:53.329 --> 00:30:53.894\nthat format.\n\n684\n00:30:53.894 --> 00:30:54.964\n&gt;&gt; Would be very important, right.\n\n685\n00:30:54.964 --> 00:30:57.488\nI was gonna say,\nwe use our x.509 format here.\n\n686\n00:30:57.488 --> 00:31:02.248\nBut DER-encoded versus base 64-encoded,\nmake some choices here, right?\n\n687\n00:31:02.248 --> 00:31:06.789\nSo we'll do this for PKCS #7, depending\non what we're doing, or PKCS #12.\n\n688\n00:31:06.789 --> 00:31:10.947\nBut for a general certificate,\nwe do just the normal DER-encoded.\n\n689\n00:31:10.947 --> 00:31:12.251\nWe'll click Next.\n\n690\n00:31:12.251 --> 00:31:13.874\nWe'll give it a file name and a pass.\n\n691\n00:31:13.874 --> 00:31:15.402\nWe'll just put it in let's say the C.\n\n692\n00:31:15.402 --> 00:31:18.740\nWe'll call it plabdc01.\n\n693\n00:31:18.740 --> 00:31:22.587\nIt'll put the .cer extension on the end\nof it, so it'll have a .cer extension.\n\n694\n00:31:22.587 --> 00:31:26.181\nWe'll go take a look at this in\njust a minute when we're done.\n\n695\n00:31:26.181 --> 00:31:29.666\nExport it out, and\nwe exported the certificate.\n\n696\n00:31:29.666 --> 00:31:33.436\nSo once we've done that, we then could\ncome over here and we would see that our\n\n697\n00:31:33.436 --> 00:31:37.395\ncertificate is sitting right there in the\nroot of the C drive where I exported it.\n\n698\n00:31:37.395 --> 00:31:39.685\nSo I could then import it\nfrom somewhere else and\n\n699\n00:31:39.685 --> 00:31:43.192\nmake it available if I chose to put it\ninto a share or something like that.\n\n700\n00:31:43.192 --> 00:31:47.045\nThen as I said, maybe use it to deploy\nthrough group policy and to publish it,\n\n701\n00:31:47.045 --> 00:31:47.888\nI could do that.\n\n702\n00:31:47.888 --> 00:31:51.220\nSo we have our Policy module here,\nour Exit module.\n\n703\n00:31:51.220 --> 00:31:55.660\nPolicy module tells us how we are going\nto handle certificate requests for\n\n704\n00:31:55.660 --> 00:31:57.670\nan enterprise or standalone CA.\n\n705\n00:31:57.670 --> 00:32:00.890\nWe're using the most version\nof that Policy module.\n\n706\n00:32:00.890 --> 00:32:04.418\nProperties here, really doesn't tell us\nmuch other than we'll follow the settings\n\n707\n00:32:04.418 --> 00:32:05.702\non the certificate template.\n\n708\n00:32:05.702 --> 00:32:09.953\nMeaning, by default, the policy module\ndefaults to whatever template is used to\n\n709\n00:32:09.953 --> 00:32:11.381\nrequest the certificate.\n\n710\n00:32:11.381 --> 00:32:15.457\nSo we can do that, we can select here,\nwe only have the Windows default Policy\n\n711\n00:32:15.457 --> 00:32:19.822\nmodule unless there is another one that\nhas been loaded by a third party provider.\n\n712\n00:32:19.822 --> 00:32:22.903\nAnd we may get those for\ncertain configurations, but by default,\n\n713\n00:32:22.903 --> 00:32:25.499\nwe use the out-of-the-box\nWindows associated one.\n\n714\n00:32:25.499 --> 00:32:27.744\nThe exit module, also the Windows default.\n\n715\n00:32:27.744 --> 00:32:31.587\nThis will tell us what happens\nwhen we are going in, and\n\n716\n00:32:31.587 --> 00:32:35.935\nour being able to decide,\nonce we have issued certificates,\n\n717\n00:32:35.935 --> 00:32:40.889\nwhat happens with them and what we\nare doing with them, as you can see.\n\n718\n00:32:40.889 --> 00:32:42.178\nI think I can just show you, yeah.\n\n719\n00:32:42.178 --> 00:32:45.129\nBasically the only thing here is, once\nthese certificates are then issued, how do\n\n720\n00:32:45.129 --> 00:32:47.882\nwe publish them, how do we make them\navailable, how do we get them out there?\n\n721\n00:32:47.882 --> 00:32:51.683\nThe XM module takes the certificates and\nsays okay these are things we can do to\n\n722\n00:32:51.683 --> 00:32:55.428\nessentially provide them and make them\navailable once we issue them, and so\n\n723\n00:32:55.428 --> 00:32:57.615\nthat's what this module\ntells us how to do.\n\n724\n00:32:57.615 --> 00:33:00.177\nSo we can do that and\neither publish them to the file system or\n\n725\n00:33:00.177 --> 00:33:02.965\nsupport them out though the web or\nwhatever it is we may wanna do.\n\n726\n00:33:02.965 --> 00:33:04.282\nSo we'll be able to do that here.\n\n727\n00:33:04.282 --> 00:33:07.465\nAgain we use the Windows\ndefault one we chose to add.\n\n728\n00:33:07.465 --> 00:33:09.517\nNotice there are no others\nother than that by default.\n\n729\n00:33:09.517 --> 00:33:13.433\nAnd we have enrollment agents that\nmay be allowed to be used here.\n\n730\n00:33:13.433 --> 00:33:16.153\nSo we can either restrict\nenrollment agents for or\n\n731\n00:33:16.153 --> 00:33:19.081\nnot restrict them,\ndepending on what we're doing.\n\n732\n00:33:19.081 --> 00:33:20.477\nWe choose to restrict them.\n\n733\n00:33:20.477 --> 00:33:25.005\nYou'll see here, restrictions on\ndelegated enrollment agents can only be\n\n734\n00:33:25.005 --> 00:33:29.052\nenforced on server 2008 CAs and\nlater, which is not a big deal.\n\n735\n00:33:29.052 --> 00:33:32.061\nFor designating any delegated enrollment\nagents, make sure your policies\n\n736\n00:33:32.061 --> 00:33:34.846\nare appropriate, which is fine,\nwe don't have a problem with that.\n\n737\n00:33:34.846 --> 00:33:38.301\nAnd then you could see, we could add,\nessentially, a user in here or\n\n738\n00:33:38.301 --> 00:33:42.014\na designated person or a computer that\nwill become the enrollment agent.\n\n739\n00:33:42.014 --> 00:33:44.240\nAnd then we can specify how\nwe want them to behave,\n\n740\n00:33:44.240 --> 00:33:45.732\nwhat we want them to be able to do.\n\n741\n00:33:45.732 --> 00:33:47.456\nSo we can do that if we would like.\n\n742\n00:33:47.456 --> 00:33:50.817\nAuditing, we can enable auditing here.\n\n743\n00:33:50.817 --> 00:33:53.247\nWhat kind of auditing do we wanna\nbe able to track activities around?\n\n744\n00:33:53.247 --> 00:33:58.014\nSo things like backing up and restoring,\ndo you wanna audit when that happens?\n\n745\n00:33:58.014 --> 00:34:02.303\nChanging, modifying security or\nconfiguration settings, starting and\n\n746\n00:34:02.303 --> 00:34:05.772\nstopping of the ADCS,\nhow often that happens to do backups or\n\n747\n00:34:05.772 --> 00:34:07.894\nto do configuration changes, etc.\n\n748\n00:34:07.894 --> 00:34:09.684\nSo we can look at that.\nWe have recovery agents so\n\n749\n00:34:09.684 --> 00:34:13.941\nwe can decide whether we're gonna\narchive the key for recovery or not.\n\n750\n00:34:13.941 --> 00:34:14.720\nSo we could specify that.\n\n751\n00:34:14.720 --> 00:34:18.916\nAnd then we could, if we choose to do\nthat, add in the number of recovery agents\n\n752\n00:34:18.916 --> 00:34:21.597\nand certificates that will\nbe used to drive that.\n\n753\n00:34:21.597 --> 00:34:23.939\nWe don't have any yet,\nwe'd have to issue them, so\n\n754\n00:34:23.939 --> 00:34:25.923\nyou can see no certificates are available.\n\n755\n00:34:25.923 --> 00:34:26.826\nBut if we go, and\n\n756\n00:34:26.826 --> 00:34:30.579\nI'll show you this as soon as we're\ndone looking at the properties.\n\n757\n00:34:30.579 --> 00:34:34.063\nCome into Certificate templates,\nwe could then create a template or\n\n758\n00:34:34.063 --> 00:34:35.695\nuse one that may already exist.\n\n759\n00:34:35.695 --> 00:34:39.444\nCuz when they have one that's already\nbeen published, or go in and manage and\n\n760\n00:34:39.444 --> 00:34:42.516\nadd one that will let us then\nuse Recovery Agent capabilities.\n\n761\n00:34:42.516 --> 00:34:43.777\nAnd I'll show you what I mean by that.\nOnce we do that,\n\n762\n00:34:43.777 --> 00:34:45.433\nwe then would be able to add here and\n\n763\n00:34:45.433 --> 00:34:49.454\nactually have certificates issued, if\nthey were available, so we could do that.\n\n764\n00:34:49.454 --> 00:34:52.914\nI did mention we have Security\ntab that we can go to,\n\n765\n00:34:52.914 --> 00:34:55.823\nboth on the CA itself and\non the templates.\n\n766\n00:34:55.823 --> 00:34:58.028\nAnd we can specify what\npermissions people get.\n\n767\n00:34:58.028 --> 00:35:01.091\nAuthenticated users can\nrequest certificates.\n\n768\n00:35:01.091 --> 00:35:04.172\nIf we want to curtail that\nonly let certain users but\n\n769\n00:35:04.172 --> 00:35:08.198\nnot all authenticated users have\nthis right, we can modify that.\n\n770\n00:35:08.198 --> 00:35:13.420\nNotice domain admins and enterprise admins\nhave issue in manage as well as manage CA\n\n771\n00:35:13.420 --> 00:35:18.652\nrights and notice that the Administrator\naccount itself is also given that right.\n\n772\n00:35:18.652 --> 00:35:21.903\nSo we can modify it using the standard\nWindows permission thought process\n\n773\n00:35:21.903 --> 00:35:24.590\nhere that we're all used to,\nthe permissions associated.\n\n774\n00:35:24.590 --> 00:35:26.557\nSo we're not gonna make any changes here,\nbut\n\n775\n00:35:26.557 --> 00:35:29.244\nI did promise you I'd talk to you\nabout templates for a minute.\n\n776\n00:35:29.244 --> 00:35:32.010\nYou'll notice that we have\na basic set of templates already.\n\n777\n00:35:32.010 --> 00:35:34.883\nWe do have an EFS Recovery Agent\ncertificate here, but\n\n778\n00:35:34.883 --> 00:35:36.642\nwe may want other certificates.\n\n779\n00:35:36.642 --> 00:35:39.728\nAnd so we can come here,\nright click, choose Manage,\n\n780\n00:35:39.728 --> 00:35:43.685\nwe get to see the Certificate Template\nConsole MMC, where we get to see\n\n781\n00:35:43.685 --> 00:35:48.204\nessentially the library, the archive,\nof all templates that are available.\n\n782\n00:35:48.204 --> 00:35:52.322\nAnd notice there are quite a few templates\nthat are not part of the subset,\n\n783\n00:35:52.322 --> 00:35:54.656\nthat 13 or so that are there by default.\n\n784\n00:35:54.656 --> 00:35:58.316\nNow we could see there are different\nagents like enrollment agents here,\n\n785\n00:35:58.316 --> 00:36:01.565\nthere's an EFS recovery agent,\nthere's a key recovery agent,\n\n786\n00:36:01.565 --> 00:36:05.224\nthat's the template we will need to go\nissue and make available in order to\n\n787\n00:36:05.224 --> 00:36:08.434\nthen have a certificate on that\nRecovery Agent tab I showed you.\n\n788\n00:36:08.434 --> 00:36:11.008\nAnd you'll notice we also\nhave Schema versions, right.\n\n789\n00:36:11.008 --> 00:36:14.895\nRemember we talked about different\nversions of templates or certificates.\n\n790\n00:36:14.895 --> 00:36:16.840\nThat said we currently\nuse a Version three.\n\n791\n00:36:16.840 --> 00:36:20.335\nAnd we have Version one, Version two,\nVersion three, as you can see here.\n\n792\n00:36:20.335 --> 00:36:23.191\nAnd we maybe even have Version four\ndepending on what we're doing.\n\n793\n00:36:23.191 --> 00:36:26.824\nWe just don't see it right now but they're\nmaybe one or more of those available.\n\n794\n00:36:26.824 --> 00:36:30.415\nSo, you could see that we have different\ntypes of certificates depending on what we\n\n795\n00:36:30.415 --> 00:36:31.969\nchoose to do our templates rather.\n\n796\n00:36:31.969 --> 00:36:33.196\nDepending on what we choose to do.\n\n797\n00:36:33.196 --> 00:36:36.090\nSo if I wanted to issue the key\nrecovery age certificate,\n\n798\n00:36:36.090 --> 00:36:39.780\nbefore I did that I would have to grab\nthis template, make it available.\n\n799\n00:36:39.780 --> 00:36:42.798\nSo first thing I would do would\nbe typically to duplicate it so\n\n800\n00:36:42.798 --> 00:36:46.295\nI don't mess up or in any way modify\nthe copy, rather modify the copy,\n\n801\n00:36:46.295 --> 00:36:48.860\nmake changes there, but\nnot mess up the original.\n\n802\n00:36:48.860 --> 00:36:51.770\nSo I would typically come in here,\nduplicate the template,\n\n803\n00:36:51.770 --> 00:36:54.690\ngive the template a name as part\nof the duplication process.\n\n804\n00:36:54.690 --> 00:36:57.503\nIt's typically I always\ngo to general first and\n\n805\n00:36:57.503 --> 00:37:01.030\nI'll just call it copy of by default,\nbut we can name this.\n\n806\n00:37:01.030 --> 00:37:04.310\nLet's call this KRA, right,\nfor key recovery agent.\n\n807\n00:37:06.713 --> 00:37:08.709\nTemplate or something like that.\n\n808\n00:37:08.709 --> 00:37:12.362\nThe name is really up to us to\ndecide what validity period will be.\n\n809\n00:37:12.362 --> 00:37:14.780\nAnd then we may have compatibility for\n\n810\n00:37:14.780 --> 00:37:18.189\nvarious certification\ncertificate authority OSs.\n\n811\n00:37:18.189 --> 00:37:19.801\nWe deal with all of that.\n\n812\n00:37:19.801 --> 00:37:22.460\nWhat we wanna do, when I talked\nabout with to go with security and\n\n813\n00:37:22.460 --> 00:37:25.639\nyou'll notice that I have again\nthe authenticated users group by default.\n\n814\n00:37:25.639 --> 00:37:29.222\nAnd I said in the beginning of our first\nepisode as we talked through some of this,\n\n815\n00:37:29.222 --> 00:37:32.756\nthat the default permission on almost\nevery template is authenticated to users\n\n816\n00:37:32.756 --> 00:37:34.360\nread to let users see the template.\n\n817\n00:37:34.360 --> 00:37:37.951\nAnd again we wanted to modify that\npermission we could come in here,\n\n818\n00:37:37.951 --> 00:37:41.290\nstandard discretion of access\ncontrollers thought process,\n\n819\n00:37:41.290 --> 00:37:43.627\nadd a group in of some kind,\nwhatever it is.\n\n820\n00:37:43.627 --> 00:37:50.665\nLet's just say in theory\nsomething like Not that you\n\n821\n00:37:50.665 --> 00:37:56.370\nwould necessarily wanna add domain guests\nhere, like that would not be a good idea.\n\n822\n00:37:56.370 --> 00:37:59.235\nBut I'm just adding it for\npurposes of demonstration and\n\n823\n00:37:59.235 --> 00:38:02.706\nmaybe I give them the ability to\nenroll right or something like that.\n\n824\n00:38:02.706 --> 00:38:06.641\nWhatever it is, great, do all that,\nclick Apply, click OK,\n\n825\n00:38:06.641 --> 00:38:09.851\nwe have the KRA template now,\nand this is our copy.\n\n826\n00:38:09.851 --> 00:38:13.721\nSo we've made the copy,\nwe now know what that is, no big deal.\n\n827\n00:38:13.721 --> 00:38:17.965\nSo now we come out of here,\ncome back over here and in order for\n\n828\n00:38:17.965 --> 00:38:22.212\nus to then be able to bring this\ntemplate in from the Library,\n\n829\n00:38:22.212 --> 00:38:26.994\nthe offline area where the templates\nare stored but are not active.\n\n830\n00:38:26.994 --> 00:38:30.965\nI come here, right click on the folder,\nNew Certificate Template to issue.\n\n831\n00:38:30.965 --> 00:38:34.292\nI have to specify,\nif you see I browse through the list here,\n\n832\n00:38:34.292 --> 00:38:36.585\nspecify the names just alphabetically.\n\n833\n00:38:36.585 --> 00:38:39.402\nI can go click on K,\nget to my list KRA template,\n\n834\n00:38:39.402 --> 00:38:42.584\ndouble click and\nboom KRA template is now available.\n\n835\n00:38:42.584 --> 00:38:45.057\nAnd now when I go and\nI issue certificates,\n\n836\n00:38:45.057 --> 00:38:49.110\nI can use the KRA template because\nit's been made available to me, and\n\n837\n00:38:49.110 --> 00:38:51.331\nI would be able to use that if I choose.\n\n838\n00:38:51.331 --> 00:38:55.440\nTo be able to use that for a certificate\ntype, I may be able to choose that, and\n\n839\n00:38:55.440 --> 00:38:57.731\nissue a certificate using that template.\n\n840\n00:38:57.731 --> 00:38:59.995\nSo we've stood up in enterprise root CA,\n\n841\n00:38:59.995 --> 00:39:03.500\nwe've gone through both\nthe installation and configuration.\n\n842\n00:39:03.500 --> 00:39:08.477\nWe've then gone into the Certificate\nAuthority MMC, we've shown you some basic,\n\n843\n00:39:08.477 --> 00:39:10.873\njust little fact finding tour in there.\n\n844\n00:39:10.873 --> 00:39:14.050\nGiving you the lay of the land, showed\nyou what all the different folders are.\n\n845\n00:39:14.050 --> 00:39:17.738\nShowed you how to go in and use the\nproperties on the Certificate Authority\n\n846\n00:39:17.738 --> 00:39:21.627\nitself to make some decisions about what\nwe want to do and what happens there.\n\n847\n00:39:21.627 --> 00:39:25.345\nAlso showed you how to issue a brand new\ntemplate from the certificate template\n\n848\n00:39:25.345 --> 00:39:28.573\ncapability, the offline store\nwhere certificate templates are.\n\n849\n00:39:28.573 --> 00:39:32.227\nAnd how to manipulate that, make a copy,\nand actually bring it in and\n\n850\n00:39:32.227 --> 00:39:33.370\nmake it manageable.\n\n851\n00:39:33.370 --> 00:39:36.504\nIn an upcoming conversation in our\nnext episode, we will actually go in,\n\n852\n00:39:36.504 --> 00:39:39.094\nI promised you I would show you\nhow to set up a subordinate CA.\n\n853\n00:39:39.094 --> 00:39:42.515\nSo we'll come back, we'll take a look\nat that and how that's done and\n\n854\n00:39:42.515 --> 00:39:45.939\nthen also we'll take a look at how\nbackup the Certificate Authority.\n\n855\n00:39:45.939 --> 00:39:48.993\nThat way we'd know we have a copy of\nthings if something goes wrong and\n\n856\n00:39:48.993 --> 00:39:50.743\njust use that to do a restore if need be.\n\n857\n00:39:50.743 --> 00:39:52.482\nSo we'll take a look at that\nin an upcoming episode.\n\n858\n00:39:52.482 --> 00:39:55.435\n&gt;&gt; All right, sounds like a plan,\nAdam, thank you for that.\n\n859\n00:39:55.435 --> 00:39:58.378\nBut ladies and gentlemen, stay tuned,\nlike you said, we still have a lot\n\n860\n00:39:58.378 --> 00:40:01.248\nof configuration options available\nthat we'd like you to join us for.\n\n861\n00:40:01.248 --> 00:40:02.978\nBut for this show,\nlet's go ahead and sign out.\n\n862\n00:40:02.978 --> 00:40:04.795\nI've been your host, Cherokee Boose.\n\n863\n00:40:04.795 --> 00:40:05.870\n&gt;&gt; I'm Adam Gordon.\n\n864\n00:40:05.870 --> 00:40:07.845\n&gt;&gt; See you next time here at ITProTV.\n\n865\n00:40:07.845 --> 00:40:15.684\n[MUSIC]\n\n866\n00:40:15.684 --> 00:40:18.126\nThank you for watching ITProTV.\n\n",
          "vimeoId": "232993305"
        },
        {
          "description": "In this episode, Adam and Cherokee demonstrate how to create a subordinate CA, as promised. They also look at how to perform a backup via the GUI and explains shows CertUtil.exe is also a viable addition in addition to the GUI and PowerShell.",
          "length": "1922",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-3-implementing_ad_cs_pt3-090617-PGM.00_34_24_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-3-implementing_ad_cs_pt3-090617-PGM.00_34_24_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-3-implementing_ad_cs_pt3-090617-PGM.00_34_24_20.Still001-sm.jpg",
          "title": "Implementing AD CS Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:02.853\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.853 --> 00:00:04.929\nWe're coming at you live from\nSan Francisco, California.\n\n3\n00:00:04.929 --> 00:00:05.805\n[CROSSTALK]\n\n4\n00:00:05.805 --> 00:00:08.278\n[MUSIC]\n\n5\n00:00:08.278 --> 00:00:11.932\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:11.932 --> 00:00:14.711\n&gt;&gt; Welcome back to your\nServer 2012 R2 series.\n\n7\n00:00:14.711 --> 00:00:16.860\nI'm your show host, Cherokee Boose.\n\n8\n00:00:16.860 --> 00:00:20.550\nIn the last episode, Adam was walking us\nthrough a demonstration showing how we\n\n9\n00:00:20.550 --> 00:00:23.471\ncould set up an enterprise Root CA,\namongst other things, and\n\n10\n00:00:23.471 --> 00:00:27.106\nwe were able to get him back in studios\ntoday to continue through a process, and\n\n11\n00:00:27.106 --> 00:00:29.563\nshow us how to,\nwhat are we gonna be looking at here?\n\n12\n00:00:29.563 --> 00:00:31.419\nHow to set up a subordinate.\n\n13\n00:00:31.419 --> 00:00:32.207\n&gt;&gt; To do a subordinate CA.\n\n14\n00:00:32.207 --> 00:00:34.248\n&gt;&gt; Yeah.\n&gt;&gt; To do the subordinate CA joined to\n\n15\n00:00:34.248 --> 00:00:35.243\nthe Root CA, and\n\n16\n00:00:35.243 --> 00:00:40.244\nkinda continuing that fine CA tradition\nthat we've established here at IT Pro TV.\n\n17\n00:00:40.244 --> 00:00:44.468\nSo without further ado,\njoin me right over there.\n\n18\n00:00:44.468 --> 00:00:45.403\n&gt;&gt; [LAUGH]\n&gt;&gt; Almost, I had it.\n\n19\n00:00:45.403 --> 00:00:47.897\nWe gotta have that fade so\nthat it would just window goes across, or\n\n20\n00:00:47.897 --> 00:00:50.904\nlike maybe a string that I can just pull\nand it kinda pulls it down to transition.\n\n21\n00:00:50.904 --> 00:00:54.032\n&gt;&gt; That would be great.\n\n22\n00:00:54.032 --> 00:00:55.593\n&gt;&gt; Somebody's got to sit us down and say,\n\n23\n00:00:55.593 --> 00:00:57.451\nwhat do you guys want\nwhen you do these things?\n\n24\n00:00:57.451 --> 00:00:59.086\n&gt;&gt; [LAUGH]\n&gt;&gt; And that's what we should come up with.\n\n25\n00:00:59.086 --> 00:00:59.679\nAll right so,\n\n26\n00:00:59.679 --> 00:01:02.504\nyou can see I am on a different machine\nthan I was in the last episode.\n\n27\n00:01:02.504 --> 00:01:04.827\nIf you have not seen our prior episode,\ndo go back,\n\n28\n00:01:04.827 --> 00:01:06.567\ntake a look before you watch this one.\n\n29\n00:01:06.567 --> 00:01:08.218\nIt will make a lot more sense to you.\n\n30\n00:01:08.218 --> 00:01:13.316\nWe set up our enterprise Root CA\non our plab DC01 machine.\n\n31\n00:01:13.316 --> 00:01:19.001\nWe now are on plab DM01, also joined\nto the domain, as you can see here,\n\n32\n00:01:19.001 --> 00:01:24.164\nbut currently not rolling with\nan enterprise ADCS installation.\n\n33\n00:01:24.164 --> 00:01:27.806\nNo certificate services are present here,\nas you can see.\n\n34\n00:01:27.806 --> 00:01:30.852\nWe do not have the ability to manage\ncertificate services currently\n\n35\n00:01:30.852 --> 00:01:31.659\navailable to us.\n\n36\n00:01:31.659 --> 00:01:36.423\nSo we are going to go ahead and\nfix that little oversight right now.\n\n37\n00:01:36.423 --> 00:01:40.412\nWe're gonna run, essentially,\nthe app rules and features wizard again,\n\n38\n00:01:40.412 --> 00:01:43.839\ndoing almost the identical things\nwe did in the last episode, but\n\n39\n00:01:43.839 --> 00:01:48.451\ninstead of making the choice for Root, at\nthat point we're gonna choose subordinate,\n\n40\n00:01:48.451 --> 00:01:52.875\nand then we'll provide some information\nthat links this to our enterprise Root CA,\n\n41\n00:01:52.875 --> 00:01:53.909\nand go from there.\n\n42\n00:01:53.909 --> 00:01:56.491\nSo we're gonna go ahead,\nwe're gonna click Next here.\n\n43\n00:01:56.491 --> 00:01:59.234\nWe're gonna choose our role-based or\nfeature-based Install.\n\n44\n00:01:59.234 --> 00:02:00.356\nWe'll click Next.\n\n45\n00:02:00.356 --> 00:02:03.079\nWe'll have our certificate, or excuse me,\n\n46\n00:02:03.079 --> 00:02:06.602\nour server that is selected\nfrom the pool available to us.\n\n47\n00:02:06.602 --> 00:02:08.880\nAnd then we're gonna choose ADCS again.\n\n48\n00:02:08.880 --> 00:02:13.720\nWe'll get our prompt for our dependent\nfeatures, our remote server admin tools,\n\n49\n00:02:13.720 --> 00:02:15.742\nour certificate services tools.\n\n50\n00:02:15.742 --> 00:02:18.460\nAs we said, we'll include any\nnecessary management tools.\n\n51\n00:02:18.460 --> 00:02:19.407\nWe'll do that.\n\n52\n00:02:19.407 --> 00:02:23.283\nWe'll click Next here, no additional\nfeatures required for the moment.\n\n53\n00:02:23.283 --> 00:02:24.333\nWe'll click Next.\n\n54\n00:02:24.333 --> 00:02:26.944\nWe then have our ADCS configuration.\n\n55\n00:02:26.944 --> 00:02:31.211\nI'll point out and remind you, just like\nwe did in the last episode, name and\n\n56\n00:02:31.211 --> 00:02:35.760\ndomain settings of this computer cannot\nbe changed after a CA has been installed.\n\n57\n00:02:35.760 --> 00:02:37.895\nPlease make sure you are aware of that,\nright?\n\n58\n00:02:37.895 --> 00:02:39.437\nSo just know that.\n\n59\n00:02:39.437 --> 00:02:40.719\nOkay.\nSo click Next.\n\n60\n00:02:40.719 --> 00:02:44.397\nWe are installing the certification\nauthority role here.\n\n61\n00:02:44.397 --> 00:02:46.822\nLet me just take a look,\nsee if I need to put anything else on.\n\n62\n00:02:46.822 --> 00:02:48.651\nWe already did our CA.\n\n63\n00:02:48.651 --> 00:02:51.461\nWe're gonna do our online responder\nhere to match the other one.\n\n64\n00:02:51.461 --> 00:02:52.751\nOkay, so we'll do our online responder.\n\n65\n00:02:52.751 --> 00:02:55.869\nWe get our additional features here.\n\n66\n00:02:55.869 --> 00:02:57.315\nWe'll do some additional configuration.\n\n67\n00:02:57.315 --> 00:02:58.811\nClick Next.\n\n68\n00:02:58.811 --> 00:03:01.037\nWe have to just look at the IIS role.\n\n69\n00:03:01.037 --> 00:03:02.438\nIt's gonna be the same as the other one.\n\n70\n00:03:02.438 --> 00:03:06.202\nNow remember, we're gonna do the install,\nquote unquote, first.\n\n71\n00:03:06.202 --> 00:03:06.852\nLet that run.\n\n72\n00:03:06.852 --> 00:03:11.291\nWhen that finishes we'll get our little\nyellow caution flag prompt here will\n\n73\n00:03:11.291 --> 00:03:11.847\ncome up.\n\n74\n00:03:11.847 --> 00:03:14.196\nWe'll then do post install configuration.\n\n75\n00:03:14.196 --> 00:03:17.321\nThat's where we run through the secondary\nwizard, and we make the choice about\n\n76\n00:03:17.321 --> 00:03:20.963\nenterprise versus stand-alone, root versus\nsubordinate, and that's what we're gonna\n\n77\n00:03:20.963 --> 00:03:23.736\nget to in a couple of minutes,\nonce this initial install finishes up.\n\n78\n00:03:23.736 --> 00:03:25.556\nSo we'll just fast forward through this.\n\n79\n00:03:25.556 --> 00:03:26.816\nClick Next.\n\n80\n00:03:26.816 --> 00:03:27.855\nClick Install.\n\n81\n00:03:27.855 --> 00:03:30.741\nI'm gonna let that work it's magic,\ndo it's business here,\n\n82\n00:03:30.741 --> 00:03:33.636\nand then we're gonna go through and\nset up the subordinate CA.\n\n83\n00:03:33.636 --> 00:03:38.049\nNow once we have the subordinate\nCA installed and configured,\n\n84\n00:03:38.049 --> 00:03:42.290\nwhat we're gonna be able to do is go in,\nand we're going to be\n\n85\n00:03:42.290 --> 00:03:47.222\nable to decide to issue certificates\nin theory from it if we choose to.\n\n86\n00:03:47.222 --> 00:03:50.411\nWe're gonna be able to see\nthe certificate trust paths.\n\n87\n00:03:50.411 --> 00:03:54.147\nSo we'll take a look at the certificate\nthat gets issued from the Root CA to\n\n88\n00:03:54.147 --> 00:03:58.187\nthe Subordinate CA to give it it's ability\nto operate, and we'll be able to see\n\n89\n00:03:58.187 --> 00:04:01.420\nif we have that hierarchy in\nthe trust path that we will now see.\n\n90\n00:04:01.420 --> 00:04:06.039\nAnd we are not, we have not since the last\nepisode, taken the Root CA offline.\n\n91\n00:04:06.039 --> 00:04:10.077\nIt is available, so we will be able to\nissue a subordinate CA certificate and\n\n92\n00:04:10.077 --> 00:04:12.615\njoin the subordinate CA\nto the root hierarchy.\n\n93\n00:04:12.615 --> 00:04:15.498\nImportant to have that Root CA online for\nthis process, and\n\n94\n00:04:15.498 --> 00:04:17.986\nwe have left it online so\nit will be available to us.\n\n95\n00:04:17.986 --> 00:04:19.747\nSo, just wanted to make\nsure you're aware that.\n\n96\n00:04:19.747 --> 00:04:23.463\nAlso, while we're just waiting on this\nfinish up, it'll take just a minute\n\n97\n00:04:23.463 --> 00:04:27.481\nto do that, let's just come back over to\nour Root CA since we're talking about it.\n\n98\n00:04:27.481 --> 00:04:28.836\nWe could see it here, and\n\n99\n00:04:28.836 --> 00:04:32.272\nnotice that right now we have\nno issued certificates, right?\n\n100\n00:04:32.272 --> 00:04:35.823\nWe'll see that change when we issue\na subordinate CA certificate.\n\n101\n00:04:35.823 --> 00:04:37.340\nSo just be aware of that.\n\n102\n00:04:37.340 --> 00:04:42.061\nAnd notice that the subordinate\ncertification authority template is\n\n103\n00:04:42.061 --> 00:04:45.991\nalready available in\nthe certificate templates folder.\n\n104\n00:04:45.991 --> 00:04:48.718\nIn other words, it's instantiated,\nmade available, and\n\n105\n00:04:48.718 --> 00:04:51.404\navailable with the Root CA to\nissue certificates against.\n\n106\n00:04:51.404 --> 00:04:52.120\nThat's important.\n\n107\n00:04:52.120 --> 00:04:55.540\nIf that template was not there,\nwhat we're about to do would fail,\n\n108\n00:04:55.540 --> 00:04:59.379\nwould not work, cuz we would have no\ncertificate template that tells us what\n\n109\n00:04:59.379 --> 00:05:03.162\nkind of certificate to issue, and\nthe details associated with issuance.\n\n110\n00:05:03.162 --> 00:05:04.755\nSo it's important to take\nnote of these things.\n\n111\n00:05:04.755 --> 00:05:07.546\nAnd while we look at the certificate\ntemplate that's already here, and\n\n112\n00:05:07.546 --> 00:05:10.244\nthink, I'll go to Properties to\nsee what's associate with it,\n\n113\n00:05:10.244 --> 00:05:13.288\nyou don't really see anything here,\nexcept for the name of the certificate.\n\n114\n00:05:13.288 --> 00:05:15.701\nYou wanna see the actual\nproperties associated with this.\n\n115\n00:05:15.701 --> 00:05:17.633\nI showed you this in the last episode.\n\n116\n00:05:17.633 --> 00:05:20.699\nJust reminding you of this while we're\nwaiting on the install to finish,\n\n117\n00:05:20.699 --> 00:05:22.192\nbefore we go do the configuration.\n\n118\n00:05:22.192 --> 00:05:27.584\nWe have to come over here to\ncertificate templates on the Root CA,\n\n119\n00:05:27.584 --> 00:05:34.756\nright click Manage, come down here, go to\nour subordinate CA certificate template.\n\n120\n00:05:34.756 --> 00:05:36.354\nYou'll see it's right there.\n\n121\n00:05:36.354 --> 00:05:38.236\nRight click, go to Properties, and\n\n122\n00:05:38.236 --> 00:05:42.693\nthen we could see whatever properties may\nbe available on this certificate template.\n\n123\n00:05:42.693 --> 00:05:45.250\nAnd notice,\nmost of them are grayed out, right?\n\n124\n00:05:45.250 --> 00:05:48.151\nThe only thing we can really\ndo on a version one template,\n\n125\n00:05:48.151 --> 00:05:51.535\nwhich is what this is, when I say\nversion one, I mean right there,\n\n126\n00:05:51.535 --> 00:05:54.332\nwe can see it's a scheme of\nversion one type template.\n\n127\n00:05:54.332 --> 00:05:58.438\nThe only thing that version one templates\nallow us to change, unless we make\n\n128\n00:05:58.438 --> 00:06:02.286\na copy of them, in which case we can\nthen modify any of those things, but\n\n129\n00:06:02.286 --> 00:06:06.327\nunless we modify the template by copying\nit, the only thing we can change on\n\n130\n00:06:06.327 --> 00:06:10.150\nthe lock down template version in\nversion one, are the permissions.\n\n131\n00:06:10.150 --> 00:06:12.624\nVersion one templates can only\nmodify the security settings.\n\n132\n00:06:12.624 --> 00:06:16.207\nIf we wanna modify any of the other\nsettings, I would have to copy this,\n\n133\n00:06:16.207 --> 00:06:19.434\nduplicate the template,\nthen you'll notice I can change any or\n\n134\n00:06:19.434 --> 00:06:21.313\nall of these settings if I choose to.\n\n135\n00:06:21.313 --> 00:06:25.888\nBut by default and by design, cuz version\none templates are designed to work\n\n136\n00:06:25.888 --> 00:06:30.056\nthis way, you can only modify\nthe properties by making a duplicate.\n\n137\n00:06:30.056 --> 00:06:33.909\nOtherwise, the only property you can\nmodify on the existing template,\n\n138\n00:06:33.909 --> 00:06:38.032\nthe original template, is the Security\ntab and assignment of permissions.\n\n139\n00:06:38.032 --> 00:06:42.478\nSo, just so you know some of those things,\nkind of behind the scenes magic,\n\n140\n00:06:42.478 --> 00:06:43.947\nunder the hood, right?\n\n141\n00:06:43.947 --> 00:06:45.547\n&gt;&gt; GTK\n&gt;&gt; The what?\n\n142\n00:06:45.547 --> 00:06:46.364\n&gt;&gt; GTK.\n\n143\n00:06:46.364 --> 00:06:47.356\nGood to know.\n\n144\n00:06:47.356 --> 00:06:48.512\n&gt;&gt; GTK, good to know.\n\n145\n00:06:48.512 --> 00:06:50.105\n&gt;&gt; [LAUGH]\n&gt;&gt; Another acronym for us.\n\n146\n00:06:50.105 --> 00:06:50.629\nYeah.\n\n147\n00:06:50.629 --> 00:06:52.799\n&gt;&gt; TY\n&gt;&gt; [LAUGH]\n\n148\n00:06:52.799 --> 00:06:53.954\n&gt;&gt; YW.\n\n149\n00:06:53.954 --> 00:06:55.358\n&gt;&gt; TYVM.\n\n150\n00:06:55.358 --> 00:06:57.977\n&gt;&gt; [LAUGH]\n&gt;&gt; Thank you virtual machine, or TYVC,\n\n151\n00:06:57.977 --> 00:06:59.717\nthank you virtual Cherokee.\n\n152\n00:06:59.717 --> 00:07:00.525\n&gt;&gt; [LAUGH]\n&gt;&gt; All right so,\n\n153\n00:07:00.525 --> 00:07:01.957\nas opposed to thank you very much.\n\n154\n00:07:01.957 --> 00:07:03.919\nSo you see,\ntwo can play at that silly acronym.\n\n155\n00:07:03.919 --> 00:07:05.915\n&gt;&gt; [LAUGH]\n&gt;&gt; Crazy language game.\n\n156\n00:07:05.915 --> 00:07:08.132\nAll right, so\nyou can see we are done here, right?\n\n157\n00:07:08.132 --> 00:07:11.250\nSo we've put our time to good use, well,\nwith the exception of the last little\n\n158\n00:07:11.250 --> 00:07:14.098\nexchange about the whole speak in\ntongues thing, but other than that.\n\n159\n00:07:14.098 --> 00:07:15.569\n&gt;&gt; Yeah,\nI don't know how far that'll get you.\n\n160\n00:07:15.569 --> 00:07:17.745\n&gt;&gt; Probably not very,\nunless you're talking to five year olds,\n\n161\n00:07:17.745 --> 00:07:19.314\nin which case it probably\nworks really well.\n\n162\n00:07:19.314 --> 00:07:21.355\nAll right, so\nwe are gonna come up here right now.\n\n163\n00:07:21.355 --> 00:07:23.467\nWe do have our little\nhey pay attention flag.\n\n164\n00:07:23.467 --> 00:07:24.377\nWe're gonna click there.\n\n165\n00:07:24.377 --> 00:07:26.562\nWe have successfully completed\nthe feature install.\n\n166\n00:07:26.562 --> 00:07:29.805\nWe'll get rid of that, but we do have\nour post-deployment configuration\n\n167\n00:07:29.805 --> 00:07:31.689\n&gt;&gt; Gonna follow this link right here,\n\n168\n00:07:31.689 --> 00:07:35.781\nclick this, and if you saw the last\nepisode, this will look familiar to you.\n\n169\n00:07:35.781 --> 00:07:39.270\nI'm gonna shortcut a little bit of the\nconversation we had in the last episode,\n\n170\n00:07:39.270 --> 00:07:42.029\nbecause we did a pretty thorough\ndiscussion of all the bells and\n\n171\n00:07:42.029 --> 00:07:44.758\nwhistles in every setting,\nwhy we gotta do this versus that.\n\n172\n00:07:44.758 --> 00:07:46.298\nHere, I'm gonna make an assumption.\n\n173\n00:07:46.298 --> 00:07:47.103\nI'm probably gonna pay for this,\n\n174\n00:07:47.103 --> 00:07:48.473\nbecause you know what happens\nwhen you make assumptions.\n\n175\n00:07:48.473 --> 00:07:49.353\n&gt;&gt; Uh-oh, that's right.\n\n176\n00:07:49.353 --> 00:07:52.201\n&gt;&gt; But I'm going to assume that\nyou followed my logic, and\n\n177\n00:07:52.201 --> 00:07:55.359\nmy recommendation that you have\nwatched that prior episode.\n\n178\n00:07:55.359 --> 00:07:57.013\nBefore engaging with this unit.\n\n179\n00:07:57.013 --> 00:07:58.846\nIf you have not, no big deal.\n\n180\n00:07:58.846 --> 00:08:02.573\nBut the in-depth conversation, the\ndiscussion of why we do things a certain\n\n181\n00:08:02.573 --> 00:08:04.652\nway, all that is from that other episode.\n\n182\n00:08:04.652 --> 00:08:08.867\nI'm gonna give a quick overview here but\nI'm not gonna go into as much detail.\n\n183\n00:08:08.867 --> 00:08:11.227\nGo back and watch that episode,\nput us on pause here,\n\n184\n00:08:11.227 --> 00:08:13.385\nget two monitors going at the same time,\nright?\n\n185\n00:08:13.385 --> 00:08:15.475\nYou can essentially watch two things, and\n\n186\n00:08:15.475 --> 00:08:17.924\nyou'll be up-to-date\nwith what we're doing.\n\n187\n00:08:17.924 --> 00:08:20.380\nWe got our credential here for\nthe Domain Administrator,\n\n188\n00:08:20.380 --> 00:08:23.200\nit's there by default because I'm\nlogged on as the Domain Admin.\n\n189\n00:08:23.200 --> 00:08:27.052\nBut we do need the rights of this account\nto be able to do the configuration.\n\n190\n00:08:27.052 --> 00:08:28.240\nSo you were not logged in,\n\n191\n00:08:28.240 --> 00:08:31.917\nas the appropriate user you could change\nthat here and provide that credential.\n\n192\n00:08:31.917 --> 00:08:35.743\nWe then have to specify what we're gonna\nconfigure cuz without making a choice here\n\n193\n00:08:35.743 --> 00:08:38.763\nit's a pretty quick solution,\nwe're not getting any further.\n\n194\n00:08:38.763 --> 00:08:41.963\nSo we're gonna do both the CA role,\nwe'll check that off,\n\n195\n00:08:41.963 --> 00:08:46.199\ntakes a second to provide some additional\nsettings we have to be aware of here.\n\n196\n00:08:46.199 --> 00:08:49.386\nWe're gonna do that right now,\nwe'll just get that set up, and\n\n197\n00:08:49.386 --> 00:08:51.940\nthen we're gonna check\noff our online responder.\n\n198\n00:08:51.940 --> 00:08:52.752\nWe've got that.\n\n199\n00:08:52.752 --> 00:08:54.272\nClick Next.\n\n200\n00:08:54.272 --> 00:08:54.832\nWe are doing an Enterprise CA.\n\n201\n00:08:54.832 --> 00:09:00.319\nWe've already talked about the difference\nbetween enterprise and standalone here.\n\n202\n00:09:00.319 --> 00:09:03.170\nWe are going to do this case.\nNotice the default is subordinate CA cuz\n\n203\n00:09:03.170 --> 00:09:04.777\nwe already set up a root CA.\n\n204\n00:09:04.777 --> 00:09:07.846\nSo the assumption is we wanna set\nup a subordinate and link it.\n\n205\n00:09:07.846 --> 00:09:09.074\nCan we make a change?\n\n206\n00:09:09.074 --> 00:09:10.437\nCan we set up another root CA?\n\n207\n00:09:10.437 --> 00:09:14.042\nSure we could, but\nwe're gonna choose subordinate CA here.\n\n208\n00:09:14.042 --> 00:09:14.890\nSo we're gonna do that.\n\n209\n00:09:14.890 --> 00:09:18.254\nIt says subordinate CA requires\nan established PKI hierarchy,\n\n210\n00:09:18.254 --> 00:09:22.258\nwhich means essentially code for hey\ndo you have your root CA, is it online?\n\n211\n00:09:22.258 --> 00:09:25.744\nCan you connect to it and you have to\nbe authorized to issue certificates by\n\n212\n00:09:25.744 --> 00:09:27.390\nthe CA above you in the hierarchy.\n\n213\n00:09:27.390 --> 00:09:28.919\nWell, in other words,\n\n214\n00:09:28.919 --> 00:09:32.822\nyou have that certificate\ntemplate that we just showed you.\n\n215\n00:09:32.822 --> 00:09:33.907\nIt's gonna let you issue certificates and\n\n216\n00:09:33.907 --> 00:09:35.092\nthe answer is yes in this\ncase to both of those.\n\n217\n00:09:35.092 --> 00:09:38.495\nIt's a good thing that we are obviously\npaying attention to those details,\n\n218\n00:09:38.495 --> 00:09:40.685\notherwise things may not\nwork out the right way.\n\n219\n00:09:40.685 --> 00:09:41.248\nAll right, we'll click Next.\n\n220\n00:09:41.248 --> 00:09:43.773\nNow create a new private key or\nuse an existing one,\n\n221\n00:09:43.773 --> 00:09:46.904\nwe have an option it's up to us to\ndecide what we want to do here.\n\n222\n00:09:46.904 --> 00:09:49.516\nWe talked about the value of your\ncreating a new private key or\n\n223\n00:09:49.516 --> 00:09:50.910\nusing an existing one already.\n\n224\n00:09:50.910 --> 00:09:56.355\nThe private key, remember, is the key that\nis used to securely encrypt communications\n\n225\n00:09:56.355 --> 00:10:00.564\nand verify other communications\nwith cryptographic protection.\n\n226\n00:10:00.564 --> 00:10:04.210\nSo we're gonna store that key safely and\nsecure it.\n\n227\n00:10:04.210 --> 00:10:05.113\nWe'll create a new one.\n\n228\n00:10:05.113 --> 00:10:09.844\nClick Next, again we have our\ncryptographic provider module, key length\n\n229\n00:10:09.844 --> 00:10:15.720\n2048-bit RSA, and our SHA-1 hash algorithm\nfor signatures for digitally signing.\n\n230\n00:10:15.720 --> 00:10:17.702\nSo let's specify all that.\n\n231\n00:10:17.702 --> 00:10:22.349\nOur CA name, notice is PRACTICELAB\nPLABDM01 as opposed to DC01 for\n\n232\n00:10:22.349 --> 00:10:25.841\nsetting up our CA but\nwe're referencing the root CA.\n\n233\n00:10:25.841 --> 00:10:29.247\nSo just wanna make sure\nwe're aware of that.\n\n234\n00:10:29.247 --> 00:10:33.573\nActually, you know what, let me go back,\nlet's change that key length to 1,024\n\n235\n00:10:33.573 --> 00:10:37.629\nbits, doesn't matter, but just to keep\nit consistent with what we're doing.\n\n236\n00:10:37.629 --> 00:10:40.848\nAll right, so we'll do that, and\nthen we have all that set up here.\n\n237\n00:10:40.848 --> 00:10:44.094\nWe have our practicelabs.com domain so\nwe've got all that.\n\n238\n00:10:44.094 --> 00:10:47.403\nNow Now notice here instead of\nsending a certificate request, and\n\n239\n00:10:47.403 --> 00:10:49.422\nmaking a certificate request, right?\n\n240\n00:10:49.422 --> 00:10:51.904\nWe can do that if we choose to and\ndo it from the CA.\n\n241\n00:10:51.904 --> 00:10:55.025\nOr we could save this to a file,\nand then we could submit this,\n\n242\n00:10:55.025 --> 00:10:56.297\nit's up to us to decide.\n\n243\n00:10:56.297 --> 00:10:59.836\nBut this is a little bit different then\nwhat we did with the root CA where we\n\n244\n00:10:59.836 --> 00:11:01.650\nself-signed our own certificate.\n\n245\n00:11:01.650 --> 00:11:04.373\nRemember I showed you certificate zero,\nright?\n\n246\n00:11:04.373 --> 00:11:08.500\nWas the certificate we ultimately had\nregistered as the outcome of this\n\n247\n00:11:08.500 --> 00:11:12.714\nprocess and we gave to the root CA to\ngive it its ability to be able to work.\n\n248\n00:11:12.714 --> 00:11:13.216\nWe're not doing that.\n\n249\n00:11:13.216 --> 00:11:18.618\nWe're actually gonna have to go here and\nwe're going to have to issue a or\n\n250\n00:11:18.618 --> 00:11:22.174\nspecify a certificate\nhere through issuance.\n\n251\n00:11:22.174 --> 00:11:23.681\nSo we're gonna change this,\nwe're gonna do this through a file.\n\n252\n00:11:23.681 --> 00:11:29.510\nWe're gonna send a request to a parent CA,\nand we're gonna choose CA Name, right?\n\n253\n00:11:29.510 --> 00:11:31.340\nSelect CA Name or Computer Name, and\n\n254\n00:11:31.340 --> 00:11:35.309\nwe're gonna specify here that we want\nto actually use the existing CA, right?\n\n255\n00:11:35.309 --> 00:11:36.506\nWhat's our existing CA?\n\n256\n00:11:36.506 --> 00:11:39.360\nRemember what the name of that was?\n\n257\n00:11:39.360 --> 00:11:41.227\n&gt;&gt; The name of our existing, DCO1.\n\n258\n00:11:41.227 --> 00:11:42.696\n&gt;&gt; Plab DC01-\n&gt;&gt; Plab DC-\n\n259\n00:11:42.696 --> 00:11:44.744\n&gt;&gt; Plab DCO1, DC01 absolutely correct.\n\n260\n00:11:44.744 --> 00:11:46.814\nSo we're gonna do this, so\nwe're gonna go ahead here, right?\n\n261\n00:11:46.814 --> 00:11:51.416\nAnd we're going to select Computer,\nwhere I key in Computer Name or\n\n262\n00:11:51.416 --> 00:11:54.101\nDCA Name, it really up to us to decide.\n\n263\n00:11:54.101 --> 00:11:54.649\nIt doesn't matter either way.\n\n264\n00:11:54.649 --> 00:11:59.583\n&gt;&gt; Do you ever wonder why the root\nis at the top in these diagrams?\n\n265\n00:11:59.583 --> 00:12:01.951\n&gt;&gt; Do I ever wonder why the root\nis at the top in the hierarchy?\n\n266\n00:12:01.951 --> 00:12:02.659\n&gt;&gt; Yes.\n\n267\n00:12:02.659 --> 00:12:06.271\n&gt;&gt; As opposed to at the bottom [CROSSTALK]\n&gt;&gt; Like a tree root or yeah.\n\n268\n00:12:06.271 --> 00:12:08.387\n&gt;&gt; So, great question.\n\n269\n00:12:08.387 --> 00:12:11.258\nShort answer to your question\nis I don't wonder about it.\n\n270\n00:12:11.258 --> 00:12:12.727\nBut, longer answer is.\n\n271\n00:12:12.727 --> 00:12:13.994\n&gt;&gt; [LAUGH]\n&gt;&gt; The, well, you did ask.\n\n272\n00:12:13.994 --> 00:12:15.267\n&gt;&gt; Yeah.\n&gt;&gt; So I just thought I would be polite and\n\n273\n00:12:15.267 --> 00:12:16.064\nanswer your question.\n\n274\n00:12:16.064 --> 00:12:17.192\n&gt;&gt; Okay.\n\n275\n00:12:17.192 --> 00:12:21.141\n&gt;&gt; The longer answer is the explanation\naround why we call the root the top of\n\n276\n00:12:21.141 --> 00:12:25.027\nthe hierarchy as opposed to the\ntraditional bottom of what we think of as\n\n277\n00:12:25.027 --> 00:12:27.713\na tree or a bush, or\nanything like that, right?\n\n278\n00:12:27.713 --> 00:12:28.630\nThat puts roots in the ground.\n\n279\n00:12:28.630 --> 00:12:29.552\n&gt;&gt; [LAUGH]\n&gt;&gt; And so,\n\n280\n00:12:29.552 --> 00:12:33.271\nvery interesting historical\nreference in how we come to that,\n\n281\n00:12:33.271 --> 00:12:37.986\nnot appropriate for this conversation\nhowever, but I did wonder at one point.\n\n282\n00:12:37.986 --> 00:12:40.375\nI found out the answer,\nI no longer wondered.\n\n283\n00:12:40.375 --> 00:12:41.386\n&gt;&gt; Okay.\n&gt;&gt; So just so you know.\n\n284\n00:12:41.386 --> 00:12:43.649\n&gt;&gt; [LAUGH]\n&gt;&gt; But since you are still wondering,\n\n285\n00:12:43.649 --> 00:12:45.644\nperhaps we could chat about\nthat at another time.\n\n286\n00:12:45.644 --> 00:12:47.427\n&gt;&gt; Okay.\n&gt;&gt; All right, so I just went ahead here.\n\n287\n00:12:47.427 --> 00:12:50.715\nLet me just move this over to the side so\nwe can kinda see what we're doing.\n\n288\n00:12:50.715 --> 00:12:53.550\nWhether we do select CA name or\ncomputer name doesn't matter,\n\n289\n00:12:53.550 --> 00:12:57.354\nwe're gonna populate the parent CA here\nis what we're doing, we're populating.\n\n290\n00:12:57.354 --> 00:12:58.985\nI clicked the Select button, just so\n\n291\n00:12:58.985 --> 00:13:01.258\nyou know what we were doing\nwhile we were chatting.\n\n292\n00:13:01.258 --> 00:13:05.515\nAnd I have highlighted, just because there\nis no other option, our root CA, right?\n\n293\n00:13:05.515 --> 00:13:11.807\nThat's there, our practice labs, plab\nDC01CA as Cherokee rightly identified.\n\n294\n00:13:11.807 --> 00:13:15.604\nAnd so we're gonna click OK, populate that\nin there so that's where we're gonna send\n\n295\n00:13:15.604 --> 00:13:19.354\nthat certificate request, generate that\ncertificate for the subordinate CA role,\n\n296\n00:13:19.354 --> 00:13:21.143\nand then have that certificate issued.\n\n297\n00:13:21.143 --> 00:13:23.808\nAnd I showed you the template\nthat would be used,\n\n298\n00:13:23.808 --> 00:13:26.153\nexplained the thought process with that.\n\n299\n00:13:26.153 --> 00:13:28.941\nSo we have that here,\nwe're gonna click Next.\n\n300\n00:13:28.941 --> 00:13:31.941\nAgain, default choice for our log, and\n\n301\n00:13:31.941 --> 00:13:36.896\nour certificate database information,\nwhere are we putting it?\n\n302\n00:13:36.896 --> 00:13:40.123\nDefault path is C:\\Windows\\System32\\\nwe can decide to move that,\n\n303\n00:13:40.123 --> 00:13:41.170\nif we want to, up to us.\n\n304\n00:13:41.170 --> 00:13:43.689\nConfirmation, click Configure.\n\n305\n00:13:43.689 --> 00:13:44.942\nThat's gonna go through.\n\n306\n00:13:44.942 --> 00:13:48.260\nTakes a little bit longer, but\nnot much longer than the root CA,\n\n307\n00:13:48.260 --> 00:13:49.869\nthat's already successful.\n\n308\n00:13:49.869 --> 00:13:54.483\nAnd so what we now have,\nbefore we do anything else, right?\n\n309\n00:13:54.483 --> 00:13:55.219\nSo we are successful here.\n\n310\n00:13:55.219 --> 00:13:59.240\nSo let's take a look, and\nlet's come over here.\n\n311\n00:13:59.240 --> 00:14:02.859\nShould be there, yeah,\nlet's come over here to our root CA.\n\n312\n00:14:02.859 --> 00:14:05.611\nAnd we now notice we do\nhave an issued certificate,\n\n313\n00:14:05.611 --> 00:14:07.409\nwhere before we did not have one.\n\n314\n00:14:07.409 --> 00:14:12.169\nI showed you before we did this there were\nno issued certificates under the issued\n\n315\n00:14:12.169 --> 00:14:13.578\ncertificates folder.\n\n316\n00:14:13.578 --> 00:14:15.293\nWe now see one, let's just take a look,\nwe could see if I could get that to, here.\n\n317\n00:14:15.293 --> 00:14:19.853\nWe could see right there,\nthis is a subordinate\n\n318\n00:14:19.853 --> 00:14:24.424\ncertificate authority sub-CA certificate.\n\n319\n00:14:24.424 --> 00:14:26.217\nYou can guess who that was issued to,\nright?\n\n320\n00:14:26.217 --> 00:14:27.507\nNo surprise.\n\n321\n00:14:27.507 --> 00:14:29.564\nYou could see the requester name.\n\n322\n00:14:29.564 --> 00:14:31.187\nI can move that over.\n\n323\n00:14:31.187 --> 00:14:32.159\nRequester name, right?\n\n324\n00:14:32.159 --> 00:14:35.473\nSo that was the domain credential\nthat was used to make the request.\n\n325\n00:14:35.473 --> 00:14:41.178\nAnd, if we take a look,\nWe can see the certificate.\n\n326\n00:14:41.178 --> 00:14:44.334\nWe'll be able to see it on the sub\nCA here in a minute as well, but\n\n327\n00:14:44.334 --> 00:14:48.506\nyou'll notice it was issued to allow us to\ngive applications policies out as part of\n\n328\n00:14:48.506 --> 00:14:49.952\nthe certificate issuance.\n\n329\n00:14:49.952 --> 00:14:53.235\nIssue to practicelabsplabdm01ca.\n\n330\n00:14:53.235 --> 00:14:56.445\nIssue by practicelabsplabdc01ca.\n\n331\n00:14:56.445 --> 00:15:00.136\nAnd again, remember this is day,\nmonth as opposed to month, day, so\n\n332\n00:15:00.136 --> 00:15:04.642\nthis is the 6th of September, 2017,\nthrough 6th of September, 2019, so\n\n333\n00:15:04.642 --> 00:15:06.284\na two-year validity period.\n\n334\n00:15:06.284 --> 00:15:09.774\nWe can see the details,\njust like we took a look at before, and\n\n335\n00:15:09.774 --> 00:15:13.202\nnow that certification path I\ntalked about is different than\n\n336\n00:15:13.202 --> 00:15:18.200\ncertificate zero on the Enterprise root CA\nfor its own self-signed root certificate.\n\n337\n00:15:18.200 --> 00:15:21.982\nBecause that sort of case,\nyou have it only pointing to itself.\n\n338\n00:15:21.982 --> 00:15:23.857\nThis one has a hierarchy\nassociated with it, right?\n\n339\n00:15:23.857 --> 00:15:27.372\nWe have our practice labs\nplabdm01a certificate,\n\n340\n00:15:27.372 --> 00:15:30.348\nwhich is the one we're\nlooking at right now.\n\n341\n00:15:30.348 --> 00:15:32.555\nBut the path points up to the root, right?\n\n342\n00:15:32.555 --> 00:15:36.081\nWhich is the top of the hierarchy,\nas opposed to the bottom of the tree.\n\n343\n00:15:36.081 --> 00:15:38.248\n&gt;&gt; [LAUGH]\n&gt;&gt; And as a result we do see that we have\n\n344\n00:15:38.248 --> 00:15:42.194\nnow this path that shows us that\nthe trust has propagated down and\n\n345\n00:15:42.194 --> 00:15:45.726\nthe certificate has been issued\non behalf of another CA.\n\n346\n00:15:45.726 --> 00:15:48.057\nAnd we can see are issued\nby another CA I should say.\n\n347\n00:15:48.057 --> 00:15:52.443\nAnd we can actually view that\noriginating root certificate in\n\n348\n00:15:52.443 --> 00:15:54.308\nthe Certification path.\n\n349\n00:15:54.308 --> 00:15:57.198\nAnd we could see the original\ncertificate that we took a look at, and\n\n350\n00:15:57.198 --> 00:15:59.954\nsee the certification path on this one,\npoints only to itself.\n\n351\n00:15:59.954 --> 00:16:03.318\nSo we're able to establish beyond\nany reasonable doubt that we\n\n352\n00:16:03.318 --> 00:16:04.718\nare viewing a hierarchy.\n\n353\n00:16:04.718 --> 00:16:06.707\nAnd we are able to see that\nsubordinate CA certificate.\n\n354\n00:16:06.707 --> 00:16:11.569\nNow if we go back to our sub CA which\nis back on this machine, right?\n\n355\n00:16:11.569 --> 00:16:14.159\nOur plaid DM 01 machine.\n\n356\n00:16:14.159 --> 00:16:15.016\nWe can see that.\n\n357\n00:16:15.016 --> 00:16:18.461\nNow we can open up and\ngo in to our tools area.\n\n358\n00:16:18.461 --> 00:16:20.749\nWe do have our certification\nauthority MMC.\n\n359\n00:16:20.749 --> 00:16:21.886\nIt is there as well.\n\n360\n00:16:21.886 --> 00:16:23.514\nWe'll give that just a second to load up.\n\n361\n00:16:23.514 --> 00:16:25.869\nNow we can see here that\nwhen we've done this.\n\n362\n00:16:25.869 --> 00:16:28.553\nOpen this up.\n\n363\n00:16:28.553 --> 00:16:29.991\nAnd just open this.\n\n364\n00:16:29.991 --> 00:16:32.231\nJust move this over.\n\n365\n00:16:32.231 --> 00:16:36.118\nWe do have our PlaidDM 01ca.\n\n366\n00:16:36.118 --> 00:16:39.778\nWe do have our certificate templates cuz,\nagain, it is a enterprise CA.\n\n367\n00:16:39.778 --> 00:16:40.692\nSo we do C.\n\n368\n00:16:40.692 --> 00:16:42.884\nThe same set of certificate\ntemplates are here.\n\n369\n00:16:42.884 --> 00:16:44.271\nNo failed requests.\n\n370\n00:16:44.271 --> 00:16:44.906\nNo pending requests.\n\n371\n00:16:44.906 --> 00:16:46.312\nNo issued certificates.\n\n372\n00:16:46.312 --> 00:16:49.948\nNo revoked certificates, but\nwe do see if we go in and\n\n373\n00:16:49.948 --> 00:16:53.350\nwe take a look at the properties\nas we have noted.\n\n374\n00:16:53.350 --> 00:16:58.646\nWe will see certificate zero is\nthe certificate we got from the root CA,\n\n375\n00:16:58.646 --> 00:16:59.271\nright?\n\n376\n00:16:59.271 --> 00:17:01.822\nSo we can see that we've already\nviewed that certificate,\n\n377\n00:17:01.822 --> 00:17:04.436\nyou know what it looks like, but\nwe already took a look at it.\n\n378\n00:17:04.436 --> 00:17:08.037\nThere's the certification path we just saw\non the route, so we can see that here.\n\n379\n00:17:08.037 --> 00:17:10.267\nBut we have the policy module tell\nus how to issue certificates,\n\n380\n00:17:10.267 --> 00:17:12.682\nexit module will tell us how to\npublish them and make them available.\n\n381\n00:17:12.682 --> 00:17:14.825\nWe went through all of this already.\n\n382\n00:17:14.825 --> 00:17:18.724\nWe have our enrollment agents,\nour auditing, our recovery agents,\n\n383\n00:17:18.724 --> 00:17:23.218\nour security capabilities, any of the\ncertificate managers that are maybe here\n\n384\n00:17:23.218 --> 00:17:26.654\nthat are delegated,\nauthority where we're storing stuff,\n\n385\n00:17:26.654 --> 00:17:30.249\nour default paths are here and\nany extensions maybe available.\n\n386\n00:17:30.249 --> 00:17:30.833\nThis is where we put our CDP and\nAIA information.\n\n387\n00:17:30.833 --> 00:17:32.934\nWe'll talk about those in\nupcoming conversations.\n\n388\n00:17:32.934 --> 00:17:35.523\nI mentioned them in our beginning episode,\naround the certificate revocation on\n\n389\n00:17:35.523 --> 00:17:37.659\npublication point, and also and\nyou can see publish CRLs here, and\n\n390\n00:17:37.659 --> 00:17:39.703\nalso the authoritative information\nthat we publish for the AI.\n\n391\n00:17:39.703 --> 00:17:44.897\nYou can see the certificate\nof revocation list,\n\n392\n00:17:44.897 --> 00:17:52.888\ndistribution point, and/or the authority\ninformation access the AIA.\n\n393\n00:17:52.888 --> 00:17:57.709\nIt's here we can add these URL's in\nspecifying where we are past statements\n\n394\n00:17:57.709 --> 00:18:02.847\nfor HETP, FTP, your local file, to specify\nhow we will find that information.\n\n395\n00:18:02.847 --> 00:18:05.025\nEspecially appropriate for the CDP,\n\n396\n00:18:05.025 --> 00:18:08.913\ncuz that gives us a path to be able\nto download the CDP if we choose to.\n\n397\n00:18:08.913 --> 00:18:11.773\nAnd so we'll able to go through and take\na look at all this in more detail in some\n\n398\n00:18:11.773 --> 00:18:13.543\nupcoming walk-throughs and conversations.\n\n399\n00:18:13.543 --> 00:18:16.347\nSo we establish our subordinate CA.\n\n400\n00:18:16.347 --> 00:18:18.977\nWe've gone in and seen how to do that,\nand stood up subordinate CA,\n\n401\n00:18:18.977 --> 00:18:19.910\nlinking it to the root.\n\n402\n00:18:19.910 --> 00:18:22.576\nWhat I'm gonna do is go back\nover to my route CA, so\n\n403\n00:18:22.576 --> 00:18:24.355\nI'm going to do that right here.\n\n404\n00:18:24.355 --> 00:18:26.978\nAnd I promised you that in\naddition to doing this,\n\n405\n00:18:26.978 --> 00:18:31.163\nwe would also take a quick look at how to\nback up and, as a result of backing up, be\n\n406\n00:18:31.163 --> 00:18:35.371\nable to then have a copy of the pertinent\ninformation if we had to restore the CA.\n\n407\n00:18:35.371 --> 00:18:36.457\nSo let's go ahead and do that.\n\n408\n00:18:36.457 --> 00:18:38.348\nI'm gonna show you how to do\nthis a couple of different ways.\n\n409\n00:18:38.348 --> 00:18:42.008\nWe can come in here in the graphical\ninterface, right click all tasks,\n\n410\n00:18:42.008 --> 00:18:43.967\nand we can do a back up right from here.\n\n411\n00:18:43.967 --> 00:18:46.319\nVery simple, I have a little wizard here.\n\n412\n00:18:46.319 --> 00:18:48.236\nCertificate of authority back up wizard.\n\n413\n00:18:48.236 --> 00:18:48.881\nClick next.\n\n414\n00:18:48.881 --> 00:18:51.150\nSpecify whether we're gonna select\nthe items we want to back up.\n\n415\n00:18:51.150 --> 00:18:54.513\nWhether we want the private key and\nthe CA certificate and\n\n416\n00:18:54.513 --> 00:18:57.325\nthe certificate database\nalong with the logs.\n\n417\n00:18:57.325 --> 00:18:58.780\nAnd then specify a location.\n\n418\n00:18:58.780 --> 00:19:02.825\nNow the file, or excuse me, the directory\nthat we're gonna back up in to has to be\n\n419\n00:19:02.825 --> 00:19:05.813\nalready created and empty for\nus to be able to do the backup.\n\n420\n00:19:05.813 --> 00:19:08.925\nI have thought ahead and\ncreated a couple of directories for us.\n\n421\n00:19:08.925 --> 00:19:09.467\n&gt;&gt; Look at you.\n\n422\n00:19:09.467 --> 00:19:10.682\n&gt;&gt; Back up one and back up two.\n\n423\n00:19:10.682 --> 00:19:12.840\nAnd you'll see it is empty.\n\n424\n00:19:12.840 --> 00:19:16.121\nHey, this boy don't mess around\nwhen he's got work to do.\n\n425\n00:19:16.121 --> 00:19:16.815\nI'm in there and.\n\n426\n00:19:16.815 --> 00:19:18.424\n&gt;&gt; [LAUGH] Backups are serious business,\nthough.\n\n427\n00:19:18.424 --> 00:19:19.281\n&gt;&gt; Just doing my job,\nhead down and just plugging away.\n\n428\n00:19:19.281 --> 00:19:23.127\nAll right, so back up,\nright, to this location.\n\n429\n00:19:23.127 --> 00:19:25.805\nSo we're gonna specify,\njust gonna browse, grab this.\n\n430\n00:19:25.805 --> 00:19:29.717\nIt does default to system 32,\nwhich I've always found to be very odd and\n\n431\n00:19:29.717 --> 00:19:33.753\npainful cuz then I have to go scroll up\nand find where I want to put this thing,\n\n432\n00:19:33.753 --> 00:19:35.057\nbut just so you know.\n\n433\n00:19:35.057 --> 00:19:37.762\n&gt;&gt; You do contemplate\nIT conundrums as well.\n\n434\n00:19:37.762 --> 00:19:40.833\n&gt;&gt; I do, but not the ones that\nhave to do with roots and trees,\n\n435\n00:19:40.833 --> 00:19:45.181\nI just leave that to the gardeners, I just\ndon't have time for that kind of stuff.\n\n436\n00:19:45.181 --> 00:19:49.688\n&gt;&gt; So C backup one, which is the first\nbackup folder I created, click next.\n\n437\n00:19:49.688 --> 00:19:53.880\nIf we want to provide a password for\nsecurity reasons, feel free to do so.\n\n438\n00:19:53.880 --> 00:19:56.486\nThen we're gonna go ahead and\nclick Finish.\n\n439\n00:19:56.486 --> 00:19:58.167\nThis will run, doesn't take very long.\n\n440\n00:19:58.167 --> 00:19:59.604\nWe come over here.\n\n441\n00:19:59.604 --> 00:20:06.434\nYou can see that we now have in\nthe backup 1 folder our certificate.\n\n442\n00:20:06.434 --> 00:20:10.675\nWe have our database file and directory\nrather and inside we have our CAB, or\n\n443\n00:20:10.675 --> 00:20:15.124\nrather ADB file, which is our database\nfile, our log file, and our data file.\n\n444\n00:20:15.124 --> 00:20:20.638\nRight, so we have all the information\nnecessary to drive our backups.\n\n445\n00:20:20.638 --> 00:20:21.624\nSo this is one way to do a backup and\n\n446\n00:20:21.624 --> 00:20:23.120\nwe obviously can deal with\nthat if we had an issue.\n\n447\n00:20:23.120 --> 00:20:26.869\nIf we needed to, for\ninstance, hypothetically.\n\n448\n00:20:26.869 --> 00:20:32.232\nLet's say that we went in and\nhad this certificate been deleted or\n\n449\n00:20:32.232 --> 00:20:37.317\nsomehow something went wrong or\nwe have a problem with the CA.\n\n450\n00:20:37.317 --> 00:20:39.998\nSomething's gone horribly wrong,\nwho knows what.\n\n451\n00:20:39.998 --> 00:20:41.827\nBut something's happened,\nwhatever it may be, right.\n\n452\n00:20:41.827 --> 00:20:46.357\nLet's just say, hypothetically,\nthat maybe somebody came in and\n\n453\n00:20:46.357 --> 00:20:51.930\ndeleted one of our templates, and perhaps\ndestroyed the integrity of something.\n\n454\n00:20:51.930 --> 00:20:52.561\nWho knows what?\n\n455\n00:20:52.561 --> 00:20:55.019\nWe needed to do a restore, is my point.\n\n456\n00:20:55.019 --> 00:20:56.831\n&gt;&gt; Right then a hurricane or\nsomething like that?\n\n457\n00:20:56.831 --> 00:21:00.071\n&gt;&gt; Yeah, sure like one of those right?\n\n458\n00:21:00.071 --> 00:21:03.761\nAll right, so if we wanted to do that,\nlet's just assume we now have a backup but\n\n459\n00:21:03.761 --> 00:21:04.821\nwe do, you know we do.\n\n460\n00:21:04.821 --> 00:21:09.284\nWe wanted to restore, come in here click\nrestore AD Certificate Service cannot be\n\n461\n00:21:09.284 --> 00:21:11.043\nrunning during the operation.\n\n462\n00:21:11.043 --> 00:21:12.657\nDo you want to stop them?\n\n463\n00:21:12.657 --> 00:21:13.918\nIn order to do a restore,\n\n464\n00:21:13.918 --> 00:21:17.521\nwe have to take down the services so\nthat we have exclusive, unfettered\n\n465\n00:21:17.521 --> 00:21:21.318\naccess to write to files that are normally\nlocked open during operations.\n\n466\n00:21:21.318 --> 00:21:24.411\nSo part of this process is the system\nwill automatically stop the services and\n\n467\n00:21:24.411 --> 00:21:26.038\nallow me to do the stuff\nthat I have to do.\n\n468\n00:21:26.038 --> 00:21:29.565\nIf I had stopped the CA\nservices ahead of time, right,\n\n469\n00:21:29.565 --> 00:21:32.106\nthen I wouldn't even get this prompt.\n\n470\n00:21:32.106 --> 00:21:32.606\nSo let's click OK.\n\n471\n00:21:32.606 --> 00:21:35.058\nStopping the CA Certificate Services,\nnow I get the wizard.\n\n472\n00:21:35.058 --> 00:21:44.032\nBasically run the wizard in reverse.\n\n473\n00:21:44.032 --> 00:21:45.279\nSelect the item you want to restore,\nthe certificate database and\n\n474\n00:21:45.279 --> 00:21:46.781\nthe certificate database logs and/or\nthe private key and the CA certificate.\n\n475\n00:21:46.781 --> 00:21:49.590\nLet's just say we wanna do that\non just the database, let's say.\n\n476\n00:21:49.590 --> 00:21:51.862\nAll right, so click browse,\nagain defaults to system 32.\n\n477\n00:21:51.862 --> 00:21:56.692\nSo let's just go up, we have to obviously\nfind the directory where we went into so\n\n478\n00:21:56.692 --> 00:21:58.263\nwe have our backup there.\n\n479\n00:21:58.263 --> 00:22:03.589\nAnd notice it's asking us from what\nlocation do we wanna back up from,\n\n480\n00:22:03.589 --> 00:22:05.588\nso we'll do our C backup.\n\n481\n00:22:05.588 --> 00:22:08.365\nAnd then it says, okay great.\n\n482\n00:22:08.365 --> 00:22:09.864\nGood, let's click finish.\n\n483\n00:22:09.864 --> 00:22:11.697\nDoes copying that.\n\n484\n00:22:11.697 --> 00:22:15.123\nNow it says restore\noperations are complete.\n\n485\n00:22:15.123 --> 00:22:17.398\nDo you want to restart the services\ncause they're offline right now, right?\n\n486\n00:22:17.398 --> 00:22:20.255\nAnd it's hard to see because the icon\ndoesn't change here because the console\n\n487\n00:22:20.255 --> 00:22:21.000\ndoesn't refresh.\n\n488\n00:22:21.000 --> 00:22:23.806\nIt actually is no longer green,\nwe just don't see evidence of that, but\n\n489\n00:22:23.806 --> 00:22:24.780\nthe service is offline.\n\n490\n00:22:24.780 --> 00:22:29.431\nThat icon, if we were to refresh, would\nactually not be green anymore just so\n\n491\n00:22:29.431 --> 00:22:30.086\nyou know.\n\n492\n00:22:30.086 --> 00:22:31.849\nSo yeah, we'll go ahead and do that.\n\n493\n00:22:31.849 --> 00:22:33.403\nClick yes.\n\n494\n00:22:33.403 --> 00:22:37.543\nStarting service back up,\neverything is good and\n\n495\n00:22:37.543 --> 00:22:40.803\nnotice my template does not come back.\n\n496\n00:22:40.803 --> 00:22:44.934\nBecause deleting a template is\nnot restored by doing a restore.\n\n497\n00:22:44.934 --> 00:22:47.469\nBecause the template really isn't removed,\nrather, excuse me,\n\n498\n00:22:47.469 --> 00:22:49.922\na template is removed but\nnot really deleted is what I mean to say.\n\n499\n00:22:49.922 --> 00:22:52.500\nCuz the template is still sitting\nin the template library offline.\n\n500\n00:22:52.500 --> 00:22:55.731\nI just have to re-publish it by making\nit available again, by importing it.\n\n501\n00:22:55.731 --> 00:23:00.749\nSo restoring the certificate architecture\nhere with a restore is not going to affect\n\n502\n00:23:00.749 --> 00:23:05.768\nthe templates, but rather, restores any\ncertificates that may have been issued,\n\n503\n00:23:05.768 --> 00:23:10.361\nor failed or whatever, if we had any\nissues in this area, where certificates\n\n504\n00:23:10.361 --> 00:23:14.976\nwere damaged, or somehow deleted, or\nsomehow, something got corrupted.\n\n505\n00:23:14.976 --> 00:23:17.126\nThat's what we're doing with a restore,\nnot the actual template that I removed.\n\n506\n00:23:17.126 --> 00:23:20.328\nCuz remember, I went in and removed that\nKRA template that I had published in here?\n\n507\n00:23:20.328 --> 00:23:21.705\nI can put that back real easily.\n\n508\n00:23:21.705 --> 00:23:24.534\nAll I have to do is just go and\nreissue the template.\n\n509\n00:23:24.534 --> 00:23:27.932\nAnd so just come back here, it's still\nsitting right there in the store.\n\n510\n00:23:27.932 --> 00:23:30.431\nI haven't deleted it,\nall I did was remove it from this list.\n\n511\n00:23:30.431 --> 00:23:33.673\nAnd I can re-issue that very\nquickly just by doing that.\n\n512\n00:23:33.673 --> 00:23:35.693\nSo a restore doesn't\nrestore the templates,\n\n513\n00:23:35.693 --> 00:23:39.371\nit simply restores certificates that may\nhave been modified or somehow corrupted,\n\n514\n00:23:39.371 --> 00:23:40.836\nor the private key if necessary.\n\n515\n00:23:40.836 --> 00:23:42.113\nSo just be aware of that.\n\n516\n00:23:42.113 --> 00:23:43.884\nNow that's one way to do a backup.\n\n517\n00:23:43.884 --> 00:23:46.465\nWe can also come in here and\nwe can use another tool.\n\n518\n00:23:46.465 --> 00:23:50.793\nLet me just,\ngive me half a second to do this.\n\n519\n00:23:50.793 --> 00:23:53.351\nAnd I was trying to make that bigger,\nbut I guess not.\n\n520\n00:23:53.351 --> 00:23:57.396\nI mentioned a tool called CertUtil, and\njust like we do with most tools, it's\n\n521\n00:23:57.396 --> 00:24:01.529\nalways good to look at the help file in\ncase you're not familiar with this tool.\n\n522\n00:24:01.529 --> 00:24:04.821\nLet me just pull this up here and\nkinda roll this back.\n\n523\n00:24:04.821 --> 00:24:07.414\nQuite a number of things you can look at,\nby the way.\n\n524\n00:24:07.414 --> 00:24:10.745\nAnd you'll see we can do a backup\nwith CertUtil right there and\n\n525\n00:24:10.745 --> 00:24:13.640\nwe can also, let me move this over so\nyou can see that.\n\n526\n00:24:13.640 --> 00:24:18.973\nAnd we also can do a restore, so just like\nwe did with the graphic order face, I can\n\n527\n00:24:18.973 --> 00:24:24.481\ndo a backup and/or restore operation with\nCertUtil right from here if I choose to.\n\n528\n00:24:24.481 --> 00:24:28.964\nSo I can use the CertUtility, or the\ncertificate utility, to do a back up and\n\n529\n00:24:28.964 --> 00:24:32.058\nrestore as well,\nwhich is important to be aware of.\n\n530\n00:24:32.058 --> 00:24:36.141\nWould be a good idea for you, by the way,\nas part of exam preparation and\n\n531\n00:24:36.141 --> 00:24:39.069\njust in general in the real world,\nbut certainly,\n\n532\n00:24:39.069 --> 00:24:42.430\nespecially with exam preparation for\nyou to be familiar.\n\n533\n00:24:42.430 --> 00:24:45.645\nI'm just getting down on my notes here\nto make sure I know what path I wanna\n\n534\n00:24:45.645 --> 00:24:47.765\nuse to do the backup,\ncuz I wanna do one for you.\n\n535\n00:24:47.765 --> 00:24:49.768\nBut I already have a folder\ncreated in the path,\n\n536\n00:24:49.768 --> 00:24:51.580\nI just wanna make sure\nI knew what that was.\n\n537\n00:24:51.580 --> 00:24:56.198\nIt's a good idea for you, as I was saying,\nto be familiar with a tool like CertUtil.\n\n538\n00:24:56.198 --> 00:24:59.823\nWe often tend to ask about command\nline options and alternatives for\n\n539\n00:24:59.823 --> 00:25:01.932\ngraphical interface functionality.\n\n540\n00:25:01.932 --> 00:25:05.628\nI always talk to you about PowerShell and\nhow important PowerShell knowledge is and\n\n541\n00:25:05.628 --> 00:25:07.965\nhow we can use PowerShell\nto do most of these things.\n\n542\n00:25:07.965 --> 00:25:11.777\nSo the old fashioned, oldie but goody,\noriginal set of tools like the command\n\n543\n00:25:11.777 --> 00:25:14.783\nline tools like CertUtility\ncome way before PowerShell, and\n\n544\n00:25:14.783 --> 00:25:17.239\nyou should be familiar with them as well,\nright?\n\n545\n00:25:17.239 --> 00:25:18.161\nSo just be aware of that.\n\n546\n00:25:18.161 --> 00:25:21.529\nSo in CertUtil, I could do CertUtil here,\n\n547\n00:25:21.529 --> 00:25:26.317\ndo the backup commandlet or\nthe backup parameter, rather.\n\n548\n00:25:26.317 --> 00:25:28.605\nSo backup, and\nthen I just have to specify my path,\n\n549\n00:25:28.605 --> 00:25:30.267\nwhich was what I was just looking up.\n\n550\n00:25:30.267 --> 00:25:34.363\nI did another folder called Backup,\nI think I called it Backup2.\n\n551\n00:25:34.363 --> 00:25:37.137\nI was just double checking my note,\nbut let's just double check here.\n\n552\n00:25:37.137 --> 00:25:38.717\nYeah, Backup2 right there.\n\n553\n00:25:38.717 --> 00:25:40.969\nAgain, it has to be there already,\nit's already empty.\n\n554\n00:25:40.969 --> 00:25:44.995\nLet's just do, Backup2, hit Enter.\n\n555\n00:25:44.995 --> 00:25:47.598\nIf I want a password, I can specify that.\n\n556\n00:25:47.598 --> 00:25:49.092\nObviously up to me to decide.\n\n557\n00:25:49.092 --> 00:25:52.623\nBackup the keys for the certificates,\nbacked everything up,\n\n558\n00:25:52.623 --> 00:25:53.959\nfull database backup.\n\n559\n00:25:53.959 --> 00:25:55.466\nRight, so did everything right there.\n\n560\n00:25:55.466 --> 00:25:57.696\nAs you can see, completely successfully.\n\n561\n00:25:57.696 --> 00:26:01.351\nIf I go in you'll see I got\nthe certificate as well, we're in Backup2.\n\n562\n00:26:01.351 --> 00:26:05.667\nSame exact backup was just done and\nI could do a restore from CertUtil by just\n\n563\n00:26:05.667 --> 00:26:08.614\nsimply doing certutil\n-restore as a parameter and\n\n564\n00:26:08.614 --> 00:26:12.606\nspecify the path instead of certutil\n-backup and specify the path.\n\n565\n00:26:12.606 --> 00:26:15.910\nSo I could do both backups and restores\nfrom the command line as well, all right?\n\n566\n00:26:15.910 --> 00:26:19.544\nSo, we have those capabilities,\nimportant for us to be aware of that, and\n\n567\n00:26:19.544 --> 00:26:21.218\nto understand what we are doing and\n\n568\n00:26:21.218 --> 00:26:24.332\nhow we are doing it because it\nwill be important for us, for you,\n\n569\n00:26:24.332 --> 00:26:27.705\nto know both in the real world as I\nsuggested, how to do these things.\n\n570\n00:26:27.705 --> 00:26:30.914\nBut also from an exam preparation\nstandpoint, very important for\n\n571\n00:26:30.914 --> 00:26:32.298\nyou to master these skills.\n\n572\n00:26:32.298 --> 00:26:36.941\n&gt;&gt; All right, so we are now familiar with\nthe process of creating that subordinate\n\n573\n00:26:36.941 --> 00:26:41.444\nCA and what to do also in the event of\nsome kind of catastrophic situation where\n\n574\n00:26:41.444 --> 00:26:45.697\nwe need to perform a restoration or\neven just backups on a regular basis.\n\n575\n00:26:45.697 --> 00:26:47.605\n&gt;&gt; You do.\nI have one more thing I wanna show you\n\n576\n00:26:47.605 --> 00:26:50.978\nreal quick with this, is one more extra\npiece to the puzzle when we do a back up\n\n577\n00:26:50.978 --> 00:26:53.500\nhere-\n&gt;&gt; We're not even going to charge for\n\n578\n00:26:53.500 --> 00:26:54.031\nextra.\n\n579\n00:26:54.031 --> 00:26:55.057\n&gt;&gt; Awfully nice of you.\n\n580\n00:26:55.057 --> 00:26:55.776\n&gt;&gt; I know.\n\n581\n00:26:55.776 --> 00:26:57.611\n&gt;&gt; Considering we still have\nfive minutes on the clock.\n\n582\n00:26:57.611 --> 00:27:00.997\nI have extra time to use but I do\nappreciate that, so thank you very much.\n\n583\n00:27:00.997 --> 00:27:02.481\nAll right, so what we're gonna do is fine.\n\n584\n00:27:02.481 --> 00:27:05.611\nThere is one little additional\nitem that we wanna take on here.\n\n585\n00:27:05.611 --> 00:27:09.107\nWe have to export the registry keys\nassociated with the CA configuration in\n\n586\n00:27:09.107 --> 00:27:12.324\norder to ensure the backup is successful,\nso let me just go back in and\n\n587\n00:27:12.324 --> 00:27:13.448\nshow you how to do this.\n\n588\n00:27:13.448 --> 00:27:15.858\nWe can do it from the command\nline right here if we want to.\n\n589\n00:27:15.858 --> 00:27:19.925\nSo, we would at this point type in, or we\nwould open a command line if we had done\n\n590\n00:27:19.925 --> 00:27:22.223\nit from the graphical interface, up to us.\n\n591\n00:27:22.223 --> 00:27:26.159\nBut, reg export, and\nthen gonna specify the path here.\n\n592\n00:27:26.159 --> 00:27:33.352\nSo HKLM for HKEY Local Machine,\nSystem, and CurrentControlSet.\n\n593\n00:27:33.352 --> 00:27:38.033\nSo let me just type slowly and\nmethodically so I don't mistype.\n\n594\n00:27:38.033 --> 00:27:44.819\nCurrentControlSet, Services,\n\n595\n00:27:44.819 --> 00:27:47.628\nand CertSvc.\n\n596\n00:27:47.628 --> 00:27:51.338\nSo Svc, and then configuration.\n\n597\n00:27:51.338 --> 00:27:57.690\nAnd we'll close that quote off so\nwe have that string.\n\n598\n00:27:57.690 --> 00:28:02.403\nNow before I finish, let's just go in real\nquick and do one thing, so let's go in.\n\n599\n00:28:05.042 --> 00:28:08.905\nLet's just go look at the Registry Editor\nbefore I actually just finish typing this\n\n600\n00:28:08.905 --> 00:28:09.522\ncommand in.\n\n601\n00:28:09.522 --> 00:28:14.719\nLet's just go to this path, HKLM is HKEY\nLocal Machine, so let's go take a look.\n\n602\n00:28:14.719 --> 00:28:18.795\nWe're going to\nsystem\\currentcontrolset\\services,\n\n603\n00:28:18.795 --> 00:28:21.978\nwhere all good things\nin the registry happen.\n\n604\n00:28:24.007 --> 00:28:30.193\nAnd then under Services we are going\ninto CertSvc, [COUGH] excuse me.\n\n605\n00:28:32.171 --> 00:28:36.819\nSo let's just scroll down right\nabout there, and under CertSvc,\n\n606\n00:28:36.819 --> 00:28:40.230\nwe are going into\nthe configuration container.\n\n607\n00:28:40.230 --> 00:28:43.816\nAnd you'll see there that we are gonna\nbe grabbing this information,\n\n608\n00:28:43.816 --> 00:28:47.459\nand this is where we're gonna export and\nhave as part of what we need, so\n\n609\n00:28:47.459 --> 00:28:50.163\nwe're just gonna go in and\nmake sure we can get this.\n\n610\n00:28:50.163 --> 00:28:53.324\nSo just wanted to show you where this was,\nlet's just minimize that.\n\n611\n00:28:53.324 --> 00:28:55.167\nAll right, we have configuration,\nwhere do we wanna put that?\n\n612\n00:28:55.167 --> 00:29:00.282\nWe just have to specify the path\nwe want to put it into,\n\n613\n00:29:00.282 --> 00:29:04.269\nso we'll do C:\\, I'll do the backup.\n\n614\n00:29:04.269 --> 00:29:08.086\nWhat did I do?\nBackup 2 for this, I think, right?\n\n615\n00:29:08.086 --> 00:29:09.242\nLet me just double check, I forget.\n\n616\n00:29:09.242 --> 00:29:10.065\n&gt;&gt; The path?\n\n617\n00:29:10.065 --> 00:29:10.951\n&gt;&gt; New folder, yeah.\n\n618\n00:29:10.951 --> 00:29:12.206\nSo I did backup too.\n\n619\n00:29:12.206 --> 00:29:18.150\nSo let me just go up here,\nlet me create one more folder.\n\n620\n00:29:18.150 --> 00:29:21.418\nWe'll call this BackupCA1.\n\n621\n00:29:21.418 --> 00:29:25.333\nThat way I know this is the config\nseparate from the actual backup that we're\n\n622\n00:29:25.333 --> 00:29:26.017\nexporting.\n\n623\n00:29:26.017 --> 00:29:27.887\nSo we'll just create another path here.\n\n624\n00:29:27.887 --> 00:29:31.002\nRight, just essentially an empty\nfolder called BackupCA1.\n\n625\n00:29:31.002 --> 00:29:35.079\nSo BackupCA1, and\nthen what do we wanna name it?\n\n626\n00:29:35.079 --> 00:29:41.953\nIn this case, I'll call it\ncaconfig.reg for the reg key, right?\n\n627\n00:29:41.953 --> 00:29:45.755\nSo caconfig.reg, right, okay.\n\n628\n00:29:45.755 --> 00:29:48.635\nSo let me find specified registry key.\n\n629\n00:29:48.635 --> 00:29:49.538\nDid I type it in correctly?\n\n630\n00:29:49.538 --> 00:29:54.686\nSystem\\currentcontrol,\nCurrentControlSystem, I'm such a moron.\n\n631\n00:29:54.686 --> 00:29:57.949\nCurrentControlSystem, I typed system\ntwice talking to myself instead of\n\n632\n00:29:57.949 --> 00:29:58.940\nCurrentControlSet.\n\n633\n00:29:58.940 --> 00:30:01.462\nThat would be helpful if\nI typed that correctly.\n\n634\n00:30:01.462 --> 00:30:03.605\nAll right, so take two.\n\n635\n00:30:03.605 --> 00:30:05.604\n[LAUGH] We need one of\nthose little movie boards.\n\n636\n00:30:05.604 --> 00:30:07.981\nAll right, so CurrentControlSet,\nnot current control,\n\n637\n00:30:07.981 --> 00:30:08.937\nnot system-\n&gt;&gt; We have one-\n\n638\n00:30:08.937 --> 00:30:10.260\n&gt;&gt; All right so, service is,\n\n639\n00:30:10.260 --> 00:30:11.639\nlet's try that this time and\n\n640\n00:30:11.639 --> 00:30:14.986\nyou'll see the operation completed\nsuccessfully with no trouble.\n\n641\n00:30:14.986 --> 00:30:15.530\nI'm telling ya.\n\n642\n00:30:15.530 --> 00:30:19.114\nI would be so dangerous if I could\njust type, and type accurately.\n\n643\n00:30:19.114 --> 00:30:22.056\nI would be like the world's\nmost dangerous IT professional.\n\n644\n00:30:22.056 --> 00:30:26.272\nAll right, so you can see here I now\nhave this registry key as a reg file so\n\n645\n00:30:26.272 --> 00:30:30.373\nI can use that if I have to restore and\nreproduce this configuration.\n\n646\n00:30:30.373 --> 00:30:31.627\nI'm gonna put that on my business cards,\nworld's most dangerous IT professional.\n\n647\n00:30:31.627 --> 00:30:33.008\n&gt;&gt; You should.\nI'm just thinking, brother.\n\n648\n00:30:33.008 --> 00:30:37.095\n[LAUGH]\n&gt;&gt; All right so, the CA config, right?\n\n649\n00:30:37.095 --> 00:30:39.271\nAnd we now have the reg\nkey exported out so\n\n650\n00:30:39.271 --> 00:30:43.378\nthat's gonna allow us to have this\ninformation if we have to restore fully.\n\n651\n00:30:43.378 --> 00:30:45.667\nWe have the configuration\nassociated with this,\n\n652\n00:30:45.667 --> 00:30:48.615\nwhich is gonna be equally important\nto our restoration effort.\n\n653\n00:30:48.615 --> 00:30:52.158\nSo remember, whether you do the backup\nin the interface, you do it from here,\n\n654\n00:30:52.158 --> 00:30:55.486\nwanna make sure we have a copy of that\nreg key as well so you can see the path,\n\n655\n00:30:55.486 --> 00:30:58.686\nnow you know where to go and grab that,\nso how easy it is to export that?\n\n656\n00:30:58.686 --> 00:31:01.187\nAssuming you type correctly, of course,\nput the path in the right way.\n\n657\n00:31:01.187 --> 00:31:05.571\nBut you can see we now have that and all\nthat is, if you ever looked at a reg file,\n\n658\n00:31:05.571 --> 00:31:09.370\nby the way, all that is, and\ndon't click Merge by the way, right?\n\n659\n00:31:09.370 --> 00:31:11.735\n[LAUGH] Cuz you don't wanna merge\nthat into this existing registry.\n\n660\n00:31:11.735 --> 00:31:15.632\nBut if you open it in Editor,\nall it is, it's just a Notepad file.\n\n661\n00:31:15.632 --> 00:31:19.358\nIt has all the registry settings that were\nin that registry area that I showed you in\n\n662\n00:31:19.358 --> 00:31:20.124\nthe Reg Editor.\n\n663\n00:31:20.124 --> 00:31:22.497\nIt's just gonna allow us to\nput all that stuff back and\n\n664\n00:31:22.497 --> 00:31:25.406\nto name it the right way and\nhave all those references available.\n\n665\n00:31:25.406 --> 00:31:28.150\nSo that's how we actually export all that,\nokay?\n\n666\n00:31:28.150 --> 00:31:28.789\n&gt;&gt; Is that it?\n\n667\n00:31:28.789 --> 00:31:30.996\nAm I allowed to call it a show?\n\n668\n00:31:30.996 --> 00:31:32.660\n&gt;&gt; Yes.\n\n669\n00:31:32.660 --> 00:31:36.023\n&gt;&gt; All right, it didn't take too long\nto go ahead and create that registry.\n\n670\n00:31:36.023 --> 00:31:37.727\n&gt;&gt; I still have like a minute and\na half on there.\n\n671\n00:31:37.727 --> 00:31:38.329\n&gt;&gt; Okay.\n\n672\n00:31:38.329 --> 00:31:42.758\n[LAUGH] But we are gonna go ahead and\nsign out for this episode.\n\n673\n00:31:42.758 --> 00:31:44.763\nI've been your host, Cherokee Boose.\n\n674\n00:31:44.763 --> 00:31:45.888\n&gt;&gt; I'm Adam Gordon.\n\n675\n00:31:45.888 --> 00:31:47.610\n&gt;&gt; See you next time here at ITProTV.\n\n676\n00:31:49.794 --> 00:31:55.674\n[MUSIC]\n\n677\n00:31:55.674 --> 00:31:58.237\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232993031"
        },
        {
          "description": "In this show, Cherokee and Adam begin the show reiterating important concepts and terms. Adam shoes some word documents highlighting those important pieces including Enterprise vs Standalone CA's. They also talk about CAPolicy.inf file and how it can act as an automation process. Lastly, Adam demonstrates how to install and configure a certificate via PowerShell.",
          "length": "1871",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-4-implementing_ad_cs_pt4-090717-PGM.00_00_45_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-4-implementing_ad_cs_pt4-090717-PGM.00_00_45_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-4-implementing_ad_cs_pt4-090717-PGM.00_00_45_05.Still001-sm.jpg",
          "title": "Implementing AD CS Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:00.810\nWelcome to ITProTV.\n\n2\n00:00:00.810 --> 00:00:03.420\nI'm your host, Don Pezet.\n\n3\n00:00:03.420 --> 00:00:05.159\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:05.159 --> 00:00:07.655\n[MUSIC]\n\n5\n00:00:07.655 --> 00:00:10.728\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:10.728 --> 00:00:15.194\n&gt;&gt; Welcome, ladies and\ngentleman to your 70-412 series.\n\n7\n00:00:15.194 --> 00:00:16.778\nI'm your show host, Cherokee Boose.\n\n8\n00:00:16.778 --> 00:00:21.562\nIn this episode, we'll continue taking\na look at how to implement ADCS.\n\n9\n00:00:21.562 --> 00:00:24.826\nBack with us today in studios,\nwe have Mr Adam Gordon.\n\n10\n00:00:24.826 --> 00:00:26.026\nThank you for joining us today, Adam.\n\n11\n00:00:26.026 --> 00:00:28.106\n&gt;&gt; Thank you, always glad to be here.\n\n12\n00:00:28.106 --> 00:00:30.568\nA pleasure, some would say, not myself.\n\n13\n00:00:30.568 --> 00:00:32.874\n&gt;&gt; [LAUGH]\n&gt;&gt; I think it's more than a pleasure.\n\n14\n00:00:32.874 --> 00:00:36.106\nIt's just awesome to be here with you,\nguys, and also with Cherokee.\n\n15\n00:00:36.106 --> 00:00:40.298\nSo, and I wore my bright yellow shirt,\nwhich makes it even more sunny.\n\n16\n00:00:40.298 --> 00:00:41.672\n&gt;&gt; I know, I feel like we should\ngo on an Easter egg hunt.\n\n17\n00:00:41.672 --> 00:00:45.242\nNo, that would be like my pale pink,\nor sky blue shirt.\n\n18\n00:00:45.242 --> 00:00:48.023\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm just wearing my bright sunny shirt,\n\n19\n00:00:48.023 --> 00:00:49.372\nso that I'm bright and sunny.\n\n20\n00:00:49.372 --> 00:00:50.522\n&gt;&gt; Bring in the sunshine.\n\n21\n00:00:50.522 --> 00:00:52.010\n&gt;&gt; You just call me bright and sunny.\n\n22\n00:00:52.010 --> 00:00:53.404\n&gt;&gt; Okay, bright and sunny.\n\n23\n00:00:53.404 --> 00:00:54.954\n&gt;&gt; Or BS for short,\nthat would also be good.\n\n24\n00:00:54.954 --> 00:00:56.564\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n25\n00:00:56.564 --> 00:00:58.572\nyou were the whole acronym\nperson in our last episode,\n\n26\n00:00:58.572 --> 00:00:59.934\ntalking about all that crazy stuff.\n\n27\n00:00:59.934 --> 00:01:03.288\nSo we're gonna continue talking,\nspeaking of crazy stuff to talk about.\n\n28\n00:01:03.288 --> 00:01:04.826\nI'm gonna be super crazy.\n\n29\n00:01:04.826 --> 00:01:07.697\nWe're just gonna jump back in and\nkeep talking about certificate services.\n\n30\n00:01:07.697 --> 00:01:09.672\nSo I thought since we\nhad in our last episode.\n\n31\n00:01:09.672 --> 00:01:13.308\nAnd if you haven't seen it, by the way,\nprobably would be good for you to go back,\n\n32\n00:01:13.308 --> 00:01:13.907\ntake a look.\n\n33\n00:01:13.907 --> 00:01:16.828\nWe're kind of in the middle of\na hands-on walk-through implementing\n\n34\n00:01:16.828 --> 00:01:17.860\ncertificate services.\n\n35\n00:01:17.860 --> 00:01:21.522\nWe're gonna return back to that hands-on\nthought process in a few minutes,\n\n36\n00:01:21.522 --> 00:01:23.960\npick back up in the console,\ndo some other things.\n\n37\n00:01:23.960 --> 00:01:27.282\nGonna show you how we can use\nPowerShell to do the configuration.\n\n38\n00:01:27.282 --> 00:01:30.127\nI kind of somewhat showed it to\nyou in the first episode but\n\n39\n00:01:30.127 --> 00:01:33.646\nI didn't really use PowerShell,\nI just showed you what you would do.\n\n40\n00:01:33.646 --> 00:01:37.391\nSo I thought this time, I would actually\nshow you how to use PowerShell to stand up\n\n41\n00:01:37.391 --> 00:01:40.275\nthe enterprise route CA that I built for\nthis demonstration.\n\n42\n00:01:40.275 --> 00:01:41.573\nSo we'll take a look at that.\n\n43\n00:01:41.573 --> 00:01:44.307\nWe're also gonna take a look\nat how to issue templates.\n\n44\n00:01:44.307 --> 00:01:46.024\nWe've done that in a prior episode,\nwe'll go back,\n\n45\n00:01:46.024 --> 00:01:47.331\nwe'll delve a little deeper into that.\n\n46\n00:01:47.331 --> 00:01:50.707\nTake a look at some of the things\nwe do and don't wanna do there.\n\n47\n00:01:50.707 --> 00:01:53.829\nAnd we'll take a look at key archival\ncertificates, recovery agents,\n\n48\n00:01:53.829 --> 00:01:54.659\nthings like that.\n\n49\n00:01:54.659 --> 00:01:57.761\nJust make a sense, or rather have a sense,\nof what we need to do\n\n50\n00:01:57.761 --> 00:02:01.075\nto round out some of those skills\nassociated with the use of ADCS.\n\n51\n00:02:01.075 --> 00:02:05.826\nBut I thought it would be good by way of\ngetting us back into the general theme and\n\n52\n00:02:05.826 --> 00:02:09.426\nthe thinking process,\nthought process, around CAs, and\n\n53\n00:02:09.426 --> 00:02:13.622\nwhat we need to do to just put some\ndocuments up that help us to review.\n\n54\n00:02:13.622 --> 00:02:18.055\nI have some nice Word documents that kind\nof summarize some of the key themes and\n\n55\n00:02:18.055 --> 00:02:20.758\nthings we've talked\nabout in prior episodes.\n\n56\n00:02:20.758 --> 00:02:23.835\nWe talked about the difference,\nif you remember, between a root and\n\n57\n00:02:23.835 --> 00:02:24.694\na subordinate CA.\n\n58\n00:02:24.694 --> 00:02:27.781\nBetween the stand alone and\nenterprise designations for CAs.\n\n59\n00:02:27.781 --> 00:02:30.731\nSo I thought we'd just review\nthose quickly, I'm sure,\n\n60\n00:02:30.731 --> 00:02:34.281\nwithout even having talked to her,\nthat Cherokee's got a question or\n\n61\n00:02:34.281 --> 00:02:38.033\ntwo, she'll throw out for us to help\nus focus on the key takeaways there.\n\n62\n00:02:38.033 --> 00:02:41.954\nAnd I also have a little document on\nthe roles and kind of like the security\n\n63\n00:02:41.954 --> 00:02:46.717\ndesignations for either traditional, kinda\nclassic, descriptions of what roles for\n\n64\n00:02:46.717 --> 00:02:50.796\nindividual users may be in the CA, or\nwhat you may hear them referred to as.\n\n65\n00:02:50.796 --> 00:02:53.182\nYou heard me mention In a prior episode.\n\n66\n00:02:53.182 --> 00:02:55.865\nYou may be called a certificate manager or\na CA administrator,\n\n67\n00:02:55.865 --> 00:02:57.798\ndepending on kinda how\nyou view those roles.\n\n68\n00:02:57.798 --> 00:03:01.317\nSo we'll just detail that out for you,\nlink that to a security thought process,\n\n69\n00:03:01.317 --> 00:03:03.351\nmake sure you're\ncomfortable with all that.\n\n70\n00:03:03.351 --> 00:03:07.004\nAnd I'm gonna even throw in a little\nconversation about how we can automate\n\n71\n00:03:07.004 --> 00:03:08.861\nan aspect of the installation of a CA.\n\n72\n00:03:08.861 --> 00:03:11.963\nWe call the CA policy is that INF file,\nalmost like answer file.\n\n73\n00:03:11.963 --> 00:03:14.534\nIn can run a ten dot txt or\nrun a ten dot xml file.\n\n74\n00:03:14.534 --> 00:03:17.389\nIf you're familiar with how\ndo some unattended installs,\n\n75\n00:03:17.389 --> 00:03:20.540\nwe have that thought process and\nnot a lot of people know about it.\n\n76\n00:03:20.540 --> 00:03:23.800\nSo I thought we'd just throw\nthat in real quick for you.\n\n77\n00:03:23.800 --> 00:03:26.502\nShow you what a sample CA policy\nthat INF file might look like.\n\n78\n00:03:26.502 --> 00:03:29.862\nGive you a sense of how you can set that\nup, just in case you wanna go out and\n\n79\n00:03:29.862 --> 00:03:31.035\nautomate this process.\n\n80\n00:03:31.035 --> 00:03:32.519\nSo as if that's not enough, well,\n\n81\n00:03:32.519 --> 00:03:35.195\nwe'll just find other stuff to\nput in there as well, I'm sure.\n\n82\n00:03:35.195 --> 00:03:37.483\nSo take a look here with me, if you will.\n\n83\n00:03:37.483 --> 00:03:38.817\nWe've got, and if we go full screen for\n\n84\n00:03:38.817 --> 00:03:40.530\nthis, it'll just be easier\nto see it real quick.\n\n85\n00:03:40.530 --> 00:03:41.847\nSo the first document and\n\n86\n00:03:41.847 --> 00:03:45.935\nwe always do remind you that all of these\ndocuments are part of the show notes.\n\n87\n00:03:45.935 --> 00:03:49.068\nYou can get them as downloads or\njust the attached files.\n\n88\n00:03:49.068 --> 00:03:52.844\nSo you wanna take a look at them,\nmay be helpful for you for studying and\n\n89\n00:03:52.844 --> 00:03:53.878\nreview purposes.\n\n90\n00:03:53.878 --> 00:03:55.158\nConsiderations for deploying a root CA.\n\n91\n00:03:55.158 --> 00:03:56.534\nWhat do we think of?\n\n92\n00:03:56.534 --> 00:03:59.830\nWhat do we need to know about the root ca,\nthat kind of thing?\n\n93\n00:03:59.830 --> 00:04:03.176\nJust wanna make sure we're aware of that.\n\n94\n00:04:03.176 --> 00:04:03.895\nWe need to have and\n\n95\n00:04:03.895 --> 00:04:06.541\nthink through the logic of\nencrypted graphic service provider.\n\n96\n00:04:06.541 --> 00:04:10.602\nYou saw this when I did the demonstration\non the walk through, where I chose in\n\n97\n00:04:10.602 --> 00:04:14.561\nthe graphical interface, the MMC and\nthe wizard, what that CSP would be.\n\n98\n00:04:14.561 --> 00:04:17.916\nWe used the default one,\nthe Microsoft encrypted graphic provider.\n\n99\n00:04:17.916 --> 00:04:21.125\nBut there may be others, and\nyou saw there was a long list of them.\n\n100\n00:04:21.125 --> 00:04:25.761\nWe actually use the RSA hashtag\nMicrosoft cryptographic providers\n\n101\n00:04:25.761 --> 00:04:28.210\nspecifically in our walk through.\n\n102\n00:04:28.210 --> 00:04:33.025\nWhich it is one of the ones that's labeled\nas a CNG or Cryptography Next Gen,\n\n103\n00:04:33.025 --> 00:04:34.990\nor next generation provider.\n\n104\n00:04:34.990 --> 00:04:37.792\nLook at me sounding all\nlike school kid age,\n\n105\n00:04:37.792 --> 00:04:40.759\nlike next gen talking\nlike those youngsters.\n\n106\n00:04:40.759 --> 00:04:42.202\nSo cool, right?\nSo we do have that,\n\n107\n00:04:42.202 --> 00:04:45.709\njust wanna make sure you're aware of that,\nyou see that.\n\n108\n00:04:45.709 --> 00:04:49.216\nWe did talk about character length\nin terms of the key length, right,\n\n109\n00:04:49.216 --> 00:04:50.531\nI said character length.\n\n110\n00:04:50.531 --> 00:04:53.340\nKey character length,\nmaybe just the key length.\n\n111\n00:04:53.340 --> 00:04:57.255\nOver all on the default key\nlength is 2,048 bits, as you saw.\n\n112\n00:04:57.255 --> 00:05:01.290\nWe can go up to 4,096 bits\ndepending on what we did, for\n\n113\n00:05:01.290 --> 00:05:06.560\nthe RSA provider, it was 4,096 at\nthe high end but we chose 2,048.\n\n114\n00:05:06.560 --> 00:05:08.274\nTalk about the hash algorithm.\n\n115\n00:05:08.274 --> 00:05:14.707\nThe default being SHA1 pointed out that we\nmay choose SHA256, SHA348, SHA512, etc.\n\n116\n00:05:14.707 --> 00:05:17.312\nThere was MD5, some other ones there.\n\n117\n00:05:17.312 --> 00:05:20.193\nA validity period, we talked about that.\n\n118\n00:05:20.193 --> 00:05:22.676\nThe status of the root server,\nis it on or offline?\n\n119\n00:05:22.676 --> 00:05:25.636\nYou saw me do all these things,\nmake these choices,\n\n120\n00:05:25.636 --> 00:05:29.283\nwalked through these with you\nas we did our deployment, right?\n\n121\n00:05:29.283 --> 00:05:31.484\nSo just keeping in mind what that is,\n\n122\n00:05:31.484 --> 00:05:34.183\nthese just may be some\nkey things to focus on.\n\n123\n00:05:34.183 --> 00:05:36.203\nWhen I say key,\nno pun intended, by the way.\n\n124\n00:05:36.203 --> 00:05:39.263\nBut when I say key things\nlike the overall key length,\n\n125\n00:05:39.263 --> 00:05:42.528\nthe defaults,\nthe hash algorithm we choose by default.\n\n126\n00:05:42.528 --> 00:05:47.328\nFor instance, knowing the validity period,\nremember I said in general,\n\n127\n00:05:47.328 --> 00:05:50.770\ntypically one to five years\nis that bracket arrange.\n\n128\n00:05:50.770 --> 00:05:52.476\nWe saw the validity period for\n\n129\n00:05:52.476 --> 00:05:55.761\nthe root CA as being five years\nby default out of the gate.\n\n130\n00:05:55.761 --> 00:05:58.744\nI just wanna remind you\nof some of those things.\n\n131\n00:05:58.744 --> 00:06:01.767\nThese may be the things\nthat become important for\n\n132\n00:06:01.767 --> 00:06:05.098\nyou with regards to exam\npreparation in particular.\n\n133\n00:06:05.098 --> 00:06:08.133\nSo may be helpful just the zero\non some of those things.\n\n134\n00:06:08.133 --> 00:06:11.987\n&gt;&gt; Yeah, and just thinking about the\nlength, the validity period there as well\n\n135\n00:06:11.987 --> 00:06:15.802\nfor the purposes of, hey, do I want to\nextend that or do I want to shorten it?\n\n136\n00:06:15.802 --> 00:06:18.718\nIs it gonna be like less of\nan administrative effort, or\n\n137\n00:06:18.718 --> 00:06:23.062\ndo I need to have a shorter period for, I\ndon't know, maybe they wanna have a better\n\n138\n00:06:23.062 --> 00:06:26.621\ncontrol over the environment in\ncase one of those are compromised.\n\n139\n00:06:26.621 --> 00:06:29.745\nThen they would-\n&gt;&gt; One of the certificates, you're saying,\n\n140\n00:06:29.745 --> 00:06:31.037\nwould be compromised.\n\n141\n00:06:31.037 --> 00:06:32.013\n&gt;&gt; Yeah.\n&gt;&gt; Sure, yeah and\n\n142\n00:06:32.013 --> 00:06:36.020\nso there is definitely a good reason or\nseveral good reasons as you pointing out.\n\n143\n00:06:36.020 --> 00:06:39.943\nThat we may wanna think about modifying\nthat validity period are shorter, right.\n\n144\n00:06:39.943 --> 00:06:44.043\nIn other words, as you're suggesting, trim\nthat down, maybe close to the one year or\n\n145\n00:06:44.043 --> 00:06:45.631\ntwo years instead of five years.\n\n146\n00:06:45.631 --> 00:06:47.903\nThere is a pro and\ncon on both sides, right,\n\n147\n00:06:47.903 --> 00:06:50.491\nto be just fair to everybody\nas we talk about this.\n\n148\n00:06:50.491 --> 00:06:54.260\nShorter validity periods doing\na little bit more administrative work,\n\n149\n00:06:54.260 --> 00:06:56.677\nin the sense we have to\nrenew more frequently.\n\n150\n00:06:56.677 --> 00:06:59.625\nSo that offline root CA or\noffline intermediate CA,\n\n151\n00:06:59.625 --> 00:07:04.180\ndepending on what we're doing, may have\nto be brought back online to reissue and\n\n152\n00:07:04.180 --> 00:07:06.538\nto renew certificates more frequently.\n\n153\n00:07:06.538 --> 00:07:08.472\nBut the upside, as you suggested is that,\n\n154\n00:07:08.472 --> 00:07:10.634\nwe churn those certificates\nmore frequently.\n\n155\n00:07:10.634 --> 00:07:13.702\nSo, the likelihood of the private\nkey being compromised and\n\n156\n00:07:13.702 --> 00:07:17.934\nthe certificate being compromised is less\nbecause they're not out there as long.\n\n157\n00:07:17.934 --> 00:07:19.822\n&gt;&gt; Right.\n&gt;&gt; They don't stick around as long.\n\n158\n00:07:19.822 --> 00:07:23.566\nSo it's really important to think about\nbalancing the need for security and\n\n159\n00:07:23.566 --> 00:07:26.211\nthe administrative overhead\nassociated with that.\n\n160\n00:07:26.211 --> 00:07:28.280\nAnd try to figure out what\nthat middle ground is.\n\n161\n00:07:28.280 --> 00:07:31.800\nYou in the real world as opposed to\nthe fake world that Cherokee and\n\n162\n00:07:31.800 --> 00:07:33.026\nI live in all the time.\n\n163\n00:07:33.026 --> 00:07:34.863\n&gt;&gt; [LAUGH]\n&gt;&gt; But in the real world, right,\n\n164\n00:07:34.863 --> 00:07:36.971\nthat didn't really sound\nproper when it came out.\n\n165\n00:07:36.971 --> 00:07:40.841\nWhat I mean is, in your world, right,\nas you go out back to your enterprises,\n\n166\n00:07:40.841 --> 00:07:44.065\nback to your businesses is all of us\ngo in to the worlds we live in and\n\n167\n00:07:44.065 --> 00:07:45.318\nwork on a regular basis.\n\n168\n00:07:45.318 --> 00:07:48.120\nAnd do what we do every day,\nthe businesses of IT, right.\n\n169\n00:07:48.120 --> 00:07:51.626\nAs you go back and do this kind of stuff,\nthere's a lot of external forces,\n\n170\n00:07:51.626 --> 00:07:54.425\nright, the kind of come into\nplay that we often talk about.\n\n171\n00:07:54.425 --> 00:07:59.244\nThere's policy, there's statutory and\nregulatory compliance requirements.\n\n172\n00:07:59.244 --> 00:08:00.043\n&gt;&gt; Budgeting.\n\n173\n00:08:00.043 --> 00:08:02.572\n&gt;&gt; Budgeting, in this case,\ncan we afford to go out and\n\n174\n00:08:02.572 --> 00:08:04.941\nbuy certificates from\nexternal third parties?\n\n175\n00:08:04.941 --> 00:08:06.908\nAre we issuing them ourselves?\n\n176\n00:08:06.908 --> 00:08:10.422\nDo we have the budget to\nafford the infrastructure and\n\n177\n00:08:10.422 --> 00:08:13.162\nthe people associated with managing it.\n\n178\n00:08:13.162 --> 00:08:15.258\nThere's a lot of really\nimportant considerations.\n\n179\n00:08:15.258 --> 00:08:17.352\nAnd we never want to make light of those.\n\n180\n00:08:17.352 --> 00:08:20.079\nNever want to discount them, push them\noff to the side and simply say, well,\n\n181\n00:08:20.079 --> 00:08:22.175\nyou know, regardless of what's\ngoing on in the real world.\n\n182\n00:08:22.175 --> 00:08:24.851\nYou've just got to do it this way\nbecause it's the best practice, right?\n\n183\n00:08:24.851 --> 00:08:28.016\nQuite the opposite,\nbest practices are important to note,\n\n184\n00:08:28.016 --> 00:08:31.133\nthey usually have a lot of value\nin the guidance they offer.\n\n185\n00:08:31.133 --> 00:08:35.117\nSomething not to be taken lightly and\nnot to be pushed off to the side without\n\n186\n00:08:35.117 --> 00:08:39.230\nreally, some serious consideration about\nthe pro and the con of following or\n\n187\n00:08:39.230 --> 00:08:40.253\nnot following it.\n\n188\n00:08:40.253 --> 00:08:44.057\nBut reality is there are other\nconsiderations that may trump or\n\n189\n00:08:44.057 --> 00:08:47.446\nget in the way of the application\nof that best practice.\n\n190\n00:08:47.446 --> 00:08:50.035\nAnd you wanna balance that right and\nwe try to be fair and\n\n191\n00:08:50.035 --> 00:08:53.417\nequitable in our conversations\nabout the skills, the requirements,\n\n192\n00:08:53.417 --> 00:08:56.028\nthe needs associated with\ngathering this knowledge.\n\n193\n00:08:56.028 --> 00:08:58.011\nBut then you've gotta really take it and\nmake it your own.\n\n194\n00:08:58.011 --> 00:08:59.606\nAs I often say, one size fits one,\n\n195\n00:08:59.606 --> 00:09:02.638\nthe idea meaning you've gotta\ncustomize this thought process.\n\n196\n00:09:02.638 --> 00:09:06.769\nTake it back to your environment, really\ntailor it to what your business needs.\n\n197\n00:09:06.769 --> 00:09:10.377\nI deal with a lot of very small\nmedium size business customers.\n\n198\n00:09:10.377 --> 00:09:12.784\nI work with them, work for them.\n\n199\n00:09:12.784 --> 00:09:17.679\nHave the pleasure and the ability to\nbe able to do that on a regular basis.\n\n200\n00:09:17.679 --> 00:09:21.986\nAnd their needs are very different from\nmy very large enterprise customers,\n\n201\n00:09:21.986 --> 00:09:25.713\nmy global expanding customers,\nI work with a lot of those as well.\n\n202\n00:09:25.713 --> 00:09:30.444\nAnd an organization with 100,\n200,000 employees globally is gonna\n\n203\n00:09:30.444 --> 00:09:34.116\nhave a very different set of needs,\nrequirement and budget,\n\n204\n00:09:34.116 --> 00:09:38.435\nto your point Cherokee, then\nan organization with a few hundred users.\n\n205\n00:09:38.435 --> 00:09:42.364\nNot to say those few hundred users don't\ndeserve the same level of protection,\n\n206\n00:09:42.364 --> 00:09:45.657\noversight care, and feeding and\ngrooming, so to speak, right?\n\n207\n00:09:45.657 --> 00:09:49.766\nThat the 150 to 200,000 monster\norganizations do but let's be honest,\n\n208\n00:09:49.766 --> 00:09:53.301\nthe resources associated with doing\nthat are gonna be very different.\n\n209\n00:09:53.301 --> 00:09:56.060\nAnd so we do have to take note of that.\n\n210\n00:09:56.060 --> 00:09:59.270\nAnd as IT professionals, as infrastructure\nmanagers, as administrators.\n\n211\n00:09:59.270 --> 00:10:03.751\nMCSA's, MCSE's, whatever all of you may be\nor long to be over time as you certify and\n\n212\n00:10:03.751 --> 00:10:04.824\nall that's great.\n\n213\n00:10:04.824 --> 00:10:09.209\nYou've gotta adjust your abilities to do\nthe job to the requirements that your\n\n214\n00:10:09.209 --> 00:10:11.875\nemployer puts before you\nin other words right?\n\n215\n00:10:11.875 --> 00:10:14.778\nAnd so just keep that in mind,\nI know you know that.\n\n216\n00:10:14.778 --> 00:10:18.742\nI know common sense Is sometimes in\nshort supply in the business world but\n\n217\n00:10:18.742 --> 00:10:21.993\nwe still have to overcome that and\ndo our best despite that.\n\n218\n00:10:21.993 --> 00:10:25.024\nAnd just keep in mind that when you\napply the thought process here you\n\n219\n00:10:25.024 --> 00:10:28.161\nmay decide to have a single root CA,\ntalking to customers directly and\n\n220\n00:10:28.161 --> 00:10:29.299\nissuing certificates.\n\n221\n00:10:29.299 --> 00:10:31.521\nThat just may be how you do this.\n\n222\n00:10:31.521 --> 00:10:33.958\nWe don't recommend that for\nobvious reasons, but\n\n223\n00:10:33.958 --> 00:10:35.726\nthat doesn't mean you can't do it.\n\n224\n00:10:35.726 --> 00:10:38.416\nIt just means it may not\nbe the best approach.\n\n225\n00:10:38.416 --> 00:10:41.693\nBut on the exam kind of putting now, all\nthat in a bucket off to the side right.\n\n226\n00:10:41.693 --> 00:10:43.936\nWe've talked about the real world now.\n\n227\n00:10:43.936 --> 00:10:46.493\nNow let's center ourselves and\ntalk about the exam world for\n\n228\n00:10:46.493 --> 00:10:49.570\na minute which is equally important for\nthose of you looking to certify.\n\n229\n00:10:49.570 --> 00:10:51.394\nAnd so do you have an exam hat?\n\n230\n00:10:51.394 --> 00:10:52.849\nWe should get hats.\n\n231\n00:10:52.849 --> 00:10:55.095\nWe could put on our exam hat and\nthen put on our real world hat.\n\n232\n00:10:55.095 --> 00:10:56.112\n&gt;&gt; [CROSSTALK] I'm looking,\nI don't own an exam hat.\n\n233\n00:10:56.112 --> 00:10:56.896\n&gt;&gt; You've got to come to work prepared.\n\n234\n00:10:56.896 --> 00:10:57.425\n&gt;&gt; I know.\n\n235\n00:10:57.425 --> 00:10:58.176\n&gt;&gt; We keep talking about this right?\n\n236\n00:10:58.176 --> 00:10:58.776\n&gt;&gt; Yeah.\n\n237\n00:10:58.776 --> 00:11:00.778\n&gt;&gt; You had to hand draw me my certificate.\n\n238\n00:11:00.778 --> 00:11:03.786\n&gt;&gt; [LAUGH]\n&gt;&gt; I still have it by the way,\n\n239\n00:11:03.786 --> 00:11:06.455\nright, cuz you didn't bring back our keys\nbut I have my certificate right here.\n\n240\n00:11:06.455 --> 00:11:09.321\nI could actually just kind of keep it\nright here, my little certificate.\n\n241\n00:11:09.321 --> 00:11:11.129\nSo we have all of these things and\n\n242\n00:11:11.129 --> 00:11:14.887\nif we have our little exam hat that\nwe think about here for a minute.\n\n243\n00:11:14.887 --> 00:11:15.682\n&gt;&gt; And not only that,\n\n244\n00:11:15.682 --> 00:11:18.969\nthe Microsoft exam because we are\nMicrosoft centric in this particular show.\n\n245\n00:11:18.969 --> 00:11:21.704\n&gt;&gt; I would ask if you're\nfamiliar with Harry Potter and\n\n246\n00:11:21.704 --> 00:11:23.641\nthe whole hat thing in Harry Potter.\n\n247\n00:11:23.641 --> 00:11:27.207\nI'm not even gonna go there cuz the answer\nwill just be no and we'll waste time.\n\n248\n00:11:27.207 --> 00:11:29.778\nSo I'm just gonna pretend we\ndidn't have the conversation and\n\n249\n00:11:29.778 --> 00:11:31.145\njust the hat in general, right?\n\n250\n00:11:31.145 --> 00:11:34.136\nBut for those of you that are Harry Potter\nfans, right, you know all about the hat\n\n251\n00:11:34.136 --> 00:11:36.873\nthat chooses what house you're gonna\nbe a member of and that whole thing.\n\n252\n00:11:36.873 --> 00:11:37.703\nYou may have heard of it.\n\n253\n00:11:37.703 --> 00:11:38.503\n&gt;&gt; I know the hat.\n\n254\n00:11:38.503 --> 00:11:39.927\n&gt;&gt; You know that, right?\n\n255\n00:11:39.927 --> 00:11:42.457\nSo that cool little hat that comes alive\nand talks while it's on your head.\n\n256\n00:11:42.457 --> 00:11:44.886\nCuz you want to put a hat on\nyour head that has a mouth and\n\n257\n00:11:44.886 --> 00:11:45.977\nstarts talking to you.\n\n258\n00:11:45.977 --> 00:11:50.829\nThat's what I would vote to do if I was in\nsuch a place and could do such a thing but\n\n259\n00:11:50.829 --> 00:11:53.344\nthen again Hogwarts is a special place.\n\n260\n00:11:53.344 --> 00:11:57.159\nSo when we think about putting our exam\nhat on for a minute we gotta think about\n\n261\n00:11:57.159 --> 00:12:01.217\nthe fact that on the exam it's all about\nthe best practices, it is all about hey,\n\n262\n00:12:01.217 --> 00:12:03.031\nthis is the right way, air quotes.\n\n263\n00:12:03.031 --> 00:12:07.441\nRight, the right way to do something, not\nbecause it is the best way in your world,\n\n264\n00:12:07.441 --> 00:12:10.351\nbecause it's the way the vendor\nsays you need to do it.\n\n265\n00:12:10.351 --> 00:12:12.222\nAnd I know you know that but\nit's good to hear that sometimes.\n\n266\n00:12:12.222 --> 00:12:13.678\nRemind yourselves of that.\n\n267\n00:12:13.678 --> 00:12:16.350\nWe try to make that distinction\nas we talk about things.\n\n268\n00:12:16.350 --> 00:12:19.552\nLet's make sure we know\nwhat the recommendation is.\n\n269\n00:12:19.552 --> 00:12:21.982\nLet's make sure we know\nthat default setting.\n\n270\n00:12:21.982 --> 00:12:25.706\nLet's make sure we know why that\nsays RSA-248 or shy one and\n\n271\n00:12:25.706 --> 00:12:29.518\nwhat that means cuz that's the kind\nof thing we get asked about.\n\n272\n00:12:29.518 --> 00:12:32.830\nSo when we go through these documents,\nwhen we talk about these areas,\n\n273\n00:12:32.830 --> 00:12:34.210\nwhen we focus on something and\n\n274\n00:12:34.210 --> 00:12:37.213\nspend time talking about it there\nis a reason behind it, right.\n\n275\n00:12:37.213 --> 00:12:38.640\nThere is a methodology.\n\n276\n00:12:38.640 --> 00:12:41.674\nThere is a thought process to\nhelp you focus on key things that\n\n277\n00:12:41.674 --> 00:12:45.006\nare gonna be important for\nyou to be successful and to take those and\n\n278\n00:12:45.006 --> 00:12:48.893\nbroaden them out into the real world we\ndo the hands on walk throughs, right.\n\n279\n00:12:48.893 --> 00:12:52.411\nWe walk you through the logic of how to do\nthis, we spend time and energy showing you\n\n280\n00:12:52.411 --> 00:12:55.981\nhow this stuff actually comes together,\nbecause that's how you bridge the gap and\n\n281\n00:12:55.981 --> 00:12:58.401\nyou take that knowledge and\nyou apply it going forward.\n\n282\n00:12:58.401 --> 00:13:01.650\nSo just make sure you're comfortable\nwith all of that, and if not well,\n\n283\n00:13:01.650 --> 00:13:05.134\nCherokee can sketch something for\nus while we're talking here in real time.\n\n284\n00:13:05.134 --> 00:13:08.371\nYou can sketch another PKI diagram or\nsomething on the.\n\n285\n00:13:08.371 --> 00:13:09.411\n&gt;&gt; [LAUGH] Okay sure.\n\n286\n00:13:09.411 --> 00:13:11.692\n&gt;&gt; All right, so let's take\na look I have another diagram, or\n\n287\n00:13:11.692 --> 00:13:13.120\nexcuse me another document rather.\n\n288\n00:13:13.120 --> 00:13:17.556\nJust quickly, the different between\nstandalone and enterprise CAs.\n\n289\n00:13:17.556 --> 00:13:18.824\nWe talked about this,\n\n290\n00:13:18.824 --> 00:13:22.970\nthe enterprise CA being the one\nassociated with the directory services.\n\n291\n00:13:22.970 --> 00:13:25.610\nStandalone being the one that is outside,\n\n292\n00:13:25.610 --> 00:13:30.318\nnot connected to the ADDS in this case or\nwhatever our LDAP provider will be.\n\n293\n00:13:30.318 --> 00:13:33.038\nWe can go full screen there\nagain just to show you.\n\n294\n00:13:33.038 --> 00:13:35.442\nSo we have just the typical\nusage between the two.\n\n295\n00:13:35.442 --> 00:13:37.510\nThe dependency, right,\none is dependent, one is not.\n\n296\n00:13:37.510 --> 00:13:41.906\nCertificate request methods, remember\nwe can use web based enrollment and or\n\n297\n00:13:41.906 --> 00:13:45.969\nmanual procedures on both but\nwe also have the ability to auto-enroll,\n\n298\n00:13:45.969 --> 00:13:48.580\nweb service based,\nenrollment on behalf of.\n\n299\n00:13:48.580 --> 00:13:52.050\nWe have more options with\nthe enterprise level CA, and\n\n300\n00:13:52.050 --> 00:13:55.597\nwe do have the ability to be\nable to automate the issuance\n\n301\n00:13:55.597 --> 00:13:59.758\nas opposed to having to manually\napprove on the standalone side.\n\n302\n00:13:59.758 --> 00:14:01.859\nWe'll talk about this as well.\n\n303\n00:14:01.859 --> 00:14:06.053\nSo, again just want to kind of use the to\nsummarize some of the key themes we've\n\n304\n00:14:06.053 --> 00:14:06.982\nseen up until now.\n\n305\n00:14:06.982 --> 00:14:09.845\nAnd I'm going to guess, right now,\nwithout even looking her way,\n\n306\n00:14:09.845 --> 00:14:12.924\nthat Cherokee is waving at me going,\nwait, but I want to say something.\n\n307\n00:14:12.924 --> 00:14:15.464\nI have a question, so,\nwhat is your question?\n\n308\n00:14:15.464 --> 00:14:17.183\n&gt;&gt; Yeah, so, Adam,\nwhen would be an appropriate?\n\n309\n00:14:17.183 --> 00:14:18.175\n&gt;&gt; I'm sorry.\n\n310\n00:14:18.175 --> 00:14:19.433\nI'm going to back up while we're talking.\n\n311\n00:14:19.433 --> 00:14:20.659\n&gt;&gt; Okay.\n&gt;&gt; You're good.\n\n312\n00:14:20.659 --> 00:14:24.439\n&gt;&gt; An appropriate situation to go ahead,\nand what drives me to make that decision,\n\n313\n00:14:24.439 --> 00:14:26.120\nhey, I want to set up a stand alone.\n\n314\n00:14:26.120 --> 00:14:29.025\n&gt;&gt; Or root CA or enterprise CA\nrather standalone vs enterprise,\n\n315\n00:14:29.025 --> 00:14:29.870\nso great question.\n\n316\n00:14:29.870 --> 00:14:34.506\nSo one of the key drivers for\nus would be whether we are going to be\n\n317\n00:14:34.506 --> 00:14:39.318\nable to access the Active Directory\nfrom the CA meeting if the CA is\n\n318\n00:14:39.318 --> 00:14:43.278\nsitting in an environment\nwhere AD is not available.\n\n319\n00:14:43.278 --> 00:14:46.351\nMaybe it's in a branch office somewhere.\n\n320\n00:14:46.351 --> 00:14:48.847\nWe don't have direct access to AD.\n\n321\n00:14:48.847 --> 00:14:53.231\nMaybe we are in a DMZ, right, in a\ndemilitarized zone, some sort of security\n\n322\n00:14:53.231 --> 00:14:57.364\nboundary peripheral area where we may\nnot expose, or want to expose AD.\n\n323\n00:14:57.364 --> 00:15:02.376\nIt will be some of the key reasons\nfrom an architectural perspective.\n\n324\n00:15:02.376 --> 00:15:06.778\nMaybe we are setting up a CA to deal with\naspects of certificate management for\n\n325\n00:15:06.778 --> 00:15:10.707\nusers or computers that are not tied\nto a directory service, meaning\n\n326\n00:15:10.707 --> 00:15:15.610\nwe have external users coming in, or non\ndomain joined machines, things like that.\n\n327\n00:15:15.610 --> 00:15:18.632\nSo we may have a reason to do it that way.\n\n328\n00:15:18.632 --> 00:15:22.208\nSo those are some of the reasons\nwhy we may go one way or the other.\n\n329\n00:15:22.208 --> 00:15:23.200\n&gt;&gt; Okay.\n\n330\n00:15:23.200 --> 00:15:27.147\n&gt;&gt; Traditionally we would normally default\nto an enterprise solution if we have\n\n331\n00:15:27.147 --> 00:15:28.190\naccess to the ADDS.\n\n332\n00:15:28.190 --> 00:15:30.956\nAnd we can interact with and\nuse it to authenticate users or\n\n333\n00:15:30.956 --> 00:15:34.300\nto validate computer accounts and\nissue certificates accordingly.\n\n334\n00:15:34.300 --> 00:15:38.422\nAuto-enrollment's a big deal, so\nif we need auto enrollment capabilities,\n\n335\n00:15:38.422 --> 00:15:41.752\nas we'll take a look at in our\nwalk through, with group policy.\n\n336\n00:15:41.752 --> 00:15:45.370\nAnd to be able to push certificates and\npublish them, we want an enterprise CA,\n\n337\n00:15:45.370 --> 00:15:46.885\nas opposed to a stand-alone CA.\n\n338\n00:15:46.885 --> 00:15:51.236\nSo these would typically be drivers that\nwould help us to differentiate one way or\n\n339\n00:15:51.236 --> 00:15:53.355\nthe other, what we're doing, good?\n\n340\n00:15:53.355 --> 00:15:55.455\n&gt;&gt; Good, that was good.\nGreat answer actually.\n\n341\n00:15:55.455 --> 00:15:56.021\n&gt;&gt; I appreciate that.\n\n342\n00:15:56.021 --> 00:15:58.019\n&gt;&gt; [LAUGH]\n&gt;&gt; Thank you very much.\n\n343\n00:15:58.019 --> 00:16:01.527\nI studied very hard and\nI was nervous off camera.\n\n344\n00:16:01.527 --> 00:16:02.117\n&gt;&gt; I can tell, yeah.\n\n345\n00:16:02.117 --> 00:16:04.860\n&gt;&gt; I was practicing, walking around\ntalking to myself before we came on,\n\n346\n00:16:04.860 --> 00:16:06.242\nmake sure I knew how to answer that.\n\n347\n00:16:06.242 --> 00:16:07.861\nI would say that was so good that.\n\n348\n00:16:07.861 --> 00:16:08.765\n&gt;&gt; Deserves a star.\n\n349\n00:16:08.765 --> 00:16:10.612\n&gt;&gt; I should get a star for that.\n\n350\n00:16:10.612 --> 00:16:13.537\nI like having a star here, I could\njust use it for all sorts of things.\n\n351\n00:16:13.537 --> 00:16:17.432\nAll right, So, roles and\ngroups involved in administration of AVCS.\n\n352\n00:16:17.432 --> 00:16:18.320\nTake a look with me here.\n\n353\n00:16:18.320 --> 00:16:18.968\nWe have another chart.\n\n354\n00:16:18.968 --> 00:16:22.096\nIf we could go back to full screen.\n\n355\n00:16:22.096 --> 00:16:25.366\nSo I called out some of the common\nrules of groups and what they're named,\n\n356\n00:16:25.366 --> 00:16:26.009\nas I told you.\n\n357\n00:16:26.009 --> 00:16:30.721\nThe CA administrator, the certificate\nmanager, the backup operator,\n\n358\n00:16:30.721 --> 00:16:34.293\nthe auditor, enrollees,\nas you can see here, right?\n\n359\n00:16:34.293 --> 00:16:37.822\nAnd then of course we have the blank user\ndown at the bottom that is invisible and\n\n360\n00:16:37.822 --> 00:16:38.905\ndoes nothing, right?\n\n361\n00:16:38.905 --> 00:16:45.123\nSo we have our CA administrator managing\nthe issuance of certificates and\n\n362\n00:16:45.123 --> 00:16:50.151\nof course any issues around\nthe oversight of the CA itself.\n\n363\n00:16:50.151 --> 00:16:53.258\nThe certificate manager typically\nwill issue and manage certificates.\n\n364\n00:16:53.258 --> 00:16:56.692\nThis role, these two roles,\nmay split that responsibility.\n\n365\n00:16:56.692 --> 00:17:00.114\nI've seen customers set it up\nwhere the C admin does everything.\n\n366\n00:17:00.114 --> 00:17:02.237\nThey don't have a separate\ncertificate manager.\n\n367\n00:17:02.237 --> 00:17:05.430\nI have customers that have a CA\nadministrator that does nothing but\n\n368\n00:17:05.430 --> 00:17:09.093\nkeep the infrastructure itself\nconfigured properly, running properly.\n\n369\n00:17:09.093 --> 00:17:12.785\nThey have a delegated role that deals with\nissuing and managing certificates and\n\n370\n00:17:12.785 --> 00:17:13.554\noversees them.\n\n371\n00:17:13.554 --> 00:17:18.617\nIt may be an IA, information assurance\nrole in government and military circles.\n\n372\n00:17:18.617 --> 00:17:22.530\nThere's lots of names you may see\nassigned to these capabilities.\n\n373\n00:17:22.530 --> 00:17:28.049\nI'm not suggesting that you don't have\nalternate names for these in your world.\n\n374\n00:17:28.049 --> 00:17:32.832\nI'm just pointing out that traditionally\nusing the language of Microsoft's PKI\n\n375\n00:17:32.832 --> 00:17:35.466\nthought process,\nthese are common rolls and\n\n376\n00:17:35.466 --> 00:17:38.599\ncommon responsibilities\nthat are assigned to them.\n\n377\n00:17:38.599 --> 00:17:42.918\nA backup operator simply backs up and\nis dealing with those aspects.\n\n378\n00:17:42.918 --> 00:17:47.201\nAn auditor, again maybe an IA,\nan information assurance function,\n\n379\n00:17:47.201 --> 00:17:51.639\nmaybe a separate function, just maybe IT,\nmaybe a security function.\n\n380\n00:17:51.639 --> 00:17:55.178\nBut we do have a carved out\nthought process around auditor.\n\n381\n00:17:55.178 --> 00:17:58.881\nAnd then enrollees are the entities\nthat are requesting certificates, right?\n\n382\n00:17:58.881 --> 00:18:01.758\nWhether they're users or\ncomputers or whatever they may be.\n\n383\n00:18:01.758 --> 00:18:05.324\nSo, again, just wanna make sure that\nyou are thinking about that, and\n\n384\n00:18:05.324 --> 00:18:08.415\nhave a sense of those roles and\nkind of what they're called and\n\n385\n00:18:08.415 --> 00:18:10.157\nhow we would view them or see them.\n\n386\n00:18:10.157 --> 00:18:11.299\nIf you are asked about them,\n\n387\n00:18:11.299 --> 00:18:14.582\nobviously it would be good to have a sense\nof the Microsoft vision of the world, and\n\n388\n00:18:14.582 --> 00:18:16.698\nthis is the Microsoft vision\nof that world, right?\n\n389\n00:18:16.698 --> 00:18:18.925\nRegardless of what they may be locally for\nyou.\n\n390\n00:18:18.925 --> 00:18:20.780\nAll right, so just some thoughts there.\n\n391\n00:18:20.780 --> 00:18:25.047\nLet me just extend our lab timer\nquickly as you often see me do,\n\n392\n00:18:25.047 --> 00:18:26.697\nbefore we jump in here.\n\n393\n00:18:26.697 --> 00:18:27.638\nSo let's come over here.\n\n394\n00:18:27.638 --> 00:18:31.465\nI did mention I would talk about\nthe CAPolicy.inf file for a minute.\n\n395\n00:18:31.465 --> 00:18:33.890\nLet me actually bring that up\nbefore we get into our demo here.\n\n396\n00:18:33.890 --> 00:18:37.221\nSo the CAPolicy.inf file right?\n\n397\n00:18:37.221 --> 00:18:38.083\nJust some notes that I have.\n\n398\n00:18:38.083 --> 00:18:40.814\nIf we go full screen, it will be\na little bit easier for you to see.\n\n399\n00:18:40.814 --> 00:18:42.933\nSo this is that file, plain text file,\n\n400\n00:18:42.933 --> 00:18:46.167\nthat has the settings that we\nuse to automate this process.\n\n401\n00:18:46.167 --> 00:18:49.193\nNot required, as I point out, to install.\n\n402\n00:18:49.193 --> 00:18:52.221\nWe can do this, you've seen me do this\na couple of times already you'll see me do\n\n403\n00:18:52.221 --> 00:18:53.415\nit again, with out this file.\n\n404\n00:18:53.415 --> 00:18:55.019\nBut we get the default settings or\n\n405\n00:18:55.019 --> 00:18:58.916\nwe get the modified settings we choose\nthrough the Wizard if we don't use the C_A\n\n406\n00:18:58.916 --> 00:19:01.228\npolicy's probably a better\nway of putting it.\n\n407\n00:19:01.228 --> 00:19:04.956\nSo we can customize, not that we can't\ncustomize without this file, but\n\n408\n00:19:04.956 --> 00:19:07.001\nassuming we didn't make any changes and\n\n409\n00:19:07.001 --> 00:19:10.146\njust did next next next in\nthe Wizard where default settings.\n\n410\n00:19:10.146 --> 00:19:13.188\nWhereas with this file we can\ncreate a customized solution.\n\n411\n00:19:13.188 --> 00:19:16.298\nSo it's divided into several sections\nhere just to make it more simple.\n\n412\n00:19:16.298 --> 00:19:19.759\nI'm gonna show you right down here,\nwhat this looks like,\n\n413\n00:19:19.759 --> 00:19:23.358\nyou could see a sample of this and\nwhat it's going to show us and\n\n414\n00:19:23.358 --> 00:19:27.401\njust kind of breaking it down here and\njust talk a little bit about it.\n\n415\n00:19:27.401 --> 00:19:32.305\nSo let's just take a look here real quick,\nso we see that the different structured\n\n416\n00:19:32.305 --> 00:19:37.139\nelements section is an area in the .inf\nfile that contains logical groups of keys\n\n417\n00:19:37.139 --> 00:19:42.113\nor settings, just so you know what they\nare, and it always appears in brackets, so\n\n418\n00:19:42.113 --> 00:19:45.386\nyou could see here\nAuthorityInformationAccess, and\n\n419\n00:19:45.386 --> 00:19:48.416\nthen the information below is a section,\nright?\n\n420\n00:19:48.416 --> 00:19:51.505\nAnd certsrv_server is a section.\n\n421\n00:19:51.505 --> 00:19:53.896\nAnd then below we have\na bunch of settings, right?\n\n422\n00:19:53.896 --> 00:19:56.660\nThat will specify the key\nsettings whatever they may be.\n\n423\n00:19:56.660 --> 00:20:00.203\nSo then we say a key is a parameter\nthat is to the left of the equal sign.\n\n424\n00:20:00.203 --> 00:20:02.528\nA value is the value to\nthe right of the equal sign.\n\n425\n00:20:02.528 --> 00:20:06.883\nSo this is a section right here,\nthis is a key, right?\n\n426\n00:20:06.883 --> 00:20:08.666\nAnd then this is a value.\n\n427\n00:20:08.666 --> 00:20:10.400\nJust so you can see how to read that.\n\n428\n00:20:10.400 --> 00:20:14.643\nThis is a section right here, right?\n\n429\n00:20:14.643 --> 00:20:20.796\nThis is a key, RenewalKeyLength,\nno pun intended.\n\n430\n00:20:20.796 --> 00:20:22.441\nThis is a value, right?\n\n431\n00:20:22.441 --> 00:20:25.960\nCRLPeriod, that's a key,\nDays is a value, just so\n\n432\n00:20:25.960 --> 00:20:29.886\nyou have a sense how to read\nthat as you take a look, right?\n\n433\n00:20:29.886 --> 00:20:31.596\nJust so\nyou can kinda see the logic of that.\n\n434\n00:20:31.596 --> 00:20:36.459\nAnd then what I did here is I just showed\nyou if you wanted to specify an AIA,\n\n435\n00:20:36.459 --> 00:20:40.624\nan authority information access\npoint we talked about those.\n\n436\n00:20:40.624 --> 00:20:46.364\nThat in the CVP if you remember\nthe CRL publication location right?\n\n437\n00:20:46.364 --> 00:20:50.591\nWe said we could use these to specify\nhow you will find Information, so\n\n438\n00:20:50.591 --> 00:20:52.824\nwe would specify what this would be.\n\n439\n00:20:52.824 --> 00:20:56.137\nOr we can go ahead and\nwe can set up for instance things that\n\n440\n00:20:56.137 --> 00:21:00.918\nare answers to the questions, hey, how\ndo we configure the certificate server?\n\n441\n00:21:00.918 --> 00:21:02.575\nWhat's the key length, right?\n\n442\n00:21:02.575 --> 00:21:04.322\nSo that's 2048.\n\n443\n00:21:04.322 --> 00:21:05.921\nWhat's the renewal period?\n\n444\n00:21:05.921 --> 00:21:07.900\nWhat are the renewal\nperiod validity units?\n\n445\n00:21:07.900 --> 00:21:09.816\nSo this one will be good for seven years.\n\n446\n00:21:09.816 --> 00:21:13.849\nWhat's the CRL period, the certificate\nrevocation list period, days.\n\n447\n00:21:13.849 --> 00:21:16.928\nHow long, every four days.\n\n448\n00:21:16.928 --> 00:21:20.260\nThe delta period is in hours,\nevery two hours, publish your delta.\n\n449\n00:21:20.260 --> 00:21:21.757\nThat kind of thing, right?\n\n450\n00:21:21.757 --> 00:21:25.954\nSo all of these would be enabled, and\nthen we're able to go through and\n\n451\n00:21:25.954 --> 00:21:28.248\nsubstitute the CAPolicy.inf file.\n\n452\n00:21:28.248 --> 00:21:30.317\n&gt;&gt; Easy to change here, easy enough.\n\n453\n00:21:30.317 --> 00:21:33.578\n&gt;&gt; Well easy is relative, but\nit obviously would allow us to go in.\n\n454\n00:21:33.578 --> 00:21:39.893\nAnd to specify, and\nto then set up what these items would be.\n\n455\n00:21:39.893 --> 00:21:43.906\nWe can go in, as you can see, and\ndefine certificate practice statements,\n\n456\n00:21:43.906 --> 00:21:47.687\nobject identifiers, what we call\nthose ID's, unique identifiers.\n\n457\n00:21:47.687 --> 00:21:50.142\nPublication intervals,\nyou saw some of that.\n\n458\n00:21:50.142 --> 00:21:52.836\nThe renewal settings,\nyou saw some of that.\n\n459\n00:21:52.836 --> 00:21:56.932\nSeries, you saw some of those settings or\nwhat we can do there, and the thing is\n\n460\n00:21:56.932 --> 00:22:00.532\nthat in order to do this you could\nsee here we have to create this file,\n\n461\n00:22:00.532 --> 00:22:03.978\nthen we have to copy it over\nthe percent system or percent folder.\n\n462\n00:22:03.978 --> 00:22:07.465\nThat's a system variable,\na place holder essentially for\n\n463\n00:22:07.465 --> 00:22:09.288\ntypically C Windows, right?\n\n464\n00:22:09.288 --> 00:22:10.910\nThat's normally what system root is.\n\n465\n00:22:10.910 --> 00:22:13.877\nBut if you installed Windows\non the X drive, in theory,\n\n466\n00:22:13.877 --> 00:22:17.427\non your machine it would be X Windows,\nbut whatever it is, right.\n\n467\n00:22:17.427 --> 00:22:19.290\nSystem root, percent system, or\n\n468\n00:22:19.290 --> 00:22:23.296\npercent folder of your server, for\ninstance, see Windows, whatever.\n\n469\n00:22:23.296 --> 00:22:27.243\nBefore, and this is the critical thing,\nbefore we install the ADCS role, or\n\n470\n00:22:27.243 --> 00:22:29.019\nbefore we renew the certificate.\n\n471\n00:22:29.019 --> 00:22:30.644\nCuz if we wanna use this file,\n\n472\n00:22:30.644 --> 00:22:34.817\nit has to be in place before we do the\nactual actions that this file speaks to.\n\n473\n00:22:34.817 --> 00:22:38.786\nOtherwise we'll use the GUI wizard and\nget the information from there, or\n\n474\n00:22:38.786 --> 00:22:42.389\nwe'll use Powershell,\nwe'll get it from there as I'll show you.\n\n475\n00:22:42.389 --> 00:22:45.204\nAnd the CAPolicy.inf file process for\nboth root and\n\n476\n00:22:45.204 --> 00:22:47.641\nsupported CA installs, but also renewals.\n\n477\n00:22:47.641 --> 00:22:50.997\nSo, just wanna make sure we're aware\nof that and we understand that.\n\n478\n00:22:50.997 --> 00:22:55.632\nBecause again, how often do you\nhave an option to [COUGH] go ahead,\n\n479\n00:22:55.632 --> 00:22:59.354\nexcuse me, you go ahead and\nto actually customize.\n\n480\n00:22:59.354 --> 00:23:04.093\nAnd even then if you do, how likely\nare you to customize this install and\n\n481\n00:23:04.093 --> 00:23:07.177\nset up an equivalent of\nan answer file to do it?\n\n482\n00:23:07.177 --> 00:23:09.086\nBecause how often do you do it,\nis what I'm suggesting.\n\n483\n00:23:09.086 --> 00:23:11.210\nIt's probably not something\nmost of us have done.\n\n484\n00:23:11.210 --> 00:23:14.136\nMost of you,\nif you've ever had a reason to do this,\n\n485\n00:23:14.136 --> 00:23:15.874\nmay have done it once or twice.\n\n486\n00:23:15.874 --> 00:23:18.865\nThis is that kinda thing that unless\nyou're maybe a consultant doing a lot of\n\n487\n00:23:18.865 --> 00:23:20.328\nthis work for customers regularly.\n\n488\n00:23:20.328 --> 00:23:25.588\nOr you're automating processed with\nmaybe a dev ops thought process or\n\n489\n00:23:25.588 --> 00:23:27.264\nsomething like that.\n\n490\n00:23:27.264 --> 00:23:28.633\nYeah, I could see where you would do this.\n\n491\n00:23:28.633 --> 00:23:32.922\nBut for everybody I meet, that I talk to\nprofessionally, in my practice that does\n\n492\n00:23:32.922 --> 00:23:36.789\nthis kind of stuff regularly,\nthere's 1,000 people that don't.\n\n493\n00:23:36.789 --> 00:23:39.856\nJust because the logic is you just\nreally wouldn't take the time,\n\n494\n00:23:39.856 --> 00:23:42.230\nexcept just to learn how to do,\nto do it that often.\n\n495\n00:23:42.230 --> 00:23:45.077\nSo it's great to know it's there,\nit's great to practice,\n\n496\n00:23:45.077 --> 00:23:46.566\ngreat to know you could do this.\n\n497\n00:23:46.566 --> 00:23:48.104\nGreat to understand it's possible,\n\n498\n00:23:48.104 --> 00:23:50.610\ndefinitely wanna make sure you\nunderstand the logic of this.\n\n499\n00:23:50.610 --> 00:23:52.486\nHave a sense of how it works, but\n\n500\n00:23:52.486 --> 00:23:57.018\nthe reality is the likelihood of you\ndoing this is relatively small, right?\n\n501\n00:23:57.018 --> 00:24:02.546\nAnd, as a matter of fact,\nif you go out real quick,\n\n502\n00:24:02.546 --> 00:24:08.216\njust give me one second,\nand you do CAPolicy.inf.\n\n503\n00:24:15.470 --> 00:24:19.501\nIf you do capolicy.inf file and you\nliterally just do a quick Google search,\n\n504\n00:24:19.501 --> 00:24:21.860\nI'm just doing this on the fly,\nreal quick.\n\n505\n00:24:21.860 --> 00:24:25.343\nYou can see right here you get some\ngreat links on how to do this.\n\n506\n00:24:25.343 --> 00:24:28.834\nThe first two would be great,\neither the TechNet article, or\n\n507\n00:24:28.834 --> 00:24:30.255\nthe Doclink right here.\n\n508\n00:24:30.255 --> 00:24:31.880\nWe'll just go to the Doclink for a second.\n\n509\n00:24:31.880 --> 00:24:36.000\nPrepare the CAPolicy.inf file and by the\nway, even though it says Windows Server 16\n\n510\n00:24:36.000 --> 00:24:38.380\nhere, it works for\nServer 12, it's the same.\n\n511\n00:24:38.380 --> 00:24:39.610\nSo don't worry about that.\n\n512\n00:24:39.610 --> 00:24:43.668\nIt just walks you through the logic of\nhow to set this up, shows you a complete\n\n513\n00:24:43.668 --> 00:24:47.678\nsample of what the full file may look\nlike with all the different sections.\n\n514\n00:24:47.678 --> 00:24:51.684\nThe only reason I'm pointing it out is\nthat I only essentially went in and\n\n515\n00:24:51.684 --> 00:24:55.427\ngrabbed one section to show you I\ndidn't put them all out there, but\n\n516\n00:24:55.427 --> 00:24:59.433\nyou could see top to bottom the version,\npolicy statement extensions,\n\n517\n00:24:59.433 --> 00:25:03.110\ninternal policy, [INAUDIBLE] of\nthe piece I went through with you,\n\n518\n00:25:03.110 --> 00:25:05.828\nCDP, CRL distribution point,\nAIA down there.\n\n519\n00:25:05.828 --> 00:25:09.579\nThis will be all the different policy\nsections, or the individual sections and\n\n520\n00:25:09.579 --> 00:25:13.275\nthen you could just go through and it says\nhey, go save it and the most important\n\n521\n00:25:13.275 --> 00:25:16.934\nthing when you do this, by the way,\nwhich people sometimes get caught with.\n\n522\n00:25:16.934 --> 00:25:21.289\nRight down here, when you go to save it\nyou have to save it as a .inf extension.\n\n523\n00:25:21.289 --> 00:25:25.917\nIf you do it in Notepad you gotta know to\nchange the default from .txt to all files\n\n524\n00:25:25.917 --> 00:25:29.716\nor you get a capolicy.inf.txt file and\nthen it doesn't work and\n\n525\n00:25:29.716 --> 00:25:31.740\nwe've gotta go back and fix that.\n\n526\n00:25:31.740 --> 00:25:35.281\nIt's a big, not a big deal, you go fix\nit but then you've gotta do it again.\n\n527\n00:25:35.281 --> 00:25:37.816\nSo it's just those little stupid things\nthat catch you that you've gotta pay\n\n528\n00:25:37.816 --> 00:25:38.335\nattention to.\n\n529\n00:25:38.335 --> 00:25:43.241\nSo I like this URL because it does tell\nyou hey specifically, set it to all files,\n\n530\n00:25:43.241 --> 00:25:43.757\nright?\n\n531\n00:25:43.757 --> 00:25:47.102\nMake sure it's type encoded ANSI, and\nit just tells you how to do it and\n\n532\n00:25:47.102 --> 00:25:47.915\nbe successful.\n\n533\n00:25:47.915 --> 00:25:50.916\nSo you may just wanna go take a look at\nthat, just in case you're interested,\n\n534\n00:25:50.916 --> 00:25:51.943\nread up on it a little bit.\n\n535\n00:25:51.943 --> 00:25:53.755\nSee it's real easy to find.\n\n536\n00:25:53.755 --> 00:25:55.020\nNo issue there at all.\n\n537\n00:25:55.020 --> 00:25:58.706\nVery, very simple to go locate and\nit's a real quick and\n\n538\n00:25:58.706 --> 00:26:03.658\neasy way to address and deal with\nthe issues of automation if you choose to.\n\n539\n00:26:03.658 --> 00:26:06.410\nAll right, we are running a little\nshort on time in this episode so\n\n540\n00:26:06.410 --> 00:26:08.777\nI'm just going to quickly\npreview something with you.\n\n541\n00:26:08.777 --> 00:26:11.841\nWe'll come back in our next episode,\njump in fully to the demo but\n\n542\n00:26:11.841 --> 00:26:14.627\nI want to just point one thing out and\nshow you PowerShell and\n\n543\n00:26:14.627 --> 00:26:16.766\nhow we install at a minimum\nbefore we do that.\n\n544\n00:26:16.766 --> 00:26:20.063\nSo we can go full screen just so you could\nsee this while I'm talking cuz we're\n\n545\n00:26:20.063 --> 00:26:23.387\nkinda cutting off the end right here so\nthat way you could see what I'm doing.\n\n546\n00:26:23.387 --> 00:26:26.766\nAnd we'll wait and let's try that one\nmore time, can we go full screen.\n\n547\n00:26:26.766 --> 00:26:28.831\nLet's go back, there we go, okay.\n\n548\n00:26:28.831 --> 00:26:30.144\nRight idea, wrong button.\n\n549\n00:26:30.144 --> 00:26:33.266\nAll right, so Administrator as\nan administrative prompt here for\n\n550\n00:26:33.266 --> 00:26:35.786\nPowerShell just so\nyou know how we're running this.\n\n551\n00:26:35.786 --> 00:26:37.051\nYou can kinda see it up there.\n\n552\n00:26:37.051 --> 00:26:38.886\nIt's being hidden by a little blue square.\n\n553\n00:26:38.886 --> 00:26:44.393\nSo what I did here is I used PowerShell\nthis time to configure the ADCS role and\n\n554\n00:26:44.393 --> 00:26:45.527\nthen set it up.\n\n555\n00:26:45.527 --> 00:26:49.088\nSo Add Windows feature, like I talked to\nyou about in one of the prior episodes,\n\n556\n00:26:49.088 --> 00:26:50.485\nwould be how we start this off.\n\n557\n00:26:50.485 --> 00:26:54.153\nWe name the role or the feature,\nin this case abcs-cert-authority.\n\n558\n00:26:54.153 --> 00:26:57.149\nI talked about IncludeManagmentTools,\nso you saw that.\n\n559\n00:26:57.149 --> 00:27:00.249\nThat went through,\nwe got our success code, all good.\n\n560\n00:27:00.249 --> 00:27:02.819\nThen our next PowerShell cmdlet,\n\n561\n00:27:02.819 --> 00:27:08.668\ninstall Install-AdcsCertificateAuthority,\nso that would be right here,\n\n562\n00:27:08.668 --> 00:27:14.531\nthat's the commandlet that lets me go\nthrough and finish the configuration.\n\n563\n00:27:14.531 --> 00:27:17.332\nRemember in the last episode,\nas we did the walkthrough,\n\n564\n00:27:17.332 --> 00:27:19.688\nyou saw me engage in this\nin a two-step process.\n\n565\n00:27:19.688 --> 00:27:24.249\nI did step one in the server manager,\nI went to manage And then we went through\n\n566\n00:27:24.249 --> 00:27:29.547\nand configured the ABCS role, and added in\nthe features, then, or installed rather.\n\n567\n00:27:29.547 --> 00:27:34.307\nAnd then in step two,\nwe launched the post configuration wizard,\n\n568\n00:27:34.307 --> 00:27:38.471\nand we did the actual steps to\nconfigure and instantiate or\n\n569\n00:27:38.471 --> 00:27:42.045\nset up the ADCS roll fully and\nestablished the CA.\n\n570\n00:27:42.045 --> 00:27:44.822\nSo this is step two,\nthis is what this does.\n\n571\n00:27:44.822 --> 00:27:47.632\nAnd then CA type, the parameter here,\n\n572\n00:27:47.632 --> 00:27:51.891\nspecified enterprise root CA,\ncrypto provider name, and\n\n573\n00:27:51.891 --> 00:27:57.021\nthen we did the RSA Microsoft storage\nproviders, you could see there.\n\n574\n00:27:57.021 --> 00:27:59.797\nThen key length parameters,\nspecify the key length.\n\n575\n00:27:59.797 --> 00:28:01.375\nHash algorithm name.\n\n576\n00:28:01.375 --> 00:28:02.699\nParameter shy one.\n\n577\n00:28:02.699 --> 00:28:08.062\nValidity period specify years,\nvalidity period units and five.\n\n578\n00:28:08.062 --> 00:28:11.975\nSo this will install for\nus a enterprise route CA.\n\n579\n00:28:11.975 --> 00:28:15.398\nUse the RSA Microsoft\nkey storage provider,\n\n580\n00:28:15.398 --> 00:28:20.533\ncrypto provider to classify 2048 bits for\nthe Encryption key,\n\n581\n00:28:20.533 --> 00:28:24.509\nprivate key,\nhash algorithm name will be SHA-1.\n\n582\n00:28:24.509 --> 00:28:28.316\nWe'll use SHA-1 for\nthe digital signing hashing algorithm.\n\n583\n00:28:28.316 --> 00:28:30.528\nWe'll set that CA certificate,\n\n584\n00:28:30.528 --> 00:28:35.903\nself-signed with a validity period of\nfive years, and then have that all done.\n\n585\n00:28:35.903 --> 00:28:40.277\nSo we do all that, we do A for yes to all\nand then what I wanted to show you was,\n\n586\n00:28:40.277 --> 00:28:44.375\nunlike up here, where we get success\ncode true and exit code success,\n\n587\n00:28:44.375 --> 00:28:47.429\nwe get a different output\nhere that equal success and\n\n588\n00:28:47.429 --> 00:28:50.569\nthis may throw you if you've\nnever seen this before.\n\n589\n00:28:50.569 --> 00:28:55.693\nError ID zero has the output is actually\nwhat expect to see here for success.\n\n590\n00:28:55.693 --> 00:28:59.906\nThat means we did this configuration,\nIt is good, that's what we want to see.\n\n591\n00:28:59.906 --> 00:29:01.367\n&gt;&gt; Yeah, 0 errors.\n\n592\n00:29:01.367 --> 00:29:03.503\n&gt;&gt; 0 errors, correct, exactly.\n\n593\n00:29:03.503 --> 00:29:09.125\nSo that's what we're looking for and the\noutput of this is we get our certification\n\n594\n00:29:09.125 --> 00:29:14.849\nauthority, MMC, we can open it up, we do\nsee our practice labs platinum da01ca.\n\n595\n00:29:14.849 --> 00:29:19.223\nWe do see as we come in here\nthat if we go take a look,\n\n596\n00:29:19.223 --> 00:29:23.728\nwe do have our certificate\nhere that we've set up.\n\n597\n00:29:23.728 --> 00:29:28.420\nWe're using SHI1, we're using the software\nKey Storage Provider that we specified.\n\n598\n00:29:28.420 --> 00:29:30.300\nWe can look at our certificate.\n\n599\n00:29:30.300 --> 00:29:34.896\nWe can go in and see that it is\nissued from ourselves to ourself for\n\n600\n00:29:34.896 --> 00:29:37.209\nvalidity period of five years.\n\n601\n00:29:37.209 --> 00:29:39.659\nRemember, we talked about\nthis in the last episode.\n\n602\n00:29:39.659 --> 00:29:42.450\nThis is day month as opposed to month day.\n\n603\n00:29:42.450 --> 00:29:46.744\nSo this would be issued\nfrom September 7th of 17\n\n604\n00:29:46.744 --> 00:29:51.052\nto September 7th of 2022,\njust so you know.\n\n605\n00:29:51.052 --> 00:29:53.365\nAnd then, we have the details here.\n\n606\n00:29:53.365 --> 00:29:54.978\nKinda tells us everything we did.\n\n607\n00:29:54.978 --> 00:29:59.851\nWe could see the SHI-1, Hash algorithm,\nthe RSA algorithm there.\n\n608\n00:29:59.851 --> 00:30:04.274\nWe see the public Key R say 2048 bid,\n\n609\n00:30:04.274 --> 00:30:09.100\nand we see the certification path, right?\n\n610\n00:30:09.100 --> 00:30:13.942\nSo everything is specified the way we\nasked it to be in PowerShell setup and\n\n611\n00:30:13.942 --> 00:30:14.810\nconfigure.\n\n612\n00:30:14.810 --> 00:30:16.447\nSo, we can check all that and\n\n613\n00:30:16.447 --> 00:30:20.150\nwe actually can see that all that\nstuff has been done correctly.\n\n614\n00:30:20.150 --> 00:30:24.469\nSo I wanted to make sure you got a chance\nto see that before we actually come back\n\n615\n00:30:24.469 --> 00:30:28.543\nand start to use this console to do\nsome of the things I was talking about.\n\n616\n00:30:28.543 --> 00:30:30.905\nWe'll take a look at\ntemplates in more depth,\n\n617\n00:30:30.905 --> 00:30:33.936\nwe'll issue a couple of\ncertificates based on templates,\n\n618\n00:30:33.936 --> 00:30:38.237\nsee how to manually intervene, and issue\na certificate that's in a pending state so\n\n619\n00:30:38.237 --> 00:30:42.080\nwe can make a certificate request and\nhave it pending and then issue it out.\n\n620\n00:30:42.080 --> 00:30:43.740\nI'm gonna show you how to do all that.\n\n621\n00:30:43.740 --> 00:30:46.015\nBut that'll be for\nour discussions when we come back.\n\n622\n00:30:46.015 --> 00:30:49.278\n&gt;&gt; All right, so we are gonna come back,\nand we hope you do too.\n\n623\n00:30:49.278 --> 00:30:52.761\nSo, for this show, we'll go ahead and sign\nout, I've been your host, Cherokee Boose.\n\n624\n00:30:52.761 --> 00:30:54.421\n&gt;&gt; I am Adam Gordon.\n\n625\n00:30:54.421 --> 00:30:57.718\n&gt;&gt; See you next time here on ITProTV.\n\n626\n00:30:57.718 --> 00:31:03.729\n[MUSIC]\n\n627\n00:31:03.729 --> 00:31:06.748\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232994704"
        },
        {
          "description": "In this episode, Adam and Cherokee show how to modify a template. Adam creates a template that allows auto enrollment and demonstrates how to use that template to issue certificates. You will also see how to assign up a key recovery agent.",
          "length": "2310",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-5-implementing_ad_cs_pt5-090717-PGM.00_38_09_08.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-5-implementing_ad_cs_pt5-090717-PGM.00_38_09_08.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-5-implementing_ad_cs_pt5-090717-PGM.00_38_09_08.Still001-sm.jpg",
          "title": "Implementing AD CS Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.392\nWelcome to ITProTV.\n\n2\n00:00:01.392 --> 00:00:02.290\nI'm your host, Don Pezet.\n\n3\n00:00:02.290 --> 00:00:06.617\n[CROSSTALK]\n\n4\n00:00:06.617 --> 00:00:08.625\n[MUSIC]\n\n5\n00:00:08.625 --> 00:00:10.764\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:10.764 --> 00:00:16.780\n&gt;&gt; Welcome back to your\nMicrosoft Server 2012 R2 70-4 series.\n\n7\n00:00:16.780 --> 00:00:18.395\nI'm your show host, Cherokee Boost.\n\n8\n00:00:18.395 --> 00:00:21.771\nIn this episode, we'll continue\ntaking a look on how to implement\n\n9\n00:00:21.771 --> 00:00:23.958\nActive Directory Certificate Services.\n\n10\n00:00:23.958 --> 00:00:28.075\nAnd back with us today, in studios,\nwe have Microsoft expert, Mr. Adam Gordon.\n\n11\n00:00:28.075 --> 00:00:28.777\nHow's it going today, Adam?\n\n12\n00:00:28.777 --> 00:00:34.654\n&gt;&gt; Going well, an AD CS kind of day,\na part five AD CS kind of day, actually.\n\n13\n00:00:34.654 --> 00:00:35.811\n&gt;&gt; Yes, I know.\n&gt;&gt; So it's an extended day,\n\n14\n00:00:35.811 --> 00:00:36.413\nmultiple parts.\n\n15\n00:00:36.413 --> 00:00:39.050\nSo we're gonna continue,\npick up where we left off.\n\n16\n00:00:39.050 --> 00:00:42.552\nAnd go right back into our\ndemonstration environment.\n\n17\n00:00:42.552 --> 00:00:47.008\nWe were taking a look at or just finished\ntaking a look at in our last episode how\n\n18\n00:00:47.008 --> 00:00:50.920\nwe used PowerShell to install and\nconfigure an AD CS root enterprise\n\n19\n00:00:50.920 --> 00:00:55.543\nroot CA, along with specifying all of\nthe bells and whistles that go with that.\n\n20\n00:00:55.543 --> 00:00:58.584\nAnd we're just taking a quick look in the\nconsole to make sure everything was up and\n\n21\n00:00:58.584 --> 00:00:59.477\nrunning the right way.\n\n22\n00:00:59.477 --> 00:01:01.928\nSo if we go back in there,\nwe're gonna pick up from that point.\n\n23\n00:01:01.928 --> 00:01:05.984\nAnd you'll see that in\nthe root environment here,\n\n24\n00:01:05.984 --> 00:01:09.863\nin our plab DM01 CA,\nwe do have our templates.\n\n25\n00:01:09.863 --> 00:01:13.471\nWe can tell it's an enterprise CA because\nwe do have our certificate templates\n\n26\n00:01:13.471 --> 00:01:14.136\nlisted here.\n\n27\n00:01:14.136 --> 00:01:17.471\nIf it was a standalone CA we\nwould not see those templates.\n\n28\n00:01:17.471 --> 00:01:21.304\nAnd we see that aside from\nthe normal templates we have, and\n\n29\n00:01:21.304 --> 00:01:26.365\nalmost all of them here are the standard\nones that would be there out of the box,\n\n30\n00:01:26.365 --> 00:01:30.427\nI've actually added two templates\nin that are going to be those\n\n31\n00:01:30.427 --> 00:01:34.516\ntwo that I'm highlighting there\nthat are going to be special.\n\n32\n00:01:34.516 --> 00:01:37.362\nAnd we'll talk about why they're special,\nwhere they come from, and\n\n33\n00:01:37.362 --> 00:01:38.272\nhow we get them there.\n\n34\n00:01:38.272 --> 00:01:41.668\nI demoed this in one of our prior\nepisodes when we did our walkthrough and\n\n35\n00:01:41.668 --> 00:01:44.954\nlooked at the console and showed you\nhow to go into manage templates,\n\n36\n00:01:44.954 --> 00:01:47.124\nconfigure them, and also publish them out.\n\n37\n00:01:47.124 --> 00:01:49.652\nWe're going to revisit those\nsteps now just to go a little bit\n\n38\n00:01:49.652 --> 00:01:51.992\ndeeper on the configuration\nof one of these templates.\n\n39\n00:01:51.992 --> 00:01:57.553\nI took the secure user template that I've\ncreated here from the user template.\n\n40\n00:01:57.553 --> 00:02:02.410\nSo I made a copy of the user template,\nmodified it, made several changes to it,\n\n41\n00:02:02.410 --> 00:02:05.391\nand then renamed it, and\nthen published it out.\n\n42\n00:02:05.391 --> 00:02:08.438\nAnd then I took an existing template,\ncalled the key recovery agent template.\n\n43\n00:02:08.438 --> 00:02:12.797\nNo modification, just simply issued\nit out so that we could then use that\n\n44\n00:02:12.797 --> 00:02:17.166\ntemplate to issue a certificate,\nwhich we are in the middle of issuing.\n\n45\n00:02:17.166 --> 00:02:20.589\nWe're gonna come back and take a look, but\nI have pending certificate right here.\n\n46\n00:02:20.589 --> 00:02:24.004\nThat is from that key\nrecovery agent template.\n\n47\n00:02:24.004 --> 00:02:26.153\nSo we're gonna go through and\nissue this out and\n\n48\n00:02:26.153 --> 00:02:29.929\nwalk through the process of exporting and\nimporting and do what we need to do there.\n\n49\n00:02:29.929 --> 00:02:34.101\nBut let's start by just taking a look at\nhow we modify this user template copy and\n\n50\n00:02:34.101 --> 00:02:36.858\ncome up with what's called\na secure user template.\n\n51\n00:02:36.858 --> 00:02:39.747\nSo I went in here to\nthe certificate template area.\n\n52\n00:02:39.747 --> 00:02:40.493\nI went to manage.\n\n53\n00:02:40.493 --> 00:02:44.068\nThis brings up our separate certificate\ntemplate console, as you can see here.\n\n54\n00:02:44.068 --> 00:02:46.087\nAnd what I did is, I came down here.\n\n55\n00:02:46.087 --> 00:02:51.317\nObviously, you would go look for whichever\ntemplate that exists that you want to use.\n\n56\n00:02:51.317 --> 00:02:53.295\nI said I'm gonna focus\non the user template.\n\n57\n00:02:53.295 --> 00:02:56.793\nYou may choose to focus on IPsec or\nwhatever template's there.\n\n58\n00:02:56.793 --> 00:03:00.883\nSo whatever template you would use,\nyou're gonna find it, right-click.\n\n59\n00:03:00.883 --> 00:03:05.074\nAnd we did talk in our last episode when\nwe did this about the fact that normally\n\n60\n00:03:05.074 --> 00:03:09.786\nfrom a best practice perspective, while\nwe can right-click, go to Properties, and\n\n61\n00:03:09.786 --> 00:03:12.522\ncertainly modify perhaps\naspects of a template.\n\n62\n00:03:12.522 --> 00:03:15.825\nI said version one template's\nthe only thing we could modify would\n\n63\n00:03:15.825 --> 00:03:19.848\nbe the permissions on the security tab\nunless we copy or duplicate the template.\n\n64\n00:03:19.848 --> 00:03:22.299\nThen we can open up and\nmodify any of those properties.\n\n65\n00:03:22.299 --> 00:03:23.320\nAnd I showed you how that works.\n\n66\n00:03:23.320 --> 00:03:25.325\nThe fact everything is grayed out.\n\n67\n00:03:25.325 --> 00:03:30.040\nSo different versions of templates,\nremember there are four versions, right,\n\n68\n00:03:30.040 --> 00:03:31.077\nv1 through v4.\n\n69\n00:03:31.077 --> 00:03:34.767\nThe different versions of templates\nhave different permissions and\n\n70\n00:03:34.767 --> 00:03:38.973\ndifferent abilities associated with\nthem natively as they're locked down.\n\n71\n00:03:38.973 --> 00:03:41.998\nAnd then if we right-click and\nduplicate, we get access to edit any or\n\n72\n00:03:41.998 --> 00:03:42.884\nall of those areas.\n\n73\n00:03:42.884 --> 00:03:44.695\nYou wanna just keep that in mind.\n\n74\n00:03:44.695 --> 00:03:49.452\nSo I wanted to make changes to this\ntemplate that were more extensive than\n\n75\n00:03:49.452 --> 00:03:51.643\njust security related changes.\n\n76\n00:03:51.643 --> 00:03:54.514\nAnd as a result, instead of going to\nProperties I duplicated the template.\n\n77\n00:03:54.514 --> 00:03:58.122\nSo I did that,\nwhen you duplicate it it pops up and\n\n78\n00:03:58.122 --> 00:04:02.801\nevery one of these tabs is now open and\navailable for me to edit.\n\n79\n00:04:02.801 --> 00:04:08.005\nAnd so I went through and\nmade a series of changes to this template.\n\n80\n00:04:08.005 --> 00:04:08.830\nHere we go.\n\n81\n00:04:08.830 --> 00:04:13.010\nMade a series of changes and so\nwhat I did was the following.\n\n82\n00:04:13.010 --> 00:04:16.731\nLet's just come up here and\nwhere is secure user?\n\n83\n00:04:16.731 --> 00:04:23.222\nIt's back down here, so,\nAnd notice, by the way,\n\n84\n00:04:23.222 --> 00:04:28.492\njust before I do this that the user\ntemplate itself is a version one template.\n\n85\n00:04:28.492 --> 00:04:30.232\nWe can see that right there.\n\n86\n00:04:30.232 --> 00:04:34.889\nAnd notice that the secure user template\nis a version two because when I duplicate\n\n87\n00:04:34.889 --> 00:04:39.754\nthe template and make changes to it, and I\nchange a whole bunch of different things,\n\n88\n00:04:39.754 --> 00:04:42.725\nit automatically becomes\na version two template.\n\n89\n00:04:42.725 --> 00:04:47.182\nSo I've created out of a version one\na version two template, simply by making\n\n90\n00:04:47.182 --> 00:04:51.586\nmodifications and the changes just so\nyou can see that and are aware of that.\n\n91\n00:04:51.586 --> 00:04:53.399\nAll right, so I'm gonna go in here and\n\n92\n00:04:53.399 --> 00:04:56.812\njust take a look at properties that\nare associated with this template.\n\n93\n00:04:56.812 --> 00:05:00.489\nAnd we can see that although again\nthings are now grayed out because\n\n94\n00:05:00.489 --> 00:05:02.468\nI've already named the template.\n\n95\n00:05:02.468 --> 00:05:04.364\nI can't modify the name once I name it.\n\n96\n00:05:04.364 --> 00:05:07.498\nBut things like validity period\nis still available to me.\n\n97\n00:05:07.498 --> 00:05:10.812\nI can modify that whether I\nwanna publish the certificate in\n\n98\n00:05:10.812 --> 00:05:13.465\nthe Active Directory compatibility area,\nand\n\n99\n00:05:13.465 --> 00:05:17.927\nspecify the compatibility levels for\nthe CA and the recipients are available.\n\n100\n00:05:17.927 --> 00:05:22.880\nI have different options here going all\nthe way up to Windows 8.1 12 R2 all\n\n101\n00:05:22.880 --> 00:05:26.346\nthe way back to XP and\nServer 2003, as you can see.\n\n102\n00:05:26.346 --> 00:05:27.953\nSo I have that capability.\n\n103\n00:05:27.953 --> 00:05:29.357\nRequest handling.\n\n104\n00:05:29.357 --> 00:05:34.030\nI can go in, make changes to and\nspecify settings here.\n\n105\n00:05:34.030 --> 00:05:37.656\nIn the real world, just so you know,\nand I left it at the default here so\n\n106\n00:05:37.656 --> 00:05:42.039\nyou would see it, enroll subject without\nrequiring user input, it is the default.\n\n107\n00:05:42.039 --> 00:05:47.022\nNormally, for a template like this where\nit's gonna go to a user, and I'm gonna\n\n108\n00:05:47.022 --> 00:05:51.860\nshow you how to link this to group policy\nand publish this template certificate\n\n109\n00:05:51.860 --> 00:05:56.575\ncapability, or rather the certificate\nwe would issue from this template.\n\n110\n00:05:56.575 --> 00:06:00.959\nWe're gonna take that, and we are going\nto, as I topple sideways, right?\n\n111\n00:06:00.959 --> 00:06:03.443\nThe camera will follow me as I\nfall over while I'm wandering.\n\n112\n00:06:03.443 --> 00:06:04.278\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n113\n00:06:04.278 --> 00:06:07.083\nthat's what happens when you step off\nthe pad that I'm standing on here.\n\n114\n00:06:07.083 --> 00:06:09.467\nI'm on a little elevated platform so\nthat I look taller,\n\n115\n00:06:09.467 --> 00:06:11.561\nbecause I'm actually only\nthis big in real life.\n\n116\n00:06:11.561 --> 00:06:13.845\n&gt;&gt; [LAUGH]\n&gt;&gt; So now you're seeing me bigger, but\n\n117\n00:06:13.845 --> 00:06:15.947\nI almost toppled off the edge\nwhile I was talking to you.\n\n118\n00:06:15.947 --> 00:06:20.117\nSo what I was saying is here, enrolls\nsubject without requiring any user input,\n\n119\n00:06:20.117 --> 00:06:22.092\nthat setting is the default setting.\n\n120\n00:06:22.092 --> 00:06:26.253\nThat's what you would normally leave and\nthere's really no reason to modify that,\n\n121\n00:06:26.253 --> 00:06:30.412\ncuz then when we link this to group policy\nthrough the auto-enrollment on the user or\n\n122\n00:06:30.412 --> 00:06:33.540\ncomputer side, and we say,\nhey, publish this certificate.\n\n123\n00:06:33.540 --> 00:06:35.284\nMake it available so every user has one.\n\n124\n00:06:35.284 --> 00:06:37.359\nThen automatically,\nthe user gets a certificate.\n\n125\n00:06:37.359 --> 00:06:38.851\nThey're enrolled automatically.\n\n126\n00:06:38.851 --> 00:06:42.418\nWe don't need to prompt them for input,\nand the user gets the benefit of that.\n\n127\n00:06:42.418 --> 00:06:46.063\nSo just wanna make sure you see that and\nyou understand how that works and why.\n\n128\n00:06:46.063 --> 00:06:50.032\nBut we do have the option here to change\nthat setting and prompt the user during\n\n129\n00:06:50.032 --> 00:06:53.593\nenrollment if we want to,\nto provide some additional information.\n\n130\n00:06:53.593 --> 00:06:54.836\nSo it's really up to us to decide.\n\n131\n00:06:54.836 --> 00:06:58.983\nAgain the default would be leave it at\nthe enroll automatically, don't request\n\n132\n00:06:58.983 --> 00:07:03.131\nthe user provide input because, chances\nare good the user may not be prepared for\n\n133\n00:07:03.131 --> 00:07:07.340\nthat, may not know what they have to do,\nmay not realize what we're asking them to\n\n134\n00:07:07.340 --> 00:07:10.165\ndo, hit Cancel and\nnot get the certificate enrolled.\n\n135\n00:07:10.165 --> 00:07:12.434\nAll these things can go wrong\nhypothetically, right, so\n\n136\n00:07:12.434 --> 00:07:13.326\njust be aware of that.\n\n137\n00:07:13.326 --> 00:07:14.935\nAll right, so we do have that.\n\n138\n00:07:14.935 --> 00:07:17.412\nThe cryptography area.\n\n139\n00:07:17.412 --> 00:07:22.005\nThis is where you will specify what the\ncrypt will provide or the CSP will be and\n\n140\n00:07:22.005 --> 00:07:25.197\nwhat the minimum key size will be,\nthings like that.\n\n141\n00:07:25.197 --> 00:07:30.105\nNotice the algorithm's determined by CSP,\nthe cryptographic security provider\n\n142\n00:07:30.105 --> 00:07:33.471\nmodule which is,\nremember the RSA Microsoft provider,\n\n143\n00:07:33.471 --> 00:07:36.712\nthe default one we assigned\nto in this case the root CA.\n\n144\n00:07:36.712 --> 00:07:39.475\nBut we could bar code that or\ndetermine it ourselves.\n\n145\n00:07:39.475 --> 00:07:41.311\nIt would just depend on\nwhat we choose to do.\n\n146\n00:07:41.311 --> 00:07:44.440\nKey attestation,\nwe're not doing anything here.\n\n147\n00:07:44.440 --> 00:07:45.887\nThis is already grayed out.\n\n148\n00:07:45.887 --> 00:07:49.581\nBut I do want to focus on a couple\nof areas that I did modify.\n\n149\n00:07:49.581 --> 00:07:52.454\nI did, as I showed you,\ngo in create a name.\n\n150\n00:07:52.454 --> 00:07:56.167\nRight, so I did rename the template\nfrom user to secure user so just so\n\n151\n00:07:56.167 --> 00:07:57.137\nI know what it is.\n\n152\n00:07:57.137 --> 00:08:01.846\nI did go in on the Security tab,\ngo to Authenticated Users which is\n\n153\n00:08:01.846 --> 00:08:06.914\nthe group that catches everybody\nthat comes in and uses the template.\n\n154\n00:08:06.914 --> 00:08:10.914\nAny user in the directory will be a member\nof the Authenticated Users group.\n\n155\n00:08:10.914 --> 00:08:14.424\nAnd the default permissions we talked\nabout in a couple of episodes already is\n\n156\n00:08:14.424 --> 00:08:16.640\nRead, allowing everybody\nto see the template.\n\n157\n00:08:16.640 --> 00:08:19.288\nI also gave Authenticated Users\nthe Auto-Enroll\n\n158\n00:08:19.288 --> 00:08:22.943\npermission because we often have to\ndo this with these templates when\n\n159\n00:08:22.943 --> 00:08:25.412\nwe're gonna use them\nto issue certificates.\n\n160\n00:08:25.412 --> 00:08:28.869\nBecause just simply seeing the template,\nreading it is not enough.\n\n161\n00:08:28.869 --> 00:08:32.394\nIf we want to Auto-Enroll publish\na certificate through Group Policy,\n\n162\n00:08:32.394 --> 00:08:34.660\nmake sure every user\ngets one automatically.\n\n163\n00:08:34.660 --> 00:08:37.890\nIf we don't have the enroll or\nAuto-Enroll permissions assigned,\n\n164\n00:08:37.890 --> 00:08:39.181\nthat's not gonna happen.\n\n165\n00:08:39.181 --> 00:08:42.610\nSo, we do have to come in here and\nspecify these additional permissions.\n\n166\n00:08:42.610 --> 00:08:47.144\nSo I went in, modified the Authenticated\nUsers default permission of read,\n\n167\n00:08:47.144 --> 00:08:51.135\nadded the Auto-Enroll permission and\nallowed that to take place.\n\n168\n00:08:51.135 --> 00:08:54.594\nSo this template will issue certificates\nthat are capable of being used to\n\n169\n00:08:54.594 --> 00:08:55.387\nAuto-Enroll.\n\n170\n00:08:55.387 --> 00:08:58.244\nAnd that's a very important distinction\nthat we want to make sure we're aware of.\n\n171\n00:08:58.244 --> 00:09:01.144\nIf we go back and look at the user\ntemplate and look at the default\n\n172\n00:09:01.144 --> 00:09:04.730\nsettings for security, we'll see that\nAuthenticated Users only has read.\n\n173\n00:09:04.730 --> 00:09:06.347\nThey do not have Auto-Enroll.\n\n174\n00:09:06.347 --> 00:09:10.082\nSo I'm making a change in the status\nof this template specifically.\n\n175\n00:09:10.082 --> 00:09:11.698\nJust so you're aware of that.\n\n176\n00:09:11.698 --> 00:09:13.971\nI also want to see\nsupersede the templates.\n\n177\n00:09:13.971 --> 00:09:16.455\nThis is also another cool\narea that we can use.\n\n178\n00:09:16.455 --> 00:09:20.517\nCertificates issued by this template\nsupersedes certificates issued by all\n\n179\n00:09:20.517 --> 00:09:22.150\ntemplates added to this list.\n\n180\n00:09:22.150 --> 00:09:26.933\nMeaning anything listed here is gonna be\nsuperseded, I'm gonna say, you know what,\n\n181\n00:09:26.933 --> 00:09:29.170\nthat's old, ignore those templates.\n\n182\n00:09:29.170 --> 00:09:31.068\nDon't issue those certificates,\ndon't pay attention to that stuff.\n\n183\n00:09:31.068 --> 00:09:37.645\nPay attention to me because I am, hold on,\nwait, I put it aside, I am, what am I?\n\n184\n00:09:37.645 --> 00:09:38.229\n&gt;&gt; Specialist.\n\n185\n00:09:38.229 --> 00:09:38.784\nStar.\n\n186\n00:09:38.784 --> 00:09:40.020\n&gt;&gt; I'm a star.\n\n187\n00:09:40.020 --> 00:09:42.490\nAll right, so as a result you\nhave to pay attention to me.\n\n188\n00:09:42.490 --> 00:09:45.973\nAnd so since we are doing that,\nI'm gonna keep my star handy and\n\n189\n00:09:45.973 --> 00:09:48.155\nclose by right here so that I have that.\n\n190\n00:09:48.155 --> 00:09:51.164\nSo it's my Cherokee star by the way,\nnot just a star, but it's a special star.\n\n191\n00:09:51.164 --> 00:09:52.236\nIt's a Cherokee star.\n\n192\n00:09:52.236 --> 00:09:57.723\nSo we are adding, I added, you may very\nwell in the world do this as well.\n\n193\n00:09:57.723 --> 00:10:01.239\nI have added the original user\ntemplate here and said hey,\n\n194\n00:10:01.239 --> 00:10:03.823\nsupersede that template, use this new and\n\n195\n00:10:03.823 --> 00:10:08.516\nimproved template called secureUser and\nuse it to issue user certificates.\n\n196\n00:10:08.516 --> 00:10:10.779\nThat doesn't mean we\nare deleting the user template,\n\n197\n00:10:10.779 --> 00:10:12.510\ndoesn't mean we're gonna get rid of it.\n\n198\n00:10:12.510 --> 00:10:14.734\nIt's still there, you'll see it when\nwe go back to the main console,\n\n199\n00:10:14.734 --> 00:10:15.350\nit's in the list.\n\n200\n00:10:15.350 --> 00:10:17.557\nWe're just gonna not\npay attention to it and\n\n201\n00:10:17.557 --> 00:10:21.326\nwe're gonna issue certificates out\nof the secureUser template instead.\n\n202\n00:10:21.326 --> 00:10:24.318\nBecause we wanna have them specify\nthe way we're setting this up and\n\n203\n00:10:24.318 --> 00:10:26.314\nhave them available for auto-enrollment,\n\n204\n00:10:26.314 --> 00:10:29.163\nwhereas the standard user template\nis not configured that way.\n\n205\n00:10:29.163 --> 00:10:33.720\nSo supersedence is very important\nbecause as we create modifications of\n\n206\n00:10:33.720 --> 00:10:38.128\noriginal templates we have to supersede\nthe old ones to enforce the new\n\n207\n00:10:38.128 --> 00:10:39.564\ntemplate being used.\n\n208\n00:10:39.564 --> 00:10:41.812\nBecause remember,\nwe don't go and delete and\n\n209\n00:10:41.812 --> 00:10:44.356\nremove those original\ntemplates from the console.\n\n210\n00:10:44.356 --> 00:10:46.511\nWe could, but\nthat's probably not a good idea,\n\n211\n00:10:46.511 --> 00:10:49.351\nbecause they may be used for\nother things, and there may be other\n\n212\n00:10:49.351 --> 00:10:52.783\nareas in the system that are issuing\ncertificates against those templates.\n\n213\n00:10:52.783 --> 00:10:57.888\nRather we want to supersede it for this\nparticular installation of this template.\n\n214\n00:10:57.888 --> 00:11:00.726\nAnd when we use this template,\nwe want this to be the new standard,\n\n215\n00:11:00.726 --> 00:11:01.550\nnot the original.\n\n216\n00:11:01.550 --> 00:11:05.238\nThat's what supersedence, or\nthe Superseded Templates tab does.\n\n217\n00:11:05.238 --> 00:11:06.747\nIt's blank by default.\n\n218\n00:11:06.747 --> 00:11:10.656\nI clicked Add, all I do here is just I get\na pick list, just choose the template I\n\n219\n00:11:10.656 --> 00:11:13.634\nwanna supersede, or\ntemplates if there's more than one.\n\n220\n00:11:13.634 --> 00:11:14.539\nAnd as a result,\n\n221\n00:11:14.539 --> 00:11:18.440\nI will then be able to ignore those\noriginal ones in favor of the new one.\n\n222\n00:11:18.440 --> 00:11:22.535\nSo just want to make sure you're with\nthat, you see that, you know that and\n\n223\n00:11:22.535 --> 00:11:24.101\nare comfortable with that.\n\n224\n00:11:24.101 --> 00:11:28.255\nAnd then on the Subject Name,\nI made a little tweak here, as well.\n\n225\n00:11:28.255 --> 00:11:31.140\nBuild from the Active Directory\ninformation.\n\n226\n00:11:31.140 --> 00:11:34.066\nSo, subject name,\nformat fully, distinguish name.\n\n227\n00:11:34.066 --> 00:11:35.367\nNotice we have different options here.\n\n228\n00:11:35.367 --> 00:11:36.690\nCommon name or fully distinguished.\n\n229\n00:11:36.690 --> 00:11:40.699\nAnd then the default for the templates\ninclude email name and subject name,\n\n230\n00:11:40.699 --> 00:11:44.030\nand email name will be included\nin the alternate subject name.\n\n231\n00:11:44.030 --> 00:11:48.275\nI deselected those in this area just\nbecause we don't use that in the lab\n\n232\n00:11:48.275 --> 00:11:49.206\nenvironment.\n\n233\n00:11:49.206 --> 00:11:52.800\nYou've seen me make sure I have talked to\nyou about the fact we have to go in and\n\n234\n00:11:52.800 --> 00:11:55.047\nadd email addresses in\ncertain cases to a user,\n\n235\n00:11:55.047 --> 00:11:58.326\nthen use them to validate certain\nthings and we have them available.\n\n236\n00:11:58.326 --> 00:12:02.341\nBut in the lab environment we just don't\nhave email addresses associated with our\n\n237\n00:12:02.341 --> 00:12:03.282\nusers by default.\n\n238\n00:12:03.282 --> 00:12:04.740\nBut in the real world you would.\n\n239\n00:12:04.740 --> 00:12:08.258\nSo in the real world you would\nprobably leave these set up like that,\n\n240\n00:12:08.258 --> 00:12:11.097\njust have them there,\nbecause you would want to use and\n\n241\n00:12:11.097 --> 00:12:14.138\nhave the email address most\nlikely associated with that.\n\n242\n00:12:14.138 --> 00:12:16.345\nI just wanted you to see those and\nunderstand that.\n\n243\n00:12:16.345 --> 00:12:20.633\nIf we look at the original template we\ncopied, just so you can see, you'll\n\n244\n00:12:20.633 --> 00:12:24.936\nsee that on Security as I suggested,\nAuthenticated Users have Read Only.\n\n245\n00:12:24.936 --> 00:12:27.518\nSo notice that they do\nnot have Auto-Enroll, and\n\n246\n00:12:27.518 --> 00:12:29.861\nnotice Auto-Enroll is not even available.\n\n247\n00:12:29.861 --> 00:12:32.232\nBecause we're not able to modify and\n\n248\n00:12:32.232 --> 00:12:36.832\nchange those permissions on beyond\ncertain basic thought processes.\n\n249\n00:12:36.832 --> 00:12:40.423\nAnd notice Subject Name looks very\ndifferent although Include Email is there,\n\n250\n00:12:40.423 --> 00:12:42.792\nRequest Handling is there for\nthe crypto provider.\n\n251\n00:12:42.792 --> 00:12:45.067\nBut notice a lot of the other\ntabs are not available.\n\n252\n00:12:45.067 --> 00:12:48.141\nIt's not until we, remember,\nright-click, duplicate,\n\n253\n00:12:48.141 --> 00:12:51.462\nget full access to the entire template\nto edit it that we see those.\n\n254\n00:12:51.462 --> 00:12:54.627\nAnd then we change that to\na Version 2 as a result of that.\n\n255\n00:12:54.627 --> 00:12:59.064\nSo just wanted to see the logic there and\nhopefully make sure you understand that.\n\n256\n00:12:59.064 --> 00:13:02.403\nAnd then the Key Recovery Agent,\nI just issued this template,\n\n257\n00:13:02.403 --> 00:13:03.986\nI did not modify it in any way.\n\n258\n00:13:03.986 --> 00:13:06.647\nSo you could see where\nthe templates have come from.\n\n259\n00:13:06.647 --> 00:13:11.241\nAnd what I did right-click New,\nCertificate Template to Issue.\n\n260\n00:13:11.241 --> 00:13:16.020\nI just go through my pick list, choose the\ntemplate or templates I wanna bring in.\n\n261\n00:13:16.020 --> 00:13:19.298\nClick OK and then they get popped\nin here and published here, and\n\n262\n00:13:19.298 --> 00:13:20.945\nyou can see that they are there.\n\n263\n00:13:20.945 --> 00:13:24.792\nNotice the original user template is\nstill in the list, I have not deleted it.\n\n264\n00:13:24.792 --> 00:13:28.513\nBut we have set up secureUser to\nsupersede it, just so you know.\n\n265\n00:13:28.513 --> 00:13:30.150\nAll right, so we've done all that.\n\n266\n00:13:30.150 --> 00:13:31.763\nSo you've seen kind of how\nthat whole process works.\n\n267\n00:13:31.763 --> 00:13:33.270\nHopefully that makes sense to you.\n\n268\n00:13:33.270 --> 00:13:37.333\nNow, having done that, we now have\ntwo templates, a secureUser and\n\n269\n00:13:37.333 --> 00:13:38.673\na Key Recovery Agent.\n\n270\n00:13:38.673 --> 00:13:39.289\nSo what can we do with this?\n\n271\n00:13:39.289 --> 00:13:41.366\nWell, so let's take a look.\n\n272\n00:13:41.366 --> 00:13:46.656\nSo with the Group Policy, I mentioned we\nwould use Group Policy to auto publish\n\n273\n00:13:46.656 --> 00:13:51.641\nthe secureUser and/or Key Recovery Agent,\nin this case, secureUser.\n\n274\n00:13:51.641 --> 00:13:55.521\nSo let's look at that first and I'll\nshow you how we issue a certificate and\n\n275\n00:13:55.521 --> 00:13:58.368\nhow we manually intervene for\nthe Key Recovery Agent.\n\n276\n00:13:58.368 --> 00:14:02.532\nLet me go to the other machine here,\nI'm gonna go over to my domain controller.\n\n277\n00:14:02.532 --> 00:14:05.967\nSo I have to go to the Group Policy\nManagement Console to show you how to\n\n278\n00:14:05.967 --> 00:14:09.358\ncreate a policy to auto-publish and\nauto-enroll certificates.\n\n279\n00:14:09.358 --> 00:14:12.398\nI'm here, I've already opened\nup the Group Policy Manager.\n\n280\n00:14:12.398 --> 00:14:15.806\nI've gone to tools,\nGroup policy Management right here.\n\n281\n00:14:15.806 --> 00:14:22.038\nI've opened that up sitting right here,\ngone into the domain, practicelabs.com.\n\n282\n00:14:22.038 --> 00:14:24.635\nGone to one of my OUs,\nit wouldn't really matter where I go to,\n\n283\n00:14:24.635 --> 00:14:27.483\nI could have done this at the domain\nlevel as well, doesn't matter.\n\n284\n00:14:27.483 --> 00:14:31.895\nBut I did it on an OU to show you that I\ncan narrowly focus Group Policy at the OU\n\n285\n00:14:31.895 --> 00:14:33.169\nlevel as I choose to.\n\n286\n00:14:33.169 --> 00:14:34.276\nHopefully you're aware of that.\n\n287\n00:14:34.276 --> 00:14:37.559\nIf not, we have a great set of episodes\non group policy, I encourage you\n\n288\n00:14:37.559 --> 00:14:40.567\nto take a look how all that works as\nwe do a heck of an explanation and\n\n289\n00:14:40.567 --> 00:14:42.745\na heck of a job going\nthrough all that with you.\n\n290\n00:14:42.745 --> 00:14:46.209\nAnd here I've created a policy\nthat's gonna be specific just\n\n291\n00:14:46.209 --> 00:14:50.087\nto this OU to allow users or computers,\ndepending on how we set it up.\n\n292\n00:14:50.087 --> 00:14:53.562\nOnly in this OU to have that\nsecureUser certificate or\n\n293\n00:14:53.562 --> 00:14:57.977\nthe benefit of that secureUser\ntemplate auto-enrolled for them.\n\n294\n00:14:57.977 --> 00:15:00.707\nRemember, we said leave\nthe user template in place.\n\n295\n00:15:00.707 --> 00:15:03.360\nCuz we're gonna be issuing\ncertificates against it.\n\n296\n00:15:03.360 --> 00:15:06.313\nBut we may use the subset\nwith the securUser template.\n\n297\n00:15:06.313 --> 00:15:09.541\nThat's why we supersede but\nwe don't delete the original.\n\n298\n00:15:09.541 --> 00:15:11.275\nAnd I explained the logic\nof that to you here and\n\n299\n00:15:11.275 --> 00:15:12.667\nthis is why we're doing it this way.\n\n300\n00:15:12.667 --> 00:15:17.466\nSo I right-clicked on the OU, Create\na Domain, base GPO link it here, name it,\n\n301\n00:15:17.466 --> 00:15:18.185\nI did that.\n\n302\n00:15:18.185 --> 00:15:21.467\nCalled the Certificate Auto-Enrollment,\nyou can see it there.\n\n303\n00:15:21.467 --> 00:15:25.110\nRight-click, edit, just so\nwe know how to get into the Policy Editor.\n\n304\n00:15:25.110 --> 00:15:28.763\nNow I can do the same thing I'm about\nto show you on the user side with\n\n305\n00:15:28.763 --> 00:15:30.142\nthe computer settings.\n\n306\n00:15:30.142 --> 00:15:33.641\nThey are identical in the sense they're in\nthe same place, they mean the same thing.\n\n307\n00:15:33.641 --> 00:15:37.007\nBut because we're doing\na user certificate,\n\n308\n00:15:37.007 --> 00:15:40.468\nsecureUser template,\nI'm gonna to be clear.\n\n309\n00:15:40.468 --> 00:15:44.621\nSo User Configuration,\nI'm going to open up Policies.\n\n310\n00:15:44.621 --> 00:15:47.615\nJust move this over here.\n\n311\n00:15:47.615 --> 00:15:49.747\nGonna go down to\nWindows Settings right here.\n\n312\n00:15:49.747 --> 00:15:54.017\nGonna go to Security Settings and under\nSecurity Settings Public Key Policies\n\n313\n00:15:54.017 --> 00:15:58.352\nright here And although the public key\npolicy settings on the computer side will\n\n314\n00:15:58.352 --> 00:16:01.409\nhave a lot more folders and\nitems associated with them.\n\n315\n00:16:01.409 --> 00:16:05.701\nThe ones that are of interest to us\nthat are the same in both are the ones\n\n316\n00:16:05.701 --> 00:16:08.309\nwe're focused on, which is right here.\n\n317\n00:16:08.309 --> 00:16:12.617\nThe certificate services clients, three\nitems, certificate enrollment policy,\n\n318\n00:16:12.617 --> 00:16:15.263\ncredential roaming,\nand/or auto-enrollment.\n\n319\n00:16:15.263 --> 00:16:18.843\nCredential roaming,\nallows me to have my credentials,\n\n320\n00:16:18.843 --> 00:16:22.433\nmy script gets downloaded to me,\nwherever I log in from.\n\n321\n00:16:22.433 --> 00:16:26.198\nMeaning that if I'm on a different\nmachine, I'll have them pulled down,\n\n322\n00:16:26.198 --> 00:16:27.823\nalmost like a roaming profile.\n\n323\n00:16:27.823 --> 00:16:29.108\nNot the same thing, but\n\n324\n00:16:29.108 --> 00:16:33.226\nlike a roaming profile in the sense that\nour credentials can follow us around\n\n325\n00:16:33.226 --> 00:16:36.978\nthe system as opposed to being\nanchored in cache on one machine only.\n\n326\n00:16:36.978 --> 00:16:39.353\nSo just so you understand\nthat we have that capability,\n\n327\n00:16:39.353 --> 00:16:41.382\nalthough we're not focused\non that right now.\n\n328\n00:16:41.382 --> 00:16:45.045\nBut Certificate Services Client\nAutoenrollment is where I went into.\n\n329\n00:16:45.045 --> 00:16:46.485\nJust double-click here.\n\n330\n00:16:46.485 --> 00:16:50.545\nThis would be disabled by default, I've\nsimply gone in and enabled it already.\n\n331\n00:16:50.545 --> 00:16:54.801\nJust so you know, actually not configured\nit's the default setting I should say.\n\n332\n00:16:54.801 --> 00:16:58.309\nAnd when I enable it, I have three\noptions, renew expired certificates,\n\n333\n00:16:58.309 --> 00:17:00.049\nupdate pending and remove revoked.\n\n334\n00:17:00.049 --> 00:17:02.509\nI checked that off,\nnot checked off by default.\n\n335\n00:17:02.509 --> 00:17:06.024\nUpdate certificates that use\ncertificate templates, check that off.\n\n336\n00:17:06.024 --> 00:17:10.258\nAnd then, displays your notifications for\nexpiring certificates and user and\n\n337\n00:17:10.258 --> 00:17:13.559\nmachine my store tell users\nthey have expired certificates.\n\n338\n00:17:13.559 --> 00:17:16.293\nPop a little warning up and say,\na little dialog balloon, hey,\n\n339\n00:17:16.293 --> 00:17:17.878\nyou should do something about this.\n\n340\n00:17:17.878 --> 00:17:20.103\nSo we have all that, we've set that up.\n\n341\n00:17:20.103 --> 00:17:23.270\nEnroll user and computer certificates\nautomatically is what this does.\n\n342\n00:17:23.270 --> 00:17:27.570\nRemember we set the template up to allow\nauto enrollment without user intervention.\n\n343\n00:17:27.570 --> 00:17:31.155\nSo by setting these settings and having\nthat, the user can automatically get\n\n344\n00:17:31.155 --> 00:17:35.034\na certificate and be enrolled and have\nthat certificate auto-enrolled for them.\n\n345\n00:17:35.034 --> 00:17:38.493\nIf we do the same thing up on\nthe computer setting, just up here,\n\n346\n00:17:38.493 --> 00:17:40.172\nif could just go up take a look.\n\n347\n00:17:40.172 --> 00:17:44.968\nGo to Windows, open this up,\nsecurity settings right here.\n\n348\n00:17:44.968 --> 00:17:48.700\nAgain, a little bit more on the security\nsettings side, go to public key policies.\n\n349\n00:17:48.700 --> 00:17:52.846\nAs I said, there are more things here,\nbecause we have more options,\n\n350\n00:17:52.846 --> 00:17:57.275\nthings like BitLocker is set up here,\nand all sorts of additional items for\n\n351\n00:17:57.275 --> 00:17:59.411\ncertificates, data protection.\n\n352\n00:17:59.411 --> 00:18:01.109\nWe're not worried about any\nof those things right now.\n\n353\n00:18:01.109 --> 00:18:04.030\nThose are important to know about,\nbut those are other discussion for\n\n354\n00:18:04.030 --> 00:18:04.780\nother episodes.\n\n355\n00:18:04.780 --> 00:18:08.408\nBut we come in here, client certificate\nservices or certificate services client,\n\n356\n00:18:08.408 --> 00:18:09.336\nauto-enrollment.\n\n357\n00:18:09.336 --> 00:18:13.444\nAgain, same idea, the only difference\nis that we're auto-enrolling for\n\n358\n00:18:13.444 --> 00:18:15.252\nthe computer as opposed to user.\n\n359\n00:18:15.252 --> 00:18:17.238\nSo you can see here choose Enable.\n\n360\n00:18:17.238 --> 00:18:19.131\nAlmost the same identical settings.\n\n361\n00:18:19.131 --> 00:18:21.973\nThe only difference is that check\nbox at the bottom to note and\n\n362\n00:18:21.973 --> 00:18:23.827\nwarn me about expiring certificates.\n\n363\n00:18:23.827 --> 00:18:27.725\nActually, if you paid attention to it on\nthe user side, it does cover both user and\n\n364\n00:18:27.725 --> 00:18:29.663\ncomputer certificates in the My Store.\n\n365\n00:18:29.663 --> 00:18:31.193\nSo we just don't see that one here.\n\n366\n00:18:31.193 --> 00:18:34.506\nAnd we do have the two to renew and\nupdate, so those are available.\n\n367\n00:18:34.506 --> 00:18:37.048\nSo I can set that up here.\n\n368\n00:18:37.048 --> 00:18:41.535\nAnd then once I've done that and I apply\nthe policy, I would just go to the command\n\n369\n00:18:41.535 --> 00:18:45.628\nline, let's say, to do a gpupdate\n/force to force the policy refresh,\n\n370\n00:18:45.628 --> 00:18:50.315\ninstead of waiting for everybody to log\noff, log back on, shut down,start up etc.\n\n371\n00:18:50.315 --> 00:18:54.757\nOr I could wait for the default policy\nrefresh timeline, that would be something\n\n372\n00:18:54.757 --> 00:18:58.561\nlike 90 minutes to 120 minutes\napproximately with the off set.\n\n373\n00:18:58.561 --> 00:18:59.751\nSo we could do either one of those.\n\n374\n00:18:59.751 --> 00:19:02.158\nHowever we get there,\nthe policy gets applied eventually.\n\n375\n00:19:02.158 --> 00:19:05.939\nSo I've taken care of that piece of\nthe puzzle, linking the template for\n\n376\n00:19:05.939 --> 00:19:10.286\nauto enrollment to the policy that will\npush auto enrollment settings down to all.\n\n377\n00:19:10.286 --> 00:19:13.061\nIn this case,\nusers associated with the engineering OU.\n\n378\n00:19:13.061 --> 00:19:15.730\nSo hopefully that makes sense to you,\nand you see how that would work.\n\n379\n00:19:15.730 --> 00:19:19.688\nAnd then, of course, users logging in from\nthat point forward would automatically be\n\n380\n00:19:19.688 --> 00:19:22.903\nenrolled, if they have not already\nbeen enrolled for a certificate.\n\n381\n00:19:22.903 --> 00:19:26.282\nAnd that will get bound to their\nuser profile and their credential.\n\n382\n00:19:26.282 --> 00:19:29.982\nAnd then they'll have that capability and\nthat certificate will auto-renew and\n\n383\n00:19:29.982 --> 00:19:32.999\ndo all of the things it has to do\nwithout the user getting in the way.\n\n384\n00:19:32.999 --> 00:19:34.612\nSo that parts all been done.\n\n385\n00:19:34.612 --> 00:19:35.962\nSo that's on the domain controller, right?\n\n386\n00:19:35.962 --> 00:19:40.057\nSo let's minimize that, come back to\nour CA, our Certificate Authority.\n\n387\n00:19:40.057 --> 00:19:43.009\nAnd so now,\nwhat we wanna take a look at is,\n\n388\n00:19:43.009 --> 00:19:47.205\nhow do we actually issue\na certificate using this template?\n\n389\n00:19:47.205 --> 00:19:50.911\nWe set up the secure user template to\ndo auto-enrollment, auto-issuance, so\n\n390\n00:19:50.911 --> 00:19:52.555\nwe're already taken care of that.\n\n391\n00:19:52.555 --> 00:19:55.520\nI'm gonna focus now on\nthe Key Recovery Agent template,\n\n392\n00:19:55.520 --> 00:19:58.360\nwhich is one that would be\nused to issue certificates to\n\n393\n00:19:58.360 --> 00:20:02.218\nusers we designate with the special\nstatus to active recovery scenario.\n\n394\n00:20:02.218 --> 00:20:07.475\nHave a set of, or access to set of master\nkeys that could be used to recover data,\n\n395\n00:20:07.475 --> 00:20:09.676\nor unencrypt data, to see data.\n\n396\n00:20:09.676 --> 00:20:13.987\nAnd if that user that owns the data has\ndisappeared, we've deleted their account,\n\n397\n00:20:13.987 --> 00:20:17.568\nsomething's gone wrong, the recovery\nagent allows us to go back in,\n\n398\n00:20:17.568 --> 00:20:20.381\npull that forward, and\nan act in a recovery capacity.\n\n399\n00:20:20.381 --> 00:20:22.771\nSo it's an important\nsubset of functionality.\n\n400\n00:20:22.771 --> 00:20:26.073\nI've published the template as you saw,\nit is available here.\n\n401\n00:20:26.073 --> 00:20:28.706\nHow do we use that to issue\na certificate is the question.\n\n402\n00:20:28.706 --> 00:20:30.307\nYou're going to ask the question.\n\n403\n00:20:30.307 --> 00:20:32.758\n&gt;&gt; How are we going to issue\nthe certificate, Adam?\n\n404\n00:20:32.758 --> 00:20:34.268\n&gt;&gt; Awesome question, thank you.\n\n405\n00:20:34.268 --> 00:20:34.816\nYou know what?\n\n406\n00:20:34.816 --> 00:20:37.352\nAs a matter of fact, for you because\nyou asked such a great question,\n\n407\n00:20:37.352 --> 00:20:38.155\nI have a star for you.\n\n408\n00:20:38.155 --> 00:20:41.396\n&gt;&gt; Interesting fact,\nI actually have a star named Cherokee.\n\n409\n00:20:41.396 --> 00:20:44.860\n&gt;&gt; You have a Cherokee star?\n\n410\n00:20:44.860 --> 00:20:47.317\nAnd you named it yourself.\n&gt;&gt; I did not, it was a gift.\n\n411\n00:20:47.317 --> 00:20:49.454\n&gt;&gt; Somebody gifted you star?\n\n412\n00:20:49.454 --> 00:20:50.705\n&gt;&gt; Yeah.\n&gt;&gt; That is very nice.\n\n413\n00:20:50.705 --> 00:20:51.678\n&gt;&gt; Yeah.\n&gt;&gt; That is cool.\n\n414\n00:20:51.678 --> 00:20:54.114\n&gt;&gt; [LAUGH]\n&gt;&gt; Were they a bright shiny person.\n\n415\n00:20:54.114 --> 00:20:54.939\n&gt;&gt; Sure.\n&gt;&gt; Okay, because you\n\n416\n00:20:54.939 --> 00:20:56.506\nknow bright shiny people gift stars.\n\n417\n00:20:56.506 --> 00:20:58.756\nNo pressure.\n\n418\n00:20:58.756 --> 00:20:59.347\nNothing there.\n\n419\n00:20:59.347 --> 00:21:01.240\nI'm just saying I'm bright and shiny.\n\n420\n00:21:01.240 --> 00:21:03.020\nI did not gift you the star,\nit was not me.\n\n421\n00:21:03.020 --> 00:21:05.060\nAlthough I just gave you one, so\nyou can kinda say I did that.\n\n422\n00:21:05.060 --> 00:21:07.005\nAll right, so you're gonna give\nthat back to me later on in\n\n423\n00:21:07.005 --> 00:21:07.841\nthe week-\n&gt;&gt; Sure.\n\n424\n00:21:07.841 --> 00:21:08.991\n&gt;&gt; Cuz I wanna be able to\nuse my Cherokee star again.\n\n425\n00:21:08.991 --> 00:21:11.867\nBut only if I do something really cool and\nearn the right to have it back.\n\n426\n00:21:11.867 --> 00:21:12.495\n&gt;&gt; All right, you have to earn it back.\n\n427\n00:21:12.495 --> 00:21:14.981\n&gt;&gt; So you're gonna have to\ntell me if I did a good job.\n\n428\n00:21:14.981 --> 00:21:16.816\n&gt;&gt; I will.\n&gt;&gt; Maybe award me with the star.\n\n429\n00:21:16.816 --> 00:21:20.663\nLet's get back to what we were doing,\nKey Recovery Agent.\n\n430\n00:21:20.663 --> 00:21:23.224\nWe've published a template,\nnow let's put that template to work.\n\n431\n00:21:23.224 --> 00:21:26.857\nSo what we're going to do is open\nup a separate MMC, load the local\n\n432\n00:21:26.857 --> 00:21:31.367\ncertificate capability here, so the\ncertificate store for the local machine.\n\n433\n00:21:31.367 --> 00:21:34.860\nRemember we're on the CA, we're just doing\nthis all in one place to make it easy.\n\n434\n00:21:34.860 --> 00:21:38.879\nWe're gonna then issue our make\na certificate request from that MMC and\n\n435\n00:21:38.879 --> 00:21:42.968\nwe're gonna see that, cuz I've\nalready got that kind of halfway done.\n\n436\n00:21:42.968 --> 00:21:45.555\nRemember, I hinted at the fact\nthat we have the certificate\n\n437\n00:21:45.555 --> 00:21:49.249\nkinda sitting here under pending requests,\nand we're gonna do something with it.\n\n438\n00:21:49.249 --> 00:21:50.914\nSo I've already done the first\npart of that process,\n\n439\n00:21:50.914 --> 00:21:52.176\nI'm gonna walk you through it quickly.\n\n440\n00:21:52.176 --> 00:21:53.599\nBut then we're gonna come in and\n\n441\n00:21:53.599 --> 00:21:56.872\ncomplete the issuance process by\nintervening with the certificate, and\n\n442\n00:21:56.872 --> 00:22:00.641\nmanually issuing the certificate, cuz it's\nkind of in a pending status right now.\n\n443\n00:22:00.641 --> 00:22:03.058\nSo what I did is I went\nto the run line here.\n\n444\n00:22:05.188 --> 00:22:10.583\nAnd there we go, machine is running\na little slow this morning.\n\n445\n00:22:10.583 --> 00:22:12.930\nAnd I'll talk slowly.\n\n446\n00:22:12.930 --> 00:22:16.029\nI went to the run line and MMC, so I just\nhit Enter there to bring up a blank or\n\n447\n00:22:16.029 --> 00:22:16.543\nempty MMC.\n\n448\n00:22:16.543 --> 00:22:22.062\n&gt;&gt; I don't think the machine can\nrival your caffeine consumption,\n\n449\n00:22:22.062 --> 00:22:23.775\nthat's what it is.\n\n450\n00:22:23.775 --> 00:22:25.632\n&gt;&gt; I think the machine is just\nslacking off is what I think\n\n451\n00:22:25.632 --> 00:22:26.594\n&gt;&gt; All right, so\n\n452\n00:22:26.594 --> 00:22:28.768\nFile &gt; Add/Remove Snap-in.\n\n453\n00:22:28.768 --> 00:22:32.103\nYou've seen us do this before in other\nepisodes and other demonstrations, but\n\n454\n00:22:32.103 --> 00:22:34.862\nit's good to review sometimes\njust to show you what's going on.\n\n455\n00:22:34.862 --> 00:22:39.363\nI chose the Certificate snap-in which\nwill focus on the local machine,\n\n456\n00:22:39.363 --> 00:22:42.033\nmy local user account, things like that.\n\n457\n00:22:42.033 --> 00:22:42.755\nI click Add.\n\n458\n00:22:42.755 --> 00:22:43.850\nI get prompted here.\n\n459\n00:22:43.850 --> 00:22:46.885\nWhere do you want that certificate\nsnap-in to be focused?\n\n460\n00:22:46.885 --> 00:22:49.509\nI chose my user account, but\nnotice service or computer account.\n\n461\n00:22:49.509 --> 00:22:51.148\nSo I'm gonna do my user account.\n\n462\n00:22:51.148 --> 00:22:52.686\nI hit Finish, I just loaded that up.\n\n463\n00:22:52.686 --> 00:22:55.224\nI'm gonna cancel out of here,\ncuz I already have it up and running.\n\n464\n00:22:55.224 --> 00:22:58.303\nSo I did this, did that, let's close that.\n\n465\n00:22:58.303 --> 00:23:04.598\nAnd I have that MMC sitting right here.\n\n466\n00:23:04.598 --> 00:23:09.321\nAnd what I did is, I came into\nthe Certificate area, Personal,\n\n467\n00:23:09.321 --> 00:23:14.667\nright-clicked on here, went to\nAll Tasks &gt; Request New Certificate.\n\n468\n00:23:14.667 --> 00:23:18.354\nAnd this is the process that I'm in\nthe middle of right now that you saw is\n\n469\n00:23:18.354 --> 00:23:21.449\nthe pending certificate, but\njust to show you what we did.\n\n470\n00:23:21.449 --> 00:23:27.520\nAround this, click Next,\nspecify the enrollment policies.\n\n471\n00:23:27.520 --> 00:23:30.239\nThere's only one by default for\nActive Directory enrollment,\n\n472\n00:23:30.239 --> 00:23:33.507\nI may have others if I've added other\nones in, but for now we're just gonna do\n\n473\n00:23:33.507 --> 00:23:36.405\nthe Active Directory enrollment policy,\nso we'll see that here.\n\n474\n00:23:36.405 --> 00:23:37.552\nClick Next.\n\n475\n00:23:37.552 --> 00:23:39.469\nIt's kinda hard to see,\nbut it is highlighted.\n\n476\n00:23:39.469 --> 00:23:42.574\nThere's like a little blue kind\nof rectangle surrounding it.\n\n477\n00:23:42.574 --> 00:23:44.411\nSo it is highlighted,\nI've made that choice.\n\n478\n00:23:44.411 --> 00:23:45.722\nClick Next.\n\n479\n00:23:45.722 --> 00:23:51.044\nI do have a list of all the templates that\nare currently available that I can use.\n\n480\n00:23:51.044 --> 00:23:53.806\nThese are the templates that\nare published in the CA.\n\n481\n00:23:53.806 --> 00:23:57.417\nNotice that secure user is there,\nalthough we're not gonna use that one.\n\n482\n00:23:57.417 --> 00:24:01.058\nNotice that some of the other ones are\nthere, including my key recovery agent.\n\n483\n00:24:01.058 --> 00:24:02.993\nAnd so\nI would chose the appropriate template.\n\n484\n00:24:02.993 --> 00:24:05.546\nAnd I can just see some\nbasic details about it here.\n\n485\n00:24:05.546 --> 00:24:10.551\nTells me what the key usage is for,\nvalidity period, basic information.\n\n486\n00:24:10.551 --> 00:24:12.030\nI can click on properties.\n\n487\n00:24:12.030 --> 00:24:15.672\nYou'll see some basic stuff about it,\nif I had to for any reason go in and\n\n488\n00:24:15.672 --> 00:24:18.859\nkind of see what's there in case\nyou haven't seen it before.\n\n489\n00:24:18.859 --> 00:24:23.616\nI can open up any of these things and\nsee the cryptographic provider,\n\n490\n00:24:23.616 --> 00:24:27.727\nthe key options, the key type,\nvarious things like that.\n\n491\n00:24:27.727 --> 00:24:30.355\nIt's 2048-bit, etc.\n\n492\n00:24:30.355 --> 00:24:33.210\nWhat is the CA of record,\nwe could see that.\n\n493\n00:24:33.210 --> 00:24:34.408\nIt's an Enterprise root, right.\n\n494\n00:24:34.408 --> 00:24:38.403\nThe signature, if I have a signing\ncertificate I can find all that,\n\n495\n00:24:38.403 --> 00:24:40.660\nso all that's available to me there.\n\n496\n00:24:40.660 --> 00:24:44.884\nSo I've done that, I've clicked enroll,\nthat will then go through, issue\n\n497\n00:24:44.884 --> 00:24:49.060\na certificate request but that certificate\nrequest is in a pending status.\n\n498\n00:24:49.060 --> 00:24:51.640\nSo, let me just clean up\nthis empty console here and\n\n499\n00:24:51.640 --> 00:24:53.030\nget rid of that real quick.\n\n500\n00:24:53.030 --> 00:24:55.602\nSo then what I have to\ndo is minimize this.\n\n501\n00:24:55.602 --> 00:24:59.781\nI come back over here and in the CA, which\nis why we're doing it all in one machine,\n\n502\n00:24:59.781 --> 00:25:01.731\nso it's easier to get back and forth.\n\n503\n00:25:01.731 --> 00:25:05.255\nAnd you can see that I now have this\ncertificate which is sitting here and\n\n504\n00:25:05.255 --> 00:25:06.624\nit's in a pending status.\n\n505\n00:25:06.624 --> 00:25:10.003\nThis is the point at which we're just\ngonna pick back up the demo based on all\n\n506\n00:25:10.003 --> 00:25:12.430\nthe pre-work I did and\nkinda walk through from here.\n\n507\n00:25:12.430 --> 00:25:16.860\nAnd so now the certificate administrator\nor manager or the CA administrator,\n\n508\n00:25:16.860 --> 00:25:21.824\nwhatever you wanna call them, has to come\nalong and say, there is a pending request,\n\n509\n00:25:21.824 --> 00:25:23.183\nlet me figure that out.\n\n510\n00:25:23.183 --> 00:25:25.463\nNow, let's think about the logic of this.\n\n511\n00:25:25.463 --> 00:25:28.845\nWhy would I, maybe Cherokee you could help\nme with this for just a second as I just\n\n512\n00:25:28.845 --> 00:25:31.743\nmove my pad back up here a little bit so\nI could stand a little closer.\n\n513\n00:25:31.743 --> 00:25:34.703\nSo let's think about the fact that\ncertain certificates we said could\n\n514\n00:25:34.703 --> 00:25:37.475\nbe auto-enrolled,\nessentially are automatically approved.\n\n515\n00:25:37.475 --> 00:25:40.044\nWe don't have to get in the way of\nthem and do anything with them.\n\n516\n00:25:40.044 --> 00:25:43.155\nBut other certificates like this one we're\nin the middle of working with are not\n\n517\n00:25:43.155 --> 00:25:43.769\nset to do that.\n\n518\n00:25:43.769 --> 00:25:47.304\nWe actually have set it up so\nthat it is gonna require intervention\n\n519\n00:25:47.304 --> 00:25:51.482\nfrom a more senior person who's gonna\nhave to say, essentially, yes, no,\n\n520\n00:25:51.482 --> 00:25:53.759\nthumbs up, thumbs down, issue or deny.\n\n521\n00:25:53.759 --> 00:25:57.625\nSo from your perspective, what would be\nsome of the drivers, the reasons why,\n\n522\n00:25:57.625 --> 00:26:01.089\nfor something like this certificate\ntemplate, a key recovery agent,\n\n523\n00:26:01.089 --> 00:26:04.629\nwhich is what we're doing, why would\nwe want to have that set to manual?\n\n524\n00:26:04.629 --> 00:26:08.615\nWhy would we want somebody to get in there\nand say it's a good idea to issue or\n\n525\n00:26:08.615 --> 00:26:12.795\nnot as oppose to just giving anybody who\nrequests it the right to automatically\n\n526\n00:26:12.795 --> 00:26:13.327\nget one?\n\n527\n00:26:13.327 --> 00:26:17.107\n&gt;&gt; Well, I think the first thing that\nwould come to my mind would be for\n\n528\n00:26:17.107 --> 00:26:21.495\nif any reason someone were able to\ncompromise the system and request multiple\n\n529\n00:26:21.495 --> 00:26:26.107\ncertificates you would be able to get a\nhandle on it without them auto enrolling.\n\n530\n00:26:26.107 --> 00:26:30.172\nIf they were able to compromise your\nsystem you would actually be seeing, hey,\n\n531\n00:26:30.172 --> 00:26:34.419\nI have 50 certificates from these users\nthat you know aren't working right now or\n\n532\n00:26:34.419 --> 00:26:36.989\nthey're on leave or\nsomething random like that.\n\n533\n00:26:36.989 --> 00:26:40.695\nYou just have more interactions so\nyou're more familiar with the environment.\n\n534\n00:26:40.695 --> 00:26:43.045\n&gt;&gt; So oversight, right,\nif we just kind of summarize that?\n\n535\n00:26:43.045 --> 00:26:44.776\nWe want some administrative oversight,\nright?\n\n536\n00:26:44.776 --> 00:26:47.058\n&gt;&gt; Right.\n&gt;&gt; Some control, some level of yes or\n\n537\n00:26:47.058 --> 00:26:48.390\nno and intercede there.\n\n538\n00:26:48.390 --> 00:26:49.645\nSo we think it's a good idea or\n\n539\n00:26:49.645 --> 00:26:52.076\nnot because of all the reasons\nCherokee just described.\n\n540\n00:26:52.076 --> 00:26:53.736\nAnd that's exactly what\nwe're thinking about here.\n\n541\n00:26:53.736 --> 00:26:57.075\nThe reason we put this brake on\nthe process kind of halfway through and\n\n542\n00:26:57.075 --> 00:27:01.219\nsay, whoa, hold on a second, not so fast,\nmay or may not be a good idea but let's\n\n543\n00:27:01.219 --> 00:27:05.076\ntalk about this before we just say yes,\nis we wanna make sure that we're not just\n\n544\n00:27:05.076 --> 00:27:08.935\ngoing off and issuing the certificates to\npeople that are clearly up to no good as\n\n545\n00:27:08.935 --> 00:27:12.945\nyou were saying or may be trying to get up\nto no good if we're not paying attention.\n\n546\n00:27:12.945 --> 00:27:15.383\nSo we want oversight and\nthat's why we're doing this.\n\n547\n00:27:15.383 --> 00:27:16.619\nSo join me back here.\n\n548\n00:27:16.619 --> 00:27:19.703\nAnd all I did by the way\nwhile Cherokee was talking,\n\n549\n00:27:19.703 --> 00:27:22.520\nvery sly on my part,\ndidn't even see me do it.\n\n550\n00:27:22.520 --> 00:27:32.520\n&gt;&gt; [LAUGH]\n\n551\n00:27:34.499 --> 00:27:35.611\n&gt;&gt; Not on my watch, right?\n\n552\n00:27:35.611 --> 00:27:39.156\nWe're not giving that Adam person that\ncertificate, but he's just a joker.\n\n553\n00:27:39.156 --> 00:27:40.917\nWe don't want him having that certificate.\n\n554\n00:27:40.917 --> 00:27:44.241\nSo we're gonna issue this certificate\njust to show you how this works.\n\n555\n00:27:44.241 --> 00:27:47.776\nBut you could understand that as a person\nwho comes in as a CA administrator or\n\n556\n00:27:47.776 --> 00:27:51.421\nas a certificate manager, we would have to\nthen say is this a good idea or not and\n\n557\n00:27:51.421 --> 00:27:53.215\nmake sure we're familiar with that.\n\n558\n00:27:53.215 --> 00:27:54.122\nSo we're gonna issue.\n\n559\n00:27:54.122 --> 00:27:57.136\nSee, it immediately goes out, real quick.\n\n560\n00:27:57.136 --> 00:27:59.736\nGoes from pending over to issued.\n\n561\n00:27:59.736 --> 00:28:01.016\nWe could see it here.\n\n562\n00:28:01.016 --> 00:28:03.814\nWe track it based on the request ID so\nwe could see what that is.\n\n563\n00:28:03.814 --> 00:28:10.451\nIt does have its own, now,\nserial number, it's own unique tracking.\n\n564\n00:28:10.451 --> 00:28:13.185\nHold on one second.\n\n565\n00:28:13.185 --> 00:28:15.298\nThat's what I was trying to do,\n\n566\n00:28:15.298 --> 00:28:19.772\nit's own unique tracking number is\nbeen assigned and it is a longy.\n\n567\n00:28:19.772 --> 00:28:21.008\nThere we go.\n\n568\n00:28:21.008 --> 00:28:23.934\nAlright, so every certificate has\nit's own unique tracking number.\n\n569\n00:28:23.934 --> 00:28:25.879\nThey are different as you can see.\n\n570\n00:28:25.879 --> 00:28:28.769\nWe do have certificate effective date,\nexpiration date.\n\n571\n00:28:28.769 --> 00:28:31.722\nWe do have the certificate\ntemplate that was used so\n\n572\n00:28:31.722 --> 00:28:35.773\nwe can tell this was the key recovery\nagent as you could see there versus\n\n573\n00:28:35.773 --> 00:28:40.734\nthe domain controller certificate you'll\nissue to the domain controller, right?\n\n574\n00:28:40.734 --> 00:28:43.840\nSo we could see all that and\nalso the requester name.\n\n575\n00:28:43.840 --> 00:28:46.583\nI can see who actually made the request.\n\n576\n00:28:46.583 --> 00:28:47.394\nAs you can see,\n\n577\n00:28:47.394 --> 00:28:51.139\nI did PracticeLabsAdministrator as\nopposed to the machine account for\n\n578\n00:28:51.139 --> 00:28:55.585\nthe domain controller that requested the\nother one acting on behalf of the machine.\n\n579\n00:28:55.585 --> 00:28:58.068\nSo we could track all this,\nwe could see what this is.\n\n580\n00:28:58.068 --> 00:28:59.114\nWe could see the certificate here.\n\n581\n00:28:59.114 --> 00:29:02.242\nIf we need to, we can go in,\nwe can revoke it.\n\n582\n00:29:02.242 --> 00:29:04.014\nWe're not gonna do that but\nwe could do that.\n\n583\n00:29:04.014 --> 00:29:07.212\nWe could open the certificate up,\ntake a look at it,\n\n584\n00:29:07.212 --> 00:29:10.643\nsee it is a KRA issued\ncertificate under this template.\n\n585\n00:29:10.643 --> 00:29:12.520\nWe could see the validity period,\nfor two years.\n\n586\n00:29:12.520 --> 00:29:17.051\nWe could see the certification path\npointing back up to the root CA.\n\n587\n00:29:17.051 --> 00:29:19.509\nSo we've been through all this already,\nwe've seen this, so we've issued it.\n\n588\n00:29:19.509 --> 00:29:20.830\nSo now what do we need to do?\n\n589\n00:29:20.830 --> 00:29:24.848\nSo we come back here to our MMC.\n\n590\n00:29:24.848 --> 00:29:27.847\nAnd what we need to do now\nis we need to go in here and\n\n591\n00:29:27.847 --> 00:29:31.092\nwe need to see the certificate or\nhave it brought in.\n\n592\n00:29:31.092 --> 00:29:35.675\nBut if we refresh and\nwe take a look we'll see that,\n\n593\n00:29:40.053 --> 00:29:42.937\nNo certificate there yet because it's not\ngonna just gonna magically appear there.\n\n594\n00:29:42.937 --> 00:29:45.317\nSo what we have to do\nis come back over here.\n\n595\n00:29:45.317 --> 00:29:48.194\nWe have to actually open this certificate\nas we were just doing a moment ago.\n\n596\n00:29:48.194 --> 00:29:50.960\nAnd what we need to do is\ngo to the details tab.\n\n597\n00:29:50.960 --> 00:29:55.742\nAnd we have to copy it to a file,\nwhich really means export it.\n\n598\n00:29:55.742 --> 00:29:58.000\nAnd then we can grab\nit from a location and\n\n599\n00:29:58.000 --> 00:30:01.138\nimport it to load it into\nthe store to make it available.\n\n600\n00:30:01.138 --> 00:30:03.559\nIt's not in other words\npublished automatically and\n\n601\n00:30:03.559 --> 00:30:04.970\nsimply given back to the user.\n\n602\n00:30:04.970 --> 00:30:08.272\nIt is issued, but\nthen we have to actually transport it, or\n\n603\n00:30:08.272 --> 00:30:10.727\nsomehow figure out how\nto get it to the user.\n\n604\n00:30:10.727 --> 00:30:14.191\nIf you remember, we talked about\npolicy module, exit module,\n\n605\n00:30:14.191 --> 00:30:16.388\nas components of the root CA or of the CA.\n\n606\n00:30:16.388 --> 00:30:19.559\nHow they work in the policy module was\nthat whole thought process about okay how\n\n607\n00:30:19.559 --> 00:30:20.676\ndo we issue certificates.\n\n608\n00:30:20.676 --> 00:30:21.507\n&gt;&gt; What do we do with it afterwards?\n\n609\n00:30:21.507 --> 00:30:22.288\n&gt;&gt; What are those things?\n\n610\n00:30:22.288 --> 00:30:24.481\nThe exit module is, okay,\nnow that we issued it,\n\n611\n00:30:24.481 --> 00:30:26.162\nhow do we actually make it available?\n\n612\n00:30:26.162 --> 00:30:27.122\nAnd so in this case,\n\n613\n00:30:27.122 --> 00:30:31.188\nthe exit module around this particular\ncertificate template is essentially, hey,\n\n614\n00:30:31.188 --> 00:30:35.205\nit's issued, but we're not transporting\nit, we're not doing anything with it.\n\n615\n00:30:35.205 --> 00:30:35.738\nYou want it?\n\n616\n00:30:35.738 --> 00:30:36.394\nYou gotta come get it.\n\n617\n00:30:36.394 --> 00:30:39.570\nSo kinda pick it up as opposed to,\nhey, we'll deliver.\n\n618\n00:30:39.570 --> 00:30:41.966\nSo let's do copy to file.\n\n619\n00:30:41.966 --> 00:30:42.788\nSo let's go in here.\n\n620\n00:30:42.788 --> 00:30:46.258\nIt'd be great if Amazon gets into\nthat business at some point.\n\n621\n00:30:46.258 --> 00:30:48.345\nWe can just,\nwe'll do your certificates for you.\n\n622\n00:30:48.345 --> 00:30:48.921\nNo problem.\n\n623\n00:30:48.921 --> 00:30:51.140\nGot a certificate drone, it'll come\npick it up, drop it off for you.\n\n624\n00:30:51.140 --> 00:30:53.896\nThey own everything else in the world,\nright?\n\n625\n00:30:53.896 --> 00:30:54.459\n&gt;&gt; Pretty much.\n\n626\n00:30:54.459 --> 00:30:56.450\n&gt;&gt; So\nwelcome to Certificate Export Wizard.\n\n627\n00:30:56.450 --> 00:30:58.256\nWe'll click Next.\n\n628\n00:30:58.256 --> 00:31:01.558\nAgain, we have talked about before\nthe idea of exporting a certificate into\n\n629\n00:31:01.558 --> 00:31:02.395\na certain format.\n\n630\n00:31:02.395 --> 00:31:05.857\nYou'll see we have the encoding X509,\nin this case, .CER.\n\n631\n00:31:05.857 --> 00:31:09.164\nWe could choose different options here,\nbut we will go through and\n\n632\n00:31:09.164 --> 00:31:10.650\njust take the normal format.\n\n633\n00:31:10.650 --> 00:31:13.819\nBut we could modify that if we're\ndoing something of a different type.\n\n634\n00:31:13.819 --> 00:31:17.080\nWe'll call this admin KRA.\n\n635\n00:31:17.080 --> 00:31:19.234\nSo I'll just put it into the C drive,\nagain,\n\n636\n00:31:19.234 --> 00:31:21.118\ndoesn't have to be anywhere special.\n\n637\n00:31:21.118 --> 00:31:24.739\nI'm on the machine, I'm importing,\nexporting from the same hard drive.\n\n638\n00:31:24.739 --> 00:31:28.654\nIf I was doing this in the real world I'd\nprobably have a shared folder set up.\n\n639\n00:31:28.654 --> 00:31:32.377\nI as the certificate manager would export\nthe certificate into that share and\n\n640\n00:31:32.377 --> 00:31:35.426\nthen I would tell the user that\nneeds to grab it where to find it.\n\n641\n00:31:35.426 --> 00:31:39.001\nThey would go grab it from there and\nwhen they do the import they would\n\n642\n00:31:39.001 --> 00:31:42.164\njust path to it over the network\nas opposed to just locally.\n\n643\n00:31:42.164 --> 00:31:43.901\nBut you'll see that\npiece in just a second.\n\n644\n00:31:43.901 --> 00:31:46.079\nSo we'll call this admin KRA.\n\n645\n00:31:46.079 --> 00:31:50.787\nIt's get a .CER extension even though\nyou don't have to specify that.\n\n646\n00:31:50.787 --> 00:31:53.434\nWe'll take a look at\nthat in just a second.\n\n647\n00:31:53.434 --> 00:31:54.394\nOkay, very good.\n\n648\n00:31:54.394 --> 00:31:55.506\nClick Finish.\n\n649\n00:31:55.506 --> 00:31:58.927\nExport was Successful,\nthat's what we're looking for.\n\n650\n00:31:58.927 --> 00:32:01.167\nWe'll just click OK to close that out.\n\n651\n00:32:01.167 --> 00:32:05.194\nNow, before we go and import it,\nlet's just take a look in the C drive.\n\n652\n00:32:05.194 --> 00:32:08.155\nNow we'll see right there admin.kra,\nthere's our certificate and\n\n653\n00:32:08.155 --> 00:32:10.579\nit is a security certificate,\nthat's what we just did.\n\n654\n00:32:10.579 --> 00:32:14.735\nWe're gonna go grab a copy of that now and\nimport into the personal store.\n\n655\n00:32:14.735 --> 00:32:18.249\nSo we're gonna go over to our MMC,\nright here.\n\n656\n00:32:18.249 --> 00:32:21.622\nRight-click here, and under All Tasks,\ninstead of Request New,\n\n657\n00:32:21.622 --> 00:32:25.011\nwhich we already did,\nwe're gonna use the other option, Import.\n\n658\n00:32:25.011 --> 00:32:28.648\nAnd so we're gonna run through the same\nprocess we just did in the Export Wizard,\n\n659\n00:32:28.648 --> 00:32:30.802\nexcept in reverse, and\nwind up bringing it in.\n\n660\n00:32:30.802 --> 00:32:33.092\nSo store location, current user, right?\n\n661\n00:32:33.092 --> 00:32:37.051\nSo click Continue, File name,\nwe just gotta go grab the file,\n\n662\n00:32:37.051 --> 00:32:40.198\neither browse for it and or\npath to it or type it in.\n\n663\n00:32:40.198 --> 00:32:42.987\nWhen I said we can just use the UNC\nif I had a share path I would just\n\n664\n00:32:42.987 --> 00:32:45.686\ntype it in there and\nI'd be able to go get it over the network.\n\n665\n00:32:45.686 --> 00:32:47.062\nIt would work the same way.\n\n666\n00:32:47.062 --> 00:32:50.123\nSo if I go in here to\nthe C drive looking for\n\n667\n00:32:50.123 --> 00:32:53.465\na .CER,\nCRT file I do see my admin KRA file.\n\n668\n00:32:53.465 --> 00:32:55.862\nJust grab that, bring that in,\ncuz I'm too lazy to type.\n\n669\n00:32:55.862 --> 00:32:58.671\nSo we also make sure it gets spelled\ncorrectly the first time, so\n\n670\n00:32:58.671 --> 00:33:00.449\nit saves time and trouble by doing that.\n\n671\n00:33:00.449 --> 00:33:03.867\nSo I'm gonna do that, .cer, click Next.\n\n672\n00:33:03.867 --> 00:33:05.172\nWhere do I want to place this?\n\n673\n00:33:05.172 --> 00:33:08.099\nPlace all certificates in,\nI'm putting it in the personal store, or\n\n674\n00:33:08.099 --> 00:33:09.699\nlet the system decide where to put it.\n\n675\n00:33:09.699 --> 00:33:11.494\nWe'll just put it in the personal store.\n\n676\n00:33:11.494 --> 00:33:16.114\nClick Next, great, Finish, boom, export,\nor input, rather, was successful.\n\n677\n00:33:16.114 --> 00:33:19.774\nCreate a certificates folder, and\nour certificate is now sitting there,\n\n678\n00:33:19.774 --> 00:33:21.583\nand we now have our KRA certificate.\n\n679\n00:33:21.583 --> 00:33:24.344\nI now have given myself, on this machine,\n\n680\n00:33:24.344 --> 00:33:27.807\nthe ability to act as a key\nrecovery agent if I need to.\n\n681\n00:33:27.807 --> 00:33:30.889\nSo, we're actually able to\nsee how that would work, or\n\n682\n00:33:30.889 --> 00:33:34.906\nessentially understand the logic of that,\nand so now that we have that.\n\n683\n00:33:34.906 --> 00:33:39.365\nWe're able to go in and in theory put\nthis certificate to use if we need to.\n\n684\n00:33:39.365 --> 00:33:42.500\nWhatever we would do with it in\nterms of recovering information,\n\n685\n00:33:42.500 --> 00:33:43.869\nwe can do that if necessary.\n\n686\n00:33:43.869 --> 00:33:47.778\nAll right so the other thing that will be\nimportant for us to take a look at just\n\n687\n00:33:47.778 --> 00:33:51.767\nas we're getting ready to wrap up our\ndemonstration, we come back to the CA.\n\n688\n00:33:51.767 --> 00:33:55.455\nWe come over here to our\npractice labs [INAUDIBLE] dm01c,\n\n689\n00:33:55.455 --> 00:34:00.064\nright click here go to properties,\nlet's come back to the properties.\n\n690\n00:34:00.064 --> 00:34:02.283\nWe've taken a look at\na lot of these already.\n\n691\n00:34:02.283 --> 00:34:05.257\nLet's come in here, and let's go in and\n\n692\n00:34:05.257 --> 00:34:10.777\nlet me show you how to set up the key\narchival thought process on the CA side.\n\n693\n00:34:10.777 --> 00:34:13.705\nMeaning, let's go into\nthe recovery agents tab.\n\n694\n00:34:13.705 --> 00:34:16.692\nAnd let's specify that we\nwanna archive the key,\n\n695\n00:34:16.692 --> 00:34:20.903\ncuz remember we do have a KRA\ncertificate issued to a user now, right.\n\n696\n00:34:20.903 --> 00:34:24.887\nSo we can come in, archive the key, number\nof recovery agents to use, we specify\n\n697\n00:34:24.887 --> 00:34:28.647\nthe number there but most importantly,\nkey recovery agent certificates.\n\n698\n00:34:28.647 --> 00:34:31.392\nWe have to add in, you can probably\nsee where I'm going with this, right,\n\n699\n00:34:31.392 --> 00:34:32.667\nif you think about the logic of it.\n\n700\n00:34:32.667 --> 00:34:34.094\nWe've issued the certificate.\n\n701\n00:34:34.094 --> 00:34:37.280\nNow what we need to do is add\nin the key recovery stuff.\n\n702\n00:34:37.280 --> 00:34:40.104\nI did this in a prior demo, but\nI showed it to you at that time.\n\n703\n00:34:40.104 --> 00:34:43.699\nI clicked here, and it came up, it said\nhey sorry, no certificates available.\n\n704\n00:34:43.699 --> 00:34:46.972\nAnd I said no problem, in a future demo,\nwe'll actually show you how to do this,\n\n705\n00:34:46.972 --> 00:34:50.120\nhave the certificate issued and we will\nthen actually be able to see it named.\n\n706\n00:34:50.120 --> 00:34:51.060\nAnd be able to bring it in.\n\n707\n00:34:51.060 --> 00:34:54.393\nSo we're about to see that but you may\nremember if you're sitting here and\n\n708\n00:34:54.393 --> 00:34:57.485\nyou've watched our episodes in\norder in this section around ADCS.\n\n709\n00:34:57.485 --> 00:34:59.144\nYou may be thinking well\nAdam did that already.\n\n710\n00:34:59.144 --> 00:35:02.384\nBut it came up there was no certificate,\nhe didn't actually complete the process,\n\n711\n00:35:02.384 --> 00:35:04.907\nand you're right I didn't but\nwe're about to do that right now.\n\n712\n00:35:04.907 --> 00:35:08.291\nRight so we've done all the back work,\nthe leg work to get to this point.\n\n713\n00:35:08.291 --> 00:35:09.754\nSo now, I click add, all right, and\n\n714\n00:35:09.754 --> 00:35:12.118\nyou'll see that instead of\nhey no certificate available,\n\n715\n00:35:12.118 --> 00:35:15.353\nI wasn't there on picture day, right,\nyou remember that for yearbooks right?\n\n716\n00:35:15.353 --> 00:35:17.270\n&gt;&gt; Yeah.\n&gt;&gt; You've got the little stick figure,\n\n717\n00:35:17.270 --> 00:35:18.188\nabsent on picture day.\n\n718\n00:35:18.188 --> 00:35:21.222\nRight so instead, what do we see,\nwe see a named certificate.\n\n719\n00:35:21.222 --> 00:35:24.147\nIn this case, the one from the KRA for\nthe queue recovery,\n\n720\n00:35:24.147 --> 00:35:26.186\na agent assigned to the administrator.\n\n721\n00:35:26.186 --> 00:35:29.717\nThe one I literally just imported\nthat I made available and\n\n722\n00:35:29.717 --> 00:35:33.977\nyou'll see issued [COUGH] from\nthe dm01 CA validity period.\n\n723\n00:35:33.977 --> 00:35:35.600\nClick here to view Certificate Properties.\n\n724\n00:35:35.600 --> 00:35:38.061\nWe could view it if we want to,\njust to make sure,\n\n725\n00:35:38.061 --> 00:35:39.997\nyou can see it is the KRA certificate.\n\n726\n00:35:39.997 --> 00:35:41.601\nWe do see it there, right?\n\n727\n00:35:41.601 --> 00:35:45.078\nIt says, you have a private key that\ncorresponds to the certificate because I\n\n728\n00:35:45.078 --> 00:35:48.941\nam the owner of the certificate, I am the\nadministrator, so I have that private key.\n\n729\n00:35:48.941 --> 00:35:51.984\nAnd it shows me what we already looked at,\nthe certification path and\n\n730\n00:35:51.984 --> 00:35:53.303\nall the details associated.\n\n731\n00:35:53.303 --> 00:35:56.604\nSo we know this certificate is the one\nthat we are going to bring in right?\n\n732\n00:35:56.604 --> 00:35:59.156\nSo this is the end of that process\nI showed you the last time,\n\n733\n00:35:59.156 --> 00:36:00.855\nthat we couldn't actually complete.\n\n734\n00:36:00.855 --> 00:36:03.783\nSo we're going to click,\nOK we're going to assign that certificate.\n\n735\n00:36:03.783 --> 00:36:08.838\nBind it to the CA allowing now this\ncertificate, this user who holds it to be\n\n736\n00:36:08.838 --> 00:36:14.153\nseen as a KRA, key recovery agent,\non the CA, on the certificate authority.\n\n737\n00:36:14.153 --> 00:36:17.480\nAnd that's a-okay as we would often say.\n\n738\n00:36:17.480 --> 00:36:19.110\nI sound like Dr. Seuss, don't I?\n\n739\n00:36:19.110 --> 00:36:21.438\nSo as a result of doing all that,\n\n740\n00:36:21.438 --> 00:36:25.161\nwe now have enabled the circle of life,\nLion King?\n\n741\n00:36:25.161 --> 00:36:25.716\n&gt;&gt; Yeah.\n\n742\n00:36:25.716 --> 00:36:28.944\n&gt;&gt; Okay, so you can tell who has kids\nwhen you ask about this thing, so.\n\n743\n00:36:28.944 --> 00:36:30.722\n&gt;&gt; Disney I'm pretty set, yeah.\n\n744\n00:36:30.722 --> 00:36:32.682\n&gt;&gt; All right, so\nthe circle of life, right?\n\n745\n00:36:32.682 --> 00:36:36.495\nSo the idea is that we've\ncompleted this entire circuit.\n\n746\n00:36:36.495 --> 00:36:38.583\nWe've brought this certificate forward.\n\n747\n00:36:38.583 --> 00:36:40.519\nWe've issued it from a template.\n\n748\n00:36:40.519 --> 00:36:43.438\nSo actually started with no\ntemplate capabilities for the KRA.\n\n749\n00:36:43.438 --> 00:36:47.016\nWe brought that template out of the store,\npublished it, made it available.\n\n750\n00:36:47.016 --> 00:36:49.745\nWent and\nused that template to issue a certificate,\n\n751\n00:36:49.745 --> 00:36:53.103\nexported the certificate after\nwe approved the issuance of it.\n\n752\n00:36:53.103 --> 00:36:58.252\nImported it, then used it to specify\nwho the KRA would be in this case here.\n\n753\n00:36:58.252 --> 00:37:03.246\nBound it to the CA, allowing us now to act\nin the capacity of a key recovery agent,\n\n754\n00:37:03.246 --> 00:37:05.827\nIf we need to in order\nto be able to do this.\n\n755\n00:37:05.827 --> 00:37:07.580\nNow the last step here, we're not done.\n\n756\n00:37:07.580 --> 00:37:10.743\nWe're gonna click OK, or we can click\nApply &gt; OK, doesn't really matter.\n\n757\n00:37:10.743 --> 00:37:15.096\nBut either way we'll get the prompt,\nbut it says hey, you're doing this.\n\n758\n00:37:15.096 --> 00:37:19.128\nYou have to restart the ADCS services\nin order for this to take effect.\n\n759\n00:37:19.128 --> 00:37:20.161\nAre you sure you want to?\n\n760\n00:37:20.161 --> 00:37:22.598\nWell of course we want to,\nso let's click Yes.\n\n761\n00:37:22.598 --> 00:37:26.947\nJust quickly stops and starts, no big\ndeal, right and then, boom, we're done.\n\n762\n00:37:26.947 --> 00:37:30.334\nAnd then we now have a KRA\nthat's been instantiated,\n\n763\n00:37:30.334 --> 00:37:35.159\nset up, and now I, as the administrator\ncan act as the KRA here in this case.\n\n764\n00:37:35.159 --> 00:37:39.383\nAnd I can go in, and\nif I needed to I would be able to issue or\n\n765\n00:37:39.383 --> 00:37:42.904\nuse the KRA function to\nrecover certificates or\n\n766\n00:37:42.904 --> 00:37:46.524\nrecover data that may be\nassociated with the CA.\n\n767\n00:37:46.524 --> 00:37:50.923\nSo this is how we do an end-to-end, this\nprocess of actually using a template and\n\n768\n00:37:50.923 --> 00:37:52.278\nissuing a certificate.\n\n769\n00:37:52.278 --> 00:37:54.276\nAnd, in this case, bringing it back in and\n\n770\n00:37:54.276 --> 00:37:57.841\nassigning it as a key recovery agent just\nso you could see what that was like.\n\n771\n00:37:57.841 --> 00:37:58.917\n&gt;&gt; All right, pretty cool.\n\n772\n00:37:58.917 --> 00:37:59.483\n&gt;&gt; Yeah.\n\n773\n00:37:59.483 --> 00:38:01.148\n&gt;&gt; All right, Adam,\nthank you for your time today.\n\n774\n00:38:01.148 --> 00:38:03.074\nAnd thank you for\njoining us as well but, for\n\n775\n00:38:03.074 --> 00:38:05.118\nthis show,\nwe are gonna go ahead and sign out.\n\n776\n00:38:05.118 --> 00:38:06.488\nI've been your host, Cherokee Boose.\n\n777\n00:38:06.488 --> 00:38:08.111\n&gt;&gt; I'm Adam Gordon.\n\n778\n00:38:08.111 --> 00:38:10.466\n&gt;&gt; See you next time here at ITPRO.TV.\n\n779\n00:38:10.466 --> 00:38:12.254\n&gt;&gt; I was good enough that I got my star.\n\n780\n00:38:12.254 --> 00:38:14.492\n&gt;&gt; [LAUGH]\n&gt;&gt; Yay.\n\n781\n00:38:14.492 --> 00:38:16.784\n&gt;&gt; [LAUGH]\n\n782\n00:38:16.784 --> 00:38:22.537\n[MUSIC]\n\n783\n00:38:22.537 --> 00:38:25.713\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "232992686"
        },
        {
          "description": "In this show, Cherokee and Adam continue discussing Active Directory Certificate Services. They explain and configure the online responder service. Adam also shares five different tools to help you  manage certificates such as CertUtil.exe, PKIView MMC and PowerShell.",
          "length": "1403",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-6-implementing_ad_cs_pt6-090717-PGM.00_23_07_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-6-implementing_ad_cs_pt6-090717-PGM.00_23_07_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-6-1-6-implementing_ad_cs_pt6-090717-PGM.00_23_07_11.Still001-sm.jpg",
          "title": "Implementing AD CS Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.017 --> 00:00:01.323\nWelcome to ITProTV.\n\n2\n00:00:01.323 --> 00:00:05.575\nI'm your host Don Pezet coming at you\nlive from San Francisco, California.\n\n3\n00:00:05.575 --> 00:00:07.471\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:07.471 --> 00:00:08.416\n[MUSIC]\n\n5\n00:00:08.416 --> 00:00:12.166\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.166 --> 00:00:17.142\n&gt;&gt; Welcome to your Microsoft Server\n2012 R2 70-412 series.\n\n7\n00:00:17.142 --> 00:00:19.225\nI'm your show host, Cherokee Boose.\n\n8\n00:00:19.225 --> 00:00:23.220\nIn this episode we'll continue taking\na look at how to implement ADCS.\n\n9\n00:00:23.220 --> 00:00:27.078\nAnd back with us today in studios we\nhave Microsoft expert Mr Adam Gordon.\n\n10\n00:00:27.078 --> 00:00:28.392\nThank you for joining us today, Adam.\n\n11\n00:00:28.392 --> 00:00:29.486\n&gt;&gt; Hello, everybody.\n\n12\n00:00:29.486 --> 00:00:31.117\nHopefully you're all doing well.\n\n13\n00:00:31.117 --> 00:00:35.200\nLooking forward to another fun and\nexciting conversation around ADCS.\n\n14\n00:00:35.200 --> 00:00:37.728\nWe're actually going to\ntalk about something a lot\n\n15\n00:00:37.728 --> 00:00:40.784\nof people have misconceptions about,\nbelieve it or not, and\n\n16\n00:00:40.784 --> 00:00:44.275\nthat is the idea of how we secure\na connection with an SSL certificate.\n\n17\n00:00:44.275 --> 00:00:46.236\nWe often take this kind of stuff for\ngranted.\n\n18\n00:00:46.236 --> 00:00:50.131\nWe assume, yeah, HTTPS, SSL, TLS.\n\n19\n00:00:50.131 --> 00:00:53.772\nIt's gonna work, and it does,\nalmost without exception, flawlessly.\n\n20\n00:00:53.772 --> 00:00:56.104\nBut have you ever really stopped and\njust thought to yourself,\n\n21\n00:00:56.104 --> 00:00:57.297\nhm how does that actually work?\n\n22\n00:00:57.297 --> 00:01:01.175\nI know I need this protocol support,\nI've seen Adam and Cherokee in some of\n\n23\n00:01:01.175 --> 00:01:05.259\nthe demos, in some of the discussions\ntalk about the bindings on a web server.\n\n24\n00:01:05.259 --> 00:01:09.486\nAnd we've shown them how to enable\nHTTPS support and set that up and\n\n25\n00:01:09.486 --> 00:01:13.430\nperhaps link a certificate to\nthe web server to support that.\n\n26\n00:01:13.430 --> 00:01:15.228\nSo you may have seen that side of things.\n\n27\n00:01:15.228 --> 00:01:18.853\nWe've certainly been talking\nabout certificate services,\n\n28\n00:01:18.853 --> 00:01:21.370\ntemplates and issuance of certificates.\n\n29\n00:01:21.370 --> 00:01:23.371\nBut have we really brought\nthe whole thing together?\n\n30\n00:01:23.371 --> 00:01:25.895\nAnd one of the big misconceptions\nI find as I talk to people,\n\n31\n00:01:25.895 --> 00:01:29.026\nwhen I work with clients, when we go\nout and we talk about technology, and\n\n32\n00:01:29.026 --> 00:01:32.358\nhow things are gonna come together,\npeople just don't, you sit them down and\n\n33\n00:01:32.358 --> 00:01:34.313\nask them,\ndo you really know how that works?\n\n34\n00:01:34.313 --> 00:01:36.898\nI mean, everybody just says yeah,\nbut they don't really know.\n\n35\n00:01:36.898 --> 00:01:39.810\nAnd so I often find people are not\nfamiliar with how the process\n\n36\n00:01:39.810 --> 00:01:40.653\nactually works.\n\n37\n00:01:40.653 --> 00:01:44.502\nI thought it would be nice to just\nwalk you through that real quick,\n\n38\n00:01:44.502 --> 00:01:48.902\nsince we are talking about certificates,\nit is a point of reference for us,\n\n39\n00:01:48.902 --> 00:01:52.614\nprobably one of the most common\nthings we do everyday, day in and\n\n40\n00:01:52.614 --> 00:01:56.188\nday out without regard to what\nwe are doing and where doing it,\n\n41\n00:01:56.188 --> 00:02:00.178\nis the use of digital certificates\nto protect and to authenticate and\n\n42\n00:02:00.178 --> 00:02:03.135\nto validate communications\nin a variety of ways.\n\n43\n00:02:03.135 --> 00:02:06.168\nYet it all happens, and we really\njust don't pay much attention to it.\n\n44\n00:02:06.168 --> 00:02:07.626\nSo thought we would start with that.\n\n45\n00:02:07.626 --> 00:02:09.729\nThen we'll throw some other odds and\nends in, well,\n\n46\n00:02:09.729 --> 00:02:11.982\nbecause we do have some\nadditional things to go through.\n\n47\n00:02:11.982 --> 00:02:15.992\nCan almost call this the odds and ends\nepisode because we will be ending with it\n\n48\n00:02:15.992 --> 00:02:17.850\nand it is kind of odd so there you go.\n\n49\n00:02:17.850 --> 00:02:20.846\nAll right,\nsecurity communication with an SSL system.\n\n50\n00:02:20.846 --> 00:02:21.998\nWhat's the steps involved?\n\n51\n00:02:21.998 --> 00:02:25.325\nJust give you an overview here,\nkind of what's happening,\n\n52\n00:02:25.325 --> 00:02:27.946\nthe certificates we know\nare part of a key pair.\n\n53\n00:02:27.946 --> 00:02:31.311\nOr rather we associate a key pair with\na certificate, is what I mean to say.\n\n54\n00:02:31.311 --> 00:02:34.213\nAnd we've talked about that, the public\nkey, the private key, how all that works.\n\n55\n00:02:34.213 --> 00:02:35.385\nWe've been through that.\n\n56\n00:02:35.385 --> 00:02:38.691\nAnd so we know that, because we have\na public and private key pair and\n\n57\n00:02:38.691 --> 00:02:42.235\nthey work together, we're able to go\nahead and take advantage of that.\n\n58\n00:02:42.235 --> 00:02:46.106\nI spent some time in prior episodes\nstressing to you the direction and\n\n59\n00:02:46.106 --> 00:02:50.395\nthe thought process around which key\nis used and under what circumstances.\n\n60\n00:02:50.395 --> 00:02:54.040\nWe encrypt with the public key,\ncan only decrypt with the private key.\n\n61\n00:02:54.040 --> 00:02:57.669\nThe private key is kept secure,\nonly known to the originating party,\n\n62\n00:02:57.669 --> 00:03:00.511\nwhich makes the transmission and\nthe use more secure.\n\n63\n00:03:00.511 --> 00:03:01.856\nSo there's a thought process here.\n\n64\n00:03:01.856 --> 00:03:05.027\nSo data that is encrypted with\na public key is only decrypted with\n\n65\n00:03:05.027 --> 00:03:06.975\nthe corresponding private key, etc.\n\n66\n00:03:06.975 --> 00:03:07.696\nSo we know that.\n\n67\n00:03:07.696 --> 00:03:08.622\nEach key pair is unique.\n\n68\n00:03:08.622 --> 00:03:09.521\nWe know all that.\n\n69\n00:03:09.521 --> 00:03:12.857\nSo certificates, besides having\nkey pairs also have subject names,\n\n70\n00:03:12.857 --> 00:03:16.756\nspecifies the identify of the web server\nand/or website where the certificate is\n\n71\n00:03:16.756 --> 00:03:17.391\ninstalled.\n\n72\n00:03:17.391 --> 00:03:19.836\nYou know that as well,\nyou've seen me deal with that and\n\n73\n00:03:19.836 --> 00:03:22.138\ndo those kinds of things as\npart of our walk through.\n\n74\n00:03:22.138 --> 00:03:27.403\nSo, as a result when a web browser, let's\nscroll down here so you can see this.\n\n75\n00:03:27.403 --> 00:03:29.850\nWent a little far, let me go back up.\n\n76\n00:03:29.850 --> 00:03:33.729\nWhen a web browser connects to a secure\nwebsite, which is what we're talking\n\n77\n00:03:33.729 --> 00:03:37.073\nabout, to transmitter received\nusing SSL over a web connection,\n\n78\n00:03:37.073 --> 00:03:39.359\nthe client server establishes connection.\n\n79\n00:03:39.359 --> 00:03:43.300\nAt least assuming we're using HTTPS\nas the origination protocol or\n\n80\n00:03:43.300 --> 00:03:45.105\nwe have a preference for that.\n\n81\n00:03:45.105 --> 00:03:47.307\nThe SSL connection\nestablishes the handshake.\n\n82\n00:03:47.307 --> 00:03:49.484\nSo what's that hand\nshake process look like?\n\n83\n00:03:49.484 --> 00:03:54.075\nSo, you could see here,\nthe user will type or click the HTTPS URL.\n\n84\n00:03:54.075 --> 00:03:57.075\nSo you know we have to specify HTTPS,\nas we said.\n\n85\n00:03:57.075 --> 00:03:59.963\nWeb browser connects and requests for\nthe server to identify itself.\n\n86\n00:03:59.963 --> 00:04:01.135\nSo, hey, Cherokee,\n\n87\n00:04:01.135 --> 00:04:05.414\nI'm going to send you communication\nrequest securely if you're our web server.\n\n88\n00:04:05.414 --> 00:04:08.756\nSo HTTPS, Cherokee.com.\n\n89\n00:04:08.756 --> 00:04:10.460\nAnd so then, step two, right,\n\n90\n00:04:10.460 --> 00:04:14.312\nas I'm doing that I'm saying to\nCherokee in step one and step two, hey,\n\n91\n00:04:14.312 --> 00:04:18.689\nI want to communicate securely, HTTPS\npreference, and this is what I'm doing.\n\n92\n00:04:18.689 --> 00:04:20.329\nCan you please identify yourself and\nanswer me, and\n\n93\n00:04:20.329 --> 00:04:22.723\nvalidate whether you really are\nCherokee.com or whoever you are, right?\n\n94\n00:04:22.723 --> 00:04:24.486\n&gt;&gt; I am who I say, yeah.\n\n95\n00:04:24.486 --> 00:04:28.284\n&gt;&gt; Right, and so in step three,\nweb server sends the SSL Certificate over.\n\n96\n00:04:28.284 --> 00:04:31.624\n&gt;&gt; I would show you my certificate, but\nyou're the one has the certificate.\n\n97\n00:04:31.624 --> 00:04:33.144\nOkay, hold on, I have it.\n\n98\n00:04:33.144 --> 00:04:35.052\nOkay, I am a Cherokee server.\n\n99\n00:04:35.052 --> 00:04:38.132\n&gt;&gt; Magic, all right, so\nI was impersonating you.\n\n100\n00:04:38.132 --> 00:04:40.582\nThat was our masquerading\nepisode we were gonna do.\n\n101\n00:04:40.582 --> 00:04:42.709\nI was gonna pretend to be Cherokee.com,\nright?\n\n102\n00:04:42.709 --> 00:04:43.731\nSo you're set.\n\n103\n00:04:43.731 --> 00:04:44.786\nYou do have the certificate.\n\n104\n00:04:44.786 --> 00:04:46.151\nSo back to step three, right?\n\n105\n00:04:46.151 --> 00:04:48.827\nSo, web server sends its SSL certificate.\n\n106\n00:04:48.827 --> 00:04:51.203\nWith the certificate, we also distribute\nthe public key to the client.\n\n107\n00:04:51.203 --> 00:04:56.115\nSo Cherokee would hand me, right,\nthat certificate saying, yes,\n\n108\n00:04:56.115 --> 00:04:57.987\nI am who I say I am, right?\n\n109\n00:04:57.987 --> 00:05:01.035\nNotice it is the official\nokey dokey certificate.\n\n110\n00:05:01.035 --> 00:05:02.993\nIt has the star there as we can see.\n\n111\n00:05:02.993 --> 00:05:04.779\nAnd so, she sends that to me.\n\n112\n00:05:04.779 --> 00:05:08.424\nAnd along with that,\nshe also gives me the public key, right?\n\n113\n00:05:08.424 --> 00:05:10.499\nShe gives me a copy of the public key.\n\n114\n00:05:10.499 --> 00:05:12.851\nPart of the certificate,\nin other words, is the public key.\n\n115\n00:05:12.851 --> 00:05:14.310\nAnd because of that,\n\n116\n00:05:14.310 --> 00:05:18.931\nI can now send data securely using\nthe public key she issued to me, or\n\n117\n00:05:18.931 --> 00:05:24.467\nthe web server did, and I can encrypt and\nsend the data back using the public key.\n\n118\n00:05:24.467 --> 00:05:27.883\nThe only corresponding key in\nthe key pair that in theory, again,\n\n119\n00:05:27.883 --> 00:05:30.140\nwe make assumptions, right, to be clear,\n\n120\n00:05:30.140 --> 00:05:34.105\nthe assumption is the private key is\nheld securely by the originating party,\n\n121\n00:05:34.105 --> 00:05:36.739\nthe owner in this case\nthe cherokee.com website.\n\n122\n00:05:36.739 --> 00:05:39.095\nAnd as long as that key\nhas not been compromised,\n\n123\n00:05:39.095 --> 00:05:41.170\nnobody else should have\na copy of that key.\n\n124\n00:05:41.170 --> 00:05:42.719\nAnd if that is the case,\n\n125\n00:05:42.719 --> 00:05:46.910\nI should be able to use the public\nkey to securely transmit data.\n\n126\n00:05:46.910 --> 00:05:50.514\nBut the only person that should be able\nto securely unencrypt that transmitted\n\n127\n00:05:50.514 --> 00:05:51.290\ndata-\n&gt;&gt; Is me.\n\n128\n00:05:51.290 --> 00:05:54.116\n&gt;&gt; Would be Cherokee,\nthe owner of Cherokee.com, right?\n\n129\n00:05:54.116 --> 00:05:56.989\nNow, if Cherokee.com was really\nowned by Don or Ronnie, well,\n\n130\n00:05:56.989 --> 00:05:59.091\nthen we would obviously have an issue,\nright?\n\n131\n00:05:59.091 --> 00:06:00.612\nAnd we'd have a problem.\n\n132\n00:06:00.612 --> 00:06:03.264\nAll right, but we're gonna assume\nCherokee is indeed the owner.\n\n133\n00:06:03.264 --> 00:06:07.489\nAll right, so as a result, she sends me\nher SSL certificate along with a copy\n\n134\n00:06:07.489 --> 00:06:11.263\nof the public key that I can use\nthat corresponds to her private key.\n\n135\n00:06:11.263 --> 00:06:14.090\nWe perform a check of the service\ncertificate as the client,\n\n136\n00:06:14.090 --> 00:06:17.806\ncheck the subject name, compare it with\nthe URL, is it really cherokee.com,\n\n137\n00:06:17.806 --> 00:06:18.761\nis it really HTTPS?\n\n138\n00:06:18.761 --> 00:06:22.006\nWe look at the certification path,\nall that stuff I've been talking about and\n\n139\n00:06:22.006 --> 00:06:24.378\nshowing you in prior demonstrations,\nall part of this.\n\n140\n00:06:24.378 --> 00:06:27.792\nSo we go through all that,\nwe check the name of the CA, right?\n\n141\n00:06:27.792 --> 00:06:30.853\nSo we check the certification path.\n\n142\n00:06:30.853 --> 00:06:34.204\nWe also check the certificate\nrevocation list distribution point,\n\n143\n00:06:34.204 --> 00:06:37.800\nthe CDP, to verify the certificate\nis indeed valid, it's not revoked.\n\n144\n00:06:37.800 --> 00:06:42.192\nSo I would go look that up and say is\nthis certificate actually valid or not.\n\n145\n00:06:42.192 --> 00:06:44.439\nYou can't see it on the back of\nthe certificate, and even if I show you,\n\n146\n00:06:44.439 --> 00:06:45.352\nyou won't be able to see it.\n\n147\n00:06:45.352 --> 00:06:49.528\nBut there is a little note,\na little number here that says number 27.\n\n148\n00:06:49.528 --> 00:06:53.197\nSo I would go and I would look on\nthe list and say is number 27,\n\n149\n00:06:53.197 --> 00:06:55.681\nthis certificate valid or not at the CDP.\n\n150\n00:06:55.681 --> 00:06:59.136\nI'd be looking at the CRL in other words,\nright, to try to verify that.\n\n151\n00:06:59.136 --> 00:07:03.942\nSo, I've done all of that, and then if I\ncheck, or if all of the checks are passed\n\n152\n00:07:03.942 --> 00:07:08.115\nin this case, every security check\nwe go through turns out to be good,\n\n153\n00:07:08.115 --> 00:07:10.907\nthen we generate\na symmetric encryption key.\n\n154\n00:07:10.907 --> 00:07:13.977\nMeaning the client, myself,\nI generate an encryption key.\n\n155\n00:07:13.977 --> 00:07:15.783\nSymmetric key is a private key only.\n\n156\n00:07:15.783 --> 00:07:20.163\nSo I'm generating a locally-generated\nprivate key on my side of the exchange.\n\n157\n00:07:20.163 --> 00:07:24.612\nAnd I'm gonna be able to send that\nprivate key back, encrypted with\n\n158\n00:07:24.612 --> 00:07:29.314\nthe public key of the CA because then,\nthe public key of the web server.\n\n159\n00:07:29.314 --> 00:07:30.278\nPardon me.\n\n160\n00:07:30.278 --> 00:07:34.356\nAnd the web server will then be able to\nhave a copy of that private key encrypted\n\n161\n00:07:34.356 --> 00:07:35.947\nthat they can open securely.\n\n162\n00:07:35.947 --> 00:07:38.585\nAnd then we can exchange\ninformation using one or\n\n163\n00:07:38.585 --> 00:07:42.586\nboth of those keys in order to be able\nto securely transmit back and forth.\n\n164\n00:07:42.586 --> 00:07:45.415\nWe've walked through this entire\nprocess in prior episode.\n\n165\n00:07:45.415 --> 00:07:47.216\nJust reminding you of how this works.\n\n166\n00:07:47.216 --> 00:07:49.081\nSo, we generate a symmetric\nencryption key.\n\n167\n00:07:49.081 --> 00:07:52.797\nClient and server use this symmetric\nkey for decrypting data, right?\n\n168\n00:07:52.797 --> 00:07:55.540\nAnd as a result, Or\nit won't securely transmit.\n\n169\n00:07:55.540 --> 00:08:00.383\nNow, why do we have a preference for\nusing my client-generated symmetric single\n\n170\n00:08:00.383 --> 00:08:04.540\nprivate key-only key,\nas opposed to our public-private key pair.\n\n171\n00:08:04.540 --> 00:08:09.306\nNot to initially establish the secure\ncommunication and enable the transmission\n\n172\n00:08:09.306 --> 00:08:12.839\nof the private key, but\nwhy don't we use it for all the data.\n\n173\n00:08:12.839 --> 00:08:17.684\nWell as I point out there, symmetric\nencryption private key only, very fast for\n\n174\n00:08:17.684 --> 00:08:19.260\nbulk encryption of data.\n\n175\n00:08:19.260 --> 00:08:23.652\nPublic, private key asymmetric encryption,\nslow by comparison for\n\n176\n00:08:23.652 --> 00:08:25.788\nencryption bulk encryption of data.\n\n177\n00:08:25.788 --> 00:08:27.803\nGood for very small amounts of data,\n\n178\n00:08:27.803 --> 00:08:31.185\nlike a private key that just has\nto be sent that's very small.\n\n179\n00:08:31.185 --> 00:08:34.093\nWe could encrypt that with public\nprivate key encryption and\n\n180\n00:08:34.093 --> 00:08:36.327\ntransmit that in\na reasonable amount of time.\n\n181\n00:08:36.327 --> 00:08:38.235\nBut I want to start encrypting and\n\n182\n00:08:38.235 --> 00:08:42.129\ndecrypting huge volumes of traffic\nlike website traffic, right?\n\n183\n00:08:42.129 --> 00:08:44.951\nThat's probably not really good and\nnot optimize for\n\n184\n00:08:44.951 --> 00:08:48.657\nasymmetric encryption because it's\ngonna be very slow and tedious.\n\n185\n00:08:48.657 --> 00:08:51.537\nThere's gonna [CROSSTALK] be\npotential performance issues.\n\n186\n00:08:51.537 --> 00:08:56.482\nSo right, so the [CROSSTALK] symmetric\nencryption keys are optimized for\n\n187\n00:08:56.482 --> 00:08:59.249\nlarger, bulk encryption operations.\n\n188\n00:08:59.249 --> 00:09:02.774\nSo the reason that the client,\nmyself in this example,\n\n189\n00:09:02.774 --> 00:09:05.926\nthe reason that I will\ngenerate a symmetric key and\n\n190\n00:09:05.926 --> 00:09:09.917\nthen encrypt it with Cherokee's\npublic key asymmetrically.\n\n191\n00:09:09.917 --> 00:09:13.057\nRight, generate and\nhave that key pair initially and\n\n192\n00:09:13.057 --> 00:09:17.336\nthen use the asymmetric public key\nto encrypt my symmetric private key.\n\n193\n00:09:17.336 --> 00:09:21.767\nSend it back and give Cherokee\nthe ability then to use my private key.\n\n194\n00:09:21.767 --> 00:09:25.757\nTo securely transmit and receive and\nsend with me is performance optimization.\n\n195\n00:09:25.757 --> 00:09:28.924\nWe're optimizing the traffic flow, and\nthe ability to send traffic quickly,\n\n196\n00:09:28.924 --> 00:09:29.923\nthat's what we'll do.\n\n197\n00:09:29.923 --> 00:09:32.125\n&gt;&gt; I feel like I should go run to\nmy desk and grab all the keys.\n\n198\n00:09:32.125 --> 00:09:33.458\n&gt;&gt; You should,\nwe should have planned for that.\n\n199\n00:09:33.458 --> 00:09:34.727\n&gt;&gt; [LAUGH]\n&gt;&gt; We didn't do that.\n\n200\n00:09:34.727 --> 00:09:35.549\n&gt;&gt; Planning, Adam.\n\n201\n00:09:35.549 --> 00:09:36.615\n[LAUGH]\n&gt;&gt; We didn't do that.\n\n202\n00:09:36.615 --> 00:09:37.650\nThat was my fault.\n\n203\n00:09:37.650 --> 00:09:41.095\nI should not have,\nI should have said something, I apologize.\n\n204\n00:09:41.095 --> 00:09:42.130\nBad co-host, bad co-host.\n\n205\n00:09:42.130 --> 00:09:43.122\n&gt;&gt; But we get the point.\n\n206\n00:09:43.122 --> 00:09:44.839\nYeah, the point is still there.\n\n207\n00:09:44.839 --> 00:09:45.789\n&gt;&gt; The point is there.\n\n208\n00:09:45.789 --> 00:09:49.127\nSo we generate that symmetric key as you\nknow going back to our instructions.\n\n209\n00:09:49.127 --> 00:09:52.046\nAnd we do that as I said\nwith the service public key.\n\n210\n00:09:52.046 --> 00:09:53.714\nWe send it, encrypting it after that.\n\n211\n00:09:53.714 --> 00:09:56.871\nWe obviously can't send\nthe encrypted key to the server.\n\n212\n00:09:56.871 --> 00:10:00.663\nThe server will then have a copy of it, we\ncan then start using our symmetric private\n\n213\n00:10:00.663 --> 00:10:03.662\nkey that the client generates to\ndo transmission back and forth.\n\n214\n00:10:03.662 --> 00:10:06.877\nServer uses the private key to\ndecrypt the encrypted symmetric key,\n\n215\n00:10:06.877 --> 00:10:09.827\nnow we both have a copy of it,\nthe secure data transfer begins.\n\n216\n00:10:09.827 --> 00:10:13.020\nAnd so we have several important\nchecks I talk about here,\n\n217\n00:10:13.020 --> 00:10:16.419\nthe server proves its identity\nby using the SSL certificate.\n\n218\n00:10:16.419 --> 00:10:20.530\nThe server name, or any of those items\nin the certificate are not good we don't\n\n219\n00:10:20.530 --> 00:10:22.410\naccept the request, the inbound.\n\n220\n00:10:22.410 --> 00:10:24.963\nAlthough I'm kinda hovering\nover it with the window there,\n\n221\n00:10:24.963 --> 00:10:27.167\nperhaps we can go full-screen for\na minute, just so\n\n222\n00:10:27.167 --> 00:10:29.685\nyou could see the text that I'm\nlooking at right down here.\n\n223\n00:10:29.685 --> 00:10:34.015\nSo, in addition,\nwe have a CRL check we do, right?\n\n224\n00:10:34.015 --> 00:10:37.627\nSo we're able to go through and\nactually, able to say as I indicated,\n\n225\n00:10:37.627 --> 00:10:41.794\nlet's check the CDP, the certification\nrevocation list distribution point,\n\n226\n00:10:41.794 --> 00:10:45.920\ncheck and make sure that that CRL does\nnot have the certificate published on it.\n\n227\n00:10:45.920 --> 00:10:49.216\nIf it does, then obviously we may have\nan issue and we should ignore that.\n\n228\n00:10:49.216 --> 00:10:50.872\nSo, these are things that are important,\n\n229\n00:10:50.872 --> 00:10:52.716\nthat we just want to\nmake sure we're familiar.\n\n230\n00:10:52.716 --> 00:10:56.616\nSo I thought it was good perhaps just to\nreview that and go through that with you\n\n231\n00:10:56.616 --> 00:10:59.798\nto give you a sense of what we're\ndoing and how we're doing it.\n\n232\n00:10:59.798 --> 00:11:03.329\nLet me just extend our lab timer\nhere real quick while we're talking.\n\n233\n00:11:03.329 --> 00:11:06.940\nIn addition, I wanted to show you a couple\nof other quick things that are helpful and\n\n234\n00:11:06.940 --> 00:11:08.086\nimportant to know about.\n\n235\n00:11:08.086 --> 00:11:10.603\nWe have gone in and we have talked about,\n\n236\n00:11:10.603 --> 00:11:15.206\nI'm just gonna bring up one of the two\ncommand lines I have open right now.\n\n237\n00:11:15.206 --> 00:11:19.093\nI've talked about CERT UTIL, the command\nline tool before in one of our prior,\n\n238\n00:11:19.093 --> 00:11:21.254\na couple of our prior episodes, actually.\n\n239\n00:11:21.254 --> 00:11:22.833\nAnd I mentioned it, told you what it does.\n\n240\n00:11:22.833 --> 00:11:24.873\nTold you it's an original\ncommand line tool, so\n\n241\n00:11:24.873 --> 00:11:27.132\nit would have been available\nway before PowerShell.\n\n242\n00:11:27.132 --> 00:11:30.449\nWe could use it do anything we\ndo in certificate authority MMC.\n\n243\n00:11:30.449 --> 00:11:34.022\nSo we can use it to administer and\ndo all the things, I showed it to you.\n\n244\n00:11:34.022 --> 00:11:36.477\nWhen I did the walk through\non how to do the backup and\n\n245\n00:11:36.477 --> 00:11:38.431\nrestore of the certificate authority.\n\n246\n00:11:38.431 --> 00:11:41.351\nAnd I showed you that we could use\nthe cert utility tool to do that and\n\n247\n00:11:41.351 --> 00:11:42.876\nI showed you how you would do that.\n\n248\n00:11:42.876 --> 00:11:47.064\nI actually ran a backup from the cert util\nas well as running it from the mmc if you\n\n249\n00:11:47.064 --> 00:11:47.708\nremember.\n\n250\n00:11:47.708 --> 00:11:53.201\nBut we also can use cert util to be\nable to do things like get a key, right?\n\n251\n00:11:53.201 --> 00:11:58.534\nAnd to do, if I just scroll down\nhere one second to do key recovery.\n\n252\n00:11:58.534 --> 00:12:02.833\nRecovery key,\nget key as you can see, this mark.\n\n253\n00:12:02.833 --> 00:12:06.413\nGet key, right here,\nretrieve archive, private keys.\n\n254\n00:12:06.413 --> 00:12:07.868\nRemember we talked about key recovery.\n\n255\n00:12:07.868 --> 00:12:09.615\nI can use certain util to set up and\n\n256\n00:12:09.615 --> 00:12:13.488\ndo key recovery from within the interface\nas well as doing it from within,\n\n257\n00:12:13.488 --> 00:12:16.749\nthe console, we walked through\nhow to do some of that before.\n\n258\n00:12:16.749 --> 00:12:21.357\nSo just reminding you about the value of\nCertUtil as a tool for troubleshooting for\n\n259\n00:12:21.357 --> 00:12:22.977\nadministrative purposes.\n\n260\n00:12:22.977 --> 00:12:26.399\nThere's also another tool aside\nfrom the ones we've been through,\n\n261\n00:12:26.399 --> 00:12:28.944\nthe certificate authority\ngraphical interface.\n\n262\n00:12:28.944 --> 00:12:32.634\nHere, as you can see, the certificates\nsnap in the MMC for local certificates,\n\n263\n00:12:32.634 --> 00:12:35.036\ngroup policy,\nto be able to publish certificates.\n\n264\n00:12:35.036 --> 00:12:36.700\nI walked you through\na lot of these already.\n\n265\n00:12:36.700 --> 00:12:39.509\nBut there's one other one that\na lot of people often forget, and\n\n266\n00:12:39.509 --> 00:12:41.916\nare not familiar with, and\nmay not have ever heard of.\n\n267\n00:12:41.916 --> 00:12:43.376\nIt's called PKIView,\n\n268\n00:12:43.376 --> 00:12:47.911\nyou can see that I just typed in PKIView\nright there, at a command prompt.\n\n269\n00:12:47.911 --> 00:12:50.514\nAnd when I did that,\nit opens up this console.\n\n270\n00:12:50.514 --> 00:12:56.028\nYou may or may not have seen it before but\nthis is the PKIView MMC.\n\n271\n00:12:56.028 --> 00:13:00.754\nAnd in PKIView, what we can do.\n\n272\n00:13:00.754 --> 00:13:05.289\nYou'll notice we can manage a CA, so\nfocus this on whatever CA we wanna manage.\n\n273\n00:13:05.289 --> 00:13:08.370\nIn this case I'm focusing in on,\nas you can see here,\n\n274\n00:13:08.370 --> 00:13:12.082\nthe PLABDM01 enterprise root CA,\nthe one that we have set up.\n\n275\n00:13:12.082 --> 00:13:15.247\nAnd in here,\nI could see the CA certificate,\n\n276\n00:13:15.247 --> 00:13:19.762\nthe location information for\nthe authoritative information.\n\n277\n00:13:19.762 --> 00:13:23.692\nThe AI and the certificate list\ndistribution point, the CDP,\n\n278\n00:13:23.692 --> 00:13:27.423\nI could see the Dell to CRL location\nI could see all of that stuff, and\n\n279\n00:13:27.423 --> 00:13:30.455\nI could certainly interact with and\nsee those things.\n\n280\n00:13:30.455 --> 00:13:33.221\nI can go grab under more actions here.\n\n281\n00:13:33.221 --> 00:13:37.845\nThe ability to manage and/or to,\nas you can see, view the CRL, copy it,\n\n282\n00:13:37.845 --> 00:13:38.672\nsave it off.\n\n283\n00:13:38.672 --> 00:13:42.751\nSo I can see things here,\nI can view certificates I can go in and\n\n284\n00:13:42.751 --> 00:13:46.533\nsee the various certificates\nwork with them if I need to.\n\n285\n00:13:46.533 --> 00:13:49.207\nI can copy the URL for the AAA or the CDP,\n\n286\n00:13:49.207 --> 00:13:52.467\nI can view the certificate\nassociated with it.\n\n287\n00:13:52.467 --> 00:13:54.472\nSo I can do all sorts of stuff here.\n\n288\n00:13:54.472 --> 00:13:57.740\nI can manage if you'll notice\nup at the top templates.\n\n289\n00:13:57.740 --> 00:13:59.559\nI can mange the AD container.\n\n290\n00:13:59.559 --> 00:14:01.451\nSo If I go to Manage Templates.\n\n291\n00:14:01.451 --> 00:14:05.163\nI can go to the Route CA and\nmanage my templates right from here.\n\n292\n00:14:05.163 --> 00:14:08.746\nSo, I have the capabilities of doing\nquite a few things with PKI View,\n\n293\n00:14:08.746 --> 00:14:10.327\nthat from an administration,\n\n294\n00:14:10.327 --> 00:14:14.706\ntroubleshooting, management perspective\nmay be helpful because it allows me to get\n\n295\n00:14:14.706 --> 00:14:18.025\naccess to a lot of the underline\narchitecture and information.\n\n296\n00:14:18.025 --> 00:14:23.150\nThat will be helpful and valuable for me,\nto be able to go in and to work with.\n\n297\n00:14:23.150 --> 00:14:26.379\nSo just wanted to point this out to you,\ncuz it is one of those tools that a lot of\n\n298\n00:14:26.379 --> 00:14:29.915\ntimes, often people just kinda overlook,\ndon't even think about unless they've\n\n299\n00:14:29.915 --> 00:14:33.287\nbeen doing this for a long time, and are\naware the fact that this tool may exist.\n\n300\n00:14:33.287 --> 00:14:38.115\nSo PKI view, another good tool just to be\naware of, think about, kind of just know,\n\n301\n00:14:38.115 --> 00:14:38.738\nis there.\n\n302\n00:14:38.738 --> 00:14:43.837\nIf you had a list of five or six tools in\nyour tool belt for PKI administration.\n\n303\n00:14:43.837 --> 00:14:48.239\nThat should certainly along with cert util\nalong with the certificate authority MMC\n\n304\n00:14:48.239 --> 00:14:52.083\nthat we're looking at right now,\nthe certificate snap in separately for\n\n305\n00:14:52.083 --> 00:14:52.591\nthe MMC.\n\n306\n00:14:52.591 --> 00:14:56.346\nAnd the group policy management console,\nwhich does allow us to automatically\n\n307\n00:14:56.346 --> 00:14:59.722\nconfigure things like auto enrollment and\npublishing certificates.\n\n308\n00:14:59.722 --> 00:15:03.780\nI'd say those five at a minimum plus\nPowerShells total of six, will definitely\n\n309\n00:15:03.780 --> 00:15:07.612\nbe on that list and you wanna have\na knowledge of them, have a sense of them.\n\n310\n00:15:07.612 --> 00:15:11.052\nWe talked about a lot of\nthe commandlets associated with\n\n311\n00:15:11.052 --> 00:15:14.284\nCertificate Services Management for\nPowerShell.\n\n312\n00:15:14.284 --> 00:15:16.076\nBe good for you to think about those.\n\n313\n00:15:16.076 --> 00:15:21.452\nIf you go out for instance and\njust do a quick Google search.\n\n314\n00:15:21.452 --> 00:15:23.980\nJust let me do this for\nyou while we're in here real quick.\n\n315\n00:15:27.862 --> 00:15:32.129\nReal quick being a relative thing,\nbut if you go to google.com right.\n\n316\n00:15:32.129 --> 00:15:37.964\nAnd [COUGH] what's our Google,\nSir John Cornforth's hundredth birthday.\n\n317\n00:15:37.964 --> 00:15:38.497\n&gt;&gt; Cool.\n\n318\n00:15:38.497 --> 00:15:39.873\n&gt;&gt; Well, there you go,\nhappy birthday Sir John.\n\n319\n00:15:39.873 --> 00:15:45.579\nAll right, so we go to Google, and\nwe do adcs PowerShell [COUGH] right,\n\n320\n00:15:45.579 --> 00:15:51.704\nsomething like that, don't even probably\nhave to do much more than that.\n\n321\n00:15:51.704 --> 00:15:55.263\nWhat we'll find is a listing,\nas we often see and we often show you,\n\n322\n00:15:55.263 --> 00:15:57.771\nof the PowerShell\ncommandlets that we can use.\n\n323\n00:15:57.771 --> 00:15:59.598\nLet's wait and\nsee if we get redirected there or not.\n\n324\n00:15:59.598 --> 00:16:01.204\n&gt;&gt; I don't know if Don\npaid the Internet bill.\n\n325\n00:16:01.204 --> 00:16:04.005\n&gt;&gt; It's possible, he may or may not have.\n\n326\n00:16:04.005 --> 00:16:05.839\nLet's just see if we, there we go.\n\n327\n00:16:05.839 --> 00:16:07.888\nAll right, so\nyou'll see we do get a listing for\n\n328\n00:16:07.888 --> 00:16:09.695\nthe commandlets in PowerShell, right.\n\n329\n00:16:09.695 --> 00:16:13.416\nSo we can just go in, take any one\nof those links that comes up, and\n\n330\n00:16:13.416 --> 00:16:18.390\nobviously for server 12R2, Windows 8.1,\netc, we could see those right here.\n\n331\n00:16:18.390 --> 00:16:23.342\nWe've been through a few of them but we've\ncertainly talked about quite a few, but\n\n332\n00:16:23.342 --> 00:16:26.755\nyou've seen me do and\nuse the install commands, right.\n\n333\n00:16:26.755 --> 00:16:30.031\nSo down here, as I keep scrolling up and\ndown, we've gone and\n\n334\n00:16:30.031 --> 00:16:33.955\nadded a CA distribution point,\nget removed, things like that, right.\n\n335\n00:16:33.955 --> 00:16:38.022\nSo just beware of the fact that\nwe do have these available,\n\n336\n00:16:38.022 --> 00:16:43.008\nand it would be helpful for you to\nmake sure you're familiar with them.\n\n337\n00:16:43.008 --> 00:16:46.336\nSo I'd add that to the list of tools just\nto have a sense of what's going on there\n\n338\n00:16:46.336 --> 00:16:48.162\nand make sure we're comfortable with it.\n\n339\n00:16:48.162 --> 00:16:51.750\nWe did remember configure on\none of our prior walk throughs.\n\n340\n00:16:51.750 --> 00:16:55.575\nThe online responder role I showed you,\nthat was one of the roles we could set and\n\n341\n00:16:55.575 --> 00:16:56.100\ndid that.\n\n342\n00:16:56.100 --> 00:16:58.563\nI just wanted to mention online\nresponders a little bit,\n\n343\n00:16:58.563 --> 00:16:59.910\njust quickly talk about them.\n\n344\n00:16:59.910 --> 00:17:04.106\nI also wanted to, if you give me just one\nsecond, show you the quick highlights on\n\n345\n00:17:04.106 --> 00:17:06.783\nthe versions for\nthe templates and the show notes.\n\n346\n00:17:06.783 --> 00:17:10.500\nI have all four versions, just some\ninformation about them, listed their key.\n\n347\n00:17:10.500 --> 00:17:12.571\nSaying yeah I want to talk to you\nabout them, I keep mentioning them,\n\n348\n00:17:12.571 --> 00:17:13.371\nI forgot to show it to you.\n\n349\n00:17:13.371 --> 00:17:16.131\nSo just a quick note,\nyou can see them in the show notes, but\n\n350\n00:17:16.131 --> 00:17:18.023\nI mentioned V1 through V4 templates.\n\n351\n00:17:18.023 --> 00:17:22.085\nVersion 1, I told you, only allowed to\nbe able to change permissions, right,\n\n352\n00:17:22.085 --> 00:17:25.970\nor disallow enrollment when we install\na CA Version 1 template, or rather,\n\n353\n00:17:25.970 --> 00:17:29.175\nwhen we install the CA,\nthose templates are there by default.\n\n354\n00:17:29.175 --> 00:17:33.096\nTold you right click,\nduplicate template becomes a Version 2.\n\n355\n00:17:33.096 --> 00:17:36.596\nAnd as a result of that we're\nthen able to, as I pointed out,\n\n356\n00:17:36.596 --> 00:17:38.946\nmodify more properties and set that up.\n\n357\n00:17:38.946 --> 00:17:42.153\nTemplates have to be a Version 2 at\na minimum to support auto enrollment,\n\n358\n00:17:42.153 --> 00:17:44.964\nprobably good for you to be aware\nof that as we've talked about.\n\n359\n00:17:44.964 --> 00:17:48.978\nI mentioned Version 3 templates, they\nsupport the next gen cryptography support.\n\n360\n00:17:48.978 --> 00:17:53.385\nSo that gives us our ability to use\nlike the RSA cryptographic support and\n\n361\n00:17:53.385 --> 00:17:56.069\nthings like that that we've spoken about.\n\n362\n00:17:56.069 --> 00:17:58.922\nSo just make sure you're aware of that.\n\n363\n00:17:58.922 --> 00:18:03.846\nWe can use the hash algorithms and\nthe more enhanced hash algorithms,\n\n364\n00:18:03.846 --> 00:18:06.939\nthe more enhanced cryptographic support.\n\n365\n00:18:06.939 --> 00:18:07.785\n&gt;&gt; Next gen.\n\n366\n00:18:07.785 --> 00:18:09.960\n&gt;&gt; RSA 4096 bit next gen.\n\n367\n00:18:09.960 --> 00:18:15.163\nSHA or Shy512, 256, etc,\nthose come from Version 3 templates.\n\n368\n00:18:15.163 --> 00:18:19.196\nAnd then Version 4 templates, only\navailable, can we go full-screen just for\n\n369\n00:18:19.196 --> 00:18:20.457\na second so it's above?\n\n370\n00:18:20.457 --> 00:18:21.233\nThere we go.\n\n371\n00:18:21.233 --> 00:18:26.806\nVersion 4 templates, right, you could see\nright here all the available on Server 12,\n\n372\n00:18:26.806 --> 00:18:31.352\n8, 8.1 and later and they are supported\nfor and do provide support for\n\n373\n00:18:31.352 --> 00:18:35.270\ncryptographic service providers and\nkey storage providers.\n\n374\n00:18:35.270 --> 00:18:41.400\nWe also get to specify the renewal and\nrequire renewal at the same key options.\n\n375\n00:18:41.400 --> 00:18:42.986\nSo just enhanced capabilities.\n\n376\n00:18:42.986 --> 00:18:45.641\nSo I just wanted to make\nsure you were aware of that.\n\n377\n00:18:45.641 --> 00:18:48.103\nThe capability, or\nrather compatibility tab,\n\n378\n00:18:48.103 --> 00:18:51.355\nwas added to certificate templates\nproperties for Version 4.\n\n379\n00:18:51.355 --> 00:18:53.696\nI showed you that were we\nsaw the compatibility tab.\n\n380\n00:18:53.696 --> 00:18:57.540\nWhen I was looking at a couple, we said\nlook, you can set different versions for\n\n381\n00:18:57.540 --> 00:18:58.789\nthe OS and for the client.\n\n382\n00:18:58.789 --> 00:19:00.535\nSo I showed you that and\nwe saw what that looked like.\n\n383\n00:19:00.535 --> 00:19:04.045\nSo I just wanted to make sure you've seen\nwhat those four template versions may\n\n384\n00:19:04.045 --> 00:19:07.608\nlook like and just have sense of them,\nbecause it's important to have a sense of\n\n385\n00:19:07.608 --> 00:19:10.286\nwhat they are just to make sure\nyou're familiar with them.\n\n386\n00:19:10.286 --> 00:19:13.732\nYou might want to go back, take a quick\nlook from the show notes as I suggested,\n\n387\n00:19:13.732 --> 00:19:14.671\nbrush up on all four,\n\n388\n00:19:14.671 --> 00:19:18.400\nknow the defining characteristics that I\nkind of highlighted and hit there for you.\n\n389\n00:19:18.400 --> 00:19:20.990\nThat way if you're asked about them,\nyou'll be familiar with them.\n\n390\n00:19:20.990 --> 00:19:24.159\nSo the online responder service, I just\nwanted to quickly mention that, one of\n\n391\n00:19:24.159 --> 00:19:27.258\nthe very last things we have to cover,\njust to make sure we remind you of that.\n\n392\n00:19:27.258 --> 00:19:31.160\nWe did show you how to set up the roles,\nso walk through that as part of a demo.\n\n393\n00:19:31.160 --> 00:19:33.479\nWe did configure it and\ntalked about what you would do with it.\n\n394\n00:19:33.479 --> 00:19:37.596\nRemember that's linked to OCSP,\nthe Online Certificate Status Protocol,\n\n395\n00:19:37.596 --> 00:19:41.458\nto double check or do the automated\nchecking of the CDP, the certificate\n\n396\n00:19:41.458 --> 00:19:45.160\nrevocation list distribution point,\nto automate the CRL process.\n\n397\n00:19:45.160 --> 00:19:48.825\nIt's really what the online responder\nin the OSP protocol does for us.\n\n398\n00:19:48.825 --> 00:19:51.289\nWe went ahead and set that up and we did,\n\n399\n00:19:51.289 --> 00:19:54.278\nalthough we did in the demo\nin the walk through,\n\n400\n00:19:54.278 --> 00:19:58.640\nkind of put in the online responder and\nthe CA together in one system.\n\n401\n00:19:58.640 --> 00:20:01.918\nThe recommendation is typically to\nput them in separate systems and\n\n402\n00:20:01.918 --> 00:20:04.228\ndifferentiate the systems\nbased on that role.\n\n403\n00:20:04.228 --> 00:20:07.911\nBecause the online responder,\nthey have to be made available somewhere,\n\n404\n00:20:07.911 --> 00:20:11.545\nperhaps in a DMZ, to let people to\ninteract with it and perhaps talk to it.\n\n405\n00:20:11.545 --> 00:20:15.617\nWhere the CA should be kept behind\nthe firewall not available, not published,\n\n406\n00:20:15.617 --> 00:20:17.764\nnot easily accessible to outside users.\n\n407\n00:20:17.764 --> 00:20:19.490\nSo we just want to think about that and\n\n408\n00:20:19.490 --> 00:20:21.449\njust from security stand point-\n&gt;&gt; Makes sense.\n\n409\n00:20:21.449 --> 00:20:24.524\n&gt;&gt; Perhaps have a sense of that and\nyou'll be aware of that.\n\n410\n00:20:24.524 --> 00:20:26.181\nSo just making sure you're\nfamiliar with that.\n\n411\n00:20:26.181 --> 00:20:29.126\nWe did talk about the fact,\nand I think I mentioned it,\n\n412\n00:20:29.126 --> 00:20:32.017\nServer 2008 R2 forward\ndoes support this role.\n\n413\n00:20:32.017 --> 00:20:35.522\nSo it's not new to 1212 R2,\nbeen around for a couple generations now.\n\n414\n00:20:35.522 --> 00:20:37.640\nBut just reminding you of that.\n\n415\n00:20:37.640 --> 00:20:41.189\nAlso making sure we need to know, so\npre-reqs, and we went through and\n\n416\n00:20:41.189 --> 00:20:43.214\ndid all this as part of the walk through.\n\n417\n00:20:43.214 --> 00:20:46.504\nBut IS has to be installed and\nconfigured, you saw me walk through and\n\n418\n00:20:46.504 --> 00:20:48.051\ndo all that as part of the set up.\n\n419\n00:20:48.051 --> 00:20:53.039\nWe have to make sure that we have the OCSP\nresponse signing certificate available to\n\n420\n00:20:53.039 --> 00:20:57.120\nus as a template, so we have to\nmake sure that's out and available.\n\n421\n00:20:57.120 --> 00:20:58.990\nI can actually show you\nthat really quickly.\n\n422\n00:20:58.990 --> 00:20:59.772\nJust give me a second.\n\n423\n00:20:59.772 --> 00:21:02.705\nI'm just gonna bring it back up cuz I\ndon't have it out there right now, but\n\n424\n00:21:02.705 --> 00:21:04.160\nI'll be happy just to show it to you.\n\n425\n00:21:04.160 --> 00:21:07.815\nSo if you wanna join me here,\nI'll just show you what I'm talking about.\n\n426\n00:21:07.815 --> 00:21:09.113\nIt's a Version 3 template.\n\n427\n00:21:09.113 --> 00:21:10.547\nSo I'm in the template console.\n\n428\n00:21:10.547 --> 00:21:14.493\nThis template right here would have\nto be made available on the CA.\n\n429\n00:21:14.493 --> 00:21:17.330\nSo I would have to publish\nthis template out by default.\n\n430\n00:21:17.330 --> 00:21:19.986\nYou'll notice it is not on\nthe list of available templates.\n\n431\n00:21:19.986 --> 00:21:23.622\nAnd I have reset the demo environment\nsince we did the walk through where we\n\n432\n00:21:23.622 --> 00:21:25.323\nenabled the online responder, so\n\n433\n00:21:25.323 --> 00:21:29.447\nit's not there where during that demo with\nthat configuration it would have been.\n\n434\n00:21:29.447 --> 00:21:33.542\nSo we just have to know that aside from\nhaving IS installed and configured,\n\n435\n00:21:33.542 --> 00:21:36.930\nwe would have to make sure we\nissue that template out on the CA.\n\n436\n00:21:36.930 --> 00:21:40.487\nSo I would just come in here as you\nsaw me do, I'll come over here,\n\n437\n00:21:40.487 --> 00:21:44.845\ngrab OCF's response signing, put that\nout there so that it's now available.\n\n438\n00:21:44.845 --> 00:21:49.516\nAnd then once that is there, along with IS\nand the URL for the online responder being\n\n439\n00:21:49.516 --> 00:21:53.152\npublished and made available,\nthen I would be able to use that.\n\n440\n00:21:53.152 --> 00:21:55.246\nSo just a couple of the things\nthat have to be there,\n\n441\n00:21:55.246 --> 00:21:56.777\njust to make sure you remember that.\n\n442\n00:21:56.777 --> 00:22:00.778\nWe do need to, in addition to doing\nall that, make sure that we have made\n\n443\n00:22:00.778 --> 00:22:05.185\navailable and publish this information\nright out to our clients that are gonna\n\n444\n00:22:05.185 --> 00:22:09.484\nuse or the apps that maybe p-care\nenable will use certificate revocation.\n\n445\n00:22:09.484 --> 00:22:11.697\nWe have to make sure they\nknow that we're using OCSP.\n\n446\n00:22:11.697 --> 00:22:14.614\nSo we need applications and\nsystems that are supporting that,\n\n447\n00:22:14.614 --> 00:22:15.777\nwhich means newer ones.\n\n448\n00:22:15.777 --> 00:22:16.869\nBecause, as we said,\n\n449\n00:22:16.869 --> 00:22:19.920\na lot of the older applications\nmay not be using this standard.\n\n450\n00:22:19.920 --> 00:22:22.352\nAnd so they may only still,\nor rather they may only-\n\n451\n00:22:22.352 --> 00:22:23.390\n&gt;&gt; Rely on that CRL.\n\n452\n00:22:23.390 --> 00:22:27.304\n&gt;&gt; The manual thought process, so it will\nbe a question of versioning and support.\n\n453\n00:22:27.304 --> 00:22:30.752\nBut at least the infrastructure on\nthe backend would be there if we needed to\n\n454\n00:22:30.752 --> 00:22:31.970\nenable, just so we know.\n\n455\n00:22:31.970 --> 00:22:36.371\n&gt;&gt; I feel like we should have the pickers\ncome to this show to check out our odds\n\n456\n00:22:36.371 --> 00:22:37.011\nand ends.\n\n457\n00:22:37.011 --> 00:22:37.956\nWhat are those guys names?\n\n458\n00:22:37.956 --> 00:22:38.641\n&gt;&gt; The American Pickers?\n\n459\n00:22:38.641 --> 00:22:39.916\n&gt;&gt; Yeah, the American Pickers.\n\n460\n00:22:39.916 --> 00:22:40.485\n&gt;&gt; Okay.\n\n461\n00:22:40.485 --> 00:22:42.888\nSo yeah,\nyeah sure we could have had them come.\n\n462\n00:22:42.888 --> 00:22:43.952\nThat would have been cool, right.\n\n463\n00:22:43.952 --> 00:22:44.489\n&gt;&gt; Yeah.\n\n464\n00:22:44.489 --> 00:22:46.516\n&gt;&gt; See if we could have sold them a-\n&gt;&gt; OSCP.\n\n465\n00:22:46.516 --> 00:22:48.999\n&gt;&gt; OCSP, everybody does that.\n\n466\n00:22:48.999 --> 00:22:50.438\n&gt;&gt; There's a certification\nwith the same acronym, and\n\n467\n00:22:50.438 --> 00:22:51.305\nI always get those two mixed up.\n\n468\n00:22:51.305 --> 00:22:53.393\n&gt;&gt; Everybody does that, OCSB.\n\n469\n00:22:53.393 --> 00:22:55.409\n&gt;&gt; [LAUGH]\n&gt;&gt; OCSB.\n\n470\n00:22:55.409 --> 00:22:57.677\n&gt;&gt; All right, we didn't have any pickers,\nbut we did have Mr.\n\n471\n00:22:57.677 --> 00:22:58.712\nAdam Gordon in the studio.\n\n472\n00:22:58.712 --> 00:22:59.981\nSo thank you for that, Adam.\n\n473\n00:22:59.981 --> 00:23:01.932\nAnd thank you for being with us also.\n\n474\n00:23:01.932 --> 00:23:04.956\nBut for this show, we are out of time,\nand we're gonna sign out.\n\n475\n00:23:04.956 --> 00:23:06.527\nI've been your host, Cherokee Boose.\n\n476\n00:23:06.527 --> 00:23:07.406\n&gt;&gt; I am Adam Gordon.\n\n477\n00:23:07.406 --> 00:23:08.504\n&gt;&gt; See you next time, bye.\n\n478\n00:23:08.504 --> 00:23:16.399\n[MUSIC]\n\n479\n00:23:16.399 --> 00:23:18.778\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "232994491"
        }
      ],
      "title": "Implementing  AD CS"
    },
    {
      "episodes": [
        {
          "description": "In this show,  Adam and Cherokee introduce Active Directory Rights Management Services. They cover key components such as the RMS server, client and RMS-enabled apps. Adam explains several types of Rights Account Certificates (RACs).",
          "length": "1681",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-1-implementing_ad_rms-090717.00_27_46_27.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-1-implementing_ad_rms-090717.00_27_46_27.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-1-implementing_ad_rms-090717.00_27_46_27.Still001-sm.jpg",
          "title": "Implementing AD RMS",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:00.913\nWelcome to ITPro.TV.\n\n2\n00:00:00.913 --> 00:00:02.232\nI'm your host Don Pezet.\n\n3\n00:00:02.232 --> 00:00:04.355\n[CROSSTALK]\n\n4\n00:00:04.355 --> 00:00:05.505\n[MUSIC]\n&gt;&gt; You're watching live from\n\n5\n00:00:05.505 --> 00:00:06.754\nSan Francisco, California.\n\n6\n00:00:06.754 --> 00:00:11.546\n[CROSSTALK] You're watching ITPro.TV\n&gt;&gt; Welcome to\n\n7\n00:00:11.546 --> 00:00:15.070\nyour Microsoft Server 2012 R2 series.\n\n8\n00:00:15.070 --> 00:00:16.875\nI'm your show host, Cherokee Boost.\n\n9\n00:00:16.875 --> 00:00:20.789\nIn this episode, we'll be taking\na look at how to implement AD RMS.\n\n10\n00:00:20.789 --> 00:00:24.226\nAnd with us today in studios\nwe have Microsoft expert, Mr.\n\n11\n00:00:24.226 --> 00:00:26.304\nAdam Gordon, how is it going Adam?\n\n12\n00:00:26.304 --> 00:00:29.773\n&gt;&gt; Going well, going well, hopefully\ngoing good for everybody out there.\n\n13\n00:00:29.773 --> 00:00:34.432\nIt is a bright, yellow, sunny kind\nof day here at ITPro.TV studios.\n\n14\n00:00:34.432 --> 00:00:38.058\n&gt;&gt; We should have a theme song like\nWalking On Sunshine like as our.\n\n15\n00:00:38.058 --> 00:00:38.880\n&gt;&gt; Katrina and the Waves.\n\n16\n00:00:38.880 --> 00:00:41.846\n&gt;&gt; [LAUGH]\n&gt;&gt; Cool song, cool song, we could do that.\n\n17\n00:00:41.846 --> 00:00:44.573\nOr we could just say it's\ntime to talk about AD RMS and\n\n18\n00:00:44.573 --> 00:00:46.756\nthat would also be an equally cool thing.\n\n19\n00:00:46.756 --> 00:00:48.781\n&gt;&gt; It could be pretty cool\n&gt;&gt; It may actually be more productive,\n\n20\n00:00:48.781 --> 00:00:50.346\nbecause we actually have stuff to do for\nthat.\n\n21\n00:00:50.346 --> 00:00:52.647\nI don't know all the lyrics\nto Walking On Sunshine.\n\n22\n00:00:52.647 --> 00:00:55.193\nNot that they were complicated,\nthere were only like three lines, but\n\n23\n00:00:55.193 --> 00:00:56.217\nI don't remember them all.\n\n24\n00:00:56.217 --> 00:01:00.727\nAnd I'm certainly not able to carry\na tune, so perhaps we should do the AD RMS\n\n25\n00:01:00.727 --> 00:01:04.129\nconversation And so\nlet's talk a little be about AD RMS.\n\n26\n00:01:04.129 --> 00:01:06.230\nSo maybe you can help\nme out here Cherokee.\n\n27\n00:01:06.230 --> 00:01:08.052\n&gt;&gt; Okay.\n&gt;&gt; I'm hoping you can and\n\n28\n00:01:08.052 --> 00:01:09.573\nyou usually are able to.\n\n29\n00:01:09.573 --> 00:01:12.037\nSo easy one, right,\neasy one not a hard one.\n\n30\n00:01:12.037 --> 00:01:15.590\nSo when I say that something's unfair\nCherokee looks at me like you're not gonna\n\n31\n00:01:15.590 --> 00:01:17.958\nask me this crazy question\nI have no answer for right?\n\n32\n00:01:17.958 --> 00:01:19.238\nSo no it's real simple.\n\n33\n00:01:19.238 --> 00:01:22.439\nSo let's talk just at a high\nlevel about what AD RMS is.\n\n34\n00:01:22.439 --> 00:01:25.685\nWe know it's one of the roles\nthat we can install,\n\n35\n00:01:25.685 --> 00:01:30.885\nconfigure,with regards to things like\nADDS, ABCS, Certificate Services.\n\n36\n00:01:30.885 --> 00:01:32.494\nWe've done a bunch of episodes on that.\n\n37\n00:01:32.494 --> 00:01:36.836\nWe'll have topics and conversations\ncoming up about Federation services so\n\n38\n00:01:36.836 --> 00:01:38.515\ntalk about some of the rules.\n\n39\n00:01:38.515 --> 00:01:43.430\nSo if we have to find kind of\nsummarize what AD RMS is for our good,\n\n40\n00:01:43.430 --> 00:01:48.264\nkind studio audience folk out\nthere in ITPro.TV's fan base.\n\n41\n00:01:48.264 --> 00:01:50.685\nWhat are we gonna tell everybody\nout there about AD RMS?\n\n42\n00:01:50.685 --> 00:01:52.787\n&gt;&gt; I don't know if I have\na perfect definition.\n\n43\n00:01:52.787 --> 00:01:54.988\nI would say-\n&gt;&gt; You are a perfect grammarian\n\n44\n00:01:54.988 --> 00:01:55.550\nby the way.\n\n45\n00:01:55.550 --> 00:01:57.511\nI was told,\nthere was a little birdie that came and\n\n46\n00:01:57.511 --> 00:01:59.206\ntold me that you are a perfect grammarian.\n\n47\n00:01:59.206 --> 00:02:03.068\nSo I'm assuming that you'll be equally\nup to the task of helping me to\n\n48\n00:02:03.068 --> 00:02:04.039\ndefine AD RMS.\n\n49\n00:02:04.039 --> 00:02:06.042\n&gt;&gt; Okay,\nlet's setting the bar high there, Adam.\n\n50\n00:02:06.042 --> 00:02:11.151\nI think, how about, let's just say\nit's a form of access control.\n\n51\n00:02:11.151 --> 00:02:16.426\nIn the most simplest terms,\nit's a way that we can limit resources and\n\n52\n00:02:16.426 --> 00:02:21.357\nreally granularly, granularly,\nsee, I'm not a grammarian.\n\n53\n00:02:21.357 --> 00:02:21.892\n&gt;&gt; Granularity.\n\n54\n00:02:21.892 --> 00:02:27.978\n&gt;&gt; [LAUGH] We can offer granularity\nat a really granular level.\n\n55\n00:02:27.978 --> 00:02:28.678\n&gt;&gt; Granularity?\n\n56\n00:02:28.678 --> 00:02:29.998\n&gt;&gt; [LAUGH]\n&gt;&gt; With granularity.\n\n57\n00:02:29.998 --> 00:02:31.647\nThat's like-\n&gt;&gt; Super grainy.\n\n58\n00:02:31.647 --> 00:02:33.125\n&gt;&gt; I'll take some coffee with my coffee.\n\n59\n00:02:33.125 --> 00:02:36.521\nSo how about if we said, and\nI like the concept of access control, but\n\n60\n00:02:36.521 --> 00:02:39.934\nmaybe let's think about it from\na slightly different perspective.\n\n61\n00:02:39.934 --> 00:02:44.398\nIt's not just access control, right,\nRMS is a little bit more than just, hey,\n\n62\n00:02:44.398 --> 00:02:47.168\nyou're not allowed to be\nable to get to that data.\n\n63\n00:02:47.168 --> 00:02:49.869\nBecause we may let people\nget to the data but\n\n64\n00:02:49.869 --> 00:02:52.809\nwe may control what level\nof access they have.\n\n65\n00:02:52.809 --> 00:02:56.769\nWhat permissions they may be given and or\nwhat conditions they may use the data.\n\n66\n00:02:56.769 --> 00:03:00.679\nSo, it's a little bit broader than what\nwe think was traditional access control.\n\n67\n00:03:00.679 --> 00:03:04.348\nWe would think of it more along\nthe lines of what we would call IRN,\n\n68\n00:03:04.348 --> 00:03:06.030\nyou may hear it as DRM as well.\n\n69\n00:03:06.030 --> 00:03:08.837\nInformation rights or\ndigital rights management,\n\n70\n00:03:08.837 --> 00:03:12.352\nthis idea of locking down and\nassigning permissions and rights.\n\n71\n00:03:12.352 --> 00:03:16.390\nSo definitely access control plays\na big part in what we think of, but\n\n72\n00:03:16.390 --> 00:03:21.128\ncontrolling at a granular level, as\nCherokee suggested, the ability for users\n\n73\n00:03:21.128 --> 00:03:25.683\nto consume, interact with, and ultimately\nuse data in one form or another.\n\n74\n00:03:25.683 --> 00:03:30.200\nMaybe it's a Word document,\nperhaps it's a PowerPoint slide deck,\n\n75\n00:03:30.200 --> 00:03:35.102\nan Excel spreadsheet, these are examples\nof things that could be protected\n\n76\n00:03:35.102 --> 00:03:37.568\nwith AD RMS or protected under AD RMS.\n\n77\n00:03:37.568 --> 00:03:42.576\nOffice is a AD RMS enabled app, so\nit certainly can understand, apply,\n\n78\n00:03:42.576 --> 00:03:48.583\nand offer us the protections associated,\ntraditionally, with the AD RMS solution.\n\n79\n00:03:48.583 --> 00:03:53.203\nExchange and SharePoint are examples\nof broader applications and\n\n80\n00:03:53.203 --> 00:03:55.770\nsystems that support AD RMS as well.\n\n81\n00:03:55.770 --> 00:04:00.087\nSo any, and by the way we have an SDK we\ncan use to develop apps that are AD RMS\n\n82\n00:04:00.087 --> 00:04:04.350\ncompliant, extending those permissions\ninto customized solutions.\n\n83\n00:04:04.350 --> 00:04:05.967\nSo we have a lot of different options.\n\n84\n00:04:05.967 --> 00:04:09.679\nBut granularity in access control,\nI like those concepts in terms of\n\n85\n00:04:09.679 --> 00:04:13.982\nthe explanation, because they do help us\nto focus in on what AD RMS is all about.\n\n86\n00:04:13.982 --> 00:04:18.459\nIt is about the idea of protecting\nintellectual property and assigning and\n\n87\n00:04:18.459 --> 00:04:23.223\ncontrolling rights that'll allow us to\nas creator owners to be able to decide,\n\n88\n00:04:23.223 --> 00:04:25.423\nnot only who gets to see our data, but\n\n89\n00:04:25.423 --> 00:04:30.494\nwhat conditions to an end with what levels\nof access but also with what constraints.\n\n90\n00:04:30.494 --> 00:04:35.117\nMaybe the can read only, maybe the cannot\nedit or modify, maybe they can read but\n\n91\n00:04:35.117 --> 00:04:36.277\nthey cannot print.\n\n92\n00:04:36.277 --> 00:04:39.944\nOr maybe they can take a look at\nthe document, perhaps print it but\n\n93\n00:04:39.944 --> 00:04:40.686\nnot save it.\n\n94\n00:04:40.686 --> 00:04:42.716\nPerhaps you'll open it up but\n\n95\n00:04:42.716 --> 00:04:46.380\nunder certain conditions\nnot allow to save locally.\n\n96\n00:04:46.380 --> 00:04:50.401\nYou'll hypothetically, right, as examples\nof permissions we may either use or\n\n97\n00:04:50.401 --> 00:04:53.099\ngranular controls we may\napply with regards to AD RMS.\n\n98\n00:04:53.099 --> 00:04:55.981\nSo that's worth a high five,\nthat was pretty cool, that was good.\n\n99\n00:04:55.981 --> 00:04:59.280\nIt's a good definition, especially on the\nfly literally cuz I didn't ask you that\n\n100\n00:04:59.280 --> 00:05:01.746\nahead of time, and you just picked\nthe ball up and ran with it.\n\n101\n00:05:01.746 --> 00:05:04.629\nSo you, Miss Cherokee,\nyou are the superstar.\n\n102\n00:05:04.629 --> 00:05:06.112\n&gt;&gt; I usually run away from the balls.\n\n103\n00:05:06.112 --> 00:05:07.756\nThat's why I don't do contact sports, but-\n&gt;&gt; No.\n\n104\n00:05:07.756 --> 00:05:09.484\n&gt;&gt; I'll stick with computers, yeah.\n\n105\n00:05:09.484 --> 00:05:11.542\n[LAUGH]\n&gt;&gt; Definitely not, definitely not.\n\n106\n00:05:11.542 --> 00:05:14.310\nOkay, so\nwe have a sense what our AD RMS is, but\n\n107\n00:05:14.310 --> 00:05:17.797\nlet's talk about the components,\nthe building blocks.\n\n108\n00:05:17.797 --> 00:05:20.975\nBecause this is one of those things\nthat does have several moving parts.\n\n109\n00:05:20.975 --> 00:05:25.463\nWe always have a server of some kind where\nwe set up, manage, maintain, implement, so\n\n110\n00:05:25.463 --> 00:05:27.482\nwe have a AD RMS role on the server side.\n\n111\n00:05:27.482 --> 00:05:31.810\nThat server should be a member of the ADDS\ndomain, so it's a domain based solution.\n\n112\n00:05:31.810 --> 00:05:34.051\nWe set up what's we call a cluster, or\n\n113\n00:05:34.051 --> 00:05:37.218\nmaybe RMS cluster by installing one or\nmore servers.\n\n114\n00:05:37.218 --> 00:05:40.051\nWe'll walk through the logic of all this,\nand\n\n115\n00:05:40.051 --> 00:05:42.604\nthen we publish to the ADDS our location.\n\n116\n00:05:42.604 --> 00:05:44.685\nAnd the cluster's then able to resolve,\n\n117\n00:05:44.685 --> 00:05:47.717\nor be resolved through it's\nown service connection point,\n\n118\n00:05:47.717 --> 00:05:51.523\nwhich is just a look up essentially that\nwe used in ADDS to be able to figure out\n\n119\n00:05:51.523 --> 00:05:55.050\nwhere this particular server, or\ngroup of services clusters may be.\n\n120\n00:05:55.050 --> 00:05:58.257\nSo computers that are members of\nthe domain will be able to connect,\n\n121\n00:05:58.257 --> 00:06:01.068\nlook up through the service\nconnection point, query, and\n\n122\n00:06:01.068 --> 00:06:03.058\nfind the location of the AD RMS services.\n\n123\n00:06:03.058 --> 00:06:07.275\nWe have AD RMS clients,\nanything going all the way back to Vista\n\n124\n00:06:07.275 --> 00:06:11.892\nactually forward into Windows 8.1 and\nbeyond into Windows 10,\n\n125\n00:06:11.892 --> 00:06:17.007\nwill act as a client natively, have\nthe AD RMS capability built into the OS.\n\n126\n00:06:17.007 --> 00:06:21.760\nWe do have downloadable external clients,\nwe add on that are not native to\n\n127\n00:06:21.760 --> 00:06:25.841\nthe OS for earlier versions, for\nWindows XP, for the MAC OS X.\n\n128\n00:06:25.841 --> 00:06:30.829\nSo in other words, for\nnone supported natively capable systems.\n\n129\n00:06:30.829 --> 00:06:32.909\nWe do have client downloads so\n\n130\n00:06:32.909 --> 00:06:38.571\nwe can add on a client of some kind that\nwe can offer so that non-Windows clients,\n\n131\n00:06:38.571 --> 00:06:43.674\nlike the Mac OS X, can consume and\nuse AD RMS enabled and protected data.\n\n132\n00:06:43.674 --> 00:06:47.208\nAlthough they may not be able to own or\ncreate AD RMS protected data,\n\n133\n00:06:47.208 --> 00:06:51.744\nwe can at least consume it, understand it,\nwork with it, and see the benefit of that.\n\n134\n00:06:51.744 --> 00:06:53.642\nAnd then we need AD RMS enabled apps.\n\n135\n00:06:53.642 --> 00:06:59.035\nAs I mentioned things like Office, for\nexample, going back to Office 2007,\n\n136\n00:06:59.035 --> 00:07:03.347\ncertainly to Office 2010 and\nforward, will support AD RMS.\n\n137\n00:07:03.347 --> 00:07:06.201\nWe need to do a little work\nthere with those seven, but\n\n138\n00:07:06.201 --> 00:07:10.843\ncertainly you could get systems like 10,\nOffice 13, Office 16 supporting it.\n\n139\n00:07:10.843 --> 00:07:14.951\nWe do need or do want to make a note\nin our minds of the fact that Exchange,\n\n140\n00:07:14.951 --> 00:07:19.194\nas I mentioned, going all the way back to,\nI think, Exchange 2010,\n\n141\n00:07:19.194 --> 00:07:22.694\nif I remember correctly,\n2013, certainly 2016.\n\n142\n00:07:22.694 --> 00:07:27.003\nSame thing with SharePoint, are AD RMS\nenabled and support that natively, and\n\n143\n00:07:27.003 --> 00:07:27.849\nwe can do that.\n\n144\n00:07:27.849 --> 00:07:32.432\nI mentioned the existence of what we\ncall the SDK, Software Development Kit,\n\n145\n00:07:32.432 --> 00:07:37.014\na third option where we can essentially\ngo in, Microsoft has a bunch of these,\n\n146\n00:07:37.014 --> 00:07:40.988\nthey allow us to be able to do\nexternal development on the platform.\n\n147\n00:07:40.988 --> 00:07:45.548\nBroadening and extending the reach\nof things like AD RMS enabled apps,\n\n148\n00:07:45.548 --> 00:07:49.655\nwe get to use open APIs and\ncontrol and create new capabilities.\n\n149\n00:07:49.655 --> 00:07:52.820\nSo you download that SDK,\nyou can go in and create or enable that\n\n150\n00:07:52.820 --> 00:07:56.948\nfunctionality for custom third-party apps\nthat may not normally be protected or\n\n151\n00:07:56.948 --> 00:07:58.231\nmay offer these rights.\n\n152\n00:07:58.231 --> 00:08:02.201\nSo that part's kind of nice, because it\ndoes extend the functionality for us so\n\n153\n00:08:02.201 --> 00:08:03.520\nwe can certainly do that.\n\n154\n00:08:03.520 --> 00:08:06.464\nWe do have a bunch of\ndifferent certificates and\n\n155\n00:08:06.464 --> 00:08:11.257\nlicenses that are involved in this process\nof setting up and using the AD RMS.\n\n156\n00:08:11.257 --> 00:08:13.891\nWe'll take a look at a bunch\nof these as we go through.\n\n157\n00:08:13.891 --> 00:08:16.801\nDo the walk-through on\nhow to enable the AD RMS.\n\n158\n00:08:16.801 --> 00:08:20.707\nI'm gonna do a hands-on demonstration\nto build out the AD RMS cluster.\n\n159\n00:08:20.707 --> 00:08:21.931\nSet it up, enable it.\n\n160\n00:08:21.931 --> 00:08:25.484\nSet up and walk through the logistics\nof how not only to configure it,\n\n161\n00:08:25.484 --> 00:08:28.364\nbut then also how to use\nthe management console to ensure\n\n162\n00:08:28.364 --> 00:08:31.020\nthat some of the things\nwe're about to talk about.\n\n163\n00:08:31.020 --> 00:08:34.878\nThe policies and things like that that we\nmay need to apply are gonna be available\n\n164\n00:08:34.878 --> 00:08:36.037\nand configured for us.\n\n165\n00:08:36.037 --> 00:08:36.994\nSo we do have that.\n\n166\n00:08:36.994 --> 00:08:40.206\nBut we start with the server\nlicensor certificate,\n\n167\n00:08:40.206 --> 00:08:42.326\nwhat is commonly known as the SLC.\n\n168\n00:08:42.326 --> 00:08:46.577\nIf you see that acronym or hear it, we're\nreferring to this license certificate\n\n169\n00:08:46.577 --> 00:08:49.407\ngranted to the AD RMS servers\nthat are in the cluster.\n\n170\n00:08:49.407 --> 00:08:53.799\nSo when we create and generate our\ncluster we generate this certificate.\n\n171\n00:08:53.799 --> 00:08:57.344\nNow I know, and I know the answer to this\none already cuz Cherokee knows this ahead\n\n172\n00:08:57.344 --> 00:09:00.596\nof time, we did talk about this, and\nI know you love this particular one.\n\n173\n00:09:00.596 --> 00:09:01.420\n&gt;&gt; [LAUGH] Gosh.\n\n174\n00:09:01.420 --> 00:09:03.825\n[LAUGH]\n&gt;&gt; Cuz we talked about the validity\n\n175\n00:09:03.825 --> 00:09:06.712\nperiod, this crazy wild long\nvalidity period for this SLC,\n\n176\n00:09:06.712 --> 00:09:08.422\nthe server licensor certificate.\n\n177\n00:09:08.422 --> 00:09:11.530\nSo I'm gonna let Cherokee tell us\nhow long the validity period is.\n\n178\n00:09:11.530 --> 00:09:15.374\nBefore you do that, just remember, and\nif you haven't seen our conversations on\n\n179\n00:09:15.374 --> 00:09:18.065\nADCS, prior episodes about\nthe certificate services.\n\n180\n00:09:18.065 --> 00:09:22.706\nSome of the conversation we're about to\nhave right now about certificates, and\n\n181\n00:09:22.706 --> 00:09:27.702\ntheir use and who's key we use under what\ncircumstances and that whole conversation.\n\n182\n00:09:27.702 --> 00:09:30.754\nDefinitely encourage to go back take\na look at some of the ADCS episodes.\n\n183\n00:09:30.754 --> 00:09:31.785\nI think Cherokee and\n\n184\n00:09:31.785 --> 00:09:35.912\nI did a pretty good job at helping you to\nbetter understand not only cryptographic\n\n185\n00:09:35.912 --> 00:09:40.426\ninformation associated with certificates,\nbut generally the broad ideas behind it.\n\n186\n00:09:40.426 --> 00:09:44.584\nBut just to remind you of validity period\nis before Cherokee tells us the extent,\n\n187\n00:09:44.584 --> 00:09:46.983\nthe range of this one,\nwhich is really crazy.\n\n188\n00:09:46.983 --> 00:09:48.068\nIt's the absolute longest one.\n\n189\n00:09:48.068 --> 00:09:48.696\n&gt;&gt; Are you gonna let them guess?\n\n190\n00:09:48.696 --> 00:09:49.575\n&gt;&gt; I think we have?\n\n191\n00:09:49.575 --> 00:09:50.260\n&gt;&gt; Are we gonna let them guess?\n\n192\n00:09:50.260 --> 00:09:50.820\n&gt;&gt; We could.\n\n193\n00:09:50.820 --> 00:09:52.725\n&gt;&gt; [LAUGH]\n&gt;&gt; If they wanna throw stuff in the chat\n\n194\n00:09:52.725 --> 00:09:54.425\nwindow, we'll see if anyone gets it right.\n\n195\n00:09:54.425 --> 00:09:58.021\nIf anybody has seen our earlier\nconversations, you may have heard us\n\n196\n00:09:58.021 --> 00:10:01.689\nmention when we did some of the ADCS\nstuff we didn't mention it there.\n\n197\n00:10:01.689 --> 00:10:03.745\nSee yeah, if anybody wants to do that,\nabsolutely.\n\n198\n00:10:03.745 --> 00:10:06.318\nThis is pre-recorded,\nso put up the banner.\n\n199\n00:10:06.318 --> 00:10:08.022\nIt's not live when you watch this.\n\n200\n00:10:08.022 --> 00:10:10.355\nSo don't try to submit live\nwhile you're watching it.\n\n201\n00:10:10.355 --> 00:10:13.327\nBut if nobody does while we're talking\nhere for a second, throw it in the chat\n\n202\n00:10:13.327 --> 00:10:16.045\nwindow while we're actually doing this,\nCherokee is gonna tell us.\n\n203\n00:10:16.045 --> 00:10:19.245\nBut what I just wanted to remind you of,\nor at least tell you if you're not\n\n204\n00:10:19.245 --> 00:10:21.993\nfamiliar with, what does this\nvalidity period really mean?\n\n205\n00:10:21.993 --> 00:10:25.429\nAnd you probably know what it means,\nbut just in case you're not familiar,\n\n206\n00:10:25.429 --> 00:10:27.737\nthe validity period is\nthe expiration timeline for\n\n207\n00:10:27.737 --> 00:10:30.278\nhow long this certificate in\nthis case will be good for.\n\n208\n00:10:30.278 --> 00:10:33.356\nEvery certificate issued regardless\nof what it's issued for,\n\n209\n00:10:33.356 --> 00:10:34.954\nregardless of what we do with it.\n\n210\n00:10:34.954 --> 00:10:39.771\nEven self-signed certificates that\nare issued by the CA directly to itself to\n\n211\n00:10:39.771 --> 00:10:44.960\nenable it to operate or certificates we\nissue through the CA that are self-signed.\n\n212\n00:10:44.960 --> 00:10:48.648\nAny certificate under any circumstance is\ngonna have some sort of validity period\n\n213\n00:10:48.648 --> 00:10:49.618\nassociated with it.\n\n214\n00:10:49.618 --> 00:10:52.636\nA perishable by or\nuse by date if you will.\n\n215\n00:10:52.636 --> 00:10:55.502\nAnd so we just wanna remember\nwhat validity period means.\n\n216\n00:10:55.502 --> 00:10:57.693\nAll right, so having said that,\n\n217\n00:10:57.693 --> 00:11:02.171\nCherokee's gonna tell us the duration\nof the SLC validity period.\n\n218\n00:11:02.171 --> 00:11:03.749\nHow long is that validity period?\n\n219\n00:11:03.749 --> 00:11:06.884\n&gt;&gt; The validity period is,\nI feel like I need a drum roll here.\n\n220\n00:11:06.884 --> 00:11:07.863\n&gt;&gt; Sure, should I give you a drum roll?\n\n221\n00:11:07.863 --> 00:11:09.512\nI could do that, are you ready, okay.\n\n222\n00:11:09.512 --> 00:11:10.620\nSo validity period is.\n\n223\n00:11:10.620 --> 00:11:13.639\n&gt;&gt; A whopping 250 years.\n\n224\n00:11:13.639 --> 00:11:15.444\n&gt;&gt; I don't have a rim shot but\nit's a cymbal.\n\n225\n00:11:15.444 --> 00:11:16.851\nAll right, 250 years!\n\n226\n00:11:16.851 --> 00:11:23.587\nI mean, that is a ridiculous,\nridiculously long validity period, right?\n\n227\n00:11:23.587 --> 00:11:27.492\nI'm thinking SLC, was about to SLC but\nit's a ridiculously long validity period\n\n228\n00:11:27.492 --> 00:11:29.997\nfor the SLC, for\nthe server licensor certificate.\n\n229\n00:11:29.997 --> 00:11:32.864\nAnd there is a reason why it\nis made this long by the way.\n\n230\n00:11:32.864 --> 00:11:35.892\nNot just randomly because somebody\nhit an extra key in there,\n\n231\n00:11:35.892 --> 00:11:38.290\nand said I meant 5 years, and I got 250.\n\n232\n00:11:38.290 --> 00:11:40.531\nThere actually is-\n&gt;&gt; [LAUGH]\n\n233\n00:11:40.531 --> 00:11:42.562\n&gt;&gt; A reality, a reason in reality,\n\n234\n00:11:42.562 --> 00:11:44.018\na reason why we do this.\n\n235\n00:11:44.018 --> 00:11:47.568\nAnd you actually asked me a question\nin some other conversation,\n\n236\n00:11:47.568 --> 00:11:51.308\nso I think it was in our ADCS episode\nwhere we're talking about PKI and\n\n237\n00:11:51.308 --> 00:11:55.264\nroot CAs and why the root is at the top\nand not the bottom of the hierarchy.\n\n238\n00:11:55.264 --> 00:11:59.165\nAnd I didn't really go into the details\nalthough I said, yes, I don't ponder it,\n\n239\n00:11:59.165 --> 00:12:00.523\nbut I do know the answer why.\n\n240\n00:12:00.523 --> 00:12:02.285\nI thought I would bring that back.\n\n241\n00:12:02.285 --> 00:12:03.167\n&gt;&gt; Are you feeling generous?\n\n242\n00:12:03.167 --> 00:12:05.682\n&gt;&gt; No, I just thought I'd bring it\nback and use this part of the answer.\n\n243\n00:12:05.682 --> 00:12:10.413\nI think it actually is kind of important\nwhat we talk about in regards to this.\n\n244\n00:12:10.413 --> 00:12:14.553\nBut there is a legitimate reason, several\nparticular reasons, but one in particular\n\n245\n00:12:14.553 --> 00:12:18.201\nwe can think of with regards to validity\nperiods that are this long, right?\n\n246\n00:12:18.201 --> 00:12:20.956\nAnd so\nwhy do we need a 250-year validity period?\n\n247\n00:12:20.956 --> 00:12:25.328\nBecause the rights associated\nwith protecting data, right?\n\n248\n00:12:25.328 --> 00:12:30.029\nIntellectual property, let's say, will be\nmost likely in place for quite some time.\n\n249\n00:12:30.029 --> 00:12:33.461\nIn other words, this data is not data\nthat may come and go quickly and\n\n250\n00:12:33.461 --> 00:12:36.908\nthe ADR must cluster,\nwell it's not gonna exist for 250 years.\n\n251\n00:12:36.908 --> 00:12:41.603\nLet's be honest, that's ridiculous, but\nthe protections afforded to this data may\n\n252\n00:12:41.603 --> 00:12:44.387\noutlive any one particular\nmember of the cluster.\n\n253\n00:12:44.387 --> 00:12:46.956\nAnd so as we set that up,\nwe want that to be extended for\n\n254\n00:12:46.956 --> 00:12:49.886\na very long period of time to\nensure those protections stay.\n\n255\n00:12:49.886 --> 00:12:53.764\nBecause we may have legal, statutory\nregulatory requirements that indicate\n\n256\n00:12:53.764 --> 00:12:56.994\nfrom a retention period standpoint,\nthat we have to keep data for\n\n257\n00:12:56.994 --> 00:12:58.303\na certain period of time.\n\n258\n00:12:58.303 --> 00:13:02.466\nBy federal law in the United States,\nwe have to keep business-related data for\n\n259\n00:13:02.466 --> 00:13:05.154\nseven years,\nGermany that standard is ten years.\n\n260\n00:13:05.154 --> 00:13:07.156\nIt's even broader in some countries.\n\n261\n00:13:07.156 --> 00:13:10.543\nAnd so there are reasons why we\nwould need a longer period of time.\n\n262\n00:13:10.543 --> 00:13:12.544\nSo that is just one of\nthe thought processes there.\n\n263\n00:13:12.544 --> 00:13:16.485\nWith regards to the root being at the top\nof the PKI hierarchy instead of at\n\n264\n00:13:16.485 --> 00:13:17.205\nthe bottom.\n\n265\n00:13:17.205 --> 00:13:17.762\n&gt;&gt; Yeah.\n&gt;&gt; My\n\n266\n00:13:17.762 --> 00:13:20.753\nparticular thought about this is\nthat all good things come, right?\n\n267\n00:13:20.753 --> 00:13:22.787\nWe think about a plant,\ncuz you set upside down, right?\n\n268\n00:13:22.787 --> 00:13:23.371\n&gt;&gt; Right.\n\n269\n00:13:23.371 --> 00:13:26.238\n&gt;&gt; Normally roots are at the bottom\nof the tree and everything grows, but\n\n270\n00:13:26.238 --> 00:13:29.397\nif you think about it, you can't have\nthe tree without the roots cuz the roots\n\n271\n00:13:29.397 --> 00:13:31.015\nare where all the goodness comes from.\n\n272\n00:13:31.015 --> 00:13:33.979\nEverything comes up through the soil,\nthe water, the nutrients,\n\n273\n00:13:33.979 --> 00:13:37.150\ngoes through the roots, makes the tree\nblossom and grow, and the root is\n\n274\n00:13:37.150 --> 00:13:40.336\nwhere all good stuff comes from, and\nthe PKI root is where it comes from.\n\n275\n00:13:40.336 --> 00:13:42.634\n&gt;&gt; Well then, why don't they just on\nthe diagrams invert it, that's all.\n\n276\n00:13:42.634 --> 00:13:43.215\nI'm saying.\n\n277\n00:13:43.215 --> 00:13:44.656\n&gt;&gt; Why don't they invert it?\n\n278\n00:13:44.656 --> 00:13:46.696\nSo in other words-\n&gt;&gt; Like the diagram itself.\n\n279\n00:13:46.696 --> 00:13:48.114\n&gt;&gt; On the diagram, right?\n\n280\n00:13:48.114 --> 00:13:50.465\nSo instead, wait,\njust give me one second here.\n\n281\n00:13:50.465 --> 00:13:51.493\n&gt;&gt; [LAUGH]\n&gt;&gt; Hold on.\n\n282\n00:13:51.493 --> 00:13:52.134\nHold on.\nWait, wait.\n\n283\n00:13:52.134 --> 00:13:52.878\nJust gotta get back to it.\n\n284\n00:13:52.878 --> 00:13:54.981\nSo go to the screen.\n\n285\n00:13:54.981 --> 00:13:56.722\nSo you're saying instead\nof it being this way-\n\n286\n00:13:56.722 --> 00:13:57.255\n&gt;&gt; Yeah.\n\n287\n00:13:57.255 --> 00:13:58.688\n&gt;&gt; You want it, can I do that?\n\n288\n00:13:58.688 --> 00:13:59.303\nLet me see if I can.\n\n289\n00:13:59.303 --> 00:14:00.023\nCan I rotate?\n\n290\n00:14:00.023 --> 00:14:03.203\n&gt;&gt; So who are the powers that be\nthat I need to talk to about this?\n\n291\n00:14:03.203 --> 00:14:03.797\nI mean.\n\n292\n00:14:03.797 --> 00:14:04.621\n&gt;&gt; No, I can't rotate, can I?\n\n293\n00:14:04.621 --> 00:14:07.115\nNo, so, can I rotate that?\n\n294\n00:14:07.115 --> 00:14:07.637\nI guess not.\n\n295\n00:14:07.637 --> 00:14:12.151\nSo you want the root at the bottom and\nyou want it to be like an inverted V,\n\n296\n00:14:12.151 --> 00:14:14.273\nor not an inverted V, rather a V.\n\n297\n00:14:14.273 --> 00:14:14.832\n&gt;&gt; Yeah.\n\n298\n00:14:14.832 --> 00:14:15.392\n&gt;&gt; Right.\n\n299\n00:14:15.392 --> 00:14:17.291\nOkay, so who's the powers that be\nthat you can talk to about that?\n\n300\n00:14:17.291 --> 00:14:18.787\nI have no idea.\n\n301\n00:14:18.787 --> 00:14:21.405\n&gt;&gt; [LAUGH]\n&gt;&gt; And I'm thinking that even if you found\n\n302\n00:14:21.405 --> 00:14:23.368\nthem and you asked,\nthey would tell you politely no.\n\n303\n00:14:23.368 --> 00:14:24.717\n&gt;&gt; [LAUGH]\n&gt;&gt; All right.\n\n304\n00:14:24.717 --> 00:14:26.018\nBut, good thought process but\n\n305\n00:14:26.018 --> 00:14:28.534\nmy take on it would be that I\njust think it's named the root.\n\n306\n00:14:28.534 --> 00:14:30.901\nAnd we call it the root because\nit's where everything starts from.\n\n307\n00:14:30.901 --> 00:14:35.225\nAnd you can grow a plant without starting\nwith the roots to grow from the roots up.\n\n308\n00:14:35.225 --> 00:14:36.684\n&gt;&gt; [LAUGH]\n&gt;&gt; So I think that's why.\n\n309\n00:14:36.684 --> 00:14:40.003\nI'm going with that answer,\nthat's what I'm sticking with right there.\n\n310\n00:14:40.003 --> 00:14:40.545\n&gt;&gt; All right.\n\n311\n00:14:40.545 --> 00:14:43.012\n&gt;&gt; All right, so let me just extend\nour time while we're talking here.\n\n312\n00:14:43.012 --> 00:14:47.390\nAnd let me just get back\nto where we will be.\n\n313\n00:14:47.390 --> 00:14:48.981\nWe're not gonna be using\nthe machine right now.\n\n314\n00:14:48.981 --> 00:14:51.241\nWe're just talking but\nthat will be our demo environment.\n\n315\n00:14:51.241 --> 00:14:53.295\nWe'll be going in and setting up ABRMS and\n\n316\n00:14:53.295 --> 00:14:56.301\ngoing through the logic of how\nwe do that in just a little bit.\n\n317\n00:14:56.301 --> 00:14:59.680\nSo we were talking about the server\nlicensor certificates and the fact that we\n\n318\n00:14:59.680 --> 00:15:03.156\nhave those validity period at 250 years\n&gt;&gt; They're gonna outlive all of us\n\n319\n00:15:03.156 --> 00:15:05.109\n&gt;&gt; That are going to outlive all of us and\n\n320\n00:15:05.109 --> 00:15:06.685\nmost likely are going to yes,\n\n321\n00:15:06.685 --> 00:15:09.720\noutlive us and several people beyond us,\nI would think.\n\n322\n00:15:09.720 --> 00:15:15.012\nBut we do also have what are called\nRACs or rights account certificates.\n\n323\n00:15:15.012 --> 00:15:18.676\nA RAC is going to be,\nexcuse me, given to clients, so\n\n324\n00:15:18.676 --> 00:15:22.178\ngiven to machines that\nare going to be consuming and\n\n325\n00:15:22.178 --> 00:15:26.915\nusing, or users that are gonna be\nconsuming and using this content.\n\n326\n00:15:26.915 --> 00:15:30.337\nAnd so\nthe RAC identifies a specific user, so\n\n327\n00:15:30.337 --> 00:15:35.485\nit's associated with the user,\nand the default validity period.\n\n328\n00:15:35.485 --> 00:15:39.476\nThe default validity period for\nthat is 365 days.\n\n329\n00:15:39.476 --> 00:15:43.445\nSo the RAC which is the client\ncertificate that identifies the user in\n\n330\n00:15:43.445 --> 00:15:45.712\nthe ADR MS system as being a valid user.\n\n331\n00:15:45.712 --> 00:15:48.724\nIs issued to an a ABDF user,\nsomebody who is in the domain,\n\n332\n00:15:48.724 --> 00:15:50.328\nwho is an authenticated user.\n\n333\n00:15:50.328 --> 00:15:54.045\nAnd we have to have an email address\nassociated with our account to be able to\n\n334\n00:15:54.045 --> 00:15:56.236\ndo this,\nthat way we can validate the user.\n\n335\n00:15:56.236 --> 00:16:00.766\nSo we use this, issue this to a user\nfirst time that they are attempting to\n\n336\n00:16:00.766 --> 00:16:04.354\naccess either ADR MS,\nenable them protective content.\n\n337\n00:16:04.354 --> 00:16:08.736\nOr they perform a task associated\nwith ADRMS related activities.\n\n338\n00:16:08.736 --> 00:16:12.535\nSo whenever they engage a system, however\nthat happens, they will first time they do\n\n339\n00:16:12.535 --> 00:16:15.995\nthat we check and say, hey, we don't\nhave a record of this Cherokee person.\n\n340\n00:16:15.995 --> 00:16:20.831\nLet's issue a RAC, an R A C, to her,\na rights account certificate.\n\n341\n00:16:20.831 --> 00:16:24.831\nLet's validate her, make sure she's in\nthe ADDS, and we give her a certificate.\n\n342\n00:16:24.831 --> 00:16:30.170\nWe have a default validity period\nof 365 days, so 1 year for that.\n\n343\n00:16:30.170 --> 00:16:33.770\nAnd then we also have temporary\nRACs that can be issued.\n\n344\n00:16:33.770 --> 00:16:36.790\nValidity period there by default,\n15 minutes.\n\n345\n00:16:36.790 --> 00:16:40.795\nAnd those are issued when a user accesses\ncontent from a computer that is not\n\n346\n00:16:40.795 --> 00:16:42.077\na member of the domain.\n\n347\n00:16:42.077 --> 00:16:44.837\nSo as a result, we want to make\nsure that we are aware of that.\n\n348\n00:16:44.837 --> 00:16:48.989\nThat if we're on a computer that is\ndomain joined, that we are a valid user.\n\n349\n00:16:48.989 --> 00:16:52.961\nWe will get a traditional RAC, 365 days\nin length, for the validity period.\n\n350\n00:16:52.961 --> 00:16:57.321\nIf we're on a non-domain joined machine,\nwe'll get what's called a temporary rack,\n\n351\n00:16:57.321 --> 00:16:59.717\na grant of rights to use and\naccess that content.\n\n352\n00:16:59.717 --> 00:17:00.849\nVery small window,\n\n353\n00:17:00.849 --> 00:17:05.117\nbut that temporary rack is not going to\nbe cached on the machine in question.\n\n354\n00:17:05.117 --> 00:17:09.693\nWhereas the normal RAC is cached and\nassociated with the user on that computer,\n\n355\n00:17:09.693 --> 00:17:11.342\nand so we keep track of that.\n\n356\n00:17:11.342 --> 00:17:15.057\nBut if the temporary rack is used,\nit can't be invoked by somebody logging in\n\n357\n00:17:15.057 --> 00:17:18.450\nand getting it after the fact because\nwe don't keep it on the machine.\n\n358\n00:17:18.450 --> 00:17:21.835\nIt's only there for 15 minutes and\nas a result is gonna go away.\n\n359\n00:17:21.835 --> 00:17:25.029\nSo just be aware of that, but we can\nadjust those validity periods, by the way.\n\n360\n00:17:25.029 --> 00:17:28.306\nI'll show you that in the console when we\ndo get around to getting the installation\n\n361\n00:17:28.306 --> 00:17:28.983\nup and running.\n\n362\n00:17:28.983 --> 00:17:32.524\nWe could take a look and we'll see\nthat we can go in and modify those,\n\n363\n00:17:32.524 --> 00:17:35.023\nthey are going to be\nchangeable if we choose to.\n\n364\n00:17:35.023 --> 00:17:37.391\nBut those are the default periods for\nthat, so just be aware of that.\n\n365\n00:17:37.391 --> 00:17:39.989\nWe do support some additional RACs,\nby the way.\n\n366\n00:17:39.989 --> 00:17:43.465\nWe talked about the standard RAC and\nthe temporary RAC.\n\n367\n00:17:43.465 --> 00:17:48.607\nBut we also have what's known as an ADFS,\nActive Directory Federation Services RAC.\n\n368\n00:17:48.607 --> 00:17:50.438\nThis is issued to federated users,\n\n369\n00:17:50.438 --> 00:17:53.130\nthat has a validity period\nby default of seven days.\n\n370\n00:17:53.130 --> 00:17:54.535\nSo we have that as well.\n\n371\n00:17:54.535 --> 00:17:58.464\nAnd we have two types of what\nare called Windows Live ID RACs, or\n\n372\n00:17:58.464 --> 00:18:01.654\nyou may know this years\nago as Microsoft Passport,\n\n373\n00:18:01.654 --> 00:18:06.350\nas the .NET Passport, as the Windows\nLive ID, as the Microsoft Account.\n\n374\n00:18:06.350 --> 00:18:09.467\nAs it's been kinda rebranded,\nwe moved away from Windows Live ID,\n\n375\n00:18:09.467 --> 00:18:11.227\nit's now called Microsoft Account.\n\n376\n00:18:11.227 --> 00:18:13.533\nThere's different names for\nit over the years,\n\n377\n00:18:13.533 --> 00:18:16.806\nbut generically we call them W Live or\nWindows Live ID RACs right now.\n\n378\n00:18:16.806 --> 00:18:20.761\nThese are used on private computers, they\nget a validity period by default of six\n\n379\n00:18:20.761 --> 00:18:23.453\nmonths, and\nthese are used also on public computers.\n\n380\n00:18:23.453 --> 00:18:26.067\nSo that way, again,\nmuch like a temporary RAC, but\n\n381\n00:18:26.067 --> 00:18:28.275\nyou're logging in with your Microsoft ID.\n\n382\n00:18:28.275 --> 00:18:32.478\nSo we associate it for you and give you\nrights to use it on a temporary computer,\n\n383\n00:18:32.478 --> 00:18:35.170\nand then it's removed again,\nit's not cached.\n\n384\n00:18:35.170 --> 00:18:39.618\nSo if you're using your Windows account,\nyour .NET password, whatever you want to\n\n385\n00:18:39.618 --> 00:18:43.322\ncall it, adam@outlook.com, or\nwhatever it is, or hotmail.com or\n\n386\n00:18:43.322 --> 00:18:47.734\nwhatever your Microsoft account may be,\nthen that would fall under that category.\n\n387\n00:18:47.734 --> 00:18:51.447\nJust so you know, so\nwe do have those kinds of RACs as well.\n\n388\n00:18:51.447 --> 00:18:54.983\nSo we actually have a total of four,\nactually five, different racks if we\n\n389\n00:18:54.983 --> 00:18:58.064\ninclude the temporary one,\nplus the two Windows Live ID ones and\n\n390\n00:18:58.064 --> 00:19:00.647\nthe Federation one as well,\nit's the standard one.\n\n391\n00:19:00.647 --> 00:19:03.471\nA total of five different racks\nthat are currently supported, so\n\n392\n00:19:03.471 --> 00:19:04.457\njust be aware of that.\n\n393\n00:19:04.457 --> 00:19:09.228\nWe do have client licensor certificates,\nso yet another certificate type.\n\n394\n00:19:09.228 --> 00:19:14.340\nThese allow users to publish ADRMS\nprotected content and make it available,\n\n395\n00:19:14.340 --> 00:19:18.917\neven if we are not connected to\nthe same network as the ADRMS cluster.\n\n396\n00:19:18.917 --> 00:19:22.420\nSo we can enable and\ncall in that ADRMS support.\n\n397\n00:19:22.420 --> 00:19:26.415\nWe do use those certificates to allow for\npublication of ADRMS protected data,\n\n398\n00:19:26.415 --> 00:19:27.970\njust so you're aware of that.\n\n399\n00:19:27.970 --> 00:19:32.364\nAnd we do have client licensor\ncertificates being tied to a specific\n\n400\n00:19:32.364 --> 00:19:33.299\nuser's RAC.\n\n401\n00:19:33.299 --> 00:19:38.127\nSo they are linked together in the sense\nthat a client licensor certificate and\n\n402\n00:19:38.127 --> 00:19:40.551\nthe RAC for the user are tied together.\n\n403\n00:19:40.551 --> 00:19:43.935\nSo that way, or rather the RAC for\nthe client are tied together, so\n\n404\n00:19:43.935 --> 00:19:47.137\nthat way we can associate the user and\nthe privilege to grant and\n\n405\n00:19:47.137 --> 00:19:50.524\nuse access controlled content,\nor ADR mess controlled content,\n\n406\n00:19:50.524 --> 00:19:52.961\nalong with the ability to\nbe able to publish it.\n\n407\n00:19:52.961 --> 00:19:54.053\nSo just be aware of that.\n\n408\n00:19:54.053 --> 00:19:58.372\nWe do have what is known as PLs,\nor publishing licenses.\n\n409\n00:19:58.372 --> 00:20:04.256\nA PL gives us the ability to apply\nADRMS protected rights to content,\n\n410\n00:20:04.256 --> 00:20:06.700\nso it tells us what we can do.\n\n411\n00:20:06.700 --> 00:20:08.055\nIt has a content key,\n\n412\n00:20:08.055 --> 00:20:12.210\nwhich is encrypted using the public\nkey of the licensing server.\n\n413\n00:20:12.210 --> 00:20:14.857\nWe've talked about this idea before,\nof what key do we use?\n\n414\n00:20:14.857 --> 00:20:18.795\nPrivate key only, what we call symmetric\nencryption, public-private key,\n\n415\n00:20:18.795 --> 00:20:20.099\nasymmetric encryption?\n\n416\n00:20:20.099 --> 00:20:24.500\nWhich key we use in a public pair,\nor public-private key pair,\n\n417\n00:20:24.500 --> 00:20:27.039\nindicates one side of the equation.\n\n418\n00:20:27.039 --> 00:20:29.530\nOne key is dedicated to one function,\nwe say.\n\n419\n00:20:29.530 --> 00:20:33.256\nSo in a private symmetric only system, the\nprivate key both encrypts and decrypts.\n\n420\n00:20:33.256 --> 00:20:37.970\nAnd it's very critical to keep that key\nsecure and make sure that we lock it\n\n421\n00:20:37.970 --> 00:20:42.177\ndown and do not share it unnecessarily or\nin an insecure fashion.\n\n422\n00:20:42.177 --> 00:20:46.498\nAnd if we do that, of course, we run\nthe risk of compromising the integrity and\n\n423\n00:20:46.498 --> 00:20:50.445\nthe confidentiality protections\nassociated with the use of that key.\n\n424\n00:20:50.445 --> 00:20:53.628\nBut in an asymmetric system,\na public-private key pair,\n\n425\n00:20:53.628 --> 00:20:57.015\nwe have a key that is designated\nspecifically to one function.\n\n426\n00:20:57.015 --> 00:21:00.030\nSo if the public key encrypts,\nonly the private key,\n\n427\n00:21:00.030 --> 00:21:03.190\nthe corresponding key pair,\nthe match, can decrypt.\n\n428\n00:21:03.190 --> 00:21:04.992\nAnd of course the opposite is true,\n\n429\n00:21:04.992 --> 00:21:08.310\nif the private key encrypts then\nonly the public key can decrypt.\n\n430\n00:21:08.310 --> 00:21:10.979\nAnd so\nwhen we think about the use of keys,\n\n431\n00:21:10.979 --> 00:21:16.015\nwe think about the use of how we will\ndeploy PKI, public key infrastructure and\n\n432\n00:21:16.015 --> 00:21:19.861\ncryptography, as a result of\nthat with keys and key pairs.\n\n433\n00:21:19.861 --> 00:21:21.139\nWe have to be always on guard and\n\n434\n00:21:21.139 --> 00:21:23.266\nalways to be thinking about\nwhat key is being used.\n\n435\n00:21:23.266 --> 00:21:26.626\nTraditionally in a public-private\nkey pair scenario,\n\n436\n00:21:26.626 --> 00:21:31.459\nwe will try to use the public key of the\nserver in these kinds of scenarios, right.\n\n437\n00:21:31.459 --> 00:21:36.822\nWhere the server has control over issues\nand is able to understand and interact\n\n438\n00:21:36.822 --> 00:21:42.279\nwith certificates and keys and data and\nall the staff that we'll have ADRMS do.\n\n439\n00:21:42.279 --> 00:21:47.790\nOr in the Certificate Services\nthe certificate hierarchy conversation\n\n440\n00:21:47.790 --> 00:21:52.228\nin ADCS, the ADCS CAs,\nthe root CA, the subordinate CA.\n\n441\n00:21:52.228 --> 00:21:56.342\nThey're issuing certificates, and\nthey have key pairs associated.\n\n442\n00:21:56.342 --> 00:22:01.148\nAnd we will take typically the public\nkey of the CA and we will use that,\n\n443\n00:22:01.148 --> 00:22:05.874\nit will be given to us, and we will\nuse that to encrypt some sort of data\n\n444\n00:22:05.874 --> 00:22:10.060\nthat we wanna send back and\nsecure the communicator around.\n\n445\n00:22:10.060 --> 00:22:14.474\nAnd that data may be a private key that we\nuse symmetrically to encrypt our own data,\n\n446\n00:22:14.474 --> 00:22:17.138\nallowing for\nthe exchange of that data securely.\n\n447\n00:22:17.138 --> 00:22:19.997\nI walked through in one of the ASCS\nepisodes if you haven't seen it,\n\n448\n00:22:19.997 --> 00:22:21.817\ndefinitely want to go back and\ntake a look.\n\n449\n00:22:21.817 --> 00:22:25.802\nI did a pretty thorough moment by moment,\nstep by step breakdown,\n\n450\n00:22:25.802 --> 00:22:28.860\nCherokee was able to help me do that,\nof how an SSL,\n\n451\n00:22:28.860 --> 00:22:33.434\na secure socket connection between\na client and a web server, takes place.\n\n452\n00:22:33.434 --> 00:22:37.452\nAnd broke down the six steps involved\nin that process more or less,\n\n453\n00:22:37.452 --> 00:22:42.258\nexplaining how a client makes a request of\na web server and how that web server and\n\n454\n00:22:42.258 --> 00:22:46.022\nclient mutually agree to\ncommunicate securely using HTTPS.\n\n455\n00:22:46.022 --> 00:22:49.018\nThe steps involved,\nthe exchange of keys, how that happens,\n\n456\n00:22:49.018 --> 00:22:52.918\nthe use of both symmetric and asymmetric\nencryption to drive that so we understand\n\n457\n00:22:52.918 --> 00:22:56.784\nhow that works, cause a lot of times\npeople just don't really understand that.\n\n458\n00:22:56.784 --> 00:23:00.074\nNobody has bothered to sit down and\ntake time to explain it to you.\n\n459\n00:23:00.074 --> 00:23:01.027\nAnd so we actually went through that.\n\n460\n00:23:01.027 --> 00:23:05.015\nAnd as I suggested at the beginning\nof this conversation in this episode,\n\n461\n00:23:05.015 --> 00:23:08.871\nmay be really valuable for you to go\nback and take a look at that episode,\n\n462\n00:23:08.871 --> 00:23:12.693\nget a really clear picture in your\nmind as to how we do these exchanges.\n\n463\n00:23:12.693 --> 00:23:16.910\nWhat key is used under what circumstances,\nto what end or for what reasons.\n\n464\n00:23:16.910 --> 00:23:20.527\nAnd I made reference there to the fact\nthat symmetric encryption is used to do\n\n465\n00:23:20.527 --> 00:23:22.346\nbulk encryption, it's very quick.\n\n466\n00:23:22.346 --> 00:23:27.282\nSo private key, single key only is\nvery quick for large volumes of data.\n\n467\n00:23:27.282 --> 00:23:31.151\nPublic-private key pair asymmetric\nencryption, traditionally not used for\n\n468\n00:23:31.151 --> 00:23:33.814\nbulk encryption large volumes\nof data cuz it's slow.\n\n469\n00:23:33.814 --> 00:23:36.807\nNow slower is a relative term but\nit is slower.\n\n470\n00:23:36.807 --> 00:23:40.789\nAnd so what we often see is that we will\nencrypt large volumes of data with a with\n\n471\n00:23:40.789 --> 00:23:44.302\na public, or excuse me,\nwith a private key symmetric encryption.\n\n472\n00:23:44.302 --> 00:23:47.880\nBut then we have the problem of how do\nwe secure the transmit that key, right?\n\n473\n00:23:47.880 --> 00:23:51.977\nAnd so what we then do is use\npublic-private key, asymmetric encryption,\n\n474\n00:23:51.977 --> 00:23:55.305\nto encrypt the symmetric private\nkey that encrypts the data,\n\n475\n00:23:55.305 --> 00:23:57.865\nsecurely transmit that\nkey to the other party,\n\n476\n00:23:57.865 --> 00:24:01.785\nhave them unencrypt the symmetric key\nthat was used to encrypt the data.\n\n477\n00:24:01.785 --> 00:24:05.130\nAnd then we can safely and\nbetween two parties communally exchange\n\n478\n00:24:05.130 --> 00:24:08.847\nthat data without fear of it being\ncompromised, or at least minimize it.\n\n479\n00:24:08.847 --> 00:24:10.071\nMitigating the fear of compromise.\n\n480\n00:24:10.071 --> 00:24:11.449\nSo, wanna be thinking about that.\n\n481\n00:24:11.449 --> 00:24:14.180\nAnd we did not plan and\nbring those keys with us yet again.\n\n482\n00:24:14.180 --> 00:24:15.625\nAnother missed opportunity\n&gt;&gt; My gosh.\n\n483\n00:24:15.625 --> 00:24:17.428\nI think we should just get fired.\n\n484\n00:24:17.428 --> 00:24:18.695\n&gt;&gt; Can I just drop the mic?\n\n485\n00:24:18.695 --> 00:24:19.492\nI'll just walk off in a huff.\n\n486\n00:24:19.492 --> 00:24:20.280\n&gt;&gt; [LAUGH] Drop the mic.\n\n487\n00:24:20.280 --> 00:24:21.878\n&gt;&gt; Can we just come back and get the keys?\n\n488\n00:24:21.878 --> 00:24:22.969\n&gt;&gt; But our mics are attached to the table.\n\n489\n00:24:22.969 --> 00:24:24.642\n&gt;&gt; Well we can drop the mouse,\nit's kinda the same thing.\n\n490\n00:24:24.642 --> 00:24:25.603\n&gt;&gt; Okay.\n&gt;&gt; So anyways,\n\n491\n00:24:25.603 --> 00:24:28.759\nif you haven't seen that episode I think\nit's good to go back, take a look.\n\n492\n00:24:28.759 --> 00:24:36.060\nBut the idea is that the PL,\nthe publishing licenses, Are gonna\n\n493\n00:24:36.060 --> 00:24:40.007\nbe encrypted by the public licensing\nserver which means that only the private\n\n494\n00:24:40.007 --> 00:24:44.270\nkey of the licensing server can actually\nunencrypt and understand what's there.\n\n495\n00:24:44.270 --> 00:24:45.306\nThey have the URL and\n\n496\n00:24:45.306 --> 00:24:49.576\nthe digital signature of the AD RMS server\nassociated with them to validate them and\n\n497\n00:24:49.576 --> 00:24:52.264\nto tell us how to find the AD RMS\nserver and what it is.\n\n498\n00:24:52.264 --> 00:24:55.544\nWe also have use licenses or\nend user licenses.\n\n499\n00:24:55.544 --> 00:24:57.354\nYou hear them referred to either way.\n\n500\n00:24:57.354 --> 00:25:01.153\nThis is required to consume\nthe actual AD RMS protected data so\n\n501\n00:25:01.153 --> 00:25:05.100\nthe AD RMS server issues one end\nuser license per user document,\n\n502\n00:25:05.100 --> 00:25:07.819\nor two per user per document,\nI should say.\n\n503\n00:25:07.819 --> 00:25:10.945\nAnd they're cached on the system\nwhere they're issued to by default.\n\n504\n00:25:10.945 --> 00:25:12.065\nSo be aware of that.\n\n505\n00:25:12.065 --> 00:25:15.789\nThen we also have rights policy templates\nas kinda the building blocks that we\n\n506\n00:25:15.789 --> 00:25:16.318\nwill use.\n\n507\n00:25:16.318 --> 00:25:19.733\nThe rights policy templates are gonna\nlay down what kind of rights we want\n\n508\n00:25:19.733 --> 00:25:20.462\nto associate.\n\n509\n00:25:20.462 --> 00:25:23.776\nAre we giving you read permission\nof the document, as we said?\n\n510\n00:25:23.776 --> 00:25:24.415\nPrint?\n\n511\n00:25:24.415 --> 00:25:25.488\nAre we gonna let you save?\n\n512\n00:25:25.488 --> 00:25:26.628\nAre we gonna let you edit?\n\n513\n00:25:26.628 --> 00:25:30.702\nThis is what takes place in\nthe rights policy templates.\n\n514\n00:25:30.702 --> 00:25:34.481\nAnd then those rights policy templates\nget applied to the document.\n\n515\n00:25:34.481 --> 00:25:38.310\nWe'll say, for Word we're gonna use\nthis particular policy template and\n\n516\n00:25:38.310 --> 00:25:40.148\nthis is what's gonna get applied.\n\n517\n00:25:40.148 --> 00:25:41.490\nAnd that's how we do this.\n\n518\n00:25:41.490 --> 00:25:43.942\nAnd we'll see that we can\nalso do exclusions and\n\n519\n00:25:43.942 --> 00:25:46.286\nwe can do a bunch of\ndifferent stuff in there.\n\n520\n00:25:46.286 --> 00:25:49.510\nWe'll exclude certain users or\ncertain types of things, allow others,\n\n521\n00:25:49.510 --> 00:25:51.656\nthere's all sorts of stuff\nwe'll be able to do.\n\n522\n00:25:51.656 --> 00:25:53.441\nWe'll take a look and\nsee how all that works.\n\n523\n00:25:53.441 --> 00:25:57.177\nWe'll kinda go through the logic of it,\nstepping through it as we go.\n\n524\n00:25:57.177 --> 00:26:01.339\nBut we do wanna keep in mind that\nbecause we have one, two, three, four,\n\n525\n00:26:01.339 --> 00:26:05.570\nfive different certificate and\nlicense types, combinations of them as we\n\n526\n00:26:05.570 --> 00:26:10.564\ntalked about, plus the templates, a total\nof six different building blocks overall.\n\n527\n00:26:10.564 --> 00:26:14.490\nWe have the SLC, the RACs, I'm just\ncounting real quick in my notes while I'm\n\n528\n00:26:14.490 --> 00:26:17.657\ntalking to make sure I get it right,\nthree certificate types.\n\n529\n00:26:17.657 --> 00:26:22.615\nThe SLC the server license or certificate,\nthe RAC, the rights account certificate,\n\n530\n00:26:22.615 --> 00:26:24.701\nthe client license or certificate.\n\n531\n00:26:24.701 --> 00:26:26.039\nSo three certificate types.\n\n532\n00:26:26.039 --> 00:26:27.897\nWe have publishing licences.\n\n533\n00:26:27.897 --> 00:26:30.438\nSo publishing licences, end user licences.\n\n534\n00:26:30.438 --> 00:26:33.777\nTwo licence types and\nthen we have a rights policy template or\n\n535\n00:26:33.777 --> 00:26:35.358\ngroup of policy templates.\n\n536\n00:26:35.358 --> 00:26:38.721\nWe have three distinct groups of\nthings that have to come together and\n\n537\n00:26:38.721 --> 00:26:42.846\nbe issued properly and configured properly\nfor us to be able to make the system work.\n\n538\n00:26:42.846 --> 00:26:46.766\nSo all of these things have to\nbe part of the conversation.\n\n539\n00:26:46.766 --> 00:26:50.028\nAnd as we continue into some of our other\nepisodes and start to get in to how do we\n\n540\n00:26:50.028 --> 00:26:53.193\ndo it, not just let's talk at high level,\nlet's actually see it happen,\n\n541\n00:26:53.193 --> 00:26:56.659\nwhich we'll do, we'll be able to bring\nall these pieces together and actually,\n\n542\n00:26:56.659 --> 00:26:58.496\nhopefully, make them make sense for you.\n\n543\n00:26:58.496 --> 00:27:01.294\nBut do wanna make sure you're\ncomfortable with the idea.\n\n544\n00:27:01.294 --> 00:27:04.665\nWe don't have enough time in this episode,\njust looking at the clock,\n\n545\n00:27:04.665 --> 00:27:07.937\nto actually walk through,\nhave a step-by-step kinda breakdown.\n\n546\n00:27:07.937 --> 00:27:11.095\nI've got nine steps in the process,\nI think, as I'm looking in my notes.\n\n547\n00:27:11.095 --> 00:27:12.348\nHave a nice little list for\n\n548\n00:27:12.348 --> 00:27:15.603\nyou about traditional nine steps\nassociated with how AD RMS works.\n\n549\n00:27:15.603 --> 00:27:18.211\nWe'll go back, kinda revisit them,\nbreak them down, and\n\n550\n00:27:18.211 --> 00:27:20.884\nexplain them in a little more\ndepth in our upcoming episode.\n\n551\n00:27:20.884 --> 00:27:23.469\nSo you'll definitely wanna come back,\ntake a look at that.\n\n552\n00:27:23.469 --> 00:27:28.187\nAnd in addition, besides all that, we'll\nbegin our actual hands on demonstration,\n\n553\n00:27:28.187 --> 00:27:31.430\nour walk through of how to start\nconfiguring AD RMS as well.\n\n554\n00:27:31.430 --> 00:27:32.062\n&gt;&gt; All right.\n\n555\n00:27:32.062 --> 00:27:36.031\nThat was a great introduction to AD RMS\nbut we have so much more to cover.\n\n556\n00:27:36.031 --> 00:27:37.919\nSo ladies and\ngentleman stay tuned for that.\n\n557\n00:27:37.919 --> 00:27:40.950\nFor this show we are out of time and\nwe're gonna go ahead and sign out.\n\n558\n00:27:40.950 --> 00:27:42.978\nI've been your host Cherokee Boose.\n\n559\n00:27:42.978 --> 00:27:46.651\n&gt;&gt; I am a rights account certificate and\nI am coming to a machine near you.\n\n560\n00:27:46.651 --> 00:27:47.343\n&gt;&gt; See you next time.\n\n561\n00:27:47.343 --> 00:27:50.081\n&gt;&gt; Soon, hopefully.\n\n562\n00:27:50.081 --> 00:27:56.156\n[MUSIC]\n\n563\n00:27:56.156 --> 00:28:00.990\n&gt;&gt; Thank you for watching IT ProTV.\n\n",
          "vimeoId": "232994230"
        },
        {
          "description": "In this show, Cherokee and Adam take time to provide a deep explanation of the AD RMS process Adam offers his nine step process but simply urges exam takers to not necessarily  memorize the steps but rather comprehend the process. Next, Adam demonstrates how to install necessary features and components for RMS.",
          "length": "2153",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-2-implementing_ad_rms_pt2-090717.00_35_38_05.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-2-implementing_ad_rms_pt2-090717.00_35_38_05.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-2-implementing_ad_rms_pt2-090717.00_35_38_05.Still001-sm.jpg",
          "title": "Implementing AD RMS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.235\nWelcome to ITProTV.\n\n2\n00:00:01.235 --> 00:00:02.395\nI'm your host Don.\n\n3\n00:00:02.395 --> 00:00:06.039\n[CROSSTALK]\n\n4\n00:00:06.039 --> 00:00:08.277\n[MUSIC]\n\n5\n00:00:08.277 --> 00:00:12.117\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.117 --> 00:00:15.056\n&gt;&gt; Welcome back to your\nWindows Server 2012 series.\n\n7\n00:00:15.056 --> 00:00:17.048\nI'm your show host, Cherokee Boose.\n\n8\n00:00:17.048 --> 00:00:22.092\nIn this episode, we'll continue\ntaking a look at implementing ADRMS.\n\n9\n00:00:22.092 --> 00:00:24.896\nIn the last episode,\nAdam set a great foundation.\n\n10\n00:00:24.896 --> 00:00:27.562\nBut I have a feeling that we're not\nquite done with this topic yet.\n\n11\n00:00:27.562 --> 00:00:29.897\nSo thank you for joining us today Adam.\n\n12\n00:00:29.897 --> 00:00:32.033\n&gt;&gt; You're welcome, thank you for\nextending my invitation,\n\n13\n00:00:32.033 --> 00:00:34.423\nbecause I was ready to leave, but-\n&gt;&gt; [LAUGH]\n\n14\n00:00:34.423 --> 00:00:35.358\n&gt;&gt; You said no, come on back.\n\n15\n00:00:35.358 --> 00:00:37.671\n&gt;&gt; Well,\nI heard you had something to cover here.\n\n16\n00:00:37.671 --> 00:00:40.631\nSome kind of steps,\nsomething that we need to know.\n\n17\n00:00:40.631 --> 00:00:41.983\n&gt;&gt; I do, as a matter of fact,\n\n18\n00:00:41.983 --> 00:00:44.885\nthe steps involved making\nthe perfect cup of espresso.\n\n19\n00:00:44.885 --> 00:00:47.168\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm very passionate about espresso,\n\n20\n00:00:47.168 --> 00:00:50.445\nas you know, and I have a nine step\nfull proof process for doing that.\n\n21\n00:00:50.445 --> 00:00:53.257\nBut I was gonna share that with you,\nbut Cherokee said, no,\n\n22\n00:00:53.257 --> 00:00:56.638\nno, no, share the nine steps associated\nwith how ABR must works first.\n\n23\n00:00:56.638 --> 00:00:59.293\nSo instead of how to make\nthe perfect cup of espresso,\n\n24\n00:00:59.293 --> 00:01:02.011\nyou can email Cherokee if you\nwanna know how to do that.\n\n25\n00:01:02.011 --> 00:01:04.622\nI'm gonna share with you how AVR works.\n\n26\n00:01:04.622 --> 00:01:06.470\nI did say in the last episode by the way,\n\n27\n00:01:06.470 --> 00:01:10.166\nthat I would walk through this process\nwith you just before we got into the hands\n\n28\n00:01:10.166 --> 00:01:13.709\non kind of let's start the demonstration,\nkick off how we do the install.\n\n29\n00:01:13.709 --> 00:01:14.907\nSo we're gonna walk through the steps.\n\n30\n00:01:14.907 --> 00:01:15.851\nThey are in the show notes.\n\n31\n00:01:15.851 --> 00:01:18.358\nI'm gonna use the show notes\nafter just talk to the steps, so\n\n32\n00:01:18.358 --> 00:01:20.287\nwe're gonna put them up on the screen for\nyou.\n\n33\n00:01:20.287 --> 00:01:22.454\nThey'll be right over\nthere when they come up.\n\n34\n00:01:22.454 --> 00:01:22.959\n&gt;&gt; Bam.\n\n35\n00:01:22.959 --> 00:01:24.908\n&gt;&gt; And we are, bam,\nwe need that, that's perfect.\n\n36\n00:01:24.908 --> 00:01:28.567\n&gt;&gt; Yeah, we need sound effects, [LAUGH]\n&gt;&gt; Little emerald sound effect there,\n\n37\n00:01:28.567 --> 00:01:29.097\nright?\n\n38\n00:01:29.097 --> 00:01:31.712\nSo we're gonna go through these,\nthey are in the show notes.\n\n39\n00:01:31.712 --> 00:01:35.065\nPlease feel free, as we often encourage\nyou to do, take a look at the show notes.\n\n40\n00:01:35.065 --> 00:01:38.679\nGet all of the documentation that we\noften talk from and/or refer to, for\n\n41\n00:01:38.679 --> 00:01:39.796\nsomething like this.\n\n42\n00:01:39.796 --> 00:01:42.829\nGives you a nice set of steps to\nused to organize your thoughts, but\n\n43\n00:01:42.829 --> 00:01:46.634\nalso to make sure you've got everything\norganized, you understand how it works.\n\n44\n00:01:46.634 --> 00:01:49.146\nAnd from a studying standpoint\nit could be valuable for\n\n45\n00:01:49.146 --> 00:01:52.271\nyou just to make sure you know\nthe key takeaways or things involved.\n\n46\n00:01:52.271 --> 00:01:54.281\nSo let's go ahead and let's start.\n\n47\n00:01:54.281 --> 00:02:00.044\nSo step number one, how does AD RMS\nwork has it function, what do we do?\n\n48\n00:02:00.044 --> 00:02:03.928\nFirst time an author configures\nrights protection for a document,\n\n49\n00:02:03.928 --> 00:02:07.822\na client licensor certificate is\nrequested from the AD RMS server.\n\n50\n00:02:07.822 --> 00:02:11.232\nWe talked about these certificates,\nthese licenses, what they are.\n\n51\n00:02:11.232 --> 00:02:13.593\nWe went through those in our last episode.\n\n52\n00:02:13.593 --> 00:02:16.825\nIf you don't remember those or\nhave not seen that conversation,\n\n53\n00:02:16.825 --> 00:02:20.013\nthis particular conversation may\nnot make as much sense to you.\n\n54\n00:02:20.013 --> 00:02:23.903\nIt may be good to go back and just make\nsure that you are familiar with them.\n\n55\n00:02:23.903 --> 00:02:25.938\nOr if you have downloaded the show notes,\nor\n\n56\n00:02:25.938 --> 00:02:28.911\nstopped as we were getting started\nto know, let me go get those.\n\n57\n00:02:28.911 --> 00:02:30.531\nGood idea, I don't have them.\n\n58\n00:02:30.531 --> 00:02:33.297\nGo grab them, cuz we do make\nthem available for download.\n\n59\n00:02:33.297 --> 00:02:37.416\nIf you look right above this section in\nthe show notes, you will see my discussion\n\n60\n00:02:37.416 --> 00:02:41.428\nof all of those licenses and certificates\nthat I went through in the last show.\n\n61\n00:02:41.428 --> 00:02:43.880\nAnd if you look below this\nsection on the show notes,\n\n62\n00:02:43.880 --> 00:02:46.240\nyou'll see detailed\nconversations about them.\n\n63\n00:02:46.240 --> 00:02:50.047\nWhat they are, what they're used for,\nthe timelines associated with certificate\n\n64\n00:02:50.047 --> 00:02:53.227\nvalidity periods, all that kind of\nstuff is kind of part of the notes.\n\n65\n00:02:53.227 --> 00:02:55.496\nYou'll see all the stuff I shared\nwith you in the notes there,\n\n66\n00:02:55.496 --> 00:02:56.643\nif you take a look, all right?\n\n67\n00:02:56.643 --> 00:03:01.918\nSo we do request a client license or\ncertificate from the AD RMS server.\n\n68\n00:03:01.918 --> 00:03:06.148\nThe client locates the server, remember\nwe talked about the use of the service\n\n69\n00:03:06.148 --> 00:03:10.054\nconnection point, the look up in ADDS\nin order to find the AD RMS server or\n\n70\n00:03:10.054 --> 00:03:13.217\nservers if there is more than\none that make up the cluster.\n\n71\n00:03:13.217 --> 00:03:14.961\nSo all that is happening in step 1.\n\n72\n00:03:14.961 --> 00:03:18.866\nStep 2, server the AD RMS server\nIssues the client license or\n\n73\n00:03:18.866 --> 00:03:23.086\ncertificate to the client,\nunless the client is on an exclusion.\n\n74\n00:03:23.086 --> 00:03:25.778\nI mentioned just in passing\nin the last episode,\n\n75\n00:03:25.778 --> 00:03:29.718\nthat in addition to granting rights,\nusing rights policy templates,\n\n76\n00:03:29.718 --> 00:03:33.676\nto be able to say these rights will\nbe associated with this kind of data.\n\n77\n00:03:33.676 --> 00:03:36.420\nIf you have a Word document,\nyou get this kind of right.\n\n78\n00:03:36.420 --> 00:03:39.727\nWe can create what are called\nexclusion policies as well,\n\n79\n00:03:39.727 --> 00:03:41.285\nwe have an exclusion list.\n\n80\n00:03:41.285 --> 00:03:45.107\nThat is filtered by or\nfed by three distinct categories.\n\n81\n00:03:45.107 --> 00:03:49.052\nWe can do it by what's called lockbox\nwhich is a reference to the version of\n\n82\n00:03:49.052 --> 00:03:51.097\nthe operating system for the client.\n\n83\n00:03:51.097 --> 00:03:53.923\nWe can do it by an application reference.\n\n84\n00:03:53.923 --> 00:03:57.922\nIf you have winword.exe,\nyou are an exclusionalist,\n\n85\n00:03:57.922 --> 00:04:00.141\nyou will not be able to do this.\n\n86\n00:04:00.141 --> 00:04:02.085\nThere's a trick associated with that,\nby the way.\n\n87\n00:04:02.085 --> 00:04:05.741\nI'll explain what I mean when we get to\nthat which can actually fool the exclusion\n\n88\n00:04:05.741 --> 00:04:07.694\npolicy when it's based on applications.\n\n89\n00:04:07.694 --> 00:04:09.720\nBelieve it or not,\nthere's a way to get around that,\n\n90\n00:04:09.720 --> 00:04:10.989\nwe don't often talk about that.\n\n91\n00:04:10.989 --> 00:04:14.445\nBut we will explain that to you and\ntell you how to cheat the system,\n\n92\n00:04:14.445 --> 00:04:16.565\nif you're very interested in doing so.\n\n93\n00:04:16.565 --> 00:04:19.181\nThere's a little trick that\nwe use to get around that.\n\n94\n00:04:19.181 --> 00:04:22.678\nAnd then, also based on user,\nuser accounts.\n\n95\n00:04:22.678 --> 00:04:25.231\nWe can call out a certain user and\nsay specifically,\n\n96\n00:04:25.231 --> 00:04:27.967\nthis user will be excluded\nunder these circumstances.\n\n97\n00:04:27.967 --> 00:04:30.168\nSo we may be on an exclusion list.\n\n98\n00:04:30.168 --> 00:04:33.947\nIf we are, of course, we will not be\ngranted a client license or certificate,\n\n99\n00:04:33.947 --> 00:04:37.405\nbecause we're not gonna be granted\nrights to use and consume content.\n\n100\n00:04:37.405 --> 00:04:40.868\nBut assuming we're not on the naughty\nlist then we will be allowed, Cherokee,\n\n101\n00:04:40.868 --> 00:04:42.583\nby the way, is the keeper of that list.\n\n102\n00:04:42.583 --> 00:04:47.006\nAnd if you upset here, well, look out,\ncuz she is apt to put you on the exclusion\n\n103\n00:04:47.006 --> 00:04:50.650\nlist and then you may not get your\nclient license or certificate.\n\n104\n00:04:50.650 --> 00:04:51.923\n&gt;&gt; But luckily-\n&gt;&gt; We're going to you if that-\n\n105\n00:04:51.923 --> 00:04:53.196\n&gt;&gt; We're not in Holland and\n\n106\n00:04:53.196 --> 00:04:54.594\nKrampus isn't involved.\n\n107\n00:04:54.594 --> 00:04:58.443\nYou just don't get anything here, and\nUnited States, he don't get taken away.\n\n108\n00:04:58.443 --> 00:05:01.603\n&gt;&gt; So that's your attempt to talk\nabout movies that you have seen?\n\n109\n00:05:01.603 --> 00:05:04.753\n&gt;&gt; No, this is Krampus is the scary-\n&gt;&gt; I know.\n\n110\n00:05:04.753 --> 00:05:05.534\n&gt;&gt; Okay-\n&gt;&gt; But\n\n111\n00:05:05.534 --> 00:05:06.559\nthere's a movie-\n&gt;&gt; There's a movie?\n\n112\n00:05:06.559 --> 00:05:07.313\nI didn't know that, okay.\n\n113\n00:05:07.313 --> 00:05:08.177\n&gt;&gt; You ssociated with that as well.\n\n114\n00:05:08.177 --> 00:05:10.593\nSo, okay cool-\n&gt;&gt; [LAUGH]\n\n115\n00:05:10.593 --> 00:05:11.552\n&gt;&gt; Awesome, awesome attempt to that-\n\n116\n00:05:11.552 --> 00:05:12.205\n&gt;&gt; Movie reference that I\n\n117\n00:05:12.205 --> 00:05:13.588\ndidn't even know-\n&gt;&gt; Awesome attempt,\n\n118\n00:05:13.588 --> 00:05:14.785\nawesome attempt very good.\n\n119\n00:05:14.785 --> 00:05:18.105\nAll right, so getting back to\nwhat we are here to talk about.\n\n120\n00:05:18.105 --> 00:05:20.113\nRemember keep her off camera.\n\n121\n00:05:20.113 --> 00:05:21.798\nMute the mic do not let her speak.\n\n122\n00:05:21.798 --> 00:05:26.782\nAll right, so let's continue, and do keep\nme on track and keep me honest here, okay?\n\n123\n00:05:26.782 --> 00:05:28.178\n&gt;&gt; Okay.\n&gt;&gt; So step number 3, so\n\n124\n00:05:28.178 --> 00:05:32.084\nwe've talked about the exclusion list, the\nidea of being able to verify essentially,\n\n125\n00:05:32.084 --> 00:05:33.693\nwhether a user should have rights.\n\n126\n00:05:33.693 --> 00:05:37.069\nAnd if so, under what conditions will we\ngrant them a license or certificate, so\n\n127\n00:05:37.069 --> 00:05:37.826\nthat was step 2.\n\n128\n00:05:37.826 --> 00:05:42.116\nStep 3, the author receives or when\nthe author receives the client license or\n\n129\n00:05:42.116 --> 00:05:46.481\ncertificate from the AD RMS server to\ncreate content assign permissions to it.\n\n130\n00:05:46.481 --> 00:05:49.166\nThey can then configure usage\nrights on their document.\n\n131\n00:05:49.166 --> 00:05:52.088\nThe author performs\nthe configuration either manually.\n\n132\n00:05:52.088 --> 00:05:54.758\nWe could just go in to\nthe area in the document.\n\n133\n00:05:54.758 --> 00:05:57.101\nThere's usually a little\ncontrol tab on the menu.\n\n134\n00:05:57.101 --> 00:05:59.729\nWe could then go in and\nassign those permissions, or\n\n135\n00:05:59.729 --> 00:06:02.189\nwe could use one of\nthe pre-created templates.\n\n136\n00:06:02.189 --> 00:06:03.583\nAnd we may pull that down and apply that.\n\n137\n00:06:03.583 --> 00:06:07.317\nReally just depends on how we\nchoose to do this, up to us, okay?\n\n138\n00:06:07.317 --> 00:06:09.264\nSo we have that, step number 4,\n\n139\n00:06:09.264 --> 00:06:13.378\nwhere the author configures the usage\nrights the AD RMS enabled that.\n\n140\n00:06:13.378 --> 00:06:16.417\nRemember, we're thinking Microsoft Office\njust as a baseline here.\n\n141\n00:06:16.417 --> 00:06:20.411\nSo let's say we're using Office 2016 or\nOffice 2013.\n\n142\n00:06:20.411 --> 00:06:24.006\nLet's say we're in Microsoft Word or\nPowerPoint, whatever the case may be.\n\n143\n00:06:24.006 --> 00:06:26.218\nThat would be our AD RMS enable app just,\nso\n\n144\n00:06:26.218 --> 00:06:29.728\nencrypts the file with the symmetric\nkey we've talked about this.\n\n145\n00:06:29.728 --> 00:06:33.197\nThat's the private key,\nthat is gonna be used private key only,\n\n146\n00:06:33.197 --> 00:06:34.468\nsymmetric single key.\n\n147\n00:06:34.468 --> 00:06:36.485\nPrivate key only not a key pair.\n\n148\n00:06:36.485 --> 00:06:41.221\nSo, the private key cuz remember, the\nsingle key only private key encryption,\n\n149\n00:06:41.221 --> 00:06:46.164\nvery fast good for bulk encryption of data\nnot the asymmetric public private key pair\n\n150\n00:06:46.164 --> 00:06:48.270\ncuz that's not good for very fast.\n\n151\n00:06:48.270 --> 00:06:51.271\nLarge volumes of data being encrypted,\nbut very good for\n\n152\n00:06:51.271 --> 00:06:55.649\nsecurely transmitting asymmetric key, the\ndating large volumes of data to make it\n\n153\n00:06:55.649 --> 00:06:59.293\navailable to the server but\nkeep it away from the bad actors, right?\n\n154\n00:06:59.293 --> 00:07:01.895\nSo wanna think about that,\nwe'll talk more about that that as we go.\n\n155\n00:07:01.895 --> 00:07:02.951\nRemember Pirate Petey, right?\n\n156\n00:07:02.951 --> 00:07:04.690\n&gt;&gt; Yeah.\n&gt;&gt; Who's our bad actor that we're gonna\n\n157\n00:07:04.690 --> 00:07:05.297\ntalk about here.\n\n158\n00:07:05.297 --> 00:07:06.439\n&gt;&gt; That's the only one we're\nallowed to talk about.\n\n159\n00:07:06.439 --> 00:07:07.783\n&gt;&gt; That's the only one we're\nallowed to talk about.\n\n160\n00:07:07.783 --> 00:07:11.480\nSo when the author configures the usage\nrights, the app that is enabled will\n\n161\n00:07:11.480 --> 00:07:14.332\nencrypt the file with a symmetric key,\nprivate key only.\n\n162\n00:07:14.332 --> 00:07:18.488\nSymmetric key is generated locally on\nthe clients device at the point of\n\n163\n00:07:18.488 --> 00:07:19.395\ninteraction.\n\n164\n00:07:19.395 --> 00:07:23.434\nSo, lets say I'm on the my Windows 10\nmachine and I'm using Office 16 and\n\n165\n00:07:23.434 --> 00:07:24.376\nI'm using Word.\n\n166\n00:07:24.376 --> 00:07:28.763\nGot an ADMRS enabled solution,\nmy client licensor certificate,\n\n167\n00:07:28.763 --> 00:07:31.596\ngot the rights to apply AD RMS protection.\n\n168\n00:07:31.596 --> 00:07:34.503\nSo I've done that,\nthe minute I do that, I'm gonna hit OK,\n\n169\n00:07:34.503 --> 00:07:37.934\nthen the symmetric key is gonna be\nused that's generated on my system.\n\n170\n00:07:37.934 --> 00:07:41.062\nAnd is gonna then be used to drive\nencryption through the app and\n\n171\n00:07:41.062 --> 00:07:44.615\nencrypt the data, assigning protections\nto it as part of the process.\n\n172\n00:07:44.615 --> 00:07:47.824\nWhen the AD RMS protection\nis applied to the document,\n\n173\n00:07:47.824 --> 00:07:51.541\nwe then actually see the document\nbeing in an encrypted state.\n\n174\n00:07:51.541 --> 00:07:55.939\nSo it's not until step 4, which is\nroughly, we have nine steps at that line\n\n175\n00:07:55.939 --> 00:08:00.753\nin this process, roughly halfway through\nthe process right now Not until the end of\n\n176\n00:08:00.753 --> 00:08:05.533\nstep four that we actually start to apply\nprotections to the data or the document.\n\n177\n00:08:05.533 --> 00:08:09.433\nCuz the first three steps are just all\nabout the set up that takes place,\n\n178\n00:08:09.433 --> 00:08:11.645\nthe initial communication path back and\n\n179\n00:08:11.645 --> 00:08:15.288\nforth between the user who wants\nto protect data, the client, and\n\n180\n00:08:15.288 --> 00:08:18.377\nthe server who can grant the rights for\nthe user to do so.\n\n181\n00:08:18.377 --> 00:08:21.434\nThat's setup to exchange\nrequest validate and\n\n182\n00:08:21.434 --> 00:08:25.792\nget a client licensor certificate\nin place, giving us the rights to\n\n183\n00:08:25.792 --> 00:08:30.394\nactually protect our AD RMS-enabled\napp to use it to protect the data.\n\n184\n00:08:30.394 --> 00:08:32.097\nSo all that's taking place\nup until this point,\n\n185\n00:08:32.097 --> 00:08:33.767\nwe haven't done anything\nother than that yet.\n\n186\n00:08:33.767 --> 00:08:35.457\nNow, we're on step five, right?\n\n187\n00:08:35.457 --> 00:08:37.027\nSo let me just scroll\ndown a little bit here.\n\n188\n00:08:37.027 --> 00:08:40.032\nBring step five up so we can see that.\n\n189\n00:08:40.032 --> 00:08:44.220\nAnd step five, the symmetric key, the one\nwe just used to encrypt the data on\n\n190\n00:08:44.220 --> 00:08:46.851\nthe client machine, my Windows 10 machine.\n\n191\n00:08:46.851 --> 00:08:48.270\nSo my private key,\n\n192\n00:08:48.270 --> 00:08:53.965\nmy symmetric key is then encrypted using\nthe public key of the AD RMS server.\n\n193\n00:08:53.965 --> 00:08:54.959\nOops, darn.\n\n194\n00:08:54.959 --> 00:08:56.344\nHold on one second.\n\n195\n00:08:56.344 --> 00:08:58.538\nRight idea, wrong way.\n\n196\n00:08:58.538 --> 00:09:01.124\nI really do have to learn how\nto use a mouse at some point,\n\n197\n00:09:01.124 --> 00:09:02.456\nthat would be very helpful.\n\n198\n00:09:02.456 --> 00:09:04.252\nOkay, right there.\n\n199\n00:09:04.252 --> 00:09:05.797\nThat's what I was trying to do.\n\n200\n00:09:05.797 --> 00:09:07.649\nYou can see there really are show notes,\nby the way, so\n\n201\n00:09:07.649 --> 00:09:08.706\na whole bunch below and above.\n\n202\n00:09:08.706 --> 00:09:11.041\nAnd they all turn blue when\nI highlight apparently.\n\n203\n00:09:11.041 --> 00:09:13.426\nTechnology is just absolutely fabulous.\n\n204\n00:09:13.426 --> 00:09:15.345\nAll right,\nonly when it works the right way.\n\n205\n00:09:15.345 --> 00:09:18.951\nSo you can see, and I'm highlighting this\nstatement so we can just walk through,\n\n206\n00:09:18.951 --> 00:09:20.738\nto just make sure you're clear on this.\n\n207\n00:09:20.738 --> 00:09:23.138\nWe're actually using two kinds\nof encryption in this process.\n\n208\n00:09:23.138 --> 00:09:27.369\nPrivate-only symmetric key encryption\nat point of contact to encrypt the data\n\n209\n00:09:27.369 --> 00:09:31.236\non the client machine, after we get\nthe client license or certificate.\n\n210\n00:09:31.236 --> 00:09:32.908\nThat's the first part of the encryption.\n\n211\n00:09:32.908 --> 00:09:34.322\nData is now protected.\n\n212\n00:09:34.322 --> 00:09:37.824\nBut that data is protected by a private\nkey that if I share in an unsecure way\n\n213\n00:09:37.824 --> 00:09:41.388\nit's gonna compromise the protections and\nessentially I might not have,\n\n214\n00:09:41.388 --> 00:09:44.975\nI might as well not have even protected\nthe data in the first place, right?\n\n215\n00:09:44.975 --> 00:09:48.319\nCuz I go to all this trouble and the data\nis gonna be read by bad actors and\n\n216\n00:09:48.319 --> 00:09:49.645\nthe data is not protected.\n\n217\n00:09:49.645 --> 00:09:52.464\nSo now the shift that I have to engage and\nmentally around\n\n218\n00:09:52.464 --> 00:09:56.128\nthe protection of the data is that\nthe data itself is protected, right?\n\n219\n00:09:56.128 --> 00:09:59.788\nBut now it becomes a question of how do\nI protect the key, this outer ring here,\n\n220\n00:09:59.788 --> 00:10:03.133\nhow do I protect the key that's encrypted,\nI'm protecting the data.\n\n221\n00:10:03.133 --> 00:10:08.032\nIf I can't protect the key, the data\nhas now become essentially open and\n\n222\n00:10:08.032 --> 00:10:09.811\nanybody can see it right?\n\n223\n00:10:09.811 --> 00:10:10.957\nSo, we have a problem.\n\n224\n00:10:10.957 --> 00:10:13.834\nI've shifted the burden of\nprotection out one layer, but\n\n225\n00:10:13.834 --> 00:10:15.311\nI saw the same exact problem.\n\n226\n00:10:15.311 --> 00:10:19.439\nIt's no longer the data, it's now the key\nthat protects the data that is the subject\n\n227\n00:10:19.439 --> 00:10:20.850\nof the need for protection.\n\n228\n00:10:20.850 --> 00:10:23.574\nAnd that's what the second sentence\nin the statement deals with.\n\n229\n00:10:23.574 --> 00:10:27.023\nHow do we securely safeguard\nthat symmetric private key, and\n\n230\n00:10:27.023 --> 00:10:29.542\nhow do we transmit it and\nmake it available for\n\n231\n00:10:29.542 --> 00:10:32.680\nuse to secure authorized\nparties without exposing it?\n\n232\n00:10:32.680 --> 00:10:36.257\nThat's where the asymmetric\nencryption thought process comes in,\n\n233\n00:10:36.257 --> 00:10:37.742\npublic-private key pair.\n\n234\n00:10:37.742 --> 00:10:41.887\nAnd so, we now have to use\nthe public key of the AD RMS server.\n\n235\n00:10:41.887 --> 00:10:44.540\nRemember public keys as\nthe name implies are available.\n\n236\n00:10:44.540 --> 00:10:45.361\nThey are public.\n\n237\n00:10:45.361 --> 00:10:47.461\nWe give them out, you can see that.\n\n238\n00:10:47.461 --> 00:10:50.850\nThey're not secret because they\ncan only be used for one thing.\n\n239\n00:10:50.850 --> 00:10:55.010\nIf we use them to encrypt, then the\nprivate key and the corresponding key and\n\n240\n00:10:55.010 --> 00:10:57.358\nthe key pair, which is held by the server.\n\n241\n00:10:57.358 --> 00:11:01.243\nNot communicated to anybody, not shared,\nis the only key that can decrypt, and\n\n242\n00:11:01.243 --> 00:11:04.731\nwe make an assumption here, and\nI've talked about this in other shows,\n\n243\n00:11:04.731 --> 00:11:06.582\nin other episodes for other reasons.\n\n244\n00:11:06.582 --> 00:11:08.835\nI'll remind you of it here.\n\n245\n00:11:08.835 --> 00:11:12.487\nWe make an assumption about how\nthese cryptographic systems work,\n\n246\n00:11:12.487 --> 00:11:16.342\nhow their protections are applied,\nand the value of that protection.\n\n247\n00:11:16.342 --> 00:11:18.895\nAnd I know, I understand,\nand so should you,\n\n248\n00:11:18.895 --> 00:11:21.989\nand making assumptions is not\nalways the best way to go.\n\n249\n00:11:21.989 --> 00:11:23.410\nWe often talk about that, right?\n\n250\n00:11:23.410 --> 00:11:27.191\nAnd the fact that when you assume things,\nthings may not turn out the right way and\n\n251\n00:11:27.191 --> 00:11:30.916\nyou may be erroring, right, by making\nan assumption cuz you may act in a certain\n\n252\n00:11:30.916 --> 00:11:33.433\nway and that may not be\naccurate based on the reality.\n\n253\n00:11:33.433 --> 00:11:37.229\nWe get all that, but we have to make\ncertain assumptions for this to work and\n\n254\n00:11:37.229 --> 00:11:41.048\nthe assumptions that we make are very\nimportant to document here, right?\n\n255\n00:11:41.048 --> 00:11:43.591\nAnd the assumption is\nthat the private key,\n\n256\n00:11:43.591 --> 00:11:47.782\nthe key in this case both that I hold\nas the client, that I wanna protect,\n\n257\n00:11:47.782 --> 00:11:51.587\nthat I'm encrypting with\nthe asymmetric encryption solution.\n\n258\n00:11:51.587 --> 00:11:54.788\nSpecifically with the public\nkey of the AD RMS server and\n\n259\n00:11:54.788 --> 00:11:58.961\nthe corresponding private key and\nthe key pair held by the AD RMS server.\n\n260\n00:11:58.961 --> 00:12:03.296\nBoth those keys are gonna be kept secure,\nare not gonna be shared or compromised\n\n261\n00:12:03.296 --> 00:12:07.906\nunless somebody makes a mistake and does\nsomething really silly or stupid, right?\n\n262\n00:12:07.906 --> 00:12:11.997\nAnd so we make this assumption, because\nthis is the only way that a cryptographic\n\n263\n00:12:11.997 --> 00:12:15.141\nsystem can work, and\nthe only way that it offers protection.\n\n264\n00:12:15.141 --> 00:12:17.561\nWe actually have a formal\nthought process for this,\n\n265\n00:12:17.561 --> 00:12:19.377\nwe call this Kirchhoff's principle.\n\n266\n00:12:19.377 --> 00:12:22.673\nYou may have heard me mention this\nin other episodes, in other shows.\n\n267\n00:12:22.673 --> 00:12:27.173\nKirchhoff's principle states,\nessentially, when we boil it down,\n\n268\n00:12:27.173 --> 00:12:31.627\nthat in all of the moving parts and\nthings that make up a crypto system.\n\n269\n00:12:31.627 --> 00:12:34.482\nThe key pairs, so the private and\npublic keys, right?\n\n270\n00:12:34.482 --> 00:12:38.281\nThe algorithms, the mathematical\nformulas that are used essentially,\n\n271\n00:12:38.281 --> 00:12:42.458\nthe mathematical components that are used\nto drive encryption and decryption.\n\n272\n00:12:42.458 --> 00:12:44.558\nThe plain text, what goes in.\n\n273\n00:12:44.558 --> 00:12:48.717\nThe cipher text, what comes out, and\nall supporting elements around that.\n\n274\n00:12:48.717 --> 00:12:51.553\nAll those things, there's only one\nthing that we have to keep secure and\n\n275\n00:12:51.553 --> 00:12:53.053\nnever share under any circumstance.\n\n276\n00:12:53.053 --> 00:12:54.196\nWe can give away anything.\n\n277\n00:12:54.196 --> 00:12:56.783\nTell the bad actors everything we do,\nhow we do it.\n\n278\n00:12:56.783 --> 00:12:58.869\nIt's one thing you must keep secure,\nKirchhoff said.\n\n279\n00:12:58.869 --> 00:13:00.937\nPrivate key must always be kept secure.\n\n280\n00:13:00.937 --> 00:13:05.191\nSo if you keep the private key secure,\nthen the system works because the private\n\n281\n00:13:05.191 --> 00:13:08.319\nkey is literally the key that opens and\ncloses every door.\n\n282\n00:13:08.319 --> 00:13:12.126\nAnd not just one door, not just this\nparticular encryption cycle, but\n\n283\n00:13:12.126 --> 00:13:16.633\nany encryption cycle for any data that's\nrun through that system from the beginning\n\n284\n00:13:16.633 --> 00:13:19.511\nuntil the very end of that system,\nforever and ever.\n\n285\n00:13:19.511 --> 00:13:22.170\nIs gonna be controlled by this\nprivate key from the server.\n\n286\n00:13:22.170 --> 00:13:26.306\nAnd if we give that key out and if we let\nthat key become compromised, every piece\n\n287\n00:13:26.306 --> 00:13:30.136\nof data that has ever being encrypted\never will be encrypted is suspect and\n\n288\n00:13:30.136 --> 00:13:32.201\ntherefore compromised immediately.\n\n289\n00:13:32.201 --> 00:13:36.062\nBecause we can no longer trust it because\nthe bad actor can potentially see\n\n290\n00:13:36.062 --> 00:13:36.693\nthat data.\n\n291\n00:13:36.693 --> 00:13:40.409\nSo it's very critical to understand how\nthis works and what keys are in play.\n\n292\n00:13:40.409 --> 00:13:42.783\nAnd which key is chosen really\ntells us the strength or\n\n293\n00:13:42.783 --> 00:13:44.324\nweakness of the system involved.\n\n294\n00:13:44.324 --> 00:13:48.029\nSo we can go back to what we're doing\nright up there, there we go, and you'll\n\n295\n00:13:48.029 --> 00:13:51.620\nsee we are using the public key of the\nAD RMS server that the author is using.\n\n296\n00:13:51.620 --> 00:13:54.524\nTo encrypt the author's,\nthe client's private key,\n\n297\n00:13:54.524 --> 00:13:57.257\nthat was used to encrypt\nthe data we want to protect.\n\n298\n00:13:57.257 --> 00:14:01.060\nBy doing this, the encrypted symmetric key\nis distributed to the AD RMS server and\n\n299\n00:14:01.060 --> 00:14:01.786\nstored there.\n\n300\n00:14:01.786 --> 00:14:04.171\nWe archive them,\nkeep a copy of the key up on the server.\n\n301\n00:14:04.171 --> 00:14:06.007\nBut now it's been transmitted securely.\n\n302\n00:14:06.007 --> 00:14:08.933\nIt can only be opened up by the server\nwith the corresponding private key.\n\n303\n00:14:08.933 --> 00:14:13.319\nSo when the server needs to do that, it\ncould see the data cuz it has the private\n\n304\n00:14:13.319 --> 00:14:17.858\nkey that will unencrypt the original\nprivate key, to then unencrypt the data.\n\n305\n00:14:17.858 --> 00:14:19.811\nSo it's a multi-step process.\n\n306\n00:14:19.811 --> 00:14:22.045\nBecause it is encrypted\nwith service public key,\n\n307\n00:14:22.045 --> 00:14:24.556\nit can only be decrypted using\nthe service private key.\n\n308\n00:14:24.556 --> 00:14:26.453\nThis is probably the most\nimportant step in the process,\n\n309\n00:14:26.453 --> 00:14:27.726\nin terms of understanding the logic.\n\n310\n00:14:27.726 --> 00:14:31.483\nAnd if you get the logic, everything\nelse hopefully falls into place.\n\n311\n00:14:31.483 --> 00:14:33.032\nAll right, step number six.\n\n312\n00:14:33.032 --> 00:14:34.074\nStep number six.\n\n313\n00:14:34.074 --> 00:14:38.732\nThe author of the AD RMS protected content\ndistributes the file to the recipient.\n\n314\n00:14:38.732 --> 00:14:42.213\nThis is where we give the file to\nsomebody who wants to consume it.\n\n315\n00:14:42.213 --> 00:14:46.011\nThis is where if I'm the client creating\nprotected content, I will give it to,\n\n316\n00:14:46.011 --> 00:14:49.884\nlet's say, Cherokee, and and she'll then,\nin theory, be able to access it.\n\n317\n00:14:49.884 --> 00:14:54.863\nBut remember she's gonna need some sort of\nrights, some sort of ability, maybe a key,\n\n318\n00:14:54.863 --> 00:14:55.819\nwho knows what.\n\n319\n00:14:55.819 --> 00:14:58.213\nThere's gotta be something we give\nher besides just the file, or\n\n320\n00:14:58.213 --> 00:14:59.967\nshe's not gonna be able\nto do anything with it.\n\n321\n00:14:59.967 --> 00:15:01.983\nSo we're gonna give\nthe file to a recipient.\n\n322\n00:15:01.983 --> 00:15:06.515\nRecipient of the file opens it using\nan AD RMS app or browser that she has to\n\n323\n00:15:06.515 --> 00:15:10.620\nuse an application or\nsoftware package that understands AD RMS.\n\n324\n00:15:10.620 --> 00:15:14.847\nCuz if she tries to do that outside of a\nsystem that can apply AD RMS protections,\n\n325\n00:15:14.847 --> 00:15:17.197\nthe data's not gonna be accessible to her.\n\n326\n00:15:17.197 --> 00:15:18.870\nIt's not gonna be able to\nwork with it properly.\n\n327\n00:15:18.870 --> 00:15:23.354\nSo it is protected, even though we don't\nnecessarily use an app that supports that.\n\n328\n00:15:23.354 --> 00:15:25.486\nWe essentially just can't use the data.\n\n329\n00:15:25.486 --> 00:15:27.019\nSo the data will be protected.\n\n330\n00:15:27.019 --> 00:15:31.154\nIt's not possible to open that content\nunless the app or browser supports AD RMS.\n\n331\n00:15:31.154 --> 00:15:32.815\nWe just don't let you have access to.\n\n332\n00:15:32.815 --> 00:15:36.517\nSo even if you take the data, run away\nwith it, say, I'm gonna show Adam.\n\n333\n00:15:36.517 --> 00:15:41.420\nI'm gonna go open it up on an old machine\nwith a version of Office that doesn't know\n\n334\n00:15:41.420 --> 00:15:43.278\nwhat AD RMS is, ha ha, right?\n\n335\n00:15:43.278 --> 00:15:44.656\nI'm gonna get the data.\n\n336\n00:15:44.656 --> 00:15:46.719\nWell, wrong, ha ha, you're not.\n\n337\n00:15:46.719 --> 00:15:48.708\nBecause we just don't\nlet you access the file,\n\n338\n00:15:48.708 --> 00:15:51.006\nbecause the file is\nessentially permanently locked.\n\n339\n00:15:51.006 --> 00:15:54.255\nAnd as a result, if you don't have the\nright app, and the right key to open it,\n\n340\n00:15:54.255 --> 00:15:56.532\nyou don't get rights to the data,\nyou cannot open it.\n\n341\n00:15:56.532 --> 00:15:59.791\nSo the data is fully protected,\nwhich is great.\n\n342\n00:15:59.791 --> 00:16:02.037\nWe don't have an account\ncertificate on the current device.\n\n343\n00:16:02.037 --> 00:16:04.003\nWe issue one to the user at this point,\n\n344\n00:16:04.003 --> 00:16:06.652\nassuming that that user is\ngonna be able to do this.\n\n345\n00:16:06.652 --> 00:16:08.508\nThey have the right app, of course,\nand they are able to do so.\n\n346\n00:16:08.508 --> 00:16:13.440\nThe app or browser transmits that request\nto the author's AD RMS server to issue\n\n347\n00:16:13.440 --> 00:16:14.404\na use license.\n\n348\n00:16:14.404 --> 00:16:18.084\nRemember, the use license or What we call\nthe end user license, it's the same thing.\n\n349\n00:16:18.084 --> 00:16:20.074\nIt's just a matter of how you call it or\nrefer to it.\n\n350\n00:16:20.074 --> 00:16:23.192\nIs the license that grants the user,\nthat is the recipient,\n\n351\n00:16:23.192 --> 00:16:25.158\nthe right to interact with this data.\n\n352\n00:16:25.158 --> 00:16:29.014\nAnd so we're giving Cherokee,\nin this case, an end user license.\n\n353\n00:16:29.014 --> 00:16:31.003\nOr if she doesn't already have one,\n\n354\n00:16:31.003 --> 00:16:35.189\nwe would give her one along with this\ngrant of use to actually access the data.\n\n355\n00:16:35.189 --> 00:16:39.355\nIn step 7, the AD RMS server determines\nif the recipient is authorized.\n\n356\n00:16:39.355 --> 00:16:40.162\nCuz remember,\n\n357\n00:16:40.162 --> 00:16:44.017\nWe're not gonna give Cherokee this\nuser right unless she is authorized.\n\n358\n00:16:44.017 --> 00:16:46.983\nIf the recipient is authorized,\nwe give her a license.\n\n359\n00:16:46.983 --> 00:16:49.886\nThe AD RMS server then decrypts,\nlet me just scroll down,\n\n360\n00:16:49.886 --> 00:16:53.809\nthen decrypts the symmetric key encrypted\nin step five by using a private key.\n\n361\n00:16:53.809 --> 00:16:55.105\nWe talked about this.\n\n362\n00:16:55.105 --> 00:16:59.342\nWe would unencrypt the symmetric key that\nwould allow us to unencrypt the data under\n\n363\n00:16:59.342 --> 00:17:00.500\ncertain conditions.\n\n364\n00:17:00.500 --> 00:17:05.287\nAnd that condition is gonna be essentially\nthe fact that the server has to access\n\n365\n00:17:05.287 --> 00:17:09.645\nthat to turn that around to then let\nthe recipient who has the license open\n\n366\n00:17:09.645 --> 00:17:10.874\nend access to data.\n\n367\n00:17:10.874 --> 00:17:13.824\nThat's why we archive\nthe key up on the server.\n\n368\n00:17:13.824 --> 00:17:19.487\nSo in step 9, can we go full screen just\nso I don't have to scroll down to step 9?\n\n369\n00:17:19.487 --> 00:17:22.800\nThe AD RMS server re-encrypts\nthe symmetric key using the recipient's\n\n370\n00:17:22.800 --> 00:17:23.400\npublic key.\n\n371\n00:17:23.400 --> 00:17:26.306\nAgain, think about the logic of this,\nright?\n\n372\n00:17:26.306 --> 00:17:31.086\nThe server re-encrypts the symmetric key,\nso the key that is archived at the server\n\n373\n00:17:31.086 --> 00:17:35.326\nthat the server got for me, the client\nthat created the data that I securely\n\n374\n00:17:35.326 --> 00:17:40.342\ntransmitted, the server re-encrypts that\nkey and uses the recipient's public key.\n\n375\n00:17:40.342 --> 00:17:45.103\nWe're gonna use Cherokee's public key to\nre-encrypt the private key that unencrypts\n\n376\n00:17:45.103 --> 00:17:45.688\nthe data.\n\n377\n00:17:45.688 --> 00:17:50.442\nBy using Cherokee's public key and\nencrypting that key with that public key,\n\n378\n00:17:50.442 --> 00:17:54.836\nonly Cherokee's private key could be\nused to uencrypt the symmetric key\n\n379\n00:17:54.836 --> 00:17:58.813\nthat I created and put it on\nthe server to access my data securely.\n\n380\n00:17:58.813 --> 00:18:03.582\nAgain, we're transmitting the symmetric\nkeys securely by using the public key to\n\n381\n00:18:03.582 --> 00:18:07.614\nencrypt forcing the private key and\nthe key pair to be used to decrypt.\n\n382\n00:18:07.614 --> 00:18:11.495\nThis is the beauty of the system,\nassuming our assumption holds,\n\n383\n00:18:11.495 --> 00:18:13.104\nKirchhoff's principle.\n\n384\n00:18:13.104 --> 00:18:16.899\nPrivate key is kept secure, therefore\npublic key will be used to encrypt.\n\n385\n00:18:16.899 --> 00:18:20.268\nOnly private key could be used to decrypt.\n\n386\n00:18:20.268 --> 00:18:22.590\nMakes a lot of sense when you stop and\nthink about it, right?\n\n387\n00:18:22.590 --> 00:18:26.989\nSo then we add the encrypted key to\nthe license so I've authorized Cherokee,\n\n388\n00:18:26.989 --> 00:18:28.285\nvalidated who she is.\n\n389\n00:18:28.285 --> 00:18:30.824\nSaid yes, let's give Cherokee a license.\n\n390\n00:18:30.824 --> 00:18:32.976\nWe give her a copy of my symmetric key,\n\n391\n00:18:32.976 --> 00:18:36.275\nmy client's symmetric key that\nwas stored at the server so\n\n392\n00:18:36.275 --> 00:18:40.404\nshe can open the data and can actually\nsee the data as part of the process.\n\n393\n00:18:40.404 --> 00:18:44.957\nUse license and encrypted symmetric key\nare then distributed to the recipient.\n\n394\n00:18:44.957 --> 00:18:49.471\nRecipient uses their private key to\ndecrypt the incoming symmetric key to\n\n395\n00:18:49.471 --> 00:18:50.429\nopen the data.\n\n396\n00:18:50.429 --> 00:18:53.589\nAfter that,\nmy symmetric key is used to decrypt and\n\n397\n00:18:53.589 --> 00:18:55.947\naccess the AD RMS protected content.\n\n398\n00:18:55.947 --> 00:18:58.718\nAnd so, by going through\nstep by step methodically,\n\n399\n00:18:58.718 --> 00:19:00.812\nbreaking down the nine steps involved,\n\n400\n00:19:00.812 --> 00:19:04.704\nexplaining which key is used at which\nstep in the process, and to what end.\n\n401\n00:19:04.704 --> 00:19:06.489\nHopefully, this makes more sense to you.\n\n402\n00:19:06.489 --> 00:19:09.823\nHopefully, you'll have a better\nsense of how this works.\n\n403\n00:19:09.823 --> 00:19:13.507\nYou're now gonna be expected to\nclose your eyes, stand on one foot,\n\n404\n00:19:13.507 --> 00:19:17.140\nhop around without hitting anything,\nand recite this backwards.\n\n405\n00:19:17.140 --> 00:19:19.831\nAnd if you do that correctly,\nyou are an AD RMS superstar.\n\n406\n00:19:19.831 --> 00:19:22.860\n&gt;&gt; [LAUGH] Better than just\na regular star, of course.\n\n407\n00:19:22.860 --> 00:19:27.241\n&gt;&gt; You're an AD RMS superstar,\nif that's the case.\n\n408\n00:19:27.241 --> 00:19:28.908\nAll right, but it is important,\nall kidding aside, for\n\n409\n00:19:28.908 --> 00:19:30.140\nyou to have a good sense\nof how this works.\n\n410\n00:19:30.140 --> 00:19:32.571\nWould I spend time if\nI was you studying for\n\n411\n00:19:32.571 --> 00:19:35.082\nthis exam to become an MCSA in Server 16?\n\n412\n00:19:35.082 --> 00:19:38.711\nWould I memorize nine steps in order\nbecause Adam said that they go in\n\n413\n00:19:38.711 --> 00:19:39.419\nthis order?\n\n414\n00:19:39.419 --> 00:19:41.145\nNo, I would not do that.\n\n415\n00:19:41.145 --> 00:19:41.800\nThat would be a waste of your time.\n\n416\n00:19:41.800 --> 00:19:46.250\nWhat I would do is, I would understand\nconceptually, at a high level,\n\n417\n00:19:46.250 --> 00:19:49.226\nhow to explain the idea\nbehind how AD RMS works.\n\n418\n00:19:49.226 --> 00:19:51.704\nMaybe in your world, you have seven steps.\n\n419\n00:19:51.704 --> 00:19:53.443\nMaybe you combine a couple of these and\nsay, well then,\n\n420\n00:19:53.443 --> 00:19:54.591\nstep seven is just these two things.\n\n421\n00:19:54.591 --> 00:19:56.963\nThere's no magic number here,\nin other words.\n\n422\n00:19:56.963 --> 00:19:58.596\nWhat I'm suggesting to you is,\n\n423\n00:19:58.596 --> 00:20:02.466\nI broke this into nine steps because I\nthink that's a good amount of detail,\n\n424\n00:20:02.466 --> 00:20:05.990\nthe right level of detail,\nin order to explain each step logically.\n\n425\n00:20:05.990 --> 00:20:08.884\nAnd make you understand conceptually\nwhat happens at each stage.\n\n426\n00:20:08.884 --> 00:20:11.012\nIf you could do this in five steps,\ngood for you.\n\n427\n00:20:11.012 --> 00:20:12.500\nYou get to the same place.\n\n428\n00:20:12.500 --> 00:20:13.524\nThat does not matter.\n\n429\n00:20:13.524 --> 00:20:18.987\nWhat matters is understanding the logic\nof what's involved in the conversation,\n\n430\n00:20:18.987 --> 00:20:23.901\nstart to finish, between a client who\nwants to request a license to protect\n\n431\n00:20:23.901 --> 00:20:26.182\nusing AD RMS enabled protection.\n\n432\n00:20:26.182 --> 00:20:28.547\nThat content they're creating,\nthe content, or\n\n433\n00:20:28.547 --> 00:20:30.473\nrather the conversation between them and\n\n434\n00:20:30.473 --> 00:20:34.172\nthe AD RMS server that would allow that,\nclient license or certificate grant.\n\n435\n00:20:34.172 --> 00:20:38.012\nIn other words, the use of and application\nof those rights to the data in question.\n\n436\n00:20:38.012 --> 00:20:42.126\nManual or\nuse of policy-based templates to do that.\n\n437\n00:20:42.126 --> 00:20:46.639\nAnd then the submission of the key\nthat is used to protect that data\n\n438\n00:20:46.639 --> 00:20:51.072\narchiving into the server and\nthe granting of a usage license and\n\n439\n00:20:51.072 --> 00:20:56.407\nend user license to a recipient to then\nunderstand how to apply and use that key\n\n440\n00:20:56.407 --> 00:21:01.694\nto open that data and interact with it\nunder the proper control conditions.\n\n441\n00:21:01.694 --> 00:21:05.587\nIf you can explain that process in several\nsteps, you can take a paragraph to do it,\n\n442\n00:21:05.587 --> 00:21:08.328\nit takes you a few sentences,\nI don't care what it takes.\n\n443\n00:21:08.328 --> 00:21:12.552\nBut you should understand that amount of\ninformation in order to be prepared for\n\n444\n00:21:12.552 --> 00:21:13.189\nthis exam.\n\n445\n00:21:13.189 --> 00:21:15.931\nHow you do it, what steps are involved,\nhow many steps,\n\n446\n00:21:15.931 --> 00:21:18.858\nnot as important as knowing,\nright, what those steps are.\n\n447\n00:21:18.858 --> 00:21:20.074\nSo just be aware of that, okay?\n\n448\n00:21:20.074 --> 00:21:21.057\nSo does that make sense?\n\n449\n00:21:21.057 --> 00:21:21.885\n&gt;&gt; It does.\n\n450\n00:21:21.885 --> 00:21:25.850\n&gt;&gt; Do we think that's a fair explanation\nof where we are and what we have to do?\n\n451\n00:21:25.850 --> 00:21:26.568\n&gt;&gt; I think so, but\n\n452\n00:21:26.568 --> 00:21:30.116\nI do think we have some demonstrations\nthat we haven't really got into yet.\n\n453\n00:21:30.116 --> 00:21:31.266\nSo I'm kind of excited about that.\n\n454\n00:21:31.266 --> 00:21:32.946\nAdam, are we going to get\nto that in this show?\n\n455\n00:21:32.946 --> 00:21:35.524\nWell, because you're excited about it,\nCherokee.\n\n456\n00:21:35.524 --> 00:21:36.292\n&gt;&gt; Yay!\n\n457\n00:21:36.292 --> 00:21:37.988\n[LAUGH]\n&gt;&gt; I'm going to say no.\n\n458\n00:21:37.988 --> 00:21:40.594\n&gt;&gt; [LAUGH]\n&gt;&gt; No, absolutely we are.\n\n459\n00:21:40.594 --> 00:21:42.470\nI promised that we would pick up and\n\n460\n00:21:42.470 --> 00:21:45.458\nstart with a conversation\njust at least to kick start.\n\n461\n00:21:45.458 --> 00:21:48.518\nWe're not probably gonna be able to\nfinish everything in this show, but\n\n462\n00:21:48.518 --> 00:21:52.097\nI did promise you we'd start down the road\nof understanding how to configure AD RMS.\n\n463\n00:21:52.097 --> 00:21:53.855\nSo we're gonna jump in and\ntake a look at that right now.\n\n464\n00:21:53.855 --> 00:21:56.879\nSo join me here and let's take a look\nat a couple of things we need to do.\n\n465\n00:21:56.879 --> 00:21:59.443\nSo I've got a lot of prework that I did.\n\n466\n00:21:59.443 --> 00:22:01.776\nI just wanna walk you through\nsome of the logic of that,\n\n467\n00:22:01.776 --> 00:22:04.786\nmake sure you're comfortable with\nkind of how we wind up where we are.\n\n468\n00:22:04.786 --> 00:22:06.956\nAnd I've already teed up\nthe ADR MS installation.\n\n469\n00:22:06.956 --> 00:22:08.906\nI've done the initial installation.\n\n470\n00:22:08.906 --> 00:22:11.834\nWe're waiting on\nthe configuration to take place.\n\n471\n00:22:11.834 --> 00:22:13.584\nWe're gonna jump in and\nsee how that works here.\n\n472\n00:22:13.584 --> 00:22:16.716\nOn our machine that we are designating\nthe AD RMS server which is\n\n473\n00:22:16.716 --> 00:22:18.026\nnot a domain controller.\n\n474\n00:22:18.026 --> 00:22:20.266\nWe do not install AD RMS\non a domain controller.\n\n475\n00:22:20.266 --> 00:22:22.202\nWe install it on a separate machine.\n\n476\n00:22:22.202 --> 00:22:25.833\nSo right now I'm on my domain controller\nbut there are certain moving parts and\n\n477\n00:22:25.833 --> 00:22:27.548\npieces that have to be in place here.\n\n478\n00:22:27.548 --> 00:22:29.468\nSo I just wanna give you a quick\nheads up to what we did here.\n\n479\n00:22:29.468 --> 00:22:31.604\nAnd then we'll flip over\nthe other machine and\n\n480\n00:22:31.604 --> 00:22:33.918\nshow you what we're going\nto do to install AD RMS.\n\n481\n00:22:33.918 --> 00:22:37.036\nSo I'm in the server manager\non my domain controller.\n\n482\n00:22:37.036 --> 00:22:39.116\nLet's start with PowerShell.\n\n483\n00:22:39.116 --> 00:22:43.293\nWhat I did here was I set up an AD CS,\nan Active Directory Certificate Services\n\n484\n00:22:43.293 --> 00:22:46.829\ncertification authority,\nan enterprise root CA, because we do\n\n485\n00:22:46.829 --> 00:22:50.908\nneed a root CA to be able to issue\ncertificates, to do what we're gonna do.\n\n486\n00:22:50.908 --> 00:22:54.577\nSo just a reminder, if you haven't\nseen the prior episodes on AD CS,\n\n487\n00:22:54.577 --> 00:22:58.309\nwe did an ad windows feature,\nname parameter, AD CS cert authority,\n\n488\n00:22:58.309 --> 00:23:00.740\ninclude management tools, installation.\n\n489\n00:23:00.740 --> 00:23:02.439\nRather, yeah, installation.\n\n490\n00:23:02.439 --> 00:23:05.213\nThen we did our configuration\ninstall AD cert authority.\n\n491\n00:23:05.213 --> 00:23:07.543\nCA type enterprise route.\n\n492\n00:23:07.543 --> 00:23:09.952\nWe went ahead and did all that so\nthat's been done.\n\n493\n00:23:09.952 --> 00:23:13.912\nOur cert authority is up and running,\nwe can actually see it right here.\n\n494\n00:23:13.912 --> 00:23:17.129\nAnd you can see that we do have our\ncertificate authority available.\n\n495\n00:23:17.129 --> 00:23:21.260\nAnd we do have our ability to be able to\nissue certificates up and running for us.\n\n496\n00:23:21.260 --> 00:23:23.122\nWe're not gonna get into\nhow we do all that.\n\n497\n00:23:23.122 --> 00:23:25.171\nThat we have a series of, I think,\n\n498\n00:23:25.171 --> 00:23:28.509\nsix episodes associated with\nAD CS in this set of shows.\n\n499\n00:23:28.509 --> 00:23:31.174\nI encourage you to go back,\ntake a look at all those.\n\n500\n00:23:31.174 --> 00:23:34.251\nBut we have stood up our\nAD CS Enterprise Root CA.\n\n501\n00:23:34.251 --> 00:23:36.622\nSo that's part of what we need to do.\n\n502\n00:23:36.622 --> 00:23:40.918\nI've also gone into group policy,\nin the group policy management console.\n\n503\n00:23:40.918 --> 00:23:43.945\nCome in here,\nI've gone to the default domain policy.\n\n504\n00:23:43.945 --> 00:23:46.306\nI've edited the default domain policy.\n\n505\n00:23:46.306 --> 00:23:51.061\nBecause what I've done is I've taken\na certificate from the root CA and\n\n506\n00:23:51.061 --> 00:23:52.419\nI've exported it.\n\n507\n00:23:52.419 --> 00:23:55.568\nAnd I've now published it or\nmade it available for auto enrollment.\n\n508\n00:23:55.568 --> 00:23:58.682\nThrough group policy,\nto all members of the domain.\n\n509\n00:23:58.682 --> 00:24:02.300\nLet me show you what I did here, again we\ntalked about how to do a lot of this in\n\n510\n00:24:02.300 --> 00:24:05.245\nthe ADCS Episodes,\nI encourage you to go back, take a look.\n\n511\n00:24:05.245 --> 00:24:08.582\nSo I'm on the default domain policy,\nI'm gonna edit it.\n\n512\n00:24:08.582 --> 00:24:11.062\nI'm gonna come into the computer\nconfiguration area,\n\n513\n00:24:11.062 --> 00:24:12.969\nI'm gonna just open this up so\nyou can see.\n\n514\n00:24:12.969 --> 00:24:16.994\nI've gone to Policies, I've gone to\nWindows Settings under Windows settings,\n\n515\n00:24:16.994 --> 00:24:19.848\nas soon as that opens up,\nI'll go to security settings and\n\n516\n00:24:19.848 --> 00:24:22.152\nthen public key policies\nwhich are down here.\n\n517\n00:24:22.152 --> 00:24:24.101\nI'll just pull that over so\nyou can see that.\n\n518\n00:24:24.101 --> 00:24:28.426\nAnd under public key policies,\nright here, I've gone into trusted root\n\n519\n00:24:28.426 --> 00:24:32.215\ncertification authorities right there and\nthat will be blank.\n\n520\n00:24:32.215 --> 00:24:34.593\nThere will not be a certificate\nthere by default.\n\n521\n00:24:34.593 --> 00:24:39.212\nI've gone ahead and I've imported that\ncertificate that is sitting there which is\n\n522\n00:24:39.212 --> 00:24:42.254\nthe certificate from the root\nCA that we just created.\n\n523\n00:24:42.254 --> 00:24:46.456\nNow the way I got that certificate is\nthe following, went to my root CA, and\n\n524\n00:24:46.456 --> 00:24:50.661\nagain we do all this in the ADCS episode\nshow you how to do everything you're\n\n525\n00:24:50.661 --> 00:24:55.175\nabout to do two or three different times,\nso just have to go back and take a look.\n\n526\n00:24:55.175 --> 00:24:59.728\nBut I right click on the properties,\nright click, go to properties rather,\n\n527\n00:24:59.728 --> 00:25:00.650\nof the root CA.\n\n528\n00:25:00.650 --> 00:25:04.414\nGo to the general tab and under view\ncertificate right here for certificate\n\n529\n00:25:04.414 --> 00:25:08.432\nnumber zero, our self signed certificate\nthat enables the root CA to operate.\n\n530\n00:25:08.432 --> 00:25:12.190\nWhen I go and I look at that certificate,\nand I go to the details tab.\n\n531\n00:25:12.190 --> 00:25:16.067\nI'm able to copy to file, which is\nreally just a simple way of saying,\n\n532\n00:25:16.067 --> 00:25:20.232\nI'm gonna run a Wizard that lets me\nexport this certificate, which I did.\n\n533\n00:25:20.232 --> 00:25:24.586\nSo I copied it off,\nI named the certificate and copied and\n\n534\n00:25:24.586 --> 00:25:30.509\nstored it in the C drive, pladdc01.cer\nis that certificate right there.\n\n535\n00:25:30.509 --> 00:25:33.030\nIt's a copy of the route CA certificate.\n\n536\n00:25:33.030 --> 00:25:36.284\nSo I've taken that certificate,\nrun the wizard, exported it,\n\n537\n00:25:36.284 --> 00:25:38.664\nstored it locally just so\nI can grab a copy of it.\n\n538\n00:25:41.058 --> 00:25:45.329\nThen I have gone to my group policy.\n\n539\n00:25:45.329 --> 00:25:48.178\nI have right clicked, chose it imports.\n\n540\n00:25:48.178 --> 00:25:51.377\nAnd I've run a little wizard that lets\nme go out and grab that certificate and\n\n541\n00:25:51.377 --> 00:25:53.333\nbring it in and\nI've published it right here.\n\n542\n00:25:53.333 --> 00:25:55.933\nI made it available so\nnow every domain member,\n\n543\n00:25:55.933 --> 00:25:59.767\nas part of the application of group\npolicy to the computer will get this\n\n544\n00:25:59.767 --> 00:26:03.874\ncertificate loaded into the trusted\nroot certification authority area.\n\n545\n00:26:03.874 --> 00:26:05.933\nIn their local certificate store, and\n\n546\n00:26:05.933 --> 00:26:09.374\nevery computer will trust the root CA and\nhave that certificate.\n\n547\n00:26:09.374 --> 00:26:11.916\nSo that way all\nthe certificates issued for\n\n548\n00:26:11.916 --> 00:26:16.161\nAD RMS will automatically be available and\nbe trusted as well, right?\n\n549\n00:26:16.161 --> 00:26:18.849\nSo, you can see that that part\nhas been done, it is here,\n\n550\n00:26:18.849 --> 00:26:20.883\nthat is the certificate we just looked at.\n\n551\n00:26:20.883 --> 00:26:22.965\nSo we have that, so, I've done that.\n\n552\n00:26:22.965 --> 00:26:26.246\nAnd that is, let me just close that,\nthat is just a group policy.\n\n553\n00:26:26.246 --> 00:26:28.587\nNow this is gonna come up in\nthe next part of the conversation.\n\n554\n00:26:28.587 --> 00:26:31.619\nWe're not gonna get to this part right\nnow, but I'm just showing this so\n\n555\n00:26:31.619 --> 00:26:34.502\nhopefully, in the next episode when\nyou see me use these accounts and\n\n556\n00:26:34.502 --> 00:26:36.065\nreference them, you'll know why.\n\n557\n00:26:36.065 --> 00:26:39.107\nI've also gone into\nActive Directory Users and Computers.\n\n558\n00:26:39.107 --> 00:26:44.442\nI've gone to the Users container, and\nI've created two items of interest to us,\n\n559\n00:26:44.442 --> 00:26:49.000\none all the way down at the bottom here,\nlet me actually just do this and\n\n560\n00:26:49.000 --> 00:26:53.284\njust sort alphabetically so\nyou could see it a little bit easier.\n\n561\n00:26:53.284 --> 00:26:57.386\nI've created a user account called AD RMS\nService Account, that's gonna become as\n\n562\n00:26:57.386 --> 00:27:00.910\nyou can probably tell the service\naccount that will be used to install and\n\n563\n00:27:00.910 --> 00:27:01.801\nto manage AD RMS.\n\n564\n00:27:01.801 --> 00:27:05.243\nI'm gonna link that account in other\nwords as a service account to AD RMS.\n\n565\n00:27:05.243 --> 00:27:08.119\nSo I have just created a normal\nuser account nothing special.\n\n566\n00:27:08.119 --> 00:27:12.000\nRight click new user other than\nnaming it that so I know what it is.\n\n567\n00:27:12.000 --> 00:27:15.990\nI have not done anything to it,\nwe could take a look and\n\n568\n00:27:15.990 --> 00:27:18.757\nsee that it is just a normal account.\n\n569\n00:27:18.757 --> 00:27:22.447\nDoes not have anything special associated\nwith it, except the setting for\n\n570\n00:27:22.447 --> 00:27:25.800\npassword never expires, and\nit is simply a member of domain users.\n\n571\n00:27:25.800 --> 00:27:29.808\nNo special group privileges, not a member\nof the admin group or anything like that,\n\n572\n00:27:29.808 --> 00:27:33.250\nany rights or permissions necessary for\nthis account to do its job will be\n\n573\n00:27:33.250 --> 00:27:36.765\nassigned to it when we specify it as\na service account during the install.\n\n574\n00:27:36.765 --> 00:27:40.157\nOf or rather the configuration\nof the AD RMS role, okay?\n\n575\n00:27:40.157 --> 00:27:43.205\nSo I've created that account,\nin the real world I would suggest,\n\n576\n00:27:43.205 --> 00:27:45.553\nI often tell my customers and\nI often do it this way.\n\n577\n00:27:45.553 --> 00:27:49.457\nYou don't have to name it that exact name\nbut I would call it something similar so\n\n578\n00:27:49.457 --> 00:27:52.489\nthat if you are in the habit of\nnaming your service accounts for\n\n579\n00:27:52.489 --> 00:27:55.812\nthe services that they are gonna\nmanage it's very easy to go back and\n\n580\n00:27:55.812 --> 00:27:57.766\nfind them and understand what they do.\n\n581\n00:27:57.766 --> 00:28:00.224\nYou could call that Snoopy,\nMickey Mouse, Donald Duck,\n\n582\n00:28:00.224 --> 00:28:02.244\nWoodstock, doesn't\nmatter what you call it.\n\n583\n00:28:02.244 --> 00:28:06.093\nYou're linking it to that specified\ninstall and configure round for\n\n584\n00:28:06.093 --> 00:28:09.289\nthis particular role and\nthat account's gonna be used.\n\n585\n00:28:09.289 --> 00:28:12.735\nBut it would make it easier to know\nwhat it's being used for if you named it\n\n586\n00:28:12.735 --> 00:28:16.707\nsomething that represents that is all I'm\nsuggesting to you but that's up to you.\n\n587\n00:28:16.707 --> 00:28:21.602\nAnd then I have an ADRMS superusers\ngroup which is as you can see here\n\n588\n00:28:21.602 --> 00:28:26.412\na global security group and\nthat group again, nothing special,\n\n589\n00:28:26.412 --> 00:28:30.015\njust a standard global security group,\nright.\n\n590\n00:28:30.015 --> 00:28:31.956\nOther than giving it an e-mail address,\n\n591\n00:28:31.956 --> 00:28:35.781\nwhich I talked about the significance of\nwith regards to the grants of licenses and\n\n592\n00:28:35.781 --> 00:28:39.126\nknowing that we need e-mail addresses\nto be able to do certain things.\n\n593\n00:28:39.126 --> 00:28:42.060\nCertificates and\nlicenses to authenticate a user or group,\n\n594\n00:28:42.060 --> 00:28:44.253\nwe need an email address\nassociated with it.\n\n595\n00:28:44.253 --> 00:28:48.046\nOther than simply providing\nan email address, that's all I did.\n\n596\n00:28:48.046 --> 00:28:49.383\nI did not do anything else.\n\n597\n00:28:49.383 --> 00:28:52.978\nNotice this group is not a member,\ndoes not have members in it rather, and\n\n598\n00:28:52.978 --> 00:28:54.383\nis not a member of any group.\n\n599\n00:28:54.383 --> 00:28:56.848\nIt's just a group that I created,\nnothing more.\n\n600\n00:28:56.848 --> 00:28:59.971\nAnd again, what we will do is use that\nsuper users group in a special way,\n\n601\n00:28:59.971 --> 00:29:00.596\nwe need that.\n\n602\n00:29:00.596 --> 00:29:04.767\nWe're gonna designate that that group has\ncertain rights in the ADRMS console when\n\n603\n00:29:04.767 --> 00:29:08.058\nwe get it all stood up in the next\nepisode as we do our walk through.\n\n604\n00:29:08.058 --> 00:29:12.513\nYou'll see that that group is gonna become\na master group that is given full rights\n\n605\n00:29:12.513 --> 00:29:15.175\nfor accessing all the data and\nrecovering data.\n\n606\n00:29:15.175 --> 00:29:19.214\nSo members of the ADRMS super users group\nwill be given rights along the lines of\n\n607\n00:29:19.214 --> 00:29:20.946\nenterprise admin in the forest.\n\n608\n00:29:20.946 --> 00:29:25.933\nThey can essentially do anything\nnecessary to interact with the AD RMS and\n\n609\n00:29:25.933 --> 00:29:27.467\nrecover data in CDAP.\n\n610\n00:29:27.467 --> 00:29:28.919\nSo that's gonna be a very\nimportant group for us.\n\n611\n00:29:28.919 --> 00:29:31.835\nAnd we'll assign that and\nassociate that during the next round,\n\n612\n00:29:31.835 --> 00:29:35.405\nas we go through and actually start\nthe step by step process, you'll see that.\n\n613\n00:29:35.405 --> 00:29:38.528\nSo I've built out this user and\nthis group, just so you know.\n\n614\n00:29:38.528 --> 00:29:41.155\nSo I've just done a lot of\nthe background prep work.\n\n615\n00:29:41.155 --> 00:29:44.417\nNow that's all on the domain controller\ncuz obviously that has to take\n\n616\n00:29:44.417 --> 00:29:45.090\nplace there.\n\n617\n00:29:45.090 --> 00:29:50.664\nLet's switch over just before we get done,\nto the other machine.\n\n618\n00:29:50.664 --> 00:29:54.995\nAD RMS is already installed here, although\nnot configured we do have a little yellow\n\n619\n00:29:54.995 --> 00:29:58.974\ncaution sign up here that's gonna remind\nme that I still have some work to do.\n\n620\n00:29:58.974 --> 00:30:01.748\nThis is our target machine for\nthe AD RMS role.\n\n621\n00:30:01.748 --> 00:30:03.445\nThis is just a domain member,\nnot a domain controller.\n\n622\n00:30:03.445 --> 00:30:06.899\nWe talked about the significance\nto that and why that's important.\n\n623\n00:30:06.899 --> 00:30:08.491\nSo I've chosen a domain member.\n\n624\n00:30:08.491 --> 00:30:10.784\nI've installed the role for AD RMS.\n\n625\n00:30:10.784 --> 00:30:13.185\nI'm gonna show you how I\ndid that using PowerShell,\n\n626\n00:30:13.185 --> 00:30:15.978\nhow to do some background work,\nget a web server installed.\n\n627\n00:30:15.978 --> 00:30:19.439\nWe did say IIS was a prereq and\na requirement, so I've done that.\n\n628\n00:30:19.439 --> 00:30:23.882\nI've gone ahead and I have taken IIS and\nmodified the bindings on the default\n\n629\n00:30:23.882 --> 00:30:26.953\nwebsite to enable HTTPS for\nsecure communication.\n\n630\n00:30:26.953 --> 00:30:29.946\nI'll remind you how we do that just in\ncase you're not familiar with that.\n\n631\n00:30:29.946 --> 00:30:32.398\nSo let's take a look at some of\nthe background work we did here.\n\n632\n00:30:32.398 --> 00:30:36.378\nAnd then in the next episode we'll come\nthrough, we'll click on this caution flag.\n\n633\n00:30:36.378 --> 00:30:40.232\nWell after we start the configuration step\ntwo in the process of running through\n\n634\n00:30:40.232 --> 00:30:41.162\nthe AD RMS wizard.\n\n635\n00:30:41.162 --> 00:30:42.858\nBut all the background work, right?\n\n636\n00:30:42.858 --> 00:30:47.967\nSo I've come here and In PowerShell,\nI've done several things.\n\n637\n00:30:47.967 --> 00:30:51.951\nAdd Windows feature, the commandlet,\nstart it by installing the web server.\n\n638\n00:30:51.951 --> 00:30:55.052\nWeb server, include management tools.\n\n639\n00:30:55.052 --> 00:30:56.695\nSuccess, very good.\n\n640\n00:30:56.695 --> 00:30:59.025\nNext one, add Windows feature again.\n\n641\n00:30:59.025 --> 00:31:00.762\nHave to do some more work on the website.\n\n642\n00:31:00.762 --> 00:31:06.150\nWeb ASP.NET 4.5, so I've installed the\nASP.NET 4.5 framework, Include management\n\n643\n00:31:06.150 --> 00:31:10.476\ntools, include all sub features,\ngot all the web related support we need.\n\n644\n00:31:10.476 --> 00:31:12.622\nThen, add windows, feature, name, ADRMS,\n\n645\n00:31:12.622 --> 00:31:15.100\nthat's where we finally get\ndown a business, right?\n\n646\n00:31:15.100 --> 00:31:18.304\nAnd include management tools,\ngot that installed in successful, so\n\n647\n00:31:18.304 --> 00:31:19.074\nwe did all that.\n\n648\n00:31:19.074 --> 00:31:21.651\nNow, I did a GP update\nforce down here just to\n\n649\n00:31:21.651 --> 00:31:25.489\napply that policy from the domain\nthat pushes that trusted root CA\n\n650\n00:31:25.489 --> 00:31:29.223\ncertificate into the local\ncertificate store on the machine.\n\n651\n00:31:29.223 --> 00:31:32.855\nI did that so I would be aware of that\npolicy cuz I haven't logged off and\n\n652\n00:31:32.855 --> 00:31:36.627\nrestarted this machine during\nthe installation of all these features.\n\n653\n00:31:36.627 --> 00:31:39.970\nIf I did, obviously that policy would\napply, that certificate would show up.\n\n654\n00:31:39.970 --> 00:31:42.161\nI have not done that so\nI did the GP update for,\n\n655\n00:31:42.161 --> 00:31:45.396\nto make sure the machine was aware\nof the fact that that certificate\n\n656\n00:31:45.396 --> 00:31:47.906\nis available and that,\npolicy should be applied.\n\n657\n00:31:47.906 --> 00:31:54.187\nSo I've done that, I then can come over\nhere and I can see that sure enough,\n\n658\n00:31:54.187 --> 00:31:59.402\nAll right, I have a certificate for\nserver authentication.\n\n659\n00:31:59.402 --> 00:32:04.597\nAnd if I look at trusted roots,\nwhere is it, trusted roots.\n\n660\n00:32:04.597 --> 00:32:06.493\nCertificate authorities, there we go.\n\n661\n00:32:06.493 --> 00:32:10.969\nAnd if I look in Certificates,\nI have a whole bunch of them here right.\n\n662\n00:32:10.969 --> 00:32:15.038\nAnd I have in addition,\nwhat am I looking for?\n\n663\n00:32:15.038 --> 00:32:18.939\nThere it is right there,\npracticelabsplad.dc01, right,\n\n664\n00:32:18.939 --> 00:32:22.928\nI have the certificate that was\nissued off for or from the root CA.\n\n665\n00:32:22.928 --> 00:32:26.377\nYou could see they've been pushed here,\nand put here by the group policy, so\n\n666\n00:32:26.377 --> 00:32:27.174\nI could see them,\n\n667\n00:32:27.174 --> 00:32:30.487\nsee the result of that policy being\napplied from GP update force, right?\n\n668\n00:32:30.487 --> 00:32:33.840\nSo I have a certificate that I have\nissued, that I have requested.\n\n669\n00:32:33.840 --> 00:32:38.269\nTwopladdm01 to this local machine\nis going to be the ADRMS server and\n\n670\n00:32:38.269 --> 00:32:39.480\nhost the cluster.\n\n671\n00:32:39.480 --> 00:32:43.020\nI've issued a certificate\nfrom the root CA.\n\n672\n00:32:43.020 --> 00:32:45.300\nI've got that four server authentication.\n\n673\n00:32:45.300 --> 00:32:49.441\nI'm gonna bind that to my web server by\nusing https and editing the bindings and\n\n674\n00:32:49.441 --> 00:32:53.035\nput that certificate on the web server and\nI've done that already.\n\n675\n00:32:53.035 --> 00:32:56.130\nLet's go take a look,\nI opened up IIS server manager.\n\n676\n00:32:56.130 --> 00:32:59.279\nSo you've probably, hopefully seen\nthis console at some point before,\n\n677\n00:32:59.279 --> 00:33:00.459\nand I've done two things.\n\n678\n00:33:00.459 --> 00:33:04.645\nI've come up here to cloud DM01,\n\n679\n00:33:04.645 --> 00:33:10.790\nwhich is just the web server\nthat's being managed.\n\n680\n00:33:10.790 --> 00:33:13.675\nI've gone to, as I do that here, I've gone\nto server certificates, right down here.\n\n681\n00:33:13.675 --> 00:33:18.416\nDouble clicked and I can see that I\nalready have a certificate that's been\n\n682\n00:33:18.416 --> 00:33:21.414\npushed there from\npractice labs PLAB DC 01.\n\n683\n00:33:21.414 --> 00:33:23.630\nSo my certificate is already there.\n\n684\n00:33:23.630 --> 00:33:26.405\nAnd I've come to the default website here,\n\n685\n00:33:26.405 --> 00:33:31.281\nbecause I have to edit the bindings to\nenable SSL support and associate that.\n\n686\n00:33:31.281 --> 00:33:34.270\nI've right clicked here, edit bindings.\n\n687\n00:33:34.270 --> 00:33:37.856\nAnd by default I would only see\nthe first of the two bindings there.\n\n688\n00:33:37.856 --> 00:33:41.713\nHTPS would not be there by default,\nnor would it be bound.\n\n689\n00:33:41.713 --> 00:33:45.003\nSo, I have to go add that,\nso I've added here.\n\n690\n00:33:45.003 --> 00:33:46.987\nI've chosen HTTPS.\n\n691\n00:33:46.987 --> 00:33:50.675\nWhen I do that, I specify the SSL\ncertificate I want to use.\n\n692\n00:33:50.675 --> 00:33:53.025\nThat certificate that I just showed you,\nthat's there.\n\n693\n00:33:53.025 --> 00:33:56.540\nAnd I put the host name in,\nof plab in this case the host plab dm01,\n\n694\n00:33:56.540 --> 00:34:00.858\nthe local host and you'll put that in,\nassociate that, and when I've done that,\n\n695\n00:34:00.858 --> 00:34:02.292\nI then get this right here.\n\n696\n00:34:02.292 --> 00:34:06.850\nSo I've set all this up, done all this\nbackground work before we even get\n\n697\n00:34:06.850 --> 00:34:10.691\nstarted with getting to the actual\nconfiguration of AD RMS.\n\n698\n00:34:10.691 --> 00:34:12.875\nAll this background work has to happen.\n\n699\n00:34:12.875 --> 00:34:14.705\nSo I've done all that background work.\n\n700\n00:34:14.705 --> 00:34:17.013\nAnd now as soon as we come back for\nthe next episode,\n\n701\n00:34:17.013 --> 00:34:19.802\nwe're gonna actually go right up here,\nwe're gonna click,\n\n702\n00:34:19.802 --> 00:34:22.505\nwe're gonna see that we can\ndo additional configuration.\n\n703\n00:34:22.505 --> 00:34:24.471\nWe're gonna kick off this wizard and\n\n704\n00:34:24.471 --> 00:34:28.850\nwalk through the steps associated with\nthe ADRMS service configuration wizard,\n\n705\n00:34:28.850 --> 00:34:31.972\nabout ten or 12 things we gotta\ndo as we go through there.\n\n706\n00:34:31.972 --> 00:34:34.763\nWe'll make all the choices associated\nwith various things we need to do.\n\n707\n00:34:34.763 --> 00:34:38.143\nWe'll then be able to get into\nthe ADRMS management console.\n\n708\n00:34:38.143 --> 00:34:40.821\nWe'll begin to actually take a look\nat some of things that go on under\n\n709\n00:34:40.821 --> 00:34:41.481\nthe hood there.\n\n710\n00:34:41.481 --> 00:34:42.990\nRight now if you take a look.\n\n711\n00:34:42.990 --> 00:34:47.033\nWhile we do have the ADRMS listed here,\nit's not configured yet.\n\n712\n00:34:47.033 --> 00:34:48.471\nIf we open it up,\nwe wont be able to use it.\n\n713\n00:34:48.471 --> 00:34:50.850\nSo we're gonna actually do that install.\n\n714\n00:34:50.850 --> 00:34:53.789\nWe're going to restart this machine\nby the way, to instantiate ADRMS.\n\n715\n00:34:53.789 --> 00:34:57.208\nAD RMS once we finish the wizard\nwe have to restart and\n\n716\n00:34:57.208 --> 00:35:01.191\nthen come back on to get the AD RMS\nconsole to set up properly.\n\n717\n00:35:01.191 --> 00:35:04.195\nSo we'll take a break, as we often do,\ncut away and come back to do that.\n\n718\n00:35:04.195 --> 00:35:06.539\nSo you'll see me do a couple\nof things as we go.\n\n719\n00:35:06.539 --> 00:35:09.598\nBut we're gonna start walking through the\nrest of that process as soon as you come\n\n720\n00:35:09.598 --> 00:35:10.551\non back and join us here.\n\n721\n00:35:10.551 --> 00:35:13.716\n&gt;&gt; All right well now that we've got\na little peak at what to expect during\n\n722\n00:35:13.716 --> 00:35:15.552\nthe next show, we hope to see you there.\n\n723\n00:35:15.552 --> 00:35:17.973\nBut for this show we are out of time so\nwe'll go ahead and\n\n724\n00:35:17.973 --> 00:35:20.039\nsign out I've been your\nhost Cherokee Boose.\n\n725\n00:35:20.039 --> 00:35:21.515\n&gt;&gt; And we have a minute left by the way.\n\n726\n00:35:21.515 --> 00:35:22.692\n&gt;&gt; All right.\n&gt;&gt; Under time.\n\n727\n00:35:22.692 --> 00:35:23.312\n&gt;&gt; High five.\n\n728\n00:35:23.312 --> 00:35:25.205\n&gt;&gt; Just thought I called that out because-\n&gt;&gt; [LAUGH]\n\n729\n00:35:25.205 --> 00:35:28.011\n&gt;&gt; We are masters of time here.\n\n730\n00:35:28.011 --> 00:35:29.565\nI am who am I.\n\n731\n00:35:29.565 --> 00:35:30.841\nI am, I don't know who I am.\n\n732\n00:35:30.841 --> 00:35:32.062\nYou know who I am,\nthat's all that matters.\n\n733\n00:35:32.062 --> 00:35:33.404\nBut I am Adam Gordon.\n\n734\n00:35:33.404 --> 00:35:35.340\nWe're gonna say good bye,\nbut please make a point.\n\n735\n00:35:35.340 --> 00:35:36.766\nCome on back and see us for episode three.\n\n736\n00:35:36.766 --> 00:35:39.610\nWe're gonna show you how to set this thing\nup and how to actually put it to use.\n\n737\n00:35:39.610 --> 00:35:41.999\n&gt;&gt; Thank you.\n\n738\n00:35:41.999 --> 00:35:47.893\n[MUSIC]\n\n739\n00:35:47.893 --> 00:35:51.376\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "232993901"
        },
        {
          "description": "In this show,  Adam and Cherokee  explain why and how to enable and configure the super users group. They also show how to  Create a rights policy and export it to share to be available for use.",
          "length": "2142",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-3-implementing_ad_rms_pt3-090717-PGM.00_47_18_09.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-3-implementing_ad_rms_pt3-090717-PGM.00_47_18_09.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-3-implementing_ad_rms_pt3-090717-PGM.00_47_18_09.Still001-sm.jpg",
          "title": "Implementing AD RMS Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:01.130\nWelcome to ITProTV.\n\n2\n00:00:01.130 --> 00:00:03.516\nI'm your host, Don Pezet.\n\n3\n00:00:03.516 --> 00:00:08.147\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:08.147 --> 00:00:11.887\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.887 --> 00:00:16.850\n&gt;&gt; Welcome back to Windows Server 2012,\nour 270-412 series.\n\n6\n00:00:16.850 --> 00:00:18.900\nI'm your show host, Cherokee Boose.\n\n7\n00:00:18.900 --> 00:00:22.380\nIn this episode, we'll pick back up with\nthe demonstration where Adam was showing\n\n8\n00:00:22.380 --> 00:00:25.350\nus how to implement ADRMS.\n\n9\n00:00:25.350 --> 00:00:30.210\nAnd back with us today is Adam\nhimself again in his lovely,\n\n10\n00:00:30.210 --> 00:00:32.799\nbright, cheery, yellow shirt.\n\n11\n00:00:32.799 --> 00:00:35.765\n&gt;&gt; That's a Spiffy cup of coffee\nthat you've got there, Sport.\n\n12\n00:00:35.765 --> 00:00:39.090\n&gt;&gt; [LAUGH] Yeah I did have\ncaffeine in between shows here.\n\n13\n00:00:39.090 --> 00:00:40.120\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n14\n00:00:40.120 --> 00:00:41.520\nwe did say we were taking a coffee break.\n\n15\n00:00:41.520 --> 00:00:42.510\nAll right, so we are back.\n\n16\n00:00:42.510 --> 00:00:46.740\nHopefully you're prepared to continue our\njourney with ADRMS and how we configure it\n\n17\n00:00:46.740 --> 00:00:49.235\nas Cherokee Cherokee said, we're\ngonna jump back in where we left off.\n\n18\n00:00:49.235 --> 00:00:52.975\nWe had shown you the last episode\nall the pre-work we do to get ready\n\n19\n00:00:52.975 --> 00:00:54.385\nto configure AD RMS.\n\n20\n00:00:54.385 --> 00:00:58.615\nWalked up to the point where we would\nfire up the console and run the wizard.\n\n21\n00:00:58.615 --> 00:01:00.435\nWe're gonna do that right now\nif you come back and join me.\n\n22\n00:01:01.610 --> 00:01:04.680\nRight here we left off with our ability\nto be able to perform additional\n\n23\n00:01:04.680 --> 00:01:05.350\nconfiguration.\n\n24\n00:01:05.350 --> 00:01:06.120\nTeed up ready to go.\n\n25\n00:01:06.120 --> 00:01:09.910\nIf you haven't seen that last episode,\nI just logged through all the setup\n\n26\n00:01:09.910 --> 00:01:13.930\nwith power shell we did on the domain\ncontroller to set up the root CA.\n\n27\n00:01:13.930 --> 00:01:18.390\nOn the ADRMS target machine to\nconfigure the web server issue out\n\n28\n00:01:18.390 --> 00:01:22.240\nthe certificates all stuff we need to do\nprior to actually running this config.\n\n29\n00:01:22.240 --> 00:01:25.200\nSo I encourage you to take a look at\nthat just to make sure you're in line\n\n30\n00:01:25.200 --> 00:01:26.700\nwith where we are and what we're doing.\n\n31\n00:01:26.700 --> 00:01:30.520\nWe're gonna go ahead and\nlaunch our configuration wizard here.\n\n32\n00:01:30.520 --> 00:01:33.270\nJust get this up so\nwe can see what's happening.\n\n33\n00:01:33.270 --> 00:01:38.140\nADRMS services, ADRMS, information\nprotection technology integrates\n\n34\n00:01:38.140 --> 00:01:42.090\nwith other applications to afford us\nthe protections that we have talked about,\n\n35\n00:01:42.090 --> 00:01:46.840\nwe're going to click next,\ncreate or join an ADRMS cluster.\n\n36\n00:01:46.840 --> 00:01:51.690\nNotice our option is only to create a new\nADRMS cluster, not join an existing one,\n\n37\n00:01:51.690 --> 00:01:54.840\nbecause we don't have a cluster\nthat has been set up yet, so\n\n38\n00:01:54.840 --> 00:02:00.400\njust interesting That we are in this case\nobviously only given one default option.\n\n39\n00:02:00.400 --> 00:02:01.350\nSo we're gonna click next,\n\n40\n00:02:01.350 --> 00:02:05.010\nas we are setting up and\nestablishing a brand new cluster.\n\n41\n00:02:05.010 --> 00:02:07.560\nThen select the configuration database.\n\n42\n00:02:07.560 --> 00:02:08.430\nWe do have two options.\n\n43\n00:02:08.430 --> 00:02:12.020\nI didn't mention this as we were getting\nstarted but we do have the ability to\n\n44\n00:02:12.020 --> 00:02:16.480\neither use a external SQL database\nin a SQL cluster somewhere.\n\n45\n00:02:16.480 --> 00:02:19.840\nOr we could use what's known as WID,\nthe Window's Internal Database.\n\n46\n00:02:19.840 --> 00:02:23.480\nWe are gonna use WID, the Window's\nInternal Database on this server.\n\n47\n00:02:23.480 --> 00:02:26.350\nSo, create and instantiate\na local copy of the database so\n\n48\n00:02:26.350 --> 00:02:29.230\nit will be used to home and\nhose the information for ADRMS.\n\n49\n00:02:29.230 --> 00:02:32.340\nIf we're gonna scale up and\nscale out, we're gonna have hundreds,\n\n50\n00:02:32.340 --> 00:02:34.940\nthousands of users using the ADRMS server.\n\n51\n00:02:34.940 --> 00:02:38.830\nWould be a good idea for us to think about\nusing the configuration database service.\n\n52\n00:02:38.830 --> 00:02:40.250\nSo just be aware of that.\n\n53\n00:02:40.250 --> 00:02:44.480\nOr rather to use sequel for the\nconfiguration or management of the system.\n\n54\n00:02:44.480 --> 00:02:46.800\nWe would specify the server name and\nthe instance and\n\n55\n00:02:46.800 --> 00:02:50.410\nwe would get that from our database\nadministrator most likely.\n\n56\n00:02:50.410 --> 00:02:52.130\nSo we have that capability here.\n\n57\n00:02:53.660 --> 00:02:56.430\nSpecify service account,\nif you remember in the last episode,\n\n58\n00:02:56.430 --> 00:03:01.770\nI showed you that I created a user account\nspecifically for use as a service account.\n\n59\n00:03:01.770 --> 00:03:04.720\nI showed you how I did that,\nwent into the Active Directory User and\n\n60\n00:03:04.720 --> 00:03:07.700\nComputer Management Tool on\nthe domain controller and\n\n61\n00:03:07.700 --> 00:03:10.000\npulled up that account,\nshowed you what it was.\n\n62\n00:03:10.000 --> 00:03:12.880\nQuickly, you may or\nmay not remember the name of that account.\n\n63\n00:03:12.880 --> 00:03:14.490\nDo you remember what it was?\n\n64\n00:03:14.490 --> 00:03:15.760\n&gt;&gt; The Super Users Account.\n\n65\n00:03:15.760 --> 00:03:16.636\n&gt;&gt; No.\nWell that was\n\n66\n00:03:16.636 --> 00:03:17.267\n&gt;&gt; The group.\n\n67\n00:03:17.267 --> 00:03:18.500\n&gt;&gt; Group.\nNot the account.\n\n68\n00:03:18.500 --> 00:03:19.995\n&gt;&gt; Group managed service account.\n\n69\n00:03:19.995 --> 00:03:20.510\n[LAUGH]\n&gt;&gt; No.\n\n70\n00:03:20.510 --> 00:03:22.432\nThat would be for\na totally different topic.\n\n71\n00:03:22.432 --> 00:03:24.310\n&gt;&gt; Okay.\n&gt;&gt; Not what we're doing here.\n\n72\n00:03:24.310 --> 00:03:26.890\nAnd the third strike the floor\nopens up and you disappear.\n\n73\n00:03:26.890 --> 00:03:29.160\nSo let's not have you do that\ncause' I may need you later.\n\n74\n00:03:29.160 --> 00:03:32.810\nAt the end of the episode, so that is why\nwe don't let Cherokee actually participate\n\n75\n00:03:32.810 --> 00:03:35.130\nactively in some of these demonstrations.\n\n76\n00:03:35.130 --> 00:03:38.070\nIt was the ADR MS account that we said and\n\n77\n00:03:38.070 --> 00:03:40.980\nspecified to be a service account\ncalled the ADR MS account, so I am\n\n78\n00:03:40.980 --> 00:03:44.970\nglad that I remembered what it was because\n&gt;&gt; Well I do now, you actually said that\n\n79\n00:03:44.970 --> 00:03:47.570\nthere were two set up\n&gt;&gt; Be here awhile,\n\n80\n00:03:47.570 --> 00:03:50.590\nso let's go ahead,\nlet's actually put in that account.\n\n81\n00:03:50.590 --> 00:03:52.660\nSo you see I clicked, and\nlet me move this over so\n\n82\n00:03:52.660 --> 00:03:56.120\nyou can see I just clicked specify right\nhere, we're just going to be asked to\n\n83\n00:03:56.120 --> 00:03:59.730\nprovide that information, notice by\nthe way we do have an option to connect\n\n84\n00:03:59.730 --> 00:04:03.590\nthe smart card if we had our credential\nfor the account stored on a smart card.\n\n85\n00:04:03.590 --> 00:04:06.900\nAnd we had a smart card reader, we would\nbe able to insert our smart card and\n\n86\n00:04:06.900 --> 00:04:10.610\nelectronically transmit that\ncredential here, that is good to know.\n\n87\n00:04:10.610 --> 00:04:15.510\nSo we are going to type in the domain\nbased account it practice labs as\n\n88\n00:04:15.510 --> 00:04:19.660\nthe domain already, but\nyou know you should always be in the habit\n\n89\n00:04:19.660 --> 00:04:24.220\nof putting in the domain and the account\njust as a general standard rule of thumb.\n\n90\n00:04:24.220 --> 00:04:26.950\nSo I am just showing you that we\ncan put the domain name in there.\n\n91\n00:04:26.950 --> 00:04:29.560\nBack slash and\nthen the name of the account,\n\n92\n00:04:29.560 --> 00:04:33.560\nAD RMS ACCT, which is our AD RMS account.\n\n93\n00:04:33.560 --> 00:04:34.410\nOur password.\n\n94\n00:04:35.640 --> 00:04:41.750\nWhoops, okay typed that incorrectly and\nthat.\n\n95\n00:04:41.750 --> 00:04:43.750\nAll right, so I'm gonna put that in there.\n\n96\n00:04:43.750 --> 00:04:44.720\nClick OK.\n\n97\n00:04:44.720 --> 00:04:46.470\nClick CMR account for us.\n\n98\n00:04:46.470 --> 00:04:48.240\nSo we do have our service account.\n\n99\n00:04:48.240 --> 00:04:49.550\nOUr cryptographic mode.\n\n100\n00:04:49.550 --> 00:04:51.630\nWe have to specify either mode 2 or\nmode 1.\n\n101\n00:04:51.630 --> 00:04:54.620\nWe talked about the differences\nwe were getting set up in\n\n102\n00:04:54.620 --> 00:04:56.310\nsome of our earlier conversations.\n\n103\n00:04:56.310 --> 00:05:01.250\nMode 1 RSA 1024 bit, for\nthe signing algorithm.\n\n104\n00:05:01.250 --> 00:05:05.910\ncrypto mode 2, RSA 2048 bit shy 256,\nwe're going to go with crypto mode 2,\n\n105\n00:05:05.910 --> 00:05:10.560\njust because it sounds a lot more\nimpressive than crypto mode 1 and\n\n106\n00:05:10.560 --> 00:05:13.780\nyou know, bigger, typically as they say,\nwinds up being newer and\n\n107\n00:05:13.780 --> 00:05:15.880\ntherefore More likely more protection.\n\n108\n00:05:15.880 --> 00:05:19.230\nRemember the larger the key space,\nthe number of keys and\n\n109\n00:05:19.230 --> 00:05:22.370\nthe strength protection afforded by that,\nthe better off we are.\n\n110\n00:05:22.370 --> 00:05:23.290\nSo RSA 2048.\n\n111\n00:05:23.290 --> 00:05:28.890\nCluster Key Storage, are we gonna use\nAD RMS essentially to manage key storage?\n\n112\n00:05:28.890 --> 00:05:33.580\nAre we gonna output this or\nput this onto a cryptographic service\n\n113\n00:05:33.580 --> 00:05:37.720\nProtection module and use this as\nan external key storage mechanism.\n\n114\n00:05:37.720 --> 00:05:40.010\nAnd we're gonna go with\nthe ADR I essentially managed.\n\n115\n00:05:40.010 --> 00:05:44.630\nBut we do have an option where we can\nuse the CSP key storage if we choose to.\n\n116\n00:05:44.630 --> 00:05:49.190\nYou'll see at that point\nwe then get a post website\n\n117\n00:05:49.190 --> 00:05:52.720\nThat we have to make available you'll see\nas I kind of do this instead of cluster\n\n118\n00:05:52.720 --> 00:05:57.190\nkey password we then have cluster\nkey csp we have to choose\n\n119\n00:05:57.190 --> 00:06:02.270\nwhat the cluster key csp provider will\nbe external and park our keys there.\n\n120\n00:06:02.270 --> 00:06:04.760\nSo we could do this in an external\nfashion if we choose to,\n\n121\n00:06:04.760 --> 00:06:06.470\nbut we're just going to\nkeep everything local.\n\n122\n00:06:06.470 --> 00:06:13.240\nOn the machine for now, the cluster key,\nthe ADRMS cluster key password.\n\n123\n00:06:13.240 --> 00:06:16.500\nLet me just type in our\nsuper secret password,\n\n124\n00:06:16.500 --> 00:06:19.220\nwhich is password,\nlet me just type I put that in.\n\n125\n00:06:19.220 --> 00:06:20.550\nYou didn't hear me say that, by the way,\n\n126\n00:06:20.550 --> 00:06:23.160\nbecause that's not what\nwe would normally use.\n\n127\n00:06:23.160 --> 00:06:25.970\nSo, I put that in, and\nwe have our cluster website.\n\n128\n00:06:25.970 --> 00:06:27.450\nLet's specify, and remember,\n\n129\n00:06:27.450 --> 00:06:31.020\nI've already shown you in the last episode\nwhy the default website shows up here.\n\n130\n00:06:31.020 --> 00:06:35.480\nYou've already installed all the IS,\nconfigured it, edited the bindings on IS\n\n131\n00:06:35.480 --> 00:06:39.210\nto include https, and\nassociated our certificate there.\n\n132\n00:06:39.210 --> 00:06:42.320\nSo that's why this website shows up,\nand why we're able to use it.\n\n133\n00:06:42.320 --> 00:06:43.900\nSo we did all that pre-work.\n\n134\n00:06:43.900 --> 00:06:46.330\nAnd I showed you all that, so\nwe're gonna highlight that.\n\n135\n00:06:47.730 --> 00:06:53.130\nCluster address, right,\nagain we're using SSL as our cluster\n\n136\n00:06:53.130 --> 00:06:56.520\ncapability just to communicate securely\ncuz we edited the bindings and\n\n137\n00:06:56.520 --> 00:07:01.155\nenabled SSL support So we're going\nto go ahead and put the URL, or\n\n138\n00:07:01.155 --> 00:07:07.165\nthe name for the URL in here that we're\ngoing to use, which is just ADRMS.\n\n139\n00:07:07.165 --> 00:07:10.312\nWe're going to practice that.\n\n140\n00:07:10.312 --> 00:07:14.002\nCom so that's going to be\nthe URL that we will use to\n\n141\n00:07:14.002 --> 00:07:18.057\nspecific how clients will communicate\nwith the cluster over the network.\n\n142\n00:07:18.057 --> 00:07:22.602\nHttps://adrmspracticelabs.com on port 443.\n\n143\n00:07:22.602 --> 00:07:26.610\nNow I left out one piece of the puzzle\nwhere we talked about the pre work and\n\n144\n00:07:26.610 --> 00:07:30.250\nI'm going to remind you of it here\nhopefully your minds are turning and\n\n145\n00:07:30.250 --> 00:07:34.400\nyou're thinking,\nokay I'm using ADRMS practicelab.com\n\n146\n00:07:34.400 --> 00:07:37.970\nADRMS has to be some sort of\nname we have to resolve and\n\n147\n00:07:37.970 --> 00:07:41.980\ntherefore maybe we need some sort of DNS\ninformation to tell us how to do that.\n\n148\n00:07:41.980 --> 00:07:46.462\nWe need a host record that would tell\nus where the ADRMS post actually is and\n\n149\n00:07:46.462 --> 00:07:47.775\nwhat it resolves to.\n\n150\n00:07:47.775 --> 00:07:52.154\nAnd so I did, in addition to everything\nelse, go into the domain controller.\n\n151\n00:07:52.154 --> 00:07:55.059\nJust kind of flip over the domain\ncontroller here for a second.\n\n152\n00:07:55.059 --> 00:07:59.086\nAnd one of the other things that we\ndid Aside from all of the policy and\n\n153\n00:07:59.086 --> 00:08:01.890\nall the other stuff we do have DNS here.\n\n154\n00:08:01.890 --> 00:08:03.260\nI did go into DNS,\n\n155\n00:08:03.260 --> 00:08:07.510\nlet's just go over here to tools,\nlet's go to DNS real quick open that up.\n\n156\n00:08:07.510 --> 00:08:09.585\nAgain come over here to\nthe forward look up zone,\n\n157\n00:08:09.585 --> 00:08:14.350\npracticelabs.com open that up, and\nyou'll see AD RMS right there.\n\n158\n00:08:14.350 --> 00:08:18.360\nI did create a host record for\nAD RMS which allows me to find\n\n159\n00:08:18.360 --> 00:08:23.365\nthat web server that we're referencing,\nAs ADRMSpracticelabs.com.\n\n160\n00:08:23.365 --> 00:08:25.910\nAnd it is at 192.168.0.2,\n\n161\n00:08:25.910 --> 00:08:29.900\nwhich is gonna be the IP address\nof the machine that hosts that.\n\n162\n00:08:29.900 --> 00:08:31.360\nBut I did have to create this host record,\n\n163\n00:08:31.360 --> 00:08:34.170\nbecause by default that\nhost record does not exist.\n\n164\n00:08:34.170 --> 00:08:39.030\nWe do have a host record for PLABDM01,\nwhich is the ADRMS machine, and\n\n165\n00:08:39.030 --> 00:08:39.980\nit is 192.168.0.2.\n\n166\n00:08:39.980 --> 00:08:43.570\nBut we don't have a host\nrecord referencing ADRMS,\n\n167\n00:08:43.570 --> 00:08:45.400\nto that IP address as a host.\n\n168\n00:08:45.400 --> 00:08:49.180\nSo I've created that host record to\nenable the information I'm putting into\n\n169\n00:08:49.180 --> 00:08:53.320\nthe Wizard right now, to actually make\nsense and show up, and to be resolved.\n\n170\n00:08:53.320 --> 00:08:56.830\nSo just closing that loop for you but\nmaking that connection to understand,\n\n171\n00:08:56.830 --> 00:08:59.255\nthat other piece that we\ndid from behind the scenes.\n\n172\n00:08:59.255 --> 00:09:04.435\n&gt;&gt; You have said before we are not to\nbe using conical names for rms here.\n\n173\n00:09:04.435 --> 00:09:07.705\n&gt;&gt; I did not say that in this episode,\n\n174\n00:09:07.705 --> 00:09:10.455\nI actually said that although we are not\nsupposed to talk about it because it is\n\n175\n00:09:10.455 --> 00:09:13.792\na future a thought process in\na totally different universe.\n\n176\n00:09:13.792 --> 00:09:16.499\nWell you're thinking about the fact\nthat we did this for sever 16 you and I.\n\n177\n00:09:16.499 --> 00:09:17.762\n&gt;&gt; Yes.\n&gt;&gt; And in those shows,\n\n178\n00:09:17.762 --> 00:09:21.462\nwhich we did, if you have not seen those\nencourage you to take a look at kind of\n\n179\n00:09:21.462 --> 00:09:24.142\nthe future of what these\nconversations look like, we did.\n\n180\n00:09:24.142 --> 00:09:27.780\nCherokee and I dothe whole set of\nepisodes around identity management\n\n181\n00:09:27.780 --> 00:09:31.150\nin server 16 for\nthe MCSA on the server 16 side.\n\n182\n00:09:31.150 --> 00:09:34.850\nTalked about ADRMS there as well so\nyou'll remember that exact conversation.\n\n183\n00:09:34.850 --> 00:09:39.200\nI mentioned there in that show that we\nare not to use screening records But\n\n184\n00:09:39.200 --> 00:09:41.740\nrather hosting records to do this,\nyou're absolutely right.\n\n185\n00:09:41.740 --> 00:09:43.630\nBut it was in our server 16 conversation.\n\n186\n00:09:43.630 --> 00:09:45.400\nSo I appreciate you bringing that up and\n\n187\n00:09:45.400 --> 00:09:47.560\nreminding us of that here cuz\nI had not mentioned that here.\n\n188\n00:09:47.560 --> 00:09:49.871\nSo that's worth an awesome\nhigh five right there.\n\n189\n00:09:49.871 --> 00:09:51.479\n&gt;&gt; [NOISE]\n&gt;&gt; Cuz that was an important and\n\n190\n00:09:51.479 --> 00:09:53.260\nI had actually forgotten to mention that.\n\n191\n00:09:53.260 --> 00:09:55.820\nSo we do appreciate you bringing that up,\nthank you very much.\n\n192\n00:09:55.820 --> 00:09:56.410\n&gt;&gt; I'm allowed to talk?\n\n193\n00:09:56.410 --> 00:09:57.600\nSometimes?\n&gt;&gt; You are allowed to talk,\n\n194\n00:09:57.600 --> 00:10:00.140\nnow you added value to\nthat actually takes the-\n\n195\n00:10:00.140 --> 00:10:01.590\n&gt;&gt; My points away?\n\n196\n00:10:01.590 --> 00:10:02.260\nMakes it even?\n\n197\n00:10:02.260 --> 00:10:03.130\n&gt;&gt; It makes it even so\n\n198\n00:10:03.130 --> 00:10:06.250\nyou're back to like zero now so the floor\nis not gonna fall out from under you.\n\n199\n00:10:06.250 --> 00:10:09.140\nAll right so\nwe are adding in our URL here, right,\n\n200\n00:10:09.140 --> 00:10:12.220\nso you can see adrmspracticelabs.com,\nokay?\n\n201\n00:10:12.220 --> 00:10:14.430\nSo we're gonna click next,\nserver certificate.\n\n202\n00:10:14.430 --> 00:10:18.840\nNow notice here And\nSSL Certificate Binding already exists for\n\n203\n00:10:18.840 --> 00:10:20.250\nthe selected clustered URL.\n\n204\n00:10:20.250 --> 00:10:23.500\nRemember I showed you on the website\nin the pre-work we did, that I went,\n\n205\n00:10:23.500 --> 00:10:27.620\nedited the bindings, went and added HTTPS,\nbound the server certificate there.\n\n206\n00:10:27.620 --> 00:10:32.500\nThat's why we are getting the ELO\nlittle note here saying, hey this is\n\n207\n00:10:32.500 --> 00:10:35.500\nalready essentially done, check it\noff you don't need to do it again.\n\n208\n00:10:35.500 --> 00:10:38.380\nAnd notice that it's grayed out,\ncause I've already downloaded certificates\n\n209\n00:10:38.380 --> 00:10:40.470\nwhere it needs to be I\ndon't need to do it here.\n\n210\n00:10:40.470 --> 00:10:41.640\nI already did it ahead of time.\n\n211\n00:10:41.640 --> 00:10:44.300\nSo we have that all taken cared of,\nwhich is cool.\n\n212\n00:10:44.300 --> 00:10:45.300\nLet's click Next.\n\n213\n00:10:45.300 --> 00:10:48.350\nLicensor certificate,\nthe server licensor certificate name.\n\n214\n00:10:48.350 --> 00:10:52.350\nWe're just using the host name of the\nmachine, so we're just gonna accept that.\n\n215\n00:10:52.350 --> 00:10:53.750\nRemember, the SLC,\n\n216\n00:10:53.750 --> 00:10:58.210\nserver licensor certificate,\nthis is the crazy validity period, right?\n\n217\n00:10:58.210 --> 00:11:00.750\nThis is the one that gets\nthe 250 a year validity period.\n\n218\n00:11:00.750 --> 00:11:01.770\nSo just so you know that.\n\n219\n00:11:01.770 --> 00:11:02.900\nAll right, so we got that.\n\n220\n00:11:02.900 --> 00:11:08.110\nClub DM01 SCP registration where we're\nregistering the service connection point\n\n221\n00:11:08.110 --> 00:11:12.610\nabsolutely, we are going to register that\nbut do we d it now or do we do it later?\n\n222\n00:11:12.610 --> 00:11:16.440\nYou know I would prefer, and I often tell\ncustomers and I recommend to students,\n\n223\n00:11:16.440 --> 00:11:19.110\ndo it now, get it out of the way, the\nWizard's going to take care of it for you.\n\n224\n00:11:19.110 --> 00:11:21.880\nYou don't wanna have to go and\ndo this later, cuz you may forget.\n\n225\n00:11:21.880 --> 00:11:23.140\nOr just may not get it done.\n\n226\n00:11:23.140 --> 00:11:27.200\nAnd then obviously clients are not able\nto look this service up and find it.\n\n227\n00:11:27.200 --> 00:11:29.550\nAnd locate the cluster\nthrough active directory.\n\n228\n00:11:29.550 --> 00:11:30.830\nSo just do it as part of the wizard.\n\n229\n00:11:30.830 --> 00:11:31.760\nGet it out of the way.\n\n230\n00:11:31.760 --> 00:11:33.800\nThe default by the way is to do it now.\n\n231\n00:11:33.800 --> 00:11:35.360\nI almost think the reality is,\n\n232\n00:11:35.360 --> 00:11:37.282\nI don't even know why we have\nan option register later.\n\n233\n00:11:37.282 --> 00:11:38.770\n&gt;&gt; Right?\n&gt;&gt; It should just be we're registering,\n\n234\n00:11:38.770 --> 00:11:39.718\nand it should just happen.\n\n235\n00:11:39.718 --> 00:11:41.390\n&gt;&gt; So, Jerry couldn't forget about it,\n\n236\n00:11:41.390 --> 00:11:44.665\nactually that's one of the things I\nlike to do, I always try to do things.\n\n237\n00:11:44.665 --> 00:11:45.740\n&gt;&gt; You forget about things?\n\n238\n00:11:45.740 --> 00:11:46.980\n&gt;&gt; Yeah I forget about things.\n\n239\n00:11:46.980 --> 00:11:48.220\n&gt;&gt; Then how do you know\nyou forget about them?\n\n240\n00:11:48.220 --> 00:11:49.405\nDo you remember later?\n\n241\n00:11:49.405 --> 00:11:53.600\n&gt;&gt; I don't remember who actually came up\nwith this quote, but you always have to\n\n242\n00:11:53.600 --> 00:11:56.910\neat the frog first, I'm not saying that\nthis is our frog, because frogs they're\n\n243\n00:11:56.910 --> 00:12:00.800\nusually referencing something difficult,\nbut you should eat the frog first.\n\n244\n00:12:00.800 --> 00:12:03.450\nSo if you have a difficult task for\nthe day, go ahead and\n\n245\n00:12:03.450 --> 00:12:05.290\ntackle it and get it done.\n\n246\n00:12:05.290 --> 00:12:07.060\nSo kind of same concept here.\n\n247\n00:12:07.060 --> 00:12:09.470\nJust go ahead and do it,\ndon't put things off.\n\n248\n00:12:09.470 --> 00:12:12.730\n&gt;&gt; So you're saying that red\nstream the RMS service connection\n\n249\n00:12:12.730 --> 00:12:15.090\npoint is essentially like eating a frog?\n\n250\n00:12:15.090 --> 00:12:15.800\nAnd we should do that.\n\n251\n00:12:15.800 --> 00:12:18.100\n&gt;&gt; If I had eaten a frog to compare it to,\nthen yeah.\n\n252\n00:12:18.100 --> 00:12:19.250\nI would say that.\n\n253\n00:12:19.250 --> 00:12:21.141\n&gt;&gt; Okay.\nYou're back to not talking again.\n\n254\n00:12:21.141 --> 00:12:22.585\n&gt;&gt; [LAUGH]\n&gt;&gt; Just thought we'd make that clear.\n\n255\n00:12:22.585 --> 00:12:24.561\nAll right, so out of the dog house and\nright back in the frog house.\n\n256\n00:12:24.561 --> 00:12:26.450\n&gt;&gt; [LAUGH]\n&gt;&gt; Outstanding.\n\n257\n00:12:26.450 --> 00:12:29.295\nAll right, so register the CVS CP now.\n\n258\n00:12:29.295 --> 00:12:31.735\nJust reminding you,\nit's clearly important to do this.\n\n259\n00:12:31.735 --> 00:12:34.925\nI honestly, clearly, as I said, I don't\nknow why we even have an option, honestly,\n\n260\n00:12:34.925 --> 00:12:35.955\nit should just be done.\n\n261\n00:12:35.955 --> 00:12:38.205\nThere's no value in not doing it now,\njust to be clear.\n\n262\n00:12:38.205 --> 00:12:41.830\nThere's a lot of concern if you don't do\nit, because it will derail the clients\n\n263\n00:12:41.830 --> 00:12:44.730\nability to find the cluster and\nwill request the client license or\n\n264\n00:12:44.730 --> 00:12:48.460\ncertificate and start this whole\nprocess kicked off to use ADRMS.\n\n265\n00:12:48.460 --> 00:12:51.580\nSo, as a result,\nlet's just assume you're gonna do it now.\n\n266\n00:12:51.580 --> 00:12:53.380\nAll right so register the SCP,\n\n267\n00:12:53.380 --> 00:12:54.983\nnow it would be great if you\nhad a like a frog noise.\n\n268\n00:12:54.983 --> 00:12:56.585\n&gt;&gt; [ [LAUGH]\n&gt;&gt; You could make the croaking noise while\n\n269\n00:12:56.585 --> 00:12:57.460\nwe're doing this.\n\n270\n00:12:57.460 --> 00:13:00.960\nAll right, so my standard hey you should\ntake a picture and document conversation\n\n271\n00:13:00.960 --> 00:13:04.720\nthat I always throw out at you at the end\nof one of these wizards, you've got that.\n\n272\n00:13:04.720 --> 00:13:07.420\nGreat way to document,\nmake your auditor happy.\n\n273\n00:13:07.420 --> 00:13:09.250\nWe will treat you better\nif you make us happy.\n\n274\n00:13:09.250 --> 00:13:09.930\nAll right, so\n\n275\n00:13:09.930 --> 00:13:12.690\nAD Rights Management Services we're\ngonna go ahead and do this now.\n\n276\n00:13:12.690 --> 00:13:14.470\nWe're gonna get this stood up and\ninstalled.\n\n277\n00:13:14.470 --> 00:13:17.530\nIt's not gonna take to long,\nso we'll let this go.\n\n278\n00:13:17.530 --> 00:13:21.180\nWhen we're done with this, as I mentioned\nat the end of the last episode,\n\n279\n00:13:21.180 --> 00:13:25.230\nwe do have to restart this machine to\nfinalize this configuration before we can\n\n280\n00:13:25.230 --> 00:13:29.515\nactually use the ADRMS console\nto actually start managing.\n\n281\n00:13:29.515 --> 00:13:31.605\nSo what we're gonna do is let this run,\n\n282\n00:13:31.605 --> 00:13:34.735\nwe're then gonna go ahead\nrestart the machine.\n\n283\n00:13:34.735 --> 00:13:37.655\nWe're gonna come back with this\nall finished up ready to go and\n\n284\n00:13:37.655 --> 00:13:40.745\nthe console already opened up, and\nthat way you'll be able to just,\n\n285\n00:13:40.745 --> 00:13:43.425\nwe'll pick up literally where\nwe are leaving off here.\n\n286\n00:13:43.425 --> 00:13:46.175\nCause the installation itself\nwell it doesnt take to long will\n\n287\n00:13:46.175 --> 00:13:49.165\ntake you know maybe a minute,\ntwo minutes, three minutes, depends but\n\n288\n00:13:49.165 --> 00:13:50.215\nit takes a little bit of time.\n\n289\n00:13:50.215 --> 00:13:52.175\nSo well we could just sit here and\nwatch it,\n\n290\n00:13:52.175 --> 00:13:54.140\nthere's not a lot of value in doing that.\n\n291\n00:13:54.140 --> 00:13:55.830\nWe will let this finish up.\n\n292\n00:13:55.830 --> 00:13:58.370\nI will simply click done at that point.\n\n293\n00:13:58.370 --> 00:13:59.740\nI will restart this machine.\n\n294\n00:13:59.740 --> 00:14:01.710\nWe're not gonna subject you to all that.\n\n295\n00:14:01.710 --> 00:14:04.970\nAnd then when you come back, well it will\nseem like no time to you because we're\n\n296\n00:14:04.970 --> 00:14:06.620\ngonna cut away and come right back.\n\n297\n00:14:06.620 --> 00:14:09.790\nBut when we do that, you're gonna see\nthe console when the machine's back up and\n\n298\n00:14:09.790 --> 00:14:12.220\nI'll have the ADRMS tool opened up so\n\n299\n00:14:12.220 --> 00:14:15.740\nwe can actually then take a tour of\nthe interface and see what's going on.\n\n300\n00:14:15.740 --> 00:14:19.260\nI'll go over here to tools,\nopen up ADRMS right from the top, and\n\n301\n00:14:19.260 --> 00:14:20.280\nwe'll pick up from there.\n\n302\n00:14:20.280 --> 00:14:23.500\nSo come on back and join us in just\na minute and we'll continue our journey.\n\n303\n00:14:25.910 --> 00:14:28.500\nAll right, so you can see,\nas I promised you, we are back.\n\n304\n00:14:28.500 --> 00:14:30.760\nAll i did is just recycle\nmachine behind the scenes,\n\n305\n00:14:30.760 --> 00:14:33.220\nafter the configuration\nwizard finished up.\n\n306\n00:14:33.220 --> 00:14:37.010\nI logged back in, just went to tools,\nclicked on ADRMS right at the very top of\n\n307\n00:14:37.010 --> 00:14:40.380\nthe list there in server manager,\nand you get a security prompt.\n\n308\n00:14:40.380 --> 00:14:44.300\nNo need to worry about that, just tell\nthem the name of the security certificate\n\n309\n00:14:44.300 --> 00:14:46.240\nmay or may not match the name on file.\n\n310\n00:14:46.240 --> 00:14:47.960\nNo big deal, just click yes.\n\n311\n00:14:47.960 --> 00:14:49.970\nWe're all friends here as they say, right?\n\n312\n00:14:49.970 --> 00:14:52.440\nOr frogs depending on your\nperspective I suppose.\n\n313\n00:14:52.440 --> 00:14:55.520\nAll right, so we're gonna just add in\nthe AD RMS cluster first time we load\n\n314\n00:14:55.520 --> 00:14:56.300\nthe tool.\n\n315\n00:14:56.300 --> 00:14:58.840\nOur cluster is then added in so\nwe can manage it.\n\n316\n00:14:58.840 --> 00:15:00.200\nSo we're just waiting on that to happen.\n\n317\n00:15:00.200 --> 00:15:01.530\nYou could see that did take place.\n\n318\n00:15:01.530 --> 00:15:03.580\nWe'llust move this over here, so\n\n319\n00:15:03.580 --> 00:15:06.680\nthat way we can see a little\nbit about what's going on.\n\n320\n00:15:06.680 --> 00:15:12.960\nAll right, so\nwe do have our cluster local now managed.\n\n321\n00:15:12.960 --> 00:15:15.360\nAnd we do have a bunch of\ndifferent things going on in here.\n\n322\n00:15:15.360 --> 00:15:19.390\nIf we need to change that service account\nby the way we can do that right over here.\n\n323\n00:15:19.390 --> 00:15:23.090\nHighlighting the cluster instance\ngives us the ability change out\n\n324\n00:15:23.090 --> 00:15:25.300\nThat ADR ms account,\nservice account we mentioned.\n\n325\n00:15:25.300 --> 00:15:26.810\nSo we do need to modify that.\n\n326\n00:15:26.810 --> 00:15:28.520\nWe can obviously go in and do that.\n\n327\n00:15:28.520 --> 00:15:30.590\nWe do have some properties,\nwe'll take a look at that.\n\n328\n00:15:30.590 --> 00:15:32.490\nWe have our trust policies,\nwe'll be going in and\n\n329\n00:15:32.490 --> 00:15:35.750\ntalking more about these in\nsome upcoming conversations.\n\n330\n00:15:35.750 --> 00:15:37.060\nWe have our rights policy templates,\n\n331\n00:15:37.060 --> 00:15:39.600\nyou heard me mention those already,\nwe'll take a look at that.\n\n332\n00:15:39.600 --> 00:15:42.770\nWe do have a rack certificate policies,\nright, account certificate policies.\n\n333\n00:15:42.770 --> 00:15:46.350\nThose are sitting right over here.\n\n334\n00:15:46.350 --> 00:15:51.050\nAnd we can see, or\nnot [LAUGH] there we go.\n\n335\n00:15:51.050 --> 00:15:52.740\nWe can see those as well.\n\n336\n00:15:52.740 --> 00:15:54.429\nWe do have our exclusion policies,\n\n337\n00:15:54.429 --> 00:15:57.764\nremember we said we could exclude\nunder three different categories.\n\n338\n00:15:57.764 --> 00:16:01.757\nI mentioned Lockbox, essentially a version\nof the operating system of the client.\n\n339\n00:16:01.757 --> 00:16:03.850\nI mention applications and or users.\n\n340\n00:16:03.850 --> 00:16:05.511\nSo we have these three categories there.\n\n341\n00:16:05.511 --> 00:16:08.117\nWe do have security policies,\nwe'll see it right there.\n\n342\n00:16:08.117 --> 00:16:09.511\nWe'll set up our super users or\n\n343\n00:16:09.511 --> 00:16:12.310\nour super user group which it's\ncalled our super user group.\n\n344\n00:16:12.310 --> 00:16:15.610\nSo we're going to set that\nup here in just a minute,\n\n345\n00:16:15.610 --> 00:16:18.280\nwe're going to enable super users\nI'll show you how to do that.\n\n346\n00:16:18.280 --> 00:16:20.690\nI have a cluster key\npassword that we specified,\n\n347\n00:16:20.690 --> 00:16:24.000\nit's here decommissioning if\nwe have to turn off AD RMS and\n\n348\n00:16:24.000 --> 00:16:27.600\npull everything back we can do that here,\nso we'll take a look at that and we do\n\n349\n00:16:27.600 --> 00:16:32.580\nhave some basic reports on statistical\nusage of AD RMS that's available to us.\n\n350\n00:16:32.580 --> 00:16:34.390\nSo what the console\nlooks like essentially?\n\n351\n00:16:34.390 --> 00:16:35.700\nYou haven't seen it before.\n\n352\n00:16:36.730 --> 00:16:40.310\nWe do have our licensing and\nour certification URLs.\n\n353\n00:16:40.310 --> 00:16:43.270\nRemember, we added those in as\nwe were doing the configuration.\n\n354\n00:16:43.270 --> 00:16:47.280\nWizard HTTPS, ADRMS, practicelabs.com.\n\n355\n00:16:47.280 --> 00:16:50.720\nSo we can see those here or whatever the\nversion of that would be given your world\n\n356\n00:16:50.720 --> 00:16:55.060\nand obviously the name of the ADRMS host\nthat you're using you'd substitute that.\n\n357\n00:16:55.060 --> 00:16:57.560\nBut in our demo world,\nthat's what is here.\n\n358\n00:16:57.560 --> 00:17:01.180\nOur database information, just scroll\ndown right here, is listed here.\n\n359\n00:17:01.180 --> 00:17:05.020\nOur configuration database, PLAB,\nDM01 remember, is the server name,\n\n360\n00:17:05.020 --> 00:17:06.640\nwe did the DWID option.\n\n361\n00:17:06.640 --> 00:17:10.825\nSo our database name,\nas you can see there is always\n\n362\n00:17:10.825 --> 00:17:16.240\nDRMS_config_ADRMS_ whatever\nthe domain instance is _443.\n\n363\n00:17:16.240 --> 00:17:18.320\nSo we have that there.\n\n364\n00:17:18.320 --> 00:17:22.990\nAnd we do have our login database\ninformation as well, again same host and\n\n365\n00:17:22.990 --> 00:17:27.170\nthen instead of .config we have logins so\nwe have two databases that are created,\n\n366\n00:17:27.170 --> 00:17:31.140\none config, one log in database,\nboth in the windows internal database.\n\n367\n00:17:31.140 --> 00:17:34.060\nWe do have a bunch of tasks that\nare listed down here at the bottom\n\n368\n00:17:34.060 --> 00:17:36.110\nof the console IN case\nyou haven't seen them.\n\n369\n00:17:36.110 --> 00:17:38.080\nSome that are recommended and\nsome that are optional.\n\n370\n00:17:38.080 --> 00:17:40.400\nAnd we can click here to go up and\n\n371\n00:17:40.400 --> 00:17:43.790\nestablishing a trust, setting rights\naccounts certificate policies.\n\n372\n00:17:43.790 --> 00:17:47.710\nWe can just come up here, right click,\nand set a policy right from here\n\n373\n00:17:47.710 --> 00:17:52.650\nby going in and highlighting this and\nthen From here being able to go in and\n\n374\n00:17:52.650 --> 00:17:55.700\njust click on one of the links and\ndo something.\n\n375\n00:17:55.700 --> 00:17:59.160\nSo we can either follow those links or\nwe can just click around in the console,\n\n376\n00:17:59.160 --> 00:18:00.440\ndo a variety of things.\n\n377\n00:18:00.440 --> 00:18:05.000\nSince we happen to be here if you remember\nI told you about the validity defaults.\n\n378\n00:18:05.000 --> 00:18:10.050\nFor the standard rack, 365 days for\nthe temporary, rack 15 minutes, and so\n\n379\n00:18:10.050 --> 00:18:13.160\nwe could change those, I mentioned I would\nshow you where they are in the console,\n\n380\n00:18:13.160 --> 00:18:16.350\nyou could see that right here, and see,\ndo we have the ability to do that?\n\n381\n00:18:16.350 --> 00:18:18.060\nAll right, so let's go and\ndo a couple of things.\n\n382\n00:18:18.060 --> 00:18:20.210\nLet's first enable Our super users,\n\n383\n00:18:20.210 --> 00:18:24.480\nwe have to turn on that capability by\ncoming to security policies- super users.\n\n384\n00:18:24.480 --> 00:18:27.230\nYou can see it over here,\nit's kind of hard to see,\n\n385\n00:18:27.230 --> 00:18:31.130\neven if we go full screen it's probably\nhard to tell, but there is a grey X,\n\n386\n00:18:31.130 --> 00:18:35.590\nlooks like this right here Kind\nof on the edge of these icons.\n\n387\n00:18:35.590 --> 00:18:38.600\nIt's there, it's there,\nit's there under exclusion policies.\n\n388\n00:18:38.600 --> 00:18:41.960\nIt's also right there, but\nit's very hard to see, on the Super User,\n\n389\n00:18:41.960 --> 00:18:44.310\nwhich indicates it's not\ncurrently turned on.\n\n390\n00:18:44.310 --> 00:18:45.900\nYou can see it is turned off.\n\n391\n00:18:45.900 --> 00:18:48.960\nWe do have an Enable option right here and\nwe can do that.\n\n392\n00:18:48.960 --> 00:18:51.400\nAnd you can see we can right-click and\nenable as well.\n\n393\n00:18:51.400 --> 00:18:53.910\nSo we're gonna enable Super Users,\nWe're gonna do that.\n\n394\n00:18:53.910 --> 00:18:56.670\nNow, it's turned on, but\nthen notice we have not set one.\n\n395\n00:18:56.670 --> 00:18:58.500\nSo enabling it is easy.\n\n396\n00:18:58.500 --> 00:19:02.290\nBut now we have to go in and actually set\nup the Super User group or change it and\n\n397\n00:19:02.290 --> 00:19:03.320\nspecify the group.\n\n398\n00:19:03.320 --> 00:19:06.920\nThat we created which is th ADRMS\nsuper users group I created.\n\n399\n00:19:06.920 --> 00:19:09.820\nSo I'm going to go ahead and\nchange that right now.\n\n400\n00:19:09.820 --> 00:19:15.070\nLet's click there notice it is not set so\nI can go in and I can browse and\n\n401\n00:19:15.070 --> 00:19:19.250\nI can go in to do that Let's go in and\njust browse.\n\n402\n00:19:19.250 --> 00:19:22.660\nType that in so\nwe're going to type in ADRMS.\n\n403\n00:19:22.660 --> 00:19:25.160\nWhat is is super users?\n\n404\n00:19:25.160 --> 00:19:26.350\nSo let me just type in the name.\n\n405\n00:19:27.930 --> 00:19:32.100\nAnd we should spell that correctly.\n\n406\n00:19:33.340 --> 00:19:34.350\nThere we go.\n\n407\n00:19:34.350 --> 00:19:38.430\nAnd we should be able to find that,\nclick ok there.\n\n408\n00:19:38.430 --> 00:19:42.870\nAnd, now we get back, as you can see, the,\nnot the group name, although we do resolve\n\n409\n00:19:42.870 --> 00:19:46.910\nthe group in the browser, but\nwe do ultimately get the email address for\n\n410\n00:19:46.910 --> 00:19:49.990\nthe group, because it has been given an\nemail address, I think I showed you that.\n\n411\n00:19:49.990 --> 00:19:51.150\nIt's part of the pre-work.\n\n412\n00:19:51.150 --> 00:19:54.170\nSo ADR mass super users practice labs,\n\n413\n00:19:54.170 --> 00:19:58.310\nclearly you would provide whatever\nemail address is appropriate for\n\n414\n00:19:58.310 --> 00:20:02.765\nyour environment, based on your email\naddress policy in your organization.\n\n415\n00:20:02.765 --> 00:20:06.015\nWhatever that is, you would set that\nup here and then you click apply,\n\n416\n00:20:06.015 --> 00:20:11.045\nyou will click okay, so now we have\nthe super user group designation.\n\n417\n00:20:11.045 --> 00:20:12.445\nSo we've gone ahead and done that.\n\n418\n00:20:12.445 --> 00:20:15.345\nRemember the super user group and\nI think I talked about this but\n\n419\n00:20:15.345 --> 00:20:19.909\nit's just reminders solves before\nwe set up the AD RMS templates.\n\n420\n00:20:19.909 --> 00:20:24.645\nMembers of the super user group as\nI've talked about a granted owner user\n\n421\n00:20:24.645 --> 00:20:27.420\nlicenses, or\ngranted Try to get all granted.\n\n422\n00:20:28.500 --> 00:20:32.500\nOwner use licenses when they request to\nuse your license from the AD RMS cluster.\n\n423\n00:20:32.500 --> 00:20:34.240\nThis allows them to decrypt,\n\n424\n00:20:34.240 --> 00:20:37.920\nas I talked about all AD MS protected\ncontent published by the cluster.\n\n425\n00:20:37.920 --> 00:20:42.660\nIn other words, members of this\ngroup become Literally superusers.\n\n426\n00:20:42.660 --> 00:20:47.830\nThey have rights fully to decrypt any\ncontent available through the cluster,\n\n427\n00:20:47.830 --> 00:20:52.340\nmuch like, as I think I liken them to,\nenterprise admins on the side in AD,\n\n428\n00:20:52.340 --> 00:20:54.340\nbecause they have rights to everything.\n\n429\n00:20:54.340 --> 00:20:58.000\nThat can do everything, so\nwe are specifying the group as a catch all\n\n430\n00:20:58.000 --> 00:21:01.780\nrecovery safety net to allow us to\nhave that capability to decrypt\n\n431\n00:21:01.780 --> 00:21:05.700\ncontent if necessary as a back door and\nkind of recovery mechanism.\n\n432\n00:21:05.700 --> 00:21:08.210\nSo we do have that set up,\nit is there and available for\n\n433\n00:21:08.210 --> 00:21:11.070\nus you Are looking like you're\npondering something there, Ms.\n\n434\n00:21:11.070 --> 00:21:13.590\nCherokee, perhaps wanting to-\n&gt;&gt; I'm always pondering that.\n\n435\n00:21:13.590 --> 00:21:14.115\n&gt;&gt; I know you are.\n\n436\n00:21:14.115 --> 00:21:16.020\n&gt;&gt; [LAUGH]\n&gt;&gt; That is the fabulous thing about you,\n\n437\n00:21:16.020 --> 00:21:18.270\nbut you wanna make a comment or\na question, something?\n\n438\n00:21:18.270 --> 00:21:20.240\nYou just look like you may have\nsomething you wanted to add.\n\n439\n00:21:20.240 --> 00:21:21.460\n&gt;&gt; No I'm just absorbing.\n\n440\n00:21:21.460 --> 00:21:23.020\n&gt;&gt; Okay\n&gt;&gt; Sponge mode.\n\n441\n00:21:23.020 --> 00:21:23.880\n&gt;&gt; Yes.\nSponge mode.\n\n442\n00:21:23.880 --> 00:21:25.730\n&gt;&gt; Sponge Cherokee instead of Sponge Bob.\n\n443\n00:21:25.730 --> 00:21:28.080\nAlright, so we do have security policies,\n\n444\n00:21:28.080 --> 00:21:30.920\nwe do have our super users\ngroup enabled set up.\n\n445\n00:21:30.920 --> 00:21:32.320\nI showed you where that comes from.\n\n446\n00:21:32.320 --> 00:21:34.880\nLet's go and\nlet's set up a rights policy template.\n\n447\n00:21:34.880 --> 00:21:35.690\nWe've talked about this.\n\n448\n00:21:35.690 --> 00:21:36.530\nWe have these up here.\n\n449\n00:21:36.530 --> 00:21:38.520\nIf you remember our\nrights policy templates,\n\n450\n00:21:38.520 --> 00:21:41.000\nno rights policy template by default,\nby the way.\n\n451\n00:21:41.000 --> 00:21:44.580\nBut our rights policy templates\nare going to be how we are going to\n\n452\n00:21:44.580 --> 00:21:47.870\nenable the application of rights\n&gt;&gt; We said there were two ways to do\n\n453\n00:21:47.870 --> 00:21:51.500\nthis when we give the client license or\nthe usage rights.\n\n454\n00:21:51.500 --> 00:21:54.150\nTo be able to create content and\nthen apply permissions.\n\n455\n00:21:54.150 --> 00:21:57.120\nWe said they could do that through an ADR\nand must enable that either manually,\n\n456\n00:21:57.120 --> 00:22:00.150\nso we could be in there,\nkind of check off some boxes or\n\n457\n00:22:00.150 --> 00:22:02.510\nwe have a template we\ncan pull down an apply.\n\n458\n00:22:02.510 --> 00:22:05.180\nSo we are going to create that\ntemplate to automate that process for\n\n459\n00:22:05.180 --> 00:22:06.850\nsomebody if we want to.\n\n460\n00:22:06.850 --> 00:22:10.640\nNow you notice there are none here I've\nhighlighted right's policy template.\n\n461\n00:22:10.640 --> 00:22:12.790\nAgain, come over here to the right.\n\n462\n00:22:12.790 --> 00:22:16.090\nAnd under items right here, you'll see\nI have a create/distribute kind of\n\n463\n00:22:16.090 --> 00:22:18.160\nthat trails off that creates\ndistributor's rights policy.\n\n464\n00:22:18.160 --> 00:22:20.740\nNow, we usually can right click and\ndo this.\n\n465\n00:22:20.740 --> 00:22:21.920\nYou'll notice that we'll right click.\n\n466\n00:22:21.920 --> 00:22:25.340\nWe don't have the right to create\nsomething on a right click menu,\n\n467\n00:22:25.340 --> 00:22:29.340\nwe just have the right to see ANd\nunderstand what's there and\n\n468\n00:22:29.340 --> 00:22:34.150\nlook at to see properties on the rights\npolicy templates themselves from setting\n\n469\n00:22:34.150 --> 00:22:36.460\na location for them to be stored.\n\n470\n00:22:36.460 --> 00:22:39.830\nYou may set up a shared folder and put\nthem in through a shared folder which you\n\n471\n00:22:39.830 --> 00:22:43.020\nwould normally probably do to\nmake them available to everybody.\n\n472\n00:22:43.020 --> 00:22:48.140\nSo we could set that here, but\nright now if we want to actually create.\n\n473\n00:22:48.140 --> 00:22:51.090\n&gt;&gt; A rights policy template we\nhave to come over here because\n\n474\n00:22:51.090 --> 00:22:51.810\nthis is where we go.\n\n475\n00:22:51.810 --> 00:22:53.180\nSo just be aware of that.\n\n476\n00:22:53.180 --> 00:22:57.270\nNormally right click we almost without\nexception have those options in the many.\n\n477\n00:22:57.270 --> 00:23:00.230\nBut every so often we throw\na little curveball in the guli and\n\n478\n00:23:00.230 --> 00:23:01.290\nwe may not have that right.\n\n479\n00:23:01.290 --> 00:23:02.930\nSo kind of hunt around a little bit.\n\n480\n00:23:02.930 --> 00:23:06.540\nAVRNS is one of those funny consoles\nwhere a lot of things that are intuitive\n\n481\n00:23:06.540 --> 00:23:07.980\nmay not show up on the right click menu.\n\n482\n00:23:07.980 --> 00:23:11.640\nYou're off Typically,\nunder actions looking for\n\n483\n00:23:11.640 --> 00:23:13.820\nthe things you want to do, so\njust kind of be aware of that.\n\n484\n00:23:13.820 --> 00:23:15.070\n&gt;&gt; Just to keep you on your toes.\n\n485\n00:23:15.070 --> 00:23:17.360\n&gt;&gt; Just to keep us on our toes,\nabsolutely correct.\n\n486\n00:23:17.360 --> 00:23:19.710\nSo create distributive rights policy,\n\n487\n00:23:20.980 --> 00:23:25.335\nwe get this little grid if you will,\nwe're going to add information into here.\n\n488\n00:23:25.335 --> 00:23:27.695\nSo we're going to fill this out and\nwe're going to go ahead and add this in.\n\n489\n00:23:27.695 --> 00:23:32.765\nAnd we're going to specify a, you know,\ninformation language name description.\n\n490\n00:23:32.765 --> 00:23:37.442\nThen we're going to specify some user\nrights and Any expiration policies,\n\n491\n00:23:37.442 --> 00:23:37.972\nthings like that.\n\n492\n00:23:37.972 --> 00:23:39.242\nSo we'll just step through here.\n\n493\n00:23:39.242 --> 00:23:41.832\nSo let's go in, let's go and add this in.\n\n494\n00:23:41.832 --> 00:23:45.449\nUnder Language, you'll see we have\nall sorts of languages supported, but\n\n495\n00:23:45.449 --> 00:23:48.229\nwe are gonna default to\nthe language of the installation.\n\n496\n00:23:48.229 --> 00:23:52.759\nThe configuration on the local machine\nwhich is US but localized if your watching\n\n497\n00:23:52.759 --> 00:23:57.419\nthis and your native default language on\nyour system, if your playing along with us\n\n498\n00:23:57.419 --> 00:24:01.034\nhere, is French it will come up\nin French as opposed to English.\n\n499\n00:24:01.034 --> 00:24:02.019\nJust so you know.\n\n500\n00:24:02.019 --> 00:24:06.305\nAll right, so for name we will name\nthis whatever we're going to specify,\n\n501\n00:24:06.305 --> 00:24:09.501\nwhat will this policy be,\nI'll do view only access, so\n\n502\n00:24:09.501 --> 00:24:11.968\nwe'll just call that view only, or view.\n\n503\n00:24:15.927 --> 00:24:19.689\nBut you can name this anything you would\nlike, there's no specificity here,\n\n504\n00:24:19.689 --> 00:24:21.860\nno rule you must follow,\nnothing like that.\n\n505\n00:24:21.860 --> 00:24:26.860\nThe only thing you must do is, and\ntypically I'm the person who says,\n\n506\n00:24:26.860 --> 00:24:29.699\nhey descriptions obviously important\nnotate if you need to, but you need to but\n\n507\n00:24:29.699 --> 00:24:31.910\nyou could also blow them off and\nnot do it and it's fine.\n\n508\n00:24:31.910 --> 00:24:34.480\nBut notice if you don't put something\nin the description bar here,\n\n509\n00:24:34.480 --> 00:24:38.040\nwe don't get that Add button to actually\nbecome available, it's grayed out.\n\n510\n00:24:38.040 --> 00:24:40.367\nNow even if it's just literally\njust one letter, right, but\n\n511\n00:24:40.367 --> 00:24:41.678\nyou gotta put something in there.\n\n512\n00:24:41.678 --> 00:24:44.812\nIf you don't put anything in there we\ndon't actually have the ability click Add\n\n513\n00:24:44.812 --> 00:24:45.478\nand add this in.\n\n514\n00:24:45.478 --> 00:24:50.420\nSo we must specify some sort of policy,\na description, whatever it may be.\n\n515\n00:24:50.420 --> 00:24:57.999\nI'm just gonna put access\nthrough view only.\n\n516\n00:24:59.999 --> 00:25:02.155\nRight, but you can put in whatever\nyou would like there right?\n\n517\n00:25:02.155 --> 00:25:04.910\nAll right, so we're gonna click Add,\nand then that just is there so\n\n518\n00:25:04.910 --> 00:25:09.380\nthat way when the user goes to pull down\nthe policy templates in the app, and\n\n519\n00:25:09.380 --> 00:25:12.972\nthey actually say hey I wanna deploy this\nand I'm not gonna manually choose one.\n\n520\n00:25:12.972 --> 00:25:15.977\nI wanna just have policy templates,\nand I wanna see what my options are.\n\n521\n00:25:15.977 --> 00:25:18.208\nThat description is what tells\nthem what the policy template is.\n\n522\n00:25:18.208 --> 00:25:21.504\nSo you can understand the logic of why\nwe force you to put something there, and\n\n523\n00:25:21.504 --> 00:25:24.009\nI'm not suggesting you\nshouldn't use the description.\n\n524\n00:25:24.009 --> 00:25:27.396\nI'm just pointing out that unlike many\nof our wizard screens where descriptions\n\n525\n00:25:27.396 --> 00:25:29.650\nare truly optional,\nthis one is actually required.\n\n526\n00:25:29.650 --> 00:25:32.530\nIf you don't put something there you're\nnot gonna be able to advance to the next\n\n527\n00:25:32.530 --> 00:25:34.370\nscreen here, so just be aware of that.\n\n528\n00:25:34.370 --> 00:25:37.680\nAlright click Next, we then have\nto specify users and right, so\n\n529\n00:25:37.680 --> 00:25:43.160\nwe have to add users in, and then we have\nthe rights that we have to grant to them.\n\n530\n00:25:43.160 --> 00:25:45.460\nAnd we have as you can\nsee all these rights, so\n\n531\n00:25:45.460 --> 00:25:48.740\nlets go in and\nlet's specify a group here or a user.\n\n532\n00:25:48.740 --> 00:25:49.940\nI'm gonna ahead and add in,\n\n533\n00:25:49.940 --> 00:25:54.140\nand I'm gonna add in a user\nthat we've already specified or\n\n534\n00:25:54.140 --> 00:25:57.745\na group we've already specified, or I have\nset up I should say, so I'll click Add.\n\n535\n00:25:57.745 --> 00:26:01.040\nAnd notice I have to put in not the user\nor the group, but the email address,\n\n536\n00:26:01.040 --> 00:26:03.470\nwe keep coming back to the idea\nof having email addresses, and\n\n537\n00:26:03.470 --> 00:26:05.730\nusing them, so\nwe've gotta have an email address, right?\n\n538\n00:26:05.730 --> 00:26:07.770\nSo we're gonna put that in, or\nnotice I can just say anyone,\n\n539\n00:26:07.770 --> 00:26:09.690\nmeaning I can just essentially\nleave it open to anybody.\n\n540\n00:26:09.690 --> 00:26:11.820\n&gt;&gt; Leave it open?\n&gt;&gt; Yeah, if I want to, right?\n\n541\n00:26:11.820 --> 00:26:13.348\nBut I'm gonna define it in this case.\n\n542\n00:26:13.348 --> 00:26:16.550\nSo I've pre-loaded some email\naddresses on some user accounts and\n\n543\n00:26:16.550 --> 00:26:17.750\ngroups as part of this.\n\n544\n00:26:17.750 --> 00:26:20.720\nBecause remember, in our demo environment\nI shared with you we don't have\n\n545\n00:26:20.720 --> 00:26:24.210\nemail addresses as part of the normal\nuser profile in the properties.\n\n546\n00:26:24.210 --> 00:26:26.070\nIn your world you very likely do, so\n\n547\n00:26:26.070 --> 00:26:29.070\nyou may already have these email\naddresses available to you.\n\n548\n00:26:29.070 --> 00:26:32.630\nI've gone and just created a couple\nof them, so I'm gonna do marketing,\n\n549\n00:26:32.630 --> 00:26:38.710\nwhich is one of the groups that we have,\n@practicelabs.com.\n\n550\n00:26:38.710 --> 00:26:41.300\nAdd that in, click OK.\n\n551\n00:26:41.300 --> 00:26:46.280\nSo now I can assign permissions,\nand I wanna just call out and\n\n552\n00:26:46.280 --> 00:26:50.410\nmake it clear here that again,\nunlike a normal access control list where\n\n553\n00:26:50.410 --> 00:26:54.200\nI have two options where I can allow or\ndeny permissions.\n\n554\n00:26:54.200 --> 00:26:58.440\nI am only explicitly granting\npermissions in this interface,\n\n555\n00:26:58.440 --> 00:27:02.240\nI am not denying them,\nwe have an implicit deny in place.\n\n556\n00:27:02.240 --> 00:27:07.050\nMeaning you do not have permissions,\nunless we are giving them to you.\n\n557\n00:27:07.050 --> 00:27:11.211\nAnd so as a result I'm explicitly granting\na permission here, that is all I'm doing,\n\n558\n00:27:11.211 --> 00:27:14.240\nbe very clear about that,\nvery important for you to know that.\n\n559\n00:27:14.240 --> 00:27:17.140\nAll right, so I have to give whatever\npermission I may choose to give,\n\n560\n00:27:17.140 --> 00:27:20.910\nit doesn't really matter what permission\nI assign here, it's totally up to me.\n\n561\n00:27:20.910 --> 00:27:24.270\nBut clearly if I do something and you\ncould see the options here full control,\n\n562\n00:27:24.270 --> 00:27:28.770\nview, edit, save, export which\nis save as different from save.\n\n563\n00:27:28.770 --> 00:27:32.192\nBecause I can change the name of the\ndocument when I save as, whereas for save,\n\n564\n00:27:32.192 --> 00:27:34.555\nI have to save it given\nwhatever it already is.\n\n565\n00:27:34.555 --> 00:27:37.780\nPrint, forward, reply, reply all.\n\n566\n00:27:37.780 --> 00:27:41.003\nYou can see extract, allow macros,\nview rights, edit rights.\n\n567\n00:27:41.003 --> 00:27:44.440\nPlus I have the option to create\ncustoms solutions if I want to.\n\n568\n00:27:44.440 --> 00:27:47.500\nSo I'll just go ahead and\ndo a full control alright.\n\n569\n00:27:47.500 --> 00:27:49.252\nYou notice a full control\ngives me everything.\n\n570\n00:27:49.252 --> 00:27:52.386\nIf I choose not to, notice I can take\nthat away and maybe just give view or\n\n571\n00:27:52.386 --> 00:27:53.391\nsomething like that.\n\n572\n00:27:53.391 --> 00:27:55.917\nSo I'll decide on something,\nit doesn't really matter what it is.\n\n573\n00:27:55.917 --> 00:27:59.633\nBut also notice your grant owner\nauthor right, full rights or\n\n574\n00:27:59.633 --> 00:28:02.573\nfull access control rights\nwith no expiration.\n\n575\n00:28:02.573 --> 00:28:05.748\nMeaning whoever the owner is,\nthey're gonna get full rights, and\n\n576\n00:28:05.748 --> 00:28:09.170\nthose rights are instantiated permanently,\nthey never expire.\n\n577\n00:28:09.170 --> 00:28:12.498\nBecause I may choose to set an expiration\npolicy right here in the next step,\n\n578\n00:28:12.498 --> 00:28:16.190\nwhere I say these rights are good, they're\nonly good for a certain amount of time for\n\n579\n00:28:16.190 --> 00:28:17.752\nyou to be able to view the document.\n\n580\n00:28:17.752 --> 00:28:22.162\nSo one of the nice things about ADRMS,\nI can time expire access control or\n\n581\n00:28:22.162 --> 00:28:26.806\nrights to the document, as part of\nthe control overall that ADRMS gives me.\n\n582\n00:28:26.806 --> 00:28:29.400\nWhich is nice, cuz I could say hey,\nhere's the content, but it's only good for\n\n583\n00:28:29.400 --> 00:28:30.639\nfive days, or a month, or whatever.\n\n584\n00:28:30.639 --> 00:28:33.181\n&gt;&gt; The stroke of midnight.\n\n585\n00:28:33.181 --> 00:28:36.127\n&gt;&gt; So yeah, until your birthday or\nthe day before your birthday or\n\n586\n00:28:36.127 --> 00:28:37.473\nsomething like that right?\n\n587\n00:28:37.473 --> 00:28:38.666\nAll right so I can do that.\n\n588\n00:28:38.666 --> 00:28:42.070\nI'm gonna grant ownership full\ncontrol rights, click Next.\n\n589\n00:28:42.070 --> 00:28:43.650\nNow, content expiration.\n\n590\n00:28:43.650 --> 00:28:46.810\nDefault never expires, which may or\nmay not make sense, but\n\n591\n00:28:46.810 --> 00:28:49.670\nwe could expire on a following date or\ntime.\n\n592\n00:28:49.670 --> 00:28:53.820\nSo I can go in and actually do that, or\nI can expire after so many days, right?\n\n593\n00:28:53.820 --> 00:28:57.270\nMaybe 16 or 17 days, or whatever it is.\n\n594\n00:28:57.270 --> 00:29:00.660\nI could also expire the use\nlicense after so many days.\n\n595\n00:29:00.660 --> 00:29:04.100\nSo I can do both the content,\nand, or the use license, and\n\n596\n00:29:04.100 --> 00:29:05.770\nI can do both if I choose to.\n\n597\n00:29:05.770 --> 00:29:07.060\nWe'll put those in there.\n\n598\n00:29:07.060 --> 00:29:08.780\nI could specify an extended policy,\n\n599\n00:29:08.780 --> 00:29:11.850\nenable users to view protected\ncontent using a browser add on.\n\n600\n00:29:11.850 --> 00:29:14.070\nYou know how for\ninstance Adobe plugs in and\n\n601\n00:29:14.070 --> 00:29:17.760\nhas a browser add on, let's you\nsee PDF's inside the web browser.\n\n602\n00:29:17.760 --> 00:29:20.830\nThere may be browser add ons\nthat are ADRMS enabled, and\n\n603\n00:29:20.830 --> 00:29:25.320\ncapable from different vendors so we can\nenable that capability if we choose to.\n\n604\n00:29:26.552 --> 00:29:31.243\nRequire a new license every time content\nis consumed, we do not cache the license,\n\n605\n00:29:31.243 --> 00:29:34.670\nbut rather require you to\nrequest a new one every time.\n\n606\n00:29:34.670 --> 00:29:38.700\nValidating and authorizing you as\na result so we can do that as well.\n\n607\n00:29:38.700 --> 00:29:41.110\nAnd so\nwe can specify these kind of things,\n\n608\n00:29:41.110 --> 00:29:44.760\nif you wanna specify additional\ninformation for the ADRMS enable that.\n\n609\n00:29:44.760 --> 00:29:47.260\nWe could specify them here\nas a name value pair, so\n\n610\n00:29:47.260 --> 00:29:50.710\nwe could add some additional\ninformation if we choose to.\n\n611\n00:29:50.710 --> 00:29:54.470\nClick Next, specify revocation policy.\n\n612\n00:29:54.470 --> 00:29:58.530\nWe can require revocation, and\nspecify the URL for the revocation list.\n\n613\n00:29:58.530 --> 00:30:02.320\nRemember, we talked about certificate\nrevocation lists in the ADCS episode.\n\n614\n00:30:02.320 --> 00:30:04.009\nSo if you haven't seen those,\nyou go back and\n\n615\n00:30:04.009 --> 00:30:07.100\ntake a look you'll find that discussion\nthere, we've gone through that.\n\n616\n00:30:07.100 --> 00:30:11.590\nWe could specify revocation information\nhere as well if we choose to.\n\n617\n00:30:11.590 --> 00:30:13.420\nSo we can put that in if we need to.\n\n618\n00:30:13.420 --> 00:30:16.382\nWe'll click Finish, we're not going to\ndo that, but we could if we wanted to.\n\n619\n00:30:16.382 --> 00:30:19.473\nSo now I have created a rights\npolicy template, I've gone in and\n\n620\n00:30:19.473 --> 00:30:20.682\nessentially done that.\n\n621\n00:30:20.682 --> 00:30:25.245\nYou've seen how we can walk through,\ncreate the rights policy template and\n\n622\n00:30:25.245 --> 00:30:27.749\nwe can then go ahead and distribute this.\n\n623\n00:30:27.749 --> 00:30:30.559\nAnd I said we would typically\ncreate a shared folder and\n\n624\n00:30:30.559 --> 00:30:33.150\npublish this template and\nmake it available.\n\n625\n00:30:33.150 --> 00:30:35.980\nSo let me do that piece real quick and\nshow you this.\n\n626\n00:30:35.980 --> 00:30:38.191\nSo let's go in here,\nlet's just go to the local machine.\n\n627\n00:30:38.191 --> 00:30:41.523\nWe'll go to the C drive here,\nand we'll create a folder,\n\n628\n00:30:41.523 --> 00:30:44.380\nwe'll just create this in\nthe root of the C drive.\n\n629\n00:30:44.380 --> 00:30:49.302\nLet's call that adrmsTemplates,\nso adrmsTemplates,\n\n630\n00:30:49.302 --> 00:30:54.427\nmake sure I spelled that correctly\nI did that is so awesome,\n\n631\n00:30:54.427 --> 00:30:58.830\nunder pressure like first time and\nI got it right.\n\n632\n00:30:58.830 --> 00:31:02.260\n&gt;&gt; Temp bowls,\ninstead of temp bowls, or temp forks\n\n633\n00:31:02.260 --> 00:31:03.862\n&gt;&gt; Or whatever I have come up with before,\n\n634\n00:31:03.862 --> 00:31:05.573\ntempalettes, all sorts of crazy stuff.\n\n635\n00:31:05.573 --> 00:31:09.061\nAll right so we're gonna go to advanced\nsharing here, we're gonna set this up to\n\n636\n00:31:09.061 --> 00:31:12.318\nshare it, so that everybody has rights\nto this or we enable rights to this.\n\n637\n00:31:12.318 --> 00:31:15.568\nI'm just gonna make sure I remember what\nmy service account was, okay just so\n\n638\n00:31:15.568 --> 00:31:17.680\nI see my note, so\nwe're gonna share this folder.\n\n639\n00:31:19.000 --> 00:31:20.440\nClick Permissions here.\n\n640\n00:31:20.440 --> 00:31:24.690\nWe have everyone, we're gonna add\nthe service account in so ADRMS account\n\n641\n00:31:26.170 --> 00:31:30.246\nis gonna get added here so that we give\nthe service account rights to this.\n\n642\n00:31:30.246 --> 00:31:35.420\nAnd we're gonna go ahead, set that up, and\nwe're gonna specify full control there,\n\n643\n00:31:35.420 --> 00:31:39.520\nso let's go ahead,\nlet's give that full control.\n\n644\n00:31:39.520 --> 00:31:41.009\nSo we have that set up.\n\n645\n00:31:41.009 --> 00:31:47.190\nAnd [COUGH] in addition,\nclick Apply, click OK.\n\n646\n00:31:47.190 --> 00:31:51.828\nGot that Apply, OK, got that.\n\n647\n00:31:51.828 --> 00:31:53.168\nAll right, so we got that set up.\n\n648\n00:31:53.168 --> 00:31:56.929\nSo now right, and we could seeby the way,\nnothing in there yet right?\n\n649\n00:31:56.929 --> 00:31:58.280\nSo let's just Go here.\n\n650\n00:31:58.280 --> 00:32:02.228\nSo let's publish this template, or make\nthis template we just created available in\n\n651\n00:32:02.228 --> 00:32:04.720\nthat share, so\nit could be broadly consumed.\n\n652\n00:32:04.720 --> 00:32:08.290\nSo we're gonna come back here, right-click\non, well, it's policy template,\n\n653\n00:32:08.290 --> 00:32:09.600\ngo to Properties.\n\n654\n00:32:09.600 --> 00:32:12.101\nRemember, I showed you, I talked about\nthis a minute ago, that I can go and\n\n655\n00:32:12.101 --> 00:32:13.270\naccept this here.\n\n656\n00:32:13.270 --> 00:32:15.620\nSo I'm going to enable exports,\nspecify the file.\n\n657\n00:32:15.620 --> 00:32:18.933\nI have to do this as a UNC, a universal\nnaming convention, I have to path to it,\n\n658\n00:32:18.933 --> 00:32:20.962\nin other words,\nnot do it on the local machine.\n\n659\n00:32:20.962 --> 00:32:24.264\nBecause if I do it on the local machine,\nwhat happens is somebody tries to connect\n\n660\n00:32:24.264 --> 00:32:27.390\nto it from over the network, and they're\nnot going to be able to get into it.\n\n661\n00:32:27.390 --> 00:32:32.810\nSo I have to go in and change it, so I'm\ngoing to create this path using a UNC or\n\n662\n00:32:32.810 --> 00:32:36.730\na back slash back slash server\nname back slash share name path.\n\n663\n00:32:36.730 --> 00:32:38.010\nWe common call UNC.\n\n664\n00:32:38.010 --> 00:32:39.890\nSo I'm just gonna go browse.\n\n665\n00:32:39.890 --> 00:32:42.190\nI can go pull that up myself if I want to.\n\n666\n00:32:42.190 --> 00:32:43.980\nSo if you want to browse to it,\nyou can do that.\n\n667\n00:32:43.980 --> 00:32:45.820\nIf you know what it is just type it in.\n\n668\n00:32:45.820 --> 00:32:49.060\nOurs is plaiddm01,\nwhich is the name of our machine.\n\n669\n00:32:49.060 --> 00:32:54.150\nAnd then the name of the share\nwhich is adrmstemplates.\n\n670\n00:32:55.490 --> 00:32:57.720\nAssuming I spelled that correctly.\n\n671\n00:32:57.720 --> 00:32:59.190\nThat should be correct.\n\n672\n00:32:59.190 --> 00:33:00.480\nLet's Apply.\n\n673\n00:33:00.480 --> 00:33:02.330\nMake sure that's good.\n\n674\n00:33:02.330 --> 00:33:06.050\nNope, verify, path is validating.\n\n675\n00:33:06.050 --> 00:33:07.700\nOkay, so\nwe know it does have rights to it.\n\n676\n00:33:07.700 --> 00:33:12.510\nLet me make sure I spelled that correctly,\nA-D-R-M-S.\n\n677\n00:33:12.510 --> 00:33:16.952\nI see what the problem is,\nI did PP for Plab in stead of PLAB.\n\n678\n00:33:16.952 --> 00:33:19.255\nI misspelled the server name,\nI put two Ps in the server name.\n\n679\n00:33:19.255 --> 00:33:22.689\n&gt;&gt; Glad you could see that.\n&gt;&gt; You cannot trust me at all to do any\n\n680\n00:33:22.689 --> 00:33:23.570\ntyping.\n\n681\n00:33:23.570 --> 00:33:25.040\nAll right, PLAB PN01, right?\n\n682\n00:33:25.040 --> 00:33:27.130\nAnd then I have the name\nof the share correct, but\n\n683\n00:33:27.130 --> 00:33:28.770\nI have the name of the server wrong.\n\n684\n00:33:28.770 --> 00:33:32.690\nADRMS templates.\n\n685\n00:33:32.690 --> 00:33:34.020\nThere we go.\nAll right, so\n\n686\n00:33:34.020 --> 00:33:35.250\nlet's try that one more time.\n\n687\n00:33:35.250 --> 00:33:36.750\nNow you can see that goes\nthrough with no trouble.\n\n688\n00:33:36.750 --> 00:33:38.420\nSo that is correct.\n\n689\n00:33:38.420 --> 00:33:39.170\nLet's click OK.\n\n690\n00:33:39.170 --> 00:33:42.948\nSo now, what we have done,\ncome over here we see immediately,\n\n691\n00:33:42.948 --> 00:33:45.550\nwe actually have populated\nthat share already.\n\n692\n00:33:45.550 --> 00:33:48.389\nWe have an XML file with\na unique identifier,\n\n693\n00:33:48.389 --> 00:33:51.640\nGUID, identifying\nthe actual policy template.\n\n694\n00:33:51.640 --> 00:33:55.040\nAnd what this is,\nis just the policy itself in an XML file.\n\n695\n00:33:55.040 --> 00:33:56.300\nSo let's just open this up.\n\n696\n00:33:57.920 --> 00:34:01.350\nUse the Swiss army knife of\nnetworking professionals everywhere.\n\n697\n00:34:01.350 --> 00:34:03.100\nNotepad.\nLet's do a little word wrap there.\n\n698\n00:34:03.100 --> 00:34:05.950\nAnd we can see that what we're\nseeing in that share is really just\n\n699\n00:34:05.950 --> 00:34:08.600\nthe policy template in XML form.\n\n700\n00:34:08.600 --> 00:34:12.230\nAnd we could see that because if you\nremember I specified that the time value\n\n701\n00:34:12.230 --> 00:34:14.590\nfor revocation would be 16 days.\n\n702\n00:34:14.590 --> 00:34:16.110\nYou could see it there and there.\n\n703\n00:34:16.110 --> 00:34:19.720\nSo we could see that, and see that there\nis some other information here that would\n\n704\n00:34:19.720 --> 00:34:21.960\ntell us that this is the policy template.\n\n705\n00:34:21.960 --> 00:34:24.070\nBut essentially, that's what this is.\n\n706\n00:34:24.070 --> 00:34:28.330\nEvery policy template that I create\nwill show up now in this file, or\n\n707\n00:34:28.330 --> 00:34:31.200\nin this directory, rather,\nit's a shared .xml document.\n\n708\n00:34:31.200 --> 00:34:33.920\nAnd then if somebody goes to apply it,\nthey will actually be able to pull it\n\n709\n00:34:33.920 --> 00:34:35.960\ndown when they want to\napply it to their document,\n\n710\n00:34:35.960 --> 00:34:38.230\nand they'll get it from\nthis network share.\n\n711\n00:34:38.230 --> 00:34:41.970\nSo we've set up and\nenabled a Rights Policy Template.\n\n712\n00:34:41.970 --> 00:34:44.050\nWe've shared it, so\nwe've published it, made it available.\n\n713\n00:34:44.050 --> 00:34:48.130\nAnd we've also enabled our\nSuperUser group and specified that.\n\n714\n00:34:48.130 --> 00:34:49.180\nWe're gonna, unfortunately,\n\n715\n00:34:49.180 --> 00:34:52.690\nnot have enough time to finish the entire\nconversation and demonstration here.\n\n716\n00:34:52.690 --> 00:34:54.800\nBut you're gonna come back and\njoin us for another episode.\n\n717\n00:34:54.800 --> 00:34:58.830\nAnd we'll take a look at a couple of other\nareas here that are important to us.\n\n718\n00:34:58.830 --> 00:35:01.190\nWe will go in and\nwe take a look at exclusion policy, so\n\n719\n00:35:01.190 --> 00:35:02.280\nwe'll see how to set that up.\n\n720\n00:35:02.280 --> 00:35:04.500\nAnd we'll take a look at\na couple of other items,\n\n721\n00:35:04.500 --> 00:35:07.320\nincluding talking about decommissioning,\nand how we deal with that if we\n\n722\n00:35:07.320 --> 00:35:10.600\nchoose to decommission the ADRMS cluster,\nkind of what's the output of that,\n\n723\n00:35:10.600 --> 00:35:13.090\nand what would that look like, and\nwhat are the dos and don'ts there.\n\n724\n00:35:13.090 --> 00:35:15.770\nSo that will be another episode,\nwe're gonna invite you to come on back and\n\n725\n00:35:15.770 --> 00:35:16.750\nsee it for that.\n\n726\n00:35:16.750 --> 00:35:18.570\n&gt;&gt; That's right,\nbecause we are out of time.\n\n727\n00:35:18.570 --> 00:35:21.870\nAnd Adam, thank you for your time,\nand thank you for yours as well.\n\n728\n00:35:21.870 --> 00:35:23.870\nBut for this show,\nwe'll go ahead and sign out.\n\n729\n00:35:23.870 --> 00:35:25.695\nI've been your host Cherokee Boose.\n\n730\n00:35:25.695 --> 00:35:26.399\n&gt;&gt; I'm Adam Gordon.\n\n731\n00:35:26.399 --> 00:35:29.711\n&gt;&gt; See you next time here at ITPROTV.\n\n732\n00:35:29.711 --> 00:35:35.694\n[MUSIC]\n\n733\n00:35:35.694 --> 00:35:38.711\n&gt;&gt; Thank you for watching ITPROTV\n\n",
          "vimeoId": "233504683"
        },
        {
          "description": "In this show, Cherokee and Adam start off by explaining several Deployment scenarios in which AD RMS may  be deployed. Next, Adam performs a demonstration to show how to create an exclusion and trust policy to manage resources. He also shows how a quirk associated with the file name that may enable use of restricted applications. Lastly, they look at how to create a trusted user domain to be configured.",
          "length": "2132",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-4-implementing_ad_rms_pt4-090817-PGM.00_35_14_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-4-implementing_ad_rms_pt4-090817-PGM.00_35_14_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-4-implementing_ad_rms_pt4-090817-PGM.00_35_14_01.Still001-sm.jpg",
          "title": "Implementing AD RMS Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.240 --> 00:00:05.367\nWelcome to ITProTV, I'm your host,\n\n2\n00:00:05.367 --> 00:00:11.746\nDon Pezet [CROSSTALK]\n&gt;&gt; You're watching ITProTV.\n\n3\n00:00:11.746 --> 00:00:16.401\n&gt;&gt; Welcome back to your\nWindows Server 2012 R2 70-412 series.\n\n4\n00:00:16.401 --> 00:00:18.910\nI'm you show host, Cherokee Boose.\n\n5\n00:00:18.910 --> 00:00:23.530\nIn this episode, we'll continue\ndiscussing on how to implement AD RMS.\n\n6\n00:00:23.530 --> 00:00:26.110\nAnd back with us today in studio\nis we have Mr. Adam Gordon.\n\n7\n00:00:26.110 --> 00:00:27.450\nHow's it going today, Adam?\n\n8\n00:00:27.450 --> 00:00:29.060\n&gt;&gt; It is going awesomely well.\n\n9\n00:00:29.060 --> 00:00:32.000\nHopefully it is equally exciting for\nall of you.\n\n10\n00:00:32.000 --> 00:00:36.170\nWe're gonna continue talking about AD RMS\nas Cherokee suggested cuz whatever she\n\n11\n00:00:36.170 --> 00:00:39.880\nsays, that's what we do,\ncuz you don't wanna upset Cherokee.\n\n12\n00:00:39.880 --> 00:00:43.650\nShe gets all, well,\nbetter if we don't talk about that.\n\n13\n00:00:43.650 --> 00:00:46.460\nAnd speaking of which, so we don't\nupset you, look at what I have for\n\n14\n00:00:46.460 --> 00:00:47.543\nyou I brought you a gift.\n\n15\n00:00:47.543 --> 00:00:48.132\n&gt;&gt; You still have it.\n\n16\n00:00:48.132 --> 00:00:48.855\n&gt;&gt; I do.\n&gt;&gt; Okay,\n\n17\n00:00:48.855 --> 00:00:50.458\nI don't have to get Hulk angry on you.\n\n18\n00:00:50.458 --> 00:00:53.258\n&gt;&gt; No, cuz you're wearing your nice gray\nshirt, we don't want you to turn green, so\n\n19\n00:00:53.258 --> 00:00:53.938\nyou hold onto that.\n\n20\n00:00:53.938 --> 00:00:54.802\n&gt;&gt; Okay.\n\n21\n00:00:54.802 --> 00:00:56.622\n&gt;&gt; I may need what's on\nthe back of that later.\n\n22\n00:00:56.622 --> 00:00:57.554\n&gt;&gt; All right.\n&gt;&gt; Not right now, so\n\n23\n00:00:57.554 --> 00:01:01.190\njust hold on to that for\na special moment during our demonstration.\n\n24\n00:01:01.190 --> 00:01:03.630\nSo we're going to pick up and\ndiscuss some things,\n\n25\n00:01:03.630 --> 00:01:06.250\nkind of a thread that we left\nhanging from our last episode.\n\n26\n00:01:06.250 --> 00:01:10.760\nIf you did not see that episode, it's\ngonna actually be even more important than\n\n27\n00:01:10.760 --> 00:01:14.190\nnormal for you to go back and\ntake a look cuz we are gonna jump back in\n\n28\n00:01:14.190 --> 00:01:18.330\na few minutes and pick up in the hands\non demonstration where we left off.\n\n29\n00:01:18.330 --> 00:01:20.529\nWe had just configured\nour super users group.\n\n30\n00:01:20.529 --> 00:01:24.170\nWe had also gone ahead and\nconfigured the AD RMS installation.\n\n31\n00:01:24.170 --> 00:01:28.290\nWe started the server, gone into\nthe console, set up the super users group.\n\n32\n00:01:28.290 --> 00:01:33.040\nWe had also gone ahead and\ncreated our rights policy, or\n\n33\n00:01:33.040 --> 00:01:34.600\nat least one rights policy anyway.\n\n34\n00:01:34.600 --> 00:01:39.200\nSo we did all that, set that up and then\nwe took that rights policy template and\n\n35\n00:01:39.200 --> 00:01:40.460\nwe showed you how to store it or\n\n36\n00:01:40.460 --> 00:01:45.150\ndo what's called export it to a share on\nthe machine and make it available for use.\n\n37\n00:01:45.150 --> 00:01:47.570\nSo we've done all of that,\nwe're gonna pick back up there.\n\n38\n00:01:47.570 --> 00:01:51.410\nIn just a couple of minutes, we're going\nto go in and create an exclusion and\n\n39\n00:01:51.410 --> 00:01:52.510\na trust policy.\n\n40\n00:01:52.510 --> 00:01:56.010\nSo we'll kinda continue our\nwalk-through in the console looking at\n\n41\n00:01:56.010 --> 00:01:57.881\nthe capabilities, the features and\n\n42\n00:01:57.881 --> 00:02:00.800\nthe setup requirements\naround how we deploy AD RMS.\n\n43\n00:02:00.800 --> 00:02:05.270\nBut speaking of deploying AD RMS,\nwe thought, or I thought, Cherokee said it\n\n44\n00:02:05.270 --> 00:02:08.630\nwas a good idea so we'll give her credit\nfor saying we should do this, right?\n\n45\n00:02:08.630 --> 00:02:10.661\nCuz you did say, hey, you should\ntalk about this deployment scenario.\n\n46\n00:02:10.661 --> 00:02:13.162\n&gt;&gt; That's right, yeah, or give them\noptions and scenarios that are available.\n\n47\n00:02:13.162 --> 00:02:14.346\n&gt;&gt; So we're gonna talk about those.\n\n48\n00:02:14.346 --> 00:02:18.863\nSo we're gonna just spend a minute or two,\nreally quickly, just tell you about if you\n\n49\n00:02:18.863 --> 00:02:23.490\ndo deploy AD RMS, which we've talked about\nhow to do, what does it look like, right?\n\n50\n00:02:23.490 --> 00:02:26.810\nIt's easy to say, hey, go here,\nclick here, do this, turn this on and\n\n51\n00:02:26.810 --> 00:02:29.620\nyou're good, but\nthere are options like everything else.\n\n52\n00:02:29.620 --> 00:02:33.580\nTraditionally, what we've actually\nbeen demonstrating and using,\n\n53\n00:02:33.580 --> 00:02:38.670\nis a single-forest based deployments for\nAD RMS single cluster in the forest.\n\n54\n00:02:38.670 --> 00:02:40.180\nYou saw me setting that up.\n\n55\n00:02:40.180 --> 00:02:42.880\nWe set up the initial root\nmachine that anchors the cluster.\n\n56\n00:02:42.880 --> 00:02:44.760\nThat's our first AD RMS server.\n\n57\n00:02:44.760 --> 00:02:48.968\nSo when we do the one or more server\ncluster deployment inside of a single\n\n58\n00:02:48.968 --> 00:02:54.034\nforest, that's a very traditional way of\nlooking at AD RMS, and that's what we do.\n\n59\n00:02:54.034 --> 00:02:58.250\nIt's not highly available generically\nwith the single installation we did.\n\n60\n00:02:58.250 --> 00:03:02.145\nBut if we add clusters, or excuse me,\nadd servers to our cluster, we make that\n\n61\n00:03:02.145 --> 00:03:06.277\nsolution highly available, meaning a\nsingle server may fail, may be turned off,\n\n62\n00:03:06.277 --> 00:03:10.075\nmay for some reason become unavailable,\nright from a service standpoint.\n\n63\n00:03:10.075 --> 00:03:13.039\nBut that doesn't mean the rest of\nthe servers are not available, so\n\n64\n00:03:13.039 --> 00:03:15.090\njust wanna make sure we are aware of that.\n\n65\n00:03:15.090 --> 00:03:18.220\nIt's not a fail over\ncluster in the sense that,\n\n66\n00:03:18.220 --> 00:03:22.040\nlook two servers one failed the others\nimmediately available up and running.\n\n67\n00:03:22.040 --> 00:03:24.910\nBut we could scale out\nthe AD RMS cluster by adding\n\n68\n00:03:24.910 --> 00:03:26.490\nadditional servers if we need to.\n\n69\n00:03:26.490 --> 00:03:27.970\nSo just be aware of that.\n\n70\n00:03:27.970 --> 00:03:32.320\nWe do have a single AD RMS cluster in\na single forest, most common form, as I've\n\n71\n00:03:32.320 --> 00:03:37.240\nsaid of ADR MS deployment, we add those\nservers in to provide additional capacity.\n\n72\n00:03:37.240 --> 00:03:38.220\nThat's how would scale.\n\n73\n00:03:38.220 --> 00:03:41.540\nAnd that's what we've kind of been\nworking through in a demo environment.\n\n74\n00:03:41.540 --> 00:03:44.080\nWell we can deploy AD RMS\nacross multiple forests.\n\n75\n00:03:44.080 --> 00:03:49.060\nWe often talk about the idea of\ncollaborating using the technology like\n\n76\n00:03:49.060 --> 00:03:54.040\nAD RMS, a rights management technology\nto allow users as we've seen to\n\n77\n00:03:54.040 --> 00:03:55.949\nbe able to create content.\n\n78\n00:03:55.949 --> 00:03:59.152\nA client licensers certificate\ngives the creator owner the rights\n\n79\n00:03:59.152 --> 00:04:00.520\nto be able to do that.\n\n80\n00:04:00.520 --> 00:04:05.510\nThe use license gives the user who's\ngonna consume that content the ability to\n\n81\n00:04:05.510 --> 00:04:10.080\nbe able to use it, and to provide their\nauthentication, provide their credentials,\n\n82\n00:04:10.080 --> 00:04:13.135\nget that license, and then access\nthe content under the requirements of\n\n83\n00:04:13.135 --> 00:04:15.080\nthe use license that we've spoken about.\n\n84\n00:04:15.080 --> 00:04:19.980\nWe did our example yesterday where\nCherokee would issue, or I as the creator\n\n85\n00:04:19.980 --> 00:04:23.110\nwould get a certificate and then issue\nit ultimately in terms of contents and\n\n86\n00:04:23.110 --> 00:04:26.220\nrights out to Cherokee and give her\nrights to be able to use the content.\n\n87\n00:04:26.220 --> 00:04:27.580\nSo we walked through the logic of that.\n\n88\n00:04:27.580 --> 00:04:32.236\nIf we do that across multiple forests, we\nhave to set up the AD RMS cluster in ever\n\n89\n00:04:32.236 --> 00:04:36.336\nforest to be able to create this\nfunctionality and chain these systems\n\n90\n00:04:36.336 --> 00:04:40.590\ntogether and that is also an acceptable\ndeployment method or scenario.\n\n91\n00:04:40.590 --> 00:04:43.380\nIt's not as common, but\nit certainly is common.\n\n92\n00:04:43.380 --> 00:04:46.645\nBut in multi-forest scenarios\nwe often also talk about\n\n93\n00:04:46.645 --> 00:04:50.715\nActive Directory Federation Services,\nwhat's called ADFS.\n\n94\n00:04:50.715 --> 00:04:53.355\nWe'll have some discussions\ncoming up depending on the order\n\n95\n00:04:53.355 --> 00:04:54.835\nyou're viewing content in.\n\n96\n00:04:54.835 --> 00:04:58.089\nYou may have already seen those episodes,\nyou may not have, but\n\n97\n00:04:58.089 --> 00:05:01.463\nwe have episodes around the idea\nof setting up federation services\n\n98\n00:05:01.463 --> 00:05:04.067\nassociated with this whole\nset of conversations.\n\n99\n00:05:04.067 --> 00:05:06.745\nI encourage you to take a look\nat that content at some point.\n\n100\n00:05:06.745 --> 00:05:11.433\nAnd so with federation services,\nthe idea of extending trust between\n\n101\n00:05:11.433 --> 00:05:15.485\ndifferent organizations that\nare not normally connected,\n\n102\n00:05:15.485 --> 00:05:18.990\nnot normally sharing\ninformation across forests.\n\n103\n00:05:18.990 --> 00:05:21.310\nIn other words,\npotentially between different systems.\n\n104\n00:05:21.310 --> 00:05:24.370\nWe can also loop AD RMS into this mix,\n\n105\n00:05:24.370 --> 00:05:28.370\neither one cluster per forest\nwithout federation services.\n\n106\n00:05:28.370 --> 00:05:33.820\nOr if we use ADFS, we can do this and\nuse a single cluster across multiple\n\n107\n00:05:33.820 --> 00:05:38.280\nforests with the ADFS, the federation\nservices, creating the bridges or\n\n108\n00:05:38.280 --> 00:05:41.690\nessentially the relationships that\nallow us to authenticate users and\n\n109\n00:05:41.690 --> 00:05:44.880\nvalidate them to issue use\nlicense certificates or\n\n110\n00:05:44.880 --> 00:05:49.140\nusage licenses rather and\nallow users to create and use content.\n\n111\n00:05:49.140 --> 00:05:52.350\nSo we have different options, kind of\ninteresting when we think about that.\n\n112\n00:05:52.350 --> 00:05:54.920\nWe have to set up trusted\npublishing domains and\n\n113\n00:05:54.920 --> 00:05:58.850\ntrusted user domains to help us protect\nthat content across multiple forests.\n\n114\n00:05:58.850 --> 00:06:01.930\nWe're gonna talk about some of that stuff\nhere as we get ready to go through our,\n\n115\n00:06:01.930 --> 00:06:04.000\nhello, as we get ready\nto go through our demo.\n\n116\n00:06:04.000 --> 00:06:05.721\nI love when Cherokee just kinda\nwaves at me from the corner.\n\n117\n00:06:05.721 --> 00:06:06.240\n&gt;&gt; Hey.\n\n118\n00:06:06.240 --> 00:06:07.308\n[LAUGH]\n&gt;&gt; As I'm talking,\n\n119\n00:06:07.308 --> 00:06:08.247\nI kinda catch that movement.\n\n120\n00:06:08.247 --> 00:06:10.327\n&gt;&gt; Of course I have a Band-Aid\non my finger now, so\n\n121\n00:06:10.327 --> 00:06:13.042\nit's almost like my little ET phone home,\nlike a signal.\n\n122\n00:06:13.042 --> 00:06:14.270\n&gt;&gt; That's an ET band, that's cool?\n\n123\n00:06:14.270 --> 00:06:15.619\n&gt;&gt; No, it's a Frozen Band-Aid.\n\n124\n00:06:15.619 --> 00:06:17.129\n&gt;&gt; A Frozen Band-Aid, okay.\n\n125\n00:06:17.129 --> 00:06:20.425\nDoes it freeze when you put it on,\nlike one of those really cool ones?\n\n126\n00:06:20.425 --> 00:06:21.030\nI could put it-\n&gt;&gt; No, but\n\n127\n00:06:21.030 --> 00:06:22.160\nI think you're on to something here.\n\n128\n00:06:22.160 --> 00:06:24.348\n&gt;&gt; That may be something for\nus to consider.\n\n129\n00:06:24.348 --> 00:06:27.114\nI said Cherokee was just indicating she\nwanted to ask a question, I'm guessing,\n\n130\n00:06:27.114 --> 00:06:27.969\nor maybe just a comment?\n\n131\n00:06:27.969 --> 00:06:30.889\n&gt;&gt; Yeah, I just thought it was pretty cool\nwith the different scenarios that you were\n\n132\n00:06:30.889 --> 00:06:31.411\nexplaining.\n\n133\n00:06:31.411 --> 00:06:35.559\nBecause if you think about it,\nif you have partnered with a different\n\n134\n00:06:35.559 --> 00:06:39.994\norganization and you have multiple\nforests, then this would be a perfect\n\n135\n00:06:39.994 --> 00:06:44.786\nsolution to really keep an eye on and\nmanage those resources and, personally,\n\n136\n00:06:44.786 --> 00:06:50.040\nour intellectual property between those\ntwo different companies or entities there.\n\n137\n00:06:50.040 --> 00:06:51.925\nSo this is a great solution for that.\n\n138\n00:06:51.925 --> 00:06:52.721\n&gt;&gt; It is, and what we're not done yet\n\n139\n00:06:52.721 --> 00:06:54.045\ncuz there's actually a couple\nother scenarios as well.\n\n140\n00:06:54.045 --> 00:06:57.973\nBut it is, as you always do, really get us\nthinking about a great point, which is,\n\n141\n00:06:57.973 --> 00:07:01.229\nhey the whole idea of this technology,\nright, is to share, right,\n\n142\n00:07:01.229 --> 00:07:05.255\nis to collaborate, to protect as you\nsaid our IP, our intellectual property.\n\n143\n00:07:05.255 --> 00:07:08.245\nBut to do so in a way that\ndoesn't just put it in a bubble,\n\n144\n00:07:08.245 --> 00:07:10.234\nlock it down, and totally isolate it.\n\n145\n00:07:10.234 --> 00:07:14.130\nWe may wanna do that, and obviously there\nare ways in which we can use AD RMS to do\n\n146\n00:07:14.130 --> 00:07:16.670\nso, right, view only rights,\nthings like that.\n\n147\n00:07:16.670 --> 00:07:19.960\nBut the idea is really more broadly,\nlet's protect the content, but\n\n148\n00:07:19.960 --> 00:07:26.185\nlet's enable sharing, productivity in\nsome form, the use of this material\n\n149\n00:07:26.185 --> 00:07:30.485\nbroadly and widely, constrained obviously\nwith the appropriate protections.\n\n150\n00:07:30.485 --> 00:07:33.665\nAnd so AD RMS is that technology\nthat does allow us to do that.\n\n151\n00:07:33.665 --> 00:07:35.525\nIt is a great way of thinking about that.\n\n152\n00:07:35.525 --> 00:07:39.735\nWe could also share this content out with\nothers in extranet locations, right?\n\n153\n00:07:39.735 --> 00:07:43.760\nWe'd put the AD RMS licensing servers\nout there, make them available,\n\n154\n00:07:43.760 --> 00:07:49.100\nperhaps as I said in the DMZ or publish\nthem from behind the firewall into and\n\n155\n00:07:49.100 --> 00:07:52.660\nout beyond the DMZ to make them available\nfor hosts that are on the internet.\n\n156\n00:07:52.660 --> 00:07:54.865\nSo that they could see them,\nconnect with them.\n\n157\n00:07:54.865 --> 00:07:57.040\nCuz a lot of times we\nmay have remote users.\n\n158\n00:07:57.040 --> 00:07:57.769\n&gt;&gt; Right.\n&gt;&gt; External users,\n\n159\n00:07:57.769 --> 00:07:58.476\nlike you were suggesting.\n\n160\n00:07:58.476 --> 00:07:59.161\n&gt;&gt; Convenience, yeah.\n\n161\n00:07:59.161 --> 00:08:00.097\n&gt;&gt; That have to come in.\n\n162\n00:08:00.097 --> 00:08:04.662\nYeah, or vendors, right, people that\nare partners or perhaps even just guests.\n\n163\n00:08:04.662 --> 00:08:06.600\nThat are gonna need this content, but\n\n164\n00:08:06.600 --> 00:08:10.912\nthen also have to use it under certain\nstrict licensing or control conditions.\n\n165\n00:08:10.912 --> 00:08:13.960\nSo we support collaboration with\nexternal users by doing this.\n\n166\n00:08:13.960 --> 00:08:16.340\nWe also, not to be outdone by that, right?\n\n167\n00:08:16.340 --> 00:08:19.290\nBut we also can do this,\nessentially, let's take\n\n168\n00:08:19.290 --> 00:08:22.560\nthe next step with the Internet, let's\ncall up the cloud based thought process.\n\n169\n00:08:22.560 --> 00:08:26.550\nWe can link to Microsoft Azure, and\nthe Azure AD, the Active Directory.\n\n170\n00:08:26.550 --> 00:08:27.470\nThat is based up or\n\n171\n00:08:27.470 --> 00:08:32.060\ncan be based in Azure, and\nwe can use ADRMS with federation services.\n\n172\n00:08:32.060 --> 00:08:36.344\nSo AD RMS, AD FS,\nkind of combining those two together,\n\n173\n00:08:36.344 --> 00:08:39.310\nand/or we can use the Azure AD.\n\n174\n00:08:39.310 --> 00:08:44.120\nSo we can use federation services or\nthe cloud based Azure AD to act as our\n\n175\n00:08:44.120 --> 00:08:48.680\ndirectory service or our validator\nof the users that are coming in,\n\n176\n00:08:48.680 --> 00:08:52.350\nthen grant usage licenses,\nclient certificates, etc.\n\n177\n00:08:52.350 --> 00:08:56.990\nWe can do our validation against one or\nboth of those options, so we can use that,\n\n178\n00:08:56.990 --> 00:08:59.820\nwe take advantage of\nfederation as I suggested.\n\n179\n00:08:59.820 --> 00:09:03.187\nBut we can use the Azure cloud-based\nAD that Microsoft maintains for us or\n\n180\n00:09:03.187 --> 00:09:05.971\nin theory will maintain for us,\nand we could do that as well.\n\n181\n00:09:05.971 --> 00:09:08.324\n&gt;&gt; Just [INAUDIBLE] in the cloud,\nlike we do here at ITProTV.\n\n182\n00:09:08.324 --> 00:09:12.284\n&gt;&gt; Well, we could do it like we do here\nat ITProTV, we could do like many and\n\n183\n00:09:12.284 --> 00:09:14.672\nmany customers will most likely do.\n\n184\n00:09:14.672 --> 00:09:17.800\nIt is fairly common today\nto take advantage of this.\n\n185\n00:09:17.800 --> 00:09:22.010\nWhen we think about the different,\nthe value propositions or\n\n186\n00:09:22.010 --> 00:09:25.980\nthe thought process around what Azure\nas a fabric and a platform provides.\n\n187\n00:09:25.980 --> 00:09:30.381\nIt is a really scalable solution cuz it\ndoes provide all these different services\n\n188\n00:09:30.381 --> 00:09:32.464\nand capabilities that we can link to.\n\n189\n00:09:32.464 --> 00:09:36.072\nA lot more to say about that with regards\nto federation services I said in upcoming\n\n190\n00:09:36.072 --> 00:09:36.860\nepisodes.\n\n191\n00:09:36.860 --> 00:09:38.624\nEven in our disaster recovery and\n\n192\n00:09:38.624 --> 00:09:41.980\nbackup discussions we'll have,\nwhich also will be forthcoming, although\n\n193\n00:09:41.980 --> 00:09:44.600\ndepending on the order you watched them\nand you may have already seen them.\n\n194\n00:09:44.600 --> 00:09:48.511\nBut if you have seen them, certainly\nyou'll know about the discussion about\n\n195\n00:09:48.511 --> 00:09:52.255\nusing Azure based backup,\nthe Azure backup service that's available.\n\n196\n00:09:52.255 --> 00:09:54.277\nIf you haven't seen it,\nat some point take a look,\n\n197\n00:09:54.277 --> 00:09:56.230\nyou'll see we talk a bit about that there.\n\n198\n00:09:56.230 --> 00:10:00.280\nSo it is a very interesting set of\ndeployment scenarios we have access to.\n\n199\n00:10:00.280 --> 00:10:02.751\nWe've already talked about\nthe client side requirements and\n\n200\n00:10:02.751 --> 00:10:05.160\nI know I mentioned some of\nour earlier conversations.\n\n201\n00:10:05.160 --> 00:10:09.320\nThat we have built-in client support\non this platform going all the way back\n\n202\n00:10:09.320 --> 00:10:12.760\nto Windows Vista as an operating\nsystem on the client side.\n\n203\n00:10:12.760 --> 00:10:16.590\nAll the way back to Server 2008\non the server side up through\n\n204\n00:10:16.590 --> 00:10:19.633\nthe most modern operating systems\nwith native support built-in for\n\n205\n00:10:19.633 --> 00:10:22.450\nthe AD RMS in the operating system itself.\n\n206\n00:10:22.450 --> 00:10:26.730\nWe have add-ons that we can download for\nearlier, let's say XP-based clients.\n\n207\n00:10:26.730 --> 00:10:29.960\nMac OS X clients, so\nthey can access content and\n\n208\n00:10:29.960 --> 00:10:33.600\nuse it with just a downloadable program\nthat we install or an add-on, so\n\n209\n00:10:33.600 --> 00:10:35.700\nyou just wanna be aware of that.\n\n210\n00:10:35.700 --> 00:10:38.910\nWe also have a mobile app\nthat we can download, an app,\n\n211\n00:10:38.910 --> 00:10:41.820\na sharing app it's called,\nthat you can use on the mobile side.\n\n212\n00:10:41.820 --> 00:10:46.330\nSo on the Windows mobile platform,\nfor those of you that may actually be\n\n213\n00:10:46.330 --> 00:10:50.040\nusing that, certainly as I mentioned\nthe iOS, but also Android, right?\n\n214\n00:10:50.040 --> 00:10:54.690\nSo any kind of phone essentially, or any\nkind of device that is running a mobile\n\n215\n00:10:54.690 --> 00:10:59.510\nOS, we have an add-on, an app or some sort\nof program that can be used to enable\n\n216\n00:10:59.510 --> 00:11:02.669\nthe use of AD RMS protected content, so-\n&gt;&gt; Even BlackBerries, Adam?\n\n217\n00:11:04.760 --> 00:11:07.900\n&gt;&gt; Even Blackberry's now because\nBlackberry runs the Android OS, so\n\n218\n00:11:07.900 --> 00:11:11.360\nif you're using a Blackberry like I am,\nthe few, the proud, and\n\n219\n00:11:11.360 --> 00:11:13.240\nthe willing to admit that in public.\n\n220\n00:11:13.240 --> 00:11:15.425\nThey say the first step to recovering\nis admit you have a problem.\n\n221\n00:11:15.425 --> 00:11:16.830\n&gt;&gt; [LAUGH]\n&gt;&gt; And so I do admit,\n\n222\n00:11:16.830 --> 00:11:20.960\nI'm a Blackberry user and I'm a proud\nBlackberry user as you probably know.\n\n223\n00:11:20.960 --> 00:11:22.740\nYou've head me talk about\nit from time to time.\n\n224\n00:11:22.740 --> 00:11:25.710\nI do get kidded about by insensitive\npeople, such as this one right here.\n\n225\n00:11:25.710 --> 00:11:29.180\nBut that's okay, I'm the bigger person\nthan she is and I'm just gonna smile and\n\n226\n00:11:29.180 --> 00:11:30.070\nsay thank you.\n\n227\n00:11:30.070 --> 00:11:33.620\nAnd appreciate the opportunity to talk\nvery, very nicely about the platform that\n\n228\n00:11:33.620 --> 00:11:37.030\nI grown and love over the years,\nso there you go.\n\n229\n00:11:37.030 --> 00:11:40.160\nSo yes, including Blackberry,\nbecause we do run the Android platform and\n\n230\n00:11:40.160 --> 00:11:41.560\nwe actually do have an app.\n\n231\n00:11:41.560 --> 00:11:45.600\nAnd believe it or not, I actually use\nthat app and I do actually have it and\n\n232\n00:11:45.600 --> 00:11:48.030\nI do make use of [INAUDIBLE]\nfrom time to time if I need to.\n\n233\n00:11:48.030 --> 00:11:51.580\nSo yes, you could do it even on\nthe Blackberry, believe or not.\n\n234\n00:11:51.580 --> 00:11:55.868\nThat is the last time I let you\nadd anything randomly of value.\n\n235\n00:11:55.868 --> 00:11:57.682\n&gt;&gt; For the rest of this show.\n\n236\n00:11:57.682 --> 00:11:59.180\n&gt;&gt; Give me back my star.\n\n237\n00:11:59.180 --> 00:12:02.210\nYou no longer support me on my Blackberry,\nyou don't get to keep that.\n\n238\n00:12:02.210 --> 00:12:05.960\nI'm gonna keep that over here for somebody\nwho actually cares about Blackberries.\n\n239\n00:12:05.960 --> 00:12:07.410\nAll right, so we do have all that.\n\n240\n00:12:07.410 --> 00:12:10.370\nIt is very important and we also had\ntalked about client licensing and\n\n241\n00:12:10.370 --> 00:12:12.520\nthis is also really\nimportant thought process.\n\n242\n00:12:12.520 --> 00:12:15.820\nBecause we do have to have the rights\nmanagement, client license, or\n\n243\n00:12:15.820 --> 00:12:19.030\nwhat we call the CAL,\nseparate from the AD RMS.\n\n244\n00:12:19.030 --> 00:12:22.790\nAll the other stuff we did,\nthere's a CAL that we have to download or\n\n245\n00:12:22.790 --> 00:12:25.585\nmake available for\nthe clients to be able to use this.\n\n246\n00:12:25.585 --> 00:12:28.740\nThe CALs are different form your\ntraditional Windows service CALs and\n\n247\n00:12:28.740 --> 00:12:33.620\nwe need to have them, and\nhave them be made available and\n\n248\n00:12:33.620 --> 00:12:35.280\nto be used as part of this process.\n\n249\n00:12:35.280 --> 00:12:39.890\nSo, just make sure you're thinking about\nthe fact we do need these as part of that.\n\n250\n00:12:39.890 --> 00:12:44.250\nAnd if we're going to be using\nexternal sharing outside, we do,\n\n251\n00:12:44.250 --> 00:12:46.985\nI just have the notes, I just wanna\nmake sure that I'm not missing anything.\n\n252\n00:12:46.985 --> 00:12:49.125\nYeah, we do have to have\nthe RMS external connector,\n\n253\n00:12:49.125 --> 00:12:51.185\nI just wanna make sure I\nhave the right name for you.\n\n254\n00:12:51.185 --> 00:12:55.325\nWe have to acquire that, and add that\nto the server to make that available,\n\n255\n00:12:55.325 --> 00:12:57.655\nso the server can serve\nup content outside.\n\n256\n00:12:57.655 --> 00:13:01.755\nSo again, these are just additional\nlicensing requirements, what we call CALs,\n\n257\n00:13:01.755 --> 00:13:03.315\nright, that have to be available.\n\n258\n00:13:03.315 --> 00:13:07.135\nWe did talk about, I did say I would show\nyou decommissioning on the server side,\n\n259\n00:13:07.135 --> 00:13:09.190\nwe're gonna take a look at that\nas part of our walkthrough,\n\n260\n00:13:09.190 --> 00:13:11.530\nmake sure we understand\nthe thought process there.\n\n261\n00:13:11.530 --> 00:13:15.590\nSo let's go ahead, let me just switch over\nhere, so we can get ready to jump back in.\n\n262\n00:13:15.590 --> 00:13:19.310\nAnd let's go create\nan application exclusion list.\n\n263\n00:13:19.310 --> 00:13:22.550\nI'm just gonna extend the timer on the lab\nplatform before we get started, so\n\n264\n00:13:22.550 --> 00:13:23.820\nwe don't run out of time.\n\n265\n00:13:23.820 --> 00:13:27.010\nBut if you wanna join me here,\nwe're back in our console.\n\n266\n00:13:27.010 --> 00:13:30.630\nYou could see we have the AD RMS\nmanagement console back up and running.\n\n267\n00:13:30.630 --> 00:13:33.060\nLeft it essentially just the way it was\n\n268\n00:13:33.060 --> 00:13:35.610\nfrom the last time we\nspent some time here.\n\n269\n00:13:35.610 --> 00:13:37.680\nAnd so\nwe did create our rights policy template,\n\n270\n00:13:37.680 --> 00:13:40.400\nyou see it's still sitting down there,\nview only access.\n\n271\n00:13:40.400 --> 00:13:44.930\nWe did go ahead, we did enable and\nturn on super user group support,\n\n272\n00:13:44.930 --> 00:13:48.550\nwe have our super user group there,\nso we've taken a look at that.\n\n273\n00:13:48.550 --> 00:13:53.660\nWe did share out or\npublish our template file to the UNC,\n\n274\n00:13:53.660 --> 00:13:57.835\nthe [INAUDIBLE] DM01adrmstemplateshare\nthat we created.\n\n275\n00:13:57.835 --> 00:14:01.805\nWe have the XML file with the [INAUDIBLE]\nthere representing the policy settings.\n\n276\n00:14:01.805 --> 00:14:05.253\nSo we did all that, we took a look at\nthat, talked through the logic of that.\n\n277\n00:14:05.253 --> 00:14:09.838\nWhat we're gonna do now is create\nan exclusion policy for an application.\n\n278\n00:14:09.838 --> 00:14:15.250\nIf you remember we talked about, let me\njust clean this up over here, and whoops.\n\n279\n00:14:15.250 --> 00:14:16.430\nGet it in there in just a second.\n\n280\n00:14:16.430 --> 00:14:20.004\nLet's go to inclusion policies,\nwe talked about here on the left fact,\n\n281\n00:14:20.004 --> 00:14:23.636\nwith three categories, we could\ncreate inclusions policies with user,\n\n282\n00:14:23.636 --> 00:14:25.290\napplications, and or lockbox.\n\n283\n00:14:25.290 --> 00:14:30.005\nWe said lockbox was the operating system\nversion of the client, we said users would\n\n284\n00:14:30.005 --> 00:14:35.085\nbe obviously a named user, whatever that\nmay be, and applications is a program.\n\n285\n00:14:35.085 --> 00:14:38.265\nSome sort of executable that we're\ngonna create and exclusion around.\n\n286\n00:14:38.265 --> 00:14:41.830\nI did tell you there's also a way to get\naround this application exclusion rule.\n\n287\n00:14:41.830 --> 00:14:43.370\nI said when we were doing this and\n\n288\n00:14:43.370 --> 00:14:46.690\nI pointed out, there's a little secret, at\nsome point I'm gonna share that with you.\n\n289\n00:14:46.690 --> 00:14:50.475\nAnd unless Cherokee spoils the fun by\ntelling us right now what the secret is-\n\n290\n00:14:50.475 --> 00:14:51.267\n&gt;&gt; I don't know the secret,\n\n291\n00:14:51.267 --> 00:14:52.050\nI just wanted to verity.\n\n292\n00:14:52.050 --> 00:14:53.360\n&gt;&gt; But I am gonna show you how to do or\n\n293\n00:14:53.360 --> 00:14:55.110\ntell you what the secret\nis to get around that.\n\n294\n00:14:55.110 --> 00:14:57.240\n&gt;&gt; Okay, but\nis that what you're referencing?\n\n295\n00:14:57.240 --> 00:15:00.820\nBefore previously you'd mentioned it\nwas tied in to either a hardware or\n\n296\n00:15:00.820 --> 00:15:03.880\nsoftware based TPM for the lockbox.\n\n297\n00:15:03.880 --> 00:15:05.115\nIs that what we'll be talking about?\n\n298\n00:15:05.115 --> 00:15:09.640\n&gt;&gt; No,no, just the idea that the lockbox,\nso yes and no.\n\n299\n00:15:09.640 --> 00:15:13.470\nThe concept of the lockbox,\nwhat we referred to as the client lockbox,\n\n300\n00:15:13.470 --> 00:15:16.090\nwhich is what you're thinking\nof that I called the TPM.\n\n301\n00:15:16.090 --> 00:15:20.950\nIs this idea generically in the sense\nthat yes, every client has, in theory,\n\n302\n00:15:20.950 --> 00:15:25.472\nthe ability to use a TPM and may or\nmay not have one that's hardware-based or\n\n303\n00:15:25.472 --> 00:15:27.590\nsoftware-based, depending\non how it's set up.\n\n304\n00:15:27.590 --> 00:15:30.990\nAnd the language and the verbage in\nthe documentation in the Microsoft site is\n\n305\n00:15:30.990 --> 00:15:33.160\nthe client lockbox is the TPM, right?\n\n306\n00:15:33.160 --> 00:15:34.970\nSo that's what we were talking about.\n\n307\n00:15:34.970 --> 00:15:37.310\nLockbox here references that idea, but\n\n308\n00:15:37.310 --> 00:15:41.630\nis using the version of the operating\nsystem to allow us to create an exclusion.\n\n309\n00:15:41.630 --> 00:15:44.650\nAnd say if you have this OS,\nyou're not gonna be able to do this, or\n\n310\n00:15:44.650 --> 00:15:46.140\nyou wanted these rights, or whatever.\n\n311\n00:15:46.140 --> 00:15:48.614\nThey just refer to this.\n\n312\n00:15:48.614 --> 00:15:50.931\n&gt;&gt; It's just their terminology.\n&gt;&gt; It's just the terminology they use,\n\n313\n00:15:50.931 --> 00:15:55.001\ncorrect, but generically you're right,\nthe idea of a lockbox is the idea of,\n\n314\n00:15:55.001 --> 00:15:56.784\nthe ability to leverage that TPM.\n\n315\n00:15:56.784 --> 00:15:58.202\nIt's called a client lockbox,\n\n316\n00:15:58.202 --> 00:16:01.257\nthat's just what Microsoft refers\nto it as in their documentation.\n\n317\n00:16:01.257 --> 00:16:03.292\nSo yes,\nin that respect you're absolutely right.\n\n318\n00:16:03.292 --> 00:16:04.149\nThat's what we were [INAUDIBLE] about.\n\n319\n00:16:04.149 --> 00:16:06.603\nBut has nothing to do with application or\nthe solution, or\n\n320\n00:16:06.603 --> 00:16:09.190\nthe secret that I'm gonna\nshare with you about that.\n\n321\n00:16:09.190 --> 00:16:11.690\nBut let's go ahead,\nlet's get back, let's take a look.\n\n322\n00:16:11.690 --> 00:16:13.280\nSo let's talk about how to set this up.\n\n323\n00:16:13.280 --> 00:16:17.300\nRemember, any one of these, we have that\ngray x showed you when we were setting up\n\n324\n00:16:17.300 --> 00:16:20.510\nsuper user, that means it's not enabled,\nas you can see.\n\n325\n00:16:20.510 --> 00:16:23.380\nYou know that you can enable it by\nright-clicking, you can always come\n\n326\n00:16:23.380 --> 00:16:26.380\nover here, we're talking about using\nthe actions, pane on the right.\n\n327\n00:16:26.380 --> 00:16:29.670\nJust to make sure, because sometimes\nyou don't have that right-click option,\n\n328\n00:16:29.670 --> 00:16:33.240\nit's not always in the menu, as we've\ntalked about in this particular interface.\n\n329\n00:16:33.240 --> 00:16:35.740\nSo it's good just to get used\nto looking around, right?\n\n330\n00:16:35.740 --> 00:16:36.410\nAnd knowing what's there.\n\n331\n00:16:36.410 --> 00:16:38.030\nBesides, it's right above me,\nso it's kind of cool.\n\n332\n00:16:38.030 --> 00:16:40.980\nI could say, look, right up there,\nyou could see where it is.\n\n333\n00:16:40.980 --> 00:16:42.070\nSo either way, you're gonna enable it.\n\n334\n00:16:42.070 --> 00:16:45.200\nSo, we're gonna enable an application\nexclusion, so it turns on,\n\n335\n00:16:45.200 --> 00:16:49.240\nyou can do the same thing for users or\nlockbox, doesn't matter, or all three.\n\n336\n00:16:49.240 --> 00:16:50.650\nTurning them on is step one,\nin other words,\n\n337\n00:16:50.650 --> 00:16:53.160\nthen we have to actually create\nan exclusion in this case.\n\n338\n00:16:53.160 --> 00:16:57.590\nSo we're gonna go ahead and we're going\nto, now that we've done that exclude\n\n339\n00:16:57.590 --> 00:17:00.810\nan application or\ncreate an application exclusion.\n\n340\n00:17:00.810 --> 00:17:04.590\nSo we're gonna do this, we'll click here,\nand we're now asked for\n\n341\n00:17:04.590 --> 00:17:07.050\nsome information we have to provide.\n\n342\n00:17:07.050 --> 00:17:10.470\nWe're gonna provide\nthe name of the executable.\n\n343\n00:17:10.470 --> 00:17:17.530\nSo in this case, let's do excel.exe,\nwe could obviously do win word for Word.\n\n344\n00:17:17.530 --> 00:17:19.150\nPowerpoint, right?\n\n345\n00:17:19.150 --> 00:17:20.335\nWhatever the case may be.\n\n346\n00:17:20.335 --> 00:17:23.130\nIexplore for Internet Explorer, so\n\n347\n00:17:23.130 --> 00:17:27.140\nwhatever your executable is that you're\ngonna wanna block as an application.\n\n348\n00:17:27.140 --> 00:17:30.510\nWe do have to have version numbers,\nminimum and maximum, and\n\n349\n00:17:30.510 --> 00:17:34.740\nthese are specific and\nyou have to get them from the vendor.\n\n350\n00:17:34.740 --> 00:17:38.670\nMeaning that when you, and\nI'm just typing in version numbers for\n\n351\n00:17:38.670 --> 00:17:42.425\nthis as a range while we're\ntalking of when you do this,\n\n352\n00:17:42.425 --> 00:17:45.435\nyou have to go find\nthe executable in question.\n\n353\n00:17:45.435 --> 00:17:49.315\nYou're gonna have to get information,\nthe meta-data associated with it.\n\n354\n00:17:49.315 --> 00:17:53.718\nWill give you the minimum version number\nor the version number associated with\n\n355\n00:17:53.718 --> 00:17:58.401\nthe executable, and you may bracket it,\nthis one from 12 to 15 as you see here.\n\n356\n00:17:58.401 --> 00:18:03.153\nMeans that we're bracketing\nthis from Office 97,\n\n357\n00:18:03.153 --> 00:18:07.600\nI think up through Office,\nI wanna say 2013.\n\n358\n00:18:07.600 --> 00:18:10.837\nI think it's 97, 10, and 13, right,\n\n359\n00:18:10.837 --> 00:18:15.406\nbecause we would have with ignition,\nthere's no version 13.\n\n360\n00:18:15.406 --> 00:18:22.660\nSo 12, 14, and 15, 16 is Office 16,\n15 is 13, meaning 15 is 13.\n\n361\n00:18:22.660 --> 00:18:25.936\n14 is Office 10 and 12 would be 97,\n\n362\n00:18:25.936 --> 00:18:29.768\nif I remember correctly\nbased on the versioning.\n\n363\n00:18:29.768 --> 00:18:33.185\nSo you're gonna have to figure\nthose version numbers out and\n\n364\n00:18:33.185 --> 00:18:34.395\nthey vary by vendor.\n\n365\n00:18:34.395 --> 00:18:37.722\nAnd you would have to obviously\neither go to the vendor website,\n\n366\n00:18:37.722 --> 00:18:40.095\ncheck out the support, documentation.\n\n367\n00:18:40.095 --> 00:18:43.453\nYou may be able to pick it up from\nthe meta-data of the executable itself.\n\n368\n00:18:43.453 --> 00:18:44.855\nThere's different ways you could find it.\n\n369\n00:18:44.855 --> 00:18:48.655\nBut ultimately you would actually have to\nhave accurate version numbers because if\n\n370\n00:18:48.655 --> 00:18:49.605\nyou don't have them.\n\n371\n00:18:49.605 --> 00:18:51.185\nWhen we go to read the meta-data and\n\n372\n00:18:51.185 --> 00:18:54.662\nthe version from the executable to tell\nwhether it should be allowed or not.\n\n373\n00:18:54.662 --> 00:18:56.647\nIf it doesn't match up,\nit's not gonna work,\n\n374\n00:18:56.647 --> 00:18:59.552\nor you're gonna get a failure\nessentially on the exclusion.\n\n375\n00:18:59.552 --> 00:19:00.432\nSo just be aware of that.\n\n376\n00:19:00.432 --> 00:19:02.262\nIt's actually important information.\n\n377\n00:19:02.262 --> 00:19:04.990\nIt's not just random\nnumbers you put in there.\n\n378\n00:19:04.990 --> 00:19:06.420\nVersion 22, right?\n\n379\n00:19:06.420 --> 00:19:08.860\nIt's not gonna work that way,\nmeaning it will but it's just gonna fail.\n\n380\n00:19:08.860 --> 00:19:09.650\nIt's not gonna work.\n\n381\n00:19:09.650 --> 00:19:13.180\nSo, just do be aware of that,\nit is important to know and again,\n\n382\n00:19:13.180 --> 00:19:14.850\nthe vendors do publish this stuff.\n\n383\n00:19:14.850 --> 00:19:18.260\nMicrosoft does follow a logic with their\n\n384\n00:19:18.260 --> 00:19:20.660\nversioning just like\nevery other vendor does.\n\n385\n00:19:20.660 --> 00:19:23.340\nBut you have to be aware of it and\nunderstand how it's structured.\n\n386\n00:19:23.340 --> 00:19:25.880\nThe Microsoft ones are for places.\n\n387\n00:19:25.880 --> 00:19:30.410\nA main number or whatever it is,\n0.000 or 0.001, or whatever it may be.\n\n388\n00:19:30.410 --> 00:19:32.200\nSo you do have to\nunderstand the versioning.\n\n389\n00:19:32.200 --> 00:19:34.900\nNow, the trick that I was sharing with you\nor that I said I would share with you.\n\n390\n00:19:34.900 --> 00:19:37.590\nSo we do this, let's just click Finish,\nlet me just put this in here.\n\n391\n00:19:38.630 --> 00:19:42.720\nAll right, so we in theory, would now\nbe able to block the use of Excel,\n\n392\n00:19:42.720 --> 00:19:45.710\ndepending on the version\nthat we find on a client.\n\n393\n00:19:45.710 --> 00:19:49.510\nNow, this will work as long as\nexcel.exe is the executable and\n\n394\n00:19:49.510 --> 00:19:54.030\nthe version number of the executable\nfalls within the range specified.\n\n395\n00:19:54.030 --> 00:19:58.490\nThe trick is, if you rename the\nexecutable, it does not pick up the fact\n\n396\n00:19:58.490 --> 00:20:00.820\nthe application exclusion,\nthat it should be excluded.\n\n397\n00:20:00.820 --> 00:20:06.180\nSo, if you're looking for excel.exe, and\nwe rename Excel on a local client, and\n\n398\n00:20:06.180 --> 00:20:11.090\ninstead of excel.exe,\nit's called spreedsheet.exe or whatever.\n\n399\n00:20:11.090 --> 00:20:12.930\nWhich you could do by right-clicking and\n\n400\n00:20:12.930 --> 00:20:15.030\nchanging the name of the executable,\nright?\n\n401\n00:20:15.030 --> 00:20:18.170\nYou're not screwing up the program,\nyou're just renaming the name of the file.\n\n402\n00:20:18.170 --> 00:20:23.030\nIf you do that, we don't have the logic\nthat says that really is excel.exe and\n\n403\n00:20:23.030 --> 00:20:24.160\nwe block it.\n\n404\n00:20:24.160 --> 00:20:26.720\nThis is a very simple\nkind of binary match.\n\n405\n00:20:26.720 --> 00:20:29.110\nEither its the name of the file and\nthe version or it's not.\n\n406\n00:20:29.110 --> 00:20:30.790\nSo although we don't\nmake a big deal about it,\n\n407\n00:20:30.790 --> 00:20:33.760\nwe don't tend to talk about it because\nwe don't want people knowing about it.\n\n408\n00:20:33.760 --> 00:20:37.057\nIf you actually rename the executable,\nthe application exclusion is fixed.\n\n409\n00:20:37.057 --> 00:20:39.409\n&gt;&gt; No, if you have to troubleshoot,\n[CROSSTALK] wondering, well,\n\n410\n00:20:39.409 --> 00:20:41.657\nwhy are they able to go ahead and\nrun this particular program-\n\n411\n00:20:41.657 --> 00:20:42.311\n&gt;&gt; Absolutely, and\n\n412\n00:20:42.311 --> 00:20:44.410\nit could be a version mismatch,\nit's usually the case.\n\n413\n00:20:44.410 --> 00:20:47.600\nBy the way, most people aren't just smart\nenough to figure out let me try renaming\n\n414\n00:20:47.600 --> 00:20:48.565\nthat and see what happens.\n\n415\n00:20:48.565 --> 00:20:51.640\nCuz most users, not that you\nas an IT professional wouldn't\n\n416\n00:20:51.640 --> 00:20:53.050\nnecessarily be smart enough\nto figure that part out.\n\n417\n00:20:53.050 --> 00:20:56.770\nWhat I mean is that the average users\nthat are being subjected to these\n\n418\n00:20:56.770 --> 00:20:59.920\napplication rules don't necessarily\nknow they're being subjected.\n\n419\n00:20:59.920 --> 00:21:01.105\nOr don't even stop to think and\n\n420\n00:21:01.105 --> 00:21:05.170\nrealize, let me mess around with that\nexecutable and see what happens, right?\n\n421\n00:21:05.170 --> 00:21:05.880\nThey don't really know that.\n\n422\n00:21:05.880 --> 00:21:09.382\nSo it's probably not that they've renamed\nit, but it's usually a version mismatch.\n\n423\n00:21:09.382 --> 00:21:11.453\n&gt;&gt; Okay.\n&gt;&gt; More often than not that's usually\n\n424\n00:21:11.453 --> 00:21:15.137\nthe problem, but just so you know, from\na standpoint of yeah, if I do get that\n\n425\n00:21:15.137 --> 00:21:18.890\ncrazy, wacky, off in the corner kind\nof scenario, how do I deal with it.\n\n426\n00:21:18.890 --> 00:21:22.340\nIf somebody's renamed that,\nor if you misspelled,\n\n427\n00:21:22.340 --> 00:21:24.590\nwhich would be more my\nproblem than anybody else's.\n\n428\n00:21:24.590 --> 00:21:28.650\nBut if you happen to misspell the\nexecutable string here that you say Excel\n\n429\n00:21:28.650 --> 00:21:32.370\nand it's el instead of le and\nI double-check just to make sure, right?\n\n430\n00:21:32.370 --> 00:21:35.790\nExcel, el, right, or\nle instead of el or whatever.\n\n431\n00:21:35.790 --> 00:21:37.060\nBut if you misspell it,\n\n432\n00:21:37.060 --> 00:21:40.600\nthat would also cause a problem because\nit would not match what we would find.\n\n433\n00:21:40.600 --> 00:21:42.690\nSo just be aware of that,\ncuz that is a little gotcha,\n\n434\n00:21:42.690 --> 00:21:45.820\nbut it is one of those crazy ones\nthat people don't often realize but\n\n435\n00:21:45.820 --> 00:21:50.370\nit does actually sometimes happen just so\nyou know.\n\n436\n00:21:50.370 --> 00:21:53.090\nAll right, so we do have this and\n\n437\n00:21:53.090 --> 00:21:56.981\nwe do have the ability to be able\nto create user exclusion policy.\n\n438\n00:21:56.981 --> 00:21:59.398\nIf you wanna come do this, let's take\na look real quick since we're here,\n\n439\n00:21:59.398 --> 00:22:01.090\nlet's just enable that.\n\n440\n00:22:01.090 --> 00:22:04.709\nAnd you can see here user\nexclusion information,\n\n441\n00:22:04.709 --> 00:22:07.647\nright exclude rack rather, excuse me.\n\n442\n00:22:07.647 --> 00:22:11.292\nYou could see here, use this option for\nexcluding rights, account certificates,\n\n443\n00:22:11.292 --> 00:22:12.580\nwe talked about that.\n\n444\n00:22:12.580 --> 00:22:15.862\nOr internal users who have\nan Active Directory services account or\n\n445\n00:22:15.862 --> 00:22:19.261\nan Active Directory domain services\naccount, user name rights, so\n\n446\n00:22:19.261 --> 00:22:20.384\nuser@domain.com.\n\n447\n00:22:20.384 --> 00:22:24.545\nSo let's say we wanna go in and\nput a user in here, say Lisa,\n\n448\n00:22:24.545 --> 00:22:30.060\nI have a Lisa Waybridge user, we'll just\nfind her, so we can put her in there.\n\n449\n00:22:30.060 --> 00:22:31.060\n&gt;&gt; Is that Elizabeth's sister?\n\n450\n00:22:32.200 --> 00:22:33.018\n&gt;&gt; That is, yes.\n\n451\n00:22:33.018 --> 00:22:34.345\n&gt;&gt; [LAUGH]\n&gt;&gt; All right,\n\n452\n00:22:34.345 --> 00:22:38.472\nnow you'll see here user Lisa Waybridge\ncannot be found in the database, and\n\n453\n00:22:38.472 --> 00:22:41.450\nthere's no ADR MS account\ncertificate issued.\n\n454\n00:22:41.450 --> 00:22:44.650\nSo it's not that she's actually not in\nthe database, because we did resolve her.\n\n455\n00:22:44.650 --> 00:22:47.160\nBut what we see is that there\nis no rack issue to her yet\n\n456\n00:22:47.160 --> 00:22:50.380\nbecause we haven't gone out and\nissued any certificates yet.\n\n457\n00:22:50.380 --> 00:22:53.920\nThere's no way to bind to that and\nto exclude her.\n\n458\n00:22:53.920 --> 00:22:55.520\nSo we have to add rack to be excluded.\n\n459\n00:22:55.520 --> 00:22:57.710\nMeaning the rack has to\nalready be available for\n\n460\n00:22:57.710 --> 00:22:58.990\nus to then be able to exclude.\n\n461\n00:22:58.990 --> 00:23:00.500\nSo just be aware of that.\n\n462\n00:23:00.500 --> 00:23:04.250\nWe could also exclude based on external\nusers who may not have accounts.\n\n463\n00:23:04.250 --> 00:23:07.180\nBut we can get their public key string and\nexclude external users.\n\n464\n00:23:07.180 --> 00:23:10.230\nRemember we said when they have\nusers from outside, right?\n\n465\n00:23:10.230 --> 00:23:15.490\nFrom the either extranet or internet or\nfrom another forest or whatever.\n\n466\n00:23:15.490 --> 00:23:19.730\nIf we have a public key string for them,\nwhich we in theory should be able to get,\n\n467\n00:23:19.730 --> 00:23:23.760\nwe actually could potentially go in and\nexclude that.\n\n468\n00:23:23.760 --> 00:23:27.660\nSo yeah, we do have options here,\njust showing you the thought process.\n\n469\n00:23:27.660 --> 00:23:32.340\nLet's just disable this\nwhile we are doing that.\n\n470\n00:23:32.340 --> 00:23:35.880\nAnd then if you wanna see lockbox, just so\nyou could see what goes on in here.\n\n471\n00:23:35.880 --> 00:23:39.280\nAgain, we'll just enable this real quick\njust to show you how it gets setup.\n\n472\n00:23:39.280 --> 00:23:43.090\nYou can see here minimum Lockbox version\nnot set, we have to change that or\n\n473\n00:23:43.090 --> 00:23:44.070\nset that.\n\n474\n00:23:44.070 --> 00:23:45.135\nRight, so let's go in.\n\n475\n00:23:45.135 --> 00:23:46.980\nOops, we click there to go in.\n\n476\n00:23:46.980 --> 00:23:48.280\nLet's go in and do that.\n\n477\n00:23:48.280 --> 00:23:52.010\nAnd you'll see we have to specify\na minimum version of the lockbox print\n\n478\n00:23:52.010 --> 00:23:56.590\nearlier versions from getting rights\nclients or client rights certificates.\n\n479\n00:23:56.590 --> 00:23:58.859\nWe would have to specify\nwhat the version is, right?\n\n480\n00:23:58.859 --> 00:24:03.185\nIf it's less than the specified version\nwe will not be able to interact.\n\n481\n00:24:03.185 --> 00:24:07.448\nAnd so you'd have to know what the minimum\nlockbox version is again The versioning\n\n482\n00:24:07.448 --> 00:24:10.933\nidea whatever that string is that\nrepresents the version ID BIOS.\n\n483\n00:24:10.933 --> 00:24:13.360\nYou'd have to look this up or\nGoogle for this or\n\n484\n00:24:13.360 --> 00:24:15.291\ngo to the support forums in TechNet or\n\n485\n00:24:15.291 --> 00:24:19.245\nwhatever to find the minimum lock box\nversion number by operating system.\n\n486\n00:24:19.245 --> 00:24:22.237\nWhat it actually is a chart you can\nfind out there that does publish this\n\n487\n00:24:22.237 --> 00:24:22.906\ninformation.\n\n488\n00:24:22.906 --> 00:24:25.495\nBut you would have to go find it and\nknow what it is and\n\n489\n00:24:25.495 --> 00:24:27.433\nthen obviously be able to enter that.\n\n490\n00:24:27.433 --> 00:24:29.954\nAnd what you're doing you're just\nputting in a version that says okay,\n\n491\n00:24:29.954 --> 00:24:31.497\nit's gotta be at least Windows 7, right?\n\n492\n00:24:31.497 --> 00:24:34.791\nAnd so whatever that version string is for\nthe lockbox, you'd put that in.\n\n493\n00:24:34.791 --> 00:24:38.024\nThat means this done anything\nprior would not be able to use it,\n\n494\n00:24:38.024 --> 00:24:39.427\nhypothetically, right?\n\n495\n00:24:39.427 --> 00:24:42.569\nSo just so we know what that may\nlook like and why we do that.\n\n496\n00:24:42.569 --> 00:24:45.061\nAll right, so we have the opportunity\nto go in and do this stuff.\n\n497\n00:24:45.061 --> 00:24:50.095\nWhat we're gonna do now is go ahead and\nlet's take a look at our trust policies\n\n498\n00:24:50.095 --> 00:24:54.912\nup at the top there and just to make\nsure we have a sense of what's going on.\n\n499\n00:24:54.912 --> 00:24:59.839\nLet me just bring this up over here and\nwell, that's done,\n\n500\n00:24:59.839 --> 00:25:05.079\nit's trusted user domain and\nor trusted publishing domains.\n\n501\n00:25:05.079 --> 00:25:05.937\nSo let's just see,\n\n502\n00:25:05.937 --> 00:25:09.490\nwe do have some information published\nalready with certificates for these.\n\n503\n00:25:09.490 --> 00:25:10.560\nSo let's just take a look here.\n\n504\n00:25:10.560 --> 00:25:11.960\nTrusted user domain.\n\n505\n00:25:11.960 --> 00:25:13.283\nIf you go full-screen, it makes it easier.\n\n506\n00:25:13.283 --> 00:25:16.880\nSo I just wanna point out some of\nthe verbiage there just so you can see.\n\n507\n00:25:16.880 --> 00:25:19.740\nSo what we're thinking about\nwith a trusted user domain\n\n508\n00:25:19.740 --> 00:25:21.680\nis the ability to be able to go in and\n\n509\n00:25:21.680 --> 00:25:25.530\ndefine which RACs, as you can see there,\nare trusted by this cluster.\n\n510\n00:25:25.530 --> 00:25:30.380\nIn other words, what domains and the RACs\nassociated with them are we gonna trust\n\n511\n00:25:30.380 --> 00:25:34.395\nand are we gonna make available and\nare we going to allow to be used?\n\n512\n00:25:34.395 --> 00:25:38.471\nAnd so what we're doing here is\nspecifying a list potentially,\n\n513\n00:25:38.471 --> 00:25:40.740\na hit list if you will, right?\n\n514\n00:25:40.740 --> 00:25:44.270\nOf the domain identities and\nthe RACs associated with them\n\n515\n00:25:44.270 --> 00:25:48.710\nthat we will allow to interact and\ntherefore use our system here.\n\n516\n00:25:48.710 --> 00:25:52.200\nAnd so we see by default trusted\n\n517\n00:25:52.200 --> 00:25:54.770\nuser domains to find which RACs\nare trusted by the cluster.\n\n518\n00:25:54.770 --> 00:25:57.460\nCluster automatically trusts\nRACs that it grants but\n\n519\n00:25:57.460 --> 00:25:59.920\nit could trust RACs\ngranted by another cluster\n\n520\n00:25:59.920 --> 00:26:04.410\nif we import the trusted user domain file\nform the other certification cluster.\n\n521\n00:26:04.410 --> 00:26:06.780\nFollowing trusted user domains\nare already configured.\n\n522\n00:26:06.780 --> 00:26:10.160\nIf you wanna import another one,\nyou have to import it here.\n\n523\n00:26:10.160 --> 00:26:13.169\nSo you'll see this one which is\nthe enterprise one essentially\n\n524\n00:26:13.169 --> 00:26:14.200\nare domain, right?\n\n525\n00:26:14.200 --> 00:26:16.882\nWe're trusting ourselves\nin other words initially.\n\n526\n00:26:16.882 --> 00:26:22.689\nOut of the box, we do see this,\nlet’s just take a look here and\n\n527\n00:26:22.689 --> 00:26:26.450\nyou'll see that we are, there we go.\n\n528\n00:26:26.450 --> 00:26:28.715\nWe are trusting all\nemail domains currently,\n\n529\n00:26:28.715 --> 00:26:32.385\nmeaning our own domain information,\nour own specification will be used.\n\n530\n00:26:32.385 --> 00:26:38.307\nBut if we want to export our list and\ngive it to somebody so they can trust us.\n\n531\n00:26:38.307 --> 00:26:41.874\nIn other words,\nlet's pretend Cherokee has another 80\n\n532\n00:26:41.874 --> 00:26:46.847\nRMS cluster in her own forest and we want\nher to consider us a trusted user domain.\n\n533\n00:26:46.847 --> 00:26:50.520\nI would have to export my\ntrusted user domain information,\n\n534\n00:26:50.520 --> 00:26:54.690\ngive it to her in the form of\na file that she would then use.\n\n535\n00:26:54.690 --> 00:26:58.780\nThis tool right here essentially, this\naction in her console and her cluster to\n\n536\n00:26:58.780 --> 00:27:05.050\nthen import and add our domain information\nto her trusted user domain list, right?\n\n537\n00:27:05.050 --> 00:27:08.510\nSo if we want to export,\nlet's take a look at how we do this.\n\n538\n00:27:08.510 --> 00:27:09.400\nLet's click Export.\n\n539\n00:27:09.400 --> 00:27:12.720\nWe have a little Save As, it's very simple\nand I'll just move it over so you just can\n\n540\n00:27:12.720 --> 00:27:17.240\nsee that, since I'm sitting right on\ntop of that there with my little box.\n\n541\n00:27:17.240 --> 00:27:21.000\nShame on me for being a hog and taking up\nthat whole lower corner of the screen.\n\n542\n00:27:21.000 --> 00:27:24.524\nYou'll notice we save this off as\na bin file right down there, .bin.\n\n543\n00:27:24.524 --> 00:27:30.111\nSo I'm just gonna save this, put this on\nthe desktop just so we can find it easily.\n\n544\n00:27:30.111 --> 00:27:35.323\nAnd let's call this, Practicelabs,\n\n545\n00:27:35.323 --> 00:27:39.730\nmake sure I spell that correctly,\nturn off the Caps Lock.\n\n546\n00:27:39.730 --> 00:27:41.400\nWhich is easier said than done.\n\n547\n00:27:41.400 --> 00:27:44.220\nThere we go, practicelabs.bin, right?\n\n548\n00:27:44.220 --> 00:27:46.598\nSo we'll save that.\n\n549\n00:27:46.598 --> 00:27:49.666\nAll right, so\nif we just minimize here for one second,\n\n550\n00:27:49.666 --> 00:27:53.810\nthere's our practicelabs.bin file,\nyou could just see it there.\n\n551\n00:27:53.810 --> 00:27:56.942\nAnd what I would do is I'd have to now\nfigure out a way to get that over to\n\n552\n00:27:56.942 --> 00:27:58.184\nCherokee, not a big deal.\n\n553\n00:27:58.184 --> 00:28:01.440\nThat's not a file that has information and\nthat somebody would open up and\n\n554\n00:28:01.440 --> 00:28:04.028\ninteract with in a regular\nway that we're worried about.\n\n555\n00:28:04.028 --> 00:28:06.285\nIt's just something we can send her,\nin other words.\n\n556\n00:28:06.285 --> 00:28:08.934\nAnd what she will then get,\nand you'll see,\n\n557\n00:28:08.934 --> 00:28:13.564\nyou can't even open a bin file unless\nyou have the appropriate app available.\n\n558\n00:28:13.564 --> 00:28:15.988\nThis is not like a normal\nfile you can just open up.\n\n559\n00:28:15.988 --> 00:28:19.590\nWhat we would then do is she would get\nthat file, let's say she has it stored\n\n560\n00:28:19.590 --> 00:28:24.200\nsomewhere on a hard drive or whatever,\nand she wants to bring that file in.\n\n561\n00:28:24.200 --> 00:28:27.600\nShe would come here to import\ntrusted user domain in her\n\n562\n00:28:27.600 --> 00:28:30.640\nADRMS cluster management console,\nof course.\n\n563\n00:28:30.640 --> 00:28:32.859\nAnd we, again,\njust have a little wizard that we run.\n\n564\n00:28:32.859 --> 00:28:33.985\nIt's very simple.\n\n565\n00:28:33.985 --> 00:28:36.804\nWe would go and\nget the trusted user domain files.\n\n566\n00:28:36.804 --> 00:28:38.646\nSo we'd browse, find the bin file, right?\n\n567\n00:28:38.646 --> 00:28:40.430\nThere it is, right there.\n\n568\n00:28:40.430 --> 00:28:42.570\nGet the path,\nwe've put in the display name,\n\n569\n00:28:42.570 --> 00:28:45.890\nwhatever she's gonna call that,\npractice labs or whatever.\n\n570\n00:28:45.890 --> 00:28:47.018\nAnd then when she does that,\n\n571\n00:28:47.018 --> 00:28:50.026\nhits Next, obviously I'm not gonna do\nthis because it will have an error and\n\n572\n00:28:50.026 --> 00:28:52.943\nwe'll have a problem because we already\nare essentially in that domain.\n\n573\n00:28:52.943 --> 00:28:55.678\nBut you can see that she\nwould then get a listing,\n\n574\n00:28:55.678 --> 00:28:57.959\nassuming the bin import is legitimate.\n\n575\n00:28:57.959 --> 00:29:02.026\nShe would get a listing there, and\nshe would be able to add practice labs or\n\n576\n00:29:02.026 --> 00:29:06.620\nwhatever domain the bin file represents\nto her trusted user domain list.\n\n577\n00:29:06.620 --> 00:29:10.999\nAnd as a result, RACs issued in that\ndomain, in my domain in the example,\n\n578\n00:29:10.999 --> 00:29:13.488\nwill now be trusted by her ADMRS cluster.\n\n579\n00:29:13.488 --> 00:29:16.027\nAnd so those users can actually use and\n\n580\n00:29:16.027 --> 00:29:19.210\nconsume content underneath\nher environment.\n\n581\n00:29:19.210 --> 00:29:24.020\nSo this is how we actually set up\na solution that allows us to exchange user\n\n582\n00:29:24.020 --> 00:29:27.980\ninformation and\nvalidate users across ADRMS clusters.\n\n583\n00:29:27.980 --> 00:29:32.145\nWe call this a trusted user domain and\nwe can export as you can see from one and\n\n584\n00:29:32.145 --> 00:29:36.065\nimport to another with this file,\nthis bin file that we use to do this.\n\n585\n00:29:36.065 --> 00:29:37.830\nSo I just wanted you to see that.\n\n586\n00:29:37.830 --> 00:29:42.734\nAlso the trusted publishing domain,\nsimilar idea here, right?\n\n587\n00:29:42.734 --> 00:29:45.413\nIf we go full-screen again just so\nyou can kind of see the verbiage,\n\n588\n00:29:45.413 --> 00:29:47.930\nwe'll narrate through,\nreal quick explain the logic.\n\n589\n00:29:47.930 --> 00:29:51.904\nTrusted publishing domains define which\npublishing licenses are trusted by this\n\n590\n00:29:51.904 --> 00:29:52.428\ncluster.\n\n591\n00:29:52.428 --> 00:29:56.775\nWe automatically trust the content\nthat we publish in other words, right?\n\n592\n00:29:56.775 --> 00:30:01.632\nBut we can also grant publishing licenses\nand trust them from another cluster.\n\n593\n00:30:01.632 --> 00:30:05.309\nMeaning, publishing license is granted\nlet's say by Cherokee to me, or\n\n594\n00:30:05.309 --> 00:30:06.567\nagain, me to Cherokee.\n\n595\n00:30:06.567 --> 00:30:08.491\nThink the same idea what we just did.\n\n596\n00:30:08.491 --> 00:30:10.434\nYou'll see we have an import\nfunction here, just like we did.\n\n597\n00:30:10.434 --> 00:30:12.404\n&gt;&gt; So like two-way option?\n\n598\n00:30:12.404 --> 00:30:13.014\n&gt;&gt; Essentially right.\n\n599\n00:30:13.014 --> 00:30:14.395\nYou could trust me, I could trust you.\n\n600\n00:30:14.395 --> 00:30:18.920\nIf we both export and import each\nother’s information in theory, right?\n\n601\n00:30:18.920 --> 00:30:22.067\nWe just did this as a one-way discussion\nwhen I was showing you an example, but\n\n602\n00:30:22.067 --> 00:30:24.561\nthe obvious solution would be\nwe reverse that and I trust you.\n\n603\n00:30:24.561 --> 00:30:25.778\n&gt;&gt; A mutual situation.\n\n604\n00:30:25.778 --> 00:30:27.275\n&gt;&gt; Exactly right.\n\n605\n00:30:27.275 --> 00:30:29.460\nSo if we come here, again, same idea,\n\n606\n00:30:29.460 --> 00:30:31.280\nlet's just take a look\nat what already exists.\n\n607\n00:30:31.280 --> 00:30:34.572\nWe'll export in a minute, just like we\ndid with the trust and user domain,\n\n608\n00:30:34.572 --> 00:30:36.043\nshow you the logic of importing.\n\n609\n00:30:36.043 --> 00:30:39.249\nBut you can see here, just if you're\ninterested in what that certificate\n\n610\n00:30:39.249 --> 00:30:41.121\nactually looks like or that information.\n\n611\n00:30:41.121 --> 00:30:45.215\nIt just tells us that we have\nour crypto provider and our CSP,\n\n612\n00:30:45.215 --> 00:30:51.030\nour cryptographic mode provider version 2,\nmeaning the higher strength one.\n\n613\n00:30:51.030 --> 00:30:56.010\nOur key solution essentially managed\non the ADRMS cluster instead of using\n\n614\n00:30:56.010 --> 00:31:01.040\nexternal key storage solution, and so\nwe're just specifying that information.\n\n615\n00:31:01.040 --> 00:31:03.920\nWe're gonna click Cancel here,\nwe're gonna right-click.\n\n616\n00:31:03.920 --> 00:31:06.900\nWe're gonna go to\nExport Trusted Publishing Domain.\n\n617\n00:31:06.900 --> 00:31:11.170\nWe have to create the save as button\nto create a publishing domain file.\n\n618\n00:31:11.170 --> 00:31:14.797\nSo we'll go ahead and we'll do this,\nlet me just put this out again.\n\n619\n00:31:14.797 --> 00:31:18.730\nThis one is XML, not bin, but it's the\nsame idea we'll just put this out here.\n\n620\n00:31:18.730 --> 00:31:24.710\nI'll call this PracticeLabsPL for\n\n621\n00:31:24.710 --> 00:31:28.510\npublishing, or PD rather for\npublishing domain.\n\n622\n00:31:28.510 --> 00:31:30.520\nJust so we can differentiate\nbetween the other one.\n\n623\n00:31:30.520 --> 00:31:32.060\nI will save it as an XML file.\n\n624\n00:31:32.060 --> 00:31:36.748\nBefore I do this, let me just move\nthis over, and I'll show this you,\n\n625\n00:31:36.748 --> 00:31:37.710\nI think I can.\n\n626\n00:31:39.420 --> 00:31:41.360\nThere we go.\nJust trying to drag this over to the side.\n\n627\n00:31:41.360 --> 00:31:42.592\nI just forgot to mention,\n\n628\n00:31:42.592 --> 00:31:45.960\nyou see you can put a password on here\nas well because this is an XMLfile.\n\n629\n00:31:45.960 --> 00:31:46.997\nSomebody could open this and\n\n630\n00:31:46.997 --> 00:31:49.460\nthere is information that they\nmay be able to see in here.\n\n631\n00:31:49.460 --> 00:31:52.826\nSo we may want a password protect this\nfile because it will be easier to interact\n\n632\n00:31:52.826 --> 00:31:53.497\nwith this one.\n\n633\n00:31:53.497 --> 00:31:56.573\nSo it will be up to us to decide\nwhether or now we want to do that.\n\n634\n00:31:56.573 --> 00:31:59.340\nI didn't bother that, but\nwe can do that if we wanted to.\n\n635\n00:31:59.340 --> 00:32:02.133\nFor purposes of our demonstration,\njust to get this thing out,\n\n636\n00:32:02.133 --> 00:32:03.540\nwe're gonna bother with that.\n\n637\n00:32:03.540 --> 00:32:06.466\nSo we're going to click Save here.\n\n638\n00:32:06.466 --> 00:32:10.357\nJust do that and we'll wait for\nthe system to catch up with us real quick.\n\n639\n00:32:10.357 --> 00:32:16.733\nAll right, we've done that and\nlet me make sure.\n\n640\n00:32:16.733 --> 00:32:21.609\nActually, let me put this in here.\n\n641\n00:32:21.609 --> 00:32:26.571\nBecause I forgot I did put\na password on this one I started, so\n\n642\n00:32:26.571 --> 00:32:29.503\nI do have to actually provide that.\n\n643\n00:32:29.503 --> 00:32:31.570\nSo let's do Finish.\n\n644\n00:32:31.570 --> 00:32:33.532\nAnd then okay, so we have that.\n\n645\n00:32:33.532 --> 00:32:39.488\nAnd then let's come over here just\nminimize that and we have our XML file.\n\n646\n00:32:39.488 --> 00:32:42.514\nSo we have our other file that again,\nwould be now available.\n\n647\n00:32:42.514 --> 00:32:45.568\nI would hand this over somehow\nto clearly communicate this out.\n\n648\n00:32:45.568 --> 00:32:47.612\nLet's say to Cherokee my trusted partner.\n\n649\n00:32:47.612 --> 00:32:49.074\nI'm gonna send this to her.\n\n650\n00:32:49.074 --> 00:32:52.266\nAnd then once I do that and\nlet's just take a look at what's in here.\n\n651\n00:32:52.266 --> 00:32:59.116\nBut once I do this and you'll see XML,\nit's pretty straightforward.\n\n652\n00:32:59.116 --> 00:33:01.288\nNot a lot of stuff we could easily read.\n\n653\n00:33:01.288 --> 00:33:03.966\nIt looks like just a whole\nbunch of random garbage,\n\n654\n00:33:03.966 --> 00:33:06.594\nbut there is information\nhere that is important.\n\n655\n00:33:06.594 --> 00:33:11.702\nIt is an encrypted,\ntrusted domain information document.\n\n656\n00:33:11.702 --> 00:33:14.291\nSo this is an encrypted\nset of information.\n\n657\n00:33:14.291 --> 00:33:19.861\nBut when we send this over, what we\nwould then be able to do is she and\n\n658\n00:33:19.861 --> 00:33:22.451\nher console would come along.\n\n659\n00:33:22.451 --> 00:33:24.495\nDo an import to bring in this information.\n\n660\n00:33:24.495 --> 00:33:29.071\nAdd me to the trusted publishing\ndomain list, specify that file.\n\n661\n00:33:29.071 --> 00:33:31.334\nSo she would go grab it, wherever it is.\n\n662\n00:33:31.334 --> 00:33:34.945\nAnd then specify the password that\nwas provided, whatever that would be.\n\n663\n00:33:34.945 --> 00:33:36.164\nDisplay the name again.\n\n664\n00:33:36.164 --> 00:33:38.878\nAnd when she's done,\nshe would have me added to the list and\n\n665\n00:33:38.878 --> 00:33:40.355\nwe would exchange most likely.\n\n666\n00:33:40.355 --> 00:33:42.341\nI would have her file and\nshe would have mine.\n\n667\n00:33:42.341 --> 00:33:45.946\nI wanna set up that trust going in both\ndirections and we would then be able\n\n668\n00:33:45.946 --> 00:33:50.334\nto add each other's trusted publishing, as\nwell as trusted user domain information.\n\n669\n00:33:50.334 --> 00:33:54.841\nExtending the trust and the use of our\nrights management between users, and\n\n670\n00:33:54.841 --> 00:33:58.152\nthese two clusters to allow\nthem to access content, and\n\n671\n00:33:58.152 --> 00:34:02.469\nuse license grants from each other's\ncluster to be able to see content.\n\n672\n00:34:02.469 --> 00:34:05.928\nSo, this is how we would extend this and\nadd this capability.\n\n673\n00:34:05.928 --> 00:34:08.464\nSo I wanna make sure you got\na chance to see this as well,\n\n674\n00:34:08.464 --> 00:34:11.234\nbecause this is a very often\nan important part of what we do.\n\n675\n00:34:11.234 --> 00:34:13.346\nWe may limit AD RMS just to our users and\n\n676\n00:34:13.346 --> 00:34:17.504\nour own forest with a single AD RMS\ncluster and just never worry about this.\n\n677\n00:34:17.504 --> 00:34:20.976\nCuz as you see by default, we're setup\nautomatically to trust our own stuff.\n\n678\n00:34:20.976 --> 00:34:22.322\nWe trust ourselves.\n\n679\n00:34:22.322 --> 00:34:23.879\nIn other words,\nautomatically out of the gate.\n\n680\n00:34:23.879 --> 00:34:27.041\nI didn't have to do anything to\nadd a trusted publishing and\n\n681\n00:34:27.041 --> 00:34:30.711\ntrusted user domain, self-trust\ncapability and its configured as\n\n682\n00:34:30.711 --> 00:34:34.014\npart of the configuration of\nthe AD RMS installation itself.\n\n683\n00:34:34.014 --> 00:34:35.628\nWe sign our own certificates.\n\n684\n00:34:35.628 --> 00:34:36.708\nWe trust our own content.\n\n685\n00:34:36.708 --> 00:34:38.496\nIt's just part of how we set things up.\n\n686\n00:34:38.496 --> 00:34:42.406\nBut if I wanna extend that or\npull in another system from outside or\n\n687\n00:34:42.406 --> 00:34:45.903\nanother cluster and trust them,\nthen I do have to do this.\n\n688\n00:34:45.903 --> 00:34:47.830\nSo it's good just to\nknow how this is done.\n\n689\n00:34:47.830 --> 00:34:51.069\nIt will be important to just have\na sense of that and understand that.\n\n690\n00:34:51.069 --> 00:34:52.846\nSo we export, of course, on one side.\n\n691\n00:34:52.846 --> 00:34:54.007\nWe import on the other.\n\n692\n00:34:54.007 --> 00:34:57.954\nBringing that information across and\nmaking it available.\n\n693\n00:34:57.954 --> 00:34:59.265\n&gt;&gt; Yeah, and it wasn't even bad.\n\n694\n00:34:59.265 --> 00:35:01.182\nIt wasn't even like ripping\noff my band aid here.\n\n695\n00:35:01.182 --> 00:35:04.107\nSo, all the steps we were able\nto go ahead and follow them.\n\n696\n00:35:04.107 --> 00:35:05.790\nSo thank you for showing us that, Adam.\n\n697\n00:35:05.790 --> 00:35:08.054\nThank you for being with us, as well.\n\n698\n00:35:08.054 --> 00:35:11.691\nWe're not finished discussing AD RMS,\nso please stay tuned next show.\n\n699\n00:35:11.691 --> 00:35:13.444\nBut for this one,\nwe'll go ahead and sign out.\n\n700\n00:35:13.444 --> 00:35:15.116\nI've been your host Cherokee Boose.\n\n701\n00:35:15.116 --> 00:35:16.196\n&gt;&gt; I'm Adam Gordon.\n\n702\n00:35:16.196 --> 00:35:17.508\n&gt;&gt; See you next time.\n\n703\n00:35:17.508 --> 00:35:24.497\n[MUSIC]\n\n704\n00:35:24.497 --> 00:35:27.445\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233504359"
        },
        {
          "description": "In this episode, Adam and Cherokee start the show by demonstrating the steps required to decommission AD RMS as well as preventing the disabling feature. He covers the prerequisites required and explains why these steps should be performed in sequential order.",
          "length": "1275",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-5-implementing_ad_rms_pt5-090817-PGM.00_21_19_20.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-5-implementing_ad_rms_pt5-090817-PGM.00_21_19_20.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-7-1-5-implementing_ad_rms_pt5-090817-PGM.00_21_19_20.Still001-sm.jpg",
          "title": "Implementing AD RMS Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.170 --> 00:00:03.002\nWelcome to ITPro.TV,\nI'm your host Don Pezet.\n\n2\n00:00:03.002 --> 00:00:05.849\n[CROSSTALK]\n\n3\n00:00:05.849 --> 00:00:08.179\n[MUSIC]\n\n4\n00:00:08.179 --> 00:00:12.026\n&gt;&gt; You're watching ITPro.TV.\n\n5\n00:00:12.026 --> 00:00:17.537\n&gt;&gt; Welcome ladies and gentlemen to your\nMicrosoft Server 2012 R2 70-412 series.\n\n6\n00:00:17.537 --> 00:00:19.730\nI'm your show host, Cherokee Boose.\n\n7\n00:00:19.730 --> 00:00:24.360\nIn this episode, we'll continue taking\na look at how to implement AD RMS.\n\n8\n00:00:24.360 --> 00:00:28.146\nAnd back with us today in studios,\nwe have Microsoft expert Mr. Adam Gordon.\n\n9\n00:00:28.146 --> 00:00:29.097\nThank you for joining us, Adam.\n\n10\n00:00:29.097 --> 00:00:30.010\n&gt;&gt; You are welcome.\n\n11\n00:00:30.010 --> 00:00:30.697\n&gt;&gt; How's it going?\n\n12\n00:00:30.697 --> 00:00:32.161\n&gt;&gt; Good.\n\n13\n00:00:32.161 --> 00:00:33.688\n&gt;&gt; Yeah.\n&gt;&gt; Last time I checked, but\n\n14\n00:00:33.688 --> 00:00:35.736\nwe'll find out in just a minute,\nI suppose.\n\n15\n00:00:35.736 --> 00:00:39.570\nCuz we're gonna talk about some other cool\nstuff, we left off in our last episode.\n\n16\n00:00:39.570 --> 00:00:40.620\nThis is a mult-parter,\n\n17\n00:00:40.620 --> 00:00:42.407\nshocking though that may be cuz-\n&gt;&gt; [LAUGH]\n\n18\n00:00:42.407 --> 00:00:43.256\n&gt;&gt; We never do those, right?\n\n19\n00:00:43.256 --> 00:00:47.727\n[LAUGH] Actually it's never taken me just\none episode to talk about any one thing.\n\n20\n00:00:47.727 --> 00:00:50.774\nI don't think we've ever shot a show that\nwas just exactly one episode in length.\n\n21\n00:00:50.774 --> 00:00:56.597\n&gt;&gt; I think chapter 10 for\nthe 70-472 was one episode.\n\n22\n00:00:56.597 --> 00:00:58.117\n&gt;&gt; Just one episode.\n\n23\n00:00:58.117 --> 00:00:58.725\n&gt;&gt; I think so.\n\n24\n00:00:58.725 --> 00:00:59.853\n&gt;&gt; Really?\n&gt;&gt; But I'll have to verify that.\n\n25\n00:00:59.853 --> 00:01:01.893\n&gt;&gt; Is that backup and\nrestore that kind of?\n\n26\n00:01:01.893 --> 00:01:02.741\nNo, even that that was.\n\n27\n00:01:02.741 --> 00:01:04.390\n&gt;&gt; [LAUGH]\n&gt;&gt; I don't know, anyway,\n\n28\n00:01:04.390 --> 00:01:06.790\nit takes me longer than that\njust to figure out who I am and\n\n29\n00:01:06.790 --> 00:01:08.338\nhave a cup of coffee in the morning.\n\n30\n00:01:08.338 --> 00:01:12.189\nBut we are gonna complete are\nconversations about ADRMS in this episode,\n\n31\n00:01:12.189 --> 00:01:14.187\nso that is a milestone within itself.\n\n32\n00:01:14.187 --> 00:01:16.800\nBut more importantly we're\ngonna pick up where we left of.\n\n33\n00:01:16.800 --> 00:01:18.904\nNow I did tell you the last episode, hey,\n\n34\n00:01:18.904 --> 00:01:22.226\nlook at that one that came before\ntwo episodes back from this one.\n\n35\n00:01:22.226 --> 00:01:24.875\nBecause we started our hands\non walk through there,\n\n36\n00:01:24.875 --> 00:01:28.062\nreally wanted you to get a sense\nof the overview of the console,\n\n37\n00:01:28.062 --> 00:01:30.969\nthe configuration of ADR MS,\nthe install, and config.\n\n38\n00:01:30.969 --> 00:01:32.409\nWe did that in the first part.\n\n39\n00:01:32.409 --> 00:01:35.470\nThis is part five, so\nit would have been in part three, right?\n\n40\n00:01:35.470 --> 00:01:38.510\nIn episode four,\nwe went ahead and built on that,\n\n41\n00:01:38.510 --> 00:01:40.580\nthe very last episode before this one.\n\n42\n00:01:40.580 --> 00:01:46.290\nWalked through, showed you how to\nset up or use a exclusion policy.\n\n43\n00:01:46.290 --> 00:01:49.320\nWe did that for an application,\nshowed you, I would do it for a user for\n\n44\n00:01:49.320 --> 00:01:50.444\na lockbox version.\n\n45\n00:01:50.444 --> 00:01:53.164\nCherokee had a lot of fun saying\nlockbox two or three times and\n\n46\n00:01:53.164 --> 00:01:54.452\nexploring what that meant.\n\n47\n00:01:54.452 --> 00:01:55.955\nSo it was very exciting,\n\n48\n00:01:55.955 --> 00:01:59.974\nanf then we also a took a look at\nhow to leverage our trust policies.\n\n49\n00:01:59.974 --> 00:02:03.013\nSpecifically we took a look at\nhow to do a trusted user and\n\n50\n00:02:03.013 --> 00:02:04.704\ntrusted publishing domains.\n\n51\n00:02:04.704 --> 00:02:06.775\nExplained the logic behind those,\n\n52\n00:02:06.775 --> 00:02:11.840\nhow we essentially extend our ability to\nanother ADR in this cluster or from them.\n\n53\n00:02:11.840 --> 00:02:15.870\nGet that ability by importing\nto trust users issue racks and\n\n54\n00:02:15.870 --> 00:02:21.410\ncross certify to allow the extension\nof ADR MS protected content and\n\n55\n00:02:21.410 --> 00:02:24.200\nrights usage into different clusters.\n\n56\n00:02:24.200 --> 00:02:28.044\nWe walked through the logic of how we\nwould export our own content either as\n\n57\n00:02:28.044 --> 00:02:30.159\na bin file for the trusted users domain.\n\n58\n00:02:30.159 --> 00:02:34.935\nIt would be a .bin for the trust the\npublishing domain, a .xml file extension.\n\n59\n00:02:34.935 --> 00:02:38.434\nExport those out and then we should know\nhow to import them, establishing that\n\n60\n00:02:38.434 --> 00:02:41.840\ntrust by bringing in the configuration\ninformation and licensing file.\n\n61\n00:02:41.840 --> 00:02:43.490\nSo we did all that,\n\n62\n00:02:43.490 --> 00:02:46.480\nI encourage you to take a look just\nto get up to speed on where we are.\n\n63\n00:02:46.480 --> 00:02:49.348\nWe're gonna go back into the console,\ntalk about a couple of odds and\n\n64\n00:02:49.348 --> 00:02:50.396\nends that are left over.\n\n65\n00:02:50.396 --> 00:02:52.733\nI did not get a chance to talk\nabout decommissioning, so\n\n66\n00:02:52.733 --> 00:02:53.940\nI want to see how that works.\n\n67\n00:02:53.940 --> 00:02:55.329\nI mentioned we would see that,\n\n68\n00:02:55.329 --> 00:02:58.370\nI have a few things to show you\nwith regards to how we do that.\n\n69\n00:02:58.370 --> 00:02:59.400\nAlso kind of interesting,\n\n70\n00:02:59.400 --> 00:03:02.360\nI wanna talk about how we can\nautomate the deployment of, and\n\n71\n00:03:02.360 --> 00:03:07.880\nthe client side caching of the rights\npolicy templates that we may create.\n\n72\n00:03:07.880 --> 00:03:13.913\nWe created a rights policy template in the\nlast episode with an Excel.exe exclusion.\n\n73\n00:03:13.913 --> 00:03:17.257\nSo we talked about that as well and\nhow we could do that.\n\n74\n00:03:17.257 --> 00:03:19.159\nOr I'm sorry, no,\nwe did that with WINWORD.\n\n75\n00:03:19.159 --> 00:03:23.790\nWe did it with Word in the first of the\nthree episodes we did to let us use Word.\n\n76\n00:03:23.790 --> 00:03:26.521\nWe did that and then the last episode,\nwe did the application exclusion of Excel.\n\n77\n00:03:26.521 --> 00:03:27.331\n&gt;&gt; Exclusion of Excel.\n\n78\n00:03:27.331 --> 00:03:28.856\n&gt;&gt; Gotta take notes to keep all\nthis stuff straight in my head.\n\n79\n00:03:28.856 --> 00:03:31.033\n&gt;&gt; I know, [LAUGH] I do take notes.\n\n80\n00:03:31.033 --> 00:03:31.889\n&gt;&gt; You do, right.\n\n81\n00:03:31.889 --> 00:03:34.150\nI don't, but I didn't have them\nin front of me but I guessed so\n\n82\n00:03:34.150 --> 00:03:35.300\nthat was good, right?\n\n83\n00:03:35.300 --> 00:03:37.289\nI didn't say PowerPoint,\nwhich worked out well.\n\n84\n00:03:37.289 --> 00:03:39.217\nBut we can and indeed will, go back and\n\n85\n00:03:39.217 --> 00:03:42.720\nrevisit the idea from episode three\nof the rights policy templates.\n\n86\n00:03:42.720 --> 00:03:47.127\nWe showed you, how to export them and\nstore them in a share on the local server.\n\n87\n00:03:47.127 --> 00:03:49.710\nADR MS templates or\nwhatever we would call it.\n\n88\n00:03:49.710 --> 00:03:51.987\nWe walk through the logic of that,\nso all the XML file.\n\n89\n00:03:51.987 --> 00:03:53.699\nI'm gonna show you another\nway to deal with that.\n\n90\n00:03:53.699 --> 00:03:57.920\nWe can actually use a schedule task\nthat's built in to the task scheduler on\n\n91\n00:03:57.920 --> 00:03:58.730\nour machine.\n\n92\n00:03:58.730 --> 00:04:00.626\nEnable that, edit a registry key, and\n\n93\n00:04:00.626 --> 00:04:04.377\nallow clients to automatically go\ndownload those templates and cache them.\n\n94\n00:04:04.377 --> 00:04:06.730\nSo we'll take a look at how to do that and\nactually make that available.\n\n95\n00:04:06.730 --> 00:04:09.160\nIt's kind of cool as well,\nwe'll walk through that.\n\n96\n00:04:09.160 --> 00:04:13.332\nAnd then well we're done with all of that,\nwell who knows what can happen here at\n\n97\n00:04:13.332 --> 00:04:16.219\nITPro.TV, somebody come\nrunning through the door.\n\n98\n00:04:16.219 --> 00:04:18.380\n&gt;&gt; Yeah, but hey,\nif I say lockbox three times,\n\n99\n00:04:18.380 --> 00:04:22.386\nit's not the same as saying Beetlejuice\nthree times, so at least we're good there.\n\n100\n00:04:22.386 --> 00:04:24.728\n[LAUGH]\n&gt;&gt; You're not supposed to say that.\n\n101\n00:04:24.728 --> 00:04:26.945\nAll right, so\nlet's start with decommissioning.\n\n102\n00:04:26.945 --> 00:04:28.768\nJoin me over here, if you will.\n\n103\n00:04:28.768 --> 00:04:31.370\nSo I have just right clicked and\nenabled decommissioning.\n\n104\n00:04:31.370 --> 00:04:35.826\nLet me turn off the setting, just so you\ncould see what it starts out life like.\n\n105\n00:04:35.826 --> 00:04:39.540\nIt does have our little gray x,\nthat we're used to seeing, right?\n\n106\n00:04:39.540 --> 00:04:42.185\nAnd so for decommissioning,\nbefore we actually enable it.\n\n107\n00:04:42.185 --> 00:04:46.627\nWhat we have to do is go in and modify a\nfile, permissions on a file, specifically.\n\n108\n00:04:46.627 --> 00:04:48.316\nSo let's go in and\njust take a look at this.\n\n109\n00:04:48.316 --> 00:04:50.440\nI'm already in the path here.\n\n110\n00:04:50.440 --> 00:04:52.140\nWe can see that I'm in, and\nit might be hard to see.\n\n111\n00:04:52.140 --> 00:04:54.065\nIf we go full screen, you just might\nbe able to read it real quick.\n\n112\n00:04:54.065 --> 00:04:56.169\nI'll read it to you, but either way.\n\n113\n00:04:56.169 --> 00:05:00.307\nWe're in the Inetpub directory,\nso in the IIS web roo,\n\n114\n00:05:00.307 --> 00:05:06.837\nwwwroot inetpub subdirectory, which is the\nworking directory for the IIS web server.\n\n115\n00:05:06.837 --> 00:05:12.122\nOn the ADR MS root machine,\nso c:\\inetpub\\wwwroot or\n\n116\n00:05:12.122 --> 00:05:16.093\nwwwroot _wmcs, and then decommission.\n\n117\n00:05:16.093 --> 00:05:21.472\nAnd then in that directory,\namong the three files that are there.\n\n118\n00:05:21.472 --> 00:05:26.465\nThe decomission.asmx file, which is\nthe file that controls decommissioning,\n\n119\n00:05:26.465 --> 00:05:27.995\nI have to open this file.\n\n120\n00:05:27.995 --> 00:05:31.419\nNot open it rather, but open Properties\nand go to the Security tab and\n\n121\n00:05:31.419 --> 00:05:32.726\nI've done this already.\n\n122\n00:05:32.726 --> 00:05:35.447\nWhen you go there, you will not\nhave the everyone group there, but\n\n123\n00:05:35.447 --> 00:05:36.380\nyou're gonna add it.\n\n124\n00:05:36.380 --> 00:05:38.638\nSo you'll Edit, you'll Add everyone.\n\n125\n00:05:38.638 --> 00:05:43.620\nAssign, Read &amp; Execute permissions\nto the everyone group on this file.\n\n126\n00:05:43.620 --> 00:05:47.218\nAnd then as a result of doing that, and\n\n127\n00:05:47.218 --> 00:05:53.296\nthen enabling the decommission here,\nas we we're about to do.\n\n128\n00:05:53.296 --> 00:05:56.628\nWe're not gonna click\nthe magical decommission button,\n\n129\n00:05:56.628 --> 00:05:58.329\ncuz that blows up our system.\n\n130\n00:05:58.329 --> 00:06:02.604\nAnd if we do that we can't then show you\nsome of the other stuff we wanna show you.\n\n131\n00:06:02.604 --> 00:06:05.440\nIf we do want to decommission,\nlet's talk about decommission.\n\n132\n00:06:05.440 --> 00:06:07.327\nLet's explain the thought\nprocess behind it.\n\n133\n00:06:07.327 --> 00:06:10.114\nAnd one other thing, we have to do\nbefore we would decommission as well.\n\n134\n00:06:10.114 --> 00:06:11.353\nI'll explain that in a minute.\n\n135\n00:06:11.353 --> 00:06:14.618\nWe got to export the SLC,\nthe server licensor certificate.\n\n136\n00:06:14.618 --> 00:06:18.908\nI have a copy of that, just in case things\ngo wrong, or we need that to have it,\n\n137\n00:06:18.908 --> 00:06:23.077\nto restore functionality, or be used\nto be able to enable content access.\n\n138\n00:06:23.077 --> 00:06:24.969\nWe're gonna just make sure\nwe have a copy of that, and\n\n139\n00:06:24.969 --> 00:06:27.089\nI'll show you how to get that\ncertificate in just a minute.\n\n140\n00:06:27.089 --> 00:06:29.942\nActually have it already exported and\nI actually have it right here,\n\n141\n00:06:29.942 --> 00:06:30.883\nwe're looking at it.\n\n142\n00:06:30.883 --> 00:06:33.227\nThis is the bin file for\nthe certificate, but\n\n143\n00:06:33.227 --> 00:06:35.641\nI'll show you how to get\nthat in just a minute.\n\n144\n00:06:35.641 --> 00:06:37.468\nSo we'd be commissioning,\n\n145\n00:06:37.468 --> 00:06:41.302\nthe idea is that we are going\nto shut down the ADR MS cluster.\n\n146\n00:06:41.302 --> 00:06:45.760\nWe're gonna turn it off and by doing, so\nwe're gonna remove the rights protections\n\n147\n00:06:45.760 --> 00:06:50.860\nthat are a forwarded to and are enabled\non any of the ADR MS protective content.\n\n148\n00:06:50.860 --> 00:06:54.329\nNow that may sound like it's\na drastic step and let's be clear,\n\n149\n00:06:54.329 --> 00:06:55.430\nit very well may be.\n\n150\n00:06:55.430 --> 00:06:56.787\nYou're unprotecting content,\n\n151\n00:06:56.787 --> 00:06:59.650\nif you don't have a fallback plan\nthat may not be a good thing.\n\n152\n00:06:59.650 --> 00:07:03.362\nBut we are gonna be able to grant\nrights to users to see that content and\n\n153\n00:07:03.362 --> 00:07:06.954\nopen that content back up,\nassuming that we do this the right way.\n\n154\n00:07:06.954 --> 00:07:11.108\nWe have a decommissioning period where we\nallow users to come back in, get their\n\n155\n00:07:11.108 --> 00:07:15.450\ncontent, before it's just obviously\nturned off, and no longer made available.\n\n156\n00:07:15.450 --> 00:07:21.630\nSo decommissioning does allow us to\nturn off the ADR MS functionality.\n\n157\n00:07:21.630 --> 00:07:24.515\nWe do make the point here,\ndecommissioning, if you could see it,\n\n158\n00:07:24.515 --> 00:07:27.467\nI'm kind of pointing to it,\ncannot be disabled after this occurs.\n\n159\n00:07:27.467 --> 00:07:30.953\nMeaning, if I click this button,\nit's a one way trip, right?\n\n160\n00:07:30.953 --> 00:07:33.372\nThat cluster's turned off and gone.\n\n161\n00:07:33.372 --> 00:07:36.898\nWe certainly can enable ADR MS,\nreestablish protections.\n\n162\n00:07:36.898 --> 00:07:40.440\nBut we're building a brand new cluster,\nreestablishing our policies,\n\n163\n00:07:40.440 --> 00:07:43.238\ndoing all that stuff in order\nto be able to reinvigorate and\n\n164\n00:07:43.238 --> 00:07:44.680\nreapply those protections.\n\n165\n00:07:44.680 --> 00:07:46.097\nSo you wanna be careful with this, right?\n\n166\n00:07:46.097 --> 00:07:48.370\nThis is not something to be done lightly.\n\n167\n00:07:48.370 --> 00:07:51.643\nAs a matter of fact, it makes me a little\nnervous to have that just sitting out\n\n168\n00:07:51.643 --> 00:07:54.623\nthere with the opportunity for\nsomeone to come along and click on it.\n\n169\n00:07:54.623 --> 00:07:58.004\nSo we're just gonna disable that,\nso it's not available to us, right?\n\n170\n00:07:58.004 --> 00:08:01.416\nBut we do wanna make sure we know that\ndecommissioning may very well loom,\n\n171\n00:08:01.416 --> 00:08:04.349\nIn our future at some point, and\nwe do have to understand that.\n\n172\n00:08:04.349 --> 00:08:08.928\nNow I mentioned that we may, not may,\nwe should export a copy of the SLC,\n\n173\n00:08:08.928 --> 00:08:11.182\nthe Server licensor Certificate,\n\n174\n00:08:11.182 --> 00:08:15.000\nthat whacky 250 year\nvalidity period certificate.\n\n175\n00:08:15.000 --> 00:08:17.590\nSo let's go take a look at that,\nmake sure we know where to find that and\n\n176\n00:08:17.590 --> 00:08:20.070\nunderstand how to do that Up here at\n\n177\n00:08:20.070 --> 00:08:23.680\nthe cluster roots of the machine that\nanchors our cluster in this case.\n\n178\n00:08:23.680 --> 00:08:25.820\nPlabdm01.\nSo we're gonna come up here.\n\n179\n00:08:27.150 --> 00:08:27.760\nHighlight that.\n\n180\n00:08:27.760 --> 00:08:29.430\nWe can see all sorts of\ninformation about it.\n\n181\n00:08:29.430 --> 00:08:30.460\nWe took a look at this earlier.\n\n182\n00:08:30.460 --> 00:08:33.690\nWe're gonna right click here and\nwe're gonna go in and go to properties.\n\n183\n00:08:33.690 --> 00:08:37.480\nWe got some properties of the server,\nI'll just move this over.\n\n184\n00:08:37.480 --> 00:08:40.350\nAnd we have things,\njust general information that's here.\n\n185\n00:08:40.350 --> 00:08:41.470\nWe have the cluster URLs.\n\n186\n00:08:41.470 --> 00:08:45.320\nThose are the URLs sitting back here that\nwe took a look at in a prior episode.\n\n187\n00:08:45.320 --> 00:08:50.090\nWe have AD RMS servers, lists\nthe server or servers in the cluster.\n\n188\n00:08:50.090 --> 00:08:52.950\nIt's a lot of just general\nadministrative stuff that goes on here.\n\n189\n00:08:52.950 --> 00:08:57.770\nWe have our SCP for our key management so\nwe can see that here.\n\n190\n00:08:57.770 --> 00:09:00.910\nWe do have our logging setup,\nand our capabilities for logging.\n\n191\n00:09:00.910 --> 00:09:05.220\nRemember our logging database\ninformation is listed down here as well\n\n192\n00:09:05.220 --> 00:09:07.950\nWith the Windows internal database\ntells us what we are doing.\n\n193\n00:09:07.950 --> 00:09:11.540\nWe have proxy settings if we\nhappen to need a proxy to connect.\n\n194\n00:09:11.540 --> 00:09:13.260\nWe also have this tab\ncalled server certificate.\n\n195\n00:09:13.260 --> 00:09:17.020\nThis is where we go to see the ability\nto be able to export a copy of the SLC,\n\n196\n00:09:17.020 --> 00:09:18.990\nthe server licensor certificate.\n\n197\n00:09:18.990 --> 00:09:22.300\nSo we can grab that here, you just click\nexport, it's very straightforward.\n\n198\n00:09:22.300 --> 00:09:23.520\nI've already done that so\n\n199\n00:09:23.520 --> 00:09:28.010\nyou can see I have a filed called\nSLC.bin which is the SLC certificate.\n\n200\n00:09:28.010 --> 00:09:31.420\nSo I've exported it already, but just give\nit a name and comes out as a .bin file,\n\n201\n00:09:31.420 --> 00:09:32.705\njust like our practice labs.\n\n202\n00:09:32.705 --> 00:09:36.980\n.bin trusted user list\nfrom our prior episode.\n\n203\n00:09:36.980 --> 00:09:38.550\nJust see it sitting on the desktop.\n\n204\n00:09:38.550 --> 00:09:41.690\nWhen I did that, I just right click\nopened it up with note pad or word rap so\n\n205\n00:09:41.690 --> 00:09:44.520\nyou could see it But\nthis is the exported SLC file,\n\n206\n00:09:44.520 --> 00:09:48.620\nso you could certainly take a look in\nhere, and see all the different things.\n\n207\n00:09:48.620 --> 00:09:50.040\nAgain, you could kind of read through and\nfind\n\n208\n00:09:50.040 --> 00:09:51.210\n&gt;&gt; Do you feel like you're kind of in \"The\n\n209\n00:09:51.210 --> 00:09:54.060\nMatrix\" when things start popping out and\nyou can just see them,\n\n210\n00:09:54.060 --> 00:09:57.620\nwhen you're looking at these files\nlike this, you're like, yea, yea, yea.\n\n211\n00:09:57.620 --> 00:09:59.430\n&gt;&gt; Yeah, yeah yeah yeah.\n\n212\n00:09:59.430 --> 00:10:01.230\n&gt;&gt; [LAUGH]\n&gt;&gt; Did I get the right number of yeahs?\n\n213\n00:10:01.230 --> 00:10:02.622\n&gt;&gt; It's like what's\n[CROSSTALK] Yeah yeah yeah.\n\n214\n00:10:02.622 --> 00:10:03.287\n[LAUGH]\n&gt;&gt; Yeah yeah yeah, exactly\n\n215\n00:10:03.287 --> 00:10:03.910\nright, yeah yeah yeah.\n\n216\n00:10:03.910 --> 00:10:05.160\n&gt;&gt; Okay I can see that,\nand yeah yeah yeah.\n\n217\n00:10:05.160 --> 00:10:08.000\nAnd so it's like finally start,\nyeah, it's like coming together and\n\n218\n00:10:08.000 --> 00:10:10.870\nyou can strike that information,\nwhich it's kind of cool.\n\n219\n00:10:10.870 --> 00:10:12.080\n&gt;&gt; It is.\n&gt;&gt; [LAUGH]\n\n220\n00:10:12.080 --> 00:10:13.360\n&gt;&gt; All right, so you can see for\n\n221\n00:10:13.360 --> 00:10:18.160\ninstance the size of the key associated\nwith this, right, 2048 bit for the key.\n\n222\n00:10:18.160 --> 00:10:23.280\nJust pulling out a couple of\nthings here and there We can see.\n\n223\n00:10:23.280 --> 00:10:27.180\nLet's see what else we got here, RMS 2.0.\n\n224\n00:10:27.180 --> 00:10:28.340\nSo the version of RMS.\n\n225\n00:10:28.340 --> 00:10:30.810\nSo we could tell what version this is on.\n\n226\n00:10:30.810 --> 00:10:32.360\nIt's a 12, 12 R2 server for RMS 2.0.\n\n227\n00:10:32.360 --> 00:10:37.160\nSo we can kind of pick that out,\nwe could tell the type of the objects,\n\n228\n00:10:37.160 --> 00:10:38.860\nserver licensor certificate.\n\n229\n00:10:38.860 --> 00:10:42.970\nWe could see the GUID the unique\nidentifier for the certificate there.\n\n230\n00:10:42.970 --> 00:10:46.090\nAll that kind of stuff, so\nwe can go through the range time\n\n231\n00:10:46.090 --> 00:10:50.025\nby the way is the variable What you\nwould look for to find the 250 year,\n\n232\n00:10:50.025 --> 00:10:53.477\nyou know validity period, it's not listed\nvalidity period, it's a range time.\n\n233\n00:10:53.477 --> 00:10:55.395\n&gt;&gt; Okay.\n&gt;&gt; That's the value we look for there so\n\n234\n00:10:55.395 --> 00:10:56.485\nit's you know listed there.\n\n235\n00:10:56.485 --> 00:11:00.370\nSo you can see all the stuff there if\nyou go down, I mean a lot of it is just\n\n236\n00:11:00.370 --> 00:11:04.350\nkinda crazy stuff that's been very\nhard to go in and see what's there.\n\n237\n00:11:04.350 --> 00:11:07.390\nBut you can go in and read through it and\nkinda get a sense of that.\n\n238\n00:11:07.390 --> 00:11:12.660\nA DRM-CA Certificate, it's our Rights\nManagement certificate that's issued.\n\n239\n00:11:12.660 --> 00:11:14.870\nSo you can kinda get a sense\nof what's in here if you look.\n\n240\n00:11:14.870 --> 00:11:18.930\nBut this is what the SLC certificate,\nwhen you export it into a bin file,\n\n241\n00:11:18.930 --> 00:11:20.080\nwould actually look like.\n\n242\n00:11:20.080 --> 00:11:22.990\nWe wanna have a copy of that,\njust in case we do need to have that.\n\n243\n00:11:22.990 --> 00:11:25.510\nSo if we decommission,\nwanna follow those steps.\n\n244\n00:11:25.510 --> 00:11:32.390\nSo I did put together just a little set of\ninstructions for you in the show notes.\n\n245\n00:11:32.390 --> 00:11:33.670\nNot this, this is something different.\n\n246\n00:11:33.670 --> 00:11:36.320\nWe're gonna talk about providing\nrights policy templates for\n\n247\n00:11:36.320 --> 00:11:37.580\noffline use in a minute.\n\n248\n00:11:37.580 --> 00:11:40.320\nBut if you look in the show\nnotes up towards the middle,\n\n249\n00:11:40.320 --> 00:11:42.460\naround the area we that talk\nabout all the certificates and\n\n250\n00:11:42.460 --> 00:11:45.960\nlicenses that I mentioned in one of\nthe other episodes that we showed you.\n\n251\n00:11:45.960 --> 00:11:49.490\nAnd the nine step walk-through of\nhow ADRMS works that we put up in\n\n252\n00:11:49.490 --> 00:11:50.500\nthe show notes and\n\n253\n00:11:50.500 --> 00:11:54.430\nspent a whole episode literally just about\ngoing through explaining the logic to you.\n\n254\n00:11:54.430 --> 00:11:57.010\nRight around those areas in the show\nnotes, there's actually a little step by\n\n255\n00:11:57.010 --> 00:11:59.960\nstep, five step list of\nhow decommissioning works.\n\n256\n00:11:59.960 --> 00:12:03.800\nGives you that path to go edit\nthat decommission.asmx file,\n\n257\n00:12:03.800 --> 00:12:07.170\ntells you the group, the everyone group,\nand the rights you need to put on there,\n\n258\n00:12:07.170 --> 00:12:10.435\nthe read and execute permission.\n\n259\n00:12:10.435 --> 00:12:13.275\nSo we're just gonna notate that for\nyou and have that in there.\n\n260\n00:12:13.275 --> 00:12:17.035\nI did mention also, I'm gonna show you\none other way to deal with getting these\n\n261\n00:12:17.035 --> 00:12:20.975\nrights policy templates available cache at\nthe local client making them available for\n\n262\n00:12:20.975 --> 00:12:22.040\noffline use.\n\n263\n00:12:22.040 --> 00:12:23.290\nSo I just wanted to point this out to you.\n\n264\n00:12:23.290 --> 00:12:24.420\nIt's kind of interesting.\n\n265\n00:12:24.420 --> 00:12:28.260\nSo if we want to publish these\nconnected templates, or these\n\n266\n00:12:28.260 --> 00:12:31.230\nrights publishing templates rather, and\nwe are not connected to the network but\n\n267\n00:12:31.230 --> 00:12:35.070\nwe want the client is not connected to\nhave the template applied, we have to make\n\n268\n00:12:35.070 --> 00:12:39.300\nthem available and somehow have them on\nthe system cache locally for offline use.\n\n269\n00:12:39.300 --> 00:12:40.700\nSo we can do that.\n\n270\n00:12:40.700 --> 00:12:42.270\nAnd the way we do this is,\n\n271\n00:12:42.270 --> 00:12:46.420\nwe can enable this functionality using\na stored procedure in the task Scheduler.\n\n272\n00:12:46.420 --> 00:12:49.570\nNow you may or not be familiar\nwith the Windows Task Scheduler.\n\n273\n00:12:50.990 --> 00:12:53.310\nIt's not a tool we often go in and use.\n\n274\n00:12:53.310 --> 00:12:56.880\nSome people may not even remember it's\nthere, let alone know how to find it.\n\n275\n00:12:56.880 --> 00:12:58.590\nSo if you need to go look for it,\n\n276\n00:12:58.590 --> 00:13:01.390\nif you go to Control Panel\non the machine in question.\n\n277\n00:13:01.390 --> 00:13:03.260\nMay get out of this category view.\n\n278\n00:13:03.260 --> 00:13:06.760\nCuz if you love it as much as I do,\nyou can never find anything [LAUGH].\n\n279\n00:13:06.760 --> 00:13:08.570\nRight?\nSo, if you go to administrative tools.\n\n280\n00:13:08.570 --> 00:13:11.400\nAre you an icon view or a-\n&gt;&gt; No, I was even thinking,\n\n281\n00:13:11.400 --> 00:13:12.390\n&gt;&gt; Or an access view person?\n\n282\n00:13:12.390 --> 00:13:17.090\n&gt;&gt; Can't we access task scheduler\nfrom our MS Config utility as well?\n\n283\n00:13:17.090 --> 00:13:18.640\nI'm trying to think.\n\n284\n00:13:18.640 --> 00:13:19.840\n&gt;&gt; I don't believe so, no.\n\n285\n00:13:19.840 --> 00:13:22.380\nIt's under the administrative tools,\nyou can get it there.\n\n286\n00:13:22.380 --> 00:13:23.640\n&gt;&gt; Okay, I like the run line Adam.\n\n287\n00:13:24.800 --> 00:13:27.790\n&gt;&gt; Well, you could load task\nscheduler from the run line if you\n\n288\n00:13:27.790 --> 00:13:28.510\nknow the shortcut.\n\n289\n00:13:28.510 --> 00:13:32.060\n&gt;&gt; Yeah, so the icons, I don't really care\nfor the icons, that's what I'm saying.\n\n290\n00:13:32.060 --> 00:13:35.000\nIf I'm not a category view,\nor a classic view.\n\n291\n00:13:35.000 --> 00:13:37.800\n&gt;&gt; If you typed that in at the run\nline you could certainly launch it.\n\n292\n00:13:37.800 --> 00:13:41.250\nif the target is there you would have to\nType in taskshed, T-A-S-K-S-C-H-D-M-S-C,\n\n293\n00:13:41.250 --> 00:13:44.510\nand you could load the task\nscheduler if you wanted to.\n\n294\n00:13:44.510 --> 00:13:48.130\nYou could always do that, that's not a big\ndeal, but I'm just saying if you wanna go\n\n295\n00:13:48.130 --> 00:13:50.140\nget it, a lot of people don't\neven realize it's there,\n\n296\n00:13:50.140 --> 00:13:52.920\nlet alone know how to find it, or know-\n&gt;&gt; Yeah cuz things can hide in\n\n297\n00:13:52.920 --> 00:13:53.820\nthose categories too.\n\n298\n00:13:53.820 --> 00:13:57.710\n&gt;&gt; Yeah, I don't like the category view\nat all, I'm not a big fan, but you know,\n\n299\n00:13:57.710 --> 00:14:01.350\nif you go and just simply change it,\nyou're going to go administrative tools.\n\n300\n00:14:01.350 --> 00:14:02.560\nIt's right there task schedules.\n\n301\n00:14:02.560 --> 00:14:03.760\nIt's very simple to find.\n\n302\n00:14:03.760 --> 00:14:05.170\nIt's just an icon for it.\n\n303\n00:14:05.170 --> 00:14:10.190\nAs we said tasksched.msc from the run line\ncan actually load it that if you want to.\n\n304\n00:14:10.190 --> 00:14:13.940\nTo show you where to get to,\nbut then when you bring it up.\n\n305\n00:14:13.940 --> 00:14:18.950\nBarry did all of these subterranean vaults\nthat we have now a Task Scheduler here\n\n306\n00:14:18.950 --> 00:14:22.080\nunder the Task Scheduler\nLibrary Microsoft Windows,\n\n307\n00:14:22.080 --> 00:14:24.570\nActive Directory Rights\nManagement Services Client.\n\n308\n00:14:24.570 --> 00:14:28.540\nIt's kinda scrolling off there, let me\nsee if I can move that so you can see it.\n\n309\n00:14:29.580 --> 00:14:32.330\nYou see that we do have a folder\nthere believe it or not.\n\n310\n00:14:32.330 --> 00:14:35.110\nThere are two tasks that are there.\n\n311\n00:14:35.110 --> 00:14:36.420\nCould we go to full screen so\nyou could see.\n\n312\n00:14:36.420 --> 00:14:38.170\nIt's a little bit easier for us to see.\n\n313\n00:14:38.170 --> 00:14:40.885\nSo you could see there's\none that is already set up.\n\n314\n00:14:40.885 --> 00:14:45.580\nADRMS Rights Policy Template\nManual Management Manual.\n\n315\n00:14:45.580 --> 00:14:47.080\nAnd there's the same and it's automated.\n\n316\n00:14:47.080 --> 00:14:48.860\nAutomated is disabled.\n\n317\n00:14:48.860 --> 00:14:50.200\nYou'd want to enable this.\n\n318\n00:14:51.750 --> 00:14:56.640\nTurn that on, and then, once you've done\nthat, that will run automatically, and\n\n319\n00:14:56.640 --> 00:15:02.310\nif you want to take a look, you can see,\nall right, daily at 3:00 am every day.\n\n320\n00:15:02.310 --> 00:15:05.090\nSo you could take a look at\nthe triggers to see when it runs, and\n\n321\n00:15:05.090 --> 00:15:06.950\nruns it log on for any user.\n\n322\n00:15:06.950 --> 00:15:09.990\nSo if you enable this, you could actually\nenable this with group policy as well,\n\n323\n00:15:09.990 --> 00:15:10.810\nby the way.\n\n324\n00:15:10.810 --> 00:15:14.150\nSo if you go through and enable these on\nthe system, then this will be set up and\n\n325\n00:15:14.150 --> 00:15:15.540\nrunning in the background.\n\n326\n00:15:15.540 --> 00:15:19.160\nEvery time you use your logs on and\nit's 3:00 AM every day looking for\n\n327\n00:15:19.160 --> 00:15:21.530\nthese rights policy templates\nthat may be available.\n\n328\n00:15:21.530 --> 00:15:23.160\nThen what you need to do,\n\n329\n00:15:23.160 --> 00:15:28.010\nwhen you do this is you have to go edit\na registry key on the local machine.\n\n330\n00:15:28.010 --> 00:15:30.530\nNow I don't happen to have Office\ninstalled on the demo server.\n\n331\n00:15:30.530 --> 00:15:32.620\nSo I can open the registry editor.\n\n332\n00:15:32.620 --> 00:15:35.580\nI can get to software Microsoft But\nI won't be able to show you the rest of\n\n333\n00:15:35.580 --> 00:15:37.870\nthe key because I just don't\nhave Office installed.\n\n334\n00:15:37.870 --> 00:15:41.558\nBut I put the key here, just so\nyou could see what you're gonna edit,\n\n335\n00:15:41.558 --> 00:15:44.546\nright here, so you can go in,\nyou would edit this key and\n\n336\n00:15:44.546 --> 00:15:47.981\nyou will provide this location\nstatement inside of this key, so\n\n337\n00:15:47.981 --> 00:15:52.530\nOffice\\12.0\\Common\\DRM or whatever\nversion of Office you may be running.\n\n338\n00:15:52.530 --> 00:15:57.949\nCuz obviously, you may have version 15 or\nversion 16, so adjust accordingly, right?\n\n339\n00:15:57.949 --> 00:16:02.536\nIn common DRM right would be this\nsubkey that you looked for in DRM.\n\n340\n00:16:02.536 --> 00:16:06.043\n%LocalAppData%Microsoft\\DRM\\Templates.\n\n341\n00:16:06.043 --> 00:16:08.640\nPut that string in that key and\nthen when computer.\n\n342\n00:16:08.640 --> 00:16:09.760\nSo we go back to full screen, so\n\n343\n00:16:09.760 --> 00:16:12.240\nI'm sitting over the bottom\nof my statement here.\n\n344\n00:16:12.240 --> 00:16:13.970\nSo can we go back to full screen?\n\n345\n00:16:13.970 --> 00:16:14.610\nThank you.\n\n346\n00:16:14.610 --> 00:16:15.290\nWhen we do this,\n\n347\n00:16:15.290 --> 00:16:18.460\nwhen computers that run these operating\nsystems connect to the domain you see,\n\n348\n00:16:18.460 --> 00:16:22.250\nthe client polls the cluster and\npulls down from this directory.\n\n349\n00:16:22.250 --> 00:16:25.930\nIt pulls down from the cluster,\nInto this directory on the client.\n\n350\n00:16:25.930 --> 00:16:28.260\nAll the rights templates\nthat have been created.\n\n351\n00:16:28.260 --> 00:16:30.980\nSo the way we can automate\nthis availability for\n\n352\n00:16:30.980 --> 00:16:35.370\nus, to cache these templates, make them\navailable offline, put them there and\n\n353\n00:16:35.370 --> 00:16:39.910\nhave them so that the client will And\nstill apply that is by putting this path\n\n354\n00:16:39.910 --> 00:16:44.850\ninto the registry, and then, any of the\ntemplates that we create right up here,\n\n355\n00:16:44.850 --> 00:16:47.560\nthe rights policy templates,\nlike this one that we have, or\n\n356\n00:16:47.560 --> 00:16:50.520\nany of the others we would stack up and\ncreate, will be available.\n\n357\n00:16:50.520 --> 00:16:52.610\nNow, remember,\nwe had already shared these,\n\n358\n00:16:52.610 --> 00:16:57.240\nwe had exported these out\nto the templates folder.\n\n359\n00:16:57.240 --> 00:16:59.500\nWe can use this folder.\n\n360\n00:16:59.500 --> 00:17:01.300\nBut the client has to be online and\nget to this,\n\n361\n00:17:01.300 --> 00:17:03.540\nin order to be able to\npull down the templates.\n\n362\n00:17:03.540 --> 00:17:06.800\nWhat I'm suggesting is yet\nanother way to make these available, so\n\n363\n00:17:06.800 --> 00:17:09.860\nif the client is offline, the client can\nstill see the templates of the client.\n\n364\n00:17:09.860 --> 00:17:13.690\nSo we actually have both sides of the\ndivide covered Obviously if we cache them\n\n365\n00:17:13.690 --> 00:17:17.270\navailable for offline content use,\nthen even if the client's connected,\n\n366\n00:17:17.270 --> 00:17:19.530\nit could still use the offline\ncache if it needs to.\n\n367\n00:17:19.530 --> 00:17:23.050\nBut it has the option to connect and\nsee if there's updated templates,\n\n368\n00:17:23.050 --> 00:17:24.610\nand pull them in, and apply them.\n\n369\n00:17:24.610 --> 00:17:27.480\nSo we can cover both sides\nof the usage scenario.\n\n370\n00:17:27.480 --> 00:17:29.870\nBy making available both\nthrough the share online and\n\n371\n00:17:29.870 --> 00:17:34.340\nthrough the registry key manipulation\nwith the built-in scheduled task.\n\n372\n00:17:34.340 --> 00:17:36.460\nThe ability to check for\nthese and catch them and\n\n373\n00:17:36.460 --> 00:17:40.870\nlog on at a certain time every day or else\nwe have them available for off-line use,\n\n374\n00:17:40.870 --> 00:17:44.530\nso we can do this either way And it's just\na question of how you chose to manage, how\n\n375\n00:17:44.530 --> 00:17:49.440\nyou chose to adjust or rather approach the\nexpectations here of what you want to do.\n\n376\n00:17:49.440 --> 00:17:52.540\nSo now that we've shown you everything\nlet's just take a look at decommissioning.\n\n377\n00:17:52.540 --> 00:17:55.575\nLet's actually go push the button\ncause this is so exciting, right?\n\n378\n00:17:55.575 --> 00:17:56.570\nYou want to come push the button.\n\n379\n00:17:56.570 --> 00:17:59.155\n&gt;&gt; I'm envisioning yeah\nlike a big red warning\n\n380\n00:17:59.155 --> 00:18:01.965\nsign that I have to get\na nuclear launch code.\n\n381\n00:18:01.965 --> 00:18:05.875\n&gt;&gt; But that way incase it blows up\nI'm not going to be in harm's way.\n\n382\n00:18:05.875 --> 00:18:07.795\nI'm going to stand over\nhere in the safety zone.\n\n383\n00:18:07.795 --> 00:18:09.085\n&gt;&gt; You've got your helmet on.\n\n384\n00:18:09.085 --> 00:18:10.465\n&gt;&gt; I'm going to go back\nhere near the elevator, so\n\n385\n00:18:10.465 --> 00:18:12.740\nI can get out of here incase\nsomething bad happens.\n\n386\n00:18:12.740 --> 00:18:13.820\nNow you're gonna push the button.\n\n387\n00:18:13.820 --> 00:18:16.600\nI'm gonna [INAUDIBLE]\n&gt;&gt; Do I have to countdown for this Adam?\n\n388\n00:18:16.600 --> 00:18:17.650\n&gt;&gt; Do I have to countdown?\n\n389\n00:18:17.650 --> 00:18:19.042\n&gt;&gt; I would duck if I was you.\n\n390\n00:18:19.042 --> 00:18:20.680\n&gt;&gt; [LAUGH] All right.\n&gt;&gt; Suppose you could commission it.\n\n391\n00:18:20.680 --> 00:18:22.360\nLet me see what happens.\n\n392\n00:18:22.360 --> 00:18:23.425\n&gt;&gt; Three, two, one.\n\n393\n00:18:23.425 --> 00:18:26.375\n&gt;&gt; All right so we get\n&gt;&gt; Get a warning, right, so you can see,\n\n394\n00:18:26.375 --> 00:18:28.755\njust tell the nice people out\nthere what the warning says.\n\n395\n00:18:28.755 --> 00:18:32.895\n&gt;&gt; I need to install and configure ADRMS,\nmight reinstall my cluster.\n\n396\n00:18:32.895 --> 00:18:36.160\n&gt;&gt; So it says if you decommission, right,\nif you decommission, is what it says.\n\n397\n00:18:36.160 --> 00:18:38.025\n&gt;&gt; Mm-hm.\n&gt;&gt; You will need to install and\n\n398\n00:18:38.025 --> 00:18:40.565\nconfigure the ADRMS cluster again\nlike we said, right, right?\n\n399\n00:18:40.565 --> 00:18:43.495\nIn other words, no going back,\nwhen we do this we are done, right, and\n\n400\n00:18:43.495 --> 00:18:44.345\nthat's what we said.\n\n401\n00:18:44.345 --> 00:18:45.435\nSo are you sure you wanna do this?\n\n402\n00:18:45.435 --> 00:18:46.075\nNo no stay here.\n\n403\n00:18:46.075 --> 00:18:46.675\n&gt;&gt; I dunno, are we sure?\n\n404\n00:18:46.675 --> 00:18:47.615\n&gt;&gt; Absolutely, of course you're sure.\n\n405\n00:18:47.615 --> 00:18:49.700\nAll right so click Yes All right?\n\n406\n00:18:49.700 --> 00:18:51.880\nSo, I may have to click,\n&gt;&gt; Yes, again.\n\n407\n00:18:51.880 --> 00:18:52.620\nWait, here.\n\n408\n00:18:52.620 --> 00:18:54.300\nUse the mouse because that touch pad.\n\n409\n00:18:54.300 --> 00:18:56.640\n&gt;&gt; And then just click the security\nalert for warning signs.\n\n410\n00:18:56.640 --> 00:18:58.056\nYeah use the [INAUDIBLE]\n&gt;&gt; Okay,\n\n411\n00:18:58.056 --> 00:19:00.140\nyeah, do we wanna look at the certificate?\n\n412\n00:19:00.140 --> 00:19:01.220\nWe know it exists, so, okay.\n\n413\n00:19:01.220 --> 00:19:03.160\n&gt;&gt; No, we just wanna [INAUDIBLE]\n&gt;&gt; All right.\n\n414\n00:19:03.160 --> 00:19:06.300\nSo now look at the fact that\ndecommission notification, right.\n\n415\n00:19:06.300 --> 00:19:08.630\nADRMS cluster has been decommissioned.\n\n416\n00:19:08.630 --> 00:19:10.340\n&gt;&gt; Yep.\n&gt;&gt; Says you must modify the axis\n\n417\n00:19:10.340 --> 00:19:14.020\ncontrol list on the decommissioning web\nserver page, which is what we did already.\n\n418\n00:19:14.020 --> 00:19:15.480\nWe already modified that.\n\n419\n00:19:15.480 --> 00:19:17.720\nAnd I asked to allow\naccess to all you users,\n\n420\n00:19:17.720 --> 00:19:22.120\nmeaning we granted access to everybody,\nbut that modification, that follow we did,\n\n421\n00:19:22.120 --> 00:19:26.560\nthe everyone read and execute allows them\nto now come in and get their content.\n\n422\n00:19:26.560 --> 00:19:29.990\nSo we've done that already we must also\nreconfigure any applications to meet\n\n423\n00:19:29.990 --> 00:19:34.380\nthe license request to the commissioning\nweb source page, pull down the license and\n\n424\n00:19:34.380 --> 00:19:36.000\nallow them to be able to be granted.\n\n425\n00:19:36.000 --> 00:19:38.795\nAccess with the grant all\nusers full access to.\n\n426\n00:19:38.795 --> 00:19:40.035\nTo the protected content.\n\n427\n00:19:40.035 --> 00:19:43.175\nSo it is not that we are not going\nto let users get this content, but\n\n428\n00:19:43.175 --> 00:19:45.935\nthere is a process that we go\nwith through decommissioning,\n\n429\n00:19:45.935 --> 00:19:50.965\nin order to ensure that is going\nto happen, so we just want to make\n\n430\n00:19:50.965 --> 00:19:55.360\nsure That we're clear on how we're doing\nthis and why, follow the steps, right?\n\n431\n00:19:55.360 --> 00:19:56.660\nVery important., And notice,\n\n432\n00:19:56.660 --> 00:19:59.660\nthere's nothing available in\nthe cluster any more, it's gone.\n\n433\n00:19:59.660 --> 00:20:04.190\nIt's all gone, so we do want to\nunderstand, that there is a method and\n\n434\n00:20:04.190 --> 00:20:07.700\na methodology and we do need to follow\nthe guidance of the methodology.\n\n435\n00:20:07.700 --> 00:20:10.100\nYou could edit that file,\nthe decommissioning.\n\n436\n00:20:10.100 --> 00:20:12.940\nWeb service pages I said\nyou commission .asmx.\n\n437\n00:20:12.940 --> 00:20:15.040\nYou can edit that before\nthe decommission process,\n\n438\n00:20:15.040 --> 00:20:18.320\nlike I did, you could edit it afterward,\nthat's up to you, it doesn't matter.\n\n439\n00:20:18.320 --> 00:20:20.500\nBut just knowing we have to\nadd the everyone group, and\n\n440\n00:20:20.500 --> 00:20:23.680\ngive them read and execute on that page so\nthey can get in there,\n\n441\n00:20:23.680 --> 00:20:27.140\nhave their licensing request\ngranted Content opened back up.\n\n442\n00:20:27.140 --> 00:20:29.692\nOpened back up and granted full\naccess to it, is the critical piece,\n\n443\n00:20:29.692 --> 00:20:32.557\nand that's what we were talking about,\nI just want to make sure you see that.\n\n444\n00:20:32.557 --> 00:20:34.122\n&gt;&gt; Always have a plan B, right?\n\n445\n00:20:34.122 --> 00:20:36.909\n&gt;&gt; Yes, yes.\n\n446\n00:20:36.909 --> 00:20:38.293\nAlways have plan B, absolutely.\n\n447\n00:20:38.293 --> 00:20:39.389\nAll right.\n\n448\n00:20:39.389 --> 00:20:40.901\nSo we made it through this episode.\n\n449\n00:20:40.901 --> 00:20:43.414\nWe didn't have to hide in bunker downs,\nat least I didn't.\n\n450\n00:20:43.414 --> 00:20:46.245\n&gt;&gt; I was in the elevator.\n\n451\n00:20:46.245 --> 00:20:48.754\n&gt;&gt; [LAUGH]\n&gt;&gt; One of us has to survive,\n\n452\n00:20:48.754 --> 00:20:51.182\njust to close the show,\nin case something goes horribly wrong.\n\n453\n00:20:51.182 --> 00:20:52.624\n&gt;&gt; I guess this is true.\n\n454\n00:20:52.624 --> 00:20:53.437\nAll right.\n\n455\n00:20:53.437 --> 00:20:55.898\nThank you so much for being with us but\nfor this show we are out of time so\n\n456\n00:20:55.898 --> 00:20:58.372\nwe will go ahead and sign out,\nI've been your hosts Cherokee Booth.\n\n457\n00:20:58.372 --> 00:21:00.270\n&gt;&gt; I'm Adam Gordon.\n\n458\n00:21:00.270 --> 00:21:02.542\nTake care everybody.\n\n459\n00:21:02.542 --> 00:21:08.441\n[MUSIC]\n\n460\n00:21:08.441 --> 00:21:11.619\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233504196"
        }
      ],
      "title": "Implementing AD RMS"
    },
    {
      "episodes": [
        {
          "description": "Adam and Mike discuss what federation is, what claims-based identity and claims-based authentication are, what the building blocks of AD FS are, and what some of the situations where AD FS should be deployed are.",
          "length": "2042",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-1-implementing-ad-fs-101617.00_33_49_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-1-implementing-ad-fs-101617.00_33_49_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-1-implementing-ad-fs-101617.00_33_49_01.Still001-sm.jpg",
          "title": "Implementing AD FS",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.325\nWelcome to ITProTV.\n\n2\n00:00:01.325 --> 00:00:02.636\nI'm your host, Don Pezet.\n\n3\n00:00:02.636 --> 00:00:08.311\n[SOUND]\n\n4\n00:00:08.311 --> 00:00:12.410\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:12.410 --> 00:00:15.866\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n6\n00:00:15.866 --> 00:00:20.498\nI'm your host, Mike Rodrick, and\ntoday we're covering our Windows Server\n\n7\n00:00:20.498 --> 00:00:24.460\n2012 R2 in preparation for\nthat 70-412 exam.\n\n8\n00:00:24.460 --> 00:00:26.020\nAnd specifically, in this episode,\n\n9\n00:00:26.020 --> 00:00:30.410\nwe're gonna be implementing\nActive Directory Federation Services.\n\n10\n00:00:30.410 --> 00:00:33.920\nAnd here to guide us through the process\nand show us the way is Mr. Adam Gordon.\n\n11\n00:00:33.920 --> 00:00:34.930\nWelcome back, Adam.\n\n12\n00:00:34.930 --> 00:00:35.630\n&gt;&gt; Thank you very much.\n\n13\n00:00:35.630 --> 00:00:39.069\nAlways glad to be here spending\ntime with you, and with you, and\n\n14\n00:00:39.069 --> 00:00:41.501\nwith whoever's out there, and everybody.\n\n15\n00:00:41.501 --> 00:00:43.375\n&gt;&gt; Everybody.\n&gt;&gt; Always, always a good time,\n\n16\n00:00:43.375 --> 00:00:43.980\nit's always a good time.\n\n17\n00:00:43.980 --> 00:00:47.180\nSo we're gonna talk about AD FS,\nlike Mike suggested.\n\n18\n00:00:47.180 --> 00:00:50.290\nBut as we always do, we're gonna\nstart by defining AD FS, maybe.\n\n19\n00:00:50.290 --> 00:00:53.090\nTalk a little bit about what it is,\nwhy it's important.\n\n20\n00:00:53.090 --> 00:00:57.580\nAnd we gotta bring in the conversation\naround AD FS that helps us to define\n\n21\n00:00:57.580 --> 00:01:01.510\nnot just what AD FS is,\nthe component parts, but also\n\n22\n00:01:01.510 --> 00:01:06.200\nmaybe differentiate a little bit between\nfederated trusts and forest trusts.\n\n23\n00:01:06.200 --> 00:01:08.900\n&gt;&gt; Yes.\n&gt;&gt; People often confuse those two.\n\n24\n00:01:08.900 --> 00:01:11.789\nAnd talk a bit about claims\nbased authentication.\n\n25\n00:01:11.789 --> 00:01:13.380\n&gt;&gt; Fun times there.\n\n26\n00:01:13.380 --> 00:01:13.890\n&gt;&gt; All right?\n\n27\n00:01:13.890 --> 00:01:15.184\n&gt;&gt; All right, well,\nI'll get us rolling now.\n\n28\n00:01:15.184 --> 00:01:15.730\n&gt;&gt; All right.\n\n29\n00:01:15.730 --> 00:01:19.060\n&gt;&gt; Let's start with,\nwhat the heck is AD FS?\n\n30\n00:01:19.060 --> 00:01:20.515\n&gt;&gt; What the heck is AD FS?\n\n31\n00:01:20.515 --> 00:01:21.100\n&gt;&gt; [LAUGH]\n&gt;&gt; That's a great question.\n\n32\n00:01:21.100 --> 00:01:23.400\n&gt;&gt; Let's define the acronyms,\nbecause we did use acronyms and\n\n33\n00:01:23.400 --> 00:01:24.520\nwe haven't defined them.\n\n34\n00:01:24.520 --> 00:01:25.790\n&gt;&gt; We have and we have not.\n\n35\n00:01:25.790 --> 00:01:27.070\nSo that will be important.\n\n36\n00:01:27.070 --> 00:01:29.890\nSo Active Directory Federation Services,\nright, and so\n\n37\n00:01:29.890 --> 00:01:33.560\nthe idea behind, and\nlet's actually step back even one level.\n\n38\n00:01:33.560 --> 00:01:38.010\nCuz Microsoft takes something\nlike federation as a concept,\n\n39\n00:01:38.010 --> 00:01:42.750\nbrands it, personalizes it, if you will,\nkind of turns it into a service or\n\n40\n00:01:42.750 --> 00:01:44.980\na role, depending on what we're\ntalking about or a feature.\n\n41\n00:01:44.980 --> 00:01:47.040\nAnd it deploys it so we can use it.\n\n42\n00:01:47.040 --> 00:01:51.080\nBut they take, in this case,\na concept that is not unique to Microsoft,\n\n43\n00:01:51.080 --> 00:01:54.580\nthe concept of federation,\nfederated identity, and\n\n44\n00:01:54.580 --> 00:01:59.280\nfederated trusts, and implement them for\nthe betterment, of course,\n\n45\n00:01:59.280 --> 00:02:02.320\nof our ability to be able\nto manage this technology.\n\n46\n00:02:02.320 --> 00:02:06.800\nBut has taken, and as they have in many\nrespects with many other technologies.\n\n47\n00:02:06.800 --> 00:02:08.315\nDNS is a good example,\nPHP's a good example.\n\n48\n00:02:08.315 --> 00:02:10.410\n&gt;&gt; SQL.\n\n49\n00:02:10.410 --> 00:02:16.830\n&gt;&gt; Generically, SQL, industry standard or\nnon-vendor specific technologies.\n\n50\n00:02:16.830 --> 00:02:20.570\nAnd as many vendors do, have given them\ntheir own flavor to implement that, right?\n\n51\n00:02:20.570 --> 00:02:24.440\nSo let's maybe start by talking about,\nyes, what AD FS is.\n\n52\n00:02:24.440 --> 00:02:27.360\nBut let's broaden that by first\ntalking about what federation is.\n\n53\n00:02:27.360 --> 00:02:30.980\nRight, because federation's really\nthe beginning point for our discussion.\n\n54\n00:02:30.980 --> 00:02:32.480\nAnd the ID of federation,\n\n55\n00:02:32.480 --> 00:02:36.500\nor what we call federated identity, is\nthe idea of being able to be extend trust.\n\n56\n00:02:36.500 --> 00:02:38.910\nWe talk a lot about trust,\n\n57\n00:02:38.910 --> 00:02:43.920\nboth in the conversation we can have\naround AD FS in these episodes.\n\n58\n00:02:43.920 --> 00:02:47.520\nBut more broadly we've talked about it\nwith regards to certificate services and\n\n59\n00:02:47.520 --> 00:02:51.600\nhow PKI, public key infrastructure,\nallows us to create and\n\n60\n00:02:51.600 --> 00:02:55.840\nthen extend trust and\nthe use of trust through certificates.\n\n61\n00:02:55.840 --> 00:02:56.970\nWe've talked about it.\n\n62\n00:02:56.970 --> 00:03:00.960\nWe've talked about the trust architecture\nin Active Directory Services in general\n\n63\n00:03:00.960 --> 00:03:04.670\nwith the AD DS,\nthe Active Directory Domain Services.\n\n64\n00:03:04.670 --> 00:03:07.400\nWe've talked about the idea of\ndifferent kinds of trusts and\n\n65\n00:03:07.400 --> 00:03:10.030\nthe ways in which we use\nthose trust relationships.\n\n66\n00:03:10.030 --> 00:03:14.670\nBut again, a lot of that is specific to\nMicrosoft, in terms of the architecture.\n\n67\n00:03:14.670 --> 00:03:19.150\nGenerically, though,\nthe idea of trust is that we as,\n\n68\n00:03:19.150 --> 00:03:23.600\nlet's call ourselves a relying party and\na trusting party,\n\n69\n00:03:23.600 --> 00:03:26.750\nthe two vocabulary terms we have\nto really understand and master.\n\n70\n00:03:26.750 --> 00:03:29.440\nAnd by the way,\nI'm gonna show you a list in just a minute\n\n71\n00:03:29.440 --> 00:03:30.550\nof these vocabulary terms.\n\n72\n00:03:30.550 --> 00:03:33.190\nWe'll walk through the definitions\na little more formally.\n\n73\n00:03:33.190 --> 00:03:34.440\nGot them all written down for you.\n\n74\n00:03:34.440 --> 00:03:37.390\nGive you a chance to be able to download\nthose through the show notes if you'd like\n\n75\n00:03:37.390 --> 00:03:39.220\nand have them as a referenceable item.\n\n76\n00:03:39.220 --> 00:03:42.030\nBut also as a study guide,\nbecause they will be important for\n\n77\n00:03:42.030 --> 00:03:43.570\nyou with regards to exam preparation.\n\n78\n00:03:43.570 --> 00:03:46.510\nBut maybe, and I don't know if Mike will,\nI don't know, have to ask, if you will.\n\n79\n00:03:46.510 --> 00:03:48.770\nBut we always wanna ask,\ndon't wanna take things for granted.\n\n80\n00:03:48.770 --> 00:03:50.900\nBut let's take on one role each here.\n\n81\n00:03:50.900 --> 00:03:52.150\nAnd let's kind of walk through the logic.\n\n82\n00:03:52.150 --> 00:03:54.430\nSo we're talking about the federation.\n\n83\n00:03:54.430 --> 00:03:57.950\nWe're talking about the extension of\ntrust and the definition of trust.\n\n84\n00:03:57.950 --> 00:04:01.990\nAnd I use terms relying party and\nthe trusting party, right?\n\n85\n00:04:01.990 --> 00:04:06.690\nSo let's think about when you\nare the relying party, right?\n\n86\n00:04:06.690 --> 00:04:11.040\nYou are going to be the party\nthat has the application, or\n\n87\n00:04:11.040 --> 00:04:14.600\nyou're going to be the party that has\nthe user that wants to make a claim.\n\n88\n00:04:14.600 --> 00:04:17.490\nSo let's think about the idea\nof which one we are first, and\n\n89\n00:04:17.490 --> 00:04:22.150\nlet's define, not just what we are,\nbut let's think about the concept of\n\n90\n00:04:23.520 --> 00:04:27.830\nthe relying party as being\nwhere the application\n\n91\n00:04:27.830 --> 00:04:32.010\nthat we wanna be able to use in this\nrelationship is gonna reside, right?\n\n92\n00:04:32.010 --> 00:04:39.070\nAnd the relying party has to then send\ninformation, right, about the application,\n\n93\n00:04:39.070 --> 00:04:44.870\nor provide that information, and\nconsume what we call a claim.\n\n94\n00:04:44.870 --> 00:04:49.850\nAnd the claim is gonna be what a user in\nthe claim provider side, in the trust\n\n95\n00:04:49.850 --> 00:04:54.120\nrelationship on the other side, provides\nto authenticate and prove their identity.\n\n96\n00:04:54.120 --> 00:04:56.640\nSo when we think about federation,\nwe're thinking about\n\n97\n00:04:56.640 --> 00:05:01.110\nthe idea of being able to extend this\ntrust between different systems.\n\n98\n00:05:01.110 --> 00:05:06.190\nBut a user has provide some form of\nidentity and a relying party that\n\n99\n00:05:06.190 --> 00:05:11.513\nrelies on the ability to provide that and\nvalidate that has to consume it, right?\n\n100\n00:05:11.513 --> 00:05:14.320\nAnd so\nwe have to think about how extend trust,\n\n101\n00:05:14.320 --> 00:05:17.290\nwhat trust is, and why trust is important.\n\n102\n00:05:17.290 --> 00:05:21.120\nWithout the ability to understand and\nvalue trust and\n\n103\n00:05:21.120 --> 00:05:24.540\nultimately to validate trust,\nI can't say to Mike, hey,\n\n104\n00:05:24.540 --> 00:05:29.680\nMike, can I use an application or\ncan I use a resource in your area?\n\n105\n00:05:29.680 --> 00:05:33.190\nLet's just pretend Mike is\nover there in a separate area,\n\n106\n00:05:33.190 --> 00:05:37.777\nlet's call that area a trusting,\nor a trusted domain name space.\n\n107\n00:05:37.777 --> 00:05:42.012\nWe tend to refer to them as forest-served\ndomains in Windows, but generically let's\n\n108\n00:05:42.012 --> 00:05:45.677\njust say in a separate area for me,\nwhatever that boundary may represent.\n\n109\n00:05:45.677 --> 00:05:50.055\nAnd Mike has to decide whether or\nnot he wants to trust me, let me in and\n\n110\n00:05:50.055 --> 00:05:53.400\ngive me access to,\nI don't know, maybe a printer.\n\n111\n00:05:53.400 --> 00:05:56.180\nOr may be a file, something like that,\nor whatever it would be.\n\n112\n00:05:56.180 --> 00:06:00.730\nAnd if we reverse that discussion, Mike\ncan say to me, hey, Adam, I want access to\n\n113\n00:06:00.730 --> 00:06:05.470\nsomething in your area, in your name\nspace, in your domain or forest.\n\n114\n00:06:05.470 --> 00:06:06.967\nWill you trust me, right?\n\n115\n00:06:06.967 --> 00:06:10.902\nAnd this idea of being able to extend\ntrust is really what we form the basis\n\n116\n00:06:10.902 --> 00:06:15.110\nof modern identity management and\nmodern directory service management on.\n\n117\n00:06:15.110 --> 00:06:18.660\nBecause without trust, we have no\nway of knowing whether myself, or\n\n118\n00:06:18.660 --> 00:06:22.610\nMike, if we look at either side of\nthe discussion, can validate who we are.\n\n119\n00:06:22.610 --> 00:06:27.040\nCan identify ourselves authoritatively and\ncan be trusted, right?\n\n120\n00:06:27.040 --> 00:06:30.340\nWe can just say we're somebody,\nbut we don't really know for sure.\n\n121\n00:06:30.340 --> 00:06:34.160\nAnd the problem is unless we can validate\nthat, we talked about the value of digital\n\n122\n00:06:34.160 --> 00:06:37.530\ncertificates helping us to identify and\nvalidate identity, right?\n\n123\n00:06:37.530 --> 00:06:41.600\nOr to validate identity,\nI should say, identify identity, but\n\n124\n00:06:41.600 --> 00:06:43.150\nto validate your identity.\n\n125\n00:06:43.150 --> 00:06:47.240\nWe've talked about single and dual and\nmultifactor authentication solutions,\n\n126\n00:06:47.240 --> 00:06:50.570\nright, where we have a username and\na password and maybe a PIN.\n\n127\n00:06:50.570 --> 00:06:53.171\nOr a username and a password and\na certificate or something like that.\n\n128\n00:06:53.171 --> 00:06:57.624\nAnd building the infrastructure out in\nother episodes in other topics to support\n\n129\n00:06:57.624 --> 00:06:58.490\nall this.\n\n130\n00:06:58.490 --> 00:07:01.030\nWe're just reminding ourselves,\nright, as we begin this conversation,\n\n131\n00:07:01.030 --> 00:07:02.450\nabout some of those things.\n\n132\n00:07:02.450 --> 00:07:07.450\nBut when we think about trust, we think\nabout this ability to literally say\n\n133\n00:07:07.450 --> 00:07:10.820\nto each other like two sides of\nthe relationship, hey, this is who I am.\n\n134\n00:07:10.820 --> 00:07:14.180\nThis is what I'd like, and\nI'd like to be able to do this or this.\n\n135\n00:07:14.180 --> 00:07:16.580\nAnd the other party is saying,\nokay, let me figure whether or\n\n136\n00:07:16.580 --> 00:07:20.250\nnot I wanna allow you to do that based\non who you are, and how you present.\n\n137\n00:07:20.250 --> 00:07:21.520\nOr what you are, and\n\n138\n00:07:21.520 --> 00:07:24.800\nwhat you present in order to validate\nthat in what we call a claim.\n\n139\n00:07:24.800 --> 00:07:27.530\nOr your assertion that you should\nbe given certain rights, or\n\n140\n00:07:27.530 --> 00:07:29.660\nallowed to do certain things.\n\n141\n00:07:29.660 --> 00:07:33.740\nSo when we start to think about federation\nand identity federation, we're thinking\n\n142\n00:07:33.740 --> 00:07:39.090\nabout how individual parties are able\nto provide information to each other.\n\n143\n00:07:39.090 --> 00:07:44.320\nAnd validate that information in a way\nthat allows us to be trustworthy and\n\n144\n00:07:44.320 --> 00:07:47.370\nalso to be trusted to\nthe extent that we can, right?\n\n145\n00:07:47.370 --> 00:07:49.539\nNothing is guaranteed 100%, of course.\n\n146\n00:07:49.539 --> 00:07:50.560\nWe know that.\n\n147\n00:07:50.560 --> 00:07:53.954\nWhen we provide authentication\nservices through federation,\n\n148\n00:07:53.954 --> 00:07:55.975\nwe're making certain assumptions.\n\n149\n00:07:55.975 --> 00:07:58.274\nUser accounts have not been\ncompromised by a bad actor.\n\n150\n00:07:58.274 --> 00:08:02.217\nCertificates have not been spoofed or\nsomehow issued fraudulently,\n\n151\n00:08:02.217 --> 00:08:04.832\nor are being compromised in some way,\nright?\n\n152\n00:08:04.832 --> 00:08:06.569\nThose kinds of things are not happening.\n\n153\n00:08:06.569 --> 00:08:10.620\nThey may happen, but we're assuming\nthey're not happening when we're extending\n\n154\n00:08:10.620 --> 00:08:12.456\ntrust and validating user identity.\n\n155\n00:08:12.456 --> 00:08:14.529\nIf they are happening,\nhopefully we'll figure it out.\n\n156\n00:08:14.529 --> 00:08:16.514\nAnd if they are, hopefully we catch that.\n\n157\n00:08:16.514 --> 00:08:19.444\nBut to establish a federation\npartnership where we call it\n\n158\n00:08:19.444 --> 00:08:22.087\nidentity federation partnership,\nboth parties.\n\n159\n00:08:22.087 --> 00:08:26.321\nMike and I, let's say in our example,\nhave to agree to the terms of this\n\n160\n00:08:26.321 --> 00:08:30.925\nrelationship, right, and we call that\nthe federated trust relationship.\n\n161\n00:08:30.925 --> 00:08:33.475\nWe have to establish that and\nunderstand the parameters and\n\n162\n00:08:33.475 --> 00:08:35.617\nboundaries of that in order\nto be able to operate.\n\n163\n00:08:35.617 --> 00:08:39.879\nAnd what the AD FS provides for\nus ultimately is the structure that\n\n164\n00:08:39.879 --> 00:08:43.767\nlets us agree to the terms that\nwill let us trust each other.\n\n165\n00:08:43.767 --> 00:08:46.806\nAnd to set up the architecture,\nand the services, and\n\n166\n00:08:46.806 --> 00:08:50.123\nthe infrastructure that will\nsupport that whole process.\n\n167\n00:08:50.123 --> 00:08:53.751\nWe're gonna walk through how to set all\nthat up over the next several episodes,\n\n168\n00:08:53.751 --> 00:08:56.037\nboth talking about it and\nactually setting it up.\n\n169\n00:08:56.037 --> 00:08:58.360\nWe'll set up relying party trust.\n\n170\n00:08:58.360 --> 00:08:59.847\nWe'll set up claim provider trust.\n\n171\n00:08:59.847 --> 00:09:02.462\nWe'll go through and\nimplement AD FS start to finish and\n\n172\n00:09:02.462 --> 00:09:04.362\nreally take a look at how all of it looks.\n\n173\n00:09:04.362 --> 00:09:07.977\nBut we have to begin by really\nunderstanding just the general thought\n\n174\n00:09:07.977 --> 00:09:08.984\nprocess of trust.\n\n175\n00:09:08.984 --> 00:09:11.814\nI also mentioned that one of\nthe things we probably wanna define or\n\n176\n00:09:11.814 --> 00:09:15.363\nat least think about defining and talking\nabout for just a minute is the underlying\n\n177\n00:09:15.363 --> 00:09:18.313\ndifference between a federation trust and\na forest trust, right?\n\n178\n00:09:18.313 --> 00:09:21.578\nBecause a lot of times\npeople hear the word trust,\n\n179\n00:09:21.578 --> 00:09:23.957\nthey often jump to conclusions.\n\n180\n00:09:23.957 --> 00:09:27.463\nThat means like I was suggesting, Mike and\nI will exchange some sort of information.\n\n181\n00:09:27.463 --> 00:09:29.786\nAnd you'll allow each other's users or\n\n182\n00:09:29.786 --> 00:09:34.645\nobjects of some kind to be interacted with\nunder strict and controlled conditions.\n\n183\n00:09:34.645 --> 00:09:37.250\nAnd generically it's\nan absolutely correct statement.\n\n184\n00:09:37.250 --> 00:09:40.713\nBut a forest trust differs\nfrom a federation trust.\n\n185\n00:09:40.713 --> 00:09:42.204\nThey are not the same.\n\n186\n00:09:42.204 --> 00:09:44.593\nAnd oftentimes people confuse the two,\nright?\n\n187\n00:09:44.593 --> 00:09:48.437\nSo in your mind, what would be the most\nimportant characteristic, Mike,\n\n188\n00:09:48.437 --> 00:09:49.419\nof a forest trust?\n\n189\n00:09:49.419 --> 00:09:52.801\nIf we had to define it, what's probably\nthe single thing that we wanna point to or\n\n190\n00:09:52.801 --> 00:09:53.414\nthink about?\n\n191\n00:09:53.414 --> 00:09:56.766\n&gt;&gt; Well, one has gotta be between\ntwo Active Directory forests, right?\n\n192\n00:09:56.766 --> 00:09:57.454\nSo, [CROSSTALK]\n&gt;&gt; Two forests, absolutely.\n\n193\n00:09:57.454 --> 00:10:02.231\n&gt;&gt; And you can set it up a couple\ndifferent ways where's there's just\n\n194\n00:10:02.231 --> 00:10:05.569\nopen forest trust or\nselective forest trust.\n\n195\n00:10:05.569 --> 00:10:10.203\nBut it's not really dealing with\nweb applications directly, right?\n\n196\n00:10:10.203 --> 00:10:13.680\n&gt;&gt; It is not, and also probably a really\nimportant distinction is that with\n\n197\n00:10:13.680 --> 00:10:17.960\nthe federation trust, building on what you\njust said, all communication takes place.\n\n198\n00:10:17.960 --> 00:10:21.548\nWe're really talking about web\nservices exchanging information, and\n\n199\n00:10:21.548 --> 00:10:23.556\nspecifically takes place using HTTPS.\n\n200\n00:10:23.556 --> 00:10:27.794\nWhereas a forest trust is not relying on\nHTTPS to be able to transmit information\n\n201\n00:10:27.794 --> 00:10:28.691\nback and forth.\n\n202\n00:10:28.691 --> 00:10:32.435\nSo it is an important distinction and one\nthat we wanna make sure we're aware of.\n\n203\n00:10:32.435 --> 00:10:36.757\nTo organizations, the two AD FS\norganizations that are communicating,\n\n204\n00:10:36.757 --> 00:10:39.347\nalso never communicate directly, right?\n\n205\n00:10:39.347 --> 00:10:42.492\nIn the sense that they\ndon't talk directly,\n\n206\n00:10:42.492 --> 00:10:47.062\nthis trust is established to allow\ncommunication to take place.\n\n207\n00:10:47.062 --> 00:10:50.807\nBut they're not interacting directly\nwhereas with a forest trust the forests\n\n208\n00:10:50.807 --> 00:10:53.714\nare able to exchange information and\ndo interact directly.\n\n209\n00:10:53.714 --> 00:10:56.057\nSo it is just important to think about.\n\n210\n00:10:56.057 --> 00:11:00.128\nBut the ability to be able to rely\non HTTPS for the federated trust and\n\n211\n00:11:00.128 --> 00:11:03.559\nthe management of the firewall\nto open only port 443,\n\n212\n00:11:03.559 --> 00:11:07.570\nwhen most likely unless you're\nremapping HTTPS for some reason.\n\n213\n00:11:07.570 --> 00:11:10.908\nBut assuming you're using port 443,\nit's nice cuz we only have to open and\n\n214\n00:11:10.908 --> 00:11:12.692\nconfigure that one port in the firewall.\n\n215\n00:11:12.692 --> 00:11:16.947\nIt's often open by default anyway, so\nit's usually a very simple configuration.\n\n216\n00:11:16.947 --> 00:11:19.374\nBut even if we have to open it up,\nnot very difficult to do, but\n\n217\n00:11:19.374 --> 00:11:22.162\nwe're not worried about opening\na bunch of different ports, right?\n\n218\n00:11:22.162 --> 00:11:25.845\nSo we don't have to worry about punching\na bunch of holes in the firewall as well,\n\n219\n00:11:25.845 --> 00:11:26.779\nwhich is also nice.\n\n220\n00:11:26.779 --> 00:11:31.543\nAnd once we bind our certificates to\nour web server, set up our claims based\n\n221\n00:11:31.543 --> 00:11:36.620\napplication or claims aware application\nover the Web, we integrate all that.\n\n222\n00:11:36.620 --> 00:11:40.465\nAll we're doing is using the edit binding\nfeature on the web server to add that\n\n223\n00:11:40.465 --> 00:11:44.036\ncertificate and edit the bindings for\nHTTPS to enable communication.\n\n224\n00:11:44.036 --> 00:11:47.486\nIt's a fairly straightforward installation\nin communication or configuration, rather,\n\n225\n00:11:47.486 --> 00:11:48.149\nin that respect.\n\n226\n00:11:48.149 --> 00:11:52.144\nSo that part's also nice, where so\nfar as trusts may be, not more involved,\n\n227\n00:11:52.144 --> 00:11:54.673\nbut it's just set up in a different way,\nright?\n\n228\n00:11:54.673 --> 00:11:57.498\nWe do have our own wizards for\nboth that run from different areas, and\n\n229\n00:11:57.498 --> 00:12:00.336\nthey require different information\nto be able to configure as well.\n\n230\n00:12:00.336 --> 00:12:03.696\nSo just some things to think about,\njust as we kinda get started.\n\n231\n00:12:03.696 --> 00:12:06.205\nSo why we start by or\nat least think about,\n\n232\n00:12:06.205 --> 00:12:09.084\ntalking about some of the components for\nAD FS.\n\n233\n00:12:09.084 --> 00:12:10.573\nI said, I have a little document.\n\n234\n00:12:10.573 --> 00:12:12.630\nIf you want to join me here,\nwe'll just take a look real quick.\n\n235\n00:12:12.630 --> 00:12:14.527\nWe have a bunch of different things, or\n\n236\n00:12:14.527 --> 00:12:18.330\nmoving parts that we have to think about\nas we start to begin to talk about AD FS.\n\n237\n00:12:18.330 --> 00:12:22.603\nWe have what are known as federation\nservers, we have web application proxies.\n\n238\n00:12:22.603 --> 00:12:26.006\nWe have claims and then we have\nthe relying party, the claim based party.\n\n239\n00:12:26.006 --> 00:12:27.390\nWe have all this different\nstuff to talk about.\n\n240\n00:12:27.390 --> 00:12:31.822\nSo federation server, is just,\nyou can see, just the server that issues,\n\n241\n00:12:31.822 --> 00:12:35.770\nmanages, and deals with all of\nthe organizational information and\n\n242\n00:12:35.770 --> 00:12:38.694\nvalidation around the identity claims,\nright?\n\n243\n00:12:38.694 --> 00:12:42.794\nThe claim that, let's say, I as a user\nmay make to be able to authenticate or\n\n244\n00:12:42.794 --> 00:12:47.153\nvalidate and seek to access maybe that\napplication that Mike's got running over\n\n245\n00:12:47.153 --> 00:12:49.354\nthere in his system somewhere, right?\n\n246\n00:12:49.354 --> 00:12:51.888\nAD FS when we implement\nit has to be built out.\n\n247\n00:12:51.888 --> 00:12:56.116\nAnd by implementing ADFS we have to have\nat least one federation service that\n\n248\n00:12:56.116 --> 00:12:59.234\nwill be set up to manage each\nside of this relationship.\n\n249\n00:12:59.234 --> 00:13:02.014\nWe'll be taking a look, although I don't\nknow that we'll get into it right now\n\n250\n00:13:02.014 --> 00:13:03.731\nbecause I want to talk\nabout definitions first.\n\n251\n00:13:03.731 --> 00:13:08.553\nBut once we go in here,\non my demo environment,\n\n252\n00:13:08.553 --> 00:13:14.109\nI've already begun the process\nof configuring AD FS.\n\n253\n00:13:14.109 --> 00:13:17.800\nSo I've gone in, so let me just get\nover here and get to the right item.\n\n254\n00:13:17.800 --> 00:13:20.273\nGot those stacked up task bars.\n\n255\n00:13:20.273 --> 00:13:25.772\nAnd so I've gone in, and I've begun\nto go ahead and set up the AD FS.\n\n256\n00:13:25.772 --> 00:13:28.473\nLet me just highlight here so you can see.\n\n257\n00:13:28.473 --> 00:13:32.259\nI've installed, as you can see here,\nthe AD FS federation role,\n\n258\n00:13:32.259 --> 00:13:34.229\nincluding the management tools.\n\n259\n00:13:34.229 --> 00:13:37.036\nI've got all that set up, so\nyou see that part's already done.\n\n260\n00:13:37.036 --> 00:13:40.002\nWe're gonna complete the configuration\nbecause this is a fairly extensive wizard\n\n261\n00:13:40.002 --> 00:13:40.903\nwe have to walk through.\n\n262\n00:13:40.903 --> 00:13:43.657\nThis is really just step one\nof about an eight or nine or\n\n263\n00:13:43.657 --> 00:13:45.873\nten step process we're showing you here.\n\n264\n00:13:45.873 --> 00:13:50.049\nI've gone ahead and added the KDS,\nthe Key Distribution Server root key, and\n\n265\n00:13:50.049 --> 00:13:51.071\nI've set that up.\n\n266\n00:13:51.071 --> 00:13:52.246\nI have the GUID for that.\n\n267\n00:13:52.246 --> 00:13:54.163\nWe'll explain that as we get going.\n\n268\n00:13:54.163 --> 00:13:58.275\nBut that long string of alphanumeric\nvalues down there is the GUID that\n\n269\n00:13:58.275 --> 00:14:00.924\nuniquely identifies that\ninstance of copy so\n\n270\n00:14:00.924 --> 00:14:05.256\nthat we actually have referencable\ninformation to use it when we need it.\n\n271\n00:14:05.256 --> 00:14:08.984\nAnd we've teed ourselves up so that in\na little bit we'll be able to go in,\n\n272\n00:14:08.984 --> 00:14:12.796\ngo up here, and we'll be able to then\nconfigure the federation services.\n\n273\n00:14:12.796 --> 00:14:15.815\nAnd begin that walk through with\nthe wizard based on all of the terms that\n\n274\n00:14:15.815 --> 00:14:16.822\nwe're gonna define and\n\n275\n00:14:16.822 --> 00:14:19.360\nkind of just talk through the logic\nof how all this is set up.\n\n276\n00:14:19.360 --> 00:14:22.768\nBut you'll see I've got certificate\nservices installed here.\n\n277\n00:14:22.768 --> 00:14:24.627\nJust highlight that so you can see this.\n\n278\n00:14:24.627 --> 00:14:27.482\nWe need a PKI infrastructure to\nbe able to work with this so\n\n279\n00:14:27.482 --> 00:14:29.268\nwe have our certificate services.\n\n280\n00:14:29.268 --> 00:14:31.383\nWe have our Active Directory services.\n\n281\n00:14:31.383 --> 00:14:35.834\nFederation services have been started to\nbe installed but are not configured yet.\n\n282\n00:14:35.834 --> 00:14:36.622\nWe have DNS,\n\n283\n00:14:36.622 --> 00:14:41.078\nall the standard stuff we would expect\nto see is already built out in here.\n\n284\n00:14:41.078 --> 00:14:44.018\nAnd we've got quite a bit of work\nstill left to do in order to\n\n285\n00:14:44.018 --> 00:14:45.704\nbe able to stand this product up.\n\n286\n00:14:45.704 --> 00:14:48.291\nSo we have our federation servers.\n\n287\n00:14:48.291 --> 00:14:51.170\nWe have our web application proxy.\n\n288\n00:14:51.170 --> 00:14:54.286\nThis is optional as you can see,\nbut if we are gonna use it,\n\n289\n00:14:54.286 --> 00:14:56.650\nthis does get put into\na perimeter network.\n\n290\n00:14:56.650 --> 00:15:01.006\nThink about a DMZ the traditional way we\nthink about defining perimeter networks.\n\n291\n00:15:01.006 --> 00:15:04.562\nIt is not specific to the AD FS\ndeployment of the sensitive,\n\n292\n00:15:04.562 --> 00:15:08.417\nadds functionality as I point out\nthere to the AD FS deployment.\n\n293\n00:15:08.417 --> 00:15:11.955\nBut rather it's really from\na security standpoint layering in\n\n294\n00:15:11.955 --> 00:15:13.558\nadditional capabilities,\n\n295\n00:15:13.558 --> 00:15:17.841\ncuz any kind of proxy is essentially\na stand-off system that NATS, right?\n\n296\n00:15:17.841 --> 00:15:19.856\nIt does address translation.\n\n297\n00:15:19.856 --> 00:15:24.062\nIt hides or obfuscates the real intention\nof that machine, the real name,\n\n298\n00:15:24.062 --> 00:15:27.600\nthe real IP address from the outside\nworld by making it appear as\n\n299\n00:15:27.600 --> 00:15:30.032\nif it may be something different, right.\n\n300\n00:15:30.032 --> 00:15:34.399\nSo we're putting in a gateway device that\nhides the inside from the outside in\n\n301\n00:15:34.399 --> 00:15:35.013\nsome way.\n\n302\n00:15:35.013 --> 00:15:38.671\n&gt;&gt; Yeah, the federation server that you're\ngonna be setting up security-wise is\n\n303\n00:15:38.671 --> 00:15:40.567\nsimilar to a domain controller, right?\n\n304\n00:15:40.567 --> 00:15:44.337\nI mean, it is doing processing claims and\ndoing authentication.\n\n305\n00:15:44.337 --> 00:15:49.618\nAnd exposing it directly to the Internet\ncould pose a little bit of a danger.\n\n306\n00:15:49.618 --> 00:15:50.494\n&gt;&gt; Pose quite a bit actually.\n&gt;&gt; Yeah, so\n\n307\n00:15:50.494 --> 00:15:54.999\nputting that proxy is kinda like that\nInsulating layer between the outside world\n\n308\n00:15:54.999 --> 00:15:56.600\nand our federation server?\n\n309\n00:15:56.600 --> 00:16:01.381\n&gt;&gt; Absolutely, it's one of the key things\nthat, a lot of times people that set up\n\n310\n00:16:01.381 --> 00:16:05.880\nADFS, when they are using it they\nare perhaps using it internally.\n\n311\n00:16:05.880 --> 00:16:09.210\nWhen I say internally I mean\nmaybe a global organization but\n\n312\n00:16:09.210 --> 00:16:13.160\nbehind the firewalls essentially\non a private network if you\n\n313\n00:16:13.160 --> 00:16:15.690\nwill though it may be\na global spanning network.\n\n314\n00:16:15.690 --> 00:16:17.460\nBut an intranet, if you will, right?\n\n315\n00:16:17.460 --> 00:16:20.710\nInternal private network or\ninternal private cloud,\n\n316\n00:16:20.710 --> 00:16:22.350\nas we often talk about today.\n\n317\n00:16:22.350 --> 00:16:25.290\nWhen they're doing it that way,\nthey don't often think about using web\n\n318\n00:16:25.290 --> 00:16:28.200\napplication proxies because they're\nnot really exposing, as you and\n\n319\n00:16:28.200 --> 00:16:30.750\nI were just talking about and\nyou made the great point about.\n\n320\n00:16:30.750 --> 00:16:34.740\nThey're not necessarily exposing\nfederation servers to perhaps\n\n321\n00:16:34.740 --> 00:16:38.850\nremote users outside that are unsecured or\ncoming in in an unsecured way.\n\n322\n00:16:38.850 --> 00:16:42.840\nBut when we are extending this trust\nrelationship out to, let's say business\n\n323\n00:16:42.840 --> 00:16:46.420\npartners perhaps which sometimes we\nwill often do in these environments.\n\n324\n00:16:46.420 --> 00:16:50.400\nAnd maybe we have a supply chain or\nwe have vendor relationships, and we're\n\n325\n00:16:50.400 --> 00:16:54.770\nfederating with vendors bringing them in,\nwhich is a pretty standard business case.\n\n326\n00:16:54.770 --> 00:16:59.180\nWe want to extend the capabilities\nof the federation and as a result,\n\n327\n00:16:59.180 --> 00:17:02.400\nthe claims based of authentication\nit provides to these vendors,\n\n328\n00:17:02.400 --> 00:17:05.430\nget them into a limited\narea of our system.\n\n329\n00:17:05.430 --> 00:17:08.455\nMaybe it's some sort of a web\nbased inventory system,\n\n330\n00:17:08.455 --> 00:17:12.029\nmaybe we're doing just in time ordering,\nwho knows what it is.\n\n331\n00:17:12.029 --> 00:17:15.880\nBut usually those kind of systems\nare often provisioned right this way.\n\n332\n00:17:15.880 --> 00:17:20.282\nWe're doing that, then we would have to\nworry about extending out this capability.\n\n333\n00:17:20.282 --> 00:17:24.627\nAnd even though we may and hopefully\nwe do provide encrypted protocols for\n\n334\n00:17:24.627 --> 00:17:26.310\nthis communication HTTPS,\n\n335\n00:17:26.310 --> 00:17:31.377\neven though hopefully we're perhaps even\nVPN those users in, dumping them inside.\n\n336\n00:17:31.377 --> 00:17:35.954\nThe end point would be hopefully a secure\ntunnel that comes into our network and\n\n337\n00:17:35.954 --> 00:17:40.430\nallows those users to communicate and\nwork with us behind the firewall.\n\n338\n00:17:40.430 --> 00:17:41.300\nThere are reasons and\n\n339\n00:17:41.300 --> 00:17:45.640\nmechanisms that may call for these users\nto communicate from outside, right?\n\n340\n00:17:45.640 --> 00:17:46.780\nAnd so as a result,\n\n341\n00:17:46.780 --> 00:17:50.420\nweb application proxy provides that layer\nof protection like you were suggesting.\n\n342\n00:17:50.420 --> 00:17:53.200\nSo it is optional in the sense\nwe don't always need it.\n\n343\n00:17:53.200 --> 00:17:54.690\nMany cases we may not.\n\n344\n00:17:54.690 --> 00:17:57.230\nBut in those situations I\nwas just describing, and\n\n345\n00:17:57.230 --> 00:18:00.090\nthe way in which Mike called that adding\nin is a great way to summarize in.\n\n346\n00:18:00.090 --> 00:18:01.358\nIt would important for us to consider it.\n\n347\n00:18:01.358 --> 00:18:06.328\nAnd all though it's not required, it may\nbe scenario based decision you make and\n\n348\n00:18:06.328 --> 00:18:09.590\nthen you can see that\nperhaps on an exam question.\n\n349\n00:18:09.590 --> 00:18:12.980\nCertainly, you could see it here in couple\nof different cases I described, right?\n\n350\n00:18:12.980 --> 00:18:16.382\nYou also mention something in your\ndefinition or discussion right now, where\n\n351\n00:18:16.382 --> 00:18:20.104\nyou would talk about, hey those users may\nmake claims we wanna protect those claims.\n\n352\n00:18:20.104 --> 00:18:23.482\nBecause that federation service acting\nvery similar to what domain controller, so\n\n353\n00:18:23.482 --> 00:18:25.111\nit authenticate those claims you said.\n\n354\n00:18:25.111 --> 00:18:25.831\nSo claims and\n\n355\n00:18:25.831 --> 00:18:30.427\nclaim rules which are used to define how\nthe claims process works are defined here.\n\n356\n00:18:30.427 --> 00:18:34.530\nA claim is essentially nothing\nmore than a statement.\n\n357\n00:18:34.530 --> 00:18:37.938\nI show up as a user and\nsay I claim to be, right?\n\n358\n00:18:37.938 --> 00:18:40.829\nI am saying that I am Adam Gordon and\n\n359\n00:18:40.829 --> 00:18:46.216\nI can prove that because I am\nmanaged by this particular person,\n\n360\n00:18:46.216 --> 00:18:50.529\nI have this home office,\nI have this phone number.\n\n361\n00:18:50.529 --> 00:18:55.024\nAnd I have this piece of information that\nI am providing and all of those things,\n\n362\n00:18:55.024 --> 00:18:57.130\neach one of them I just define.\n\n363\n00:18:57.130 --> 00:19:01.820\nThe home office, let's say in Seattle,\nWashington, let's say the phone number\n\n364\n00:19:01.820 --> 00:19:06.160\nwith extension 512, this manager,\nall those are claims, right?\n\n365\n00:19:06.160 --> 00:19:10.150\nAny piece of information that I provide\nthat can be validated though some sort of\n\n366\n00:19:10.150 --> 00:19:15.110\na lookup against a directory service where\nthose claims have been pre-populated or\n\n367\n00:19:15.110 --> 00:19:18.930\nassociated with an object,\nthat object being a user, most likely.\n\n368\n00:19:18.930 --> 00:19:19.979\nAlthough it could be a computer as well.\n\n369\n00:19:19.979 --> 00:19:21.600\nWe can do this either way.\n\n370\n00:19:21.600 --> 00:19:24.030\nBut let's focus on the user just for\nthe moment.\n\n371\n00:19:24.030 --> 00:19:28.432\nAssuming that's the case, the trusted\nentity made by a trusted entity about\n\n372\n00:19:28.432 --> 00:19:31.560\nan object like a user when\nwe're making those claims.\n\n373\n00:19:31.560 --> 00:19:35.241\nWe have to have a place to go look them\nup and to understand what they are.\n\n374\n00:19:35.241 --> 00:19:37.827\nAnd that's what Mike was talking\nabout when he said federation servers\n\n375\n00:19:37.827 --> 00:19:38.611\nare authenticated.\n\n376\n00:19:38.611 --> 00:19:42.162\nThey're validating these claims and\nlooking them up, things like username,\n\n377\n00:19:42.162 --> 00:19:45.260\njob title, you can see a bunch of\ndifferent things that maybe there.\n\n378\n00:19:45.260 --> 00:19:47.290\nAny or all of those things could\nbe considered to be claims.\n\n379\n00:19:47.290 --> 00:19:51.596\nAs a matter of fact, any item that's\nassociated with the object and\n\n380\n00:19:51.596 --> 00:19:53.400\nin the directory service.\n\n381\n00:19:53.400 --> 00:19:55.720\nAny of those fields we essential fill out.\n\n382\n00:19:55.720 --> 00:19:59.450\nThings like manager, things like phone\nnumber, things like your address.\n\n383\n00:19:59.450 --> 00:20:01.860\nAll that kind of stuff can\nall be considered claims.\n\n384\n00:20:01.860 --> 00:20:05.797\nDepending on what we define your email\naddress, it's a matter of what we decide\n\n385\n00:20:05.797 --> 00:20:09.291\nto create rules around, and\nwhat claims we decide to expose, right?\n\n386\n00:20:09.291 --> 00:20:12.502\nAnd you'll see that process, as we go\nthrough the actual walk through in\n\n387\n00:20:12.502 --> 00:20:15.970\nupcoming episodes about how to\nstructure all this and kinda set it up.\n\n388\n00:20:15.970 --> 00:20:19.063\nSo the claim is one or more statements\nthat are made by the entity,\n\n389\n00:20:19.063 --> 00:20:20.750\nthe trust entity, that an object,\n\n390\n00:20:20.750 --> 00:20:23.857\nthe user claims that are validated\nbased on a set of claims rules.\n\n391\n00:20:23.857 --> 00:20:27.380\nThe claim rules determine how\nthe federation circle would process those\n\n392\n00:20:27.380 --> 00:20:29.380\nclaims like Mike was suggesting.\n\n393\n00:20:29.380 --> 00:20:33.280\nWe have the attribute store, which is\nwhere we store the information and\n\n394\n00:20:33.280 --> 00:20:36.620\nlook up the values that the claims\nshould be validated against.\n\n395\n00:20:36.620 --> 00:20:39.710\nActive Directory is our\nattribute store in Windows.\n\n396\n00:20:39.710 --> 00:20:44.460\nBut you could have external or third party\nattribute stores that may be available for\n\n397\n00:20:44.460 --> 00:20:45.610\nother services.\n\n398\n00:20:45.610 --> 00:20:47.990\nBut Active Directory is the one that\nwe're using traditionally, right?\n\n399\n00:20:47.990 --> 00:20:52.500\nThat's the common one that's available\nby default just be aware of that.\n\n400\n00:20:52.500 --> 00:20:57.190\nWe do put this on to domain join machines\ncuz we are leveraging and using the AD DS.\n\n401\n00:20:57.190 --> 00:20:59.010\nAnd as Mike was suggesting, it is yet\n\n402\n00:20:59.010 --> 00:21:02.536\nanother reason why that web app proxy\ncomes into play cuz we don't wanna\n\n403\n00:21:02.536 --> 00:21:05.390\nexpose those systems because\nthey become compromised.\n\n404\n00:21:05.390 --> 00:21:09.430\nThat can lead to a broad attack that\ncould take out not just this particular\n\n405\n00:21:09.430 --> 00:21:12.910\npart of the relationship but\nexpose any and all users potentially or\n\n406\n00:21:12.910 --> 00:21:14.570\nsystems all sorts of things.\n\n407\n00:21:14.570 --> 00:21:17.410\nAny of those systems in the AD DS\ncould be compromised if\n\n408\n00:21:17.410 --> 00:21:20.470\nthe Active Directory was\nsuccessfully attacked.\n\n409\n00:21:20.470 --> 00:21:24.928\nClaim providers are the service that you\nshould claim when authenticated users\n\n410\n00:21:24.928 --> 00:21:29.532\nare this gonna be one side of the ADFS\nauthentication and authorization process.\n\n411\n00:21:29.532 --> 00:21:33.752\nThe relying party is the other side,\nthese two together essentially form\n\n412\n00:21:33.752 --> 00:21:37.320\na relationship that we were\ntalking about early on.\n\n413\n00:21:37.320 --> 00:21:39.080\nSo we just wanna make sure\nwe're up there aware that.\n\n414\n00:21:39.080 --> 00:21:42.710\nThe claim provider manages the user\nauthentication, as you can see there and\n\n415\n00:21:42.710 --> 00:21:46.810\nissues the claims that the user presents\nto what's called the relying party.\n\n416\n00:21:46.810 --> 00:21:48.413\nAs I mentioned, I'm the relying party.\n\n417\n00:21:48.413 --> 00:21:51.133\nI'm gonna scroll down so you can\nsee that while we're talking there,\n\n418\n00:21:51.133 --> 00:21:52.670\nwe'll just put that up there.\n\n419\n00:21:52.670 --> 00:21:56.190\nThe relying party is in our example Mike\nwas the relying party where we say you\n\n420\n00:21:56.190 --> 00:21:58.885\nhold the web app or you have\nthe web app and I was gonna try and\n\n421\n00:21:58.885 --> 00:22:00.600\ngain access to it and use it, right?\n\n422\n00:22:00.600 --> 00:22:05.215\nSo Mike would have been the relying\nparty where the application is located.\n\n423\n00:22:05.215 --> 00:22:09.915\nAnd as a result, the relying party\nhas to rely on the claim provider.\n\n424\n00:22:09.915 --> 00:22:13.225\nAnd the two work together to be able\nto figure out who's authenticated,\n\n425\n00:22:13.225 --> 00:22:15.295\nwho can be trusted and\nunder what circumstance.\n\n426\n00:22:15.295 --> 00:22:18.185\nAnd while the access we give or\nare granting.\n\n427\n00:22:18.185 --> 00:22:21.245\nThe relying party is a web service,\nas Mike pointed out, right?.\n\n428\n00:22:21.245 --> 00:22:24.855\nSo we're using a HTTPS web based\nservice to consume the claim from\n\n429\n00:22:24.855 --> 00:22:25.950\nthe claim provider.\n\n430\n00:22:25.950 --> 00:22:27.380\nSo this is a partnership, right?\n\n431\n00:22:27.380 --> 00:22:29.230\nIf we only have one side working,\n\n432\n00:22:29.230 --> 00:22:33.550\nwe unfortunately not able to validate our\nidentity and or gain access to the system.\n\n433\n00:22:33.550 --> 00:22:37.280\nAnd keep in mind,\nweb based service, right?\n\n434\n00:22:37.280 --> 00:22:40.500\nWe're not using an application\nthat is not web based.\n\n435\n00:22:40.500 --> 00:22:44.103\nIf we wanna use a web based printing\nservice to get access to printing with\n\n436\n00:22:44.103 --> 00:22:45.470\nfederation that's okay.\n\n437\n00:22:45.470 --> 00:22:48.190\nBut it's gonna have to be\nserved up as a web service,\n\n438\n00:22:48.190 --> 00:22:50.880\nas opposed to hey share your\nprinter out [LAUGH] right?\n\n439\n00:22:50.880 --> 00:22:53.050\nAnd right click, share.\n\n440\n00:22:53.050 --> 00:22:55.518\nIf I add sharing, everyone full control or\nwhatever you would do.\n\n441\n00:22:55.518 --> 00:22:58.930\nDon't do everyone full control but\neveryone read or whatever.\n\n442\n00:22:58.930 --> 00:23:02.920\nAnd you give my account access and\nthen I just go and I get the printer.\n\n443\n00:23:02.920 --> 00:23:04.250\nThat's not what we're talking about.\n\n444\n00:23:04.250 --> 00:23:05.370\n&gt;&gt; That's forest trust.\n\n445\n00:23:05.370 --> 00:23:09.096\n&gt;&gt; That is a traditional share and\ntraditional authentication process but\n\n446\n00:23:09.096 --> 00:23:11.910\nmost likely through a force based trust,\nright?\n\n447\n00:23:11.910 --> 00:23:14.071\nOr a Active Directory\nbased domain trust or\n\n448\n00:23:14.071 --> 00:23:16.560\ntransfer trust whatever the case may be.\n\n449\n00:23:16.560 --> 00:23:18.440\nBut that's not the same thing\nthat we're talking about here.\n\n450\n00:23:18.440 --> 00:23:22.571\nThis is a application that is published\nout or is being made available and\n\n451\n00:23:22.571 --> 00:23:25.213\nis consuming a web service and\nspecifically,\n\n452\n00:23:25.213 --> 00:23:29.166\nalthough we're not really gonna get\ninto it and talk about it per se.\n\n453\n00:23:29.166 --> 00:23:32.690\nBut you can see something like this for\ninstance, right?\n\n454\n00:23:32.690 --> 00:23:35.995\nWindows Identity Foundation,\nthe WIF reference in the note.\n\n455\n00:23:35.995 --> 00:23:39.233\nMeans that Windows Identity Foundation\nhas to be available,\n\n456\n00:23:39.233 --> 00:23:40.726\nas part of this setting up and\n\n457\n00:23:40.726 --> 00:23:44.980\nit claims that we're at something like\nthis front end that we could login again.\n\n458\n00:23:44.980 --> 00:23:47.856\nSo as you can see here,\nUser name and Password.\n\n459\n00:23:47.856 --> 00:23:48.736\nWe could login.\n\n460\n00:23:48.736 --> 00:23:52.545\nAnd the claims that we provide,\na username could be a claim,\n\n461\n00:23:52.545 --> 00:23:57.880\na password can be a form of a claim, could\nbe authenticated using the ADFS solution.\n\n462\n00:23:57.880 --> 00:24:00.240\nBut we're talking about a web service,\nan application,\n\n463\n00:24:00.240 --> 00:24:04.490\nsomething like this,\nbeing served up through a web server.\n\n464\n00:24:04.490 --> 00:24:09.635\nAnd that web server in this case is,\n\n465\n00:24:09.635 --> 00:24:13.870\nis it running here,\nlet me just show you where it is.\n\n466\n00:24:13.870 --> 00:24:16.804\nNo I have it on the other one, gotta keep\ntrack of all the different machines I have\n\n467\n00:24:16.804 --> 00:24:18.112\nup and running with all this stuff.\n\n468\n00:24:18.112 --> 00:24:20.662\nI have it on my, where is it there?\n\n469\n00:24:20.662 --> 00:24:26.330\nMy VM machine, there we go, right there.\n\n470\n00:24:26.330 --> 00:24:31.200\nSo this is where the website that's\nhosting that web app that's claims aware\n\n471\n00:24:31.200 --> 00:24:33.740\nthat I just showed you the front end for,\nthis is where it's running,\n\n472\n00:24:33.740 --> 00:24:37.173\nit's running in a web server on yet\nanother machine that's set up.\n\n473\n00:24:37.173 --> 00:24:40.932\nBut you can see I've got IIS open,\nI've got the default website,\n\n474\n00:24:40.932 --> 00:24:45.280\nI've added the claims app as\nan application up under the default site.\n\n475\n00:24:45.280 --> 00:24:49.620\nAnd I've gone ahead and\nI have used this app, or\n\n476\n00:24:49.620 --> 00:24:54.560\nI'm using this app I should say,\nand we are able to\n\n477\n00:24:54.560 --> 00:24:59.810\nin theory use it to drive and\nto demonstrate the use of claims based\n\n478\n00:24:59.810 --> 00:25:04.300\nauthentication in any ADFS relationship,\nright, a claims aware app if you will.\n\n479\n00:25:04.300 --> 00:25:08.800\nSo we're able to do all this because we're\nusing web services, if we weren't using\n\n480\n00:25:08.800 --> 00:25:12.146\nweb services we wouldn't be able\nto leverage this technology.\n\n481\n00:25:12.146 --> 00:25:15.250\nSo [COUGH] wanna make sure we're aware\nof that and I call that out there for\n\n482\n00:25:15.250 --> 00:25:16.120\nthe relying party,\n\n483\n00:25:16.120 --> 00:25:19.680\nthe claims provide a trust between\nthe two sides that we're setting up.\n\n484\n00:25:19.680 --> 00:25:24.170\nThis is the configuration data that will\nhelp us to understand how a claim, or\n\n485\n00:25:24.170 --> 00:25:26.290\na client rather might request a claim and\n\n486\n00:25:26.290 --> 00:25:30.810\nhow that claim from a claim\nprovider can then be\n\n487\n00:25:30.810 --> 00:25:35.030\nsent between the relying party and the\nclaim provider and interact with, right.\n\n488\n00:25:35.030 --> 00:25:37.650\nSo we have two sides of\ntrust relationships,\n\n489\n00:25:37.650 --> 00:25:39.800\nclaims provider trust,\nrelying party trust.\n\n490\n00:25:39.800 --> 00:25:44.190\nYou can imagine based on our conversation\ntoday how these play out each side is\n\n491\n00:25:44.190 --> 00:25:47.350\nessentially establishing a trust\nrelationship with the other.\n\n492\n00:25:47.350 --> 00:25:50.710\nIn this relationship, we have our\nrelying party that host the app,\n\n493\n00:25:50.710 --> 00:25:53.840\nthe claim provider side that's providing\nthe claim-based authentication\n\n494\n00:25:53.840 --> 00:25:58.460\ncapabilities and the two are not only\nproviding services, but establishing trust\n\n495\n00:25:58.460 --> 00:26:02.210\nrelationships to securely transmit and\nexchange this information.\n\n496\n00:26:02.210 --> 00:26:04.800\nAnd so\nthese two trust are part of what we do.\n\n497\n00:26:04.800 --> 00:26:08.440\nThe relying party trust helps us to\nleverage the ADFS configuration data\n\n498\n00:26:08.440 --> 00:26:11.470\nthat lets us, as we said,\nexchange this information.\n\n499\n00:26:11.470 --> 00:26:15.560\nWe have certificates, as you can see here,\njust scroll down so you can see that.\n\n500\n00:26:15.560 --> 00:26:19.150\nWe have certificates, we've talked a lot\nabout certificates the whole discussion\n\n501\n00:26:19.150 --> 00:26:24.005\nand set of episodes about ADCS certificate\nservices in the active of directory.\n\n502\n00:26:24.005 --> 00:26:28.055\nWe use these certificates to communicate\nsecurely in this case using HTTPS as we\n\n503\n00:26:28.055 --> 00:26:29.015\ntalked about.\n\n504\n00:26:29.015 --> 00:26:33.165\nWe also use them for token issuing,\ntoken signing, token encryption,\n\n505\n00:26:33.165 --> 00:26:34.055\ntoken decryption.\n\n506\n00:26:34.055 --> 00:26:38.405\nWe'll talk about all of these things as\nthey occur in ADFS as we set up ADFS and\n\n507\n00:26:38.405 --> 00:26:39.415\ndo the walk through.\n\n508\n00:26:39.415 --> 00:26:43.325\nBut we are using certificates to drive\nevery aspect of the federation services\n\n509\n00:26:43.325 --> 00:26:44.300\nconversation.\n\n510\n00:26:44.300 --> 00:26:45.150\nWithout certificates,\n\n511\n00:26:45.150 --> 00:26:48.810\nwithout a PKI infrastructure,\nwe're not gonna be able to use ADFS.\n\n512\n00:26:48.810 --> 00:26:50.620\nNow, we do issue self signed certificates.\n\n513\n00:26:50.620 --> 00:26:54.800\nSo, the ADFS configuration will set\nup it's own self signed certificates,\n\n514\n00:26:54.800 --> 00:26:59.080\nassign them to the ADFS infrastructure and\nthen those are used for\n\n515\n00:26:59.080 --> 00:27:01.090\nsigning and\nencrypting all the things we need.\n\n516\n00:27:01.090 --> 00:27:05.350\nBut, we still have to understand the logic\nof PKI, the logic of the public,\n\n517\n00:27:05.350 --> 00:27:07.650\nprivate key pairs, the key exchange.\n\n518\n00:27:07.650 --> 00:27:10.140\nWhich key we use in order\nto be able to validate and\n\n519\n00:27:10.140 --> 00:27:13.290\nencrypt certificates without\nexposing the functionality.\n\n520\n00:27:13.290 --> 00:27:16.580\nSo we have to remind ourselves of all\nthese conversations, is it the public key,\n\n521\n00:27:16.580 --> 00:27:18.280\nis it the private key, right?\n\n522\n00:27:18.280 --> 00:27:19.380\nWhich one do we use?\n\n523\n00:27:19.380 --> 00:27:22.855\nRemember, if we use the private key,\nthe corresponding key and\n\n524\n00:27:22.855 --> 00:27:26.575\nthe key pair can be used to do\nthe exact opposite of what we do.\n\n525\n00:27:26.575 --> 00:27:30.585\nSo the private key encrypts, the private\nkey de-crypts that may be a problem if we\n\n526\n00:27:30.585 --> 00:27:32.633\nwanna keep information secure, right.\n\n527\n00:27:32.633 --> 00:27:36.108\nAnd we also have to remember the concept\nof Kirckhoffs's principle you often\n\n528\n00:27:36.108 --> 00:27:38.620\nhear me refer to,\nwhich is keep the private key secure,\n\n529\n00:27:38.620 --> 00:27:41.628\nwhich means we will more often than\nnot use the public key, right.\n\n530\n00:27:41.628 --> 00:27:45.374\nWhich is made available to anyone who\nwants to be able to interact with it and\n\n531\n00:27:45.374 --> 00:27:47.811\nas a result,\nhold the private key securely, and\n\n532\n00:27:47.811 --> 00:27:51.199\nthen only use the private key known\nto us let’s say or known to Mike or\n\n533\n00:27:51.199 --> 00:27:54.540\nwhoever has that key, to then be\nable to unencrypt or do whatever.\n\n534\n00:27:54.540 --> 00:27:57.710\nSo we have to think about that and\nunderstand the logic of that.\n\n535\n00:27:57.710 --> 00:28:01.804\nAnd then we have endpoints which allow us\nto be able to use the ADFS technology,\n\n536\n00:28:01.804 --> 00:28:03.977\ntoken issuance, metadata publishing,\n\n537\n00:28:03.977 --> 00:28:07.150\nfunctionality like this\nhappens through endpoints.\n\n538\n00:28:07.150 --> 00:28:10.160\nADFS has its own built in endpoints.\n\n539\n00:28:10.160 --> 00:28:13.680\nWe don't tend to have to do anything other\nthan run through the configuration wizard,\n\n540\n00:28:13.680 --> 00:28:15.810\nyou'll see me do this\nduring the next episode.\n\n541\n00:28:15.810 --> 00:28:18.650\nAnd once we have that all set up,\nthese endpoints are configured\n\n542\n00:28:18.650 --> 00:28:23.800\nas part of the overall conversation we\nhave and the steps we take to enable ADFS.\n\n543\n00:28:23.800 --> 00:28:27.067\nBut we just want to call the out and\nmake sure we understand what they are,\n\n544\n00:28:27.067 --> 00:28:29.317\nbecause they are part of\nwhat's known as the WCF,\n\n545\n00:28:29.317 --> 00:28:31.800\nthe Windows Communication Foundation\nof framework.\n\n546\n00:28:31.800 --> 00:28:35.636\nThis is yet another extensions of the .NET\nframework overall we have all these\n\n547\n00:28:35.636 --> 00:28:38.137\ndifferent pieces\nthe Communication Foundation,\n\n548\n00:28:38.137 --> 00:28:40.942\nthe Provider Foundation\nthere's different elements.\n\n549\n00:28:40.942 --> 00:28:44.326\nBut this allows us to be able to\ncreate the underlying pathway for\n\n550\n00:28:44.326 --> 00:28:48.403\ncommunication and have the underlying\ncapabilities like use of metadata and\n\n551\n00:28:48.403 --> 00:28:52.664\nthe publishing of XML based metadata,\nwhich is integral to ADFS and the tokens,\n\n552\n00:28:52.664 --> 00:28:56.799\nthe token issuance, the encryption,\ndecryption and stuff we talked about,\n\n553\n00:28:56.799 --> 00:28:59.295\nall that happens through the endpoints.\n\n554\n00:28:59.295 --> 00:29:03.035\nThink of them almost like APIs, right,\nthat are available that are hooks that we\n\n555\n00:29:03.035 --> 00:29:06.940\nthen leverage for functionality the ADFS\nsystem configures them, installs them,\n\n556\n00:29:06.940 --> 00:29:09.041\ncontrols them,\nif you will and sets them up.\n\n557\n00:29:09.041 --> 00:29:10.744\nWe really don't do anything,\n\n558\n00:29:10.744 --> 00:29:15.133\nthey're built in all we have to do is\nconfigure ADFS properly using the wizard.\n\n559\n00:29:15.133 --> 00:29:17.833\nAnd you'll see me walk through that and\ndo that in just a couple of\n\n560\n00:29:17.833 --> 00:29:20.340\nminutes when you come back and\njoin us for our next episode.\n\n561\n00:29:20.340 --> 00:29:23.828\nBut, once that's done, these endpoints\nare functioning behind the scenes we don't\n\n562\n00:29:23.828 --> 00:29:25.976\nreally tend to interact with\nthem very much if at all,\n\n563\n00:29:25.976 --> 00:29:27.572\nunless something goes wrong, right.\n\n564\n00:29:27.572 --> 00:29:31.049\nWhich case we'd reset things but even\nthen we really don't have a way to get in\n\n565\n00:29:31.049 --> 00:29:34.770\nto these endpoints and do much with\nthem except some minor configuration.\n\n566\n00:29:34.770 --> 00:29:38.504\nWe do that through GUI based interface is\nour power shelter tradition, all right.\n\n567\n00:29:38.504 --> 00:29:40.990\nBut this is the working\nvocabulary Of ADFS.\n\n568\n00:29:40.990 --> 00:29:43.760\nWe've talked a bit about the concepts.\n\n569\n00:29:43.760 --> 00:29:47.120\nTalked about the difference between\nfederation and forest trust.\n\n570\n00:29:47.120 --> 00:29:51.070\nTalked about claim-based authentication,\njust to lay out the basics and\n\n571\n00:29:51.070 --> 00:29:53.710\nthe underlying thought\nprocess of what goes on.\n\n572\n00:29:53.710 --> 00:29:57.820\nAnd then, in our upcoming episodes as I\nsuggested, we are going to start to put\n\n573\n00:29:57.820 --> 00:30:00.590\nthis knowledge to work by\nactually walking through and\n\n574\n00:30:00.590 --> 00:30:04.700\ntaking our time but a step by step\nconfiguring ADFS, setting it all up.\n\n575\n00:30:04.700 --> 00:30:07.760\nAnd configuring both through aligned\nparty and the claim provider trust and\n\n576\n00:30:07.760 --> 00:30:09.320\nseeing all the interfaces\nassociated with it.\n\n577\n00:30:09.320 --> 00:30:12.370\nThat's actually kind of interesting\nlittle walkthrough that we do and pretty\n\n578\n00:30:12.370 --> 00:30:15.840\nthorough discussion of the technology and\nit's a very useful technology.\n\n579\n00:30:15.840 --> 00:30:18.985\nMore and more companies are leveraging\nthis because of web based, well or\n\n580\n00:30:18.985 --> 00:30:21.130\ncloud based web based services today and\n\n581\n00:30:21.130 --> 00:30:23.885\nthis is becoming a very intricate\npart of how we secure those services.\n\n582\n00:30:23.885 --> 00:30:26.600\nSo, it is important to understand\nthe logic of how to do this.\n\n583\n00:30:26.600 --> 00:30:31.045\nNow, just before we take our traditional\nITPRO.TV, hey, let's go away, we're out of\n\n584\n00:30:31.045 --> 00:30:34.789\ntime and come back conversation, which\nMike will walk us into in a second but\n\n585\n00:30:34.789 --> 00:30:38.450\nlet me show you one other\nthing that I'll come back to.\n\n586\n00:30:38.450 --> 00:30:39.007\nBut join me here real quick.\n\n587\n00:30:39.007 --> 00:30:41.857\nOne of the nice things that\nMicrosoft's put together for us and\n\n588\n00:30:41.857 --> 00:30:45.730\nthere's a slightly updated version of this\ndocument I'll show you one of those other\n\n589\n00:30:45.730 --> 00:30:48.068\ntabs up there we'll get to\nas we walk through here.\n\n590\n00:30:48.068 --> 00:30:52.358\nBut this checklist to set up ADFS and\nimplement and manage single sign on, and\n\n591\n00:30:52.358 --> 00:30:55.273\nSSO is really part of this\nthought process, right.\n\n592\n00:30:55.273 --> 00:31:00.579\nThat's really what we're talking about\nwith ADFS is implementing single\n\n593\n00:31:00.579 --> 00:31:06.051\nsign on so an external user or an internal\nuser inside of a directory somewhere\n\n594\n00:31:06.051 --> 00:31:11.300\ncan leverage that ability to be able\nto access this web-based resource.\n\n595\n00:31:11.300 --> 00:31:15.060\nIt doesn't have to authenticate over, and\nover and over again but provides that\n\n596\n00:31:15.060 --> 00:31:19.610\nset of claims can be authenticated and\nthen be given or granted access to it.\n\n597\n00:31:19.610 --> 00:31:23.603\nThis capability and this checklist\nthat feature's really nice and\n\n598\n00:31:23.603 --> 00:31:27.346\nI'll show you why and by the way don't\nlet this documentation be archived and\n\n599\n00:31:27.346 --> 00:31:28.556\nnot being maintain throw you.\n\n600\n00:31:28.556 --> 00:31:31.910\nThere's still a lot of valuable\ninformation to walk through and\n\n601\n00:31:31.910 --> 00:31:38.400\nto be aware of here and even though\nthe last time it was updated was in 2015,\n\n602\n00:31:38.400 --> 00:31:42.600\nyou'll see this applies to Azure so\nthe Azure Fabric, Office 365, etc.\n\n603\n00:31:42.600 --> 00:31:48.027\nSo being able to understand down here\nusing this ADFS checklist to implement and\n\n604\n00:31:48.027 --> 00:31:50.054\nset up single sign on is good.\n\n605\n00:31:50.054 --> 00:31:54.090\nBecause you could see here, for every task\nand there's a number of them kind of set\n\n606\n00:31:54.090 --> 00:31:57.367\nup sequentially, we have a little\nlink that we can click through,\n\n607\n00:31:57.367 --> 00:32:00.820\nkind of get, that often we refer\nto these that step-by-step or hey,\n\n608\n00:32:00.820 --> 00:32:04.530\nhere's how you do this piece\nconversation Microsoft puts together.\n\n609\n00:32:04.530 --> 00:32:10.190\nBut, you also can go through and you can\nput in, in your mind if you do this,\n\n610\n00:32:10.190 --> 00:32:14.090\nor actually just take this and grab it,\nprint it out you can actually just put\n\n611\n00:32:14.090 --> 00:32:17.110\nthose checks in if you make a little\nspreadsheet or something, right.\n\n612\n00:32:17.110 --> 00:32:20.123\nCopy this all, dump it into a table in\nword or whatever you want to do and\n\n613\n00:32:20.123 --> 00:32:23.580\nyou actually have a great little pre-made\ncheck list to drive your deployment.\n\n614\n00:32:23.580 --> 00:32:28.650\nSo, it's nice and you can go through and\nnot only reference this information.\n\n615\n00:32:28.650 --> 00:32:31.160\nLet me just scroll up here real quick.\n\n616\n00:32:31.160 --> 00:32:34.636\nI don't know why they do this sometimes,\nI think in edge would just hang and\n\n617\n00:32:34.636 --> 00:32:37.940\nit's just randomly there and\nit just sits there over the window.\n\n618\n00:32:37.940 --> 00:32:40.670\nBut you can see that we're\non the checklist, but\n\n619\n00:32:40.670 --> 00:32:44.730\nyou can see it's got a lot of other stuff\nassociated with the deployment of ADFS,\n\n620\n00:32:44.730 --> 00:32:46.410\nsitting here as resource links as well.\n\n621\n00:32:46.410 --> 00:32:50.390\nSo this website would be a good one for\nyou to check out, it is in the show notes,\n\n622\n00:32:50.390 --> 00:32:53.650\nencourage you to take a look there, as is\nthe Word document that I just showed you\n\n623\n00:32:53.650 --> 00:32:55.310\nand walked through with you\nabout all the definitions.\n\n624\n00:32:55.310 --> 00:32:58.360\nSo All that stuff's available too,\nif you want to download it and use it as,\n\n625\n00:32:58.360 --> 00:32:59.785\nkind of a spring board, right.\n\n626\n00:32:59.785 --> 00:33:02.920\nTo not only get your hands into this and\nstart working with it get\n\n627\n00:33:02.920 --> 00:33:05.410\nmore familiar with it, but\nalso from a studying perspective.\n\n628\n00:33:05.410 --> 00:33:06.890\nMost likely could be helpful for\n\n629\n00:33:06.890 --> 00:33:10.160\nyou with regards to some of the notes and\nthings we were talking about.\n\n630\n00:33:10.160 --> 00:33:13.930\n&gt;&gt; Absolutely, and setting this up,\neven if you are doing it for studying for\n\n631\n00:33:13.930 --> 00:33:15.700\nyourself, there's a lot of steps involved.\n\n632\n00:33:15.700 --> 00:33:18.864\nSo having a checklist like that\ncan be very beneficial, or\n\n633\n00:33:18.864 --> 00:33:20.358\nin the workplace, right.\n\n634\n00:33:20.358 --> 00:33:23.954\nMaybe you're delegating out certain tasks\nand you're going to keep track of which\n\n635\n00:33:23.954 --> 00:33:26.775\ntasks have been accomplished before\nyou move on to the next step,\n\n636\n00:33:26.775 --> 00:33:28.390\nhaving that check list invaluable.\n\n637\n00:33:28.390 --> 00:33:31.590\nSo thank you for\nthat Adam if I could talk today.\n\n638\n00:33:31.590 --> 00:33:35.696\nBut a great episode where we laid down\nthe foundational knowledge that we need to\n\n639\n00:33:35.696 --> 00:33:38.820\ntalk intelligently about\nimplementing federation services.\n\n640\n00:33:38.820 --> 00:33:40.214\nSo, we're excited to come back for\n\n641\n00:33:40.214 --> 00:33:43.290\nthe next part where we can start diving\nin and actually do the implementation.\n\n642\n00:33:43.290 --> 00:33:46.550\nAnd so join us back here then but\nfor now, signing off for ITPRO.TV.\n\n643\n00:33:46.550 --> 00:33:48.340\nI've been your host Mike Rodrick.\n\n644\n00:33:48.340 --> 00:33:49.685\n&gt;&gt; I'm Adam Gordon.\n&gt;&gt; And we'll see you next time\n\n645\n00:33:49.685 --> 00:33:57.526\n[MUSIC]\n\n646\n00:33:57.526 --> 00:33:59.925\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "238630752"
        },
        {
          "description": "Adam and Mike discuss the pre-requisites for installation and configuration of AD FS including the use of an account with domain administrative rights, a publically trusted certificate for SSL server authentication, and whether to create a brand new AD FS server farm, or join an\nexisting one. In addition, they demonstrate how to export the enterprise root CA certificates from both AD FS partners and use the Default Domain Policy to publish the certificates to all domain joined computers.",
          "length": "1866",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-2-implementing-ad-fs_pt2-101617-PGM.00_30_50_02.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-2-implementing-ad-fs_pt2-101617-PGM.00_30_50_02.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-2-implementing-ad-fs_pt2-101617-PGM.00_30_50_02.Still001-sm.jpg",
          "title": "Implementing AD FS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:04.414\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:04.414 --> 00:00:04.968\n[CROSSTALK]\n\n3\n00:00:04.968 --> 00:00:07.739\n[MUSIC]\n\n4\n00:00:07.739 --> 00:00:10.587\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:10.587 --> 00:00:15.190\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n6\n00:00:15.190 --> 00:00:20.920\nI'm your host Mike Rodrick, and today\nwe're going over Windows Server 2012 R2,\n\n7\n00:00:20.920 --> 00:00:23.790\ngetting ready for that 70-412 exam.\n\n8\n00:00:23.790 --> 00:00:26.832\nAnd specifically, in this episode\nwe're talking about implementing\n\n9\n00:00:26.832 --> 00:00:28.564\nActive Directory Federated Services.\n\n10\n00:00:28.564 --> 00:00:31.514\nThis is a part two, so if you missed\npart one make sure you go back and\n\n11\n00:00:31.514 --> 00:00:32.480\ncheck that out.\n\n12\n00:00:32.480 --> 00:00:35.430\nBut here to continue that conversation\nwith us is Mr. Adam Gordon.\n\n13\n00:00:35.430 --> 00:00:36.590\nWelcome back, Adam.\n\n14\n00:00:36.590 --> 00:00:38.236\n&gt;&gt; Hello, hello, always good to see you.\n\n15\n00:00:38.236 --> 00:00:39.996\nAll right, so part two, right?\n\n16\n00:00:39.996 --> 00:00:41.162\n&gt;&gt; Yeah, part two.\n\n17\n00:00:41.162 --> 00:00:42.385\n&gt;&gt; So I think you were about to\nsay we've got some really cool\n\n18\n00:00:42.385 --> 00:00:42.932\nstuff we did in part one.\n\n19\n00:00:42.932 --> 00:00:43.853\n&gt;&gt; Yeah, we did.\n&gt;&gt; And we're gonna do\n\n20\n00:00:43.853 --> 00:00:44.898\nsome more in part two.\n\n21\n00:00:44.898 --> 00:00:46.754\nAnd probably part three,\nI'm thinking cuz you know how ADFS is,\n\n22\n00:00:46.754 --> 00:00:47.481\nit just never finishes.\n\n23\n00:00:47.481 --> 00:00:49.430\n&gt;&gt; All right, [LAUGH] and\nI know how you are.\n\n24\n00:00:49.430 --> 00:00:52.230\n&gt;&gt; Well, you know how I am too,\nthat's also part of this.\n\n25\n00:00:52.230 --> 00:00:54.610\nBut we're gonna jump in and\nstart the demo here in just a minute.\n\n26\n00:00:54.610 --> 00:00:56.660\nBut I just quickly wanted to\nthrow out just two things\n\n27\n00:00:56.660 --> 00:00:57.700\nthat I think will be of interest.\n\n28\n00:00:57.700 --> 00:01:02.390\nNumber one, there are some new features\nand new capabilities in 12 R2 with ADFS.\n\n29\n00:01:02.390 --> 00:01:07.826\nYou mentioned the idea of ADFS and just\nthis whole, talked about it last time.\n\n30\n00:01:07.826 --> 00:01:10.410\nThe ability to be able to extend trust\nin all things we talked about, right?\n\n31\n00:01:10.410 --> 00:01:15.100\nClean based authentication, web base\nservices, or web services communication.\n\n32\n00:01:15.100 --> 00:01:17.242\nBut we have new authentication\npolicies with all of our two.\n\n33\n00:01:17.242 --> 00:01:22.165\nWe have a global scope so we can apply\nthese to all applications and services.\n\n34\n00:01:22.165 --> 00:01:26.103\nWe can also apply these narrowly\ndefined very specifically.\n\n35\n00:01:26.103 --> 00:01:28.232\nSo scope until are down\nto one application, or\n\n36\n00:01:28.232 --> 00:01:30.423\nglobally apply across\nthe entire enterprise.\n\n37\n00:01:30.423 --> 00:01:34.036\nSo kind of cool in terms of the scope or\nthe reach of authentication policies,\n\n38\n00:01:34.036 --> 00:01:35.505\nhow they're applied.\n\n39\n00:01:35.505 --> 00:01:39.900\nAlso new factors authentication,\nwe now support multifactor authentication,\n\n40\n00:01:39.900 --> 00:01:41.370\nwhereas before we did not.\n\n41\n00:01:41.370 --> 00:01:45.776\nSo this is nice, we have the ability\nto be able to do also new claim types,\n\n42\n00:01:45.776 --> 00:01:47.890\nthings like client application.\n\n43\n00:01:47.890 --> 00:01:49.060\nI think we mentioned a couple of these,\n\n44\n00:01:49.060 --> 00:01:52.310\nwe talked about some claims generically\nin the last episode, right?\n\n45\n00:01:52.310 --> 00:01:56.776\nBut I think I mentioned things like\ndevice OS, device OS type, OS version.\n\n46\n00:01:56.776 --> 00:01:59.580\nWe do public keys,\nI mentioned certificates for public keys.\n\n47\n00:01:59.580 --> 00:02:04.470\nWe can do thumbprints,\nwe can do password expiration time.\n\n48\n00:02:04.470 --> 00:02:08.610\nSo a whole bunch of new things added in\nthat are additional claim capabilities.\n\n49\n00:02:08.610 --> 00:02:11.850\nSo from that perspective kind\nof extending our capability.\n\n50\n00:02:11.850 --> 00:02:13.610\nWe don't have face recognition yet,\n\n51\n00:02:13.610 --> 00:02:17.400\nthe way Apple does with that newfangled\ntechnology they're bringing out.\n\n52\n00:02:17.400 --> 00:02:20.340\nBut we're moving towards\nall that kind of stuff and\n\n53\n00:02:20.340 --> 00:02:23.260\nit is kind of interesting just to\nsee how this is evolving, right?\n\n54\n00:02:23.260 --> 00:02:25.230\n&gt;&gt; Yes, absolutely.\n&gt;&gt; As we continue to really walk down\n\n55\n00:02:25.230 --> 00:02:28.660\nthat road of how can we layer in\nnot just the old user name and\n\n56\n00:02:28.660 --> 00:02:31.110\npassword right that process there type.\n\n57\n00:02:31.110 --> 00:02:34.680\nBut how can we overlay\nadditional capabilities?\n\n58\n00:02:34.680 --> 00:02:38.445\nAnd as a result, tight knit security, and\nreally make it something that's gonna be\n\n59\n00:02:38.445 --> 00:02:40.790\nvery hard for\nthe bad actors to leverage against us.\n\n60\n00:02:40.790 --> 00:02:43.422\nAnd that's what that\nmultifactor process is for.\n\n61\n00:02:43.422 --> 00:02:44.098\n&gt;&gt; Yeah, absolutely,\n\n62\n00:02:44.098 --> 00:02:46.767\nit's good that the federation services\nis getting the support, the development,\n\n63\n00:02:46.767 --> 00:02:48.470\nwe know that it's gonna be around for\na little while.\n\n64\n00:02:48.470 --> 00:02:50.210\nBecause they are starting to include,\nyeah,\n\n65\n00:02:50.210 --> 00:02:51.970\nwe see that move away from passwords.\n\n66\n00:02:51.970 --> 00:02:54.500\nWe know passwords are a very\nweak form of authentication.\n\n67\n00:02:54.500 --> 00:02:57.260\nWe see that move away from it and\nmany other technologies.\n\n68\n00:02:57.260 --> 00:02:59.500\nGood to see that ADFS\nis keeping up with it.\n\n69\n00:02:59.500 --> 00:03:02.278\n&gt;&gt; It is, it is, and\nalso another big change under the hood.\n\n70\n00:03:02.278 --> 00:03:05.554\nIn prior version we required\nthe installations of IS to host ADFS and\n\n71\n00:03:05.554 --> 00:03:09.300\nmake it available, we moved away from\nthat so it's no longer a requirement.\n\n72\n00:03:09.300 --> 00:03:14.310\nWe split that out and we used to be\nable to do a standalone solution\n\n73\n00:03:14.310 --> 00:03:18.620\nwhen we were installing in 2012, we could\nessentially install ADSF on its own.\n\n74\n00:03:18.620 --> 00:03:20.110\nI talked about it in the last episode,\n\n75\n00:03:20.110 --> 00:03:22.990\nthis is now a dummy integrated solution,\nright?\n\n76\n00:03:22.990 --> 00:03:25.960\nAnd so now, we don't have that\noption to do stand alone.\n\n77\n00:03:25.960 --> 00:03:28.520\nWe can do a single instance install and\n\n78\n00:03:28.520 --> 00:03:32.500\nwe can then provide we call it a farm\nnow or anything that's farm based.\n\n79\n00:03:32.500 --> 00:03:34.740\nI think the farmers lobby\nreally got in there and\n\n80\n00:03:34.740 --> 00:03:36.986\ngot that whole marketing\ncampaign kicked off.\n\n81\n00:03:36.986 --> 00:03:39.063\nCuz if you think about it\neverything that we build out,\n\n82\n00:03:39.063 --> 00:03:42.020\nit's got more than one machine it's\ncalled the form f so it's everything.\n\n83\n00:03:42.020 --> 00:03:45.587\nSo we do a signal instance install\nin the sense that we can install\n\n84\n00:03:45.587 --> 00:03:47.510\na signal machine we call it a farm.\n\n85\n00:03:47.510 --> 00:03:50.971\nWe can just simply extent the capability\nby adding more machines later, but\n\n86\n00:03:50.971 --> 00:03:52.970\nwe could still start out\nwith one machine but\n\n87\n00:03:52.970 --> 00:03:55.260\nwe build a farm from\nthe beginning in other words.\n\n88\n00:03:55.260 --> 00:03:59.080\nNo longer do we have a single stand alone\noption, it's now and integrated install.\n\n89\n00:03:59.080 --> 00:04:03.330\n&gt;&gt; And that's another great choice or\na great decision in my opinion.\n\n90\n00:04:03.330 --> 00:04:05.160\nRemember, there was a big choice to make,\nright?\n\n91\n00:04:05.160 --> 00:04:05.850\nAt the very beginning and\n\n92\n00:04:05.850 --> 00:04:08.410\nif you chose single you were never\ngoing too far, you were stuck.\n\n93\n00:04:08.410 --> 00:04:10.982\n&gt;&gt; No, you were essentially stuck,\nyou would have to start over.\n\n94\n00:04:10.982 --> 00:04:13.526\n&gt;&gt; Yeah, you have to start all oner.\n\n95\n00:04:13.526 --> 00:04:14.433\n&gt;&gt; It would essentially blow out and\nstart over,\n\n96\n00:04:14.433 --> 00:04:15.420\nnow you're essentially\nforced to do it that way?\n\n97\n00:04:15.420 --> 00:04:16.923\n&gt;&gt; Yes.\n&gt;&gt; Which is not a bad thing,\n\n98\n00:04:16.923 --> 00:04:21.009\nwhen i say forced what i mean is the only\noption is that you build out from\n\n99\n00:04:21.009 --> 00:04:24.544\nthe beginning with this form\narchitecture anthropology for\n\n100\n00:04:24.544 --> 00:04:27.160\nfuture expandability is how we term it.\n\n101\n00:04:27.160 --> 00:04:28.800\nSo even if you start out\nwith a single server,\n\n102\n00:04:28.800 --> 00:04:30.830\nwhich is what we'll do\nas we stand this up.\n\n103\n00:04:30.830 --> 00:04:34.840\n&gt;&gt; We have the option to scale out that\nsolution over time, as we build it,\n\n104\n00:04:34.840 --> 00:04:35.940\nas we need to as you were saying.\n\n105\n00:04:35.940 --> 00:04:37.450\nSo that part's really nice.\n\n106\n00:04:37.450 --> 00:04:41.660\nWe do need the PKI integration, we talked\nabout certificate services, the value and\n\n107\n00:04:41.660 --> 00:04:43.750\nthe role of certificates\nin the last episode.\n\n108\n00:04:43.750 --> 00:04:46.919\nSo Active Directory Certificate Services\nas I pointed out,\n\n109\n00:04:46.919 --> 00:04:50.720\nwhen we took a quick look at just very\nhigh level solution that's there.\n\n110\n00:04:50.720 --> 00:04:54.680\nAnd the skeleton we're putting together,\nI pointed out services are already there.\n\n111\n00:04:54.680 --> 00:04:58.467\nI mentioned we share those certificates\nand make them available between\n\n112\n00:04:58.467 --> 00:05:02.700\nthe forests that are gonna be hosting\nthe relying party and the claims provider.\n\n113\n00:05:02.700 --> 00:05:05.520\nAnd as a result,\nwe have that capability as well.\n\n114\n00:05:05.520 --> 00:05:10.030\nSo PKI and certificate services are also\ngonna be required, keep that in mind.\n\n115\n00:05:10.030 --> 00:05:13.260\nWe're gonna be talk you a lot about those\ncertificates as we start setting things up\n\n116\n00:05:13.260 --> 00:05:14.460\ngoing back and forth.\n\n117\n00:05:14.460 --> 00:05:16.680\nI think I mentioned the token signing\ncertificates in the last episode.\n\n118\n00:05:16.680 --> 00:05:19.130\nThe fact that they're self signed.\n\n119\n00:05:19.130 --> 00:05:22.370\nWhen we stand up the ADFS,\nI was about to say forest.\n\n120\n00:05:22.370 --> 00:05:24.810\nThe ADFS farm and the initial server.\n\n121\n00:05:24.810 --> 00:05:27.260\nWe issue that certificate, and I'm pretty\nsure I called out that it was self signed.\n\n122\n00:05:27.260 --> 00:05:28.050\n&gt;&gt; Yeah.\n\n123\n00:05:28.050 --> 00:05:30.030\n&gt;&gt; But it is self signed,\nso just be aware of that.\n\n124\n00:05:30.030 --> 00:05:32.405\nAnd we also have token signing, scripted\ntime both side to be devide, right?\n\n125\n00:05:32.405 --> 00:05:34.220\nSo the relying party, and\nalso the claims provider.\n\n126\n00:05:34.220 --> 00:05:36.530\nBoth of them are gonna be using them so\n\n127\n00:05:36.530 --> 00:05:39.670\nwe just wanna make sure\nthat we're aware of that.\n\n128\n00:05:39.670 --> 00:05:42.489\nSelf sign certificates for\nthe token signing certificates,\n\n129\n00:05:42.489 --> 00:05:44.015\nwe create the federation trust.\n\n130\n00:05:44.015 --> 00:05:46.443\nAll of that is gong to be done\nas part of the walk through, and\n\n131\n00:05:46.443 --> 00:05:48.045\nwe're gonna start seeing that.\n\n132\n00:05:48.045 --> 00:05:50.055\nLet's jump in and start taking\na look at what we're gonna do?\n\n133\n00:05:50.055 --> 00:05:54.445\nWe'll kind of to start to begin to crawl\nthrough some of the steps here, and\n\n134\n00:05:54.445 --> 00:05:57.305\nlittle by little, we'll gather some\nsteam and we'll make some headway.\n\n135\n00:05:57.305 --> 00:06:00.539\nSo let me just give you the background\nas to what we've done until now, so\n\n136\n00:06:00.539 --> 00:06:04.094\nyou know why we're jumping in with\nthe post-deployment configuration wizard\n\n137\n00:06:04.094 --> 00:06:04.693\nready to go.\n\n138\n00:06:04.693 --> 00:06:07.285\nAnd we've already kind of fast forwarded\nthrough a couple of steps that\n\n139\n00:06:07.285 --> 00:06:08.430\nare required for this.\n\n140\n00:06:08.430 --> 00:06:10.100\nI know in the last episode I did show you,\nbut\n\n141\n00:06:10.100 --> 00:06:14.300\nin case you haven't seen it, I went\nthrough and I pointed out in PowerShell.\n\n142\n00:06:14.300 --> 00:06:17.590\nYou can see it highlighted there,\nthat I've just gone ahead and\n\n143\n00:06:17.590 --> 00:06:22.285\ndone the initial installation by using\nAdd-WindowsFeature, the cmdlet there,\n\n144\n00:06:22.285 --> 00:06:24.970\nadfs-federation, IncludeMangementTools.\n\n145\n00:06:24.970 --> 00:06:27.280\nYou've seen us do this in lots of\ndifferent episodes with different\n\n146\n00:06:27.280 --> 00:06:30.450\nPowerShell solutions around ADRMS,\nADCS, ADDS.\n\n147\n00:06:30.450 --> 00:06:34.890\nWe could install or configure these\nroles and features in a variety of ways.\n\n148\n00:06:34.890 --> 00:06:38.823\nThere's always the Server Manager\nbased GUI, right?\n\n149\n00:06:38.823 --> 00:06:40.810\nAnd we can use PowerShell.\n\n150\n00:06:40.810 --> 00:06:43.030\nSo we're using PowerShell here,\nwe just ran that.\n\n151\n00:06:43.030 --> 00:06:47.670\nYou could see our success,\nno restart required exit code success for\n\n152\n00:06:47.670 --> 00:06:49.240\nconfiguration purposes.\n\n153\n00:06:49.240 --> 00:06:52.244\nNow, we do get hey, a little warning here,\nit's not a big deal,\n\n154\n00:06:52.244 --> 00:06:55.632\nit doesn't mean anything to us perse\nin the sense that it's going to in any\n\n155\n00:06:55.632 --> 00:06:58.330\nway negatively impact our\nability to be successful here.\n\n156\n00:06:58.330 --> 00:07:01.890\nBut since it's up on the screen it's\njust worth calling out for a minute.\n\n157\n00:07:01.890 --> 00:07:05.740\nWarning here, windows automatic update not\nenabled, to ensure newly installed roller\n\n158\n00:07:05.740 --> 00:07:08.330\nfeature is automatically\nupdated turn on Windows update.\n\n159\n00:07:08.330 --> 00:07:10.320\nAll that's telling us is that hey,\n\n160\n00:07:10.320 --> 00:07:15.020\nyou don't have windows automatic\nupdate capability enabled here.\n\n161\n00:07:15.020 --> 00:07:17.970\nProbably from the best practice\nperspective, a good idea to enable that.\n\n162\n00:07:17.970 --> 00:07:21.820\nBut even if we choose to ignore that,\nit's not goinna impact us negatively.\n\n163\n00:07:21.820 --> 00:07:23.340\nWe can go off about our business,\n\n164\n00:07:23.340 --> 00:07:27.480\nconfigure ADFS, be very happy,\nand although obviously we 're\n\n165\n00:07:27.480 --> 00:07:30.850\nopening ourselves up to security\nliabilities if we're not auto-updating.\n\n166\n00:07:30.850 --> 00:07:33.480\nWe're not gonna have a negative impact,\nthere's not any point in\n\n167\n00:07:33.480 --> 00:07:36.410\nthe architecture and configuration\nwhere it's gonna stop and say, hey,\n\n168\n00:07:36.410 --> 00:07:39.010\nthis isn't configured,\nyou can't go any further, right?\n\n169\n00:07:39.010 --> 00:07:40.480\nSo just make sure you're aware of that.\n\n170\n00:07:40.480 --> 00:07:44.180\nBut that warning is just there because\nthat's a standing best practice rule\n\n171\n00:07:44.180 --> 00:07:47.610\nfrom a security stand point but\nnot because it'll impact capabilities.\n\n172\n00:07:47.610 --> 00:07:48.315\nWe've gone ahead and\n\n173\n00:07:48.315 --> 00:07:50.638\nwe've done this, we've set this\nup already as we've talked about.\n\n174\n00:07:50.638 --> 00:07:54.914\nNow what we're gonna do\nis we're gonna go in.\n\n175\n00:07:54.914 --> 00:07:56.747\nWe just touch switch over here real quick.\n\n176\n00:07:56.747 --> 00:08:00.068\nAnd we're gonna run our post\nconfiguration wizard to\n\n177\n00:08:00.068 --> 00:08:03.770\nessentially do the actual\nconfiguration of the adfs role.\n\n178\n00:08:03.770 --> 00:08:06.220\nWhat we've done is\nenable the feature role.\n\n179\n00:08:06.220 --> 00:08:07.870\nWe havent' actually done\nanything to configure it.\n\n180\n00:08:07.870 --> 00:08:10.460\nSo now what we're gonna do is\ncome in here on the machine.\n\n181\n00:08:10.460 --> 00:08:13.730\nThis is our domain controller\nas you can see here, right?\n\n182\n00:08:13.730 --> 00:08:17.750\nAnd we do support the installation of\nadfs on domain controllers cuz we're\n\n183\n00:08:17.750 --> 00:08:22.050\nnever gonna use the adds instance to\nbe able to be the repository right.\n\n184\n00:08:22.050 --> 00:08:24.720\nWe talked about this one we\ntalked about our vocabulary.\n\n185\n00:08:24.720 --> 00:08:28.134\nWe're going to be using this [CROSSTALK]\nabsolutely right if you remember our\n\n186\n00:08:28.134 --> 00:08:28.998\nattribute store.\n\n187\n00:08:28.998 --> 00:08:31.910\n&gt;&gt; [INAUDIBLE] I think\nyou said authentication.\n\n188\n00:08:31.910 --> 00:08:35.730\n&gt;&gt; Although you can see just remembering\nour vocabulary list from our last episode.\n\n189\n00:08:35.730 --> 00:08:37.760\nOur attribute store is the ADDS.\n\n190\n00:08:37.760 --> 00:08:41.330\nSo what better place than our domain\ncontroller to put this thing on and\n\n191\n00:08:41.330 --> 00:08:42.485\nconfigure it, right?\n\n192\n00:08:42.485 --> 00:08:43.580\nOne-stop shopping, as you said.\n\n193\n00:08:43.580 --> 00:08:44.580\n&gt;&gt; Makes sense, right?\n&gt;&gt; Makes a lot of sense.\n\n194\n00:08:44.580 --> 00:08:47.400\n&gt;&gt; You should be able to find the domain\ncontroller to look up attributes\n\n195\n00:08:47.400 --> 00:08:48.400\nif it needs to.\n\n196\n00:08:48.400 --> 00:08:49.880\n&gt;&gt; Absolutely.\n&gt;&gt; And I think we mentioned in the first\n\n197\n00:08:49.880 --> 00:08:52.700\nepisode too, similar security\nneeds to a domain controller.\n\n198\n00:08:52.700 --> 00:08:54.390\n&gt;&gt; Yes,\nyou should treat them in your mind,\n\n199\n00:08:54.390 --> 00:08:57.020\nthink about them,\n&gt;&gt; In the sense that since we are going to\n\n200\n00:08:57.020 --> 00:09:00.240\ncohabitate this role that essentially\nthey will be one in the same.\n\n201\n00:09:00.240 --> 00:09:03.850\nSo that web application proxy is gonna\nbecome important if we want to enable\n\n202\n00:09:03.850 --> 00:09:08.720\nexternal access and expose this solution\nbut not really expose it, right?\n\n203\n00:09:08.720 --> 00:09:11.700\nJust make it available but do so\nin a secure way as you were talking.\n\n204\n00:09:11.700 --> 00:09:12.400\n&gt;&gt; Absolutely.\n\n205\n00:09:12.400 --> 00:09:15.970\n&gt;&gt; All right, so all I do is click on\nthe little link here that says hey,\n\n206\n00:09:15.970 --> 00:09:18.530\nrun the post configuration,\ninstall Wizard So\n\n207\n00:09:18.530 --> 00:09:20.650\nnow we are gonna do\nthe configuration of ADFS.\n\n208\n00:09:20.650 --> 00:09:21.760\nAs you could see it there.\n\n209\n00:09:21.760 --> 00:09:23.130\nSo we got some stuff here, right?\n\n210\n00:09:23.130 --> 00:09:26.420\nWe got a database requirement there,\ngot some service properties,\n\n211\n00:09:26.420 --> 00:09:31.220\ngotta connect over to ADDS, make sure we\nhave a pathway that we can establish and\n\n212\n00:09:31.220 --> 00:09:32.430\nenable for communication.\n\n213\n00:09:32.430 --> 00:09:35.500\nTo allow the attribute store\ncommunication to take place.\n\n214\n00:09:35.500 --> 00:09:36.372\nWe got some prerequisites here.\n\n215\n00:09:36.372 --> 00:09:39.770\nIt says before you begin configuring\nyou must have the following.\n\n216\n00:09:39.770 --> 00:09:41.990\nAn AD domain administrator account.\n\n217\n00:09:41.990 --> 00:09:44.260\nWell we normally will have access to that,\nright?\n\n218\n00:09:44.260 --> 00:09:45.970\nSo if you don't have access to it.\n\n219\n00:09:45.970 --> 00:09:48.670\nYou gotta make sure you can\nfind the people that do.\n\n220\n00:09:49.740 --> 00:09:52.040\nIn a lot of big organizations.\n\n221\n00:09:52.040 --> 00:09:52.960\nYou probably, I'm sure,\n\n222\n00:09:52.960 --> 00:09:57.170\nhave had experience with this outside\nin various companies and places.\n\n223\n00:09:57.170 --> 00:10:01.040\nYou know, a lot of my customers, a lot of\nmy students, come from companies where\n\n224\n00:10:01.040 --> 00:10:05.060\nit is Is gonna have or they will have\na separate group that manages the ADDS.\n\n225\n00:10:05.060 --> 00:10:07.200\nSo whatever the directory,\nthe version of the directory will be,\n\n226\n00:10:07.200 --> 00:10:09.210\nbut we're Microsoft centric in this show.\n\n227\n00:10:09.210 --> 00:10:11.080\nSo we're thinking ADDS, right?\n\n228\n00:10:11.080 --> 00:10:14.340\nBut they have a dedicated team\nthat essentially manages ADDS.\n\n229\n00:10:14.340 --> 00:10:17.820\nThey control the admin accounts, the\nenterprise accounts, those kind of things.\n\n230\n00:10:17.820 --> 00:10:21.830\nAnd those accounts may not be made\navailable to infrastructure IT.\n\n231\n00:10:21.830 --> 00:10:25.620\nPeople that are doing configuration\nservice like ADFS now in many of those\n\n232\n00:10:25.620 --> 00:10:29.900\ncases the ADT may actually stand\nup a service like this, right.\n\n233\n00:10:29.900 --> 00:10:32.520\nThey may not actually allow\nsomebody like yourself or\n\n234\n00:10:32.520 --> 00:10:35.210\nmyself or whoever would be doing it.\n\n235\n00:10:35.210 --> 00:10:37.190\nTo come in and do what they would.\n\n236\n00:10:37.190 --> 00:10:39.940\nEither take it over and\ndo it themselves, or\n\n237\n00:10:39.940 --> 00:10:42.920\nthey would have a dedicated member of\ntheir team present for the install.\n\n238\n00:10:42.920 --> 00:10:45.250\nThey would provide the credential or\nvice versa.\n\n239\n00:10:45.250 --> 00:10:48.380\nYou would go and work with them and\nyou know, however you do it.\n\n240\n00:10:48.380 --> 00:10:50.270\nBut my point is.\n\n241\n00:10:50.270 --> 00:10:54.640\nIt's not uncommon that you're gonna have\nto partner with a team that controls those\n\n242\n00:10:54.640 --> 00:10:56.930\naccounts in large organizations.\n\n243\n00:10:56.930 --> 00:11:00.010\nIn smaller shops where probably\nan army of one, right?\n\n244\n00:11:00.010 --> 00:11:01.050\n&gt;&gt; Yes [LAUGH].\n&gt;&gt; Or an army of two or\n\n245\n00:11:01.050 --> 00:11:03.910\nthree but essentially it's\nyou doing a lot of things.\n\n246\n00:11:03.910 --> 00:11:08.200\nWearing a lot of hats and probably\nhaving control over that infrastructure.\n\n247\n00:11:08.200 --> 00:11:10.790\nThen it's much more likely that you\nwould have access to that account or\n\n248\n00:11:10.790 --> 00:11:14.566\nknow what it is without having to go get\nthe credential from somebody, right?\n\n249\n00:11:14.566 --> 00:11:16.630\nSo I just wanna point that out and\nthink about that and\n\n250\n00:11:16.630 --> 00:11:17.830\nmake sure you're aware of that.\n\n251\n00:11:17.830 --> 00:11:21.410\nAll right, so in our case it's gonna\nbe Mike who has those keys and\n\n252\n00:11:21.410 --> 00:11:22.640\nhe's gonna control all that.\n\n253\n00:11:22.640 --> 00:11:24.780\nAnd they probably trust him because\nthey don't trust me with anything.\n\n254\n00:11:24.780 --> 00:11:25.554\n&gt;&gt; If you ask me nicely, yes.\n\n255\n00:11:25.554 --> 00:11:26.200\n&gt;&gt; Yeah.\n\n256\n00:11:26.200 --> 00:11:29.600\nI only get to talk about it but I actually\nknow, I have no rights to anything.\n\n257\n00:11:29.600 --> 00:11:31.290\n&gt;&gt; Right?\n&gt;&gt; That's cuz I can't type to save my\n\n258\n00:11:31.290 --> 00:11:32.020\nlife, if I had to.\n\n259\n00:11:32.020 --> 00:11:33.860\nEven if I had to type it,\nI wouldn't know how to type it.\n\n260\n00:11:33.860 --> 00:11:38.270\nAll right, I'm gonna probably trust the\ncertificate for SSL server authentication.\n\n261\n00:11:38.270 --> 00:11:41.820\nNow this is important,\nlet's talk about this for a minute, right?\n\n262\n00:11:41.820 --> 00:11:43.390\nHelp me to tease this out.\n\n263\n00:11:43.390 --> 00:11:46.710\nBecause this is actually a really,\nreally important point.\n\n264\n00:11:46.710 --> 00:11:48.220\nPublically trusted, right?\n\n265\n00:11:48.220 --> 00:11:49.150\n&gt;&gt; Publically trusted?\n\n266\n00:11:49.150 --> 00:11:52.780\n&gt;&gt; Publically trusted certificate for\nSSL server authentication.\n\n267\n00:11:52.780 --> 00:11:54.460\nWhat we're essentially saying there,\nright?\n\n268\n00:11:54.460 --> 00:11:57.120\nAnd this is that sticky thing\nthat always happens where\n\n269\n00:11:57.120 --> 00:11:59.809\nyo go into those websites you get\na certificate warning, right?\n\n270\n00:11:59.809 --> 00:12:01.630\nBecause certificates are not trusted.\n\n271\n00:12:01.630 --> 00:12:04.202\nNow, It's not that we\ncan't get around that but\n\n272\n00:12:04.202 --> 00:12:07.920\nit requires additional steps and\ncauses things to be a problem.\n\n273\n00:12:07.920 --> 00:12:10.960\nNow, our self sign certificates,\npublicly trusted by designer, by default.\n\n274\n00:12:10.960 --> 00:12:14.320\n&gt;&gt; They are not to go\nout there in the wild.\n\n275\n00:12:14.320 --> 00:12:15.110\n&gt;&gt; No they are not.\n\n276\n00:12:15.110 --> 00:12:20.485\nBut we said, and were very specific\nthat we self sign the sign strip and\n\n277\n00:12:20.485 --> 00:12:24.815\nall these certificates are generally being\nissued from our own internal PKI and\n\n278\n00:12:24.815 --> 00:12:27.195\nare being self signed\nduring the installation.\n\n279\n00:12:27.195 --> 00:12:29.145\nSo how are gonna make\nthem publicly trusted?\n\n280\n00:12:29.145 --> 00:12:30.895\n&gt;&gt; I think we're gonna\nhave to swap certificates.\n\n281\n00:12:30.895 --> 00:12:32.085\n&gt;&gt; We're gonna have to swap certificates.\n\n282\n00:12:32.085 --> 00:12:35.375\n&gt;&gt; We're gonna have to get one\nthat's issued by a third party or\n\n283\n00:12:35.375 --> 00:12:37.900\nsomebody that's trusted by default.\n\n284\n00:12:37.900 --> 00:12:40.458\nGive a certificate for them and\nthen maybe swap those guys out.\n\n285\n00:12:40.458 --> 00:12:42.220\n&gt;&gt; We are and so let's talk about that for\n\n286\n00:12:42.220 --> 00:12:44.970\njust a minute because that's actually\na great point and that's one of\n\n287\n00:12:44.970 --> 00:12:48.910\nthe background things I also did before\nwe got started, was to do all that.\n\n288\n00:12:48.910 --> 00:12:51.379\nAnd swap those certificates out.\n\n289\n00:12:51.379 --> 00:12:54.683\nSo let me give you insight into what\nwe did because without these pre\n\n290\n00:12:54.683 --> 00:12:58.408\nreqs being in placed it's going to be\na very short trip for us, [INAUDIBLE].\n\n291\n00:12:58.408 --> 00:13:02.310\nWe're not ganna get too far, it's gonna\nbe a oneway trip, it's gonna end poorly.\n\n292\n00:13:02.310 --> 00:13:05.916\nSo one of the other background steps we\nengaged in was that we set up both of\n\n293\n00:13:05.916 --> 00:13:09.080\nthese forests, so,\nactually built a secondary forest.\n\n294\n00:13:09.080 --> 00:13:11.420\nThat parts a little bit out beyond\nthe scope of the conversation we're having\n\n295\n00:13:11.420 --> 00:13:13.980\nhere in terms of\nthe specific steps involved.\n\n296\n00:13:13.980 --> 00:13:17.200\nThere's other episodes in this series that\nwe talked about how to do all that stuff\n\n297\n00:13:17.200 --> 00:13:19.330\nin, encourage you to take a look at those.\n\n298\n00:13:19.330 --> 00:13:22.540\nBut the high level is essentially\nwe set up a brand new forest.\n\n299\n00:13:22.540 --> 00:13:25.080\nGave it its own fully\nqualified domain name space.\n\n300\n00:13:25.080 --> 00:13:27.590\nSet that all up,\nthat's pretty straight forward.\n\n301\n00:13:27.590 --> 00:13:29.220\nHave that running.\n\n302\n00:13:29.220 --> 00:13:31.800\nHave DNS to support that so\nall that's there.\n\n303\n00:13:31.800 --> 00:13:35.380\nInstall the ADCS in both forests,\nboth the one we're in right now.\n\n304\n00:13:35.380 --> 00:13:39.630\nThe plab DC zero one machine is anchoring\nthe practicelabs dot com domain,\n\n305\n00:13:39.630 --> 00:13:41.430\nthe one we often will demo with.\n\n306\n00:13:41.430 --> 00:13:45.324\nThe other forest I built out is\nthe practice it dot code dot uk.\n\n307\n00:13:45.324 --> 00:13:48.950\nthe used that on a case depending\non the number of episodes and\n\n308\n00:13:48.950 --> 00:13:53.090\nshows you watch some of the more complex\ntopics we tend to build out multiple\n\n309\n00:13:53.090 --> 00:13:57.480\ndomains and forest then we use those two\ntraditionally much like a data dot com.\n\n310\n00:13:57.480 --> 00:14:01.230\nAll the other ones that\nMicrosoft puts out and\n\n311\n00:14:01.230 --> 00:14:05.660\nremember traders and blue yonder\nairlines and all that crazy stuff right?\n\n312\n00:14:05.660 --> 00:14:07.030\nSo have all those.\n\n313\n00:14:07.030 --> 00:14:11.130\nWe're dating yourselves some\nof those don't exist anymore.\n\n314\n00:14:11.130 --> 00:14:12.970\nAnd so we have tht, so those out.\n\n315\n00:14:14.660 --> 00:14:16.467\nInstall the ADCS in both our forest.\n\n316\n00:14:16.467 --> 00:14:19.030\nSo I installed certificated services.\n\n317\n00:14:19.030 --> 00:14:20.860\nSo let's go back, take a look.\n\n318\n00:14:20.860 --> 00:14:23.850\nI'm on [INAUDIBLE] on\npracticelabs.com as you can see.\n\n319\n00:14:23.850 --> 00:14:26.640\nAnd you can see the active\ndirectory certificates services\n\n320\n00:14:26.640 --> 00:14:30.010\ncertificate authority management\nconsole here opened up, right.\n\n321\n00:14:30.010 --> 00:14:35.225\nAnd you'll see that I have my\ncertificated authority it's online here.\n\n322\n00:14:35.225 --> 00:14:37.928\nSee the little green circle light, check.\n\n323\n00:14:37.928 --> 00:14:41.923\nAnd what I did was after we did this, the\nCA is initially brought up with its own\n\n324\n00:14:41.923 --> 00:14:45.800\nself-signed certificate, in other words,\nwe give ourselves as the CA,\n\n325\n00:14:45.800 --> 00:14:49.180\nespecially since these are both\nenterprise root CA, right?\n\n326\n00:14:49.180 --> 00:14:53.520\nThe anchor of the PKI infrastructure\ninitially is either stand alone,\n\n327\n00:14:53.520 --> 00:14:55.000\nroot CA or an enterprise root CA.\n\n328\n00:14:55.000 --> 00:14:59.150\nIn our case, it's domain joined so\nit's an enterprise route CA.\n\n329\n00:14:59.150 --> 00:15:00.800\nWe self cite our own certificates,\n\n330\n00:15:00.800 --> 00:15:05.570\ngive ourselves essentially the right\nas the root of the PKI installation.\n\n331\n00:15:05.570 --> 00:15:08.990\nAs the root CA we give ourselves\nthe right to, operate.\n\n332\n00:15:08.990 --> 00:15:11.850\nWe say, yeah, we're okay,\nwe self-sign our own certificate.\n\n333\n00:15:11.850 --> 00:15:14.540\nSo we keep coming back to this idea\nof everything being self-signed.\n\n334\n00:15:14.540 --> 00:15:17.080\nSome point somebody's gotta stand up and\nsay, I trust myself, and\n\n335\n00:15:17.080 --> 00:15:18.990\nyou should all just shut up and trust me.\n\n336\n00:15:18.990 --> 00:15:20.140\n&gt;&gt; [LAUGH]\n&gt;&gt; And so we did that,\n\n337\n00:15:20.140 --> 00:15:22.080\nessentially, as we install.\n\n338\n00:15:22.080 --> 00:15:23.680\nAnd so we have to take that certificate,\n\n339\n00:15:23.680 --> 00:15:27.560\nlike Mike was suggesting,\nand export that out.\n\n340\n00:15:27.560 --> 00:15:30.430\nMake that available to the other\nside of this relationship.\n\n341\n00:15:30.430 --> 00:15:32.580\nAnd of course vice versa,\nyou could do this both ways.\n\n342\n00:15:32.580 --> 00:15:33.520\nSo how do we do that?\n\n343\n00:15:33.520 --> 00:15:34.930\nLet's just take a quick look.\n\n344\n00:15:34.930 --> 00:15:36.850\nSo I'm in my certificate authority.\n\n345\n00:15:36.850 --> 00:15:40.770\nRight click on the root of the CA,\nwhich is the machine itself.\n\n346\n00:15:40.770 --> 00:15:42.810\nAnd we go to properties, right here.\n\n347\n00:15:42.810 --> 00:15:46.603\nNow I do a pretty deep, thorough\nconversation about this entire thought\n\n348\n00:15:46.603 --> 00:15:50.581\nprocess, more than you would ever want\nto know and it was like six episodes,\n\n349\n00:15:50.581 --> 00:15:53.565\nif I remember correctly,\nwith ADCS, the discussion and\n\n350\n00:15:53.565 --> 00:15:55.639\nthe show around certificate service.\n\n351\n00:15:55.639 --> 00:15:59.511\nIf you want a much more deeper,\nmore thorough, more detailed explanation,\n\n352\n00:15:59.511 --> 00:16:02.443\nit's a little bit slower in pace,\nwatch those episodes.\n\n353\n00:16:02.443 --> 00:16:05.695\nThis is just a real high level reference\nto what we've already talked about.\n\n354\n00:16:05.695 --> 00:16:09.067\nBut we go in here, we go to the General\ntab, and you can see right there,\n\n355\n00:16:09.067 --> 00:16:10.200\nCA certificates.\n\n356\n00:16:10.200 --> 00:16:13.005\nCertificate # or number 0, right?\n\n357\n00:16:13.005 --> 00:16:17.746\nThat is the first certificate issued, and\nthat is the top certificate self signed,\n\n358\n00:16:17.746 --> 00:16:21.552\ngiving us the right to essentially\nexist as the enterprise root CA,\n\n359\n00:16:21.552 --> 00:16:24.080\ntrusting ourselves with self signed.\n\n360\n00:16:24.080 --> 00:16:27.734\nIn order to export that certificate for\ndoing it from the GUI.\n\n361\n00:16:27.734 --> 00:16:28.772\nYou could do this from PowerShell.\n\n362\n00:16:28.772 --> 00:16:31.440\nThat would be different,\nbut here, View Certificate.\n\n363\n00:16:32.740 --> 00:16:34.540\nObviously highlight\nthe appropriate certificate.\n\n364\n00:16:34.540 --> 00:16:36.960\nThere's only one, so, but\nif we had multiple certificates,\n\n365\n00:16:36.960 --> 00:16:39.120\nmake sure you're highlighting\nthe one you wanna export.\n\n366\n00:16:39.120 --> 00:16:40.667\nProbably important to throw that in there,\nright?\n\n367\n00:16:40.667 --> 00:16:43.050\n&gt;&gt; [LAUGH]\n&gt;&gt; And then go to Details.\n\n368\n00:16:43.050 --> 00:16:45.880\nAnd down here it says copy to file.\n\n369\n00:16:45.880 --> 00:16:47.810\nClick that, we get a little wizard.\n\n370\n00:16:47.810 --> 00:16:49.635\nMove this over so you can see that.\n\n371\n00:16:49.635 --> 00:16:51.602\nAnd we run the certificate export wizard.\n\n372\n00:16:51.602 --> 00:16:52.970\nIt's very straight forward.\n\n373\n00:16:52.970 --> 00:16:57.090\nWe decide what version or\nform the export file will take.\n\n374\n00:16:57.090 --> 00:17:01.044\nThe default is the DER\nencoded binary X.509.cer,\n\n375\n00:17:01.044 --> 00:17:06.526\nas opposed to base 64 or as opposed to\nthe .p7b, or one of the other types.\n\n376\n00:17:06.526 --> 00:17:10.273\nSo you would normally accept the default\nhere, .cer, the extension for\n\n377\n00:17:10.273 --> 00:17:11.670\nthe certificate, right?\n\n378\n00:17:11.670 --> 00:17:15.850\nSo we're gonna take that click Next,\nwe have to give it a name.\n\n379\n00:17:15.850 --> 00:17:17.038\nNow, I've already done this.\n\n380\n00:17:17.038 --> 00:17:21.099\nI'm not going to run this again,\nbut you can see here,\n\n381\n00:17:21.099 --> 00:17:26.394\nif I go to the root of the C Drive,\nI'll just come down here real quick and\n\n382\n00:17:26.394 --> 00:17:29.270\nyou'll see right there plabdc01.\n\n383\n00:17:29.270 --> 00:17:31.630\nThat's the certificate already exported.\n\n384\n00:17:31.630 --> 00:17:34.190\nSo I just did C:/ whatever the name is.\n\n385\n00:17:34.190 --> 00:17:37.030\nI just name it the name of the machine so\nI know which certificate is which.\n\n386\n00:17:37.030 --> 00:17:39.673\nSo as I'm crossing them and\nexporting and importing,\n\n387\n00:17:39.673 --> 00:17:43.585\nI don't lose track of which one is which,\ncuz that would obviously not end well.\n\n388\n00:17:43.585 --> 00:17:46.985\nAll right, so I have that, so\nI did that on both this machine and\n\n389\n00:17:46.985 --> 00:17:51.300\nthe forest route for the other domain, or\nthe other forest route that we set up.\n\n390\n00:17:51.300 --> 00:17:53.550\nWe exported both certificates,\nso I've done that.\n\n391\n00:17:55.700 --> 00:17:58.870\nThen what we had to do was,\n\n392\n00:17:58.870 --> 00:18:03.440\nwe had to insure that these\ncertificates would be available.\n\n393\n00:18:03.440 --> 00:18:07.550\nAnd so what we did is set up a group\npolicy that imports them into the trusted\n\n394\n00:18:07.550 --> 00:18:11.350\nroot certificate authority container,\nand brought both certificates in so\n\n395\n00:18:11.350 --> 00:18:16.230\nwe could issue them out to all of the\nmachines and users that would have them\n\n396\n00:18:16.230 --> 00:18:20.130\nin each forest and make sure that they\nwere always available and trust it.\n\n397\n00:18:20.130 --> 00:18:24.170\nThis is how we get a publicly\ntrusted certificate for SSL use.\n\n398\n00:18:24.170 --> 00:18:26.290\nNow what does that group policy look like?\n\n399\n00:18:26.290 --> 00:18:30.200\nWell a logical place to go would be a\ngroup policy that already manages security\n\n400\n00:18:30.200 --> 00:18:33.440\nand controls aspects of security for\nour domain.\n\n401\n00:18:33.440 --> 00:18:36.568\nSo we have a policy like that, it's\ncalled the default domain policy, right?\n\n402\n00:18:36.568 --> 00:18:40.644\nSo let's quickly take a look at how we\ninsure these certificates are gonna be\n\n403\n00:18:40.644 --> 00:18:43.065\nprovided to every object\nin the directory and\n\n404\n00:18:43.065 --> 00:18:47.397\ntrusted by every object in the directory,\ncuz that's also the other part of this\n\n405\n00:18:47.397 --> 00:18:50.680\nonce we get the certificates\nto exported and available.\n\n406\n00:18:50.680 --> 00:18:52.020\nI just put them in the root c drive so,\n\n407\n00:18:52.020 --> 00:18:54.990\nI can go grab them easily through\nthe administrative share.\n\n408\n00:18:54.990 --> 00:18:56.105\nSo c dollar sign, right,\n\n409\n00:18:56.105 --> 00:18:59.162\nwould be how I would grab that as part\nof the path to get the certificate.\n\n410\n00:18:59.162 --> 00:19:02.350\nAll right, so, now let's just quickly\ntake a look at the group policy.\n\n411\n00:19:02.350 --> 00:19:06.085\nSo I'm in the group\npolicy management column.\n\n412\n00:19:06.085 --> 00:19:09.230\nSo let's assume I'm in my server manager,\nas I am here.\n\n413\n00:19:09.230 --> 00:19:12.221\nI would go to tools, go to group\npolicy management editor, right?\n\n414\n00:19:12.221 --> 00:19:13.420\nSo group policy editor.\n\n415\n00:19:13.420 --> 00:19:14.010\nBring that up,\n\n416\n00:19:14.010 --> 00:19:17.520\nlet's pretend that I clicked on that\nwithout having to get rid of this wizard.\n\n417\n00:19:17.520 --> 00:19:20.150\nAnd it would look like this,\nGroup Policy Management console.\n\n418\n00:19:20.150 --> 00:19:23.570\nGo to my default domain policy,\nright-click Edit, pretend I did that,\n\n419\n00:19:23.570 --> 00:19:26.390\nand I would have this policy right here,\nright?\n\n420\n00:19:26.390 --> 00:19:30.330\nAnd what I would be doing, what you would\nbe doing, you could see the output of what\n\n421\n00:19:30.330 --> 00:19:34.370\nI did, which is right here, is I go\nto the computer configuration area,\n\n422\n00:19:34.370 --> 00:19:36.820\ncuz we're doing this and\nloading them into the computer.\n\n423\n00:19:36.820 --> 00:19:40.760\nSo we're attaching them to the computers,\nthe machines the user is on, so\n\n424\n00:19:40.760 --> 00:19:43.380\nthat they'll be present and\ntrusted so we can use them.\n\n425\n00:19:43.380 --> 00:19:46.475\nCuz remember, we're talking about\nsecure SSL-based communication.\n\n426\n00:19:46.475 --> 00:19:48.965\nDo users communicate securely with SSL or\n\n427\n00:19:48.965 --> 00:19:52.625\ndo applications on computers on\nbehalf of users communicate?\n\n428\n00:19:52.625 --> 00:19:53.615\n&gt;&gt; I'm gonna go with the applications.\n\n429\n00:19:53.615 --> 00:19:55.085\n&gt;&gt; And you gotta think about this, right?\n\n430\n00:19:55.085 --> 00:19:58.003\nIn other words, where do you wanna\nattach these certificates and\n\n431\n00:19:58.003 --> 00:19:59.819\nwhere do you wanna make them available?\n\n432\n00:19:59.819 --> 00:20:01.314\nYou don't want to give them to a user.\n\n433\n00:20:01.314 --> 00:20:03.935\nYou wanna give them to a computer that's\ngonna operate on behalf of the user.\n\n434\n00:20:03.935 --> 00:20:06.835\nThat's why we attach them to the computer\nportion of the default domain\n\n435\n00:20:06.835 --> 00:20:07.415\npolicy, right?\n\n436\n00:20:08.430 --> 00:20:11.995\nIt's amazing, and\nthis is our random aside, by the way.\n\n437\n00:20:11.995 --> 00:20:14.580\nBut when I stop and think about,\nso we explain all this, and\n\n438\n00:20:14.580 --> 00:20:16.740\ntry to be methodical and\nwalk it through so\n\n439\n00:20:16.740 --> 00:20:18.760\neverybody has a better sense of\nthat as we're doing it, right?\n\n440\n00:20:18.760 --> 00:20:22.330\nAnd you break it down, and it begins,\nhopefully, it's making sense to you.\n\n441\n00:20:22.330 --> 00:20:24.550\nHopefully, it does make sense\nwhen we put all together.\n\n442\n00:20:24.550 --> 00:20:25.390\nBut when you go through and\n\n443\n00:20:25.390 --> 00:20:28.710\nyou kinda think about it logically, step\nby step, like we were just explaining,\n\n444\n00:20:28.710 --> 00:20:31.500\nit does become relatively\neasy to understand, right?\n\n445\n00:20:31.500 --> 00:20:34.231\nBut it's a very complex topic when\nyou just read about it on paper.\n\n446\n00:20:34.231 --> 00:20:38.078\nIt's kind of flat and one-dimensional,\nhere's the 20 things you need.\n\n447\n00:20:38.078 --> 00:20:39.133\nYeah, we need these certificates.\n\n448\n00:20:39.133 --> 00:20:42.130\nBut they don't ever really tell you where\nyou get them from and why, right, and\n\n449\n00:20:42.130 --> 00:20:45.079\nhow you get them and why do we attach them\nto the computer, instead of the user,\n\n450\n00:20:45.079 --> 00:20:46.310\nlike we just talked about.\n\n451\n00:20:46.310 --> 00:20:49.600\nBecause computers are the ones doing\nthe communicating on behalf of the user.\n\n452\n00:20:49.600 --> 00:20:51.961\nAnd they're the ones that have to trust or\nhave this trusted script to use them.\n\n453\n00:20:51.961 --> 00:20:54.170\n&gt;&gt; They're the ones that have to look and\nsee that that certificate is trusted.\n\n454\n00:20:54.170 --> 00:20:57.270\n&gt;&gt; And validate it, right,\ncuz they're not asking you and I about it.\n\n455\n00:20:57.270 --> 00:21:00.050\nWe're taking the word of\nthe software in the computer and\n\n456\n00:21:00.050 --> 00:21:01.130\nit's saying yeah it's good.\n\n457\n00:21:01.130 --> 00:21:01.970\nLet me go do my stuff.\n\n458\n00:21:01.970 --> 00:21:03.570\nRight, so it's gotta be\ntouched at the computer level.\n\n459\n00:21:03.570 --> 00:21:04.980\nAll right, so\nlet's go back to where we were.\n\n460\n00:21:06.310 --> 00:21:07.464\nSo not such a random aside.\n\n461\n00:21:07.464 --> 00:21:08.394\n&gt;&gt; No, that was a good aside.\n\n462\n00:21:08.394 --> 00:21:09.492\n&gt;&gt; That was actually kind of on topic,\nright?\n\n463\n00:21:09.492 --> 00:21:12.413\nSo that was an aside, but a good one,\nas opposed to a random one.\n\n464\n00:21:12.413 --> 00:21:14.201\nWe could talk about movies,\nthat would be a random aside.\n\n465\n00:21:14.201 --> 00:21:16.788\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so Windows settings.\n\n466\n00:21:16.788 --> 00:21:20.237\nSo we're up here under computer\nconfiguration policy under Windows\n\n467\n00:21:20.237 --> 00:21:21.480\nsecurity settings.\n\n468\n00:21:21.480 --> 00:21:22.340\nWe've been here before.\n\n469\n00:21:22.340 --> 00:21:26.440\nWe do most of our configuration, most\nthings we talk about in quite a number\n\n470\n00:21:26.440 --> 00:21:30.945\nof these episodes, across multiple topic\nareas, wind up being in one of the aspects\n\n471\n00:21:30.945 --> 00:21:34.380\nof this policy somewhere inside\nthe security settings here, right?\n\n472\n00:21:34.380 --> 00:21:36.920\nThink about what's here,\nthings like system services,\n\n473\n00:21:36.920 --> 00:21:41.390\naccount policies, event logging,\nadvance logging, the Windows firewall\n\n474\n00:21:41.390 --> 00:21:44.880\nconfiguration of its policy managers here,\nour public key policies, so\n\n475\n00:21:44.880 --> 00:21:48.120\nPKI are here, so a lot of stuff\nthat goes on this area, right?\n\n476\n00:21:48.120 --> 00:21:51.490\nA lot of interesting stuff, so\nhere we go down in the security settings,\n\n477\n00:21:51.490 --> 00:21:54.467\npublic key policies, so let's just scroll\ndown so you could see where we are.\n\n478\n00:21:55.912 --> 00:21:57.079\nYeah, software restriction.\n\n479\n00:21:57.079 --> 00:21:58.380\nSo AppLocker's in here,right?\n\n480\n00:21:58.380 --> 00:22:01.440\nWe configure AppLocker here,\nnetwork access protection,\n\n481\n00:22:01.440 --> 00:22:03.730\naccess control policies, advanced audit.\n\n482\n00:22:03.730 --> 00:22:05.170\nAll sorts of stuff goes on here.\n\n483\n00:22:05.170 --> 00:22:08.845\nIPsec can be configured in this general\narea right below there as well.\n\n484\n00:22:08.845 --> 00:22:10.440\nLot of cool stuff going on.\n\n485\n00:22:10.440 --> 00:22:13.020\nAll right, so\ntrusted route certification authorities.\n\n486\n00:22:13.020 --> 00:22:16.770\nWhen we go into that folder, whatever\ncertificates we place there are gonna be\n\n487\n00:22:16.770 --> 00:22:20.910\npublished to every machine through group\npolicy and are gonna automatically become\n\n488\n00:22:20.910 --> 00:22:26.155\ntrusted and those route CAs are now\ngonna be known to us and trusted by us.\n\n489\n00:22:26.155 --> 00:22:28.175\nAnd notice the two\ncertificates that are there.\n\n490\n00:22:28.175 --> 00:22:30.405\nThis is empty when we start out,\nthere's nothing here.\n\n491\n00:22:30.405 --> 00:22:33.085\nI'm gonna show you how to import\nthe certificate right now.\n\n492\n00:22:33.085 --> 00:22:38.082\nBut notice I have the practice IT\nCertificate from the other forest, right?\n\n493\n00:22:38.082 --> 00:22:41.802\nAnd I have the practice lab\ncertificate from the forest I'm in.\n\n494\n00:22:41.802 --> 00:22:43.062\nI have to import both.\n\n495\n00:22:43.062 --> 00:22:44.282\nSo what do I do?\n\n496\n00:22:44.282 --> 00:22:48.172\nSame exact thing I did to export them,\nexcept I run an import wizard.\n\n497\n00:22:48.172 --> 00:22:49.982\nEssentially, the same thing but\nin reverse.\n\n498\n00:22:49.982 --> 00:22:52.362\nI just gotta know where to look\nto get those certificates.\n\n499\n00:22:52.362 --> 00:22:53.912\nWhere am I gonna get them from?\n\n500\n00:22:53.912 --> 00:22:57.092\nGo grab that file, bring them in,\nwait a couple of seconds.\n\n501\n00:22:57.092 --> 00:22:58.993\nWizard pops up and says, yeah, we're good.\n\n502\n00:22:58.993 --> 00:23:00.370\nAnd the stuff get shows up here.\n\n503\n00:23:00.370 --> 00:23:03.994\nYou do a GPUpdate force to refresh\nthe policy, or just wait long enough for\n\n504\n00:23:03.994 --> 00:23:07.209\nit to show up, and everybody starts\ngetting the certificates and\n\n505\n00:23:07.209 --> 00:23:08.970\nthey're available, no problem.\n\n506\n00:23:08.970 --> 00:23:12.798\nThis is the background of the basic\nblocking tackling group policy,\n\n507\n00:23:12.798 --> 00:23:16.032\nunderstanding the logic of how\nthe policy gets applied and\n\n508\n00:23:16.032 --> 00:23:20.652\nhow something gets published and how it's\nmade available and what a GPUpdate force\n\n509\n00:23:20.652 --> 00:23:24.424\ncommand would do versus the refresh\npolicy time interval, right?\n\n510\n00:23:24.424 --> 00:23:28.631\nFive minutes by default on domain\ncontrollers, 90 minutes with a 30 minute\n\n511\n00:23:28.631 --> 00:23:32.354\nrandomized offset on servers or\nmember systems, whatever they are.\n\n512\n00:23:32.354 --> 00:23:33.339\nSo what do you do here?\n\n513\n00:23:33.339 --> 00:23:34.610\nRight-click, Import.\n\n514\n00:23:36.260 --> 00:23:38.100\nCertificate import wizard, right.\n\n515\n00:23:38.100 --> 00:23:41.490\nNote it's grayed out because we're\nautomatically importing a computer\n\n516\n00:23:41.490 --> 00:23:44.470\ncertificate cuz we're in the computer\nportion of the group policy.\n\n517\n00:23:44.470 --> 00:23:46.531\nSo it automatically\nknows what we wanna do.\n\n518\n00:23:46.531 --> 00:23:50.443\nNo option for us to make an erroneous\nchoice here by choosing a user certificate\n\n519\n00:23:50.443 --> 00:23:52.470\nhere by mistake and screwing things up.\n\n520\n00:23:52.470 --> 00:23:54.324\nIt's hard coded, in other words, right?\n\n521\n00:23:54.324 --> 00:23:58.159\nIf I had gone down to the user section\nthat grayed out box would say current user\n\n522\n00:23:58.159 --> 00:23:59.523\ninstead of local machine.\n\n523\n00:23:59.523 --> 00:24:01.147\nI click Next.\n\n524\n00:24:01.147 --> 00:24:03.749\nJust reverse the flow for\nwhat I did, we got to know the path.\n\n525\n00:24:03.749 --> 00:24:07.759\nNow I said, if I was gonna go out to\nthe machine that's in the other domain, or\n\n526\n00:24:07.759 --> 00:24:11.560\nrather in the other forest,\nright I would have to know where that is.\n\n527\n00:24:11.560 --> 00:24:14.370\nSo I would just have to provide that path,\nright?\n\n528\n00:24:14.370 --> 00:24:19.815\nSo I can do PlabSA01.\n\n529\n00:24:19.815 --> 00:24:24.360\nC$ sign, which is the root of the drive\nshare or the C$ administrative\n\n530\n00:24:24.360 --> 00:24:29.005\nhidden sharer for the root of the C\ndrive on the Windows machine, right?\n\n531\n00:24:29.005 --> 00:24:32.497\nSo just do that, because I saved the\ncertificate into the root of the C drive,\n\n532\n00:24:32.497 --> 00:24:34.829\nand then just specify\nthe name of the certificate.\n\n533\n00:24:34.829 --> 00:24:40.800\nIn this case it would be practice IT .CER,\nright, or whatever it was.\n\n534\n00:24:40.800 --> 00:24:46.443\nOr the local one, I would just do C:/ and\nthen the name of certificate, PLABDC01.\n\n535\n00:24:46.443 --> 00:24:51.330\nAnd I brought both those in, and once I\ndid each one of those, I have them here.\n\n536\n00:24:51.330 --> 00:24:55.670\nSo the background steps, right, involved\nin getting ready to start doing this.\n\n537\n00:24:55.670 --> 00:24:58.830\nAll the prereqs on that first\nscreen are being met by\n\n538\n00:24:58.830 --> 00:25:02.080\nthe things that we're talking about and\nthat we've done prior to actually\n\n539\n00:25:02.080 --> 00:25:04.230\nstarting the configuration that\nwe're walking through right now.\n\n540\n00:25:04.230 --> 00:25:06.810\n&gt;&gt; Yeah, and\nthis is something just to point out too.\n\n541\n00:25:06.810 --> 00:25:11.060\nIf when we're setting up, let's say we're\nsetting up this federation between us and\n\n542\n00:25:11.060 --> 00:25:12.470\ncompany a.\n\n543\n00:25:12.470 --> 00:25:16.460\nIf we later on wanted to set up\na federation with company b,\n\n544\n00:25:16.460 --> 00:25:20.360\nI would need their certificate to create,\nI would need to import their certificate.\n\n545\n00:25:20.360 --> 00:25:21.970\n&gt;&gt; Just add it to the list.\n\n546\n00:25:21.970 --> 00:25:23.968\n&gt;&gt; So\nwe would just add another one in there.\n\n547\n00:25:23.968 --> 00:25:26.713\nThe other thing we ought to point out for\neverybody too is,\n\n548\n00:25:26.713 --> 00:25:28.650\nhere we've got access to both forests.\n\n549\n00:25:28.650 --> 00:25:32.068\nAnd we can connect to that share,\nthat administrative share.\n\n550\n00:25:32.068 --> 00:25:32.790\n&gt;&gt; Yes.\n\n551\n00:25:32.790 --> 00:25:36.380\n&gt;&gt; Normally, this would probably be\ndone by a administrator from that other\n\n552\n00:25:36.380 --> 00:25:38.980\ncompany, you need to send me\na copy of your certificate.\n\n553\n00:25:38.980 --> 00:25:40.617\n&gt;&gt; Or publish it somewhere\nwhere we could get to it.\n\n554\n00:25:40.617 --> 00:25:44.567\n[CROSSTALK] It maybe up on a web\nserver somewhere, who knows where.\n\n555\n00:25:44.567 --> 00:25:47.037\n&gt;&gt; It's the certificate not\nwithout private key, right?\n\n556\n00:25:47.037 --> 00:25:50.500\nIt was .CER so no private keys,\nthere is no issue with them.\n\n557\n00:25:50.500 --> 00:25:51.250\n&gt;&gt; Public key only.\n\n558\n00:25:51.250 --> 00:25:53.795\n&gt;&gt; Yeah, so they can post it for\nyou, email it to you.\n\n559\n00:25:53.795 --> 00:25:57.150\nIt's not like it has to be kept under\nlock and key as it's delivered to you.\n\n560\n00:25:57.150 --> 00:25:57.927\n&gt;&gt; And that's actually a good point.\n\n561\n00:25:57.927 --> 00:26:00.711\nLet's take a look real quick just before\nwe wrap up this episode because we're just\n\n562\n00:26:00.711 --> 00:26:01.360\nabout out of time.\n\n563\n00:26:01.360 --> 00:26:04.950\nBut let's take a look real\nquick at that certificate.\n\n564\n00:26:04.950 --> 00:26:06.043\nSo let's assume for\n\n565\n00:26:06.043 --> 00:26:10.547\njust a minute that we're looking at the\ncertificate for the practice labs domain.\n\n566\n00:26:10.547 --> 00:26:13.227\nBecause I happened to be in that one for\ndomain control for practice lab.\n\n567\n00:26:13.227 --> 00:26:16.070\nSo we'll just go there and\njust take a look.\n\n568\n00:26:16.070 --> 00:26:20.100\nRemember we can right-click back in the\nCertificate Authority Management console.\n\n569\n00:26:20.100 --> 00:26:23.370\nAnd go here to Properties where\nwe exported the certificate from.\n\n570\n00:26:23.370 --> 00:26:25.060\nRemember, we can view it, right?\n\n571\n00:26:25.060 --> 00:26:25.920\n&gt;&gt; Right.\n\n572\n00:26:25.920 --> 00:26:28.660\n&gt;&gt; And so this is the certificate,\none of the two,\n\n573\n00:26:28.660 --> 00:26:32.570\nthat we put into that Trusted Root CA\nfolder with the default domain policy and\n\n574\n00:26:32.570 --> 00:26:34.340\nare publishing to making available, right?\n\n575\n00:26:34.340 --> 00:26:35.270\nOne of the two.\n\n576\n00:26:35.270 --> 00:26:38.690\nNow, we could see that it is self-signed\nright there by looking and saying,\n\n577\n00:26:38.690 --> 00:26:40.190\nyep, there's no trust path.\n\n578\n00:26:40.190 --> 00:26:43.670\nIt's essentially a single path, so\nit is self-signed, so that's fine.\n\n579\n00:26:43.670 --> 00:26:47.147\nBut under details is where we can\nsee things like version, the key,\n\n580\n00:26:47.147 --> 00:26:50.629\nthe algorithms used,\nthe hashing algorithm, whatever it may be.\n\n581\n00:26:50.629 --> 00:26:52.541\nWe could see SHA-1 RSA is used,\n\n582\n00:26:52.541 --> 00:26:55.890\nunique identifier with\nthe serial number is there.\n\n583\n00:26:55.890 --> 00:26:57.740\nThe issuer, the validity period, etc.\n\n584\n00:26:57.740 --> 00:27:03.483\nA statement of use, but we can also\nsee as we take a look right here,\n\n585\n00:27:03.483 --> 00:27:05.752\nwe can see the public key.\n\n586\n00:27:05.752 --> 00:27:08.890\nAnd it is, I know it may be hard to\nsee but it is labeled public key.\n\n587\n00:27:08.890 --> 00:27:14.180\nIt's an RSA 2048 big key, no private key\nlike Mike was saying only the public key.\n\n588\n00:27:14.180 --> 00:27:18.260\nRemember the private key is kept secret\nand hidden, essentially stored securely\n\n589\n00:27:18.260 --> 00:27:22.110\naway from and separate from\nthe certificate because it's a key pair.\n\n590\n00:27:22.110 --> 00:27:26.210\nWe break the pair, we issue\nthe certificate with part of the key pair,\n\n591\n00:27:26.210 --> 00:27:26.940\nthe public key.\n\n592\n00:27:26.940 --> 00:27:29.380\nMake it available for\nanybody that gets the certificate but\n\n593\n00:27:29.380 --> 00:27:34.470\nthe private key is kept secure by,\nin this case the root CA, and\n\n594\n00:27:34.470 --> 00:27:37.170\nis used to verify and validate activity.\n\n595\n00:27:37.170 --> 00:27:41.070\nSo that it can equally identify itself but\nnot expose the key at the same time.\n\n596\n00:27:41.070 --> 00:27:43.140\nSo we're not giving out that private key.\n\n597\n00:27:43.140 --> 00:27:45.600\nNow we may choose to deal with\nthe private key separately.\n\n598\n00:27:45.600 --> 00:27:48.840\nThere are ways we manage the key and\nall that other stuff is part of\n\n599\n00:27:48.840 --> 00:27:52.150\nthe certificates conversation\nmore in depth in those episodes.\n\n600\n00:27:52.150 --> 00:27:54.138\nBut that private key is kept securely and\n\n601\n00:27:54.138 --> 00:27:58.100\nkept away from that public key\ncertificate that's bound and issued.\n\n602\n00:27:58.100 --> 00:28:01.377\nSo we do issue the certificate, but\nonly with the public key as you suggested.\n\n603\n00:28:01.377 --> 00:28:03.730\nSo it's good just to see that,\nas we were talking about.\n\n604\n00:28:03.730 --> 00:28:08.560\nSo, Mr. Clock on the wall says that part\nthree is about to happen here momentarily.\n\n605\n00:28:08.560 --> 00:28:11.018\nSo let me just quickly explain where\nwe wound up before we wrap up.\n\n606\n00:28:11.018 --> 00:28:14.462\nWe're gonna come back continue our\nconversation walking through how\n\n607\n00:28:14.462 --> 00:28:15.225\nto set up ADFS.\n\n608\n00:28:15.225 --> 00:28:17.195\nJust join me back here for one second.\n\n609\n00:28:17.195 --> 00:28:18.402\nWe have not gotten very far.\n\n610\n00:28:18.402 --> 00:28:21.214\nAs a matter of fact,\nwe stalled out on the first screen, but\n\n611\n00:28:21.214 --> 00:28:22.745\nwe are not stopped by any means.\n\n612\n00:28:22.745 --> 00:28:25.795\nWe simply paused long\nenough to do a pretty good,\n\n613\n00:28:25.795 --> 00:28:30.060\nhopefully from your perspective,\nthorough conversation\n\n614\n00:28:30.060 --> 00:28:34.540\nabout the reasons why we need these\nprereqs to be met and how we meet them.\n\n615\n00:28:34.540 --> 00:28:37.802\nCuz this is the magic that happens behind\nthe scenes that a lot of times you\n\n616\n00:28:37.802 --> 00:28:38.347\nnever see.\n\n617\n00:28:38.347 --> 00:28:41.796\nYou either take it for granted cuz\nsomebody like Mike or I have done it and\n\n618\n00:28:41.796 --> 00:28:43.476\nyou're just now configuring it.\n\n619\n00:28:43.476 --> 00:28:46.930\nOr you get to the screen you're like,\nI don't even know what that means,\n\n620\n00:28:46.930 --> 00:28:50.513\nnext, get a couple of screens and nothing\nworks cuz now you got a back track.\n\n621\n00:28:50.513 --> 00:28:53.080\nAnd figure out what you missed\nbecause you didn't realize you\n\n622\n00:28:53.080 --> 00:28:55.794\nneeded a publicly trusted certificate,\nyou just thought well,\n\n623\n00:28:55.794 --> 00:28:58.010\nI have a certificate that's good enough.\n\n624\n00:28:58.010 --> 00:29:02.081\nYeah, it's okay but as we said, unless\nit's published through group policy and\n\n625\n00:29:02.081 --> 00:29:05.857\nput into everybody's local certificate\nstore and stamped with that seal of\n\n626\n00:29:05.857 --> 00:29:09.825\napproval that says it's trusted, you're\nnot gonna be able to make this work.\n\n627\n00:29:09.825 --> 00:29:11.770\nSo now you know how to do that.\n\n628\n00:29:11.770 --> 00:29:14.640\nSo those pre-reqs have been met\nwith a little length there that\n\n629\n00:29:14.640 --> 00:29:17.180\nas you've seen in other episodes\ntakes us out to the web,\n\n630\n00:29:17.180 --> 00:29:19.450\nshows us what the most\nrecent pre-reqs are.\n\n631\n00:29:19.450 --> 00:29:22.148\nRemember we're talking\nabout 12R2 right now.\n\n632\n00:29:22.148 --> 00:29:25.531\nI'm not suggesting that that's gonna\nchange radically from the time you see\n\n633\n00:29:25.531 --> 00:29:29.069\nthis or any of these episodes to who knows\nwhen in the future until the product is no\n\n634\n00:29:29.069 --> 00:29:29.970\nlonger supported.\n\n635\n00:29:29.970 --> 00:29:33.750\nBut Ubisoft and\nMicrosoft updates their features.\n\n636\n00:29:33.750 --> 00:29:37.307\nSometimes it updates pre-reqs as\na result of implementing support for\n\n637\n00:29:37.307 --> 00:29:40.517\nnew things like multi factor\nauthentication, new claims etc.\n\n638\n00:29:40.517 --> 00:29:43.465\nIt's always good to check the most\nrecent information by using or\n\n639\n00:29:43.465 --> 00:29:47.340\nleveraging those links, going out to the\nweb, kinda seeing what's going on there.\n\n640\n00:29:47.340 --> 00:29:49.831\nSo you might wanna check that\njust to see what's happening.\n\n641\n00:29:49.831 --> 00:29:53.957\nThen below select an option, create\nthe first federation server in the farm or\n\n642\n00:29:53.957 --> 00:29:55.560\nadd a federation server.\n\n643\n00:29:55.560 --> 00:29:57.880\nJust to wrap up this conversation\nthen we'll come back,\n\n644\n00:29:57.880 --> 00:29:59.620\nand we'll continue walking through.\n\n645\n00:29:59.620 --> 00:30:02.530\nBut remember, at the beginning of this\nepisode we talked about the fact that we\n\n646\n00:30:02.530 --> 00:30:04.960\nno longer do a stand alone install, right?\n\n647\n00:30:04.960 --> 00:30:07.170\nRemember now right out of the box,\n\n648\n00:30:07.170 --> 00:30:11.370\nwe're joining a farm, no matter\nwhether it's a single server farm or\n\n649\n00:30:11.370 --> 00:30:13.920\na farm that's positioned to\ngrow exponentially over time.\n\n650\n00:30:13.920 --> 00:30:17.470\nYou'll see we have the option to\ncreate that bridgehead server and\n\n651\n00:30:17.470 --> 00:30:22.160\nstart the farm off, or add to an existing\nfarm by essentially incrementing and\n\n652\n00:30:22.160 --> 00:30:22.960\nadding new servers.\n\n653\n00:30:22.960 --> 00:30:25.135\nWe make that choice here\nin our walk through,\n\n654\n00:30:25.135 --> 00:30:27.434\nwe're going to obviously\nestablish the form.\n\n655\n00:30:27.434 --> 00:30:29.530\nSo we're gonna leave that choice there.\n\n656\n00:30:29.530 --> 00:30:32.384\nWhen you come back for the next episode\nwe'll pick up right from here and\n\n657\n00:30:32.384 --> 00:30:34.960\nwe'll click next and\nwe'll see what happens after that.\n\n658\n00:30:34.960 --> 00:30:36.700\n&gt;&gt; I can't wait to see\nwhat happens after that.\n\n659\n00:30:36.700 --> 00:30:38.020\nI am ready to click next.\n\n660\n00:30:38.020 --> 00:30:40.020\nHopefully, everybody out there is as well.\n\n661\n00:30:40.020 --> 00:30:42.628\nBut as Adam said we are out of time for\nthis particular episode.\n\n662\n00:30:42.628 --> 00:30:46.045\nSo we're gonna have to wait til we come\nback with that part three so stay tuned.\n\n663\n00:30:46.045 --> 00:30:47.820\nFor now, signing off for ITPROTV.\n\n664\n00:30:47.820 --> 00:30:49.640\nI've been your host Mike Rodrick.\n\n665\n00:30:49.640 --> 00:30:50.810\n&gt;&gt; I'm Adam Gordon.\n\n666\n00:30:50.810 --> 00:30:53.196\n&gt;&gt; And we'll see you next time.\n\n667\n00:30:53.196 --> 00:30:59.140\n[MUSIC]\n\n668\n00:30:59.140 --> 00:31:03.124\n&gt;&gt; Thank you for watching ITPROTV.\n\n",
          "vimeoId": "238593293"
        },
        {
          "description": "Adam and Mike continue their walkthrough of the AD FS configuration wizard, discussing how to specify service properties, group managed service accounts, and database options.",
          "length": "1916",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-3-implementing-ad-fs_pt3-101617-PGM.00_00_13_24.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-3-implementing-ad-fs_pt3-101617-PGM.00_00_13_24.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-3-implementing-ad-fs_pt3-101617-PGM.00_00_13_24.Still001-sm.jpg",
          "title": "Implementing AD FS Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:02.905\nWelcome to ITPRO.TV,\nI'm your host [CROSSTALK]\n\n2\n00:00:02.905 --> 00:00:08.280\n[MUSIC]\n\n3\n00:00:08.280 --> 00:00:10.850\n&gt;&gt; You're watching ITPRO.TV.\n\n4\n00:00:10.850 --> 00:00:15.163\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITPro.TV.\n\n5\n00:00:15.163 --> 00:00:19.475\nI'm your host, Mike Rodrick, and\nin this episode we are covering\n\n6\n00:00:19.475 --> 00:00:24.750\nWindows Server 2012 R2 in preparation for\nthat 70-412 exam.\n\n7\n00:00:24.750 --> 00:00:28.830\nSpecifically we're gonna be talking about\nActive Directory Federation Services.\n\n8\n00:00:28.830 --> 00:00:30.090\nWe've already done a couple parts on this.\n\n9\n00:00:30.090 --> 00:00:32.350\nWe've got a lot of\nthe terminology out of the way,\n\n10\n00:00:32.350 --> 00:00:35.920\nthe foundation knowledge that we need\nto work with Federation Services.\n\n11\n00:00:35.920 --> 00:00:38.590\nAnd we've actually begun\nthe installation process or\n\n12\n00:00:38.590 --> 00:00:41.550\nsetting up and\nconfiguring Federation Services.\n\n13\n00:00:41.550 --> 00:00:44.750\nSo here to continue us down that path,\nis Mr. Adam Gordon.\n\n14\n00:00:44.750 --> 00:00:45.980\nWelcome back, Adam.\n\n15\n00:00:45.980 --> 00:00:46.590\n&gt;&gt; Hello, hello.\n\n16\n00:00:46.590 --> 00:00:47.950\nBy the way, we have a pool going.\n\n17\n00:00:47.950 --> 00:00:51.320\nIf you haven't already opted\nin how many times did Mike say\n\n18\n00:00:51.320 --> 00:00:53.095\nFederation Services in the introduction.\n\n19\n00:00:53.095 --> 00:00:56.150\n&gt;&gt; [LAUGH]\n&gt;&gt; If you guess that correctly you can be\n\n20\n00:00:56.150 --> 00:00:57.605\nthe winner of a shiny new bubble.\n\n21\n00:00:57.605 --> 00:00:58.700\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n22\n00:00:58.700 --> 00:01:00.760\nwe're gonna continue\nwith Federation services.\n\n23\n00:01:00.760 --> 00:01:01.945\n&gt;&gt; Outstanding sir, thank you very much.\n\n24\n00:01:01.945 --> 00:01:03.907\n&gt;&gt; We're gonna jump back\nin where we left off.\n\n25\n00:01:03.907 --> 00:01:07.566\nIf you have not seen the last episode\ndefinitely take a look we talked about,\n\n26\n00:01:07.566 --> 00:01:09.509\nplease join me on the screen right here,\n\n27\n00:01:09.509 --> 00:01:11.870\nwe talked about what goes\non in this Pre REC page.\n\n28\n00:01:11.870 --> 00:01:15.880\nWe explained why we need the AD Domain\nAdministrator account where we might get\n\n29\n00:01:15.880 --> 00:01:18.220\nthat from different business\nscenarios about whether or\n\n30\n00:01:18.220 --> 00:01:19.730\nnot we would have access to it, right.\n\n31\n00:01:19.730 --> 00:01:23.380\n&gt;&gt; I will say this is the first time\nwe done an entire episode on the first\n\n32\n00:01:23.380 --> 00:01:24.530\npage of the wizard.\n\n33\n00:01:24.530 --> 00:01:25.788\nBut it was great information.\n\n34\n00:01:25.788 --> 00:01:27.824\nIf you haven't seen it,\ndo go back and check it out.\n\n35\n00:01:27.824 --> 00:01:28.967\n&gt;&gt; Will not be the last.\nWill not be the last,\n\n36\n00:01:28.967 --> 00:01:29.732\nI can promise you that.\n\n37\n00:01:29.732 --> 00:01:30.760\n&gt;&gt; [LAUGH]\n&gt;&gt; I'll be, but it is important.\n\n38\n00:01:30.760 --> 00:01:32.180\nWe talked about this the last episode.\n\n39\n00:01:32.180 --> 00:01:35.840\nIt's important sometimes to take a little\ndeeper dive, look under the hood,\n\n40\n00:01:35.840 --> 00:01:39.250\nreally get the feeling for\nwhat's happening there.\n\n41\n00:01:39.250 --> 00:01:42.520\nSo we can prepare ourselves to be\nsuccessful instead of setting ourselves up\n\n42\n00:01:42.520 --> 00:01:44.560\nto have to redo something,\nright, as we were talking about.\n\n43\n00:01:44.560 --> 00:01:45.729\nSo it is worth the time.\n\n44\n00:01:45.729 --> 00:01:47.751\n&gt;&gt; It's more work, yeah, end up\nmaking a lot more work for yourself.\n\n45\n00:01:47.751 --> 00:01:52.230\n&gt;&gt; You do, and you were talking with me\nduring the break between the episodes.\n\n46\n00:01:52.230 --> 00:01:54.810\nIt is a little confusing when you read\nthrough the documentation like we talked\n\n47\n00:01:54.810 --> 00:01:55.560\nabout the first time.\n\n48\n00:01:55.560 --> 00:01:59.910\nAnd if you take the time to figure it out\nhere, it becomes a lot easier to get all\n\n49\n00:01:59.910 --> 00:02:04.500\nthose other things that are reliant on\nthis decision set you make right here,\n\n50\n00:02:04.500 --> 00:02:05.970\nlined up and working the right way, right?\n\n51\n00:02:05.970 --> 00:02:07.730\nIt just makes everything else better.\n\n52\n00:02:07.730 --> 00:02:10.700\nAll right, so we talked about also the\nfact that we no longer do a stand alone\n\n53\n00:02:10.700 --> 00:02:14.000\ninstall I pointed that out at the end\nof last episode, right down here.\n\n54\n00:02:14.000 --> 00:02:16.200\nWe are setting up our server farm.\n\n55\n00:02:16.200 --> 00:02:22.118\nOur default choice create first federation\nserver in the federation server farm.\n\n56\n00:02:22.118 --> 00:02:25.620\nSo we're gonna go with that because we are\nwalking through the initial stand up and\n\n57\n00:02:25.620 --> 00:02:26.650\nconfiguration.\n\n58\n00:02:26.650 --> 00:02:29.140\nBut if we've already stood up the farm and\nsay in theory,\n\n59\n00:02:29.140 --> 00:02:32.140\nwe have our farm already configured,\nthat bottom option there,\n\n60\n00:02:32.140 --> 00:02:36.320\nsecond radio button, add to an existing\nfarm, let's just scale out, right?\n\n61\n00:02:36.320 --> 00:02:40.260\nSo we can continue to grow and\nadd to that farm if necessary.\n\n62\n00:02:40.260 --> 00:02:43.340\nAll right, so I promised you we would\nclick Next and see what happens,\n\n63\n00:02:43.340 --> 00:02:47.451\nMike was excited about that, so\nwe're clicking Next here, woo-hoo hoo.\n\n64\n00:02:47.451 --> 00:02:50.400\n&gt;&gt; [LAUGH]\n&gt;&gt; Very excited, all right, so\n\n65\n00:02:50.400 --> 00:02:53.300\nwe are now testing and\nabout ready to configure and\n\n66\n00:02:53.300 --> 00:02:57.895\nmake sure we can actually vet that\nconfiguration out to ADDS, as you can see.\n\n67\n00:02:57.895 --> 00:03:00.085\nRemember we are on\nthe debate controller and\n\n68\n00:03:00.085 --> 00:03:03.725\none of the two partners that will\nbe setting up the ADFS solution.\n\n69\n00:03:03.725 --> 00:03:06.105\nWe haven't established which is which yet,\nbut\n\n70\n00:03:06.105 --> 00:03:10.455\nwe are one of the two domain\ncontrollers in one of the two forests.\n\n71\n00:03:10.455 --> 00:03:13.295\nSo we're using this as\nour attribute store.\n\n72\n00:03:13.295 --> 00:03:17.180\nAt least this will be our, it may control\nour attribute store can be accessed.\n\n73\n00:03:17.180 --> 00:03:19.230\nSo connect to the ADDS,\n\n74\n00:03:19.230 --> 00:03:23.660\nyou'll noticed we do have the current\nuser's credential already preloaded and\n\n75\n00:03:23.660 --> 00:03:28.710\nlogged on and doing this as the domain\nadministrator of the domain practice labs.\n\n76\n00:03:28.710 --> 00:03:31.772\nBut if I was not,\nI do have the ability to change that and\n\n77\n00:03:31.772 --> 00:03:35.080\nprovide whatever credential\nwould be appropriate.\n\n78\n00:03:35.080 --> 00:03:37.040\nThese are pretty simple\nstraight forward solution,\n\n79\n00:03:37.040 --> 00:03:38.610\njust put in the credential there.\n\n80\n00:03:38.610 --> 00:03:41.040\nPlease note, two things of import here.\n\n81\n00:03:42.390 --> 00:03:43.932\nCurrent domain practice labs.\n\n82\n00:03:43.932 --> 00:03:47.760\nYou wanna provide the credential for\nthe domain that we're in, so\n\n83\n00:03:47.760 --> 00:03:52.720\nyou would put in the appropriate username,\nMike Rodrick, Adam Smith, whatever.\n\n84\n00:03:52.720 --> 00:03:55.680\nBut if you're in the habit of doing\nit the old fashioned way, which is\n\n85\n00:03:55.680 --> 00:03:59.950\nstill the right way by the way, domain\nname\\username which would be appropriate.\n\n86\n00:03:59.950 --> 00:04:03.326\nYou would do that and then password but\nit's already gonna be in the domain so\n\n87\n00:04:03.326 --> 00:04:06.405\nyou could literally just put\nthe username in that would work as well.\n\n88\n00:04:06.405 --> 00:04:10.613\nIt would not matter either way and then\nalso notice we can do authentication and\n\n89\n00:04:10.613 --> 00:04:13.720\nprovide a credential\nthrough a smart card here.\n\n90\n00:04:13.720 --> 00:04:18.400\nSo if we did have a USB-based smart\ncard reader attached to the machine,\n\n91\n00:04:18.400 --> 00:04:22.700\nwe could add the smart card or insert the\nsmart card to provide the credential here.\n\n92\n00:04:22.700 --> 00:04:24.780\nWe'd have to click on\nconnect a smart card,\n\n93\n00:04:24.780 --> 00:04:27.090\nhave the appropriate hardware set up.\n\n94\n00:04:27.090 --> 00:04:29.800\nCan we use smart cards\nwith virtual instances?\n\n95\n00:04:29.800 --> 00:04:31.360\nIf this was a virtualized\ndomain controller?\n\n96\n00:04:31.360 --> 00:04:32.060\n&gt;&gt; Well, we can.\n\n97\n00:04:32.060 --> 00:04:32.849\n&gt;&gt; Absolutely.\n&gt;&gt; Yeah.\n\n98\n00:04:32.849 --> 00:04:36.385\n&gt;&gt; We just pass through the hardware, off\nfrom the host, into the virtual stack and\n\n99\n00:04:36.385 --> 00:04:39.760\nmake that smart card reader available and\nwe would be able to do that as well.\n\n100\n00:04:39.760 --> 00:04:40.423\n&gt;&gt; We need to say,\n\n101\n00:04:40.423 --> 00:04:43.536\nwe should say assuming you have\nthe proper TVM chip on your motherboard.\n\n102\n00:04:43.536 --> 00:04:44.940\n[LAUGH]\n&gt;&gt; You would need that\n\n103\n00:04:44.940 --> 00:04:46.360\n&gt;&gt; But assuming that you do we\n\n104\n00:04:46.360 --> 00:04:48.390\ndo support that use and\ncan be done as well.\n\n105\n00:04:48.390 --> 00:04:49.740\nSo just wanna point that out.\n\n106\n00:04:49.740 --> 00:04:52.049\nIt's the kind of thing that sometimes\nMicrosoft loves to test on,\n\n107\n00:04:52.049 --> 00:04:53.921\nright which is, hey,\nwhat are those options there?\n\n108\n00:04:53.921 --> 00:04:56.403\nYou know on that screen that you never\nlook at because the credentials always\n\n109\n00:04:56.403 --> 00:04:57.312\nthere, you know that one.\n\n110\n00:04:57.312 --> 00:04:59.932\nWhat are those options about\nconfiguring your credentials,\n\n111\n00:04:59.932 --> 00:05:02.930\none of the things to know would be hey,\nwe can use a smart card.\n\n112\n00:05:02.930 --> 00:05:05.820\nAnd by the way,\nwe support virtualized infrastructure,\n\n113\n00:05:05.820 --> 00:05:08.270\nsmart cards can be used on virtualized\ndomain controllers as well.\n\n114\n00:05:08.270 --> 00:05:10.660\nSo just wanna make sure you're seeing\nthat and you're aware of that.\n\n115\n00:05:10.660 --> 00:05:13.220\nWe're gonna use the credential\nwe're already logged in as, so\n\n116\n00:05:13.220 --> 00:05:14.230\nI'm gonna click Next.\n\n117\n00:05:15.480 --> 00:05:16.830\nGive that just a second.\n\n118\n00:05:16.830 --> 00:05:20.340\nNow, we have to specify\nour SSL certificates,\n\n119\n00:05:20.340 --> 00:05:21.960\nnow we talked about the certificates,\n\n120\n00:05:21.960 --> 00:05:24.940\ntalked about how they become\navailable to us in the last episode.\n\n121\n00:05:24.940 --> 00:05:26.180\nShowed you were we got them from,\n\n122\n00:05:26.180 --> 00:05:30.150\nshowed you how to export them from\nthe root certificate authority,\n\n123\n00:05:30.150 --> 00:05:33.550\nuse the import function to bring them\nin and publish them with group policy.\n\n124\n00:05:33.550 --> 00:05:35.370\nWe explained the logic\nof why that's important.\n\n125\n00:05:35.370 --> 00:05:38.170\nSo hopefully that background\nmaterial is starting to kick in,\n\n126\n00:05:38.170 --> 00:05:39.420\nyou're start to think ahead and\n\n127\n00:05:39.420 --> 00:05:43.495\nsay, now I we see why we did all of that,\nnow we can go get our certificate, right?\n\n128\n00:05:43.495 --> 00:05:48.225\nSo SSL certificate here, you'll see that\nwe can either download, or excuse me, pull\n\n129\n00:05:48.225 --> 00:05:52.365\ndown and choose if it's already available\nin the certificate authority store.\n\n130\n00:05:52.365 --> 00:05:55.775\nOr we can import if we have\nto import it and bring it in.\n\n131\n00:05:55.775 --> 00:05:56.505\nWe have an option.\n\n132\n00:05:56.505 --> 00:05:58.805\nSo you saw what import looks\nlike we could do either one.\n\n133\n00:05:58.805 --> 00:06:03.200\nNow, our PLABDC01PRACTICELABS.COM\ncertificate is there.\n\n134\n00:06:03.200 --> 00:06:04.740\nThat is a certificate for\n\n135\n00:06:04.740 --> 00:06:09.100\nthe machine that we are on,\nthat we're configuring ADFS on right now.\n\n136\n00:06:09.100 --> 00:06:12.100\nMakes sense that that's a certificate\nthat we would see there,\n\n137\n00:06:12.100 --> 00:06:13.950\nbecause that's the one that we wanna use.\n\n138\n00:06:13.950 --> 00:06:17.195\nWhen we do this on the other side,\nwe would use a certificate for\n\n139\n00:06:17.195 --> 00:06:20.480\npractise-it.co.uk, that would\nbe the one that would be there.\n\n140\n00:06:20.480 --> 00:06:22.640\nSo we're gonna choose the one that's here.\n\n141\n00:06:22.640 --> 00:06:24.480\nPut that in there, and\nnotice once we do that,\n\n142\n00:06:24.480 --> 00:06:28.670\nit automatically populates\nFederation Service Name.\n\n143\n00:06:28.670 --> 00:06:32.190\nThat is because that's based on\nthe information on the certificate.\n\n144\n00:06:32.190 --> 00:06:35.150\nSo we would assume that those would\nbe identical and indeed they are.\n\n145\n00:06:35.150 --> 00:06:36.680\nFully qualified domain name for\n\n146\n00:06:36.680 --> 00:06:41.470\nboth the Certificate and the Federation\nService name are gonna be the same.\n\n147\n00:06:41.470 --> 00:06:43.680\nNow, we can view that\ncertificate if we need to.\n\n148\n00:06:43.680 --> 00:06:45.850\nI showed it to you on the last episode,\nby the way.\n\n149\n00:06:45.850 --> 00:06:48.370\nBut if we needed to see it,\nyou could click here.\n\n150\n00:06:48.370 --> 00:06:50.150\nAnd we would be able to, as you can see.\n\n151\n00:06:50.150 --> 00:06:51.890\nOr I should say,\nas you see right over there.\n\n152\n00:06:51.890 --> 00:06:53.030\nYou can see it pops right up.\n\n153\n00:06:53.030 --> 00:06:54.610\nIt's the same certificate we looked at\n\n154\n00:06:54.610 --> 00:06:56.040\nfrom the root of\nthe certificate authority.\n\n155\n00:06:56.040 --> 00:06:58.990\nIt's a self-signed certificate from the CA\n&gt;&gt; I love when they\n\n156\n00:06:58.990 --> 00:07:01.450\ngive you the browse dialogue box and\nthe ability to view.\n\n157\n00:07:01.450 --> 00:07:05.380\nBecause I have been in scenarios where\nthere's multiple certificates available\n\n158\n00:07:05.380 --> 00:07:07.830\nand maybe they didn't use\na grade naming convention.\n\n159\n00:07:07.830 --> 00:07:10.604\nSo I don't know-\n&gt;&gt; If that first one up is the right one.\n\n160\n00:07:10.604 --> 00:07:12.750\n&gt;&gt; Yeah, if this is the right\ncertificate and what is the purpose.\n\n161\n00:07:12.750 --> 00:07:18.200\nThis certificate was only for EFS, it\nmight not work for SSL Signatures, right?\n\n162\n00:07:18.200 --> 00:07:19.620\nIt's nice they give you\nthat ability to view.\n\n163\n00:07:19.620 --> 00:07:21.040\n&gt;&gt; It is to make sure\nyou get the right one.\n\n164\n00:07:21.040 --> 00:07:23.350\nIn our environment it's really simple,\nit kept to be easy.\n\n165\n00:07:23.350 --> 00:07:25.090\nWe issue only one certificate.\n\n166\n00:07:25.090 --> 00:07:30.200\nNot a lot going on it's very complex but\nas my points out absolutely correctly in\n\n167\n00:07:30.200 --> 00:07:32.920\nhigh and\nlarge scale organized environment.\n\n168\n00:07:32.920 --> 00:07:34.450\nSo you're gonna have a lot\nof script decision for\n\n169\n00:07:34.450 --> 00:07:36.120\na lot of things even in small companies.\n\n170\n00:07:36.120 --> 00:07:38.930\nSo I'm more than one and\nyou may if you're not following the best\n\n171\n00:07:38.930 --> 00:07:41.549\npractices we often talked\nabout with naming conventions.\n\n172\n00:07:41.549 --> 00:07:44.941\nKind of aligning with functionality and\nkeeping them simple but\n\n173\n00:07:44.941 --> 00:07:46.710\nobviously understandable.\n\n174\n00:07:46.710 --> 00:07:49.429\nYou may wind up in a situation where you\ncan choose your own certificate easily.\n\n175\n00:07:49.429 --> 00:07:49.944\n&gt;&gt; Yeah.\n\n176\n00:07:49.944 --> 00:07:51.245\n&gt;&gt; It's not impossible.\n\n177\n00:07:51.245 --> 00:07:54.373\nWhat's happened, I'm sure it happened\nto you or people that you've worked,\n\n178\n00:07:54.373 --> 00:07:57.128\nwhat happened to me, for customers\nof mine that I've had to go back and\n\n179\n00:07:57.128 --> 00:08:00.118\nIt's not impossible to fix but it takes\ntime, you gotta undo what you did and\n\n180\n00:08:00.118 --> 00:08:01.850\nthen figure out the right one.\n\n181\n00:08:01.850 --> 00:08:04.029\n&gt;&gt; That becomes a challenge\nbecause the wizard's gonna say,\n\n182\n00:08:04.029 --> 00:08:06.142\nyou picked a certificate and\nyou're gonna move right along.\n\n183\n00:08:06.142 --> 00:08:07.250\n&gt;&gt; You don't know that it's the wrong one.\n\n184\n00:08:07.250 --> 00:08:10.500\n&gt;&gt; Until it doesn't work and\nyou go why is this not working, so yeah,\n\n185\n00:08:10.500 --> 00:08:12.690\nit's good to know ahead of time.\n\n186\n00:08:12.690 --> 00:08:15.980\n&gt;&gt; All right, so I'm just typing in\nhere federation service display name.\n\n187\n00:08:15.980 --> 00:08:19.214\nThis is just a user-friendly name that\nessentially will label the service first\n\n188\n00:08:19.214 --> 00:08:20.210\nso we'll see that.\n\n189\n00:08:20.210 --> 00:08:26.050\nIt's called the practice labs ADFS service\nfor that, or whatever we were calling it.\n\n190\n00:08:26.050 --> 00:08:27.230\nBut I'm using practice labs.\n\n191\n00:08:27.230 --> 00:08:29.510\nSo we're just putting in that information.\n\n192\n00:08:29.510 --> 00:08:30.260\nPretty straightforward.\n\n193\n00:08:30.260 --> 00:08:32.291\nClick next.\n\n194\n00:08:32.291 --> 00:08:36.090\nThen specify a domain user account or\ngroup, managed service accounts.\n\n195\n00:08:36.090 --> 00:08:38.410\nLet's talk about the group\nmanaged service account.\n\n196\n00:08:38.410 --> 00:08:42.524\nAnd generically let's talk about what\na managed service account is, and\n\n197\n00:08:42.524 --> 00:08:46.320\nnow in 12r2, what group managed\nservice accounts are, right?\n\n198\n00:08:46.320 --> 00:08:49.993\nSo hopefully you know, and I know Mike\nknows, I'm not gonna ask him if he knows,\n\n199\n00:08:49.993 --> 00:08:51.614\nI'm gonna take it for granted, but\n\n200\n00:08:51.614 --> 00:08:54.250\nhe's gonna get to help me\nwith this in just a second.\n\n201\n00:08:54.250 --> 00:08:57.370\nBut hopefully all of you know,\ngenerically what service accounts are,\n\n202\n00:08:57.370 --> 00:08:59.330\nwe talked about them in other episodes.\n\n203\n00:08:59.330 --> 00:09:02.000\nWe tend to take these for\ngranted a lot of times as well, right?\n\n204\n00:09:02.000 --> 00:09:06.355\nBut we have, behind the scenes, many\naccounts that are linked to a service,\n\n205\n00:09:06.355 --> 00:09:10.844\nperhaps one account that's used for\nmultiple services that are used to provide\n\n206\n00:09:10.844 --> 00:09:14.611\nthe guise or the alias that\nthe service runs under, runs through.\n\n207\n00:09:14.611 --> 00:09:17.492\nAnd is used to represent the service\nwhen it has to connect and\n\n208\n00:09:17.492 --> 00:09:20.670\nauthenticate to let's say,\nmaybe an over the network resource.\n\n209\n00:09:20.670 --> 00:09:24.850\nOr, when it's managed locally on the\nmachine and it has an account associated\n\n210\n00:09:24.850 --> 00:09:28.620\nwith it, so we can control execution\npermissions and things of that nature.\n\n211\n00:09:28.620 --> 00:09:30.220\nSo it serves accounts we use.\n\n212\n00:09:30.220 --> 00:09:31.410\nNow traditionally years ago.\n\n213\n00:09:31.410 --> 00:09:35.320\nWhen I say years, I mean going back\nto when I actually had hair and\n\n214\n00:09:35.320 --> 00:09:36.390\nit wasn't dark.\n\n215\n00:09:36.390 --> 00:09:38.770\nAnd when Mike was a little\nshorter than he is now.\n\n216\n00:09:38.770 --> 00:09:40.110\nBut back to like the NT4 days.\n\n217\n00:09:40.110 --> 00:09:41.870\n&gt;&gt; Right.\n&gt;&gt; So probably 20 years ago, give or\n\n218\n00:09:41.870 --> 00:09:42.610\ntake now, right?\n\n219\n00:09:42.610 --> 00:09:47.198\nThat's some of the earliest days of what\nwe now think of as the Microsoft Windows.\n\n220\n00:09:47.198 --> 00:09:51.920\nEnvironment and server-based services and\nthe beginnings of what would become\n\n221\n00:09:51.920 --> 00:09:56.090\nthe Active Directory but back then\nwas a very different directory model.\n\n222\n00:09:56.090 --> 00:10:00.058\nBut even then we had service accounts\ngoing all the way back to NT35 and 351.\n\n223\n00:10:00.058 --> 00:10:02.560\nYou've always had service accounts.\n\n224\n00:10:02.560 --> 00:10:05.838\nBut the idea was, we had very\nlimited service accounts back then.\n\n225\n00:10:05.838 --> 00:10:11.180\nWe didn't really understand the security\nimplications of using, let's say,\n\n226\n00:10:11.180 --> 00:10:14.860\nan administrative account for\nservice provisioning.\n\n227\n00:10:14.860 --> 00:10:17.090\nSo a lot of times companies and\n\n228\n00:10:17.090 --> 00:10:20.900\nindividuals would say, we have the\nequivalent of a domain admin account now.\n\n229\n00:10:20.900 --> 00:10:25.200\nThe domain admin account, and they would\njust use the administrative account for\n\n230\n00:10:25.200 --> 00:10:27.530\nthings like your backup software.\n\n231\n00:10:27.530 --> 00:10:29.960\nRight, and for everything,\nyou use one account for everything.\n\n232\n00:10:29.960 --> 00:10:31.950\nAnd then you went and\nchanged the password.\n\n233\n00:10:31.950 --> 00:10:32.660\n&gt;&gt; Yes!\n&gt;&gt; But you forgot\n\n234\n00:10:32.660 --> 00:10:34.930\nto change it in 20 places and\neverything stopped working.\n\n235\n00:10:34.930 --> 00:10:37.870\nCuz we didn't necessarily have\nsingle sign on back then,\n\n236\n00:10:37.870 --> 00:10:39.620\nthings were a lot different back then.\n\n237\n00:10:39.620 --> 00:10:42.487\nSo we've learned over\nthe years that number one,\n\n238\n00:10:42.487 --> 00:10:46.660\nusing administrative level accounts for\nservice accounts, bad idea.\n\n239\n00:10:46.660 --> 00:10:50.065\nBecause the privilege escalation,\nsecurity implications of that, so\n\n240\n00:10:50.065 --> 00:10:52.200\nthat's the first rule of service accounts.\n\n241\n00:10:52.200 --> 00:10:54.850\nThey should not have elevated privileges.\n\n242\n00:10:54.850 --> 00:10:58.352\nAnd today, service accounts by design and\nby nature do not.\n\n243\n00:10:58.352 --> 00:11:01.157\nWe have limited use accounts\nthat are essentially created,\n\n244\n00:11:01.157 --> 00:11:03.032\nowned by the operating system, right.\n\n245\n00:11:03.032 --> 00:11:05.213\nLocal service account,\nnetwork service account,\n\n246\n00:11:05.213 --> 00:11:07.598\nthe standing service accounts\nthat are used in Windows.\n\n247\n00:11:07.598 --> 00:11:11.763\nAnd they're designed with just enough\npermissions to get the job done, but\n\n248\n00:11:11.763 --> 00:11:15.407\nnot enough to get you in trouble in\nthe sense that you could take over\n\n249\n00:11:15.407 --> 00:11:19.870\nan entire forest with that enterprise\ngrade or enterprise level account.\n\n250\n00:11:19.870 --> 00:11:23.970\nIf we use the domain administrator\naccount, the practice labs domain admin\n\n251\n00:11:23.970 --> 00:11:28.470\naccount for this, that would be a problem\nbecause if somebody got that account,\n\n252\n00:11:28.470 --> 00:11:32.170\nthey could not just impact the ADFS\nsystem that we're setting up.\n\n253\n00:11:32.170 --> 00:11:34.077\nBut certificate services,\n\n254\n00:11:34.077 --> 00:11:38.771\nthe domain security in terms of\nuser credentials, DNS information.\n\n255\n00:11:38.771 --> 00:11:42.801\nI mean, anything and everything we\nthink of that would be essentially all\n\n256\n00:11:42.801 --> 00:11:44.690\nof the eggs in one basket, right?\n\n257\n00:11:44.690 --> 00:11:46.460\nEverything would go, be horrible.\n\n258\n00:11:46.460 --> 00:11:50.750\nSo as a best practice, we strongly,\nadamantly say, that's not a good idea.\n\n259\n00:11:50.750 --> 00:11:54.320\nThat's where this new concept of these\nmanaged service accounts come in.\n\n260\n00:11:54.320 --> 00:11:57.320\nNow they're not new, we've had service\naccounts as I've said, for some time.\n\n261\n00:11:57.320 --> 00:12:00.980\nBut the difference is that\na managed service account\n\n262\n00:12:00.980 --> 00:12:04.780\nis a service account\ndedicated to the use of and\n\n263\n00:12:04.780 --> 00:12:09.270\nuse for, a service on a single machine,\ncreated in Active Directory, right?\n\n264\n00:12:09.270 --> 00:12:10.990\nAnd is not sharable.\n\n265\n00:12:10.990 --> 00:12:14.960\nSo an MSA, a Managed Service Account is\nlimited to use on the machine it's defined\n\n266\n00:12:14.960 --> 00:12:18.420\non, and cannot be shared or\nmade available off that machine.\n\n267\n00:12:18.420 --> 00:12:20.920\nSo it's a limited use account,\nlimited to one machine.\n\n268\n00:12:20.920 --> 00:12:23.420\nThink of it, it's a, basically just\na standard service account, but\n\n269\n00:12:23.420 --> 00:12:25.010\nit's active directory integrated.\n\n270\n00:12:25.010 --> 00:12:28.310\nSo it's implemented and created through,\nand stored in Active Directory.\n\n271\n00:12:28.310 --> 00:12:31.570\nIf you want to think of it that way,\ncreate them with PowerShell, and you could\n\n272\n00:12:31.570 --> 00:12:34.910\nsee them with the advanced features\nyou turned on in the active directory.\n\n273\n00:12:34.910 --> 00:12:36.360\nUsed from computer manager,\n\n274\n00:12:36.360 --> 00:12:38.870\nyou'll see them inside there if\nyou turn on advanced features.\n\n275\n00:12:38.870 --> 00:12:40.161\nAssuming you have them created, of course.\n\n276\n00:12:40.161 --> 00:12:42.610\nThey have little gear icons next to\nthem instead of the user [CROSSTALK]\n\n277\n00:12:42.610 --> 00:12:43.384\n&gt;&gt; That's really cool, yeah.\n\n278\n00:12:43.384 --> 00:12:45.530\n&gt;&gt; For the service, right,\nthis little service gear icon.\n\n279\n00:12:45.530 --> 00:12:46.560\nSo you see those.\n\n280\n00:12:46.560 --> 00:12:49.810\nThe group managed service\naccount is the same concept but\n\n281\n00:12:49.810 --> 00:12:51.510\ncan actually be delegated and shared out.\n\n282\n00:12:51.510 --> 00:12:54.600\nSo you can make it available and\nmake it available for, let's say,\n\n283\n00:12:54.600 --> 00:12:57.050\na group of machines to leverage or\nuse to run a service,\n\n284\n00:12:57.050 --> 00:13:01.450\nso the only difference is the scope of\nthe account, right, essentially the focus.\n\n285\n00:13:01.450 --> 00:13:03.665\nThe option here,\ncreate a group managed service account.\n\n286\n00:13:03.665 --> 00:13:05.780\nJoin me back in the wizard, if you will.\n\n287\n00:13:05.780 --> 00:13:09.839\nThe option here indicates that because\nwe're gonna be leveraging this with more\n\n288\n00:13:09.839 --> 00:13:12.413\nthan one machine involved,\nwe need to have a GMSA.\n\n289\n00:13:12.413 --> 00:13:14.790\nThat's what they call\na Group Managed Service Account.\n\n290\n00:13:14.790 --> 00:13:19.190\nA GMSA so that it could be\nleveraged by multiple systems and\n\n291\n00:13:19.190 --> 00:13:22.750\nbe able to run all the requirements,\nor provide for all requirements that\n\n292\n00:13:22.750 --> 00:13:26.680\nin this case the active directory\nfederation services may have.\n\n293\n00:13:26.680 --> 00:13:27.860\nSo that's what we're gonna do.\n\n294\n00:13:27.860 --> 00:13:31.586\nNow, I've cheated a little bit because\nI've gone ahead and already created this\n\n295\n00:13:31.586 --> 00:13:35.160\naccount, we're just gonna now turn it\ninto a group managed service account.\n\n296\n00:13:35.160 --> 00:13:36.760\nLet me show you what I did here.\n\n297\n00:13:36.760 --> 00:13:38.671\nNothing fancy,\nnothing out of the ordinary, by the way.\n\n298\n00:13:42.050 --> 00:13:44.526\nI'm in the active directory user and\ncomputer interface.\n\n299\n00:13:44.526 --> 00:13:48.068\nSo, just on the domain controller,\nopened up in server manager,\n\n300\n00:13:48.068 --> 00:13:50.740\nthe active directory user and\ncomputer manager.\n\n301\n00:13:51.970 --> 00:13:53.290\nGo to the users folder.\n\n302\n00:13:53.290 --> 00:13:55.850\nSo right click, right,\nour users container, I should say.\n\n303\n00:13:55.850 --> 00:13:57.170\nSo let me use the proper language, right.\n\n304\n00:13:57.170 --> 00:13:59.187\nBecause it's not a folder,\nit's a container or NOU.\n\n305\n00:13:59.187 --> 00:14:00.970\nThis is a container.\n\n306\n00:14:00.970 --> 00:14:05.020\nRight click on the users container and\ncreate a brand new user account.\n\n307\n00:14:05.020 --> 00:14:06.960\nSo just new, user account.\n\n308\n00:14:06.960 --> 00:14:10.140\nNamed it,\nyou can see it right down here, ADF SSA.\n\n309\n00:14:10.140 --> 00:14:13.090\nThat's the account we're gonna use,\nset a password on it.\n\n310\n00:14:13.090 --> 00:14:14.280\nPassword never expires.\n\n311\n00:14:14.280 --> 00:14:15.455\nNothing out of the ordinary.\n\n312\n00:14:15.455 --> 00:14:17.290\nAt this point, normal user account.\n\n313\n00:14:17.290 --> 00:14:18.740\nNothing special's been done to it.\n\n314\n00:14:18.740 --> 00:14:19.640\nWe take a look at it.\n\n315\n00:14:21.440 --> 00:14:22.360\nGo to properties.\n\n316\n00:14:22.360 --> 00:14:23.290\nWait, hold on a second.\n\n317\n00:14:23.290 --> 00:14:25.230\nI hit the properties,\nI hate it when it does that.\n\n318\n00:14:25.230 --> 00:14:26.342\n&gt;&gt; I know.\n&gt;&gt; You think you're highlighted,\n\n319\n00:14:26.342 --> 00:14:28.231\nyou right click and then you're on\nthe container instead of the, yeah.\n\n320\n00:14:28.231 --> 00:14:30.966\n&gt;&gt; The properties of the folder and\ncontainer, yeah, exactly.\n\n321\n00:14:30.966 --> 00:14:34.336\n&gt;&gt; All right, so properties, and\nwhat do we have here just so you can see?\n\n322\n00:14:34.336 --> 00:14:38.368\nWe see here the account just has the\nnormal user logon name, so the practice\n\n323\n00:14:38.368 --> 00:14:42.940\nlabs dot com domain, password never\nexpires, nothing out of the ordinary.\n\n324\n00:14:42.940 --> 00:14:46.760\nNotice it is a member of the standing\nnormal group we are joined to,\n\n325\n00:14:46.760 --> 00:14:47.510\ndomain users.\n\n326\n00:14:47.510 --> 00:14:50.620\nIt's the only group that as a normal\nuser you would have membership in\n\n327\n00:14:50.620 --> 00:14:52.170\nwhere somebody intercedes on your behalf.\n\n328\n00:14:52.170 --> 00:14:57.140\nRight, so this is a normal user account\non every possible thought process,\n\n329\n00:14:57.140 --> 00:15:00.000\nthere's nothing unusual\nhere at all about this.\n\n330\n00:15:00.000 --> 00:15:01.570\nSo we're just going to leave that there.\n\n331\n00:15:01.570 --> 00:15:04.630\nBut that's the account I'm about to use,\nso I'm going to come back over here.\n\n332\n00:15:04.630 --> 00:15:06.590\nNow I obviously created\nthat ahead of time, right.\n\n333\n00:15:06.590 --> 00:15:07.350\n&gt;&gt; Mm hm.\n&gt;&gt; So I had that\n\n334\n00:15:07.350 --> 00:15:08.882\ndone as part of all the pre-work I did.\n\n335\n00:15:08.882 --> 00:15:09.480\nAll right.\n\n336\n00:15:09.480 --> 00:15:11.516\nso now,\ncreate a group managed service account.\n\n337\n00:15:11.516 --> 00:15:12.980\nI'm gonna go ahead, grab this.\n\n338\n00:15:12.980 --> 00:15:15.236\nYou'll see, account name,\nit's already got the domain.\n\n339\n00:15:15.236 --> 00:15:19.840\nSpecified there, backslash, waiting on me\nto put an alias or an account name in.\n\n340\n00:15:19.840 --> 00:15:22.448\nSo I'm gonna go ahead and\nI'm gonna do that.\n\n341\n00:15:22.448 --> 00:15:26.150\nI'm gonna type in the name,\nin this case, what did I say?\n\n342\n00:15:26.150 --> 00:15:27.554\nADFSSA, right?\n\n343\n00:15:27.554 --> 00:15:29.010\nSo I have that account.\n\n344\n00:15:29.010 --> 00:15:32.670\nOr notice that I could use\nan existing domain user account or\n\n345\n00:15:32.670 --> 00:15:33.890\ngroup managed service account.\n\n346\n00:15:33.890 --> 00:15:35.700\nI could use either one, right?\n\n347\n00:15:35.700 --> 00:15:39.940\nBut if I wanna create this account,\nessentially convert that account into\n\n348\n00:15:39.940 --> 00:15:43.710\na group managed service account, I could\nchoose that existing one, grab it here,\n\n349\n00:15:43.710 --> 00:15:45.770\nand it will become a group\nmanaged service account.\n\n350\n00:15:45.770 --> 00:15:49.180\nSo I can prepopulate it or\nI can create it on the fly.\n\n351\n00:15:49.180 --> 00:15:50.300\nThat's essentially up to me.\n\n352\n00:15:50.300 --> 00:15:55.061\nSo I'm gonna put that in there, click\nnext, all right so now, created a database\n\n353\n00:15:55.061 --> 00:15:59.483\non this server using what's known as\nthe WID, Windows Internal Database.\n\n354\n00:15:59.483 --> 00:16:03.964\nThat is a locally installed, configured\ndatabase controlled by the, in this case,\n\n355\n00:16:03.964 --> 00:16:05.500\nthe service instance.\n\n356\n00:16:05.500 --> 00:16:07.370\nOr, I could scale out to a SQL Server,\n\n357\n00:16:07.370 --> 00:16:11.310\nwhat we call an enterprise database\nthat may be sitting out there somewhere.\n\n358\n00:16:11.310 --> 00:16:15.550\nNow that SQL Server would have to have\nbeen installed already on a database\n\n359\n00:16:15.550 --> 00:16:18.250\nhost that could be another\nmachine that's got SQL running.\n\n360\n00:16:18.250 --> 00:16:20.550\nA lot of times companies will\nhave SQL clusters, right?\n\n361\n00:16:20.550 --> 00:16:23.130\nSo they'll have large\nscale database farms.\n\n362\n00:16:23.130 --> 00:16:24.369\nThere's that word again, right?\n\n363\n00:16:24.369 --> 00:16:25.970\n&gt;&gt; [LAUGH]\n&gt;&gt; Large scale database farms, so\n\n364\n00:16:25.970 --> 00:16:29.000\nyou may go to the DBA,\nthe database administrator,\n\n365\n00:16:29.000 --> 00:16:31.950\nanother group that traditionally\nowns their own infrastructure,\n\n366\n00:16:31.950 --> 00:16:35.660\nmanages on behalf of the company\nin large scale organizations.\n\n367\n00:16:35.660 --> 00:16:40.880\nAnd you may say to them, hey, I need\nto use an existing SQL Server instance.\n\n368\n00:16:40.880 --> 00:16:42.640\nCan you give me a hostname and\n\n369\n00:16:42.640 --> 00:16:46.270\na database instance that I could\nessentially attach to, right?\n\n370\n00:16:46.270 --> 00:16:49.820\nOr if we don't have one,\ncan I have one stood up and created so\n\n371\n00:16:49.820 --> 00:16:51.360\nI can install this particular server?\n\n372\n00:16:51.360 --> 00:16:53.525\nSo now, probably have a quick\nconversation with you,\n\n373\n00:16:53.525 --> 00:16:57.560\nget some information about what it\nis you need, what version of SQL?\n\n374\n00:16:57.560 --> 00:16:59.150\nWhat kind of space do you need?\n\n375\n00:16:59.150 --> 00:17:01.080\nWhat is the database have\nto be configured to do?\n\n376\n00:17:01.080 --> 00:17:03.180\nYou probably not gonna know all that, and\n\n377\n00:17:03.180 --> 00:17:05.825\nnot all of that is listed\nhere in the interface here.\n\n378\n00:17:05.825 --> 00:17:07.545\nThere's no documentation about that.\n\n379\n00:17:07.545 --> 00:17:11.068\nBut if you read the installation\ndocumentation on ADFS Microsoft TechNet\n\n380\n00:17:11.068 --> 00:17:15.103\nbased documentation, you'll find there's\njust some very basic requirements for\n\n381\n00:17:15.103 --> 00:17:17.235\nSQL, nothing out of the ordinary.\n\n382\n00:17:17.235 --> 00:17:20.137\nYou could tell the DBA, hey,\nI need this, this, and this.\n\n383\n00:17:20.137 --> 00:17:21.817\nAnd they'll spin up a database instance or\n\n384\n00:17:21.817 --> 00:17:23.887\nprovide one that's already available for\nyou.\n\n385\n00:17:23.887 --> 00:17:26.807\nThey'll give you the hostname,\nthe instance name here, and\n\n386\n00:17:26.807 --> 00:17:27.887\nyou'll provide that.\n\n387\n00:17:27.887 --> 00:17:31.250\nAnd then you'll go ahead and you'll\njust go and continue on about your way.\n\n388\n00:17:31.250 --> 00:17:33.790\nWe're gonna use\nthe Windows Internal Database.\n\n389\n00:17:33.790 --> 00:17:36.840\nBecause we don't have a separate\nstanding SQL instance we can leverage.\n\n390\n00:17:36.840 --> 00:17:38.610\nFor testing purposes,\nespecially in the lab,\n\n391\n00:17:38.610 --> 00:17:41.990\nwhen you're creating something you knew,\nkinda wanna do this on the cheap, so\n\n392\n00:17:41.990 --> 00:17:45.290\nto speak, without a lot of\nthe additional investments and time.\n\n393\n00:17:45.290 --> 00:17:48.770\nUsing Windows Internal Database for\na lot of this stuff's perfectly fine.\n\n394\n00:17:48.770 --> 00:17:52.710\nFor our purposes for testing and\nfor basic scaling and usage,\n\n395\n00:17:52.710 --> 00:17:55.420\nit's gonna operate the same way you would\nnever know the difference, no way to know.\n\n396\n00:17:55.420 --> 00:17:59.111\nSo, using the WID will be fine,\nso we're gonna do that.\n\n397\n00:17:59.111 --> 00:18:00.552\nWe just click Next.\n\n398\n00:18:00.552 --> 00:18:02.371\nAll right, so we just give that a second.\n\n399\n00:18:02.371 --> 00:18:05.172\nThis is where we get our review,\nour selections option.\n\n400\n00:18:05.172 --> 00:18:07.930\nHere are just essentially\na summary of what we've done.\n\n401\n00:18:07.930 --> 00:18:09.176\nNow, two things that are of interest here.\n\n402\n00:18:09.176 --> 00:18:11.520\nAnd I've said this in other episodes and\nother areas.\n\n403\n00:18:11.520 --> 00:18:15.410\nThis is a great time for you to take\na screen capture of what's on this screen.\n\n404\n00:18:15.410 --> 00:18:18.605\nSo that you have documentation\nauthoritatively speaking of what\n\n405\n00:18:18.605 --> 00:18:19.365\nyou've done.\n\n406\n00:18:19.365 --> 00:18:22.713\nAnd you could put that in your runbook,\npaste it into your documentation.\n\n407\n00:18:22.713 --> 00:18:26.590\nIt's great to show your auditors say,\nlook, this is our build configuration.\n\n408\n00:18:26.590 --> 00:18:30.320\nAnd there's no mistaking things by\nscribbling them down on a napkin and\n\n409\n00:18:30.320 --> 00:18:31.947\nthen losing it later, right?\n\n410\n00:18:31.947 --> 00:18:35.347\nToday, literally,\ntake a little selfie, right?\n\n411\n00:18:35.347 --> 00:18:36.130\nOne of these, right?\n\n412\n00:18:36.130 --> 00:18:37.516\n&gt;&gt; [LAUGH]\n&gt;&gt; And just get everything right there.\n\n413\n00:18:37.516 --> 00:18:42.006\nOr screen capture it, control, shift,\nprint, whatever you're gonna do, but\n\n414\n00:18:42.006 --> 00:18:45.760\nget that information copied so\nyou have all this information.\n\n415\n00:18:45.760 --> 00:18:49.010\nYou're missing a golden opportunity here\nif you don't take advantage of that.\n\n416\n00:18:49.010 --> 00:18:50.816\n&gt;&gt; Right.\n&gt;&gt; You'd be surprised how many times I've\n\n417\n00:18:50.816 --> 00:18:53.090\ntalked to customers and\nthey have a problem.\n\n418\n00:18:53.090 --> 00:18:54.440\nAnd we go back and look and\n\n419\n00:18:54.440 --> 00:18:57.310\nthere's not good documentation\nto support what was done.\n\n420\n00:18:57.310 --> 00:19:00.284\nAnd the time to figure that out is not\nwhile we're troubleshooting trying to\n\n421\n00:19:00.284 --> 00:19:00.847\nfix an error.\n\n422\n00:19:00.847 --> 00:19:04.045\nBecause it will be so much better\nif we already knew what you did so\n\n423\n00:19:04.045 --> 00:19:05.830\nwe can then work from that.\n\n424\n00:19:05.830 --> 00:19:08.450\nThis provides that insight,\nthat visibility.\n\n425\n00:19:08.450 --> 00:19:12.730\nAlso, almost everything we do today, we've\ntalked about this in many of our episodes,\n\n426\n00:19:12.730 --> 00:19:14.140\nreally comes down to PowerShell, right?\n\n427\n00:19:14.140 --> 00:19:17.150\nWhether it's behind the scenes or\nright in your face in the front\n\n428\n00:19:17.150 --> 00:19:19.300\nwhere you're using it as I\nshowed you in the beginning.\n\n429\n00:19:19.300 --> 00:19:22.310\nThat View script button I'm about to\nclick on, can we go back the screen?\n\n430\n00:19:22.310 --> 00:19:25.956\nThe View script button right there is\ngonna show me the PowerShell script\n\n431\n00:19:25.956 --> 00:19:28.598\nbecause this is actually\nme setting up PowerShell.\n\n432\n00:19:28.598 --> 00:19:29.841\nThis is what I love about the GUI's today,\nright?\n\n433\n00:19:29.841 --> 00:19:32.356\n&gt;&gt; [LAUGH]\n&gt;&gt; This is PowerShell for the painless and\n\n434\n00:19:32.356 --> 00:19:33.902\nthe I don't care crowd, right?\n\n435\n00:19:33.902 --> 00:19:37.288\nBecause you're not really thinking\nyou're using PowerShell, but in fact,\n\n436\n00:19:37.288 --> 00:19:40.070\nyou're about to use PowerShell\nto this entire configuration.\n\n437\n00:19:40.070 --> 00:19:43.110\n&gt;&gt; All the admins that say, I don't use\nPowerShell, I'm not gonna do all that.\n\n438\n00:19:43.110 --> 00:19:44.086\n&gt;&gt; You use it everyday,\nyou just don't realize it.\n\n439\n00:19:44.086 --> 00:19:47.040\n&gt;&gt; [LAUGH]\n&gt;&gt; Because you're not doing this for real.\n\n440\n00:19:47.040 --> 00:19:50.310\nYou're putting together an answer file\nthat's created a script that's about to go\n\n441\n00:19:50.310 --> 00:19:53.610\nkick off and execute and\nconfigure all this in PowerShell.\n\n442\n00:19:53.610 --> 00:19:56.032\nThat's what we're doing with this GUI,\nthis walk through.\n\n443\n00:19:56.032 --> 00:19:59.397\nAnd that View script button, the one I\njust clicked on right here, just went\n\n444\n00:19:59.397 --> 00:20:03.150\nahead and created, let's pull this up so\nyou could see this, created this script.\n\n445\n00:20:03.150 --> 00:20:06.920\nNotice it's not that big by the way,\nright, created this little script for us.\n\n446\n00:20:06.920 --> 00:20:11.010\nThat script, five, six lines of code\nthere, is what's gonna happen and\n\n447\n00:20:11.010 --> 00:20:13.605\nwhat actually is gonna go do\nthe install for us right now.\n\n448\n00:20:13.605 --> 00:20:16.185\nBecause if you just click next and\nyou didn't have PowerShell,\n\n449\n00:20:16.185 --> 00:20:17.726\nyou'd be waiting a really long time.\n\n450\n00:20:17.726 --> 00:20:19.047\n&gt;&gt; [LAUGH]\n&gt;&gt; Because there aren't a bunch of\n\n451\n00:20:19.047 --> 00:20:21.735\ngremlins underneath there that're\ngonna go do all that for you.\n\n452\n00:20:21.735 --> 00:20:24.845\nI mean, it's PowerShell that does all the\nheavy lifting behind the scenes, right?\n\n453\n00:20:24.845 --> 00:20:27.440\nNow notice that it's\na temp file right there,\n\n454\n00:20:27.440 --> 00:20:30.880\nthat's just a scratch file that's created\nthat's gonna be used to do this install.\n\n455\n00:20:30.880 --> 00:20:34.133\nThere'll be a copy of that along with\nthe log information that's ultimately\n\n456\n00:20:34.133 --> 00:20:34.640\narchived.\n\n457\n00:20:34.640 --> 00:20:37.279\nBut you are using PowerShell to do this,\nI mean that's what you're doing,\n\n458\n00:20:37.279 --> 00:20:38.652\nyou just don't realize it sometimes.\n\n459\n00:20:38.652 --> 00:20:40.500\nAll right, so we're gonna click Next.\n\n460\n00:20:41.780 --> 00:20:42.745\nNow we're gonna go through\nthe Pre-req check.\n\n461\n00:20:42.745 --> 00:20:45.241\nNow, we took our time in\nthe beginning here, right,\n\n462\n00:20:45.241 --> 00:20:47.683\nback in episode two to walk\nthrough the pre-reqs and\n\n463\n00:20:47.683 --> 00:20:51.140\nmake sure we understood what they were and\nthat we had accounted for them.\n\n464\n00:20:51.140 --> 00:20:54.501\nAnd because of that, you could see how\nquick the Pre-req check was here, right?\n\n465\n00:20:54.501 --> 00:20:56.410\nIt was just an attaboy,\nyou're good, right?\n\n466\n00:20:56.410 --> 00:20:57.480\nBecause we did all that.\n\n467\n00:20:57.480 --> 00:20:59.860\nSo all pre-req checks pass successfully.\n\n468\n00:20:59.860 --> 00:21:01.610\nClick configure to begin install.\n\n469\n00:21:01.610 --> 00:21:03.660\nYou could click Show more, but\nthere's really nothing more to see.\n\n470\n00:21:03.660 --> 00:21:04.990\nUnless there were problems,\n\n471\n00:21:04.990 --> 00:21:08.133\nin which case we would get a little\nbit of a detailed information here.\n\n472\n00:21:08.133 --> 00:21:11.260\nThe root key for the Group Managed\nService Account was created at.\n\n473\n00:21:11.260 --> 00:21:14.150\nNow I mentioned this back in episode one,\nlet's go back to PowerShell for\n\n474\n00:21:14.150 --> 00:21:17.240\na minute and just show you the other\npart of what I did in PowerShell.\n\n475\n00:21:17.240 --> 00:21:20.100\nSo I kinda said, look, I did this, but I\ndidn't really explain what we needed other\n\n476\n00:21:20.100 --> 00:21:23.560\nthan saying, I used the KDS\nto essentially create a key.\n\n477\n00:21:23.560 --> 00:21:26.570\nThere's the GUID and let's take note\nof it cuz we may need it for later.\n\n478\n00:21:27.640 --> 00:21:30.610\nAnd now you're beginning to\nsee why we need that key,\n\n479\n00:21:30.610 --> 00:21:33.580\nbecause it's linked to the Group Managed\nService Account we just created.\n\n480\n00:21:33.580 --> 00:21:36.470\nIt's used to create that\nGroup Managed Service Account.\n\n481\n00:21:36.470 --> 00:21:38.951\nYou'll see here at\nthe bottom of PowerShell,\n\n482\n00:21:38.951 --> 00:21:42.586\nscroll down just a little bit so\nwe can see it right above the window.\n\n483\n00:21:42.586 --> 00:21:44.850\nLet's get it right there, okay.\n\n484\n00:21:44.850 --> 00:21:48.490\nAnd so you could see,\nin addition to the Add Windows Feature,\n\n485\n00:21:48.490 --> 00:21:51.860\nADFS that e did to kick this off,\nyou highlight this one.\n\n486\n00:21:54.590 --> 00:21:59.056\nI also did or used the add KDS root\nkey commandlet right here with\n\n487\n00:21:59.056 --> 00:22:03.438\nthe effective time parameter\nusing the get date, add hours,\n\n488\n00:22:03.438 --> 00:22:08.494\nminus ten information there to issue,\nand use or create this master key\n\n489\n00:22:08.494 --> 00:22:13.750\nthat was just referenced in that\nlittle document item in the wizard.\n\n490\n00:22:13.750 --> 00:22:16.700\nThat key is then gonna have\nthis GUID associated with it.\n\n491\n00:22:16.700 --> 00:22:19.964\nYou could see the grids put out or\noutput it as part of the process.\n\n492\n00:22:19.964 --> 00:22:22.860\nI took note of that,\njust essentially marked and copied it.\n\n493\n00:22:22.860 --> 00:22:25.500\nAnd they tell you when you do this\nto read the documentation, hey,\n\n494\n00:22:25.500 --> 00:22:26.790\nwrite down that GUID.\n\n495\n00:22:26.790 --> 00:22:27.706\nYou could get it.\n\n496\n00:22:27.706 --> 00:22:32.270\nYou do get a get instead of add KDS root\nkey, get KDS root key, get the GUID.\n\n497\n00:22:32.270 --> 00:22:34.240\nBut you just gotta know to go in and\nget it.\n\n498\n00:22:34.240 --> 00:22:36.275\nBut if you write it down\nyou have a record of it.\n\n499\n00:22:36.275 --> 00:22:39.132\nI just literally just copied and\npasted it into Notepad.\n\n500\n00:22:39.132 --> 00:22:41.463\nThen when you need it later,\nyou'll just have it later on.\n\n501\n00:22:41.463 --> 00:22:42.803\nYou don't have to worry\nabout going to get it.\n\n502\n00:22:42.803 --> 00:22:45.252\nCuz I always forget to do that, so\nI just gotta go look it up later.\n\n503\n00:22:45.252 --> 00:22:46.928\n&gt;&gt; [LAUGH]\n&gt;&gt; But you can easily pull it up,\n\n504\n00:22:46.928 --> 00:22:47.635\nit's not a big deal.\n\n505\n00:22:47.635 --> 00:22:51.130\nBut this key and the GUID associated with\nthe unique identifier is then the key\n\n506\n00:22:51.130 --> 00:22:52.163\nthat's referenced.\n\n507\n00:22:52.163 --> 00:22:55.824\nAnd this key allows us, once we run the\nwizard, remember we haven't done it yet,\n\n508\n00:22:55.824 --> 00:22:58.849\nbut the root key for the Group\nManaged Service Account was created,\n\n509\n00:22:58.849 --> 00:23:00.564\nthat's the day and time stamp for it.\n\n510\n00:23:00.564 --> 00:23:03.328\nIf you have more than one domain\ncontroller on your AD forest,\n\n511\n00:23:03.328 --> 00:23:05.983\nthe key may not get replicated\nto all the main controllers,\n\n512\n00:23:05.983 --> 00:23:09.970\ndepending on the size and breadth and\ndepth of your architecture.\n\n513\n00:23:09.970 --> 00:23:11.210\nIt may take a little bit.\n\n514\n00:23:11.210 --> 00:23:13.700\nI typically will do the first\npart in PowerShell.\n\n515\n00:23:13.700 --> 00:23:15.843\nI'll let it cook for\na couple hours, come back,\n\n516\n00:23:15.843 --> 00:23:17.529\nand then do the part we're doing now.\n\n517\n00:23:17.529 --> 00:23:21.377\nSo that when the key replicates out,\nyou could force replication, but\n\n518\n00:23:21.377 --> 00:23:23.119\nyou just gotta go in and do that.\n\n519\n00:23:23.119 --> 00:23:26.900\nAnd that could put stress on replication\nconnections during business hours.\n\n520\n00:23:26.900 --> 00:23:30.280\nThere may be some negativity\nassociated with forcing replication\n\n521\n00:23:30.280 --> 00:23:32.010\nduring out of sync business cycles, right?\n\n522\n00:23:32.010 --> 00:23:32.757\nSo you just wanna be aware of that.\n\n523\n00:23:32.757 --> 00:23:36.221\nBut essentially,\nwe do need to have that key present\n\n524\n00:23:36.221 --> 00:23:41.240\non every domain controller before\nwe go through this configuration.\n\n525\n00:23:41.240 --> 00:23:43.480\nSo if you have a multi-tiered hierarchy,\n\n526\n00:23:43.480 --> 00:23:47.730\nin the forest with multiple domain\ncontrollers in the domains in question,\n\n527\n00:23:47.730 --> 00:23:49.880\nyou gotta make sure\nreplication is taking place.\n\n528\n00:23:49.880 --> 00:23:54.010\nNow it says here, to avoid start-up\nproblems, wait 10 hours, right?\n\n529\n00:23:54.010 --> 00:23:57.192\nTen hours if you read there,\nto ensure the key is replicated\n\n530\n00:23:57.192 --> 00:24:00.324\nto all PCs before completing\nthe configuration, right?\n\n531\n00:24:00.324 --> 00:24:04.887\nBecause you may have problems where we go\nto restart these systems We can't find\n\n532\n00:24:04.887 --> 00:24:06.941\nthe key, and essentially we hang.\n\n533\n00:24:06.941 --> 00:24:10.251\n&gt;&gt; So you've got to look at,\nyou should know your site topology.\n\n534\n00:24:10.251 --> 00:24:13.066\n&gt;&gt; Site topology, KCC,\nknowledge consistency checker and\n\n535\n00:24:13.066 --> 00:24:15.650\nyour site topology,\nI always get it backwards.\n\n536\n00:24:15.650 --> 00:24:17.812\nISTG and site topology generator,\nall of that.\n\n537\n00:24:17.812 --> 00:24:21.010\n&gt;&gt; So do you set up any limits about\nno replication between these hours?\n\n538\n00:24:21.010 --> 00:24:23.000\nOr only replicate every four hours.\n\n539\n00:24:23.000 --> 00:24:26.546\nYou might have to adjust that time\naccordingly to your [CROSSTALK]\n\n540\n00:24:26.546 --> 00:24:27.870\n&gt;&gt; Or the equivalent tool you use,\n\n541\n00:24:27.870 --> 00:24:28.560\nwhatever it is.\n\n542\n00:24:28.560 --> 00:24:32.350\nThere's lots of tools you can use on,\nbut you wanna go take a look and\n\n543\n00:24:32.350 --> 00:24:35.185\nfind out what's happening and make sure\nyou're aware of replication taking.\n\n544\n00:24:35.185 --> 00:24:37.955\nSo just important to call that out and\nmake sure you're aware of that.\n\n545\n00:24:37.955 --> 00:24:40.385\nWe completed our pre req check,\nyou can see it there.\n\n546\n00:24:40.385 --> 00:24:43.665\nAll pre req checks have been passed\nsuccessfully, click Configure.\n\n547\n00:24:43.665 --> 00:24:46.465\nNow I only have one domain controller or\nsome word about replication.\n\n548\n00:24:46.465 --> 00:24:47.909\nThis is not gonna be an issue.\n\n549\n00:24:47.909 --> 00:24:50.017\nWe said we're keeping it simple for\na lot of reasons here.\n\n550\n00:24:50.017 --> 00:24:51.947\nSo, we're gonna click Configure, right.\n\n551\n00:24:51.947 --> 00:24:53.277\nSo this is gonna go through.\n\n552\n00:24:53.277 --> 00:24:55.657\nNow it just pops that root\nkey warning up again.\n\n553\n00:24:55.657 --> 00:24:58.327\nThat's no big deal,\nit's the same exact one we just saw.\n\n554\n00:24:58.327 --> 00:25:01.171\nJust reminding us that we may\nhave to wait up to ten hours.\n\n555\n00:25:01.171 --> 00:25:03.998\nSo you'll see here installing\nthe Windows internal database,\n\n556\n00:25:03.998 --> 00:25:07.193\nyou can kind of track through\nwhat's happening as you watch this.\n\n557\n00:25:07.193 --> 00:25:10.043\nThere installing, or\ninitializing the database, rather.\n\n558\n00:25:10.043 --> 00:25:13.632\nIt does say Windows Internal for\nthe first one, the next one says SQL.\n\n559\n00:25:13.632 --> 00:25:14.942\nIt's the same database, right,\n\n560\n00:25:14.942 --> 00:25:17.328\nit's just a matter of who got to\nwrite that line in the wizard.\n\n561\n00:25:17.328 --> 00:25:18.512\n&gt;&gt; [LAUGH]\n&gt;&gt; And the second guy or\n\n562\n00:25:18.512 --> 00:25:20.733\ngirl who wrote it said,\nI'm gonna call mine SQL.\n\n563\n00:25:20.733 --> 00:25:22.563\nThe rest of it, you see, does all SQL.\n\n564\n00:25:22.563 --> 00:25:24.650\nBut it's the same thing,\nit's initializing the database.\n\n565\n00:25:24.650 --> 00:25:30.160\nIt's essentially SQL Lite install to SQL\nExpress install, that's what we're using.\n\n566\n00:25:30.160 --> 00:25:33.550\nAll right, so\nsince server was successfully configured,\n\n567\n00:25:33.550 --> 00:25:36.450\nnow let me show you this cuz\nsometimes people go through this.\n\n568\n00:25:36.450 --> 00:25:39.680\nThey call me afterwards like wait\na second, that whole thing down there\n\n569\n00:25:39.680 --> 00:25:42.465\nat the bottom, it's second warning\nsays an error occurred it says,\n\n570\n00:25:42.465 --> 00:25:44.770\n[INAUDIBLE] suggest what's\nthe heck going on with that?\n\n571\n00:25:44.770 --> 00:25:46.550\nRight, so\nthe server was successfully configured,\n\n572\n00:25:46.550 --> 00:25:48.710\nthe good news is this part is done.\n\n573\n00:25:48.710 --> 00:25:51.960\nEven better news is I'm gonna stop talking\nin a minute, which is even better.\n\n574\n00:25:51.960 --> 00:25:55.710\nBut before we do that, we come back and\nget to part four, so we can start working\n\n575\n00:25:55.710 --> 00:25:58.315\nwith and doing the configurations\nthrough the [INAUDIBLE] interface.\n\n576\n00:25:58.315 --> 00:26:01.990\nThat's all we did up until this point\nwas essentially just stand up and\n\n577\n00:26:01.990 --> 00:26:04.000\nconfigure the role on one machine.\n\n578\n00:26:04.000 --> 00:26:06.210\nWe still got to build out all\nthe rest of the topology.\n\n579\n00:26:06.210 --> 00:26:08.900\nBut the error occurred here, so\nlet's talk about this error.\n\n580\n00:26:08.900 --> 00:26:11.830\nSays an error occurred during\nan attempt to set the SPN,\n\n581\n00:26:11.830 --> 00:26:13.180\nservice principal name, right?\n\n582\n00:26:14.330 --> 00:26:15.870\nFor the specified service account.\n\n583\n00:26:15.870 --> 00:26:19.920\nI often think what would\nhappen if I forgot what all\n\n584\n00:26:19.920 --> 00:26:23.440\nthese acronyms [LAUGH] are actually.\n\n585\n00:26:23.440 --> 00:26:27.450\nOne day I wake up and just, I would have\nno knowledge of what these acronyms are.\n\n586\n00:26:27.450 --> 00:26:29.200\n&gt;&gt; But you could remember your\nanniversary all of the sudden,\n\n587\n00:26:29.200 --> 00:26:30.010\nbecause you'd have all this space.\n\n588\n00:26:30.010 --> 00:26:33.490\n&gt;&gt; I don't remember my anniversary now\n[LAUGH], so I may be able to change that.\n\n589\n00:26:33.490 --> 00:26:36.260\nOut for this, perhaps,\nthat's what's getting in the way.\n\n590\n00:26:36.260 --> 00:26:39.400\nBut you think about\nthe volume of acronyms.\n\n591\n00:26:39.400 --> 00:26:41.500\nYou and I and all the IT professional,\n\n592\n00:26:41.500 --> 00:26:44.860\nanybody who's out there, who's just\na member of our audience in general.\n\n593\n00:26:44.860 --> 00:26:49.600\nBut anybody who uses ITProTV or Dev Pro,\nor as for any of those, all the acronyms\n\n594\n00:26:49.600 --> 00:26:52.950\nthat anybody in our industry has\nto master and walk around with?\n\n595\n00:26:52.950 --> 00:26:55.660\nAnd then especially people like us that,\nnot just do this, but\n\n596\n00:26:55.660 --> 00:26:59.430\nalso potentially teach or train or\nconsult if you're doing that kind of work.\n\n597\n00:26:59.430 --> 00:27:02.420\nAll the extra stuff you gotta know, right?\n\n598\n00:27:02.420 --> 00:27:05.660\nI often wondered,\nnot only if I forgot what would happen.\n\n599\n00:27:05.660 --> 00:27:08.091\nBut I haven't thought if I started making\nstuff up and I said that's you know,\n\n600\n00:27:08.091 --> 00:27:08.628\nsix pack for now.\n\n601\n00:27:08.628 --> 00:27:11.640\n&gt;&gt; [LAUGH]\n&gt;&gt; And you're like,\n\n602\n00:27:11.640 --> 00:27:13.140\nwould people actually know?\n\n603\n00:27:13.140 --> 00:27:14.730\nIf they did know, would they say anything?\n\n604\n00:27:14.730 --> 00:27:16.160\n&gt;&gt; Probably.\n&gt;&gt; Cuz they sound convincing though,\n\n605\n00:27:16.160 --> 00:27:17.531\nthey're like no, that must be that.\n\n606\n00:27:17.531 --> 00:27:18.755\n[LAUGH] That must be what it is.\n\n607\n00:27:18.755 --> 00:27:20.372\n&gt;&gt; I've gotta go look that up,\nAdam's gotta be right.\n\n608\n00:27:20.372 --> 00:27:21.770\n&gt;&gt; It's actually service pack [INAUDIBLE].\n\n609\n00:27:21.770 --> 00:27:22.995\nSo it's service principal name, right?\n\n610\n00:27:22.995 --> 00:27:24.437\n&gt;&gt; [LAUGH]\n&gt;&gt; It's beer time, that's what it is.\n\n611\n00:27:24.437 --> 00:27:26.460\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so service principal names,\n\n612\n00:27:26.460 --> 00:27:27.200\nlet's go back to error,\n\n613\n00:27:27.200 --> 00:27:29.382\nI just want to show it's not\nreally an error, just a warning.\n\n614\n00:27:29.382 --> 00:27:32.737\nRemember, when we got to\ngive Microsoft credit but\n\n615\n00:27:32.737 --> 00:27:35.160\nalso essentially call them out\nsometimes when they do this.\n\n616\n00:27:35.160 --> 00:27:37.230\nRight, it is a warning,\nwe look at the icon.\n\n617\n00:27:37.230 --> 00:27:39.330\nYellow, triangle, caution, right?\n\n618\n00:27:39.330 --> 00:27:42.020\nBut at the same time they\nuse the horrible e word.\n\n619\n00:27:42.020 --> 00:27:43.200\nThe error, right?\n\n620\n00:27:43.200 --> 00:27:45.050\nSo it kind of sometimes throws you.\n\n621\n00:27:45.050 --> 00:27:48.160\nIt's not a critical error, it's just\nessentially a warning it says hey,\n\n622\n00:27:48.160 --> 00:27:51.990\nby the way we were having some issues\nhere trying to set the SPN for\n\n623\n00:27:51.990 --> 00:27:53.070\nthe service account.\n\n624\n00:27:53.070 --> 00:27:56.140\nIt says set the SPN for\nthe service account manually for\n\n625\n00:27:56.140 --> 00:28:00.224\nmore information about setting it,\ngo read the ADFS deployment guide.\n\n626\n00:28:00.224 --> 00:28:03.409\nI'm gonna show you how to find that guide\njust before we take off with this at\n\n627\n00:28:03.409 --> 00:28:04.690\nthe end of this episode.\n\n628\n00:28:04.690 --> 00:28:06.862\nAt the link I'm gonna show\nyou where to find that,\n\n629\n00:28:06.862 --> 00:28:09.295\nit says essentially error message,\nthe SPN require for\n\n630\n00:28:09.295 --> 00:28:12.730\nthis federation service is already set\non another active directory account.\n\n631\n00:28:12.730 --> 00:28:16.110\nBecause remember, we created\nthe account first and promoted it.\n\n632\n00:28:16.110 --> 00:28:18.880\nChoose a different federation\nservice name and try again.\n\n633\n00:28:18.880 --> 00:28:24.370\nit's just a timing issue when and\nwent through this in the order we did it.\n\n634\n00:28:24.370 --> 00:28:26.094\nit's not mission critical, it's fine.\n\n635\n00:28:26.094 --> 00:28:29.400\nAnd you could deal with it based on\nthe documentation and the deployment.\n\n636\n00:28:29.400 --> 00:28:32.220\nLet's take a look at the deployment\nguide before we begin the subset.\n\n637\n00:28:32.220 --> 00:28:33.840\nLet me click close here.\n\n638\n00:28:33.840 --> 00:28:35.850\nJust so\nwe're finished up with this section.\n\n639\n00:28:35.850 --> 00:28:40.430\nNotice here, our warning now, or hey, you\nneed to configure something is now gone.\n\n640\n00:28:41.570 --> 00:28:44.850\nSuccessfully done, so\nwe could just get rid of that.\n\n641\n00:28:44.850 --> 00:28:46.734\nSo that's been finished up and we're done.\n\n642\n00:28:46.734 --> 00:28:51.030\nNow, where we go, let me get over here.\n\n643\n00:28:52.700 --> 00:28:53.960\nGet back over there.\n\n644\n00:28:58.720 --> 00:29:03.990\nThat's server capacity, that is that\none right there, that's the one I what.\n\n645\n00:29:03.990 --> 00:29:08.220\nWindows Server 2016, don't let that\nthrow you [INAUDIBLE] part two.\n\n646\n00:29:08.220 --> 00:29:11.150\nAD FS Deployment Guide,\nthis just the most up to date, recent one.\n\n647\n00:29:11.150 --> 00:29:14.096\nMicrosoft kind of combined the 16 and\n12 R2 guides, and\n\n648\n00:29:14.096 --> 00:29:16.790\nit's basically the same process for both.\n\n649\n00:29:16.790 --> 00:29:18.520\nSo you can take a look at this one.\n\n650\n00:29:18.520 --> 00:29:21.800\nAgain, in the show notes,\nyou'll be able to find all the URLs for\n\n651\n00:29:21.800 --> 00:29:23.920\nthe links, the websites we're looking at.\n\n652\n00:29:23.920 --> 00:29:25.720\nYou could literally just go out and\nGoogle for\n\n653\n00:29:25.720 --> 00:29:29.140\nthis phrase right here and\nyou would find this as well.\n\n654\n00:29:29.140 --> 00:29:34.700\nBut when you go here, you will see the way\nof links to how to setup and deployed\n\n655\n00:29:34.700 --> 00:29:39.960\nfarm, a point proxy server using in\nserver 16 that called federation server.\n\n656\n00:29:39.960 --> 00:29:42.554\nOr proxy, we call them web\napplication proxies and in 12 R2,\n\n657\n00:29:42.554 --> 00:29:46.160\nit's the same thing and the Azure Active\nDirectory connect, if we're doing that.\n\n658\n00:29:46.160 --> 00:29:48.974\nSo when we're doing\nthe federation server farm,\n\n659\n00:29:48.974 --> 00:29:52.060\nyou just go through and\nyou can kind of drill down here.\n\n660\n00:29:52.060 --> 00:29:56.161\nWe'll see a very similar checklist to the\none I showed you, which is this one right\n\n661\n00:29:56.161 --> 00:30:00.620\nover here or if you remember the last\ncouple episodes, we talked about this one.\n\n662\n00:30:00.620 --> 00:30:03.130\nSo you could see a checklist\nthat looks very similar and\n\n663\n00:30:03.130 --> 00:30:06.130\nyou could see we have all the links\nto all the various things,\n\n664\n00:30:06.130 --> 00:30:09.730\nlittle key concepts docking on the table\nsomewhere that I put together for you.\n\n665\n00:30:09.730 --> 00:30:12.270\nThe SQL Server warning there, right?\n\n666\n00:30:12.270 --> 00:30:16.820\nWanna use the AD FS form in SQL Server\nto store our data, we could use Server\n\n667\n00:30:16.820 --> 00:30:20.120\n2008 and newer, including 12,\nremember there maybe some pre reqs.\n\n668\n00:30:20.120 --> 00:30:22.550\nYou read up on the documentation\nto figure all that stuff out.\n\n669\n00:30:22.550 --> 00:30:25.220\nSo we're telling you all that there,\njoin a computer to the domain,\n\n670\n00:30:25.220 --> 00:30:29.070\nenroll the SSL certificates for\nADFS, install the role.\n\n671\n00:30:29.070 --> 00:30:31.040\nWe've been going through,\nright, the first five or\n\n672\n00:30:31.040 --> 00:30:32.500\nsix steps are already done here, right?\n\n673\n00:30:32.500 --> 00:30:35.930\nSo we've basically gotten up through here\nright now and you can just go in and\n\n674\n00:30:35.930 --> 00:30:37.680\ndrill through and\nread up on whatever you need to do.\n\n675\n00:30:37.680 --> 00:30:41.110\nBut all this documentation is online,\nmaintained and up to date and\n\n676\n00:30:41.110 --> 00:30:44.280\nthis would be the perfect place for\nyou to go and drill down a little further.\n\n677\n00:30:44.280 --> 00:30:45.930\nTo make sure that everything\nis working the right way and\n\n678\n00:30:45.930 --> 00:30:47.480\nespecially if you run into an issue.\n\n679\n00:30:47.480 --> 00:30:49.970\nThis is a great repository for\nyou to troubleshoot against and\n\n680\n00:30:49.970 --> 00:30:50.770\nvalidate what you're doing.\n\n681\n00:30:50.770 --> 00:30:55.090\nSo, we're gonna pick up in our next\nepisode, continue our conversation.\n\n682\n00:30:55.090 --> 00:30:57.040\nWe've been through set up everything,\n\n683\n00:30:57.040 --> 00:31:00.070\njust getting to my place minutes\nto make sure everything is good.\n\n684\n00:31:00.070 --> 00:31:01.348\nAnd we're gonna go through,\n\n685\n00:31:01.348 --> 00:31:04.325\nwe'll do a little verification to\nmake sure everything is running.\n\n686\n00:31:04.325 --> 00:31:05.774\nAnd we'll pick up from here and\n\n687\n00:31:05.774 --> 00:31:09.630\ncontinue the configuration to establish\nboth sides of this federation service.\n\n688\n00:31:09.630 --> 00:31:13.600\nAnd ultimately set up and have some\nability to be able to leverage both sides,\n\n689\n00:31:13.600 --> 00:31:15.110\nthere's still a little configuration.\n\n690\n00:31:15.110 --> 00:31:18.750\nSee how both relying party and\nthe claims trusts are gonna be configured,\n\n691\n00:31:18.750 --> 00:31:21.170\nand we'll manage those before\nwe finish up the demo.\n\n692\n00:31:21.170 --> 00:31:22.650\n&gt;&gt; Sounds like a great plan, Adam.\n\n693\n00:31:22.650 --> 00:31:25.700\nExcited about that,\nhope everybody out there is as well.\n\n694\n00:31:25.700 --> 00:31:27.840\nGreat episode here,\na lot of great information.\n\n695\n00:31:27.840 --> 00:31:30.780\nI had some good resources for you guys\nout there as you're learning in and\n\n696\n00:31:30.780 --> 00:31:32.520\nplaying around with federation services.\n\n697\n00:31:32.520 --> 00:31:36.340\nSo hope everybody enjoyed watching this\nepisode, we're now signing off for\n\n698\n00:31:36.340 --> 00:31:38.900\nITProTV, I've been your host Mike Rodrick.\n\n699\n00:31:38.900 --> 00:31:40.350\n&gt;&gt; I'm Adam Gordon.\n\n700\n00:31:40.350 --> 00:31:42.197\n&gt;&gt; And we will see you next time.\n\n701\n00:31:42.197 --> 00:31:48.969\n[MUSIC]\n\n702\n00:31:48.969 --> 00:31:51.978\nThank you for watching ITProTV.\n\n",
          "vimeoId": "238593621"
        },
        {
          "description": "Adam and Mike validate the AD FS installation by opening the AD FS management console and examining the federationmetadata.xml file. They also take a quick tour of the AD FS management console, as well as discussing high availability options for AD FS deployments and AD FS capacity planning for the enterprise.",
          "length": "1930",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-4-implementing-ad-fs_pt4-101617-PGM.00_00_13_29.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-4-implementing-ad-fs_pt4-101617-PGM.00_00_13_29.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-4-implementing-ad-fs_pt4-101617-PGM.00_00_13_29.Still001-sm.jpg",
          "title": "Implementing AD FS Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:01.043\nWelcome to ITPRO.TV.\n\n2\n00:00:01.043 --> 00:00:02.635\n&gt;&gt; I'm your host Don Pezet.\n\n3\n00:00:02.635 --> 00:00:06.330\n&gt;&gt; Coming at you live from\nSan Francisco California.\n\n4\n00:00:06.330 --> 00:00:12.485\n&gt;&gt; [CROSSTALK]\n&gt;&gt; You're watching ITPRO.TV.\n\n5\n00:00:12.485 --> 00:00:14.919\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITPRO.TV.\n\n6\n00:00:14.919 --> 00:00:16.386\nI'm your host Mike Rodrick.\n\n7\n00:00:16.386 --> 00:00:20.975\nAnd today, we're covering Windows Server\n2012 R2 in preparation for\n\n8\n00:00:20.975 --> 00:00:22.705\nthat 70 dash 412 exam.\n\n9\n00:00:22.705 --> 00:00:27.488\nIn this episode, we're actually continuing\nour conversation on implementing\n\n10\n00:00:27.488 --> 00:00:29.959\nactive directory Federation Services.\n\n11\n00:00:29.959 --> 00:00:33.653\nThis is part four, that means there's been\nthree parts already, so make sure you go\n\n12\n00:00:33.653 --> 00:00:37.263\nback and watch those so you know what the\nheck we're talking about as we continue.\n\n13\n00:00:37.263 --> 00:00:40.986\nAnd here to continue with us is Mr.\nAdam Gordon, welcome back Adam.\n\n14\n00:00:40.986 --> 00:00:42.196\n&gt;&gt; Hello, Part Four.\n\n15\n00:00:42.196 --> 00:00:42.812\n&gt;&gt; Part four.\n\n16\n00:00:42.812 --> 00:00:43.731\n&gt;&gt; Did it with one hand up,\nvery impressed.\n\n17\n00:00:43.731 --> 00:00:47.332\nDidn't have to use two hands and\nmultiple fingers, no toes,\n\n18\n00:00:47.332 --> 00:00:49.005\nthat was good, I like that.\n\n19\n00:00:49.005 --> 00:00:53.779\nAll right so, Part Four, that means,\nnot only did we do three episodes\n\n20\n00:00:53.779 --> 00:00:58.893\nprior to this but it means that we are in\nthe midst of not only configuration.\n\n21\n00:00:58.893 --> 00:01:01.130\nWe're about to start actually\npeeking under the hood and\n\n22\n00:01:01.130 --> 00:01:02.768\nlooking at the ADFS management console.\n\n23\n00:01:02.768 --> 00:01:07.241\nBecause we've got to the point now, at the\nend of the third episode where we finished\n\n24\n00:01:07.241 --> 00:01:11.087\nthe configuration using the GUI\nConfiguration Wizard and PowerShell,\n\n25\n00:01:11.087 --> 00:01:14.445\nwe snuck that back in there as you saw,\nand we got all that done.\n\n26\n00:01:14.445 --> 00:01:19.387\nAnd now, we're gonna spin up ADFS in\nthe management console perspective.\n\n27\n00:01:19.387 --> 00:01:22.824\nStart interacting with and talking about\nsome of the stuff that goes on in there.\n\n28\n00:01:22.824 --> 00:01:25.518\nWe're gonna take a look at the three\ncertificate types that are issued and\n\n29\n00:01:25.518 --> 00:01:27.181\nused, we'll define quickly what they are.\n\n30\n00:01:27.181 --> 00:01:28.450\nThe service communications,\n\n31\n00:01:28.450 --> 00:01:31.874\ntoken decrypting, and token signing\ncertificates, we'll take a look at those.\n\n32\n00:01:31.874 --> 00:01:36.518\nWe're also gonna take a look at\nhow to manage through PowerShell.\n\n33\n00:01:36.518 --> 00:01:38.741\nThe certificate roll over capabilities.\n\n34\n00:01:38.741 --> 00:01:40.463\nWe're gonna modify that property.\n\n35\n00:01:40.463 --> 00:01:42.035\nWe'll take a look quickly at\nthe commandlet to do that.\n\n36\n00:01:42.035 --> 00:01:45.923\nAnd before we even do any of that,\nwe're gonna see how we test and\n\n37\n00:01:45.923 --> 00:01:49.883\nverify whether or not our\nConfiguration Wizard was successful by\n\n38\n00:01:49.883 --> 00:01:51.973\nsneaking a peek at some metadata.\n\n39\n00:01:51.973 --> 00:01:53.137\n&gt;&gt; All right.\n&gt;&gt; We're gonna do that from\n\n40\n00:01:53.137 --> 00:01:53.775\nan alternate machine.\n\n41\n00:01:53.775 --> 00:01:56.119\nAnd we're gonna take a look at\nhow to do that over the web.\n\n42\n00:01:56.119 --> 00:01:57.542\n&gt;&gt; Always good when we can test.\n\n43\n00:01:57.542 --> 00:01:59.614\n&gt;&gt; It is, especially when it works.\n\n44\n00:01:59.614 --> 00:02:00.438\n&gt;&gt; Yeah.\n\n45\n00:02:00.438 --> 00:02:02.452\n[LAUGH]\n&gt;&gt; All right, so join me here.\n\n46\n00:02:02.452 --> 00:02:03.545\nLet's take a look at a couple things.\n\n47\n00:02:03.545 --> 00:02:05.640\nNow that is the ADFS management console.\n\n48\n00:02:05.640 --> 00:02:07.164\nWe'll come back to that in just a minute.\n\n49\n00:02:07.164 --> 00:02:09.536\nAnd the three types of\ncertificates that I mentioned.\n\n50\n00:02:09.536 --> 00:02:12.588\nServer communication or\nservice communication rather,\n\n51\n00:02:12.588 --> 00:02:14.962\ntoken decrypt, token signing are all here.\n\n52\n00:02:14.962 --> 00:02:17.470\nWe're gonna walk through just\nquickly explain what those are.\n\n53\n00:02:17.470 --> 00:02:21.417\nA little do and don't about a couple of\nthese and explain some things about them.\n\n54\n00:02:21.417 --> 00:02:22.896\nWe'll come back to that in just a minute.\n\n55\n00:02:22.896 --> 00:02:25.747\nLet's take a look before\nI do anything else.\n\n56\n00:02:25.747 --> 00:02:29.099\nLet me see how many things I\ncan make magically appear and\n\n57\n00:02:29.099 --> 00:02:32.679\nkind of spread out here, and\ndo, all sorts of crazy stuff.\n\n58\n00:02:32.679 --> 00:02:35.188\nAll right, let me go over\nhere to my Windows 8 machine.\n\n59\n00:02:35.188 --> 00:02:37.780\nYou could see it right\nhere in the background.\n\n60\n00:02:37.780 --> 00:02:42.064\nAnd I've already gone ahead, at the end\nof the last episode, before we joined,\n\n61\n00:02:42.064 --> 00:02:43.579\nback for episode four here.\n\n62\n00:02:43.579 --> 00:02:46.754\nAnd I went ahead,\nfinished the configuration through\n\n63\n00:02:46.754 --> 00:02:51.378\nthe Gooey Base Wizard to configure ADFS,\nand I tested the functionality of ADFS\n\n64\n00:02:51.378 --> 00:02:55.184\nbefore I loaded the management\nconsole to ensure it was working.\n\n65\n00:02:55.184 --> 00:02:59.277\nNow the way that you do that, you can go\nto any machine, it doesn't matter, but\n\n66\n00:02:59.277 --> 00:03:02.638\nobviously one that's domain joined,\nso you can get to this URL,\n\n67\n00:03:02.638 --> 00:03:03.947\nresolve it through DNS.\n\n68\n00:03:03.947 --> 00:03:07.520\nSo I've gone ahead and\njust loaded up Internet Explorer.\n\n69\n00:03:07.520 --> 00:03:09.885\nNotice I didn't say Edge.\n\n70\n00:03:09.885 --> 00:03:11.475\n&gt;&gt; [LAUGH]\n&gt;&gt; I said Internet Explorer, all right?\n\n71\n00:03:11.475 --> 00:03:13.009\nI loaded up IE.\n\n72\n00:03:13.009 --> 00:03:16.180\nAnd I typed in, and\nlet me copy this real quick.\n\n73\n00:03:16.180 --> 00:03:17.783\nJust give me just a second so\n\n74\n00:03:17.783 --> 00:03:21.978\nyou could see this cuz this URL is\na little bit kinda long and excessive.\n\n75\n00:03:25.470 --> 00:03:28.752\nAnd just while you're doing that,\nyou're saying Internet Explorer\n\n76\n00:03:28.752 --> 00:03:32.716\nbecause Edge won't work in this scenario,\nor because you like Internet Explorer?\n\n77\n00:03:32.716 --> 00:03:33.880\n&gt;&gt; Because I hate edge.\n\n78\n00:03:33.880 --> 00:03:37.345\n[LAUGH] No, but I am on Windows 8.1, and\n\n79\n00:03:37.345 --> 00:03:42.107\nI'm using IE cuz Edge is not\non Windows 8.1 natively.\n\n80\n00:03:42.107 --> 00:03:45.575\nIf I was in Windows 10, it would have\nbeen the Edge, and the Edge would work,\n\n81\n00:03:45.575 --> 00:03:48.376\nit wouldn't be an issue, but\nI'm just not as fond of the Edge.\n\n82\n00:03:48.376 --> 00:03:52.197\nAs I am of internet explorer\nhappened to be a huge U2 fan.\n\n83\n00:03:52.197 --> 00:03:55.574\nI like the Edge, the guitar player,\nnot the edge the browser,\n\n84\n00:03:55.574 --> 00:03:56.925\njust to make that clear.\n\n85\n00:03:56.925 --> 00:03:59.881\nAll right so,\nnow that we've gotten that out the way,\n\n86\n00:03:59.881 --> 00:04:04.261\nlet me just make this a little bit bigger\nso that we can actually see this URL here.\n\n87\n00:04:04.261 --> 00:04:09.192\nJust give me just one second to\nchoose a slightly larger font.\n\n88\n00:04:09.192 --> 00:04:17.248\nSee if I can do that without running off\nthe Edge of the, All right, there we go.\n\n89\n00:04:17.248 --> 00:04:18.813\nHopefully you can see that's also.\n\n90\n00:04:18.813 --> 00:04:24.171\nAll right, so HTTPS, remember we\ncommunicate with the ADFS server securely.\n\n91\n00:04:24.171 --> 00:04:26.339\nSo we did specify in\nthe last couple episodes,\n\n92\n00:04:26.339 --> 00:04:29.231\nall communication once we stand it up and\nconfigure it based on\n\n93\n00:04:29.231 --> 00:04:32.806\nthe application of that certificate\nthat we took a look at, is still HTTPS.\n\n94\n00:04:32.806 --> 00:04:35.300\nSo hopefully, the protocol\nchoice makes sense, do you hear?\n\n95\n00:04:35.300 --> 00:04:40.274\nWe then are referencing the FQDN of\nthe fully qualified domain name, FQDN,\n\n96\n00:04:40.274 --> 00:04:45.339\nof the federation server, in this\ncase plabc01, our domain controller.\n\n97\n00:04:45.339 --> 00:04:50.610\nSo plabdc01.practicelabs.com,\nyou would substitute in the name and\n\n98\n00:04:50.610 --> 00:04:55.295\nconvention and the fkdn for\nwhatever machine you're targeting,\n\n99\n00:04:55.295 --> 00:04:59.641\nyour lab environment, or\ntest if you're doing this, then,\n\n100\n00:04:59.641 --> 00:05:04.763\nfederationmetadata/2007-06/federationmeta-\ndata.xml.\n\n101\n00:05:04.763 --> 00:05:06.473\nThat part is consistent in the same,\n\n102\n00:05:06.473 --> 00:05:08.689\nregardless of the machine\nyou're targeting.\n\n103\n00:05:08.689 --> 00:05:13.531\nThat's just the standing URL that's used\nto get to the federation metadata XML file\n\n104\n00:05:13.531 --> 00:05:16.410\nwhich you can see kind of\nin the browser behind me.\n\n105\n00:05:16.410 --> 00:05:21.036\nAnd assuming that the configuration was\nsuccessful, w`e had no major errors or\n\n106\n00:05:21.036 --> 00:05:23.563\nhiccups there and everything looked good.\n\n107\n00:05:23.563 --> 00:05:26.971\nWhile we could just jump right in and\nopen the ADFS management console.\n\n108\n00:05:26.971 --> 00:05:30.635\nYou saw, is sitting on\nthe mega control already open.\n\n109\n00:05:30.635 --> 00:05:33.438\nThis step, in other words,\nyou do not need to do this.\n\n110\n00:05:33.438 --> 00:05:36.874\nBut this is a good indicator\nof success and functionality.\n\n111\n00:05:36.874 --> 00:05:41.739\nIf you can load this file, it means DNS\nis working, name resolution is working.\n\n112\n00:05:41.739 --> 00:05:44.996\nSecure Configuration of\nthe certificate and the protocol and\n\n113\n00:05:44.996 --> 00:05:46.315\nthe service is all good.\n\n114\n00:05:46.315 --> 00:05:50.294\nAnd, you're able to pull the federation\nmetadatat XML file and look at it,\n\n115\n00:05:50.294 --> 00:05:52.174\nthat means the service is working.\n\n116\n00:05:52.174 --> 00:05:56.794\nSo, it's a good indicator from a domain\njoined machine, remote, rather excuse me,\n\n117\n00:05:56.794 --> 00:06:00.971\nin behind the firewall, in the same\nforest that we're able to actually access\n\n118\n00:06:00.971 --> 00:06:03.728\nthe service and\neverything is working correctly.\n\n119\n00:06:03.728 --> 00:06:05.485\nSo, that's what this URL is.\n\n120\n00:06:05.485 --> 00:06:08.589\nProbably wouldn't be a bad\nidea to know that URL minus of\n\n121\n00:06:08.589 --> 00:06:11.701\ncourse the localization of\nthe unique named instance.\n\n122\n00:06:11.701 --> 00:06:14.164\nIf you're planning on taking the exam,\n&gt;&gt; Hint, hint.\n\n123\n00:06:14.164 --> 00:06:14.957\n&gt;&gt; You could easily see.\n\n124\n00:06:14.957 --> 00:06:15.493\n&gt;&gt; Yeah.\n\n125\n00:06:15.493 --> 00:06:18.757\n&gt;&gt; Where, whatever the name of that\nmachine is in the scenario word problem.\n\n126\n00:06:18.757 --> 00:06:21.778\nSubstituted for the highlighted\nentry there, that that URL or\n\n127\n00:06:21.778 --> 00:06:24.457\nperhaps just that string,\nthe generic place holder and\n\n128\n00:06:24.457 --> 00:06:28.162\nhey choose the right one out of the list\nof however many options they give you.\n\n129\n00:06:28.162 --> 00:06:29.406\nWhich one is the right one,\n\n130\n00:06:29.406 --> 00:06:32.126\nI can see easily being asked\na question about that, right.\n\n131\n00:06:32.126 --> 00:06:33.858\nSo just wannna point that out to you.\n\n132\n00:06:33.858 --> 00:06:37.252\n&gt;&gt; It really is a good test, as you\nsaid it takes a lot of thing is that you\n\n133\n00:06:37.252 --> 00:06:40.950\nmight not see just opening up that\nmanagement console cuz that management\n\n134\n00:06:40.950 --> 00:06:43.177\nconsole is local to the federation server.\n\n135\n00:06:43.177 --> 00:06:46.831\nSo it's not having to do a lot of the\nthings that Windows 8 client is doing to\n\n136\n00:06:46.831 --> 00:06:47.882\nconnect to that URL.\n\n137\n00:06:47.882 --> 00:06:48.881\nIt really is a good test.\n\n138\n00:06:48.881 --> 00:06:51.838\n&gt;&gt; It is,\nif you want to join me back here.\n\n139\n00:06:51.838 --> 00:06:54.607\nThe meta data itself is not really going\nto tell you, [INAUDIBLE] you can kinda\n\n140\n00:06:54.607 --> 00:06:56.914\nscroll through here and look,\nyeah, there's a lot of stuff.\n\n141\n00:06:56.914 --> 00:06:59.757\nSome of it is English-centric in\nthe sense, you could, it's user friendly.\n\n142\n00:06:59.757 --> 00:07:01.362\nYou could probably make heads or\ntails out of it.\n\n143\n00:07:01.362 --> 00:07:05.482\nBut a lot of it is really just\na bunch of stuff that's probably not\n\n144\n00:07:05.482 --> 00:07:09.095\ngonna make much sense to you, but-\n&gt;&gt; It's really more about can I connect to\n\n145\n00:07:09.095 --> 00:07:09.974\nit and retrieve the file?\n\n146\n00:07:09.974 --> 00:07:12.210\n&gt;&gt; And retrieve the file,\njust to load the file so I can see it.\n\n147\n00:07:12.210 --> 00:07:12.711\nAnd let's just scroll through it.\n\n148\n00:07:12.711 --> 00:07:16.218\nIt's just, it's the information file for\nthe service.\n\n149\n00:07:16.218 --> 00:07:18.262\nIt's got all the information\nassociated with it.\n\n150\n00:07:18.262 --> 00:07:20.211\nSo, just wanna make sure\nthat you're aware of that.\n\n151\n00:07:20.211 --> 00:07:24.662\nAll right, you can see here that we are\nable to load that which means that this is\n\n152\n00:07:24.662 --> 00:07:26.288\nconfigured successfully.\n\n153\n00:07:26.288 --> 00:07:27.592\nSo, yeheey for me.\n\n154\n00:07:27.592 --> 00:07:29.026\nAll right, now-\n&gt;&gt; Good job, Adam.\n\n155\n00:07:29.026 --> 00:07:31.333\n&gt;&gt; Notice I didn't say yeheey for\nMike, cuz he did not help at all.\n\n156\n00:07:31.333 --> 00:07:32.509\n&gt;&gt; [LAUGH]\n&gt;&gt; But yeheey for\n\n157\n00:07:32.509 --> 00:07:33.385\nme cuz I did all the hard work.\n\n158\n00:07:33.385 --> 00:07:36.491\nAll right, he just does commentary,\njust stands off to the side and\n\n159\n00:07:36.491 --> 00:07:38.792\nyells at me when things\ndon't work the right way.\n\n160\n00:07:38.792 --> 00:07:41.513\nAll right, so I'm only kidding,\nMike is a big help, and\n\n161\n00:07:41.513 --> 00:07:43.807\nyou guys should never\nthink he's not helping.\n\n162\n00:07:43.807 --> 00:07:45.397\nWhen we're standing here doing stuff.\n\n163\n00:07:45.397 --> 00:07:47.987\nYou should see him do a soft shoe here\nwhile I'm standing off this side,\n\n164\n00:07:47.987 --> 00:07:50.204\nhe's practicing his dance moves,\nlimbering up for later.\n\n165\n00:07:50.204 --> 00:07:54.396\nAll right, so let's talk for a minute\nabout autoscript to get a roll over.\n\n166\n00:07:54.396 --> 00:07:58.798\nI mentioned we will quickly look\nat PowerShell, into the console,\n\n167\n00:07:58.798 --> 00:08:00.186\nthere's cmdlet here.\n\n168\n00:08:00.186 --> 00:08:00.938\nSet ADFS properties.\n\n169\n00:08:00.938 --> 00:08:05.913\nHopefully, you can begin to start to\nenvision what a command like this may do.\n\n170\n00:08:05.913 --> 00:08:08.074\nRemember, we did the configuration\nwith PowerShell.\n\n171\n00:08:08.074 --> 00:08:10.517\nYou saw the script,\nwe quickly took a look at the temp file.\n\n172\n00:08:10.517 --> 00:08:12.181\nIt's created in the wizard, see that.\n\n173\n00:08:12.181 --> 00:08:14.607\nSet ADFS properties as the name implies,\n\n174\n00:08:14.607 --> 00:08:17.970\nthat's a set whatever\nthe specific property may be.\n\n175\n00:08:17.970 --> 00:08:21.230\nThe parameter in this case, we're\ngoing after auto certificate rollover.\n\n176\n00:08:21.230 --> 00:08:25.113\nDollar sign false means set that to false,\nwe're not allowing or\n\n177\n00:08:25.113 --> 00:08:27.330\nenabling automatic rollover.\n\n178\n00:08:27.330 --> 00:08:29.870\nSo we're not rolling certificates over,\nwe would wanna manually control them.\n\n179\n00:08:29.870 --> 00:08:31.442\nAnd essentially put them in and\n\n180\n00:08:31.442 --> 00:08:34.655\nrenew them on our own as opposed\nto just having them auto renew.\n\n181\n00:08:34.655 --> 00:08:37.952\nBut you can see here we've set that or\nI've specified that.\n\n182\n00:08:37.952 --> 00:08:39.912\nSo I've blocked the auto renewal or\n\n183\n00:08:39.912 --> 00:08:44.432\nauto certificate rollover feature by\nspecifying that particular command line.\n\n184\n00:08:44.432 --> 00:08:50.721\nSo having done that we're in here, the way\nI opened up the AD FS Management Console.\n\n185\n00:08:50.721 --> 00:08:54.609\nI went to the Server Manager\nas we often do, go into Tools.\n\n186\n00:08:54.609 --> 00:08:57.869\nAnd you'll see we have\nAD FS Management right there.\n\n187\n00:08:57.869 --> 00:09:02.023\nNow we do have as we do often with\nmany of the tools that show up here.\n\n188\n00:09:02.023 --> 00:09:03.972\nCertificate Services is a good example.\n\n189\n00:09:03.972 --> 00:09:08.907\nCertification Authorities here,\nwhich is the MMC for certificate services.\n\n190\n00:09:08.907 --> 00:09:12.491\nWe do have a listing over here in\nthe left in the navigation area.\n\n191\n00:09:12.491 --> 00:09:14.887\nBut when you click on these,\nthat's not where you're go to manage.\n\n192\n00:09:14.887 --> 00:09:19.021\nIt's often where you go to see some\nvery basic configuration information.\n\n193\n00:09:19.021 --> 00:09:22.136\nMaybe status of the service things\nlike that, in the dashboard for\n\n194\n00:09:22.136 --> 00:09:25.660\nthe Server Manager,\nit's not were you typically go to Manage.\n\n195\n00:09:25.660 --> 00:09:27.220\nSo more often than that\nyou go to Tools and\n\n196\n00:09:27.220 --> 00:09:29.640\npulling up the appropriate console just so\nyou know.\n\n197\n00:09:29.640 --> 00:09:32.733\nSo I've gone in here,\nI've clicked on AD FS Management.\n\n198\n00:09:32.733 --> 00:09:37.723\nLet's pretend I did that, and when I\ndid that I opened up this console here.\n\n199\n00:09:37.723 --> 00:09:41.057\nNow when this console opens up,\nit actually looks like this just so\n\n200\n00:09:41.057 --> 00:09:43.550\nyou know what it looks\nlike cuz we start out.\n\n201\n00:09:43.550 --> 00:09:46.774\nAll I've done is opened up the Service\nfolder over here on the left.\n\n202\n00:09:46.774 --> 00:09:51.427\nI've gone to Certificates right here and\nwe then see our certificate types.\n\n203\n00:09:51.427 --> 00:09:53.469\nThe three that I mentioned are issued and\n\n204\n00:09:53.469 --> 00:09:57.024\nconfigured by default as part of\nthe standing up and figuring of AD FS.\n\n205\n00:09:57.024 --> 00:09:59.759\nIt would really important for you to\nknow these three certificate types, so\n\n206\n00:09:59.759 --> 00:10:01.263\nlet's briefly talk about what they are.\n\n207\n00:10:01.263 --> 00:10:03.530\nService communications,\nfirst certificate there.\n\n208\n00:10:03.530 --> 00:10:07.600\nLabeled accordingly, so\nwe can see what they are.\n\n209\n00:10:07.600 --> 00:10:09.185\nToken decrypt and Token signing,\n\n210\n00:10:09.185 --> 00:10:12.470\nwe do have the ability to work with\nthose three over here under actions.\n\n211\n00:10:12.470 --> 00:10:16.246\nSet a new service communication\ncertificate or set a service communication\n\n212\n00:10:16.246 --> 00:10:19.380\ncertificate I should say,\nwhether there's one there or not.\n\n213\n00:10:19.380 --> 00:10:21.726\nAdd a signing or decrypting certificate.\n\n214\n00:10:21.726 --> 00:10:24.198\nNow I told you,\nit's part of the configuration of AD FS,\n\n215\n00:10:24.198 --> 00:10:25.342\nwhich is you self signed.\n\n216\n00:10:25.342 --> 00:10:29.354\nWe explained how all that worked, we\nswapped the certificates between our two\n\n217\n00:10:29.354 --> 00:10:32.051\nforest, we had access to them,\nwe brought them in.\n\n218\n00:10:32.051 --> 00:10:33.573\nWe're on plab dc01,\n\n219\n00:10:33.573 --> 00:10:38.072\nso notice that we're seeing\nthe certificates from plab dc01 here.\n\n220\n00:10:38.072 --> 00:10:43.055\nWe haven't brought in, and\nwe are not using the other side of\n\n221\n00:10:43.055 --> 00:10:48.170\nthis equation yet for\nthe practice it.code.uk forest.\n\n222\n00:10:48.170 --> 00:10:52.980\nStood up and configured and worked\nwith AD FS inside of practicelabs.com.\n\n223\n00:10:52.980 --> 00:10:55.199\nSo we're seeing certificates for\nthe domain for\n\n224\n00:10:55.199 --> 00:10:58.296\nthe forest that are self signed\nfrom this domain control right now.\n\n225\n00:10:58.296 --> 00:11:00.717\nJust so you know why we're seeing this or\nwhere they come from.\n\n226\n00:11:00.717 --> 00:11:02.972\nBut we have three certificate\ntypes we have to be aware of,\n\n227\n00:11:02.972 --> 00:11:03.991\nservice communication.\n\n228\n00:11:03.991 --> 00:11:08.548\nService communication certificates,\nany computer or certificate, I should say.\n\n229\n00:11:08.548 --> 00:11:11.665\nAny and all computers that\ncommunicate with AD FS, so\n\n230\n00:11:11.665 --> 00:11:14.239\nany other servers that are communicating.\n\n231\n00:11:14.239 --> 00:11:17.984\nAny systems that are communicating of any\nkind must trust the certificate that's\n\n232\n00:11:17.984 --> 00:11:19.564\nused for service communication.\n\n233\n00:11:19.564 --> 00:11:21.585\nSo they all have to\ntrust this certificate.\n\n234\n00:11:21.585 --> 00:11:27.863\nNow remember, this certificate,\nthe cn plab dc01 practicelabs.com, right?\n\n235\n00:11:27.863 --> 00:11:30.281\nLet's just highlight this,\nView certificate.\n\n236\n00:11:30.281 --> 00:11:32.668\nWe can always look at the Certificate,\nlet's just view that.\n\n237\n00:11:32.668 --> 00:11:36.992\nThat Certificate should look familiar to\nyou, that's the one that we that was self\n\n238\n00:11:36.992 --> 00:11:39.359\nsigned that we used if you remember,\nright?\n\n239\n00:11:39.359 --> 00:11:43.867\nIssued to the plab dc01 practicelabs.com,\nright?\n\n240\n00:11:43.867 --> 00:11:45.597\nInfrastructure from the CA,\n\n241\n00:11:45.597 --> 00:11:49.342\nremember this is the certificate\nthat came from the CA, right?\n\n242\n00:11:49.342 --> 00:11:51.024\nWe talked about this, so this is,\n\n243\n00:11:51.024 --> 00:11:53.640\nand we do have a private key\nthat corresponds to this.\n\n244\n00:11:53.640 --> 00:11:56.659\nThis is good for one year, we could\nsee the effect of data expiration date\n\n245\n00:11:56.659 --> 00:11:59.334\nmirrored right from the validity\nperiod on the certificate, so\n\n246\n00:11:59.334 --> 00:12:00.588\nthere's two match, right?\n\n247\n00:12:00.588 --> 00:12:03.270\nAnd so this proves our identity\nto a remote computer and\n\n248\n00:12:03.270 --> 00:12:05.441\nensures the identity of a remote computer.\n\n249\n00:12:05.441 --> 00:12:09.319\nThis certificate is used to validate\nidentity and anybody who's communicating\n\n250\n00:12:09.319 --> 00:12:12.920\nmust trust this certificate and\ninteract with it, it's very important.\n\n251\n00:12:14.880 --> 00:12:17.053\nAll of our devices should\nhopefully be domain joined.\n\n252\n00:12:17.053 --> 00:12:21.725\nAnd if they are, [COUGH] we will have\nthe ability to use an internally issued or\n\n253\n00:12:21.725 --> 00:12:26.332\nself signed CA certificate 4,\nthe service communication certificate.\n\n254\n00:12:26.332 --> 00:12:30.071\nBut remember, we talked about the fact\nthere may be devices from outside that\n\n255\n00:12:30.071 --> 00:12:31.060\nare gonna use AD FS.\n\n256\n00:12:31.060 --> 00:12:35.549\nAnd if they are from outside, we may have\nto use a publicly issued third party\n\n257\n00:12:35.549 --> 00:12:39.772\nderived PKI certificate or we would\nhave to do the swap we talked about.\n\n258\n00:12:39.772 --> 00:12:43.993\nAnd publish those certificates through\ngroup policy the way I showed you in\n\n259\n00:12:43.993 --> 00:12:46.740\none of the prior episodes\nto force the trusting of\n\n260\n00:12:46.740 --> 00:12:50.304\nthat certificate among all\nthe parties that are gonna be here.\n\n261\n00:12:50.304 --> 00:12:52.036\nBut remember,\nif they're not domain joined,\n\n262\n00:12:52.036 --> 00:12:54.653\nwe have no way even installing that\ncertificate through group policy.\n\n263\n00:12:54.653 --> 00:12:58.090\nWe would have to import the certificate\nand install it locally on that machine.\n\n264\n00:12:58.090 --> 00:13:00.015\nMaybe we have a mobile device management,\n\n265\n00:13:00.015 --> 00:13:02.860\nsoftware solution that could be\nused to deploy certificates.\n\n266\n00:13:02.860 --> 00:13:05.300\nSo may be different ways to get\nthose certificates out there.\n\n267\n00:13:05.300 --> 00:13:05.895\nBut policy,\n\n268\n00:13:05.895 --> 00:13:09.427\ngroup policy based deployment would\nnot work if they're not domain joined.\n\n269\n00:13:09.427 --> 00:13:12.399\nCuz we have no way of managing with\ngroup policy outside the debate.\n\n270\n00:13:12.399 --> 00:13:14.838\nSo just keep that in mind,\nwe have different options,\n\n271\n00:13:14.838 --> 00:13:16.330\ndepending on what we're doing.\n\n272\n00:13:16.330 --> 00:13:19.722\nAnother to keep in mind was\nservers communication stuff.\n\n273\n00:13:19.722 --> 00:13:23.830\nIf we change that certificate and\nnotice it's only good for a year.\n\n274\n00:13:23.830 --> 00:13:26.031\nWe changed that certificate out and or\n\n275\n00:13:26.031 --> 00:13:29.205\nif it expires right after\nthe initial configuration.\n\n276\n00:13:29.205 --> 00:13:30.488\nHowever we get there,\n\n277\n00:13:30.488 --> 00:13:33.992\nwe have to change that out on all\nthe nodes on the server form.\n\n278\n00:13:33.992 --> 00:13:36.678\nMeaning whave more than one node,\nremember in our environment here,\n\n279\n00:13:36.678 --> 00:13:38.327\nwe're operating with a single node farm.\n\n280\n00:13:38.327 --> 00:13:40.789\nBut in traditional\nenterprise environments,\n\n281\n00:13:40.789 --> 00:13:43.256\nwe most likely have\na highly available system.\n\n282\n00:13:43.256 --> 00:13:45.918\nWe'll talk about how we do\nhigh availability in a minute.\n\n283\n00:13:45.918 --> 00:13:48.435\nWe'd scale this out,\nadd multiple nodes to the farm,\n\n284\n00:13:48.435 --> 00:13:50.581\nthat's one way to insure\nhigh availability.\n\n285\n00:13:50.581 --> 00:13:54.237\nWe'd have to ensure the certificate\nis updated on every node.\n\n286\n00:13:54.237 --> 00:13:58.259\nMeaning we'd have to go into the MMC\non every AD FS instance like we're\n\n287\n00:13:58.259 --> 00:13:59.020\ndoing here.\n\n288\n00:13:59.020 --> 00:14:02.981\nAnd we would have to use the set service\ncommunication certificate action right\n\n289\n00:14:02.981 --> 00:14:03.638\nover there.\n\n290\n00:14:03.638 --> 00:14:07.026\nWhen I just clicked on, and\nwe would have to then get this pop-up,\n\n291\n00:14:07.026 --> 00:14:10.050\nwe would have to choose\nthe appropriate certificate.\n\n292\n00:14:10.050 --> 00:14:13.026\nGo back to the discussion Mike and\nI had an episode or two ago, where we were\n\n293\n00:14:13.026 --> 00:14:16.251\ntalking about viewing that certificate\nin the wizard if you remember, right?\n\n294\n00:14:16.251 --> 00:14:19.814\nAnd Mike said, wow,\nit's great that they show us that and\n\n295\n00:14:19.814 --> 00:14:21.578\nhave the ability to choose.\n\n296\n00:14:21.578 --> 00:14:24.964\nBecause I've been in situations where\nthere's been more than one certificate,\n\n297\n00:14:24.964 --> 00:14:27.160\nand I may or\nmay not have made the right choice.\n\n298\n00:14:27.160 --> 00:14:28.731\nAnd the default choice\nmay not be the right one.\n\n299\n00:14:28.731 --> 00:14:30.929\nAnd if I don't have\nthe ability to go look,\n\n300\n00:14:30.929 --> 00:14:33.875\nit may be very hard to get\nthat right certificate signed.\n\n301\n00:14:33.875 --> 00:14:35.340\nSame thing here, right?\n\n302\n00:14:35.340 --> 00:14:37.360\nClick here to view certificate properties,\nor\n\n303\n00:14:37.360 --> 00:14:39.589\nyou could see we have\ndifferent certificates here.\n\n304\n00:14:39.589 --> 00:14:42.154\nWe probably would need to go shopping and\nbrowse,\n\n305\n00:14:42.154 --> 00:14:46.415\nand it would be good if we had the ability\nto label these and knew what they were.\n\n306\n00:14:46.415 --> 00:14:49.439\nSo it's important to know that we may\nwanna swap the certificate out or\n\n307\n00:14:49.439 --> 00:14:50.936\nrenew it, essentially, right?\n\n308\n00:14:50.936 --> 00:14:51.913\nPut a new version in.\n\n309\n00:14:51.913 --> 00:14:55.822\nWe have to do that on every node in the\nfarm, or we're gonna run into an issue or\n\n310\n00:14:55.822 --> 00:14:59.435\na situation where there's different\ncertificates in different parts\n\n311\n00:14:59.435 --> 00:15:01.505\nin the farm and now nothing's working.\n\n312\n00:15:01.505 --> 00:15:05.692\nNobody can talk, nobody can authenticate,\nand nobody is gonna be able to use AD FS.\n\n313\n00:15:05.692 --> 00:15:08.733\nThat could be a major issue, so\njust make sure you're aware of that.\n\n314\n00:15:08.733 --> 00:15:11.198\nThat will be a major,\nmajor problem, right?\n\n315\n00:15:11.198 --> 00:15:15.500\nAnd also along with that, we have to\nmake sure we grant read permission,\n\n316\n00:15:15.500 --> 00:15:17.906\nexcuse me, the AD FS service, rather.\n\n317\n00:15:17.906 --> 00:15:21.808\nShould have read permission to\nthe private key on the certificate or for\n\n318\n00:15:21.808 --> 00:15:23.508\nthe certificate on each node.\n\n319\n00:15:23.508 --> 00:15:26.510\nSo it's not just a matter of\nswapping out the certificate.\n\n320\n00:15:26.510 --> 00:15:30.012\nBut the AD FS service needs read\npermission to the certificate\n\n321\n00:15:30.012 --> 00:15:32.140\nprivate key to be able to use it.\n\n322\n00:15:32.140 --> 00:15:35.581\nSo we can validate it and do the things we\nneed to do to authenticate and validate\n\n323\n00:15:35.581 --> 00:15:39.194\nthe trust relationships, and verify\nthe identities of people coming and going.\n\n324\n00:15:39.194 --> 00:15:43.156\nWe don't have that, that's gonna be\na problem, so again keep that in mind, and\n\n325\n00:15:43.156 --> 00:15:44.640\nbe aware of that, okay?\n\n326\n00:15:44.640 --> 00:15:48.440\nSo that's the service communication\ncertificate, what about token decrypting,\n\n327\n00:15:48.440 --> 00:15:49.390\ntoken signing?\n\n328\n00:15:49.390 --> 00:15:50.405\nLet's talk about token signing,\n\n329\n00:15:50.405 --> 00:15:52.160\nwhat do you think token signing\ncertificates are used for?\n\n330\n00:15:52.160 --> 00:15:53.820\nIf you had to guess by the way.\n\n331\n00:15:53.820 --> 00:15:56.726\n&gt;&gt; If I had to guess my server\nis gonna issue something,\n\n332\n00:15:56.726 --> 00:15:57.718\nlike a token-\n&gt;&gt; Like a token.\n\n333\n00:15:57.718 --> 00:15:59.200\n[LAUGH]\n&gt;&gt; And\n\n334\n00:15:59.200 --> 00:16:02.850\nit's probably gonna wanna digitally\nsign it when it issues it.\n\n335\n00:16:02.850 --> 00:16:04.495\nSo that people can verify\nwho the token came from.\n\n336\n00:16:04.495 --> 00:16:05.830\n&gt;&gt; So it's going to be used,\n\n337\n00:16:05.830 --> 00:16:09.860\nthat's definitely gonna be used to\ndigitally sign and verify the signature.\n\n338\n00:16:09.860 --> 00:16:12.832\nSo provide integrity,\nproof of origin, nonrepudiation,\n\n339\n00:16:12.832 --> 00:16:14.941\nas we talk about with digital signatures.\n\n340\n00:16:14.941 --> 00:16:16.847\nWe're gonna be using that certificate,\n\n341\n00:16:16.847 --> 00:16:19.084\nit's the third one down\nat the bottom of the MMC.\n\n342\n00:16:19.084 --> 00:16:22.072\nWe're gonna use that one, so\nthat we can issue tokens and\n\n343\n00:16:22.072 --> 00:16:25.372\nthen sign them to verify them,\nvalidate them, secure them and\n\n344\n00:16:25.372 --> 00:16:28.130\nuse them properly throughout\nthe ADFS deployment.\n\n345\n00:16:28.130 --> 00:16:30.540\nSo absolutely correct,\nthat's what we're gonna be doing there.\n\n346\n00:16:30.540 --> 00:16:34.560\nNotice we do have the ability to add\ntoken signing certificates as well.\n\n347\n00:16:36.533 --> 00:16:38.199\nNotice I clicked there, notice again,\n\n348\n00:16:38.199 --> 00:16:40.610\nI have the ability to chose\nthe appropriate certificate.\n\n349\n00:16:42.400 --> 00:16:45.270\n&gt;&gt; And you were proactive, you had set up\nyour certificate authority and all that.\n\n350\n00:16:45.270 --> 00:16:47.777\nI know some people,\nwhen they go through that installation and\n\n351\n00:16:47.777 --> 00:16:50.288\nthey'll let it generate those\nself-signed certificates and\n\n352\n00:16:50.288 --> 00:16:53.056\nthen you have to go back and\nswap it out with the actual certificates.\n\n353\n00:16:53.056 --> 00:16:55.480\n&gt;&gt; Take out the one that's there\nlike I would've done just now and\n\n354\n00:16:55.480 --> 00:16:56.680\nthen put in one that's there.\n\n355\n00:16:56.680 --> 00:16:58.480\nSo you can do it either way, but\n\n356\n00:16:58.480 --> 00:17:00.850\nyeah I did it ahead of time,\nwe have the certificates there, so\n\n357\n00:17:00.850 --> 00:17:04.510\nthat we knew that we would have this\ncross capability, this communication\n\n358\n00:17:04.510 --> 00:17:07.270\ncapability and we would have the ability\nto be able to see both sides.\n\n359\n00:17:07.270 --> 00:17:10.230\nBut, yeah, we do need to think about\nthat or have the self-signed ones.\n\n360\n00:17:10.230 --> 00:17:12.264\nAnd then issue them after the fact and,\nas you said,\n\n361\n00:17:12.264 --> 00:17:15.379\nuse the action there to be able to bring\nthem in, but you see how easy it would be.\n\n362\n00:17:15.379 --> 00:17:18.430\nYou just have to make sure the stuff\ngets published and available, of course.\n\n363\n00:17:18.430 --> 00:17:19.650\nAnd then what about token decrypt?\n\n364\n00:17:19.650 --> 00:17:21.315\nWhat do you think that one is going to do?\n\n365\n00:17:21.315 --> 00:17:26.178\n&gt;&gt; Well, that's a tough one there,\nmaybe decrypt tokens that were assigned or\n\n366\n00:17:26.178 --> 00:17:27.415\nencrypted?\n\n367\n00:17:27.415 --> 00:17:30.235\n&gt;&gt; Useir, user, you are a smart man.\n\n368\n00:17:30.235 --> 00:17:31.070\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n369\n00:17:31.070 --> 00:17:35.230\nwe are going to the reverse, or the\ninverse of the token signing processes,\n\n370\n00:17:35.230 --> 00:17:36.993\nthe token decrypting process.\n\n371\n00:17:36.993 --> 00:17:39.671\nAnd so, we have a certificate\non either side, right.\n\n372\n00:17:39.671 --> 00:17:42.018\nThey keep telling me not to keep smacking\nmy hand on it, but I keep doing that.\n\n373\n00:17:42.018 --> 00:17:42.668\n&gt;&gt; I know, it's a habit.\n\n374\n00:17:42.668 --> 00:17:44.236\n&gt;&gt; As I do it I'm like.\n\n375\n00:17:44.236 --> 00:17:46.939\nMegan's probably exploding\nher ear drums right now, but\n\n376\n00:17:46.939 --> 00:17:48.550\nI keep hitting my hand on the desk.\n\n377\n00:17:48.550 --> 00:17:53.060\nAll right, so, we do wanna make sure we\nknow that these certificates are in play,\n\n378\n00:17:53.060 --> 00:17:56.090\nwe don't have all of these there they're\nnot all configured they're not working\n\n379\n00:17:56.090 --> 00:17:56.960\nthe right way.\n\n380\n00:17:56.960 --> 00:17:59.230\nAD FS is not gonna be of much use to us.\n\n381\n00:17:59.230 --> 00:18:02.553\nRemember, we did say we might have\nself-signed certificates here, so\n\n382\n00:18:02.553 --> 00:18:05.500\nMike made that point and\nwe wanna make sure we're aware of that.\n\n383\n00:18:05.500 --> 00:18:09.648\nSo keep that in mind that however, we get\nthose certificates we need one of each in\n\n384\n00:18:09.648 --> 00:18:13.857\norder to make sure that AD FS is running,\nbecause you could see those are signed and\n\n385\n00:18:13.857 --> 00:18:16.450\nare part of the service\nconfiguration here.\n\n386\n00:18:16.450 --> 00:18:19.410\nRemember, we talked about endpoints in\nour very first episode as we did our\n\n387\n00:18:19.410 --> 00:18:20.420\nvocabulary?\n\n388\n00:18:20.420 --> 00:18:23.750\nWe went through, I think I still have\nmy Word document, yes, I do right here.\n\n389\n00:18:23.750 --> 00:18:28.560\nWe went through and down here we\ntalked about those endpoints, right?\n\n390\n00:18:28.560 --> 00:18:32.060\nThey're part of the Windows\nCommunication Foundation WCF mechanism\n\n391\n00:18:32.060 --> 00:18:34.840\nthat are used to be able\nto do the token issuance.\n\n392\n00:18:34.840 --> 00:18:38.330\nThe metadata publishing,\nthat file we just looked at is managed and\n\n393\n00:18:38.330 --> 00:18:39.270\npublished through the end point.\n\n394\n00:18:39.270 --> 00:18:41.570\nSo that's one of the things that it does,\nthat metadata file.\n\n395\n00:18:41.570 --> 00:18:43.710\nSo the end points are up here, right?\n\n396\n00:18:43.710 --> 00:18:46.870\nRemember, I said, they are really not\nmuch we would be doing with them.\n\n397\n00:18:46.870 --> 00:18:49.020\nThey're all added a head of time,\nand they're there,\n\n398\n00:18:49.020 --> 00:18:52.580\nwe just really kind of see them and\nAD FS manages them all.\n\n399\n00:18:52.580 --> 00:18:55.500\nWe don't have to really interact\nwith them, y ou'll notice here,\n\n400\n00:18:55.500 --> 00:19:01.000\nunder the Actions, really nothing for us\nto be doing except reviewing them, right?\n\n401\n00:19:01.000 --> 00:19:04.821\nBut you can see some are enabled,\nsome are proxy enabled, some are not.\n\n402\n00:19:04.821 --> 00:19:06.806\nAnd this is all configured and setup,\n\n403\n00:19:06.806 --> 00:19:11.360\nbased on how AD FS is configured out of\nthe box, but our endpoints are there.\n\n404\n00:19:11.360 --> 00:19:16.140\nOur claims descriptions, you could see\nclaims descriptions are here as well.\n\n405\n00:19:16.140 --> 00:19:18.880\nYou'll notice we do have the ability\nto add claim descriptions.\n\n406\n00:19:18.880 --> 00:19:22.150\nWe'll get more into some of this\nas we continue our demonstration.\n\n407\n00:19:22.150 --> 00:19:27.060\nBut I can add in a claim description,\nand notice that I can also, on each\n\n408\n00:19:27.060 --> 00:19:30.930\none of these whichever one it is happen to\nbe highlighting Email address right now.\n\n409\n00:19:30.930 --> 00:19:33.630\nYou'll notice I have properties,\nnotice I can delete the claim\n\n410\n00:19:33.630 --> 00:19:35.740\ndescription if I don't want to use it or\nhave it available.\n\n411\n00:19:35.740 --> 00:19:40.359\nSo I can do that, notice that almost\nwithout exception these are published.\n\n412\n00:19:40.359 --> 00:19:43.120\nYou could see, yes, for\nall of these, right?\n\n413\n00:19:43.120 --> 00:19:47.610\nAnd, whoops, let's try that one more time,\n\n414\n00:19:47.610 --> 00:19:51.910\nthere we go, right, so\nyou can see we have these published.\n\n415\n00:19:51.910 --> 00:19:54.730\nSo if I go in,\n\n416\n00:19:54.730 --> 00:19:58.500\njust bring up properties, you'll see\nthem displaying the claim type, right?\n\n417\n00:19:58.500 --> 00:20:01.421\nWhich is part of the schema\ndefinition as you could see there.\n\n418\n00:20:01.421 --> 00:20:05.220\nIt's an XML schema right so\nit should be hopefully no surprise.\n\n419\n00:20:05.220 --> 00:20:08.940\nAnd then the claim is published as\npart of the federation metadata, so\n\n420\n00:20:08.940 --> 00:20:11.640\nthat's part of that information\nfile we took a look at,\n\n421\n00:20:11.640 --> 00:20:14.980\nall these claims are what actually is\nin the population of that file that\n\n422\n00:20:14.980 --> 00:20:18.790\nfederation metadata XML file essentially\nthe list of all the claims and\n\n423\n00:20:18.790 --> 00:20:21.020\nthe descriptors around them\nthat's what's sitting there.\n\n424\n00:20:21.020 --> 00:20:22.560\nWhen you go to take a look at it.\n\n425\n00:20:22.560 --> 00:20:25.870\nSo we could see all these, and\nthese form the backbone of the basis\n\n426\n00:20:25.870 --> 00:20:29.580\nof what users are now gonna be able\nto use to start to make claims to\n\n427\n00:20:29.580 --> 00:20:33.840\ndo the authentication to interact with the\nweb service that is using federation or\n\n428\n00:20:33.840 --> 00:20:35.990\nextending its capabilities\nthrough federation.\n\n429\n00:20:35.990 --> 00:20:39.690\nSo, maybe we'll use email address, I\nmentioned that could be one of the claims.\n\n430\n00:20:39.690 --> 00:20:43.910\nMaybe something like a given name,\na UPN, user principal name, SPN,\n\n431\n00:20:43.910 --> 00:20:46.595\nservice principal name,\nacronym brain, right?\n\n432\n00:20:46.595 --> 00:20:49.580\nYeahm all sorts of stuff\nis there as you can see.\n\n433\n00:20:49.580 --> 00:20:52.192\n&gt;&gt; I was gonna say six pack math, I don't\nknow where those, it was principle name\n\n434\n00:20:52.192 --> 00:20:53.173\ncame from [CROSSTALK]\n&gt;&gt; It's\n\n435\n00:20:53.173 --> 00:20:55.894\namazing what a subliminal\nsuggestion can do for you and\n\n436\n00:20:55.894 --> 00:20:59.850\nit's gonna be totally messed up for\nyou now, because it's going forward.\n\n437\n00:20:59.850 --> 00:21:01.244\nThey're always going to think\nof that first before you think\n\n438\n00:21:01.244 --> 00:21:01.769\nof server principle.\n\n439\n00:21:01.769 --> 00:21:02.518\n&gt;&gt; You ruined me for it.\n\n440\n00:21:02.518 --> 00:21:03.458\n[LAUGH]\n&gt;&gt; I ruined you for\n\n441\n00:21:03.458 --> 00:21:04.510\nlife when it comes to that one,\n\n442\n00:21:04.510 --> 00:21:06.457\nyou're no longer gonna be able\nto talk about that logic.\n\n443\n00:21:06.457 --> 00:21:07.932\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n444\n00:21:07.932 --> 00:21:10.385\nyou could see here things\nlike device OS type.\n\n445\n00:21:10.385 --> 00:21:13.493\nDevice OS version, so the versioning\nnumber for the build of the OS for\n\n446\n00:21:13.493 --> 00:21:15.665\ninstance, there's all\nthese things we can do.\n\n447\n00:21:15.665 --> 00:21:18.642\nRemember we said, claims can be from\nthe computer or the user, right.\n\n448\n00:21:18.642 --> 00:21:20.139\nSo maybe the device OS version,\n\n449\n00:21:20.139 --> 00:21:23.100\nif you're running this version\nof dare I say a Windows Mobile.\n\n450\n00:21:23.100 --> 00:21:27.180\nIt's not gonna be around for too much\nlonger, right, but something like that.\n\n451\n00:21:27.180 --> 00:21:31.845\nIt was Mango versus whatever\nthe newer version would have been, or\n\n452\n00:21:31.845 --> 00:21:37.524\nyou're running build 1607 from\nWindows 10 or 1701 or whatever it is.\n\n453\n00:21:37.524 --> 00:21:41.052\nWe could do that as a claim and say,\nokay, this computer will be trusted and\n\n454\n00:21:41.052 --> 00:21:44.637\naccess this app based on this claim if\nit has this particular thought process\n\n455\n00:21:44.637 --> 00:21:45.268\n[CROSSTALK].\n\n456\n00:21:45.268 --> 00:21:47.770\n&gt;&gt; I can see a real use for\nthat for download clients.\n\n457\n00:21:47.770 --> 00:21:50.350\nI don't want anybody connecting\nremotely to my web app,\n\n458\n00:21:50.350 --> 00:21:55.120\nif they're running, say, XP,\nsomething like that, so definitely useful.\n\n459\n00:21:55.120 --> 00:21:56.020\n&gt;&gt; No, it could be and so,\n\n460\n00:21:56.020 --> 00:21:58.130\nwe have all this different\nstuff going on in here, right?\n\n461\n00:21:58.130 --> 00:22:02.250\nSo we've got all this, now, we haven't\neven gotten into the trust relationships\n\n462\n00:22:02.250 --> 00:22:03.480\nor the authentication policies.\n\n463\n00:22:03.480 --> 00:22:05.762\nWe're really just started to\nscratch a surface on the console,\n\n464\n00:22:05.762 --> 00:22:08.015\nso you can imagine what's coming next,\nwe're not there yet.\n\n465\n00:22:08.015 --> 00:22:10.605\n&gt;&gt; [LAUGH] I'm gonna [INAUDIBLE]\n&gt;&gt; But there I say it, hard five,\n\n466\n00:22:10.605 --> 00:22:12.651\ngot all sorts of good stuff going on,\nso we got.\n\n467\n00:22:12.651 --> 00:22:18.330\n&gt;&gt; So we've seen a lot and really, we've\nonly seen one side of the equation so far.\n\n468\n00:22:18.330 --> 00:22:20.679\n&gt;&gt; Not only one side, but we're not\neven done with that one side yet.\n\n469\n00:22:20.679 --> 00:22:23.396\nBecause I promised you that we\nwould actually be talking about, or\n\n470\n00:22:23.396 --> 00:22:26.120\nwe haven't talked about yet,\nwhich I promised you we would.\n\n471\n00:22:26.120 --> 00:22:28.990\nBut I said we would talk a little\nbit about high availability, and\n\n472\n00:22:28.990 --> 00:22:31.818\njust how we can scale this\nbefore we do anything else.\n\n473\n00:22:31.818 --> 00:22:34.120\nSo I want to show you a couple\nof quick things on the web.\n\n474\n00:22:34.120 --> 00:22:36.592\nWe've got a great little piece\non SQL high availability for\n\n475\n00:22:36.592 --> 00:22:38.479\nconfiguration if you're going that route.\n\n476\n00:22:38.479 --> 00:22:39.632\nSo I just wanna share that with you.\n\n477\n00:22:39.632 --> 00:22:44.890\nAlso, I have something on just some\nscalability requirements and things that\n\n478\n00:22:44.890 --> 00:22:48.400\nyou might wanna look at, especially if\nyou're gonna be doing AD FS or consulting\n\n479\n00:22:48.400 --> 00:22:52.060\nand setting up AD FS for clients are some\ngood useful information out there.\n\n480\n00:22:52.060 --> 00:22:53.757\nSo why don't we jump in real\nquick we'll take a look.\n\n481\n00:22:53.757 --> 00:22:55.358\nLet me just bring up the web browser,\n\n482\n00:22:55.358 --> 00:22:58.520\nI have to get out of the test environment\nand go back over here real quick.\n\n483\n00:23:00.095 --> 00:23:01.767\nSo let's look at high availability.\n\n484\n00:23:01.767 --> 00:23:04.675\nSo high availability solutions for\nSQL Server, right?\n\n485\n00:23:04.675 --> 00:23:09.208\nWe are, remember, backend in the AD FS\ntypically, with either the WID or SQL,\n\n486\n00:23:09.208 --> 00:23:12.910\nit's up to us to decide WID,\nWindows Internal Database.\n\n487\n00:23:12.910 --> 00:23:16.810\nSo it's up to us to decide where to put\nthis, if we go the SQL route, standard SQL\n\n488\n00:23:16.810 --> 00:23:21.286\nhigh availability rules apply, depending\non the version of SQL, it may have DAGs,\n\n489\n00:23:21.286 --> 00:23:24.775\ndatabase availability groups,\nyou may have a cluster environment,\n\n490\n00:23:24.775 --> 00:23:27.735\ndifferent ways to go with this,\ndepending on what you're doing.\n\n491\n00:23:27.735 --> 00:23:30.275\nBut SQL Server High Availability\nwould be part of the mix.\n\n492\n00:23:30.275 --> 00:23:32.475\nSo you'd wanna take\na look at some of this.\n\n493\n00:23:32.475 --> 00:23:36.605\nWe could do Windows Server failover\nclustering with SQL, as you can see here.\n\n494\n00:23:36.605 --> 00:23:39.880\nAlways on failover clustering,\nthere's different ways for us to do this,\n\n495\n00:23:39.880 --> 00:23:41.784\nI mentioned availability groups, right.\n\n496\n00:23:41.784 --> 00:23:44.742\nSo there's different things depending\non the technology involved, but\n\n497\n00:23:44.742 --> 00:23:46.420\nyou may wanna read up\non this a little bit.\n\n498\n00:23:46.420 --> 00:23:49.978\nYou could see there is gonna be or\nI should say there are some good\n\n499\n00:23:49.978 --> 00:23:52.676\nrecommendations, is\nwhat I'm trying to say.\n\n500\n00:23:52.676 --> 00:23:54.481\n&gt;&gt; [LAUGH]\n&gt;&gt; Database mirroring,\n\n501\n00:23:54.481 --> 00:23:57.689\nI notice here will be removed\nin future versions of SQL, so\n\n502\n00:23:57.689 --> 00:24:01.640\nmay not want to go that route and\nwhat version we're already using.\n\n503\n00:24:01.640 --> 00:24:05.122\nLog shipping is available, it's called\ndifferent things in different versions\n\n504\n00:24:05.122 --> 00:24:06.787\ndepending on what you're setting up So\n\n505\n00:24:06.787 --> 00:24:09.981\ndifferent recommendations,\nyou could read through the guidance again.\n\n506\n00:24:09.981 --> 00:24:13.881\nThis is the kinda thing where you would\nwanna go look at the most recent version\n\n507\n00:24:13.881 --> 00:24:17.721\nof information on the web at the time\nyou're interacting with us around this\n\n508\n00:24:17.721 --> 00:24:18.303\nepisode.\n\n509\n00:24:18.303 --> 00:24:23.430\nYou may be taking SQL Server 16 for\ngranted as your default database choice.\n\n510\n00:24:23.430 --> 00:24:28.842\nBut somebody who watches this right after\nwe put it together maybe using SQL 12 or\n\n511\n00:24:28.842 --> 00:24:31.286\nSQL 14 maybe not be using SQL 16.\n\n512\n00:24:31.286 --> 00:24:34.228\nOr there may be a SQL 18 out by\nthe time you see this cuz that's\n\n513\n00:24:34.228 --> 00:24:35.310\nin the works, right?\n\n514\n00:24:35.310 --> 00:24:36.360\nSo who knows?\n\n515\n00:24:36.360 --> 00:24:38.980\nSo there's obviously always changing\ninformation behind the scenes.\n\n516\n00:24:38.980 --> 00:24:42.434\nSo be aware of that because high\navailability discussions change based\n\n517\n00:24:42.434 --> 00:24:45.667\non the availability of the database\ntechnology that supports it.\n\n518\n00:24:45.667 --> 00:24:49.359\nAnd that's typically separate from\nthe configuration of AD FS or\n\n519\n00:24:49.359 --> 00:24:50.805\nany service itself.\n\n520\n00:24:50.805 --> 00:24:52.929\nBecause you're relying on\na separate product and\n\n521\n00:24:52.929 --> 00:24:56.432\na separate set of thought processes and\nrequirements around high availability.\n\n522\n00:24:56.432 --> 00:24:58.863\nWhich has nothing to do with\nthe service itself, but\n\n523\n00:24:58.863 --> 00:25:02.845\nrather the underlying architecture of the\ndatabase engine and how that is provided,\n\n524\n00:25:02.845 --> 00:25:03.855\nso keep that in mind.\n\n525\n00:25:05.430 --> 00:25:07.670\nAlso AD FS Server Capacity planning.\n\n526\n00:25:07.670 --> 00:25:10.285\nReally important for\nyou to be taking some guidance here and\n\n527\n00:25:10.285 --> 00:25:12.250\ntaking a look at some of\nthe things that are here.\n\n528\n00:25:12.250 --> 00:25:14.070\nSo you do wanna make sure\nyou're aware of that.\n\n529\n00:25:14.070 --> 00:25:16.000\nNotice by the way,\n\n530\n00:25:16.000 --> 00:25:20.236\nthis topic is updated based on testing\nconfigurations, and build configurations.\n\n531\n00:25:20.236 --> 00:25:23.530\nSays this content provided does\nnot reflect actual testing\n\n532\n00:25:23.530 --> 00:25:26.120\nperformed on servers running server 12,\n12r2.\n\n533\n00:25:26.120 --> 00:25:29.150\nSo some of this information\nmay not be appropriate\n\n534\n00:25:29.150 --> 00:25:30.730\nbased on the version you're running.\n\n535\n00:25:30.730 --> 00:25:34.609\nNotice it applies to 16, 12r2, and 12, but\nyou just have to take some of this with\n\n536\n00:25:34.609 --> 00:25:36.748\na grain of salt,\nright is all I'm pointing out.\n\n537\n00:25:36.748 --> 00:25:40.032\nBut you'll see here capacity\nplanning is forecasting ahead for\n\n538\n00:25:40.032 --> 00:25:41.258\npeak periods of usage.\n\n539\n00:25:41.258 --> 00:25:43.950\nAnd as a result scaling your\nfarm to be able to provide for\n\n540\n00:25:43.950 --> 00:25:46.725\nhigh availability through\nnetwork load balancing.\n\n541\n00:25:46.725 --> 00:25:47.605\nWe've talked about NLB,\n\n542\n00:25:47.605 --> 00:25:51.725\nnetwork load balancing as a technology\nin other episodes in this show series.\n\n543\n00:25:51.725 --> 00:25:53.245\nSo you certainly want\nto take a look at that.\n\n544\n00:25:53.245 --> 00:25:55.015\nMike and I did a discussion in NLB,\n\n545\n00:25:55.015 --> 00:25:58.545\nshowed you how to set it up,\nshowed you how to configure it.\n\n546\n00:25:58.545 --> 00:26:02.555\nOr we will be doing it, depending on what\norder you're watching these episodes in.\n\n547\n00:26:02.555 --> 00:26:04.995\nBut there is a whole discussion on NLB\n\n548\n00:26:04.995 --> 00:26:09.800\nas part of this entire show parameters,\nso you'll wanna take a look at that.\n\n549\n00:26:09.800 --> 00:26:12.880\nWe also talked about some fill over\nclustering technologies that would be\n\n550\n00:26:12.880 --> 00:26:14.340\nvaluable and helpful for you as well.\n\n551\n00:26:14.340 --> 00:26:15.880\nSo you just want to think about that and\n\n552\n00:26:15.880 --> 00:26:18.070\nmaybe sneak a peek at some\nof those episodes as well.\n\n553\n00:26:19.430 --> 00:26:23.380\nYou'll see here that we do have some links\nto some appendices that help us to do\n\n554\n00:26:23.380 --> 00:26:24.740\nsome of the planning.\n\n555\n00:26:24.740 --> 00:26:29.880\nSo you can determine your AD FS\ndeployment topology, you can\n\n556\n00:26:29.880 --> 00:26:34.850\nalso take a look at how you scale and what\nconsiderations are around scaling here.\n\n557\n00:26:34.850 --> 00:26:38.680\nAnd there are, there is a lexicon of\nvocabulary lists here that helps you to\n\n558\n00:26:38.680 --> 00:26:40.140\nunderstand the terminology.\n\n559\n00:26:40.140 --> 00:26:43.146\nI gave you most of those in the Word\ndocument already, but again,\n\n560\n00:26:43.146 --> 00:26:45.179\nyou just wanna go in and\nperhaps take a look.\n\n561\n00:26:45.179 --> 00:26:51.310\nSo you can see as you scroll down here\nthat we do have a planning spreadsheet.\n\n562\n00:26:51.310 --> 00:26:53.803\nWhich is actually valuable,\nlets just click on that,\n\n563\n00:26:53.803 --> 00:26:55.823\nyou'll see we can save\nthat off real quick.\n\n564\n00:26:55.823 --> 00:27:00.079\nLet me just drop that right here,\n\n565\n00:27:00.079 --> 00:27:07.082\ndrop it inside of my folder\nwhere all my show notes are.\n\n566\n00:27:07.082 --> 00:27:10.040\nWe'll just open this up so\nyou can take a look at it real quick.\n\n567\n00:27:10.040 --> 00:27:11.580\nLet me just enable editing here.\n\n568\n00:27:11.580 --> 00:27:15.220\nBy the way, Excel 2016,\nif you're in the market for\n\n569\n00:27:15.220 --> 00:27:19.650\na productivity spreadsheet tool and\nwant to learn about office 2016.\n\n570\n00:27:19.650 --> 00:27:21.650\nThat would be Office Pro.\n\n571\n00:27:21.650 --> 00:27:25.960\nAnd Vann, I'm, sure, among others will\nbe there talking to you about all\n\n572\n00:27:25.960 --> 00:27:28.068\nthings Office and\nyou can learn all about it there.\n\n573\n00:27:28.068 --> 00:27:31.600\nAll right, so you can see here,\nthat we have the ability,\n\n574\n00:27:31.600 --> 00:27:35.320\nas many of these planning worksheets that\nare available from Microsoft tend to be.\n\n575\n00:27:35.320 --> 00:27:37.880\nYou plug in some values right,\nin the yellow or\n\n576\n00:27:37.880 --> 00:27:39.880\nwhatever highlighted columns there are.\n\n577\n00:27:39.880 --> 00:27:43.560\nAnd based on that bunch of formulas\nrun behind the scenes, and\n\n578\n00:27:43.560 --> 00:27:45.040\nas a result you then get some output.\n\n579\n00:27:45.040 --> 00:27:46.880\nNow, there is a readme here,\n\n580\n00:27:46.880 --> 00:27:49.090\non the tab down below you may\nwanna take a look at that.\n\n581\n00:27:49.090 --> 00:27:50.636\nNormally they tend to\nfront load the readme and\n\n582\n00:27:50.636 --> 00:27:52.240\nit opens up on that this one doesn't.\n\n583\n00:27:52.240 --> 00:27:56.654\nBut you may want to just open this up\ntake a look at this for AD FS testing.\n\n584\n00:27:56.654 --> 00:28:00.542\nAlso, there's always there's a raw data\ntap where it has the data in there\n\n585\n00:28:00.542 --> 00:28:04.448\nthat it says do not delete, if you're\ngoing to delete this nothing works.\n\n586\n00:28:04.448 --> 00:28:08.840\nPretend that this one does not exist\ncuz you don't want to delete this one.\n\n587\n00:28:08.840 --> 00:28:13.423\nBut the AD FS calculator is there, now,\nalso you could see I'm hovering there.\n\n588\n00:28:13.423 --> 00:28:15.407\nA lot of times it's hard to see these,\n\n589\n00:28:15.407 --> 00:28:18.760\nyou may miss them very easily\ncuz you're not paying attention.\n\n590\n00:28:18.760 --> 00:28:22.437\nOr if you don't use Excel very often, you\nmay not be trained to see that red little\n\n591\n00:28:22.437 --> 00:28:24.833\ntriangle at the upper right\nhand corner of the cell.\n\n592\n00:28:24.833 --> 00:28:27.590\nAnd there's a note of some kind,\nlet me go take a look.\n\n593\n00:28:27.590 --> 00:28:31.717\nBut there's notes on every one of these\nthat give you some sort of documentation\n\n594\n00:28:31.717 --> 00:28:32.649\nor information.\n\n595\n00:28:32.649 --> 00:28:35.112\nSome sensor just mirrors\nwhat the description is,\n\n596\n00:28:35.112 --> 00:28:37.700\nothers it may be something\nyou just need to know.\n\n597\n00:28:37.700 --> 00:28:39.740\nSo it's good to just spend\na few minutes with this.\n\n598\n00:28:39.740 --> 00:28:41.280\nI use this with customers sometimes,\n\n599\n00:28:41.280 --> 00:28:43.830\njust walk them through the logic\nof how we're going to scale this.\n\n600\n00:28:43.830 --> 00:28:46.420\nEspecially if I'm working remotely,\nand we have to set something up,\n\n601\n00:28:46.420 --> 00:28:48.840\nand maybe we're all not in\nthe same place face to face.\n\n602\n00:28:48.840 --> 00:28:51.760\nWe could all look at spreadsheets the same\ntime, and kind of talk through and say,\n\n603\n00:28:51.760 --> 00:28:53.420\nokay, what would happen if we did this?\n\n604\n00:28:53.420 --> 00:28:55.820\nHow are we going to do this, so we scale\nthis, so we can all put the numbers in and\n\n605\n00:28:55.820 --> 00:28:57.100\nkind of reach a consensus.\n\n606\n00:28:57.100 --> 00:29:00.850\nSo, it's a good little plan, a good\nlittle planning tool, a good useful tool.\n\n607\n00:29:00.850 --> 00:29:04.720\nComes right from that website so\nmaybe good for you to take a look at.\n\n608\n00:29:04.720 --> 00:29:09.540\nMicrosoft tends not to ask questions about\na tool like this specifically on an exam\n\n609\n00:29:09.540 --> 00:29:11.310\ncuz number one not everybody uses it.\n\n610\n00:29:11.310 --> 00:29:14.350\nNumber two you may not even\nknow its out there and\n\n611\n00:29:14.350 --> 00:29:17.650\neven though its out there maybe versions,\nand\n\n612\n00:29:17.650 --> 00:29:20.600\nas a result you might not get the right\nversion of the tool versus the exam.\n\n613\n00:29:20.600 --> 00:29:24.290\nSo I would not waste time studying\na tool like this for the exam.\n\n614\n00:29:24.290 --> 00:29:27.350\nBut for the real world, it's valuable\nif you need to play with this and\n\n615\n00:29:27.350 --> 00:29:29.900\nfigure out what scalability options exist.\n\n616\n00:29:29.900 --> 00:29:33.689\nIf I put in a third server in my farm,\nwhat does that do for me?\n\n617\n00:29:33.689 --> 00:29:35.123\nVersus a fourth server,\n\n618\n00:29:35.123 --> 00:29:40.120\nmaybe that server's highly powered versus\ntwo smaller servers, that kind of thing.\n\n619\n00:29:40.120 --> 00:29:41.499\nIt'll help you to work out\nsome of those details.\n\n620\n00:29:41.499 --> 00:29:44.765\nSo it may just be valuable for you to\ntake a look at from that perspective.\n\n621\n00:29:44.765 --> 00:29:47.070\nIt's call the AD FS capacity\nplanning spreadsheet,\n\n622\n00:29:47.070 --> 00:29:49.951\nit's available just by going to\nthe link which you saw right here.\n\n623\n00:29:49.951 --> 00:29:52.740\nAnd you can easily find it right on the\nwebsite that we're talking about with you.\n\n624\n00:29:52.740 --> 00:29:56.470\nSo maybe good thing for you to take a look\nat that as we just talk about some of\n\n625\n00:29:56.470 --> 00:29:58.167\nthe high availability options.\n\n626\n00:29:58.167 --> 00:30:01.231\nYou know, high availability\nreally is designed around and\n\n627\n00:30:01.231 --> 00:30:03.320\nthought about from AD FSs perspective.\n\n628\n00:30:03.320 --> 00:30:06.512\nIn two areas just to summarize,\nscaling out the farm, so\n\n629\n00:30:06.512 --> 00:30:09.652\nadding more notes into the farm,\nor AD FS role servers.\n\n630\n00:30:09.652 --> 00:30:12.581\nAnd on the back end,\nthe data base side, scaling up and\n\n631\n00:30:12.581 --> 00:30:16.060\nscaling out the SQL instance\nif we've gone that route.\n\n632\n00:30:16.060 --> 00:30:21.060\nWith WID we're limited because every\nAD FS install has to have its own\n\n633\n00:30:21.060 --> 00:30:25.040\nWID database locally, you're not really\ncreating high availability that way.\n\n634\n00:30:25.040 --> 00:30:27.570\nSo the idea would be that we\nwanna scale up and scale out.\n\n635\n00:30:27.570 --> 00:30:30.050\nSo we're thinking about\nusing AD FS with SQL and\n\n636\n00:30:30.050 --> 00:30:33.842\nthen we're scaling instant enterprise\nlevel database on the back end.\n\n637\n00:30:33.842 --> 00:30:35.175\nThat would be easier to work with, so\n\n638\n00:30:35.175 --> 00:30:37.380\njust think about high availability\nfrom that perspective.\n\n639\n00:30:37.380 --> 00:30:40.720\nSo just some thoughts about that\nas we wrap up this conversation.\n\n640\n00:30:40.720 --> 00:30:45.580\nWhen we come back in our next episode what\nwe're gonna do is continue configuration.\n\n641\n00:30:45.580 --> 00:30:47.291\nWe've gone ahead and taken a look at this.\n\n642\n00:30:47.291 --> 00:30:50.534\nI'm gonna go ahead and we're gonna take\na look at how to add a token signage\n\n643\n00:30:50.534 --> 00:30:52.698\ncertificate, I kind of previewed that for\nyou.\n\n644\n00:30:52.698 --> 00:30:55.933\nBut we'll actually add in the certificates\nthere and then we'll go ahead and\n\n645\n00:30:55.933 --> 00:30:57.520\nwe'll continue configuring.\n\n646\n00:30:57.520 --> 00:30:59.500\nAnd, in addition,\nif you want to join me back here for\n\n647\n00:30:59.500 --> 00:31:01.720\njust one second,\nwe'll quickly just take a look.\n\n648\n00:31:01.720 --> 00:31:03.399\nWe're gonna take a look at and\n\n649\n00:31:03.399 --> 00:31:07.038\nexplore a little bit about\nthe trust we've been talking about.\n\n650\n00:31:07.038 --> 00:31:09.963\nThe claims provider trust,\nthe relying parting trusts,\n\n651\n00:31:09.963 --> 00:31:11.644\nthe attribute stores are there.\n\n652\n00:31:11.644 --> 00:31:14.486\nWe could have more than one,\nwe do have the AD store as we said, but\n\n653\n00:31:14.486 --> 00:31:15.700\nwe could have others.\n\n654\n00:31:15.700 --> 00:31:17.780\nWe could add our own\ncustom attribute store.\n\n655\n00:31:17.780 --> 00:31:19.290\nSo we'll talk about that.\n\n656\n00:31:19.290 --> 00:31:21.720\nAnd we'll see that we can indeed go in,\n\n657\n00:31:21.720 --> 00:31:26.630\nyou'll see Reclaim Provider Trust, Active\nDirectory Enabled, Relying Party Trust,\n\n658\n00:31:26.630 --> 00:31:28.550\nDevice Registration Service Enabled.\n\n659\n00:31:28.550 --> 00:31:30.045\nRight now we've got our side of this.\n\n660\n00:31:30.045 --> 00:31:32.259\nWe haven't done it anything\nwith the other side so\n\n661\n00:31:32.259 --> 00:31:33.848\nwe've got a little work to do here.\n\n662\n00:31:33.848 --> 00:31:36.763\nAnd we haven't taken a look at\nauthentication policies yet,\n\n663\n00:31:36.763 --> 00:31:40.170\nbut we can go in and we'll have some\nstuff to say about this as well.\n\n664\n00:31:40.170 --> 00:31:42.660\nSo, still got some stuff to\ntalk about before we finish up.\n\n665\n00:31:42.660 --> 00:31:43.872\n&gt;&gt; Exciting stuff at that.\n\n666\n00:31:43.872 --> 00:31:48.000\nI am looking forward to it,\nhope every body out there is as well.\n\n667\n00:31:48.000 --> 00:31:50.120\nBut for this one we are out of time, so\n\n668\n00:31:50.120 --> 00:31:53.780\nsigning off for ITProTV,\nI've been your host Mike Rodrick.\n\n669\n00:31:53.780 --> 00:31:54.784\n&gt;&gt; I'm Adam Gordon.\n\n670\n00:31:54.784 --> 00:32:03.175\n&gt;&gt; And we will see you next time.\n\n671\n00:32:03.175 --> 00:32:06.134\n[MUSIC]\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "238592897"
        },
        {
          "description": "Adam and Mike demonstrate how to add a token-signing certificate inside the AD FS management console, promoting the newly added certificate to Primary status, and deleting the demoted secondary certificate. They also demonstrate how to add an Acceptance Transform Rule to the existing Claims Provider Trust using the Add Transform Claim Rule Wizard.",
          "length": "1715",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-5-implementing-ad-fs_pt5-101617-PGM.00_30_24_19.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-5-implementing-ad-fs_pt5-101617-PGM.00_30_24_19.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-5-implementing-ad-fs_pt5-101617-PGM.00_30_24_19.Still001-sm.jpg",
          "title": "Implementing AD FS Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.150 --> 00:00:06.153\nWelcome to IT Pro TV I'm\nyour host Don [CROSSTALK]\n\n2\n00:00:06.153 --> 00:00:08.188\n[MUSIC]\n\n3\n00:00:08.188 --> 00:00:10.440\n&gt;&gt; You're watching IT Pro TV.\n\n4\n00:00:12.350 --> 00:00:16.276\n&gt;&gt; Hello, welcome to another\nexciting episode here at IT Pro TV,\n\n5\n00:00:16.276 --> 00:00:21.683\nI'm your host Mike Rodrick, and today\nwe're doing our Windows Server 2012 R2,\n\n6\n00:00:21.683 --> 00:00:24.514\nin preparation for that 70-412 exam.\n\n7\n00:00:24.514 --> 00:00:28.910\nAnd specifically, in this episode actually\nwe're continuing our thought process on\n\n8\n00:00:28.910 --> 00:00:32.130\nimplementing Active Directory\nFederation Services.\n\n9\n00:00:32.130 --> 00:00:36.600\nAnd here with us to help us down\nthis path is Mr Adam Gordon.\n\n10\n00:00:36.600 --> 00:00:38.180\nWelcome back, Adam.\n\n11\n00:00:38.180 --> 00:00:41.070\n&gt;&gt; Yes, okay, we're gonna leave\nthat just where we left it.\n\n12\n00:00:41.070 --> 00:00:42.745\n&gt;&gt; Yeah, we'll leave that\n&gt;&gt; Help us down this path.\n\n13\n00:00:42.745 --> 00:00:45.260\n&gt;&gt; [LAUGH]\n&gt;&gt; Everybody get out your backpacks and\n\n14\n00:00:45.260 --> 00:00:47.980\ngrab a partner,\npermission slips are required.\n\n15\n00:00:47.980 --> 00:00:50.030\nAll right, so\nwe're gonna pick up where we left off.\n\n16\n00:00:50.030 --> 00:00:53.569\nWe are in the ADFS management console,\ntake a quick look under the hood,\n\n17\n00:00:53.569 --> 00:00:56.761\nexplain the three different kinds\nof certificates that we have,\n\n18\n00:00:56.761 --> 00:00:58.930\nwhy we use them, where they come from.\n\n19\n00:00:58.930 --> 00:01:00.130\nWe're about to go back in,\n\n20\n00:01:00.130 --> 00:01:02.480\nwhich is where you're gonna join\nme right now if you take a look.\n\n21\n00:01:02.480 --> 00:01:06.211\nWe're in the certificate area, I've just\nright clicked on the certificate folder.\n\n22\n00:01:06.211 --> 00:01:09.442\nThis would be the equivalent of going over\nto the right hand side under Actions up\n\n23\n00:01:09.442 --> 00:01:12.498\ntop there where I was showing you, and\njust choosing one of those actions.\n\n24\n00:01:12.498 --> 00:01:14.855\nYou could see I left the menu there,\nthey're identical,\n\n25\n00:01:14.855 --> 00:01:16.790\nit doesn't matter which\nside you choose here.\n\n26\n00:01:16.790 --> 00:01:19.590\nI was just feeling like a little\nleft-hand side action as\n\n27\n00:01:19.590 --> 00:01:21.130\nopposed to a little\nright-hand side action.\n\n28\n00:01:22.150 --> 00:01:25.667\nSo I went ahead and I right-clicked and\nI chose, or am about to choose,\n\n29\n00:01:25.667 --> 00:01:28.500\nAdd Token Signing Certificate,\nas you could see there.\n\n30\n00:01:28.500 --> 00:01:30.610\nNow, you saw me do this\nin the last episode.\n\n31\n00:01:30.610 --> 00:01:32.600\nI showed you what the wizard looks like,\nand\n\n32\n00:01:32.600 --> 00:01:34.165\nsaid, look we could choose a certificate.\n\n33\n00:01:34.165 --> 00:01:37.092\nAnd we talked about the value of\nnaming and knowing what's going on.\n\n34\n00:01:37.092 --> 00:01:38.505\nBut, let's drill down a little deeper.\n\n35\n00:01:38.505 --> 00:01:40.195\nSo we have two certificates there.\n\n36\n00:01:40.195 --> 00:01:41.745\nWe're gonna go ahead and\n\n37\n00:01:41.745 --> 00:01:45.755\nsee what this Click here to view\ncertificate properties allows us to do.\n\n38\n00:01:45.755 --> 00:01:47.115\nSo, we'll just click on this.\n\n39\n00:01:48.355 --> 00:01:52.107\nLet's us, hopefully no shocker, and see\nthe certificate we've already seen before,\n\n40\n00:01:52.107 --> 00:01:55.108\nand we know that this certificate is\nthe one that we took a look at a couple\n\n41\n00:01:55.108 --> 00:01:56.276\nof times running already.\n\n42\n00:01:56.276 --> 00:01:57.700\nLet's just move this over.\n\n43\n00:01:57.700 --> 00:01:59.130\nSo we could see this while we're talking.\n\n44\n00:01:59.130 --> 00:02:02.670\nWe talked about the fact that proves\nour identity to a remote computer,\n\n45\n00:02:02.670 --> 00:02:04.910\nensures the identity of a remote computer.\n\n46\n00:02:04.910 --> 00:02:08.000\nWe took a look at this certificate, it's\nthe exact one I showed you in the last\n\n47\n00:02:08.000 --> 00:02:10.910\ncouple of episodes at various places\nwhen we talked about certificate trades.\n\n48\n00:02:10.910 --> 00:02:16.200\nSo we've seen this before, you'll see\nhere that we have two purposes assigned,\n\n49\n00:02:16.200 --> 00:02:20.430\nor essentially two usage statements\nassigned to this particular certificate.\n\n50\n00:02:20.430 --> 00:02:22.534\nIt's important, and\nMike you called this out in one of our,\n\n51\n00:02:22.534 --> 00:02:23.946\nactually a couple of our last episodes.\n\n52\n00:02:23.946 --> 00:02:27.543\nWhere you said hey, if we had for\ninstance, chose on the wrong certificate\n\n53\n00:02:27.543 --> 00:02:31.268\nand maybe we weren't aware which one\nit was, we had multiple certificates.\n\n54\n00:02:31.268 --> 00:02:33.292\nAnd maybe it was the EFS certificate,\nright?\n\n55\n00:02:33.292 --> 00:02:37.670\nAnd you said, maybe that one if we chose\nthat, it may or may not be good for ADFS.\n\n56\n00:02:37.670 --> 00:02:41.110\nMaybe it wouldn't work or we wouldn't know\nthat until we got through the wizard, had\n\n57\n00:02:41.110 --> 00:02:44.240\neverything stood up, we came in here and\nthe things weren't working the right way.\n\n58\n00:02:44.240 --> 00:02:49.460\nAnd so if you pointed out, we can run\ninto issues we're not very clear.\n\n59\n00:02:49.460 --> 00:02:53.607\nNot only on the name on the certificate,\nwe can see that, labdc01,\n\n60\n00:02:53.607 --> 00:02:57.614\nour practiselabs.com is what it\nwas issued, or who was issued to,\n\n61\n00:02:57.614 --> 00:03:03.120\nissued by The Enterprise Route CA and the\npractiselabs.com forest or domain forest.\n\n62\n00:03:03.120 --> 00:03:06.380\nBut we can also, and\nwe should get in the habit of checking\n\n63\n00:03:06.380 --> 00:03:10.200\nthe issuing statement here, to understand\nwhat the following purposes for\n\n64\n00:03:10.200 --> 00:03:15.130\nthe certificate use are, because\nthat's really what the indication is,\n\n65\n00:03:15.130 --> 00:03:17.250\nwhether the certificate would\nbe a good choice for us.\n\n66\n00:03:17.250 --> 00:03:20.797\nRight, not just hey, where did we\nget it from and who issued it, but\n\n67\n00:03:20.797 --> 00:03:22.802\nwas it the right kind of certificate.\n\n68\n00:03:22.802 --> 00:03:26.328\nBecause remember we will have\ntraditionally multiple certificate\n\n69\n00:03:26.328 --> 00:03:29.429\ntemplates, and\nas a result multiple certificate usages.\n\n70\n00:03:29.429 --> 00:03:32.088\nThat certificate may be\ncentrally earmarked for, and\n\n71\n00:03:32.088 --> 00:03:36.034\nif we're not using the right kind of\ncertificate, as Mike pointed out, right?\n\n72\n00:03:36.034 --> 00:03:39.925\nWe may run into an issue, so we do wanna\nmake sure we're aware of that, and it's\n\n73\n00:03:39.925 --> 00:03:44.010\ngood to go take a look and make sure that\nwe know which certificate we're gonna use.\n\n74\n00:03:44.010 --> 00:03:47.140\nSo we've validated that, let's just\nassume in our mind that we've done that.\n\n75\n00:03:48.280 --> 00:03:50.250\nWe could just click Okay here, right.\n\n76\n00:03:50.250 --> 00:03:55.170\nAnd we can come back to where we were and\nwhen we highlight the certificate,\n\n77\n00:03:55.170 --> 00:03:59.050\nso important to highlight to select\nit as you can see and we click OK.\n\n78\n00:04:01.060 --> 00:04:03.100\nYou'll notice here, right?\n\n79\n00:04:03.100 --> 00:04:05.160\nJust take a look at this,\nI'm gonna just bring this up and\n\n80\n00:04:05.160 --> 00:04:10.850\nput it right over there so we could see\nthe certificates stacked up there, right?\n\n81\n00:04:10.850 --> 00:04:14.440\nYou'll see that this one\nsays ADFS management or\n\n82\n00:04:14.440 --> 00:04:16.135\nthe little dialog box I should say.\n\n83\n00:04:16.135 --> 00:04:19.270\nEnsure that the private key for the chosen\ncertificate is successful in the service\n\n84\n00:04:19.270 --> 00:04:22.390\naccount for the federation service\non each server in the farm.\n\n85\n00:04:22.390 --> 00:04:26.030\nRemember I said, that when we we're\nworking with certificates, we have to make\n\n86\n00:04:26.030 --> 00:04:28.890\nsure that not only do we have the right\ncertificate on each instance,\n\n87\n00:04:28.890 --> 00:04:32.420\nwe talked about that if we swapped out\nthe service communications certificate.\n\n88\n00:04:32.420 --> 00:04:35.880\nWe gotta make sure it gets set up on each\ninstance in the farm and that we have\n\n89\n00:04:35.880 --> 00:04:39.810\nthe Read Permission associated with the\nprivate key so we can interact with it.\n\n90\n00:04:39.810 --> 00:04:42.370\nWe're reminding ourselves about that and\nbeing told that hey,\n\n91\n00:04:42.370 --> 00:04:43.470\nthis is important, right?\n\n92\n00:04:43.470 --> 00:04:44.930\nSo just make sure you're aware of that.\n\n93\n00:04:44.930 --> 00:04:48.230\nSo we see this little acknowledgement,\nor we have to click OK,\n\n94\n00:04:48.230 --> 00:04:50.355\nrather I should say, for\nthe acknowledgement.\n\n95\n00:04:50.355 --> 00:04:55.530\nAnd we could see here that we've added in,\nlook up under this column here,\n\n96\n00:04:55.530 --> 00:04:58.660\nwe've added in a second\ncertificate under Token Signing.\n\n97\n00:04:58.660 --> 00:05:00.492\nCould've more than one available.\n\n98\n00:05:00.492 --> 00:05:03.600\nBut notice,\nfirst one that was there labeled primary.\n\n99\n00:05:03.600 --> 00:05:07.353\nA second, third, whatever it may be,\nlabeled obviously in declining or\n\n100\n00:05:07.353 --> 00:05:08.620\ndescending order.\n\n101\n00:05:08.620 --> 00:05:09.540\nAnd are not primary.\n\n102\n00:05:09.540 --> 00:05:11.838\nSecondary, tertiary, or\nwhatever the case may be.\n\n103\n00:05:11.838 --> 00:05:14.770\nSo we could see that, and\nwe can see that now we have more than one.\n\n104\n00:05:14.770 --> 00:05:17.132\nNow, you think you wanna be\nthe primary certificate or\n\n105\n00:05:17.132 --> 00:05:19.052\nyou wanna be the secondary certificate?\n\n106\n00:05:19.052 --> 00:05:19.618\n&gt;&gt; I wanna be the primary.\n\n107\n00:05:19.618 --> 00:05:20.769\n&gt;&gt; You wanna be the primary certificate,\nright.\n\n108\n00:05:20.769 --> 00:05:23.490\nBecause we only pay attention\nto the primary certificate.\n\n109\n00:05:23.490 --> 00:05:24.990\nWe don't use any of those other ones.\n\n110\n00:05:24.990 --> 00:05:25.750\nYou can have them there.\n\n111\n00:05:25.750 --> 00:05:27.695\nit's nice to see them.\n\n112\n00:05:27.695 --> 00:05:29.660\nLooks impressive when you\ninvite people over for company.\n\n113\n00:05:29.660 --> 00:05:30.865\nLook, I have all these certificates.\n\n114\n00:05:30.865 --> 00:05:32.443\n&gt;&gt; [LAUGH]\n&gt;&gt; They think you're a very wealthy,\n\n115\n00:05:32.443 --> 00:05:34.140\ncertificate-holding individual.\n\n116\n00:05:34.140 --> 00:05:35.780\nBut I got news for you.\n\n117\n00:05:35.780 --> 00:05:37.130\nWe ignore all those other certificates.\n\n118\n00:05:37.130 --> 00:05:38.430\nWe don't pay attention to them.\n\n119\n00:05:38.430 --> 00:05:39.950\nSo it's like they never existed.\n\n120\n00:05:39.950 --> 00:05:44.440\nThey're there and if we wanna use one of\nthem, we only are gonna designate one as\n\n121\n00:05:44.440 --> 00:05:48.270\nthe primary, so whichever one we\ndesignate, we wanna make that special one,\n\n122\n00:05:48.270 --> 00:05:51.920\nperhaps the one that's now labeled\ncurrently secondary that I'm pointing to.\n\n123\n00:05:51.920 --> 00:05:54.930\nWe wanna be able to make that one\nour primary and use that one, well,\n\n124\n00:05:54.930 --> 00:05:57.510\nwe gotta swap those roles out here, right?\n\n125\n00:05:57.510 --> 00:05:59.931\nThis is where voice control\ncomes in handy, right?\n\n126\n00:05:59.931 --> 00:06:03.020\n&gt;&gt; Yeah.\n&gt;&gt; All right, so gonna highlight this one.\n\n127\n00:06:03.020 --> 00:06:04.920\nThis one that is now\ncurrently labeled secondary.\n\n128\n00:06:04.920 --> 00:06:06.230\nAnd let me click away just so\n\n129\n00:06:06.230 --> 00:06:08.670\nyou can clearly see that\nbefore I do anything, right?\n\n130\n00:06:08.670 --> 00:06:09.860\nLabeled secondary.\n\n131\n00:06:09.860 --> 00:06:11.545\nSo we're gonna do that\nby doing the following.\n\n132\n00:06:11.545 --> 00:06:12.370\nRight-click.\n\n133\n00:06:12.370 --> 00:06:15.520\nAnd notice that we have\nSet as Primary option.\n\n134\n00:06:15.520 --> 00:06:18.530\nSo we can essentially\nupgrade the certificate,\n\n135\n00:06:18.530 --> 00:06:22.090\nswapping the current primary one with\nwhatever one we are now designating or\n\n136\n00:06:22.090 --> 00:06:24.000\nabout to designate as primary.\n\n137\n00:06:24.000 --> 00:06:27.405\nThat other certificate will get knocked\ndown and become the secondary one.\n\n138\n00:06:27.405 --> 00:06:29.770\n&gt;&gt; Mm-hm.\n&gt;&gt; Role reversal if you will.\n\n139\n00:06:29.770 --> 00:06:32.790\nNotice that the primary one\nthat's currently labeled primary.\n\n140\n00:06:32.790 --> 00:06:36.220\nI don't have the set as primary\noption because it already is primary,\n\n141\n00:06:36.220 --> 00:06:36.840\nit's grayed out.\n\n142\n00:06:36.840 --> 00:06:39.440\nAnd there's no demote\nme to secondary option.\n\n143\n00:06:39.440 --> 00:06:42.145\nThe way you demote\nthe primary to secondary is,\n\n144\n00:06:42.145 --> 00:06:44.314\nyou upgrade to secondary to primary.\n\n145\n00:06:44.314 --> 00:06:49.230\nSo it's a one-way operation done in a very\nspecific order for very specific reasons.\n\n146\n00:06:50.490 --> 00:06:53.550\nSo we're gonna go grab the secondary\ncertificate, right click.\n\n147\n00:06:54.950 --> 00:06:57.930\nAnd by the way, also, it's hard to see,\nbut it's right there above me.\n\n148\n00:06:57.930 --> 00:07:01.380\nAll these actions are also reproduced\non the right as I indicated.\n\n149\n00:07:01.380 --> 00:07:04.560\nSo anything I'm doing through\na right-click can always be done typically\n\n150\n00:07:04.560 --> 00:07:07.050\nunder this column\nsomewhere right above me.\n\n151\n00:07:07.050 --> 00:07:09.290\nBy, I was gonna say if I move over I can\nprobably head butt it, right about there.\n\n152\n00:07:09.290 --> 00:07:12.925\n&gt;&gt; [LAUGH]\n&gt;&gt; You could see that it's right there in\n\n153\n00:07:12.925 --> 00:07:14.380\nthe Action column on the right.\n\n154\n00:07:14.380 --> 00:07:18.200\n&gt;&gt; Another one of our random sites, there\nwas a period where Microsoft experimented\n\n155\n00:07:18.200 --> 00:07:20.120\nwith removing the right-click\nfrom the console.\n\n156\n00:07:20.120 --> 00:07:20.722\n&gt;&gt; Yes, they did.\n&gt;&gt; And\n\n157\n00:07:20.722 --> 00:07:22.196\nforcing you to use that action pane.\n\n158\n00:07:22.196 --> 00:07:25.523\n&gt;&gt; That was the most horrible,\nlike just a thought-process.\n\n159\n00:07:25.523 --> 00:07:26.699\n&gt;&gt; [CROSSTALK] that they could go.\n\n160\n00:07:26.699 --> 00:07:28.131\n&gt;&gt; Yes, I think actually went back and\ngave us that.\n\n161\n00:07:28.131 --> 00:07:29.147\n&gt;&gt; Worst two days of my life.\n\n162\n00:07:29.147 --> 00:07:30.630\n&gt;&gt; [LAUGH]\n&gt;&gt; I tell you, it was just horrible,\n\n163\n00:07:30.630 --> 00:07:31.327\nabsolutely horrible.\n\n164\n00:07:31.327 --> 00:07:33.459\n&gt;&gt; [LAUGH]\n&gt;&gt; What would be do without a right-click?\n\n165\n00:07:33.459 --> 00:07:34.862\n&gt;&gt; I don't know.\n\n166\n00:07:34.862 --> 00:07:37.909\n&gt;&gt; All right, so I do now, which is called\nwithdrawal like, I was right clicking\n\n167\n00:07:37.909 --> 00:07:38.728\n&gt;&gt; [LAUGH]\n\n168\n00:07:38.728 --> 00:07:39.863\n&gt;&gt; Nothing was happening,\n\n169\n00:07:39.863 --> 00:07:43.438\nI was just sitting in the corner, mumbling\nto myself, much like a normal day.\n\n170\n00:07:43.438 --> 00:07:44.674\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm just like,\n\n171\n00:07:44.674 --> 00:07:46.870\nI actually had a reason\nto behave that way.\n\n172\n00:07:46.870 --> 00:07:49.518\nAll right, you can see when I right\nclicked and I chose Set as Farm,\n\n173\n00:07:49.518 --> 00:07:50.994\nwe get a little prompt here, right.\n\n174\n00:07:50.994 --> 00:07:54.430\nLike all good Microsoft wizards,\nwe have a prompt that says hey,\n\n175\n00:07:54.430 --> 00:07:58.377\nare you really sure you want to do this\nbefore we actually go ahead and do it?\n\n176\n00:07:58.377 --> 00:08:02.372\nNow we could keep swapping these back and\nforth, this is not irrevocable decision,\n\n177\n00:08:02.372 --> 00:08:06.200\nmeaning once I swap, my God, I can't\nmake the other one a primary again.\n\n178\n00:08:06.200 --> 00:08:08.073\nThe certificate's there, so\nwe're gonna essentially,\n\n179\n00:08:08.073 --> 00:08:09.951\njust switch the label,\nthat's all that's gonna happen.\n\n180\n00:08:09.951 --> 00:08:12.680\nWe're not deleting the certificate,\nit's still gonna be there.\n\n181\n00:08:12.680 --> 00:08:15.240\nSo are you sure you want to continue,\nabsolutely.\n\n182\n00:08:16.660 --> 00:08:20.170\nSo you'll see we just swap them, even\nthough it didn't put the primary back up.\n\n183\n00:08:20.170 --> 00:08:23.430\nRight, it leaves them in the order that\nthey're listed in so it doesn't swap and\n\n184\n00:08:23.430 --> 00:08:24.555\nput the primary on top.\n\n185\n00:08:24.555 --> 00:08:27.920\nBut it does change the labeling so you can\nsee the one that was on the bottom that\n\n186\n00:08:27.920 --> 00:08:30.590\nwas initially secondary is\nnow the primary one, but\n\n187\n00:08:30.590 --> 00:08:33.860\nwe actually just leave them in listed\norder that they were in in the console.\n\n188\n00:08:33.860 --> 00:08:34.872\nSo you can see them there.\n\n189\n00:08:34.872 --> 00:08:36.440\nAll right, so I've gone ahead and\nI've done that.\n\n190\n00:08:36.440 --> 00:08:40.383\nNow if I don't wanna have that other\ncertificate hanging around because I just\n\n191\n00:08:40.383 --> 00:08:44.520\ndon't wanna worry about and confuse maybe\nsomebody comes along, swaps it back.\n\n192\n00:08:44.520 --> 00:08:46.130\n&gt;&gt; Right.\n&gt;&gt; Something can happen that could get in\n\n193\n00:08:46.130 --> 00:08:49.990\nthe way, I wanna essentially just\npractice good certificate hygiene and\n\n194\n00:08:49.990 --> 00:08:53.930\nclean up after myself so I am no longer\ntempted to use that certificate.\n\n195\n00:08:53.930 --> 00:08:57.040\nCuz as I said,\nwe ignore the secondary certificates,\n\n196\n00:08:57.040 --> 00:08:58.290\nwe don't pay attention to them.\n\n197\n00:08:58.290 --> 00:09:00.980\nSo it's just sitting there,\nit's not being used for anything, right?\n\n198\n00:09:00.980 --> 00:09:04.663\nSo if I wanna get rid of that, then what I\ncan do is highlight it the way I've done.\n\n199\n00:09:04.663 --> 00:09:09.020\nAnd you'll see right here poking out right\nabove little window, right there, right?\n\n200\n00:09:09.020 --> 00:09:12.979\nI can delete, I can also come over here\nand I can right click, same thing.\n\n201\n00:09:14.450 --> 00:09:15.520\nAnd I can delete.\n\n202\n00:09:15.520 --> 00:09:17.190\nSo if I wanna get rid of that certificate,\nright?\n\n203\n00:09:17.190 --> 00:09:19.776\nWe're gonna delete it,\njust like I did, or I'm about to.\n\n204\n00:09:19.776 --> 00:09:21.220\nAre you sure you want to?\n\n205\n00:09:21.220 --> 00:09:22.390\nYes.\n\n206\n00:09:22.390 --> 00:09:23.740\nAnd that one goes away and\n\n207\n00:09:23.740 --> 00:09:29.130\nnow I've got the primary certificate that\nI just essentially grabbed, brought in,\n\n208\n00:09:29.130 --> 00:09:32.920\nstarted life as a secondary, promoted\nto a primary and am now left there.\n\n209\n00:09:32.920 --> 00:09:35.470\nAnd I've made that other\ncertificate I wanna use and\n\n210\n00:09:35.470 --> 00:09:37.762\nI've gotten rid of the original\none that was there.\n\n211\n00:09:37.762 --> 00:09:41.020\nAnd removed it so that it no longer\nposes a potential liability to me in\n\n212\n00:09:41.020 --> 00:09:42.880\nterms of me being tempted to choose it or\n\n213\n00:09:42.880 --> 00:09:45.590\nsomebody else coming along choosing\nit without understanding what it is.\n\n214\n00:09:45.590 --> 00:09:49.210\nSo, always good for us to be aware of\nthat and to see how we can swap that out.\n\n215\n00:09:49.210 --> 00:09:52.526\nThis would be the activity we\nwould engage in as Mike suggested\n\n216\n00:09:52.526 --> 00:09:55.776\nif we had actually set this console up or\nrather set up ADFS and\n\n217\n00:09:55.776 --> 00:09:58.935\nissued all those self-signed\ncertificates initially.\n\n218\n00:09:58.935 --> 00:10:02.096\nInstead of me doing all the background\nwork ahead of time, making them available.\n\n219\n00:10:02.096 --> 00:10:05.385\nIf i just went ahead, set everything up,\nand had the certificates here, and\n\n220\n00:10:05.385 --> 00:10:08.700\nI wanted to then bring in other\ncertificates, I would do what I just did.\n\n221\n00:10:08.700 --> 00:10:11.540\nSo we're just walking through\nhow to do that to show you\n\n222\n00:10:11.540 --> 00:10:13.780\nwhat you can do to add\ncertificates after the fact.\n\n223\n00:10:13.780 --> 00:10:15.744\nSo just so\nyou could see why that's important.\n\n224\n00:10:15.744 --> 00:10:19.524\nSo we said that we would do this but we\nalso said that we would take a look at how\n\n225\n00:10:19.524 --> 00:10:21.883\nto configure the ADFS\nclaims provider trust.\n\n226\n00:10:21.883 --> 00:10:23.670\nSo we're gonna take a look at that next.\n\n227\n00:10:23.670 --> 00:10:27.290\nSo let's just go ahead,\nlet's just minimize service area here.\n\n228\n00:10:27.290 --> 00:10:29.380\nLet's go into trust relationships.\n\n229\n00:10:29.380 --> 00:10:31.960\nClaim provider trust is here,\nlet's just click on that.\n\n230\n00:10:31.960 --> 00:10:33.500\nWe previewed this on the last episode.\n\n231\n00:10:33.500 --> 00:10:35.736\nWe saw that this was here.\n\n232\n00:10:35.736 --> 00:10:40.675\nWe can see here that our active directory\ndisplay name, active directory enable\n\n233\n00:10:40.675 --> 00:10:45.410\nDS is here, and we can see that we do have\na claim provider trust enabled to it.\n\n234\n00:10:45.410 --> 00:10:47.980\nSo let's go in, and\nlet's do the following.\n\n235\n00:10:47.980 --> 00:10:52.890\nLet me right click here and\nwe're gonna edit claim rules.\n\n236\n00:10:52.890 --> 00:10:56.400\nNow it's hard to see, but you could see\nright over here cuz most of the things\n\n237\n00:10:56.400 --> 00:11:00.530\naround it are grayed out, that action is\nalso sitting here under Active Directory.\n\n238\n00:11:00.530 --> 00:11:04.630\nSo you'll see that I can, because\nI've highlighted the specific trust,\n\n239\n00:11:04.630 --> 00:11:07.480\nI have that action associated\nwith it over there on the right.\n\n240\n00:11:07.480 --> 00:11:09.600\nBut you could see I could do\nthe same thing from either place.\n\n241\n00:11:09.600 --> 00:11:12.220\nI'm not adding a brand\nnew claim provider trust.\n\n242\n00:11:12.220 --> 00:11:13.920\nThat would be the action up above.\n\n243\n00:11:13.920 --> 00:11:16.633\nAs you could see there,\nright here, but rather,\n\n244\n00:11:16.633 --> 00:11:20.820\nI'm editing the rules on the existing\ntrust that's already in place.\n\n245\n00:11:20.820 --> 00:11:24.740\nThis trust was configured as part\nof the ADFS configuration, and\n\n246\n00:11:24.740 --> 00:11:26.970\nthe standing up of this role, right?\n\n247\n00:11:26.970 --> 00:11:28.640\nSo this is already the one\nthat's out of the box,\n\n248\n00:11:28.640 --> 00:11:32.120\njust remember our attributes\nstore is the active directory.\n\n249\n00:11:32.120 --> 00:11:33.140\nAnd as a result,\n\n250\n00:11:33.140 --> 00:11:38.300\nwe then have a claim provider trust that\npoints us to that attribute store and\n\n251\n00:11:38.300 --> 00:11:40.560\nwe have to configure the rules\nassociated with the management of it.\n\n252\n00:11:40.560 --> 00:11:42.040\nSo that's what we're\nlooking at right here.\n\n253\n00:11:42.040 --> 00:11:43.800\nSo we're going to add it to claim rules.\n\n254\n00:11:43.800 --> 00:11:46.660\n&gt;&gt; Right.\n&gt;&gt; So we're gonna go in, now remember,\n\n255\n00:11:46.660 --> 00:11:49.540\nyou saw all the claims\nthat were available.\n\n256\n00:11:49.540 --> 00:11:52.920\nIf you remember, in the last episode,\njust move this over.\n\n257\n00:11:52.920 --> 00:11:55.740\nWe went into the attributes store and\ntook a look, in fact we had 30 or 40 or\n\n258\n00:11:55.740 --> 00:11:57.200\nwhatever was in there.\n\n259\n00:11:57.200 --> 00:11:59.100\nWe had a whole bunch of them there.\n\n260\n00:11:59.100 --> 00:12:00.617\nI pointed out a few.\n\n261\n00:12:00.617 --> 00:12:02.060\nI made the connection for you.\n\n262\n00:12:02.060 --> 00:12:05.808\nHopefully it makes sense in your mind with\nthe Federation metadata xml file that we\n\n263\n00:12:05.808 --> 00:12:09.227\ntook a look at to make sure that the\nservice is up and running on the Windows 8\n\n264\n00:12:09.227 --> 00:12:12.846\nmachine beginning in the last episode\nto validate and verify functionality.\n\n265\n00:12:12.846 --> 00:12:15.942\nI talked about the fact that all those\ndefinitions for all the claims in\n\n266\n00:12:15.942 --> 00:12:19.945\nthe attributes store are listed there, so\nwe could see how that all comes together.\n\n267\n00:12:19.945 --> 00:12:23.575\nWe talked a bit about the endpoints\nas well, but you can see\n\n268\n00:12:23.575 --> 00:12:27.395\nthat in the attribute store we have all\nof the claims that are available, right?\n\n269\n00:12:27.395 --> 00:12:31.395\nHere, we have a subset of them,\nnotice there's only 10 rules.\n\n270\n00:12:31.395 --> 00:12:36.320\nWe can see the numbering of the rules,\nlet me just move this over.\n\n271\n00:12:36.320 --> 00:12:38.770\nWe can see there's an order here,\none through ten.\n\n272\n00:12:38.770 --> 00:12:43.300\nWe can see that we have a rule that says\npass through all Windows accounts, name,\n\n273\n00:12:43.300 --> 00:12:44.170\nwhatever.\n\n274\n00:12:44.170 --> 00:12:45.710\nPass through all name claims.\n\n275\n00:12:45.710 --> 00:12:47.290\nPrimary sig, group sig.\n\n276\n00:12:47.290 --> 00:12:51.180\nSo these are some of the claims that\nexist in the attribute store, but\n\n277\n00:12:51.180 --> 00:12:51.930\nnot all of them.\n\n278\n00:12:51.930 --> 00:12:54.070\nWe're not using every claim.\n\n279\n00:12:54.070 --> 00:12:56.810\nAs I said, there's 30 or\n40 at least that are defined there.\n\n280\n00:12:56.810 --> 00:13:00.550\nWe're pre-defining a subset of claims\nthat are most likely to be used.\n\n281\n00:13:00.550 --> 00:13:02.270\nAgain, these are all out\nof the box by default.\n\n282\n00:13:02.270 --> 00:13:03.410\nWe have not done anything yet.\n\n283\n00:13:03.410 --> 00:13:05.536\nYou didn't go in here when\nI wasn't looking, right?\n\n284\n00:13:05.536 --> 00:13:06.260\n&gt;&gt; No, I promise.\n\n285\n00:13:06.260 --> 00:13:07.506\n&gt;&gt; You didn't go in here and play around?\n\n286\n00:13:07.506 --> 00:13:09.440\nOkay, all right, so\nMike didn't go in here so\n\n287\n00:13:09.440 --> 00:13:13.620\nit means the default solution, we gave\nthe little gnomes the day off, right?\n\n288\n00:13:13.620 --> 00:13:14.850\nThey're not running around the studio,\neither.\n\n289\n00:13:14.850 --> 00:13:17.410\nSo, nobody went in and\nplayed around with this, right?\n\n290\n00:13:17.410 --> 00:13:20.566\nAnd so as a result, this is what\nyou would see when you set this up.\n\n291\n00:13:20.566 --> 00:13:23.570\nAnd you get to this point if you're\nkinda walking through the demonstration.\n\n292\n00:13:23.570 --> 00:13:27.060\nOr you're kinda walking backwards through\nit as we go through and making notes and\n\n293\n00:13:27.060 --> 00:13:28.330\ntrying this on your own.\n\n294\n00:13:28.330 --> 00:13:31.540\nOr, if you're using the practice\nlabs that are associated with this\n\n295\n00:13:31.540 --> 00:13:34.880\nblock of episodes, you can essentially\nmirror this configuration.\n\n296\n00:13:34.880 --> 00:13:37.899\nYou'll get to this point and you'll see\nthe same exact setup on your screen.\n\n297\n00:13:37.899 --> 00:13:40.866\nYou'll see the default claim rules,\nin other words, that are there,\n\n298\n00:13:40.866 --> 00:13:42.610\ncalled the acceptance transform rules.\n\n299\n00:13:42.610 --> 00:13:44.231\nRules that are already there.\n\n300\n00:13:44.231 --> 00:13:45.770\nWe haven't modified these.\n\n301\n00:13:45.770 --> 00:13:46.850\nWe haven't done anything.\n\n302\n00:13:46.850 --> 00:13:49.340\nYou see they're tied to issued claims.\n\n303\n00:13:49.340 --> 00:13:50.740\nBut we're not using every\nclaim that's there.\n\n304\n00:13:50.740 --> 00:13:52.610\nWe're only using a subset, right?\n\n305\n00:13:52.610 --> 00:13:55.182\nSo we may not use everything\nthat is available to us,\n\n306\n00:13:55.182 --> 00:13:57.570\neven though we like to\nhave a lot of options.\n\n307\n00:13:57.570 --> 00:13:59.980\nIt really depends on the nature\nof what we're looking to do.\n\n308\n00:13:59.980 --> 00:14:01.890\nNow, can we go in and edit these rules?\n\n309\n00:14:01.890 --> 00:14:03.740\nAbsolutely, could we add new rules?\n\n310\n00:14:03.740 --> 00:14:05.900\nAbsolutely, could we remove rules?\n\n311\n00:14:05.900 --> 00:14:08.700\nAbsolutely, so we can make choices here.\n\n312\n00:14:08.700 --> 00:14:12.600\nNow, rules are a theme that\nexist in many of our services.\n\n313\n00:14:12.600 --> 00:14:16.690\nI'm thinking firewalls for instance,\nit's kind of the prototypical device or\n\n314\n00:14:16.690 --> 00:14:20.960\nsystem that uses rules and will process\ndata through the system based on\n\n315\n00:14:20.960 --> 00:14:23.750\nmatching of one or\nmore of those rules as we go.\n\n316\n00:14:23.750 --> 00:14:28.040\nData loss prevention technology\ndoes the same thing.\n\n317\n00:14:28.040 --> 00:14:33.390\nIDS, IPS, intrusion detection,\nintrusion prevention systems and\n\n318\n00:14:33.390 --> 00:14:37.110\nthe kind of gateway or\nborder gateway security device.\n\n319\n00:14:37.110 --> 00:14:37.800\nWe'll have one or\n\n320\n00:14:37.800 --> 00:14:40.787\nmore rules typically associated with\nit that we do pattern matching against.\n\n321\n00:14:42.380 --> 00:14:45.407\nEven the business logic in a tool\nlike Outlook, right, for instance,\n\n322\n00:14:45.407 --> 00:14:48.687\nif you create business rules to route\nyour mail and deal with it, you'll have\n\n323\n00:14:48.687 --> 00:14:51.612\na series of rules which it will go\nthrough to match the mail against and\n\n324\n00:14:51.612 --> 00:14:52.850\ndecide what to do with it.\n\n325\n00:14:52.850 --> 00:14:55.130\n&gt;&gt; We see it in permissions now\nwith Dynamic Access Control.\n\n326\n00:14:55.130 --> 00:14:55.942\n&gt;&gt; We do, with DAC,\n\n327\n00:14:55.942 --> 00:14:59.440\nwe create a set of rules to process\naccess control claims against right.\n\n328\n00:14:59.440 --> 00:15:01.450\nWe've done a whole series of\nepisodes on that as well and\n\n329\n00:15:01.450 --> 00:15:04.610\ntalked about that so\nthere's lot of stuff we can do here.\n\n330\n00:15:04.610 --> 00:15:07.902\nSo we're gonna go, we're gonna edit these\nor at least take a look at them, now we're\n\n331\n00:15:07.902 --> 00:15:10.891\ngonna go ahead, instead of editing with\nserver we're going to add a rule in.\n\n332\n00:15:10.891 --> 00:15:16.786\nSo let's start by adding a rule, so\nlet's just bring this up a little bit,\n\n333\n00:15:16.786 --> 00:15:19.697\nlet's move this over and center it.\n\n334\n00:15:26.454 --> 00:15:28.020\nSo you can see that a little better.\n\n335\n00:15:28.020 --> 00:15:30.520\nOkay, good,\njust move that up just a smidge.\n\n336\n00:15:30.520 --> 00:15:31.580\nThere we go, all right.\n\n337\n00:15:31.580 --> 00:15:33.370\nSo choose rule type.\n\n338\n00:15:33.370 --> 00:15:34.840\nSo claim rule template.\n\n339\n00:15:34.840 --> 00:15:37.110\nSend out that batch would be disclaimed so\nlet's just pull down,\n\n340\n00:15:37.110 --> 00:15:37.870\nsee what we got here.\n\n341\n00:15:37.870 --> 00:15:41.000\nWe got about five different items\nthat we can work with here.\n\n342\n00:15:41.000 --> 00:15:45.192\nThere's a list and\nyou'll see that we can go ahead.\n\n343\n00:15:45.192 --> 00:15:49.681\nWhat I like about this is that each one of\nthese is going to have this paragraph or\n\n344\n00:15:49.681 --> 00:15:51.870\nso of descriptor text underneath it.\n\n345\n00:15:51.870 --> 00:15:55.051\nSo let's say transform and\nincoming claims, just choose that.\n\n346\n00:15:55.051 --> 00:15:57.660\nIt kind of tells you\nwhat this template does.\n\n347\n00:15:57.660 --> 00:16:00.480\nProbably not hard to figure out\nthis one will transform a claim and\n\n348\n00:16:00.480 --> 00:16:02.600\ndo something with it as we run it through.\n\n349\n00:16:02.600 --> 00:16:05.640\nIt just says use a transform and\nincoming claim template.\n\n350\n00:16:05.640 --> 00:16:08.910\nYou could select an incoming claim,\nchange its claim type, and\n\n351\n00:16:08.910 --> 00:16:11.880\noptionally change its claim value,\nwhere it goes on it says for example,\n\n352\n00:16:11.880 --> 00:16:13.470\nit made you this and this and this, right?\n\n353\n00:16:13.470 --> 00:16:16.500\nSo you could bring in something\nthat's maybe a Windows name and\n\n354\n00:16:16.500 --> 00:16:20.220\ntransform that and say, no, I want a SPN,\n\n355\n00:16:20.220 --> 00:16:23.860\na Service Principal Name, or six pack,\ndepending on how thirsty you are.\n\n356\n00:16:23.860 --> 00:16:26.410\nAnd they want a UP or\nthe User Principal name instead.\n\n357\n00:16:26.410 --> 00:16:30.860\nSo I could take one thing and transform\nit in some way through the template and\n\n358\n00:16:30.860 --> 00:16:33.750\nout the back end as we process it,\nsomething else pops up.\n\n359\n00:16:33.750 --> 00:16:35.950\nSo we're creating an equivalency or,\nessentially,\n\n360\n00:16:35.950 --> 00:16:38.830\nsome sort of equation with\nthis particular template.\n\n361\n00:16:38.830 --> 00:16:41.370\nWe have different templates\nthat do different things.\n\n362\n00:16:41.370 --> 00:16:44.640\nOur Send LDAP attributes is a claim,\nthat's what we're going to do.\n\n363\n00:16:44.640 --> 00:16:48.820\nUsing this, we can select attributes from\nthe LDAP attribute store, things like\n\n364\n00:16:48.820 --> 00:16:52.450\nthe Active Directory, which is what we\nwant to use in a Windows based system.\n\n365\n00:16:52.450 --> 00:16:55.900\nI ask claims and\nsend those to the relying party.\n\n366\n00:16:55.900 --> 00:17:00.290\nRemember the relying party\nis where the web app is\n\n367\n00:17:00.290 --> 00:17:02.440\nthat's gonna consume the claims, right?\n\n368\n00:17:02.440 --> 00:17:05.260\nAnd we'll line our ability to\nauthenticate and validate them so\n\n369\n00:17:05.260 --> 00:17:07.990\nthat we can grant access,\nthat's what the relying party does.\n\n370\n00:17:07.990 --> 00:17:10.780\nSo this is probably a really good\ntemplate for us to be using.\n\n371\n00:17:10.780 --> 00:17:11.770\nSo we're gonna use this one.\n\n372\n00:17:11.770 --> 00:17:14.670\nSo we're gonna go ahead and we're gonna\nsend LDAP attributes as claims or\n\n373\n00:17:14.670 --> 00:17:15.490\nchoose that.\n\n374\n00:17:15.490 --> 00:17:18.940\nThen we're gonna go through and we're\ngonna specify or put in some information.\n\n375\n00:17:18.940 --> 00:17:20.140\nSo let's click Next.\n\n376\n00:17:21.860 --> 00:17:24.860\nLet's give our claim\nrule name an actual name.\n\n377\n00:17:24.860 --> 00:17:26.960\nNow again,\nyour naming context is important.\n\n378\n00:17:26.960 --> 00:17:27.740\nWe've talked about this.\n\n379\n00:17:27.740 --> 00:17:31.020\nMike has chimed in before about\nthe importance of this, right?\n\n380\n00:17:31.020 --> 00:17:32.960\nYou've gotta name the rule\nsomething that makes sense so,\n\n381\n00:17:32.960 --> 00:17:36.170\noperationally, somebody can look at\nthis thing in that list of 10 or 12 or\n\n382\n00:17:36.170 --> 00:17:38.400\nwhatever's there and\nactually know what you're doing.\n\n383\n00:17:38.400 --> 00:17:43.000\nIf you name this thing randomly, rule\nfive, well, how do we know what that does?\n\n384\n00:17:43.000 --> 00:17:44.510\nThere's no way to know, right?\n\n385\n00:17:44.510 --> 00:17:45.750\nSo think about the name.\n\n386\n00:17:45.750 --> 00:17:49.310\nI'm gonna call mine Outgoing LDAP\nAttributes Rule because that's\n\n387\n00:17:49.310 --> 00:17:50.610\nessentially what we want this to do.\n\n388\n00:17:50.610 --> 00:17:52.560\nAnd it is an LDAP template.\n\n389\n00:17:52.560 --> 00:17:55.370\nWe're using it to be able to bring\nthe claims in through LDAP and\n\n390\n00:17:55.370 --> 00:17:56.120\nthen process them.\n\n391\n00:17:56.120 --> 00:17:59.060\nSo that name tends to indicate\nwhat the functionality is.\n\n392\n00:17:59.060 --> 00:18:00.870\nSo that's gonna be something\nthat's important to think about.\n\n393\n00:18:00.870 --> 00:18:02.980\nSo I'm gonna just type this in real quick.\n\n394\n00:18:02.980 --> 00:18:07.630\nOutgoing ldap,\nnot case sensitive by the way.\n\n395\n00:18:07.630 --> 00:18:11.740\nType it on lower case,\ndoesn't matter, it's up to you.\n\n396\n00:18:11.740 --> 00:18:15.200\nNot grammatically important either\nin the sense whether you spell\n\n397\n00:18:15.200 --> 00:18:16.330\nit correctly or not.\n\n398\n00:18:16.330 --> 00:18:19.380\nYou've seen me typing,\nI'm a wreck on a good day.\n\n399\n00:18:19.380 --> 00:18:22.560\nAs long as you get the basic\ncontext out there, you'll be okay.\n\n400\n00:18:22.560 --> 00:18:25.790\nAlright we have that,\nthen we have our attribute storm.\n\n401\n00:18:25.790 --> 00:18:28.540\nWe have to specify in this case,\nwhat attribute store we want to use.\n\n402\n00:18:28.540 --> 00:18:30.990\nNow, we've only got one attribute\nstore in the active directory,\n\n403\n00:18:30.990 --> 00:18:34.250\nbut remember we said we could\nadd custom attribute stores in.\n\n404\n00:18:34.250 --> 00:18:37.420\nWe may have more than one, so\na selection here, in our case,\n\n405\n00:18:37.420 --> 00:18:41.190\nis essentially a fait accompli,\nit's predetermined, it's no big deal.\n\n406\n00:18:41.190 --> 00:18:41.980\nWe just have to go in and\n\n407\n00:18:41.980 --> 00:18:45.010\nactually choose, and\nthe pull down will only have one option.\n\n408\n00:18:45.010 --> 00:18:49.340\nBut in systems where we have\nmultiple attribute stores,\n\n409\n00:18:49.340 --> 00:18:51.135\nthe selection becomes critical.\n\n410\n00:18:51.135 --> 00:18:54.500\nCuz if we choose the wrong attribute\nstore, this template's not gonna fire and\n\n411\n00:18:54.500 --> 00:18:56.200\nwork the right way cuz it's\nnot gonna be matched up,\n\n412\n00:18:56.200 --> 00:18:58.710\nand not gonna be able to do\nthe thing we want it to do.\n\n413\n00:18:58.710 --> 00:19:00.010\nSo it is important to be aware of that,\n\n414\n00:19:00.010 --> 00:19:03.520\nin our case Active Directory the only\noption that we're choosing now.\n\n415\n00:19:03.520 --> 00:19:07.230\nNow you would think, logic would dictate\nif it's a single instance store and\n\n416\n00:19:07.230 --> 00:19:10.020\nit's the only option, they could just\nhardcode that for us and say, well,\n\n417\n00:19:10.020 --> 00:19:12.810\nif you can only choose AD so\nlet's put that in there.\n\n418\n00:19:12.810 --> 00:19:15.470\nBut I guess the UI people were\na little lazy that week and\n\n419\n00:19:15.470 --> 00:19:19.180\ndecided not to take it the extra mile and\nmake it easier on us,\n\n420\n00:19:19.180 --> 00:19:22.710\nthe poor groveling IT folk,\nto do all the hard work behind the scenes.\n\n421\n00:19:22.710 --> 00:19:24.540\nSo there you go,\nyou gotta make your own choice.\n\n422\n00:19:24.540 --> 00:19:26.330\n&gt;&gt; Yeah.\n&gt;&gt; All right, so I've complained enough.\n\n423\n00:19:26.330 --> 00:19:27.210\nWe should probably move on.\n\n424\n00:19:27.210 --> 00:19:29.010\nAll right so\nwe got an active directory there.\n\n425\n00:19:29.010 --> 00:19:30.820\nNow this is the actual interesting part.\n\n426\n00:19:30.820 --> 00:19:34.170\nSo mapping of LDAP attributes\nto outgoing claim types.\n\n427\n00:19:34.170 --> 00:19:36.100\nWe have to take attributes we wanna use.\n\n428\n00:19:36.100 --> 00:19:38.380\nAnd we have to map them to\nan outgoing claim type.\n\n429\n00:19:38.380 --> 00:19:40.180\nSo we're gonna create a little magic here.\n\n430\n00:19:40.180 --> 00:19:41.420\nSo what are we gonna do?\n\n431\n00:19:41.420 --> 00:19:43.950\nLDAP attribute,\nwe're gonna select or type here.\n\n432\n00:19:45.280 --> 00:19:46.580\nLet's go in and let's see what we got.\n\n433\n00:19:46.580 --> 00:19:48.220\nNow notice I'm clicking and\nthere's nothing.\n\n434\n00:19:48.220 --> 00:19:49.630\nThere we go.\nI was gonna sit here with some clicking\n\n435\n00:19:49.630 --> 00:19:51.480\nand nothing's happening,\nI should have a list there.\n\n436\n00:19:51.480 --> 00:19:54.290\nSo notice I'm clicking and\nyou'll see we have a list and\n\n437\n00:19:54.290 --> 00:19:56.830\nit's hard to see because it\nactually goes below the screen.\n\n438\n00:19:56.830 --> 00:19:59.610\nI can't really go up any further\njust because of the frame but\n\n439\n00:19:59.610 --> 00:20:01.160\nthere's a bunch of stuff there.\n\n440\n00:20:01.160 --> 00:20:04.150\nUser principle name is kinda hiding\nright at the very bottom down there.\n\n441\n00:20:04.150 --> 00:20:06.700\nThere's a bunch of stuff there so\nI can out of my pick list choose\n\n442\n00:20:06.700 --> 00:20:09.800\nthe ones that I actually want to\nin theory right be able to use.\n\n443\n00:20:09.800 --> 00:20:11.470\nSo I'm gonna choose email locally,\n\n444\n00:20:11.470 --> 00:20:15.120\nwe're gonna be choosing ones that\nare almost without exception near the top.\n\n445\n00:20:15.120 --> 00:20:17.990\nEmail addresses, so\nI'm gonna choose that one first.\n\n446\n00:20:17.990 --> 00:20:20.840\nI'm then going to go ahead and just put in\nthe ones that I want to use in order here\n\n447\n00:20:20.840 --> 00:20:22.250\nbefore I do anything else and I get that.\n\n448\n00:20:22.250 --> 00:20:22.780\nHere we go.\n\n449\n00:20:22.780 --> 00:20:25.460\nYou can see user principle name\nwhen I pop it up goes that way.\n\n450\n00:20:25.460 --> 00:20:28.330\nI'm gonna put user principal\nname in there and display name.\n\n451\n00:20:28.330 --> 00:20:29.140\nSo let me just put those in.\n\n452\n00:20:29.140 --> 00:20:31.735\nThen we'll do the right hand side\ncolumn here in just a minute.\n\n453\n00:20:31.735 --> 00:20:35.408\n[COUGH] All right, and\nthen where is display name?\n\n454\n00:20:35.408 --> 00:20:38.185\n[SOUND] There it is, right there.\n\n455\n00:20:38.185 --> 00:20:41.393\nAll right, so\nwe have our three that we're learning,\n\n456\n00:20:41.393 --> 00:20:44.850\nwe do email, VPN,\nuser principal name, splendid.\n\n457\n00:20:44.850 --> 00:20:48.790\nSo now let's do the outgoing clean type,\nlet's map those in other words, all right,\n\n458\n00:20:48.790 --> 00:20:51.350\nso what's email address\ngonna it's be map to?\n\n459\n00:20:51.350 --> 00:20:54.600\nSo let's pull down here, again,\nwe'll get our list we just gotta wait for\n\n460\n00:20:54.600 --> 00:20:57.180\nit to pop up, so\ngive it a second, and be patient.\n\n461\n00:20:57.180 --> 00:21:00.630\nThree seems to be the magic number for\nclicking at least for me anyway.\n\n462\n00:21:00.630 --> 00:21:02.202\nWhat can I tell you.\n\n463\n00:21:02.202 --> 00:21:05.920\nAll right, so here notice, by the way,\nthat on the right hand side,\n\n464\n00:21:05.920 --> 00:21:10.540\nas we are making our selections for\nthe outgoing claims we want to map,\n\n465\n00:21:10.540 --> 00:21:17.770\nwe have more items available to us on\nthe list than we do on the left hand side.\n\n466\n00:21:17.770 --> 00:21:20.380\nIt's not an exact one to one\nmatch is what I'm suggesting.\n\n467\n00:21:20.380 --> 00:21:22.590\nThere definitely is\na difference in these lists,\n\n468\n00:21:22.590 --> 00:21:26.800\nbecause we're gonna take what is the LDAP\nattribute specified in the directory,\n\n469\n00:21:26.800 --> 00:21:29.510\nstore in this case, or\nattribute store in AD.\n\n470\n00:21:29.510 --> 00:21:33.710\nThat's the actual attribute, we're\ngonna now map it to an outgoing claim,\n\n471\n00:21:33.710 --> 00:21:36.580\nwhich can be different,\nbased on a different kind of list.\n\n472\n00:21:36.580 --> 00:21:38.870\nSo I'm gonna map email\naddress to email address, but\n\n473\n00:21:38.870 --> 00:21:43.300\nI'm gonna map user principle name to the\nacronym UPM cuz that's the attribute, or\n\n474\n00:21:43.300 --> 00:21:47.980\nrather how I want to reference\nthe LDAP attribute as a claim.\n\n475\n00:21:47.980 --> 00:21:51.140\nSo I can see difference here, and\nthat's why these lists look different,\n\n476\n00:21:51.140 --> 00:21:51.660\njust so we're aware of that.\n\n477\n00:21:51.660 --> 00:21:55.790\nAll right, so email address, I'm gonna\nmap it to email address right there.\n\n478\n00:21:55.790 --> 00:21:59.010\nNow, it's email addresses by the way,\non the left,\n\n479\n00:21:59.010 --> 00:22:03.250\nI'm mapping it to email address singular\non the right, as the claim, just so\n\n480\n00:22:03.250 --> 00:22:06.170\nyou can kinda see that subtle\ndifference that's there.\n\n481\n00:22:06.170 --> 00:22:11.964\nAll right, so I've got that, now let\nme just make sure I map that correctly,\n\n482\n00:22:11.964 --> 00:22:14.921\nactually that should be [SOUND] hold on.\n\n483\n00:22:14.921 --> 00:22:16.962\nOkay, there we go, right, email addresses.\n\n484\n00:22:16.962 --> 00:22:20.750\nAll right, so use a principle name,\nlet me grab UPN over here on the right.\n\n485\n00:22:20.750 --> 00:22:25.810\nGive me just a second to kinda click\nthrough, get that, that is, where is that?\n\n486\n00:22:25.810 --> 00:22:27.080\nThere it is right there, UPN.\n\n487\n00:22:27.080 --> 00:22:28.540\nAll right, and then for\n\n488\n00:22:28.540 --> 00:22:32.130\ndisplaying, I'm gonna make that\nname instead of display name.\n\n489\n00:22:32.130 --> 00:22:35.470\nSo I'm gonna grab your sod\nname right up there by UPN.\n\n490\n00:22:35.470 --> 00:22:37.210\nAll right, so name right there.\n\n491\n00:22:37.210 --> 00:22:38.442\nNot given name, but name.\n\n492\n00:22:38.442 --> 00:22:43.000\nAll right, now we don't care about this\nextra row down here, not an issue for us.\n\n493\n00:22:43.000 --> 00:22:44.320\nYou see I'm right clicking.\n\n494\n00:22:44.320 --> 00:22:45.340\nThere's no delete option.\n\n495\n00:22:45.340 --> 00:22:45.940\nJust leave it alone.\n\n496\n00:22:45.940 --> 00:22:47.310\nYou're not worried about it,\nif it's blank.\n\n497\n00:22:47.310 --> 00:22:49.430\nIf it's not, we ignore it, so\nyou don't have to worry about that.\n\n498\n00:22:49.430 --> 00:22:51.160\nPeople get freaked out sometimes.\n\n499\n00:22:51.160 --> 00:22:53.000\nThey go, my god, what do I do?\n\n500\n00:22:53.000 --> 00:22:54.280\nJust ignore it, no big deal.\n\n501\n00:22:54.280 --> 00:22:56.240\nIt's a bonus, we gave it to you for free.\n\n502\n00:22:56.240 --> 00:22:57.790\nAll right, so\nwe're gonna click Finish now.\n\n503\n00:22:57.790 --> 00:23:01.170\nThis is how we have set up our initial\nrule, or our first rule that we've added.\n\n504\n00:23:01.170 --> 00:23:01.930\nSo let's click Finish.\n\n505\n00:23:03.510 --> 00:23:06.330\nAnd you'll see right\ndown there at the bottom,\n\n506\n00:23:06.330 --> 00:23:08.740\nrule number 11 outgoing\nldap attributes rule.\n\n507\n00:23:08.740 --> 00:23:10.410\nNow, we got these arrows over here,\n\n508\n00:23:10.410 --> 00:23:12.020\nwhat do you think we may\nwanna be doing with those?\n\n509\n00:23:12.020 --> 00:23:15.850\nDo you wanna, perhaps, manipulate\na ordinal order of some kind, perhaps.\n\n510\n00:23:15.850 --> 00:23:17.170\n&gt;&gt; Maybe you will move our new rule up.\n\n511\n00:23:17.170 --> 00:23:18.970\n&gt;&gt; Could move it up a little bit and\nperhaps,\n\n512\n00:23:18.970 --> 00:23:20.600\nyou know you never know, you may want.\n\n513\n00:23:20.600 --> 00:23:23.960\nTo, I don't know,\nmake it higher up in the list, right?\n\n514\n00:23:23.960 --> 00:23:26.270\nSo we can certainly do that if we want to.\n\n515\n00:23:26.270 --> 00:23:29.650\nWe could add it and then add it and\nthen move up the orders.\n\n516\n00:23:29.650 --> 00:23:32.220\nSo you could see here,\njust doing that just to show you.\n\n517\n00:23:32.220 --> 00:23:36.123\nIt's kind of progressing through the ranks\nthere all the way up to number one or\n\n518\n00:23:36.123 --> 00:23:39.390\nwe could just drop it back\ndown where we want to put it.\n\n519\n00:23:39.390 --> 00:23:40.372\nLeave it down there at number 11.\n\n520\n00:23:40.372 --> 00:23:45.693\nSo, we decide what order we want this rule\nto be in related to the rule order or\n\n521\n00:23:45.693 --> 00:23:51.613\nthe ordinal order of the processing of the\nrules around it, in other words, right?\n\n522\n00:23:51.613 --> 00:23:53.296\nSo we have to just think about that.\n\n523\n00:23:53.296 --> 00:23:55.040\nAlright, so we've done all that.\n\n524\n00:23:55.040 --> 00:23:58.595\nNow, let's go ahead,\nwe'll just click Apply here,\n\n525\n00:23:58.595 --> 00:24:01.466\nand click OK just so\nwe can lock that rule in.\n\n526\n00:24:01.466 --> 00:24:04.640\nAll right, so notice that we\ndon't see the rules here, right?\n\n527\n00:24:04.640 --> 00:24:06.460\nWe have to go in and\nedit to see the rules.\n\n528\n00:24:06.460 --> 00:24:09.860\nWe just have the claims provider\ntrust displayed here, right?\n\n529\n00:24:09.860 --> 00:24:12.560\nSo just wanna make sure you're clear or\nrather you see that and\n\n530\n00:24:12.560 --> 00:24:13.330\nwe're clear about that.\n\n531\n00:24:13.330 --> 00:24:15.270\nBut we've set up and edited a rule.\n\n532\n00:24:15.270 --> 00:24:17.320\nI've shown you how to go in and do that.\n\n533\n00:24:17.320 --> 00:24:20.950\nIf we wanted to delete one, let's go back\nin here for a second just to show you.\n\n534\n00:24:20.950 --> 00:24:21.598\nThe claims rules,\n\n535\n00:24:21.598 --> 00:24:26.010\nyou could see, would not be hard to\nhighlight one if you want to remove it.\n\n536\n00:24:26.010 --> 00:24:28.280\nI'm not gonna do that but\nyou could see we could remove one.\n\n537\n00:24:28.280 --> 00:24:31.098\nAnd you could see we could add\nan existing rule if we, so, oops,\n\n538\n00:24:31.098 --> 00:24:34.142\nwait I might have forgotten to do\nsomething, let me go back in there.\n\n539\n00:24:34.142 --> 00:24:38.126\nIt's easy enough to go back in, and make a\nchange if need be or just go in there and\n\n540\n00:24:38.126 --> 00:24:39.260\nsee what's going on.\n\n541\n00:24:39.260 --> 00:24:42.368\nNow, what I didn't show you was the view\nrule language area, off to the left,\n\n542\n00:24:42.368 --> 00:24:43.801\nthere is the little button down here.\n\n543\n00:24:43.801 --> 00:24:46.892\nAll right, so we can go in and\nyou could see that this is written,\n\n544\n00:24:46.892 --> 00:24:48.279\nas you can see here, right.\n\n545\n00:24:50.836 --> 00:24:54.557\nAnd set up in an actual language that\nkind of programs out all the rules for\n\n546\n00:24:54.557 --> 00:24:55.940\nus behind the scenes.\n\n547\n00:24:55.940 --> 00:24:57.103\nThis is much like clicking on that, hey,\n\n548\n00:24:57.103 --> 00:24:58.612\nlet's view that PowerShell script button,\nright?\n\n549\n00:24:58.612 --> 00:24:59.537\n&gt;&gt; Yes.\n\n550\n00:24:59.537 --> 00:25:02.947\n&gt;&gt; Kind of seeing the magic behind\nthe scenes, almost like the Wizard of Oz,\n\n551\n00:25:02.947 --> 00:25:05.216\npay not attention to\nthe man behind the curtain.\n\n552\n00:25:05.216 --> 00:25:06.272\nThese are not the droids\nyou're looking for.\n\n553\n00:25:06.272 --> 00:25:07.772\n&gt;&gt; [LAUGH] That's right.\n&gt;&gt; All right, so\n\n554\n00:25:07.772 --> 00:25:11.655\nI saw that again over the weekend,\nI love that.\n\n555\n00:25:11.655 --> 00:25:13.487\nYou don't wanna sell me death sticks,\nI don't wanna sell you death sticks.\n\n556\n00:25:13.487 --> 00:25:16.080\n&gt;&gt; [LAUGH]\n&gt;&gt; I wanna go home and reevaluate my life.\n\n557\n00:25:16.080 --> 00:25:18.246\nI wanna go home and reevaluate my life,\nthat was in one of the later ones, right?\n\n558\n00:25:18.246 --> 00:25:20.931\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, anyways, so\n\n559\n00:25:20.931 --> 00:25:23.690\nyou could see here how we\nhave the claim rule language.\n\n560\n00:25:23.690 --> 00:25:26.060\nHow we can build and\nwe can actually take this out.\n\n561\n00:25:26.060 --> 00:25:29.308\nWe can copy it, we can go ahead and\nedit it outside and put it back in and\n\n562\n00:25:29.308 --> 00:25:30.323\nmodify it if need be.\n\n563\n00:25:30.323 --> 00:25:32.590\nBut typically, you don't wanna\ngo ahead and mess with this.\n\n564\n00:25:32.590 --> 00:25:35.433\nAnd notice there's no way for\nus to edit this here per se,\n\n565\n00:25:35.433 --> 00:25:38.052\nit's not like a highlighter\nyou could do anything.\n\n566\n00:25:38.052 --> 00:25:40.280\nThe only thing you can do is essentially\ncopy that language out of here.\n\n567\n00:25:40.280 --> 00:25:42.440\nYou're not editing the rule\nlanguage directly,\n\n568\n00:25:42.440 --> 00:25:44.150\nyou're using the graphical interface.\n\n569\n00:25:44.150 --> 00:25:48.200\nAnd the builder was sent to create\nthis rule language and then set it up,\n\n570\n00:25:48.200 --> 00:25:51.300\nbut you'll see here,\nthis is all XML soap, right?\n\n571\n00:25:51.300 --> 00:25:54.987\nSo you're not really writing this\ndirectly, you're creating a GUI connection\n\n572\n00:25:54.987 --> 00:25:57.819\nthrough the point and\nclick to then create this information.\n\n573\n00:25:57.819 --> 00:26:00.817\nAnd then writing into a file that\nultimately gets used to configure,\n\n574\n00:26:00.817 --> 00:26:02.670\nso just make sure you're aware of that.\n\n575\n00:26:02.670 --> 00:26:04.450\nAll right, so\nI just wanted to point that out and\n\n576\n00:26:04.450 --> 00:26:05.910\nshow it to you while we're\nunder the hood here.\n\n577\n00:26:05.910 --> 00:26:10.181\nAll right, so we've done all this,\nwe've set this up, let me get out of here.\n\n578\n00:26:10.181 --> 00:26:13.957\nWhat we're gonna do in our next episode,\ncuz we again are, surprisingly,\n\n579\n00:26:13.957 --> 00:26:15.164\njust about out of time.\n\n580\n00:26:15.164 --> 00:26:15.701\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n581\n00:26:15.701 --> 00:26:18.980\nwe've gone through, we've taken a look\nat the claims provider trust, right?\n\n582\n00:26:18.980 --> 00:26:21.780\nSo we're starting to chip away at\na lot more of that functionality now.\n\n583\n00:26:21.780 --> 00:26:23.966\nWhat we're gonna do is, we're gonna go in,\n\n584\n00:26:23.966 --> 00:26:27.540\nwe're going to take a look at some of\nthe last little bits and pieces here.\n\n585\n00:26:27.540 --> 00:26:30.560\nKinda get the final\nfinishing touches put in, or\n\n586\n00:26:30.560 --> 00:26:33.370\nput on I should say,\nfor our configuration.\n\n587\n00:26:33.370 --> 00:26:36.322\nMake sure everything is working and\neverything is as we say, copacetic, right.\n\n588\n00:26:36.322 --> 00:26:36.898\n&gt;&gt; Mm-hm.\n&gt;&gt; And\n\n589\n00:26:36.898 --> 00:26:40.205\nthen we'll be done with configuring ADFS,\nwe'll have a few more things to say along\n\n590\n00:26:40.205 --> 00:26:42.780\nthe way, just to make sure we\nput all the icing on the cake.\n\n591\n00:26:42.780 --> 00:26:45.420\nWe do have to take a look at\na couple of other things.\n\n592\n00:26:45.420 --> 00:26:50.112\nWe need to make sure, now we just go back\nand hit on a couple of the specifics\n\n593\n00:26:50.112 --> 00:26:55.051\naround claims and just wrap up piece of\nas part of the exam objective mapping.\n\n594\n00:26:55.051 --> 00:26:57.534\nSo I just wanna make sure we talk more\na bit more and just that the claims and\n\n595\n00:26:57.534 --> 00:26:58.930\nwhat's going on with them.\n\n596\n00:26:58.930 --> 00:27:02.380\nWe also need to make sure that after\nwhen you're done with all this,\n\n597\n00:27:02.380 --> 00:27:07.410\nthat not only are we clear on how,\nexcuse me, ADFS works, but we also need to\n\n598\n00:27:07.410 --> 00:27:14.335\nmake sure that we're good with our,\nI can't think of what I was gonna say.\n\n599\n00:27:14.335 --> 00:27:15.420\n&gt;&gt; [LAUGH]\n&gt;&gt; It just totally escaped me.\n\n600\n00:27:15.420 --> 00:27:20.940\nI think I lost my acronym mapping,\nI just lost that.\n\n601\n00:27:20.940 --> 00:27:24.280\nNo, there's one other piece that we can\ntake a look at as well, that's a secret.\n\n602\n00:27:24.280 --> 00:27:26.220\nI'm gonna tell you about it in\nthe next episode when you come back.\n\n603\n00:27:26.220 --> 00:27:27.520\nBut if you come back in\ntake a look with us,\n\n604\n00:27:27.520 --> 00:27:29.630\nI'm gonna show you some cool\nstuff with a quick walkthrough.\n\n605\n00:27:29.630 --> 00:27:32.510\nI'll actually even preview it for\nyou right now before we take off,\n\n606\n00:27:32.510 --> 00:27:34.120\njust to show you what it's gonna be.\n\n607\n00:27:34.120 --> 00:27:35.950\nGive me just a second to go back out here.\n\n608\n00:27:35.950 --> 00:27:40.520\nI'm gonna show you real quickly, how to\ndo Workplace Join with a Windows device\n\n609\n00:27:40.520 --> 00:27:43.230\ncuz we need to make sure it's\npart of our exam objectives.\n\n610\n00:27:43.230 --> 00:27:45.951\nAnd it may not be in the exact episode,\nwe may need two to finish up totally.\n\n611\n00:27:45.951 --> 00:27:47.050\nWe'll see how that goes.\n\n612\n00:27:47.050 --> 00:27:49.940\nBut, we're gonna talk quickly about\nWorkplace Join as well, cuz that is\n\n613\n00:27:49.940 --> 00:27:53.110\none the exam objectives and we gotta make\nsure we know how to do Workplace Join.\n\n614\n00:27:53.110 --> 00:27:55.269\nWe got a cool little walkthrough\nright here on the website, so\n\n615\n00:27:55.269 --> 00:27:57.964\nwe're gonna take a look at it and make\nsure you know how to find, so you can read\n\n616\n00:27:57.964 --> 00:28:00.649\nup on it cuz you're definitely gonna\nsee some questions on Workplace Join.\n\n617\n00:28:00.649 --> 00:28:02.608\nIt's a pretty important concept for\nMicrosoft, so\n\n618\n00:28:02.608 --> 00:28:05.160\nit's gonna be part of what\nwe talk about here as well.\n\n619\n00:28:05.160 --> 00:28:08.280\n&gt;&gt; Fantastic, you kept me on the edge\nof my seat in anticipation for\n\n620\n00:28:08.280 --> 00:28:09.740\nthese next episodes.\n\n621\n00:28:09.740 --> 00:28:13.390\nWe appreciate that, Adam, and all that\ngreat information and demonstrations.\n\n622\n00:28:13.390 --> 00:28:15.950\nHope everybody out there\nenjoyed watching this one.\n\n623\n00:28:15.950 --> 00:28:17.532\nSigning off for ITProTV.\n\n624\n00:28:17.532 --> 00:28:19.240\nI've been your host, Mike Rodrick.\n\n625\n00:28:19.240 --> 00:28:20.270\n&gt;&gt; I'm Adam Gordon.\n\n626\n00:28:20.270 --> 00:28:22.415\n&gt;&gt; And we'll see you next time.\n\n627\n00:28:22.415 --> 00:28:28.405\n[MUSIC]\n\n628\n00:28:28.405 --> 00:28:31.406\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "238592443"
        },
        {
          "description": "Adam and Mike examine the Group Managed Service Account used by AD FS, use the Add Relying Party Trust Wizard to create a Relying Party Trust and discuss the three types of Relying Party Trust rules.",
          "length": "1838",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-6-implementing-ad-fs_pt6-101717-PGM-CUSTOM_Oct17_10-55-18.00_30_19_12.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-6-implementing-ad-fs_pt6-101717-PGM-CUSTOM_Oct17_10-55-18.00_30_19_12.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-6-implementing-ad-fs_pt6-101717-PGM-CUSTOM_Oct17_10-55-18.00_30_19_12.Still001-sm.jpg",
          "title": "Implementing AD FS Part 6",
          "transcript": "WEBVTT\n\n1\n00:00:00.130 --> 00:00:03.484\nWelcome to ITProTV,\nI'm you're host Don Pezet.\n\n2\n00:00:03.484 --> 00:00:07.342\n[CROSSTALK]\n\n3\n00:00:07.342 --> 00:00:12.450\n[MUSIC]\nYour watching ITPro.TV.\n\n4\n00:00:12.450 --> 00:00:15.300\n&gt;&gt; Hello, welcome to another\nexciting episode here on ITPro.TV.\n\n5\n00:00:15.300 --> 00:00:20.433\nI'm your host Mike Roderick and today\nwe're doing our Windows Server 2012 R2,\n\n6\n00:00:20.433 --> 00:00:22.796\npreparing for the 70-412 exam.\n\n7\n00:00:22.796 --> 00:00:26.500\nIn this episode, we're actually doing a,\nwe're just going to say a multi-parter.\n\n8\n00:00:26.500 --> 00:00:29.400\nWe're going to stop\ncounting at this point.\n\n9\n00:00:29.400 --> 00:00:30.420\nBut some great demonstrations.\n\n10\n00:00:30.420 --> 00:00:32.660\n&gt;&gt; I don't have enough toes and\nfingers to count.\n\n11\n00:00:32.660 --> 00:00:34.290\n&gt;&gt; Exactly.\n&gt;&gt; That's how many we've done.\n\n12\n00:00:34.290 --> 00:00:37.249\n&gt;&gt; We're way up there in the count but\nit's been great stuff so far, right.\n\n13\n00:00:37.249 --> 00:00:41.343\nWe're working on Active Directory\nFederation Services, implementing that.\n\n14\n00:00:41.343 --> 00:00:45.400\nWe've laid down all that foundational\ninformation, knowledge, vocabulary.\n\n15\n00:00:45.400 --> 00:00:48.300\nWe've actually began the process\nof setting it up and\n\n16\n00:00:48.300 --> 00:00:52.310\nwe've configured, I think, some of\nthe sides on the claim side of things.\n\n17\n00:00:52.310 --> 00:00:56.049\nWe've taken look at some claims and we're\ngetting ready to move on into creating\n\n18\n00:00:56.049 --> 00:00:59.550\nsome relying party trust and\nother exciting stuff.\n\n19\n00:00:59.550 --> 00:01:01.720\nBut I'm not the one that's\ntelling you about it,\n\n20\n00:01:01.720 --> 00:01:03.740\nhere to tell you all about it is Mr.\nAdam Gordon.\n\n21\n00:01:03.740 --> 00:01:04.720\nWelcome back, Adam.\n\n22\n00:01:04.720 --> 00:01:05.690\n&gt;&gt; Hello.\n&gt;&gt; [LAUGH]\n\n23\n00:01:05.690 --> 00:01:07.130\n&gt;&gt; All right, so\n\n24\n00:01:07.130 --> 00:01:09.960\nhopefully all of you are doing well,\nyou've been keeping up with us, hopefully.\n\n25\n00:01:09.960 --> 00:01:10.790\nMost importantly,\n\n26\n00:01:10.790 --> 00:01:14.820\nactually, cuz as Mike was indicating,\ncovered a lot of ground up until now.\n\n27\n00:01:14.820 --> 00:01:18.990\nThis is Part 6, and Episode 1 was\nessentially just an overview,\n\n28\n00:01:18.990 --> 00:01:22.370\nwe went over some vocabulary,\ndefined the concepts.\n\n29\n00:01:22.370 --> 00:01:23.800\nYou know, what's a claim?\n\n30\n00:01:23.800 --> 00:01:25.510\nWhat's our attribute store?\n\n31\n00:01:25.510 --> 00:01:26.790\nWhat's an end point?\n\n32\n00:01:28.230 --> 00:01:31.780\nWhat are the relying party trusts,\nthe claim provider trusts?\n\n33\n00:01:31.780 --> 00:01:33.160\nWhat are certificates?\n\n34\n00:01:33.160 --> 00:01:34.740\nWhat are claim descriptions?\n\n35\n00:01:34.740 --> 00:01:36.680\nAll that kind of stuff,\nkind of went through all that.\n\n36\n00:01:36.680 --> 00:01:41.820\nBut then starting with Episode 2,\nup through Episode 5, and now about to\n\n37\n00:01:41.820 --> 00:01:48.070\njump in to Episode 6, we've been walking\nthrough and configuring ADFS step by step.\n\n38\n00:01:48.070 --> 00:01:51.610\nWalking through the logic of what we do,\nhow we it, why we do it.\n\n39\n00:01:51.610 --> 00:01:55.460\nOn the way Mike has been very helpful,\nkeeping not only me on track, but helping\n\n40\n00:01:55.460 --> 00:01:59.301\nall of us to understand the importance\nof some of the key takeaways, right.\n\n41\n00:01:59.301 --> 00:02:03.870\nAs we go through things, he's been helping\nus to focus on the idea of why it is so\n\n42\n00:02:03.870 --> 00:02:07.910\nimportant for us,\nnot only to have good documentation,\n\n43\n00:02:07.910 --> 00:02:12.030\nname things correctly, the role and\nvalue of certificates in this process.\n\n44\n00:02:12.030 --> 00:02:13.120\nWhy those are important.\n\n45\n00:02:13.120 --> 00:02:15.660\nWe spent a fair amount of time\nbuilding up our knowledge and\n\n46\n00:02:15.660 --> 00:02:17.180\nour thought process there.\n\n47\n00:02:17.180 --> 00:02:19.900\nOn what Managed and\nGroup Managed Service Accounts are,\n\n48\n00:02:19.900 --> 00:02:21.290\nhad a little discussion about that.\n\n49\n00:02:21.290 --> 00:02:22.553\nWe're actually gonna go back,\n\n50\n00:02:22.553 --> 00:02:25.046\ntake a quick look at what we did\nin the last episode around that.\n\n51\n00:02:25.046 --> 00:02:28.410\nI'll show you the outcome of\nconfiguring through the wizard and\n\n52\n00:02:28.410 --> 00:02:31.151\nshowing you how we associated\nour ADFSSA account and\n\n53\n00:02:31.151 --> 00:02:34.590\nmade it a Group Managed Service Account\nand what that looks like.\n\n54\n00:02:34.590 --> 00:02:39.010\nWe've got to actually show you how we see\nthose in AD User and Computer Manager, so\n\n55\n00:02:39.010 --> 00:02:40.060\nwe'll take a look at that.\n\n56\n00:02:40.060 --> 00:02:44.900\nBut we have configured the claims\nprovider trust in our last discussion,\n\n57\n00:02:44.900 --> 00:02:47.810\nwent through, took a look at\nhow to edit the claim rules and\n\n58\n00:02:47.810 --> 00:02:50.230\nthe attributes in the claim store.\n\n59\n00:02:50.230 --> 00:02:54.440\nOur ADDS is providing our attribute store,\nso we talked about all of that.\n\n60\n00:02:54.440 --> 00:02:56.660\nWe're gonna jump in in just a minute and\n\n61\n00:02:56.660 --> 00:03:00.530\ncontinue our conversation in\nthe ADFS Management Console.\n\n62\n00:03:00.530 --> 00:03:03.650\nWe're gonna go ahead and\nconfigure the relying party trust,\n\n63\n00:03:03.650 --> 00:03:05.510\nwe've talking about it up until now.\n\n64\n00:03:05.510 --> 00:03:08.010\nKept hinting at it,\nsay we'll get to it, we'll get to it,\n\n65\n00:03:08.010 --> 00:03:11.390\nit's over there in our other forest, but\nwe haven't actually done anything with it.\n\n66\n00:03:11.390 --> 00:03:13.210\nWe're going to go in and\ntake a look at how they do that now.\n\n67\n00:03:13.210 --> 00:03:15.955\nIt's gonna more or less be replay\nwhat we've already done, but\n\n68\n00:03:15.955 --> 00:03:18.770\nwe'll just take a look at and fill in\nthe couple of things along the way.\n\n69\n00:03:18.770 --> 00:03:23.320\nJust remind you, we talked about the fact\nthat we have claim provider trust and\n\n70\n00:03:23.320 --> 00:03:24.730\nclaim rules associated with that.\n\n71\n00:03:24.730 --> 00:03:26.668\nYou actually saw me, in the last episode,\n\n72\n00:03:26.668 --> 00:03:30.430\ngo in and create a claim provider rule\nby editing the existing rule set.\n\n73\n00:03:30.430 --> 00:03:35.060\nWe had ten that were there,\nwe added in our LDAP attribute rule and\n\n74\n00:03:35.060 --> 00:03:37.286\nmapped some of our attributes and claims.\n\n75\n00:03:37.286 --> 00:03:39.660\nWe did email addresses.\n\n76\n00:03:39.660 --> 00:03:44.120\nWe did user principal name, UPN,\nand we did display name and\n\n77\n00:03:44.120 --> 00:03:47.560\nthen we mapped those to email address,\nUPN, and name.\n\n78\n00:03:47.560 --> 00:03:50.910\nAnd we set that rule up,\nput that into our rules set, and\n\n79\n00:03:50.910 --> 00:03:52.860\nkind of talk through\nthe logic of all that.\n\n80\n00:03:52.860 --> 00:03:56.390\nSo we have claim rules for a claim\nprovider trust, you have seen those.\n\n81\n00:03:56.390 --> 00:03:59.630\nWe also have claim rules for relying party\ntrust, and we are going to talk about\n\n82\n00:03:59.630 --> 00:04:04.005\nrelying party trust, but then go in just\nto make sure we're familiar with this.\n\n83\n00:04:04.005 --> 00:04:08.615\nRemember, the rules are gonna\nallow us to be able to specify\n\n84\n00:04:08.615 --> 00:04:12.277\nhow we want those claims to be processed,\nwhat we want done with them.\n\n85\n00:04:12.277 --> 00:04:15.855\nIf you give me just a second while\nI'm talking to you here, I'll go in,\n\n86\n00:04:15.855 --> 00:04:19.165\njust bring that up, just remind you\nof that, while we're getting started.\n\n87\n00:04:19.165 --> 00:04:20.685\nBut join me here on the console.\n\n88\n00:04:20.685 --> 00:04:24.045\nLet's just take a look of where we were,\nso that when when we go back and\n\n89\n00:04:24.045 --> 00:04:27.640\nset up a relying party trust, over here\nin a minute, this will all kind of,\n\n90\n00:04:27.640 --> 00:04:28.920\nhopefully, come back to you and\nmake sense.\n\n91\n00:04:28.920 --> 00:04:32.036\nMy point with all this,\nbefore we get started, was the following.\n\n92\n00:04:32.036 --> 00:04:36.370\nIf you have not seen the last\nfour episodes, in particular\n\n93\n00:04:36.370 --> 00:04:40.740\nthe last episode about what we've been\ndoing along the way through the demo,\n\n94\n00:04:40.740 --> 00:04:44.530\nit would really be a good idea for you\nto kind of step back, leave us here for\n\n95\n00:04:44.530 --> 00:04:48.260\na couple of minutes, go back and\ntake a look at some of those episodes.\n\n96\n00:04:48.260 --> 00:04:51.850\nGet the general flow and feeling for\nwhat we're doing in order.\n\n97\n00:04:51.850 --> 00:04:54.410\nThis is one of those things where\nif you jump in right in the middle,\n\n98\n00:04:54.410 --> 00:04:57.110\nwhile it certainly does make\na certain amount of sense to you.\n\n99\n00:04:57.110 --> 00:04:58.520\nIf you haven't done this before,\n\n100\n00:04:58.520 --> 00:05:01.150\nyou're gonna be a little confused as\nto what we're doing, where we are, and\n\n101\n00:05:01.150 --> 00:05:04.110\nwhy we're doing the things\nwe're doing along the way.\n\n102\n00:05:04.110 --> 00:05:07.830\nBut if you've seen those episodes and\nhave a good sense of that,\n\n103\n00:05:07.830 --> 00:05:10.680\nthen this is the best place for\nyou to pick up, so just keep that in mind.\n\n104\n00:05:10.680 --> 00:05:13.262\nI think I cut you off, so you were gonna\nsay something while I was bringing up the.\n\n105\n00:05:13.262 --> 00:05:16.040\n&gt;&gt; Well I was just gonna fill in the gap\nwhere you getting things ready there.\n\n106\n00:05:16.040 --> 00:05:18.814\nOne of the things we maybe haven't put\ntogether for you guys out there yet,\n\n107\n00:05:18.814 --> 00:05:21.270\ncuz we've been talking about\nall the different pieces.\n\n108\n00:05:21.270 --> 00:05:25.530\nHow these claims work,where the claim,\nthis is something you gonna plan out\n\n109\n00:05:25.530 --> 00:05:28.880\nbetween you and your business\npartner because you're gonna.\n\n110\n00:05:28.880 --> 00:05:30.128\n&gt;&gt; Your federation partner, absolutely.\n\n111\n00:05:30.128 --> 00:05:32.320\n&gt;&gt; Yeah, you're gonna make\na statement about a user,\n\n112\n00:05:32.320 --> 00:05:35.560\nwhether that's their user name, their\nemail address, or their favorite color,\n\n113\n00:05:35.560 --> 00:05:36.940\nright, it can be any attribute.\n\n114\n00:05:36.940 --> 00:05:37.910\nIn our case-\n&gt;&gt; I like blue.\n\n115\n00:05:37.910 --> 00:05:38.890\n&gt;&gt; The active directory, blue?\n\n116\n00:05:38.890 --> 00:05:39.510\n&gt;&gt; I like blue.\n\n117\n00:05:39.510 --> 00:05:41.645\n&gt;&gt; So\n&gt;&gt; Let's say we decide to make a claim\n\n118\n00:05:41.645 --> 00:05:44.675\nwhere when Adam authenticates,\nhe gets a token that says,\n\n119\n00:05:44.675 --> 00:05:47.215\nMy name is Adam,\nmy favorite color is blue.\n\n120\n00:05:47.215 --> 00:05:49.865\nThe other end has to agree on what\nclaims they're going to accept and\n\n121\n00:05:49.865 --> 00:05:53.235\nthen how to process those, which is what\nwe're getting ready to kind of set up.\n\n122\n00:05:53.235 --> 00:05:57.200\nOr they might have a rule that says if\ntheir claim says their favorite color\n\n123\n00:05:57.200 --> 00:05:59.710\nis blue, they get this level of access.\n\n124\n00:05:59.710 --> 00:06:02.930\nBut if they say their favorite color\nis red, they get this level of access.\n\n125\n00:06:02.930 --> 00:06:07.010\nSo we set this claim up, we wanna make\nsure we understand that the both sides\n\n126\n00:06:07.010 --> 00:06:09.560\nyou're gonna be trying to\nmake their claims match.\n\n127\n00:06:09.560 --> 00:06:13.910\nOnce the claims provider decides\nwhat claims we're gonna send you.\n\n128\n00:06:13.910 --> 00:06:17.820\nAnd then the relying party decides what\nwe're gonna do based on those claims\n\n129\n00:06:17.820 --> 00:06:18.420\nyou've sent us.\n\n130\n00:06:18.420 --> 00:06:21.560\nGive you access, deny you access,\nincrease your access level,\n\n131\n00:06:21.560 --> 00:06:24.290\nwhatever the case may be.\n\n132\n00:06:24.290 --> 00:06:27.060\nI just thought I'd throw that in there\nwhile he was getting all this stuff ready\n\n133\n00:06:27.060 --> 00:06:27.925\nfor his demonstration.\n\n134\n00:06:27.925 --> 00:06:29.710\n[LAUGH]\n&gt;&gt; Absolutely correct, right, so\n\n135\n00:06:29.710 --> 00:06:32.240\njust to remind you, this is where we\nwent in, we edited the claim rules.\n\n136\n00:06:32.240 --> 00:06:35.660\nNow these are the claim rules,\nthey call them acceptance transform rules,\n\n137\n00:06:35.660 --> 00:06:36.830\nI think I pointed that out.\n\n138\n00:06:36.830 --> 00:06:40.270\nOn the claims provider trust side and\nwe have a series of rules.\n\n139\n00:06:40.270 --> 00:06:43.200\nThere’s ten in there by default,\nyou see the rule we created down here.\n\n140\n00:06:43.200 --> 00:06:47.850\nRemember we added the rule and\nthere are rule templates.\n\n141\n00:06:47.850 --> 00:06:52.704\nThere were five, six of them, right, two,\nfour, five, I can't count this morning.\n\n142\n00:06:52.704 --> 00:06:53.214\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n143\n00:06:53.214 --> 00:06:54.790\n&gt;&gt; Five, five different kinds you\n\n144\n00:06:54.790 --> 00:06:57.850\ncould see here,\nwe chose send LDAP attributes as claims.\n\n145\n00:06:57.850 --> 00:07:01.400\nWe walked through how to map the claims,\nalong the lines what Mike was just saying.\n\n146\n00:07:01.400 --> 00:07:03.470\nBut we can send group\nmembership as a claim,\n\n147\n00:07:03.470 --> 00:07:06.200\ntransform an incoming claim\nas you can see there.\n\n148\n00:07:06.200 --> 00:07:08.800\nI think we talked through just\nat a high level what these were.\n\n149\n00:07:08.800 --> 00:07:10.280\nPass through or filter and\n\n150\n00:07:10.280 --> 00:07:14.890\nor send claims using the custom rule, that\nwe can then kind of map out what we want.\n\n151\n00:07:14.890 --> 00:07:15.640\nThe talk track,\n\n152\n00:07:15.640 --> 00:07:19.520\nMike was just suggesting we pay attention\nto with regards to negotiating.\n\n153\n00:07:19.520 --> 00:07:23.280\nThat's probably a good way, framing\nwhat that conversation is because it is.\n\n154\n00:07:23.280 --> 00:07:26.600\nOften when I find when I'm talking\nto customers in the field or\n\n155\n00:07:26.600 --> 00:07:30.010\nI'm working with students helping them\nto understand how to implement this,\n\n156\n00:07:30.010 --> 00:07:32.360\nwhen they go back to their environments.\n\n157\n00:07:32.360 --> 00:07:38.630\nIt is often a negotiation between\nbusiness partners or federation partners.\n\n158\n00:07:38.630 --> 00:07:42.410\nLet's just say hypothetically,\nthat we're Mega Corp, right, and\n\n159\n00:07:42.410 --> 00:07:45.460\nMike represents ABC Corp.\n\n160\n00:07:45.460 --> 00:07:48.640\nAnd the two of us are gonna form\nthis relationship to do business and\n\n161\n00:07:48.640 --> 00:07:52.635\nwe're gonna extend trust to each other,\nas we've suggested, federation implies.\n\n162\n00:07:52.635 --> 00:07:56.459\nThen we really have to agree,\nthrough some sort of negotiation and\n\n163\n00:07:56.459 --> 00:07:59.752\nplanning solution,\nwhat those acceptable claims are.\n\n164\n00:07:59.752 --> 00:08:03.091\nAnd the language Mike used,\nI liked a lot Which is I, as a user,\n\n165\n00:08:03.091 --> 00:08:05.930\nmay say my favorite color is blue,\nI want to use blue.\n\n166\n00:08:05.930 --> 00:08:09.771\nBut if Mike's company doesn't feel\nthat's an appropriate claim or\n\n167\n00:08:09.771 --> 00:08:13.160\ndoesn't want to entertain that\nclaim as the relying party.\n\n168\n00:08:13.160 --> 00:08:17.560\nThe relying party is, remember, the party\nin our relationship that hosts the web or\n\n169\n00:08:17.560 --> 00:08:22.250\nthe service that we're gonna want\nto consume as a claim provider\n\n170\n00:08:22.250 --> 00:08:23.460\nwe are providing claims.\n\n171\n00:08:23.460 --> 00:08:26.350\nAs a relying party,\nwe are consuming those claims and\n\n172\n00:08:26.350 --> 00:08:29.720\nthe relying party hosts the web app or\nthe service it's gonna consume.\n\n173\n00:08:29.720 --> 00:08:34.670\nAnd so we both have to agree on\nwhat that set of requirements or\n\n174\n00:08:34.670 --> 00:08:38.800\nset of acceptable claims will be and\nnegotiation is often what happens.\n\n175\n00:08:38.800 --> 00:08:43.760\nIt's really a conversation, it's not like\nyou sit down and sign contracts right.\n\n176\n00:08:43.760 --> 00:08:47.430\nBut the point is you're gonna go ahead and\nhave to agree ahead of time\n\n177\n00:08:47.430 --> 00:08:51.290\nto plan to be successful, as we often\ntalk about, through making these\n\n178\n00:08:51.290 --> 00:08:55.950\nclaims work on both sides and making sure\nthat they're acceptable to both parties.\n\n179\n00:08:55.950 --> 00:08:58.585\nSo keep that in mind as\nwe get started here.\n\n180\n00:08:58.585 --> 00:09:00.985\nI just wanna make sure that we're\nthinking about what we've done.\n\n181\n00:09:00.985 --> 00:09:01.895\nWe have the background and\n\n182\n00:09:01.895 --> 00:09:06.455\nthe thought process aligned, so as we look\nahead to finish up our conversations.\n\n183\n00:09:06.455 --> 00:09:08.605\nThis is gonna continue to roll forward and\n\n184\n00:09:08.605 --> 00:09:10.990\nmake sense as we add these\nadditional building blocks.\n\n185\n00:09:10.990 --> 00:09:15.915\nI promised you just before we jump back\nin here, go to relying party trust.\n\n186\n00:09:15.915 --> 00:09:19.255\nAnd we add a relying party trust which\nwe're gonna do in just a moment,\n\n187\n00:09:19.255 --> 00:09:22.840\nthat we would just quickly sneak\na peek at our Managed Service account.\n\n188\n00:09:22.840 --> 00:09:25.790\nLet me just open this up over here,\nso we can kinda see that.\n\n189\n00:09:26.870 --> 00:09:29.370\nYou'll notice I'm in\nthe Active Directory Users and Computers.\n\n190\n00:09:29.370 --> 00:09:31.520\nAnd if you remember as\nwe did the walkthough,\n\n191\n00:09:31.520 --> 00:09:32.980\nwe had created that user account.\n\n192\n00:09:32.980 --> 00:09:36.598\nI'd pointed out what the user was\nprepopulated, a bunch of steps I had done\n\n193\n00:09:36.598 --> 00:09:40.230\nwith the certificates, setting them up,\ncreating the user account.\n\n194\n00:09:40.230 --> 00:09:43.335\nSome of the background stuff to\nmeet the prerequisite requirements.\n\n195\n00:09:43.335 --> 00:09:45.490\nAnd we talked about what those\nare why they're important.\n\n196\n00:09:45.490 --> 00:09:51.040\nAnd I created the ADFSSA account,\na standard user account, nothing special.\n\n197\n00:09:51.040 --> 00:09:54.630\nWe showed you as a member of the domain\nusers group, had a standard password,\n\n198\n00:09:54.630 --> 00:09:56.090\npassword never expires.\n\n199\n00:09:56.090 --> 00:09:59.550\nNothing unusual about it at all except\nwe simply just chose to prepopulate\n\n200\n00:09:59.550 --> 00:10:00.350\nthe account.\n\n201\n00:10:00.350 --> 00:10:03.830\nSo in the wizard, as we configured ADFS,\nwe got to that screen where it said,\n\n202\n00:10:03.830 --> 00:10:07.790\nhey, either give us an account we\ncan latch onto or create a new one.\n\n203\n00:10:07.790 --> 00:10:11.605\nAnd we said, we alread have one and\nwe have the domain prepopulated there.\n\n204\n00:10:11.605 --> 00:10:14.285\nWe just put in the name of the user,\nzip through,\n\n205\n00:10:14.285 --> 00:10:17.915\nthe wizard reaches out through\nPowerShell grabs this user account,\n\n206\n00:10:17.915 --> 00:10:22.697\ntransformers it from a normal user account\ninto this Managed Service account here,\n\n207\n00:10:22.697 --> 00:10:26.057\na Group Managed Service account,\nwhat's called a GMSA, as we can see.\n\n208\n00:10:26.057 --> 00:10:31.367\nAnd you could see that here, just open\nthat up, there we go right there.\n\n209\n00:10:31.367 --> 00:10:35.153\nYou could see type MSDS, right,\nMicrosoft Directory Service,\n\n210\n00:10:35.153 --> 00:10:37.643\nGroup Managed Service Account\npointing to it right there.\n\n211\n00:10:37.643 --> 00:10:38.623\nThis is a designator.\n\n212\n00:10:38.623 --> 00:10:41.463\nI told you it has a cool little icon,\nthe gear, right, for the services.\n\n213\n00:10:41.463 --> 00:10:42.873\nYou can see that there.\n\n214\n00:10:42.873 --> 00:10:47.233\nAnd now this is our Group Managed\nService Account that ADFS is using\n\n215\n00:10:47.233 --> 00:10:50.501\nin order to be able to, essentially,\ndrive all of the requirements and\n\n216\n00:10:50.501 --> 00:10:54.601\nthe capabilities that ADFS as a service or\na set of managed services will require.\n\n217\n00:10:54.601 --> 00:10:58.231\nSo this is the outcome of\nthat user choice we made,\n\n218\n00:10:58.231 --> 00:11:01.820\nit gets transformed into a GMSA and\nis listed here.\n\n219\n00:11:01.820 --> 00:11:05.300\nAs I explained, we could see that\nservice count is now populated,\n\n220\n00:11:05.300 --> 00:11:06.730\nso I just wanted to point that out.\n\n221\n00:11:06.730 --> 00:11:08.910\nWe didn't really get a chance to go back,\ntake a look that before.\n\n222\n00:11:08.910 --> 00:11:12.430\nAll right, so when we setup a relying\nparty trust we're gonna go through,\n\n223\n00:11:12.430 --> 00:11:14.150\nand start that process here.\n\n224\n00:11:14.150 --> 00:11:17.260\nJust a second to click here,\nwe got a little wizard.\n\n225\n00:11:18.570 --> 00:11:22.620\nThis wizard, you will see,\nis a little bit more involved than,\n\n226\n00:11:22.620 --> 00:11:26.030\nhas more steps in other words, right,\nthan the client provider trust.\n\n227\n00:11:26.030 --> 00:11:29.352\nThe client provider trust didn't\nrequire quite as many steps,\n\n228\n00:11:29.352 --> 00:11:31.650\nthere weren't as many things we had to do.\n\n229\n00:11:31.650 --> 00:11:34.290\nBut this one, yeah there's a few\nthings we gotta pay attention to here.\n\n230\n00:11:34.290 --> 00:11:36.940\nSo we wanna make sure we're\nin line with what's going on,\n\n231\n00:11:36.940 --> 00:11:38.510\nwe have a sense of what's happening here.\n\n232\n00:11:39.770 --> 00:11:44.750\nWe add a new relying trust or party trust\nto the ADFS configuration database.\n\n233\n00:11:44.750 --> 00:11:49.150\nRemember, our configuration database\nis the WID, Windows Internal Database.\n\n234\n00:11:49.150 --> 00:11:52.350\nWe did have that SQL server option,\nwe talked about some of that.\n\n235\n00:11:52.350 --> 00:11:56.090\nAlso just wanted to quickly remind you we\ntook a look at the planning spreadsheet\n\n236\n00:11:56.090 --> 00:11:59.280\nfor ADFS high availability and scaleout.\n\n237\n00:11:59.280 --> 00:12:02.190\nAnd we downloaded that,\nshowed you where to find that,\n\n238\n00:12:02.190 --> 00:12:05.310\nran through just the logic of how you\nwould use that planning spreadsheet\n\n239\n00:12:05.310 --> 00:12:08.820\nto be able to make some choices\nabout how to scale out the farm.\n\n240\n00:12:08.820 --> 00:12:12.260\nAnd also how to scale out the SQL Server\ninfrastructure if you wanted to create\n\n241\n00:12:12.260 --> 00:12:13.640\na high-availability solution.\n\n242\n00:12:13.640 --> 00:12:16.300\nSo a lot of things we've\nbeen through up until now.\n\n243\n00:12:16.300 --> 00:12:17.630\nSo again, good information,\n\n244\n00:12:17.630 --> 00:12:20.370\nbut you've got to back track a little\nbit if you haven't seen all that.\n\n245\n00:12:20.370 --> 00:12:21.730\nAlright, so\nwe're going to click Start here.\n\n246\n00:12:21.730 --> 00:12:23.350\nGive me just one second to do that.\n\n247\n00:12:24.700 --> 00:12:28.090\nNow we're gonna import data about\nthe relying party published online or\n\n248\n00:12:28.090 --> 00:12:28.910\non a local network.\n\n249\n00:12:28.910 --> 00:12:33.390\nImport data from the relying party or\non the relying party from the file or\n\n250\n00:12:33.390 --> 00:12:35.480\nare we gonna enter data manually, right.\n\n251\n00:12:35.480 --> 00:12:38.150\nWe've got a couple options we\nhave to first think about here.\n\n252\n00:12:38.150 --> 00:12:42.780\nThe idea being that, essentially,\nwe have to make a choice\n\n253\n00:12:42.780 --> 00:12:46.710\nabout where we want to get this\ninformation or provide this information.\n\n254\n00:12:46.710 --> 00:12:52.130\nIf we're gonna get it from online we\nhave to have a solution already set up.\n\n255\n00:12:52.130 --> 00:12:56.650\nWe do have our claims app, remember,\nour app that's aware and can use claims.\n\n256\n00:12:56.650 --> 00:12:59.720\nI showed you that in the prior episodes,\nthe logon screen in Windows 8,\n\n257\n00:12:59.720 --> 00:13:00.830\nif you remember.\n\n258\n00:13:00.830 --> 00:13:04.200\nJust take a look at that so\nyou can remember where that is.\n\n259\n00:13:04.200 --> 00:13:04.950\nWhere is that?\n\n260\n00:13:04.950 --> 00:13:09.805\nThat is right here, and\nof course now that I did\n\n261\n00:13:09.805 --> 00:13:13.575\nthis I probably can't get to the claims\napp because of the stupid wizard.\n\n262\n00:13:13.575 --> 00:13:15.795\nAll right, well we do have that there,\nwe'll come back to that.\n\n263\n00:13:15.795 --> 00:13:17.365\nI have that set up for domain joins.\n\n264\n00:13:17.365 --> 00:13:19.475\nWe're gonna take a look\nat that as we get done.\n\n265\n00:13:19.475 --> 00:13:22.155\nBut if you remember,\nwe actually can sneak a peek at it.\n\n266\n00:13:22.155 --> 00:13:26.515\nWe'll just sneak a peek at it from\na different vantage point on our.\n\n267\n00:13:28.848 --> 00:13:32.010\nPLABDM01 machine,\njust where I'm hosting IIS.\n\n268\n00:13:32.010 --> 00:13:35.970\nI've set up the claims-aware app, that's\nthe app that we previewed in Windows 8\n\n269\n00:13:35.970 --> 00:13:38.020\nwhere we logged in\nthrough the web browser.\n\n270\n00:13:38.020 --> 00:13:41.430\nWe saw the logon page for\nthe claims app, we talked about that,\n\n271\n00:13:41.430 --> 00:13:44.990\nthen we previewed the federation\nmetedata through Windows 8 as well.\n\n272\n00:13:44.990 --> 00:13:48.740\nBut you can see the claims app is\nsitting there as app uploaded or\n\n273\n00:13:48.740 --> 00:13:50.940\nsetup underneath our default website.\n\n274\n00:13:50.940 --> 00:13:54.860\nSo we have that capability,\nwhich means we can do the following.\n\n275\n00:13:55.890 --> 00:14:00.030\nWe can come over here, we can put\nin the federation metadata address.\n\n276\n00:14:00.030 --> 00:14:03.750\nWe've tested this address if you\nremember and talked about it already.\n\n277\n00:14:03.750 --> 00:14:05.700\nSo we can go in and enter it here.\n\n278\n00:14:05.700 --> 00:14:09.060\nSo I'm gonna go ahead and\nI'm gonna do the following.\n\n279\n00:14:09.060 --> 00:14:13.910\nHTTPS, remember all of our communication\nIs done through HTTPS right,\n\n280\n00:14:13.910 --> 00:14:17.580\nport 443 we've edited\nthe bindings on the website and\n\n281\n00:14:17.580 --> 00:14:21.090\nset that up, added our certificate in and\nvalidated all of that.\n\n282\n00:14:21.090 --> 00:14:23.670\nAll of that prework was done,\nwe talked about that already.\n\n283\n00:14:23.670 --> 00:14:26.195\nSo all of that stuff is\nhappening behind the scenes,\n\n284\n00:14:26.195 --> 00:14:29.515\nas part of our ramp up to get ready\nto be able to do this, right.\n\n285\n00:14:29.515 --> 00:14:34.765\nSo we need to specify our path here, so\nthis is PLABDM01, the machine I was just,\n\n286\n00:14:34.765 --> 00:14:38.155\nand showing you where\nthe claims-aware app is being hosted.\n\n287\n00:14:38.155 --> 00:14:43.730\nSo I'll put in the FQDN,\nthat will be practicelabs.com,\n\n288\n00:14:43.730 --> 00:14:48.320\nmake sure we spelled correctly, and\nthen our claims-aware app name.\n\n289\n00:14:48.320 --> 00:14:52.460\nIn this case, our directory is called\nclaims app, keeping it very simple here,\n\n290\n00:14:52.460 --> 00:14:54.660\nso we don't have any mystery\nabout what we're doing.\n\n291\n00:14:54.660 --> 00:14:56.810\nRemember in the real world,\nyou may have a different name,\n\n292\n00:14:56.810 --> 00:14:59.090\nI would hope you would have\na different name for the app.\n\n293\n00:14:59.090 --> 00:15:01.060\nWe're just keeping it very\nsimple here to keep it easy for\n\n294\n00:15:01.060 --> 00:15:04.350\nyou to keep track of things and\njust have a sense to what we're doing.\n\n295\n00:15:04.350 --> 00:15:06.850\nSo we're putting in our\nURL essentially there.\n\n296\n00:15:06.850 --> 00:15:11.940\nWe're gonna click next, give that just a\nsecond, let's get down there and do that.\n\n297\n00:15:11.940 --> 00:15:14.060\nNow we have to give it a display name.\n\n298\n00:15:14.060 --> 00:15:17.910\nThis is just metadata, it's descriptive\ndata, I could call this Mickey Mouse,\n\n299\n00:15:17.910 --> 00:15:21.610\nI could call this Mike loves Mountain Dew,\nright, or whatever.\n\n300\n00:15:21.610 --> 00:15:24.860\nIt doesn't really matter what, but\nwe talked about the fact that we wanna\n\n301\n00:15:24.860 --> 00:15:28.780\nhave a naming convention that's\nconsistent around these kind of things.\n\n302\n00:15:28.780 --> 00:15:32.740\nRemember, we named our rule\nLDAP outgoing attribute rule so\n\n303\n00:15:32.740 --> 00:15:34.650\nwe knew what we were doing with the rule.\n\n304\n00:15:34.650 --> 00:15:38.370\nSo giving the name some sort of\npurpose is gonna be helpful to us.\n\n305\n00:15:38.370 --> 00:15:41.686\nSo that way,\nif we have more than one of these trusts,\n\n306\n00:15:41.686 --> 00:15:45.244\nwe can keep track of what they are,\nwhat they're doing.\n\n307\n00:15:45.244 --> 00:15:49.172\nMike reminded us as we were talking in\na couple of the past episodes about\n\n308\n00:15:49.172 --> 00:15:53.756\nthe importance of certificate naming,\nso that we can understand, for instance,\n\n309\n00:15:53.756 --> 00:15:58.209\nif we have multiple certificates Which\ncertificate using that preview option is\n\n310\n00:15:58.209 --> 00:16:00.060\nthe right one to make the choice.\n\n311\n00:16:00.060 --> 00:16:02.490\nBecause we may lose sight\nof what we're doing.\n\n312\n00:16:02.490 --> 00:16:06.410\nAnd if we choose incorrectly here or\nchoose poorly, it means more work for\n\n313\n00:16:06.410 --> 00:16:08.250\nus to unwind things and\nhave to redo them, right?\n\n314\n00:16:08.250 --> 00:16:10.140\nSo wanna make sure we're\ngonna keep that in mind.\n\n315\n00:16:10.140 --> 00:16:14.740\nSo having said that,\nI'll call this PracticeLabsTestApp, right?\n\n316\n00:16:14.740 --> 00:16:18.830\nJust because that's essentially what\nwe're setting up here is a test.\n\n317\n00:16:18.830 --> 00:16:22.545\nAnd we're using an app, so that's\nkind of aptly named, no pun intended.\n\n318\n00:16:22.545 --> 00:16:24.850\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so PracticeLabsTestApp.\n\n319\n00:16:24.850 --> 00:16:28.140\nYou'll hopefully come up with a name\nthat makes sense in your world.\n\n320\n00:16:28.140 --> 00:16:30.100\nAll right, so we're gonna click Next.\n\n321\n00:16:30.100 --> 00:16:33.890\nBy the way, I don't tend to\ndo this when I'm demoing, but\n\n322\n00:16:33.890 --> 00:16:38.030\nin the real world, the notes field here is\nreally good for you to take advantage of.\n\n323\n00:16:38.030 --> 00:16:39.540\nAgain, think about metadata.\n\n324\n00:16:39.540 --> 00:16:43.710\nThis is where you could say, hey,\nAdam created this on, or I did this for\n\n325\n00:16:43.710 --> 00:16:46.000\nthis reason on this day and\ntime kind of thing.\n\n326\n00:16:46.000 --> 00:16:47.020\nWhatever you think is appropriate.\n\n327\n00:16:47.020 --> 00:16:50.070\nBut it's great way to add a little\nbit of descriptive detail in there\n\n328\n00:16:50.070 --> 00:16:53.961\nthat can be helpful later when you're\nlooking back at this in six months going\n\n329\n00:16:53.961 --> 00:16:56.477\nwhat the hell was I thinking and\nwhy did I do this?\n\n330\n00:16:56.477 --> 00:16:57.760\nI have no idea.\n\n331\n00:16:57.760 --> 00:17:01.965\nNow, the down side is, of course,\nyou could see that when I went to the next\n\n332\n00:17:01.965 --> 00:17:05.290\nscreen and then I came back,\nit does not save the change on the name.\n\n333\n00:17:05.290 --> 00:17:08.370\nSo just keep in mind that you do\nhave to bear that in mind if you're\n\n334\n00:17:08.370 --> 00:17:09.240\nthinking about doing this.\n\n335\n00:17:09.240 --> 00:17:12.340\nYou may wanna make those\nchanges all in one time here.\n\n336\n00:17:12.340 --> 00:17:15.700\nLet me just rename this real\nquick while we're doing that.\n\n337\n00:17:15.700 --> 00:17:18.440\nAll right, the real world, always\nimportant to know about the real world.\n\n338\n00:17:18.440 --> 00:17:21.760\nAll right, so you may wanna put\na note in here is all I'm suggesting.\n\n339\n00:17:21.760 --> 00:17:23.920\nThat's up to you, right?\n\n340\n00:17:23.920 --> 00:17:27.160\nWhatever it may be, but just a good way\nfor you to document certain things.\n\n341\n00:17:27.160 --> 00:17:28.400\nAll right, so we'll click Next there.\n\n342\n00:17:29.480 --> 00:17:31.870\nAll right, so\nconfigure multi-factor authentication.\n\n343\n00:17:31.870 --> 00:17:34.660\nIf you remember,\none of the things we talked about, and\n\n344\n00:17:34.660 --> 00:17:38.900\nI spoke about as kind of a new\nfeature in 12R2 with ADFS,\n\n345\n00:17:38.900 --> 00:17:43.520\nin our first episode so\nmany years ago when we got started, right?\n\n346\n00:17:43.520 --> 00:17:45.371\nMike was a lot taller back then,\nby the way.\n\n347\n00:17:45.371 --> 00:17:46.913\n&gt;&gt; [LAUGH]\n&gt;&gt; He shrunk like a good three inches\n\n348\n00:17:46.913 --> 00:17:48.320\nbefore we got through all this.\n\n349\n00:17:48.320 --> 00:17:50.640\nIs that we do now support\nmultifactor authentication.\n\n350\n00:17:50.640 --> 00:17:52.960\nThis is one of the cool\nthings that we do now do,\n\n351\n00:17:52.960 --> 00:17:56.010\nthat we have the ability to do with 12R2.\n\n352\n00:17:56.010 --> 00:17:59.527\nSo, just keep in mind that we're seeing\nthis because this is a newly supported,\n\n353\n00:17:59.527 --> 00:18:01.040\nnewly added feature for 12R2.\n\n354\n00:18:01.040 --> 00:18:04.694\nAnd we have the ability to deploy\nmulti-factor authentication if we\n\n355\n00:18:04.694 --> 00:18:05.350\nchoose to.\n\n356\n00:18:05.350 --> 00:18:08.860\nYou'll see here I do not wanna\nconfigure multi-factor right now.\n\n357\n00:18:08.860 --> 00:18:10.020\nThat's our default choice.\n\n358\n00:18:10.020 --> 00:18:12.870\nRemember, default choice is\nusually good to be aware of in\n\n359\n00:18:12.870 --> 00:18:14.220\nregards of exam preparation.\n\n360\n00:18:14.220 --> 00:18:18.740\nIf you're gonna set that up,\nyou configure it now.\n\n361\n00:18:18.740 --> 00:18:21.470\nYou could just change that setting here.\n\n362\n00:18:21.470 --> 00:18:24.220\nAnd notice,\nwe do then add some additional stuff here.\n\n363\n00:18:24.220 --> 00:18:26.020\nWe can go in and configure that.\n\n364\n00:18:26.020 --> 00:18:28.240\nWe'll have the ability to be able\nto configure it in the next step,\n\n365\n00:18:28.240 --> 00:18:29.660\nin other words, right there.\n\n366\n00:18:29.660 --> 00:18:34.330\nBut if we do not want to, we simply just\nroll that up and it gets rid of that.\n\n367\n00:18:34.330 --> 00:18:36.290\nAnd we can always go back and\nset that up later.\n\n368\n00:18:36.290 --> 00:18:38.820\nWe're not gonna choose to set that up now,\nbut\n\n369\n00:18:38.820 --> 00:18:42.020\nI'm just pointing out that you can take\nadvantage of that if you would choose to.\n\n370\n00:18:42.020 --> 00:18:45.370\nBut let me just show you what the screen\nwill look like in terms of the choices you\n\n371\n00:18:45.370 --> 00:18:46.350\nmake there.\n\n372\n00:18:46.350 --> 00:18:49.030\nYou'll see Global multi-factor\nauthentication settings\n\n373\n00:18:49.030 --> 00:18:50.940\nwill apply to this relying party trust.\n\n374\n00:18:50.940 --> 00:18:52.700\nJust warning us of that.\n\n375\n00:18:52.700 --> 00:18:56.840\nNotice, we have users or groups there\nthat will then kind of have a pick list.\n\n376\n00:18:56.840 --> 00:18:58.660\nWe'll sign what we wanna do.\n\n377\n00:18:58.660 --> 00:19:00.910\nDevices as well as locations.\n\n378\n00:19:00.910 --> 00:19:03.792\nWe'll be making some choices about\nhow we wanna apply that, right?\n\n379\n00:19:03.792 --> 00:19:05.730\nAll right, so we're gonna go through here.\n\n380\n00:19:05.730 --> 00:19:06.990\nLet's go back.\n\n381\n00:19:06.990 --> 00:19:08.530\nSo we're not gonna set that up right now.\n\n382\n00:19:08.530 --> 00:19:09.290\nAnd essentially,\n\n383\n00:19:09.290 --> 00:19:11.730\nthis pick list right here is what\nwe're populating on the next screen.\n\n384\n00:19:11.730 --> 00:19:13.020\nAll right, so we're gonna go there.\n\n385\n00:19:13.020 --> 00:19:17.670\nNow, what we're gonna do is\ndecide whether or not, or\n\n386\n00:19:17.670 --> 00:19:23.870\nwhat kind of issuance\nauthorization we're gonna use.\n\n387\n00:19:23.870 --> 00:19:28.650\nAre we permitting, or denying our users\nto be able to access this relying party?\n\n388\n00:19:28.650 --> 00:19:32.440\nIn other words,\njust like any kind of any gateway device,\n\n389\n00:19:32.440 --> 00:19:36.970\njust like any kind of solution that is\ngoing to vet and validate based on some\n\n390\n00:19:36.970 --> 00:19:41.240\nsort of set of rules, ultimately we have\nto create the rules and then ascribe\n\n391\n00:19:41.240 --> 00:19:46.160\nan action to the outcome of that\nvalidation or that filtering activity.\n\n392\n00:19:46.160 --> 00:19:48.470\nHey, all traffic looks like this, allow.\n\n393\n00:19:48.470 --> 00:19:50.730\nAll traffic looks like this, deny.\n\n394\n00:19:50.730 --> 00:19:54.430\nEvery one of those rule statements must\nhave an action associated with it.\n\n395\n00:19:54.430 --> 00:19:57.250\nAnd so we're being asked here\nessentially to be able to make that\n\n396\n00:19:57.250 --> 00:19:57.940\ndetermination, right?\n\n397\n00:19:57.940 --> 00:19:59.910\nAre we permitting or are we denying?\n\n398\n00:19:59.910 --> 00:20:03.510\nThere's really not many other actions\nat all to get associated here.\n\n399\n00:20:03.510 --> 00:20:06.814\nI think it would be great if we saw\na third option that says you know,\n\n400\n00:20:06.814 --> 00:20:08.350\nI have no clue what I want to do.\n\n401\n00:20:08.350 --> 00:20:12.128\nI'm not real happy with this user,\nso I'm going to let them sit there.\n\n402\n00:20:12.128 --> 00:20:14.405\n&gt;&gt; And then if they piss me off\nI'm just going to deny them.\n\n403\n00:20:14.405 --> 00:20:15.730\n[LAUGH]\n&gt;&gt; It would be great if we had\n\n404\n00:20:15.730 --> 00:20:19.330\nan option like that, but clearly\nthat's not gonna happen, all right so-\n\n405\n00:20:19.330 --> 00:20:20.440\n&gt;&gt; I'm gonna write an if statement in\n\n406\n00:20:20.440 --> 00:20:24.550\nthere that says if they provide\nMountain Dew, then allow access.\n\n407\n00:20:24.550 --> 00:20:25.110\n&gt;&gt; See, I like that.\n\n408\n00:20:25.110 --> 00:20:28.040\nThat would be the Mountain Dew option.\n\n409\n00:20:28.040 --> 00:20:31.040\nAll right, so permit all users\nto access this reliant party.\n\n410\n00:20:31.040 --> 00:20:32.050\nNotice the default.\n\n411\n00:20:32.050 --> 00:20:37.520\nThe thought process being we don't go to\nall this trouble typically to deny users.\n\n412\n00:20:37.520 --> 00:20:40.050\nWe'd rather go to all this\ntrouble to allow a subset, right,\n\n413\n00:20:40.050 --> 00:20:42.040\nof users of some sort of group in.\n\n414\n00:20:42.040 --> 00:20:46.790\nSo we're going to specify, right,\nin this case all users denied or allowed.\n\n415\n00:20:46.790 --> 00:20:49.470\nPermit all users to access\nthis relying party.\n\n416\n00:20:49.470 --> 00:20:53.990\nThis issuance rule will be configured\nto permit any, all users same thing,\n\n417\n00:20:53.990 --> 00:20:56.735\nto access this relying party,\nrelying party service.\n\n418\n00:20:56.735 --> 00:21:01.460\nMay still deny the user access, because\nremember the claims may not match up.\n\n419\n00:21:01.460 --> 00:21:05.970\nAll we're doing is essentially creating\na pathway that says hey, go over\n\n420\n00:21:05.970 --> 00:21:11.020\nthere if you wanna get to the relying\nparty and access the claims aware app.\n\n421\n00:21:11.020 --> 00:21:13.920\nThis is the bridge or\nthe pathway that lets you go.\n\n422\n00:21:13.920 --> 00:21:15.680\nWhich makes sense by default.\n\n423\n00:21:15.680 --> 00:21:18.570\nBut what we're doing is essentially,\nliterally,\n\n424\n00:21:18.570 --> 00:21:23.920\nwe're moving the bar back one level with\nregards to allow or deny activity and\n\n425\n00:21:23.920 --> 00:21:27.920\noutcome, cuz we're simply building\nthe pathway up to the door of the app.\n\n426\n00:21:27.920 --> 00:21:32.490\nIt's now gonna be up to the relying party\nand the relying party's application\n\n427\n00:21:32.490 --> 00:21:36.850\nto make the ultimate decision based on\nassessment of claims and validation or\n\n428\n00:21:36.850 --> 00:21:41.250\ndenial of those claims as to whether or\nnot we allow or ultimately deny access.\n\n429\n00:21:41.250 --> 00:21:44.000\nAnd so what his choice is reminding us of\n\n430\n00:21:44.000 --> 00:21:47.380\nis that it's okay to allow all\nusers to knock on the door, but\n\n431\n00:21:47.380 --> 00:21:49.900\nthat doesn't mean we have to open\nthe door for every user, right?\n\n432\n00:21:49.900 --> 00:21:53.090\nIf they have Mountain Dew in hand,\nthen Mike says we allow them.\n\n433\n00:21:53.090 --> 00:21:55.380\nBut if they don't,\nMike says get rid of them.\n\n434\n00:21:55.380 --> 00:21:55.900\nWe don't like them.\n\n435\n00:21:55.900 --> 00:21:56.617\n&gt;&gt; No one's home, go away.\n\n436\n00:21:56.617 --> 00:21:58.320\n[LAUGH]\n&gt;&gt; Don't let them in, right?\n\n437\n00:21:58.320 --> 00:21:59.697\nSo that's what we're doing here.\n\n438\n00:21:59.697 --> 00:22:01.621\nIt's not that hey,\nwe're permitting all and\n\n439\n00:22:01.621 --> 00:22:03.408\neverybody automatically gets to the app.\n\n440\n00:22:03.408 --> 00:22:04.750\nQuite the opposite.\n\n441\n00:22:04.750 --> 00:22:07.860\nWe're permitting all,\nallowing them to walk up to the app.\n\n442\n00:22:07.860 --> 00:22:11.120\nBut they have to make their case and\nprove that they belong there, or\n\n443\n00:22:11.120 --> 00:22:14.140\nthe application, the relying party,\nwill deny them access and\n\n444\n00:22:14.140 --> 00:22:16.320\nessentially deny the claim and\nnot allow them access.\n\n445\n00:22:16.320 --> 00:22:20.470\nSo just wanna make sure we're clear on\nwhat's happening here and what we're\n\n446\n00:22:20.470 --> 00:22:25.700\nspecifying and doing, and what we are not\nspecifying or doing by making this choice.\n\n447\n00:22:25.700 --> 00:22:28.640\nThat's why the default\nis permit all users.\n\n448\n00:22:28.640 --> 00:22:32.490\nBecause we're not allowing all users in,\nwe're simply allowing all users a pathway,\n\n449\n00:22:32.490 --> 00:22:35.830\nan opportunity,\nto be able to make their case and\n\n450\n00:22:35.830 --> 00:22:38.810\ndecide whether they should be\nlet in at a different point.\n\n451\n00:22:38.810 --> 00:22:40.290\nThat's what this setting does.\n\n452\n00:22:40.290 --> 00:22:41.400\nSo just make sure you're aware of that.\n\n453\n00:22:41.400 --> 00:22:43.140\nAll right, so\nwe're gonna make our choice here.\n\n454\n00:22:44.550 --> 00:22:45.830\nClick Next.\n\n455\n00:22:45.830 --> 00:22:49.810\nAll right, now, readying to add the trust.\n\n456\n00:22:49.810 --> 00:22:52.780\nWe've got all of our options here.\n\n457\n00:22:52.780 --> 00:22:55.100\nIt says relying party\ntrust has been configured.\n\n458\n00:22:55.100 --> 00:22:57.100\nReview following settings, click Next.\n\n459\n00:22:57.100 --> 00:22:58.490\nSo this one happens to be a tab,\n\n460\n00:22:58.490 --> 00:23:01.580\nbecause there's like a million and\none tabs here for various things.\n\n461\n00:23:01.580 --> 00:23:06.585\nBut it's just a tab based group of\nsettings that we can go through and\n\n462\n00:23:06.585 --> 00:23:08.615\nwe can see what's happening.\n\n463\n00:23:08.615 --> 00:23:12.085\nFirst time I saw this, first couple of\ntimes customers have been through this,\n\n464\n00:23:12.085 --> 00:23:15.766\nI pause cuz something like, my God, now I\ngot another five things I gotta configure.\n\n465\n00:23:15.766 --> 00:23:17.275\n&gt;&gt; [LAUGH]\n&gt;&gt; What the heck is going on with this?\n\n466\n00:23:17.275 --> 00:23:19.045\nAnd I get a couple of phone calls every so\noften, hey,\n\n467\n00:23:19.045 --> 00:23:20.455\nwhat's going on with this whole tab thing?\n\n468\n00:23:20.455 --> 00:23:23.795\nDo we have a whole bunch or stuff to do, I\nthought you said it was pretty simple and\n\n469\n00:23:23.795 --> 00:23:27.410\njust follow this five steps or so\nin these other areas and we're done?\n\n470\n00:23:27.410 --> 00:23:30.270\nAnd you are but just the way\nthey chose to present this GUI\n\n471\n00:23:30.270 --> 00:23:33.100\nmakes you almost think there's\na bunch of other stuff happening.\n\n472\n00:23:33.100 --> 00:23:36.800\n&gt;&gt; Have you ever gone through and\nsaid in that initial screen\n\n473\n00:23:36.800 --> 00:23:39.900\ndo I want import this stuff or\ndo I wanna enter the data manually?\n\n474\n00:23:39.900 --> 00:23:41.740\nChoose manual, get to this screen.\n\n475\n00:23:41.740 --> 00:23:43.429\n&gt;&gt; And then you've gotta do everything.\n\n476\n00:23:43.429 --> 00:23:45.800\n&gt;&gt; And now you're like wait,\nback, back, back, back, back.\n\n477\n00:23:45.800 --> 00:23:46.360\nLet me import that, yeah.\n\n478\n00:23:46.360 --> 00:23:49.255\nCuz otherwise you've gotta\ntype all this data in and And\n\n479\n00:23:49.255 --> 00:23:54.280\nthose URLs that's just a typo waiting to\nhappen and then everything's gonna break.\n\n480\n00:23:54.280 --> 00:23:57.540\n&gt;&gt; It is and so for instance to your\npoint about a typo waiting to happen so\n\n481\n00:23:57.540 --> 00:24:00.740\nyou'll look at the relying\nparty's federation meta data URL.\n\n482\n00:24:00.740 --> 00:24:04.260\nWhich you saw me enter remember we copied,\nput it in notepad, blew it up so\n\n483\n00:24:04.260 --> 00:24:05.020\nyou could see it.\n\n484\n00:24:05.020 --> 00:24:09.120\nWe did the demo of that and checked\nthe validity of the configuration with\n\n485\n00:24:09.120 --> 00:24:13.660\nthe Windows 8 web browser, and you could\nsee that if you mistype one item there,\n\n486\n00:24:14.840 --> 00:24:17.940\nessentially you're gonna go off\ninto space and it's not gonna work.\n\n487\n00:24:17.940 --> 00:24:20.930\nYou could see for identifiers here,\nwe have another URL,\n\n488\n00:24:20.930 --> 00:24:24.370\nthat's the one we put in and provided.\n\n489\n00:24:24.370 --> 00:24:27.908\nYou could see for encryption, we're\nnot doing any information right now on\n\n490\n00:24:27.908 --> 00:24:31.516\nthe encryption area, but you could see\nthere's a bunch of stuff here right?\n\n491\n00:24:31.516 --> 00:24:34.628\nThat would potentially\nhave to be specified or\n\n492\n00:24:34.628 --> 00:24:38.320\nWS federation end point is provided here.\n\n493\n00:24:38.320 --> 00:24:41.845\nAnd so you could see,\nwe have all that information, right.\n\n494\n00:24:41.845 --> 00:24:45.620\n[COUGH] So you know there is stuff\nthat you would have to provide.\n\n495\n00:24:45.620 --> 00:24:48.860\nSo it's usually better to be able to\nbring this in through that URL or\n\n496\n00:24:48.860 --> 00:24:49.730\nthrough a file, it's up to you.\n\n497\n00:24:49.730 --> 00:24:52.042\n&gt;&gt; Especially because this is usually\nlike we're doing it in a lab environment.\n\n498\n00:24:52.042 --> 00:24:54.764\nIt's easy we can flip over to\nthe other server and get that,\n\n499\n00:24:54.764 --> 00:24:58.359\nwe have to in the real world, we're gonna\nbe getting this information from our\n\n500\n00:24:58.359 --> 00:25:00.809\nfederation partner, so\nthere's a lot of chances for\n\n501\n00:25:00.809 --> 00:25:03.891\nthat information to get [CROSSTALK]\n&gt;&gt; Yeah if they give you the incorrect\n\n502\n00:25:03.891 --> 00:25:04.560\ninformation.\n\n503\n00:25:04.560 --> 00:25:07.670\n&gt;&gt; Yeah, you wrote it down wrong\noff the phone call that you got.\n\n504\n00:25:07.670 --> 00:25:10.680\nThere's just a lot of things go wrong,\nso I love the idea of, hey,\n\n505\n00:25:10.680 --> 00:25:13.390\njust give me that file and\nlet me import that information.\n\n506\n00:25:13.390 --> 00:25:14.480\n&gt;&gt; It does make it easier.\n\n507\n00:25:14.480 --> 00:25:15.970\n&gt;&gt; Right.\n\n508\n00:25:15.970 --> 00:25:18.780\n&gt;&gt; All right, so notice here we have\nour little, you click kinda Finish,\n\n509\n00:25:18.780 --> 00:25:20.330\nit does its thing, it's very quick.\n\n510\n00:25:20.330 --> 00:25:23.509\nBut you'll notice we have the open\nthe edit claim rule dialogue for\n\n511\n00:25:23.509 --> 00:25:25.620\nthis relying party when the wizard closes.\n\n512\n00:25:25.620 --> 00:25:29.440\nSo we're gonna leave that check box\nselected, we'll click close there.\n\n513\n00:25:29.440 --> 00:25:32.100\nAnd you see we get the edit claim rules.\n\n514\n00:25:32.100 --> 00:25:34.000\nLet's move this over\njust before we do that.\n\n515\n00:25:34.000 --> 00:25:37.260\nYou can see down here our reliant\nparty trust has been configured.\n\n516\n00:25:37.260 --> 00:25:38.450\nSo you could see it right there.\n\n517\n00:25:39.880 --> 00:25:42.580\nAnd remember, we talked about the fact\nthat we had rules on the claim\n\n518\n00:25:42.580 --> 00:25:43.640\nprovider trust.\n\n519\n00:25:43.640 --> 00:25:44.820\nSame idea here, right?\n\n520\n00:25:44.820 --> 00:25:48.468\nSetting up the trust is really just the\nbeginning, because now without any rules\n\n521\n00:25:48.468 --> 00:25:51.684\nas you could see, we have no rules by\ndefault on the relying party side,\n\n522\n00:25:51.684 --> 00:25:54.387\nunlike on the claim provider side,\nwhere we had ten rules-\n\n523\n00:25:54.387 --> 00:25:55.131\n&gt;&gt; Mm-hm.\n\n524\n00:25:55.131 --> 00:25:57.690\n&gt;&gt; Right,\nsitting there by default out of the box.\n\n525\n00:25:57.690 --> 00:25:58.980\nHere, we have no rules.\n\n526\n00:25:58.980 --> 00:26:03.020\nSo we have to go in now, and\npotentially add in claim rules.\n\n527\n00:26:03.020 --> 00:26:06.458\nIf we don't do that, then the matching\nclaim rules that have to be in place on\n\n528\n00:26:06.458 --> 00:26:10.078\nthe relying party side to accept the\nclaims that we've essentially provided.\n\n529\n00:26:10.078 --> 00:26:14.284\nOr spun up and have said, hey, we wanna\nprovide through the claim provider trust,\n\n530\n00:26:14.284 --> 00:26:18.189\nare not gonna be matched, and we're not\ngonna be able to talk to each other and\n\n531\n00:26:18.189 --> 00:26:19.560\nvalidate anything.\n\n532\n00:26:19.560 --> 00:26:22.264\nSo the good news is we're very secure\nright now, because nobody is getting in.\n\n533\n00:26:22.264 --> 00:26:23.229\n&gt;&gt; [LAUGH]\n&gt;&gt; But the bad news is\n\n534\n00:26:23.229 --> 00:26:26.350\nwe're very secure right now,\nand nobody is getting in.\n\n535\n00:26:26.350 --> 00:26:30.490\nSo we may wanna actually modify that\nbecause I'm thinking that the conversation\n\n536\n00:26:30.490 --> 00:26:33.140\nbetween us on our federation partner was,\nyeah this will be a good idea.\n\n537\n00:26:33.140 --> 00:26:34.106\nWe should actually allow this.\n\n538\n00:26:34.106 --> 00:26:35.740\n&gt;&gt; Yes\n&gt;&gt; As oppose to, this will be a good idea,\n\n539\n00:26:35.740 --> 00:26:37.669\ndo all that work and\nthen we're just not gonna play nice.\n\n540\n00:26:37.669 --> 00:26:38.640\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n541\n00:26:38.640 --> 00:26:41.500\nyou wanna finish the circle here is\nwhat I'm suggesting to you, right?\n\n542\n00:26:41.500 --> 00:26:45.050\nSo notice, no rules by default,\nbut that's okay, no big deal, but\n\n543\n00:26:45.050 --> 00:26:47.389\nnotice the three kinds\nof rules that we have.\n\n544\n00:26:47.389 --> 00:26:54.110\nUnlike on the claim provider trust side,\nwhere we had the accepted transform rules.\n\n545\n00:26:54.110 --> 00:26:55.240\nWe have three types here.\n\n546\n00:26:55.240 --> 00:26:57.940\nWe have issuance transform rules.\n\n547\n00:26:57.940 --> 00:26:59.560\nWhen I say types, I mean the tabs.\n\n548\n00:26:59.560 --> 00:27:03.170\nEach tab represents a type\nof rule that we can create.\n\n549\n00:27:03.170 --> 00:27:06.820\nWe have issuance authorization rules,\njust clicking here.\n\n550\n00:27:06.820 --> 00:27:10.000\nThat's the one we already populated,\npermit access to all users.\n\n551\n00:27:10.000 --> 00:27:11.540\nRemember, we made that choice.\n\n552\n00:27:11.540 --> 00:27:15.330\nSo that gives us the pathway to\nessentially walk up to the door.\n\n553\n00:27:15.330 --> 00:27:18.790\nAs we talked about, and\nthen delegation authorization rules.\n\n554\n00:27:18.790 --> 00:27:23.674\nSo we have three categories or\ntypes of rules that are available to us,\n\n555\n00:27:23.674 --> 00:27:25.140\nright, that we can work with.\n\n556\n00:27:25.140 --> 00:27:27.780\nIt's important for\nus just to make sure we're aware of this.\n\n557\n00:27:27.780 --> 00:27:32.464\nThe issuance transform rules, these\nare gonna be helping us to understand\n\n558\n00:27:32.464 --> 00:27:36.770\ndefine the claims that have been\nsent from the, or sent to, rather,\n\n559\n00:27:36.770 --> 00:27:40.760\nthe underlying party from\nthe claim's provider trust.\n\n560\n00:27:40.760 --> 00:27:42.910\nSo I just wanna make sure or\n\n561\n00:27:42.910 --> 00:27:45.740\nthrough the relying party trust that\nwe're getting is what I mean to say.\n\n562\n00:27:45.740 --> 00:27:49.270\nSo I just wanna make sure that we\nunderstand what this particular set of\n\n563\n00:27:49.270 --> 00:27:51.810\nrules are, and we'll go through and\njust talk about each one in a minute.\n\n564\n00:27:51.810 --> 00:27:54.630\nBut you can see we have the rule here,\nthis should look familiar to you,\n\n565\n00:27:54.630 --> 00:27:57.224\nthis is the other side of what we\ndid on the claims provider trust.\n\n566\n00:27:57.224 --> 00:27:58.145\n&gt;&gt; That's right.\n&gt;&gt; If you wanna\n\n567\n00:27:58.145 --> 00:27:59.550\nthink about the logic of that.\n\n568\n00:27:59.550 --> 00:28:03.380\nThis is where we map those claims and\nmake sure we understand what they are, and\n\n569\n00:28:03.380 --> 00:28:05.640\nwe'll take a look at\nthis in just a moment.\n\n570\n00:28:05.640 --> 00:28:07.530\nSo we have this rule here.\n\n571\n00:28:07.530 --> 00:28:10.770\nWe have the issuance authorization rule,\nwe talked about this already.\n\n572\n00:28:10.770 --> 00:28:14.420\nThis is what gives us the ability to\ndefine whether users are permitted or\n\n573\n00:28:14.420 --> 00:28:17.190\ndenied access to make their case,\nso to speak, and\n\n574\n00:28:17.190 --> 00:28:22.650\npresent claims and validate who they are,\nso we talked about this.\n\n575\n00:28:22.650 --> 00:28:27.770\nAnd then, the delegation\nauthorization rules right here,\n\n576\n00:28:27.770 --> 00:28:32.720\nthis allows us to claim or define claims\nthat's specify which users can act on\n\n577\n00:28:32.720 --> 00:28:35.690\nbehalf of other users, think about\nwhat delegation implies, right?\n\n578\n00:28:35.690 --> 00:28:38.960\nIf I want to act on behalf of Mike,\n\n579\n00:28:38.960 --> 00:28:43.450\nthen I would need to be defined here in\na delegation authorization rule in such\n\n580\n00:28:43.450 --> 00:28:48.650\na way that my abilities to do that are\nspelled out here and are allowed, right?\n\n581\n00:28:48.650 --> 00:28:50.740\nSo that's what delegation\nrules are all about.\n\n582\n00:28:50.740 --> 00:28:53.480\nSo I just want to make sure\nwe're aware of this, and\n\n583\n00:28:53.480 --> 00:28:54.998\njust have a sense of what's going on here.\n\n584\n00:28:54.998 --> 00:28:58.900\nBecause, again, yet knowing the different\nrule types, really good pivot point,\n\n585\n00:28:58.900 --> 00:29:01.120\nan important point for exam preparation.\n\n586\n00:29:01.120 --> 00:29:03.080\nBut also in the real world,\nfor configuration.\n\n587\n00:29:03.080 --> 00:29:04.610\nIt's very important for\nus to understand and\n\n588\n00:29:04.610 --> 00:29:08.475\nknow what's happening with these\nrules cuz we may need to create\n\n589\n00:29:08.475 --> 00:29:11.795\na set of rules in different areas\nto really get everything working.\n\n590\n00:29:11.795 --> 00:29:15.925\nAnd make sure that everything is going\nto be as they say, copacetic, right?\n\n591\n00:29:15.925 --> 00:29:20.852\nBecause without mapping for instance here,\nour issuance transform rules to insure\n\n592\n00:29:20.852 --> 00:29:23.442\nthe claims that we have\ntalked about had set up and\n\n593\n00:29:23.442 --> 00:29:26.842\nspecified on the claim provider side,\nare gonna be acceptable here.\n\n594\n00:29:26.842 --> 00:29:30.453\nAs I said, we're not going to have anybody\nthat's going to be able to get in and\n\n595\n00:29:30.453 --> 00:29:32.277\nclaim successfully that they belong.\n\n596\n00:29:32.277 --> 00:29:34.933\nWe just wanna, gonna have the\ninfrastructure that would allow them to do\n\n597\n00:29:34.933 --> 00:29:38.200\nthat in place, so it's very important\nto make sure we're aware of that.\n\n598\n00:29:38.200 --> 00:29:40.632\nAll right my good sir, so\nI am seeing that we are-\n\n599\n00:29:40.632 --> 00:29:41.227\n&gt;&gt; We're a little short,\n\n600\n00:29:41.227 --> 00:29:42.460\nyeah, but\nwe still have other ways to get going.\n\n601\n00:29:42.460 --> 00:29:45.014\n&gt;&gt; We are.\nI'm feeling even shorter as time goes by.\n\n602\n00:29:45.014 --> 00:29:46.036\n&gt;&gt; [LAUGH]\n&gt;&gt; But I'm thinking,\n\n603\n00:29:46.036 --> 00:29:49.694\nmaybe we should come back and do the\nclaim, the issuance transform rules and\n\n604\n00:29:49.694 --> 00:29:53.580\nclaim rules as, perhaps, another episode,\njust to spend enough time on them,\n\n605\n00:29:53.580 --> 00:29:55.600\nthough we're not rushing through them.\n\n606\n00:29:55.600 --> 00:29:56.770\n&gt;&gt; I like it, I like it.\n&gt;&gt; Okay.\n\n607\n00:29:56.770 --> 00:29:59.760\n&gt;&gt; Plus, it gives us a little bit of\nthat edge of your seat thing, right?\n\n608\n00:29:59.760 --> 00:30:01.380\nNow, you gotta see those rules.\n\n609\n00:30:01.380 --> 00:30:03.960\nSo we got those claims coming in,\nwhat are we gonna do with them?\n\n610\n00:30:03.960 --> 00:30:05.580\nWe get them, how do we process them,\n\n611\n00:30:05.580 --> 00:30:08.460\nhow do we turn them into\nsomething our site can use\n\n612\n00:30:08.460 --> 00:30:12.500\nto then determine whether they get access\nto, in this case, that app, or whatever.\n\n613\n00:30:12.500 --> 00:30:13.830\nWe're using federation four.\n\n614\n00:30:13.830 --> 00:30:17.380\nSo we will come back and\ntake care of that in our next part.\n\n615\n00:30:17.380 --> 00:30:21.680\nBut for now, signing out for ITProTV,\nI've been your host Mike Rodrick.\n\n616\n00:30:21.680 --> 00:30:24.059\n&gt;&gt; I'm Adam Gordon, and\nwe'll see you next time.\n\n617\n00:30:24.059 --> 00:30:31.868\n[MUSIC]\n\n618\n00:30:31.868 --> 00:30:34.024\n&gt;&gt; Thank you for watching, ITProTV.\n\n",
          "vimeoId": "238768901"
        },
        {
          "description": "Adam and Mike create Issuance Transform Rules for the Relying Party Trust and discuss Workplace Join, as well as demonstrating how to configure multi-factor authentication settings for the AD FS farm after installation is completed.",
          "length": "1525",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-7-implementing-ad-fs_pt7-101717-PGM-CUSTOM_Oct17_11-50-23.00_29_23_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-7-implementing-ad-fs_pt7-101717-PGM-CUSTOM_Oct17_11-50-23.00_29_23_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-8-1-7-implementing-ad-fs_pt7-101717-PGM-CUSTOM_Oct17_11-50-23.00_29_23_26.Still001-sm.jpg",
          "title": "Implementing AD FS Part 7",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:01.389\nWelcome to ITProTV.\n\n2\n00:00:01.389 --> 00:00:03.447\nI'm your host Don Pezet.\n\n3\n00:00:03.447 --> 00:00:06.397\n[CROSSTALK]\n\n4\n00:00:06.397 --> 00:00:08.312\n[MUSIC]\n\n5\n00:00:08.312 --> 00:00:12.271\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.271 --> 00:00:15.904\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n7\n00:00:15.904 --> 00:00:17.363\nI'm your host Mike Rodrick.\n\n8\n00:00:17.363 --> 00:00:23.974\nToday we're doing Windows Server 2012\nR2 in preparation for the 70-412 exam.\n\n9\n00:00:23.974 --> 00:00:27.887\nSpecifically in this episode we're\nimplementing Active Directory Federation\n\n10\n00:00:27.887 --> 00:00:31.406\nServices, this is a multi part,\nwe're on part, Adam help me out here.\n\n11\n00:00:31.406 --> 00:00:36.275\nOne, two, three, four, five, six, seven.\n\n12\n00:00:36.275 --> 00:00:38.085\nAll right,\nI got enough fingers for that one.\n\n13\n00:00:38.085 --> 00:00:41.665\nWe're on part seven in implementing\nour Federation Services.\n\n14\n00:00:41.665 --> 00:00:43.998\nSo we're getting there, I think.\n\n15\n00:00:43.998 --> 00:00:46.633\nAdam tells me that there is\nlight at the end of the tunnel.\n\n16\n00:00:46.633 --> 00:00:51.450\nRemember, the end of the last episode\nwe were on the relying party side.\n\n17\n00:00:51.450 --> 00:00:53.873\nAnd we started taking a look\nat some of our rules and\n\n18\n00:00:53.873 --> 00:00:56.431\nhow we can deal with those\nclaims that are coming in.\n\n19\n00:00:56.431 --> 00:00:58.490\nSo we're gonna pick it\nup where we left off and\n\n20\n00:00:58.490 --> 00:01:00.778\nI'll turn it right back over to Mr.\nAdam Gordon.\n\n21\n00:01:00.778 --> 00:01:01.987\n&gt;&gt; All right, so thank you, Mike.\n\n22\n00:01:01.987 --> 00:01:06.514\nI appreciate you throwing the ball back\nover to me across the proverbial ADFS\n\n23\n00:01:06.514 --> 00:01:07.657\nfence if you will.\n\n24\n00:01:07.657 --> 00:01:11.103\nIf you remember, at the end of the last\nepisode as Mike was describing, not\n\n25\n00:01:11.103 --> 00:01:14.881\nonly were we looking at the relying party\ntrust, we actually had set up the relying\n\n26\n00:01:14.881 --> 00:01:18.854\nparty trust, walked through the wizard but\nwe left off about to edit the claim rules.\n\n27\n00:01:18.854 --> 00:01:22.065\nWe had talked about the rules,\ndefined what the three rule types were,\n\n28\n00:01:22.065 --> 00:01:24.474\nthe issuance transform,\nissuance authorization,\n\n29\n00:01:24.474 --> 00:01:27.916\ndelegation authorization rule sets,\nexplain a little bit about each one.\n\n30\n00:01:27.916 --> 00:01:32.776\nWe're about to go back in and add a rule\nusing our issuance transform rule set.\n\n31\n00:01:32.776 --> 00:01:36.030\nAnd walk through how to map and\ncreate the connectivity and\n\n32\n00:01:36.030 --> 00:01:39.086\nthe association between our\nclaims provider trust and\n\n33\n00:01:39.086 --> 00:01:42.674\nour relying party trust by making\nsure that we can pass through or\n\n34\n00:01:42.674 --> 00:01:47.410\nfilter an incoming claim using this rule\nset, and that's what we're gonna do now.\n\n35\n00:01:47.410 --> 00:01:51.253\nSo join me right here if you will, and\nlet's take a look at how that happens.\n\n36\n00:01:51.253 --> 00:01:55.257\nAll right, so we are on our edit\nclaim rules for our practice labs,\n\n37\n00:01:55.257 --> 00:01:59.923\nreliant party trust that we've created,\nwe've just left the wizard open.\n\n38\n00:01:59.923 --> 00:02:03.650\nWe're gonna go ahead on\nthe issuance transform rule tab,\n\n39\n00:02:03.650 --> 00:02:06.095\nadd a rule, we're gonna click here.\n\n40\n00:02:06.095 --> 00:02:09.964\nI said, when we demoed this quickly, hey,\nthis should look pretty familiar to you,\n\n41\n00:02:09.964 --> 00:02:11.161\nthis is the mirror image.\n\n42\n00:02:11.161 --> 00:02:14.780\nAnd the flip side of what we did on the\nclaims provider trust when we set the rule\n\n43\n00:02:14.780 --> 00:02:16.239\nsets up and edited them there.\n\n44\n00:02:16.239 --> 00:02:17.717\nSo you're gonna see the same options here.\n\n45\n00:02:17.717 --> 00:02:22.292\nBut, instead of send LDAP attributes as\nclaims, we're gonna catch those claims\n\n46\n00:02:22.292 --> 00:02:25.691\nthat are being sent to us through\nthe claims provider trust.\n\n47\n00:02:25.691 --> 00:02:28.895\nSo we're gonna change our\ntemplate rule selection here and\n\n48\n00:02:28.895 --> 00:02:31.663\ngo with pass through our\nfilter an incoming claim.\n\n49\n00:02:31.663 --> 00:02:35.043\nBecause remember they're being\nsent from the claim provider and\n\n50\n00:02:35.043 --> 00:02:37.946\nthe relying party is gonna grab them and\nwork with them.\n\n51\n00:02:37.946 --> 00:02:41.124\nWe rely on them and\nthe provider provides them.\n\n52\n00:02:41.124 --> 00:02:42.589\nIt's amazing how nicely.\n\n53\n00:02:42.589 --> 00:02:43.345\n&gt;&gt; I like that.\n\n54\n00:02:43.345 --> 00:02:45.227\n&gt;&gt; That works out all put together, right?\n\n55\n00:02:45.227 --> 00:02:48.671\nAll right, so on this side, on the relying\nparty we're gonna choose pass through or\n\n56\n00:02:48.671 --> 00:02:49.798\nfilter an incoming claim.\n\n57\n00:02:49.798 --> 00:02:52.253\nSo you see I've chosen\nthat template there.\n\n58\n00:02:52.253 --> 00:02:56.969\nRemember you can read up on the little\ndescriptor a to what each rule template\n\n59\n00:02:56.969 --> 00:02:59.488\ndoes to help you just get a sense of that.\n\n60\n00:02:59.488 --> 00:03:00.571\nI'm gonna click Next.\n\n61\n00:03:00.571 --> 00:03:03.535\nWe have to give ourselves\na rule name as we often do.\n\n62\n00:03:03.535 --> 00:03:09.347\nI'm gonna call this one my\nPass-through Windows account.\n\n63\n00:03:11.838 --> 00:03:13.280\nName rule.\n\n64\n00:03:13.280 --> 00:03:14.945\nAll right, so I'm gonna do that.\n\n65\n00:03:14.945 --> 00:03:16.941\nAnd then incoming claim type.\n\n66\n00:03:16.941 --> 00:03:19.946\nWe're gonna specify what\nthe incoming claim type will be.\n\n67\n00:03:19.946 --> 00:03:23.641\nNotice again we have our huge pick-list\nhere of all of the different claims that\n\n68\n00:03:23.641 --> 00:03:24.646\nare available to us.\n\n69\n00:03:24.646 --> 00:03:29.069\nWhatever we might want to work with,\nremember we had chosen things\n\n70\n00:03:29.069 --> 00:03:32.864\nlike email address, and\ndisplay name and UPN, not SPN.\n\n71\n00:03:32.864 --> 00:03:36.155\nMike's already had a drink before we\ngot started, so he's not thirsty.\n\n72\n00:03:36.155 --> 00:03:38.178\nIf you don't get that humor,\nwell you gotta go back and\n\n73\n00:03:38.178 --> 00:03:39.639\nwatch all the other episodes, right?\n\n74\n00:03:39.639 --> 00:03:41.271\nAll right, so we're gonna go ahead.\n\n75\n00:03:41.271 --> 00:03:43.391\nIn this one,\nI'm gonna choose the Windows Account name.\n\n76\n00:03:43.391 --> 00:03:45.208\nSo, let's just go down here.\n\n77\n00:03:45.208 --> 00:03:48.348\nNow one thing I don't like about this,\nand this is just me, but\n\n78\n00:03:48.348 --> 00:03:51.989\ngive me the list that's like a mile\nlong and then don't alphabetize it.\n\n79\n00:03:51.989 --> 00:03:53.657\nSo that I have no idea where stuff is.\n\n80\n00:03:53.657 --> 00:03:54.381\n&gt;&gt; [LAUGH] Yeah.\n\n81\n00:03:54.381 --> 00:03:57.503\n&gt;&gt; Because if you look at this\nlist it is absolutely random.\n\n82\n00:03:57.503 --> 00:04:00.105\nThey're not alphabetized, they're not\neven close to being alphabetized.\n\n83\n00:04:00.105 --> 00:04:02.728\nIts like somebody just said,\nlet's just drop them, and yeah,\n\n84\n00:04:02.728 --> 00:04:05.503\nwherever they fall that's how you scoop\nthem up and put them in the list.\n\n85\n00:04:05.503 --> 00:04:09.434\nBecause there is absolutely no rhyme or\nreason as to how this list shows up.\n\n86\n00:04:09.434 --> 00:04:11.748\nAll right so, we're gonna choose\nWindows Account Name here.\n\n87\n00:04:11.748 --> 00:04:16.923\nI'm a very bitter person, so I just have\nto vent and bend that every so often.\n\n88\n00:04:16.923 --> 00:04:18.768\nAll right, so\nyou'll see here incoming claim type,\n\n89\n00:04:18.768 --> 00:04:20.085\nI'm choosing Windows Account Name.\n\n90\n00:04:20.085 --> 00:04:25.045\nNow, obviously, we could be choosing\nwhatever claim here that we would like to\n\n91\n00:04:25.045 --> 00:04:30.003\npivot on based on what claim is gonna be\npassed through and what the relying party\n\n92\n00:04:30.003 --> 00:04:34.244\nis going to use as the claim that we\nwill then accept or deny against.\n\n93\n00:04:34.244 --> 00:04:38.809\nRemember, in the trust we laid\nthe foundation by creating the [COUGH]\n\n94\n00:04:38.809 --> 00:04:43.614\nrule that allows us to allow all users,\nor permit all users, to come and\n\n95\n00:04:43.614 --> 00:04:44.835\nprovide claims.\n\n96\n00:04:44.835 --> 00:04:47.345\nBut now we're specifying what\nclaims will be acceptable.\n\n97\n00:04:47.345 --> 00:04:51.207\nSo this is a rule that will appear\ntogether with our other rule that\n\n98\n00:04:51.207 --> 00:04:52.762\nauthorizes user access.\n\n99\n00:04:52.762 --> 00:04:56.527\nAnd together, assuming that we meet the\ncriteria and validate out successfully,\n\n100\n00:04:56.527 --> 00:04:58.367\nin theory we would then be given access.\n\n101\n00:04:58.367 --> 00:05:01.856\nSo we gotta make sure we keep the logic\nof what we're doing in our heads.\n\n102\n00:05:01.856 --> 00:05:05.615\nNow, pass through all claim values\ndown below where we made our decision,\n\n103\n00:05:05.615 --> 00:05:09.971\npass through only a specific claim value,\npass through only claim values that match,\n\n104\n00:05:09.971 --> 00:05:11.581\na specific email suffix value,\n\n105\n00:05:11.581 --> 00:05:15.729\nand/or pass through only claim values\nthat start with a specific value, right?\n\n106\n00:05:15.729 --> 00:05:19.358\nSo we're gonna specify, or\ncan specify here what we may want\n\n107\n00:05:19.358 --> 00:05:22.417\nto use if we wanna be a little\nbit more descriptive or\n\n108\n00:05:22.417 --> 00:05:26.494\nperhaps a little bit more specific\naround acceptance of the claim.\n\n109\n00:05:26.494 --> 00:05:30.602\nWe're just saying Now, essentially, then\ncoming claim, type Windows account name,\n\n110\n00:05:30.602 --> 00:05:32.532\npermit or pass through all claim values.\n\n111\n00:05:32.532 --> 00:05:37.615\nAnything that is provided would\nbe allowed, as opposed to only\n\n112\n00:05:37.615 --> 00:05:42.523\nthe user name, or Windows account\nname of Mike R, for instance,\n\n113\n00:05:42.523 --> 00:05:47.630\nif we were saying, we only want to\nallow Mike as a user potentially.\n\n114\n00:05:47.630 --> 00:05:53.575\nThen we would go here and we would have\nto type in something like Mike R, right?\n\n115\n00:05:53.575 --> 00:05:56.851\nBecause then that would be the specific\nvalue that we're allowing our\n\n116\n00:05:56.851 --> 00:06:00.364\nspecifying mapping for our claim,\nwhat we call the Incoming Claim Value.\n\n117\n00:06:00.364 --> 00:06:04.374\nSo we do have the ability to be very\nprescriptive here, very specific and\n\n118\n00:06:04.374 --> 00:06:05.048\ngranular.\n\n119\n00:06:05.048 --> 00:06:08.632\nIt's up to us, of course,\nas the owner of this infrastructure and\n\n120\n00:06:08.632 --> 00:06:12.353\nthe configuration that's being done\nto decide how we wanna do that.\n\n121\n00:06:12.353 --> 00:06:15.403\nI often have this conversation, get this\nquestion with customers, and with clients.\n\n122\n00:06:15.403 --> 00:06:19.209\nHey, if I need to set this whole setup,\nbut essentially I wanna have just one\n\n123\n00:06:19.209 --> 00:06:23.213\naccount that's gonna be given access\nthrough this federation relationship.\n\n124\n00:06:23.213 --> 00:06:26.754\nAnd can I be specific in grandeur\nenough to be able to do that?\n\n125\n00:06:26.754 --> 00:06:29.887\nThe answer is absolutely, I just have to\nthink about the logic of how I would do\n\n126\n00:06:29.887 --> 00:06:32.848\nthat, and something like a Windows\naccount name would be a good choice.\n\n127\n00:06:32.848 --> 00:06:36.522\nWe could do email address as well, by\nthe way, and we could then be specific and\n\n128\n00:06:36.522 --> 00:06:39.992\nsay, there's a lot of times many\ncompanies will use usernames, right?\n\n129\n00:06:39.992 --> 00:06:43.649\nBut a lot of companies will also use\nemail addresses as the username for\n\n130\n00:06:43.649 --> 00:06:44.586\nlogon purposes.\n\n131\n00:06:44.586 --> 00:06:47.112\nSo we do have that option\nthat we could specify or\n\n132\n00:06:47.112 --> 00:06:49.587\nbe specific about how\nwe wanna approach this.\n\n133\n00:06:49.587 --> 00:06:53.762\nSo I just wanted to show you that, and\njust make sure we have the logic there in\n\n134\n00:06:53.762 --> 00:06:57.118\nour minds or think through\nthe logic of how that may play out.\n\n135\n00:06:57.118 --> 00:07:01.087\nAll right so pass through all claim\nvalues we'll leave the default there,\n\n136\n00:07:01.087 --> 00:07:01.913\nclick Finish.\n\n137\n00:07:01.913 --> 00:07:05.551\nSo we have our rule and remember we can\nstack our rules up, move them up and\n\n138\n00:07:05.551 --> 00:07:07.891\ndown as you saw,\nwe took a look at that as well.\n\n139\n00:07:07.891 --> 00:07:14.086\nAll right, so now we've gone ahead and\nwe've added in our first rule.\n\n140\n00:07:14.086 --> 00:07:14.713\nWhat do you think we should do?\n\n141\n00:07:14.713 --> 00:07:15.995\nI'm thinking maybe add another rule?\n\n142\n00:07:15.995 --> 00:07:16.628\n&gt;&gt; I think so.\n\n143\n00:07:16.628 --> 00:07:18.806\n&gt;&gt; Because maybe just one claim\nmay not be enough, right?\n\n144\n00:07:18.806 --> 00:07:23.159\nMaybe we wanna have more than one claim or\npotentially have the ability to pivot and\n\n145\n00:07:23.159 --> 00:07:26.457\nto investigate based on more than\none claim and allow or deny.\n\n146\n00:07:26.457 --> 00:07:30.548\nSo we may wanna stack up a couple of these\nbecause as you saw each rule is only\n\n147\n00:07:30.548 --> 00:07:32.537\nable to map a single claim, right?\n\n148\n00:07:32.537 --> 00:07:35.068\n&gt;&gt; Right.\n&gt;&gt; So if we had lets say two or three,\n\n149\n00:07:35.068 --> 00:07:39.422\nhey, not just Mike R, but\nMike R for the Windows account name,\n\n150\n00:07:39.422 --> 00:07:44.456\nwith miker@company.com for\nemail address, and the UPN of whatever.\n\n151\n00:07:44.456 --> 00:07:45.140\n&gt;&gt; Right.\n\n152\n00:07:45.140 --> 00:07:47.222\n&gt;&gt; We would have to create three rules,\n\n153\n00:07:47.222 --> 00:07:50.783\neach one mapping that specific\nclaim that we want in the value,\n\n154\n00:07:50.783 --> 00:07:55.710\nin order to be able to create that filter,\nand that's essentially what we're doing.\n\n155\n00:07:55.710 --> 00:07:59.976\nIt's very similar to creating a filter and\nwe're setting up these rules and\n\n156\n00:07:59.976 --> 00:08:02.976\nstacking them so\nthat we can get the amount of claims we\n\n157\n00:08:02.976 --> 00:08:05.930\nwant in specified order\nwith the specified values.\n\n158\n00:08:05.930 --> 00:08:08.935\nSo, I'm thinking we're gonna go ahead,\nwe're gonna add another rule,\n\n159\n00:08:08.935 --> 00:08:11.815\nand we're gonna go ahead and\nadd another claim in.\n\n160\n00:08:11.815 --> 00:08:12.739\nIf you're not thinking the same thing,\n\n161\n00:08:12.739 --> 00:08:14.028\nwell that's unfortunate\ncuz that's what I'm doing.\n\n162\n00:08:14.028 --> 00:08:15.816\n&gt;&gt; [LAUGH]\n&gt;&gt; Go get a cup of coffee,\n\n163\n00:08:15.816 --> 00:08:19.434\nhave a sandwich, come back in five minutes\nand you'll see something else, but\n\n164\n00:08:19.434 --> 00:08:22.430\nI'm gonna add another rule cuz\nI'm the one driving, all right.\n\n165\n00:08:22.430 --> 00:08:25.250\nOne bus driver, lots of people on the bus,\nthat's how it works.\n\n166\n00:08:25.250 --> 00:08:27.750\nAll right, so we're gonna go through run\nthis again, right, do the same thing.\n\n167\n00:08:27.750 --> 00:08:30.960\nNow in the real world, you would\nhave to have mapped all this out.\n\n168\n00:08:30.960 --> 00:08:34.411\nMike made a great point in one of our last\nepisodes about you have to plan all this\n\n169\n00:08:34.411 --> 00:08:38.247\nout with your federation partner, right,\nyour negotiation you were talking about.\n\n170\n00:08:38.247 --> 00:08:41.942\nAnd the fact that, we would wanna\nhave these discussions ahead of time,\n\n171\n00:08:41.942 --> 00:08:45.960\nhave a good sense of what we're doing,\nand then map that out and plan that.\n\n172\n00:08:45.960 --> 00:08:48.620\nSo this will be that little\ncheat sheet you created based on\n\n173\n00:08:48.620 --> 00:08:52.360\nin the negotiation saying, okay, we're\ngonna map these three of four claims and\n\n174\n00:08:52.360 --> 00:08:53.390\nthis is what we need to do.\n\n175\n00:08:53.390 --> 00:08:57.350\nNow you have the playbook and the path for\nthe rules you have to create, cuz now you\n\n176\n00:08:57.350 --> 00:09:00.660\nneed one rule per claim, you have five\nclaims you gotta have five rules, rIght?\n\n177\n00:09:00.660 --> 00:09:02.240\nThat's essentially how it would work.\n\n178\n00:09:02.240 --> 00:09:03.861\nSo you just wanna make\nsure you're aware of that.\n\n179\n00:09:03.861 --> 00:09:06.587\nAll right, so we're gonna go back here,\ndo pass through or\n\n180\n00:09:06.587 --> 00:09:09.280\nfilter on an incoming claim again,\nit's the same.\n\n181\n00:09:09.280 --> 00:09:10.811\nRule template, we're gonna choose.\n\n182\n00:09:11.859 --> 00:09:15.770\nClick Next, give this our claim rule name,\nlet me name this one.\n\n183\n00:09:15.770 --> 00:09:18.798\nWe're gonna do email address for\nthis one, so\n\n184\n00:09:18.798 --> 00:09:21.759\nwe'll do pass-through our email address.\n\n185\n00:09:25.322 --> 00:09:29.000\nOf course, it will help if I probably\nput a space there but don't have to.\n\n186\n00:09:29.000 --> 00:09:34.483\nRemember, this is just the metadata\ndescriptor, right, it's just a name.\n\n187\n00:09:34.483 --> 00:09:36.040\nYou can do with or without spaces.\n\n188\n00:09:36.040 --> 00:09:37.710\nIt's not case sensitive,\nnot with that kind of stuff,\n\n189\n00:09:37.710 --> 00:09:38.720\nyou don't have to worry about that.\n\n190\n00:09:38.720 --> 00:09:40.310\nAll right, so that's your email address.\n\n191\n00:09:40.310 --> 00:09:44.255\nWe'll again, in coming clean type\nof specifier role type here.\n\n192\n00:09:44.255 --> 00:09:47.460\nIn our mind, anyway,\nhopefully in your mind as well, right,\n\n193\n00:09:47.460 --> 00:09:49.400\nwe're gonna specify email address.\n\n194\n00:09:49.400 --> 00:09:50.950\nHopefully, that's not a surprise for you.\n\n195\n00:09:50.950 --> 00:09:53.130\nNice thing is, is that this happens\nto be the one at the top of the list.\n\n196\n00:09:53.130 --> 00:09:56.050\nBut again, no rhyme or reason,\ncuz clearly email address would not\n\n197\n00:09:56.050 --> 00:09:58.190\nbe the first item in an alphabetized list,\nnormally.\n\n198\n00:09:58.190 --> 00:09:59.897\nI sort of do email address there.\n\n199\n00:09:59.897 --> 00:10:04.220\nAll right, so we've done that, and\nwe're gonna specify our email address.\n\n200\n00:10:04.220 --> 00:10:06.080\nAgain, I could be prescriptive here.\n\n201\n00:10:06.080 --> 00:10:09.940\nSpecify a specific value for\na certain claim, leave it\n\n202\n00:10:09.940 --> 00:10:14.270\nopen to an email address using the default\nof pass all claim values through.\n\n203\n00:10:14.270 --> 00:10:15.830\nUp to us to decide how we wanna do that.\n\n204\n00:10:15.830 --> 00:10:17.690\nAll right, so I'm gonna click Finish.\n\n205\n00:10:17.690 --> 00:10:19.860\nPut that one in there, so\nnow I've got two rules stacked up,\n\n206\n00:10:19.860 --> 00:10:21.120\nyou get the general idea.\n\n207\n00:10:21.120 --> 00:10:24.244\nLet's add one more, because in my world,\nif two is good, well of course,\n\n208\n00:10:24.244 --> 00:10:24.999\nthree is better.\n\n209\n00:10:24.999 --> 00:10:25.959\n&gt;&gt; [LAUGH] I like that.\n&gt;&gt; All right, so\n\n210\n00:10:25.959 --> 00:10:31.016\nlet's add one more in there, then let's\ndo this, let's do pass through, and\n\n211\n00:10:31.016 --> 00:10:36.340\nincoming claim, let's click Next,\nlet's go ahead, let's label this one.\n\n212\n00:10:36.340 --> 00:10:39.599\nWe'll do our UPN, remember,\nwe did map all of these, right,\n\n213\n00:10:39.599 --> 00:10:43.720\nso we're mapping one rule per claim here\non our side to match what we've already\n\n214\n00:10:43.720 --> 00:10:45.341\nmapped in the claim provider.\n\n215\n00:10:45.341 --> 00:10:50.164\n&gt;&gt; Cuz we know our claim provider is gonna\nbe sending over one, two or up to three,\n\n216\n00:10:50.164 --> 00:10:51.200\nI guess claims.\n\n217\n00:10:51.200 --> 00:10:52.070\n&gt;&gt; In our case, three.\n\n218\n00:10:52.070 --> 00:10:53.710\nIt could be more than three,\nbut in our case,\n\n219\n00:10:53.710 --> 00:10:55.300\nwe mapped three so\nthat's what we are gonna get.\n\n220\n00:10:55.300 --> 00:10:58.327\n&gt;&gt; We have to be able to process those\nwe're gonna do, okay, what do we do if\n\n221\n00:10:58.327 --> 00:11:01.669\nthey send us a UPN and their claim, or if\nthey have a display name in their claim.\n\n222\n00:11:01.669 --> 00:11:04.453\nAnd one of the cool things about this,\nthough,\n\n223\n00:11:04.453 --> 00:11:08.628\nis it really does keep everything\nseparated, in a way, as far as let's\n\n224\n00:11:08.628 --> 00:11:13.340\nsay we decide that based on your UPN,\nyou get this level of access, right?\n\n225\n00:11:13.340 --> 00:11:16.325\nWell, as the relying partner,\nI can always change that.\n\n226\n00:11:16.325 --> 00:11:18.900\nI don't have to talk to\nthe claims provider at all.\n\n227\n00:11:18.900 --> 00:11:22.460\nI can come in and change my rule and\nsay now, okay, if this is UPN,\n\n228\n00:11:22.460 --> 00:11:24.320\nthis is the level of access you get.\n\n229\n00:11:24.320 --> 00:11:28.670\nSo you can,\nthe control stays with each side, right?\n\n230\n00:11:28.670 --> 00:11:31.620\nThe claim provider decides who\nis gonna be submitting claims,\n\n231\n00:11:31.620 --> 00:11:34.110\nthe relying partner can decide\nwhat they do with those claims.\n\n232\n00:11:34.110 --> 00:11:36.210\n&gt;&gt; Correct, all right,\nso I just pre-chose and\n\n233\n00:11:36.210 --> 00:11:40.440\nas you were talking the UPN value, right,\nunderneath the incoming claim type.\n\n234\n00:11:40.440 --> 00:11:43.340\nSo all I did was go to the pick list and\nchose UPN just to map.\n\n235\n00:11:43.340 --> 00:11:44.890\n&gt;&gt; Found what we're doing\nin an alphabetical list?\n\n236\n00:11:44.890 --> 00:11:47.690\n&gt;&gt; Yeah, I did,\nI got out the searchdogs and\n\n237\n00:11:47.690 --> 00:11:51.610\nafter days of fruitless searching,\nwe came upon the UPN.\n\n238\n00:11:51.610 --> 00:11:52.693\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n239\n00:11:52.693 --> 00:11:54.100\nyou could see right there UPN is chosen.\n\n240\n00:11:54.100 --> 00:11:56.270\nNamed our rule accordingly so\nwe can map that.\n\n241\n00:11:56.270 --> 00:11:57.900\nYou know what it is, click Finish.\n\n242\n00:11:57.900 --> 00:11:59.400\nSo we can keep going here, right.\n\n243\n00:11:59.400 --> 00:12:03.806\nThe point is we've mapped a one to one\nrelationship between what we've provided\n\n244\n00:12:03.806 --> 00:12:07.971\non the claim provider so at least in\ntheory that's what we're trying to do.\n\n245\n00:12:07.971 --> 00:12:10.603\nAnd then set up the appropriate\nrules on the relying party's side.\n\n246\n00:12:10.603 --> 00:12:15.681\nAll right, so we have all that, and\nthen we're gonna do one more here.\n\n247\n00:12:15.681 --> 00:12:17.060\nWe have to do name rule.\n\n248\n00:12:17.060 --> 00:12:20.162\nBecause remember we did UPN,\nwe did email address.\n\n249\n00:12:20.162 --> 00:12:22.940\nWe did display name,\nwe mapped that to name.\n\n250\n00:12:22.940 --> 00:12:26.980\nWe've added Windows account name here\nwhich is a separate one that was not\n\n251\n00:12:26.980 --> 00:12:30.220\nmapped on the claim provider side just\nto show you that you can do both.\n\n252\n00:12:30.220 --> 00:12:31.720\nBut I am just gonna add the name and\n\n253\n00:12:31.720 --> 00:12:33.980\njust to round out the three that\nwe did through the claim provider.\n\n254\n00:12:33.980 --> 00:12:37.096\nSo, I'm gonna do one more,\nand that in there.\n\n255\n00:12:38.600 --> 00:12:42.940\nDo our pass through under incoming filter,\nor incoming claim rather.\n\n256\n00:12:42.940 --> 00:12:47.610\nThis one we'll do pass through name.\n\n257\n00:12:47.610 --> 00:12:52.424\n[SOUND] And we'll go in there,,\nwe'll specify, whoops,\n\n258\n00:12:52.424 --> 00:12:56.582\nI thought I clicked,\nperhaps not, specify name.\n\n259\n00:12:56.582 --> 00:13:02.130\nNow we did display name but\nwe mapped that to name, not given name.\n\n260\n00:13:02.130 --> 00:13:03.746\nSo there's more than one name value there.\n\n261\n00:13:03.746 --> 00:13:05.054\nSo you would just have to, or surname,\n\n262\n00:13:05.054 --> 00:13:07.110\nthere's a couple of different ones,\ncommon name.\n\n263\n00:13:07.110 --> 00:13:11.060\nThree or four that you may wind up\nchoosing, so you would have to think about\n\n264\n00:13:11.060 --> 00:13:15.020\nthat, and know what that mapping is, going\nback to the idea Mike reminded us of.\n\n265\n00:13:15.020 --> 00:13:19.070\nWhich is hey, the claim provider is\nsetting up these claims, mapping them, or\n\n266\n00:13:19.070 --> 00:13:21.677\nproviding them,\nwe'd have to know what they are.\n\n267\n00:13:21.677 --> 00:13:23.830\nThat's part of the navigation and\ncommunication.\n\n268\n00:13:23.830 --> 00:13:27.733\nWe have to transcribe that information\naccurately and correctly and have it here,\n\n269\n00:13:27.733 --> 00:13:29.252\nso we know what choices to make.\n\n270\n00:13:29.252 --> 00:13:33.417\nCuz if I was to map this claim\ncoming in right as name incorrectly,\n\n271\n00:13:33.417 --> 00:13:36.599\nmaybe it was really display name or\ncommon name and\n\n272\n00:13:36.599 --> 00:13:40.042\nwe didn't map this correctly,\nthis would not work.\n\n273\n00:13:40.042 --> 00:13:42.660\nAnd if go back and troubleshoot\nthis configure what disconnect was.\n\n274\n00:13:42.660 --> 00:13:45.773\nSo it is important to have that\ninformation and know what that is.\n\n275\n00:13:45.773 --> 00:13:47.129\nAll right, so we'll click Finish there.\n\n276\n00:13:48.358 --> 00:13:51.630\nWe got all of that set up, so\nwe've added all of those in.\n\n277\n00:13:51.630 --> 00:13:54.666\nAnd so now that we've done this,\nwe'll obviously, click Apply and OK here,\n\n278\n00:13:54.666 --> 00:13:56.752\nlet me just do that,\nbecause that will be important.\n\n279\n00:13:56.752 --> 00:14:01.360\nAll right, so we've now got all of\nour reliant party trust information\n\n280\n00:14:01.360 --> 00:14:04.180\nset up instantiated the rules\nassociated with it.\n\n281\n00:14:04.180 --> 00:14:06.940\nOur attribute store is there,\nwe've taken a look at all that already.\n\n282\n00:14:06.940 --> 00:14:10.610\nSo ADFS is essentially now up and\nrunning and ready to go.\n\n283\n00:14:10.610 --> 00:14:12.590\nSo we've actually completed our journey,\n\n284\n00:14:12.590 --> 00:14:14.170\nthere was a light at\nthe end of the tunnel.\n\n285\n00:14:14.170 --> 00:14:16.995\nBut we're not quite,\nquite done with our conversation.\n\n286\n00:14:16.995 --> 00:14:22.150\nWe've talked through the logic of\nhow to set up and leverage ADFS.\n\n287\n00:14:22.150 --> 00:14:25.973\nBut, we haven't talked about\nthe computer side, focused on the users,\n\n288\n00:14:25.973 --> 00:14:28.018\nmapped out claims, things like that.\n\n289\n00:14:28.018 --> 00:14:32.290\nBut we did talk about the fact that ADFS\nis installed on domain joined machines,\n\n290\n00:14:32.290 --> 00:14:35.640\nand could be leverage by\ndomain joined infrastructure.\n\n291\n00:14:35.640 --> 00:14:40.310\nSo if we wanna use domain join,\nyou sense a theme here?\n\n292\n00:14:40.310 --> 00:14:42.242\n&gt;&gt; Yeah.\n&gt;&gt; We wanna leverage domain join\n\n293\n00:14:42.242 --> 00:14:46.350\nas a technology Then we wanna go through\nquickly just take a look at that, so\n\n294\n00:14:46.350 --> 00:14:50.490\nlet me just switch over machines\nhere real quick while we're talking.\n\n295\n00:14:50.490 --> 00:14:54.160\nMay be you could, sir, could help us just\nto understand the high level of what\n\n296\n00:14:54.160 --> 00:14:56.480\ndomain join represents for\nus while I'm switching over.\n\n297\n00:14:56.480 --> 00:14:58.526\n&gt;&gt; And\nyou're doing an off line to domain join?\n\n298\n00:14:58.526 --> 00:15:02.188\n&gt;&gt; Well, I'm not gonna actually do domain\njoin, I'm just gonna demonstrate where we\n\n299\n00:15:02.188 --> 00:15:04.215\nwould go to do it and\ntalk about it for a minute.\n\n300\n00:15:04.215 --> 00:15:07.815\nBut just in a high level, the concept of\ndomain join, just while I'm switching over\n\n301\n00:15:07.815 --> 00:15:11.430\nis what I'm thinking about, so all right,\nreally without putting you on the spot.\n\n302\n00:15:11.430 --> 00:15:13.825\nI mean to do that without you being-\n&gt;&gt; No, no, no,\n\n303\n00:15:13.825 --> 00:15:16.349\nsorry, I'm just trying to figure\nout you were just talking about in\n\n304\n00:15:16.349 --> 00:15:17.155\n[CROSSTALK]\n&gt;&gt; I'm sorry, not work,\n\n305\n00:15:17.155 --> 00:15:18.090\nnot domain join,\nI keep saying domain join.\n\n306\n00:15:18.090 --> 00:15:20.237\nWorkplace Join is what I mean to say.\n\n307\n00:15:20.237 --> 00:15:21.852\n&gt;&gt; Where you get access to the folder.\n\n308\n00:15:21.852 --> 00:15:23.772\n&gt;&gt; Yes, right, so workplace join and so\n\n309\n00:15:23.772 --> 00:15:25.999\njust leveraging that is\nwhat I meant to say.\n\n310\n00:15:25.999 --> 00:15:29.394\n&gt;&gt; Yeah, Workplace Join is a pretty\nneat little feature that allows me to,\n\n311\n00:15:29.394 --> 00:15:33.025\nespecially in today's world where we got\na lot of the bring your own devices.\n\n312\n00:15:33.025 --> 00:15:37.102\nAnd we're trying to manage machines\nthat are not part of our domain so\n\n313\n00:15:37.102 --> 00:15:39.157\nwe don't have that same control.\n\n314\n00:15:39.157 --> 00:15:42.622\nBut we want people to be able\nto access resources, right,\n\n315\n00:15:42.622 --> 00:15:45.180\nbut that machine is not\npart of the domain.\n\n316\n00:15:45.180 --> 00:15:49.619\nWorkplace Join allows me to basically\nidentify a device that's owned by one of\n\n317\n00:15:49.619 --> 00:15:54.003\nmy users, and then give that device\naccess to certain corporate resources.\n\n318\n00:15:54.003 --> 00:15:58.906\nWhich can be very handy because like I\ncan't join there maybe their IOS device\n\n319\n00:15:58.906 --> 00:16:03.734\nto my domain but I can give them access\nto a set of folders that's available on\n\n320\n00:16:03.734 --> 00:16:06.080\na file server within my domain.\n\n321\n00:16:06.080 --> 00:16:07.675\n&gt;&gt; Or web app.\n&gt;&gt; Or web app, yes.\n\n322\n00:16:07.675 --> 00:16:10.900\n&gt;&gt; Something like that which would\nbe the ADFS that's would typically.\n\n323\n00:16:10.900 --> 00:16:13.040\nLeveraging SSO, right, single sign on.\n\n324\n00:16:13.040 --> 00:16:14.820\nSo you could see here,\nwe've got a little, and\n\n325\n00:16:14.820 --> 00:16:17.500\nI previewed this one in the prior episode,\nsaid hey, this is what we're gonna get to\n\n326\n00:16:17.500 --> 00:16:20.260\nat the end of our conversation,\nand I showed you the website.\n\n327\n00:16:20.260 --> 00:16:22.300\nThere's a nice little walkthrough\nMicrosoft put together,\n\n328\n00:16:22.300 --> 00:16:24.060\nit's a fairly straightforward process.\n\n329\n00:16:24.060 --> 00:16:25.919\nI'll show you where you do this\non the device in just a minute.\n\n330\n00:16:25.919 --> 00:16:30.064\nBut there's a nice little walkthrough\nhere, applies to both 16 and 12 R2.\n\n331\n00:16:30.064 --> 00:16:33.239\nSo this would be the site you wanna\ntake a look at for study purposes,\n\n332\n00:16:33.239 --> 00:16:35.790\njust to get all the little\npieces in place here.\n\n333\n00:16:35.790 --> 00:16:38.340\nAnd you can see that there's\nsome reference here so\n\n334\n00:16:38.340 --> 00:16:40.730\njust to give you the right expectation.\n\n335\n00:16:40.730 --> 00:16:44.480\nThe reference here is hey,\nlook at this setup Microsoft is saying,\n\n336\n00:16:44.480 --> 00:16:49.040\nthat link right there for setting up\nADFS in a lab environment on 12 R2,\n\n337\n00:16:49.040 --> 00:16:54.380\nmeaning how they have done the walkthrough\nwith their URL kentosa.com or\n\n338\n00:16:54.380 --> 00:16:56.240\na datum in this case it's Kentosa.\n\n339\n00:16:56.240 --> 00:16:59.270\nSo when you see a reference to\na URL down here where it says hey,\n\n340\n00:16:59.270 --> 00:17:01.680\ngo to webserve1kentosa.com or\n\n341\n00:17:01.680 --> 00:17:05.750\nwhatever keep in mind that's based on\nthe setup that they talk about up above.\n\n342\n00:17:05.750 --> 00:17:08.480\nAnd that's what the walkthrough\nis kinda predicated on\n\n343\n00:17:08.480 --> 00:17:12.680\nMicrosoft setting up the infrastructure\nand using their solution to do it.\n\n344\n00:17:12.680 --> 00:17:14.626\nSo, you would just simply\nsubstitute values for\n\n345\n00:17:14.626 --> 00:17:17.957\nwhatever you would be doing right, as you\nwalkthrough the server, see the logic.\n\n346\n00:17:17.957 --> 00:17:19.579\nI just wanted to make sure\nyou were aware of that.\n\n347\n00:17:19.579 --> 00:17:21.342\nAll right, so access to web app.\n\n348\n00:17:21.342 --> 00:17:22.878\nThey say, hey go do this before.\n\n349\n00:17:22.878 --> 00:17:24.805\nEvery time you do it you\nhave to authenticate.\n\n350\n00:17:24.805 --> 00:17:27.755\nWhat they're showing you is\nyou're not using SSO because\n\n351\n00:17:27.755 --> 00:17:30.584\nyou're not Workplace Join\ntaking advantage of ADFS and\n\n352\n00:17:30.584 --> 00:17:33.230\ntaking advantage of all\nthe capabilities of SSO.\n\n353\n00:17:33.230 --> 00:17:36.770\nSo you do that first, you're promoted,\nyou have to log in every time.\n\n354\n00:17:36.770 --> 00:17:40.690\nOkay great no problem, so\njoining your device with Workplace Join,\n\n355\n00:17:40.690 --> 00:17:41.590\nhow do you do that?\n\n356\n00:17:41.590 --> 00:17:45.570\nWe'll take a look in just a second But\nit says here for Workplace Join to succeed\n\n357\n00:17:45.570 --> 00:17:49.300\nright the client computer, whatever\nthe computer is, must trust the SSL\n\n358\n00:17:49.300 --> 00:17:54.160\ncertificate assigned and used through\nADFS as we were talking about and they\n\n359\n00:17:54.160 --> 00:17:59.140\nreference step two configuring federation\nserver with device registration service.\n\n360\n00:17:59.140 --> 00:18:03.280\nSo that has to be enabled in the ADFS\nportion to have all that set up.\n\n361\n00:18:03.280 --> 00:18:07.202\nAlso able to validate revocation\ninformation for the certificate.\n\n362\n00:18:07.202 --> 00:18:11.204\nSo a couple of things that are important\nto note here, right, we come back again to\n\n363\n00:18:11.204 --> 00:18:14.516\nthis idea that we need those certificates,\nthey gotta be trusted.\n\n364\n00:18:14.516 --> 00:18:17.988\nWe talked about the fact that we could\npreload those and populate those and\n\n365\n00:18:17.988 --> 00:18:20.676\nsend them out through a group\npolicy at the domain level,\n\n366\n00:18:20.676 --> 00:18:22.980\nwhich is how we would make this available.\n\n367\n00:18:22.980 --> 00:18:24.220\nIn fact,\n\n368\n00:18:24.220 --> 00:18:29.830\nthe domain policy applies to machines\nthat are members of the domain right?\n\n369\n00:18:29.830 --> 00:18:31.190\n&gt;&gt; That work with the iPad?\n\n370\n00:18:31.190 --> 00:18:34.880\n&gt;&gt; Right, so\nthe Workplace Join would allow us\n\n371\n00:18:34.880 --> 00:18:37.200\nto then leverage that certificate and\nthen take advantage of it.\n\n372\n00:18:37.200 --> 00:18:39.020\nThat's the whole goal behind this.\n\n373\n00:18:39.020 --> 00:18:41.921\nAnd so you just want to make sure you're\nkeeping the logic of this in mind and\n\n374\n00:18:41.921 --> 00:18:43.598\nhave a sense of the do's and dont's here.\n\n375\n00:18:43.598 --> 00:18:47.139\nSo to join your device with\nWorkplace Joins, pretty straightforward,\n\n376\n00:18:47.139 --> 00:18:49.414\nwe'll go take a look in Windows 8.1 there.\n\n377\n00:18:49.414 --> 00:18:52.208\nMy Windows 8.1 devices already\njoined to the domain, and\n\n378\n00:18:52.208 --> 00:18:53.977\nit is essentially Workplace Joined.\n\n379\n00:18:53.977 --> 00:18:56.090\nBut we'll at least just\nsee the logic of it.\n\n380\n00:18:56.090 --> 00:18:58.354\nSo you can see here,\nwe go to change PC settings.\n\n381\n00:18:58.354 --> 00:19:00.839\nWe go into the network area,\nclick a workplace.\n\n382\n00:19:00.839 --> 00:19:02.035\nYou saw, I was there already.\n\n383\n00:19:02.035 --> 00:19:02.697\nWe'll go back.\n\n384\n00:19:02.697 --> 00:19:06.450\nWe'll enter our user ID,\nwhatever it is, your username,\n\n385\n00:19:06.450 --> 00:19:09.013\nemail, Robert H, whatever it is here.\n\n386\n00:19:09.013 --> 00:19:11.996\nAt Contosa, you click join,\nyou put your credentials in,\n\n387\n00:19:11.996 --> 00:19:15.398\nassuming you're successful,\nyou get that this device is joined or\n\n388\n00:19:15.398 --> 00:19:17.378\nbeen joined to the workplace network.\n\n389\n00:19:17.378 --> 00:19:20.653\nAnd then after that the walkthrough\nsays when you go back and\n\n390\n00:19:20.653 --> 00:19:24.781\nyou connect up again you're able to go\nback in and not be prompted after your\n\n391\n00:19:24.781 --> 00:19:29.066\nfirst log on because you're not leverage\nSSO and you're able to get back in.\n\n392\n00:19:29.066 --> 00:19:31.876\nBecause you now have that\ncapability a single sign that\n\n393\n00:19:31.876 --> 00:19:36.048\nit's working because now you're taking\na advantage of ADFS and single sign on.\n\n394\n00:19:36.048 --> 00:19:40.416\nSo workplace is really a way for\nus to grant that access and\n\n395\n00:19:40.416 --> 00:19:43.154\nleverage ADFS and SSO for a device.\n\n396\n00:19:43.154 --> 00:19:46.600\nThat's what this is\ngoing to allow us to do.\n\n397\n00:19:46.600 --> 00:19:49.180\nAlright so let me just go back in here.\n\n398\n00:19:49.180 --> 00:19:50.270\nAnd, where are we.\n\n399\n00:19:50.270 --> 00:19:53.270\nWe are, there we are right there.\n\n400\n00:19:53.270 --> 00:19:57.780\nSo, we are on a Windows 8, 8.1,\nWindows 10 machine, right?\n\n401\n00:19:57.780 --> 00:20:02.550\nWe're in, we've gone to, in this case in\nWindows 8, I've just gone, if I can get it\n\n402\n00:20:02.550 --> 00:20:06.540\nto come up, kind of hovered in the corner\nover here, went here, went to settings,\n\n403\n00:20:06.540 --> 00:20:09.860\nwent to change PC settings,\nyou can use a little Windows charm bar,\n\n404\n00:20:09.860 --> 00:20:12.200\nhowever you get there,\nright, depending on the OS.\n\n405\n00:20:12.200 --> 00:20:18.160\nAnd then I went in to, as you could\nsee here, PC settings and then\n\n406\n00:20:19.670 --> 00:20:24.580\nwent to Network,\nunder Network went to Workplace.\n\n407\n00:20:24.580 --> 00:20:26.270\nWe're just kinda scrolling down.\n\n408\n00:20:26.270 --> 00:20:28.292\nHopefully, you won't have\nthe annoying little here's your-\n\n409\n00:20:28.292 --> 00:20:28.931\n&gt;&gt; [LAUGH]\n\n410\n00:20:28.931 --> 00:20:30.394\n&gt;&gt; Start arrow like I do covering half\n\n411\n00:20:30.394 --> 00:20:32.820\nyour menu so\nyou can't see what you're doing.\n\n412\n00:20:32.820 --> 00:20:34.070\nI've tried really hard to get rid of that,\n\n413\n00:20:34.070 --> 00:20:36.250\nI just can't get out of it\nin the lab environment.\n\n414\n00:20:36.250 --> 00:20:38.235\nSo I just decided to ignore it and\npretend it's not there.\n\n415\n00:20:38.235 --> 00:20:40.270\n[LAUGH] So you can see Workplace.\n\n416\n00:20:40.270 --> 00:20:42.140\nHey, these are the realities\nof what happens.\n\n417\n00:20:42.140 --> 00:20:43.057\nWhat can I tell you?\n\n418\n00:20:43.057 --> 00:20:44.430\nAll right, so Workplace, right.\n\n419\n00:20:44.430 --> 00:20:46.460\nSo to do Join, you can see here, right.\n\n420\n00:20:47.880 --> 00:20:50.310\nYou click Join, connecting to Workplace.\n\n421\n00:20:50.310 --> 00:20:53.313\nYou would at that point be\nprompted to provide a credential.\n\n422\n00:20:53.313 --> 00:20:55.849\nBut it then has to authenticate and\nthen you’re joined and\n\n423\n00:20:55.849 --> 00:20:58.399\nthen at that point you’re able\nto leverage that success.\n\n424\n00:20:58.399 --> 00:21:00.280\nAnd that’s all Workplace Join really is.\n\n425\n00:21:00.280 --> 00:21:01.700\nNo mystery there.\n\n426\n00:21:01.700 --> 00:21:06.110\nNot a lot of difficulty in\nterms of executing on this, but\n\n427\n00:21:06.110 --> 00:21:09.075\nyou just wanna make sure you're\nfamiliar with that right?\n\n428\n00:21:09.075 --> 00:21:12.185\nAnd as I said this won't work in this\nenvironment because this machine\n\n429\n00:21:12.185 --> 00:21:17.205\nis already a member of the domain we\ndon't have Workplace Drawing enabled for\n\n430\n00:21:17.205 --> 00:21:19.125\nthis particular machine to be successful,\n\n431\n00:21:19.125 --> 00:21:21.570\njust wanna show you the logic\nof what we would do.\n\n432\n00:21:21.570 --> 00:21:25.410\nBut this is a little component of the exam\nrequirement capability matrix so,\n\n433\n00:21:25.410 --> 00:21:28.630\nit's good just to have a sense of\nwhat Workplace Drawing is all about,\n\n434\n00:21:28.630 --> 00:21:30.240\njust to make sure that\nyou're familiar with it.\n\n435\n00:21:30.240 --> 00:21:35.550\nAll right so we've kinda done the full\ncircle on ADFS, a lot of information,\n\n436\n00:21:35.550 --> 00:21:39.480\na lot of cool stuff, a lot of\ncapabilities in terms of our walkthrough.\n\n437\n00:21:39.480 --> 00:21:43.350\nThere is a lot of stuff to master and\nreally think through the logic of.\n\n438\n00:21:43.350 --> 00:21:44.860\nAnd by the way, can we go back for\njust one second?\n\n439\n00:21:44.860 --> 00:21:48.074\nOn the walkthrough I just wanted to also\nshow you Mike had mentioned that yes,\n\n440\n00:21:48.074 --> 00:21:50.990\nwe could use this for IOS, I don't\nknow if you said Android or not, but\n\n441\n00:21:50.990 --> 00:21:51.745\nAndroid as well.\n\n442\n00:21:51.745 --> 00:21:54.764\nBut I'm just looking at\nthe Windows device walkthrough.\n\n443\n00:21:54.764 --> 00:21:58.200\nBut you'll see if you're interested\nIOS and Android are right here.\n\n444\n00:21:58.200 --> 00:22:01.630\nWhich is why I like this particular web\npage, because it does give you everything.\n\n445\n00:22:01.630 --> 00:22:05.700\nAlso, by the way, the ADFS Technical\nReference is right here, so\n\n446\n00:22:05.700 --> 00:22:09.870\nit gives you a link to all the ADFS\nrelated information in one place.\n\n447\n00:22:09.870 --> 00:22:10.800\nMicrosoft's famous for\n\n448\n00:22:10.800 --> 00:22:15.820\ndrilling into that Technical Reference\ndocumentation, pulling out that random.\n\n449\n00:22:15.820 --> 00:22:17.420\nYeah, nobody will ever know this answer.\n\n450\n00:22:17.420 --> 00:22:19.720\nAnd there's the question\nthat nobody gets right.\n\n451\n00:22:19.720 --> 00:22:23.420\n&gt;&gt; That's right, number four Start\nyou off in a bad mood [LAUGH].\n\n452\n00:22:23.420 --> 00:22:27.630\n&gt;&gt; When configuring this on Mars looking\nsouth what would be the proper choice for\n\n453\n00:22:27.630 --> 00:22:29.970\nregistry value x right?\n\n454\n00:22:29.970 --> 00:22:33.000\nRandom stuff but anyway it's good,\njust good general information for\n\n455\n00:22:33.000 --> 00:22:34.220\nyou to take a look at.\n\n456\n00:22:34.220 --> 00:22:37.640\nAnd depending on how deep you wanna go and\nhow much you're gonna do in ADFS,\n\n457\n00:22:37.640 --> 00:22:40.410\nit provides you the place\nto kinda launch from right?\n\n458\n00:22:40.410 --> 00:22:42.290\nAnd then get all\nthe information necessary,\n\n459\n00:22:42.290 --> 00:22:43.840\nas you're going through configure it.\n\n460\n00:22:43.840 --> 00:22:48.140\n&gt;&gt; Fantastic Adam, what a great look\nat Active Directory Federation Services\n\n461\n00:22:48.140 --> 00:22:52.020\nimplementing that from beginning to end,\ntaking a look at the terminology,\n\n462\n00:22:52.020 --> 00:22:56.190\nthe base knowledge, all the way up to\nsetting up our claims of writer trust or\n\n463\n00:22:56.190 --> 00:22:59.240\nrelying party trust and\ngetting them to talk together.\n\n464\n00:22:59.240 --> 00:23:01.990\nAnd at the end there a little bonus we\ngot to take a look at Workplace Join,\n\n465\n00:23:01.990 --> 00:23:06.780\nsomething we can use\nto help give access to\n\n466\n00:23:06.780 --> 00:23:11.140\nusers that might be using a device that's\nnot part of our domain so fantastic.\n\n467\n00:23:11.140 --> 00:23:12.620\n&gt;&gt; One more thing I did I did forget.\n\n468\n00:23:12.620 --> 00:23:14.696\nI'm just bringing it up so\nwe can take a look at it.\n\n469\n00:23:14.696 --> 00:23:18.208\nBut bring up my machine if you would.\n\n470\n00:23:18.208 --> 00:23:20.420\nJust I forgot,\nwanted to show you one quick thing.\n\n471\n00:23:20.420 --> 00:23:23.810\nIf you remember we opted out of setting\nup multifactor authentications.\n\n472\n00:23:23.810 --> 00:23:24.597\n&gt;&gt; We did.\n&gt;&gt; We were setting up\n\n473\n00:23:24.597 --> 00:23:26.847\nthe Relying Party Trusts,\ni know Mike was very disappointed,\n\n474\n00:23:26.847 --> 00:23:27.590\nhe was-\n&gt;&gt; I was.\n\n475\n00:23:27.590 --> 00:23:28.274\n&gt;&gt; All excited about that.\n\n476\n00:23:28.274 --> 00:23:31.241\nSo I just wanted to show you, that if\nyou didn't want to go back, and it said,\n\n477\n00:23:31.241 --> 00:23:34.164\nyou know hey, you can always reconfigure\nit and set it up after the fact, and\n\n478\n00:23:34.164 --> 00:23:34.871\nit's easy to do.\n\n479\n00:23:34.871 --> 00:23:37.273\nJust wanted to show you\nwhere to go to do that.\n\n480\n00:23:37.273 --> 00:23:38.725\nI forgot that I wanted to mention that.\n\n481\n00:23:38.725 --> 00:23:41.800\nSo I thought it would be good, just as\nwe're wrapping up, quickly show you that.\n\n482\n00:23:41.800 --> 00:23:44.700\nSo we're back in the ADFS console.\n\n483\n00:23:44.700 --> 00:23:47.460\nWe're down here under\nauthentication policies.\n\n484\n00:23:47.460 --> 00:23:50.360\n&gt;&gt; Per Relying Party Trust\nis the folder and\n\n485\n00:23:50.360 --> 00:23:54.100\nyou'll see in there we have under Relying\nParty Trust with Global Authentication\n\n486\n00:23:54.100 --> 00:23:58.180\nsettings we have our\npractice lab's test app.\n\n487\n00:23:58.180 --> 00:24:00.380\nThat's the policy that\nwe had gone through, or\n\n488\n00:24:00.380 --> 00:24:03.411\nRelying Party Trust rather that\nwe had gone through and created.\n\n489\n00:24:03.411 --> 00:24:07.479\nIf you go look right up here under Relying\nParty Trust you'll see both the device\n\n490\n00:24:07.479 --> 00:24:10.392\nregistration service and\nthe one we created or listed and\n\n491\n00:24:10.392 --> 00:24:12.349\nthose are the two that do show up here.\n\n492\n00:24:12.349 --> 00:24:16.985\nSo you would go to the appropriate\nRelying Party Trust, whichever one you\n\n493\n00:24:16.985 --> 00:24:21.846\nwanna reconfigure and modify multifactor\non right click you can go in here and\n\n494\n00:24:21.846 --> 00:24:26.777\ngo to properties, and you'll see,\nlet's move this up so you can see it here,\n\n495\n00:24:26.777 --> 00:24:29.616\nthat we can go ahead,\ngo to multifactor, and\n\n496\n00:24:29.616 --> 00:24:34.090\nsimply add in or configure\nthe multifactor settings after the fact.\n\n497\n00:24:34.090 --> 00:24:37.300\nSo it's not as if we must do it\nduring the Wizard as we talked about.\n\n498\n00:24:37.300 --> 00:24:40.110\nWe've also have the opportunity to do it\nlater, and we can just come back in here,\n\n499\n00:24:40.110 --> 00:24:42.950\nand configure it on the fly if necessary,\nso, I wanna make sure you got\n\n500\n00:24:42.950 --> 00:24:45.290\na chance to see that, because we've\nbeen actually off through that, and\n\n501\n00:24:45.290 --> 00:24:48.970\nthen we said, yeah, go do it, but it's\noften good to know where to go do it, so\n\n502\n00:24:48.970 --> 00:24:51.110\nbe a little more confident\nabout that if you need to.\n\n503\n00:24:51.110 --> 00:24:54.960\n&gt;&gt; And as you aid on the exam, Microsoft\nwill also talk about their new features,\n\n504\n00:24:54.960 --> 00:24:57.240\nmake sure everybody is aware\nof some of their capabilities.\n\n505\n00:24:57.240 --> 00:24:59.700\n&gt;&gt; So multifactor being one\nof those big ones, probably.\n\n506\n00:24:59.700 --> 00:25:02.310\nIt's a very good guess that you would\n\n507\n00:25:02.310 --> 00:25:05.390\nvery likely to be asked about\nmultifactor in one form or another.\n\n508\n00:25:05.390 --> 00:25:06.180\n&gt;&gt; Absolutely.\n\n509\n00:25:06.180 --> 00:25:06.720\nAll right, Adam.\n\n510\n00:25:06.720 --> 00:25:08.260\nWell we appreciate this great look.\n\n511\n00:25:08.260 --> 00:25:10.760\nHope everybody out there\nenjoyed watching this one and\n\n512\n00:25:10.760 --> 00:25:15.820\nthe other six parts to implementing\nActive Directory Federation Services,\n\n513\n00:25:15.820 --> 00:25:19.240\nbut for now signing off for ITProTV,\nI've been your host Mike Rodrick.\n\n514\n00:25:19.240 --> 00:25:19.915\n&gt;&gt; I'm Adam Gordon.\n\n515\n00:25:19.915 --> 00:25:21.494\n&gt;&gt; And we'll see you next time.\n\n516\n00:25:21.494 --> 00:25:28.124\n[MUSIC].\n\n517\n00:25:28.124 --> 00:25:31.527\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "238768581"
        }
      ],
      "title": "Implementing AD FS"
    },
    {
      "episodes": [
        {
          "description": "Adam and Mike discuss what Network Load Balancing is, providing an overview of the feature and how it works. They also take a look at the powershell cmdlets used to manage NLB, discuss what the pre-requisites for NLB installation are, use powershell to install the NLB feature, as well as to create an NLB cluster.",
          "length": "1754",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-9-1-1-implement_network_load_balancing-100617-PGM.01.00_29_02_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-9-1-1-implement_network_load_balancing-100617-PGM.01.00_29_02_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-9-1-1-implement_network_load_balancing-100617-PGM.01.00_29_02_11.Still001-sm.jpg",
          "title": "Implement Network Load Balancing",
          "transcript": "WEBVTT\n\n1\n00:00:00.220 --> 00:00:01.401\nWelcome to ITProTV.\n\n2\n00:00:01.401 --> 00:00:02.575\nI'm your host Don Pezet.\n\n3\n00:00:02.575 --> 00:00:06.660\n&gt;&gt; [CROSSTALK]\n\n4\n00:00:06.660 --> 00:00:08.194\n[MUSIC]\n\n5\n00:00:08.194 --> 00:00:12.354\n&gt;&gt; You're watching ITProTV.\n\n6\n00:00:12.354 --> 00:00:15.831\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n7\n00:00:15.831 --> 00:00:17.380\nI'm your host Mike Rodrick.\n\n8\n00:00:17.380 --> 00:00:22.183\nToday we're gonna be doing\nour MCSA Windows Server 2012\n\n9\n00:00:22.183 --> 00:00:25.958\nR2 getting ready for that 70-412 exam.\n\n10\n00:00:25.958 --> 00:00:27.684\nAnd specifically in this episode,\n\n11\n00:00:27.684 --> 00:00:31.490\nwe're gonna be taking a look at how we\nwould go about, I can't say it that way.\n\n12\n00:00:31.490 --> 00:00:34.500\nHow we're gonna implement\nnetwork load balancing.\n\n13\n00:00:34.500 --> 00:00:38.675\nHere to help us with that is\nMr Adam Gordon, welcome back Adam.\n\n14\n00:00:38.675 --> 00:00:39.327\n&gt;&gt; Hello, hello, hello.\n\n15\n00:00:39.327 --> 00:00:44.230\nSo awesome,\nI could not have done that if I tried.\n\n16\n00:00:44.230 --> 00:00:45.800\nLet alone done it better.\n\n17\n00:00:45.800 --> 00:00:49.016\nWe actually had bets on whether Mike\nwould get that whole thing out and\n\n18\n00:00:49.016 --> 00:00:50.358\nget it right the first time.\n\n19\n00:00:50.358 --> 00:00:51.701\nAnd he just blew everybody\nout of the water.\n\n20\n00:00:51.701 --> 00:00:53.282\n&gt;&gt; Woo Hoo.\n&gt;&gt; So kudos sir, kudos.\n\n21\n00:00:53.282 --> 00:00:54.550\n&gt;&gt; I think I set the bar too high now.\n\n22\n00:00:54.550 --> 00:00:57.830\n&gt;&gt; Yeah from now on you realize if\nyou don't get it on the first take\n\n23\n00:00:57.830 --> 00:01:00.870\nwe're just gonna have to walk out and\nnot shoot any episodes that day.\n\n24\n00:01:00.870 --> 00:01:04.370\nAll right so we are here to talk about,\nyou are here to watch.\n\n25\n00:01:04.370 --> 00:01:07.070\nWe are here to talk about, we are gonna\ntalk about network load balancing.\n\n26\n00:01:07.070 --> 00:01:11.185\nReally kind of cool technology especially\nif you might not have played with,\n\n27\n00:01:11.185 --> 00:01:12.765\nit's has been around for\na couple of generations.\n\n28\n00:01:12.765 --> 00:01:16.080\nIt's not brand new, this is\nsoftware-based load balancing, by the way,\n\n29\n00:01:16.080 --> 00:01:17.275\njust to be clear.\n\n30\n00:01:17.275 --> 00:01:21.860\nNLB in Server 2012,\n2012 R2, even if you look\n\n31\n00:01:21.860 --> 00:01:26.620\nahead into Server 2016,\nit is software-based, right?\n\n32\n00:01:26.620 --> 00:01:28.650\nWe do have hardware-based load balancers.\n\n33\n00:01:28.650 --> 00:01:30.960\nBut Microsoft's not,\nat least not now, anyway, right?\n\n34\n00:01:30.960 --> 00:01:32.334\n&gt;&gt; Not yet.\n&gt;&gt; But they haven't bought a company\n\n35\n00:01:32.334 --> 00:01:34.030\nthat's in the hardware business recently.\n\n36\n00:01:34.030 --> 00:01:37.080\nBut they're not in the hardware\nload balancing business.\n\n37\n00:01:37.080 --> 00:01:41.411\nSo, when we talk about NLB,\nwe're talking about a software service or\n\n38\n00:01:41.411 --> 00:01:44.298\nfunctionality that will\noverlay on top of one or\n\n39\n00:01:44.298 --> 00:01:47.563\nmore OSs joined together in\nsome sort of NLB cluster.\n\n40\n00:01:47.563 --> 00:01:49.975\nSo we're gonna configure all\nthat see how that works.\n\n41\n00:01:49.975 --> 00:01:54.817\nAnd we're gonna round robin and software\nbase load balanced our traffic across one\n\n42\n00:01:54.817 --> 00:01:58.218\nor more instances, minimum of two,\ntypically at least.\n\n43\n00:01:58.218 --> 00:02:02.144\nCuz while you could load balance in theory\nwith one, you're really not doing much,\n\n44\n00:02:02.144 --> 00:02:05.143\nother than saying yeah,\nall the traffic comes here right, so.\n\n45\n00:02:05.143 --> 00:02:06.891\nSo we really do need at\nleast two to scale out to.\n\n46\n00:02:06.891 --> 00:02:08.128\n[LAUGH]\n&gt;&gt; Half the time it comes here and\n\n47\n00:02:08.128 --> 00:02:09.606\nthe other half of the time\nit still comes here.\n\n48\n00:02:09.606 --> 00:02:10.575\n[LAUGH]\n&gt;&gt; It just comes here and waits.\n\n49\n00:02:10.575 --> 00:02:11.668\nThat's just how it works.\n\n50\n00:02:11.668 --> 00:02:14.440\nSo we do need to build out so\nwe can at least have two.\n\n51\n00:02:14.440 --> 00:02:18.410\nRealistically we probably wanna have at\nleast three nodes in our NLB cluster.\n\n52\n00:02:18.410 --> 00:02:21.280\nWe're gonna have at least two for\npurposes of art demonstration.\n\n53\n00:02:21.280 --> 00:02:24.650\nWe'll set up NLB with using two machines,\nwe'll kinda see how that works.\n\n54\n00:02:24.650 --> 00:02:26.141\nSo, we're gonna walk\nthrough that in a minute.\n\n55\n00:02:26.141 --> 00:02:28.876\nBut let's actually just\nback up as we sometimes do,\n\n56\n00:02:28.876 --> 00:02:32.000\nlet's talk about what NLB is\njust at a basic level, right?\n\n57\n00:02:32.000 --> 00:02:35.370\nThis is a scalable, high availability,\n\n58\n00:02:35.370 --> 00:02:40.270\nhighly available technology we\ninstall on any edition of Server 12.\n\n59\n00:02:40.270 --> 00:02:43.432\nSo, whether it's 12 or 12R2, either way.\n\n60\n00:02:43.432 --> 00:02:47.215\nWe're talking about standard,\nwe're talking about data center, you know,\n\n61\n00:02:47.215 --> 00:02:48.974\nwe're talking about core, right?\n\n62\n00:02:48.974 --> 00:02:50.390\nWe can do this on core.\n\n63\n00:02:50.390 --> 00:02:53.650\nIf we were talking about Server\n16 we'd be talking about nano.\n\n64\n00:02:53.650 --> 00:02:55.040\nWe don't support NLB on nano.\n\n65\n00:02:55.040 --> 00:02:57.700\nActually that's a good question I don't\nknow if we do support that on nano.\n\n66\n00:02:57.700 --> 00:02:59.861\nI don't remember if that's a-\n&gt;&gt; I don't remember it being one of those\n\n67\n00:02:59.861 --> 00:03:00.951\n&gt;&gt; I don't think it's one of those,\n\n68\n00:03:00.951 --> 00:03:02.090\nyeah I don't think it is actually.\n\n69\n00:03:02.090 --> 00:03:06.220\nSo it's probably not a nano but\ncertainly we can do it out on core.\n\n70\n00:03:06.220 --> 00:03:08.890\nWe can do anywhere from\n2 as I was suggesting,\n\n71\n00:03:08.890 --> 00:03:12.370\nto a maximum of 32 nodes in the cluster.\n\n72\n00:03:12.370 --> 00:03:16.048\nSo, we scale out adding when\nwe say nodes in the cluster,\n\n73\n00:03:16.048 --> 00:03:21.262\ntranslated what that means is individual\nhosts that are adding their support and\n\n74\n00:03:21.262 --> 00:03:25.193\ntheir capabilities to this\nentity that we call the cluster.\n\n75\n00:03:25.193 --> 00:03:26.479\nWhich is how we group and\n\n76\n00:03:26.479 --> 00:03:29.900\nmanage all of the hosts that\nare part of the NLB functionality.\n\n77\n00:03:30.900 --> 00:03:33.380\nWe create the cluster, and we set that up.\n\n78\n00:03:33.380 --> 00:03:36.960\nWe're gonna actually walk through that\nusing a combination of PowerShell and\n\n79\n00:03:36.960 --> 00:03:40.580\nthe Server Manager base GUI\ninterface that we have for NLB.\n\n80\n00:03:40.580 --> 00:03:44.010\nBut we create a virtual network address\nand virtual network adapter, or\n\n81\n00:03:44.010 --> 00:03:47.780\nadapter, virtual network adapters,\nexcuse me, as a result of this.\n\n82\n00:03:47.780 --> 00:03:51.142\nAnd a virtual network adapter has\nan IP associated with it, and\n\n83\n00:03:51.142 --> 00:03:54.450\na media access controller,\nMAC address associated with it.\n\n84\n00:03:54.450 --> 00:03:56.750\nSo, it's fully functional,\nin that respect.\n\n85\n00:03:56.750 --> 00:04:01.260\nThe only difference is it is going to be\nlinked and managed through the clusters.\n\n86\n00:04:01.260 --> 00:04:04.490\nSo we're gonna use the cluster\nmanagement capabilities for that.\n\n87\n00:04:04.490 --> 00:04:09.530\nEach node will essentially provide and\ncontribute services and capabilities.\n\n88\n00:04:09.530 --> 00:04:13.380\nAnd we'll be able to load balance or\nspread out the traffic across that.\n\n89\n00:04:13.380 --> 00:04:15.379\nIf you wanna take a look\nright here with me,\n\n90\n00:04:15.379 --> 00:04:18.338\nwe do have PowerShell cmdlets\nthat are gonna be helpful for us.\n\n91\n00:04:18.338 --> 00:04:19.232\n&gt;&gt; Of course, yeah.\n\n92\n00:04:19.232 --> 00:04:22.070\n&gt;&gt; What would we be without\nPowerShell cmdlets of course.\n\n93\n00:04:22.070 --> 00:04:25.766\nAnd we're gonna use some of these in just\na minute or two as we start doing some of\n\n94\n00:04:25.766 --> 00:04:29.520\nthe configuration because we're gonna need\nto in order to be able to set up NLB.\n\n95\n00:04:29.520 --> 00:04:33.620\nSo I thought it was good just to start out\nby showing you the fact that there are not\n\n96\n00:04:33.620 --> 00:04:37.790\na huge number but there are a fair\namount of the cluster capable or\n\n97\n00:04:37.790 --> 00:04:40.900\nnetwork load balancing\nconfiguration cmdlets here.\n\n98\n00:04:40.900 --> 00:04:43.860\nSo good to know add NLB cluster node.\n\n99\n00:04:43.860 --> 00:04:45.434\nYou can imagine what that does,\n\n100\n00:04:45.434 --> 00:04:48.440\nwe put a new node into the NLB\ncluster once we set it up.\n\n101\n00:04:48.440 --> 00:04:51.000\nAdd a dedicated IP to the NLB cluster.\n\n102\n00:04:51.000 --> 00:04:57.340\nAdd NLB cluster node DIP,\nthat was one or node, yeah node DIP.\n\n103\n00:04:57.340 --> 00:04:59.470\nThat was one that I couldn't\nreally make heads or tails out of.\n\n104\n00:04:59.470 --> 00:05:04.330\nBecause you would think,\nit would be Add NLB cluster node IP.\n\n105\n00:05:04.330 --> 00:05:07.672\nBut, instead it's node DIP, right?\n\n106\n00:05:07.672 --> 00:05:09.885\n&gt;&gt; So, it's essentially node DIP.\n\n107\n00:05:09.885 --> 00:05:11.917\n&gt;&gt; [LAUGH]\n&gt;&gt; But it's D for dedicated, right?\n\n108\n00:05:11.917 --> 00:05:14.240\n&gt;&gt; So it's dedicated IP,\nI get why they did it.\n\n109\n00:05:14.240 --> 00:05:16.880\nBut, it's just kind of those weird\nones like, all right yeah, but,\n\n110\n00:05:16.880 --> 00:05:19.880\ncouldn't you come up with\nsomething better than node DIP?\n\n111\n00:05:19.880 --> 00:05:23.350\nAs opposed to node IP,\nor I do't know, anyway.\n\n112\n00:05:23.350 --> 00:05:25.430\nSo anyways, [LAUGH] so\nyou get stuff like that.\n\n113\n00:05:25.430 --> 00:05:28.620\nWe have NLB cluster port or\nAdd NLB cluster port rule.\n\n114\n00:05:28.620 --> 00:05:32.620\nWe'll be talking about port rules, and\nhow we're gonna manage and configure and\n\n115\n00:05:32.620 --> 00:05:35.980\nwork with them,\nadding a virtual IP to the NLB cluster.\n\n116\n00:05:35.980 --> 00:05:41.260\nYou can see NLB cluster VIP, you know that\none also makes sense, VIP for virtual IP.\n\n117\n00:05:41.260 --> 00:05:44.170\nDisable the port rules,\nEnable the port rule,\n\n118\n00:05:44.170 --> 00:05:48.070\nGet the configuration on the cluster,\nGet NLB cluster.\n\n119\n00:05:48.070 --> 00:05:52.230\nNLB cluster drive info,\nGet NLB cluster node DIP,\n\n120\n00:05:52.230 --> 00:05:56.803\nI like that one as well if you have\nthe specific dedicated IP added in.\n\n121\n00:05:56.803 --> 00:05:59.835\nSo you kinda walk down the list here and\nget a sense of what's going on.\n\n122\n00:05:59.835 --> 00:06:01.935\nRemember NLB is failure-aware.\n\n123\n00:06:01.935 --> 00:06:05.521\nWe lose a cluster member,\nwe are able to understand that and\n\n124\n00:06:05.521 --> 00:06:07.758\nwe're able to adjust accordingly.\n\n125\n00:06:07.758 --> 00:06:12.221\nSo as a result we are going to remove that\ncluster node, we're not gonna balance\n\n126\n00:06:12.221 --> 00:06:16.590\nacross that and have traffic going in and\nout of that node if it fails out.\n\n127\n00:06:16.590 --> 00:06:18.710\nWe're gonna kinda circle the wagons and\n\n128\n00:06:18.710 --> 00:06:21.800\nmake sure that things are actually going\nto work the right way as a result.\n\n129\n00:06:21.800 --> 00:06:24.170\nSo it is a resilient technology.\n\n130\n00:06:24.170 --> 00:06:26.150\nWe do traffic of forwarding and\n\n131\n00:06:26.150 --> 00:06:29.490\nessentially managed traffic,\ndirecting traffic.\n\n132\n00:06:29.490 --> 00:06:32.584\nYou want a very prescribed\nmanner when we set up NLB.\n\n133\n00:06:32.584 --> 00:06:36.970\nA lot of times you hear people talk about\nthis idea of being able to go through.\n\n134\n00:06:38.050 --> 00:06:40.620\nAnd they often just they're now\ngonna refer to it as round robining.\n\n135\n00:06:40.620 --> 00:06:43.080\nI think that's a term a lot\nof times you hear about.\n\n136\n00:06:43.080 --> 00:06:46.970\nBut it's really more aptly used and\ndescribed with DNS, cuz that's really what\n\n137\n00:06:46.970 --> 00:06:50.090\nwe see and hear round robining well,\nat least in theory anyway.\n\n138\n00:06:50.090 --> 00:06:54.500\nYou should hear and\nsee round robining associated with it.\n\n139\n00:06:54.500 --> 00:06:57.370\nI often hear people describe NLB or\ntechnologies\n\n140\n00:06:57.370 --> 00:07:02.060\nlike NLB with typically a load\nbalancing element associated with them.\n\n141\n00:07:02.060 --> 00:07:06.760\nAlso things like, what am I thinking of?\n\n142\n00:07:06.760 --> 00:07:08.632\nI can't think of what I\nwanted to say right now.\n\n143\n00:07:08.632 --> 00:07:11.740\n&gt;&gt; [LAUGH]\n&gt;&gt; The load balancing technology we use in\n\n144\n00:07:11.740 --> 00:07:14.157\nvirtualized clusters, as well.\n\n145\n00:07:14.157 --> 00:07:16.081\nDRM, Dynamic Resource Manage, yeah,\n\n146\n00:07:16.081 --> 00:07:19.910\nDistributed Resource Management I\njust couldn't think of the acronym.\n\n147\n00:07:19.910 --> 00:07:21.956\nBut when we hear those kind\nof technologies described,\n\n148\n00:07:21.956 --> 00:07:25.186\na lot of times people say yeah, we're\nreally just, we're round robining, right?\n\n149\n00:07:25.186 --> 00:07:26.117\nI mean, that's what we're doing.\n\n150\n00:07:26.117 --> 00:07:28.982\nWell, we're doing a little bit more\nthan just round robining, right?\n\n151\n00:07:28.982 --> 00:07:30.410\nThere's more to it than that.\n\n152\n00:07:30.410 --> 00:07:34.200\n&gt;&gt; I always thought of round robining\nas poor man's network load balancing.\n\n153\n00:07:34.200 --> 00:07:36.540\nCuz you're kinda doing it without the,\n&gt;&gt; Without the interface and\n\n154\n00:07:36.540 --> 00:07:37.490\nthe overlay, and all that.\n\n155\n00:07:37.490 --> 00:07:42.120\n&gt;&gt; Yeah, you're just using DNS records,\nbut there's no failure awareness,\n\n156\n00:07:42.120 --> 00:07:44.360\nthere's nothing automated about it.\n\n157\n00:07:44.360 --> 00:07:46.850\nYou're just rotating which\nrecords you've returned.\n\n158\n00:07:46.850 --> 00:07:50.110\nSo it's a poor man's load balancing,\nbut it's not network load balancing.\n\n159\n00:07:50.110 --> 00:07:52.753\nWhat we're talking about is\nnot round-robining, right?\n\n160\n00:07:52.753 --> 00:07:56.719\n&gt;&gt; No, cuz essentially the traffic comes\ninbound based on the configuration of\n\n161\n00:07:56.719 --> 00:07:57.456\nthe cluster.\n\n162\n00:07:57.456 --> 00:08:00.085\nOnly one of the nodes will\naccept that inbound traffic and\n\n163\n00:08:00.085 --> 00:08:01.413\nEssentially deals with it.\n\n164\n00:08:01.413 --> 00:08:04.317\nAnd we're not just saying, okay, it was\nnumber one that got it this time, but\n\n165\n00:08:04.317 --> 00:08:05.560\ncenter two gets it the next time.\n\n166\n00:08:05.560 --> 00:08:07.138\nIt's not that [CROSSTALK].\n\n167\n00:08:07.138 --> 00:08:09.280\n&gt;&gt; It's the IP address and sits out there.\n\n168\n00:08:09.280 --> 00:08:11.920\n&gt;&gt; Exactly, it's a little bit different,\npeople often say that.\n\n169\n00:08:11.920 --> 00:08:14.040\nBut it's not necessarily\nthe best way to describe it.\n\n170\n00:08:14.040 --> 00:08:17.130\nSo, I just wanna make sure we're\naware that we're thinking about that\n\n171\n00:08:17.130 --> 00:08:18.570\nas we look to get started.\n\n172\n00:08:18.570 --> 00:08:20.340\nWe can administratively remove nodes,\n\n173\n00:08:20.340 --> 00:08:25.110\nor dd nodes to the cluster, essentially\nbuilding out or trimming our capabilities.\n\n174\n00:08:25.110 --> 00:08:26.550\nBut as we said, we're failure aware.\n\n175\n00:08:26.550 --> 00:08:30.300\nIf one fails without our knowledge or\nfails during the use,\n\n176\n00:08:30.300 --> 00:08:32.580\nthen we do also have a way to know that.\n\n177\n00:08:32.580 --> 00:08:36.500\nWe use a heart beating mechanism pretty\nstandard in most of these systems where\n\n178\n00:08:36.500 --> 00:08:38.610\nwe're checking the health of the nodes.\n\n179\n00:08:38.610 --> 00:08:42.670\nEvery so many seconds, hear you alive,\nhear you alive, hear you alive.\n\n180\n00:08:42.670 --> 00:08:44.710\nKind of like that back seat, are we there,\n\n181\n00:08:44.710 --> 00:08:47.140\nare we there, are we in the area,\nthat we often get, right?\n\n182\n00:08:47.140 --> 00:08:51.110\nWe do use failure detection by having\na heart beating mechanism just so\n\n183\n00:08:51.110 --> 00:08:52.220\nwe're aware of that.\n\n184\n00:08:52.220 --> 00:08:55.830\nWe're transmitting it every second,\nso once a second we're transmitting\n\n185\n00:08:55.830 --> 00:08:58.580\nheartbeats to and\nfrom the members of the cluster,\n\n186\n00:08:58.580 --> 00:09:01.540\nthe members of the cluster central\nchecking in, I should say.\n\n187\n00:09:01.540 --> 00:09:04.070\nSo they're doing a heartbeat\nevery second between nodes\n\n188\n00:09:04.070 --> 00:09:06.850\nto essentially say that they are alive so\njust be aware of that.\n\n189\n00:09:06.850 --> 00:09:11.330\nAnd we automatically remove the node\nfrom the cluster if we miss a total of,\n\n190\n00:09:11.330 --> 00:09:12.743\nyou know how many?\n\n191\n00:09:12.743 --> 00:09:14.810\n&gt;&gt; Five?\n&gt;&gt; Five consecutive.\n\n192\n00:09:14.810 --> 00:09:17.160\nIt's funny how that worked out where\nI said that and you do right there,\n\n193\n00:09:17.160 --> 00:09:17.720\nright there five.\n\n194\n00:09:17.720 --> 00:09:19.510\n&gt;&gt; I'm counting fingers there, [INAUDIBLE]\n&gt;&gt; So\n\n195\n00:09:19.510 --> 00:09:22.360\ntotal of five consecutive heart beats.\n\n196\n00:09:22.360 --> 00:09:27.620\nSo if we go missing for five seconds,\nwe are then considered to be dead or\n\n197\n00:09:27.620 --> 00:09:32.140\njust non responsive, and\nwe are removed from the cluster.\n\n198\n00:09:32.140 --> 00:09:32.730\n&gt;&gt; Which is good.\nI mean,\n\n199\n00:09:32.730 --> 00:09:36.530\nyou don't wanna taking a node out if it\nmisses one heartbeat cuz that could have\n\n200\n00:09:36.530 --> 00:09:39.220\nbeen network congestion or\nany number of things, right?\n\n201\n00:09:39.220 --> 00:09:41.650\n&gt;&gt; Latency, we just may have responded,\nbut you know outside of the window.\n\n202\n00:09:41.650 --> 00:09:44.530\nYeah, there's a lot of reasons\nwhy something could happen that\n\n203\n00:09:44.530 --> 00:09:46.620\nmay disrupt that for several seconds.\n\n204\n00:09:46.620 --> 00:09:49.220\nBut perhaps not five seconds in a row,\nright?\n\n205\n00:09:49.220 --> 00:09:51.260\nOr intermittently,\nmaybe there's a problem.\n\n206\n00:09:51.260 --> 00:09:53.950\nSomebody's in the room doing one\nof these in here with the switch,\n\n207\n00:09:53.950 --> 00:09:54.910\nplugging in and out.\n\n208\n00:09:54.910 --> 00:09:56.220\nLet's see what happens while we do that.\n\n209\n00:09:56.220 --> 00:09:57.670\n&gt;&gt; The lights turn off,\nthe lights turn on.\n\n210\n00:09:57.670 --> 00:10:01.290\n&gt;&gt; Exactly, so as a result,\nyou just wanna make sure.\n\n211\n00:10:01.290 --> 00:10:03.290\n&gt;&gt; What does this switch do I wonder?\n\n212\n00:10:03.290 --> 00:10:05.970\n&gt;&gt; You ever see that commercial where they\nare doing that and the garage door is like\n\n213\n00:10:05.970 --> 00:10:08.120\nopening and closing and\nyou don't know what's happening?\n\n214\n00:10:08.120 --> 00:10:11.620\nLike, nothing's working I\ndon't know what's going on.\n\n215\n00:10:11.620 --> 00:10:12.460\nYeah, it's kind of funny.\n\n216\n00:10:12.460 --> 00:10:16.670\nAll right, so we can just think about\nsome of the background stuff, right,\n\n217\n00:10:16.670 --> 00:10:17.950\nassociated with this.\n\n218\n00:10:17.950 --> 00:10:18.760\nAll right, so let's go in.\n\n219\n00:10:18.760 --> 00:10:22.220\nLet's start to take a look at some of the\nways you can put these comandlets to work.\n\n220\n00:10:23.490 --> 00:10:24.666\nLet's come over here.\n\n221\n00:10:24.666 --> 00:10:29.110\nLet me just extend our lab timer just\nto make sure we don't run out of time.\n\n222\n00:10:29.110 --> 00:10:31.730\nIt's still a gray rainy day out there.\n\n223\n00:10:31.730 --> 00:10:35.180\nThat's the shot of the outside\nof the studio here at ITProTV.\n\n224\n00:10:35.180 --> 00:10:36.460\n&gt;&gt; It's awfully cold.\n\n225\n00:10:36.460 --> 00:10:40.070\n&gt;&gt; It's awfully foggy and\ncold for a Summer day.\n\n226\n00:10:40.070 --> 00:10:44.740\nAll right, [LAUGH] so let me just get\nto where I need to be so that we know.\n\n227\n00:10:44.740 --> 00:10:47.250\nWe're gonna start configuring\nthe new NOB cluster here.\n\n228\n00:10:47.250 --> 00:10:50.050\nJust getting on my PowerShell\ncommandlets and notes available so\n\n229\n00:10:50.050 --> 00:10:51.570\nthat we haven't typed\nit in the right stuff.\n\n230\n00:10:51.570 --> 00:10:53.840\nSo let me just tell you what\nI've done just to get ready.\n\n231\n00:10:54.980 --> 00:10:57.430\nHad a good breakfast this morning,\ngotta lot of sleep last night.\n\n232\n00:10:57.430 --> 00:10:58.120\n&gt;&gt; Always important.\n\n233\n00:10:58.120 --> 00:10:58.750\n&gt;&gt; Always important.\n\n234\n00:10:58.750 --> 00:10:59.670\nHad a couple cups of coffee.\n\n235\n00:10:59.670 --> 00:11:01.400\nAlways important, gotta do that.\n\n236\n00:11:01.400 --> 00:11:03.710\nCracked my knuckles and\nstretched out, right?\n\n237\n00:11:03.710 --> 00:11:04.660\nDid all that.\n\n238\n00:11:04.660 --> 00:11:07.100\nAnd did my-\n&gt;&gt; Yoga?\n\n239\n00:11:07.100 --> 00:11:10.490\n&gt;&gt; My running network administrator pose.\n\n240\n00:11:10.490 --> 00:11:12.560\nAll right so,\nafter I did all that and limbered up,\n\n241\n00:11:12.560 --> 00:11:15.690\nwhat we actually have done just\nsome backend stuff, right?\n\n242\n00:11:15.690 --> 00:11:20.080\nI've gone ahead and just used PowerShell\non the two nodes that I'm gonna configure\n\n243\n00:11:20.080 --> 00:11:21.460\nto set up our NLB cluster.\n\n244\n00:11:21.460 --> 00:11:23.610\nThey got two machines, both domain joined.\n\n245\n00:11:23.610 --> 00:11:26.790\nBy the way, you've gotta be a member\nof the domain to be able to set up NLB\n\n246\n00:11:26.790 --> 00:11:27.900\non a cluster node.\n\n247\n00:11:27.900 --> 00:11:30.910\nSo the only real criteria,\nother than obviously\n\n248\n00:11:30.910 --> 00:11:34.800\nrunning the appropriate OS 12 12R2,\nis you must be a domain joined member.\n\n249\n00:11:34.800 --> 00:11:36.670\nMeaning, you can't be\na stand alone machine,\n\n250\n00:11:36.670 --> 00:11:39.220\ncuz we don't support NLB\non non-domain members.\n\n251\n00:11:39.220 --> 00:11:40.155\nJust be aware of that.\n\n252\n00:11:40.155 --> 00:11:43.410\nSo we also want to make sure all\nthe machines are members of the domain.\n\n253\n00:11:44.600 --> 00:11:47.150\nMake sure we have 12,\nin this case 12 are 2 running.\n\n254\n00:11:47.150 --> 00:11:50.894\nAnd then I went ahead and\nI installed through Power Shell,\n\n255\n00:11:50.894 --> 00:11:55.491\nI used the command learnings to\nmachines install, just highlight it.\n\n256\n00:11:57.846 --> 00:12:02.837\nSomebody told me it's good to do this\ncuz it adds a little pizzazz and\n\n257\n00:12:02.837 --> 00:12:05.210\nvisual wow to my presentation.\n\n258\n00:12:05.210 --> 00:12:09.530\nSo I'm trying to do\nthat a little bit more.\n\n259\n00:12:09.530 --> 00:12:13.030\nAnd so, when we take a look,\nwe'll see install Windows feature cmdlet,\n\n260\n00:12:13.030 --> 00:12:15.970\nspecified with the name parameter\nto the name of the cmdlet, or\n\n261\n00:12:15.970 --> 00:12:18.640\nthe name of the feature in this case, NLB.\n\n262\n00:12:18.640 --> 00:12:20.670\nSo we're installing NLB feature.\n\n263\n00:12:20.670 --> 00:12:23.298\nI did the include all subfeature,\ninclude management too.\n\n264\n00:12:23.298 --> 00:12:25.740\n&gt;&gt; [LAUGH]\n&gt;&gt; I just didn't highlight all\n\n265\n00:12:25.740 --> 00:12:26.950\nthe way over.\n\n266\n00:12:26.950 --> 00:12:32.480\nInclude management tools, so I ran this\non both of the nodes that I wanna target.\n\n267\n00:12:32.480 --> 00:12:35.980\nBoth the zero one machine,\nthe S A zero one machine,\n\n268\n00:12:35.980 --> 00:12:37.310\nthe other machine we're gonna use.\n\n269\n00:12:37.310 --> 00:12:41.400\nYou'll see we got back our status\nsuccess true, restart needed no,\n\n270\n00:12:41.400 --> 00:12:42.640\nexit code success.\n\n271\n00:12:42.640 --> 00:12:44.270\nTelling us that we do have it installed.\n\n272\n00:12:44.270 --> 00:12:45.840\nBut this is just the beginning.\n\n273\n00:12:45.840 --> 00:12:48.740\nThis is not, okay, hey we're done,\nnow the fun begins.\n\n274\n00:12:48.740 --> 00:12:51.970\nCuz all we did was essentially\nstand up the NLB featureset.\n\n275\n00:12:51.970 --> 00:12:54.500\nNow, we've actually gotta go in and\nconfigure a cluster,\n\n276\n00:12:54.500 --> 00:12:55.720\nand make this thing work.\n\n277\n00:12:55.720 --> 00:12:59.340\nSo now what we're gonna do Is we're\ngonna use the new NLB cluster cmdlet.\n\n278\n00:12:59.340 --> 00:13:01.020\nSo let's start by typing that.\n\n279\n00:13:03.310 --> 00:13:06.150\nNow, while I'm doing that, we're just\ngonna auto tab to take advantage of\n\n280\n00:13:06.150 --> 00:13:09.170\nthe auto complete feature\nthat we talk about sometimes.\n\n281\n00:13:09.170 --> 00:13:12.915\nDoesn't matter which machine you start\nout by configuring the cluster on.\n\n282\n00:13:12.915 --> 00:13:15.625\nIn other words, I could easily\njust do this on the other machine,\n\n283\n00:13:15.625 --> 00:13:17.885\nit doesn't matter which one I start with,\nbut\n\n284\n00:13:17.885 --> 00:13:23.235\nI'm gonna run this to create the cluster\non the first node that I want to add in.\n\n285\n00:13:23.235 --> 00:13:27.490\nIn other words, the very first machine\nthat's gonna establish the beachhead for\n\n286\n00:13:27.490 --> 00:13:31.690\nmy cluster is gonna be the one that I\ntarget with the New-NlbCluster cmdlet,\n\n287\n00:13:31.690 --> 00:13:35.920\nbecause then I'm gonna add to the existing\ncluster when I do this going forward.\n\n288\n00:13:35.920 --> 00:13:39.205\nSo I only create a new cluster when\ntime is what I'm suggesting to you but\n\n289\n00:13:39.205 --> 00:13:42.825\nthen I add members to you from\nthat point just be aware of that.\n\n290\n00:13:42.825 --> 00:13:44.775\nI'm going to do interface names so\n\n291\n00:13:44.775 --> 00:13:50.325\nwe're using interface name parameter,\nlet's do if that's gonna work.\n\n292\n00:13:50.325 --> 00:13:58.390\nLet me tell you you cannot\ntrust me to type on my own.\n\n293\n00:13:58.390 --> 00:14:00.950\nInterface, there we go.\n\n294\n00:14:00.950 --> 00:14:03.100\nSo interface name is a parameter.\n\n295\n00:14:03.100 --> 00:14:06.480\nWe're gonna specify the name of\nthe interface that we wanna target.\n\n296\n00:14:06.480 --> 00:14:09.725\nThat will be in this case,\naptly named ethernet.\n\n297\n00:14:09.725 --> 00:14:12.770\n[LAUGH] That's up to us in the sense\nof what we have called their network\n\n298\n00:14:12.770 --> 00:14:13.660\nadaptors.\n\n299\n00:14:13.660 --> 00:14:15.550\nMine just happens to be called ethernet.\n\n300\n00:14:15.550 --> 00:14:18.790\nOperation mode, another parameter\nwe're gonna specify here.\n\n301\n00:14:21.114 --> 00:14:23.020\nLet's do operation mode.\n\n302\n00:14:23.020 --> 00:14:24.450\nAgain spell that correctly.\n\n303\n00:14:24.450 --> 00:14:28.060\nI'm telling you I would be dangerous if\nI could learn how to operate a keyboard.\n\n304\n00:14:28.060 --> 00:14:29.970\nAll right, Operationmode.\n\n305\n00:14:29.970 --> 00:14:32.540\nWe're gonna do multicast for this one.\n\n306\n00:14:35.004 --> 00:14:40.380\nSo we're gonna do this on the ethernet\ninterface in multicast mode.\n\n307\n00:14:40.380 --> 00:14:43.710\nAnd then I'm gonna specify\nthe cluster primary IP.\n\n308\n00:14:43.710 --> 00:14:49.500\nSo the parameter for\ncluster primary IP, -ClusterPrime.\n\n309\n00:14:49.500 --> 00:14:51.820\nThere we go, just wait for it to fill in.\n\n310\n00:14:51.820 --> 00:14:53.925\nLet's just scroll over so\nyou can see that, whoops.\n\n311\n00:14:53.925 --> 00:14:59.550\n-ClusterPrimary, kinda rolls over, but\nit's PrimaryIP right at the end there.\n\n312\n00:15:03.893 --> 00:15:05.004\nRight, there is the P, right?\n\n313\n00:15:05.004 --> 00:15:07.750\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, it's a close to primary IP.\n\n314\n00:15:07.750 --> 00:15:11.100\nNow absolutely, you have to have\npicked out ahead of time and\n\n315\n00:15:11.100 --> 00:15:14.220\nfought through the logic\nof what IP we're gonna use.\n\n316\n00:15:14.220 --> 00:15:18.000\nSo, we have to what subnet we're in, have\nto have an available IP, use a standard\n\n317\n00:15:18.000 --> 00:15:20.930\nthought process we would go through to\nmake sure we'd done our due diligence.\n\n318\n00:15:20.930 --> 00:15:22.700\nThat all of our planning is gonna be good.\n\n319\n00:15:22.700 --> 00:15:25.848\nSo I've already got an IP address\nthat I know I'm going to assign.\n\n320\n00:15:25.848 --> 00:15:30.340\n192.168.0.20 in my case, so I'll use that.\n\n321\n00:15:30.340 --> 00:15:33.230\nIn your world this would be\nan available IP in your subnet.\n\n322\n00:15:33.230 --> 00:15:34.860\nBut you would have to figure\nout which one you would.\n\n323\n00:15:34.860 --> 00:15:36.003\nAs I said [CROSSTALK].\n&gt;&gt; Can it also have been\n\n324\n00:15:36.003 --> 00:15:37.554\na public address that we had registered,\n\n325\n00:15:37.554 --> 00:15:39.920\nif we could use this on the way in\ninterface or on the way inside?\n\n326\n00:15:39.920 --> 00:15:41.440\n&gt;&gt; If we do want to make\nit available publicly.\n\n327\n00:15:41.440 --> 00:15:44.170\nA lot of times people may\nnot necessarily decide.\n\n328\n00:15:44.170 --> 00:15:48.585\nIt depends on what search is gonna run\nthrough the on top of the NLB Cluster.\n\n329\n00:15:48.585 --> 00:15:50.963\nBut it's great, actually,\ngreat point you bring up and\n\n330\n00:15:50.963 --> 00:15:54.245\na great thought process cuz we're just\nkinda talking about getting started.\n\n331\n00:15:54.245 --> 00:15:58.702\nWe really hadn't talking about, hey, what\nare the business cases or business uses\n\n332\n00:15:58.702 --> 00:16:02.967\nfor NLB other than, yeah, we just need to\nbuild out this Scalable to the 32 note\n\n333\n00:16:02.967 --> 00:16:07.390\ncluster that's gonna use software\nbalancing to essentially route traffic.\n\n334\n00:16:07.390 --> 00:16:11.723\nAnd decide where that traffic's gonna go\nbased on availability and port rules, and\n\n335\n00:16:11.723 --> 00:16:13.384\nautomatic failure detection.\n\n336\n00:16:13.384 --> 00:16:16.647\nBut we hadn't really talked about what\nkind of services would typically be\n\n337\n00:16:16.647 --> 00:16:18.080\na candidates for this, right?\n\n338\n00:16:18.080 --> 00:16:20.130\nFor instance,\nweb servers traditionally, right?\n\n339\n00:16:20.130 --> 00:16:24.108\nUsually very logical that we would wanna\nLOB to some sort of load balancing for\n\n340\n00:16:24.108 --> 00:16:28.453\na web service platform, in which case it's\nvery likely that we would wanna make sure\n\n341\n00:16:28.453 --> 00:16:31.776\nthat this is publicly available,\ncuz that would be important.\n\n342\n00:16:31.776 --> 00:16:36.796\nIt could be file servers, so if there are\nfile servers sitting behind the scenes,\n\n343\n00:16:36.796 --> 00:16:39.720\nwe may not want those to\nbe publicly available.\n\n344\n00:16:39.720 --> 00:16:43.824\nAt least not from outside\nunless someone was coming in,\n\n345\n00:16:43.824 --> 00:16:46.550\nlike on a VPN, something like that.\n\n346\n00:16:46.550 --> 00:16:47.309\nSo it would depend, right?\n\n347\n00:16:47.309 --> 00:16:51.230\nParticularly anything in the web service\narea, we would wanna make that available.\n\n348\n00:16:51.230 --> 00:16:56.001\nAnd so, a publicly registered IP that we\ncould then put out either through the DMZ\n\n349\n00:16:56.001 --> 00:16:57.700\nor out beyond the firewall.\n\n350\n00:16:57.700 --> 00:17:01.035\nAnd have available for inbound\ntraffic would make a lot of sense, and\n\n351\n00:17:01.035 --> 00:17:04.945\nweb services are one of the key things we\noften talk about using in scaling through\n\n352\n00:17:04.945 --> 00:17:05.650\nNLB, right?\n\n353\n00:17:05.650 --> 00:17:08.898\nSo yeah, that's a good a thought process,\nespecially between the world of the cloud\n\n354\n00:17:08.898 --> 00:17:12.210\nand virtualized hosting environments, so\nit's very important to think about that.\n\n355\n00:17:12.210 --> 00:17:13.630\nAll right, so we have our IP.\n\n356\n00:17:13.630 --> 00:17:16.220\nLet's put in the name of our cluster,\nit's the other thing we need to do.\n\n357\n00:17:16.220 --> 00:17:21.260\nSo we use the ClusterName parameter,\nClusterName.\n\n358\n00:17:21.260 --> 00:17:22.690\nAnd then we're gonna give it a name.\n\n359\n00:17:22.690 --> 00:17:26.994\nI'm gonna call mine just the name\nof the machine, so plabdm01 and\n\n360\n00:17:26.994 --> 00:17:31.094\nI'm gonna be real original,\nI'm gonna call it -nlb, right?\n\n361\n00:17:31.094 --> 00:17:34.060\n&gt;&gt; [LAUGH]\n&gt;&gt; So no mistaking what this one is.\n\n362\n00:17:34.060 --> 00:17:37.900\nAnd you do wanna obviously come up with\na naming convention that makes sense.\n\n363\n00:17:37.900 --> 00:17:40.130\nBut again, that's gonna be\nup to you to decide, right?\n\n364\n00:17:40.130 --> 00:17:42.950\nJust keep that in mind, the key\nthing here is the no spaces, right?\n\n365\n00:17:42.950 --> 00:17:45.550\n&gt;&gt; No spaces, and pretty sure it has\nto be unique within our network.\n\n366\n00:17:45.550 --> 00:17:50.920\n&gt;&gt; Unique, no special characters, no crazy\nthings like or tildes or things like that.\n\n367\n00:17:50.920 --> 00:17:52.670\nThe stuff that normally\nget you in trouble,\n\n368\n00:17:52.670 --> 00:17:54.610\nbut a dash obviously not a problem.\n\n369\n00:17:54.610 --> 00:17:56.180\nYou could see that works\nwith no trouble or\n\n370\n00:17:56.180 --> 00:17:58.210\nat least it will when I hit Enter anyway.\n\n371\n00:17:58.210 --> 00:18:00.438\nAll right, so we're gonna go ahead and\nI'm gonna hit Enter.\n\n372\n00:18:00.438 --> 00:18:04.270\nNow we will create this, so we'll just\ngive this say moment if you will.\n\n373\n00:18:04.270 --> 00:18:09.809\nWe'll just watch and see what does,\nand or does not happen here.\n\n374\n00:18:09.809 --> 00:18:13.463\nAll right, so we'll create\nonce this is done and spun up,\n\n375\n00:18:13.463 --> 00:18:18.250\nwe will create a NLB cluster with a name,\nas we said called PLABDM01NLB.\n\n376\n00:18:18.250 --> 00:18:22.805\nWe'll have our IP there of 192.168.0.20,\nand\n\n377\n00:18:22.805 --> 00:18:27.548\nas I said that will be a default\nclass c subnet mass, by the way.\n\n378\n00:18:27.548 --> 00:18:32.309\nSo it will be a /242552055255.0.\n\n379\n00:18:32.309 --> 00:18:35.510\nWe didn't specify that, but\nthat's gonna be implied.\n\n380\n00:18:35.510 --> 00:18:37.890\nAnd our mode is multi-cast\nas we talked about as well.\n\n381\n00:18:37.890 --> 00:18:40.070\nSo we're waiting on that to happen.\n\n382\n00:18:40.070 --> 00:18:43.040\nWe'll get a, I'm sorry,\nI didn't mean to cut you off just quickly.\n\n383\n00:18:43.040 --> 00:18:45.300\nWe'll see a return here once we are done.\n\n384\n00:18:45.300 --> 00:18:47.650\nIt's happening behind the scenes,\nbut nothing is finished yet.\n\n385\n00:18:47.650 --> 00:18:51.258\nBut we'll get a little line that\nessentially has those column headers\n\n386\n00:18:51.258 --> 00:18:55.247\nprovides that information for us to\ntell us that, that has been configured.\n\n387\n00:18:55.247 --> 00:18:58.402\nOnce it's actually finished up,\nit can take several minutes.\n\n388\n00:18:58.402 --> 00:19:00.983\nSo we're gonna let you say\nwhatever you wanna say, but\n\n389\n00:19:00.983 --> 00:19:04.310\nI'm gonna suggest we're gonna take\none of those famous TV timeouts.\n\n390\n00:19:04.310 --> 00:19:05.509\n&gt;&gt; Yeah, we have to.\n&gt;&gt; We're gonna wait for\n\n391\n00:19:05.509 --> 00:19:07.465\nthis to finish up behind the scenes,\ncome on back,\n\n392\n00:19:07.465 --> 00:19:09.928\nand you'll see the output of it\nas soon as we're actually done.\n\n393\n00:19:09.928 --> 00:19:11.240\nBut, yeah,\nwhat you want to throw in there?\n\n394\n00:19:11.240 --> 00:19:14.716\n&gt;&gt; So I was just kind of gonna\nsummarize and talk about, or\n\n395\n00:19:14.716 --> 00:19:17.220\ngo back over what you said a minute ago.\n\n396\n00:19:17.220 --> 00:19:21.660\nSo at the end of this command, what we're\nreally gonna have is a one node cluster.\n\n397\n00:19:21.660 --> 00:19:23.460\nSo this is building the cluster, and\n\n398\n00:19:23.460 --> 00:19:27.072\nit's adding the node that you're\nrunning the command on to the cluster.\n\n399\n00:19:27.072 --> 00:19:30.160\nBut we didn't specify the other server,\nso it does nothing about that yet.\n\n400\n00:19:30.160 --> 00:19:33.010\n[CROSSTALK]\n&gt;&gt; We'll be doing that, but\n\n401\n00:19:33.010 --> 00:19:35.726\nwe'll add a node into this is, yes.\n\n402\n00:19:35.726 --> 00:19:38.799\nSo the short answer is yes, and\nI should stop talking right?\n\n403\n00:19:38.799 --> 00:19:40.620\n&gt;&gt; [LAUGH]\n&gt;&gt; This is the establishment of\n\n404\n00:19:40.620 --> 00:19:41.520\nthe cluster.\n\n405\n00:19:41.520 --> 00:19:45.490\nAnd then the population to extend\nit to minimum of two or more nodes.\n\n406\n00:19:45.490 --> 00:19:47.968\nWe'll add a node in, after we have\ndone with initially standing it up.\n\n407\n00:19:47.968 --> 00:19:49.286\nBut for now, you're right,\n\n408\n00:19:49.286 --> 00:19:52.910\nessentially what we'll have at the end\nof this process is a one node cluster.\n\n409\n00:19:52.910 --> 00:19:54.304\n&gt;&gt; Right, which wouldn't do much good for\n\n410\n00:19:54.304 --> 00:19:55.299\nnetwork load balancing\n&gt;&gt; No\n\n411\n00:19:55.299 --> 00:19:56.792\n&gt;&gt; But for those of you preparing for\n\n412\n00:19:56.792 --> 00:20:00.254\nthe exam, I mean, you could stop here and\nuse that virtual IP and test it, and\n\n413\n00:20:00.254 --> 00:20:01.979\nsee if you can connect to it I suppose.\n\n414\n00:20:01.979 --> 00:20:02.908\n&gt;&gt; Should, you could.\n\n415\n00:20:02.908 --> 00:20:05.020\nYou should be able to, you can.\n\n416\n00:20:05.020 --> 00:20:07.663\nBut in terms of then adding port rules,\nscaling out,\n\n417\n00:20:07.663 --> 00:20:09.896\nactually seeing how\nthe traffic is managed,\n\n418\n00:20:09.896 --> 00:20:13.791\nyou're not gonna have any capabilities\nunless you add at least a second node.\n\n419\n00:20:13.791 --> 00:20:15.042\n&gt;&gt; So don't stop here.\n\n420\n00:20:15.042 --> 00:20:16.775\n&gt;&gt; Do not stop here, correct, yeah.\n\n421\n00:20:16.775 --> 00:20:17.671\n&gt;&gt; [LAUGH] All right.\n\n422\n00:20:17.671 --> 00:20:21.326\nWell Adam, we'll take a TV timeout then\nwe come back we should have our one-node\n\n423\n00:20:21.326 --> 00:20:22.310\ncluster ready to go.\n\n424\n00:20:23.400 --> 00:20:24.138\n&gt;&gt; Tada, magic.\n\n425\n00:20:24.138 --> 00:20:25.320\nI told you we would come right back.\n\n426\n00:20:25.320 --> 00:20:26.467\nIt's actually been like a year.\n\n427\n00:20:26.467 --> 00:20:28.839\n&gt;&gt; [LAUGH]\n&gt;&gt; And you see the growth and so\n\n428\n00:20:28.839 --> 00:20:29.880\nI had more up here.\n\n429\n00:20:29.880 --> 00:20:32.223\nNow it's just, it's got a look,\nthat's just what happens.\n\n430\n00:20:32.223 --> 00:20:33.748\nI'm also a lot shorter, right?\n\n431\n00:20:33.748 --> 00:20:35.210\n&gt;&gt; [LAUGH]\n&gt;&gt; [LAUGH] Anyway, so we are back.\n\n432\n00:20:35.210 --> 00:20:36.220\nLet's take a look.\n\n433\n00:20:36.220 --> 00:20:40.100\nWe actually finished up, and you could\nsee as I said, we would get this little\n\n434\n00:20:40.100 --> 00:20:44.050\noutput that tells us, or the finish\nstatement that tells us the name,\n\n435\n00:20:44.050 --> 00:20:48.830\nthe IP address, subnet mask, the mode,\n[COUGH] all of that is listed.\n\n436\n00:20:48.830 --> 00:20:51.100\nWe're done with the initial\nconfiguration of the cluster.\n\n437\n00:20:51.100 --> 00:20:54.080\nBut we are just beginning\nour conversation here.\n\n438\n00:20:54.080 --> 00:20:57.330\nMike was right to call this out and said,\n\n439\n00:20:57.330 --> 00:21:00.590\nhey, if that is a publicly available IP or\nprivate, either way.\n\n440\n00:21:00.590 --> 00:21:01.760\nWe have to make it available.\n\n441\n00:21:01.760 --> 00:21:02.980\nSo what do you think the next step is?\n\n442\n00:21:02.980 --> 00:21:05.416\nIf we gotta tell people how to\nfind something with IPs, and\n\n443\n00:21:05.416 --> 00:21:07.465\ntell them what to do,\nwhere are we gonna go next?\n\n444\n00:21:07.465 --> 00:21:11.321\n&gt;&gt; I think we're gonna end up\nregistering this name and IP, and DNS.\n\n445\n00:21:11.321 --> 00:21:12.680\nThat would be my thought.\n\n446\n00:21:12.680 --> 00:21:14.731\n&gt;&gt; That's why I'm gonna go\nto my domain controller,\n\n447\n00:21:14.731 --> 00:21:16.171\ncuz that's where we're gonna go.\n\n448\n00:21:16.171 --> 00:21:20.574\nAll right, so we're gonna set up a host\nrecord in DNS to tell us that we actually\n\n449\n00:21:20.574 --> 00:21:23.111\nnow have this IP and\nassociate its function,\n\n450\n00:21:23.111 --> 00:21:26.486\nPLABDN010B as the name with\nthe host record for this IP.\n\n451\n00:21:26.486 --> 00:21:29.540\nSo we can resolve it at some point,\nso we're gonna do exactly that.\n\n452\n00:21:29.540 --> 00:21:33.290\nNow I'm sure a lot of you have seen and\nused DNS before.\n\n453\n00:21:33.290 --> 00:21:36.970\nHopefully, it's not a brand new experience\nfor you, but even if it is, no big deal.\n\n454\n00:21:36.970 --> 00:21:40.060\nLet's just quickly talk about what DNS\ndoes for a second, just at a high level.\n\n455\n00:21:40.060 --> 00:21:43.574\nSo help us, Mr.\nMike to understand the concepts of DNS,\n\n456\n00:21:43.574 --> 00:21:47.110\njust while I open the console and\nget us setup, okay?\n\n457\n00:21:47.110 --> 00:21:49.576\n&gt;&gt; Yeah, DNS, Domain Name System,\nright, it's for\n\n458\n00:21:49.576 --> 00:21:52.390\nresolving fully qualified domain names and\nIP addresses.\n\n459\n00:21:52.390 --> 00:21:56.678\nIt's like a phone book for our computers,\nso that we can call up DNS and say hey,\n\n460\n00:21:56.678 --> 00:21:59.366\nwhat's the IP address\nof www.whatever.com and\n\n461\n00:21:59.366 --> 00:22:02.957\nit can return the IP address,\nmy computer can now connect to that.\n\n462\n00:22:02.957 --> 00:22:06.653\nAnd same way here, we've got a virtual\nIP address that's gonna sit out in front\n\n463\n00:22:06.653 --> 00:22:09.758\nof our cluster, and\nthat's what everybody's gonna connect to.\n\n464\n00:22:09.758 --> 00:22:12.528\nAnd so when they type in that name or\nwhen they got an application\n\n465\n00:22:12.528 --> 00:22:15.530\nthat uses that name, it's gonna\nresult it back into an IP address.\n\n466\n00:22:15.530 --> 00:22:18.953\nAnd I think it's good that we go on and\nshow them it's, because a lot of us kind\n\n467\n00:22:18.953 --> 00:22:21.740\nof get used to the fact that\nWindows are operating system,\n\n468\n00:22:21.740 --> 00:22:25.060\nserver clients, they are registered\nin records for themselves.\n\n469\n00:22:25.060 --> 00:22:27.867\nWe rarely have to go in and\nmake our own records anymore,\n\n470\n00:22:27.867 --> 00:22:30.328\neverything pretty much\ndoes it automatically.\n\n471\n00:22:30.328 --> 00:22:34.415\nSo you might wrongly assume that,\nhey, once I have set up this cluster,\n\n472\n00:22:34.415 --> 00:22:38.919\nI'm sure it's gonna go out and register\nitself with DNS and you would be wrong.\n\n473\n00:22:38.919 --> 00:22:39.715\n&gt;&gt; You would be.\n\n474\n00:22:39.715 --> 00:22:41.271\n&gt;&gt; Yeah.\n&gt;&gt; And that would be that because then you\n\n475\n00:22:41.271 --> 00:22:44.660\nwouldn't be able to find the cluster that\nyou went to all the trouble of setting up.\n\n476\n00:22:44.660 --> 00:22:45.347\n&gt;&gt; Whats the fun in that?\n\n477\n00:22:45.347 --> 00:22:47.934\n&gt;&gt; Well,, depends on what you\nwanna do with those nodes, right?\n\n478\n00:22:47.934 --> 00:22:49.646\n&gt;&gt; [LAUGH]\n&gt;&gt; If you're running a home gaming cluster\n\n479\n00:22:49.646 --> 00:22:51.271\nand you don't wanna share with anybody,\n\n480\n00:22:51.271 --> 00:22:53.277\nthen it probably makes a lot\nof sense not to do that.\n\n481\n00:22:53.277 --> 00:22:55.720\nAll right, so\nlet's take a look as Mike was suggesting.\n\n482\n00:22:55.720 --> 00:22:57.025\nAnd thank you for the overview of DNS.\n\n483\n00:22:57.025 --> 00:22:57.722\n&gt;&gt; Absolutely.\n\n484\n00:22:57.722 --> 00:23:01.511\n&gt;&gt; Very good sir, appreciate your\nhelp there distracting our audience.\n\n485\n00:23:01.511 --> 00:23:02.654\n&gt;&gt; [LAUGH]\n&gt;&gt; While I was creating magic\n\n486\n00:23:02.654 --> 00:23:03.364\nbehind the scene.\n\n487\n00:23:03.364 --> 00:23:05.075\n&gt;&gt; I'm the magician's assistant over here.\n\n488\n00:23:05.075 --> 00:23:07.231\n&gt;&gt; Don't pay attention to\nthe man off to the side.\n\n489\n00:23:07.231 --> 00:23:09.560\nI was actually continuing\nwith my Star Wars theme.\n\n490\n00:23:09.560 --> 00:23:13.504\nI actually watched the Revenge of\nthe Scythe, or whatever, [CROSSTALK].\n\n491\n00:23:13.504 --> 00:23:14.569\nIt was on last night.\n\n492\n00:23:14.569 --> 00:23:18.968\nAnd so, when the Obi-Wan character\nis sitting at the bar, and\n\n493\n00:23:18.968 --> 00:23:22.957\nhe's waiting on the shapeshifter\nto come and shoot him.\n\n494\n00:23:22.957 --> 00:23:26.830\nAnd so he's like, the little guy,\ndo you want to buy death sticks?\n\n495\n00:23:26.830 --> 00:23:27.980\nYou don't wanna sell me death sticks.\n\n496\n00:23:27.980 --> 00:23:29.140\nI don't want to sell me death sticks.\n\n497\n00:23:29.140 --> 00:23:30.846\nYou wanna go home and\nreevaluate your life?\n\n498\n00:23:30.846 --> 00:23:32.493\nI wanna go home and re-evaluate my life.\n\n499\n00:23:32.493 --> 00:23:35.072\n[LAUGH] I love it when you do\nthe Jedi [INAUDIBLE] every so often,\n\n500\n00:23:35.072 --> 00:23:35.939\nit's just so cool.\n\n501\n00:23:35.939 --> 00:23:37.930\nIt's like yes, you wanna be this.\n\n502\n00:23:37.930 --> 00:23:40.235\nOkay, I'm gonna be extra keen,\nthat's what I'm gonna be.\n\n503\n00:23:40.235 --> 00:23:42.335\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, say that again [INAUDIBLE].\n\n504\n00:23:42.335 --> 00:23:43.580\nAll right, so anyway.\n\n505\n00:23:43.580 --> 00:23:44.850\nSo we're gonna go ahead and\n\n506\n00:23:44.850 --> 00:23:48.410\nwe're gonna take a look at,\nexactly what Mike was describing.\n\n507\n00:23:48.410 --> 00:23:52.010\nHow do we use,\nspecifically the DNS management console?\n\n508\n00:23:52.010 --> 00:23:54.052\nHow do we go into what\nis known as the zones?\n\n509\n00:23:54.052 --> 00:23:58.190\nSo we have forward lookup zone, which\nis the namespace registration folder or\n\n510\n00:23:58.190 --> 00:24:01.325\ndirectory where all of our records,\nour host records, and\n\n511\n00:24:01.325 --> 00:24:04.854\nall the different kinds of records\nassociated with DNS are found.\n\n512\n00:24:04.854 --> 00:24:08.086\nAnd how do we then create\na brand new host record?\n\n513\n00:24:08.086 --> 00:24:11.482\nA host record is traditionally\nreferred to as a capital A,\n\n514\n00:24:11.482 --> 00:24:15.450\nyou can see in brackets or\nin parentheses there, or four As in a row.\n\n515\n00:24:15.450 --> 00:24:18.170\nOld school way would have been a single A.\n\n516\n00:24:18.170 --> 00:24:20.730\nThe newer updated version of host records,\nfour As.\n\n517\n00:24:20.730 --> 00:24:23.250\nBut essentially,\na new host record, an A record.\n\n518\n00:24:23.250 --> 00:24:23.842\nHow do we do that?\n\n519\n00:24:23.842 --> 00:24:27.620\nSo right-click on the zone,\nthe name space in question.\n\n520\n00:24:28.660 --> 00:24:32.035\nOur namespace where we want to associate\nthe cluster is the name of our domain,\n\n521\n00:24:32.035 --> 00:24:34.880\npracticelabs.com, so we see that here.\n\n522\n00:24:34.880 --> 00:24:38.860\nSo right-click, new host record.\n\n523\n00:24:38.860 --> 00:24:41.790\nWe get a little interface here\nwhere we can add the host record.\n\n524\n00:24:41.790 --> 00:24:44.470\nWe'll just pull this over so\nyou can see this.\n\n525\n00:24:44.470 --> 00:24:48.650\nAnd I'm gonna specify the name of\nthe host, so the host name, and\n\n526\n00:24:48.650 --> 00:24:49.600\nthe IP address, right?\n\n527\n00:24:49.600 --> 00:24:52.980\nSo the host name is PLABDM01-NLB.\n\n528\n00:24:52.980 --> 00:24:57.850\nThat happens to be the name of the machine\n\n529\n00:24:57.850 --> 00:25:02.510\nthat we created, or the name of\nthe cluster instance that we named,\n\n530\n00:25:02.510 --> 00:25:06.460\nthat we wanna be able to reference\nwith our IP address host record here.\n\n531\n00:25:06.460 --> 00:25:08.530\nSo, PLABDM01-NLB.\n\n532\n00:25:08.530 --> 00:25:13.204\nAnd notice, by the way, that it then\ncreates, it being the DNS interface,\n\n533\n00:25:13.204 --> 00:25:16.420\nit creates what Mike references\na fully qualified domain name, right?\n\n534\n00:25:16.420 --> 00:25:19.530\nThat's what we get but\nwe take the host name and\n\n535\n00:25:19.530 --> 00:25:24.450\nwe add it to the domain name or\nthe zone name for the name space.\n\n536\n00:25:24.450 --> 00:25:27.730\nAnd we get PLABDM01-NLB.\n\n537\n00:25:27.730 --> 00:25:31.600\nPractice labs period com,\nwhich is our fully qualified domain name..\n\n538\n00:25:31.600 --> 00:25:33.810\nHost and domain namespace joined together.\n\n539\n00:25:33.810 --> 00:25:37.300\nIt's kind of like peanut butter and jelly,\nor peanut butter and bananas, right?\n\n540\n00:25:37.300 --> 00:25:38.660\nJust living a happy life,\n&gt;&gt; [LAUGH]\n\n541\n00:25:38.660 --> 00:25:40.272\n&gt;&gt; And making your mouth feel good.\n\n542\n00:25:40.272 --> 00:25:44.272\nAll right, so IP address then, 192 168.\n\n543\n00:25:44.272 --> 00:25:45.925\nWhat did we do, 0.20, right?\n\n544\n00:25:45.925 --> 00:25:47.355\nSo 0.20.\n\n545\n00:25:47.355 --> 00:25:50.958\nWe're not gonna bother with creating a,\nwhat's called a pointer record,\n\n546\n00:25:50.958 --> 00:25:51.643\na PTR record.\n\n547\n00:25:51.643 --> 00:25:56.333\nThis will be for, not our forward lookup\nzone, which is where we are right now, but\n\n548\n00:25:56.333 --> 00:25:59.990\nwe'll populate what's known\nas our reverse lookup zone.\n\n549\n00:25:59.990 --> 00:26:04.370\nWhich would allow us, instead of what Mike\ndescribed, which he described the process\n\n550\n00:26:04.370 --> 00:26:07.311\nfor name resolution in DNS,\nfor really a forward lookup.\n\n551\n00:26:07.311 --> 00:26:10.560\nWhich is, although he didn't call\nit out and just name it that, but\n\n552\n00:26:10.560 --> 00:26:12.695\ngenerically that's what he described.\n\n553\n00:26:12.695 --> 00:26:15.235\nWhich is, hey,\nI have a fully qualified domain name, www.\n\n554\n00:26:15.235 --> 00:26:17.957\nwhatever you said, right?\n\n555\n00:26:17.957 --> 00:26:19.137\nDot whatever.\n\n556\n00:26:19.137 --> 00:26:20.537\nAnd then I want to go get it.\n\n557\n00:26:20.537 --> 00:26:25.667\nSo I type that into my web browser, my\nweb-friendly, or DNS-friendly application.\n\n558\n00:26:25.667 --> 00:26:29.087\nAnd it comes back with\na lookup against this record,\n\n559\n00:26:29.087 --> 00:26:31.353\nand says,\nyou want IP address 192.169.0.20.\n\n560\n00:26:31.353 --> 00:26:37.323\nGo over there to that machine and\nthat will give you what you want.\n\n561\n00:26:37.323 --> 00:26:38.124\nOr we could do it the opposite way.\n\n562\n00:26:38.124 --> 00:26:43.035\nWe could provide the IP 192.168.0.20\nin our address string, our query, and\n\n563\n00:26:43.035 --> 00:26:46.963\nwe could then ask DNS to give us\nthe fully qualified domain name.\n\n564\n00:26:46.963 --> 00:26:50.220\nIf we did that, we would be doing\nwhat is called a reverse lookup.\n\n565\n00:26:50.220 --> 00:26:54.990\nAnd the reverse lookup uses what is\nknown as a PTR, a pointer record.\n\n566\n00:26:54.990 --> 00:26:58.420\nIt's a very specific kind of record\nthat inverts the host record.\n\n567\n00:26:58.420 --> 00:27:01.200\nIt's the opposite or\nmirror image of the host record.\n\n568\n00:27:01.200 --> 00:27:02.440\nHost record is host name to IP.\n\n569\n00:27:02.440 --> 00:27:05.340\nPointer record is IP to host name.\n\n570\n00:27:05.340 --> 00:27:06.980\nIt's just a matter of what we create.\n\n571\n00:27:06.980 --> 00:27:11.060\nAnd so we could check off the box here\nif we wanted to create a pointer record.\n\n572\n00:27:11.060 --> 00:27:14.090\nBut we're not gonna bother with that, we\ndon't need that right now for the cluster.\n\n573\n00:27:14.090 --> 00:27:16.650\nWe're just pointing that out\nsince we're here doing a quick\n\n574\n00:27:16.650 --> 00:27:17.860\ntwo minute primer on DNS.\n\n575\n00:27:17.860 --> 00:27:19.710\nThought I'd mention that while we're here.\n\n576\n00:27:19.710 --> 00:27:21.715\nSo we're gonna add the host real quick.\n\n577\n00:27:21.715 --> 00:27:23.420\nHost record has been successfully created.\n\n578\n00:27:23.420 --> 00:27:24.590\nThat's what we want to see.\n\n579\n00:27:24.590 --> 00:27:26.505\nSo we're gonna go ahead and click OK.\n\n580\n00:27:27.930 --> 00:27:32.870\nIf we needed to add more host records,\nwe could just keep cycling through here,\n\n581\n00:27:32.870 --> 00:27:35.200\nput another one in, hit Add,\nput another one in, hit Add.\n\n582\n00:27:35.200 --> 00:27:37.830\nAnd when we're done,\nwe could then go ahead and hit Done.\n\n583\n00:27:37.830 --> 00:27:41.800\nAnd we'll then be able to get out\nof the record interface here.\n\n584\n00:27:41.800 --> 00:27:44.080\nWe got our new host record\nsitting right there.\n\n585\n00:27:44.080 --> 00:27:44.680\nYou could see it.\n\n586\n00:27:44.680 --> 00:27:46.250\nSo we know that that's good.\n\n587\n00:27:46.250 --> 00:27:50.920\nAnd so now we're able to rely on DNS or\nuse DNS to be able to resolve.\n\n588\n00:27:50.920 --> 00:27:53.030\nNow, let's think about the logic of this,\nright?\n\n589\n00:27:53.030 --> 00:27:56.008\nWhy do we have to first\ncreate the brand new cluster,\n\n590\n00:27:56.008 --> 00:28:01.465\nthen register it in DNS before we,\nwhat are we gonna do as a third step?\n\n591\n00:28:01.465 --> 00:28:05.300\nWe've set up our cluster,\nour first, our single node cluster.\n\n592\n00:28:05.300 --> 00:28:10.590\nWe've now made, in theory, everybody aware\nof that cluster capability through DNS.\n\n593\n00:28:10.590 --> 00:28:12.280\nAnd what are we gonna do next?\n\n594\n00:28:12.280 --> 00:28:13.100\nWhat's the next step?\n\n595\n00:28:13.100 --> 00:28:14.880\n&gt;&gt; I think we need another\nhost in our cluster.\n\n596\n00:28:14.880 --> 00:28:17.120\n&gt;&gt; We need another host to our cluster.\n\n597\n00:28:17.120 --> 00:28:19.110\nBut without DNS working and\n\n598\n00:28:19.110 --> 00:28:22.450\na host record to tell us how to find that,\nit would be a little challenging.\n\n599\n00:28:22.450 --> 00:28:22.980\n&gt;&gt; It would be tricky.\n\n600\n00:28:22.980 --> 00:28:24.420\n&gt;&gt; It would be a little tricky, right?\n\n601\n00:28:24.420 --> 00:28:25.500\nAnd so tricky, in fact,\n\n602\n00:28:25.500 --> 00:28:28.040\nthat it's gonna have to happen in\nthe next episode because guess what?\n\n603\n00:28:28.040 --> 00:28:28.580\n&gt;&gt; We're out of time.\n\n604\n00:28:28.580 --> 00:28:30.410\n&gt;&gt; We are.\nAnd although it's not tricky and\n\n605\n00:28:30.410 --> 00:28:33.460\nwe could certainly do it, but we're not\ngonna be able to do it cuz someone's\n\n606\n00:28:33.460 --> 00:28:35.320\ngonna yell at us cuz we\nare gonna take too much time.\n\n607\n00:28:35.320 --> 00:28:37.830\nSo we are gonna come back, invite you\nto come back for another episode.\n\n608\n00:28:37.830 --> 00:28:40.320\nWe're gonna add a secondary\nnode to the NLB cluster, so\n\n609\n00:28:40.320 --> 00:28:41.480\nplease come back and join us.\n\n610\n00:28:41.480 --> 00:28:44.410\nAnd we're gonna continue\nour configuration for NLB.\n\n611\n00:28:44.410 --> 00:28:45.340\n&gt;&gt; Sounds like a plan.\n\n612\n00:28:45.340 --> 00:28:47.700\nHope everybody's here\nwith us when we get back.\n\n613\n00:28:47.700 --> 00:28:50.100\nSigning off for ITProTV-\n&gt;&gt; Are you coming back?\n\n614\n00:28:50.100 --> 00:28:50.834\n&gt;&gt; I'm gonna come back, too.\n\n615\n00:28:50.834 --> 00:28:52.170\n[CROSSTALK]\n&gt;&gt; I guess that means I gotta come back.\n\n616\n00:28:52.170 --> 00:28:52.690\n&gt;&gt; Yeah, yeah.\n\n617\n00:28:52.690 --> 00:28:53.810\n&gt;&gt; I was gonna go hang out.\n\n618\n00:28:53.810 --> 00:28:54.850\n&gt;&gt; You gotta actually add the node.\n\n619\n00:28:54.850 --> 00:28:55.660\n&gt;&gt; I gotta actually do this.\n\n620\n00:28:55.660 --> 00:28:56.220\nI gotta come back.\n\n621\n00:28:56.220 --> 00:28:57.350\nSo I guess we're gonna come back.\n\n622\n00:28:57.350 --> 00:28:58.600\n&gt;&gt; Yeah.\n&gt;&gt; Which means you should as well.\n\n623\n00:28:58.600 --> 00:28:59.390\n&gt;&gt; Absolutely.\n\n624\n00:28:59.390 --> 00:29:00.142\nWe'll see you soon.\n\n625\n00:29:02.659 --> 00:29:08.558\n[MUSIC]\n\n626\n00:29:08.558 --> 00:29:11.715\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "237460522"
        },
        {
          "description": "Adam and Mike use the network load balancing manager mmc to connect to the existing cluster and begin configuration by demonstrating how to add two hosts into the cluster.",
          "length": "1644",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-9-1-2-implement_network_load_balancing_pt2-100617-PGM.00_27_08_21.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-9-1-2-implement_network_load_balancing_pt2-100617-PGM.00_27_08_21.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-9-1-2-implement_network_load_balancing_pt2-100617-PGM.00_27_08_21.Still001-sm.jpg",
          "title": "Implement Network Load Balancing Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:02.233\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.233 --> 00:00:07.163\n&gt;&gt; [CROSSTALK]\n\n3\n00:00:07.163 --> 00:00:08.792\n[MUSIC]\n\n4\n00:00:08.792 --> 00:00:11.600\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:11.600 --> 00:00:16.470\n&gt;&gt; Hello, welcome to another\nexciting episode, here at ITProTV.\n\n6\n00:00:16.470 --> 00:00:21.212\nI'm your host Mike Roderick, today we're\ngonna be working on our MCSA Windows\n\n7\n00:00:21.212 --> 00:00:25.273\nserver 2012 R2, preparing for\nthat 70 dash 4-12 exam.\n\n8\n00:00:25.273 --> 00:00:28.783\nAnd in this episode we're\nactually doing a part two,\n\n9\n00:00:28.783 --> 00:00:34.000\na continuation of our work with how\nwe implement network load balancing.\n\n10\n00:00:34.000 --> 00:00:36.170\nSo we've got a lot done so far,\nbut there is more to do, and\n\n11\n00:00:36.170 --> 00:00:39.500\nhere to show us the way is Mr.\nAdam Gordon, welcome back Adam.\n\n12\n00:00:39.500 --> 00:00:40.210\n&gt;&gt; Hello, and\n\n13\n00:00:40.210 --> 00:00:42.640\nhello from my other low balance partner\nover here that you're not seeing.\n\n14\n00:00:42.640 --> 00:00:45.763\nAnd hello for my third node, who will\nbe standing over here momentarily.\n\n15\n00:00:45.763 --> 00:00:50.173\nThat would be Mike, notice the whole color\nthemed shirt thing that's the trick for\n\n16\n00:00:50.173 --> 00:00:51.315\nthe load balancing.\n\n17\n00:00:51.315 --> 00:00:53.053\nYou have to have the right color,\nor otherwise it just doesn't work.\n\n18\n00:00:53.053 --> 00:00:53.719\n&gt;&gt; Otherwise you're just\nnot part of the cluster.\n\n19\n00:00:53.719 --> 00:00:54.907\n&gt;&gt; You're not part of the cluster,\nexactly.\n\n20\n00:00:54.907 --> 00:00:59.655\nAll right, so we are gonna continue with\nour conversations with regards to NLB.\n\n21\n00:00:59.655 --> 00:01:01.422\nWe Left off in our last episode.\n\n22\n00:01:01.422 --> 00:01:05.252\nOur first episode, I should say, but\nour last one, having gone through,\n\n23\n00:01:05.252 --> 00:01:09.282\ninstalled the NLB feature onto\nnodes that we're gonna add in.\n\n24\n00:01:09.282 --> 00:01:12.789\nWe created the NLB cluster and\nstood it up using PowerShell,\n\n25\n00:01:12.789 --> 00:01:15.212\ncreated a DNS host record to register it.\n\n26\n00:01:15.212 --> 00:01:20.674\nWe're gonna jump in on the second host\nhere in a moment, use the cluster manager,\n\n27\n00:01:20.674 --> 00:01:24.950\nthe NLB manager and see how to add,\nconnect to the cluster.\n\n28\n00:01:24.950 --> 00:01:27.574\nAnd then, add a host in from the graphical\ninterface kind of change things up\n\n29\n00:01:27.574 --> 00:01:28.894\na little bit, do a little bit of each.\n\n30\n00:01:28.894 --> 00:01:32.480\nBut I thought it would be good just\nto remind ourselves of some of\n\n31\n00:01:32.480 --> 00:01:35.808\nthe requirements associated\nwith the deployment of NLB.\n\n32\n00:01:35.808 --> 00:01:38.400\nI mentioned one or\ntwo as we were getting started.\n\n33\n00:01:38.400 --> 00:01:41.109\nDidn't really run through the entire\nthought process with you.\n\n34\n00:01:41.109 --> 00:01:43.883\nIt is in my mind I just think about it and\nsay, well,\n\n35\n00:01:43.883 --> 00:01:47.370\nof course it's logical you have to\nbe on the same subnet to do this.\n\n36\n00:01:47.370 --> 00:01:50.270\nBut then, I stopped and said well, wait\na second, not everybody's gonna know that,\n\n37\n00:01:50.270 --> 00:01:52.790\nso maybe we should actually\ntalk about those things.\n\n38\n00:01:52.790 --> 00:01:58.230\nSo we do have to have all the nodes in the\ncluster residing on the same IP subnet for\n\n39\n00:01:58.230 --> 00:01:59.360\ncommunication reasons.\n\n40\n00:01:59.360 --> 00:02:01.618\nThat's gonna be important\nas a requirement.\n\n41\n00:02:01.618 --> 00:02:08.420\nWe need to make sure that we have less\nthan 250 milliseconds of latency.\n\n42\n00:02:08.420 --> 00:02:10.920\nBecause if we exceed 250 milliseconds,\n\n43\n00:02:10.920 --> 00:02:13.710\nthe heart beating is most\nlikely gonna get disrupted.\n\n44\n00:02:13.710 --> 00:02:16.990\nAnd as a result, we may wind up with\nfailure detections that are false, and\n\n45\n00:02:16.990 --> 00:02:18.910\nthings like that can become a problem.\n\n46\n00:02:18.910 --> 00:02:23.070\nWe may lose the ability to manage and\nto configure and control traffic.\n\n47\n00:02:23.070 --> 00:02:25.055\nSo, just wanna be aware of that.\n\n48\n00:02:25.055 --> 00:02:29.705\nSo when we're designing what are called\ngeographically dispersed NLB clusters,\n\n49\n00:02:29.705 --> 00:02:34.865\nfancy title for the idea of having host\nnodes in different geographies that\n\n50\n00:02:34.865 --> 00:02:39.755\nare physically distinct but logically look\nthe same because of the IP subnet, right?\n\n51\n00:02:39.755 --> 00:02:44.855\nSo I have a host in let's say, New York\nand I have a host at my data center in\n\n52\n00:02:44.855 --> 00:02:51.080\nSan Pablo and I have a host at my\ndata center in Ireland, right?\n\n53\n00:02:51.080 --> 00:02:55.010\nI put the three of them together\nto form my NLB cluster.\n\n54\n00:02:55.010 --> 00:02:58.260\nI can do that even though they're not\ngeographically in the same place as long\n\n55\n00:02:58.260 --> 00:03:00.830\nas logically they're\nin the same IP subnet.\n\n56\n00:03:00.830 --> 00:03:03.930\nAnd that's easy enough to figure out\nthat should not be a challenge but,\n\n57\n00:03:03.930 --> 00:03:06.800\nthen I have to be aware of the idea\nof the latency that connects\n\n58\n00:03:06.800 --> 00:03:09.570\nthem on the dedicated,\nhopefully dedicated circuits, right?\n\n59\n00:03:09.570 --> 00:03:12.552\nIf we're relying on dial-up then we're,\nthat's probably not to work.\n\n60\n00:03:12.552 --> 00:03:13.340\n&gt;&gt; You tries to forget.\n\n61\n00:03:13.340 --> 00:03:15.170\n&gt;&gt; So, we just wanted to make\nsure we're aware of that.\n\n62\n00:03:15.170 --> 00:03:17.410\nDeploy the NLB cluster.\n\n63\n00:03:17.410 --> 00:03:21.540\nThinking about that, should I deploy\ngeographically disperse like that?\n\n64\n00:03:21.540 --> 00:03:26.096\nOr should I put separate clusters in each\nof those geographies localized to each\n\n65\n00:03:26.096 --> 00:03:29.634\nother that are gonna have a higher\nsurvival and success rate.\n\n66\n00:03:29.634 --> 00:03:30.885\nCuz the network traffic and\n\n67\n00:03:30.885 --> 00:03:33.560\nlatency problems are not gonna\nbe as difficult to matter.\n\n68\n00:03:33.560 --> 00:03:38.450\nSo yeah, we do have to make some\nthoughts that are logical as well as\n\n69\n00:03:38.450 --> 00:03:42.310\nstructural here in the sense of how\nare we gonna scale up and scale out.\n\n70\n00:03:42.310 --> 00:03:46.860\nCan we certify, maintain, and actually\ncontrol that latency to the point where we\n\n71\n00:03:46.860 --> 00:03:49.596\nguarantee we'll be under 250 milliseconds.\n\n72\n00:03:49.596 --> 00:03:50.618\nWe may or may not be able to,\n\n73\n00:03:50.618 --> 00:03:53.746\ndepending on the kind of circuits and the\nkind of bandwidth that we're putting in.\n\n74\n00:03:53.746 --> 00:03:58.630\nWhen you're running dedicated connections\nbetween these sites, it may be possible.\n\n75\n00:03:58.630 --> 00:04:02.677\nBut if you're relying on common carrier\nnetworks that are publicly available,\n\n76\n00:04:02.677 --> 00:04:05.115\nyou're not paying a premium\nin other words, for\n\n77\n00:04:05.115 --> 00:04:08.580\ndedicated the bill worth it may not\nbe realistic to say even with QoS.\n\n78\n00:04:08.580 --> 00:04:12.672\nAnd things like that, that we can maintain\nunder a 250 millisecond latency boundary.\n\n79\n00:04:12.672 --> 00:04:14.104\nSo, I just wanna make sure\nyou're aware of that.\n\n80\n00:04:14.104 --> 00:04:18.760\nWe do have to use DNS, we talked about\nthat, we could use DNS to round-robin and\n\n81\n00:04:18.760 --> 00:04:22.600\ndistribute the traffic when\nwe're doing geographic clusters.\n\n82\n00:04:22.600 --> 00:04:27.410\nSo we could set them up and have DNS\nas we talked about send out the traffic\n\n83\n00:04:27.410 --> 00:04:29.110\nby referencing it to different sites.\n\n84\n00:04:29.110 --> 00:04:30.220\nSo we could do that.\n\n85\n00:04:30.220 --> 00:04:32.999\nAll network adapters can\neither be set up as you\n\n86\n00:04:32.999 --> 00:04:37.997\nsaw with the operation mode parameter that\nwe used as either multicast or unicast.\n\n87\n00:04:37.997 --> 00:04:40.450\nWhen we set this up, I didn't\nreally talk about the differences.\n\n88\n00:04:40.450 --> 00:04:42.382\nJust said look, we're gonna do multicast.\n\n89\n00:04:42.382 --> 00:04:45.109\nAnd I'm not gonna put Mike on the spot,\ncuz he may or\n\n90\n00:04:45.109 --> 00:04:47.591\nmay not know the difference\nbetween this one.\n\n91\n00:04:47.591 --> 00:04:48.863\n&gt;&gt; [LAUGH]\n&gt;&gt; But it's actually kind of\n\n92\n00:04:48.863 --> 00:04:49.880\ninteresting, right?\n\n93\n00:04:49.880 --> 00:04:54.115\nSo when we specify unicast as our\noperation mode, we have to ensure,\n\n94\n00:04:54.115 --> 00:04:56.889\nif we're doing unicast\nrather I should say,\n\n95\n00:04:56.889 --> 00:05:00.610\nthat all cluster hosts use\nthe same MAC address, right?\n\n96\n00:05:00.610 --> 00:05:01.668\nAnd as a result, or well,\n\n97\n00:05:01.668 --> 00:05:04.857\nwhat we wanna know that I should say all\ncluster hosts use the same MAC address.\n\n98\n00:05:04.857 --> 00:05:08.792\nBut as a result of that,\noutgoing traffic, right?\n\n99\n00:05:08.792 --> 00:05:12.783\nIf it modifies the MAC address which\nit could use the modify MAC address to\n\n100\n00:05:12.783 --> 00:05:14.780\nessentially determine, right?\n\n101\n00:05:14.780 --> 00:05:16.560\nWhat the host is?\n\n102\n00:05:16.560 --> 00:05:19.430\nAnd remember we have that virtual IP\nthat it's kind of at the front of\n\n103\n00:05:19.430 --> 00:05:20.830\nit we were talking about this.\n\n104\n00:05:20.830 --> 00:05:22.900\nActually, I should've probably drawn\na picture, when I think about that.\n\n105\n00:05:22.900 --> 00:05:25.000\nBut can you whip up a picture real quick?\n\n106\n00:05:25.000 --> 00:05:27.140\n&gt;&gt; Absolutely.\n&gt;&gt; Mike can just sit there and quickly.\n\n107\n00:05:27.140 --> 00:05:27.727\n&gt;&gt; [LAUGH]\n&gt;&gt; No,\n\n108\n00:05:27.727 --> 00:05:28.428\nI know you can't do that on the fly.\n\n109\n00:05:28.428 --> 00:05:32.104\nBut just the idea would be that,\nwe're thinking about the fact that\n\n110\n00:05:32.104 --> 00:05:36.362\nif you think about having just kind of\nthis your massive rectangle let's say,\n\n111\n00:05:36.362 --> 00:05:38.701\nhypothetically the front of our network.\n\n112\n00:05:38.701 --> 00:05:42.159\nAnd everything comes in through that\ndoorway and then it's distributed, right.\n\n113\n00:05:42.159 --> 00:05:46.185\nThat's really what the cost represents\nthat virtual IP such at the front as you\n\n114\n00:05:46.185 --> 00:05:48.930\nwere suggesting in the last\nepisode out there force.\n\n115\n00:05:48.930 --> 00:05:50.348\nAnd everything comes in and\n\n116\n00:05:50.348 --> 00:05:53.960\nit's routed at two variants host\nabout one of the host find that.\n\n117\n00:05:53.960 --> 00:05:55.430\nBut all traffic comes and\nbuilds from that.\n\n118\n00:05:55.430 --> 00:06:00.620\nSo when we do unicast, we are essentially\noperating with a single MAC address and\n\n119\n00:06:00.620 --> 00:06:01.680\nwe're specifying that we're gonna,\n\n120\n00:06:01.680 --> 00:06:03.920\nthat the network adaptors\ngonna behave a certain way.\n\n121\n00:06:03.920 --> 00:06:06.560\nWhereas when we change over to multicast,\nright?\n\n122\n00:06:06.560 --> 00:06:12.540\nWe are then deciding that or when we\nuse the multicast mode it should say,\n\n123\n00:06:12.540 --> 00:06:15.020\neach cluster host gets to\nkeep its own MAC address, and\n\n124\n00:06:15.020 --> 00:06:17.960\nis uniquely identified as opposed\nto having this common MAC address.\n\n125\n00:06:17.960 --> 00:06:22.145\nSo it's a question of how we set this up\nand the functionality we're looking for?\n\n126\n00:06:22.145 --> 00:06:24.948\nWe chose multicast when we\nsetup our mode of operation,\n\n127\n00:06:24.948 --> 00:06:28.647\nwhich means in each host will be able to\nkeep its own unique a Mac address and\n\n128\n00:06:28.647 --> 00:06:31.230\nidentity, as opposed to\nhaving this generic one.\n\n129\n00:06:31.230 --> 00:06:33.866\nWe do have to support or\nthink about the logic of being able to\n\n130\n00:06:33.866 --> 00:06:36.521\nsupport that functionality,\nwhat that might mean for us?\n\n131\n00:06:36.521 --> 00:06:39.187\nSo just be aware of the fact\nthat things like IGMP,\n\n132\n00:06:39.187 --> 00:06:42.802\nwhich can run in multicast mode,\nmay require the use of multicast,\n\n133\n00:06:42.802 --> 00:06:45.605\nrequire switches that\nsupport the functionality.\n\n134\n00:06:45.605 --> 00:06:48.185\nBut will often require\nmulti-cast mode in a cluster, so\n\n135\n00:06:48.185 --> 00:06:51.440\nit's also gonna depend on the kind\nof protocol we may be using as well.\n\n136\n00:06:51.440 --> 00:06:53.328\nSo just wanna make sure\nyou're aware of that.\n\n137\n00:06:53.328 --> 00:06:57.312\nAlso, keep in mind that we can\nuse VLANing to separate out,\n\n138\n00:06:57.312 --> 00:07:00.640\nand to logically segment\nour network fabric.\n\n139\n00:07:00.640 --> 00:07:03.280\nAnd we maybe choose and\nuse VLANs as part of the configuration.\n\n140\n00:07:03.280 --> 00:07:05.990\nSo, there's a lot of considerations here,\nright?\n\n141\n00:07:05.990 --> 00:07:10.155\nFor using VLANing we would wanna\nthink about using unicast mode to be\n\n142\n00:07:10.155 --> 00:07:13.555\nable to set up the VLANS, because that\nwould be the way we would typically go.\n\n143\n00:07:13.555 --> 00:07:17.853\nSo there will be some choices and\nthings we just wanna be aware of and to,\n\n144\n00:07:17.853 --> 00:07:18.578\nconsider.\n\n145\n00:07:18.578 --> 00:07:20.304\nDo we support both IPv4 and IPv6?\n\n146\n00:07:20.304 --> 00:07:21.672\n&gt;&gt; Absolutely.\n\n147\n00:07:21.672 --> 00:07:23.442\n&gt;&gt; We should right, hopefully we do.\n\n148\n00:07:23.442 --> 00:07:26.492\nSo we do support both\naddress thought processes.\n\n149\n00:07:26.492 --> 00:07:29.723\nSo we should have no issue or\nconcern there with regards to usability,\n\n150\n00:07:29.723 --> 00:07:30.449\nscalability.\n\n151\n00:07:30.449 --> 00:07:35.769\nI don't know about you, but\nI wanna talk to a lot of my customers and\n\n152\n00:07:35.769 --> 00:07:38.530\na lot of my students these days.\n\n153\n00:07:38.530 --> 00:07:40.539\nMore and\nmore are moving to dabble with IPv6.m.\n\n154\n00:07:40.539 --> 00:07:42.726\n&gt;&gt; Yes, finally.\n&gt;&gt; We do see more of them using it\n\n155\n00:07:42.726 --> 00:07:44.140\nfinally.\n\n156\n00:07:44.140 --> 00:07:47.049\nBut it's still not very\ncommon in the United States.\n\n157\n00:07:47.049 --> 00:07:51.080\nIt's much, I find anyway,\nmuch more common outside the US, that when\n\n158\n00:07:51.080 --> 00:07:55.529\nI talk to customers and people that I\ninteract with in the field outside the US.\n\n159\n00:07:55.529 --> 00:07:57.961\nI hear a lot more, yeah,\nnot only have we been using it,\n\n160\n00:07:57.961 --> 00:07:59.363\nwe've been using it for awhile.\n\n161\n00:07:59.363 --> 00:08:02.377\nAnd we have all these great\nthings we could do, the IPsec,\n\n162\n00:08:02.377 --> 00:08:06.499\nsupport that's not only there, but\nrequired, so our traffic is more secure,\n\n163\n00:08:06.499 --> 00:08:10.091\nas a result, bigger address spaces,\n128 bit, versus 32 bit.\n\n164\n00:08:10.091 --> 00:08:14.480\nJust all the additional things\nthat we have that we benefit from.\n\n165\n00:08:14.480 --> 00:08:19.140\nBut I just find in general, that we seem\nto be slow on the uptake a little bit\n\n166\n00:08:19.140 --> 00:08:22.860\nhere in the US, or US centric markets.\n\n167\n00:08:22.860 --> 00:08:26.030\nWhere we just don't seem to see as much,\nor at least that's what I'm seeing.\n\n168\n00:08:26.030 --> 00:08:27.370\n&gt;&gt; Yeah, I'm the same way.\n\n169\n00:08:27.370 --> 00:08:30.200\nWithin organizations,\nyou don't see the adaptation to it.\n\n170\n00:08:30.200 --> 00:08:32.065\nAnd we'll say that like my ISP and\n\n171\n00:08:32.065 --> 00:08:35.137\na couple others that I deal\nwith have gotten around to.\n\n172\n00:08:35.137 --> 00:08:39.074\nLike if you did your IP config at home,\nCox Communications, for example,\n\n173\n00:08:39.074 --> 00:08:40.440\nhere in Florida.\n\n174\n00:08:40.440 --> 00:08:44.250\nWe do have an IPv6 address coming through\nthat's getting advertised by home routers,\n\n175\n00:08:44.250 --> 00:08:45.100\nso-\n&gt;&gt; So you could.\n\n176\n00:08:45.100 --> 00:08:45.970\n&gt;&gt; Slowly but sure.\n\n177\n00:08:45.970 --> 00:08:47.200\n&gt;&gt; Okay, that makes sense.\n\n178\n00:08:47.200 --> 00:08:50.780\n&gt;&gt; Whereas two years ago, yeah,\nif I disabled IPv6, I would get, or\n\n179\n00:08:50.780 --> 00:08:51.680\nIPv4, I would get nothing.\n\n180\n00:08:52.930 --> 00:08:53.560\n&gt;&gt; We're getting there.\n\n181\n00:08:53.560 --> 00:08:54.980\n&gt;&gt; But we are a little slow.\n\n182\n00:08:54.980 --> 00:08:59.470\n&gt;&gt; Yeah, and also static addresses on all\nthe IP interfaces for the host nodes.\n\n183\n00:08:59.470 --> 00:09:01.795\n&gt;&gt; No DHCP?\n&gt;&gt; Disable DHCP, no disable DHCP.\n\n184\n00:09:01.795 --> 00:09:04.180\nThat have static addressing\non all the nodes.\n\n185\n00:09:04.180 --> 00:09:07.716\nYou can imagine the chaos if\nwe had dynamic addressing and\n\n186\n00:09:07.716 --> 00:09:13.028\nthings are shifting all the time and or we\nlost the address the address lease, right?\n\n187\n00:09:13.028 --> 00:09:16.303\nBecause for potentially for a variety\nof reasons we may go dark on the DHCP\n\n188\n00:09:16.303 --> 00:09:19.112\nside because the network interruptions,\nthings like that.\n\n189\n00:09:19.112 --> 00:09:23.306\nAnd then all the sudden we had cascading\nfailures through the host cluster because\n\n190\n00:09:23.306 --> 00:09:26.600\nwe didn't have IP addresses because\nwe shifted over to a PIPPA.\n\n191\n00:09:26.600 --> 00:09:30.250\nThe problem would be that half the cluster\nwould be on a separate subnetted\n\n192\n00:09:30.250 --> 00:09:32.830\ninterface that we wouldn't\nbe able to reach.\n\n193\n00:09:32.830 --> 00:09:36.470\nThen we'd have a split brain cluster which\nwouldn't really work very well at all.\n\n194\n00:09:36.470 --> 00:09:38.820\nSo yeah, we do have some issues there\nthat we just wanna think about and\n\n195\n00:09:38.820 --> 00:09:40.070\nobviously just consider.\n\n196\n00:09:40.070 --> 00:09:41.200\nAll right, so having said that,\n\n197\n00:09:41.200 --> 00:09:44.350\nlet's take a look at kind of part\ntwo of our conversation here.\n\n198\n00:09:44.350 --> 00:09:48.105\nSo join me back, I'm on my other machine\nwhich is going to become a member\n\n199\n00:09:48.105 --> 00:09:51.655\nof the NLB cluster, the PLABSC01 machine.\n\n200\n00:09:51.655 --> 00:09:55.005\nThis is the one that we have\ninstalled the NLB features on but\n\n201\n00:09:55.005 --> 00:09:59.397\nhave not configured to join the existing\ncluster that we built on PLABDM01,\n\n202\n00:09:59.397 --> 00:10:01.395\nthe other machine in the last episode.\n\n203\n00:10:01.395 --> 00:10:07.050\nSo, I've simply gone into the server\nmanager on this machine, there we go.\n\n204\n00:10:08.190 --> 00:10:11.570\nHow many task bars can you hide\nin stack on top of each other?\n\n205\n00:10:11.570 --> 00:10:15.180\nSo I'm in PLABSC01,\nI've gone to server manager.\n\n206\n00:10:15.180 --> 00:10:19.432\nI just went to tools, I went over here to\nNetwork Load Balancing manager I opened\n\n207\n00:10:19.432 --> 00:10:21.570\nthat, so pretend I just clicked on that.\n\n208\n00:10:21.570 --> 00:10:24.220\nAnd that's how I got this interface\nthat we're looking at right here,\n\n209\n00:10:24.220 --> 00:10:26.412\njust opened it up before we got started.\n\n210\n00:10:26.412 --> 00:10:30.050\nThere is nothing in here yet, because all\nthis is is the shell for management, but\n\n211\n00:10:30.050 --> 00:10:34.060\nI haven't joined the shell, and\nfocused it on the existing cluster.\n\n212\n00:10:34.060 --> 00:10:37.860\nI haven't, in other words, told it\nwhat cluster I want it to manage yet.\n\n213\n00:10:37.860 --> 00:10:40.640\nSo we have some options,\nlet's talk about how we do that.\n\n214\n00:10:40.640 --> 00:10:43.430\nRight click, either create\na brand new cluster from here.\n\n215\n00:10:43.430 --> 00:10:46.200\nSo what I just did in\nPowerShell in the last episode\n\n216\n00:10:46.200 --> 00:10:50.590\nwith the new end on the cluster command\nthat I could have easily done from here.\n\n217\n00:10:50.590 --> 00:10:55.280\nOr since I already have existing cluster,\nconnect to existing,\n\n218\n00:10:55.280 --> 00:10:57.840\nI can go ahead and specify, right?\n\n219\n00:10:59.040 --> 00:11:03.100\nAnd I'm just grabbing my information on\nmy host name and all the stuff I need.\n\n220\n00:11:03.100 --> 00:11:05.700\nI can grab and specify here my connection,\n\n221\n00:11:05.700 --> 00:11:07.670\nand then start managing\nmy existing cluster.\n\n222\n00:11:07.670 --> 00:11:10.790\nSo, let's take a look at how to do that.\n\n223\n00:11:10.790 --> 00:11:15.900\nFor our cluster name,\nwe're gonna do plabdm01.nlb, right?\n\n224\n00:11:15.900 --> 00:11:20.780\nSo, this where remember,\nwe're going to be using DNS,\n\n225\n00:11:20.780 --> 00:11:25.720\nfalling back on DNS to be able to do this,\nso let's connect out.\n\n226\n00:11:25.720 --> 00:11:27.650\nLets see what we get here.\n\n227\n00:11:27.650 --> 00:11:31.670\nLet's give it a second, and connect, so\nthere we go we got out cluster name.\n\n228\n00:11:31.670 --> 00:11:33.490\nLet's move this over so you could see it.\n\n229\n00:11:33.490 --> 00:11:37.360\nWe have our cluster name,\nright down here, plabdm01.nlb.\n\n230\n00:11:37.360 --> 00:11:41.100\nOur cluster IP of 0.20 and\nour interface name,\n\n231\n00:11:41.100 --> 00:11:44.220\nremember we targeted the ethernet\ninterface, so that's our interface.\n\n232\n00:11:44.220 --> 00:11:47.790\nAll right so, this is how we connect out,\nwe'll click finish.\n\n233\n00:11:47.790 --> 00:11:50.740\nNow that brings in as you could\nsee the cluster instance, so\n\n234\n00:11:50.740 --> 00:11:53.340\nwe now have the ability\nto start managing it.\n\n235\n00:11:53.340 --> 00:11:58.520\nAnd underneath there we do have our\ninterface, which is where we've\n\n236\n00:11:58.520 --> 00:12:04.040\nassigned our IP address and we set up\nthe mode and all the stuff that we did and\n\n237\n00:12:04.040 --> 00:12:07.090\nwe could see a little bit of\ninformation on that over here.\n\n238\n00:12:07.090 --> 00:12:11.840\nCluster IP address, status enabled,\nall of this stuff we have here.\n\n239\n00:12:11.840 --> 00:12:16.910\nAnd we click up here,\nwe can just essentially see all\n\n240\n00:12:16.910 --> 00:12:22.100\nthe high level information, the cluster\nIPs there for the dedicated IP, right.\n\n241\n00:12:22.100 --> 00:12:26.520\nWe have the subnet mass,\npost priority just all sorts of stuff.\n\n242\n00:12:26.520 --> 00:12:28.890\nAll right, so we have all that, so\n\n243\n00:12:28.890 --> 00:12:33.780\nnow what we're gonna do is the following,\nlet's just right click up here.\n\n244\n00:12:33.780 --> 00:12:36.060\nAnd you'll see we could\nadd host to the cluster,\n\n245\n00:12:36.060 --> 00:12:39.570\nso this is how we add a secondary\nhost which is what we are gonna do.\n\n246\n00:12:39.570 --> 00:12:44.630\nWe could delete the cluster of course,\nlook at cluster properties, we can go in,\n\n247\n00:12:44.630 --> 00:12:49.080\nwe can control host so I could start,\nstop, remove hosts here.\n\n248\n00:12:49.080 --> 00:12:53.680\nDrain stop means remove the resources\nthen essentially pull them out,\n\n249\n00:12:53.680 --> 00:12:55.100\nsuspend and resume.\n\n250\n00:12:55.100 --> 00:12:57.590\nI can control ports,\nopen and close, ports.\n\n251\n00:12:57.590 --> 00:13:01.390\nBut let's just look at properties\nbefore we add the actual host in.\n\n252\n00:13:01.390 --> 00:13:02.380\nLet's just take a look.\n\n253\n00:13:02.380 --> 00:13:04.890\nSo the cluster IP is there as you can see.\n\n254\n00:13:04.890 --> 00:13:08.010\nWe talked about that,\nnotice we can add or edit.\n\n255\n00:13:08.010 --> 00:13:10.690\nNotice we have cluster parameters.\n\n256\n00:13:11.990 --> 00:13:16.109\nJust really the cluster IP of the subnet\nmask, the internet name, the MAC address,\n\n257\n00:13:16.109 --> 00:13:19.764\nthe network adapter, the cluster\noperational mode, taught by UniCast,\n\n258\n00:13:19.764 --> 00:13:21.006\nMulti-cast, or IGMP.\n\n259\n00:13:21.006 --> 00:13:24.340\nMulti-cast as I was just talking about,\nwe need hardware support for\n\n260\n00:13:24.340 --> 00:13:27.140\nIGMP muti-cast,\nmeaning switches that support it.\n\n261\n00:13:27.140 --> 00:13:30.340\nSo that's what I was mentioning\nin some of the background\n\n262\n00:13:30.340 --> 00:13:33.530\nthings we wanna know about\ninstallation just couple minutes ago.\n\n263\n00:13:33.530 --> 00:13:36.600\nAnd although we're not gonna talk about\nthem right now, we have the ability to\n\n264\n00:13:36.600 --> 00:13:40.780\ntalk about and define port rules and we'll\nbe able to go in and set up port rules.\n\n265\n00:13:40.780 --> 00:13:44.203\nYou know we can think of port rules as\nbeing very similar to what we see in\n\n266\n00:13:44.203 --> 00:13:44.852\nfirewalls.\n\n267\n00:13:44.852 --> 00:13:49.998\nIn the respect that we're establishing\none or more of the rules that\n\n268\n00:13:49.998 --> 00:13:55.650\nwill govern based on matching criteria,\nwhat will be allowed to happen.\n\n269\n00:13:55.650 --> 00:13:57.275\nSo for instance hypothetically,\n\n270\n00:13:57.275 --> 00:13:59.890\nwe'll just take a look here let's\njust edit the rule we have.\n\n271\n00:13:59.890 --> 00:14:06.699\nYou'll see port range from 0 to 65535,\nthis is the default rule that's there,\n\n272\n00:14:06.699 --> 00:14:11.942\nprotocols both TCP and UDP,\nfiltering mode, multi hub, right?\n\n273\n00:14:11.942 --> 00:14:17.187\nAnd so what we're saying is essentially\nwe're having a rule here, a port rule for\n\n274\n00:14:17.187 --> 00:14:21.749\nthe cluster, that says any port on\nany protocol should be connected and\n\n275\n00:14:21.749 --> 00:14:25.350\nallowed, like by default\nit's a catch all rule again.\n\n276\n00:14:25.350 --> 00:14:28.740\nIt's almost like the default response from\na firewall in the sense that it's always\n\n277\n00:14:28.740 --> 00:14:32.340\nthere, but the default response from\nthe firewall remember is deny all,\n\n278\n00:14:32.340 --> 00:14:34.480\nwhereas here this is essentially allowed.\n\n279\n00:14:34.480 --> 00:14:39.090\n&gt;&gt; You know I'm sure you can give us some\ninsight, but you can have service, and\n\n280\n00:14:39.090 --> 00:14:42.422\nnormally the nodes in your cluster\nrespond to cluster services, right?\n\n281\n00:14:42.422 --> 00:14:44.820\nThey are there to provide\na high availability for\n\n282\n00:14:44.820 --> 00:14:47.490\na particular application like\nour web server, what have you.\n\n283\n00:14:47.490 --> 00:14:51.300\nTechnically, one of those\nnodes in that cluster\n\n284\n00:14:51.300 --> 00:14:53.570\ncould be doing something\nthat only it is doing.\n\n285\n00:14:53.570 --> 00:14:57.020\nIn which case, a particular port number\nmight not go to the cluster, but\n\n286\n00:14:57.020 --> 00:14:57.950\nto that individual machine.\n\n287\n00:14:57.950 --> 00:14:58.890\n&gt;&gt; To that specific machine.\n\n288\n00:14:58.890 --> 00:15:01.320\n&gt;&gt; Yeah, but,\ndo you see that often where people take,\n\n289\n00:15:01.320 --> 00:15:05.290\nnormally the nodes in the cluster, that's\nall they do is their role in the cluster.\n\n290\n00:15:05.290 --> 00:15:09.950\nOr small shops maybe, where they've got\nto almost over-utilize their machines.\n\n291\n00:15:09.950 --> 00:15:12.301\nMaybe the node is part of a cluster, but\n\n292\n00:15:12.301 --> 00:15:15.235\nit also serves up\nan individual service as well?\n\n293\n00:15:15.235 --> 00:15:19.049\n&gt;&gt; It's hard to make\nthat work efficiently and\n\n294\n00:15:19.049 --> 00:15:24.925\nwell because what tends to happen,\nor what can happen I should say,\n\n295\n00:15:24.925 --> 00:15:29.461\nis that we can run into\nsituations where if we're not\n\n296\n00:15:29.461 --> 00:15:34.535\ncareful we may aind up either\ncausing a resource problem.\n\n297\n00:15:34.535 --> 00:15:38.750\nBecause the machine switch as you\npointed out can be overworked, right?\n\n298\n00:15:38.750 --> 00:15:41.360\nAnd that could be a very broad definition,\nwhat does overworked mean?\n\n299\n00:15:41.360 --> 00:15:42.830\nIt can mean all sorts of things.\n\n300\n00:15:42.830 --> 00:15:45.780\nBut there could be a lot\nof traffic coming in,\n\n301\n00:15:45.780 --> 00:15:47.970\nwhich could cause\nimbalance in the cluster.\n\n302\n00:15:47.970 --> 00:15:50.507\nThere, latency issues\ncould be developed as\n\n303\n00:15:50.507 --> 00:15:53.311\na result of one host\npotentially lagging others,\n\n304\n00:15:53.311 --> 00:15:58.069\nthe heartbeat issue, because we overwhelm\nthe box from the resource perspective.\n\n305\n00:15:58.069 --> 00:16:01.677\nIf that box is being hammered then it\nmay not be responsive in general and\n\n306\n00:16:01.677 --> 00:16:03.794\nthen there could be things that go wrong.\n\n307\n00:16:03.794 --> 00:16:05.202\nSo, there could be issue.\n\n308\n00:16:05.202 --> 00:16:09.523\nAnd also, I don't like to see it,\nonly because I like to build and\n\n309\n00:16:09.523 --> 00:16:14.430\nI'm now, I'm putting on my security\nhat for just a minute, right?\n\n310\n00:16:14.430 --> 00:16:19.040\nI like to think of building these\nkinds of interfaces, so let's say\n\n311\n00:16:19.040 --> 00:16:23.980\na resource cluster, right, for a network\nload balancing solution for web services.\n\n312\n00:16:23.980 --> 00:16:28.205\nI like to have dedicated infrastructure\nin that cluster running there.\n\n313\n00:16:28.205 --> 00:16:32.920\nBecause then I can baseline them with\na tool like Security Configuration Manager\n\n314\n00:16:32.920 --> 00:16:36.630\nor with some sort of continuous\nmonitoring solution.\n\n315\n00:16:36.630 --> 00:16:38.950\nAnd I can really harden the boxes.\n\n316\n00:16:38.950 --> 00:16:41.650\nEssentially create\na protection profile for them.\n\n317\n00:16:41.650 --> 00:16:46.290\nLock them down, and then make sure they're\noptimized for performance in the cluster.\n\n318\n00:16:46.290 --> 00:16:50.010\nWhereas if I'm kinda splitting\nmy thought process spell,\n\n319\n00:16:50.010 --> 00:16:52.970\nwhat that box does is doing double or\ntriple duty, right?\n\n320\n00:16:52.970 --> 00:16:54.175\nAnd I'm not saying this doesn't happen.\n\n321\n00:16:54.175 --> 00:16:56.045\nMike's absolutely right to call this out.\n\n322\n00:16:56.045 --> 00:16:58.398\nBecause in small,\nmedium-sized environments,\n\n323\n00:16:58.398 --> 00:17:00.913\nyou may not have the resources to say,\nyeah, well,\n\n324\n00:17:00.913 --> 00:17:03.720\nwe'll just throw those five\nboxes over there in the corner.\n\n325\n00:17:03.720 --> 00:17:06.340\nYeah, just make them do that,\nwe got plenty of boxes, right?\n\n326\n00:17:06.340 --> 00:17:08.664\nWe could do it with no trouble.\nNow, more and more today,\n\n327\n00:17:08.664 --> 00:17:14.417\nwe're seeing less and less of that as an\nissue, because of virtualization, right?\n\n328\n00:17:14.417 --> 00:17:17.980\nSo we can virtualize,\nwhere before, it would've been,\n\n329\n00:17:17.980 --> 00:17:20.900\nhey, we gotta go buy a bunch of hosts,\nright?\n\n330\n00:17:20.900 --> 00:17:25.240\nPhysically racket stack all\nthis stuff behind us, right?\n\n331\n00:17:25.240 --> 00:17:26.636\nIt's great when we're in\nthe studio cuz when I do that and\n\n332\n00:17:26.636 --> 00:17:28.426\nwe're not in the studio, I'm like,\nyeah, that's a wall, right?\n\n333\n00:17:28.426 --> 00:17:30.039\n&gt;&gt; [LAUGH]\n&gt;&gt; We're not doing that, but\n\n334\n00:17:30.039 --> 00:17:33.750\nwhen we're here it's like,\nthere's actually stuff back there, right?\n\n335\n00:17:33.750 --> 00:17:37.654\nSo, if you're gonna essentially invest\nin what's behind me, right, and\n\n336\n00:17:37.654 --> 00:17:41.253\nyou're gonna, 5, 10, 15,\n20 years ago, even yesterday,\n\n337\n00:17:41.253 --> 00:17:44.740\nthere's still common people wanna\nbuy physical infrastructure.\n\n338\n00:17:44.740 --> 00:17:48.918\nBut the idea of racking and\nstacking, buying individual hardware\n\n339\n00:17:48.918 --> 00:17:53.852\nthat's either gonna sit on the floor or\npizza boxes, as we call them, right?\n\n340\n00:17:53.852 --> 00:17:54.390\n[LAUGH]\n&gt;&gt; Yeah.\n\n341\n00:17:54.390 --> 00:17:57.988\n&gt;&gt; The 1u, 2u, 4u, 8u,\n16u, 32u units, right?\n\n342\n00:17:57.988 --> 00:18:02.477\nThese small, medium-sized servers\nthat are just stacked literally\n\n343\n00:18:02.477 --> 00:18:04.768\ntop to bottom in the network racks.\n\n344\n00:18:04.768 --> 00:18:07.732\nWhen you do this or the server racks\nbehind us, when you buy this kind of\n\n345\n00:18:07.732 --> 00:18:10.360\ninfrastructure, we still see\na lot of it being bought today.\n\n346\n00:18:10.360 --> 00:18:14.650\nBut more and more it's being bought for\naggregation and consolidation purposes.\n\n347\n00:18:14.650 --> 00:18:18.384\nSo, you're buying a host\nthat's incredibly powerful and\n\n348\n00:18:18.384 --> 00:18:22.500\nthen you're running 100 VMs or\nwhatever it may be on top of it.\n\n349\n00:18:22.500 --> 00:18:26.531\nAnd you're essentially still gonna\nrun 100 individual machines,\n\n350\n00:18:26.531 --> 00:18:28.757\naut 99 of them are virtual machines.\n\n351\n00:18:28.757 --> 00:18:31.260\nAnd one is the physical\nhost maintaining them.\n\n352\n00:18:31.260 --> 00:18:34.395\nWhereas as five or ten years ago,\nyou would've gone out and\n\n353\n00:18:34.395 --> 00:18:37.859\nbought a hundred individual physical\nunits and spun them all up.\n\n354\n00:18:37.859 --> 00:18:41.939\nSo until recently because of that,\nit was very expensive for\n\n355\n00:18:41.939 --> 00:18:47.482\na lot of companies to be able to be able\nto really dedicate hardware and say, okay.\n\n356\n00:18:47.482 --> 00:18:49.848\nYeah, no, we're gonna put those six or\neight, you'll never be five.\n\n357\n00:18:49.848 --> 00:18:51.902\nYou wouldn't put five nodes in a cluster.\n\n358\n00:18:51.902 --> 00:18:53.450\nYou always wanna have an even number.\n\n359\n00:18:53.450 --> 00:18:55.250\nI mean yes, you can do anywhere\nfrom two to thirty-two,\n\n360\n00:18:55.250 --> 00:18:58.015\nbut it's very rare you see\na cluster with five nodes, right?\n\n361\n00:18:58.015 --> 00:19:00.229\nYou see them, but more often than not,\nyou want an even number.\n\n362\n00:19:00.229 --> 00:19:04.480\nSo, you wanna have eight nodes in\na cluster because it's easy to manage.\n\n363\n00:19:04.480 --> 00:19:07.228\nIf you could think about a lot of\ndifferent scenarios where that makes sense\n\n364\n00:19:07.228 --> 00:19:07.937\nand you scale out.\n\n365\n00:19:07.937 --> 00:19:11.501\nSo if you have eight nodes sitting in a\ncorner and all you do is dedicate them to\n\n366\n00:19:11.501 --> 00:19:15.090\nweb services, that's great for\nall the things I've just described.\n\n367\n00:19:15.090 --> 00:19:18.108\nBut you may not have the resources\nto do that, right, to your point.\n\n368\n00:19:18.108 --> 00:19:21.210\nAnd so you may have machines\nthat are doing multiple things.\n\n369\n00:19:21.210 --> 00:19:23.850\nMaybe they are web servers,\nhypothetically.\n\n370\n00:19:23.850 --> 00:19:26.720\nAnd then,\nmaybe we're securing them in some way and\n\n371\n00:19:26.720 --> 00:19:29.110\nthey're also providing file and\nprint services.\n\n372\n00:19:29.110 --> 00:19:33.130\nBut we're segmenting out the file and\nprint data on a separate hard drive,\n\n373\n00:19:33.130 --> 00:19:34.400\nin each of those nodes.\n\n374\n00:19:34.400 --> 00:19:37.210\nAnd maybe we're using the NLB to\nbe able to provide services for\n\n375\n00:19:37.210 --> 00:19:38.870\nboth or something like that.\n\n376\n00:19:38.870 --> 00:19:42.360\nWe don't wanna see them being\ndomain controllers and web servers.\n\n377\n00:19:42.360 --> 00:19:45.400\nThat's a really bad idea, but\nhypothetically you could do that.\n\n378\n00:19:45.400 --> 00:19:48.700\nThere's no rule that says don't do it or\n\n379\n00:19:48.700 --> 00:19:51.380\nnothing that prevents you from\ndoing it in the interface.\n\n380\n00:19:51.380 --> 00:19:53.630\nIt's just it's not really a smart idea.\n\n381\n00:19:53.630 --> 00:19:57.800\nSo I have a preference where I really like\nto see them being set up and dedicated,\n\n382\n00:19:57.800 --> 00:19:58.780\nbut that's just me.\n\n383\n00:19:58.780 --> 00:20:00.040\n&gt;&gt; Okay.\n&gt;&gt; That's not because you have to\n\n384\n00:20:00.040 --> 00:20:00.940\ndo it that way.\n\n385\n00:20:00.940 --> 00:20:02.960\nIt's just that I prefer\nto be able to control and\n\n386\n00:20:02.960 --> 00:20:05.195\nreally secure the services\nthat are running there.\n\n387\n00:20:05.195 --> 00:20:09.148\nAnd the way to optimize and lock them\ndown is through protection profiles and\n\n388\n00:20:09.148 --> 00:20:11.150\nbaselining and things like that.\n\n389\n00:20:11.150 --> 00:20:13.800\nAnd if you're adding a whole bunch\nof services into the box, you're\n\n390\n00:20:13.800 --> 00:20:17.260\nkind of defeating that purpose cuz you're\nbroadening the attack surface so much.\n\n391\n00:20:17.260 --> 00:20:19.605\nEspecially if they're publicly available,\nlike you were suggesting, but\n\n392\n00:20:19.605 --> 00:20:21.273\nit may be hard to manage them effectively.\n\n393\n00:20:21.273 --> 00:20:21.815\n&gt;&gt; Okay.\n\n394\n00:20:21.815 --> 00:20:23.219\n&gt;&gt; That's just my two cents,\n\n395\n00:20:23.219 --> 00:20:24.810\nlong-winded though it was,\n&gt;&gt; [LAUGH]\n\n396\n00:20:24.810 --> 00:20:26.100\n&gt;&gt; For what you asked.\n\n397\n00:20:26.100 --> 00:20:27.050\nWhat was the question again?\n\n398\n00:20:27.050 --> 00:20:29.350\nYou wanted to know the recipe for what?\n\n399\n00:20:29.350 --> 00:20:30.090\nAll right, so let's go ahead and\n\n400\n00:20:30.090 --> 00:20:32.410\nlet's actually add our second\nhost into the cluster.\n\n401\n00:20:32.410 --> 00:20:33.348\nSo join me back here.\n\n402\n00:20:33.348 --> 00:20:37.560\nWe're gonna right-click, as you saw,\nwe can do Add host to cluster.\n\n403\n00:20:37.560 --> 00:20:38.340\nWe have to specify.\n\n404\n00:20:38.340 --> 00:20:40.840\nThe same interface, by the way,\nas the cluster connect interface,\n\n405\n00:20:40.840 --> 00:20:42.751\nwe just used a minute ago,\nto actually spin this up.\n\n406\n00:20:42.751 --> 00:20:47.750\nThe difference is that we're gonna put in\nthe host name now that we wanna actually\n\n407\n00:20:47.750 --> 00:20:50.410\nadd, so plabsa01 in this case, right?\n\n408\n00:20:50.410 --> 00:20:51.943\nBe sure I typed that correctly.\n\n409\n00:20:51.943 --> 00:20:56.065\npracticelabs.com, so\nlet's just put that in there,\n\n410\n00:20:56.065 --> 00:20:58.968\nmake sure we typed all that correctly.\n\n411\n00:20:58.968 --> 00:21:02.880\nAll right, lett's click Connect,\ngive that just a minute.\n\n412\n00:21:02.880 --> 00:21:05.230\nYou could see we now have two\ninterfaces that have come up,\n\n413\n00:21:05.230 --> 00:21:07.480\ncuz this machine has two interfaces.\n\n414\n00:21:07.480 --> 00:21:10.359\nWe have an APIPA-based address, 169.254.\n\n415\n00:21:10.359 --> 00:21:14.411\nIf you were a betting person, you would\nhopefully not be betting on the fact that\n\n416\n00:21:14.411 --> 00:21:16.721\nwe probably wanna be using that one,\nright?\n\n417\n00:21:16.721 --> 00:21:22.451\nSo we're gonna obviously, although we\nsee both, we're gonna wanna highlight\n\n418\n00:21:22.451 --> 00:21:28.270\nthe 192.1680.4 interface cuz\nthat's one we're gonna wanna use.\n\n419\n00:21:28.270 --> 00:21:29.660\nAlso called ethernet.\n\n420\n00:21:29.660 --> 00:21:31.859\nSo we're gonna highlight that, click Next.\n\n421\n00:21:31.859 --> 00:21:35.730\nAnd then couple of additional items\nwe have to deal with with here.\n\n422\n00:21:35.730 --> 00:21:37.620\nIt's not just, hey,\nConnect and boom, it's there.\n\n423\n00:21:37.620 --> 00:21:41.120\nSo now we have to specify, as you\ncould see, our dedicated IP address.\n\n424\n00:21:41.120 --> 00:21:45.048\nSo we could add it in, if we had to\nadd one in we would have subnet mask.\n\n425\n00:21:45.048 --> 00:21:49.542\nYou'll see initial host date started,\nretained suspended state after computer\n\n426\n00:21:49.542 --> 00:21:53.578\nrestarts, meaning if we take something\nout and bring it back or we suspend\n\n427\n00:21:53.578 --> 00:21:58.028\nthe cluster, maintain that state and\napply it again so we have that capability.\n\n428\n00:21:58.028 --> 00:21:59.224\nLet's click Next.\n\n429\n00:21:59.224 --> 00:22:01.680\nWe have our port rules\nthat we may decide to add.\n\n430\n00:22:01.680 --> 00:22:03.190\nRemember ,we can always go in and\nadd them let later.\n\n431\n00:22:03.190 --> 00:22:06.946\nSo, I don't tend to deal with port rules\nwhen I'm adding a host in right away.\n\n432\n00:22:06.946 --> 00:22:09.240\nI tend to just go back and\ndeal with them after the fact.\n\n433\n00:22:09.240 --> 00:22:13.161\nBut if I had a whole bunch of defined\nport rules that already existed,\n\n434\n00:22:13.161 --> 00:22:16.240\nI may selectively say,\nyeah, I wanna have those.\n\n435\n00:22:16.240 --> 00:22:19.400\nOr I may wanna remove one or\nmore of them, to your point earlier,\n\n436\n00:22:19.400 --> 00:22:21.780\nMike, about what the functionality may be,\nthings like that.\n\n437\n00:22:21.780 --> 00:22:24.190\nSo we've got all that,\nwe're just gonna click Finish here.\n\n438\n00:22:24.190 --> 00:22:28.834\nWe'll bring that in, notice it's hard\nto see but there's an hourglass there,\n\n439\n00:22:28.834 --> 00:22:30.007\nfor state pending.\n\n440\n00:22:30.007 --> 00:22:32.570\nYou can see it does say Pending here.\n\n441\n00:22:32.570 --> 00:22:34.340\nAnd by the way, if you look down here,\n\n442\n00:22:34.340 --> 00:22:38.610\nwe do kinda have a running task list of\nthings that are happening in the log.\n\n443\n00:22:38.610 --> 00:22:40.840\nThis is a log entry that's being\ncreated every time we do something.\n\n444\n00:22:40.840 --> 00:22:43.350\nBut we can see the state\nof what's happening, and so\n\n445\n00:22:43.350 --> 00:22:45.100\nwe can kinda keep track of that.\n\n446\n00:22:45.100 --> 00:22:48.210\nIt's in pending, there we go,\nit comes back, doesn't take very long.\n\n447\n00:22:48.210 --> 00:22:50.383\nAnd you could see it does come in,\nit is converged.\n\n448\n00:22:50.383 --> 00:22:52.270\nThat's what we wanna see.\n\n449\n00:22:52.270 --> 00:22:56.930\nAnd we have now added in\nboth hosts into our cluster.\n\n450\n00:22:56.930 --> 00:23:00.579\nWe just get updated information successful\nthere and configuration change,\n\n451\n00:23:00.579 --> 00:23:02.800\njust some entries down on\nthe bottom of the log.\n\n452\n00:23:02.800 --> 00:23:04.514\nBut now we have two interfaces,\n\n453\n00:23:04.514 --> 00:23:08.500\nwe've been able to successfully\nadd another node into our cluster.\n\n454\n00:23:08.500 --> 00:23:10.670\nAnd so as a result,\nwe now have a two node cluster,\n\n455\n00:23:10.670 --> 00:23:12.630\nwhere before we had a one node cluster.\n\n456\n00:23:12.630 --> 00:23:13.380\nThat is nice.\n\n457\n00:23:13.380 --> 00:23:17.450\nWe wanna see converge there because\nthat means both nodes are communicating.\n\n458\n00:23:17.450 --> 00:23:20.430\nWe're heart beating, so we're able\nto now see that we are connected.\n\n459\n00:23:20.430 --> 00:23:24.611\nLess latency than we wanna see with 250\nmilliseconds, so everything is talking.\n\n460\n00:23:24.611 --> 00:23:28.404\nRemember I told you that if we\nare above 250 milliseconds threshold,\n\n461\n00:23:28.404 --> 00:23:32.506\nwe may not reach convergence cuz we may\nnot be able to be sending traffic back and\n\n462\n00:23:32.506 --> 00:23:35.079\nforth continuously and\nestablish that rhythm.\n\n463\n00:23:35.079 --> 00:23:38.447\nSo, this is a good measure of the fact\nthat we are under that threshold.\n\n464\n00:23:38.447 --> 00:23:40.737\nBut we're not seeing how much under.\n\n465\n00:23:40.737 --> 00:23:43.258\nWe're 5 milliseconds versus 200.\n\n466\n00:23:43.258 --> 00:23:46.577\nBut we certainly could go out and\nmonitor for that.\n\n467\n00:23:46.577 --> 00:23:50.963\nWe could use a tool like the MMA,\nthe Microsoft Message Analyzer,\n\n468\n00:23:50.963 --> 00:23:54.814\nas a network capture tool,\nshow us the amount of latency.\n\n469\n00:23:54.814 --> 00:23:56.959\nThere are other ways to measure that.\n\n470\n00:23:56.959 --> 00:24:01.025\nBut we're just gonna assume for the moment\nthat we're good based on the fact That we\n\n471\n00:24:01.025 --> 00:24:03.827\ndid indeed reach convergence,\nso just be aware of that.\n\n472\n00:24:03.827 --> 00:24:07.564\nAnd we obviously are seeing here.\n\n473\n00:24:11.138 --> 00:24:12.798\nGonna click there, all right.\n\n474\n00:24:12.798 --> 00:24:17.761\nSo you can see here that everything\nis set up, ready to go and\n\n475\n00:24:17.761 --> 00:24:22.150\nyou'll see right up there\nwas what I was getting to.\n\n476\n00:24:22.150 --> 00:24:26.050\nYou'll see our cluster mode is set\nto multicast since we were talking\n\n477\n00:24:26.050 --> 00:24:26.580\nabout it as well.\n\n478\n00:24:26.580 --> 00:24:29.659\nRemember, we define the idea\nbetween multicast and unicast.\n\n479\n00:24:29.659 --> 00:24:32.516\nMulticast, each host able to\nuse their own Mac address and\n\n480\n00:24:32.516 --> 00:24:35.609\nhave their own individual\ninformation whereas with unicast,\n\n481\n00:24:35.609 --> 00:24:38.542\nwe're using a single Mac address\nto represent [INAUDIBLE].\n\n482\n00:24:38.542 --> 00:24:40.890\nSo we do have the basic set up.\n\n483\n00:24:40.890 --> 00:24:43.007\nWe've added a secondary\nhost into the cluster.\n\n484\n00:24:43.007 --> 00:24:46.475\nWe've gone ahead and\nensured that we could configure it.\n\n485\n00:24:46.475 --> 00:24:50.900\nThe other thing we need to do,\nis to take a look at port rules.\n\n486\n00:24:50.900 --> 00:24:52.830\nAnd we said we would talk about that.\n\n487\n00:24:52.830 --> 00:24:57.760\nWe don't have enough time to cover port\nrules thoroughly in this episode, but\n\n488\n00:24:57.760 --> 00:25:00.930\nlet's just at least as we\ntalked about the logic of it.\n\n489\n00:25:00.930 --> 00:25:03.750\nWe will come back and talk about them,\nand spin them up, and\n\n490\n00:25:03.750 --> 00:25:05.930\nconfigure them in our upcoming episode.\n\n491\n00:25:05.930 --> 00:25:08.510\nBut just to remind you\nthe idea behind this, right?\n\n492\n00:25:08.510 --> 00:25:12.760\nThe idea is that we're gonna then be able\nto specify and essentially decide what\n\n493\n00:25:12.760 --> 00:25:18.040\nkind of control we wanna apply for\ninbound traffic based on protocol imports.\n\n494\n00:25:18.040 --> 00:25:21.400\nSo ports and protocols, TCP,\nUDP, or both, as we saw.\n\n495\n00:25:21.400 --> 00:25:24.830\nAnd the ports associated with them\nis really what we're looking at here\n\n496\n00:25:24.830 --> 00:25:27.900\nwhen we are dealing with our port rules.\n\n497\n00:25:27.900 --> 00:25:33.400\nAnd so, as we go through, and as\n\n498\n00:25:33.400 --> 00:25:40.110\nwe are defining our port rules just taking\na look at something here real quick.\n\n499\n00:25:40.110 --> 00:25:44.650\nWe are going to be thinking\nabout being able to go in and\n\n500\n00:25:44.650 --> 00:25:47.580\nbeing able to decide exactly\nhow we wanna structure.\n\n501\n00:25:47.580 --> 00:25:49.550\nAnd how we want to be able to control.\n\n502\n00:25:49.550 --> 00:25:52.350\nAnd you'll notice, we can enable and\ndisable the port rules,\n\n503\n00:25:52.350 --> 00:25:53.560\nonce they are defined.\n\n504\n00:25:53.560 --> 00:25:55.656\nJust right clicked on one of\nthe host interfaces there.\n\n505\n00:25:55.656 --> 00:25:59.218\nPlabDM01, if I have port rules\nthat I've created up above,\n\n506\n00:25:59.218 --> 00:26:03.260\nI can then decide to enable or\ndisable, as Mike was suggesting.\n\n507\n00:26:03.260 --> 00:26:05.968\nPerhaps allowing certain\nmachines to deal with them.\n\n508\n00:26:05.968 --> 00:26:09.230\nPerhaps not allow certain machines to\ndeal with certain kinds of traffic.\n\n509\n00:26:09.230 --> 00:26:11.380\nSo we do have that capability, as well.\n\n510\n00:26:11.380 --> 00:26:14.100\nI could Disable here or I can enable.\n\n511\n00:26:14.100 --> 00:26:17.000\nAnd I can create, right up here.\n\n512\n00:26:18.150 --> 00:26:20.290\nControlled Ports up at the cluster level.\n\n513\n00:26:20.290 --> 00:26:24.260\nI can go in to see if I can enable and\ndisable for the cluster or for\n\n514\n00:26:24.260 --> 00:26:25.460\nan individual machine.\n\n515\n00:26:25.460 --> 00:26:28.250\nSo I kind of have a hierarchical\nthought process about how\n\n516\n00:26:28.250 --> 00:26:29.560\nI can turn those on or off.\n\n517\n00:26:29.560 --> 00:26:32.150\nCuz a lot of times you wanna\nenable the viewer suggesting.\n\n518\n00:26:32.150 --> 00:26:35.600\nAnd I was talking about at\nthe cluster level for all hosts.\n\n519\n00:26:35.600 --> 00:26:39.290\nBut sometimes, you want certain hosts to\nbe able to have certain traffic patterns\n\n520\n00:26:39.290 --> 00:26:40.330\nand others to not.\n\n521\n00:26:40.330 --> 00:26:42.090\nSo we just wanna be thinking\nabout that as well.\n\n522\n00:26:42.090 --> 00:26:45.320\nSo we'll delve a little more into\nthat in our next episode and\n\n523\n00:26:45.320 --> 00:26:47.860\njust make sure that we see how\nthat thought process works.\n\n524\n00:26:47.860 --> 00:26:50.670\nAnd we'll be rounding out our\nconversation around NLB as a result.\n\n525\n00:26:50.670 --> 00:26:54.140\n&gt;&gt; Fantastic, great stuff so far,\ngreat demonstrations, explanations.\n\n526\n00:26:54.140 --> 00:26:54.730\nAppreciate that,\n\n527\n00:26:54.730 --> 00:26:58.900\nAdam Really getting a good look at how we\ncan set up that network load balancing.\n\n528\n00:26:58.900 --> 00:27:02.260\nSo hope everybody out there is enjoying\nthese episodes as much as I am.\n\n529\n00:27:02.260 --> 00:27:04.060\nBut for now we are out of time.\n\n530\n00:27:04.060 --> 00:27:07.670\nSigning off for ITProTV,\nI've been your host Mike Rodrick.\n\n531\n00:27:07.670 --> 00:27:08.380\n&gt;&gt; I'm Adam Gordon.\n\n532\n00:27:08.380 --> 00:27:08.958\n&gt;&gt; And we'll see you next time.\n\n533\n00:27:11.038 --> 00:27:16.921\n[MUSIC]\n\n534\n00:27:16.921 --> 00:27:19.698\n&gt;&gt; Thank you for watching ITPro.TV.\n\n",
          "vimeoId": "238934799"
        },
        {
          "description": "Adam and Mike continue the configuration of the NLB cluster by examining how to add port rules and ensure that the correct firewall rules are in place to allow communication between cluster members. They also look at host parameter configuration and discuss the deployment of NLB clusters using virtual machines and the best approach for upgrading exiting NLB clusters to run in Windows Server 2012 R2.",
          "length": "1392",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-9-1-3-implement_network_load_balancing_pt3-100617-PGM.00_22_56_16.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-9-1-3-implement_network_load_balancing_pt3-100617-PGM.00_22_56_16.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-9-1-3-implement_network_load_balancing_pt3-100617-PGM.00_22_56_16.Still001-sm.jpg",
          "title": "Implement Network Load Balancing Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:02.003\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:02.003 --> 00:00:03.165\n&gt;&gt; [CROSSTALK]\n&gt;&gt; Coming at you live\n\n3\n00:00:03.165 --> 00:00:04.342\nfrom San Francisco, California.\n\n4\n00:00:04.342 --> 00:00:08.297\n[MUSIC]\n\n5\n00:00:08.297 --> 00:00:11.392\n&gt;&gt; You're watching ITProTV\n&gt;&gt; Hello,\n\n6\n00:00:11.392 --> 00:00:16.410\nwelcome to another exciting\nepisode here at ITProTV.\n\n7\n00:00:16.410 --> 00:00:18.903\nI'm your host, Mike Rodrick and today,\n\n8\n00:00:18.903 --> 00:00:22.550\nwe're gonna be doing our\nMCSA Windows Server 2012 R2.\n\n9\n00:00:22.550 --> 00:00:25.302\nGetting ready for our 70-412 exam.\n\n10\n00:00:25.302 --> 00:00:29.552\nIn particular, in this episode, we're\nactually continuing the thought process on\n\n11\n00:00:29.552 --> 00:00:31.390\nimplement network load balancing.\n\n12\n00:00:31.390 --> 00:00:33.750\nWe've seen part one, part two,\nit's gonna be a part three.\n\n13\n00:00:33.750 --> 00:00:36.490\nIf you've missed one of those first\ntwo parts, make sure you go back and\n\n14\n00:00:36.490 --> 00:00:37.180\ncheck them out.\n\n15\n00:00:37.180 --> 00:00:40.240\nBut here to continue on with\nnetwork load balancing, here's Mr.\n\n16\n00:00:40.240 --> 00:00:41.940\nAdam Gordon, welcome back, Adam.\n\n17\n00:00:41.940 --> 00:00:46.220\n&gt;&gt; Howdy, hello, and guten abend,\nmeine herrn and meine herren.\n\n18\n00:00:46.220 --> 00:00:48.500\nSee, I told you I can speak three or\nfour different ones, but\n\n19\n00:00:48.500 --> 00:00:52.400\njust enough to say hello and ask for\ndirections and order drinks.\n\n20\n00:00:52.400 --> 00:00:56.000\nSo I can survive in multiple languages.\n\n21\n00:00:56.000 --> 00:00:58.720\nSo, we are going to\ncontinue our conversations.\n\n22\n00:00:58.720 --> 00:01:02.370\nPick up with the network\nload balance configuration.\n\n23\n00:01:02.370 --> 00:01:04.950\nWe said hey,\nlet's go take a look at port rules.\n\n24\n00:01:04.950 --> 00:01:07.110\nAnd we kind of previewed what\nthey were in the last episode.\n\n25\n00:01:07.110 --> 00:01:08.314\nWe're going to go back through and\n\n26\n00:01:08.314 --> 00:01:10.120\nactually just take a look\nat how to create one.\n\n27\n00:01:10.120 --> 00:01:12.520\nSpend a few minutes talking about\nthem in a little more detail.\n\n28\n00:01:12.520 --> 00:01:15.830\nI want to show you some of\nthe under-hood security-related\n\n29\n00:01:15.830 --> 00:01:17.840\nstuff that goes on when\nwe configure the cluster.\n\n30\n00:01:17.840 --> 00:01:21.336\nWe have a series of firewall rules\nthat get stood up on the cluster host.\n\n31\n00:01:21.336 --> 00:01:24.427\nI just thought we'd poke our nose\ninto the firewall real quick and\n\n32\n00:01:24.427 --> 00:01:25.650\nsee what those are.\n\n33\n00:01:25.650 --> 00:01:28.640\nAnd remind ourselves of\nnot just the requirements,\n\n34\n00:01:28.640 --> 00:01:32.430\ncuz we already talked about those in\nprior episodes, but talk about and\n\n35\n00:01:32.430 --> 00:01:35.530\nremind ourselves of those in\nrelation to grading a cluster.\n\n36\n00:01:35.530 --> 00:01:39.570\nMaybe you have an NLB cluster that is\nrunning an older version of the OS.\n\n37\n00:01:39.570 --> 00:01:40.960\nAnd what are we gonna do about that, and\n\n38\n00:01:40.960 --> 00:01:45.050\nhow do we kinda see that coming\nup to a 12 12 R2 solution?\n\n39\n00:01:45.050 --> 00:01:49.760\nWe can actually run snd it'll be clusters\nwith different hosts from different OS's,\n\n40\n00:01:49.760 --> 00:01:51.970\nso we can have essentially\na mixed cluster environment.\n\n41\n00:01:51.970 --> 00:01:53.720\nSo yeah,\nwe just deal with those things and\n\n42\n00:01:53.720 --> 00:01:56.270\nwanna make sure you're comfortable\nwith how that rounds out.\n\n43\n00:01:56.270 --> 00:01:58.890\nSo if you'll join me back here,\nwe'll jump back in.\n\n44\n00:01:58.890 --> 00:02:00.890\nWe are in our Cluster Manager.\n\n45\n00:02:00.890 --> 00:02:01.980\nI switched up the machines.\n\n46\n00:02:01.980 --> 00:02:05.740\nI went from the PLAB SA 01 machine\nwhere we added the second node.\n\n47\n00:02:05.740 --> 00:02:10.730\nAnd, the host to the cluster\nback to our original\n\n48\n00:02:10.730 --> 00:02:13.720\nfirst node of the cluster and\nbrought up the Management Console here.\n\n49\n00:02:13.720 --> 00:02:15.570\nSo, if you're kind of wondering\nwhy we're going back and\n\n50\n00:02:15.570 --> 00:02:17.950\nforth, just to show you\nsome various things.\n\n51\n00:02:17.950 --> 00:02:20.700\nBut we can manage the cluster\nfrom either of the two nodes with\n\n52\n00:02:20.700 --> 00:02:22.210\nthe cluster manager available.\n\n53\n00:02:22.210 --> 00:02:25.520\nAnd we did install, configure it,\non the other node during the last episode,\n\n54\n00:02:25.520 --> 00:02:26.140\nif you remember.\n\n55\n00:02:26.140 --> 00:02:27.470\n&gt;&gt; Well, that answers my question.\n\n56\n00:02:27.470 --> 00:02:30.629\nI was gonna say, one,\ndoes it matter which node you're on?\n\n57\n00:02:30.629 --> 00:02:34.649\nAnd two, could I install RSAT on my\nclient and manage the whole node from\n\n58\n00:02:34.649 --> 00:02:39.040\na non-cluster members or does it\nhave to be a member of the cluster?\n\n59\n00:02:39.040 --> 00:02:42.670\n&gt;&gt; Well, so, this is the cluster\nthe network load balancing manager.\n\n60\n00:02:42.670 --> 00:02:45.640\nWe can call it the cluster, but\nthis is the management interface.\n\n61\n00:02:45.640 --> 00:02:48.960\nThat is part of the tools set that's\ninstalled if you configure this.\n\n62\n00:02:48.960 --> 00:02:52.635\nSo, no you wouldn't do this\nfrom an RSAT perspective.\n\n63\n00:02:52.635 --> 00:02:57.369\nYou could remote in to the server, I\nsuppose in theory, from a work station and\n\n64\n00:02:57.369 --> 00:02:59.391\nmanage it remotely through RDP.\n\n65\n00:02:59.391 --> 00:03:01.355\nYou could do that.\n\n66\n00:03:01.355 --> 00:03:04.945\nBut no, this would be on\nthe individual nodes that are spun up.\n\n67\n00:03:04.945 --> 00:03:09.385\nSo we would have this capability based on\nus having the role install the configure.\n\n68\n00:03:09.385 --> 00:03:11.035\n&gt;&gt; So it doesn't matter which node?\n\n69\n00:03:11.035 --> 00:03:12.057\nThere's no primary?\n\n70\n00:03:12.057 --> 00:03:14.871\n&gt;&gt; No, no,\nit's just a matter of what it is,\n\n71\n00:03:14.871 --> 00:03:18.410\na certain sense of which one\nyou choose to connect to.\n\n72\n00:03:18.410 --> 00:03:22.560\nSome may be in areas where maybe it's\nnot hard or not easy to connect, and so,\n\n73\n00:03:22.560 --> 00:03:23.960\nyou may have a preference for\none or the other.\n\n74\n00:03:23.960 --> 00:03:27.550\nBut there's no difference in managing\nthis from one versus the other node.\n\n75\n00:03:27.550 --> 00:03:30.410\nThe management interface\nconnects to the cluster and\n\n76\n00:03:30.410 --> 00:03:33.790\nmanages all nodes once we publish\nthem equally in that respect.\n\n77\n00:03:33.790 --> 00:03:34.796\n&gt;&gt; Okay, that's perfect.\n\n78\n00:03:34.796 --> 00:03:36.520\n&gt;&gt; So we are here.\n\n79\n00:03:36.520 --> 00:03:41.314\nWe're up on the cluster named\ninstance the PLAB DM01 NLB as\n\n80\n00:03:41.314 --> 00:03:44.700\nyou can see there, 192 168 0 20.\n\n81\n00:03:44.700 --> 00:03:51.200\nI'm going to right-click and\nwe're gonna go to Cluster Properties.\n\n82\n00:03:51.200 --> 00:03:53.680\nWe had talked about the IP address,\nthe parameters.\n\n83\n00:03:53.680 --> 00:03:56.020\nWe're gonna go do a port rules,\nwe've been talking about this.\n\n84\n00:03:56.020 --> 00:03:57.600\nLet's just move this over here.\n\n85\n00:03:57.600 --> 00:04:02.070\nSo we do have that default port\nrule that we can see there.\n\n86\n00:04:02.070 --> 00:04:06.140\nWe're gonna go ahead and\nwe're just going to remove that.\n\n87\n00:04:06.140 --> 00:04:08.020\nAnd you can see how easy it is to remove.\n\n88\n00:04:08.020 --> 00:04:10.070\nReally not a big deal.\n\n89\n00:04:10.070 --> 00:04:13.970\nSo, we can obviously, leave that in place,\nif we cancel, so, don't really remove it.\n\n90\n00:04:13.970 --> 00:04:17.330\nBut you see, we could remove one,\nwith no trouble.\n\n91\n00:04:17.330 --> 00:04:20.010\nAnd, of course,\nwe can also add here as well.\n\n92\n00:04:20.010 --> 00:04:22.350\nSo let's take a look at how to add one in.\n\n93\n00:04:22.350 --> 00:04:25.760\nI showed you this quick, we didn't really\nspend a lot of time walking through this.\n\n94\n00:04:25.760 --> 00:04:31.230\nSo, we could specify, you'll see here,\nwhen we uncheck the All for cluster\n\n95\n00:04:31.230 --> 00:04:36.750\nIP address we can specify the IP or IPs,\nif there's more than one for the cluster.\n\n96\n00:04:36.750 --> 00:04:41.190\nWe'll just do also it applies to all\nhosts and all members in the cluster.\n\n97\n00:04:41.190 --> 00:04:42.575\nWe do have our report range.\n\n98\n00:04:42.575 --> 00:04:46.251\nNow, Mike and I were talking the last\ncouple episodes about, what if we\n\n99\n00:04:46.251 --> 00:04:50.499\nwere gonna maybe target this for let's say\nmaybe a stateless or stateful web app.\n\n100\n00:04:50.499 --> 00:04:54.539\nSince web app's usually a good example of\na business case that would fit the profile\n\n101\n00:04:54.539 --> 00:04:56.920\nof being hosted on and\nthen it'll be clustered.\n\n102\n00:04:56.920 --> 00:04:59.104\nJust logically probably\nmake a lot of sense for\n\n103\n00:04:59.104 --> 00:05:01.470\nus to do that in terms\nof traffic management.\n\n104\n00:05:01.470 --> 00:05:05.296\nSo maybe we're not gonna be real broad and\nsay, we want ports 0 to 65535.\n\n105\n00:05:05.296 --> 00:05:09.190\nMay not really make a lot of sense.\n\n106\n00:05:09.190 --> 00:05:15.575\nWe wanna probably specify a narrow range,\nmaybe something like 69, I don't know, 78,\n\n107\n00:05:17.194 --> 00:05:22.158\nTo 69, 80 or something like that,\nif maybe that's the range we specify,\n\n108\n00:05:22.158 --> 00:05:26.540\nI'm not sure what that would be,\nI'm just making something up.\n\n109\n00:05:26.540 --> 00:05:30.150\nBut just the idea, obviously that\nwe could define a very specific and\n\n110\n00:05:30.150 --> 00:05:32.970\nnarrowly consume set\nof ports more broadly.\n\n111\n00:05:32.970 --> 00:05:37.620\n&gt;&gt; Cuz I really don't need, I mean if the\nweb app, as you said, is the application\n\n112\n00:05:37.620 --> 00:05:41.690\nwe're trying to provide the load balancing\nfor, I really don't need other types of\n\n113\n00:05:41.690 --> 00:05:45.752\ntraffic going to that virtual IP address\nof the cluster and I don't need.\n\n114\n00:05:45.752 --> 00:05:50.040\n&gt;&gt; No, no, you actually would wanna\nblock this potentially right?\n\n115\n00:05:50.040 --> 00:05:54.010\nBecause I mean, the challenge becomes,\nif we don't have a rule that addresses\n\n116\n00:05:54.010 --> 00:05:58.080\nthis traffic,\nit could then be thrown into the cluster,\n\n117\n00:05:58.080 --> 00:06:02.880\nand just be distributed to all\nthe hosts without us wanting it be.\n\n118\n00:06:02.880 --> 00:06:06.990\nSo we really have to have the mindset of,\nI wanna define what I want, and\n\n119\n00:06:06.990 --> 00:06:11.540\nI wanna then block what I don't, otherwise\nwe can run ourselves into trouble.\n\n120\n00:06:11.540 --> 00:06:15.880\nWe should disable a port range,\nin other words, if we're not gonna use it.\n\n121\n00:06:15.880 --> 00:06:18.390\nBecause if we don't want\nthe traffic coming in,\n\n122\n00:06:18.390 --> 00:06:23.880\nwe have to explicitly essentially deny\nthat traffic as opposed to implicitly\n\n123\n00:06:23.880 --> 00:06:28.210\ndeny it by benignly ignoring it and\nassuming it's not gonna show up.\n\n124\n00:06:28.210 --> 00:06:29.924\nAnd you'll notice at the bottom of this.\n\n125\n00:06:29.924 --> 00:06:32.620\n&gt;&gt; My mom told me to bury my head in\nthe sand, that was a good technique.\n\n126\n00:06:32.620 --> 00:06:35.210\n&gt;&gt; And ostriches do not do that by\nthe way, it's an urban myth and legend.\n\n127\n00:06:35.210 --> 00:06:38.830\nThey do not bury their heads in the sand,\nthat's a lie, it's a fallacy.\n\n128\n00:06:38.830 --> 00:06:39.730\nBut you keep doing that.\n\n129\n00:06:39.730 --> 00:06:40.640\n&gt;&gt; Okay.\n&gt;&gt; We'll pretend.\n\n130\n00:06:40.640 --> 00:06:41.415\n&gt;&gt; It's worked so far.\n\n131\n00:06:41.415 --> 00:06:43.440\n[LAUGH]\n&gt;&gt; All right, so could see here,\n\n132\n00:06:43.440 --> 00:06:47.742\nwe're just to the point we were just,\nyeah, that was kinda odd, wasn't it?\n\n133\n00:06:47.742 --> 00:06:49.380\n&gt;&gt; [LAUGH] That was.\n&gt;&gt; I don't know what that is.\n\n134\n00:06:49.380 --> 00:06:51.740\nThe happy dance going by outside there.\n\n135\n00:06:51.740 --> 00:06:56.990\nSo you can see we do have this, as I just\nmentioned, this disable this port range.\n\n136\n00:06:56.990 --> 00:06:58.040\nWe were just saying,\n\n137\n00:06:58.040 --> 00:07:02.420\nhey, let's have that rule that essentially\ncuts the feet out from under these ports.\n\n138\n00:07:02.420 --> 00:07:05.900\nSo let's actually do this, instead of just\ntalking theoretically here for a second.\n\n139\n00:07:05.900 --> 00:07:10.320\nLet's go and let's remove this rule,\nwhich you could see essentially allows,\n\n140\n00:07:10.320 --> 00:07:12.000\nas we said, all traffic.\n\n141\n00:07:12.000 --> 00:07:15.060\nSo let's just remove this\nlike we were about to do.\n\n142\n00:07:15.060 --> 00:07:19.740\nAnd let's go add in a port rule,\n\n143\n00:07:19.740 --> 00:07:24.820\nthat says let's do the following.\n\n144\n00:07:24.820 --> 00:07:30.687\nLet us disable all the ports\nthat we are not gonna use.\n\n145\n00:07:30.687 --> 00:07:32.237\nAnd so, let's assume for\n\n146\n00:07:32.237 --> 00:07:36.547\na minute that we're gonna disable\neverything from 0 to 65,000.\n\n147\n00:07:36.547 --> 00:07:41.342\nJust hypothetically would say\nwe're gonna use some dynamic\n\n148\n00:07:41.342 --> 00:07:45.490\nports above 65,000 just for\nwhat we wanna do.\n\n149\n00:07:45.490 --> 00:07:49.056\nBoth for TCP and\nUDP cuz we do not want any of that.\n\n150\n00:07:49.056 --> 00:07:53.174\nWe're gonna specify that essentially\nthat should be disabled, so\n\n151\n00:07:53.174 --> 00:07:55.350\nwe're not gonna worry about that.\n\n152\n00:07:55.350 --> 00:07:57.755\nWe're gonna do down there, we're not\ngonna worry about filtering mode,\n\n153\n00:07:57.755 --> 00:07:59.625\nwe'll talk about filtering mode\nin a minute On the list but\n\n154\n00:07:59.625 --> 00:08:01.520\nlet's just assume we're gonna do it for\nboth protocols.\n\n155\n00:08:01.520 --> 00:08:02.954\nWanted to save for that port range, right?\n\n156\n00:08:02.954 --> 00:08:06.232\nSo, to make this rule that we were\ntalking about just now, right, so\n\n157\n00:08:06.232 --> 00:08:09.569\nthere just theoretically talking about it,\nlet's just go in there,\n\n158\n00:08:09.569 --> 00:08:11.940\nlet's put that in there, mode disable.\n\n159\n00:08:11.940 --> 00:08:17.879\nNow, let's go in and let's say that\nwe want 65001, up through 65535.\n\n160\n00:08:17.879 --> 00:08:25.220\nRemember, we said hey, essentially\neverything below 65,000, get rid of it.\n\n161\n00:08:25.220 --> 00:08:26.790\nBut let's say anything above that.\n\n162\n00:08:26.790 --> 00:08:27.785\nAnd that is a wide range.\n\n163\n00:08:27.785 --> 00:08:31.050\nI know that's 500 ports approximately, and\n\n164\n00:08:31.050 --> 00:08:35.100\nwe obviously would want to be a little\nbit more narrow for scripting with that.\n\n165\n00:08:35.100 --> 00:08:37.340\nBut just the general idea\nwe're talking about right?\n\n166\n00:08:37.340 --> 00:08:39.970\nLet's say that we want it for\nboth protocols, and\n\n167\n00:08:39.970 --> 00:08:43.570\ninstead of disabling this port range,\nand instead of multi hosts,\n\n168\n00:08:43.570 --> 00:08:48.150\nmaybe we want to put that out there and\nsay single host right?\n\n169\n00:08:48.150 --> 00:08:53.030\nAnd so maybe what we wanna do is specify\n\n170\n00:08:53.030 --> 00:08:57.530\nthe IP address of a single host here, that\nwe want to bring this traffic into, right?\n\n171\n00:08:57.530 --> 00:09:02.350\nSo we can go in and we could specify\nthe node that is assigned, rather we could\n\n172\n00:09:02.350 --> 00:09:07.230\nspecify based on this that we're going\nto be able to make this available.\n\n173\n00:09:07.230 --> 00:09:10.420\nWe said either all or specify here.\n\n174\n00:09:10.420 --> 00:09:14.354\nNow we do this also based on priority,\nthere's a priority ranking.\n\n175\n00:09:14.354 --> 00:09:17.490\nA priority order,\na number that's assigned to each host.\n\n176\n00:09:17.490 --> 00:09:19.300\nLet me show you what I mean\nby that in just a second.\n\n177\n00:09:19.300 --> 00:09:22.130\nBut let's just say single host here for\njust one second, all right.\n\n178\n00:09:22.130 --> 00:09:24.590\nSo we have done this, right?\n\n179\n00:09:24.590 --> 00:09:27.210\nAnd what I mean by that is following.\n\n180\n00:09:27.210 --> 00:09:29.210\nGive me just a second to click okay here.\n\n181\n00:09:29.210 --> 00:09:31.922\nlet us take a look at one or\nboth of our hosts.\n\n182\n00:09:31.922 --> 00:09:35.940\nNow plaid VM zero one if you\nremember is updating so give it.\n\n183\n00:09:35.940 --> 00:09:40.340\nSo you can see it is kinda got the hour\nglasses pending because I just made\n\n184\n00:09:40.340 --> 00:09:42.950\na change to all the port rules so is\ngoing to go through and update them all.\n\n185\n00:09:42.950 --> 00:09:47.750\nAll right, so let's just say here, and you\ncan see right here pending right now for\n\n186\n00:09:47.750 --> 00:09:48.980\nstatus, right?\n\n187\n00:09:48.980 --> 00:09:50.400\nIt will eventually updates.\n\n188\n00:09:50.400 --> 00:09:54.110\nSo, let's just say, see it's enabled\nthere, it's just coming in here,\n\n189\n00:09:54.110 --> 00:09:55.800\nwe'll eventually update.\n\n190\n00:09:55.800 --> 00:10:04.720\nLet's go in, and let's just say\nhypothetically that for host properties.\n\n191\n00:10:04.720 --> 00:10:06.960\nNot hypothetically,\nI should say, rather actually.\n\n192\n00:10:06.960 --> 00:10:12.230\nThat every host has a priority,\na unique host identifier or number\n\n193\n00:10:12.230 --> 00:10:18.275\nstarting with one and going up, that\nidentifies it as being in the cluster.\n\n194\n00:10:18.275 --> 00:10:21.415\nBut the lower the number,\nthe higher the priorities.\n\n195\n00:10:21.415 --> 00:10:25.055\nIt's like inverse because say okay two is\nbetter than one so two means I am a higher\n\n196\n00:10:25.055 --> 00:10:28.907\npriority, so I will get the traffic before\nthe guy below me who's got number one.\n\n197\n00:10:28.907 --> 00:10:31.957\nNo actually you'll get it after\nthe guy below you who has number one,\n\n198\n00:10:31.957 --> 00:10:33.627\nbecause one is the highest priority.\n\n199\n00:10:33.627 --> 00:10:37.177\nSo we can always tell which\none was the first machine\n\n200\n00:10:37.177 --> 00:10:41.650\nthat was entered into the cluster,\nbecause we can see.\n\n201\n00:10:41.650 --> 00:10:44.490\nBut that's the one that has the priority\nof one because that was the one that was\n\n202\n00:10:44.490 --> 00:10:47.210\nestablished first,\nthe first host that set the cluster up.\n\n203\n00:10:47.210 --> 00:10:50.270\nSo you could see there that if I do this,\n\n204\n00:10:50.270 --> 00:10:53.650\nI could say typically as\nwe're load balancing, yet\n\n205\n00:10:53.650 --> 00:10:58.370\nwe're looking at this and we figure out\nload and we figure out optimization,\n\n206\n00:10:58.370 --> 00:11:01.140\nthe system behind the scenes,\nkind of take a look at some of this.\n\n207\n00:11:01.140 --> 00:11:03.580\nIt's based on performance\ncharacteristics of the host.\n\n208\n00:11:03.580 --> 00:11:08.700\nSo multiple hosts, when I choose multiple\nhosts under port rules, right here.\n\n209\n00:11:10.770 --> 00:11:13.500\nWhen I choose multiple hosts\nunder port rules, we're saying\n\n210\n00:11:13.500 --> 00:11:16.416\nbased on performance characteristics,\nthe host essentially in the cluster.\n\n211\n00:11:16.416 --> 00:11:19.700\nLet's load balance based on those\nperformance characteristics and\n\n212\n00:11:19.700 --> 00:11:20.280\ncriteria and\n\n213\n00:11:20.280 --> 00:11:24.600\nwe're gonna essentially spread the load\nout, right if you will, based on that.\n\n214\n00:11:24.600 --> 00:11:28.040\nIf a node fails, other nodes\ncontinue to respond based on that.\n\n215\n00:11:28.040 --> 00:11:29.870\nBut if we do single host right,\n\n216\n00:11:29.870 --> 00:11:33.830\nlike we did here, notice we have\na handling priority item right there.\n\n217\n00:11:33.830 --> 00:11:36.780\nAnd notice we have from\none all the way to 32.\n\n218\n00:11:36.780 --> 00:11:40.027\nIf I scroll down, you would see 32.\n\n219\n00:11:40.027 --> 00:11:44.688\nAnd so the way I specify single host and\nI say, okay, path to that host,\n\n220\n00:11:44.688 --> 00:11:46.180\nis not based on the IP.\n\n221\n00:11:46.180 --> 00:11:49.800\nWhere I checked, unchecked off and\nsaid we could have that cluster IP.\n\n222\n00:11:49.800 --> 00:11:52.622\nRemember, that's the unique IP up front.\n\n223\n00:11:52.622 --> 00:11:56.530\nThat's just essentially, right,\nthe virtual IP that we're putting in.\n\n224\n00:11:56.530 --> 00:12:02.240\nInstead what we're doing is we're saying,\nyou wanna go to host 18 or whatever it is.\n\n225\n00:12:02.240 --> 00:12:05.400\nFor single host,\nyou would specify handle priority 18.\n\n226\n00:12:05.400 --> 00:12:10.900\nThis is now gonna path the traffic\nassociated with this rule which\n\n227\n00:12:10.900 --> 00:12:17.230\nwas the 65,000 001 to 65 535\nport range that we allowed.\n\n228\n00:12:17.230 --> 00:12:21.242\nIt's gonna path all that traffic over to\nthe host with a priority rating of 18,\n\n229\n00:12:21.242 --> 00:12:25.432\nwhich essentially means the 18th host\nthat was installed on the cluster, right?\n\n230\n00:12:25.432 --> 00:12:28.817\nSo as a result, we're gonna say\nby singling out the machine,\n\n231\n00:12:28.817 --> 00:12:30.670\nsend all the traffic there.\n\n232\n00:12:30.670 --> 00:12:32.080\nThat's what the single host rule does,\n\n233\n00:12:32.080 --> 00:12:35.140\nversus the multiple host, which does it\nbased off the performance characteristics.\n\n234\n00:12:35.140 --> 00:12:36.820\nSo we can to your point,\n\n235\n00:12:36.820 --> 00:12:40.290\nbe pretty prescriptive about how\nwe want this traffic to show up.\n\n236\n00:12:40.290 --> 00:12:42.400\nBut we do it based on\nthe handling priority.\n\n237\n00:12:42.400 --> 00:12:45.520\nAnd the trick there is the lower\nthe number, the higher the priority for\n\n238\n00:12:45.520 --> 00:12:48.020\nthe host, meaning more likely\nthe host is to get that.\n\n239\n00:12:48.020 --> 00:12:50.570\nSo I just wanna make sure\nwe are aware of that.\n\n240\n00:12:50.570 --> 00:12:51.394\nAnd\n&gt;&gt; [COUGH]\n\n241\n00:12:51.394 --> 00:12:52.124\n&gt;&gt; Excuse me,\n\n242\n00:12:52.124 --> 00:12:55.110\nwe disabled the port\nranges we talked about.\n\n243\n00:12:55.110 --> 00:12:57.870\nWe can actually turn off\ntraffic that is coming in and\n\n244\n00:12:57.870 --> 00:13:00.790\nwe said explicit disable\nof the port range,\n\n245\n00:13:00.790 --> 00:13:05.120\nexplicit deny means the traffic will\nnot be managed, we will not see it.\n\n246\n00:13:05.120 --> 00:13:08.370\nIf we benignly neglect that traffic,\nwe don't\n\n247\n00:13:08.370 --> 00:13:12.400\npurposely set up the rule as we did\nthat will disable that inbound traffic.\n\n248\n00:13:12.400 --> 00:13:14.950\nWhat will happen is we don't\ndisable the port range and\n\n249\n00:13:14.950 --> 00:13:19.020\nthere's no existing port rule, the traffic\nthen actually, is still going to be\n\n250\n00:13:19.020 --> 00:13:23.420\nforwarded, as I suggested, shows up that\nthe host with the lowest priority rating,\n\n251\n00:13:23.420 --> 00:13:26.830\nwhich is host number one traditionally,\nand is still dealt with.\n\n252\n00:13:26.830 --> 00:13:29.570\nWhich can get us in trouble,\nbecause they don't want that traffic.\n\n253\n00:13:29.570 --> 00:13:31.350\nSo you gotta always make sure you go and\n\n254\n00:13:31.350 --> 00:13:35.450\ndisable that traffic inbound by\nmaking a rule as we did, right?\n\n255\n00:13:35.450 --> 00:13:40.560\nThat's the rule that is right here\nmaking the rule that disables it, right?\n\n256\n00:13:40.560 --> 00:13:42.880\nSo I just wanna make sure\nthat we are aware of that.\n\n257\n00:13:42.880 --> 00:13:44.370\nAnd it says there TCP and\n\n258\n00:13:44.370 --> 00:13:49.169\nUDP traffic direct attendant cluster IP\naddress, that arrives on port zero through\n\n259\n00:13:49.169 --> 00:13:52.995\nin this case 65,000 is discarded\nby all members of the cluster.\n\n260\n00:13:52.995 --> 00:13:55.430\n&gt;&gt; Mm-hm.\n&gt;&gt; Because we said disable all traffic, or\n\n261\n00:13:55.430 --> 00:13:56.210\ndisable that.\n\n262\n00:13:56.210 --> 00:13:59.510\nWhereas when we highlight this one,\nTCP and UDP traffic,\n\n263\n00:13:59.510 --> 00:14:01.230\nas we said, for both, right?\n\n264\n00:14:01.230 --> 00:14:05.340\nTo any cluster IP that arrives on ports\nwhatever through whatever handled by\n\n265\n00:14:05.340 --> 00:14:08.820\nthe active cluster host with the smallest\nhandling priority to this port rule.\n\n266\n00:14:08.820 --> 00:14:10.730\nI like the way they describe\nit in the description.\n\n267\n00:14:10.730 --> 00:14:13.890\nThe smallest handling priority kind of\nindicates to you, well in theory, to me.\n\n268\n00:14:13.890 --> 00:14:16.260\nI think of it and go okay,\nright, that makes sense.\n\n269\n00:14:16.260 --> 00:14:18.010\nI've gotta have the lowest number.\n\n270\n00:14:18.010 --> 00:14:22.630\nRight, whereas just generically, a lot of\nthe documentation it says, the host with\n\n271\n00:14:22.630 --> 00:14:26.990\nthe highest handling priority, which\nyou have to know is the lowest number.\n\n272\n00:14:26.990 --> 00:14:30.710\nBut that doesn't always ring through and\nsometimes it doesn't make sense.\n\n273\n00:14:30.710 --> 00:14:32.655\nSo just wanna think about that.\n\n274\n00:14:32.655 --> 00:14:35.100\nBut we could set these\nport rules as you can see.\n\n275\n00:14:36.400 --> 00:14:40.014\nAnd then of course we can\nensure that this is the case.\n\n276\n00:14:40.014 --> 00:14:42.210\nNow, we did this right?\n\n277\n00:14:42.210 --> 00:14:47.708\nSo went ahead and we, let's go back here.\n\n278\n00:14:47.708 --> 00:14:48.840\nRight?\n\n279\n00:14:48.840 --> 00:14:51.690\nSo, yeah we set this up.\n\n280\n00:14:51.690 --> 00:14:54.880\nHave this all in, kind of walk\nthrough the logic of all this, and\n\n281\n00:14:54.880 --> 00:14:57.090\njust make sure we saw what was going on.\n\n282\n00:14:57.090 --> 00:15:01.430\nAll right, so now the other thing to\nkeep in mind I wanted to was talk for\n\n283\n00:15:01.430 --> 00:15:04.050\na minute about what happens\nwith the firewalls.\n\n284\n00:15:04.050 --> 00:15:05.470\nSome of the security\nrules that get spun up,\n\n285\n00:15:05.470 --> 00:15:09.820\nor the fire rules rather that get\nspun up when we configure NLB.\n\n286\n00:15:09.820 --> 00:15:13.360\nYou can see I'm in the Windows Advanced\nFirewall on the inbound rules, just so\n\n287\n00:15:13.360 --> 00:15:14.440\nyou can see.\n\n288\n00:15:14.440 --> 00:15:19.010\nAnd over here, just alphabetically as I\ncome down, think it starts right there.\n\n289\n00:15:19.010 --> 00:15:23.510\nWe have network load balance,\nand we have a set of rules for\n\n290\n00:15:23.510 --> 00:15:28.710\nthe manager, and a set of the rules for\nthe network load balancing itself.\n\n291\n00:15:28.710 --> 00:15:32.834\nThere's what, two, four for\nload balancing, five for load balancing,\n\n292\n00:15:32.834 --> 00:15:36.444\nfour for the manager, total of\nnine rules as you could see there.\n\n293\n00:15:36.444 --> 00:15:40.810\nAnd highlighting them in blue is kinda\nhard on the eyes, will kinda do that.\n\n294\n00:15:40.810 --> 00:15:43.760\nBut I did put a list of\nthese in the notes for you.\n\n295\n00:15:43.760 --> 00:15:45.990\nSo you can see them in the notes\nif you want to see them.\n\n296\n00:15:45.990 --> 00:15:50.023\nBut we do have rules that are set up\nautomatically that allow DCOM inbound,\n\n297\n00:15:50.023 --> 00:15:50.861\nas you can see.\n\n298\n00:15:50.861 --> 00:15:54.484\nDistributed COM, ICMP4, and ICMP6.\n\n299\n00:15:54.484 --> 00:15:56.178\nEcho responses inbound.\n\n300\n00:15:56.178 --> 00:15:59.385\nYou'll see we have,\nwhen management in bound,\n\n301\n00:15:59.385 --> 00:16:04.549\nwe have all sorts of traffic rules that\nare created as part of the configuration\n\n302\n00:16:04.549 --> 00:16:09.712\nof the clusters we stand it up to manage\nand allow for the appropriate traffic so\n\n303\n00:16:09.712 --> 00:16:13.337\nwe could control, configure and\nmanage the cluster.\n\n304\n00:16:13.337 --> 00:16:16.121\nSo we just wanna make sure\nwe're aware of that as well.\n\n305\n00:16:16.121 --> 00:16:21.280\nI did talk about the PowerShell cmdlets,\nif you remember, that are available for\n\n306\n00:16:21.280 --> 00:16:24.105\nmanagement purposes-\n&gt;&gt; Several.\n\n307\n00:16:24.105 --> 00:16:26.506\n&gt;&gt; Right here, and then we're\nglowed down saying, hold on, right?\n\n308\n00:16:26.506 --> 00:16:28.426\nSo you just obviously\nwanna think about those.\n\n309\n00:16:28.426 --> 00:16:31.786\nAnd there is also a nice,\nI just did that didn't I?\n\n310\n00:16:31.786 --> 00:16:33.493\n&gt;&gt; [LAUGH] I hate it when that happens.\n\n311\n00:16:33.493 --> 00:16:34.794\n&gt;&gt; I do.\n\n312\n00:16:34.794 --> 00:16:38.335\nAll right, I'll put that URL\nback up in just a second.\n\n313\n00:16:38.335 --> 00:16:43.234\nI had another little configuration website\nguide from Microsoft that was gonna help\n\n314\n00:16:43.234 --> 00:16:45.583\nyou to kinda walk through the logic NLB.\n\n315\n00:16:45.583 --> 00:16:48.703\nBut I'll throw that up there in just a\nminute just have to type the URL back in.\n\n316\n00:16:48.703 --> 00:16:51.882\nBut I was just gonna show you that we do\nhave some good documentation about how to\n\n317\n00:16:51.882 --> 00:16:54.676\ndo all the configuration all the stuff\nwe've been walking through so\n\n318\n00:16:54.676 --> 00:16:56.335\nit's nice to be able to look all that up.\n\n319\n00:16:56.335 --> 00:17:00.520\nWe talked about Affinity, we talked about\ndifferent host parameters, priorities,\n\n320\n00:17:00.520 --> 00:17:01.565\nsubnets, initial.\n\n321\n00:17:01.565 --> 00:17:05.292\nWe talked about, I did mention we\ncould do this on virtual environments.\n\n322\n00:17:05.292 --> 00:17:10.169\nI just wanna remind you of the fact\nthat we can't set up a cluster host as\n\n323\n00:17:10.169 --> 00:17:13.657\nvirtual machines, so\nI think talked about this.\n\n324\n00:17:13.657 --> 00:17:18.329\nBut I just wanna separate out the best\npractices, think about the logic.\n\n325\n00:17:18.329 --> 00:17:22.393\nAnd I think I talked about this, about\nplacing the cluster nodes on separate hard\n\n326\n00:17:22.393 --> 00:17:25.455\ndrives, separate hard drives\nfrom the hyper B host itself.\n\n327\n00:17:25.455 --> 00:17:29.515\nBecause that way, if the host hard drives\nfails or one of the nodes fail, meaning,\n\n328\n00:17:29.515 --> 00:17:33.112\nwe say that essentially one of the virtual\nmachines, if one of them fail,\n\n329\n00:17:33.112 --> 00:17:37.077\nwe may experience a catastrophic failure,\ndepending on how we configure this.\n\n330\n00:17:37.077 --> 00:17:38.938\nSo I just wanna make\nsure that if the disk or\n\n331\n00:17:38.938 --> 00:17:41.499\na disk array fails we still\nhave survivability, right?\n\n332\n00:17:41.499 --> 00:17:43.829\nSo I wanna just think\nabout the logic of that.\n\n333\n00:17:43.829 --> 00:17:48.185\nAnd then in addition I just wanted\nto talk a little bit about the,\n\n334\n00:17:48.185 --> 00:17:52.235\njust getting back down to the URL so\nwe can type it in for you.\n\n335\n00:17:52.235 --> 00:17:54.742\nI wanted to talk just a little bit\nabout this idea of the upgrade, right?\n\n336\n00:17:54.742 --> 00:18:00.004\nThat I mention that we could do an upgrade\nfrom a prior version of an NLB cluster.\n\n337\n00:18:00.004 --> 00:18:03.456\nIn fact we can run kind of in\na mixed environment if we want to.\n\n338\n00:18:03.456 --> 00:18:04.161\nSo just some things.\n\n339\n00:18:04.161 --> 00:18:05.259\nI think you wanna say something?\n\n340\n00:18:05.259 --> 00:18:06.358\n&gt;&gt; Why are you getting that URL?\n\n341\n00:18:06.358 --> 00:18:10.091\n&gt;&gt; [CROSSTALK] Maybe chat for a second\nwhile I just retype very quickly here.\n\n342\n00:18:10.091 --> 00:18:11.875\n&gt;&gt; It's nice that they give us that,\n\n343\n00:18:11.875 --> 00:18:15.457\nwhat I would like to call the rolling\nupgrade capabilities, right?\n\n344\n00:18:15.457 --> 00:18:20.409\nWhereas, some things you're working with\nMicrosoft, and it's either all or not,\n\n345\n00:18:20.409 --> 00:18:24.536\neverything has to be running the same\nflavor of operating system down to\n\n346\n00:18:24.536 --> 00:18:25.246\nthe build.\n\n347\n00:18:25.246 --> 00:18:27.081\nAnd that's for competitive, for features.\n\n348\n00:18:27.081 --> 00:18:29.841\nI don't wanna hit one machine and\nit'll be able to handle it and\n\n349\n00:18:29.841 --> 00:18:33.292\nthis machine doesn't have that kind of\nsame instruction set or what have you.\n\n350\n00:18:33.292 --> 00:18:36.710\nSo in the end,\neven on our network load balancing,\n\n351\n00:18:36.710 --> 00:18:42.049\nwe do want them to all be running the same\nfor operating system for consistency.\n\n352\n00:18:42.049 --> 00:18:42.956\n&gt;&gt; As a best practice.\n\n353\n00:18:42.956 --> 00:18:44.065\n&gt;&gt; As a best practice.\n\n354\n00:18:44.065 --> 00:18:45.910\n&gt;&gt; But\nwe do support mix environment cluster.\n\n355\n00:18:45.910 --> 00:18:50.677\n&gt;&gt; Let's say they're all 2008 nodes,\nby being able to upgrade one,\n\n356\n00:18:50.677 --> 00:18:54.341\nput it back in the cluster,\nI can keep that cluster up.\n\n357\n00:18:54.341 --> 00:18:58.285\nI don't have to tear the whole\ncluster down, upgrade all 5, 10,\n\n358\n00:18:58.285 --> 00:18:59.918\n32 nodes at the same time.\n\n359\n00:18:59.918 --> 00:19:02.493\nI can piecemeal it and\nthat's a wonderful capability.\n\n360\n00:19:02.493 --> 00:19:05.293\n&gt;&gt; Right, and we do call that, we call\nthat a piecemeal upgrade versus a rolling\n\n361\n00:19:05.293 --> 00:19:06.685\nupgrade, as you were talking about.\n\n362\n00:19:06.685 --> 00:19:07.293\n&gt;&gt; Okay, yep.\n\n363\n00:19:07.293 --> 00:19:09.543\n&gt;&gt; The difference between the two\nspecifically, you named both words.\n\n364\n00:19:09.543 --> 00:19:14.285\nBut the idea of the rolling upgrade is\nupgrading one node kind of at a time,\n\n365\n00:19:14.285 --> 00:19:17.968\nwe take the node offline,\ndo an upgrade, put it back in.\n\n366\n00:19:17.968 --> 00:19:22.203\nThe piecemeal, as you were describing it,\nis actually adding brand new server, 12R2.\n\n367\n00:19:22.203 --> 00:19:23.405\nIn this case, we're thinking about 12R2.\n\n368\n00:19:23.405 --> 00:19:24.071\n&gt;&gt; Okay.\n\n369\n00:19:24.071 --> 00:19:28.398\n&gt;&gt; Adding brand new 12R2 nodes,\nnew nodes into an existing cluster and\n\n370\n00:19:28.398 --> 00:19:31.003\nsundowning perhaps other ones over time.\n\n371\n00:19:31.003 --> 00:19:33.944\n&gt;&gt; When hardware is older or-\n&gt;&gt; Whereas rolling upgrade is\n\n372\n00:19:33.944 --> 00:19:37.246\nessentially take one offline,\nupgrade it, put it back in,\n\n373\n00:19:37.246 --> 00:19:39.665\nkeeping that stability more or less there.\n\n374\n00:19:39.665 --> 00:19:42.746\nIt's just a question of what approach\nwe use and the name we use to describe.\n\n375\n00:19:42.746 --> 00:19:45.327\n&gt;&gt; But both of those are allowed,\nthough, in NLB in 2012.\n\n376\n00:19:45.327 --> 00:19:47.685\n&gt;&gt; Piecemeal upgrade versus\nrolling upgrade, absolutely.\n\n377\n00:19:47.685 --> 00:19:48.415\nSo the URL is back,\n\n378\n00:19:48.415 --> 00:19:50.995\nit's amazing what we get when we pull the,\nright out of the cache.\n\n379\n00:19:50.995 --> 00:19:53.612\n&gt;&gt; [LAUGH]\n&gt;&gt; I just had to start typing two letters,\n\n380\n00:19:53.612 --> 00:19:54.599\nlike you want this one,\n\n381\n00:19:54.599 --> 00:19:57.007\nbecause you shouldn't have closed it,\nand there it is right there.\n\n382\n00:19:57.007 --> 00:19:59.993\nSo Overview of\nNetwork Load Balancing Deployment Process,\n\n383\n00:19:59.993 --> 00:20:01.990\nI just wanted to share this URL with you.\n\n384\n00:20:01.990 --> 00:20:05.415\nThe nice thing about this, as it is with\nmany of the documents we see on the web.\n\n385\n00:20:05.415 --> 00:20:06.263\nAnd by the way,\n\n386\n00:20:06.263 --> 00:20:10.455\ndon't get thrown by the fact that the date\nis a few years in the past already.\n\n387\n00:20:10.455 --> 00:20:14.551\nAs I've talked about in some other\ninstances where we see older dates on some\n\n388\n00:20:14.551 --> 00:20:17.691\nof the documentation,\nthat information is still valid.\n\n389\n00:20:17.691 --> 00:20:20.854\nAnd so it's not that you should worry\nabout the fact that maybe several years\n\n390\n00:20:20.854 --> 00:20:22.547\nold, it's still good for what we need.\n\n391\n00:20:22.547 --> 00:20:25.452\nBut you could see we have kind of\nan overview of the deployment process.\n\n392\n00:20:25.452 --> 00:20:29.621\nBut then, deeper dive here implementing\nthat network load balances cluster,\n\n393\n00:20:29.621 --> 00:20:33.726\nverifying enabling client access,\nupgrading as we were just talking about,\n\n394\n00:20:33.726 --> 00:20:37.357\nall the information that we went\nthrough or have discussed with you.\n\n395\n00:20:37.357 --> 00:20:41.883\nAll your reference before you in one\nnice easy area and easy to work with and\n\n396\n00:20:41.883 --> 00:20:44.958\naccess, so it's a good way for\nyou to go through.\n\n397\n00:20:44.958 --> 00:20:47.481\nAnd if you go for\ninstance to the implementing,\n\n398\n00:20:47.481 --> 00:20:51.648\nyou could see the checklist to prepare\ninstalling configure in the hardware,\n\n399\n00:20:51.648 --> 00:20:55.200\ninstalling configuring the first host,\nadditional host, etc.\n\n400\n00:20:55.200 --> 00:20:57.560\nSo you could just walk\nthrough the steps here and\n\n401\n00:20:57.560 --> 00:21:01.399\nunderstand all the stuff we did and\nother things that you may wanna validate.\n\n402\n00:21:01.399 --> 00:21:04.875\nAnd it's nice because although it\ndoes talk about doing the Sun 2008,\n\n403\n00:21:04.875 --> 00:21:09.135\nyou can essentially extrapolate that out\nfor 12, 12R2, it really hasn't changed.\n\n404\n00:21:09.135 --> 00:21:11.450\nWe have some newer PowerShell cmdlets, but\n\n405\n00:21:11.450 --> 00:21:15.141\npretty much it is going to be the same\nif you take a look, for instance,\n\n406\n00:21:15.141 --> 00:21:18.287\nat installing and\nconfiguring additional hosts, right?\n\n407\n00:21:18.287 --> 00:21:23.492\nIt tells you to go in and we can\neither walk through and enable it and\n\n408\n00:21:23.492 --> 00:21:28.603\nset it up as we did, ensure the load\nbalancing is set up across all\n\n409\n00:21:28.603 --> 00:21:34.189\nthe hosts and/or talk about installing\nconfiguring the first host,\n\n410\n00:21:34.189 --> 00:21:37.340\nfirst NLB host, for instance, here.\n\n411\n00:21:37.340 --> 00:21:40.583\nInstall the feature, the roles and\nfeatures on the first cluster.\n\n412\n00:21:40.583 --> 00:21:43.420\nAnd then enable monitoring health\nchecking on the first cluster.\n\n413\n00:21:43.420 --> 00:21:45.434\nThat's if you do MOM,\nyou don't have to worry about that,\n\n414\n00:21:45.434 --> 00:21:46.859\nthat's from Microsoft Office Manager.\n\n415\n00:21:46.859 --> 00:21:50.240\nThat part you could skip, we're not\ntalking about doing the monitoring,\n\n416\n00:21:50.240 --> 00:21:50.945\nbut you could.\n\n417\n00:21:50.945 --> 00:21:54.660\nBut then once you've done that, you\nthen are able to go ahead and scale out.\n\n418\n00:21:54.660 --> 00:21:57.540\nSo it kinda walks you through the logic\nof what you wanna be able to do.\n\n419\n00:21:57.540 --> 00:21:59.865\nSo it's just a good generic reference.\n\n420\n00:21:59.865 --> 00:22:03.180\nYou could certainly find a newer\nreference for 12R2, specifically,\n\n421\n00:22:03.180 --> 00:22:04.579\nif you wanna just look at that.\n\n422\n00:22:04.579 --> 00:22:07.651\nBut it's a good overview, generically,\njust to have a sense of how things work.\n\n423\n00:22:07.651 --> 00:22:10.190\nSo I thought it would be good just\nto round out our conversation by\n\n424\n00:22:10.190 --> 00:22:11.045\ntalking about that.\n\n425\n00:22:11.045 --> 00:22:14.458\nBut NLB, a technology that\ncan be very valuable for us.\n\n426\n00:22:14.458 --> 00:22:18.262\nBut we do have to have kinda the thought\nprocess around maybe a specific workload\n\n427\n00:22:18.262 --> 00:22:19.122\nwe wanna attach.\n\n428\n00:22:19.122 --> 00:22:23.192\nAnd of course, figuring out those port\nrules and making sure that we understand\n\n429\n00:22:23.192 --> 00:22:26.057\nhow to allow or\nblock the specific traffic in question.\n\n430\n00:22:26.057 --> 00:22:29.624\nSo that we're not having traffic show\nup when we don't want to deal with it,\n\n431\n00:22:29.624 --> 00:22:31.018\nwould be really important for\n\n432\n00:22:31.018 --> 00:22:34.328\nus to consider as we set that explicit\ndeny versus the implicit allow.\n\n433\n00:22:34.328 --> 00:22:36.397\n&gt;&gt; All right Adam, great look there.\n\n434\n00:22:36.397 --> 00:22:38.939\nOf course the three episodes,\nCovering Network,\n\n435\n00:22:38.939 --> 00:22:41.952\nLoad Balance, and\ngetting that set up from start to finish,\n\n436\n00:22:41.952 --> 00:22:45.498\nyou got to see us actually create\nthat network load balancing cluster,\n\n437\n00:22:45.498 --> 00:22:49.012\nadd our nodes to it, create our port\nrules, everything we need to do.\n\n438\n00:22:49.012 --> 00:22:51.124\nFantastic, so we appreciate that Adam.\n\n439\n00:22:51.124 --> 00:22:53.204\nI hope everybody out\nthere enjoyed watching.\n\n440\n00:22:53.204 --> 00:22:56.607\nSigning off for ITProTV,\nI've been your host Mike Rodrick.\n\n441\n00:22:56.607 --> 00:22:57.428\n&gt;&gt; I'm Adam Gordon.\n\n442\n00:22:57.428 --> 00:22:59.529\n&gt;&gt; And we'll see you next time.\n\n443\n00:22:59.529 --> 00:23:05.545\n[MUSIC]\n\n444\n00:23:05.545 --> 00:23:08.735\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "237460023"
        }
      ],
      "title": "Implement Network Load Balancing"
    },
    {
      "episodes": [
        {
          "description": "Adam and Mike discuss what a cluster is, the vocabulary of a failover cluster, and what some of the new features for failover clustering are in Server 2012 and 2012 R2.",
          "length": "2019",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-1-configure_failover_clustering-101717-PGM.00_00_12_00.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-1-configure_failover_clustering-101717-PGM.00_00_12_00.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-1-configure_failover_clustering-101717-PGM.00_00_12_00.Still001-sm.jpg",
          "title": "Configure Failover Clustering",
          "transcript": "WEBVTT\n\n1\n00:00:00.003 --> 00:00:00.836\nWelcome to ITPRO.TV.\n\n2\n00:00:00.836 --> 00:00:02.574\nI'm your host Don Pezet.\n\n3\n00:00:02.574 --> 00:00:06.100\n[INAUDIBLE]\n\n4\n00:00:06.100 --> 00:00:08.108\n[MUSIC]\n\n5\n00:00:08.108 --> 00:00:10.858\n&gt;&gt; You're watching ITPRO.TV.\n\n6\n00:00:10.858 --> 00:00:15.150\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITPRO.TV.\n\n7\n00:00:15.150 --> 00:00:17.040\nI'm your host, Mike Rodrick.\n\n8\n00:00:17.040 --> 00:00:20.990\nAnd today we're doing our\nWindows Server 2012 R2,\n\n9\n00:00:20.990 --> 00:00:23.930\nIn preparation for the 70-412 exam.\n\n10\n00:00:23.930 --> 00:00:28.040\nIn this episode, we're gonna be\nconfiguring failover clustering.\n\n11\n00:00:28.040 --> 00:00:33.050\nAnd here to help us with that, I think,\nhelp, help, help, you know is Adam Gordon.\n\n12\n00:00:33.050 --> 00:00:33.910\nWelcome back, Adam.\n\n13\n00:00:33.910 --> 00:00:35.258\n&gt;&gt; You sound like you need help.\n\n14\n00:00:35.258 --> 00:00:36.130\n[LAUGH]\n&gt;&gt; I do.\n\n15\n00:00:36.130 --> 00:00:37.147\nThank God you're here.\n\n16\n00:00:37.147 --> 00:00:41.250\n[LAUGH]\n&gt;&gt; I am, I am and good for you.\n\n17\n00:00:41.250 --> 00:00:43.940\nLet's talk about failover clustering,\nso, well that would be a good idea,\n\n18\n00:00:43.940 --> 00:00:45.560\nsince we're gonna talk\nabout how to configure it,\n\n19\n00:00:45.560 --> 00:00:47.320\nwe should probably start out\nby talking about what it is.\n\n20\n00:00:47.320 --> 00:00:50.160\nSo I was just showing Mike this cool\nlittle diagram I put together just to\n\n21\n00:00:50.160 --> 00:00:52.980\nexplain the concepts, we'll take\na look at that in just a second.\n\n22\n00:00:52.980 --> 00:00:54.200\nBut let's start as we often do,\n\n23\n00:00:54.200 --> 00:00:59.280\nwith just maybe a very high level\nconversation around what a cluster is.\n\n24\n00:00:59.280 --> 00:01:02.360\nPeople get confused sometimes I\nfind when we talk about clustering.\n\n25\n00:01:02.360 --> 00:01:04.510\nYou put the word failover in front\nof it and they think number one,\n\n26\n00:01:04.510 --> 00:01:08.130\nit's a different kind of cluster,\nthe reality is, a cluster is a cluster.\n\n27\n00:01:08.130 --> 00:01:10.850\nIt's traditionally used to\nprovide services especially\n\n28\n00:01:10.850 --> 00:01:13.530\nin environments where\navailability is at a premium.\n\n29\n00:01:13.530 --> 00:01:17.065\nAnd we don't wanna interrupt that\navailability through the loss of one or\n\n30\n00:01:17.065 --> 00:01:19.297\nmore members that\ncontribute to the cluster.\n\n31\n00:01:19.297 --> 00:01:23.851\nAnd as a result, we call it a cluster,\na failover cluster,\n\n32\n00:01:23.851 --> 00:01:26.430\nany kind of derivative name.\n\n33\n00:01:26.430 --> 00:01:28.310\nUltimately it really means the same thing,\nright?\n\n34\n00:01:28.310 --> 00:01:30.518\nSo when we think about clustering,\n\n35\n00:01:30.518 --> 00:01:35.090\nat least when I think about clustering,\nI think about almost like a resource pool.\n\n36\n00:01:35.090 --> 00:01:38.711\n&gt;&gt; Yes.\n&gt;&gt; Because I think of lots of resources,\n\n37\n00:01:38.711 --> 00:01:43.585\ntypically one or\nmore hosts adding resources.\n\n38\n00:01:43.585 --> 00:01:47.995\nHosts are going to simply be\nmachines that contribute resources.\n\n39\n00:01:47.995 --> 00:01:50.985\nAlso, we call them nodes by the way when\nwe talk about failover clustering in\n\n40\n00:01:50.985 --> 00:01:52.025\nMicrosoft's language.\n\n41\n00:01:52.025 --> 00:01:57.685\nBut generically, we have multiple nodes,\none or more machines\n\n42\n00:01:57.685 --> 00:02:02.255\nthat are going to either consume and or\ncontribute resources from the cluster.\n\n43\n00:02:02.255 --> 00:02:07.800\nAnd as a result of that, we are then able\nto use the cluster to do several things.\n\n44\n00:02:07.800 --> 00:02:09.190\nNumber one, scale up.\n\n45\n00:02:09.190 --> 00:02:10.310\nNumber two, scale out.\n\n46\n00:02:10.310 --> 00:02:14.540\nAnd number three, provide hopefully\nuninterrupted availability for\n\n47\n00:02:14.540 --> 00:02:19.620\nservices and access to, in many cases\ndata, applications, things of that nature.\n\n48\n00:02:19.620 --> 00:02:23.660\nAre running so that anybody who\nneeds to use them can access them\n\n49\n00:02:23.660 --> 00:02:26.691\ntraditionally in an uninterrupted fashion,\nright?\n\n50\n00:02:26.691 --> 00:02:31.729\nSo think about cloud services for\ninstance, think about database and\n\n51\n00:02:31.729 --> 00:02:36.390\nweb-based services that must be running\nall the time, messaging services, right?\n\n52\n00:02:36.390 --> 00:02:40.067\nAll those kinda things, we don't want to\ninterrupt them because we're taking down\n\n53\n00:02:40.067 --> 00:02:43.534\none of the nodes or hosts and they host\nsome of those services to do maintenance,\n\n54\n00:02:43.534 --> 00:02:45.790\nmaybe patch matters and\nthings like that, right?\n\n55\n00:02:45.790 --> 00:02:48.143\nAnd so if we have multiple nodes,\n\n56\n00:02:48.143 --> 00:02:53.859\nmultiple systems that essentially are\nperforming as one, this group think, or\n\n57\n00:02:53.859 --> 00:02:59.900\nthis large scale mentality where you have\nmultiple systems doing the same thing.\n\n58\n00:02:59.900 --> 00:03:02.790\nAnd we remove one or more of them, but\nall the others are still in place and\n\n59\n00:03:02.790 --> 00:03:07.450\ncontributing, we don't see from the end\nuser's perspective the interruption, or\n\n60\n00:03:07.450 --> 00:03:11.240\nthe diminishment of services or\ndiminishment of resources.\n\n61\n00:03:11.240 --> 00:03:14.950\nAnd so clusters provide for\nus the ability to scale up,\n\n62\n00:03:14.950 --> 00:03:19.790\nto add capacity and to scale out,\nto grow laterally or horizontally and\n\n63\n00:03:19.790 --> 00:03:24.001\nvertically to provide these\nresources in an uninterrupted.\n\n64\n00:03:24.001 --> 00:03:27.949\nBut also in a way that is focused\non availability as we said, but\n\n65\n00:03:27.949 --> 00:03:29.898\nalso focused on performance.\n\n66\n00:03:29.898 --> 00:03:34.186\nBecause as we see peaks in usage we can\nscale the cluster in theory if we're doing\n\n67\n00:03:34.186 --> 00:03:38.489\nthis the right way, we're automating or\nwe're monitoring and maintaining.\n\n68\n00:03:38.489 --> 00:03:43.125\nWe potentially have the capability to\nscale the cluster to meet that demand so\n\n69\n00:03:43.125 --> 00:03:47.692\nthat demand does not interrupt our\nability to use the cluster by diminishing\n\n70\n00:03:47.692 --> 00:03:48.784\nresponse times.\n\n71\n00:03:48.784 --> 00:03:51.732\nPerhaps adding latency,\nand resource draw or\n\n72\n00:03:51.732 --> 00:03:56.571\ndrain out of the cluster which leads\nto slower response times potentially,\n\n73\n00:03:56.571 --> 00:04:01.740\nprobably problematically over time can\nlead to slow down or even failure.\n\n74\n00:04:01.740 --> 00:04:05.467\nSo, we want to be able to think about\na cluster as we get started as, and\n\n75\n00:04:05.467 --> 00:04:09.284\nI said a resource pool not because I\nwant you to equate the two together.\n\n76\n00:04:09.284 --> 00:04:13.193\nBut because a lot of time people\nare familiar with the concept of research\n\n77\n00:04:13.193 --> 00:04:18.010\npool from cloud surfaces, virtualization,\ndiscussions, things of that nature.\n\n78\n00:04:18.010 --> 00:04:20.800\nAnd its an easy idea to\nkind of latch on to and\n\n79\n00:04:20.800 --> 00:04:22.940\nget a mental image in your mind, right?\n\n80\n00:04:22.940 --> 00:04:29.110\nWe could talk about literally just\na box of, or a square or rectangle,\n\n81\n00:04:29.110 --> 00:04:33.470\nsome kind of area that's maybe demarcated\nwhere we can put a bunch of stuff in and\n\n82\n00:04:33.470 --> 00:04:36.840\nsay, okay everything inside\nthe box is part of the cluster.\n\n83\n00:04:36.840 --> 00:04:39.140\nEverything outside is\nnot part of the cluster.\n\n84\n00:04:39.140 --> 00:04:40.720\nThe more things inside the box or\n\n85\n00:04:40.720 --> 00:04:44.550\nthe demarcated space,\nthe more resources the cluster has.\n\n86\n00:04:44.550 --> 00:04:46.290\nAnd that's really what a resource pool is,\n\n87\n00:04:46.290 --> 00:04:49.270\nwhether it's memory, CPU,\nwhether it's storage.\n\n88\n00:04:49.270 --> 00:04:53.490\nTraditionally it will be C cluster\nservices built up around storage access\n\n89\n00:04:53.490 --> 00:04:54.840\nand storage capacity.\n\n90\n00:04:54.840 --> 00:04:58.153\nThat's what we will be demoing as\nwe set up failover clustering in\n\n91\n00:04:58.153 --> 00:04:59.780\nthe Microsoft environment.\n\n92\n00:04:59.780 --> 00:05:02.980\nWe'll take a look at the failover\nclustering system from the respective\n\n93\n00:05:02.980 --> 00:05:04.120\nshared storage.\n\n94\n00:05:04.120 --> 00:05:08.500\nSo when we do these things, we're\nputting resources together in such a way\n\n95\n00:05:08.500 --> 00:05:12.420\nthat we're able to provide them\nin an economy of scale, right?\n\n96\n00:05:12.420 --> 00:05:16.090\nAnd do so in a way that will\nprovide high availability,\n\n97\n00:05:16.090 --> 00:05:21.400\nuninterrupted service, and access despite\nperhaps environmental constraints.\n\n98\n00:05:21.400 --> 00:05:26.630\nBandwidth, latency, a loss of one or more\nof the contributory nodes in the cluster.\n\n99\n00:05:26.630 --> 00:05:29.300\nSo if you wanna join me here,\ntake a look at the picture, and\n\n100\n00:05:29.300 --> 00:05:32.005\nMike can perhaps narrate in\nabsent thoughts as we go.\n\n101\n00:05:32.005 --> 00:05:32.840\nCould we go full screen?\n\n102\n00:05:32.840 --> 00:05:34.100\nThere we go, okay.\n\n103\n00:05:34.100 --> 00:05:36.050\nAll right good,\nwe love those hand signals.\n\n104\n00:05:36.050 --> 00:05:38.380\nAlright, I forgot,\nshe's not able to hear us.\n\n105\n00:05:38.380 --> 00:05:41.060\nWe're having a little mike problem for\nour episode here and\n\n106\n00:05:41.060 --> 00:05:44.110\nour ability to communicate outside\nthe studio is a little constrained.\n\n107\n00:05:44.110 --> 00:05:47.380\nWhen you see us waving wildly on screen,\nyou'll know why,\n\n108\n00:05:47.380 --> 00:05:49.610\nbecause we're just using hand gestures for\nthis particular episode.\n\n109\n00:05:49.610 --> 00:05:51.790\nSo, you'll see node A and\nnode B here, right?\n\n110\n00:05:51.790 --> 00:05:54.090\nAnd we said,\na node is essentially a host, right,\n\n111\n00:05:54.090 --> 00:05:56.350\nnothing more than that in our example.\n\n112\n00:05:56.350 --> 00:05:57.320\nSo, I got two machines,\n\n113\n00:05:57.320 --> 00:06:00.501\ntwo servers, they look almost like\ndoors now that I'm looking at them.\n\n114\n00:06:00.501 --> 00:06:02.269\n&gt;&gt; [LAUGH] Little locker room doors, yeah.\n\n115\n00:06:02.269 --> 00:06:03.257\n&gt;&gt; Yeah, they do kind, right?\n\n116\n00:06:03.257 --> 00:06:04.193\nIt looks like a locker.\n\n117\n00:06:04.193 --> 00:06:07.034\nThat was the icon they had or\nthe Visio stencil shape for server,\n\n118\n00:06:07.034 --> 00:06:08.800\nI took that, that's what it was.\n\n119\n00:06:08.800 --> 00:06:11.580\nBut I put this together in Visio,\nand just screen captured it,\n\n120\n00:06:11.580 --> 00:06:12.870\nput it in a Word for you.\n\n121\n00:06:12.870 --> 00:06:15.860\nSo if you wanted a quick little picture\nthat you could reference as part of\n\n122\n00:06:15.860 --> 00:06:18.610\nthe show notes,\nyou could download this and easily see it.\n\n123\n00:06:18.610 --> 00:06:20.440\nWe have node A, node B, right?\n\n124\n00:06:20.440 --> 00:06:25.220\nWe have some sort of shared common\ncluster storage, our little cylinder or\n\n125\n00:06:25.220 --> 00:06:28.302\ncylindrical area there in the middle\nlabeled under cluster storage.\n\n126\n00:06:28.302 --> 00:06:32.410\nAnd then a dedicated network that\nconnects the cluster nodes, allowing for\n\n127\n00:06:32.410 --> 00:06:36.310\nmanagement and synchronization of\ncommunication between the nodes.\n\n128\n00:06:36.310 --> 00:06:39.520\nAnd as a result of that,\nwe keep them available,\n\n129\n00:06:39.520 --> 00:06:44.850\nwe'll get into some of the details of\nvocabulary around clusters as we continue.\n\n130\n00:06:44.850 --> 00:06:49.850\nWe'll talk about things like the quorum\nand the witness, all the different kind of\n\n131\n00:06:49.850 --> 00:06:54.400\nstuff that goes into this to keep the\ncluster online, to keep it synchronized.\n\n132\n00:06:54.400 --> 00:06:58.580\nTo ensure we provide services with\na minimum amount of resources,\n\n133\n00:06:58.580 --> 00:07:00.190\nwhatever that threshold is.\n\n134\n00:07:00.190 --> 00:07:04.240\nAnd if we fall below that minimum,\nhow we remove access to the cluster\n\n135\n00:07:04.240 --> 00:07:09.000\nuntil we can get back above the minimum\nto ensure viability, survivability, and\n\n136\n00:07:09.000 --> 00:07:10.465\navailability in the cluster.\n\n137\n00:07:10.465 --> 00:07:15.350\nWe'll get in all those concepts as we go,\nbut for now just looking at a simple\n\n138\n00:07:15.350 --> 00:07:18.960\ntwo node cluster, this is\nessentially what it would look like.\n\n139\n00:07:18.960 --> 00:07:20.460\nWe'd have at least two machines.\n\n140\n00:07:20.460 --> 00:07:23.140\nWe will probably scale that and\nhave more than two.\n\n141\n00:07:23.140 --> 00:07:26.990\nWe'd have at least two machines\nthat are contributing and\n\n142\n00:07:26.990 --> 00:07:31.960\nmaking available services, applications,\nand or storage, or whatever the need for\n\n143\n00:07:31.960 --> 00:07:33.870\ncluster is that we're addressing.\n\n144\n00:07:33.870 --> 00:07:38.940\nAnd as a result of that, we're increasing\nthe availability of those resources,\n\n145\n00:07:38.940 --> 00:07:43.625\nand as we scale up and add more nodes and\nscale out and add more resources and\n\n146\n00:07:43.625 --> 00:07:44.615\ncapacity.\n\n147\n00:07:44.615 --> 00:07:48.355\nThe usability of the cluster in terms of\nthe number of people that can interact\n\n148\n00:07:48.355 --> 00:07:49.715\nsimultaneously, and\n\n149\n00:07:49.715 --> 00:07:54.160\nthe resources available also goes up if\nyou think about the logic of that, right?\n\n150\n00:07:54.160 --> 00:07:58.498\nKinda drag everything up to the lowest\ncommon denominator and if we were to add\n\n151\n00:07:58.498 --> 00:08:03.050\na third node Maybe take this one, and just\ncopy it, and drop another one in here.\n\n152\n00:08:03.050 --> 00:08:06.094\nWe would have more resources\nif we think about that.\n\n153\n00:08:06.094 --> 00:08:09.327\nMore availability because now\nwe'd how three as opposed to two\n\n154\n00:08:09.327 --> 00:08:11.040\nmembers that are contributing.\n\n155\n00:08:11.040 --> 00:08:14.350\nSo, nodes are simply computers that\nare members of the fail over cluster.\n\n156\n00:08:14.350 --> 00:08:18.993\nVery easy to define the network is going\nto be the way in which we communicate\n\n157\n00:08:18.993 --> 00:08:23.417\nbetween the cluster nodes, so\nthe cluster nodes communicate with each\n\n158\n00:08:23.417 --> 00:08:27.110\nother over the dedicated\nnetwork as we can see here.\n\n159\n00:08:27.110 --> 00:08:31.160\nThe resource is going to be\nmanaged by the cluster service,\n\n160\n00:08:31.160 --> 00:08:34.810\nstarted, stopped,\nmoved between nodes identity\n\n161\n00:08:34.810 --> 00:08:37.970\nthat is hosted by the node is what\nwe would say the resource is.\n\n162\n00:08:37.970 --> 00:08:41.040\nWe have clustered storage,\nas you can see right here,\n\n163\n00:08:41.040 --> 00:08:44.880\nthis is gonna be the storage\nshared between the various nodes.\n\n164\n00:08:44.880 --> 00:08:50.024\nIn this case, maybe we're using a virtual\nhard drive, so maybe we have a quorum VHD,\n\n165\n00:08:50.024 --> 00:08:54.041\nmaybe a cluster service, or\nmaybe a cluster shared volume, VHD.\n\n166\n00:08:54.041 --> 00:08:58.630\nWe can use virtual hard drives today,\nto do this, or mount normal storage.\n\n167\n00:08:58.630 --> 00:09:00.540\nWhen I say normal,\nI mean physical storage,\n\n168\n00:09:00.540 --> 00:09:03.620\nas opposed to a virtual hard drive,\nso maybe this is a SAN,\n\n169\n00:09:03.620 --> 00:09:08.450\na Storage Area Network, or a NAS,\na Network Attached Storage Device.\n\n170\n00:09:08.450 --> 00:09:10.575\nGenerically a box with\na bunch of hard drives.\n\n171\n00:09:10.575 --> 00:09:11.968\n&gt;&gt; [LAUGH]\n&gt;&gt; Whatever that may be,\n\n172\n00:09:11.968 --> 00:09:13.451\nhowever we set it up, and\n\n173\n00:09:13.451 --> 00:09:16.994\nwe're then making that storage\navailable as part of that.\n\n174\n00:09:16.994 --> 00:09:19.303\nOur clients are computers\nthat will consume and\n\n175\n00:09:19.303 --> 00:09:20.927\nuse resources from the cluster.\n\n176\n00:09:20.927 --> 00:09:24.135\nI don't have them on the diagram,\nbut they would be connecting, so\n\n177\n00:09:24.135 --> 00:09:27.683\nimagine a couple of Windows machines\ndown here, whatever the case maybe,\n\n178\n00:09:27.683 --> 00:09:30.410\nthose would be clients,\nright, traditionally.\n\n179\n00:09:30.410 --> 00:09:33.140\nWe have the service or the application,\n\n180\n00:09:33.140 --> 00:09:36.360\nas I mentioned, that's over here,\nthat's being made available.\n\n181\n00:09:36.360 --> 00:09:40.263\nSoftware that's used by one or more of\nthe clients as they connect, potentially,\n\n182\n00:09:40.263 --> 00:09:43.720\nmaybe that's a web server,\nmaybe it's a database, maybe it's file and\n\n183\n00:09:43.720 --> 00:09:44.576\nprinter server.\n\n184\n00:09:44.576 --> 00:09:48.746\nWho knows what it is, but whatever it is,\nthat's what we potentially will be\n\n185\n00:09:48.746 --> 00:09:52.788\nconnecting and probably using, and\nthen the witnesses, as I mentioned,\n\n186\n00:09:52.788 --> 00:09:56.790\nis going to be, usually is a file share,\nit could be a file share or a disk.\n\n187\n00:09:56.790 --> 00:09:59.152\nWe'll talk about the differences\nas we get into this more.\n\n188\n00:09:59.152 --> 00:10:01.630\nBut it's used to maintain\nthe concept of quorum\n\n189\n00:10:01.630 --> 00:10:03.350\nthat I mentioned just\na couple of minutes ago.\n\n190\n00:10:03.350 --> 00:10:07.350\nThe idea of quorum is\nthe idea of balancing\n\n191\n00:10:07.350 --> 00:10:11.300\nthe resources in the cluster in such\na way that we specify we have a minimum\n\n192\n00:10:11.300 --> 00:10:14.840\nacceptable level of\nresources to service needs.\n\n193\n00:10:14.840 --> 00:10:19.798\nIf we fall below that level, we fall below\nquorum, or quorum is no longer available.\n\n194\n00:10:19.798 --> 00:10:24.195\nThen we cannot operate the cluster as\nlong as we maintain viability at and\n\n195\n00:10:24.195 --> 00:10:28.883\nabove the quorum level, meaning the\nminimum amount of resources required to\n\n196\n00:10:28.883 --> 00:10:33.785\nprovide services is available online and\ncontributing, then we say that we have\n\n197\n00:10:33.785 --> 00:10:38.356\nquorum established, and as a result\nwe are then able to provide services.\n\n198\n00:10:38.356 --> 00:10:43.052\nAnd the witness is an additional item that\ncan be used, or additional resource that\n\n199\n00:10:43.052 --> 00:10:47.635\ncan be used, to maintain and help us to\nunderstand whether we have quorum or not.\n\n200\n00:10:47.635 --> 00:10:52.526\nWhen we have an even number of resources\nwe may need to use the witness to ensure\n\n201\n00:10:52.526 --> 00:10:56.970\nand maintain the availability of\nquorum because of the fact that every\n\n202\n00:10:56.970 --> 00:11:01.113\ncontributory resource,\nevery node essentially has a vote, and\n\n203\n00:11:01.113 --> 00:11:05.737\nwe have to have a certain number\navailable in order to establish quorum.\n\n204\n00:11:05.737 --> 00:11:09.661\nWe have an odd number we can always say,\nwe have three of the five available, so\n\n205\n00:11:09.661 --> 00:11:10.554\nwe're good.\n\n206\n00:11:10.554 --> 00:11:13.323\n&gt;&gt; But if we have an even number,\nlet's say four and two are not,\n\n207\n00:11:13.323 --> 00:11:16.893\nand two are, that kind of thing we need\nthe witness to chime in potentially, and\n\n208\n00:11:16.893 --> 00:11:20.281\nsay, no, we're still gonna be able\nto maintain quorum so we're good.\n\n209\n00:11:20.281 --> 00:11:24.392\nSo it's kind of that impartial tiebreaker\nif you will, is often how you hear people\n\n210\n00:11:24.392 --> 00:11:28.270\ntalk about the witness, but it's not\nalways going to come into play depending\n\n211\n00:11:28.270 --> 00:11:32.409\non how we set things up, but again, we'll\ntalk more about this as we get into this.\n\n212\n00:11:32.409 --> 00:11:37.702\nBut failover clustering has been around\nfor some time, and so as a result,\n\n213\n00:11:37.702 --> 00:11:42.826\nwhen we think about this, I mean,\nI can remember going back at one form or\n\n214\n00:11:42.826 --> 00:11:48.120\nanother from a technology perspective,\ngoing back certainly into 12,\n\n215\n00:11:48.120 --> 00:11:53.190\nwe're talking about 12 R2\ninto 12 from 2008 R2, 2008.\n\n216\n00:11:53.190 --> 00:11:57.890\nWe've had clustering in Windows around for\nsome time in one form or another.\n\n217\n00:11:57.890 --> 00:12:01.891\nIt's not a new, brand new concept,\nbut it is newer.\n\n218\n00:12:01.891 --> 00:12:06.274\nIt's not something that would have\nexisted, let's say, in old, old,\n\n219\n00:12:06.274 --> 00:12:07.344\nold technology.\n\n220\n00:12:07.344 --> 00:12:09.600\nWe did have clusters of a kind.\n\n221\n00:12:09.600 --> 00:12:12.782\nI remember setting up clustering\nservices all the way back in NT4.\n\n222\n00:12:12.782 --> 00:12:16.120\nThe technology app we named at the time\nwas called Wolfpack because boy,\n\n223\n00:12:16.120 --> 00:12:18.540\nit ate you alive trying to\nset up clusters back then.\n\n224\n00:12:18.540 --> 00:12:19.418\n&gt;&gt; [LAUGH] I was gonna say.\n\n225\n00:12:19.418 --> 00:12:20.420\n&gt;&gt; It was hard.\n\n226\n00:12:20.420 --> 00:12:23.540\nIt was hard, and you don't often\nhear me say things are hard,\n\n227\n00:12:23.540 --> 00:12:25.706\nespecially not fondly when I'm smiling.\n\n228\n00:12:25.706 --> 00:12:26.313\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n229\n00:12:26.313 --> 00:12:30.630\nclustering is a concept\nexternal to Windows.\n\n230\n00:12:30.630 --> 00:12:34.259\nIt has been around for very, very long\ntime, decades in one form or another.\n\n231\n00:12:34.259 --> 00:12:36.094\nWe see it on the database side.\n\n232\n00:12:36.094 --> 00:12:39.904\nWe see it on the storage tier side,\nwith storage vendors, and the SAN, and\n\n233\n00:12:39.904 --> 00:12:41.060\nthe NAS space.\n\n234\n00:12:41.060 --> 00:12:44.110\nClustering is not a new concept,\nespecially on the database side.\n\n235\n00:12:44.110 --> 00:12:48.497\nNot new it all, but implementation\nof it and support for it in the OS,\n\n236\n00:12:48.497 --> 00:12:53.263\nas an integrated technology we call\nthem a role or a feature these days, but\n\n237\n00:12:53.263 --> 00:12:58.482\nas an integrated role and feature, is\nnewer, because the old, as I said, things\n\n238\n00:12:58.482 --> 00:13:03.960\nin NT 4, the old NT4 base cluster support,\nis nothing like what we would see today.\n\n239\n00:13:03.960 --> 00:13:04.920\nIt's very, very different.\n\n240\n00:13:04.920 --> 00:13:08.567\nYou haven't lived until you've set\nup a cluster on NT4, I'll tell you.\n\n241\n00:13:08.567 --> 00:13:09.718\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm thinking like,\n\n242\n00:13:09.718 --> 00:13:11.510\nthis is our random aside, by the way.\n\n243\n00:13:11.510 --> 00:13:15.740\nI am thinking, you and I are going back\nand forth on this whole virtualization\n\n244\n00:13:15.740 --> 00:13:19.100\nthing, VM or Workstation, and\njust setting up all these environments.\n\n245\n00:13:19.100 --> 00:13:23.569\nI often thought it would be, now that we\nhave the ability to do this, of course,\n\n246\n00:13:23.569 --> 00:13:27.104\nit would be cool to go back and\nload some of those really old OS and\n\n247\n00:13:27.104 --> 00:13:30.400\nthen actually show people what\nit was like back in the day.\n\n248\n00:13:30.400 --> 00:13:33.671\nLoad that up, and just show them\nhow much fun excitement it was,\n\n249\n00:13:33.671 --> 00:13:37.550\nto configure an NT4 primary to main\ncontroller, a backup to a controller,\n\n250\n00:13:37.550 --> 00:13:41.974\nreplication cycle, or to do something on\nOS2 Warp, or something that's just way out\n\n251\n00:13:41.974 --> 00:13:46.034\nthere that most people that are listening\nto us, depending on how old they are,\n\n252\n00:13:46.034 --> 00:13:50.255\ncertainly there are a lot of people that\nhave a reference for that in our audience.\n\n253\n00:13:50.255 --> 00:13:54.312\nBut there may be a lot of newer IT\nprofessionals recently joining the IT\n\n254\n00:13:54.312 --> 00:13:58.578\nranks starting out learning about\ntechnology today, but you'll hear us\n\n255\n00:13:58.578 --> 00:14:02.939\ntalk about this stuff a lot of times,\nprobably have no point of reference.\n\n256\n00:14:02.939 --> 00:14:03.706\n&gt;&gt; We should do, we'll start like\na throwback Thursday type thing.\n\n257\n00:14:03.706 --> 00:14:04.523\n&gt;&gt; We could do that.\n\n258\n00:14:04.523 --> 00:14:07.153\nI mean, I actually,\nI have to remake it, but\n\n259\n00:14:07.153 --> 00:14:11.792\nI actually often keep an NT4 workstation\nof VM, because I love pinball.\n\n260\n00:14:11.792 --> 00:14:12.384\n&gt;&gt; Yes.\n&gt;&gt; And\n\n261\n00:14:12.384 --> 00:14:15.636\nthat's like the number one video\ngame ever created in an OS.\n\n262\n00:14:15.636 --> 00:14:17.252\n&gt;&gt; Right.\n&gt;&gt; The NT 4 pinball game,\n\n263\n00:14:17.252 --> 00:14:20.574\nit's the best pinball game, and\nthey did not move that forward.\n\n264\n00:14:20.574 --> 00:14:23.800\nIt's the one thing I just-\n&gt;&gt; I had a Windows 98 virtual machine, had\n\n265\n00:14:23.800 --> 00:14:26.028\nto get the virtual floppy drive set up,-\n&gt;&gt; Yep.\n\n266\n00:14:26.028 --> 00:14:28.680\n&gt;&gt; And get that installed, cuz I wanted\nto hear the startup music again.\n\n267\n00:14:28.680 --> 00:14:29.456\n&gt;&gt; Yes.\n&gt;&gt; Forgot all about that.\n\n268\n00:14:29.456 --> 00:14:32.721\n&gt;&gt; And then there was millenium, the OS\nthat you crave when you have no OS plans.\n\n269\n00:14:32.721 --> 00:14:36.409\nYou wanna recycle your non-gaming OS and\nmasquerade it as a gaming OS,\n\n270\n00:14:36.409 --> 00:14:38.447\nthat was a wonderful thought process.\n\n271\n00:14:38.447 --> 00:14:39.496\n&gt;&gt; Yeah, that was exciting.\n\n272\n00:14:39.496 --> 00:14:41.650\n&gt;&gt; All right, anyways, so\nnow that we're done reminiscing,\n\n273\n00:14:41.650 --> 00:14:43.941\nwhich has nothing to do failover\nclustering at all, by the way.\n\n274\n00:14:43.941 --> 00:14:46.800\n&gt;&gt; But to your point, though,\nfailover clustering, like you said,\n\n275\n00:14:46.800 --> 00:14:50.374\nhas been around for a long time, but it's\naccessibility, I think, was not there.\n\n276\n00:14:50.374 --> 00:14:54.254\nLike you were saying, this wasn't\nsomething that an average business might\n\n277\n00:14:54.254 --> 00:14:56.112\nconsider setting up 15 years ago.\n\n278\n00:14:56.112 --> 00:14:59.043\n&gt;&gt; They could've, but\nit would've required a specialist,\n\n279\n00:14:59.043 --> 00:15:03.029\nsomebody like yourself, myself,\nwhoever would've been that IT consultant,\n\n280\n00:15:03.029 --> 00:15:05.392\nIT professional who\nwould've known about it.\n\n281\n00:15:05.392 --> 00:15:10.107\nYeah, they would have had to most likely,\nget external help, not that you couldn't\n\n282\n00:15:10.107 --> 00:15:14.494\nhave done it on your own had you learned\nabout it, but it was fairly difficult and\n\n283\n00:15:14.494 --> 00:15:18.752\nit was also hardware specific, and\nbecause it wasn't an OS specific thing,\n\n284\n00:15:18.752 --> 00:15:23.075\nit was really the vendor who drove the\nstorage platform that would then provide\n\n285\n00:15:23.075 --> 00:15:26.547\nthat capability, and\nyou'd have to be an expert on Isilon, or\n\n286\n00:15:26.547 --> 00:15:29.403\nwhatever the storage\nplatform was you were using.\n\n287\n00:15:29.403 --> 00:15:34.087\nYou'd have to figure out how IBM did it,\nor HP, or Fujitsu, or whoever, and\n\n288\n00:15:34.087 --> 00:15:38.555\nyou'd have to do their stuff, and\nthat was typically really difficult,\n\n289\n00:15:38.555 --> 00:15:42.519\nbecause those vendors,\nthey make their money selling product,\n\n290\n00:15:42.519 --> 00:15:45.571\nbut then they also make\ntheir money servicing it.\n\n291\n00:15:45.571 --> 00:15:48.770\nSo it was very difficult to get training,\nvery difficult to understand how to do it,\n\n292\n00:15:48.770 --> 00:15:51.443\nthe documentation wasn't as good,\nperhaps, as it could have been.\n\n293\n00:15:51.443 --> 00:15:53.037\nSee, it was a challenge,\nthere's no doubt about it.\n\n294\n00:15:53.037 --> 00:15:55.300\nYou would have, most likely,\nit wasn't like a black box thing,\n\n295\n00:15:55.300 --> 00:15:57.163\nyou would have to get some help,\nmore often than not.\n\n296\n00:15:57.163 --> 00:15:59.456\n&gt;&gt; Yeah, but now with 2012 R2,\nand this availability-\n\n297\n00:15:59.456 --> 00:16:01.030\n&gt;&gt; A little bit easier.\n\n298\n00:16:01.030 --> 00:16:01.677\nA little bit easier, right?\n\n299\n00:16:01.677 --> 00:16:04.796\nI would say, on a scale,\nlet's say, maybe of one to ten,\n\n300\n00:16:04.796 --> 00:16:08.749\nwhere let's say old school style stuff\nwe were talking about was up around\n\n301\n00:16:08.749 --> 00:16:12.070\nthe seven, eight,\nnine range depending on the vendor.\n\n302\n00:16:12.070 --> 00:16:15.890\nI mean, I was involved with some pretty\nridiculous configurations over the years,\n\n303\n00:16:15.890 --> 00:16:18.310\nbecause of some of the storage systems,\nright.\n\n304\n00:16:18.310 --> 00:16:22.350\nThese old mainframe, these massive systems\nthat you would port data out of and\n\n305\n00:16:22.350 --> 00:16:24.490\nthen put into newer systems and\nhave to cluster.\n\n306\n00:16:24.490 --> 00:16:26.590\nIt was complicated stuff.\n\n307\n00:16:26.590 --> 00:16:31.699\nToday, yeah, I'd say probably, especially\nwith 12 12R2 going into, although\n\n308\n00:16:31.699 --> 00:16:36.614\nwe're here talking about 12 R2 but\nlooking ahead to Server 16, for instance.\n\n309\n00:16:36.614 --> 00:16:40.805\nAnd the even better aspects of the\ntechnology that exist as we continue to\n\n310\n00:16:40.805 --> 00:16:45.132\nover time upgrade the OS, and also\nthe client side, which allows us to have\n\n311\n00:16:45.132 --> 00:16:49.470\nconfigurations from an application\nperspective done a lot easier.\n\n312\n00:16:49.470 --> 00:16:51.370\nWe have native capabilities for\n\n313\n00:16:51.370 --> 00:16:56.260\na lot of this stuff now, iSCSI pretty\nmuch a global standard for storage.\n\n314\n00:16:56.260 --> 00:17:00.756\nAll the storage vendors are providing\nthat capability, the iSCSI adapters and\n\n315\n00:17:00.756 --> 00:17:03.048\nconfigurations are a lot easier today.\n\n316\n00:17:03.048 --> 00:17:06.573\nYou're not buying hardware typically,\na lot of it's just software emulated and\n\n317\n00:17:06.573 --> 00:17:07.245\ndriven today.\n\n318\n00:17:07.245 --> 00:17:09.160\nYeah, so\na lot of that stuff's a lot easier.\n\n319\n00:17:09.160 --> 00:17:12.120\nIt's probably on the lower\nend of that scale.\n\n320\n00:17:12.120 --> 00:17:14.570\nI'm not saying there's not some challenge,\ncuz there could be.\n\n321\n00:17:14.570 --> 00:17:18.290\nBut we're not talking about it being\nup in the seven, eight, nine range,\n\n322\n00:17:18.290 --> 00:17:21.470\nprobably more like the four, five,\nsix range, depending on your comfort,\n\n323\n00:17:21.470 --> 00:17:24.640\nyour skill and your capabilities\njust around the general LS.\n\n324\n00:17:24.640 --> 00:17:26.840\nSo it's definitely become\na little bit easier.\n\n325\n00:17:26.840 --> 00:17:29.920\nIt's also become a lot better\nin terms of the overall support.\n\n326\n00:17:29.920 --> 00:17:33.824\nSome of the new features that we're\nproviding from 12, and then into 12 R2.\n\n327\n00:17:33.824 --> 00:17:35.930\nI mentioned scaling up, scaling out.\n\n328\n00:17:35.930 --> 00:17:42.250\n64 physical nodes on the cluster,\nstarting in 12, so we could scale clusters\n\n329\n00:17:42.250 --> 00:17:47.040\npretty massively, which if you think about\nit, it gives us a lot of capabilities.\n\n330\n00:17:47.040 --> 00:17:50.212\nThis underlying technology that\nwe're talking about, the clustering,\n\n331\n00:17:50.212 --> 00:17:53.378\nit really is, as I mentioned,\nthis idea of building out these platforms,\n\n332\n00:17:53.378 --> 00:17:56.169\ntraditionally now for\nvirtualization and cloud capabilities.\n\n333\n00:17:56.169 --> 00:18:00.119\nAnd we've gotta be able to add\nvery large numbers of nodes or\n\n334\n00:18:00.119 --> 00:18:04.780\nhosts to these clustered systems\nbecause we have to scale massively.\n\n335\n00:18:04.780 --> 00:18:08.920\nWe're talking about providing terabytes,\nmaybe even petabytes of storage now.\n\n336\n00:18:08.920 --> 00:18:13.230\nAnd as a result of that, at a quick\nspeed and in a relatively low latency\n\n337\n00:18:13.230 --> 00:18:17.047\nenvironment, we have this idea of\nmulti-site clusters that we could set up.\n\n338\n00:18:17.047 --> 00:18:18.860\nGeo-clusters, or\nrefer to it different ways,\n\n339\n00:18:18.860 --> 00:18:21.420\nbut essentially clusters\nthat are geographically\n\n340\n00:18:21.420 --> 00:18:26.090\nspread into different physical locations,\nlogically linked together.\n\n341\n00:18:26.090 --> 00:18:28.842\nWe provide that capability,\nit's called a multi-site cluster.\n\n342\n00:18:28.842 --> 00:18:33.540\nIn 12 R2 we provide that capability now,\nagain scaling on massively for\n\n343\n00:18:33.540 --> 00:18:36.980\nthe cloud fabric and\nvirtualization fabric environments.\n\n344\n00:18:36.980 --> 00:18:40.140\nUp to 8,000 VMs can run per cluster.\n\n345\n00:18:40.140 --> 00:18:44.470\nWhen you think about that, 64 nodes,\nup to 8,000 virtual machines or\n\n346\n00:18:44.470 --> 00:18:46.850\nguest operating systems,\nwhatever you prefer to call them,\n\n347\n00:18:46.850 --> 00:18:51.310\nrunning on each cluster,\na significant improvement over 2008 R2.\n\n348\n00:18:51.310 --> 00:18:55.572\nWe had a cap of 16 physical\nnodes providing theirs,\n\n349\n00:18:55.572 --> 00:19:02.530\nplus the 64 at a cap of 1,000 VMs,\nversus now 8000 in 12 and then 12 R2.\n\n350\n00:19:02.530 --> 00:19:07.900\nSo I mean, we have come significantly\nfar in just a couple of revs on the OS.\n\n351\n00:19:07.900 --> 00:19:12.680\nAnd one of the nice things, we often\ntalk about cloud and virtualization.\n\n352\n00:19:12.680 --> 00:19:15.840\nWe talk about this a lot with some\nof these underlying technologies,\n\n353\n00:19:15.840 --> 00:19:18.672\nas I just did, on occasion will\nmention the V word, right, or\n\n354\n00:19:18.672 --> 00:19:20.323\nthe VM word, I should say, right?\n\n355\n00:19:20.323 --> 00:19:23.350\n[LAUGH] Or Citrix,\nin terms of the XEN platform.\n\n356\n00:19:23.350 --> 00:19:25.951\nYou hear me occasionally talk\nabout other vendors' technologies,\n\n357\n00:19:25.951 --> 00:19:26.980\ncuz it be foolish not to.\n\n358\n00:19:26.980 --> 00:19:28.930\nThere's no reason not to mention them.\n\n359\n00:19:28.930 --> 00:19:32.000\nAnd they are doing very\nsimilar things in this space.\n\n360\n00:19:32.000 --> 00:19:35.830\nWe are clearly here talking about\nMicrosoft, Microsoft Centric technologies.\n\n361\n00:19:35.830 --> 00:19:39.010\nBut one of the things that's\ncome out of this competition,\n\n362\n00:19:39.010 --> 00:19:42.740\nespecially between VMware and\nMicrosoft, now Dell right,\n\n363\n00:19:42.740 --> 00:19:47.145\nwhich is kinda the spokesperson for VMware\nnow that they own everything, right?\n\n364\n00:19:47.145 --> 00:19:51.870\n&gt;&gt; [LAUGH]\n&gt;&gt; But because now Dell has bought AMC and\n\n365\n00:19:51.870 --> 00:19:55.200\nbought VMware in the last couple years,\nand essentially owns the world,\n\n366\n00:19:55.200 --> 00:19:58.240\nthis competition between VMware\nthat's been going on and\n\n367\n00:19:58.240 --> 00:20:00.610\nMicrosoft over the virtualization space.\n\n368\n00:20:00.610 --> 00:20:04.945\nAnd really driving a lot of the upgrades\non our technology platform on both sides.\n\n369\n00:20:04.945 --> 00:20:07.235\nBecause every time one\nvendor does something,\n\n370\n00:20:07.235 --> 00:20:09.285\nthe other vendor now has\nto move to support that.\n\n371\n00:20:09.285 --> 00:20:14.240\nThe move to 64 node clusters was because\nVMware moved to 64 node clusters\n\n372\n00:20:14.240 --> 00:20:17.660\non one of their later releases recently.\n\n373\n00:20:17.660 --> 00:20:20.072\nSo Microsoft moved to do that as well.\n\n374\n00:20:20.072 --> 00:20:23.980\nAnd so it's nice that now we're seeing\nthis parity because it's ultimately\n\n375\n00:20:23.980 --> 00:20:27.769\nhelping the consumer because we're\ngetting better technology where when\n\n376\n00:20:27.769 --> 00:20:31.752\nMicrosoft wasn't really in that space\nplaying and competing meaningfully.\n\n377\n00:20:31.752 --> 00:20:35.920\nYeah, we weren't really seeing\nthe evolution of the technology on our\n\n378\n00:20:35.920 --> 00:20:40.225\nplatform because Microsoft hadn't\nfully committed to be a cloud in a VM,\n\n379\n00:20:40.225 --> 00:20:43.503\nbasically Virtual Machine or\nVirtual Fabric company.\n\n380\n00:20:43.503 --> 00:20:46.919\nThey were like, yeah, we have the virtual\nserver thing, got virtual PC,\n\n381\n00:20:46.919 --> 00:20:49.970\nnobody needs anything else,\nright, really that'll be enough.\n\n382\n00:20:49.970 --> 00:20:52.640\nBut clearly that was several years back.\n\n383\n00:20:52.640 --> 00:20:54.336\nThese days, neck and neck, right.\n\n384\n00:20:54.336 --> 00:20:57.258\nI mean, I used to have a conversation\nwith customers about, hey,\n\n385\n00:20:57.258 --> 00:20:59.100\nis VMware better than Microsoft?\n\n386\n00:20:59.100 --> 00:21:00.580\nWhich one would you use?\n\n387\n00:21:00.580 --> 00:21:03.940\nAnd it was very tough to make the case,\nand Microsoft had a significant\n\n388\n00:21:03.940 --> 00:21:08.390\nopportunity for a customer there because\nthey just didn't have the technology.\n\n389\n00:21:08.390 --> 00:21:12.591\nToday, it's a question of really,\nwhat are you more comfortable with in\n\n390\n00:21:12.591 --> 00:21:17.260\nyour underlying stack, if your team\nskill set's for Microsoft Centric.\n\n391\n00:21:17.260 --> 00:21:19.890\nYou can do that because essentially\nit's the same thing as VMware.\n\n392\n00:21:19.890 --> 00:21:24.690\nAnd that myth about license cost and all\nthat other stuff and cost of ownership,\n\n393\n00:21:24.690 --> 00:21:28.200\nwhen you sit down around the numbers,\nit's essentially a wash because\n\n394\n00:21:28.200 --> 00:21:31.905\nyou gotta license the OSs to run\nthem as virtual environments anyway.\n\n395\n00:21:31.905 --> 00:21:34.955\nAnd if you already have\nthe underlying licenses natively for\n\n396\n00:21:34.955 --> 00:21:38.840\nWindows because you bought an EA with\nMicrosoft, if you bought Data Center,\n\n397\n00:21:38.840 --> 00:21:41.972\nyou've got unlimited\nvirtualization capability already.\n\n398\n00:21:41.972 --> 00:21:43.230\nYou already paid for it.\n\n399\n00:21:43.230 --> 00:21:47.201\nAnd you probably have unlimited usage\nrights or well, some sort of limit, but\n\n400\n00:21:47.201 --> 00:21:50.030\nyou've got usage rights\non the underlying OSs.\n\n401\n00:21:50.030 --> 00:21:53.220\nWhy would you, essentially go out and\nbuy them when you already own them?\n\n402\n00:21:53.220 --> 00:21:56.261\nSo at the end of the day,\nit's about the same.\n\n403\n00:21:56.261 --> 00:21:57.921\nSo when you start to get into this,\n\n404\n00:21:57.921 --> 00:22:01.740\nyou find that this technology is\nreally mature, it's really emerged.\n\n405\n00:22:01.740 --> 00:22:04.272\nIt's really enterprise ready or\nenterprise-centric, or\n\n406\n00:22:04.272 --> 00:22:07.190\nwhatever people say, but\nit would gives us these capabilities.\n\n407\n00:22:07.190 --> 00:22:11.310\nWe have cluster we're updating\nthat's called CAU as a feature.\n\n408\n00:22:11.310 --> 00:22:14.552\nClusterware updating automatically\nupdating cluster nodes with Windows\n\n409\n00:22:14.552 --> 00:22:17.852\nupdates, hot fixes, does this not\napply to some of this, right?\n\n410\n00:22:17.852 --> 00:22:22.270\nI mean, we keep the cluster online\ndoing parallel upgrades or updates so\n\n411\n00:22:22.270 --> 00:22:24.300\nthat we're not taking the cluster down,\n\n412\n00:22:24.300 --> 00:22:27.100\nhaving to do the old style way of\ntaking it offline, patching and\n\n413\n00:22:27.100 --> 00:22:30.240\nbringing it back up, requiring\ndowntime during maintenance windows.\n\n414\n00:22:30.240 --> 00:22:34.100\nWe can essentially move\nresources in the cluster so\n\n415\n00:22:34.100 --> 00:22:37.830\nthat we can patch parts of the cluster,\nfail over, fail back if you will,\n\n416\n00:22:37.830 --> 00:22:40.520\nthrough consolidation,\nwhile keeping the cluster online.\n\n417\n00:22:40.520 --> 00:22:43.921\n&gt;&gt; Yeah, absolutely, that's a great\nimprovement because that was a very\n\n418\n00:22:43.921 --> 00:22:46.777\ntedious, time-consuming part\nof maintaining a cluster.\n\n419\n00:22:46.777 --> 00:22:49.564\nCuz you had to manually pull the node out,\ndo its updates, put it back.\n\n420\n00:22:49.564 --> 00:22:50.947\nNow this takes care of it.\n\n421\n00:22:50.947 --> 00:22:52.452\nI mean, you run that orchestrator and\n\n422\n00:22:52.452 --> 00:22:53.784\nthe cluster [CROSSTALK]\n&gt;&gt; It does, and\n\n423\n00:22:53.784 --> 00:22:54.857\nit could be totally automated.\n\n424\n00:22:54.857 --> 00:22:58.461\nWe call it remote updating mode when we\nuse the orchestrator to do the automatic\n\n425\n00:22:58.461 --> 00:22:59.012\nupdating.\n\n426\n00:22:59.012 --> 00:23:03.250\nOr what's called self-updating where\nessentially we can do updating through.\n\n427\n00:23:03.250 --> 00:23:06.223\nThe cluster can manage it, essentially,\neither way, but we could do this.\n\n428\n00:23:06.223 --> 00:23:09.080\nThings like updating on server core,\nfor instance,\n\n429\n00:23:09.080 --> 00:23:11.810\ncould be done with remote updating mode.\n\n430\n00:23:11.810 --> 00:23:13.836\nSo we do have a lot of capabilities,\nright?\n\n431\n00:23:13.836 --> 00:23:16.776\nAnd it's one of those leaps forward\nthat you look back on it now, and\n\n432\n00:23:16.776 --> 00:23:18.901\nyou wonder how you actually\nmade it work before.\n\n433\n00:23:18.901 --> 00:23:20.724\n&gt;&gt; [LAUGH]\n&gt;&gt; Because it was, as you said,\n\n434\n00:23:20.724 --> 00:23:22.448\nI think tedious is an understatement,\nright?\n\n435\n00:23:22.448 --> 00:23:23.146\n&gt;&gt; Right, yeah [LAUGH].\n\n436\n00:23:23.146 --> 00:23:24.990\n&gt;&gt; I think you're being generous\nwhen you talk about it that way.\n\n437\n00:23:24.990 --> 00:23:28.957\nBut yes, we also, by the way,\ncan do this with PowerShell, right?\n\n438\n00:23:28.957 --> 00:23:33.743\nSo for instance, get CAU, run the get CAU,\nrun cmdlet will allow us to be able to\n\n439\n00:23:33.743 --> 00:23:38.470\nconnect to the cluster and do cluster\naware updating through PowerShell.\n\n440\n00:23:38.470 --> 00:23:40.242\nSo we can script and automate this,\n\n441\n00:23:40.242 --> 00:23:43.138\nthinking along the lines of\nthat DevOps kind of concepts,\n\n442\n00:23:43.138 --> 00:23:46.581\nsoftware defining, all the things\nthat we wanna take advantage of.\n\n443\n00:23:46.581 --> 00:23:50.044\nBut we do need the CA\ntools to be installed.\n\n444\n00:23:50.044 --> 00:23:52.140\nThere's a tool set that runs with this.\n\n445\n00:23:52.140 --> 00:23:54.636\nWe put them on,\nyou mentioned the orchestrator node,\n\n446\n00:23:54.636 --> 00:23:58.070\nthe orchestrator node is what we call\nthe role Mike was just talking about.\n\n447\n00:23:58.070 --> 00:24:00.575\nBut we install the tools onto one of\nthe nodes, one or more of the nodes.\n\n448\n00:24:00.575 --> 00:24:02.586\nIn the cluster to be able to drive this.\n\n449\n00:24:02.586 --> 00:24:06.111\nAre they have the fail over clustering\ntools that are part of the tool set\n\n450\n00:24:06.111 --> 00:24:06.990\nthat we use.\n\n451\n00:24:06.990 --> 00:24:08.210\nAnd the RSAT tools, right.\n\n452\n00:24:08.210 --> 00:24:11.855\nWe often, I think, reference\nthe RSAT tools and say this or that.\n\n453\n00:24:11.855 --> 00:24:14.130\nIt' almost always part of RSAT.\n\n454\n00:24:14.130 --> 00:24:18.710\nAnd so the extensibility or\nfhe RSAT tool set,\n\n455\n00:24:18.710 --> 00:24:21.100\nthe remote server administration tool set.\n\n456\n00:24:21.100 --> 00:24:24.288\nSomebody called them our rats one time or\nsomething.\n\n457\n00:24:24.288 --> 00:24:25.065\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n458\n00:24:25.065 --> 00:24:30.060\nRSATs is essentially what we see, we do\nhave the UI of the user interface, as well\n\n459\n00:24:30.060 --> 00:24:33.580\nas the PowerShell support there all the\ncommandlets are loaded as a part of that.\n\n460\n00:24:33.580 --> 00:24:35.450\nSo it is nice to be able to do that.\n\n461\n00:24:35.450 --> 00:24:37.210\nWe have active directory integration,\n\n462\n00:24:37.210 --> 00:24:39.600\nimprovements where we can\ncreate cluster component.\n\n463\n00:24:39.600 --> 00:24:43.165\nA component a computer object in OUs.\n\n464\n00:24:43.165 --> 00:24:45.320\nWe could do this through\nPowerShell as well.\n\n465\n00:24:45.320 --> 00:24:49.840\nWe could deploy these as read only or\ndeploy them with read only capabilities so\n\n466\n00:24:49.840 --> 00:24:53.680\nread only domain controllers can\nactually be part of this as well.\n\n467\n00:24:54.850 --> 00:24:56.490\nSo that's nice to know.\n\n468\n00:24:56.490 --> 00:24:59.590\nWe have removed some features,\njust so you know.\n\n469\n00:24:59.590 --> 00:25:03.860\nWe've gotten rid of the cluster\nautomation server, COM interface.\n\n470\n00:25:03.860 --> 00:25:06.570\nIt's been deprecated in 12, so\nit's scheduled to be removed.\n\n471\n00:25:06.570 --> 00:25:08.520\nSo you may or\nmay not have a need for that,\n\n472\n00:25:08.520 --> 00:25:12.540\nit's called MSClus, M-S-C-L-U-S,\nthe MSClus interface.\n\n473\n00:25:12.540 --> 00:25:17.215\nBut we can still use it to install and\nwork with the clustering tools currently.\n\n474\n00:25:17.215 --> 00:25:19.940\n32-bit cluster DLLs have been deprecated,\nshould not surprise anybody,\n\n475\n00:25:19.940 --> 00:25:22.400\nthat's pretty much universal for\neverything we do.\n\n476\n00:25:22.400 --> 00:25:26.010\nAll of our cluster resources\nshould be updated to run fully\n\n477\n00:25:26.010 --> 00:25:27.640\nin 64-bit environments.\n\n478\n00:25:27.640 --> 00:25:31.140\nThe print server role is removed as well,\nfrom a high availability wizard.\n\n479\n00:25:31.140 --> 00:25:34.330\nSo we no longer have the capability\nto be able to configure that through\n\n480\n00:25:34.330 --> 00:25:35.820\nthe failover cluster manager.\n\n481\n00:25:35.820 --> 00:25:38.750\nSo that's just a minor thing but\nit is just important to know.\n\n482\n00:25:38.750 --> 00:25:41.530\nAnd the add cluster print\nserver role commandlet,\n\n483\n00:25:41.530 --> 00:25:45.340\nwhich will be the flip side of that has\nbeen removed and deprecated as well.\n\n484\n00:25:45.340 --> 00:25:49.330\nIt's no longer supported, so\nthat was a 2008 2008 R2 thing.\n\n485\n00:25:49.330 --> 00:25:50.310\nWe've removed that.\n\n486\n00:25:50.310 --> 00:25:53.390\nThat's probably good exam material,\nI'm thinking, right, those kind of things.\n\n487\n00:25:53.390 --> 00:25:55.919\nI have all that in my show notes for\nyou, try to put those.\n\n488\n00:25:55.919 --> 00:25:59.818\nHey, this is what we added, deprecating\nstatements in there, so you know.\n\n489\n00:25:59.818 --> 00:26:00.946\nThat's all the 12 stuff.\n\n490\n00:26:00.946 --> 00:26:03.650\nWhat about the 12 R2,\neven newer features, right?\n\n491\n00:26:05.270 --> 00:26:06.840\nWe do have a couple of new things.\n\n492\n00:26:06.840 --> 00:26:09.310\nWe have dynamic quorum, dynamic witness,\n\n493\n00:26:09.310 --> 00:26:14.020\nfour score resiliency, tie breaker for\nfifty percent node split.\n\n494\n00:26:14.020 --> 00:26:17.200\nAll of these are features that've\nbeen added for twelve R2.\n\n495\n00:26:17.200 --> 00:26:20.344\nAgain, you know we talked about\nthe concept of the quorum already\n\n496\n00:26:20.344 --> 00:26:21.040\na little bit.\n\n497\n00:26:21.040 --> 00:26:25.830\nBut the quorum allows us to calculate the\nquorum on the fly think about the logic of\n\n498\n00:26:25.830 --> 00:26:29.200\nwhat dynamic typically means\nwriting the event of a node failure\n\n499\n00:26:29.200 --> 00:26:32.410\nwe can constantly be looking to\nsee what's going on and adjust and\n\n500\n00:26:32.410 --> 00:26:36.870\nsee whether or not we can maintain working\ncluster rules based on that quorum.\n\n501\n00:26:36.870 --> 00:26:40.750\nBased on that quorum capable,\nI wanna say quorum, quorum capability.\n\n502\n00:26:40.750 --> 00:26:45.240\nEven if we fall below the 50% threshold\nthat we were talking about for instance,\n\n503\n00:26:45.240 --> 00:26:49.230\nwhere we did the five notes,and we\nsaid the three two split and stay on.\n\n504\n00:26:49.230 --> 00:26:51.970\nThe two two tie we would require\nthe witness to be able to figure that out,\n\n505\n00:26:51.970 --> 00:26:54.620\nwe can dynamically look at the quorum now.\n\n506\n00:26:54.620 --> 00:26:57.200\nSo we have that also dynamic\nwitness capabilities.\n\n507\n00:26:57.200 --> 00:27:00.570\nSo again, the windows can be\ndynamically determined and whether or\n\n508\n00:27:00.570 --> 00:27:04.140\nnot we have a vote to maintain quorum can\nbe brought online ot the dynamic witness.\n\n509\n00:27:04.140 --> 00:27:05.390\nSo that part is nice.\n\n510\n00:27:05.390 --> 00:27:07.570\nWe can force quorum resiliency.\n\n511\n00:27:07.570 --> 00:27:11.964\nWe're able to deal with things like split\nbrain syndrome essentially where we have\n\n512\n00:27:11.964 --> 00:27:15.980\nisolation events that cause two sides of\nthe cluster to behave as if they were\n\n513\n00:27:15.980 --> 00:27:20.582\ntotally isolated, which indeed they are\nfrom each other and operate independently.\n\n514\n00:27:20.582 --> 00:27:23.694\nSo that they're not aware of the fact\nthat after the part of the group.\n\n515\n00:27:23.694 --> 00:27:26.617\nAnd then when we bring them all back\ntogether because of convergence or\n\n516\n00:27:26.617 --> 00:27:29.320\nreestablishment of network connectivity.\n\n517\n00:27:29.320 --> 00:27:32.807\nWe may have a problem, because now we've\ngot kinda two sides of a system that\n\n518\n00:27:32.807 --> 00:27:35.169\nare fractured,\nthinking they're independent.\n\n519\n00:27:35.169 --> 00:27:37.113\nWhen in fact they should\nbe joined back together.\n\n520\n00:27:37.113 --> 00:27:39.240\nSo this can be a bit of an issue.\n\n521\n00:27:39.240 --> 00:27:42.060\nWhen the cluster breaks and\nthe subsets of clusters that essentially\n\n522\n00:27:42.060 --> 00:27:44.780\nare not aware of each other,\nwe get split brain syndrome.\n\n523\n00:27:44.780 --> 00:27:48.400\nIf you want to join me back here\non my screen for just one second.\n\n524\n00:27:48.400 --> 00:27:51.807\nYou know, if you think about the logic\nof what I'm describing, imagine for\n\n525\n00:27:51.807 --> 00:27:53.840\njust a minute that we\ndrew an imaginary line.\n\n526\n00:27:53.840 --> 00:27:55.215\nImagine we drew an imaginary line.\n\n527\n00:27:55.215 --> 00:27:57.870\n&gt;&gt; [LAUGH]\n&gt;&gt; Imagine we drew a line down\n\n528\n00:27:57.870 --> 00:28:02.200\nthe middle of this diagram, literally just\nripping it apart or splitting it in two.\n\n529\n00:28:02.200 --> 00:28:05.881\nAnd imagine then we had node A and\nB on one side, node A and B,\n\n530\n00:28:05.881 --> 00:28:09.358\nlet's just call them C and\nD for a minute, on the other.\n\n531\n00:28:09.358 --> 00:28:12.772\nAnd that those two subsets or independent\nclusters essentially which we've\n\n532\n00:28:12.772 --> 00:28:15.590\njust created operate without\nknowledge of each other.\n\n533\n00:28:15.590 --> 00:28:17.110\nThat's a bad thing because\n\n534\n00:28:17.110 --> 00:28:18.920\nyou distribute one big thing-\n&gt;&gt; Right.\n\n535\n00:28:18.920 --> 00:28:20.080\n&gt;&gt; That is operating together.\n\n536\n00:28:20.080 --> 00:28:22.280\nIt's hard to see when you have two nodes.\n\n537\n00:28:22.280 --> 00:28:25.750\nBut image a 64 node cluster and\nperhaps it's a geo cluster or\n\n538\n00:28:25.750 --> 00:28:30.045\nwhat we call a multi-site cluster where\nwe have different Physical locations for\n\n539\n00:28:30.045 --> 00:28:30.895\nsome of those notes.\n\n540\n00:28:30.895 --> 00:28:33.285\nMaybe they're in two\nseparate data centers, and\n\n541\n00:28:33.285 --> 00:28:38.195\nthey're joined logically but physically\nare distinctly in different areas.\n\n542\n00:28:38.195 --> 00:28:43.312\nAnd lets say that logical bridge, the\nnetwork pathing somehow gets interrupted.\n\n543\n00:28:43.312 --> 00:28:47.156\n32 nodes on each side let's say\nhypothetically all of a sudden now they\n\n544\n00:28:47.156 --> 00:28:48.738\nare isolate from each other.\n\n545\n00:28:48.738 --> 00:28:50.792\nThey're operating to ad about in clusters.\n\n546\n00:28:50.792 --> 00:28:53.262\n&gt;&gt; Right.\n&gt;&gt; That can lead all sorts of problem so\n\n547\n00:28:53.262 --> 00:28:55.110\nwe cal that a split brain syndrome.\n\n548\n00:28:55.110 --> 00:28:59.180\nWe have a capability called\nforce quorum resiliency.\n\n549\n00:28:59.180 --> 00:29:01.230\nI need a speaking mouthpiece.\n\n550\n00:29:01.230 --> 00:29:03.190\nWe need it to describe all these,\n\n551\n00:29:03.190 --> 00:29:06.660\nthat provides additional support to\ndeal with these issues when they occur.\n\n552\n00:29:06.660 --> 00:29:08.169\nGet us back on track.\n\n553\n00:29:08.169 --> 00:29:11.403\nGet rid of the split brain syndrome,\nand essentially, smooth things over,\n\n554\n00:29:11.403 --> 00:29:13.080\nget us back to normal operation.\n\n555\n00:29:13.080 --> 00:29:15.880\nSo we have some additional\nsupport built in for that now.\n\n556\n00:29:15.880 --> 00:29:16.922\nI didn't mean to cut you off.\n\n557\n00:29:16.922 --> 00:29:17.585\n[CROSSTALK]\n&gt;&gt; No,\n\n558\n00:29:17.585 --> 00:29:18.858\nno, no, i think you answered the question.\n\n559\n00:29:18.858 --> 00:29:22.888\nI was I was just thinking like in\nyour scenario where you've got A and\n\n560\n00:29:22.888 --> 00:29:25.217\nB on one side, C and D on the other, A and\n\n561\n00:29:25.217 --> 00:29:28.850\nB were unaware because of split\nbrain- That is a tough word.\n\n562\n00:29:28.850 --> 00:29:30.640\n&gt;&gt; Spli brain ,it is a tongue twister,\nisn't it?\n\n563\n00:29:30.640 --> 00:29:35.370\n&gt;&gt; If B went down, so A is sitting there\nan he might think that he no longer has\n\n564\n00:29:35.370 --> 00:29:38.200\nquorum because he doesn't know about C and\nD.\n\n565\n00:29:38.200 --> 00:29:41.290\nAnd could bring the cluster down, when\nin fact you should stay up because C and\n\n566\n00:29:41.290 --> 00:29:42.920\nD are there to help him out and\nthey still have a quorum.\n\n567\n00:29:42.920 --> 00:29:47.720\n&gt;&gt; Yeah, there's all sorts of things that\ncan happen and potentially go wrong.\n\n568\n00:29:47.720 --> 00:29:50.620\nSo yeah, the bottom line is it's\na bad thing when it happens.\n\n569\n00:29:50.620 --> 00:29:52.280\nIt could lead to all\nsorts of complications,\n\n570\n00:29:52.280 --> 00:29:55.450\nnot to mention service interruption,\nloss of availability.\n\n571\n00:29:55.450 --> 00:29:57.980\nSo we obviously wanna try to\nminimize the impact of that.\n\n572\n00:29:57.980 --> 00:30:00.880\nForcing quorum resiliency can\nhelp us to deal with that issue\n\n573\n00:30:00.880 --> 00:30:02.330\nalong the lines what you're describing.\n\n574\n00:30:02.330 --> 00:30:05.000\nAnd I mentioned the tie breaker for\n50% node split.\n\n575\n00:30:05.000 --> 00:30:09.830\nThe cluster can adjust the right nodes\nboth status automatically in this dynamic\n\n576\n00:30:09.830 --> 00:30:12.100\nquorum dynamic witness thing\nwe were talking about.\n\n577\n00:30:12.100 --> 00:30:16.360\nTo keep the toll number of votes in\nthe cluster and add level at all times.\n\n578\n00:30:16.360 --> 00:30:19.730\nAnd the reason for that, remember, is we\nneed that our level to establish quorum.\n\n579\n00:30:19.730 --> 00:30:20.920\nIf we're at an eve level,\n\n580\n00:30:20.920 --> 00:30:24.050\nwe bring the witness in to essentially\ntake us over with a tiebreaker.\n\n581\n00:30:24.050 --> 00:30:28.540\nWe can force a cluster to run\nwith less than the majority and\n\n582\n00:30:28.540 --> 00:30:29.640\nless than the quorum.\n\n583\n00:30:29.640 --> 00:30:30.460\nThere are some options.\n\n584\n00:30:30.460 --> 00:30:32.590\nWe'll talk about those in\nupcoming episodes, but\n\n585\n00:30:32.590 --> 00:30:36.065\nwe just want to keep in mind, generically\nwe're normally looking, as crazy it sound,\n\n586\n00:30:36.065 --> 00:30:38.515\neveryone says no, we want an even number,\nwe want to balance it.\n\n587\n00:30:38.515 --> 00:30:42.435\nFor this technology, we actually want an\nodd number to establish our ability to run\n\n588\n00:30:42.435 --> 00:30:45.741\nabove the bar, and that's the standard,\nquote unquote, we strive for.\n\n589\n00:30:45.741 --> 00:30:51.750\nSo tiebreaker for 50% node split allows\nus to try to push for that odd number and\n\n590\n00:30:51.750 --> 00:30:54.380\nensure that we're able to maintain\nthat regardless of what we're doing.\n\n591\n00:30:54.380 --> 00:30:56.890\nSo, lot of cool new interesting features.\n\n592\n00:30:56.890 --> 00:30:58.130\nJust laying out some of them for\n\n593\n00:30:58.130 --> 00:31:01.290\nus, giving us a better sense\nof what's going on with them.\n\n594\n00:31:01.290 --> 00:31:03.390\nAnd we'll about of more of these as we go.\n\n595\n00:31:03.390 --> 00:31:05.482\nWe're gonna start getting\ninto configuration here\n\n596\n00:31:05.482 --> 00:31:06.580\nin our upcoming episodes.\n\n597\n00:31:06.580 --> 00:31:08.440\nWe'll start to talk about\nhow we set this up.\n\n598\n00:31:08.440 --> 00:31:11.500\nSpeaking of which, if you just give me one\nsecond, I'll give you a little preview,\n\n599\n00:31:11.500 --> 00:31:13.395\na little hint as to what we're doing.\n\n600\n00:31:13.395 --> 00:31:14.940\nI'm just give you a test of that.\n\n601\n00:31:14.940 --> 00:31:18.390\nI am just bringing up our lab environment.\n\n602\n00:31:18.390 --> 00:31:20.400\nIf we can go there.\n\n603\n00:31:20.400 --> 00:31:21.690\nLet me go to.\n\n604\n00:31:21.690 --> 00:31:22.320\n&gt;&gt; There it is.\n\n605\n00:31:22.320 --> 00:31:24.710\n&gt;&gt; There we are, right there.\n\n606\n00:31:24.710 --> 00:31:28.500\nAll right, so we are gonna take\na look at in upcoming episodes\n\n607\n00:31:28.500 --> 00:31:32.120\nsome of the background work I have\ndone just to get ready to configure.\n\n608\n00:31:32.120 --> 00:31:34.000\nI have set up if you can see here.\n\n609\n00:31:35.020 --> 00:31:40.150\nSo, my SCSI storage, this was mounted, so\nmy SCSI storage, and made it available.\n\n610\n00:31:40.150 --> 00:31:43.670\nSo that part has already been set up and\nis running.\n\n611\n00:31:43.670 --> 00:31:47.920\nAnd, we've gone in, and installed,\n\n612\n00:31:47.920 --> 00:31:51.400\nas you can see, the failover\nclustering role on two systems.\n\n613\n00:31:51.400 --> 00:31:55.940\nSo I've got it running on my\nPlavix A01 machine right here.\n\n614\n00:31:57.660 --> 00:32:00.106\nAnd we'll go in in the next episode,\n\n615\n00:32:00.106 --> 00:32:03.530\ntake a look thise,\njust opening back up the server manager.\n\n616\n00:32:03.530 --> 00:32:07.610\nBut we'll be able to then go in and we'll\nbe able to go to the fill over cluster\n\n617\n00:32:07.610 --> 00:32:11.650\nmanager now that the role is installed\non the two contributing nodes.\n\n618\n00:32:11.650 --> 00:32:16.310\n01 01, you'll see me moving back and\nfroth between them.\n\n619\n00:32:16.310 --> 00:32:20.010\nWe'll go in and first thing we'll do\nis validate the cluster capabilities.\n\n620\n00:32:20.010 --> 00:32:22.280\nSo we'll go on and run a little\nwizard that helps us to establish and\n\n621\n00:32:22.280 --> 00:32:24.480\nvalidate that the cluster\ncan become operational.\n\n622\n00:32:24.480 --> 00:32:27.340\nAnd then we'll configure and\nwork with the cluster manager.\n\n623\n00:32:27.340 --> 00:32:30.080\nSo, we've done some of the background\nwork to get this all spun up.\n\n624\n00:32:30.080 --> 00:32:32.270\nWe're gonna start jumping in and\ntaking a look at this.\n\n625\n00:32:32.270 --> 00:32:34.700\nIn our upcoming episodes, but\nit's actually pretty fun.\n\n626\n00:32:34.700 --> 00:32:38.430\nAnd it sounds a little overwhelming as\nyou start talking about it, quorums,\n\n627\n00:32:38.430 --> 00:32:43.640\nwitnesses, split brain, 50%,\nodd numbers, all this crazy stuff.\n\n628\n00:32:43.640 --> 00:32:46.450\nBut it's actually not that hard, and\nyou're gonna see as we jump back in in\n\n629\n00:32:46.450 --> 00:32:48.698\nepisode two,\nexactly how easy you can make it.\n\n630\n00:32:48.698 --> 00:32:52.220\nProvide you just take your time, kind\nof just step through methodically, and\n\n631\n00:32:52.220 --> 00:32:54.130\nyou don't get confused in\nterms of what you're doing.\n\n632\n00:32:54.130 --> 00:32:55.420\nWhich sometimes can be a little hard.\n\n633\n00:32:55.420 --> 00:32:56.780\nAnd that's why we've\ngotta write things down,\n\n634\n00:32:56.780 --> 00:32:57.930\nmake sure we keep track\nof what we're doing.\n\n635\n00:32:57.930 --> 00:33:01.030\nBut I'm gonna show you exactly how easy it\ncan be to set this up when you come back\n\n636\n00:33:01.030 --> 00:33:02.350\nand join us for the next episode.\n\n637\n00:33:02.350 --> 00:33:03.310\n&gt;&gt; All right, Adam.\n\n638\n00:33:03.310 --> 00:33:05.570\nI don't know about you guys out there,\nI'm excited,\n\n639\n00:33:05.570 --> 00:33:08.550\nAdam's It's gonna make\nfailover clustering easy.\n\n640\n00:33:08.550 --> 00:33:10.080\nNo, I'm just teasing, he did not say that.\n\n641\n00:33:10.080 --> 00:33:12.960\nBut he's gonna walk us through the process\nnow that we got all the information and\n\n642\n00:33:12.960 --> 00:33:16.340\nknowledge to start getting ready\nto configure failover clusters.\n\n643\n00:33:16.340 --> 00:33:17.265\nWe appreciate that, Adam.\n\n644\n00:33:17.265 --> 00:33:19.000\n&gt;&gt; Mm-hm.\n&gt;&gt; Can't wait for the next episode, but\n\n645\n00:33:19.000 --> 00:33:20.800\nfor this one we are out of time.\n\n646\n00:33:20.800 --> 00:33:23.910\nSo signing off for ITProTV,\nI've been your host, Mike Rodrick.\n\n647\n00:33:23.910 --> 00:33:24.930\n&gt;&gt; I'm Adam Gordon.\n\n648\n00:33:24.930 --> 00:33:27.984\n&gt;&gt; And we will see you next time.\n\n649\n00:33:27.984 --> 00:33:33.708\n[MUSIC]\n\n650\n00:33:33.708 --> 00:33:36.618\n&gt;&gt; Thank you for watching ITPro TV.\n\n",
          "vimeoId": "238769157"
        },
        {
          "description": "Adam and Mike begin the installation and configuration of a failover cluster by discussing the pre-requisites, as well as examining the failover cluster manager validation configuration wizard and the create cluster wizard.",
          "length": "1897",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-2-configure_failover_clustering_pt2-101717-PGM.00_00_28_15.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-2-configure_failover_clustering_pt2-101717-PGM.00_00_28_15.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-2-configure_failover_clustering_pt2-101717-PGM.00_00_28_15.Still001-sm.jpg",
          "title": "Configure Failover Clustering Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.140 --> 00:00:01.170\nWelcome to IT Pro TV.\n\n2\n00:00:01.170 --> 00:00:04.855\nI'm your host Don Pezet.\n\n3\n00:00:04.855 --> 00:00:06.767\n&gt;&gt; [INAUDIBLE]\n\n4\n00:00:06.767 --> 00:00:08.227\n[MUSIC]\n\n5\n00:00:08.227 --> 00:00:12.191\n&gt;&gt; You're watching IT Pro.tv.\n\n6\n00:00:12.191 --> 00:00:15.823\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITPro.TV.\n\n7\n00:00:15.823 --> 00:00:20.257\nI'm your host Mike Rodrick and\ntoday we're doing Windows Server 2012 R2,\n\n8\n00:00:20.257 --> 00:00:23.120\nin preparation for the 70-412 exam.\n\n9\n00:00:23.120 --> 00:00:25.270\nAnd specifically in this episode,\n\n10\n00:00:25.270 --> 00:00:29.240\nwe're actually doing a part two to\nconfiguring failover clustering.\n\n11\n00:00:29.240 --> 00:00:31.700\nHere back with us in the studio is Mr.\nAdam Gordon.\n\n12\n00:00:31.700 --> 00:00:33.130\nWelcome back Adam.\n\n13\n00:00:33.130 --> 00:00:33.710\n&gt;&gt; Hola.\n\n14\n00:00:33.710 --> 00:00:34.970\n&gt;&gt; Hola, como estas?\n\n15\n00:00:34.970 --> 00:00:36.310\n&gt;&gt; Bien, y tu?\n\n16\n00:00:36.310 --> 00:00:37.580\n&gt;&gt; Gracias, bien bien.\n\n17\n00:00:37.580 --> 00:00:41.580\n&gt;&gt; And that's the extent of both of\nour knowledge if Spanish goes, and\n\n18\n00:00:41.580 --> 00:00:44.350\nyou should be ashamed cuz you're\nmarried to somebody who speaks Spanish,\n\n19\n00:00:44.350 --> 00:00:45.390\nI at least have an excuse.\n\n20\n00:00:45.390 --> 00:00:46.770\n&gt;&gt; But wait, you live in South Florida.\n\n21\n00:00:46.770 --> 00:00:48.101\n&gt;&gt; But my wife is not Hispanic.\n\n22\n00:00:48.101 --> 00:00:48.836\n&gt;&gt; Okay.\n\n23\n00:00:48.836 --> 00:00:50.680\n[LAUGH]\n&gt;&gt; Talk in Chinese and\n\n24\n00:00:50.680 --> 00:00:52.734\nthat would be a whole\ndifferent conversation.\n\n25\n00:00:52.734 --> 00:00:56.420\nAlright, anyway so now that we've totally\nembarrassed both ourselves with our lack\n\n26\n00:00:56.420 --> 00:01:00.050\nof language skills, let's talk some\nmore about the language of clustering.\n\n27\n00:01:00.050 --> 00:01:04.060\nIn our last episode, we had kind of\ngone through, laid down the foundations,\n\n28\n00:01:04.060 --> 00:01:08.090\ntalked about some of the vocabulary,\nshowed you the pretty cluster picture.\n\n29\n00:01:08.090 --> 00:01:09.800\nI gave you a little sneak into the,\n\n30\n00:01:09.800 --> 00:01:13.190\na little sneak peak into the failover\nclustering manager console.\n\n31\n00:01:13.190 --> 00:01:15.640\nWe're going to jump in there,\nstart our validation and\n\n32\n00:01:15.640 --> 00:01:17.330\nconfiguration of the cluster.\n\n33\n00:01:17.330 --> 00:01:20.238\nSo let's join me if you will,\nright here let's take a look.\n\n34\n00:01:20.238 --> 00:01:25.715\nI'm on one of my two cluster node\ncontributing resources, PLABVM01.\n\n35\n00:01:25.715 --> 00:01:27.628\nAnd we're gonna load as I have done,\n\n36\n00:01:27.628 --> 00:01:30.358\nthe failover cluster manager\nfrom server manager.\n\n37\n00:01:30.358 --> 00:01:33.639\nJust before you jump in, just give me one\nsecond just to tell everybody just how we\n\n38\n00:01:33.639 --> 00:01:35.088\ngot here and then we'll go ahead and\n\n39\n00:01:35.088 --> 00:01:38.650\nwe'll talk about anything you want to talk\nabout, so long as it's not in Spanish.\n\n40\n00:01:38.650 --> 00:01:42.200\nAll right, so\nfrom my server manager on the system\n\n41\n00:01:42.200 --> 00:01:46.270\nthat have installed\nthe failover cluster roll on.\n\n42\n00:01:46.270 --> 00:01:50.860\nAnd I've done the installation as I showed\nyou at the end of the last episode by\n\n43\n00:01:50.860 --> 00:01:54.910\ngoing into PowerShell, Add-WindowsFeature\ncmdlet, you could see right there.\n\n44\n00:01:54.910 --> 00:01:58.550\nName the feature, failover clustering,\nincluded management tools,\n\n45\n00:01:58.550 --> 00:02:00.280\nincluded all sub-features.\n\n46\n00:02:00.280 --> 00:02:05.260\nNow I could have done this from\nthe GUI using the manage interface,\n\n47\n00:02:05.260 --> 00:02:08.610\nin the server manager and\nsimply done the ad remove feature there.\n\n48\n00:02:08.610 --> 00:02:11.790\nBut I did it from PowerShell so you could\njust see how that was done, once we did\n\n49\n00:02:11.790 --> 00:02:18.390\nthat, and then go in once we're finished\nof course, does not require a restart.\n\n50\n00:02:18.390 --> 00:02:22.850\nWe have our failover cluster manager,\nso pretend I clicked on that.\n\n51\n00:02:22.850 --> 00:02:25.640\nI just already have it open and\nonce I've done that,\n\n52\n00:02:25.640 --> 00:02:27.490\nwe get out failover\ncluster manager GUI and\n\n53\n00:02:27.490 --> 00:02:31.040\nthat's where we're gonna jump in here,\nas soon as Mike ask his question.\n\n54\n00:02:31.040 --> 00:02:34.160\n&gt;&gt; Just a quick question then cause you\nhad created two nodes so far, right?\n\n55\n00:02:34.160 --> 00:02:37.140\nYou've installed that on, does it\nmatter which one you manage it from?\n\n56\n00:02:37.140 --> 00:02:39.602\n&gt;&gt; Well you would be able to go in and\nmanage from either one and\n\n57\n00:02:39.602 --> 00:02:42.077\nactually validate from either one,\nit doesn't matter.\n\n58\n00:02:42.077 --> 00:02:45.260\nSo, up to 64 nodes in theory.\n\n59\n00:02:45.260 --> 00:02:49.070\nUsually you wanna do it from the first\none that you've installed on but\n\n60\n00:02:49.070 --> 00:02:52.060\nit would not matter because\nI have the tool available,\n\n61\n00:02:52.060 --> 00:02:53.710\nthe interface available\non any one of them.\n\n62\n00:02:53.710 --> 00:02:56.559\nI think I actually brought it up here,\nwell at least pointed to the other one\n\n63\n00:02:56.559 --> 00:02:59.020\nwhich was the second node that I\nhad installed believe it or not.\n\n64\n00:02:59.020 --> 00:03:00.913\nAll right, so we're going to go in, and\n\n65\n00:03:00.913 --> 00:03:03.609\nwe're going to do our validation\nof our configuration.\n\n66\n00:03:03.609 --> 00:03:06.680\nNow, you'll notice over here\nunder actions that I do\n\n67\n00:03:06.680 --> 00:03:11.595\nhave the abilities we talked about in\nfederation services, certificate services,\n\n68\n00:03:11.595 --> 00:03:13.920\nall of these kinds of things, RMS.\n\n69\n00:03:13.920 --> 00:03:16.120\nWe usually have actions on the right,\n\n70\n00:03:16.120 --> 00:03:19.310\nwe often have a right click option\nthat more or less do the same thing.\n\n71\n00:03:19.310 --> 00:03:22.766\nAnd we could do that here if I right\nclick on the failover cluster manager,\n\n72\n00:03:22.766 --> 00:03:26.450\nyou'll notice that my menu of options\nessentially mirrors what's over there\n\n73\n00:03:26.450 --> 00:03:27.826\nunder actions on the right.\n\n74\n00:03:27.826 --> 00:03:30.076\nYou have been talking about\nthe fact that over time there,\n\n75\n00:03:30.076 --> 00:03:33.260\nMicrosoft is potentially to move away,\nmaybe, or at least,\n\n76\n00:03:33.260 --> 00:03:37.450\ntry to over time sometimes from that right\nclick thing, not a very good choice.\n\n77\n00:03:37.450 --> 00:03:42.170\nSo, if you're listening out there, bad,\nbad operating system ever, don't do that,\n\n78\n00:03:42.170 --> 00:03:44.210\nleave our right click options alone.\n\n79\n00:03:44.210 --> 00:03:46.330\nAll right, so\nwe're gonna validate our configuration.\n\n80\n00:03:46.330 --> 00:03:50.258\nNow the reason we start without data or\nconfiguration, let me just click there.\n\n81\n00:03:50.258 --> 00:03:53.843\nAnd by the way just before I do that or\nwhile I'm doing that,\n\n82\n00:03:53.843 --> 00:03:57.787\nyou can also see down at the bottom\nthere on the left that we have yet\n\n83\n00:03:57.787 --> 00:04:00.640\nanother way to be able\nto do the same thing.\n\n84\n00:04:00.640 --> 00:04:02.720\nWe have under management here, links or\n\n85\n00:04:02.720 --> 00:04:05.760\nshortcuts to essentially the actions\nthat are driven on the right.\n\n86\n00:04:05.760 --> 00:04:08.260\nNow, we do this because\nthe wizard goes in and\n\n87\n00:04:08.260 --> 00:04:12.845\ndetermines whether the configuration\nof servers that are being put\n\n88\n00:04:12.845 --> 00:04:18.095\nforth as contributory nodes or\nhosts to provide resources to the cluster.\n\n89\n00:04:18.095 --> 00:04:20.605\nAnd the attach storage that\nthey are providing as we're\n\n90\n00:04:20.605 --> 00:04:24.742\ncreating a failover cluster from a storage\nperspective are set up correctly, and\n\n91\n00:04:24.742 --> 00:04:27.494\nwill they essentially be able\nto operate and support failover.\n\n92\n00:04:27.494 --> 00:04:30.682\nValidation of the cluster is really\nimportant as the first step because if we\n\n93\n00:04:30.682 --> 00:04:34.252\ndon't do this we don't find out until\nafter we get everything in there and\n\n94\n00:04:34.252 --> 00:04:37.352\nit's not set up the right way,\nthings are not going to go well at all.\n\n95\n00:04:37.352 --> 00:04:38.963\nAs a matter of fact they're not gonna go,\nperiod.\n\n96\n00:04:38.963 --> 00:04:42.537\nAnd so we start out by forcing a\nvalidation of the configuration to ensure\n\n97\n00:04:42.537 --> 00:04:46.288\nthat we're configured, in other words\nset up, and all the moving parts and\n\n98\n00:04:46.288 --> 00:04:50.370\npieces or whatever we may have done ahead\nof time is configured the right way.\n\n99\n00:04:50.370 --> 00:04:53.162\nMaybe you haven't installed\nthe cluster capabilities and\n\n100\n00:04:53.162 --> 00:04:54.510\nthe features the right way.\n\n101\n00:04:54.510 --> 00:04:57.340\nMaybe you left out the RSAT tools,\nthings like that are not there.\n\n102\n00:04:57.340 --> 00:04:59.220\nThere's always things that can go wrong.\n\n103\n00:04:59.220 --> 00:05:02.440\nMaybe you've configured storage,\nbut it's not shared.\n\n104\n00:05:02.440 --> 00:05:04.220\nLot of things can happen, right?\n\n105\n00:05:04.220 --> 00:05:07.530\nSo as a result, we're going to\nrun the configuration here and\n\n106\n00:05:07.530 --> 00:05:08.710\nvalidate for going out.\n\n107\n00:05:08.710 --> 00:05:12.020\nSo we run the wizard, first screen\nis really just, hey this is more or\n\n108\n00:05:12.020 --> 00:05:15.120\nless what you're going to do,\njust tell us what's going on.\n\n109\n00:05:15.120 --> 00:05:19.940\nSo we're gonna click next, select servers,\nor a cluster in other words we may already\n\n110\n00:05:19.940 --> 00:05:25.160\nhave a system or an individual set of\nservers that we wanna go ahead and add in.\n\n111\n00:05:25.160 --> 00:05:27.980\nIf we have an existing cluster,\nwe would simply put the name\n\n112\n00:05:27.980 --> 00:05:32.742\nof the existing cluster in, and or one\nof the nodes that is a member of it, but\n\n113\n00:05:32.742 --> 00:05:35.120\nif we're adding new servers\nwe'll add those in here.\n\n114\n00:05:35.120 --> 00:05:36.930\nSo we're gonna go ahead and\nwe're gonna start adding them in.\n\n115\n00:05:36.930 --> 00:05:42.590\nI'm gonna go ahead and type in the name\nof my first node which is PLABDM01.\n\n116\n00:05:42.590 --> 00:05:45.920\nNow by the way, I can type, but\nnotice I have a browse option here.\n\n117\n00:05:45.920 --> 00:05:49.735\nIf I go browse, I get my Active Directory,\nlittle pink wizard here,\n\n118\n00:05:49.735 --> 00:05:52.005\njust my little,\nI don't know what they call it.\n\n119\n00:05:52.005 --> 00:05:53.650\nDialog box, I'm not sure what,\nit always comes up.\n\n120\n00:05:53.650 --> 00:05:56.220\nI never know what to call that, but that\nlittle thing where you go type a name, and\n\n121\n00:05:56.220 --> 00:05:57.660\nit says look, and it found the resource.\n\n122\n00:05:57.660 --> 00:05:58.758\nIs that thing right there.\n\n123\n00:05:58.758 --> 00:06:01.400\nSo I could type in the name of the machine\n\n124\n00:06:01.400 --> 00:06:05.550\nthat I wanna validate there because as you\nknow, I'm a number one, horrible speller,\n\n125\n00:06:05.550 --> 00:06:08.645\nnumber two, horrible typer, and\nnumber three, lazy as all heck.\n\n126\n00:06:08.645 --> 00:06:10.750\n&gt;&gt; [LAUGH]\n&gt;&gt; So less typing I have to do the better,\n\n127\n00:06:10.750 --> 00:06:15.240\nif I just type PLABDM01 there and\nhit check now or check names, rather.\n\n128\n00:06:15.240 --> 00:06:18.910\nAssuming I'm finding a named\ninstance that actually exists,\n\n129\n00:06:18.910 --> 00:06:22.080\nin other words a computer account that\nis in the AD, I can actually do that.\n\n130\n00:06:22.080 --> 00:06:26.420\nYou see that there,\nit provides that for me and pops it in.\n\n131\n00:06:26.420 --> 00:06:28.260\nI don't have to type the whole thing in.\n\n132\n00:06:28.260 --> 00:06:30.976\nIt provides the full name for\nme and just validates it quickly,\n\n133\n00:06:30.976 --> 00:06:34.115\nthis little thing that came up kind\nof on the bottom, always doing that.\n\n134\n00:06:34.115 --> 00:06:36.623\nValidating to ensure\nthat it's an active node\n\n135\n00:06:36.623 --> 00:06:40.720\nthat it's gonna be configurable when\nits set up and it finds the name.\n\n136\n00:06:40.720 --> 00:06:44.190\nSo I've done that, so you could type it in\nor you could browse it, it's up to you.\n\n137\n00:06:44.190 --> 00:06:46.730\nAll right, so\nwe're gonna put our second one in, right?\n\n138\n00:06:46.730 --> 00:06:47.890\nI just did our first one.\n\n139\n00:06:47.890 --> 00:06:50.240\nIf I was typing, I would do this.\n\n140\n00:06:50.240 --> 00:06:53.460\nPLABSA01.practicelabs.com in this case,\n\n141\n00:06:53.460 --> 00:06:57.580\ncuz that's the name of our domain and\nthe name of the host in the domain,\n\n142\n00:06:57.580 --> 00:07:00.260\nit's gonna become a node or\na member of the cluster.\n\n143\n00:07:00.260 --> 00:07:04.072\nIn your world as you're doing this, you\nwould localize this to whatever host name\n\n144\n00:07:04.072 --> 00:07:05.850\nor whatever domain name you are using.\n\n145\n00:07:05.850 --> 00:07:08.990\nSo whatever resources you're naming,\nwherever they live,\n\n146\n00:07:08.990 --> 00:07:11.840\nyou would put in the appropriate\nname string for that.\n\n147\n00:07:11.840 --> 00:07:17.790\nSo plabsa01.practicelabs.com,\nwe can do that.\n\n148\n00:07:17.790 --> 00:07:21.520\nAnd notice when I type it in, I just\nhave to click the Add button in order to\n\n149\n00:07:21.520 --> 00:07:22.920\nvalidate it and drop it down below.\n\n150\n00:07:22.920 --> 00:07:25.385\nSo we'll do one of each type just so\nyou can see.\n\n151\n00:07:25.385 --> 00:07:28.715\nAssuming that, validating server\nsettings comes up pretty quickly, and\n\n152\n00:07:28.715 --> 00:07:29.865\nthen drops it in there.\n\n153\n00:07:29.865 --> 00:07:33.405\nNo distinction or difference by the way\nwith one being all capitals, one not.\n\n154\n00:07:33.405 --> 00:07:36.005\nIt's just that when you use the browse\noption and it does it for you,\n\n155\n00:07:36.005 --> 00:07:37.375\nputs it in as all caps.\n\n156\n00:07:37.375 --> 00:07:41.325\nWhen you type it in yourself it just\ngoes in unless you type it in separately\n\n157\n00:07:41.325 --> 00:07:42.445\nas lowercase.\n\n158\n00:07:42.445 --> 00:07:44.563\nBut doesn't matter,\nit's not going to effect anything at all.\n\n159\n00:07:44.563 --> 00:07:46.930\nAll right, so we've got our two nodes and\n\n160\n00:07:46.930 --> 00:07:48.870\nif I had more I would keep\nadding them of course, right?\n\n161\n00:07:48.870 --> 00:07:52.412\nBut I have only got two, so we're just\ngoing to go ahead and go with that.\n\n162\n00:07:52.412 --> 00:07:57.030\nAll right, so we have all that set up, now\nwhat we're going to do is click next here.\n\n163\n00:07:57.030 --> 00:07:59.318\nAnd, we're going to get\nto our testing options.\n\n164\n00:07:59.318 --> 00:08:04.050\nNow, it says choose between running\nall tests, or running selected test.\n\n165\n00:08:04.050 --> 00:08:08.010\nYou ever do that hardware test for, you\ntest and it's like the extended test and\n\n166\n00:08:08.010 --> 00:08:10.350\nyou're there, you're like,\nwhat was I thinking?\n\n167\n00:08:10.350 --> 00:08:10.910\n&gt;&gt; I don't know.\n\n168\n00:08:10.910 --> 00:08:13.165\n&gt;&gt; I had a birthday and.\n\n169\n00:08:13.165 --> 00:08:13.770\n&gt;&gt; [LAUGH].\n\n170\n00:08:13.770 --> 00:08:16.290\n&gt;&gt; I had grandchildren before\nthat test finished, right.\n\n171\n00:08:16.290 --> 00:08:17.600\n&gt;&gt; So, waiting for that, I was like,\n\n172\n00:08:17.600 --> 00:08:19.670\nwe're going to do a TV timeout\nas you go through this?\n\n173\n00:08:19.670 --> 00:08:22.500\n&gt;&gt; Well, you do want to be selective,\nright, potentially or\n\n174\n00:08:22.500 --> 00:08:24.600\nif you do all the tests.\n\n175\n00:08:24.600 --> 00:08:27.730\nBy the way it does say there, run all\ntests are recommended, because the people\n\n176\n00:08:27.730 --> 00:08:30.676\nwho make the wizards have nothing but\ntime so that's their thing,\n\n177\n00:08:30.676 --> 00:08:34.900\nor run only the tests I select, and\nwe'll take a look here in just a second.\n\n178\n00:08:34.900 --> 00:08:37.270\nBut the recommendation,\nI'll just choose that so\n\n179\n00:08:37.270 --> 00:08:40.060\nyou can then see the way of a test\nselection option that pops up and\n\n180\n00:08:40.060 --> 00:08:42.830\nI'll show you what the tests\nare before we decide what we're doing.\n\n181\n00:08:42.830 --> 00:08:46.550\nBut the tests are designed to\nreally examine network, inventory,\n\n182\n00:08:46.550 --> 00:08:51.020\nstorage, Hyper-V, configuration,\ncluster configuration,\n\n183\n00:08:51.020 --> 00:08:54.100\nsystem configuration, it's designed\nto do a bunch of stuff, right.\n\n184\n00:08:54.100 --> 00:08:58.320\nAnd so the recommendation to run\nall the tests is because we wanna\n\n185\n00:08:58.320 --> 00:09:00.920\ntouch all of those areas and to make sure\neverything is configured the right way.\n\n186\n00:09:00.920 --> 00:09:04.950\nSo kidding aside, you really should\nrun the complete battery of tests but\n\n187\n00:09:04.950 --> 00:09:08.670\nlets take a look, hypothetically,\nright, at what the options are.\n\n188\n00:09:08.670 --> 00:09:12.880\nSo if I chose run only, so I can get to\nthe next screen to show you what they are.\n\n189\n00:09:14.660 --> 00:09:18.230\nYou'll see that we do have a little pick\nlist, fairly straightforward here, right.\n\n190\n00:09:18.230 --> 00:09:22.450\nYou'll see if you open things up, you can\nkind of see what it does it'll go in, for\n\n191\n00:09:22.450 --> 00:09:25.880\ninstance, under storage list\nall the fiber channel HBAs.\n\n192\n00:09:25.880 --> 00:09:28.410\nNow you may be saying, that's nice,\nbut I don't have fiber channels.\n\n193\n00:09:28.410 --> 00:09:30.170\n&gt;&gt; Right.\n&gt;&gt; Well, okay then, come in here and\n\n194\n00:09:30.170 --> 00:09:32.910\nmanually deselect fiber because\nyou're not using it, right.\n\n195\n00:09:32.910 --> 00:09:36.510\nSo, the reason we give you the manual\noption it's not because we want you to opt\n\n196\n00:09:36.510 --> 00:09:37.910\nout of things that you should test but\n\n197\n00:09:37.910 --> 00:09:41.330\nrather opt out of things that\nare a waste of time that you don't have.\n\n198\n00:09:41.330 --> 00:09:43.280\nSo that's just the idea behind it, right.\n\n199\n00:09:43.280 --> 00:09:47.650\nIf you're just using iSCSI, then yeah,\nyou should uncheck Fiber channel because\n\n200\n00:09:47.650 --> 00:09:50.910\nthere's no reason to bother to do that\nbecause it’s just gonna waste your time.\n\n201\n00:09:50.910 --> 00:09:52.840\nI mean it's not that long,\nit does it quick.\n\n202\n00:09:52.840 --> 00:09:57.820\nLogic check says there's no fiber channel\ncapabilities listed, no configuration for\n\n203\n00:09:57.820 --> 00:10:00.220\nfiber channel HBAs, so\nwe're gonna skip it.\n\n204\n00:10:00.220 --> 00:10:03.690\nBut it still takes time to still walk\nthrough that and figure that out, right.\n\n205\n00:10:03.690 --> 00:10:05.750\nSo if you look here, you can open this up,\n\n206\n00:10:05.750 --> 00:10:09.840\nyou can see all the different kind\nof stuff that's here, validate AD\n\n207\n00:10:09.840 --> 00:10:14.730\nconfiguration, are all driver signed, we\ngotta have all the bells and whistles and\n\n208\n00:10:14.730 --> 00:10:18.560\nthe security capabilities lock down,\nvalidate our service pack levels.\n\n209\n00:10:18.560 --> 00:10:21.870\nOne of the things you have to just keep\nin mind just out of the gate as a flat\n\n210\n00:10:21.870 --> 00:10:26.610\nstatement that is always true,\nmeaning it will never not be true, right.\n\n211\n00:10:26.610 --> 00:10:29.700\nAnd is always the right answer on the exam\nwhich means if you get it wrong after I'm\n\n212\n00:10:29.700 --> 00:10:32.190\ntelling you this,\nyou really should pay attention, right.\n\n213\n00:10:33.260 --> 00:10:37.000\nCluster levels, meaning specifically\nall contributory members,\n\n214\n00:10:37.000 --> 00:10:41.770\nall nodes in the cluster must be at\nthe same level for everything we do, so\n\n215\n00:10:41.770 --> 00:10:43.960\nyou can not have what we\ncall an imbalanced cluster.\n\n216\n00:10:45.060 --> 00:10:47.570\n2008 R2 machines do not cluster\nwith 2012 R2 machines, right,\n\n217\n00:10:47.570 --> 00:10:51.520\nwe've gotta be at the same levels.\n\n218\n00:10:51.520 --> 00:10:52.540\nService Pack levels.\n\n219\n00:10:52.540 --> 00:10:56.060\nThe things you would just think about\nthat we don't often stop and go, yeah,\n\n220\n00:10:56.060 --> 00:10:58.780\nwe could have like a mixed\nenvironments traditionally.\n\n221\n00:10:58.780 --> 00:11:00.900\nI didn't apply that latest\npatch to every machine,\n\n222\n00:11:00.900 --> 00:11:03.250\nI applied it only to four,\nnot when you're doing clusters,\n\n223\n00:11:03.250 --> 00:11:05.560\nboys and girls, because-\n&gt;&gt; In our other episode with network load\n\n224\n00:11:05.560 --> 00:11:09.550\nbalancing, we were like, yeah it doesn't\nmatter, you can have mixed environments.\n\n225\n00:11:09.550 --> 00:11:12.102\n&gt;&gt; You can, right, well yeah we talked\nabout the fact that we support that, and\n\n226\n00:11:12.102 --> 00:11:13.490\nthat's fine for certain technologies.\n\n227\n00:11:13.490 --> 00:11:19.250\nBut here specifically, everything, and\nwhen I say everything I mean everything,\n\n228\n00:11:19.250 --> 00:11:24.200\nmust be the same on all contributory\nmembers or all members of the cluster.\n\n229\n00:11:24.200 --> 00:11:27.470\nIf anything is out of balance because\nsomething is not right, we have a problem.\n\n230\n00:11:27.470 --> 00:11:30.774\nNow obviously as we're going through and\ndoing Cluster-Aware Updating and\n\n231\n00:11:30.774 --> 00:11:32.820\npatching we are unbalanced\nat certain points.\n\n232\n00:11:32.820 --> 00:11:36.147\nBut that's because part of the cluster's\nbeing patched and essentially it's in\n\n233\n00:11:36.147 --> 00:11:38.906\nmaintenance mode, right,\nas we're doing things not available.\n\n234\n00:11:38.906 --> 00:11:41.871\nThe other half is servicing or\nwhatever we're doing, and\n\n235\n00:11:41.871 --> 00:11:44.957\nwe're balancing back and\nforth as we bring things online but\n\n236\n00:11:44.957 --> 00:11:48.605\nultimately over time all those things\nare at the same level as they run.\n\n237\n00:11:48.605 --> 00:11:51.815\nSo, as we validated these things\nlike operating system addition,\n\n238\n00:11:51.815 --> 00:11:56.332\noperating system version, required\nservices, same processor architecture.\n\n239\n00:11:56.332 --> 00:11:58.662\nI mean look at the things on that list,\nright.\n\n240\n00:11:58.662 --> 00:12:02.954\nIf you got any variation or deviation\nyou're gonna start running into issues and\n\n241\n00:12:02.954 --> 00:12:05.662\nit may wind up being the case that you're\nnot gonna be able to run the cluster\n\n242\n00:12:05.662 --> 00:12:08.040\nbecause you're not gonna\nbe able to stabilize and\n\n243\n00:12:08.040 --> 00:12:09.250\nstandardize that configuration.\n\n244\n00:12:09.250 --> 00:12:12.130\nThat's one of the biggest\nissues people have, by the way,\n\n245\n00:12:12.130 --> 00:12:16.860\nis that not all the contributory systems\nare members potentially of the cluster,\n\n246\n00:12:16.860 --> 00:12:18.410\nall the nodes are running\nat the same level.\n\n247\n00:12:18.410 --> 00:12:20.350\nThat's often the biggest issue we have,\n\n248\n00:12:20.350 --> 00:12:21.630\ntrying to get out of\nthe gate with clusters.\n\n249\n00:12:21.630 --> 00:12:24.200\nSo we're gonna run all the tests,\nas you can see here.\n\n250\n00:12:24.200 --> 00:12:24.790\nClick, Next.\n\n251\n00:12:26.310 --> 00:12:27.792\nYou are ready to start validation.\n\n252\n00:12:27.792 --> 00:12:31.920\nOkay so you could see essentially\nlist the two servers under the text.\n\n253\n00:12:31.920 --> 00:12:33.840\nIt goes ahead and says, OK.\n\n254\n00:12:33.840 --> 00:12:36.170\nHere's everything you're gonna\nvalidate right there, so\n\n255\n00:12:36.170 --> 00:12:37.920\nit just essentially lists everything.\n\n256\n00:12:37.920 --> 00:12:40.918\nAnd then we have to go ahead and\nwe have to actually run the test.\n\n257\n00:12:40.918 --> 00:12:42.620\nNow it will take a few minutes,\n\n258\n00:12:42.620 --> 00:12:46.560\nso as Mike suggest we're gonna do one of\nour famous TV timeouts here at ITPRO.TV.\n\n259\n00:12:46.560 --> 00:12:50.440\nWhich in your world simply means,\nI'm gonna say hey, it's gonna take a few\n\n260\n00:12:50.440 --> 00:12:54.010\nminutes we're gonna come back and when we\ncome back magically it's all gonna be done\n\n261\n00:12:54.010 --> 00:12:57.050\nand then magically I'm gonna keep\ntalking and it's all gonna be there.\n\n262\n00:12:57.050 --> 00:12:59.830\nBut at the mean time we're actually gonna\nstop for a few minutes, you're not gonna\n\n263\n00:12:59.830 --> 00:13:02.520\nsee that, of course but I am narrating for\nyou while that's happening.\n\n264\n00:13:02.520 --> 00:13:06.060\nBut we are gonna stop, we're gonna cut\naway, let this run should take, depending\n\n265\n00:13:06.060 --> 00:13:09.000\non the size of the cluster, it'll be\nquicker for us to load in two nodes,\n\n266\n00:13:09.000 --> 00:13:12.080\nit's not gonna take a long time and\nthey are configured the right way.\n\n267\n00:13:12.080 --> 00:13:15.450\nThey are all the same so\nit will be easy but in the real world,\n\n268\n00:13:15.450 --> 00:13:19.120\nyou're doing a large cluster and\nyou're scaling this up and setting it up.\n\n269\n00:13:19.120 --> 00:13:21.031\nThis could take hours, right,\ndepending on what you're doing.\n\n270\n00:13:21.031 --> 00:13:21.577\n&gt;&gt; [CROSSTALK] All day thing, yeah.\n\n271\n00:13:21.577 --> 00:13:22.710\n&gt;&gt; So you just wanna be aware of that.\n\n272\n00:13:22.710 --> 00:13:26.360\nSo we're gonna cut away as soon as I\nclick Next here, let this start running.\n\n273\n00:13:26.360 --> 00:13:28.490\nWe'll see it's gonna run,\nwe'll just give you a sense for this.\n\n274\n00:13:28.490 --> 00:13:31.060\nYou could see lot of these are pending,\n\n275\n00:13:31.060 --> 00:13:35.330\nsome are being done immediately,\nothers show pass.\n\n276\n00:13:35.330 --> 00:13:37.230\nYou could see how this\nis kind of going and\n\n277\n00:13:37.230 --> 00:13:38.710\nyou could see down here as it's running.\n\n278\n00:13:38.710 --> 00:13:41.060\nIt will take three or\nfour minutes in our world.\n\n279\n00:13:41.060 --> 00:13:43.090\nWe'll let this roll,\nwe'll come back as soon as it's done.\n\n280\n00:13:43.090 --> 00:13:44.290\nWe'll be on the next screen.\n\n281\n00:13:44.290 --> 00:13:48.360\nWe'll pick right back up where we left off\nand then we'll continue our validation and\n\n282\n00:13:48.360 --> 00:13:49.350\nthen talk about what comes next.\n\n283\n00:13:51.680 --> 00:13:54.960\nAll right, so you could see,\nmagical, I love when that happens.\n\n284\n00:13:54.960 --> 00:13:58.630\nIt's awesome not only is it finished but\nI'm like half the size I was we went out.\n\n285\n00:13:58.630 --> 00:14:00.530\n&gt;&gt; You said that it would take forever,\nthat was instant.\n\n286\n00:14:01.530 --> 00:14:05.080\n&gt;&gt; Well for us, for\nthem it was instant, for us,\n\n287\n00:14:05.080 --> 00:14:08.940\nI drove home, came back, had a shower,\ncup of coffee, all right.\n\n288\n00:14:08.940 --> 00:14:11.750\nSo, it did not take too long, it took\nabout five maybe five or six minutes.\n\n289\n00:14:11.750 --> 00:14:13.270\nWasn't that bad actually.\n\n290\n00:14:13.270 --> 00:14:18.265\nWe could see once we're done we\ndo get a nice little report,\n\n291\n00:14:18.265 --> 00:14:22.030\nFailure, Failover Cluster Validation\nReport right here, now it's kind of hard,\n\n292\n00:14:22.030 --> 00:14:24.280\nyou can literally view\nthe report in here but,\n\n293\n00:14:24.280 --> 00:14:26.295\nit's kind of hard to\nread all that in there.\n\n294\n00:14:26.295 --> 00:14:28.920\nYou could click the view\nreport option right here,\n\n295\n00:14:28.920 --> 00:14:33.120\ndoes bring it up in a nice\nlittle HTML Citrix.\n\n296\n00:14:33.120 --> 00:14:38.840\nFriendly little window that you can\ntake a look at, you can see here and\n\n297\n00:14:38.840 --> 00:14:44.390\nas we go through, you'll see we\nhave success on our validation.\n\n298\n00:14:44.390 --> 00:14:48.550\nScroll back up here,\nall of our tests were successful,\n\n299\n00:14:48.550 --> 00:14:52.840\noverall results testing has complete\nsuccessfully configuration is suitable for\n\n300\n00:14:52.840 --> 00:14:54.795\nclustering, that's good\nto know I was worried.\n\n301\n00:14:54.795 --> 00:14:55.806\n&gt;&gt; [LAUGH]\n&gt;&gt; But, and\n\n302\n00:14:55.806 --> 00:15:00.175\nthen we've got some detailed information,\nwe see the BIOS information on each of\n\n303\n00:15:00.175 --> 00:15:04.507\nthe host here so we could see what that\nis, that are contributing to the cluster.\n\n304\n00:15:04.507 --> 00:15:08.644\nWe see the disks being listed and\nhow they're set up, so\n\n305\n00:15:08.644 --> 00:15:13.850\nwe can see information about them\neach of the volumes is profiled out.\n\n306\n00:15:13.850 --> 00:15:18.060\nWe have the boot volume, we have\nthe disk partition style being MBR,\n\n307\n00:15:18.060 --> 00:15:18.820\ndisk type basic.\n\n308\n00:15:18.820 --> 00:15:22.790\nSo it goes through and\nlists everything out for us which is nice.\n\n309\n00:15:22.790 --> 00:15:24.940\nSo we have quite a bit\nof information there.\n\n310\n00:15:24.940 --> 00:15:30.060\nThese are ISCSI and or ATAs, SAS,\nwhatever it may be, so we see different\n\n311\n00:15:30.060 --> 00:15:34.530\nbus types listed there, with SCSI\naddresses where appropriate of course.\n\n312\n00:15:34.530 --> 00:15:37.102\nAnd adapters, IE, Multi-channel iSCSI, so\n\n313\n00:15:37.102 --> 00:15:40.399\nit's got a pretty detailed\nlisting of all the information.\n\n314\n00:15:40.399 --> 00:15:43.616\n&gt;&gt; Yeah, and it might be good\ndocumentation to keep on hand, especially\n\n315\n00:15:43.616 --> 00:15:47.225\nif we need to add more nodes and they've\ngotta be exactly like the other nodes.\n\n316\n00:15:47.225 --> 00:15:48.415\n&gt;&gt; Absolutely.\n\n317\n00:15:48.415 --> 00:15:50.450\n&gt;&gt; So having an inventory of what's\nin the existing nodes is Is good?\n\n318\n00:15:50.450 --> 00:15:53.989\n&gt;&gt; Yep, and so\nit tells us what disks will be validated,\n\n319\n00:15:53.989 --> 00:15:59.026\ngives us all the environmental variables\nthat are gonna be pertinent here so\n\n320\n00:15:59.026 --> 00:16:03.160\nwe can see information about\nthat again broken by a host.\n\n321\n00:16:03.160 --> 00:16:07.107\nYup, there's quite a bit of information\nhere, we do have HBA, adapters for\n\n322\n00:16:07.107 --> 00:16:11.361\nfiber channel, we'd see those listed,\nwe see the ISCSI adapters cuz that's what\n\n323\n00:16:11.361 --> 00:16:15.620\nwe're using, so we those listed,\nmanufacturer, version level, etc.\n\n324\n00:16:15.620 --> 00:16:18.290\nFunctional status currently\nfunctioning normally there,\n\n325\n00:16:18.290 --> 00:16:22.550\nmemory information is gonna be\nlisted here as well by hosts.\n\n326\n00:16:22.550 --> 00:16:27.110\nNetwork binding order, so we see\ninformation on the adapters, whether\n\n327\n00:16:27.110 --> 00:16:31.880\nthey are hyper-v or not so you could see\nobviously these are virtualized adapters.\n\n328\n00:16:31.880 --> 00:16:37.810\nOne gigabit in speed there, OS information\nis profiled here, 12 R2 standard.\n\n329\n00:16:37.810 --> 00:16:40.420\nVersion number, and\nas you could see build number,\n\n330\n00:16:40.420 --> 00:16:42.740\nyou know all the standard\nstuff we would expect to see.\n\n331\n00:16:42.740 --> 00:16:44.090\nLanguage version EN GB.\n\n332\n00:16:44.090 --> 00:16:48.860\nThe plug-and-play devices, I mean,\nthis is very, very detailed,\n\n333\n00:16:48.860 --> 00:16:50.080\nright, as you can see.\n\n334\n00:16:50.080 --> 00:16:53.440\nSo definitely it would be worth\nyour time to go in and take a look.\n\n335\n00:16:53.440 --> 00:16:55.945\nSo once we're done with that\nwe have a check box here,\n\n336\n00:16:55.945 --> 00:16:58.330\ncreate cluster now using\nthe validated notes.\n\n337\n00:16:58.330 --> 00:17:00.480\nThat check box is selected by default.\n\n338\n00:17:00.480 --> 00:17:04.640\nWhat will happen of course is that\nif we choose to go forward and\n\n339\n00:17:04.640 --> 00:17:07.550\nto leave the box selected and\nclick Finish.\n\n340\n00:17:07.550 --> 00:17:10.830\nThen our cluster will actually\nthen be given life and\n\n341\n00:17:10.830 --> 00:17:15.060\ncreated out of this configuration\nbased on passing the validation.\n\n342\n00:17:15.060 --> 00:17:18.370\nIf we choose not to do that right now,\nbut rather say okay,\n\n343\n00:17:18.370 --> 00:17:21.780\ngood we've passed the test but\nwe're not ready to go ahead and configure.\n\n344\n00:17:21.780 --> 00:17:26.300\nWe can uncheck that box, hit Finish, we\nwill not configure the cluster right now.\n\n345\n00:17:26.300 --> 00:17:30.820\nWe could then come over here at any\npoint later to create the cluster and\n\n346\n00:17:30.820 --> 00:17:32.910\njust run essentially that same\naction with the wizard and\n\n347\n00:17:32.910 --> 00:17:34.308\nkick it off at any point in time.\n\n348\n00:17:34.308 --> 00:17:38.270\nSo it would be up to us, you know maybe\nit's the end of the day, maybe you're not\n\n349\n00:17:38.270 --> 00:17:41.630\nprepared to bring all these nodes\nonline or wait for all these to happen.\n\n350\n00:17:41.630 --> 00:17:43.322\nYou wanna push that off for a little bit,\n\n351\n00:17:43.322 --> 00:17:46.040\nyou know whatever the case may be you\ncan certainly do that if you need to.\n\n352\n00:17:46.040 --> 00:17:50.940\nWe're gonna go ahead and\nwe are going to make sure that we do\n\n353\n00:17:50.940 --> 00:17:54.170\ncreate the cluster because you have been\nso patient sitting around waiting for me.\n\n354\n00:17:54.170 --> 00:17:56.068\nWell it would be foolish for\nme not to do that, so\n\n355\n00:17:56.068 --> 00:17:57.830\nI am going to leave that\ncheck box selected.\n\n356\n00:17:57.830 --> 00:17:58.943\nI'm going to click Finish.\n\n357\n00:17:58.943 --> 00:18:02.820\nYou'll see here the wizard immediately\njust launches and is ready to go,\n\n358\n00:18:02.820 --> 00:18:04.260\nlet's just move this over.\n\n359\n00:18:04.260 --> 00:18:07.320\nAll right, so let's go ahead and\nlet's make ourselves a cluster shall we.\n\n360\n00:18:07.320 --> 00:18:11.300\nAll right, so the wizard that we're\nlooking at now will be the creation,\n\n361\n00:18:11.300 --> 00:18:12.430\nthe cluster creation wizard.\n\n362\n00:18:12.430 --> 00:18:13.078\nIt says here,\n\n363\n00:18:13.078 --> 00:18:16.730\nthe wizard creates cluster, set of\nservers that are working together and\n\n364\n00:18:16.730 --> 00:18:20.690\ncreates availability of clustered roles or\nresources, whatever that maybe be.\n\n365\n00:18:20.690 --> 00:18:24.310\nIf one of the servers fails,\nanother server essentially begins hosting\n\n366\n00:18:24.310 --> 00:18:27.530\nthe clustered roles,\nthat process is referred to fail-over.\n\n367\n00:18:27.530 --> 00:18:29.660\nThat's why we call this\na fail-over cluster,\n\n368\n00:18:29.660 --> 00:18:33.680\ncuz the role will move to that surviving\nnode, or one of the surviving nodes,\n\n369\n00:18:33.680 --> 00:18:36.512\nwhatever the case may be and\nwe'll then be able to do that.\n\n370\n00:18:36.512 --> 00:18:39.040\nIt says, before you run this\nstrongly recommended you run\n\n371\n00:18:39.040 --> 00:18:42.710\nthe configuration validation wizard,\nokay we've done with that, no big deal.\n\n372\n00:18:42.710 --> 00:18:47.332\nMicrosoft supports the cluster solution\nonly, only if the complete configuration,\n\n373\n00:18:47.332 --> 00:18:51.350\nall the things we just talked about, can\npass all tests in the validation wizard.\n\n374\n00:18:51.350 --> 00:18:55.077\nIn addition, all hardware\ncomponents must be certified for\n\n375\n00:18:55.077 --> 00:18:57.352\nuse in Windows server 2012 R2.\n\n376\n00:18:57.352 --> 00:19:02.023\nWhich means that you have to make sure\nthat not only have you run the wizard\n\n377\n00:19:02.023 --> 00:19:05.087\nwhich would validate all\nof this of course, but\n\n378\n00:19:05.087 --> 00:19:10.549\nthat all the hardware that you're gonna\nload a news is certified to run for 12R2.\n\n379\n00:19:10.549 --> 00:19:13.389\nWhich means you have to look at\nthe hardware availability list or\n\n380\n00:19:13.389 --> 00:19:15.554\nhardware compatibility list rather,\nthe HCL.\n\n381\n00:19:15.554 --> 00:19:18.880\nAnd Microsoft is always updating and\npublishing updates to that.\n\n382\n00:19:18.880 --> 00:19:20.580\nBut that's available on the webs,\n\n383\n00:19:20.580 --> 00:19:23.120\nyou would wanna you know make\nsure that you know all that.\n\n384\n00:19:23.120 --> 00:19:25.660\nBecause a lot of times you go look\nin a machine especially rack mounted\n\n385\n00:19:25.660 --> 00:19:26.570\nservers you know.\n\n386\n00:19:26.570 --> 00:19:29.040\nSome of the infrastructure that's\nusually sitting behind us here,\n\n387\n00:19:29.040 --> 00:19:32.170\nit's very hard to sometimes to walk up and\nsee stuff in a rack and\n\n388\n00:19:32.170 --> 00:19:36.188\nunderstand whether the guts are gonna\nbe of a certain type and certified.\n\n389\n00:19:36.188 --> 00:19:39.488\nSometimes there are stickers on\nthe outside, things like that,\n\n390\n00:19:39.488 --> 00:19:41.168\non storage arrays for instance,\n\n391\n00:19:41.168 --> 00:19:44.649\nvendors will put those certified-to-run\nstickers on so you know.\n\n392\n00:19:44.649 --> 00:19:47.546\nBut if it's white label stuff,\nyou just you may or may know know, and so\n\n393\n00:19:47.546 --> 00:19:49.780\nit's important to try and figure that out.\n\n394\n00:19:49.780 --> 00:19:53.219\nSo that's why the value of running\nthe configuration validation wizard really\n\n395\n00:19:53.219 --> 00:19:53.790\nstands out.\n\n396\n00:19:53.790 --> 00:19:55.220\nIt's just something to be aware of.\n\n397\n00:19:55.220 --> 00:20:00.150\nMore specifically and more authoritatively\nthe right answer on an exam, if\n\n398\n00:20:00.150 --> 00:20:04.290\never asked, would always be, I never would\never try to configure a cluster without\n\n399\n00:20:04.290 --> 00:20:08.582\nfirst running the cluster validation\nwizard cuz that would not be a good idea.\n\n400\n00:20:08.582 --> 00:20:11.240\nAll right, so\nwe're going to click next here.\n\n401\n00:20:12.270 --> 00:20:14.470\nWe have to give our cluster a name.\n\n402\n00:20:14.470 --> 00:20:16.948\nSo again we do have some options here,\n\n403\n00:20:16.948 --> 00:20:21.220\nlet me just scroll down and make sure I\nremember what I wanna call my cluster.\n\n404\n00:20:21.220 --> 00:20:25.125\nAll right, so\nI'm gonna call my cluster Clusty.\n\n405\n00:20:25.125 --> 00:20:29.195\nNo I'm not going to call it that,\nall right so PLABCL1.\n\n406\n00:20:29.195 --> 00:20:35.745\nJust PLAB, short for the name of our\ndomain and the CL1 for cluster one.\n\n407\n00:20:35.745 --> 00:20:37.502\nYou can call it anything\nyou'd like of course.\n\n408\n00:20:37.502 --> 00:20:39.384\nBut I'm gonna put my name in there and\n\n409\n00:20:39.384 --> 00:20:42.792\nthen you'll notice here that we\ndo already have an address range.\n\n410\n00:20:42.792 --> 00:20:46.462\nThe net biostand by the way, is limited\nto 15 characters just so you know that.\n\n411\n00:20:46.462 --> 00:20:49.463\nBut that's a pretty standard\nMicrosoft thing just so you know.\n\n412\n00:20:49.463 --> 00:20:50.649\nWhat would we have done?\n\n413\n00:20:50.649 --> 00:20:52.646\nWe never had any bios?\n\n414\n00:20:52.646 --> 00:20:54.706\n&gt;&gt; We would never have made it this far.\n\n415\n00:20:54.706 --> 00:20:56.076\n&gt;&gt; I think we have made\nit this far quicker.\n\n416\n00:20:56.076 --> 00:20:57.436\nThat's what I think would've happened.\n\n417\n00:20:57.436 --> 00:20:59.566\nIt just would've been named\nsomething much longer along the way.\n\n418\n00:20:59.566 --> 00:21:04.252\nAll right, so one or more IPv4 addresses\ncould not be configured automatically.\n\n419\n00:21:04.252 --> 00:21:06.940\nIt's the little prompt there,\nfor each network to be used,\n\n420\n00:21:06.940 --> 00:21:10.030\nmake sure the network is selected and\nthen type an address.\n\n421\n00:21:10.030 --> 00:21:15.276\nAnd you'll see we have a network address\nblock there of, 192 and 6800/24.\n\n422\n00:21:15.276 --> 00:21:17.598\nSo we have a subnet block but obviously,\n\n423\n00:21:17.598 --> 00:21:22.350\nit's asking us specifically to type in\nan address or to put something in there.\n\n424\n00:21:22.350 --> 00:21:29.213\nSo, in the address column, we're gonna\nput in, Here just click there and\n\n425\n00:21:29.213 --> 00:21:33.868\nyou'll see when they click it kinda puts\nin the starting block on that address 0.0,\n\n426\n00:21:33.868 --> 00:21:37.170\nit says okay essentially\nwhat's gonna be this address.\n\n427\n00:21:37.170 --> 00:21:42.788\nI'm gonna go ahead and I'm going to\nuse 25 in my fourth octet there.\n\n428\n00:21:42.788 --> 00:21:46.455\nAll right, so we're gonna provide that\naddress, that's the access point for\n\n429\n00:21:46.455 --> 00:21:47.833\nadministering the cluster.\n\n430\n00:21:47.833 --> 00:21:50.672\nIn other the words, that's the address for\nassigning that we're gonna use to be able\n\n431\n00:21:50.672 --> 00:21:52.170\nto connect to the cluster and\nwork with it.\n\n432\n00:21:52.170 --> 00:21:53.750\nSo just wanna make sure\nwe're aware of that.\n\n433\n00:21:53.750 --> 00:21:58.495\nAll right, we're gonna click next,\ngive that just a second,\n\n434\n00:21:58.495 --> 00:22:01.535\njust validating, making sure we\ndon't have an IP conflict out there.\n\n435\n00:22:01.535 --> 00:22:05.015\nMike is not getting when I wasn't looking,\nalready it took that address,\n\n436\n00:22:05.015 --> 00:22:06.573\nit's already got that running.\n\n437\n00:22:06.573 --> 00:22:10.182\nWe may have run into a bit of an issue,\nso glad that that was not the case.\n\n438\n00:22:10.182 --> 00:22:12.899\nWe keep him busy with Mountain Dew\nwhen he's not on the camera.\n\n439\n00:22:12.899 --> 00:22:15.394\nSo he's off in the corner not paying\nattention on what's happening.\n\n440\n00:22:15.394 --> 00:22:16.282\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n441\n00:22:16.282 --> 00:22:19.060\nyou'll see there that we do not\nhave an IP address conflict.\n\n442\n00:22:19.060 --> 00:22:22.211\nThen you know all kidding aside, that is\nactually a really important thing because\n\n443\n00:22:22.211 --> 00:22:25.891\nwhen we just choose that address, if we're\nnot working with the networking team.\n\n444\n00:22:25.891 --> 00:22:28.311\nLet's say hypothetically\nin the organization and\n\n445\n00:22:28.311 --> 00:22:32.561\nwe pull an address out of something\nthat in theory should be available but\n\n446\n00:22:32.561 --> 00:22:35.729\nperhaps is assigned, we would run\ninto a conflict, we'd have an error.\n\n447\n00:22:35.729 --> 00:22:37.580\nIt's not the end of the world,\nwe could fix that.\n\n448\n00:22:37.580 --> 00:22:39.940\nBut we'd have to make another\nchoice which would delay and\n\n449\n00:22:39.940 --> 00:22:41.826\njust you know cause\nfurther considerations.\n\n450\n00:22:41.826 --> 00:22:44.416\nSo we just wanna make sure\nwe're thinking ahead and\n\n451\n00:22:44.416 --> 00:22:47.788\ntrying to take advantage of as much\nplanning as possible up front so\n\n452\n00:22:47.788 --> 00:22:51.200\nthat we really don't run into\na lot of these delays and issues.\n\n453\n00:22:51.200 --> 00:22:54.080\nAll right, so you'll see there we've\ngot just a little summary of what\n\n454\n00:22:54.080 --> 00:22:54.860\nwe're gonna do.\n\n455\n00:22:54.860 --> 00:22:59.150\nGot the name of the cluster, the node,\nthe nodes, I should say, right, listed.\n\n456\n00:22:59.150 --> 00:23:01.670\nThe IP address for management.\n\n457\n00:23:01.670 --> 00:23:05.850\nAdd all eligible storage to the cluster,\nnotice that its checked off by default.\n\n458\n00:23:05.850 --> 00:23:07.200\nWhatever cluster is available and\n\n459\n00:23:07.200 --> 00:23:10.900\nmounted, that is shared in common\nwith them be made available.\n\n460\n00:23:10.900 --> 00:23:14.010\nProbably wanna do that,\nbecause that way we're going to have\n\n461\n00:23:14.010 --> 00:23:16.090\nresources that we can\nactually make available.\n\n462\n00:23:16.090 --> 00:23:19.060\nOtherwise, well you know its gonna be a\nvery short trip to fit in the cluster and\n\n463\n00:23:19.060 --> 00:23:21.240\nnot have anything to show for\nit at the end of the day.\n\n464\n00:23:21.240 --> 00:23:22.490\nSo that is the default choice.\n\n465\n00:23:22.490 --> 00:23:24.920\nRemember we are creating\na fail-over cluster for storage.\n\n466\n00:23:24.920 --> 00:23:26.460\nSo just be aware of that,\nwe'll click next.\n\n467\n00:23:26.460 --> 00:23:30.220\nAll right, so that takes a moment\njust to go do its configuration.\n\n468\n00:23:30.220 --> 00:23:32.660\nYou could see here,\nwaiting for notification.\n\n469\n00:23:32.660 --> 00:23:34.820\nIt's forming the cluster,\nso it's starting to do it.\n\n470\n00:23:34.820 --> 00:23:37.240\nSo it is good about telling\nus what is happening there.\n\n471\n00:23:37.240 --> 00:23:40.680\nIP address is being signed,\nwe're encrypting, we're configuring,\n\n472\n00:23:40.680 --> 00:23:44.670\nwe're waiting on cluster group to\ncome online, storage to be mounted.\n\n473\n00:23:44.670 --> 00:23:46.338\nSo, there's a lot of stuff\nhappening behind the scenes.\n\n474\n00:23:46.338 --> 00:23:47.527\nIt doesn't take too long,\n\n475\n00:23:47.527 --> 00:23:50.740\nyou could see we're just about done\nas we're sitting here, there we go.\n\n476\n00:23:50.740 --> 00:23:53.401\nWe have successfully\ncreated the cluster and\n\n477\n00:23:53.401 --> 00:23:57.190\nanother great [COUGH] An icon that\nmatches our expectation here.\n\n478\n00:23:57.190 --> 00:24:01.823\nThat's like the international sign for\nproblem and warning, but we're successful.\n\n479\n00:24:01.823 --> 00:24:06.144\nNo smiley face, no attaboy, no good job,\njust, yeah, you're successful, but\n\n480\n00:24:06.144 --> 00:24:09.190\nwe're gonna trick you into\nthinking there was a problem.\n\n481\n00:24:09.190 --> 00:24:12.319\n&gt;&gt; I was fully expecting TV timeout,\nwe've got a problem, Houston.\n\n482\n00:24:12.319 --> 00:24:15.302\n&gt;&gt; Well, so there is a warning,\nwhich is why we do SQL warning there,\n\n483\n00:24:15.302 --> 00:24:17.808\nbut it says there was an error creating,\nconfiguring,\n\n484\n00:24:17.808 --> 00:24:20.820\nor bringing online the physical\ndisk resource cluster, disk 1.\n\n485\n00:24:20.820 --> 00:24:23.740\nWarning, resource cluster disk\n1 is not being considered for\n\n486\n00:24:23.740 --> 00:24:26.940\nthe disk witness because resource\nis not valid as you just witnessed.\n\n487\n00:24:26.940 --> 00:24:30.260\nNow that error is misleading cuz\nthere's really not an error.\n\n488\n00:24:30.260 --> 00:24:34.100\nWhat happens is we try to bring that\nonline, assign the witness role to it, and\n\n489\n00:24:34.100 --> 00:24:37.770\nit's not suitable for that, so it\nessentially says, okay, I can't do that.\n\n490\n00:24:37.770 --> 00:24:40.350\nBut, you'll notice that we're still\nsuccessful in creating it cuz\n\n491\n00:24:40.350 --> 00:24:42.020\nwe could always deal\nwith that after the fact.\n\n492\n00:24:42.020 --> 00:24:43.947\nSo it's not actually a real big deal, but\n\n493\n00:24:43.947 --> 00:24:47.584\nit's good to at least check under the\nhood, take a look at the documentation or\n\n494\n00:24:47.584 --> 00:24:50.859\nwhatever output may be there, and\nto understand what we're seeing.\n\n495\n00:24:50.859 --> 00:24:53.110\nSo it's good just to be aware of that.\n\n496\n00:24:53.110 --> 00:24:55.702\nWe do get that error about the disk,\nbut that's not a big deal.\n\n497\n00:24:55.702 --> 00:24:59.130\nWe're gonna set that up, I've set this up\nin terms of the demo in such a way that\n\n498\n00:24:59.130 --> 00:25:01.960\nwe'll set that up later and\nshow you how to deal with that.\n\n499\n00:25:01.960 --> 00:25:06.020\nThat's why we see that now, that's just\nme dragging out my number of episodes so\n\n500\n00:25:06.020 --> 00:25:07.550\nwe have more episodes to do.\n\n501\n00:25:07.550 --> 00:25:11.330\nBut oftentimes you will actually wanna\nconfigure this manually at some point and\n\n502\n00:25:11.330 --> 00:25:13.290\nassign it later, so\nit's good to see how to do that.\n\n503\n00:25:13.290 --> 00:25:15.030\nWe're gonna do that in\nan upcoming episode, but\n\n504\n00:25:15.030 --> 00:25:16.010\nthat's why we're getting that.\n\n505\n00:25:16.010 --> 00:25:19.420\nSo normally you may or may not see\nthat as you run through this, and\n\n506\n00:25:19.420 --> 00:25:20.400\nit's not a big deal if you do.\n\n507\n00:25:20.400 --> 00:25:23.345\nI'm gonna show you how to deal with\nit later, if you don't see it and\n\n508\n00:25:23.345 --> 00:25:26.025\nyou're happy with the results and\nthe choices that the system made,\n\n509\n00:25:26.025 --> 00:25:27.345\nthen you're good, no big deal.\n\n510\n00:25:27.345 --> 00:25:28.888\nBut you will get a chance to see that,\nso just so\n\n511\n00:25:28.888 --> 00:25:30.918\nyou know why we're getting that and\nwhat's going on there.\n\n512\n00:25:30.918 --> 00:25:34.301\nAll right, so now let's just click finish,\nby the way, same thing,\n\n513\n00:25:34.301 --> 00:25:36.735\nwe can view the report there and\njust get that report.\n\n514\n00:25:36.735 --> 00:25:40.775\nCertainly take a look there, you wanna go\nthrough and just see kind of what it did.\n\n515\n00:25:40.775 --> 00:25:43.215\nWe do have log files for\nall this stuff as well by the way, so\n\n516\n00:25:43.215 --> 00:25:44.275\nyou can take a look at all that.\n\n517\n00:25:44.275 --> 00:25:45.350\nAll right, so we're gonna click Finish.\n\n518\n00:25:45.350 --> 00:25:49.063\nAll right, so now give that just a minute\nit kinda updates the management interface\n\n519\n00:25:49.063 --> 00:25:51.822\nhere, goes through and\nall of a sudden everything changes and\n\n520\n00:25:51.822 --> 00:25:53.960\nwe actually have a cluster\nwhich is kinda cool.\n\n521\n00:25:53.960 --> 00:25:58.091\nAll right, so we do have our cluster\nwe just move this over here so\n\n522\n00:25:58.091 --> 00:26:01.045\nwe can See the edge of that right there?\n\n523\n00:26:01.045 --> 00:26:05.092\nAll right, so you'll see that we\ndo now have rolls, we have notes,\n\n524\n00:26:05.092 --> 00:26:06.875\nwe have storage, networks.\n\n525\n00:26:06.875 --> 00:26:10.735\nWe have cluster events so the time with\nthe event logs is nice because we have\n\n526\n00:26:10.735 --> 00:26:14.735\na separate item here that we can actually\njust go in and drill down on specifically,\n\n527\n00:26:14.735 --> 00:26:17.070\nand start to look at\nwhat is happening there.\n\n528\n00:26:17.070 --> 00:26:19.760\nSo that's nice, we do have storage.\n\n529\n00:26:19.760 --> 00:26:24.044\nSo we have our disks that we can see here,\nlike cluster disk 1 has not been mounted\n\n530\n00:26:24.044 --> 00:26:27.610\nas we know, you see disk 2 and\ndisk 3 have been brought online.\n\n531\n00:26:27.610 --> 00:26:28.850\nGot a total of 5 and\n\n532\n00:26:28.850 --> 00:26:32.660\na half gigs of available space\nright now as you could see there.\n\n533\n00:26:32.660 --> 00:26:36.048\nYou'll see the disk witness in the quorum\nwas assigned to cluster disk 2,\n\n534\n00:26:36.048 --> 00:26:39.370\nbecause cluster disk 1 failed\nthat capability check.\n\n535\n00:26:39.370 --> 00:26:43.860\nAvailable storage, 500 megs available for\nshared storage right now.\n\n536\n00:26:43.860 --> 00:26:45.470\nYou'll see that we can go in.\n\n537\n00:26:46.650 --> 00:26:48.000\nWe don't have a pool created yet,\n\n538\n00:26:48.000 --> 00:26:50.890\nbut we can certainly add\nstorage pools if we choose to.\n\n539\n00:26:50.890 --> 00:26:55.190\nWe can see here that we do have our\ncluster networks available, one for\n\n540\n00:26:55.190 --> 00:26:57.500\ncluster only,\nwhich is our management network.\n\n541\n00:26:57.500 --> 00:27:00.110\nThe other one for clustering client\nwhere we allow people to interact and\n\n542\n00:27:00.110 --> 00:27:02.770\nconsume resources, so we can see that.\n\n543\n00:27:02.770 --> 00:27:07.390\nWe do have our nodes here, see both\nnodes here, status up, so that's good.\n\n544\n00:27:07.390 --> 00:27:10.110\nAnd you'll see each one\nhas an assigned vote.\n\n545\n00:27:10.110 --> 00:27:12.810\nWe need the witness because we have an\neven number, so we talked about that and\n\n546\n00:27:12.810 --> 00:27:14.150\nwe can see that.\n\n547\n00:27:14.150 --> 00:27:18.690\nAnd right now you will see here we\ndon't have any roles configured but\n\n548\n00:27:18.690 --> 00:27:20.520\nwe could certainly set\nup roles if we need to.\n\n549\n00:27:20.520 --> 00:27:22.410\nWe'll talk about that as we go as well.\n\n550\n00:27:22.410 --> 00:27:27.030\nThe basic blocking and tackling,\nif you will, of cluster management and\n\n551\n00:27:27.030 --> 00:27:32.035\nconfiguration has been set up,\nback on kind of the overview summary page.\n\n552\n00:27:32.035 --> 00:27:35.595\nInside the manager, you'll see here\nwe do have the name of the cluster,\n\n553\n00:27:35.595 --> 00:27:37.435\nwe do have the cluster host server.\n\n554\n00:27:37.435 --> 00:27:40.572\nSome recently found errors, those just\ndeal with the configuration of the disk.\n\n555\n00:27:40.572 --> 00:27:43.682\nBut that points to the cluster events\nover here where we just worked.\n\n556\n00:27:43.682 --> 00:27:46.422\nYou'll see the networks,\nyou'll see the sub nets,\n\n557\n00:27:46.422 --> 00:27:51.477\nright no IPv6 currently but IPv4 and then\nwe have UR short cuts to configure and\n\n558\n00:27:51.477 --> 00:27:56.852\ndo a variety of things including access to\nsupport topics on the web which is nice.\n\n559\n00:27:56.852 --> 00:27:58.744\nWe have some short cuts for navigation.\n\n560\n00:27:58.744 --> 00:28:01.772\nAll of these, by the way these shortcuts,\nthey just point to the areas we\n\n561\n00:28:01.772 --> 00:28:04.800\njust took a quick tour through so\nthey're easy to navigate around.\n\n562\n00:28:04.800 --> 00:28:08.180\nAnd then we have our cluster\nresource area down here.\n\n563\n00:28:08.180 --> 00:28:12.810\nWe can open up and take a look,\nalmost like a disk explorer, right,\n\n564\n00:28:12.810 --> 00:28:14.670\nwhere we can see the disks right there.\n\n565\n00:28:14.670 --> 00:28:18.976\nCluster disk 2 we can drill in and\nsee if the 5 gigs that are available, or\n\n566\n00:28:18.976 --> 00:28:22.220\nthe 5 gigs are mounted,\nalmost 5 gigs almost totally available.\n\n567\n00:28:22.220 --> 00:28:23.480\nWe can see it there.\n\n568\n00:28:23.480 --> 00:28:26.110\nSo, we can kind of see right there,\nwe can highlight and\n\n569\n00:28:26.110 --> 00:28:29.660\nchange drive letter, want to mount\nit to something other than v.\n\n570\n00:28:29.660 --> 00:28:32.860\nPotentially, I created that\ncluster shared volume mount point,\n\n571\n00:28:32.860 --> 00:28:36.290\nand gave it a drive letter when i set\nup the storage before we did this.\n\n572\n00:28:36.290 --> 00:28:38.170\nYou can change the drive\nletter if you want to.\n\n573\n00:28:38.170 --> 00:28:40.770\nSome people have a preference,\nthey just don't like the letter v.\n\n574\n00:28:40.770 --> 00:28:42.690\nSo, if you want to do that,\nyou can do that.\n\n575\n00:28:42.690 --> 00:28:45.200\nBut you can see,\nwe also have the server name.\n\n576\n00:28:45.200 --> 00:28:47.700\nDown here for the name of the cluster, and\n\n577\n00:28:47.700 --> 00:28:50.890\nyou can see down there the address\nassigned to it for IP.\n\n578\n00:28:50.890 --> 00:28:53.940\nAs we talked about,\nnotice I can bring the cluster online or\n\n579\n00:28:53.940 --> 00:28:55.720\ntake it offline right from here.\n\n580\n00:28:55.720 --> 00:28:59.360\nI can look at events,\nI can remove, look at properties.\n\n581\n00:28:59.360 --> 00:29:03.340\nSimulate a failure, so if we wanna see\nwhat'll happen, so we do some planning for\n\n582\n00:29:03.340 --> 00:29:05.650\nBCDR and things of that nature here.\n\n583\n00:29:05.650 --> 00:29:07.980\nSo it's nice that I can\ntake a look at all of that.\n\n584\n00:29:07.980 --> 00:29:09.500\nI can go into properties and, of course,\n\n585\n00:29:09.500 --> 00:29:12.490\nI can see and potentially change\nthat address if I need to.\n\n586\n00:29:12.490 --> 00:29:16.415\nDHCP can be used,\nalthough we recommend static addressing so\n\n587\n00:29:16.415 --> 00:29:17.927\nyou can see that there.\n\n588\n00:29:17.927 --> 00:29:22.267\nAnd we can take a look at any dependencies\nthat may be here specifying resources\n\n589\n00:29:22.267 --> 00:29:26.990\nthat need to be brought online before\nother resources can be brought online.\n\n590\n00:29:26.990 --> 00:29:29.900\nSo dependency support\nchain can be set up here.\n\n591\n00:29:29.900 --> 00:29:34.420\nWe do have although we don't have any\nspecific policies that we're really\n\n592\n00:29:34.420 --> 00:29:38.180\nworking against, but you'll see here\nResources failed, attempt restart on.\n\n593\n00:29:38.180 --> 00:29:41.790\nWe have some settings around\njust restart capabilities here.\n\n594\n00:29:41.790 --> 00:29:45.229\nFail over the resources in this\nrole to another node if resource,\n\n595\n00:29:45.229 --> 00:29:47.240\nrather if restart was unsuccessful.\n\n596\n00:29:47.240 --> 00:29:48.700\nWe have that automated here.\n\n597\n00:29:48.700 --> 00:29:51.960\nSo we have some basic\ninformation management.\n\n598\n00:29:51.960 --> 00:29:54.410\nAnd then we do have the ability to go and\ndrill down and\n\n599\n00:29:54.410 --> 00:29:58.290\nbe a little bit more specific and\nadvanced here if we chose to by creating\n\n600\n00:29:58.290 --> 00:30:01.460\nessentially a node by node\npolicy surrounding the failover.\n\n601\n00:30:01.460 --> 00:30:03.730\nSo we can go in and\ndeal with this as well.\n\n602\n00:30:03.730 --> 00:30:08.140\nAll from the properties of the cluster\nnode IP ,so right down here.\n\n603\n00:30:08.140 --> 00:30:11.540\nSo that's kinda nice,\nyou'll get acquainted with what's here and\n\n604\n00:30:11.540 --> 00:30:12.890\njust see what's happening.\n\n605\n00:30:12.890 --> 00:30:14.920\nSo we'll spend more time in here and\ngo through and\n\n606\n00:30:14.920 --> 00:30:17.970\nobviously deal with this\nin upcoming episodes.\n\n607\n00:30:17.970 --> 00:30:21.270\nBut if we do need to view that validation\nreport like Mike was suggesting, from\n\n608\n00:30:21.270 --> 00:30:25.130\na documentation perspective notice there's\na link right there up under actions so\n\n609\n00:30:25.130 --> 00:30:28.270\nthat we can see that report after\nthe fact, it's nice to bring that back.\n\n610\n00:30:28.270 --> 00:30:30.870\nSo we do have that capability there.\n\n611\n00:30:30.870 --> 00:30:33.689\nAnd so\nwe do have all of the things we need to be\n\n612\n00:30:33.689 --> 00:30:36.217\nable to work with the cluster in place.\n\n613\n00:30:36.217 --> 00:30:40.310\nIn our upcoming conversation or\nin our next episode, I should say.\n\n614\n00:30:40.310 --> 00:30:43.674\nWe'll delve a little deeper in here, we'll\nbe able to go through and set up a quorum,\n\n615\n00:30:43.674 --> 00:30:46.840\na disk and the cluster shared volume since\nwe'll kind of opt out of that for now.\n\n616\n00:30:46.840 --> 00:30:49.393\nAnd then we'll do that in one of\nour upcoming conversations, so\n\n617\n00:30:49.393 --> 00:30:50.515\nwe'll take a look at that.\n\n618\n00:30:50.515 --> 00:30:53.469\nWe'll be able to go in and\nmanipulate storage a little bit, and\n\n619\n00:30:53.469 --> 00:30:57.000\nwe'll talk some more about what all\nthe other moving parts and pieces are.\n\n620\n00:30:57.000 --> 00:31:00.116\nAnd then just kinda continue our\njourney through setting up and\n\n621\n00:31:00.116 --> 00:31:03.938\nconfiguring the cluster shared, or\nexcuse me, the failover clustering and\n\n622\n00:31:03.938 --> 00:31:06.420\nthe cluster shared volumes and\nall the storage.\n\n623\n00:31:06.420 --> 00:31:08.500\nSo that will be for an upcoming episode.\n\n624\n00:31:08.500 --> 00:31:10.980\n&gt;&gt; All right, sounds like a plan,\nAdam, I like it.\n\n625\n00:31:10.980 --> 00:31:13.490\nWe got it set up,\nwe've got a little bit more work to do.\n\n626\n00:31:13.490 --> 00:31:16.750\nBut we will be back with\nanother episode to cover that.\n\n627\n00:31:16.750 --> 00:31:20.840\nBut for this one, signing off for ITProTV,\nI've been your host Mike Rodrick.\n\n628\n00:31:20.840 --> 00:31:22.190\n&gt;&gt; I'm Adam Gordon.\n\n629\n00:31:22.190 --> 00:31:22.841\n&gt;&gt; And we'll see you next time.\n\n630\n00:31:22.841 --> 00:31:30.740\n[MUSIC]\n\n631\n00:31:30.740 --> 00:31:32.701\n&gt;&gt; Thank you for watching ITPRO TV.\n\n",
          "vimeoId": "238769503"
        },
        {
          "description": "Adam and Mike continue the configuration of the failover cluster, discussing the use of Cluster Shared Volumes and how to add iSCSI storage for use in the cluster. In addition, the use of the Cluster Quorum Settings Wizard is demonstrated.",
          "length": "2635",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-3-configure_failover_clustering_pt3-101917-PGM.00_46_19_07.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-3-configure_failover_clustering_pt3-101917-PGM.00_46_19_07.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-3-configure_failover_clustering_pt3-101917-PGM.00_46_19_07.Still001-sm.jpg",
          "title": "Configure Failover Clustering Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.130 --> 00:00:01.411\nWelcome to ITProTV.\n\n2\n00:00:01.411 --> 00:00:03.241\nI'm your host, Don Pezet.\n\n3\n00:00:03.241 --> 00:00:04.483\n&gt;&gt; We're creating vector graphics here.\n\n4\n00:00:04.483 --> 00:00:06.886\n&gt;&gt; Coming at you live from San Francisco,\nCalifornia-\n\n5\n00:00:06.886 --> 00:00:08.393\n&gt;&gt; [CROSSTALK]\n\n6\n00:00:08.393 --> 00:00:12.450\n&gt;&gt; You're watching ITProTV.\n\n7\n00:00:12.450 --> 00:00:16.113\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n8\n00:00:16.113 --> 00:00:17.310\nI'm your host, Mike Rodrick.\n\n9\n00:00:17.310 --> 00:00:22.150\nAnd today, we're doing our Windows Server\n2012 R2 in preparation for\n\n10\n00:00:22.150 --> 00:00:24.280\nthat 70-412 exam.\n\n11\n00:00:24.280 --> 00:00:27.120\nSpecifically, in this episode, we're\nactually continuing our thought process.\n\n12\n00:00:27.120 --> 00:00:28.340\nWe've had a part one, part two.\n\n13\n00:00:28.340 --> 00:00:32.266\nThis is a part three on\nconfiguring failover clustering.\n\n14\n00:00:32.266 --> 00:00:34.090\nAnd we've kinda made some good progress.\n\n15\n00:00:34.090 --> 00:00:35.040\nWe've set up a cluster.\n\n16\n00:00:35.040 --> 00:00:36.000\nWe've added some nodes.\n\n17\n00:00:36.000 --> 00:00:39.580\nWe got a little more to do before we can\ntest it out and show its functionality.\n\n18\n00:00:39.580 --> 00:00:41.920\nAnd here to show us the way is Mr.\nAdam Gordon.\n\n19\n00:00:41.920 --> 00:00:42.960\nWelcome back, Adam.\n\n20\n00:00:42.960 --> 00:00:45.910\n&gt;&gt; Hello, failover clustering part three.\n\n21\n00:00:45.910 --> 00:00:46.730\n&gt;&gt; Yep.\n&gt;&gt; We did,\n\n22\n00:00:46.730 --> 00:00:49.870\nas you talked about in part two,\nreally kinda end up, right,\n\n23\n00:00:49.870 --> 00:00:54.250\nat the end of the last episode, not just\nwith the cluster validated and configured.\n\n24\n00:00:54.250 --> 00:00:56.771\nBut we had actually added storage,\nalthough not quite.\n\n25\n00:00:56.771 --> 00:00:58.920\nAs you said, we're gonna play\naround in there in a minute.\n\n26\n00:00:58.920 --> 00:01:01.450\nBut we've done a couple of really\nimportant things I just wanna remind you\n\n27\n00:01:01.450 --> 00:01:03.860\nof as we get started with episode three.\n\n28\n00:01:03.860 --> 00:01:07.520\nBecause, especially if you haven’t\nwatched episode two as we built out\n\n29\n00:01:07.520 --> 00:01:10.800\nthe cluster and initialized it, you won’t\nreally have a sense of where we are and\n\n30\n00:01:10.800 --> 00:01:12.360\nwhy we’re where we are, right?\n\n31\n00:01:12.360 --> 00:01:14.270\nSo we went through and we ran.\n\n32\n00:01:14.270 --> 00:01:16.821\nIf you join me here, by the way,\njust join me on the screen so\n\n33\n00:01:16.821 --> 00:01:19.230\nwe can kinda talk through\nthe logic of what we did.\n\n34\n00:01:19.230 --> 00:01:25.210\nWe installed and\nset up the initial configuration.\n\n35\n00:01:25.210 --> 00:01:28.910\nAnd let me just make this a little\nbigger so you could see this, cuz-\n\n36\n00:01:28.910 --> 00:01:29.532\n&gt;&gt; Thank you, I was just, [LAUGH]-\n\n37\n00:01:29.532 --> 00:01:30.180\n&gt;&gt; As I was gonna say,\n\n38\n00:01:30.180 --> 00:01:32.080\nMike has no idea what's on there.\n\n39\n00:01:32.080 --> 00:01:33.299\nHe can't see what it is.\n&gt;&gt; I see a little yellow and\n\n40\n00:01:33.299 --> 00:01:35.418\na little bit of white and-\n&gt;&gt; There's something there, but\n\n41\n00:01:35.418 --> 00:01:36.478\nI can't tell what it is, right?\n\n42\n00:01:36.478 --> 00:01:39.346\nSo we used PowerShell,\nor I used PowerShell,\n\n43\n00:01:39.346 --> 00:01:42.990\nas we often do,\nAdd-WindowsFeature cmdlet, right?\n\n44\n00:01:42.990 --> 00:01:48.130\nWe went in, specified the failover\nclustering feature, so we set that up.\n\n45\n00:01:48.130 --> 00:01:51.920\nWe included management tools,\nas you can see, included subfeatures.\n\n46\n00:01:51.920 --> 00:01:53.900\nSo that way,\nwe have a complete installation.\n\n47\n00:01:53.900 --> 00:01:57.950\nWe did this on both nodes that\nare contributing to the cluster, PLABDM0,\n\n48\n00:01:57.950 --> 00:02:00.930\nthe node I'm on, PLABSA01, the other node.\n\n49\n00:02:00.930 --> 00:02:05.230\nSo essentially, the same configuration,\nright, initially is done on both.\n\n50\n00:02:05.230 --> 00:02:09.550\nThe netsh commands up above are just\nto set some IP interface information,\n\n51\n00:02:09.550 --> 00:02:10.470\nDNS, etc.\n\n52\n00:02:10.470 --> 00:02:14.280\nSo that's just some background stuff to\nmake sure that we're able communicate.\n\n53\n00:02:14.280 --> 00:02:17.460\nYou may or may not do that in your\nworld as you're setting up the cluster.\n\n54\n00:02:17.460 --> 00:02:21.360\nSo I'm not really spending time on\njust the logic of that right now.\n\n55\n00:02:21.360 --> 00:02:22.150\nSo we've done all that.\n\n56\n00:02:23.200 --> 00:02:25.558\nThen we go in Server Manager.\n\n57\n00:02:25.558 --> 00:02:28.158\nWe open up\nthe Failover Cluster Manager MMC.\n\n58\n00:02:28.158 --> 00:02:31.280\nSo assume I've gone to\nServer Manager on each node.\n\n59\n00:02:31.280 --> 00:02:34.880\nAfter I have done this,\npick the node that I'm gonna manage from.\n\n60\n00:02:34.880 --> 00:02:36.882\nMike and I were talking,\nI think, in the last episode.\n\n61\n00:02:36.882 --> 00:02:38.188\nDoes it have to be one or the other?\n\n62\n00:02:38.188 --> 00:02:41.838\nIt's just a matter of which one you go to\nand choose to do the configuration from.\n\n63\n00:02:41.838 --> 00:02:44.020\nBut you're not gonna open it on\nboth nodes at the same time.\n\n64\n00:02:44.020 --> 00:02:49.417\nSo we picked one, in this case, PLABDM01,\nopened up the Failover Cluster Manager.\n\n65\n00:02:49.417 --> 00:02:50.638\nYou see the console there.\n\n66\n00:02:50.638 --> 00:02:54.750\nAnd if you remember, in the last episode,\nfirst thing we did was come up here.\n\n67\n00:02:56.620 --> 00:02:59.662\nAnd we validated at the root in\nthe Failover Cluster Manager,\n\n68\n00:02:59.662 --> 00:03:03.581\nnone of the structure that's there now\nwould be there, because, obviously,\n\n69\n00:03:03.581 --> 00:03:05.291\nwe haven't added it yet, right?\n\n70\n00:03:05.291 --> 00:03:08.110\nAnd so we validated the configuration.\n\n71\n00:03:08.110 --> 00:03:12.058\nThat's the part where we ask the Failover\nCluster Manager to run that series\n\n72\n00:03:12.058 --> 00:03:12.621\nof tests.\n\n73\n00:03:12.621 --> 00:03:17.682\nWe said, depending on whether you chose\nall tests, complete a thorough inspection,\n\n74\n00:03:17.682 --> 00:03:20.891\nor let me manually,\nessentially, opt in and select.\n\n75\n00:03:20.891 --> 00:03:22.419\nAnd we walked through the logic and\n\n76\n00:03:22.419 --> 00:03:26.130\nsaid, maybe I'm not running Fibre Channel\nas one of my storage options.\n\n77\n00:03:26.130 --> 00:03:28.720\nLet me deselect those tests\nbecause there's no reason for\n\n78\n00:03:28.720 --> 00:03:31.700\nme to run that if I'm not\nrunning that kind of storage.\n\n79\n00:03:31.700 --> 00:03:32.690\nSo we made our choices.\n\n80\n00:03:32.690 --> 00:03:35.280\nWe did a full sweep on all the tests.\n\n81\n00:03:35.280 --> 00:03:37.514\nWe did a quick cutaway, came back.\n\n82\n00:03:37.514 --> 00:03:42.089\nIt took about five, six minutes behind\nthe scenes for us to add a two-node or\n\n83\n00:03:42.089 --> 00:03:45.880\nset up a two-node configuration,\ntest both nodes, check and\n\n84\n00:03:45.880 --> 00:03:50.980\nvalidate the storage, the networking\nconfiguration, the roles, all the stuff.\n\n85\n00:03:50.980 --> 00:03:53.832\nWe'll remind you of what those\nthings are here in just a moment.\n\n86\n00:03:53.832 --> 00:03:57.163\nRemember, in the real world, as we said in\nthe last episode, if you're setting up,\n\n87\n00:03:57.163 --> 00:03:59.640\nand Mike, you even, I think,\nthrew out a comment about this.\n\n88\n00:03:59.640 --> 00:04:02.271\nOr maybe you and I were chatting\nabout it while we were waiting.\n\n89\n00:04:02.271 --> 00:04:05.091\nBut you said,\nin prior versions especially,\n\n90\n00:04:05.091 --> 00:04:08.370\nas you've set this up,\nif you have a lot of nodes.\n\n91\n00:04:08.370 --> 00:04:10.780\nRemember, now our maximum node count,\n64 nodes,\n\n92\n00:04:10.780 --> 00:04:15.050\nwhere before, we would've been\nlimited to 16 or 32 nodes or\n\n93\n00:04:15.050 --> 00:04:19.040\nsomething less than that, depending on\nthe versioning, but up to 64 nodes.\n\n94\n00:04:19.040 --> 00:04:22.941\nSo keep in mind, as we're specifying\nthe number of nodes that are gonna\n\n95\n00:04:22.941 --> 00:04:27.560\npotentially be involved in this cluster,\nand we're testing, we're gonna have,\n\n96\n00:04:27.560 --> 00:04:29.203\npotentially, a lot of time.\n\n97\n00:04:29.203 --> 00:04:32.401\nYou said it took several hours for you to\ndo one on, I think it was 2008 or 8 R2,\n\n98\n00:04:32.401 --> 00:04:33.433\nyou were saying, right?\n\n99\n00:04:33.433 --> 00:04:34.577\n&gt;&gt; 2008, yeah.\n\n100\n00:04:34.577 --> 00:04:35.740\n&gt;&gt; Yeah, so it could take a while.\n\n101\n00:04:35.740 --> 00:04:39.911\nYou may wanna plan some other activities\naround getting this stood up, have it off,\n\n102\n00:04:39.911 --> 00:04:41.096\nrunning in the corner.\n\n103\n00:04:41.096 --> 00:04:44.685\nAnd then you go off, do some other stuff,\nand come back, right, like maybe a small\n\n104\n00:04:44.685 --> 00:04:46.543\ntrip to a foreign country, right, for-\n&gt;&gt; [LAUGH]\n\n105\n00:04:46.543 --> 00:04:47.731\n&gt;&gt; A vacation or something,\n\n106\n00:04:47.731 --> 00:04:48.940\njust to pass-\n&gt;&gt; Singapore.\n\n107\n00:04:48.940 --> 00:04:49.921\n&gt;&gt; Yeah, whatever it might be.\n\n108\n00:04:49.921 --> 00:04:52.012\nJust have a plan, is all I'm suggesting.\n\n109\n00:04:52.012 --> 00:04:53.050\nAll right, so we did all that.\n\n110\n00:04:53.050 --> 00:04:56.050\nThen we saw the validation cluster report.\n\n111\n00:04:56.050 --> 00:04:58.800\nWe ran through that real quick,\nsaw the nice little interface.\n\n112\n00:04:58.800 --> 00:05:01.379\nWe said, it's kinda hard to\nsee that in the dialog box, so\n\n113\n00:05:01.379 --> 00:05:03.170\nlet's hit the View Report button.\n\n114\n00:05:03.170 --> 00:05:06.576\nBrought up that nice report,\nfullscreen walkthrough.\n\n115\n00:05:06.576 --> 00:05:07.380\nIt was pretty detailed.\n\n116\n00:05:07.380 --> 00:05:09.480\nIt just kept going and\ngoing, if you remember.\n\n117\n00:05:09.480 --> 00:05:12.210\nBut as we looked at some of the detail,\n\n118\n00:05:12.210 --> 00:05:17.330\nwe saw that literally every piece\nof information is documented there.\n\n119\n00:05:17.330 --> 00:05:21.795\nI made the suggestion, Mike has suggested\nat various points as well in our episodes,\n\n120\n00:05:21.795 --> 00:05:25.393\nthat that's a great thing to have\nfrom a documentation standpoint,\n\n121\n00:05:25.393 --> 00:05:29.859\nreally, to validate what you've done,\na BCDR standpoint, business continuity,\n\n122\n00:05:29.859 --> 00:05:30.994\ndisaster recovery.\n\n123\n00:05:30.994 --> 00:05:34.330\nHey, I've gotta recover and\nreconfigure that cluster.\n\n124\n00:05:34.330 --> 00:05:36.924\nDon't have a clue,\nbecause maybe I'm brand new.\n\n125\n00:05:36.924 --> 00:05:39.620\nAnd it's kind of a black-box solution for\nme.\n\n126\n00:05:39.620 --> 00:05:42.750\nMike set it up, and\nthen he is no longer here.\n\n127\n00:05:42.750 --> 00:05:45.757\nAnd all of a sudden,\nthis falls in my lap, potentially,\n\n128\n00:05:45.757 --> 00:05:49.831\nwhich is legitimately a scenario that can\nhappen to many of us as we either move\n\n129\n00:05:49.831 --> 00:05:53.301\nthrough job roles in a company,\nother people move up or move out.\n\n130\n00:05:53.301 --> 00:05:55.196\nOr you leave one company, go to another,\n\n131\n00:05:55.196 --> 00:05:58.560\nbecause that's a kind of thing\nthat does happen in our industry.\n\n132\n00:05:58.560 --> 00:06:01.599\nAnd as you take over infrastructure\nthat somebody else has built,\n\n133\n00:06:01.599 --> 00:06:05.084\nwe keep coming back to this idea of\nhow important documentation is, right?\n\n134\n00:06:05.084 --> 00:06:08.894\nIf you don't have good documentation\non something like this, which\n\n135\n00:06:08.894 --> 00:06:13.424\nwe've established is not the most complex\nthing in the world to set up, as you're\n\n136\n00:06:13.424 --> 00:06:17.909\nseeing as we walk through it, but is\nfairly detailed and fairly minutia driven.\n\n137\n00:06:17.909 --> 00:06:20.369\nAnd if you don't have all\nthat documentation and\n\n138\n00:06:20.369 --> 00:06:24.689\nreally understand exactly what was done,\nit's gonna be difficult to reproduce it.\n\n139\n00:06:24.689 --> 00:06:28.105\nAnd you're gonna be spending a lot of\nextra time chasing down what I call purple\n\n140\n00:06:28.105 --> 00:06:30.390\nsquirrels, right, things that don't exist-\n&gt;&gt; [LAUGH]\n\n141\n00:06:30.390 --> 00:06:32.132\n&gt;&gt; Or you think are a certain way, but\n\n142\n00:06:32.132 --> 00:06:36.157\nare then, obviously, as you find out\nlater, clearly designed to befuddle and\n\n143\n00:06:36.157 --> 00:06:39.842\nconfound you, but not necessarily to\nbe appropriate for what you need.\n\n144\n00:06:39.842 --> 00:06:42.530\nSo it's important to take a look at that.\n\n145\n00:06:42.530 --> 00:06:46.080\nWe then went ahead,\nhit the Create Cluster option there,\n\n146\n00:06:46.080 --> 00:06:47.490\nactually spun up the cluster.\n\n147\n00:06:47.490 --> 00:06:48.460\nThat was pretty quick.\n\n148\n00:06:48.460 --> 00:06:51.710\nIt's just a matter of adding in\nthe hosts that have been validated.\n\n149\n00:06:51.710 --> 00:06:56.450\nSo we provide the hostnames,\nPLABDM01, practicelabs.com,\n\n150\n00:06:56.450 --> 00:06:59.470\nPLABSA, 01practicelabs.com.\n\n151\n00:06:59.470 --> 00:07:02.510\nThat goes pretty quickly,\nassuming everything is connected.\n\n152\n00:07:02.510 --> 00:07:05.866\nAnd then, once we did all that,\nwe kinda wound up in the console here.\n\n153\n00:07:05.866 --> 00:07:10.030\nAnd we took a quick view of just some of\nthe options that were available to us.\n\n154\n00:07:10.030 --> 00:07:11.710\nWe saw the cluster was configured.\n\n155\n00:07:11.710 --> 00:07:14.490\nWe have the overview screen\nhere on the dashboard.\n\n156\n00:07:14.490 --> 00:07:17.385\nWe took a look at our networks,\nthe amount of subnets.\n\n157\n00:07:17.385 --> 00:07:19.089\nWe know we're running IPv4.\n\n158\n00:07:19.089 --> 00:07:23.004\nAlthough we do have IPv6 full support,\nwe're not initializing and\n\n159\n00:07:23.004 --> 00:07:25.210\nusing IPv6 in our case right now.\n\n160\n00:07:25.210 --> 00:07:26.191\nWell, we could do that.\n\n161\n00:07:26.191 --> 00:07:29.120\nWe have the name of our cluster,\nwhatever the named instance is.\n\n162\n00:07:29.120 --> 00:07:32.400\nYou name the cluster as part of\nthe configuration of the cluster\n\n163\n00:07:32.400 --> 00:07:33.520\nwhen you set it up.\n\n164\n00:07:33.520 --> 00:07:34.660\nWe have the host server.\n\n165\n00:07:34.660 --> 00:07:36.560\nThat's currently the one\nthat's being used to manage.\n\n166\n00:07:36.560 --> 00:07:40.325\nIt's designated there,\nany events that may be of interest to us.\n\n167\n00:07:40.325 --> 00:07:43.005\nRemember, we had that event for\nstorage not added correctly,\n\n168\n00:07:43.005 --> 00:07:45.405\ncuz we had one of the drives\nthat was not configured.\n\n169\n00:07:45.405 --> 00:07:48.041\nSo we saw that, so\nwe know that's what's going on.\n\n170\n00:07:48.041 --> 00:07:49.818\nAnd then we have the witness identified,\n\n171\n00:07:49.818 --> 00:07:51.965\nwhatever the cluster disk\nis that is the witness.\n\n172\n00:07:51.965 --> 00:07:55.766\nSo we've got all that there, so it means\nyou can file share for the witness.\n\n173\n00:07:55.766 --> 00:07:58.768\nWe have all that and\nthen we add our little shortcuts here,\n\n174\n00:07:58.768 --> 00:08:01.550\nclick on various things\nto do various actions.\n\n175\n00:08:01.550 --> 00:08:04.490\nAnd then, we took a look at the that fact\nalthough we don't have any roles right\n\n176\n00:08:04.490 --> 00:08:07.070\nnow, we'll be assigning these\nin an upcoming episode.\n\n177\n00:08:07.070 --> 00:08:09.940\nWe do have the ability to\nconfigure roles to make them\n\n178\n00:08:09.940 --> 00:08:12.660\nassociated with the cluster and\nhave them become highly available.\n\n179\n00:08:12.660 --> 00:08:16.390\nWe'll take a look at how to do that\nwith file storage or file share role.\n\n180\n00:08:16.390 --> 00:08:17.260\nWe do have nodes.\n\n181\n00:08:17.260 --> 00:08:19.580\nWe identify the nodes that\nare making up the cluster.\n\n182\n00:08:19.580 --> 00:08:21.170\nWe see both nodes are in an up status.\n\n183\n00:08:21.170 --> 00:08:21.970\nThat's good.\n\n184\n00:08:21.970 --> 00:08:23.130\nEach one has a vote.\n\n185\n00:08:23.130 --> 00:08:25.610\nWe have two nodes, two votes.\n\n186\n00:08:25.610 --> 00:08:29.060\nRemember we talked about this with\nquorum and the witness, an odd number.\n\n187\n00:08:29.060 --> 00:08:30.860\nAs a result,\nwe have the file share witness, or\n\n188\n00:08:30.860 --> 00:08:33.260\nthe witness that's available\nto do the tie break for us.\n\n189\n00:08:33.260 --> 00:08:34.810\nSo we talked through all that.\n\n190\n00:08:34.810 --> 00:08:36.260\nWe could see that each node,\n\n191\n00:08:36.260 --> 00:08:41.200\nwhichever one it is we do have an ability\nto kind of profile the node a little bit.\n\n192\n00:08:41.200 --> 00:08:44.120\nWe see the properties there\nas you could see down below.\n\n193\n00:08:44.120 --> 00:08:45.450\nWe do have a summary tab.\n\n194\n00:08:45.450 --> 00:08:49.270\nLet me just raise this up a little cuz\nit's kinda hard to see some of this stuff.\n\n195\n00:08:49.270 --> 00:08:54.650\nYou almost think, I mean given the logic\nand the ability that we have these days.\n\n196\n00:08:54.650 --> 00:08:57.540\nThe UI design team would look at this and\ngo, yeah, it's gotta come up.\n\n197\n00:08:57.540 --> 00:08:58.452\nIt's gonna be this big.\n\n198\n00:08:58.452 --> 00:09:00.860\n&gt;&gt; [LAUGH] You're gonna\nsee two lines of text.\n\n199\n00:09:00.860 --> 00:09:02.910\nAnd nobody is gonna be\nable to see anything.\n\n200\n00:09:02.910 --> 00:09:06.580\nWhy don't we just make the default size so\nthat it does come up and\n\n201\n00:09:06.580 --> 00:09:07.340\nyou can actually read it.\n\n202\n00:09:07.340 --> 00:09:10.320\nBut clearly,\nnobody pays attention to this stuff.\n\n203\n00:09:10.320 --> 00:09:12.470\n&gt;&gt; You don't actually use what\nthey are designing, I'm not sure?\n\n204\n00:09:12.470 --> 00:09:13.700\n&gt;&gt; No, that's the thing, right?\n\n205\n00:09:13.700 --> 00:09:16.220\nYou often think, okay,\nhow does that get designed?\n\n206\n00:09:16.220 --> 00:09:19.410\nWho in their right mind thought\nthat was a good choice?\n\n207\n00:09:19.410 --> 00:09:24.200\nEither somebody who never looks or\nsomebody who's omnisicent and\n\n208\n00:09:24.200 --> 00:09:25.880\nwho knows everything ahead of time and\ndoesn't have to look.\n\n209\n00:09:25.880 --> 00:09:26.695\n&gt;&gt; [CROSSTALK], exactly right.\n\n210\n00:09:26.695 --> 00:09:28.894\n&gt;&gt; Either way, I don't want\nthose people running my network,\n\n211\n00:09:28.894 --> 00:09:30.242\nbecause they tend to make mistakes.\n\n212\n00:09:30.242 --> 00:09:31.437\n&gt;&gt; [LAUGH]\n&gt;&gt; They don't tend to know\n\n213\n00:09:31.437 --> 00:09:32.014\nwhat's going on.\n\n214\n00:09:32.014 --> 00:09:35.390\n&gt;&gt; [LAUGH]\n&gt;&gt; So once we raise that up,\n\n215\n00:09:35.390 --> 00:09:38.710\nthen you'll see we have to do a nice\nlittle profile on each host node here.\n\n216\n00:09:38.710 --> 00:09:41.120\nThe status which we can tell up there,\nthe node id.\n\n217\n00:09:41.120 --> 00:09:44.570\nThis is node id one right\nversus node id two.\n\n218\n00:09:44.570 --> 00:09:47.130\nThe uptime which is important so\nuptime is here.\n\n219\n00:09:47.130 --> 00:09:51.420\nThat's a good indicator for us of what's\ngoing on, the amount of memory available,\n\n220\n00:09:51.420 --> 00:09:53.070\nso that's always important.\n\n221\n00:09:53.070 --> 00:09:59.410\nProcessor configs, CPU usage, OS version,\nthat kind of thing, build number, etc.\n\n222\n00:09:59.410 --> 00:10:02.800\nService packs, you and I were\ntalking about service pack recently.\n\n223\n00:10:02.800 --> 00:10:05.910\nThe system type, manufactured,\nof course, model.\n\n224\n00:10:05.910 --> 00:10:08.500\nSmart enough to know that we\nare running a virtual machine.\n\n225\n00:10:08.500 --> 00:10:12.820\nSo it does identify that, and we did\ntalk about the fact that we do support\n\n226\n00:10:12.820 --> 00:10:17.140\nsetting up the clusters using\nvirtualized infrastructure.\n\n227\n00:10:17.140 --> 00:10:22.030\nVirtual hard drives, for instance,\ncan be used as the shared storage medium.\n\n228\n00:10:22.030 --> 00:10:25.590\nWe've actually set that\nup on a virtual machine.\n\n229\n00:10:25.590 --> 00:10:27.230\nSo there's different ways to do this.\n\n230\n00:10:27.230 --> 00:10:28.560\nBut it does know that.\n\n231\n00:10:28.560 --> 00:10:30.630\nWe have our network connections here so\n\n232\n00:10:30.630 --> 00:10:33.420\nwe can see essentially what's\nover here in networks.\n\n233\n00:10:33.420 --> 00:10:35.960\nWe could see the network connections.\n\n234\n00:10:35.960 --> 00:10:40.795\nWe have two cards, the connections for\nthe host so what are the interfaces.\n\n235\n00:10:40.795 --> 00:10:46.310\nTheir status, who the owner of that is,\nyou'll see their hyper v network adapters.\n\n236\n00:10:46.310 --> 00:10:48.090\nSo you can see they are virtualized.\n\n237\n00:10:48.090 --> 00:10:52.300\nEach one has its own IP and\nnot a lot to do once we get here.\n\n238\n00:10:52.300 --> 00:10:54.350\nWe can just essentially\nshow critical events,\n\n239\n00:10:54.350 --> 00:10:56.790\nbut we do have the ability\nto be able to interact.\n\n240\n00:10:56.790 --> 00:11:00.560\nRemember critical events in that drill\ndown is essentially just the event viewer,\n\n241\n00:11:00.560 --> 00:11:02.950\nbut the event viewer dedicated\nto this set of resources.\n\n242\n00:11:02.950 --> 00:11:05.700\nSo we're subdividing\nthe log information and\n\n243\n00:11:05.700 --> 00:11:10.160\nlooking at specific values associated with\nwhatever part of the screen we're on.\n\n244\n00:11:10.160 --> 00:11:12.200\nWe do have the role designator.\n\n245\n00:11:12.200 --> 00:11:13.460\nNo role is assigned.\n\n246\n00:11:13.460 --> 00:11:16.740\nWhat we're doing is just bringing in and\naggregating all the information from here.\n\n247\n00:11:16.740 --> 00:11:18.890\nUnder each host area is a little profile.\n\n248\n00:11:18.890 --> 00:11:22.990\nWe do have the disks so\nwe can see the disks that are assigned.\n\n249\n00:11:22.990 --> 00:11:24.332\nWe'll be taking a look at storage here.\n\n250\n00:11:24.332 --> 00:11:28.230\nAnd going through setting up the quorum,\nand configuring it in just a moment.\n\n251\n00:11:28.230 --> 00:11:30.158\nThere's a little wizard we'll\nwalk through to do that.\n\n252\n00:11:30.158 --> 00:11:34.160\nWe're also gonna take that available\nstorage item, cluster disk three,\n\n253\n00:11:34.160 --> 00:11:38.260\nand we're gonna add that to the cluster\nshared volume and make that available.\n\n254\n00:11:38.260 --> 00:11:41.241\nThat was that part I clapped on the last\nepisode that I said we would do,\n\n255\n00:11:41.241 --> 00:11:44.840\nas we came into the wizard, or out of\nthe wizard rather and into the interface.\n\n256\n00:11:44.840 --> 00:11:45.810\nSo we're gonna take a look at that.\n\n257\n00:11:45.810 --> 00:11:47.200\nBut we have our discs here.\n\n258\n00:11:47.200 --> 00:11:48.931\nWe can open up each disk.\n\n259\n00:11:48.931 --> 00:11:54.115\nWe can just essentially see the drive\nletter, the amount of space.\n\n260\n00:11:54.115 --> 00:11:56.581\nWe can change the drive\nletter if we choose to.\n\n261\n00:11:56.581 --> 00:11:59.604\nI think I talked about his at the very\nend of the last episode as we did our\n\n262\n00:11:59.604 --> 00:12:00.229\nrun through.\n\n263\n00:12:00.229 --> 00:12:02.518\nNot a lot of options here\nthe change drive letter.\n\n264\n00:12:02.518 --> 00:12:07.716\nBut if you just have to have drive y and\nit's drive alpha or something, then\n\n265\n00:12:07.716 --> 00:12:13.760\ngo ahead and change that because it's good\nto take advantage of those opportunities.\n\n266\n00:12:13.760 --> 00:12:16.210\n&gt;&gt; My drive label has to\nmatch my drive letter.\n\n267\n00:12:16.210 --> 00:12:17.730\nIt's just the way it has to be.\n\n268\n00:12:17.730 --> 00:12:19.010\n&gt;&gt; You're that kind of a guy, Mike.\n\n269\n00:12:20.575 --> 00:12:24.025\nAnd by the way Mike is wearing pink\nsocks with his black shirt just to\n\n270\n00:12:24.025 --> 00:12:27.875\ndestroy that myth of the fact\nthat he is color coordinated.\n\n271\n00:12:27.875 --> 00:12:29.635\nSo we've got all of that here.\n\n272\n00:12:29.635 --> 00:12:31.595\nWe've got a lot of\ninformation available to us.\n\n273\n00:12:31.595 --> 00:12:33.475\nA lot of things we can find out.\n\n274\n00:12:33.475 --> 00:12:36.345\nSo we could do that for\neither node as you can see.\n\n275\n00:12:36.345 --> 00:12:40.011\nIn storage, we already hinted at the fact\nand saw that we do have our disks.\n\n276\n00:12:40.011 --> 00:12:41.116\nYou could see them here.\n\n277\n00:12:41.116 --> 00:12:45.240\nWe have not setup any storage pools,\nbut we have storage pool capability.\n\n278\n00:12:45.240 --> 00:12:48.011\nAnd you already saw our networking\ncapabiliy here as well.\n\n279\n00:12:48.011 --> 00:12:52.586\nWe could see the up status or down\nstatus on the network interphases along\n\n280\n00:12:52.586 --> 00:12:56.495\nwith the use of the cluster only item for\ncluster network one.\n\n281\n00:12:56.495 --> 00:12:58.550\nWe talked about the different\nnetwork options.\n\n282\n00:12:58.550 --> 00:13:03.550\nIs that cluster host a host communication,\nthat private networks that's used for\n\n283\n00:13:03.550 --> 00:13:08.210\nmanagement configuration and maintenance\nof the information that is necessary for\n\n284\n00:13:08.210 --> 00:13:10.820\nthe cluster host to stay in sync and\nto provide resources, right.\n\n285\n00:13:10.820 --> 00:13:13.468\nSo that's cluster only\nversus cluster in client,\n\n286\n00:13:13.468 --> 00:13:18.070\nwhere clients essentially can connect\nto the cluster and consume information.\n\n287\n00:13:18.070 --> 00:13:22.780\nWe talked about this and\nwe can see when we go in and\n\n288\n00:13:22.780 --> 00:13:26.350\ntake a look, just right clicking\non one of the interfaces.\n\n289\n00:13:26.350 --> 00:13:27.860\nGo to properties here.\n\n290\n00:13:27.860 --> 00:13:30.560\nWe can see just the name\nof the cluster network or\n\n291\n00:13:30.560 --> 00:13:33.640\nwhatever it is,\nthe IP subnet range status.\n\n292\n00:13:33.640 --> 00:13:38.170\nBut most importantly, we can change\nthe role of that cluster network here.\n\n293\n00:13:38.170 --> 00:13:41.590\nSo we can go in and say as you see by\ndefault, the radial button selection.\n\n294\n00:13:41.590 --> 00:13:44.950\nCuz this is cluster network one,\nthe network designed for\n\n295\n00:13:44.950 --> 00:13:47.930\ninterhost communication, between the host.\n\n296\n00:13:47.930 --> 00:13:50.430\nAllow cluster network\ncommunication on this network.\n\n297\n00:13:50.430 --> 00:13:54.200\nAllow clients to connect through\nthis network is how we make a client\n\n298\n00:13:54.200 --> 00:13:54.910\nin cluster network.\n\n299\n00:13:54.910 --> 00:13:56.770\nThe other one will have that checked off.\n\n300\n00:13:56.770 --> 00:13:59.670\nDo not allow cluster network\ncommunication on this network.\n\n301\n00:13:59.670 --> 00:14:02.530\nSo we exclude this network\nfrom the cluster essentially,\n\n302\n00:14:02.530 --> 00:14:03.860\nnot allowing it to be used.\n\n303\n00:14:05.200 --> 00:14:07.840\nYou can see on this one,\nwith cluster and client.\n\n304\n00:14:07.840 --> 00:14:10.430\nLet's just right click,\ngo to Properties here.\n\n305\n00:14:10.430 --> 00:14:14.530\nYou'll see that the only change is that we\nchecked off that box to allow cluster and\n\n306\n00:14:14.530 --> 00:14:16.760\nclient communication on these networks.\n\n307\n00:14:16.760 --> 00:14:19.400\nSo, configuration is done by the wizard.\n\n308\n00:14:19.400 --> 00:14:23.645\nPretty straightforward, we're not gonna\nget into live migration settings,\n\n309\n00:14:23.645 --> 00:14:25.735\nand the use of the cluster for Hyper V and\n\n310\n00:14:25.735 --> 00:14:28.413\nvirtual machine support\nin this set of episodes.\n\n311\n00:14:28.413 --> 00:14:31.633\nWe have a whole different set of\nepisodes we'll address that with, but\n\n312\n00:14:31.633 --> 00:14:34.488\njust pointing out on the right\nthere as we look at the networks.\n\n313\n00:14:34.488 --> 00:14:38.750\nSo we do have live migration settings and\nyou could see that essentially here,\n\n314\n00:14:38.750 --> 00:14:41.940\nwe take a look what now works will\nbe available for live migration.\n\n315\n00:14:41.940 --> 00:14:44.520\nWe'll come back and\ndeal more with this and\n\n316\n00:14:44.520 --> 00:14:48.090\nspecify a lot of the other information\nassociated with this as I said,\n\n317\n00:14:48.090 --> 00:14:52.420\nin a set of different episodes, around\na different set of topics for the exam.\n\n318\n00:14:52.420 --> 00:14:56.840\nExam preparation, got a whole discussion\non how to set up HyperV specifically,\n\n319\n00:14:56.840 --> 00:14:57.990\nwith failover clustering.\n\n320\n00:14:57.990 --> 00:14:59.830\nAnd also virtual machine movement.\n\n321\n00:14:59.830 --> 00:15:04.163\nLive migration, HyperV replication, all\nsorts of cool stuff associated with that.\n\n322\n00:15:04.163 --> 00:15:05.963\nSo we've got all of this stuff.\n\n323\n00:15:05.963 --> 00:15:08.660\nI've mentioned cluster shared volumes.\n\n324\n00:15:08.660 --> 00:15:11.310\nLet's go back here to disks for\njust a moment.\n\n325\n00:15:11.310 --> 00:15:14.790\nAnd let's just take a look at\nour available storage here.\n\n326\n00:15:14.790 --> 00:15:16.530\nAnd I'm going to right click on this.\n\n327\n00:15:16.530 --> 00:15:20.370\nAnd you'll see that I have an option\nto add to cluster shared volumes.\n\n328\n00:15:20.370 --> 00:15:22.891\nCluster shared volumes is\nactually interesting technology.\n\n329\n00:15:22.891 --> 00:15:28.570\nBeen around since 2008 R2, so\n8 R2 12, now 12R2, 3 generations.\n\n330\n00:15:28.570 --> 00:15:33.840\nYou through 16 in there, so in theory\n4 generations when we look ahead.\n\n331\n00:15:33.840 --> 00:15:38.032\nAnd when we think about\ncluster shared volumes,\n\n332\n00:15:38.032 --> 00:15:44.181\nthe idea behind this is that we,\nMicrosoft, has Mike and I [CROSSTALK].\n\n333\n00:15:44.181 --> 00:15:47.605\nAnd instead of having a cup of coffee,\nwe figure let's invent something cool so\n\n334\n00:15:47.605 --> 00:15:49.730\nwe came up with cluster shared vibes.\n\n335\n00:15:49.730 --> 00:15:53.341\nSo Microsoft comes up with this\ntechnology back in 2008 R2.\n\n336\n00:15:53.341 --> 00:15:56.060\nThe idea is that multiple\nnodes can share a single run.\n\n337\n00:15:56.060 --> 00:15:58.156\nRight?\nSo very important for us,\n\n338\n00:15:58.156 --> 00:16:02.570\nbecause now we have a single\nstorage entity, right?\n\n339\n00:16:02.570 --> 00:16:05.610\nAnd as a result of that,\ninstead of that being locked and\n\n340\n00:16:05.610 --> 00:16:09.260\nessentially assigned directly to a host,\nwhich it is when you do local storage\n\n341\n00:16:09.260 --> 00:16:11.040\nwithout sharing if you think\nabout the logic of it.\n\n342\n00:16:11.040 --> 00:16:13.340\nIt's how we've been\nconsuming information for\n\n343\n00:16:13.340 --> 00:16:16.370\nprobably 50 years in computers\nin one form or another.\n\n344\n00:16:16.370 --> 00:16:20.820\nBut what we do is we say, hey you know\nwhat, the whole idea of clustering,\n\n345\n00:16:20.820 --> 00:16:25.440\nfail over clustering specifically and high\navailability, is not to have a limited\n\n346\n00:16:25.440 --> 00:16:28.590\nlock on resources and\nlimited use that if one host goes down and\n\n347\n00:16:28.590 --> 00:16:31.900\nthat resource become unavailable\nmeans that we can't function.\n\n348\n00:16:31.900 --> 00:16:34.820\nThat's the exact opposite of what\nwe want with this technology.\n\n349\n00:16:34.820 --> 00:16:39.420\nWe want scalable resources that are\ncentrally stored, centrally managed and\n\n350\n00:16:39.420 --> 00:16:40.220\nshared.\n\n351\n00:16:40.220 --> 00:16:42.280\nAnd available to any in\nall contributing and\n\n352\n00:16:42.280 --> 00:16:45.720\nconsuming members,\nare almost without exception at all times,\n\n353\n00:16:45.720 --> 00:16:48.640\nhopefully minimizing the interruption\nbecause of system failure, right?\n\n354\n00:16:48.640 --> 00:16:51.690\nIf we have a catastrophic failure\nin the cluster, then yeah,\n\n355\n00:16:51.690 --> 00:16:54.105\nthat shared resource may go offline,\nright?\n\n356\n00:16:54.105 --> 00:16:57.170\nIf somebody pulls the plug, and\nwalks through the data center,\n\n357\n00:16:57.170 --> 00:16:59.950\nand knocks over the entire\nrack of servers or\n\n358\n00:16:59.950 --> 00:17:03.530\nsomething crazy like that,\nwe can experience a cascading failure.\n\n359\n00:17:03.530 --> 00:17:07.690\nBut, assuming we only lost one node\nin theory, we don't want that storage\n\n360\n00:17:07.690 --> 00:17:11.080\non that one node that's available only\nto to become the weakest link and\n\n361\n00:17:11.080 --> 00:17:12.750\ndrive our VM's offline.\n\n362\n00:17:12.750 --> 00:17:15.980\nWe want pooled shared storage that's\ngonna be available to everybody and\n\n363\n00:17:15.980 --> 00:17:18.460\nalthough that node goes down,\nunfortunate for\n\n364\n00:17:18.460 --> 00:17:22.480\nus, failover allows us to maintain\ncontinuity and provide services.\n\n365\n00:17:22.480 --> 00:17:26.040\nPerhaps with a little bit of interruption\nthere may be a minimal amount of downtime\n\n366\n00:17:26.040 --> 00:17:29.190\nas we fail over, and\na roll was picked up and\n\n367\n00:17:29.190 --> 00:17:32.300\ntransferred to one of the other\nsurviving nodes and resources.\n\n368\n00:17:32.300 --> 00:17:35.970\nYou'll kind of go like this, they'll blink\nand become available again but in general\n\n369\n00:17:35.970 --> 00:17:40.600\nwe're not talking about losing access but\nrather only minimally interrupting access.\n\n370\n00:17:40.600 --> 00:17:42.700\nThat's really the thought\nprocess behind it.\n\n371\n00:17:42.700 --> 00:17:44.840\nSo when we configure and\n\n372\n00:17:44.840 --> 00:17:49.180\nset up CSVs, we're talking about\nconfiguring and adding storage in, so\n\n373\n00:17:49.180 --> 00:17:53.376\nit becomes part of the cluster, the\ncluster shared volume is literally that.\n\n374\n00:17:53.376 --> 00:17:57.060\nIt's a set of storage resources that\nbecome available if you are a shared\n\n375\n00:17:57.060 --> 00:17:59.480\ncommon pool or interface.\n\n376\n00:17:59.480 --> 00:18:02.840\nSo that everybody, any entity that\nis contributing can manage and\n\n377\n00:18:02.840 --> 00:18:07.070\ninteract with and\nconsume from those things, Lots?\n\n378\n00:18:07.070 --> 00:18:09.020\n&gt;&gt; No, really it is a cool technology.\n\n379\n00:18:09.020 --> 00:18:12.880\nIt's one of those things that we really\nneeded when we started virtualizing\n\n380\n00:18:12.880 --> 00:18:16.840\nclusters, and the fact that now I don't\nhave to have separate storage set up and\n\n381\n00:18:16.840 --> 00:18:18.700\nworry about any kind of replication.\n\n382\n00:18:18.700 --> 00:18:23.030\nBecause if one node is owning that role,\nit's making changes to that disc, right,\n\n383\n00:18:23.030 --> 00:18:26.520\nto the date that is being stored,\nand when that fails over,\n\n384\n00:18:26.520 --> 00:18:30.840\nthat new node that is now taking ownership\nto that role needs the latest information.\n\n385\n00:18:30.840 --> 00:18:33.740\nWe don't want to go back in time,\nwe don't want to lose data, so\n\n386\n00:18:33.740 --> 00:18:36.855\nthat cluster share volume\ngives us that capability.\n\n387\n00:18:36.855 --> 00:18:39.295\n&gt;&gt; It does, so\ncouple things we're gonna go through and\n\n388\n00:18:39.295 --> 00:18:40.495\ndo the wizard here in a minute.\n\n389\n00:18:40.495 --> 00:18:43.485\nWe're gonna configure another part\nof the cluster before we do this,\n\n390\n00:18:43.485 --> 00:18:45.285\nbut just a couple things to keep in mind,\nso\n\n391\n00:18:45.285 --> 00:18:48.235\nobviously the storage has to\nbe available ahead of time.\n\n392\n00:18:48.235 --> 00:18:52.235\nSo we gotta set this up, so\nI've done the back end work where I've\n\n393\n00:18:52.235 --> 00:18:56.940\nset up the configured IC based storage on\nthe contributing members of the cluster.\n\n394\n00:18:56.940 --> 00:18:57.988\nWe talked a bit about this,\n\n395\n00:18:57.988 --> 00:19:01.660\nhinted at some of this in our last\nepisode, but let's just take a quick look\n\n396\n00:19:01.660 --> 00:19:04.660\nbehind the scenes just to better\nunderstand what we did here.\n\n397\n00:19:04.660 --> 00:19:08.576\nSo I'm on PLAB VM011, one of the two\ncontributing hosts in the cluster, right,\n\n398\n00:19:08.576 --> 00:19:10.360\nwhere we're managing from.\n\n399\n00:19:10.360 --> 00:19:14.170\nAnd what I did was I went to file and\nstorage services\n\n400\n00:19:16.170 --> 00:19:20.090\nand you'll see here I have\niSCSI available to me.\n\n401\n00:19:20.090 --> 00:19:24.110\nNow, you can see to install iSCSI\ntarget you would click here,\n\n402\n00:19:24.110 --> 00:19:26.360\nrun through the wizard to add storage in.\n\n403\n00:19:26.360 --> 00:19:30.250\nSo the storage has been mounted and\nmade available right.\n\n404\n00:19:30.250 --> 00:19:34.940\nAnd I've gone to the iSCSI initiator, and\n\n405\n00:19:34.940 --> 00:19:40.410\nI've loaded up, let me just grab that,\nI've loaded up the iSCSI initiator and\n\n406\n00:19:40.410 --> 00:19:44.240\nset a target here so\nthat it's able to connect to the storage.\n\n407\n00:19:44.240 --> 00:19:47.600\nI didn't do the storage on plab dm01 or\nplab sa01.\n\n408\n00:19:47.600 --> 00:19:51.890\nI'm sitting on a separate post on my\ndomain controller, that's where I put it.\n\n409\n00:19:51.890 --> 00:19:56.020\nSo I'll show you that in a minute, but\nI ran that iSCSI Configuration Wizard to\n\n410\n00:19:56.020 --> 00:19:59.920\nrun and mount the storage and I'm pointing\nto in the back this area right here.\n\n411\n00:19:59.920 --> 00:20:03.680\nI ran this on the machine that's actually\nproviding the storage and that's where I\n\n412\n00:20:03.680 --> 00:20:09.030\nconfigured the volumes that are being used\nand served up as available for sharing.\n\n413\n00:20:09.030 --> 00:20:11.822\nSo that's where the shared\nstorage was configured but\n\n414\n00:20:11.822 --> 00:20:14.310\nthe iSCSI initiators are configured\n\n415\n00:20:14.310 --> 00:20:18.090\non each of the contributing hosts that\nhave to consume storage to connect out.\n\n416\n00:20:18.090 --> 00:20:20.930\nWhat we're doing is essentially creating\na storage network, if you think\n\n417\n00:20:20.930 --> 00:20:25.230\nabout the logic of it we're creating\na sand without having a full blown sand.\n\n418\n00:20:25.230 --> 00:20:29.354\nWe're leveraging the concept of an ast\nwithout setting up an ast in the sense\n\n419\n00:20:29.354 --> 00:20:32.577\nthat, we take one machine,\nin this case our demagatrode,\n\n420\n00:20:32.577 --> 00:20:35.684\ndoesn't matter what machine it is and\nwe mount storage.\n\n421\n00:20:35.684 --> 00:20:39.236\nWe provide that storage and\nmake it available and\n\n422\n00:20:39.236 --> 00:20:44.259\nthen the iSCSI initiators are hba's,\ntheir host bust adaptors that\n\n423\n00:20:44.259 --> 00:20:49.112\nare essentially network interfaces\nthat are used to connect to and\n\n424\n00:20:49.112 --> 00:20:53.900\ncreate a solution for\nus to communicate with dedicated storage.\n\n425\n00:20:53.900 --> 00:20:58.441\nAnd as a in this case a network that's\ndedicated to that path consume that\n\n426\n00:20:58.441 --> 00:21:00.067\nstorage.\n\n427\n00:21:00.067 --> 00:21:03.317\nThat's really all a SAN,\nStorage Area Network, is or a NAS,\n\n428\n00:21:03.317 --> 00:21:05.047\na Network Attached Storage, system is.\n\n429\n00:21:05.047 --> 00:21:09.407\nIt's a whole bunch of discs in some sort\nof configuration, either hardware or\n\n430\n00:21:09.407 --> 00:21:12.410\nsoftware managed or a combination of both.\n\n431\n00:21:12.410 --> 00:21:17.390\nAnd then dedicated network pathing,\nusually multipathing, one or more paths\n\n432\n00:21:17.390 --> 00:21:22.190\nwith dedicated network interfaces either\nsoftware emulators or hardware or both.\n\n433\n00:21:22.190 --> 00:21:25.570\nThat allow us to connect using\na variety of storage protocols rights?\n\n434\n00:21:25.570 --> 00:21:29.300\nISCSI, fiber channel, fiber over ethernet.\n\n435\n00:21:29.300 --> 00:21:32.370\nThese are storage protocols and\nwe use them to communicate and\n\n436\n00:21:32.370 --> 00:21:34.250\nconfigure those network pathways.\n\n437\n00:21:34.250 --> 00:21:37.780\n&gt;&gt; And, with iSCSI, we still have\na little bit of money left in our wallet.\n\n438\n00:21:37.780 --> 00:21:40.250\n&gt;&gt; Got a lot of money left in our\nwallet cuz we're using software.\n\n439\n00:21:40.250 --> 00:21:41.030\niSCSI hba.\n\n440\n00:21:41.030 --> 00:21:44.490\n&gt;&gt; And for a full on san solution,\na little bit costly.\n\n441\n00:21:44.490 --> 00:21:45.696\n&gt;&gt; You are not going to Singapore for\n\n442\n00:21:45.696 --> 00:21:47.515\nyour trip while you\nare configuring the cluster.\n\n443\n00:21:47.515 --> 00:21:49.957\nYou're gonna walk across the street and\nget a cup of coffee.\n\n444\n00:21:49.957 --> 00:21:51.143\n&gt;&gt; [LAUGH]\n&gt;&gt; And hope somebody pays for\n\n445\n00:21:51.143 --> 00:21:52.080\nit while you're standing at the counter.\n\n446\n00:21:52.080 --> 00:21:53.296\n&gt;&gt; [LAUGH] Right, yes.\n\n447\n00:21:53.296 --> 00:21:56.364\n&gt;&gt; All right, so let's quickly take a look\nat where the storage is coming from.\n\n448\n00:21:56.364 --> 00:21:59.635\nYou seen the iSCSI initiator\nconversation or side here.\n\n449\n00:21:59.635 --> 00:22:04.780\nWe just quickly flip over to our, there it\nis right there, our domain controller and\n\n450\n00:22:04.780 --> 00:22:07.510\nso where I configured the storage\nthat we're about to add and\n\n451\n00:22:07.510 --> 00:22:10.550\ntake advantage of in the cluster\nshared volume, is right over here.\n\n452\n00:22:10.550 --> 00:22:13.490\nSame interface, same exact place,\njust different machine.\n\n453\n00:22:13.490 --> 00:22:14.680\nYou'll see now with iSCSI,\n\n454\n00:22:14.680 --> 00:22:18.400\nI've actually got storage listed\nthere as you can see, right?\n\n455\n00:22:18.400 --> 00:22:19.410\nRight here.\n\n456\n00:22:19.410 --> 00:22:25.020\nAnd this storage is,\nbeen added by using that wizard,\n\n457\n00:22:25.020 --> 00:22:27.660\nI'm just refreshing, as you can see\nit says connecting cuz I did this,\n\n458\n00:22:27.660 --> 00:22:30.180\nthen I left it sitting,\nI haven't refreshed the server.\n\n459\n00:22:30.180 --> 00:22:32.680\nSo it doesn't realize the storage\nis available and online,\n\n460\n00:22:32.680 --> 00:22:35.780\nbut that's just a Microsoft thing,\nyou refresh that it comes right up, but\n\n461\n00:22:35.780 --> 00:22:40.220\nall I did here was click that link that\nwas in the other wizard the first time.\n\n462\n00:22:40.220 --> 00:22:41.660\nWhen it's blank you have the link there.\n\n463\n00:22:41.660 --> 00:22:44.880\nAfter you add one or\nmore drives you come up here to tasks.\n\n464\n00:22:44.880 --> 00:22:47.400\nYou just add iSCSI virtual\ndisks right from there.\n\n465\n00:22:47.400 --> 00:22:48.420\nIt's the same thing.\n\n466\n00:22:48.420 --> 00:22:50.620\nYou run a little wizard here.\n\n467\n00:22:50.620 --> 00:22:51.534\nVery straight forward.\n\n468\n00:22:51.534 --> 00:22:53.395\nLet me just bring this up so\nyou could see it.\n\n469\n00:22:53.395 --> 00:22:57.400\nWe go into this in much more detail and\nthe storage conversations around how to\n\n470\n00:22:57.400 --> 00:23:01.034\nconfigure storage and some other areas,\nbut just give you a quick peak\n\n471\n00:23:01.034 --> 00:23:04.509\nbehind the scenes case you haven't\nseen this or done this before.\n\n472\n00:23:04.509 --> 00:23:08.250\nYou have the server that's providing this,\nhopefully it's online.\n\n473\n00:23:08.250 --> 00:23:11.870\nIt's not clustered, as you can see,\ncuz we're not adding it to the cluster.\n\n474\n00:23:11.870 --> 00:23:14.800\nWe're just using it to provide storage for\nthe cluster, right?\n\n475\n00:23:14.800 --> 00:23:20.270\nThe storage location, I'm just using\nthe volumes that are available,\n\n476\n00:23:20.270 --> 00:23:21.890\nmounted on this machine.\n\n477\n00:23:21.890 --> 00:23:27.140\nAs a matter of fact, if we go here,\njust for one second and,\n\n478\n00:23:27.140 --> 00:23:30.520\nI don't have it open, so\nlet me just open a computer management.\n\n479\n00:23:30.520 --> 00:23:34.530\nGive me one second just to show you and\nwe go to disk management.\n\n480\n00:23:34.530 --> 00:23:38.420\nYou will see here that\n\n481\n00:23:40.290 --> 00:23:46.140\nI've got my C drive here broken up\ninto two partitions and my D drive.\n\n482\n00:23:46.140 --> 00:23:50.416\nNothing fancy, I'm just providing storage\nand using either the local hard drives, or\n\n483\n00:23:50.416 --> 00:23:52.799\nin this case I'm creating\nvirtual hard drives.\n\n484\n00:23:52.799 --> 00:23:54.910\nSo I'm creating VHDs that\nare being mounted and\n\n485\n00:23:54.910 --> 00:23:57.191\nmade available to provide\nstorage to the cluster.\n\n486\n00:23:57.191 --> 00:24:00.462\nThey're essentially just files sitting on\none of these volumes that are just being\n\n487\n00:24:00.462 --> 00:24:02.460\nmounted and made available and shared.\n\n488\n00:24:02.460 --> 00:24:03.700\nSo that's all I'm doing.\n\n489\n00:24:03.700 --> 00:24:07.980\nSo I'm just leveraging existing\ncapabilities, existing storage, and\n\n490\n00:24:07.980 --> 00:24:10.900\nI'm simply configuring it\nhow I need it in order to be\n\n491\n00:24:10.900 --> 00:24:15.440\nable to provide it to the storage cluster,\nor provide it for storage in the cluster.\n\n492\n00:24:15.440 --> 00:24:19.392\nSo when I run this wizard, as you can see,\n\n493\n00:24:19.392 --> 00:24:24.755\namount of available storage,\nabout 29 gigs out of 40 or whatever.\n\n494\n00:24:24.755 --> 00:24:26.601\nSo I'm just going to click here.\n\n495\n00:24:26.601 --> 00:24:29.235\nI have to give it a name,\nwhatever we call it.\n\n496\n00:24:29.235 --> 00:24:33.718\nAnd notice it's automatically providing\nthat in a path with the VHDX extension.\n\n497\n00:24:33.718 --> 00:24:36.130\nI'm creating, as I said,\na virtual hard drive.\n\n498\n00:24:36.130 --> 00:24:37.360\nSo I'm just providing that.\n\n499\n00:24:37.360 --> 00:24:41.210\nI have to specify the size here,\nhow big is it gonna be?\n\n500\n00:24:41.210 --> 00:24:43.060\nNot gonna get too crazy.\n\n501\n00:24:43.060 --> 00:24:46.740\nBy the way, we do have megabyte,\ngigabyte, terabyte capabilities here.\n\n502\n00:24:46.740 --> 00:24:50.720\nSo you gotta pay attention cuz you have a\nlimited amount of storage it'll tell you,\n\n503\n00:24:50.720 --> 00:24:52.160\nhey you have too much storage allocated.\n\n504\n00:24:52.160 --> 00:24:53.780\nNot enough available, that kind of thing.\n\n505\n00:24:53.780 --> 00:24:56.010\nWell you know like a 123 megabytes,\nwhatever.\n\n506\n00:24:56.010 --> 00:24:58.580\nAnd then you do fix size, right?\n\n507\n00:24:58.580 --> 00:25:00.980\nOr dynamically expanding or differencing.\n\n508\n00:25:00.980 --> 00:25:03.520\nUp to you to decide what\nthe option is you want here.\n\n509\n00:25:03.520 --> 00:25:08.540\nFix size gives you a fully formatted,\nfully allocated hard drive, essentially.\n\n510\n00:25:08.540 --> 00:25:11.220\nOr DHDX which represents the hard drive.\n\n511\n00:25:11.220 --> 00:25:15.231\nSo you've got, instead of\na dynamic growth capability where\n\n512\n00:25:15.231 --> 00:25:19.783\nthe drive expands to its full maximum,\nreserved limit over time, but\n\n513\n00:25:19.783 --> 00:25:22.658\nstays small if you don't\nuse a lot of space.\n\n514\n00:25:22.658 --> 00:25:25.860\nThis will be as big as you specify\nit will be and it does not grow.\n\n515\n00:25:25.860 --> 00:25:30.540\nYou know there's this ongoing\ndebate between people in our\n\n516\n00:25:30.540 --> 00:25:35.596\ncommunity about whether dynamically\nexpanding versus fixed or\n\n517\n00:25:35.596 --> 00:25:39.630\na way of thinking about\nthis would be appropriate.\n\n518\n00:25:39.630 --> 00:25:42.579\nWhich one is more valuable,\nwhich one makes more sense,\n\n519\n00:25:42.579 --> 00:25:46.650\nwhich one is better from a performance\nversus usability stand point?\n\n520\n00:25:46.650 --> 00:25:48.190\nTotally up to you to decide.\n\n521\n00:25:48.190 --> 00:25:51.324\nThere are some minor pros and\ncons on both of these decisions.\n\n522\n00:25:51.324 --> 00:25:56.510\nBut they're really primarily based around\nhardware and configuration choices.\n\n523\n00:25:56.510 --> 00:25:59.259\nNot really something\nthat we can get into and\n\n524\n00:25:59.259 --> 00:26:03.499\nsay definitively, if you do it this way,\nyou get a 25% boost.\n\n525\n00:26:03.499 --> 00:26:04.986\nIt's the big asterisk, then it says but\n\n526\n00:26:04.986 --> 00:26:07.410\nthere's five other things you\nwould have to think about.\n\n527\n00:26:07.410 --> 00:26:09.510\nAre you using on board caching?\n\n528\n00:26:09.510 --> 00:26:11.720\nAre you using different kinds of drives?\n\n529\n00:26:11.720 --> 00:26:14.031\nSSD drives versus traditional hard drives,\n\n530\n00:26:14.031 --> 00:26:17.205\nthere's all these variables to\ngo into this equation today.\n\n531\n00:26:17.205 --> 00:26:20.440\nThat's something you really have to spend\nsome time thinking about on your own.\n\n532\n00:26:20.440 --> 00:26:24.912\nBut one of the things just to point out\nhere, fix size clear the virtual discount\n\n533\n00:26:24.912 --> 00:26:29.346\nallocation, that box goes through and\nformats and zeroes out what's there.\n\n534\n00:26:29.346 --> 00:26:32.195\nIt will clean the partition,\nquote, unquote,\n\n535\n00:26:32.195 --> 00:26:34.675\nthe hard drive that's being created.\n\n536\n00:26:34.675 --> 00:26:35.285\nYou want that,\n\n537\n00:26:35.285 --> 00:26:39.475\nbecause you want to make sure there's no\ndata remnants sitting in that VHDX or\n\n538\n00:26:39.475 --> 00:26:43.320\nthat partition space that's gonna\nbecome the VHDX that you're allocating.\n\n539\n00:26:43.320 --> 00:26:47.060\nSo it's a very important hygiene care and\nfeeding concept.\n\n540\n00:26:47.060 --> 00:26:48.730\nNotice it's selected by default.\n\n541\n00:26:48.730 --> 00:26:51.324\nWe always try to point out\nthose default settings,\n\n542\n00:26:51.324 --> 00:26:53.747\nespecially when they may\nimpact exam success.\n\n543\n00:26:53.747 --> 00:26:55.195\nWe want to make sure you know that.\n\n544\n00:26:55.195 --> 00:26:58.330\nAnd it does tell you,\nhey unselecting that, not recommended.\n\n545\n00:26:58.330 --> 00:26:59.980\nThe only thing it's not\ndoing is reaching out and\n\n546\n00:26:59.980 --> 00:27:02.541\nsmacking you on the head and\ngoing hey, stupid, don't do that.\n\n547\n00:27:02.541 --> 00:27:06.760\nIn capitals, let me put it this way,\nthere's never a good compelling reason\n\n548\n00:27:06.760 --> 00:27:11.540\nwhy you would do a fix size allocation\nwithout pre-form adding and clearing it.\n\n549\n00:27:11.540 --> 00:27:16.370\nUnless you're allocating something and\nspecifically you want that data remnant\n\n550\n00:27:16.370 --> 00:27:19.570\ncapability there because maybe you're\ntesting some sort of recovery tool or\n\n551\n00:27:19.570 --> 00:27:20.720\nsomething like that.\n\n552\n00:27:20.720 --> 00:27:22.648\nIn which case there's\nother ways to do this, and\n\n553\n00:27:22.648 --> 00:27:25.910\nyou wouldn't be doing it while you\nset up cluster shared volume storage.\n\n554\n00:27:25.910 --> 00:27:28.360\nCome see me for\nthe forensics conversations and\n\n555\n00:27:28.360 --> 00:27:30.470\nhacking conversations in our shows there,\nand\n\n556\n00:27:30.470 --> 00:27:33.800\nI'll talk to you all about the way you\ndo drive recovery and the tools we use.\n\n557\n00:27:33.800 --> 00:27:34.650\nBut you don't need to do it here.\n\n558\n00:27:34.650 --> 00:27:36.304\n&gt;&gt; You don't set up a cluster\nfirst when you do that?\n\n559\n00:27:36.304 --> 00:27:36.892\n&gt;&gt; No.\n\n560\n00:27:36.892 --> 00:27:39.770\n&gt;&gt; [LAUGH]\n&gt;&gt; Not unless I have absolutely\n\n561\n00:27:39.770 --> 00:27:41.320\nnothing to do for five days.\n\n562\n00:27:41.320 --> 00:27:42.967\nIn which case, I find other things to do.\n\n563\n00:27:42.967 --> 00:27:43.680\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n564\n00:27:43.680 --> 00:27:45.500\ndynamically expanding versus differencing.\n\n565\n00:27:45.500 --> 00:27:47.910\nYou would take your selection here.\n\n566\n00:27:47.910 --> 00:27:52.370\nYou'll then see you choose your existing\niSCSI target or add a new target.\n\n567\n00:27:52.370 --> 00:27:53.590\nObviously depending on\nwhat you're doing and\n\n568\n00:27:53.590 --> 00:27:56.180\nwhat step you're in you\nmay have to add a target.\n\n569\n00:27:56.180 --> 00:28:00.650\nIf you do new, iSCSI target just to see,\nwe then have to add the target in.\n\n570\n00:28:01.980 --> 00:28:03.090\nYou'll give it a name.\n\n571\n00:28:05.619 --> 00:28:08.540\nYou'll add the specific iSCSI initiators.\n\n572\n00:28:08.540 --> 00:28:11.570\nRemember you saw me configure, or\nat least talk about how to configure,\n\n573\n00:28:11.570 --> 00:28:13.110\nthe initiators on the hosts.\n\n574\n00:28:13.110 --> 00:28:13.830\nSo you would come here.\n\n575\n00:28:13.830 --> 00:28:17.070\nYou'll see both initiators already\nexist cuz this has all been done behind\n\n576\n00:28:17.070 --> 00:28:19.410\nthe scenes, prior to you joining us for\nthis episode.\n\n577\n00:28:19.410 --> 00:28:23.720\nBut you'll see you just type in the name\nof the computer that has the initiator\n\n578\n00:28:23.720 --> 00:28:24.610\nthat you want to connect to.\n\n579\n00:28:24.610 --> 00:28:28.310\nAnd it will go out and search, and\nassuming it's online that'll work.\n\n580\n00:28:28.310 --> 00:28:30.030\nNow, here's a little gotcha with this.\n\n581\n00:28:30.030 --> 00:28:32.240\nAnd this is why I wanted to show\nyou this before we go through and\n\n582\n00:28:32.240 --> 00:28:33.500\nstart to configure the cluster.\n\n583\n00:28:33.500 --> 00:28:34.990\nSo, let me just get out of this screen,\n\n584\n00:28:34.990 --> 00:28:38.120\nbut I do want to show you something\nthat can cause a problem here.\n\n585\n00:28:38.120 --> 00:28:40.280\nSo imagine I typed in a host name here.\n\n586\n00:28:40.280 --> 00:28:42.830\nAnd it's searching, and\nsearching, and searching.\n\n587\n00:28:42.830 --> 00:28:46.320\nAnd it's taking what seems like a very\nlong time and nothing's happening.\n\n588\n00:28:46.320 --> 00:28:47.100\nWhich can happen to you and\n\n589\n00:28:47.100 --> 00:28:49.220\nI'm going to show you how to\ntroubleshoot this when it does.\n\n590\n00:28:49.220 --> 00:28:52.961\nThis should normally come up,\ndepending on your architecture, and\n\n591\n00:28:52.961 --> 00:28:57.602\nyour latency, and your global availability\nof DNS, because we're relying on DNS to\n\n592\n00:28:57.602 --> 00:29:00.390\ndo the name resolution and\ngo out and do the search.\n\n593\n00:29:00.390 --> 00:29:03.380\nAnd obviously latency can slow\nthis down just a little bit.\n\n594\n00:29:03.380 --> 00:29:07.330\nThis is like a 5 to 15 second kind of\nthing, this is not let me get up and\n\n595\n00:29:07.330 --> 00:29:09.220\ngo wander around for 30 minutes and wait.\n\n596\n00:29:09.220 --> 00:29:11.240\nThis should happen pretty quickly\nif everything is online and\n\n597\n00:29:11.240 --> 00:29:12.260\nworking the right way.\n\n598\n00:29:12.260 --> 00:29:13.470\nWhen it's not let me show you why.\n\n599\n00:29:13.470 --> 00:29:14.830\nLet me show you how to fix this.\n\n600\n00:29:14.830 --> 00:29:17.770\nSo we're going to get out of here.\n\n601\n00:29:17.770 --> 00:29:20.260\nWe're sure we want to cancel and\nexit out of this wizard.\n\n602\n00:29:20.260 --> 00:29:23.150\nRemember we're just sight seeing right\nnow, showing you some of the behind\n\n603\n00:29:23.150 --> 00:29:26.940\nthe scenes stuff that goes on\nwhen we're setting this up.\n\n604\n00:29:26.940 --> 00:29:30.530\nSo we're back on PLABDM01,\nwhere we're managing our cluster.\n\n605\n00:29:30.530 --> 00:29:34.520\nWhat can go wrong to cause that\nscreen I just showed you to fail.\n\n606\n00:29:34.520 --> 00:29:39.110\nBut it sits there for five minutes\nbefore it finally comes back and fails.\n\n607\n00:29:39.110 --> 00:29:42.020\nSo, if you see it hanging for\na while, be proactive, and\n\n608\n00:29:42.020 --> 00:29:43.760\ndo what I'm about to show you.\n\n609\n00:29:43.760 --> 00:29:45.550\nSo, what can happen is the following.\n\n610\n00:29:46.810 --> 00:29:47.740\nGo into tools here.\n\n611\n00:29:47.740 --> 00:29:49.180\nGo into the services MMC.\n\n612\n00:29:49.180 --> 00:29:52.230\nIn other words,\nI'm loading the services console\n\n613\n00:29:52.230 --> 00:29:55.920\non the machine where the iSCSI initiated\nthat we're trying to communicate with, and\n\n614\n00:29:55.920 --> 00:29:59.230\nin theory resolve on that\nother window would be.\n\n615\n00:29:59.230 --> 00:30:03.110\nSo you're going to go target the\ntroubleshooting on the machine the host's\n\n616\n00:30:03.110 --> 00:30:07.450\nproviding the iSCSI initiator that's not\nanswering the knock on the door saying hey\n\n617\n00:30:07.450 --> 00:30:14.080\nare you there, let me put you in that box\nand show up with the IQN address label.\n\n618\n00:30:14.080 --> 00:30:17.840\nIf it's not working the reason most\nlikely it's not working is the following.\n\n619\n00:30:19.000 --> 00:30:21.730\nWe have a nice little service here.\n\n620\n00:30:21.730 --> 00:30:23.960\nJust come down here, right here.\n\n621\n00:30:23.960 --> 00:30:25.810\nBring it out so you can see it.\n\n622\n00:30:25.810 --> 00:30:28.130\nI'll call it the Microsoft\niSCSI Initiator service.\n\n623\n00:30:28.130 --> 00:30:29.560\nSee, I'm highlighting it there.\n\n624\n00:30:29.560 --> 00:30:31.260\nThat service will not be running,\n\n625\n00:30:31.260 --> 00:30:35.790\nmost likely, on the machine that you're\ntargeting for the iSCSI Initiator.\n\n626\n00:30:35.790 --> 00:30:39.580\nNow it doesn't necessarily have to be\nrunning for the machine to answer.\n\n627\n00:30:39.580 --> 00:30:42.380\nBut what can often happen is when\nthat service is not running,\n\n628\n00:30:42.380 --> 00:30:45.780\nthe machine doesn't always respond.\n\n629\n00:30:45.780 --> 00:30:50.320\nAnd so you will get hangs on that console\nsometimes because this service is\n\n630\n00:30:50.320 --> 00:30:51.270\nnot running.\n\n631\n00:30:51.270 --> 00:30:52.200\nSo you can do two things.\n\n632\n00:30:52.200 --> 00:30:57.020\nOne, you can come in, go to the machine\nin question, start the service.\n\n633\n00:30:57.020 --> 00:31:00.490\nAnd then try to reconnect and\nsee if you communicate.\n\n634\n00:31:00.490 --> 00:31:02.970\nSometimes that fixes the problem,\nsometimes it doesn't.\n\n635\n00:31:02.970 --> 00:31:09.290\nWhat I found is that typically restarting\nthe targeted node for the iSCSI initiator.\n\n636\n00:31:09.290 --> 00:31:12.442\nMeaning let's say PLABDM01 is\nthe machine I was targeting and\n\n637\n00:31:12.442 --> 00:31:15.374\nit was not responding,\nthe iSCSI service was not running.\n\n638\n00:31:15.374 --> 00:31:20.038\nI start it, it's still not working,\nrestart the PLABDM01 machine.\n\n639\n00:31:20.038 --> 00:31:23.288\nThat will make sure everything\nis running the right way and\n\n640\n00:31:23.288 --> 00:31:27.664\nwhen it comes back up and you rerun that\nwizard on PLABDC01, they connect and\n\n641\n00:31:27.664 --> 00:31:31.700\ngrab that initiator to provide\nthe storage all of a sudden it works.\n\n642\n00:31:31.700 --> 00:31:34.340\nSo it's communication\nproblem with the services.\n\n643\n00:31:34.340 --> 00:31:37.190\nAnd that's typically what causes\nthe hang there, just so you know that.\n\n644\n00:31:37.190 --> 00:31:38.120\nAll right so,\n\n645\n00:31:38.120 --> 00:31:41.140\njust to show you a little bit of behind\nthe scenes, the troubleshooting.\n\n646\n00:31:41.140 --> 00:31:44.979\nSome things that could go wrong as we're\nspinning this up to get to where we want\n\n647\n00:31:44.979 --> 00:31:45.979\nto now actually be.\n\n648\n00:31:45.979 --> 00:31:49.230\nAll right, so\nwe're back in our Cluster Manager.\n\n649\n00:31:49.230 --> 00:31:52.075\nAnd we've talked about our\ncluster shared volumes.\n\n650\n00:31:52.075 --> 00:31:54.765\nKeep in mind, by the way,\nthat you should always configure,\n\n651\n00:31:54.765 --> 00:31:58.337\nas we've talked about the CSV, as we're\nsaying, have all the storage available\n\n652\n00:31:58.337 --> 00:32:01.480\nbefore you start trying to put\nvirtual machines in our host stuff.\n\n653\n00:32:01.480 --> 00:32:04.030\nIn other words, configure,\nand format, and stand up, and\n\n654\n00:32:04.030 --> 00:32:06.660\nmake sure it's accessible before\nyou try to use it, right?\n\n655\n00:32:06.660 --> 00:32:10.140\nJust a common sense approach\nif you think about it.\n\n656\n00:32:10.140 --> 00:32:14.031\nYou cannot add any shared\nstorage in if the CSV is in use.\n\n657\n00:32:14.031 --> 00:32:17.121\nIn other words, once you start doing this,\nyou gotta make sure you got it configured\n\n658\n00:32:17.121 --> 00:32:19.008\nout and you really have it\nset up the way you want it.\n\n659\n00:32:19.008 --> 00:32:22.049\nCuz otherwise, it's locked,\nyou're not gonna be able to get in and\n\n660\n00:32:22.049 --> 00:32:23.000\nmess around with it.\n\n661\n00:32:23.000 --> 00:32:26.760\nSo we do have placement policies\nassociated with the CSV usage.\n\n662\n00:32:26.760 --> 00:32:31.570\nWe do have increased resiliency\nassociated with the CSV usage in 12 R2.\n\n663\n00:32:31.570 --> 00:32:36.567\nRemember 2008 R2, 12 R2,\nthird generation on this technology.\n\n664\n00:32:36.567 --> 00:32:38.050\nWe're always making improvements.\n\n665\n00:32:38.050 --> 00:32:41.350\nWe have a cache allocation\nwhere we can use RAM for\n\n666\n00:32:41.350 --> 00:32:44.990\ncaching associated with\nwrite-through operations on the CSV.\n\n667\n00:32:44.990 --> 00:32:48.560\nSo we're leveraging all the back\nend capabilities to make this\n\n668\n00:32:48.560 --> 00:32:49.400\nas good as possible.\n\n669\n00:32:49.400 --> 00:32:54.216\nAs a matter of fact, up to 20% of\nthe total RAM in the host, can be used for\n\n670\n00:32:54.216 --> 00:32:57.671\ncache for the CSV write and\nread through allocation.\n\n671\n00:32:57.671 --> 00:33:00.207\nSo you're actually boosting\nperformance by doing that.\n\n672\n00:33:00.207 --> 00:33:02.568\nBut remember,\nyou're boosting performance on one side.\n\n673\n00:33:02.568 --> 00:33:05.725\nYou're essentially negating that\nperformance on the baseline for\n\n674\n00:33:05.725 --> 00:33:09.165\nthe host because you're allocating\nwhat is essentially a paging file,\n\n675\n00:33:09.165 --> 00:33:13.805\nright to the memory of the host to be able\nto use for trash operations where you're\n\n676\n00:33:13.805 --> 00:33:17.675\nwriting stuff in and out as you're caching\nand moving data in and out of the system.\n\n677\n00:33:17.675 --> 00:33:20.275\nSo you just wanna make sure you're\naware of that, cuz that can\n\n678\n00:33:20.275 --> 00:33:23.950\nbe a little bit of a balancing act,\nor we may run into some issues there.\n\n679\n00:33:23.950 --> 00:33:27.526\nWe could also see the state\nof CSV on a per node basis.\n\n680\n00:33:27.526 --> 00:33:31.240\nNow we have the capability to\nkind of drive in and do that.\n\n681\n00:33:31.240 --> 00:33:33.697\nAll right, so let's go in and\nlet's take a look at the fog.\n\n682\n00:33:33.697 --> 00:33:36.505\nI know we're just about out of time for\nthis episode.\n\n683\n00:33:36.505 --> 00:33:37.621\nYou're gonna indulge me.\n\n684\n00:33:37.621 --> 00:33:39.949\nWe're going to go ahead and\nwe're just gonna configure, so\n\n685\n00:33:39.949 --> 00:33:42.109\nI can at least say we did\nsomething other than just talk.\n\n686\n00:33:42.109 --> 00:33:46.150\nBut we're gonna go ahead and\nwe're gonna configure the cluster quorum.\n\n687\n00:33:46.150 --> 00:33:49.205\nAnd then we'll come back in our next\nepisode and actually add the storage in.\n\n688\n00:33:49.205 --> 00:33:50.250\nHere's the cluster shared blog.\n\n689\n00:33:50.250 --> 00:33:53.170\nSo we'll do one of the two things and\nwe'll split it up.\n\n690\n00:33:53.170 --> 00:33:54.284\nLet's go up here.\n\n691\n00:33:54.284 --> 00:33:56.931\nWe're going to go up to our cluster,\nright, so at the root there.\n\n692\n00:33:56.931 --> 00:34:00.390\nWe're gonna right-click, and\nyou'll see we got a lot of stuff here.\n\n693\n00:34:00.390 --> 00:34:02.150\nMost of these are, as we said,\n\n694\n00:34:02.150 --> 00:34:06.050\nactions that occur on the right-hand\nside as well as you drill down.\n\n695\n00:34:06.050 --> 00:34:08.762\nWe're gonna come down here\nunder More Actions and\n\n696\n00:34:08.762 --> 00:34:11.227\nConfigure Cluster Quorum settings is here.\n\n697\n00:34:11.227 --> 00:34:14.676\nYou'll see some other interesting stuff,\ncluster aware updating,\n\n698\n00:34:14.676 --> 00:34:17.830\ndestroy the cluster, shutdown,\ncopy the cluster roles.\n\n699\n00:34:17.830 --> 00:34:19.325\nI like the destroy cluster option.\n\n700\n00:34:19.325 --> 00:34:20.601\n&gt;&gt; They say destroy, that's nice.\n\n701\n00:34:20.601 --> 00:34:21.850\n&gt;&gt; That's the nuclear option.\n\n702\n00:34:21.850 --> 00:34:25.151\nYou hit the button and\nthen everything just disappears.\n\n703\n00:34:25.151 --> 00:34:28.150\nAll right, so yeah,\ndo not make the mistake, by the way,\n\n704\n00:34:28.150 --> 00:34:31.800\nof needing to do shut down and\nby accident not paying attention.\n\n705\n00:34:31.800 --> 00:34:33.174\nThat will really mess up your day.\n\n706\n00:34:33.174 --> 00:34:34.960\n&gt;&gt; And they got to put them right\nnext to each other, don't they?\n\n707\n00:34:34.960 --> 00:34:35.554\n&gt;&gt; They, yeah.\n\n708\n00:34:35.554 --> 00:34:39.405\nIt's not like it's off in its own box,\nisolated, where you need like a special\n\n709\n00:34:39.405 --> 00:34:41.948\nkey and a password, and\na retina scan to get into it.\n\n710\n00:34:41.948 --> 00:34:43.369\n&gt;&gt; Yeah.\n&gt;&gt; No, we just put it right there cuz\n\n711\n00:34:43.369 --> 00:34:46.241\nyou'll be the person who clicks on\nthat without paying attention, right?\n\n712\n00:34:46.241 --> 00:34:46.945\n&gt;&gt; [LAUGH]\n&gt;&gt; So\n\n713\n00:34:46.945 --> 00:34:49.906\nwe do have the ability to\nconfigure cluster quorum settings.\n\n714\n00:34:49.906 --> 00:34:51.060\nThat's what we're gonna\ntake a look at right now.\n\n715\n00:34:51.060 --> 00:34:52.940\nLet's click here,\ngot a little wizard here.\n\n716\n00:34:54.740 --> 00:34:57.090\nSo we have the ability to go through,\n\n717\n00:34:57.090 --> 00:35:01.830\nconfigure the quorum for our failover\ncluster, the cluster elements.\n\n718\n00:35:01.830 --> 00:35:03.895\nThe nodes are gonna be defined here.\n\n719\n00:35:03.895 --> 00:35:05.230\nWe'll just kinda see as we go through.\n\n720\n00:35:05.230 --> 00:35:08.310\nAll right, so let me click Next.\n\n721\n00:35:08.310 --> 00:35:10.340\nActually one thing to point out I forgot,\njust here.\n\n722\n00:35:11.870 --> 00:35:13.609\nLet's take a look at this,\ncan't really highlight it, but\n\n723\n00:35:13.609 --> 00:35:15.190\ncan we go full screen for\na second, just so I can point.\n\n724\n00:35:15.190 --> 00:35:16.292\nIt's a little bit easier to see.\n\n725\n00:35:16.292 --> 00:35:20.038\nSo this important note at the bottom,\nsays run this wizard only if you\n\n726\n00:35:20.038 --> 00:35:24.490\nhave determined that you need to change\nthe quorum config for your cluster.\n\n727\n00:35:24.490 --> 00:35:27.960\nWhen you create a cluster, cluster\nsoftware automatically chooses a Quorum\n\n728\n00:35:27.960 --> 00:35:31.460\nconfig that provides the highest\navailability for your cluster.\n\n729\n00:35:31.460 --> 00:35:33.620\nIn other words,\nI just wanna make sure we're clear.\n\n730\n00:35:33.620 --> 00:35:38.080\nJust by setting up the cluster through\nvalidation and then configuration\n\n731\n00:35:38.080 --> 00:35:42.400\ninitially of creation, we already\nhave a quorum set up and configured.\n\n732\n00:35:42.400 --> 00:35:44.840\nWe're gonna go change that just\nto show you what we can do.\n\n733\n00:35:44.840 --> 00:35:46.504\nBut recommendation is, hey,\n\n734\n00:35:46.504 --> 00:35:50.920\ndon't do this unless you have a compelling\nreason because you wanna validate, or\n\n735\n00:35:50.920 --> 00:35:54.636\nre-validate, or change whatever\nthe system already figured out.\n\n736\n00:35:54.636 --> 00:35:58.426\nIn other words, the wizard that\nruns initially has done a good job,\n\n737\n00:35:58.426 --> 00:36:02.881\nprobably the best job of setting up what\nwe think is gonna give you the options for\n\n738\n00:36:02.881 --> 00:36:05.100\nhighest availability, most likely.\n\n739\n00:36:05.100 --> 00:36:07.545\nSo you're messing with that now by\nrunning this, just to be clear.\n\n740\n00:36:07.545 --> 00:36:10.270\n&gt;&gt; Exactly, it's gone through and\nit saw that you had two nodes.\n\n741\n00:36:10.270 --> 00:36:13.646\nIt knows what the different options\nare for supporting coordinates.\n\n742\n00:36:13.646 --> 00:36:17.706\nIt picked the best one, which is great,\nbecause I remember back in the day,\n\n743\n00:36:17.706 --> 00:36:19.997\nit was a complex process of deciding what.\n\n744\n00:36:19.997 --> 00:36:21.503\n&gt;&gt; Okay, you had to roll the dice.\n\n745\n00:36:21.503 --> 00:36:23.025\n&gt;&gt; Yeah, what do I wanna do for quorum?\n\n746\n00:36:23.025 --> 00:36:24.102\nDo I wanna use a file share?\n\n747\n00:36:24.102 --> 00:36:25.182\nDo I wanna use a disk share?\n\n748\n00:36:25.182 --> 00:36:27.818\nDo I need quorum or do I need an extra?\n\n749\n00:36:27.818 --> 00:36:29.396\nSo it's nice that the wizard does that.\n\n750\n00:36:29.396 --> 00:36:31.584\nBut it's also cool that it\nlets you go back in and\n\n751\n00:36:31.584 --> 00:36:34.455\nchange it after the fact cuz\nmaybe I've added another drive.\n\n752\n00:36:34.455 --> 00:36:37.509\nI don't wanna do the file share quorum\nany more, or I've added another node and\n\n753\n00:36:37.509 --> 00:36:38.110\nI don't need.\n\n754\n00:36:38.110 --> 00:36:40.890\n&gt;&gt; Or multiple nodes, potentially, rIght?\n\n755\n00:36:40.890 --> 00:36:42.640\nYou may not need the same configuration.\n\n756\n00:36:42.640 --> 00:36:44.460\nYou may not need a witness the same way.\n\n757\n00:36:44.460 --> 00:36:46.290\nOr you wanna hard code certain things or\n\n758\n00:36:46.290 --> 00:36:48.590\nperhaps push things in\na certain direction.\n\n759\n00:36:48.590 --> 00:36:51.900\nCuz you'll see here, you'll use\nthe default quorum configuration.\n\n760\n00:36:51.900 --> 00:36:54.970\nWe're not gonna go that route\nbecause we're already done that.\n\n761\n00:36:54.970 --> 00:36:58.210\nWe're going to choose select the quorum\nwitness, as Mike was suggesting at or\n\n762\n00:36:58.210 --> 00:36:59.020\nchange the witness.\n\n763\n00:36:59.020 --> 00:37:02.890\nYou'll notice the next screen right\ndown here as an option just popped in.\n\n764\n00:37:02.890 --> 00:37:04.820\nWe'll get to hard code\nwhat that witness is.\n\n765\n00:37:04.820 --> 00:37:06.657\nIn other words, we get to choose.\n\n766\n00:37:06.657 --> 00:37:09.180\nOr we could do advanced quorum,\nwhere essentially we go, and\n\n767\n00:37:09.180 --> 00:37:12.004\nthis is just manuals settings, so\nwe just do everything ourselves.\n\n768\n00:37:12.004 --> 00:37:14.836\nAll right, so we're gonna do,\nselect a quorum witness right here.\n\n769\n00:37:17.330 --> 00:37:18.638\nNow one thing I will point out,\n\n770\n00:37:18.638 --> 00:37:21.352\nand we've done this in several shows,\nwhere we go in and we say,\n\n771\n00:37:21.352 --> 00:37:24.753\nhey, look, there's link there, and\nit shows you all this really good stuff.\n\n772\n00:37:24.753 --> 00:37:28.770\nNotice, Failover Cluster Quorum and\nWitness Configuration Options, right?\n\n773\n00:37:28.770 --> 00:37:31.553\nSo it's provided, of course,\nyou're connected to the Internet, and\n\n774\n00:37:31.553 --> 00:37:32.520\nyou have to be to do this.\n\n775\n00:37:32.520 --> 00:37:39.488\nBut when you click here, click OK, cuz I\ndidn't really mean to do that, I just.\n\n776\n00:37:39.488 --> 00:37:40.999\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n777\n00:37:40.999 --> 00:37:43.570\nyou're see here Quorum in\na Failover Cluster, let me show you this.\n\n778\n00:37:45.860 --> 00:37:47.780\nThere we go, right there, so.\n\n779\n00:37:50.650 --> 00:37:53.456\nYou'll see this one just points\nto a blank screen, right?\n\n780\n00:37:53.456 --> 00:37:55.747\nNot because it doesn't have information,\nbut because it says hey,\n\n781\n00:37:55.747 --> 00:37:57.070\nthere's quorum improvements.\n\n782\n00:37:57.070 --> 00:37:59.760\nGo to the what's new in\nfailover clustering in 12 R2.\n\n783\n00:37:59.760 --> 00:38:02.100\nSometimes those links don't\nalways get updated, right?\n\n784\n00:38:02.100 --> 00:38:02.867\nSo you know that.\n\n785\n00:38:02.867 --> 00:38:06.603\nBut when you come here,\nand you scroll down.\n\n786\n00:38:06.603 --> 00:38:07.664\nLet me just go down here.\n\n787\n00:38:07.664 --> 00:38:11.100\nAnd I've been talking about a lot\nof the new features, capabilities,\n\n788\n00:38:11.100 --> 00:38:14.220\nthings that are updated, or\nadded as augmentation in 12 R2.\n\n789\n00:38:14.220 --> 00:38:16.605\nThis link gives you\na complete list of all those.\n\n790\n00:38:16.605 --> 00:38:18.952\nI kinda cherry picked a bunch of stuff.\n\n791\n00:38:18.952 --> 00:38:20.915\nWe talked about the dynamic witness.\n\n792\n00:38:20.915 --> 00:38:23.223\nWe talked about force quorum resiliency.\n\n793\n00:38:23.223 --> 00:38:25.549\nWe talked about tie\nbreaker 50% note split.\n\n794\n00:38:25.549 --> 00:38:28.093\nIf you've heard me talk about\na lot of these things already, but\n\n795\n00:38:28.093 --> 00:38:29.362\nyou want to go in and take a look,\n\n796\n00:38:29.362 --> 00:38:32.303\nthis is that complete list where\neverything is available to you, right?\n\n797\n00:38:32.303 --> 00:38:37.395\nSo when you go down below,\nHigh availability improvements,\n\n798\n00:38:42.617 --> 00:38:45.876\nOf course, if I go too fast, I'm gonna\nbe the one that goes right by it, right.\n\n799\n00:38:45.876 --> 00:38:47.502\nAll right, so let me see here.\n\n800\n00:38:47.502 --> 00:38:49.828\nOr Active Directory detach\ncluster's another good one.\n\n801\n00:38:49.828 --> 00:38:56.390\nWe no longer rely on Active Directory or\na naming and resolution information.\n\n802\n00:38:56.390 --> 00:38:58.640\nAll right, so we've got all this.\n\n803\n00:38:58.640 --> 00:39:01.770\nAnd then let's go down,\nlet's go down, let's go down.\n\n804\n00:39:01.770 --> 00:39:05.610\nGlobal manager update mode,\nwe talked about that as well.\n\n805\n00:39:05.610 --> 00:39:09.470\nAnd cluster node health detection,\nbeing able to see what's going on.\n\n806\n00:39:09.470 --> 00:39:12.770\nWhere is my, there's cluster dashboard.\n\n807\n00:39:12.770 --> 00:39:14.380\nAll right, where did it, I know why.\n\n808\n00:39:16.690 --> 00:39:19.851\nShould be, let me see if it's down here,\none second.\n\n809\n00:39:25.398 --> 00:39:29.700\nManagement of Storage BitLocker, and\n\n810\n00:39:29.700 --> 00:39:34.790\nlet's get the file cluster we're updating.\n\n811\n00:39:34.790 --> 00:39:35.367\nWe'll talk about all that.\n\n812\n00:39:35.367 --> 00:39:41.420\nWhat I want is not the directory\nintegration quorum.\n\n813\n00:39:41.420 --> 00:39:43.404\nWhere did it go?\n\n814\n00:39:43.404 --> 00:39:44.386\nThat's Scheduler, PowerShell.\n\n815\n00:39:44.386 --> 00:39:46.434\n&gt;&gt; I think you want [INAUDIBLE].\n\n816\n00:39:46.434 --> 00:39:50.949\n&gt;&gt; Yeah, I just wanted to show you\nthe types that were available.\n\n817\n00:39:50.949 --> 00:39:55.520\nBut I think that they moved them and\nI'd probably have to click through.\n\n818\n00:39:55.520 --> 00:39:58.710\nAll right, not important, I have\nthem summarized in my notes for you.\n\n819\n00:39:58.710 --> 00:40:02.240\nI was just gonna show you the different\ntypes of options that are available\n\n820\n00:40:02.240 --> 00:40:03.590\nin the wizard, but you get the idea.\n\n821\n00:40:03.590 --> 00:40:06.850\nThis is a good screen to look at, or a\ngood website, rather, to look in general,\n\n822\n00:40:06.850 --> 00:40:08.870\nit's got all sorts of great information.\n\n823\n00:40:08.870 --> 00:40:10.260\nA lot of the things\nwe've already mentioned,\n\n824\n00:40:10.260 --> 00:40:13.640\nsome other things that you want to\nperhaps delve a little deeper into.\n\n825\n00:40:13.640 --> 00:40:16.975\nAll right so here, configuring this with\nthis witness, configure a file share\n\n826\n00:40:16.975 --> 00:40:20.200\nwitness, do not configure\na witness as Mike was suggesting.\n\n827\n00:40:20.200 --> 00:40:21.950\nMaybe we don't need the witness anymore.\n\n828\n00:40:21.950 --> 00:40:23.960\nLet's go back and\nchange that configuration, right?\n\n829\n00:40:23.960 --> 00:40:24.890\nSo we have different options.\n\n830\n00:40:24.890 --> 00:40:29.010\nWe're going to select\nthe quorum witness here and\n\n831\n00:40:29.010 --> 00:40:31.460\nwe're gonna specify a disk witness.\n\n832\n00:40:31.460 --> 00:40:33.820\nSo, the default choice here.\n\n833\n00:40:33.820 --> 00:40:34.880\nLet's click next.\n\n834\n00:40:35.910 --> 00:40:40.045\nAnd then you'll see we get to specify\nwhat disk we're gonna use, right?\n\n835\n00:40:40.045 --> 00:40:42.050\nCause' remember we saw\nour storage options.\n\n836\n00:40:42.050 --> 00:40:43.000\nYou see we have two.\n\n837\n00:40:43.000 --> 00:40:47.160\nYou see currently cluster disk one is\nselected, cluster disk, what is that,\n\n838\n00:40:47.160 --> 00:40:50.220\nthree is listed as available but\nnot selected, right?\n\n839\n00:40:50.220 --> 00:40:54.180\nSo we're gonna make a choice here, if we\nwanna choose or swap out what we're doing.\n\n840\n00:40:54.180 --> 00:40:56.220\nWe're gonna go ahead and make a choice.\n\n841\n00:40:56.220 --> 00:41:01.599\nSo I'm gonna choose my, let me just\ntake a look and see which one is Q.\n\n842\n00:41:01.599 --> 00:41:03.980\nThat would be this one right here, okay.\n\n843\n00:41:03.980 --> 00:41:06.110\nSo I'm gonna go ahead, I was smart.\n\n844\n00:41:06.110 --> 00:41:08.072\nI labeled my drives with my drive letters.\n\n845\n00:41:08.072 --> 00:41:12.040\nQ for quorum, and V for\nclustered shared volume.\n\n846\n00:41:12.040 --> 00:41:15.630\nSo we're gonna move that in other\nwords right away from the V\n\n847\n00:41:15.630 --> 00:41:18.270\ndrive which is where it\ncurrently sits on drive one.\n\n848\n00:41:18.270 --> 00:41:22.730\nI'm gonna choose this one right here,\nwhich is going to be my queue and\n\n849\n00:41:22.730 --> 00:41:25.690\nI'm gonna make that one my witness for\nthe quorum, right?\n\n850\n00:41:25.690 --> 00:41:26.680\nSo I'm gonna go ahead and\n\n851\n00:41:26.680 --> 00:41:29.970\nchoose to move this based on what\nthe prior configuration was.\n\n852\n00:41:29.970 --> 00:41:32.100\nSo I'm gonna select, and\nnotice, right, this is,\n\n853\n00:41:32.100 --> 00:41:36.690\neven though it is a check, and with a box\nthere I can only select one, right?\n\n854\n00:41:36.690 --> 00:41:38.310\nI'm not, it's mutually exclusive.\n\n855\n00:41:38.310 --> 00:41:39.640\nIt should be a radio button in theory.\n\n856\n00:41:39.640 --> 00:41:41.010\n&gt;&gt; It should be.\n&gt;&gt; If you think about that.\n\n857\n00:41:41.010 --> 00:41:43.460\n&gt;&gt; UI guys just doing they're job.\n\n858\n00:41:43.460 --> 00:41:46.865\n&gt;&gt; I don't what they're doing over there,\ntoo much mountain dew probably.\n\n859\n00:41:46.865 --> 00:41:47.620\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so\n\n860\n00:41:47.620 --> 00:41:50.080\nwe're going to go ahead and\nselect our drive as you can see.\n\n861\n00:41:50.080 --> 00:41:51.780\nI'm going to click next there.\n\n862\n00:41:51.780 --> 00:41:55.985\nSo you'll see here, this witness So\nwe're specifying, confirming what we want.\n\n863\n00:41:55.985 --> 00:41:57.555\nCluster disc, which one, right?\n\n864\n00:41:57.555 --> 00:42:00.055\nWhen this resource enabled, right?\n\n865\n00:42:00.055 --> 00:42:03.175\nFor voting and all modes to\nconfigure it have quorum votes.\n\n866\n00:42:03.175 --> 00:42:04.905\nYour cluster quorum\nconfig will be changed.\n\n867\n00:42:04.905 --> 00:42:06.435\nGreat.\nIt's just essentially telling us\n\n868\n00:42:06.435 --> 00:42:07.555\nwhat we're about to do.\n\n869\n00:42:07.555 --> 00:42:08.415\nNo problem.\n\n870\n00:42:08.415 --> 00:42:10.930\nClick next, give that just a second.\n\n871\n00:42:10.930 --> 00:42:11.730\nSeems very quick, right?\n\n872\n00:42:11.730 --> 00:42:13.810\nAssuming everything is online and\ncommunicating of course.\n\n873\n00:42:13.810 --> 00:42:17.010\nWe validated all that during our walk\nthrough to make sure everything was up\n\n874\n00:42:17.010 --> 00:42:17.660\nand running.\n\n875\n00:42:17.660 --> 00:42:21.120\nAll right, so configure cluster quorum\nsettings, again we get that report.\n\n876\n00:42:21.120 --> 00:42:23.991\nUp to us to decide if we want to go take\na look at it or not, let's click finish.\n\n877\n00:42:25.590 --> 00:42:30.110\nAnd so now, we've gone ahead and\nchanged the default configuration on\n\n878\n00:42:30.110 --> 00:42:33.910\nthe cluster and we've gone in and\nconfigured the cluster forum, and\n\n879\n00:42:33.910 --> 00:42:40.390\nspecified a different witness specifying\na different drive to use for the witness.\n\n880\n00:42:40.390 --> 00:42:44.160\nAnd we've gone through a lot in\nthrough the steps of how to do that.\n\n881\n00:42:44.160 --> 00:42:46.290\nWhen you come back and\njoin us through the next episode.\n\n882\n00:42:46.290 --> 00:42:50.957\nWhat I'm gonna do is I'm gonna come over\nhere to disks, and you'll see now cluster\n\n883\n00:42:50.957 --> 00:42:55.370\ndisk three, disk witness in quorum to\nhave flopped, in other words, right?\n\n884\n00:42:55.370 --> 00:42:58.178\nAre we gonna be able to take\navailable storage, right?\n\n885\n00:42:58.178 --> 00:43:01.245\nAnd we talked about this, and\nadd to cluster shared volume.\n\n886\n00:43:01.245 --> 00:43:04.515\nSo we'll take a look at how to augment\nour cluster shared volumes by adding in\n\n887\n00:43:04.515 --> 00:43:05.415\nsome storage.\n\n888\n00:43:05.415 --> 00:43:07.735\nSo we'll take a look at that and\nmake sure we see how to do that.\n\n889\n00:43:07.735 --> 00:43:10.525\nThen we're gonna go through and validate\nthe cluster in the sense that we're\n\n890\n00:43:10.525 --> 00:43:13.615\ngonna add a roll and start playing with\nit and feel it over and see what happens.\n\n891\n00:43:13.615 --> 00:43:15.370\nSo we'll take a look and\nit's pretty cool stuff too.\n\n892\n00:43:15.370 --> 00:43:17.930\n&gt;&gt; I am excited,\nhope everybody out there is as well.\n\n893\n00:43:17.930 --> 00:43:21.310\nThank you for that great walk through,\nso we can kinda see where we are at,\n\n894\n00:43:21.310 --> 00:43:24.780\nwhat we have got so\nfar as we set up our fail over cluster.\n\n895\n00:43:24.780 --> 00:43:28.428\nAnd that's gonna do for this particular\nepisode, signing off for ITPRO.TV,\n\n896\n00:43:28.428 --> 00:43:30.138\nI've been your host Micheal Rodrick.\n\n897\n00:43:30.138 --> 00:43:32.080\n&gt;&gt; Who am I?\n\n898\n00:43:32.080 --> 00:43:34.120\n&gt;&gt; You are a fail over cluster today.\n\n899\n00:43:34.120 --> 00:43:34.745\n&gt;&gt; Awesome.\n\n900\n00:43:34.745 --> 00:43:36.690\n&gt;&gt; [LAUGH]\n&gt;&gt; I want to be a cluster shared volume.\n\n901\n00:43:36.690 --> 00:43:37.540\n&gt;&gt; Okay.\nWe got Mr.\n\n902\n00:43:37.540 --> 00:43:40.410\nCSV right next to me and\nwe'll see you next time.\n\n903\n00:43:40.410 --> 00:43:42.691\n&gt;&gt; Take care, everybody.\n\n904\n00:43:42.691 --> 00:43:48.620\n[MUSIC]\n\n905\n00:43:48.620 --> 00:43:51.767\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "239461135"
        },
        {
          "description": "Adam and Mike continue the configuration of the failover cluster, discussing how to add storage to the Clustered Shared Volume. In addition, they also demonstrate how to add the File Server Role to the cluster and set up an SMB share.",
          "length": "2346",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-4-configure_failover_clustering_pt4-101917.00_42_40_01.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-4-configure_failover_clustering_pt4-101917.00_42_40_01.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-4-configure_failover_clustering_pt4-101917.00_42_40_01.Still001-sm.jpg",
          "title": "Configure Failover Clustering Part 4",
          "transcript": "WEBVTT\n\n1\n00:00:00.002 --> 00:00:04.084\nWelcome to ITPro.TV,\n\n2\n00:00:04.084 --> 00:00:09.549\nI'm your host [CROSSTALK]\n&gt;&gt; You're\n\n3\n00:00:09.549 --> 00:00:12.760\nwatching ITPro.TV\n&gt;&gt; Hello,\n\n4\n00:00:12.760 --> 00:00:15.260\nwelcome to another exciting\nepisode here at ITPro.TV.\n\n5\n00:00:15.260 --> 00:00:20.950\nI'm your host, Mike Rodrick, and today\nwe're doing our Windows Server 2012 R2,\n\n6\n00:00:20.950 --> 00:00:23.610\nPreparing for the 70-412 exam.\n\n7\n00:00:23.610 --> 00:00:25.430\nAnd specifically in this episode,\n\n8\n00:00:25.430 --> 00:00:28.820\nthis is a part four in our\nconfiguring failover clustering.\n\n9\n00:00:28.820 --> 00:00:32.750\nWe're just going to jump right back in,\nand I will turn it over to our star, Mr.\n\n10\n00:00:32.750 --> 00:00:33.300\nAdam Gordon.\n\n11\n00:00:33.300 --> 00:00:34.290\nWelcome back, Adam.\n\n12\n00:00:34.290 --> 00:00:35.980\n&gt;&gt; Hello, everybody.\n\n13\n00:00:35.980 --> 00:00:37.144\nI thought it was a cluster shared volume.\n\n14\n00:00:37.144 --> 00:00:38.450\n&gt;&gt; [INAUDIBLE]\n&gt;&gt; I'm a star.\n\n15\n00:00:38.450 --> 00:00:41.132\n&gt;&gt; Mr.CSV.\n&gt;&gt; [CROSSTALK] CSV.\n\n16\n00:00:41.132 --> 00:00:43.100\n&gt;&gt; Our star CSV, I like that.\n\n17\n00:00:43.100 --> 00:00:44.650\nIf we could get this thing to twinkle,\n\n18\n00:00:44.650 --> 00:00:46.455\nthat would be-\n&gt;&gt; Yeah, we'll work on that.\n\n19\n00:00:46.455 --> 00:00:49.040\n&gt;&gt; Starry IT pro TV CSV evening.\n\n20\n00:00:49.040 --> 00:00:53.170\nAlright, so if you would join\nus by the IT pro TV campfire,\n\n21\n00:00:53.170 --> 00:00:54.830\nlet us continue our conversation.\n\n22\n00:00:54.830 --> 00:00:56.990\nSo we're in part four\nwhich means two things.\n\n23\n00:00:56.990 --> 00:01:00.260\nOne we've done three parts, you should\nprobably watch those episodes before you\n\n24\n00:01:00.260 --> 00:01:03.860\ncontinue with us here but it also\nmeans we're at a critical break point.\n\n25\n00:01:03.860 --> 00:01:06.490\nWe're going to add some storage\ninto our cluster shared volume,\n\n26\n00:01:06.490 --> 00:01:09.715\nessentially extend that available\ndisk that has not incorporated.\n\n27\n00:01:09.715 --> 00:01:11.055\nWe're going to show you how to do that.\n\n28\n00:01:11.055 --> 00:01:12.535\nBefore we do that, I wanted to go back and\n\n29\n00:01:12.535 --> 00:01:15.765\nshow you the right website from\nthe last episode I was in.\n\n30\n00:01:15.765 --> 00:01:18.505\nSearch, we're going to try to find\nthe differences between the various\n\n31\n00:01:18.505 --> 00:01:19.145\nforeign models.\n\n32\n00:01:19.145 --> 00:01:22.865\nThere's several website I wanted to\nshow you which showed you the link\n\n33\n00:01:22.865 --> 00:01:24.505\nwhere all of the feature sets are.\n\n34\n00:01:24.505 --> 00:01:26.535\nYou can find it from there but\nit's kind of buried.\n\n35\n00:01:27.835 --> 00:01:30.350\nSo I went ahead and\nbrought up the actual website for you, so\n\n36\n00:01:30.350 --> 00:01:31.940\njoin me here that's\nthe point at where it is.\n\n37\n00:01:31.940 --> 00:01:35.380\nIt is in the show notes, you can certainly\ntake a look at it there as well but\n\n38\n00:01:35.380 --> 00:01:37.740\nI like this site, it's the one that\nI'm trying to bring up for you.\n\n39\n00:01:37.740 --> 00:01:40.370\nCuz it goes all the way back to 2003 and\n\n40\n00:01:40.370 --> 00:01:46.730\nshows you all the differences in how\nquorum has migrated or changed over time.\n\n41\n00:01:46.730 --> 00:01:49.630\nMicrosoft occasionally love\nto reach into that bag of\n\n42\n00:01:49.630 --> 00:01:52.720\nminutia information that only\nthree people on the planet know.\n\n43\n00:01:52.720 --> 00:01:57.820\nAnd two of them have forgotten about,\nand one doesn't care and occasionally\n\n44\n00:01:57.820 --> 00:02:02.340\nask you questions about something like\nhey, even though this is a 12 R2 exam.\n\n45\n00:02:02.340 --> 00:02:04.010\nRemember all the way back to like 2003?\n\n46\n00:02:04.010 --> 00:02:06.610\nAnd most of you are saying\n\n47\n00:02:06.610 --> 00:02:10.480\nI wasn't working in this industry\nwhen 2003 was around, but so no.\n\n48\n00:02:10.480 --> 00:02:13.260\nWell, we're going to ask you a question\nabout that even though you don't know.\n\n49\n00:02:13.260 --> 00:02:14.910\nSo sometimes it's good to go back and\n\n50\n00:02:14.910 --> 00:02:18.580\ntake a look at some of the documentation\non some of the ways things work.\n\n51\n00:02:18.580 --> 00:02:22.850\nBecause a lot of times they'll ask about\nhey we have this new thing in Quorum or\n\n52\n00:02:22.850 --> 00:02:24.380\nthis new capability.\n\n53\n00:02:24.380 --> 00:02:25.900\nEither what does it do or\n\n54\n00:02:25.900 --> 00:02:29.980\nthis other capability, where you've got\nmaybe two different failover clusters\n\n55\n00:02:29.980 --> 00:02:34.480\nrunning with different versions\nof capabilities in each cluster.\n\n56\n00:02:34.480 --> 00:02:36.180\nHow are you gonna fix the problem?\n\n57\n00:02:36.180 --> 00:02:39.810\nAnd you may have to be able to go back one\nor two generations to understand that.\n\n58\n00:02:39.810 --> 00:02:41.771\nSo, it's always good to take a look.\n\n59\n00:02:41.771 --> 00:02:47.253\nSo, this is a nice little blog post here\nIt shows you in 2003 we had local and\n\n60\n00:02:47.253 --> 00:02:52.255\nstandard quorum and we had majority\nnode set, as you can see down here.\n\n61\n00:02:52.255 --> 00:02:57.605\nThen in 2008, 2008 R2,\nwe change to essentially what we see now,\n\n62\n00:02:57.605 --> 00:03:01.360\nas being the new,\nmodern way we deal with quorum.\n\n63\n00:03:01.360 --> 00:03:05.784\nNode majority, clusters that have an odd\nnumber of nodes, we'll do node majority.\n\n64\n00:03:05.784 --> 00:03:09.520\nNode in disc majority clusters\nwith an even number of nodes\n\n65\n00:03:09.520 --> 00:03:12.740\nwill do node in disc majority node and\nfile share majority.\n\n66\n00:03:12.740 --> 00:03:16.230\nIf you have a special configuration\nyou'll use the file share\n\n67\n00:03:16.230 --> 00:03:19.042\nconfiguration to be\nable to deal with that.\n\n68\n00:03:19.042 --> 00:03:23.570\nAnd then specifically the file share\nis the weakness in that example.\n\n69\n00:03:23.570 --> 00:03:25.720\nWe took a look at part of that\nas we did our weakness or\n\n70\n00:03:25.720 --> 00:03:28.020\nrather our configuration of a cluster.\n\n71\n00:03:28.020 --> 00:03:31.130\nAnd no majority Viscomi notice\nthat says not recommended,\n\n72\n00:03:31.130 --> 00:03:34.150\nyou may not be able to notice,\nit's kind of small but not recommended.\n\n73\n00:03:34.150 --> 00:03:37.780\nThis is only where you're\nessentially in use for\n\n74\n00:03:37.780 --> 00:03:41.370\nvery specific and\nnarrowly defined situations\n\n75\n00:03:41.370 --> 00:03:45.140\nyou'll see here sustained failures on\nnotes except one if the disk is online.\n\n76\n00:03:45.140 --> 00:03:48.710\nHowever, not recommended because this disk\nmay become a single point of failure.\n\n77\n00:03:48.710 --> 00:03:53.080\nSo in other words, it's not that you can't\ndo this, but the problem becomes that this\n\n78\n00:03:53.080 --> 00:03:56.590\nessentially allows you to\noverride the concept of quorum.\n\n79\n00:03:56.590 --> 00:04:00.490\nAnd say essentially as long as we have\nat least one capable resource up and\n\n80\n00:04:00.490 --> 00:04:03.500\nrunning and at least one of the disks\nare available, we will operate.\n\n81\n00:04:03.500 --> 00:04:07.360\nBut then what they're saying is you run\nthe production in that configuration.\n\n82\n00:04:07.360 --> 00:04:10.970\nThat single solution becomes\nnow the point of failure, and\n\n83\n00:04:10.970 --> 00:04:13.510\nif now something else goes wrong,\nyou are done.\n\n84\n00:04:13.510 --> 00:04:16.830\nWell, okay I would rather be able\nto fall back on something and\n\n85\n00:04:16.830 --> 00:04:19.160\nrun limping along for a while I fix it.\n\n86\n00:04:19.160 --> 00:04:21.845\nRather than having something\nyou can't start the cluster\n\n87\n00:04:21.845 --> 00:04:25.945\nProvide services because on quorum\nthreshold and not have anything, right.\n\n88\n00:04:25.945 --> 00:04:29.965\nAnd there may be reasons why that\nmay actually be valuable to you,\n\n89\n00:04:29.965 --> 00:04:30.790\njust pointing that out.\n\n90\n00:04:30.790 --> 00:04:32.535\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so that we see 12,\n\n91\n00:04:32.535 --> 00:04:36.595\nand then we see 12 R2 and\nremember the let difference with 12 and\n\n92\n00:04:36.595 --> 00:04:40.215\n12 R2 was the advent of dynamic quorum and\ndynamic witness.\n\n93\n00:04:40.215 --> 00:04:45.340\nAnd node tie breaker 50%\nsplit on the quorum.\n\n94\n00:04:45.340 --> 00:04:47.930\nThose additional features that we\ntalked about, get out of here.\n\n95\n00:04:47.930 --> 00:04:49.300\nSo it's a nice little summary,\n\n96\n00:04:49.300 --> 00:04:51.720\na little blog post of all\nthe things that are going on.\n\n97\n00:04:51.720 --> 00:04:54.780\nSo it may be worth your time to go in and\ntake a look.\n\n98\n00:04:54.780 --> 00:04:57.710\nJust so you know you can see just in my\nnotes there I make sure I have the URL\n\n99\n00:04:57.710 --> 00:04:59.750\nthere for you so you can see it.\n\n100\n00:04:59.750 --> 00:05:05.910\nSo we're back inside of our failover\nconfiguration or failover cluster manager.\n\n101\n00:05:05.910 --> 00:05:09.575\nWe're on the disks area as we were about\nto do and we're going to go in and\n\n102\n00:05:09.575 --> 00:05:12.115\nwe're going to add this\navailable storage right up here.\n\n103\n00:05:12.115 --> 00:05:17.315\nRemember we flip flop these and\nwe assigned the witness to the cue for\n\n104\n00:05:17.315 --> 00:05:22.100\nquorum drive right so you can see\nthis one is the cue for quorum drive.\n\n105\n00:05:22.100 --> 00:05:26.519\nAnd the V for CSV, for Cluster Shared\nVolume, I plan to have, right?\n\n106\n00:05:26.519 --> 00:05:28.770\n&gt;&gt; [LAUGH]\n&gt;&gt; Is now gonna be what we're gonna use.\n\n107\n00:05:28.770 --> 00:05:32.450\nIt's marked available, so we're gonna\nright click on that as you saw me preview\n\n108\n00:05:32.450 --> 00:05:35.950\na minute ago, or in the last episode\nagain as we're just getting started.\n\n109\n00:05:35.950 --> 00:05:37.120\nAnd we're gonna go ahead,\n\n110\n00:05:37.120 --> 00:05:42.040\nwe're gonna add this into our cluster\nshared volume on our little wizard here.\n\n111\n00:05:42.040 --> 00:05:46.055\nSo we're just gonna go ahead and\nclick that, and boom, right.\n\n112\n00:05:46.055 --> 00:05:47.150\nQuickest wizard you've ever seen.\n\n113\n00:05:47.150 --> 00:05:49.060\n&gt;&gt; Wow.\n&gt;&gt; Just gets added right in, right.\n\n114\n00:05:49.060 --> 00:05:50.570\nI made that quick just for you.\n\n115\n00:05:50.570 --> 00:05:53.160\nI told the UI guys,\nnone of this wizard stuff.\n\n116\n00:05:53.160 --> 00:05:53.680\n&gt;&gt; That's right.\n\n117\n00:05:53.680 --> 00:05:54.370\n&gt;&gt; Make it happen.\n\n118\n00:05:54.370 --> 00:05:57.240\nAlright, you could see it's just\na simple right click once we do that.\n\n119\n00:05:57.240 --> 00:05:59.810\nImmediately it gets added in,\nand notice by the way,\n\n120\n00:05:59.810 --> 00:06:03.380\nthat now it says cluster shared volumes\nunder aside or close to shared volume.\n\n121\n00:06:03.380 --> 00:06:06.940\nUnder a sign two so\nwe made that available for ourselves and\n\n122\n00:06:06.940 --> 00:06:08.530\nwe're going to now leverage that.\n\n123\n00:06:08.530 --> 00:06:11.150\nAlright now before we go any further I\nwant to talk about something else really\n\n124\n00:06:11.150 --> 00:06:14.640\nimportant which is migrating and\nupgrading a failover clusters.\n\n125\n00:06:14.640 --> 00:06:17.520\nBecause often times as you\nheard me just talk about with\n\n126\n00:06:17.520 --> 00:06:20.400\nthe quick runs doing the review\non the quorum types right?\n\n127\n00:06:20.400 --> 00:06:22.920\nWe may be running a certain kind of\n\n128\n00:06:22.920 --> 00:06:25.720\ntype of cluster perhaps a 2008\nar2 let's say hypothetically.\n\n129\n00:06:25.720 --> 00:06:29.640\nHopefully you're not running any 2003\nif you are, hopefully moving off them,\n\n130\n00:06:29.640 --> 00:06:33.680\nremember it's no longer supported as\na production level security patch and\n\n131\n00:06:33.680 --> 00:06:35.450\nmaintained OS by Microsoft.\n\n132\n00:06:35.450 --> 00:06:38.410\nThat doesn't mean we don't run it,\njust means if we run it,\n\n133\n00:06:38.410 --> 00:06:39.900\nwe tend not to tell people about it.\n\n134\n00:06:39.900 --> 00:06:41.680\nThat's what that means.\n\n135\n00:06:41.680 --> 00:06:46.650\nAll right but hopefully it's a 2008 R2,\nlet's say hypothetically right?\n\n136\n00:06:46.650 --> 00:06:50.210\nAnd or 2008 cuz we do support an upgrade\nor migration path out of those.\n\n137\n00:06:50.210 --> 00:06:52.470\nWe do not, just to be clear,\nsupport an upgrade or\n\n138\n00:06:52.470 --> 00:06:56.340\nmigration path out of a 2003\nfailover cluster into 2012 R2.\n\n139\n00:06:56.340 --> 00:07:01.980\nThat is not available to us but\nif you're running the 12,\n\n140\n00:07:01.980 --> 00:07:07.350\nwant to go to 12 R2, 2008 R2, go up to 12\nR2, 2008 up to 12 R2, we do support that.\n\n141\n00:07:07.350 --> 00:07:09.180\nJust to be aware of that, so you know.\n\n142\n00:07:09.180 --> 00:07:11.830\nProbably good information for\nexam purposes.\n\n143\n00:07:11.830 --> 00:07:15.870\nWe often we'll see one or more questions\nin any of these technology areas.\n\n144\n00:07:15.870 --> 00:07:19.700\nEspecially technology that's so\ncritical to our ability to survive and\n\n145\n00:07:19.700 --> 00:07:23.930\nthrive like fail over clustering,\nwe'll often see questions about upgrade.\n\n146\n00:07:23.930 --> 00:07:27.940\nOur support and paths and prior\nversions and could we do it this way?\n\n147\n00:07:27.940 --> 00:07:31.930\nIs there an interim stop where you've\ngot to go you know 2008 and then go up?\n\n148\n00:07:31.930 --> 00:07:32.910\nThat kind of thing.\n\n149\n00:07:32.910 --> 00:07:34.900\nWe see that with SharePoint,\nwith Exchange.\n\n150\n00:07:34.900 --> 00:07:36.960\nFor instance a lot of times right,\nthings like that.\n\n151\n00:07:36.960 --> 00:07:41.040\nSo it was good to know that but\nwe can go ahead and migrate cluster roles,\n\n152\n00:07:41.040 --> 00:07:45.230\nclusters configuration from clusters\nrunning in prior versions up.\n\n153\n00:07:45.230 --> 00:07:47.740\nSo, just be aware that we don't\nmigrate the storage, right?\n\n154\n00:07:47.740 --> 00:07:52.155\nThat's separate, you're copying files over\non the back end, totally separate process.\n\n155\n00:07:52.155 --> 00:07:55.927\nThe cluster migration wizard doesn't deal\nwith that, although it can deal with\n\n156\n00:07:55.927 --> 00:07:59.350\nconfiguration information around\nwhat that storage looks like.\n\n157\n00:07:59.350 --> 00:08:02.498\nBut it does not do the actual data\nmigration, that'll be separate.\n\n158\n00:08:02.498 --> 00:08:05.480\nBut we can migrate the cluster roles and\nthe configuration.\n\n159\n00:08:05.480 --> 00:08:06.430\nSo be aware of that.\n\n160\n00:08:07.530 --> 00:08:08.942\nTwo different ways to do this, right?\n\n161\n00:08:08.942 --> 00:08:12.600\nWe can migrate from an existing\ncluster into a new one.\n\n162\n00:08:12.600 --> 00:08:17.165\nEssentially, we have an existing dual or\nmultinode cluster.\n\n163\n00:08:17.165 --> 00:08:21.810\nAnd we can go ahead, let's say, if we're\nboth running a 12 or Windows, well,\n\n164\n00:08:21.810 --> 00:08:25.300\nlet's say 12, when we're running to 12r2\nhypothetically, something like that.\n\n165\n00:08:25.300 --> 00:08:29.340\nTwo new cluster nodes that are running 12,\nlet's say we got a 2 node cluster.\n\n166\n00:08:29.340 --> 00:08:32.550\nWe set up a separate set\nof nodes running 12r2, so\n\n167\n00:08:32.550 --> 00:08:36.025\nwe essentially put them over there,\nand we migrate between them.\n\n168\n00:08:36.025 --> 00:08:40.230\nSo we're moving off of\nexisting infrastructure, and\n\n169\n00:08:40.230 --> 00:08:44.830\nwe're pushing stuff into a brand new\nconfigured cluster, probably, sundown and\n\n170\n00:08:44.830 --> 00:08:48.790\nget of the old hardware,\nin theory overtime once that's done.\n\n171\n00:08:48.790 --> 00:08:50.330\nSo just be aware of that.\n\n172\n00:08:50.330 --> 00:08:54.030\nSo anything that's existing,\nrunning on 2008, 2008 R2, 12,\n\n173\n00:08:54.030 --> 00:08:58.080\ncan be migrated over into a brand\n\n174\n00:08:59.230 --> 00:09:03.355\nnew a green field install of,\nif you will, 12R2 setup as a cluster.\n\n175\n00:09:03.355 --> 00:09:05.255\nThat would be one way to do that.\n\n176\n00:09:05.255 --> 00:09:08.505\nWe call that a migrate from an existing,\nright?\n\n177\n00:09:08.505 --> 00:09:10.245\nThat would be the way\nwe would define that.\n\n178\n00:09:10.245 --> 00:09:13.415\nWe also have the ability to\nperform an in place migration so\n\n179\n00:09:13.415 --> 00:09:19.080\nwe can essentially upgrade or\nuplift the existing cluster.\n\n180\n00:09:19.080 --> 00:09:23.270\nSo, if it's an in-place two note cluster\nconfiguration, we would have to, you\n\n181\n00:09:23.270 --> 00:09:28.070\ncan imagine what we would do here, push\neverything off to one side of the cluster.\n\n182\n00:09:28.070 --> 00:09:30.620\nUpgrade one node, bring that up,\n\n183\n00:09:30.620 --> 00:09:34.930\nestablish a brand new 12r2 fail over\ncluster as a single node initially.\n\n184\n00:09:34.930 --> 00:09:38.282\nMove everything over, and then bring\nup the other node and add it in.\n\n185\n00:09:38.282 --> 00:09:40.434\nSo you can imagine what\nwould kind of happen there.\n\n186\n00:09:40.434 --> 00:09:44.080\nSo we're doing that,\neither way it will work, not a problem.\n\n187\n00:09:44.080 --> 00:09:46.120\nIt's just a matter of\nwhat you choose to do.\n\n188\n00:09:46.120 --> 00:09:51.110\nIt's not often that we wanna\ndo in place versus migrated.\n\n189\n00:09:51.110 --> 00:09:54.770\nSo it's just a question of hardware\navailability and capabilities, right?\n\n190\n00:09:54.770 --> 00:09:56.410\nDoes that hardware exist?\n\n191\n00:09:56.410 --> 00:09:57.870\nIs it still viable?\n\n192\n00:09:57.870 --> 00:09:59.130\nDo we have new hardware?\n\n193\n00:09:59.130 --> 00:10:01.250\nMaybe somebody's gone out and\nbought some new hardware and\n\n194\n00:10:01.250 --> 00:10:03.820\nwe're gonna bring it online,\nwhatever the case may be.\n\n195\n00:10:03.820 --> 00:10:06.580\nMaybe we're virtualizing,\nwhere before this was physical.\n\n196\n00:10:06.580 --> 00:10:09.940\nAnother business scenario\nthat we often see, the older,\n\n197\n00:10:09.940 --> 00:10:12.880\nespecially 2008 or 2008r2 infrastructure.\n\n198\n00:10:12.880 --> 00:10:14.790\nIt's almost without exception,\n\n199\n00:10:14.790 --> 00:10:18.070\npretty even bet that it's going to be\nrunning physical as opposed to virtual.\n\n200\n00:10:18.070 --> 00:10:22.257\nAnd you may now go over to 12r2 and\nsay, hey, I want to leverage that whole\n\n201\n00:10:22.257 --> 00:10:26.940\nvirtualization capability and I wanna go\nin, whether it's on VMware or HyperV.\n\n202\n00:10:26.940 --> 00:10:28.610\nIt's Microsoft, so we should say HyperV.\n\n203\n00:10:28.610 --> 00:10:31.670\nBut let's be honest,\nit could be running on either of those.\n\n204\n00:10:31.670 --> 00:10:34.580\nAnd as a result,\nyou may wanna virtualize, right?\n\n205\n00:10:34.580 --> 00:10:38.610\nSo there could be lots of reasons why\nyou may wanna be building a brand new\n\n206\n00:10:38.610 --> 00:10:42.600\ncluster or wanted to move things\nover that way, kind of in parallel.\n\n207\n00:10:42.600 --> 00:10:45.933\nBut there's especially in smaller\nbusinesses, a lot of reasons why you may\n\n208\n00:10:45.933 --> 00:10:49.170\nleverage existing infrastructure\nbecause maybe it's viable, right?\n\n209\n00:10:49.170 --> 00:10:51.300\nSo it's really up to you to decide,\nso just be aware of that.\n\n210\n00:10:51.300 --> 00:10:55.237\nBut we do wanna make sure that you're\ncomfortable with both those options and\n\n211\n00:10:55.237 --> 00:10:57.853\nat least have a sense of\nwhat our choices are there.\n\n212\n00:10:57.853 --> 00:11:01.219\nIt is gonna be part of the exam\npreparation conversation, important for\n\n213\n00:11:01.219 --> 00:11:03.882\nyou to be aware of and important for\nyou to have a sense of.\n\n214\n00:11:03.882 --> 00:11:06.853\nAll right, so I talked about the fact\nwe would add in, configure the quorum,\n\n215\n00:11:06.853 --> 00:11:07.690\nchange the witness.\n\n216\n00:11:07.690 --> 00:11:09.210\nWe did that in the last episode.\n\n217\n00:11:09.210 --> 00:11:12.450\nPromised you we would see how to add\nstorage into the cluster shared volume.\n\n218\n00:11:12.450 --> 00:11:14.700\nWe did that,\nthat didn't really take too long at all.\n\n219\n00:11:14.700 --> 00:11:18.738\nLet's verify the functionality of\nour failover cluster by going in and\n\n220\n00:11:18.738 --> 00:11:22.841\nadding in some roles to the cluster and\nhosting something that we then can\n\n221\n00:11:22.841 --> 00:11:26.223\nactually go break and\nsee if we could actually still use it.\n\n222\n00:11:26.223 --> 00:11:30.579\nCuz up until now, this has all been a lot\nof fun but this is just us putting in all\n\n223\n00:11:30.579 --> 00:11:33.630\nthe plumbing and\nsetting up all the connections.\n\n224\n00:11:33.630 --> 00:11:35.610\nAnd we've got our skeleton in there.\n\n225\n00:11:35.610 --> 00:11:37.540\nWe haven't really done anything with it.\n\n226\n00:11:37.540 --> 00:11:40.017\nSo now we've gotta breathe a little\nlife into it to make this cluster\n\n227\n00:11:40.017 --> 00:11:40.846\nactually work for us.\n\n228\n00:11:40.846 --> 00:11:42.520\nSo that's what we're gonna do now.\n\n229\n00:11:42.520 --> 00:11:45.823\nSo what we're gonna do is\ngonna add in some rows here.\n\n230\n00:11:45.823 --> 00:11:47.850\nSo we're gonna go over here array role,\nI should say.\n\n231\n00:11:47.850 --> 00:11:48.630\nWe're gonna come over here.\n\n232\n00:11:48.630 --> 00:11:50.200\nIf you remember I showed you this earlier.\n\n233\n00:11:50.200 --> 00:11:53.260\nWe didn't have any roles instantiated,\nbut I said no problem, we'll come back.\n\n234\n00:11:53.260 --> 00:11:54.420\nWe'll take a look at this.\n\n235\n00:11:54.420 --> 00:11:56.370\nSo we're gonna go ahead,\nhighlight the role area.\n\n236\n00:11:56.370 --> 00:11:58.840\nWe're gonna configure roles,\nso click over here.\n\n237\n00:12:00.650 --> 00:12:02.428\nHigh availability wizard.\n\n238\n00:12:02.428 --> 00:12:04.375\nAll right, now, can you just, Mike,\n\n239\n00:12:04.375 --> 00:12:07.510\nhelp me out real quick just while\nI'm getting ready to do this.\n\n240\n00:12:08.590 --> 00:12:10.488\nLet's talk about the difference\nbetween high viability and\n\n241\n00:12:10.488 --> 00:12:11.612\nfault tolerance for just a minute.\n\n242\n00:12:11.612 --> 00:12:15.025\nCuz this is something that a lot of people\noften, for lack of a better way of just\n\n243\n00:12:15.025 --> 00:12:17.797\nputting it, just unfortunately,\nare backwards on, right?\n\n244\n00:12:17.797 --> 00:12:20.794\nThey just don't really get\nthe concepts clean, clear, and\n\n245\n00:12:20.794 --> 00:12:22.452\nreally applied appropriately.\n\n246\n00:12:22.452 --> 00:12:24.890\nAnd so they'll talk about\nfailover cluster and say, yeah,\n\n247\n00:12:24.890 --> 00:12:26.918\nthat means that we're never gonna go down,\nright?\n\n248\n00:12:26.918 --> 00:12:27.820\nAnd we're highly available.\n\n249\n00:12:27.820 --> 00:12:30.330\nWell, no, that means you are gonna go\ndown when you're highly available.\n\n250\n00:12:30.330 --> 00:12:32.060\nFull tolerance is what\nyou're talking about, and\n\n251\n00:12:32.060 --> 00:12:33.130\nthat's not what we're building here.\n\n252\n00:12:33.130 --> 00:12:35.174\nSo, let's make sure we're clear on\nthe difference between the two.\n\n253\n00:12:35.174 --> 00:12:39.028\nOkay, yeah, when we're talking about high\navailability, we want to make sure that\n\n254\n00:12:39.028 --> 00:12:42.600\nthat role, whatever it is, in this case,\nI think we're doing file server.\n\n255\n00:12:42.600 --> 00:12:45.410\nRight.\nWe provide a high availability.\n\n256\n00:12:45.410 --> 00:12:48.463\nMaybe we're shooting for five nines,\nyou've probably heard those terms.\n\n257\n00:12:48.463 --> 00:12:51.352\nWe talk about 99.999% of the time.\n\n258\n00:12:51.352 --> 00:12:52.140\nAnd that comes out to what?\n\n259\n00:12:52.140 --> 00:12:54.147\nA few minutes a year,\nI think or something?\n\n260\n00:12:54.147 --> 00:12:56.542\nFive nines uptime is seconds.\n\n261\n00:12:56.542 --> 00:12:58.361\nSeconds a year, right.\n\n262\n00:12:58.361 --> 00:13:03.307\nBut depending on what you're trying to do,\nif you are some big company like one of\n\n263\n00:13:03.307 --> 00:13:06.946\nthose online retailers,\nAmazon, or somebody like that,\n\n264\n00:13:06.946 --> 00:13:11.584\ndowntime means you're losing not dollars,\nbut lots and lots of dollars.\n\n265\n00:13:11.584 --> 00:13:12.129\nBig money.\n\n266\n00:13:12.129 --> 00:13:14.312\nYeah, so you want that high availability.\n\n267\n00:13:14.312 --> 00:13:15.280\nCash money is what they say.\n\n268\n00:13:15.280 --> 00:13:19.570\nYeah, cash money is almost as good\nas money or something like that.\n\n269\n00:13:19.570 --> 00:13:24.104\nSo yeah, you want that high availability\nmeans that role is gonna be available 99\n\n270\n00:13:24.104 --> 00:13:27.754\nor 99.9% of the time,\nwhich means having more than one node.\n\n271\n00:13:27.754 --> 00:13:31.332\nCuz you know you're gonna have some\ndowntime on those- Got a patch,\n\n272\n00:13:31.332 --> 00:13:32.773\ngotta do maintenance.\n\n273\n00:13:32.773 --> 00:13:34.880\nHardware failure here and\nthere, something like that.\n\n274\n00:13:34.880 --> 00:13:38.150\nAnd you can't afford a hard drive failure,\nor I should say,\n\n275\n00:13:38.150 --> 00:13:40.974\nlike a motherboard failure or\nsomething like that,\n\n276\n00:13:40.974 --> 00:13:45.163\ncan cost me millions of dollars by being\ndown for an hour when we replace that.\n\n277\n00:13:45.163 --> 00:13:51.060\nWhereas fault tolerance is really the idea\nof being able to survive a failure.\n\n278\n00:13:51.060 --> 00:13:54.010\nMaybe not at full speed, but\n\n279\n00:13:54.010 --> 00:13:58.100\nbeing able to recover from that\nfailure as quickly as possible.\n\n280\n00:13:58.100 --> 00:13:58.900\nCorrect, right.\n\n281\n00:13:58.900 --> 00:14:01.910\nSo, just keep in mind,\nthat when we build out here, and\n\n282\n00:14:01.910 --> 00:14:05.460\nI'm going to point out this verbage in\nthe wizard here in just a second, right?\n\n283\n00:14:05.460 --> 00:14:08.390\nHigh availability Is implying\nthere will be downtime, right?\n\n284\n00:14:08.390 --> 00:14:13.640\nSo in other words, when you run a failover\ncluster as a high available solution and\n\n285\n00:14:13.640 --> 00:14:14.730\nthe verbage right here.\n\n286\n00:14:14.730 --> 00:14:16.294\nCould we go full screen so\nyou could see this.\n\n287\n00:14:16.294 --> 00:14:17.530\nTells you this, right?\n\n288\n00:14:17.530 --> 00:14:21.001\nThe wizard configures high-availability\nfor a role after we complete the wizard.\n\n289\n00:14:21.001 --> 00:14:24.121\nIf a clustered server fails running\na role, another clustered server,\n\n290\n00:14:24.121 --> 00:14:27.415\nmeaning one of the hosts or nodes as\nwe call them in the cluster, right?\n\n291\n00:14:27.415 --> 00:14:30.975\nWill automatically begin running the role,\na process known as failover.\n\n292\n00:14:30.975 --> 00:14:33.010\nWe've talked about failover and fail back.\n\n293\n00:14:33.010 --> 00:14:37.200\nFailover means we transfer\nresponsibility for providing that role,\n\n294\n00:14:37.200 --> 00:14:41.250\nthat service that consumable through\nthe cluster to surviving node or\n\n295\n00:14:41.250 --> 00:14:43.880\nnodes in the cluster, whatever it may be.\n\n296\n00:14:43.880 --> 00:14:45.510\nAnd if the role itself fails,\n\n297\n00:14:45.510 --> 00:14:48.780\nit could be automatically restarted either\non the same server or on another server.\n\n298\n00:14:48.780 --> 00:14:51.460\nRemember, server and\nnode are interchangeable, right?\n\n299\n00:14:51.460 --> 00:14:56.777\nIn the cluster depending on\nthe options you specify, keep in mind\n\n300\n00:14:56.777 --> 00:15:02.685\nthat when we set this up we're assuming\nthat we are gonna have downtime.\n\n301\n00:15:02.685 --> 00:15:06.657\nOr at least in your mind, you gotta know\nthat if there's a failure there will be\n\n302\n00:15:06.657 --> 00:15:08.920\nperhaps a very minimal amount of downtime.\n\n303\n00:15:08.920 --> 00:15:11.390\nBut there will be downtime\nwhile we failover.\n\n304\n00:15:11.390 --> 00:15:15.740\nFailover is not instantaneous,\ndespite what people often tell you, right?\n\n305\n00:15:15.740 --> 00:15:20.258\nEven in the best clusters in the world\nwith all the hardware thrown at them and\n\n306\n00:15:20.258 --> 00:15:24.778\nall the optimization, there are still\nslight downtime variables we have to\n\n307\n00:15:24.778 --> 00:15:29.720\naccount for because the failover process\nwhere one passive node becomes active and\n\n308\n00:15:29.720 --> 00:15:32.422\ntakes over,\ntakes a certain amount of time.\n\n309\n00:15:32.422 --> 00:15:36.400\nAnd may be quick enough that you don't\nrealize it as a user because there's\n\n310\n00:15:36.400 --> 00:15:40.886\ncaching and other things that are involved\nthat offset that lack of availability for\n\n311\n00:15:40.886 --> 00:15:42.872\nthe service, but it still happens.\n\n312\n00:15:42.872 --> 00:15:45.390\nWhereas fault tolerance\nimplies some sort of mirrored\n\n313\n00:15:45.390 --> 00:15:47.092\nconfiguration typically, right?\n\n314\n00:15:47.092 --> 00:15:50.882\nMultiple things running, simultaneously\nsynchronized in real time or\n\n315\n00:15:50.882 --> 00:15:54.856\nnear real time, with an acceptable\nlatency that's cached and buffered and\n\n316\n00:15:54.856 --> 00:15:57.175\nas a result,\nis really not seen by the user.\n\n317\n00:15:57.175 --> 00:16:00.296\nAnd however we get there,\nwhatever the name of the technologies,\n\n318\n00:16:00.296 --> 00:16:03.583\nwhatever's backing that,\nIf there's a failure in one of the two, or\n\n319\n00:16:03.583 --> 00:16:06.369\none of the nodes that makes up\nthe fault tolerant solution,\n\n320\n00:16:06.369 --> 00:16:09.390\nthe other one is there doing\nthe same thing in real time.\n\n321\n00:16:09.390 --> 00:16:12.959\nAnd so as a result, we don't experience\ndown time unless we have a catastrophic\n\n322\n00:16:12.959 --> 00:16:14.944\ncascading failure through that solution.\n\n323\n00:16:14.944 --> 00:16:17.140\nSo I wanna make sure we're\nclear on the difference here.\n\n324\n00:16:17.140 --> 00:16:18.570\nAll right, so we're gonna click Next.\n\n325\n00:16:20.040 --> 00:16:22.633\nSelect our role,\nwe've set File Server, right?\n\n326\n00:16:22.633 --> 00:16:24.420\nMike had his choice,\nwe could have done anything.\n\n327\n00:16:24.420 --> 00:16:27.071\nI had this really cool thing set\nup with Hyper-V Replica Broker.\n\n328\n00:16:27.071 --> 00:16:27.954\n&gt;&gt; [LAUGH]\n&gt;&gt; But you blew it,\n\n329\n00:16:27.954 --> 00:16:29.510\nwe're doing File Server, so.\n\n330\n00:16:29.510 --> 00:16:31.402\n&gt;&gt; Probably while we're here,\nthough, we should point out\n\n331\n00:16:31.402 --> 00:16:32.283\nthat not all roles are-\n&gt;&gt; Not\n\n332\n00:16:32.283 --> 00:16:33.203\nall roles are-\n&gt;&gt; Are on a cluster.\n\n333\n00:16:33.203 --> 00:16:36.619\n&gt;&gt; Absolutely, for instance, you'll\nsee DNS is not an acceptable role for\n\n334\n00:16:36.619 --> 00:16:39.965\nthe failover cluster, but DHCP is,\nas you can see just there, right?\n\n335\n00:16:39.965 --> 00:16:42.040\n&gt;&gt; Yeah, a lot of times that's\nbecause DNS, for example,\n\n336\n00:16:42.040 --> 00:16:45.920\nhas its own ways of dealing and\nproviding high availability, right?\n\n337\n00:16:45.920 --> 00:16:49.420\nWe set up multiple DNS servers,\nwe have replication.\n\n338\n00:16:49.420 --> 00:16:51.790\nSo putting it on a cluster is\nnot gonna gain you anything, but\n\n339\n00:16:51.790 --> 00:16:54.050\nfrom what's already built in to, say, DNS.\n\n340\n00:16:54.050 --> 00:16:56.430\nOr Active Directory, I believe, is another\none that doesn't show up on that list.\n\n341\n00:16:56.430 --> 00:16:57.890\n&gt;&gt; It does not, but surprisingly,\n\n342\n00:16:57.890 --> 00:17:01.045\nand this is the hey, let's get rid\nof that old technology finally,\n\n343\n00:17:01.045 --> 00:17:04.230\ncuz it's only been around for\na million years, Win Servers are.\n\n344\n00:17:04.230 --> 00:17:07.299\n&gt;&gt; It's important to provide high\navailability for those Wins.\n\n345\n00:17:07.299 --> 00:17:08.060\nWhat is Wins?\n\n346\n00:17:08.060 --> 00:17:08.662\nWait.\n\n347\n00:17:08.662 --> 00:17:09.736\n[LAUGH].\n\n348\n00:17:09.736 --> 00:17:14.252\n&gt;&gt; Right, cuz people still use that and\nNetBIOS, it's very common technology.\n\n349\n00:17:14.252 --> 00:17:17.640\n&gt;&gt; Yeah. [LAUGH] &gt;&gt; All right,\nyou do see that we have things like DHCP.\n\n350\n00:17:17.640 --> 00:17:22.530\nCertainly we do have Hyper-V Replica\nBroker, the iSCS services are there in\n\n351\n00:17:22.530 --> 00:17:24.940\nterms of storage, things like that,\nwe're gonna go with File Server.\n\n352\n00:17:24.940 --> 00:17:29.556\nGenerically, this is one that's often as\na role, thrown into a failover cluster,\n\n353\n00:17:29.556 --> 00:17:32.623\ncuz we wanna scale and\nmake available our back end data.\n\n354\n00:17:32.623 --> 00:17:35.793\nFile server's typically gonna be where\nwe put our spreadsheets, our Word doc,\n\n355\n00:17:35.793 --> 00:17:37.564\nwho knows, whatever's there, our MP3s,\n\n356\n00:17:37.564 --> 00:17:39.330\nall the stuff were not supposed to have-\n&gt;&gt; [LAUGH]\n\n357\n00:17:39.330 --> 00:17:40.430\n&gt;&gt; In the organization, but\n\n358\n00:17:40.430 --> 00:17:43.480\ngets archived there anyway, your movie\ncollection, right, all that stuff.\n\n359\n00:17:43.480 --> 00:17:46.030\nIt's all sitting, in the corporate world,\non the file servers.\n\n360\n00:17:46.030 --> 00:17:49.630\nWe want those highly available, cuz we\nwant people to able to get to them and\n\n361\n00:17:49.630 --> 00:17:50.430\nuse them.\n\n362\n00:17:50.430 --> 00:17:53.640\nEven though, right,\none of the nodes backing that or\n\n363\n00:17:53.640 --> 00:17:55.260\nproviding that may have gone down.\n\n364\n00:17:55.260 --> 00:17:58.778\nWe may use other technology, by the way,\nto provide that, things like DFS,\n\n365\n00:17:58.778 --> 00:18:00.689\nyou'll see at the top of that list there.\n\n366\n00:18:00.689 --> 00:18:02.724\nThe DFS, distributed file system, or\n\n367\n00:18:02.724 --> 00:18:06.733\ndistributed file service name space can\nbe used to be able to provide copies or\n\n368\n00:18:06.733 --> 00:18:10.436\nclones of that information that\nare synchronized and made available in\n\n369\n00:18:10.436 --> 00:18:14.345\ndifferent physical or virtual machines\naround the organization as well.\n\n370\n00:18:14.345 --> 00:18:17.525\nSo there's different ways to\nachieve levels of availability.\n\n371\n00:18:17.525 --> 00:18:21.440\nBut failover clustering takes\nthat to the higher level\n\n372\n00:18:21.440 --> 00:18:23.030\nfrom an enterprise perspective.\n\n373\n00:18:23.030 --> 00:18:25.900\nA lot more capabilities,\na lot less likelihood it\n\n374\n00:18:25.900 --> 00:18:28.880\nwill suffer catastrophic failure\nby using something like this.\n\n375\n00:18:28.880 --> 00:18:32.565\nAll right, so File Service, notice now\nthat we have a bunch of stuff that we have\n\n376\n00:18:32.565 --> 00:18:35.130\nto do, or File Server,\nrather, I should say.\n\n377\n00:18:35.130 --> 00:18:38.611\nSo next, are we gonna do general use or\nScale-Out File Server for\n\n378\n00:18:38.611 --> 00:18:39.698\napplication data?\n\n379\n00:18:39.698 --> 00:18:41.140\nRight, it's up to us to decide.\n\n380\n00:18:41.140 --> 00:18:43.350\nNow, general use is going to be,\nlike I said,\n\n381\n00:18:43.350 --> 00:18:45.752\njust essentially a bunch\nof files sitting there.\n\n382\n00:18:45.752 --> 00:18:49.763\nYour Word documents,\nyour PowerPoints, your spreadsheets,\n\n383\n00:18:49.763 --> 00:18:51.853\nwhatever, just general stuff.\n\n384\n00:18:51.853 --> 00:18:55.829\nIt says, use this option to provide\ncentral location on your network for users\n\n385\n00:18:55.829 --> 00:19:00.500\nto share files, or for server applications\nthat open and close files frequently.\n\n386\n00:19:00.500 --> 00:19:04.900\nWe support things like server message\nblock and NFS protocols for that.\n\n387\n00:19:04.900 --> 00:19:08.399\nWe support data deduping there,\nits just essentially gonna become a common\n\n388\n00:19:08.399 --> 00:19:12.130\ncentralized standard share that we're\ngonna scale and make highly available.\n\n389\n00:19:12.130 --> 00:19:14.272\nThat's all it is, nothing more than that.\n\n390\n00:19:14.272 --> 00:19:20.190\nOr Scale-Out File Server for application\ndata, store server applications or\n\n391\n00:19:20.190 --> 00:19:23.220\nvirtual machines that leave files open for\nextended periods of time.\n\n392\n00:19:23.220 --> 00:19:24.360\nSo this is important,\n\n393\n00:19:24.360 --> 00:19:29.220\nyou wanna create your central\nstore here to home VMs, right?\n\n394\n00:19:29.220 --> 00:19:32.439\nYou need to use a Scale-Out File Server\nfor application data,\n\n395\n00:19:32.439 --> 00:19:36.040\nbecause those files are running and\nopen perhaps days at a time right?\n\n396\n00:19:36.040 --> 00:19:40.510\nIf we don't turn off VMs, those files are\nopen and never essentially go dark right?\n\n397\n00:19:40.510 --> 00:19:43.590\nExcept maybe during the migration\nphase for maintenance, patching,\n\n398\n00:19:43.590 --> 00:19:44.530\nthings like that.\n\n399\n00:19:44.530 --> 00:19:46.150\nBut even then, they're locked open.\n\n400\n00:19:46.150 --> 00:19:48.520\nThey just may live in\na separate storage area for\n\n401\n00:19:48.520 --> 00:19:52.800\na period of time as we storage move or\nmigrate them around on occasion.\n\n402\n00:19:52.800 --> 00:19:54.480\nSo we just wanna make\nsure we're aware of this.\n\n403\n00:19:54.480 --> 00:19:57.860\nWe do support the SMB protocol for\nscale-out file,\n\n404\n00:19:57.860 --> 00:20:00.280\nas opposed to the server message.\n\n405\n00:20:00.280 --> 00:20:01.258\nWe do, right, try that again.\n\n406\n00:20:01.258 --> 00:20:03.055\nWe support SMB on both is\nwhat I'm trying to say.\n\n407\n00:20:03.055 --> 00:20:03.889\n&gt;&gt; [LAUGH]\n&gt;&gt; But\n\n408\n00:20:03.889 --> 00:20:08.286\nwe do not support NFS on the Scale-Out\nFile Server, whereas we do support NFS for\n\n409\n00:20:08.286 --> 00:20:11.000\ngeneral use, so just be aware of that.\n\n410\n00:20:11.000 --> 00:20:13.510\nSo just some things to consider,\nagain some of that\n\n411\n00:20:13.510 --> 00:20:17.490\nminutiae may be really important for\nyou with regards to exam preparation.\n\n412\n00:20:17.490 --> 00:20:21.492\nI could easily see a question that\ntries to trip you up on whether NFS is\n\n413\n00:20:21.492 --> 00:20:23.632\nsupported versus SMB on one or both.\n\n414\n00:20:23.632 --> 00:20:26.650\nAnd you would wanna know that, and we're\ntaking our time to point that out for\n\n415\n00:20:26.650 --> 00:20:27.580\nyou right here.\n\n416\n00:20:27.580 --> 00:20:28.750\nSo just make sure you are aware of that.\n\n417\n00:20:30.020 --> 00:20:30.936\nDo you want to say something?\n\n418\n00:20:30.936 --> 00:20:34.429\n&gt;&gt; No, well other than the fact that\nit is pretty cool that we can set\n\n419\n00:20:34.429 --> 00:20:35.356\nup NFS storage.\n\n420\n00:20:35.356 --> 00:20:38.112\n&gt;&gt; Yes, yeah, as-\n&gt;&gt; You can see that the world is coming\n\n421\n00:20:38.112 --> 00:20:38.743\ntogether.\n\n422\n00:20:38.743 --> 00:20:40.930\n&gt;&gt; As a common thought process,\nabsolutely.\n\n423\n00:20:40.930 --> 00:20:42.440\nKumbaya, lets all join hands-\n&gt;&gt; [LAUGH]\n\n424\n00:20:42.440 --> 00:20:43.612\n&gt;&gt; And walk off into the sunset.\n\n425\n00:20:43.612 --> 00:20:47.219\nAll right, so\ni'm gonna give this a name here,\n\n426\n00:20:47.219 --> 00:20:52.460\nwe're just going to call this PlaidSFS for\nScale-Out File Server.\n\n427\n00:20:52.460 --> 00:20:56.240\nAll right, so you've got the name,\nNetBIOS name, give it whatever you want.\n\n428\n00:20:56.240 --> 00:20:58.208\nRemember our 15 character limit for\nNetBIOS,\n\n429\n00:20:58.208 --> 00:21:00.521\nwe're doing a job of reminding\nus that everywhere we go.\n\n430\n00:21:00.521 --> 00:21:02.031\nAll right, so\nwe'll just giving that a name,\n\n431\n00:21:02.031 --> 00:21:03.878\nname's up to you,\nit doesn't matter what you call it.\n\n432\n00:21:03.878 --> 00:21:07.180\nThen we're gonna go ahead, we get a little\nconfirmation window there, as you know,\n\n433\n00:21:07.180 --> 00:21:08.470\nwe've often seen this.\n\n434\n00:21:08.470 --> 00:21:10.395\nIt just tells us what we're doing.\n\n435\n00:21:10.395 --> 00:21:13.600\nGonna go ahead, click Next,\nconfigures it for us,\n\n436\n00:21:13.600 --> 00:21:15.870\nyou can see it's setting\nup the file share network.\n\n437\n00:21:15.870 --> 00:21:17.930\nDoesn't take too long, pretty quick.\n\n438\n00:21:17.930 --> 00:21:20.742\nClick Finish, I think they feel bad for\nyou when they do the validation.\n\n439\n00:21:20.742 --> 00:21:21.308\n&gt;&gt; [LAUGH] Yeah.\n\n440\n00:21:21.308 --> 00:21:24.458\n&gt;&gt; It takes like a day, so they try to\nmake these other ones go really quickly,\n\n441\n00:21:24.458 --> 00:21:26.310\nright, so it doesn't take as long.\n\n442\n00:21:26.310 --> 00:21:31.470\nAll right, so you can see here\nthat we now have our roles set up.\n\n443\n00:21:31.470 --> 00:21:36.350\nWe have our Scale-Out File Server running,\nwe could see it there.\n\n444\n00:21:36.350 --> 00:21:38.154\nSee the status of it, just click on it so\n\n445\n00:21:38.154 --> 00:21:40.692\nyou can kind of see what's\ngoing on with it down below.\n\n446\n00:21:40.692 --> 00:21:46.074\nLet me just move this up again, all right,\nso you could see there it's running,\n\n447\n00:21:46.074 --> 00:21:50.650\nit's got our owner of the node,\nit's got the name there.\n\n448\n00:21:50.650 --> 00:21:55.050\nWhatever resources are available to us,\ndistributed server names,\n\n449\n00:21:55.050 --> 00:21:58.130\njust the name that we use to connect\nto it from any of the members.\n\n450\n00:21:58.130 --> 00:22:00.970\nThe Scale-Out File Server path is there.\n\n451\n00:22:00.970 --> 00:22:02.540\nWhatever shares are set up,\n\n452\n00:22:02.540 --> 00:22:06.610\nthat's just the default administrative\nshare there in the root.\n\n453\n00:22:06.610 --> 00:22:11.818\nBut you could see the protocol\nthat's being used is SMB right now,\n\n454\n00:22:11.818 --> 00:22:14.609\nright, as you can see right there.\n\n455\n00:22:14.609 --> 00:22:15.997\nAnd just clicking on Properties.\n\n456\n00:22:17.976 --> 00:22:20.520\n&gt;&gt; And then wait, wait, wait.\n\n457\n00:22:20.520 --> 00:22:23.702\n&gt;&gt; Just wait, yeah, sometimes it takes,\nthe wizard itself is really quick.\n\n458\n00:22:23.702 --> 00:22:26.640\nBut there's actually still configuration\nthat goes on behind the scenes.\n\n459\n00:22:26.640 --> 00:22:30.730\nAnd sometimes it doesn't finish up right\naway, as you can see, which is fine.\n\n460\n00:22:30.730 --> 00:22:32.530\nBut it's just waiting for\n\n461\n00:22:32.530 --> 00:22:35.760\nthat information to populate the first\ntime you get that property screen.\n\n462\n00:22:35.760 --> 00:22:36.420\nCan take a little bit,\n\n463\n00:22:36.420 --> 00:22:38.830\nespecially if you're just running\nit literally like we just did.\n\n464\n00:22:38.830 --> 00:22:39.369\n&gt;&gt; Yeah.\n[LAUGH]\n\n465\n00:22:39.369 --> 00:22:40.188\n&gt;&gt; Hey, I finished, and\n\n466\n00:22:40.188 --> 00:22:41.965\nI was trying to talk slow\nto give it a little time.\n\n467\n00:22:41.965 --> 00:22:42.918\n&gt;&gt; [LAUGH]\n&gt;&gt; Cuz I know it does that,\n\n468\n00:22:42.918 --> 00:22:46.058\nwe did it like 30 seconds, a minute ago,\nyou can see it still takes a little bit.\n\n469\n00:22:46.058 --> 00:22:49.020\nBut all we're doing is just\nbringing up the properties of that,\n\n470\n00:22:49.020 --> 00:22:50.358\nI just wanted to show\nyou this really quick.\n\n471\n00:22:50.358 --> 00:22:52.832\nLet me just kinda move this up\nover here so we could see this.\n\n472\n00:22:52.832 --> 00:22:57.620\nSo you see the general information here,\nwe can see permissions.\n\n473\n00:22:57.620 --> 00:23:04.436\nSo you'll see here we have, Our ability to\ncustomize permissions, specifying access.\n\n474\n00:23:04.436 --> 00:23:07.850\nCuz this obviously becomes very important\nfor us so we can decide who's going to get\n\n475\n00:23:07.850 --> 00:23:10.760\nin under what conditions, and\nhow things are gonna be accessed.\n\n476\n00:23:10.760 --> 00:23:14.420\nAnd then we have Settings, there we go.\n\n477\n00:23:14.420 --> 00:23:16.520\nHelps if you click on it\nwhen you wanna see it.\n\n478\n00:23:16.520 --> 00:23:17.660\nAll right, we haven't gotten that\n\n479\n00:23:17.660 --> 00:23:18.630\nintuitive-\n&gt;&gt; [LAUGH]\n\n480\n00:23:18.630 --> 00:23:20.180\n&gt;&gt; I meant to go there interface,\n\n481\n00:23:20.180 --> 00:23:20.870\nthat comes later.\n\n482\n00:23:20.870 --> 00:23:21.550\n&gt;&gt; That's coming, yeah.\n\n483\n00:23:21.550 --> 00:23:22.841\n&gt;&gt; Server 2020 or something.\n\n484\n00:23:22.841 --> 00:23:25.640\nAll right, so you'll see here,\nEnable access-based enumeration.\n\n485\n00:23:25.640 --> 00:23:29.230\nContinuous availability was not enabled,\nyou could see we turn that on here.\n\n486\n00:23:29.230 --> 00:23:32.120\nYou'll see Allow caching of share,\n\n487\n00:23:32.120 --> 00:23:36.220\nyou'll see branch cache can be\nenabled here as well, in theory.\n\n488\n00:23:36.220 --> 00:23:39.490\nEncrypt data access, so\nwe can enforce encryption on\n\n489\n00:23:39.490 --> 00:23:43.950\nthe cluster shared volumes are out\non the clustered storage, rather.\n\n490\n00:23:43.950 --> 00:23:45.780\nSo that way we can further protect and\n\n491\n00:23:45.780 --> 00:23:49.690\nadd confidentiality protections by\nusing encryption, if necessary.\n\n492\n00:23:49.690 --> 00:23:51.841\nSo we have a lot of capabilities here,\nonce we set this up.\n\n493\n00:23:51.841 --> 00:23:55.107\nWhich, number one, we would hopefully\nassume are there, and indeed they are, and\n\n494\n00:23:55.107 --> 00:23:56.166\nwe would expect are there.\n\n495\n00:23:56.166 --> 00:24:00.287\nCuz, how could we possibly set this up,\nscale it out, make it highly available,\n\n496\n00:24:00.287 --> 00:24:03.874\nshare it across the network and\ndo something as basic and fundamental as\n\n497\n00:24:03.874 --> 00:24:08.070\nencrypted data without that capability\nit just wouldn't make a lot of sense.\n\n498\n00:24:08.070 --> 00:24:12.465\nIt would actually be better for us to\nhorde that data, keep it local and not\n\n499\n00:24:12.465 --> 00:24:16.455\nshare it, and protect it locally if that's\nthe case because I'd rather trade-off\n\n500\n00:24:16.455 --> 00:24:21.295\nthe liability of a single point of failure\nagainst the liability of unrestricted\n\n501\n00:24:21.295 --> 00:24:26.200\naccess and non-encrypted access of\nboth over the wire and in storage.\n\n502\n00:24:26.200 --> 00:24:29.007\nRight?\nBecause that's a bigger threat of concern.\n\n503\n00:24:29.007 --> 00:24:31.907\nThan it is that,\nthat single drive might fail locally.\n\n504\n00:24:31.907 --> 00:24:34.447\nBecause I can back that data,\nI can park it somewhere,\n\n505\n00:24:34.447 --> 00:24:36.180\nI can offset that local drive failure.\n\n506\n00:24:36.180 --> 00:24:40.360\nBut I can't offset the fact that Mike's\nable to read my data without my knowledge\n\n507\n00:24:40.360 --> 00:24:41.950\nand without my authorization,\n\n508\n00:24:41.950 --> 00:24:45.150\ncuz I haven't locked it down with\naccess control and encrypted it.\n\n509\n00:24:45.150 --> 00:24:47.360\nSo even if he gets in there he\ndoesn't know what he's looking at.\n\n510\n00:24:47.360 --> 00:24:49.910\nThat is not something I'm gonna be\nable to easily recover from, right?\n\n511\n00:24:49.910 --> 00:24:51.580\nI mean that's a big deal.\n\n512\n00:24:51.580 --> 00:24:53.940\nAll right, so you could see we do\nhave a lot of options here, right,\n\n513\n00:24:53.940 --> 00:24:54.900\nas we drill in.\n\n514\n00:24:54.900 --> 00:24:56.610\nAll right, so we've gone ahead and\nwe've done this.\n\n515\n00:24:56.610 --> 00:25:00.110\nNow, we've already taken a look at, or\nlet's go in I should say and look at.\n\n516\n00:25:00.110 --> 00:25:01.420\nSo let's just go in and do this.\n\n517\n00:25:01.420 --> 00:25:03.450\nWe'll go in here real quick.\n\n518\n00:25:03.450 --> 00:25:04.480\nGo to our disks.\n\n519\n00:25:04.480 --> 00:25:10.490\nBut let's go in and let's just take a look\nat really quickly of what disks are.\n\n520\n00:25:10.490 --> 00:25:11.520\nI've shown you this already.\n\n521\n00:25:11.520 --> 00:25:13.486\nBut I just wanna show you one quick thing.\n\n522\n00:25:16.323 --> 00:25:19.410\nSo you'll see that we can\ntake the disks offline.\n\n523\n00:25:19.410 --> 00:25:23.500\nWe're not gonna do that, but we'll take\nthis offline, simulate a failure here.\n\n524\n00:25:23.500 --> 00:25:25.650\nOn an upcoming episode we're\ngonna take a look at hey,\n\n525\n00:25:25.650 --> 00:25:28.650\nwhat happens when something is\navailable we can see we access it,\n\n526\n00:25:28.650 --> 00:25:30.320\nthen we take it offline\nif it's still available.\n\n527\n00:25:30.320 --> 00:25:31.700\nWe're gonna walk through and\nsimulate that.\n\n528\n00:25:31.700 --> 00:25:34.520\nSo we'll take a look at that, and\nobviously that'll become important.\n\n529\n00:25:34.520 --> 00:25:38.800\nBut you'll see here, we can actually\nmove information around and\n\n530\n00:25:38.800 --> 00:25:40.990\ntalk about being able to\nmove on the back end.\n\n531\n00:25:40.990 --> 00:25:45.460\nWe can select a node for movement of\nthe cluster function and or data.\n\n532\n00:25:45.460 --> 00:25:48.990\nAnd you'll see here we have under\nmore actions, maintenance mode.\n\n533\n00:25:48.990 --> 00:25:53.970\nWe can go and put a storage back end\ncluster disc into maintenance mode.\n\n534\n00:25:53.970 --> 00:25:57.320\nTake it off line, making it unavailable\nto members of the cluster so\n\n535\n00:25:57.320 --> 00:26:00.920\nwe could do work on it, and you put a host\nin the maintenance mode to same idea,,\n\n536\n00:26:00.920 --> 00:26:03.380\nyou're evacuating it or\nremoving it from the cluster.\n\n537\n00:26:03.380 --> 00:26:06.500\nThe cluster's resource available level\ngoes down because you're essentially\n\n538\n00:26:06.500 --> 00:26:08.800\nremoving those resources from the pool.\n\n539\n00:26:08.800 --> 00:26:11.620\nAnd then doing something and\nadding it back in over time.\n\n540\n00:26:11.620 --> 00:26:15.410\nMaintenance mode is a fairly common\nthough process, just be aware of that.\n\n541\n00:26:15.410 --> 00:26:18.830\nRemove from cluster shared volume if\nwe wanna remove What's been added,\n\n542\n00:26:18.830 --> 00:26:20.500\nwe obviously have the ability\nto back that out right.\n\n543\n00:26:20.500 --> 00:26:22.410\nAnd we took a look at properties already.\n\n544\n00:26:22.410 --> 00:26:25.680\nYou saw what was here, it's just\na matter of looking at the back end.\n\n545\n00:26:25.680 --> 00:26:28.230\nSo we have the ability just to\nsee that those things are there.\n\n546\n00:26:28.230 --> 00:26:29.670\nNow the other thing I\nwanted to show you quickly.\n\n547\n00:26:31.565 --> 00:26:35.245\nCome back here I didn't get a chance to\ndo that the last time we were in here,\n\n548\n00:26:35.245 --> 00:26:38.495\nwe took a look at if you remember,\nthe quorum settings, right?\n\n549\n00:26:38.495 --> 00:26:41.115\nSo we did configure that, but\nI talked about cluster that we\n\n550\n00:26:41.115 --> 00:26:44.125\nare updating one of our prior episodes,\nwe had a little back and\n\n551\n00:26:44.125 --> 00:26:47.265\nforth about it Mike and\nI how important it is, what a great\n\n552\n00:26:47.265 --> 00:26:50.665\nnewer feature it is compared to the old\nway of having to do this and I didn't\n\n553\n00:26:50.665 --> 00:26:53.145\nreally to get a chance to show to you in\nthe episode hey we have this is cool.\n\n554\n00:26:53.145 --> 00:26:56.400\nBut I wanted Natalie at the cluster\nto stood up to show you how we\n\n555\n00:26:56.400 --> 00:26:59.300\nactually access that,\njust show you the configuration overview.\n\n556\n00:26:59.300 --> 00:27:03.190\nSo, up here on the route of the cluster,\ncluster name, that's right so\n\n557\n00:27:03.190 --> 00:27:08.670\nyou can see our's is a plabs, short for\nPractice Labs dash CO1 cluster.\n\n558\n00:27:08.670 --> 00:27:11.370\nVery unique and\nintuitive naming convention here,\n\n559\n00:27:11.370 --> 00:27:14.560\nI spent hours on that\ntrying to figure that out.\n\n560\n00:27:14.560 --> 00:27:16.350\nI pat myself on the back\nthat was a good one.\n\n561\n00:27:16.350 --> 00:27:18.980\nSo under more actions,\nright click at the bottom,\n\n562\n00:27:18.980 --> 00:27:21.310\nthey're kinda buried you gotta\nknow where to go look for it.\n\n563\n00:27:21.310 --> 00:27:24.190\nYou'll see that cluster\nwe're updating is there.\n\n564\n00:27:24.190 --> 00:27:29.740\nSo when we click on this we get our\nlittle cluster aware updating, Interface.\n\n565\n00:27:30.920 --> 00:27:35.910\nAnd you'll see that we have our last\ncluster update summary, our log of,\n\n566\n00:27:35.910 --> 00:27:40.650\ngot to get rid of that middle but\nin there, our log of updates and progress.\n\n567\n00:27:40.650 --> 00:27:44.210\nHaving done the updates obviously there's\nnothing there yet but you could see that,\n\n568\n00:27:44.210 --> 00:27:48.160\nyou will see the last run status per host,\nor per node, is what,\n\n569\n00:27:48.160 --> 00:27:50.460\nwe haven't done the update so\nobviously there's no data there.\n\n570\n00:27:50.460 --> 00:27:53.910\nBut you can see under Cluster Actions,\nApply Updates, configure it,\n\n571\n00:27:53.910 --> 00:27:56.470\nstart an update run for the cluster.\n\n572\n00:27:56.470 --> 00:28:00.100\nPreview Updates, this is nice,\nwe can preview an initial set of updates,\n\n573\n00:28:00.100 --> 00:28:01.660\nsee what's pending.\n\n574\n00:28:01.660 --> 00:28:05.470\nWhat we may need to do, Create or\nModify and Updating Run Profile, so\n\n575\n00:28:05.470 --> 00:28:08.900\nwe can essentially set up an answer\nfile that preconfigures and\n\n576\n00:28:08.900 --> 00:28:10.670\nsets up the profile for what we want.\n\n577\n00:28:12.330 --> 00:28:14.880\nGet some reporting done on the last\nupdate runs we've done, so\n\n578\n00:28:14.880 --> 00:28:18.520\nwe could see what the status is,\nso that we have that capability.\n\n579\n00:28:18.520 --> 00:28:21.290\nConfigure cluster self-updating options,\nand\n\n580\n00:28:21.290 --> 00:28:23.610\nanalyze cluster updating readiness, right?\n\n581\n00:28:23.610 --> 00:28:27.120\nSo if we wanna take a look at some\nof the options here, just to see.\n\n582\n00:28:27.120 --> 00:28:30.439\nLet's go in here, we have our\nlittle wizard, add cluster roles,\n\n583\n00:28:30.439 --> 00:28:33.187\nself-updating schedule,\nadvanced options, etc.\n\n584\n00:28:35.805 --> 00:28:38.462\nSo you'll see here add\nthe CAU clustered role,\n\n585\n00:28:38.462 --> 00:28:41.260\nwith self updating mode\nenabled to this cluster.\n\n586\n00:28:41.260 --> 00:28:45.060\nIt says warning this fail over cluster\nis not enabled with this role, so\n\n587\n00:28:45.060 --> 00:28:46.280\nit has to be added.\n\n588\n00:28:46.280 --> 00:28:47.980\nWe want to be able to do\nthis to make it aware.\n\n589\n00:28:47.980 --> 00:28:51.840\nSo we could go through walk through\nthe logic of how to set all this up.\n\n590\n00:28:51.840 --> 00:28:53.390\nAlso, we have the option there.\n\n591\n00:28:53.390 --> 00:28:56.390\nI'm not gonna run through the wizard\ncuz I'm not gonna set all that up.\n\n592\n00:28:56.390 --> 00:28:57.720\nIt's not part of what we're here to do.\n\n593\n00:28:57.720 --> 00:28:59.850\nI just wanna show you that\nwe have options here.\n\n594\n00:28:59.850 --> 00:29:03.600\nBut you'll see that you could go through,\nand\n\n595\n00:29:03.600 --> 00:29:07.630\ndepending on the updates\nthat may be available.\n\n596\n00:29:07.630 --> 00:29:09.040\nYou can preview them.\n\n597\n00:29:09.040 --> 00:29:11.988\nYou'll see here the Windows\nupdate plug-in is available,\n\n598\n00:29:11.988 --> 00:29:13.910\nthe Hotfix plug-in is available.\n\n599\n00:29:13.910 --> 00:29:17.780\nSo there's different updates that show\nup based on the updates you're choosing.\n\n600\n00:29:17.780 --> 00:29:20.520\nUpdates versus hotfixes,\nMicrosoft differentiates.\n\n601\n00:29:20.520 --> 00:29:23.060\nYou could imagine the Windows Update\nis all security-related stuff.\n\n602\n00:29:23.060 --> 00:29:28.750\nAnd the hotfix is a specific kind of\npatch that's put out to plug a hole,\n\n603\n00:29:28.750 --> 00:29:31.510\nso to speak, that's critical or something\nthat has to be done specifically.\n\n604\n00:29:31.510 --> 00:29:34.810\nSo there may or may not be updates\nthat would be applicable here\n\n605\n00:29:34.810 --> 00:29:38.190\nBy generating this list once we go in and\ndo this will give us that so\n\n606\n00:29:38.190 --> 00:29:41.460\nwe can go in and\ngenerate an update preview list.\n\n607\n00:29:41.460 --> 00:29:43.220\nI'll just have to wait for it to run.\n\n608\n00:29:43.220 --> 00:29:45.165\nWhen they say it can take a few minutes,\nthey are not kidding.\n\n609\n00:29:45.165 --> 00:29:46.330\n&gt;&gt; [LAUGH]\n&gt;&gt; First time you do this,\n\n610\n00:29:46.330 --> 00:29:49.605\nit is essentially like\nrunning a WSUS catalog\n\n611\n00:29:49.605 --> 00:29:51.195\nquery to build the initial catalog.\n\n612\n00:29:51.195 --> 00:29:54.825\nIf you ever build a WSUS server,\nyou've seen us do it in other episodes for\n\n613\n00:29:54.825 --> 00:29:55.505\na variety of things.\n\n614\n00:29:55.505 --> 00:29:59.375\nIf you've ever been through that, you know\nthat generating that can take a while.\n\n615\n00:29:59.375 --> 00:30:00.205\nYou'll see here.\n\n616\n00:30:01.700 --> 00:30:07.160\nIt looks like we got a failure because\nI don't have the node or or I don't\n\n617\n00:30:07.160 --> 00:30:11.140\nhave the role stood up for the automatic,\nthat module that it asked me to put in.\n\n618\n00:30:11.140 --> 00:30:13.900\nI don't have that enabled so\nit's not going to preview and go through.\n\n619\n00:30:13.900 --> 00:30:14.430\nNo big deal.\n\n620\n00:30:14.430 --> 00:30:17.690\nYou would see that normally we'd just get\na list of all the updates that failed.\n\n621\n00:30:17.690 --> 00:30:19.020\n&gt;&gt; Just like you would\ndo on your normal file.\n\n622\n00:30:19.020 --> 00:30:19.920\n&gt;&gt; Absolutely.\n\n623\n00:30:19.920 --> 00:30:20.460\n&gt;&gt; Absolutely.\n&gt;&gt; So\n\n624\n00:30:20.460 --> 00:30:23.330\nI just wanted to show you just what\nthat looks like so you can see it.\n\n625\n00:30:23.330 --> 00:30:28.180\nAgain, I'm not going to set up the cluster\naware self-updating module role now\n\n626\n00:30:28.180 --> 00:30:30.400\nbecause that gets in the way of some\nof the other stuff we're doing for\n\n627\n00:30:30.400 --> 00:30:31.720\none of the other demos.\n\n628\n00:30:31.720 --> 00:30:34.550\nBut I just wanted you to get a chance\nto at least see what's going on here\n\n629\n00:30:34.550 --> 00:30:35.320\nunder the hood.\n\n630\n00:30:35.320 --> 00:30:38.090\nIt's one of those features that's kinda\noff in the corner lot of people don't\n\n631\n00:30:38.090 --> 00:30:41.320\ntalk about but you do or you are expected\nto have a little knowledge of.\n\n632\n00:30:41.320 --> 00:30:42.950\nSo it's just good to know about.\n\n633\n00:30:42.950 --> 00:30:45.170\n&gt;&gt; And I tell you what\na nice feature it really is.\n\n634\n00:30:45.170 --> 00:30:46.560\nI know I think I've said this before.\n\n635\n00:30:46.560 --> 00:30:50.180\nBut it's so much better when you can\nwatch the wizard pop one node out.\n\n636\n00:30:50.180 --> 00:30:52.160\nYou're just sitting back\nthere drinking your coffee.\n\n637\n00:30:52.160 --> 00:30:52.900\nOne node comes out.\n\n638\n00:30:52.900 --> 00:30:54.730\nYou see it run the updates.\n\n639\n00:30:54.730 --> 00:30:56.910\nYou see it put the node\nback into the cluster.\n\n640\n00:30:56.910 --> 00:30:59.350\nTakes the next one out, runs the updates.\n\n641\n00:30:59.350 --> 00:31:03.590\nWhereas in the past it was not nearly\nas convenient, so we do like that.\n\n642\n00:31:03.590 --> 00:31:04.330\n&gt;&gt; We do.\nAll right.\n\n643\n00:31:04.330 --> 00:31:05.800\nSo let's go back to where we were.\n\n644\n00:31:05.800 --> 00:31:09.678\nWe've just a couple things to finish up\nbefore we wrap up this particular episode\n\n645\n00:31:09.678 --> 00:31:13.080\nthen we'll come back and\nwe'll wrap up our conversations here.\n\n646\n00:31:13.080 --> 00:31:15.140\nSo what I'm going to do is the following.\n\n647\n00:31:15.140 --> 00:31:19.620\nWe're back in our roles area, we've\nalready added our scale out file server,\n\n648\n00:31:19.620 --> 00:31:20.530\nyou saw me do that.\n\n649\n00:31:20.530 --> 00:31:21.350\nCan we go full screen?\n\n650\n00:31:21.350 --> 00:31:23.720\nBecause what I'm about to do is\nkinda sitting behind me there.\n\n651\n00:31:23.720 --> 00:31:26.870\nWe're gonna go ahead and\ntake a look at the actions down over here.\n\n652\n00:31:26.870 --> 00:31:29.810\nI wanted to show you there's a bunch\nof stuff buried down here, and\n\n653\n00:31:29.810 --> 00:31:32.490\na lot was kinda poking out right\nabove the box in box window.\n\n654\n00:31:32.490 --> 00:31:34.240\nI want you to see it clearly.\n\n655\n00:31:34.240 --> 00:31:35.860\nCuz I'm a little shorter\ntoday than I normally am.\n\n656\n00:31:35.860 --> 00:31:37.320\nIt's just right above me.\n\n657\n00:31:37.320 --> 00:31:40.620\nBut you could see right there on\nthe right, importing to add file share.\n\n658\n00:31:40.620 --> 00:31:41.630\nRight down there.\n\n659\n00:31:41.630 --> 00:31:44.120\nWe're gonna add in our SNB share here.\n\n660\n00:31:44.120 --> 00:31:46.070\nRight?\nSo remember we talked about this, so\n\n661\n00:31:46.070 --> 00:31:47.349\nlet's do an add file share.\n\n662\n00:31:48.940 --> 00:31:50.100\nGive that just a second.\n\n663\n00:31:51.350 --> 00:31:53.120\nI just have to wait for\nit to retrieve the configuration.\n\n664\n00:31:53.120 --> 00:31:55.670\nYou saw this happen just a moment ago,\nwhen I went in and\n\n665\n00:31:55.670 --> 00:31:57.118\ntook a look at the properties.\n\n666\n00:31:57.118 --> 00:31:59.110\nSo, we'll just wait for this.\n\n667\n00:31:59.110 --> 00:32:00.858\nAnd then we'll do our SMB share.\n\n668\n00:32:00.858 --> 00:32:03.155\nSoon as this comes up, anyway,\nwe'll do our SMB share.\n\n669\n00:32:03.155 --> 00:32:05.234\nSo, remember,\nwe talked about the fact, there we go,\n\n670\n00:32:05.234 --> 00:32:06.930\nthat's what we were waiting for.\n\n671\n00:32:06.930 --> 00:32:11.590\nWe talked about the fact that we do\nsupport SMB on both configurations.\n\n672\n00:32:11.590 --> 00:32:15.300\nRemember, it's NFS, it's only\nsupporting one, as opposed to both.\n\n673\n00:32:15.300 --> 00:32:18.600\nAnd that's on the standard,\nas opposed to the scale out,\n\n674\n00:32:18.600 --> 00:32:20.450\nwe're doing the scale out so\nwe only support SMB.\n\n675\n00:32:20.450 --> 00:32:23.020\nAll right, so you'll see here,\nfile share profile,\n\n676\n00:32:23.020 --> 00:32:25.390\nwe have some different ones, right?\n\n677\n00:32:25.390 --> 00:32:29.120\nOr actually, yeah, we have some\ndifferent ones, we'll do SMB share.\n\n678\n00:32:29.120 --> 00:32:30.840\nWe're gonna do, what are we doing?\n\n679\n00:32:30.840 --> 00:32:31.860\nWe'll do Quick, yeah.\n\n680\n00:32:31.860 --> 00:32:33.280\nSo we're gonna do Quick.\n\n681\n00:32:33.280 --> 00:32:39.780\nJust looking to see, let's do our server\npath, or select our server and our path.\n\n682\n00:32:39.780 --> 00:32:41.630\nSo we've got a server there, it's online.\n\n683\n00:32:41.630 --> 00:32:45.260\nSo we know that, we've already got that\nsetup, we kind of knew that ahead of time.\n\n684\n00:32:45.260 --> 00:32:48.720\nYou'll see here Select by volume or\nType a custom path, it's up to us.\n\n685\n00:32:48.720 --> 00:32:52.834\nNow, the choice here is essentially\nwhether or not we have a preconfigured\n\n686\n00:32:52.834 --> 00:32:57.014\nvolume that's just published essentially\nwhat we want in the right place,\n\n687\n00:32:57.014 --> 00:32:58.994\nproviding the right information.\n\n688\n00:32:58.994 --> 00:33:03.796\nOur ClusterStorageVolume1,\na cluster shared volume, volume v,\n\n689\n00:33:03.796 --> 00:33:05.630\nis what we're gonna use.\n\n690\n00:33:05.630 --> 00:33:09.712\nBut, if we wanted a custom path,\nnotice I could specify that down below.\n\n691\n00:33:09.712 --> 00:33:12.352\nAnd I can type in something,\nwhatever that would be as well.\n\n692\n00:33:12.352 --> 00:33:13.632\nSo, we're gonna select by volume.\n\n693\n00:33:13.632 --> 00:33:16.492\nWe'll already have that there, it's been\nkind of the thrust of everything we've\n\n694\n00:33:16.492 --> 00:33:18.642\nbeen doing up until now, so\nwe're going to leverage that.\n\n695\n00:33:18.642 --> 00:33:20.742\nDon't have to click at the highlighter,\nit's already selected.\n\n696\n00:33:20.742 --> 00:33:23.642\nI'm just highlighting to show you\nwhat's there to make sure you see what\n\n697\n00:33:23.642 --> 00:33:24.414\nwe're choosing, right?\n\n698\n00:33:24.414 --> 00:33:27.140\nAll right, so\nwe're going to go have her click Next.\n\n699\n00:33:27.140 --> 00:33:28.760\nWe have to give this a share name.\n\n700\n00:33:28.760 --> 00:33:30.540\nGot name in mind there?\n\n701\n00:33:30.540 --> 00:33:31.450\nAnything you want to call it?\n\n702\n00:33:31.450 --> 00:33:32.450\n&gt;&gt; Share?\n\n703\n00:33:32.450 --> 00:33:33.948\n&gt;&gt; Nah, share's not a good name for that.\n\n704\n00:33:33.948 --> 00:33:34.510\n&gt;&gt; [LAUGH]\n&gt;&gt; How 'bout\n\n705\n00:33:34.510 --> 00:33:35.980\nif we call that logs, all right?\n\n706\n00:33:35.980 --> 00:33:36.540\n&gt;&gt; All right, all right.\n\n707\n00:33:36.540 --> 00:33:37.950\n&gt;&gt; So we'll that logs.\n\n708\n00:33:37.950 --> 00:33:39.690\nThis is what happens\nwhen you let Mike choose.\n\n709\n00:33:39.690 --> 00:33:41.610\nHe's got one thing on his mind.\n\n710\n00:33:41.610 --> 00:33:42.450\n&gt;&gt; Lunch!\n[LAUGH]\n\n711\n00:33:42.450 --> 00:33:43.950\n&gt;&gt; Exactly, call it lunch.\n\n712\n00:33:43.950 --> 00:33:46.160\nAll right, so\nyou may put a description there.\n\n713\n00:33:46.160 --> 00:33:49.340\nRemember, metadata is always important\nin terms of what we're doing and\n\n714\n00:33:49.340 --> 00:33:49.950\nwhy we're doing it.\n\n715\n00:33:49.950 --> 00:33:51.700\nBut that's up to you, right?\n\n716\n00:33:51.700 --> 00:33:55.100\nSo, our local path to the share you\ncan see there will be essentially\n\n717\n00:33:55.100 --> 00:33:58.960\nthe volume path of C cluster\nstorage volume 1 shares and\n\n718\n00:33:58.960 --> 00:34:01.610\nthen the name,\nalready appended in my case, logs.\n\n719\n00:34:01.610 --> 00:34:04.350\nAnd then the remote path\nwould be the name of, or\n\n720\n00:34:04.350 --> 00:34:08.130\nthe shared instance name,\n\\\\ in this case the name for\n\n721\n00:34:08.130 --> 00:34:13.130\nthe scale our file server share, Plad SFS,\nwhich is what we called it, backslash log.\n\n722\n00:34:13.130 --> 00:34:18.280\nSo, standard UNC but just substituting the\nname of scale out file server or the role\n\n723\n00:34:18.280 --> 00:34:21.830\nthat we specified along with the name of\nthe share that we're about to append.\n\n724\n00:34:21.830 --> 00:34:23.470\nSo all that is there, we'll click Next.\n\n725\n00:34:25.055 --> 00:34:26.465\nOther Settings.\n\n726\n00:34:26.465 --> 00:34:29.165\nI walked through, I showed you these\nsettings before I did them by pulling up\n\n727\n00:34:29.165 --> 00:34:32.295\nthe properties on the volume and\nsaying, look, we can encrypt,\n\n728\n00:34:32.295 --> 00:34:36.925\nwe can enable access-based enumeration,\nwe can have continuous availability that\n\n729\n00:34:36.925 --> 00:34:41.280\nwas not enabled because we're going to\nhave it set up here, allow caching.\n\n730\n00:34:41.280 --> 00:34:43.600\nSo these are the settings that is\npreviewed for you on the properties.\n\n731\n00:34:43.600 --> 00:34:45.900\nBut they come into play,\nas we set up the share,\n\n732\n00:34:45.900 --> 00:34:49.010\nbecause we want to set them\nup specific to the share.\n\n733\n00:34:49.010 --> 00:34:52.530\nThis share may have encryption,\nwhereas another one may not, right?\n\n734\n00:34:52.530 --> 00:34:55.540\nSo instead of setting them\nup on the volume directly,\n\n735\n00:34:55.540 --> 00:34:58.780\nwe set them up when we publish a share,\nwe're applying them to that share,\n\n736\n00:34:58.780 --> 00:35:00.540\nso that's why we're doing it this way.\n\n737\n00:35:00.540 --> 00:35:02.560\nAlright, so you'll see here,\nwe've done this.\n\n738\n00:35:02.560 --> 00:35:05.460\nWe're not gonna do any, or\nmake any changes here, but\n\n739\n00:35:05.460 --> 00:35:09.060\nwe could easily encrypt the data\nas I suggested if we chose to\n\n740\n00:35:09.060 --> 00:35:11.690\nsub toss to the side what to do,\nwe'll accept the default.\n\n741\n00:35:11.690 --> 00:35:12.880\nI click Next.\n\n742\n00:35:12.880 --> 00:35:17.160\nThen, our permissions,\nagain standard permissions are here.\n\n743\n00:35:17.160 --> 00:35:19.720\nLet's just take a look at a couple\nof permissions that we have.\n\n744\n00:35:19.720 --> 00:35:23.450\nWe can customize, by the way, if we choose\nto, think I pointed that out as well.\n\n745\n00:35:23.450 --> 00:35:26.670\nNotice the share permission,\nEveryone Full Control,\n\n746\n00:35:26.670 --> 00:35:30.510\nunlike our standard share permission,\nwhich is Everyone Read, right?\n\n747\n00:35:30.510 --> 00:35:34.510\nSo some small subtle differences\nthere that you want to be aware of.\n\n748\n00:35:34.510 --> 00:35:38.270\nYou'll notice we have creator owner,\nbuilt in users,\n\n749\n00:35:38.270 --> 00:35:40.560\nNT authority system, administrator.\n\n750\n00:35:41.600 --> 00:35:45.710\nWe have users and\ngroups that we would expect to see, but\n\n751\n00:35:45.710 --> 00:35:47.710\nnotice we may not have named individuals.\n\n752\n00:35:47.710 --> 00:35:51.450\nMike is not there as a named individual,\nI am not there, that kind of thing.\n\n753\n00:35:51.450 --> 00:35:52.620\nJust be aware of that.\n\n754\n00:35:52.620 --> 00:35:54.330\nWe choose customize permissions.\n\n755\n00:35:56.070 --> 00:35:57.890\nThis should look fairly familiar to you.\n\n756\n00:35:57.890 --> 00:36:01.260\nThis is just our standard SACL,\nor system access control list,\n\n757\n00:36:01.260 --> 00:36:05.150\nwith our ACEs, our access control entries\nthat are our ability to specify and\n\n758\n00:36:05.150 --> 00:36:06.160\nbe prescriptive here.\n\n759\n00:36:06.160 --> 00:36:09.400\nWe can go in, add in individuals,\nusers, or groups,\n\n760\n00:36:09.400 --> 00:36:11.210\nand assign custom permissions, right?\n\n761\n00:36:11.210 --> 00:36:13.910\nSo this is a standard pick list\nthe way we would see in any\n\n762\n00:36:13.910 --> 00:36:16.680\nfile resource anywhere in\nany Windows environment.\n\n763\n00:36:16.680 --> 00:36:17.660\nJust so you could see that.\n\n764\n00:36:17.660 --> 00:36:22.320\nAll right, so we've got that,\nclick next year, we got our confirmation.\n\n765\n00:36:22.320 --> 00:36:22.830\nClick Create.\n\n766\n00:36:22.830 --> 00:36:25.990\nGive that a moment,\nit doesn't take very long.\n\n767\n00:36:25.990 --> 00:36:31.120\nAll right, so we have that notice\nnow down here under shares\n\n768\n00:36:31.120 --> 00:36:34.310\ninstead of just the administrative default\nshare that was there to set this up.\n\n769\n00:36:34.310 --> 00:36:38.760\nAs I pointed out, we've now added another\nshare on there which is our logs.\n\n770\n00:36:38.760 --> 00:36:41.880\nShares, we've set that up and\nshown you how to provide that.\n\n771\n00:36:42.960 --> 00:36:44.450\nSo that way, if you have to go through and\n\n772\n00:36:44.450 --> 00:36:49.220\nstand up a share, you're able to see\nthat or see what the process looks like.\n\n773\n00:36:49.220 --> 00:36:50.666\nAnd when we highlight here,\n\n774\n00:36:55.391 --> 00:36:59.910\nLet's go to Properties, again,\nit takes a moment to capture that.\n\n775\n00:36:59.910 --> 00:37:03.560\nWere just going to see that same list I\nshowed you in the beginning of the demo\n\n776\n00:37:03.560 --> 00:37:06.060\nbefore I actually walked through\nthe configuration wizard.\n\n777\n00:37:06.060 --> 00:37:08.930\nJust with all the setting broken out, we\ncan see the permissions and anything, so\n\n778\n00:37:08.930 --> 00:37:12.120\nif we want to change those after the fact,\nyou know what,\n\n779\n00:37:12.120 --> 00:37:13.510\nI do wanna enable encryption.\n\n780\n00:37:13.510 --> 00:37:15.050\nYou know what, I do wanna add Mike.\n\n781\n00:37:15.050 --> 00:37:17.040\nNo big deal,\nyou've seen me do this already.\n\n782\n00:37:17.040 --> 00:37:19.388\nYou know we can go in there now just\nlike we did on the root share, and\n\n783\n00:37:19.388 --> 00:37:20.750\nyou see that in the administrative share.\n\n784\n00:37:20.750 --> 00:37:22.380\nAnd you see that we have\nthe same capabilities,\n\n785\n00:37:22.380 --> 00:37:25.615\nwe're not going through them again, you\nsee we have the same capabilities, right?\n\n786\n00:37:25.615 --> 00:37:28.525\nSo it's easy for\nus to be able to go in and\n\n787\n00:37:28.525 --> 00:37:31.765\nmake changes after the fact,\nshould we have a reason to.\n\n788\n00:37:31.765 --> 00:37:35.335\nSo, just be aware of that,\njust make sure that you're thinking\n\n789\n00:37:35.335 --> 00:37:39.050\nabout the logic of that and\nthat we have the capabilities to do that.\n\n790\n00:37:39.050 --> 00:37:41.160\nAll right, so we're gonna come back and\n\n791\n00:37:41.160 --> 00:37:45.730\nwe're going to talk through how this\nfailover process actually happens.\n\n792\n00:37:45.730 --> 00:37:48.450\nSo in our next episode,\nwe're gonna access the resource,\n\n793\n00:37:48.450 --> 00:37:51.780\nmake sure it's available, the resource\nbeing the share that we've created.\n\n794\n00:37:51.780 --> 00:37:54.020\nWe're then gonna fail it over,\nsee what happens, and\n\n795\n00:37:54.020 --> 00:37:56.940\nsee whether it does actually\nsurvive that fail over process.\n\n796\n00:37:56.940 --> 00:37:59.470\nFingers crossed,\nwe're gonna hope that all works out.\n\n797\n00:37:59.470 --> 00:38:02.000\nBut if you come back and join us, that's\nwhat were gonna do in our next episode.\n\n798\n00:38:02.000 --> 00:38:07.501\n&gt;&gt; All right, I'm on the edge of my seat,\nhopefully, everybody out there is as well.\n\n799\n00:38:07.501 --> 00:38:08.441\nCan we do that again?\n\n800\n00:38:10.600 --> 00:38:11.698\nPor Favor.\n\n801\n00:38:14.833 --> 00:38:16.641\nJust me.\n\n802\n00:38:17.890 --> 00:38:18.980\nCan you hear me?\n&gt;&gt; Yep.\n\n803\n00:38:18.980 --> 00:38:20.720\n&gt;&gt; I said you can't do anything.\n\n804\n00:38:20.720 --> 00:38:22.300\n&gt;&gt; Okay, we're stuck with it?\n\n805\n00:38:22.300 --> 00:38:23.350\nOkay, that show has no close.\n\n806\n00:38:24.620 --> 00:38:26.080\n&gt;&gt; All right.\n\n807\n00:38:26.080 --> 00:38:28.700\nAre you ready [INAUDIBLE].\n\n808\n00:38:28.700 --> 00:38:29.815\n&gt;&gt; All right, Adam, sounds great.\n\n809\n00:38:29.815 --> 00:38:32.045\nLooking forward to seeing\nif it actually works,\n\n810\n00:38:32.045 --> 00:38:33.837\nwhich I know it will because\nyou do such a great job.\n\n811\n00:38:33.837 --> 00:38:34.825\n[LAUGH]\n&gt;&gt; [LAUGH]\n\n812\n00:38:34.825 --> 00:38:36.640\nNothing like a vote of confidence.\n\n813\n00:38:36.640 --> 00:38:40.485\n&gt;&gt; [LAUGH] All right, well you guys\njoin me back here where can watch and\n\n814\n00:38:40.485 --> 00:38:42.455\nsee our failover cluster in action.\n\n815\n00:38:42.455 --> 00:38:44.535\nFor this episode, though,\nwe are out of time.\n\n816\n00:38:44.535 --> 00:38:48.085\nSo, signing off for ITProTV,\nI've been your host Mike Rodrick.\n\n817\n00:38:48.085 --> 00:38:48.830\n&gt;&gt; I'm hopeful.\n\n818\n00:38:48.830 --> 00:38:50.655\n&gt;&gt; [LAUGH] We'll see you next time.\n\n819\n00:38:50.655 --> 00:38:53.555\n&gt;&gt; Take care, everybody.\n\n820\n00:38:53.555 --> 00:38:58.751\n[MUSIC]\n\n821\n00:38:58.751 --> 00:39:06.000\n&gt;&gt; Thank you for watching ITPRO.TV.\n\n",
          "vimeoId": "239461565"
        },
        {
          "description": "Adam and Mike finish the configuration of the failover cluster, discussing how to restore the cluster configuration if necessary. In addition, they also discuss multisite failover clusters.",
          "length": "1781",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-5-configure_failover_clustering_pt5-101917-PGM-.00_29_25_03.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-5-configure_failover_clustering_pt5-101917-PGM-.00_29_25_03.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-10-1-5-configure_failover_clustering_pt5-101917-PGM-.00_29_25_03.Still001-sm.jpg",
          "title": "Configure Failover Clustering Part 5",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:03.657\nWelcome to ITProTV,\nI'm your host Don Pezet.\n\n2\n00:00:03.657 --> 00:00:04.433\n&gt;&gt; [CROSSTALK].\n\n3\n00:00:04.433 --> 00:00:07.843\n[MUSIC]\n\n4\n00:00:07.843 --> 00:00:10.582\n&gt;&gt; You're watching ITProTV.\n\n5\n00:00:10.582 --> 00:00:14.771\n&gt;&gt; Hello, welcome to another\nexciting episode here at ITProTV.\n\n6\n00:00:14.771 --> 00:00:20.588\nI'm your host Mike Rodrick, and today\nwe're doing our Windows Server 2012 R2.\n\n7\n00:00:20.588 --> 00:00:24.975\nSpecifically, we are preparing for\nthat 70-412 exam.\n\n8\n00:00:24.975 --> 00:00:26.017\nIn this episode,\n\n9\n00:00:26.017 --> 00:00:30.470\nwe're continuing our thought process\non configuring failover clusters.\n\n10\n00:00:30.470 --> 00:00:33.349\nWe've gone through four parts so if you\nhaven't watched those yet, make sure you\n\n11\n00:00:33.349 --> 00:00:35.910\ngo back and check those out cuz we're\nactually getting towards the end.\n\n12\n00:00:35.910 --> 00:00:39.840\nWe're gonna test our cluster out and\nsee how our failover works.\n\n13\n00:00:39.840 --> 00:00:41.526\nAnd here to show us is Mr. Adam Gordon.\n\n14\n00:00:41.526 --> 00:00:42.550\nWelcome back, Adam.\n\n15\n00:00:42.550 --> 00:00:43.478\n&gt;&gt; Hello, everybody.\n\n16\n00:00:43.478 --> 00:00:47.713\nSorry I was just setting up our little\nright-click menu here so we can jump back\n\n17\n00:00:47.713 --> 00:00:51.385\nin and take a look at our properties\non our scale at file server role.\n\n18\n00:00:51.385 --> 00:00:54.114\nWe're gonna see how to set that up for\nfailover and failback, and\n\n19\n00:00:54.114 --> 00:00:55.560\nthen actually demonstrate that.\n\n20\n00:00:55.560 --> 00:00:56.234\n&gt;&gt; Woo.\n\n21\n00:00:56.234 --> 00:00:58.310\n&gt;&gt; And as I said,\nat the end in the last episode,\n\n22\n00:00:58.310 --> 00:01:02.400\ndespite your vote of no confidence, I am\nhopeful, and I'm gonna prove Mike wrong.\n\n23\n00:01:02.400 --> 00:01:04.163\nAnd then we're gonna make\nhim tear it all down and\n\n24\n00:01:04.163 --> 00:01:05.804\nput it back together\nagain when we're done.\n\n25\n00:01:05.804 --> 00:01:09.727\nSo we are, as Mike indicated and\nas I indicated at the end of last episode,\n\n26\n00:01:09.727 --> 00:01:12.380\nwe're gonna take it back into the console.\n\n27\n00:01:12.380 --> 00:01:15.413\nAnd we're gonna wrap this up by\nshowing you how to set up a role so\n\n28\n00:01:15.413 --> 00:01:19.034\nthat it is highly available, so that\nit can be failed over and failed back.\n\n29\n00:01:19.034 --> 00:01:21.729\nWe're then actually gonna\nsimulate that failure,\n\n30\n00:01:21.729 --> 00:01:26.980\nwe're gonna see that we do still maintain\nviability for access to the information.\n\n31\n00:01:26.980 --> 00:01:29.216\nGot the share that we created\nearlier up and running,\n\n32\n00:01:29.216 --> 00:01:31.950\naccessible from a client,\na Windows A client that's logged in,\n\n33\n00:01:31.950 --> 00:01:34.406\nso we'll just take a look to\nsee the information is there.\n\n34\n00:01:34.406 --> 00:01:37.109\nWe'll actually dump a couple\nof files into the share so\n\n35\n00:01:37.109 --> 00:01:39.632\nwe have some data to play with,\njust to take a look,\n\n36\n00:01:39.632 --> 00:01:42.660\ncuz doing it with no data doesn't\nreally show you anything.\n\n37\n00:01:42.660 --> 00:01:47.860\nAll right, so, close your eyes, sit\nback and imagine and listen to the sweet\n\n38\n00:01:47.860 --> 00:01:52.590\nrefrains of Mr. Mike Rodrick singing\nCluster Away as we get started.\n\n39\n00:01:52.590 --> 00:01:54.867\nRight, so please join me here,\ndon't say it, please.\n\n40\n00:01:54.867 --> 00:01:55.907\nI was only kidding, don't do that.\n\n41\n00:01:55.907 --> 00:01:59.669\nAll right, so we're gonna go ahead,\nwe're in our field re-cluster manager.\n\n42\n00:01:59.669 --> 00:02:02.147\nYou see me in here now if\nyou're in various episodes,\n\n43\n00:02:02.147 --> 00:02:05.351\nwe're on our Roles area as you can see,\nI've got the role selected.\n\n44\n00:02:05.351 --> 00:02:08.960\nThat's our scale out file server,\nthat we built out on our last episode.\n\n45\n00:02:08.960 --> 00:02:10.556\nAll I did was right-click on the role.\n\n46\n00:02:10.556 --> 00:02:12.182\nGot my menu selected there.\n\n47\n00:02:12.182 --> 00:02:14.960\nI'm about to click on Properties,\nas you can see.\n\n48\n00:02:14.960 --> 00:02:18.498\nAnd we're gonna look at the properties\nof the scale out file server role.\n\n49\n00:02:18.498 --> 00:02:23.120\nNow obviously, whatever role is there\nthat you're playing with or selecting, or\n\n50\n00:02:23.120 --> 00:02:27.411\nwhichever roles, plural, maybe more\nthan one role which you may be seeing or\n\n51\n00:02:27.411 --> 00:02:28.284\nworking with.\n\n52\n00:02:28.284 --> 00:02:30.770\nWhatever you're doing, right?\n\n53\n00:02:30.770 --> 00:02:35.836\nWhen you wanna take that role and\nyou wanna go ahead and you want to be able\n\n54\n00:02:35.836 --> 00:02:41.420\nto have that role become highly available\nand make it available for fill over.\n\n55\n00:02:41.420 --> 00:02:42.370\nThat's what we're talking\nabout doing here.\n\n56\n00:02:42.370 --> 00:02:45.586\nSo if you set up a different\nrole than the one we did and\n\n57\n00:02:45.586 --> 00:02:49.024\nthat's the one you're demoing\nwith remember we said,\n\n58\n00:02:49.024 --> 00:02:52.750\nwe have DHCP there with DFS,\nwe had all sorts of stuff.\n\n59\n00:02:52.750 --> 00:02:55.583\nWhatever it is, choose the role that's\nin your list that you're gonna want.\n\n60\n00:02:55.583 --> 00:03:00.112\nRight-click on it, general tab,\nname of the role, preferred owners,\n\n61\n00:03:00.112 --> 00:03:04.640\nboth of the host nodes or as many host\nnodes as are members of your cluster,\n\n62\n00:03:04.640 --> 00:03:05.970\nwill be listed here.\n\n63\n00:03:05.970 --> 00:03:08.892\nWe have a two-node cluster, so\nours is limited to two nodes.\n\n64\n00:03:08.892 --> 00:03:12.870\nIf you have a more robust cluster,\nyou would see more hosts listed here.\n\n65\n00:03:12.870 --> 00:03:15.026\nJust to be clear.\nSelect the preferred.owners for\n\n66\n00:03:15.026 --> 00:03:18.743\nthis cluster role, use the buttons to\nlist them in order from most preferred\n\n67\n00:03:18.743 --> 00:03:20.910\nat the top to least\npreferred at the bottom.\n\n68\n00:03:20.910 --> 00:03:22.354\nWell, we don't have a lot of choices here.\n\n69\n00:03:22.354 --> 00:03:23.002\n&gt;&gt; No.\n\n70\n00:03:23.002 --> 00:03:25.420\n&gt;&gt; We've only got two, but\nwe're gonna select both.\n\n71\n00:03:25.420 --> 00:03:31.150\nAnd as a result,\nas you can see we've put those in there.\n\n72\n00:03:31.150 --> 00:03:34.144\nNow if I highlight the lower one and\nsay, you know what,\n\n73\n00:03:34.144 --> 00:03:38.504\nI want PLAID SA 01 to be the top preferred\nowner of this, I can just move them up.\n\n74\n00:03:38.504 --> 00:03:40.270\nYou could see I could move up and down.\n\n75\n00:03:40.270 --> 00:03:42.381\nWith the two node cluster I don't\nreally have a lot of choices.\n\n76\n00:03:42.381 --> 00:03:44.048\n&gt;&gt; [LAUGH]\n&gt;&gt; Not a lot of mystery there.\n\n77\n00:03:44.048 --> 00:03:48.251\nBut you could see that I do have\nthe option to specify based on priority in\n\n78\n00:03:48.251 --> 00:03:53.330\nLocation, which will be the preferred\nversus the next preferred down as we go.\n\n79\n00:03:53.330 --> 00:03:56.842\nLeast preferred meaning, will be the one\nthat we failover to if the primary\n\n80\n00:03:56.842 --> 00:03:59.086\npreferred is not up and\nrunning and available.\n\n81\n00:03:59.086 --> 00:04:02.380\nBut it will only take ownership when\nthe main hop preferred candidate\n\n82\n00:04:02.380 --> 00:04:04.026\nis not available for some reason,\n\n83\n00:04:04.026 --> 00:04:07.000\njust so you understand the logic\nof what we're seeing there.\n\n84\n00:04:07.000 --> 00:04:08.780\nAll right, so we've got that.\n\n85\n00:04:08.780 --> 00:04:12.238\nThat is a prerequisite,\nwe must check off and\n\n86\n00:04:12.238 --> 00:04:17.152\nselect those hosts before we can\ncome over here to failover, and\n\n87\n00:04:17.152 --> 00:04:20.708\nwe can specify that\nfailback will be allowed.\n\n88\n00:04:20.708 --> 00:04:25.545\nBecause failback implies that when we\nfailover, which is what we talked about\n\n89\n00:04:25.545 --> 00:04:30.528\nand we're setting up, that when a node\nfails and we, let's say hypothetically\n\n90\n00:04:30.528 --> 00:04:32.398\nIf I am not available-\n&gt;&gt; Here come the props.\n\n91\n00:04:32.398 --> 00:04:34.802\n&gt;&gt; Here come the props, okay,\nonly the best here, right?\n\n92\n00:04:34.802 --> 00:04:36.973\n&gt;&gt; [LAUGH]\n&gt;&gt; So let's just say that this network\n\n93\n00:04:36.973 --> 00:04:41.150\nadapter is gonna represent the file\nshare that we're talking about.\n\n94\n00:04:41.150 --> 00:04:42.464\n&gt;&gt; The role.\n&gt;&gt; The role, right?\n\n95\n00:04:42.464 --> 00:04:44.343\nAnd let's say that I am PLABDM01,\n\n96\n00:04:44.343 --> 00:04:47.210\nthe primary that we talked\nabout the top preferred.\n\n97\n00:04:47.210 --> 00:04:49.292\nI'm hosting, I'm essentially\npreferred owner, I have this role,\n\n98\n00:04:49.292 --> 00:04:50.080\nI'm providing, right?\n\n99\n00:04:50.080 --> 00:04:53.140\nBut if I go down and I fail, right?\n\n100\n00:04:53.140 --> 00:04:57.350\nAnd then Mike has to grab this role and\nthis capability and\n\n101\n00:04:57.350 --> 00:04:59.548\nstart providing it, right?\n\n102\n00:04:59.548 --> 00:05:01.600\nYou got your gloves on,\nyou ready to catch?\n\n103\n00:05:01.600 --> 00:05:02.461\n&gt;&gt; Yep, I am.\n&gt;&gt; If you drop this\n\n104\n00:05:02.461 --> 00:05:04.276\nyou're never gonna [CROSSTALK].\n\n105\n00:05:04.276 --> 00:05:06.243\n&gt;&gt; Okay.\n&gt;&gt; You're never gonna live down the shame.\n\n106\n00:05:06.243 --> 00:05:07.590\nSo I'm gonna throw it out over there.\n\n107\n00:05:07.590 --> 00:05:09.790\n&gt;&gt; [LAUGH]\n&gt;&gt; So Mike's gonna get this.\n\n108\n00:05:09.790 --> 00:05:13.700\nSo if I disappear, disembodied voice.\n\n109\n00:05:13.700 --> 00:05:16.360\n&gt;&gt; I'm still going,\nyou guys can still access the share.\n\n110\n00:05:16.360 --> 00:05:17.981\nDo whatever it is you need to do,\n\n111\n00:05:17.981 --> 00:05:22.105\nand hopefully somebody is trying to rescue\nAdam from the hole he's fallen into.\n\n112\n00:05:22.105 --> 00:05:25.715\nSo eventually,\nwe'll get Adam back up on line.\n\n113\n00:05:25.715 --> 00:05:26.350\n&gt;&gt; Woo.\n\n114\n00:05:26.350 --> 00:05:28.716\n&gt;&gt; And then if we set a failback.\n\n115\n00:05:28.716 --> 00:05:31.460\n&gt;&gt; Tah-dah.\n\n116\n00:05:31.460 --> 00:05:32.667\n&gt;&gt; Tah dah, I like it.\n&gt;&gt; Awesome.\n\n117\n00:05:32.667 --> 00:05:33.286\n&gt;&gt; High-five.\n\n118\n00:05:33.286 --> 00:05:34.264\n&gt;&gt; Woo-hoo.\n\n119\n00:05:34.264 --> 00:05:38.368\n&gt;&gt; All right, and that, boys and girls,\nis how you failover a network adapter.\n\n120\n00:05:38.368 --> 00:05:40.751\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so what we're gonna do this,\n\n121\n00:05:40.751 --> 00:05:43.728\nwhat we're talking about is\nessentially this process right?\n\n122\n00:05:43.728 --> 00:05:46.252\nThat we just went through, so\ntake a look here on failover,\n\n123\n00:05:46.252 --> 00:05:47.720\ntake a look what the settings are.\n\n124\n00:05:47.720 --> 00:05:51.731\nSpecify the number of times the cluster\nservice attempts to restart at the top\n\n125\n00:05:51.731 --> 00:05:55.140\nthere or failover the cluster\nrole within the specified period.\n\n126\n00:05:55.140 --> 00:05:58.934\nIn other words, one of those time\nparameters that are gonna control that\n\n127\n00:05:58.934 --> 00:06:03.366\ninteraction about me disappearing and my\ntaking over how frequently do we try that.\n\n128\n00:06:03.366 --> 00:06:06.584\nWe don't wanna flap back and forth\nwhich becomes part of the problem, so\n\n129\n00:06:06.584 --> 00:06:08.126\nI wanna control for that, right?\n\n130\n00:06:08.126 --> 00:06:11.756\nSo maximum failures in the specified\nperiod over the period of hours,\n\n131\n00:06:11.756 --> 00:06:13.366\nwhatever that maybe, right?\n\n132\n00:06:13.366 --> 00:06:16.142\nSo we have to make sure that we're\nthinking about this and then for\n\n133\n00:06:16.142 --> 00:06:17.004\nfailback, right?\n\n134\n00:06:17.004 --> 00:06:21.750\nThat's failover at the top, for\nfailback down at the bottom.\n\n135\n00:06:21.750 --> 00:06:25.584\nWanna make sure that we are aware\nof the fact that by default and\n\n136\n00:06:25.584 --> 00:06:28.110\nby design we're preventing failback.\n\n137\n00:06:28.110 --> 00:06:32.670\nMeaning that in that dialogue we had where\nI disappeared and Mike was now the owner\n\n138\n00:06:32.670 --> 00:06:36.980\nof that service, that when I came back\nonline, he would not failback to me.\n\n139\n00:06:36.980 --> 00:06:41.222\nHe would not hand that back by design,\nbecause we can get into the situation,\n\n140\n00:06:41.222 --> 00:06:43.660\nI just described, and name this flapping.\n\n141\n00:06:43.660 --> 00:06:46.240\nWhere it's a term we use for\nroutes typically, where routes come up and\n\n142\n00:06:46.240 --> 00:06:48.740\ndown and they flap, they're available,\nthey're not available.\n\n143\n00:06:48.740 --> 00:06:52.634\nAnd as a result, we are not able to\ncontinuously provide service and\n\n144\n00:06:52.634 --> 00:06:55.380\nwe have all sorts of\nproblems in the interface.\n\n145\n00:06:55.380 --> 00:06:57.555\nMaybe the network interface is not stable,\n\n146\n00:06:57.555 --> 00:07:00.270\nmaybe the system is recycling\ncuz there's a problem.\n\n147\n00:07:00.270 --> 00:07:05.211\nI've seen it happen where surprising,\nbelieve it or not, a couple of\n\n148\n00:07:05.211 --> 00:07:10.490\ntimes people have spun up virtual\nmachines and or hosts, put them in.\n\n149\n00:07:10.490 --> 00:07:13.520\nThey opted out of putting\na license in upfront, right?\n\n150\n00:07:13.520 --> 00:07:15.250\nWhich you know you can do.\n\n151\n00:07:15.250 --> 00:07:18.034\nAnd you get a window of where that\nsystem runs then it goes into hey,\n\n152\n00:07:18.034 --> 00:07:19.492\nyou don't license me every hour.\n\n153\n00:07:19.492 --> 00:07:24.552\nI'm gonna start restarting mode and that\ncauses catastrophic cascading flapping or\n\n154\n00:07:24.552 --> 00:07:28.354\nfailure in the stack of those host\nhappy to be notes in a cluster.\n\n155\n00:07:28.354 --> 00:07:29.417\nAnd so as a result,\n\n156\n00:07:29.417 --> 00:07:34.000\nyou can imagine certain situations where\nyou could see failback being a problem,\n\n157\n00:07:34.000 --> 00:07:38.130\nnot suggesting we normally run\nwithout licensing your infrastructure.\n\n158\n00:07:38.130 --> 00:07:39.935\nBut you'd be surprised\nwhat people forget to do.\n\n159\n00:07:39.935 --> 00:07:43.308\n[CROSSTALK] Not that you don't have\nlicenses, just you forgot to do it.\n\n160\n00:07:43.308 --> 00:07:46.825\nOr somebody else is provisioning and they\nthought you were gonna do it, you thought\n\n161\n00:07:46.825 --> 00:07:50.512\nthey're gonna do it and just, who checks\nto see their systems are activated, right?\n\n162\n00:07:50.512 --> 00:07:51.166\n&gt;&gt; [LAUGH]\n&gt;&gt; I mean,\n\n163\n00:07:51.166 --> 00:07:53.360\nmost people just assume they're running.\n\n164\n00:07:53.360 --> 00:07:56.437\nSo there may be reasons why prevent\nfailback out of the gate actually does\n\n165\n00:07:56.437 --> 00:07:57.000\nmake sense.\n\n166\n00:07:57.000 --> 00:07:58.960\nBut we just wanna make\nsure we're aware of this.\n\n167\n00:07:58.960 --> 00:08:01.975\nBecause again, logic dictates it may or\nmay not make sense.\n\n168\n00:08:01.975 --> 00:08:05.890\nSo we're gonna allow failback just for\npurposes of our discussion.\n\n169\n00:08:05.890 --> 00:08:06.899\nSo we're gonna go ahead.\n\n170\n00:08:06.899 --> 00:08:12.053\nAnd I'm gonna specify here the failback\nbetween you can see either immediately or\n\n171\n00:08:12.053 --> 00:08:16.832\nfailback between just you can see if\nI do failback between one, let's say,\n\n172\n00:08:16.832 --> 00:08:17.930\nto two hours.\n\n173\n00:08:17.930 --> 00:08:22.040\nI'll specify that I'm bracketing that\nas opposed to failing back immediately.\n\n174\n00:08:22.040 --> 00:08:25.400\nThis is kind of a middle of\nthe road between prevent failback,\n\n175\n00:08:25.400 --> 00:08:26.810\ndon't allow any feedback at all so\n\n176\n00:08:26.810 --> 00:08:30.370\nmight maintains ownership even\nthough I come back up and I'm ready.\n\n177\n00:08:30.370 --> 00:08:34.840\nAnd allows failback, allow failback\nimmediately that flapping I talked about\n\n178\n00:08:34.840 --> 00:08:37.450\ncan occur when the system comes up,\ngrabs control and\n\n179\n00:08:37.450 --> 00:08:39.640\nthen all of sudden it crashes again right.\n\n180\n00:08:39.640 --> 00:08:44.000\nNot a good idea so maybe failback\nbetween Let the system come up,\n\n181\n00:08:44.000 --> 00:08:46.490\nrun for an hour,\nlet's say, at the low end.\n\n182\n00:08:46.490 --> 00:08:49.280\nIf we say one and\ntwo hours just here, hypothetically.\n\n183\n00:08:50.830 --> 00:08:53.260\nIf we do this, just see this.\n\n184\n00:08:53.260 --> 00:08:56.700\nWhat I'm saying by doing this is\nthe system has to be up and running for\n\n185\n00:08:56.700 --> 00:08:59.590\nat least an hour before Mike would\ngive up that role, and fill back And\n\n186\n00:08:59.590 --> 00:09:03.110\nsomewhere between one and two hours\nin our example would be the window\n\n187\n00:09:03.110 --> 00:09:06.490\nwhere he would then have to give up\nthat ownership than fill back over.\n\n188\n00:09:06.490 --> 00:09:08.700\nBut that way, we hopefully have\na little stability in the platform.\n\n189\n00:09:08.700 --> 00:09:11.548\nAnd the system is not gonna, well,\nit's still good, obviously, flap and\n\n190\n00:09:11.548 --> 00:09:12.360\nthings can go wrong.\n\n191\n00:09:12.360 --> 00:09:16.140\nBut we hope by doing that, we're limiting\nsome of the obvious come back up.\n\n192\n00:09:16.140 --> 00:09:19.370\nThe cycle, as you get in toward,\njust viciously cycles in and\n\n193\n00:09:19.370 --> 00:09:20.420\nnever straightens out.\n\n194\n00:09:20.420 --> 00:09:21.330\nThat can happen.\n\n195\n00:09:21.330 --> 00:09:22.587\nSo you may wanna play with these settings.\n\n196\n00:09:22.587 --> 00:09:24.043\nThink about the logic of these and\n\n197\n00:09:24.043 --> 00:09:26.550\nhave a good understanding of\nwhat your options are here.\n\n198\n00:09:26.550 --> 00:09:27.310\nRight?\nIt would be valuable.\n\n199\n00:09:27.310 --> 00:09:30.090\nAll right, so we're gonna leave it a fail\nback between, just so you can see that.\n\n200\n00:09:30.090 --> 00:09:32.390\nWe're gonna apply, and then okay.\n\n201\n00:09:32.390 --> 00:09:33.620\nI think we've had this\nconversation before.\n\n202\n00:09:33.620 --> 00:09:36.000\nAre you an apply, okay man,\nor just an okay man?\n\n203\n00:09:36.000 --> 00:09:36.970\n&gt;&gt; I'm an okay guy.\n\n204\n00:09:36.970 --> 00:09:38.610\n&gt;&gt; Yeah, I don't like that apply,\nokay thing.\n\n205\n00:09:38.610 --> 00:09:40.910\nI figure if I made a mistake,\nit's gonna get screwed up.\n\n206\n00:09:40.910 --> 00:09:42.090\n&gt;&gt; Yup.\n&gt;&gt; Let's just bring it on, and\n\n207\n00:09:42.090 --> 00:09:43.495\nlet me fix it after the fact, okay?\n\n208\n00:09:43.495 --> 00:09:45.080\n&gt;&gt; [LAUGHS]\n&gt;&gt; None of this, like, you\n\n209\n00:09:45.080 --> 00:09:46.470\n&gt;&gt; You're kind of waiting to find out so.\n\n210\n00:09:46.470 --> 00:09:48.790\n&gt;&gt; No sticking the toe in the water.\n\n211\n00:09:48.790 --> 00:09:49.560\n&gt;&gt; No, just jump right in.\n\n212\n00:09:49.560 --> 00:09:51.350\nWhat the heck, what can go wrong, right?\n\n213\n00:09:51.350 --> 00:09:53.470\nAll right, let's go ahead,\nlet's validate that.\n\n214\n00:09:53.470 --> 00:09:56.873\nWe now actually are able to see\nthis clustered resource and stuff,\n\n215\n00:09:56.873 --> 00:09:59.200\nscale out file server\nfrom another machine.\n\n216\n00:09:59.200 --> 00:10:01.980\nSo that we know,\nwe do know the cluster's running.\n\n217\n00:10:01.980 --> 00:10:02.870\nWait till the status is up.\n\n218\n00:10:02.870 --> 00:10:04.410\nWe've been able to see everything,\nthat's good.\n\n219\n00:10:04.410 --> 00:10:06.186\nBut it's always good to\nvalidate from outside.\n\n220\n00:10:06.186 --> 00:10:07.405\nYou never know, right?\n\n221\n00:10:07.405 --> 00:10:09.458\nThe management interface\nmay not have refreshed,\n\n222\n00:10:09.458 --> 00:10:12.370\nit could be a failure that's happening and\nyou're not seeing it.\n\n223\n00:10:12.370 --> 00:10:13.570\nSo it's good to go to a third party.\n\n224\n00:10:13.570 --> 00:10:15.090\nWe're gonna do that in just a second.\n\n225\n00:10:15.090 --> 00:10:18.700\nBut before we do,\nlet's actually see what the creation\n\n226\n00:10:18.700 --> 00:10:22.430\nof this cluster shared volume,\nor this clustered storage\n\n227\n00:10:22.430 --> 00:10:25.690\nvolume on the scale of file server\nactually means under the hood, right?\n\n228\n00:10:25.690 --> 00:10:27.810\nBecause we mounted this, so\nlet's just take a look at it.\n\n229\n00:10:27.810 --> 00:10:29.830\nSo I'm on the machine, right?\n\n230\n00:10:29.830 --> 00:10:34.480\nAnd you'll see here that what I did was\nsimply just go into the local C drive.\n\n231\n00:10:34.480 --> 00:10:36.890\nYou can kinda see the path here.\n\n232\n00:10:36.890 --> 00:10:41.860\nAnd you'll see that I have\nC Cluster Storage Volume 1 Shares Logs.\n\n233\n00:10:41.860 --> 00:10:44.110\nThat's the logs share that I created.\n\n234\n00:10:44.110 --> 00:10:46.060\nIf you remember that's what\nwe did in the last episode.\n\n235\n00:10:46.060 --> 00:10:48.360\nSo that's sitting locally on this machine.\n\n236\n00:10:48.360 --> 00:10:52.740\nSo you can see here that I have\na folder called Clustered Storage.\n\n237\n00:10:52.740 --> 00:10:54.580\nCluster storage, excuse me.\n\n238\n00:10:54.580 --> 00:10:57.270\nAnd I have a shortcut to volume one,\n\n239\n00:10:57.270 --> 00:11:01.510\nthat's what's pointing me out there\nto the scaled out file server and\n\n240\n00:11:01.510 --> 00:11:05.370\nthen I have cluster and I have shares,\neach one of these, right?\n\n241\n00:11:05.370 --> 00:11:08.595\nI'm going into shares,\nthere is my logs folder that I created.\n\n242\n00:11:08.595 --> 00:11:09.711\nNow it's empty by default.\n\n243\n00:11:09.711 --> 00:11:13.391\nI just copied some logs out of the local\nmachine, just dumped them in there so\n\n244\n00:11:13.391 --> 00:11:16.553\nwe can see some data on the Windows\n8 machine when we go to access to\n\n245\n00:11:16.553 --> 00:11:18.986\nthe share to make sure somethings there,\nright?\n\n246\n00:11:18.986 --> 00:11:22.440\nSo just to make sure that I'm not\nmaking this up, let's do the following.\n\n247\n00:11:28.510 --> 00:11:31.125\nAdam and Mike are cool, cuz we are.\n\n248\n00:11:31.125 --> 00:11:32.610\n&gt;&gt; [LAUGH]\n&gt;&gt; All right, so there we go.\n\n249\n00:11:32.610 --> 00:11:36.170\nSo we gotta a little text file, you just\nsaw me create that live, right now, right?\n\n250\n00:11:36.170 --> 00:11:37.168\nI just put that in there.\n\n251\n00:11:37.168 --> 00:11:40.902\nSo, the assumption would be, when I go\nbring this share up on Windows 8, and\n\n252\n00:11:40.902 --> 00:11:42.690\nI already have it up and running.\n\n253\n00:11:42.690 --> 00:11:43.940\nIt's available, we're connected to it,\n\n254\n00:11:43.940 --> 00:11:47.360\nbut in theory if I've updated the data,\nif we're connected,\n\n255\n00:11:47.360 --> 00:11:51.640\nthe file share's running, the cluster is\nworking, I should see that file, right?\n\n256\n00:11:51.640 --> 00:11:53.620\nBecause I just created it right now.\n\n257\n00:11:53.620 --> 00:11:54.570\nSo let's go take a look.\n\n258\n00:11:54.570 --> 00:11:58.930\nLet's go over here to Windows 8 and\n\n259\n00:11:58.930 --> 00:12:03.470\nsure enough, you can see on my Windows\n8 machine, you can see the path here.\n\n260\n00:12:03.470 --> 00:12:08.020\nI'm connected over\nthe network to the UNC for\n\n261\n00:12:08.020 --> 00:12:11.990\nthe path that was the backslash\nbackslash plab SFS for\n\n262\n00:12:11.990 --> 00:12:16.180\nscale out file server share that we\npublished, logs is the share, right?\n\n263\n00:12:16.180 --> 00:12:19.620\nOr the machine, rather is plabit,\nthe named instance for\n\n264\n00:12:19.620 --> 00:12:23.700\nthe share is what I mean to say,\nplab SFS and then logs is the share.\n\n265\n00:12:23.700 --> 00:12:26.320\nYou can see I'm connected to it and\nyou see the Adam and\n\n266\n00:12:26.320 --> 00:12:30.200\nMike are cool text document\nthat's there that I just created.\n\n267\n00:12:30.200 --> 00:12:34.254\nSo we're looking at the share live and the\nfile service scale file server is working.\n\n268\n00:12:34.254 --> 00:12:35.570\nWe can validate that.\n\n269\n00:12:35.570 --> 00:12:38.290\nAnd so we've seen that,\nnow what we're gonna do is the following.\n\n270\n00:12:38.290 --> 00:12:42.070\nWe're going to come back over here,\nto our Plab DM server one machine.\n\n271\n00:12:42.070 --> 00:12:44.860\nIn other words where we're\nmanaging the cluster from or\n\n272\n00:12:44.860 --> 00:12:46.978\nthe file roll front, rather.\n\n273\n00:12:46.978 --> 00:12:49.450\nLet me minimize that, so\n\n274\n00:12:49.450 --> 00:12:52.200\nwe know that's there, right, so\nwe're back in our management area.\n\n275\n00:12:52.200 --> 00:12:54.720\nWe are gonna come in here.\n\n276\n00:12:54.720 --> 00:12:59.141\nWe're on our roles on plab,\nwhat is that thing we are doing,\n\n277\n00:12:59.141 --> 00:13:03.880\nthe cluster, there we go,\nit's been a long set episode here.\n\n278\n00:13:03.880 --> 00:13:07.179\nWe are on our failover cluster, right,\nour named instance, we're on the roles.\n\n279\n00:13:07.179 --> 00:13:09.520\nWe've been through this and\nseen this in the other episodes.\n\n280\n00:13:09.520 --> 00:13:12.890\nWhat we're gonna do is the following,\nwe're gonna go in and\n\n281\n00:13:12.890 --> 00:13:15.020\nI'm gonna go to my nodes here.\n\n282\n00:13:15.020 --> 00:13:19.160\nAnd you'll see that we have our two nodes,\nright, PLABDM01, PLABSA01.\n\n283\n00:13:19.160 --> 00:13:25.890\nAnd I'm gonna take PLABDM01, which is\nthe machine that we are running from or\n\n284\n00:13:25.890 --> 00:13:30.420\nworking with right now,\nand I'm gonna right click.\n\n285\n00:13:30.420 --> 00:13:35.308\nAnd you'll see that I can either pause,\nI can resume, I can,\n\n286\n00:13:35.308 --> 00:13:40.196\nat the bottom under more actions,\nstop the cluster service,\n\n287\n00:13:40.196 --> 00:13:42.740\nI have some different options.\n\n288\n00:13:42.740 --> 00:13:46.900\nNow to simulate the failure we're gonna\nto stop the cluster service, right?\n\n289\n00:13:46.900 --> 00:13:48.720\nSo we're going to actually\nessentially say hey,\n\n290\n00:13:48.720 --> 00:13:51.605\non this node,\nthat is no longer available, right?\n\n291\n00:13:51.605 --> 00:13:55.293\nCuz remember, we want to try to force\nit to failover to the equivalent\n\n292\n00:13:55.293 --> 00:13:58.291\nof Mike in our conversation\nwhich would be PLABSA01.\n\n293\n00:13:58.291 --> 00:14:02.540\nMike's going to be the PLABSA01 node in\nour little conversation, or our dialogue.\n\n294\n00:14:02.540 --> 00:14:05.170\n&gt;&gt; And you are doing this on\nthe current owner of the role.\n\n295\n00:14:05.170 --> 00:14:07.570\n&gt;&gt; I am.\n&gt;&gt; Because if you turned off the cluster\n\n296\n00:14:07.570 --> 00:14:10.040\nservice on the guy that wasn't hosting\nthe role, we wouldn't see much.\n\n297\n00:14:10.040 --> 00:14:11.404\n&gt;&gt; Who cares.\n&gt;&gt; [LAUGH]\n\n298\n00:14:11.404 --> 00:14:12.839\n&gt;&gt; You are already not doing anything,\n\n299\n00:14:12.839 --> 00:14:15.942\nwe're just validating that formally and\nsaying you are essentially useless,\n\n300\n00:14:15.942 --> 00:14:17.440\nthat's what we would be saying.\n\n301\n00:14:17.440 --> 00:14:20.460\nBut because Plaid DM01\nis the current owner,\n\n302\n00:14:20.460 --> 00:14:24.560\nessentially actively doing the work,\nwhen we fail that one that triggers,\n\n303\n00:14:24.560 --> 00:14:26.280\nassuming we've done this\ncorrectly of course.\n\n304\n00:14:26.280 --> 00:14:29.230\nAnd set everything up like we just did\non the back end with the fail over box.\n\n305\n00:14:29.230 --> 00:14:31.120\n&gt;&gt; Right.\n&gt;&gt; Naming the top priority and\n\n306\n00:14:31.120 --> 00:14:34.135\nthe lower priority owners,\nin prioritized order.\n\n307\n00:14:34.135 --> 00:14:38.690\nAssuming we set all that up that we just\ndid, that triggers the fail over event and\n\n308\n00:14:38.690 --> 00:14:42.790\nthen allows that secondary owner to be\nbrought on line and take over the role.\n\n309\n00:14:42.790 --> 00:14:44.380\nAt least that's the working theory.\n\n310\n00:14:44.380 --> 00:14:45.400\nWe're going to test that right now.\n\n311\n00:14:45.400 --> 00:14:46.280\nAll right.\n\n312\n00:14:46.280 --> 00:14:48.000\nSo you'll see here, we're gonna go ahead.\n\n313\n00:14:48.000 --> 00:14:49.400\nWe're gonna stop the cluster strip.\n\n314\n00:14:49.400 --> 00:14:51.480\nSo I'm gonna go click on that.\n\n315\n00:14:51.480 --> 00:14:54.760\nYou'll see it is draining and\nit goes from up to down.\n\n316\n00:14:54.760 --> 00:14:59.570\nDraining, by the way, is the act or\njust what we give names of the action of\n\n317\n00:14:59.570 --> 00:15:03.700\nremoving the cluster service, essentially\nstopping the providing of resources and\n\n318\n00:15:03.700 --> 00:15:06.720\ncapabilities from that host\nthat's what draining is.\n\n319\n00:15:06.720 --> 00:15:10.980\nLiterally imagine, you pull the drain out\nof the bathtub or take your finger off\n\n320\n00:15:10.980 --> 00:15:13.360\na little hole let's say if you poked\na hole in a little container and\n\n321\n00:15:13.360 --> 00:15:16.390\nwhatever is in there just floods away,\nmoves out.\n\n322\n00:15:16.390 --> 00:15:18.010\nThere's nothing left cuz it's disappeared.\n\n323\n00:15:18.010 --> 00:15:19.950\nThat's what the draining\nconcept is all about.\n\n324\n00:15:19.950 --> 00:15:22.820\nAll right, we need the little gurgling\nsound and the spinning right?\n\n325\n00:15:22.820 --> 00:15:27.950\nThis is where that spinning vortex for\nthat thing that they do for\n\n326\n00:15:27.950 --> 00:15:30.820\nWindows Vista and\nstuff where you had that spinning.\n\n327\n00:15:30.820 --> 00:15:32.410\nThat would be perfect for this right now.\n\n328\n00:15:32.410 --> 00:15:34.900\nHave one of those big ones that shows\nup on the screen and goes like.\n\n329\n00:15:34.900 --> 00:15:35.750\nThat would be awesome.\n\n330\n00:15:35.750 --> 00:15:40.640\nAll right, so you'll see that we\nnow have set this host to a down\n\n331\n00:15:40.640 --> 00:15:45.790\nstatus meaning it is not up and it is not\nrunning, it's not providing capabilities.\n\n332\n00:15:45.790 --> 00:15:49.140\nSo now that we've done this,\nwhat we're gonna do is the following.\n\n333\n00:15:49.140 --> 00:15:54.320\nWe're gonna go the PLABSA0 node,\nour node right here, right?\n\n334\n00:15:54.320 --> 00:15:59.104\nAnd, what we're gonna do,\niIs go to our rolls tab down below and\n\n335\n00:15:59.104 --> 00:16:03.711\nyou'll see that our scale out\nfiles server is running there,\n\n336\n00:16:03.711 --> 00:16:08.241\nwhere before it was running\nagainst the other node, right?\n\n337\n00:16:08.241 --> 00:16:12.430\nAnd you'll see that we have indeed\nFailed over, we didn't even see it.\n\n338\n00:16:12.430 --> 00:16:14.625\nI mean as I was talking,\nit just happens behind the scenes.\n\n339\n00:16:14.625 --> 00:16:16.296\nIt's immediate,\nI don't have to do anything,\n\n340\n00:16:16.296 --> 00:16:17.897\nit's the beauty of this technology, right.\n\n341\n00:16:17.897 --> 00:16:20.661\nIf I were to then would go in there,\nor Mike said to me, hey Adam,\n\n342\n00:16:20.661 --> 00:16:23.819\nstop talking cuz you gotta go fail\nthat thing over, people are waiting.\n\n343\n00:16:23.819 --> 00:16:26.476\nIf I had to go do that manually,\nwhat if you're not on the data center,\n\n344\n00:16:26.476 --> 00:16:27.702\nwhat if you're not connected?\n\n345\n00:16:27.702 --> 00:16:30.216\nWhat is this is, I don't know,\n5 in the morning, 2 in the afternoon,\n\n346\n00:16:30.216 --> 00:16:31.390\ntake your pick, no matter what.\n\n347\n00:16:31.390 --> 00:16:34.999\nBut the point is, if this happens and\nyou're not in there managing,\n\n348\n00:16:34.999 --> 00:16:37.875\nthis could be a delay that\ncould take minutes or hours.\n\n349\n00:16:37.875 --> 00:16:40.564\n&gt;&gt; Kinda defeats the purpose of-\n&gt;&gt; Absolutely, this is automatic,\n\n350\n00:16:40.564 --> 00:16:43.445\nI didn't have to do anything other\nthan to simply bring down the node.\n\n351\n00:16:43.445 --> 00:16:45.790\nFailover happens behind\nthe scenes automatically,\n\n352\n00:16:45.790 --> 00:16:48.490\nit's controlled by the system,\nI don't do anything.\n\n353\n00:16:48.490 --> 00:16:51.590\nIt's already happened, in other words,\nI didn't have to do anything,\n\n354\n00:16:51.590 --> 00:16:53.260\nall I had to do is get out of the way.\n\n355\n00:16:53.260 --> 00:16:56.120\nSo now,\nif we go back to our Windows machine,\n\n356\n00:16:56.120 --> 00:17:01.360\ngo back to Windows 8.1, so\nlet's go back here, right?\n\n357\n00:17:01.360 --> 00:17:05.750\nWe could see that it's there, but we don't\nknow for sure if we're still connected,\n\n358\n00:17:05.750 --> 00:17:07.250\nif it's active, or whatever.\n\n359\n00:17:07.250 --> 00:17:11.180\nSo the easiest way to deal with that\nwould be to do that, and open it up, and\n\n360\n00:17:11.180 --> 00:17:12.820\nwe know that it is, right?\n\n361\n00:17:12.820 --> 00:17:19.136\nOr we can see it is, so\nthis is my failover test, so\n\n362\n00:17:19.136 --> 00:17:24.440\ndo that, do that,\njust make sure it's saved.\n\n363\n00:17:26.862 --> 00:17:31.590\nAll right, so we do that,\nwe can see we now have a little bit of\n\n364\n00:17:31.590 --> 00:17:34.450\ndepth to our data,\nwhere before there was nothing there.\n\n365\n00:17:34.450 --> 00:17:38.157\nIf we come back over here,\nin theory, right,\n\n366\n00:17:38.157 --> 00:17:44.468\nif that's working, You'll notice that now,\n\n367\n00:17:44.468 --> 00:17:48.767\nthat cluster storage information,\nnot here, right, where did it go?\n\n368\n00:17:48.767 --> 00:17:51.485\n&gt;&gt; Well, I'm gonna guess the other node,\nthe owner.\n\n369\n00:17:51.485 --> 00:17:55.915\n&gt;&gt; The owner, right, so let's take a look,\nthat would be a good guess.\n\n370\n00:17:55.915 --> 00:17:59.449\n&gt;&gt; From the client perspective,\nwhile you're switching over to that other\n\n371\n00:17:59.449 --> 00:18:02.925\nmachine, the client had no idea\nthat this failover even occurred.\n\n372\n00:18:02.925 --> 00:18:06.357\nHis File Explorer was open,\njust double clicked on the file,\n\n373\n00:18:06.357 --> 00:18:08.935\nand it opened up like\nthere was no difference.\n\n374\n00:18:08.935 --> 00:18:13.199\nEven though the server that it initially\nconnected to was no longer available and\n\n375\n00:18:13.199 --> 00:18:13.959\nwas offline.\n\n376\n00:18:13.959 --> 00:18:15.518\nFrom the client perspective,\nno difference.\n\n377\n00:18:15.518 --> 00:18:18.578\n&gt;&gt; No difference at all, all right,\nand you can see, I'm on [INAUDIBLE],\n\n378\n00:18:18.578 --> 00:18:19.293\ncurrent owner.\n\n379\n00:18:19.293 --> 00:18:23.826\nI'm going through the same path that we\nhad, that suddenly dematerialized, right.\n\n380\n00:18:23.826 --> 00:18:26.770\nBut you can see local disk,\ncluster storage volume one.\n\n381\n00:18:27.910 --> 00:18:31.212\nCluster and shares,\nremember we went to shares, there's logs.\n\n382\n00:18:31.212 --> 00:18:35.009\nAnd there's all the stuff that was there,\nbut there's our Adam and\n\n383\n00:18:35.009 --> 00:18:39.154\nMike are cool file, one kilobyte, and\nthis is my failover test is there.\n\n384\n00:18:39.154 --> 00:18:41.257\nThat is worth-\n&gt;&gt; Booya.\n\n385\n00:18:41.257 --> 00:18:42.336\n&gt;&gt; Yeah, you can't see it on screen,\nmissed the booya part.\n\n386\n00:18:42.336 --> 00:18:43.509\n&gt;&gt; There we go, do that again.\n\n387\n00:18:43.509 --> 00:18:45.405\n&gt;&gt; All right, there we go [LAUGH].\n\n388\n00:18:45.405 --> 00:18:48.159\n&gt;&gt; Okay, so look at that,\nright, we just failed over,\n\n389\n00:18:48.159 --> 00:18:49.950\nwe reestablished connectivity.\n\n390\n00:18:49.950 --> 00:18:53.069\nWe didn't even lose it except in a very,\nvery miniscule amount of time, so\n\n391\n00:18:53.069 --> 00:18:55.440\nminiscule we didn't even notice it,\nas Mike said.\n\n392\n00:18:55.440 --> 00:18:59.560\nWe're able to edit that file against\nthe new referenced owner, and\n\n393\n00:18:59.560 --> 00:19:00.330\nthe new location.\n\n394\n00:19:00.330 --> 00:19:03.969\nYou saw it's been moved, the reference\nto it is now running on the other host.\n\n395\n00:19:03.969 --> 00:19:06.487\nWe're able to access it from\nthe other host in real time.\n\n396\n00:19:06.487 --> 00:19:07.710\n&gt;&gt; And that's high availability,\nthat's what we're striving for, right?\n\n397\n00:19:07.710 --> 00:19:11.650\n&gt;&gt; That's high availability right there,\nthat is what that is, absolutely correct.\n\n398\n00:19:11.650 --> 00:19:15.166\nNow, if I want to start the cluster\nservice up, let's go in,\n\n399\n00:19:15.166 --> 00:19:17.209\nlet's close this up, one second.\n\n400\n00:19:17.209 --> 00:19:21.620\nJust leave that up and running,\nlet's go back over here to,\n\n401\n00:19:21.620 --> 00:19:23.616\nthere we go, there we are.\n\n402\n00:19:23.616 --> 00:19:27.116\nSo let's go back over here, we'll just\nminimize that, let's go back over here to\n\n403\n00:19:27.116 --> 00:19:30.272\nPLABDM01, or let's get back into\nour failover manager, I should say.\n\n404\n00:19:30.272 --> 00:19:35.222\nLet's go back, what happens if we start\nthe cluster service back on that role, so\n\n405\n00:19:35.222 --> 00:19:36.245\nlet's do that.\n\n406\n00:19:36.245 --> 00:19:39.310\n&gt;&gt; Bring them back,\nbring it back to life from the ashes.\n\n407\n00:19:39.310 --> 00:19:42.741\n&gt;&gt; Right, now notice before I do that,\nnotice we highlighted this,\n\n408\n00:19:42.741 --> 00:19:46.129\njust like we did with PLABSA01\nwhere we looked at the roles tab.\n\n409\n00:19:46.129 --> 00:19:47.630\nAnd we can see that currently\nthat role is running.\n\n410\n00:19:47.630 --> 00:19:50.480\nWe have established that that\nis the truth, we know that.\n\n411\n00:19:50.480 --> 00:19:54.296\nLooking at the roles tab on PLABDM01,\nwe see there's no role currently assigned,\n\n412\n00:19:54.296 --> 00:19:55.733\ncuz the service is not running.\n\n413\n00:19:55.733 --> 00:19:58.254\nSo we know that, so\nlet's start this back up.\n\n414\n00:20:02.404 --> 00:20:03.705\nStart cluster service.\n\n415\n00:20:06.414 --> 00:20:10.404\nGive that just a second, joining,\ncomes back up, joins the cluster.\n\n416\n00:20:10.404 --> 00:20:15.354\nIt's back up, it's running, but notice\nthat it does not fail back the role right\n\n417\n00:20:15.354 --> 00:20:19.257\naway, right, because remember,\nwhat did we say on fail back?\n\n418\n00:20:19.257 --> 00:20:20.393\n&gt;&gt; We said give it-\n&gt;&gt; Hey,\n\n419\n00:20:20.393 --> 00:20:22.030\nlet's give it a little breathing time.\n\n420\n00:20:22.030 --> 00:20:25.180\nLet's wait a minute, between one and\ntwo hours, I didn't do immediate,\n\n421\n00:20:25.180 --> 00:20:26.787\nwhich means I can sit here for awhile.\n\n422\n00:20:26.787 --> 00:20:30.641\nBut it's gonna take at least an hour\nbefore we would see that fail back\n\n423\n00:20:30.641 --> 00:20:31.515\nthe other way.\n\n424\n00:20:31.515 --> 00:20:35.359\nThat's that buffer we built in\nspecifically to ensure that if something\n\n425\n00:20:35.359 --> 00:20:38.644\nwas wrong with this system,\nit kind of comes up and goes away.\n\n426\n00:20:38.644 --> 00:20:41.713\nThat we don't jeopardize the stability\nof the failover cluster,\n\n427\n00:20:41.713 --> 00:20:44.342\nby jumping right back into hosting and\nowning that role,\n\n428\n00:20:44.342 --> 00:20:47.102\nwhen we're just passing through,\nessentially, right.\n\n429\n00:20:47.102 --> 00:20:48.625\n&gt;&gt; [LAUGH]\n&gt;&gt; We're not gonna be there for\n\n430\n00:20:48.625 --> 00:20:51.391\nany length of time, so\nthat is important for us to remember.\n\n431\n00:20:51.391 --> 00:20:56.840\nSo you've seen how we actually\nare able to do the complete cycle now.\n\n432\n00:20:56.840 --> 00:21:00.382\nIt's taken us, what,\nfive episodes to set this up and\n\n433\n00:21:00.382 --> 00:21:03.932\ntalk about it,\nreally put all of this in perspective.\n\n434\n00:21:03.932 --> 00:21:06.570\nHopefully this makes a lot of sense\nto you, but we're not quite done yet.\n\n435\n00:21:06.570 --> 00:21:08.426\nOne more thing we gotta talk about, right,\n\n436\n00:21:08.426 --> 00:21:11.486\nwe've talked about what happens when\nwe fail over the cluster node, and\n\n437\n00:21:11.486 --> 00:21:14.965\nwe can re-establish service almost\nimmediately through the failover process.\n\n438\n00:21:14.965 --> 00:21:18.343\nThat's all good, but what if something\nhappens to where we have to restore\n\n439\n00:21:18.343 --> 00:21:20.177\nthe failover plus your configuration?\n\n440\n00:21:20.177 --> 00:21:23.810\nSo in other words, not a node dying,\nbut we gotta rebuild the cluster, or\n\n441\n00:21:23.810 --> 00:21:25.170\nat least add nodes back in.\n\n442\n00:21:25.170 --> 00:21:28.160\nOr something's happened where we gotta\ndeal with the restoration of that,\n\n443\n00:21:28.160 --> 00:21:29.790\nnot just a failover of that, right?\n\n444\n00:21:29.790 --> 00:21:32.240\nA little bit different, so\nwe've got two options for\n\n445\n00:21:32.240 --> 00:21:35.190\nrestoring the cluster\nconfiguration itself.\n\n446\n00:21:35.190 --> 00:21:37.642\nAnd these should sound strikingly and\n\n447\n00:21:37.642 --> 00:21:40.635\nhopefully pretty obviously\nfamiliar to you.\n\n448\n00:21:40.635 --> 00:21:45.625\nIf you're familiar with Active\nDirectory Directory Services, so ADDS,\n\n449\n00:21:45.625 --> 00:21:46.662\nor [INAUDIBLE].\n\n450\n00:21:46.662 --> 00:21:50.222\n[LAUGH] Tongue-tied, Active Directory\nDomain Services, if you're familiar\n\n451\n00:21:50.222 --> 00:21:53.472\nwith ADDS, then you're familiar\nwith our restoration options there.\n\n452\n00:21:53.472 --> 00:21:56.445\nWe have two options we talk about,\nright, using ntdsutil,\n\n453\n00:21:56.445 --> 00:21:59.435\nwe could do an authoritative or\nnonauthoritative restore.\n\n454\n00:21:59.435 --> 00:22:03.941\nAnd we actually use the same exact verbage\nand descriptors here, nonauthoritative\n\n455\n00:22:03.941 --> 00:22:08.840\nrestore and authoritative restore, around\nreestablishing the cluster configuration.\n\n456\n00:22:08.840 --> 00:22:11.380\nSo it's very similar,\nif you think about the logic of it,\n\n457\n00:22:11.380 --> 00:22:15.950\nif we had to guess about what\na nonauthoritative restore for\n\n458\n00:22:15.950 --> 00:22:19.130\nthe cluster configuration was,\nor what it accomplishes.\n\n459\n00:22:19.130 --> 00:22:21.200\nJust like in the Active Directory,\n\n460\n00:22:21.200 --> 00:22:24.445\nwhere we join a domain controller back,\nessentially.\n\n461\n00:22:24.445 --> 00:22:28.855\nAnd we back-fill from the existing\nreference point based on replications and\n\n462\n00:22:28.855 --> 00:22:33.240\nupdate sequence numbers, and\njust the change variables that we measure.\n\n463\n00:22:33.240 --> 00:22:36.690\nWe come to a certain point and say,\nokay, here's all the stuff you need.\n\n464\n00:22:36.690 --> 00:22:39.624\nAnd we kinda dump it in there and\nbring it up to date,\n\n465\n00:22:39.624 --> 00:22:42.372\nthat's a nonauthoritative\nrestore in the AD.\n\n466\n00:22:42.372 --> 00:22:45.330\nNon-authoratative restore here,\nessentially the same thing.\n\n467\n00:22:45.330 --> 00:22:50.290\nWe rejoin the host node that has failed\nto the cluster, and upon joining,\n\n468\n00:22:50.290 --> 00:22:55.310\nit re-establishes and essentially syncs\nthrough backfill that configuration,\n\n469\n00:22:55.310 --> 00:22:57.416\nand gets up to date with\nwhatever's going on, right?\n\n470\n00:22:57.416 --> 00:23:00.923\nSo that's non-authoratative restore,\nwe would use the system recovery, or\n\n471\n00:23:00.923 --> 00:23:02.242\nsystem stated information.\n\n472\n00:23:02.242 --> 00:23:06.117\nTo recover that node, join the cluster,\nget the cluster to config automatically,\n\n473\n00:23:06.117 --> 00:23:09.960\nbackfill within several minutes of\njoining, depending on some variables.\n\n474\n00:23:09.960 --> 00:23:13.956\nAuthoritative restore, think about\nthe logic of what we know from AD,\n\n475\n00:23:13.956 --> 00:23:15.365\nsame idea here, right?\n\n476\n00:23:15.365 --> 00:23:17.148\nIn the authoritative restore,\n\n477\n00:23:17.148 --> 00:23:21.000\nwe have to roll back that cluster\nconfiguration to a prior time.\n\n478\n00:23:21.000 --> 00:23:23.990\nWith an authoritative restore in AD,\nwe're going and saying,\n\n479\n00:23:23.990 --> 00:23:28.160\nwhat I hold is accurate,\nwhat you know is not.\n\n480\n00:23:28.160 --> 00:23:32.417\nI'm gonna make you take what I have,\nand make that the new normal,\n\n481\n00:23:32.417 --> 00:23:36.006\nas opposed to you telling me\nwhat I should know, right?\n\n482\n00:23:36.006 --> 00:23:38.989\nIf you just think about very simple\nterms for an explanation of that, so\n\n483\n00:23:38.989 --> 00:23:40.800\nwe don't backfill, in other words.\n\n484\n00:23:40.800 --> 00:23:43.880\nWe push changes out as\nopposed to pulling them in\n\n485\n00:23:43.880 --> 00:23:47.230\nwhen we do an authoritative restore, a\nlittle bit more formal terms there, right?\n\n486\n00:23:47.230 --> 00:23:51.970\nSo when we're doing authoritative restore,\nsame idea here for the cluster config.\n\n487\n00:23:51.970 --> 00:23:52.780\nWe're gonna go ahead,\n\n488\n00:23:52.780 --> 00:23:55.780\nand we're gonna wanna go back\nto some sort of previous time.\n\n489\n00:23:55.780 --> 00:23:58.876\nWhen we do this, we stop\nthe cluster resources on the nodes.\n\n490\n00:23:58.876 --> 00:24:02.293\nYou saw how I did that,\nright-click and you'll stop them.\n\n491\n00:24:02.293 --> 00:24:06.940\nWe perform the system recovery on whatever\nnode has to be targeted for that.\n\n492\n00:24:06.940 --> 00:24:10.292\nWe do a command line restore from\nthe Windows server backup, so\n\n493\n00:24:10.292 --> 00:24:12.260\nwe'll use that more often than not.\n\n494\n00:24:12.260 --> 00:24:17.093\nAfter we do that We then bring those\nnodes back up that were stopped.\n\n495\n00:24:17.093 --> 00:24:18.669\nSo we pause everything,\n\n496\n00:24:18.669 --> 00:24:23.557\nreestablish and restore the authoritative\nconfiguration on a single node.\n\n497\n00:24:23.557 --> 00:24:27.049\nBring the cluster back up and\nthat node then populates and\n\n498\n00:24:27.049 --> 00:24:29.472\npushes out as opposed to us pulling in.\n\n499\n00:24:29.472 --> 00:24:32.727\nAll right, so just make sure we're\nfamiliar with the difference there between\n\n500\n00:24:32.727 --> 00:24:34.874\nthe two because it will be important for\nyou to know.\n\n501\n00:24:34.874 --> 00:24:39.100\nAnd it could be a point of contention\nat some point, potentially on the exam.\n\n502\n00:24:39.100 --> 00:24:41.980\nYou never know when that may come up,\nyou never know.\n\n503\n00:24:41.980 --> 00:24:44.980\nOne other thing I just wanted\nto make reference to quickly.\n\n504\n00:24:44.980 --> 00:24:50.320\nI did talk about a couple of episodes ago,\nthis idea of multi-site failover clusters.\n\n505\n00:24:50.320 --> 00:24:53.464\nThat we could have geographically\ndispersed clusters,\n\n506\n00:24:53.464 --> 00:24:57.598\nphysically in different locations,\nlogically part of the same cluster.\n\n507\n00:24:57.598 --> 00:25:01.290\nFor a multi-site failover cluster,\nwe have different requirements.\n\n508\n00:25:01.290 --> 00:25:03.495\nWe have to have enough nodes and\nvotes on each site, so\n\n509\n00:25:03.495 --> 00:25:05.753\nthat the cluster can be online\neven if a site goes down.\n\n510\n00:25:05.753 --> 00:25:09.850\nSo we gotta really think about planning\nand architecture a little bit differently.\n\n511\n00:25:09.850 --> 00:25:13.369\nBecause we have to essentially have a mini\nquorum available in each site in order to\n\n512\n00:25:13.369 --> 00:25:15.515\nbe able to establish and\nmaintain connectivity.\n\n513\n00:25:15.515 --> 00:25:18.906\nBecause the things like split brain that\nwe were talking about that can occur.\n\n514\n00:25:18.906 --> 00:25:22.020\nEach [INAUDIBLE] have the same operating\nsystem and service packed versions.\n\n515\n00:25:22.020 --> 00:25:25.340\nWe talked about the standard baseline for\neverything being the same, regardless.\n\n516\n00:25:25.340 --> 00:25:29.410\nThat's really not a difference per se,\nso just be aware of that.\n\n517\n00:25:29.410 --> 00:25:33.753\nBut there are some requirements around low\nlatency connectivity that you do wanna be\n\n518\n00:25:33.753 --> 00:25:34.310\naware of.\n\n519\n00:25:34.310 --> 00:25:38.220\nRemember, I referenced this also,\nI said it's sometimes called a geocluster.\n\n520\n00:25:38.220 --> 00:25:41.090\nBecause we're talking about the fact\nthat we're geographically spreading\n\n521\n00:25:41.090 --> 00:25:42.830\nthese clusters out physically.\n\n522\n00:25:42.830 --> 00:25:44.765\nJust to give you a sense of this,\n\n523\n00:25:44.765 --> 00:25:49.648\nlet's say hypothetically that we have one\nset of these cluster nodes physically\n\n524\n00:25:49.648 --> 00:25:53.413\nlocated in our data center in Ireland or\nsomewhere in Europe.\n\n525\n00:25:53.413 --> 00:25:58.335\nAnd another set in North America somewhere\nand a third set, perhaps in Asia.\n\n526\n00:25:58.335 --> 00:26:02.265\nAnd those three sets together,\nlogically, are joined to make a cluster.\n\n527\n00:26:02.265 --> 00:26:06.742\nBut physically, in some cases, they're\nsitting thousands of miles apart from each\n\n528\n00:26:06.742 --> 00:26:09.115\nother across high-speed dedicated fiber.\n\n529\n00:26:09.115 --> 00:26:13.830\nOr whatever those connections will be\nas we cross those various distances.\n\n530\n00:26:13.830 --> 00:26:16.610\nSo we have to have low-latency and\nreliable network connectivity.\n\n531\n00:26:16.610 --> 00:26:18.640\nSpecifically, we need to make sure,\n\n532\n00:26:18.640 --> 00:26:22.330\nbecause of the cluster heartbeats,\nto ensure the clusters are online.\n\n533\n00:26:22.330 --> 00:26:24.184\nWe heartbeat on port 3343, by the way.\n\n534\n00:26:24.184 --> 00:26:27.556\nI don't know if I ever mentioned that,\nbut we do heartbeats on port 3343,\n\n535\n00:26:27.556 --> 00:26:30.383\nwhich is part of the configuration and\nthe setup in the firewall.\n\n536\n00:26:30.383 --> 00:26:33.040\nThose rules are established and\nallow for that.\n\n537\n00:26:33.040 --> 00:26:37.710\nRegardless though,\nwe need to know that we do essentially\n\n538\n00:26:37.710 --> 00:26:42.720\nlook at subnet delay or latency delay\nacross the subnet based on heartbeating.\n\n539\n00:26:42.720 --> 00:26:45.830\nSo we have to be aware of the fact\nthat we have a range for this value.\n\n540\n00:26:45.830 --> 00:26:47.928\nIt's called the subnet threshold value.\n\n541\n00:26:47.928 --> 00:26:51.663\nAnd that range is anywhere from three\nthrough ten heartbeats that we can\n\n542\n00:26:51.663 --> 00:26:55.584\nessentially monitor, look at, or\nperhaps miss because the latency, and\n\n543\n00:26:55.584 --> 00:26:58.600\nstill consider ourselves\nto be well-connected.\n\n544\n00:26:58.600 --> 00:27:01.980\nSo do be aware of that.\n\n545\n00:27:01.980 --> 00:27:03.450\nI'm just looking at my note here.\n\n546\n00:27:03.450 --> 00:27:05.940\nDid the calculation in my mind,\ncuz it's in milliseconds.\n\n547\n00:27:05.940 --> 00:27:09.000\nSo once every 250 to 2,000 milliseconds,\n\n548\n00:27:09.000 --> 00:27:12.620\nroughly, is the break point for\na latency of heartbeats.\n\n549\n00:27:12.620 --> 00:27:14.270\nYou have to do a little\nbit of a math calculation.\n\n550\n00:27:14.270 --> 00:27:19.910\nBut you're talking about probably anywhere\nfrom three to ten heartbeats means you\n\n551\n00:27:19.910 --> 00:27:23.610\nmay be talking about a value there that is\n[CROSSTALK], yeah, two to three seconds.\n\n552\n00:27:23.610 --> 00:27:26.359\nSomething like that with regards to\nthe missing heartbeats in the range,\n\n553\n00:27:26.359 --> 00:27:28.369\nwhich is actually significant\nif you think about it.\n\n554\n00:27:28.369 --> 00:27:32.339\n&gt;&gt; That becomes a real challenge trying to\nset up a geographically dispersed cluster\n\n555\n00:27:32.339 --> 00:27:34.654\nlike this because that's\nnot a lot of latency.\n\n556\n00:27:34.654 --> 00:27:36.420\nAnd you're talking about,\nas you were saying,\n\n557\n00:27:36.420 --> 00:27:39.101\nit could be thousands of miles between\nthere, so it becomes a challenge.\n\n558\n00:27:39.101 --> 00:27:40.895\nIt is something that\nyou have to adjust for\n\n559\n00:27:40.895 --> 00:27:44.228\nbecause you're not gonna get the same\nresponse time you would if all the nodes\n\n560\n00:27:44.228 --> 00:27:46.530\nin the cluster were\nsitting on the same LAN.\n\n561\n00:27:46.530 --> 00:27:47.520\n&gt;&gt; Exactly, and\n\n562\n00:27:47.520 --> 00:27:50.700\nstorage also has to be managed that way\nbecause remember, you have the failover\n\n563\n00:27:50.700 --> 00:27:54.100\ncluster is really just the connectivity\non the network and the management.\n\n564\n00:27:54.100 --> 00:27:56.400\nYou've seen us work with storage aspects.\n\n565\n00:27:56.400 --> 00:27:59.890\nBut that storage is probably\nnot sitting local to every\n\n566\n00:27:59.890 --> 00:28:01.350\nset of cluster nodes either.\n\n567\n00:28:01.350 --> 00:28:05.235\nNow, there's the whole overlay of how\nwe manage the storage fabric to ensure\n\n568\n00:28:05.235 --> 00:28:06.387\nlatency is overcome.\n\n569\n00:28:06.387 --> 00:28:09.351\nAnd whatever the storage vendor\nrecommends becomes more complex,\n\n570\n00:28:09.351 --> 00:28:10.760\nin terns of part of the picture.\n\n571\n00:28:10.760 --> 00:28:12.698\nSo there's a lot of other\nthings that have to go on.\n\n572\n00:28:12.698 --> 00:28:16.277\nWe have to worry about multi-pathing\nbecause you're gonna have more than one\n\n573\n00:28:16.277 --> 00:28:18.620\nset of paths to get to and\nfrom those environments.\n\n574\n00:28:18.620 --> 00:28:20.887\nSo there's a lot of additional\nstuff that has to happen, but\n\n575\n00:28:20.887 --> 00:28:23.420\njust wanted to throw that in there\njust as a quick note for you.\n\n576\n00:28:23.420 --> 00:28:27.150\nJust, you heard me talk about it, and\nat least just a little background on it,\n\n577\n00:28:27.150 --> 00:28:29.000\njust to give you a sense\nof what we can support.\n\n578\n00:28:29.000 --> 00:28:33.470\nLooking ahead into Server 16, we even\ntighten those features up even more, and\n\n579\n00:28:33.470 --> 00:28:37.040\nprovide additional support on\nthe multi-site side for configuration.\n\n580\n00:28:37.040 --> 00:28:39.670\nSo it's an emerging and\nevolving thought process, but\n\n581\n00:28:39.670 --> 00:28:43.460\nbecomes better over time and give us\nmore flexibility, so it is kinda cool.\n\n582\n00:28:43.460 --> 00:28:45.290\n&gt;&gt; Fantastic, all right, Adam.\n\n583\n00:28:45.290 --> 00:28:49.280\nGreat look there at failover\nclustering from beginning to end.\n\n584\n00:28:49.280 --> 00:28:51.060\nI think we covered like five episodes, but\n\n585\n00:28:51.060 --> 00:28:54.930\nwe saw just about every aspect you could\nwanna see with failover clustering.\n\n586\n00:28:54.930 --> 00:28:56.954\nWhich is great for us because,\nhey, we gotta take that exam.\n\n587\n00:28:56.954 --> 00:28:59.990\nAnd we got a out there in the real world\nand actually work with these clusters.\n\n588\n00:28:59.990 --> 00:29:02.720\nSo we thank you for\nthat excellent demonstration.\n\n589\n00:29:02.720 --> 00:29:04.140\nAnd I knew it was gonna work.\n\n590\n00:29:04.140 --> 00:29:07.100\nI was giving him a hard time,\nbut we knew in the end-\n\n591\n00:29:07.100 --> 00:29:07.950\n&gt;&gt; They called by the way, and\n\n592\n00:29:07.950 --> 00:29:09.310\nsaid you lost the bet in the pool.\n\n593\n00:29:09.310 --> 00:29:09.953\nJust thought I'd tell you that.\n\n594\n00:29:09.953 --> 00:29:11.671\n&gt;&gt; [LAUGH] You weren't\nsupposed to hear that.\n\n595\n00:29:11.671 --> 00:29:15.650\n[LAUGH] All right, well anyway,\nout of time for this one.\n\n596\n00:29:15.650 --> 00:29:16.650\nHope you guys enjoyed it.\n\n597\n00:29:16.650 --> 00:29:18.359\nSigning off for ITProTV.\n\n598\n00:29:18.359 --> 00:29:19.720\nI've been your host, Mike Roderick.\n\n599\n00:29:19.720 --> 00:29:21.510\n&gt;&gt; I am victorious, cuz it worked!\n\n600\n00:29:21.510 --> 00:29:23.290\nAll right, I'm Adam Gordon.\n\n601\n00:29:23.290 --> 00:29:23.800\nPleasure!\n\n602\n00:29:23.800 --> 00:29:24.800\nThank you so much.\n\n603\n00:29:24.800 --> 00:29:25.410\nSee you guys soon.\n\n604\n00:29:25.410 --> 00:29:26.165\n&gt;&gt; We'll see you soon.\n\n605\n00:29:26.165 --> 00:29:28.077\n[LAUGH]\n\n606\n00:29:28.077 --> 00:29:33.904\n[MUSIC]\n\n607\n00:29:33.904 --> 00:29:36.689\nThank you for watching ITProTV.\n\n",
          "vimeoId": "239460861"
        },
        {
          "description": "Adam and Mike discuss the differences between Host and Guest Clustering. In addition, they begin the configuration of the failover cluster, discussing how to add storage to the cluster, how to add the virtual machine role to the cluster, and how to ensure virtual machines are available for the cluster by using the move virtual machine wizard to relocate virtual machine storage to the cluster shared volume.",
          "length": "1919",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-11-1-1-manage-failover-clustering-roles-PGM.00_31_46_22.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-11-1-1-manage-failover-clustering-roles-PGM.00_31_46_22.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-11-1-1-manage-failover-clustering-roles-PGM.00_31_46_22.Still001-sm.jpg",
          "title": "Manage Failover Clustering Role",
          "transcript": "",
          "vimeoId": "240719345"
        },
        {
          "description": "Adam and Mike finish the configuration of the failover cluster, discussing how to failover a running VM between nodes in the cluster using the drain on shutdown feature.",
          "length": "2328",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-11-1-2-manage-failover-clustering-roles_pt_2-103017-PGM.00_40_54_15.Still002.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-11-1-2-manage-failover-clustering-roles_pt_2-103017-PGM.00_40_54_15.Still002-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-11-1-2-manage-failover-clustering-roles_pt_2-103017-PGM.00_40_54_15.Still002-sm.jpg",
          "title": "Manage Failover Clustering Role Part 2",
          "transcript": "",
          "vimeoId": "240718037"
        }
      ],
      "title": "Configure Failover Clustering"
    },
    {
      "episodes": [
        {
          "description": "Adam and Mike discuss the differences between Virtual Machine Migration Options, and then begin the configuration of a Live Migration solution on a Hyper-V host.",
          "length": "2168",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-1-manage_vm_movement-103017-PGM.00_35_56_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-1-manage_vm_movement-103017-PGM.00_35_56_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-1-manage_vm_movement-103017-PGM.00_35_56_25.Still001-sm.jpg",
          "title": "Manage VM Movement",
          "transcript": "",
          "vimeoId": "240720127"
        },
        {
          "description": "Adam and Mike continue the configuration of the shared iSCSI storage to support the movement of Virtual Machines.",
          "length": "2078",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-2-manage-vm-movement-pt2-PGM.00_34_26_18.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-2-manage-vm-movement-pt2-PGM.00_34_26_18.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-2-manage-vm-movement-pt2-PGM.00_34_26_18.Still001-sm.jpg",
          "title": "Manage VM Movement Part 2",
          "transcript": "",
          "vimeoId": "240875462"
        },
        {
          "description": "Adam and Mike finish up demonstrating how to move a VM by using the move-vmstorage powershell cmdlet. In addition, they discuss the use of Windows Offloaded Data Transfer (ODX).",
          "length": "1504",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-3-implement_bc_and_dr_pt3-090817-PGM.00_13_27_26.Still001-sm.jpg",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-3-implement_bc_and_dr_pt3-090817-PGM.00_13_27_26.Still001-sm-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-3-implement_bc_and_dr_pt3-090817-PGM.00_13_27_26.Still001-sm-sm.jpg",
          "title": "Manage VM Movement Part 3",
          "transcript": "",
          "vimeoId": "240874564"
        }
      ],
      "title": "Configure and Manage High Availability"
    },
    {
      "episodes": [
        {
          "description": "In this show, Cherokee and Adam discuss the importance of business continuity and disaster recovery. They cover key aspects to consider while planning and demonstrate how to install the backup feature and perform a backup. They also explain options such as what to backup in addition to performing a restoration.",
          "length": "2052",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-1-implement_bc_and_dr-090817-PGM.00_33_55_25.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-1-implement_bc_and_dr-090817-PGM.00_33_55_25.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-1-implement_bc_and_dr-090817-PGM.00_33_55_25.Still001-sm.jpg",
          "title": "Implement BC and DR",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:06.949\nWelcome to ITPROTV,\nI'm your host, Don [CROSSTALK]\n\n2\n00:00:06.949 --> 00:00:08.245\n[MUSIC]\n\n3\n00:00:08.245 --> 00:00:10.892\n&gt;&gt; You're watching ITPROTV.\n\n4\n00:00:12.000 --> 00:00:16.720\nWelcome back to your Windows Server\n2012 R2 70-412 series,\n\n5\n00:00:16.720 --> 00:00:18.670\nI'm your show host Cherokee Boose.\n\n6\n00:00:18.670 --> 00:00:23.332\nIn this episode, we'll be talking about\nimplementing BC and DR, and yes, Adam and\n\n7\n00:00:23.332 --> 00:00:25.301\nI went back and forth on this topic,\n\n8\n00:00:25.301 --> 00:00:28.914\nbecause we really couldn't come\nup with the best label here, but\n\n9\n00:00:28.914 --> 00:00:32.551\nmaybe we can explain a little bit\nwhat that means and I'm hoping.\n\n10\n00:00:32.551 --> 00:00:33.082\n&gt;&gt; We?\n\n11\n00:00:33.082 --> 00:00:34.026\nNo, no, no.\n&gt;&gt; [LAUGH]\n\n12\n00:00:34.026 --> 00:00:34.982\n&gt;&gt; Not we, you.\n\n13\n00:00:34.982 --> 00:00:35.791\n&gt;&gt; You're gonna leave that out to me?\n\n14\n00:00:35.791 --> 00:00:38.032\nYou decided we would do BC.\n\n15\n00:00:38.032 --> 00:00:40.389\n&gt;&gt; Separated out, okay,\nthat's fair enough.\n\n16\n00:00:40.389 --> 00:00:44.110\n&gt;&gt; And you get to define those terms for\nour lovely studio audience.\n\n17\n00:00:44.110 --> 00:00:48.895\n&gt;&gt; So BC being business continuity,\nmaintaining the production or\n\n18\n00:00:48.895 --> 00:00:53.857\nwhatever it is that your organization\nneeds to function properly.\n\n19\n00:00:53.857 --> 00:00:58.110\nAnd then, looking at it from\nanother perspective, excuse me,\n\n20\n00:00:58.110 --> 00:01:00.491\nif I can talk, disaster recovery.\n\n21\n00:01:00.491 --> 00:01:04.847\nSo i think, the majority of topics that\nwe will be discussing in this episode,\n\n22\n00:01:04.847 --> 00:01:09.137\nwhat, will be looking at thing like\nbacking up and precautions that we need to\n\n23\n00:01:09.137 --> 00:01:13.757\ntake to maintain both business continuity\nand then what'll do in case of an event,\n\n24\n00:01:13.757 --> 00:01:16.870\nnatural disaster, or\nany kind of catastrophic event.\n\n25\n00:01:16.870 --> 00:01:17.920\n&gt;&gt; Hurricane?\n\n26\n00:01:17.920 --> 00:01:18.860\n&gt;&gt; Hurricane.\n\n27\n00:01:18.860 --> 00:01:19.930\n&gt;&gt; Just saying.\n\n28\n00:01:19.930 --> 00:01:21.187\nRandomly, just maybe a hurricane.\n\n29\n00:01:21.187 --> 00:01:24.567\n&gt;&gt; Actually, right before this episode,\nwe had to take a momentary pause,\n\n30\n00:01:24.567 --> 00:01:28.170\nbecause Nate, I don't know if you\nguys know Nate, but he's awesome.\n\n31\n00:01:28.170 --> 00:01:31.650\nHe was on the roof,\nsweeping out in clearing the drains so\n\n32\n00:01:31.650 --> 00:01:33.480\nthat we didn't have any stagnant water and\n\n33\n00:01:33.480 --> 00:01:37.580\npools of water as the impending\nhurricane Irma is headed our way.\n\n34\n00:01:37.580 --> 00:01:40.600\nSo these are all things that you\nreally should be thinking about, and\n\n35\n00:01:40.600 --> 00:01:44.800\nin certain situations like hey, we're in\nFlorida hurricanes we have the software,\n\n36\n00:01:44.800 --> 00:01:48.320\nthe ability to go ahead and track them so\nwe get a bit of a heads up so\n\n37\n00:01:48.320 --> 00:01:49.360\nwe can plan accordingly.\n\n38\n00:01:49.360 --> 00:01:52.290\nSo, that's what we're going to be talking\nabout things that we can do with the.\n\n39\n00:01:52.290 --> 00:01:53.390\n&gt;&gt; Hurricane tracking.\n\n40\n00:01:53.390 --> 00:01:54.631\nWe're not gonna hurricane\ntrack unless they\n\n41\n00:01:54.631 --> 00:01:56.031\n&gt;&gt; You'll have to switch all the demos if\n\n42\n00:01:56.031 --> 00:01:57.330\nwe're gonna do hurricane track\n&gt;&gt; [LAUGH].\n\n43\n00:01:57.330 --> 00:01:59.190\n&gt;&gt; Because it's enough to do back ups but\n&gt;&gt; But I do have it on my screen and\n\n44\n00:01:59.190 --> 00:01:59.865\nI could help if we need to.\n\n45\n00:01:59.865 --> 00:02:02.350\n&gt;&gt; You could we could do it on yours but\n&gt;&gt; [LAUGH].\n\n46\n00:02:02.350 --> 00:02:05.376\n&gt;&gt; Maybe we should talk about BC,\nDR very important that were gonna do that.\n\n47\n00:02:05.376 --> 00:02:09.137\nBut let's talk about it from the\nperspective that Cherokee was suggesting\n\n48\n00:02:09.137 --> 00:02:10.567\nof, what we do to back up, so\n\n49\n00:02:10.567 --> 00:02:14.460\nbackup information we're going to show\nyou how to do and use Windows backup.\n\n50\n00:02:14.460 --> 00:02:19.880\nOr use Windows backup to create a backup\nfrom a BC and a DR perspective.\n\n51\n00:02:19.880 --> 00:02:23.400\nI'm just going to call it BC DR by the way\nthat's the general, acceptable term and\n\n52\n00:02:23.400 --> 00:02:26.890\nacronym we often hear and\nsee used in our industry today.\n\n53\n00:02:26.890 --> 00:02:30.820\nMicrosoft, in it's infinite wisdom, called\nit Implement Business Continuity and\n\n54\n00:02:30.820 --> 00:02:33.160\nDisaster Recovery on the exam objective.\n\n55\n00:02:33.160 --> 00:02:35.036\nSo we couldn't fit all that in\nthat nice little white box,\n\n56\n00:02:35.036 --> 00:02:37.145\nyou see that pops up on the screen.\n\n57\n00:02:37.145 --> 00:02:39.695\nWe did truncate that a bit, but\nyou hopefully get the idea.\n\n58\n00:02:39.695 --> 00:02:41.245\nYou know what we're talking about.\n\n59\n00:02:41.245 --> 00:02:43.695\nWe're talking about how we back-up and\nhow we restore.\n\n60\n00:02:43.695 --> 00:02:45.765\nBecause that's really\nwhat we're going to do.\n\n61\n00:02:45.765 --> 00:02:49.775\nServer 12 12 R2, we'll be thinking\nabout backing up and restoring.\n\n62\n00:02:49.775 --> 00:02:51.625\nThink about using Windows\nbackup primarily.\n\n63\n00:02:51.625 --> 00:02:54.395\nNot exclusively,\nbecause I'm sure many of you may use third\n\n64\n00:02:54.395 --> 00:02:57.710\nparty products whether it's Art Serve,\nBackup Exec.\n\n65\n00:02:57.710 --> 00:02:58.520\nMicrosoft's own DPM,\n\n66\n00:02:58.520 --> 00:03:03.450\nSystem Center Data Protection Manager\nproduct, there's all sorts of products\n\n67\n00:03:03.450 --> 00:03:07.120\nout there from all sorts of vendors\non the market with regards to backup.\n\n68\n00:03:07.120 --> 00:03:08.957\nAnd all of them are good,\nnot playing favorites,\n\n69\n00:03:08.957 --> 00:03:10.502\nnot saying one's better then the other.\n\n70\n00:03:10.502 --> 00:03:12.312\nWe really are,\nbecause Microsoft stuff is better, but\n\n71\n00:03:12.312 --> 00:03:13.520\nwe're not supposed to say that.\n\n72\n00:03:13.520 --> 00:03:16.068\nBut you know, it doesn't really\nmatter which parts you use,\n\n73\n00:03:16.068 --> 00:03:19.209\nwhat's most important, right,\nis that you have ultimately the ability.\n\n74\n00:03:19.209 --> 00:03:21.792\nNot only backup, but\nto ensure the integrity and\n\n75\n00:03:21.792 --> 00:03:25.635\nthe validity of the backup,\nalong with the confidentiality in theory,\n\n76\n00:03:25.635 --> 00:03:29.730\nwe need to worry about that and ensure\nthat that backup, or those back-ups,\n\n77\n00:03:29.730 --> 00:03:33.530\nif there's more than one,\nare stored securely or stored safely.\n\n78\n00:03:33.530 --> 00:03:35.800\nCherokee was mentioning this whole\nissue we're having with weather,\n\n79\n00:03:35.800 --> 00:03:39.150\nand more broadly,\njust thinking about anywhere in the world,\n\n80\n00:03:39.150 --> 00:03:41.960\nanybody who may have an issue for\nany reason.\n\n81\n00:03:41.960 --> 00:03:45.270\nWe want to think about that logic\nof storing our information,\n\n82\n00:03:45.270 --> 00:03:49.111\nboth securely on site,\nwhere we use it in our data centers, but\n\n83\n00:03:49.111 --> 00:03:53.340\nmake the appropriate arrangements right,\nor\n\n84\n00:03:53.340 --> 00:03:57.770\nto do the things we need to do through\nBC DR planning, to ensure that if that\n\n85\n00:03:57.770 --> 00:04:01.860\ninformation needs to be recovered, as you\nwere suggesting, it's available offsite.\n\n86\n00:04:01.860 --> 00:04:06.080\nBut not just offsite, offsite\ngeographically far enough away from us\n\n87\n00:04:06.080 --> 00:04:08.980\nthat, in theory,\nthe backup information will survive and\n\n88\n00:04:08.980 --> 00:04:13.300\nthrive, even though the original site\nthat the information was used that\n\n89\n00:04:13.300 --> 00:04:16.150\nmay have been damaged, or\nhopefully, not beyond repair,\n\n90\n00:04:16.150 --> 00:04:19.780\nbut may have been inconvenienced, or\nperhaps taken offline during the event.\n\n91\n00:04:19.780 --> 00:04:22.280\nAnd as a result of that, we can fail over.\n\n92\n00:04:22.280 --> 00:04:24.200\nWe talked about different scenarios.\n\n93\n00:04:24.200 --> 00:04:29.351\nWe have had discussions in our episodes\nprior to this on fail over clustering,\n\n94\n00:04:29.351 --> 00:04:34.593\non the use of Hyper-V, to the use of\nvirtualization technologies to achieve.\n\n95\n00:04:34.593 --> 00:04:38.951\nAll those kind of recoverability options,\nwe talked about network load balancing and\n\n96\n00:04:38.951 --> 00:04:42.352\nthe use of NLB technology to offset and\nto create the opportunity for\n\n97\n00:04:42.352 --> 00:04:46.350\nus to survive failures and to figure out\nhow to deal with these technologies, so\n\n98\n00:04:46.350 --> 00:04:50.330\nwe have talked In prior episodes about\ntechnologies to help us to do this.\n\n99\n00:04:50.330 --> 00:04:54.350\nBut really, here, we're rounding out\nthose conversations using the built in\n\n100\n00:04:54.350 --> 00:04:56.860\ncapabilities of the operating system,\nitself.\n\n101\n00:04:56.860 --> 00:05:00.110\nSo we'll show you how to stand up,\nconfigure, install, and\n\n102\n00:05:00.110 --> 00:05:02.080\nuse the Windows backup solution.\n\n103\n00:05:02.080 --> 00:05:03.520\nIt is a per server solution.\n\n104\n00:05:03.520 --> 00:05:07.270\nThe idea being we install that feature,\nit is a feature.\n\n105\n00:05:07.270 --> 00:05:10.476\nAnd when we install it,\nwe can use it on a local machine.\n\n106\n00:05:10.476 --> 00:05:14.236\nBut we can't reach out through Windows\nback up and back up remotely on a bunch\n\n107\n00:05:14.236 --> 00:05:18.195\nof other machines, it's a per machine\ninstall, per machine configuration.\n\n108\n00:05:18.195 --> 00:05:21.289\nBut we do have solutions for that as well,\nwe'll take a look at the usual\n\n109\n00:05:21.289 --> 00:05:24.360\nback up service when there is\na usual back up on the usual fabric.\n\n110\n00:05:24.360 --> 00:05:26.610\nI've actually got a Azure\ninstance stood up.\n\n111\n00:05:26.610 --> 00:05:28.250\nWe'll take a peek under the hood in there.\n\n112\n00:05:28.250 --> 00:05:32.090\nShow you how we do a backup of\na running VM on the Azure cloud, so\n\n113\n00:05:32.090 --> 00:05:33.340\nthat we have a sense of that.\n\n114\n00:05:33.340 --> 00:05:35.290\nIt is one of the exam objectives and\n\n115\n00:05:35.290 --> 00:05:37.290\nyou will need to make sure\nyou're familiar with that.\n\n116\n00:05:37.290 --> 00:05:40.030\nSo we'll take a look at all that,\nI'll also talk about a command line tool.\n\n117\n00:05:40.030 --> 00:05:41.190\nAn oldie but a goodie.\n\n118\n00:05:41.190 --> 00:05:44.760\nAnother one we pull out of the vault from\ntime to time, something called VSS admin.\n\n119\n00:05:44.760 --> 00:05:47.170\nYou may or may not even be\naware of the fact that exists.\n\n120\n00:05:47.170 --> 00:05:50.390\nMay or may not, be aware of the fact\nthat it is a tool that's been there for\n\n121\n00:05:50.390 --> 00:05:51.430\nsome time.\n\n122\n00:05:51.430 --> 00:05:53.110\nBut the volume shadow copy service,\n\n123\n00:05:53.110 --> 00:05:56.840\nyou've heard me mention it in other\nepisodes before, the VSS service.\n\n124\n00:05:56.840 --> 00:06:01.070\nIt's been around for a long, long time,\nunderlies our backup solutions in not just\n\n125\n00:06:01.070 --> 00:06:05.600\nMicrosoft but as I pointed out in earlier\nepisodes, every vendor pretty much that\n\n126\n00:06:05.600 --> 00:06:10.930\ndoes backups today in one form or another\nuses a volume shadow snapshot service.\n\n127\n00:06:10.930 --> 00:06:15.560\nTo be able to do the backups, and so we\nhave an admin interface that we can use,\n\n128\n00:06:15.560 --> 00:06:19.630\na console command line show rather\nthat we can use to be able to do this.\n\n129\n00:06:19.630 --> 00:06:21.580\nOr the GUI using Windows Backup.\n\n130\n00:06:21.580 --> 00:06:23.164\nSo we're gonna take a look at all that and\ngo through it.\n\n131\n00:06:23.164 --> 00:06:26.452\nAnd then, Cherokee was signaling me,\nshe wanted to ask a question or\n\n132\n00:06:26.452 --> 00:06:28.620\nsay something and\nI'm just gonna get ready.\n\n133\n00:06:28.620 --> 00:06:30.330\nWe're go into our demo\nenvironment in a minute, but\n\n134\n00:06:30.330 --> 00:06:34.450\nI also wanted to talk a bit about\ntheory as well as some of the logical\n\n135\n00:06:34.450 --> 00:06:36.840\nbuilding blocks we use along\nthe way before we get there.\n\n136\n00:06:36.840 --> 00:06:39.840\nSo let's let Cherokee have her say\nreal quick and then we'll keep going.\n\n137\n00:06:39.840 --> 00:06:43.317\n&gt;&gt; So Adam, I often introduce\nyou as Microsoft expert, but\n\n138\n00:06:43.317 --> 00:06:47.592\nI know that your realm of expertise\nis not confined by that Microsoft,\n\n139\n00:06:47.592 --> 00:06:50.101\nthat you know-\n&gt;&gt; I know nothing about Microsoft.\n\n140\n00:06:50.101 --> 00:06:51.250\n&gt;&gt; [LAUGH]\n&gt;&gt; But you also-\n\n141\n00:06:51.250 --> 00:06:52.920\n&gt;&gt; I'm actually here to talk about how\n\n142\n00:06:52.920 --> 00:06:57.200\nto make something totally different happen\nthat has nothing to do with Microsoft.\n\n143\n00:06:57.200 --> 00:06:59.070\n&gt;&gt; But security, that's what?\n\n144\n00:06:59.070 --> 00:07:01.330\nWould it be fair to say\nlike a passion of yours or\n\n145\n00:07:01.330 --> 00:07:03.520\ndefinitely an area of expertise as well.\n\n146\n00:07:03.520 --> 00:07:07.500\nSo, I'm sure as we are looking through\nthese steps you'll also be able to kind of\n\n147\n00:07:07.500 --> 00:07:09.379\nhelp us, and point out any kind of\n\n148\n00:07:10.440 --> 00:07:14.050\nsituations that we may need to\nbe aware from a security aspect.\n\n149\n00:07:14.050 --> 00:07:17.260\nBecause you know, and we were just\ntalking about this before the show also.\n\n150\n00:07:17.260 --> 00:07:22.139\nSometimes during any kind of event,\ndisaster,\n\n151\n00:07:22.139 --> 00:07:25.490\nor any kind of incident,\npeople tend to be a little\n\n152\n00:07:25.490 --> 00:07:29.600\nmore lax when that's really a time that\nyou should maintain security as well.\n\n153\n00:07:29.600 --> 00:07:33.210\nWe were talking about people you know,\nonline posting if they were evacuating and\n\n154\n00:07:33.210 --> 00:07:33.870\nthings like that.\n\n155\n00:07:33.870 --> 00:07:35.820\nBut when we're talking even about backups,\n\n156\n00:07:35.820 --> 00:07:38.090\nyou also want to keep things\nlike security in mind.\n\n157\n00:07:38.090 --> 00:07:41.710\nWhere you're storing them,\nwho's handling them, and things like that.\n\n158\n00:07:41.710 --> 00:07:43.360\n&gt;&gt; You do definitely, no doubt about it.\n\n159\n00:07:43.360 --> 00:07:47.069\nAnd it is important and excuse me for\ntalking away from you and looking down for\n\n160\n00:07:47.069 --> 00:07:47.593\na moment.\n\n161\n00:07:47.593 --> 00:07:50.250\nI'm just checking our Azure dashboard\nto make sure that it's still active and\n\n162\n00:07:50.250 --> 00:07:51.385\nwe can use it when we get in there.\n\n163\n00:07:51.385 --> 00:07:53.641\nDidn't want it to time out while\nwe were waiting to get to it.\n\n164\n00:07:53.641 --> 00:07:56.571\nSo, Always important to make\nsure that stuff stays fresh for\n\n165\n00:07:56.571 --> 00:07:58.070\nyou while we're doing stuff.\n\n166\n00:07:58.070 --> 00:08:01.072\nSecurity's a very important part\nof what I do professionally for\n\n167\n00:08:01.072 --> 00:08:02.870\nme to talk about it certainly.\n\n168\n00:08:02.870 --> 00:08:06.210\nIt's an important part of what all of\nus as IT professionals should be doing,\n\n169\n00:08:06.210 --> 00:08:07.940\nthinking about all the time.\n\n170\n00:08:07.940 --> 00:08:12.680\nIt plays a very crucial supporting\nrole in the broader thought processes\n\n171\n00:08:12.680 --> 00:08:16.550\naround BCBR as Cherokee is\ninviting us to think about and\n\n172\n00:08:16.550 --> 00:08:20.770\nfocusing us rightly on the thought\nprocess around, can't really be good.\n\n173\n00:08:20.770 --> 00:08:23.800\nI often talk to customers and\ntalk to students, and have talked to you,\n\n174\n00:08:23.800 --> 00:08:26.910\nif you've seen the shows and\nepisodes we've done around security.\n\n175\n00:08:26.910 --> 00:08:31.150\nI talk about the fact that you really\ncan't be good at doing IT security, or\n\n176\n00:08:31.150 --> 00:08:34.592\nany kind of security work, today if\nyou don't understand the logic of and\n\n177\n00:08:34.592 --> 00:08:39.550\nthe interrelationships between change\ncontrol, change management, and\n\n178\n00:08:39.550 --> 00:08:41.110\nrisk control or risk management.\n\n179\n00:08:41.110 --> 00:08:44.130\nAnd the opportunity to control and\nconfine and\n\n180\n00:08:44.130 --> 00:08:49.060\nmitigate the negative impact of risk\nby understanding how to manage change.\n\n181\n00:08:49.060 --> 00:08:52.060\nIt's the secret to the success in\nmany of the areas we talk about.\n\n182\n00:08:52.060 --> 00:08:55.780\nUnderstanding how to build good\ndocumentation and be methodical and\n\n183\n00:08:55.780 --> 00:08:58.240\nbe thoughtful about the things we do.\n\n184\n00:08:58.240 --> 00:09:01.330\nSo we not only take our time and get\nthem right the first time, but as you've\n\n185\n00:09:01.330 --> 00:09:04.860\noften heard me say, we plan to be\nsuccessful as opposed to planning to fail.\n\n186\n00:09:04.860 --> 00:09:09.050\nBut we plan for at least the best of\nour ability, not the inevitable, but\n\n187\n00:09:09.050 --> 00:09:09.590\nthe unknown.\n\n188\n00:09:09.590 --> 00:09:11.880\nAnd what we mean by that\nis we try to anticipate,\n\n189\n00:09:11.880 --> 00:09:15.180\nas you were suggesting Cherokee,\nthings that may or may not go well and\n\n190\n00:09:15.180 --> 00:09:16.988\nwe at least have a thought\nprocess around that.\n\n191\n00:09:16.988 --> 00:09:19.910\nWe're not gonna have a plan, we're not\ngoing to necessarily gonna know that,\n\n192\n00:09:19.910 --> 00:09:23.120\nthat back up may or may not be good,\nthat machine may or may not run.\n\n193\n00:09:23.120 --> 00:09:24.850\nBut we wanna try to anticipate that,\n\n194\n00:09:24.850 --> 00:09:28.410\nthat's why we'll create a backup of\na machine at a certain point in time and\n\n195\n00:09:28.410 --> 00:09:32.340\nuse that from an archive perspective\nto restore if necessary.\n\n196\n00:09:32.340 --> 00:09:35.299\nIt's why, which we'll talk about here\nin a minute, we schedule backups and\n\n197\n00:09:35.299 --> 00:09:36.670\nwe try to automate them so\n\n198\n00:09:36.670 --> 00:09:40.100\nthey'll take place whether or not we're\nthere to click the button as opposed to\n\n199\n00:09:40.100 --> 00:09:42.600\nassuming that somebody's going\nto show up and be available.\n\n200\n00:09:42.600 --> 00:09:43.410\nMaybe they'll forget.\n\n201\n00:09:43.410 --> 00:09:44.670\nMaybe they're not able to get to work.\n\n202\n00:09:44.670 --> 00:09:45.900\nWho knows what'll happen.\n\n203\n00:09:45.900 --> 00:09:49.307\nBut we know that a computer, unless\nsomething goes horribly, horribly wrong,\n\n204\n00:09:49.307 --> 00:09:51.174\nis gonna just be there\nwaiting to do its job.\n\n205\n00:09:51.174 --> 00:09:54.177\nAnd if we schedule the backup,\nas I'm gonna show you how to do,\n\n206\n00:09:54.177 --> 00:09:55.550\nthen we know it'll happen.\n\n207\n00:09:55.550 --> 00:09:58.400\nAt least pretty reasonable\ngood chance it will.\n\n208\n00:09:58.400 --> 00:10:01.750\nAnd it's very unlikely that we have to\nworry about it not happening unless\n\n209\n00:10:01.750 --> 00:10:03.340\nthere's a catastrophic failure.\n\n210\n00:10:03.340 --> 00:10:07.200\nAnd we can then check after the fact,\nlook in a log file, log in remotely and\n\n211\n00:10:07.200 --> 00:10:08.720\nsee the backup did run.\n\n212\n00:10:08.720 --> 00:10:12.700\nOr we take the burden, the onus of\nperforming away from the human and\n\n213\n00:10:12.700 --> 00:10:16.589\nmake that something that can just be\na repetitive asset a computer system\n\n214\n00:10:16.589 --> 00:10:17.510\nexecute and do.\n\n215\n00:10:17.510 --> 00:10:18.732\nSo it's all these kinds of things,\n\n216\n00:10:18.732 --> 00:10:21.500\nthese thought processes,\nhave become very very important.\n\n217\n00:10:21.500 --> 00:10:25.040\nAll right, having said that, let's talk\nabout some of the value adds that Windows\n\n218\n00:10:25.040 --> 00:10:27.530\nbackup provides and\nsome of the capabilities it gives us.\n\n219\n00:10:27.530 --> 00:10:29.500\nSo let's take a look if you will,\njoin me here.\n\n220\n00:10:30.690 --> 00:10:34.810\nIn this particular virtual machine\nwe are using, our PLABDC01 machine,\n\n221\n00:10:34.810 --> 00:10:39.640\nstandard domain controller, you've seen me\ndemo with a machine like this throughout\n\n222\n00:10:39.640 --> 00:10:44.610\nmost of our hands-on discussions in\nmany of the episodes in this particular\n\n223\n00:10:44.610 --> 00:10:48.130\nset of areas, things, shows,\nwhatever we call them.\n\n224\n00:10:48.130 --> 00:10:50.354\nRight, the things we do when we stand\nin front of a camera, those things.\n\n225\n00:10:50.354 --> 00:10:51.385\nYou've seen me go through, right?\n\n226\n00:10:51.385 --> 00:10:52.810\n&gt;&gt; We're just hanging out.\n\n227\n00:10:52.810 --> 00:10:56.280\n&gt;&gt; Whatever we're doing, is there a\ncamera, is somebody actually filming this?\n\n228\n00:10:56.280 --> 00:10:57.617\nSo you know when we do all of this, right,\n\n229\n00:10:57.617 --> 00:10:59.160\nyou've seen me use\na machine like this before.\n\n230\n00:10:59.160 --> 00:11:01.560\nThe only difference now,\nin case you're wondering, hey,\n\n231\n00:11:01.560 --> 00:11:03.540\nwhy does it look unusual\ncompared to what we do?\n\n232\n00:11:03.540 --> 00:11:05.350\nNormally you're seeing normally.\n\n233\n00:11:05.350 --> 00:11:08.770\nI happen to be running this as\na virtual machine in Hyper-V on\n\n234\n00:11:08.770 --> 00:11:09.830\ntop of another machine.\n\n235\n00:11:09.830 --> 00:11:13.300\nSo you may see the Hyper-V console back\nthere, kinda catch a glimpse of that.\n\n236\n00:11:13.300 --> 00:11:15.500\nPerhaps wonder why we're\ndoing it that way.\n\n237\n00:11:15.500 --> 00:11:17.780\nSo we just have it set up this way,\njust cuz it's, for\n\n238\n00:11:17.780 --> 00:11:19.916\nthis particular discussion and\ndemonstration,\n\n239\n00:11:19.916 --> 00:11:22.893\na little bit more convenient than\nsome of the other ways we do things.\n\n240\n00:11:22.893 --> 00:11:23.940\nSo we've got this set up.\n\n241\n00:11:23.940 --> 00:11:27.240\nNow, I've already installed the Windows\nbackup feature on this machine, just so\n\n242\n00:11:27.240 --> 00:11:29.260\nwe can get out of the gate quickly,\nshow you some stuff.\n\n243\n00:11:29.260 --> 00:11:33.275\nI've got another machine standing\nby which is right here and\n\n244\n00:11:33.275 --> 00:11:34.890\nwe'll go log into that in just a minute.\n\n245\n00:11:34.890 --> 00:11:38.465\nAnd we'll actually do the install\nof the Windows backup feature so\n\n246\n00:11:38.465 --> 00:11:40.070\nyou''l see how to install it.\n\n247\n00:11:40.070 --> 00:11:43.518\nSo haven't forgot about doing that, we\nalways try to make sure we show you how to\n\n248\n00:11:43.518 --> 00:11:45.898\nset it up, how to configure it,\nbut also how to use it.\n\n249\n00:11:45.898 --> 00:11:48.930\nWe're just gonna start with how to use it,\njust so we can talk about this one point I\n\n250\n00:11:48.930 --> 00:11:51.870\nwas mentioning, which is scheduling\nbackups, and showing you how to do that.\n\n251\n00:11:51.870 --> 00:11:52.920\nAnd then we'll backtrack,\n\n252\n00:11:52.920 --> 00:11:55.390\nwe'll show you how to configure it,\ncuz this one's real straightforward.\n\n253\n00:11:55.390 --> 00:11:56.510\nIt's a feature, it's real quick,\n\n254\n00:11:56.510 --> 00:11:59.370\nit's pretty easy,\nnot a lot of mystery associated with it.\n\n255\n00:11:59.370 --> 00:12:02.270\nSo, once we have the feature set up,\nwe go into Server Manager,\n\n256\n00:12:02.270 --> 00:12:05.819\nwe load the Windows server backup feature\nwhich is usually down at the bottom of\n\n257\n00:12:05.819 --> 00:12:07.989\nthe list under PowerShell, alphabetically.\n\n258\n00:12:07.989 --> 00:12:10.610\nSo it'll be at the bottom of your\ntool list in Server Manager.\n\n259\n00:12:10.610 --> 00:12:13.812\nYou open the console up,\nclick local backup and\n\n260\n00:12:13.812 --> 00:12:18.134\nyou'll see that when you do that,\nlet me just scroll down here,\n\n261\n00:12:18.134 --> 00:12:22.250\nyou will see that we have\na pretty straightforward console.\n\n262\n00:12:22.250 --> 00:12:24.900\nYou can see in the first time\nyou come in it will say, hey,\n\n263\n00:12:24.900 --> 00:12:26.445\nyou haven't scheduled a backup or run it.\n\n264\n00:12:26.445 --> 00:12:30.009\nI've already run or scheduled a backup to\nrun, you can see it right down here so\n\n265\n00:12:30.009 --> 00:12:33.040\nthat may look just a little bit\ndifferent than what you are used to.\n\n266\n00:12:33.040 --> 00:12:36.671\nBut you can see right here status\nlast backup has not run but\n\n267\n00:12:36.671 --> 00:12:38.980\nnext backup scheduled already.\n\n268\n00:12:38.980 --> 00:12:42.200\nYou could see it's scheduled there and\nI can view the details for it.\n\n269\n00:12:44.400 --> 00:12:49.430\nSo I could see the scheduled details and\nI could see it's scheduled to backup\n\n270\n00:12:49.430 --> 00:12:54.190\nto backup volume E and it's a system state\nbackup that I've scheduled right there.\n\n271\n00:12:54.190 --> 00:12:57.452\nSo we can see that and\njust see basic information about it.\n\n272\n00:12:57.452 --> 00:13:00.335\nI'm gonna show you how I did that right\nnow, so we've gone in and we've done that.\n\n273\n00:13:00.335 --> 00:13:02.642\nWe can just kinda move\nover just a little bit,\n\n274\n00:13:02.642 --> 00:13:05.050\nwe can see what's going on right there.\n\n275\n00:13:05.050 --> 00:13:06.490\nSo what I did, was I came in,\n\n276\n00:13:06.490 --> 00:13:10.090\nnow I can either click back up once\nfrom essentially a one-off backup.\n\n277\n00:13:10.090 --> 00:13:13.803\nThat's a manual backup, right,\nperson intensive, you gotta go in there,\n\n278\n00:13:13.803 --> 00:13:17.470\nclick the button, you gotta be there,\nanswer the questions, kick it off.\n\n279\n00:13:17.470 --> 00:13:20.230\nWe were talking about that, but\nwe may not always be around,\n\n280\n00:13:20.230 --> 00:13:23.300\nmay not always be available, so\nwe have the option to schedule that.\n\n281\n00:13:23.300 --> 00:13:25.370\nWhich is what I did to\nget this backup running.\n\n282\n00:13:25.370 --> 00:13:29.380\nAnd so backup schedule, very simple, we\nclick here, we get the little Please wait\n\n283\n00:13:29.380 --> 00:13:33.310\nwhile the server backup interface\ninitializes, we'll give that just a sec.\n\n284\n00:13:33.310 --> 00:13:35.450\nAnd we have a little wizard\nhere as you can see.\n\n285\n00:13:35.450 --> 00:13:40.490\nModify, schedule, backup settings, and/or,\ncreate a brand new one, either one.\n\n286\n00:13:42.190 --> 00:13:45.390\nSo modify the existing backup,\nbecause I have an existing one.\n\n287\n00:13:45.390 --> 00:13:47.462\nSo let's just go ahead,\nlet's do the following.\n\n288\n00:13:47.462 --> 00:13:50.614\nLet me just cancel out of here\nreal quick and let's do this.\n\n289\n00:13:50.614 --> 00:13:53.971\nLet me just run through the backup once\njust to show you what the wizard looks\n\n290\n00:13:53.971 --> 00:13:57.023\nlike and then we'll take a look at\nhow to schedule when we're done.\n\n291\n00:13:57.023 --> 00:13:59.532\nOkay, so\njust gonna do a quick one-off backup and\n\n292\n00:13:59.532 --> 00:14:03.380\nthis is the same exact thing as if it\nwas scheduled with the schedule wizard.\n\n293\n00:14:03.380 --> 00:14:05.960\nThe only difference is you're not\ngonna be asked about the time options\n\n294\n00:14:05.960 --> 00:14:07.336\nabout when you want the backup to run,\n\n295\n00:14:07.336 --> 00:14:10.490\nyou're just gonna essentially kick\nthe backup off as soon as we're done.\n\n296\n00:14:10.490 --> 00:14:12.122\nSo scheduled backup options, right,\n\n297\n00:14:12.122 --> 00:14:15.292\nchoose the option if you wanna create\na scheduled backup, we could do that.\n\n298\n00:14:15.292 --> 00:14:18.838\nOr different options, choose if you\nhave not created a schedule backup\n\n299\n00:14:18.838 --> 00:14:22.305\nat a certified a specific plan and\nyou want to go ahead and create one.\n\n300\n00:14:22.305 --> 00:14:25.102\nSo we'll just go ahead and\ndo scheduled backup options so\n\n301\n00:14:25.102 --> 00:14:28.715\nyou can see, I already have my scheduled\nback up there with system state,\n\n302\n00:14:28.715 --> 00:14:32.033\nI can run that right now if I want\nto just to show you what that is.\n\n303\n00:14:32.033 --> 00:14:34.795\nBut we're gonna go ahead and\ndo this, different option so\n\n304\n00:14:34.795 --> 00:14:37.895\nI can schedule the backup if I want to or\nrather set the backup up so\n\n305\n00:14:37.895 --> 00:14:39.643\nI could show you how to do that.\n\n306\n00:14:39.643 --> 00:14:43.920\nSo do we do a full silver backup literally\nyou know the entire server, the OS.\n\n307\n00:14:43.920 --> 00:14:46.210\nAll the files, the data whatever it is,\n\n308\n00:14:46.210 --> 00:14:49.770\nsays it's just about over nine\ngigabytes in size, really small.\n\n309\n00:14:49.770 --> 00:14:52.046\nThis is just a standard machine,\nthere's not much to it.\n\n310\n00:14:52.046 --> 00:14:53.748\nOr do I want to choose custom and\n\n311\n00:14:53.748 --> 00:14:57.820\nI want to be able to choose the files\nthat I want to back up or the volumes.\n\n312\n00:14:57.820 --> 00:15:00.090\nAnd this is where it gets interesting,\ncuz this is where we have options.\n\n313\n00:15:00.090 --> 00:15:02.740\nWe could go in, do a system state backup.\n\n314\n00:15:02.740 --> 00:15:04.980\nWe can do just certain directories.\n\n315\n00:15:04.980 --> 00:15:06.730\nWe could do just a certain file.\n\n316\n00:15:06.730 --> 00:15:08.820\nWe have a lot of different\noptions with Windows Backup and\n\n317\n00:15:08.820 --> 00:15:09.846\nthat's what we wanna take a look at.\n\n318\n00:15:11.360 --> 00:15:13.820\nSo, we have to add items here,\nto get them to come up.\n\n319\n00:15:13.820 --> 00:15:15.210\nSo, let's just click Add Items.\n\n320\n00:15:15.210 --> 00:15:18.760\nAnd you'll see, we can do a bare metal\nrecovery, this is one of the options.\n\n321\n00:15:18.760 --> 00:15:21.005\nThis allows us to get all\nthe critical volumes,\n\n322\n00:15:21.005 --> 00:15:24.700\nall the critical information\nnecessary to restore functionality\n\n323\n00:15:24.700 --> 00:15:28.220\nonto another machine,\nessentially recreating this machine.\n\n324\n00:15:28.220 --> 00:15:31.025\nWe'd have to have another machine\neither virtual machine or\n\n325\n00:15:31.025 --> 00:15:33.600\nactual physical hardware,\nwhatever it may be.\n\n326\n00:15:33.600 --> 00:15:36.685\nWe could do that without having to\nfirst install the operating system,\n\n327\n00:15:36.685 --> 00:15:40.860\ncuz literally we're taking the operating\nsystem along with all the data and\n\n328\n00:15:40.860 --> 00:15:42.056\nwe're taking a copy of that.\n\n329\n00:15:42.056 --> 00:15:43.218\n&gt;&gt; Like an as is picture.\n\n330\n00:15:43.218 --> 00:15:44.156\n&gt;&gt; Like an image.\n\n331\n00:15:44.156 --> 00:15:46.143\n&gt;&gt; Yeah.\n&gt;&gt; Like if you do Windows deployment\n\n332\n00:15:46.143 --> 00:15:49.497\nservices or ghost or\nwhatever you may be used to for imaging.\n\n333\n00:15:49.497 --> 00:15:53.493\nIf you had an image and you were gonna\nthrow that image to deploy it, that's\n\n334\n00:15:53.493 --> 00:15:57.567\nessentially what a bare metal recovery\nwould give us the opportunity to do.\n\n335\n00:15:57.567 --> 00:16:01.071\nExcept the image we're taking is of this\nmachine, right, whatever this machine is,\n\n336\n00:16:01.071 --> 00:16:03.567\nwe're getting the OS along with\nall the settings, the data.\n\n337\n00:16:03.567 --> 00:16:06.633\nAnd then,\nwe can throw back into a shell that may or\n\n338\n00:16:06.633 --> 00:16:09.100\nmay not have been the same machine.\n\n339\n00:16:09.100 --> 00:16:12.300\nLet's say this hardware melts down,\nwe lose the power supply,\n\n340\n00:16:12.300 --> 00:16:16.090\nlose the hard drive, whatever the case\nmay be, we have water damage,\n\n341\n00:16:16.090 --> 00:16:18.290\nmaybe the circuit boards are fried.\n\n342\n00:16:18.290 --> 00:16:22.520\nSo we essentially rebuild the guts but\nthen we have to restore the data.\n\n343\n00:16:22.520 --> 00:16:25.450\nWell that's what the bare metal\nrecovery would allow us to do.\n\n344\n00:16:25.450 --> 00:16:29.390\nThis bare metal restore would allow\nus to be able to reproduce that,\n\n345\n00:16:29.390 --> 00:16:31.760\nwithout having to recreate\neverything from scratch.\n\n346\n00:16:31.760 --> 00:16:35.040\nThat's gonna be important,\nwe need to have the media,\n\n347\n00:16:35.040 --> 00:16:39.490\nthe DVD or USB key with\nWindows Server 12 in this case, or\n\n348\n00:16:39.490 --> 00:16:44.860\n12R2, whatever, available to actually\ndrive, pull down some of the files.\n\n349\n00:16:44.860 --> 00:16:48.540\nAnd then, also the Windows recovery\nrun is called the Windows RE,\n\n350\n00:16:48.540 --> 00:16:51.220\nthat we boot into to then\nbe able to do the restore.\n\n351\n00:16:51.220 --> 00:16:52.170\nWe'll talk more about that.\n\n352\n00:16:52.170 --> 00:16:54.810\nThat's one of the options we'll\nspeak about in one of our\n\n353\n00:16:54.810 --> 00:16:56.770\nupcoming conversations\nhere around this topic.\n\n354\n00:16:56.770 --> 00:17:02.040\nSo we could choose this, see if I choose\nthat notice it automatically selects for\n\n355\n00:17:02.040 --> 00:17:04.480\nme the system state, the system reserve.\n\n356\n00:17:04.480 --> 00:17:05.680\nWe'll just take a look here and\n\n357\n00:17:05.680 --> 00:17:09.100\nsee the system reserve brings\nwith it all the stuff we need.\n\n358\n00:17:09.100 --> 00:17:12.940\nThe boot section, boot manager,\nthe system volume information.\n\n359\n00:17:12.940 --> 00:17:17.219\nSo, it tells us what is there [COUGH],\nexcuse me what is there, the boot\n\n360\n00:17:17.219 --> 00:17:22.079\npartition, all the boot information,\nthe recovery information with Win RE,\n\n361\n00:17:22.079 --> 00:17:26.090\nwhich is the recovery environment\nthat I mentioned we will need.\n\n362\n00:17:26.090 --> 00:17:31.674\nRight, so it has all of that,\nthe recovery agent, and the basic WIN.\n\n363\n00:17:31.674 --> 00:17:34.842\nI didn't point it out there,\nbut the WinRAR WIN,\n\n364\n00:17:34.842 --> 00:17:38.766\nwhich is the recovery environment\nimage that we can boot up and\n\n365\n00:17:38.766 --> 00:17:42.515\nessentially work from to\nstart the restore process.\n\n366\n00:17:42.515 --> 00:17:47.330\n.wim file is a Windows image file format,\nso we can actually use that.\n\n367\n00:17:47.330 --> 00:17:51.960\nSo that's there, and then we also\nget as you can see the C drive.\n\n368\n00:17:51.960 --> 00:17:54.570\nAnd notice we get all of\nthe contents of the C drive.\n\n369\n00:17:54.570 --> 00:17:59.310\nSo we're backing up and\ngrabbing all of the information\n\n370\n00:17:59.310 --> 00:18:03.650\nrequired to reconstitute this machine at\nthis moment in time, should we need to do,\n\n371\n00:18:03.650 --> 00:18:08.460\nif we do that system, or\nthe bare metal recovery option, right?\n\n372\n00:18:08.460 --> 00:18:10.310\nSo that pre-selects everything.\n\n373\n00:18:10.310 --> 00:18:15.285\nIf I uncheck just to deselect for\na minute, I could just do a system state,\n\n374\n00:18:15.285 --> 00:18:18.850\nright?The system state will\ngive me just basic information.\n\n375\n00:18:18.850 --> 00:18:22.266\nIf it's the domain controller,\nit will capture the NTDS information,\n\n376\n00:18:22.266 --> 00:18:25.490\nI don't need to restore the active\ndirectory if I need to.\n\n377\n00:18:25.490 --> 00:18:29.471\nSystem reserve you saw it gets me\nthe boot, the recovery, the boot manager,\n\n378\n00:18:29.471 --> 00:18:33.620\nthat's the special information\nthat's there to restore the system.\n\n379\n00:18:33.620 --> 00:18:37.454\nSo if I do a bare metal recovery,\nlet's just do that, it grabs everything.\n\n380\n00:18:37.454 --> 00:18:38.079\nSo click OK.\n\n381\n00:18:38.079 --> 00:18:40.334\nIt's got it all listed there.\n\n382\n00:18:40.334 --> 00:18:42.740\nWhere are we gonna put it?\n\n383\n00:18:42.740 --> 00:18:44.706\nAre gonna back up for\nstorage to a local drive?\n\n384\n00:18:44.706 --> 00:18:48.939\nSome sort of remote share, we can do this\nover the network if we choose to, or\n\n385\n00:18:48.939 --> 00:18:52.909\nlocal to one of the machine drives I\nhave an E drive mounted here I can back\n\n386\n00:18:52.909 --> 00:18:54.560\nup to if I want to.\n\n387\n00:18:54.560 --> 00:18:57.600\nSo we click next, backup volume E,\n\n388\n00:18:57.600 --> 00:19:01.800\nnotice there I have you know 117\ngigs of space, plenty of room.\n\n389\n00:19:01.800 --> 00:19:05.104\nIt says to prevent possible loss of\nbackups you cannot use the location\n\n390\n00:19:05.104 --> 00:19:08.408\nspecified to store a backup with\ndifferent settings than the settings\n\n391\n00:19:08.408 --> 00:19:09.590\nyou already scheduled.\n\n392\n00:19:09.590 --> 00:19:13.137\nRemember I have a scheduled backup so I\nwon't be able to dump it in there because\n\n393\n00:19:13.137 --> 00:19:15.360\nI'm already using that for something.\n\n394\n00:19:15.360 --> 00:19:20.210\nBut I can go in certainly and put it\nthere, or I can back it up, let's just go\n\n395\n00:19:20.210 --> 00:19:23.590\nin, under normal circumstances I\nshould say, I can go in and do that.\n\n396\n00:19:23.590 --> 00:19:25.870\nSo I just wanted you to\nsee how we could run this,\n\n397\n00:19:25.870 --> 00:19:27.720\nwhere we put it is not such a big deal.\n\n398\n00:19:27.720 --> 00:19:29.870\nIt takes a fair amount\nof time to run that.\n\n399\n00:19:29.870 --> 00:19:30.838\nSo even if I did back it up,\n\n400\n00:19:30.838 --> 00:19:33.220\nwe would have to justlet it\nrun in the background anyway.\n\n401\n00:19:33.220 --> 00:19:37.040\nSo I'm not too concerned about hitting\nnext and then actually backing up.\n\n402\n00:19:37.040 --> 00:19:40.410\nCuz all we have left is\na confirmation window and it will run.\n\n403\n00:19:40.410 --> 00:19:41.820\nBut let's do the following.\n\n404\n00:19:41.820 --> 00:19:42.640\nLet's go in here.\n\n405\n00:19:44.210 --> 00:19:45.010\nLet's go in.\n\n406\n00:19:45.010 --> 00:19:50.110\nLet's go to our backup schedule and\nlet's stop the backup.\n\n407\n00:19:50.110 --> 00:19:54.660\nPermanently stop that backup so\nthat we can actually access that E drive.\n\n408\n00:19:54.660 --> 00:19:59.190\nSo we're just gonna go ahead and get rid\nof the scheduled backup, close that,\n\n409\n00:19:59.190 --> 00:20:00.650\nso now it is gone.\n\n410\n00:20:00.650 --> 00:20:02.610\nNotice next backup no longer scheduled, so\n\n411\n00:20:02.610 --> 00:20:05.890\nif I have to remove a scheduled backup,\neasy to do.\n\n412\n00:20:05.890 --> 00:20:09.730\nThen if I wanna go ahead and\nI wanna run this one more time,\n\n413\n00:20:09.730 --> 00:20:12.858\njust like we were talking about,\nnew Custom.\n\n414\n00:20:14.506 --> 00:20:18.070\nAdd our items,\nwe'll just go back in here, here we go.\n\n415\n00:20:18.070 --> 00:20:20.780\nYou are bare recovery or\nbare minimum recovery, we'll click OK.\n\n416\n00:20:20.780 --> 00:20:25.120\nClick Next, now we can do a local drive,\nwe'll be able to get access to E,\n\n417\n00:20:25.120 --> 00:20:28.270\nyou see it won't give us that error.\n\n418\n00:20:28.270 --> 00:20:30.990\nIt's no big deal,\njust let that run in the background.\n\n419\n00:20:30.990 --> 00:20:34.760\nAnd so click and that's gonna get started.\n\n420\n00:20:34.760 --> 00:20:36.220\nWe'll just keep an eye on it for a minute.\n\n421\n00:20:36.220 --> 00:20:38.080\nYou can see it is kinda started.\n\n422\n00:20:38.080 --> 00:20:39.572\nIt will take a bit so\nwe're gonna let it run.\n\n423\n00:20:39.572 --> 00:20:41.860\nWe'll come back,\nwe'll take a look at it in a little bit.\n\n424\n00:20:41.860 --> 00:20:44.680\nSo what we're gonna do now is\ngo to that other machine and\n\n425\n00:20:44.680 --> 00:20:47.910\nwe're gonna install Windows backup feature\nand just show you how to stand that up and\n\n426\n00:20:47.910 --> 00:20:50.510\nmake sure that, that is something\nthat we're familiar with.\n\n427\n00:20:50.510 --> 00:20:53.400\nSo let's just come over here,\njust gonna log into this machine.\n\n428\n00:20:58.440 --> 00:21:01.280\nOkay, so, this is another machine.\n\n429\n00:21:01.280 --> 00:21:04.660\nSee, it's going to be very\nsimilar to our first one.\n\n430\n00:21:04.660 --> 00:21:08.080\nExcept it does not have Windows Backup\nservices running on it yet.\n\n431\n00:21:08.080 --> 00:21:10.207\nAnd if we go to the tools menu,\n\n432\n00:21:10.207 --> 00:21:15.310\nwe'll just come down to the bottom here,\nactually, did I?\n\n433\n00:21:15.310 --> 00:21:18.110\nI think I did install,\nI think I forgot that it is there.\n\n434\n00:21:18.110 --> 00:21:20.560\n&gt;&gt; Look at you, so\nefficient you can't even help yourself.\n\n435\n00:21:20.560 --> 00:21:23.317\n&gt;&gt; I forgot, I must have been playing\naround with it and forgot to reset it, and\n\n436\n00:21:23.317 --> 00:21:25.272\nI must have installed to\ncheck something and forgot.\n\n437\n00:21:25.272 --> 00:21:27.120\nWell, let me show you how to install this.\n\n438\n00:21:27.120 --> 00:21:29.120\nIt's no big deal,\nit's easy enough to take a look at.\n\n439\n00:21:29.120 --> 00:21:31.280\nSo let's just talk about\nhow you would do it.\n\n440\n00:21:31.280 --> 00:21:33.970\nMy mistake for not making a note and\npaying attention.\n\n441\n00:21:33.970 --> 00:21:38.040\nBut we would go in, if it was not already\ninstalled, In add roles and features.\n\n442\n00:21:38.040 --> 00:21:40.120\nSo we would come over here.\n\n443\n00:21:40.120 --> 00:21:42.724\nAnd just click next here, click next.\n\n444\n00:21:42.724 --> 00:21:45.332\nLet's go through the first\ncouple of screens we've seen.\n\n445\n00:21:45.332 --> 00:21:48.890\nRemember I've set it as a feature,\nso it's not gonna be a server role.\n\n446\n00:21:48.890 --> 00:21:50.370\nSkip over this one.\n\n447\n00:21:50.370 --> 00:21:51.260\nCome down here.\n\n448\n00:21:52.830 --> 00:21:56.169\nIt is down towards the bottom here and\nthere it is right there,\n\n449\n00:21:56.169 --> 00:21:57.530\nWindows server backup.\n\n450\n00:21:57.530 --> 00:22:01.558\nAll right, so you'll be able to select\nthat and have that specified or\n\n451\n00:22:01.558 --> 00:22:03.416\nhave that go in and do its thing.\n\n452\n00:22:03.416 --> 00:22:06.532\nYou can just see here next and\nthen confirmation.\n\n453\n00:22:06.532 --> 00:22:09.160\nIt will just walk through\nthe installation, be very straightforward.\n\n454\n00:22:09.160 --> 00:22:11.455\nAnd then once that's done,\nit would be finished up,\n\n455\n00:22:11.455 --> 00:22:14.158\nwe would then be able to access\nit as you saw, through the menu,\n\n456\n00:22:14.158 --> 00:22:17.480\nwe'll be able to use it,\njust like we're using it right now, yes?\n\n457\n00:22:17.480 --> 00:22:21.750\n&gt;&gt; And of course, we don't want to just\nreserve this only for the legitimate, or\n\n458\n00:22:21.750 --> 00:22:26.020\nthe emergent type of backup, we also want\nto be checking our backups to make sure\n\n459\n00:22:26.020 --> 00:22:30.480\nthey're valid as well, so\njust keep that in mind.\n\n460\n00:22:30.480 --> 00:22:33.850\n&gt;&gt; So you're suggesting that we have to\nmake sure we have integrity associated\n\n461\n00:22:33.850 --> 00:22:35.200\nwith-\n&gt;&gt; Good backups, exactly.\n\n462\n00:22:35.200 --> 00:22:39.290\nBecause that's definitely something that,\nI guess in my opinion it's not really\n\n463\n00:22:39.290 --> 00:22:46.510\nexcusable, because it's just kind of like\na lazy thing not to do that, so yeah.\n\n464\n00:22:46.510 --> 00:22:50.130\n&gt;&gt; Well, it is important, but the reality\nwould be in here, we'll just come back,\n\n465\n00:22:50.130 --> 00:22:53.800\ncheck the status of what we were doing so\nwe can see the back up is finished.\n\n466\n00:22:53.800 --> 00:22:57.057\nSo you can see the bare\nmetal backup thar we did for\n\n467\n00:22:57.057 --> 00:22:59.452\nrecovery purposes has completed.\n\n468\n00:22:59.452 --> 00:23:00.530\nYou can see that here.\n\n469\n00:23:00.530 --> 00:23:03.340\nLet's just close out of that, and\nyou can see it was successful.\n\n470\n00:23:03.340 --> 00:23:05.660\nSo, one of the things Cherokee\nwas mentioning was, hey,\n\n471\n00:23:05.660 --> 00:23:06.970\nwe should check and make sure.\n\n472\n00:23:06.970 --> 00:23:10.520\nNow, successful here does not mean\nthat the backup has integrity.\n\n473\n00:23:10.520 --> 00:23:12.310\nIt just means the back up completed.\n\n474\n00:23:12.310 --> 00:23:15.410\nWhat Cherokee was suggesting was, hey,\ndon't necessarily know that just because\n\n475\n00:23:15.410 --> 00:23:17.250\nthe back up was done\nthat the back up is good.\n\n476\n00:23:17.250 --> 00:23:19.230\n&gt;&gt; Right.\n&gt;&gt; And there is a difference, right?\n\n477\n00:23:19.230 --> 00:23:24.247\nAnd so, what we would have to do is we\nwould have to actually run a sample\n\n478\n00:23:24.247 --> 00:23:29.776\nrestore, in order to ensure that the\nbackup is actually, let me get back to my\n\n479\n00:23:29.776 --> 00:23:35.500\nmachine here, that the backup is actually\ngot integrity and is valid, right?\n\n480\n00:23:35.500 --> 00:23:39.380\nSo we have our backup to our E drive here.\n\n481\n00:23:39.380 --> 00:23:42.150\nThat's our Windows image\nbackup right there.\n\n482\n00:23:42.150 --> 00:23:45.539\nThere's our plaid ec01,\nthat's the backup catalogue and\n\n483\n00:23:45.539 --> 00:23:48.878\nall the backup files that were\ncreated as part of the backup.\n\n484\n00:23:48.878 --> 00:23:51.954\nAnd while we're not going to run\na full bare metal restore right now,\n\n485\n00:23:51.954 --> 00:23:55.937\nbecause clearly we're not designed in this\nparticular environment, with this machine\n\n486\n00:23:55.937 --> 00:23:59.492\nalready up and running, with the backup on\nit locally, to be able to do a full And\n\n487\n00:23:59.492 --> 00:24:02.994\nthat'll restore, because if we did that,\nwe'd have to blow the machine up,\n\n488\n00:24:02.994 --> 00:24:06.040\nmove the backup files somewhere else,\nand pull them back in.\n\n489\n00:24:06.040 --> 00:24:09.800\nSo we're not gonna do that right now,\nbut we could certainly do that or\n\n490\n00:24:09.800 --> 00:24:12.740\nat least take the opportunity to\ncheck that, you're absolutely right.\n\n491\n00:24:12.740 --> 00:24:17.520\nBut what we could do is, we could backup\nsome specific files, delete them, and\n\n492\n00:24:17.520 --> 00:24:20.320\nthen restore them and\nmake sure that they actually show up.\n\n493\n00:24:20.320 --> 00:24:24.186\nSo let's do the following, cuz what\nyou're suggesting has a lot of merit, and\n\n494\n00:24:24.186 --> 00:24:24.948\na lot of value.\n\n495\n00:24:24.948 --> 00:24:31.243\nThat it is important for us to know that\nthe back up indeed does have integrity.\n\n496\n00:24:31.243 --> 00:24:36.498\nSo lets just on the desktop here,\ncreate a new folder,\n\n497\n00:24:36.498 --> 00:24:39.836\nlet's call it Backtest1 right?\n\n498\n00:24:39.836 --> 00:24:43.870\nAnd in Backtest1,\njust go into the folder real quick,\n\n499\n00:24:43.870 --> 00:24:48.040\nand scroll down so\nwe can see what we're doing.\n\n500\n00:24:48.040 --> 00:24:52.984\nLet's just create a text document and\nlet's just call\n\n501\n00:24:52.984 --> 00:24:57.935\nthat text document Backtest2,\nso we'll have that.\n\n502\n00:24:57.935 --> 00:25:01.887\nAnd just to make sure that we know that\nthat is something that we can validate\n\n503\n00:25:01.887 --> 00:25:04.041\nlet's just put,\n&gt;&gt; Something in there.\n\n504\n00:25:08.549 --> 00:25:11.160\nAre you using leap speak here?\n\n505\n00:25:11.160 --> 00:25:11.911\n&gt;&gt; No, that's for you.\n\n506\n00:25:11.911 --> 00:25:15.447\n&gt;&gt; Tiff is worried, okay.\n\n507\n00:25:15.447 --> 00:25:16.804\nWhat I'm I worried about?\n\n508\n00:25:16.804 --> 00:25:18.900\nI do worry about things, I try not to.\n\n509\n00:25:18.900 --> 00:25:20.000\n&gt;&gt; About our backup integrity.\n\n510\n00:25:20.000 --> 00:25:21.280\nThat's what you're worried about.\n\n511\n00:25:21.280 --> 00:25:22.480\n&gt;&gt; Yeah, and you know what else?\n\n512\n00:25:22.480 --> 00:25:24.700\nSpeaking of that word-\n&gt;&gt; Save that while we're just talking, so\n\n513\n00:25:24.700 --> 00:25:25.830\nlet me just save that.\n\n514\n00:25:25.830 --> 00:25:28.860\nSo my point is, we're gonna back these\nfiles up, we're gonna delete them,\n\n515\n00:25:28.860 --> 00:25:30.181\nthen we're gonna restore them.\n\n516\n00:25:30.181 --> 00:25:32.371\nAnd make sure that that\nfile shows back up and\n\n517\n00:25:32.371 --> 00:25:35.100\nwe can see that to make sure\nwe know that that was there.\n\n518\n00:25:35.100 --> 00:25:36.860\nSo just while you're talking.\n\n519\n00:25:36.860 --> 00:25:38.400\nYou go ahead,\nI'm just gonna get that set up so\n\n520\n00:25:38.400 --> 00:25:40.660\nwe can run this little demo real quick.\n\n521\n00:25:40.660 --> 00:25:43.651\n&gt;&gt; Well, just thinking of that word\nintegrity Adam, something else that we\n\n522\n00:25:43.651 --> 00:25:46.946\nmight want to consider and this is just\nfor me being worried and paranoid I guess.\n\n523\n00:25:46.946 --> 00:25:51.634\nBut, being transparent in an IT\ndepartment is often something that we\n\n524\n00:25:51.634 --> 00:25:52.990\nstrive to achieve.\n\n525\n00:25:52.990 --> 00:25:57.030\nSo, sometimes you may have some sort\nof policy where whomever performed\n\n526\n00:25:57.030 --> 00:25:59.570\nthe backups is not the same individual\n\n527\n00:25:59.570 --> 00:26:04.080\nperforming restorations just\nto maintain that transparency.\n\n528\n00:26:04.080 --> 00:26:09.220\nSo they can't say hey, Adam was covering\nsomething up that he deleted or modified\n\n529\n00:26:09.220 --> 00:26:14.660\nand he didn't want these tracks being left\nbehind, or something to that effect also.\n\n530\n00:26:14.660 --> 00:26:16.140\n&gt;&gt; Yes, yes, absolutely.\n\n531\n00:26:16.140 --> 00:26:20.810\nSo I'm just delving in here to\nthe desktop, underneath the administrator.\n\n532\n00:26:20.810 --> 00:26:22.520\nYou could see the folders so\nif we go full screen,\n\n533\n00:26:22.520 --> 00:26:24.090\nyou may be able to see\na little bit easier.\n\n534\n00:26:24.090 --> 00:26:26.110\nEverything's yellow,\nit's kinda hard to see what's there.\n\n535\n00:26:26.110 --> 00:26:28.490\nBut you could see there's\na folder called backuptest1,\n\n536\n00:26:28.490 --> 00:26:30.410\nthis is the folder I just created.\n\n537\n00:26:30.410 --> 00:26:34.010\nAnd underneath it, there is my text\ndocument, that's what we wanna back up.\n\n538\n00:26:34.010 --> 00:26:37.940\nSo we're just gonna go grab those two and\nback those up real quick, right?\n\n539\n00:26:37.940 --> 00:26:41.599\nSo I'm just gonna grab that,\ngonna grab that,\n\n540\n00:26:41.599 --> 00:26:45.813\nand as a result,\nwe're gonna be able to back those up.\n\n541\n00:26:45.813 --> 00:26:47.169\nAnd then obviously, if we delete them and\n\n542\n00:26:47.169 --> 00:26:49.020\nrestore them we should be\nable to put them back.\n\n543\n00:26:49.020 --> 00:26:52.430\nProving that the backup will\nhave the ability to restore,\n\n544\n00:26:52.430 --> 00:26:54.890\nmeaning it has integrity and\nthe backup is valid.\n\n545\n00:26:54.890 --> 00:26:58.620\nJust a quick sanity check,\nas Cherokee was suggesting.\n\n546\n00:26:58.620 --> 00:27:02.952\nLets select those we're going to grab\nthose, let's go ahead and click Next.\n\n547\n00:27:02.952 --> 00:27:04.986\nLet's specify where we\nare going to put that.\n\n548\n00:27:04.986 --> 00:27:08.753\nLets go ahead and\nput that into the E drive, just so\n\n549\n00:27:08.753 --> 00:27:11.290\nwe know where to find it there.\n\n550\n00:27:11.290 --> 00:27:12.625\nSo we will do that.\n\n551\n00:27:12.625 --> 00:27:14.064\nClick Next.\n\n552\n00:27:14.064 --> 00:27:14.780\nOkay, we are going to do that.\n\n553\n00:27:15.820 --> 00:27:17.626\nBackup, that's not gonna\ntake very long [CROSSTALK].\n\n554\n00:27:17.626 --> 00:27:20.430\n&gt;&gt; Just that one little\ntext file in the folder.\n\n555\n00:27:20.430 --> 00:27:24.930\n&gt;&gt; Yeah, so that should happen by the time\nwe blink it should just about be done.\n\n556\n00:27:24.930 --> 00:27:28.260\nSo we just have to wait for\nit to actually create the shadow copy and\n\n557\n00:27:28.260 --> 00:27:31.615\nthen just go ahead write off that\nto the drive, won't take that long.\n\n558\n00:27:31.615 --> 00:27:32.825\nSoon as that is finished,\n\n559\n00:27:32.825 --> 00:27:36.515\nwe'll be able to go delete the file that\nI'm gonna show you using the menu here.\n\n560\n00:27:36.515 --> 00:27:40.030\nAlthough it's grayed out right now how\nwe can do the actual recover by just\n\n561\n00:27:40.030 --> 00:27:41.061\ngoing into restore.\n\n562\n00:27:41.061 --> 00:27:42.902\nSo we'll do that as soon as its done.\n\n563\n00:27:42.902 --> 00:27:45.956\nSo you its preparing media,\nso its just going in and\n\n564\n00:27:45.956 --> 00:27:48.250\ngetting ready to write to the E drive.\n\n565\n00:27:48.250 --> 00:27:49.954\nIt won't take very long to do that.\n\n566\n00:27:49.954 --> 00:27:53.871\nWe can actually go in here.\n\n567\n00:27:53.871 --> 00:27:57.267\nHave to be careful not to click on the\nfolder down below cuz that's the host for\n\n568\n00:27:57.267 --> 00:27:58.375\nthe Hyper-V machines.\n\n569\n00:27:58.375 --> 00:28:00.418\nClick there and that's totally\ndifferent than what we're doing.\n\n570\n00:28:00.418 --> 00:28:06.899\nSo go ahead we'll just click in here\njust so we can see right in the E drive.\n\n571\n00:28:06.899 --> 00:28:09.519\nPut this image back up.\n\n572\n00:28:09.519 --> 00:28:13.300\nSo, yeah, we're just waiting on it\nto do its thing and set that up.\n\n573\n00:28:13.300 --> 00:28:16.080\nSo we'll just wait here and\ngive it just another minute,\n\n574\n00:28:16.080 --> 00:28:17.970\nit should not take too long.\n\n575\n00:28:17.970 --> 00:28:21.140\nAnd then once this is\nfinished we'll be able to,\n\n576\n00:28:21.140 --> 00:28:24.620\nlooks like it is compacting\nthe volume right now.\n\n577\n00:28:24.620 --> 00:28:28.020\nIt's one kilobit of data,\nso clearly not very big.\n\n578\n00:28:28.020 --> 00:28:29.350\nSee it's completed?\n\n579\n00:28:29.350 --> 00:28:30.210\nSo that's done.\n\n580\n00:28:31.768 --> 00:28:32.970\n&gt;&gt; And that didn't take very long, but\n\n581\n00:28:32.970 --> 00:28:36.110\nif we're talking about large amounts of\nvolume, that should also be something that\n\n582\n00:28:36.110 --> 00:28:40.340\nyou consider for disaster recovery,\nand whatever you're\n\n583\n00:28:40.340 --> 00:28:44.260\nRecovery Window will be of something\nthat you should try to plan out as well.\n\n584\n00:28:46.030 --> 00:28:48.291\n&gt;&gt; Well,\nit's important to just consider that,\n\n585\n00:28:48.291 --> 00:28:50.220\nso you have all the backup information.\n\n586\n00:28:50.220 --> 00:28:52.460\nSo let's go through, successful, so\n\n587\n00:28:52.460 --> 00:28:57.700\nlet's go ahead let's do FUMB before we go\nahead and recover let us do the following.\n\n588\n00:28:57.700 --> 00:29:01.550\nLet us delete the files first because\nclearly that's going to be important.\n\n589\n00:29:01.550 --> 00:29:04.820\nSo let's agree that we're\ngoing to take that folder and\n\n590\n00:29:04.820 --> 00:29:07.340\nwe are going to let's just move that over.\n\n591\n00:29:07.340 --> 00:29:10.440\nLet's just,\nthrow it in our Recycle Bin right there.\n\n592\n00:29:10.440 --> 00:29:11.140\nOkay, so it's gone.\n\n593\n00:29:11.140 --> 00:29:13.180\n&gt;&gt; Slam dunk.\n\n594\n00:29:13.180 --> 00:29:17.170\n&gt;&gt; And then let's empty the Recycle Bin,\nso we know that it is truly gone,\n\n595\n00:29:17.170 --> 00:29:19.515\nexcept the security professionals,\nwe know it's not truly gone.\n\n596\n00:29:19.515 --> 00:29:20.799\n&gt;&gt; [LAUGH]\n&gt;&gt; That's beside the point,\n\n597\n00:29:20.799 --> 00:29:23.150\nwhole different conversation for\nanother time.\n\n598\n00:29:23.150 --> 00:29:25.490\nBut for our purposes,\nit's gone enough, right?\n\n599\n00:29:25.490 --> 00:29:29.020\nSo, it's not on the desktop,\nit's no longer resident in the machine\n\n600\n00:29:29.020 --> 00:29:31.580\ndirectly in a way that\nis easily accessible.\n\n601\n00:29:31.580 --> 00:29:33.750\nSo let's go over here and\nlet's do a quick recover.\n\n602\n00:29:35.420 --> 00:29:36.094\nAnd what are we doing?\n\n603\n00:29:36.094 --> 00:29:39.407\nYou can see here, where is the backup\nstorage that you want to use for\n\n604\n00:29:39.407 --> 00:29:42.273\nrecovery is on this server,\nis it stored somewhere else?\n\n605\n00:29:42.273 --> 00:29:45.271\nIt's on this server so obviously\nwe are just gonna choose that, and\n\n606\n00:29:45.271 --> 00:29:46.710\nwe just get down here.\n\n607\n00:29:46.710 --> 00:29:49.800\nThen our oldest available backup,\nnewest available backup,\n\n608\n00:29:49.800 --> 00:29:52.140\nyou can see we have two,\nwhich one do we want to choose?\n\n609\n00:29:52.140 --> 00:29:54.866\nRemember, the first one was the bare\nmetal, this is the second one,\n\n610\n00:29:54.866 --> 00:29:56.472\nthis is the one we just did with the file.\n\n611\n00:29:56.472 --> 00:29:57.920\nSo we also want to do the second one.\n\n612\n00:29:57.920 --> 00:30:00.209\nNotice you have two options\nhere with the time menu.\n\n613\n00:30:00.209 --> 00:30:04.200\nSo we're going to choose the more\nrecent one, just so we know.\n\n614\n00:30:04.200 --> 00:30:05.450\nSo we're going to do that.\n\n615\n00:30:05.450 --> 00:30:07.820\nAnd then, we're going to click Next.\n\n616\n00:30:07.820 --> 00:30:10.010\nAnd then, what do you wanna recover?\n\n617\n00:30:10.010 --> 00:30:11.640\nFiles and folders or volumes.\n\n618\n00:30:11.640 --> 00:30:14.720\nWe only did files and folders, so\nthat's what we're gonna do for this one.\n\n619\n00:30:14.720 --> 00:30:18.010\nBut if we had the entire C drive,\nwe could literally recover\n\n620\n00:30:18.010 --> 00:30:20.945\nthe entire C drive as a volume, or\nwhatever the equivalent would be.\n\n621\n00:30:20.945 --> 00:30:22.630\nWe'll do files and folders.\n\n622\n00:30:22.630 --> 00:30:23.700\nThen we're gonna open up and\n\n623\n00:30:23.700 --> 00:30:26.640\nload the backup catalog, so\nwe can see what's there.\n\n624\n00:30:26.640 --> 00:30:31.330\nWe're going to just drill down obviously\ncuz, it does create a path for us.\n\n625\n00:30:31.330 --> 00:30:35.710\nAnd you'll see we have backuptest and\nthen backuptest2.\n\n626\n00:30:35.710 --> 00:30:39.940\nSo, we're going to be able to\nrecover that, so we want that.\n\n627\n00:30:41.610 --> 00:30:43.980\nYou want to put it to the original\nlocation or alternate location.\n\n628\n00:30:43.980 --> 00:30:44.900\nWhat are you thinking,\n\n629\n00:30:44.900 --> 00:30:48.990\nCherokee, wanna put it back where it was,\nor wanna put it somewhere different?\n\n630\n00:30:48.990 --> 00:30:52.210\n&gt;&gt; I think, from a business perspective,\nI'd like to put it back where it was.\n\n631\n00:30:52.210 --> 00:30:55.990\nSo in case if I had any mapped drives or\nanything like that,\n\n632\n00:30:55.990 --> 00:30:59.250\nthat I might wanna just maintain that\nlocation, wo they know where to search.\n\n633\n00:30:59.250 --> 00:31:02.840\n&gt;&gt; So keep the original location,\nkeep the thought process around how that\n\n634\n00:31:02.840 --> 00:31:05.230\ndata was managed in there,\nso we're not confusing.\n\n635\n00:31:05.230 --> 00:31:08.850\nGreat, okay, so, we'll put it back in\nthe original location, easy enough to see.\n\n636\n00:31:08.850 --> 00:31:11.372\nDo you want to create copies so\nwe have both versions, so\n\n637\n00:31:11.372 --> 00:31:14.433\nwhen this Wizard says finds items\nin the backup, that are already at\n\n638\n00:31:14.433 --> 00:31:18.138\nthat destination, if something was there\nas a duplicate, do you want us to create\n\n639\n00:31:18.138 --> 00:31:21.014\na copy of the new information\nwe're putting back side by side?\n\n640\n00:31:21.014 --> 00:31:24.548\nDo we wanna overwrite, so we have\nthe option to control any duplicates and\n\n641\n00:31:24.548 --> 00:31:26.270\nhow that may happen?\n\n642\n00:31:26.270 --> 00:31:29.310\nRestore access control as permissions,\nif necessary.\n\n643\n00:31:29.310 --> 00:31:31.740\nSo we could do that or not,\nagain, depending on our choices.\n\n644\n00:31:31.740 --> 00:31:32.590\nPretty detailed, right?\n\n645\n00:31:32.590 --> 00:31:34.400\nWell thought out interface here.\n\n646\n00:31:34.400 --> 00:31:35.720\nLet's click Next.\n\n647\n00:31:35.720 --> 00:31:39.297\nWe have our little task at hand there,\nlet's recover, wait for\n\n648\n00:31:39.297 --> 00:31:40.431\nthat to go through.\n\n649\n00:31:40.431 --> 00:31:41.910\nIt's initializing.\n\n650\n00:31:41.910 --> 00:31:45.130\nWe agreed there was nothing on the desktop\nbefore we did this, by the way.\n\n651\n00:31:45.130 --> 00:31:46.890\nNote it's very quick to finish up.\n\n652\n00:31:46.890 --> 00:31:48.300\nLet's click Close.\n\n653\n00:31:48.300 --> 00:31:51.770\nLooks like that was successful as well.\n\n654\n00:31:51.770 --> 00:31:52.610\nGo up here.\n\n655\n00:31:54.566 --> 00:31:55.190\nMinimize.\n\n656\n00:31:55.190 --> 00:31:56.730\nLooks like we have our folder back.\n\n657\n00:31:56.730 --> 00:31:59.964\nLet's just drag that over here so\nthat we can see whether or\n\n658\n00:31:59.964 --> 00:32:03.135\nnot indeed we got our file back,\nand it looks like we did.\n\n659\n00:32:03.135 --> 00:32:03.953\n&gt;&gt; There it is.\n\n660\n00:32:03.953 --> 00:32:05.864\n&gt;&gt; And\nlet's see what's inside of there, and\n\n661\n00:32:05.864 --> 00:32:07.625\nwe can see that indeed that was the file.\n\n662\n00:32:07.625 --> 00:32:08.380\n&gt;&gt; I'm not worried about it anymore.\n\n663\n00:32:08.380 --> 00:32:09.639\n&gt;&gt; So we were able to restore that.\n\n664\n00:32:09.639 --> 00:32:10.807\nYou shouldn't be worried about it, right?\n\n665\n00:32:10.807 --> 00:32:11.996\n&gt;&gt; [LAUGH]\n&gt;&gt; So, there you go.\n\n666\n00:32:11.996 --> 00:32:13.172\nSee, I told you things would be okay.\n\n667\n00:32:13.172 --> 00:32:14.730\nYou just have to believe.\n\n668\n00:32:14.730 --> 00:32:19.496\nSo click your shoes together three times\nand say there is no place like ITProTV.\n\n669\n00:32:19.496 --> 00:32:23.375\nSo you can see that we can do both of\nour backups, we can do our recovery,\n\n670\n00:32:23.375 --> 00:32:25.010\nor what we call a restore.\n\n671\n00:32:25.010 --> 00:32:26.740\nWe can validate the integrity\nof the backups,\n\n672\n00:32:26.740 --> 00:32:29.390\nCherokee suggested it\nis a good idea to do.\n\n673\n00:32:29.390 --> 00:32:33.220\nAnd we see how we can both schedule a\nbackup, but also do essentially a one off,\n\n674\n00:32:33.220 --> 00:32:36.980\nor on demand backup using\nWindows backup feature.\n\n675\n00:32:36.980 --> 00:32:39.535\nWe showed you quickly or talked about\nquickly how we could install and\n\n676\n00:32:39.535 --> 00:32:42.103\nset that up, just running through\nthe wizard if we wanted to do this.\n\n677\n00:32:42.103 --> 00:32:44.611\nThere's really nothing to do\nexcept say I want that feature and\n\n678\n00:32:44.611 --> 00:32:46.230\nthen it just goes ahead and just does it.\n\n679\n00:32:46.230 --> 00:32:48.627\nThere's really no dependencies or\nanything that we have to worry about.\n\n680\n00:32:48.627 --> 00:32:50.304\nSo, we've seen how to do all that.\n\n681\n00:32:50.304 --> 00:32:54.516\nWe've talked about the importance of\ndoing a bare metal recovery back-up so\n\n682\n00:32:54.516 --> 00:32:56.218\nwe can do a bare metal restore.\n\n683\n00:32:56.218 --> 00:33:00.050\nAnd we've shown you we could go ahead and\ninclude or exclude files,\n\n684\n00:33:00.050 --> 00:33:01.943\ndo individual backups of files.\n\n685\n00:33:01.943 --> 00:33:05.409\nSo we've talk about a lot of the features\nand functionality along with system\n\n686\n00:33:05.409 --> 00:33:08.290\nstake that the Windows Server Backup\nfeature provides.\n\n687\n00:33:08.290 --> 00:33:12.230\nWhen we come back and take a look which\nwe're going to do in our next discussion.\n\n688\n00:33:12.230 --> 00:33:14.448\nRemember, we still have that Azure\nbackup thing hanging out up there.\n\n689\n00:33:14.448 --> 00:33:16.260\nI'm going to tell you a little about that.\n\n690\n00:33:16.260 --> 00:33:19.445\nAnd we're going to take a look at and\ntalk a little bit more,\n\n691\n00:33:19.445 --> 00:33:23.780\nnot just about the backups, but some of\nthe technologies that underlie the VSS,\n\n692\n00:33:23.780 --> 00:33:26.035\nDivine Shadow, Snapshot Copy Service.\n\n693\n00:33:26.035 --> 00:33:29.909\nWe will talk about this idea of\nbeing able to use BC edit and\n\n694\n00:33:29.909 --> 00:33:33.236\nsome of the recovery tools and\nthings like that.\n\n695\n00:33:33.236 --> 00:33:36.370\nSo we will take a look at those and make\nsure we are comfortable with that as well.\n\n696\n00:33:36.370 --> 00:33:39.350\nBut you've got to come back and\njoin us for part two.\n\n697\n00:33:39.350 --> 00:33:42.880\n&gt;&gt; That's right, because it's very\nseldom that we ever just have a part\n\n698\n00:33:42.880 --> 00:33:45.610\none here with Adam as our\nsubject matter expert.\n\n699\n00:33:45.610 --> 00:33:46.710\nNot a bad thing though, Adam.\n\n700\n00:33:46.710 --> 00:33:50.540\nSo thank you for the detailed explanation\nand thank you for being with us as well,\n\n701\n00:33:50.540 --> 00:33:53.020\nbut for this show we are going\nto go ahead and sign out.\n\n702\n00:33:53.020 --> 00:33:54.670\nI've been your host, Cherokee Boose.\n\n703\n00:33:54.670 --> 00:33:55.500\n&gt;&gt; I'm Adam Gordon.\n\n704\n00:33:55.500 --> 00:33:58.602\n&gt;&gt; See you next time here at ITProTV.\n\n705\n00:33:58.602 --> 00:34:04.590\n[MUSIC]\n\n706\n00:34:04.590 --> 00:34:07.850\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "233504910"
        },
        {
          "description": "In this episode, Adam and Cherokee continue discussing business continuity and disaster recovery. Adam demonstrate how to leverage Azure to create, store, and restore backups. Lastly, Adam reminds us VSSAdmin.exe tool is available to manage volume shadow copy backups and all installed shadow copy writers and providers.",
          "length": "1799",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-2-implement_bc_and_dr_pt2-090817-PGM.00_33_11_02.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-2-implement_bc_and_dr_pt2-090817-PGM.00_33_11_02.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-2-implement_bc_and_dr_pt2-090817-PGM.00_33_11_02.Still001-sm.jpg",
          "title": "Implement BC and DR Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.230 --> 00:00:03.588\nWelcome to IT Pro TV,\nI'm your host, Don Pezet.\n\n2\n00:00:03.588 --> 00:00:06.929\n[CROSSTALK]\n\n3\n00:00:06.929 --> 00:00:08.281\n[MUSIC]\n\n4\n00:00:08.281 --> 00:00:10.510\nYou're watching IT Pro TV.\n\n5\n00:00:11.970 --> 00:00:17.415\n&gt;&gt; Welcome back to your Microsoft\nWindows Server 2012 R270- 412 series.\n\n6\n00:00:17.415 --> 00:00:19.920\nI'm your show host, Cherokee Boose.\n\n7\n00:00:19.920 --> 00:00:23.100\nThis is actually a part two of\ncontinuation of a previous discussion\n\n8\n00:00:23.100 --> 00:00:27.968\nwhere Adam and I were talking about\nbusiness continuity and disaster recovery.\n\n9\n00:00:27.968 --> 00:00:32.184\nWoo hoo [LAUGH] we were able to get him\nback in studios today, so thank you for\n\n10\n00:00:32.184 --> 00:00:34.740\njoining us today Adam, how's it going?\n\n11\n00:00:34.740 --> 00:00:36.280\n&gt;&gt; Good, hope it's going well for\n\n12\n00:00:36.280 --> 00:00:38.890\neverybody out there we're gonna\nmake it go even better for you.\n\n13\n00:00:38.890 --> 00:00:42.160\nCause what we're gonna do is, as Cherokee\nsaid, pick up where we left off and\n\n14\n00:00:42.160 --> 00:00:46.150\nactually show you some really cool new\nthings you can do with Windows Azure.\n\n15\n00:00:46.150 --> 00:00:49.642\nSo if there wasn't enough new things you\ncould already do with Microsoft Azure I\n\n16\n00:00:49.642 --> 00:00:52.924\nshould say, not Windows Azure,\nI'm creating a whole new product line for\n\n17\n00:00:52.924 --> 00:00:54.138\nMicrosoft out of thin air.\n\n18\n00:00:54.138 --> 00:00:57.709\nSo with Microsoft Azure, with the Azure\nplatform, we have many, many options,\n\n19\n00:00:57.709 --> 00:01:00.325\nopportunities to do all sorts\nof things in the Cloud today.\n\n20\n00:01:00.325 --> 00:01:04.293\nBut with this idea of platform as a\nservice, with infrastructure as a service,\n\n21\n00:01:04.293 --> 00:01:07.430\nwith software as a service,\nwith now backup as a service.\n\n22\n00:01:07.430 --> 00:01:11.777\nWe're gonna show you how to use the\nMicrosoft Azure platform and the backup\n\n23\n00:01:11.777 --> 00:01:16.203\ncapabilities of Azure Back or Azure Backup\nto be able to backup a running VM.\n\n24\n00:01:16.203 --> 00:01:18.676\nI keep a copy of it in\nour recovery vault and\n\n25\n00:01:18.676 --> 00:01:22.070\nwere gonna take a look at that quickly,\nbut also then back\n\n26\n00:01:22.070 --> 00:01:26.390\ntrack into our demo environment\nwhere we were in our last episode.\n\n27\n00:01:26.390 --> 00:01:28.840\nDoing our system state backup.\n\n28\n00:01:28.840 --> 00:01:30.460\nDoing our individual file back up.\n\n29\n00:01:30.460 --> 00:01:33.100\nAnd verifying the integrity, as you saw.\n\n30\n00:01:33.100 --> 00:01:35.370\nWe've, gonna have a little bit\nof a different twist on that.\n\n31\n00:01:35.370 --> 00:01:39.810\nI've done another bare-metal recovery\nbackup that I've saved over the network.\n\n32\n00:01:39.810 --> 00:01:41.060\nI've already done that.\n\n33\n00:01:41.060 --> 00:01:44.000\nAnd I am in the middle\nof restarting a machine.\n\n34\n00:01:44.000 --> 00:01:46.130\nIt'll be ready by the time\nwe're ready to go.\n\n35\n00:01:46.130 --> 00:01:49.450\nIt's of the prompt, or will be,\nso we can through a recovery and\n\n36\n00:01:49.450 --> 00:01:53.640\nuse that bare-metal recovery backup that\nwe've done to actually restore the system.\n\n37\n00:01:53.640 --> 00:01:55.652\nWe'll take a look at that and\nhow that's going to work as well.\n\n38\n00:01:55.652 --> 00:01:58.740\nSo you'll get a chance to see all that,\nwhich is kind of cool.\n\n39\n00:01:58.740 --> 00:01:59.970\nSo join me here, if you will.\n\n40\n00:01:59.970 --> 00:02:05.600\nLet's take a look at what a Windows Azure\ninstance looks like in our machine,\n\n41\n00:02:05.600 --> 00:02:08.700\nor with our Windows Azure subscription.\n\n42\n00:02:08.700 --> 00:02:10.500\nWe have a virtual machine running.\n\n43\n00:02:10.500 --> 00:02:12.850\nYou can see the information\non it right here.\n\n44\n00:02:12.850 --> 00:02:17.680\nI have created a machine called\nITPRO.TV back, very original name,\n\n45\n00:02:17.680 --> 00:02:18.870\nby the way, for that.\n\n46\n00:02:18.870 --> 00:02:19.710\nSo I have a VM running.\n\n47\n00:02:19.710 --> 00:02:21.290\nIt's a server 12 R2 instance.\n\n48\n00:02:21.290 --> 00:02:22.950\nJust set up and installed.\n\n49\n00:02:22.950 --> 00:02:24.375\nNothing special about [CROSSTALK]\n&gt;&gt; We don't have to\n\n50\n00:02:24.375 --> 00:02:25.740\nget too creative, yeah.\n\n51\n00:02:25.740 --> 00:02:26.567\n&gt;&gt; No, it was very creative.\n\n52\n00:02:26.567 --> 00:02:28.130\n&gt;&gt; [LAUGH]\n&gt;&gt; I'm just saying it just\n\n53\n00:02:28.130 --> 00:02:30.370\nhappens to be called that,\nbecause that's what we're doing.\n\n54\n00:02:30.370 --> 00:02:33.350\nBut there's nothing special about\nthe machine, I used the standard server\n\n55\n00:02:33.350 --> 00:02:36.940\n12 R2 data center template,\njust to deploy an instant.\n\n56\n00:02:36.940 --> 00:02:39.580\nSo I didn't do any special\nconfiguration of any kind.\n\n57\n00:02:39.580 --> 00:02:41.960\nYou can see the computer name there,\nthe OS.\n\n58\n00:02:41.960 --> 00:02:47.304\nIt's got a single virtual CPU,\n4 gigs memory approximately.\n\n59\n00:02:47.304 --> 00:02:49.750\nIt's got an IP address,\nif I wanna get into it.\n\n60\n00:02:49.750 --> 00:02:52.830\nAnd it's running with its own network and\nDNS and\n\n61\n00:02:52.830 --> 00:02:54.320\nall that is all set up here, right?\n\n62\n00:02:54.320 --> 00:02:58.490\nSo you can see I'm using a free trial\nsubscription on the Azure platform,\n\n63\n00:02:58.490 --> 00:03:01.100\nwhich we will encourage all of you to\ndo and I'm gonna show you how you can\n\n64\n00:03:01.100 --> 00:03:03.870\nset up your own free account\nif you would like to do this.\n\n65\n00:03:03.870 --> 00:03:04.760\nYou could play with it.\n\n66\n00:03:04.760 --> 00:03:06.290\nYou get a $200 service credit.\n\n67\n00:03:06.290 --> 00:03:08.480\nSo you can run VM's and\nplay around with them out there.\n\n68\n00:03:08.480 --> 00:03:10.640\nAnd I've just been running the VM for\na little bit.\n\n69\n00:03:10.640 --> 00:03:14.280\nIf we scroll down, we could see some\nof the usage statistics on the VM.\n\n70\n00:03:14.280 --> 00:03:15.440\nSo it's been running for a little bit.\n\n71\n00:03:15.440 --> 00:03:17.896\nJust you'll having it available for\nus, let's see, for\n\n72\n00:03:17.896 --> 00:03:19.360\nabout a better part of an hour now.\n\n73\n00:03:19.360 --> 00:03:22.880\nJust been up and running in the background\nwaiting on us to come in and take a look.\n\n74\n00:03:24.160 --> 00:03:27.580\nSo how we created the VM, just if you're\ninterested, you can come over here to\n\n75\n00:03:27.580 --> 00:03:31.180\nthe virtual machine area and simply walk\nthrough the logic of doing, and I'll be\n\n76\n00:03:31.180 --> 00:03:34.560\nhappy to show that to you in a minute,\nonce we see how the back is configured.\n\n77\n00:03:34.560 --> 00:03:37.040\nSo what I did was create a VM,\n\n78\n00:03:37.040 --> 00:03:41.520\nthen one of the options on the VM\nmenu is to back up right from here.\n\n79\n00:03:41.520 --> 00:03:43.840\nSo I can actually just kick a backup off,\nright?\n\n80\n00:03:43.840 --> 00:03:44.893\nFrom here if I want to.\n\n81\n00:03:44.893 --> 00:03:47.724\nBut in order to set this backup\nto actually have it work,\n\n82\n00:03:47.724 --> 00:03:49.240\nI have to do something first.\n\n83\n00:03:49.240 --> 00:03:50.850\nSo let's just come back over here.\n\n84\n00:03:52.410 --> 00:03:54.780\nUnder More Services, down at the bottom.\n\n85\n00:03:54.780 --> 00:03:58.460\nAnd remember, this is something that\nI'm gonna strongly recommend and\n\n86\n00:03:58.460 --> 00:04:00.750\nremind you of and\nencourage you to think about.\n\n87\n00:04:00.750 --> 00:04:04.080\nWe're demoing the current\nstate of the Azure platform.\n\n88\n00:04:04.080 --> 00:04:07.250\nYou know,\nhere in mid to late September in 2017,\n\n89\n00:04:07.250 --> 00:04:09.850\nis we're shooting this content for you.\n\n90\n00:04:09.850 --> 00:04:13.735\nYou look at this six months, a year from\nnow, and you go in and look in Azure and\n\n91\n00:04:13.735 --> 00:04:17.490\nit looks very different, which it very\nwell may, because Microsoft does update\n\n92\n00:04:17.490 --> 00:04:20.910\nand change the interfaces on\na fairly consistent basis.\n\n93\n00:04:20.910 --> 00:04:24.500\nIt may very well look different,\nnavigation may be different, things may be\n\n94\n00:04:24.500 --> 00:04:28.690\ncalled something different, there\nmaybe new features and it make change.\n\n95\n00:04:28.690 --> 00:04:30.560\nAnd so, what I'm suggesting to you is,\n\n96\n00:04:30.560 --> 00:04:34.290\ngreat to see this done,\nit's literally a snapshot.\n\n97\n00:04:34.290 --> 00:04:36.680\nPun intended, no pun there, right?\n\n98\n00:04:36.680 --> 00:04:38.378\nA snapshot, a moment in time capture,\n\n99\n00:04:38.378 --> 00:04:41.886\nyou're supposed to laugh at that you're\nnot even paying attention to my humor.\n\n100\n00:04:41.886 --> 00:04:43.560\n&gt;&gt; [LAUGH]\n&gt;&gt; You're so intent on what I'm saying,\n\n101\n00:04:43.560 --> 00:04:46.555\nyou're like he didn't even say, wait yeah\nhe did, snapshot, backup, that's funny.\n\n102\n00:04:46.555 --> 00:04:50.000\nAlright, that's what you call a joke\nbomb that goes off with a delayed fuse.\n\n103\n00:04:50.000 --> 00:04:53.760\nSo, what I'm suggesting here is that\nwhile it's really critical to show\n\n104\n00:04:53.760 --> 00:04:54.550\nyou these skills, right?\n\n105\n00:04:54.550 --> 00:04:55.940\nIt is also critical for\n\n106\n00:04:55.940 --> 00:04:59.980\nyou to understand the timeliness around\nthe information is even more important.\n\n107\n00:04:59.980 --> 00:05:03.350\nWhat I mean by that is,\nit would be a good idea for you to go\n\n108\n00:05:04.870 --> 00:05:10.050\nto the Azure website when you are ready\nto do this, whenever that may be.\n\n109\n00:05:10.050 --> 00:05:14.480\nAnd you can see it's just Microsoft.com\nAzure, it's very straightforward.\n\n110\n00:05:14.480 --> 00:05:16.120\nI happen to be in\nthe documentation area for\n\n111\n00:05:16.120 --> 00:05:19.490\nthe Windows Azure Back Up\nspecifically as a product, but\n\n112\n00:05:19.490 --> 00:05:23.750\nyou can come in under products and\nlook up Microsoft Azure Backup.\n\n113\n00:05:23.750 --> 00:05:26.340\nYou can then just click through\nthe documentation link,\n\n114\n00:05:26.340 --> 00:05:28.650\nyou can get yourself a free account,\nwhich is what I mentioned.\n\n115\n00:05:28.650 --> 00:05:30.380\nI'll show you how to sign up for that.\n\n116\n00:05:30.380 --> 00:05:36.620\nBut all I did was simply come to the\nMicrosoft website, Azure.Microsoft.com.\n\n117\n00:05:36.620 --> 00:05:41.350\nAnd on that website one of\nthe options is under Products, right?\n\n118\n00:05:41.350 --> 00:05:42.290\nAzure Backup.\n\n119\n00:05:42.290 --> 00:05:43.780\nYou can see under Storage, right?\n\n120\n00:05:43.780 --> 00:05:45.500\nWe have all the different options here.\n\n121\n00:05:45.500 --> 00:05:46.930\nBackup is down here.\n\n122\n00:05:46.930 --> 00:05:50.430\nAgain, right now at this point in time,\nit may be in a different area,\n\n123\n00:05:50.430 --> 00:05:52.320\ncalled something different\nby the time you get there.\n\n124\n00:05:52.320 --> 00:05:54.340\nBut, you have a vague\nidea what to look for.\n\n125\n00:05:54.340 --> 00:05:58.500\nSo, you could Google for Microsoft\nAzure Backup, get the latest link.\n\n126\n00:05:58.500 --> 00:05:59.180\n&gt;&gt; Step by step.\n&gt;&gt; Right,\n\n127\n00:05:59.180 --> 00:06:01.330\nto just tell you how to\nget to this website,\n\n128\n00:06:01.330 --> 00:06:04.430\nwhatever it's called,\nat the time you actually watch this.\n\n129\n00:06:04.430 --> 00:06:06.860\nAnd then,\nyou can just click the Get Started here,\n\n130\n00:06:06.860 --> 00:06:08.230\nto get yourself a free account.\n\n131\n00:06:09.350 --> 00:06:12.110\nDocumentation, the link I was\njust showing you, is right here,\n\n132\n00:06:12.110 --> 00:06:13.570\nlet's just click there.\n\n133\n00:06:13.570 --> 00:06:17.510\nAnd the reason I'm\nsuggesting you go here is,\n\n134\n00:06:17.510 --> 00:06:21.500\nyou can learn a little bit more about\nthe service, you can see videos that\n\n135\n00:06:21.500 --> 00:06:25.620\nare pre-recorded from Microsoft about\nhow to use the Azure Backup Platform.\n\n136\n00:06:25.620 --> 00:06:27.700\nYou can get started backing up files and\n\n137\n00:06:27.700 --> 00:06:32.500\nfolders, backing up virtual machines,\neven backing VM ware instances.\n\n138\n00:06:32.500 --> 00:06:36.166\nSo in the real world, if you have a need,\nobviously very important to get that,\n\n139\n00:06:36.166 --> 00:06:39.286\nfor exam preparation, because this\nis one of the exam objectives,\n\n140\n00:06:39.286 --> 00:06:41.283\nyou do need to know how\nto use Azure Backup.\n\n141\n00:06:41.283 --> 00:06:42.158\nIt would be good for\n\n142\n00:06:42.158 --> 00:06:45.827\nyou to look at the latest information at\nthe time you're studying for the exam,\n\n143\n00:06:45.827 --> 00:06:50.240\nto ensure the documentation is up to date,\nyou understand what the expectations are.\n\n144\n00:06:50.240 --> 00:06:52.853\nThere's a command line\nPowerShell reference down here,\n\n145\n00:06:52.853 --> 00:06:54.461\ngives you information about that.\n\n146\n00:06:54.461 --> 00:06:56.820\nSo all of the things you need to know.\n\n147\n00:06:56.820 --> 00:07:01.060\nOverview, getting started,\nhow to concepts, references, resources.\n\n148\n00:07:01.060 --> 00:07:02.400\nAll of it's right here.\n\n149\n00:07:02.400 --> 00:07:05.460\nJust gotta go literally, go out and\nget it it's there for the taking, right?\n\n150\n00:07:05.460 --> 00:07:07.930\nSo you get a free account,\nyou can click here.\n\n151\n00:07:09.790 --> 00:07:13.450\nHey Chow let's you create your own\naccount, you just follow the instructions.\n\n152\n00:07:13.450 --> 00:07:18.034\nStart free, at this point in time and for\na couple of years now, Microsoft has been\n\n153\n00:07:18.034 --> 00:07:21.898\ngiving out free accounts typically\nwith a $200 Service credit.\n\n154\n00:07:21.898 --> 00:07:25.075\nThis is gonna log me in because I'm\nalready logged on with my instance.\n\n155\n00:07:25.075 --> 00:07:27.025\nSo it's going to show me\nthat I'm already logged in.\n\n156\n00:07:27.025 --> 00:07:30.155\nIt's going to say, oops wait hold on,\nyou can't get you free trial because it\n\n157\n00:07:30.155 --> 00:07:33.275\nalready sees me under the other\ntrial that I'm using right now.\n\n158\n00:07:33.275 --> 00:07:36.247\nBut for you,\nyou would be able to go in and\n\n159\n00:07:36.247 --> 00:07:39.207\nsign up, get your free trial,\nyou just follow the steps.\n\n160\n00:07:39.207 --> 00:07:40.677\nWizard's very straightforward.\n\n161\n00:07:40.677 --> 00:07:43.397\nJust a reminder and\na note for you, it is free.\n\n162\n00:07:43.397 --> 00:07:44.857\nDon't wanna imply it's not.\n\n163\n00:07:44.857 --> 00:07:47.777\nBut you will have to use a credit card and\nput it on account.\n\n164\n00:07:47.777 --> 00:07:49.181\nMicrosoft will not charge you.\n\n165\n00:07:49.181 --> 00:07:51.001\nAnd at the end of your subscription,\n\n166\n00:07:51.001 --> 00:07:54.482\nthey will delete the information if\nyou don't choose to roll it over.\n\n167\n00:07:54.482 --> 00:07:58.005\nBut you do need to be able to verify\nyour account, and they use or\n\n168\n00:07:58.005 --> 00:08:00.873\nexpect credit card information For\nyou to do that.\n\n169\n00:08:00.873 --> 00:08:02.535\nBut the terms of service are very clear.\n\n170\n00:08:02.535 --> 00:08:04.720\nThey will not auto-renew the subscription.\n\n171\n00:08:04.720 --> 00:08:06.190\nThey will not bill you.\n\n172\n00:08:06.190 --> 00:08:07.420\nSo I just want you to be\ncomfortable with that.\n\n173\n00:08:07.420 --> 00:08:11.694\nYou probably heard that from other shows\nand episodes where we've used Azure,\n\n174\n00:08:11.694 --> 00:08:12.850\nand talked about it.\n\n175\n00:08:12.850 --> 00:08:16.450\nI know Don's done a bunch of shows,\nRonnie's done shows on Office 365 and\n\n176\n00:08:16.450 --> 00:08:18.930\nAzure that show you how to demo and\ndo things.\n\n177\n00:08:18.930 --> 00:08:21.226\nIf you do that account,\nyou will have to provide a credit card.\n\n178\n00:08:21.226 --> 00:08:24.107\nIf you're not comfortable doing that no\nproblem, but you will not be able to get\n\n179\n00:08:24.107 --> 00:08:26.990\na free account and play with it, if you\ndon't put that there, just so you know.\n\n180\n00:08:26.990 --> 00:08:29.560\nAnd again, that's right now.\n\n181\n00:08:29.560 --> 00:08:32.950\nThat may change by the time you watch\nthis, but that, hey, you have to have\n\n182\n00:08:32.950 --> 00:08:36.690\na credit card thing, and we'll give you\nthe free account, $200 in free service.\n\n183\n00:08:36.690 --> 00:08:39.430\nThat's been the case for\nseveral years running now.\n\n184\n00:08:39.430 --> 00:08:42.760\nSo I don't image that part's\ngonna change anytime soon.\n\n185\n00:08:42.760 --> 00:08:44.500\nSo Cherokee, what were you going to say?\n\n186\n00:08:44.500 --> 00:08:47.920\n&gt;&gt; I haven't done it specifically for\nthis account, but\n\n187\n00:08:47.920 --> 00:08:49.920\nother accounts online that\nrequire credit cards.\n\n188\n00:08:49.920 --> 00:08:51.650\nSometimes if you get\none of those prepaids,\n\n189\n00:08:51.650 --> 00:08:56.290\nif you are really concerned about\nputting your, maybe, a credit card,\n\n190\n00:08:56.290 --> 00:09:00.570\nor even something that's linked to\na debit account or a checking account,\n\n191\n00:09:00.570 --> 00:09:05.185\nsomething like that, like a debit card,\nbut you can get those prepaid cards, too.\n\n192\n00:09:05.185 --> 00:09:06.620\nYeah, I suppose, I mean that would be,\n\n193\n00:09:06.620 --> 00:09:08.760\nI would assume, just as good\nas a credit card in your name.\n\n194\n00:09:08.760 --> 00:09:10.860\nAlthough, having said that,\nin this particular one,\n\n195\n00:09:10.860 --> 00:09:13.630\nI don't know if it would work,\nactually now that I think about it.\n\n196\n00:09:13.630 --> 00:09:17.010\nThey ask you for\naddress information to verify,\n\n197\n00:09:17.010 --> 00:09:20.440\nI think they verify the actual billing\ninformation on the credit card.\n\n198\n00:09:20.440 --> 00:09:22.710\nSo as a result, I don't know if-\n&gt;&gt; Maybe not.\n\n199\n00:09:22.710 --> 00:09:24.000\n&gt;&gt; I'm not saying you couldn't.\n\n200\n00:09:24.000 --> 00:09:25.170\nI just don't know, honestly.\n\n201\n00:09:25.170 --> 00:09:26.800\n&gt;&gt; Yeah, I don't know for sure either.\n\n202\n00:09:26.800 --> 00:09:28.800\n&gt;&gt; Because as far as I know, they ask for\n\n203\n00:09:28.800 --> 00:09:32.560\nyour name, the credit card information,\nthe billing information,\n\n204\n00:09:32.560 --> 00:09:35.490\ncuz they match that and probably\nping it to verify it's legitimate.\n\n205\n00:09:35.490 --> 00:09:37.180\n&gt;&gt; Yeah.\n&gt;&gt; So I'm thinking that a prepaid may not\n\n206\n00:09:37.180 --> 00:09:37.820\nwork actually.\n\n207\n00:09:37.820 --> 00:09:38.750\n&gt;&gt; Okay.\n&gt;&gt; It's good advice.\n\n208\n00:09:38.750 --> 00:09:41.420\nI just, I honestly don't know\nif that would work or not.\n\n209\n00:09:41.420 --> 00:09:42.930\nAll right, so having said that,\njoin me back here and\n\n210\n00:09:42.930 --> 00:09:44.228\nlet's just take a look\nat what we're doing.\n\n211\n00:09:44.228 --> 00:09:48.449\nSo what I'm saying is down at the bottom\nunder Additional Services, you have to\n\n212\n00:09:48.449 --> 00:09:52.418\ncome in and first create a recovery\nservices vault, which is what we are now\n\n213\n00:09:52.418 --> 00:09:56.910\nreferencing, was the old backup vault you\ncan just kinda see backup vault classic.\n\n214\n00:09:56.910 --> 00:10:01.460\nIt's now created under the new\nterminology, recovery services vault which\n\n215\n00:10:01.460 --> 00:10:05.810\nis the general container that we use\nto then be able to back things up into.\n\n216\n00:10:05.810 --> 00:10:09.280\nAnd so the first step here would be\nto create a recovery services vault.\n\n217\n00:10:09.280 --> 00:10:10.830\nI've already done that.\n\n218\n00:10:10.830 --> 00:10:12.720\nI will go back and\nshow you how to do that in just a minute.\n\n219\n00:10:12.720 --> 00:10:16.840\nBut I've already done that, so I have\na recovery services vault already enabled.\n\n220\n00:10:16.840 --> 00:10:22.091\nSo that way when I click on Backup for\nmy running VM instance, I come over here.\n\n221\n00:10:22.091 --> 00:10:26.670\nIt just slides out, and I can see that I\ncan either select an existing recovery\n\n222\n00:10:26.670 --> 00:10:31.533\nservices vault, pull down ITPro back up,\nis what I selected, or I can create a new\n\n223\n00:10:31.533 --> 00:10:35.940\none if I don't like the one that's there,\nor I wanna use a different one.\n\n224\n00:10:35.940 --> 00:10:38.484\nI can print it right from here,\nI don't have to go create it separately,\n\n225\n00:10:38.484 --> 00:10:39.600\nit's up to you.\n\n226\n00:10:39.600 --> 00:10:43.036\nAnd the nice thing I like about this,\nyou hover over a little, and it'i so\n\n227\n00:10:43.036 --> 00:10:44.547\nsmall it seems like a micro dot.\n\n228\n00:10:44.547 --> 00:10:48.657\nBut you hover over there, it says,\nrecovery services vault holds the backup\n\n229\n00:10:48.657 --> 00:10:52.554\ncopies, and you can monitor and\nuse those backup copies from the vault.\n\n230\n00:10:52.554 --> 00:10:55.300\nSo it's a container essentially\nwhere you back things up into.\n\n231\n00:10:55.300 --> 00:10:57.100\nAnd then you have your backup policy.\n\n232\n00:10:57.100 --> 00:10:58.280\nWe have a default policy.\n\n233\n00:10:58.280 --> 00:11:00.190\nAgain, you can click to slide out here and\n\n234\n00:11:00.190 --> 00:11:03.660\nyou could choose\nthe backup default policy.\n\n235\n00:11:03.660 --> 00:11:07.060\nFrequency, daily, once a day at 11 PM.\n\n236\n00:11:07.060 --> 00:11:10.886\nRetention range, retains backups\ntaken every day at 11 PM for 30 days.\n\n237\n00:11:10.886 --> 00:11:15.554\nThis is essentially a template Microsoft's\nput together on the Azure platform that\n\n238\n00:11:15.554 --> 00:11:16.287\nyou can use.\n\n239\n00:11:16.287 --> 00:11:20.420\nSo if you use this,\nyou'll get a backup done once a day.\n\n240\n00:11:20.420 --> 00:11:23.960\nIt'll retain it for\n30 days running on a rolling basis, right?\n\n241\n00:11:23.960 --> 00:11:27.058\nOr you can go in and\nyou'll see you can create a new one,\n\n242\n00:11:27.058 --> 00:11:28.090\nit's up to you to decide.\n\n243\n00:11:28.090 --> 00:11:31.610\nAnd then you can be a little more\nprescriptive here, call your policy what\n\n244\n00:11:31.610 --> 00:11:36.350\nyou want, specify the backup frequency,\ndaily, weekly, specify the time,\n\n245\n00:11:36.350 --> 00:11:41.330\nlocalize it to your time zone,\nretention range, specify that, right?\n\n246\n00:11:41.330 --> 00:11:45.510\nAnd then specify some of the additional\nsettings that you can see here, right?\n\n247\n00:11:45.510 --> 00:11:46.770\nSo you can specify all that.\n\n248\n00:11:46.770 --> 00:11:51.450\nI'm not gonna bother with creating a new\none, but I just wanted to show you that.\n\n249\n00:11:51.450 --> 00:11:56.670\nAnd I'm just gonna go ahead and\nI'm going to stay over here.\n\n250\n00:11:56.670 --> 00:12:00.610\nAnd I'm gonna create and\nuse my default policy.\n\n251\n00:12:00.610 --> 00:12:02.297\nSo let me come back over here actually.\n\n252\n00:12:02.297 --> 00:12:07.850\nAnd I'll have that one.\n\n253\n00:12:07.850 --> 00:12:09.180\nLet's go back to there.\n\n254\n00:12:09.180 --> 00:12:10.260\nI'm gonna enable backup.\n\n255\n00:12:10.260 --> 00:12:11.650\nWe'll use the default policy.\n\n256\n00:12:11.650 --> 00:12:15.030\nSo let me do that,\nsubmitting deployment in progress, right?\n\n257\n00:12:15.030 --> 00:12:16.530\nSo it is backing up, right?\n\n258\n00:12:16.530 --> 00:12:18.900\nSo it's creating the backup for me.\n\n259\n00:12:18.900 --> 00:12:21.530\nAnd once that's done,\nkinda just see that running there,\n\n260\n00:12:21.530 --> 00:12:25.510\nwe can monitor, you can see the status\nof what's going on right there, right?\n\n261\n00:12:25.510 --> 00:12:27.650\nDeployment in progress,\nso it's doing a backup.\n\n262\n00:12:27.650 --> 00:12:30.660\nSo I can kinda see what's happening and\neventually it will tell me it was\n\n263\n00:12:30.660 --> 00:12:33.200\nsuccessful, as you can\nsee the other items were.\n\n264\n00:12:33.200 --> 00:12:36.384\nAlso lets me see how much credit I have\nremaining on my free subscription, so\n\n265\n00:12:36.384 --> 00:12:39.719\nI can monitor that as well, which is\nimportant if you're obviously not wanting\n\n266\n00:12:39.719 --> 00:12:41.789\nto get stuck paying the bill\nat the end of the day.\n\n267\n00:12:41.789 --> 00:12:44.040\nSo that's backing up over time.\n\n268\n00:12:44.040 --> 00:12:47.050\nThat will finish, and we can kind of\njust come back here to my dashboard.\n\n269\n00:12:47.050 --> 00:12:49.930\nThis is what our dashboard looks like.\n\n270\n00:12:49.930 --> 00:12:54.390\nAnd you can see that I do have my ITPro\nbackup recovery vault sitting over here.\n\n271\n00:12:54.390 --> 00:12:58.750\nI've got some other stuff happening,\nthere's my services vault shortcut.\n\n272\n00:12:58.750 --> 00:13:01.080\nThere is my VM running.\nIt's kind of hard to see him over the top.\n\n273\n00:13:01.080 --> 00:13:02.732\n&gt;&gt; Maybe you can see my VM is there.\n\n274\n00:13:02.732 --> 00:13:06.445\nIt's a little card on the dashboard, so I\ncould click on it to see the status of it\n\n275\n00:13:06.445 --> 00:13:08.640\nif I wanted to go back and\ntake a look at it.\n\n276\n00:13:08.640 --> 00:13:12.210\nBut let's go over here, and in the vault,\n\n277\n00:13:12.210 --> 00:13:16.070\nwhich is where I'm backing up to right\nnow, I can see a little scorecard.\n\n278\n00:13:16.070 --> 00:13:17.695\nIt kind of shows me a dashboard.\n\n279\n00:13:17.695 --> 00:13:20.470\nBackup items,\nI've got one item that's being backed up.\n\n280\n00:13:20.470 --> 00:13:24.540\nIt is currently active, it shows me,\nit'll set up on my free subscription,\n\n281\n00:13:24.540 --> 00:13:26.545\nmy deployment was successful,\njust finished up.\n\n282\n00:13:26.545 --> 00:13:28.790\nSo that means my backup just finished up.\n\n283\n00:13:28.790 --> 00:13:33.295\nSo I can see, as I come down here,\nthat I'm able to see that I have one\n\n284\n00:13:33.295 --> 00:13:37.440\nbacked-up item, and so\nI can see that I do have that here.\n\n285\n00:13:37.440 --> 00:13:42.025\nI can see the activity log, I can look\nat the backup, item site recovery, etc.\n\n286\n00:13:42.025 --> 00:13:45.660\nBut if I click here and go to my backup\nitem, and I can see that I do have\n\n287\n00:13:45.660 --> 00:13:49.315\nan Azure virtual machine that's been\nbacked up, just clicking through the link.\n\n288\n00:13:49.315 --> 00:13:54.825\nSo I can see it, I can see the name of it\nright here, backup precheck passed, right?\n\n289\n00:13:54.825 --> 00:13:57.030\nSo it does show me.\n\n290\n00:13:57.030 --> 00:14:01.800\nAs I click down, I'm just again continuing\nto kinda click through item by item.\n\n291\n00:14:01.800 --> 00:14:06.390\nThat I can see the actual information\nabout the VM, my restore points.\n\n292\n00:14:06.390 --> 00:14:10.720\nI can see the backup policy,\nI can see all settings here.\n\n293\n00:14:10.720 --> 00:14:12.976\nAnd so\nI can see that it is available to me.\n\n294\n00:14:12.976 --> 00:14:14.700\nI can back up from here.\n\n295\n00:14:14.700 --> 00:14:17.350\nI can restore from here if I need to.\n\n296\n00:14:17.350 --> 00:14:20.230\nI can see settings as we\nwere just taking a look at.\n\n297\n00:14:20.230 --> 00:14:22.410\nI can see the backup policy, right?\n\n298\n00:14:22.410 --> 00:14:24.980\nWe know that retention range,\nwe already took a look at that.\n\n299\n00:14:24.980 --> 00:14:26.450\nSo I have all the bells and whistles and\n\n300\n00:14:26.450 --> 00:14:29.900\nall the moving parts here to be\nable to restore my VM if I need to.\n\n301\n00:14:29.900 --> 00:14:35.640\nSo I was able to successfully achieve\nmy backup on the Azure platform using\n\n302\n00:14:35.640 --> 00:14:41.410\nthe restore vault, or the restore\nservices vault, rather, I should say.\n\n303\n00:14:42.484 --> 00:14:45.470\nAnd I'm just cleaning up and\nkinda moving backwards here.\n\n304\n00:14:45.470 --> 00:14:48.030\nSo we can see all that\nback to my dashboard.\n\n305\n00:14:48.030 --> 00:14:49.600\nAnd so I have all of that available.\n\n306\n00:14:49.600 --> 00:14:52.890\nYou can see here I have reports.\n\n307\n00:14:52.890 --> 00:14:54.680\nI have policy access.\n\n308\n00:14:54.680 --> 00:14:56.250\nIt's a pretty interesting interface.\n\n309\n00:14:56.250 --> 00:15:00.980\nIt does a lot, it can manage my\nrecovery and my backup infrastructure.\n\n310\n00:15:00.980 --> 00:15:04.060\nI can see my backup items\nthat are protected, right?\n\n311\n00:15:04.060 --> 00:15:05.450\nSo as you saw,\nI can just click through and\n\n312\n00:15:05.450 --> 00:15:08.230\nsee all the different items\nthat I was already looking at.\n\n313\n00:15:08.230 --> 00:15:09.480\nSo I'm able to go in and create that.\n\n314\n00:15:09.480 --> 00:15:10.800\nI did show you,\n\n315\n00:15:10.800 --> 00:15:15.290\nlet me just go here, that we can go\nhere to the recovery services vault.\n\n316\n00:15:15.290 --> 00:15:16.770\nAnd I did create one already.\n\n317\n00:15:16.770 --> 00:15:17.410\nAs you saw,\n\n318\n00:15:17.410 --> 00:15:21.270\nI created a new one initially when\nthere was nothing here by clicking Add.\n\n319\n00:15:21.270 --> 00:15:23.010\nAnd I can go in and add another one.\n\n320\n00:15:23.010 --> 00:15:26.950\nAnd all I'm doing is just giving it\na name, specifying, as you can see,\n\n321\n00:15:26.950 --> 00:15:31.200\nthe subscription, the resource group,\neither use existing or create a new one.\n\n322\n00:15:31.200 --> 00:15:34.120\nAnd then, just specify the location\nI want it housed out of,\n\n323\n00:15:34.120 --> 00:15:36.480\nin terms of Microsoft's\ndata centers globally.\n\n324\n00:15:36.480 --> 00:15:38.220\nWhere do I want that to be?\n\n325\n00:15:38.220 --> 00:15:39.560\nSo I can spread these around and\n\n326\n00:15:39.560 --> 00:15:43.580\nhave them geographically in different\nlocations from a survivability standpoint.\n\n327\n00:15:43.580 --> 00:15:46.340\nAnd if I pin to the dashboard\nit shows up on my scorecard, and\n\n328\n00:15:46.340 --> 00:15:47.390\nthen I'm able to create it.\n\n329\n00:15:47.390 --> 00:15:49.351\nSo that's how I create\nthe initial vault and\n\n330\n00:15:49.351 --> 00:15:51.849\nthen how I actually back up\nagainst the vault as you saw.\n\n331\n00:15:51.849 --> 00:15:55.157\nLet's just make a choice based on what's\nrunning and where I wanna put it.\n\n332\n00:15:55.157 --> 00:15:59.204\nSo when we use the Azure Backup platform,\nthis is what we're doing, but remember,\n\n333\n00:15:59.204 --> 00:16:03.479\nthis is as of Middle September 2017, it is\nimportant to specify that because I'm not\n\n334\n00:16:03.479 --> 00:16:05.960\nsuggesting this is gonna change radically.\n\n335\n00:16:05.960 --> 00:16:09.264\nBut I am suggesting Microsoft does\nhave a habit of updating features,\n\n336\n00:16:09.264 --> 00:16:12.960\nfunctionality, look and feel on the Azure\nplatform as they're continuing to\n\n337\n00:16:12.960 --> 00:16:14.930\nroll new features out and change things.\n\n338\n00:16:14.930 --> 00:16:17.507\nAnd it may look very different\nby the time you watch this\n\n339\n00:16:17.507 --> 00:16:21.420\nseveral months down the road from when\nwe up this content together for you.\n\n340\n00:16:21.420 --> 00:16:24.780\nBig disclaimer on that in the sense that\nthe feature and functionally itself,\n\n341\n00:16:24.780 --> 00:16:27.060\nI'm sure will will be there,\nbut it may look different.\n\n342\n00:16:27.060 --> 00:16:30.460\nMaybe in a different area,\nmay appear to operate different, and\n\n343\n00:16:30.460 --> 00:16:34.400\nyou should obviously as we talked about\nreference the online documentation of\n\n344\n00:16:34.400 --> 00:16:36.530\nthe latest constructions\non how to do this.\n\n345\n00:16:36.530 --> 00:16:39.600\nBut this is what you would do\ncurrently at this moment in time,\n\n346\n00:16:39.600 --> 00:16:43.100\nbe able to back up and\nrestore VM by using this technology.\n\n347\n00:16:43.100 --> 00:16:44.320\nCherokee you had your hand up.\n\n348\n00:16:44.320 --> 00:16:45.970\n&gt;&gt; Yeah, I had a question, Adam.\n\n349\n00:16:45.970 --> 00:16:48.220\nYou had referenced\nthe vault like a container.\n\n350\n00:16:48.220 --> 00:16:51.900\nSo logically,\nfrom like an organizational perspective,\n\n351\n00:16:51.900 --> 00:16:54.770\nwould I have the ability to\ncreate additional vaults?\n\n352\n00:16:54.770 --> 00:16:58.109\nOr are they all, all of my machines or\nareas that I'm backing up,\n\n353\n00:16:58.109 --> 00:17:00.564\nwould they all go into\none vault per account or?\n\n354\n00:17:00.564 --> 00:17:02.510\n&gt;&gt; Well, you saw I was able to create\na separate vault if I wanted to.\n\n355\n00:17:02.510 --> 00:17:04.080\nI did actually have the option.\n\n356\n00:17:04.080 --> 00:17:07.890\nSo, under my subscription,\nI could create multiple vaults.\n\n357\n00:17:07.890 --> 00:17:10.650\nThey all belong to me,\nas a company, or our company,\n\n358\n00:17:10.650 --> 00:17:12.010\nlet's just say hypothetically.\n\n359\n00:17:12.010 --> 00:17:15.125\nBut I can create different vaults,\nand I can specify where to put a VM.\n\n360\n00:17:15.125 --> 00:17:19.394\nSo I can put it into each of the vaults\nI create, based on having the ability,\n\n361\n00:17:19.394 --> 00:17:23.470\nas I choose the backup, choose what\nvault I would wanna put it into.\n\n362\n00:17:23.470 --> 00:17:24.970\nWe have that option,\ncreate new or use existing.\n\n363\n00:17:24.970 --> 00:17:25.598\n&gt;&gt; Yes, okay, so that makes sense.\n&gt;&gt; And\n\n364\n00:17:25.598 --> 00:17:28.509\nI would just pull down into the existing,\nif there was more than one, and\n\n365\n00:17:28.509 --> 00:17:29.302\nthen I can move it.\n\n366\n00:17:29.302 --> 00:17:31.029\nSo maybe, I had, as I showed you,\n\n367\n00:17:31.029 --> 00:17:34.607\nthe opportunity to create a vault,\nmaybe the one I currently created,\n\n368\n00:17:34.607 --> 00:17:37.670\nthat's already there,\nis homed in the East US data center.\n\n369\n00:17:37.670 --> 00:17:39.408\nOn the instance, for Windows for\n\n370\n00:17:39.408 --> 00:17:43.517\nthat's running on the Eastern data\ncenters in Microsoft, right, in the US.\n\n371\n00:17:43.517 --> 00:17:46.475\nWhich may not have been a good choice,\ngiven the hurricane we're thinking about\n\n372\n00:17:46.475 --> 00:17:49.380\nhaving, but is there, and\nwe're pretty confident that'll be fine.\n\n373\n00:17:49.380 --> 00:17:52.486\nBut let's say I wanted to put my eggs in\na different basket, as you're suggesting.\n\n374\n00:17:52.486 --> 00:17:55.612\nIf I had another vault created\nmaybe on the West instance for\n\n375\n00:17:55.612 --> 00:17:59.160\nthe data centers out on the West Coast,\nor even over in Europe.\n\n376\n00:17:59.160 --> 00:18:00.840\nWherever it was,\nI have an option to pull down and\n\n377\n00:18:00.840 --> 00:18:05.030\nchoose from the global range of data\ncenters I could put that vault there.\n\n378\n00:18:05.030 --> 00:18:07.670\nIt'll get created on the user\nfabric in one of those areas.\n\n379\n00:18:07.670 --> 00:18:09.950\nAnd then,\nI can when I go to back up choose that\n\n380\n00:18:09.950 --> 00:18:10.815\nvault-\n&gt;&gt; Okay.\n\n381\n00:18:10.815 --> 00:18:12.661\n&gt;&gt; As opposed to the one\nthat may be on the East and\n\n382\n00:18:12.661 --> 00:18:15.000\nI can have a back up running\nsomewhere else as well.\n\n383\n00:18:15.000 --> 00:18:17.810\nSo the answer is absolutely,\nI can definitely do that with no trouble.\n\n384\n00:18:17.810 --> 00:18:18.960\nWhich makes a lot of sense,\n\n385\n00:18:18.960 --> 00:18:21.810\ngiven the fact that we were thinking\nof what you brought up in your last\n\n386\n00:18:21.810 --> 00:18:25.270\nepisode about making sure we have\nour data in a location that's safe.\n\n387\n00:18:25.270 --> 00:18:26.873\n&gt;&gt; Right.\n&gt;&gt; And if we know we can not only go back\n\n388\n00:18:26.873 --> 00:18:29.240\nto it, but\nit has integrity as you were suggesting.\n\n389\n00:18:29.240 --> 00:18:33.668\nBut it's also geographically removed from\nthe potential impact zone, which is what\n\n390\n00:18:33.668 --> 00:18:37.617\nwe were both talking about as we went\nthrough and thought through the logic.\n\n391\n00:18:37.617 --> 00:18:40.560\nSo absolutely, we could definitely\ndo that with no trouble, All right.\n\n392\n00:18:40.560 --> 00:18:43.180\nSo let's take a look, I promised\nyou we would also talk about and\n\n393\n00:18:43.180 --> 00:18:48.900\nshow you how to do a bare metal restore.\n\n394\n00:18:48.900 --> 00:18:53.583\nSo as a result, what I've done is,\nI rebooted this PLADDM01 machine,\n\n395\n00:18:53.583 --> 00:18:57.371\njust simply hit the key,\nwhen it starts up to boot to media.\n\n396\n00:18:57.371 --> 00:19:00.694\nSo we have the Windows 12R2 CD\nmounted as you can probably surmise,\n\n397\n00:19:00.694 --> 00:19:03.440\ngiven what you're looking\nat on the screen there.\n\n398\n00:19:03.440 --> 00:19:07.328\nAnd I just the key to boot into the media.\n\n399\n00:19:07.328 --> 00:19:09.820\nWe went through the initial screen for\ninstall.\n\n400\n00:19:09.820 --> 00:19:12.510\nSo just hit Enter on the,\nwhat language do you want?\n\n401\n00:19:12.510 --> 00:19:13.899\nWhat keyboard map do you want?\n\n402\n00:19:13.899 --> 00:19:16.800\nIf you've ever seen an install,\nI'm sure you're familiar with that.\n\n403\n00:19:16.800 --> 00:19:18.780\nThis is the second screen we see.\n\n404\n00:19:18.780 --> 00:19:21.090\nNormally, we would do an install and\njust go through that, but\n\n405\n00:19:21.090 --> 00:19:22.640\nwe're not gonna do that, right?\n\n406\n00:19:22.640 --> 00:19:25.690\nWhat we're gonna do is restore\nthe original instance we had.\n\n407\n00:19:25.690 --> 00:19:28.230\nAnd so we're gonna repair down here.\n\n408\n00:19:28.230 --> 00:19:29.430\nSo we'll click Repair.\n\n409\n00:19:29.430 --> 00:19:34.210\nThis is gonna then load up our\noptional environment here.\n\n410\n00:19:34.210 --> 00:19:35.670\nWe can make some choices.\n\n411\n00:19:35.670 --> 00:19:38.988\nWe're gonna go in and either continue,\nwhich is essentially exit and\n\n412\n00:19:38.988 --> 00:19:40.629\njust restart or we can turn it off.\n\n413\n00:19:40.629 --> 00:19:43.290\nWell, that's probably not gonna\ndo a setting good either, right?\n\n414\n00:19:43.290 --> 00:19:47.060\nSo the only option really make sense is\nTroubleshoot, that's where gonna go, so\n\n415\n00:19:47.060 --> 00:19:48.020\nlet's go there.\n\n416\n00:19:48.020 --> 00:19:50.510\nWe do have the option to\ndo system image recovery,\n\n417\n00:19:50.510 --> 00:19:53.200\nwhich is what we're gonna do\nbecause we've taken a system image.\n\n418\n00:19:53.200 --> 00:19:55.700\nI explained that the bear metal recovery\n\n419\n00:19:55.700 --> 00:19:58.130\nbackup that we did is\nessentially a system image.\n\n420\n00:19:58.130 --> 00:20:01.090\nWe talked about that and that's what\nwe're gonna use through this option\n\n421\n00:20:01.090 --> 00:20:03.350\nin case you've never\nseen that done before.\n\n422\n00:20:03.350 --> 00:20:05.380\nSo we're gonna come in here and\nwe're gonna click here.\n\n423\n00:20:05.380 --> 00:20:08.580\nGet that in just a second,\nchoose a target operating system.\n\n424\n00:20:08.580 --> 00:20:12.638\nWell, we are running 12 R2 so that does\nmake sense but we already used 12 R2.\n\n425\n00:20:12.638 --> 00:20:16.002\nSo we're gonna get an hour initially\nwhen we go in here I'll explain why in\n\n426\n00:20:16.002 --> 00:20:17.020\njust a minute.\n\n427\n00:20:17.020 --> 00:20:21.780\nWe're going to look locally for our image\nto do our backup or rather our recovery\n\n428\n00:20:21.780 --> 00:20:25.700\nfirm and it says, hey Windows cannot\nfind the system image on this computer.\n\n429\n00:20:25.700 --> 00:20:29.420\nWell, that's certainly right, because\nI did not store it on this computer.\n\n430\n00:20:29.420 --> 00:20:34.210\nI stored it remotely across the network on\nthe other machine, so I could I grab it.\n\n431\n00:20:34.210 --> 00:20:37.740\nAnd it's stored right over\nhere on my domain controller.\n\n432\n00:20:37.740 --> 00:20:40.495\nLet me just log back in, so\nyou could see where it is.\n\n433\n00:20:42.899 --> 00:20:46.433\nAnd let me scroll down here.\n\n434\n00:20:46.433 --> 00:20:53.000\nI created a share partition\non the E drive called Backup.\n\n435\n00:20:53.000 --> 00:20:57.910\nI ran the backup from the club VM01\nmachine, before I took it down.\n\n436\n00:20:57.910 --> 00:21:01.510\nAnd I did the backup here, so\nyou could see the output of that.\n\n437\n00:21:01.510 --> 00:21:05.310\nThis is under the Windows image\nbackup club VM01 is backup.\n\n438\n00:21:05.310 --> 00:21:07.538\nAnd I could see that that backup,\n\n439\n00:21:07.538 --> 00:21:11.610\nthe [COUGH] the file that we're\ngonna use or the backup image.\n\n440\n00:21:11.610 --> 00:21:14.907\nWe're gonna use to do the bare metal\nrecovery is sitting right here across\n\n441\n00:21:14.907 --> 00:21:15.885\nthe network.\n\n442\n00:21:15.885 --> 00:21:19.845\nI created a share, I just gave the share\neveryone full control permissions to\n\n443\n00:21:19.845 --> 00:21:21.445\nallow the back-up server.\n\n444\n00:21:21.445 --> 00:21:24.085\nOr the back up service rather\nfrom the DM machine to\n\n445\n00:21:24.085 --> 00:21:26.865\nwrite to it to drop the back-up\nhere across the network.\n\n446\n00:21:26.865 --> 00:21:28.975\nAnd so\nwhat I'm gonna dow is now pull that in.\n\n447\n00:21:28.975 --> 00:21:32.875\nSo our preference with this is to look\nlocally thinking we have a locally mounted\n\n448\n00:21:32.875 --> 00:21:34.795\nrecovery, but we can go with the network.\n\n449\n00:21:34.795 --> 00:21:37.990\nWe just have to click through\na few screens just to get there.\n\n450\n00:21:37.990 --> 00:21:40.130\nSo we're gonna click Cancel here,\n\n451\n00:21:40.130 --> 00:21:43.250\nbecause if we keep retrying it's\nobviously not gonna do it any different.\n\n452\n00:21:43.250 --> 00:21:46.650\nSo we're gonna select the system image,\nclick Next, and\n\n453\n00:21:46.650 --> 00:21:49.760\nthen we're gonna specify the location but\nit's not here.\n\n454\n00:21:49.760 --> 00:21:53.030\nWe have to go to Advanced in order to be\nable to do that, so let's go to Advanced.\n\n455\n00:21:53.030 --> 00:21:55.037\nAnd then, search for\nsystem image on the network,\n\n456\n00:21:55.037 --> 00:21:57.853\nthat's what we're gonna do cause it\nis out on the network we know that.\n\n457\n00:21:57.853 --> 00:21:59.560\nCould of made this a little bit easier,\ndon't ya think?\n\n458\n00:21:59.560 --> 00:22:03.330\nThis is like, all right go left, then go\ndown to the farm house, but its not there\n\n459\n00:22:03.330 --> 00:22:06.480\nany more it used to be there but it's\nburned down but there's no record of that.\n\n460\n00:22:06.480 --> 00:22:07.142\n&gt;&gt; Turn at the tall tree.\n\n461\n00:22:07.142 --> 00:22:10.360\n&gt;&gt; Yeah, and then we cumbered everything\nover and its now a parking lot.\n\n462\n00:22:10.360 --> 00:22:12.511\nBut there's no cars in the parking lot,\nright?\n\n463\n00:22:12.511 --> 00:22:14.984\nIt's like one of those, so\nyou just give up, and just say forget it,\n\n464\n00:22:14.984 --> 00:22:16.270\nI'm just gonna reinstall.\n\n465\n00:22:16.270 --> 00:22:19.360\nBut we're gonna get there,\nI promise you, it's not that convoluted.\n\n466\n00:22:19.360 --> 00:22:22.430\nSo are you sure you wanna connect\nto the network, absolutely.\n\n467\n00:22:22.430 --> 00:22:24.590\nWe've come this far,\nno we don't wanna connect to the network?\n\n468\n00:22:24.590 --> 00:22:28.290\nSo we're gonna click Yes, it's gonna go\nout, attempt to connect to the network.\n\n469\n00:22:28.290 --> 00:22:30.530\nNow, what we have to do is specify a path.\n\n470\n00:22:30.530 --> 00:22:32.447\nWell, finally,\nnow we can do something, right?\n\n471\n00:22:32.447 --> 00:22:37.214\nSo we're gonna type in\nhere club DC01 backup,\n\n472\n00:22:37.214 --> 00:22:41.180\nwhich is the share path to that machine.\n\n473\n00:22:41.180 --> 00:22:43.174\nClick OK.\n\n474\n00:22:43.174 --> 00:22:46.710\nNow, we have to specify a user name and\na credential to connect.\n\n475\n00:22:46.710 --> 00:22:48.560\nJust make sure that I have\nthe right user name here.\n\n476\n00:22:48.560 --> 00:22:50.952\nGive me just one second.\n\n477\n00:22:50.952 --> 00:22:53.950\nGot a backup, there we go,\nthat's what I'm looking for.\n\n478\n00:22:53.950 --> 00:22:58.170\nAll right, so, we've got our practice labs\n\n479\n00:23:00.370 --> 00:23:04.500\nuser and we have our super\nsecret password, all right, so\n\n480\n00:23:04.500 --> 00:23:06.310\nwe're going to go ahead and\nput all that in.\n\n481\n00:23:06.310 --> 00:23:09.010\nHopefully, we spelled all that\ncorrectly there we go, and\n\n482\n00:23:09.010 --> 00:23:12.170\nsure enough we're now able\nto find that machine image,\n\n483\n00:23:12.170 --> 00:23:14.790\nthat was sitting in the chair\nwe were talking about.\n\n484\n00:23:14.790 --> 00:23:16.200\nSo I got that there.\n\n485\n00:23:16.200 --> 00:23:20.730\nNow, what I'm gonna be able to do\nis select that,and notice I have\n\n486\n00:23:20.730 --> 00:23:23.010\nto highlight and\nselect it before I get the next option.\n\n487\n00:23:23.010 --> 00:23:28.596\nEven though it's there on the list, not\nselected until it's highlighted in blue.\n\n488\n00:23:28.596 --> 00:23:30.200\nOkay, then click Next.\n\n489\n00:23:30.200 --> 00:23:33.567\nThen backups available for\nthis machine on this machine,\n\n490\n00:23:33.567 --> 00:23:37.772\nI again have to highlight in order to\nclick Next I have to select, right?\n\n491\n00:23:37.772 --> 00:23:42.641\nSo, I am highlighting that volume and\nthat backup instance, click Next,\n\n492\n00:23:42.641 --> 00:23:47.303\nthen format and repartition disk\nselect delete existing partitions.\n\n493\n00:23:47.303 --> 00:23:51.707\nAnd reformat, I wanna do that, I specify\nwhat I wanna do and how I wanna do it.\n\n494\n00:23:51.707 --> 00:23:54.594\nIf you're unable to select an option\nabove, installing the drivers for\n\n495\n00:23:54.594 --> 00:23:57.971\nthe disks, installing the drivers, you\nare restoring, might solve the problem.\n\n496\n00:23:57.971 --> 00:24:01.022\nMeaning hey, if you're not able to\ndo that, maybe you need a driver to\n\n497\n00:24:01.022 --> 00:24:04.696\naccess the drive, maybe it's You have some\nsort of drive that has a special driver,\n\n498\n00:24:04.696 --> 00:24:06.961\nso maybe you need that,\nwe have an option for that.\n\n499\n00:24:06.961 --> 00:24:10.690\nAll right, so, we can do that if\nwe want to, format a repartition.\n\n500\n00:24:10.690 --> 00:24:12.560\nDo I want to exclude any disks?\n\n501\n00:24:12.560 --> 00:24:14.970\nI could exclude if I want to,\nit's up to me.\n\n502\n00:24:14.970 --> 00:24:16.960\nI can decide how to do that, all right?\n\n503\n00:24:18.190 --> 00:24:22.070\nSo if I choose to actually blow out\nthe partitions, right, I can do that.\n\n504\n00:24:22.070 --> 00:24:25.260\nIf I exclude a disk, you'll see I have\nvirtual hard drives mounted there,\n\n505\n00:24:25.260 --> 00:24:30.790\nI can exclude Whichever ones I want,\nall right, so we can do that, click next.\n\n506\n00:24:30.790 --> 00:24:33.520\nThen we are ready to go off to the races\ndepending on what we chose to do,\n\n507\n00:24:33.520 --> 00:24:35.280\nwe're going to click finish.\n\n508\n00:24:35.280 --> 00:24:38.730\nAll data on the drives on the drives to\nbe restored will be replaced with data in\n\n509\n00:24:38.730 --> 00:24:40.860\nthe system image, are you ready?\n\n510\n00:24:40.860 --> 00:24:43.810\nWell, no, I've come this far and\nI've decided I don't want to do it, right?\n\n511\n00:24:43.810 --> 00:24:46.860\nSo, yes, click yes, and\nwe are starting to go and\n\n512\n00:24:46.860 --> 00:24:48.510\nthis is restoring\nthe computer from the image.\n\n513\n00:24:48.510 --> 00:24:51.310\nIt may take a few minutes to a few hours,\nit depends on how big.\n\n514\n00:24:51.310 --> 00:24:54.220\nThe images of course right so\nwe'll have to wait on that and\n\n515\n00:24:54.220 --> 00:24:57.480\nit does take a little bit but you can\nsee it's making fair progress there.\n\n516\n00:24:57.480 --> 00:25:02.070\nOnce it is done we'll get a restart\nnow option it is restoring disk c and\n\n517\n00:25:02.070 --> 00:25:03.170\nthen it will restore the other disk.\n\n518\n00:25:03.170 --> 00:25:05.830\nSo it will take a little bit,\nwe're not gonna wait for the whole thing.\n\n519\n00:25:05.830 --> 00:25:08.330\nWhat we'll do is just\nallow that to finish up.\n\n520\n00:25:08.330 --> 00:25:11.870\nWhen we come back, we'll cut away for a\nminute, just so you're not stuck watching\n\n521\n00:25:11.870 --> 00:25:15.530\nthis for 10 minutes while it restores, but\nwhen we come back, you'll be able to see,\n\n522\n00:25:15.530 --> 00:25:18.630\nwe'll be at that restart, you'll be able\nto see that prompts, and then we'll be\n\n523\n00:25:18.630 --> 00:25:21.520\nable to log back in, and the machine\nwill be up and running and restored, and\n\n524\n00:25:21.520 --> 00:25:26.000\nthen we'll wrap up our conversation and\nfinish up our demonstration, just because\n\n525\n00:25:26.000 --> 00:25:30.640\nWe are able to do that here on ITPROTV\nthrough the magic of modern technology.\n\n526\n00:25:30.640 --> 00:25:34.640\nWe're gonna go away, and when I do this in\na minute, it's gonna be like 20 minutes.\n\n527\n00:25:34.640 --> 00:25:36.510\nWhen I do this we're gonna come back.\n\n528\n00:25:36.510 --> 00:25:38.100\nI've to do that,\nremember remind me to do that.\n\n529\n00:25:38.100 --> 00:25:39.780\n&gt;&gt; Okay.\n&gt;&gt; So that, otherwise it won't work,\n\n530\n00:25:39.780 --> 00:25:41.640\nthe magic is broken if I don't do that.\n\n531\n00:25:41.640 --> 00:25:44.360\nAll right, so we're gonna cut away, we're\ngonna finish this up come on back as soon\n\n532\n00:25:44.360 --> 00:25:46.050\nas it's done and\nwe'll show you what happens next.\n\n533\n00:25:49.110 --> 00:25:51.120\nWhatever I was supposed to do,\nthere you go.\n\n534\n00:25:51.120 --> 00:25:54.770\nAlright so here we are you see I wanted to\ncatch the timer on this because this timer\n\n535\n00:25:54.770 --> 00:25:55.310\ncounts down.\n\n536\n00:25:55.310 --> 00:25:58.530\nSo you can see we are done and we're going\nto hit restart here in a second but you\n\n537\n00:25:58.530 --> 00:26:01.610\ncan see restore completed successfully,\nso we're going to restart now.\n\n538\n00:26:01.610 --> 00:26:04.430\nI am just going to let that do it's thing,\nso\n\n539\n00:26:04.430 --> 00:26:07.190\nbeautiful magic of Hyper-v it's\ngoing to come right back up.\n\n540\n00:26:07.190 --> 00:26:09.290\nSo give it just a second\nwe're going to log in here,\n\n541\n00:26:09.290 --> 00:26:12.920\nwe're not going to boot The CD, but\nyou see how I did that get the install and\n\n542\n00:26:12.920 --> 00:26:17.430\nthe recovery environment running, I just\nhit the key there to let it start up.\n\n543\n00:26:17.430 --> 00:26:21.700\nSo we'll let this come back up, you're\ngoing to log on prompt here momentarily.\n\n544\n00:26:21.700 --> 00:26:24.510\nThere we go,\nI'm jut going to go ahead and log back in\n\n545\n00:26:27.790 --> 00:26:30.820\nand as soon as we do that,\nwe'll just going to give it a moment\n\n546\n00:26:30.820 --> 00:26:34.470\nto get to our desktop here so\nour manager will load And\n\n547\n00:26:34.470 --> 00:26:40.070\nwe have a completely restored and\npristinely configured\n\n548\n00:26:40.070 --> 00:26:44.500\ninstance of our server at the moment that\nwe did our bare metal recovery back-up.\n\n549\n00:26:44.500 --> 00:26:47.160\nSo we've put it back to\nthat moment in time.\n\n550\n00:26:47.160 --> 00:26:48.080\nIt's ready to go.\n\n551\n00:26:48.080 --> 00:26:48.930\nEverything is functional.\n\n552\n00:26:48.930 --> 00:26:51.150\nYou can see everything is Running.\n\n553\n00:26:51.150 --> 00:26:54.030\nAll of our services are up and running.\n\n554\n00:26:54.030 --> 00:26:56.240\nWDS, everything that was\nthere before is there.\n\n555\n00:26:56.240 --> 00:26:57.790\nNo errors, no concerns.\n\n556\n00:26:57.790 --> 00:27:00.980\nSo as long as we have that bare\nmetal backup that's been done,\n\n557\n00:27:00.980 --> 00:27:04.350\na bare metal recovery is what it's\ncalled when we run in Windows backup.\n\n558\n00:27:04.350 --> 00:27:07.280\nAs long as we have that back up\nwith all the information that we've\n\n559\n00:27:07.280 --> 00:27:10.680\ntaken a look at, we can use it to do\na restore, just like we did here, so\n\n560\n00:27:10.680 --> 00:27:12.310\nyou can see how that comes together.\n\n561\n00:27:12.310 --> 00:27:15.020\nHopefully that makes sense\nbased on what we were doing?\n\n562\n00:27:15.020 --> 00:27:20.610\nWe are able to have a variety of different\noptions for recovery; we've shown you Two\n\n563\n00:27:20.610 --> 00:27:24.520\ndifferent sets of options already with two\ndifferent demos gonna come back in another\n\n564\n00:27:24.520 --> 00:27:28.000\nepisode to show you another one but before\nwe break away and do that just wanna\n\n565\n00:27:28.000 --> 00:27:32.375\nshow you one of the quick then just gonna\ngo back and make a folder to show that.\n\n566\n00:27:32.375 --> 00:27:33.695\nThis.\n\n567\n00:27:33.695 --> 00:27:37.175\nThere is a command line tool,\nI mentioned it in the last episode.\n\n568\n00:27:37.175 --> 00:27:39.985\nWhich didn't get a chance to get to it,\ncalled VSS Admin.\n\n569\n00:27:39.985 --> 00:27:42.055\nYou may remember I mentioned it\nif you've seen that episode.\n\n570\n00:27:42.055 --> 00:27:44.015\nIf not,\nyou're hearing about it here again.\n\n571\n00:27:44.015 --> 00:27:45.335\nNo big deal, either way.\n\n572\n00:27:45.335 --> 00:27:48.005\nBut VSS Admin is an old command line tool,\n\n573\n00:27:48.005 --> 00:27:52.815\nthat we can use to manage and\nadminister the VSS Service.\n\n574\n00:27:52.815 --> 00:27:55.320\nI just as I always do,\nbrought up the help file.\n\n575\n00:27:55.320 --> 00:27:57.300\nAnd you can see here\nthe commands that are supported.\n\n576\n00:27:57.300 --> 00:28:02.020\nThere's a list of them at shadow storage,\ncreate, delete,\n\n577\n00:28:02.020 --> 00:28:07.395\nshadow storage list providers,\nlist shadows, etc., resize, etc.\n\n578\n00:28:07.395 --> 00:28:10.300\nSo You've got about 12 commands,\napproximately, that are supported here,\n\n579\n00:28:10.300 --> 00:28:14.110\nwould be good for\nyou to be able to have a sense of this.\n\n580\n00:28:14.110 --> 00:28:17.680\nI would definitely, if I was you, there is\na URL in the show notes that takes you out\n\n581\n00:28:17.680 --> 00:28:20.465\nto the website, lists all the commands,\ntells you how this works.\n\n582\n00:28:20.465 --> 00:28:22.535\nBring a little technet article there, but\n\n583\n00:28:22.535 --> 00:28:25.535\nit is an exam objective with a sense\nof understanding the SS app and\n\n584\n00:28:25.535 --> 00:28:28.175\nknowing it's there having\na sense of some of the commands.\n\n585\n00:28:28.175 --> 00:28:31.525\nSo we want to make sure you get the chance\nto see that, know that you should probably\n\n586\n00:28:31.525 --> 00:28:35.582\npay attention to this when my If Microsoft\nsays, hey, this particular tool,\n\n587\n00:28:35.582 --> 00:28:39.482\nand they call it out by name, and say it\nis an exam objective, that's a hint and\n\n588\n00:28:39.482 --> 00:28:42.942\na half they're gonna ask at least one\nif not more questions about it, right?\n\n589\n00:28:42.942 --> 00:28:46.490\nSo definitely want to make sure we\ncan get in there and take a look.\n\n590\n00:28:46.490 --> 00:28:51.000\nIt is available on operating systems going\nback to Windows 7, even to Windows Vista.\n\n591\n00:28:51.000 --> 00:28:53.110\nSo, all you have to do if you\nhave a local Windows machine,\n\n592\n00:28:53.110 --> 00:28:55.940\ngo to your run line,\nlet's bring this up from a command shell.\n\n593\n00:28:55.940 --> 00:28:58.950\nYou can take a look at it and\nof course, obviously,\n\n594\n00:28:58.950 --> 00:29:02.470\ngoing forward to the newer OSes, there\nmay have been some new features added.\n\n595\n00:29:02.470 --> 00:29:03.660\nSo you just want to take a look.\n\n596\n00:29:03.660 --> 00:29:07.810\nMake sure you know what's there but\ndo just take a quick peek at that website.\n\n597\n00:29:07.810 --> 00:29:09.050\nTake a look at what's going on with it.\n\n598\n00:29:09.050 --> 00:29:10.920\nPlay around with some of the commands.\n\n599\n00:29:10.920 --> 00:29:13.410\nAnd you should be able to do whatever\nyou need to do to get ready for\n\n600\n00:29:13.410 --> 00:29:15.210\nthe exam just by having knowledge of this.\n\n601\n00:29:15.210 --> 00:29:19.040\nI just wanna throw that in as the icing\non the cake, as they say, right?\n\n602\n00:29:19.040 --> 00:29:21.170\nOr the cherry on our backup and\nrestore sundae.\n\n603\n00:29:21.170 --> 00:29:23.830\n&gt;&gt; And you can have your cake and\neat it too.\n\n604\n00:29:23.830 --> 00:29:25.472\n&gt;&gt; You can if you back it up and\nrestore it.\n\n605\n00:29:25.472 --> 00:29:27.429\n&gt;&gt; [LAUGH]\n&gt;&gt; You can keep doing that on\n\n606\n00:29:27.429 --> 00:29:28.090\nand on and on.\n\n607\n00:29:28.090 --> 00:29:28.710\nAll righty.\n\n608\n00:29:28.710 --> 00:29:29.730\n&gt;&gt; Regurgitated cake.\n\n609\n00:29:29.730 --> 00:29:31.110\nWhat a great episode, Adam.\n\n610\n00:29:31.110 --> 00:29:34.820\nThank you, though, for showing us\nthe VSS admin tool as well as how to use\n\n611\n00:29:34.820 --> 00:29:38.110\nAs you're to go ahead and perform those\nbackup functions, and thank you for\n\n612\n00:29:38.110 --> 00:29:40.480\nbeing with us as well but for\nthis show we'll go ahead and sign out.\n\n613\n00:29:40.480 --> 00:29:42.250\nI've been your host, Cherokee Boose.\n\n614\n00:29:42.250 --> 00:29:43.020\n&gt;&gt; I'm Adam Gordon.\n\n615\n00:29:43.020 --> 00:29:44.432\n&gt;&gt; See ya next time here at IT Pro TV.\n\n616\n00:29:44.432 --> 00:29:51.396\n[ELECTRONIC MUSIC] Thank you for\n\n617\n00:29:51.396 --> 00:29:55.346\nwatching ITPRO TV.\n\n",
          "vimeoId": "233505312"
        },
        {
          "description": "In this show, Cherokee and Adam explain Boot Configuration Data Editor (BCD Edit). Adam demonstrates how commands can be used to configure how a machine boots up in addition to other options.",
          "length": "818",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-3-implement_bc_and_dr_pt3-090817-PGM.00_13_27_26.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-3-implement_bc_and_dr_pt3-090817-PGM.00_13_27_26.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-12-1-3-implement_bc_and_dr_pt3-090817-PGM.00_13_27_26.Still001-sm.jpg",
          "title": "Implement BC and DR Part 3",
          "transcript": "WEBVTT\n\n1\n00:00:00.200 --> 00:00:01.303\nWelcome to ITProTV.\n\n2\n00:00:01.303 --> 00:00:02.669\nI'm your host, Don Pezet.\n\n3\n00:00:02.669 --> 00:00:05.856\n[CROSSTALK]\n\n4\n00:00:05.856 --> 00:00:08.225\n&gt;&gt; [MUSIC]\n\n5\n00:00:08.225 --> 00:00:11.685\nYou're watching ITProTV.\n\n6\n00:00:11.685 --> 00:00:16.298\n&gt;&gt; Welcome back to your\nWindows Server 2012 R2 70-412 series.\n\n7\n00:00:16.298 --> 00:00:17.380\nI'm your show host, Cherokee Boose.\n\n8\n00:00:18.460 --> 00:00:22.300\nIn this episode, just as promised,\nwe're here to provide the icing on\n\n9\n00:00:22.300 --> 00:00:26.460\nthe proverbial cake here, with some\nmore disaster recovery, or excuse me,\n\n10\n00:00:26.460 --> 00:00:28.968\nbusiness continuity and disaster recovery.\n\n11\n00:00:28.968 --> 00:00:32.220\nAnd back with us today in studios,\nwe have Mr. Adam Gordon.\n\n12\n00:00:32.220 --> 00:00:33.496\nHow's it going, Adam?\n\n13\n00:00:33.496 --> 00:00:34.608\n&gt;&gt; Very chocolatey.\n\n14\n00:00:34.608 --> 00:00:37.025\nOr key lime-y, I'm not sure which.\n\n15\n00:00:37.025 --> 00:00:37.590\nMaybe chocolate key lime-y.\n\n16\n00:00:37.590 --> 00:00:39.010\n&gt;&gt; They both sound great.\n\n17\n00:00:39.010 --> 00:00:42.450\n&gt;&gt; Anyway, I am here, you are here,\nlet us be here together.\n\n18\n00:00:42.450 --> 00:00:44.450\nLet us talk about dessert, right.\n\n19\n00:00:44.450 --> 00:00:47.740\nSo what we're here to talk about,\nall kidding aside, right, is as you said,\n\n20\n00:00:47.740 --> 00:00:50.400\nkind of the finalization of\nall the things we've been\n\n21\n00:00:50.400 --> 00:00:54.190\ndoing in the last couple of episodes\naround the concepts of BCDR.\n\n22\n00:00:54.190 --> 00:00:57.030\nSpecifically we've been looking\nat the Windows backup feature,\n\n23\n00:00:57.030 --> 00:01:00.610\nhow that works, took you on a tour of\nthe interface, showed you how to use that.\n\n24\n00:01:00.610 --> 00:01:04.200\nWe also took a look at how to use the\nWindows Azure platform with Azure Backups.\n\n25\n00:01:04.200 --> 00:01:06.272\nIf you haven't seen that,\ndefinitely go take a look.\n\n26\n00:01:06.272 --> 00:01:08.313\nWe're gonna return one more time.\n\n27\n00:01:08.313 --> 00:01:10.260\nThis is gonna be a smaller episode,\nthough.\n\n28\n00:01:10.260 --> 00:01:12.874\nIt's not going to take us as\nlong as our normal episodes.\n\n29\n00:01:12.874 --> 00:01:15.590\nThat's a big smile on Cherokee's\nface when I say that, by the way.\n\n30\n00:01:15.590 --> 00:01:20.290\nAnd what we're going to do is just quickly\nsneak a peek at a tool called BCDEdit,\n\n31\n00:01:20.290 --> 00:01:23.820\nBCDEdit, the boot configuration\ndata store editor.\n\n32\n00:01:23.820 --> 00:01:29.000\nWe may have to modify the configuration\nparameters for a system to restart\n\n33\n00:01:29.000 --> 00:01:33.170\nit into safe mode and BCDEdit would allow\nus to do that to get the advance recovery\n\n34\n00:01:33.170 --> 00:01:37.210\nfeatures and use last known good or safe\nmode in order to be able to do a restore.\n\n35\n00:01:37.210 --> 00:01:41.190\nSo I just wanna walk you through the logic\nof that, just show you the BCDEdit tool,\n\n36\n00:01:41.190 --> 00:01:45.070\nshow you a couple of the commands we\nwould use to be able to make that happen,\n\n37\n00:01:45.070 --> 00:01:46.310\nshow you the output of that.\n\n38\n00:01:46.310 --> 00:01:49.320\nBut also show you how to, to make\nsure you're familiar with this tool.\n\n39\n00:01:49.320 --> 00:01:51.890\nAgain, another one of those\ntools that you may, and\n\n40\n00:01:51.890 --> 00:01:55.520\nI would hazard a guess to say would\ndefinitely be asked about on the exam.\n\n41\n00:01:55.520 --> 00:01:56.730\nSo it is important to take a look at.\n\n42\n00:01:56.730 --> 00:02:00.390\nSo join me here if you will, or right\nup there if you will, and I'm on one of\n\n43\n00:02:00.390 --> 00:02:03.960\nthe machines we'll be using to demo\nthroughout the last couple of episodes.\n\n44\n00:02:03.960 --> 00:02:05.580\nI've gone in, opened up PowerShell,\n\n45\n00:02:05.580 --> 00:02:10.420\nnothing unusual here and\nI have issued the following command.\n\n46\n00:02:10.420 --> 00:02:13.443\nLet's just mark that, so\nwe can see the first one there, and\n\n47\n00:02:13.443 --> 00:02:15.417\nthen we'll take a look at the next one.\n\n48\n00:02:15.417 --> 00:02:22.481\nSo bcdedit /set \"{current}\"\n\n49\n00:02:22.481 --> 00:02:27.870\nbootmenupolicy legacy.\n\n50\n00:02:27.870 --> 00:02:30.585\nCompleted successfully, then the next one,\n\n51\n00:02:30.585 --> 00:02:34.480\nboot bcdedit /set \"{bootmgr}\",\ndisplaybootmenu yes.\n\n52\n00:02:34.480 --> 00:02:39.163\nYou can kind of see in theory if you think\nthrough the logic of this what I'm doing.\n\n53\n00:02:39.163 --> 00:02:42.360\nI'm setting the system up so it will\nallow me to hit F8 when I restart and\n\n54\n00:02:42.360 --> 00:02:45.183\nget that old style menu that will\nprobably, some of us anyway,\n\n55\n00:02:45.183 --> 00:02:47.879\nhopefully a lot of you,\nhave been used to seeing for years.\n\n56\n00:02:47.879 --> 00:02:52.844\nWhere I can go in, get access to recovery\nmechanisms and/or do a last known good\n\n57\n00:02:52.844 --> 00:02:57.674\nboot, safe mode with, without,\nnetworking, with command prompt, etc.\n\n58\n00:02:57.674 --> 00:03:01.744\nSo that old style menu that we used to\nbe able to see for recovery options is\n\n59\n00:03:01.744 --> 00:03:06.450\nwhat we're restoring using these two\ncommands right here, with BCDEdit.\n\n60\n00:03:06.450 --> 00:03:08.800\nAnd it says, BCDEdit,\nhey, what does it do?\n\n61\n00:03:08.800 --> 00:03:12.430\nBoot Configuration Data Store Editor,\nyou take a look, it tells us,\n\n62\n00:03:12.430 --> 00:03:15.810\nwe'll just scroll down here so\nyou can kinda see.\n\n63\n00:03:15.810 --> 00:03:20.230\nAnd I just loaded the help\nfile by typing the command /?.\n\n64\n00:03:20.230 --> 00:03:22.922\nThis is a tool modifying the boot\nconfiguration data store,\n\n65\n00:03:22.922 --> 00:03:23.935\nit's called the BCD.\n\n66\n00:03:23.935 --> 00:03:29.300\nBCDEdit, name of the tool, modifies\nthe BCD boot configuration data store.\n\n67\n00:03:29.300 --> 00:03:32.038\nThis does contain boot\nconfiguration parameters and\n\n68\n00:03:32.038 --> 00:03:33.626\ncontrols how the OS is booted.\n\n69\n00:03:33.626 --> 00:03:36.438\nThis used to be done through Boot.ini, but\n\n70\n00:03:36.438 --> 00:03:39.710\nwe no longer use the Boot.ini\nfile to do this.\n\n71\n00:03:39.710 --> 00:03:42.960\nAnd so as a result we are now\nable to go in and use this tool.\n\n72\n00:03:42.960 --> 00:03:44.660\nSo I just wanna make sure\nyou're aware of that.\n\n73\n00:03:44.660 --> 00:03:49.275\nAnd then the commands that allow\nus to be able to work here.\n\n74\n00:03:50.715 --> 00:03:56.705\nAs you can see, we just scroll over, so\nyou can see here that we do have a whole\n\n75\n00:03:56.705 --> 00:04:01.530\nbunch, if I can scroll down, a whole\nbunch of commands associated with this.\n\n76\n00:04:01.530 --> 00:04:06.370\nI use the boot sequence, right, the one\ntime boot sequence, or display order, or\n\n77\n00:04:06.370 --> 00:04:07.070\ndefault.\n\n78\n00:04:07.070 --> 00:04:10.280\nWe do a whole bunch of different\nthings to run and set this up.\n\n79\n00:04:10.280 --> 00:04:11.760\nSo I've gone in, done this.\n\n80\n00:04:11.760 --> 00:04:14.915\nSo what we're going to do now is just\nissue a shut down and restart command to\n\n81\n00:04:14.915 --> 00:04:17.890\nget the machine to come back up so\nthat I can actually interact with it.\n\n82\n00:04:17.890 --> 00:04:20.332\nSo let me just type this in real quick.\n\n83\n00:04:20.332 --> 00:04:22.300\nWhat we'll do is do shut down.\n\n84\n00:04:22.300 --> 00:04:24.612\nAnd actually,\nyou know what I have to do, most likely?\n\n85\n00:04:24.612 --> 00:04:25.980\nLet me just do it this way.\n\n86\n00:04:25.980 --> 00:04:28.990\nI'll do it here, but it's probably not\ngoing to work because the console's not\n\n87\n00:04:28.990 --> 00:04:30.760\nquick enough to come back and\nusually get me in.\n\n88\n00:04:30.760 --> 00:04:32.030\nBut we'll see if we can do it.\n\n89\n00:04:32.030 --> 00:04:33.890\nIf not, I'll actually power it off and\n\n90\n00:04:33.890 --> 00:04:37.840\nstart it back up again because we may have\nto do that to actually get it to work.\n\n91\n00:04:37.840 --> 00:04:40.310\nBut let's just give this a shot.\n\n92\n00:04:40.310 --> 00:04:43.830\nWe'll see if shutting it down and\nthen restarting it in the console window\n\n93\n00:04:43.830 --> 00:04:46.840\nbefore I restart the VM from\nscratch will give us the option.\n\n94\n00:04:46.840 --> 00:04:47.400\nHopefully it will.\n\n95\n00:04:47.400 --> 00:04:49.260\nSo we'll wait here just a minute.\n\n96\n00:04:49.260 --> 00:04:53.010\nWe're gonna get the boot loader menu,\nthat old style boot loader menu hopefully.\n\n97\n00:04:53.010 --> 00:04:54.445\nAnd we will be able to see it.\n\n98\n00:04:54.445 --> 00:04:56.075\nSo let me just center this so\nyou can see what it looks like.\n\n99\n00:04:56.075 --> 00:04:57.947\nThere we go, right there, right?\n\n100\n00:04:57.947 --> 00:04:59.425\nYou're probably familiar with that.\n\n101\n00:04:59.425 --> 00:05:01.145\nHopefully you've seen that before.\n\n102\n00:05:01.145 --> 00:05:04.179\nAnd we do have the ability there,\nas you can see,\n\n103\n00:05:04.179 --> 00:05:07.817\nto get our 30 second countdown\nto get in to the boot menu.\n\n104\n00:05:07.817 --> 00:05:12.830\nAnd we can highlight this here,\nif we wanna choose the OS or press F8.\n\n105\n00:05:12.830 --> 00:05:17.780\nAnd of course,\nthe challenge is, there we go,\n\n106\n00:05:17.780 --> 00:05:22.290\non the Mac getting F8 to cooperate is not\nalways the easiest thing in the world.\n\n107\n00:05:22.290 --> 00:05:25.346\n&gt;&gt; Getting into those virtual machines,\npushing those commands through.\n\n108\n00:05:25.346 --> 00:05:26.360\n&gt;&gt; Yeah, but that's okay.\n\n109\n00:05:26.360 --> 00:05:27.170\n&gt;&gt; It worked.\n&gt;&gt; It did,\n\n110\n00:05:27.170 --> 00:05:29.509\ncuz I threatened it before\nwe came back on the air.\n\n111\n00:05:29.509 --> 00:05:31.560\n&gt;&gt; [LAUGH]\n&gt;&gt; Told that I was going to leave it\n\n112\n00:05:31.560 --> 00:05:34.690\nunplugged here and let it run down\nto nothing if it didn't behave.\n\n113\n00:05:34.690 --> 00:05:39.595\nAll right, so you can see that I pressed\nF8 to get to the recovery options here for\n\n114\n00:05:39.595 --> 00:05:40.330\nadvanced boot.\n\n115\n00:05:40.330 --> 00:05:42.929\nYou'll see we are advanced\nbooting server 12r2.\n\n116\n00:05:42.929 --> 00:05:45.290\nLet's get my menu, or\nrather my mouse there.\n\n117\n00:05:45.290 --> 00:05:46.075\nSo let's scroll down.\n\n118\n00:05:46.075 --> 00:05:47.210\nWe can repair and unrepair.\n\n119\n00:05:47.210 --> 00:05:50.570\nAnd under repair you'll see we have\nSafe Mode, Safe Mode Networking,\n\n120\n00:05:50.570 --> 00:05:52.770\nSafe Mode with Command Prompt, right?\n\n121\n00:05:52.770 --> 00:05:56.064\nI could just obviously arrow down\nto see the different options,\n\n122\n00:05:56.064 --> 00:06:00.518\nEnable Boot Logging, Enable low video\nresolution, Last Known Good Configuration,\n\n123\n00:06:00.518 --> 00:06:04.361\nto restore or perhaps remove changes\nthat may have modified the registry or\n\n124\n00:06:04.361 --> 00:06:06.148\nrendered the system inoperable.\n\n125\n00:06:06.148 --> 00:06:08.255\nAs long as I haven't\nlogged on successfully,\n\n126\n00:06:08.255 --> 00:06:11.680\nI may be able to recover using last\nknown good, since the incident.\n\n127\n00:06:11.680 --> 00:06:13.290\nI get directory services repair mode.\n\n128\n00:06:13.290 --> 00:06:16.206\nWe've taken a look at that,\nsome of our earlier conversations and\n\n129\n00:06:16.206 --> 00:06:17.985\ndiscussions around Active Directory.\n\n130\n00:06:17.985 --> 00:06:23.277\nDebug mode, disable automatic restart on\nsystem failure, whatever the case may be.\n\n131\n00:06:23.277 --> 00:06:26.125\nAnd so I also, by the way,\ncan opt and start Windows normally.\n\n132\n00:06:26.125 --> 00:06:30.578\nAnd so if I need to, I can come in and\nI can do a variety of different things\n\n133\n00:06:30.578 --> 00:06:35.479\nliterally just by highlighting the\nappropriate one, maybe Last Known Good,\n\n134\n00:06:35.479 --> 00:06:37.250\nfor instance, right?\n\n135\n00:06:37.250 --> 00:06:40.800\nAnd I can come in and\nhighlight whichever option I'm gonna use.\n\n136\n00:06:40.800 --> 00:06:44.061\nAnd then based on that I can go ahead,\n\n137\n00:06:44.061 --> 00:06:48.481\nand if I choose repair mode,\nrepair my computer,\n\n138\n00:06:48.481 --> 00:06:53.860\nplease wait, loading files,\nso give it just a second.\n\n139\n00:06:53.860 --> 00:06:55.498\nI have several different options.\n\n140\n00:06:55.498 --> 00:06:58.250\nI can leverage here to be able to\ndo a variety of different things.\n\n141\n00:06:58.250 --> 00:07:01.634\nBut the point is ultimately I'm able to\nuse the BCDEdit tool to be able to get to\n\n142\n00:07:01.634 --> 00:07:04.290\nthis menu, because normally we\ndon't see this menu because\n\n143\n00:07:04.290 --> 00:07:07.154\nthe restart variable is set to zero,\nso we never get the prompt and\n\n144\n00:07:07.154 --> 00:07:10.206\nwe can't actually get to it by default-\n&gt;&gt; Right, it happens so fast.\n\n145\n00:07:10.206 --> 00:07:12.040\n&gt;&gt; In the OS these days.\n\n146\n00:07:12.040 --> 00:07:15.600\nSo I can use BCDEdit to get to that and\nactually use that.\n\n147\n00:07:15.600 --> 00:07:18.972\nNow this may look familiar to you if\nyou saw the last episode where I did\n\n148\n00:07:18.972 --> 00:07:20.380\nthe bare-metal recovery.\n\n149\n00:07:20.380 --> 00:07:22.676\nI went in, used this option, but\n\n150\n00:07:22.676 --> 00:07:27.980\nI restarted the machine by booting to\nthe OS media and then shows repair.\n\n151\n00:07:27.980 --> 00:07:31.590\nI can also do it from this\nmenu if I have used BCDEditor\n\n152\n00:07:31.590 --> 00:07:35.020\nwhen the machine was available to\nmodify the menu and put it in there.\n\n153\n00:07:35.020 --> 00:07:37.800\nOr if I was smart and\nplanned ahead and made it available.\n\n154\n00:07:37.800 --> 00:07:42.350\nBut if I didn't, I have an option by\nloading the media, the server 12 R2 media,\n\n155\n00:07:42.350 --> 00:07:45.240\nboot to that, hit the repair option,\nwe get to the same place.\n\n156\n00:07:45.240 --> 00:07:48.150\nYou saw me do this if you've\nseen the last episode.\n\n157\n00:07:48.150 --> 00:07:50.730\nIf you haven't, well,\nyou should go back and take a look.\n\n158\n00:07:50.730 --> 00:07:54.030\nCuz we went in and we did this,\nbut did it from the other machine.\n\n159\n00:07:54.030 --> 00:07:58.340\nSo I could access the recovery partition\nthat is available here locally for\n\n160\n00:07:58.340 --> 00:08:01.640\nthe bare metal recovery and\nmake that restoration.\n\n161\n00:08:01.640 --> 00:08:04.140\nDid that over the network and\nbooted the machine back up and\n\n162\n00:08:04.140 --> 00:08:05.830\ndid a bare metal recovery.\n\n163\n00:08:05.830 --> 00:08:07.540\nSo here I could just continue.\n\n164\n00:08:07.540 --> 00:08:08.890\nGo ahead, boot back up.\n\n165\n00:08:08.890 --> 00:08:11.050\nWe get back to this option.\n\n166\n00:08:11.050 --> 00:08:14.190\nAgain we'll be able hit F8\nif we want to or whatever.\n\n167\n00:08:14.190 --> 00:08:18.240\nAnd once we do that, we'd be able\nto boot back up, or in this case\n\n168\n00:08:18.240 --> 00:08:22.080\nwill boot successfully right into the OS\ncuz it throws us right into the new, or\n\n169\n00:08:22.080 --> 00:08:24.220\nrather right into the OS this time.\n\n170\n00:08:24.220 --> 00:08:27.860\nBut you can see we're able to do\na variety of things from that menu.\n\n171\n00:08:27.860 --> 00:08:29.100\nAnd so I can boot up.\n\n172\n00:08:29.100 --> 00:08:30.530\nI can use safe mode.\n\n173\n00:08:30.530 --> 00:08:31.710\nI can use last known good.\n\n174\n00:08:31.710 --> 00:08:33.508\nI can use the recovery option.\n\n175\n00:08:33.508 --> 00:08:36.650\nYou'll see it starting up,\nwhatever we need to do.\n\n176\n00:08:36.650 --> 00:08:40.590\nSo keep in mind that BCDEdit\nwill allow us to be successful\n\n177\n00:08:40.590 --> 00:08:41.900\nat doing these kind of things.\n\n178\n00:08:41.900 --> 00:08:45.140\nAnd it's important for\nyou to think about the logic of that.\n\n179\n00:08:45.140 --> 00:08:47.260\nJust closing up the console\nwhile we're talking.\n\n180\n00:08:47.260 --> 00:08:49.791\nI'm just gonna bring down the machine and\n\n181\n00:08:49.791 --> 00:08:53.198\nthen I'm going to [COUGH]\nstart it back up again, right?\n\n182\n00:08:53.198 --> 00:08:55.788\nSo I'm gonna kill the DC so\nI can bring it back up and\n\n183\n00:08:55.788 --> 00:08:59.570\nstart it back up the right way\nwithout waiting on that whole process.\n\n184\n00:08:59.570 --> 00:09:02.826\nDon't do this in production by the way,\nnot a good idea.\n\n185\n00:09:02.826 --> 00:09:05.488\n&gt;&gt; [LAUGH] Let's see how many times\nwe can restart in the next hour.\n\n186\n00:09:05.488 --> 00:09:07.075\n&gt;&gt; Especially the domain controller.\n\n187\n00:09:07.075 --> 00:09:10.390\nYou don't just wanna take it down hard\nlike I just did and cause system failure.\n\n188\n00:09:10.390 --> 00:09:12.920\nBut you can obviously,\nif you need to, do that.\n\n189\n00:09:12.920 --> 00:09:15.250\nI just wanted to get\nback to this menu just so\n\n190\n00:09:15.250 --> 00:09:19.290\nwe could see it and\nget back in there real quick, right?\n\n191\n00:09:19.290 --> 00:09:20.515\nCuz it was gonna boot back into the OS.\n\n192\n00:09:20.515 --> 00:09:22.030\nWe weren't gonna see it.\n\n193\n00:09:22.030 --> 00:09:23.950\nSo you saw I was able to restart.\n\n194\n00:09:23.950 --> 00:09:26.774\nI could also use last known\ngood configuration here.\n\n195\n00:09:26.774 --> 00:09:29.110\nI just wanted to show you that real quick.\n\n196\n00:09:29.110 --> 00:09:32.160\nSelect that just so you could see\nthat we had that option as well.\n\n197\n00:09:32.160 --> 00:09:34.415\nThese are old school recovery mechanisms,\nright?\n\n198\n00:09:34.415 --> 00:09:37.470\nWe're kind of cloaked in a nice console\nnow that you saw me boot into with\n\n199\n00:09:37.470 --> 00:09:38.265\nthe blue screen.\n\n200\n00:09:38.265 --> 00:09:42.660\nYou use the Windows RE, the recovery\nenvironment, which is what you saw, right?\n\n201\n00:09:42.660 --> 00:09:45.280\nBut we also have these older\nmechanisms that are there.\n\n202\n00:09:45.280 --> 00:09:46.520\nThey're under the hood.\n\n203\n00:09:46.520 --> 00:09:48.130\nIt's just that we don't\nalways know they're there,\n\n204\n00:09:48.130 --> 00:09:50.660\nunless we use a tool like\nBCDEdit to get to them.\n\n205\n00:09:50.660 --> 00:09:54.020\nAnd so you could see what last known good\nwill do there which is what it was about\n\n206\n00:09:54.020 --> 00:09:55.330\nto do when I shut it off.\n\n207\n00:09:55.330 --> 00:09:59.100\nWhich is that it will go through and\nrestore the current control set from\n\n208\n00:09:59.100 --> 00:10:03.190\nthe last known good boot and log me in\nwith that allowing me to wipe out whatever\n\n209\n00:10:03.190 --> 00:10:06.080\nchanges may have been made that\nmay have compromised the system.\n\n210\n00:10:06.080 --> 00:10:07.840\nBut I haven't logged on successfully.\n\n211\n00:10:07.840 --> 00:10:12.060\nIf I blew the system up but did not log\nback in, then last known good may fix it.\n\n212\n00:10:12.060 --> 00:10:15.940\nIf I have logged in, and then the system\nwent bad then I would have a problem and\n\n213\n00:10:15.940 --> 00:10:17.350\nlast known good would not actually work.\n\n214\n00:10:17.350 --> 00:10:19.030\nSo a couple of different options here.\n\n215\n00:10:19.030 --> 00:10:23.330\nAs you can see,\nwe get back to our log on prompt.\n\n216\n00:10:23.330 --> 00:10:24.770\n&gt;&gt; And you said you blew it up.\n\n217\n00:10:24.770 --> 00:10:28.020\nSo that's something you also kinda wanna\nthink about, too, Adam, because if it was\n\n218\n00:10:28.020 --> 00:10:34.200\nlike a misconfiguration of that machine,\nthen this would be a perfect tool.\n\n219\n00:10:34.200 --> 00:10:38.289\nBut if it was something like malware, then\nthis wouldn't be a viable option for us.\n\n220\n00:10:38.289 --> 00:10:41.940\n&gt;&gt; Last known good may prevent that from\nhappening or may remove that as well.\n\n221\n00:10:41.940 --> 00:10:44.700\nIt's hard to say,\ndepends on the nature of the problem.\n\n222\n00:10:44.700 --> 00:10:49.050\nBut the key there is that you\ncannot log back into the system.\n\n223\n00:10:49.050 --> 00:10:52.180\nBecause once you do you'll\noverwrite the control set\n\n224\n00:10:52.180 --> 00:10:55.060\nthat is being used to safely boot you up,\nand\n\n225\n00:10:55.060 --> 00:10:58.820\nthat control set now is going to be the\ncontrol set that references the malware.\n\n226\n00:10:58.820 --> 00:11:02.300\nSo if you get infected with malware,\njust hypothetically,\n\n227\n00:11:02.300 --> 00:11:04.290\nyou shut the machine down immediately.\n\n228\n00:11:04.290 --> 00:11:05.820\nYou do not log back in.\n\n229\n00:11:05.820 --> 00:11:09.666\nYou reboot into safe mode like we\nshowed you and use last known good.\n\n230\n00:11:09.666 --> 00:11:11.860\nI'm not suggesting that it\nwill get rid of the malware.\n\n231\n00:11:11.860 --> 00:11:15.170\nIt depends on the type of malware,\nwhere it infected the system, what it did.\n\n232\n00:11:15.170 --> 00:11:16.950\nIt's very hard to say.\n\n233\n00:11:16.950 --> 00:11:21.580\nBut there's a likely possibility that you\nwill be able to recover the system back\n\n234\n00:11:21.580 --> 00:11:23.990\nto a state where the malware is not there.\n\n235\n00:11:23.990 --> 00:11:26.155\nAlthough this is not designed\nto remove malware, so\n\n236\n00:11:26.155 --> 00:11:30.620\nchances are good the last known good will\nnot remove all vestiges of the malware.\n\n237\n00:11:30.620 --> 00:11:31.900\nSo you may still be infected.\n\n238\n00:11:31.900 --> 00:11:33.306\nIt's not designed for that.\n\n239\n00:11:33.306 --> 00:11:36.085\nIt's really designed to remove\nconfiguration settings and\n\n240\n00:11:36.085 --> 00:11:39.230\nchanges that may have affected\nthe stability of the system.\n\n241\n00:11:39.230 --> 00:11:42.180\nNow malware is known to do\nwhat I just described so\n\n242\n00:11:42.180 --> 00:11:45.490\nchanges the malware has\nmade can be reverted by\n\n243\n00:11:45.490 --> 00:11:50.110\nremoving them because the control set that\nrefers to them is not gonna be loaded.\n\n244\n00:11:50.110 --> 00:11:54.098\nBut the prior control set before\nthe malware was infecting the system\n\n245\n00:11:54.098 --> 00:11:55.000\nwill be loaded.\n\n246\n00:11:55.000 --> 00:11:57.940\nSo it is possible that the malware's\neffect can be mitigated,\n\n247\n00:11:57.940 --> 00:11:59.005\nmaybe even removed.\n\n248\n00:11:59.005 --> 00:12:03.133\nBut a more likely scenario is that\nsystem restore, which you may or\n\n249\n00:12:03.133 --> 00:12:07.999\nmay not have access to, would be good\nbecause system restore time travels back\n\n250\n00:12:07.999 --> 00:12:12.864\nto a prior snapshot and applies a prior\nversion configuration of the machine,\n\n251\n00:12:12.864 --> 00:12:17.247\nremoving all installed software,\nright, as part of the process..\n\n252\n00:12:17.247 --> 00:12:21.580\nAnd so that would actually get rid of\nwhatever malware may have been added.\n\n253\n00:12:21.580 --> 00:12:23.930\nSo there are different options here.\n\n254\n00:12:23.930 --> 00:12:28.030\nProbably not gonna remove all vestiges\nin the malware, right, just to be clear.\n\n255\n00:12:28.030 --> 00:12:31.730\nBut it would be a last\nknown good configuration,\n\n256\n00:12:31.730 --> 00:12:36.690\nwould modify registry settings back to\na time from the last known control set.\n\n257\n00:12:36.690 --> 00:12:40.850\nIf the malware modified specific registry\nkeys to do whatever it was gonna do,\n\n258\n00:12:40.850 --> 00:12:42.084\nwhich certain malware does,\n\n259\n00:12:42.084 --> 00:12:46.300\nthen we may actually see a positive\nimpact as we remove those keys.\n\n260\n00:12:46.300 --> 00:12:49.221\nSo it's hard to say for\nsure what the outcome would be,\n\n261\n00:12:49.221 --> 00:12:51.570\nbut I would be, if I was a betting person,\n&gt;&gt; [LAUGH]\n\n262\n00:12:51.570 --> 00:12:52.970\n&gt;&gt; I would be betting on the fact that\n\n263\n00:12:52.970 --> 00:12:56.830\nlast known good would not stop\nall problems with the malware,\n\n264\n00:12:56.830 --> 00:12:58.740\nalthough it may make them less obvious.\n\n265\n00:12:58.740 --> 00:13:01.378\nBut we would have to take additional steps\nto really get rid of it most likely.\n\n266\n00:13:01.378 --> 00:13:03.430\n[INAUDIBLE]\n&gt;&gt; Okay, good to know, yeah, definitely.\n\n267\n00:13:03.430 --> 00:13:05.600\n&gt;&gt; Based on what it does, and\nwhat it may or may not do.\n\n268\n00:13:05.600 --> 00:13:06.320\n&gt;&gt; All right.\n\n269\n00:13:06.320 --> 00:13:07.500\n&gt;&gt; Good.\n&gt;&gt; Okay, I think that was it.\n\n270\n00:13:07.500 --> 00:13:08.460\nCan we eat our cake now?\n\n271\n00:13:09.650 --> 00:13:12.550\n&gt;&gt; Okay, just because you asked nicely.\n\n272\n00:13:12.550 --> 00:13:14.750\n&gt;&gt; [LAUGH] All right, thank you so\nmuch for being with us.\n\n273\n00:13:14.750 --> 00:13:17.340\nBut we are going to go ahead and\nsign out for this episode.\n\n274\n00:13:17.340 --> 00:13:20.380\nIt was a pleasure being here with you,\nAdam, and you as well.\n\n275\n00:13:20.380 --> 00:13:22.040\nI've been your host, Cherokee Boose.\n\n276\n00:13:22.040 --> 00:13:22.878\n&gt;&gt; I'm Adam Gordon.\n\n277\n00:13:22.878 --> 00:13:24.784\n&gt;&gt; See you next time here at ITProTV.\n\n278\n00:13:26.402 --> 00:13:32.441\n[MUSIC]\n\n279\n00:13:32.441 --> 00:13:38.429\nThank you for watching ITProTV.\n\n",
          "vimeoId": "233505192"
        },
        {
          "description": "Adam and Mike demonstrate how to set up Hyper-V Replica. In addition, they replicate two virtual machines to demonstrate that the Hyper-V replica service is fully functional.",
          "length": "2390",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-13-1-1-configure_site-level_fault_tolerance-103117-CLN.00_41_05_06.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-13-1-1-configure_site-level_fault_tolerance-103117-CLN.00_41_05_06.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-13-1-1-configure_site-level_fault_tolerance-103117-CLN.00_41_05_06.Still001-sm.jpg",
          "title": "Configure Site-Level Fault Tolerance",
          "transcript": "",
          "vimeoId": "240877942"
        },
        {
          "description": "Adam and Mike finish up demonstrating Hyper-V Replica by configuring and testing Planned Failover, Failover, and the Test Failover options.",
          "length": "1792",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-13-1-2-configure_site-level_fault_tolerance_pt_2-103117-PGM.00_29_54_11.Still001.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-13-1-2-configure_site-level_fault_tolerance_pt_2-103117-PGM.00_29_54_11.Still001-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70412-2017/microsoft-mcsa-server70412-13-1-2-configure_site-level_fault_tolerance_pt_2-103117-PGM.00_29_54_11.Still001-sm.jpg",
          "title": "Configure Site-Level Fault Tolerance Part 2",
          "transcript": "",
          "vimeoId": "240876709"
        }
      ],
      "title": "Implement BC and DR"
    }
  ],
  "url": "mcsa-windows-server-2012-70412-2017",
  "vLab": true
}
