{
  "description": "Over 80% of computers run Microsoft Operating systems. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The MCSA: Windows Server 2012 is designed to be a mid-tier certification for someone who has been working in the field for several years and has had exposure to large and enterprise size deployments of Microsoft Windows and covers topics that are a “must know” for anyone responsible for deploying, maintaining and supporting Windows Server 2012 servers in a corporate or enterprise environment. Server systems often form a critical piece of the day-to-day operations for any business. The MCSA 70-410 Installing and Configuring Windows Server 2012 exam covers topics like how to install Windows server 2012, how to add roles to it so that your server can perform customized functions and other areas that will help the viewer to ensure their computing environment is functional and stable.",
  "descriptionMD": "",
  "length": "80864",
  "name": "MCSA Windows Server 2012 - 70-410",
  "practiceExam": true,
  "subtitle": "Installing and Configuring Windows Server 2012",
  "tagUrl": "legacy",
  "topics": [
    {
      "episodes": [
        {
          "description": "Over 80% of computers run Microsoft Operating systems [reference]. As a result, the Microsoft Certified Solutions Associate is one of the first steps for those seeking to start a technical career. The MCSA: Windows Server 2012 covers topics that are “must know” for anyone responsible for deploying, maintaining and supporting Windows Server 2012 servers in a corporate or enterprise environment. Server systems often form a critical piece of the day-to-day operations for any business. The MCSA covers topics that will help the learner ensure their computing environment is functional and stable.",
          "length": "533",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/microsoftserver2012-0-0-overview-112414.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/microsoftserver2012-0-0-overview-112414-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/microsoftserver2012-0-0-overview-112414-sm.jpg",
          "title": "Overview of Windows Server 2012 R2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:08.758\n[MUSIC]\n\n2\n00:00:08.758 --> 00:00:12.563\nThe MCSA or Microsoft Certified\nSolutions Associate is one of\n\n3\n00:00:12.563 --> 00:00:16.210\nthe more popular\ncertifications from Microsoft.\n\n4\n00:00:16.210 --> 00:00:19.160\nIt's designed to be\na mid-tier certification.\n\n5\n00:00:20.200 --> 00:00:23.530\nGreater knowledge than somebody who's\njust getting started in IT, but\n\n6\n00:00:23.530 --> 00:00:25.450\nnot expert lever, level knowledge.\n\n7\n00:00:25.450 --> 00:00:28.330\nThis is somebody who's been working\nin the field for several years and\n\n8\n00:00:28.330 --> 00:00:33.700\nhas had exposure to large and enterprise\nsize deployments of Microsoft Windows.\n\n9\n00:00:33.700 --> 00:00:37.860\nThe MCSA for\nWindows Server 2012 is probably the most\n\n10\n00:00:37.860 --> 00:00:40.900\ncommonly sought-after\ncertification with Microsoft.\n\n11\n00:00:40.900 --> 00:00:44.190\nThese are for technicians who are not\ngoing to be just working with desktops,\n\n12\n00:00:44.190 --> 00:00:46.450\nbut deploying Windows servers.\n\n13\n00:00:46.450 --> 00:00:50.130\nThese might be email servers,\nfile servers, print servers.\n\n14\n00:00:50.130 --> 00:00:52.040\nThey might be authentication servers.\n\n15\n00:00:52.040 --> 00:00:55.210\nThere's all sorts of different types\nof servers you might deploy, and\n\n16\n00:00:55.210 --> 00:00:58.640\nthe MCSA for Windows Server 2012\ncovers the majority of them.\n\n17\n00:00:58.640 --> 00:01:01.780\nIt shows typical deployment scenarios for\na server.\n\n18\n00:01:01.780 --> 00:01:05.290\nHow to deploy the software successfully,\nhow to secure the software and\n\n19\n00:01:05.290 --> 00:01:09.000\nensure things are working nice and\nsmooth, and how to troubleshoot and\n\n20\n00:01:09.000 --> 00:01:11.680\nisolate and correct issues when they\naren't running nice and smooth,\n\n21\n00:01:11.680 --> 00:01:14.080\nand that makes this really valuable.\n\n22\n00:01:14.080 --> 00:01:18.570\nIf you're working in IT and you're sitting\nat a help desk right now, or you're doing\n\n23\n00:01:18.570 --> 00:01:22.060\nfield repairs on computers and you're\nlooking to move to that next step in your\n\n24\n00:01:22.060 --> 00:01:26.560\ncareer, the MCSA for Windows Server\n2012 is normally that next step, right.\n\n25\n00:01:26.560 --> 00:01:30.090\nThis is what gets you out of the field and\nback at the data center.\n\n26\n00:01:30.090 --> 00:01:32.470\nGets you into the server room,\nworking in equipment there.\n\n27\n00:01:32.470 --> 00:01:35.360\nWhich is usually a little more\nexciting than supporting a desktop.\n\n28\n00:01:35.360 --> 00:01:37.850\nWhich can,\ncan over time become a bit monotonous.\n\n29\n00:01:37.850 --> 00:01:39.360\nI think we've all been there.\n\n30\n00:01:39.360 --> 00:01:41.210\nSo, let's take a look at\nthis certification and\n\n31\n00:01:41.210 --> 00:01:42.720\nget a better idea of what it entails.\n\n32\n00:01:42.720 --> 00:01:46.226\nAll right, the MCSA has been around for\nquite a while now.\n\n33\n00:01:46.226 --> 00:01:49.227\nI don't think it's actually\nreached ten years yet but it's,\n\n34\n00:01:49.227 --> 00:01:51.090\nit's a good seven years at least.\n\n35\n00:01:51.090 --> 00:01:54.410\nAnd it's designed to be the,\nwell that mid-tier certification.\n\n36\n00:01:54.410 --> 00:01:56.500\nThe name has changed a little\nbit over the years, but\n\n37\n00:01:56.500 --> 00:01:59.560\nnow it's just the Microsoft\nCertified Solutions Associate.\n\n38\n00:01:59.560 --> 00:02:02.500\nAnd Microsoft actually has\nseveral different ones.\n\n39\n00:02:02.500 --> 00:02:05.570\nThe one we're about to cover is\nthe one for Windows Server 2012.\n\n40\n00:02:05.570 --> 00:02:10.130\nIf your position within the company is\none that allows you to work on servers,\n\n41\n00:02:10.130 --> 00:02:11.900\nthat's what this is designed for.\n\n42\n00:02:11.900 --> 00:02:15.940\nIf you're still at the desktop level but\nyou want to move into the server world,\n\n43\n00:02:15.940 --> 00:02:18.390\nagain, this is the place\nthat you wanna go.\n\n44\n00:02:18.390 --> 00:02:21.600\nBut, if you're looking to\ndo desktop support, well,\n\n45\n00:02:21.600 --> 00:02:23.840\nthe server technologies,\nthey can be helpful.\n\n46\n00:02:23.840 --> 00:02:26.230\nThey help you to understand what's\ngoing on on the server side.\n\n47\n00:02:26.230 --> 00:02:28.440\nBut it's not necessarily\nthe right place for you to start.\n\n48\n00:02:28.440 --> 00:02:32.840\nYou typically want to go to the MCSA for\nWindows 8 or MCSA for Windows 7.\n\n49\n00:02:32.840 --> 00:02:35.250\nNow, if you're just\ngetting started in IT so\n\n50\n00:02:35.250 --> 00:02:40.250\nyou've got a resume full of other jobs and\nyou're looking to launch an IT career.\n\n51\n00:02:40.250 --> 00:02:44.460\nWell again the MCSA for Windows servers\nis not really a great starting point.\n\n52\n00:02:44.460 --> 00:02:46.120\nIn order to set up a server,\n\n53\n00:02:46.120 --> 00:02:49.590\nthere's a lot of foundational\nknowledge that you need to have.\n\n54\n00:02:49.590 --> 00:02:52.750\nSo if you're just starting out,\nI recommend you jump over to\n\n55\n00:02:52.750 --> 00:02:56.440\nlike the CompTIA A+ and\nCompTIA Network Plus certifications.\n\n56\n00:02:56.440 --> 00:02:59.940\nThose are great starting points for\nlaunching an IT career.\n\n57\n00:02:59.940 --> 00:03:02.470\nIf you're just getting started\nin technology altogether you\n\n58\n00:03:02.470 --> 00:03:07.440\nprobably wanna go to either\nthe CompTIA IT Fundamentals or the MTA,\n\n59\n00:03:07.440 --> 00:03:09.570\nthe Microsoft Technology Associate.\n\n60\n00:03:09.570 --> 00:03:13.410\nThat's designed for people that are just\ngetting their feet wet in the IT world.\n\n61\n00:03:13.410 --> 00:03:15.270\nYou'll learn about basic\noperating systems.\n\n62\n00:03:15.270 --> 00:03:18.740\nNow, that's foundational knowledge\nthat you're expected to already\n\n63\n00:03:18.740 --> 00:03:21.050\nhave by the time you get\nto the server level.\n\n64\n00:03:21.050 --> 00:03:22.400\nSo if you don't possess it,\n\n65\n00:03:22.400 --> 00:03:25.360\nthere's things that we'll cover in there\nthat might be a little over your head.\n\n66\n00:03:25.360 --> 00:03:26.940\nThat if you've missed\nthe foundational knowledge,\n\n67\n00:03:26.940 --> 00:03:28.600\nyou won't be able to build on top of it.\n\n68\n00:03:28.600 --> 00:03:31.120\nSo, definitely check out those\nother certifications if you\n\n69\n00:03:31.120 --> 00:03:32.560\nhaven't done those yet.\n\n70\n00:03:32.560 --> 00:03:33.770\nBut, if you're ready for\n\n71\n00:03:33.770 --> 00:03:37.650\nWindows Server, then the MCSA\n2012 is where you want to go.\n\n72\n00:03:37.650 --> 00:03:42.620\nNow, the MCSA 2012 is actually\nbuilt on three different exams,\n\n73\n00:03:42.620 --> 00:03:46.080\nand each one kind of divides\nthe topic up a little bit.\n\n74\n00:03:46.080 --> 00:03:48.350\nSo, here we can see the three\ndifferent exams, and\n\n75\n00:03:48.350 --> 00:03:51.410\nwe divide it here on ITPROTV\ninto three separate shows.\n\n76\n00:03:51.410 --> 00:03:53.840\nThere's the 70-410, 411 and 412 shows.\n\n77\n00:03:55.830 --> 00:03:58.940\nThe first one is installing and\nconfiguring Windows Server 2012.\n\n78\n00:03:58.940 --> 00:04:01.010\nIf this is the first time you've used it,\n\n79\n00:04:01.010 --> 00:04:03.140\nwe'll cover how to install\nWindows Server 2012.\n\n80\n00:04:03.140 --> 00:04:06.920\nHow to get it in place, and\nhow to add roles to it so\n\n81\n00:04:06.920 --> 00:04:09.670\nyour server can actually\nperform customized functions.\n\n82\n00:04:09.670 --> 00:04:11.540\nWe'll talk about\nthe Microsoft Active Directory,\n\n83\n00:04:11.540 --> 00:04:14.970\nwhich is a critical technology\nthroughout your server infrastructure.\n\n84\n00:04:14.970 --> 00:04:18.840\nWe'll talk about other security concepts,\nand just some of the neat bells and\n\n85\n00:04:18.840 --> 00:04:23.020\nwhistles that are included\nin Windows server.\n\n86\n00:04:23.020 --> 00:04:25.680\nThen, in 411, we go into\nAdministering Windows Server 2012.\n\n87\n00:04:25.680 --> 00:04:30.440\nOnce you've brought up these services,\nnow you need to administer them,\n\n88\n00:04:30.440 --> 00:04:31.280\nyou need to run them.\n\n89\n00:04:31.280 --> 00:04:35.100\nYou need to allow it to scale up\nto thousands, tens of thousands,\n\n90\n00:04:35.100 --> 00:04:36.680\nhundreds of thousands of users.\n\n91\n00:04:36.680 --> 00:04:41.000\nYou need to keep it operational and you\nneed to do some advanced functionality.\n\n92\n00:04:41.000 --> 00:04:44.540\nAnd what, that's what we cover in the\nAdministering Windows Server 2012 show.\n\n93\n00:04:45.780 --> 00:04:48.830\nAnd then the end of it is the 70-412\n\n94\n00:04:48.830 --> 00:04:52.930\nwhich is Configuring Advanced\nWindows Server 2012 Services.\n\n95\n00:04:52.930 --> 00:04:56.890\nWe actually revisit some of the services\nfrom the first two shows, and\n\n96\n00:04:56.890 --> 00:05:00.310\ngo more in depth,\nshowing some advanced configurations, and\n\n97\n00:05:00.310 --> 00:05:04.550\nthen we phase in some new technologies\nlike Active Directory Federated Services\n\n98\n00:05:04.550 --> 00:05:08.040\nthat are extremely complex and\nchallenging.\n\n99\n00:05:08.040 --> 00:05:10.780\nNot useful at all for\nsmall and medium businesses.\n\n100\n00:05:10.780 --> 00:05:13.990\nBut for large and\nenterprise businesses can revolutionize\n\n101\n00:05:13.990 --> 00:05:15.630\nthe way that you offer\nservices on the web.\n\n102\n00:05:15.630 --> 00:05:19.740\nSo, definitely stuff that you want\nto be aware of, and get exposed to.\n\n103\n00:05:19.740 --> 00:05:25.580\nNow these exams are designed to be taken\nin order, so you should start with 70 410.\n\n104\n00:05:25.580 --> 00:05:28.420\nAnd then go on to 411 and\nthen wrap it up with 412.\n\n105\n00:05:28.420 --> 00:05:31.170\nIf you take them out of order,\n\n106\n00:05:31.170 --> 00:05:35.270\neach exam assumes you already have\nthe knowledge from the prior exams.\n\n107\n00:05:35.270 --> 00:05:37.490\nSo for example if you start out on 412,\n\n108\n00:05:37.490 --> 00:05:40.680\nit assumes you already\nhave a passing knowledge.\n\n109\n00:05:40.680 --> 00:05:43.720\nLike you passed the exam,\nnot just in passing.\n\n110\n00:05:43.720 --> 00:05:46.540\nOf 410 and 411.\nIf you don't do that, you'll,\n\n111\n00:05:46.540 --> 00:05:49.340\nyou'll get over your head pretty quick and\nthen you get frustrated and\n\n112\n00:05:49.340 --> 00:05:51.470\nit's hard to be successful\nwhen you're frustrated.\n\n113\n00:05:51.470 --> 00:05:54.470\nSo you do wanna pursue those in order.\n\n114\n00:05:54.470 --> 00:05:59.220\nNow for me, I always recommend that\npeople go ahead and do all three.\n\n115\n00:05:59.220 --> 00:06:01.310\nJust watch all three in order.\n\n116\n00:06:01.310 --> 00:06:04.030\nEven before taking that 410 exam.\n\n117\n00:06:04.030 --> 00:06:08.890\nAnd the reason I say that is, each one\nbuilds on the one from before it so\n\n118\n00:06:08.890 --> 00:06:10.200\nthere's some overlap.\n\n119\n00:06:10.200 --> 00:06:13.560\nAnd that means you're seeing the same\ntechnologies multiple times and\n\n120\n00:06:13.560 --> 00:06:15.030\nyou learn more about it.\n\n121\n00:06:15.030 --> 00:06:18.860\nIf you were to watch all three of\nthese shows, 410, 411, and 412,\n\n122\n00:06:18.860 --> 00:06:23.690\nyou'll be much more likely to pass that\n410 exam the first time you go in there\n\n123\n00:06:23.690 --> 00:06:25.990\ncuz you've seen the technology so\nmany times.\n\n124\n00:06:25.990 --> 00:06:26.620\nAll right?\n\n125\n00:06:26.620 --> 00:06:29.120\nSo how you choose to watch\nthem is ultimately up to you,\n\n126\n00:06:29.120 --> 00:06:32.360\nbut at a minimum,\nyou do want to watch them in order.\n\n127\n00:06:32.360 --> 00:06:35.550\nStart with 410, and\nthen move through each.\n\n128\n00:06:35.550 --> 00:06:38.800\nWhen you're ready to take the exam,\nthe exams are administered through\n\n129\n00:06:38.800 --> 00:06:42.540\nPearson VUE, so\nyou'll just jump over to their website.\n\n130\n00:06:42.540 --> 00:06:45.930\nYou can go straight to it at\nwww.pearsonvue.com/Microsoft.\n\n131\n00:06:45.930 --> 00:06:48.770\nThat'll take you to Microsoft's page.\n\n132\n00:06:48.770 --> 00:06:53.957\nAnd remember VUE is spelled V U E and\nso it's pearsonvue.com/microsoft.\n\n133\n00:06:53.957 --> 00:06:59.200\nThe exams are $150 a piece and\nyou gotta take three of them so\n\n134\n00:06:59.200 --> 00:07:02.510\nunfortunately there is a little bit\nof a shock to the wallet on this one.\n\n135\n00:07:02.510 --> 00:07:07.500\nAssuming you pass on the first time it'll\nbe about $450 to take the three exams.\n\n136\n00:07:07.500 --> 00:07:11.420\nOnce you pass,\nyou get your MCSA Window's Server 2012.\n\n137\n00:07:11.420 --> 00:07:17.830\nNow the MCSA Windows Server 2012 is also\nthe first step in obtaining the MCSE.\n\n138\n00:07:17.830 --> 00:07:21.120\nSo once you've completed this\ncertification the next step is that\n\n139\n00:07:21.120 --> 00:07:22.840\nMCSE that you hear a lot\nof people talk about.\n\n140\n00:07:22.840 --> 00:07:26.310\nRight, that's the, the certification\nMicrosoft has that's the most famous.\n\n141\n00:07:26.310 --> 00:07:28.720\nEverybody's heard of the MCSE.\n\n142\n00:07:28.720 --> 00:07:30.500\nAnd that's a lot of people's goal.\n\n143\n00:07:30.500 --> 00:07:34.490\nBut, the MCSE is not designed for\nsomebody getting started.\n\n144\n00:07:34.490 --> 00:07:38.140\nIt's for somebody who's already\ngot a wealth of experience.\n\n145\n00:07:38.140 --> 00:07:40.430\nAlready has their MCSA, and\n\n146\n00:07:40.430 --> 00:07:45.450\nis moving into that larger\nconsultant type design environment.\n\n147\n00:07:45.450 --> 00:07:49.380\nAnd that's a lot different than the person\nwho's doing the day to day work.\n\n148\n00:07:49.380 --> 00:07:51.710\nThe MCSA is for the doer.\n\n149\n00:07:51.710 --> 00:07:52.810\nThe person who's in the field.\n\n150\n00:07:52.810 --> 00:07:54.600\nThe grunt who's actually\nmaking things happen.\n\n151\n00:07:54.600 --> 00:07:56.750\nRight?\nYou're the one bringing up servers and\n\n152\n00:07:56.750 --> 00:07:57.310\ntroubleshooting.\n\n153\n00:07:57.310 --> 00:07:58.160\nReplacing hard drives.\n\n154\n00:07:58.160 --> 00:08:00.260\nYou're the one who's\nactually making things work.\n\n155\n00:08:00.260 --> 00:08:04.220\nSo in a lot of ways, the knowledge we\ncover in the MCSA certification is more\n\n156\n00:08:04.220 --> 00:08:09.140\nvaluable than what we learn in the MCSE\nand the MCSA is a lot more entertaining in\n\n157\n00:08:09.140 --> 00:08:12.770\nmy opinion because you know, you get\nto use a lot of these technologies.\n\n158\n00:08:12.770 --> 00:08:14.280\nSo keep that in mind as you go through and\n\n159\n00:08:14.280 --> 00:08:18.570\nstudy that the MCSA is a great place to\nstart if you're already somebody who has\n\n160\n00:08:18.570 --> 00:08:22.110\nthat experience and you're looking to get\nthat documented, get it on your resume and\n\n161\n00:08:22.110 --> 00:08:26.200\nlearn all the different things\nthat Windows Server 2012 can do.\n\n162\n00:08:26.200 --> 00:08:29.070\nAll right, well, if that's what you're\nlooking for, you're in the right place.\n\n163\n00:08:29.070 --> 00:08:31.200\nStay tuned, our episodes are coming up.\n\n164\n00:08:31.200 --> 00:08:34.510\nIf not, keep in mind all the other\ncertifications that I mentioned.\n\n165\n00:08:34.510 --> 00:08:36.590\nThere's an appropriate one for\nyou in there somewhere.\n\n166\n00:08:36.590 --> 00:08:39.720\nYou just gotta look to find it and\nthen pursue your goal.\n\n167\n00:08:39.720 --> 00:08:42.890\nRegardless of which route you go,\nI wish you the best of luck on your exam.\n\n168\n00:08:42.890 --> 00:08:44.320\nAnd for those of you sticking with me,\n\n169\n00:08:44.320 --> 00:08:46.272\nI'll see you in the episodes\nhere in just a moment.\n\n170\n00:08:46.272 --> 00:08:53.079\n[SOUND]\n\n",
          "vimeoId": "112924633"
        },
        {
          "description": "In this episode, Daniel and Mike cover installing Windows Server 2012R2 with a GUI interface. Once installed, they demonstrate how to configure the server using server manager and get the server ready for a production environment.",
          "length": "1637",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-1-1-installing_server_with_gui-071315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-1-1-installing_server_with_gui-071315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-1-1-installing_server_with_gui-071315-1-sm.jpg",
          "title": "Installing Server with GUI",
          "transcript": "WEBVTT\n\n1\n00:00:00.007 --> 00:00:10.561\n[MUSIC]\n\n2\n00:00:10.561 --> 00:00:15.000\nAll right greetings everyone, welcome\nto another great episode of ITPro TV.\n\n3\n00:00:15.000 --> 00:00:16.680\nI'm your host Daniel Arin,\nand here with me,\n\n4\n00:00:16.680 --> 00:00:19.130\na man who knows a lot\nabout Windows Server.\n\n5\n00:00:19.130 --> 00:00:20.150\nThat man is Mike Rodrick.\n\n6\n00:00:20.150 --> 00:00:21.330\nHow's it going to day Mike?\n\n7\n00:00:21.330 --> 00:00:22.350\n>> It's going great Daniel.\n\n8\n00:00:22.350 --> 00:00:23.840\nI'm excited to be here.\n\n9\n00:00:23.840 --> 00:00:28.375\nIn this episode, we're gonna look at\ninstalling Windows Server 2012 R2.\n\n10\n00:00:28.375 --> 00:00:30.790\nNow when we install a server there's\na couple of different ways we\n\n11\n00:00:30.790 --> 00:00:31.430\ncould install it.\n\n12\n00:00:31.430 --> 00:00:34.780\nIn this first episode we're\ngonna look at installing it,\n\n13\n00:00:34.780 --> 00:00:36.390\nwhat I would like to call normally.\n\n14\n00:00:36.390 --> 00:00:38.140\n>> Right, just the de facto.\n\n15\n00:00:38.140 --> 00:00:39.010\n>> Yeah, right?\n\n16\n00:00:39.010 --> 00:00:43.050\nWhen you install a server, or you install\nany operating system you expect to\n\n17\n00:00:43.050 --> 00:00:46.260\nfinish it, reboot that machine and\nyou come up and you login and\n\n18\n00:00:46.260 --> 00:00:49.240\nyou've got a desktop and\nall of that good stuff, right and\n\n19\n00:00:49.240 --> 00:00:52.550\nwe can interact with our keyboard and\nour mouse and that kind of thing.\n\n20\n00:00:52.550 --> 00:00:55.370\nAnd we can definitely do that with server,\nit's not the only option.\n\n21\n00:00:55.370 --> 00:00:59.060\nWe're going to cover some of the other\noptions in some later episodes.\n\n22\n00:00:59.060 --> 00:01:02.110\nIn this one, we're going to install\nit again, what I call normally.\n\n23\n00:01:02.110 --> 00:01:06.580\nWhat Microsoft's going to call\nis a full or standard install.\n\n24\n00:01:06.580 --> 00:01:09.150\nThat means we're going to install server,\nand when we're done,\n\n25\n00:01:09.150 --> 00:01:10.660\nwe're going to have a desktop.\n\n26\n00:01:10.660 --> 00:01:11.400\nWe're going to have a GUI.\n\n27\n00:01:11.400 --> 00:01:15.470\nWe're going to have all those\nadministrative tools that we need so\n\n28\n00:01:15.470 --> 00:01:16.790\nto work with our server.\n\n29\n00:01:16.790 --> 00:01:21.400\nAnd I think that's what most people\nare probably used to or accustomed to.\n\n30\n00:01:21.400 --> 00:01:25.620\nBut before we install it, we need to\ntalk about what our requirements are.\n\n31\n00:01:25.620 --> 00:01:28.150\nWe need to know what it\nis that I need to have\n\n32\n00:01:28.150 --> 00:01:32.400\nto make sure that I can successfully\ninstall server 2012 R2.\n\n33\n00:01:32.400 --> 00:01:33.400\n>> I've got a 386 Mike.\n\n34\n00:01:33.400 --> 00:01:36.360\nThat's plenty of horsepower, right?\n\n35\n00:01:36.360 --> 00:01:38.021\n>> Sure, should be perfect, right.\n\n36\n00:01:38.021 --> 00:01:40.705\n[LAUGH] You could use that if\nyou don't want it to work.\n\n37\n00:01:40.705 --> 00:01:42.640\n[LAUGH]\n>> He was hoping.\n\n38\n00:01:42.640 --> 00:01:43.730\n>> Yeah, you know.\n\n39\n00:01:43.730 --> 00:01:47.230\nYou'd be surprised, you're close actually.\n\n40\n00:01:47.230 --> 00:01:48.280\nIt doesn't take a lot.\n\n41\n00:01:48.280 --> 00:01:50.200\nBut it is going to take\na little bit more than a 386.\n\n42\n00:01:50.200 --> 00:01:54.230\nFor the processor, you're going to need\n\n43\n00:01:54.230 --> 00:01:59.340\nat least a 1.4 gigahertz 64 bit processor.\n\n44\n00:01:59.340 --> 00:02:04.270\nFor memory, now get this one Daniel,\n512 megabytes of RAM.\n\n45\n00:02:04.270 --> 00:02:05.380\n>> Wow.\nThat's not a lot.\n\n46\n00:02:05.380 --> 00:02:06.040\n>> It's not much.\n\n47\n00:02:06.040 --> 00:02:07.820\n>> That's, that's pretty cheap nowadays.\n\n48\n00:02:07.820 --> 00:02:08.530\n>> It really is.\n\n49\n00:02:08.530 --> 00:02:11.230\nI mean you can't buy a box\nwith less than that.\n\n50\n00:02:11.230 --> 00:02:15.500\nAnd for your disc space, you're going to\nneed 32 gigabytes of free disk space.\n\n51\n00:02:15.500 --> 00:02:16.480\n>> Also not a lot.\n\n52\n00:02:16.480 --> 00:02:17.352\n>> Easy breezy right.\n\n53\n00:02:17.352 --> 00:02:18.336\n>> [CROSSTALK] I mean it\nwill work out pretty easily.\n\n54\n00:02:18.336 --> 00:02:19.335\n>> Yeah absolutely.\n\n55\n00:02:19.335 --> 00:02:21.580\nHere's the catch though.\n\n56\n00:02:21.580 --> 00:02:25.100\nThose are what we call\nthe minimum system requirements.\n\n57\n00:02:25.100 --> 00:02:30.058\nWhat that means is you can install Server\n2012 R2 with a 1.4 gigahertz processor.\n\n58\n00:02:30.058 --> 00:02:36.300\nA 32 gigabyte drive or freespace,\n32 gigabytes and 512 megabytes of RAM.\n\n59\n00:02:36.300 --> 00:02:40.100\nNow the question is, are you gonna be\nhappy with the performance of that server\n\n60\n00:02:40.100 --> 00:02:41.160\nwhen you're done installing it?\n\n61\n00:02:41.160 --> 00:02:41.752\nWhat do you think, Daniel?\n\n62\n00:02:41.752 --> 00:02:43.713\n>> It'll probably run like a sick dog.\n\n63\n00:02:43.713 --> 00:02:46.465\n[LAUGH] Not very well or far.\n\n64\n00:02:46.465 --> 00:02:47.672\n>> Exactly.\n\n65\n00:02:47.672 --> 00:02:51.515\nIt's gonna just chug along and the other\nthing you've got to keep in mind,\n\n66\n00:02:51.515 --> 00:02:54.370\nthat's just for\nthe operating system itself.\n\n67\n00:02:54.370 --> 00:02:59.060\nSo if I wanna add roles, and I wanna\nadd DNS or DHCP or Active Directory and\n\n68\n00:02:59.060 --> 00:03:02.000\nthings like that, I've gotta go look\nat what the requirements are for\n\n69\n00:03:02.000 --> 00:03:05.730\nthose roles cuz they're gonna require,\nlike DNS is memory intensive.\n\n70\n00:03:05.730 --> 00:03:07.670\nIt has to load of up all of those zones.\n\n71\n00:03:07.670 --> 00:03:10.260\nSo depending on what\nroles we're installing\n\n72\n00:03:10.260 --> 00:03:13.160\nI've gotta add to those requirements.\n\n73\n00:03:13.160 --> 00:03:13.770\nRight?\n\n74\n00:03:13.770 --> 00:03:18.940\nSo yes, you could install Server 2012\nR2 with a 1.4 gigahertz processor,\n\n75\n00:03:18.940 --> 00:03:22.570\n512 megs of RAM,\n32 gigabytes of free disk space.\n\n76\n00:03:22.570 --> 00:03:24.440\nBut in the end,\nyou're never gonna do that.\n\n77\n00:03:24.440 --> 00:03:25.000\nRight?\nBecause you're\n\n78\n00:03:25.000 --> 00:03:28.190\nnot just going to install a server and\nlet it sit there and run.\n\n79\n00:03:28.190 --> 00:03:30.400\nRight.\nBut for the exam you gotta know what those\n\n80\n00:03:30.400 --> 00:03:33.010\nminimum requirements are so\nthat's why we're informing you.\n\n81\n00:03:33.010 --> 00:03:36.090\nBut in the real world, Danny,\nyou're not gonna install a server,\n\n82\n00:03:36.090 --> 00:03:37.650\nprocessor wise, the biggest,\n\n83\n00:03:37.650 --> 00:03:41.200\nbaddest processor you got, as many\nprocessors as you can put in there, right?\n\n84\n00:03:41.200 --> 00:03:42.990\nIt's gonna make it run better.\n\n85\n00:03:42.990 --> 00:03:47.410\nMemory wise, I don't think I've ever run\na server with less than two gigs of RAM.\n\n86\n00:03:47.410 --> 00:03:51.760\nIn a virtualized environment, and\nlooking at some of our install options,\n\n87\n00:03:51.760 --> 00:03:55.475\nmaybe a little bit less, but\nI would say two gigs minimum, real world.\n\n88\n00:03:55.475 --> 00:03:56.908\n[SOUND]\n>> It's a must have.\n\n89\n00:03:56.908 --> 00:04:01.000\nI've run plenty of virtual servers,\nand physical servers.\n\n90\n00:04:01.000 --> 00:04:04.350\nTwo gigs is, in my opinion,\nthe bare minimum.\n\n91\n00:04:04.350 --> 00:04:06.670\nOtherwise, like we said,\nit's gonna run like a sick dog.\n\n92\n00:04:06.670 --> 00:04:11.420\nIt's just not gonna give you even just\na standard experience when you think,\n\n93\n00:04:11.420 --> 00:04:12.580\nthe mouse moves.\n\n94\n00:04:12.580 --> 00:04:14.740\n>> [LAUGH]\n>> And you double click on something and\n\n95\n00:04:14.740 --> 00:04:17.230\nit opens up in some sort of timely manner.\n\n96\n00:04:17.230 --> 00:04:19.120\nOr you're not running\noff to the bathroom and\n\n97\n00:04:19.120 --> 00:04:20.500\ngetting a cup of coffee,\nand doing all that.\n\n98\n00:04:20.500 --> 00:04:22.790\nYou come back, you're still waiting for\nthe hourglass to spin.\n\n99\n00:04:22.790 --> 00:04:24.430\nNow, we want some performance.\n\n100\n00:04:24.430 --> 00:04:27.380\nServers usually require\na little bit performance.\n\n101\n00:04:27.380 --> 00:04:32.550\nLike Mike said, you can put this\non a minimal amount of hardware,\n\n102\n00:04:32.550 --> 00:04:33.820\nand they give you that.\n\n103\n00:04:33.820 --> 00:04:35.530\nAnd that's for like worst case scenario.\n\n104\n00:04:35.530 --> 00:04:39.540\nThis is all you have laying around,\nold stuff sitting in a closet somewhere.\n\n105\n00:04:39.540 --> 00:04:42.740\nBut if you have the means,\nwe're going to go ahead and tell you.\n\n106\n00:04:42.740 --> 00:04:44.700\nGo ahead and\ngrab some more hard drive space,\n\n107\n00:04:44.700 --> 00:04:47.640\ngo ahead and grab some more CPU power,\na little more RAM.\n\n108\n00:04:47.640 --> 00:04:50.610\nYou'll probably have an easier time\nmaking this thing do what it is.\n\n109\n00:04:50.610 --> 00:04:52.225\nYou'd like it to do right Mike.\n\n110\n00:04:52.225 --> 00:04:53.620\n>> Exactly, exactly.\n\n111\n00:04:53.620 --> 00:04:56.940\nSo give it as much resources\nas you've got available\n\n112\n00:04:56.940 --> 00:04:58.570\nto make that performance acceptable.\n\n113\n00:04:58.570 --> 00:05:01.220\nAll right so\nwe've got our minimum requirements down.\n\n114\n00:05:01.220 --> 00:05:04.740\nThe next thing we've got to do is just\ngo ahead and install Server 2012 R2 and\n\n115\n00:05:04.740 --> 00:05:09.820\nlike I said we can install server\na couple of different ways.\n\n116\n00:05:09.820 --> 00:05:12.240\nAnd I'll show you when we\ngo through our demo here.\n\n117\n00:05:12.240 --> 00:05:14.160\nSo let me go ahead and fire up my machine.\n\n118\n00:05:15.840 --> 00:05:20.320\nAnd I've got a virtual machine here and\nit's already got the ISO loaded up so\n\n119\n00:05:20.320 --> 00:05:23.880\nyour Server 2012 R2 disc\nis in the CD-ROM drive.\n\n120\n00:05:25.240 --> 00:05:29.790\nAnd while that's loading up I'm\ngonna go run grab a key for\n\n121\n00:05:29.790 --> 00:05:32.890\nthis and I can throw this link\nout there for you guys later.\n\n122\n00:05:32.890 --> 00:05:36.270\nThese are some KMS keys\nprovided by Microsoft.\n\n123\n00:05:36.270 --> 00:05:39.330\nThey're not valid keys,\nthey won't actually activate,\n\n124\n00:05:39.330 --> 00:05:43.070\nthey'll allow to get through that\ninstall for labs and things like that.\n\n125\n00:05:43.070 --> 00:05:47.030\nThey're designed really for KMS setups\nwhen you're setting up a licensing server\n\n126\n00:05:47.030 --> 00:05:50.040\nbut you need to get the image installed\nfirst before it can reach out and\n\n127\n00:05:50.040 --> 00:05:51.630\ntalk to your licensing server.\n\n128\n00:05:51.630 --> 00:05:53.120\nThat's what those keys are for.\n\n129\n00:05:53.120 --> 00:05:55.570\nSo I'm gonna grab one of those real quick.\n\n130\n00:05:55.570 --> 00:05:57.250\nAnd now back over to the virtual machine.\n\n131\n00:05:57.250 --> 00:05:59.810\nSo, again, I've put that disk in and\n\n132\n00:05:59.810 --> 00:06:02.540\nof course the server\n2012 R2 disk is bootable.\n\n133\n00:06:02.540 --> 00:06:03.710\nSo the server is booting up.\n\n134\n00:06:03.710 --> 00:06:05.530\nThere's nothing on the hard drive.\n\n135\n00:06:05.530 --> 00:06:09.170\nSo I didn't have to hit, like,\nthe any key to boot to the CD Rom.\n\n136\n00:06:09.170 --> 00:06:10.070\nIt's gonna straight to it.\n\n137\n00:06:10.070 --> 00:06:13.040\nBecause it sees that there's\nnothing on the hard drive there.\n\n138\n00:06:13.040 --> 00:06:16.160\n>> I would assume this would\nalso work with USB drives and\n\n139\n00:06:16.160 --> 00:06:19.860\njust putting the ISO on that, and\npop that in set it to boot from USB.\n\n140\n00:06:19.860 --> 00:06:21.230\nYou'll probably get the same effect.\n\n141\n00:06:21.230 --> 00:06:21.880\n>> Exactly.\n\n142\n00:06:21.880 --> 00:06:25.210\nThe only thing you might have to do is\nmake sure in the BIOS of that machine,\n\n143\n00:06:25.210 --> 00:06:27.370\nthat it's allowed to boot to the USB.\n\n144\n00:06:27.370 --> 00:06:29.325\nSometimes you've gotta go in and\nturn that feature on.\n\n145\n00:06:29.325 --> 00:06:31.180\n>> Awesome.\n>> All right, so there we go, so\n\n146\n00:06:31.180 --> 00:06:33.340\nthis is the screen that's gonna pop up,\nand\n\n147\n00:06:33.340 --> 00:06:36.940\ninstalling Server 2012 R2\nis extremely easy really.\n\n148\n00:06:36.940 --> 00:06:38.770\nIt's going to walk me through the process.\n\n149\n00:06:38.770 --> 00:06:42.443\nThe first thing it asks me is what\nlanguage I want to use, what my time and\n\n150\n00:06:42.443 --> 00:06:45.506\ncurrency format's going to be and\nwhat my keyboard or input\n\n151\n00:06:45.506 --> 00:06:49.637\nmethod is going to be and there are drop\ndown lists and you can pick from several.\n\n152\n00:06:49.637 --> 00:06:54.430\nWell, except for this particular disk,\nI think, is only US or EN-US.\n\n153\n00:06:54.430 --> 00:06:56.120\nSo I don't get to see\nall the other languages.\n\n154\n00:06:56.120 --> 00:06:59.230\nWhich is great for\nme because that's my native language.\n\n155\n00:06:59.230 --> 00:07:00.040\nThat's what I speak, so.\n\n156\n00:07:00.040 --> 00:07:01.590\n>> You don't like it in Africana?\n\n157\n00:07:01.590 --> 00:07:04.010\n>> You know,\nI don't speak Chinese very well so\n\n158\n00:07:04.010 --> 00:07:06.300\nI'm not gonna have a very\ngood time installing it.\n\n159\n00:07:06.300 --> 00:07:07.160\n>> There is that.\n\n160\n00:07:07.160 --> 00:07:09.340\n>> [LAUGH] So\nI'll go ahead and click Next.\n\n161\n00:07:10.380 --> 00:07:12.590\nAnd then, Install Now.\n\n162\n00:07:12.590 --> 00:07:14.910\nI don't know.\nSo far, what do you think Daniel?\n\n163\n00:07:14.910 --> 00:07:17.180\n>> You know what, since Windows 7 really,\n\n164\n00:07:17.180 --> 00:07:19.810\nI've thought Microsoft has done\na really good job with their installer.\n\n165\n00:07:19.810 --> 00:07:21.290\nIt used to be a little bit more difficult,\n\n166\n00:07:21.290 --> 00:07:25.810\nespecially back if you come from Windows\n3.1 and Windows 95 and Windows 98.\n\n167\n00:07:25.810 --> 00:07:28.120\nYou had to use boot discs and\nall this other stuff,\n\n168\n00:07:28.120 --> 00:07:31.180\nto do formatting of disc utilities and\nstuff like that.\n\n169\n00:07:31.180 --> 00:07:34.350\nThese graphical interfaces for\ninstallation make our lives\n\n170\n00:07:34.350 --> 00:07:38.590\na whole lot easier, and\nquickly too, it doesn't take long.\n\n171\n00:07:38.590 --> 00:07:41.620\nI think I successfully splint\nup either a Windows 7 or\n\n172\n00:07:41.620 --> 00:07:43.344\nWindows 8.1 in under ten minutes.\n\n173\n00:07:43.344 --> 00:07:46.550\n>> Yeah.\n>> Under ten minutes from start to finish.\n\n174\n00:07:46.550 --> 00:07:50.410\nBlank disk to working the operating\nsystem in under ten minutes.\n\n175\n00:07:50.410 --> 00:07:51.911\nThat's really good, so\n\n176\n00:07:51.911 --> 00:07:56.130\nI expect some performance somewhere\nalong those lines with servers.\n\n177\n00:07:56.130 --> 00:07:57.250\n>> Absolutely, absolutely.\n\n178\n00:07:57.250 --> 00:07:59.819\nCuz remember, we're not extracting\nall those files out anymore,\n\n179\n00:07:59.819 --> 00:08:02.480\ndecompressing them over the hard drive,\nthings like that.\n\n180\n00:08:02.480 --> 00:08:03.955\nWe're basically applying an image, right?\n\n181\n00:08:03.955 --> 00:08:09.540\nThere's a WHM file on that disc, on that\nDVD, and that's really all you're doing.\n\n182\n00:08:09.540 --> 00:08:12.620\nSo I'm gonna go ahead and paste that key\nin there, hopefully that'll paste in.\n\n183\n00:08:12.620 --> 00:08:13.510\nVery good.\n\n184\n00:08:13.510 --> 00:08:15.510\nSo there's my product key.\n\n185\n00:08:15.510 --> 00:08:16.482\nI'll click Next.\n\n186\n00:08:19.421 --> 00:08:25.030\nAnd then I get to choose which edition\nbasically, or version I want to install.\n\n187\n00:08:25.030 --> 00:08:28.190\nNow depending on the disk you have,\nyou might see different options.\n\n188\n00:08:28.190 --> 00:08:32.655\nThe key that I just put in was for\n2012 R2 Standard.\n\n189\n00:08:32.655 --> 00:08:36.690\nSo notice the only thing that\nshows up is 2012 R2 Standard.\n\n190\n00:08:36.690 --> 00:08:40.300\nWith the right disk though it\nincludes all the different editions.\n\n191\n00:08:40.300 --> 00:08:44.226\nSo if I had got the data center key and\nput that in there, when I got to this\n\n192\n00:08:44.226 --> 00:08:48.437\nscreen it would have given me the option\nto choose Data center if I wanted to.\n\n193\n00:08:48.437 --> 00:08:50.120\nAnd then you can see I've got two options.\n\n194\n00:08:50.120 --> 00:08:53.870\nI've got server core, and\nI've got server with a GUI.\n\n195\n00:08:53.870 --> 00:08:56.560\nNotice that the default\nis actually server core.\n\n196\n00:08:56.560 --> 00:08:58.910\nThis is what Microsoft wants us to use.\n\n197\n00:08:58.910 --> 00:09:02.720\nAnd I'm going to do another episode where\nwe cover installing server core, and\n\n198\n00:09:02.720 --> 00:09:04.340\nseeing how to configure that.\n\n199\n00:09:04.340 --> 00:09:07.290\nFor right now,\nwe're going to go server with a GUI.\n\n200\n00:09:07.290 --> 00:09:08.151\nAnd I'll click Next.\n\n201\n00:09:11.657 --> 00:09:14.346\nAnd then of course I'm gonna\nhave to agree to the EULA or\n\n202\n00:09:14.346 --> 00:09:15.929\nI'm not gonna get any further.\n\n203\n00:09:15.929 --> 00:09:18.959\n>> That's one of my favorite\ntypes of things that happen.\n\n204\n00:09:18.959 --> 00:09:23.018\nI'll get a user that'll call me up and say\noh I've got this thing on my screen and\n\n205\n00:09:23.018 --> 00:09:24.360\nI don't know what to do.\n\n206\n00:09:24.360 --> 00:09:27.580\nAnd there's only one option,\nlike Mike has right here, do I accept it?\n\n207\n00:09:27.580 --> 00:09:29.330\nIf I don't I can't go any further.\n\n208\n00:09:29.330 --> 00:09:32.250\nSo if you see these types of things,\nthere's only one option.\n\n209\n00:09:32.250 --> 00:09:33.529\nThat's your option.\n\n210\n00:09:33.529 --> 00:09:35.737\n[LAUGH]\n>> Notice my uncheck at the next\n\n211\n00:09:35.737 --> 00:09:36.810\nbutton-\n>> Just goes\n\n212\n00:09:36.810 --> 00:09:37.760\naway\n>> Yeah.\n\n213\n00:09:37.760 --> 00:09:40.190\nSo you're pretty much\nforced to choose that.\n\n214\n00:09:40.190 --> 00:09:40.778\nI'll click Next.\n\n215\n00:09:40.778 --> 00:09:44.030\nAnd then I have to tell it\nwhere I want to install it.\n\n216\n00:09:44.030 --> 00:09:45.201\nNow it could be doing an upgrade.\n\n217\n00:09:45.201 --> 00:09:48.301\nMaybe this computer already has\nan operating system on it and\n\n218\n00:09:48.301 --> 00:09:50.745\nI'm trying to upgrade to server 2012 R2.\n\n219\n00:09:50.745 --> 00:09:52.980\nAgain that will be another\nepisode we'll deal with that.\n\n220\n00:09:52.980 --> 00:09:56.060\nFor this one I'm just going to use\ncustom install because I don't have\n\n221\n00:09:56.060 --> 00:09:57.160\nanything to upgrade.\n\n222\n00:09:57.160 --> 00:09:59.320\nSo I couldn't choose that upgrade option.\n\n223\n00:09:59.320 --> 00:10:02.970\nAnd then it's gonna scan and\nshow me what hard drives I have available.\n\n224\n00:10:02.970 --> 00:10:06.011\nI see I have one drive that's\n60 gigabytes in size, so\n\n225\n00:10:06.011 --> 00:10:09.067\nthat meets my minimum\nrequirements of 32 gigabytes.\n\n226\n00:10:09.067 --> 00:10:12.379\nI could go ahead and\ncreate a partition here if I wanted to,\n\n227\n00:10:12.379 --> 00:10:14.284\nif I had a 500 gigabyte drive.\n\n228\n00:10:14.284 --> 00:10:19.510\nAnd I wanted to go ahead and create a 64\ngigabyte partition to install the OS in.\n\n229\n00:10:19.510 --> 00:10:22.220\nAnd use the other space for\nsomething else later.\n\n230\n00:10:22.220 --> 00:10:24.080\nI could do that, I could click new.\n\n231\n00:10:24.080 --> 00:10:25.800\nIt would launch my little wizard, and\n\n232\n00:10:25.800 --> 00:10:28.180\nI could create a partition\nof a certain size.\n\n233\n00:10:28.180 --> 00:10:30.480\nIf you just leave it on\nthis unallocated space,\n\n234\n00:10:30.480 --> 00:10:34.090\nit's gonna claim the entire drive and\nuse all of that space.\n\n235\n00:10:34.090 --> 00:10:35.710\nWhich is fine with me.\n\n236\n00:10:35.710 --> 00:10:36.440\nI'll click Next.\n\n237\n00:10:38.850 --> 00:10:41.190\nAnd then that's pretty much it.\n\n238\n00:10:41.190 --> 00:10:43.210\nAt this point,\nit starts doing the install.\n\n239\n00:10:43.210 --> 00:10:47.920\nYou can see it's copying the files and\nit's getting ready for installation.\n\n240\n00:10:47.920 --> 00:10:50.670\nNow this might take I don't\nknow like you say, 10,\n\n241\n00:10:50.670 --> 00:10:53.020\n15 minute really depends on the speed.\n\n242\n00:10:53.020 --> 00:10:56.510\nLike doing it from CD-ROM as one\nof your slower methods or DVD.\n\n243\n00:10:56.510 --> 00:11:00.570\nLike Daniel said you had it on USB,\nmuch faster copy process and\n\n244\n00:11:00.570 --> 00:11:02.740\nthis can go a little bit quicker.\n\n245\n00:11:02.740 --> 00:11:06.000\nIn my case it'll probably take\nit a good 10, 15 minutes.\n\n246\n00:11:06.000 --> 00:11:08.402\nBut, we don't have to wait, Daniel.\n\n247\n00:11:08.402 --> 00:11:08.925\n>> No we don't.\n\n248\n00:11:08.925 --> 00:11:12.687\nThe magic of television, or\nthe fact that we use virtual machines,\n\n249\n00:11:12.687 --> 00:11:14.080\nmakes this a lot easier.\n\n250\n00:11:14.080 --> 00:11:18.110\nWe can actually start an installation on\none and move to the other where that's\n\n251\n00:11:18.110 --> 00:11:22.030\nalready at this point, or at least past\nthe point where we have to wait for it.\n\n252\n00:11:22.030 --> 00:11:25.020\nAnd do the whole, we're gonna put\na raw turkey into the oven and\n\n253\n00:11:25.020 --> 00:11:27.120\npull a baked turkey on out.\n\n254\n00:11:27.120 --> 00:11:28.370\nAnd that's the way we're gonna do that.\n\n255\n00:11:28.370 --> 00:11:30.670\nSo we won't make you wait\nthrough that whole process.\n\n256\n00:11:30.670 --> 00:11:34.965\nEven though I love to say, I spent\nabout roughly half my life waiting for\n\n257\n00:11:34.965 --> 00:11:36.408\na computer to compute.\n\n258\n00:11:36.408 --> 00:11:37.523\nTo just do something.\n\n259\n00:11:37.523 --> 00:11:40.801\nAll right sit down wait for\nyou to spin your little wheel or\n\n260\n00:11:40.801 --> 00:11:43.885\nyour little hourglass and\nthen get back into action.\n\n261\n00:11:43.885 --> 00:11:47.725\nBut fortunately we're not gonna bury you\nguys through that, we'll just go ahead and\n\n262\n00:11:47.725 --> 00:11:48.646\nmove on through it.\n\n263\n00:11:48.646 --> 00:11:49.284\n>> Exactly.\n\n264\n00:11:49.284 --> 00:11:51.870\nSo right now I again,\nI'm switching over to virtual machines.\n\n265\n00:11:51.870 --> 00:11:56.110\nI've got one that's already made\nit past that whole copy process.\n\n266\n00:11:56.110 --> 00:11:57.920\nAnd there you can see it.\n\n267\n00:11:57.920 --> 00:12:00.580\nLet me change one more thing on this guy.\n\n268\n00:12:00.580 --> 00:12:05.330\nI wanna go into my Settings and make sure\nhe is connected to the correct network, so\n\n269\n00:12:05.330 --> 00:12:07.660\nthat the rest of our lab will work.\n\n270\n00:12:07.660 --> 00:12:10.460\nSo let me change that over to a custom.\n\n271\n00:12:10.460 --> 00:12:13.410\nAgain, this isn't something you would do,\nthis is just something I'm doing for\n\n272\n00:12:13.410 --> 00:12:14.580\nthe virtual environment.\n\n273\n00:12:14.580 --> 00:12:18.330\nSo this is the screen you would come to,\nafter that whole copy and install process\n\n274\n00:12:18.330 --> 00:12:21.510\nthat we saw, that little wizard that was\njust giving me that spinning Cheerio.\n\n275\n00:12:21.510 --> 00:12:24.120\nOnce that finishes,\nyou would come to this screen.\n\n276\n00:12:24.120 --> 00:12:29.210\nHere it's asking me for a password, so\nI'm gonna set the administrator password.\n\n277\n00:12:29.210 --> 00:12:30.660\nSo, this would be the local admin,\n\n278\n00:12:30.660 --> 00:12:34.770\nand it helps if you give it\nfocus before you start typing.\n\n279\n00:12:34.770 --> 00:12:38.100\nThis is gonna be the local\nadmin password on this server.\n\n280\n00:12:38.100 --> 00:12:40.164\n>> Now that's a really good\npoint that you tell them,\n\n281\n00:12:40.164 --> 00:12:41.610\nthis is your local admin password.\n\n282\n00:12:41.610 --> 00:12:44.900\nSo you definitely wanna use some\nstrong security when it comes to\n\n283\n00:12:44.900 --> 00:12:48.200\nthis particular user, because well,\nthey've got the keys to the kingdom.\n\n284\n00:12:48.200 --> 00:12:51.170\nYou don't wanna just,\noh I'll put password one on that thing and\n\n285\n00:12:51.170 --> 00:12:53.410\nI'll change it later.\n\n286\n00:12:53.410 --> 00:12:55.994\nIf you've been around\nthe block at any given time,\n\n287\n00:12:55.994 --> 00:12:58.889\nyou'll know that that change\nit later tends to be never.\n\n288\n00:12:58.889 --> 00:13:02.990\n[LAUGH] Or\nafter a compromise has occurred.\n\n289\n00:13:02.990 --> 00:13:06.530\nAnd you're in your boss' office and he's\nscreaming at you and you can smell what he\n\n290\n00:13:06.530 --> 00:13:10.990\nhad for breakfast because he's in your\nface going, why did you let this happen.\n\n291\n00:13:10.990 --> 00:13:12.270\nChange that password.\n\n292\n00:13:12.270 --> 00:13:15.450\nUse something strong,\nlong passwords way to go.\n\n293\n00:13:15.450 --> 00:13:19.210\nWe always suggest passphrases that are\neasy to remember, they've got plenty of\n\n294\n00:13:19.210 --> 00:13:23.420\nlength to them and complexity is there\nas well, so they tend to cover that nut.\n\n295\n00:13:23.420 --> 00:13:25.580\n>> Exactly, and as you say,\nace the local admin password.\n\n296\n00:13:25.580 --> 00:13:29.387\nOnce we join this guy to the domain,\nwe rarely use that account and it's just\n\n297\n00:13:29.387 --> 00:13:32.330\nsitting there and it's going to be-\n>> Probably disabled, even.\n\n298\n00:13:32.330 --> 00:13:34.100\n>> Yes, hopefully we'll disable it,\nif not,\n\n299\n00:13:34.100 --> 00:13:36.030\nmake sure it's got a good strong password.\n\n300\n00:13:36.030 --> 00:13:39.179\nAll right, so I'll go ahead and log into\nthis guy using that same password, and\n\n301\n00:13:39.179 --> 00:13:41.067\nof course I used a very long,\nstrong password.\n\n302\n00:13:41.067 --> 00:13:41.852\n>> Oh yes.\n\n303\n00:13:41.852 --> 00:13:42.802\n>> Yeah.\n\n304\n00:13:42.802 --> 00:13:45.790\n[LAUGH] For\na lab environment we're okay, right.\n\n305\n00:13:45.790 --> 00:13:47.630\nI could've used password.\n\n306\n00:13:47.630 --> 00:13:49.000\nAll right, so here we are.\n\n307\n00:13:49.000 --> 00:13:52.220\nWe've finished installing and\nwe're logging in for the first time.\n\n308\n00:13:52.220 --> 00:13:55.730\nSo at the end of the install process,\nyou set that local admin password, and\n\n309\n00:13:55.730 --> 00:13:59.140\nthen it brings you to the logon screen and\nyou log on.\n\n310\n00:13:59.140 --> 00:14:01.210\nAnd this is it, our initial log on.\n\n311\n00:14:01.210 --> 00:14:04.740\nNow, the first thing that's going to\nhappen when you log on to this server,\n\n312\n00:14:04.740 --> 00:14:06.490\nserver manager's going to open up.\n\n313\n00:14:06.490 --> 00:14:09.440\nAnd server manager is a fantastic tool.\n\n314\n00:14:09.440 --> 00:14:12.930\nIt allows me to administer this server,\nand so much more.\n\n315\n00:14:12.930 --> 00:14:17.150\nWe've got a whole episode that we're going\nto dedicate to using server manager.\n\n316\n00:14:18.800 --> 00:14:23.290\nBut for now we'll just go ahead and\ndo what we call our post installation\n\n317\n00:14:23.290 --> 00:14:25.930\nconfiguration, cuz right\nnow it's a default install.\n\n318\n00:14:25.930 --> 00:14:28.230\nRight?\nAll we did was put the disk in there,\n\n319\n00:14:28.230 --> 00:14:31.380\nrun through the installation wizard,\nlet it do its thing,\n\n320\n00:14:31.380 --> 00:14:34.040\nset the admin password and log on.\n\n321\n00:14:34.040 --> 00:14:35.780\nSo once you get logged on the first time,\n\n322\n00:14:35.780 --> 00:14:39.680\nthat's when we do what we call our\npost installation configuration.\n\n323\n00:14:39.680 --> 00:14:42.380\nAnd the easiest way to do\nthat with a server with a GUI\n\n324\n00:14:42.380 --> 00:14:45.960\nis right here in server manager over\nhere in my navigation tree on the left.\n\n325\n00:14:45.960 --> 00:14:48.350\nI can click local server.\n\n326\n00:14:48.350 --> 00:14:52.160\nAnd this is going to bring me to a little\nscreen that shows me most of the settings\n\n327\n00:14:52.160 --> 00:14:55.110\nthat I need to configure for a server.\n\n328\n00:14:55.110 --> 00:14:57.722\nLike you can see things\nlike computer name,\n\n329\n00:14:57.722 --> 00:15:02.170\nthe fact that it's part of a workgroup,\ninformation about the firewall,\n\n330\n00:15:02.170 --> 00:15:04.731\nNIC teaming, my IP address information.\n\n331\n00:15:04.731 --> 00:15:08.754\nI can even scroll over I can see\ninformation about my Windows updates,\n\n332\n00:15:08.754 --> 00:15:12.451\nwhether or not I want to join\nthe customer improvement program.\n\n333\n00:15:12.451 --> 00:15:13.066\n>> Oh, I do.\n\n334\n00:15:13.066 --> 00:15:14.950\n>> Oh yeah, absolutely.\n\n335\n00:15:14.950 --> 00:15:17.397\nTime zone settings, all of that.\n\n336\n00:15:17.397 --> 00:15:19.627\nSo these are extremely convenient.\n\n337\n00:15:19.627 --> 00:15:24.016\nNow if you're used to working with older\nservers like 2003, Windows 2000 Serve or\n\n338\n00:15:24.016 --> 00:15:25.700\nsomething like that.\n\n339\n00:15:25.700 --> 00:15:27.690\nYou're used to going to\nlike system properties.\n\n340\n00:15:27.690 --> 00:15:29.250\nAnd you can still do that, right.\n\n341\n00:15:29.250 --> 00:15:33.510\nI can still do my Windows Key Pause Break\nshortcut and pull up system properties and\n\n342\n00:15:33.510 --> 00:15:35.360\nchange my computer name there.\n\n343\n00:15:35.360 --> 00:15:38.610\nI can go right-click on my\nclock down in my taskbar and\n\n344\n00:15:38.610 --> 00:15:41.300\nI can change my timezone and\nthings like that there.\n\n345\n00:15:41.300 --> 00:15:42.850\nSo those haven't gone away.\n\n346\n00:15:42.850 --> 00:15:45.550\nThis is like a one stop shop for\nall those settings.\n\n347\n00:15:45.550 --> 00:15:46.740\nRight here in this little window.\n\n348\n00:15:46.740 --> 00:15:48.550\nThat's what makes it so convenient.\n\n349\n00:15:48.550 --> 00:15:51.630\nSo the first thing I'm gong to do Daniel\nis change the name of the computer because\n\n350\n00:15:51.630 --> 00:15:54.870\nI don't like those names\nthat Microsoft generates.\n\n351\n00:15:54.870 --> 00:15:57.340\n>> But they're so\neasy to remember it's simple.\n\n352\n00:15:57.340 --> 00:15:58.739\n>> They're very descriptive right.\n\n353\n00:15:58.739 --> 00:15:59.705\n>> [LAUGH]\n>> So\n\n354\n00:15:59.705 --> 00:16:04.421\nlet's change this to something\nlike svr01 And I'll click OK.\n\n355\n00:16:04.421 --> 00:16:09.240\nAnd any time you change the name of a\ncomputer, it is gonna require a reboot for\n\n356\n00:16:09.240 --> 00:16:12.210\nthose changes to go into effect.\n\n357\n00:16:12.210 --> 00:16:14.230\nNow I'll go ahead and\nreboot it, and let it reboot.\n\n358\n00:16:14.230 --> 00:16:17.230\nSome people, Daniel, like to go\nthrough all, they say restart later,\n\n359\n00:16:17.230 --> 00:16:20.760\ngo through some of their other\nsettings and then reboot it.\n\n360\n00:16:20.760 --> 00:16:22.670\n>> Yeah, I'm a restart later guy.\n\n361\n00:16:22.670 --> 00:16:26.220\nAnd also I did wanna\nbacktrack a little bit toward\n\n362\n00:16:26.220 --> 00:16:28.690\nthe actual naming of the server itself.\n\n363\n00:16:28.690 --> 00:16:33.430\nBe descriptive, right, make sure that\nyou have a naming convention in place.\n\n364\n00:16:33.430 --> 00:16:36.080\nEspecially if you're in a domain\nenvironment it makes things much\n\n365\n00:16:36.080 --> 00:16:38.710\nsimpler for you as administrators.\n\n366\n00:16:38.710 --> 00:16:42.000\nThis probably isn't in the exam,\nbut it's definitely helpful for\n\n367\n00:16:42.000 --> 00:16:46.020\nyou out there that's actually out there\nworking on Windows 2012 Server, or\n\n368\n00:16:46.020 --> 00:16:47.070\nany server for that matter.\n\n369\n00:16:47.070 --> 00:16:51.287\nMake those names something that\nyou understand what the role\n\n370\n00:16:51.287 --> 00:16:52.863\nof this server is for.\n\n371\n00:16:52.863 --> 00:16:57.163\nDon used to tell the story\nabout someone who named all\n\n372\n00:16:57.163 --> 00:17:02.440\nhis servers after Simpsons characters,\nHomer and Marge.\n\n373\n00:17:02.440 --> 00:17:05.040\nThe problem is, what happens\nwhen you try to log onto Homer?\n\n374\n00:17:05.040 --> 00:17:06.160\nWhat does Homer do?\n\n375\n00:17:06.160 --> 00:17:07.600\nI have no idea.\n\n376\n00:17:07.600 --> 00:17:09.080\nI don't know what Marge is meant for.\n\n377\n00:17:09.080 --> 00:17:12.500\nAnd so you if hire in new people or\nsomeone leaves or gets fired or\n\n378\n00:17:12.500 --> 00:17:13.460\nsomething like that.\n\n379\n00:17:13.460 --> 00:17:16.590\nSomeone comes in, they're gonna have\nto try to learn what each one of these\n\n380\n00:17:16.590 --> 00:17:20.970\nservers do cuz their names sure as heck\nisn't telling them anything about it.\n\n381\n00:17:20.970 --> 00:17:23.880\nSo be descriptive when\nyou name these servers.\n\n382\n00:17:24.910 --> 00:17:28.830\nWhen I worked at an insurance company,\nwe were the Florida branch.\n\n383\n00:17:28.830 --> 00:17:32.455\nWe covered the whole state of Florida so\nwe started everything with FL,\n\n384\n00:17:32.455 --> 00:17:35.860\nthat designated us out from everyone\nelse in the other states so\n\n385\n00:17:35.860 --> 00:17:40.160\nwe knew, okay, those are our servers,\nFL file serve 01 right?\n\n386\n00:17:40.160 --> 00:17:44.250\nThat way I can have file serve 02,\nfile serve 03, it's a file server.\n\n387\n00:17:44.250 --> 00:17:48.700\nWe know exactly what it's for, what state\nit's in, and how many of them there are.\n\n388\n00:17:48.700 --> 00:17:52.310\nEasy simple naming convention that\nwill save you a lot of time and\n\n389\n00:17:52.310 --> 00:17:53.460\nheadache down the road.\n\n390\n00:17:53.460 --> 00:17:56.448\nSo put some thought into\nwhen you name those servers.\n\n391\n00:17:56.448 --> 00:17:59.000\n>> Oh, absolutely, a very good suggestion.\n\n392\n00:17:59.000 --> 00:18:01.980\nAll right, so I'm gonna go back, and\nI've rebooted after the name change.\n\n393\n00:18:01.980 --> 00:18:04.120\nI'm coming back over here to local server,\nand\n\n394\n00:18:04.120 --> 00:18:07.070\nthen I can see the new name on my machine.\n\n395\n00:18:07.070 --> 00:18:10.085\nNext thing I'm gonna do is I'm\ngoing to change the time zone.\n\n396\n00:18:10.085 --> 00:18:12.980\nSo I'm gonna click on\nmy time zone over here.\n\n397\n00:18:12.980 --> 00:18:14.040\nAnd I'm going to change that.\n\n398\n00:18:14.040 --> 00:18:17.810\nWe're here in Florida, so that's going\nto be Eastern, or GMT minus 5, or\n\n399\n00:18:17.810 --> 00:18:19.470\nI'm sorry, UTC now, right?\n\n400\n00:18:19.470 --> 00:18:21.280\nIt's not GMT anymore.\n\n401\n00:18:21.280 --> 00:18:25.480\nAnd I'll change that and the time does not\nlook correct either, so we'll go ahead and\n\n402\n00:18:25.480 --> 00:18:27.500\nchange the time as well.\n\n403\n00:18:27.500 --> 00:18:32.331\nIt should be somewhere around, what is it?\n\n404\n00:18:32.331 --> 00:18:35.164\n>> We are at almost 2 o'clock, 1:59.\n\n405\n00:18:36.900 --> 00:18:41.310\n>> Let's change that,\n59 there, something like that.\n\n406\n00:18:41.310 --> 00:18:42.110\nClose enough.\n\n407\n00:18:42.110 --> 00:18:45.430\nWe'll click OK, and we'll click OK.\n\n408\n00:18:45.430 --> 00:18:48.910\nNow you'll notice that Server Manager, it\ndoesn't look like I changed my time zone.\n\n409\n00:18:48.910 --> 00:18:52.490\nI just went in there and changed it,\nit still says UTC-08:00.\n\n410\n00:18:52.490 --> 00:18:56.060\nThis will update every few minutes,\nI think it's five by default.\n\n411\n00:18:56.060 --> 00:19:00.073\nIf you want, you can go ahead and click\nthis refresh icon up at the top to make\n\n412\n00:19:00.073 --> 00:19:02.497\nsure your changes have been configured,\nand\n\n413\n00:19:02.497 --> 00:19:05.074\nthere I can see UTC-05:00 at this point.\n\n414\n00:19:05.074 --> 00:19:08.790\nAll right, so I've got my name and\nmy time zone set.\n\n415\n00:19:08.790 --> 00:19:12.070\nThe next thing I'm gonna do is\nI'm gonna set my IP address.\n\n416\n00:19:12.070 --> 00:19:13.630\nRemember, with your servers,\n\n417\n00:19:13.630 --> 00:19:17.090\nmore than likely you're gonna\nhave a static IP address.\n\n418\n00:19:17.090 --> 00:19:19.380\nSo I'm gonna come in here and change that.\n\n419\n00:19:19.380 --> 00:19:21.090\nPull up the properties\nof my ethernet adapter.\n\n420\n00:19:21.090 --> 00:19:24.745\nYou guys have seen this in Network+,\nso nothing fancy here.\n\n421\n00:19:24.745 --> 00:19:29.680\n10, my network is a 1.1 network and\nwe'll go 201 for my first server.\n\n422\n00:19:31.630 --> 00:19:36.947\nGood old class C subnet mask and\nthis the important part right here, DNS.\n\n423\n00:19:36.947 --> 00:19:38.460\nAnd this is why I do this.\n\n424\n00:19:38.460 --> 00:19:40.563\nI'm doing this kind of in a certain order.\n\n425\n00:19:40.563 --> 00:19:44.130\nIt doesn't really matter if you change\nthe name versus the time zone first.\n\n426\n00:19:44.130 --> 00:19:45.440\nOne of the things you do have to do,\n\n427\n00:19:45.440 --> 00:19:49.405\nthough, is configure DNS before\nyou can join your domain.\n\n428\n00:19:49.405 --> 00:19:53.750\nCuz in order for this server to join\nthe domain, it has to be able to find\n\n429\n00:19:53.750 --> 00:19:58.660\nthe domain controller so that it can\ncreate that account in Active Directory,\n\n430\n00:19:58.660 --> 00:20:02.330\nverify that I have permissions to join the\nserver to the domain, things like that.\n\n431\n00:20:02.330 --> 00:20:06.180\nSo you need the DNS server from your\nnetwork that can resolve the name of\n\n432\n00:20:06.180 --> 00:20:07.480\nthe domain controller.\n\n433\n00:20:07.480 --> 00:20:10.466\nI see this a lot, Daniel, where\npeople will be setting up servers and\n\n434\n00:20:10.466 --> 00:20:13.711\nthey might've gotten an IP address\nfrom DHCP, and it's using a public DNS\n\n435\n00:20:13.711 --> 00:20:16.957\nserver or something like that,\nwhich would give you Internet access, and\n\n436\n00:20:16.957 --> 00:20:19.053\nyou might think\neverything's working great.\n\n437\n00:20:19.053 --> 00:20:20.476\nThen you go to join the domain and\n\n438\n00:20:20.476 --> 00:20:23.220\nit says cannot contact\nthe domain controller, fail.\n\n439\n00:20:23.220 --> 00:20:26.040\nBecause you've got the wrong DNS server.\n\n440\n00:20:26.040 --> 00:20:29.952\nSo we'll change that over to mine's,\n10.1.1.200.\n\n441\n00:20:29.952 --> 00:20:34.350\nAnd I'll click OK and\nOK to apply those changes.\n\n442\n00:20:35.710 --> 00:20:38.400\nAnd at this point,\nI can refresh Server Manager.\n\n443\n00:20:38.400 --> 00:20:39.950\nI should be good to go.\n\n444\n00:20:39.950 --> 00:20:45.612\nWhat I like to do is just open\nup a quick command prompt here,\n\n445\n00:20:45.612 --> 00:20:49.142\nif my server will play along with me.\n\n446\n00:20:49.142 --> 00:20:54.823\nAnd I wanna try to ping the domain\ncontroller, dc01.lab.net.\n\n447\n00:20:54.823 --> 00:20:58.650\nAnd it is good to use the fully\nqualified domain name.\n\n448\n00:20:58.650 --> 00:21:00.040\nIf you use just dc01,\n\n449\n00:21:00.040 --> 00:21:04.340\nlike in my case the NetBIOS name\non my domain controller is dc01.\n\n450\n00:21:04.340 --> 00:21:06.630\nAnd if I use that, in fact,\nI might be able to show you.\n\n451\n00:21:06.630 --> 00:21:09.457\nLet's see here, ping dc01.\n\n452\n00:21:09.457 --> 00:21:12.382\nYou see how it comes back\nwith that IPv6 address?\n\n453\n00:21:12.382 --> 00:21:16.170\nThat's a good indicator that it's\nnot using DNS to resolve the name.\n\n454\n00:21:16.170 --> 00:21:19.080\nIt's using that link local\nmulticast name resolution.\n\n455\n00:21:19.080 --> 00:21:22.560\nThe problem is that domain join\nwizard isn't gonna use that.\n\n456\n00:21:22.560 --> 00:21:25.240\nIt's gonna be using DNS,\nand so I'm not really\n\n457\n00:21:25.240 --> 00:21:29.520\ntesting whether my DNS is functioning\nproperly if I just ping the NetBIOS name.\n\n458\n00:21:29.520 --> 00:21:31.870\nSo ping the fully qualified domain name.\n\n459\n00:21:31.870 --> 00:21:34.750\nThat way you know you can\nreach that domain controller.\n\n460\n00:21:34.750 --> 00:21:35.940\nNow that I can reach\nthe domain controller,\n\n461\n00:21:35.940 --> 00:21:38.450\nDaniel, it's time to join the domain.\n\n462\n00:21:38.450 --> 00:21:42.230\nSo let's do it, we're gonna click up\nhere where it says Workgroup, and\n\n463\n00:21:42.230 --> 00:21:44.282\nI'll scroll back over so\nyou guys can see that.\n\n464\n00:21:44.282 --> 00:21:47.766\nClick Workgroup, I'll click Change, and\n\n465\n00:21:47.766 --> 00:21:52.668\nI'll go down here to domain and\nI'm going to put in lab.net.\n\n466\n00:21:52.668 --> 00:21:54.460\nAnd of course,\nit's gonna prompt me for credentials.\n\n467\n00:21:54.460 --> 00:21:57.020\nRemember, I'm logged on as a local admin.\n\n468\n00:21:57.020 --> 00:21:58.630\nThis guy's not part of the domain yet,\n\n469\n00:21:58.630 --> 00:22:01.590\nand the local admin has\nno rights on the domain.\n\n470\n00:22:01.590 --> 00:22:05.420\nIn order to join a computer to the domain,\nyou have to have a couple things.\n\n471\n00:22:05.420 --> 00:22:08.970\nYou have to have local admin rights, which\nI'm logged on as the local administrator,\n\n472\n00:22:08.970 --> 00:22:10.130\nso I've got that.\n\n473\n00:22:10.130 --> 00:22:12.860\nBut you also have to have\npermissions in Active Directory.\n\n474\n00:22:12.860 --> 00:22:17.780\nIf there's not an account already created\nfor the server, if it's not pre-staged,\n\n475\n00:22:17.780 --> 00:22:21.870\nthat means it gonna be creating an object\nin Active Directory when I do this.\n\n476\n00:22:21.870 --> 00:22:24.620\nThat means the account I'm using\nhas to have permissions to\n\n477\n00:22:24.620 --> 00:22:26.640\ncreate objects in Active Directory.\n\n478\n00:22:26.640 --> 00:22:29.590\nSo I'm gonna use good\nold lab\\administrator.\n\n479\n00:22:32.007 --> 00:22:33.690\nAnd the appropriate password.\n\n480\n00:22:33.690 --> 00:22:38.500\nAnd if all goes well, my account has the\nappropriate credentials and it can find\n\n481\n00:22:38.500 --> 00:22:44.260\nthe domain controller for lab.net, we'll\nget the welcome to the lab.net domain.\n\n482\n00:22:44.260 --> 00:22:45.334\nAnd we can click OK.\n\n483\n00:22:45.334 --> 00:22:46.230\n>> That's what you hope to get [LAUGH].\n\n484\n00:22:46.230 --> 00:22:47.840\n>> That's what we hope to get.\n\n485\n00:22:47.840 --> 00:22:49.530\nOK and Close.\n\n486\n00:22:49.530 --> 00:22:53.720\nAnd of course it's gonna require\na reboot for that change to take effect.\n\n487\n00:22:53.720 --> 00:22:55.023\nSo we'll let it reboot.\n\n488\n00:22:55.023 --> 00:22:58.125\nAnd then when it comes back up we should\nbe able to log on to the domain at\n\n489\n00:22:58.125 --> 00:22:58.725\nthis point.\n\n490\n00:22:58.725 --> 00:23:00.550\n>> Yeah, that's the bread and butter.\n\n491\n00:23:00.550 --> 00:23:04.570\nUsually if this isn't the first\nserver in your domain then obviously\n\n492\n00:23:04.570 --> 00:23:07.560\nit's probably going to be the first\ndomain controller at that point.\n\n493\n00:23:07.560 --> 00:23:10.480\nBut if it's not the first server and\nyou need it to join the domain so\n\n494\n00:23:10.480 --> 00:23:14.110\nit can have access to all the different\nresources that's on the domain,\n\n495\n00:23:14.110 --> 00:23:18.840\nuse your Active Directory logon,\nall the user accounts that you have there.\n\n496\n00:23:18.840 --> 00:23:21.930\nAnd then at that point,\nyou can set the roles up after that,\n\n497\n00:23:21.930 --> 00:23:25.410\nstart making the server do what it is\nyou're actually building it to do.\n\n498\n00:23:25.410 --> 00:23:27.960\nAnd again, we haven't really been\nworking at this for very long and\n\n499\n00:23:27.960 --> 00:23:30.360\nwe've even been explaining\nit step by step.\n\n500\n00:23:30.360 --> 00:23:32.900\nSo you can see it doesn't\nreally take that much time.\n\n501\n00:23:32.900 --> 00:23:37.770\nBack in the day, I remember installing\nWindows 2000, Windows 2003 servers,\n\n502\n00:23:37.770 --> 00:23:41.790\nthis was a good hour project easily,\nthat okay, well,\n\n503\n00:23:41.790 --> 00:23:44.680\nI'm gonna go ahead and\ninstall a server on something.\n\n504\n00:23:44.680 --> 00:23:48.190\nThat's gonna take me a little bit of time,\nand I'll be back in a little while.\n\n505\n00:23:48.190 --> 00:23:50.220\nNow the boss says go install a server,\n\n506\n00:23:50.220 --> 00:23:53.850\nyou're like, I guess that's ten minutes\nout of my day, 15 minutes out of the day.\n\n507\n00:23:53.850 --> 00:23:55.140\nIt's not really that hard anymore.\n\n508\n00:23:55.140 --> 00:23:56.347\n>> Depending on if they\nknow what they're doing.\n\n509\n00:23:56.347 --> 00:23:57.402\nOtherwise you might be\nable to stretch it out.\n\n510\n00:23:57.402 --> 00:23:57.902\n[CROSSTALK]\n>> That's right.\n\n511\n00:23:57.902 --> 00:23:59.262\n>> Go hide somewhere,\n\n512\n00:23:59.262 --> 00:24:03.303\n[LAUGH] play a little game on your phone.\n>> Oh, boss, this is It's killing me!\n\n513\n00:24:03.303 --> 00:24:04.516\n[LAUGH]\n\n514\n00:24:04.516 --> 00:24:05.915\n>> It's a lot of work.\n\n515\n00:24:05.915 --> 00:24:06.614\nAll right, so\n\n516\n00:24:06.614 --> 00:24:09.715\nhere I am back on this machine.\nIt has finished the reboot after joining\n\n517\n00:24:09.715 --> 00:24:10.340\nthe domain.\n\n518\n00:24:10.340 --> 00:24:13.240\nBut you'll notice what it says up here.\n\n519\n00:24:13.240 --> 00:24:15.150\nIt says SVR01/Administrator.\n\n520\n00:24:15.150 --> 00:24:18.930\nI could log on, but I'd be logging\non with a local admin account again.\n\n521\n00:24:18.930 --> 00:24:19.430\nRight.\n\n522\n00:24:19.430 --> 00:24:23.500\nSo I wanna try to log on to the domain\nwhich means I'm gonna do a switch user,\n\n523\n00:24:23.500 --> 00:24:32.765\nand then other user, and I'm gonna\nhave to specify lab\\administrator.\n\n524\n00:24:32.765 --> 00:24:33.935\nInteresting little tidbit here.\n\n525\n00:24:33.935 --> 00:24:36.255\nYou notice it says sign on to lab.\n\n526\n00:24:36.255 --> 00:24:36.775\nRight?\n\n527\n00:24:36.775 --> 00:24:38.635\nWhich is the name of my domain.\n\n528\n00:24:38.635 --> 00:24:41.175\nIf you leave off,\nif you don't specify the domain up here.\n\n529\n00:24:41.175 --> 00:24:45.550\nIf you just type administrator,\nnotice it switches to the local context.\n\n530\n00:24:45.550 --> 00:24:48.390\nIt assumes you want\nthe local admin account.\n\n531\n00:24:48.390 --> 00:24:51.500\nSo when you're logging onto\na members server, or a client for\n\n532\n00:24:51.500 --> 00:24:54.980\nthat matter, and you want to use\nthat built in administrator account,\n\n533\n00:24:54.980 --> 00:24:58.730\nyou do have to specify the name of\nthe domain out in front of there,\n\n534\n00:24:58.730 --> 00:25:03.410\noh that's the pre windows 2000 right,\nyou still could use the Oh, gosh.\n\n535\n00:25:03.410 --> 00:25:05.020\n>> Administrator at lab.\n\n536\n00:25:05.020 --> 00:25:06.705\n>> Yeah, I'm trying to think\nwhat the heck that name is.\n\n537\n00:25:06.705 --> 00:25:07.341\n>> Dot net or whatever.\n\n538\n00:25:07.341 --> 00:25:08.990\n>> It'll pop here in a second.\n\n539\n00:25:08.990 --> 00:25:10.360\nAnd then I'll have to use my password.\n\n540\n00:25:11.660 --> 00:25:13.710\nYou use a principal name.\n\n541\n00:25:13.710 --> 00:25:17.825\nI Almost forgot that one,\nbut administrator@lab.net.\n\n542\n00:25:17.825 --> 00:25:20.095\nYes, you are correct Daniel.\n\n543\n00:25:20.095 --> 00:25:21.085\nAll right and there we go.\n\n544\n00:25:21.085 --> 00:25:23.725\nSo now I can,\nnow I'm part of the domain, right.\n\n545\n00:25:23.725 --> 00:25:26.585\nI've logged on with a domain admin account\n\n546\n00:25:26.585 --> 00:25:30.010\nwhich means we've proved to ourselves\nthat this guy is part of the domain.\n\n547\n00:25:30.010 --> 00:25:32.730\n>> Right, and now things like,\ngroup policy is gonna set in.\n\n548\n00:25:32.730 --> 00:25:36.380\nSo whatever Mike has logged in as,\nobviously this is an administrative user,\n\n549\n00:25:36.380 --> 00:25:39.820\nhe's logging into a server,\nthat's what needs to be going on.\n\n550\n00:25:39.820 --> 00:25:42.580\nOther regular users shouldn't\nbe logging in that way.\n\n551\n00:25:42.580 --> 00:25:45.280\nBut he's gonna get that group policy,\nhe's going to say okay,\n\n552\n00:25:45.280 --> 00:25:48.520\nhere's the rights that you have, here's\nwhat you can do and what you can't do.\n\n553\n00:25:48.520 --> 00:25:49.950\nHere's how we set things up default.\n\n554\n00:25:49.950 --> 00:25:54.519\nThat's going to be nice for him because it\ngives him a standardized set of guidelines\n\n555\n00:25:54.519 --> 00:25:57.460\nwhich he can count on,\nno matter where he logs in.\n\n556\n00:25:57.460 --> 00:25:59.620\nYou'd be surprised at how\nmany people don't realize,\n\n557\n00:25:59.620 --> 00:26:01.570\nbecause they only work with\none computer everyday.\n\n558\n00:26:01.570 --> 00:26:03.820\nThat they don't realize that\ndomain is their friend.\n\n559\n00:26:03.820 --> 00:26:05.830\nThat their domain credentials\nare their friend.\n\n560\n00:26:05.830 --> 00:26:10.730\nThey could go to another workstation, sit\ndown, sign on with their credentials, and\n\n561\n00:26:10.730 --> 00:26:13.360\nget something that's very familiar,\nand sign on.\n\n562\n00:26:13.360 --> 00:26:16.680\nRight, that's always the pleasure of that,\nso very good stuff.\n\n563\n00:26:16.680 --> 00:26:19.360\n>> Very good, alright,\nthere we go I'm back on our machine,\n\n564\n00:26:19.360 --> 00:26:21.980\nI opened up server manager and\nwent back to local server one more time\n\n565\n00:26:21.980 --> 00:26:25.310\njust to prove to you guys that we\nare indeed part of the domain, and\n\n566\n00:26:25.310 --> 00:26:29.300\nas Daniel said that's it, now we're ready\nto do whatever we want with the server.\n\n567\n00:26:29.300 --> 00:26:32.060\nAdd roles, whatever functionality we need.\n\n568\n00:26:32.060 --> 00:26:35.760\nAnd we'll cover that in\nanother episode I think.\n\n569\n00:26:35.760 --> 00:26:37.630\n>> Put all you Sailor Moon\nvideos on there.\n\n570\n00:26:37.630 --> 00:26:39.145\nYou know, he loves the anime.\n\n571\n00:26:39.145 --> 00:26:39.755\n[LAUGH]\n>> Sh.\n\n572\n00:26:39.755 --> 00:26:40.420\n>> Alright, Michael\n\n573\n00:26:40.420 --> 00:26:40.920\nhas the-\n>> Sh.\n\n574\n00:26:40.920 --> 00:26:41.920\nIt's under the hat.\n\n575\n00:26:41.920 --> 00:26:43.000\n>> [LAUGH] That's\n\n576\n00:26:43.000 --> 00:26:45.738\nbasically covered the installation for\n\n577\n00:26:45.738 --> 00:26:48.705\nthe standard user experience, right?\n>> Yeah.\n\n578\n00:26:48.705 --> 00:26:49.915\nPretty straightforward process.\n\n579\n00:26:49.915 --> 00:26:51.830\nThe wizard walks you right through it and\n\n580\n00:26:51.830 --> 00:26:54.600\nthen that server manager with\nthat local server option\n\n581\n00:26:54.600 --> 00:26:56.920\nmakes your post installation\nconfiguration a breeze.\n\n582\n00:26:56.920 --> 00:26:57.580\n>> Awesome.\n\n583\n00:26:57.580 --> 00:26:59.730\nWell that about does it for this episode.\n\n584\n00:26:59.730 --> 00:27:02.480\nHopefully you guys have learned\na lot from it and go out there and\n\n585\n00:27:02.480 --> 00:27:04.490\nget you some server 2012 installed.\n\n586\n00:27:04.490 --> 00:27:07.060\nThat being said,\nit is time to sign off for ITProTV.\n\n587\n00:27:07.060 --> 00:27:09.150\nI've been your host, Daniel Lowry.\n\n588\n00:27:09.150 --> 00:27:09.930\n>> And I'm Mike Rodrick.\n\n589\n00:27:09.930 --> 00:27:11.104\n>> And we'll see you next time.\n\n590\n00:27:11.104 --> 00:27:11.847\n[SOUND]\n\n",
          "vimeoId": "133471577"
        },
        {
          "description": "In this episode, Daniel and Mike cover installing Windows Server 2012R2 core. Once installed, they demonstrate how to configure the server using sconfig and get the server ready for a production environment.",
          "length": "1762",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-1-2-installing_server_core-071315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-1-2-installing_server_core-071315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-1-2-installing_server_core-071315-1-sm.jpg",
          "title": "Installing Server Core",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.481\n[MUSIC]\n\n2\n00:00:10.481 --> 00:00:11.680\nAll right.\nGreetings everyone, and\n\n3\n00:00:11.680 --> 00:00:14.930\nwelcome to another great\nepisode of ITProTV.\n\n4\n00:00:14.930 --> 00:00:16.140\nI'll be your host Daniel Lowrie.\n\n5\n00:00:16.140 --> 00:00:18.280\nAnd here today is none\nother than Mike Rodrick.\n\n6\n00:00:18.280 --> 00:00:19.530\nHow's it going today Mike?\n\n7\n00:00:19.530 --> 00:00:20.630\n>> It's fantastic, Daniel.\n\n8\n00:00:20.630 --> 00:00:23.280\nI'm excited.\nWe've got another episode coming your way.\n\n9\n00:00:23.280 --> 00:00:26.050\nIn this episode,\nwe're going to look at installing server,\n\n10\n00:00:26.050 --> 00:00:29.470\nbut this time we're going\nto be doing server core.\n\n11\n00:00:29.470 --> 00:00:33.825\nIt's another installation option\nwith Windows Server 2012 R2.\n\n12\n00:00:33.825 --> 00:00:36.790\nIt actually started I think Daniel\nback with Windows Server 2008,\n\n13\n00:00:36.790 --> 00:00:40.470\nwhere we could install\na server without a GUI.\n\n14\n00:00:40.470 --> 00:00:43.230\nThat's what that they mean by server core.\n\n15\n00:00:43.230 --> 00:00:44.550\n>> The heck you say.\n\n16\n00:00:44.550 --> 00:00:46.065\n>> I know, it's crazy right?\n\n17\n00:00:46.065 --> 00:00:47.860\n>> [LAUGH]\n>> And it's actually the default.\n\n18\n00:00:47.860 --> 00:00:53.260\nWhen we go to install Server 2012 R2,\nwe'll see that when we get to the screen,\n\n19\n00:00:53.260 --> 00:00:56.250\nwe can select which edition\nwe want to install.\n\n20\n00:00:56.250 --> 00:00:58.530\nThe core is what is highlighted.\n\n21\n00:00:58.530 --> 00:01:01.660\nThat's what Microsoft\nrecommends that we use.\n\n22\n00:01:01.660 --> 00:01:02.750\nAnd-\n>> I was gonna say,\n\n23\n00:01:02.750 --> 00:01:06.500\nMike, why would I wanna install\na server without a GUI?\n\n24\n00:01:06.500 --> 00:01:10.310\nI mean doesn't seem like it makes,\nespecially coming from a Microsoft angle.\n\n25\n00:01:10.310 --> 00:01:13.930\nThey kind of like pioneered\nthe whole GUI experience.\n\n26\n00:01:13.930 --> 00:01:14.790\nYou want a GUI.\n\n27\n00:01:14.790 --> 00:01:16.160\nGUIs are our friends.\n\n28\n00:01:16.160 --> 00:01:17.760\nAnd now they seem to be going backwards.\n\n29\n00:01:17.760 --> 00:01:18.610\nWhat's up with that?\n\n30\n00:01:18.610 --> 00:01:19.750\n>> There's a couple of reasons.\n\n31\n00:01:19.750 --> 00:01:22.100\nThe first and foremost is security.\n\n32\n00:01:22.100 --> 00:01:26.880\nYou know, when we leave out things like\nInternet Explorer or Windows Explorer,\n\n33\n00:01:26.880 --> 00:01:30.360\nall those GUI tools that we have,\nall those admin tools, those are what\n\n34\n00:01:30.360 --> 00:01:34.180\nintroduce a lot of the vulnerabilities\nto the server operating system.\n\n35\n00:01:34.180 --> 00:01:37.130\nIf we leave those out,\nwe leave out those vulnerabilities.\n\n36\n00:01:37.130 --> 00:01:40.310\nLess stuff I have to patch,\nless stuff I have to worry about.\n\n37\n00:01:40.310 --> 00:01:44.580\nSo it ends up being a more secure\ninstallation of Server 2012 R2.\n\n38\n00:01:44.580 --> 00:01:47.320\nThat doesn't mean you don't have\nto do your Windows Updates or\n\n39\n00:01:47.320 --> 00:01:47.960\nanything like that.\n\n40\n00:01:47.960 --> 00:01:49.680\nCuz there are still updates.\n\n41\n00:01:49.680 --> 00:01:52.540\nSecurity patches that are going\nto need to be applied.\n\n42\n00:01:52.540 --> 00:01:55.620\nI still need to run my antivirus\nsoftware and things like that.\n\n43\n00:01:55.620 --> 00:01:57.220\nBut we do eliminate a lot of it.\n\n44\n00:01:57.220 --> 00:02:01.480\nAnd anytime I can get rid of\nsome vulnerabilities altogether,\n\n45\n00:02:01.480 --> 00:02:03.330\nI'm all about it.\n\n46\n00:02:03.330 --> 00:02:06.890\nI also like to kid around Daniel\nthat it's more secure installation,\n\n47\n00:02:06.890 --> 00:02:09.990\nbecause as you're gonna see,\nthere's no GUI.\n\n48\n00:02:09.990 --> 00:02:11.920\nAll you get is a command prompt.\n\n49\n00:02:11.920 --> 00:02:16.420\nSo some people are gonna get onto\nthat server and go, now what?\n\n50\n00:02:16.420 --> 00:02:19.750\n>> Yeah, they get the black box,\ndeer in the headlight looks.\n\n51\n00:02:19.750 --> 00:02:21.940\nAnd because,\nlike well like what Mike was saying,\n\n52\n00:02:21.940 --> 00:02:25.700\nwe, as they say,\nreduced the security footprint.\n\n53\n00:02:25.700 --> 00:02:30.110\nIf there's less stuff to be insecure,\nless avenues of attack,\n\n54\n00:02:30.110 --> 00:02:32.610\nit's inherently more secure.\n\n55\n00:02:32.610 --> 00:02:33.900\nThat's a better way to go.\n\n56\n00:02:33.900 --> 00:02:36.220\nAnd then you've got of course,\nlike he was just saying,\n\n57\n00:02:36.220 --> 00:02:41.290\nthere's users that see a black\ncommand prompt and they say no mas.\n\n58\n00:02:41.290 --> 00:02:43.020\nI'm just walking away!\n\n59\n00:02:43.020 --> 00:02:44.630\n>> They're screaming!\n\n60\n00:02:44.630 --> 00:02:46.450\n>> Get out of there as fast as you can.\n\n61\n00:02:46.450 --> 00:02:47.510\n>> Can't deal with that.\n\n62\n00:02:47.510 --> 00:02:48.230\n>> Yeah.\n>> Exactly.\n\n63\n00:02:48.230 --> 00:02:51.110\nAnd then there's also resources.\n\n64\n00:02:51.110 --> 00:02:54.100\nWithout the GUI,\nI actually use less resources.\n\n65\n00:02:54.100 --> 00:02:57.440\nNow in one of our other episodes we talked\nabout the minimum requirements, and\n\n66\n00:02:57.440 --> 00:03:00.810\nMicrosoft will still tell you\nthe minimum requirements for 2012 R2,\n\n67\n00:03:00.810 --> 00:03:04.440\neven when you're doing core\nis going to be the same.\n\n68\n00:03:04.440 --> 00:03:09.270\nIt's going to be a 1.4GHz processor,\n32 gigs of free disk space,\n\n69\n00:03:09.270 --> 00:03:12.470\nand 512 GB of Megabytes of RAM, sorry.\n\n70\n00:03:12.470 --> 00:03:14.316\n>> 512 gigs of RAM, Mike, right?\n\n71\n00:03:14.316 --> 00:03:15.950\n[LAUGH]\n>> [LAUGH] Yeah, right?\n\n72\n00:03:15.950 --> 00:03:19.370\nDidn't you just say core was\na little less resource-intensive?\n\n73\n00:03:19.370 --> 00:03:20.410\n>> That's insane, yes.\n\n74\n00:03:20.410 --> 00:03:25.285\n>> 512 megs of RAM, but what we did say\nwhen we did the full server install,\n\n75\n00:03:25.285 --> 00:03:27.455\n512 was ridiculous, right?\n\n76\n00:03:27.455 --> 00:03:29.775\nYes, that's the minimal requirements,\nthat's what I need to know for\n\n77\n00:03:29.775 --> 00:03:32.185\nthe exam but in the real world and\nI think you said,\n\n78\n00:03:32.185 --> 00:03:35.813\nyou have two gigabytes minimum is what you\nwould use when you're setting up a server.\n\n79\n00:03:35.813 --> 00:03:41.510\nWith server core you can actually get\naway with 512 and have it run decently.\n\n80\n00:03:41.510 --> 00:03:43.030\nKeep in mind, that's only for\n\n81\n00:03:43.030 --> 00:03:46.460\nthe operating system,\nyou start installing other roles and\n\n82\n00:03:46.460 --> 00:03:48.490\nthings like that and you've got\nto take that into consideration.\n\n83\n00:03:48.490 --> 00:03:53.050\nIf I'm going to run DNS on there or\nyou know DCP or\n\n84\n00:03:53.050 --> 00:03:56.690\nother roles I'm gonna need resources for\nthose roles, DNS for\n\n85\n00:03:56.690 --> 00:04:00.470\nexample, is gonna need some memory\nto load up those zone files.\n\n86\n00:04:00.470 --> 00:04:05.400\nSo the 512 is the bare minimum and\nreally we're rarely gonna use that.\n\n87\n00:04:05.400 --> 00:04:08.280\nBut good to know that we\ncould if we had to in a bind.\n\n88\n00:04:08.280 --> 00:04:12.321\nOr if I just need to pull up a server for\ntesting purposes and that virtual,\n\n89\n00:04:12.321 --> 00:04:16.180\nlet's say we're using Hyper-V\nas our virtual service provider.\n\n90\n00:04:16.180 --> 00:04:18.070\nIf you don't have a lot of resources,\n\n91\n00:04:18.070 --> 00:04:22.000\nI could spin up a server real quick\nwith just 512MB of RAM and get it done.\n\n92\n00:04:22.000 --> 00:04:26.060\n>> So this is basically it if I need\na quick and dirty server on the fly,\n\n93\n00:04:26.060 --> 00:04:27.220\nwe can do this.\n\n94\n00:04:27.220 --> 00:04:29.350\nOr if I needed something with\na little bit more security,\n\n95\n00:04:29.350 --> 00:04:32.140\na little less overhead,\nI might want to go core as well.\n\n96\n00:04:32.140 --> 00:04:32.690\n>> Yep, exactly.\n\n97\n00:04:33.720 --> 00:04:37.100\nSo let's take a look at how\nwe install server core.\n\n98\n00:04:37.100 --> 00:04:41.100\nAgain, I've got a virtual machine, and I'm\ngoing to go ahead and fire this guy up.\n\n99\n00:04:41.100 --> 00:04:45.410\nI've already got the disk\nloaded into the DVD drive.\n\n100\n00:04:45.410 --> 00:04:48.520\nThere's no operating\nsystem on the hard drive.\n\n101\n00:04:48.520 --> 00:04:49.890\nIt's a blank hard drive.\n\n102\n00:04:49.890 --> 00:04:51.540\nSo I don't have to press the any key.\n\n103\n00:04:51.540 --> 00:04:54.950\nIt should boot right to the DVD,\nwhich it's doing now, and\n\n104\n00:04:54.950 --> 00:04:57.910\nit's loading up my installation files.\n\n105\n00:04:57.910 --> 00:05:01.200\nSo far no different than\ninstalling server with the GUI.\n\n106\n00:05:01.200 --> 00:05:04.740\nIn fact, you're gonna see that for the\nfirst part, there really is no difference.\n\n107\n00:05:04.740 --> 00:05:05.650\n>> Yeah, I'm with you so far.\n\n108\n00:05:05.650 --> 00:05:08.010\nThis is my wheelhouse.\n\n109\n00:05:08.010 --> 00:05:09.230\nI'm good to go.\n\n110\n00:05:09.230 --> 00:05:12.560\nBut I'm assuming we're gonna see\nsome differences, in not too long.\n\n111\n00:05:12.560 --> 00:05:16.540\n>> Exactly, so we'll wait for\nthis guy to load up these files.\n\n112\n00:05:16.540 --> 00:05:18.050\nYou can see my logo coming up.\n\n113\n00:05:18.050 --> 00:05:22.570\nIt's getting ready to bring me to\nmy little installation wizard here.\n\n114\n00:05:22.570 --> 00:05:24.400\n>> The spinning dot, taking its time.\n\n115\n00:05:24.400 --> 00:05:25.510\n>> That's right.\n\n116\n00:05:25.510 --> 00:05:26.580\n>> You know, welcome to the IT life.\n\n117\n00:05:26.580 --> 00:05:28.070\n>> I don't know, I kind of like the bats.\n\n118\n00:05:28.070 --> 00:05:32.060\nI find myself going woo, woo.\n\n119\n00:05:32.060 --> 00:05:35.610\n>> I wanna get a sticker for the back\nof my truck that says IT life, and\n\n120\n00:05:35.610 --> 00:05:37.215\nit's just gonna be the dots spinning.\n\n121\n00:05:37.215 --> 00:05:38.912\n[LAUGH]\n>> [LAUGH] That'd be like inventing\n\n122\n00:05:38.912 --> 00:05:40.400\nthe old spinning Cheerio that we've got.\n\n123\n00:05:40.400 --> 00:05:42.190\n>> Exactly.\n>> Although I do kind of miss kind of the\n\n124\n00:05:42.190 --> 00:05:46.460\nhourglass that we used to get way back-\n>> It can behave more of a sense of\n\n125\n00:05:46.460 --> 00:05:48.530\nI'm waiting, right, than the dots do.\n\n126\n00:05:48.530 --> 00:05:51.092\nAnd that's probably why\nthey got rid of it.\n\n127\n00:05:51.092 --> 00:05:53.080\n[LAUGH]\n>> All right, so here we go.\n\n128\n00:05:53.080 --> 00:05:55.880\nWe get to pick our language,\nI'm gonna leave it on English.\n\n129\n00:05:55.880 --> 00:05:58.050\nSo I got my Time and Currency Format.\n\n130\n00:05:58.050 --> 00:06:00.120\nMy Keyboard or Input Method,\nI'll leave that on US.\n\n131\n00:06:00.120 --> 00:06:02.550\nI'm gonna go ahead and click Next.\n\n132\n00:06:02.550 --> 00:06:05.780\nAnd then Install Now, so\nagain, no difference so far.\n\n133\n00:06:07.330 --> 00:06:10.730\nIt's going to ask me for a product key.\n\n134\n00:06:12.730 --> 00:06:14.310\nEventually.\nThere's my little spinning cheerio.\n\n135\n00:06:14.310 --> 00:06:18.270\nAlthough it's not really spinning.\n\n136\n00:06:18.270 --> 00:06:20.950\n>> It's just kind of hanging out there.\n\n137\n00:06:20.950 --> 00:06:21.630\nGotta love the wait.\n\n138\n00:06:21.630 --> 00:06:25.830\n>> [LAUGH] Yeah, usually not a good thing\nwhen the darn thing's not even spinning,\n\n139\n00:06:25.830 --> 00:06:27.570\nbut it's coming, I promise.\n\n140\n00:06:27.570 --> 00:06:28.070\n[LAUGH]\n>> [LAUGH]\n\n141\n00:06:28.070 --> 00:06:29.480\n>> There we go.\n\n142\n00:06:29.480 --> 00:06:31.670\nAll right, so\n\n143\n00:06:31.670 --> 00:06:36.900\nnow we're gonna insert that product\nkey and I'll go ahead and click Next.\n\n144\n00:06:38.330 --> 00:06:40.710\nAnd that product key is\none provided by Microsoft.\n\n145\n00:06:40.710 --> 00:06:42.900\nIt doesn't actually activate anything.\n\n146\n00:06:42.900 --> 00:06:44.360\nIt's for test purposes.\n\n147\n00:06:44.360 --> 00:06:46.780\nSo if you're watching this video and\ntrying to pause it and go, ooh,\n\n148\n00:06:46.780 --> 00:06:48.660\nI'm gonna get Mike's key there.\n\n149\n00:06:48.660 --> 00:06:50.520\nYou can get it from Microsoft's website.\n\n150\n00:06:50.520 --> 00:06:54.070\n>> So just go to microsoft.com and\nit's there or is there a specific area?\n\n151\n00:06:54.070 --> 00:06:58.440\n>> Yeah, there's a, do a search for\nKMS keys, and you'll find them there.\n\n152\n00:06:58.440 --> 00:07:00.080\nThey've got for\nall the different products,\n\n153\n00:07:00.080 --> 00:07:03.340\nI think going all the way\nback to like Windows Vista.\n\n154\n00:07:03.340 --> 00:07:07.020\nThey've got some demo product keys\nyou can use to get it installed and\n\n155\n00:07:07.020 --> 00:07:08.870\nset up like a test lab and\nthings like that.\n\n156\n00:07:08.870 --> 00:07:10.540\n>> And how long do these keys work for?\n\n157\n00:07:10.540 --> 00:07:13.490\n>> I don't know if they actually time\nbomb, but they'll never activate.\n\n158\n00:07:13.490 --> 00:07:15.740\nThey won't reach out and\nactivate or anything like that.\n\n159\n00:07:15.740 --> 00:07:19.260\nI'm sure they do time bomb eventually\notherwise what's the point?\n\n160\n00:07:19.260 --> 00:07:22.090\nWe might try to get away with some things.\n\n161\n00:07:22.090 --> 00:07:27.940\nHere we go, so I'm at my Selection screen\nand because the key that I used is for\n\n162\n00:07:27.940 --> 00:07:30.820\nstandard then the only\nchoices I get are standard.\n\n163\n00:07:30.820 --> 00:07:33.350\nI don't see datacenter on here,\nfor example.\n\n164\n00:07:33.350 --> 00:07:36.620\nIf I had a different key or\nif I used a datacenter key I'd see that.\n\n165\n00:07:36.620 --> 00:07:40.560\nAlso depends on what disk you have, some,\nmost disks have all the editions and\n\n166\n00:07:40.560 --> 00:07:42.340\nit depends on what key you put in.\n\n167\n00:07:42.340 --> 00:07:45.330\nSome disks might be limited\nto a particular edition.\n\n168\n00:07:45.330 --> 00:07:47.420\nAnd also notice the default.\n\n169\n00:07:47.420 --> 00:07:49.670\nServer core is the one that's highlighted.\n\n170\n00:07:49.670 --> 00:07:51.597\nObviously I can change that if I want to.\n\n171\n00:07:51.597 --> 00:07:53.756\nBut I'm gonna leave it on server core.\n\n172\n00:07:53.756 --> 00:07:55.370\nAnd I'll click Next.\n\n173\n00:07:55.370 --> 00:08:02.200\nAnd I'll agree to the EULA, because\nwe're not going anywhere without that.\n\n174\n00:08:02.200 --> 00:08:03.520\n>> Not much of a choice there, Mike.\n\n175\n00:08:03.520 --> 00:08:05.660\n>> So we'll click next on that one.\n\n176\n00:08:05.660 --> 00:08:09.420\nI'm not doing an upgrade, because there's\nno operating system on this server.\n\n177\n00:08:09.420 --> 00:08:10.410\nJust blank hardware.\n\n178\n00:08:10.410 --> 00:08:11.290\nSo I'll click custom.\n\n179\n00:08:12.470 --> 00:08:14.420\nChoose what drive I want to install to.\n\n180\n00:08:14.420 --> 00:08:16.070\nIf I wanted to create a partition,\nI could.\n\n181\n00:08:16.070 --> 00:08:19.290\nIf I had a bigger drive and I want to\ncreate a partition just for the operating\n\n182\n00:08:19.290 --> 00:08:23.218\nsystem, partition off some space, I could\ndo that with this little new button here.\n\n183\n00:08:23.218 --> 00:08:26.630\nI'm going to let it use the entire\n60 GB and I'll click next.\n\n184\n00:08:28.650 --> 00:08:33.710\nAnd at that point,\nit should start the installation process.\n\n185\n00:08:33.710 --> 00:08:36.190\nSo it's now copying those\nfiles over from that DVD.\n\n186\n00:08:36.190 --> 00:08:38.280\nIt's basically applying that image.\n\n187\n00:08:38.280 --> 00:08:43.100\nThere's a WIM file on that 2012 R2 DVD.\n\n188\n00:08:43.100 --> 00:08:44.700\nNow normally we sit here and wait.\n\n189\n00:08:44.700 --> 00:08:48.590\nThis should take 15, 20 minutes, but\nthrough the magic of virtualization.\n\n190\n00:08:48.590 --> 00:08:50.885\n>> We get to bypass all that action.\n\n191\n00:08:50.885 --> 00:08:51.946\n[LAUGH]\n>> We do.\n\n192\n00:08:51.946 --> 00:08:57.010\nSo, I'm going to go ahead and\njump over to a snapshot that I have taken.\n\n193\n00:08:57.010 --> 00:09:00.780\nThat should be right after\nthe installation here.\n\n194\n00:09:00.780 --> 00:09:03.660\n>> Now, Mike, the cool thing about this so\nfar is, other than\n\n195\n00:09:03.660 --> 00:09:08.490\nI chose the core installation instead of\nthe GUI setup, everything looks identical.\n\n196\n00:09:08.490 --> 00:09:10.830\nIf I wanted to create partitions,\nall that stuff was there.\n\n197\n00:09:10.830 --> 00:09:13.415\nI didn't lose the GUI in my installation\n\n198\n00:09:13.415 --> 00:09:16.105\njust because I chose\nthe core installation.\n\n199\n00:09:16.105 --> 00:09:18.795\nI still get all that nice\nfunctionality and say okay,\n\n200\n00:09:18.795 --> 00:09:22.345\nI want to create partitions or\nwhatever it is I need to do.\n\n201\n00:09:22.345 --> 00:09:26.215\nI walk myself through that and\nget all the way to the installing screen,\n\n202\n00:09:26.215 --> 00:09:28.385\nwatch it roll through that\naction until its done.\n\n203\n00:09:28.385 --> 00:09:31.715\nThe difference doesn't come\nuntil we actually fire up\n\n204\n00:09:31.715 --> 00:09:33.795\nafter we get everything installed.\n\n205\n00:09:33.795 --> 00:09:34.455\n>> Exactly, exactly.\n\n206\n00:09:34.455 --> 00:09:38.540\nSo really what you're looking at\nbeginning during an install Is Win PE.\n\n207\n00:09:38.540 --> 00:09:39.980\nSo that really doesn't change.\n\n208\n00:09:39.980 --> 00:09:41.430\nThat's going to always be the same.\n\n209\n00:09:41.430 --> 00:09:46.820\nSo we can get to use that nice handy\nGUI during the install process.\n\n210\n00:09:46.820 --> 00:09:49.640\nNow, this is where it starts to differ.\n\n211\n00:09:49.640 --> 00:09:53.130\nSo we chose Core during\nthat installation process.\n\n212\n00:09:53.130 --> 00:09:57.490\nRemember when we did these server with at\nGUI, the first thing that it asked me was\n\n213\n00:09:57.490 --> 00:10:00.020\nwhat do you want to set\nyour local admin password?\n\n214\n00:10:00.020 --> 00:10:02.658\nI said that then I came\nto the log on screen.\n\n215\n00:10:02.658 --> 00:10:05.310\nThe server core actually came right to\nthe log on screen you might be thinking,\n\n216\n00:10:05.310 --> 00:10:08.220\nwell wait Mike you didn't set\nthe local admin password.\n\n217\n00:10:08.220 --> 00:10:09.670\nHow are you going to log on?\n\n218\n00:10:09.670 --> 00:10:13.138\nWell when you go to log on,\nif I give a little focus,\n\n219\n00:10:13.138 --> 00:10:16.210\nI'm going to choose administrator.\n\n220\n00:10:16.210 --> 00:10:19.550\nAnd it says the user's password\nmust be changed before signing in.\n\n221\n00:10:19.550 --> 00:10:21.310\nSo you still have to set it.\n\n222\n00:10:21.310 --> 00:10:24.470\nIt just does it a little bit\ndifferently when we do server core.\n\n223\n00:10:24.470 --> 00:10:28.720\nSo I'll go ahead and type in that new\nsuper secret password I'm going to use for\n\n224\n00:10:28.720 --> 00:10:34.770\nthat local admin account, and hopefully,\nsays my password has been changed,\n\n225\n00:10:34.770 --> 00:10:39.280\nand I should be able to\nlog on at this point.\n\n226\n00:10:39.280 --> 00:10:42.620\nAnd we'll wait for it.\n\n227\n00:10:42.620 --> 00:10:44.220\nOh wait, there is no dead sound.\n\n228\n00:10:44.220 --> 00:10:45.450\n>> This is it.\n\n229\n00:10:45.450 --> 00:10:46.560\n>> This is it.\n>> We're looking at it.\n\n230\n00:10:46.560 --> 00:10:47.120\n>> This is all you get.\n\n231\n00:10:47.120 --> 00:10:48.570\nExactly.\n\n232\n00:10:48.570 --> 00:10:50.460\nThis is server core.\n\n233\n00:10:50.460 --> 00:10:51.890\nThere is no GUI.\n\n234\n00:10:51.890 --> 00:10:55.390\nThere are a couple of little\nwizards left in here,\n\n235\n00:10:55.390 --> 00:10:59.760\nhere and there that you'll see pop up,\nbut notice there's no desktop,\n\n236\n00:10:59.760 --> 00:11:03.160\nthere's no start menu, there's no\nwindow exp Explore, none of that.\n\n237\n00:11:03.160 --> 00:11:06.740\nAll I get is this fantastic\nlittle command prompt.\n\n238\n00:11:06.740 --> 00:11:07.320\nAlright?\n\n239\n00:11:07.320 --> 00:11:09.710\nNow one of the things that I\ndo want to show you guys, and\n\n240\n00:11:09.710 --> 00:11:12.940\nthis is probably not something\nthat's going to be on the exam,\n\n241\n00:11:12.940 --> 00:11:17.230\nbut I think it's something that's\nimportant to show you is I type exit and\n\n242\n00:11:17.230 --> 00:11:19.890\nI hit enter, and\nmy command prompt goes away.\n\n243\n00:11:19.890 --> 00:11:23.226\nNow, Daniel I know you work a lot\nfrom the command prompt, I know I do.\n\n244\n00:11:23.226 --> 00:11:26.150\nAnd out of habit, usually when I'm done,\nI'll type exit and hit enter,\n\n245\n00:11:26.150 --> 00:11:28.350\nI have to go back to my desktop.\n\n246\n00:11:28.350 --> 00:11:31.070\nIf you do that on server core,\nyou're kind of stuck.\n\n247\n00:11:31.070 --> 00:11:32.090\nRight, I can't right click.\n\n248\n00:11:32.090 --> 00:11:35.310\nI'm right clicking right now, you're\nnot seeing any context menu come up,\n\n249\n00:11:35.310 --> 00:11:39.500\nI can't go down to my task bar, it's not\ngoing to pop up or anything like that.\n\n250\n00:11:39.500 --> 00:11:40.190\nSo now what?\n\n251\n00:11:40.190 --> 00:11:44.070\n>> Yeah, I think the mouse is just\nabout useless in this version of\n\n252\n00:11:44.070 --> 00:11:44.810\noperating system.\n\n253\n00:11:44.810 --> 00:11:48.210\nI think only feature it does\ngive enables the actual scroll.\n\n254\n00:11:48.210 --> 00:11:49.430\nYou can scroll if you're on.\n\n255\n00:11:49.430 --> 00:11:51.990\nBut if you've done this,\nyou're kind of stuck.\n\n256\n00:11:51.990 --> 00:11:53.010\n>> Yeah.\n>> Or are you?\n\n257\n00:11:53.010 --> 00:11:54.480\n>> Not completely you've\ngot to know the trick.\n\n258\n00:11:54.480 --> 00:11:55.060\n>> They give you a way.\n\n259\n00:11:55.060 --> 00:11:57.090\n>> Yeah, they do and\nthat's why I wanted to show you this.\n\n260\n00:11:57.090 --> 00:12:00.220\nBecause a lot of people might at\nthis point do a hard reboot on\n\n261\n00:12:00.220 --> 00:12:01.410\nthe server, right?\n\n262\n00:12:01.410 --> 00:12:03.150\nJust go reset the dern thing so\n\n263\n00:12:03.150 --> 00:12:05.940\nI can get it to boot up and\nI get that command prompt back.\n\n264\n00:12:05.940 --> 00:12:07.530\nBut what if it's a production server.\n\n265\n00:12:07.530 --> 00:12:08.940\nIf it's doing something important,\n\n266\n00:12:08.940 --> 00:12:10.280\nyou can't just reboot it\nin the middle of the day.\n\n267\n00:12:10.280 --> 00:12:10.893\n>> That's an email server.\n\n268\n00:12:10.893 --> 00:12:11.580\n[LAUGH]\n>> Yeah, exactly.\n\n269\n00:12:11.580 --> 00:12:14.550\n>> Go ahead and reboot that,\nsee how well that works out for you.\n\n270\n00:12:14.550 --> 00:12:16.830\n>> What you would do is act\nlike you're going to log off.\n\n271\n00:12:16.830 --> 00:12:21.170\nYou go ahead and Ctrl+Alt+Delete on\nthe keyboard on that Server Core.\n\n272\n00:12:21.170 --> 00:12:23.300\nAnd notice it brings up this screen here.\n\n273\n00:12:23.300 --> 00:12:25.550\nAnd I can go to Task Manager.\n\n274\n00:12:25.550 --> 00:12:29.850\nAnd Task Manager is one of those few\nGUIs that still remains in Core.\n\n275\n00:12:29.850 --> 00:12:32.360\nAnd from here I can say Run New Task.\n\n276\n00:12:32.360 --> 00:12:37.790\nI type in CMD, and there's my prompt back.\n\n277\n00:12:37.790 --> 00:12:41.630\nSo, if you ever get in that situation\nwhere you've logged onto core, or\n\n278\n00:12:41.630 --> 00:12:45.150\nyou've somehow closed that command prompt,\nnow you know how to get it back.\n\n279\n00:12:45.150 --> 00:12:47.460\nJust do your control-alt-delete\nlike you were going to log off or\n\n280\n00:12:47.460 --> 00:12:51.760\nlock the screen, choose task manager,\nand launch into your command prompt, and\n\n281\n00:12:51.760 --> 00:12:52.400\nyou're back in business.\n\n282\n00:12:52.400 --> 00:12:56.130\n>> Yeah, you could probably even just\nlog out and then log back in and\n\n283\n00:12:56.130 --> 00:12:57.880\nit'll greet you with the command prompt.\n\n284\n00:12:57.880 --> 00:13:00.870\nThat's also, six of one,\nhalf a dozen of the other.\n\n285\n00:13:00.870 --> 00:13:01.840\n>> Exactly.\n>> Whatever your\n\n286\n00:13:01.840 --> 00:13:03.210\npleasure is out there fellas.\n\n287\n00:13:03.210 --> 00:13:05.640\n>> All right.\nLet me adjust this prompt just a wee bit\n\n288\n00:13:05.640 --> 00:13:09.879\nso I can, so you guys can read it\na little bit better out there in TV land.\n\n289\n00:13:11.620 --> 00:13:12.920\nWe'll try 18 here.\n\n290\n00:13:12.920 --> 00:13:14.900\nSee how that works for me.\n\n291\n00:13:14.900 --> 00:13:18.590\nAll right, so the next thing I want to do\nis I want to configure my server, right?\n\n292\n00:13:18.590 --> 00:13:22.590\nWhen we install server operating system,\nwe just finished installing it,\n\n293\n00:13:22.590 --> 00:13:25.760\nour next step is usually our\npost installation test, right?\n\n294\n00:13:25.760 --> 00:13:27.280\nThat means configuring the name,\n\n295\n00:13:27.280 --> 00:13:30.400\nthe time zone, the IP address,\njoin anchor to the main.\n\n296\n00:13:30.400 --> 00:13:34.630\nSetting that server up for\nuse on our network.\n\n297\n00:13:34.630 --> 00:13:38.140\nWe could use our command line.\n\n298\n00:13:38.140 --> 00:13:39.890\nThere are commands to do all of this.\n\n299\n00:13:39.890 --> 00:13:42.280\nLike if you want to set\nyour TCP-IP settings.\n\n300\n00:13:42.280 --> 00:13:44.490\nYou've got your netsh commands.\n\n301\n00:13:44.490 --> 00:13:48.950\nIf you want to change the name of your\ncomputer, or change the domain membership.\n\n302\n00:13:48.950 --> 00:13:51.390\nYou've got your net DOM commands.\n\n303\n00:13:51.390 --> 00:13:55.530\nSo there are commands that you can use\nright here from the command prompt.\n\n304\n00:13:55.530 --> 00:13:59.480\nThe server core has something\nbetter I think that we can use.\n\n305\n00:13:59.480 --> 00:14:01.180\nIt makes it a lot easier.\n\n306\n00:14:01.180 --> 00:14:04.800\nI call it the server configurator,\nI don't know what the official name is.\n\n307\n00:14:04.800 --> 00:14:07.507\nCheck it out.\nIt's S config is what I'm going to\n\n308\n00:14:07.507 --> 00:14:08.680\ntype in.\n\n309\n00:14:08.680 --> 00:14:10.510\nS config, and then I'm going to hit enter.\n\n310\n00:14:10.510 --> 00:14:15.650\nAnd you notice by server the grandfather\npanel changes to a blue background,\n\n311\n00:14:15.650 --> 00:14:18.100\nand I get a nice little menu here.\n\n312\n00:14:18.100 --> 00:14:20.130\nSo it's not quite a GUI.\n\n313\n00:14:20.130 --> 00:14:22.680\nI still can't click in here, but\n\n314\n00:14:22.680 --> 00:14:26.850\nI can use those numbers to navigate\nthrough these different options.\n\n315\n00:14:26.850 --> 00:14:28.320\nSo really handy for\n\n316\n00:14:28.320 --> 00:14:32.910\ndoing that initial configuration on\na server core, thank you, Microsoft.\n\n317\n00:14:32.910 --> 00:14:34.880\nThis was actually written,\nI can't remember the gentleman's name,\n\n318\n00:14:34.880 --> 00:14:38.940\nI should have re-looked that up before\nI did this but, that wrote this, and\n\n319\n00:14:38.940 --> 00:14:41.380\nthey finally incorporated into.\n\n320\n00:14:41.380 --> 00:14:43.960\nYeah, initially you had to go get this and\n\n321\n00:14:43.960 --> 00:14:46.330\nbring it onto your server,\nit's now part of.\n\n322\n00:14:46.330 --> 00:14:48.340\nSo it's nothing I installed or\nanything like that.\n\n323\n00:14:49.680 --> 00:14:52.580\nAlright so the first thing I'm going to\ndo, if you've watched our other episode on\n\n324\n00:14:52.580 --> 00:14:56.850\nconfiguring a server with a full\ninstallation with the GUI.\n\n325\n00:14:56.850 --> 00:14:59.930\nWe did our post installation test,\nfirst thing I did was change the name.\n\n326\n00:14:59.930 --> 00:15:01.770\nWell, I'm going to do the same thing here,\n\n327\n00:15:01.770 --> 00:15:06.600\nyou can see up here at the top that's\noption number two to change that name.\n\n328\n00:15:06.600 --> 00:15:08.510\nSo I'll do a number two, and hit enter.\n\n329\n00:15:08.510 --> 00:15:12.380\nAnd it asks me for the name of my\ncomputer and I'm going to do server O2.\n\n330\n00:15:13.440 --> 00:15:14.680\nI'll hit enter.\n\n331\n00:15:14.680 --> 00:15:18.020\nAnd then just like with the GUI,\nI'm going to have just like any server,\n\n332\n00:15:18.020 --> 00:15:20.230\nif you change the name you're\ngoing to have to reboot.\n\n333\n00:15:20.230 --> 00:15:22.320\nSo go ahead and say yes,\nto reboot that system.\n\n334\n00:15:23.760 --> 00:15:28.000\nAnd I tell you what, Daniel,\nServer 2012 R2 reboots fast already.\n\n335\n00:15:28.000 --> 00:15:30.180\nServer Core, even faster.\n\n336\n00:15:30.180 --> 00:15:33.355\n>> Yeah, well, it doesn't have all that\noverhead and to load that GUI, and\n\n337\n00:15:33.355 --> 00:15:36.655\nobviously there's still some GUI\nelements that are lingering around.\n\n338\n00:15:36.655 --> 00:15:40.535\nWe've seen them and Mike just got a prompt\nto saying you need to restart your\n\n339\n00:15:40.535 --> 00:15:42.275\ncomputer before these changes take effect.\n\n340\n00:15:42.275 --> 00:15:42.805\nThat was a GUI.\n\n341\n00:15:42.805 --> 00:15:43.668\nIt wasn't a command line.\n\n342\n00:15:43.668 --> 00:15:47.530\nIt didn't come up in the command line\nitself and actually pop up a window,\n\n343\n00:15:47.530 --> 00:15:51.517\nso there is a little bit going on, but\nnowhere near like what you would expect\n\n344\n00:15:51.517 --> 00:15:54.851\nto see when it comes to just\na standard GUI install of 2012.\n\n345\n00:15:54.851 --> 00:15:59.067\nThis is almost harkening to\ncompete with those Linux servers,\n\n346\n00:15:59.067 --> 00:16:03.518\ntheir headless count was like a sent OS or\na red hat type of deal where\n\n347\n00:16:03.518 --> 00:16:08.250\nyou're just basically in a command\nprompt the entire time in the CLI.\n\n348\n00:16:08.250 --> 00:16:09.620\n>> Absolutely.\n\n349\n00:16:09.620 --> 00:16:12.990\nSo here we are, I'm logged back in and\nmy prompt is opened back up.\n\n350\n00:16:12.990 --> 00:16:15.280\nI am gonna launch sconfig one more time.\n\n351\n00:16:17.380 --> 00:16:18.370\nAnd we are back.\n\n352\n00:16:18.370 --> 00:16:23.240\nAnd you now you can see the name\nof my computer is listed as SVR02.\n\n353\n00:16:23.240 --> 00:16:24.530\nSo we're good to go there.\n\n354\n00:16:24.530 --> 00:16:27.660\nThe next thing I wanna do is\nchange my time and my date.\n\n355\n00:16:27.660 --> 00:16:31.160\nAnd as we can see from the menu,\nthat's option number 9 over there.\n\n356\n00:16:31.160 --> 00:16:32.570\nSo I'll type in 9 and hit Enter.\n\n357\n00:16:32.570 --> 00:16:36.460\nAnd this one makes me laugh,\nbecause it does actually pop up a GUI.\n\n358\n00:16:36.460 --> 00:16:39.500\nAs you were saying, yeah,\nthere's still a few GUIs left in here.\n\n359\n00:16:39.500 --> 00:16:41.250\nFew and far between.\n\n360\n00:16:41.250 --> 00:16:44.170\nThe only thing I can think of,\nDaniel, there's a lot of time zones.\n\n361\n00:16:44.170 --> 00:16:48.830\nSo if they were going to give me a number\ndriven menu to pick my time zone,\n\n362\n00:16:48.830 --> 00:16:50.170\nthat might be a long list, right.\n\n363\n00:16:50.170 --> 00:16:53.010\nSo it looks like it's\neasier to set it this way.\n\n364\n00:16:53.010 --> 00:16:55.710\nSo we'll choose eastern time zone.\n\n365\n00:16:55.710 --> 00:16:59.260\nI should check my clock,\n2:30 is about right.\n\n366\n00:16:59.260 --> 00:17:00.492\nWe're good to go, I'll click OK there.\n\n367\n00:17:00.492 --> 00:17:03.450\nAll right so now my date and time are set.\n\n368\n00:17:03.450 --> 00:17:05.200\nRemember date and\ntime are important, right.\n\n369\n00:17:05.200 --> 00:17:07.930\nIf your machine by\ndefault in group policy,\n\n370\n00:17:07.930 --> 00:17:12.010\nif the machine's clock is off by more than\nfive minutes from the domain controller,\n\n371\n00:17:12.010 --> 00:17:15.430\nit thinks something's wrong and it won't\nlet you talk to the domain controller, so.\n\n372\n00:17:15.430 --> 00:17:17.820\nIt's important to set that time correctly.\n\n373\n00:17:17.820 --> 00:17:20.010\n>> I've had those help desk\ncalls plenty of times.\n\n374\n00:17:20.010 --> 00:17:21.070\nWhat are we gonna do?\n\n375\n00:17:21.070 --> 00:17:23.417\nEspecially since,\nif you're working remotely,\n\n376\n00:17:23.417 --> 00:17:26.857\nif someone's trying to log in remotely or\nyou were building this server and\n\n377\n00:17:26.857 --> 00:17:30.530\ntrying to work at it remotely and the time\ngot off and you weren't able to set it.\n\n378\n00:17:31.860 --> 00:17:37.320\nI had to go into bios and change it in\nthe bios and then we were able to log on.\n\n379\n00:17:37.320 --> 00:17:40.910\nSometimes a reboot will just work for you\nif it's already connected in the domain\n\n380\n00:17:40.910 --> 00:17:42.465\nbut sometimes you gotta\ndo it the hard way.\n\n381\n00:17:42.465 --> 00:17:43.330\n[LAUGH]\n>> Exactly.\n\n382\n00:17:43.330 --> 00:17:47.068\nOnce it's connected to domain there's\na service that runs on your network that\n\n383\n00:17:47.068 --> 00:17:50.583\nsynchronizes time but until then it's\ntrying to get an external source and\n\n384\n00:17:50.583 --> 00:17:51.780\nif it doesn't have one.\n\n385\n00:17:51.780 --> 00:17:53.684\nIt won't be able to synchronize, and\n\n386\n00:17:53.684 --> 00:17:56.130\nit could be easily off by\nmore than five minutes.\n\n387\n00:17:56.130 --> 00:17:57.220\nAll right, so I've set the name and\n\n388\n00:17:57.220 --> 00:18:01.780\nI've set my time, the next thing we're\ngoing to do is set our TCP/IP settings.\n\n389\n00:18:01.780 --> 00:18:05.135\nThat is option number 8 from my list,\nso I'll choose number 8.\n\n390\n00:18:06.530 --> 00:18:08.240\nAnd this is going to be\na little bit different.\n\n391\n00:18:08.240 --> 00:18:12.520\nWhat happens here, you could have more\nthan one network adapter in your server,\n\n392\n00:18:12.520 --> 00:18:15.920\nin fact most servers do have\nmore than one network adapter.\n\n393\n00:18:15.920 --> 00:18:18.250\nSo when I tell it I wanna\nchange my network settings,\n\n394\n00:18:18.250 --> 00:18:21.090\nit has to know what adapter I wanna use.\n\n395\n00:18:21.090 --> 00:18:25.490\nSo I can see there's an index number over\nhere of 10, so I'll choose that, and\n\n396\n00:18:25.490 --> 00:18:26.080\nI'll hit enter.\n\n397\n00:18:27.180 --> 00:18:32.390\nAnd it looks like it already has-\n>> You're probably on the virtual machine.\n\n398\n00:18:32.390 --> 00:18:36.689\n>> [CROSSTALK] Yeah, it's picking\nup DHCP from my virtual server, or\n\n399\n00:18:36.689 --> 00:18:38.160\nfrom VM work station.\n\n400\n00:18:38.160 --> 00:18:40.054\nAll right, so I said a number 10,\n\n401\n00:18:40.054 --> 00:18:43.730\nbecause that's the index number\nassigned to this network adapter.\n\n402\n00:18:43.730 --> 00:18:47.440\nIf there was more than one network\nadapter they would all be listed there.\n\n403\n00:18:47.440 --> 00:18:51.010\nAnd I would just choose the appropriate\nindex number and then I could go back and\n\n404\n00:18:51.010 --> 00:18:53.360\nconfigure the next one if I wanted to.\n\n405\n00:18:53.360 --> 00:18:57.570\nIt shows me what my current\nsettings are for NIC Index 10.\n\n406\n00:18:57.570 --> 00:18:59.840\nI want to change the network\nadapter address.\n\n407\n00:18:59.840 --> 00:19:02.250\nFor this I get a separate menu,\nit's like a little sub menu here.\n\n408\n00:19:02.250 --> 00:19:05.850\nI want to use number 1 for\nthe network adapter address.\n\n409\n00:19:05.850 --> 00:19:12.500\nI'm gonna do an s for static, d for\nDHCP, and my IP address is 10.1.1.202,\n\n410\n00:19:12.500 --> 00:19:18.490\nbecause we used 201 for\nthat other server in another episode.\n\n411\n00:19:18.490 --> 00:19:19.450\nI'll hit enter.\n\n412\n00:19:19.450 --> 00:19:21.050\nMy subnet mask is 255.255.255.0.\n\n413\n00:19:21.050 --> 00:19:27.730\nAnd I don't have a default\ngateway in this test lab.\n\n414\n00:19:27.730 --> 00:19:30.620\nThey're not getting Internet access.\n\n415\n00:19:30.620 --> 00:19:32.175\nAnd there we go.\n\n416\n00:19:32.175 --> 00:19:33.565\nNow, this is where we gotta be careful.\n\n417\n00:19:33.565 --> 00:19:35.015\nYou might think, great!\n\n418\n00:19:35.015 --> 00:19:39.745\nI got all my TCP/IP settings good to go,\nlet's go ahead and join the domain, right?\n\n419\n00:19:39.745 --> 00:19:40.855\nBut not so much.\n\n420\n00:19:40.855 --> 00:19:45.140\n>> I just wanna say there's\nstill a very important little\n\n421\n00:19:45.140 --> 00:19:47.480\ncaveat that we haven't\nquite addressed yet.\n\n422\n00:19:47.480 --> 00:19:48.990\nAnd that is DNS.\n\n423\n00:19:48.990 --> 00:19:49.990\n>> DNS exactly.\n\n424\n00:19:49.990 --> 00:19:50.985\nGood catch Daniel.\n\n425\n00:19:50.985 --> 00:19:54.460\nWhen you're in the GUI and\nyou pull up your TCP/IP settings and\n\n426\n00:19:54.460 --> 00:19:58.410\nyou pull up those IPv4 settings they're\nall right there one page right.\n\n427\n00:19:58.410 --> 00:20:00.420\nIP address subnet mask, default gateway,\n\n428\n00:20:00.420 --> 00:20:03.740\npreferred DNS server,\nalternate DNS server.\n\n429\n00:20:03.740 --> 00:20:06.740\nSo you set them all right there,\nyou click okay and you're good to go.\n\n430\n00:20:06.740 --> 00:20:10.290\nWhen you come through here notice it\nnever asks me anything about DNS.\n\n431\n00:20:10.290 --> 00:20:13.160\nIt just got my IP address,\nsubnet mask and default gateway.\n\n432\n00:20:13.160 --> 00:20:17.150\nAnd if I don't pay attention,\nI can move on and not ever set that so.\n\n433\n00:20:17.150 --> 00:20:19.888\nThere's a separate option,\nnumber 2, set DNS servers.\n\n434\n00:20:19.888 --> 00:20:22.240\nSo I go to number 2 and enter.\n\n435\n00:20:22.240 --> 00:20:25.820\n>> Now Mike, I don't know about you,\nbut I like using actual domain names.\n\n436\n00:20:25.820 --> 00:20:27.340\nIt's a little, little easier for\n\n437\n00:20:27.340 --> 00:20:30.380\nme to bounce around between\nthe different servers.\n\n438\n00:20:30.380 --> 00:20:33.120\nI'm not into memorizing IP addresses.\n\n439\n00:20:33.120 --> 00:20:34.270\nNow, as you work in the field and\n\n440\n00:20:34.270 --> 00:20:37.410\nthe environment,\nyou start learning what server's what.\n\n441\n00:20:37.410 --> 00:20:41.660\nYou will memorize a few IP addresses but\nif you've got DNS it's\n\n442\n00:20:41.660 --> 00:20:44.750\na whole lot easier to type,\nit's just easier to work with in general.\n\n443\n00:20:44.750 --> 00:20:47.120\nPlus, you're doing things\nlike active directory,\n\n444\n00:20:47.120 --> 00:20:49.380\nespecially if you're going\nto be a domain controller.\n\n445\n00:20:49.380 --> 00:20:50.280\nYou gotta have it.\n\n446\n00:20:50.280 --> 00:20:51.290\nIt must be there.\n\n447\n00:20:51.290 --> 00:20:54.785\nThat directory, it doesn't work right,\nit doesn't work at all actually.\n\n448\n00:20:54.785 --> 00:20:59.355\n>> Yeah, they are like this,\nactive directory and DNS are a one to one.\n\n449\n00:20:59.355 --> 00:21:01.365\nActive directory has to have DNS.\n\n450\n00:21:01.365 --> 00:21:04.275\nAnd if I want this guy to join\nthe domain when I'm done,\n\n451\n00:21:04.275 --> 00:21:06.490\nI have to be able to find\nthe domain controller.\n\n452\n00:21:06.490 --> 00:21:09.580\nAnd in order to find the domain controller\nof my machine, my unit is going to\n\n453\n00:21:09.580 --> 00:21:14.800\nsend a DNS query looking for\nmy Kerberos servers and my LDAP servers.\n\n454\n00:21:14.800 --> 00:21:17.290\nSo I need to make sure\nthat it's set correctly.\n\n455\n00:21:17.290 --> 00:21:21.440\nSo I'll type it in there 10.1.1.200\nis the IP address of my DNS server.\n\n456\n00:21:21.440 --> 00:21:22.840\nI'll hit enter.\n\n457\n00:21:22.840 --> 00:21:26.200\nAnd, strangely enough, you get this little\npop-up that preferred DNS server set.\n\n458\n00:21:26.200 --> 00:21:27.790\nI don't know why that's still in there.\n\n459\n00:21:27.790 --> 00:21:30.460\nWe'll click OK, and\nthen just like in the GUI,\n\n460\n00:21:30.460 --> 00:21:35.490\nI can set an alternate DNS server in\ncase the first one is not responding.\n\n461\n00:21:35.490 --> 00:21:37.610\nI don't have an alternate\nDNS server in this case, so\n\n462\n00:21:37.610 --> 00:21:43.810\nit does say blank equals none, so I'll\njust hit enter for blank, and there we go.\n\n463\n00:21:43.810 --> 00:21:48.070\nMy IP address is set, my subnet mask,\nI don't have a default gateway.\n\n464\n00:21:48.070 --> 00:21:51.310\nMy DNS server address is set correctly,\nand\n\n465\n00:21:51.310 --> 00:21:55.070\nnow I'm going to do number 4 to\nget back out to the main menu.\n\n466\n00:21:55.070 --> 00:21:58.600\nNow if you remember, if you watched\nthe other episode where we did the server\n\n467\n00:21:58.600 --> 00:22:02.330\nfull install, the next thing I did\nwas ping the domain controller.\n\n468\n00:22:02.330 --> 00:22:04.850\nMake sure I could reach\nit before I moved on and\n\n469\n00:22:04.850 --> 00:22:07.820\ntried to join the domain,\nwhich is what I'm gonna do here.\n\n470\n00:22:07.820 --> 00:22:10.930\nBut I can't do that within\nthe server configuration.\n\n471\n00:22:10.930 --> 00:22:11.940\nSo I'm gonna type in number 15,\n\n472\n00:22:11.940 --> 00:22:15.735\nwhich is this last option down here,\nexit to command line.\n\n473\n00:22:15.735 --> 00:22:19.655\nIt always makes me laugh,\nit just turns the background black.\n\n474\n00:22:19.655 --> 00:22:21.797\n[LAUGH] This doesn't\nactually change tools, but\n\n475\n00:22:21.797 --> 00:22:25.150\nall those number driven options over here,\nthey're no longer available.\n\n476\n00:22:25.150 --> 00:22:27.870\nServer configuration\nis not loaded anymore.\n\n477\n00:22:27.870 --> 00:22:31.930\nBut I should be able to ping dc01.lab.net.\n\n478\n00:22:31.930 --> 00:22:36.810\nAnd if I start getting replies,\nI'm good to go.\n\n479\n00:22:36.810 --> 00:22:39.900\nThat means I should be\nable to join the domain.\n\n480\n00:22:39.900 --> 00:22:43.090\nSo then it's right back into\nsconfig to finish it off.\n\n481\n00:22:43.090 --> 00:22:47.980\nSo I type sconfig, and the last one we're\ngoing to set here is this number 1,\n\n482\n00:22:47.980 --> 00:22:50.060\ndomain or workgroup membership.\n\n483\n00:22:50.060 --> 00:22:54.275\nI'll do a number 1, and\nI want to join a domain, so that's a D,\n\n484\n00:22:54.275 --> 00:22:58.660\nyou can see a W for workgroup if I\nwas pulling this out of the domain.\n\n485\n00:22:58.660 --> 00:23:03.170\nAnd then the name of the domain\nto join is lab.net in my case.\n\n486\n00:23:03.170 --> 00:23:05.360\nAnd then I'll hit enter.\n\n487\n00:23:05.360 --> 00:23:08.850\nAnd then just like if I had a GUI,\nI gotta provide credentials.\n\n488\n00:23:08.850 --> 00:23:10.300\nI'm logged on as the local admin.\n\n489\n00:23:10.300 --> 00:23:12.650\nI have no rights in active directory.\n\n490\n00:23:12.650 --> 00:23:19.440\nSo I'm going to have to provide that,\nso lab/administrator.\n\n491\n00:23:19.440 --> 00:23:23.310\nAnd then it pops up a command prompt\nwindow for me to enter the password and\n\n492\n00:23:23.310 --> 00:23:25.720\nthat's in case somebody's\ndoing shoulder surfing.\n\n493\n00:23:25.720 --> 00:23:27.230\nIt's not going to show\nyou what you type and\n\n494\n00:23:27.230 --> 00:23:28.980\nI have a lot of people\nthat get goofed up here.\n\n495\n00:23:28.980 --> 00:23:32.110\nYou just have to be careful, cuz you're\nnot going to see the cursor move.\n\n496\n00:23:32.110 --> 00:23:34.590\nIt's not going to show\nyou what you're typing.\n\n497\n00:23:34.590 --> 00:23:35.800\nSo just be careful.\n\n498\n00:23:35.800 --> 00:23:37.050\nType it in.\n\n499\n00:23:37.050 --> 00:23:39.740\nAnd hit Enter.\nEven though it doesn't look like anything\n\n500\n00:23:39.740 --> 00:23:41.950\nhappened, it should be processing it.\n\n501\n00:23:41.950 --> 00:23:45.543\nAnd worse case scenario, if you type\nsomething and you know you goofed up,\n\n502\n00:23:45.543 --> 00:23:48.792\njust hit Enter, it's gonna fail and\nyou just join it again right and\n\n503\n00:23:48.792 --> 00:23:50.180\ntype it in one more time.\n\n504\n00:23:50.180 --> 00:23:54.250\nIt's not the end of the world\nif you mistype that password.\n\n505\n00:23:54.250 --> 00:23:57.473\nNow, here's where sometimes\nserver cord will goof you up.\n\n506\n00:23:57.473 --> 00:24:03.523\nIt looks like I typed in the password, and\nnow I'm waiting, it says joining lab.net.\n\n507\n00:24:03.523 --> 00:24:11.080\nWhat you might not notice is\nbehind here is a little prompt.\n\n508\n00:24:11.080 --> 00:24:14.530\nWhy it likes to do the pop behind,\nI do not know.\n\n509\n00:24:14.530 --> 00:24:15.680\nJust be aware of that.\n\n510\n00:24:15.680 --> 00:24:17.490\nAnd it's asking me hey,\n\n511\n00:24:17.490 --> 00:24:20.830\ndo you wanna change the computer\nname before restarting the computer?\n\n512\n00:24:20.830 --> 00:24:23.570\nRemember, I changed the name of\nthe computer at the very beginning.\n\n513\n00:24:23.570 --> 00:24:25.570\nThat was one of the first things I did.\n\n514\n00:24:25.570 --> 00:24:28.035\nAnd this is another place\nI will see people goof up.\n\n515\n00:24:28.035 --> 00:24:32.190\nCuz, they'll think, that that dialog is\nsaying, do you wanna join the domain or\n\n516\n00:24:32.190 --> 00:24:33.140\nwelcome to the domain.\n\n517\n00:24:33.140 --> 00:24:35.010\nAnd they'll just click yes, and\n\n518\n00:24:35.010 --> 00:24:37.610\nthen it pulls up a screen that allows\nyou to change the name of the computer.\n\n519\n00:24:37.610 --> 00:24:39.310\nWait, I already changed\nthe name of the computer.\n\n520\n00:24:39.310 --> 00:24:41.090\nAnd it gets a little weird at that point.\n\n521\n00:24:41.090 --> 00:24:42.970\nSo make sure you read your prompts.\n\n522\n00:24:42.970 --> 00:24:43.820\nRight?\n\n523\n00:24:43.820 --> 00:24:45.660\nSay, no, I don't wanna change the name.\n\n524\n00:24:46.910 --> 00:24:49.700\nAnd then it says, you must restart\nthe computer to apply the changes.\n\n525\n00:24:49.700 --> 00:24:52.460\nRestart now, yes and it will reboot.\n\n526\n00:24:52.460 --> 00:24:52.960\nAll right?\n\n527\n00:24:52.960 --> 00:24:56.420\nSo two little caveats there when\nyou're doing that or at least one.\n\n528\n00:24:56.420 --> 00:24:57.700\nAnd when you join the domain,\n\n529\n00:24:57.700 --> 00:25:02.290\nyou're gonna get a command prompt\nwindow to type in that password.\n\n530\n00:25:02.290 --> 00:25:04.932\nIt's not gonna show you your characters,\nso just be careful when you type it.\n\n531\n00:25:04.932 --> 00:25:06.645\nAnd if you goof up, just try it again.\n\n532\n00:25:06.645 --> 00:25:08.620\nTwo, if you're sitting there waiting,\nwaiting,\n\n533\n00:25:08.620 --> 00:25:10.490\nwaiting, it doesn't look\nlike anything's happening.\n\n534\n00:25:10.490 --> 00:25:13.470\nMinimize your Command Prompt window and\n\n535\n00:25:13.470 --> 00:25:16.800\nsee if you don't have a pop-up message\nthat somehow popped up behind there.\n\n536\n00:25:16.800 --> 00:25:19.940\n>> That is one of the best tips\nMike could have ever given you.\n\n537\n00:25:19.940 --> 00:25:22.430\nBecause I've not just Server Core.\n\n538\n00:25:22.430 --> 00:25:26.060\nBut I've did work with plenty of different\nproducts and sometimes that happens.\n\n539\n00:25:26.060 --> 00:25:28.450\nAnd you're sitting there going,\nwhy is this failing?\n\n540\n00:25:28.450 --> 00:25:30.250\nI've called tech support for\n\n541\n00:25:30.250 --> 00:25:33.550\nthose products themselves and\nthey're scratching their heads.\n\n542\n00:25:33.550 --> 00:25:36.520\nAnd we realize it's underneath the window.\n\n543\n00:25:36.520 --> 00:25:40.840\nAnd there's the next, or\nit was waiting for user interaction.\n\n544\n00:25:40.840 --> 00:25:41.920\nIt didn't get that user interaction.\n\n545\n00:25:41.920 --> 00:25:43.930\nIt just sits there, and\nyou think, it's broken.\n\n546\n00:25:43.930 --> 00:25:45.240\nIt's not working right.\n\n547\n00:25:45.240 --> 00:25:49.150\nI've done MD5 hashes, checking to\nmake sure my downloads are correct.\n\n548\n00:25:49.150 --> 00:25:49.730\nEverything's working.\n\n549\n00:25:49.730 --> 00:25:50.800\nI'm like, what's going on?\n\n550\n00:25:50.800 --> 00:25:54.350\nAnd it's something as\nsimple as it popped under\n\n551\n00:25:54.350 --> 00:25:56.320\nthe actual active window\nthat you're working with.\n\n552\n00:25:56.320 --> 00:26:00.600\nInstead of coming over the top of it for\ngetting your user interaction.\n\n553\n00:26:00.600 --> 00:26:01.800\nIt can send you in a tizzy.\n\n554\n00:26:01.800 --> 00:26:04.840\nYou're on forums, all sorts of stuff.\n\n555\n00:26:04.840 --> 00:26:05.750\nSave yourself some time.\n\n556\n00:26:05.750 --> 00:26:06.550\nGreat tip, Mike.\n\n557\n00:26:06.550 --> 00:26:07.990\n>> Yeah thank you.\n\n558\n00:26:07.990 --> 00:26:10.460\nI only know that because I've\nbeen there and done that, right.\n\n559\n00:26:10.460 --> 00:26:12.352\nSo I thought I'd share that with you guys.\n\n560\n00:26:12.352 --> 00:26:13.410\nAllright, so here we go.\n\n561\n00:26:13.410 --> 00:26:15.040\nSo now we're gonna,\ngo ahead and log back in.\n\n562\n00:26:15.040 --> 00:26:18.430\nAnd again I can see that it wants\nto log me in by default as that\n\n563\n00:26:18.430 --> 00:26:19.770\nlocal administrator.\n\n564\n00:26:19.770 --> 00:26:22.690\nI'm part of the domain now,\nI wanna log in with a domain account.\n\n565\n00:26:22.690 --> 00:26:26.790\nSo I can start adding roles and doing\nthings that require domain credentials.\n\n566\n00:26:26.790 --> 00:26:29.540\nSo I do a little back here\nto do the switch user.\n\n567\n00:26:29.540 --> 00:26:31.040\nOther user and\n\n568\n00:26:31.040 --> 00:26:35.410\nI'll log in as lab/administrator,\nif I can spell that right.\n\n569\n00:26:37.088 --> 00:26:37.774\n>> That's another great tip.\n[LAUGH]\n\n570\n00:26:37.774 --> 00:26:38.276\n>> It is.\n\n571\n00:26:38.276 --> 00:26:40.172\n[CROSSTALK] >> Spell\nadministrator correctly.\n\n572\n00:26:40.172 --> 00:26:41.921\n>> [LAUGH] All right, and\n\n573\n00:26:41.921 --> 00:26:44.255\nhere we\n>> And that's it.\n\n574\n00:26:44.255 --> 00:26:46.125\nI am now part of the domain.\n\n575\n00:26:46.125 --> 00:26:47.705\nI can verify that.\n\n576\n00:26:47.705 --> 00:26:51.265\nWe could actually open up sconfig again or\nI could do.\n\n577\n00:26:51.265 --> 00:26:53.405\nLet's see what else could I do Daniel?\n\n578\n00:26:53.405 --> 00:26:58.265\nI could do an IPconfig.all and\nI could show that my dns\n\n579\n00:26:58.265 --> 00:27:03.270\nsuffix is lab.net and\nif I go back into sconfig.\n\n580\n00:27:05.780 --> 00:27:10.520\nI can see the domain work group is\nlisted as lab.net so there you go.\n\n581\n00:27:10.520 --> 00:27:16.710\nNow we have taken server four all the way\nfrom install to that post configuration.\n\n582\n00:27:16.710 --> 00:27:20.200\nAnd joined it to domain, and\nit's now a member server.\n\n583\n00:27:20.200 --> 00:27:22.030\nAnd I can start adding rolls or\n\n584\n00:27:22.030 --> 00:27:24.460\nadding whatever functionality\nI need to that server.\n\n585\n00:27:24.460 --> 00:27:27.370\n>> Yeah, these are great\nservers to put in places You\n\n586\n00:27:27.370 --> 00:27:31.510\nprobably wouldn't put a server normally\nbecause of the inherent security of it.\n\n587\n00:27:31.510 --> 00:27:35.270\nThat makes it a little safer to put\nit somewhere maybe in a satellite.\n\n588\n00:27:35.270 --> 00:27:38.280\nLike a remote office that doesn't\nhave a dedicated server room.\n\n589\n00:27:38.280 --> 00:27:42.350\nThis would be ideal for that if you\nneeded an on site member server.\n\n590\n00:27:42.350 --> 00:27:43.810\nVery, very good stuff.\n\n591\n00:27:43.810 --> 00:27:45.440\nSuper simple to set up.\n\n592\n00:27:45.440 --> 00:27:46.280\nGet it set out there.\n\n593\n00:27:46.280 --> 00:27:48.020\nI mean you could even remotely.\n\n594\n00:27:48.020 --> 00:27:52.500\nI used to ship stuff like this out\nto my satellite offices and say.\n\n595\n00:27:52.500 --> 00:27:55.940\nJust plug this into the network,\nplug power to it, turn it on.\n\n596\n00:27:55.940 --> 00:27:57.650\nI've got a handle after that.\n\n597\n00:27:57.650 --> 00:28:01.690\n>> Really easy and I would have\nsomething that would work for us.\n\n598\n00:28:01.690 --> 00:28:05.770\nBetter than having them contact\nall the way to the home office.\n\n599\n00:28:05.770 --> 00:28:06.650\nMade things a whole lot easier.\n\n600\n00:28:06.650 --> 00:28:07.740\nGreat stuff Mike.\n\n601\n00:28:07.740 --> 00:28:08.300\n>> Very good.\nYeah,\n\n602\n00:28:08.300 --> 00:28:12.270\nand with today's virtualization,\nyou find that most organizations.\n\n603\n00:28:12.270 --> 00:28:14.930\nThe majority of their\nservers are virtualized and\n\n604\n00:28:14.930 --> 00:28:17.560\nyou're doing remote administration anyway.\n\n605\n00:28:17.560 --> 00:28:20.007\nWhich means I'm sitting\nat my Windows 8.1 box.\n\n606\n00:28:20.007 --> 00:28:24.650\nAnd I've got all my gooeys loaded up\nthere and I can manage DNS remotely.\n\n607\n00:28:24.650 --> 00:28:28.250\nIt doesn't matter if the DNS\nserver has a gooey on it or not.\n\n608\n00:28:28.250 --> 00:28:29.800\nSo most of my servers are Server Core.\n\n609\n00:28:29.800 --> 00:28:33.180\nAnd that's why Microsoft uses\nthat as their recommended option.\n\n610\n00:28:33.180 --> 00:28:35.930\nInstall them as Server Core\nbecause you're gonna be doing your\n\n611\n00:28:35.930 --> 00:28:36.820\nadministration remotely.\n\n612\n00:28:36.820 --> 00:28:39.880\nNow you've got a lightweight\ninstall of Windows Server 2012 R2.\n\n613\n00:28:39.880 --> 00:28:41.800\nIt's got less vulnerabilities,\n\n614\n00:28:41.800 --> 00:28:44.810\nit's got less patching to do,\nit's using less resources.\n\n615\n00:28:44.810 --> 00:28:47.806\nAnd if I'm virtualizing it, I'm trying\nto cram as many virtual servers.\n\n616\n00:28:47.806 --> 00:28:49.410\nOn to that one physical host as I can.\n\n617\n00:28:49.410 --> 00:28:53.400\nSo the less resources each\nvirtual machine uses, the better.\n\n618\n00:28:53.400 --> 00:28:56.350\nThis is why why server core is\nbecoming such a popular option.\n\n619\n00:28:56.350 --> 00:28:58.030\n>> Yeah, I can definitely see why.\n\n620\n00:28:58.030 --> 00:29:01.180\nIt definitely has some positives about it.\n\n621\n00:29:01.180 --> 00:29:03.630\nSo check that out,\ndownload a copy or buy a copy.\n\n622\n00:29:03.630 --> 00:29:05.380\nWhatever you need to\nstart playing with that.\n\n623\n00:29:05.380 --> 00:29:07.790\nGet it installed,\nsee what you can do with it.\n\n624\n00:29:07.790 --> 00:29:12.020\nThat being said it looks like we've\nwrapped up another great episode ITProTV.\n\n625\n00:29:12.020 --> 00:29:14.270\nSigning off, I've been your host,\nDaniel Lowery.\n\n626\n00:29:14.270 --> 00:29:15.140\n>> And I'm Mike Rodrick.\n\n627\n00:29:15.140 --> 00:29:16.428\n>> And we'll see you next time.\n\n628\n00:29:16.428 --> 00:29:21.730\n[MUSIC]\n\n",
          "vimeoId": "133471578"
        },
        {
          "description": "In this episode, Ronnie and Cherokee describe and demonstrate migrating server roles as a preferred method over the use of upgrading and installing the role.  They show us the pre-planning concepts and some of the “Dos” and “Don’ts” when migrating roles.  Cherokee demonstrates the migration of a role from a single server hosting multiple roles to separating the roles by migrating DHCP to a dedicated server.  Cherokee also points out resources that should help in the migration process and shows the features on demand installation of the migration tools.",
          "length": "1763",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/migrating_roles.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/migrating_roles-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/migrating_roles-sm.jpg",
          "title": "Migrating Roles",
          "transcript": "WEBVTT\n\n1\n00:00:00.180 --> 00:00:06.822\nWelcome to ITPROTV,\nI'm you host [CROSSTALK]\n\n2\n00:00:06.822 --> 00:00:08.482\n[MUSIC]\n\n3\n00:00:08.482 --> 00:00:12.605\n&gt;&gt; You're watching ITPROTV.\n\n4\n00:00:12.605 --> 00:00:15.660\n&gt;&gt; Welcome to another great\nepisode right here on ITPROTV.\n\n5\n00:00:15.660 --> 00:00:17.035\nI'm your host, Ronnie Wong.\n\n6\n00:00:17.035 --> 00:00:21.820\nAnd today you'll take a look at\nMCSA Windows Server 2012 R2.\n\n7\n00:00:21.820 --> 00:00:27.000\nAnd what we're gonna with us specifically\nis the idea of migrating roles into,\n\n8\n00:00:27.000 --> 00:00:28.440\nwell, 2012 R2.\n\n9\n00:00:28.440 --> 00:00:33.030\nAnd here to help us out in understanding\nthat is our kung fu master herself,\n\n10\n00:00:33.030 --> 00:00:33.680\nCherokee Brose.\n\n11\n00:00:33.680 --> 00:00:35.050\nCherokee, welcome back to our show.\n\n12\n00:00:35.050 --> 00:00:36.280\n&gt;&gt; Thank you for having me Ronnie.\n\n13\n00:00:36.280 --> 00:00:40.290\nYeah, so definitely, we're gonna\nbe looking at some Server 2012 R2,\n\n14\n00:00:40.290 --> 00:00:42.620\nR2 role migration.\n\n15\n00:00:42.620 --> 00:00:45.210\nAnd role migration is\nactually the process.\n\n16\n00:00:45.210 --> 00:00:48.250\nOf moving data and\nsettings from one system over to another.\n\n17\n00:00:48.250 --> 00:00:52.100\nAnd you may think hey,\nthat kind of sounds like an upgrade.\n\n18\n00:00:52.100 --> 00:00:54.720\nBut it's actually the preferred method.\n\n19\n00:00:54.720 --> 00:00:58.619\nAnd that's because sometimes\nan upgrade path just doesn't exist,\n\n20\n00:00:58.619 --> 00:01:03.324\nwhether you're going from an Itanium\nprocessor which was dropped, the support,\n\n21\n00:01:03.324 --> 00:01:06.903\nor you're moving across\narchitectures from X X86 to X64.\n\n22\n00:01:06.903 --> 00:01:10.560\nThere are just a few different things\nthat we'll need to take a look at here.\n\n23\n00:01:11.960 --> 00:01:13.460\nSo we'll go ahead and get started.\n\n24\n00:01:13.460 --> 00:01:17.010\nFirst of all, Microsoft provides\nsome really great documentation.\n\n25\n00:01:17.010 --> 00:01:18.919\nSo let's go ahead and\ntake a look at my screen.\n\n26\n00:01:19.990 --> 00:01:21.360\nIf you hop over on the TechNet.\n\n27\n00:01:21.360 --> 00:01:23.810\nYou can find some really good information.\n\n28\n00:01:23.810 --> 00:01:29.200\nMicrosoft clearly defines here in\nthere guides migration guides.\n\n29\n00:01:29.200 --> 00:01:32.390\nNow each individual migration\nis going to be unique.\n\n30\n00:01:32.390 --> 00:01:36.970\nSo you use this documentation exactly\nas what it called out for as a guide.\n\n31\n00:01:36.970 --> 00:01:39.680\nAll right, so we'll go ahead and\ntake a look here at Migrate Roles and\n\n32\n00:01:39.680 --> 00:01:46.470\nFeatures to Windows Server 2012 R2 and\nscroll down.\n\n33\n00:01:46.470 --> 00:01:49.740\nIn this particular episode, we're gonna\nbe taking a look at how to go ahead and\n\n34\n00:01:49.740 --> 00:01:53.050\nmigrate a specific role of DHCP.\n\n35\n00:01:53.050 --> 00:01:54.680\nIt's recommended not to go ahead and\n\n36\n00:01:54.680 --> 00:01:58.250\nmigrate roles in tandem, they only\nhave support for one role at a time so\n\n37\n00:01:58.250 --> 00:02:00.870\nthat's what we'll go ahead and\ntake a look at also.\n\n38\n00:02:00.870 --> 00:02:06.080\nThere are a few rules that we should take\na look at also before we get started here.\n\n39\n00:02:06.080 --> 00:02:08.750\nAnd that's why they have\nthis documentation because\n\n40\n00:02:08.750 --> 00:02:11.060\nthe majority of this work\nis actually prep work.\n\n41\n00:02:11.060 --> 00:02:13.830\nSo going in and\ndoing the research ahead of time,\n\n42\n00:02:13.830 --> 00:02:17.505\nwe have to take a look at\nthings that we don't do.\n\n43\n00:02:17.505 --> 00:02:19.835\nLike I said,\nperforming those tandem migrations.\n\n44\n00:02:19.835 --> 00:02:24.435\nWe don't want to forget about,\nif you're utilizing\n\n45\n00:02:24.435 --> 00:02:28.620\nsubnetting in your environment,\nsupport doesn't exist prior to 2012.\n\n46\n00:02:28.620 --> 00:02:31.520\nSo, you wanna keep that in mind.\n\n47\n00:02:31.520 --> 00:02:36.350\nAlso if you have the Core version and\nyou're running Server 2008.\n\n48\n00:02:36.350 --> 00:02:40.340\nCore version, there is no .Net framework\nsupport for that particular version.\n\n49\n00:02:40.340 --> 00:02:42.590\nSo, that's not gonna be possible here,\n\n50\n00:02:42.590 --> 00:02:48.670\nthis particular process does this role,\ndoes utilizes that .NET framework.\n\n51\n00:02:48.670 --> 00:02:51.780\nAnd if you worked with Microsoft Server\n\n52\n00:02:51.780 --> 00:02:53.670\n2012 R2 before you know\nthat it is a little buggy.\n\n53\n00:02:53.670 --> 00:02:57.400\nSo there are a couple of extra steps that\nyou might wanna go through to go ahead and\n\n54\n00:02:57.400 --> 00:03:00.120\nmake sure that that framework\nis functional before proceeding,\n\n55\n00:03:00.120 --> 00:03:04.000\nyou will need that otherwise\nyou'll get an error.\n\n56\n00:03:04.000 --> 00:03:05.280\nWhat else, okay.\n\n57\n00:03:05.280 --> 00:03:08.700\nSo why would you do this instead of\njust performing an upgrade, right?\n\n58\n00:03:08.700 --> 00:03:12.910\nWell, if I'm going to go ahead and\nperform an upgrade, some things\n\n59\n00:03:12.910 --> 00:03:17.725\nI may carry with me from my old machine,\nany kind of rogue malware, arbitrary code.\n\n60\n00:03:17.725 --> 00:03:19.375\nI'm really just getting a fresh start.\n\n61\n00:03:19.375 --> 00:03:20.915\nI'm only taking the important,\n\n62\n00:03:20.915 --> 00:03:23.775\nthe essential information with\nme over to the new system.\n\n63\n00:03:23.775 --> 00:03:25.705\nSo that's gonna go ahead and save me time.\n\n64\n00:03:25.705 --> 00:03:29.125\nIf I all ready have a lot of data and\na lot of configuration settings,\n\n65\n00:03:29.125 --> 00:03:32.875\nI might just wanna go ahead and take that\nessential information and move it on over.\n\n66\n00:03:34.880 --> 00:03:38.854\nSo, also one other thing I don't want you\nguys to forget about is you can turn some\n\n67\n00:03:38.854 --> 00:03:42.060\nlanguage packs as you are moving\non from a system, and\n\n68\n00:03:42.060 --> 00:03:45.910\none particular language migration\nis gonna be possible as well.\n\n69\n00:03:45.910 --> 00:03:47.460\nSo, let's take a look\non my screen again and\n\n70\n00:03:47.460 --> 00:03:50.400\nI will show you the different\nmigration that are possible.\n\n71\n00:03:50.400 --> 00:03:53.480\nLike you said Microsoft does have\na ton of great information here.\n\n72\n00:03:53.480 --> 00:03:56.330\nScrolling down they actually\nprovide a chart here so\n\n73\n00:03:56.330 --> 00:04:02.780\nthis is gonna show you have your x86 and\nyou x64-based systems here.\n\n74\n00:04:02.780 --> 00:04:09.320\nNow remember from Server 2012\nmoving forward, we dropped the x86\n\n75\n00:04:09.320 --> 00:04:14.300\noption so that's why if you look\ndown on the right hand column.\n\n76\n00:04:14.300 --> 00:04:17.530\nThey're moving over to those\nx86 systems over here.\n\n77\n00:04:17.530 --> 00:04:21.100\nSo you'll see that even towards the ladder\nif you look at the bottom of this chart,\n\n78\n00:04:21.100 --> 00:04:22.840\nthey don't even give you that option.\n\n79\n00:04:22.840 --> 00:04:27.488\nSo, these are all the potential variations\nthat you have available to use this tool.\n\n80\n00:04:27.488 --> 00:04:30.403\n[SOUND]\n&gt;&gt; Now Cherokee,\n\n81\n00:04:30.403 --> 00:04:32.811\nwhat I also notice there\nis that different editions,\n\n82\n00:04:32.811 --> 00:04:36.480\nit's okay to even migrate roles from\ndifferent editions to another one.\n\n83\n00:04:36.480 --> 00:04:40.820\n&gt;&gt; Exactly, so Ronnie let's say you wanted\nto free up a particular license and\n\n84\n00:04:40.820 --> 00:04:46.590\nyou really didn't need all the licensing\nthat a particular server was dedicated.\n\n85\n00:04:46.590 --> 00:04:50.460\nSo if you wanted to essentially downgrade,\nMicrosoft doesn't really give us that\n\n86\n00:04:50.460 --> 00:04:53.680\npath, but you do have that option\nhere with the migration, so\n\n87\n00:04:53.680 --> 00:04:59.360\nyou can go cross additions,\ncross platforms, and you can also go from.\n\n88\n00:04:59.360 --> 00:05:02.080\nPhysical machines and\nvirtual machines that's kind of nice,\n\n89\n00:05:02.080 --> 00:05:04.950\nthe different flexibility that\nwe see here with this tool.\n\n90\n00:05:04.950 --> 00:05:07.820\nIt is a lot of work to go ahead instead,\nI won't say a lot of work, but\n\n91\n00:05:07.820 --> 00:05:10.030\njust take a lot of planning.\n\n92\n00:05:10.030 --> 00:05:12.990\nBut overall it's very\nuseful in that aspect.\n\n93\n00:05:12.990 --> 00:05:16.120\n&gt;&gt; All right, so Cherokee, let's talk\nabout our planning, just briefly here.\n\n94\n00:05:16.120 --> 00:05:16.740\nWhat are some of\n\n95\n00:05:16.740 --> 00:05:19.660\nthe main things we have to consider when\nyou talk about the idea of planning?\n\n96\n00:05:19.660 --> 00:05:24.830\nCuz we understand something at this point,\nin our IT career or our studying, is that\n\n97\n00:05:24.830 --> 00:05:29.020\nplanning really is the essential part of\nmaking sure that everything goes right.\n\n98\n00:05:29.020 --> 00:05:31.650\nWe can't really do things\nthe way that I used to do,\n\n99\n00:05:31.650 --> 00:05:35.170\nwhich was just to go ahead and\nhave try it and then, let it fail.\n\n100\n00:05:35.170 --> 00:05:36.940\nAnd then, do it again,\nand again, and again.\n\n101\n00:05:36.940 --> 00:05:40.150\nAnd that's because today's day and\nage the idea of time\n\n102\n00:05:40.150 --> 00:05:44.010\nreally does cost a lot more money than\nit used to, when we used to talk about\n\n103\n00:05:44.010 --> 00:05:47.670\nthe idea of trying this out we would just\ngo let's just try it on a test machine and\n\n104\n00:05:47.670 --> 00:05:51.040\nif it fails no big deal we would still\nhave the regular one up and running.\n\n105\n00:05:51.040 --> 00:05:53.260\nBut today though time is money so\n\n106\n00:05:53.260 --> 00:05:56.140\nlets talk about what is the essential\nof planning that we need to do.\n\n107\n00:05:56.140 --> 00:05:58.080\n&gt;&gt; Exactly exactly I mean\nwere not talking about\n\n108\n00:05:59.220 --> 00:06:02.550\nbasic of our unnecessary components here.\n\n109\n00:06:02.550 --> 00:06:04.590\nWe're talking about CORD network services,\nDHCP.\n\n110\n00:06:04.590 --> 00:06:08.070\nAnd so we can't just have our system\n\n111\n00:06:08.070 --> 00:06:12.190\nwithout a particular DHCP server for\na prolonged amount of time.\n\n112\n00:06:12.190 --> 00:06:14.590\nSo you really wanna consider\nwhen you're gonna go ahead and\n\n113\n00:06:14.590 --> 00:06:17.265\nperform this migration and then you\nmight even wanna say, hey do we have\n\n114\n00:06:17.265 --> 00:06:22.190\nan auxiliary DHCP setup, so that if\nthere are any expired leases or machines\n\n115\n00:06:22.190 --> 00:06:25.570\nthat are entering in our environment,\nwill they be able to obtain an IP address?\n\n116\n00:06:25.570 --> 00:06:27.890\nBecause if not,\nthen the answer will be no.\n\n117\n00:06:27.890 --> 00:06:30.930\nSo you'll want to go ahead and\nperform this migration during off hours,\n\n118\n00:06:30.930 --> 00:06:33.190\nso you definitely have\nto think about that.\n\n119\n00:06:33.190 --> 00:06:35.910\nYou definitely need to\nconfirm your prerequisites.\n\n120\n00:06:35.910 --> 00:06:37.780\nYou always want to check your hardware and\n\n121\n00:06:37.780 --> 00:06:41.430\nmake sure that the system that\nyou're moving to can actually handle\n\n122\n00:06:41.430 --> 00:06:45.450\nthe storage requirements of all that data\nthat's been accumulated on the old system.\n\n123\n00:06:45.450 --> 00:06:49.250\nYou also wanna identify if you're\nutilizing multiple network interface\n\n124\n00:06:49.250 --> 00:06:53.940\ncards, because you'll also need to\ntake some extra steps to go ahead and\n\n125\n00:06:53.940 --> 00:06:56.330\nmigrate those settings as well.\n\n126\n00:06:57.510 --> 00:07:00.930\nSome other things you wanna consider,\nis that you need to be familiar\n\n127\n00:07:00.930 --> 00:07:03.650\nwith the machines that you're\ngonna be working with.\n\n128\n00:07:03.650 --> 00:07:04.620\nIP addresses,\n\n129\n00:07:04.620 --> 00:07:08.890\nfully qualified domain names,\nyou also need to know the passwords.\n\n130\n00:07:08.890 --> 00:07:13.700\nYou should also, for this particular lab\nthat we'll be looking at, you need to have\n\n131\n00:07:13.700 --> 00:07:18.220\ndomain administrative credentials to go\nahead and authorize the DHCP server, and\n\n132\n00:07:18.220 --> 00:07:21.300\nthen you'll also need to have\nlocal credentials as well.\n\n133\n00:07:21.300 --> 00:07:26.310\nSo making sure you do have access to\nthose things is definitely a good start.\n\n134\n00:07:26.310 --> 00:07:31.040\n&gt;&gt; So Cherokee, we can take a look at\nmigrating a ton of different roles\n\n135\n00:07:31.040 --> 00:07:35.700\nin the TechNet article that you showed us,\nwhich one are we gonna focus in on today?\n\n136\n00:07:35.700 --> 00:07:36.660\n&gt;&gt; Sure, let me go ahead and\n\n137\n00:07:36.660 --> 00:07:40.240\npull something up on my screen here so\nwe can look at that.\n\n138\n00:07:40.240 --> 00:07:45.358\nAll right, so if we take a look at my\nscreen here, we have just an example.\n\n139\n00:07:45.358 --> 00:07:49.600\n&gt;&gt; All right,\nif I can [LAUGH] all right there we go.\n\n140\n00:07:49.600 --> 00:07:52.933\nOn the left hand side here I'm\ngonna have what we're gonna\n\n141\n00:07:52.933 --> 00:07:54.510\nbe calling our old server.\n\n142\n00:07:54.510 --> 00:07:59.503\nSo our old server is functioning as\na domain controller, DNS and DHCP.\n\n143\n00:07:59.503 --> 00:08:03.566\nNow as a small business this This may\nwork well for us for a while, right?\n\n144\n00:08:03.566 --> 00:08:06.813\nBut if we're growing and we need to\nkind of branch out, we can go ahead and\n\n145\n00:08:06.813 --> 00:08:08.610\nseparate some of these roles.\n\n146\n00:08:08.610 --> 00:08:12.410\nMaybe I wanna separate DNS or\nmaybe I just wanna you know upgrade here.\n\n147\n00:08:12.410 --> 00:08:16.220\nSo we're gonna be breaking,\nspecifically breaking off DHCP and\n\n148\n00:08:16.220 --> 00:08:18.200\nthat's what we'll be looking at here.\n\n149\n00:08:18.200 --> 00:08:22.560\nAnd Microsoft gives us these\nfour categories here, and\n\n150\n00:08:22.560 --> 00:08:26.240\nit's like the phases they break\nus the entire process up.\n\n151\n00:08:26.240 --> 00:08:27.600\nSo, we have Pre-Migration.\n\n152\n00:08:27.600 --> 00:08:29.160\nSo like we're just talking about Ronny,\n\n153\n00:08:29.160 --> 00:08:34.380\nthis repertory action is what we need to\ngo ahead and just as a checklist per se.\n\n154\n00:08:34.380 --> 00:08:36.519\nThen the actual Migration itself,\n\n155\n00:08:37.930 --> 00:08:42.430\nPost Migration activities would\ninclude things like we'll see,\n\n156\n00:08:42.430 --> 00:08:47.810\ndeactivating the DHCP server and\nthen authorizing the new DHCP server.\n\n157\n00:08:47.810 --> 00:08:50.530\nAnd like I said, each migration\ntends to be slightly different, so\n\n158\n00:08:50.530 --> 00:08:54.800\nthis is where this first phase, the\nPre-Migration is really important to make\n\n159\n00:08:54.800 --> 00:08:58.470\nsure that you have all of your\nweird ducks in a row so to speak.\n\n160\n00:08:58.470 --> 00:08:59.800\nAnd then operational.\n\n161\n00:08:59.800 --> 00:09:02.310\nso this is where you'll go ahead and\ndeploy that and\n\n162\n00:09:02.310 --> 00:09:05.310\nthen hopefully you wont have\nto go back and fix anything.\n\n163\n00:09:06.530 --> 00:09:09.810\n&gt;&gt; Yeah just looking at the steps\nreally does kind of remind us that\n\n164\n00:09:09.810 --> 00:09:12.580\nthe pre planning or the migration itself\n\n165\n00:09:12.580 --> 00:09:16.080\nIn all the things that we have to take\na look at is really essential here.\n\n166\n00:09:16.080 --> 00:09:20.400\nSo Cherokee, if we wanted to get started,\nis it really simple to actually migrate or\n\n167\n00:09:20.400 --> 00:09:23.310\ndo we need to install something\nelse before migration can happen?\n\n168\n00:09:24.430 --> 00:09:27.110\n&gt;&gt; You do have to have\nyour environment set up,\n\n169\n00:09:27.110 --> 00:09:31.320\nso we do install the migration tools and\nI'll show you guys that.\n\n170\n00:09:31.320 --> 00:09:32.400\nBut before we get started,\n\n171\n00:09:32.400 --> 00:09:36.090\nI just wanna show you one more chart\nhere that Microsoft breaks it down.\n\n172\n00:09:36.090 --> 00:09:41.290\nSo have no fear, if you're looking at this\nand it may seem like a daunting task,\n\n173\n00:09:41.290 --> 00:09:44.650\njust be familiarized with\nMicrosoft's tech nuts site,\n\n174\n00:09:44.650 --> 00:09:46.810\nthat's really gonna be your go to here.\n\n175\n00:09:47.840 --> 00:09:52.850\nAnd they show you, okay how to verify the\nmigration and then imposed migration tasks\n\n176\n00:09:52.850 --> 00:09:59.050\nand break it down into those phases here,\nand we'll go ahead and start but\n\n177\n00:09:59.050 --> 00:10:02.470\nlook at it even says impact of migration\non other computers in the Enterprise.\n\n178\n00:10:02.470 --> 00:10:06.100\nSo if you're not really aware of what may\nhappen you need to kind a think about\n\n179\n00:10:06.100 --> 00:10:07.738\nthat, read this documentation first.\n\n180\n00:10:07.738 --> 00:10:14.180\nSo all right, let me go ahead and\npull up my virtual machine here.\n\n181\n00:10:14.180 --> 00:10:18.130\nSo this is going to be my old server.\n\n182\n00:10:18.130 --> 00:10:22.835\nSo this is that old server running as\na domain controller, DNS and DH CP.\n\n183\n00:10:22.835 --> 00:10:27.135\nThis is going to be my new server, okay?\n\n184\n00:10:27.135 --> 00:10:29.875\nSo this is going to be\nmy destination server.\n\n185\n00:10:29.875 --> 00:10:33.835\nSo you need to have this role\ninstalled on both the source and\n\n186\n00:10:33.835 --> 00:10:37.805\nthe destination server before\nyou go ahead and begin.\n\n187\n00:10:37.805 --> 00:10:40.045\nSo I actually installed it on one of them.\n\n188\n00:10:42.830 --> 00:10:46.410\nI can't remember which one, so\nlet's go ahead and take a look here.\n\n189\n00:10:46.410 --> 00:10:50.430\n&gt;&gt; Now Cherokee, while you're actually\nshowing us this, are those installation\n\n190\n00:10:50.430 --> 00:10:55.170\nmigration tools, are they something\nthat's already built into the operating\n\n191\n00:10:55.170 --> 00:10:59.290\nsystem and we're just activating it, or\ndo we have to download it from someplace?\n\n192\n00:10:59.290 --> 00:11:01.000\n&gt;&gt; Yes, this one doesn't have it on here.\n\n193\n00:11:01.000 --> 00:11:03.560\nSo this is perfect, I can actually show\nyou guys how we're gonna go ahead and\n\n194\n00:11:03.560 --> 00:11:04.160\ninstall that.\n\n195\n00:11:05.320 --> 00:11:10.040\nIt's If you think back to the features on\ndemand concept that Microsoft uses to go\n\n196\n00:11:10.040 --> 00:11:15.020\nahead and really harden their systems,\nthen they're not gonna give us all of our\n\n197\n00:11:15.020 --> 00:11:18.440\nroles and features ahead of time, so we're\ngonna go ahead and actually activate that.\n\n198\n00:11:18.440 --> 00:11:21.460\nA couple different ways,\nand if I go under Tools.\n\n199\n00:11:21.460 --> 00:11:26.150\nAnd this is how I checked to see which\nmachine, you see here under my Tools menu\n\n200\n00:11:26.150 --> 00:11:30.548\nunder my Server Manager I don't have\nmy migration tools listed here.\n\n201\n00:11:30.548 --> 00:11:35.010\nSo if it's not there then you'll be able\nto identify if it's installed or not.\n\n202\n00:11:35.010 --> 00:11:41.772\nSo you could go through the wizard\nhere and just walk-through and\n\n203\n00:11:41.772 --> 00:11:46.750\nremember, this is going to be a role\nbased or featured base installation.\n\n204\n00:11:46.750 --> 00:11:49.420\nAnd because it's an actual feature\n\n205\n00:11:49.420 --> 00:11:52.870\nwe'll get to the feature\npage not actually role page.\n\n206\n00:11:52.870 --> 00:11:54.070\nYou choose your server.\n\n207\n00:11:54.070 --> 00:11:57.140\nThis is the server My Local Machine\nhere that is selected.\n\n208\n00:11:57.140 --> 00:12:02.080\nYou could alternatively begin installing\nthis remotely utilizing server pools.\n\n209\n00:12:02.080 --> 00:12:06.210\nAnd we'll go ahead and hit next, and\nthen next because it's not a rule.\n\n210\n00:12:06.210 --> 00:12:11.790\nIt is a feature, and\nI'll scroll down here.\n\n211\n00:12:16.275 --> 00:12:17.215\nSo you see it right here.\n\n212\n00:12:17.215 --> 00:12:19.375\nWindows Server Migration Tools.\n\n213\n00:12:19.375 --> 00:12:22.605\nSo you're just go ahead and tick that\nchat box and go ahead and install it.\n\n214\n00:12:22.605 --> 00:12:25.605\nBut I'm going to do it\na different way to show you that\n\n215\n00:12:25.605 --> 00:12:28.175\nyou can utilize this feature\nif you are working with\n\n216\n00:12:28.175 --> 00:12:31.455\njust the core environment without\na graphical user interface.\n\n217\n00:12:31.455 --> 00:12:33.931\nSo go ahead and hit cancel and\npull up PowerShell here.\n\n218\n00:12:33.931 --> 00:12:38.190\nAll right, so the command that\nwe're going to go ahead and use.\n\n219\n00:12:38.190 --> 00:12:41.402\nWe're going to use\n\n220\n00:12:41.402 --> 00:12:48.242\ninstall-windowsFeature Migration.\n\n221\n00:12:48.242 --> 00:12:51.860\nJust check my syntax here,\nI think it's all right.\n\n222\n00:12:51.860 --> 00:12:55.870\nGive it a second and it will go ahead and\ninstall through PowerShell here.\n\n223\n00:12:55.870 --> 00:13:02.150\nSo, I've already installed this\nparticular feature on my source server.\n\n224\n00:13:02.150 --> 00:13:05.800\nSo, just to save a little bit of time, so\nwhen this is finished we can go ahead and\n\n225\n00:13:05.800 --> 00:13:07.200\nproceed to the next step here.\n\n226\n00:13:07.200 --> 00:13:10.260\n&gt;&gt; All right Cherokee, will you tell\nus that particular command again?\n\n227\n00:13:10.260 --> 00:13:13.135\nCuz you really did type\nit in quickly there so.\n\n228\n00:13:13.135 --> 00:13:14.730\n&gt;&gt; [LAUGH] Okay, all right.\n\n229\n00:13:14.730 --> 00:13:21.980\nSo, the command is actually\ninstall-WindowsFeature space Migration.\n\n230\n00:13:21.980 --> 00:13:22.570\n&gt;&gt; All right.\n\n231\n00:13:22.570 --> 00:13:24.300\n&gt;&gt; Now you see some yellow.\n\n232\n00:13:24.300 --> 00:13:25.260\nYellow is okay.\n\n233\n00:13:26.300 --> 00:13:27.705\nRed is bad, okay?\n\n234\n00:13:27.705 --> 00:13:29.960\n&gt;&gt; [LAUGH]\n&gt;&gt; And if we look under this column here,\n\n235\n00:13:29.960 --> 00:13:34.190\nunder success it'll tell us if it was\nactually a successful installation.\n\n236\n00:13:34.190 --> 00:13:37.990\nSo we see that it's true, so\nit was successfully installed.\n\n237\n00:13:37.990 --> 00:13:41.410\nIt'll also tell us if a restart is needed,\nand there is no restart needed for\n\n238\n00:13:41.410 --> 00:13:43.420\nthis particular feature installation, so.\n\n239\n00:13:45.770 --> 00:13:51.310\nAll right, now we have this particular\ntool installed on both servers,\n\n240\n00:13:51.310 --> 00:13:53.260\nand on our destination server,\n\n241\n00:13:53.260 --> 00:13:59.550\nlet's go ahead and we're gonna go ahead\nand let me show you something real quick.\n\n242\n00:13:59.550 --> 00:14:01.570\nI can minimize my PowerShell.\n\n243\n00:14:01.570 --> 00:14:06.320\nIf I wanted to go under tools now and\nscroll down, you see that we now\n\n244\n00:14:06.320 --> 00:14:10.520\nhave Windows Server Migration Tools and\ngo ahead and launch that.\n\n245\n00:14:10.520 --> 00:14:14.740\nAnd now we'll go ahead and type in cd.\n\n246\n00:14:14.740 --> 00:14:19.170\nAnd this is going to be\n\\ServerMigrationTools and\n\n247\n00:14:19.170 --> 00:14:22.010\nthen go ahead and hit Enter.\n\n248\n00:14:23.030 --> 00:14:27.190\nAnd then now you're gonna be generating\nyour actual executable in specifying\n\n249\n00:14:27.190 --> 00:14:28.610\nthe location parameters here.\n\n250\n00:14:28.610 --> 00:14:35.570\nSo let's go ahead and\ntype in .\\Smig Deploy.\n\n251\n00:14:37.370 --> 00:14:40.580\nThis is going to be your .exe.\n\n252\n00:14:40.580 --> 00:14:48.020\nAnd then, space /Package /Architecture.\n\n253\n00:14:48.020 --> 00:14:50.259\nSo you need to go ahead and\nspecify here so we're gonna\n\n254\n00:14:52.550 --> 00:14:57.130\nspecify if it were an x86, we would\ngo ahead and type that but it's not.\n\n255\n00:14:57.130 --> 00:15:03.903\nWe're gonna go ahead and put in our\narchitecture is going to be AMD64 and\n\n256\n00:15:03.903 --> 00:15:08.941\nthen space forward slash\noperating system is WS12.\n\n257\n00:15:08.941 --> 00:15:11.430\nThey're different codes for that also.\n\n258\n00:15:11.430 --> 00:15:15.970\nIf you mistype this,\nthe actual error for the syntax for\n\n259\n00:15:15.970 --> 00:15:19.600\nPowerShell will give you a couple\ndifferent options that you have like for\n\n260\n00:15:19.600 --> 00:15:22.100\nWindows Server 2003,\nit'll say ws 03, ws 08.\n\n261\n00:15:22.100 --> 00:15:27.620\nThere's a ws 08 r2, but\nit's kind of strange,\n\n262\n00:15:29.080 --> 00:15:32.373\nthey don't have a ws 12 r2 [LAUGH]\n&gt;&gt; Or two.\n\n263\n00:15:32.373 --> 00:15:34.750\n[LAUGH]\n&gt;&gt; And they don't specify anything.\n\n264\n00:15:34.750 --> 00:15:37.270\nAt least I haven't tried it yet\nin Server 2016,\n\n265\n00:15:37.270 --> 00:15:41.890\nso it's probably gonna be similar\nto that functionality there.\n\n266\n00:15:41.890 --> 00:15:44.150\nAll right, and now let's go ahead and\nspecify our path.\n\n267\n00:15:44.150 --> 00:15:47.340\nOur path is just going to\nbe under the C drive here.\n\n268\n00:15:47.340 --> 00:15:53.233\nWe'll put C: and then we'll go ahead and\nlabel our server migration tools.\n\n269\n00:15:58.460 --> 00:15:59.780\nAnd that's it.\n\n270\n00:15:59.780 --> 00:16:03.531\nSo right now we're generating\nthat particular executable.\n\n271\n00:16:03.531 --> 00:16:05.120\nJust give it a second here.\n\n272\n00:16:05.120 --> 00:16:06.160\nAnd we can go ahead and\n\n273\n00:16:06.160 --> 00:16:10.100\ncheck under our C drive to see\nif that file does in fact exist.\n\n274\n00:16:10.100 --> 00:16:12.330\nSo what I've done ahead of time.\n\n275\n00:16:12.330 --> 00:16:15.960\nAnd you can see that here,\nmy server migration tools is there.\n\n276\n00:16:15.960 --> 00:16:19.375\nBut let me just go ahead and\nshow you I've created,\n\n277\n00:16:19.375 --> 00:16:22.962\nmy virtual machine's here,\nI have a shared folder.\n\n278\n00:16:22.962 --> 00:16:26.578\nAnd you guys could put this file\non a removable thumb drive or\n\n279\n00:16:26.578 --> 00:16:28.468\non some kind of network share.\n\n280\n00:16:28.468 --> 00:16:30.415\nBut this is just the method that I chose.\n\n281\n00:16:30.415 --> 00:16:36.873\nSo we're gonna go ahead And\nplace this into our demo share folder.\n\n282\n00:16:45.115 --> 00:16:49.240\nAll right, so now my other machine\nshould be able to access this file.\n\n283\n00:16:49.240 --> 00:16:54.760\nSo let's go ahead and switch on over\nto my other machine, my old server.\n\n284\n00:16:54.760 --> 00:16:58.480\nSo we can go ahead and\nstop the DHCP service.\n\n285\n00:16:58.480 --> 00:17:00.610\nSo I can go ahead and\npull up PowerShell here.\n\n286\n00:17:02.390 --> 00:17:03.912\nI gotta login first, that would help.\n\n287\n00:17:11.128 --> 00:17:11.960\nAll right.\n\n288\n00:17:13.742 --> 00:17:16.730\nAnd we're gonna go ahead and\nutilize the Netsh command.\n\n289\n00:17:16.730 --> 00:17:20.705\nAnd again, I'm just showing you this\nPowerShell command because when you're\n\n290\n00:17:20.705 --> 00:17:25.495\ntaking the exam, Microsoft exams\naren't the easiest exams to\n\n291\n00:17:25.495 --> 00:17:28.885\nactually take if you've been studying for\nthis, then you're already aware of that.\n\n292\n00:17:28.885 --> 00:17:33.675\nSo the PowerShell commands, Microsoft\nreally wants you to understand and\n\n293\n00:17:33.675 --> 00:17:36.245\nuse, they're really\npushing their baby here.\n\n294\n00:17:36.245 --> 00:17:40.065\nSo knowing these is really gonna help\nyou when you get in that exam booth.\n\n295\n00:17:40.065 --> 00:17:42.995\nSo of course you have the GUI to fall\nback on if you're using that in your\n\n296\n00:17:42.995 --> 00:17:47.070\nenvironment, but always try to look at\nit from both angles, if at all possible.\n\n297\n00:17:47.070 --> 00:17:49.700\nSo we'll go ahead, and\nyou can go ahead and\n\n298\n00:17:49.700 --> 00:17:54.150\ndeactivate your scopes through\nthe VHCP management console.\n\n299\n00:17:54.150 --> 00:17:56.180\nBut here we're gonna\nuse the Netsh command.\n\n300\n00:17:56.180 --> 00:17:59.730\nSo or, excuse me,\nwe're gonna stop service here.\n\n301\n00:17:59.730 --> 00:18:08.743\nSo we'll go ahead and\njust type in Stop-Service DHCPServer.\n\n302\n00:18:08.743 --> 00:18:11.160\nAnd not a lot happens here.\n\n303\n00:18:11.160 --> 00:18:14.620\nSo if you want to go ahead and check and\nverify that the service has actually\n\n304\n00:18:14.620 --> 00:18:19.103\nstopped, then what we're gonna\ngo ahead and do is type in\n\n305\n00:18:19.103 --> 00:18:24.950\nGet-Service DHCPServer.\n\n306\n00:18:24.950 --> 00:18:27.050\nAnd then you can see status here.\n\n307\n00:18:27.050 --> 00:18:29.400\nSo, under the status you\nsee that it is stopped, so\n\n308\n00:18:29.400 --> 00:18:32.400\nwe know we're okay to go ahead and\nproceed to the next step.\n\n309\n00:18:32.400 --> 00:18:37.300\nAll right, so at this particular point\n\n310\n00:18:37.300 --> 00:18:40.380\nhere now we need to go ahead and\nlet me close out of PowerShell.\n\n311\n00:18:40.380 --> 00:18:43.900\nI'm gonna go back in to my server manager,\nunder Tools and\n\n312\n00:18:43.900 --> 00:18:47.120\npull up my actual\nWindows Server Migration Tool.\n\n313\n00:18:47.120 --> 00:18:50.590\nAnd we're gonna go ahead and\ngenerate, export the data,\n\n314\n00:18:50.590 --> 00:18:55.570\nthe information form this DHCP server\nto be transported to the other machine.\n\n315\n00:18:55.570 --> 00:19:00.359\nSo we're gonna go ahead and\n\n316\n00:19:00.359 --> 00:19:08.066\nuse the command export-smig DHCPServer,\n\n317\n00:19:08.066 --> 00:19:13.687\noops, sorry, wrong command,\n\n318\n00:19:13.687 --> 00:19:19.113\nsmigserversetting -Feature\n\n319\n00:19:22.087 --> 00:19:27.860\nThis is going to be our feature id is DHCP\nand then we're gonna specify our path.\n\n320\n00:19:30.410 --> 00:19:34.920\nWhich is gonna be c:/Temp and\nthen we'll go ahead and\n\n321\n00:19:34.920 --> 00:19:36.620\nhave another folder called store.\n\n322\n00:19:36.620 --> 00:19:40.105\nOops, if I can type here, Temp\\store.\n\n323\n00:19:41.709 --> 00:19:46.387\n[LAUGH] All right, and then we'll go\nahead and add the verbose parameter to\n\n324\n00:19:46.387 --> 00:19:50.930\ninclude all the extra information,\nand we'll go ahead and hit Enter.\n\n325\n00:19:53.810 --> 00:19:57.210\nNow, you see that were prompted\nto go ahead and input a password.\n\n326\n00:19:57.210 --> 00:20:00.680\nWell if you think about it, like I said,\nwe're compiling all of our data,\n\n327\n00:20:00.680 --> 00:20:04.170\nwe're pulling it out of that data base,\nthe DHCP information.\n\n328\n00:20:04.170 --> 00:20:08.080\nThere's some sensitive information here,\nthe IP addresses and kind of scopes.\n\n329\n00:20:08.080 --> 00:20:09.610\nWe don't what that to fall\nin the wrong hands so\n\n330\n00:20:09.610 --> 00:20:12.450\nthis is when essentially we're encrypting\nthis information at this point.\n\n331\n00:20:13.040 --> 00:20:17.125\nAnd that's what that password will be used\nto decrypt during the import process.\n\n332\n00:20:23.210 --> 00:20:27.528\nAll right, oops,\nI see an error here I have.\n\n333\n00:20:27.528 --> 00:20:31.116\n[LAUGH] A semi-colon instead of a colon.\n\n334\n00:20:34.657 --> 00:20:36.480\nWe'll do that one more time here,\npassword.\n\n335\n00:20:38.890 --> 00:20:40.060\nEnter, all right, so\n\n336\n00:20:40.060 --> 00:20:43.250\nnow we're just generating that\ninformation to be transmitted on over.\n\n337\n00:20:43.250 --> 00:20:48.175\n&gt;&gt; Now Cherokee, at this particular point\ndepending on the size of the DHTP server,\n\n338\n00:20:48.175 --> 00:20:50.045\nthis could take a little bit of time.\n\n339\n00:20:50.045 --> 00:20:52.415\n&gt;&gt; Yeah, it could take even up to two,\nthree hours.\n\n340\n00:20:52.415 --> 00:20:54.737\nSo, depending of the amount of\nthe information that you have.\n\n341\n00:20:54.737 --> 00:20:57.605\nIt's only taking us to a few moments\nhere because there is not anything\n\n342\n00:20:57.605 --> 00:20:58.530\nreally in there.\n\n343\n00:20:58.530 --> 00:21:02.720\nSo, you definitely want to be aware of\nthat, give yourself enough of a window.\n\n344\n00:21:02.720 --> 00:21:07.760\nOkay cool, so let's go ahead and\nget our information so\n\n345\n00:21:07.760 --> 00:21:12.650\nwe can move it on over to\nour other machine here.\n\n346\n00:21:12.650 --> 00:21:15.620\n&gt;&gt; All right, so Cherokee which\nmachine are you on again, so\n\n347\n00:21:15.620 --> 00:21:18.250\nthat we make sure that we're clear\nabout this, especially on this.\n\n348\n00:21:18.250 --> 00:21:20.610\n&gt;&gt; Sure, yeah we don't want\nit to be confusing here.\n\n349\n00:21:20.610 --> 00:21:23.900\nI definitely want you guys to understand\nwe're still on our destination machine.\n\n350\n00:21:23.900 --> 00:21:28.640\nWe've just extracted all that\ngood juicy DHCP information.\n\n351\n00:21:28.640 --> 00:21:31.050\nWe've exported, well,\nwe've put it onto our root.\n\n352\n00:21:31.050 --> 00:21:33.680\nSo let's go ahead and\ntake a look at my screen here.\n\n353\n00:21:33.680 --> 00:21:39.250\nIt's gonna be under that particular,\nif I go to my C drive here, all right.\n\n354\n00:21:39.250 --> 00:21:41.120\nUnder this Temp folder.\n\n355\n00:21:41.120 --> 00:21:44.840\nThe Store folder, and this is where\nthat file has been generated.\n\n356\n00:21:44.840 --> 00:21:48.070\nSo, let's go ahead and\ncopy this, on over to my share.\n\n357\n00:21:48.070 --> 00:21:52.283\nAnd again, you can use any kind of\nremovable media, network share,\n\n358\n00:21:52.283 --> 00:21:53.672\nif you choose to do so.\n\n359\n00:21:53.672 --> 00:21:58.200\nBut, i'm just gonna use this folder,\nthat I have shared here, so.\n\n360\n00:22:02.476 --> 00:22:06.840\nAnd this is how I will go ahead and\nget that information to the other machine.\n\n361\n00:22:06.840 --> 00:22:09.140\nSo let's go ahead and\nhop on over to that other machine.\n\n362\n00:22:09.140 --> 00:22:11.800\nSo this is my destination server.\n\n363\n00:22:11.800 --> 00:22:14.000\nAll right, my new DHCP server.\n\n364\n00:22:14.000 --> 00:22:18.200\n&gt;&gt; Okay, so before when you actually did\nthat you are on the source server right?\n\n365\n00:22:18.200 --> 00:22:19.160\n&gt;&gt; Correct to export.\n\n366\n00:22:19.160 --> 00:22:23.060\n&gt;&gt; And now we're actually moving in to\nthe destination server itself, all right.\n\n367\n00:22:23.060 --> 00:22:24.430\nSo now that we're clear, all right, cool.\n\n368\n00:22:24.430 --> 00:22:27.600\n&gt;&gt; Yeah, and so let's go ahead and\npull up this folder.\n\n369\n00:22:27.600 --> 00:22:31.000\nI have my server migration tools.\n\n370\n00:22:31.000 --> 00:22:34.533\nAnd in here I have my executable\nthat I can go ahead and run.\n\n371\n00:22:39.535 --> 00:22:42.126\nAll right, on this particular machine,\n\n372\n00:22:42.126 --> 00:22:45.020\nlike I mentioned that\n.NET framework issue.\n\n373\n00:22:45.020 --> 00:22:46.730\nDon't worry,\nI installed it on the other one.\n\n374\n00:22:46.730 --> 00:22:48.210\nThat's why we didn't\nsee that error before,\n\n375\n00:22:48.210 --> 00:22:49.950\nbut I didn't install it on this one.\n\n376\n00:22:49.950 --> 00:22:53.560\nIt is a little bit of an extra\nstep that you have to take if\n\n377\n00:22:54.600 --> 00:22:57.890\nIf you're running server 2012 R2,\nbut that's not a big deal here.\n\n378\n00:22:57.890 --> 00:22:59.410\nI just wanna get you through these steps.\n\n379\n00:22:59.410 --> 00:23:02.980\nSo we go ahead and run that executable and\nthen we go ahead and\n\n380\n00:23:02.980 --> 00:23:06.850\npull up under Server Manager,\nunder out tools.\n\n381\n00:23:06.850 --> 00:23:08.065\nNow this This is what's really cool.\n\n382\n00:23:08.065 --> 00:23:13.145\nIf you guys notice, I do have a little\nnotification here on my server manager and\n\n383\n00:23:13.145 --> 00:23:18.565\nit's simply stating that my post DHCP\nconfiguration has not been completed.\n\n384\n00:23:18.565 --> 00:23:20.960\nWhat I've done to help save\n\n385\n00:23:20.960 --> 00:23:25.420\ntime is installed DHCP role on this\nparticular server ahead of time.\n\n386\n00:23:25.420 --> 00:23:28.210\nWhen you're using role migration,\nyou actually don't have to do that.\n\n387\n00:23:28.210 --> 00:23:30.180\nBut it'll just speed\nthe process up a little bit.\n\n388\n00:23:30.180 --> 00:23:33.230\nSo, it's kind of less work for\nyou to do as well.\n\n389\n00:23:33.230 --> 00:23:37.820\nSo go ahead down under my tools menu and\nmuch up my server migration tools.\n\n390\n00:23:37.820 --> 00:23:39.300\nAnd now let's go ahead and import.\n\n391\n00:23:39.300 --> 00:23:45.677\nSo I'll go ahead and\ntype in import Import-Smig.\n\n392\n00:23:45.677 --> 00:23:47.987\nYou know what would help real quick?\n\n393\n00:23:47.987 --> 00:23:52.451\nLet me move that file under my root\nreal quick that was in the share folder,\n\n394\n00:23:52.451 --> 00:23:53.250\nreal quick.\n\n395\n00:23:53.250 --> 00:23:54.702\nThat would definitely help.\n\n396\n00:23:54.702 --> 00:23:58.172\nLet's go back to the root of this system,\n\n397\n00:23:58.172 --> 00:24:02.435\nand place our data,\nright here, into our C drive,\n\n398\n00:24:02.435 --> 00:24:08.107\nbefore we point to that particular\nlocation and tell it where to go.\n\n399\n00:24:08.107 --> 00:24:10.328\nAll right, so just copy and paste.\n\n400\n00:24:12.927 --> 00:24:14.210\nGood to go, now we're good.\n\n401\n00:24:16.794 --> 00:24:20.767\nAll right, so this is going to be smig,\nand this is going to be ServerSetting,\n\n402\n00:24:25.178 --> 00:24:30.660\nFeatureID, and this is DHCP.\n\n403\n00:24:30.660 --> 00:24:33.579\nAnd then,\nour path here is under that C drive.\n\n404\n00:24:38.254 --> 00:24:43.136\nAnd we'll just add the force parameter,\ngo ahead and do this now, and hit Enter.\n\n405\n00:24:43.136 --> 00:24:45.892\nNow, this is where you're prompted for\nthat password again,\n\n406\n00:24:45.892 --> 00:24:49.064\nlike we talked about, so I'll just go\nahead and type in my password, and\n\n407\n00:24:49.064 --> 00:24:50.710\nthis should take a few moments.\n\n408\n00:24:50.710 --> 00:24:53.126\nThis is where that time frame comes in,\nRonnie, like you had mentioned.\n\n409\n00:24:53.126 --> 00:24:58.507\nSo this is where it would take extra time,\nbut for us it shouldn't take too long.\n\n410\n00:24:58.507 --> 00:24:59.733\nThat was pretty fast, actually.\n\n411\n00:24:59.733 --> 00:25:03.225\nSo if you look here,\nif you don't hit that force parameter,\n\n412\n00:25:03.225 --> 00:25:07.196\nsometimes there's not a huge red flag\nto let you know that it failed or\n\n413\n00:25:07.196 --> 00:25:11.988\ndidn't work, so you would need to go ahead\nand check under this column right here,\n\n414\n00:25:11.988 --> 00:25:14.824\nlike we saw before, for\nthe success being true.\n\n415\n00:25:14.824 --> 00:25:16.908\nThat's really what you're looking here,\nso.\n\n416\n00:25:16.908 --> 00:25:19.119\nLastly, you wanna go ahead,\n\n417\n00:25:19.119 --> 00:25:23.549\nnow that you've successfully\ncompleted your migration.\n\n418\n00:25:23.549 --> 00:25:27.415\nLet's switch back on the router\nsource server just to go ahead and\n\n419\n00:25:27.415 --> 00:25:31.227\ndemote that DHCP server completely,\nwe know we're good to go.\n\n420\n00:25:31.227 --> 00:25:33.132\nAnd of course,\nyou know what I didn't mention?\n\n421\n00:25:33.132 --> 00:25:34.874\nThe number one rule, always,\n\n422\n00:25:34.874 --> 00:25:38.299\nis to perform a backup before\nyou actually get started here.\n\n423\n00:25:38.299 --> 00:25:40.634\n&gt;&gt; [LAUGH]\n&gt;&gt; You can actually perform a DHCP backup.\n\n424\n00:25:40.634 --> 00:25:43.898\nLuckily for us, everything worked out\nokay, but if there is some kind of hiccup\n\n425\n00:25:43.898 --> 00:25:47.131\nalong the way, you wanna make sure you\nalways have that backup, just in case.\n\n426\n00:25:47.131 --> 00:25:49.764\nSo let's go ahead and\npull up PowerShell, and\n\n427\n00:25:49.764 --> 00:25:54.298\nhere we're gonna use our Netsh command\nto go ahead and demote that DHCP server.\n\n428\n00:25:54.298 --> 00:25:57.997\nSo Netsh space DHCP space delete,\n\n429\n00:25:57.997 --> 00:26:02.337\nand then the name, you have to specify.\n\n430\n00:26:02.337 --> 00:26:06.794\nSo the name of the server\n[LAUGH] is old-Server, and\n\n431\n00:26:06.794 --> 00:26:09.696\nthis is under my TestDomain, and\n\n432\n00:26:09.696 --> 00:26:14.687\nthen I gotta specify my IP address,\n10.1.1.3.\n\n433\n00:26:14.687 --> 00:26:20.620\nAll right, so Netsh delete old-Server,\nI think we're good to go.\n\n434\n00:26:20.620 --> 00:26:23.423\nIncomplete, what did I, .com!\n\n435\n00:26:23.423 --> 00:26:26.878\n[LAUGH] Is that, yeah, right there.\n\n436\n00:26:26.878 --> 00:26:28.312\nHere we go, that would help.\n\n437\n00:26:34.639 --> 00:26:36.548\n&gt;&gt; I think you're missing a word there,\nwhich is server,\n\n438\n00:26:36.548 --> 00:26:37.944\nright after the word delete.\n\n439\n00:26:37.944 --> 00:26:41.007\n&gt;&gt; You're right, Ronnie, there we go.\n\n440\n00:26:41.007 --> 00:26:44.925\nDHCP delete server, and\nthen specify the name.\n\n441\n00:26:44.925 --> 00:26:47.670\nWhere would I be without you?\n\n442\n00:26:47.670 --> 00:26:50.660\nAll right, there we go.\n\n443\n00:26:50.660 --> 00:26:55.656\nDeleting server with\nold-Server TestDomain.10.1.3.\n\n444\n00:26:55.656 --> 00:26:59.758\nSo you can see here that the main command\nhas completed successfully after a few\n\n445\n00:26:59.758 --> 00:27:01.386\ntries there, but it's okay.\n\n446\n00:27:01.386 --> 00:27:05.190\nNow, the next thing you'd want\nto do is just to use that\n\n447\n00:27:05.190 --> 00:27:07.932\nsame Netsh command on your new system.\n\n448\n00:27:07.932 --> 00:27:09.585\nOops, where did it go?\n\n449\n00:27:09.585 --> 00:27:10.988\nThere we go.\n\n450\n00:27:10.988 --> 00:27:13.803\nTo go ahead and authorize that as well.\n\n451\n00:27:13.803 --> 00:27:18.513\nSo, that's really about it.\n\n452\n00:27:18.513 --> 00:27:23.430\nThe DHCP, and then here,\nthe command is add Server,\n\n453\n00:27:23.430 --> 00:27:26.176\nI'm sure my syntax is right.\n\n454\n00:27:26.176 --> 00:27:30.962\nNow, the name of this\nmachine is MeneberSVR.\n\n455\n00:27:30.962 --> 00:27:32.068\n&gt;&gt; I think you misspelled Memeber.\n\n456\n00:27:32.068 --> 00:27:36.959\n&gt;&gt; Memeber, yeah, thank you.\n\n457\n00:27:36.959 --> 00:27:39.380\n&gt;&gt; MemeberSVR, is that right?\n\n458\n00:27:39.380 --> 00:27:45.644\nYeah, 01, and again that's for\nmy TestDomain.com, and\n\n459\n00:27:45.644 --> 00:27:51.676\nthe IP address here is 10.1.1.5,\nand that's it.\n\n460\n00:27:51.676 --> 00:27:54.499\nSo that's how you go ahead and\nperform a migration there.\n\n461\n00:27:54.499 --> 00:27:57.683\nSo just keep in mind, you can go ahead and\n\n462\n00:27:57.683 --> 00:28:03.501\nperform this on numerous different\nroles there, and it's a lot easier.\n\n463\n00:28:03.501 --> 00:28:06.325\n[LAUGH] I don't know if I'd say\neasier than the full upgrade, but\n\n464\n00:28:06.325 --> 00:28:09.309\nit's definitely the preferred method,\nso you're not pulling all\n\n465\n00:28:09.309 --> 00:28:12.259\nthat old information in,\nyou're saving some work along the way.\n\n466\n00:28:12.259 --> 00:28:16.621\n&gt;&gt; All right Cherokee, well thank you very\nmuch for helping us understand at least\n\n467\n00:28:16.621 --> 00:28:20.020\nthe basics of role migration\nin Windows Server 2012 R2.\n\n468\n00:28:20.020 --> 00:28:22.892\nRemember that it does not recommend\nthat you actually do more\n\n469\n00:28:22.892 --> 00:28:25.760\nthan one role at a time, so\nmake sure you only choose one, and\n\n470\n00:28:25.760 --> 00:28:29.733\ntake a look at those different guides that\nare available for you on TechNet as well.\n\n471\n00:28:29.733 --> 00:28:33.785\nWhen getting ready for the exam, make sure\nyou also pay attention to the steps that\n\n472\n00:28:33.785 --> 00:28:37.671\nwere described here, especially the order\nand the processing of what you do.\n\n473\n00:28:37.671 --> 00:28:41.456\nMicrosoft really does love this idea\nof which of the following steps do you\n\n474\n00:28:41.456 --> 00:28:45.425\nactually need to make to complete\nsomething like the migration here, and you\n\n475\n00:28:45.425 --> 00:28:49.539\nneed to know the orders of those as well\nin those steps that Cherokee showed too.\n\n476\n00:28:49.539 --> 00:28:52.069\nSo there's a lot of information here,\nmake sure you come back and\n\n477\n00:28:52.069 --> 00:28:54.100\nreview that episode as\nyou're preparing for exam.\n\n478\n00:28:54.100 --> 00:28:56.569\nThank you, Cherokee, for helping us\nunderstand that a little better.\n\n479\n00:28:56.569 --> 00:29:01.710\nThank you also for being right here and\nwatching us, today, as well.\n\n480\n00:29:01.710 --> 00:29:05.508\nSigning off for ITProTV,\nI've been your host, Ronnie Wong.\n\n481\n00:29:05.508 --> 00:29:06.694\n&gt;&gt; And I'm Cherokee Boose.\n\n482\n00:29:06.694 --> 00:29:12.268\n&gt;&gt; Stay tuned right here for\nmore MCSA Windows Server 2012 R2.\n\n483\n00:29:12.268 --> 00:29:18.924\n[MUSIC]\n\n484\n00:29:18.924 --> 00:29:20.965\n&gt;&gt; Thank you for watching ITProTV.\n\n",
          "vimeoId": "191182236"
        },
        {
          "description": "In this episode, Daniel and Mike demonstrate how add/remove the GUI interface from Server 2012R2. Then they show how to take advantage of Features on Demand.",
          "length": "2162",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-1-3-features_on_demand-071315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-1-3-features_on_demand-071315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-1-3-features_on_demand-071315-1-sm.jpg",
          "title": "Features on Demand",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.414\n[MUSIC]\n\n2\n00:00:10.414 --> 00:00:14.304\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.304 --> 00:00:19.481\nWe have host David Lowery with me today,\nas the man who loves Fountain Drew.\n\n4\n00:00:19.481 --> 00:00:20.840\nThat is Mike Rodrick.\n\n5\n00:00:20.840 --> 00:00:21.710\nHow's it going today, Mike?\n\n6\n00:00:21.710 --> 00:00:22.951\n>> That's fantastic, man.\n\n7\n00:00:22.951 --> 00:00:25.220\nCan't get enough of that Fountain Drew.\n\n8\n00:00:25.220 --> 00:00:31.780\nIt is good stuff, but anyway, we're here\nto do another episode on server 2012 R2.\n\n9\n00:00:31.780 --> 00:00:35.650\nAnd in this episode, we're gonna look at a\ncouple things we can do with our servers.\n\n10\n00:00:35.650 --> 00:00:38.820\nTo make them, really good way to say,\nmake them a little more, not so\n\n11\n00:00:38.820 --> 00:00:41.590\nmuch make them,\nthe server itself more efficient but\n\n12\n00:00:41.590 --> 00:00:43.950\nwe're gonna look at at something\ncalled Features On Demand.\n\n13\n00:00:43.950 --> 00:00:46.540\nWhich is a way that I can\nsave space on my servers.\n\n14\n00:00:46.540 --> 00:00:50.260\nWhich will become very important when\nwere taking about virtualization.\n\n15\n00:00:50.260 --> 00:00:53.980\nAnd trying to pack as many servers as\nwe can on those virtualized hosts, and\n\n16\n00:00:53.980 --> 00:01:00.000\nI also wanna look at how we can now change\nfrom a full blown standard install,\n\n17\n00:01:00.000 --> 00:01:05.790\nin other words, with a GUI,\nto a core install And back if we need to.\n\n18\n00:01:05.790 --> 00:01:10.880\nThis is something that is new to Server\n2012 and it's also available in 2012 R2.\n\n19\n00:01:10.880 --> 00:01:14.070\n>> Yeah, this is a really good\nfeature to be honest with you.\n\n20\n00:01:14.070 --> 00:01:16.380\nIf you're running a server and\nit's got a lot of overhead and\n\n21\n00:01:16.380 --> 00:01:17.400\nyou're like, you know what?\n\n22\n00:01:17.400 --> 00:01:20.700\nThis server would do a whole lot better\nif we would just did a core install.\n\n23\n00:01:20.700 --> 00:01:23.980\nBut I don't really want\nto reinstall the server.\n\n24\n00:01:23.980 --> 00:01:24.560\nGood news.\n\n25\n00:01:24.560 --> 00:01:25.130\nYou don't have to.\n\n26\n00:01:25.130 --> 00:01:27.180\nYou can just drop it down to core.\n\n27\n00:01:27.180 --> 00:01:28.580\nI say drop it down.\n\n28\n00:01:28.580 --> 00:01:32.490\nIt's basically stream lining it by using\ncore to say you know what, we're gonna\n\n29\n00:01:32.490 --> 00:01:37.290\noptimize the way we're implementing this\nserver in our production environment\n\n30\n00:01:37.290 --> 00:01:42.600\nby using core instead of GUI, and then the\nother way around I'm in the server a lot.\n\n31\n00:01:42.600 --> 00:01:46.460\nThose GUI tools will be a whole lot\neasier if I had them at the ready.\n\n32\n00:01:46.460 --> 00:01:50.990\nLet me go ahead and put this course\nversion onto the GUI version.\n\n33\n00:01:50.990 --> 00:01:54.810\nGet those GUI tools, so\nI can use them when I need them there and\n\n34\n00:01:54.810 --> 00:01:55.965\nmakes my job a whole lot easier.\n\n35\n00:01:55.965 --> 00:02:00.445\nSo it's really all about if you need\nto change the role of the server and\n\n36\n00:02:00.445 --> 00:02:04.035\nwhat it's doing as far as optimization for\nhow it's being used.\n\n37\n00:02:04.035 --> 00:02:05.055\nThat's what we're talking about today.\n\n38\n00:02:05.055 --> 00:02:06.335\nRight, Mike?\n>> Exactly, exactly.\n\n39\n00:02:06.335 --> 00:02:07.215\nNow Server Core.\n\n40\n00:02:07.215 --> 00:02:10.570\nActually it got introduced\nto us in Server 2008.\n\n41\n00:02:10.570 --> 00:02:13.541\nThat was the first version of\nWindows Server where we could\n\n42\n00:02:13.541 --> 00:02:16.522\nchoose to install it as a core\nwhere I left all that GUI out.\n\n43\n00:02:16.522 --> 00:02:20.672\nAnd if you've watched our other episodes\nwe talked about Server Core, and there's\n\n44\n00:02:20.672 --> 00:02:24.717\nadvantages of that, reducing as you say,\nreducing your resource utilization.\n\n45\n00:02:24.717 --> 00:02:29.303\nYou're reducing your surface attack area\nbecause you're getting rid of all those\n\n46\n00:02:29.303 --> 00:02:33.038\nadministrative tools like Windows desktop,\nInternet Explorer,\n\n47\n00:02:33.038 --> 00:02:37.570\ndesktop, those kind of things are gone,\nwhich means I have less attack surface.\n\n48\n00:02:38.780 --> 00:02:42.263\nBut with 2012 and 2012 R2,\nI can now change back and forth.\n\n49\n00:02:42.263 --> 00:02:44.320\nI'm not stuck with one\nlike we were in 2008.\n\n50\n00:02:44.320 --> 00:02:47.307\nIn 2008 if it installed it\nas Core that's what you had,\n\n51\n00:02:47.307 --> 00:02:50.439\nthere was no way to add the GUI\nback to it or anything like that.\n\n52\n00:02:50.439 --> 00:02:56.083\nAnd they make it extremely\neasy in 2012 and 2012 R2.\n\n53\n00:02:56.083 --> 00:02:57.761\nAnd you made some great points Andrew.\n\n54\n00:02:57.761 --> 00:02:59.790\nThat's exactly why we might do that.\n\n55\n00:02:59.790 --> 00:03:04.850\nI might have started with a full\ninstaller server because it's really easy\n\n56\n00:03:04.850 --> 00:03:08.830\nto set it up and configure it and do all\nthat initial configuration with those GUI.\n\n57\n00:03:08.830 --> 00:03:11.950\nOnce I'm done now I want to strip\nall that other stuff out, right or\n\n58\n00:03:11.950 --> 00:03:15.210\nI might have it An install that's core,\nand there's something I need to do.\n\n59\n00:03:15.210 --> 00:03:19.070\nSome third party software, or\nsomething that I need to configure and\n\n60\n00:03:19.070 --> 00:03:21.660\nI can't do it without some\nsort of GUI on there.\n\n61\n00:03:21.660 --> 00:03:25.576\nI can't do it through the command\nline on core or do it remotely.\n\n62\n00:03:25.576 --> 00:03:28.973\nThere are reasons, which is why\nMicrosoft choose to include it,\n\n63\n00:03:28.973 --> 00:03:32.310\nto give us that ability to switch back and\nforth as needed.\n\n64\n00:03:32.310 --> 00:03:35.476\n>> Yeah, sometimes you're using a tanker\nto ship a bottle of water, right.\n\n65\n00:03:35.476 --> 00:03:38.210\n>> [LAUGH]\n>> That's not very useful, right?\n\n66\n00:03:38.210 --> 00:03:43.140\nEven though they do the same job, a\nsmaller boat would probably do just fine.\n\n67\n00:03:43.140 --> 00:03:44.912\nAnd that's what we're doing,\nwe're saying okay.\n\n68\n00:03:44.912 --> 00:03:46.313\nDon't need to thank her, Microsoft.\n\n69\n00:03:46.313 --> 00:03:48.594\nWe'll take the speedboat instead.\n\n70\n00:03:48.594 --> 00:03:49.860\n[LAUGH]\n>> Exactly.\n\n71\n00:03:49.860 --> 00:03:51.647\nSo really, when it comes down to it,\n\n72\n00:03:51.647 --> 00:03:54.138\nthere's three ways we can\nbe working with server.\n\n73\n00:03:54.138 --> 00:03:56.004\nThey call it Install Options.\n\n74\n00:03:56.004 --> 00:03:58.610\nNow, if you've watched our other episodes.\n\n75\n00:03:58.610 --> 00:04:00.800\nYou know when we go to install\nthere's really only two.\n\n76\n00:04:00.800 --> 00:04:03.910\nThere's the full install, and\nthen there's Server Core.\n\n77\n00:04:03.910 --> 00:04:07.109\nBut once we get it installed when we\nstart switching back and forth, and\n\n78\n00:04:07.109 --> 00:04:09.030\nconverting from one to the other.\n\n79\n00:04:09.030 --> 00:04:10.360\nThere's actually three.\n\n80\n00:04:10.360 --> 00:04:13.870\nThere's the full install,\nwhich has the GUI, and all the tools.\n\n81\n00:04:13.870 --> 00:04:17.750\nThere's also what they call\na Minimal Server Interface\n\n82\n00:04:17.750 --> 00:04:21.310\nwhich is gonna be basically\nCore with Server Manager.\n\n83\n00:04:21.310 --> 00:04:25.770\nExplorers not there either Internet or\ndesktop for Windows Explorer.\n\n84\n00:04:25.770 --> 00:04:27.210\nNone of that stuffs there.\n\n85\n00:04:27.210 --> 00:04:31.825\nBut you do have Server Manager which gives\nyou access to those management utilities.\n\n86\n00:04:31.825 --> 00:04:35.105\nSo that's kind of the in between full and\ncore.\n\n87\n00:04:35.105 --> 00:04:37.635\nAnd then of course\nthe third option is core.\n\n88\n00:04:37.635 --> 00:04:41.355\nSo what I've got for you here, I've got\na virtual machine that's running 2012 R2,\n\n89\n00:04:41.355 --> 00:04:44.200\nand as you can see it's the full version.\n\n90\n00:04:44.200 --> 00:04:49.090\nI've got my Server Manager open up here\nthat you can see I've got File Explorer,\n\n91\n00:04:49.090 --> 00:04:53.770\nI've got my desktop, my task bar,\nthis is a full install.\n\n92\n00:04:53.770 --> 00:04:56.061\nIf I decided I want to convert this, well,\n\n93\n00:04:56.061 --> 00:04:58.557\nthere's actually a couple\nof ways I can do it.\n\n94\n00:04:58.557 --> 00:05:03.117\nIf I'm at the view, if I'm in the server,\nfull server install, I come over here to\n\n95\n00:05:03.117 --> 00:05:07.677\nmy dashboard, and I can do my add roles,\nI'm sorry, this would actually be remove\n\n96\n00:05:07.677 --> 00:05:12.270\nroles cuz it's already installed,\nright, it's already a full install.\n\n97\n00:05:12.270 --> 00:05:16.010\nSo I can go to Manage > Remove Roles and\nFeatures.\n\n98\n00:05:16.010 --> 00:05:18.870\nIt launches our wizard that we're\ngonna spend a lot of time in\n\n99\n00:05:18.870 --> 00:05:22.320\nthis wizard in future episodes so don't\npanic if you haven't seen this before.\n\n100\n00:05:22.320 --> 00:05:25.226\nI'm just gonna click Next,\ntell it what server I'm working with.\n\n101\n00:05:25.226 --> 00:05:28.436\nIt assumes the one I'm logged onto,\nwhich is correct in this case.\n\n102\n00:05:28.436 --> 00:05:29.820\nI'll click Next.\n\n103\n00:05:29.820 --> 00:05:32.373\nIt's not a roll, so I'll click Next.\n\n104\n00:05:32.373 --> 00:05:34.247\nIt's actually a feature.\n\n105\n00:05:34.247 --> 00:05:39.087\nAnd if I scroll down through here\nI will find my user interfaces and\n\n106\n00:05:39.087 --> 00:05:41.110\ninfrastructure.\n\n107\n00:05:41.110 --> 00:05:44.890\nIf I expand this out,\nI'll see that graphical manage tools and\n\n108\n00:05:44.890 --> 00:05:46.760\ninfrastructure is selected.\n\n109\n00:05:46.760 --> 00:05:50.260\nIt is installed as well as\nmy server graphical shell.\n\n110\n00:05:50.260 --> 00:05:53.430\nSo those are the two things that\nare giving me this full blown,\n\n111\n00:05:53.430 --> 00:05:54.660\nfull install interface.\n\n112\n00:05:54.660 --> 00:05:59.030\nI could just uncheck those or\nuncheck one or the other and\n\n113\n00:05:59.030 --> 00:06:03.410\ngo to Server Core or the minimal install.\n\n114\n00:06:03.410 --> 00:06:08.970\nThe shell, if I remove the shell,\nthat's gonna get rid of the desktop,\n\n115\n00:06:08.970 --> 00:06:12.870\nthe taskbar, Internet Explorer,\nall those kind of things.\n\n116\n00:06:12.870 --> 00:06:15.730\nI'd still have Server Manager,\nI'd still have my management tools and\n\n117\n00:06:15.730 --> 00:06:16.680\ninfrastructure.\n\n118\n00:06:16.680 --> 00:06:18.697\nSo that would be that in-between state.\n\n119\n00:06:18.697 --> 00:06:22.310\nIf I inject both of these then\nI would be at Server Core.\n\n120\n00:06:22.310 --> 00:06:24.649\nI wouldn't have any GUI at all.\n\n121\n00:06:24.649 --> 00:06:27.650\nWe could do it this way, but\nthat's no fun right Danny.\n\n122\n00:06:27.650 --> 00:06:29.586\nWe don't want to use no wizard to do it.\n\n123\n00:06:29.586 --> 00:06:34.273\n>> Wizards are for little kids and\npeople with back injuries I don't know.\n\n124\n00:06:34.273 --> 00:06:36.910\n[LAUGH]\n>> [LAUGH] He's laughing at the way I type\n\n125\n00:06:36.910 --> 00:06:38.234\na power shell [LAUGH]\n>> I do.\n\n126\n00:06:38.234 --> 00:06:42.870\n[LAUGH] So we're gonna use PowerShell\nto accomplish the same thing.\n\n127\n00:06:42.870 --> 00:06:46.380\nSo let me whip out my cheat sheet and\nget my commands ready here.\n\n128\n00:06:46.380 --> 00:06:54.640\nSo what we're gonna do is\nuninstall -WindowsFeature.\n\n129\n00:06:54.640 --> 00:06:59.257\nAll right, and\nthe feature that we're gonna\n\n130\n00:06:59.257 --> 00:07:03.885\nuninstall is gonna be server -gui-shell.\n\n131\n00:07:03.885 --> 00:07:04.511\nRight?\nSo\n\n132\n00:07:04.511 --> 00:07:10.205\nuninstall-windowsfeature server-gui-shell\nand this is gonna require a reboot,\n\n133\n00:07:10.205 --> 00:07:14.963\nso I'm just gonna go ahead and\nadd a -restart to the end of that command.\n\n134\n00:07:14.963 --> 00:07:19.400\nI'll hit Enter and it's going to go\nthrough and remove the interface.\n\n135\n00:07:19.400 --> 00:07:23.550\nSo this will take it a minute and\nwe'll let it do it's things.\n\n136\n00:07:23.550 --> 00:07:26.900\nRemember this is going to get me\nto that middle state, all right?\n\n137\n00:07:26.900 --> 00:07:30.015\nWe've got full install with all my GUI's.\n\n138\n00:07:30.015 --> 00:07:35.165\nI've got the minimal install which is\nbasically Core plus Server Manager.\n\n139\n00:07:35.165 --> 00:07:38.435\nAnd then I've got core at the very bottom,\nthat's the way I like to look at it.\n\n140\n00:07:38.435 --> 00:07:39.148\nTop to bottom.\n\n141\n00:07:39.148 --> 00:07:43.538\nSo this is going to get me to that middle\nstate, it's going to remove the task bar,\n\n142\n00:07:43.538 --> 00:07:44.760\nand all of that stuff.\n\n143\n00:07:44.760 --> 00:07:49.290\nSo it's at 90%,\nshould take too much longer.\n\n144\n00:07:49.290 --> 00:07:50.580\nIt does have to reboot, right?\n\n145\n00:07:50.580 --> 00:07:53.530\nCuz it's gotta get rid of, right now\nI can see my task bar down there.\n\n146\n00:07:53.530 --> 00:07:55.360\nI could click on File Explorer.\n\n147\n00:07:55.360 --> 00:07:57.730\nSo we'll let this go,\nwe'll let it finish up.\n\n148\n00:07:57.730 --> 00:07:58.780\nWe'll wait for it to reboot.\n\n149\n00:07:58.780 --> 00:08:02.343\n>> This is one of the more\ngraphically pleasing progress bars.\n\n150\n00:08:02.343 --> 00:08:03.128\n[LAUGH]\n>> It is.\n\n151\n00:08:03.128 --> 00:08:05.508\nI like the little zeros\nthat go across there.\n\n152\n00:08:05.508 --> 00:08:07.389\nThe little o's that go across there.\n\n153\n00:08:07.389 --> 00:08:08.968\n>> A little nice the old school,\nthe new school.\n\n154\n00:08:08.968 --> 00:08:09.513\n>> Yeah.\n\n155\n00:08:09.513 --> 00:08:10.268\nExactly.\n\n156\n00:08:10.268 --> 00:08:14.185\n>> And I remember when you were at the\ncommand prompt, they give you a progress\n\n157\n00:08:14.185 --> 00:08:18.473\nbar, and it'd be like little dashes that\nwould kind of go across, or the spinning\n\n158\n00:08:18.473 --> 00:08:22.560\nthing where they'd use the back slash,\nthe pike, and the forward slash.\n\n159\n00:08:22.560 --> 00:08:23.620\n>> Yep.\n>> And just rotate that around\n\n160\n00:08:23.620 --> 00:08:25.120\nto look like it was spinning.\n\n161\n00:08:25.120 --> 00:08:25.840\nIt's great stuff.\n\n162\n00:08:25.840 --> 00:08:27.185\n>> It worked, was very effective actually.\n\n163\n00:08:27.185 --> 00:08:29.470\n[LAUGH]\n>> Yeah, I thought so, I thought so.\n\n164\n00:08:29.470 --> 00:08:33.020\nAll right, so there it goes, it's\ngoing to remove all of those features.\n\n165\n00:08:35.130 --> 00:08:37.350\nAnd this is the hurry up and\nwait part of it.\n\n166\n00:08:37.350 --> 00:08:37.850\n>> Yeah, that's right.\n>> [CROSSTALK]\n\n167\n00:08:37.850 --> 00:08:39.448\n>> These computers, they love to,\n\n168\n00:08:39.448 --> 00:08:43.383\nI'd love them to say hey just sit back,\nhave a cup of coffee, a Coke, and a smile,\n\n169\n00:08:43.383 --> 00:08:45.494\nand we'll be with you\nin just a few minutes,\n\n170\n00:08:45.494 --> 00:08:46.066\nright?\n[LAUGH]\n\n171\n00:08:46.066 --> 00:08:48.730\n>> And all in all, we give it a hard\n\n172\n00:08:48.730 --> 00:08:53.210\ntime because we're standing here in front\nof a camera going let's go, let's go.\n\n173\n00:08:53.210 --> 00:08:55.250\nBut in the end this took, what 45 seconds?\n\n174\n00:08:55.250 --> 00:08:57.330\n>> Yeah, it was really fast.\n\n175\n00:08:57.330 --> 00:08:58.450\n>> Yeah, it's really not that bad.\n\n176\n00:08:58.450 --> 00:09:03.111\nSo it's rebooting now, should come up to\nmy logon screen here in just a second.\n\n177\n00:09:07.014 --> 00:09:08.040\nEventually.\n\n178\n00:09:08.040 --> 00:09:10.220\n>> I know, cue the elevator music.\n\n179\n00:09:10.220 --> 00:09:11.419\n>> I know, right?\n\n180\n00:09:11.419 --> 00:09:12.368\n>> [MUSIC]\n\n181\n00:09:12.368 --> 00:09:16.380\n>> [LAUGH]\n>> [LAUGH] That's a good one.\n\n182\n00:09:16.380 --> 00:09:17.830\nIt's either start singing that one or\n\n183\n00:09:17.830 --> 00:09:20.670\nI'll start humming to\nmyself the Jeopardy stuff.\n\n184\n00:09:20.670 --> 00:09:21.300\n>> The girl from Ipanema?\n\n185\n00:09:21.300 --> 00:09:28.841\n>> You know?\n[NOISE] All right, 81%, there we go.\n\n186\n00:09:28.841 --> 00:09:32.499\n>> Again like you said, though, this\nreally isn't a lot of time to be honest\n\n187\n00:09:32.499 --> 00:09:35.390\nwith you, for\nsomething as intense of what we're doing.\n\n188\n00:09:35.390 --> 00:09:39.700\nWe're saying all the shell attributes,\nI don't want graphics on this anymore,\n\n189\n00:09:39.700 --> 00:09:44.620\nor we're going down to the minimal, or we\nwill have the server management features.\n\n190\n00:09:44.620 --> 00:09:46.520\nBut everything else is going bye bye.\n\n191\n00:09:46.520 --> 00:09:48.690\nIt's really making a major change here.\n\n192\n00:09:48.690 --> 00:09:52.040\nAnd it took maybe two minutes.\n\n193\n00:09:52.040 --> 00:09:55.700\n>> And a lot faster in trying to\nreinstall with that option set,\n\n194\n00:09:55.700 --> 00:09:59.480\nso I'll log back in and so\nfar it doesn't look any different.\n\n195\n00:09:59.480 --> 00:10:03.780\nBut now once I get logged in,\nthere you can see that server core\n\n196\n00:10:03.780 --> 00:10:08.110\nprompt come up in the background,\nand then Server Manager opens up.\n\n197\n00:10:08.110 --> 00:10:09.930\nNow you might think, well wait Mike,\nyou're at Server Manager,\n\n198\n00:10:09.930 --> 00:10:14.070\nthat means that you're at a full install,\nwell let me minimize this for a second.\n\n199\n00:10:14.070 --> 00:10:17.900\nAnd you notice I don't have a taskbar,\nI don't have file explorer,\n\n200\n00:10:17.900 --> 00:10:18.860\nall of that's gone.\n\n201\n00:10:18.860 --> 00:10:22.250\nThis is that middle stage,\nthat minimal install, so\n\n202\n00:10:22.250 --> 00:10:27.950\nI can use my command prompt or\nI can still use my server manager.\n\n203\n00:10:27.950 --> 00:10:30.440\nSo server manager still has\nall it's functionality,\n\n204\n00:10:30.440 --> 00:10:33.510\nand that's the only\nmanagement tolls I have left.\n\n205\n00:10:33.510 --> 00:10:38.430\nI mean all my role would be there as well,\nlike if I had installed DNS ID and\n\n206\n00:10:38.430 --> 00:10:39.830\nScon so it would be there.\n\n207\n00:10:39.830 --> 00:10:43.760\nBut all that extra stuff,\nWindows Explorer, the Desktop, all gone.\n\n208\n00:10:43.760 --> 00:10:46.320\nAlright then if we want to\ntake it to the next level.\n\n209\n00:10:46.320 --> 00:10:48.350\nWe want to go to full blown core.\n\n210\n00:10:48.350 --> 00:10:51.622\nI'm going to go ahead and\nlaunch PowerShell.\n\n211\n00:10:51.622 --> 00:10:52.680\nAlright.\n\n212\n00:10:52.680 --> 00:10:58.989\nAnd from here it's basically\nuninstall dash windowsfeature.\n\n213\n00:11:02.880 --> 00:11:05.040\nAnd it would help if I'd\nspell that correctly.\n\n214\n00:11:06.260 --> 00:11:13.230\nYeah, missed a little n in there,\nuninstall-windowsfeature.\n\n215\n00:11:13.230 --> 00:11:18.797\nAnd this one is called server dash GUI,\ndash MGMT for\n\n216\n00:11:18.797 --> 00:11:24.720\nmanagement, dash infra short for\ninfrastructure.\n\n217\n00:11:24.720 --> 00:11:27.430\nThis is also going to require a restart,\nso\n\n218\n00:11:27.430 --> 00:11:30.100\nI will to add the little restart\ncommand at the end there.\n\n219\n00:11:32.370 --> 00:11:33.840\nAnd it's going to do the same thing.\n\n220\n00:11:33.840 --> 00:11:38.100\nNow it's stripping out server manager and\nthose management utilities.\n\n221\n00:11:38.100 --> 00:11:41.020\nAnd in the end, I'm going to\nbe left with just server core.\n\n222\n00:11:41.020 --> 00:11:42.800\n>> Yeah, and\nthis wasn't too difficult, right?\n\n223\n00:11:42.800 --> 00:11:45.730\nIt's just a couple commands you've\ngot to learn, put them in the noggin.\n\n224\n00:11:45.730 --> 00:11:48.610\nAnd if you've used them a couple of times,\nit's not going to take long for\n\n225\n00:11:48.610 --> 00:11:52.300\nyou to get that information\nassimilated into your brain.\n\n226\n00:11:52.300 --> 00:11:56.720\nSo that if and when you need to do this,\nyou can recall it pretty easily.\n\n227\n00:11:56.720 --> 00:12:00.650\nAnd if you don't, I'm sure they make this\nkind of information readily available on\n\n228\n00:12:00.650 --> 00:12:03.590\nthe Microsoft website, or\nin some documentation somewhere.\n\n229\n00:12:03.590 --> 00:12:08.210\nBut having that under the hood, saying I\ngot it Right here in my toolbox whenever\n\n230\n00:12:08.210 --> 00:12:10.720\nI need it, that's going to serve you\nreally well, because you never know\n\n231\n00:12:10.720 --> 00:12:14.910\nwhen you're like, this server's\nbeing completely overutilized.\n\n232\n00:12:14.910 --> 00:12:18.520\nI need to strip it down, let it be a core\nserver, or it's being under utilized.\n\n233\n00:12:18.520 --> 00:12:21.280\nI need to really start\nusing this server more.\n\n234\n00:12:21.280 --> 00:12:23.860\nWe could really be saving\nourselves some time and effort.\n\n235\n00:12:23.860 --> 00:12:26.670\nIf I just installed the GUI\nmanagement systems into this,\n\n236\n00:12:26.670 --> 00:12:28.840\nlet's get that rocking so very good stuff.\n\n237\n00:12:28.840 --> 00:12:30.170\n>> Actually and it is.\n\n238\n00:12:30.170 --> 00:12:33.470\nIt's those two commands again,\nuninstall dash Window feature,\n\n239\n00:12:33.470 --> 00:12:35.330\nthat should be an easy one to remember.\n\n240\n00:12:35.330 --> 00:12:38.180\nThe key is just remember those two names.\n\n241\n00:12:38.180 --> 00:12:40.614\nThe server dash GUI dash shell is the,\n\n242\n00:12:40.614 --> 00:12:45.255\ngets you down to that minimal interface,\nand then server dash gooey dash\n\n243\n00:12:45.255 --> 00:12:48.700\nmgmt dash infra will strip\nit all the way down to core.\n\n244\n00:12:50.030 --> 00:12:51.190\nSo it's at about 90% here.\n\n245\n00:12:51.190 --> 00:12:53.476\nAgain, we're just waiting for this guy.\n\n246\n00:12:53.476 --> 00:12:57.500\nIt is going to have to do another\nreboot to finish the removal\n\n247\n00:12:57.500 --> 00:13:00.080\nof the what's left of my\nmanagement interface.\n\n248\n00:13:00.080 --> 00:13:01.270\n>> Yeah.\n\n249\n00:13:01.270 --> 00:13:06.090\n>> So we'll give it just a second.\n\n250\n00:13:06.090 --> 00:13:11.120\n>> So Mike, do you tend to like the full\nblown core, the minimal, or the GUI?\n\n251\n00:13:11.120 --> 00:13:12.210\nWhat's your preference?\n\n252\n00:13:12.210 --> 00:13:14.060\n>> You know, I like core.\n\n253\n00:13:14.060 --> 00:13:18.260\nIt's become a favorite of mine, mainly\nbecause I do most of my administration\n\n254\n00:13:18.260 --> 00:13:21.518\nremotely, and so\nI don't care if there's a GUI on that.\n\n255\n00:13:21.518 --> 00:13:25.640\nWe're going to see another episode,\nhow to use your remote server admin tools.\n\n256\n00:13:25.640 --> 00:13:27.580\nI sit at my Windows 8 machine and\n\n257\n00:13:27.580 --> 00:13:31.030\nI remote into the servers that are in the\ncloset, whether they're here in my town or\n\n258\n00:13:31.030 --> 00:13:33.890\nwhether they're in a branch\noffice in another location.\n\n259\n00:13:33.890 --> 00:13:36.400\nI've got GUIs loaded up\non my client machine.\n\n260\n00:13:36.400 --> 00:13:39.860\nSo, if I can strip anything\nout of that server and\n\n261\n00:13:39.860 --> 00:13:43.120\njust make it perform better,\nI'm all about it.\n\n262\n00:13:43.120 --> 00:13:44.910\n>> Yeah.\n>> And server core is by far,\n\n263\n00:13:44.910 --> 00:13:46.830\nit's much more efficient.\n\n264\n00:13:46.830 --> 00:13:50.340\nIt uses less resources,\nwhich means those resources, if\n\n265\n00:13:50.340 --> 00:13:55.180\nyou think about it your hyper V server is\nhosting multiple virtual servers, right?\n\n266\n00:13:55.180 --> 00:13:57.990\nEach one of those servers,\nwhatever the physical machine has,\n\n267\n00:13:57.990 --> 00:14:02.628\nyou have to divide those resources up,\nprocessor, memory, disc, network,\n\n268\n00:14:02.628 --> 00:14:05.670\nyou've got to divide it up\namongst all your virtual servers.\n\n269\n00:14:05.670 --> 00:14:09.580\nSo the less resources each\nvirtual server is using,\n\n270\n00:14:09.580 --> 00:14:12.460\nthen the more that's available for\nother virtual servers.\n\n271\n00:14:12.460 --> 00:14:16.222\nWhen I'm running GUI on all of them,\nI might be able to run six or\n\n272\n00:14:16.222 --> 00:14:18.080\nseven virtual servers on there.\n\n273\n00:14:18.080 --> 00:14:20.450\nWhen I switch to core on all of them,\n\n274\n00:14:20.450 --> 00:14:25.230\nnow the all of a sudden I can run 10 to\n15 servers on that same physical host.\n\n275\n00:14:25.230 --> 00:14:29.430\nSo it just frees up resources,\nmakes everything perform a lot better, and\n\n276\n00:14:29.430 --> 00:14:34.090\nthe side benefit of being a more secure\ninstall, because I don't have to patch up\n\n277\n00:14:34.090 --> 00:14:37.480\nthe Windows interface, you know\nthe desktop and Internet Explorer.\n\n278\n00:14:37.480 --> 00:14:40.940\nI mean, IE itself eliminates\na lot of patching, right?\n\n279\n00:14:40.940 --> 00:14:43.010\n>> Yeah, there's no doubt about that.\n\n280\n00:14:43.010 --> 00:14:47.280\nI've run WSUS as a service, that was part\nof my responsibilities in some of the jobs\n\n281\n00:14:47.280 --> 00:14:50.879\nI've worked, real pain, and\none less thing I've got to download and\n\n282\n00:14:50.879 --> 00:14:54.510\ninstall, one less thing on\na server I've got to worry about.\n\n283\n00:14:54.510 --> 00:14:57.158\nI completely agree with Mike,\nthis is where we're going.\n\n284\n00:14:57.158 --> 00:14:58.950\nYou're going to see a lot of people or\n\n285\n00:14:58.950 --> 00:15:02.670\nat least, maybe you're in a job already,\nprobably going to have a boss or\n\n286\n00:15:02.670 --> 00:15:04.940\nmanager some up to you and\nsay, Hey, you know what?\n\n287\n00:15:04.940 --> 00:15:08.400\nI've been reading about this\ncore instead of running the GUI,\n\n288\n00:15:08.400 --> 00:15:11.070\nI think we might get some more performance\nout of that, what do you think?\n\n289\n00:15:11.070 --> 00:15:13.617\nYou're going to be like, yeah,\nwe'll get some more performance.\n\n290\n00:15:13.617 --> 00:15:18.440\nAnd like Mike said, most of the stuff we\ndo on servers nowadays is done remotely.\n\n291\n00:15:18.440 --> 00:15:20.880\nWe sit at a workstation at our desk.\n\n292\n00:15:20.880 --> 00:15:25.160\nWe don't go into the server closet very\nmuch anymore, get at a keyboard, mouse,\n\n293\n00:15:25.160 --> 00:15:28.280\nand monitor and start bouncing\naround through a KVM or whatever.\n\n294\n00:15:28.280 --> 00:15:32.560\nWe sit and we remote in, we use\nvirtual desktops, that kind of thing.\n\n295\n00:15:32.560 --> 00:15:35.900\nSo it does look like that's\nprobably going to be the way to go.\n\n296\n00:15:35.900 --> 00:15:40.505\nWhy load up a server with a bunch\nof extras that it doesn't really\n\n297\n00:15:40.505 --> 00:15:43.164\nneed to get that extra performance?\n\n298\n00:15:43.164 --> 00:15:46.580\nSo we're going to be moving a lot of.\n\n299\n00:15:46.580 --> 00:15:48.400\nYou've probably installed\n2012 on some server.\n\n300\n00:15:48.400 --> 00:15:51.030\nYou're probably going to be\ndoing this on some stuff.\n\n301\n00:15:51.030 --> 00:15:55.170\nIf you haven't, you could probably think\nof a few that you could do this to.\n\n302\n00:15:55.170 --> 00:15:56.320\nSave yourself some time.\n\n303\n00:15:56.320 --> 00:15:58.095\nGet some of those resources reclamated.\n\n304\n00:15:58.095 --> 00:15:59.337\nMake those servers run\na little bit better.\n\n305\n00:15:59.337 --> 00:16:00.617\nRight, Mike?\n>> Exactly right.\n\n306\n00:16:00.617 --> 00:16:01.614\nExactly right.\n\n307\n00:16:01.614 --> 00:16:03.577\nAll right, so this guy is rebooting.\n\n308\n00:16:03.577 --> 00:16:05.876\nIs coming back up, hopefully.\n\n309\n00:16:05.876 --> 00:16:10.140\nWe'll keep our fingers crossed.\n\n310\n00:16:10.140 --> 00:16:14.510\n>> We always have\n>> [LAUGH] So, and once this reboots I'm\n\n311\n00:16:14.510 --> 00:16:17.640\njust gonna log back in, and\nwe'll see what kind of interface I have.\n\n312\n00:16:18.720 --> 00:16:21.790\nIt came back up,\nit's telling now it's at 38%.\n\n313\n00:16:21.790 --> 00:16:24.480\nForty, we're kicking away--\n>> Do not turn off your computer.\n\n314\n00:16:24.480 --> 00:16:26.420\n>> That's right,\ndo not turn off your computer.\n\n315\n00:16:26.420 --> 00:16:29.090\n>> Word of advice: don't turn off\nyour computer when it says that.\n\n316\n00:16:29.090 --> 00:16:29.910\n>> Have you done that before?\n\n317\n00:16:29.910 --> 00:16:32.440\n>> I have, I've been down\nthat road a couple of times.\n\n318\n00:16:32.440 --> 00:16:34.660\nThey mean it when they say\ndon't turn off your computer.\n\n319\n00:16:34.660 --> 00:16:35.410\n>> They really do.\n\n320\n00:16:35.410 --> 00:16:35.910\n>> They do.\n\n321\n00:16:35.910 --> 00:16:37.100\nIt's not a joke.\n\n322\n00:16:37.100 --> 00:16:40.010\n>> You might be\nreinstalling at that point.\n\n323\n00:16:40.010 --> 00:16:40.980\n>> It's not pretty.\n\n324\n00:16:40.980 --> 00:16:42.030\n>> Or rolling through a back-up.\n\n325\n00:16:42.030 --> 00:16:46.810\nAt any rate so, all right,\n70%, we're getting close now.\n\n326\n00:16:46.810 --> 00:16:50.190\nAnd so now, again,\nwhat we've done is that first command\n\n327\n00:16:50.190 --> 00:16:54.340\nwent to that minimal server interface,\nwhere all I had was server manager.\n\n328\n00:16:54.340 --> 00:16:57.400\nAt the end of this one I\nshould be at server core.\n\n329\n00:16:57.400 --> 00:17:00.510\n>> Now an interesting thing about this,\nMike,\n\n330\n00:17:00.510 --> 00:17:04.030\nis it took us a lot less time to\nroll it to that minimal install, so\n\n331\n00:17:04.030 --> 00:17:06.800\nthat tells you\n>> It did a lot less effort to get to that\n\n332\n00:17:06.800 --> 00:17:09.950\nminimal install so\nit's telling you that there's probably not\n\n333\n00:17:09.950 --> 00:17:14.220\nas many things being removed as\nthere are as when you do move.\n\n334\n00:17:14.220 --> 00:17:16.250\nNow obviously some things were removed.\n\n335\n00:17:16.250 --> 00:17:18.740\nWe saw that's very plain to see.\n\n336\n00:17:18.740 --> 00:17:22.180\nBut not apparently as much as\nwhen you go down the full core.\n\n337\n00:17:22.180 --> 00:17:23.670\nSo it's gonna take you\na little bit longer time.\n\n338\n00:17:23.670 --> 00:17:24.710\n>> Absolutely.\n\n339\n00:17:24.710 --> 00:17:26.540\nAll right, so here we go,\nwe're logging in.\n\n340\n00:17:26.540 --> 00:17:29.420\nAnd you can already tell that\nit's a little different, right?\n\n341\n00:17:29.420 --> 00:17:33.530\nEven the little silhouette of the person\nthat's normally here in this logon\n\n342\n00:17:33.530 --> 00:17:36.300\ndialog box is gone, all right.\n\n343\n00:17:36.300 --> 00:17:37.355\nSo I'll type in my password.\n\n344\n00:17:41.024 --> 00:17:44.990\nAnd we'll give it a minute just to make\nsure Server Manager doesn't pop up.\n\n345\n00:17:44.990 --> 00:17:47.560\nBut that's it, we are at core.\n\n346\n00:17:47.560 --> 00:17:48.840\nThere is nothing else,\n\n347\n00:17:48.840 --> 00:17:53.750\nno desktop, no Internet Explorer,\nno server manager, nothing.\n\n348\n00:17:53.750 --> 00:17:57.110\nSo easy to do, just a couple of commands.\n\n349\n00:17:57.110 --> 00:17:59.030\nI could have used the GUI had I wanted to,\n\n350\n00:17:59.030 --> 00:18:03.230\nif I had started with the GUI version\nfull and wanted to go to core or\n\n351\n00:18:03.230 --> 00:18:06.350\nthat minimal install I could\nhave used the Wizard to do it.\n\n352\n00:18:06.350 --> 00:18:09.498\nNow if you want to convert back,\nwell there is no Wizard, right?\n\n353\n00:18:09.498 --> 00:18:13.050\nSo I am gonna have to know\nthe commands to go back the other way.\n\n354\n00:18:13.050 --> 00:18:16.890\nBut to get to this point, I could\nhave used the Wizard or the commands.\n\n355\n00:18:16.890 --> 00:18:20.190\n>> I'm guessing that the only real\nadvantage of using the Wizard is,\n\n356\n00:18:20.190 --> 00:18:22.980\nif you don't know the commands\nthe wizard is there for you.\n\n357\n00:18:22.980 --> 00:18:27.330\nAnd obviously it's a little bit of\na lengthy command system to get it to go.\n\n358\n00:18:27.330 --> 00:18:30.940\nNot too difficult, but\nyou might not remember the exact syntax.\n\n359\n00:18:30.940 --> 00:18:32.480\nIt's very easy to do.\n\n360\n00:18:32.480 --> 00:18:36.160\nRemember it for the exam cuz they probably\nwill ask you something about that,\n\n361\n00:18:36.160 --> 00:18:40.640\nbut if it's been a little while since\nyou've done it, that wizard's there for\n\n362\n00:18:40.640 --> 00:18:43.000\nus, and\nthank goodness cuz I use them a lot.\n\n363\n00:18:43.000 --> 00:18:43.500\n[LAUGH]\n>> Exactly.\n\n364\n00:18:43.500 --> 00:18:44.310\nAll right, so\n\n365\n00:18:44.310 --> 00:18:47.220\nnow, let's look at how\nwe can put it all back.\n\n366\n00:18:47.220 --> 00:18:48.450\nI'm at my command prompt.\n\n367\n00:18:48.450 --> 00:18:50.110\nI'm gonna fire up Power Shell.\n\n368\n00:18:51.560 --> 00:18:52.830\nThis could be done on any core, right?\n\n369\n00:18:52.830 --> 00:18:55.230\nI don't have to remove them just\nto be able to add them back.\n\n370\n00:18:55.230 --> 00:18:59.610\nIf I had started with a core install and\nthen decided,\n\n371\n00:18:59.610 --> 00:19:02.350\nyou know what, I don't like core.\n\n372\n00:19:02.350 --> 00:19:03.860\nI'm going to be dealing\nwith this server a lot.\n\n373\n00:19:03.860 --> 00:19:08.150\nI would rather have the GUI and\nall those things available to me.\n\n374\n00:19:08.150 --> 00:19:12.290\nI can add them back, and\nit's the exact same commands.\n\n375\n00:19:12.290 --> 00:19:18.769\nIt thinks we're gonna say\nInstall-WindowsFeature.\n\n376\n00:19:18.769 --> 00:19:23.327\nAnd so it Install-WindowsFeature, and\nthen the two I can do them separately,\n\n377\n00:19:23.327 --> 00:19:25.440\nlike we did when I removed them.\n\n378\n00:19:25.440 --> 00:19:26.606\nI can also combine them.\n\n379\n00:19:26.606 --> 00:19:29.740\nAnything with Power Shell,\nis I can combine those commands, and\n\n380\n00:19:29.740 --> 00:19:30.910\nlet's do that to add them back.\n\n381\n00:19:30.910 --> 00:19:35.400\nI'm gonna say server-GUI-shell, and\n\n382\n00:19:35.400 --> 00:19:38.740\nthen just put a comma in there.\n\n383\n00:19:38.740 --> 00:19:45.021\nAnd I also wanna add\nserver-GUI-management or\n\n384\n00:19:45.021 --> 00:19:49.840\nMGMT-Infrastructure, right?\n\n385\n00:19:49.840 --> 00:19:51.340\nAnd it will require a restart.\n\n386\n00:19:51.340 --> 00:19:55.060\nYou can type that, right?\n\n387\n00:19:55.060 --> 00:19:55.980\nAnd I'll hit enter.\n\n388\n00:19:55.980 --> 00:19:59.200\nSo this time I'm just doing instead\nof stopping at that middle point,\n\n389\n00:19:59.200 --> 00:20:03.200\nthat minimal install, I'm going to go\nfrom core to all the way up to the full.\n\n390\n00:20:03.200 --> 00:20:05.150\nI'm going to add them both back.\n\n391\n00:20:05.150 --> 00:20:09.680\n>> So I'll hit enter, and again it's\ngonna go through its process, and\n\n392\n00:20:09.680 --> 00:20:13.120\nwe don't really have to I guess sit\nhere and wait for it to finish.\n\n393\n00:20:13.120 --> 00:20:13.800\n>> We can.\n>> We can see.\n\n394\n00:20:13.800 --> 00:20:16.160\n>> It might take a minute,\nit might take ten.\n\n395\n00:20:16.160 --> 00:20:21.110\nYou never know,\ncomputers are a little weird that way.\n\n396\n00:20:21.110 --> 00:20:22.890\nNo consistency when it comes to time.\n\n397\n00:20:22.890 --> 00:20:23.730\n>> Yeah.\n\n398\n00:20:23.730 --> 00:20:26.450\nAll right, so the next thing I want\nto show everybody is something called\n\n399\n00:20:26.450 --> 00:20:27.830\nfeatures on demand.\n\n400\n00:20:27.830 --> 00:20:32.750\nNow, when you install server 2012 R2,\nthere's a lot of roles, and features that\n\n401\n00:20:32.750 --> 00:20:37.280\nare available, and unlike past editions of\nserver, where if I wanted to add another\n\n402\n00:20:37.280 --> 00:20:40.930\nrole, or to extend the functionality\nof my server, I had to go find the DVD.\n\n403\n00:20:40.930 --> 00:20:43.070\nDo you remember that Daniel?\n\n404\n00:20:43.070 --> 00:20:46.240\n>> Oh yeah.\n>> 2003, prior was horrible about that.\n\n405\n00:20:46.240 --> 00:20:49.590\nWell now its point 12 R 2 but\nit really started with 2008.\n\n406\n00:20:49.590 --> 00:20:54.240\nEverything was there when you install\nserver it's all on the hard drive so\n\n407\n00:20:54.240 --> 00:20:56.610\nwhen you go to install a role,\nyou go through the wizard,\n\n408\n00:20:56.610 --> 00:20:58.170\nyou put a little check mark there.\n\n409\n00:20:58.170 --> 00:21:01.050\nIt goes and finds the files because\nthey're already copied to the hard drive,\n\n410\n00:21:01.050 --> 00:21:05.180\nit unpack them and installs the role,\nand then you go configure the role.\n\n411\n00:21:05.180 --> 00:21:07.930\nWell there's a lot of roles,\nthere's a lot features.\n\n412\n00:21:07.930 --> 00:21:12.570\nThose take up space to hold all those\nfiles, that takes space on my hard drive.\n\n413\n00:21:12.570 --> 00:21:17.200\nIt's not a ton, it's like five gigs or\nsomething like that, about 5 GB.\n\n414\n00:21:17.200 --> 00:21:20.060\nBut, remember in today's world\neverything is virtualized.\n\n415\n00:21:20.060 --> 00:21:23.170\nSo if I've got a Hyper-V\nhost sitting there, and\n\n416\n00:21:23.170 --> 00:21:27.980\nI've got 10 virtual servers on there,\nwell that's 10 servers that\n\n417\n00:21:27.980 --> 00:21:31.830\neach have their own copy of every\none of those roles and features.\n\n418\n00:21:31.830 --> 00:21:35.490\nSo now that's 5 times 10,\nnow we're looking at 50 GB\n\n419\n00:21:35.490 --> 00:21:40.620\nthat's a whole 'nother server I could run\non that machine as far as disc space goes.\n\n420\n00:21:40.620 --> 00:21:42.280\nSo it starts to add up.\n\n421\n00:21:42.280 --> 00:21:45.470\nSo Microsoft gives us the ability\nto remove all that stuff.\n\n422\n00:21:45.470 --> 00:21:48.120\nOnce you've configured your server,\nyou can go in and\n\n423\n00:21:48.120 --> 00:21:53.310\nyou can remove all those roles and\nfeatures and free up that space.\n\n424\n00:21:53.310 --> 00:21:55.910\nNow, the downside is when\nyou go to install a role or\n\n425\n00:21:55.910 --> 00:21:58.750\nfeature after that,\nthe files aren't going to be there, right,\n\n426\n00:21:58.750 --> 00:22:01.170\nbecause you just removed\nthem to save space.\n\n427\n00:22:01.170 --> 00:22:02.340\nWhich means an extra step.\n\n428\n00:22:02.340 --> 00:22:06.160\nNow, that's why I say you do this after\nyou've done your initial configuration and\n\n429\n00:22:06.160 --> 00:22:08.080\ninstalled all your roles and features.\n\n430\n00:22:08.080 --> 00:22:11.030\nIn the future, if you need to add one,\nyou still can.\n\n431\n00:22:11.030 --> 00:22:13.410\nBut you're gonna have\nto take an extra step.\n\n432\n00:22:13.410 --> 00:22:15.140\nAnd it's really not that bad.\n\n433\n00:22:15.140 --> 00:22:18.270\nBy default, the way a server works,\n2012 R2, the way it works.\n\n434\n00:22:18.270 --> 00:22:20.310\nWhen you go to install a role or\na feature,\n\n435\n00:22:20.310 --> 00:22:25.530\nit looks at its local disk first for those\nsource files for that role or feature.\n\n436\n00:22:25.530 --> 00:22:28.480\nThere's a folder in there,\nC:Windows WinSxS,\n\n437\n00:22:28.480 --> 00:22:33.140\nand that's where all\nthose source files are.\n\n438\n00:22:33.140 --> 00:22:36.120\nAnd it looks there to get them and\ninstall that role.\n\n439\n00:22:36.120 --> 00:22:41.200\nIf they're not there, then it's gonna\nlook for an alternate location.\n\n440\n00:22:41.200 --> 00:22:46.760\nWe can specify that either at the command,\nlike if I'm using Power Shell and\n\n441\n00:22:46.760 --> 00:22:51.410\nI do an install-windowsfeaturexps-viewer,\n\n442\n00:22:51.410 --> 00:22:57.150\nI can then do a parameter-source and I can\npoint it to where I set up those files.\n\n443\n00:22:57.150 --> 00:22:59.740\nThat means I'm gonna have to set that up,\nright?\n\n444\n00:22:59.740 --> 00:23:04.580\nSo we set up what's called a side-by-side\nstore, a network location where\n\n445\n00:23:04.580 --> 00:23:08.570\nI've got one copy of all of those source\nfiles for all the roles and features.\n\n446\n00:23:08.570 --> 00:23:12.150\nAnd now anytime I install a role I\ncan remove them for all my servers.\n\n447\n00:23:12.150 --> 00:23:16.040\nAnytime I need to install a role I do\nmy normal Power Shell command, but\n\n448\n00:23:16.040 --> 00:23:22.570\nI add a dash source and I point it to\nthat side-by-side store that I've set up.\n\n449\n00:23:22.570 --> 00:23:25.090\nOr if I'm using the wizard\nI'm not left out.\n\n450\n00:23:25.090 --> 00:23:26.590\nRight, if you do the add roles and\n\n451\n00:23:26.590 --> 00:23:30.730\nfeatures wizard, it's easier if you've\ngot a GUI to add a role that way.\n\n452\n00:23:30.730 --> 00:23:31.550\nSure.\n\n453\n00:23:31.550 --> 00:23:36.390\nWell, on the very last page of\nthat wizard, at the bottom kind of\n\n454\n00:23:36.390 --> 00:23:41.000\nhidden is a little link that you can\nclick to specify an alternate source or\n\n455\n00:23:41.000 --> 00:23:42.210\nan alternate location.\n\n456\n00:23:42.210 --> 00:23:44.170\nBecause that wizard's gonna look locally.\n\n457\n00:23:44.170 --> 00:23:45.280\nYou've removed them.\n\n458\n00:23:45.280 --> 00:23:46.640\nIt's not gonna find them.\n\n459\n00:23:46.640 --> 00:23:47.820\nIt's gonna fail.\n\n460\n00:23:47.820 --> 00:23:51.581\nBut if you pay attention, there's a little\nlink at the very end where you can tell it\n\n461\n00:23:51.581 --> 00:23:52.836\nwhere to find those files.\n\n462\n00:23:52.836 --> 00:23:57.638\nOr if it can't find them there, and you\ndon't specify an alternate location, it\n\n463\n00:23:57.638 --> 00:24:02.173\nwill try to go out to Windows Update and\nsee if it can pull them from Microsoft.\n\n464\n00:24:02.173 --> 00:24:06.400\nBut that is of course assuming\nthat server has Internet access.\n\n465\n00:24:06.400 --> 00:24:08.960\nAll right, so let's take a look\nat how we can set this up.\n\n466\n00:24:08.960 --> 00:24:12.630\nThe first thing you're gonna want to\ndo is set up that side by side store.\n\n467\n00:24:12.630 --> 00:24:16.090\nSo what I've done on my domain,\nI'm using my domain controller.\n\n468\n00:24:16.090 --> 00:24:20.060\nProbably not the best option in a real\nworld, right, I'd have a file server.\n\n469\n00:24:20.060 --> 00:24:22.390\nOr something like that to set these up on.\n\n470\n00:24:22.390 --> 00:24:23.710\nI'm over here in my domain controller.\n\n471\n00:24:23.710 --> 00:24:25.790\nI'm gonna open up File Explorer, and\n\n472\n00:24:25.790 --> 00:24:28.450\nthe first thing I'll do is I'll\nshow you where those files are.\n\n473\n00:24:28.450 --> 00:24:34.525\nSo C:Windows, and then my WinSXS Folder.\n\n474\n00:24:34.525 --> 00:24:40.015\nAnd if you look in here, here's all\nthe source files for all those roles.\n\n475\n00:24:40.015 --> 00:24:41.275\nAnd let's see if we can do this, Daniel.\n\n476\n00:24:41.275 --> 00:24:44.535\nIf we pull up the properties for that guy.\n\n477\n00:24:47.000 --> 00:24:52.600\nAnd give it just a second, it should\ncome out to just over five gigabytes.\n\n478\n00:24:52.600 --> 00:24:54.690\nSo it's still rolling, rolling, rolling.\n\n479\n00:24:54.690 --> 00:24:55.720\n>> Calculating.\n\n480\n00:24:55.720 --> 00:24:56.230\n>> Calculating.\n\n481\n00:24:56.230 --> 00:24:57.060\n>> Calculating.\n\n482\n00:24:57.060 --> 00:24:58.220\n>> Calculon is calculating.\n\n483\n00:24:59.600 --> 00:25:05.670\nSo it's still going there, up to almost\nfour, maybe maybe maybe we'll hit five.\n\n484\n00:25:05.670 --> 00:25:08.170\nI was thinking five,\nmaybe I was off by a little bit.\n\n485\n00:25:08.170 --> 00:25:10.090\nOh, oh, there we go.\n\n486\n00:25:10.090 --> 00:25:11.030\n>> Oh, it's over five.\n\n487\n00:25:11.030 --> 00:25:11.920\nHey.\n>> Over five,\n\n488\n00:25:11.920 --> 00:25:16.990\nso 5.44 size on disc, so that's\nthe space I can save if I remove those.\n\n489\n00:25:16.990 --> 00:25:22.020\nSo what I've done, I could probably\njust share this folder out,\n\n490\n00:25:22.020 --> 00:25:25.000\nit is in the Windows directory.\n\n491\n00:25:25.000 --> 00:25:28.270\nI'm not a big fan Daniel of putting\na share in the Windows directory.\n\n492\n00:25:28.270 --> 00:25:29.440\n>> Not best practice.\n\n493\n00:25:29.440 --> 00:25:31.110\n>> Probably not best practice.\n\n494\n00:25:31.110 --> 00:25:35.190\nSo what I've done, normally I would\nset up another hard drive right,\n\n495\n00:25:35.190 --> 00:25:38.890\noff of the operating system drive,\nand I copied that entire folder,\n\n496\n00:25:38.890 --> 00:25:42.150\nin this case I did do it on C just\nbecause this is a lab environment.\n\n497\n00:25:42.150 --> 00:25:47.140\nSo I copied that entire folder, that\nWinSXS, has all those files in there, and\n\n498\n00:25:47.140 --> 00:25:48.020\nthen I shared it out.\n\n499\n00:25:48.020 --> 00:25:50.010\nIt's gotta be available to the network,\nright?\n\n500\n00:25:50.010 --> 00:25:53.720\nCuz these other servers that I removed\nthese from, when I go to install a role,\n\n501\n00:25:53.720 --> 00:25:56.460\nthey're gonna reach out and\nlook for those sourcefiles.\n\n502\n00:25:56.460 --> 00:25:57.350\nSo I've shared it out.\n\n503\n00:25:57.350 --> 00:26:00.170\nNow I did everyone read and write.\n\n504\n00:26:00.170 --> 00:26:01.990\nAgain not a great practice.\n\n505\n00:26:01.990 --> 00:26:04.690\nThis is a lab environment,\ndon't do that in the real world.\n\n506\n00:26:04.690 --> 00:26:07.220\nThe only thing that actually\nneeds permission over this\n\n507\n00:26:07.220 --> 00:26:08.580\nis the computer account.\n\n508\n00:26:08.580 --> 00:26:09.760\nNot even the user.\n\n509\n00:26:09.760 --> 00:26:12.960\nSo if you added, if you created\na group for all your servers.\n\n510\n00:26:12.960 --> 00:26:15.660\nOr if you just use your\ndomain computer's group.\n\n511\n00:26:15.660 --> 00:26:19.150\nYou can share it and\ngive that group read permission.\n\n512\n00:26:19.150 --> 00:26:20.850\nMake sure it has NTFS permission as well.\n\n513\n00:26:20.850 --> 00:26:23.050\nAnd that's really all you need.\n\n514\n00:26:23.050 --> 00:26:26.900\nI did everyone just to simplify\nthis lab for this demo here.\n\n515\n00:26:26.900 --> 00:26:27.400\nAll right.\n\n516\n00:26:27.400 --> 00:26:32.420\nSo everyone has read and write, share and\nNTFS permissions over this folder.\n\n517\n00:26:32.420 --> 00:26:34.670\nSo that's my side-by-side store.\n\n518\n00:26:34.670 --> 00:26:37.990\nNow I'm ready to remove those roles,\n\n519\n00:26:37.990 --> 00:26:41.920\nall those extra files,\nfrom my other servers on my network.\n\n520\n00:26:41.920 --> 00:26:46.930\nNow, you can also do this as I navigate\nover to one of my servers here.\n\n521\n00:26:46.930 --> 00:26:49.245\nYou could also do this from a WIN file.\n\n522\n00:26:49.245 --> 00:26:51.695\nRight?\nYou can use DISM commands and\n\n523\n00:26:51.695 --> 00:26:53.565\ndo the same thing I'm getting ready to do,\n\n524\n00:26:53.565 --> 00:26:59.155\nremove all these files from the actual WIN\nfile, let's say you're deploying images,\n\n525\n00:26:59.155 --> 00:27:03.562\nright, you just saved yourself five\ngigabytes on that image itself.\n\n526\n00:27:03.562 --> 00:27:05.552\nSo as you deploy them\nit's a little bit less.\n\n527\n00:27:05.552 --> 00:27:07.272\nIt means it's gonna deploy faster.\n\n528\n00:27:07.272 --> 00:27:12.312\nAll right, so I'm gonna run\na get-windows-features command.\n\n529\n00:27:13.380 --> 00:27:16.450\nWhich will show me a list of all\nthe features that are available\n\n530\n00:27:16.450 --> 00:27:21.440\nto be installed on this machine and\nnormally you would see all of these listed\n\n531\n00:27:21.440 --> 00:27:25.610\nas available because, again,\nas we said when you install server 2012,\n\n532\n00:27:25.610 --> 00:27:28.010\nall the files are copied\nover the hard drive.\n\n533\n00:27:28.010 --> 00:27:31.240\nWhen you go to install a roll It doesn't\nhave to go look for the disk or anything.\n\n534\n00:27:31.240 --> 00:27:32.410\nThey're just there.\n\n535\n00:27:32.410 --> 00:27:35.230\nNow I've taken the time\nto remove them already\n\n536\n00:27:35.230 --> 00:27:37.460\nbefore the show because it\ndoes take a little time.\n\n537\n00:27:37.460 --> 00:27:38.408\nIt's a lot of files.\n\n538\n00:27:38.408 --> 00:27:42.630\nRemember there was five gigabytes worth\nof files, it was gonna end up removing.\n\n539\n00:27:42.630 --> 00:27:47.809\nAll right, now I will show you\nthe command that I would run to do that.\n\n540\n00:27:47.809 --> 00:27:53.280\nIt was get-Windowsfeature and that\nreturns the list that I just showed you.\n\n541\n00:27:53.280 --> 00:27:57.200\nAnd then what I would do is I\nwould pipe that into a where.\n\n542\n00:27:58.690 --> 00:28:01.110\nThe install state.\n\n543\n00:28:01.110 --> 00:28:05.490\nAll right, that's that third column you\ncan see on the results on my PowerShell.\n\n544\n00:28:05.490 --> 00:28:10.600\nWhere install state dash equals,\nor dash eq available.\n\n545\n00:28:10.600 --> 00:28:11.945\nAll right?\n\n546\n00:28:11.945 --> 00:28:13.435\nOops.\n\n547\n00:28:16.525 --> 00:28:23.180\nAnd then I would pipe that into\nan uninstall dash windows feature.\n\n548\n00:28:25.710 --> 00:28:27.910\nAnd then a dash remove.\n\n549\n00:28:29.010 --> 00:28:29.570\nAll right?\n\n550\n00:28:29.570 --> 00:28:31.360\nLet's look at that command real quick.\n\n551\n00:28:31.360 --> 00:28:35.530\nThis get dash windows feature returns\na list of all features that are still on\n\n552\n00:28:35.530 --> 00:28:39.070\nthis machine and I want to filter\nto one's that are available\n\n553\n00:28:39.070 --> 00:28:41.800\nbecause the one's that are installed\nI'm gonna leave those there.\n\n554\n00:28:41.800 --> 00:28:42.380\nRight?\nBut\n\n555\n00:28:42.380 --> 00:28:45.910\nthese other ones that I have installed,\nthey would be showing as available.\n\n556\n00:28:45.910 --> 00:28:49.280\nSo this would filter the list to\njust those that are available.\n\n557\n00:28:49.280 --> 00:28:50.675\nAnd then the last one's is gonna say,\n\n558\n00:28:50.675 --> 00:28:52.890\nall right all those that\nare showing is available.\n\n559\n00:28:52.890 --> 00:28:55.340\nI'm gonna uninstall the feature.\n\n560\n00:28:55.340 --> 00:28:58.600\nAnd then the dash remove actually\ndeletes the source files.\n\n561\n00:28:58.600 --> 00:29:02.740\nIf you leave out the dash remove, they\nwould show up in this list as unavailable,\n\n562\n00:29:02.740 --> 00:29:05.720\nbut they wouldn't actually\nbe removed from the server.\n\n563\n00:29:05.720 --> 00:29:10.230\nSo this command here is gonna find all\nthose files that I'm not using and\n\n564\n00:29:10.230 --> 00:29:12.630\nremove them and free up that space.\n\n565\n00:29:12.630 --> 00:29:14.250\nAgain, I've already run it.\n\n566\n00:29:14.250 --> 00:29:17.947\nThat's why all these other roles that\nI don't have installed are showing\n\n567\n00:29:17.947 --> 00:29:19.230\nas removed.\n\n568\n00:29:19.230 --> 00:29:26.380\nNow let's see what happens,\nif I do an install-windowsfeature and\n\n569\n00:29:26.380 --> 00:29:30.440\nlet's do that xps-viewer.\n\n570\n00:29:30.440 --> 00:29:31.780\nIt's a popular one.\n\n571\n00:29:31.780 --> 00:29:33.840\nI can see right here\nthat it is not installed.\n\n572\n00:29:33.840 --> 00:29:36.650\nThere's no x in that little box.\n\n573\n00:29:36.650 --> 00:29:38.770\nSo there's the command to install it.\n\n574\n00:29:38.770 --> 00:29:41.020\nAnd it looks like it's gonna go and\ninstall it.\n\n575\n00:29:41.020 --> 00:29:43.010\nCollecting its data, it's doing its thing.\n\n576\n00:29:45.060 --> 00:29:49.824\nIt's going along, and\nwhat's it's doing is it's looking for\n\n577\n00:29:49.824 --> 00:29:55.130\nthat WINSXS folder to find those files so\nit can install the XPS viewer.\n\n578\n00:29:56.960 --> 00:29:58.780\nAnd it stops right about here.\n\n579\n00:29:58.780 --> 00:30:02.760\nIt seems to be about 65% and\nthat's as far it can go, right?\n\n580\n00:30:02.760 --> 00:30:04.740\nBecause the files are no longer there.\n\n581\n00:30:04.740 --> 00:30:06.210\nThey've been removed.\n\n582\n00:30:06.210 --> 00:30:09.210\nSo how do you install a roll\nonce you've removed all those\n\n583\n00:30:09.210 --> 00:30:10.230\nfiles to save that space?\n\n584\n00:30:10.230 --> 00:30:12.290\nJust have to tell it where to get them.\n\n585\n00:30:12.290 --> 00:30:15.690\nRemember I said if it had Internet access\nit could go out to Windows update and\n\n586\n00:30:15.690 --> 00:30:18.210\ntry to find them there, or I can specify.\n\n587\n00:30:18.210 --> 00:30:20.340\nIf I take that same command.\n\n588\n00:30:20.340 --> 00:30:23.722\nAnd I add a dash source, and\n\n589\n00:30:23.722 --> 00:30:28.873\nI do a little \\\\dc01/winSxS because\n\n590\n00:30:28.873 --> 00:30:33.150\nthat's the share that I created.\n\n591\n00:30:34.190 --> 00:30:35.660\nLet's see what happens this time.\n\n592\n00:30:35.660 --> 00:30:36.560\nSame thing.\n\n593\n00:30:36.560 --> 00:30:41.730\nIt's gonna go and try to install this\nrole, but now it knows where to look for\n\n594\n00:30:41.730 --> 00:30:44.940\nthose files so it should succeed.\n\n595\n00:30:46.080 --> 00:30:46.890\nWe will find out.\n\n596\n00:30:48.040 --> 00:30:48.860\nKeep our fingers crossed.\n\n597\n00:30:48.860 --> 00:30:51.070\n>> Looks like it got a little\nfarther this time, Mike.\n\n598\n00:30:51.070 --> 00:30:51.990\n>> It does, right?\n\n599\n00:30:51.990 --> 00:30:54.340\nThe O's have made it a little further on.\n\n600\n00:30:54.340 --> 00:30:55.315\nWe're at the 92%.\n\n601\n00:30:55.315 --> 00:30:58.180\n>> It loves that 90-something percent.\n\n602\n00:30:58.180 --> 00:30:59.438\nIt really hovers there.\n\n603\n00:30:59.438 --> 00:31:00.440\n>> [LAUGH] It does.\n\n604\n00:31:00.440 --> 00:31:01.330\nAnd there we go.\n\n605\n00:31:01.330 --> 00:31:02.710\nMy success is true.\n\n606\n00:31:02.710 --> 00:31:03.670\nRestart no.\n\n607\n00:31:03.670 --> 00:31:07.610\nExit code success and so\nI add XPS viewer install.\n\n608\n00:31:07.610 --> 00:31:08.700\nSo that's fantastic.\n\n609\n00:31:08.700 --> 00:31:13.260\nThat means I can go and strip all those\nfiles out from all my other servers.\n\n610\n00:31:13.260 --> 00:31:17.640\nI got one copy of them on the network and\nI can just point it to there every time.\n\n611\n00:31:17.640 --> 00:31:21.080\nNow you think that's cool,\nbut wait, there's more.\n\n612\n00:31:21.080 --> 00:31:22.095\nIf you call now.\nNo, I'm just kidding.\n\n613\n00:31:22.095 --> 00:31:26.190\n>> [LAUGH]\n>> I still have to specify that source.\n\n614\n00:31:26.190 --> 00:31:30.000\nAnd what if other admins aren't\nreally familiar with PowerShell or\n\n615\n00:31:30.000 --> 00:31:33.570\nyou have to make sure everybody\nknows where I copied those to,\n\n616\n00:31:33.570 --> 00:31:35.890\ncould be a little more work than I want.\n\n617\n00:31:35.890 --> 00:31:40.080\nSo another thing that we can do cuz\nI can go to my domain controller, and\n\n618\n00:31:40.080 --> 00:31:41.380\nI can open up group policy.\n\n619\n00:31:41.380 --> 00:31:44.970\nSo I'm gonna pull up my group\npolicy management console.\n\n620\n00:31:47.720 --> 00:31:50.650\nAnd sometimes that guy likes\nto pop behind everything.\n\n621\n00:31:50.650 --> 00:31:51.618\nAnd I'm gonna do a no-no.\n\n622\n00:31:51.618 --> 00:31:54.423\nI'm gonna just modify my\ndefault domain policy,\n\n623\n00:31:54.423 --> 00:31:57.502\neven though it's not a best\npractice to show you this.\n\n624\n00:31:57.502 --> 00:32:03.164\nUnderneath Computer Configuration >\nPolicies > Administrative Templates\n\n625\n00:32:03.164 --> 00:32:07.882\n> System there's a setting down\nhere called Specify Setting for\n\n626\n00:32:07.882 --> 00:32:12.112\nOptional Component Installation and\nComponent Repair.\n\n627\n00:32:12.112 --> 00:32:18.200\nIf I open that setting up,\nI can turn it on by choosing Enable, and\n\n628\n00:32:18.200 --> 00:32:24.320\nthen I just tell it //dc01/winsxs.\n\n629\n00:32:24.320 --> 00:32:28.730\nI tell it where those source files are,\nand I click OK.\n\n630\n00:32:28.730 --> 00:32:30.350\nAnd I close my editor.\n\n631\n00:32:30.350 --> 00:32:35.750\nSo now, instead of having to specify\nevery time, Group Policy is gonna let\n\n632\n00:32:35.750 --> 00:32:39.780\nthose other servers know, hey if you ever\nneed source files, here's where they are.\n\n633\n00:32:39.780 --> 00:32:40.570\nLet's see if it worked.\n\n634\n00:32:40.570 --> 00:32:44.450\nI'm gonna come back over here, and\nI'm gonna update my Group Policy.\n\n635\n00:32:45.810 --> 00:32:50.631\nMake sure this guy has the latest and\ngreatest Group Policy.\n\n636\n00:32:50.631 --> 00:32:54.323\nShould just take a second to update that\ncomputer policy and that user policy.\n\n637\n00:32:58.550 --> 00:33:02.530\nAnd then once that finishes,\nI'll try running another command.\n\n638\n00:33:02.530 --> 00:33:05.873\nSo let's do a install-windowsfeature.\n\n639\n00:33:05.873 --> 00:33:11.575\nAnd this time, let's install Wins\nbecause everybody loves Wins.\n\n640\n00:33:12.785 --> 00:33:15.320\nBut I'm not gonna use the source option.\n\n641\n00:33:15.320 --> 00:33:17.537\nAnd remember, last time I've\nalready removed all the files.\n\n642\n00:33:17.537 --> 00:33:21.035\nSo if I don't specify source,\nyou might think it would fail.\n\n643\n00:33:21.035 --> 00:33:22.007\nLet's see what happens.\n\n644\n00:33:24.761 --> 00:33:26.080\nAnd drum roll please.\n\n645\n00:33:26.080 --> 00:33:28.867\nWe'll see if it gets past that magic 64%.\n\n646\n00:33:28.867 --> 00:33:31.111\n>> Oh.\n[LAUGH] Up to 80!\n\n647\n00:33:31.111 --> 00:33:32.620\n>> Ooh, that's a good sign, right?\n\n648\n00:33:32.620 --> 00:33:33.237\n>> That's a good sign.\n\n649\n00:33:33.237 --> 00:33:35.669\n92.\n\n650\n00:33:35.669 --> 00:33:37.086\nHey loves those 90.\n\n651\n00:33:37.086 --> 00:33:38.754\n>> Loves those 90s.\n\n652\n00:33:38.754 --> 00:33:39.926\n>> The 90s were good,\nI had a good time [CROSSTALK].\n\n653\n00:33:39.926 --> 00:33:41.226\nAnd there we go.\n\n654\n00:33:41.226 --> 00:33:42.295\nSuccess.\n\n655\n00:33:42.295 --> 00:33:43.293\nTrue.\n\n656\n00:33:43.293 --> 00:33:44.802\nExit codes success, Wins installed.\n\n657\n00:33:44.802 --> 00:33:48.586\nSo now, I don't have to\nspecify a source parameter.\n\n658\n00:33:48.586 --> 00:33:50.856\nAnother admin might go to install a role,\nand\n\n659\n00:33:50.856 --> 00:33:54.344\nhe has no idea that we've removed\nall those things from that server.\n\n660\n00:33:54.344 --> 00:33:56.294\nHe thinks he's just\ndoing the normal thing.\n\n661\n00:33:56.294 --> 00:34:00.354\nHe goes through his add remove wizard and\nbecause the Group Policy is telling\n\n662\n00:34:00.354 --> 00:34:05.510\nthe server, hey, if you need these files,\nthis is where they're actually located.\n\n663\n00:34:05.510 --> 00:34:08.740\nSo that makes it a lot\neasier on the other admins.\n\n664\n00:34:08.740 --> 00:34:12.350\nAnd one more thing, I know I'm stretching\nthis out, Daniel, way too long, but\n\n665\n00:34:12.350 --> 00:34:14.350\nI do wanna show you guys one more place.\n\n666\n00:34:14.350 --> 00:34:18.158\nNow, I've already set it through Group\nPolicy, so I don't need to do this, but\n\n667\n00:34:18.158 --> 00:34:20.637\nremember I told you you could\ndo it in the GUI as well?\n\n668\n00:34:20.637 --> 00:34:26.588\nIf I click next a few times just to jump\nthrough this add remove wizard roll, let's\n\n669\n00:34:26.588 --> 00:34:32.038\nsay I wanted to install Window server\nbackup or something fancy like that.\n\n670\n00:34:32.038 --> 00:34:37.542\nI'll click Next, and remember the files\nhave been removed from the server.\n\n671\n00:34:37.542 --> 00:34:40.946\nNow Group Policy will take care of it,\nI really don't need to do anything, but\n\n672\n00:34:40.946 --> 00:34:42.700\nI wanted to show you the option.\n\n673\n00:34:42.700 --> 00:34:45.780\nIf you were doing it manually\nspecifying the source parameter\n\n674\n00:34:45.780 --> 00:34:48.790\nfrom your PowerShell command,\nif you're gonna use the GUI,\n\n675\n00:34:48.790 --> 00:34:53.200\nthis is where you would specify\nan alternate source path.\n\n676\n00:34:53.200 --> 00:34:56.090\nAnd that's where you would type\nin the paths where they are.\n\n677\n00:34:57.150 --> 00:34:59.430\nI don't need to, but\nI wanted to show you that option.\n\n678\n00:34:59.430 --> 00:35:03.820\nI'll tell you, Daniel, it's one of those\nthings that until I really started working\n\n679\n00:35:03.820 --> 00:35:06.710\non removing those files,\nI never even saw that link down there,\n\n680\n00:35:06.710 --> 00:35:08.350\nSpecify an Alternate Source Path.\n\n681\n00:35:08.350 --> 00:35:13.010\n>> Yeah, all these new little light blue\nand light grey different links they use.\n\n682\n00:35:13.010 --> 00:35:14.810\nThey're easy to over look.\n\n683\n00:35:14.810 --> 00:35:16.638\nNow it's another way to skin a cat.\n\n684\n00:35:16.638 --> 00:35:20.213\nWe should be reading all the words on\na page when they give us a prompt.\n\n685\n00:35:20.213 --> 00:35:23.155\n>> [LAUGH]\n>> All right Mike that's some really col\n\n686\n00:35:23.155 --> 00:35:26.017\nstuff being able to maybe\nstreamline some stuff.\n\n687\n00:35:26.017 --> 00:35:30.130\nTake off some of the things that\nmay be cluttering up your server.\n\n688\n00:35:30.130 --> 00:35:32.851\nPut them in a repository somewhere so\nthat anybody that needs them,\n\n689\n00:35:32.851 --> 00:35:33.960\nthey can still get at them.\n\n690\n00:35:33.960 --> 00:35:37.399\nBut it's not taking up space on their\nlocal disk, very, very good for\n\n691\n00:35:37.399 --> 00:35:41.248\nus as administrators, especially if\nyou're rolling out any kind of images,\n\n692\n00:35:41.248 --> 00:35:43.258\nthat can be a big lifesaver right there.\n\n693\n00:35:43.258 --> 00:35:45.395\n>> Absolutely, a big space saver for sure.\n\n694\n00:35:45.395 --> 00:35:46.025\n>> Awesome.\n\n695\n00:35:46.025 --> 00:35:48.695\nWell, everybody out there,\nhope you guys have enjoyed this episode.\n\n696\n00:35:48.695 --> 00:35:50.410\nWe sure had a great time making it for\nyou.\n\n697\n00:35:50.410 --> 00:35:53.183\n>> That being said,\nit's time to sign off for ITproTV.\n\n698\n00:35:53.183 --> 00:35:54.426\nI've been your host Daniel Lowry.\n\n699\n00:35:54.426 --> 00:35:55.442\n>> And I'm Mike Roderick.\n\n700\n00:35:55.442 --> 00:35:56.359\n>> We'll see you next time.\n\n701\n00:35:56.359 --> 00:36:02.500\n[SOUND]\n\n",
          "vimeoId": "133471579"
        },
        {
          "description": "In this episode Daniel and Mike discuss the important of managing disks and the properties of basic and dynamic disks. They demonstrate the use of Disk Management for configuring disks.",
          "length": "1703",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-1-configuring_disks-082415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-1-configuring_disks-082415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-1-configuring_disks-082415-1-sm.jpg",
          "title": "Configuring Disks",
          "transcript": "WEBVTT\n\n1\n00:00:00.032 --> 00:00:10.041\n[MUSIC]\n\n2\n00:00:10.041 --> 00:00:15.760\nAll right, greetings everyone and welcome\nto another fantastic episode of ITProTV.\n\n3\n00:00:15.760 --> 00:00:18.840\nI'm your host Daniel Lowery,\nhere with me today, none other than Mr.\n\n4\n00:00:18.840 --> 00:00:19.840\nMike Rodrick himself.\n\n5\n00:00:19.840 --> 00:00:20.900\nHow's it going today Mike?\n\n6\n00:00:20.900 --> 00:00:21.910\n>> It's going fantastic.\n\n7\n00:00:21.910 --> 00:00:22.960\nI'm excited to be here.\n\n8\n00:00:22.960 --> 00:00:26.053\nWe got another one of our 7410\nepisodes coming your way.\n\n9\n00:00:26.053 --> 00:00:28.890\nAnd that's when we're\ngonna talk about discs.\n\n10\n00:00:28.890 --> 00:00:30.690\nAnd volumes, and partitions, and\n\n11\n00:00:30.690 --> 00:00:33.690\nall that other stuff that we\nget to do with these discs.\n\n12\n00:00:33.690 --> 00:00:39.420\nIt is an important part of what we do,\nbecause it's where we store our data.\n\n13\n00:00:39.420 --> 00:00:40.810\nSo let's dive right in.\n\n14\n00:00:40.810 --> 00:00:45.010\nAnd the first thing I wanna talk about is\nwhen you put a new drive into a computer,\n\n15\n00:00:45.010 --> 00:00:47.940\nthere are some steps that we're gonna\nhave to go through, before the drive's\n\n16\n00:00:47.940 --> 00:00:52.630\naccessible, before I can start using\nthat drive as a storage medium.\n\n17\n00:00:52.630 --> 00:00:56.700\nWhen you buy a drive from Dell or\nBest Buy or Newegg or whoever, and\n\n18\n00:00:56.700 --> 00:00:59.660\nit comes as a unformatted,\nblank hard drive and\n\n19\n00:00:59.660 --> 00:01:04.114\nyou toss that into the computer,\nthere's a couple things we gonna do.\n\n20\n00:01:04.114 --> 00:01:09.100\nObviously we power the machine down,\nthen we put those new drives in there.\n\n21\n00:01:09.100 --> 00:01:09.812\nWe bring it back up.\n\n22\n00:01:09.812 --> 00:01:11.818\nWe're not gonna see that drive right away.\n\n23\n00:01:11.818 --> 00:01:14.820\nSo I gonna show up in Windows Explorer,\nbecause it doesn't have a file system.\n\n24\n00:01:14.820 --> 00:01:15.940\nIt doesn't have a drive letter.\n\n25\n00:01:15.940 --> 00:01:19.390\nThere's no way for the operating\nsystem to access it just yet,\n\n26\n00:01:19.390 --> 00:01:22.030\nat least as far as file explorer goes.\n\n27\n00:01:22.030 --> 00:01:24.863\nSo what we have to do is what\nwe call initialize the disk and\n\n28\n00:01:24.863 --> 00:01:27.000\nthat's basically bring it into service.\n\n29\n00:01:27.000 --> 00:01:30.777\nYou're telling the computer, hey,\nlook, here's a new piece of hardware,\n\n30\n00:01:30.777 --> 00:01:33.480\nit's a hard drive,\nyou can now start using this drive.\n\n31\n00:01:33.480 --> 00:01:35.430\nSo that's called initialization, and\n\n32\n00:01:35.430 --> 00:01:38.490\nI'll show you a couple of different\nways that we can do that.\n\n33\n00:01:38.490 --> 00:01:41.260\nWhen you initialize the drive, as I said,\nyou're letting the computer know\n\n34\n00:01:41.260 --> 00:01:44.310\nthat it's got a new piece of\nhardware that it can start using.\n\n35\n00:01:44.310 --> 00:01:47.450\nThe other thing you do when you\ninitialize the disk is you choose your\n\n36\n00:01:47.450 --> 00:01:48.562\npartitioning scheme.\n\n37\n00:01:48.562 --> 00:01:50.670\nNow we're not creating partitions yet.\n\n38\n00:01:50.670 --> 00:01:54.790\nOr just deciding how we're gonna\ngo about laying out the partitions\n\n39\n00:01:54.790 --> 00:01:56.110\nonce we start creating them.\n\n40\n00:01:56.110 --> 00:01:58.290\nAnd there's two different\nschemes we're allow to use.\n\n41\n00:01:58.290 --> 00:02:02.590\nThere's MBR, or master boot record,\nand then there's GPT,\n\n42\n00:02:02.590 --> 00:02:08.530\nwhich is GUID partition table, and that's\nactually an acronym within an acronym.\n\n43\n00:02:08.530 --> 00:02:12.510\nWhere GUID stands for\nglobally unique identifiers, so\n\n44\n00:02:12.510 --> 00:02:16.980\nthat's really globally unique\nidentifier partitioning table.\n\n45\n00:02:16.980 --> 00:02:20.230\n>> Yeah, it's one of those recursive\nacronyms that if you've spent any time in\n\n46\n00:02:20.230 --> 00:02:23.030\ndifferent operating system platforms\nthat you might run across,\n\n47\n00:02:23.030 --> 00:02:24.940\nespecially in the open-source community.\n\n48\n00:02:24.940 --> 00:02:29.575\nThey tend to use those quite a bit,\nthe GNU, GNUs, or\n\n49\n00:02:29.575 --> 00:02:34.530\nthe licensing, the GPL,\nnew public licensing.\n\n50\n00:02:34.530 --> 00:02:36.610\nIt's GNU public licensing.\n\n51\n00:02:36.610 --> 00:02:39.710\nAgain, recursive acronyms that\nthey love to use in there.\n\n52\n00:02:39.710 --> 00:02:43.212\nBut then, GPT type partition\nthat uses that GG globally,\n\n53\n00:02:43.212 --> 00:02:48.480\nis it globally unique identifier that\nthey have in there the GUID, that's it.\n\n54\n00:02:48.480 --> 00:02:53.660\nIs 128 bit logical, saying, this is\nan identifier that separates it out\n\n55\n00:02:53.660 --> 00:02:57.480\nfrom any other type of disk that you might\nhave, trying to keep that from happening.\n\n56\n00:02:57.480 --> 00:03:01.875\nNow with that 128 bits, that's gonna\nmake sure that you never need to,\n\n57\n00:03:01.875 --> 00:03:06.135\nanyway, have a repeat of the GUID.\n\n58\n00:03:06.135 --> 00:03:10.145\nSo that's a really good scheme to have,\nand that keeps us out of the weeds when\n\n59\n00:03:10.145 --> 00:03:13.128\naccidentally maybe cross\npollinating our hard drives there.\n\n60\n00:03:13.128 --> 00:03:14.860\n>> [LAUGH].\n>> Don't wanna make any mistakes.\n\n61\n00:03:14.860 --> 00:03:16.490\nGPT, definitely the wave of the future.\n\n62\n00:03:16.490 --> 00:03:17.820\nMBR is still around though.\n\n63\n00:03:17.820 --> 00:03:18.590\n>> Yeah, oh yeah it is.\n\n64\n00:03:18.590 --> 00:03:22.310\nIn fact, it's still the default when\nyou toss a hard drive into a Windows\n\n65\n00:03:22.310 --> 00:03:23.810\noperating system.\n\n66\n00:03:23.810 --> 00:03:27.410\nMBR's been around forever,\nsince we've started using computers and\n\n67\n00:03:27.410 --> 00:03:28.799\nhard drives practically.\n\n68\n00:03:28.799 --> 00:03:32.240\nIt is the default scheme, and\nit's the master boot record.\n\n69\n00:03:32.240 --> 00:03:34.360\nAnd it's keeps a little partition table.\n\n70\n00:03:34.360 --> 00:03:37.700\nIt does have some limitations, however,\nwhich really didn't bother us for\n\n71\n00:03:37.700 --> 00:03:41.430\na long time, but now those limitations\nare starting to rear their head, and\n\n72\n00:03:41.430 --> 00:03:45.403\nthat's why we have that new GPT or\nGUID partition table.\n\n73\n00:03:45.403 --> 00:03:49.760\nSo about MBR, as I said, it's got\na little partition table that it keeps.\n\n74\n00:03:49.760 --> 00:03:53.670\nAnd, that table has four entries,\nit's a very tiny little table.\n\n75\n00:03:53.670 --> 00:03:54.770\nAnd basically,\n\n76\n00:03:54.770 --> 00:03:59.330\nthat's where we keep track of where that\npartition starts on that hard drive.\n\n77\n00:03:59.330 --> 00:04:04.340\nIt's called the offset, and because\nthere's only four slots in that table,\n\n78\n00:04:04.340 --> 00:04:07.580\nit means I can only have\nfour primary partitions.\n\n79\n00:04:07.580 --> 00:04:12.390\nNow, primary partition is a partition that\ngets a file system like NTFS or FAT32,\n\n80\n00:04:12.390 --> 00:04:14.920\nand it gets a drive letter.\n\n81\n00:04:14.920 --> 00:04:17.940\nAnd once we create that partition\nwe assign at a file system and\n\n82\n00:04:17.940 --> 00:04:23.030\na drive letter, we can then access that\npartition through Windows Explorer.\n\n83\n00:04:23.030 --> 00:04:27.410\nWe'll actually see we can create files and\nfolders, etc., etc.\n\n84\n00:04:27.410 --> 00:04:28.810\nBut that is a limit.\n\n85\n00:04:28.810 --> 00:04:32.220\nThey'll only create four\nprimary partitions.\n\n86\n00:04:32.220 --> 00:04:34.140\nThere is a way around that, however,\n\n87\n00:04:34.140 --> 00:04:38.900\nwith MBR, we can remove one of those\nprimary partitions, or choose not to\n\n88\n00:04:38.900 --> 00:04:44.160\ncreate one of those primary partitions,\nand instead, create an extended partition.\n\n89\n00:04:44.160 --> 00:04:48.150\nAn extended partition is\nnot a true partition.\n\n90\n00:04:48.150 --> 00:04:49.670\nIt's not gonna get a file system.\n\n91\n00:04:49.670 --> 00:04:51.300\nIt's not gonna get a drive letter.\n\n92\n00:04:51.300 --> 00:04:53.680\nIt's basically a container object, and\n\n93\n00:04:53.680 --> 00:04:57.880\nthen within that extended partition,\nI can create logical drives, and\n\n94\n00:04:57.880 --> 00:05:02.130\nI can create as many logical drives\nas I have letters available.\n\n95\n00:05:02.130 --> 00:05:05.900\nSo that gets me past that\nfour partition limit.\n\n96\n00:05:05.900 --> 00:05:09.540\nYou have to have at least one primary\npartition where you install your operating\n\n97\n00:05:09.540 --> 00:05:12.600\nsystem on, if you were doing this\nall on the same physical disk.\n\n98\n00:05:12.600 --> 00:05:17.610\nBut you don't have to have three primary\npartitions just to create the extended.\n\n99\n00:05:17.610 --> 00:05:21.290\nIt just means that the extended is gonna\ntake the place of one of those spots in\n\n100\n00:05:21.290 --> 00:05:21.980\nthat table.\n\n101\n00:05:21.980 --> 00:05:26.100\nSo you can have one primary and one\nextended, or two primaries and extended,\n\n102\n00:05:26.100 --> 00:05:27.970\nor three primaries and extended.\n\n103\n00:05:27.970 --> 00:05:31.488\nThe extended is just gonna take the spot\nof one of your primary partitions.\n\n104\n00:05:31.488 --> 00:05:32.490\n[COUGH] Excuse me.\n\n105\n00:05:32.490 --> 00:05:36.120\nNow, the other big limitation\nof MBR is the size.\n\n106\n00:05:36.120 --> 00:05:40.580\nWe're limited to a two terabyte partition,\nmaximum size.\n\n107\n00:05:40.580 --> 00:05:43.700\nAnd as I said, a few years ago,\nthat was no big deal.\n\n108\n00:05:43.700 --> 00:05:46.330\nWe really didn't have\ndrives that were that big,\n\n109\n00:05:46.330 --> 00:05:48.560\nwe didn't need a two terabyte partition.\n\n110\n00:05:48.560 --> 00:05:50.870\nNow, we're starting to see the need for\nit, and\n\n111\n00:05:50.870 --> 00:05:53.180\nthat's a bit limitation\nof that MBR scheme.\n\n112\n00:05:53.180 --> 00:05:56.792\n>> Yeah, unfortunately data is\njust growing exponentially.\n\n113\n00:05:56.792 --> 00:05:58.890\nWe just need more and more of it.\n\n114\n00:05:58.890 --> 00:06:00.220\nThe good thing is that the drives,\n\n115\n00:06:00.220 --> 00:06:02.560\nphysical drives specifically are getting\ncheaper and cheaper and cheaper.\n\n116\n00:06:02.560 --> 00:06:05.640\nSo we're able to fill in\nthat storage space, but\n\n117\n00:06:05.640 --> 00:06:09.600\nif we're limited to two terabytes per\ndrive, if you're in a large data center\n\n118\n00:06:09.600 --> 00:06:14.730\nthat has multiple terabytes of data,\nthat's really not gonna cut the mustard.\n\n119\n00:06:14.730 --> 00:06:18.680\nYou want to be able to use a partitioning\nscheme that's going to make it easier for\n\n120\n00:06:18.680 --> 00:06:20.270\nyou in your environment.\n\n121\n00:06:20.270 --> 00:06:22.210\nAnd that GPT is probably gonna do it for\nyou,\n\n122\n00:06:22.210 --> 00:06:26.200\nbecause it basically has no limit on\nthe size of the drive you can use.\n\n123\n00:06:26.200 --> 00:06:30.810\n>> [LAUGHING] It really doesn't, you look\nat GPT, they do have actual limits, but\n\n124\n00:06:30.810 --> 00:06:33.030\nthe odds of us actually reaching that.\n\n125\n00:06:33.030 --> 00:06:33.770\nAt least, today.\n\n126\n00:06:33.770 --> 00:06:34.971\nYou never say never.\n\n127\n00:06:34.971 --> 00:06:38.139\nA year from now, ten years from now,\nmaybe we're like,\n\n128\n00:06:38.139 --> 00:06:41.110\nI can't believe I'm stuck\nwith 128 partitions.\n\n129\n00:06:41.110 --> 00:06:42.666\nCuz that's the limit on GPT.\n\n130\n00:06:42.666 --> 00:06:47.364\nYou can create up to 128 volumes\nthat are actually 128 volumes, and\n\n131\n00:06:47.364 --> 00:06:52.185\nthey're limited to 18 exabytes inside,\nand Daniel I'm not even sure-\n\n132\n00:06:52.185 --> 00:06:52.840\n>> [LAUGH]\n\n133\n00:06:52.840 --> 00:06:54.566\n>> [LAUGH] I know I looked it up one time,\n\n134\n00:06:54.566 --> 00:06:56.300\nlike, you know what is an exabyte?\n\n135\n00:06:56.300 --> 00:07:00.040\nAnd it's like a million terabytes or\nsomething.\n\n136\n00:07:00.040 --> 00:07:00.740\nIt's a lot.\n\n137\n00:07:00.740 --> 00:07:02.610\n>> Yeah.\n>> It's way out there.\n\n138\n00:07:02.610 --> 00:07:03.620\nDon't quote me on that.\n\n139\n00:07:03.620 --> 00:07:05.090\nGo look it up on Wikipedia.\n\n140\n00:07:05.090 --> 00:07:06.670\nFigure out what an exabyte is.\n\n141\n00:07:06.670 --> 00:07:09.070\nYou'll see that there are a lot\nof zeros behind it, and\n\n142\n00:07:09.070 --> 00:07:11.380\nthen realize that you don't have 1,\nbut you have 18.\n\n143\n00:07:11.380 --> 00:07:14.255\nSo you can make a pretty\nlarge partition on GPT.\n\n144\n00:07:14.255 --> 00:07:16.440\n[LAUGH]\n>> Yeah, that's a good size partition.\n\n145\n00:07:16.440 --> 00:07:18.450\nIf you're going farther than that,\nthen man,\n\n146\n00:07:18.450 --> 00:07:22.160\nI don't know what you're got going on,\nbut your data center is crazy.\n\n147\n00:07:22.160 --> 00:07:26.094\nIt reminds me of Bill Gates, though,\nsaying, who's ever gonna need 256\n\n148\n00:07:26.094 --> 00:07:29.190\nkilobytes of hard drive space,\nthat's an insane amounts.\n\n149\n00:07:29.190 --> 00:07:31.748\nWell, you know what,\nwe're well beyond that, so\n\n150\n00:07:31.748 --> 00:07:33.903\nmaybe one day we're gonna hit that limit.\n\n151\n00:07:33.903 --> 00:07:38.100\n>> My first thought is, what about the\nfull tolerance for 18 exabytes of data?\n\n152\n00:07:38.100 --> 00:07:41.970\nWhat about backing up a volume\nthat was 18 exabytes in size?\n\n153\n00:07:41.970 --> 00:07:43.133\nThat's for technology way down the road.\n\n154\n00:07:43.133 --> 00:07:45.229\nBut they're future-proofing it.\n\n155\n00:07:45.229 --> 00:07:47.565\nWe've seen this in several things.\n\n156\n00:07:47.565 --> 00:07:49.861\nMBR was great until we got\nto a certain point, and\n\n157\n00:07:49.861 --> 00:07:52.722\nwe hit it's limits then we had\nto come up with something new.\n\n158\n00:07:52.722 --> 00:07:58.042\nIP4 was great until we weren't farsighted\nenough and we started hitting the limits.\n\n159\n00:07:58.042 --> 00:07:59.454\nNow, we get IPv6, and\n\n160\n00:07:59.454 --> 00:08:03.342\nthey did the same thing with V6\nas they're doing with GPT right.\n\n161\n00:08:03.342 --> 00:08:06.342\nLet's make the limits so far out that\nwe don't have to worry about it for\n\n162\n00:08:06.342 --> 00:08:06.842\nsome time.\n\n163\n00:08:06.842 --> 00:08:08.790\nKind of future proof ourselves.\n\n164\n00:08:08.790 --> 00:08:11.720\n>> That's right, their smart people\nout there trying to help us out.\n\n165\n00:08:11.720 --> 00:08:15.140\nNow one of the other things you do need to\nunderstand when it comes to the difference\n\n166\n00:08:15.140 --> 00:08:20.340\nbetween MBR and GPT is what type\nof BIOS system are you using.\n\n167\n00:08:20.340 --> 00:08:21.720\nThis is very important.\n\n168\n00:08:21.720 --> 00:08:27.100\nIf you are not using a UEFI system you're\ngonna have a hard time using that GPT\n\n169\n00:08:27.100 --> 00:08:30.390\nas a partitioning scheme,\ncuz it's kinda based off of that.\n\n170\n00:08:30.390 --> 00:08:32.160\nIt's all about being modern.\n\n171\n00:08:32.160 --> 00:08:35.950\nThey want you to have a modern platform,\nwith modern partitioning and\n\n172\n00:08:35.950 --> 00:08:37.370\nformatting capabilities.\n\n173\n00:08:37.370 --> 00:08:39.210\nSo, GPT and\nthat UEFI kinda go hand in hand.\n\n174\n00:08:39.210 --> 00:08:42.840\nIf you're running MBR, well,\nyou're gonna have a little trouble.\n\n175\n00:08:42.840 --> 00:08:43.500\n>> Exactly.\n\n176\n00:08:43.500 --> 00:08:45.835\nNow, do keep in mind, it's for\nthe boot volume, right?\n\n177\n00:08:45.835 --> 00:08:47.000\n>> Right.\n>> With the boot volume,\n\n178\n00:08:47.000 --> 00:08:52.070\nyou can have a GPT based volume for\n\n179\n00:08:52.070 --> 00:08:55.220\ndata even if you're still BIOS,\nbut Daniel's exactly right,\n\n180\n00:08:55.220 --> 00:09:01.400\nif you wanna use GPT as your boot volume,\nthen you have to have a UEFI based system.\n\n181\n00:09:01.400 --> 00:09:02.495\n>> That's right.\n\n182\n00:09:02.495 --> 00:09:05.730\n>> Alright, so those are our two schemes,\nand again, whichever one you pick,\n\n183\n00:09:05.730 --> 00:09:08.710\nbasically Microsoft's recommendation,\nand probably for the exam as well,\n\n184\n00:09:08.710 --> 00:09:12.950\ntherefore, is If your drive or your\npartition is gonna be two terabytes or\n\n185\n00:09:12.950 --> 00:09:17.680\nsmaller, if the drive I should say,\nis two terabytes or smaller, just use MBR.\n\n186\n00:09:17.680 --> 00:09:20.890\nIf it's larger than two terabytes,\nuse GPT.\n\n187\n00:09:20.890 --> 00:09:22.525\nThat's their motto or their plans.\n\n188\n00:09:22.525 --> 00:09:27.250\nAlright, well now let's take a look at\nhow we can go about doing all of this,\n\n189\n00:09:27.250 --> 00:09:31.300\nbecause when it come to working with\ndrives Windows gives us several options,\n\n190\n00:09:31.300 --> 00:09:33.900\nand any one of those could be on the exam.\n\n191\n00:09:33.900 --> 00:09:37.080\nAnd it's good for you to know, cuz\ndifferent ones have different advantages.\n\n192\n00:09:37.080 --> 00:09:38.670\nI use most of them.\n\n193\n00:09:38.670 --> 00:09:42.610\nYou think you have a favorite one that you\nuse all the time, it really just depends\n\n194\n00:09:42.610 --> 00:09:46.320\non what the scenario is,\nwhat I'm trying to accomplish.\n\n195\n00:09:46.320 --> 00:09:50.090\nSo we'll take a look at all of\nthe different ways that we can do this.\n\n196\n00:09:50.090 --> 00:09:54.400\nAnd the first one I'm gonna show you\nhere I think, is Disk Management.\n\n197\n00:09:54.400 --> 00:09:58.800\nSo if we pull up my screen here,\nnow Disk Management,\n\n198\n00:09:58.800 --> 00:10:01.330\neasiest way to get there is\nthrough Computer Management.\n\n199\n00:10:01.330 --> 00:10:02.800\nIt is a snap-in of course, so\n\n200\n00:10:02.800 --> 00:10:07.410\nyou could make your own custom MMC\nthat just had Disk Management in here.\n\n201\n00:10:07.410 --> 00:10:11.550\nAnd as I scroll through here,\nwe've seen Computer Management before, so\n\n202\n00:10:11.550 --> 00:10:13.080\nI won't spend any time there, and\n\n203\n00:10:13.080 --> 00:10:16.200\nI've got a bunch of hard drives\nin here that we can play with.\n\n204\n00:10:16.200 --> 00:10:18.250\nNotice that all of these are listed,\nexcept for\n\n205\n00:10:18.250 --> 00:10:22.920\nthe one that my OS is on,\nare listed as unknown and offline.\n\n206\n00:10:22.920 --> 00:10:24.660\nThat's because I haven't\ninitialized them yet.\n\n207\n00:10:24.660 --> 00:10:29.220\nSo I basically powered down the machine,\nadded all these hard drives, and\n\n208\n00:10:29.220 --> 00:10:30.980\nnow I've turned the machine back on.\n\n209\n00:10:30.980 --> 00:10:33.720\nSo the first thing I have to\ndo is initialize those disks.\n\n210\n00:10:33.720 --> 00:10:36.450\nSo I'm going to come over here,\nand I need to bring it online.\n\n211\n00:10:36.450 --> 00:10:40.130\nI should say bring it online first, and\nthat's basically like plugging it in or\n\n212\n00:10:40.130 --> 00:10:42.760\ntelling the operating system\nthat we're plugging this guy in.\n\n213\n00:10:42.760 --> 00:10:46.070\nSo I'll right click on disk one and\nI'll choose online.\n\n214\n00:10:46.070 --> 00:10:48.950\nAnd so now you'll see that it doesn't\nsay offline anymore; it says,\n\n215\n00:10:48.950 --> 00:10:51.650\nnot initialized unknown.\n\n216\n00:10:51.650 --> 00:10:55.930\nI'm going to right click on that guy and\nchoose initialize disk.\n\n217\n00:10:55.930 --> 00:10:58.280\nAnd when I do that, there's my choices.\n\n218\n00:10:58.280 --> 00:11:01.230\nYou can see I've got MBR,\nMaster Boot Record, and\n\n219\n00:11:01.230 --> 00:11:05.150\nI've got GPT or GUID Partition Table,\nnow I'll go ahead and leave it on MBR,\n\n220\n00:11:05.150 --> 00:11:08.710\nthis is a smaller drive,\nit's a 60 Gigabytes,\n\n221\n00:11:08.710 --> 00:11:14.030\nI'll click okay, and\nnow that disk is listed as basic and\n\n222\n00:11:14.030 --> 00:11:16.920\nonline, and we'll go ahead and talk about\nwhat basic is here in a little bit.\n\n223\n00:11:18.230 --> 00:11:19.580\nSo that's one way we can do it.\n\n224\n00:11:19.580 --> 00:11:20.780\nSimple enough.\n\n225\n00:11:20.780 --> 00:11:24.470\nAnother way to do this is\nthrough Sever Manager.\n\n226\n00:11:24.470 --> 00:11:28.960\nIn Server Manger I've got my file and\nstorage services node,\n\n227\n00:11:28.960 --> 00:11:33.640\nI can click on that and\nthen I can go to Disks.\n\n228\n00:11:33.640 --> 00:11:36.030\nAnd I'll see those same drives.\n\n229\n00:11:36.030 --> 00:11:39.640\nI'm gonna sort this by number so\nI can keep the disks straight.\n\n230\n00:11:39.640 --> 00:11:44.040\nYou see one is still\nshowing it is offline.\n\n231\n00:11:44.040 --> 00:11:46.100\nLet's refresh that and\nmake sure that picks that up.\n\n232\n00:11:48.300 --> 00:11:49.470\nJust to make sure.\n\n233\n00:11:49.470 --> 00:11:51.910\nRemember, server manager\ndoesn't refresh automatically.\n\n234\n00:11:51.910 --> 00:11:53.070\nIt's got a refresh cycle.\n\n235\n00:11:53.070 --> 00:11:54.540\nI wanna say it's ten minutes.\n\n236\n00:11:54.540 --> 00:11:57.660\nYou can always refresh it\nmanually if you need to.\n\n237\n00:11:57.660 --> 00:12:03.060\nSo we'll give that a second to refresh and\nit's taking its sweet time there.\n\n238\n00:12:03.060 --> 00:12:04.740\nIt's so fast.\n\n239\n00:12:04.740 --> 00:12:05.440\nI'll tell you what.\n\n240\n00:12:05.440 --> 00:12:09.400\nI don't know if it will let me\ndo this while it's refreshing.\n\n241\n00:12:09.400 --> 00:12:12.190\nBut server manager basically\nworks very similar.\n\n242\n00:12:12.190 --> 00:12:13.780\nOkay, there we go.\n\n243\n00:12:13.780 --> 00:12:16.950\nNow showing online and master boot record.\n\n244\n00:12:16.950 --> 00:12:18.650\nSo I'm gonna right click on disk two.\n\n245\n00:12:18.650 --> 00:12:21.470\nAnd I'm gonna choose bring online.\n\n246\n00:12:23.920 --> 00:12:27.440\nAnd it warns me, if another\nmachine happens to be using this,\n\n247\n00:12:27.440 --> 00:12:29.090\nthen I could end up causing\nsome problems there.\n\n248\n00:12:29.090 --> 00:12:31.800\nThat really has to do with\nyour iSCSI connections.\n\n249\n00:12:31.800 --> 00:12:35.520\nI might be sharing this drive out\nwith another server or servers.\n\n250\n00:12:35.520 --> 00:12:38.580\nSo now it's showing as online,\nI'll right click on it again,\n\n251\n00:12:38.580 --> 00:12:40.580\nand I'll choose initialize.\n\n252\n00:12:40.580 --> 00:12:42.820\nSo, just like I did in\ncomputer management.\n\n253\n00:12:42.820 --> 00:12:44.940\nHere's the difference, all right?\n\n254\n00:12:44.940 --> 00:12:48.490\nIt tells me that it's going to erase\nit and initialize it as a GPT disk.\n\n255\n00:12:48.490 --> 00:12:50.200\nNotice there is no choice.\n\n256\n00:12:50.200 --> 00:12:51.560\nI can't choose MBR.\n\n257\n00:12:51.560 --> 00:12:53.860\nIt's going to do GPT.\n\n258\n00:12:53.860 --> 00:12:54.600\nAnd that's all I get.\n\n259\n00:12:54.600 --> 00:12:59.250\nI'm stuck with just doing GPT when\nyou're going to service manager.\n\n260\n00:12:59.250 --> 00:13:00.000\nAll right?\n\n261\n00:13:00.000 --> 00:13:01.100\n>> That's a good thing to remember Mike.\n\n262\n00:13:01.100 --> 00:13:04.310\nThey'll probably hit you with something\nlike that on the exam so make sure you\n\n263\n00:13:04.310 --> 00:13:08.640\ncatch little things like that when there's\na difference between the two interfaces\n\n264\n00:13:08.640 --> 00:13:11.570\ncause that is definitely\nquestionable material on that exam.\n\n265\n00:13:11.570 --> 00:13:16.130\nAbsolutely, you need to create this\nas a MBR, what tool do you use?\n\n266\n00:13:16.130 --> 00:13:19.220\nYou might think, well wait, they've given\nme computer management and server manager,\n\n267\n00:13:19.220 --> 00:13:20.580\nthey're both right.\n\n268\n00:13:20.580 --> 00:13:22.060\nNo they're not, right.\n\n269\n00:13:22.060 --> 00:13:22.800\n>> Yep, very good point.\n\n270\n00:13:22.800 --> 00:13:23.480\n>> Subtle differences.\n\n271\n00:13:23.480 --> 00:13:24.470\n>> Subtle.\n\n272\n00:13:24.470 --> 00:13:29.120\n>> All right, the next one we're gonna\ndo is, we are gonna work with DiskPart.\n\n273\n00:13:29.120 --> 00:13:32.650\nDiskPart has been around forever,\nit' a command line utility.\n\n274\n00:13:32.650 --> 00:13:35.830\nThe nice thing about DiskPart\nis that it is scriptable.\n\n275\n00:13:35.830 --> 00:13:39.920\nAnd you just simply type in DiskPart and\nthat.\n\n276\n00:13:39.920 --> 00:13:41.695\nThat brings me to my DiskPart prompt.\n\n277\n00:13:41.695 --> 00:13:43.650\nDiskPart has several pieces to it.\n\n278\n00:13:43.650 --> 00:13:46.380\nIt's kind of like using entity as util.\n\n279\n00:13:46.380 --> 00:13:50.790\nOnce you type the name of that tool and\nhit Enter you're at a special prompt where\n\n280\n00:13:50.790 --> 00:13:54.690\nyou have access to all the DiskPart\nof commands and utilities.\n\n281\n00:13:54.690 --> 00:13:57.910\nSo the first thing you do when you're\nworking with DiskPart is you're gonna type\n\n282\n00:13:57.910 --> 00:13:59.060\nin list disk.\n\n283\n00:13:59.060 --> 00:14:02.930\nThis is gonna show you all the disks\nthat are in your system and\n\n284\n00:14:02.930 --> 00:14:04.580\nyou want to be careful with this part.\n\n285\n00:14:04.580 --> 00:14:08.800\nWhen you're using the GUI, either\ncomputer management or disk management or\n\n286\n00:14:08.800 --> 00:14:11.030\nserver manager, you're-right clicking.\n\n287\n00:14:11.030 --> 00:14:15.490\nSo you're choosing what drive\nby right-clicking on it.\n\n288\n00:14:15.490 --> 00:14:18.850\nHere in DiskPart,\nyou have to select the disk.\n\n289\n00:14:18.850 --> 00:14:22.860\nAnd then, whatever command you type is\ngoing to get fired against the disk you\n\n290\n00:14:22.860 --> 00:14:23.480\nhave selected.\n\n291\n00:14:23.480 --> 00:14:25.570\nYou don't type the name\nof the disk every time.\n\n292\n00:14:25.570 --> 00:14:29.240\nSo it's real easy to have\nthe wrong disk selected.\n\n293\n00:14:29.240 --> 00:14:32.620\nAnd you go to do a command, and\nyou end up doing something very bad\n\n294\n00:14:32.620 --> 00:14:35.470\nto a drive you did not have\nintentions of modifying.\n\n295\n00:14:35.470 --> 00:14:36.790\nEasy to do.\n\n296\n00:14:36.790 --> 00:14:37.770\nSo you list your disk.\n\n297\n00:14:37.770 --> 00:14:40.690\nAnd if we want to work with, let's say I\nwant to, you can see disk one and two.\n\n298\n00:14:40.690 --> 00:14:43.430\nThose are the two that I've just\nbrought online a little bit ago.\n\n299\n00:14:43.430 --> 00:14:44.710\nWe'll start with disk three here.\n\n300\n00:14:44.710 --> 00:14:48.080\nSo I'm going to say select disk three.\n\n301\n00:14:49.130 --> 00:14:52.540\nAnd I'll hit Enter and it tells me that\ndisk three is now the selected disk.\n\n302\n00:14:52.540 --> 00:14:57.500\nIf I do another list disk, I will see\nan asterisk out next to disk three.\n\n303\n00:14:57.500 --> 00:15:02.120\nThat lets me know that's the drive that I\nhave currently selected or that has focus.\n\n304\n00:15:02.120 --> 00:15:03.840\nThat's another way to put that.\n\n305\n00:15:03.840 --> 00:15:11.880\nOnce I've got that disk selected,\nI'm gonna type in online disk.\n\n306\n00:15:11.880 --> 00:15:13.180\nNotice I'm not telling you what disk.\n\n307\n00:15:13.180 --> 00:15:15.270\nRemember it's whichever one\nyou've already selected.\n\n308\n00:15:15.270 --> 00:15:17.560\nAnd it tells me that it's now online.\n\n309\n00:15:17.560 --> 00:15:21.520\nIf I do another list disk\nI'll see that the status for\n\n310\n00:15:21.520 --> 00:15:24.630\ndisk three is now listed as online.\n\n311\n00:15:24.630 --> 00:15:29.670\nAlright, now if we take a look at it,\nthey don't get to see it from here.\n\n312\n00:15:29.670 --> 00:15:32.710\nI want to come back over here to\nserver manager and refresh this guy.\n\n313\n00:15:34.550 --> 00:15:37.030\nI want you to well wait for\ndisk three to pop up and\n\n314\n00:15:37.030 --> 00:15:38.910\nI know server manager's a little slow.\n\n315\n00:15:38.910 --> 00:15:39.640\nOne of the things.\n\n316\n00:15:39.640 --> 00:15:43.600\nYou notice that all these drives are\nlisted as offline, unknown, and read only.\n\n317\n00:15:43.600 --> 00:15:46.507\nWell, when we initialized\nthose drives through the GUI,\n\n318\n00:15:46.507 --> 00:15:50.186\nthrough computer management,\nthough server manager, it went ahead and\n\n319\n00:15:50.186 --> 00:15:52.460\ncleared that read only flag automatically.\n\n320\n00:15:52.460 --> 00:15:54.930\nIt knows hey,\nthey're trying to make this disk writable.\n\n321\n00:15:54.930 --> 00:15:57.220\nThey're getting ready to create\na partition, what have you?\n\n322\n00:15:57.220 --> 00:16:00.930\nAnd it just does it for me,\nit's not a separate step.\n\n323\n00:16:00.930 --> 00:16:05.400\nWith this one however,\nnotice that disk three is now online.\n\n324\n00:16:05.400 --> 00:16:07.230\nStill listed as read only.\n\n325\n00:16:07.230 --> 00:16:11.390\nI'm not in the GUI, it's not doing\nthings for me, I have to do everything.\n\n326\n00:16:11.390 --> 00:16:13.620\nSo if we come back over\nhere what would happen?\n\n327\n00:16:13.620 --> 00:16:19.210\nLike let's say I brought it online and\nI wanted to set it up as an MBR.\n\n328\n00:16:19.210 --> 00:16:23.750\nYou would type in convert,\neven though it's nothing, right?\n\n329\n00:16:23.750 --> 00:16:25.750\nWe haven't chosen MBR or GBT.\n\n330\n00:16:25.750 --> 00:16:28.420\nThere really isn't\na command to initialize.\n\n331\n00:16:28.420 --> 00:16:31.300\nYou just type in convert MBR or\nconvert GBT and\n\n332\n00:16:31.300 --> 00:16:34.108\nthat's going to lay down\nthat initial scheme.\n\n333\n00:16:34.108 --> 00:16:36.900\nBut that is a good point to note,\nI can always change it.\n\n334\n00:16:36.900 --> 00:16:41.230\nIf I had said convert MBR, this disk could\nbe brought online as an MBR based disk.\n\n335\n00:16:41.230 --> 00:16:45.881\nIf I ever want to change that to GPT, I\ncould just simply open up disk [INAUDIBLE]\n\n336\n00:16:45.881 --> 00:16:49.250\nto convert GPT without any data loss,\nhopefully.\n\n337\n00:16:49.250 --> 00:16:51.040\nMake sure you back it up just in case.\n\n338\n00:16:51.040 --> 00:16:51.540\nRight.\n>> Yeah.\n\n339\n00:16:51.540 --> 00:16:53.230\nDon't play around with disks\n\n340\n00:16:53.230 --> 00:16:58.030\nunless you have good verified backups,\nbecause any data that you have on them,\n\n341\n00:16:58.030 --> 00:17:00.820\nthe possibility of\nlosing it is a real one.\n\n342\n00:17:00.820 --> 00:17:04.070\nSo just be really really careful as\nyou mess around with this stuff.\n\n343\n00:17:04.070 --> 00:17:07.160\n>> Absolutely, all right, so\nif I try to just come in here and try and\n\n344\n00:17:07.160 --> 00:17:10.870\nconvert MBR, that should lay down\nmy master boot record partition.\n\n345\n00:17:10.870 --> 00:17:12.780\nAnd notice what happens.\n\n346\n00:17:12.780 --> 00:17:15.920\nError, media is write protected,\nall right?\n\n347\n00:17:15.920 --> 00:17:18.460\nAnd that's because it\ndidn't do it automatically.\n\n348\n00:17:18.460 --> 00:17:24.960\nI have to come in here and type in\nattributes, what is it, disk clear.\n\n349\n00:17:24.960 --> 00:17:28.163\nRead only.\n\n350\n00:17:28.163 --> 00:17:32.033\nAll right, Now if I come back over to\nserver manager and I do a little quick\n\n351\n00:17:32.033 --> 00:17:36.492\nrefresh, we watch that check mark right\nthere, it should disappear, all right.\n\n352\n00:17:36.492 --> 00:17:40.891\nSo just one more step you have to remember\nwhen you're doing it through the command\n\n353\n00:17:40.891 --> 00:17:41.920\nprompt like this.\n\n354\n00:17:41.920 --> 00:17:43.678\n>> Emphasis on the word should.\n\n355\n00:17:43.678 --> 00:17:46.340\n>> [LAUGH]\n>> You can never be sure with those\n\n356\n00:17:46.340 --> 00:17:48.200\nstinking computers.\n\n357\n00:17:48.200 --> 00:17:49.050\n>> I know.\nYeah,\n\n358\n00:17:49.050 --> 00:17:50.920\nnothing is set in stone with these guys,\nright?\n\n359\n00:17:50.920 --> 00:17:54.170\nAll right,\nit's almost done refreshing here.\n\n360\n00:17:54.170 --> 00:17:55.140\nIt's awfully slow.\n\n361\n00:17:56.370 --> 00:17:57.580\nThere it goes.\n\n362\n00:17:57.580 --> 00:17:58.620\nNow it's gone.\n\n363\n00:17:58.620 --> 00:18:05.150\nSo now if I try that convert MBR\ncommand again, everything works good.\n\n364\n00:18:05.150 --> 00:18:11.250\nAnd if we flip back over and we refresh,\nit's going to come up as MBR there.\n\n365\n00:18:11.250 --> 00:18:12.630\nWe don't have to wait for it.\n\n366\n00:18:12.630 --> 00:18:14.710\nYou guys know that's going to come up.\n\n367\n00:18:14.710 --> 00:18:16.834\nSame thing if I come over here and\nI do another list disk.\n\n368\n00:18:16.834 --> 00:18:22.900\nI now have disk three as online and notice\nit doesn't really have an MBR or GPT?\n\n369\n00:18:22.900 --> 00:18:26.250\nIt's MBR unless GPT is specified.\n\n370\n00:18:26.250 --> 00:18:30.010\nSo everything that doesn't have\nan asterisk is going to be MBR.\n\n371\n00:18:30.010 --> 00:18:32.230\n>> Now Mike, are these changes,\n\n372\n00:18:32.230 --> 00:18:35.690\nwe see that they're happening in\nthe server manager system as well, but\n\n373\n00:18:35.690 --> 00:18:39.730\nI was wondering, are they also showing\nup in the disk management system?\n\n374\n00:18:39.730 --> 00:18:41.830\n>> They are.\nLet's go take a peek at that.\n\n375\n00:18:41.830 --> 00:18:44.660\nIf I go back here again,\nit doesn't refresh automatically.\n\n376\n00:18:44.660 --> 00:18:46.050\nSo, I'll do a little refresh here.\n\n377\n00:18:46.050 --> 00:18:48.712\nActually, it does look\nlike it has updated,\n\n378\n00:18:48.712 --> 00:18:51.175\nI see these guys are all basic and online.\n\n379\n00:18:54.413 --> 00:18:56.170\n>> So yeah, it is doing it.\n\n380\n00:18:56.170 --> 00:18:57.770\n>> It is updating them there as well.\n\n381\n00:18:57.770 --> 00:18:59.900\nNow, we haven't created any volumes or\npartitions, right?\n\n382\n00:18:59.900 --> 00:19:03.070\nAll we did was lay down the scheme\nthat we will wanna use.\n\n383\n00:19:03.070 --> 00:19:06.580\nWe haven't actually created any, so they\nwon't show up in Windows Explorer, yet.\n\n384\n00:19:06.580 --> 00:19:09.190\nAnd they won't show up in\nthis top part up here.\n\n385\n00:19:09.190 --> 00:19:12.120\nThe top part, the text based part, is for\n\n386\n00:19:12.120 --> 00:19:14.880\nthe actual volumes,\nnot the physical drives themselves.\n\n387\n00:19:16.040 --> 00:19:16.550\nAll right.\n\n388\n00:19:16.550 --> 00:19:17.755\nNext wave is PowerShell,\n\n389\n00:19:17.755 --> 00:19:20.800\nyou knew we weren't going to\nleave PowerShell out right?\n\n390\n00:19:20.800 --> 00:19:22.300\n>> It's not a party without PowerShell.\n\n391\n00:19:22.300 --> 00:19:23.035\n>> I'm serious.\n\n392\n00:19:23.035 --> 00:19:24.160\n>> PowerShells great though, right,\n\n393\n00:19:24.160 --> 00:19:27.930\nbecause using PowerShell,\nwell you can also script this.\n\n394\n00:19:27.930 --> 00:19:29.920\nMake it happen automatically\nif you need to.\n\n395\n00:19:29.920 --> 00:19:31.787\nTake that script,\nput it on another server,\n\n396\n00:19:31.787 --> 00:19:34.190\nmaybe you've got a few\nservers that are identical.\n\n397\n00:19:34.190 --> 00:19:35.900\nYou bought all maybe four or five of them.\n\n398\n00:19:35.900 --> 00:19:36.480\nYou thought,\n\n399\n00:19:36.480 --> 00:19:39.570\nyou know what I'll just create a script,\nrun them on all four, five.\n\n400\n00:19:39.570 --> 00:19:42.310\nAnd then I'm done, I don't have to\nsit down at each and every one.\n\n401\n00:19:42.310 --> 00:19:43.710\nPowerShell is great for\nthis kind of stuff.\n\n402\n00:19:43.710 --> 00:19:44.640\n>> It is a beautiful thing.\n\n403\n00:19:44.640 --> 00:19:45.930\nAnd I'm gonna show you both ways.\n\n404\n00:19:45.930 --> 00:19:48.850\nI'm gonna go ahead and do it manually\nhere, and then I've got a script that I\n\n405\n00:19:48.850 --> 00:19:53.260\nwrote that you could use if you\nneeded to initialize multiple drives.\n\n406\n00:19:53.260 --> 00:19:57.182\nSo in PowerShell, I do have PowerShell\nopened up, and you know what,\n\n407\n00:19:57.182 --> 00:19:59.848\nlet me make sure I ran\nthat as an administrator.\n\n408\n00:19:59.848 --> 00:20:01.102\nI can't remember,\nit was a little while ago.\n\n409\n00:20:01.102 --> 00:20:02.572\nSo let me get that fired up.\n\n410\n00:20:02.572 --> 00:20:04.123\n>> [INAUDIBLE]\n>> Yes,\n\n411\n00:20:04.123 --> 00:20:05.990\nmake sure you run that\nas an administrator.\n\n412\n00:20:05.990 --> 00:20:07.280\nThat prompt looks a little better.\n\n413\n00:20:07.280 --> 00:20:09.810\nI'm at my system32 prompt.\n\n414\n00:20:09.810 --> 00:20:14.170\nAnd the command in PowerShell is similar,\nbasically going to do the same concepts\n\n415\n00:20:14.170 --> 00:20:16.490\nthat we did in disk part,\nwe're just doing it in PowerShell now.\n\n416\n00:20:16.490 --> 00:20:22.130\nGet-disk is going to be the command,\nand that's going to be the same as\n\n417\n00:20:22.130 --> 00:20:27.540\nlist disk in the command prompt,\nor in disk part.\n\n418\n00:20:27.540 --> 00:20:29.860\nSo we'll do a little of this list disk.\n\n419\n00:20:29.860 --> 00:20:31.350\nAnd there I can see them all.\n\n420\n00:20:31.350 --> 00:20:35.070\nIt doesn't sort it automatically,\nwhich really annoys me.\n\n421\n00:20:35.070 --> 00:20:36.010\nSo let's fix that.\n\n422\n00:20:36.010 --> 00:20:38.635\nLet's pipe that out into a, what is that?\n\n423\n00:20:38.635 --> 00:20:41.510\nSort-object, and we'll do it by number.\n\n424\n00:20:43.090 --> 00:20:43.620\nThere we go.\n\n425\n00:20:43.620 --> 00:20:45.030\nThat looks a little better.\n\n426\n00:20:45.030 --> 00:20:48.100\nSo we've already gone through disk\nzero was my operating system drive.\n\n427\n00:20:48.100 --> 00:20:49.930\nWe've done one, two and three.\n\n428\n00:20:49.930 --> 00:20:52.570\nDisk four is the next one in\nmy list that we're gonna do.\n\n429\n00:20:52.570 --> 00:20:56.340\nSo now that I know the number of\nthe drive that I want to initialize\n\n430\n00:20:56.340 --> 00:21:00.370\nit's simply gonna be initialize-disk.\n\n431\n00:21:00.370 --> 00:21:07.770\nDid I spell that right, no I did not.\n\n432\n00:21:07.770 --> 00:21:09.393\n>> The J is silent.\n\n433\n00:21:09.393 --> 00:21:13.440\n>> [LAUGH] Initialize-disk.\n\n434\n00:21:13.440 --> 00:21:15.410\nYou know if it doesn't, that's\nthe great thing about PowerShell right,\n\n435\n00:21:15.410 --> 00:21:16.190\nif you hit tab and\n\n436\n00:21:16.190 --> 00:21:20.040\nit doesn't auto fill, you're pretty sure\nyou've got a typo in there somewhere.\n\n437\n00:21:20.040 --> 00:21:22.850\nSo, initialize disk-number.\n\n438\n00:21:22.850 --> 00:21:25.520\nAnd number four was the one that I wanted.\n\n439\n00:21:25.520 --> 00:21:29.140\nAnd I'm going to do\na dash partition style.\n\n440\n00:21:29.140 --> 00:21:35.160\nAnd that's going to be MBR, but\nI could do GPT just as well through here.\n\n441\n00:21:35.160 --> 00:21:39.950\nI'll stick with our little MBR for\nnow, and I'll go ahead and hit enter.\n\n442\n00:21:41.870 --> 00:21:45.974\nAnd ta-da, if I do another list disk or\nget-disk I should say,\n\n443\n00:21:45.974 --> 00:21:49.000\nwe'll see the number four is now online.\n\n444\n00:21:49.000 --> 00:21:51.990\nNow notice with this one,\nit went ahead and brought it online.\n\n445\n00:21:51.990 --> 00:21:54.380\nYou know just like within the GUI,\nwhen you initialize it,\n\n446\n00:21:54.380 --> 00:21:56.210\nit also brings it online.\n\n447\n00:21:56.210 --> 00:21:59.900\nIt's that disk par where you've really got\nto break it out into those separate steps.\n\n448\n00:21:59.900 --> 00:22:00.700\nPowerShell.\n\n449\n00:22:00.700 --> 00:22:02.460\nA little smarter,\ndoes a little more work for us.\n\n450\n00:22:02.460 --> 00:22:03.020\n>> I love how it was\n\n451\n00:22:03.020 --> 00:22:04.930\nextremely anticlimactic when it's-\n>> [LAUGH]\n\n452\n00:22:04.930 --> 00:22:05.700\n>> You run the command.\n\n453\n00:22:05.700 --> 00:22:07.100\nIt's like, okay, I'm done.\n\n454\n00:22:07.100 --> 00:22:07.995\nWhat's next?\n\n455\n00:22:07.995 --> 00:22:09.400\n[LAUGH]\n>> That is the great thing or\n\n456\n00:22:09.400 --> 00:22:10.980\nthe bad thing about PowerShell, right?\n\n457\n00:22:10.980 --> 00:22:11.660\n>> Did this work?\n\n458\n00:22:11.660 --> 00:22:12.940\n>> You get no feedback.\n\n459\n00:22:12.940 --> 00:22:15.180\nRemember, you get that pass\nthrough switch you can do,\n\n460\n00:22:15.180 --> 00:22:18.760\nand that'll dump some return out\nto the screen if you need that.\n\n461\n00:22:18.760 --> 00:22:21.500\nI always figure, hey,\nif I don't get any red text, I'm good.\n\n462\n00:22:21.500 --> 00:22:22.845\n>> Be good.\n>> Yeah, that's right.\n\n463\n00:22:22.845 --> 00:22:25.830\n[LAUGH] All right, so\nthat's doing it through PowerShell.\n\n464\n00:22:25.830 --> 00:22:28.310\nThe last thing I want to show you,\nthough is a script.\n\n465\n00:22:28.310 --> 00:22:30.270\nAnd, let me close PowerShell.\n\n466\n00:22:30.270 --> 00:22:32.860\nI'm going to open up our good old\n\n467\n00:22:32.860 --> 00:22:35.390\nintegrated scripting\nenvironment with PowerShell.\n\n468\n00:22:39.275 --> 00:22:40.269\nWait for that to crank up.\n\n469\n00:22:42.620 --> 00:22:47.190\nCuz let's say I pop in five new disks,\nall right, into my server.\n\n470\n00:22:47.190 --> 00:22:51.210\nWell I really don't want to have to go and\ntype those commands for each one of them.\n\n471\n00:22:51.210 --> 00:22:54.936\nIt would be nice if I could find\na way to do them all at once.\n\n472\n00:22:54.936 --> 00:22:57.830\nEven in the GUI you've gotta right\nclick on one at a time and do it, and\n\n473\n00:22:57.830 --> 00:23:01.560\nif you popped in ten new drives, that's\ntedious and if you've done ten drives on\n\n474\n00:23:01.560 --> 00:23:04.710\nten different servers, that's a hundred\nright clicks you're doing now, right?\n\n475\n00:23:04.710 --> 00:23:06.140\nThat's no bueno.\n\n476\n00:23:06.140 --> 00:23:08.810\nSo what we're going to do is\nwe're going to script that out.\n\n477\n00:23:08.810 --> 00:23:14.190\nRemember with the ISE I can still do my\ncommands down here if I chose to do so.\n\n478\n00:23:14.190 --> 00:23:16.480\nI've got my PowerShell down there.\n\n479\n00:23:16.480 --> 00:23:19.539\nAnd let me open up this script\nthat I've created for us.\n\n480\n00:23:21.380 --> 00:23:23.180\nAnd let's talk about what\nthe heck this thing is doing.\n\n481\n00:23:24.200 --> 00:23:25.210\nThere it's listing out my disk.\n\n482\n00:23:25.210 --> 00:23:28.669\nOh, I forgot my sort object,\nbut, good enough.\n\n483\n00:23:28.669 --> 00:23:33.490\nAll right, so\nthe script is simply going to be get-disk.\n\n484\n00:23:33.490 --> 00:23:37.120\nSo just like I just ran, that goes and\ngets a list of all disks.\n\n485\n00:23:37.120 --> 00:23:40.140\nAnd I'm piping that out, right,\nthere's my pipe character, so\n\n486\n00:23:40.140 --> 00:23:44.280\nthe results of get-disk is actually\nbeing fed into the next command.\n\n487\n00:23:44.280 --> 00:23:48.930\nAnd the next command is where\npartition style equals raw.\n\n488\n00:23:48.930 --> 00:23:51.700\nSo these over here you can see in fact,\n\n489\n00:23:51.700 --> 00:23:56.130\nlet me just manually real quick\nI'll do another get-disk.\n\n490\n00:23:56.130 --> 00:24:02.080\nAnd we'll sort that real quick,\nsort-object.\n\n491\n00:24:02.080 --> 00:24:06.330\nAnd we'll sort it by number, all right.\n\n492\n00:24:06.330 --> 00:24:10.103\nSee these last two drives, these are the\nones that I haven't initialized yet,\n\n493\n00:24:10.103 --> 00:24:11.297\nthey're both offline.\n\n494\n00:24:11.297 --> 00:24:12.939\nAnd so they're both listed as raw,\n\n495\n00:24:12.939 --> 00:24:16.835\nbecause we haven't chosen\na partitioning scheme yet, all right?\n\n496\n00:24:16.835 --> 00:24:20.555\nSo what I'm doing in my script\nis saying look for all drives\n\n497\n00:24:20.555 --> 00:24:25.435\nthat have a partitioning scheme of raw or\npartition style of raw.\n\n498\n00:24:25.435 --> 00:24:29.400\nSo the initial command, Get-Disk,\ngrabs all seven drives.\n\n499\n00:24:29.400 --> 00:24:33.194\nThe next command filters it down to\njust the two drives that don't have\n\n500\n00:24:33.194 --> 00:24:34.751\na partitioning scheme yet.\n\n501\n00:24:34.751 --> 00:24:39.134\nSo you can imagine going into the third\ncommand here is just those two drives,\n\n502\n00:24:39.134 --> 00:24:40.693\nI've filtered that down.\n\n503\n00:24:40.693 --> 00:24:44.610\nAnd then on those two drives,\nI'm gonna do Initialize-Disk,\n\n504\n00:24:44.610 --> 00:24:49.191\nthis is what you just saw me type in\nat PowerShell, -PartitionStyle MBR.\n\n505\n00:24:49.191 --> 00:24:51.702\nAnd then notice that I'm\nusing the -PassThru command,\n\n506\n00:24:51.702 --> 00:24:53.280\nbecause I wanna pass that through.\n\n507\n00:24:53.280 --> 00:24:57.256\nNow, on the other ones we didn't bother\ncreating a volume, or anything like that,\n\n508\n00:24:57.256 --> 00:24:58.780\nwe haven't done that yet.\n\n509\n00:24:58.780 --> 00:25:00.790\nWe're gonna do that in\nan upcoming episode, but for\n\n510\n00:25:00.790 --> 00:25:03.100\nthis script I thought I'd\nshow you everything at once.\n\n511\n00:25:03.100 --> 00:25:04.730\nCuz, if you're gonna write a script,\n\n512\n00:25:04.730 --> 00:25:07.020\nyou're not gonna write\none to initialize them.\n\n513\n00:25:07.020 --> 00:25:10.235\nAnd then go write another one to\ncreate your partitions, right?\n\n514\n00:25:10.235 --> 00:25:13.380\nYou'd probably do it all at once,\nso I left that in here.\n\n515\n00:25:13.380 --> 00:25:18.200\nSo -PassThru says, all right, take those\ntwo drives that you just initialized, and\n\n516\n00:25:18.200 --> 00:25:22.535\nlay down the MBR PartitionStyle,\npass that through to the next command,\n\n517\n00:25:22.535 --> 00:25:24.540\nNew-Partition.\n\n518\n00:25:24.540 --> 00:25:29.768\nAnd then assign, oops, and\nthen -AssignDriveLetter, all right?\n\n519\n00:25:29.768 --> 00:25:32.220\nNow there's a couple of ways\nyou can actually do this.\n\n520\n00:25:32.220 --> 00:25:35.970\nYou can do assign letter and\nthen you can specify what letter, but\n\n521\n00:25:35.970 --> 00:25:39.730\nif I'm scripting this I might not know\nwhat drives already exist in that system\n\n522\n00:25:39.730 --> 00:25:42.610\nand I need to pick two letters\nthat aren't in use, right?\n\n523\n00:25:42.610 --> 00:25:47.414\nSo -AssignDriveLetter just grabs the next\navailable letter and then -UseMaximumSize\n\n524\n00:25:47.414 --> 00:25:51.330\nsays, take that entire drive and\nmake one big partition out of it.\n\n525\n00:25:51.330 --> 00:25:55.856\nYou can also use a dash size and\nyou can specify the exact size you want.\n\n526\n00:25:55.856 --> 00:26:00.221\nThere's another command you can do that's\na file system label, I'm not a big fan of\n\n527\n00:26:00.221 --> 00:26:04.370\nlabels, I don't like those out there but\nyou can assign a label as well.\n\n528\n00:26:04.370 --> 00:26:08.179\nSo this is gonna create two partitions\nthat are gonna be as big as the drive will\n\n529\n00:26:08.179 --> 00:26:10.910\nallow, take up all the unallocated space.\n\n530\n00:26:10.910 --> 00:26:15.113\nAnd then the last one, it's gonna take\nthose two partitions it just created and\n\n531\n00:26:15.113 --> 00:26:19.003\nthen, Format-Volume -FileSystem\nNTFS -Confirm:$false, just so\n\n532\n00:26:19.003 --> 00:26:22.420\nI don't have to hit the Y for\nyes and things like that.\n\n533\n00:26:22.420 --> 00:26:25.769\nSo that's the idea behind the script,\nit should grab these two right here, so\n\n534\n00:26:25.769 --> 00:26:27.150\nlet's just play that.\n\n535\n00:26:27.150 --> 00:26:29.330\nYou guys know I could call that\nfrom the PowerShell, right?\n\n536\n00:26:29.330 --> 00:26:32.210\nI don't have to open up\nISE to run the script,\n\n537\n00:26:32.210 --> 00:26:36.340\nI could just type in the full path and\nname of the script.\n\n538\n00:26:36.340 --> 00:26:39.830\nOr since I'm already in the ISE,\nI can just go ahead and\n\n539\n00:26:39.830 --> 00:26:43.270\nclick Play up here, and\nwe'll see what happens.\n\n540\n00:26:43.270 --> 00:26:45.345\nAgain, that's the great\nthing about PowerShell,\n\n541\n00:26:45.345 --> 00:26:47.310\nis the fact that I can\ngenerate these scripts.\n\n542\n00:26:47.310 --> 00:26:50.480\nI don't have to type all those\ncommands out every single time.\n\n543\n00:26:50.480 --> 00:26:52.960\nI can put this script\nsomewhere in a shared folder.\n\n544\n00:26:52.960 --> 00:26:56.500\nAnytime we pop out a new server with new\ndrives in it, I just go grab that script,\n\n545\n00:26:56.500 --> 00:26:58.190\nrun it and I'm good to go.\n\n546\n00:26:58.190 --> 00:27:00.450\nSo, it'll take it a minute to\nrun through all these drives.\n\n547\n00:27:01.460 --> 00:27:04.291\nBut, again, it's just grabbing\neach drive that it finds as raw.\n\n548\n00:27:04.291 --> 00:27:08.067\nAnd it's going to initialize it,\nit's gonna set it in my case as MBR,\n\n549\n00:27:08.067 --> 00:27:10.123\ncuz that's what I chose in my script.\n\n550\n00:27:10.123 --> 00:27:12.037\nIt's gonna assign it a drive letter and\n\n551\n00:27:12.037 --> 00:27:15.370\ncreate a partition that takes\nup all the unallocated space.\n\n552\n00:27:15.370 --> 00:27:19.000\nAnd there we go,\nnow I've got those last two drives there.\n\n553\n00:27:19.000 --> 00:27:21.380\nI didn't sort it but you get the idea.\n\n554\n00:27:21.380 --> 00:27:24.706\nSo that's just the way you can automate\nthe creation of these partitions.\n\n555\n00:27:24.706 --> 00:27:27.144\n>> That's right,\nawesome stuff this is definitely.\n\n556\n00:27:27.144 --> 00:27:30.676\nNot only is it testable, things they want\nyou to know on those Microsoft exams,\n\n557\n00:27:30.676 --> 00:27:32.930\nthey're gonna hit you pretty hard on this.\n\n558\n00:27:32.930 --> 00:27:36.321\nSo be aware of all these little\nnuisances that go along with that.\n\n559\n00:27:36.321 --> 00:27:40.256\nBut as an admin, right, as a tech,\nyou're out in the field,\n\n560\n00:27:40.256 --> 00:27:42.242\nthis is practical knowledge.\n\n561\n00:27:42.242 --> 00:27:47.199\nThis is good stuff,\nyou will be doing this as an MCSA or MCSE.\n\n562\n00:27:47.199 --> 00:27:49.770\nThis is the foundational kind\nof stuff you've gotta know.\n\n563\n00:27:49.770 --> 00:27:53.440\nMike, you've walked through us\na lot of great topics here.\n\n564\n00:27:53.440 --> 00:27:56.280\nIf you're new to this business,\n\n565\n00:27:56.280 --> 00:27:59.280\nwatch this episode a few times\ncuz it really is good info.\n\n566\n00:27:59.280 --> 00:28:02.390\nIt'll get you up to speed and\nthen you should be ready to go on\n\n567\n00:28:02.390 --> 00:28:05.990\nany kind of disk issue inside of\nthe Microsoft server environment.\n\n568\n00:28:05.990 --> 00:28:08.750\nAll right, Mike, that being said it looks\nlike we went ahead and wrapped up yet\n\n569\n00:28:08.750 --> 00:28:09.840\nanother really good episode.\n\n570\n00:28:09.840 --> 00:28:12.770\nHopefully, you guys have enjoyed it,\nwe had a great time making it.\n\n571\n00:28:12.770 --> 00:28:15.950\nSigning off of ITProTv,\nI've been your host, Daniel Lowrie.\n\n572\n00:28:15.950 --> 00:28:16.790\n>> And I'm Mike Rodrick.\n\n573\n00:28:16.790 --> 00:28:17.861\n>> And we'll see you next time.\n\n574\n00:28:17.861 --> 00:28:23.230\n[MUSIC]\n\n",
          "vimeoId": "137253744"
        },
        {
          "description": "In this episode Daniel and Mike demonstrate partition management when working with multiple disks. They leverage tools such as DiskPart and the power of PowerShell to configure partitions across multiple disks.",
          "length": "2234",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-2-managing_volumes-082415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-2-managing_volumes-082415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-2-managing_volumes-082415-1-sm.jpg",
          "title": "Managing Volumes",
          "transcript": "WEBVTT\n\n1\n00:00:00.303 --> 00:00:09.963\n[MUSIC]\n\n2\n00:00:09.963 --> 00:00:11.180\nAll right.\n\n3\n00:00:11.180 --> 00:00:15.720\nGreetings everyone and welcome to\nanother great episode of ITProTV.\n\n4\n00:00:15.720 --> 00:00:17.000\nI'm your host, Daniel Lowrie.\n\n5\n00:00:17.000 --> 00:00:18.620\nHere with me today is Mr. Mike Roderick.\n\n6\n00:00:18.620 --> 00:00:20.170\nHow's it going today Mike?\n\n7\n00:00:20.170 --> 00:00:21.210\n>> Oh it's going great, Daniel.\n\n8\n00:00:21.210 --> 00:00:22.060\nI'm excited to be here.\n\n9\n00:00:22.060 --> 00:00:24.950\nWe've got another one of our\n7410 episodes coming your way.\n\n10\n00:00:24.950 --> 00:00:27.830\nAnd in this one, we're going to\ntake a look at managing volumes or\n\n11\n00:00:27.830 --> 00:00:29.690\nworking with our drives, right.\n\n12\n00:00:29.690 --> 00:00:33.810\nIn a previous episode, we saw how we\nbrought those drives into our server.\n\n13\n00:00:33.810 --> 00:00:38.270\nWe saw several different ways we could\ngo about initializing those drives and\n\n14\n00:00:38.270 --> 00:00:39.830\ngetting them ready for use.\n\n15\n00:00:39.830 --> 00:00:43.460\nBut then, we still haven't created\nany partitions or any volumes, and\n\n16\n00:00:43.460 --> 00:00:44.420\nthat's what we're going to do now.\n\n17\n00:00:44.420 --> 00:00:46.870\nSo now that we've got all\nthose drives ready to go,\n\n18\n00:00:46.870 --> 00:00:49.460\nwe gotta get them ready to use, right?\n\n19\n00:00:49.460 --> 00:00:53.690\nRemember when we initialized the drive\nwe chose our partitioning style?\n\n20\n00:00:53.690 --> 00:00:56.860\nOr our partitioning scheme,\ndepending on who you ask.\n\n21\n00:00:56.860 --> 00:01:00.500\nAnd that just decided whether we're gonna\ndo MBR, that master boot record, or\n\n22\n00:01:00.500 --> 00:01:02.760\nGPT, that GUI partition table.\n\n23\n00:01:02.760 --> 00:01:05.630\nThat tells us how we're gonna go\nabout laying out those partitions.\n\n24\n00:01:05.630 --> 00:01:09.880\nAnd really more than anything, how\nthe hard drive keeps track of them, right?\n\n25\n00:01:09.880 --> 00:01:12.530\nBecause with the MBR you get\nthat little partitioning table,\n\n26\n00:01:12.530 --> 00:01:16.280\nwith the GPT it's got\nan array that it uses.\n\n27\n00:01:16.280 --> 00:01:18.400\nSo it's a little slight difference\nin the background there,\n\n28\n00:01:18.400 --> 00:01:21.170\nplus we don't have the same\nlimitations with MBR.\n\n29\n00:01:21.170 --> 00:01:24.070\nBut once we've got them,\nwe then have to go back and\n\n30\n00:01:24.070 --> 00:01:28.410\ncreate our partitions and our volumes,\nso that's what we're going to do here.\n\n31\n00:01:28.410 --> 00:01:31.410\nWe do have to talk about\ndifferent types of disks, and\n\n32\n00:01:31.410 --> 00:01:34.950\nit's a little confusing because I\nknow it's not a type of a disk.\n\n33\n00:01:34.950 --> 00:01:36.250\nYou go and you buy a hard drive,\n\n34\n00:01:36.250 --> 00:01:39.650\nyou put it in your computer,\nyou choose your partitioning scheme, but\n\n35\n00:01:39.650 --> 00:01:43.940\nonce it's in there we do have one other\nthing we can switch back and forth, and\n\n36\n00:01:43.940 --> 00:01:47.530\nthat's whether it's a basic disk or\nwhether it's a dynamic disk.\n\n37\n00:01:47.530 --> 00:01:51.830\nAnd this is a Microsoft thing and it was\nreally developed to help get around some\n\n38\n00:01:51.830 --> 00:01:56.510\nof the limitations that we had\nwith those normal MBR based disks.\n\n39\n00:01:56.510 --> 00:02:02.880\nWe were limited to like,\nthrough the software, you\n\n40\n00:02:02.880 --> 00:02:07.200\ncouldn't create partitions that expanded\nacross more than one physical drive.\n\n41\n00:02:07.200 --> 00:02:12.210\nYou couldn't create any type of\nfault tolerant volumes in there.\n\n42\n00:02:12.210 --> 00:02:16.210\nIf we take a basic disk,\nwhich is what all drives start out as, and\n\n43\n00:02:16.210 --> 00:02:20.090\nwe convert it into dynamic,\nwe get these new possibilities, right?\n\n44\n00:02:20.090 --> 00:02:23.270\nWe get the ability to create\nwhat we call span volumes,\n\n45\n00:02:23.270 --> 00:02:26.380\nwhere we span the data\nacross more than one drive.\n\n46\n00:02:26.380 --> 00:02:29.880\nWe can do mirrored volumes,\nstriped volumes,\n\n47\n00:02:29.880 --> 00:02:34.470\nraid five, all kinds of cool things\nthat we can do with these dynamic disks.\n\n48\n00:02:34.470 --> 00:02:38.440\nAnd it's simply a matter of\nright-clicking on it and choosing dynamic.\n\n49\n00:02:38.440 --> 00:02:42.780\nOr you can convert it\nusing disk part as well.\n\n50\n00:02:42.780 --> 00:02:45.260\nIn fact, now Windows,\nwe'll convert it for you.\n\n51\n00:02:45.260 --> 00:02:49.260\nIf you try to create, it used to be,\nif you didn't convert it first,\n\n52\n00:02:49.260 --> 00:02:55.010\nyou wouldn't even see the options to\ncreate something like a mirrored volume.\n\n53\n00:02:55.010 --> 00:02:58.900\nNow you'll see the option even if it's\na basic disk, you will see the option to\n\n54\n00:02:58.900 --> 00:03:01.680\ncreate it, and it's just gonna\nconvert it in the background.\n\n55\n00:03:01.680 --> 00:03:05.190\nIt's gonna say, hey dummy, you can't\ncreate a mirrored volume on basic disk.\n\n56\n00:03:05.190 --> 00:03:06.850\nYou want me to convert it for you?\n\n57\n00:03:06.850 --> 00:03:08.000\nAnd it takes care of it for me.\n\n58\n00:03:08.000 --> 00:03:09.210\nSo it kind of helps us out.\n\n59\n00:03:09.210 --> 00:03:11.135\n>> I love how an operating\nsystem insults me and\n\n60\n00:03:11.135 --> 00:03:13.065\nlets me know that I'm doing\nthings that are wrong!\n\n61\n00:03:13.065 --> 00:03:16.010\n>> [LAUGH]\n>> It happens with, Mike is right.\n\n62\n00:03:16.010 --> 00:03:20.130\nIt's gonna do a lot of steps\nthat we tend to forget.\n\n63\n00:03:20.130 --> 00:03:22.910\nIt is a nice feature that\nMicrosoft says hey you know what,\n\n64\n00:03:22.910 --> 00:03:26.510\nif you want this type of disk, I'm not\ngonna make you memorize everything,\n\n65\n00:03:26.510 --> 00:03:28.460\nor you're a busy man, we understand that.\n\n66\n00:03:28.460 --> 00:03:32.720\nYou got things to do, servers to attend\nto, so when if you wanna change that from\n\n67\n00:03:32.720 --> 00:03:36.180\na basic disk to a dynamic disk or\nuse some sort of span volume and say,\n\n68\n00:03:36.180 --> 00:03:39.910\nyou know what, I got that for you, I'll go\nahead and convert that to a dynamic disk.\n\n69\n00:03:39.910 --> 00:03:42.450\nBecause that is an important\nthing you need to know.\n\n70\n00:03:42.450 --> 00:03:46.000\nIf you're on a test and\nthey're asking you about spanned volumes,\n\n71\n00:03:46.000 --> 00:03:48.680\nstriped volumes, things of that nature,\nyou gotta remember,\n\n72\n00:03:48.680 --> 00:03:52.600\nI gotta have my stuff on a dynamic style\ndisk or that stuff is not gonna happen.\n\n73\n00:03:52.600 --> 00:03:56.570\nThat basic disk is just there for\njust those reasons, basic functionality.\n\n74\n00:03:56.570 --> 00:03:58.570\n>> That's right, and\nthe big thing with the dynamic disk,\n\n75\n00:03:58.570 --> 00:04:03.170\nthe reason we're able to create this\nnew style volumes with dynamic disk.\n\n76\n00:04:03.170 --> 00:04:06.560\nCuz with basic disks,\nthat disk only knows about itself.\n\n77\n00:04:06.560 --> 00:04:09.500\nEach disk is very\nindependent from each other.\n\n78\n00:04:09.500 --> 00:04:11.650\nWhen you convert them to dynamic,\n\n79\n00:04:11.650 --> 00:04:15.160\nyour computer keeps track of what's\ncalled a dynamic disk group.\n\n80\n00:04:15.160 --> 00:04:18.380\nAnd you add the other\ndynamic disks to that group.\n\n81\n00:04:18.380 --> 00:04:21.340\nAnd so now they're treated\nmore like a group, and so\n\n82\n00:04:21.340 --> 00:04:24.300\nall of a sudden I can have a volume\nthat goes across more than one drive,\n\n83\n00:04:24.300 --> 00:04:27.280\nbecause they know about each other,\nlike a little happy disk family.\n\n84\n00:04:27.280 --> 00:04:32.490\nAll right, so let's first take a look at,\nI'm gonna use Diskpart to create one.\n\n85\n00:04:32.490 --> 00:04:37.410\nWe saw Diskpart in a previous episode,\nas far as how to initialize the drive, and\n\n86\n00:04:37.410 --> 00:04:41.060\nhow to pick my partitioning style and\nmy partitioning scheme.\n\n87\n00:04:41.060 --> 00:04:44.230\nNow, let's take a look at\nactually creating a partition.\n\n88\n00:04:44.230 --> 00:04:47.870\nSo if we take a look at my screen here,\nI've got my command prompt window open.\n\n89\n00:04:47.870 --> 00:04:50.720\nAnd I'm gonna type in,\nDiskpart, and hit enter, and\n\n90\n00:04:50.720 --> 00:04:52.760\nthat brings me to my Diskpart prompt.\n\n91\n00:04:52.760 --> 00:04:56.580\nAnd just like before, I need to make\nsure I'm working with the right drive.\n\n92\n00:04:56.580 --> 00:05:00.500\nSo I do a list disk, and\nI can see all the drives I have available.\n\n93\n00:05:00.500 --> 00:05:01.940\nAnd I have to select the one I want.\n\n94\n00:05:01.940 --> 00:05:03.520\nSo I'm gonna do a select.\n\n95\n00:05:03.520 --> 00:05:09.060\nDisk one, and if I do another list disk\njust to verify, I'll see that disk\n\n96\n00:05:09.060 --> 00:05:12.770\none has an asterisk next to it, indicates\nthat it's the current active disk.\n\n97\n00:05:12.770 --> 00:05:16.290\nCuz remember with diskpart you don't\nspecify the drive in every command.\n\n98\n00:05:16.290 --> 00:05:18.720\nIt's whatever drive you have selected.\n\n99\n00:05:18.720 --> 00:05:20.590\nAny command you type is\nfired against that drive.\n\n100\n00:05:20.590 --> 00:05:24.570\nSo, very important that you pay attention\nto which drive is the current drive with\n\n101\n00:05:24.570 --> 00:05:25.860\nfocus.\n\n102\n00:05:25.860 --> 00:05:31.420\nNow that I've got that highlighted or\nselected there, I'm going to do create\n\n103\n00:05:32.500 --> 00:05:37.280\npartition primary, and\nto make this go a little bit faster,\n\n104\n00:05:37.280 --> 00:05:42.480\nI'm going to limit the size and say size\nequals 2048, those are in megabytes.\n\n105\n00:05:42.480 --> 00:05:44.340\nShould give me about\na two gigabyte partition.\n\n106\n00:05:44.340 --> 00:05:45.730\nI'll go ahead and hit enter.\n\n107\n00:05:46.870 --> 00:05:49.580\nAnd it says succeed and\ncreated the specified partition.\n\n108\n00:05:49.580 --> 00:05:53.360\nBut remember this isn't the GUI, so\nwe do have to remember to do each step.\n\n109\n00:05:53.360 --> 00:05:55.090\nLike when we go through the wizard and\n\n110\n00:05:55.090 --> 00:05:57.920\nI'll show you that in a little bit,\nit kind of includes everything.\n\n111\n00:05:57.920 --> 00:05:59.660\nWhen you're doing it\nfrom the command prompt,\n\n112\n00:05:59.660 --> 00:06:01.710\nyou've gotta do each step individually.\n\n113\n00:06:01.710 --> 00:06:05.950\nSo that created that partition and now I\ncan do what's called a list partition,\n\n114\n00:06:05.950 --> 00:06:06.870\nif I could spell that right.\n\n115\n00:06:06.870 --> 00:06:11.750\nAnd that will show me the partitions\non the currently selected drive.\n\n116\n00:06:11.750 --> 00:06:14.120\nThere's one, the one that I just created.\n\n117\n00:06:14.120 --> 00:06:15.490\nSo there it is, partition one.\n\n118\n00:06:15.490 --> 00:06:18.566\nAnd notice that it's already selected,\nI could select it or\n\n119\n00:06:18.566 --> 00:06:22.160\nif there is more than one I would need\nto select the appropriate partition.\n\n120\n00:06:22.160 --> 00:06:25.240\nIt's the same thing, select partition one.\n\n121\n00:06:25.240 --> 00:06:30.370\nAnd it tells me now that's the active\neven though it was already selected.\n\n122\n00:06:30.370 --> 00:06:33.200\nGood habit to get into to\nverify which one is selected,\n\n123\n00:06:33.200 --> 00:06:37.290\ncuz I don't want to format or\nwrite over the wrong partition, right?\n\n124\n00:06:37.290 --> 00:06:41.070\nSo once that's selected,\nit's simply format.\n\n125\n00:06:41.070 --> 00:06:47.010\nAnd then FS equals, file system equals\nNTFS is what I'm gonna use, right?\n\n126\n00:06:47.010 --> 00:06:50.300\nAnd then I'm also gonna do a quick format\ncuz I don't want this to take too long.\n\n127\n00:06:53.800 --> 00:06:55.930\nAnd there we go, we did a quick format.\n\n128\n00:06:55.930 --> 00:06:58.720\nAnd the last thing is, cuz at this\npoint you might think okay great,\n\n129\n00:06:58.720 --> 00:06:59.960\nI'm done, right?\n\n130\n00:06:59.960 --> 00:07:05.510\nWell if I go over here and open up Windows\nExplorer, notice that I don't see a drive.\n\n131\n00:07:06.580 --> 00:07:08.250\nThere's no drive there.\n\n132\n00:07:08.250 --> 00:07:12.880\nAnd that's because I haven't\ngiven it a drive letter yet.\n\n133\n00:07:12.880 --> 00:07:16.270\nWithout a drive letter, Windows doesn't\nknow how to access that partition.\n\n134\n00:07:16.270 --> 00:07:17.780\nSo, that's simply a sign.\n\n135\n00:07:17.780 --> 00:07:25.170\nAnd then the letter equals and then\nwhatever letter you wanted to give it.\n\n136\n00:07:25.170 --> 00:07:26.540\nI'll call it a P.\n\n137\n00:07:30.270 --> 00:07:36.070\nAnd now, if I go take a look at\nWindows Explorer, there's my P colon.\n\n138\n00:07:36.070 --> 00:07:41.390\nAnd I'll be able to create new folders or\nwhatever I need to do on that volume.\n\n139\n00:07:41.390 --> 00:07:44.840\nSo simple enough, you know Diskpart,\nit is command line so\n\n140\n00:07:44.840 --> 00:07:46.900\nI could script it if I wanted to.\n\n141\n00:07:46.900 --> 00:07:48.405\nOne advantage of using Diskpart.\n\n142\n00:07:49.540 --> 00:07:50.420\nAll right, so that's one way.\n\n143\n00:07:50.420 --> 00:07:52.859\nThe next way I wanna show\nyou is with PowerShell.\n\n144\n00:07:52.859 --> 00:07:56.368\nAnd we've seen this already,\nif you watched the previous episode I had\n\n145\n00:07:56.368 --> 00:07:59.130\na script That was doing\nsomething very similar to this.\n\n146\n00:07:59.130 --> 00:08:02.690\nCommands are almost the same as disk part.\n\n147\n00:08:02.690 --> 00:08:05.762\nIt's gonna be get-disk\ninstead of list-disk.\n\n148\n00:08:05.762 --> 00:08:09.586\n[SOUND] And\nthis should return a list of the drives\n\n149\n00:08:09.586 --> 00:08:13.899\nthat I have available in this machine,\neventually.\n\n150\n00:08:13.899 --> 00:08:17.657\nThere we go, and\nremember it doesn't sort it, so\n\n151\n00:08:17.657 --> 00:08:21.773\nif I wanted to sort it,\nit's gonna be sort-object and\n\n152\n00:08:21.773 --> 00:08:26.980\nI'll sort it by number and I get\nthe same list there sorted by number.\n\n153\n00:08:27.990 --> 00:08:29.750\nAll right, and for\nthat one, let's see Daniel.\n\n154\n00:08:29.750 --> 00:08:32.000\nI think I used the one for that last one.\n\n155\n00:08:32.000 --> 00:08:35.520\nSo, let's do the number,\nI could use one again.\n\n156\n00:08:36.750 --> 00:08:42.810\nLet's do,\nit's just gonna be new-partition,\n\n157\n00:08:42.810 --> 00:08:45.240\nI always have trouble typing that for\nsome reason.\n\n158\n00:08:45.240 --> 00:08:45.790\n>> It's a funny word.\n\n159\n00:08:47.030 --> 00:08:48.360\n>> Now my keyboard is locked up on me.\n\n160\n00:08:48.360 --> 00:08:53.067\nGive me one second,\nlet that thing, there it goes.\n\n161\n00:08:56.817 --> 00:08:57.705\nThere we go.\n\n162\n00:08:57.705 --> 00:09:01.795\nNew partition, and\nthen the command is -DiskNumber.\n\n163\n00:09:01.795 --> 00:09:03.745\nAll right?\nDifferent ways you can identify the disk.\n\n164\n00:09:03.745 --> 00:09:05.940\nAnd I'm gonna go with\nDiskNumber 2 this time.\n\n165\n00:09:05.940 --> 00:09:13.105\nAnd I'll do a -Size, and I'll do another,\nlet's do this one, 4 gigabytes.\n\n166\n00:09:13.105 --> 00:09:15.855\nAnd this one, you can actually\nspecify instead of megabytes,\n\n167\n00:09:15.855 --> 00:09:17.570\nyou can do gigabytes there.\n\n168\n00:09:17.570 --> 00:09:22.230\nAnd then a -DriveLetter.\n\n169\n00:09:22.230 --> 00:09:25.071\nAnd we'll do M, and\nwe'll do N for this one.\n\n170\n00:09:26.853 --> 00:09:29.600\nAll right.\n\n171\n00:09:29.600 --> 00:09:30.250\nAnd there we go.\n\n172\n00:09:30.250 --> 00:09:33.410\nI have my new partition,\nbut again same thing,\n\n173\n00:09:33.410 --> 00:09:39.270\nit's created that partition but\nit doesn't have a file system yet.\n\n174\n00:09:39.270 --> 00:09:43.638\nSo the next command is\ngonna be Format-Volume.\n\n175\n00:09:43.638 --> 00:09:51.910\nSo format-volume-driveletter and\nwhat do we call that one?\n\n176\n00:09:51.910 --> 00:09:54.615\nAnd we'll do a -filesystem.\n\n177\n00:09:56.740 --> 00:10:01.700\nAnd I'll do good old NTFS and then warns\n\n178\n00:10:01.700 --> 00:10:06.960\nme it's gonna wipe anything that's on\nthat if I'm formatting, and I'll say yes.\n\n179\n00:10:06.960 --> 00:10:07.960\n>> That's a good warning.\n\n180\n00:10:07.960 --> 00:10:09.410\n>> It is a very important warning.\n\n181\n00:10:09.410 --> 00:10:13.770\n>> Really wanna make sure that you don't\nformat over the wrong partition or\n\n182\n00:10:13.770 --> 00:10:16.810\npartition with data on it that\nyou aren't willing to lose.\n\n183\n00:10:16.810 --> 00:10:19.780\nMake sure that when you are doing these\nthings you're messing around with\n\n184\n00:10:19.780 --> 00:10:23.040\nformatting drives, messing with\npartitions, things like that, that\n\n185\n00:10:23.040 --> 00:10:27.210\nyou have a good backup if there is any\ndata on the drive that you are utilizing.\n\n186\n00:10:27.210 --> 00:10:31.030\nSo just a word of warning, we don't want\nyou to lose any data, we wanna make sure\n\n187\n00:10:31.030 --> 00:10:35.030\nyou have good backups, and\nthat nothing gets lost from that point.\n\n188\n00:10:35.030 --> 00:10:35.670\n>> And there we go.\n\n189\n00:10:35.670 --> 00:10:38.867\nThere's N: and at this point, I can\ncome in here and I can make new folders.\n\n190\n00:10:38.867 --> 00:10:40.693\nWhatever I need to do.\n\n191\n00:10:40.693 --> 00:10:43.215\nAll right, so\nthat's a couple of ways and again,\n\n192\n00:10:43.215 --> 00:10:45.870\nPowerShell being scriptable\nthat is handy as well.\n\n193\n00:10:45.870 --> 00:10:48.698\nNow, for the rest of these I'm just\ngonna do it in disk management.\n\n194\n00:10:48.698 --> 00:10:51.560\nA lot of these can be done through\nPowerShell or through DiskPart,\n\n195\n00:10:51.560 --> 00:10:53.257\ndepending on what you are trying to do.\n\n196\n00:10:53.257 --> 00:10:58.021\nBut since you now know the basics of how\nto do that, I'm gonna stick with the GUI.\n\n197\n00:10:58.021 --> 00:11:01.287\nThe one nice thing about doing it in\nthe GUI is you get this graphical\n\n198\n00:11:01.287 --> 00:11:05.273\nrepresentation of the drives down here,\nso you can really see what's going on.\n\n199\n00:11:05.273 --> 00:11:08.174\nWhen you're working with the command\nprompt and you're just assigning letters,\n\n200\n00:11:08.174 --> 00:11:09.470\nsometimes it's hard to keep track.\n\n201\n00:11:09.470 --> 00:11:12.300\nAnd I'm getting ready to create\na whole bunch of volumes in here.\n\n202\n00:11:12.300 --> 00:11:14.620\nSo I wanna make sure they\nknows exactly what I'm doing.\n\n203\n00:11:15.840 --> 00:11:19.860\nAll right, so Disk Management here,\nwhich is part of computer management.\n\n204\n00:11:19.860 --> 00:11:22.518\nThe first thing I'll do is I'm\njust gonna make a simple volume so\n\n205\n00:11:22.518 --> 00:11:25.600\njust like I did from this part,\njust like I did from PowerShell.\n\n206\n00:11:25.600 --> 00:11:30.540\nI'm gonna right click on some an allocated\nspace and choose new simple volume.\n\n207\n00:11:30.540 --> 00:11:33.740\nIt's gonna launch my simple volume wizard,\nwhere I can click Next.\n\n208\n00:11:33.740 --> 00:11:38.480\nAnd then, I'm gonna give it a size and\nwe'll this gonna be in megabytes, so\n\n209\n00:11:38.480 --> 00:11:39.320\nI'll do 2048.\n\n210\n00:11:39.320 --> 00:11:42.940\nI can give it a drive letter.\n\n211\n00:11:42.940 --> 00:11:45.920\nI'll just leave it on E:.\n\n212\n00:11:45.920 --> 00:11:49.599\nAnd I'm gonna wipe out the label and\ndo a quick format and click Next.\n\n213\n00:11:51.250 --> 00:11:54.770\nAnd I should show you,\nyou can pick your file system from here.\n\n214\n00:11:54.770 --> 00:11:56.290\nQuick format is nice.\n\n215\n00:11:56.290 --> 00:11:59.260\nRemember, if you don't have any data,\nif it's a brand new drive,\n\n216\n00:11:59.260 --> 00:12:03.640\nquick format works great,\ncuz you're really not wiping any data.\n\n217\n00:12:03.640 --> 00:12:05.530\nYou're not writing ones or\nzeroes to the drive.\n\n218\n00:12:05.530 --> 00:12:08.800\nYou're just erasing, in this case,\nthe MBR, the Master Boot Record.\n\n219\n00:12:08.800 --> 00:12:10.460\nThat partition table.\n\n220\n00:12:10.460 --> 00:12:13.660\nThere's no data on there anyway,\nso I'm not worried about it.\n\n221\n00:12:13.660 --> 00:12:16.420\nIn a secure environment,\nif you are reusing a drive,\n\n222\n00:12:16.420 --> 00:12:20.760\nyou might wanna do the full format so\nit goes through and wipes that data.\n\n223\n00:12:20.760 --> 00:12:23.830\nI'll click finish, and it'll whir and\ngrind for just a second.\n\n224\n00:12:23.830 --> 00:12:28.930\nAnd then it will give me my nice,\nnew, simple volume.\n\n225\n00:12:28.930 --> 00:12:29.880\nSo easy enough.\n\n226\n00:12:29.880 --> 00:12:34.040\nNow, cool thing about these simple volumes\non these basic disk, I can extend them.\n\n227\n00:12:34.040 --> 00:12:37.911\nLike I chose two gigabytes for the size,\nand now my coming to me and saying,\n\n228\n00:12:37.911 --> 00:12:40.345\nhey, that two gigabytes is enough for\nthe manager or\n\n229\n00:12:40.345 --> 00:12:44.150\nthe server says that partition is\nnot big enough, I need more space.\n\n230\n00:12:44.150 --> 00:12:47.520\nI don't have to try to delete it,\nback it all up, delete every create and\n\n231\n00:12:47.520 --> 00:12:49.930\nmake it bigger,\nI can actually stretch it out.\n\n232\n00:12:49.930 --> 00:12:54.900\nI can right click on this guy,\nand I can choose Extend Volume.\n\n233\n00:12:54.900 --> 00:12:58.680\nI'll click Next, and it just ask me\nhow much space I wanna extend it by.\n\n234\n00:12:58.680 --> 00:13:01.320\nIt gives me the whole 56 gigabytes.\n\n235\n00:13:01.320 --> 00:13:03.550\nSo, I could take it all\nthe way out to the end.\n\n236\n00:13:03.550 --> 00:13:04.680\nFor time sake though,\n\n237\n00:13:04.680 --> 00:13:11.020\nI'll just add another two gigabytes\nhere and I'll click Next and Finish.\n\n238\n00:13:11.020 --> 00:13:13.342\nAnd all of a sudden I have\na four gigabyte partition.\n\n239\n00:13:13.342 --> 00:13:14.050\nAll right?\n\n240\n00:13:14.050 --> 00:13:15.900\nSo, easy enough and\nyou can shrink it as well.\n\n241\n00:13:15.900 --> 00:13:19.540\nOn NTFS, you can shrink a volume.\n\n242\n00:13:19.540 --> 00:13:23.540\nSo, if I decided that was too big I can\ncome back here, and I can right click and\n\n243\n00:13:23.540 --> 00:13:26.740\nchoose Shrink, and\nhow much space do I wanna shrink it by?\n\n244\n00:13:26.740 --> 00:13:29.000\nLet's say I wanna take\noff one of those gigs.\n\n245\n00:13:30.470 --> 00:13:33.460\nI'll click Shrink, and\nit'll allow me to shrink it.\n\n246\n00:13:33.460 --> 00:13:36.850\nThe only limitation of the shrinking,\nyou won't delete any data.\n\n247\n00:13:36.850 --> 00:13:39.450\nSo if you have a four\ngigabyte partition and\n\n248\n00:13:39.450 --> 00:13:42.180\nyou got three gigabytes\nof data in there already.\n\n249\n00:13:42.180 --> 00:13:43.610\nYou can't shrink it two gigabytes.\n\n250\n00:13:43.610 --> 00:13:48.480\nIt will not lose data, or it won't delete\ndata to shrink it or any immovable files.\n\n251\n00:13:48.480 --> 00:13:52.584\nSo if there's any type of, like page file\non that drive or anything like that,\n\n252\n00:13:52.584 --> 00:13:56.084\nif it can't move it, it won't be\nable to shrink past that either.\n\n253\n00:13:56.084 --> 00:13:59.758\nSo the shrinking is sometimes limited but\nit is a nice little feature though.\n\n254\n00:13:59.758 --> 00:14:03.095\n>> Kind of a built in security measure\nto make sure that you don't write over\n\n255\n00:14:03.095 --> 00:14:03.650\nyour data.\n\n256\n00:14:03.650 --> 00:14:06.010\nIt's just saying if you've\ngot some free space and\n\n257\n00:14:06.010 --> 00:14:09.060\nyou've found that this is too much, I'm\ngonna allocate that for something else.\n\n258\n00:14:09.060 --> 00:14:11.350\nMaybe you need to partition\nthat free space off.\n\n259\n00:14:11.350 --> 00:14:14.120\nYou can go ahead and shrink this\ndrive down to only what you need.\n\n260\n00:14:14.120 --> 00:14:16.790\nAnd you can have the rest for\nwhatever else you need that for.\n\n261\n00:14:16.790 --> 00:14:18.340\n>> That's exactly right.\n\n262\n00:14:18.340 --> 00:14:21.410\nNow, this next thing I wanna\nshow you is a span volume.\n\n263\n00:14:21.410 --> 00:14:23.700\nAnd then Daniel was kind\nenough to pull up a drawing.\n\n264\n00:14:23.700 --> 00:14:26.200\nSo, let me grab that real quick.\n\n265\n00:14:26.200 --> 00:14:26.990\nA span volume.\n\n266\n00:14:26.990 --> 00:14:28.870\nYou saw me extend that volume.\n\n267\n00:14:28.870 --> 00:14:34.900\nBut the space allocated to that volume\nwas on a single physical disk, all right?\n\n268\n00:14:34.900 --> 00:14:37.620\nWith basic disks, that's all I get.\n\n269\n00:14:37.620 --> 00:14:41.360\nAnd a spanned volume is simply\nan extended volume, but\n\n270\n00:14:41.360 --> 00:14:45.650\nnow we're gonna take space for\nmore than one physical hard drive.\n\n271\n00:14:45.650 --> 00:14:49.470\nSo I'm gonna extend it beyond\nthe limits of that first drive and\n\n272\n00:14:49.470 --> 00:14:51.580\nonto another hard drive.\n\n273\n00:14:51.580 --> 00:14:55.510\nSo you can see here he's got a hard\ndrive 1, he's got a partition,\n\n274\n00:14:55.510 --> 00:15:00.510\nand he's spanned that out\nonto hard drive to over here.\n\n275\n00:15:00.510 --> 00:15:01.727\nSo let's see what that looks like.\n\n276\n00:15:01.727 --> 00:15:07.900\nNow remember, a spanned volume is\na property of a dynamic disk, all right?\n\n277\n00:15:07.900 --> 00:15:08.990\nBecause I have to know right,\n\n278\n00:15:08.990 --> 00:15:13.510\nremember when I said in the beginning,\nbasic disks only know about themselves, so\n\n279\n00:15:13.510 --> 00:15:18.240\nI can't make a volume that takes free\nspace from more than one physical disk.\n\n280\n00:15:18.240 --> 00:15:21.240\nAn extended volume is using\nspace from more than one drive.\n\n281\n00:15:21.240 --> 00:15:23.640\nTherefore, it's gonna have\nto be a dynamic disk.\n\n282\n00:15:23.640 --> 00:15:25.710\nNow, I could go ahead and convert these.\n\n283\n00:15:25.710 --> 00:15:27.160\nI could right click on my drive.\n\n284\n00:15:27.160 --> 00:15:28.410\nNot the volume, right?\n\n285\n00:15:28.410 --> 00:15:29.880\nNot the volumes.\n\n286\n00:15:29.880 --> 00:15:31.670\nNot the unallocated space.\n\n287\n00:15:31.670 --> 00:15:32.410\nThe drive itself.\n\n288\n00:15:32.410 --> 00:15:36.964\nThis is a property of the entire\nhard drive and I could choose,\n\n289\n00:15:36.964 --> 00:15:38.547\nConvert to Dynamic.\n\n290\n00:15:38.547 --> 00:15:42.070\nAll right?\nI could do that on both of these drives\n\n291\n00:15:42.070 --> 00:15:44.890\nand then I would be able\nto create my span volume.\n\n292\n00:15:44.890 --> 00:15:46.670\nOr, I could just go ahead and create it.\n\n293\n00:15:46.670 --> 00:15:48.083\nRight?\nThis is something I think,\n\n294\n00:15:48.083 --> 00:15:51.712\nI wanna say it was 2008 that started this,\nbut now it does it for you.\n\n295\n00:15:51.712 --> 00:15:54.314\nSo you notice I have all of my options.\n\n296\n00:15:54.314 --> 00:15:58.010\nAnd I'll choose New Spanned Volume,\nall right?\n\n297\n00:15:58.010 --> 00:16:01.896\nAnd I'll click Next on my wizard and\nI'm gonna grab just for\n\n298\n00:16:01.896 --> 00:16:05.080\na time, well no I'll go ahead and\nleave it.\n\n299\n00:16:05.080 --> 00:16:10.560\nLet's say I need a 65\ngigabyte partition all right?\n\n300\n00:16:10.560 --> 00:16:15.786\nBut I've only got 55 gigabytes of\nan allocated space on disk one so\n\n301\n00:16:15.786 --> 00:16:18.545\nI'm gonna grab disk two and add it.\n\n302\n00:16:18.545 --> 00:16:23.570\nAnd then for disk two, I'm gonna get\nanother 10 gigabytes, all right?\n\n303\n00:16:23.570 --> 00:16:28.306\nSo it should give me a total of\nabout 65 gigabytes in size, right?\n\n304\n00:16:28.306 --> 00:16:29.466\nSo notice,\n\n305\n00:16:29.466 --> 00:16:34.320\nwe spanned volumes, I can choose different\namounts of data from each drive or\n\n306\n00:16:34.320 --> 00:16:38.240\ndifferent amounts of space from each\ndrive, it doesn't have to be the same.\n\n307\n00:16:38.240 --> 00:16:42.370\nSo I'm getting 55 from one, I'm getting\nten from the other, I'll go ahead and\n\n308\n00:16:42.370 --> 00:16:46.020\nclick Next, I'll assign a drive letter,\nF, I'll click Next.\n\n309\n00:16:47.100 --> 00:16:48.830\nAnd you know me, I don't like my volumes.\n\n310\n00:16:48.830 --> 00:16:50.860\nWe'll do a quick format cuz\nthat's gonna be a big one.\n\n311\n00:16:51.990 --> 00:16:53.500\nWe'll click Finish and\n\n312\n00:16:53.500 --> 00:16:57.690\nnotice what it tells me, hey, you can't\ndo a spanned volume on a basic disc,\n\n313\n00:16:57.690 --> 00:17:01.440\nit's going to have to be a dynamic,\nhow about I convert them for you?\n\n314\n00:17:01.440 --> 00:17:04.680\nSure, thank you Microsoft,\ngo ahead and do that for me.\n\n315\n00:17:04.680 --> 00:17:06.770\nAnd, if you watch,\nthen you see that one flip to dynamic,\n\n316\n00:17:06.770 --> 00:17:09.720\nthis one stills says basic,\nnow, it says dynamic.\n\n317\n00:17:09.720 --> 00:17:14.020\nAnd once it converts them to dynamic,\nit should be able to create that volume.\n\n318\n00:17:14.020 --> 00:17:18.560\nYou'll also notice my partitions\nchanged colors, they were dark blue,\n\n319\n00:17:18.560 --> 00:17:19.800\nnow they're a gold.\n\n320\n00:17:19.800 --> 00:17:21.310\nThat's because on Dynamic Disk,\n\n321\n00:17:21.310 --> 00:17:25.780\nyou don't have partitions,\nyou have volumes, semantics, right?\n\n322\n00:17:25.780 --> 00:17:30.690\nSix of one, half dozen of another,\nbut technically on a basic disk,\n\n323\n00:17:30.690 --> 00:17:34.530\nyou create primary partitions,\nextended partitions, and\n\n324\n00:17:34.530 --> 00:17:36.960\nlogical drives within\nthe extended partition.\n\n325\n00:17:36.960 --> 00:17:40.880\nOn dynamic disk you create volumes,\nnot partitions and\n\n326\n00:17:40.880 --> 00:17:44.640\na volume can be a simple volume,\nwhich is just like a primary partition.\n\n327\n00:17:44.640 --> 00:17:46.150\nYou can create a spanned volume,\n\n328\n00:17:46.150 --> 00:17:50.520\nyou can create a mirrored volume,\na strive volume and a RAID-5 volume.\n\n329\n00:17:50.520 --> 00:17:51.760\nAnd there you go, I have my new F:.\n\n330\n00:17:51.760 --> 00:17:57.930\nNow as far as Windows is concerned,\nyou notice it's taken up space from two\n\n331\n00:17:57.930 --> 00:18:03.180\ndifferent drives, but in File Explorer I\ndon't see two different F:s,\n\n332\n00:18:03.180 --> 00:18:07.810\nit's just a single drive and\nI can come in here and write on that disk.\n\n333\n00:18:09.190 --> 00:18:12.400\nAll right, now, Daniel,\nI have a question for you here.\n\n334\n00:18:12.400 --> 00:18:16.050\nYou know the spanned volume so\ngreat, I was able to add space to it,\n\n335\n00:18:16.050 --> 00:18:18.660\ncan you see any downsides of\ndoing something like this?\n\n336\n00:18:18.660 --> 00:18:22.360\n>> Yeah, I'm starting to see where\nthis is probably only good for\n\n337\n00:18:22.360 --> 00:18:27.250\ncertain applications,\nbecause I'm thinking what happens if\n\n338\n00:18:27.250 --> 00:18:29.170\nI loose one of those drives,\nwhat happens to my data?\n\n339\n00:18:29.170 --> 00:18:29.760\n>> Okay.\n\n340\n00:18:29.760 --> 00:18:32.710\n>> Is it there, is it broken,\nis it, can I repair it?\n\n341\n00:18:32.710 --> 00:18:33.350\nProbably not.\n\n342\n00:18:33.350 --> 00:18:34.660\n>> It's gone forever.\n\n343\n00:18:34.660 --> 00:18:38.940\nThat's the problem with spanned volumes\nis when I start writing data to this,\n\n344\n00:18:38.940 --> 00:18:41.240\nit's gonna write it one part at a time.\n\n345\n00:18:41.240 --> 00:18:46.000\nIt's not a stripe, this isn't RAID, it's\ngonna fill up this 55 gigabytes worth of\n\n346\n00:18:46.000 --> 00:18:48.905\ndata here and\nthen once it runs out of space there,\n\n347\n00:18:48.905 --> 00:18:53.405\nit's going to move on, and starting\nwriting to this 10 gigabytes over here.\n\n348\n00:18:53.405 --> 00:18:55.855\nIf I run out, I can extend this again,\n\n349\n00:18:55.855 --> 00:18:58.415\nI can extend this on to\nany of these other drives.\n\n350\n00:18:58.415 --> 00:19:02.825\nIn fact,\nup to 32 disks I can span this across,\n\n351\n00:19:02.825 --> 00:19:07.870\nup to 32 drives, and it fills it\nsequentially, it doesn't stripe it.\n\n352\n00:19:07.870 --> 00:19:10.300\nThe problem is there\nis no fault tolerance,\n\n353\n00:19:10.300 --> 00:19:14.310\nif you lose either one of these drives,\nI lose all the data.\n\n354\n00:19:14.310 --> 00:19:17.500\nIf I lose disc two,\nI don't lose just the data from F: here,\n\n355\n00:19:17.500 --> 00:19:22.170\nI lose all of F:,it's gone I\nwon't be able to get, I mean,\n\n356\n00:19:22.170 --> 00:19:26.070\nof course with certain software and just\nsoftware ended up data recovery maybe, but\n\n357\n00:19:26.070 --> 00:19:28.250\ndon't want to spend that kinda money.\n\n358\n00:19:28.250 --> 00:19:31.760\nSo this is something that's typically\nused as a stop gap measure.\n\n359\n00:19:31.760 --> 00:19:36.520\nI had one drive in there, 55 gigabytes,\nI need some more space right now.\n\n360\n00:19:36.520 --> 00:19:39.310\nI've got an application that's\nhard coded to look for F:,\n\n361\n00:19:39.310 --> 00:19:44.230\nso put another drive in there and\ncreate G: or E:, is not gonna help me,\n\n362\n00:19:44.230 --> 00:19:47.950\nI need F: to be bigger, but\nthere's no more space on that drive.\n\n363\n00:19:47.950 --> 00:19:51.470\nI can pop in another drive,\nspan that volume onto that drive, but\n\n364\n00:19:51.470 --> 00:19:52.980\nonly temporarily.\n\n365\n00:19:52.980 --> 00:19:56.480\nOne I've got that done,\nI'm going to immediately start looking for\n\n366\n00:19:56.480 --> 00:19:57.620\nbigger drives.\n\n367\n00:19:57.620 --> 00:20:01.130\nAnd I'll move that data to something\nwith some fault tolerance,\n\n368\n00:20:01.130 --> 00:20:06.230\ncuz really what I just did was\ncreate additional points of failure.\n\n369\n00:20:06.230 --> 00:20:10.250\nUsually a volumes on one drive and\nif I loose that drive, I loose my data, so\n\n370\n00:20:10.250 --> 00:20:11.710\nI get a single point of failure.\n\n371\n00:20:11.710 --> 00:20:15.480\nWell now, I've got two points of failure,\neither one of those drives fails, and\n\n372\n00:20:15.480 --> 00:20:18.250\nI loose all my data so\nthis is not something you wanna do.\n\n373\n00:20:18.250 --> 00:20:21.940\nThere's no performance benefit,\nit's just a convenience thing, right?\n\n374\n00:20:21.940 --> 00:20:26.510\n>> It seems like you're exponentially\nincreasing the amount of, or\n\n375\n00:20:26.510 --> 00:20:29.070\nthe chance that you will lose a drive.\n\n376\n00:20:29.070 --> 00:20:34.060\nAnd that's not something you wanna\nreally practice as a practice,\n\n377\n00:20:34.060 --> 00:20:36.360\nwhen it comes to a production environment.\n\n378\n00:20:36.360 --> 00:20:37.390\nYou lose one of those drives, and\n\n379\n00:20:37.390 --> 00:20:40.650\nyou've increased your chance of losing\none, well then that data's gone and\n\n380\n00:20:40.650 --> 00:20:44.430\nyou are sitting in somebody's seat\ngetting a dress-down, right, Mike?\n\n381\n00:20:44.430 --> 00:20:49.600\n>> That might be what we call an RGE,\na resume generating event.\n\n382\n00:20:49.600 --> 00:20:53.750\nWho thought span volumes would be a good\nidea for our mission critical data?\n\n383\n00:20:53.750 --> 00:20:54.260\nAnd then, you did?\n\n384\n00:20:54.260 --> 00:20:57.302\n>> And\nthen you have to sadly raise your hand.\n\n385\n00:20:57.302 --> 00:20:59.364\n[LAUGH]\n>> Good luck with you new job.\n\n386\n00:20:59.364 --> 00:21:03.890\n[LAUGH] All right, so that was a simple\nvolume, we created an extended volume.\n\n387\n00:21:03.890 --> 00:21:08.310\nAgain, you saw it converted to\na dynamic disk in order to do that.\n\n388\n00:21:08.310 --> 00:21:09.370\nNext thing I want to create for\n\n389\n00:21:09.370 --> 00:21:14.970\nyou is a striped volume,\nnow striping is RAID, right?\n\n390\n00:21:14.970 --> 00:21:17.870\nAnd let me go back over, I know Daniel\nhas got me some nice drawings here.\n\n391\n00:21:17.870 --> 00:21:22.810\nIn fact let's start with, yeah,\nwe'll do our stripe volume with RAID zero.\n\n392\n00:21:22.810 --> 00:21:25.480\nGuys should be familiar with this from,\nI think, A+,\n\n393\n00:21:25.480 --> 00:21:28.420\nI think you guys cover\nRAID levels pretty well.\n\n394\n00:21:28.420 --> 00:21:32.830\nSo just a quick rehash,\nremember RAID zero is striping.\n\n395\n00:21:32.830 --> 00:21:35.010\nAnd striping gives us\nreally good performance.\n\n396\n00:21:35.010 --> 00:21:37.210\nAs you can see,\nDanny's got this great drawing.\n\n397\n00:21:37.210 --> 00:21:41.150\nAnd this is your data file,\nexclamation point.\n\n398\n00:21:41.150 --> 00:21:46.680\nSo, what's happening is it's writing\nthat data across both physical disks,\n\n399\n00:21:46.680 --> 00:21:49.630\nalternating between the two.\n\n400\n00:21:49.630 --> 00:21:51.780\nSo you do get to add up the total space.\n\n401\n00:21:51.780 --> 00:21:57.090\nIf he's got two 250 gigabyte drives and\nI make one stripe across that\n\n402\n00:21:57.090 --> 00:22:01.764\nthen I could have a total of 500\ngigabytes of actual usable space,\n\n403\n00:22:01.764 --> 00:22:04.270\nstripes gives you great performance.\n\n404\n00:22:04.270 --> 00:22:08.110\nYou actually have two read-write\nheads working at the same time.\n\n405\n00:22:08.110 --> 00:22:13.170\nSo imagine it'd be like If we put it in\nhuman terms, we split the workload, right?\n\n406\n00:22:13.170 --> 00:22:14.600\nI'm writing the first\nhalf of the sentence,\n\n407\n00:22:14.600 --> 00:22:16.330\nDaniel's writing the second\nhalf of the sentence.\n\n408\n00:22:16.330 --> 00:22:20.190\nI only had to write half, he wrote half,\nwe did it at the same time.\n\n409\n00:22:20.190 --> 00:22:23.050\nSo we're done writing the sentence\nin half the time, right?\n\n410\n00:22:23.050 --> 00:22:24.250\nThat's what's happening here.\n\n411\n00:22:24.250 --> 00:22:27.060\nEach read write head is\nwriting its part of the data.\n\n412\n00:22:27.060 --> 00:22:30.960\nSo you get a good write performance boost,\nnow, read wise,\n\n413\n00:22:30.960 --> 00:22:33.790\nyou can get a little bit of a boost there,\nbecause again,\n\n414\n00:22:33.790 --> 00:22:38.020\neach read write head is doing it on its\nown and you can create a stripe volume.\n\n415\n00:22:38.020 --> 00:22:41.020\nAnd as far as software\nbased through Windows,\n\n416\n00:22:41.020 --> 00:22:43.670\nI can stripe across up to 32 drives for\nthat.\n\n417\n00:22:43.670 --> 00:22:46.750\nBut there is a downside to a stripe too,\nright?\n\n418\n00:22:46.750 --> 00:22:50.250\n>> Yeah, the downside of the stripe is\nalmost kinda like the same problem we had\n\n419\n00:22:50.250 --> 00:22:54.120\nwith the span volume, is if you lose\na disk, you've lost all the data,\n\n420\n00:22:54.120 --> 00:22:54.690\nit is done.\n\n421\n00:22:54.690 --> 00:22:57.250\nCuz you've got to remember,\nif Mike wrote half a sentence and\n\n422\n00:22:57.250 --> 00:23:01.340\nI wrote the other half, and I destroy\nmy writing, you have no sentence.\n\n423\n00:23:01.340 --> 00:23:05.720\nYou have just words on a page, for\nMike, it is no data at that point.\n\n424\n00:23:05.720 --> 00:23:10.170\nSo if we lose a disk, we lose our data,\nthat is the biggest problem with that.\n\n425\n00:23:10.170 --> 00:23:12.740\nNow, the performance\nincrease might be all right,\n\n426\n00:23:12.740 --> 00:23:15.490\nit just depends on the application\nthat you're using it in.\n\n427\n00:23:15.490 --> 00:23:17.690\nGotta make sure that if\nyou're gonna use RAID zero,\n\n428\n00:23:17.690 --> 00:23:21.480\nthat the application is\nspecifically is okay for that.\n\n429\n00:23:21.480 --> 00:23:25.290\nBecause, again if one of those drives goes\nand then we have the whole problem with\n\n430\n00:23:25.290 --> 00:23:28.220\nexponentially increasing our\nchances of losing a drive.\n\n431\n00:23:28.220 --> 00:23:30.860\nWhen you add another drive to\nthe equation, making it two,\n\n432\n00:23:30.860 --> 00:23:33.422\nyou're twice as likely at likely\nto lose on of those drives.\n\n433\n00:23:33.422 --> 00:23:35.760\n>> Yeah, cuz we all know it's not\nif the hard drive is gonna fail,\n\n434\n00:23:35.760 --> 00:23:37.760\nit's when is the hard drive gonna fail?\n\n435\n00:23:37.760 --> 00:23:41.233\nSo you don't want to increase\nyour points of failure.\n\n436\n00:23:41.233 --> 00:23:44.164\nBut where I see this used in\na production environment,\n\n437\n00:23:44.164 --> 00:23:48.323\nobviously not with mission critical data,\nreally not with much data at all.\n\n438\n00:23:48.323 --> 00:23:52.244\nUnless you've got some other way\nof making sure that data is safe.\n\n439\n00:23:52.244 --> 00:23:54.334\nOn some bigger servers what I've seen,\n\n440\n00:23:54.334 --> 00:23:58.211\ndo like High performance servers I need\nevery bit of performance I can get.\n\n441\n00:23:58.211 --> 00:24:00.739\nI'll take two of the drives\nthat are in that server,\n\n442\n00:24:00.739 --> 00:24:04.930\nand I will stripe them together,\nand I'll use that for my page file.\n\n443\n00:24:04.930 --> 00:24:07.870\nBecause the page file, that performance\nthat I'm gonna get from read and\n\n444\n00:24:07.870 --> 00:24:10.570\nwrite, that's gonna make my system fly.\n\n445\n00:24:10.570 --> 00:24:11.610\nAnd it's temporary data.\n\n446\n00:24:11.610 --> 00:24:12.290\nIt's page file.\n\n447\n00:24:12.290 --> 00:24:13.950\nIt's temporary storage.\n\n448\n00:24:13.950 --> 00:24:16.470\nSo, if I ever lose one of those drives,\nwho cares?\n\n449\n00:24:16.470 --> 00:24:17.740\nI go pop another drive in there.\n\n450\n00:24:17.740 --> 00:24:19.970\nI rebuild the page file and\nI'm good to go.\n\n451\n00:24:19.970 --> 00:24:23.352\nSo, don't put anything on\nthere that you wanna keep.\n\n452\n00:24:23.352 --> 00:24:26.390\n[LAUGH] But creating it is pretty\nstraightforward through here.\n\n453\n00:24:26.390 --> 00:24:29.760\nI'll just right click and I'll say New\nStripe Volume they call it striped volume.\n\n454\n00:24:29.760 --> 00:24:31.560\nThey don't call it raid zero.\n\n455\n00:24:31.560 --> 00:24:37.070\nI'll click next, and I'll add a couple of\ndrives that I've got some free space on.\n\n456\n00:24:37.070 --> 00:24:38.830\nI'll use two for now.\n\n457\n00:24:38.830 --> 00:24:43.210\nAnd I'll choose to make this one, I don't\nknow, let's say we go with four gigs.\n\n458\n00:24:44.820 --> 00:24:49.280\nSo what that's going to do, it's going to\ntake a chunk of four gigabytes from each\n\n459\n00:24:49.280 --> 00:24:54.790\none of those drives for a total of about\neight gigabytes, all usable space.\n\n460\n00:24:54.790 --> 00:24:57.240\nSo, and you can't choose a different size.\n\n461\n00:24:57.240 --> 00:25:02.910\nIf I change one of these, notice it\nchanges it on the other one as well.\n\n462\n00:25:02.910 --> 00:25:07.270\nThe stripes have to be\nthe same size on both or\n\n463\n00:25:07.270 --> 00:25:09.450\nall the drives that\nare involved in that stripe.\n\n464\n00:25:09.450 --> 00:25:13.610\nNow I don't have to use all the space, but\nlet's say I had a drive let's say I was\n\n465\n00:25:13.610 --> 00:25:19.320\nmaking a 10 GB stripe,\nand I chose three drives.\n\n466\n00:25:19.320 --> 00:25:21.590\nOne of those drives only had 8 GBs.\n\n467\n00:25:21.590 --> 00:25:24.070\nThe other two had plenty of space.\n\n468\n00:25:24.070 --> 00:25:27.410\nIt will only let me create\na stripe 8 GBs or smaller.\n\n469\n00:25:27.410 --> 00:25:30.640\nSo the smallest amount of free space\nis gonna be the biggest stripe\n\n470\n00:25:30.640 --> 00:25:31.410\nthat you can create.\n\n471\n00:25:32.520 --> 00:25:36.900\nJust to make things faster though,\nI'm gonna drop that back down to 40 96.\n\n472\n00:25:36.900 --> 00:25:38.690\nI'll click Next.\n\n473\n00:25:38.690 --> 00:25:40.380\nI'll give a G colon that's fine.\n\n474\n00:25:40.380 --> 00:25:41.780\nI'll click Next.\n\n475\n00:25:41.780 --> 00:25:45.180\nI'll call it Striped, just so\nthat we can see it in Windows Explorer.\n\n476\n00:25:47.260 --> 00:25:48.450\nWe'll do a quick format.\n\n477\n00:25:50.760 --> 00:25:54.020\nAnd notice, it's gonna curve one of them's\ndynamic, the other one's still basic.\n\n478\n00:25:54.020 --> 00:25:57.440\nAnd I cannot create a stripe on a basic so\nit's gonna convert it for me.\n\n479\n00:25:57.440 --> 00:25:59.260\nWe'll see that happen over there.\n\n480\n00:25:59.260 --> 00:26:02.780\nThen it will go ahead and\ncreate my stripe, right.\n\n481\n00:26:02.780 --> 00:26:04.730\nSo again, great performance.\n\n482\n00:26:04.730 --> 00:26:07.070\nNo fault tolerance on that stripe.\n\n483\n00:26:07.070 --> 00:26:09.900\nThe next one I want to do, while it's\nfinishing that up, there it goes,\n\n484\n00:26:09.900 --> 00:26:12.070\nwe're good to go, same thing.\n\n485\n00:26:12.070 --> 00:26:16.570\nG is only going to show up\nonce in file explorer right.\n\n486\n00:26:16.570 --> 00:26:18.510\nThere's my striped volume right there.\n\n487\n00:26:18.510 --> 00:26:21.080\nI can come in, I can write to it.\n\n488\n00:26:21.080 --> 00:26:23.120\nWe are good to go, right.\n\n489\n00:26:24.170 --> 00:26:27.480\nAnd it should be about 8 GB in size.\n\n490\n00:26:27.480 --> 00:26:32.040\nAll right, the next one I wanna do for\nyou is just a mirrored volume.\n\n491\n00:26:32.040 --> 00:26:35.190\nSo a mirrored volume also\nrequires dynamic disks.\n\n492\n00:26:35.190 --> 00:26:39.750\nI'm gonna right-click\nNew Mirrored Volume And I'll click next.\n\n493\n00:26:39.750 --> 00:26:41.980\nAnd I'll take another drive.\n\n494\n00:26:43.850 --> 00:26:45.850\nAnd I'm gonna choose my space.\n\n495\n00:26:45.850 --> 00:26:47.920\nI'll do 2 GB for this one.\n\n496\n00:26:49.880 --> 00:26:50.650\nSame thing here.\n\n497\n00:26:50.650 --> 00:26:52.880\nI've gotta have the same and\nlet's talk about it.\n\n498\n00:26:52.880 --> 00:26:54.030\nI really didn't talk about that yet.\n\n499\n00:26:54.030 --> 00:26:56.410\nMirrored kinda the name implies it all,\nright?\n\n500\n00:26:56.410 --> 00:27:00.280\nI'm gonna have an exact copy,\na mirrored copy of that data.\n\n501\n00:27:00.280 --> 00:27:02.860\nAnd this one Daniel,\ndoes give me the fault tolerance.\n\n502\n00:27:02.860 --> 00:27:03.820\n>> Oh yeah, that's right.\n\n503\n00:27:03.820 --> 00:27:04.700\nI mean think about it.\n\n504\n00:27:04.700 --> 00:27:07.880\nI'm making a duplicate of\nthe disk that I'm writing to,\n\n505\n00:27:07.880 --> 00:27:09.660\nthat's my main production disk.\n\n506\n00:27:09.660 --> 00:27:12.510\nSo what happens if my\nproduction disk goes out?\n\n507\n00:27:12.510 --> 00:27:13.510\nNot a big deal.\n\n508\n00:27:13.510 --> 00:27:16.930\nI've got that mirrored volume there,\nand it just takes right over.\n\n509\n00:27:16.930 --> 00:27:20.620\nYou say okay we'll start reading from them\nto make that my main production volume.\n\n510\n00:27:20.620 --> 00:27:22.800\nThen I'm going to buy a new hard drive,\nI'm gonna slap it in.\n\n511\n00:27:22.800 --> 00:27:26.820\nI'm going to recreate that mirror and\nlet it become the fault tolerant one.\n\n512\n00:27:26.820 --> 00:27:29.980\nSo any time you lose a disk,\nnow you're good to go.\n\n513\n00:27:29.980 --> 00:27:31.450\nYou don't have to worry about it\n\n514\n00:27:31.450 --> 00:27:33.680\nbecause you've got that that\nfault tolerance any time.\n\n515\n00:27:33.680 --> 00:27:37.390\nIt's unlikely that both of those disks\nare gonna go out at the same time.\n\n516\n00:27:37.390 --> 00:27:40.200\nIt can happen, but it's a lot less likely.\n\n517\n00:27:40.200 --> 00:27:41.098\n>> The odds are in our favor, right?\n\n518\n00:27:41.098 --> 00:27:42.692\n>> Yes, yes.\n\n519\n00:27:42.692 --> 00:27:44.040\n>> All right so\nI'll go ahead and create that.\n\n520\n00:27:44.040 --> 00:27:46.730\nNow notice again I can not\nchoose different sizes.\n\n521\n00:27:46.730 --> 00:27:49.560\nBut notice this time\nwhereas with my stripe.\n\n522\n00:27:49.560 --> 00:27:53.243\nIn fact let's do the same size,\nwhat did I do, 4096 over there,\n\n523\n00:27:53.243 --> 00:27:54.587\nwhich gave me the 8 GBs.\n\n524\n00:27:54.587 --> 00:27:57.471\nOn this one, I'm gonna do 4096.\n\n525\n00:27:57.471 --> 00:27:59.150\nI've got two drives in there.\n\n526\n00:27:59.150 --> 00:28:01.922\nNotice my total volume size is only 4096.\n\n527\n00:28:01.922 --> 00:28:06.440\nRight, If I'm taking two drives, four\ngigs from each, shouldn't I have eight?\n\n528\n00:28:06.440 --> 00:28:08.570\n>> Oh, well, not with a mirrored volume.\n\n529\n00:28:08.570 --> 00:28:11.560\nWith a mirrored volume, gotta remember\nyou're copying to the other drive.\n\n530\n00:28:11.560 --> 00:28:13.035\nIt's not used for production.\n\n531\n00:28:13.035 --> 00:28:17.992\nIt's merely just there to receive\nthe files and keep a copy of them, so\n\n532\n00:28:17.992 --> 00:28:20.682\nyou're not using it as true storage,\n\n533\n00:28:20.682 --> 00:28:24.565\nonly one drive is actually\nbeing utilized by the user.\n\n534\n00:28:24.565 --> 00:28:28.478\nSo it doesn't really see that as extra\nstorage because it has to write everything\n\n535\n00:28:28.478 --> 00:28:32.060\nfrom one drive to the other, they're\ntaking up the same amount of space.\n\n536\n00:28:32.060 --> 00:28:35.010\n>> They're duplicates, exactly, so\nif it has four gigabytes of data here,\n\n537\n00:28:35.010 --> 00:28:37.080\nthe exact same data is going\nto be written over here.\n\n538\n00:28:37.080 --> 00:28:42.720\nSo a downside of a mirror is I\nam reducing my usable space,\n\n539\n00:28:42.720 --> 00:28:47.400\nbut I'm picking up the full tolerance\nwhich is probably worth the loss of space.\n\n540\n00:28:47.400 --> 00:28:48.930\n>> Oh yeah.\n>> Especially today with as\n\n541\n00:28:48.930 --> 00:28:49.570\ncheap as that is.\n\n542\n00:28:49.570 --> 00:28:53.620\nNow if I go back into file explorer,\nit doesn't look any different.\n\n543\n00:28:53.620 --> 00:28:55.220\nIt just looks like H:.\n\n544\n00:28:55.220 --> 00:28:57.810\nI can write data to it no big deal.\n\n545\n00:28:57.810 --> 00:29:02.500\nWe're good to go, but\nif I lose one of these drives,\n\n546\n00:29:02.500 --> 00:29:05.950\nI don't lose all my data all right.\n\n547\n00:29:05.950 --> 00:29:07.950\nCuz I've got the exact copy.\n\n548\n00:29:07.950 --> 00:29:11.680\nThe last one I wanna do for\nyou here is gonna be a RAID 5,\n\n549\n00:29:11.680 --> 00:29:16.580\nand a RAID 5 is striping,\nlike RAID 0, with Parity, and\n\n550\n00:29:16.580 --> 00:29:18.638\nI know, Daniel,\nyou had a drawing for us didn't you?\n\n551\n00:29:18.638 --> 00:29:19.990\nI'll flip this.\n\n552\n00:29:19.990 --> 00:29:21.560\nSo, there was RAID 1.\n\n553\n00:29:21.560 --> 00:29:23.110\nAgain, that was the mirrored volume,\n\n554\n00:29:23.110 --> 00:29:26.630\nwhere you've got the exact same\ndata written to both drives.\n\n555\n00:29:26.630 --> 00:29:29.550\nYou do get a little bit of a re-boost.\n\n556\n00:29:29.550 --> 00:29:31.770\nBecause I can have two\nrewrite heads reading.\n\n557\n00:29:31.770 --> 00:29:32.500\nIt's the same data.\n\n558\n00:29:32.500 --> 00:29:34.390\nSo, they can kind a share\nthe workload there.\n\n559\n00:29:34.390 --> 00:29:38.690\nBut the writing part,\nI get no performance benefit,\n\n560\n00:29:38.690 --> 00:29:41.040\ncuz each one's having to\nwrite the exact same thing.\n\n561\n00:29:41.040 --> 00:29:45.490\nSo, there's no, and so\nRAID 1 you don't do for performance.\n\n562\n00:29:45.490 --> 00:29:50.130\nYou don't choose this type of volume if\nyou're looking for a performance benefit.\n\n563\n00:29:50.130 --> 00:29:52.520\nThis is strictly for fault tolerance.\n\n564\n00:29:52.520 --> 00:29:59.210\nRAID 5 on the other hand can give us fault\ntolerance as well as a performance boost.\n\n565\n00:29:59.210 --> 00:30:03.150\nRAID 5 is gonna stripe the data across,\njust like RAID 0.\n\n566\n00:30:03.150 --> 00:30:05.380\nbut every so\noften it's going to generate a parody bid.\n\n567\n00:30:05.380 --> 00:30:09.720\nSo you can see this and\nthen parody bid, your parody bid,\n\n568\n00:30:09.720 --> 00:30:12.830\ndata parody bid, file exclamation point.\n\n569\n00:30:12.830 --> 00:30:18.560\nAlright, so it's slipping parody and\nparody allows it to figure out,\n\n570\n00:30:18.560 --> 00:30:24.470\nit's a way for it to keep track of\nwhat's on the other stripe all right.\n\n571\n00:30:24.470 --> 00:30:31.670\nSo if I lose this drive, what's really\ncool is the system can still function.\n\n572\n00:30:31.670 --> 00:30:35.407\nI can still read the data, because\nusing the parody that's left here and\n\n573\n00:30:35.407 --> 00:30:39.399\nthe parody that's left here, it can\nfigure out what's the missing data is.\n\n574\n00:30:39.399 --> 00:30:42.625\nAlbeit slow, its performance is going\nto be a nightmare at this point.\n\n575\n00:30:42.625 --> 00:30:46.884\nBut it allows me to limp along until I\ncan slip another disk back in there and\n\n576\n00:30:46.884 --> 00:30:51.349\nthen it can actually rebuild the data on\na missing disk from the parity that's\n\n577\n00:30:51.349 --> 00:30:53.150\nleft on the other drives.\n\n578\n00:30:53.150 --> 00:30:55.530\nIt's really pretty impressive technology.\n\n579\n00:30:55.530 --> 00:30:57.740\nNow you notice down here he's got 250,\n250, 250 and\n\n580\n00:30:57.740 --> 00:31:02.720\nthat adds to 500 now Daniel\nmy math is not the best but.\n\n581\n00:31:02.720 --> 00:31:03.650\nThat doesn't add up to me.\n\n582\n00:31:03.650 --> 00:31:08.010\n>> Yeah where I went to school, those\nthree 250s should've added up to 750, but\n\n583\n00:31:08.010 --> 00:31:08.750\nnot with RAID 5.\n\n584\n00:31:08.750 --> 00:31:13.150\nThe reason it doesn't add up to 750\nwith RAID 5 is that Parity bit right?\n\n585\n00:31:13.150 --> 00:31:17.220\nIt's like a holding place for data, and\nyou have to take a little chunk out of\n\n586\n00:31:17.220 --> 00:31:22.800\neach drive to build one, and that's gonna\nreduce your overall size of your drive.\n\n587\n00:31:22.800 --> 00:31:27.690\nSo basically you're using up one third\nof the amount of drives that you have\n\n588\n00:31:27.690 --> 00:31:28.705\nif you have three drives.\n\n589\n00:31:28.705 --> 00:31:31.590\nAt five drives it'd be one fifth and\nso on so forth and\n\n590\n00:31:31.590 --> 00:31:36.500\nthat's the data that you're gonna have to\nremove from the actual volume itself so\n\n591\n00:31:36.500 --> 00:31:40.690\nthat you know exactly how much data\nyou can actually have to put stuff on.\n\n592\n00:31:40.690 --> 00:31:44.320\n>> It's like when we do the RAID 0,\neach piece has to be equal in size,\n\n593\n00:31:44.320 --> 00:31:45.164\nI can't take.\n\n594\n00:31:45.164 --> 00:31:48.766\nSo much from one drive and then more from\nanother drive and less from another drive.\n\n595\n00:31:48.766 --> 00:31:50.003\nThey all have to be equal so\n\n596\n00:31:50.003 --> 00:31:53.109\nit's actually kinda cool the fact\nthat the more drives you have.\n\n597\n00:31:53.109 --> 00:31:55.379\nThe less space you're giving up for\nparity, right.\n\n598\n00:31:55.379 --> 00:31:56.692\nBecause, as Daniel said,\n\n599\n00:31:56.692 --> 00:32:00.120\nif you got three drives it's\none-third is being used for parity.\n\n600\n00:32:00.120 --> 00:32:03.590\nIf I've got five drives it's\none-fifth of it is being used, right.\n\n601\n00:32:03.590 --> 00:32:05.350\nSo basically one drive.\n\n602\n00:32:05.350 --> 00:32:10.020\nBut keep that in mind, one drive\ndoesn't hold all the parity, right?\n\n603\n00:32:10.020 --> 00:32:12.580\nThere was a RAID,\nDaniel I can't remember, was it RAID 4?\n\n604\n00:32:12.580 --> 00:32:14.110\nI believe-\n>> Yes, it was RAID 4.\n\n605\n00:32:14.110 --> 00:32:18.090\n>> The parity is same thing as RAID 5,\nbut the parity wasn't spread.\n\n606\n00:32:18.090 --> 00:32:23.040\nThe parity was all on one drive, and\nthat meant if I ever lost that drive,\n\n607\n00:32:23.040 --> 00:32:26.405\nall my parity was gone, so\nRAID 4 didn't get used all that much.\n\n608\n00:32:26.405 --> 00:32:28.415\nRAID 5 spreads that parity out.\n\n609\n00:32:28.415 --> 00:32:29.995\n>> Yeah, they call it distributed parity.\n\n610\n00:32:29.995 --> 00:32:31.315\n>> Distributed parity, there you go.\n\n611\n00:32:31.315 --> 00:32:33.185\nStriping with distributed parity.\n\n612\n00:32:33.185 --> 00:32:34.215\nI like it.\n\n613\n00:32:34.215 --> 00:32:36.745\nAll right and easy enough to\nmake in disk management here.\n\n614\n00:32:36.745 --> 00:32:40.705\nI'm just gonna right click RAID 5 volume.\n\n615\n00:32:40.705 --> 00:32:44.540\nI'll click next and\nI'll add a couple of drives in here.\n\n616\n00:32:44.540 --> 00:32:46.460\n>> Cuz you do need at least three discs,\nright, Mike?\n\n617\n00:32:46.460 --> 00:32:48.080\n>> You do need at least three, exactly.\n\n618\n00:32:48.080 --> 00:32:51.610\nIn fact if we take one out, I don't even\nknow if it'll let me try to create it.\n\n619\n00:32:51.610 --> 00:32:53.050\nYeah.\n>> Yeah, next is gone.\n\n620\n00:32:53.050 --> 00:32:56.410\n>> So you need a minimum\nof three to create this.\n\n621\n00:32:56.410 --> 00:32:58.150\nTwo for all the other ones we created.\n\n622\n00:32:58.150 --> 00:33:01.740\nSpanned, striped, mirrored, two up to 32.\n\n623\n00:33:01.740 --> 00:33:03.630\nRAID 5 is three up to 32.\n\n624\n00:33:03.630 --> 00:33:06.968\nAnd I'll make this one, let's do five.\n\n625\n00:33:06.968 --> 00:33:12.970\nAll right, now this is gonna take\nequal amount of space from each one.\n\n626\n00:33:12.970 --> 00:33:15.310\nI'll click next, give letter i.\n\n627\n00:33:15.310 --> 00:33:18.880\nI'll call this RAID 5.\n\n628\n00:33:18.880 --> 00:33:22.370\nDo a little quick format on there.\n\n629\n00:33:22.370 --> 00:33:25.280\nIt's gonna convert those disks,\ncuz they do have to be dynamic.\n\n630\n00:33:28.930 --> 00:33:31.085\nAnd eventually, I'll have my RAID 5.\n\n631\n00:33:31.085 --> 00:33:34.270\nAnd it's just gonna show up\nas one drive letter in there.\n\n632\n00:33:34.270 --> 00:33:36.160\nI'll be able to write data to it.\n\n633\n00:33:36.160 --> 00:33:38.220\nNow one thing I know we're\ngetting low on time here, Daniel.\n\n634\n00:33:38.220 --> 00:33:41.060\nI was gonna try to pull one of\nthese drives and see what happens.\n\n635\n00:33:41.060 --> 00:33:41.830\nWhat do you think?\n\n636\n00:33:41.830 --> 00:33:42.827\n>> It'll break.\n\n637\n00:33:42.827 --> 00:33:44.180\n[LAUGH]\n>> Let's try it.\n\n638\n00:33:44.180 --> 00:33:44.940\n>> Let's do it.\n\n639\n00:33:44.940 --> 00:33:46.515\nCome on.\n>> And we can rebuild it.\n\n640\n00:33:46.515 --> 00:33:48.610\n>> [LAUGH] So it's almost done.\n\n641\n00:33:48.610 --> 00:33:49.660\nThere we go.\n\n642\n00:33:49.660 --> 00:33:51.690\nI love the little color coding\nthat it gives me in here.\n\n643\n00:33:51.690 --> 00:33:53.980\nLet me get a little RAID 5 volume.\n\n644\n00:33:53.980 --> 00:33:55.960\n>> All right, Mikey.\n\n645\n00:33:55.960 --> 00:33:57.620\nShow them the magic of the RAID.\n\n646\n00:33:57.620 --> 00:33:59.360\n>> All right.\n>> Show them how this\n\n647\n00:33:59.360 --> 00:34:00.930\ncan help us in practicum.\n\n648\n00:34:00.930 --> 00:34:02.900\n>> Yeah.\nAnd it's still formatting here, so\n\n649\n00:34:02.900 --> 00:34:03.980\nlet me give it just a second.\n\n650\n00:34:03.980 --> 00:34:07.970\nIn fact, I'll go ahead and\nmake sure, there we go, resyncing.\n\n651\n00:34:07.970 --> 00:34:09.235\nLet that thing resync real quick.\n\n652\n00:34:09.235 --> 00:34:14.300\n[COUGH] And then, we'll test it out.\n\n653\n00:34:14.300 --> 00:34:15.570\nLet me see if it shows up yet.\n\n654\n00:34:15.570 --> 00:34:16.950\nIt's got the drive letter.\n\n655\n00:34:18.820 --> 00:34:20.637\nIt's gonna get mad if\nI start writing to it.\n\n656\n00:34:24.841 --> 00:34:26.000\nOh, there we go.\n\n657\n00:34:26.000 --> 00:34:26.810\n>> Looks like it's ready to go.\n\n658\n00:34:26.810 --> 00:34:27.670\n>> All right, I like it.\n\n659\n00:34:27.670 --> 00:34:28.890\n>> It's syncing.\n\n660\n00:34:28.890 --> 00:34:31.460\n>> Yeah, does seem to be\ntaking its sweet time there.\n\n661\n00:34:31.460 --> 00:34:36.630\nSo what I'm gonna do is I am going to try\nyanking one of these drives out of here,\n\n662\n00:34:36.630 --> 00:34:37.730\njust see what happens.\n\n663\n00:34:37.730 --> 00:34:39.498\nI know you guys are dying to see it right?\n\n664\n00:34:39.498 --> 00:34:44.680\nUh-oh, I don't know what's gonna happen\nif it's in the middle of resyncing.\n\n665\n00:34:44.680 --> 00:34:45.220\nThat'll be a new one.\n\n666\n00:34:45.220 --> 00:34:46.720\n>> Yeah,\nit probably won't like that very much.\n\n667\n00:34:46.720 --> 00:34:48.580\n>> Yeah, we're gonna say offline.\n\n668\n00:34:48.580 --> 00:34:52.500\n>> And we couldn't guarantee that if\nyou were in a production environment,\n\n669\n00:34:52.500 --> 00:34:53.880\nthat this would actually work.\n\n670\n00:34:53.880 --> 00:34:56.060\nThe data is still trying to build.\n\n671\n00:34:56.060 --> 00:34:59.710\nIt's trying to say,\nmy RAID 5 isn't even in production yet.\n\n672\n00:34:59.710 --> 00:35:03.570\nSo this would normally be something that\nwould happen after it actually was built,\n\n673\n00:35:03.570 --> 00:35:07.340\nthe RAID 5 was secure and stable,\neverything was working fine.\n\n674\n00:35:07.340 --> 00:35:09.970\nAnd then we're gonna\nsimulate a drive going down.\n\n675\n00:35:09.970 --> 00:35:13.150\n>> And there we go.\nSo I took disk two and I set it offline.\n\n676\n00:35:13.150 --> 00:35:15.140\nSo you can see my simple\nvolume just simply failed.\n\n677\n00:35:15.140 --> 00:35:16.600\nRight?\nThere is no redundancy,\n\n678\n00:35:16.600 --> 00:35:20.790\nno fault tolerance there, I lost\nthe drive, the data's not available,\n\n679\n00:35:20.790 --> 00:35:22.030\nmakes sense.\n\n680\n00:35:22.030 --> 00:35:26.740\nMy span volume, that was spanned\nacross two drives, has also failed.\n\n681\n00:35:26.740 --> 00:35:30.780\nEven though only disk 2 has failed,\nI can't get to this part either, right,\n\n682\n00:35:30.780 --> 00:35:32.080\nthe drive letter is gone.\n\n683\n00:35:32.080 --> 00:35:34.010\nIt won't show up on Windows Explorer.\n\n684\n00:35:34.010 --> 00:35:39.720\nMy, what was this one, this was my\nstripe right here, this dark green one.\n\n685\n00:35:39.720 --> 00:35:41.430\nThat one has failed, right.\n\n686\n00:35:41.430 --> 00:35:44.240\nStripe great performance,\nno fault tolerance.\n\n687\n00:35:44.240 --> 00:35:48.760\nMy mirrored, however, just says failed\nredundancy, as well as my RAID.\n\n688\n00:35:48.760 --> 00:35:50.060\nFailed redundancy.\n\n689\n00:35:50.060 --> 00:35:51.340\nBut it doesn't say failed.\n\n690\n00:35:51.340 --> 00:35:54.070\nAnd notice there's still a drive\nletter there on both of those.\n\n691\n00:35:54.070 --> 00:36:00.090\nSo if we go back over to file explorer,\nand\n\n692\n00:36:00.090 --> 00:36:02.840\nwe take a look at my, my mouse has died.\n\n693\n00:36:02.840 --> 00:36:03.840\nLet me pop that out real quick.\n\n694\n00:36:03.840 --> 00:36:05.590\nAll right, there we go.\n\n695\n00:36:05.590 --> 00:36:06.739\nMirrored is still available.\n\n696\n00:36:09.360 --> 00:36:12.190\nThere's that folder\nthat I created earlier.\n\n697\n00:36:12.190 --> 00:36:17.580\nMy RAID 5 is still available and\nthere's that folder I created.\n\n698\n00:36:17.580 --> 00:36:19.130\nSo those guys with that fault tolerance,\n\n699\n00:36:19.130 --> 00:36:21.770\neven though a drive is missing,\neverything is still working.\n\n700\n00:36:21.770 --> 00:36:24.960\nAnd that gives me a chance to replace\nthat drive, rebuild that mirror or\n\n701\n00:36:24.960 --> 00:36:27.550\nrebuild that RAID 5 array and\nkeep that data alive.\n\n702\n00:36:27.550 --> 00:36:28.547\n>> That's right.\nAll right,\n\n703\n00:36:28.547 --> 00:36:30.470\nnow this has been some really good stuff.\n\n704\n00:36:30.470 --> 00:36:33.580\nThis is very practical stuff, and\nthat's what we like to teach you guys,\n\n705\n00:36:33.580 --> 00:36:36.550\nis stuff that not only is gonna\nhelp you pass your exam, but\n\n706\n00:36:36.550 --> 00:36:39.170\nis going to give you that\nreal world experience.\n\n707\n00:36:39.170 --> 00:36:41.440\nThis is how we do things in real life.\n\n708\n00:36:41.440 --> 00:36:43.860\nTry to keep things and\nkeep us out of the weeds.\n\n709\n00:36:43.860 --> 00:36:46.420\nSo wanna do those generating\n\n710\n00:36:46.420 --> 00:36:47.290\nevents for your-\n>> Yes.\n\n711\n00:36:47.290 --> 00:36:48.040\n>> For your resume.\n\n712\n00:36:48.040 --> 00:36:49.080\nThat's a bad idea.\n\n713\n00:36:49.080 --> 00:36:49.670\n>> We don't want those.\n\n714\n00:36:49.670 --> 00:36:52.380\n>> All right, Mikey, well, we've walked\nthese people through a whole lot of stuff.\n\n715\n00:36:52.380 --> 00:36:53.860\nHopefully you learned a lot from this.\n\n716\n00:36:53.860 --> 00:36:57.440\nMake sure you watch this episode over and\nover again if this is something new to you\n\n717\n00:36:57.440 --> 00:37:00.560\nand really burn that info into\nthe brain to get ready for that exam.\n\n718\n00:37:00.560 --> 00:37:03.520\nAlright, so we're gonna go ahead and\nsign off for ITProTV.\n\n719\n00:37:03.520 --> 00:37:07.288\nI've been your host Daniel Lowry and I'm\nMike Rodrick and we'll see you next time.\n\n720\n00:37:07.288 --> 00:37:13.780\n[MUSIC]\n\n",
          "vimeoId": "137253745"
        },
        {
          "description": "In this episode Daniel and Mike take a look at virtual hard drives. Again, they use DiskPart to create and manage virtual hard disks. Mike also uses Disk Management to work with VHDs.",
          "length": "1546",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-3-virtual_hard_disks-082415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-3-virtual_hard_disks-082415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-3-virtual_hard_disks-082415-1-sm.jpg",
          "title": "Virtual Hard Disks",
          "transcript": "WEBVTT\n\n1\n00:00:00.341 --> 00:00:10.266\n[MUSIC]\n\n2\n00:00:10.266 --> 00:00:16.290\nAll right greetings everyone and welcome\nto another fantastic episode of ITProTV.\n\n3\n00:00:16.290 --> 00:00:18.780\nI'm your host Daniel Lowry is Mr.\nMike Rodrick.\n\n4\n00:00:18.780 --> 00:00:19.550\nHow's it going today Mike?\n\n5\n00:00:19.550 --> 00:00:24.410\n>> Oh its going great, I'm excited because\nwe're continuing on with our 7410 series\n\n6\n00:00:24.410 --> 00:00:28.050\nand in this one we're gonna be\nlooking at virtual hard drives.\n\n7\n00:00:28.050 --> 00:00:32.490\nWe spent a lot of time talking about hard\ndrives and putting them in our servers and\n\n8\n00:00:32.490 --> 00:00:35.800\ninitializing those drives and\nmaking all those volumes.\n\n9\n00:00:35.800 --> 00:00:39.530\nBut we would be remiss if we didn't talk\nabout virtual hard drives, because they're\n\n10\n00:00:39.530 --> 00:00:42.650\na big part of what we do today,\nas well as being called out on the exam.\n\n11\n00:00:42.650 --> 00:00:43.282\n>> Oh, yeah, yeah.\n\n12\n00:00:43.282 --> 00:00:45.960\n>> [LAUGH]\n>> Virtualization is just something\n\n13\n00:00:45.960 --> 00:00:49.490\nthat's, it's here, it's happening, so\nget used to it, you better go ahead and\n\n14\n00:00:49.490 --> 00:00:53.080\nget your feet wet, get in the water,\nstart moseying around this thing,\n\n15\n00:00:53.080 --> 00:00:56.440\nbecause it's something that they're\ngonna expect you to know for the exam.\n\n16\n00:00:56.440 --> 00:01:00.830\nAnd it's just something you need to be\nfamiliar with as a tech in real life.\n\n17\n00:01:00.830 --> 00:01:03.850\nYou want to get out there in those jobs\nand be in an enterprise environment,\n\n18\n00:01:03.850 --> 00:01:10.280\nyou gotta know virtualization, it's\npart of our toolbox anymore, right Mike?\n\n19\n00:01:10.280 --> 00:01:13.310\n>> Absolutely, absolutely and\nwe've got a whole set of episodes\n\n20\n00:01:13.310 --> 00:01:17.000\nwhere we're going to talk about\nvirtualization and Hyper-V in particular.\n\n21\n00:01:17.000 --> 00:01:19.215\nSo it's good to go ahead and\nget a look at these VHDs now,\n\n22\n00:01:19.215 --> 00:01:21.868\nthen we'll have a better understanding\nof them when we get there.\n\n23\n00:01:21.868 --> 00:01:26.234\nBecause the cool thing about VHDs is that\nthey're not just used in virtualization\n\n24\n00:01:26.234 --> 00:01:29.588\nanymore, they were developed to\nsupport virtual machines and\n\n25\n00:01:29.588 --> 00:01:33.403\na virtual hard-drive is the hard-drive\nwe use for a virtual machine.\n\n26\n00:01:33.403 --> 00:01:37.270\nBut we can throw a virtual hard-drive\non any machine, we can boot machines to\n\n27\n00:01:37.270 --> 00:01:42.180\nvirtual hard-drives, they're really pretty\ncool, they've got a lot of advantages.\n\n28\n00:01:42.180 --> 00:01:44.740\nSo first let's make sure we understand,\n\n29\n00:01:44.740 --> 00:01:47.332\nwhat the heck does he mean when\nhe says virtual hard drive.\n\n30\n00:01:47.332 --> 00:01:49.520\nAll right, well it's just that,\n\n31\n00:01:49.520 --> 00:01:52.720\nit's a hard drive that's not\nreally a physical thing.\n\n32\n00:01:52.720 --> 00:01:56.800\nWe're going to create a file\non our physical hard drive and\n\n33\n00:01:56.800 --> 00:02:00.280\nwe're going to treat that file\nlike it was a hard drive.\n\n34\n00:02:00.280 --> 00:02:02.430\nI know that's a little mentally twisting,\nright?\n\n35\n00:02:02.430 --> 00:02:05.450\nIf you stop and think about it you're\ngoing to have a physical disc, tat's\n\n36\n00:02:05.450 --> 00:02:09.250\ngoing to be formatted and have a partition\non it, just like any other drive.\n\n37\n00:02:09.250 --> 00:02:12.120\nThen on that partition,\nwe're going to create a file,\n\n38\n00:02:12.120 --> 00:02:15.170\njust like you would a text file,\na Word document.\n\n39\n00:02:15.170 --> 00:02:18.040\nBut, we're going to use\nthe extension vhdx on it.\n\n40\n00:02:18.040 --> 00:02:20.550\nIt's not just a text file, obviously.\n\n41\n00:02:20.550 --> 00:02:25.450\nWe're going to be able to treat\nthat VHD or VHDX as a hard drive.\n\n42\n00:02:25.450 --> 00:02:26.690\nWhat do I mean by that?\n\n43\n00:02:26.690 --> 00:02:29.440\nI mean, we can format it,\nwe can create volumes on it,\n\n44\n00:02:29.440 --> 00:02:32.740\nwe can add file systems to it,\nassign drive letters to it and\n\n45\n00:02:32.740 --> 00:02:35.680\nit'll show up in Windows Explorer\njust like a drive would.\n\n46\n00:02:36.690 --> 00:02:40.125\nWhat's really cool about a virtual\nhard drive is, it's very portable,\n\n47\n00:02:40.125 --> 00:02:43.135\nit's easy to back-up,\nbecause it's just a file.\n\n48\n00:02:43.135 --> 00:02:46.301\nIf I wanna move that virtual hard\ndrive from one machine to another,\n\n49\n00:02:46.301 --> 00:02:48.715\nI just copy it to the USB drive, right?\n\n50\n00:02:48.715 --> 00:02:52.850\nTake it to another machine, copy it on\nthe local file system, attach it and\n\n51\n00:02:52.850 --> 00:02:53.350\nI'm good to go.\n\n52\n00:02:53.350 --> 00:02:58.210\nSo easy to backup, easy to move around,\nvery, very convenient.\n\n53\n00:02:58.210 --> 00:02:59.450\nAll right, so\n\n54\n00:02:59.450 --> 00:03:03.260\nlet's take a look at how we go about\ncreating these virtual hard drives.\n\n55\n00:03:03.260 --> 00:03:06.110\nNow again, when we get into Hyper-V\nwe're gonna see that when you create\n\n56\n00:03:06.110 --> 00:03:10.680\na virtual machine, you typically create\nvirtual hard drives for that machine.\n\n57\n00:03:10.680 --> 00:03:13.210\nAs I said,\nthey're not just using that scenario,\n\n58\n00:03:13.210 --> 00:03:17.230\nso let's see how we make\none outside of Hyper-V.\n\n59\n00:03:17.230 --> 00:03:18.600\nCouple of ways you can do it.\n\n60\n00:03:18.600 --> 00:03:21.480\nFirst way I'm gonna show\nyou is using Diskpart, so\n\n61\n00:03:21.480 --> 00:03:25.630\ngood old command-line If you ever need to\nscript anything, right., command line,\n\n62\n00:03:25.630 --> 00:03:29.350\nor power shell is the way to go,\nso let's talk about that.\n\n63\n00:03:29.350 --> 00:03:32.090\nNow when we create these,\nI've got my computer up here,\n\n64\n00:03:32.090 --> 00:03:34.330\nI've got my command prompt open already.\n\n65\n00:03:34.330 --> 00:03:38.590\nAnother thing I want to talk about before\nI dive in to make these, is when you\n\n66\n00:03:38.590 --> 00:03:43.980\ncreate a virtual hard drive, we can create\neither what's called a fixed-sized disk or\n\n67\n00:03:43.980 --> 00:03:47.480\nwe can create a dynamically\nexpanding disk.\n\n68\n00:03:47.480 --> 00:03:50.590\nAnd a fixed disk takes all of the space,\n\n69\n00:03:50.590 --> 00:03:55.010\nall the space that you assign to that\ndrive is allocated then and there.\n\n70\n00:03:55.010 --> 00:03:59.710\nIn other words, if I create a 10\ngigabyte virtual hard drive,\n\n71\n00:03:59.710 --> 00:04:02.630\nit's gonna claim 10 gigabytes of space.\n\n72\n00:04:02.630 --> 00:04:06.790\nThe file that it generates is\ngoing to be ten gigabytes in size.\n\n73\n00:04:06.790 --> 00:04:10.990\nEven though there's no data on it yet,\nit's basically a blank hard drive,\n\n74\n00:04:10.990 --> 00:04:15.250\nit's still going to look as a 10 gigabyte\nfile on my system, so it goes ahead and\n\n75\n00:04:15.250 --> 00:04:17.170\nclaims all that space.\n\n76\n00:04:17.170 --> 00:04:22.350\nA dynamically expanding virtual hard\ndrive, starts out very teeny tiny,\n\n77\n00:04:22.350 --> 00:04:24.540\njust a couple of megs, all right.\n\n78\n00:04:24.540 --> 00:04:29.000\nEven if I make a 10 gigabyte dynamically\nexpanding virtual hard drive, if I look at\n\n79\n00:04:29.000 --> 00:04:33.310\nfile in my file system, that VHD,\nit's only gonna be a few megs in size.\n\n80\n00:04:33.310 --> 00:04:37.570\nAs I add data to that virtual hard drive,\nit will just expand and\n\n81\n00:04:37.570 --> 00:04:40.870\ngrow as necessary, up to whatever maximum,\n\n82\n00:04:40.870 --> 00:04:45.130\nthe 10 gigabytes, that I allocated,\nthat I specified at the beginning.\n\n83\n00:04:45.130 --> 00:04:48.580\nSo advantages and\ndisadvantages to both, right?\n\n84\n00:04:48.580 --> 00:04:52.034\nFixed means it's going to claim\nit right there, disadvantage,\n\n85\n00:04:52.034 --> 00:04:56.690\nI've got to have that 10 gigabytes\nof space to create that drive.\n\n86\n00:04:56.690 --> 00:05:00.640\nThe advantage though, it never has\nto stop and grow, it's already got\n\n87\n00:05:00.640 --> 00:05:04.450\nall of its space and it's in one\ncontiguous chunk on that hard drive.\n\n88\n00:05:04.450 --> 00:05:08.800\nNo chance of the VHD itself getting\nfragmented, because just like any other\n\n89\n00:05:08.800 --> 00:05:12.780\nfile, it can get fragmented\non the physical disc, right?\n\n90\n00:05:12.780 --> 00:05:16.050\nSo, advantage there,\nit's not gonna become fragmented.\n\n91\n00:05:16.050 --> 00:05:19.000\nIt does take longer to create\nbecause you've gotta go ahead and\n\n92\n00:05:19.000 --> 00:05:21.320\ngrab all that space and format it.\n\n93\n00:05:21.320 --> 00:05:25.910\nDynamically expanding disks,\nadvantages there, quick, easy to make,\n\n94\n00:05:25.910 --> 00:05:27.800\ncuz it doesn't have to grab\nthe space all at once,\n\n95\n00:05:27.800 --> 00:05:31.150\nit just grabs it as it needs it,\nso it doesn't take up much space.\n\n96\n00:05:31.150 --> 00:05:36.450\nIf there's only 200 megs of data in there,\neven though it's a 10 gig drive,\n\n97\n00:05:36.450 --> 00:05:40.160\nit's only taking up 200\nmegabytes of space.\n\n98\n00:05:40.160 --> 00:05:42.790\nDownside is, though, it's gotta grow and\n\n99\n00:05:42.790 --> 00:05:45.680\nsometimes it chooses to grow\nat inopportune times, right?\n\n100\n00:05:45.680 --> 00:05:50.106\nYou're in the middle of doing some\noperation and it runs out of space,\n\n101\n00:05:50.106 --> 00:05:54.997\nit has to stop everything and go grab\nsome more disk space and grow that drive.\n\n102\n00:05:54.997 --> 00:05:57.600\nSo there's a disadvantage\nperformance wise,\n\n103\n00:05:57.600 --> 00:06:00.810\nas well as the fact that\nit might become fragmented.\n\n104\n00:06:00.810 --> 00:06:04.770\nImagine you made this virtual hard drive\nand it took up this much space and\n\n105\n00:06:04.770 --> 00:06:08.120\nthen another file got placed right\nthere next to it on the hard drive.\n\n106\n00:06:08.120 --> 00:06:12.130\nWhen it gets ready to grow, well now it\nhas to move to another section of the hard\n\n107\n00:06:12.130 --> 00:06:16.140\ndrive and grow, so now all of a sudden\nthe VHD itself is fragmented.\n\n108\n00:06:16.140 --> 00:06:21.310\nNot the files on the VHD, but the VHD\nfile itself is in two different pieces or\n\n109\n00:06:21.310 --> 00:06:25.120\nmore on my hard drive, and that's going\nto lead to performance issues, all right?\n\n110\n00:06:25.120 --> 00:06:27.180\nSo disadvantages and advantages both.\n\n111\n00:06:27.180 --> 00:06:30.520\nI would say in the real world, most of\nthe time we used fixed drives for anything\n\n112\n00:06:30.520 --> 00:06:34.670\nwhere we need performance, dynamic for\ntest machines and things like that.\n\n113\n00:06:34.670 --> 00:06:35.540\n>> Yeah, I always say,\n\n114\n00:06:35.540 --> 00:06:38.120\nyou need to know when that hard\ndrive is gonna want to grow.\n\n115\n00:06:38.120 --> 00:06:39.990\nIt makes sure you're at\nan inopportune time,\n\n116\n00:06:39.990 --> 00:06:42.385\nthen you know it's going to want\nto grow on you, right there.\n\n117\n00:06:42.385 --> 00:06:44.090\n>> [LAUGHS] That's exactly\nwhen it's going to do it!\n\n118\n00:06:44.090 --> 00:06:46.900\nEverybody's logging in, or you know,\nbig mail's coming through and-\n\n119\n00:06:46.900 --> 00:06:48.690\n>> Yeah, it has to stop and grow.\n\n120\n00:06:48.690 --> 00:06:49.430\n>> Now it's time.\n\n121\n00:06:49.430 --> 00:06:50.325\n>> Yeah, exactly.\n\n122\n00:06:50.325 --> 00:06:55.120\n>> Okay, so let's see how we do these,\nthe command is relatively straightforward.\n\n123\n00:06:55.120 --> 00:07:00.582\nIt's gonna be create and let's get a\nlittle focus on that command prompt there.\n\n124\n00:07:00.582 --> 00:07:02.530\nCreate vdisk,\n\n125\n00:07:02.530 --> 00:07:06.540\nnow you can do a switch question mark\nlike anything from the command prompt.\n\n126\n00:07:06.540 --> 00:07:11.330\nEvidently it's, oh- [LAUGH] Silly me,\n\n127\n00:07:11.330 --> 00:07:16.510\nthis is a subset of Diskpart, so\nI do need to get inside Diskpart first.\n\n128\n00:07:16.510 --> 00:07:17.070\n>> You meant to do that.\n[LAUGH]\n\n129\n00:07:17.070 --> 00:07:19.870\n>> Yes, it was a learning opportunity,\n\n130\n00:07:19.870 --> 00:07:20.960\na teaching opportunity.\n\n131\n00:07:20.960 --> 00:07:26.600\nSo now that I'm in Diskpart,\nI can do create vdisk and\n\n132\n00:07:26.600 --> 00:07:30.450\nI'll throw a link into the show notes\nwith a good technet page that has\n\n133\n00:07:30.450 --> 00:07:33.510\nall the different options and\nswitches that I can use with this.\n\n134\n00:07:33.510 --> 00:07:38.470\nI'm gonna show you a few of them,\ncreate vdisk file =,\n\n135\n00:07:38.470 --> 00:07:40.730\nand then wherever you\nwanna create that guy.\n\n136\n00:07:40.730 --> 00:07:44.870\nIn fact, let me make a spot\nto create that real quick,\n\n137\n00:07:45.930 --> 00:07:48.590\notherwise it's not gonna\nbe happy with my command.\n\n138\n00:07:49.790 --> 00:07:57.380\nSo I'm just gonna make a folder here for\nmy VHDs, on my C drive, nice and easy.\n\n139\n00:07:57.380 --> 00:08:02.398\nAll right, so\ncreate vdisk file=c:\\vhds Backslash and\n\n140\n00:08:02.398 --> 00:08:08.840\nI'm going to just call this one,\nwe'll just call it test one dot VHD.\n\n141\n00:08:08.840 --> 00:08:14.330\nAnd then I'm going to set the size.\n\n142\n00:08:14.330 --> 00:08:19.121\nIf this is going to be a fixed drive,\nI'm going to do type\n\n143\n00:08:19.121 --> 00:08:23.629\nequals fixed and then size\n\n144\n00:08:25.670 --> 00:08:30.650\nequals, and I'll do something 2048,\nso it doesn't take too long.\n\n145\n00:08:30.650 --> 00:08:31.330\nAnd, I'll hit enter.\n\n146\n00:08:33.610 --> 00:08:35.280\nAnd it didn't like that.\n\n147\n00:08:35.280 --> 00:08:39.580\nCreate VDISK file C: type fixed as equals.\n\n148\n00:08:39.580 --> 00:08:40.670\nOh it's not size.\n\n149\n00:08:40.670 --> 00:08:41.950\nI'm thinking of a different command,\nsorry.\n\n150\n00:08:42.950 --> 00:08:44.000\nIt's maximum.\n\n151\n00:08:46.000 --> 00:08:47.380\nIt's maximum for that one.\n\n152\n00:08:47.380 --> 00:08:50.690\nRemember when you're creating\npartitions with it's size equals.\n\n153\n00:08:50.690 --> 00:08:53.370\nWhen you're working with v disks,\nit's maximum and\n\n154\n00:08:53.370 --> 00:08:55.130\nthat's when you're setting the size there.\n\n155\n00:08:55.130 --> 00:08:58.000\nSo type fix, that means it's going\nto grab all the space it wants,\n\n156\n00:08:58.000 --> 00:09:00.150\n2048, two gigs in size.\n\n157\n00:09:00.150 --> 00:09:01.121\nI should be able to hit enter.\n\n158\n00:09:04.625 --> 00:09:06.120\nAnd it will take it just a second.\n\n159\n00:09:11.289 --> 00:09:13.203\nAnd it will create that VHD.\n\n160\n00:09:17.569 --> 00:09:20.240\nAlmost done, there she goes.\n\n161\n00:09:20.240 --> 00:09:23.710\nAll right, now if I go back and\nlook at File Explorer, and\n\n162\n00:09:23.710 --> 00:09:25.470\nI take a look in that folder.\n\n163\n00:09:27.060 --> 00:09:27.570\nRight?\n\n164\n00:09:27.570 --> 00:09:28.640\nThere is my VHD.\n\n165\n00:09:28.640 --> 00:09:34.260\nAnd notice, the size is two\ngigabytes in size, all right?\n\n166\n00:09:34.260 --> 00:09:37.600\nNow, to create a dynamically expanding,\nit's very similar.\n\n167\n00:09:37.600 --> 00:09:39.870\nIn fact,\nI'm gonna use the same command, here.\n\n168\n00:09:39.870 --> 00:09:41.840\nI'm gonna do test two, all right?\n\n169\n00:09:43.860 --> 00:09:46.310\nAnd for size, type.\n\n170\n00:09:46.310 --> 00:09:49.040\nI'm gonna change that to expandable.\n\n171\n00:09:50.240 --> 00:09:52.090\nWe can make a movie on that,\nthe expandables.\n\n172\n00:09:52.090 --> 00:09:53.465\n>> The expandables, that's right.\n\n173\n00:09:53.465 --> 00:09:55.810\n[LAUGH] Bunch of old hard drives,\ncoming back together.\n\n174\n00:09:55.810 --> 00:09:59.120\n>> I'll go ahead and\nhit enter on that one.\n\n175\n00:09:59.120 --> 00:10:00.750\nAnd notice how fast that was.\n\n176\n00:10:00.750 --> 00:10:02.430\nRight?\nCompared to the first one,\n\n177\n00:10:02.430 --> 00:10:04.120\nI mean it was almost instant.\n\n178\n00:10:04.120 --> 00:10:11.300\nIf we go take a look, there's my test two,\nnotice the size is 12 kilobytes.\n\n179\n00:10:11.300 --> 00:10:15.580\nSo even though it could grow\nup to two gigs in size,\n\n180\n00:10:15.580 --> 00:10:22.000\nit's currently only taking up 12 kilobytes\nof space on my hard drive, which is nice.\n\n181\n00:10:22.000 --> 00:10:25.420\nI use those a lot of times when I'm making\ntest machines and things like that.\n\n182\n00:10:25.420 --> 00:10:30.250\nCuz I'll make it 40 gigs, but\nit starts out as a couple megs,\n\n183\n00:10:30.250 --> 00:10:33.140\nand then as I put data in there\nit might not ever get to 40 gigs,\n\n184\n00:10:33.140 --> 00:10:35.580\nbut just in case I've got it to\nwhere it can grow to that big.\n\n185\n00:10:35.580 --> 00:10:37.421\n>> Oh yea, especially since\nlike on our MacBooks on here,\n\n186\n00:10:37.421 --> 00:10:40.201\nwe have SSD drives in them, but they're\nnot that large, it's only 256 megs, or\n\n187\n00:10:40.201 --> 00:10:42.110\nI'm sorry, gigs, and\nthat can fill up really quickly.\n\n188\n00:10:42.110 --> 00:10:45.074\n>> Two hundred fifty-six megs,\nor I'm sorry, gigs, and\n\n189\n00:10:45.074 --> 00:10:47.130\nthat can fill up really quickly.\n\n190\n00:10:47.130 --> 00:10:50.480\nUsing that dynamically expanding,\nthat's the best way to go,\n\n191\n00:10:50.480 --> 00:10:54.470\nthat way I'm not taking out a chunk of\n40 gigs for this one, 50 gigs for that,\n\n192\n00:10:54.470 --> 00:10:59.220\n20 gigs here, 30 gigs there, and next\nthing I know I've got no drive space left.\n\n193\n00:10:59.220 --> 00:11:00.940\nUsing these dynamically expanding,\n\n194\n00:11:00.940 --> 00:11:05.260\nhelps me have all of the drives I need,\nall of the virtual machines that I need.\n\n195\n00:11:05.260 --> 00:11:08.330\n>> Without taking up my entire hard\ndrive unless I actually needed that.\n\n196\n00:11:08.330 --> 00:11:09.970\n>> That's exactly right.\n\n197\n00:11:09.970 --> 00:11:10.650\nAll right now.\n\n198\n00:11:10.650 --> 00:11:15.710\nThe other thing we can do,\nis we can create a differencing disk.\n\n199\n00:11:15.710 --> 00:11:19.990\nWe'll talk much more about this when we\nget into our virtualization episodes.\n\n200\n00:11:19.990 --> 00:11:25.230\nBut when it comes to VHD's we have\nwhat's called differencing disks and\n\n201\n00:11:25.230 --> 00:11:30.840\nwe use these, they basically keep\ntrack of the changes to a drive.\n\n202\n00:11:30.840 --> 00:11:33.820\nFor example,\nin a test environment I need five servers,\n\n203\n00:11:33.820 --> 00:11:36.910\nI need five two thousand\ntwelve R two servers.\n\n204\n00:11:36.910 --> 00:11:40.280\nWell I go and I take one virtual\nmachine I create a VHD and\n\n205\n00:11:40.280 --> 00:11:42.630\nI install twenty twelve R two on that.\n\n206\n00:11:42.630 --> 00:11:44.210\n>> And now I need four more of those, and\n\n207\n00:11:44.210 --> 00:11:46.370\neach one of those machines is gonna\nbe doing something different.\n\n208\n00:11:46.370 --> 00:11:47.860\nOne's gonna be my DNS server.\n\n209\n00:11:47.860 --> 00:11:51.233\nOne's gonna be my DHTP server, etcetera.\n\n210\n00:11:51.233 --> 00:11:57.450\nInstead of installing Windows Server\n2012 R2 five times, I install it once,\n\n211\n00:11:57.450 --> 00:12:01.830\ncreate that initial VHD and\nI treat that like my parent VHD.\n\n212\n00:12:01.830 --> 00:12:03.970\nAnd then for\nall my other virtual machines,\n\n213\n00:12:03.970 --> 00:12:07.420\nor the other servers that I'm making,\nI create differencing disks.\n\n214\n00:12:07.420 --> 00:12:11.680\nAnd they are basically kind of like\na layer, you've got that parent underneath\n\n215\n00:12:11.680 --> 00:12:14.410\nand then the differencing disk\npoints back to the parent drive.\n\n216\n00:12:14.410 --> 00:12:16.340\nBecause all five servers\nhave 2012 installed.\n\n217\n00:12:18.830 --> 00:12:21.060\nThe differencing disk just\nkeeps track of the changes.\n\n218\n00:12:21.060 --> 00:12:25.010\nWhat's different for\nthat drive versus the parent drive.\n\n219\n00:12:25.010 --> 00:12:28.080\nSo again I could install\nWindows Server 2012 once, and\n\n220\n00:12:28.080 --> 00:12:31.500\nthen create several differencing\ndrives for each one of those servers.\n\n221\n00:12:31.500 --> 00:12:33.920\nOne's DHS, one's DHCP.\n\n222\n00:12:33.920 --> 00:12:37.490\nThat stuff would be stored on\nthe differencing disk itself.\n\n223\n00:12:37.490 --> 00:12:40.350\nAnd to create a differencing disk, you\njust have to tell it who the parent is.\n\n224\n00:12:40.350 --> 00:12:43.840\nSo the command is create v disk.\n\n225\n00:12:43.840 --> 00:12:48.620\nThen it's going to be file equals, and\n\n226\n00:12:48.620 --> 00:12:52.225\nthen where you're going to create it.\n\n227\n00:12:52.225 --> 00:12:58.444\nC:/vhds, and\nI'll call this one test three.vhd.\n\n228\n00:12:58.444 --> 00:13:04.056\nAnd then the command, parent And\n\n229\n00:13:04.056 --> 00:13:08.065\nthen the parent would be\n\n230\n00:13:08.065 --> 00:13:12.880\nc:\\vhds\\test1.vhd.\n\n231\n00:13:15.179 --> 00:13:15.841\nRight?\n\n232\n00:13:15.841 --> 00:13:17.838\nAnd it'll create that differencing disk.\n\n233\n00:13:17.838 --> 00:13:21.469\nNow if we go look at that one,\nand see test three there, and\n\n234\n00:13:21.469 --> 00:13:24.002\nlet's show some extension on this guy.\n\n235\n00:13:25.685 --> 00:13:27.520\nAll right.\nAnd so, you can see that good ole vh,\n\n236\n00:13:27.520 --> 00:13:32.410\nis still a vhd,\nit's 80 kilobytes in size, all right.\n\n237\n00:13:32.410 --> 00:13:35.290\nSo, that would be,\nagain, just the changes.\n\n238\n00:13:35.290 --> 00:13:36.570\nI really like doing that.\n\n239\n00:13:36.570 --> 00:13:40.280\nLike I've had, as I said,\nsituations where I wanna install,\n\n240\n00:13:40.280 --> 00:13:41.810\ncreate a whole bunch of servers.\n\n241\n00:13:41.810 --> 00:13:45.590\nI don't have enough disk space to\nhave individual hard drives for\n\n242\n00:13:45.590 --> 00:13:46.780\neach one of those servers.\n\n243\n00:13:46.780 --> 00:13:51.320\nSo if I create that one parent disk,\nit's got 2012, all the updates, you know,\n\n244\n00:13:51.320 --> 00:13:53.728\nthe operating system files themselves.\n\n245\n00:13:53.728 --> 00:13:57.905\nAnd then I I can create several\nservers based on that parent, and\n\n246\n00:13:57.905 --> 00:14:01.395\nthen those differencing disks\nare just the changes, right?\n\n247\n00:14:01.395 --> 00:14:05.435\nLike if I install something on one server,\nit doesn't install it on the other ones,\n\n248\n00:14:05.435 --> 00:14:07.815\nso those are very handy.\n\n249\n00:14:07.815 --> 00:14:11.630\nIt is something though that you don't\nsee it used in production very often.\n\n250\n00:14:11.630 --> 00:14:14.450\nI'll tell you, the performance,\nbecause what's happening is\n\n251\n00:14:14.450 --> 00:14:18.450\nnow your virtual machine is hitting that\ndifferencing drive, but it still has to\n\n252\n00:14:18.450 --> 00:14:22.060\nreach to the parent drive that's got the\nbase operating system under there, right.\n\n253\n00:14:22.060 --> 00:14:24.850\nSo, you're really hitting\ntwo virtual hard drives and\n\n254\n00:14:24.850 --> 00:14:27.280\nthat layering really starts\nto affect your performance.\n\n255\n00:14:27.280 --> 00:14:29.990\nSo they'll tell you don't use\nthat in a production environment.\n\n256\n00:14:31.640 --> 00:14:34.770\nAll right, and then the last one I want\nto show is just how to create a duplicate\n\n257\n00:14:34.770 --> 00:14:36.870\nVSD because that can be handy as well.\n\n258\n00:14:36.870 --> 00:14:40.940\nWhat if I want an exact copy of\na VSD to send to somebody else so\n\n259\n00:14:40.940 --> 00:14:41.800\nthey can work with it?\n\n260\n00:14:41.800 --> 00:14:44.930\nMaybe I'm trying to troubleshoot something\nand say, here I'll just send you the whole\n\n261\n00:14:44.930 --> 00:14:47.980\ndarn hard drive,\nyou can make a virtual machine on it.\n\n262\n00:14:47.980 --> 00:14:51.330\nSee what you can do.\n\n263\n00:14:51.330 --> 00:14:57.520\nCreate VDisk file=c:/vhd.\n\n264\n00:14:57.520 --> 00:15:02.220\nSo where am I going to create it?\n\n265\n00:15:02.220 --> 00:15:06.890\nAnd I'll call this one test4.vhd.\n\n266\n00:15:06.890 --> 00:15:10.606\nAnd then what file am I going to copy?\n\n267\n00:15:10.606 --> 00:15:17.849\nSource=c:\\vhd\\test1.vhd.\n\n268\n00:15:17.849 --> 00:15:22.900\nAnd I didn't have any data on there,\n\n269\n00:15:22.900 --> 00:15:28.800\nbut it will create an exact copy of that\nvirtual hard drive with a different name.\n\n270\n00:15:28.800 --> 00:15:31.446\nCould I go and\nright click on that file and choose copy?\n\n271\n00:15:31.446 --> 00:15:32.609\n>> Yeah.\nYeah absolutely.\n\n272\n00:15:32.609 --> 00:15:36.600\n[LAUGH] But maybe you're\nscripting this for some reason.\n\n273\n00:15:36.600 --> 00:15:38.263\nSo it's good to know that command as well.\n\n274\n00:15:38.263 --> 00:15:42.241\n[LAUGH] All right, so\nnow I've got another one and\n\n275\n00:15:42.241 --> 00:15:46.618\nthat one again is going to be\nan exact copy of disk one.\n\n276\n00:15:46.618 --> 00:15:49.450\nNow, the differencing disk,\none thing I want to point out about\n\n277\n00:15:49.450 --> 00:15:52.024\nthe differencing disk as well,\nthat differencing disk,\n\n278\n00:15:52.024 --> 00:15:55.137\nlet's say there was an operating\nsystem installed on a parent drive.\n\n279\n00:15:55.137 --> 00:15:57.601\nThe differencing disk is just the changes.\n\n280\n00:15:57.601 --> 00:16:01.378\nYou can't take just the differencing\ndisk And use it on its own, right?\n\n281\n00:16:01.378 --> 00:16:07.530\nIt relies on that parent drive, and\nthe parent drive can never change.\n\n282\n00:16:07.530 --> 00:16:10.030\nTypically, when you're doing\nthat differencing disk,\n\n283\n00:16:10.030 --> 00:16:13.860\nlike I installed 2012 R2,\nI sys prep it, I shut it down.\n\n284\n00:16:13.860 --> 00:16:16.560\nThat's gonna be my parent drive, and\nthen I'm going to make differencing\n\n285\n00:16:16.560 --> 00:16:18.890\ndisks based on that for\nall my different servers.\n\n286\n00:16:18.890 --> 00:16:22.820\nThat parent drive, I'll set to read-only\nbecause if it ever changes, that\n\n287\n00:16:22.820 --> 00:16:26.890\ndifferencing disk is gonna say that's not\nmy parent anymore, I don't recognize that.\n\n288\n00:16:26.890 --> 00:16:29.110\nAnd it will fail, all right?\n\n289\n00:16:29.110 --> 00:16:31.120\nSo the parent hard drive cannot change.\n\n290\n00:16:31.120 --> 00:16:33.550\nTypically, we set them to read only.\n\n291\n00:16:35.150 --> 00:16:37.040\nAll right, so now I've got all\nthese virtual hard drives, but\n\n292\n00:16:37.040 --> 00:16:40.500\nnone of these have been\nshowing up in file explorer.\n\n293\n00:16:40.500 --> 00:16:41.130\nRight?\n\n294\n00:16:41.130 --> 00:16:42.790\nWe go back here and look at this PC.\n\n295\n00:16:44.190 --> 00:16:45.013\nGot nothing there, right?\n\n296\n00:16:45.013 --> 00:16:48.514\nCuz at this point,\nthey're just files on my hard drive.\n\n297\n00:16:48.514 --> 00:16:51.137\nI mean, they're VHDs, but\nthey're just files there.\n\n298\n00:16:51.137 --> 00:16:53.639\nSo the next thing we\nneed to work with them,\n\n299\n00:16:53.639 --> 00:16:56.650\nI actually need to attach\nthem to the machine.\n\n300\n00:16:56.650 --> 00:17:00.450\nJust like you would if you went and bought\na disk from Best Buy or New Egg, you'd\n\n301\n00:17:00.450 --> 00:17:05.270\nhave to pop open that server, drop those\nhard drives in there, plug them in, right?\n\n302\n00:17:05.270 --> 00:17:07.440\nSame thing with these virtual hard drives.\n\n303\n00:17:07.440 --> 00:17:10.650\nI can do that through computer management.\n\n304\n00:17:10.650 --> 00:17:14.920\nWe'll head on over here\nto this management, and\n\n305\n00:17:14.920 --> 00:17:20.940\nI can right click on disk management,\nand attach VHD, right?\n\n306\n00:17:20.940 --> 00:17:26.954\nSo I can browse and\nfind a VHD that I want to attach there.\n\n307\n00:17:26.954 --> 00:17:33.440\nNavigating to that C:vhds, I'll go ahead\nand grab test two as that dynamic disk.\n\n308\n00:17:33.440 --> 00:17:36.290\nNotice I could market as read only.\n\n309\n00:17:36.290 --> 00:17:39.726\nI'll just click next or okay.\n\n310\n00:17:39.726 --> 00:17:41.820\nAnd let's see.\n\n311\n00:17:41.820 --> 00:17:45.220\nI lost track of how many- there we go,\nthere's my disk nine.\n\n312\n00:17:45.220 --> 00:17:49.258\nThat's that two gigabyte virtual\nhard drive that I just created.\n\n313\n00:17:49.258 --> 00:17:50.890\nNotice the icon's slightly different,\n\n314\n00:17:50.890 --> 00:17:55.910\nit's got a little blue disk there instead\nof what I have for all of my other drives.\n\n315\n00:17:55.910 --> 00:17:59.070\nBut just like another disk,\na regular hard drive,\n\n316\n00:17:59.070 --> 00:18:02.080\nit shows up as unknown, not initialized.\n\n317\n00:18:02.080 --> 00:18:04.550\nBut at this point,\nyou treat it just like a hard drive.\n\n318\n00:18:04.550 --> 00:18:07.610\nJust like it was a hard drive,\neven though it's really just a file.\n\n319\n00:18:07.610 --> 00:18:10.640\nRight click on that guy,\ninitialize disk, and\n\n320\n00:18:10.640 --> 00:18:12.760\nI'm going to have to choose MBR or GPT.\n\n321\n00:18:12.760 --> 00:18:13.980\nI'll choose MBR.\n\n322\n00:18:15.760 --> 00:18:17.380\nNow it's basic and online.\n\n323\n00:18:17.380 --> 00:18:19.180\nI'll right click out here.\n\n324\n00:18:19.180 --> 00:18:20.110\nNew simple volume.\n\n325\n00:18:20.110 --> 00:18:22.430\nAnd we've seen this wizard before.\n\n326\n00:18:22.430 --> 00:18:23.660\nI'll take up all the space.\n\n327\n00:18:23.660 --> 00:18:24.980\nI'll give it a drive letter.\n\n328\n00:18:26.820 --> 00:18:30.180\nI'm going to give it a volume of,\nwe'll call it VHD2,\n\n329\n00:18:30.180 --> 00:18:35.130\nsince it was based off of that test two,\nso we can tell which ones which.\n\n330\n00:18:35.130 --> 00:18:36.250\nI'll click next and finish.\n\n331\n00:18:38.140 --> 00:18:38.850\nGive it just a second.\n\n332\n00:18:39.980 --> 00:18:42.186\nYou can already see Windows\nrecognizing it down there,\n\n333\n00:18:42.186 --> 00:18:44.590\ntelling me I've got to format it,\nsilly guy.\n\n334\n00:18:45.890 --> 00:18:49.830\nNow, if I go to this PC,\nthere's VHD2 right there.\n\n335\n00:18:49.830 --> 00:18:51.900\nAnd notice it's got a hard drive icon.\n\n336\n00:18:51.900 --> 00:18:54.140\nEven though it's just\na file on my hard drive,\n\n337\n00:18:54.140 --> 00:18:57.750\nit looks just like a regular hard\ndrive to the operating system.\n\n338\n00:18:57.750 --> 00:19:00.820\nI can come in here, I can make new\nfolders, whatever I need to do.\n\n339\n00:19:00.820 --> 00:19:02.310\nAll right.\n\n340\n00:19:02.310 --> 00:19:05.310\nAnd if I go back out,\nin fact, let's see here.\n\n341\n00:19:07.810 --> 00:19:09.210\nTrying to think of something I could do.\n\n342\n00:19:09.210 --> 00:19:11.570\nYour test easy,\nnotice the size has gone up.\n\n343\n00:19:11.570 --> 00:19:14.270\nIt was 12 kilobytes in size.\n\n344\n00:19:14.270 --> 00:19:17.740\nWell, now I've added a file system to it,\nthere's some overhead involved there.\n\n345\n00:19:17.740 --> 00:19:21.980\nSo you can see it's starting to grow,\nand if I copied data over to that drive,\n\n346\n00:19:21.980 --> 00:19:27.160\nit would start expanding out to\nits maximum size of two gigabytes.\n\n347\n00:19:27.160 --> 00:19:27.820\nSo easy.\nYou\n\n348\n00:19:27.820 --> 00:19:30.760\ncreate those VHDs from the command-prompt,\nyou can come in here,\n\n349\n00:19:30.760 --> 00:19:33.510\nyou can attach them, and now they're\ntreated just like a hard-drive.\n\n350\n00:19:33.510 --> 00:19:36.001\nBut let's say I needed that drive,\nlet's say we had a,\n\n351\n00:19:36.001 --> 00:19:38.969\nI don't know I'm trying to think,\na whole bunch of stuff on here,\n\n352\n00:19:38.969 --> 00:19:41.960\nand I wanted to use that stuff in\na different machine at this point.\n\n353\n00:19:41.960 --> 00:19:46.602\nWell all I have to do is come\nback over here, and oops,\n\n354\n00:19:46.602 --> 00:19:50.427\nlet me run over here and\ndetach VHD, right?\n\n355\n00:19:50.427 --> 00:19:53.098\nI detach that VHD, right?\n\n356\n00:19:53.098 --> 00:19:56.265\nIt's going to tell me it's not going to\nbe available anymore cuz you're basically\n\n357\n00:19:56.265 --> 00:19:57.590\nunplugging it from the computer.\n\n358\n00:19:57.590 --> 00:20:00.430\nI click okay and it disappears.\n\n359\n00:20:00.430 --> 00:20:01.983\nThe file's still there.\n\n360\n00:20:01.983 --> 00:20:05.884\nIf I go check on C:vhds,\nthere's my test two.\n\n361\n00:20:05.884 --> 00:20:09.140\nIt's still there,\nit's just not mounted anymore.\n\n362\n00:20:09.140 --> 00:20:12.090\nSo at this point,\nI could copy this thing to a thumbdrive or\n\n363\n00:20:12.090 --> 00:20:16.750\na portable hard drive, take it to another\nmachine, copy it over, right click,\n\n364\n00:20:16.750 --> 00:20:19.740\nattach VHD, and\nattach it to a different server.\n\n365\n00:20:19.740 --> 00:20:22.321\nSo that's one of the big\nadvantages of these VHDs,\n\n366\n00:20:22.321 --> 00:20:24.520\nis that portability that you get.\n\n367\n00:20:24.520 --> 00:20:28.726\n>> Yeah, Mike, it would also seem like we\nwould want to take into account the fact\n\n368\n00:20:28.726 --> 00:20:32.837\nthat these are files that are sitting\non an actual, physical drive as well.\n\n369\n00:20:32.837 --> 00:20:37.361\nWe probably need to be pretty careful\nwhen it came to the original VHDs that we\n\n370\n00:20:37.361 --> 00:20:38.003\ncreated.\n\n371\n00:20:38.003 --> 00:20:41.780\nIf they're mounted and the drive dies,\nwell, we lose that as well, right?\n\n372\n00:20:41.780 --> 00:20:45.570\nEven if we had other disks in the system,\nthat VHD would be gone,\n\n373\n00:20:45.570 --> 00:20:48.320\nas well as the drive that it\nresided on would be gone as well.\n\n374\n00:20:48.320 --> 00:20:49.790\n>> That's right,\nbecause it's just the files.\n\n375\n00:20:49.790 --> 00:20:51.200\nSo you don't have the fall tones.\n\n376\n00:20:51.200 --> 00:20:54.950\nNow, you can set up your falters,\nlike we talked about in previous episodes,\n\n377\n00:20:54.950 --> 00:20:56.570\nwith the underlying physical disks.\n\n378\n00:20:56.570 --> 00:20:57.473\n>> Awesome.\n\n379\n00:20:57.473 --> 00:21:02.184\n>> All right, so, the other way we can\ncreate this guy, I can come into disk\n\n380\n00:21:02.184 --> 00:21:06.990\nmanagement, and I can right click,\nand I can choose create VHD, right?\n\n381\n00:21:06.990 --> 00:21:13.110\nI can tell it where I want to create that,\nC:/vhds/, I don't know,\n\n382\n00:21:13.110 --> 00:21:17.540\ntest five for this one, .vhd.\n\n383\n00:21:17.540 --> 00:21:18.940\nI'll give it a size.\n\n384\n00:21:18.940 --> 00:21:21.910\nAnd this one, I can actually hit my\ndrop down list and choose gigabytes.\n\n385\n00:21:21.910 --> 00:21:24.820\nWe'll make it three so we can make\nsure we tell the difference there.\n\n386\n00:21:24.820 --> 00:21:27.740\nI also have a choice between VHD and\nVHDX, and\n\n387\n00:21:27.740 --> 00:21:29.810\nI can do this through disk part as well.\n\n388\n00:21:29.810 --> 00:21:31.490\nMight as well point it out here.\n\n389\n00:21:31.490 --> 00:21:34.835\nThe V8 we'll talk more about\nthis in our hyper V module, but\n\n390\n00:21:34.835 --> 00:21:38.130\nVHDX is the more modern version\nof the virtual hard drives.\n\n391\n00:21:38.130 --> 00:21:43.718\nNotice VHDs,\nthe largest I could do was 2040 gigabytes.\n\n392\n00:21:43.718 --> 00:21:48.177\nI make a lot of virtual hard\ndrives that are bigger than that.\n\n393\n00:21:48.177 --> 00:21:49.458\n>> [LAUGH]\n>> But that was a limitation right.\n\n394\n00:21:49.458 --> 00:21:50.734\nIt was something that\nwe had to think about.\n\n395\n00:21:50.734 --> 00:21:56.570\nSo, VHDXs,\nyou can go up to 64 terabytes in size.\n\n396\n00:21:56.570 --> 00:21:59.430\nThey're also a little bit better\nif the power fails cuz, again,\n\n397\n00:21:59.430 --> 00:22:01.130\nthis isn't a hard drive, right?\n\n398\n00:22:01.130 --> 00:22:02.113\nIt's a file.\n\n399\n00:22:02.113 --> 00:22:05.275\nAnd so we've got to worry about the way\nit's doing writes to the disc, and\n\n400\n00:22:05.275 --> 00:22:06.553\nthings like that, caching.\n\n401\n00:22:06.553 --> 00:22:09.097\nSo if we ever have a power failure,\nthe old VHDs,\n\n402\n00:22:09.097 --> 00:22:11.717\na lot of times we would\ncorrupt data on those guys.\n\n403\n00:22:11.717 --> 00:22:16.490\nVHDXs handle that type of\nsituation a little bit better.\n\n404\n00:22:16.490 --> 00:22:22.390\nSo I can do VHD or VHDX, and then here's\nmy fixed size or my dynamically expanding.\n\n405\n00:22:22.390 --> 00:22:25.236\nI'll do dynamic just to speed\nthis little process up.\n\n406\n00:22:25.236 --> 00:22:26.281\nI'll click okay.\n\n407\n00:22:29.231 --> 00:22:29.835\nAnd there we go.\n\n408\n00:22:29.835 --> 00:22:33.523\nThe cool thing about making it through\ndisk management is that it's already\n\n409\n00:22:33.523 --> 00:22:34.510\nattached, right?\n\n410\n00:22:34.510 --> 00:22:40.680\nWhen I right click create,\nit attached it as I created it.\n\n411\n00:22:40.680 --> 00:22:44.067\nI just have to right click initialize,\n\n412\n00:22:44.067 --> 00:22:49.211\nchoose my partitioning scheme,\ncreate a volume on there.\n\n413\n00:22:50.924 --> 00:22:52.480\nGive it a drive letter.\n\n414\n00:22:57.422 --> 00:22:58.680\nWe'll just take the volume out.\n\n415\n00:22:58.680 --> 00:23:05.871\nQuick format, next, finish, and\nit already shows up in Windows Explorer.\n\n416\n00:23:05.871 --> 00:23:08.239\n>> Now Mike,\ndo these VHD's work in the same way?\n\n417\n00:23:08.239 --> 00:23:11.058\nOnce you have them mounted, you got\nyour volume, you got drive letter and\n\n418\n00:23:11.058 --> 00:23:14.063\neverything, can you then just start\nworking with them in this management like\n\n419\n00:23:14.063 --> 00:23:15.130\nyou do with any other disk?\n\n420\n00:23:15.130 --> 00:23:17.500\nI wanna do a raid, or I want to do span.\n\n421\n00:23:17.500 --> 00:23:20.340\nAnything else that does all that stuff?\n\n422\n00:23:20.340 --> 00:23:23.850\n>> In fact,\nlet's see how we could do this.\n\n423\n00:23:23.850 --> 00:23:25.243\nHow many did I create earlier?\n\n424\n00:23:25.243 --> 00:23:29.463\nLet's right click and attach a VHD, and\n\n425\n00:23:29.463 --> 00:23:33.820\nwe'll go grab an unmounted \"test1\".\n\n426\n00:23:33.820 --> 00:23:35.540\nOne of these was a parent drive.\n\n427\n00:23:36.970 --> 00:23:39.824\nTell you what,\nlet's see if it will let me do this.\n\n428\n00:23:42.666 --> 00:23:44.478\nWe'll bring that guy online.\n\n429\n00:23:49.053 --> 00:23:52.977\nAnd I'll remove this volume here.\n\n430\n00:23:55.963 --> 00:24:00.330\nOnce I've attached these to this window,\nthey're just like another drive.\n\n431\n00:24:00.330 --> 00:24:02.700\nSo I can right click on\nthis unallocated space, but\n\n432\n00:24:02.700 --> 00:24:06.470\nnotice it's not giving me the option\nto do my simple and spanned volumes.\n\n433\n00:24:06.470 --> 00:24:10.330\nI don't think- I can't\nconvert these to dynamic.\n\n434\n00:24:10.330 --> 00:24:14.110\nSo since I can't covert them to dynamic,\nI lose that ability to create the spanned,\n\n435\n00:24:14.110 --> 00:24:15.620\nand the striped, and things like that.\n\n436\n00:24:15.620 --> 00:24:19.801\nAll right, so we got those guys\nmounted up and I think, Daniel,\n\n437\n00:24:19.801 --> 00:24:22.523\nthat pretty much does it for now for VHDs.\n\n438\n00:24:22.523 --> 00:24:23.985\nI mean, there's a little bit more to them.\n\n439\n00:24:23.985 --> 00:24:28.342\nWe really need to see how we use them\nalong with virtual machines when we get\n\n440\n00:24:28.342 --> 00:24:32.785\ninto our Hyper-V episodes, but\nas far as working with VHDs, that's it.\n\n441\n00:24:32.785 --> 00:24:36.520\nCreate them, attach them, and once you\ndo that, they're just like a hard drive.\n\n442\n00:24:36.520 --> 00:24:38.470\nYour user wouldn't know the difference,\nright?\n\n443\n00:24:38.470 --> 00:24:42.992\nThey're going into Windows Explorer and,\noops, I detached or I removed everything,\n\n444\n00:24:42.992 --> 00:24:45.389\nbut let's real quick\nmake that one more time.\n\n445\n00:24:47.923 --> 00:24:50.240\nWe'll just do all the defaults real quick.\n\n446\n00:24:50.240 --> 00:24:52.950\nAnd to the user, it just looks like,\n\n447\n00:24:52.950 --> 00:24:58.020\nas soon as that finishes building, there\nwe go, it just looks like another drive.\n\n448\n00:24:58.020 --> 00:25:00.030\nThey have no idea that\nit's a virtual hard drive.\n\n449\n00:25:00.030 --> 00:25:01.919\n>> Yeah.\nThis is one of the ways that I think\n\n450\n00:25:01.919 --> 00:25:03.577\nMicrosoft really got it right.\n\n451\n00:25:03.577 --> 00:25:07.264\nThey've given you a really simple way\nto attach these types of storage, and\n\n452\n00:25:07.264 --> 00:25:10.039\nto get your feet wet into\nthe whole virtualization area.\n\n453\n00:25:10.039 --> 00:25:13.959\nAnd to understand how these virtual\nhard drives work is a key component to\n\n454\n00:25:13.959 --> 00:25:16.220\nunderstanding virtualization itself.\n\n455\n00:25:16.220 --> 00:25:18.570\nSo, getting this down is very important.\n\n456\n00:25:18.570 --> 00:25:21.100\nSo hopefully, you guys check\nthis episode out a few times and\n\n457\n00:25:21.100 --> 00:25:23.880\nmake sure you understand each\none of these key concepts.\n\n458\n00:25:23.880 --> 00:25:25.310\nGet it burned into the old brain.\n\n459\n00:25:25.310 --> 00:25:27.314\nAnd then hopefully, go pass that exam.\n\n460\n00:25:27.314 --> 00:25:32.843\nThat being said, well hopefully,\nwe'll see you as well at our Hyper-V show.\n\n461\n00:25:32.843 --> 00:25:35.210\nBut for this show,\nwe're gonna go ahead and call it a close.\n\n462\n00:25:35.210 --> 00:25:37.022\nI'm signing off for ITProTV.\n\n463\n00:25:37.022 --> 00:25:38.577\nI've been your host, Daniel Lawry.\n\n464\n00:25:38.577 --> 00:25:39.391\n>> And I'm Mike Roderick.\n\n465\n00:25:39.391 --> 00:25:40.621\n>> And we'll see you next time.\n\n466\n00:25:40.621 --> 00:25:45.915\n[MUSIC]\n\n",
          "vimeoId": "137253747"
        },
        {
          "description": "In this episode Daniel and Mike explain the use and importance of using Storage Spaces Mike explains how storage pools and storage spaces mix together to lay the foundation of combining multiple drives into logical storage.",
          "length": "1873",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-4-storage_spaces-082415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-4-storage_spaces-082415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-3-4-storage_spaces-082415-1-sm.jpg",
          "title": "Storage Spaces",
          "transcript": "WEBVTT\n\n1\n00:00:00.303 --> 00:00:09.603\n[MUSIC]\n\n2\n00:00:09.603 --> 00:00:13.422\nAll right, greetings everyone and\nwelcome to another exciting episode\n\n3\n00:00:13.422 --> 00:00:17.760\nof ITProTV I'm your host Daniel Lowery,\nhere with me today is Mr. Mike Rodrick.\n\n4\n00:00:17.760 --> 00:00:18.480\nHow's it going Mike?\n\n5\n00:00:18.480 --> 00:00:20.510\n>> Oh, it's going great Daniel,\nI'm glad to be here.\n\n6\n00:00:20.510 --> 00:00:23.270\nWe're continuing on our four ten or\nour 74-10 episodes, and\n\n7\n00:00:23.270 --> 00:00:27.720\nin this one we're gonna take a look\nat something called storage spaces,\n\n8\n00:00:27.720 --> 00:00:31.309\nwhich is a confusing topic,\nI think, sometimes.\n\n9\n00:00:31.309 --> 00:00:34.550\n[LAUGH] Storage spaces,\nstorage pools, virtual discs.\n\n10\n00:00:34.550 --> 00:00:37.970\nThere's a lot of layers of\ncomplexity in here, and\n\n11\n00:00:37.970 --> 00:00:40.230\nwe're gonna try to break it down for you.\n\n12\n00:00:40.230 --> 00:00:42.426\nSo, first and foremost, I guess,\n\n13\n00:00:42.426 --> 00:00:46.381\nwe have to understand what the heck\nthey mean by storage spaces or\n\n14\n00:00:46.381 --> 00:00:51.820\nstorage pools, cuz, I don't know sometimes\nI get those two confused myself.\n\n15\n00:00:51.820 --> 00:00:53.920\nAnd, so let's define that real quick.\n\n16\n00:00:53.920 --> 00:00:58.370\nOkay, storage pool is\nbasically what we start with.\n\n17\n00:00:58.370 --> 00:01:01.630\nA pool is just a collection of drives.\n\n18\n00:01:01.630 --> 00:01:05.400\nSo you can take drives, you go in here and\nyou create a storage pool,\n\n19\n00:01:05.400 --> 00:01:06.240\nand I'm gonna show you all of this.\n\n20\n00:01:06.240 --> 00:01:09.810\nThis is gonna make more sense as I do it,\nbut let me verbalize it first.\n\n21\n00:01:09.810 --> 00:01:13.290\nSo you take a bunch of drives and\nyou create a storage pool out of them.\n\n22\n00:01:13.290 --> 00:01:20.160\nAnd that's just basically a sum of\nspace or a pool of available space.\n\n23\n00:01:20.160 --> 00:01:24.090\nYou really can't do anything with it,\nas far as writing files to it or\n\n24\n00:01:24.090 --> 00:01:27.140\nseeing it in explorer formatting or\nanything like that.\n\n25\n00:01:28.160 --> 00:01:32.860\nWith that pool now, with that space,\nI start creating what we call\n\n26\n00:01:32.860 --> 00:01:35.540\nstorage spaces, and\nI know that that's kind of confusing.\n\n27\n00:01:35.540 --> 00:01:36.950\nIt's like, wait, what?\n\n28\n00:01:36.950 --> 00:01:40.703\nSo, your storage pool is\nall of the available space,\n\n29\n00:01:40.703 --> 00:01:44.880\nand then you create storage spaces\nwithin that storage pool, and\n\n30\n00:01:44.880 --> 00:01:48.710\nstorage spaces are basically\nvirtual disks.\n\n31\n00:01:48.710 --> 00:01:49.730\nAll right?\n\n32\n00:01:49.730 --> 00:01:51.160\nBut we still can't use them.\n\n33\n00:01:51.160 --> 00:01:54.120\nBecause then you got to take that\nvirtual disk and on that virtual disk\n\n34\n00:01:54.120 --> 00:01:58.540\nyou got to create your partitions on top\nof that, or your volumes as it were.\n\n35\n00:01:58.540 --> 00:02:00.930\nBut so, it's like why,\nwhy do we have this?\n\n36\n00:02:00.930 --> 00:02:02.680\nWhy do we have all these layers?\n\n37\n00:02:02.680 --> 00:02:04.550\nWhat really is the point?\n\n38\n00:02:04.550 --> 00:02:10.660\nAnd the idea is that it hides\nthe underlying complexity of the drives.\n\n39\n00:02:10.660 --> 00:02:15.850\nAnd it gives us a lot of really\ncool features and flexibility.\n\n40\n00:02:15.850 --> 00:02:19.530\nCuz one of the things about storage\npools is the drives don't have to be\n\n41\n00:02:19.530 --> 00:02:20.890\nthe same, right?\n\n42\n00:02:20.890 --> 00:02:24.510\nWhen we deal with, most of the time in\nWindows when we're working our volumes and\n\n43\n00:02:24.510 --> 00:02:27.436\nthings like that,\nthe drives have to be the same.\n\n44\n00:02:27.436 --> 00:02:30.030\nThey've all got to either\nbe internal drives, or\n\n45\n00:02:30.030 --> 00:02:32.770\nI've got an external drive,\nor what have you.\n\n46\n00:02:32.770 --> 00:02:36.030\nWith storage pools,\nI can take a couple internal drives,\n\n47\n00:02:36.030 --> 00:02:38.530\nI can take a USB hard drive,\nI can take that My Book and\n\n48\n00:02:38.530 --> 00:02:42.280\nmy Passport and that one internal drive\nthat I'm not doing anything with,\n\n49\n00:02:42.280 --> 00:02:46.030\nI can add up all that space, and\nmake one storage pool out of it.\n\n50\n00:02:46.030 --> 00:02:47.250\nIt's really pretty cool.\n\n51\n00:02:47.250 --> 00:02:50.000\nAnd then I can create\nthese virtual drives or\n\n52\n00:02:50.000 --> 00:02:55.120\nthese storage spaces on top of that.\n\n53\n00:02:55.120 --> 00:02:56.890\nAnd we can create some cool things.\n\n54\n00:02:56.890 --> 00:03:02.890\nWe can create mirrored drives, which just\nlike with our RAID 0, I'm sorry, our RAID\n\n55\n00:03:02.890 --> 00:03:08.080\n1, we can duplicate the data so if one\ndrive fails we still have access to it.\n\n56\n00:03:08.080 --> 00:03:10.820\nBut not only that,\nwe can create a three-way mirror.\n\n57\n00:03:10.820 --> 00:03:13.604\nA one-way mirror, or\nwe'll call it two-way mirror,\n\n58\n00:03:13.604 --> 00:03:15.518\ncan you handle a single disk failure.\n\n59\n00:03:15.518 --> 00:03:20.570\nWith a three-way mirror,\nI can actually have two drives fail and\n\n60\n00:03:20.570 --> 00:03:22.130\nstill have access to the data.\n\n61\n00:03:22.130 --> 00:03:23.320\nSo that's pretty cool.\n\n62\n00:03:23.320 --> 00:03:27.190\nWe can also do what we call parity spaces,\n\n63\n00:03:27.190 --> 00:03:30.350\nwhich is just a storage\nspace that adds parity.\n\n64\n00:03:30.350 --> 00:03:34.450\nWe know that as RAID5,\nright outside of this, but\n\n65\n00:03:34.450 --> 00:03:37.700\nthis isn't RAID,\nthis is handled through Windows.\n\n66\n00:03:37.700 --> 00:03:41.290\nIt gives me the same results as I\nwould get with RAID, but it's so\n\n67\n00:03:41.290 --> 00:03:42.225\nmuch more powerful.\n\n68\n00:03:42.225 --> 00:03:46.520\nCuz with RAID5,\nlet's say you take five drives and\n\n69\n00:03:46.520 --> 00:03:48.870\nyou create a RAID5 array\nacross those guys and\n\n70\n00:03:48.870 --> 00:03:52.530\nyou fill it up, and now I need to add\na couple more drives to that RAID5 array.\n\n71\n00:03:52.530 --> 00:03:54.980\nYou're not doing it, right?\n\n72\n00:03:54.980 --> 00:03:58.713\nYou're backing all that data up,\nyou're blowing away your RAID5 array,\n\n73\n00:03:58.713 --> 00:04:02.210\nyou're taking those two more drives,\nyou're adding them in there.\n\n74\n00:04:02.210 --> 00:04:04.929\nYou're creating a new RAID 5 array\nacross those seven drives, and\n\n75\n00:04:04.929 --> 00:04:07.150\nthen you're restoring your data.\n\n76\n00:04:07.150 --> 00:04:10.780\nStorage pools, I just add another\ndrive and say, here, use this one, and\n\n77\n00:04:10.780 --> 00:04:12.690\nit'll just expand across it.\n\n78\n00:04:12.690 --> 00:04:18.450\nThe flexibility, the ease of use that you\nget with these is really pretty cool.\n\n79\n00:04:18.450 --> 00:04:21.390\nSo let's see how we can work\nwith these storage spaces and\n\n80\n00:04:21.390 --> 00:04:24.820\nstorage pools and\ntry to make sense out of all this.\n\n81\n00:04:24.820 --> 00:04:30.980\nI'm going to go into server manager and\nclick on file and storage.\n\n82\n00:04:30.980 --> 00:04:32.700\nLet me do that again,\nI did that a little quick.\n\n83\n00:04:32.700 --> 00:04:35.690\nDown here, I've got file and\nstorage services.\n\n84\n00:04:35.690 --> 00:04:40.450\nI'll select that, and\ninside here I have storage pools.\n\n85\n00:04:41.540 --> 00:04:45.630\nAnd when we first look at storage pools,\nwe're gonna see that we have\n\n86\n00:04:45.630 --> 00:04:48.630\nwhat we call the primordial pool and\nDaniel, I just love that name.\n\n87\n00:04:48.630 --> 00:04:50.020\nI like the way they call it that.\n\n88\n00:04:50.020 --> 00:04:51.090\n>> Just rolls off the tongue.\n\n89\n00:04:51.090 --> 00:04:51.980\nPrimordial.\n\n90\n00:04:51.980 --> 00:04:56.020\n>> It always makes me think of like\nthe Labraya tar pits or something.\n\n91\n00:04:56.020 --> 00:04:58.310\nIt's just like primordial ooze.\n\n92\n00:04:58.310 --> 00:05:02.350\nBut all disks that are in\nthis computer right now\n\n93\n00:05:02.350 --> 00:05:06.760\nare part of my primordial pool, all right.\n\n94\n00:05:06.760 --> 00:05:09.475\nNow you can see up here,\nI'm going to scroll that back up.\n\n95\n00:05:09.475 --> 00:05:12.300\nUnderneath storage pulls,\nI have one and you'll always have that.\n\n96\n00:05:12.300 --> 00:05:14.830\nThat's all storage that you have.\n\n97\n00:05:14.830 --> 00:05:18.742\nNow a drive can only\nbe a part of one pool.\n\n98\n00:05:18.742 --> 00:05:23.920\nAll right, so if I take four of these guys\nand put them in pool one, for example,\n\n99\n00:05:23.920 --> 00:05:28.470\nthose four drives will disappear from\nprimordial and they'll be in pool one.\n\n100\n00:05:28.470 --> 00:05:29.989\nThe other drives would\nstill remain primordial.\n\n101\n00:05:29.989 --> 00:05:31.865\nI can create something with those, so\n\n102\n00:05:31.865 --> 00:05:34.730\na drive can only be a part\nof one storage pool.\n\n103\n00:05:36.450 --> 00:05:41.230\nSo what I'm gonna do is I'm gonna create\na new storage pool, and I'll simply right\n\n104\n00:05:41.230 --> 00:05:47.730\nclick out here and choose new storage\npool which launches my wizard.\n\n105\n00:05:47.730 --> 00:05:51.420\nI'll click next on that, and\nI'll give it a name, and\n\n106\n00:05:51.420 --> 00:05:55.130\nI'll be really creative and\nI'll call it pool1.\n\n107\n00:05:55.130 --> 00:05:56.070\nAnd I'll click next.\n\n108\n00:05:57.980 --> 00:06:01.338\nNow I'll get a list of all the drives\nthat are available in this machine.\n\n109\n00:06:01.338 --> 00:06:05.740\nAnd I'm gonna go ahead and take,\nlet's do, one, two, three,\n\n110\n00:06:05.740 --> 00:06:08.360\nfour, five, I'm gonna grab all of them.\n\n111\n00:06:08.360 --> 00:06:09.195\nEight.\nAll right?\n\n112\n00:06:09.195 --> 00:06:10.450\n[COUGH] Excuse me.\n\n113\n00:06:10.450 --> 00:06:16.020\nLet me go ahead and grab those A drives\nand I'm gonna add them to my pool1.\n\n114\n00:06:16.020 --> 00:06:18.285\nNotice disk zero is not in here, right.\n\n115\n00:06:18.285 --> 00:06:21.310\nMy operating system drive,\nthat's not gonna be a part of it.\n\n116\n00:06:21.310 --> 00:06:23.180\nNow out here towards the right side,\n\n117\n00:06:23.180 --> 00:06:28.760\nI've got my allocation,\nI've got automatic, hot spare and manual.\n\n118\n00:06:28.760 --> 00:06:32.700\nIf I leave it on automatic, which is the\ndefault, that means when I go and create\n\n119\n00:06:32.700 --> 00:06:37.960\nthese virtual disks on there, it can grab\none of those drives and use it, all right?\n\n120\n00:06:37.960 --> 00:06:41.400\nIf I choose hot spare,\nit won't be available for\n\n121\n00:06:41.400 --> 00:06:43.990\nuse when I create my virtual disks.\n\n122\n00:06:43.990 --> 00:06:46.560\nWhat it acts like is,\njust like the name implies, a hot spare.\n\n123\n00:06:46.560 --> 00:06:49.710\nAnd then if one of\nthe drives ever fails in my\n\n124\n00:06:51.010 --> 00:06:54.680\nvirtual disk that I've created,\nit'll start using that hot spare.\n\n125\n00:06:54.680 --> 00:06:58.280\nIt can say, oh, here's a spare sitting\nright here, I could use that and\n\n126\n00:06:58.280 --> 00:07:03.280\nstart rebuilding my mirror or\nmy parity across that drive.\n\n127\n00:07:03.280 --> 00:07:05.440\nAnd it can do that automatically, right?\n\n128\n00:07:05.440 --> 00:07:07.750\nManual just means It's not\nsure if we can use it or\n\n129\n00:07:07.750 --> 00:07:10.020\nnot, you're gonna have to let it know.\n\n130\n00:07:10.020 --> 00:07:12.260\nAll right, now that's changed in 2012 R2.\n\n131\n00:07:12.260 --> 00:07:15.620\nHot spare is still in the list,\nbut it's not necessary anymore.\n\n132\n00:07:15.620 --> 00:07:17.810\nUsed to be when you created\nthese storage pools and\n\n133\n00:07:17.810 --> 00:07:22.530\nthese storage spaces, you would allocate\none or two physical disks as a hot spare.\n\n134\n00:07:22.530 --> 00:07:26.390\nThey would be a standby and\nif one of the other drives failed,\n\n135\n00:07:26.390 --> 00:07:28.890\nit could start using that hot spare,\nright?\n\n136\n00:07:28.890 --> 00:07:33.290\nBut in 2012 R2, one of the new\nfeatures is its ability to use\n\n137\n00:07:33.290 --> 00:07:36.390\nspace from the pool itself to rebuild.\n\n138\n00:07:36.390 --> 00:07:38.370\nSo it doesn't need that hot spare anymore.\n\n139\n00:07:38.370 --> 00:07:42.800\nYou can still specify one as a hot spare,\nbut it's actually not necessary.\n\n140\n00:07:42.800 --> 00:07:44.540\nI'm gonna go ahead and\nleave all of these guys.\n\n141\n00:07:44.540 --> 00:07:46.600\nWell I'll change one,\nlet's do one hot spare, just so\n\n142\n00:07:46.600 --> 00:07:48.525\nyou can see what that looks like there.\n\n143\n00:07:48.525 --> 00:07:49.725\nSo now I've got a total of what?\n\n144\n00:07:49.725 --> 00:07:53.905\nOne, two, three, four, five, six,\nseven that are set to automatic,\n\n145\n00:07:53.905 --> 00:07:55.845\nand one set up as a hot spare.\n\n146\n00:07:55.845 --> 00:07:57.465\nI'll go ahead and click next.\n\n147\n00:07:57.465 --> 00:07:59.584\nNow the fact that this shows up as SSDs,\n\n148\n00:07:59.584 --> 00:08:02.805\nthat's just because of this\nvirtualization, all right?\n\n149\n00:08:02.805 --> 00:08:05.191\nThe virtual hard drives\nthat we're using for\n\n150\n00:08:05.191 --> 00:08:07.340\nthese servers Are gonna show up as SSDs.\n\n151\n00:08:07.340 --> 00:08:07.990\nIt doesn't know any better.\n\n152\n00:08:07.990 --> 00:08:10.610\nThere is way you can tweak\nthat in the registry.\n\n153\n00:08:10.610 --> 00:08:12.950\nIt's not worth it for\ndemonstration purposes.\n\n154\n00:08:12.950 --> 00:08:14.085\n>> People think we got money, Mike.\n\n155\n00:08:14.085 --> 00:08:14.932\n[LAUGH]\n>> I know right?\n\n156\n00:08:14.932 --> 00:08:18.459\n[CROSSTALK] Solid state drives in there,\nthat's great.\n\n157\n00:08:18.459 --> 00:08:21.373\nAll right I'll go ahead and\nclick create and\n\n158\n00:08:21.373 --> 00:08:24.140\nit's gonna go ahead and create this guy.\n\n159\n00:08:24.140 --> 00:08:27.190\nNow while it's doing that,\nactually it won't take that long.\n\n160\n00:08:27.190 --> 00:08:29.490\nI was gonna talk about some\nof the other new features.\n\n161\n00:08:29.490 --> 00:08:30.410\nBut I'll come back to that.\n\n162\n00:08:30.410 --> 00:08:34.360\nRemind me,\nDaniel about new features in 2012 R2.\n\n163\n00:08:34.360 --> 00:08:34.950\nSo there we go.\n\n164\n00:08:34.950 --> 00:08:36.450\nIt should be just about done.\n\n165\n00:08:36.450 --> 00:08:41.350\nAdd the hot spare, update the cache,\nand we should be good to go.\n\n166\n00:08:41.350 --> 00:08:42.230\nI'll go ahead and click Close.\n\n167\n00:08:42.230 --> 00:08:45.850\nNow, there is an option to create\na virtual disk when this wizard closes.\n\n168\n00:08:45.850 --> 00:08:48.470\nNormally, you want to do that,\nand you can just check that and\n\n169\n00:08:48.470 --> 00:08:50.050\nthe next wizard will pop up.\n\n170\n00:08:50.050 --> 00:08:53.870\nBut if I click Close, because I want\nto show you what's changed so far.\n\n171\n00:08:53.870 --> 00:08:57.360\nSo now I've got my storage pool here,\nPool1.\n\n172\n00:08:57.360 --> 00:09:02.250\nAnd I've added all the discs I have,\nso notice primordial disappeared.\n\n173\n00:09:02.250 --> 00:09:07.190\nRight, because now all discs are part of\nPool1, drive can only be apart of one,\n\n174\n00:09:07.190 --> 00:09:09.970\nprimordial has nothing left in it,\nso it's gone.\n\n175\n00:09:09.970 --> 00:09:12.770\nIf I had left one or two drives,\nor if I pop more drives in here,\n\n176\n00:09:12.770 --> 00:09:14.660\nit would actually show up again, right.\n\n177\n00:09:14.660 --> 00:09:17.066\nEverything starts out in primordial.\n\n178\n00:09:17.066 --> 00:09:21.280\n>> It's really cool how it recognizes\nthe fact that there is new disks in there,\n\n179\n00:09:21.280 --> 00:09:24.000\nand, hey, that means that I need\nto add some features for you.\n\n180\n00:09:24.000 --> 00:09:25.372\nSo you can go and use that set.\n\n181\n00:09:25.372 --> 00:09:26.398\n>> Absolutely.\n\n182\n00:09:26.398 --> 00:09:30.400\nStorage pools and storage spaces,\nthey're complex, but\n\n183\n00:09:30.400 --> 00:09:32.440\nonce you start playing with them,\nthey're really pretty neat.\n\n184\n00:09:32.440 --> 00:09:35.050\nAll right, so\nnow I've got this storage space here.\n\n185\n00:09:35.050 --> 00:09:36.390\nPool1.\n\n186\n00:09:36.390 --> 00:09:39.237\nAlthough the terminology is\ngoing to drive you crazy.\n\n187\n00:09:39.237 --> 00:09:41.020\nAnd I've flipped back and\nforth a couple of times, too.\n\n188\n00:09:41.020 --> 00:09:42.510\nAnd I blame it all on Microsoft.\n\n189\n00:09:42.510 --> 00:09:45.930\nAnd that's because it says up\nhere storage pools, right?\n\n190\n00:09:45.930 --> 00:09:48.599\nStorage pool is the pool of drives.\n\n191\n00:09:48.599 --> 00:09:52.090\nYou're just taking all the space from\nall the drives and adding it up.\n\n192\n00:09:52.090 --> 00:09:59.210\nLike right now, I have 472 gigabytes\nof space in this pool, all right?\n\n193\n00:09:59.210 --> 00:10:00.600\nNow out of that pool,\n\n194\n00:10:00.600 --> 00:10:04.950\nI'm supposed to create a virtual disk\nwhich is actually a storage space.\n\n195\n00:10:04.950 --> 00:10:08.940\nWell this is Storage Space up here,\nso go figure with Microsoft.\n\n196\n00:10:08.940 --> 00:10:12.860\nStorage pools, storage space,\nreally kinda the same thing.\n\n197\n00:10:12.860 --> 00:10:16.560\nAll right, so there is my pool, you\nnotice it shows up in the Storage Spaces.\n\n198\n00:10:16.560 --> 00:10:21.140\nBut I can't do anything with this, it's\njust a collection of space at this point.\n\n199\n00:10:21.140 --> 00:10:23.920\nNow I come down here,\nI select the pool I wanna work with.\n\n200\n00:10:23.920 --> 00:10:29.530\nAnd I come down here to my virtual discs\nand I'll click create a virtual disc and\n\n201\n00:10:29.530 --> 00:10:32.300\nthat's gonna launch my\nNew Virtual Disc Wizard.\n\n202\n00:10:32.300 --> 00:10:32.910\nAll right?\n\n203\n00:10:32.910 --> 00:10:34.530\nI'll go ahead and click Next.\n\n204\n00:10:35.630 --> 00:10:38.110\nIt's gonna have all\nthe pools I have available.\n\n205\n00:10:38.110 --> 00:10:43.480\nI'll click next to work with Pool1, and\nI'm gonna give this virtual disc a name.\n\n206\n00:10:43.480 --> 00:10:46.970\nI'm gonna call this one,\nI don't know, a Mirror.\n\n207\n00:10:48.280 --> 00:10:49.930\nOops, if I could spell.\n\n208\n00:10:49.930 --> 00:10:51.330\nCuz that's the first one I'm going to do.\n\n209\n00:10:52.760 --> 00:10:57.260\nWe'll say MirroredSpace or\nMirroredVDisk, how about that?\n\n210\n00:10:57.260 --> 00:10:59.730\nAll right, and I'll click Next.\n\n211\n00:10:59.730 --> 00:11:04.890\nAnd then, here's my choice I've\ngot Simple, Mirror, or Parity.\n\n212\n00:11:04.890 --> 00:11:07.609\nSimple is just like a simple volume,\nthere's no fault tolerance.\n\n213\n00:11:08.720 --> 00:11:12.450\nYou know, just like any other volume\nthat I create using computer management.\n\n214\n00:11:12.450 --> 00:11:13.840\nYou can assign it a drive letter,\n\n215\n00:11:13.840 --> 00:11:17.550\na file system, but\nthere's no fault tolerance involved.\n\n216\n00:11:17.550 --> 00:11:21.840\nMirror is going to give me\nfault tolerance, right.\n\n217\n00:11:21.840 --> 00:11:23.700\nI'm not going to get\na performance benefit, but\n\n218\n00:11:23.700 --> 00:11:24.840\nI'm going to have that fault tolerance.\n\n219\n00:11:24.840 --> 00:11:29.560\nBecause I've got two copies or even three\ncopies, depending on which way I wanna go.\n\n220\n00:11:29.560 --> 00:11:32.250\nAnd then Parity is similar to RAID 5.\n\n221\n00:11:32.250 --> 00:11:35.820\nWe're gonna put those parity bits\ninterspersed with my data, and give me\n\n222\n00:11:35.820 --> 00:11:40.280\nthe ability to recover, even limp along\nin the event of a hard drive failure.\n\n223\n00:11:40.280 --> 00:11:42.890\nI'll go ahead and choose Mirror for\nthis layout and I'll click Next.\n\n224\n00:11:44.160 --> 00:11:47.840\nAnd then I can do either a two\nway mirror or a three way mirror.\n\n225\n00:11:47.840 --> 00:11:54.000\nAnd for the test, hint hint, to create a\ntwo way mirror I need at least two disks.\n\n226\n00:11:54.000 --> 00:11:57.960\nTo create a three way mirror,\nI need at least five disks.\n\n227\n00:11:57.960 --> 00:11:58.570\nNot three, right.\n\n228\n00:11:58.570 --> 00:12:02.420\nYou might have thought three, two for\na two way, three for a three way, right?\n\n229\n00:12:02.420 --> 00:12:03.240\nNo.\n\n230\n00:12:03.240 --> 00:12:05.980\nTwo for a two way, five for a three way.\n\n231\n00:12:05.980 --> 00:12:07.610\nIt's a good test question.\n\n232\n00:12:07.610 --> 00:12:10.990\nI'm gonna go to a three way, cuz I know\nI've got more than five drives in my pool.\n\n233\n00:12:10.990 --> 00:12:12.090\nI'll go ahead and click Next.\n\n234\n00:12:13.530 --> 00:12:16.730\nYou can either do thin provision or\nyou can do fixed.\n\n235\n00:12:16.730 --> 00:12:19.860\nThin provision it just\nclaims the space as needed.\n\n236\n00:12:19.860 --> 00:12:23.160\nSimilar to what we did with those VHD's\nin a previously episode when the did\n\n237\n00:12:23.160 --> 00:12:25.050\nthat dynamically expanding.\n\n238\n00:12:25.050 --> 00:12:26.710\nI'll go ahead and do thin provision.\n\n239\n00:12:26.710 --> 00:12:27.500\nI'll click Next.\n\n240\n00:12:28.880 --> 00:12:32.960\nAnd then for my size I'll say\nI want a two gigabyte mirror.\n\n241\n00:12:32.960 --> 00:12:36.627\nAnd I'll click Next, and then Create.\n\n242\n00:12:36.627 --> 00:12:37.260\nAlthough, you know what?\n\n243\n00:12:37.260 --> 00:12:39.140\nLet's make that bigger actually.\n\n244\n00:12:39.140 --> 00:12:41.290\nLet's do 20.\n\n245\n00:12:41.290 --> 00:12:42.520\nAnd Next.\n\n246\n00:12:43.610 --> 00:12:44.110\nAnd Create.\n\n247\n00:12:45.330 --> 00:12:47.420\nIt won't take too long to make this.\n\n248\n00:12:47.420 --> 00:12:50.110\nAlright so you, once we make this,\nyou might think, well, that's great.\n\n249\n00:12:50.110 --> 00:12:53.860\nNow I've got a mirrored volume that I\ncan go and access in Windows Explorer.\n\n250\n00:12:53.860 --> 00:12:55.280\nAnd you'd be wrong, all right?\n\n251\n00:12:55.280 --> 00:12:58.230\nBecause this is just\nthe underlying layout.\n\n252\n00:12:58.230 --> 00:13:02.980\nWe've said we want to make a twenty\ngigabyte mirrored, three way mirrored,\n\n253\n00:13:02.980 --> 00:13:04.440\nlayout at this point.\n\n254\n00:13:04.440 --> 00:13:07.220\nSo I'm going to uncheck this for\nright now and click Close.\n\n255\n00:13:07.220 --> 00:13:10.370\nYou could open up the volume\nwizard automatically.\n\n256\n00:13:10.370 --> 00:13:15.440\nSo now I have this mirrored\nV disk 20 gigabytes in size.\n\n257\n00:13:15.440 --> 00:13:18.190\nBut that's not accessible\nthrough Windows Explorer, right.\n\n258\n00:13:18.190 --> 00:13:20.750\nThat doesn't have a drive letter,\nno where did i pick a file system or\n\n259\n00:13:20.750 --> 00:13:21.840\nanything like that.\n\n260\n00:13:21.840 --> 00:13:25.500\nI now go back to this V disk and\nI create a volume.\n\n261\n00:13:25.500 --> 00:13:30.810\nSo this is like a physical disk that\nI might put into my computer that has\n\n262\n00:13:30.810 --> 00:13:32.670\nmirroring built into it.\n\n263\n00:13:32.670 --> 00:13:36.000\nAll right, and so I'll right click\non that and choose new volume.\n\n264\n00:13:37.500 --> 00:13:38.450\nI'll click Next.\n\n265\n00:13:39.490 --> 00:13:40.540\nI'm gonna use server 2.\n\n266\n00:13:40.540 --> 00:13:42.913\nAnd notice it shows up as disk 9.\n\n267\n00:13:42.913 --> 00:13:48.340\nIn fact, if I open up computer management,\nthere's disk 9, 20 gigabytes.\n\n268\n00:13:48.340 --> 00:13:51.100\nThat's that mirrored\ndisk that I just created.\n\n269\n00:13:51.100 --> 00:13:54.140\nSo you see how it's completely\nhiding the fact that there's five\n\n270\n00:13:54.140 --> 00:13:58.440\nphysical drives involved in\ncreating this three way mirror.\n\n271\n00:13:58.440 --> 00:14:00.350\nSo that's what the different layers,\n\n272\n00:14:00.350 --> 00:14:04.060\nwhen I was talking about all the layers\nthat's what I am talking about.\n\n273\n00:14:04.060 --> 00:14:07.110\nWe took five physical hard drives,\nthings I can touch,\n\n274\n00:14:07.110 --> 00:14:09.750\nwell, they're virtual in this case but\nyou know what I mean, right?\n\n275\n00:14:09.750 --> 00:14:15.090\nWe took five disks, and we took all that\nspace and we added it up, and we made\n\n276\n00:14:15.090 --> 00:14:18.800\nthat, well we took, what, eight of them\nactually, I'm sorry, seven of them,added\n\n277\n00:14:18.800 --> 00:14:22.990\nthem up, had that initial storage space of\nfour hundred seventy something gigabytes.\n\n278\n00:14:22.990 --> 00:14:26.015\nThen I took a 20 gigabyte slice of that,\nand I said,\n\n279\n00:14:26.015 --> 00:14:28.995\nset this up like a mirrored disk.\n\n280\n00:14:28.995 --> 00:14:33.565\nSo, the operating system actually sees\nit as 1 20 gigabyte hard drive, right.\n\n281\n00:14:33.565 --> 00:14:36.155\nEven though this is spread\nout across multiple physical\n\n282\n00:14:36.155 --> 00:14:37.515\ndrives in the background.\n\n283\n00:14:37.515 --> 00:14:40.030\nSo now, I could trace simple\nvolumes from right here.\n\n284\n00:14:40.030 --> 00:14:42.870\nIt's just like another\nhard-drive in my computer.\n\n285\n00:14:42.870 --> 00:14:45.640\nI don't have nine disks,\nthis is a virtual disk.\n\n286\n00:14:47.110 --> 00:14:48.530\nAnother thing we need to be careful with,\n\n287\n00:14:48.530 --> 00:14:52.900\nexam tip, that is a virtual\ndisk not a virtual hard-drive.\n\n288\n00:14:52.900 --> 00:14:55.720\nThank you Microsoft,\ncould you make it any more confusing?\n\n289\n00:14:55.720 --> 00:14:58.220\nDo not confuse the two on the exam.\n\n290\n00:14:58.220 --> 00:15:02.480\nA VHD, or a virtual hard drive is what\nwe talked about in the previous episode.\n\n291\n00:15:02.480 --> 00:15:05.430\nIt's a file that I treat\nlike a hard drive.\n\n292\n00:15:05.430 --> 00:15:09.601\nA virtual disk is what we work with\nwith storage pools and storage spaces.\n\n293\n00:15:09.601 --> 00:15:10.140\n>> Yeah.\nAnd\n\n294\n00:15:10.140 --> 00:15:14.610\nyou can kinda see the fact that the little\nicon there on the disk management for\n\n295\n00:15:14.610 --> 00:15:19.880\nthat disk nine is not that little blue\nicon that we saw with those VHDs.\n\n296\n00:15:19.880 --> 00:15:23.610\nDifferent things, so make sure, like Mike\nsaid, don't get ahead of yourself Don't\n\n297\n00:15:23.610 --> 00:15:26.060\nrush through test questions saying\noh yeah, it's just like a VHD.\n\n298\n00:15:26.060 --> 00:15:27.430\nIt's not the same thing.\n\n299\n00:15:27.430 --> 00:15:27.998\n>> That's right.\n\n300\n00:15:27.998 --> 00:15:33.290\nAll right, so let's head back over and\ndo this through server manager here.\n\n301\n00:15:33.290 --> 00:15:36.170\nI'm gonna minimize that so\nwe can see what we're doing.\n\n302\n00:15:36.170 --> 00:15:37.740\nSo again, and I'll just start that over.\n\n303\n00:15:39.360 --> 00:15:41.820\nSo I'm going to right click on that\nmirror disk, that 20 gigabyte.\n\n304\n00:15:41.820 --> 00:15:43.660\nChoose New Volume.\n\n305\n00:15:43.660 --> 00:15:49.650\nI'll click Next and I've already got that\ndisk 9 selected, 20 gigabytes in size.\n\n306\n00:15:49.650 --> 00:15:54.735\nAnd I could choose to make\nthis just five gigabytes.\n\n307\n00:15:54.735 --> 00:15:57.800\nI'll give it a drive letter,\nI'll choose M for mirrored,\n\n308\n00:15:57.800 --> 00:15:59.712\nmakes sense to me in my little brain.\n\n309\n00:15:59.712 --> 00:16:02.920\nI click Next and I'll call this Mirrored.\n\n310\n00:16:05.738 --> 00:16:10.443\nNext and Create.\n\n311\n00:16:10.443 --> 00:16:15.974\nAnd we'll let it whirr and\ngrind for just a second.\n\n312\n00:16:15.974 --> 00:16:18.342\nAnd it's gonna go through and create that.\n\n313\n00:16:18.342 --> 00:16:23.066\nSo at this point, we're gonna have a 5\ngigabyte mirrored volume that I can\n\n314\n00:16:23.066 --> 00:16:25.321\naccess through Windows Explorer.\n\n315\n00:16:25.321 --> 00:16:29.920\nAnd in Explorer, again,\nit looks like a single disk.\n\n316\n00:16:29.920 --> 00:16:36.120\nEven in, remember when we were making\nthe mirrors in our other episode.\n\n317\n00:16:36.120 --> 00:16:40.119\nWe saw in Computer Management the actual\nphysical disks that we were making\n\n318\n00:16:40.119 --> 00:16:41.000\nthe mirror on.\n\n319\n00:16:41.000 --> 00:16:44.140\nWhen we went into Windows Explorer and\nit only showed up as one but\n\n320\n00:16:44.140 --> 00:16:46.910\nComputer Management showed\nus the individual disks.\n\n321\n00:16:46.910 --> 00:16:50.150\nNow, Computer Management doesn't\nsee the individual disks, right?\n\n322\n00:16:50.150 --> 00:16:51.690\nIt's just Disk 9.\n\n323\n00:16:51.690 --> 00:16:53.380\nAnd there's my mirrored volume.\n\n324\n00:16:53.380 --> 00:16:58.020\nIf I open up file explorer, I can see\nthere is mirrored and I can create files\n\n325\n00:16:58.020 --> 00:17:02.210\nand folders or do whatever it is I need\nto do with that volume, all right.\n\n326\n00:17:03.710 --> 00:17:07.520\nSo again, lots of layers,\nwe've got the disks themselves, right?\n\n327\n00:17:07.520 --> 00:17:10.580\nThere's a whole bunch of 60\ngigabyte drives in there.\n\n328\n00:17:10.580 --> 00:17:12.930\nWe've created a storage space,\n\n329\n00:17:12.930 --> 00:17:17.070\nwhich added up all that space from all\nthe drives I included from the pool.\n\n330\n00:17:17.070 --> 00:17:22.840\nThen on that space, I created a virtual\ndisk that was the 20 gigabytes and\n\n331\n00:17:22.840 --> 00:17:24.860\nI set it up as a three way mirror.\n\n332\n00:17:24.860 --> 00:17:28.438\nThen I went on to that 20\ngigabyte virtual disk and\n\n333\n00:17:28.438 --> 00:17:33.190\nI created a volume and I chose to\ndo 5 gigabyte there for the volume.\n\n334\n00:17:33.190 --> 00:17:37.813\nSo now were getting that mirrored fall\ntolerance but it hides most of it from us.\n\n335\n00:17:37.813 --> 00:17:41.310\n[SOUND] All right, so another thing\nwe can do, let's take a look,\n\n336\n00:17:41.310 --> 00:17:43.167\nI'm gonna minimize that for now.\n\n337\n00:17:43.167 --> 00:17:47.775\nThat was the mirror, the other one I\nwant to show you, I'll right-click,\n\n338\n00:17:47.775 --> 00:17:48.929\nnew virtual disk.\n\n339\n00:17:51.600 --> 00:17:52.620\nAnd I'll click Next.\n\n340\n00:17:53.920 --> 00:17:56.440\nAnd I'm sticking with Pool1,\nit's the only one I've got.\n\n341\n00:17:56.440 --> 00:18:00.170\nAnd I'm gonna call this one parity.\n\n342\n00:18:00.170 --> 00:18:02.852\nAnd I'll click Next.\n\n343\n00:18:02.852 --> 00:18:06.480\nAnd I'm gonna do parity,\nand I'll click Next.\n\n344\n00:18:07.670 --> 00:18:10.330\nAnd now, I've got single parity or\ndual parity.\n\n345\n00:18:10.330 --> 00:18:11.130\nThis is pretty cool.\n\n346\n00:18:11.130 --> 00:18:14.210\nSingle parity is what you\nwould expect from RAID 5.\n\n347\n00:18:14.210 --> 00:18:18.000\nYou can lose one hard drive in a RAID\n5 array and you can limp along.\n\n348\n00:18:18.000 --> 00:18:20.990\nYou can rebuild that drive, but\nyou don't lose your data, right.\n\n349\n00:18:20.990 --> 00:18:22.470\nYou can put a new disk in there.\n\n350\n00:18:22.470 --> 00:18:23.408\nYou're good to go.\n\n351\n00:18:23.408 --> 00:18:26.140\nWith RAID 5, if you lose\na second disk at the same time,\n\n352\n00:18:26.140 --> 00:18:28.780\nif you have a two disk failure,\nyour data is gone, all right.\n\n353\n00:18:29.890 --> 00:18:34.040\nWith this, I can do single parity,\nwhich is just like RAID 5 or\n\n354\n00:18:34.040 --> 00:18:38.720\nI can do dual parity, which means\nI can survive a two disk failure.\n\n355\n00:18:38.720 --> 00:18:40.280\nThat's pretty darn cool.\n\n356\n00:18:40.280 --> 00:18:43.210\nNow for single parity,\nI need at least three disks.\n\n357\n00:18:43.210 --> 00:18:45.570\nAnother test question possibly there.\n\n358\n00:18:45.570 --> 00:18:49.370\nFor dual parity,\nI need at least five disks.\n\n359\n00:18:49.370 --> 00:18:51.270\nI'll click Next.\n\n360\n00:18:51.270 --> 00:18:54.150\nI'm gonna do, you notice I\ncan't do thin provisioned with\n\n361\n00:18:54.150 --> 00:18:58.880\neither of the parity ones, you have to go\nahead and claim all the space necessary.\n\n362\n00:18:58.880 --> 00:19:03.347\nI'll click Next and for\nthis one I'm gonna set it up as another,\n\n363\n00:19:03.347 --> 00:19:09.659\nlet's do something different, I'll do 25\ngigabytes and I'll click Next and Create.\n\n364\n00:19:13.107 --> 00:19:15.021\nWe'll let that whir and\ngrind for just a moment.\n\n365\n00:19:21.023 --> 00:19:26.144\n[SOUND] And then when I close, I can\nclick Close and now I've got this parity,\n\n366\n00:19:26.144 --> 00:19:29.603\n28 gigabytes in size,\nI don't wanna have 28.\n\n367\n00:19:29.603 --> 00:19:32.960\nBut again,\nthat doesn't show up on File Explorer.\n\n368\n00:19:32.960 --> 00:19:36.680\nIf I go up to File Explorer,\nnothing new's showing up here.\n\n369\n00:19:36.680 --> 00:19:40.226\nStill got my mirror drive,\nno drive letter, no file system assigned.\n\n370\n00:19:40.226 --> 00:19:44.550\nBut if I go into Computer Management,\nI see Disk 10 and\n\n371\n00:19:44.550 --> 00:19:48.874\njust looks like one drive,\n27 gigabytes in size, but\n\n372\n00:19:48.874 --> 00:19:54.330\nunderneath it, this data is\nbeing spread across five drives.\n\n373\n00:19:54.330 --> 00:19:58.350\nAnd I've got parity in there and if I\ncould lose two of those physical disks\n\n374\n00:19:58.350 --> 00:20:01.490\ncould fail and\nI would still be okay, right?\n\n375\n00:20:01.490 --> 00:20:03.820\nThat's what cool about\nthese storage spaces.\n\n376\n00:20:03.820 --> 00:20:06.673\nAnd the fact that it gives me the\nflexibility to change things in the future\n\n377\n00:20:06.673 --> 00:20:07.877\nand I'll show you what I mean.\n\n378\n00:20:07.877 --> 00:20:10.194\nAll right, but before we get there,\nlet's go ahead and\n\n379\n00:20:10.194 --> 00:20:11.686\ncreate because I can't use it yet.\n\n380\n00:20:11.686 --> 00:20:14.788\nSo I'm gonna right-click on this and\nchoose New Volume.\n\n381\n00:20:14.788 --> 00:20:17.470\nAll right, I'll click Next.\n\n382\n00:20:17.470 --> 00:20:20.530\nI'm gonna use Disk 10,\nthe one that's set up with parity.\n\n383\n00:20:22.550 --> 00:20:26.410\nAnd I'll go ahead and make this,\nI don't know, about 10 gigs in size.\n\n384\n00:20:26.410 --> 00:20:27.129\nI'll click Next.\n\n385\n00:20:29.150 --> 00:20:31.620\nI'll give it a P for parity.\n\n386\n00:20:33.390 --> 00:20:34.513\nI'll give it a label of parity.\n\n387\n00:20:38.882 --> 00:20:41.284\nAnd I'll click Next and Create.\n\n388\n00:20:47.043 --> 00:20:50.157\n[SOUND] And we'll let that go.\n\n389\n00:20:50.157 --> 00:20:54.220\nAll right and again, I don't know\nif you guys are catching on yet.\n\n390\n00:20:54.220 --> 00:20:59.220\nI mean the cool thing about this,\nnowhere did I load RAID drivers, right.\n\n391\n00:20:59.220 --> 00:21:02.070\nI have no RAID controller in there and\nthis is all being\n\n392\n00:21:02.070 --> 00:21:05.340\ndone through the operating system and\nthe performance is right up there.\n\n393\n00:21:05.340 --> 00:21:07.649\nI mean, I've read a few articles\nwhere you feel like, oh,\n\n394\n00:21:07.649 --> 00:21:09.500\nyou're not gonna get the same\nperformance with RAID,\n\n395\n00:21:09.500 --> 00:21:12.490\nyou're probably not going to\nget the exact same performance.\n\n396\n00:21:12.490 --> 00:21:13.640\nBut it's pretty darn close.\n\n397\n00:21:13.640 --> 00:21:17.960\nIn fact, the big thing now is to\ngo out and buy disk enclosures.\n\n398\n00:21:17.960 --> 00:21:19.370\nYou guys have seen those, right.\n\n399\n00:21:19.370 --> 00:21:24.470\nIt's a two unit that goes into your, or so\nmany unit that goes into your rack, and\n\n400\n00:21:24.470 --> 00:21:28.170\nit's just disks stacked upon\ndisks stacked upon disks, right.\n\n401\n00:21:28.170 --> 00:21:31.050\nIt's just a bunch of disks,\nJBOD enclosures.\n\n402\n00:21:31.050 --> 00:21:34.060\nWell I can use that and\ncreate storage pools and\n\n403\n00:21:34.060 --> 00:21:36.200\nit's the flexibility that I get, right?\n\n404\n00:21:36.200 --> 00:21:39.150\nWith RAID,\nI had to preallocate everything.\n\n405\n00:21:39.150 --> 00:21:41.750\nEverything would be set in stone,\nif I wanted to rearrange it.\n\n406\n00:21:41.750 --> 00:21:44.700\nI'm talking about backing it all up,\nblowing it away, and doing it again.\n\n407\n00:21:44.700 --> 00:21:47.682\nWith storage pools, if I allocated\ntoo many drives to that RAID 5,\n\n408\n00:21:47.682 --> 00:21:50.530\nthat parity I just did,\nI can go in there and take one away.\n\n409\n00:21:50.530 --> 00:21:54.820\nIf I wanna add one, I just go in there and\nadd one or two or five more, right?\n\n410\n00:21:54.820 --> 00:21:58.100\nThere's nothing,\nit doesn't do anything to the data itself.\n\n411\n00:21:58.100 --> 00:22:00.540\nIt's really fantastic.\n\n412\n00:22:00.540 --> 00:22:03.530\nAll right,\nnow that will show up as parity.\n\n413\n00:22:03.530 --> 00:22:06.900\nAnd again, it looks like\na simple volume right here, but\n\n414\n00:22:06.900 --> 00:22:11.570\nit's actually being spread\nacross five different drives.\n\n415\n00:22:11.570 --> 00:22:15.040\nand I can lose two of those drives and\nstill access my data.\n\n416\n00:22:15.040 --> 00:22:16.249\n>> That's pretty good for\nredundancy, Mike.\n\n417\n00:22:16.249 --> 00:22:19.089\n>> Right?\n>> That is, that's the kind of redundancy\n\n418\n00:22:19.089 --> 00:22:22.010\nat an enterprise level\nthat you just dream about.\n\n419\n00:22:22.010 --> 00:22:27.930\nThat's exactly what you want because you\nthink, okay, how often does a drive fail?\n\n420\n00:22:27.930 --> 00:22:30.770\nIt fails a whole lot more\noften than you would realize,\n\n421\n00:22:30.770 --> 00:22:34.990\nif you've never worked out in the field\nand seen these things happen.\n\n422\n00:22:34.990 --> 00:22:37.670\nI've seen entire shelves\nof hard drives die,\n\n423\n00:22:37.670 --> 00:22:41.475\njust because the lot of drives that\nwere bought Or just a bad lot.\n\n424\n00:22:41.475 --> 00:22:44.465\nAnd people lost data and\nit can be catastrophic.\n\n425\n00:22:44.465 --> 00:22:48.365\nSo, having this level of redundancy,\nthe more redundancy you can have,\n\n426\n00:22:48.365 --> 00:22:50.775\nthe more fault tolerance you can have,\nit is the better.\n\n427\n00:22:50.775 --> 00:22:51.455\nIt is the way to go.\n\n428\n00:22:51.455 --> 00:22:55.565\nAnd the fact that Microsoft builds\nthis into their operating system,\n\n429\n00:22:55.565 --> 00:22:57.595\nthey're doing you a service.\n\n430\n00:22:57.595 --> 00:23:02.495\nYou can be a small business and\nstill have enterprise level support and\n\n431\n00:23:02.495 --> 00:23:03.695\nredundancy and fault tolerance.\n\n432\n00:23:03.695 --> 00:23:04.860\nThat's awesome.\n\n433\n00:23:04.860 --> 00:23:08.560\n>> And the drives can be anywhere, like\nI said, goofing around at home, I've got\n\n434\n00:23:08.560 --> 00:23:11.910\nan extra drive in one of my computers at\nhome and you can do this on the client,\n\n435\n00:23:11.910 --> 00:23:15.320\nyou don't get all the same features on\nthe client, but you can do some of it.\n\n436\n00:23:15.320 --> 00:23:22.740\nAnd I took an internal drive that was a,\nwhat was that one, that was a SATA drive,\n\n437\n00:23:22.740 --> 00:23:26.530\nand then I had a My Passport hooked up\nvia USB to the front of the computer, and\n\n438\n00:23:26.530 --> 00:23:30.220\nthen I had a My Book, a 2 terabyte\nMy Book that was sitting on my desk.\n\n439\n00:23:30.220 --> 00:23:35.200\nThe Passport, I think was 1 terabyte, and\nthe internal drive was 500 gigabytes.\n\n440\n00:23:35.200 --> 00:23:36.910\nI made a storage pool out of all of those.\n\n441\n00:23:36.910 --> 00:23:40.350\nAnd to the computer, it took all that\nspace, added it up, and it looked like\n\n442\n00:23:40.350 --> 00:23:44.750\none pool and it made a disk that was\nactually going across all those drives.\n\n443\n00:23:44.750 --> 00:23:45.825\nNow, performance was crap.\n\n444\n00:23:45.825 --> 00:23:46.522\n>> [LAUGH]\n>> I mean,\n\n445\n00:23:46.522 --> 00:23:49.591\nit wasn't anything that you would\never wanna do, but the point is wow,\n\n446\n00:23:49.591 --> 00:23:51.190\nthat's some flexibility, right?\n\n447\n00:23:51.190 --> 00:23:53.572\nI mean,\nyou take these disks from anywhere.\n\n448\n00:23:53.572 --> 00:23:58.460\nAll right, so now let's see happens if\nwe have a failure of a drive, right.\n\n449\n00:23:58.460 --> 00:24:03.148\nSo what I'm gonna do is I'm\ngonna actually pop open\n\n450\n00:24:03.148 --> 00:24:07.190\nDevice manager, sorry brain cramp there.\n\n451\n00:24:09.120 --> 00:24:11.340\nAnd I'm going to go into my drives.\n\n452\n00:24:11.340 --> 00:24:12.890\nI'm going to disable one of these guys.\n\n453\n00:24:12.890 --> 00:24:15.625\nI'm just gonna grab this guy here and\nI'm gonna disable it.\n\n454\n00:24:15.625 --> 00:24:19.465\nWe're gonna pretend or\nsimulate a drive failure.\n\n455\n00:24:19.465 --> 00:24:24.105\nI am gonna have to reboot that guy\njust for that change to take effect.\n\n456\n00:24:24.105 --> 00:24:27.484\nShould just take a second, and we're gonna\nsee what happens to our storage pools and\n\n457\n00:24:27.484 --> 00:24:28.349\nour storage spaces.\n\n458\n00:24:28.349 --> 00:24:29.924\nNow while we're waiting for\nthat to reboot,\n\n459\n00:24:29.924 --> 00:24:32.462\nI wanna point out a couple things\nyou're gonna need to know for the exam.\n\n460\n00:24:32.462 --> 00:24:36.865\n2012 R 2 did add some new\nfeatures to storage spaces.\n\n461\n00:24:36.865 --> 00:24:40.780\nOne of my favorites is\nactually called storage tiers.\n\n462\n00:24:40.780 --> 00:24:44.510\nStorage tiers, remember I just told you\nthat you can use drives of different types\n\n463\n00:24:44.510 --> 00:24:45.790\nwhen you create your storage pool.\n\n464\n00:24:45.790 --> 00:24:50.360\nIn other words, I could take mechanical\ndrives, you know ones with spindles and\n\n465\n00:24:50.360 --> 00:24:54.530\nplatters and rewrite heads, and\nI can take solid state drives.\n\n466\n00:24:54.530 --> 00:24:57.970\nI can add all that space up and\nmake one storage pool out of it.\n\n467\n00:24:57.970 --> 00:24:59.598\nSounds great, but wait a second,\n\n468\n00:24:59.598 --> 00:25:03.930\nthose solid state drives are a lot faster\nthan those mechanical drives, right?\n\n469\n00:25:03.930 --> 00:25:05.090\nWindows can take advantage of that.\n\n470\n00:25:05.090 --> 00:25:06.830\nIt will set up a storage tier.\n\n471\n00:25:06.830 --> 00:25:11.880\nYou take one solid state drive, and\nthen three or four mechanical drives\n\n472\n00:25:11.880 --> 00:25:16.120\nto give you the bulk of the actual space,\nand you make one storage pool out of them.\n\n473\n00:25:16.120 --> 00:25:18.750\nAnd what Windows will do\nis it will automatically\n\n474\n00:25:18.750 --> 00:25:22.900\nput the most accessed files on the SSD.\n\n475\n00:25:22.900 --> 00:25:26.900\nIt'll move the least accessed files\nover to the mechanical hard drive.\n\n476\n00:25:26.900 --> 00:25:28.270\nAnd it's doing it behind the scenes.\n\n477\n00:25:28.270 --> 00:25:30.010\nYou don't even have to worry about it.\n\n478\n00:25:30.010 --> 00:25:33.680\nSo to the user, or to your server,\nit looks like one volume.\n\n479\n00:25:33.680 --> 00:25:36.210\nBut part of that volume is\nmuch faster than the rest.\n\n480\n00:25:36.210 --> 00:25:37.120\nIt moves the important,\n\n481\n00:25:37.120 --> 00:25:40.930\nor the most commonly accessed stuff,\nout to that fast part.\n\n482\n00:25:40.930 --> 00:25:44.020\nIt moves the least accessed\nstuff back to the slow part.\n\n483\n00:25:44.020 --> 00:25:45.393\nThat's a pretty cool feature right there.\n\n484\n00:25:45.393 --> 00:25:47.808\n>> It won't be long and\nthe war on the machines will begin.\n\n485\n00:25:47.808 --> 00:25:48.574\n>> I know, right?\n\n486\n00:25:48.574 --> 00:25:50.730\n>> These things are getting\nsuper super smart.\n\n487\n00:25:50.730 --> 00:25:53.990\nThey're putting in really awesome\nfeatures for us to be able to say,\n\n488\n00:25:53.990 --> 00:25:56.780\nI mean that's a brilliant idea.\n\n489\n00:25:56.780 --> 00:26:00.700\nAll those files that are normally getting\nhammered left and right, why put them on\n\n490\n00:26:00.700 --> 00:26:05.110\nthose older style drives, physical drives,\nit takes longer for them to access?\n\n491\n00:26:05.110 --> 00:26:10.030\nGive the performance boost by being able\nto go to the faster drive and then setting\n\n492\n00:26:10.030 --> 00:26:13.440\nthings to just kinda sit in storage off\nwhere they're not going to be utilized.\n\n493\n00:26:13.440 --> 00:26:14.230\nBrilliant idea, brilliant idea.\n\n494\n00:26:14.230 --> 00:26:14.888\n>> Absolutely.\n\n495\n00:26:14.888 --> 00:26:16.560\nAnd it's like, I'd love to have,\n\n496\n00:26:16.560 --> 00:26:18.395\nif everything was solid solid state,\nthat'd be great.\n\n497\n00:26:18.395 --> 00:26:22.285\nBut I can't afford enough space\nto store all of my data, so\n\n498\n00:26:22.285 --> 00:26:25.415\nI have to have that mix and that's gives\nme the advantage, or the ability to take\n\n499\n00:26:25.415 --> 00:26:27.965\nadvantage of where I need it,\nof that speed of that solid state.\n\n500\n00:26:27.965 --> 00:26:28.815\nSo that's one thing.\n\n501\n00:26:28.815 --> 00:26:34.125\nIt also does write back caching,\nwhich allows it to, when you're doing\n\n502\n00:26:34.125 --> 00:26:39.320\nheavy write processes or a lot of random\nsmall writes back to that volume.\n\n503\n00:26:39.320 --> 00:26:43.560\nIf you've got a mix, if the pool\nis made of both solid state and\n\n504\n00:26:43.560 --> 00:26:46.830\nmechanical drives or your magnetic drives,\n\n505\n00:26:46.830 --> 00:26:50.110\nwhat it'll do is it knows those\nmechanical drives have to buffer.\n\n506\n00:26:50.110 --> 00:26:51.930\nThey're a little bit slower at writing.\n\n507\n00:26:51.930 --> 00:26:55.440\nSo, it'll use the solid state\npart of that volume as a buffer.\n\n508\n00:26:55.440 --> 00:26:58.860\nIt'll actually write it real quick to the\nsolid state and tell the operating system,\n\n509\n00:26:58.860 --> 00:26:59.460\nhey, I'm done writing.\n\n510\n00:26:59.460 --> 00:27:03.930\nAnd then it can move it back to those\nmechanical drives when it frees up and\n\n511\n00:27:03.930 --> 00:27:05.290\nwhen they have time.\n\n512\n00:27:05.290 --> 00:27:06.630\nSo it's got write back cache.\n\n513\n00:27:06.630 --> 00:27:08.640\nIt's got storage tiers.\n\n514\n00:27:08.640 --> 00:27:13.240\nIt also does dual parity, which we just\nsaw, being able to do, basically RAID-5.\n\n515\n00:27:13.240 --> 00:27:17.310\nI don't wanna call it that, but dual\nparity, where I can lose two drives and\n\n516\n00:27:17.310 --> 00:27:18.070\nsurvive.\n\n517\n00:27:19.610 --> 00:27:22.120\nYou can do parody spaces with\nfail over clusters now, too.\n\n518\n00:27:22.120 --> 00:27:24.870\nYou could not do that prior to 2012 R2.\n\n519\n00:27:24.870 --> 00:27:27.160\nI can now use those parodies\nthat I just created.\n\n520\n00:27:27.160 --> 00:27:30.130\nI can use that for my fail over clusters.\n\n521\n00:27:30.130 --> 00:27:31.610\nAnd that automatic rebuild.\n\n522\n00:27:31.610 --> 00:27:34.490\nLike I was saying, you don't have\nto use the hot spares anymore,\n\n523\n00:27:34.490 --> 00:27:37.790\nwhere I had to dedicate a drive to where\nit's just sitting there doing nothing,\n\n524\n00:27:37.790 --> 00:27:39.270\nwaiting for\none of the other drives to fail.\n\n525\n00:27:39.270 --> 00:27:40.900\nI don't have to do that anymore.\n\n526\n00:27:40.900 --> 00:27:44.866\nI can make all those drives part of\nmy pool, and then what it'll do is,\n\n527\n00:27:44.866 --> 00:27:48.780\nnotice how when I created these drives,\nI didn't use all the space?\n\n528\n00:27:50.226 --> 00:27:52.650\nWell, let me get back over\nhere to storage pools.\n\n529\n00:27:52.650 --> 00:27:53.560\nLike my mirror.\n\n530\n00:27:53.560 --> 00:27:58.260\nI think the total size on that\nmirrored virtual disk was 20GB.\n\n531\n00:27:58.260 --> 00:28:01.660\nBut the volume I created\nwas only like 5GB.\n\n532\n00:28:01.660 --> 00:28:06.190\nThere's really 15GB of space left\nthat's un-allocated, if you will.\n\n533\n00:28:06.190 --> 00:28:09.940\nIf we looked at computer management,\nthat'd be 15GB of un-allocated space.\n\n534\n00:28:09.940 --> 00:28:12.680\nIt can actually use\nthat un-allocated space\n\n535\n00:28:12.680 --> 00:28:15.090\nas a place to write stuff\nduring that rebuild process.\n\n536\n00:28:15.090 --> 00:28:17.070\nThat's why you don't have to\nhave the hot spares anymore.\n\n537\n00:28:17.070 --> 00:28:18.630\nAll right?\n\n538\n00:28:18.630 --> 00:28:20.680\nSo here we go,\nI've lost one of the drives, and\n\n539\n00:28:20.680 --> 00:28:24.410\nevidently I picked one of the drives\nthat didn't have anything on it.\n\n540\n00:28:24.410 --> 00:28:26.840\nNo, it's already fixed\nthe problem actually, I think.\n\n541\n00:28:26.840 --> 00:28:30.530\nYeah, I was hoping I could\nshow you the problem.\n\n542\n00:28:30.530 --> 00:28:32.900\nHere I can see pool one has an issue.\n\n543\n00:28:32.900 --> 00:28:35.710\nIt says it's degraded, but\nnotice my virtual discs?\n\n544\n00:28:35.710 --> 00:28:37.020\nThese are all still fine.\n\n545\n00:28:37.020 --> 00:28:39.770\nIt has used other drives and\nsaid, all right,\n\n546\n00:28:39.770 --> 00:28:44.340\none of your drives failed, we can work\naround it and we'll keep you going.\n\n547\n00:28:44.340 --> 00:28:45.395\n>> It's amazing.\n\n548\n00:28:45.395 --> 00:28:48.645\nAnd at this point, what you would\ndo is you don't try to fix it.\n\n549\n00:28:48.645 --> 00:28:49.525\nYou just remove that drive.\n\n550\n00:28:49.525 --> 00:28:53.375\nAnd then you go add another drive to your\nserver, and you add that to the pool.\n\n551\n00:28:53.375 --> 00:28:54.965\nThat's how you fix it, right.\n\n552\n00:28:54.965 --> 00:28:58.445\nThat just becomes more space it can\nuse in the event of another failure.\n\n553\n00:28:58.445 --> 00:29:00.795\nAnother cool feature that\nwon't be on the exam, and\n\n554\n00:29:00.795 --> 00:29:04.035\nI don't think anybody else cares\nexcept me, but I love this feature.\n\n555\n00:29:04.035 --> 00:29:06.930\nYou can right click on this guy and\ntoggle drive light.\n\n556\n00:29:06.930 --> 00:29:09.870\nIt never worked with a RAID array or\na SAN box,\n\n557\n00:29:09.870 --> 00:29:11.310\nwhere you've got all\nthese drives in there.\n\n558\n00:29:11.310 --> 00:29:12.360\nOne of them's failed.\n\n559\n00:29:12.360 --> 00:29:13.220\n>> Which one is it?\n\n560\n00:29:13.220 --> 00:29:13.884\n>> Which one is it?\n\n561\n00:29:13.884 --> 00:29:15.106\n>> [LAUGH]\n>> And you've got your stethoscope, and\n\n562\n00:29:15.106 --> 00:29:16.501\nyou're trying to see which one's clicking.\n\n563\n00:29:16.501 --> 00:29:19.167\nNo, I'm just kidding, you don't do that.\n\n564\n00:29:19.167 --> 00:29:21.980\nYou can actually toggle the drive light,\nmake that thing flash.\n\n565\n00:29:21.980 --> 00:29:26.820\nSo you know, okay, I need to go remove\nphysical disk one from the JBOD enclosure.\n\n566\n00:29:26.820 --> 00:29:30.650\nI right click and I toggle drive light and\nnow that drive light is just sitting\n\n567\n00:29:30.650 --> 00:29:35.620\nthere flashing and I can go pull the\nappropriate drive out of the, you know.\n\n568\n00:29:35.620 --> 00:29:38.650\nMy virtual drives don't support\ntoggling now so I can't do that.\n\n569\n00:29:38.650 --> 00:29:44.490\nBut at this point, yeah,\nI would just Remove Disk, and Yes.\n\n570\n00:29:44.490 --> 00:29:47.630\nAnd it's gonna pull that one out, and\nit's gonna rebuild everything else, and\n\n571\n00:29:47.630 --> 00:29:49.700\nwe are good to go.\n\n572\n00:29:49.700 --> 00:29:53.510\nAnd that, my friends,\nis storage pools and storage spaces.\n\n573\n00:29:53.510 --> 00:29:56.150\nAgain, a little complex,\na lot of layers to it.\n\n574\n00:29:56.150 --> 00:29:58.330\nYou've gotta go through\nthis a few times and\n\n575\n00:29:58.330 --> 00:30:01.090\nplay around with it to start\nwrapping your head around it.\n\n576\n00:30:01.090 --> 00:30:03.040\nBut you create the storage pool.\n\n577\n00:30:03.040 --> 00:30:04.600\nThat's just space.\n\n578\n00:30:04.600 --> 00:30:07.890\nThink of storage pool as just, you know,\nhow much space do I have available?\n\n579\n00:30:07.890 --> 00:30:09.650\nDoesn't matter what disks\nthey're coming from.\n\n580\n00:30:09.650 --> 00:30:14.190\nYou're just taking all the drives that you\nput in that pool and adding up the space.\n\n581\n00:30:14.190 --> 00:30:18.250\nThen you create a storage space or a\nvirtual disk out of that available space.\n\n582\n00:30:18.250 --> 00:30:21.430\nThat's what the computer sees and\nit sees it like a hard drive.\n\n583\n00:30:21.430 --> 00:30:24.630\nRemember, it showed up in computer\nmanagement as disk nine even though I've\n\n584\n00:30:24.630 --> 00:30:28.310\nonly got eight disks in this computer,\nand disk ten, and\n\n585\n00:30:28.310 --> 00:30:32.640\nthen on top of that virtual disk,\nyou create your volumes.\n\n586\n00:30:32.640 --> 00:30:36.350\nThose are the ones that get the file\nsystem, they get a letter, and\n\n587\n00:30:36.350 --> 00:30:37.770\nthat show up in file explorer.\n\n588\n00:30:37.770 --> 00:30:41.280\nSo a lot of layers to it, but\nonce you work through it a couple times,\n\n589\n00:30:41.280 --> 00:30:43.540\nI think it'll make sense,\nand the flexibility and\n\n590\n00:30:43.540 --> 00:30:46.730\nthe power that you get with this, you can\nsee this is gonna be here for a while.\n\n591\n00:30:46.730 --> 00:30:47.600\n>> That's right.\n\n592\n00:30:47.600 --> 00:30:50.932\nWell Mike, it looks like we've come to\nthe end of yet another awesome episode.\n\n593\n00:30:50.932 --> 00:30:53.164\nHopefully you viewers out\nthere got a lot out of it.\n\n594\n00:30:53.164 --> 00:30:56.083\nIf this is something new to you,\nmake sure you go back and watch again.\n\n595\n00:30:56.083 --> 00:30:58.585\nLather, rinse, repeat until\nit's stuck in the old head, so\n\n596\n00:30:58.585 --> 00:31:00.300\nthat you're ready for that exam.\n\n597\n00:31:00.300 --> 00:31:02.890\nThat being said, we're going to go\nahead and sign off for ITProTV.\n\n598\n00:31:02.890 --> 00:31:04.540\nI've been your host Daniel Lowry.\n\n599\n00:31:04.540 --> 00:31:05.370\n>> And I'm Mike Roderick.\n\n600\n00:31:05.370 --> 00:31:06.571\n>> And we'll see you next time.\n\n601\n00:31:06.571 --> 00:31:12.920\n[MUSIC]\n\n",
          "vimeoId": "137253746"
        }
      ],
      "title": "Install and configure servers"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Mike cover NTFS permissions. They discuss how NTFS permissions are applied, explicit and inherited permissions, blocking inheritance and effective permissions.",
          "length": "1944",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-4-1-configuring_ntfs_permissions-071415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-4-1-configuring_ntfs_permissions-071415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-4-1-configuring_ntfs_permissions-071415-1-sm.jpg",
          "title": "Configuring NTFS Permissions",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.576\n[MUSIC]\n\n2\n00:00:10.576 --> 00:00:14.930\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.930 --> 00:00:16.060\nI'm your host, Daniel Lowrie.\n\n4\n00:00:16.060 --> 00:00:18.390\nHere with me today is the amazing,\nMike Rodrick.\n\n5\n00:00:18.390 --> 00:00:20.493\nHow's it going today, Mike?\n>> [LAUGH] It's going fantastic, Daniel.\n\n6\n00:00:20.493 --> 00:00:24.399\nI'm excited to be here,\nanother exciting episode at ITProTV.\n\n7\n00:00:24.399 --> 00:00:27.900\nToday we're gonna be\ncovering NTFS permissions.\n\n8\n00:00:27.900 --> 00:00:29.150\nAnd it's a pretty big topic,\n\n9\n00:00:29.150 --> 00:00:32.100\nit's something that you might be\na little bit familiar with already.\n\n10\n00:00:32.100 --> 00:00:36.774\nCuz you've probably seen it in\nmost of your studies, A+, Net+,\n\n11\n00:00:36.774 --> 00:00:39.870\nSecurity+, your Windows 8 classes.\n\n12\n00:00:39.870 --> 00:00:42.310\nIt's something you see in all of those,\nand that's because\n\n13\n00:00:42.310 --> 00:00:46.200\nit really is a big part of an IT\nperson's responsibility in the network.\n\n14\n00:00:46.200 --> 00:00:47.960\n>> Yeah.\nIf you think that it's such\n\n15\n00:00:47.960 --> 00:00:48.560\na simple thing.\n\n16\n00:00:48.560 --> 00:00:50.040\nOh, you set a permission.\n\n17\n00:00:50.040 --> 00:00:51.510\nBut if you don't set those permissions,\n\n18\n00:00:51.510 --> 00:00:54.130\nwell, then things are wide open,\navailable to everyone.\n\n19\n00:00:54.130 --> 00:00:57.030\nThis is why this falls under\nthe security umbrella.\n\n20\n00:00:57.030 --> 00:00:58.670\nThis is part of security.\n\n21\n00:00:58.670 --> 00:01:00.210\nHow do we set these permissions?\n\n22\n00:01:00.210 --> 00:01:01.700\nWhat's the right thing to set?\n\n23\n00:01:01.700 --> 00:01:03.220\nWhat overtrumps what?\n\n24\n00:01:03.220 --> 00:01:07.720\nIt's a lot of what seems to be complex\nsituation but really if you look at it and\n\n25\n00:01:07.720 --> 00:01:11.490\nyou understand just the basics on how\neach one of the permissions work.\n\n26\n00:01:11.490 --> 00:01:13.497\nAnd we're gonna walk you\nthough that kind of thing and\n\n27\n00:01:13.497 --> 00:01:15.471\ntell you this is what this is,\nthis is what's that.\n\n28\n00:01:15.471 --> 00:01:18.126\nAnd after that you'll be\nable to say logically,\n\n29\n00:01:18.126 --> 00:01:20.250\nokay this is what my user needs.\n\n30\n00:01:20.250 --> 00:01:22.340\nHere is how I need to\nset those permissions.\n\n31\n00:01:22.340 --> 00:01:25.499\nAnd to be able to do that within the\nWindows Server environment is gonna help\n\n32\n00:01:25.499 --> 00:01:27.366\nyou out especially if\nyou use that product.\n\n33\n00:01:27.366 --> 00:01:30.683\n>> Absolutely, you look at objectives\non exams and things like that,\n\n34\n00:01:30.683 --> 00:01:33.418\nthey always call out controlling\naccess to resources or\n\n35\n00:01:33.418 --> 00:01:37.270\nmaking sure that people have access\nto resources in a secure fashion.\n\n36\n00:01:37.270 --> 00:01:40.340\nAnd when you read that you might first\nthink oh, it's gotta be encrypted or\n\n37\n00:01:40.340 --> 00:01:42.350\nwe've gotta set up a tunnel and\nencrypt that.\n\n38\n00:01:42.350 --> 00:01:45.801\nNo, what they're talking about is,\nif the person should have access to it,\n\n39\n00:01:45.801 --> 00:01:46.663\nthey have access.\n\n40\n00:01:46.663 --> 00:01:50.300\nIf they shouldn't have access to it,\nthen they shouldn't be able to get to it.\n\n41\n00:01:50.300 --> 00:01:53.290\nAnd if they should have access to it,\nshould they only be able to read it,\n\n42\n00:01:53.290 --> 00:01:55.880\nshould they be able to make changes,\nshould they be able to delete it?\n\n43\n00:01:55.880 --> 00:02:00.105\nThose kinds of things, that's what they\nmean by accessing resources in a secure\n\n44\n00:02:00.105 --> 00:02:03.115\nfashion, making sure that basically\nthe principle of least privilege,\n\n45\n00:02:03.115 --> 00:02:06.585\nthat everybody has what they need\nto do their job and nothing more.\n\n46\n00:02:06.585 --> 00:02:07.185\nAll right.\n\n47\n00:02:07.185 --> 00:02:10.125\nSo that's really what NTFS\npermissions is all about.\n\n48\n00:02:10.125 --> 00:02:12.715\nAnd let's just start anyway\ntalking about them in general.\n\n49\n00:02:12.715 --> 00:02:18.695\nNTFS permissions are something that we\nget because we use the NTFS file system.\n\n50\n00:02:18.695 --> 00:02:22.400\nAgain we learned back in A+, right, there\nare other file systems that we can use.\n\n51\n00:02:22.400 --> 00:02:25.840\nFAT, FAT32, and things like that,\nbut they were limited.\n\n52\n00:02:25.840 --> 00:02:30.625\nThey had very few permissions you could\ndo, but the hidden and read-only,\n\n53\n00:02:30.625 --> 00:02:35.440\nI think, were about all you could do\nback there in the old FAT systems.\n\n54\n00:02:35.440 --> 00:02:39.860\nNTFS, when it was first introduced, and\nit was way back when, back before 2000,\n\n55\n00:02:39.860 --> 00:02:43.700\nI guess Windows NT, I think,\npulled up the NTFS file system.\n\n56\n00:02:44.970 --> 00:02:49.480\nThat introduced this whole new concept\nof file and folder level access.\n\n57\n00:02:49.480 --> 00:02:52.900\nAnd the ability to set\npermissions on these objects,\n\n58\n00:02:52.900 --> 00:02:57.280\nto control what level of access\nmy security principles have.\n\n59\n00:02:57.280 --> 00:02:59.350\nAnd that's another important\nconcept I wanna throw at you.\n\n60\n00:02:59.350 --> 00:03:00.510\nI kinda slip it in there, but\n\n61\n00:03:00.510 --> 00:03:02.960\nit is something that we should\nmake mention of, right?\n\n62\n00:03:02.960 --> 00:03:07.430\nA security principle is anything\nthat I can assign permissions to.\n\n63\n00:03:07.430 --> 00:03:11.140\nAs we're talking about in a Windows\nnetwork, a user account for example,\n\n64\n00:03:11.140 --> 00:03:16.372\nI can give a user read or write or\nfull control or deny permissions, right?\n\n65\n00:03:16.372 --> 00:03:18.710\nA user account is a security principle.\n\n66\n00:03:18.710 --> 00:03:22.590\nA group is also a security principle\nbecause I can add that group and\n\n67\n00:03:22.590 --> 00:03:25.370\ngive it read or write permissions.\n\n68\n00:03:25.370 --> 00:03:28.140\nA computer account would\nalso be a security principle\n\n69\n00:03:28.140 --> 00:03:30.650\nbecause I can assign permissions\nto a computer just as well.\n\n70\n00:03:30.650 --> 00:03:33.557\nIt's something that a lot of\npeople don't think about, but\n\n71\n00:03:33.557 --> 00:03:35.442\nyou can control access for a computer.\n\n72\n00:03:35.442 --> 00:03:39.730\nAnd this web server should be the only one\nthat allowed to to talk to this database\n\n73\n00:03:39.730 --> 00:03:41.080\nor something like that.\n\n74\n00:03:41.080 --> 00:03:46.640\nSo we can control permissions, or we can\nuse computers to control access as well.\n\n75\n00:03:46.640 --> 00:03:51.280\nSo let's just start by simply\ntaking a look at NTFS permissions.\n\n76\n00:03:51.280 --> 00:03:55.670\nSo I'm gonna open up\nFile Explorer here on my server.\n\n77\n00:03:55.670 --> 00:03:57.459\nAnd I'll navigate into my C drive.\n\n78\n00:03:57.459 --> 00:04:01.640\nAnd I've set up a little folder structure,\nI've got this sales folder, and\n\n79\n00:04:01.640 --> 00:04:06.336\nthen inside that sales folder, I've got\nsome additional folders, customers form,\n\n80\n00:04:06.336 --> 00:04:08.139\norder forms and sales reports and\n\n81\n00:04:08.139 --> 00:04:12.790\nI start by just right clicking on that\nsales folder and choosing properties.\n\n82\n00:04:12.790 --> 00:04:17.523\nWhen you open the properties of any\nresource on the NTFS file system,\n\n83\n00:04:17.523 --> 00:04:20.063\nyou're gonna to get a security tab.\n\n84\n00:04:20.063 --> 00:04:26.907\nA security tab is known as the the\nDiscretionary Access Control List or\n\n85\n00:04:26.907 --> 00:04:28.533\nDACL for short.\n\n86\n00:04:28.533 --> 00:04:29.650\nNow they call it a security tab.\n\n87\n00:04:29.650 --> 00:04:31.190\nThat makes it easier for us, right?\n\n88\n00:04:31.190 --> 00:04:35.220\nBut technically it's a DACL or\na Discretionary Access Control List.\n\n89\n00:04:35.220 --> 00:04:39.390\nAnd this is where I can control\nwho has what level of access,\n\n90\n00:04:39.390 --> 00:04:41.620\nif any, to this resource.\n\n91\n00:04:41.620 --> 00:04:45.040\nSo this is the DACL,\nthis whole tab is the DACL.\n\n92\n00:04:45.040 --> 00:04:50.620\nEach one of these lines, system,\nadministrator, administrators,\n\n93\n00:04:50.620 --> 00:04:55.850\neach one of those is known as an ACE,\nor an Access Control Entry.\n\n94\n00:04:55.850 --> 00:04:58.830\nAnd the way NTFS works, anytime someone or\n\n95\n00:04:58.830 --> 00:05:04.150\nsomething tries to access a resource,\nit looks at this DACL.\n\n96\n00:05:04.150 --> 00:05:09.710\nAnd it looks at the user or the computer,\nlet's say user just to keep it simple.\n\n97\n00:05:09.710 --> 00:05:12.840\nIf a user tries to\ndouble-click on this folder,\n\n98\n00:05:12.840 --> 00:05:15.380\nthe user presents his access token.\n\n99\n00:05:15.380 --> 00:05:17.790\nThis is in the background, right,\nit's something we don't see.\n\n100\n00:05:17.790 --> 00:05:21.350\nYour access token, you got that\nwhen you logged onto the system.\n\n101\n00:05:21.350 --> 00:05:26.010\nThat access token has your account,\nthe SID basically for\n\n102\n00:05:26.010 --> 00:05:29.570\nyour account, the security identifier,\nthe security identifier for\n\n103\n00:05:29.570 --> 00:05:33.920\nany groups that you might be long to, and\nit compares the access token that you\n\n104\n00:05:33.920 --> 00:05:38.230\nare presenting with the Discretionary\nAccess Control List on that resource.\n\n105\n00:05:38.230 --> 00:05:40.060\nIt's say Mike, all right.\n\n106\n00:05:40.060 --> 00:05:43.770\nNope, Mike's not in the list,\nyou belong to sales.\n\n107\n00:05:43.770 --> 00:05:45.670\nNope, sales is not in the list.\n\n108\n00:05:45.670 --> 00:05:47.550\nYou're also in the administrators group.\n\n109\n00:05:47.550 --> 00:05:51.960\nOh wait, administrators is in the list,\nthat means you get full control.\n\n110\n00:05:51.960 --> 00:05:52.830\nSo that's all it's doing,\n\n111\n00:05:52.830 --> 00:05:56.040\ncomparing your access token to\nthe Discretionary Access Control List.\n\n112\n00:05:56.040 --> 00:05:59.360\nIf there's a match great,\nit'll assign you those permissions.\n\n113\n00:05:59.360 --> 00:06:03.430\nThose permission might allow ror deny\nThat it will give you those permissions.\n\n114\n00:06:03.430 --> 00:06:07.180\nIf you're not on the list if\nnothing on your access token\n\n115\n00:06:07.180 --> 00:06:11.260\nmatches anything on the Discretionary\nAccess Control List, you don't get access.\n\n116\n00:06:11.260 --> 00:06:13.880\nThere is an implicit deny system in place.\n\n117\n00:06:13.880 --> 00:06:15.950\nSo, if I create something but\n\n118\n00:06:15.950 --> 00:06:20.790\nthen don't put anybody on the Security\ntab, nobody has access to the resource.\n\n119\n00:06:20.790 --> 00:06:24.680\nIf I don't want Sales to get\naccess to this resource,\n\n120\n00:06:24.680 --> 00:06:28.030\nI just don't add the Sales group to\nthis list and they won't get access.\n\n121\n00:06:29.210 --> 00:06:32.270\nThat's an implicit deny system.\n\n122\n00:06:32.270 --> 00:06:35.500\nAll right, so in fact,\nlet's continue on from there.\n\n123\n00:06:35.500 --> 00:06:37.890\nSo we've got our\nDiscretionary Access Control List.\n\n124\n00:06:37.890 --> 00:06:41.120\nWe've got our ACEs,\nour Access Control Entries.\n\n125\n00:06:41.120 --> 00:06:45.880\nThe next thing I want to talk about is the\nfact that these permissions can either be\n\n126\n00:06:45.880 --> 00:06:49.610\nexplicit or they can be inherited.\n\n127\n00:06:49.610 --> 00:06:52.170\nAnd I'm going to do a demo\nkind of throughout this show.\n\n128\n00:06:52.170 --> 00:06:54.930\nSo it's going to be one long,\nextended thing here.\n\n129\n00:06:54.930 --> 00:06:57.260\nI've got a group called sales.\n\n130\n00:06:57.260 --> 00:07:00.430\nAnd in that sales group I've\ngot a few user accounts.\n\n131\n00:07:00.430 --> 00:07:04.070\nAnd I want to give them permissions\nover this sales folder.\n\n132\n00:07:04.070 --> 00:07:08.469\nSo to give somebody permissions over the\nresource I go to the access control list,\n\n133\n00:07:08.469 --> 00:07:09.693\nor this security tab.\n\n134\n00:07:09.693 --> 00:07:14.383\nThen I'm gonna click Edit, and\nthen that pulls up an editable\n\n135\n00:07:14.383 --> 00:07:19.510\nversion of that access control list,\nand I'll click Add.\n\n136\n00:07:19.510 --> 00:07:24.390\nAnd I'll find group that I want,\nin this case it's named sales.\n\n137\n00:07:24.390 --> 00:07:27.470\nI'll grab that group, and I'll click OK.\n\n138\n00:07:27.470 --> 00:07:30.336\nAnd now there's an ACE for\nthe group called sales.\n\n139\n00:07:30.336 --> 00:07:33.889\nSo now I can control what level of\npermissions I want to give them and\n\n140\n00:07:33.889 --> 00:07:36.600\nI can give them any one\nof these permissions.\n\n141\n00:07:36.600 --> 00:07:38.960\nYou can see by default\nthey're gonna get read and\n\n142\n00:07:38.960 --> 00:07:42.230\nexecute, list folder contents, and read.\n\n143\n00:07:43.380 --> 00:07:45.740\nAnd I'm gonna go ahead and\ngive them write as well.\n\n144\n00:07:45.740 --> 00:07:48.280\nSo I'm gonna give them\nan additional permission.\n\n145\n00:07:48.280 --> 00:07:52.360\nI click okay, and\nnow there's a new ace for sales.\n\n146\n00:07:52.360 --> 00:07:55.010\nAnd I can see what\npermissions I've given them.\n\n147\n00:07:55.010 --> 00:07:59.636\nNow, one of the great things about NTFS\nthat makes it really easy to work with is,\n\n148\n00:07:59.636 --> 00:08:02.715\nthe fact that by default\npermissions are inherited.\n\n149\n00:08:02.715 --> 00:08:06.099\nThere could be dozens or\nhundreds of files,\n\n150\n00:08:06.099 --> 00:08:10.954\nand sub folders and\nadditional files inside the sales folder.\n\n151\n00:08:10.954 --> 00:08:12.380\nI don't wanna have to give,\nI don't wanna have to\n\n152\n00:08:14.470 --> 00:08:17.880\ngo to each one of those objects and\nassign those permissions.\n\n153\n00:08:17.880 --> 00:08:18.860\nBy default,\n\n154\n00:08:18.860 --> 00:08:24.350\nNTFS permissions inherit from the parent\nobject down to that child object.\n\n155\n00:08:24.350 --> 00:08:25.880\nAll right, and I'll show you what I mean.\n\n156\n00:08:25.880 --> 00:08:29.710\nSo I assigned the permissions right here,\nover this sales folder.\n\n157\n00:08:29.710 --> 00:08:33.850\nI haven't done anything with these folders\nin here, but if I right click on this\n\n158\n00:08:33.850 --> 00:08:39.430\nsales report and pull up properties,\nand I go over to my security tab.\n\n159\n00:08:39.430 --> 00:08:41.050\nThere's sales, right there.\n\n160\n00:08:41.050 --> 00:08:42.930\nAnd notice they have\nthose same permissions.\n\n161\n00:08:42.930 --> 00:08:45.960\nRead and execute list, read, and write.\n\n162\n00:08:45.960 --> 00:08:47.690\nSo those permissions were inherited down,\n\n163\n00:08:47.690 --> 00:08:50.190\nwhich Daniel,\ncan save you a whole ton of time, right?\n\n164\n00:08:50.190 --> 00:08:51.450\n>> Yeah, it's really great.\n\n165\n00:08:51.450 --> 00:08:54.370\nAnd if you think about it,\nthis is how it should work.\n\n166\n00:08:54.370 --> 00:08:57.920\nThat It just makes sense for\nit to actually work in this manner.\n\n167\n00:08:57.920 --> 00:09:01.040\nThat if I have a folder and\nI've set permissions on it,\n\n168\n00:09:01.040 --> 00:09:04.760\nwhat I'm saying is that anything in that\nfolder needs to have the same permissions.\n\n169\n00:09:04.760 --> 00:09:06.280\nThat's why I set it here.\n\n170\n00:09:06.280 --> 00:09:09.570\nThat's the permissions I want for\neverything in this folder.\n\n171\n00:09:09.570 --> 00:09:13.320\nAnd if I wanted to change permissions in\nthere, then I would have to go in and\n\n172\n00:09:13.320 --> 00:09:17.040\nexplicitly say I want this and this,\nto have different permissions.\n\n173\n00:09:17.040 --> 00:09:20.560\nBut other than that, like Mike said,\nkeeps my life as an administrator\n\n174\n00:09:20.560 --> 00:09:24.580\ninfinitely more easy than, than it would\nbe having to go to through every single\n\n175\n00:09:24.580 --> 00:09:29.230\nobject inside the folder, like you said,\ncould be tons of stuff in there.\n\n176\n00:09:29.230 --> 00:09:30.715\nAnd trust me, I've been there.\n\n177\n00:09:30.715 --> 00:09:32.760\n>> [LAUGH]\n>> I've actually had users call me and\n\n178\n00:09:32.760 --> 00:09:34.450\nsay, I can't create a file here.\n\n179\n00:09:34.450 --> 00:09:35.220\nI don't know what's going on.\n\n180\n00:09:35.220 --> 00:09:37.750\nAnd they had reached\nthe character limit in the path.\n\n181\n00:09:37.750 --> 00:09:38.360\n>> Oh wow.\n\n182\n00:09:38.360 --> 00:09:39.750\n>> That's how many things.\n\n183\n00:09:39.750 --> 00:09:42.960\nNow it could be long names, but it wasn't.\n\n184\n00:09:42.960 --> 00:09:45.920\nIt was just the fact that they had so\nmany sub folders and\n\n185\n00:09:45.920 --> 00:09:48.350\nobjects inside of there,\nthat it was taking up the character limit.\n\n186\n00:09:48.350 --> 00:09:49.560\nIt was crazy so-\n>> I\n\n187\n00:09:49.560 --> 00:09:52.760\ncan't imaging trying to set those\npermissions on each one of those objects.\n\n188\n00:09:52.760 --> 00:09:53.810\n>> Yeah.\nforget your life, man.\n\n189\n00:09:53.810 --> 00:09:54.931\nIt's not gonna happen.\n\n190\n00:09:54.931 --> 00:09:55.558\n>> [LAUGH]\n>> Alright, so\n\n191\n00:09:55.558 --> 00:09:56.604\nI've got those permissions set.\n\n192\n00:09:56.604 --> 00:09:58.810\nNow what I'm gonna do is,\nI'm gonna do a little trick here.\n\n193\n00:09:58.810 --> 00:10:01.500\nI'm gonna navigate back out and\nI'm gonna pull up the properties for\n\n194\n00:10:01.500 --> 00:10:02.670\nthe sales folder.\n\n195\n00:10:02.670 --> 00:10:04.440\nThat's that root folder.\n\n196\n00:10:04.440 --> 00:10:07.650\nAnd then behind here,\nI still have the properties pulled up for\n\n197\n00:10:07.650 --> 00:10:08.900\nthe sales reports folder.\n\n198\n00:10:08.900 --> 00:10:11.630\nAnd that's a sub folder inside sales.\n\n199\n00:10:11.630 --> 00:10:14.280\nAnd I'm gonna pull up the security\ntab on both of these guys, and\n\n200\n00:10:14.280 --> 00:10:17.930\nput them side by side, and\nchoose sales on both of them.\n\n201\n00:10:17.930 --> 00:10:19.190\nAnd I want you to take a peek.\n\n202\n00:10:19.190 --> 00:10:20.930\nAnd you guys see any different?\n\n203\n00:10:20.930 --> 00:10:24.030\nNow it might be a little\ndifficult to see on the TV screen.\n\n204\n00:10:24.030 --> 00:10:26.040\nIt looks it actually pretty apparent.\n\n205\n00:10:26.040 --> 00:10:26.760\nWhat do you think, Danny?\n\n206\n00:10:26.760 --> 00:10:28.700\nAre there any difference\nbetween these check marks?\n\n207\n00:10:28.700 --> 00:10:29.690\n>> Let's see here.\n\n208\n00:10:29.690 --> 00:10:31.440\nThey look pretty similar to me.\n\n209\n00:10:31.440 --> 00:10:34.190\nThey do look really similar,\nbut if we look really closely,\n\n210\n00:10:34.190 --> 00:10:38.300\nthese on the left on the sales\nfolder are a black color.\n\n211\n00:10:38.300 --> 00:10:41.150\nAnd these over here on the right, I know\nit's probably not coming off on the TV\n\n212\n00:10:41.150 --> 00:10:46.150\nthat well, these on the right on\nthat sub folder are actually grey.\n\n213\n00:10:46.150 --> 00:10:46.790\nright?\n\n214\n00:10:46.790 --> 00:10:49.200\nThat mean,\nthen that there's a reason for that.\n\n215\n00:10:49.200 --> 00:10:52.580\nThese black ones over here,\nthose are explicit permissions.\n\n216\n00:10:52.580 --> 00:10:55.788\nI went to this object,\npulled up its properties, and\n\n217\n00:10:55.788 --> 00:10:57.100\nassigned those permissions.\n\n218\n00:10:57.100 --> 00:11:00.465\nI explicitly said,\nI want sales to have read and\n\n219\n00:11:00.465 --> 00:11:02.895\nwrite permissions over this object.\n\n220\n00:11:02.895 --> 00:11:04.735\nI didn't go to sales reports.\n\n221\n00:11:04.735 --> 00:11:06.260\nThese are inherited permissions.\n\n222\n00:11:06.260 --> 00:11:06.845\nRight?\n\n223\n00:11:06.845 --> 00:11:07.765\nAnd that's why they're gray.\n\n224\n00:11:07.765 --> 00:11:10.185\nSo a quick visual que, lets you know hey,\n\n225\n00:11:10.185 --> 00:11:13.460\nthose permissions were inherited\nfrom the parent object.\n\n226\n00:11:13.460 --> 00:11:16.920\nNow, I don't know what the parent was,\nI mean I know because we just did it, but\n\n227\n00:11:16.920 --> 00:11:18.380\nit doesn't tell you what the parent is,\nright?\n\n228\n00:11:18.380 --> 00:11:21.436\nIt says okay, these were inherited,\nit could of been that folder above me.\n\n229\n00:11:21.436 --> 00:11:25.800\nIt could have been the C drive itself, or\nwhatever volume this folder resides on.\n\n230\n00:11:25.800 --> 00:11:26.662\nRight?\n\n231\n00:11:26.662 --> 00:11:32.520\nNow, why I point this out is because,\nexplicit permissions, you can change.\n\n232\n00:11:32.520 --> 00:11:35.350\nInherited permissions you\ncan't change directly.\n\n233\n00:11:35.350 --> 00:11:39.160\nLike if I go back into here and\nI click edit, I can undo,\n\n234\n00:11:39.160 --> 00:11:43.930\nif I go to sales I could take away or\nadd these permissions.\n\n235\n00:11:43.930 --> 00:11:45.690\nAlright, I can work with them no problem.\n\n236\n00:11:45.690 --> 00:11:49.330\nIf I go over here to the sales reports\nwhere those permissions are inherited,\n\n237\n00:11:49.330 --> 00:11:51.870\nI click edit and I go to sales.\n\n238\n00:11:51.870 --> 00:11:55.448\nNotice I cannot uncheck those permissions,\nalright?\n\n239\n00:11:55.448 --> 00:11:58.275\nI won't let me change those\ninherited permissions.\n\n240\n00:11:58.275 --> 00:12:00.505\nNow, there are ways we can do it.\n\n241\n00:12:00.505 --> 00:12:04.245\nThere's basically, I think, three ways\nyou can change inherited permissions.\n\n242\n00:12:04.245 --> 00:12:07.145\nOne would be to change it at\nthe parent object, right.\n\n243\n00:12:07.145 --> 00:12:11.015\nIf I went over here to the parent\nobject and took away write,\n\n244\n00:12:11.015 --> 00:12:13.835\nwell that fact would inherit down\nto all the objects inside there.\n\n245\n00:12:13.835 --> 00:12:16.045\nAnd that would change these\ninherited permissions, right.\n\n246\n00:12:16.045 --> 00:12:17.705\nSo that's one way to do it.\n\n247\n00:12:17.705 --> 00:12:19.760\nBut what if I've got, like I do here.\n\n248\n00:12:19.760 --> 00:12:22.910\nSeveral folders,\nin fact let's do an example.\n\n249\n00:12:22.910 --> 00:12:24.510\nLet me show you something.\n\n250\n00:12:24.510 --> 00:12:26.400\nI bring back up Windows Explorer.\n\n251\n00:12:26.400 --> 00:12:29.210\nLet's say I'm okay with\nsales having read and\n\n252\n00:12:29.210 --> 00:12:31.480\nwrite permissions over all of this, right.\n\n253\n00:12:31.480 --> 00:12:34.500\nSo I set up the sales folder,\nand I let it inherit down.\n\n254\n00:12:34.500 --> 00:12:38.370\nBut then I decide, you know what,\nI really don't want any of my sales\n\n255\n00:12:38.370 --> 00:12:41.640\nusers ,trying to modify one\nof those sales reports.\n\n256\n00:12:41.640 --> 00:12:43.480\nMaybe bump their numbers, you know?\n\n257\n00:12:43.480 --> 00:12:44.330\nOr something like that.\n\n258\n00:12:44.330 --> 00:12:47.840\nSo I don't want them to be able\nto write to this folder here, but\n\n259\n00:12:47.840 --> 00:12:51.110\nit's already inherited that write\npermission from the parent object.\n\n260\n00:12:51.110 --> 00:12:52.980\nI could change it at the parent object,\nbut\n\n261\n00:12:52.980 --> 00:12:57.490\nthat would change it on all three of these\nsub folders, not just sales reports.\n\n262\n00:12:57.490 --> 00:12:58.970\nSo that's something I don't wanna do.\n\n263\n00:12:58.970 --> 00:13:03.780\nThe other way I could do it,\nis to assign the opposite permission.\n\n264\n00:13:03.780 --> 00:13:10.110\nIf I pull up sales reports, and I go\nto that security tab, and I click edit,\n\n265\n00:13:10.110 --> 00:13:15.349\nand I choose sales, I can see that yes\nthey have read and write permissions.\n\n266\n00:13:16.390 --> 00:13:18.020\nAnd I can't change that.\n\n267\n00:13:18.020 --> 00:13:23.240\nBut what I can do is deny write,\nover just this folder.\n\n268\n00:13:23.240 --> 00:13:23.760\nAnd click Ok.\n\n269\n00:13:23.760 --> 00:13:26.170\nAnd it's gonna warn me\nthat denies are bad,\n\n270\n00:13:26.170 --> 00:13:28.180\nI really need to make sure\nI know what I'm doing.\n\n271\n00:13:28.180 --> 00:13:29.600\nAnd I'll click Yes.\n\n272\n00:13:29.600 --> 00:13:34.400\nAnd now, even though they're inheriting\na write permission from the parent folder,\n\n273\n00:13:34.400 --> 00:13:38.840\nthey've got it explicit deny\nwrite at the object itself.\n\n274\n00:13:38.840 --> 00:13:41.500\nAnd that's where it's\nimportant to understand,\n\n275\n00:13:41.500 --> 00:13:43.930\nthe precedence of these permissions.\n\n276\n00:13:43.930 --> 00:13:50.432\nDenies will always override allows except,\nthere's always that one exception.\n\n277\n00:13:50.432 --> 00:13:52.270\n[LAUGH] [CROSSTALK] They're\ngonna get you on this one.\n\n278\n00:13:52.270 --> 00:13:56.070\nDenies almost always overrides an allow.\n\n279\n00:13:56.070 --> 00:14:01.550\nBut an explicit allow,\ncan override an inherited deny.\n\n280\n00:14:01.550 --> 00:14:05.190\nIn other words imagine just\nthe opposite scenario here.\n\n281\n00:14:05.190 --> 00:14:09.655\nWhat if sales had an inherited deny for\nall these permissions?\n\n282\n00:14:09.655 --> 00:14:11.180\nThat I went to this object itself and\n\n283\n00:14:11.180 --> 00:14:13.420\nassigned the opposite permission,\nthe allow.\n\n284\n00:14:13.420 --> 00:14:14.020\nRight?\n\n285\n00:14:14.020 --> 00:14:17.270\nThat explicit allow would\noverride the inherited deny.\n\n286\n00:14:17.270 --> 00:14:20.380\nIt's the one time that\nthe deny doesn't win.\n\n287\n00:14:20.380 --> 00:14:23.160\nAll otherwise the deny always wins.\n\n288\n00:14:23.160 --> 00:14:25.620\n>> So it's kind of an inverse\nof what we had before.\n\n289\n00:14:25.620 --> 00:14:29.580\nSo if you had those inherited permissions\nthat explicit deny would work,\n\n290\n00:14:29.580 --> 00:14:33.200\nyou had inherited denies,\nexplicit allows would work.\n\n291\n00:14:33.200 --> 00:14:34.050\n>> Exactly.\n>> Awesome.\n\n292\n00:14:34.050 --> 00:14:35.950\n>> Exactly, cuz there are times when,\n\n293\n00:14:35.950 --> 00:14:40.180\nlet's say I wanted to block the entire\nsales team from writing to that folder.\n\n294\n00:14:40.180 --> 00:14:43.700\nSo I did a deny write,\nand that inherited down.\n\n295\n00:14:43.700 --> 00:14:46.000\nBut now one of my sales people\nhas to be responsible for\n\n296\n00:14:46.000 --> 00:14:48.640\ngoing in and\nupdating those reports now and again.\n\n297\n00:14:48.640 --> 00:14:52.160\nWell I could explicitly\nallow that one person,\n\n298\n00:14:52.160 --> 00:14:54.270\nthe rest of the sales\nteam is still denied.\n\n299\n00:14:54.270 --> 00:14:58.350\nThat one person's explicit allow, would\noverride the inherited deny they picked up\n\n300\n00:14:58.350 --> 00:15:01.750\nfrom being part of the sales group, and\nthey would be able to make those changes.\n\n301\n00:15:01.750 --> 00:15:03.390\nIt's not that often that\nyou need to do that,\n\n302\n00:15:03.390 --> 00:15:07.425\nbut occasionally you might need\nto do something like that.\n\n303\n00:15:07.425 --> 00:15:08.760\nAlright, so that's the second way.\n\n304\n00:15:08.760 --> 00:15:12.840\nI could change them at the parent,\nor I could go to the child object or\n\n305\n00:15:12.840 --> 00:15:17.510\nthe actual object and assign,\nexplicitly assign the opposite permission.\n\n306\n00:15:17.510 --> 00:15:20.630\nIt's the second way I can change\nthose inherited permissions.\n\n307\n00:15:20.630 --> 00:15:25.880\nThe third way we can do that,\nis we can block inheritance.\n\n308\n00:15:25.880 --> 00:15:29.080\nI can say, hey, you know what,\nI don't want you to inherit permissions.\n\n309\n00:15:29.080 --> 00:15:30.340\nRight?\nIt's turn on my default.\n\n310\n00:15:30.340 --> 00:15:32.650\nThat's just the way NTFS works.\n\n311\n00:15:32.650 --> 00:15:34.460\nBut I don't have to deal with it.\n\n312\n00:15:34.460 --> 00:15:37.120\nLet's say we go back out here.\n\n313\n00:15:37.120 --> 00:15:38.890\nAnd again I've got the same scenario.\n\n314\n00:15:38.890 --> 00:15:40.310\nGot my sales folder.\n\n315\n00:15:40.310 --> 00:15:42.000\nI've got my three sub folders.\n\n316\n00:15:42.000 --> 00:15:48.242\nAnd I've already assigned to the sales\nreport, I've given them in addition to,\n\n317\n00:15:48.242 --> 00:15:53.868\ntheir permissions they inherited,\nI deny them right there, all right?\n\n318\n00:15:53.868 --> 00:15:57.375\nBut what about this lets say the.\n\n319\n00:15:57.375 --> 00:16:00.306\nWould be a good one to do.\n\n320\n00:16:00.306 --> 00:16:05.440\nLet's try the customer forms or\nsomething like that.\n\n321\n00:16:05.440 --> 00:16:10.610\nOr let's do order forms, sorry.\n\n322\n00:16:10.610 --> 00:16:13.540\nIf we go to order forms I'm going\nto pull up the properties here.\n\n323\n00:16:14.730 --> 00:16:17.980\nAnd I'm going to go to my security tab,\nand again I'll click edit.\n\n324\n00:16:20.090 --> 00:16:21.170\nAnd when we look in here,\n\n325\n00:16:22.380 --> 00:16:26.990\nI can see that sales has indeed inherited\nthose permissions from the parent object.\n\n326\n00:16:28.260 --> 00:16:29.260\nAll right.\n\n327\n00:16:29.260 --> 00:16:33.372\nNow if I don't want that, I can come\nback out to the security tab and\n\n328\n00:16:33.372 --> 00:16:38.570\nI could click advanced, and that's gonna\npull up the advanced security tab.\n\n329\n00:16:38.570 --> 00:16:42.330\nAnd on this permissions tab,\nI can see all those same permissions.\n\n330\n00:16:42.330 --> 00:16:44.940\nAnd I can also see where\nthey're being inherited from.\n\n331\n00:16:44.940 --> 00:16:48.450\nAnd I can see they're being\ninherited from that sales folder.\n\n332\n00:16:48.450 --> 00:16:52.690\nThere's a button down here on the bottom\nleft that says, disable inheritance.\n\n333\n00:16:52.690 --> 00:16:57.740\nIf i click on that I can turn\noff inheritance at this folder.\n\n334\n00:16:57.740 --> 00:17:00.590\nNow when you do that you're\ngonna have to make a decision.\n\n335\n00:17:00.590 --> 00:17:04.090\nBecause as soon as I created the folder\nit inherited permissions from\n\n336\n00:17:04.090 --> 00:17:04.660\nthe parent object.\n\n337\n00:17:04.660 --> 00:17:06.600\nThat's just what NTFS does.\n\n338\n00:17:06.600 --> 00:17:08.990\nNow I'm telling it,\nhey I don't want you to.\n\n339\n00:17:08.990 --> 00:17:10.450\nWell it's telling me.\n\n340\n00:17:10.450 --> 00:17:12.130\nIt's too late, I already have.\n\n341\n00:17:12.130 --> 00:17:15.250\nSo what do you want me to do with\nthe stuff I already inherited, all right?\n\n342\n00:17:15.250 --> 00:17:21.130\nAnd I can either remove all the inherited\npermissions and start with a clean slate.\n\n343\n00:17:21.130 --> 00:17:23.765\nOr I could leave\nthe inherited permissions,\n\n344\n00:17:23.765 --> 00:17:26.845\njust convert them into\nexplicit permissions, right?\n\n345\n00:17:26.845 --> 00:17:29.045\nInstead of gray, they would now be black.\n\n346\n00:17:29.045 --> 00:17:31.885\nAnd with explicit permissions,\nI can change them.\n\n347\n00:17:31.885 --> 00:17:35.485\nSo now I can undo and\ndo what I need to do, right?\n\n348\n00:17:35.485 --> 00:17:40.220\nSo for example here, I'm going to go,\nremove all inherited,\n\n349\n00:17:40.220 --> 00:17:42.485\nI'm sorry, I'll convert them\ninto explicit permissions.\n\n350\n00:17:43.535 --> 00:17:46.320\nAnd now you can see that\ninherited says from none.\n\n351\n00:17:46.320 --> 00:17:48.310\nSo they're no longer being inherited.\n\n352\n00:17:48.310 --> 00:17:52.490\nIf I click okay,\nnotice now the check marks are black.\n\n353\n00:17:52.490 --> 00:17:56.480\nSo if I want to click Edit,\nI can come in here and\n\n354\n00:17:56.480 --> 00:17:59.620\nI can add whatever permissions I want.\n\n355\n00:17:59.620 --> 00:18:01.950\nI want the sales people\nto be able to write.\n\n356\n00:18:03.870 --> 00:18:05.940\nThey already can write, can't they.\n\n357\n00:18:05.940 --> 00:18:11.420\nLet's give them modify permission over\nthat order form and we'll click okay.\n\n358\n00:18:11.420 --> 00:18:14.230\n>> Now Mike why would you use\nthe inherited permissions that\n\n359\n00:18:14.230 --> 00:18:18.340\nare already there, versus wipe all these\npermissions out and start from scratch.\n\n360\n00:18:18.340 --> 00:18:19.950\nWhy would you use one over the other?\n\n361\n00:18:19.950 --> 00:18:24.480\n>> Because you want to take advantage of\nthe inheritance over all the other stuff.\n\n362\n00:18:24.480 --> 00:18:27.200\nAnd so\nit just makes it a little bit easier.\n\n363\n00:18:27.200 --> 00:18:29.360\nThere's certain times when you\nwant to stop the inheritance.\n\n364\n00:18:30.450 --> 00:18:31.940\nWe could assign the observations.\n\n365\n00:18:31.940 --> 00:18:34.100\nI'll show you a better\nexample of that Daniel.\n\n366\n00:18:34.100 --> 00:18:35.180\nIs what if I did this.\n\n367\n00:18:35.180 --> 00:18:38.050\nIf I go Edit and I go to sales, and\n\n368\n00:18:38.050 --> 00:18:42.900\nI remove them completely,\nand I click okay.\n\n369\n00:18:42.900 --> 00:18:45.150\nI couldn't have done that if those\npermissions were being inherited.\n\n370\n00:18:45.150 --> 00:18:46.990\nI couldn't have taken them out at all.\n\n371\n00:18:46.990 --> 00:18:49.690\nSo, would be by blocking\nthat inheritance and\n\n372\n00:18:49.690 --> 00:18:52.300\nthen turning them into explicit,\nI can change them, in fact,\n\n373\n00:18:52.300 --> 00:18:55.800\nI can even completely remove them\nfrom that access control list.\n\n374\n00:18:55.800 --> 00:18:56.320\n>> Awesome.\n\n375\n00:18:56.320 --> 00:18:58.260\n>> Yup.\n>> And then when we get that option that\n\n376\n00:18:58.260 --> 00:19:01.900\nsays, do you want to keep the inherited,\nthe permissions that have already been\n\n377\n00:19:01.900 --> 00:19:06.430\ninherited, or\ndo you wanna remove all those permissions?\n\n378\n00:19:06.430 --> 00:19:08.670\nWhat time would we wanna\nuse one versus the other?\n\n379\n00:19:08.670 --> 00:19:11.590\n>> If they'd inherited a bunch of\npermissions like let's say we had\n\n380\n00:19:11.590 --> 00:19:13.992\na really complex permissions tackle there.\n\n381\n00:19:13.992 --> 00:19:17.748\nAnd there were several groups in that\nlist, and I knew that I didn't want any\n\n382\n00:19:17.748 --> 00:19:20.950\nof them to have permissions\nover that particular object.\n\n383\n00:19:20.950 --> 00:19:23.180\nI could just clear the list and\n\n384\n00:19:23.180 --> 00:19:26.180\nstart from a clean slate and\njust add the people that I wanted to.\n\n385\n00:19:26.180 --> 00:19:28.160\n>> So\nit's all about administrative headache.\n\n386\n00:19:28.160 --> 00:19:29.170\n>> Exactly.\n\n387\n00:19:29.170 --> 00:19:29.770\nIt really is.\n\n388\n00:19:29.770 --> 00:19:33.010\n>> We got a ton of folders, and\nsub folders, and sub folders.\n\n389\n00:19:33.010 --> 00:19:34.050\n>> Yes.\n>> You're probably gonna go with,\n\n390\n00:19:34.050 --> 00:19:35.410\nkeep those inherited permission.\n\n391\n00:19:35.410 --> 00:19:36.000\n>> Yes.\n\n392\n00:19:36.000 --> 00:19:37.390\nAnd I'll tell you honestly,\nthe other thing,\n\n393\n00:19:37.390 --> 00:19:40.540\nyou can get yourself in\ntrouble by removing those,\n\n394\n00:19:40.540 --> 00:19:45.400\nbecause if I come back over here and let's\nturn inheritance back on for a second.\n\n395\n00:19:47.470 --> 00:19:50.380\nSo now we look at it,\nsales as being inherited again.\n\n396\n00:19:50.380 --> 00:19:52.170\nEverything's back to the way it was.\n\n397\n00:19:52.170 --> 00:19:55.280\nIf I click advanced and\ndisable inheritance.\n\n398\n00:19:56.520 --> 00:19:59.110\nAnd I remove all inherited permissions.\n\n399\n00:19:59.110 --> 00:20:01.550\nOh, and\nthese were left from when I did it before.\n\n400\n00:20:01.550 --> 00:20:06.510\nBut if I did that the first time, removed\nall inherited permissions, started with\n\n401\n00:20:06.510 --> 00:20:09.660\na clean slate, it would have removed, in\nfact here, I'll show you a better example.\n\n402\n00:20:09.660 --> 00:20:11.970\nLet's go to one we\nhaven't played with yet.\n\n403\n00:20:11.970 --> 00:20:15.470\nCustomer Forms > Properties > Security.\n\n404\n00:20:15.470 --> 00:20:16.788\nEdit, I'm sorry not edit.\n\n405\n00:20:16.788 --> 00:20:18.296\nAdvanced.\n\n406\n00:20:18.296 --> 00:20:21.690\nDisable inheritance.\n\n407\n00:20:21.690 --> 00:20:24.070\nRemove all inherited permissions.\n\n408\n00:20:24.070 --> 00:20:25.710\nNow look what we're left with.\n\n409\n00:20:25.710 --> 00:20:26.400\nRight?\n>> All or nothing.\n\n410\n00:20:26.400 --> 00:20:29.630\n>> Yes.\nAnd I might be tempted to just add myself\n\n411\n00:20:29.630 --> 00:20:33.340\nback, or just add the sales\ngroup back because that's it.\n\n412\n00:20:33.340 --> 00:20:36.230\nBut what we forgot about was system,\nright.\n\n413\n00:20:36.230 --> 00:20:37.240\nAdministrators.\n\n414\n00:20:37.240 --> 00:20:38.510\nThose guys were in that list.\n\n415\n00:20:38.510 --> 00:20:42.600\nAnd that's important, the operating\nsystem needs to be able to access that.\n\n416\n00:20:42.600 --> 00:20:45.520\nI will tell you,\nI'll embarrass myself here on TV.\n\n417\n00:20:46.730 --> 00:20:51.600\nWay back when, so this was in like\n2000 when I was studying A+ and\n\n418\n00:20:51.600 --> 00:20:56.020\nlearning about permissions I learned\nabout this inheritance stuff.\n\n419\n00:20:56.020 --> 00:21:01.870\nAnd I went home to my PC and I said, you\nknow what, I'm gonna make my PC so secure.\n\n420\n00:21:01.870 --> 00:21:05.440\nI went to the C drive and I looked at\nthe permissions and I saw all this stuff,\n\n421\n00:21:05.440 --> 00:21:06.560\nthat I had no idea what it was.\n\n422\n00:21:06.560 --> 00:21:07.750\nI was just learning.\n\n423\n00:21:07.750 --> 00:21:10.050\nAnd I said,\nwell I don't need all that crap in there.\n\n424\n00:21:10.050 --> 00:21:12.920\nRemove everything and\njust put myself back.\n\n425\n00:21:12.920 --> 00:21:15.030\nJust my own personal account back.\n\n426\n00:21:15.030 --> 00:21:19.250\nFirst of all, I don't wanna tell you how\nlong it took to change the permissions\n\n427\n00:21:19.250 --> 00:21:21.070\non every single object on the C drive.\n\n428\n00:21:21.070 --> 00:21:24.750\nCuz it has to sit there and cycle\nthrough every object and change that.\n\n429\n00:21:24.750 --> 00:21:27.520\nAnd then I'll tell you about the blue\nscreen that I got when the system couldn't\n\n430\n00:21:27.520 --> 00:21:30.290\naccess the Windows directory and\nthings like that.\n\n431\n00:21:30.290 --> 00:21:34.500\nSo, that was a learning experience.\n\n432\n00:21:34.500 --> 00:21:36.260\nSo don't remove systems.\n\n433\n00:21:36.260 --> 00:21:39.430\nDon't remove that stuff or\nyou can cause problems.\n\n434\n00:21:39.430 --> 00:21:42.851\n[LAUGH] All right let me cancel\nthat [CROSSTALK] permissions.\n\n435\n00:21:42.851 --> 00:21:44.710\nThat's right.\n\n436\n00:21:44.710 --> 00:21:46.380\nAll right so\nwhat else we got to talk about?\n\n437\n00:21:46.380 --> 00:21:48.190\nWe talked about the different permissions.\n\n438\n00:21:48.190 --> 00:21:51.440\nI do want to just show you we didn't\nreally talk about the individual\n\n439\n00:21:51.440 --> 00:21:52.730\npermissions here.\n\n440\n00:21:52.730 --> 00:21:55.190\nIf I go back over the security tab.\n\n441\n00:21:55.190 --> 00:21:55.980\nIn fact, you know what, just so\n\n442\n00:21:55.980 --> 00:21:58.650\nI don't goof that up let's\nmake a new folder somewhere.\n\n443\n00:21:58.650 --> 00:22:03.777\nI'm gonna make a new folder from scratch\nand we'll just call it test and I'm gonna\n\n444\n00:22:03.777 --> 00:22:08.681\npull up the properties of this folder and\nwe're gonna go to the security tab and\n\n445\n00:22:08.681 --> 00:22:13.845\nI'm gonna click edit and I'm gonna click\nadd and I'm gonna add that sales group.\n\n446\n00:22:17.710 --> 00:22:20.710\nAnd we're gonna modify some\npermissions here, all right.\n\n447\n00:22:20.710 --> 00:22:22.790\nNow, the permissions\nare pretty straightforward.\n\n448\n00:22:22.790 --> 00:22:24.640\nI'm gonna start with nothing.\n\n449\n00:22:24.640 --> 00:22:26.780\nRead, I think is pretty self-explanatory.\n\n450\n00:22:26.780 --> 00:22:29.170\nMost people understand what read means,\nright.\n\n451\n00:22:29.170 --> 00:22:31.980\nIt gives you the ability to read a file.\n\n452\n00:22:31.980 --> 00:22:35.870\nList folder contents is another\none that's pretty straightforward.\n\n453\n00:22:35.870 --> 00:22:37.590\nThis only appears on folders.\n\n454\n00:22:37.590 --> 00:22:38.520\nObviously.\n\n455\n00:22:38.520 --> 00:22:41.710\nIf you have a file and\nyou pull up its properties\n\n456\n00:22:41.710 --> 00:22:43.890\nyou're not going to see the list\nfolder contents permission.\n\n457\n00:22:45.280 --> 00:22:47.780\nIf you give somebody list folder content,\n\n458\n00:22:47.780 --> 00:22:51.090\nnotice it's independent from read,\nall right.\n\n459\n00:22:51.090 --> 00:22:54.610\nBut the one that people normally\nmake the mistake on is write.\n\n460\n00:22:54.610 --> 00:22:59.380\nNotice I can assign write, and\nit does not give them read permissions,\n\n461\n00:22:59.380 --> 00:23:03.470\nright, and, that's something a lot\nof people don't quite grasp.\n\n462\n00:23:03.470 --> 00:23:05.430\nRead and write are independent.\n\n463\n00:23:05.430 --> 00:23:10.180\nYou can have write permissions over a file\nor folder, and not have read permissions.\n\n464\n00:23:10.180 --> 00:23:14.170\nAnd you might think well why would I ever\nwant that, that doesn't make any sense.\n\n465\n00:23:14.170 --> 00:23:17.050\nThere is a really good\nexample that I always use,\n\n466\n00:23:17.050 --> 00:23:20.210\nlets say I assigned everybody\nout there homework and\n\n467\n00:23:20.210 --> 00:23:23.000\nI have an FTP server that I want\nyou to upload your homework to.\n\n468\n00:23:23.000 --> 00:23:26.440\nYou're going to need write\npermissions over that folder\n\n469\n00:23:26.440 --> 00:23:28.350\nin order to upload your homework.\n\n470\n00:23:28.350 --> 00:23:32.150\nI don't want you reading anybody\nelse's homework while you're there and\n\n471\n00:23:32.150 --> 00:23:33.650\ncopying their stuff, right.\n\n472\n00:23:33.650 --> 00:23:36.140\nSo I might give you write\npermissions over the folder\n\n473\n00:23:36.140 --> 00:23:38.620\nwhich would allow you to store\nthat document up there, but\n\n474\n00:23:38.620 --> 00:23:42.120\nnot read anybody else's document\nif I don't give you read.\n\n475\n00:23:42.120 --> 00:23:45.070\nSo be careful with that, read and\nwrite are not inclusive.\n\n476\n00:23:46.230 --> 00:23:50.740\nRead and execute does include\nlist folder contents and read.\n\n477\n00:23:50.740 --> 00:23:54.247\nSo if I take away any of the other\npermissions you no longer have read and\n\n478\n00:23:54.247 --> 00:23:56.214\nexecute, so they build on each other.\n\n479\n00:23:56.214 --> 00:23:59.751\nModify is another one that I\nthink confuses people sometimes.\n\n480\n00:23:59.751 --> 00:24:02.961\nModify builds on read and write.\n\n481\n00:24:02.961 --> 00:24:07.088\nSo you notice if I give them modify it\nautomatically includes read next view,\n\n482\n00:24:07.088 --> 00:24:09.193\nlist folder context, read and write.\n\n483\n00:24:09.193 --> 00:24:14.216\nThe question most people have is, what's\nthe difference between write and modify?\n\n484\n00:24:14.216 --> 00:24:17.180\nAnd the answer is the ability to delete.\n\n485\n00:24:17.180 --> 00:24:20.290\nIf you have write\npermissions over a folder,\n\n486\n00:24:20.290 --> 00:24:26.000\nyou can write a file to that folder, but\nyou won't be able to make changes to it.\n\n487\n00:24:26.000 --> 00:24:26.770\nIt's really strange.\n\n488\n00:24:26.770 --> 00:24:28.800\nIn fact, if you have write permissions and\nnot modify,\n\n489\n00:24:28.800 --> 00:24:32.770\nand you make a new folder,\na new file, it'll say,\n\n490\n00:24:32.770 --> 00:24:36.540\nnew text document, and you won't be able\nto go back and change the name of it.\n\n491\n00:24:36.540 --> 00:24:38.800\nCuz you can't modify the object yourself.\n\n492\n00:24:38.800 --> 00:24:40.320\nIt's kinda weird.\n\n493\n00:24:40.320 --> 00:24:41.780\nYou also can't delete.\n\n494\n00:24:41.780 --> 00:24:45.920\nIf you have write permissions over a file,\nyou can open up the file and\n\n495\n00:24:45.920 --> 00:24:49.380\nyou can delete all the contents of\nthe file and you can save and close it.\n\n496\n00:24:49.380 --> 00:24:51.610\nAnd now there's no content in the file.\n\n497\n00:24:51.610 --> 00:24:53.840\nBut you can't delete the file itself.\n\n498\n00:24:53.840 --> 00:24:58.350\nModify permission is what gives you the\nability to delete the object itself, or\n\n499\n00:24:58.350 --> 00:25:00.940\nmake changes to the object itself.\n\n500\n00:25:00.940 --> 00:25:01.470\nAll right?\n\n501\n00:25:01.470 --> 00:25:05.060\nAnd then full control is another\none that is a little misunderstood.\n\n502\n00:25:05.060 --> 00:25:08.370\nIt really doesn't give you\nthat many more permissions, or\n\n503\n00:25:08.370 --> 00:25:09.713\nthat much more permissions, whatever is.\n\n504\n00:25:09.713 --> 00:25:11.631\nGrammatically correct there.\n\n505\n00:25:11.631 --> 00:25:15.029\n[LAUGH] [CROSSTALK] Over modify.\n\n506\n00:25:15.029 --> 00:25:17.020\nModify basically let's\nyou do anything you want.\n\n507\n00:25:17.020 --> 00:25:21.220\nI mean, if you can delete the object,\nmuch more power to you need, right?\n\n508\n00:25:21.220 --> 00:25:24.000\nThe full control as a couple\nof important things.\n\n509\n00:25:24.000 --> 00:25:28.330\nIt adds the ability to modify\nthe access control list itself.\n\n510\n00:25:28.330 --> 00:25:32.190\nIf you have full control of an object,\nyou can go to the security tab and\n\n511\n00:25:32.190 --> 00:25:33.700\nyou can make changes.\n\n512\n00:25:33.700 --> 00:25:37.319\nIf you have full control over\nan object you can take ownership.\n\n513\n00:25:37.319 --> 00:25:40.805\nAnd once you own an object that\nchanges some things as well.\n\n514\n00:25:40.805 --> 00:25:45.150\nIt gives you basically modify,\nall the other permissions,\n\n515\n00:25:45.150 --> 00:25:48.520\nplus the ability to make changes\nto that access control list.\n\n516\n00:25:48.520 --> 00:25:51.740\nSo, a couple of important\ndistinctions there between modify and\n\n517\n00:25:51.740 --> 00:25:54.160\nfull control, and modify and write.\n\n518\n00:25:55.520 --> 00:25:59.270\nAll right, so we've seen quite a bit\nDaniel, what else do I need to do here?\n\n519\n00:25:59.270 --> 00:26:00.190\nLet's see.\n\n520\n00:26:00.190 --> 00:26:04.656\n>> What if I wanted to see exactly\nwhat permission I have on a object?\n\n521\n00:26:04.656 --> 00:26:05.405\n>> Very good question.\n\n522\n00:26:05.405 --> 00:26:07.268\nLet's check that out.\n\n523\n00:26:07.268 --> 00:26:12.846\nBasically, there's a term called.\n\n524\n00:26:12.846 --> 00:26:16.708\nRefresh my brain there, Daniel.\n\n525\n00:26:20.328 --> 00:26:21.355\n[NOISE] I can't think of it.\n\n526\n00:26:21.355 --> 00:26:22.290\nEffective permissions.\n\n527\n00:26:22.290 --> 00:26:24.027\nWow, brain cramp there for a second.\n\n528\n00:26:24.027 --> 00:26:25.306\nSorry about that ladies and gentlemen.\n\n529\n00:26:25.306 --> 00:26:27.470\nEffective permissions is\nwhat I'm trying to think of.\n\n530\n00:26:27.470 --> 00:26:31.689\nNTFS permission are cumulative,\nmeaning that I get to add up all\n\n531\n00:26:31.689 --> 00:26:37.430\nthe permissions that are assigned to me,\nas well as any group that I belong to.\n\n532\n00:26:37.430 --> 00:26:41.290\nI might have read permission assigned\ndirectly to my user account.\n\n533\n00:26:41.290 --> 00:26:44.250\nI might have write permission\nto sign into that sales group.\n\n534\n00:26:44.250 --> 00:26:47.600\nI might have modified permission to\nsign into that sales managers group.\n\n535\n00:26:47.600 --> 00:26:53.390\nIf I belong to both of those groups I\ndid read, and write, and modify, right?\n\n536\n00:26:53.390 --> 00:26:56.720\nSo, it all gets added up, and when we're\ntroubleshooting, that's typically what\n\n537\n00:26:56.720 --> 00:27:00.400\nwe're trying to figure out,\nis what are my effective permissions?\n\n538\n00:27:00.400 --> 00:27:03.350\nI'm trying to figure out why Daniel\ndoesn't have access to the resource.\n\n539\n00:27:03.350 --> 00:27:06.300\nI don't know what groups he belongs to,\nfor sure, and all of that.\n\n540\n00:27:06.300 --> 00:27:08.810\nI just need to know,\nwhat permissions does he have?\n\n541\n00:27:08.810 --> 00:27:10.180\nThat's effective permission.\n\n542\n00:27:10.180 --> 00:27:13.540\nSo if we go to the properties\nof this folder, and\n\n543\n00:27:13.540 --> 00:27:17.830\nwe take a look at that security tab,\nwe can click on the advanced button,\n\n544\n00:27:19.200 --> 00:27:21.730\nand we have an effective\naccess tab out here.\n\n545\n00:27:21.730 --> 00:27:25.380\nAnd I can pick a user, and\nlet's say I grab Nate's user account.\n\n546\n00:27:27.967 --> 00:27:33.210\nAnd I click view effective access, and\nit'll show me exactly what Nate has.\n\n547\n00:27:33.210 --> 00:27:36.900\nHe's got basically read,\nlooks like that's it.\n\n548\n00:27:36.900 --> 00:27:38.150\nRead and list folder contents.\n\n549\n00:27:38.150 --> 00:27:39.129\nRead and execute.\n\n550\n00:27:39.129 --> 00:27:41.317\nRight, I don't know what\ngroups Nate belongs to.\n\n551\n00:27:41.317 --> 00:27:43.480\nThe NTFS takes care of that for me.\n\n552\n00:27:43.480 --> 00:27:44.610\nIt goes and it looks and\n\n553\n00:27:44.610 --> 00:27:48.220\nit says all right, let's figure out what\nhe belongs to, what groups he belongs to,\n\n554\n00:27:48.220 --> 00:27:52.580\nlet's add it all up, let's take into\nconsideration if there's any denies,\n\n555\n00:27:52.580 --> 00:27:56.340\nbecause those will override the allows,\nor if there's any explicit allows,\n\n556\n00:27:56.340 --> 00:28:00.270\nit'll override the inherited It takes\nall of that into consideration and\n\n557\n00:28:00.270 --> 00:28:04.110\nit gives me this nice,\nneat end result, right.\n\n558\n00:28:04.110 --> 00:28:10.640\nAnd I got a great question there in\nthe chat room there, from Will McNair.\n\n559\n00:28:10.640 --> 00:28:12.890\nThe special permissions,\nthat's an interesting one.\n\n560\n00:28:12.890 --> 00:28:16.410\nWhen we look at these access control\nlists, they'll be a special permissions\n\n561\n00:28:16.410 --> 00:28:20.380\ndown here and sometimes you'll see,\nlet's see if I can find an example\n\n562\n00:28:21.500 --> 00:28:25.640\nof one, that there's a check\nmark in there and it's grey.\n\n563\n00:28:25.640 --> 00:28:27.610\nAnd, when we look at NTFS permissions,\n\n564\n00:28:27.610 --> 00:28:31.820\nthese are what we call the standard\nNTFS permissions, full control,\n\n565\n00:28:31.820 --> 00:28:36.340\nmodify, read, write,\nlist folder contents, read and execute.\n\n566\n00:28:36.340 --> 00:28:37.863\nThose are my standard permissions.\n\n567\n00:28:37.863 --> 00:28:41.160\n99% of the time,\nthat's really all you need.\n\n568\n00:28:41.160 --> 00:28:41.740\nAll right?\n\n569\n00:28:41.740 --> 00:28:47.570\nSometimes, though, that 1% of the time,\nyou might need more granular control.\n\n570\n00:28:47.570 --> 00:28:50.660\nAnd in that case,\nI can use my special permissions.\n\n571\n00:28:50.660 --> 00:28:57.209\nIf I click Advanced, and\nI go into my permissions here.\n\n572\n00:28:57.209 --> 00:29:05.680\nAnd I'll click on, let's see, sales and\nedits, and show advanced permissions.\n\n573\n00:29:05.680 --> 00:29:07.860\nNow look at all\nthe permissions that I get.\n\n574\n00:29:07.860 --> 00:29:11.655\nWhat was one permission,\nread, is now read data,\n\n575\n00:29:11.655 --> 00:29:15.470\nread attributes and\nread-extended attributes.\n\n576\n00:29:16.540 --> 00:29:20.810\nWhat was one permission right\nis now where are we at here,\n\n577\n00:29:20.810 --> 00:29:25.610\nright data, a pen data, right attributes,\nand right extended attributes.\n\n578\n00:29:25.610 --> 00:29:28.720\nNormally if I give someone\nread permission, I'm good.\n\n579\n00:29:28.720 --> 00:29:32.520\nWhat if I want to give them read data and\nnot read attributes?\n\n580\n00:29:32.520 --> 00:29:36.400\nWell, I can't use my standard permission,\nbecause read is only one permission.\n\n581\n00:29:36.400 --> 00:29:40.907\nIf I want to get that granular I\nhave to go into this advance tab and\n\n582\n00:29:40.907 --> 00:29:46.682\nchoose just read data and uncheck read\nattributes and read extended attributes.\n\n583\n00:29:46.682 --> 00:29:48.980\nIn fact,\nhere I can show you an example of that.\n\n584\n00:29:48.980 --> 00:29:53.220\nWe'll go back to this guy and\nI'll click edit and add.\n\n585\n00:29:53.220 --> 00:29:54.180\nAnd I'll add the.\n\n586\n00:29:54.180 --> 00:29:57.801\nThis is not a real-world example,\nbut I'll just for demo,\n\n587\n00:29:57.801 --> 00:30:00.079\nI'll add that Sales Managers group.\n\n588\n00:30:00.079 --> 00:30:00.970\nAll right?\n\n589\n00:30:00.970 --> 00:30:05.670\nI'm gonna take away all of this,\nand I'm gonna click.\n\n590\n00:30:05.670 --> 00:30:08.040\nActually, I'll leave them read for now.\n\n591\n00:30:08.040 --> 00:30:08.680\nAll right?\n\n592\n00:30:08.680 --> 00:30:09.460\nAnd I'll click OK.\n\n593\n00:30:10.490 --> 00:30:13.430\nSo now the sales managers\nhas read permission.\n\n594\n00:30:13.430 --> 00:30:17.260\nSo now I'm gonna click advanced and\nI'm gonna go\n\n595\n00:30:18.440 --> 00:30:23.940\nto my sales managers and click edit, and\ntake a look at my advanced permissions.\n\n596\n00:30:23.940 --> 00:30:27.480\nAnd I'm gonna uncheck read attributes and\nread extended attributes.\n\n597\n00:30:27.480 --> 00:30:29.410\nNotice how all three of them were checked.\n\n598\n00:30:29.410 --> 00:30:32.160\nI checked read,\ngives them the three read permissions.\n\n599\n00:30:32.160 --> 00:30:35.510\nIf I uncheck these two now\nthey just have read data.\n\n600\n00:30:35.510 --> 00:30:38.220\nThey wouldn't be able to read\nattributes or extended attributes.\n\n601\n00:30:38.220 --> 00:30:40.963\nI click OK, and OK.\n\n602\n00:30:40.963 --> 00:30:45.473\nAnd when I come back out here it has\nno way of showing me that because read\n\n603\n00:30:45.473 --> 00:30:47.690\nis only listed once here.\n\n604\n00:30:47.690 --> 00:30:50.800\nSo it can't really show\nme that check mark.\n\n605\n00:30:50.800 --> 00:30:53.810\nSo what it's gonna do is it's\ngonna show me that, hey,\n\n606\n00:30:53.810 --> 00:30:55.770\nthere are some special\npermissions applied.\n\n607\n00:30:55.770 --> 00:30:58.380\nI don't know what they are but\nthere are special permissions.\n\n608\n00:30:58.380 --> 00:31:01.290\nIn order to see them you're going\nto have to click advanced and\n\n609\n00:31:01.290 --> 00:31:02.970\ngo take a look at that other tab.\n\n610\n00:31:02.970 --> 00:31:03.500\n>> Awesome stuff.\n\n611\n00:31:03.500 --> 00:31:06.710\n>> Yeah, so that's where we can\nget into the special permissions.\n\n612\n00:31:06.710 --> 00:31:07.784\nHope that answers your question.\n\n613\n00:31:07.784 --> 00:31:09.185\n>> Yeah, great question, Will.\n\n614\n00:31:09.185 --> 00:31:09.889\nReally good stuff.\n\n615\n00:31:09.889 --> 00:31:10.870\n>> Absolutely, absolutely.\n\n616\n00:31:10.870 --> 00:31:12.921\n>> Mike, have we covered permissions?\n\n617\n00:31:12.921 --> 00:31:14.415\nHave we?\n\n618\n00:31:14.415 --> 00:31:16.340\nHopefully you guys out there watching.\n\n619\n00:31:16.340 --> 00:31:20.580\nI've seen this, it can be a little bit\nof learning but it's not that difficult.\n\n620\n00:31:20.580 --> 00:31:23.940\nThat's the main thing is, it's not so\nmuch that we're gonna over,\n\n621\n00:31:23.940 --> 00:31:25.880\nit's not drinking from\na fire hose kinda thing.\n\n622\n00:31:25.880 --> 00:31:28.850\nGet down a few things,\nunderstand those concepts.\n\n623\n00:31:28.850 --> 00:31:33.840\nYou should be able to and set permissions\npretty easily, without much trouble.\n\n624\n00:31:33.840 --> 00:31:36.590\nAnd start getting the permissions\nthat need to be set instead of\n\n625\n00:31:36.590 --> 00:31:39.570\nmaybe what is set,\nwhich could be too much or not enough.\n\n626\n00:31:39.570 --> 00:31:41.340\nBe able to fine tune that end, right Mike?\n\n627\n00:31:41.340 --> 00:31:42.220\n>> Exactly.\nGet in there and\n\n628\n00:31:42.220 --> 00:31:45.590\nplay, get out your virtual little\nmachines, create some groups,\n\n629\n00:31:45.590 --> 00:31:47.540\nput some users in there,\nassign permissions,\n\n630\n00:31:47.540 --> 00:31:51.150\ndeny permissions, log on as that user and\nsee what happens or\n\n631\n00:31:51.150 --> 00:31:54.470\njust use that effective permissions\ntab to see what those end results are.\n\n632\n00:31:54.470 --> 00:31:56.120\nJust play with it a little bit.\n\n633\n00:31:56.120 --> 00:31:58.600\nIt seems complex but\nafter you do it a few times,\n\n634\n00:31:58.600 --> 00:32:00.904\nlike Daniel said it's really not that bad.\n\n635\n00:32:00.904 --> 00:32:03.060\n>> Yeah, really logical thinking.\n\n636\n00:32:03.060 --> 00:32:05.590\nNow logically thinking it looks\nlike we've run out of time.\n\n637\n00:32:05.590 --> 00:32:07.150\nBut it's been a great episode, Mike.\n\n638\n00:32:07.150 --> 00:32:09.060\nA lot of good stuff in there for you guys,\n\n639\n00:32:09.060 --> 00:32:11.530\nespecially if you're taking an exam you're\ngonna need to know those permission.\n\n640\n00:32:11.530 --> 00:32:14.450\nThat being said it's time to sign off for\nITProTV.\n\n641\n00:32:14.450 --> 00:32:16.160\nI've been your host, Daniel Lowery.\n\n642\n00:32:16.160 --> 00:32:17.027\n>> And I'm Mike Roderick.\n\n643\n00:32:17.027 --> 00:32:17.962\n>> And we'll see you next time.\n\n644\n00:32:17.962 --> 00:32:19.090\n[MUSIC]\n\n",
          "vimeoId": "133593164"
        },
        {
          "description": "In this episode, Daniel and Mike cover configuring shares. They discuss and demonstrate the different methods for creating shares. They also talk about offline files, access-based enumeration and Previous Versions.",
          "length": "1415",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-4-2-configuring_shares-071415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-4-2-configuring_shares-071415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-4-2-configuring_shares-071415-1-sm.jpg",
          "title": "Configuring Shares",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.889\n[MUSIC]\n\n2\n00:00:10.889 --> 00:00:14.671\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.671 --> 00:00:16.590\nI'll be your host, Daniel Lowry.\n\n4\n00:00:16.590 --> 00:00:19.120\nHere with me today is\nthe fantastic Mike Rodrick.\n\n5\n00:00:19.120 --> 00:00:20.390\nHow you doing today, Mike?\n\n6\n00:00:20.390 --> 00:00:21.455\n>> I'm doing fantastic.\n\n7\n00:00:21.455 --> 00:00:22.700\n>> [LAUGH] Well, it works out then.\n\n8\n00:00:22.700 --> 00:00:23.320\n>> Yes, it does.\n\n9\n00:00:23.320 --> 00:00:27.800\nYeah, excited to be here today, and we're\ntalking about good old shares today or\n\n10\n00:00:27.800 --> 00:00:30.250\nconfiguring shares on Windows.\n\n11\n00:00:30.250 --> 00:00:32.040\nSo a lot to talk about.\n\n12\n00:00:32.040 --> 00:00:34.500\nSo I say we just dive right in and\nget started, right?\n\n13\n00:00:34.500 --> 00:00:35.360\n>> Let's get our feet wet.\n\n14\n00:00:35.360 --> 00:00:37.910\n>> All right, so\nwe're talking about sharing.\n\n15\n00:00:37.910 --> 00:00:41.880\nFirst of all,\nsharing is making a file or folder,\n\n16\n00:00:41.880 --> 00:00:46.100\nI should say, folder because we can\nonly share folders, let's start there.\n\n17\n00:00:46.100 --> 00:00:47.350\nWe can only share folders.\n\n18\n00:00:47.350 --> 00:00:49.850\nSharing a folder makes it\navailable to the network.\n\n19\n00:00:49.850 --> 00:00:53.230\nLet's say I've got a resource on my\ncomputer that I wanna make available to\n\n20\n00:00:53.230 --> 00:00:53.820\ncoworkers.\n\n21\n00:00:53.820 --> 00:00:54.930\nI want them to be able to access.\n\n22\n00:00:54.930 --> 00:00:57.900\nMaybe I've started a spreadsheet and\nI want their input on it.\n\n23\n00:00:57.900 --> 00:01:00.080\nI want them to help me work on it,\nwhat have you.\n\n24\n00:01:00.080 --> 00:01:01.590\nWell instead of them coming over and\n\n25\n00:01:01.590 --> 00:01:04.870\nlogging on to my machine and\ntrying to gain access to that spreadsheet,\n\n26\n00:01:04.870 --> 00:01:06.960\nI want them to be able to\ndo it from their desktop.\n\n27\n00:01:06.960 --> 00:01:09.260\nThat means I need to share it out.\n\n28\n00:01:09.260 --> 00:01:13.670\nI need to put it in a folder, and share\nthe folder cuz you cannot share files,\n\n29\n00:01:13.670 --> 00:01:18.510\nyou can only share folders, so sharing\nmakes a resource available on the network.\n\n30\n00:01:18.510 --> 00:01:22.220\nWe see it again, I can do it so\nthat coworkers can get to it.\n\n31\n00:01:22.220 --> 00:01:24.890\nA lot of times we have shares\non our file servers, right?\n\n32\n00:01:24.890 --> 00:01:28.265\nAs employees, we've been told to\nstore things up on the file server.\n\n33\n00:01:28.265 --> 00:01:31.705\nWell in order for me to reach that\nfolder up on that file server,\n\n34\n00:01:31.705 --> 00:01:35.475\nthat folder has to be shared so\nthat I can access it across the network.\n\n35\n00:01:37.105 --> 00:01:40.760\nSo let's start first by, you know,\nhow we can go about creating a share and\n\n36\n00:01:40.760 --> 00:01:44.012\nWindows actually gives us several\ndifferent ways to make a share,\n\n37\n00:01:44.012 --> 00:01:45.595\njust to confuse us a little bit.\n\n38\n00:01:45.595 --> 00:01:48.596\nEach one of them different,\nand to make it even worse,\n\n39\n00:01:48.596 --> 00:01:50.827\neach one of them has different options.\n\n40\n00:01:50.827 --> 00:01:54.557\nIn fact, a couple of them have different\npermissions that we can assign\n\n41\n00:01:54.557 --> 00:01:55.977\ndepending on which way we go.\n\n42\n00:01:55.977 --> 00:02:01.017\nSo it really is a kind of a grab bag,\nbut let's start by just,\n\n43\n00:02:01.017 --> 00:02:05.390\nI'm just gonna make a little quick folder\nhere to show you a couple of these ways,\n\n44\n00:02:05.390 --> 00:02:08.300\nand I'm gonna call it,\nif I can type, Test.\n\n45\n00:02:08.300 --> 00:02:13.005\nAnd if I wanna share this, the easiest way\nto share a resource quickly is just to\n\n46\n00:02:13.005 --> 00:02:17.920\nright-click on it and\nchoose Share with Specific people.\n\n47\n00:02:17.920 --> 00:02:20.940\nAnd that's gonna launch this\nlittle file sharing wizard.\n\n48\n00:02:20.940 --> 00:02:24.570\nAnd all I have to do is figure\nout who I wanna share it with.\n\n49\n00:02:24.570 --> 00:02:25.800\nI hit this drop-down list.\n\n50\n00:02:25.800 --> 00:02:29.100\nI could choose everyone or\nI could choose Find people.\n\n51\n00:02:29.100 --> 00:02:34.410\nIt opens up my search dialogue and\nmaybe I look for a group called Sales, and\n\n52\n00:02:34.410 --> 00:02:37.760\nI find Sales and I click OK and\n\n53\n00:02:37.760 --> 00:02:41.535\nI click OK one more time and\nnow Sales is in the list.\n\n54\n00:02:41.535 --> 00:02:45.945\nAnd I've got a drop-down over here\nthat lets me choose either Read or\n\n55\n00:02:45.945 --> 00:02:46.995\nRead and Write.\n\n56\n00:02:46.995 --> 00:02:47.885\nAnd that's all I get.\n\n57\n00:02:49.255 --> 00:02:53.045\nAnd let's say I choose Read and Write,\nand I'll go ahead and click Share.\n\n58\n00:02:54.477 --> 00:02:59.397\nAnd the wizard takes care of everything\nand says hey, here's the UNC path\n\n59\n00:02:59.397 --> 00:03:03.117\nthat you can now give to your coworker,\nand they can connect to the resource.\n\n60\n00:03:03.117 --> 00:03:05.897\nFor an end user,\nthat's a fantastic little wizard.\n\n61\n00:03:05.897 --> 00:03:09.347\nIt's very easy, they don't have\nto understand what's going on in\n\n62\n00:03:09.347 --> 00:03:13.690\nthe background, but\nas IT people we need to understand, right?\n\n63\n00:03:13.690 --> 00:03:14.620\n>> Well, sometimes.\n\n64\n00:03:14.620 --> 00:03:15.910\n>> Sometimes.\n\n65\n00:03:15.910 --> 00:03:18.180\nSo let's talk about what\njust happened there.\n\n66\n00:03:18.180 --> 00:03:23.430\nWhen we look at permissions, in a previous\nepisode, we covered NTFS permissions.\n\n67\n00:03:23.430 --> 00:03:26.130\nThose are my file system permissions.\n\n68\n00:03:26.130 --> 00:03:30.420\nAnd when you share something we\nget another set of permissions\n\n69\n00:03:30.420 --> 00:03:32.050\ncalled share permissions.\n\n70\n00:03:32.050 --> 00:03:34.360\nSo two different sets of permissions.\n\n71\n00:03:34.360 --> 00:03:38.890\nAnd the first thing we have to understand\nis which ones are being checked, when.\n\n72\n00:03:38.890 --> 00:03:40.740\nWhen you access a resource locally.\n\n73\n00:03:40.740 --> 00:03:45.160\nIn other words, if I go to the machine\nthat this folder is located on, and\n\n74\n00:03:45.160 --> 00:03:49.110\nI open up Windows Explorer and I try to\ndouble-click on the folder, it's gonna\n\n75\n00:03:49.110 --> 00:03:54.350\ncheck my NTFS permissions, to make sure\nI'm allowed to access that folder.\n\n76\n00:03:54.350 --> 00:03:57.380\nIt's not gonna check share permissions\nbecause I'm not going across\n\n77\n00:03:57.380 --> 00:03:58.730\nthe network to get to it.\n\n78\n00:03:58.730 --> 00:04:01.880\nI'm accessing it locally,\neven if the folder's shared out.\n\n79\n00:04:01.880 --> 00:04:05.530\nI'm not accessing it as a share so\nit's not gonna check share permission.\n\n80\n00:04:05.530 --> 00:04:09.660\nSo all I need are NTFS permissions and\nI can gain access to it.\n\n81\n00:04:09.660 --> 00:04:12.910\nNow if I go to another computer and\nreach across the network and\n\n82\n00:04:12.910 --> 00:04:16.290\ntry to get to that folder,\nwell now I'm accessing it as a share.\n\n83\n00:04:16.290 --> 00:04:19.930\nI've used a UNC path,\nback slash back slash computer name.\n\n84\n00:04:19.930 --> 00:04:25.050\nBackslash share name or a map-to-network\ndrive or something like that.\n\n85\n00:04:25.050 --> 00:04:29.840\nNow I'm gonna need share permissions\nas well as NTFS permissions.\n\n86\n00:04:29.840 --> 00:04:34.070\nNTFS permissions are always checked\nwhether you're accessing it locally or\n\n87\n00:04:34.070 --> 00:04:35.875\naccessing across the network.\n\n88\n00:04:35.875 --> 00:04:39.950\nShare permissions are only checked\nwhen you access it across the network.\n\n89\n00:04:39.950 --> 00:04:43.030\nSo if I access it locally,\nall I need are NTFS permissions.\n\n90\n00:04:43.030 --> 00:04:47.600\nIf I go across the network, I need\nshare permissions and NTFS permissions.\n\n91\n00:04:48.830 --> 00:04:53.030\nNow when I did this little wizard, I\ndidn't do anything with NTFS permissions.\n\n92\n00:04:53.030 --> 00:04:57.180\nAll I did was assign read and\nwrite share permission.\n\n93\n00:04:57.180 --> 00:05:02.010\nI'm gonna click Done, and now I'm gonna\npull up the properties of that folder.\n\n94\n00:05:02.010 --> 00:05:04.900\nAnd it is shared out,\nI've set those permissions.\n\n95\n00:05:04.900 --> 00:05:07.980\nIf I go to Security though,\nlook, there's Sales.\n\n96\n00:05:07.980 --> 00:05:09.470\nNow you saw me create this folder.\n\n97\n00:05:09.470 --> 00:05:13.250\nI never went to the security tab and\nI never added Sales.\n\n98\n00:05:13.250 --> 00:05:14.560\nThe wizard did that.\n\n99\n00:05:14.560 --> 00:05:18.070\nThe wizard said hey,\nif you're gonna share this out and\n\n100\n00:05:18.070 --> 00:05:21.850\nyou're gonna give the Sales group read and\nwrite permission, I'm gonna go ahead and\n\n101\n00:05:21.850 --> 00:05:24.070\ntake care of the NTFS permissions for you.\n\n102\n00:05:24.070 --> 00:05:27.150\nBecause maybe you don't understand but\nthey are gonna need them.\n\n103\n00:05:27.150 --> 00:05:30.840\nSo it helps me out, right, and\nthat's why I say great for an end user.\n\n104\n00:05:30.840 --> 00:05:35.820\nIt tries to figure out, okay, if you gave\nthem read and write share, that's very\n\n105\n00:05:35.820 --> 00:05:42.370\nsimilar to modify in NTFS permissions,\nso that's what I'm gonna try to get.\n\n106\n00:05:42.370 --> 00:05:44.690\nWell, you would think that's what it does.\n\n107\n00:05:44.690 --> 00:05:45.700\nBut check out what it did.\n\n108\n00:05:45.700 --> 00:05:49.340\nIt actually gave them full\ncontrol NTFS permissions.\n\n109\n00:05:49.340 --> 00:05:51.580\nThat's a lot different from read and\nwrite, isn't it?\n\n110\n00:05:51.580 --> 00:05:52.200\n>> Yeah, yeah.\n\n111\n00:05:52.200 --> 00:05:52.710\n>> All right?\n\n112\n00:05:52.710 --> 00:05:57.660\n>> And this really goes back to, well it\nlet's us see why we need some folders.\n\n113\n00:05:57.660 --> 00:06:00.400\nLike Mike was saying, if the user's just\ntrying to create a share on their own\n\n114\n00:06:00.400 --> 00:06:04.450\ncomputer so they can drag and\ndrop files from other computers, and\n\n115\n00:06:04.450 --> 00:06:05.710\nother people can do it as well,\nnot a big deal.\n\n116\n00:06:05.710 --> 00:06:07.700\nBut if it's something important,\n\n117\n00:06:07.700 --> 00:06:11.740\nthen we're gonna need to set up a share\nvia an administrator, one of us guys.\n\n118\n00:06:11.740 --> 00:06:15.440\nThey're gonna need to call us and\nsay, I need a permanent share so\n\n119\n00:06:15.440 --> 00:06:18.570\nthat we can set permissions, make sure\nthese people don't get into it, but\n\n120\n00:06:18.570 --> 00:06:19.675\nthese people do have access.\n\n121\n00:06:19.675 --> 00:06:21.670\nThat's really what we're getting into,\nright?\n\n122\n00:06:21.670 --> 00:06:26.120\n>> Exactly, I want a lot more control\nover what permissions are actually being\n\n123\n00:06:26.120 --> 00:06:30.520\nassigned because full control means\nthat now Sales can delete things,\n\n124\n00:06:30.520 --> 00:06:32.200\nthey can do whatever they want, right?\n\n125\n00:06:32.200 --> 00:06:35.010\nAnd that's not what I meant\nwhen I said read and write.\n\n126\n00:06:35.010 --> 00:06:39.400\nSo great for the end user, not so\ngood for setting up on a file server or\n\n127\n00:06:39.400 --> 00:06:40.550\nsomething like that.\n\n128\n00:06:40.550 --> 00:06:45.983\nSo let's do another one, and\nI'll make another folder here,\n\n129\n00:06:45.983 --> 00:06:48.861\nand I'll call it AdvancedTest.\n\n130\n00:06:48.861 --> 00:06:51.100\nAnd I'm gonna right-click on this guy.\n\n131\n00:06:51.100 --> 00:06:55.850\nAnd instead of using that simple wizard,\nI'm gonna go to the Properties, and\n\n132\n00:06:55.850 --> 00:06:57.940\nI'm gonna go to the Sharing tab.\n\n133\n00:06:57.940 --> 00:07:02.590\nNow on the Sharing tab, this button\nright here, that will actually launch\n\n134\n00:07:02.590 --> 00:07:06.230\nthe simple wizard again, so it's just\nanother way to launch that same wizard.\n\n135\n00:07:06.230 --> 00:07:08.120\nBut were not gonna use it this time.\n\n136\n00:07:08.120 --> 00:07:10.570\nThis time I'm gonna click\nthe Advanced Sharing.\n\n137\n00:07:10.570 --> 00:07:15.210\nThe Advanced Sharing takes me to this\nlittle dialog box here, where I can choose\n\n138\n00:07:15.210 --> 00:07:20.510\nto share this folder, and I get more\ncontrol over the sharing process.\n\n139\n00:07:20.510 --> 00:07:22.090\nI can actually change the name.\n\n140\n00:07:22.090 --> 00:07:27.576\nWhat if the folder's name\nwas reports 07 15, 15,\n\n141\n00:07:27.576 --> 00:07:32.851\nyou know some big old long number or\nsome complex name?\n\n142\n00:07:32.851 --> 00:07:36.710\nWell if I share it out, that's the name\nyou gotta type in in that UNC path.\n\n143\n00:07:36.710 --> 00:07:38.110\nThat's nasty.\n\n144\n00:07:38.110 --> 00:07:42.630\nI could change the name to\nsomething simpler, like empfiles or\n\n145\n00:07:42.630 --> 00:07:45.530\nsomething like that, something easy for\nmy end user to remember.\n\n146\n00:07:45.530 --> 00:07:47.250\nIt doesn't change the name of the folder.\n\n147\n00:07:47.250 --> 00:07:51.360\nIt changes the name they use when they\ngo to access the folder as a share.\n\n148\n00:07:51.360 --> 00:07:53.535\nCouldn't do that in the simple wizard.\n\n149\n00:07:53.535 --> 00:07:55.985\nWe're stuck with whatever\nname the folder was.\n\n150\n00:07:55.985 --> 00:07:59.470\nI can also control how many\npeople can connect concurrently.\n\n151\n00:07:59.470 --> 00:08:02.627\nI can't have 10,000 people connecting\nthe share at the same time.\n\n152\n00:08:02.627 --> 00:08:05.100\nIf it's on my machine,\nit slows my machine down.\n\n153\n00:08:05.100 --> 00:08:07.000\nMaybe I want to limit that to 25.\n\n154\n00:08:07.000 --> 00:08:10.600\nNow, on file servers we're typically\nnot all that worried about it.\n\n155\n00:08:10.600 --> 00:08:13.450\nBut it's nice to have that\noption if we need it.\n\n156\n00:08:13.450 --> 00:08:16.060\nI can also control the permissions.\n\n157\n00:08:16.060 --> 00:08:18.500\nAnd notice my permissions\nare actually different here.\n\n158\n00:08:18.500 --> 00:08:24.280\nSo instead of just read and read and\nwrite, I get read change and full control.\n\n159\n00:08:24.280 --> 00:08:30.890\nRead is still read, change is\nbasically modify NGFS, all right.\n\n160\n00:08:30.890 --> 00:08:34.110\nIf you give them change, share\npermissions, that means they can create\n\n161\n00:08:34.110 --> 00:08:39.840\nnew objects, and they can delete existing\nobjects, and modify existing objects.\n\n162\n00:08:39.840 --> 00:08:43.430\nFull control means they can take\nownership and things like that.\n\n163\n00:08:43.430 --> 00:08:45.890\nSo slight difference in\nthe terminology they use there.\n\n164\n00:08:45.890 --> 00:08:48.840\nAnd let's say I want to give them,\nactually let's do this.\n\n165\n00:08:48.840 --> 00:08:51.750\nLet's add, just like we did on\nthe other one, I'll add sales.\n\n166\n00:08:54.840 --> 00:09:01.550\nAnd evidently I can't type,\nso we'll add sales.\n\n167\n00:09:01.550 --> 00:09:05.340\nAnd I'm gonna go ahead and give them\nChange Permissions, and I'll click OK.\n\n168\n00:09:06.520 --> 00:09:09.840\nAnd we're gonna come back and\nI'll talk about this caching option,\n\n169\n00:09:09.840 --> 00:09:11.940\nwell let me go ahead and\nshow you while we're here.\n\n170\n00:09:11.940 --> 00:09:16.030\nCaching allows me to turn on\nsomething called offline files, or\n\n171\n00:09:16.030 --> 00:09:18.730\nset my offline files capabilities.\n\n172\n00:09:18.730 --> 00:09:22.510\nNow, I'll cover this a little more\nin detail a little bit later, but\n\n173\n00:09:22.510 --> 00:09:26.050\nfor now,\nthis allows me to access these resources,\n\n174\n00:09:26.050 --> 00:09:28.440\neven when I'm not\nconnected to the network.\n\n175\n00:09:28.440 --> 00:09:30.520\nPretty cool, but we'll come back to that.\n\n176\n00:09:30.520 --> 00:09:32.160\nWe'll just click Cancel on there.\n\n177\n00:09:32.160 --> 00:09:34.710\nNow my permission's set, I'll click OK.\n\n178\n00:09:34.710 --> 00:09:37.070\nAnd I'll go ahead and click Close.\n\n179\n00:09:37.070 --> 00:09:38.500\nAnd now it's shared out.\n\n180\n00:09:38.500 --> 00:09:44.330\nBut, big difference is, yes it's shared,\nand yes my permissions are set.\n\n181\n00:09:44.330 --> 00:09:46.735\nThere's Sales, Change.\n\n182\n00:09:46.735 --> 00:09:48.420\nBut let's go take a look\nat the Security tab.\n\n183\n00:09:49.600 --> 00:09:52.930\nAnd notice that sales is not on the list.\n\n184\n00:09:52.930 --> 00:09:56.350\nIt didn't do it for me, it's not saying\nhey, let me walk you through this,\n\n185\n00:09:56.350 --> 00:09:58.670\nlet me hold your hand while\nyou make this shared.\n\n186\n00:09:58.670 --> 00:10:00.450\nIt's saying,\nyou'd better know what you're doing if you\n\n187\n00:10:00.450 --> 00:10:02.140\nclick that Advanced Share button.\n\n188\n00:10:02.140 --> 00:10:05.340\nYou've assigned the share permissions,\nbut you still have to go back and\n\n189\n00:10:05.340 --> 00:10:07.890\nassign the appropriate NTFS permissions.\n\n190\n00:10:07.890 --> 00:10:11.160\nSo remember, when you go across\nthe network, both are gonna be checked.\n\n191\n00:10:11.160 --> 00:10:15.840\nAnd if I give you share permissions, but\nI fail to give you NTFS permissions,\n\n192\n00:10:15.840 --> 00:10:18.850\nyou won't get access to the resource,\nit won't happen.\n\n193\n00:10:18.850 --> 00:10:23.270\nSo you've got to remember to do both when\nyou use that advanced sharing option.\n\n194\n00:10:23.270 --> 00:10:27.400\nBut I get much more control, because now I\ncan come in here and I can say edit, and\n\n195\n00:10:27.400 --> 00:10:29.590\nI can add sales.\n\n196\n00:10:32.380 --> 00:10:36.920\nAnd I can decide that hey, I just want\nto give them read and write this time,\n\n197\n00:10:36.920 --> 00:10:38.560\nand not modify.\n\n198\n00:10:39.870 --> 00:10:44.170\nNow, here's another big concept\nthat we've got to understand.\n\n199\n00:10:44.170 --> 00:10:45.380\nWhen you combine.\n\n200\n00:10:45.380 --> 00:10:48.910\nWe've talked in a previous episode,\nNTFS permissions are cumulative.\n\n201\n00:10:48.910 --> 00:10:52.280\nYou get to add them all up from\nall the groups you belong to.\n\n202\n00:10:52.280 --> 00:10:54.290\nAnd you get the end result.\n\n203\n00:10:54.290 --> 00:11:00.140\nWhen you combine shared NTFS permissions,\nhowever, it works a little differently.\n\n204\n00:11:00.140 --> 00:11:02.460\nIt's the most restrictive of the two.\n\n205\n00:11:02.460 --> 00:11:06.970\nWhichever one the least permissions,\nthat's the one you're gonna get.\n\n206\n00:11:06.970 --> 00:11:10.390\nIt still adds up all your NTFS permissions\nthat you get from all the groups you\n\n207\n00:11:10.390 --> 00:11:14.350\nbelong to, and then it compares your\nNTFS and your share permissions,\n\n208\n00:11:14.350 --> 00:11:17.950\nand it says,\nwhich one restricts them the most?\n\n209\n00:11:17.950 --> 00:11:19.310\nAnd that's the one that's going to win.\n\n210\n00:11:20.840 --> 00:11:24.860\nNow in the past,\nMicrosoft has always stressed, heylook,\n\n211\n00:11:24.860 --> 00:11:26.135\nprinciple of least privilege.\n\n212\n00:11:26.135 --> 00:11:29.330\nGive them NTFS read and write, and\n\n213\n00:11:29.330 --> 00:11:32.950\ngive them share change,\nif that's what you want to do.\n\n214\n00:11:32.950 --> 00:11:36.000\nWell recently,\nthey've kinda shifted gears.\n\n215\n00:11:36.000 --> 00:11:38.760\nIt's now kinda more, go ahead and\n\n216\n00:11:38.760 --> 00:11:42.630\ngive them share, full control,\nto the everyone group.\n\n217\n00:11:42.630 --> 00:11:43.770\nAnd you might think, wait.\n\n218\n00:11:43.770 --> 00:11:45.260\nThat's gonna leave it wide open.\n\n219\n00:11:45.260 --> 00:11:46.080\nEveryone?\n\n220\n00:11:46.080 --> 00:11:47.130\nFull control?\n\n221\n00:11:47.130 --> 00:11:48.630\nWhy would you ever do that?\n\n222\n00:11:48.630 --> 00:11:50.540\nCuz everyone includes everybody.\n\n223\n00:11:50.540 --> 00:11:52.930\nSo, like the guest account,\nthings like that.\n\n224\n00:11:52.930 --> 00:11:57.380\nWell, because we know NTFS permissions\nare gonna be checked anyway.\n\n225\n00:11:57.380 --> 00:11:59.920\nSo as long as I assign those correctly,\n\n226\n00:11:59.920 --> 00:12:01.900\nit really doesn't matter what\nthe share permissions are.\n\n227\n00:12:01.900 --> 00:12:05.810\nIn fact, I can eliminate troubleshooting\nshare permissions altogether.\n\n228\n00:12:05.810 --> 00:12:09.140\nIf I give everyone full control and\nsomebody comes to me and\n\n229\n00:12:09.140 --> 00:12:13.210\nsays, I can't access that resource,\nI know it's not the share permissions,\n\n230\n00:12:13.210 --> 00:12:15.010\nbecause everybody has full control.\n\n231\n00:12:15.010 --> 00:12:18.950\nI can focus on NTFS permissions and\ndo my trouble shooting there.\n\n232\n00:12:18.950 --> 00:12:21.130\nSo that's kinda the way\nthings have been going.\n\n233\n00:12:21.130 --> 00:12:22.654\nAnd I'm not a huge fan of it.\n\n234\n00:12:22.654 --> 00:12:26.240\nDaniel, I don't know about you,\nit's something queasy inside you,\n\n235\n00:12:26.240 --> 00:12:27.810\nlike everyone full control.\n\n236\n00:12:27.810 --> 00:12:30.970\n>> We come from such a time of.\n\n237\n00:12:30.970 --> 00:12:34.830\nYou set your permissions, you really go\nthrough them with a fine tooth comb and\n\n238\n00:12:34.830 --> 00:12:39.950\nsay, okay, let's make it as restrictive\nas it needs to be, no more, no less.\n\n239\n00:12:39.950 --> 00:12:42.990\nWe're not trying to give people\nmore permissions than they need.\n\n240\n00:12:42.990 --> 00:12:47.750\nSo that inherent sense, that it's\nunnatural to us that have been in\n\n241\n00:12:47.750 --> 00:12:52.090\nthe business a little while, to say, oh\nI'll just assign full control to everyone.\n\n242\n00:12:52.090 --> 00:12:56.000\nThat's an oxymoron in our brains, and\nit really doesn't compute very well.\n\n243\n00:12:56.000 --> 00:12:59.260\nIt does make your whole life a lot easier,\nbecause you can just jump in there.\n\n244\n00:12:59.260 --> 00:13:03.210\nAnd I was noticing, and I've actually had\nthis happen before, if you notice Mike,\n\n245\n00:13:03.210 --> 00:13:08.840\nthere was an ace in there that would\ngive them NTFS permissions as users.\n\n246\n00:13:08.840 --> 00:13:09.880\nThe domain users.\n\n247\n00:13:09.880 --> 00:13:13.020\nIf you're in a domain user's group,\nwhich you most likely are,\n\n248\n00:13:13.020 --> 00:13:15.800\nthat was one of the default permissions\non the folder that Mike created.\n\n249\n00:13:15.800 --> 00:13:17.950\nSo he already had it an ace in there.\n\n250\n00:13:17.950 --> 00:13:20.078\nNow normally what you would do, and\nthis is in a real world environment,\n\n251\n00:13:20.078 --> 00:13:23.150\nis you would remove that, and\nthen you would add your actual group, and\n\n252\n00:13:23.150 --> 00:13:25.520\nwe would assign permissions\nvia that group.\n\n253\n00:13:25.520 --> 00:13:28.370\nWe wouldn't want everybody and\ntheir brother jumping onto that.\n\n254\n00:13:28.370 --> 00:13:30.870\nWe want the sales group to do it and\nno one else.\n\n255\n00:13:30.870 --> 00:13:34.110\nThat way all we had to do is remove\nthat ace out of there, put sales in,\n\n256\n00:13:34.110 --> 00:13:35.740\nand then you'd be good to go.\n\n257\n00:13:35.740 --> 00:13:38.240\nBut yeah, I've had to walk\ndown that road a couple times,\n\n258\n00:13:38.240 --> 00:13:41.490\nand hit that full control and\nsweat bullets.\n\n259\n00:13:41.490 --> 00:13:43.702\n>> [LAUGH] Oh yeah, you're a little\nnervous when you're getting to click,\n\n260\n00:13:43.702 --> 00:13:45.350\nyou're like, oh,\nI don't wanna push that button.\n\n261\n00:13:45.350 --> 00:13:46.052\n>> Take a quick drink.\n\n262\n00:13:46.052 --> 00:13:47.340\n[LAUGH]\n>> [LAUGH] Yeah, all right,\n\n263\n00:13:47.340 --> 00:13:51.440\nso that's two different ways we can share,\nright, I've got that basic sharing wizard.\n\n264\n00:13:51.440 --> 00:13:52.810\nI've got the advance sharing I'm gonna go.\n\n265\n00:13:52.810 --> 00:13:55.822\nIt gives me much more control\nover the share process, but\n\n266\n00:13:55.822 --> 00:13:57.640\nI've got a little more work to do,\n\n267\n00:13:57.640 --> 00:14:02.020\nbecause now I have to manually set\nthe appropriate NTFS permissions as well.\n\n268\n00:14:02.020 --> 00:14:03.160\nBut we're not done there.\n\n269\n00:14:03.160 --> 00:14:06.660\nThere's other ways I can create\nshares in Windows operating system.\n\n270\n00:14:06.660 --> 00:14:11.570\nThe next way I can do it, I'm gonna pull\nup, and not that way on a server, Michael.\n\n271\n00:14:11.570 --> 00:14:13.940\nWe're gonna go into Computer Management.\n\n272\n00:14:13.940 --> 00:14:18.100\nAnd I go into Computer Management\non this server, and\n\n273\n00:14:18.100 --> 00:14:21.490\nI should have made a little folder,\nbut there's a Shared Folders here.\n\n274\n00:14:21.490 --> 00:14:27.060\nAnd I can go to Shares, and I can see all\nthe shares that exist on this machine.\n\n275\n00:14:27.060 --> 00:14:30.100\nI see a lot of these hidden shares,\nif you remember what those guys are,\n\n276\n00:14:30.100 --> 00:14:33.900\nthe little dollar signs indicate\nthat those are hidden shares.\n\n277\n00:14:33.900 --> 00:14:37.270\nYou can get to them only if you\nknow the exact name of the share.\n\n278\n00:14:37.270 --> 00:14:40.120\nThat way they don't show up on\nbrowse lists and things like this.\n\n279\n00:14:40.120 --> 00:14:43.920\nThe root of all volumes are automatically\nset up as hidden shares.\n\n280\n00:14:43.920 --> 00:14:46.810\nYou got the admin,\nwhich goes to the C:Windows.\n\n281\n00:14:46.810 --> 00:14:51.300\nVery handy on a network if you need to\nget to somebody's machine remotely, or\n\n282\n00:14:51.300 --> 00:14:54.580\nconnect to their Windows directory or\ntheir print queue.\n\n283\n00:14:54.580 --> 00:14:57.410\nThat's automatically,\nI don't have a printer on here.\n\n284\n00:14:57.410 --> 00:15:00.890\nBut that would also automatically\nbe added, which can be very,\n\n285\n00:15:00.890 --> 00:15:01.765\nlike the root of C drive.\n\n286\n00:15:01.765 --> 00:15:05.940\nDave, how many times have you been doing\na help desk thing or something like that,\n\n287\n00:15:05.940 --> 00:15:09.535\nand you need to get to somebody's\ncomputer, their file system.\n\n288\n00:15:09.535 --> 00:15:12.525\nYou don't want to try to walk them\nthrough sharing something out.\n\n289\n00:15:12.525 --> 00:15:17.725\nYou can just go //computername//c$ and\nyou can, boom, connect to their C drive.\n\n290\n00:15:17.725 --> 00:15:18.605\nVery handy.\n\n291\n00:15:18.605 --> 00:15:20.305\n>> Oh yeah, super, super handy.\n\n292\n00:15:20.305 --> 00:15:22.905\nEspecially if I don't\nwant to call them back.\n\n293\n00:15:22.905 --> 00:15:24.135\nI just want to log.\n\n294\n00:15:24.135 --> 00:15:25.355\nAnd I don't have to login.\n\n295\n00:15:25.355 --> 00:15:28.590\nI wouldn't have to use some process\nlike DNC or remote desktop.\n\n296\n00:15:28.590 --> 00:15:32.290\nI could just browse into that C drive,\nfind and modify a file, delete something,\n\n297\n00:15:32.290 --> 00:15:36.050\nadd something, maybe work in the print\nqueue, add a printer, stuff like that.\n\n298\n00:15:36.050 --> 00:15:38.910\nVery, very handy cuz I can\ndo it directly from my desk.\n\n299\n00:15:38.910 --> 00:15:39.830\nNever had to talk to a soul.\n\n300\n00:15:39.830 --> 00:15:42.330\nAll I would do is shoot them an email,\nsay hey, that should be working,\n\n301\n00:15:42.330 --> 00:15:43.341\ncall me if it's not.\n\n302\n00:15:43.341 --> 00:15:46.726\n[LAUGH]\n>> I've used that share cuz you can\n\n303\n00:15:46.726 --> 00:15:50.972\nnavigate C colon, users, desktop, and I've\nput notes on people's desktops as well\n\n304\n00:15:50.972 --> 00:15:54.140\nThat'll freak them out going,\nhow did that get on my desktop?\n\n305\n00:15:54.140 --> 00:15:55.839\n>> Ghost in machine.\n\n306\n00:15:55.839 --> 00:15:57.920\n>> But\nI can create shares from here as well.\n\n307\n00:15:57.920 --> 00:16:01.600\nI can right click and choose new share,\nand it launches a little wizard.\n\n308\n00:16:01.600 --> 00:16:03.390\nI'll click next and\n\n309\n00:16:03.390 --> 00:16:07.750\nI'll browse and find the particular\nfile that I want to share out.\n\n310\n00:16:07.750 --> 00:16:10.050\nLet's just go down to C.\n\n311\n00:16:10.050 --> 00:16:14.850\nAnd make a new folder and\nwe'll this something like Test 3,\n\n312\n00:16:14.850 --> 00:16:17.350\nand I'll select that one.\n\n313\n00:16:17.350 --> 00:16:21.950\nI'll click Next, and notice that I can\nchange the name of the share here.\n\n314\n00:16:21.950 --> 00:16:23.560\nSo I guess some of those advanced options,\n\n315\n00:16:23.560 --> 00:16:26.470\nI can call it something better\nthan Test 3 if want to.\n\n316\n00:16:26.470 --> 00:16:28.180\nCan actually add a description.\n\n317\n00:16:28.180 --> 00:16:30.820\nI can get to my offline settings,\nwhich we're going to come back to and\n\n318\n00:16:30.820 --> 00:16:31.760\ntalk about later.\n\n319\n00:16:33.570 --> 00:16:35.650\nI can also set permissions and\nthe permissions here.\n\n320\n00:16:35.650 --> 00:16:39.650\nSo we had the basic wizard which really\ngave me some limited choices like read or\n\n321\n00:16:39.650 --> 00:16:41.200\nread and write, that was it.\n\n322\n00:16:41.200 --> 00:16:44.630\nOr I could do the advance share\nwhich got me that granular control.\n\n323\n00:16:44.630 --> 00:16:48.640\nI see the access controllers and\nI can set the permissions there.\n\n324\n00:16:48.640 --> 00:16:50.460\nThis Wizard kind of gives me both.\n\n325\n00:16:50.460 --> 00:16:52.380\nIt gives me some pre-set options.\n\n326\n00:16:52.380 --> 00:16:54.060\nAll users have read only.\n\n327\n00:16:54.060 --> 00:16:57.070\nAdministrators full,\neverybody else read only.\n\n328\n00:16:57.070 --> 00:17:00.300\nAdministrators full,\neverybody else, no access.\n\n329\n00:17:00.300 --> 00:17:05.150\nOr I can choose custom permissions and\nI can set those as well.\n\n330\n00:17:05.150 --> 00:17:07.590\nNow with these first three options,\n\n331\n00:17:07.590 --> 00:17:10.050\nIt's going to be kind of\nlike the advanced share,\n\n332\n00:17:10.050 --> 00:17:13.430\nwhere it'll set the share permissions,\nit won't set the NTFS permissions for me.\n\n333\n00:17:13.430 --> 00:17:17.910\nSo I would still have to go back after\nthe fact and set the NTFS permissions.\n\n334\n00:17:17.910 --> 00:17:19.800\nIf I choose custom permissions,\n\n335\n00:17:19.800 --> 00:17:22.620\nI can set my share permissions\nwhatever I would like.\n\n336\n00:17:22.620 --> 00:17:23.350\nI could add sales.\n\n337\n00:17:23.350 --> 00:17:28.470\nReally got to get rid of\nthat sales manager's group,\n\n338\n00:17:28.470 --> 00:17:32.980\nso I can select that a little easier, and\nthen I can also go to the security tab,\n\n339\n00:17:32.980 --> 00:17:36.610\nnotice it didn't add it for me, but\nits right here, so I can go ahead and\n\n340\n00:17:36.610 --> 00:17:42.510\nadd that as well, and give them\nwhatever NTFS permissions I want.\n\n341\n00:17:42.510 --> 00:17:44.650\nSo I can take care of both right here.\n\n342\n00:17:44.650 --> 00:17:48.340\nSo kind of a little bit of\na mix of both worlds there.\n\n343\n00:17:48.340 --> 00:17:50.430\nJust remember if you use\none of these options.\n\n344\n00:17:50.430 --> 00:17:51.060\nThese first three,\n\n345\n00:17:51.060 --> 00:17:54.530\nit doesn't set the NDSF you're going\nto have to do that separately.\n\n346\n00:17:54.530 --> 00:17:59.640\nClick finish and finish again,\nand I now have a new share.\n\n347\n00:17:59.640 --> 00:18:02.200\nAnd I completely closed\nWindows Explorer for some reason.\n\n348\n00:18:02.200 --> 00:18:04.330\nSo, now we've got another share created.\n\n349\n00:18:04.330 --> 00:18:05.980\nThird way I can create the share.\n\n350\n00:18:05.980 --> 00:18:07.480\nBut wait, there's more.\n\n351\n00:18:07.480 --> 00:18:09.730\nIf you call now within\nthe next ten minutes,\n\n352\n00:18:09.730 --> 00:18:11.410\nI'll show you one more\nway to make a share.\n\n353\n00:18:11.410 --> 00:18:12.339\n>> And you get some ginsu knives.\n\n354\n00:18:12.339 --> 00:18:14.570\n>> [LAUGH] That's right, and\nthey'll stay sharp forever.\n\n355\n00:18:14.570 --> 00:18:15.290\n>> That's right.\n\n356\n00:18:15.290 --> 00:18:19.450\n>> And we can also in Server Manager,\nI can go over here,\n\n357\n00:18:19.450 --> 00:18:23.650\nnot one of my tools, but over here\non the left, you can click file and\n\n358\n00:18:23.650 --> 00:18:27.750\nstorage services, and\nthere are shares as well.\n\n359\n00:18:27.750 --> 00:18:31.190\nAnd I'll click on that and\nlet it refresh it's information here.\n\n360\n00:18:31.190 --> 00:18:33.730\nAnd it's going to show me\nthe different shares I have as well.\n\n361\n00:18:33.730 --> 00:18:36.710\nNotice this one doesn't show\nme the hidden shares, but\n\n362\n00:18:36.710 --> 00:18:39.160\nit shows me all the different\nshares that I've created.\n\n363\n00:18:39.160 --> 00:18:43.930\nAnd as you probably imagine, I can\ncreate a new share from here as well.\n\n364\n00:18:43.930 --> 00:18:47.507\nLaunches different wizard, remember I\ntold you each one of these ways different\n\n365\n00:18:47.507 --> 00:18:51.540\nwizard, different options and heck,\nsome of them different permissions.\n\n366\n00:18:51.540 --> 00:18:53.220\nHey, they want to give you choices, right?\n\n367\n00:18:53.220 --> 00:18:54.045\nChoices are good.\n\n368\n00:18:54.045 --> 00:18:56.838\n[LAUGH].\n>> In this one area they give us choices.\n\n369\n00:18:56.838 --> 00:18:58.980\n[LAUGH].\n>> There they go its lock out,\n\n370\n00:18:58.980 --> 00:19:01.000\ndo what you want.\n\n371\n00:19:01.000 --> 00:19:02.600\nNow here's a little different.\n\n372\n00:19:02.600 --> 00:19:05.710\nI can create different,\nthese are what they call share profiles.\n\n373\n00:19:05.710 --> 00:19:08.070\nThere's SMB and NFS.\n\n374\n00:19:08.070 --> 00:19:09.950\nSMB is my Server Message Block.\n\n375\n00:19:09.950 --> 00:19:13.220\nThat's the standard share protocol for\nWindows.\n\n376\n00:19:13.220 --> 00:19:15.080\nNFS is my Network File System.\n\n377\n00:19:15.080 --> 00:19:16.060\nThis is a UNIX thing.\n\n378\n00:19:16.060 --> 00:19:19.850\nSo if you had a mixed environment and\nyou wanted to set up a share that was\n\n379\n00:19:19.850 --> 00:19:23.730\nnative to those guys, they could use\ntheir own protocols to connect to it.\n\n380\n00:19:23.730 --> 00:19:26.510\nUNIX, Linux,\nI mean they've got their, what is it?\n\n381\n00:19:26.510 --> 00:19:28.380\nSamba, Samba is there.\n\n382\n00:19:28.380 --> 00:19:30.640\nThere SMB emulator.\n\n383\n00:19:30.640 --> 00:19:33.150\nBut if I want to make a share\nthat's native for those guys,\n\n384\n00:19:33.150 --> 00:19:35.740\nthey can use their native\nprotocol to connect to it.\n\n385\n00:19:35.740 --> 00:19:40.610\nI can actually Set up an NFS share on\na Windows system, which is pretty cool.\n\n386\n00:19:40.610 --> 00:19:42.900\nBut, typically, we're doing these SNBs.\n\n387\n00:19:42.900 --> 00:19:45.620\nThe quick is just for\ngeneral file sharing.\n\n388\n00:19:45.620 --> 00:19:50.715\nThe advanced gives me additional\noptions as I go through the wizard.\n\n389\n00:19:50.715 --> 00:19:52.535\nThe quick just uses\nbasically the defaults,\n\n390\n00:19:52.535 --> 00:19:54.735\nit's a lot like using that simple wizard.\n\n391\n00:19:54.735 --> 00:19:58.185\nThe advanced gives me more granular\ncontrol over the share itself.\n\n392\n00:19:58.185 --> 00:19:59.175\nAnd then there's also one for\n\n393\n00:19:59.175 --> 00:20:04.375\napplications, like hyper v, because\nit accesses the shares differently.\n\n394\n00:20:04.375 --> 00:20:07.545\nWhen you connect to a share,\ntypically you open a file and\n\n395\n00:20:07.545 --> 00:20:11.195\nit brings that to your machine,\nbut your connection is severed, or\n\n396\n00:20:11.195 --> 00:20:14.160\nit's not severed, but\nit's it's not maintained, right?\n\n397\n00:20:14.160 --> 00:20:18.510\nIf you go to change it has to connect\nagain and write that change, whereas\n\n398\n00:20:18.510 --> 00:20:22.660\nsomething like Hyper-V maintains that\nconnection to that virtual hard drive.\n\n399\n00:20:22.660 --> 00:20:25.270\nThat shared connection stays open.\n\n400\n00:20:25.270 --> 00:20:26.740\nSo it's set up just for that.\n\n401\n00:20:26.740 --> 00:20:29.474\nI'll just go ahead and\ndo this Advanced option here.\n\n402\n00:20:29.474 --> 00:20:34.440\nAll right, and oh I haven't\n\n403\n00:20:34.440 --> 00:20:38.230\ninstalled the FSRM console, so let's\njust do the quick and I'll click next.\n\n404\n00:20:39.660 --> 00:20:44.430\nAnd then I'll find a file\nthat I want to share.\n\n405\n00:20:44.430 --> 00:20:46.670\nLet's see on my C drive,\nI'll make a new folder.\n\n406\n00:20:46.670 --> 00:20:47.260\nWe're up to what?\n\n407\n00:20:47.260 --> 00:20:48.340\nTest four now I think.\n\n408\n00:20:49.390 --> 00:20:51.610\nAnd we'll select that folder.\n\n409\n00:20:51.610 --> 00:20:52.820\nI'm telling it what I want to share.\n\n410\n00:20:54.180 --> 00:20:58.170\nThen I can change the name of it,\njust like before it's got my path and\n\n411\n00:20:58.170 --> 00:20:59.980\nmy remote path.\n\n412\n00:20:59.980 --> 00:21:02.470\nAnd then here I get some\nreally interesting options.\n\n413\n00:21:02.470 --> 00:21:05.560\nI got something called\naccess based enumeration,\n\n414\n00:21:05.560 --> 00:21:09.590\nwhich I'm going to talk about\na little bit more later on.\n\n415\n00:21:09.590 --> 00:21:12.500\nIt's a really cool concept,\nrelatively new.\n\n416\n00:21:12.500 --> 00:21:14.280\nBut I can turn that on.\n\n417\n00:21:14.280 --> 00:21:17.540\nI've also got my offline\nfiles information, and\n\n418\n00:21:17.540 --> 00:21:19.530\nI can encrypt data access.\n\n419\n00:21:19.530 --> 00:21:22.590\nNot encrypt data, encrypt data access.\n\n420\n00:21:22.590 --> 00:21:24.730\nMeaning that any time I\nconnect to the share,\n\n421\n00:21:24.730 --> 00:21:27.550\nI want to make sure that\nconnection is encrypted.\n\n422\n00:21:27.550 --> 00:21:30.610\nI would have to make sure that it was\nset up properly with certificates or\n\n423\n00:21:30.610 --> 00:21:32.510\nwhatever I needed to encrypt that.\n\n424\n00:21:32.510 --> 00:21:35.050\nI'll go ahead and\njust leave it and click next.\n\n425\n00:21:35.050 --> 00:21:38.870\nAnd then my permissions,\nI get the old school set of permissions.\n\n426\n00:21:38.870 --> 00:21:44.110\nSo I can do full, granular control\nover who has what permissions.\n\n427\n00:21:44.110 --> 00:21:48.300\nI'll just leave the defaults here\nwhich is to inherit, I'll click next.\n\n428\n00:21:48.300 --> 00:21:51.320\nAnd create, and I've got another share.\n\n429\n00:21:51.320 --> 00:21:55.210\nSo again, the fourth way that I can\ngo through and create shares and\n\n430\n00:21:55.210 --> 00:21:58.890\ndifferent scenarios might call for\ndifferent option, right?\n\n431\n00:21:58.890 --> 00:21:59.770\nIf it's a end user and\n\n432\n00:21:59.770 --> 00:22:03.385\nthey just want to do a quick share,\nthat little wizard is fine for them.\n\n433\n00:22:03.385 --> 00:22:05.885\nIf you want more control\nover creating that share,\n\n434\n00:22:05.885 --> 00:22:08.385\nif you're doing it on a file server,\nyou're most likely going to\n\n435\n00:22:08.385 --> 00:22:11.415\nuse that advance share, or\nyou're going to come in and\n\n436\n00:22:11.415 --> 00:22:16.415\nuse either the server manager or\ncomputer management to create that share.\n\n437\n00:22:16.415 --> 00:22:19.695\nOne of the nice things about\nthis one here, in fact,\n\n438\n00:22:19.695 --> 00:22:22.095\nyou might have noticed in here.\n\n439\n00:22:22.095 --> 00:22:24.890\nLet's see if it'll let me I'll show you.\n\n440\n00:22:24.890 --> 00:22:29.180\nIf I had added additional servers\nto my console ahead of time,\n\n441\n00:22:29.180 --> 00:22:32.460\nI can actually make shares\non other servers as well.\n\n442\n00:22:32.460 --> 00:22:35.430\nSo that's an advantage of\nthe server manager option.\n\n443\n00:22:35.430 --> 00:22:38.980\nIf you're managing a big network and\nyour managing multiple file servers,\n\n444\n00:22:38.980 --> 00:22:41.390\nyou could actually open up\nthis on one machine, but\n\n445\n00:22:41.390 --> 00:22:43.040\ncreate shares on all\nthe different machines.\n\n446\n00:22:43.040 --> 00:22:45.330\nSo, depending on what you're trying to do,\n\n447\n00:22:45.330 --> 00:22:48.140\nthat's going to determine\nwhich tool suits you best.\n\n448\n00:22:49.500 --> 00:22:51.120\nAll right, so Daniel, let's see,\n\n449\n00:22:51.120 --> 00:22:54.970\nwe've talked about all the different\nways that we can create these shares.\n\n450\n00:22:54.970 --> 00:22:58.700\nWe've talked about the share formations,\nand the way they combine.\n\n451\n00:22:58.700 --> 00:23:02.776\nAnd I want to do a couple labs,\nI know we're getting short on time.\n\n452\n00:23:02.776 --> 00:23:06.820\nSo you want to, let's finish it off there\nand come back and do the labs and stuff.\n\n453\n00:23:06.820 --> 00:23:09.440\n>> Sure. Sure. I guess we'll\nhave to do a part two on this.\n\n454\n00:23:09.440 --> 00:23:10.550\n>> Yeah.\n>> And see a lot\n\n455\n00:23:10.550 --> 00:23:13.230\nmore of the cool stuff we can do with some\nof the permissions and some of the other\n\n456\n00:23:13.230 --> 00:23:16.220\nthings that we have available to us\nthat Mike's got keyed up for us.\n\n457\n00:23:16.220 --> 00:23:18.410\nHopefully you'll stick around and\nwatch that episode.\n\n458\n00:23:18.410 --> 00:23:19.330\nIt's going to be great.\n\n459\n00:23:19.330 --> 00:23:21.420\nAs for this one,\nlooks like we've wrapped it up.\n\n460\n00:23:21.420 --> 00:23:22.290\nHope you guys have enjoyed it.\n\n461\n00:23:22.290 --> 00:23:23.560\nWe sure had a good time making it.\n\n462\n00:23:23.560 --> 00:23:25.610\nThat being said, it's time to sign off.\n\n463\n00:23:25.610 --> 00:23:27.800\nITProTV, I've been your\nhost Daniel Lowery.\n\n464\n00:23:27.800 --> 00:23:29.547\n>> And I'm Mike Roderick,\nand we'll see you next time.\n\n465\n00:23:29.547 --> 00:23:30.557\n[MUSIC]\n\n",
          "vimeoId": "133593165"
        },
        {
          "description": "In this episode, Daniel and Mike conclude their discussion on configuring shares. They talk about the Volume Shadow Copy Service (VSS) and explain its use.",
          "length": "1847",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-4-2-configuring_shares_pt2-071415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-4-2-configuring_shares_pt2-071415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-4-2-configuring_shares_pt2-071415-1-sm.jpg",
          "title": "Configuring Shares Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.780\n[MUSIC]\n\n2\n00:00:10.780 --> 00:00:12.161\nAll right, greetings everyone.\n\n3\n00:00:12.161 --> 00:00:15.430\nWelcome to another great\nepisode of ITProTV.\n\n4\n00:00:15.430 --> 00:00:16.550\nYour host Daniel Lowry.\n\n5\n00:00:16.550 --> 00:00:19.460\nHere with me today is\nthe spectacular Mike Rodrick.\n\n6\n00:00:19.460 --> 00:00:20.320\nHow ya doing today, Mike?\n\n7\n00:00:20.320 --> 00:00:22.350\n>> I'm doing fantastic, Daniel.\n\n8\n00:00:22.350 --> 00:00:25.560\nWe're continuing on with\nour share discussion.\n\n9\n00:00:25.560 --> 00:00:28.380\nIn our previous episode,\nwe took a look at shares in general.\n\n10\n00:00:28.380 --> 00:00:31.540\nWe saw a few different ways that\nwe could create shared folders and\n\n11\n00:00:31.540 --> 00:00:33.780\nmake resources available on the network.\n\n12\n00:00:33.780 --> 00:00:36.220\nWe also took a look at\nthe share permissions and\n\n13\n00:00:36.220 --> 00:00:39.080\nthe way they combine\nwith NTFS permissions.\n\n14\n00:00:39.080 --> 00:00:41.710\nSo if you missed any of that, make sure\nyou go check out that other episode.\n\n15\n00:00:41.710 --> 00:00:43.730\nBut right now we're gonna\ntake it a step further,\n\n16\n00:00:43.730 --> 00:00:46.690\nwe're gonna look at some advanced\nconfigurations we can do.\n\n17\n00:00:46.690 --> 00:00:48.500\nWith our shared folders.\n\n18\n00:00:48.500 --> 00:00:52.250\nSo as you saw in the previous episode,\nI have a bit of a folder structure set up.\n\n19\n00:00:52.250 --> 00:00:54.740\nI've got a sales folder\nwhich is my root folder.\n\n20\n00:00:54.740 --> 00:00:58.830\nAnd if I take a look at the properties\nof this guy, I've shared it out.\n\n21\n00:00:58.830 --> 00:01:04.730\nAnd I've basically given everybody\nfull control share permissions.\n\n22\n00:01:04.730 --> 00:01:10.120\nAnd then on the folders underneath there,\nI have my NTFS permissions set.\n\n23\n00:01:10.120 --> 00:01:16.330\nAnd I've given the sales group access\nto everything but commissions.\n\n24\n00:01:16.330 --> 00:01:19.930\nCommissions is only available\nto the sales managers.\n\n25\n00:01:19.930 --> 00:01:23.160\nAnd on sales reports,\nI think they might have,\n\n26\n00:01:23.160 --> 00:01:25.440\nI think I took away\ntheir write permission.\n\n27\n00:01:25.440 --> 00:01:28.330\nAgain, we did all that\nIn our last episode.\n\n28\n00:01:28.330 --> 00:01:32.390\nAnd now what I wanna show you is\nsomething called Access Base Enumeration.\n\n29\n00:01:32.390 --> 00:01:36.670\nNow this actually came out in 2008 but\nit is available in 2012 R2.\n\n30\n00:01:36.670 --> 00:01:39.140\nAnd it's a really cool feature, Daniel.\n\n31\n00:01:39.140 --> 00:01:43.938\nWhat happens is when you share a folder\nthere could be dozens of files or\n\n32\n00:01:43.938 --> 00:01:45.270\n100s of files.\n\n33\n00:01:45.270 --> 00:01:46.600\nInside that folder.\n\n34\n00:01:46.600 --> 00:01:48.470\nAnd if I give you share permissions so\n\n35\n00:01:48.470 --> 00:01:51.410\nthat you can connect to the folder,\nand you have list folder contents,\n\n36\n00:01:51.410 --> 00:01:55.000\nyou get to see everything\nthat's in that shared folder.\n\n37\n00:01:55.000 --> 00:01:58.110\nSome of which you might not\nhave permissions over, right?\n\n38\n00:01:58.110 --> 00:02:00.640\nThere might be stuff in there that\nyou're not supposed to access.\n\n39\n00:02:00.640 --> 00:02:03.050\nYou're gonna see it, but\nwhen you double-click on it,\n\n40\n00:02:03.050 --> 00:02:08.150\nit's gonna give you the old access is\ndenied and hat's how it's always been.\n\n41\n00:02:08.150 --> 00:02:11.440\nThe problem with that though is,\nit's temptation, right?\n\n42\n00:02:11.440 --> 00:02:13.720\nIf the user sees it they're\ngonna double-click on it,\n\n43\n00:02:13.720 --> 00:02:17.620\nthey're gonna get that access denied and\ngo, you know why can't I access that,\n\n44\n00:02:17.620 --> 00:02:20.100\nI know my co-worker can access it and\nI can't.\n\n45\n00:02:20.100 --> 00:02:23.390\nOr they're gonna get curios and\ngo, hm I wonder what's in there.\n\n46\n00:02:23.390 --> 00:02:25.340\nRight?\nAnd they're going to maybe try to figure\n\n47\n00:02:25.340 --> 00:02:30.360\nout a way to get access, or who knows\nwhat these users are going to try to do.\n\n48\n00:02:30.360 --> 00:02:33.380\nAccess Based Enumeration\nsolves this problem.\n\n49\n00:02:33.380 --> 00:02:34.530\nIt says hey look,\n\n50\n00:02:34.530 --> 00:02:40.420\nI'm only going to show you only what\nyou have at least read permission for.\n\n51\n00:02:40.420 --> 00:02:44.850\nIf you don't have at least read, I'm not\neven going to show it to you, all right?\n\n52\n00:02:44.850 --> 00:02:47.060\nAnd I think, Daniel, that's a great idea.\n\n53\n00:02:47.060 --> 00:02:50.800\n>> Oh I'm 100% convinced that\na bunch of admins got together and\n\n54\n00:02:50.800 --> 00:02:53.450\nthey pooled their resources and\ntold Microsoft, I want\n\n55\n00:02:53.450 --> 00:02:56.760\nmy users to stop being able to see things\nthat they can't have access to, because\n\n56\n00:02:56.760 --> 00:03:00.480\nall they do is hound me about getting\naccess to that particular resource.\n\n57\n00:03:00.480 --> 00:03:03.620\nIt is very annoying,\nI used to get it all the time.\n\n58\n00:03:03.620 --> 00:03:04.740\nThey would call me up,\n\n59\n00:03:04.740 --> 00:03:09.580\nmy coworker can get into this file,\nhow come I can't get into this file?\n\n60\n00:03:09.580 --> 00:03:10.470\nI worked in the same.\n\n61\n00:03:10.470 --> 00:03:14.110\nWell, maybe your boss called me up and\nsaid here's the one person I want to have\n\n62\n00:03:14.110 --> 00:03:17.190\naccess to this file or folder,\nresource, whatever it is.\n\n63\n00:03:17.190 --> 00:03:20.060\nJust by taking away their\nability to even see it.\n\n64\n00:03:20.060 --> 00:03:24.000\nCuz the don't have any permissions to it\nwhatsoever, it saves us a lot of headache.\n\n65\n00:03:24.000 --> 00:03:26.790\nSaves them a lot of headache cuz they're\nmore worried about doing their job than\n\n66\n00:03:26.790 --> 00:03:30.103\nthey are about having access envy or\nwhatever the case may be.\n\n67\n00:03:30.103 --> 00:03:30.658\n>> [CROSSTALK] I like that.\n\n68\n00:03:30.658 --> 00:03:31.541\nAccess envy.\n\n69\n00:03:31.541 --> 00:03:34.690\n[LAUGH]\n>> It's what it seems to be and\n\n70\n00:03:34.690 --> 00:03:36.560\nthey just go to work, you go to work.\n\n71\n00:03:36.560 --> 00:03:39.860\nYou're working on more important\nthings than fielding a call and\n\n72\n00:03:39.860 --> 00:03:43.640\ntry to play politics on why someone\ndoesn't have access to something or\n\n73\n00:03:43.640 --> 00:03:44.840\ndoes have access to something.\n\n74\n00:03:44.840 --> 00:03:46.740\nIt just doesn't even show up.\n\n75\n00:03:46.740 --> 00:03:49.920\nTo them it's not even there, but\nto other people that need it\n\n76\n00:03:49.920 --> 00:03:54.240\nit's there it's ready and and waiting,\nand only that shows up in their list.\n\n77\n00:03:54.240 --> 00:03:56.690\n>> Exactly, so let's take a look at it,\nlet's see how it works here.\n\n78\n00:03:56.690 --> 00:04:00.810\nSo, what im going to do here is\nflip over to our client machine.\n\n79\n00:04:00.810 --> 00:04:05.820\nAnd I'm currently logged in\nas the username Nate, and\n\n80\n00:04:05.820 --> 00:04:07.850\nNate is part of that sales group.\n\n81\n00:04:07.850 --> 00:04:10.180\nSo he's going to try to access that share.\n\n82\n00:04:10.180 --> 00:04:13.420\nAnd I'm going to access it by\nopening up File Explorer and\n\n83\n00:04:13.420 --> 00:04:18.570\nnavigating to SBRO1 backslash, Sales.\n\n84\n00:04:20.840 --> 00:04:23.400\nAnd there I can see all\nthose folders inside there.\n\n85\n00:04:23.400 --> 00:04:26.010\nI go to Sales Reports, that's fantastic.\n\n86\n00:04:26.010 --> 00:04:28.260\nOrder Forms is good.\n\n87\n00:04:28.260 --> 00:04:30.600\nCustomer Forms, fantastic.\n\n88\n00:04:30.600 --> 00:04:34.585\nI go to Commissions and\nI get the old Access is denied.\n\n89\n00:04:34.585 --> 00:04:38.125\nI'm not supposed to access this folder\nthat has all the commission rate for\n\n90\n00:04:38.125 --> 00:04:41.595\nmy other sales co-workers.\n\n91\n00:04:41.595 --> 00:04:42.645\nBut I see it there.\n\n92\n00:04:42.645 --> 00:04:44.985\nAnd I wanna know why I\ncan't get access to it.\n\n93\n00:04:44.985 --> 00:04:46.865\nOr I'm gonna try to figure out a way,\nas Daniels says,\n\n94\n00:04:46.865 --> 00:04:49.120\nto get access to that all right?\n\n95\n00:04:49.120 --> 00:04:52.610\nSo that's the normal,\nthat's the way things have always been.\n\n96\n00:04:52.610 --> 00:04:58.990\nNow what I'm gonna do is I'm going to\nactually log off as Nate just because this\n\n97\n00:04:58.990 --> 00:05:04.920\nprocess needs to refresh and I don't want\nto have a cached copy of that view there.\n\n98\n00:05:04.920 --> 00:05:08.060\nSo I'm logging off as Nate and\nI'm gonna switch back over.\n\n99\n00:05:08.060 --> 00:05:11.270\nTo a black screen, isn't that nice.\n\n100\n00:05:11.270 --> 00:05:15.720\nWe'll go back here to server 1, and\nI wanna enable access-based enumeration.\n\n101\n00:05:15.720 --> 00:05:17.600\nThe problem is I can't do it from here.\n\n102\n00:05:17.600 --> 00:05:18.924\nWhen I go to the shared tab,\n\n103\n00:05:18.924 --> 00:05:22.400\nthere's nothing to do with\nAccess Based Enumeration there.\n\n104\n00:05:22.400 --> 00:05:25.460\nSo the way we do it is\nwe go to Server Manager.\n\n105\n00:05:25.460 --> 00:05:27.380\nAnd normally you'll come\ninto Server Manager and\n\n106\n00:05:27.380 --> 00:05:29.690\nyou'll be looking at\na dashboard like this.\n\n107\n00:05:29.690 --> 00:05:32.140\nYou go to File and Stored Services.\n\n108\n00:05:32.140 --> 00:05:33.820\nAnd then you're gonna click on Shares.\n\n109\n00:05:35.550 --> 00:05:37.260\nAnd then you're gonna find that share.\n\n110\n00:05:37.260 --> 00:05:43.240\nIn this case it is sales, which isn't even\nshowing up so let's refresh this guy.\n\n111\n00:05:45.015 --> 00:05:46.825\nAnd there's my Sales Share.\n\n112\n00:05:46.825 --> 00:05:49.325\nAnd I'm just gonna right-click on it and\npull up Properties.\n\n113\n00:05:50.895 --> 00:05:52.715\nAnd when I go into my Settings,\n\n114\n00:05:52.715 --> 00:05:55.685\none of my options is\nEnable Access Based Enumeration.\n\n115\n00:05:55.685 --> 00:05:58.575\nAnd you can see right there,\nit displays only the files and\n\n116\n00:05:58.575 --> 00:06:01.305\nfolders that a user has\npermission to access.\n\n117\n00:06:01.305 --> 00:06:06.505\nIf they don't have read or equivalent,\nit hides the folder from the user's view.\n\n118\n00:06:06.505 --> 00:06:07.885\nSo all we have to do is turn it on.\n\n119\n00:06:07.885 --> 00:06:09.410\nWe put a check mark.\n\n120\n00:06:09.410 --> 00:06:10.960\nAnd we click OK.\n\n121\n00:06:10.960 --> 00:06:12.980\nAnd now let's see what the results were.\n\n122\n00:06:12.980 --> 00:06:17.559\nI'll switch back over to client and\nwe're gonna login as Nate.\n\n123\n00:06:19.208 --> 00:06:22.410\nHe was kind enough to share\nhis password with me.\n\n124\n00:06:22.410 --> 00:06:24.940\nJust kidding.\n\n125\n00:06:24.940 --> 00:06:26.760\nAnd I'll login here.\n\n126\n00:06:26.760 --> 00:06:32.816\n>> You're the administrator Mike,\nyou set the passwords.\n\n127\n00:06:32.816 --> 00:06:34.246\n>> I know right.\n\n128\n00:06:34.246 --> 00:06:37.380\n[LAUGH] And I'll open up File Explorer.\n\n129\n00:06:37.380 --> 00:06:39.840\nAnd I'll navigate into //svr01/sales.\n\n130\n00:06:39.840 --> 00:06:42.970\nAll right so we're logged in as Nate, and\n\n131\n00:06:42.970 --> 00:06:47.275\nI'm gonna open up File Explorer and\nnavigate over to that share.\n\n132\n00:06:47.275 --> 00:06:51.680\n//svr01 /sales, and tada!\n\n133\n00:06:51.680 --> 00:06:52.560\nThere we go.\n\n134\n00:06:52.560 --> 00:06:55.800\nNotice the Commissions Folder\nis not even showing up, right,\n\n135\n00:06:55.800 --> 00:06:59.680\nbecause Nate has no permissions over it,\nit hides it from view.\n\n136\n00:06:59.680 --> 00:07:02.850\nSo easy way to, you know,\nmake the shares available,\n\n137\n00:07:02.850 --> 00:07:06.710\nshow the users what they should have\naccess to, but instead of showing them\n\n138\n00:07:06.710 --> 00:07:09.720\nthe stuff they don't have access to,\nhide it from them, right?\n\n139\n00:07:09.720 --> 00:07:10.490\nDon't let them see it.\n\n140\n00:07:10.490 --> 00:07:13.360\nThat way they're not curious,\nthey're not worried about it.\n\n141\n00:07:13.360 --> 00:07:16.710\nAs you said they could focus on what\nthey're supposed to be focused on\n\n142\n00:07:16.710 --> 00:07:18.300\nnot that, what did you call it?\n\n143\n00:07:18.300 --> 00:07:18.832\nShare MVP.\n\n144\n00:07:18.832 --> 00:07:19.600\n>> Access-\n>> [LAUGH] Access MVP.\n\n145\n00:07:19.600 --> 00:07:20.640\nIt's the same thing.\n\n146\n00:07:20.640 --> 00:07:23.770\n>> You know what though this is\neven good for the end user because\n\n147\n00:07:23.770 --> 00:07:27.250\nthey're not being inundated with a bunch\nof stuff that care about either.\n\n148\n00:07:27.250 --> 00:07:30.310\nBecause there are users that are just\nfocused on doing their work,\n\n149\n00:07:30.310 --> 00:07:32.470\nthey're trying to find a folder sometimes.\n\n150\n00:07:32.470 --> 00:07:35.660\nIt can get lost in sea of\na bunch of information.\n\n151\n00:07:35.660 --> 00:07:38.630\nSo, I'm just saying here\nare the things that I have access to.\n\n152\n00:07:38.630 --> 00:07:42.020\nI don't need to know about folders that\nexist that I don't have access to because\n\n153\n00:07:42.020 --> 00:07:42.920\nI'm not gonna get getting in them.\n\n154\n00:07:42.920 --> 00:07:46.030\nThey're just taking up my visual space.\n\n155\n00:07:46.030 --> 00:07:47.450\nSo I can get them out of the way,\n\n156\n00:07:47.450 --> 00:07:50.589\nhelps me find those needles in those\nhay stacks a little bit easier.\n\n157\n00:07:50.589 --> 00:07:52.919\nSo, if I'm a user I'm\nhappy about this as well.\n\n158\n00:07:52.919 --> 00:07:57.479\nThis is one of the best And\nnew features of Microsoft Server 2012,\n\n159\n00:07:57.479 --> 00:07:59.140\nthat I really enjoy.\n\n160\n00:07:59.140 --> 00:07:59.660\n>> Absolutely.\n\n161\n00:07:59.660 --> 00:08:01.380\nIt's a wonderful thing.\n\n162\n00:08:01.380 --> 00:08:04.050\nAll right.\nSo that's access base enumeration.\n\n163\n00:08:04.050 --> 00:08:05.610\nMicrosoft likes to call it ABE.\n\n164\n00:08:05.610 --> 00:08:08.810\nSo if you ever see that acronym,\nthat's what it stands for.\n\n165\n00:08:08.810 --> 00:08:10.790\n>> Abe.\n>> Yeah, I know it's kind of strange.\n\n166\n00:08:10.790 --> 00:08:12.300\nAll right.\nSo that's access based enumeration.\n\n167\n00:08:12.300 --> 00:08:14.830\nThe next thing I want to show you\nis something called offline files.\n\n168\n00:08:14.830 --> 00:08:16.980\nIn the previous episode I hinted at it,\n\n169\n00:08:16.980 --> 00:08:20.120\nI showed you a couple places where\nyou could set offline files.\n\n170\n00:08:20.120 --> 00:08:22.270\nWe didn't really talk about it yet.\n\n171\n00:08:22.270 --> 00:08:24.645\nOffline files, are little,\nwell let's take it back a step.\n\n172\n00:08:24.645 --> 00:08:26.115\nWhen you connect to a share, right,\n\n173\n00:08:26.115 --> 00:08:29.625\nyou're going across the network\nto connect to a resource.\n\n174\n00:08:29.625 --> 00:08:31.465\nWell what if I take the network away?\n\n175\n00:08:31.465 --> 00:08:33.875\nAre you gonna be able to\nconnect to that share?\n\n176\n00:08:33.875 --> 00:08:36.965\nImagine you got a file server at work,\nthere's a shared folder there.\n\n177\n00:08:36.965 --> 00:08:38.445\nWhen you're on your work, your laptop,\n\n178\n00:08:38.445 --> 00:08:42.335\nyou're plugged into that work network,\nyou can navigate to that share, right?\n\n179\n00:08:42.335 --> 00:08:46.115\nI take my laptop home, I'm not\nconnected to the work network anymore.\n\n180\n00:08:46.115 --> 00:08:48.330\nI don't have a VPN tunnel set up.\n\n181\n00:08:48.330 --> 00:08:50.550\nHow can I access those resources?\n\n182\n00:08:50.550 --> 00:08:53.580\nI can't because I'm not\nconnected to that network.\n\n183\n00:08:53.580 --> 00:08:55.760\nThat's where Offline Files comes in.\n\n184\n00:08:55.760 --> 00:09:02.270\nOffline Files allows me to cache a copy\nof those files locally on my hard drive.\n\n185\n00:09:02.270 --> 00:09:04.740\nAnd then when I'm not\nconnected to the network,\n\n186\n00:09:04.740 --> 00:09:07.010\nI can still work with those files.\n\n187\n00:09:07.010 --> 00:09:09.670\nSo it will, again, cache a copy locally.\n\n188\n00:09:09.670 --> 00:09:13.830\nI can work with those files while I'm\ndisconnected and then when I reconnect\n\n189\n00:09:13.830 --> 00:09:16.320\nto the network, maybe the next\nday when I go back to work or\n\n190\n00:09:16.320 --> 00:09:21.110\nwhat have you, it will synchronize my\nchanges with the original document.\n\n191\n00:09:21.110 --> 00:09:25.400\nSo it allows me to be productive even\nwhen I'm not connected to the network.\n\n192\n00:09:25.400 --> 00:09:28.670\nYou know, and we always use that example\nwhen I'm disconnected from the network,\n\n193\n00:09:28.670 --> 00:09:30.645\nbut I'll tell you another\nscenario it really helps with,\n\n194\n00:09:30.645 --> 00:09:34.790\nis like branch offices or places where\nyou have intermittent network activity.\n\n195\n00:09:34.790 --> 00:09:37.020\nWorking on a document and\nthe network goes down.\n\n196\n00:09:37.020 --> 00:09:40.949\nAnd all of a sudden the thing locks up,\nbecause it cant' connect, right?\n\n197\n00:09:40.949 --> 00:09:44.830\nThen the network comes back up and\nall of a sudden I can work again.\n\n198\n00:09:44.830 --> 00:09:46.930\nIf I have offline files enabled,\n\n199\n00:09:46.930 --> 00:09:49.970\nI wouldn't even notice the network went\ndown for that particular resource.\n\n200\n00:09:49.970 --> 00:09:51.860\nI could continue working with it.\n\n201\n00:09:51.860 --> 00:09:53.360\nThe network would pick\nup in the background.\n\n202\n00:09:53.360 --> 00:09:56.110\nIt would synchronize my\nchanges in the background.\n\n203\n00:09:56.110 --> 00:09:57.150\nI'd be good to go.\n\n204\n00:09:57.150 --> 00:09:59.420\nSo offline files is\na pretty cool technology.\n\n205\n00:09:59.420 --> 00:10:01.250\nThere are some drawbacks to it, though.\n\n206\n00:10:01.250 --> 00:10:03.880\nIt doesn't do any type of versioning.\n\n207\n00:10:03.880 --> 00:10:05.830\nRight?\nThis isn't SharePoint or\n\n208\n00:10:05.830 --> 00:10:07.670\ncollaboration software.\n\n209\n00:10:07.670 --> 00:10:08.880\nIt's not meant for that.\n\n210\n00:10:08.880 --> 00:10:10.881\nSo here's the problem we can run into.\n\n211\n00:10:10.881 --> 00:10:12.990\nLet' say user, let's say Bob and\n\n212\n00:10:12.990 --> 00:10:17.300\nSue both make the same file\navailable offline, all right.\n\n213\n00:10:17.300 --> 00:10:21.060\nBoth of them go home, both of them\nmake changes to that document.\n\n214\n00:10:21.060 --> 00:10:25.370\nWell Sue being the responsible one,\nmakes it into work at 8:00 in the morning,\n\n215\n00:10:25.370 --> 00:10:29.580\nher changes synchronize and are now\nsynchronized with that orignal, right?\n\n216\n00:10:29.580 --> 00:10:33.670\nWhen Bob rolls in at 8:20, he's gonna\ngo to synchronize, in the background\n\n217\n00:10:33.670 --> 00:10:36.850\nit's gonna try to synchronize, and\nit's gonna say, wait a second.\n\n218\n00:10:36.850 --> 00:10:38.690\nThat original has changed.\n\n219\n00:10:38.690 --> 00:10:43.000\nThat's not the same as when I cached\nit yesterday when you left work.\n\n220\n00:10:43.000 --> 00:10:45.605\nAnd it's gonna ask Bob\nwhat he wants to do.\n\n221\n00:10:45.605 --> 00:10:50.015\nDo you wanna overwrite the file that's\nup there right now with your changes, or\n\n222\n00:10:50.015 --> 00:10:55.005\ndo you wanna save your changes as\na separate file with a different name?\n\n223\n00:10:55.005 --> 00:10:56.265\nAnd that's probably a good option, but\n\n224\n00:10:56.265 --> 00:11:00.455\nthe problem is Dan, our end users don't\nalways make the right decisions, right?\n\n225\n00:11:00.455 --> 00:11:01.995\n>> No, unfortunately they don't.\n\n226\n00:11:01.995 --> 00:11:06.970\nAnd a lot of times you got a lot of work\nthat disappears because an end user just\n\n227\n00:11:06.970 --> 00:11:08.060\nchose poorly.\n\n228\n00:11:08.060 --> 00:11:11.400\nWhen it came to this option they said,\nhey overwrite that file,\n\n229\n00:11:11.400 --> 00:11:15.080\nyeah, that's not how it should be,\nsomething must have happened.\n\n230\n00:11:15.080 --> 00:11:18.130\nUsers don't think like we think, because\nthey don't work in the same environment.\n\n231\n00:11:18.130 --> 00:11:20.430\nThey just think something must\nhave happened to that file.\n\n232\n00:11:20.430 --> 00:11:23.480\nI know I've got the good copy,\noverwrite that.\n\n233\n00:11:23.480 --> 00:11:27.800\nAnd then Sue's work, she might have spent\nall night long writing up a report, and\n\n234\n00:11:27.800 --> 00:11:29.320\nbasically she just wasted her time.\n\n235\n00:11:29.320 --> 00:11:33.370\nBecause Bob comes in, or whatever his\nname was and overwrote all that work.\n\n236\n00:11:33.370 --> 00:11:33.900\nIt's gone.\n\n237\n00:11:35.100 --> 00:11:37.640\nAnd poor Sue, she's huddled in a corner.\n\n238\n00:11:37.640 --> 00:11:42.410\nShe's sobbing profusely for\neight hours of work just down the drain.\n\n239\n00:11:42.410 --> 00:11:46.350\nIt can be a real pain, so you definitely\nhave to do some user education\n\n240\n00:11:46.350 --> 00:11:48.100\nwhen it comes to using offline files.\n\n241\n00:11:48.100 --> 00:11:52.040\nIt can be a double edged sword, so\njust be really careful when you use it.\n\n242\n00:11:52.040 --> 00:11:52.890\n>> Exactly, all right.\n\n243\n00:11:52.890 --> 00:11:54.770\nSo let's see how we can enable it.\n\n244\n00:11:54.770 --> 00:11:59.210\nSo I'm gonna again, I'm gonna\nswitch back over to Server 1 here,\n\n245\n00:11:59.210 --> 00:12:01.230\nI'm back in Windows Explorer.\n\n246\n00:12:01.230 --> 00:12:03.790\nYou can really enable it in\na few different places, and\n\n247\n00:12:03.790 --> 00:12:07.040\nthe options are pretty much\nthe same whichever way you go.\n\n248\n00:12:07.040 --> 00:12:10.510\nI am going to go into Windows Explorer,\nFile Explorer, and\n\n249\n00:12:10.510 --> 00:12:13.470\npull up the properties of this share.\n\n250\n00:12:13.470 --> 00:12:17.300\nNow, offline files is only\navailable on shared folders, right?\n\n251\n00:12:17.300 --> 00:12:18.550\nMakes sense.\n\n252\n00:12:18.550 --> 00:12:21.100\nWe're caching shared copies.\n\n253\n00:12:21.100 --> 00:12:24.930\nI'm gonna click on the sharing tab,\nI'm gonna go to my advanced sharing.\n\n254\n00:12:24.930 --> 00:12:27.290\nAnd then I'm gonna click\nmy caching button.\n\n255\n00:12:27.290 --> 00:12:29.460\nAnd here I've got my options,\nand I've got three.\n\n256\n00:12:29.460 --> 00:12:31.170\nI've got my, only the files and\n\n257\n00:12:31.170 --> 00:12:34.820\nprograms that the user's\nspecify are available offline.\n\n258\n00:12:34.820 --> 00:12:39.130\nThat means when I connect to the share as\nan end user, I can see all these files.\n\n259\n00:12:39.130 --> 00:12:43.070\nI can right click on one of these\nfiles and make available offline.\n\n260\n00:12:43.070 --> 00:12:46.310\nOnly that file will be available if\nI'm not connected to the network,\n\n261\n00:12:46.310 --> 00:12:48.600\nthe rest of the files won't be available.\n\n262\n00:12:48.600 --> 00:12:52.810\nI could choose, no files or programs from\nthe shared folder are available offline.\n\n263\n00:12:52.810 --> 00:12:57.225\nThis might be something I'd do to handle\nwhat we were just talking about right,\n\n264\n00:12:57.225 --> 00:13:00.295\nI don't want anybody caching\ncopies of these files.\n\n265\n00:13:00.295 --> 00:13:01.615\nMaybe it's a security thing.\n\n266\n00:13:01.615 --> 00:13:03.725\nMaybe these are health records and\n\n267\n00:13:03.725 --> 00:13:08.535\nI can't have any cached copies on mobile\ndevices that are leaving my enterprise.\n\n268\n00:13:08.535 --> 00:13:10.155\nSo it might be a security thing, or\n\n269\n00:13:10.155 --> 00:13:13.715\nit might be I don't want to take\nthe chance on those replication conflicts,\n\n270\n00:13:13.715 --> 00:13:17.645\nlosing somebody's work, so I decide\nnot to make them available at all.\n\n271\n00:13:17.645 --> 00:13:21.610\nOr all files and programs the user\nopens are automatically available.\n\n272\n00:13:21.610 --> 00:13:23.210\nThat means anything I double click on and\n\n273\n00:13:23.210 --> 00:13:26.660\nopen, is going to be available offline\nwhen I'm not connected to the network.\n\n274\n00:13:26.660 --> 00:13:29.370\nI don't have to make the special\neffort of right clicking and\n\n275\n00:13:29.370 --> 00:13:31.960\nchoosing make available offline.\n\n276\n00:13:31.960 --> 00:13:33.950\nI'm going to go ahead and\nleave it on the default there.\n\n277\n00:13:33.950 --> 00:13:39.110\nOnly the ones that I specify,\nIf you've got a folder with large\n\n278\n00:13:39.110 --> 00:13:43.990\namounts of documents, you might wanna\nmake them pick and choose which ones.\n\n279\n00:13:43.990 --> 00:13:46.100\nCuz it does take up space on their drive.\n\n280\n00:13:46.100 --> 00:13:49.920\nAnd it is gonna take time when it\nhas to synchronize those changes.\n\n281\n00:13:49.920 --> 00:13:51.090\nAnd when they get back to the network,\n\n282\n00:13:51.090 --> 00:13:53.200\nit has to synchronize those\nchanges back up there.\n\n283\n00:13:54.310 --> 00:13:54.990\nThese are all.\n\n284\n00:13:54.990 --> 00:13:57.010\nLet me go ahead and\ndo while I'm talking about it.\n\n285\n00:13:57.010 --> 00:14:00.290\nSo only the files and programs that\nthe user specifies are available.\n\n286\n00:14:00.290 --> 00:14:03.650\nI'll click okay and that is just\nthe default again when you share that out.\n\n287\n00:14:03.650 --> 00:14:08.230\nAnd then what's going to happen is\nif we go back over here as Nate, and\n\n288\n00:14:08.230 --> 00:14:12.520\nlet's say I go into sales reports, and\nI right click on one of these files.\n\n289\n00:14:12.520 --> 00:14:15.490\nAnd say, always available offline.\n\n290\n00:14:15.490 --> 00:14:18.760\nAnd it's gonna go ahead and\ncache a copy locally.\n\n291\n00:14:20.450 --> 00:14:21.700\nSet that up and there we go.\n\n292\n00:14:21.700 --> 00:14:25.860\nYou can see it's completed preparing,\nso now it should be setting it up.\n\n293\n00:14:25.860 --> 00:14:27.380\nYou see my little Active Sync icon?\n\n294\n00:14:27.380 --> 00:14:29.730\nActually you can't see it.\n\n295\n00:14:29.730 --> 00:14:32.900\nDown in my system tray there's\na little icon indicating\n\n296\n00:14:32.900 --> 00:14:35.690\nthat my sync operation is complete.\n\n297\n00:14:36.810 --> 00:14:41.740\nAll right, so now what I'm gonna do is\nI'm going to close file explorer, and\n\n298\n00:14:41.740 --> 00:14:45.720\nI'm gonna disconnect\nthe network on this guy.\n\n299\n00:14:45.720 --> 00:14:50.650\nSo let me jump back out to my main\nconsole view for just a second, and\n\n300\n00:14:50.650 --> 00:14:54.500\ndisconnect the network\non that virtual machine.\n\n301\n00:14:54.500 --> 00:14:57.030\nSo this will be like me unplugging\nfrom the network at work and\n\n302\n00:14:57.030 --> 00:14:58.520\ntaking my laptop home.\n\n303\n00:14:58.520 --> 00:15:01.420\nSo now I'm not connected\nto the corporate network.\n\n304\n00:15:01.420 --> 00:15:04.490\nSo the first question is,\nhow do I connect to it now?\n\n305\n00:15:04.490 --> 00:15:05.010\nRight?\nWhere is it?\n\n306\n00:15:05.010 --> 00:15:07.055\nWell you're not gonna find this.\n\n307\n00:15:07.055 --> 00:15:10.045\nThere's actually a hidden\nfolder on your hard drive.\n\n308\n00:15:10.045 --> 00:15:13.595\nIt's, you can't browse to it directly.\n\n309\n00:15:13.595 --> 00:15:16.185\nHow you connect to it\nis not real intuitive.\n\n310\n00:15:16.185 --> 00:15:20.985\nYou actually connect to it the same\nway you would if you were at work.\n\n311\n00:15:20.985 --> 00:15:25.395\nEven though I know I'm not on\nthe network where server01 is located,\n\n312\n00:15:25.395 --> 00:15:26.895\nthat's what I'm going to type in.\n\n313\n00:15:26.895 --> 00:15:31.440\nI'm going to come up here and\ntype in //server01 Backslash sales.\n\n314\n00:15:31.440 --> 00:15:33.410\nJust like I would if I was at work.\n\n315\n00:15:33.410 --> 00:15:34.740\nAnd what my computer's gonna do,\n\n316\n00:15:34.740 --> 00:15:37.860\nis it's gonna realize wait a second\nyou're not connected to the network.\n\n317\n00:15:37.860 --> 00:15:41.290\nLet me see if any of those\nfiles are cached locally and\n\n318\n00:15:41.290 --> 00:15:43.170\nat least I can show you those.\n\n319\n00:15:43.170 --> 00:15:43.992\nSo, go ahead and try it.\n\n320\n00:15:43.992 --> 00:15:48.645\nAnd look at there, instead of seeing three\nfolders, I only see sales reports and\n\n321\n00:15:48.645 --> 00:15:51.451\ninside sales reports I\ndon't see both reports,\n\n322\n00:15:51.451 --> 00:15:54.201\nI just see the one just\nmade available offline.\n\n323\n00:15:54.201 --> 00:15:57.949\nNow I can open this up and\nI don't know if it has\n\n324\n00:15:57.949 --> 00:16:03.040\nany It's not available on my computer yet\nit opened it.\n\n325\n00:16:03.040 --> 00:16:04.162\nOh, that's another one.\n\n326\n00:16:04.162 --> 00:16:08.160\nI don't think Nate has the right\npermissions over there on that.\n\n327\n00:16:08.160 --> 00:16:10.380\nI would have to double check that but\n\n328\n00:16:10.380 --> 00:16:14.070\nnow he should be able to\nwork with that file offline.\n\n329\n00:16:14.070 --> 00:16:18.695\nAnd then when he reconnects, so\nI'll reconnect that network adapter.\n\n330\n00:16:23.755 --> 00:16:28.567\nAnd you'll actually see that as soon as I\nestablish that network connection, we go\n\n331\n00:16:28.567 --> 00:16:33.620\nback out to sales here, maybe do a, I\ndon't even have to refresh, there it goes.\n\n332\n00:16:33.620 --> 00:16:36.080\nIt's picked up those three\nfolders there again.\n\n333\n00:16:36.080 --> 00:16:41.520\nAnd there's those two files available so\nthat's offline files giving me the ability\n\n334\n00:16:41.520 --> 00:16:45.910\nto connect to those resources even\nwhen I'm not connected to the network.\n\n335\n00:16:45.910 --> 00:16:51.050\nA few different options only the ones\nthat i specify or none of them,\n\n336\n00:16:51.050 --> 00:16:54.500\nor anything that I happen to double-click\non, make it available offline.\n\n337\n00:16:54.500 --> 00:16:58.606\nAnd the other thing you have to\nremember is how you connect to them is\n\n338\n00:16:58.606 --> 00:17:01.870\nthe same way you would connect\nto them if you were at work.\n\n339\n00:17:01.870 --> 00:17:04.770\nSo if you had a mapped network drive,\nwhen you got home,\n\n340\n00:17:04.770 --> 00:17:06.330\nyou would just click on\nyour mapped network drive.\n\n341\n00:17:06.330 --> 00:17:09.085\nAnd it would just show you\nthe things that you had cached,\n\n342\n00:17:09.085 --> 00:17:10.880\nyou wouldn't see anything else.\n\n343\n00:17:10.880 --> 00:17:12.480\nSo pretty cool feature.\n\n344\n00:17:12.480 --> 00:17:15.239\nAgain, the only thing we really have\nto worry about is those synchronization\n\n345\n00:17:15.239 --> 00:17:16.393\nconflicts that we can run into.\n\n346\n00:17:16.393 --> 00:17:19.478\n>> Yeah, and you can kind of fix that\nusing some group policy objects that\n\n347\n00:17:19.478 --> 00:17:20.570\nare available.\n\n348\n00:17:20.570 --> 00:17:23.220\nJust go in there and it's in,\nI think there's three of them that say,\n\n349\n00:17:23.220 --> 00:17:28.470\none says that you synch when you log off,\nsync when you log on and another one.\n\n350\n00:17:28.470 --> 00:17:31.590\nI forget which one it is but, and needless\nto say, there's some group policy objects\n\n351\n00:17:31.590 --> 00:17:34.056\nyou can use if you're in\nan Active Directory environment.\n\n352\n00:17:34.056 --> 00:17:36.060\nSuper easy jump into your GPO thing,\n\n353\n00:17:36.060 --> 00:17:39.280\nyour little editor, make those changes and\nyou should be good to go.\n\n354\n00:17:39.280 --> 00:17:40.877\nThey won't have to worry about that.\n\n355\n00:17:40.877 --> 00:17:42.737\n>> Exactly, all right so,\n\n356\n00:17:42.737 --> 00:17:47.430\nlast thing with these shares that\nI want to share with you guys,\n\n357\n00:17:47.430 --> 00:17:53.468\n[LAUGH] no pun intended, is going to be\nsomething called, oh gosh, brain cramp.\n\n358\n00:17:53.468 --> 00:17:54.810\n>> VSS?\n>> Where are we going with this?\n\n359\n00:17:54.810 --> 00:17:58.790\nOh yeah, good old volume shadow\ncopy service, thank you.\n\n360\n00:17:58.790 --> 00:18:03.500\nVSS, strange acronym for something\ncalled volume shadow copy service.\n\n361\n00:18:03.500 --> 00:18:05.580\nThe C just didn't sound right in there so\n\n362\n00:18:05.580 --> 00:18:07.000\nthey just leave it out when\nthey made the acronym.\n\n363\n00:18:07.000 --> 00:18:08.590\n>> Didn't flow as well.\n\n364\n00:18:08.590 --> 00:18:10.230\nShadow copy is one word, maybe.\n\n365\n00:18:10.230 --> 00:18:12.570\n>> That's right.\n>> That's where we get just the VSS.\n\n366\n00:18:12.570 --> 00:18:16.290\nSo you'll see it, VSS, it actually\nrefers to volume shadow copy service and\n\n367\n00:18:16.290 --> 00:18:20.500\nwhat this is, is it's a way that we\ncan do previous versions of files.\n\n368\n00:18:20.500 --> 00:18:24.130\nIt's actually a really cool technology.\n\n369\n00:18:24.130 --> 00:18:28.826\nWe enable previous versions on our file\nservers, so this is something we do,\n\n370\n00:18:28.826 --> 00:18:32.652\nwe don't do it on our clients,\nwe do it on our file servers, and\n\n371\n00:18:32.652 --> 00:18:37.093\nit only refers or affects the shares\nthat are on that server, all right?\n\n372\n00:18:37.093 --> 00:18:40.859\nSo it's done on the shares,\nand what happens is,\n\n373\n00:18:40.859 --> 00:18:43.838\nit'll take snapshots periodically.\n\n374\n00:18:43.838 --> 00:18:50.490\nAnd if I goof up a file, I can\nactually go to that file's properties.\n\n375\n00:18:50.490 --> 00:18:55.120\nLet's say I modify a file,\nI delete a paragraph out of a document and\n\n376\n00:18:55.120 --> 00:18:58.230\nsave it and realize oh my gosh\nI didn't mean to do that.\n\n377\n00:18:58.230 --> 00:19:02.740\nWell instead of having to dig out a backup\ntape or go to my network admins and\n\n378\n00:19:02.740 --> 00:19:07.180\nsay hey, look I'm really sorry,\nI just deleted the entire sales folder.\n\n379\n00:19:07.180 --> 00:19:09.670\nAnd then having to go\ndig out a backup copy or\n\n380\n00:19:09.670 --> 00:19:14.140\nsomething like that, we can actually\nuse previous versions to restore it.\n\n381\n00:19:14.140 --> 00:19:16.750\nThe end user can do it themselves even.\n\n382\n00:19:16.750 --> 00:19:19.310\nThey don't even have to go\ntalk to the network admin.\n\n383\n00:19:19.310 --> 00:19:24.095\nThey can kind of hide the fact that\nthey did it in the first place.\n\n384\n00:19:24.095 --> 00:19:25.560\n[LAUGH] It is pretty cool.\n\n385\n00:19:25.560 --> 00:19:28.570\nAnd I'll show you how it's done here.\n\n386\n00:19:28.570 --> 00:19:30.970\nLet me go back over to my file server.\n\n387\n00:19:32.330 --> 00:19:35.200\nAnd I'm gonna go ahead and\nget out of that.\n\n388\n00:19:35.200 --> 00:19:37.690\n>> Mike's gonna teach our\nusers how to be all sneaky.\n\n389\n00:19:37.690 --> 00:19:40.380\nCover their tracks,\nthey made a mistake, oh no.\n\n390\n00:19:40.380 --> 00:19:42.595\nThat Mike guy, he showed me what to do.\n\n391\n00:19:42.595 --> 00:19:43.800\n[LAUGH]\n>> Trying to look out for\n\n392\n00:19:43.800 --> 00:19:45.350\nyou guys, that's all.\n\n393\n00:19:45.350 --> 00:19:46.902\n>> He's here for you.\n\n394\n00:19:46.902 --> 00:19:50.440\n>> All right so, volume shadow copy or\nprevious versions is enabled on a per\n\n395\n00:19:50.440 --> 00:19:56.530\nvolume basis and it'll apply to all\nthe shares that exist on that volume.\n\n396\n00:19:56.530 --> 00:20:01.100\nSo I'm gonna right click on my C drive\nhere and choose Configure Shadow Copy.\n\n397\n00:20:02.700 --> 00:20:05.920\nAnd it shows me the volumes\nthat I have available, and\n\n398\n00:20:05.920 --> 00:20:08.870\nI only have one in this\nparticular virtual machine.\n\n399\n00:20:08.870 --> 00:20:10.940\nAnd I'm just going to turn\nit on by clicking Enable.\n\n400\n00:20:10.940 --> 00:20:12.860\nYou see, currently it's disabled.\n\n401\n00:20:12.860 --> 00:20:15.750\nI've got seven shares I choose Enabled and\n\n402\n00:20:15.750 --> 00:20:21.230\nit tells me that it could take time\nwhen it initially gets turned on.\n\n403\n00:20:21.230 --> 00:20:25.400\nIf you have a file that has a lot\nof shared folders and files.\n\n404\n00:20:25.400 --> 00:20:29.500\nYou might wanna do this after hours when\nyou turn it on initially to create that,\n\n405\n00:20:29.500 --> 00:20:32.490\ncuz it's gonna create a snapshot\nas soon as I turn it on.\n\n406\n00:20:32.490 --> 00:20:35.550\nAnd that process can be intensive so\n\n407\n00:20:35.550 --> 00:20:40.720\nyou might wanna do this on a maintenance\nwindow or a downtime on your network.\n\n408\n00:20:40.720 --> 00:20:42.350\nI'll go ahead and\nsay yes I want to turn it on.\n\n409\n00:20:42.350 --> 00:20:45.900\nAnd it takes that initial snapshot.\n\n410\n00:20:45.900 --> 00:20:50.800\nNow you gotta understand the timeframes\nhere on these snapshots.\n\n411\n00:20:50.800 --> 00:20:55.785\nBy default, it's going to take a snapshot.\n\n412\n00:20:55.785 --> 00:21:01.555\nIf I come in here all I did was click\non the Settings button here, all right.\n\n413\n00:21:01.555 --> 00:21:03.845\nAnd then I'm gonna click on the Schedule.\n\n414\n00:21:05.005 --> 00:21:07.475\nAnd by default it's got two schedules.\n\n415\n00:21:07.475 --> 00:21:11.985\nOne at 7 AM and\none at noon Monday through Friday.\n\n416\n00:21:11.985 --> 00:21:16.095\nThat means Monday through Friday, 7 AM,\nit's gonna take a snapshot of those files.\n\n417\n00:21:16.095 --> 00:21:18.680\nAt noon it's gonna take\na snapshot of those files.\n\n418\n00:21:18.680 --> 00:21:21.030\nNow, that might be perfect for\nyour environment.\n\n419\n00:21:21.030 --> 00:21:22.470\nHere's what you've gotta think about.\n\n420\n00:21:22.470 --> 00:21:27.670\nHow often those files are changed and\nhow important those changes are,\n\n421\n00:21:27.670 --> 00:21:30.920\nand how much space you have\nto store these shadow copies,\n\n422\n00:21:30.920 --> 00:21:33.260\ncuz it is gonna take up\nsome space on that drive.\n\n423\n00:21:34.340 --> 00:21:38.310\nIf I leave it at this default schedule,\n7 AM to noon, well that might be okay, but\n\n424\n00:21:38.310 --> 00:21:39.840\nhere's what you wanna think about,\n\n425\n00:21:39.840 --> 00:21:42.840\nlet's say it takes a snapshot at 7 AM,\nall right?\n\n426\n00:21:42.840 --> 00:21:46.568\nNow throughout the morning,\npeople are making changes to it.\n\n427\n00:21:46.568 --> 00:21:51.030\nAt 11 o'clock in the morning, 11 AM,\nsomething happens to that file and\n\n428\n00:21:51.030 --> 00:21:52.560\nI've gotta roll it back.\n\n429\n00:21:52.560 --> 00:21:57.050\nWell, I've gotta roll it back\nall the way to 7 AM, right?\n\n430\n00:21:57.050 --> 00:21:59.060\nCuz that was the last snapshot it took.\n\n431\n00:21:59.060 --> 00:22:00.900\nSo I'm gonna lose 8, 9, 10, 11.\n\n432\n00:22:00.900 --> 00:22:04.140\nThat's four hours worth of\nchanges that I might be losing.\n\n433\n00:22:04.140 --> 00:22:07.240\nIf it doesn't get changed very often,\nthat might be fine.\n\n434\n00:22:07.240 --> 00:22:09.810\nIf there were changes being made\nto that every 15, 20 minutes,\n\n435\n00:22:09.810 --> 00:22:12.260\nif it's important files,\nthat might not work, right,\n\n436\n00:22:12.260 --> 00:22:15.480\nI'm losing four hours worth\nof work on that file.\n\n437\n00:22:15.480 --> 00:22:18.400\nSo that's the kind of thing you\ngotta think about when you create\n\n438\n00:22:18.400 --> 00:22:19.630\nthese schedules.\n\n439\n00:22:19.630 --> 00:22:22.900\nThey're very easy to work with,\nin fact I'll show you guys here.\n\n440\n00:22:22.900 --> 00:22:26.850\nLet me just delete those two default\nschedules and I'll create a new one.\n\n441\n00:22:26.850 --> 00:22:32.243\nAnd I'm going to say daily at,\nI'll show you a trick that I like to do.\n\n442\n00:22:32.243 --> 00:22:38.012\nDaily at 12 AM I wanna create\na snapshot every one day.\n\n443\n00:22:38.012 --> 00:22:43.578\nBut then I'm going to click this Advanced\n\n444\n00:22:43.578 --> 00:22:48.666\nbutton and say, repeat task every one\n\n445\n00:22:48.666 --> 00:22:53.766\nhour all the way until 11:59 PM.\n\n446\n00:22:53.766 --> 00:22:56.550\nSo if you think about that,\nit's gonna start at 12 AM,\n\n447\n00:22:56.550 --> 00:23:00.270\nit's gonna take a snapshot\nevery hour until 11:59 PM.\n\n448\n00:23:00.270 --> 00:23:01.990\nWell then the next day starts at 12:00 AM,\nand\n\n449\n00:23:01.990 --> 00:23:04.302\nit's gonna take another snapshot at 12 AM.\n\n450\n00:23:04.302 --> 00:23:08.230\nAnd then once an hour until 11:59,\nright, PM that day, and\n\n451\n00:23:08.230 --> 00:23:10.180\nthen the schedule starts over.\n\n452\n00:23:10.180 --> 00:23:14.870\nSo it's a way to trick, get it to do\nevery hour on the hour, 24 hours a day.\n\n453\n00:23:14.870 --> 00:23:18.420\nIf you're not a 24/7 shop though,\nthat might be way too much, right?\n\n454\n00:23:18.420 --> 00:23:22.270\nThere's not a lot of changes occurring\nfrom 10 o'clock at night until 6 o'clock\n\n455\n00:23:22.270 --> 00:23:23.020\nin the morning.\n\n456\n00:23:23.020 --> 00:23:26.640\nSo again, just something I just\nwanted to show you that little trick\n\n457\n00:23:26.640 --> 00:23:28.460\nin case you're a 24/7 place.\n\n458\n00:23:28.460 --> 00:23:30.460\nSo there's my little schedule.\n\n459\n00:23:30.460 --> 00:23:31.450\nI'll go ahead and click OK.\n\n460\n00:23:31.450 --> 00:23:33.290\nAnd you can make multiple schedules.\n\n461\n00:23:33.290 --> 00:23:35.260\nYou saw the defaults,\nthere were two, right?\n\n462\n00:23:35.260 --> 00:23:39.060\nSo I can say every morning at 8\nAM Monday through Friday, and\n\n463\n00:23:39.060 --> 00:23:42.150\nthen again at 10 AM Monday through Friday,\nand\n\n464\n00:23:42.150 --> 00:23:45.810\nthen again at 4 PM Monday through\nThursday, or something like that.\n\n465\n00:23:45.810 --> 00:23:49.390\nIt'd be kinda goofy but you can do\nwhatever you want with those schedules.\n\n466\n00:23:49.390 --> 00:23:51.490\nAnd I'll go ahead and click OK.\n\n467\n00:23:51.490 --> 00:23:53.035\nThe other thing I want to point out,\n\n468\n00:23:53.035 --> 00:23:55.054\nit keeps the shadow copies\non the same volume.\n\n469\n00:23:55.054 --> 00:23:56.555\nThis is on the C drive, and\n\n470\n00:23:56.555 --> 00:24:00.464\nyou'll see that it's going to\nactually store these on the C drive.\n\n471\n00:24:00.464 --> 00:24:06.230\nNow remember each one, if you're doing\none an hour, that can start to build up.\n\n472\n00:24:06.230 --> 00:24:10.830\nYou can control how much space is allowed\nto be used to store the snapshot.\n\n473\n00:24:10.830 --> 00:24:13.040\nIt works on a first in first out basis.\n\n474\n00:24:13.040 --> 00:24:19.600\nSo if you run out of space, it takes a new\nsnapshot, it looses the oldest snapshot.\n\n475\n00:24:19.600 --> 00:24:20.820\nFirst in, first out.\n\n476\n00:24:20.820 --> 00:24:25.100\nYou can control again how much\nspace is dedicated to this.\n\n477\n00:24:25.100 --> 00:24:28.290\nYou could move these\nsnapshots to another volume.\n\n478\n00:24:28.290 --> 00:24:31.010\nBut, honestly, it's probably not worth it.\n\n479\n00:24:31.010 --> 00:24:32.050\nBecause you might think,\n\n480\n00:24:32.050 --> 00:24:35.020\nwell what if I lose the volume,\nI'll still have my snapshots.\n\n481\n00:24:35.020 --> 00:24:37.785\nProblem is the snapshots are not\ncomplete copies of the file.\n\n482\n00:24:37.785 --> 00:24:40.065\nThey're just the change\nto blocks of those files.\n\n483\n00:24:40.065 --> 00:24:43.725\nThey're actually the blocks\nright before you change them.\n\n484\n00:24:43.725 --> 00:24:45.895\nSo it can roll them back if it needs to.\n\n485\n00:24:45.895 --> 00:24:49.905\nSo if you have lost the original file but\nyou still had the shadow copy on\n\n486\n00:24:49.905 --> 00:24:52.585\na different volume,\nyou still couldn't restore from that.\n\n487\n00:24:52.585 --> 00:24:55.725\nSo this is not a replacement for\nbackups or anything like that.\n\n488\n00:24:55.725 --> 00:24:59.975\nThis is kind of an in-between backups and\nnothing.\n\n489\n00:24:59.975 --> 00:25:02.029\nSo you wanna combine these solutions.\n\n490\n00:25:03.070 --> 00:25:07.350\nSo I feel like moving him to another\ndrive is really not worth it.\n\n491\n00:25:07.350 --> 00:25:08.470\nSo now let's see how it works.\n\n492\n00:25:08.470 --> 00:25:12.160\nNow that I've got it turned on I'm\ngonna flip over here to client one.\n\n493\n00:25:13.270 --> 00:25:17.250\nAnd Nate's still logged in, and I'm gonna\ngo ahead and connect over to that share\n\n494\n00:25:21.379 --> 00:25:26.810\nAnd I'm going to open up,\nI don't know, let's do Order Forms.\n\n495\n00:25:26.810 --> 00:25:32.100\nOpen up this blank order and\nI'll say testing,\n\n496\n00:25:32.100 --> 00:25:37.910\nwe'll just say this is\nthe original version,\n\n497\n00:25:37.910 --> 00:25:39.510\nor this is the second version actually.\n\n498\n00:25:39.510 --> 00:25:43.200\nSo the original version was blank, and\nthis is gonna be the second version.\n\n499\n00:25:46.203 --> 00:25:48.965\nAnd I'll go ahead and save that.\n\n500\n00:25:48.965 --> 00:25:51.915\nIn fact, and\nthen I'm gonna go take a snapshot.\n\n501\n00:25:51.915 --> 00:25:56.725\nNow again, my schedule is to do it once\nan hour, we could sit here for an hour and\n\n502\n00:25:56.725 --> 00:26:01.545\nwait for the next snapshot to occur,\nor I could go over here and\n\n503\n00:26:01.545 --> 00:26:03.327\nI could manually create a snapshot.\n\n504\n00:26:03.327 --> 00:26:08.047\nSo I'm just going to pull up the Volume,\nProperties, Configure Shadow Properties.\n\n505\n00:26:08.047 --> 00:26:11.847\nAnd I'll manually create a snapshot so\nwe don't have to sit here and wait.\n\n506\n00:26:11.847 --> 00:26:13.977\nSo there's my new snapshot.\n\n507\n00:26:13.977 --> 00:26:18.917\nAll right, so now if something\nwas to happen to that file.\n\n508\n00:26:18.917 --> 00:26:21.277\nThere's a couple of ways we can fix it.\n\n509\n00:26:21.277 --> 00:26:24.248\nAs the end user they can\nconnect to the share.\n\n510\n00:26:24.248 --> 00:26:29.090\nThey can right-click on that file and\nchoose Properties.\n\n511\n00:26:29.090 --> 00:26:33.520\nAnd here's a Previous Versions tab and\nthere I can see the initial snapshot when\n\n512\n00:26:33.520 --> 00:26:37.240\nI first turned on shadow copies,\nor previous versions.\n\n513\n00:26:37.240 --> 00:26:39.940\nAnd there's the one that\nI just created manually.\n\n514\n00:26:39.940 --> 00:26:41.990\nYou've got a few different\noptions down here.\n\n515\n00:26:41.990 --> 00:26:45.510\nYou can open,\nthat means just view the file.\n\n516\n00:26:45.510 --> 00:26:48.150\nHow do I know which one is the one I want?\n\n517\n00:26:48.150 --> 00:26:49.250\nAll right.\n\n518\n00:26:49.250 --> 00:26:51.280\nThere's one version from the one, and\n\n519\n00:26:51.280 --> 00:26:55.110\nnotice it tells you that this is\ntaken July 14th, one minute ago.\n\n520\n00:26:55.110 --> 00:26:56.160\nAll right.\n\n521\n00:26:56.160 --> 00:26:57.330\nOr I could say, what was this one?\n\n522\n00:26:58.750 --> 00:27:01.340\nOh, this is the one we\ncreated six minutes ago.\n\n523\n00:27:01.340 --> 00:27:02.040\nRight?\n\n524\n00:27:02.040 --> 00:27:04.710\nYou'd imagine they'd be a little\nfarther apart in the real world.\n\n525\n00:27:04.710 --> 00:27:07.980\nSo it gives you a chance to preview them\nand say, which is the version that I want?\n\n526\n00:27:07.980 --> 00:27:11.000\nOh there's the version that I want,\nthe one that was blank.\n\n527\n00:27:11.000 --> 00:27:11.840\nAll right, so\n\n528\n00:27:11.840 --> 00:27:16.850\nnow that I know which version by using\nthis open, I can select restore.\n\n529\n00:27:16.850 --> 00:27:22.920\nRestore is going to overwrite the current\nversion with the previous version.\n\n530\n00:27:22.920 --> 00:27:26.320\nSo the current version will be lost,\nI'll be back to the previous version.\n\n531\n00:27:26.320 --> 00:27:27.940\nI can also choose copy.\n\n532\n00:27:27.940 --> 00:27:32.420\nWhich would let me restore the previous\nversion but keep the current version.\n\n533\n00:27:32.420 --> 00:27:33.980\nJust give it a different name.\n\n534\n00:27:33.980 --> 00:27:37.980\nMaybe somebody made a bunch of changes to\nthe document and you like their changes.\n\n535\n00:27:37.980 --> 00:27:39.310\nBut you still want those.\n\n536\n00:27:39.310 --> 00:27:41.340\nThe original document had\nsome good stuff in there,\n\n537\n00:27:41.340 --> 00:27:43.730\ntoo, that they blew away, accidentally.\n\n538\n00:27:43.730 --> 00:27:45.130\nWell now you can have both versions and\n\n539\n00:27:45.130 --> 00:27:47.950\nyou could figure out a way\nto merge them back together.\n\n540\n00:27:47.950 --> 00:27:51.160\nI'll just go ahead and choose restore\nthough to overwrite the current version.\n\n541\n00:27:51.160 --> 00:27:53.720\nIt's gonna warn me and I'll click restore.\n\n542\n00:27:55.720 --> 00:27:58.480\nAnd now when we go look at that file,\n\n543\n00:27:59.640 --> 00:28:02.460\nit's back to before I put\nthat second version in there.\n\n544\n00:28:02.460 --> 00:28:06.790\nSo the end user can do it themselves\njust by connecting to the share.\n\n545\n00:28:06.790 --> 00:28:10.750\nYou can also actually pull up previous\nversions of the folder itself.\n\n546\n00:28:12.550 --> 00:28:13.350\nWhich is kinda cool.\n\n547\n00:28:13.350 --> 00:28:16.190\nSo if you deleted a bunch of\nfiles out of that folder,\n\n548\n00:28:16.190 --> 00:28:18.100\nyou can restore previous versions.\n\n549\n00:28:18.100 --> 00:28:21.940\nAnd the cool thing is, let's say you\nwanna roll it back to a previous version,\n\n550\n00:28:21.940 --> 00:28:25.650\nit's smart enough to know you're trying\nto restore files that have been deleted.\n\n551\n00:28:25.650 --> 00:28:28.902\nBut it's not gonna delete any files\nthat have been created since then.\n\n552\n00:28:28.902 --> 00:28:32.470\nAll right, so it's not gonna roll\nthe folder back in time exactly,\n\n553\n00:28:32.470 --> 00:28:33.860\nif that makes sense.\n\n554\n00:28:33.860 --> 00:28:36.280\nSo pretty cool option there.\n\n555\n00:28:36.280 --> 00:28:40.310\nAnd or\nthe administrator can do it as well.\n\n556\n00:28:40.310 --> 00:28:42.650\nMaybe the users don't know\nhow to use previous versions.\n\n557\n00:28:42.650 --> 00:28:43.750\nWe haven't taught them yet.\n\n558\n00:28:43.750 --> 00:28:46.730\nOr the administrator noticed\nthere was a problem.\n\n559\n00:28:46.730 --> 00:28:49.360\nThe administrator could\neither go to the share.\n\n560\n00:28:49.360 --> 00:28:52.690\nJust like an end user or\nyou can go to the server directly.\n\n561\n00:28:52.690 --> 00:28:58.060\nAnd I can just navigate right into\nthe share as a local resource, and\n\n562\n00:28:58.060 --> 00:29:02.090\nI can pull up the previous\nversions here as well.\n\n563\n00:29:02.090 --> 00:29:06.080\nSo the end user can do it from their\nend just by connecting to the share.\n\n564\n00:29:06.080 --> 00:29:11.800\nOr the admin can do it by connecting\ndirectly to that shared folder,\n\n565\n00:29:11.800 --> 00:29:13.430\nand it's a big time saver.\n\n566\n00:29:13.430 --> 00:29:14.870\nBecause if a user comes to me and\n\n567\n00:29:14.870 --> 00:29:18.140\nsays, hey I accidentally\nmessed up this document.\n\n568\n00:29:18.140 --> 00:29:23.640\nI've gotta figure out what backup tape\nto get, gotta load that thing up.\n\n569\n00:29:23.640 --> 00:29:25.020\nWhat if they're not sure?\n\n570\n00:29:25.020 --> 00:29:27.980\nWhat if somebody opens up a file and\nsays, hey something happened\n\n571\n00:29:27.980 --> 00:29:31.920\nto our employee phone list,\nit only goes from A to G right now.\n\n572\n00:29:31.920 --> 00:29:34.320\nWe're missing half of our alphabet.\n\n573\n00:29:34.320 --> 00:29:36.920\nWell, when did it get messed up?\n\n574\n00:29:36.920 --> 00:29:38.230\nYeah, I don't know.\n\n575\n00:29:38.230 --> 00:29:42.350\nSo if you had to go backups, you'd have\nto load up these backups one at a time\n\n576\n00:29:42.350 --> 00:29:45.930\ntrying to figure out which one had the\ncorrect version of the phone list, right?\n\n577\n00:29:45.930 --> 00:29:48.440\nWith previous versions, I can just open\n\n578\n00:29:48.440 --> 00:29:52.450\neach previous version until I find the one\nI want and I can restore from there.\n\n579\n00:29:52.450 --> 00:29:56.570\nOr I can now tell the admin, hey, this\nis the date that has the good version.\n\n580\n00:29:56.570 --> 00:29:59.155\nNow you know exactly what\nback up tapes to go get.\n\n581\n00:29:59.155 --> 00:30:01.945\nAnd you don't have to waste your\ntime loading up all those tapes.\n\n582\n00:30:01.945 --> 00:30:05.005\nSo really cool feature and\nthat's in Server 2012 R2.\n\n583\n00:30:05.005 --> 00:30:05.535\n>> Oh yeah.\n\n584\n00:30:05.535 --> 00:30:09.425\nShadow Copy is one of the best things,\nalso the ABE.\n\n585\n00:30:09.425 --> 00:30:12.655\nLot of really good stuff that's\ngonna save, not just your bacon, but\n\n586\n00:30:12.655 --> 00:30:13.435\nyour users bacon.\n\n587\n00:30:13.435 --> 00:30:18.065\nThey're gonna really appreciate having\nthese features built into the system.\n\n588\n00:30:18.065 --> 00:30:19.215\nAnd you being able to know how to use it,\n\n589\n00:30:19.215 --> 00:30:22.255\nthat's just part and parcel of being\na Windows administrator anymore.\n\n590\n00:30:22.255 --> 00:30:25.900\nYou just kind of You're gonna use this\nstuff, and it is very, very helpful.\n\n591\n00:30:25.900 --> 00:30:29.940\nAll right Mike, looks like we've wrapped\nup yet another cool episode here.\n\n592\n00:30:29.940 --> 00:30:30.900\nA lot of good information.\n\n593\n00:30:30.900 --> 00:30:32.510\nHope you guys out there enjoyed it.\n\n594\n00:30:32.510 --> 00:30:34.210\nSure had a good time making it for you.\n\n595\n00:30:34.210 --> 00:30:36.220\nThat being said, it is time to sign off.\n\n596\n00:30:36.220 --> 00:30:38.940\nFor ITProTV, I've been your host,\nDaniel Lowry.\n\n597\n00:30:38.940 --> 00:30:39.740\n>> And I'm Mike Rodrick.\n\n598\n00:30:39.740 --> 00:30:40.872\n>> And we'll see you next time.\n\n599\n00:30:40.872 --> 00:30:46.401\n[MUSIC]\n\n",
          "vimeoId": "133593163"
        },
        {
          "description": "In this episode, Daniel and Mike demonstrate using PowerShell Desired State Configuration (DSC). They use DSC to ensure a Windows role is installed, and a directory is created and populated. They also show how to use parameters with DSC.",
          "length": "1624",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-2-1-desire_state_configuration-072415-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-2-1-desire_state_configuration-072415-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-2-1-desire_state_configuration-072415-1-sm.jpg",
          "title": "Desired State Configuration",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.481\n[MUSIC]\n\n2\n00:00:10.481 --> 00:00:14.766\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.766 --> 00:00:16.541\nI'm your host, Daniel Lowery.\n\n4\n00:00:16.541 --> 00:00:18.530\nHere with me today is none\nother than Mike Rodrick.\n\n5\n00:00:18.530 --> 00:00:19.330\nHow's it going today Mike?\n\n6\n00:00:19.330 --> 00:00:20.550\n>> Oh it's going great Daniel.\n\n7\n00:00:20.550 --> 00:00:21.510\nI'm glad to be here.\n\n8\n00:00:21.510 --> 00:00:25.930\nToday we are going to be discussing\ndesired state configuration.\n\n9\n00:00:25.930 --> 00:00:26.980\n>> It's desirable.\n\n10\n00:00:26.980 --> 00:00:28.041\n>> It is very desirable.\n\n11\n00:00:28.041 --> 00:00:29.609\n>> [LAUGH]\n>> Depends on what state you're\n\n12\n00:00:29.609 --> 00:00:30.221\nin, I suppose.\n\n13\n00:00:30.221 --> 00:00:30.976\n>> That's right, I guess so.\n\n14\n00:00:30.976 --> 00:00:33.410\nLet's keep it clean,\nMike, it's a family show.\n\n15\n00:00:33.410 --> 00:00:38.190\n>> Desired state configuration or DSC is\nsomething relatively new that we can do\n\n16\n00:00:38.190 --> 00:00:41.000\nwithin Windows, and\nspecifically with Powershell.\n\n17\n00:00:41.000 --> 00:00:45.346\nAnd the idea is that I've got these\nservers that I've configured,\n\n18\n00:00:45.346 --> 00:00:47.721\nI've added roles to, for example.\n\n19\n00:00:47.721 --> 00:00:51.311\nReally, there's all kinds of things\nthat I can do with this, but\n\n20\n00:00:51.311 --> 00:00:53.660\nwe use roles as our first example.\n\n21\n00:00:53.660 --> 00:00:56.900\nAnd I've got it configured the way I want,\nand\n\n22\n00:00:56.900 --> 00:01:00.360\nwhat happens now in the future\nif it loses that configuration?\n\n23\n00:01:00.360 --> 00:01:01.837\nMaybe somebody removes a role.\n\n24\n00:01:01.837 --> 00:01:05.440\nOr a role stops working, or\nmaybe we're talking about files or\n\n25\n00:01:05.440 --> 00:01:09.660\ndirectories and somebody deletes a file or\na group's not there.\n\n26\n00:01:09.660 --> 00:01:13.090\nAnd we have to manually go and\nreconfigure that information.\n\n27\n00:01:13.090 --> 00:01:14.800\nOr we roll out a new server and\n\n28\n00:01:14.800 --> 00:01:17.720\nwe want it to have the exact same\nconfiguration as one of my other servers.\n\n29\n00:01:17.720 --> 00:01:21.510\nWe're adding another web server to our\nserver farm or something like that.\n\n30\n00:01:21.510 --> 00:01:26.775\nI've gotta go and manually create that\nserver, set it all up, get it all ready.\n\n31\n00:01:26.775 --> 00:01:29.710\nWith desired state configuration,\nI don't have to do that.\n\n32\n00:01:29.710 --> 00:01:32.550\nI can use it,\nI can let it reconfigure these machines.\n\n33\n00:01:32.550 --> 00:01:33.600\nIt can do a couple of things.\n\n34\n00:01:33.600 --> 00:01:35.340\nIt can check configuration and\n\n35\n00:01:35.340 --> 00:01:38.460\nmake sure that the machine\nmaintains that configuration.\n\n36\n00:01:38.460 --> 00:01:42.560\nOr it can be used to set up machines and\ncreate that initial configuration, so\n\n37\n00:01:42.560 --> 00:01:44.590\nit's a really cool feature.\n\n38\n00:01:44.590 --> 00:01:46.320\nIt does require some scripting.\n\n39\n00:01:46.320 --> 00:01:49.730\nYou're gonna have to be able to get in and\nplay with PowerShell and\n\n40\n00:01:49.730 --> 00:01:50.650\nset up some scripts.\n\n41\n00:01:50.650 --> 00:01:53.400\nBut once you get that down pat,\nit's pretty darn cool.\n\n42\n00:01:53.400 --> 00:01:56.170\n>> Yeah,\nI can definitely see a real use for this.\n\n43\n00:01:56.170 --> 00:01:59.910\nEspecially when it comes to migrating\noff of old hardware onto newer hardware.\n\n44\n00:01:59.910 --> 00:02:02.550\nIf I've got that machine and\nit's working right,\n\n45\n00:02:02.550 --> 00:02:04.830\nit just needs a more updated hardware.\n\n46\n00:02:04.830 --> 00:02:09.730\nWell, I can use this to say, I've got a\nnew machine, I've run this configuration.\n\n47\n00:02:09.730 --> 00:02:12.710\nAnd it's like it never,\nit's like it gave it new hardware.\n\n48\n00:02:12.710 --> 00:02:13.761\nIt still thinks that it's the same thing.\n\n49\n00:02:13.761 --> 00:02:14.503\nAnd that's a good thing.\n\n50\n00:02:14.503 --> 00:02:17.962\n>> Absolutely, so\nlet's talk about first, I guess,\n\n51\n00:02:17.962 --> 00:02:20.490\nwe need to explain the way this works.\n\n52\n00:02:20.490 --> 00:02:24.040\nIt's gonna be a lot easier to show\nyou rather than just talk about it.\n\n53\n00:02:24.040 --> 00:02:26.650\nBut I'm gonna talk about it first and\nthen we'll dive in, and\n\n54\n00:02:26.650 --> 00:02:28.510\nI'll kind of go over this stuff again.\n\n55\n00:02:28.510 --> 00:02:32.420\nCuz Microsoft and\ntheir lovely terminology that they have.\n\n56\n00:02:32.420 --> 00:02:35.640\nBasically, they've added a new,\nwhat did they want to call it?\n\n57\n00:02:35.640 --> 00:02:38.000\nA new configuration keyword or\n\n58\n00:02:38.000 --> 00:02:42.460\na new keyword called configuration I\nshould say, within Windows PowerShell.\n\n59\n00:02:42.460 --> 00:02:45.860\nAnd that's going to allow\nme to create these,\n\n60\n00:02:45.860 --> 00:02:48.680\nwhat we call these\nPowerShell script blocks.\n\n61\n00:02:48.680 --> 00:02:52.580\nAnd within this PowerShell script block,\nI'm gonna have a configuration node.\n\n62\n00:02:52.580 --> 00:02:55.060\nSo we create this configuration,\nwe give it a name, and\n\n63\n00:02:55.060 --> 00:02:57.560\nthat's what we're that's\nthe overall package.\n\n64\n00:02:57.560 --> 00:03:01.380\nSo, I want this server to\nhave this role installed.\n\n65\n00:03:01.380 --> 00:03:02.860\nI want this directory to be there.\n\n66\n00:03:02.860 --> 00:03:05.090\nI want these files to\nbe in that directory.\n\n67\n00:03:05.090 --> 00:03:07.500\nI want this local group to be created.\n\n68\n00:03:07.500 --> 00:03:09.185\nAgain, there's all kinds\nof things we can do.\n\n69\n00:03:09.185 --> 00:03:13.575\nSo that's, the configuration block is kind\nof the outer wrapper for the whole thing.\n\n70\n00:03:13.575 --> 00:03:17.535\nAnd inside that you're\ngonna nest node blocks.\n\n71\n00:03:17.535 --> 00:03:19.925\nAnd the node blocks represent the nodes,\nthe computers,\n\n72\n00:03:19.925 --> 00:03:22.740\nthe machines that you're\ntrying to configure.\n\n73\n00:03:22.740 --> 00:03:24.610\nAnd you can have, and\nI like the way they worded it.\n\n74\n00:03:24.610 --> 00:03:29.370\nThey say you can have zero to many node\nblocks within your configuration block.\n\n75\n00:03:29.370 --> 00:03:32.200\nSo, you know it could have none,\nI don't know what good that would do you,\n\n76\n00:03:32.200 --> 00:03:36.180\nbut you can have several node blocks\nwithin the configuration block.\n\n77\n00:03:36.180 --> 00:03:39.000\nRepresenting different machines\nthat you're trying to configure.\n\n78\n00:03:39.000 --> 00:03:42.530\nAnd then within that node\nblock you get resource blocks.\n\n79\n00:03:42.530 --> 00:03:44.860\nAnd the resource blocks\nare really the power.\n\n80\n00:03:44.860 --> 00:03:48.420\nThat's where we're actually\ndoing something, and\n\n81\n00:03:48.420 --> 00:03:53.170\nMicrosoft gives us several pre-built\nresource blocks we can do.\n\n82\n00:03:53.170 --> 00:03:56.920\nIf you're feeling creative,\nyou can actually write your own.\n\n83\n00:03:56.920 --> 00:03:57.840\nGood luck to you on that.\n\n84\n00:03:57.840 --> 00:03:58.615\nNo, I'm kidding.\n\n85\n00:03:58.615 --> 00:04:00.447\n[LAUGH] It can be a little bit complex.\n\n86\n00:04:00.447 --> 00:04:02.700\nIt's well be beyond the scope of this.\n\n87\n00:04:02.700 --> 00:04:04.520\nBut if you take a look at my screen here,\nI've,\n\n88\n00:04:04.520 --> 00:04:08.380\ngot and I'll throw these links in the show\nnotes for you guys and gals to look at.\n\n89\n00:04:08.380 --> 00:04:10.460\nBut these are the pre-built\n\n90\n00:04:10.460 --> 00:04:14.450\nWindows PowerShell Desired\nState Configuration Resources.\n\n91\n00:04:14.450 --> 00:04:18.185\nAnd you can see I've got several, like\nan archive resource, unpacks archive or\n\n92\n00:04:18.185 --> 00:04:21.080\n.zip files at specified paths.\n\n93\n00:04:21.080 --> 00:04:24.120\nEnvironment resources to\nset environment variables.\n\n94\n00:04:24.120 --> 00:04:27.988\nYou get the file resource which lets\nyou work with files and directories.\n\n95\n00:04:27.988 --> 00:04:30.860\nGroup resource, and\nI won't go through the whole list here.\n\n96\n00:04:30.860 --> 00:04:34.210\nThe one I'm going to be using here\nis the Windows feature resource.\n\n97\n00:04:34.210 --> 00:04:37.090\nThis lets you add roles or remove roles.\n\n98\n00:04:37.090 --> 00:04:40.285\nThere are service resources to work\nwith resources, user resources.\n\n99\n00:04:40.285 --> 00:04:46.300\nSo these are all pre-built resources that\nI can create inside those node blocks.\n\n100\n00:04:46.300 --> 00:04:50.160\nSo these are what actually do the work or\nprovide the functionality for\n\n101\n00:04:50.160 --> 00:04:52.000\nthis desired state configuration.\n\n102\n00:04:53.420 --> 00:04:56.930\nAll right, so when we go to create\na desired state configuration,\n\n103\n00:04:56.930 --> 00:04:59.910\nthe first thing we're gonna have to\ndo is we're gonna create a script.\n\n104\n00:04:59.910 --> 00:05:03.960\nAnd so\nlet me pull up one of my machines here.\n\n105\n00:05:03.960 --> 00:05:06.810\nAnd I'll open up my good\n\n106\n00:05:06.810 --> 00:05:11.600\nold trusty Windows PowerShell\nIntegrated Scripting Environment,\n\n107\n00:05:11.600 --> 00:05:13.730\nor ISE, and I've got a script.\n\n108\n00:05:13.730 --> 00:05:17.250\nI didn't want to bother you guys with\nwatching my try to type this out.\n\n109\n00:05:17.250 --> 00:05:20.530\nSo I've got a script, or\na couple that I've already created.\n\n110\n00:05:20.530 --> 00:05:21.880\nWe'll use this first one here.\n\n111\n00:05:23.670 --> 00:05:25.510\nAnd here is my script.\n\n112\n00:05:25.510 --> 00:05:27.250\nAllow me to shrink this\ndown just a wee bit.\n\n113\n00:05:27.250 --> 00:05:28.790\nWe don't need to look at that just yet.\n\n114\n00:05:28.790 --> 00:05:32.260\nSo you see the very first line says\nconfiguration, and then I give it a name.\n\n115\n00:05:32.260 --> 00:05:34.380\nAnd I called it mywebconfig.\n\n116\n00:05:35.660 --> 00:05:40.560\nAnd then inside that configuration block,\nI've got my node block.\n\n117\n00:05:40.560 --> 00:05:43.861\nAnd so this one is gonna be for\nweb01.lab.net.\n\n118\n00:05:43.861 --> 00:05:47.730\nThat's the name of one of my servers,\nthis is my web server.\n\n119\n00:05:48.870 --> 00:05:53.770\nAnd then inside that node block is\nwhere we will find my resource blocks.\n\n120\n00:05:53.770 --> 00:05:56.380\nAnd the first resource\nblock is this one here.\n\n121\n00:05:56.380 --> 00:05:59.570\nAnd I'm using\nthe Windows Feature Resource Block.\n\n122\n00:05:59.570 --> 00:06:02.810\nAnd you give it a name,\nthis is actually a sample script\n\n123\n00:06:02.810 --> 00:06:06.050\nI've copied from Microsoft and\nmodified for this demo.\n\n124\n00:06:06.050 --> 00:06:10.080\nThe user name is like my role example,\nyou could call it whatever you wanted.\n\n125\n00:06:10.080 --> 00:06:15.339\nAnd then inside these braces here,\nI've got Ensure = Present.\n\n126\n00:06:15.339 --> 00:06:17.245\nYou could also change that to absent.\n\n127\n00:06:17.245 --> 00:06:22.181\nEnsure = Absent if you wanna make sure\nthat role is not installed on that\n\n128\n00:06:22.181 --> 00:06:27.490\nmachine, and then the role name,\nweb-Server in this case, install IIS.\n\n129\n00:06:27.490 --> 00:06:32.040\nSo, this resource block will\nmake sure that the web server\n\n130\n00:06:32.040 --> 00:06:34.700\nrole is installed on Web01.\n\n131\n00:06:34.700 --> 00:06:40.400\nThen I've got another resource block\ndown here that's working with files.\n\n132\n00:06:40.400 --> 00:06:44.948\nAnd I've got a, you can see Ensure\n= Present, type is Directory.\n\n133\n00:06:44.948 --> 00:06:48.370\nSo it's gonna look at the directory\nas well as the files inside.\n\n134\n00:06:48.370 --> 00:06:52.304\nAnd I've got Recurse = $true,\nwhich means not only folder, but\n\n135\n00:06:52.304 --> 00:06:54.760\nany nested folders inside there.\n\n136\n00:06:54.760 --> 00:06:56.940\nI'm telling it where the SourcePath is and\n\n137\n00:06:56.940 --> 00:07:00.860\nI've got a shared folder on this\ndomain controller called webfiles.\n\n138\n00:07:00.860 --> 00:07:03.720\nAnd then the destination path will\n\n139\n00:07:03.720 --> 00:07:07.660\nbe C:\\inetpub\\wwwroot on\nmy web server itself.\n\n140\n00:07:07.660 --> 00:07:10.928\nAnd then depends on\nWindowsFeature MyRoleExamples.\n\n141\n00:07:10.928 --> 00:07:16.605\nSo it's gonna make sure that this is done,\notherwise this isn't gonna do much good.\n\n142\n00:07:16.605 --> 00:07:20.965\nRight, so you can make these resource\nblocks dependent on each other as well,\n\n143\n00:07:20.965 --> 00:07:22.335\nwhich is pretty cool.\n\n144\n00:07:22.335 --> 00:07:24.145\nSo what this is gonna do,\nit's gonna do two things right.\n\n145\n00:07:24.145 --> 00:07:27.590\nIt's gonna one, make sure that\nthat web server role is installed.\n\n146\n00:07:27.590 --> 00:07:33.670\nAnd, it's going to make sure that within\nthe www root directory on that web server,\n\n147\n00:07:33.670 --> 00:07:35.940\nthese files are present.\n\n148\n00:07:35.940 --> 00:07:39.170\nSo if you imagine that, you might have\nthis big complex website that has,\n\n149\n00:07:39.170 --> 00:07:41.390\nlots of files associated with it.\n\n150\n00:07:41.390 --> 00:07:45.460\nI can have a copy of that website\nsomewhere shared out on my network.\n\n151\n00:07:45.460 --> 00:07:48.236\nAnd if something ever happens\nto one of the web servers,\n\n152\n00:07:48.236 --> 00:07:50.187\nsomebody deletes some of those files,\n\n153\n00:07:50.187 --> 00:07:53.689\nthey can just go grab them from that\nshared location and replace them.\n\n154\n00:07:53.689 --> 00:07:56.934\nWe can actually set this\nup to be a push or a pull,\n\n155\n00:07:56.934 --> 00:08:00.192\nand I'll talk about that\nhere in just a second.\n\n156\n00:08:00.192 --> 00:08:05.694\nAll right, so that's my basic script\nthat should create let's see here.\n\n157\n00:08:05.694 --> 00:08:10.430\nWe'll go through this step by step and\nmake sure I've got the command correctly.\n\n158\n00:08:10.430 --> 00:08:14.320\nSo the first thing I did again\nwas write that script and\n\n159\n00:08:14.320 --> 00:08:15.380\nnow I'm gonna run the script.\n\n160\n00:08:15.380 --> 00:08:17.560\nAll right, so I'll just come up here.\n\n161\n00:08:17.560 --> 00:08:18.470\nI'll tell you what.\n\n162\n00:08:18.470 --> 00:08:21.210\nBefore I do that let's\ncheck out Web 01 itself.\n\n163\n00:08:21.210 --> 00:08:25.970\nSo Web 01 already has I.I.S.\nand I'm gonna wake it\n\n164\n00:08:25.970 --> 00:08:30.850\nup because he went to sleep on me.\n\n165\n00:08:30.850 --> 00:08:36.710\nI'll open up File Explorer and\n\n166\n00:08:36.710 --> 00:08:43.200\nin my c:inetpub > wwwroot,\nyou'll notice I have nothing there.\n\n167\n00:08:43.200 --> 00:08:45.750\nSo kind of pretending, well,\noh, I'll get rid of these too.\n\n168\n00:08:45.750 --> 00:08:46.920\nLet's get rid of everything that's,\n\n169\n00:08:46.920 --> 00:08:49.370\nthose are those default\nfiles that come with IIS.\n\n170\n00:08:49.370 --> 00:08:53.810\nSo I've got that folder structure, IIS\nis installed, but my website is missing.\n\n171\n00:08:53.810 --> 00:08:57.390\nAll the files associated with\nthe website are gone, right?\n\n172\n00:08:57.390 --> 00:09:02.380\nSo if I flip back over to DC1,\nI've got that folder shared out\n\n173\n00:09:02.380 --> 00:09:06.310\nas a shared folder called web files and\nin here,\n\n174\n00:09:06.310 --> 00:09:09.980\nthis is not an actual functioning website,\njust some files to give us an example.\n\n175\n00:09:09.980 --> 00:09:13.750\nWe've got a couple of HTML files and\ninside that scripts folder, I've got\n\n176\n00:09:13.750 --> 00:09:18.290\na little sample script, so all that is\nlocated inside of that web files folder.\n\n177\n00:09:19.920 --> 00:09:23.810\nAnd you can see here,\nI told it where to get those files from.\n\n178\n00:09:23.810 --> 00:09:25.720\nAll right?\nThis is that source path.\n\n179\n00:09:25.720 --> 00:09:32.750\nIs that shared location here on DC1 and\nit should, copy those over to www root.\n\n180\n00:09:32.750 --> 00:09:34.750\nThat's the goal anyway, we'll find out.\n\n181\n00:09:34.750 --> 00:09:35.470\nJust kidding.\n\n182\n00:09:35.470 --> 00:09:40.250\nAll right, so, I'm going to run my script,\nall right, and that generates,\n\n183\n00:09:40.250 --> 00:09:41.810\nwhat we call, a configurations.\n\n184\n00:09:43.120 --> 00:09:47.650\nIt's basically, a good way to say\nit is nothing I can really see.\n\n185\n00:09:47.650 --> 00:09:51.470\nIf I go back into c colon scripts,\n\n186\n00:09:53.430 --> 00:09:57.560\nthis is what we're creating,\nis this my web config.\n\n187\n00:09:57.560 --> 00:09:59.800\nAnd it's creating these MOF files.\n\n188\n00:09:59.800 --> 00:10:00.410\nAll right.\n\n189\n00:10:00.410 --> 00:10:04.390\nAnd a MOF is a managed object framework.\n\n190\n00:10:04.390 --> 00:10:06.520\nIt's a type of file for Microsoft.\n\n191\n00:10:06.520 --> 00:10:11.410\nOnce you've run this script then you're\njust gonna call that configuration and,\n\n192\n00:10:11.410 --> 00:10:14.310\nagain, I called it MywebConfig.\n\n193\n00:10:14.310 --> 00:10:18.110\nSo down here I'm just\ngonna type in MywebConfig.\n\n194\n00:10:21.420 --> 00:10:22.390\nAnd it's gonna do its thing.\n\n195\n00:10:23.940 --> 00:10:27.560\nAnd it should generate those\nmof files that are necessary.\n\n196\n00:10:27.560 --> 00:10:28.220\nAll right?\n\n197\n00:10:28.220 --> 00:10:28.790\nAnd there we go.\n\n198\n00:10:28.790 --> 00:10:32.370\nI can see that it created\nweb01.lab.net.mof or .MOF.\n\n199\n00:10:32.370 --> 00:10:33.010\nRight?\n\n200\n00:10:33.010 --> 00:10:38.450\nNow that I've created that,\nany time I want to run this,\n\n201\n00:10:38.450 --> 00:10:43.320\nI'm gonna use a command\nstart-dscconfiguration,\n\n202\n00:10:43.320 --> 00:10:46.160\nand there's a few different\nparameters I can use with this.\n\n203\n00:10:46.160 --> 00:10:50.170\nThere's a -wait which I like to do\nespecially for demos because what that\n\n204\n00:10:50.170 --> 00:10:54.050\ndoes is it's gonna show me some\nresults and get me the end result.\n\n205\n00:10:54.050 --> 00:10:57.400\nIf I don't use the -wait it just\ncreates a job in the background and\n\n206\n00:10:57.400 --> 00:10:58.390\nit does it's process.\n\n207\n00:10:58.390 --> 00:11:02.160\nAnd in the real world, in normal scenarios\nI might not care about seeing the results\n\n208\n00:11:02.160 --> 00:11:04.080\nhere I just want it to run and go.\n\n209\n00:11:04.080 --> 00:11:07.690\nThe other one I am going to do is\na -verbose just to give a little bit more\n\n210\n00:11:07.690 --> 00:11:08.860\ninformation on the screen.\n\n211\n00:11:10.610 --> 00:11:12.745\nAnd then we're going to do a -path.\n\n212\n00:11:13.960 --> 00:11:17.590\nAnd tell it where that\nset of MOF files is.\n\n213\n00:11:17.590 --> 00:11:19.000\nAnd it's in the same location.\n\n214\n00:11:20.580 --> 00:11:22.350\nIt's not in the same location there.\n\n215\n00:11:22.350 --> 00:11:24.160\nTell you what, let me switch over.\n\n216\n00:11:24.160 --> 00:11:25.710\nIt's gonna be a little bit easier.\n\n217\n00:11:28.580 --> 00:11:29.270\nLet's do this.\n\n218\n00:11:29.270 --> 00:11:33.160\nI think I put in scripts, right.\n\n219\n00:11:33.160 --> 00:11:34.800\nJust make sure that's in there.\n\n220\n00:11:34.800 --> 00:11:35.990\nYeah, we're good to go.\n\n221\n00:11:35.990 --> 00:11:41.160\nSo I'll do a start and since I didn't\nenter, I'm gonna type it again.\n\n222\n00:11:41.160 --> 00:11:46.320\nSo start-DSC configuration,\nwe'll add a -weight,\n\n223\n00:11:46.320 --> 00:11:49.070\nand we'll add a -verbose.\n\n224\n00:11:49.070 --> 00:11:53.720\nAnd then I'm gonna use my little ./ and\nadd MywebConfig.\n\n225\n00:11:53.720 --> 00:11:56.030\nThat's where those MOF files are.\n\n226\n00:11:56.030 --> 00:11:57.760\nAnd at this point, and I'll scroll up so\n\n227\n00:11:57.760 --> 00:11:59.560\nyou can see there just\na little bit better.\n\n228\n00:11:59.560 --> 00:12:04.120\nThere's my command, start,\nDscConfiguration -wait, -verbose, and\n\n229\n00:12:04.120 --> 00:12:06.020\nthen where those MOF files are located.\n\n230\n00:12:06.020 --> 00:12:08.290\nI hit Enter and, we'll see what happens.\n\n231\n00:12:09.930 --> 00:12:15.860\nSo at this point it's reaching out to\nWeb01, oh my Web02 popped up there.\n\n232\n00:12:16.950 --> 00:12:17.450\nInteresting.\n\n233\n00:12:20.210 --> 00:12:21.260\nI didn't leave Web02 in there, did I?\n\n234\n00:12:21.260 --> 00:12:28.090\nNo.\nAll right, so I was going through,\n\n235\n00:12:28.090 --> 00:12:30.900\nand I'll bring this up just a wee bit so\nwe can see a little bit more of it.\n\n236\n00:12:36.930 --> 00:12:37.812\nAnd at this point,\n\n237\n00:12:37.812 --> 00:12:41.840\nit should be reaching out to Web01\nchecking to see if that role's installed.\n\n238\n00:12:41.840 --> 00:12:44.460\nIf it's not installed,\nit's gonna install it.\n\n239\n00:12:44.460 --> 00:12:48.360\nThen it's gonna check that directory and\ncompare it against that source directory.\n\n240\n00:12:48.360 --> 00:12:50.800\nAnd if there is any discrepancies,\nit's gonna fix it.\n\n241\n00:12:50.800 --> 00:12:53.090\nIt'll create the files or\ncopy those files over.\n\n242\n00:12:53.090 --> 00:12:54.900\nIt'll create the directories.\n\n243\n00:12:54.900 --> 00:13:00.280\nWhatever I need it to do to make it\nconsistent with that source directory.\n\n244\n00:13:02.440 --> 00:13:03.590\nSo we'll give it a second to finish up.\n\n245\n00:13:06.485 --> 00:13:08.030\nIt does look like it's\ninstalling on Web02.\n\n246\n00:13:08.030 --> 00:13:12.050\nAnd I don't know why, but we'll\ndouble-check it here in just a second.\n\n247\n00:13:17.527 --> 00:13:21.623\nSo, again, you see that really,\nthe first part is creating that script and\n\n248\n00:13:21.623 --> 00:13:25.911\nthat's the part that will probably throw\nyou for a little bit of a loop at first is\n\n249\n00:13:25.911 --> 00:13:29.751\nfiguring out how to nest those resource\nblocks inside the node blocks,\n\n250\n00:13:29.751 --> 00:13:33.527\nplaying around with the options that\nare available in those different\n\n251\n00:13:33.527 --> 00:13:37.559\nbuilt-in resources, like being able\nto copy files, copy directories,\n\n252\n00:13:37.559 --> 00:13:40.250\ncreate groups,\na lot of cool stuff we can do.\n\n253\n00:13:40.250 --> 00:13:43.660\n>> Yeah I'm imagining that they\ndon't necessarily want you\n\n254\n00:13:43.660 --> 00:13:46.410\nto know exactly how to write a script for\nthe exam.\n\n255\n00:13:46.410 --> 00:13:47.810\nThey're probably not gonna\ngive you a simulation and\n\n256\n00:13:47.810 --> 00:13:49.870\nsay, write a script using the DS-\n>> Yeah.\n\n257\n00:13:49.870 --> 00:13:51.030\n>> They're not gonna do that.\n\n258\n00:13:51.030 --> 00:13:54.830\nThey just want you to know about this,\nbut it is good for you to know, as\n\n259\n00:13:54.830 --> 00:13:58.570\nan administrator, as you're working with\nthis stuff, how do I write these files?\n\n260\n00:13:58.570 --> 00:14:01.500\nNow, the good thing is,\nthere's an Internet community out there.\n\n261\n00:14:01.500 --> 00:14:04.710\nYou can probably pretty easily\nget out there, find a form, find,\n\n262\n00:14:04.710 --> 00:14:07.210\nprobably Microsoft even has off-site or\n\n263\n00:14:07.210 --> 00:14:09.920\nsomething that shows here's how\nto get your feet wet in this.\n\n264\n00:14:09.920 --> 00:14:13.300\nHere's how to start using this\nscripting language to get you\n\n265\n00:14:13.300 --> 00:14:16.480\nto be able to do what you need to do with\nthat and make these configuration files.\n\n266\n00:14:16.480 --> 00:14:19.300\nAnd then push them out to the servers\nyou need them to push to.\n\n267\n00:14:19.300 --> 00:14:20.280\n>> Exactly right, Daniel.\n\n268\n00:14:20.280 --> 00:14:21.020\nExactly, right.\n\n269\n00:14:21.020 --> 00:14:23.240\nAll right so let's see what happened here.\n\n270\n00:14:23.240 --> 00:14:25.980\nIf I take a look, everything finished.\n\n271\n00:14:25.980 --> 00:14:29.710\nNo red text from PowerShell\nis always a good thing.\n\n272\n00:14:29.710 --> 00:14:34.950\nIf I flip over to web01, and\nI open up file explorer, there we go.\n\n273\n00:14:34.950 --> 00:14:39.710\nThere's my two files that were copied\nover as well as the scripts folder and\n\n274\n00:14:39.710 --> 00:14:42.590\nthat little script file within there.\n\n275\n00:14:42.590 --> 00:14:45.040\nSo very cool, took care of that.\n\n276\n00:14:45.040 --> 00:14:49.010\nAnd again, I didn't have to tell it\nwhat files or anything like that.\n\n277\n00:14:49.010 --> 00:14:50.870\nIt just took that source directory and\nsaid, all right,\n\n278\n00:14:50.870 --> 00:14:52.940\nI'm gonna make sure it's exactly the same.\n\n279\n00:14:52.940 --> 00:14:54.270\nSo easy breezy.\n\n280\n00:14:54.270 --> 00:14:57.341\nNow I'll check and\nsee what it did to Web02.\n\n281\n00:14:57.341 --> 00:15:01.084\nI might have,\nwhen I was testing these out,\n\n282\n00:15:01.084 --> 00:15:05.040\nI might have left\na pointer to Web02 as well.\n\n283\n00:15:05.040 --> 00:15:06.960\nLet's see if IIS got installed on here.\n\n284\n00:15:10.748 --> 00:15:11.790\nDrum roll please.\n\n285\n00:15:11.790 --> 00:15:14.072\nRefresh this console and see what happens.\n\n286\n00:15:14.072 --> 00:15:14.884\n>> [LAUGH] Yeah.\n\n287\n00:15:14.884 --> 00:15:16.659\n>> And sure enough, it did install IIS.\n\n288\n00:15:16.659 --> 00:15:25.134\nAnd if I open up file explorer,\nwe'll take a look at C:\\Inifhub\\wwwroot.\n\n289\n00:15:25.134 --> 00:15:30.010\nAnd notice there's the scripts folder, as\nwell as that catalog file and that index.\n\n290\n00:15:30.010 --> 00:15:34.650\nThese other two are just the default files\nthat get created when you install IIS.\n\n291\n00:15:34.650 --> 00:15:39.190\nIn fact I could have modified my script\na little bit to not only copy that stuff\n\n292\n00:15:39.190 --> 00:15:43.560\nover, but remove those extra files\nthat might be in there as well.\n\n293\n00:15:43.560 --> 00:15:46.030\n>> Now, Mike, I think this\nisn't necessarily a bad thing.\n\n294\n00:15:46.030 --> 00:15:47.310\nIt happens.\nYou're running scripts.\n\n295\n00:15:47.310 --> 00:15:49.620\nAny time you're banging\naway at a keyboard and\n\n296\n00:15:49.620 --> 00:15:51.970\ntyping stuff in,\nthat typos tend to happen.\n\n297\n00:15:51.970 --> 00:15:53.910\nBut I think it's a good\nillustration to show that,\n\n298\n00:15:53.910 --> 00:15:55.496\nyou do this on multiple computers.\n\n299\n00:15:55.496 --> 00:15:55.996\n[CROSSTALK]\n>> Exactly, right.\n\n300\n00:15:55.996 --> 00:15:57.810\n>> I don't have to do just one server at\n\n301\n00:15:57.810 --> 00:16:00.096\na time.\nBe like, oh, here we go again.\n\n302\n00:16:00.096 --> 00:16:02.521\nI gotta apply script I can run it on all\n\n303\n00:16:02.521 --> 00:16:05.738\nthe servers that I need it\nto apply to at one time.\n\n304\n00:16:05.738 --> 00:16:06.915\nIt does the work and\n\n305\n00:16:06.915 --> 00:16:11.845\nI've spared myself tons of time and effort\nthat normally would have take me a lot\n\n306\n00:16:11.845 --> 00:16:15.021\nof time and effort, to be honest with you.\n>> Absolutely.\n\n307\n00:16:15.021 --> 00:16:16.591\nAnd I think what happened to me, Daniel,\n\n308\n00:16:16.591 --> 00:16:22.000\nis I had inside my file here,\nwhen I was testing\n\n309\n00:16:22.000 --> 00:16:25.440\nthis out before we went live to make sure\neverything was gonna work on screen.\n\n310\n00:16:25.440 --> 00:16:30.100\nI left this other config file in here,\nand it probably had the same name.\n\n311\n00:16:31.190 --> 00:16:36.994\nAnd so, it probably ended up\nWeb01.lab.net.mof and Web02.lab.net.mof.\n\n312\n00:16:36.994 --> 00:16:40.920\nAnd both of them have\nthe configuration name, MyWebConfig.\n\n313\n00:16:40.920 --> 00:16:44.070\nSo it actually grabbed both of them, but\nit took, like you said, a great point,\n\n314\n00:16:44.070 --> 00:16:46.700\nthat I don't have to\ndo this one at a time.\n\n315\n00:16:46.700 --> 00:16:49.740\nAnd another cool thing\nthat you can do with this.\n\n316\n00:16:49.740 --> 00:16:51.850\nIn this case, if I hadn't goofed up and\n\n317\n00:16:51.850 --> 00:16:55.150\nleft that other one in there,\nit would have run it on web 01.\n\n318\n00:16:55.150 --> 00:16:59.820\nAnd if I wanted to run it on web 02,\nI would have had to come into this file,\n\n319\n00:16:59.820 --> 00:17:03.680\nchange this guy to web 02,\nrun this script,\n\n320\n00:17:03.680 --> 00:17:08.190\ngenerate another set of MA files for\nweb 02, and then call that one right?\n\n321\n00:17:08.190 --> 00:17:10.221\nSo, I would've had to done this twice.\n\n322\n00:17:10.221 --> 00:17:13.410\nAnd I would have had to\nmodify this script manually.\n\n323\n00:17:13.410 --> 00:17:16.560\nSomething that you can do that's\npretty darn cool is you can use\n\n324\n00:17:16.560 --> 00:17:18.655\nparameters with this as well.\n\n325\n00:17:18.655 --> 00:17:23.830\nnow I've got this other script that I\nwrote, I'll drop this down just a wee bit.\n\n326\n00:17:23.830 --> 00:17:30.870\nHere, instead of putting the node name,\nthere is no node web O2.lab.net.\n\n327\n00:17:30.870 --> 00:17:32.910\nIt just says, $server, variable.\n\n328\n00:17:32.910 --> 00:17:36.930\nAnd above there, I've got a parameter\ncommand, and inside there,\n\n329\n00:17:36.930 --> 00:17:38.800\nI've got this $server.\n\n330\n00:17:38.800 --> 00:17:43.000\nSo what this is going to allow me to do,\nis run this, but call or\n\n331\n00:17:43.000 --> 00:17:47.450\nset the name during\nthe execution of the command.\n\n332\n00:17:47.450 --> 00:17:51.770\nSo you could set this up, have the script\nwaiting, and every time you run\n\n333\n00:17:51.770 --> 00:17:56.850\nthe script, you just run the script with\nan additional parameter of name, and\n\n334\n00:17:56.850 --> 00:18:01.130\nprovide that information during\nthe execution of the script.\n\n335\n00:18:01.130 --> 00:18:02.730\nSo let's see if we can do that as well.\n\n336\n00:18:02.730 --> 00:18:03.800\nI'll give you guys a demo of that.\n\n337\n00:18:03.800 --> 00:18:06.160\nI've got a third web server over here.\n\n338\n00:18:07.190 --> 00:18:09.650\nAnd this guy is actually running Core.\n\n339\n00:18:09.650 --> 00:18:10.720\nSo I'll show you a couple things.\n\n340\n00:18:10.720 --> 00:18:13.550\nOne, that I can use\nparameters with my scripts.\n\n341\n00:18:13.550 --> 00:18:16.570\nTwo, server core,\nfull install, doesn't matter.\n\n342\n00:18:16.570 --> 00:18:18.740\nIt will work on either one.\n\n343\n00:18:18.740 --> 00:18:23.782\nAnd I'll do a get-WindowsFeature.\n\n344\n00:18:26.929 --> 00:18:29.700\nYou know what, you can't do that\nfrom the command prompt, Michael.\n\n345\n00:18:29.700 --> 00:18:32.340\nLet's launch into PowerShell.\n\n346\n00:18:32.340 --> 00:18:33.055\n>> With the one word.\n\n347\n00:18:33.055 --> 00:18:35.710\n>> [LAUGH] Yeah, I was wondering why\nit didn't recognize my command there.\n\n348\n00:18:35.710 --> 00:18:40.925\nAnd I'll do a get-WindowsFeature, and\n\n349\n00:18:40.925 --> 00:18:45.994\nwe'll check out good old web-server.\n\n350\n00:18:50.878 --> 00:18:54.386\nAnd as it returns that information,\nI'll bump that font up so\n\n351\n00:18:54.386 --> 00:18:56.280\nyou guys can see my results here.\n\n352\n00:19:02.977 --> 00:19:03.760\nOops.\n\n353\n00:19:03.760 --> 00:19:06.020\n>> I like the grey on white.\n\n354\n00:19:06.020 --> 00:19:06.528\n>> You know what.\n\n355\n00:19:06.528 --> 00:19:10.569\n[CROSSTALK] That was grey.\n\n356\n00:19:10.569 --> 00:19:13.950\nLet's do the screen text as white, and\nwe'll do that background as black there.\n\n357\n00:19:16.730 --> 00:19:18.500\nAnd it's already installed.\n\n358\n00:19:18.500 --> 00:19:20.590\nDog gone it.\n\n359\n00:19:20.590 --> 00:19:21.790\nLet's see if the directory's there.\n\n360\n00:19:21.790 --> 00:19:22.620\nWe'll do a little CD.\n\n361\n00:19:33.987 --> 00:19:37.566\nWhoops.\nWe'll switch over there just to see if\n\n362\n00:19:37.566 --> 00:19:38.613\nwe do a DIR.\n\n363\n00:19:38.613 --> 00:19:43.353\nAnd you see there's nothing\ninside the www root folder.\n\n364\n00:19:43.353 --> 00:19:47.460\nSo, IAS is already installed, but\nthere's nothing in that folder yet.\n\n365\n00:19:47.460 --> 00:19:52.710\nSo I'm gonna go back over to DC1,\nI'm gonna take this guy here.\n\n366\n00:19:52.710 --> 00:19:55.790\nAnd this time I think I'll clean\nthat folder up real quick so\n\n367\n00:19:55.790 --> 00:19:58.800\nwe don't have any issues with that.\n\n368\n00:19:58.800 --> 00:20:05.037\nSo lets get rid of these guys.\n\n369\n00:20:05.037 --> 00:20:08.990\nAnd now, I'm going to do\nthe same process all right.\n\n370\n00:20:08.990 --> 00:20:10.450\nSo I've got my script written out.\n\n371\n00:20:10.450 --> 00:20:13.400\nAs you can see, it's pretty much\nthe same script, except I changed it.\n\n372\n00:20:13.400 --> 00:20:16.115\nInstead of specifying a name,\nI've got a variable in its place.\n\n373\n00:20:16.115 --> 00:20:18.080\nI'm just gonna make sure\ntheir web server's present,\n\n374\n00:20:18.080 --> 00:20:20.780\nand its also gonna copy those files over.\n\n375\n00:20:20.780 --> 00:20:22.200\nSo I'll go ahead and run that script.\n\n376\n00:20:23.400 --> 00:20:28.300\nAnd then I'm gonna call\nthat configuration block,\n\n377\n00:20:28.300 --> 00:20:30.810\nwhich I think I called it MyWebConfig2.\n\n378\n00:20:30.810 --> 00:20:34.085\nWe'll type in, mywebconfig2.\n\n379\n00:20:34.085 --> 00:20:40.295\nAll right, so in this script, it's pretty\nmuch the same script that we used before,\n\n380\n00:20:40.295 --> 00:20:42.625\nexcept you can see that\ninstead of the name,\n\n381\n00:20:42.625 --> 00:20:46.577\nit just says node and then $server,\nit's got a variable there.\n\n382\n00:20:46.577 --> 00:20:50.517\nAnd the top I've added this param for\nparameter.\n\n383\n00:20:50.517 --> 00:20:54.917\nAnd inside parentheses,\nI've defined $server as a parameter.\n\n384\n00:20:54.917 --> 00:20:59.217\nSo now instead of having the name of\nthe server that I'm trying to configure\n\n385\n00:20:59.217 --> 00:21:03.107\nhard coated in my script,\nI can actually call it, or\n\n386\n00:21:03.107 --> 00:21:05.917\nprovide the name of the server\nwhen I run the script.\n\n387\n00:21:05.917 --> 00:21:06.997\nAnd so let's try that out.\n\n388\n00:21:06.997 --> 00:21:11.220\nFirst I'm going to go clean\nup the files over here.\n\n389\n00:21:11.220 --> 00:21:12.590\nSo we'll go inside Scripts.\n\n390\n00:21:12.590 --> 00:21:14.920\nI'm gonna make sure I\ndon't have one already.\n\n391\n00:21:14.920 --> 00:21:15.760\nWe'll get rid of that.\n\n392\n00:21:17.190 --> 00:21:20.810\nAnd I'm gonna execute the script,\njust like we did before, all right.\n\n393\n00:21:20.810 --> 00:21:26.460\nThen I'm gonna call mywebconfig2,\nso good old mywebconfig2,\n\n394\n00:21:26.460 --> 00:21:32.480\nbut this time I'm gonna add a -server.\n\n395\n00:21:32.480 --> 00:21:35.060\nAnd notice that that actually\npops up in my drop down list?\n\n396\n00:21:35.060 --> 00:21:38.140\nIt's pretty cool, it sees that there's\na parameter in that script, and\n\n397\n00:21:38.140 --> 00:21:40.950\nit's actually giving me that option there.\n\n398\n00:21:40.950 --> 00:21:44.340\nWhich is always nice if you\nforget the name that you set for\n\n399\n00:21:44.340 --> 00:21:48.280\nthe different parameters or some other\nadmin is working with your script.\n\n400\n00:21:48.280 --> 00:21:53.540\nHe might know, he might not know, the name\nthat you set those parameters for.\n\n401\n00:21:53.540 --> 00:22:00.594\nAnd check,\nthis one is gonna be web03.lab.net.\n\n402\n00:22:00.594 --> 00:22:05.040\nAnd Michael, you know that's gotta be in\nquotes, so let's fix that real quick.\n\n403\n00:22:06.840 --> 00:22:10.130\nSo again, now I'm calling that config, and\n\n404\n00:22:10.130 --> 00:22:13.947\nI'm providing the name of\nthe server when I call it.\n\n405\n00:22:15.231 --> 00:22:15.970\nAnd there we go.\n\n406\n00:22:15.970 --> 00:22:20.420\nSo it generates that MAF file for me,\nand then all I have to do is that same\n\n407\n00:22:20.420 --> 00:22:23.610\ncommand, and\nmaybe I can find my old command here.\n\n408\n00:22:23.610 --> 00:22:27.512\nAnd we'll just call it Mywebconfig2,\nand I'll hit enter.\n\n409\n00:22:27.512 --> 00:22:32.110\nAnd now it should be reaching out\nto Web03, you can see it there.\n\n410\n00:22:32.110 --> 00:22:34.020\nIt was going through the set.\n\n411\n00:22:34.020 --> 00:22:37.300\nWith that verbose you can actually\nlook at all the different steps\n\n412\n00:22:37.300 --> 00:22:38.900\nthat it goes through.\n\n413\n00:22:38.900 --> 00:22:41.010\nI know I get this error about\nthe network name not found,\n\n414\n00:22:41.010 --> 00:22:42.870\nbut it ends up finding it just fine.\n\n415\n00:22:42.870 --> 00:22:48.150\nI didn't use a fully qualified name in\nthat share path, but it finds it okay.\n\n416\n00:22:48.150 --> 00:22:51.240\nYou can see where it's going through\nthe different resources, right?\n\n417\n00:22:51.240 --> 00:22:58.030\nSetting the resource to be a Windows\nfeature, and then it's starting it up.\n\n418\n00:22:58.030 --> 00:22:59.210\nAnd then it ends that one.\n\n419\n00:22:59.210 --> 00:23:02.460\nAnd then it moves on to the next one,\nit starts copying those files.\n\n420\n00:23:02.460 --> 00:23:03.320\nLet's go check it out.\n\n421\n00:23:03.320 --> 00:23:05.510\nAnd if we switch over to web 03.\n\n422\n00:23:05.510 --> 00:23:09.830\nAnd I do a little DIR\nin my www root folder,\n\n423\n00:23:09.830 --> 00:23:13.380\nsure enough there's my scripts directory,\nas well as through two HTML files.\n\n424\n00:23:15.050 --> 00:23:18.870\nSo just an example of how now\nnot only can I use DCS to\n\n425\n00:23:21.050 --> 00:23:24.086\nset this configuration,\nI can parametrize it.\n\n426\n00:23:24.086 --> 00:23:24.835\nParameter-ize it.\n\n427\n00:23:24.835 --> 00:23:27.038\n[LAUGH] [CROSSTALK] Parametrize it,\nis that a word?\n\n428\n00:23:27.038 --> 00:23:29.343\n>> It's good enough to use parameter,\nhow about we say that?\n\n429\n00:23:29.343 --> 00:23:30.080\n>> There you go [LAUGH]\n>> So\n\n430\n00:23:30.080 --> 00:23:31.340\nthey don't have to be hard coded, right?\n\n431\n00:23:31.340 --> 00:23:33.140\nThat gives me that flexibility.\n\n432\n00:23:33.140 --> 00:23:36.740\nLet's say next week we roll\nout three new web servers.\n\n433\n00:23:36.740 --> 00:23:40.910\nWell instead of me having to go in and\nmanually modify that script,\n\n434\n00:23:40.910 --> 00:23:44.110\nI can just call that configuration\nwith whatever they tell me\n\n435\n00:23:44.110 --> 00:23:46.730\nthe name of those new web servers are,\nand I'm good to go.\n\n436\n00:23:46.730 --> 00:23:49.230\nSo its a great way to\ngive you some flexibility\n\n437\n00:23:49.230 --> 00:23:50.810\nwith that desired state configuration.\n\n438\n00:23:50.810 --> 00:23:54.425\n>> Yeah, scripting is definitely something\nyou need to learn as an administrator.\n\n439\n00:23:54.425 --> 00:23:57.616\nIt's gonna make you be able to automate\na lot of different tasks through\n\n440\n00:23:57.616 --> 00:24:01.018\nthe automation that frees you up to do\nother things that are probably a little\n\n441\n00:24:01.018 --> 00:24:01.832\nmore important.\n\n442\n00:24:01.832 --> 00:24:05.903\nSpending your whole day setting up servers\nand trying to click configuration boxes,\n\n443\n00:24:05.903 --> 00:24:07.324\nthat's a waste of your time.\n\n444\n00:24:07.324 --> 00:24:11.844\nBeing able to use scripting and being able\nto use this utility to work together with\n\n445\n00:24:11.844 --> 00:24:13.950\nit, well that's a whole lot easier.\n\n446\n00:24:13.950 --> 00:24:17.890\nIt's going to make your life easier, so\nit's very advantageous for you to get out\n\n447\n00:24:17.890 --> 00:24:21.290\nthere, get your feet wet in some\nPowerShell scripting, learn the different\n\n448\n00:24:21.290 --> 00:24:25.022\nways in which you can implement that and\nstart saving some time and effort.\n\n449\n00:24:25.022 --> 00:24:26.470\n>> All right, thank you.\n\n450\n00:24:26.470 --> 00:24:28.247\nVery cool stuff though,\nyou've got anything else?\n\n451\n00:24:28.247 --> 00:24:31.111\n>> There is, there's one more thing I\nwant to talk about because there's two\n\n452\n00:24:31.111 --> 00:24:33.488\ndifferent modes I can do\nthe desired state configuration in.\n\n453\n00:24:33.488 --> 00:24:36.627\nWhat you just saw me do is what\nthey call the push mode and\n\n454\n00:24:36.627 --> 00:24:38.483\nthat's actually the default.\n\n455\n00:24:38.483 --> 00:24:42.463\nSo I had to manually go in and,\ncreate that configuration,\n\n456\n00:24:42.463 --> 00:24:46.842\nrecall that configuration, and\nthen run it with that start-dcs\n\n457\n00:24:46.842 --> 00:24:51.690\nconfiguration PowerShell command,\nto get this process rolling.\n\n458\n00:24:51.690 --> 00:24:54.470\nThat's what we call push,\nand that is the default.\n\n459\n00:24:54.470 --> 00:24:57.250\nBut, you can also set this up,\nwith a little more work.\n\n460\n00:24:57.250 --> 00:24:59.400\nYou can set up what we\ncall a pull scenario,\n\n461\n00:24:59.400 --> 00:25:02.000\nwhere I have a server that\nhosts all those mov files.\n\n462\n00:25:02.000 --> 00:25:02.810\nAll right?\n\n463\n00:25:02.810 --> 00:25:07.860\nAnd you do have to run a check sum on\nthose mov's to generate basically an I.D.,\n\n464\n00:25:07.860 --> 00:25:12.690\nthat you can use, but you set up a server\nthat's gonna host all those mov files.\n\n465\n00:25:12.690 --> 00:25:16.910\nYou generate these check sums and then\nyou go to those different web servers and\n\n466\n00:25:16.910 --> 00:25:19.510\nyou set them up to be a pull client.\n\n467\n00:25:19.510 --> 00:25:23.090\nAnd what they will do is periodically,\ncheck in.\n\n468\n00:25:23.090 --> 00:25:26.570\nAnd what they do is they check\ntheir own configuration, and\n\n469\n00:25:26.570 --> 00:25:30.420\nthen they reach out to that pull\nserver that's hosting those mod files.\n\n470\n00:25:30.420 --> 00:25:33.435\nAnd they look at it and they say,\ndo I meet everything that's in here?\n\n471\n00:25:33.435 --> 00:25:34.294\nAnd if I do, great.\n\n472\n00:25:34.294 --> 00:25:38.500\nI'm done, I'll wait a little while and\nI'll check in again later on.\n\n473\n00:25:38.500 --> 00:25:40.440\nIf they don't,\nif something's out of whack,\n\n474\n00:25:40.440 --> 00:25:43.340\nthen they'll immediately pull\nthat down and start running it.\n\n475\n00:25:43.340 --> 00:25:47.450\nSo if the web server files\ngot corrupted or deleted or\n\n476\n00:25:47.450 --> 00:25:50.730\nsomething like that, it'll actually\nfix itself if you wait long enough.\n\n477\n00:25:50.730 --> 00:25:55.060\nIt'll go back in and you can control how\noften they check in with that pull server,\n\n478\n00:25:55.060 --> 00:25:56.790\nthey'll pull that configuration down.\n\n479\n00:25:56.790 --> 00:26:00.620\nI could make a change to those MOFs and\nnot have to worry about,\n\n480\n00:26:00.620 --> 00:26:05.000\nlet's say we've got ten web servers out\nthere, and I wanna add some more files.\n\n481\n00:26:05.000 --> 00:26:06.982\nWell I could just copy them\ninto that source directory and\n\n482\n00:26:06.982 --> 00:26:09.556\nI know eventually they're gonna come,\ncheck in, and grab those files.\n\n483\n00:26:09.556 --> 00:26:13.636\nOr if I wanna install another roll or\nmake some changes to it,\n\n484\n00:26:13.636 --> 00:26:15.478\nI can just update that mov.\n\n485\n00:26:15.478 --> 00:26:18.077\nAnd they're gonna check in and\nrealize they're not in compliance, and\n\n486\n00:26:18.077 --> 00:26:20.087\nthen they're gonna pull it down and\nbecome compliant.\n\n487\n00:26:20.087 --> 00:26:22.717\n>> Yeah, Mike,\nlet that server do the work for you, and\n\n488\n00:26:22.717 --> 00:26:24.540\nnot try to do everything ourselves.\n\n489\n00:26:24.540 --> 00:26:27.010\nThat's what I love about scripting and\n\n490\n00:26:27.010 --> 00:26:29.050\nthings that allow us\nto automate processes.\n\n491\n00:26:29.050 --> 00:26:31.259\nThat's really our job as administrators,\n\n492\n00:26:31.259 --> 00:26:34.314\nfind every way we can automate\na process and implement that.\n\n493\n00:26:34.314 --> 00:26:37.636\n>> So really, that gives more time for\nWorld of Warcraft or whatever else.\n\n494\n00:26:37.636 --> 00:26:38.147\n[CROSSTALK]\n>> YouTube.\n\n495\n00:26:38.147 --> 00:26:39.786\n>> [LAUGH]\n>> ITProTV, right?\n\n496\n00:26:39.786 --> 00:26:41.310\n[LAUGH]\n>> I mean for doing other work, yeah.\n\n497\n00:26:41.310 --> 00:26:43.130\n>> I mean, yes, that's right,\nbeing more productive at work.\n\n498\n00:26:43.130 --> 00:26:44.010\n>> Yeah.\n>> That's you wanna do.\n\n499\n00:26:44.010 --> 00:26:47.800\nThat is what you wanna do, and that being\nsaid, we've been pretty productive today.\n\n500\n00:26:47.800 --> 00:26:49.390\nHope you guys have enjoyed this episode,\n\n501\n00:26:49.390 --> 00:26:52.700\nbut we've come to the end\nof another great one.\n\n502\n00:26:52.700 --> 00:26:54.750\nThat being said,\nit's time for us to sign off.\n\n503\n00:26:54.750 --> 00:26:56.550\nI've been your host, Daniel Elrick.\n\n504\n00:26:56.550 --> 00:26:57.360\n>> And I'm Mike Rodrick.\n\n505\n00:26:57.360 --> 00:26:58.105\n>> And we'll see you next time.\n\n506\n00:26:58.105 --> 00:26:59.320\n[MUSIC]\n\n",
          "vimeoId": "134635825"
        },
        {
          "description": "In this episode, Ronnie and Mike discuss managing remote servers. They use a Windows 8.1 machine with RSAT installed. They demonstrate configuring the remote servers for remote management.",
          "length": "1520",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-6-1-using_server_manager-082015-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-6-1-using_server_manager-082015-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-6-1-using_server_manager-082015-1-sm.jpg",
          "title": "Using Server Manager",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.791\n[MUSIC]\n\n2\n00:00:10.791 --> 00:00:14.538\nWelcome to another great episode on\nITProTV, I'm your host Ronnie Wong,\n\n3\n00:00:14.538 --> 00:00:18.050\nI'm here with the Microsoft\nkung fu master, Mike Rogers.\n\n4\n00:00:18.050 --> 00:00:18.930\n>> How's it going, Ronnie?\n\n5\n00:00:18.930 --> 00:00:23.120\n>> It's going well today, as we take\na look into Microsoft, we're going to talk\n\n6\n00:00:23.120 --> 00:00:28.650\nabout some Windows server 2012 things\nthat we need to talk about here.\n\n7\n00:00:28.650 --> 00:00:31.350\nAnd specifically,\nwe're looking at Remote Management,\n\n8\n00:00:31.350 --> 00:00:33.060\nis what we're taking a look at today.\n\n9\n00:00:33.060 --> 00:00:37.280\nAnd there's a lot of different ways that\nwe can talk about using Remote Management\n\n10\n00:00:37.280 --> 00:00:41.140\nto help us in managing our servers and\nthat's what we want to get into today.\n\n11\n00:00:41.140 --> 00:00:45.750\nNow Mike the whole idea behind\nRemote Management is why do\n\n12\n00:00:45.750 --> 00:00:49.620\nwe need to do it I know I can get access\nto my server, I know I can actually sit\n\n13\n00:00:49.620 --> 00:00:52.845\nright there on the server, I can manage\nit from there what's the goal behind it?\n\n14\n00:00:52.845 --> 00:00:54.520\n>> Yeah absolutely,\nyeah that's one of the great things,\n\n15\n00:00:54.520 --> 00:00:58.150\nis we do have several ways we can\ngo about managing our servers.\n\n16\n00:00:58.150 --> 00:01:01.160\nBut we wanna try to make it easy and\nas smooth as possible.\n\n17\n00:01:01.160 --> 00:01:05.830\nAnd the other thing is, a lot of times we\ndelegate responsibilities to other people.\n\n18\n00:01:05.830 --> 00:01:10.610\nLike, we know as IT, we can go and we can\nremote desktop into a server, and we can\n\n19\n00:01:10.610 --> 00:01:15.180\nget access to the desktop, and therefore\neverything that's running on that server.\n\n20\n00:01:15.180 --> 00:01:18.690\nHeck, a lot of us can get, we might even\nhave access to the server closet itself,\n\n21\n00:01:18.690 --> 00:01:22.910\nso I can go pull that KVM out and\nI can manage the server right there,\n\n22\n00:01:22.910 --> 00:01:24.170\nbut that's a lot of work.\n\n23\n00:01:24.170 --> 00:01:25.490\nBy getting up and\ngoing to the server closet,\n\n24\n00:01:25.490 --> 00:01:30.360\nthey might not even be physically located\nwhere I'm at, so that's not ideal, and\n\n25\n00:01:30.360 --> 00:01:31.920\nif you've ever been in a server closet.\n\n26\n00:01:31.920 --> 00:01:34.560\nThe plus side is It's nice and\nair conditioned, but\n\n27\n00:01:34.560 --> 00:01:38.120\nthe downside is you got all those\nrouters and switches and fans, and\n\n28\n00:01:38.120 --> 00:01:41.960\nthey're just noisy as heck and\nit's really kinda hard to focus sometimes.\n\n29\n00:01:41.960 --> 00:01:44.980\nRemote desktop is not a bad option,\nin fact, I use it and I know, Ronnie,\n\n30\n00:01:44.980 --> 00:01:46.235\nyou use it a lot of times.\n\n31\n00:01:46.235 --> 00:01:49.425\nBecause I get access to\neverything on that machine.\n\n32\n00:01:49.425 --> 00:01:51.135\nBut if we're gonna\ndelegate responsibility,\n\n33\n00:01:51.135 --> 00:01:54.765\nlike I've got a server in my\ncloset that's running DNS and\n\n34\n00:01:54.765 --> 00:01:58.985\nDHCP and I want to give Ronnie\nability to manage DHCP.\n\n35\n00:01:58.985 --> 00:02:02.205\nBut he shouldn't be able\nto access DNS console or\n\n36\n00:02:02.205 --> 00:02:04.625\nanything else that's running\non that server, right?\n\n37\n00:02:04.625 --> 00:02:08.340\nWe've talked about principle of least\nprivilege and things like that.\n\n38\n00:02:08.340 --> 00:02:10.870\nSo, I wanted him to just access DHCP.\n\n39\n00:02:10.870 --> 00:02:15.170\nWell, one of the easiest ways\nto do that is to give him access\n\n40\n00:02:15.170 --> 00:02:18.910\nremotely to that DHCP console\ninstead of the entire server, and\n\n41\n00:02:18.910 --> 00:02:21.120\nthere's a few different ways\nwe can go about doing that.\n\n42\n00:02:21.120 --> 00:02:24.374\n>> Yeah, so let's go ahead and take a look\nat a few of those different ways to make\n\n43\n00:02:24.374 --> 00:02:26.320\nsure that we can do things like that.\n\n44\n00:02:26.320 --> 00:02:29.850\nSome of the easiest ways, of course, to do\nthat is that inside of Server 2012 there\n\n45\n00:02:29.850 --> 00:02:33.810\nis simply, just the Server Manager itself,\nwhich is a GUI interface, but\n\n46\n00:02:33.810 --> 00:02:35.550\nthat's not all we're gonna take a look at,\nright, Mike?\n\n47\n00:02:35.550 --> 00:02:38.450\n>> Yeah, we got a few different\nthings I wanna show you guys today.\n\n48\n00:02:38.450 --> 00:02:41.860\nServer Manager, and if we pull up my\nscreen here we can see Server Manager.\n\n49\n00:02:41.860 --> 00:02:46.480\nAnd if you're running a server operating\nsystem, then you get Server Manager.\n\n50\n00:02:46.480 --> 00:02:48.390\nAnd as you add additional roles,\n\n51\n00:02:48.390 --> 00:02:51.270\nthen you'll get the consoles\nassociated with those roles.\n\n52\n00:02:51.270 --> 00:02:56.484\nFor example, this machine here is\nmy domain controller/DNS/DHCP,\n\n53\n00:02:56.484 --> 00:02:58.800\nfor my little test environment.\n\n54\n00:02:58.800 --> 00:03:03.250\nSo I can come in here and I can open up\nthe DHCP console, I've also got access to\n\n55\n00:03:03.250 --> 00:03:08.370\nDHCP through Server Manager,\nlet's me manage this one machine.\n\n56\n00:03:08.370 --> 00:03:12.480\nWhat's cool about the Server Manager,\nI can add additional servers I can come\n\n57\n00:03:12.480 --> 00:03:15.780\nin here and right click and\nI can choose Add Servers.\n\n58\n00:03:15.780 --> 00:03:19.320\nNow this particular one, I don't have\nany other servers set up just yet,\n\n59\n00:03:19.320 --> 00:03:22.470\nwe're gonna save that for\nlater on in the episode.\n\n60\n00:03:22.470 --> 00:03:26.690\nBut you would just simply browse for\nthe name of that server, add it by,\n\n61\n00:03:26.690 --> 00:03:31.330\nonce you've typed in the name here,\nin fact, I can do let's see, SRV, I think,\n\n62\n00:03:31.330 --> 00:03:33.140\n01 might be out there right now.\n\n63\n00:03:34.410 --> 00:03:36.499\nLet's try one other one real quick.\n\n64\n00:03:38.270 --> 00:03:42.630\nYeah we're gonna set those up as part of\nthe demo later so we'll get those in here,\n\n65\n00:03:42.630 --> 00:03:47.520\nbut if you had other 2012 servers on\nthis network you would just browse form\n\n66\n00:03:47.520 --> 00:03:51.550\nfind them, add them to your console,\nand they would be listed right here.\n\n67\n00:03:51.550 --> 00:03:53.660\nAnd now I can simply manage that server.\n\n68\n00:03:53.660 --> 00:03:55.950\nYou can right click on\nthat remote server and\n\n69\n00:03:55.950 --> 00:03:59.090\nyou can choose from the menu\nof what you wanted to do.\n\n70\n00:03:59.090 --> 00:04:03.670\nBut again, we typically don't sit at\na server operating system, right?\n\n71\n00:04:03.670 --> 00:04:08.400\nAnd before we get into the remote\npart of this, let me just explain,\n\n72\n00:04:08.400 --> 00:04:13.010\nwith the server operating system again,\nServer Manager is installed.\n\n73\n00:04:13.010 --> 00:04:16.870\nAnything that's running on that server,\nyou most likely added the console, so\n\n74\n00:04:16.870 --> 00:04:18.460\nit's going to be installed as well.\n\n75\n00:04:18.460 --> 00:04:23.460\nBut what if I was at one server and\nthis server was a DHCP server, but\n\n76\n00:04:23.460 --> 00:04:27.210\nwhile I was in there I needed\nto look at Active Directory.\n\n77\n00:04:27.210 --> 00:04:31.450\nWell, I can simply go to those\nsnap-ins and change the focus.\n\n78\n00:04:31.450 --> 00:04:33.330\nIf I open up Active Directory users and\n\n79\n00:04:33.330 --> 00:04:38.830\ncomputers on this server,\nwell it's connected to this local server.\n\n80\n00:04:38.830 --> 00:04:41.130\nRight?\nBut I can always right click, and\n\n81\n00:04:41.130 --> 00:04:43.640\nin this case, change domain controller.\n\n82\n00:04:43.640 --> 00:04:47.810\nSo if you're at a server operating system,\nall those consoles are there.\n\n83\n00:04:47.810 --> 00:04:51.170\nIn other words, let's say I have a 2012\nserver, that's running DHCP, and\n\n84\n00:04:51.170 --> 00:04:53.060\nI've remoted into it.\n\n85\n00:04:53.060 --> 00:04:57.830\nAnd I'm managing DHCP and I see\na problem and I wanna go check on DNS.\n\n86\n00:04:57.830 --> 00:05:01.560\nWell that server's not running DNS so\nthat console's not gonna be there.\n\n87\n00:05:01.560 --> 00:05:06.200\nAll I have do to is go to Add remote roles\nand features, walk through the Wizard, and\n\n88\n00:05:06.200 --> 00:05:07.590\nadd the DNS console.\n\n89\n00:05:07.590 --> 00:05:11.650\nEven though that server's not running\nDNS the console's available because\n\n90\n00:05:11.650 --> 00:05:13.560\nit's a server operating system.\n\n91\n00:05:13.560 --> 00:05:17.620\nI add the DNS console, and then I simply\nright-click up there at the top on DNS for\n\n92\n00:05:17.620 --> 00:05:20.940\nexample and\npoint it to the remote DNS server.\n\n93\n00:05:20.940 --> 00:05:24.930\nSo if your dealing with server operating\nsystems, the tools are already there.\n\n94\n00:05:24.930 --> 00:05:27.840\nIf you're running that service,\nthe console will be installed.\n\n95\n00:05:27.840 --> 00:05:31.560\nIf you're not running that service, then\nyou add through Add roles and features.\n\n96\n00:05:31.560 --> 00:05:34.580\nYou add the console and\nthen you point it to that remote server.\n\n97\n00:05:34.580 --> 00:05:37.130\nAnd so, if you're doing server operating\nsystem, pretty straightforward,\n\n98\n00:05:37.130 --> 00:05:38.690\nyou really don't have to do much, Ronnie.\n\n99\n00:05:38.690 --> 00:05:41.660\n>> Yeah, it seemed like a great idea,\nespecially when you do have multiple\n\n100\n00:05:41.660 --> 00:05:43.280\nservers and\nyou need to be able to manage them.\n\n101\n00:05:43.280 --> 00:05:44.620\nIf you're already on that server,\n\n102\n00:05:44.620 --> 00:05:48.140\nyou can just connect to that server,\nregardless of where it is,\n\n103\n00:05:48.140 --> 00:05:51.870\nas long as it's part of your network, and\nbe able to manage it directly from there.\n\n104\n00:05:51.870 --> 00:05:55.320\nAnd we're using things like remote\ndesktop, it's a easy way to do it, and\n\n105\n00:05:55.320 --> 00:05:57.390\nlike we said, we use it all the time.\n\n106\n00:05:57.390 --> 00:05:58.020\nBut what can happen?\n\n107\n00:05:58.020 --> 00:06:01.730\nLet's say that you have five, six, seven,\nlet's say you have ten different servers\n\n108\n00:06:01.730 --> 00:06:05.340\nand you're now actually managing each\none of them through remote desktop.\n\n109\n00:06:05.340 --> 00:06:06.350\nYou can do that.\n\n110\n00:06:06.350 --> 00:06:08.830\nBut what if you really need to make\na change only on one of them and\n\n111\n00:06:08.830 --> 00:06:12.440\nyou accidentally hit the wrong one of\nthose little windows opening up, and\n\n112\n00:06:12.440 --> 00:06:13.854\noh no, I've got to change that back.\n\n113\n00:06:13.854 --> 00:06:17.370\nWell, this way you can keep track of\neach one because it actually does end up\n\n114\n00:06:17.370 --> 00:06:21.160\nlisting the node and that way you\nknow specifically you're selected on.\n\n115\n00:06:21.160 --> 00:06:24.400\nSo this is probably a more\nefficient way to manage.\n\n116\n00:06:24.400 --> 00:06:27.760\nWhich really does help us out\nto do what we talked about.\n\n117\n00:06:27.760 --> 00:06:31.070\nNow you had also mentioned the idea of\ndelegating a little bit as well and\n\n118\n00:06:31.070 --> 00:06:32.970\nalso getting some information back.\n\n119\n00:06:32.970 --> 00:06:35.000\nWhat's another way that\nwe can also do this?\n\n120\n00:06:35.000 --> 00:06:37.930\n>> Well, you know normally we're\nnot sitting around thinking about\n\n121\n00:06:37.930 --> 00:06:38.680\nthe remote desktop.\n\n122\n00:06:38.680 --> 00:06:42.630\nI don't know about you Ronnie, I've had\nseveral remote desktop sessions opened up\n\n123\n00:06:42.630 --> 00:06:45.280\nand everyone of them has\nthe default background.\n\n124\n00:06:45.280 --> 00:06:48.145\nAnd it's sometimes difficult\nto tell which one you're on,\n\n125\n00:06:48.145 --> 00:06:51.105\nyou can go out and\nget some tools to put the name and\n\n126\n00:06:51.105 --> 00:06:54.835\nIP address of the server on the background\nfor example, that can help a little bit.\n\n127\n00:06:54.835 --> 00:06:59.355\nBut in the end, we typically don't sit\nat a server operating system, right?\n\n128\n00:06:59.355 --> 00:07:03.635\nI'm at my little cubicle,\nI've got my laptop or my desktop here, and\n\n129\n00:07:03.635 --> 00:07:07.045\nI'm running Windows 8.1,\nI'm not running a server operating system.\n\n130\n00:07:07.045 --> 00:07:10.910\nIf I wanna delegate to that DNS admin,\nthe ability to manage DNS,\n\n131\n00:07:10.910 --> 00:07:15.020\nhe's probably not running the server\noperating system on his computer.\n\n132\n00:07:15.020 --> 00:07:18.620\nSo how can they manage,\nhow can I give them access to this?\n\n133\n00:07:18.620 --> 00:07:23.240\nAnd Microsoft makes those available to\ndownload and install on the client.\n\n134\n00:07:23.240 --> 00:07:27.070\nUnlike Server, where everything's already\nthere, and I just have to go through that\n\n135\n00:07:27.070 --> 00:07:31.640\nAdd Roles and Features Wizard and pick\nthe ones I need, on the client operating\n\n136\n00:07:31.640 --> 00:07:34.960\nsystem, they're available, but\nwe have to go get them from Microsoft.\n\n137\n00:07:34.960 --> 00:07:37.700\nYou simply go out to the Internet,\nyou go to Microsoft and\n\n138\n00:07:37.700 --> 00:07:42.630\nyou download what's called RSAT,\nRemote Server Administration Tools.\n\n139\n00:07:42.630 --> 00:07:44.488\nYou can even search for Server Manager and\n\n140\n00:07:44.488 --> 00:07:46.940\nthat's included in those\nRemote Server Admin Tools.\n\n141\n00:07:46.940 --> 00:07:51.230\nDownload it from Microsoft, install it\non your client operating system, and\n\n142\n00:07:51.230 --> 00:07:55.524\nnow you have all the same consoles that\nyou would in a server operating system.\n\n143\n00:07:55.524 --> 00:07:59.777\nVery, very cool, in fact, here,\nlet's take a peek, I've already done\n\n144\n00:07:59.777 --> 00:08:04.250\nthis Because it does take a little while\nto run this, and my machine is locked.\n\n145\n00:08:04.250 --> 00:08:07.140\nLet's go ahead and log back in here.\n\n146\n00:08:07.140 --> 00:08:09.840\nYou download that from Microsoft,\nyou run it.\n\n147\n00:08:09.840 --> 00:08:14.790\nIt doesn't take that long, but\nmore than I wanted to spend on TV here.\n\n148\n00:08:14.790 --> 00:08:16.060\nSo now you can see, I'm on.\n\n149\n00:08:16.060 --> 00:08:18.140\nAnd let's just make sure you guys can see.\n\n150\n00:08:18.140 --> 00:08:20.500\nI'm on a Windows 8.1 machine here.\n\n151\n00:08:20.500 --> 00:08:23.670\nI have downloaded the remote\nserver admin tools.\n\n152\n00:08:23.670 --> 00:08:25.170\nI've installed them.\n\n153\n00:08:25.170 --> 00:08:29.170\nAnd now, I can come over here, and\n\n154\n00:08:29.170 --> 00:08:33.130\nI'll see, and again they have disappeared,\noh there they go.\n\n155\n00:08:33.130 --> 00:08:35.880\nI've been having some issues with 8.1,\nit's great.\n\n156\n00:08:35.880 --> 00:08:37.980\nLook at all of these consoles here.\n\n157\n00:08:37.980 --> 00:08:40.670\nThese are the same ones\nthat I would have on\n\n158\n00:08:40.670 --> 00:08:43.710\na server operating system\nif I chose to install them.\n\n159\n00:08:43.710 --> 00:08:48.412\nSo now, because these guys in fact here,\nlet's launch active directory users and\n\n160\n00:08:48.412 --> 00:08:49.162\ncomputers.\n\n161\n00:08:49.162 --> 00:08:50.276\nWell this is my client, right?\n\n162\n00:08:50.276 --> 00:08:53.797\nHe's not running active directory, how\ncan you launch active directory users and\n\n163\n00:08:53.797 --> 00:08:56.680\ncomputers if you're not\nrunning active directory?\n\n164\n00:08:56.680 --> 00:09:00.920\nSimple, it reaches out across the network,\nit finds a domain controller and\n\n165\n00:09:00.920 --> 00:09:05.680\nit connects, notice that it actually\nsays DC0 1, so I can see all of my OU's,\n\n166\n00:09:05.680 --> 00:09:07.980\nI can work with it from right here.\n\n167\n00:09:07.980 --> 00:09:10.930\nSame thing with say something,\nsay I wanted to manage DNS.\n\n168\n00:09:12.190 --> 00:09:15.310\nNow I could obviously pin these\nto my start menu if this was my\n\n169\n00:09:15.310 --> 00:09:17.420\nproduction machine or what have you.\n\n170\n00:09:17.420 --> 00:09:20.680\nI launch DNS, well this client\nis not running DNS, so it says,\n\n171\n00:09:20.680 --> 00:09:23.730\nwell wait a second,\nhow do you want me to launch this console?\n\n172\n00:09:23.730 --> 00:09:25.610\nThe following computer.\n\n173\n00:09:25.610 --> 00:09:32.680\nDC01.lab.net, and there we go.\n\n174\n00:09:32.680 --> 00:09:35.010\nI'm connected to that remote server.\n\n175\n00:09:35.010 --> 00:09:39.120\nAnd that server could be, like here it's\na virtual machine on the same laptop.\n\n176\n00:09:39.120 --> 00:09:41.330\nBut, that server could\nbe in my server closet.\n\n177\n00:09:41.330 --> 00:09:44.113\nThat server could be in\nmy office in Timbuktu.\n\n178\n00:09:44.113 --> 00:09:44.960\nIt doesn't really matter.\n\n179\n00:09:44.960 --> 00:09:49.476\nAs long as I've got network connectivity,\nI can reach out and manage that server.\n\n180\n00:09:49.476 --> 00:09:52.700\nAll right?\n\n181\n00:09:52.700 --> 00:09:56.080\nNow notice on this machine,\nit did install all of those guys.\n\n182\n00:09:56.080 --> 00:09:57.130\nThis was a little different.\n\n183\n00:09:57.130 --> 00:10:00.560\nIf you've worked with remote\nserver admin tools in the past,\n\n184\n00:10:00.560 --> 00:10:04.650\nyou remember that you had to download it,\ninstall it, and then nothing changed.\n\n185\n00:10:04.650 --> 00:10:05.220\n>> Right.\n>> And\n\n186\n00:10:05.220 --> 00:10:08.860\nyou had to go into your\nadd remove programs and\n\n187\n00:10:08.860 --> 00:10:10.410\npick which consoles you wanted to see.\n\n188\n00:10:10.410 --> 00:10:13.570\nMicrosoft figured, hey,\nyou don't need all of the consoles.\n\n189\n00:10:13.570 --> 00:10:17.850\nSo once you install it, go pick which\nones you want, and those will show up.\n\n190\n00:10:17.850 --> 00:10:19.360\nWindows 8.1, that changed a little bit.\n\n191\n00:10:19.360 --> 00:10:22.508\nNow, when you install the remote\nserver admin tools, they're all there.\n\n192\n00:10:22.508 --> 00:10:23.016\n>> [LAUGH].\n>> All right?\n\n193\n00:10:23.016 --> 00:10:25.100\nNow if you didn't want some of these,\n\n194\n00:10:25.100 --> 00:10:28.510\nwe could go into Programs and\n\n195\n00:10:28.510 --> 00:10:32.832\nfeatures, and\nwe could uncheck some of those, right?\n\n196\n00:10:32.832 --> 00:10:37.570\nSo maybe I'm setting this laptop up for\nthat DNS admin, I don't want him seeing\n\n197\n00:10:37.570 --> 00:10:40.870\nall those other consoles he doesn't have\npermission to connect to them anyway.\n\n198\n00:10:40.870 --> 00:10:45.198\nI can simply come in here,\nturn Windows features on or off.\n\n199\n00:10:45.198 --> 00:10:48.127\nAnd I'll find my remote\nserver admin tools, and\n\n200\n00:10:48.127 --> 00:10:53.200\nI can come in here to roll administration,\nand I can start unchecking some of those,\n\n201\n00:10:53.200 --> 00:10:56.076\nso they wouldn't be\navailable on that screen.\n\n202\n00:10:56.076 --> 00:10:58.867\nAll right, again that doesn't mean doesn't\nreally, they can always come back and\n\n203\n00:10:58.867 --> 00:11:00.610\nadd them,\nI suppose if they were an administrator.\n\n204\n00:11:00.610 --> 00:11:02.890\nBut just to tidy things up and\nmake it neater for\n\n205\n00:11:02.890 --> 00:11:07.090\nthe user, you could limit which\nconsoles were actually available there.\n\n206\n00:11:07.090 --> 00:11:10.410\nSo that's one way to do remote\nmanagement is to simply\n\n207\n00:11:10.410 --> 00:11:14.610\nadd the consoles to your client\noperating system and all those snap-ins,\n\n208\n00:11:14.610 --> 00:11:19.370\nall those consoles, you can change\nthe focus is the way Microsoft puts it.\n\n209\n00:11:19.370 --> 00:11:23.830\nAnd so, I can point it to one DNS\nserver or another, or a DHCP server or\n\n210\n00:11:23.830 --> 00:11:26.810\nwhatever the case may be.\n\n211\n00:11:26.810 --> 00:11:30.570\nSo, that's nice but really,\nthe other thing that gets installed,\n\n212\n00:11:30.570 --> 00:11:33.770\nbesides all those individual\nconsoles is server manager.\n\n213\n00:11:33.770 --> 00:11:35.470\nAgain, I'm on a client operating system.\n\n214\n00:11:35.470 --> 00:11:40.670\nThis is not a server operating system,\nyet here's server manager, all right?\n\n215\n00:11:40.670 --> 00:11:44.700\nAll I have to do,\nI can come over here to all servers, and\n\n216\n00:11:44.700 --> 00:11:46.790\nI won't have any just yet.\n\n217\n00:11:46.790 --> 00:11:50.510\nAll I do is right click here,\nand choose add server, and\n\n218\n00:11:50.510 --> 00:11:53.420\nI can start adding the servers\nthat I want to manage.\n\n219\n00:11:53.420 --> 00:11:57.580\nFor example, let's say,\nI want to get that DC01.\n\n220\n00:11:57.580 --> 00:11:58.350\nI search for it.\n\n221\n00:11:58.350 --> 00:11:59.690\nI find it.\n\n222\n00:11:59.690 --> 00:12:02.210\nI add him to my list.\n\n223\n00:12:02.210 --> 00:12:03.440\nAnd I could add several.\n\n224\n00:12:03.440 --> 00:12:04.540\nI could search again.\n\n225\n00:12:04.540 --> 00:12:05.340\nFind more.\n\n226\n00:12:05.340 --> 00:12:06.420\nAdd them all.\n\n227\n00:12:06.420 --> 00:12:11.130\nClick OK, and\nnow I'm gonna have DC01 listed right here\n\n228\n00:12:11.130 --> 00:12:15.110\nin server manager on my\nclient operating system.\n\n229\n00:12:15.110 --> 00:12:15.820\nAll right.\n\n230\n00:12:15.820 --> 00:12:19.480\nNow there are a few things, Ronny,\nthat we have to do, to make this work.\n\n231\n00:12:19.480 --> 00:12:23.080\nNotice this worked right away,\n2012 R2 makes it really simple.\n\n232\n00:12:23.080 --> 00:12:25.190\nIf it's in a domain environment, and\n\n233\n00:12:25.190 --> 00:12:29.010\nyou're on a domain profile and\nthere's a firewall set for\n\n234\n00:12:29.010 --> 00:12:32.740\ndomain profile which it should be,\nthen the exceptions are already made.\n\n235\n00:12:32.740 --> 00:12:34.999\nBut I do wanna show you\nhow you need to do that,\n\n236\n00:12:34.999 --> 00:12:38.286\nin case because I have seen where\nsometimes they don't get made.\n\n237\n00:12:38.286 --> 00:12:39.652\n>> [LAUGH].\n>> Or somebody or\n\n238\n00:12:39.652 --> 00:12:44.469\nsome other administrator possibly has\nundone does changes that were made,\n\n239\n00:12:44.469 --> 00:12:47.070\nand so all of sudden you can't connect.\n\n240\n00:12:47.070 --> 00:12:49.130\nThere's a couple of things that we can do.\n\n241\n00:12:51.260 --> 00:12:56.237\nLet me flip back over to\nmy domain controller here.\n\n242\n00:12:56.237 --> 00:12:58.199\nSo this is DC1.\n\n243\n00:12:58.199 --> 00:13:00.079\nThis is that domain controller.\n\n244\n00:13:00.079 --> 00:13:05.890\nAnd what I would wanna do, in order\nto do remote management, we're using\n\n245\n00:13:05.890 --> 00:13:12.600\nwhat's called the Windows Remote\nManagement Protocol, WinRM for short.\n\n246\n00:13:12.600 --> 00:13:17.360\nAnd we have a command that we can\nuse to make sure that's enabled, and\n\n247\n00:13:17.360 --> 00:13:19.380\nmake those firewall exceptions for us.\n\n248\n00:13:19.380 --> 00:13:23.320\nIt's simply when RM,\nswitch, or not switch,\n\n249\n00:13:23.320 --> 00:13:27.835\nquick config and\nyou can do a QC as a shortcut to that.\n\n250\n00:13:27.835 --> 00:13:29.625\nNow it's already done on this machine.\n\n251\n00:13:29.625 --> 00:13:32.325\nIt won't hurt anything to run it again.\n\n252\n00:13:32.325 --> 00:13:33.755\nSo I hit that quick config,\n\n253\n00:13:33.755 --> 00:13:38.165\nand you can see the WinRM service is\nalready running on this machine, and\n\n254\n00:13:38.165 --> 00:13:42.155\nthe WinRM is already set up for\nremote management on this computer.\n\n255\n00:13:42.155 --> 00:13:45.370\nSo what it's gonna do there, it's\ngonna start up that WinRM service, and\n\n256\n00:13:45.370 --> 00:13:47.770\nit's gonna set it to start automatically.\n\n257\n00:13:47.770 --> 00:13:51.490\nThat way if the server reboots,\nthat server's just gonna kick in.\n\n258\n00:13:51.490 --> 00:13:55.390\nIt's also gonna create listeners,\nso that it can listen for\n\n259\n00:13:55.390 --> 00:13:58.380\nthose incoming remote management requests.\n\n260\n00:13:58.380 --> 00:14:01.480\nAnd it's supposed to create\nthe exceptions and the firewall.\n\n261\n00:14:01.480 --> 00:14:05.160\nNow, I will tell you in a real world\nexperience, there are times when I have\n\n262\n00:14:05.160 --> 00:14:08.630\nrun this command and it does set\nthe service to start automatically.\n\n263\n00:14:08.630 --> 00:14:11.740\nIt does set up the listeners.\n\n264\n00:14:11.740 --> 00:14:15.410\nIt does not, however, create the filewall\nexceptions, so it's one of those things\n\n265\n00:14:15.410 --> 00:14:18.830\nthat you're gonna have to double\ncheck after the fact, all right.\n\n266\n00:14:18.830 --> 00:14:23.220\nSo in this case with Windows 2012,\nthough, I'm good to go.\n\n267\n00:14:23.220 --> 00:14:26.660\nLet's take a peek now from\nback over from the client.\n\n268\n00:14:26.660 --> 00:14:30.610\nNow that I've got my server\nadded to Server Manager,\n\n269\n00:14:30.610 --> 00:14:32.080\nI can do whatever I need to do.\n\n270\n00:14:32.080 --> 00:14:34.400\nI can, you notice I can see DHCP again.\n\n271\n00:14:34.400 --> 00:14:36.280\nMy client's not running DHCP.\n\n272\n00:14:36.280 --> 00:14:38.650\nThat's being run on that\ndomain controller over there.\n\n273\n00:14:38.650 --> 00:14:43.220\nBut I can see it and I can check\nmy event logs as far as DHCP goes.\n\n274\n00:14:43.220 --> 00:14:45.250\nI can look and\nmake sure that this service is running.\n\n275\n00:14:45.250 --> 00:14:46.950\nAnd I can, it's not just looking.\n\n276\n00:14:46.950 --> 00:14:47.880\nI can manage it from here.\n\n277\n00:14:47.880 --> 00:14:49.410\nNotice that I right click on it,\n\n278\n00:14:49.410 --> 00:14:53.550\nI can restart that DHCP service\nif it was having a problem.\n\n279\n00:14:53.550 --> 00:14:55.523\nI don't have to remote\ndesktop in to this server.\n\n280\n00:14:55.523 --> 00:14:59.648\nAll I had to do is pull up Server Manager,\ngo over here to DHCP, and\n\n281\n00:14:59.648 --> 00:15:01.154\nrestart that service.\n\n282\n00:15:01.154 --> 00:15:04.373\nAnd if my job is to manage 10,\n15, 100 servers,\n\n283\n00:15:04.373 --> 00:15:07.470\nI don't want to have to remote\nin to each one of those.\n\n284\n00:15:07.470 --> 00:15:09.850\nI want to manage it from right here,\nnice and easy.\n\n285\n00:15:09.850 --> 00:15:13.130\n>> This does seem like a great way to be\nable to manage those multiple servers.\n\n286\n00:15:13.130 --> 00:15:16.979\nAnd with that WinRM, we've got to remember\nthe firewall exceptions that Mike\n\n287\n00:15:16.979 --> 00:15:18.495\nwas talking about right here,\n\n288\n00:15:18.495 --> 00:15:22.241\nreally come down to dealing with ports\nthat need to be open on that firewall.\n\n289\n00:15:22.241 --> 00:15:26.431\nSo even though the earlier\nedition of WinRM,\n\n290\n00:15:26.431 --> 00:15:31.283\nthe version 1.1,\nreally operated on port 80,\n\n291\n00:15:31.283 --> 00:15:35.600\nthe new version 2.0 operates on 5985.\n\n292\n00:15:35.600 --> 00:15:39.237\nAnd that's what you also want to remember\nas well is that when you get in there and\n\n293\n00:15:39.237 --> 00:15:42.880\nit's not sending you the information\nthat you're expecting to see, check and\n\n294\n00:15:42.880 --> 00:15:45.622\nmake verify that those firewall\nrules have been opened up.\n\n295\n00:15:45.622 --> 00:15:49.756\nEven though you ran it and it should do\nit, it doesn't hurt for us to verify and\n\n296\n00:15:49.756 --> 00:15:52.818\nmake sure that it's actually\ndoing what we want it to do.\n\n297\n00:15:52.818 --> 00:15:56.886\nSo it's a great way for us to be able to\nknow that everything is actually up and\n\n298\n00:15:56.886 --> 00:15:58.740\noperating the way that we need to.\n\n299\n00:15:58.740 --> 00:16:02.705\nSo with WinRM installed, and we've\ntalked about RSAT and also, of course,\n\n300\n00:16:02.705 --> 00:16:04.060\nthe server manager.\n\n301\n00:16:04.060 --> 00:16:05.530\nAnd we see it's nice, right?\n\n302\n00:16:05.530 --> 00:16:08.350\nWe don't now have to actually\nopen up remote desktop for\n\n303\n00:16:08.350 --> 00:16:13.620\nthat delegated administration for\nthat person, just to get in there now.\n\n304\n00:16:13.620 --> 00:16:17.690\nAll we have to do is build install RSAT\nand then just allow them to have access to\n\n305\n00:16:17.690 --> 00:16:20.720\nthe tools that they need to be\nable to manage that as well.\n\n306\n00:16:20.720 --> 00:16:21.860\n>> Absolutely.\n\n307\n00:16:21.860 --> 00:16:26.430\nNow a couple other things we want\nto point out here, PowerShell.\n\n308\n00:16:26.430 --> 00:16:29.230\nPowerShell is the new way\nto manage your servers,\n\n309\n00:16:29.230 --> 00:16:31.620\nespecially if you're\ntrying to automate things.\n\n310\n00:16:31.620 --> 00:16:34.750\nYou know, have scripts that you use for\nyour management tasks,\n\n311\n00:16:34.750 --> 00:16:36.840\nyour day to day management type stuff.\n\n312\n00:16:36.840 --> 00:16:38.660\nYou're gonna need access to PowerShell.\n\n313\n00:16:38.660 --> 00:16:42.940\nAgain I don't want to have to remote in\nto that machine and launch PowerShell.\n\n314\n00:16:42.940 --> 00:16:46.516\nI'd love to be able to do from right\nhere on my Windows 8.1 client.\n\n315\n00:16:46.516 --> 00:16:48.770\nAnd there's a couple\nof ways I can do that.\n\n316\n00:16:48.770 --> 00:16:51.590\nI can just simply\nright-click on the server\n\n317\n00:16:51.590 --> 00:16:53.310\nonce I've added it to server manager.\n\n318\n00:16:53.310 --> 00:16:54.890\nAnd I'll go back up to all servers here.\n\n319\n00:16:54.890 --> 00:16:57.500\nI'll just right-click on that server.\n\n320\n00:16:57.500 --> 00:17:01.510\nAnd here you can see I can launch\nthe consoles from right here.\n\n321\n00:17:01.510 --> 00:17:04.700\nI can also launch Windows PowerShell.\n\n322\n00:17:06.060 --> 00:17:09.110\nAnd what it should do is\nopen up a PS session.\n\n323\n00:17:09.110 --> 00:17:10.100\nWe could do that manually.\n\n324\n00:17:10.100 --> 00:17:11.470\nI could go down to,\n\n325\n00:17:11.470 --> 00:17:15.470\nI could launch PowerShell locally\non my Windows 8.1 client.\n\n326\n00:17:15.470 --> 00:17:19.910\nAnd I could do enter dash PS session and\nthen dash computer name and\n\n327\n00:17:19.910 --> 00:17:22.940\nthe name of the computer right and\nI can connect to it remotely that way, but\n\n328\n00:17:22.940 --> 00:17:24.690\nI'd have to do that every time.\n\n329\n00:17:24.690 --> 00:17:28.280\nNow that I've added a server\nmanager anytime I need PowerShell\n\n330\n00:17:28.280 --> 00:17:33.170\nall I have to do is right click on\nthat server and choose PowerShell.\n\n331\n00:17:33.170 --> 00:17:34.750\nAnd notice up here I'm connected DC01.\n\n332\n00:17:34.750 --> 00:17:39.070\nSo same results right,\nif I open up a power shell locally and\n\n333\n00:17:39.070 --> 00:17:43.500\ndid an enter PS session, or\nif I right click it in server manager, and\n\n334\n00:17:43.500 --> 00:17:46.300\nchoose launch PowerShell,\nit gives me that remote session.\n\n335\n00:17:46.300 --> 00:17:53.770\nSo, now I can run my commands from here,\nfrom my Windows 8.1 box.\n\n336\n00:17:53.770 --> 00:17:57.820\nAnd I can work with,\nlike in this case the services.\n\n337\n00:17:57.820 --> 00:18:00.640\nWhatever it is,\nif I had a script I wanted to run,\n\n338\n00:18:00.640 --> 00:18:04.900\nbecause the focus is being\npointed at that remote machine.\n\n339\n00:18:04.900 --> 00:18:06.720\nSo it makes it very, very easy.\n\n340\n00:18:06.720 --> 00:18:11.460\nAnd if it's something that you\ncan't do through PowerShell, And\n\n341\n00:18:11.460 --> 00:18:13.970\nyou can't do through one\nof the built-in consoles.\n\n342\n00:18:13.970 --> 00:18:15.340\nYou still can Remote Desktop.\n\n343\n00:18:15.340 --> 00:18:18.400\nIn fact,\nI can Remote Desktop from right here.\n\n344\n00:18:18.400 --> 00:18:21.130\nSo I can go ahead and fire up\nRemote Desktop, and it'll reach out and\n\n345\n00:18:21.130 --> 00:18:21.880\nconnect to DC1.\n\n346\n00:18:21.880 --> 00:18:24.540\nAnd now I'll be on its desktop.\n\n347\n00:18:24.540 --> 00:18:29.090\nSo, it just makes it very, very easy, and\nagain, multiply this by not one server.\n\n348\n00:18:29.090 --> 00:18:31.870\nRight?\nMultiply this by 10 or a 100, and\n\n349\n00:18:31.870 --> 00:18:35.950\nyou start to see the power of putting\nthe remote server admin tools\n\n350\n00:18:35.950 --> 00:18:36.910\non your Windows 8.1 client.\n\n351\n00:18:36.910 --> 00:18:38.950\n>> A lot of times, when you're doing this,\n\n352\n00:18:38.950 --> 00:18:42.630\nright, you might think, well the path\nof least resistance is simply that.\n\n353\n00:18:42.630 --> 00:18:46.070\nRemote desktop, I know it works,\nit'll be easy, but\n\n354\n00:18:46.070 --> 00:18:48.270\naround once you start doing\nstuff like that, right?\n\n355\n00:18:48.270 --> 00:18:52.780\nThat delegated administrator now has\naccess to the entire machine, and\n\n356\n00:18:52.780 --> 00:18:55.570\nnot just what you're\nactually asking them to do.\n\n357\n00:18:55.570 --> 00:18:57.560\nSo by using these remote management tools,\n\n358\n00:18:57.560 --> 00:19:00.730\nby limiting them to the server manager\nin the way that we want them to.\n\n359\n00:19:00.730 --> 00:19:04.200\nThat is going to be the key for\nus in doing that\n\n360\n00:19:04.200 --> 00:19:07.850\nremote server management which is\nreally critical in this day and age.\n\n361\n00:19:07.850 --> 00:19:11.160\nNot only because we don't want\nthem to mess anything up, just for\n\n362\n00:19:11.160 --> 00:19:13.760\nsecurity reasons more\nthan anything else too.\n\n363\n00:19:13.760 --> 00:19:16.913\nIt's an additional layer of security\nthat we can say we're only giving them\n\n364\n00:19:16.913 --> 00:19:18.144\nthe focus that they need, and\n\n365\n00:19:18.144 --> 00:19:20.231\nnot everything else that\nwe also have available.\n\n366\n00:19:20.231 --> 00:19:24.040\nSo, also if you think about even\nsomething like PowerShell, right?\n\n367\n00:19:24.040 --> 00:19:27.020\nMost users probably are not going to\nbe super confident at doing that.\n\n368\n00:19:27.020 --> 00:19:29.980\nSo this also allows you to\nkind of limit what they're\n\n369\n00:19:29.980 --> 00:19:31.610\nlush they end up doing as well.\n\n370\n00:19:31.610 --> 00:19:35.270\nBy just saying alright here's what you\nhave access to, here's the scripts that\n\n371\n00:19:35.270 --> 00:19:38.140\nyou'll run, and so that way they're\nnot playing around too much.\n\n372\n00:19:38.140 --> 00:19:41.570\nBut if you're actually only accessing or\nletting them use this idea too.\n\n373\n00:19:41.570 --> 00:19:43.490\nSo, It really is helpful.\n\n374\n00:19:43.490 --> 00:19:44.940\nAnd doing that server,\n\n375\n00:19:44.940 --> 00:19:48.570\nthat remote server management,\nit is considered a best practice.\n\n376\n00:19:48.570 --> 00:19:51.720\nWe don't want to send somebody into\nthe server closet where they not only\n\n377\n00:19:51.720 --> 00:19:56.600\nhave access to that one server, but they\nhave access to every server at that point.\n\n378\n00:19:56.600 --> 00:19:58.720\nSo what we want to do it actually try and\npush this off and\n\n379\n00:19:58.720 --> 00:20:00.850\nactually understand how\nto set this up as well.\n\n380\n00:20:00.850 --> 00:20:02.500\n>> Now Ronnie,\nan error popped up on me here.\n\n381\n00:20:02.500 --> 00:20:03.130\n>> Oh yes.\n\n382\n00:20:03.130 --> 00:20:06.640\n>> I wanted to leave that up while you\nwere talking, just so I can point this out\n\n383\n00:20:06.640 --> 00:20:09.880\nYou know, one of the things that you\nhave to keep in mind is, when you set up\n\n384\n00:20:09.880 --> 00:20:13.510\nthis remote management, you still have to\nenable everything on the other end, right?\n\n385\n00:20:13.510 --> 00:20:17.990\nWe talked about doing WinRM Quickconfig,\nwhich opens up those ports and\n\n386\n00:20:17.990 --> 00:20:19.400\ncreates those listeners.\n\n387\n00:20:19.400 --> 00:20:21.620\nWhile here,\nI tried to do remote desktop, but\n\n388\n00:20:21.620 --> 00:20:24.920\nI never went to DC1 and\nenabled remote desktop.\n\n389\n00:20:24.920 --> 00:20:26.880\nSo just because the option's there,\n\n390\n00:20:26.880 --> 00:20:28.780\nyou still have to do all your\nnormal configuration, right?\n\n391\n00:20:28.780 --> 00:20:30.410\nI need to open up port 3389,\n\n392\n00:20:30.410 --> 00:20:34.440\nI need to make sure I'm in\nthe remote desktop user's group.\n\n393\n00:20:34.440 --> 00:20:36.920\nSo this doesn't bypass any of that.\n\n394\n00:20:36.920 --> 00:20:39.970\nSo again like Ronnie was saying\nprinciple of least privilege,\n\n395\n00:20:39.970 --> 00:20:41.660\nyou know limiting what they can do.\n\n396\n00:20:41.660 --> 00:20:45.420\nIf I did delegate this to somebody, they\ncouldn't just go in here and choose remote\n\n397\n00:20:45.420 --> 00:20:49.960\ndesktop, if it wasn't already configured\nto allow them to remote in to that server.\n\n398\n00:20:49.960 --> 00:20:53.842\nSo this isn't gonna bypass any security or\nanything like that.\n\n399\n00:20:53.842 --> 00:20:57.640\nThe PowerShell thing also I wanted\nto mention because in 2012 R2,\n\n400\n00:20:57.640 --> 00:20:59.840\nit's already enabled.\n\n401\n00:20:59.840 --> 00:21:02.390\nBut if you're working from,\nmaybe somebody turned that off, right?\n\n402\n00:21:02.390 --> 00:21:03.550\nMaybe somebody did away with it,\n\n403\n00:21:03.550 --> 00:21:08.360\nthought it was a security risk,\nyou do have to enable PS remoting on DC1.\n\n404\n00:21:08.360 --> 00:21:13.300\nThe reason it worked, like when I went\nhere and launched Windows PowerShell.\n\n405\n00:21:13.300 --> 00:21:18.500\nIt works just fine, but that 2012 R2 again\nby default is configured to allow that.\n\n406\n00:21:18.500 --> 00:21:24.540\nSo if it wasn't, or I wanted to\ncheck it I would come over here and\n\n407\n00:21:24.540 --> 00:21:28.409\nenable -PS remoting.\n\n408\n00:21:30.410 --> 00:21:33.100\nAnd that basically does\nsomething very similar to WinRM.\n\n409\n00:21:34.130 --> 00:21:36.390\nIt's gonna launch that\nWindows Remote Manage service,\n\n410\n00:21:36.390 --> 00:21:40.860\nit's gonna make it start up automatically,\nit's gonna open up my ports for that.\n\n411\n00:21:40.860 --> 00:21:45.240\nBut it's also gonna gonna register\nthe PowerShell console, or\n\n412\n00:21:45.240 --> 00:21:50.160\nthe shell and all of the commands as well,\nto make those trusted and\n\n413\n00:21:50.160 --> 00:21:51.460\nallow those to go across as well.\n\n414\n00:21:51.460 --> 00:21:54.310\nSo you hit y, yes for all,\nagain, it's already enabled,\n\n415\n00:21:54.310 --> 00:21:55.630\nbut I'll go ahead and do it again.\n\n416\n00:21:55.630 --> 00:21:56.580\nIt's not gonna hurt anything.\n\n417\n00:21:56.580 --> 00:22:00.750\nAnd the reason I wanna mention this,\nI could have done this and\n\n418\n00:22:00.750 --> 00:22:02.150\nnot done the WinRM quickconfig.\n\n419\n00:22:03.590 --> 00:22:08.690\nThis is gonna do everything that\nWinRM quickconfig does plus some.\n\n420\n00:22:08.690 --> 00:22:10.140\nAnd it's a recommended practice.\n\n421\n00:22:10.140 --> 00:22:13.753\nBecause Microsoft Loves their PowerShell.\n\n422\n00:22:13.753 --> 00:22:15.520\n[LAUGH] Yeah.\n\n423\n00:22:15.520 --> 00:22:18.190\nIt is the way they want\nyou manage servers now.\n\n424\n00:22:18.190 --> 00:22:22.570\nThey're going to tell you that it's\nis recommended to do the WinRM,\n\n425\n00:22:22.570 --> 00:22:25.620\nas well the enable the ps remoting there.\n\n426\n00:22:25.620 --> 00:22:29.130\nAnd you can see,\nI could say [A] for yes to all, or\n\n427\n00:22:29.130 --> 00:22:31.670\nI just show you the Prompts\nto show you what it's doing.\n\n428\n00:22:31.670 --> 00:22:33.170\nWinRM is already setup.\n\n429\n00:22:33.170 --> 00:22:35.430\nWinRM is setup for remote management.\n\n430\n00:22:35.430 --> 00:22:40.150\nDown here performing an operation\nsetPSSessionConfiguration on target.\n\n431\n00:22:40.150 --> 00:22:46.860\nSo it's enabling that PowerShell\nsecurity descriptor language, that SDDL.\n\n432\n00:22:47.880 --> 00:22:50.359\nMicrosoft PowerShell\nworkflow is being enabled.\n\n433\n00:22:51.580 --> 00:22:52.945\nAnd I'll just go through here for you.\n\n434\n00:22:52.945 --> 00:22:57.090\nAgain, this is just making sure\neverything is registered properly.\n\n435\n00:22:57.090 --> 00:23:02.010\nThis also does the, if you're on a 64\nbit system, it also registers the 32 bit\n\n436\n00:23:02.010 --> 00:23:07.130\nversion of both of those, the PowerShell\nand the PowerShell Work Flow.\n\n437\n00:23:07.130 --> 00:23:11.490\nJust in case you're trying to\nremote manage from a 32 bit system.\n\n438\n00:23:11.490 --> 00:23:14.910\nAlright, again I could have hit A for\nyes to all to make that easier.\n\n439\n00:23:14.910 --> 00:23:17.190\nI just wanted to show you all\nthe different options there.\n\n440\n00:23:17.190 --> 00:23:19.240\nAnd it was already enabled.\n\n441\n00:23:19.240 --> 00:23:20.730\nBut is something that\nyou need to be aware of.\n\n442\n00:23:20.730 --> 00:23:24.620\nBecause if you're managing a server again\nthat maybe somebody's disabled that for\n\n443\n00:23:24.620 --> 00:23:25.160\nsome reason.\n\n444\n00:23:25.160 --> 00:23:26.910\nAnd all of a sudden you can't remote in,\nor\n\n445\n00:23:26.910 --> 00:23:29.060\nyou can't do a remote PowerShell session.\n\n446\n00:23:29.060 --> 00:23:32.350\nYou need to know how to enable\nthat on that remote machine.\n\n447\n00:23:32.350 --> 00:23:36.010\nIf you're doing a down level server which\nwe're gonna talk about another episode.\n\n448\n00:23:36.010 --> 00:23:36.980\nYou're going to need to do this,\n\n449\n00:23:36.980 --> 00:23:41.420\nbecause it's not enabled by default on\nsome of those older operating systems.\n\n450\n00:23:41.420 --> 00:23:43.890\nA couple of commands that are important,\nknock on wood, right?\n\n451\n00:23:43.890 --> 00:23:46.110\nKnow those for the exam type thing.\n\n452\n00:23:46.110 --> 00:23:52.070\nEnable dash ps remoting, and\nwin rm quick config to set all this up.\n\n453\n00:23:53.950 --> 00:23:58.070\nAnd Ronnie I think that is,\nlet's see did we hit everything?\n\n454\n00:23:58.070 --> 00:23:59.280\n>> I believe we have.\n\n455\n00:23:59.280 --> 00:23:59.820\n>> We got all this so\n\n456\n00:23:59.820 --> 00:24:04.712\nat this point we have a client machine\nthat I can now remotely manage my servers.\n\n457\n00:24:04.712 --> 00:24:07.805\nI can come in here and\njust keep adding additional servers.\n\n458\n00:24:07.805 --> 00:24:11.505\nSo all the ones I'm responsible for,\nI can list them in there.\n\n459\n00:24:11.505 --> 00:24:14.995\nAnd whatever services those\nparticular servers are running,\n\n460\n00:24:14.995 --> 00:24:17.910\nI can simply right click and\nlaunch that console.\n\n461\n00:24:17.910 --> 00:24:19.510\nI can do remote desktop connection.\n\n462\n00:24:19.510 --> 00:24:21.250\nI can do a PowerShell connection.\n\n463\n00:24:22.380 --> 00:24:23.320\nWhatever I need to do.\n\n464\n00:24:23.320 --> 00:24:24.440\nI can add features.\n\n465\n00:24:24.440 --> 00:24:27.482\nI don't have to remote into\nthe server to install DNS.\n\n466\n00:24:27.482 --> 00:24:30.600\nI can add roles and features.\n\n467\n00:24:30.600 --> 00:24:32.130\nThis is gonna launch the wizard.\n\n468\n00:24:33.750 --> 00:24:36.120\nBut you'll notice,\nas I go through this wizard,\n\n469\n00:24:36.120 --> 00:24:39.790\nlook what server select is not installing\nit on the client that I'm sitting at,\n\n470\n00:24:39.790 --> 00:24:41.530\nit's installing it on that remote machine.\n\n471\n00:24:41.530 --> 00:24:43.830\nSo if I wanted to install, I don't know,\n\n472\n00:24:43.830 --> 00:24:47.020\nWindows Server back-up, because\neverybody loves Windows Server back up.\n\n473\n00:24:49.670 --> 00:24:51.890\nI can do it from right here.\n\n474\n00:24:53.850 --> 00:24:58.660\nSo again, just a great way to manage your\nservers, to have the ability to manage\n\n475\n00:24:58.660 --> 00:25:02.370\nthem from a remote location, and from the\noperating system that I sit at every day.\n\n476\n00:25:02.370 --> 00:25:05.250\nNot having to worry about\nhaving a server installed, and\n\n477\n00:25:05.250 --> 00:25:08.020\nto be able to delegate those tasks out.\n\n478\n00:25:08.020 --> 00:25:09.870\n>> That about does it for our show today.\n\n479\n00:25:09.870 --> 00:25:10.570\nThanks for watching.\n\n480\n00:25:10.570 --> 00:25:12.360\nSigning off for IT Pro, I'm Ronnie Wong.\n\n481\n00:25:12.360 --> 00:25:13.540\n>> And I'm Mike Rodrick.\n\n482\n00:25:13.540 --> 00:25:14.789\n>> And we'll see you next time.\n\n483\n00:25:14.789 --> 00:25:19.980\n[MUSIC]\n\n",
          "vimeoId": "136865130"
        },
        {
          "description": "In this episode, Ronnie and Mike discuss managing downlevel servers and servers in non-trusted domains. They demonstrate how to configure them and add them to server manager.",
          "length": "1420",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-6-2-downlevel_and_untrusted_servers-082015-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-6-2-downlevel_and_untrusted_servers-082015-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-6-2-downlevel_and_untrusted_servers-082015-1-sm.jpg",
          "title": "Downlevel & Non-trusted Servers",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.836\n[MUSIC]\n\n2\n00:00:10.836 --> 00:00:15.389\nWelcome to another great episode here\non ITProTV, I'm your host Ronnie Wong.\n\n3\n00:00:15.389 --> 00:00:17.687\nAnd here with the Microsoft\nkung fu master once again.\n\n4\n00:00:17.687 --> 00:00:18.894\n>> [LAUGH]\n>> Michael Rodrick.\n\n5\n00:00:18.894 --> 00:00:19.522\nHow's it going?\n\n6\n00:00:19.522 --> 00:00:21.171\n>> It's going fantastic, Ronnie.\n\n7\n00:00:21.171 --> 00:00:22.076\nHow are you doing today?\n\n8\n00:00:22.076 --> 00:00:26.975\n>> I am doing great and we're continuing\nto take a look at some Windows Server 2012\n\n9\n00:00:26.975 --> 00:00:29.436\nRemote Management is what we're doing.\n\n10\n00:00:29.436 --> 00:00:33.488\nAnd today, we wanna talk about a little\nbit about what happens in a real\n\n11\n00:00:33.488 --> 00:00:38.574\nproduction environment when you not only\nhave Windows Server 2012 in your system,\n\n12\n00:00:38.574 --> 00:00:43.470\nbut what if you actually also have\n2008 machines in your system as well?\n\n13\n00:00:43.470 --> 00:00:45.614\nAnd now you have to actually\nmanage both of them.\n\n14\n00:00:45.614 --> 00:00:47.777\nMike, I don't see another way, except for\n\n15\n00:00:47.777 --> 00:00:49.955\nopening up like remote\ndesktop to each one.\n\n16\n00:00:49.955 --> 00:00:53.996\n>> That's a good choice and\nit would work, you could remote in.\n\n17\n00:00:53.996 --> 00:00:58.719\nBut Microsoft thankfully has given\nus the ability to add these what we\n\n18\n00:00:58.719 --> 00:01:02.140\ncall down level servers\nusing Server Manager, so\n\n19\n00:01:02.140 --> 00:01:07.750\neven though I might have some 2012\nR2 machines primarily on my network.\n\n20\n00:01:07.750 --> 00:01:13.348\nIf I still have that 2008 R2 machine,\nI'm not left using remote desktop.\n\n21\n00:01:13.348 --> 00:01:17.337\nI can actually add those to\nServer Manager and remotely manage them,\n\n22\n00:01:17.337 --> 00:01:20.175\nlike I do my 2012 and 2012 R2 machines.\n\n23\n00:01:20.175 --> 00:01:24.027\nThere are however, a couple of things that\nI'll have to do to make that possible and\n\n24\n00:01:24.027 --> 00:01:27.730\nthose are the things that I wanna show you\ntoday, cuz they will ask you about it.\n\n25\n00:01:27.730 --> 00:01:31.695\nThey could ask you about it on the exam\nand it is one of those things that you\n\n26\n00:01:31.695 --> 00:01:36.442\nwill probably run into in the real world,\nbecause it's not that companies don't go,\n\n27\n00:01:36.442 --> 00:01:41.668\nokay, we've got 200 servers 2012R2 is out\nand let's just upgrade all of them today.\n\n28\n00:01:41.668 --> 00:01:42.760\n>> Be nice, if it would happen.\n\n29\n00:01:42.760 --> 00:01:43.595\nBut yeah-\n>> [LAUGH]\n\n30\n00:01:43.595 --> 00:01:44.617\n>> It doesn't tend to happen that way.\n\n31\n00:01:44.617 --> 00:01:48.303\nSo an environment like that,\nyou have to have a way that's gonna allow\n\n32\n00:01:48.303 --> 00:01:52.176\nyou to be able to manage both those\nsystems even though you wanna go, hey,\n\n33\n00:01:52.176 --> 00:01:54.235\nlet's move everybody over.\n\n34\n00:01:54.235 --> 00:01:56.444\nSometimes, it just doesn't happen\nat the snap of a finger and\n\n35\n00:01:56.444 --> 00:01:58.323\nmay not even happen in a period\nof a couple of months.\n\n36\n00:01:58.323 --> 00:02:00.321\n>> [LAUGH]\n>> It may take a little bit of time before\n\n37\n00:02:00.321 --> 00:02:02.617\neverything rolls out and\ndoes everything that we need it to.\n\n38\n00:02:02.617 --> 00:02:06.732\nBut in the meantime, we need to actually\nunderstand how we can do what we call this\n\n39\n00:02:06.732 --> 00:02:08.377\ndown level server management.\n\n40\n00:02:08.377 --> 00:02:09.259\n>> So let's take a look here.\n\n41\n00:02:09.259 --> 00:02:15.457\nI've got a 2008 R2 machine and this if you\nremember, if you guys remember 2008 R2.\n\n42\n00:02:15.457 --> 00:02:17.223\nThis was server manager back then.\n\n43\n00:02:17.223 --> 00:02:22.331\nI mean, it's gone through a lot\nof changes with 2012 and 2012 R2.\n\n44\n00:02:22.331 --> 00:02:25.813\nBut this guy is a domain member,\nso his name is server1.\n\n45\n00:02:25.813 --> 00:02:31.038\nHe's part of lab.net and what I want\nto show you is how I can add those.\n\n46\n00:02:31.038 --> 00:02:34.321\nSo if you watched our previous\nepisode on remote management,\n\n47\n00:02:34.321 --> 00:02:36.099\nI showed you how to install RSAT.\n\n48\n00:02:36.099 --> 00:02:40.580\nOn your client operating system,\nget access to server manager and\n\n49\n00:02:40.580 --> 00:02:42.509\nthen I could add my servers.\n\n50\n00:02:42.509 --> 00:02:49.103\nAnd right now,\nI should have DC1 listed in there.\n\n51\n00:02:49.103 --> 00:02:52.074\nAnd that's my domain controller,\nit's running 2012 R2.\n\n52\n00:02:52.074 --> 00:02:56.956\nWell, now I've been told that I'm\nresponsible for managing server1,\n\n53\n00:02:56.956 --> 00:02:59.643\nbut server one is running 2008 R2.\n\n54\n00:02:59.643 --> 00:03:01.218\nSo what's gonna happen,\nI'm gonna come over here.\n\n55\n00:03:01.218 --> 00:03:05.110\nAnd I'm gonna click Add Servers\njust like normal and\n\n56\n00:03:05.110 --> 00:03:09.368\nI'm gonna see if I can find svr01 and\nit shows up great.\n\n57\n00:03:09.368 --> 00:03:11.759\nI can see it right there,\n2008 R2 Enterprise.\n\n58\n00:03:11.759 --> 00:03:15.707\nI'm gonna select it,\nI'm gonna add it and I'm gonna click OK.\n\n59\n00:03:15.707 --> 00:03:17.356\nGreat.\nWell Mike, that was pretty dang easy.\n\n60\n00:03:17.356 --> 00:03:21.675\nWhat's the big deal about\ndown level server management?\n\n61\n00:03:21.675 --> 00:03:22.441\nWell, there we go.\n\n62\n00:03:22.441 --> 00:03:25.738\nYou see the red bar that\npops up across the top here.\n\n63\n00:03:25.738 --> 00:03:27.131\nIt says, it's online.\n\n64\n00:03:27.131 --> 00:03:31.566\nI can see that it showed up in the search,\nso I know it found in in Active Directory.\n\n65\n00:03:31.566 --> 00:03:34.491\nIt's got it's IP address, they can\ntalk to it across across the network.\n\n66\n00:03:34.491 --> 00:03:35.676\nIt says, it's online.\n\n67\n00:03:35.676 --> 00:03:39.691\nVerify WinRM 3.0 services is installed,\nrunning and\n\n68\n00:03:39.691 --> 00:03:41.962\nrequired firewall ports-\n>> [LAUGH]\n\n69\n00:03:41.962 --> 00:03:43.796\n>> Are open.\n\n70\n00:03:43.796 --> 00:03:46.489\nSo remember, with the 2012,\nI didn't have to do anything.\n\n71\n00:03:46.489 --> 00:03:51.056\nI showed you the commands WinRM quick\nconfig and enable dash PS remoting,\n\n72\n00:03:51.056 --> 00:03:53.130\nwe didn't have to do any of that.\n\n73\n00:03:53.130 --> 00:03:57.413\nIt was already all enabled, I just needed\nthose commands in case somebody had turned\n\n74\n00:03:57.413 --> 00:04:00.747\nsomething off or it wasn't\nthe default configuration anymore.\n\n75\n00:04:00.747 --> 00:04:04.717\nBut 2008 R2, it's not enabled by default.\n\n76\n00:04:04.717 --> 00:04:08.938\nSo I'm gonna have to go through a couple\nextra steps in order to be able to use\n\n77\n00:04:08.938 --> 00:04:11.886\nServer Manager to remotely\nmanage those servers and\n\n78\n00:04:11.886 --> 00:04:14.630\nlet's talk about what those are.\n\n79\n00:04:14.630 --> 00:04:17.311\nFirst of all,\n2008 is about as far back as I can go.\n\n80\n00:04:17.311 --> 00:04:25.113\nI can't get back to 2003 as far as\nServer Manager goes 2008 or 2008 R2.\n\n81\n00:04:25.113 --> 00:04:31.939\nIf you have 2008, the first thing we're\ngonna need is we need the .NET Framework.\n\n82\n00:04:31.939 --> 00:04:36.792\nSo the .NET Framework needs\nto be .NET Framework 4.0.\n\n83\n00:04:36.792 --> 00:04:39.740\nSo you've already got that installed,\nyou're good to go.\n\n84\n00:04:39.740 --> 00:04:43.051\nIf you don't,\nyou're gonna have to install that and\n\n85\n00:04:43.051 --> 00:04:45.707\nthe order you do this\nin is also important.\n\n86\n00:04:45.707 --> 00:04:52.097\nSo .NET Framework 4.0,\nwhether it's 2008 or 2008 R2,\n\n87\n00:04:52.097 --> 00:04:58.176\nthen we need the Windows\nmanagement framework version 3.03.\n\n88\n00:04:58.176 --> 00:05:01.431\nIf you're running 2008 not R2, 2008,\n\n89\n00:05:01.431 --> 00:05:04.306\nyou're gonna have to\ndo an extra step here.\n\n90\n00:05:04.306 --> 00:05:07.184\nYou're actually gonna\nhave to install .NET 4.0,\n\n91\n00:05:07.184 --> 00:05:10.947\nthen you're gonna install\nthe Windows Management Framework 2.0.\n\n92\n00:05:10.947 --> 00:05:14.298\nThen you're gonna install\nWindows Management Framework\n\n93\n00:05:14.298 --> 00:05:15.312\n3.0-\n>> Locally.\n\n94\n00:05:15.312 --> 00:05:15.963\n>> And then continue on.\n\n95\n00:05:15.963 --> 00:05:16.463\n>> [LAUGH]\n>> Yeah.\n\n96\n00:05:16.463 --> 00:05:17.717\nRight, Ronnie?\n\n97\n00:05:17.717 --> 00:05:19.692\nIf you're running 2008 R2,\n\n98\n00:05:19.692 --> 00:05:24.300\nyou don't need to do the 2.0 first.\nYou can do .NET Framework 4.0 and\n\n99\n00:05:24.300 --> 00:05:29.698\nthen you can do the Windows Management\nFramework 3.0 and you're good to go, then\n\n100\n00:05:29.698 --> 00:05:34.577\nif you wanna use your performance counter.\nIf I wanna be able to monitor\n\n101\n00:05:34.577 --> 00:05:39.130\nCPU utilization and things like that,\nI also need to install\n\n102\n00:05:39.130 --> 00:05:43.204\nthe knowledge based article.\nWhat is it 258,\n\n103\n00:05:43.204 --> 00:05:44.721\n2011?\nI don't know,\n\n104\n00:05:44.721 --> 00:05:48.240\nif I remember that one right, Ronnie.\n>> I think it's 268, 2011.\n\n105\n00:05:48.240 --> 00:05:48.820\n[LAUGH]\n\n106\n00:05:48.820 --> 00:05:49.679\n>> There we go, I was close.\n\n107\n00:05:49.679 --> 00:05:52.647\n>> [LAUGH] So what was it 268, 2011?\n\n108\n00:05:52.647 --> 00:05:54.180\n>> 268, 2011.\n\n109\n00:05:54.180 --> 00:05:56.055\n>> And we'll put that in the show notes,\n\n110\n00:05:56.055 --> 00:05:59.404\nbut that's just an update you have\nto go out and get from Microsoft.\n\n111\n00:05:59.404 --> 00:06:01.598\nRun that on either one, 2008 or\n\n112\n00:06:01.598 --> 00:06:04.452\n2008 R2 and that'll give you the ability\n\n113\n00:06:04.452 --> 00:06:07.263\nto add those counters.\nNow I'll tell you, that's\n\n114\n00:06:07.263 --> 00:06:10.143\nwhat Microsoft is going to tell you.\nI will tell you that I was able to add\n\n115\n00:06:10.143 --> 00:06:11.408\nperformance counters-\n>> [LAUGH]\n\n116\n00:06:11.408 --> 00:06:14.276\n>> Without that knowledge based article or\n\n117\n00:06:14.276 --> 00:06:18.955\nthat Windows update on 2008 R2.\n2008, I'd probably have to get that.\n\n118\n00:06:18.955 --> 00:06:21.671\n2008 R2, it let me do it without it.\n\n119\n00:06:21.671 --> 00:06:22.879\nSo just something to keep in mind.\n\n120\n00:06:22.879 --> 00:06:23.949\nFor the exam though,\n\n121\n00:06:23.949 --> 00:06:27.340\nknow that you have install that to\nget those performance counters,\n\n122\n00:06:27.340 --> 00:06:30.974\ncuz that's what Microsoft says.\nSo Ronnie, what do you say, should we take\n\n123\n00:06:30.974 --> 00:06:34.397\na look at it, enough talking about it?\n>> Yeah, it sounds like a great idea for\n\n124\n00:06:34.397 --> 00:06:38.015\nus to make sure that we can get this thing\ninstalled and be able to manage in a mixed\n\n125\n00:06:38.015 --> 00:06:40.438\nenvironment there.\nAnd that's what we wanna do, so\n\n126\n00:06:40.438 --> 00:06:42.340\nlets take a look at how to do that.\n\n127\n00:06:42.340 --> 00:06:45.020\n>> So, I've got that 2008 R2 server here.\n\n128\n00:06:45.020 --> 00:06:49.322\nAgain, I haven't done anything to\nthis there was a default install and\n\n129\n00:06:49.322 --> 00:06:52.991\nwe saw the error that I got when\nI tried to add it to my console.\n\n130\n00:06:52.991 --> 00:06:59.283\nSo what I've done is I've already\ndownloaded ahead of time, that .NET 4.0.\n\n131\n00:06:59.283 --> 00:07:05.413\nAnd this right here, this is the\nWindows Management Framework 3.0 again.\n\n132\n00:07:05.413 --> 00:07:08.170\nFree download from Microsoft.\n\n133\n00:07:08.170 --> 00:07:13.155\nSo once I get those installed,\nthen we can go back over and check and\n\n134\n00:07:13.155 --> 00:07:15.389\nsee how our console is doing.\n\n135\n00:07:15.389 --> 00:07:19.103\nSo that might take a minute to install, we\ngotta get that .NET Framework installed.\n\n136\n00:07:19.103 --> 00:07:21.890\nWe've gotta get that\nWindows Management Framework installed.\n\n137\n00:07:21.890 --> 00:07:27.838\nAgain, if you're doing 2008, you're gonna\nneed the Windows Management Framework 2.0,\n\n138\n00:07:27.838 --> 00:07:30.550\nthen Windows Management Framework 3.0.\n\n139\n00:07:30.550 --> 00:07:32.638\nIf your 2008 R2, you can skip\n\n140\n00:07:32.638 --> 00:07:35.288\nthe Windows Management Framework-\n>> [LAUGH]\n\n141\n00:07:35.288 --> 00:07:35.903\n>> 2.0 and\n\n142\n00:07:35.903 --> 00:07:39.049\ngo straight to\nWindows Management Framework 3.0.\n\n143\n00:07:39.049 --> 00:07:43.085\nSo now that I've got those installed,\nlet's switch back over to my client and\n\n144\n00:07:43.085 --> 00:07:45.852\nwe'll refresh and\nsee what kind of goodness we have.\n\n145\n00:07:49.521 --> 00:07:54.147\nSo give that a second and I'm gonna go\nahead and tell you what's gonna happen.\n\n146\n00:07:54.147 --> 00:07:59.870\nNow the error changes, online cannot\nget performance counter data.\n\n147\n00:07:59.870 --> 00:08:04.055\n>> [LAUGH] If I come down here and\nlook at say my events, all right,\n\n148\n00:08:04.055 --> 00:08:08.410\nI am starting to see some\nevents from server one show up.\n\n149\n00:08:08.410 --> 00:08:09.130\nAll right.\n\n150\n00:08:09.130 --> 00:08:11.700\nI can see services over there show up.\n\n151\n00:08:11.700 --> 00:08:13.620\nOne of the things that\nyou might need to do,\n\n152\n00:08:13.620 --> 00:08:17.780\nremember, we still need to\ndo Win RM quick config.\n\n153\n00:08:17.780 --> 00:08:18.390\nRight?\n\n154\n00:08:18.390 --> 00:08:21.500\nAnd again,\n2008 R2 I believe already has that done.\n\n155\n00:08:21.500 --> 00:08:25.100\nThat's why we're seeing\nsome information show up.\n\n156\n00:08:25.100 --> 00:08:29.660\nIf nothing shows up there, if you still\nget the online but WinRM is not available,\n\n157\n00:08:29.660 --> 00:08:33.480\nthat's when you're gonna have to come\nback over to your 2008 R2 machine and\n\n158\n00:08:33.480 --> 00:08:37.530\ndo that same command that we\nsaw in the previous episode.\n\n159\n00:08:37.530 --> 00:08:42.170\nAnd I'll show you one more time,\ncuz it is an important one to know for\n\n160\n00:08:42.170 --> 00:08:46.130\nthe exam, hint, hint,\nand in the real world.\n\n161\n00:08:46.130 --> 00:08:52.230\nWhen RM quick config I'll do the shortcut\nthis time, I'll do the QC for that one.\n\n162\n00:08:52.230 --> 00:08:55.810\nAnd there I can see what RM is already\nrunning and the remote management is\n\n163\n00:08:55.810 --> 00:08:59.060\nalready enabled on this, so that's why\nI am seeing some of that information.\n\n164\n00:08:59.060 --> 00:09:02.840\nAnd so if you had installed .net and\nthe management framework and you're still\n\n165\n00:09:02.840 --> 00:09:07.020\ngetting the error, double check on your\nWindows remote management configuration.\n\n166\n00:09:07.020 --> 00:09:10.700\nYou can also check this through\nthe interface through server manager.\n\n167\n00:09:10.700 --> 00:09:13.060\nIt's still actually showing\nthat it's disabled.\n\n168\n00:09:13.060 --> 00:09:15.540\nI think this needs to be refreshed.\n\n169\n00:09:16.750 --> 00:09:18.580\nDoesn't look like it's showing up.\n\n170\n00:09:18.580 --> 00:09:20.300\nYou can also click this.\n\n171\n00:09:20.300 --> 00:09:22.940\nConfigure server manager\nremote management, and\n\n172\n00:09:22.940 --> 00:09:28.560\nthis would enable those same things and\ngive you that enable PS remoting as well.\n\n173\n00:09:30.770 --> 00:09:31.830\nSo we should be good to go there.\n\n174\n00:09:31.830 --> 00:09:33.659\nAt this point I come\nback over to the client.\n\n175\n00:09:34.860 --> 00:09:39.618\nAnd I don't have that KB article again,\nor the article that KB\n\n176\n00:09:39.618 --> 00:09:40.439\n>> Update.\n\n177\n00:09:40.439 --> 00:09:45.970\n>> Yeah, that Windows update that gives me\nthe performance counter capabilities, so\n\n178\n00:09:45.970 --> 00:09:48.410\nand I didn't download one that\nI don't think I have that on.\n\n179\n00:09:48.410 --> 00:09:48.910\nLet's check.\n\n180\n00:09:50.330 --> 00:09:54.030\nI don't believe I found the or\ndownloaded that on this guy.\n\n181\n00:09:58.840 --> 00:10:00.090\nYeah, I didn't grab that one.\n\n182\n00:10:00.090 --> 00:10:02.830\nSo, good enough though.\n\n183\n00:10:02.830 --> 00:10:07.879\nLike I said, the main thing is I've got\nthis client and so now I've got this\n\n184\n00:10:07.879 --> 00:10:14.030\n2008 R2 machine and I can manage it from\nright here on my Windows 8.1 client.\n\n185\n00:10:14.030 --> 00:10:15.160\nNow, you don't get the same option.\n\n186\n00:10:15.160 --> 00:10:18.670\nRemember when I right-clicked on\nDC 1 earlier in the other episode?\n\n187\n00:10:18.670 --> 00:10:22.730\nI get all of these options, you know,\naccessing the console, remote desktop,\n\n188\n00:10:22.730 --> 00:10:25.770\npower shell,\ncomputer management, etc., etc.\n\n189\n00:10:25.770 --> 00:10:31.500\nWhen I click on this down level server,\nI'm gonan get a shorter menu, right?\n\n190\n00:10:31.500 --> 00:10:32.770\nAgain, it's 2008 r2.\n\n191\n00:10:32.770 --> 00:10:34.513\nIt doesn't have all those cool features.\n\n192\n00:10:34.513 --> 00:10:38.972\nI mean it can run those services, but\nit doesn't have that remote management\n\n193\n00:10:38.972 --> 00:10:42.071\ncapability like we see in 2012 and\n2012 R2.\n\n194\n00:10:42.071 --> 00:10:45.450\nLet's see,\nwhat else do I want to show you.\n\n195\n00:10:45.450 --> 00:10:48.250\nBut, as far as that goes,\neverything is showing up.\n\n196\n00:10:48.250 --> 00:10:51.850\nSo I can come in here and\nI could launch computer management.\n\n197\n00:10:51.850 --> 00:10:53.000\nIn fact, let's try this.\n\n198\n00:10:53.000 --> 00:10:56.420\nI want to show you another thing that\nyou're gonna run into in the real world.\n\n199\n00:10:56.420 --> 00:10:57.560\nIt looks like everything's working,\n\n200\n00:10:57.560 --> 00:11:01.900\nit looks like I'm able to remotely\nmanage the server and I am.\n\n201\n00:11:01.900 --> 00:11:06.665\nIf I take a look at my event viewer on\n\n202\n00:11:06.665 --> 00:11:12.220\nhere, it's actually working.\n\n203\n00:11:12.220 --> 00:11:13.640\nGood deal.\n>> [LAUGH]\n\n204\n00:11:13.640 --> 00:11:16.240\n>> A lot of times that will not work.\n\n205\n00:11:16.240 --> 00:11:18.880\nYou might be able to get into\ncomputer management, but\n\n206\n00:11:18.880 --> 00:11:20.260\nyou can't get into the event viewer.\n\n207\n00:11:20.260 --> 00:11:24.180\nThere's a couple of things you're gonna\nneed to check on those down level servers.\n\n208\n00:11:24.180 --> 00:11:27.620\nI'm gonna flip back over\nto the 2008 R2 machine,\n\n209\n00:11:27.620 --> 00:11:31.140\nand I wanna show you my\nfirewall settings in here.\n\n210\n00:11:33.860 --> 00:11:37.080\nThis snapshot that I went to when I rolled\nthat virtual machine probably already\n\n211\n00:11:37.080 --> 00:11:37.780\nhas these done.\n\n212\n00:11:37.780 --> 00:11:40.830\nSo let me show you what I had\nto do to make all of that work.\n\n213\n00:11:40.830 --> 00:11:43.650\nCuz you might see it,\nit might show up in that console.\n\n214\n00:11:43.650 --> 00:11:45.290\nAnd it looks like it's there and\nyou can manage it.\n\n215\n00:11:45.290 --> 00:11:48.430\nBut when you go to try to launch\ncomputer management, you get an error.\n\n216\n00:11:48.430 --> 00:11:52.210\nAnd it won't let you manage it remotely,\neven though it shows up in the console.\n\n217\n00:11:52.210 --> 00:11:54.040\nYou try to go to that event viewer and\n\n218\n00:11:54.040 --> 00:11:55.630\nyou won't be able to get\naccess to the event log.\n\n219\n00:11:55.630 --> 00:11:59.440\nSo there's a couple of firewall rules\nthat I have to enable in addition\n\n220\n00:11:59.440 --> 00:12:00.850\nto the Win RM quick config.\n\n221\n00:12:00.850 --> 00:12:03.050\nThose ports that enables those listeners.\n\n222\n00:12:03.050 --> 00:12:05.380\nYou need those, but\nyou also have to come in here,\n\n223\n00:12:05.380 --> 00:12:09.860\nenable this one,\ncom plus network access, d com in.\n\n224\n00:12:09.860 --> 00:12:12.940\nNotice I've got that one enabled,\nall right,\n\n225\n00:12:12.940 --> 00:12:17.370\nas well as all of your\nremote event log rules.\n\n226\n00:12:17.370 --> 00:12:19.340\nThere's three of them there,\n\n227\n00:12:19.340 --> 00:12:22.900\nthat deal with remote management\nof the event log system.\n\n228\n00:12:22.900 --> 00:12:25.660\nThose have to be turned on as well,\nin order for\n\n229\n00:12:25.660 --> 00:12:28.210\nthose to work doing\nthat remote management.\n\n230\n00:12:28.210 --> 00:12:29.770\nSo a couple things you got\nto keep in mind there.\n\n231\n00:12:30.790 --> 00:12:32.955\nThere's really,\nit takes a little bit to set that up,\n\n232\n00:12:32.955 --> 00:12:34.896\nto be able to manage\nthose down-level servers.\n\n233\n00:12:34.896 --> 00:12:36.648\nBut, it's worth it, right?\n\n234\n00:12:36.648 --> 00:12:40.772\nI don't want to be able to manage\nthe majority of my servers remotely, but\n\n235\n00:12:40.772 --> 00:12:43.034\nthen still have to go physically over for\n\n236\n00:12:43.034 --> 00:12:47.625\nremote desktop into that 2008 R2 machine\nthat we're keeping around because\n\n237\n00:12:47.625 --> 00:12:52.110\nit has some application and I can't\nupgrade the server or something like that.\n\n238\n00:12:52.110 --> 00:12:55.580\n>> Now we've mentioned all of this\nwith these domain joined servers, and\n\n239\n00:12:55.580 --> 00:12:58.210\nthis is something that we want\nto make sure that we understand.\n\n240\n00:12:58.210 --> 00:13:00.690\nMore than likely you're going to\nsee that in that environment and\n\n241\n00:13:00.690 --> 00:13:04.010\nthat does work because everything\nis set up for it to actually work.\n\n242\n00:13:04.010 --> 00:13:08.920\nBut when it comes down to it, sometimes we\nmay also end up trying to manage servers\n\n243\n00:13:08.920 --> 00:13:12.700\nthat are not trusted or\nthey're not a part of our domain as well.\n\n244\n00:13:12.700 --> 00:13:17.290\nAnd the nice thing is in Windows Server\n2012 R2 it also gives us the ability to do\n\n245\n00:13:17.290 --> 00:13:18.260\nthat as well, right, Mike?\n\n246\n00:13:18.260 --> 00:13:20.390\n>> It does.\nIt's fantastic because like Ronnie was\n\n247\n00:13:20.390 --> 00:13:24.580\nsaying you might be in a situation,\nnormally if you're in a domain all right,\n\n248\n00:13:24.580 --> 00:13:27.870\nand you're remotely managing servers that\nare part of that domain, well there's\n\n249\n00:13:27.870 --> 00:13:31.350\na trust that's built, everybody\nin that domain trusts each other.\n\n250\n00:13:31.350 --> 00:13:33.710\nWe can get that set up.\n\n251\n00:13:33.710 --> 00:13:37.850\nEven if it's another domain in my forest,\nwe got those automatic\n\n252\n00:13:37.850 --> 00:13:42.330\ntwo ways transit of trust that get\ncreated between domains within a forest.\n\n253\n00:13:42.330 --> 00:13:43.962\nSo I've got that capability, right?\n\n254\n00:13:43.962 --> 00:13:48.420\nIt's gonna trust my authentication,\nbecause I'm logged into say, domain A but\n\n255\n00:13:48.420 --> 00:13:51.220\nI'm reaching out and\ntrying to manage a server in Domain B.\n\n256\n00:13:51.220 --> 00:13:54.450\nWell, because of that trust that's\ncreated automatically between\n\n257\n00:13:54.450 --> 00:13:57.170\ndomains in the forest,\nit's gonna trust my authentication and\n\n258\n00:13:57.170 --> 00:14:00.210\nas long as I have permissions,\nI'm gonna be able to do that.\n\n259\n00:14:00.210 --> 00:14:02.260\nWhat if we're dealing with\na non trusted domain?\n\n260\n00:14:02.260 --> 00:14:06.310\nWhat if you're responsible for\nmanaging servers for a client?\n\n261\n00:14:06.310 --> 00:14:07.490\nLet's say maybe I do this for\n\n262\n00:14:07.490 --> 00:14:12.400\nas a business I provide\nremote management services.\n\n263\n00:14:12.400 --> 00:14:15.610\nOr I've got a separate force in my DMZ.\n\n264\n00:14:15.610 --> 00:14:19.730\nNow some networks will make that DMZ\na completely separate forest, but\n\n265\n00:14:19.730 --> 00:14:22.110\nI need to manage those servers out there,\nright?\n\n266\n00:14:22.110 --> 00:14:24.770\nBut my client that I sit\nat at my desk everyday,\n\n267\n00:14:24.770 --> 00:14:28.360\nmy little laptop, it's not part of\nthe forest out there in the DMZ.\n\n268\n00:14:28.360 --> 00:14:30.580\nHow can I remotely manage those servers?\n\n269\n00:14:30.580 --> 00:14:34.360\nWe can, you just have to tell\nit to trust the authentication.\n\n270\n00:14:34.360 --> 00:14:38.590\nYou basically, on my client that I'm\nusing to do the remote management,\n\n271\n00:14:39.590 --> 00:14:44.850\nI'm going to add that remote\nserver to my trusted hosts group.\n\n272\n00:14:44.850 --> 00:14:48.220\nAnd that's going to give me\nthe ability to remotely manage that.\n\n273\n00:14:48.220 --> 00:14:49.860\nNow you still have to do everything else.\n\n274\n00:14:49.860 --> 00:14:50.360\nRight?\n\n275\n00:14:50.360 --> 00:14:54.750\nWin RM quick config to enable\nthe listeners to turn on that service,\n\n276\n00:14:54.750 --> 00:14:56.908\nto enable the firewall exceptions.\n\n277\n00:14:56.908 --> 00:14:59.420\nIf you're gonna do PS remoting\nyou've got to do the enabled, or\n\n278\n00:14:59.420 --> 00:15:02.440\nif you're going to do PS session,\nyou have to do the enabled PS remoting.\n\n279\n00:15:02.440 --> 00:15:05.840\nIf it's a down level server,\n\n280\n00:15:05.840 --> 00:15:10.680\nyou're still gonna need to get .net 4.0\nand the Windows management framework 3.0,\n\n281\n00:15:10.680 --> 00:15:13.240\nand that Windows update if you want\nto do the performance counters.\n\n282\n00:15:13.240 --> 00:15:14.530\nSo none of that changes.\n\n283\n00:15:14.530 --> 00:15:18.820\nBut we do one more step because\nit's not in a trusted domain.\n\n284\n00:15:18.820 --> 00:15:19.410\nRight?\n\n285\n00:15:19.410 --> 00:15:20.740\nAnd it's actually very easy.\n\n286\n00:15:20.740 --> 00:15:24.900\nFor example if I try, let's see if it'll\nlet me even try it before I do this.\n\n287\n00:15:24.900 --> 00:15:29.150\nSo I've got a server somewhere over here.\n\n288\n00:15:30.560 --> 00:15:35.700\nThis guy is running 2012 R2,\nwhich you notice that it's not part\n\n289\n00:15:35.700 --> 00:15:39.240\nof my domain, well, as soon as\nthe local server refreshes here.\n\n290\n00:15:39.240 --> 00:15:43.530\n[LAUGH] Then we see that it is part\nof a work group, all right, and\n\n291\n00:15:43.530 --> 00:15:45.350\nof course I need network connectivity.\n\n292\n00:15:45.350 --> 00:15:49.553\nThis one is on the same subnet, but as\nlong as you have network connectivity, or\n\n293\n00:15:49.553 --> 00:15:52.084\nrouting setup,\nyou should be good to go there.\n\n294\n00:15:52.084 --> 00:15:54.880\nSo I'll flip back over to my client,\nand I'm gonna do my,\n\n295\n00:15:54.880 --> 00:15:57.922\nI'm gonna right click on all my\nservers and choose add server.\n\n296\n00:15:57.922 --> 00:16:00.743\nAnd Ronnie, I already forgot the name\nof that machine, was it server 2?\n\n297\n00:16:00.743 --> 00:16:01.590\nYeah.\n\n298\n00:16:01.590 --> 00:16:07.150\nSo I'm gonna do SVR02, and click Find Now.\n\n299\n00:16:08.530 --> 00:16:11.190\nAnd oops, not Active Directory,\nthat wouldn't work.\n\n300\n00:16:11.190 --> 00:16:12.920\nIt's not part of my domain.\n\n301\n00:16:12.920 --> 00:16:14.970\nLet's flip over to DNS there.\n\n302\n00:16:14.970 --> 00:16:18.660\nAnd you can definitely do an IP address\nhere, and probably a better idea,\n\n303\n00:16:18.660 --> 00:16:21.090\nin most cases, to do that.\n\n304\n00:16:22.230 --> 00:16:24.370\nBut there I see that it found it.\n\n305\n00:16:24.370 --> 00:16:26.110\nIt's found my IP address.\n\n306\n00:16:26.110 --> 00:16:29.000\nSo I'm gonna go ahead and\nadd that server and click OK.\n\n307\n00:16:30.630 --> 00:16:31.710\nAnd it adds it, but\n\n308\n00:16:31.710 --> 00:16:35.130\nnotice I get a red bar across the top\nthere that the refresh failed.\n\n309\n00:16:35.130 --> 00:16:37.910\nIt's unable to update\nthe information about that server.\n\n310\n00:16:37.910 --> 00:16:41.850\nAnd it says Kerberos\ntarget resolution error.\n\n311\n00:16:41.850 --> 00:16:43.480\nThat's the trust issue.\n\n312\n00:16:43.480 --> 00:16:46.780\nIt's not trusting the authentication\nthat's been done.\n\n313\n00:16:46.780 --> 00:16:48.760\nMy domain controller's trusted me.\n\n314\n00:16:48.760 --> 00:16:52.940\nI'm trying to now pass that credential\non over to this other machine that says,\n\n315\n00:16:52.940 --> 00:16:55.100\nI don't know who you are, I don't trust.\n\n316\n00:16:55.100 --> 00:16:57.220\nSo we're gonna have to fix that.\n\n317\n00:16:57.220 --> 00:17:00.770\nAll right, so once you see that error,\nKerberos target resolution error,\n\n318\n00:17:00.770 --> 00:17:03.110\nI'm gonna fire up PowerShell.\n\n319\n00:17:03.110 --> 00:17:06.030\nAnd what I need to do is I\nneed to add that remote host.\n\n320\n00:17:06.030 --> 00:17:10.951\nThe name of that remote server\nthat I'm trying to manage to my\n\n321\n00:17:10.951 --> 00:17:14.244\ntrusted host list on my client machine.\n\n322\n00:17:14.244 --> 00:17:20.010\nAnd the command is gonna be set-item.\n\n323\n00:17:20.010 --> 00:17:23.702\nAnd then, winrm.\n\n324\n00:17:23.702 --> 00:17:29.054\nI'm sorry, wsman, thank you.\n\n325\n00:17:29.054 --> 00:17:34.557\nwsman:\\localhost\\client\\trustedhosts\n-value,\n\n326\n00:17:34.557 --> 00:17:41.511\nand then the name of that computer,\nand you're gonna put this in quotes,\n\n327\n00:17:41.511 --> 00:17:46.690\nand you can actually put more\nthan one machine in here.\n\n328\n00:17:46.690 --> 00:17:48.310\nYou can separate it by commas.\n\n329\n00:17:48.310 --> 00:17:53.800\nYou also might want to do both the host\nname and the fully qualified domain name.\n\n330\n00:17:53.800 --> 00:17:57.690\nIn this case, it's part of a word group,\nso I'm just gonna do the host name.\n\n331\n00:17:57.690 --> 00:18:01.390\nIf this was an untrusted domain,\nlike the machine was in your DMZ and\n\n332\n00:18:01.390 --> 00:18:06.160\nthe DMZ was a separate forest, you would\nwanna add the host name, comma, and\n\n333\n00:18:06.160 --> 00:18:10.900\nthen the fully qualified domain name for\nthat machine and that other forest.\n\n334\n00:18:10.900 --> 00:18:15.702\nIn this case it's just gonna be \"svr02\",\nand I'll hit Enter.\n\n335\n00:18:15.702 --> 00:18:21.680\nAnd now you see this command modifies the\nTrustedHosts list for the WinRM client,\n\n336\n00:18:21.680 --> 00:18:25.090\ncomputers in the TrustedHosts\nlist might not be authenticated,\n\n337\n00:18:25.090 --> 00:18:27.010\nwe'll talk about that in just a second.\n\n338\n00:18:27.010 --> 00:18:29.110\nClient might send credential\ninformation to these computers.\n\n339\n00:18:29.110 --> 00:18:30.350\nAre you sure?\n\n340\n00:18:30.350 --> 00:18:31.840\nYes I am.\n\n341\n00:18:31.840 --> 00:18:33.090\nWe hit Enter.\n\n342\n00:18:33.090 --> 00:18:34.620\nAnd we should be good to go.\n\n343\n00:18:34.620 --> 00:18:37.965\nNow you can see this if you do a get-item.\n\n344\n00:18:39.190 --> 00:18:42.010\nSo maybe you're going to a machine, you\ndon't know if it's been added yet or not,\n\n345\n00:18:42.010 --> 00:18:46.000\nyou just want to verify what machines\nare in your TrustedHosts list.\n\n346\n00:18:46.000 --> 00:18:50.614\nYou can do a get-item, and\n\n347\n00:18:50.614 --> 00:18:59.843\nthen wsman:\\localhost\\client\\trustedhosts,\n\n348\n00:18:59.843 --> 00:19:04.060\nand then just hit Enter.\n\n349\n00:19:04.060 --> 00:19:08.380\nAnd there I can see that in\nmy TrustedHosts is svr02.\n\n350\n00:19:08.380 --> 00:19:11.821\nSo now that I've got that added,\nI'm gonna close PowerShell.\n\n351\n00:19:14.422 --> 00:19:17.640\nAnd I'm coming back over here, and I'm\ngonna refresh my console one more time.\n\n352\n00:19:17.640 --> 00:19:20.870\nAnd we'll see what changes.\n\n353\n00:19:20.870 --> 00:19:22.072\nI'll get rid of that last error.\n\n354\n00:19:24.881 --> 00:19:27.150\nSo that we can see the new errors here.\n\n355\n00:19:31.850 --> 00:19:33.660\nNow I'm still getting an error.\n\n356\n00:19:33.660 --> 00:19:34.920\nIn fact, let's click on more, and\n\n357\n00:19:34.920 --> 00:19:36.580\nI don't think it's going\nto give me any information.\n\n358\n00:19:36.580 --> 00:19:38.500\nLet's see how much it gives me.\n\n359\n00:19:38.500 --> 00:19:44.020\nSo if I scroll down thre.\n\n360\n00:19:44.020 --> 00:19:46.200\nThere's the server 2 error.\n\n361\n00:19:47.240 --> 00:19:50.460\nSo for server 2, configuration refresh\nfailed with the following error.\n\n362\n00:19:50.460 --> 00:19:53.380\nThe metadata failed to retrieve\nthe server due to the following error.\n\n363\n00:19:53.380 --> 00:19:57.226\nIt cannot process the request\nusing Kerberos authentication.\n\n364\n00:19:57.226 --> 00:20:01.850\nSo, I've added it to my trusted,\nbut I still can't.\n\n365\n00:20:01.850 --> 00:20:06.150\nBut that machine, the remote server,\ndoesn't know who I am, right?\n\n366\n00:20:06.150 --> 00:20:09.760\nI've said I trust that remote machine, but\nwhen I try to pass my credentials over\n\n367\n00:20:09.760 --> 00:20:13.385\nthere, again it's saying,\nI don't know who you are.\n\n368\n00:20:13.385 --> 00:20:15.215\nI have a local account on that machine,\n\n369\n00:20:15.215 --> 00:20:18.245\nbut it's not trusting my\nKerberos authentication.\n\n370\n00:20:18.245 --> 00:20:22.575\nSo what you do is you right-click on here,\nand you choose Manage As.\n\n371\n00:20:24.415 --> 00:20:27.734\nAnd now I can add in svr02\\administrator.\n\n372\n00:20:29.790 --> 00:20:31.671\nI can type in the appropriate password.\n\n373\n00:20:34.725 --> 00:20:37.610\nAnd now let's see what happens\nto my remote management.\n\n374\n00:20:38.690 --> 00:20:39.323\nWe'll give it a second.\n\n375\n00:20:42.735 --> 00:20:44.260\nDoing a little refresh here.\n\n376\n00:20:46.880 --> 00:20:48.390\nAnd badabing.\n\n377\n00:20:48.390 --> 00:20:50.520\nThere we go, we are now online.\n\n378\n00:20:50.520 --> 00:20:54.620\nNow I'll probably have an error again\ndealing with those performance counters.\n\n379\n00:20:55.630 --> 00:20:59.680\nServer 1, that's the one we\nnever did install that update\n\n380\n00:20:59.680 --> 00:21:01.210\nto enable those performance counters.\n\n381\n00:21:01.210 --> 00:21:04.120\nSo that's okay, we can ignore that one.\n\n382\n00:21:04.120 --> 00:21:05.080\nI'll clear those out.\n\n383\n00:21:06.600 --> 00:21:09.080\nAnd there we go, now server 2 is online.\n\n384\n00:21:09.080 --> 00:21:11.570\nSo even though this is\nnot part of my domain,\n\n385\n00:21:11.570 --> 00:21:17.018\nit's not even in a domain that's in my\nforest, completely out of my trust zone.\n\n386\n00:21:17.018 --> 00:21:21.812\nI can right-click on here, and\nI can do computer management,\n\n387\n00:21:21.812 --> 00:21:25.440\nadd rules and features,\nwhatever I need to do.\n\n388\n00:21:27.280 --> 00:21:28.850\nNow let's fire off Computer Management.\n\n389\n00:21:28.850 --> 00:21:31.340\nNow remember, again,\nI'll have to double check, this is 2012.\n\n390\n00:21:31.340 --> 00:21:34.580\nIf I'm not mistaken,\nit should allow me in without any errors.\n\n391\n00:21:34.580 --> 00:21:39.530\nBut I might need to go and\ndouble check on that WinRM service.\n\n392\n00:21:39.530 --> 00:21:41.130\nEvidently it's up and it's running.\n\n393\n00:21:41.130 --> 00:21:42.320\nIt's good to go.\n\n394\n00:21:42.320 --> 00:21:42.920\nAnd there I am again.\n\n395\n00:21:42.920 --> 00:21:45.510\nThis is server 2.\n\n396\n00:21:45.510 --> 00:21:47.680\nThis is the machine\nthat's not in my domain.\n\n397\n00:21:47.680 --> 00:21:51.670\nAnd yet, I can go and I can take a look\nat, I don't know, device manager or\n\n398\n00:21:51.670 --> 00:21:55.130\ndisk management, or\nwhatever it is I need to do.\n\n399\n00:21:55.130 --> 00:21:56.910\nNotice the list was a little limited.\n\n400\n00:21:56.910 --> 00:22:01.490\nI don't get all the same remote management\noptions I did with a server that's part of\n\n401\n00:22:01.490 --> 00:22:06.659\nmy domain, but still better than not being\nable to add it to the console at all.\n\n402\n00:22:08.090 --> 00:22:11.890\nYeah it looks like there are a lot\nof useful ways that we can actually\n\n403\n00:22:11.890 --> 00:22:13.816\nuse this management tip to help us.\n\n404\n00:22:13.816 --> 00:22:16.880\nEspecially when we are in that mixed\nenvironment, or when we do need to manage\n\n405\n00:22:16.880 --> 00:22:21.970\nservers that are not in a trusted\nrelationship with our domain as well.\n\n406\n00:22:21.970 --> 00:22:23.270\nSo there's a lot of useful hints.\n\n407\n00:22:23.270 --> 00:22:27.100\nAnd more and more, Mike, I'm starting to\nsee this repetition of those two commands.\n\n408\n00:22:27.100 --> 00:22:29.430\nUsing that WRM quick config.\n\n409\n00:22:29.430 --> 00:22:32.290\nAs well as the enabled-PS remoting.\n\n410\n00:22:32.290 --> 00:22:35.390\nSo you're starting to see where that's\na key theme when we start talking about\n\n411\n00:22:35.390 --> 00:22:36.770\nremote management.\n\n412\n00:22:36.770 --> 00:22:39.630\nThose two have actually been run on\nI think every machine that we've\n\n413\n00:22:39.630 --> 00:22:40.640\nopened so far.\n\n414\n00:22:40.640 --> 00:22:43.710\n>> Yeah, it's really nice Ronnie to be\nable to manage all these servers from\n\n415\n00:22:43.710 --> 00:22:44.470\none place.\n\n416\n00:22:45.530 --> 00:22:48.490\n>> When we take a look at it then,\nremember that what has to happen on\n\n417\n00:22:48.490 --> 00:22:50.450\neach machine, and\nwe've repeated it a couple of times, but\n\n418\n00:22:50.450 --> 00:22:53.400\nit's very important,\nthose two basic commands.\n\n419\n00:22:53.400 --> 00:22:57.000\nWe're gonna see that in remote management\nand everything that we've done.\n\n420\n00:22:59.230 --> 00:23:03.200\nAnd so, when you start taking a look at\njust realize that those are gonna be key.\n\n421\n00:23:03.200 --> 00:23:07.440\nAs well as being able to realize we\ncan use this remote management feature\n\n422\n00:23:07.440 --> 00:23:08.710\nnot only for\n\n423\n00:23:08.710 --> 00:23:12.900\nserver 2012, as well as server 2008 R2\nmachines, and even un-trusted servers.\n\n424\n00:23:12.900 --> 00:23:16.850\nAnd that is a neat feature no matter\nwhat chance you take a look at as well.\n\n425\n00:23:16.850 --> 00:23:20.360\nBecause now you don't have to go to\nmultiple different environments for\n\n426\n00:23:20.360 --> 00:23:21.470\nyou to be able to manage them.\n\n427\n00:23:21.470 --> 00:23:24.500\nYou can do it all from one environment and\none feature as well.\n\n428\n00:23:24.500 --> 00:23:28.200\nNow, Mike that looks like it's everything\nthat we actually have for this show.\n\n429\n00:23:28.200 --> 00:23:31.730\nSo, signing off for\nITProTV, I'm Ronnie Wong.\n\n430\n00:23:31.730 --> 00:23:32.690\n>> And I'm Mike Rodrick.\n\n431\n00:23:32.690 --> 00:23:34.628\n>> And we'll see you next time.\n\n432\n00:23:34.628 --> 00:23:39.620\n[MUSIC]\n\n",
          "vimeoId": "136865129"
        },
        {
          "description": "In this episode, Ronnie and Mike configure 2012r2 server core for remote administration. They use netsh and netdom commands to get the server core ready for remote management.",
          "length": "1228",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-6-3-configuring_server_core-082015-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-6-3-configuring_server_core-082015-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-6-3-configuring_server_core-082015-1-sm.jpg",
          "title": "Configuring Server Core",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.033 --> 00:00:13.640\nWelcome to another great\nepisode here on ITProTV.\n\n3\n00:00:13.640 --> 00:00:15.190\nI'm your host Ronnie Wong.\n\n4\n00:00:15.190 --> 00:00:18.240\nHere with the Microsoft Kung Fu Master,\nMike Rodrick.\n\n5\n00:00:18.240 --> 00:00:18.970\nHow's it going?\n\n6\n00:00:18.970 --> 00:00:21.610\n>> Oh it's going great Ronnie, I don't\nknow about the whole Kung Fu part there,\n\n7\n00:00:21.610 --> 00:00:25.540\nbut we're going to take\na look today at managing, or\n\n8\n00:00:25.540 --> 00:00:27.740\ncontinuing on with our remote management.\n\n9\n00:00:27.740 --> 00:00:31.330\nAnd in this episode,\nwe wanna look at managing server core.\n\n10\n00:00:31.330 --> 00:00:36.520\nNow server core is a installation of\nserver 2012 R2 without the GUI interface,\n\n11\n00:00:36.520 --> 00:00:37.040\nright?\n\n12\n00:00:37.040 --> 00:00:39.010\nAll we get is the good old command prompt.\n\n13\n00:00:39.010 --> 00:00:40.940\nAnd PowerShell.\n\n14\n00:00:40.940 --> 00:00:42.220\nWe need to be able to configure it.\n\n15\n00:00:42.220 --> 00:00:45.570\nWe need to be able to remotely manage\nit just like any other server.\n\n16\n00:00:45.570 --> 00:00:48.380\nSo why don't we take a look\nat how we can do that.\n\n17\n00:00:48.380 --> 00:00:50.510\nNow, for those of you that\nhave seen previous episodes or\n\n18\n00:00:50.510 --> 00:00:54.855\nif you're familiar with core, you know we\ngot a really cool option in here called\n\n19\n00:00:54.855 --> 00:01:00.205\nSconfig or Server Configurator is what I\nlike to call it, server configuration.\n\n20\n00:01:00.205 --> 00:01:00.795\nAnd it's great.\n\n21\n00:01:00.795 --> 00:01:06.663\nIf we take a look at my screen, I can\ntype in sconfig, and I can pull that up.\n\n22\n00:01:06.663 --> 00:01:11.730\nAnd even though I'm at a command prompt,\nI get a little number driven menu system.\n\n23\n00:01:11.730 --> 00:01:15.590\nSo if I wanted to change the name of the\ncomputer I can enter a number 2 in there\n\n24\n00:01:15.590 --> 00:01:20.470\nand it gives me the option to\nchange the name of that computer.\n\n25\n00:01:20.470 --> 00:01:26.420\nBut, with this sconfig while it's very\neasy, it's not as easy to try to script.\n\n26\n00:01:26.420 --> 00:01:30.662\nAnd also for the exam you're gonna need\nto be familiar with the commands that\n\n27\n00:01:30.662 --> 00:01:34.070\nare actually getting executed\nbehind the scenes here.\n\n28\n00:01:34.070 --> 00:01:37.444\nThey're not gonna give you the option,\nmost likely what\n\n29\n00:01:37.444 --> 00:01:41.953\nnumber on this server configuration is\ndo you use to change the server name?\n\n30\n00:01:41.953 --> 00:01:45.630\nThey're gonna say what command would\nyou use to change the server name.\n\n31\n00:01:45.630 --> 00:01:48.480\nSo while this is great and\nin the real world this is what I'm gonna\n\n32\n00:01:48.480 --> 00:01:52.020\nuse nine times out of ten,\nI want to try to automate this and\n\n33\n00:01:52.020 --> 00:01:54.170\nfor the exam we're gonna\nneed to know some command.\n\n34\n00:01:54.170 --> 00:01:56.560\nSo that's what we're gonna\nlook at in this episode.\n\n35\n00:01:56.560 --> 00:02:00.360\nI'm gonna go ahead and\nget out of server configuration, and\n\n36\n00:02:00.360 --> 00:02:02.270\nback to my normal command prompt.\n\n37\n00:02:02.270 --> 00:02:05.880\nNow there's several things I need to do to\nbe able to remotely manage this server.\n\n38\n00:02:05.880 --> 00:02:10.120\nI need to change the name of the computer,\ngo ahead and get that configured.\n\n39\n00:02:10.120 --> 00:02:12.057\nI need to join it to the domain.\n\n40\n00:02:12.057 --> 00:02:15.773\nAnd to do that, I'm gonna need to\nmake sure I've statically mapped\n\n41\n00:02:15.773 --> 00:02:19.487\nthe IP address, and I've set\nthe appropriate DNS server address so\n\n42\n00:02:19.487 --> 00:02:22.510\nit can find the domain controller and\njoin the domain.\n\n43\n00:02:22.510 --> 00:02:25.624\nThen I'm gonna need to enable some\nfirewall rules to allow that remote\n\n44\n00:02:25.624 --> 00:02:26.480\nadministration.\n\n45\n00:02:26.480 --> 00:02:28.390\nThere's a lot of things running\nthat I gotta do though.\n\n46\n00:02:28.390 --> 00:02:29.290\n>> There's definitely so\n\n47\n00:02:29.290 --> 00:02:32.830\nmany different things and when you're\nactually inside server core, it's gonna be\n\n48\n00:02:32.830 --> 00:02:36.900\nbest if you learn how to do it using\nthe command line prompts themselves.\n\n49\n00:02:36.900 --> 00:02:40.818\nAnd so normally you do have access to\nthe PowerShell commands, as well as things\n\n50\n00:02:40.818 --> 00:02:44.275\nlike Netsh, and today Mike's gonna\nactually take on the challenge-\n\n51\n00:02:44.275 --> 00:02:44.977\n>> [LAUGH].\n\n52\n00:02:44.977 --> 00:02:47.253\n>> And show us how to do some\nof the configuration here,\n\n53\n00:02:47.253 --> 00:02:50.669\nreally using the Netsh commands, which\nto me are a little bit more difficult,\n\n54\n00:02:50.669 --> 00:02:52.460\nbecause you have to remember a lot more.\n\n55\n00:02:52.460 --> 00:02:54.880\n>> They are not the easiest\ncommands to remember,\n\n56\n00:02:54.880 --> 00:02:57.570\nI have to double check\non my documentation.\n\n57\n00:02:57.570 --> 00:02:58.800\nCuz you don't use them all the time.\n\n58\n00:02:58.800 --> 00:03:00.960\nBut again, there's gonna be that\none time that you need it, and\n\n59\n00:03:00.960 --> 00:03:02.550\nit's really good to have.\n\n60\n00:03:02.550 --> 00:03:06.370\nSo as Ronnie said, Netsh is the one I\nuse to work with my TCP/IP settings.\n\n61\n00:03:06.370 --> 00:03:08.850\nSo the first thing I'm gonna do\non this machine is go ahead and\n\n62\n00:03:08.850 --> 00:03:12.560\nset a static IP address,\nas well as configure the IP address for\n\n63\n00:03:12.560 --> 00:03:17.170\nthe DNS server that I want this\nserver to use for name resolution.\n\n64\n00:03:17.170 --> 00:03:22.160\nSo in order to do that, I need to\nknow the name of my network adapter.\n\n65\n00:03:22.160 --> 00:03:27.150\nWhen you use your Netsh commands, you\ntype in the name of the network adapter,\n\n66\n00:03:27.150 --> 00:03:28.700\nand you've gotta know what that is.\n\n67\n00:03:28.700 --> 00:03:30.390\nAnd I don't have a nice pretty GUI,\n\n68\n00:03:30.390 --> 00:03:33.280\nI can't go into the network\nsharing center and take a look.\n\n69\n00:03:33.280 --> 00:03:35.540\nSo let's show you the command for\nthat first.\n\n70\n00:03:35.540 --> 00:03:44.130\nIt's gonna be netsh\ninterface ip show interface.\n\n71\n00:03:44.130 --> 00:03:46.160\nAnd there I can see all\nthe network adapters.\n\n72\n00:03:46.160 --> 00:03:48.790\nIf I have more than one,\nthey would all be listed here.\n\n73\n00:03:48.790 --> 00:03:52.600\nYou can see I've got my Loopback\nadapter and one physical adapter.\n\n74\n00:03:52.600 --> 00:03:54.730\nYou can also use this\nindex number over here,\n\n75\n00:03:54.730 --> 00:03:59.580\nwhich is sometimes easier than typing\nthe name of the network adapter.\n\n76\n00:03:59.580 --> 00:04:01.050\nIn this case, remember,\nMicrosoft changed, right?\n\n77\n00:04:01.050 --> 00:04:03.860\nIt used to be a local area\nconnection was the default name for\n\n78\n00:04:03.860 --> 00:04:06.720\nyour first network adapter, and\nthen local area connection two,\n\n79\n00:04:06.720 --> 00:04:08.640\nlocal area connection three,\nand then so on and so on.\n\n80\n00:04:08.640 --> 00:04:13.270\nNow they call it Ethernet 0,\nEthernet 1, so a little change there.\n\n81\n00:04:13.270 --> 00:04:16.210\nSo now that I know the name of\nnetwork adapter, I can go ahead and\n\n82\n00:04:16.210 --> 00:04:18.490\nstart configuring that network adapter.\n\n83\n00:04:18.490 --> 00:04:24.400\nAnd the command to set the IP address\n\n84\n00:04:24.400 --> 00:04:30.320\nis netsh interface ip set address.\n\n85\n00:04:30.320 --> 00:04:33.938\nSo it's netsh interface ip set address.\n\n86\n00:04:33.938 --> 00:04:36.560\nSo that's the first part of the command.\n\n87\n00:04:36.560 --> 00:04:40.110\nNow I need to tell it what network adapter\nI'm working with because I might have more\n\n88\n00:04:40.110 --> 00:04:43.600\nthan one on this machine, it doesn't know,\nso I've gotta tell it the name.\n\n89\n00:04:43.600 --> 00:04:48.831\nAnd in this case that's\ngonna be \"ethernet0\",\n\n90\n00:04:48.831 --> 00:04:51.516\nput that in quotes there.\n\n91\n00:04:51.516 --> 00:04:54.770\nAnd then I wanna statically\nmap the IP address.\n\n92\n00:04:54.770 --> 00:05:00.455\nIf I do it DHCP, that would make it\na DHCP client which it already is.\n\n93\n00:05:00.455 --> 00:05:05.170\nSo static and then the IP address\nthat you wanna assign to that\n\n94\n00:05:05.170 --> 00:05:10.163\nmachine as well as the Subnet Mask\nto go with that IPv4 address,\n\n95\n00:05:10.163 --> 00:05:13.600\nand then the gateway\nthat you wanted to use.\n\n96\n00:05:15.889 --> 00:05:18.450\nAt this point I should\nbe able to hit Enter.\n\n97\n00:05:18.450 --> 00:05:23.750\nAnd typical of the command line, I don't\nget any of the information back, but\n\n98\n00:05:23.750 --> 00:05:28.950\nI can verify that with a simple IP\nconfig command, and there I can\n\n99\n00:05:28.950 --> 00:05:34.590\nsee my IP address, 10.1.2.200 as well as\nmy Subnet Mask, and my default gateway.\n\n100\n00:05:34.590 --> 00:05:35.390\nAll right.\n\n101\n00:05:35.390 --> 00:05:41.480\nNow if I do an IP config, all,\nnow I wanna take a look at my DNS server.\n\n102\n00:05:41.480 --> 00:05:44.420\nNotice I've got this crazy\nlittle IPv6 address.\n\n103\n00:05:44.420 --> 00:05:46.500\nThat's not gonna get me too far, right?\n\n104\n00:05:46.500 --> 00:05:48.483\nI've gotta have the IP address, or\n\n105\n00:05:48.483 --> 00:05:52.778\nI've gotta have DNS pointed to one of\nthe DNS servers as a part of my domain, so\n\n106\n00:05:52.778 --> 00:05:56.894\nI can resolve the name of the domain\ncontroller and then join that domain.\n\n107\n00:05:56.894 --> 00:05:59.178\nIf you're doing this through\nthe GUI it's nice and easy.\n\n108\n00:05:59.178 --> 00:06:03.717\nIf you go into your IPv4 properties,\nit's all right there in the same window,\n\n109\n00:06:03.717 --> 00:06:08.290\nIP address, Subnet Mask, gateway,\npreferred DNS, alternate DNS.\n\n110\n00:06:08.290 --> 00:06:10.620\nWhen you do it this way,\nit's really easy to forget.\n\n111\n00:06:10.620 --> 00:06:12.850\nCuz you run this one command and\nyou think, okay,\n\n112\n00:06:12.850 --> 00:06:15.310\nI'm done setting my TCP/IP settings.\n\n113\n00:06:15.310 --> 00:06:17.610\nDon't forget to set your\nDNS server address.\n\n114\n00:06:17.610 --> 00:06:19.590\nIt is a separate command.\n\n115\n00:06:19.590 --> 00:06:26.925\nSo it's gonna be set-dns and\nthen the name of the adapter,\n\n116\n00:06:26.925 --> 00:06:31.484\n\"ethernet0\", and then static.\n\n117\n00:06:31.484 --> 00:06:37.177\nAnd we're gonna do a 10.1.2.200,\nthat is the IP address of my DNS server.\n\n118\n00:06:37.177 --> 00:06:38.680\nAnd then the word primary.\n\n119\n00:06:40.390 --> 00:06:41.561\nShould be able to hit Enter.\n\n120\n00:06:44.998 --> 00:06:47.726\nAnd environment variable DNS ethernet.\n\n121\n00:06:47.726 --> 00:06:49.447\nWhere did I miss that there?\n\n122\n00:06:53.028 --> 00:06:57.357\nSet dns \"ethernet0\" static\n\n123\n00:06:57.357 --> 00:07:01.858\n10.1.2.200 primary\n\n124\n00:07:04.409 --> 00:07:07.700\nA little bit silly there, guys.\n\n125\n00:07:07.700 --> 00:07:09.070\nYou know what I forgot?\n\n126\n00:07:09.070 --> 00:07:10.710\nThe whole meta stage.\n\n127\n00:07:10.710 --> 00:07:12.894\n>> [LAUGH]\n>> So I'm just gonna cheat and\n\n128\n00:07:12.894 --> 00:07:15.490\nuse this here again.\n\n129\n00:07:15.490 --> 00:07:19.500\nYeah, remember you've gotta\nhave the netsh interface ip,\n\n130\n00:07:19.500 --> 00:07:21.380\nthat first part of the command.\n\n131\n00:07:21.380 --> 00:07:24.860\nI'm used to typing in Netsh and\nbeing at the Netsh prompt and\n\n132\n00:07:24.860 --> 00:07:26.420\nI can leave some of that out.\n\n133\n00:07:26.420 --> 00:07:28.770\nIn this case,\nI'm typing the whole command every time.\n\n134\n00:07:28.770 --> 00:07:30.450\nJust show you guys the command.\n\n135\n00:07:30.450 --> 00:07:35.531\nSo it's gonna be,\nset-dns and then the name\n\n136\n00:07:35.531 --> 00:07:40.355\nof the adaptor which was \"ethernet0\".\n\n137\n00:07:40.355 --> 00:07:44.925\nAnd then I wanna do a static mapping for\nthis DNS address and\n\n138\n00:07:44.925 --> 00:07:48.655\nthen 10.1.2.200 is the IP address,\n\n139\n00:07:48.655 --> 00:07:54.100\nI'm sorry 100 is the IP address of my-\n>> DNS server.\n\n140\n00:07:54.100 --> 00:07:59.001\n>> DNS server,\n>> 100, okay, we'll try.\n\n141\n00:07:59.001 --> 00:08:05.025\nI will try Two hundred I believe,\nsorry one hundred, my bad.\n\n142\n00:08:05.025 --> 00:08:06.570\nAnd then the word primary.\n\n143\n00:08:07.750 --> 00:08:09.190\nI hit enter.\n\n144\n00:08:09.190 --> 00:08:10.630\nAnd now if I do and IP config all.\n\n145\n00:08:13.450 --> 00:08:16.960\nI can see that I have\nalso set my DNS server.\n\n146\n00:08:16.960 --> 00:08:19.330\nSo let me real quick just verify that.\n\n147\n00:08:19.330 --> 00:08:25.029\nMake sure I've got the right one, and\nit is 100, okay I just want to make sure.\n\n148\n00:08:25.029 --> 00:08:27.780\n>> [LAUGH]\n>> If I put the wrong DNS server address\n\n149\n00:08:27.780 --> 00:08:31.310\nthere, I won't be able to resolve\nthe name of the domain controller and\n\n150\n00:08:31.310 --> 00:08:32.450\nI won't be able to join that domain.\n\n151\n00:08:32.450 --> 00:08:35.240\nIt's important that I get that correct,\nall right?\n\n152\n00:08:35.240 --> 00:08:39.860\nSo far I've set the IP address and\nI've set the DNS server address.\n\n153\n00:08:39.860 --> 00:08:41.100\nNow in the real world,\n\n154\n00:08:41.100 --> 00:08:43.580\nwe would always want more than\none DNS server address, right?\n\n155\n00:08:43.580 --> 00:08:47.170\nFault tolerance on that cuz\nwithout DNS I can't resolve names,\n\n156\n00:08:47.170 --> 00:08:49.590\nI can't connect to anything,\nI can't log on.\n\n157\n00:08:49.590 --> 00:08:50.640\nThings like that.\n\n158\n00:08:50.640 --> 00:08:54.600\nTo add a second, I don't have a second\nDNS server in this lab environment, but\n\n159\n00:08:54.600 --> 00:08:56.110\nI just wanna point this out.\n\n160\n00:08:56.110 --> 00:09:01.510\nInstead of using word set I\nwould be using the word add.\n\n161\n00:09:01.510 --> 00:09:06.200\nSet is going to set that primary DNS\nserver address, add to add additional.\n\n162\n00:09:06.200 --> 00:09:07.110\nIf you try to use set again,\n\n163\n00:09:07.110 --> 00:09:10.810\nyou'll end up changing the DNS\nserver address that its using.\n\n164\n00:09:10.810 --> 00:09:15.570\nSo add to add a second, third, fourth\nDNS server, however many you need for\n\n165\n00:09:15.570 --> 00:09:17.040\nyour fault tolerance.\n\n166\n00:09:17.040 --> 00:09:19.680\nAll right, so now we've got the IP\naddress set, its statically mapped,\n\n167\n00:09:19.680 --> 00:09:22.150\nwe've got the DNS server set,\nthat's good to go.\n\n168\n00:09:22.150 --> 00:09:26.650\nThe next thing I want to do before I join\ninto the domain is to rename the computer.\n\n169\n00:09:26.650 --> 00:09:29.330\nBecause if we take a look\nright now at the hostname\n\n170\n00:09:30.450 --> 00:09:33.910\nI'll see it's that default name that\nI got when I installed Windows.\n\n171\n00:09:33.910 --> 00:09:38.145\nNot the easiest to remember or type and\nit's not gonna match my name and\n\n172\n00:09:38.145 --> 00:09:39.395\nconvention in my domain.\n\n173\n00:09:39.395 --> 00:09:41.505\nRight?\nSo whatever you're using.\n\n174\n00:09:41.505 --> 00:09:46.305\nStorms, snakes, Star Wars planets,\nwhatever it is.\n\n175\n00:09:46.305 --> 00:09:48.997\nYou know?\nOr as Ronnie says Keep it simple.\n\n176\n00:09:48.997 --> 00:09:49.760\nSRV01.\n>> [LAUGH]\n\n177\n00:09:49.760 --> 00:09:51.947\n>> 02, and things like that.\n\n178\n00:09:51.947 --> 00:09:53.997\n>> I'm boring.\n>> [LAUGH] All right.\n\n179\n00:09:53.997 --> 00:09:58.617\nSo the command to change the name of\nthe computer is actually a netdom command.\n\n180\n00:09:58.617 --> 00:10:00.820\nIt's not a netsh command.\n\n181\n00:10:00.820 --> 00:10:03.330\nnetdom is how you change\nthe name of the computer,\n\n182\n00:10:03.330 --> 00:10:05.140\nas well as how you join the domain.\n\n183\n00:10:05.140 --> 00:10:08.670\nSo netsh to work with\nyour TCP-IP settings.\n\n184\n00:10:08.670 --> 00:10:13.190\nnetdom to work with your computer name and\nyour domain workgroup membership.\n\n185\n00:10:13.190 --> 00:10:16.880\nSo the command is simply gonna\nbe netdom rename computer.\n\n186\n00:10:16.880 --> 00:10:17.380\nAll right.\n\n187\n00:10:18.660 --> 00:10:22.740\nAnd then you're gonna tell it\nthe old name or the current name.\n\n188\n00:10:22.740 --> 00:10:28.070\nNow I'm gonna cheat and\nI'm going to copy this guy.\n\n189\n00:10:28.070 --> 00:10:29.410\nOops.\n\n190\n00:10:29.410 --> 00:10:30.290\nTry that one more time.\n\n191\n00:10:32.800 --> 00:10:36.440\nWe're gonna copy that and then we're\njust going to paste that over here so\n\n192\n00:10:36.440 --> 00:10:37.790\nI don't have to type that out.\n\n193\n00:10:37.790 --> 00:10:40.320\nSo that's the old name, and\nthen forward slash new name, and\n\n194\n00:10:40.320 --> 00:10:45.500\nthen colon, and then the name of\nthe computer or name you wanna set it to.\n\n195\n00:10:45.500 --> 00:10:51.460\nAnd I'm gonna call this one SVR05, cuz\nI'm pretty sure that name is not taken.\n\n196\n00:10:51.460 --> 00:10:52.140\nAnd I'll hit Enter.\n\n197\n00:10:54.150 --> 00:10:56.200\nAnd it says,\nare you sure you want to continue?\n\n198\n00:10:56.200 --> 00:10:57.389\nAnd I'm gonna say Yes.\n\n199\n00:10:59.170 --> 00:11:02.230\nAnd just like what you do through the GUI,\nyou've got to restart the computer for\n\n200\n00:11:02.230 --> 00:11:04.020\nthose changes to take effect.\n\n201\n00:11:04.020 --> 00:11:06.300\nSo I'm gonna real quick reboot this guy,\n\n202\n00:11:06.300 --> 00:11:11.540\nshut down dash r to restart\ndash t with a time of zero.\n\n203\n00:11:11.540 --> 00:11:12.060\nAnd we'll reboot.\n\n204\n00:11:12.060 --> 00:11:13.870\nSo the core reboot's pretty fast.\n\n205\n00:11:13.870 --> 00:11:15.890\nSo, at this point,\nI've set the IP address.\n\n206\n00:11:15.890 --> 00:11:17.160\nI've set the DNS server address.\n\n207\n00:11:17.160 --> 00:11:19.060\nAnd I've renamed the computer So\n\n208\n00:11:19.060 --> 00:11:21.170\nwe should Ronnie be able to\njoin the domain at this point.\n\n209\n00:11:21.170 --> 00:11:24.860\n>> Yeah, joining domain is gonna\nbe part of that next step and\n\n210\n00:11:24.860 --> 00:11:28.470\nmost of us may not been actually been able\nto do this before because we didn't know.\n\n211\n00:11:28.470 --> 00:11:32.050\nAnd you could actually join\na domain instead of using the GUI\n\n212\n00:11:32.050 --> 00:11:35.510\njust by using the command line when it\ncomes back up So I'll tell you the truth.\n\n213\n00:11:35.510 --> 00:11:40.090\nI didn't know about it until I hit Server\n2003 and kind of realized you could do it.\n\n214\n00:11:40.090 --> 00:11:41.410\nBut at the same time,\n\n215\n00:11:41.410 --> 00:11:43.480\nmost of us probably don't even\nthink about something like this.\n\n216\n00:11:43.480 --> 00:11:45.490\nSo it's a great command for us to know.\n\n217\n00:11:45.490 --> 00:11:46.370\n>> Absolutely.\n\n218\n00:11:46.370 --> 00:11:49.010\nAll right, so it's rebooted and\nwe're going to log back in.\n\n219\n00:11:51.200 --> 00:11:55.320\nAnd you know, I always like to verify\nThings before I don't like to assume.\n\n220\n00:11:55.320 --> 00:11:56.500\nSo we'll do a host name.\n\n221\n00:11:58.360 --> 00:12:00.210\nThen I can see it's now server 05.\n\n222\n00:12:00.210 --> 00:12:04.550\nAgain, I would double check\nmy TCPIP information,\n\n223\n00:12:04.550 --> 00:12:09.430\nmake sure that I'm pointed to\nthe right server for DNS and that I\n\n224\n00:12:09.430 --> 00:12:15.000\nhave statically mapped my IP address to\nwhatever's appropriate for my network.\n\n225\n00:12:15.000 --> 00:12:19.140\nSo at this point, we should be good to\ngo and ready to join the domain again.\n\n226\n00:12:19.140 --> 00:12:24.550\nIt's another netdom command and\nyou simply type in join,\n\n227\n00:12:24.550 --> 00:12:31.110\nand then there's a /d: and then the name\nof the domain that you wanna join.\n\n228\n00:12:31.110 --> 00:12:34.400\nSo /d: and the name of the domain, and\nthen the name of the computer that you're\n\n229\n00:12:34.400 --> 00:12:41.650\njoining, in this case svr05 and\nthen a forward slash and then\n\n230\n00:12:41.650 --> 00:12:46.140\nthe distinguished name of where you wanna\ncreate that account in active directory.\n\n231\n00:12:46.140 --> 00:12:46.660\nRight?\n\n232\n00:12:46.660 --> 00:12:49.120\nRemember, if you're in the GUI,\nyou're right-click new computer,\n\n233\n00:12:49.120 --> 00:12:50.140\nyou're telling it where to make it.\n\n234\n00:12:50.140 --> 00:12:52.170\nAny time you're doing it\nfrom the command line,\n\n235\n00:12:52.170 --> 00:12:54.740\nyou're gonna be using\nthat distinguish name.\n\n236\n00:12:54.740 --> 00:12:59.820\nSo I'm gonna do OU colon and\nthen OU equals,\n\n237\n00:13:01.570 --> 00:13:05.300\noh Ronnie,\ndo I remember what I named that guy there?\n\n238\n00:13:05.300 --> 00:13:07.820\nServers, right?\n\n239\n00:13:07.820 --> 00:13:12.560\nComma DC equals lab comma DC equals net.\n\n240\n00:13:13.590 --> 00:13:14.290\nAll right.\n\n241\n00:13:14.290 --> 00:13:15.360\nAnd I should be able to hit Enter.\n\n242\n00:13:17.000 --> 00:13:20.710\nAnd it tells me that it's gotta reboot for\nthat to complete successfully.\n\n243\n00:13:20.710 --> 00:13:22.020\nSo again, shut down.\n\n244\n00:13:24.180 --> 00:13:26.027\nAnd let's just cheat there.\n\n245\n00:13:26.027 --> 00:13:29.020\n>> [LAUGH]\n>> Oh, that was after the reboot there.\n\n246\n00:13:29.020 --> 00:13:29.618\nSilly me.\n\n247\n00:13:29.618 --> 00:13:30.892\n>> [LAUGH]\n>> Shut down.\n\n248\n00:13:30.892 --> 00:13:34.640\n-r -t 0, reboot this guy.\n\n249\n00:13:38.090 --> 00:13:42.160\n>> So what should happen at this point is\nthe computer should reboot back up, and\n\n250\n00:13:42.160 --> 00:13:44.310\nwe should be able to verify\nit's joined the domain, right?\n\n251\n00:13:44.310 --> 00:13:45.240\n>> We shall see.\n\n252\n00:13:45.240 --> 00:13:49.040\n>> Yeah, so with the Server Corp something\nthat you're actually gonna have to do\n\n253\n00:13:49.040 --> 00:13:49.920\na lot of times.\n\n254\n00:13:49.920 --> 00:13:53.540\nBut remember, with using these types of\ncommands then somebody can script it out,\n\n255\n00:13:53.540 --> 00:13:56.530\ngonna run that script and\nyou'll actually be up and ready to go.\n\n256\n00:13:56.530 --> 00:13:58.690\nSo, it should be coming\nup in just a moment here.\n\n257\n00:13:58.690 --> 00:14:00.460\n>> It should.\n>> As we start taking a look.\n\n258\n00:14:00.460 --> 00:14:03.999\n>> Yeah, as you said, scripting this,\nif you're rolling out 10, 20,\n\n259\n00:14:03.999 --> 00:14:06.582\nor more new servers,\nyou really don't want to have and\n\n260\n00:14:06.582 --> 00:14:09.420\ntype those commands in on\neach one of those machines.\n\n261\n00:14:09.420 --> 00:14:12.690\nWhether you're doing it remotely or not,\nyou really want to be able to script that,\n\n262\n00:14:12.690 --> 00:14:14.400\nand that's the great things\nabout these commands.\n\n263\n00:14:15.860 --> 00:14:18.040\nAll right so we'll wait for\nthis guy to come back up, and\n\n264\n00:14:18.040 --> 00:14:19.820\nyou can already tell it's applying.\n\n265\n00:14:19.820 --> 00:14:22.850\nI think I saw my computer\npolicy being applied,\n\n266\n00:14:22.850 --> 00:14:25.537\nwhich is usually a good indication\nthat I'm part of my domain.\n\n267\n00:14:25.537 --> 00:14:28.650\n>> [LAUGH]\n>> And, now instead of just administrator,\n\n268\n00:14:28.650 --> 00:14:31.520\nit says server05 backslash administrator,\n\n269\n00:14:31.520 --> 00:14:34.740\nanother good indication that\nthis is now a member server.\n\n270\n00:14:34.740 --> 00:14:38.637\nClick back cuz I don't wanna\nlog in as the local admin,\n\n271\n00:14:38.637 --> 00:14:45.204\nI wanna go lab\\administrator,\nSame old password.\n\n272\n00:14:46.644 --> 00:14:47.666\nAnd there we go.\n\n273\n00:14:47.666 --> 00:14:49.615\nWe are are now part of the domain.\n\n274\n00:14:51.885 --> 00:14:56.387\nAnd I'll have adjust my prompt real quick,\nbecause this is a different profile.\n\n275\n00:15:00.032 --> 00:15:00.776\nAll right.\n\n276\n00:15:00.776 --> 00:15:05.408\nIf I do an IP config I can see I\n\n277\n00:15:05.408 --> 00:15:09.670\nam now part of lab.net.\n\n278\n00:15:09.670 --> 00:15:11.330\nI can see my DNS suffix there.\n\n279\n00:15:11.330 --> 00:15:12.170\n>> Very nice.\n\n280\n00:15:12.170 --> 00:15:16.020\n>> Host name is not gonna show\nme my fully qualified but\n\n281\n00:15:16.020 --> 00:15:18.360\nwe can see that I'm now\npart of that domain.\n\n282\n00:15:18.360 --> 00:15:19.515\nSo at this point we're really close.\n\n283\n00:15:19.515 --> 00:15:24.480\nWe've got that core configured with\nthe settings it needs to [COUGH] talk\n\n284\n00:15:24.480 --> 00:15:25.590\non the network.\n\n285\n00:15:25.590 --> 00:15:27.190\nAnd we've joined it to domain.\n\n286\n00:15:27.190 --> 00:15:29.520\nThere is one thing that\nI still need to do.\n\n287\n00:15:29.520 --> 00:15:33.820\nIn order to remotely manage this guy,\nI need to setup the firewall exceptions to\n\n288\n00:15:33.820 --> 00:15:38.320\nallow those, remote management\ncommands to come Come through.\n\n289\n00:15:38.320 --> 00:15:42.990\nSo we're gonna switch back over to Netsh\nto work with my firewall settings.\n\n290\n00:15:44.010 --> 00:15:47.809\nOkay, so to configure the firewall for\nremote administration on server core,\n\n291\n00:15:47.809 --> 00:15:50.488\na couple of Netsh commands\nwe're gonna have to enable.\n\n292\n00:15:50.488 --> 00:15:55.286\nFirst one is netsh firewall set\n\n293\n00:15:55.286 --> 00:16:00.084\nservice type= Remote admin,\n\n294\n00:16:00.084 --> 00:16:04.520\nand the mode equals enable.\n\n295\n00:16:04.520 --> 00:16:09.910\nSo you see that's it going to tell\nme that it executed successfully.\n\n296\n00:16:09.910 --> 00:16:12.630\nIt always also tells me\nthat the advanced firewall\n\n297\n00:16:12.630 --> 00:16:14.780\nfirewall is the way I should do it.\n\n298\n00:16:14.780 --> 00:16:19.070\nI will tell you it does not work if\nyou use the advance firewall firewall\n\n299\n00:16:19.070 --> 00:16:20.350\nlike they say to do.\n\n300\n00:16:20.350 --> 00:16:21.880\nSo something to keep in mind.\n\n301\n00:16:21.880 --> 00:16:24.300\nBut in the end I can see\nthe word okay down here, so\n\n302\n00:16:24.300 --> 00:16:27.140\nit means I've enabled\nremote admin service.\n\n303\n00:16:27.140 --> 00:16:31.630\nNow I'm gonna type in\nnetsh advancefirewall\n\n304\n00:16:34.730 --> 00:16:42.220\nfirewall, and\nthen it's going to be set rule.\n\n305\n00:16:42.220 --> 00:16:46.513\nNow you can create individual rules\nif you know exactly what you want.\n\n306\n00:16:46.513 --> 00:16:49.000\nMicrosoft does give us some\nrule groups that we can use.\n\n307\n00:16:49.000 --> 00:16:53.126\nMakes it a lot easier, and there's\na group called remote administration.\n\n308\n00:16:53.126 --> 00:17:00.143\nSo remote administration,\nI'll go ahead and end that quote there.\n\n309\n00:17:00.143 --> 00:17:05.649\nSay these are new rules and\nwe want to enable them.\n\n310\n00:17:05.649 --> 00:17:07.156\nSo enable=yes.\n\n311\n00:17:07.156 --> 00:17:10.990\nI can see it added three rules\nto my firewall collection.\n\n312\n00:17:10.990 --> 00:17:14.330\nSo we had to turn on that service for\nthe remote administration.\n\n313\n00:17:14.330 --> 00:17:17.100\nWe had to create those\nexceptions that are in core.\n\n314\n00:17:17.100 --> 00:17:19.930\nNext thing I want to do is\nsomething we've seen already.\n\n315\n00:17:19.930 --> 00:17:24.880\nAnd that's the winrm quick config, or\nqc, that should be enabled already.\n\n316\n00:17:24.880 --> 00:17:28.900\nBut just in case, I want to make sure\nwhile I'm here and at the command prompt.\n\n317\n00:17:28.900 --> 00:17:32.160\nSo at that point, I should be good to go,\nI should be set up for\n\n318\n00:17:32.160 --> 00:17:33.650\nremote administration.\n\n319\n00:17:33.650 --> 00:17:34.380\nLet's find out.\n\n320\n00:17:34.380 --> 00:17:38.780\nWe'll flip back over to client two, who\nhas gone to sleep on me because it took us\n\n321\n00:17:38.780 --> 00:17:41.220\nso long to configure that core machine.\n\n322\n00:17:41.220 --> 00:17:42.740\nSo, we'll wake this guy up.\n\n323\n00:17:42.740 --> 00:17:45.980\nAnd if you watch the previous\nepisodes we had set up win\n\n324\n00:17:45.980 --> 00:17:50.670\nclient here with the a remote server\nadmin tools, and server manager so\n\n325\n00:17:50.670 --> 00:17:52.810\nthat I can remotely manage my servers.\n\n326\n00:17:57.990 --> 00:18:01.720\nAnd forgive me while my screen\nadjusts its size there.\n\n327\n00:18:01.720 --> 00:18:03.589\nAnd now we're going to go and add server.\n\n328\n00:18:05.920 --> 00:18:07.270\nAnd we join that guy to the main.\n\n329\n00:18:07.270 --> 00:18:11.740\nSo, I should be able to find server 05,\nand there it is.\n\n330\n00:18:11.740 --> 00:18:12.550\nI'll select him.\n\n331\n00:18:12.550 --> 00:18:13.540\nI'll add him.\n\n332\n00:18:15.080 --> 00:18:15.620\nClick OK.\n\n333\n00:18:18.820 --> 00:18:22.310\nAnd in just a moment,\nI will have access to server 5.\n\n334\n00:18:22.310 --> 00:18:24.630\nSo even though this guy is running core,\n\n335\n00:18:24.630 --> 00:18:28.910\nI can still remotely manage it\nusing my graphical user interface.\n\n336\n00:18:28.910 --> 00:18:32.340\nI can come in here now and\nonce it finishes adding it\n\n337\n00:18:32.340 --> 00:18:35.440\nI'll have the same options I\nwould have on my other machines.\n\n338\n00:18:35.440 --> 00:18:39.960\nAnd I can right-click on it and I can\nlaunch Computer Management PowerShell.\n\n339\n00:18:39.960 --> 00:18:43.470\nI can add roles and features, there we go.\n\n340\n00:18:43.470 --> 00:18:46.300\nI can add roles and features,\nI can restart the server.\n\n341\n00:18:46.300 --> 00:18:48.500\nWhatever I need to do without remoting in.\n\n342\n00:18:48.500 --> 00:18:52.250\nBecause if you remote desktop into server\ncore, you don't get what you think.\n\n343\n00:18:52.250 --> 00:18:54.705\nYour like, oh, I don't want to go to\nserver core because they've got a command\n\n344\n00:18:54.705 --> 00:18:55.920\nprompt, I'm going to use remote desktop.\n\n345\n00:18:55.920 --> 00:18:56.530\n>> Good luck.\n[LAUGH]\n\n346\n00:18:56.530 --> 00:18:57.410\n>> Well, guess what you get Ronnie\n\n347\n00:18:57.410 --> 00:18:59.120\nwhen you remote desktop into server core?\n\n348\n00:18:59.120 --> 00:19:01.920\n>> As far as I remember,\nyou can only get the command prompt,\n\n349\n00:19:01.920 --> 00:19:03.900\neven when you actually remote in.\n\n350\n00:19:03.900 --> 00:19:06.730\nAnd even worse is that,\na lot of us even at that point,\n\n351\n00:19:06.730 --> 00:19:09.170\nthe only thing we can\ndo is just disconnect.\n\n352\n00:19:09.170 --> 00:19:12.680\nWe are you know just disconnect, and so we\ncan't even log off because we don't know\n\n353\n00:19:12.680 --> 00:19:16.170\nexactly how to do that if you've not\nbeen working in the command prompt.\n\n354\n00:19:16.170 --> 00:19:19.670\nIt's fairly easy to do, but at the same\ntime if you don't know your just sitting\n\n355\n00:19:19.670 --> 00:19:21.590\nthere like, okay, so what do I do next.\n\n356\n00:19:21.590 --> 00:19:25.460\nSo this actually gives then the other\nadministrator right that you might\n\n357\n00:19:25.460 --> 00:19:26.350\ndelegate a task to.\n\n358\n00:19:26.350 --> 00:19:30.870\nEven though it's server core, it now\ngives them the ability to also add in.\n\n359\n00:19:30.870 --> 00:19:32.840\nAnd to change some of\nthose configurations.\n\n360\n00:19:32.840 --> 00:19:34.570\nIt makes it a lot easier for them.\n\n361\n00:19:34.570 --> 00:19:36.700\nBut what you have on that end,\non that server core, right,\n\n362\n00:19:36.700 --> 00:19:39.040\nis only the necessary things\nthat you want running.\n\n363\n00:19:39.040 --> 00:19:42.090\nAnd that makes it a lot more efficient,\nand makes it a lot better for us.\n\n364\n00:19:42.090 --> 00:19:42.600\n>> Absolutely.\n\n365\n00:19:42.600 --> 00:19:46.664\nSo, now I can manage everything sitting\nin my little cubicle with my Windows\n\n366\n00:19:46.664 --> 00:19:47.295\n8.1 laptop.\n\n367\n00:19:47.295 --> 00:19:50.535\nThey've put me down in the basement\nright with my red stapler.\n\n368\n00:19:50.535 --> 00:19:54.145\nAnd I can manage everything from\nright there and I'm good to go.\n\n369\n00:19:54.145 --> 00:19:57.255\nSo, learning how to do this remote\nmanagement by being able to\n\n370\n00:19:57.255 --> 00:20:01.250\nuse server manger to mange\nmultiple servers at the same time.\n\n371\n00:20:01.250 --> 00:20:04.210\nIt gives the ability to do\nthat day-to-day management\n\n372\n00:20:05.260 --> 00:20:08.680\nthrough a single interface here and\nI think, to me, that's a wonderful thing.\n\n373\n00:20:08.680 --> 00:20:09.770\n>> It really is.\n\n374\n00:20:09.770 --> 00:20:11.950\nSo, Mike, is there anything else we\nneed to know about Server Core and\n\n375\n00:20:11.950 --> 00:20:12.910\nremote management?\n\n376\n00:20:12.910 --> 00:20:14.320\n>> I think we've got it covered.\n\n377\n00:20:14.320 --> 00:20:14.820\n>> All right.\n\n378\n00:20:14.820 --> 00:20:17.780\nSo, that actually ends it for\nour show for today.\n\n379\n00:20:17.780 --> 00:20:20.160\nSigning off for ITProTV, I'm Ronnie Wong.\n\n380\n00:20:20.160 --> 00:20:21.080\n>> And I'm Mike Rodrick.\n\n381\n00:20:21.080 --> 00:20:22.345\n>> And we'll see you next time.\n\n382\n00:20:22.345 --> 00:20:27.870\n[MUSIC]\n\n",
          "vimeoId": "136865131"
        },
        {
          "description": "In this episode Daniel and Mike take a look at working with printers at the enterprise level. They take a look at the print management console and its features.",
          "length": "1613",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-5-1-configuring_printers-082515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-5-1-configuring_printers-082515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-5-1-configuring_printers-082515-1-sm.jpg",
          "title": "Configuring Printers",
          "transcript": "WEBVTT\n\n1\n00:00:00.008 --> 00:00:10.455\n[MUSIC]\n\n2\n00:00:10.455 --> 00:00:15.510\nAll right, greetings everyone and welcome\nto another fantastic episode of ITProTV.\n\n3\n00:00:15.510 --> 00:00:18.910\nI'm your host Daniel Lowry,\nwith me today is Mr. Mike Rodrick.\n\n4\n00:00:18.910 --> 00:00:19.780\nHow's it going today, Mike?\n\n5\n00:00:19.780 --> 00:00:23.170\n>> Oh, it's going great, Daniel, and\ntoday, we're going to be doing printers,\n\n6\n00:00:23.170 --> 00:00:26.125\none of my,\nI can't even lie to the folks out there.\n\n7\n00:00:26.125 --> 00:00:27.060\n>> [LAUGH]\n>> I really can't lie.\n\n8\n00:00:27.060 --> 00:00:28.070\n>> With a straight face.\n\n9\n00:00:28.070 --> 00:00:29.250\n>> I hate printers.\n\n10\n00:00:29.250 --> 00:00:30.150\nI'm just going to say it.\n\n11\n00:00:30.150 --> 00:00:31.200\nI hate printers.\n\n12\n00:00:31.200 --> 00:00:33.255\n>> They are the bane of our existence.\n\n13\n00:00:33.255 --> 00:00:36.650\n[LAUGH]\n>> Yeah, if anything ever goes wrong with\n\n14\n00:00:36.650 --> 00:00:39.180\nthe printer,\nI just holler out where's Ronnie?\n\n15\n00:00:39.180 --> 00:00:41.450\nGo find him and let him deal with it.\n\n16\n00:00:41.450 --> 00:00:44.880\nSeen the Office Space movie where they\ntake the baseball bat to the printer?\n\n17\n00:00:44.880 --> 00:00:46.710\nYeah, that's me.\n>> Execution style out in the field,\n\n18\n00:00:46.710 --> 00:00:47.420\nthe printers.\n\n19\n00:00:47.420 --> 00:00:51.060\nMike makes the jokes, but\n>> Printers are a real,\n\n20\n00:00:51.060 --> 00:00:54.060\nreal pain because well,\nthey tend to break a lot.\n\n21\n00:00:54.060 --> 00:00:55.920\nAnd when I say a lot, I mean daily.\n\n22\n00:00:55.920 --> 00:00:57.460\nThey are a horrible, horrible thing.\n\n23\n00:00:57.460 --> 00:01:00.460\nWhich is why we need to understand what\nto do and how to work with them, so\n\n24\n00:01:00.460 --> 00:01:01.670\nwe can get them back into action.\n\n25\n00:01:01.670 --> 00:01:04.875\nBecause like it or not, people need to\nprint things out and when they do and\n\n26\n00:01:04.875 --> 00:01:06.785\nit's not working,\nthey're gonna give us a call.\n\n27\n00:01:06.785 --> 00:01:08.795\nSo Mike, where do we start with this?\n\n28\n00:01:08.795 --> 00:01:10.745\n>> And\nit really is right up there with you know,\n\n29\n00:01:10.745 --> 00:01:13.315\nif you look at the list of things\nof importance on your network.\n\n30\n00:01:13.315 --> 00:01:15.505\nI mean,\nprinters are right up there at the top.\n\n31\n00:01:15.505 --> 00:01:19.800\nEmail servers, printers, I mean,\nthese are things that users use every day,\n\n32\n00:01:19.800 --> 00:01:22.190\nseveral times a day and\nwithout them, yeah,\n\n33\n00:01:22.190 --> 00:01:25.220\nit's one of those, if that printer\ngoes down, it's like the email server,\n\n34\n00:01:25.220 --> 00:01:28.330\nif it goes down, you know that phone's\ngonna light up within 45 seconds.\n\n35\n00:01:28.330 --> 00:01:30.901\n>> Call generating event, right?\n\n36\n00:01:30.901 --> 00:01:31.517\n[LAUGH] Absolutely.\n\n37\n00:01:31.517 --> 00:01:34.178\nSo yeah we need to work with them and now\nin A+ you learn how to fix printers and\n\n38\n00:01:34.178 --> 00:01:35.160\nthings like that.\n\n39\n00:01:35.160 --> 00:01:36.490\nThat's not what we're getting into here.\n\n40\n00:01:36.490 --> 00:01:39.070\nHere we're talking about\nmanaging printers, and\n\n41\n00:01:39.070 --> 00:01:40.670\nmanaging them on an enterprise level.\n\n42\n00:01:40.670 --> 00:01:45.150\nThat means in a not wanting do have\na Deskjet sitting at everybody's desk and\n\n43\n00:01:45.150 --> 00:01:46.025\nmanaging in that way.\n\n44\n00:01:46.025 --> 00:01:49.100\nWe're talking about, you can still\nmanage those types of printers, but\n\n45\n00:01:49.100 --> 00:01:52.730\ndoing it centrally, and a lot of times\nthat we're talking about the big Bizhubs,\n\n46\n00:01:52.730 --> 00:01:57.170\nand those types of printers,\nnetwork based printers that\n\n47\n00:01:57.170 --> 00:02:00.100\ndo everything except make breakfast for\nyou, that kinda thing.\n\n48\n00:02:00.100 --> 00:02:02.670\nSo, that's what we wanna look at and\n\n49\n00:02:02.670 --> 00:02:06.650\nthe first thing I wanna show you is just\nthe print management console in 2012.\n\n50\n00:02:06.650 --> 00:02:09.380\nIt's a snap and I've already\ntaken the time to install this so\n\n51\n00:02:09.380 --> 00:02:11.540\nwe don't have to go\nthrough it on the show.\n\n52\n00:02:11.540 --> 00:02:13.600\nBut you would install it\nlike any roller feature.\n\n53\n00:02:13.600 --> 00:02:15.890\nI'm just gonna quickly go through here and\nshow you.\n\n54\n00:02:15.890 --> 00:02:20.580\nWhen you get to your list of server roles,\nthere's a role called print and\n\n55\n00:02:20.580 --> 00:02:22.190\ndocument services.\n\n56\n00:02:22.190 --> 00:02:25.870\nIt does have some sub components to it,\nthere's some additional pieces.\n\n57\n00:02:25.870 --> 00:02:28.680\nIf you just do the print server,\nwell, that's all you are.\n\n58\n00:02:28.680 --> 00:02:31.240\nTheres also distributed scan server.\n\n59\n00:02:31.240 --> 00:02:33.700\nSo if you gonna get your,\nif you have network base scanners,\n\n60\n00:02:33.700 --> 00:02:38.560\nwe can start managing those, there's this\nline printer daemon, if we're working\n\n61\n00:02:38.560 --> 00:02:41.760\nwith Unix based systems allowing\nthem to help print to your printers.\n\n62\n00:02:41.760 --> 00:02:44.080\nAnd then there's the one\nI did install there.\n\n63\n00:02:44.080 --> 00:02:46.820\nSo, we could take a peek\nat it is internet printer.\n\n64\n00:02:46.820 --> 00:02:50.430\nWhich basically means we're gonna\ntake that print server, install IIS.\n\n65\n00:02:50.430 --> 00:02:54.010\nIt also needs .net and a couple of other\nthings, but it handles all that for me.\n\n66\n00:02:54.010 --> 00:02:55.340\nWhen I choose that role and\n\n67\n00:02:55.340 --> 00:02:58.530\nall of a sudden I have a webpage\nthat people can connect to, and\n\n68\n00:02:58.530 --> 00:03:01.880\nwork with the queues on the printers\nthat are on that print server.\n\n69\n00:03:01.880 --> 00:03:03.550\nSo, a few different things you can choose.\n\n70\n00:03:03.550 --> 00:03:06.560\nBut again, I've already done it,\nbecause it takes a couple minutes.\n\n71\n00:03:06.560 --> 00:03:09.010\nEspecially, if you're doing\nthe internet printing,\n\n72\n00:03:09.010 --> 00:03:10.490\nbecause you've got to install IAS.\n\n73\n00:03:10.490 --> 00:03:13.240\nYou've gotta install .netframework and\na bunch of other stuff.\n\n74\n00:03:13.240 --> 00:03:14.250\nTo make that work.\n\n75\n00:03:14.250 --> 00:03:16.280\nSo I got that done and\n\n76\n00:03:16.280 --> 00:03:18.890\nnow if we take a look underneath tools,\nwell a couple of places.\n\n77\n00:03:18.890 --> 00:03:23.316\nOne I've got print services right over\nhere in server manager, and I can take\n\n78\n00:03:23.316 --> 00:03:28.060\na look at the server and let it, it\ndoesn't look like I have any events yet.\n\n79\n00:03:28.060 --> 00:03:32.770\nI can see and make sure the services\nare running on that print server.\n\n80\n00:03:32.770 --> 00:03:37.260\nGot some performance indicators and\nI can see what is installed on there.\n\n81\n00:03:37.260 --> 00:03:41.054\nSo some basic high level overview\nof this information about your\n\n82\n00:03:41.054 --> 00:03:42.840\nfriend's server there.\n\n83\n00:03:42.840 --> 00:03:47.580\nTo really get into it, we're gonna\nopen up our print management console.\n\n84\n00:03:47.580 --> 00:03:51.540\nAnd this a snap in, so\nyou can make your own MMC and\n\n85\n00:03:51.540 --> 00:03:54.280\nadd it to a custom MMC if you want to.\n\n86\n00:03:54.280 --> 00:03:58.740\nOnce we get it in here,\nI can see my Print Servers.\n\n87\n00:03:58.740 --> 00:04:03.100\nNow if I have another server that\nwas running as a Print Server,\n\n88\n00:04:03.100 --> 00:04:07.270\nI can add that to this console, I could\nsimply right click, and add servers,\n\n89\n00:04:07.270 --> 00:04:09.120\nI can browse and find that server.\n\n90\n00:04:09.120 --> 00:04:12.290\nAnd manage them all, from one location.\n\n91\n00:04:12.290 --> 00:04:15.380\nBut I only have the one, so\nthat's all we're gonna deal with for now.\n\n92\n00:04:16.380 --> 00:04:20.760\nAnd I can see it's actually next to my\nvirtualization, good old VM work station,\n\n93\n00:04:20.760 --> 00:04:23.640\nit's picked up all the printers\nthat my host machine has access to.\n\n94\n00:04:23.640 --> 00:04:26.630\nI don't have all of these installed on\nhere, so I gotta be real careful, Daniel,\n\n95\n00:04:26.630 --> 00:04:27.190\nI don't wanna go and\n\n96\n00:04:27.190 --> 00:04:30.460\nconfigure Tim's printer in his\noffice during the show here.\n\n97\n00:04:30.460 --> 00:04:32.555\n>> I'm sure he'd love it,\nI'm sure he'd love that.\n\n98\n00:04:32.555 --> 00:04:33.710\n[LAUGH]\n>> That might cause\n\n99\n00:04:33.710 --> 00:04:35.710\na little bit of a problem over there.\n\n100\n00:04:35.710 --> 00:04:36.360\nBut anyway.\n\n101\n00:04:36.360 --> 00:04:38.380\nSo we can work with the server itself and\n\n102\n00:04:38.380 --> 00:04:40.468\nthe server has properties\nthat we can take a look at.\n\n103\n00:04:40.468 --> 00:04:43.146\nAll right.\n\n104\n00:04:43.146 --> 00:04:46.270\nWe can set the form sizes.\n\n105\n00:04:46.270 --> 00:04:48.240\nWe've got the ports that\nare available on here.\n\n106\n00:04:48.240 --> 00:04:51.060\nWe're going to talk a little bit more\nabout ports in a bit because we're\n\n107\n00:04:51.060 --> 00:04:54.040\ngoing to take a look at something\ncalled printer pooling.\n\n108\n00:04:54.040 --> 00:04:56.500\nI've got the drivers that are available.\n\n109\n00:04:56.500 --> 00:04:59.420\nI've got my security and\nthis is just for the server itself.\n\n110\n00:04:59.420 --> 00:05:04.380\nAnd then I can change where that spool or\nfile that is located on this service.\n\n111\n00:05:05.640 --> 00:05:09.471\nWhen we get down to it, we get down to\nhere and I've got again my printers.\n\n112\n00:05:09.471 --> 00:05:12.430\nAnd this is where I can manage\nthose printers from here.\n\n113\n00:05:12.430 --> 00:05:14.640\nNow I'm going to go ahead and\nadd a printer again.\n\n114\n00:05:14.640 --> 00:05:17.970\nI'll pull up the properties of this one,\njust don't let me change anything.\n\n115\n00:05:19.740 --> 00:05:22.440\nThis is the printer that's\nout on the sales floor here.\n\n116\n00:05:22.440 --> 00:05:25.920\nBut when you pull up the properties\nof a printer through print management\n\n117\n00:05:25.920 --> 00:05:27.840\nyou can configure quite a bit.\n\n118\n00:05:27.840 --> 00:05:32.750\nOn the general tab I've got the name\nup here, and i can put in a location.\n\n119\n00:05:32.750 --> 00:05:35.830\nSome bigger organizations\nthat location is fantastic.\n\n120\n00:05:35.830 --> 00:05:40.090\nI don't know if you've ever used\nthat the ability to search for\n\n121\n00:05:40.090 --> 00:05:42.090\na printer based on location.\n\n122\n00:05:42.090 --> 00:05:45.320\n>> Oh yeah, that's a real handy\nthing because then I can say,\n\n123\n00:05:45.320 --> 00:05:46.660\nwhat printer are you talking about?\n\n124\n00:05:46.660 --> 00:05:49.920\nThen I can just look at the location\nactive directory and make sure that,\n\n125\n00:05:49.920 --> 00:05:52.160\nthat is the printer that\nthey're actually talking about,\n\n126\n00:05:52.160 --> 00:05:54.890\ncuz you hate to be trouble shooting\na printer that's working fine and going,\n\n127\n00:05:54.890 --> 00:05:56.540\nI don't understand what's your issue is?\n\n128\n00:05:56.540 --> 00:05:57.740\nEverything seems to be working.\n\n129\n00:05:57.740 --> 00:05:59.250\nWell it's not printing and\n\n130\n00:05:59.250 --> 00:06:01.410\nit's just because you're\nlooking at the wrong printer.\n\n131\n00:06:01.410 --> 00:06:04.182\n>> Absolutely and if you set it up right\npeople can search for printers, and\n\n132\n00:06:04.182 --> 00:06:06.010\nthey can say look,\nI'm looking for a printer.\n\n133\n00:06:06.010 --> 00:06:07.400\nI wanna print this for Bob.\n\n134\n00:06:07.400 --> 00:06:09.410\nBob's over in building four.\n\n135\n00:06:09.410 --> 00:06:11.430\n>> How about I print to a printer\nthat's in building four so\n\n136\n00:06:11.430 --> 00:06:15.270\nBob doesn't have to run across\nthe campus to go find that print job?\n\n137\n00:06:15.270 --> 00:06:16.510\nWe can also share it out.\n\n138\n00:06:16.510 --> 00:06:19.750\nThat's what's gonna make it\navailable to the network so\n\n139\n00:06:19.750 --> 00:06:24.070\nthat people can add that printer to their\nlocal computer so they can print to it.\n\n140\n00:06:24.070 --> 00:06:25.590\nAgain I've got the ports.\n\n141\n00:06:25.590 --> 00:06:29.980\nWe'll talk a little bit more about that\nin a minute and the availability here or\n\n142\n00:06:29.980 --> 00:06:33.030\nthe availability and\nthe priority come back and\n\n143\n00:06:33.030 --> 00:06:34.670\ntalk about that in a minute as well.\n\n144\n00:06:35.750 --> 00:06:40.320\nColor management, security, all of these,\nmost of these I'm going to come back and\n\n145\n00:06:40.320 --> 00:06:40.890\ntalk about.\n\n146\n00:06:40.890 --> 00:06:41.740\nSo anyway,\n\n147\n00:06:41.740 --> 00:06:44.550\nthe point here is that I can work with\nthose properties from right here.\n\n148\n00:06:44.550 --> 00:06:49.500\nAnd that printer might be attached to the\nnetwork in another building somewhere and\n\n149\n00:06:49.500 --> 00:06:50.620\nI can work with it from here.\n\n150\n00:06:50.620 --> 00:06:54.230\nSo it simplifies and\ncentralizes the management of printers.\n\n151\n00:06:54.230 --> 00:06:57.960\nAnd as I said, I can add all my print\nservers to this one console just because\n\n152\n00:06:57.960 --> 00:07:01.350\nI'm running it on this one machine or\nI could go to my client machine,\n\n153\n00:07:01.350 --> 00:07:06.080\ninstall my remote server admin tools and I\ncould manage my print servers from there,\n\n154\n00:07:06.080 --> 00:07:09.510\nso it's really nice to be able to kind of\ncentralize that, bring it all together.\n\n155\n00:07:09.510 --> 00:07:11.810\nIt makes it much easier\nif you're responsible for\n\n156\n00:07:11.810 --> 00:07:15.200\nthe printers cuz most likely we're\nnot gonna have just one printer.\n\n157\n00:07:15.200 --> 00:07:17.240\n>> Even in a small shop.\n\n158\n00:07:17.240 --> 00:07:18.250\nYou've got multiple printers.\n\n159\n00:07:18.250 --> 00:07:21.190\nYou get into a big shop,\nyou can't have just one.\n\n160\n00:07:21.190 --> 00:07:22.620\nIt just can't handle the work load.\n\n161\n00:07:22.620 --> 00:07:25.000\nSo you're gonna have dozens of printers.\n\n162\n00:07:25.000 --> 00:07:28.270\n>> Yeah, and using the print management\nconsole that they have built into\n\n163\n00:07:28.270 --> 00:07:32.370\nthe Windows Operating System, makes that\na whole lot easier than trying to manage\n\n164\n00:07:32.370 --> 00:07:35.275\nit from any ones desktop because\nthey have got a connection issue, or\n\n165\n00:07:35.275 --> 00:07:37.815\nyou just want to make\nnice centralized location\n\n166\n00:07:37.815 --> 00:07:42.715\nwhere all your printers are coming into so\nthat you can manage them at that one spot.\n\n167\n00:07:42.715 --> 00:07:44.715\nThat's the real benefit of using.\n\n168\n00:07:44.715 --> 00:07:47.885\nPlus all the cool features that's\nbuilt into that piece of software.\n\n169\n00:07:47.885 --> 00:07:49.173\nReally, really good tool.\n\n170\n00:07:49.173 --> 00:07:51.517\n>> All right, so the first thing I want\nto do, I just want to add a printer.\n\n171\n00:07:51.517 --> 00:07:54.490\nSo I'm going to right click out here and\nchoose add printer.\n\n172\n00:07:54.490 --> 00:07:55.476\nAnd I'm gonna lie to it.\n\n173\n00:07:55.476 --> 00:07:57.531\nI don't really have a printer\ninstalled on this guy.\n\n174\n00:07:57.531 --> 00:07:58.193\n>> You liar.\n\n175\n00:07:58.193 --> 00:07:58.913\n>> I know, right?\n\n176\n00:07:58.913 --> 00:07:59.890\nCrazy.\n\n177\n00:07:59.890 --> 00:08:02.690\nAnd I'm gonna do TCP/IP or\nWeb Based Printer.\n\n178\n00:08:02.690 --> 00:08:06.160\nYou could also do it by setting up\na new printer with an existing port.\n\n179\n00:08:06.160 --> 00:08:11.245\nThis would be if it was physically plugged\ninto that server via a COM port or\n\n180\n00:08:11.245 --> 00:08:13.185\nan LPT port.\n\n181\n00:08:13.185 --> 00:08:15.015\nYou could create a brand new port.\n\n182\n00:08:15.015 --> 00:08:18.080\nI'm just gonna go ahead and\ndo TCP and I'll click Next.\n\n183\n00:08:18.080 --> 00:08:21.395\nBecause it's easiest to lie to it\nby using that option honestly.\n\n184\n00:08:21.395 --> 00:08:25.155\nAnd I'm gonna do a TCP/IP device and\nI'll give it an IP address.\n\n185\n00:08:26.265 --> 00:08:30.067\nLet me see if I've already used, let me\njust double check one thing here, Daniel.\n\n186\n00:08:30.067 --> 00:08:33.160\nI can't remember if I added,\nI did add those ports earlier so,\n\n187\n00:08:33.160 --> 00:08:34.705\nI tell you what I'm gonna do.\n\n188\n00:08:36.860 --> 00:08:39.080\nWe're gonna do some printer\npooling in a little bit and\n\n189\n00:08:39.080 --> 00:08:41.370\nwe're gonna need to add some\nadditional ports and I went ahead and\n\n190\n00:08:41.370 --> 00:08:44.520\nadded those guys ahead of time\nbecause it takes it awhile.\n\n191\n00:08:44.520 --> 00:08:47.210\nI'll show you the process and\nthen I might cancel it out.\n\n192\n00:08:47.210 --> 00:08:50.310\nBut it does this auto-detect and because\nthis printer's not really there and\n\n193\n00:08:50.310 --> 00:08:53.970\nthere's nothing responding on that IP\naddress, the wizard just sits there and\n\n194\n00:08:53.970 --> 00:08:56.874\nspins and spins and spins and\nyou kind of have to wait for it.\n\n195\n00:08:56.874 --> 00:08:57.620\nSo I'm gonna go ahead and\n\n196\n00:08:57.620 --> 00:09:01.720\nadd a printer to one of those existing\nports since I already added it.\n\n197\n00:09:01.720 --> 00:09:05.373\nSo I want to add a new printer\nusing an existing port,\n\n198\n00:09:05.373 --> 00:09:10.202\nand I'm gonna go down to here and\nchoose my TCP/IP port at 2.25.\n\n199\n00:09:10.202 --> 00:09:13.870\nI'll click Next, and\nI'll install a new driver.\n\n200\n00:09:15.760 --> 00:09:17.840\nLet it build its list here.\n\n201\n00:09:17.840 --> 00:09:21.294\nAnd let's say we've got a Canon,\noh, let's do something different so\n\n202\n00:09:21.294 --> 00:09:22.942\nit doesn't match the other ones.\n\n203\n00:09:22.942 --> 00:09:26.768\nLet's do a Kodak, whatever the heck\nthat one is, we'll do the C.\n\n204\n00:09:26.768 --> 00:09:29.782\nC's got to be better than-\n>> Than, yeah, by far.\n\n205\n00:09:29.782 --> 00:09:30.391\n>> It's gotta be, right?\n\n206\n00:09:30.391 --> 00:09:31.296\n[LAUGH]\n>> All right, so\n\n207\n00:09:31.296 --> 00:09:33.455\nI'll go ahead and choose that one,\nand I'll click Next.\n\n208\n00:09:35.015 --> 00:09:39.455\nAnd then I can set the printer name, so\nthat it's something I can recognize.\n\n209\n00:09:39.455 --> 00:09:42.845\nI might want to do something like,\nKodak on the Sales Floor.\n\n210\n00:09:44.185 --> 00:09:46.325\nAll right, and\nthe same thing with the share name.\n\n211\n00:09:46.325 --> 00:09:51.450\nI like to keep the share name short and\nsweet and to the point.\n\n212\n00:09:51.450 --> 00:09:55.520\nSo I might do, again, something like\nthat or I might just say Sales Floor,\n\n213\n00:09:55.520 --> 00:09:58.410\nall right?\n\n214\n00:09:58.410 --> 00:10:01.130\nAnd we'll click Next, and so\nthat's going to share that.\n\n215\n00:10:01.130 --> 00:10:05.100\nIf I didn't want to, I could uncheck that\nand it would not share that printer out.\n\n216\n00:10:05.100 --> 00:10:07.884\nI'll click Next and I'll click Next.\n\n217\n00:10:10.206 --> 00:10:11.350\nWe'll let it install that driver.\n\n218\n00:10:13.210 --> 00:10:15.070\nAnd then I can click Finish.\n\n219\n00:10:15.070 --> 00:10:19.069\nAnd I now have a new printer,\nKodak Sales Floor, all right?\n\n220\n00:10:19.069 --> 00:10:22.770\nAnd it shared out which means\nanybody should be able to add that.\n\n221\n00:10:22.770 --> 00:10:24.330\nNow let's take a look at that.\n\n222\n00:10:24.330 --> 00:10:25.700\nI'm gonna flip over to the client.\n\n223\n00:10:26.700 --> 00:10:28.070\nBecause deploying printers, Daniel,\n\n224\n00:10:28.070 --> 00:10:31.390\nis one of the other fun things\nthat we have to do, right?\n\n225\n00:10:31.390 --> 00:10:34.900\nAnd somehow, I've got to get that\nprinter out to the clients, right?\n\n226\n00:10:34.900 --> 00:10:37.970\nI need my users to start\nusing that printer.\n\n227\n00:10:37.970 --> 00:10:40.220\nAnd sometimes trying to walk\nthem through the wizard or\n\n228\n00:10:40.220 --> 00:10:41.670\nletting them do it can be a challenge.\n\n229\n00:10:41.670 --> 00:10:45.670\n>> Yeah, it's really trying to figure out\nthe best way to make everything happen.\n\n230\n00:10:45.670 --> 00:10:49.880\nI mean a lot of, especially these\nmulti-user all-in-one things that you can\n\n231\n00:10:49.880 --> 00:10:53.200\nget leased, systems, well they have\nprint servers built in to them.\n\n232\n00:10:53.200 --> 00:10:57.648\nShould I use my Microsoft print server or\nshould I use the built-in print server?\n\n233\n00:10:57.648 --> 00:11:02.138\nAnd it's really, if you're Microsoft shop,\nyou're doing everything through Microsoft,\n\n234\n00:11:02.138 --> 00:11:05.000\nit's probably a whole lot easier for\nyour users to detect and\n\n235\n00:11:05.000 --> 00:11:08.478\nadd that printer to their systems if\nyou go through the Active Directory,\n\n236\n00:11:08.478 --> 00:11:11.110\nput it in the Print Management,\nuse it that way.\n\n237\n00:11:11.110 --> 00:11:12.410\nNot that you couldn't\nuse it the other way,\n\n238\n00:11:12.410 --> 00:11:15.930\nI mean literally,\nthey could use both if they wanted to.\n\n239\n00:11:15.930 --> 00:11:18.860\nBut, having it built into that\nActive Directory environment for\n\n240\n00:11:18.860 --> 00:11:22.844\nthem to be able to just easily search it\nout through the AD makes it a little bit\n\n241\n00:11:22.844 --> 00:11:24.050\neasier for our end users.\n\n242\n00:11:24.050 --> 00:11:25.910\nSo it is more beneficial, I would say.\n\n243\n00:11:25.910 --> 00:11:27.360\n>> Absolutely, and\nwe're gonna talk about that.\n\n244\n00:11:27.360 --> 00:11:28.190\nThat was a great point,\n\n245\n00:11:28.190 --> 00:11:31.400\nputting this thing in Active Directory\ncuz, by default, it didn't do that.\n\n246\n00:11:31.400 --> 00:11:32.192\nWell, let's find out here.\n\n247\n00:11:32.192 --> 00:11:36.081\nWe're gonna click Add a Printer,\nand it's gonna search and\n\n248\n00:11:36.081 --> 00:11:41.359\nfind absolutely nothing, even though I\njust finished sharing out that printer.\n\n249\n00:11:41.359 --> 00:11:44.066\nI can say the printer wasn't listed, and\n\n250\n00:11:44.066 --> 00:11:48.700\nI can try to find it by name if I knew\nthe name of the server is VRO1/, and\n\n251\n00:11:48.700 --> 00:11:52.730\nthen I shared it out as Kodak Sales Floor,\nso there it is.\n\n252\n00:11:52.730 --> 00:11:55.370\nSo I could find it this way,\nbut your end users,\n\n253\n00:11:55.370 --> 00:11:57.691\ndo they know the name of the print server?\n\n254\n00:11:57.691 --> 00:12:02.232\nAnd in a large environment you're gonna\nhave multiple print servers and to know\n\n255\n00:12:02.232 --> 00:12:06.790\nthe right one to connect to probably is\nnot gonna be the easiest way to do things.\n\n256\n00:12:06.790 --> 00:12:09.500\nSo it is possible,\nthey could search for it.\n\n257\n00:12:09.500 --> 00:12:13.280\nBut we can make it a lot easier on\nthe users by doing what Daniel said,\n\n258\n00:12:13.280 --> 00:12:15.860\nand that's just publishing\nit in Active Directory.\n\n259\n00:12:15.860 --> 00:12:19.168\nAll I'm gonna do is I'm gonna come\nover here to the properties of this.\n\n260\n00:12:19.168 --> 00:12:23.102\nIn fact, it's got an option right here,\nList in Directory.\n\n261\n00:12:23.102 --> 00:12:25.770\nIf I go into my Properties, and\n\n262\n00:12:25.770 --> 00:12:29.110\nI go on to my Sharing,\nI can see the same option here.\n\n263\n00:12:29.110 --> 00:12:30.599\nSo it's such a common option,\n\n264\n00:12:30.599 --> 00:12:33.890\nthey've actually added it now to\nthat right-click context menu.\n\n265\n00:12:33.890 --> 00:12:37.173\nI'll just choose List in Directory,\nand click OK.\n\n266\n00:12:37.173 --> 00:12:41.461\nWhat that's gonna do, is it's gonna\npublish an object in Active Directory for\n\n267\n00:12:41.461 --> 00:12:42.300\nthat printer.\n\n268\n00:12:42.300 --> 00:12:46.340\nNow if I go back over to the client,\nsee if we've given it enough time.\n\n269\n00:12:46.340 --> 00:12:50.560\nAnd I go Add Printer, and\nlook at there, pops right up.\n\n270\n00:12:50.560 --> 00:12:53.248\nKodak Sales Foor on Svr1.\n\n271\n00:12:53.248 --> 00:12:56.760\nSo we can make it a lot easier for my\nend users to find those printers by just\n\n272\n00:12:56.760 --> 00:12:59.320\nmaking sure we publish\nit in Active Directory.\n\n273\n00:12:59.320 --> 00:13:01.070\nJust keep in mind,\nit's not done by default.\n\n274\n00:13:01.070 --> 00:13:04.130\nAnd it didn't give me that option when\nI was installing that printer, right?\n\n275\n00:13:04.130 --> 00:13:05.562\nIt gave me the ability to share it, but\n\n276\n00:13:05.562 --> 00:13:07.844\nit didn't give me the ability\nto list it in the directory.\n\n277\n00:13:07.844 --> 00:13:11.873\nI have to go back in after the fact and\nadd that into Active Directory.\n\n278\n00:13:11.873 --> 00:13:13.188\nNow I'm not going to add it yet\n\n279\n00:13:13.188 --> 00:13:16.250\nbecause I want to show you a couple\nother ways we can end up doing this.\n\n280\n00:13:17.410 --> 00:13:19.270\nSo back over here on Server 1.\n\n281\n00:13:19.270 --> 00:13:21.910\nSo we can let the users find the printer.\n\n282\n00:13:21.910 --> 00:13:26.240\nWe can publish it in Active Directory so\nthat at least it shows up in that list.\n\n283\n00:13:26.240 --> 00:13:30.220\nAnother way we can do this\nis by using Group Policy.\n\n284\n00:13:30.220 --> 00:13:33.115\nGroup Policy, we've done several\nepisodes on Group Policy and\n\n285\n00:13:33.115 --> 00:13:35.269\nwe'll have several more\nthat we're gonna do.\n\n286\n00:13:35.269 --> 00:13:36.807\nBut Group Policy's an easy way to do it.\n\n287\n00:13:36.807 --> 00:13:42.147\nAnd so what I'm gonna do, I could go\nto Active Directory Group Policy,\n\n288\n00:13:42.147 --> 00:13:45.810\nbut I can also do it from right here.\n\n289\n00:13:45.810 --> 00:13:49.159\nAll I have to do is\nright-click on that printer and\n\n290\n00:13:49.159 --> 00:13:51.487\nchoose Deploy with Group Policy.\n\n291\n00:13:51.487 --> 00:13:55.150\nAnd what it's gonna do is it's\nactually gonna create the GPO for me.\n\n292\n00:13:55.150 --> 00:13:59.720\nI could go onto my domain controller and\nopen up Group Policy Management and\n\n293\n00:13:59.720 --> 00:14:02.490\nI could create the policy and\ndo it all that way as well.\n\n294\n00:14:02.490 --> 00:14:04.350\nHere, I'm going to click Browse.\n\n295\n00:14:04.350 --> 00:14:07.510\nIf I had a policy that I wanted to use,\nI could go ahead and grab that.\n\n296\n00:14:07.510 --> 00:14:11.050\nI can also go to,\nif I had other domains to look in.\n\n297\n00:14:12.170 --> 00:14:18.790\nI'm gonna create a new policy, and\nI'm just gonna call it Sales Printer.\n\n298\n00:14:22.969 --> 00:14:27.795\nThen I'll click OK, and\nthen I'm gonna choose this option here.\n\n299\n00:14:27.795 --> 00:14:30.720\nSo I right-clicked on the printer,\nthat's how it knows what printer.\n\n300\n00:14:30.720 --> 00:14:32.320\nI've told it the name of the GPO,\n\n301\n00:14:32.320 --> 00:14:36.100\nand then down below there's Deploy this\nprinter connection to the following.\n\n302\n00:14:36.100 --> 00:14:39.185\nThe users that the GPO applies to or\nthe computer.\n\n303\n00:14:39.185 --> 00:14:41.947\nSo basically, if you think\nabout Group Policy Management,\n\n304\n00:14:41.947 --> 00:14:45.860\nare you going under the computer half and\ndoing this, or the user half?\n\n305\n00:14:45.860 --> 00:14:50.110\nIf you do it to the computer, it's\na lot easier because that way all user\n\n306\n00:14:50.110 --> 00:14:53.030\nprofiles on that computer\nwill have that printer.\n\n307\n00:14:53.030 --> 00:14:55.212\nIf you do it to a per user, well now, and\n\n308\n00:14:55.212 --> 00:14:58.800\nmaybe that's the way you want to do it,\nit depends on your scenario.\n\n309\n00:14:58.800 --> 00:15:02.340\nBut some people might log onto the machine\nand have the printer, some people don't.\n\n310\n00:15:02.340 --> 00:15:04.920\nIt depends on what you scoped that GPO to,\nright?\n\n311\n00:15:04.920 --> 00:15:07.310\nIf you did it to the entire domain,\nthen all users.\n\n312\n00:15:07.310 --> 00:15:10.120\nI'm gonna do it to the entire domain,\nand to the computer, itself.\n\n313\n00:15:10.120 --> 00:15:12.960\nThat way, anybody that logs onto\nthe machine has access to the printer.\n\n314\n00:15:12.960 --> 00:15:15.900\nNow, in the real world, I'd probably\nwant to be a little more specific.\n\n315\n00:15:15.900 --> 00:15:18.180\nI might not link this to the domain,\nitself.\n\n316\n00:15:18.180 --> 00:15:21.318\nBecause I really don't want this printer\ngetting installed on my servers and\n\n317\n00:15:21.318 --> 00:15:22.095\nthings like that.\n\n318\n00:15:22.095 --> 00:15:24.680\nBut for the demo purposes,\nthis will be fine.\n\n319\n00:15:24.680 --> 00:15:28.330\nI'll click Add, and I'm good to go.\n\n320\n00:15:28.330 --> 00:15:32.950\nI'll click OK, and it succeeded,\nwhich is good, and\n\n321\n00:15:32.950 --> 00:15:35.970\nwe'll try to click OK again there.\n\n322\n00:15:35.970 --> 00:15:41.790\nClose that, and now if we take a look\nback at DC1, we're gonna go in and\n\n323\n00:15:41.790 --> 00:15:46.390\nwake this machine up, cuz he is sleepy.\n\n324\n00:15:46.390 --> 00:15:48.670\nAnd we'll open up\nthe Group Policy Management console.\n\n325\n00:15:51.838 --> 00:15:53.673\nAnd here let's see what the results were.\n\n326\n00:15:53.673 --> 00:15:57.700\nNow I will tell you this is one of those\nthings that doesn't kick in right away.\n\n327\n00:15:57.700 --> 00:16:02.187\nIf we go check the client we might or\nmight not have the printer just yet, but\n\n328\n00:16:02.187 --> 00:16:06.760\nthere's my GPU, my sales printer GPU,\nand if I take a look at the settings,\n\n329\n00:16:09.522 --> 00:16:13.620\nWill add that page to my trusted,\nand there we go, so\n\n330\n00:16:13.620 --> 00:16:19.625\nyou can see it's pushing out that\nserver one slash codex sales floor.\n\n331\n00:16:19.625 --> 00:16:23.667\nSo now I don't have to go touch every\nmachine, a group policy's doing it for me.\n\n332\n00:16:23.667 --> 00:16:25.155\nWe bring in new machines and\n\n333\n00:16:25.155 --> 00:16:30.150\nthey're gonna automatically get that\nprinter the next time policy applies, so.\n\n334\n00:16:30.150 --> 00:16:31.900\nEasy way to push him out.\n\n335\n00:16:31.900 --> 00:16:34.820\nNow, I'll go ahead and,\nthat was a machine setting,\n\n336\n00:16:34.820 --> 00:16:36.980\nso what I'm gonna do is I'm\njust gonna reboot this machine.\n\n337\n00:16:36.980 --> 00:16:40.640\nWell, for\nthe show I guess we'll do it this way.\n\n338\n00:16:42.680 --> 00:16:46.470\nYou guys know, right,\nthe command to force it to refresh policy?\n\n339\n00:16:46.470 --> 00:16:48.450\nI know that's really tiny.\n\n340\n00:16:48.450 --> 00:16:50.350\nBut you guys know this command.\n\n341\n00:16:52.090 --> 00:16:53.310\nGP update, right?\n\n342\n00:16:53.310 --> 00:16:57.540\nTo reapply group policy,\nswitch force to reapply all changes or\n\n343\n00:16:57.540 --> 00:16:59.216\nall policies whether they've changed or\nnot.\n\n344\n00:16:59.216 --> 00:17:03.100\nAnd we'll let that run for\na second and we'll come back and\n\n345\n00:17:03.100 --> 00:17:03.930\ncheck on it in a minute.\n\n346\n00:17:03.930 --> 00:17:06.500\nExcept I'm pretty sure it's\nnot gonna work the first time.\n\n347\n00:17:06.500 --> 00:17:10.059\nIt's just the way it happens,\nbut eventually it will kick in.\n\n348\n00:17:11.060 --> 00:17:12.480\nAll right, so we deployed a printer.\n\n349\n00:17:12.480 --> 00:17:14.750\nYou know,\nwe showed you have to do it manually.\n\n350\n00:17:14.750 --> 00:17:19.540\nOnce I shared that out, a user, if they\nknow the UNC path, they can connect to it.\n\n351\n00:17:19.540 --> 00:17:22.810\nWe've also published an active directory.\n\n352\n00:17:22.810 --> 00:17:27.610\nAnd then it shows up in their search list,\nand we've created GPO to deploy that.\n\n353\n00:17:27.610 --> 00:17:30.930\nNext thing I want to talk about with\nthese printers is gonna be permissions.\n\n354\n00:17:30.930 --> 00:17:33.860\nThat's probably logically\nthe next place we should go.\n\n355\n00:17:33.860 --> 00:17:37.050\nSo let's take a look at this and\npull up its properties.\n\n356\n00:17:37.050 --> 00:17:38.850\nSo that's the same printer\nthat I just added.\n\n357\n00:17:41.010 --> 00:17:44.270\nAnd we're gonna go over\nto the security tab,\n\n358\n00:17:44.270 --> 00:17:47.060\ncuz this is where I can\nhandle my permissions.\n\n359\n00:17:47.060 --> 00:17:49.820\nNow when we look at\npermissions on printers,\n\n360\n00:17:49.820 --> 00:17:51.860\nthere's three permissions we can assign.\n\n361\n00:17:51.860 --> 00:17:54.340\nThere's the manage the printer, and\nI know that's a little bit small.\n\n362\n00:17:54.340 --> 00:17:59.530\nBut manage the printer, manage documents,\nand special permissions.\n\n363\n00:17:59.530 --> 00:18:02.090\nNow by default, everyone- oh, I'm sorry.\n\n364\n00:18:02.090 --> 00:18:03.270\nAnd print permissions.\n\n365\n00:18:03.270 --> 00:18:07.920\nSo you've really got print,\nmanage the printer and manage documents.\n\n366\n00:18:07.920 --> 00:18:08.590\nAll right?\n\n367\n00:18:08.590 --> 00:18:12.510\nBy default everyone gets\nthe print permission.\n\n368\n00:18:12.510 --> 00:18:17.890\nBy default the creator-owners group\nis assigned Managed Documents.\n\n369\n00:18:17.890 --> 00:18:21.460\nSo you're in the creator-owners\ngroup if you're the creator-owner\n\n370\n00:18:21.460 --> 00:18:22.730\nof that print job.\n\n371\n00:18:22.730 --> 00:18:24.930\nThat means everybody can print.\n\n372\n00:18:24.930 --> 00:18:28.610\nAnybody, by default,\ncan send a print job to that printer.\n\n373\n00:18:28.610 --> 00:18:33.220\nIf I send a print job to that printer,\nI'm the creator-owner of that particular\n\n374\n00:18:33.220 --> 00:18:37.580\nprint job, and I will automatically\nhave managed documents permission,\n\n375\n00:18:37.580 --> 00:18:39.800\nover my print job that I sent.\n\n376\n00:18:39.800 --> 00:18:41.080\nIf I have managed documents,\n\n377\n00:18:41.080 --> 00:18:46.430\nthat means I can pause it, I can restart\nit, I can cancel it, things like that.\n\n378\n00:18:46.430 --> 00:18:48.240\nBut only the jobs I created, right,\n\n379\n00:18:48.240 --> 00:18:51.820\nnot anything that Daniel printed,\nbecause Daniel's the creator-owner.\n\n380\n00:18:51.820 --> 00:18:53.930\nOf the documents that he's printing.\n\n381\n00:18:53.930 --> 00:18:56.150\nSo by default everybody can print, and\n\n382\n00:18:56.150 --> 00:18:58.360\neverybody can manage their own print jobs,\nright?\n\n383\n00:18:58.360 --> 00:19:00.700\nSo that's the way they've set that up.\n\n384\n00:19:00.700 --> 00:19:05.620\nThe manage the printer properties or\npermissions, that one is for\n\n385\n00:19:05.620 --> 00:19:07.440\nchanging printer settings themselves.\n\n386\n00:19:07.440 --> 00:19:11.530\nSo if you give somebody manage\nthis printer, they can go in and\n\n387\n00:19:11.530 --> 00:19:15.230\nthey can change settings on the printer,\nlike whether it's able to do two-sided or\n\n388\n00:19:15.230 --> 00:19:18.730\ncollation or\nwhatever that printer supports.\n\n389\n00:19:18.730 --> 00:19:23.460\nSo usually, we'll give somebody in that\nbuilding manage the printer properties, so\n\n390\n00:19:23.460 --> 00:19:26.110\nthat if something goes wrong,\nthey can try to work with it.\n\n391\n00:19:26.110 --> 00:19:29.450\nYou can also assign somebody\nManage Documents Permission.\n\n392\n00:19:29.450 --> 00:19:33.410\nLike I said, by default the creator-owner\nhas it, but if I give Daniel or\n\n393\n00:19:33.410 --> 00:19:38.250\nthe help desk Manage Documents Permission,\nthat means they can manage all documents,\n\n394\n00:19:38.250 --> 00:19:39.620\nwhether they created them or not.\n\n395\n00:19:39.620 --> 00:19:43.210\nSo that way the help desk can go in\nthere and pause a job or clear a job,\n\n396\n00:19:43.210 --> 00:19:45.590\neven though they're not\nthe ones that created it.\n\n397\n00:19:45.590 --> 00:19:47.070\nSo really easy to work\nwith the permissions.\n\n398\n00:19:47.070 --> 00:19:48.310\nI've only got three permissions.\n\n399\n00:19:48.310 --> 00:19:48.920\nPrint.\n\n400\n00:19:48.920 --> 00:19:51.570\nManage the printer, manage documents, and\n\n401\n00:19:51.570 --> 00:19:55.190\njust the combination of those can\nreally do whatever we need for this.\n\n402\n00:19:55.190 --> 00:19:57.070\nSo we can change those up.\n\n403\n00:19:57.070 --> 00:20:00.580\nYou might have a printer, most people\ndon't change permissions on their printer,\n\n404\n00:20:00.580 --> 00:20:01.540\nor they don't think about it.\n\n405\n00:20:01.540 --> 00:20:03.350\nAnd it's important that we do.\n\n406\n00:20:03.350 --> 00:20:08.690\nThink about this, let's say I've got\na printer down there in accounting.\n\n407\n00:20:08.690 --> 00:20:11.100\nAnd I've got checks preloaded into that,\nright?\n\n408\n00:20:11.100 --> 00:20:13.150\nThat's where we print the payroll checks,\n\n409\n00:20:13.150 --> 00:20:15.730\nI don't think I want Daniel to be\nable to print to that printer,\n\n410\n00:20:15.730 --> 00:20:18.869\ncuz we what he's gonna do,\nhe really wants one of those Teslas.\n\n411\n00:20:18.869 --> 00:20:21.335\n>> [LAUGH] I have a problem.\n\n412\n00:20:21.335 --> 00:20:26.620\n>> [LAUGH] We had to add to\nhis gun collection, right?\n\n413\n00:20:26.620 --> 00:20:30.920\nSo I could take this and\nI could remove the everyone group.\n\n414\n00:20:30.920 --> 00:20:34.210\nRight, and then I can add\njust those accounting people,\n\n415\n00:20:34.210 --> 00:20:37.060\nthe people that were supposed\nto be able to print to that.\n\n416\n00:20:37.060 --> 00:20:38.950\nSo something you got to keep in mind,\nby default,\n\n417\n00:20:38.950 --> 00:20:42.000\neverybody gets that print permission\nwhen we share that guy out.\n\n418\n00:20:43.580 --> 00:20:46.180\nAll right, let's see what else we\nneed to talk about here, Daniel.\n\n419\n00:20:46.180 --> 00:20:52.030\nI know I kind of skipped around\non my plan we initially set.\n\n420\n00:20:52.030 --> 00:20:55.090\nWe talked about the permissions.\n\n421\n00:20:55.090 --> 00:20:59.210\nThe other thing I want to talk\nabout is the print priorities.\n\n422\n00:20:59.210 --> 00:21:00.180\nRight.\n\n423\n00:21:00.180 --> 00:21:02.030\nNow, print priorities.\n\n424\n00:21:02.030 --> 00:21:07.890\nIf I pull up the properties of this\nprinter, on that advanced tab,\n\n425\n00:21:07.890 --> 00:21:09.570\nI've got a couple things\nthat I can do here.\n\n426\n00:21:09.570 --> 00:21:13.330\nI can set the availability\nas well as the priority.\n\n427\n00:21:13.330 --> 00:21:14.830\nAnd availability is\npretty straightforward.\n\n428\n00:21:14.830 --> 00:21:17.693\nIf you don't want people printing\nto that printer between 1 PM and\n\n429\n00:21:17.693 --> 00:21:21.040\n3 PM in the afternoon, well,\nyou can change it, right?\n\n430\n00:21:21.040 --> 00:21:25.290\nI can set when that\nprinter is available from,\n\n431\n00:21:25.290 --> 00:21:29.190\n3 PM until 12:59 PM the next day,\nor whatever the case may be.\n\n432\n00:21:29.190 --> 00:21:32.038\nSo I can change that availability.\n\n433\n00:21:32.038 --> 00:21:36.060\nAnd then the priority is\non a scale of one to 99.\n\n434\n00:21:36.060 --> 00:21:41.850\nOne being the lowest priority,\n99 being the highest priority.\n\n435\n00:21:41.850 --> 00:21:45.630\nNow if I just have one printer, then- or\n\n436\n00:21:46.940 --> 00:21:50.560\nlet's talk about some terminology here for\nMicrosoft land.\n\n437\n00:21:50.560 --> 00:21:53.070\nRight, this little guy that\nI'm right clicking on,\n\n438\n00:21:53.070 --> 00:21:55.360\nthis is what Microsoft calls a printer.\n\n439\n00:21:55.360 --> 00:21:56.030\nAll right.\n\n440\n00:21:56.030 --> 00:21:58.500\nThat thing that seats on\nthe floor that spits out paper,\n\n441\n00:21:58.500 --> 00:21:59.860\nthey don't call that a printer.\n\n442\n00:21:59.860 --> 00:22:01.530\nThey call that print device.\n\n443\n00:22:01.530 --> 00:22:06.450\nSo I have a printer here that's\npointing to the physical print device.\n\n444\n00:22:06.450 --> 00:22:09.880\nAnd if I only have one printer\npointing to that print device,\n\n445\n00:22:09.880 --> 00:22:13.710\nthen priority does me no good at all,\nthere's really no point in setting it.\n\n446\n00:22:13.710 --> 00:22:17.580\nBut what we can do is we\ncan have more than one\n\n447\n00:22:17.580 --> 00:22:21.130\nprinter pointing to\nthat same print device.\n\n448\n00:22:21.130 --> 00:22:25.370\nSo I'm gonna say add a new printer,\nuse an existing port.\n\n449\n00:22:25.370 --> 00:22:27.060\nNow we're going to go\nback to that one there.\n\n450\n00:22:27.060 --> 00:22:28.390\nI'm going to click next.\n\n451\n00:22:30.040 --> 00:22:32.823\nI'm going to use that existing driver.\n\n452\n00:22:32.823 --> 00:22:37.203\nI'm gonna call this, just for\n\n453\n00:22:37.203 --> 00:22:40.577\ngiggles, KODAK Mgrs.\n\n454\n00:22:40.577 --> 00:22:41.841\nAll right.\n\n455\n00:22:41.841 --> 00:22:42.560\nAnd you'll see what I mean here.\n\n456\n00:22:42.560 --> 00:22:44.070\nI think, in just a second.\n\n457\n00:22:45.320 --> 00:22:46.026\nI'll click next.\n\n458\n00:22:46.026 --> 00:22:48.080\nNow next.\n\n459\n00:22:48.080 --> 00:22:50.720\nAnd finish.\n\n460\n00:22:50.720 --> 00:22:56.040\nSo now I've got two printers pointing\nto the same physical print device.\n\n461\n00:22:56.040 --> 00:22:58.630\nNow, why the heck would you ever do that,\nright?\n\n462\n00:22:58.630 --> 00:23:01.485\nCuz now somebody could browse and\nadd the codec managers,\n\n463\n00:23:01.485 --> 00:23:03.065\nthey can add codec sales floor.\n\n464\n00:23:03.065 --> 00:23:06.345\nWell, here's what happens,\nhere's what we can do with this,\n\n465\n00:23:06.345 --> 00:23:08.978\nI can come in here to\nthe properties of sales floor.\n\n466\n00:23:08.978 --> 00:23:16.002\nAnd I can go to my security tab,\nand I'm gonna yank out everyone and\n\n467\n00:23:16.002 --> 00:23:21.646\nI'm gonna add, if I could type,\nmy sales users, and\n\n468\n00:23:21.646 --> 00:23:27.460\nI'm gonna make sure that\nthey have print permission.\n\n469\n00:23:27.460 --> 00:23:28.140\nAnd I'll go ahead and\n\n470\n00:23:28.140 --> 00:23:31.010\nadd the sales managers cuz they should\nbe able to print to that as well.\n\n471\n00:23:32.760 --> 00:23:35.520\nMake sure they have\nprint permissions there.\n\n472\n00:23:35.520 --> 00:23:40.070\nAnd then I'm gonna go over\nto the advanced tab and\n\n473\n00:23:40.070 --> 00:23:43.250\nI'm gonna leave that priority as one and\nI'm gonna click okay.\n\n474\n00:23:46.060 --> 00:23:50.680\nNow I'm gonna go to the sales managers,\npull up the properties and\n\n475\n00:23:50.680 --> 00:23:53.164\nI'm gonna go to that security tab.\n\n476\n00:23:53.164 --> 00:23:58.991\nI'm gonna yank the everyone and\nI'm gonna add just the sales managers.\n\n477\n00:23:58.991 --> 00:24:02.550\nI'm gonna give them prim permissions and\nI'm gonna go to advanced and\n\n478\n00:24:02.550 --> 00:24:04.130\nI'm gonna go to the priority.\n\n479\n00:24:04.130 --> 00:24:08.100\nI'm gonna set that to 10 and\nI'm gonna click okay.\n\n480\n00:24:09.710 --> 00:24:11.630\nSo think about what I just did there.\n\n481\n00:24:11.630 --> 00:24:16.440\nAt the sales managers are the only\nones that can print to this printer,\n\n482\n00:24:16.440 --> 00:24:20.460\nand it has a higher\npriority than sales floor.\n\n483\n00:24:20.460 --> 00:24:25.180\nBoth sales managers and sales users can\nprint to that one, has a priority of 1.\n\n484\n00:24:25.180 --> 00:24:29.710\nThe Kodak manager's printer has a priority\nof 10, so it's got a higher priority.\n\n485\n00:24:29.710 --> 00:24:32.600\nSo if you got a sales user\nthat's printing a lot of things,\n\n486\n00:24:32.600 --> 00:24:35.550\nI've got a manager that needs to\nprint something and they need it now,\n\n487\n00:24:35.550 --> 00:24:39.490\nbecause you know how managers are,\nthey need it now not later.\n\n488\n00:24:39.490 --> 00:24:43.200\nThey can go and print to, they can\nadd this printer to their devices and\n\n489\n00:24:43.200 --> 00:24:44.380\nprinters on their client machine.\n\n490\n00:24:44.380 --> 00:24:47.496\nAnd when they print, and those print\njobs are coming into the queue,\n\n491\n00:24:47.496 --> 00:24:50.665\nthey're both going to the same\nphysical print device, but the one for\n\n492\n00:24:50.665 --> 00:24:54.103\nthe manager's printer, it's gonna have\na higher priority than the one for\n\n493\n00:24:54.103 --> 00:24:57.510\nthe user printer and that way their\njobs will actually jump up in the queue.\n\n494\n00:24:57.510 --> 00:25:00.341\nSo if there's if there's a long\nlist of print jobs in that queue,\n\n495\n00:25:00.341 --> 00:25:02.330\ntheir's will go to a higher level.\n\n496\n00:25:02.330 --> 00:25:04.825\nA lot of times we do that for\nthe C level people,\n\n497\n00:25:04.825 --> 00:25:07.390\ncuz their print jobs\nshouldn't wait on anything.\n\n498\n00:25:07.390 --> 00:25:10.200\nIf they click print,\nit better move to the top of the list and\n\n499\n00:25:10.200 --> 00:25:11.820\ncome out first on the printer.\n\n500\n00:25:11.820 --> 00:25:14.120\nThey don't wanna walk down there and\ngo, where's mine?\n\n501\n00:25:14.120 --> 00:25:15.100\nIt hasn't come out yet.\n\n502\n00:25:15.100 --> 00:25:16.420\n>> I threw that away.\n\n503\n00:25:16.420 --> 00:25:18.025\nDon't worry, boss, it's in the garbage.\n\n504\n00:25:18.025 --> 00:25:18.740\n[LAUGH] File 13.\n\n505\n00:25:18.740 --> 00:25:20.640\nMike makes a really\ngood point here though.\n\n506\n00:25:20.640 --> 00:25:24.334\nIt's about the priorities of\nthe print jobs themselves.\n\n507\n00:25:24.334 --> 00:25:28.200\nIf we've got managers, if we've got people\nto have high priority print jobs and need\n\n508\n00:25:28.200 --> 00:25:31.570\nto be able to take that priority, being\nable to set this to the print manager or\n\n509\n00:25:31.570 --> 00:25:34.450\nthe printer properties here\nis a really good idea.\n\n510\n00:25:34.450 --> 00:25:36.030\nNow, Mike set it to 10, but\n\n511\n00:25:36.030 --> 00:25:38.960\nreally he could have set it to 2,\nit would still been a higher priority.\n\n512\n00:25:38.960 --> 00:25:41.340\nCould have set it to 20, 50,\nanything that's higher than 1 and\n\n513\n00:25:41.340 --> 00:25:45.740\nit would set that priority higher than the\nother print users that were able to use\n\n514\n00:25:45.740 --> 00:25:48.500\nthat other printer even though it\nwas attached to the same device.\n\n515\n00:25:48.500 --> 00:25:52.520\nNow, when it comes to actually\nsetting up in real life terms\n\n516\n00:25:52.520 --> 00:25:53.950\nwhat priority you want to use?\n\n517\n00:25:53.950 --> 00:25:57.520\nYou just gotta make sure that you get\nsome scheme in mind on how you wanna give\n\n518\n00:25:57.520 --> 00:26:01.760\npriority and make sure you set accordingly\nand that it makes logical sense to you.\n\n519\n00:26:01.760 --> 00:26:04.100\nOtherwise, you can just\nuse whatever you want and\n\n520\n00:26:04.100 --> 00:26:07.090\nsure that the things work\nthe way you need them to.\n\n521\n00:26:07.090 --> 00:26:07.660\n>> Exactly.\n\n522\n00:26:07.660 --> 00:26:11.230\nAnd you can always go back in and\nchange those numbers.\n\n523\n00:26:11.230 --> 00:26:14.604\nMe personally, I never like to do one,\ntwo, three, because if I use priority\n\n524\n00:26:14.604 --> 00:26:17.265\nnumbers like that,\nsomebody's going to come in tomorrow and\n\n525\n00:26:17.265 --> 00:26:19.482\nsay I need need something\nin between two and three.\n\n526\n00:26:19.482 --> 00:26:24.061\nWell you can't do 2.5, right, but if you\ndo 10, 20, 30 I can' always go back and\n\n527\n00:26:24.061 --> 00:26:25.686\ndo 15 or 18 or what have you.\n\n528\n00:26:25.686 --> 00:26:26.604\nAll right, and Daniel,\n\n529\n00:26:26.604 --> 00:26:29.532\nI know we've got some more stuff to go\nover, I don't know if I'm gonna be able to\n\n530\n00:26:29.532 --> 00:26:32.950\nsqueeze it in the time we've got left\n>> All right well looks like we're gonna\n\n531\n00:26:32.950 --> 00:26:36.040\nhave to do a part two on printers,\nit's our favorite topic.\n\n532\n00:26:36.040 --> 00:26:37.454\n>> It was so fun.\n>> I'm so glad, right.\n\n533\n00:26:37.454 --> 00:26:40.290\n[LAUGH] So hopefully you guys are glad\ntoo and we'll see you on that app.\n\n534\n00:26:40.290 --> 00:26:44.380\nSo as for this on signing off for\nITProTV I've been your host Daniel Lowry.\n\n535\n00:26:44.380 --> 00:26:45.080\n>> And I'm Mike Roderick.\n\n536\n00:26:45.080 --> 00:26:46.394\n>> And we'll see you next time.\n\n537\n00:26:46.394 --> 00:26:52.930\n[MUSIC]\n\n",
          "vimeoId": "137379223"
        },
        {
          "description": "In this episode Daniel and Mike continue their discussion on printers. They lay out the Easy Print driver and how to set up printer pooling.",
          "length": "1456",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-5-1-configuring_printers_pt2-082515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-5-1-configuring_printers_pt2-082515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-5-1-configuring_printers_pt2-082515-1-sm.jpg",
          "title": "Configuring Printers Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.303 --> 00:00:09.803\n[MUSIC]\n\n2\n00:00:09.803 --> 00:00:11.613\nAll right greetings everyone and\n\n3\n00:00:11.613 --> 00:00:15.950\nwelcome to another exciting episode of\nITProTV I'm your host, Daniel Lowry.\n\n4\n00:00:15.950 --> 00:00:17.650\nHere with me today is Mr. Mike Rodrick.\n\n5\n00:00:17.650 --> 00:00:18.450\nHow's it going Mike?\n\n6\n00:00:18.450 --> 00:00:19.190\n>> It's going great.\n\n7\n00:00:19.190 --> 00:00:20.930\nWe're continuing our printer discussion.\n\n8\n00:00:20.930 --> 00:00:22.735\nSo what's not to love?\n\n9\n00:00:22.735 --> 00:00:26.840\n[LAUGH] All right, so we're going to\ncontinue on talking about printers,\n\n10\n00:00:26.840 --> 00:00:30.070\nbecause it is called out on our 7410 exam.\n\n11\n00:00:30.070 --> 00:00:34.950\nAnd this one I want to start off talking\nabout this good old easy print, and\n\n12\n00:00:34.950 --> 00:00:36.910\nthe easy print driver, and\n\n13\n00:00:36.910 --> 00:00:41.690\nthe idea is here, Is when you\nconnect if you're running terminal.\n\n14\n00:00:41.690 --> 00:00:43.950\nIt's really only if you're\nrunning terminal services or\n\n15\n00:00:43.950 --> 00:00:45.850\na remote desktop server, right?\n\n16\n00:00:45.850 --> 00:00:48.250\nWhere we're doing thin clients or people.\n\n17\n00:00:48.250 --> 00:00:49.720\nOr even, if you're not doing thin clients,\n\n18\n00:00:49.720 --> 00:00:53.360\nthey're connecting in and they're\ngiving it that remote desktop session.\n\n19\n00:00:53.360 --> 00:00:56.370\nWhat's happening is they can map printers.\n\n20\n00:00:56.370 --> 00:00:57.790\nThey can bring their printers along.\n\n21\n00:00:57.790 --> 00:01:01.240\nSo, if they have a printer hooked up to\nthe physical machine that they're sitting\n\n22\n00:01:01.240 --> 00:01:05.780\nat when they go and connect to that remote\ndesktop session on that terminal server,\n\n23\n00:01:05.780 --> 00:01:07.130\nthey can bring the printer along.\n\n24\n00:01:07.130 --> 00:01:12.050\nAnd it should map it for them,\nthe problem is that remote desktop server\n\n25\n00:01:12.050 --> 00:01:15.550\nnow needs a driver for that printer.\n\n26\n00:01:15.550 --> 00:01:17.340\nAnd so if you think about it,\n\n27\n00:01:17.340 --> 00:01:21.160\nyou've got hundreds or thousands of\nclients, different printers here and\n\n28\n00:01:21.160 --> 00:01:26.270\nthere, that remote desktop, that terminal\nserver needs all of those printer drivers.\n\n29\n00:01:26.270 --> 00:01:29.920\nYou're talking about hundreds of drivers I\nmight have to add for different platforms,\n\n30\n00:01:29.920 --> 00:01:34.940\n32 bit, 64 bit, all the different\nprinter models and things like that.\n\n31\n00:01:34.940 --> 00:01:39.510\nAnd that actually causes some stability\nissues on that terminal server.\n\n32\n00:01:39.510 --> 00:01:41.950\nAnd that's why Microsoft came\nout with this easy print.\n\n33\n00:01:41.950 --> 00:01:44.570\nIt's basically a universal driver\n\n34\n00:01:44.570 --> 00:01:49.160\nthat that print server that rote\ndesktop session can use to try to print\n\n35\n00:01:49.160 --> 00:01:51.160\nto that printer that's attached\nto that client machine.\n\n36\n00:01:51.160 --> 00:01:53.040\nThat one that they're bringing along.\n\n37\n00:01:53.040 --> 00:01:57.530\nAnd It's really easy to just set up,\n\n38\n00:01:57.530 --> 00:02:01.390\nit's by default, they're gonna\nbe using the easy print driver.\n\n39\n00:02:01.390 --> 00:02:04.135\nAnd it's gonna try to use that first,\nnow if that doesn't work,\n\n40\n00:02:04.135 --> 00:02:07.360\ncuz that universal driver might\nnot work for every printer,\n\n41\n00:02:07.360 --> 00:02:12.420\nit will default back to, rollback to,\ntrying to get the actual driver.\n\n42\n00:02:12.420 --> 00:02:17.360\nSo you still might have some drivers\ninstalled We can eliminate most of that.\n\n43\n00:02:17.360 --> 00:02:19.670\nI'll show you where we can go\nto work with the settings,\n\n44\n00:02:19.670 --> 00:02:20.820\nbecause that might cause a problem.\n\n45\n00:02:20.820 --> 00:02:25.130\nMaybe you don't want to turn that off,\nmaybe that universal driver is causing\n\n46\n00:02:25.130 --> 00:02:28.815\nproblems, we can disable that,\nand control that behavior.\n\n47\n00:02:28.815 --> 00:02:30.925\nOkay so\nI'm gonna pull up one of my group policy,\n\n48\n00:02:30.925 --> 00:02:33.945\nit really doesn't matter which one since\nI don't have, I don't know what desktop\n\n49\n00:02:33.945 --> 00:02:36.945\nservice is installed or\nterminal services installed or anything.\n\n50\n00:02:36.945 --> 00:02:42.705\nBut under computer configuration,\npolicies, administrative templates,\n\n51\n00:02:42.705 --> 00:02:46.825\nWindows components, and\nthis has been renamed,\n\n52\n00:02:46.825 --> 00:02:51.660\nremember terminal services is now remote\ndesktop services I'm gonna scroll down\n\n53\n00:02:51.660 --> 00:02:57.030\nhere to Remote Desktop Services and\nthen my Remote Desktop Session Host.\n\n54\n00:02:57.030 --> 00:03:00.440\nOn here I've got my printer redirection,\nand\n\n55\n00:03:00.440 --> 00:03:05.220\nthat's where I'm gonna find\nmy easy print driver policy.\n\n56\n00:03:05.220 --> 00:03:07.990\nThere's a few policies in here\nthat we can actually talk about.\n\n57\n00:03:07.990 --> 00:03:11.580\nDo not set the client printer to be\nthe default printer in a session.\n\n58\n00:03:11.580 --> 00:03:15.580\nIn other words, if they've got a default\nprinter set on their local machine,\n\n59\n00:03:15.580 --> 00:03:19.530\nwhen they connect to that remote desktop\nsession, does that stay their default or\n\n60\n00:03:19.530 --> 00:03:22.290\ndo you have a different one you\nwant them to have as the default\n\n61\n00:03:22.290 --> 00:03:23.220\nwhen they're connected to that?\n\n62\n00:03:23.220 --> 00:03:27.270\nOr allow them to set a different printer\nas their default, we can change that.\n\n63\n00:03:27.270 --> 00:03:29.100\nDo not allow client printer redirection.\n\n64\n00:03:29.100 --> 00:03:32.720\nMaybe you don't want them bringing their\nown printers with them when they make that\n\n65\n00:03:32.720 --> 00:03:34.550\nremote desktop session.\n\n66\n00:03:34.550 --> 00:03:36.150\nThis is the one though, that we deal with.\n\n67\n00:03:36.150 --> 00:03:41.620\nUse Remote Desktop Easy Print driver\nfirst, and that is the default behavior.\n\n68\n00:03:41.620 --> 00:03:45.090\nSo if I turn this on,\nI'm really not changing anything.\n\n69\n00:03:45.090 --> 00:03:49.230\nI'm just ensuring that that behavior\noccurs, I can disable it though.\n\n70\n00:03:49.230 --> 00:03:53.510\nAnd it will try to use the right driver\nfirst which means it's gonna look on that\n\n71\n00:03:53.510 --> 00:03:56.050\nremote desktop server and\nsee if the driver for\n\n72\n00:03:56.050 --> 00:04:00.240\nthat particular printer is installed,\nif it is, it will use that first and\n\n73\n00:04:00.240 --> 00:04:04.350\nthen if not, it'll go back to\nthat easy print universal driver.\n\n74\n00:04:04.350 --> 00:04:07.160\nSo let's just showing on you where\nyou can change that behaviour,\n\n75\n00:04:07.160 --> 00:04:10.470\nagain the default is to use that\neasy print driver first, and\n\n76\n00:04:10.470 --> 00:04:14.150\nthen if that doesn't work try\na specific driver for that printer.\n\n77\n00:04:14.150 --> 00:04:16.590\nAll right so that's one policy.\n\n78\n00:04:16.590 --> 00:04:19.410\nNothing's really that's been around for\na little while.\n\n79\n00:04:19.410 --> 00:04:24.490\nNothing's really changed in 2012 r two,\nas far as the easy print goes.\n\n80\n00:04:24.490 --> 00:04:29.080\nNext thing I want to talk about is gonna\nbe branch office printing, all right.\n\n81\n00:04:29.080 --> 00:04:31.400\nNow if we imagine the scenario,\nif you had a branch office and\n\n82\n00:04:31.400 --> 00:04:34.640\nout there at that branch office I\nwanna put one of those big network\n\n83\n00:04:34.640 --> 00:04:37.840\nbased printers, but\nI don't have servers out there.\n\n84\n00:04:37.840 --> 00:04:40.860\nRight, this is a branch office,\nI don't have the same physical security.\n\n85\n00:04:40.860 --> 00:04:43.880\nI don't have anybody to manage and\nmaintain those servers out there.\n\n86\n00:04:43.880 --> 00:04:47.640\nSo all the servers still reside\nback at the corporate office.\n\n87\n00:04:47.640 --> 00:04:51.660\nThe printer server is back at the\ncorporate office, but I do put the printer\n\n88\n00:04:51.660 --> 00:04:54.890\nout at the branch office, because if\nI print at the branch office I don't\n\n89\n00:04:54.890 --> 00:04:59.050\nwanna have to go drive out to the\ncorporate office to pick up my print job.\n\n90\n00:04:59.050 --> 00:05:00.960\nSo the print server's back\nat the corporate office, but\n\n91\n00:05:00.960 --> 00:05:04.160\nthe printer itself is sitting\nout there at the branch office.\n\n92\n00:05:04.160 --> 00:05:08.240\nSo every time a user from that branch\noffice prints, that print job has to go\n\n93\n00:05:08.240 --> 00:05:12.630\nacross the WAN link over to that print\nserver to the print queue there, and\n\n94\n00:05:12.630 --> 00:05:17.230\nthen the print server's gonna send that\nback across the WAN to the printer\n\n95\n00:05:17.230 --> 00:05:18.830\nto print, all right?\n\n96\n00:05:18.830 --> 00:05:20.360\nWhich, is not ideal, right?\n\n97\n00:05:20.360 --> 00:05:23.670\nThat's gonna generate a lot of\nextra traffic across that WAN,\n\n98\n00:05:23.670 --> 00:05:25.990\nespecially if there's\na lot of print jobs going.\n\n99\n00:05:25.990 --> 00:05:29.610\nOr some of our branch offices don't always\nhave the best bandwidth available, and\n\n100\n00:05:29.610 --> 00:05:32.240\nI really don't need to choke that up\nwith these big print jobs that are,\n\n101\n00:05:32.240 --> 00:05:35.890\nespecially when the printer's right there\non the network next to the guy trying to\n\n102\n00:05:35.890 --> 00:05:36.740\nprint, right.\n\n103\n00:05:36.740 --> 00:05:38.760\nWhy have that thing go all the way across?\n\n104\n00:05:38.760 --> 00:05:41.710\nAnd that's exactly what\nBranch Office Direct Printing is about.\n\n105\n00:05:41.710 --> 00:05:44.860\nIt allows me to print directly to\nthe printer instead of having to go,\n\n106\n00:05:44.860 --> 00:05:47.080\nnow it doesn't eliminate all LAN traffic.\n\n107\n00:05:47.080 --> 00:05:50.900\nSo it's not like, I shouldn't say\ninstead of going across the WAN, but\n\n108\n00:05:50.900 --> 00:05:52.780\nit does eliminate the majority of it.\n\n109\n00:05:52.780 --> 00:05:54.970\nRight.\nYou'll still have to connect to the print\n\n110\n00:05:54.970 --> 00:05:59.070\nserver to get the ability\nto send that print job.\n\n111\n00:05:59.070 --> 00:06:03.770\nIt's going to, I'm trying to think of\nwhat's going on really in the background,\n\n112\n00:06:03.770 --> 00:06:06.250\nyou still talk to the print\nserver when you're gonna print.\n\n113\n00:06:06.250 --> 00:06:10.170\nBut he's gonna tell you he's gonna send\nback hey send that job directly to\n\n114\n00:06:10.170 --> 00:06:10.740\nthe printer.\n\n115\n00:06:12.230 --> 00:06:14.580\nDon't bother sending it\nover across the WAN line.\n\n116\n00:06:14.580 --> 00:06:17.620\nSo just a little bit of\ntraffic going across the WAN.\n\n117\n00:06:17.620 --> 00:06:20.330\nAnd again it's really easy to set up.\n\n118\n00:06:20.330 --> 00:06:23.220\nIf I go back over here to server one,\n\n119\n00:06:23.220 --> 00:06:27.230\nlet's say that this sales floor printer\nis actually in my branch office.\n\n120\n00:06:27.230 --> 00:06:30.280\nI'm just gonna right click on that and\nchoose,\n\n121\n00:06:30.280 --> 00:06:34.060\nenable branch office direct printing,\nand that's it.\n\n122\n00:06:34.060 --> 00:06:34.950\nIt's all you.\n\n123\n00:06:34.950 --> 00:06:37.050\nYou turn that on and now we're good to go.\n\n124\n00:06:37.050 --> 00:06:40.310\nAnd one cool thing that they've done,\nthere might be some people that didn't use\n\n125\n00:06:40.310 --> 00:06:42.660\nthis in the past because\nthere's some of the limitation.\n\n126\n00:06:42.660 --> 00:06:46.390\nOne of the big limitations of\nthe branch office direct printing\n\n127\n00:06:46.390 --> 00:06:49.280\nwas the event logging,\nthe ability to audit.\n\n128\n00:06:49.280 --> 00:06:52.330\nBecause what's happening is that print job\nnever actually goes to the print server,\n\n129\n00:06:52.330 --> 00:06:55.970\nright, just the request to print, so\nthe print server if there's a failure on\n\n130\n00:06:55.970 --> 00:06:59.630\na print job, it's not recording that\nin the event log on the print server.\n\n131\n00:06:59.630 --> 00:07:03.270\nOr just the fact of who printed and\nwhat they printed, and things like that.\n\n132\n00:07:03.270 --> 00:07:07.600\nNone of that's gonna be logged when you\nenabled or you used to be not be logged,\n\n133\n00:07:07.600 --> 00:07:12.410\nwhen you enable that branch office\ndirect printing, 2012 R2 changes that.\n\n134\n00:07:12.410 --> 00:07:15.540\nThey've actually added the ability so\nnow all those events\n\n135\n00:07:15.540 --> 00:07:18.980\nwill still get logged over there on the\nprint server back at the corporate office,\n\n136\n00:07:18.980 --> 00:07:23.605\neven though we're doing that branch office\ndirect printing, getting tired of saying.\n\n137\n00:07:23.605 --> 00:07:28.200\n>> [LAUGH] What really sounds like you're\nsaying MIke is if you have some sort of\n\n138\n00:07:28.200 --> 00:07:30.030\n>> Print jobs that are kind of,\n\n139\n00:07:30.030 --> 00:07:31.410\nthey need to be audited.\n\n140\n00:07:31.410 --> 00:07:35.740\nThey need to be followed to make sure that\neverything happened as it should happen.\n\n141\n00:07:35.740 --> 00:07:38.540\nNo malfeasance is occurring\nbehind the scenes.\n\n142\n00:07:38.540 --> 00:07:41.220\nThen you probably want to enable\nthat branch office printing\n\n143\n00:07:41.220 --> 00:07:43.200\nto allow those jobs to be audited.\n\n144\n00:07:43.200 --> 00:07:45.950\nDoes increase a little\nbit of that WAN traffic.\n\n145\n00:07:45.950 --> 00:07:50.255\nBut the safety features you get out of it\nby being able to follow an audit trail is\n\n146\n00:07:50.255 --> 00:07:52.027\nkind of the benefit to using it.\n\n147\n00:07:52.027 --> 00:07:54.780\nOtherwise you would just\nconnect up a printer directly.\n\n148\n00:07:54.780 --> 00:07:58.072\nI mean they're all on\nthe same internal network.\n\n149\n00:07:58.072 --> 00:08:01.887\nLike I said, most printers that are Large\nenough for an office environment,\n\n150\n00:08:01.887 --> 00:08:05.370\nhave a built in printer,\nthey have a built in web server as well.\n\n151\n00:08:05.370 --> 00:08:09.660\nLots of cool features on these things,\nbut I don't get that auditing like I do.\n\n152\n00:08:09.660 --> 00:08:14.540\nOr I would have to have somebody there\nthat knew about that printer specifically,\n\n153\n00:08:14.540 --> 00:08:17.580\nto look at that print logs to make\nsure that everything was going right.\n\n154\n00:08:17.580 --> 00:08:21.270\nWe like to keep everything managed\nin a centralized location.\n\n155\n00:08:21.270 --> 00:08:25.885\nSo that's why you would probably want\nto pick that branch office WAN printing\n\n156\n00:08:25.885 --> 00:08:30.224\nover just sending it directly to them,\ncuz I wanna get that audit trail.\n\n157\n00:08:30.224 --> 00:08:34.690\n>> Exactly, if that printer out there, if\nit's just hooked up to client machine or\n\n158\n00:08:34.690 --> 00:08:37.840\nsomething like that,\nno way to centrally manage it.\n\n159\n00:08:37.840 --> 00:08:39.630\nSo I really wanna go\ninto the print server.\n\n160\n00:08:39.630 --> 00:08:41.790\nI just don't want all those print\njobs going across the WAN and\n\n161\n00:08:41.790 --> 00:08:43.950\nthen back, exactly right.\n\n162\n00:08:43.950 --> 00:08:45.590\nAll right, so\nthat's our branch office printing,\n\n163\n00:08:45.590 --> 00:08:47.460\nthere are a couple requirements\nI should mention on that.\n\n164\n00:08:47.460 --> 00:08:50.310\nIt does mean that your print\nserver is gonna have to be\n\n165\n00:08:50.310 --> 00:08:54.360\nrunning at least Server 2012 or\nlater, so 2012, 2012 R2.\n\n166\n00:08:54.360 --> 00:08:58.370\nThe clients are gonna have to\nbe running Windows 8 or later.\n\n167\n00:08:58.370 --> 00:09:01.640\nIf they're running anything prior to that,\nthey're just going to ignore it and\n\n168\n00:09:01.640 --> 00:09:04.900\nthey're gonna send the entire\nprint job across the WAN link\n\n169\n00:09:04.900 --> 00:09:06.140\nback to that print server.\n\n170\n00:09:06.140 --> 00:09:08.100\nSo, good reason to upgrade your client.\n\n171\n00:09:08.100 --> 00:09:10.183\n>> I was about to say, that's a good\nway to push to the management.\n\n172\n00:09:10.183 --> 00:09:13.886\nGo, we really need to upgrade\nthese clients to Windows 8, so\n\n173\n00:09:13.886 --> 00:09:15.200\nlet's do that now.\n\n174\n00:09:15.200 --> 00:09:16.680\n>> Absolutely.\n\n175\n00:09:16.680 --> 00:09:20.180\nAll right so, another thing I wanna talk\nabout is something called printer pooling.\n\n176\n00:09:20.180 --> 00:09:24.460\nThey call this out on the objectives for\nthis exam for the 410 exam.\n\n177\n00:09:24.460 --> 00:09:28.529\nAnd printer pooling is a pretty cool\nthing, cuz you know how I love printers.\n\n178\n00:09:29.540 --> 00:09:31.145\nSo we take our printers and\nwe throw them in the pool.\n\n179\n00:09:31.145 --> 00:09:33.002\n>> Yeah, sounds logical, yeah.\n\n180\n00:09:33.002 --> 00:09:35.208\nAnd then we sit back and\nhave a cigar and go yeah, [LAUGH].\n\n181\n00:09:35.208 --> 00:09:35.869\n>> Enjoy.\n\n182\n00:09:35.869 --> 00:09:36.601\n>> What are you gonna do now?\n\n183\n00:09:36.601 --> 00:09:39.572\n>> [CROSSTALK] [LAUGH]\n>> Now printer pooling is a way to\n\n184\n00:09:39.572 --> 00:09:44.745\nincrease our availability and our\nscalability on our printers, all right?\n\n185\n00:09:44.745 --> 00:09:49.112\nIf I have a single printer, right, let's\nsay I have one of those Bizhubs or Kodak\n\n186\n00:09:49.112 --> 00:09:54.005\nor whatever I've got going on over there,\nit can handle so many jobs coming to it.\n\n187\n00:09:54.005 --> 00:09:58.098\nIf that printer is not able to handle it,\nwe can put in more printers, right.\n\n188\n00:09:58.098 --> 00:10:01.882\nBut if I put in two or three or four\nprinters, they're all separate printers.\n\n189\n00:10:01.882 --> 00:10:06.899\nAnd whichever printer I choose to print\nto, is gonna take that print job.\n\n190\n00:10:06.899 --> 00:10:10.602\nAnd so I might have the majority of my\npeople printing to one particular printer,\n\n191\n00:10:10.602 --> 00:10:13.240\nit's not gonna be balanced\nacross those guys.\n\n192\n00:10:13.240 --> 00:10:17.560\nAnd if one of those printers go down, if\nthat's the printer I picked to print to,\n\n193\n00:10:17.560 --> 00:10:21.080\nand it's unavailable for some reason,\nmy print job fails or I can't print or\n\n194\n00:10:21.080 --> 00:10:22.720\nI'm gonna have to go pick another printer.\n\n195\n00:10:22.720 --> 00:10:24.880\n>> Now Mike,\nwe're saying the word printer.\n\n196\n00:10:24.880 --> 00:10:28.552\nAre we talking about the print device,\nthe physical print device, or\n\n197\n00:10:28.552 --> 00:10:31.055\nthe printer in the print\nmanagement software?\n\n198\n00:10:31.055 --> 00:10:32.195\n>> That's a good question.\n\n199\n00:10:32.195 --> 00:10:34.247\nWe're talking about the printers,\n\n200\n00:10:34.247 --> 00:10:36.902\nthe physical print device\nI guess I should say.\n\n201\n00:10:36.902 --> 00:10:41.236\nThere we go, we'll use Microsoft\nproper terminology, the print device.\n\n202\n00:10:41.236 --> 00:10:45.230\nSo that print device is unavailable,\nnobody can print to it, right?\n\n203\n00:10:45.230 --> 00:10:50.930\nSo a printer pool is a way to take\nmultiple, physical print devices,\n\n204\n00:10:50.930 --> 00:10:55.250\nand make them look like one\nlogical printer to the network.\n\n205\n00:10:55.250 --> 00:10:58.840\nSo even though you might have four of\nthose Bizhubs sitting there in your\n\n206\n00:10:58.840 --> 00:11:02.320\nprint room, so four physical\ndevices there, to the network,\n\n207\n00:11:02.320 --> 00:11:05.180\nwhen you go to add printers,\nyou don't see four, you see one.\n\n208\n00:11:05.180 --> 00:11:09.450\nAnd that's what you actually send your\nprint job to, that logical printer.\n\n209\n00:11:09.450 --> 00:11:14.760\nAnd then what the printer pooling is\ngonna do is it will redirect the job to\n\n210\n00:11:14.760 --> 00:11:19.160\nwhichever printer in the background, print\ndevice in the background, is least busy.\n\n211\n00:11:19.160 --> 00:11:21.110\nAnd if one of those\nprinters is unavailable,\n\n212\n00:11:21.110 --> 00:11:22.730\nthen it won't redirect any jobs to that.\n\n213\n00:11:22.730 --> 00:11:23.920\nSo if a printer fails,\n\n214\n00:11:23.920 --> 00:11:26.760\nthe other three are still up and\nrunning, everybody still prints.\n\n215\n00:11:26.760 --> 00:11:28.010\nThey don't know any different, right?\n\n216\n00:11:28.010 --> 00:11:30.080\nThey're just printing to\nthat logical printer,\n\n217\n00:11:30.080 --> 00:11:32.390\nthey don't know about the physical\ndevices in the background.\n\n218\n00:11:32.390 --> 00:11:35.900\nSo it gives us that high availability for\nmy printers.\n\n219\n00:11:35.900 --> 00:11:39.830\nIt also gives me scalability because if\nfour printers can't handle the workload,\n\n220\n00:11:39.830 --> 00:11:41.550\nfour print devices can't\nhandle the workload,\n\n221\n00:11:41.550 --> 00:11:44.200\nI can just go buy another one and\nstick it in the pool.\n\n222\n00:11:44.200 --> 00:11:45.750\nNow I've got five, right?\n\n223\n00:11:45.750 --> 00:11:48.550\nSo I can handle another\none-fifth of the workload.\n\n224\n00:11:48.550 --> 00:11:50.694\nSo I can increase my\ncapacity by one-fifth.\n\n225\n00:11:52.380 --> 00:11:56.950\nSo it's very easy to give you that\nscalability and that availability.\n\n226\n00:11:56.950 --> 00:12:00.410\nAnd setting it up is pretty\ndarn easy as well, all right.\n\n227\n00:12:00.410 --> 00:12:04.450\nIf we take a look at my screen here,\nI've got this printer for\n\n228\n00:12:04.450 --> 00:12:08.115\nthe Kodak Sales Floor, and\nI'm gonna pull up its properties.\n\n229\n00:12:08.115 --> 00:12:10.640\nI'm gonna go to Ports, and\n\n230\n00:12:10.640 --> 00:12:14.710\nI'm gonna see that it's currently using\nthat IP port that I set up earlier.\n\n231\n00:12:14.710 --> 00:12:18.550\nIf I try to change that to this\nother port that I've set up,\n\n232\n00:12:18.550 --> 00:12:20.280\nnotice I can only choose one.\n\n233\n00:12:21.500 --> 00:12:24.570\nSo you gotta imagine there's two printers,\n\n234\n00:12:24.570 --> 00:12:29.096\none with an IP address of 10.1.2.25,\none with an IP address of 10.1.2.26.\n\n235\n00:12:29.096 --> 00:12:31.860\nPrint devices, right,\nprint devices with those IP addresses.\n\n236\n00:12:31.860 --> 00:12:33.800\nThese are network-based printers.\n\n237\n00:12:33.800 --> 00:12:35.590\nBut I can only choose one of those.\n\n238\n00:12:35.590 --> 00:12:38.140\nSo when anybody prints\nto Kodak Sales Floor,\n\n239\n00:12:38.140 --> 00:12:41.090\nI can change which physical\nprinter it's going to.\n\n240\n00:12:41.090 --> 00:12:45.520\nIf I want to set up printer pooling,\ngot a handy dandy check mark right here.\n\n241\n00:12:45.520 --> 00:12:50.313\nEnable printer pooling, I select OK, and\nnow I can choose more than one port.\n\n242\n00:12:50.313 --> 00:12:53.660\nAnd if I have another printer I can\ncome in here and add, and let's do that.\n\n243\n00:12:53.660 --> 00:12:55.437\nLet me go ahead and apply that change.\n\n244\n00:12:55.437 --> 00:12:59.330\nSo that allows me to\nchoose more than one port.\n\n245\n00:12:59.330 --> 00:13:02.025\nAnd let's say we go out and\nwe buy a third printer, and\n\n246\n00:13:02.025 --> 00:13:04.115\nI want to add that to the printer pool.\n\n247\n00:13:04.115 --> 00:13:10.435\nAll I'm gonna do is click Add Port, gonna\ndo another TCP/IP port and click New Port.\n\n248\n00:13:10.435 --> 00:13:18.485\nI'll click Next and let's say we got\n10.1.2.20, what is it, 5, 6 and 7.\n\n249\n00:13:18.485 --> 00:13:20.595\nI'll click Next, and\nthis will take it a minute.\n\n250\n00:13:20.595 --> 00:13:24.180\nIt's gonna try to detect that IP address,\nsee if it's responding.\n\n251\n00:13:24.180 --> 00:13:25.702\nIt's not really there, I'm lying to it.\n\n252\n00:13:25.702 --> 00:13:29.570\nEventually it'll fail, and then all I\nhave to do is put a check mark in there\n\n253\n00:13:29.570 --> 00:13:32.190\nto include that in that\nparticular printer.\n\n254\n00:13:32.190 --> 00:13:35.010\nAnd all of a sudden I've got three\nprinters in my printer pool.\n\n255\n00:13:35.010 --> 00:13:36.130\nEasy breezy.\n\n256\n00:13:36.130 --> 00:13:38.900\nJust have to check that check mark\nthat'll enable printer pooling, and\n\n257\n00:13:38.900 --> 00:13:40.520\nall of sudden you can\nchoose more than one port.\n\n258\n00:13:40.520 --> 00:13:44.364\n>> Yeah, this is actually reminding me a\nlot of, we did a show on storage pools and\n\n259\n00:13:44.364 --> 00:13:45.251\nstorage spaces.\n\n260\n00:13:45.251 --> 00:13:46.730\nKinda the same concept here.\n\n261\n00:13:46.730 --> 00:13:49.860\nWe're taking resources that\nwe have available to us, and\n\n262\n00:13:49.860 --> 00:13:54.030\nwe're making one large resource out of\nit so that we can divvy up the workload.\n\n263\n00:13:54.030 --> 00:13:55.510\nIt's a very nice feature.\n\n264\n00:13:55.510 --> 00:13:57.841\nBeing able to do this with printers\nas well, you would think well that's,\n\n265\n00:13:57.841 --> 00:13:59.704\nI mean it's cool that you can do that,\nbut what's the big?\n\n266\n00:13:59.704 --> 00:14:02.326\nTrust me,\nyou get into a large environment,\n\n267\n00:14:02.326 --> 00:14:05.639\na lot of print jobs are going on,\nthis is a great feature.\n\n268\n00:14:05.639 --> 00:14:07.908\nNow Mike,\nwhen they're looking at this printer,\n\n269\n00:14:07.908 --> 00:14:10.036\nit shows up as just one printer to them,\nright?\n\n270\n00:14:10.036 --> 00:14:10.615\n>> Exactly.\n\n271\n00:14:10.615 --> 00:14:11.752\n>> It's not all the printers.\n\n272\n00:14:11.752 --> 00:14:14.600\n>> Yep, exactly right, and\nI'll show you that right now here.\n\n273\n00:14:14.600 --> 00:14:16.380\nFirst, let's finish this wizard.\n\n274\n00:14:16.380 --> 00:14:18.080\nSo I'm just gonna use\na generic network card,\n\n275\n00:14:18.080 --> 00:14:20.570\ncuz obviously I don't have\nthat printer out there.\n\n276\n00:14:20.570 --> 00:14:21.980\nAnd I'll click Close on that.\n\n277\n00:14:23.010 --> 00:14:24.010\nAnd now I've got a third port.\n\n278\n00:14:24.010 --> 00:14:26.300\nSo now I've got,\nif it was in the real world,\n\n279\n00:14:26.300 --> 00:14:31.780\nI have three physical printers sitting\nthere for this one logical printer here.\n\n280\n00:14:31.780 --> 00:14:36.320\nSo I'll go ahead and close that,\nactually let's apply that real quick, and\n\n281\n00:14:36.320 --> 00:14:37.390\nthen close that.\n\n282\n00:14:37.390 --> 00:14:39.350\nAnd so\nnow from the end user's perspective,\n\n283\n00:14:41.050 --> 00:14:43.410\nwe never did check to see if\nour group policy finished.\n\n284\n00:14:43.410 --> 00:14:44.647\nI'm gonna open up my Control Panel.\n\n285\n00:14:47.260 --> 00:14:50.965\nAnd go into my View Devices and Printers.\n\n286\n00:14:53.830 --> 00:14:55.123\nAnd I'm gonna add a printer.\n\n287\n00:14:58.028 --> 00:14:59.301\nAnd there's my Kodak Sales Floor.\n\n288\n00:14:59.301 --> 00:15:02.644\nSo notice only one printer\nshowed up in the list here.\n\n289\n00:15:02.644 --> 00:15:04.653\nI can add that, click Next.\n\n290\n00:15:07.848 --> 00:15:11.305\nIt'll go grab the driver from\nthe print server, hopefully.\n\n291\n00:15:12.933 --> 00:15:19.845\nAnd I will click Next, and I'll set\nit as my default and click Finish.\n\n292\n00:15:21.695 --> 00:15:24.065\nAnd there we go, so\nnow I got this one little icon here, so\n\n293\n00:15:24.065 --> 00:15:26.710\nanytime I print now, I'm printing to this.\n\n294\n00:15:26.710 --> 00:15:31.810\nBut in the background it could be going\nto any one of those three print devices.\n\n295\n00:15:31.810 --> 00:15:34.920\nAnd if one of those is unavailable,\nit'll just redirect it to another one.\n\n296\n00:15:34.920 --> 00:15:36.220\nSo great little feature.\n\n297\n00:15:36.220 --> 00:15:38.010\nNow, Microsoft will tell you one,\n\n298\n00:15:38.010 --> 00:15:41.860\nall the printers need to be using\nthe same print driver, right?\n\n299\n00:15:41.860 --> 00:15:44.580\nBecause when that job gets rendered,\nyou don't know which\n\n300\n00:15:44.580 --> 00:15:47.830\nprinter it's actually going to,\nwhich physical device is gonna get it.\n\n301\n00:15:47.830 --> 00:15:49.240\nSo it has to be rendered once and\n\n302\n00:15:49.240 --> 00:15:52.353\nthen any one of those devices has to\nbe able to accept that print job.\n\n303\n00:15:52.353 --> 00:15:55.894\nSo all the printers need to the same\nprinter drivers, so the same model,\n\n304\n00:15:55.894 --> 00:15:56.891\nthat kind of thing.\n\n305\n00:15:56.891 --> 00:16:00.902\nThe other thing they'll tell you that's\nThe print driver's a requirement,\n\n306\n00:16:00.902 --> 00:16:02.796\nthis next part is a recommendation.\n\n307\n00:16:02.796 --> 00:16:07.160\nThey say, they should all be located\nin the same physical location.\n\n308\n00:16:07.160 --> 00:16:09.030\nBecause what if one of them\nwas on the first floor,\n\n309\n00:16:09.030 --> 00:16:13.700\none of them was on the third floor, and\nthe third one was in another building?\n\n310\n00:16:13.700 --> 00:16:17.460\nWhen you go to print, again, you don't\nknow which one it's going to, right?\n\n311\n00:16:17.460 --> 00:16:21.050\nSo unless that's part of your\nemployee exercise program,\n\n312\n00:16:21.050 --> 00:16:22.750\nyou need to put them all\nin the same place so\n\n313\n00:16:22.750 --> 00:16:26.500\nthat when they walk down there they know\nit's on one of those three printers there.\n\n314\n00:16:26.500 --> 00:16:27.128\nAlthough it wouldn't be bad,\n\n315\n00:16:27.128 --> 00:16:27.809\nit might [CROSSTALK]\n>> Yeah,\n\n316\n00:16:27.809 --> 00:16:30.833\nit would definitely get people's blood\nflowing to have to go to every one of\n\n317\n00:16:30.833 --> 00:16:33.900\nthe printers that's in that print\npool to find out where the job went.\n\n318\n00:16:33.900 --> 00:16:36.543\nYou could play almost like,\n>> Where's Waldo?\n\n319\n00:16:36.543 --> 00:16:37.450\n>> Where did my print job go?\n\n320\n00:16:37.450 --> 00:16:38.170\nYeah, where's Waldo?\n\n321\n00:16:38.170 --> 00:16:39.255\nWhere's my print job?\n\n322\n00:16:39.255 --> 00:16:40.730\n>> [LAUGH]\n>> And go find those things.\n\n323\n00:16:40.730 --> 00:16:43.812\nYeah, probably not a good idea\nto spread those printers around.\n\n324\n00:16:43.812 --> 00:16:44.640\n>> [LAUGH]\n>> Wanna keep them in\n\n325\n00:16:44.640 --> 00:16:45.740\na centralized location.\n\n326\n00:16:45.740 --> 00:16:48.390\nThat way, I can just look,\nis it on printer 1, 2, 3 or\n\n327\n00:16:48.390 --> 00:16:50.560\n4 or\nhowever many I have in the in the pool.\n\n328\n00:16:50.560 --> 00:16:52.560\nMakes it a little easier for our user.\n\n329\n00:16:52.560 --> 00:16:56.490\nAnd I guarantee, if you did that, if you\nspread those printers around, you're gonna\n\n330\n00:16:56.490 --> 00:17:01.260\nget a call from somebody going, I'm\nsick of trying to find these print jobs.\n\n331\n00:17:01.260 --> 00:17:03.110\nYou need to make it,\nand you're like, okay.\n\n332\n00:17:03.110 --> 00:17:06.320\nAnd it's probably gonna have some\nsort of C-something-something\n\n333\n00:17:06.320 --> 00:17:07.280\nat the end of their name.\n\n334\n00:17:07.280 --> 00:17:08.850\nThat's never good.\n>> You might not recognize the name unless\n\n335\n00:17:08.850 --> 00:17:10.125\nyou look at the bottom of your paycheck.\n\n336\n00:17:10.125 --> 00:17:11.433\n>> Yeah exactly.\n\n337\n00:17:11.433 --> 00:17:12.599\n[LAUGH]\n>> [LAUGH] All right,\n\n338\n00:17:12.599 --> 00:17:15.550\nnow the next thing I want to show you,\nI don't think I have it,\n\n339\n00:17:15.550 --> 00:17:19.640\nI didn't list that out here but\nI want to show you that web page.\n\n340\n00:17:19.640 --> 00:17:23.415\nRemember earlier in a previous episode\nwhen I installed the print server on\n\n341\n00:17:23.415 --> 00:17:28.540\nServer 1, I also installed\nthe Internet printing, or the IPP.\n\n342\n00:17:28.540 --> 00:17:34.105\nAnd what that gives me the ability to do,\nas a client, what I can do is open\n\n343\n00:17:34.105 --> 00:17:39.884\nup my browser now, and I should be\nable to navigate to srv01/printers.\n\n344\n00:17:42.241 --> 00:17:45.938\nAnd that's gonna list out all of\nthe printers that are on that server.\n\n345\n00:17:45.938 --> 00:17:51.270\nAnd from here I can click on that printer,\nand I can work with it.\n\n346\n00:17:51.270 --> 00:17:54.274\nI've got my properties over here,\nI can pause a job.\n\n347\n00:17:54.274 --> 00:17:57.400\nNow, obviously I don't have\nanything printing right now.\n\n348\n00:17:57.400 --> 00:17:58.900\nBut I can do a pause, resume,\n\n349\n00:17:58.900 --> 00:18:02.970\nI can cancel, again, assuming I have\nthe appropriate permissions, right,\n\n350\n00:18:02.970 --> 00:18:05.540\nas you're only going to get to do\nwhatever you have permissions for.\n\n351\n00:18:05.540 --> 00:18:08.450\nBut that's a nice little interface\nthat gives them the ability if they're\n\n352\n00:18:08.450 --> 00:18:09.400\nchecking on their print job.\n\n353\n00:18:09.400 --> 00:18:11.150\nWhy is my print job not out or\nis it done yet?\n\n354\n00:18:11.150 --> 00:18:14.020\nThey can come in here and\nthey look at that print queue,\n\n355\n00:18:14.020 --> 00:18:17.420\nwhich is a lot easier then trying to\nnavigate directly to the print queue.\n\n356\n00:18:17.420 --> 00:18:20.415\n>> Yeah, and users are super comfortable\nwith web-based applications.\n\n357\n00:18:20.415 --> 00:18:25.218\nSo this makes them be able to do some of\ntheir own support without feeling like\n\n358\n00:18:25.218 --> 00:18:28.522\nthey're getting mired down\nwith the computerese or\n\n359\n00:18:28.522 --> 00:18:32.070\ndialog boxes, management boxes and\nthings like that.\n\n360\n00:18:32.070 --> 00:18:36.545\nThis is easy, you just point them to\na web page and let them go to town.\n\n361\n00:18:36.545 --> 00:18:37.578\nAnd, as you can see,\n\n362\n00:18:37.578 --> 00:18:40.686\nit's not too difficult to manage\nwhat the heck is going on here.\n\n363\n00:18:40.686 --> 00:18:44.560\nDo I wanna cancel a job, do I wanna\nmanage a job, what do I wanna do?\n\n364\n00:18:44.560 --> 00:18:47.620\nVery, very straightforward so\nthat's good for our end users.\n\n365\n00:18:47.620 --> 00:18:49.450\n>> I'm gonna try to print this real quick,\n\n366\n00:18:49.450 --> 00:18:51.060\njust to see if we can get\nsome pop-up in there.\n\n367\n00:18:51.060 --> 00:18:52.437\nSo I got a simple text document,\n\n368\n00:18:52.437 --> 00:18:55.660\nI'll print it over there to that sales\nfloor printer, I'll click print.\n\n369\n00:18:59.499 --> 00:19:00.739\n>> Mike's not promising anything.\n\n370\n00:19:00.739 --> 00:19:01.661\n>> I'm not promising anything, no.\n\n371\n00:19:01.661 --> 00:19:04.844\n>> [LAUGH]\n>> And let's see, if we refresh this page,\n\n372\n00:19:04.844 --> 00:19:06.880\nit thinks I'm lying to it and\nthere it goes.\n\n373\n00:19:06.880 --> 00:19:10.777\nSo there's my little Notepad\ndocument showing up in my spool.\n\n374\n00:19:10.777 --> 00:19:15.390\nAnd from here, I could pull up the, this\nwould be the properties of the printer.\n\n375\n00:19:15.390 --> 00:19:19.652\nI can see all the printers,\nI can go back to that sales floor printer,\n\n376\n00:19:19.652 --> 00:19:20.618\nselect my job.\n\n377\n00:19:20.618 --> 00:19:26.484\nAnd I could pause that job,\nI could resume that print job,\n\n378\n00:19:26.484 --> 00:19:30.690\nall right, and I can cancel that as well.\n\n379\n00:19:30.690 --> 00:19:35.392\nIn fact, let's go back out to\nthe document list, choose that one.\n\n380\n00:19:35.392 --> 00:19:37.095\nAnd again, now you wanna be careful again,\n\n381\n00:19:37.095 --> 00:19:40.338\nit really depends on the permissions they\nhave, what they're gonna be able to do.\n\n382\n00:19:40.338 --> 00:19:43.275\nBut notice I've got Printer Actions and\nDocument Actions.\n\n383\n00:19:43.275 --> 00:19:47.062\nYou might see the word Cancel and\nclick here and realize oh,\n\n384\n00:19:47.062 --> 00:19:48.970\nyou just cancelled all jobs.\n\n385\n00:19:48.970 --> 00:19:50.280\nYou just wanted to cancel that one job.\n\n386\n00:19:50.280 --> 00:19:53.380\nSo be careful with that, click Cancel and\n\n387\n00:19:53.380 --> 00:19:55.610\nI can cancel that print\njob out of the queue.\n\n388\n00:19:55.610 --> 00:19:57.870\nSo nice that they can go in there and\nmanage that.\n\n389\n00:19:57.870 --> 00:20:00.800\nRemember I said that,\nby default, everybody has Print.\n\n390\n00:20:00.800 --> 00:20:05.027\nAnd everybody, the create owners\ngroup has Manage Print Documents,\n\n391\n00:20:05.027 --> 00:20:07.060\nso they can manage their jobs.\n\n392\n00:20:07.060 --> 00:20:08.770\nWell now here's an easy\nway they can go in and\n\n393\n00:20:08.770 --> 00:20:10.410\ncheck on their job and manage those jobs.\n\n394\n00:20:11.950 --> 00:20:15.190\nAll right, last thing we want to\ntake a look at in here is migrating\n\n395\n00:20:15.190 --> 00:20:16.320\nprint servers.\n\n396\n00:20:16.320 --> 00:20:20.942\nYou might have a print server\nthat's running on an older version,\n\n397\n00:20:20.942 --> 00:20:25.576\nlet's say 2008 R2, and\nyou wanna move to a 2012 server.\n\n398\n00:20:25.576 --> 00:20:27.950\nBecause you're not doing an upgrade\nmaybe because it's a separate machine.\n\n399\n00:20:27.950 --> 00:20:29.890\nWell we've got a lot of\nconfiguration in here.\n\n400\n00:20:29.890 --> 00:20:33.690\nWe've got a lot of printers in to add in,\nwe've got all those ports created.\n\n401\n00:20:33.690 --> 00:20:37.048\nWe might have forms and\nother things that are listed in here.\n\n402\n00:20:37.048 --> 00:20:39.710\nSo we can actually\nexport this information.\n\n403\n00:20:39.710 --> 00:20:44.130\nI can right-click on this and\nchoose Export printers to a file.\n\n404\n00:20:44.130 --> 00:20:48.242\nAnd you'll see it starts the Printer\nMigration wizard, and it's gonna migrate.\n\n405\n00:20:48.242 --> 00:20:51.762\nNow in this case, it's migrating\nthe two printers I've added,\n\n406\n00:20:51.762 --> 00:20:53.431\nnot all those other printers.\n\n407\n00:20:53.431 --> 00:20:55.720\nThose printers aren't attached\nto this print server right?\n\n408\n00:20:55.720 --> 00:20:59.620\nThose are just printers that are detected\non the network through my virtualization.\n\n409\n00:20:59.620 --> 00:21:01.070\nThat's not part of this.\n\n410\n00:21:01.070 --> 00:21:05.390\nSo I can see there's my KODAK Mgrs,\nthere's my KODAK Sales Floor.\n\n411\n00:21:05.390 --> 00:21:07.280\nSo it's gonna take care\nof the print queue.\n\n412\n00:21:07.280 --> 00:21:10.510\nIt actually is grabbing those\nother ones as well, interesting.\n\n413\n00:21:10.510 --> 00:21:12.970\nAnd there's my drivers\nthat it's gonna get.\n\n414\n00:21:12.970 --> 00:21:15.530\nRemember I added that driver for\nthat Kodak printer?\n\n415\n00:21:17.560 --> 00:21:19.350\nAnd there's my Printer Ports.\n\n416\n00:21:19.350 --> 00:21:23.720\nSo rather to have re-create all\nof this on your new print server,\n\n417\n00:21:23.720 --> 00:21:27.550\nall you have to do is go to your old print\nserver, right-click on your server, and\n\n418\n00:21:27.550 --> 00:21:29.720\nchoose to export printer list.\n\n419\n00:21:29.720 --> 00:21:32.826\nIt's gonna start this printer\nmigration tool, I'll click Next, and\n\n420\n00:21:32.826 --> 00:21:36.720\nI can just dump that out of my desktop so\nwe can find it real quick.\n\n421\n00:21:36.720 --> 00:21:41.869\nI'll call it Printer Migration,\nhow about that?\n\n422\n00:21:44.510 --> 00:21:45.627\nAnd I'll click Save.\n\n423\n00:21:50.991 --> 00:22:00.700\nAnd once that finishes,\nIf it does, it's stuck.\n\n424\n00:22:00.700 --> 00:22:02.673\nGood old Windows, right?\n\n425\n00:22:02.673 --> 00:22:04.128\n>> [LAUGH]\n>> It's doing the last little bit of\n\n426\n00:22:04.128 --> 00:22:04.862\nwriting that file.\n\n427\n00:22:04.862 --> 00:22:06.903\nI love it when the progress bar, makes it\nto the very end and just stops, right?\n\n428\n00:22:06.903 --> 00:22:09.645\n>> It just sits there, yeah.\n\n429\n00:22:09.645 --> 00:22:11.050\n>> All right, there we go.\n\n430\n00:22:11.050 --> 00:22:12.590\nOperation completed with no errors.\n\n431\n00:22:12.590 --> 00:22:15.240\nI'll click Finish, and\nwe'll go take a look at my desktop.\n\n432\n00:22:16.280 --> 00:22:19.540\nAnd there is my printer migration file.\n\n433\n00:22:19.540 --> 00:22:22.380\nSo then what I would do is I\nwould go to my new print server.\n\n434\n00:22:22.380 --> 00:22:26.670\nI can come in here and right-click,\nand import printers from file.\n\n435\n00:22:26.670 --> 00:22:28.550\nI would browse and find that file,\n\n436\n00:22:28.550 --> 00:22:31.070\nimport it, and\nit would bring all that stuff right in.\n\n437\n00:22:31.070 --> 00:22:35.130\nCuz think about all the DACL, right,\nthe security tab on those printers.\n\n438\n00:22:35.130 --> 00:22:39.050\nYou might have custom permissions,\npriorities, availability,\n\n439\n00:22:39.050 --> 00:22:44.320\ndrivers added for those printers,\nall of those ports that we created.\n\n440\n00:22:44.320 --> 00:22:47.170\nAll that stuff you have to recreate\nif you set up a new print server.\n\n441\n00:22:47.170 --> 00:22:50.260\nNow you can just export that stuff out,\nimport it into your new print server, and\n\n442\n00:22:50.260 --> 00:22:51.155\nyou're good to go.\n\n443\n00:22:51.155 --> 00:22:54.070\n>> Yeah, migration shouldn't\nbe a thing of difficulty,\n\n444\n00:22:54.070 --> 00:22:56.020\nit should be just as easy as that.\n\n445\n00:22:56.020 --> 00:22:59.735\nJust being able to say I wanna export\nall my settings, everything that I had.\n\n446\n00:22:59.735 --> 00:23:04.439\nBecause if you've ever had to go through\nthat and recreating all that work, man,\n\n447\n00:23:04.439 --> 00:23:05.540\nit's a real bear.\n\n448\n00:23:05.540 --> 00:23:09.308\nNot that you can't do it, but who wants\nto sit through all that business?\n\n449\n00:23:09.308 --> 00:23:12.470\nYou just wanna say, you know what, export\neverything that I've done up to this\n\n450\n00:23:12.470 --> 00:23:15.580\npoint, put it into a nice\nlittle file format for me.\n\n451\n00:23:15.580 --> 00:23:18.085\nI get a new server up and\nrunning, I import that thing, and\n\n452\n00:23:18.085 --> 00:23:19.223\nI'm back up and running.\n\n453\n00:23:19.223 --> 00:23:21.601\nIt reduces the amount of\ndowntime that you have,\n\n454\n00:23:21.601 --> 00:23:25.650\nproductivity goes back to where it\nshould be, and you're back in action.\n\n455\n00:23:25.650 --> 00:23:28.640\nNow Mike, I am a little disappointed that\nyou didn't use your David Attenborough,\n\n456\n00:23:28.640 --> 00:23:31.484\ntell us about the migratory\npatterns of the printer.\n\n457\n00:23:31.484 --> 00:23:33.760\n[LAUGH]\n>> [LAUGH] Yeah, maybe next time.\n\n458\n00:23:33.760 --> 00:23:35.450\n>> Maybe next time.\n>> We'll save it for another episode.\n\n459\n00:23:35.450 --> 00:23:36.650\n>> That's right.\n\n460\n00:23:36.650 --> 00:23:40.390\n>> All right Daniel, I'll tell you what, I\nlove printers but I think I'm out of info.\n\n461\n00:23:40.390 --> 00:23:43.890\n>> Okay well, they are out there,\nthey are kind of a pain, but\n\n462\n00:23:43.890 --> 00:23:47.880\nthere's not a whole lot too them and\nthat's the good part about it.\n\n463\n00:23:47.880 --> 00:23:53.460\nAs long as you understand the basics\nof how you manage printers in your\n\n464\n00:23:53.460 --> 00:23:55.670\nWindow Server environment specifically.\n\n465\n00:23:55.670 --> 00:23:58.660\nWell, then you should be able\nto fix any problems that arise,\n\n466\n00:23:58.660 --> 00:24:00.660\nget anything going if\nyou need to get going.\n\n467\n00:24:00.660 --> 00:24:02.470\nSo we're gonna go ahead and\nclose this episode out.\n\n468\n00:24:02.470 --> 00:24:03.770\nHopefully you guys have enjoyed it.\n\n469\n00:24:03.770 --> 00:24:05.110\nWe had a great time making it.\n\n470\n00:24:05.110 --> 00:24:08.430\nSigning off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n471\n00:24:08.430 --> 00:24:09.290\n>> And I'm Mike Rodrick.\n\n472\n00:24:09.290 --> 00:24:10.310\n>> And we'll see you next time.\n\n473\n00:24:10.310 --> 00:24:16.430\n[SOUND]\n\n",
          "vimeoId": "137379221"
        }
      ],
      "title": "Configure server roles and features"
    },
    {
      "episodes": [
        {
          "description": "In this episode Daniel and Mike take a look at virtual machine settings. Mike uses Hyper-V Manager to create and configure virtual machines.",
          "length": "1686",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-7-1-configuring_virtual_machines-082515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-7-1-configuring_virtual_machines-082515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-7-1-configuring_virtual_machines-082515-1-sm.jpg",
          "title": "Virtual Machine Settings",
          "transcript": "WEBVTT\n\n1\n00:00:00.024 --> 00:00:10.439\n[MUSIC]\n\n2\n00:00:10.439 --> 00:00:15.295\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.295 --> 00:00:16.525\nI'm your host, Daniel Lowrie.\n\n4\n00:00:16.525 --> 00:00:18.885\nHere with me as usual is Mr Mike Rodrick.\n\n5\n00:00:18.885 --> 00:00:19.775\nHow's it going today, Mike?\n\n6\n00:00:19.775 --> 00:00:20.965\n>> It's going great, Daniel.\n\n7\n00:00:20.965 --> 00:00:22.025\nWe're excited to be here.\n\n8\n00:00:22.025 --> 00:00:24.635\nWe're continuing on with\nour 7410 episodes, and\n\n9\n00:00:24.635 --> 00:00:27.975\nin this one we're gonna be looking\nat virtual machine settings.\n\n10\n00:00:27.975 --> 00:00:29.295\nBig part of the exam, and\n\n11\n00:00:29.295 --> 00:00:33.075\na big part of what we do every day working\nwith virtual machines and Hyper-V, right?\n\n12\n00:00:33.075 --> 00:00:35.645\n>> Yeah, man, the virtualization,\nit is here to stay,\n\n13\n00:00:35.645 --> 00:00:39.330\nso if you haven't cozied up to it\nquite yet it's about that time.\n\n14\n00:00:39.330 --> 00:00:41.000\nNow, Mike,\nyou're gonna help us walk through this.\n\n15\n00:00:41.000 --> 00:00:43.485\nHe's gonna guide us like\na babe in the woods.\n\n16\n00:00:43.485 --> 00:00:45.840\n>> [LAUGH]\n>> If this is new to you then we're not\n\n17\n00:00:45.840 --> 00:00:50.090\ngonna leave you, hang in there we\nare gonna show you all the baseline stuff.\n\n18\n00:00:50.090 --> 00:00:52.880\nAll the easy stuff and then move you into\nall of the other things that are a little\n\n19\n00:00:52.880 --> 00:00:54.156\nprobably a little more difficult.\n\n20\n00:00:54.156 --> 00:00:57.100\n>> Wait, are there easy stuff?\n\n21\n00:00:57.100 --> 00:00:59.411\n>> Yeah there is easy stuff in\nvirtualization come on Mike?\n\n22\n00:00:59.411 --> 00:01:00.336\n>> [LAUGH] There is.\n\n23\n00:01:00.336 --> 00:01:01.725\nRight you can click on Hyper-V.\n\n24\n00:01:01.725 --> 00:01:02.592\n>> Don't scare them.\n\n25\n00:01:02.592 --> 00:01:04.340\n[LAUGH]\n>> [LAUGH] All right so\n\n26\n00:01:04.340 --> 00:01:06.950\nlet's start off what I've got here\nare my screen I've got the Hyper-V\n\n27\n00:01:06.950 --> 00:01:10.750\nmanager opened up and I've got\na couple of virtual machines created.\n\n28\n00:01:10.750 --> 00:01:14.665\nWe're gonna create a couple of\nvirtual machines in the show as well.\n\n29\n00:01:14.665 --> 00:01:17.130\nThe first thing I want to talk\nabout is configuring the memory.\n\n30\n00:01:17.130 --> 00:01:20.140\nNow this again this was gonna be\nabout virtual machine settings.\n\n31\n00:01:20.140 --> 00:01:24.090\nWe're not really doing as much with the\nHyper-V settings although we might take\n\n32\n00:01:24.090 --> 00:01:25.410\na peek at a couple.\n\n33\n00:01:25.410 --> 00:01:28.370\nSo what I'm gonna do is I'm gonna\nright-click on my one of my virtual\n\n34\n00:01:28.370 --> 00:01:31.100\nmachines here and just choose Settings.\n\n35\n00:01:31.100 --> 00:01:32.800\nA couple of different ways\nobviously I can get here.\n\n36\n00:01:32.800 --> 00:01:36.360\nAnd that pulls up the settings for\nthis particular VM.\n\n37\n00:01:36.360 --> 00:01:39.470\nAnd so what they call, I'm gonna go\nthrough what they call on the objective\n\n38\n00:01:39.470 --> 00:01:41.770\nfor the exam,\nsuppose to be the most important thing.\n\n39\n00:01:41.770 --> 00:01:46.130\nThere's a few others that we could look\nat, but, we'll focus on the exam content.\n\n40\n00:01:46.130 --> 00:01:50.090\nThe first thing they call out is\nconfiguring dynamic memory and\n\n41\n00:01:50.090 --> 00:01:51.080\nsmart paging.\n\n42\n00:01:51.080 --> 00:01:52.670\nSo let's take a look at that.\n\n43\n00:01:52.670 --> 00:01:53.930\nI'm gonna click on memory,\n\n44\n00:01:53.930 --> 00:01:57.150\nunderneath the hardware section here\non this Virtual Machine settings.\n\n45\n00:01:57.150 --> 00:02:00.960\nAnd you'll see I have a few settings to\nchoose from, more than just assigning\n\n46\n00:02:00.960 --> 00:02:05.100\nthe amount of memory, although that is\none of the things that we have to do.\n\n47\n00:02:05.100 --> 00:02:07.330\nWhen you create the virtual\nmachine initially,\n\n48\n00:02:07.330 --> 00:02:11.590\nyou're gonna choose how much memory\nyou wanna assign to that machine.\n\n49\n00:02:11.590 --> 00:02:12.640\nAnd when you come back in and\n\n50\n00:02:12.640 --> 00:02:16.610\nlook at the machine after the fact,\nthat becomes its startup ramp.\n\n51\n00:02:16.610 --> 00:02:19.190\nAnd you can see right here up at the top,\nStartup Ramp.\n\n52\n00:02:19.190 --> 00:02:21.780\nSo when I created this virtual machine,\nI said let's go ahead and\n\n53\n00:02:21.780 --> 00:02:24.340\ngive it 2 gigs of memory.\n\n54\n00:02:24.340 --> 00:02:28.030\nAs far as memory goes, when you're trying\nto decide how much memory to allocate to\n\n55\n00:02:28.030 --> 00:02:30.250\na virtual machine,\nit's just like a physical machine.\n\n56\n00:02:30.250 --> 00:02:34.230\nYou've got to take into account how\nmuch memory the operating system needs.\n\n57\n00:02:34.230 --> 00:02:37.040\nThen you've got to think about what it is\nyou're gonna be doing with that virtual\n\n58\n00:02:37.040 --> 00:02:39.270\nmachine as you add additional roles and\n\n59\n00:02:39.270 --> 00:02:41.790\nservices do those require\nadditional memory?\n\n60\n00:02:41.790 --> 00:02:44.530\nSo you're gonna figure all that out and\ndecide.\n\n61\n00:02:44.530 --> 00:02:48.260\nSo you can set that amount and\nthat becomes the start-up RAM.\n\n62\n00:02:48.260 --> 00:02:50.550\nNow the question is why do they\ncall it start-up RAM right?\n\n63\n00:02:50.550 --> 00:02:52.570\nWhy don't they call it just RAM?\n\n64\n00:02:52.570 --> 00:02:56.490\nBecause we can enable something\ncalled dynamic memory.\n\n65\n00:02:56.490 --> 00:02:58.490\nDynamic memory is a great feature.\n\n66\n00:02:58.490 --> 00:03:03.020\nIt allows the hypervisor in this\ncase case Hyper-V to dynamically\n\n67\n00:03:03.020 --> 00:03:07.800\nadjust the amount of memory that that\nmachine is being assigned right?\n\n68\n00:03:07.800 --> 00:03:11.570\nWhen that thing boots up, it's going to\nuse two gigs of RAM because that's what\n\n69\n00:03:11.570 --> 00:03:16.080\nI've set for its start-up memory, and the\nboot process is a little memory intensive.\n\n70\n00:03:16.080 --> 00:03:17.340\nWe're starting a lot of services.\n\n71\n00:03:17.340 --> 00:03:19.580\nWe're reading a lot of\ninformation from the disk.\n\n72\n00:03:19.580 --> 00:03:22.320\nWe're starting up that operating system.\n\n73\n00:03:22.320 --> 00:03:26.340\nOnce it gets running, depending on what\nit's doing, it might not need two gigs of\n\n74\n00:03:26.340 --> 00:03:31.070\nRAM, especially if it's not being\nutilized heavily or something like that.\n\n75\n00:03:31.070 --> 00:03:35.560\nSo that's memory that could be used for\nother virtual machines on that hypervisor.\n\n76\n00:03:35.560 --> 00:03:39.180\nMaybe another machine could really use\nthat memory because it's running low.\n\n77\n00:03:39.180 --> 00:03:42.460\nWell, I can't take it from this\nguy because he's assigned that 2\n\n78\n00:03:42.460 --> 00:03:44.360\ngigs of memory and that's his.\n\n79\n00:03:44.360 --> 00:03:46.310\nHe gets to use it, nobody else does.\n\n80\n00:03:46.310 --> 00:03:48.310\nThat's where dynamic\nmemory comes into play.\n\n81\n00:03:48.310 --> 00:03:51.585\nWe can choose to enable dynamic memory,\nright.\n\n82\n00:03:51.585 --> 00:03:54.945\nNow you can do this when you create\nthe virtual machine, which I did.\n\n83\n00:03:54.945 --> 00:03:57.275\nI choose to enable dynamic memory, and\n\n84\n00:03:57.275 --> 00:03:59.955\nthen it sets these two\nvalues to their default.\n\n85\n00:03:59.955 --> 00:04:03.395\nThere's minimum RAM, and\nthere's maximum RAM.\n\n86\n00:04:03.395 --> 00:04:08.040\nMinimum RAM is How low Hyper-V can\ndrop that virtual machine's memory to.\n\n87\n00:04:08.040 --> 00:04:10.520\nAnd by default it set's it to 512.\n\n88\n00:04:10.520 --> 00:04:14.320\nSo that means after I've booted up, it's\ngiven 2 gigs of memory, but then once it\n\n89\n00:04:14.320 --> 00:04:18.310\nfinishes the boot process and its in its\nnormal state, if it doesn't need that\n\n90\n00:04:18.310 --> 00:04:23.000\nmuch memory, Hyper-V can actually drop\nit all the way down to 512 megs RAM.\n\n91\n00:04:24.230 --> 00:04:26.490\nThe maximum is just that.\n\n92\n00:04:26.490 --> 00:04:29.140\nIt can increase it too, and\nthe default you can see is one terabyte.\n\n93\n00:04:29.140 --> 00:04:32.970\nI don't have a terabyte of RAM in that\nserver, but it's saying hey, I could try\n\n94\n00:04:32.970 --> 00:04:36.730\nto get up to that, basically you're saying\nwhatever you can get, you can give it.\n\n95\n00:04:36.730 --> 00:04:40.420\nSo you might want to change that, you\nmight want to set that to something more\n\n96\n00:04:40.420 --> 00:04:43.350\nrealistic, you might want to say I\ndon't ever want to give this machine\n\n97\n00:04:43.350 --> 00:04:47.130\nmore than 3 gigs or four gigs of ram\nno matter how busy it gets right?\n\n98\n00:04:47.130 --> 00:04:50.230\nOr you can just leave it at that which\nmeans hey if there's RAM available and\n\n99\n00:04:50.230 --> 00:04:52.080\nthat machine needs it, it can grab it.\n\n100\n00:04:52.080 --> 00:04:55.382\nIt can take it and as soon as it doesn't\nneed it anymore it'll give it up it can\n\n101\n00:04:55.382 --> 00:04:59.085\nrelease it and it can be delved\nout to other virtual machines.\n\n102\n00:04:59.085 --> 00:05:01.105\n>> That's a pretty awesome\nthing to be able to do.\n\n103\n00:05:01.105 --> 00:05:04.845\nTo say, well, you know what,\nI'm not using this block of RAM right now,\n\n104\n00:05:04.845 --> 00:05:07.195\neven though it's allocated for\nthis machine, I'm gonna go ahead and\n\n105\n00:05:07.195 --> 00:05:10.985\nlet some of my other machines take over,\nand they might need that RAM.\n\n106\n00:05:10.985 --> 00:05:12.205\nGo ahead and use that.\n\n107\n00:05:12.205 --> 00:05:16.365\nNow, Mike, this seems like a positive\nthing, obviously, very cool thing.\n\n108\n00:05:16.365 --> 00:05:19.980\nIs there any time where we would\nnot wanna use that as an option?\n\n109\n00:05:19.980 --> 00:05:24.430\nIf it's a machine that you need,\nI really can't think of one.\n\n110\n00:05:24.430 --> 00:05:28.690\nI'm thinking maybe like a really\nmemory-intensive machine that,\n\n111\n00:05:28.690 --> 00:05:30.250\nbecause it is gonna take a minute.\n\n112\n00:05:30.250 --> 00:05:34.270\nIf that machine has dropped out some\nof its memory cuz it was running idle,\n\n113\n00:05:34.270 --> 00:05:36.100\nnobody was accessing it, or what have you,\n\n114\n00:05:36.100 --> 00:05:39.890\nand then all of a sudden it needed more\nRAM, there could be a little bit of period\n\n115\n00:05:39.890 --> 00:05:41.850\nwhere it's gotta go grab that RAM\n>> So\n\n116\n00:05:41.850 --> 00:05:45.690\nbefore I can ramp up its performance,\nso maybe if it was you needed that high\n\n117\n00:05:45.690 --> 00:05:49.500\nperformance instant all the time,\nyou wouldn't want to adjust that RAM.\n\n118\n00:05:49.500 --> 00:05:52.720\nThe other thing, reason you might\nnot want to use dynamic memory\n\n119\n00:05:52.720 --> 00:05:56.720\nis because we can end up\nover-allocating our RAM, right?\n\n120\n00:05:56.720 --> 00:06:01.400\nLet's say I have eight gigabytes\nof RAM in my Hyper-V server.\n\n121\n00:06:01.400 --> 00:06:03.860\nAnd I've got let's see\nif I can do my math.\n\n122\n00:06:03.860 --> 00:06:07.360\nLet's say, I've got five virtual\nmachines running on that and\n\n123\n00:06:07.360 --> 00:06:12.105\nI've given each one of them 2\ngigs of RAM as their startup.\n\n124\n00:06:12.105 --> 00:06:17.610\nWhereas, if I start them up one at a time,\nit's gonna be okay, right?\n\n125\n00:06:17.610 --> 00:06:21.670\nThen, as soon as they start up,\nthat dynamic memory\n\n126\n00:06:21.670 --> 00:06:26.100\nwill drop down if it doesn't need it, and\nit would free up memory for other servers.\n\n127\n00:06:27.390 --> 00:06:29.850\nBut Microsoft has solved this,\nthat could be a problem, right?\n\n128\n00:06:29.850 --> 00:06:30.720\nBecause then all of a sudden,\n\n129\n00:06:30.720 --> 00:06:34.380\nwhat if that machine needs to ramp back up\nin RAM, it's not available, because I've\n\n130\n00:06:34.380 --> 00:06:39.570\ngot more RAM allocated to virtual machines\nthan I physically have in the server.\n\n131\n00:06:39.570 --> 00:06:41.820\nSo if you didn't use dynamic memory,\n\n132\n00:06:41.820 --> 00:06:43.990\nyou wouldn't be able to\nover-allocate like that.\n\n133\n00:06:43.990 --> 00:06:45.750\nIf I didn't check that, I would say,\n\n134\n00:06:45.750 --> 00:06:48.920\nyou're gonna get 2 gigs, and\nyou're gonna have that at all times.\n\n135\n00:06:48.920 --> 00:06:52.570\nIf I go to start up that fifth virtual\nmachine, it's not gonna be able to start.\n\n136\n00:06:52.570 --> 00:06:53.300\nBecause it's gonna say,\n\n137\n00:06:53.300 --> 00:06:57.250\nthere is not enough memory in\nthe host to start this machine.\n\n138\n00:06:57.250 --> 00:07:00.745\nWith Dynamic Memory I can end up\nover-allocating intentionally,\n\n139\n00:07:00.745 --> 00:07:04.114\nor unintentionally where I don't\nrealize what's going on, and\n\n140\n00:07:04.114 --> 00:07:08.157\nall of a sudden they start fine because\nI usually stagger out their starts, but\n\n141\n00:07:08.157 --> 00:07:10.203\nthen what happens when we get a reboot?\n\n142\n00:07:10.203 --> 00:07:13.483\nLet's say all the machines have a power\nfailure or something like that,\n\n143\n00:07:13.483 --> 00:07:16.621\nI mean hopefully we've got some kind\nof UPS protecting us from that.\n\n144\n00:07:16.621 --> 00:07:20.976\nBut some situation where all those\nmachines start rebooting at the same time\n\n145\n00:07:20.976 --> 00:07:25.330\nand all of a sudden, they can't all\ngrab their startup memory necessary and\n\n146\n00:07:25.330 --> 00:07:30.330\nthat's gonna cause a problem with that\nreboot or a failure on that reboot.\n\n147\n00:07:30.330 --> 00:07:35.929\nAnd then, Microsoft has actually solved\nthat with something called SmartPaging.\n\n148\n00:07:35.929 --> 00:07:41.200\nAnd SmartPaging, let's see if I can,\nyou know what, Daniel?\n\n149\n00:07:41.200 --> 00:07:43.540\nI actually forgot where I'm gonna see.\n\n150\n00:07:43.540 --> 00:07:47.080\n>> SmartPaging, down at the bottom-left.\n\n151\n00:07:47.080 --> 00:07:48.090\n>> There we go.\n\n152\n00:07:48.090 --> 00:07:49.110\nThank you.\n\n153\n00:07:49.110 --> 00:07:54.203\nSmartPaging, which is enabled on a Hyper-V\nserver is a really cool feature.\n\n154\n00:07:54.203 --> 00:07:56.113\nNow, first thing I wanna\nmake sure we understand.\n\n155\n00:07:56.113 --> 00:07:58.489\nThis has nothing to do\nwith a Windows page file.\n\n156\n00:07:58.489 --> 00:08:00.978\nAll right?\nA lot of people will confuse smart paging\n\n157\n00:08:00.978 --> 00:08:04.780\nand the Windows page file and\nthink it has something to do with that.\n\n158\n00:08:04.780 --> 00:08:05.710\nIt does not.\n\n159\n00:08:05.710 --> 00:08:09.740\nSmart paging is only used\nduring the reboot process.\n\n160\n00:08:09.740 --> 00:08:12.740\nDuring the startup process,\nit's going to get that startup memory.\n\n161\n00:08:12.740 --> 00:08:16.190\nWhatever you've allocated over here for\nstartup memory, that's what it's gonna get\n\n162\n00:08:16.190 --> 00:08:19.540\nand if it's not available,\nyou won't be able to start that machine.\n\n163\n00:08:19.540 --> 00:08:22.120\nBut during a reboot,\nif we've over-allocated,\n\n164\n00:08:22.120 --> 00:08:23.800\nall five of those machines are running.\n\n165\n00:08:23.800 --> 00:08:26.520\nThey've all got 2 Gigs of startup memory,\n\n166\n00:08:26.520 --> 00:08:28.660\nwhich means they can't all\nrestart at the same time.\n\n167\n00:08:28.660 --> 00:08:32.460\nIf one of them goes to restart, another\none might grab some more memory, and\n\n168\n00:08:32.460 --> 00:08:35.570\nall of a sudden there's not enough\nmemory for that machine to start.\n\n169\n00:08:35.570 --> 00:08:37.540\nThat's where Smart Paging comes into play.\n\n170\n00:08:37.540 --> 00:08:41.840\nIt can actually grab some disk space and\nuse it for\n\n171\n00:08:41.840 --> 00:08:45.460\ntemporary memory for that reboot process.\n\n172\n00:08:45.460 --> 00:08:47.820\nSo a couple things I really\nwanna make sure we understand.\n\n173\n00:08:47.820 --> 00:08:50.080\nSmart paging has nothing\nto do with the page file.\n\n174\n00:08:50.080 --> 00:08:54.760\nIt's used during the reboot process only\non these Virtual Machines on Hyper-V,\n\n175\n00:08:54.760 --> 00:08:57.270\nand it's when we've overallocated memory.\n\n176\n00:08:57.270 --> 00:09:00.890\nAnd it allows those machines to start up,\nto get their startup memory that we've\n\n177\n00:09:00.890 --> 00:09:04.900\ngiven them, even if that much memory\ndoesn't physically exist, all right?\n\n178\n00:09:04.900 --> 00:09:08.880\nIt's a really cool feature, it lets us,\nthat we can over allocate, right?\n\n179\n00:09:08.880 --> 00:09:12.370\nBecause in the end we wanna a lot\nof memory when that machine starts,\n\n180\n00:09:12.370 --> 00:09:15.600\ncuz that's a memory intensive process,\nI don't want it to take that long.\n\n181\n00:09:15.600 --> 00:09:19.040\nBut once the machine is running,\nthere is a lot of wasted memory there.\n\n182\n00:09:19.040 --> 00:09:22.800\nIf you just leave it with two gigs,\nand it's only using a gig or a gig and\n\n183\n00:09:22.800 --> 00:09:26.310\na half, that's valuable memory that\nI can allocate to some other machine.\n\n184\n00:09:26.310 --> 00:09:30.020\nSo we're okay with that over allocation,\nwe like that dynamic memory.\n\n185\n00:09:30.020 --> 00:09:34.070\nThe problem is that re-boot can fail\nif there's not enough memory to grab,\n\n186\n00:09:34.070 --> 00:09:35.940\nbecause of the over allocation.\n\n187\n00:09:35.940 --> 00:09:38.690\nNow with the Smart Paging\nwe don't have that problem.\n\n188\n00:09:38.690 --> 00:09:39.630\nSo that works out really well.\n\n189\n00:09:39.630 --> 00:09:42.700\n>> I was going to say it sounds like\nMicrosoft finally started looking at where\n\n190\n00:09:42.700 --> 00:09:45.580\nthe problems might lie and\ntrying to beat us to the punch because\n\n191\n00:09:45.580 --> 00:09:49.130\nwe are our own worst enemy sometimes\nwhen it comes to using our own systems.\n\n192\n00:09:49.130 --> 00:09:51.490\nSo it saw a potential issue, and\n\n193\n00:09:51.490 --> 00:09:54.460\nit kind of solved it here with\nthe Smart Paging so kudos to them.\n\n194\n00:09:54.460 --> 00:09:55.045\n>> Absolutely.\n\n195\n00:09:55.045 --> 00:09:56.010\nAbsolutely.\n\n196\n00:09:56.010 --> 00:09:59.090\nNow the one more memory set, a couple more\nmemory settings I want to show you here,\n\n197\n00:09:59.090 --> 00:10:03.170\nso let's go back over to the Hyper V or\nthe virtual machine settings.\n\n198\n00:10:03.170 --> 00:10:07.560\nI've got memory buffer down here and\nthis is noted as a percentage.\n\n199\n00:10:07.560 --> 00:10:12.160\nAnd what this is, is hyper v is\ngonna can tell how much memory that\n\n200\n00:10:12.160 --> 00:10:14.670\nthat virtual machine is currently using.\n\n201\n00:10:14.670 --> 00:10:16.960\nRight?\nIt's dynamically adjusting the amount of\n\n202\n00:10:16.960 --> 00:10:19.820\nmemory based on the work\nload on that server.\n\n203\n00:10:19.820 --> 00:10:22.580\nWell it's not gonna cut it exactly,\nwell actually,\n\n204\n00:10:22.580 --> 00:10:23.850\nthat's what we're gonna set here.\n\n205\n00:10:23.850 --> 00:10:28.080\nIn other words,\nif that machine needs 512 Megs of RAM or\n\n206\n00:10:28.080 --> 00:10:31.460\nGigs of RAM right now,\nI'm sorry,megs of RAM right now,\n\n207\n00:10:31.460 --> 00:10:35.180\nit's not gonna give it just\n512 Megs of RAM and that's it.\n\n208\n00:10:35.180 --> 00:10:37.560\nIt's gonna give it,\nin this case, 20% more than that.\n\n209\n00:10:37.560 --> 00:10:42.540\nSo it's gonna look at whatever\nthat machine currently means and\n\n210\n00:10:42.540 --> 00:10:45.740\nthen, it's gonna take 20% and\nadd it to that.\n\n211\n00:10:45.740 --> 00:10:50.080\nThat's the buffer and that's what lets\nthings when that machine has dropped down\n\n212\n00:10:50.080 --> 00:10:53.500\nits memory allocation, but\nhas a little spike in memory utilization.\n\n213\n00:10:53.500 --> 00:10:57.150\nIt doesn't need to go grab more\nbecause it's got that buffer there and\n\n214\n00:10:57.150 --> 00:10:58.600\nyou can set that buffer\nto whatever you want.\n\n215\n00:10:58.600 --> 00:11:01.850\nIf you find that your machines\nperiodically spike up in their\n\n216\n00:11:01.850 --> 00:11:05.930\nmemory requirements and it's causing\na performance hit because it has to go\n\n217\n00:11:05.930 --> 00:11:08.210\ngrab more memory, increase the buffer.\n\n218\n00:11:08.210 --> 00:11:11.730\nThat way it's got that little extra space\nin there, that little overhead, for\n\n219\n00:11:11.730 --> 00:11:13.430\nthose temporary memory spikes.\n\n220\n00:11:13.430 --> 00:11:14.840\nAll right?\n\n221\n00:11:14.840 --> 00:11:19.180\nthe last one down here is the memory\nweight, and memory weight, when you're\n\n222\n00:11:19.180 --> 00:11:24.780\ndoing the dynamic memory, what if two\nmachines are asking for more memory?\n\n223\n00:11:24.780 --> 00:11:29.320\nThey've both kind of dropped down in what\nthey're being given because they're idle,\n\n224\n00:11:29.320 --> 00:11:31.320\nand then they both need\nto grab more memory, but\n\n225\n00:11:31.320 --> 00:11:34.380\nthere's not enough to\ngive both what they want.\n\n226\n00:11:34.380 --> 00:11:37.140\nWell I can say this machine has priority.\n\n227\n00:11:37.140 --> 00:11:39.720\nIn other words,\nthis guy can grab what he wants first.\n\n228\n00:11:39.720 --> 00:11:42.260\nThe other one is just going\nto get whatever is left.\n\n229\n00:11:42.260 --> 00:11:44.750\nThat's what that memory weight is for.\n\n230\n00:11:44.750 --> 00:11:47.650\nYou just slide that,\nyou can see it's just a slider, and\n\n231\n00:11:47.650 --> 00:11:51.600\nI can adjust that as needed\non each virtual machine.\n\n232\n00:11:51.600 --> 00:11:54.560\nSo that way that SQL server,\nmaybe I bump him up, and\n\n233\n00:11:54.560 --> 00:11:56.680\nso then, hey, he needs more memory,\ngive it to him.\n\n234\n00:11:56.680 --> 00:11:57.680\nLet the other guys wait.\n\n235\n00:11:57.680 --> 00:12:02.440\nThe web server doesn't need the memory\nis bad as the SQL server does, right?\n\n236\n00:12:02.440 --> 00:12:06.720\nSo a lot of options that we can use\nconfiguring these virtual machines to take\n\n237\n00:12:06.720 --> 00:12:10.700\nadvantage of the memory I have available\nin that host and use it wisely, right?\n\n238\n00:12:10.700 --> 00:12:15.650\nAnd that way I don't have to, gives me the\nability to use all of that RAM that's in\n\n239\n00:12:15.650 --> 00:12:19.510\nthere, but make sure that it's allocated\ncorrectly across the virtual machines.\n\n240\n00:12:19.510 --> 00:12:23.150\n>> Yes very, very cool like we said,\napparently there's a lot of goings-on\n\n241\n00:12:23.150 --> 00:12:26.790\nwhen it happens that when you\nbring up memory settings anyway.\n\n242\n00:12:26.790 --> 00:12:29.400\nIt's not just a simple little,\noh I'm going to give it two gigs,\n\n243\n00:12:29.400 --> 00:12:30.910\nI'm going to give it three gigs.\n\n244\n00:12:30.910 --> 00:12:32.200\nNow it could be that simple but\n\n245\n00:12:32.200 --> 00:12:35.320\nwe're talking about virtualization here,\nwe have much\n\n246\n00:12:35.320 --> 00:12:40.600\nmore fine-tuned control over how those\nvirtual machines allocate their resources.\n\n247\n00:12:40.600 --> 00:12:43.010\nNot only do we have that fine-tune\ncontrol, we saw that with the memory,\n\n248\n00:12:43.010 --> 00:12:46.660\nbut we also have some things like\nresource metering as well, right Mike?\n\n249\n00:12:46.660 --> 00:12:47.290\n>> Absolutely.\n\n250\n00:12:47.290 --> 00:12:48.170\nAnd this is another thing.\n\n251\n00:12:48.170 --> 00:12:50.830\nI'm gonna go ahead and\nfire up one of these machines so\n\n252\n00:12:50.830 --> 00:12:54.460\nthat we can actually\nplay around with that.\n\n253\n00:12:54.460 --> 00:12:58.930\nResource metering, this is especially\nuseful if your department is\n\n254\n00:12:58.930 --> 00:13:03.880\nresponsible for the hyper-V servers and\nrunning and maintaining these machines.\n\n255\n00:13:03.880 --> 00:13:05.570\nAnd you have to charge\ndifferent departments,\n\n256\n00:13:05.570 --> 00:13:09.300\nyou have to charge-back within\nthe company for their CPU utilization or\n\n257\n00:13:09.300 --> 00:13:12.680\ntheir hard-drive utilization, or\nif you're a service provider and\n\n258\n00:13:12.680 --> 00:13:15.520\nyou've gotta bill customers\nbased on their utilization.\n\n259\n00:13:15.520 --> 00:13:19.350\nBased on megabits that they're sending or\nreceiving or\n\n260\n00:13:19.350 --> 00:13:22.370\ngetting CPU utilization or\ndisk utilization.\n\n261\n00:13:22.370 --> 00:13:23.230\nHow do I figure that out?\n\n262\n00:13:23.230 --> 00:13:27.345\nHow do I find Find out how much\nCPU that virtual machine is using?\n\n263\n00:13:27.345 --> 00:13:30.285\nHow much RAM is it using,\nespecially if I got dynamic memory?\n\n264\n00:13:30.285 --> 00:13:33.455\nAnd they've added a whole bunch\nof PowerShell commands that give\n\n265\n00:13:33.455 --> 00:13:37.175\nus the ability to do just that,\nto work with those resources.\n\n266\n00:13:37.175 --> 00:13:38.185\nSo let's take a look at that.\n\n267\n00:13:38.185 --> 00:13:40.335\nNow there's a few things\nthat we can measure.\n\n268\n00:13:40.335 --> 00:13:44.410\nAverage CPU usage, that's gonna be\nin megahertz, over a period of time,\n\n269\n00:13:44.410 --> 00:13:46.600\nand we get to reset what that time is.\n\n270\n00:13:46.600 --> 00:13:47.660\nI'll show you that.\n\n271\n00:13:47.660 --> 00:13:51.290\nAverage physical memory\nusage measured in megabytes.\n\n272\n00:13:51.290 --> 00:13:54.600\nI got minimum memory usage,\nmaximum memory usage.\n\n273\n00:13:55.665 --> 00:13:58.845\nTraffic coming in and\ngoing out, both local and\n\n274\n00:13:58.845 --> 00:14:01.525\ninternet connections can be\nmonitored separately as well.\n\n275\n00:14:01.525 --> 00:14:04.465\nMaybe you don't bill for\nintranet bandwidth, right?\n\n276\n00:14:04.465 --> 00:14:07.415\nIf you're looking at just total bandwidth,\nI don't know if that's traffic I should\n\n277\n00:14:07.415 --> 00:14:11.515\nbill for or not, so we can look at\nintranet versus internet traffic or\n\n278\n00:14:11.515 --> 00:14:17.020\nto a particular subnet,\nall things that I can monitor.\n\n279\n00:14:17.020 --> 00:14:18.940\nNow we have to enable it first.\n\n280\n00:14:18.940 --> 00:14:23.110\nSo what I'm gonna do, is I'm gonna\nopen up PowerShell on the host.\n\n281\n00:14:23.110 --> 00:14:25.580\nThis isn't on the Hyper-V host itself.\n\n282\n00:14:25.580 --> 00:14:30.100\nOpen up PowerShell and\nI'm gonna turn on resource metering.\n\n283\n00:14:30.100 --> 00:14:37.480\nAnd the command for\nthat is Enable-VMResourceMetering.\n\n284\n00:14:37.480 --> 00:14:38.040\nAll right.\n\n285\n00:14:38.040 --> 00:14:39.500\nAnd then on the particular VM.\n\n286\n00:14:39.500 --> 00:14:44.420\nSo VM name,\noops we had a dash in there -vmname and\n\n287\n00:14:44.420 --> 00:14:48.230\nI'll do svr01 and I'll hit enter.\n\n288\n00:14:48.230 --> 00:14:51.720\nAnd of course no red text is a good\nthing with PowerShell, right?\n\n289\n00:14:51.720 --> 00:14:53.620\nSo I've turned it on for\nthat particular machine.\n\n290\n00:14:53.620 --> 00:14:55.310\nSo that's the first thing\nI want you to notice.\n\n291\n00:14:55.310 --> 00:14:57.420\nI'm doing this on a per machine basis.\n\n292\n00:14:57.420 --> 00:15:00.550\nOf course I could script all\nof this it's power shell\n\n293\n00:15:00.550 --> 00:15:03.540\nI could list multiple servers out\nthere if I need to or what-have-you.\n\n294\n00:15:03.540 --> 00:15:05.720\nDifferent ways we could\ngo about doing that.\n\n295\n00:15:05.720 --> 00:15:09.970\nNow, resource metering is enabled and\nthere's a bunch of commands.\n\n296\n00:15:09.970 --> 00:15:13.540\nIf I do a Get-Command.\n\n297\n00:15:13.540 --> 00:15:15.430\nLet's do what?\n\n298\n00:15:15.430 --> 00:15:22.560\n*VMResource*, let's see\nwhat we can find here.\n\n299\n00:15:22.560 --> 00:15:25.960\nYou see, there is a few different commands\nthat we can use, enable, disable.\n\n300\n00:15:25.960 --> 00:15:28.670\nIf I wanted to disable resource\nmetering on a particular VM,\n\n301\n00:15:28.670 --> 00:15:30.620\nI can throw that command out.\n\n302\n00:15:30.620 --> 00:15:34.840\nI get resource pool, and\nnew pool, remove reset, set.\n\n303\n00:15:34.840 --> 00:15:36.180\nSo a lot of different commands.\n\n304\n00:15:36.180 --> 00:15:39.820\nAnd of course you can run your get-help\nin the name of one of these commands and\n\n305\n00:15:39.820 --> 00:15:40.840\nget more information if you want to.\n\n306\n00:15:40.840 --> 00:15:42.840\nI'm gonna show you a couple of them here.\n\n307\n00:15:42.840 --> 00:15:46.120\nSo the next thing I want to show\nyou is verifying that it's enabled.\n\n308\n00:15:46.120 --> 00:15:48.260\nI might need to go\nthrough periodically and\n\n309\n00:15:48.260 --> 00:15:50.227\nsee is hey is this guy being monitored?\n\n310\n00:15:50.227 --> 00:15:56.318\nAnd it's just get-vm-vmname and\nthen svr01.\n\n311\n00:15:58.127 --> 00:16:01.225\nAnd I can just pipe that\nout into a format table,\n\n312\n00:16:01.225 --> 00:16:04.058\nto make it look a little bit better.\n\n313\n00:16:04.058 --> 00:16:08.390\nAnd we go, I can see server one,\nstate is running and I can see some memory\n\n314\n00:16:08.390 --> 00:16:12.690\nusage and some CPU utilization there,\nup time and it's operating normally.\n\n315\n00:16:12.690 --> 00:16:16.760\nSo that lets me know that yes indeed,\nresources are being monitored for\n\n316\n00:16:16.760 --> 00:16:18.880\nthis particular virtual machine.\n\n317\n00:16:18.880 --> 00:16:23.077\nNow if I wanted to disable it,\nI could actually go back and\n\n318\n00:16:23.077 --> 00:16:26.671\ncheat here, and\nfind my disable, or my enable.\n\n319\n00:16:30.952 --> 00:16:31.840\nIf I can spell.\n\n320\n00:16:31.840 --> 00:16:34.860\nAll right.\n\n321\n00:16:34.860 --> 00:16:36.597\nAnd now if I do a get,\n\n322\n00:16:36.597 --> 00:16:41.650\nthat shows [INAUDIBLE]\nthe same results, interesting,\n\n323\n00:16:41.650 --> 00:16:46.230\nbut it's no longer being monitored,\nthose statistics won't change anymore.\n\n324\n00:16:46.230 --> 00:16:47.810\nThey're still there.\n\n325\n00:16:47.810 --> 00:16:52.210\nIf you want to, and I'm gonna go ahead and\nenable it again real quick.\n\n326\n00:16:53.850 --> 00:16:54.540\nAll right.\n\n327\n00:16:54.540 --> 00:16:55.570\nSo I've enabled it one more time.\n\n328\n00:16:55.570 --> 00:16:57.946\nAnd I'll show you how to\nreset them in just a second,\n\n329\n00:16:57.946 --> 00:17:00.910\nthat would have made those numbers\nlook a little bit different.\n\n330\n00:17:00.910 --> 00:17:03.810\nSo, the, once you turn it on,\nyou've enabled resource metering, you've\n\n331\n00:17:03.810 --> 00:17:07.900\nverified that resource metering is going\non, now you let the server run, right?\n\n332\n00:17:07.900 --> 00:17:10.670\nAnd I don't know, once a day,\nonce a week, once an hour.\n\n333\n00:17:10.670 --> 00:17:13.090\nWhatever it is that your\nbilling cycle works on.\n\n334\n00:17:13.090 --> 00:17:16.990\nYou're gonna come in here and\nyou can look at those numbers and\n\n335\n00:17:16.990 --> 00:17:19.715\nit's gonna be measure-vm.\n\n336\n00:17:20.830 --> 00:17:28.078\nAlight?\nMeasure-vm, and then the -vmname, svr01.\n\n337\n00:17:28.078 --> 00:17:31.870\nAnd we should be able to get that,\nwe'll hit enter.\n\n338\n00:17:33.710 --> 00:17:39.190\nAnd there we go, I can see that my virtual\nmachine is average cpu is 16 mega hertz.\n\n339\n00:17:39.190 --> 00:17:46.090\nAverage ram 2048 max min,\n2048 total disk utilization.\n\n340\n00:17:46.090 --> 00:17:49.010\nNetwork is obviously I don't have anything\ngoing on in that particular virtual\n\n341\n00:17:49.010 --> 00:17:51.460\nmachine, there's my\nstatistics that I can get.\n\n342\n00:17:51.460 --> 00:17:54.650\nNow I can get even more\ninformation if I want it.\n\n343\n00:17:54.650 --> 00:17:57.890\nThe way we could do that is we could\nactually, let's create a variable.\n\n344\n00:17:57.890 --> 00:17:58.590\nCall it report.\n\n345\n00:18:00.430 --> 00:18:03.200\nAnd in there I'm gonna\ndo that same measure VM.\n\n346\n00:18:06.660 --> 00:18:08.904\nAnd the VM name.\n\n347\n00:18:11.378 --> 00:18:14.988\nIs SBR 01.\n\n348\n00:18:14.988 --> 00:18:16.110\nShould be good for that.\n\n349\n00:18:16.110 --> 00:18:20.100\nAnd so that's gonna store the information\nin that variable dollar sign report.\n\n350\n00:18:20.100 --> 00:18:23.350\nAnd now if I do a dollar sign report.\n\n351\n00:18:25.190 --> 00:18:28.480\nAnd we'll do the pipe that out into a,\nlet's do a list this time.\n\n352\n00:18:28.480 --> 00:18:32.426\nI'll do a format list using the shortcuts\nfor that format-list, right?\n\n353\n00:18:33.610 --> 00:18:35.860\nAnd there I can see some more information.\n\n354\n00:18:35.860 --> 00:18:37.550\nNot the most exciting information.\n\n355\n00:18:37.550 --> 00:18:39.260\nMy virtual machine is not being used.\n\n356\n00:18:39.260 --> 00:18:41.400\nBut it is there for us to go and grab.\n\n357\n00:18:41.400 --> 00:18:45.060\nAnd there's ways that I can go in and\nget even more detailed information.\n\n358\n00:18:45.060 --> 00:18:48.530\nFor the exam, for\nwhat we're doing here, this is good.\n\n359\n00:18:48.530 --> 00:18:51.575\nYou got to know how that you, that it's\navailable, that you can enable it.\n\n360\n00:18:51.575 --> 00:18:57.750\nYou've got to know what resources you can\nmonitor, CPU, Disk, network and memory.\n\n361\n00:18:57.750 --> 00:19:00.870\nKnow that information, know a couple\nof those commands I just showed you.\n\n362\n00:19:00.870 --> 00:19:03.960\nBut if in the real world if you\nwant to get more information,\n\n363\n00:19:03.960 --> 00:19:05.840\nwe can pipe this stuff\nout in the variables and\n\n364\n00:19:05.840 --> 00:19:09.330\nstart getting much more detailed\ninformation if we want.\n\n365\n00:19:09.330 --> 00:19:12.670\nLike, we can go in and get network bytes\ninbound and network bytes outbound,\n\n366\n00:19:12.670 --> 00:19:14.740\ninto the Internet or the Intranet.\n\n367\n00:19:14.740 --> 00:19:17.407\nThey actually use subnet\naddresses to control,\n\n368\n00:19:17.407 --> 00:19:19.820\nyou know what traffic you're looking for.\n\n369\n00:19:19.820 --> 00:19:23.410\nDo you want to filter it down to\neverything or just a particular subnet?\n\n370\n00:19:23.410 --> 00:19:28.400\nSo, really cool options that I can do\nwithin there with my resource meter.\n\n371\n00:19:28.400 --> 00:19:31.200\nThe last one I wanna show\nyou is the resetting,\n\n372\n00:19:31.200 --> 00:19:34.460\nbecause if you're billing on this,\nyou need to reset those counters right\n\n373\n00:19:34.460 --> 00:19:36.610\nunless you're,\nyou might need a running total.\n\n374\n00:19:36.610 --> 00:19:40.440\nBut typically, if I'm doing it daily or\nweekly, I'll measure the resources for\n\n375\n00:19:40.440 --> 00:19:41.280\nthe week and\n\n376\n00:19:41.280 --> 00:19:44.670\nthen they need to be reset, so that I can\nbill them again for next week, right?\n\n377\n00:19:44.670 --> 00:19:47.290\nSo, very important to know\nhow to reset this, as well.\n\n378\n00:19:47.290 --> 00:19:48.528\nAnd it's simple.\n\n379\n00:19:48.528 --> 00:19:57.440\nReset-VMResourceMetering and\n-VMName svr01.\n\n380\n00:19:57.440 --> 00:19:58.150\nAll right.\n\n381\n00:20:00.405 --> 00:20:03.725\nAnd now if I do another get, let's\ntry that one more time and see if we,\n\n382\n00:20:03.725 --> 00:20:06.165\nsee anything different.\n\n383\n00:20:06.165 --> 00:20:07.825\nNow, notice my [INAUDIBLE] is reset,\n\n384\n00:20:07.825 --> 00:20:10.005\nmy memory this time has\nactually dropped down to 512.\n\n385\n00:20:10.005 --> 00:20:13.152\nThis time that we've been sitting here,\nHyper-V has noticed that that server\n\n386\n00:20:13.152 --> 00:20:16.702\nsever's idle, it doesn't need\nthat two gigs of RAM anymore, and\n\n387\n00:20:16.702 --> 00:20:19.012\nit's dropped it down to 512 right?\n\n388\n00:20:19.012 --> 00:20:21.172\nSo that the memory assignment has changed,\nso\n\n389\n00:20:21.172 --> 00:20:23.712\nthat shows you that those\nstatistics have been reset.\n\n390\n00:20:23.712 --> 00:20:26.131\n>> Yeah this is really good stuff or\nus to be able to,\n\n391\n00:20:26.131 --> 00:20:29.581\nfiguring out where our servers are being\nutilized, how they're being utilized,\n\n392\n00:20:29.581 --> 00:20:32.491\nmaybe we need to allocate some\nmore resources to a server.\n\n393\n00:20:32.491 --> 00:20:35.401\nOr like Mike said maybe you're doing\nsome sort of billing options for\n\n394\n00:20:35.401 --> 00:20:37.361\npeople that are renting\nserver time from you.\n\n395\n00:20:37.361 --> 00:20:41.400\nCould be a cloud-based solution, lots\nof great ways in which you can use this\n\n396\n00:20:41.400 --> 00:20:46.490\ninformation to make your network,\nyour servers really, run more efficiently.\n\n397\n00:20:46.490 --> 00:20:49.020\nThe more efficient they run, the better\nproduction you're gonna get out of them.\n\n398\n00:20:49.020 --> 00:20:50.280\nAnd that's what it's all about,\n\n399\n00:20:50.280 --> 00:20:52.560\ngetting that efficient\nproduction out of your servers.\n\n400\n00:20:52.560 --> 00:20:53.670\n>> Absolutely.\n\n401\n00:20:53.670 --> 00:20:54.190\nAll right, so\n\n402\n00:20:54.190 --> 00:20:57.900\nnext thing I wanna take a look at here\nis our guest integration services.\n\n403\n00:20:57.900 --> 00:21:01.367\nAnd these are the services that really\nallow us to interact with that virtual\n\n404\n00:21:01.367 --> 00:21:03.099\nmachine, they make it a lot easier for\n\n405\n00:21:03.099 --> 00:21:06.238\nus to to deal with the machine as far\nas like, you know getting mouse or\n\n406\n00:21:06.238 --> 00:21:09.680\nkeyboard strokes in there,\nas well as some other important stuff.\n\n407\n00:21:09.680 --> 00:21:11.910\nNow, starting with,\ngosh, I can't remember.\n\n408\n00:21:11.910 --> 00:21:14.146\nI wanna say, it's 2008,\nbut 2012, for sure.\n\n409\n00:21:14.146 --> 00:21:15.645\nWindows 8, for sure.\n\n410\n00:21:15.645 --> 00:21:18.350\nBut, your guest integration services\nare actually already installed.\n\n411\n00:21:18.350 --> 00:21:23.980\nIf you've worked with any Hyper v in the\npast, you know back then we had to create\n\n412\n00:21:23.980 --> 00:21:27.760\nour virtual machine, and then once we\ncreated it you would click inside there,\n\n413\n00:21:27.760 --> 00:21:30.470\nand your mouse would be captured\nby the virtual machine.\n\n414\n00:21:30.470 --> 00:21:34.710\nYou couldn't get it out, without doing\nlike a control alt, and you had to go and\n\n415\n00:21:34.710 --> 00:21:37.750\ninstall the integration services.\n\n416\n00:21:37.750 --> 00:21:41.010\nThose are actually installed already\non our modern operating systems.\n\n417\n00:21:41.010 --> 00:21:44.722\n2012 is one of our first hyper-v aware,\n\n418\n00:21:44.722 --> 00:21:47.835\nor virtualization aware operating\nsystems as well as Windows 8.\n\n419\n00:21:47.835 --> 00:21:50.695\nIn other words they know when they're\nrunning in a virtual machine.\n\n420\n00:21:50.695 --> 00:21:52.805\nThe operating system say oh\nI'm in a virtual machine.\n\n421\n00:21:52.805 --> 00:21:56.225\nI'm going to enable these\nguest integration services.\n\n422\n00:21:56.225 --> 00:21:57.895\nBut we can take a look at those.\n\n423\n00:21:57.895 --> 00:22:03.162\nI'm gonna pull up the setting, for\nthat machine I've got running.\n\n424\n00:22:03.162 --> 00:22:05.852\nAnd down here I've got\nmy integration services.\n\n425\n00:22:05.852 --> 00:22:08.420\nAnd even though all,\nthis is a default install, so\n\n426\n00:22:08.420 --> 00:22:11.680\nyou can see most of these\nare already checked, all right?\n\n427\n00:22:11.680 --> 00:22:13.030\nIf I needed to, I could come in and\n\n428\n00:22:13.030 --> 00:22:16.780\nturn them off, could also turn that\nguest services on, if I wanted to.\n\n429\n00:22:16.780 --> 00:22:19.870\nBut let's talk about what these\ndifferent option here are.\n\n430\n00:22:19.870 --> 00:22:21.310\nThey're pretty straight forward.\n\n431\n00:22:21.310 --> 00:22:26.060\nThe operating system shut down one,\npretty much explains it, right?\n\n432\n00:22:26.060 --> 00:22:26.770\nWell, maybe.\n\n433\n00:22:26.770 --> 00:22:28.480\nMaybe not.\nIt allows you to shut down\n\n434\n00:22:28.480 --> 00:22:29.860\nthe operating system.\n\n435\n00:22:29.860 --> 00:22:32.610\nCan't you shut down\nthe operating system already?\n\n436\n00:22:32.610 --> 00:22:33.790\nYes, yes you can.\n\n437\n00:22:33.790 --> 00:22:38.990\nBut, what that is allowing me to do, is\nif, let me close this for just a second.\n\n438\n00:22:38.990 --> 00:22:42.820\nInstead of going into the server,\nlogging onto the server, and\n\n439\n00:22:42.820 --> 00:22:46.950\nthen going down there and clicking shut\ndown, I can right click on it from here,\n\n440\n00:22:46.950 --> 00:22:49.530\nand I can choose shut down,\nand do a graceful shut down.\n\n441\n00:22:49.530 --> 00:22:52.400\nI'm not just talking about turning it off,\npulling the plug on it.\n\n442\n00:22:52.400 --> 00:22:55.740\nYou know, just killing power to it,\nand possibly corrupting data.\n\n443\n00:22:55.740 --> 00:22:58.750\nI can do a nice graceful\nshutdown from right here.\n\n444\n00:22:58.750 --> 00:23:03.480\nIn fact, I can select more than one more\nmachine, and do a graceful shutdown.\n\n445\n00:23:03.480 --> 00:23:03.990\nAll right?\n\n446\n00:23:03.990 --> 00:23:07.180\nSo that's because of those\nintegration services there.\n\n447\n00:23:07.180 --> 00:23:08.215\nThe other one.\n\n448\n00:23:08.215 --> 00:23:10.505\nThe others, let's get that back up here.\n\n449\n00:23:10.505 --> 00:23:14.045\nAll right so\nwe got the operating system shutdown.\n\n450\n00:23:14.045 --> 00:23:15.425\nTime synchronization.\n\n451\n00:23:15.425 --> 00:23:19.360\nWe know time synchronization is a very\nimportant part in our server operating\n\n452\n00:23:19.360 --> 00:23:21.425\nsystems and as well as security.\n\n453\n00:23:21.425 --> 00:23:26.465\nThis allows time synchronization\nbetween the host machine,\n\n454\n00:23:26.465 --> 00:23:29.485\nthe Hyper-V Server, and\nthe guest operating system.\n\n455\n00:23:29.485 --> 00:23:31.690\nSo that time will be synchronized there.\n\n456\n00:23:31.690 --> 00:23:36.490\nData exchange is one that, I don't see\nit used that often, but if you need it,\n\n457\n00:23:36.490 --> 00:23:37.130\nit's a good one.\n\n458\n00:23:37.130 --> 00:23:40.860\nThis allows the guest operating\nsystem to communicate with the host\n\n459\n00:23:40.860 --> 00:23:41.520\noperating system.\n\n460\n00:23:41.520 --> 00:23:43.845\nAnd we're not talking\nabout on a network level.\n\n461\n00:23:43.845 --> 00:23:46.312\nIt can report back errors and statistics.\n\n462\n00:23:46.312 --> 00:23:49.385\nThey basically get, it's a way for\nthem to communicate.\n\n463\n00:23:49.385 --> 00:23:51.483\nLet's say that VM throws up an error.\n\n464\n00:23:51.483 --> 00:23:55.268\nI can have that error reported by\nthe Host operating system, and\n\n465\n00:23:55.268 --> 00:23:59.480\nthen Hyper-V could make some\nnotification to an administrator.\n\n466\n00:23:59.480 --> 00:24:01.880\nHey, this virtual machine\nis having a problem.\n\n467\n00:24:01.880 --> 00:24:04.440\nIt's not like it, again,\nit's not like a network transfer.\n\n468\n00:24:04.440 --> 00:24:08.180\nIt's not like copying files\nwhen I say data exchange.\n\n469\n00:24:08.180 --> 00:24:11.640\nIt's exchanging data, the underlying\noperating system information.\n\n470\n00:24:11.640 --> 00:24:16.570\nAnd it's actually accessed from\nthe host machine using WMI, or\n\n471\n00:24:16.570 --> 00:24:19.140\nWindows Management Instrumentation.\n\n472\n00:24:19.140 --> 00:24:21.350\nThen, you've got the heartbeat and\nthe heartbeat's pretty straightforward.\n\n473\n00:24:21.350 --> 00:24:24.820\nThat's how the host knows that\nthat machine is up and running.\n\n474\n00:24:24.820 --> 00:24:28.465\nI can see right here when I have my\nmachine selected, heartbeat, okay.\n\n475\n00:24:28.465 --> 00:24:29.480\nApplication's healthy.\n\n476\n00:24:29.480 --> 00:24:33.700\nCan that host communicate with\nthose guest operating systems?\n\n477\n00:24:33.700 --> 00:24:36.170\nThe one that's turned off,\nI have no heartbeat for.\n\n478\n00:24:38.160 --> 00:24:39.810\nAll right?\nAnd we've got a couple more so\n\n479\n00:24:39.810 --> 00:24:40.750\nlet me bring that back up.\n\n480\n00:24:43.790 --> 00:24:45.710\nWe got backup volume checkpoint, right?\n\n481\n00:24:45.710 --> 00:24:48.584\nThis is what allows us to\nmake a copy of that or\n\n482\n00:24:48.584 --> 00:24:53.188\nback that virtual machine up from\nthe host operating system, right?\n\n483\n00:24:53.188 --> 00:24:58.220\nThere's different ways people go about\nbacking up their virtual machines.\n\n484\n00:24:58.220 --> 00:25:00.370\nRemember, virtual machines are just files.\n\n485\n00:25:00.370 --> 00:25:04.720\nSo it does make it really easy to back\nup that virtual machine from the host,\n\n486\n00:25:04.720 --> 00:25:06.050\nbecause it's just a file.\n\n487\n00:25:06.050 --> 00:25:09.640\nBut if that virtual machine is running,\nthose files are in use and\n\n488\n00:25:09.640 --> 00:25:10.890\nthings are changing.\n\n489\n00:25:10.890 --> 00:25:15.490\nSo what this allows it to do is use volume\nshadow services to grab a snapshot,\n\n490\n00:25:15.490 --> 00:25:17.630\na quick picture of that virtual machine.\n\n491\n00:25:17.630 --> 00:25:18.480\nHey, stop everything.\n\n492\n00:25:18.480 --> 00:25:19.550\nQuick, take a picture.\n\n493\n00:25:19.550 --> 00:25:20.870\nOkay, continue running.\n\n494\n00:25:20.870 --> 00:25:24.630\nNow I can make a backup based on that\nvolume shadow copy that I created,\n\n495\n00:25:24.630 --> 00:25:26.910\neven though that virtual\nmachine is running.\n\n496\n00:25:26.910 --> 00:25:32.070\nAnd then the last one is guest services,\nand this actually is an interesting one.\n\n497\n00:25:32.070 --> 00:25:38.350\nThis allows you to copy files between\nthe host operating system, and the VM.\n\n498\n00:25:38.350 --> 00:25:42.205\nAnd, you might think, well,\ncan't I do that anyway?\n\n499\n00:25:42.205 --> 00:25:45.135\nYes, if the virtual machine\nis on the same network\n\n500\n00:25:45.135 --> 00:25:47.125\nas the host operating system, right?\n\n501\n00:25:47.125 --> 00:25:48.955\nIt's just like any other machine.\n\n502\n00:25:48.955 --> 00:25:51.083\nIf two machines are not\nnetworked together,\n\n503\n00:25:51.083 --> 00:25:54.228\nthere's no way to copy files back and\nforth between them, right?\n\n504\n00:25:54.228 --> 00:25:58.269\nWhat if I don't want that host to be\non any of those virtual machines are on\n\n505\n00:25:58.269 --> 00:26:00.605\na separate subnet that's just for them.\n\n506\n00:26:00.605 --> 00:26:03.822\nThey're not communicating with\nthe host operating system directly.\n\n507\n00:26:03.822 --> 00:26:07.050\nCan be tenants things like that for\nservice providers.\n\n508\n00:26:07.050 --> 00:26:09.140\nBut, I still need that\nability to copy files.\n\n509\n00:26:09.140 --> 00:26:13.490\nThis actually uses\nthe VM bus to move files\n\n510\n00:26:13.490 --> 00:26:18.050\nbetween the host operating system and the\nvirtual machines that are running on it.\n\n511\n00:26:18.050 --> 00:26:22.230\nSo it's not going across\nthe the network bus, right?\n\n512\n00:26:22.230 --> 00:26:23.880\nSo they don't have to\nbe networked together.\n\n513\n00:26:23.880 --> 00:26:28.000\nYour host might not have any ability to\nping or connect to that virtual machine\n\n514\n00:26:28.000 --> 00:26:34.100\nthat way, but I can still copy files using\na Powershell command called, Copy-VMFile.\n\n515\n00:26:34.100 --> 00:26:36.200\nNotice that one is not\nturned on by default.\n\n516\n00:26:36.200 --> 00:26:39.650\nThat's the only one, I would have to\nturn that on if I wanted to use it.\n\n517\n00:26:39.650 --> 00:26:41.950\nSo pretty cool feature there,\nbeing able to move files back and\n\n518\n00:26:41.950 --> 00:26:44.020\nforth, bypassing the network bus.\n\n519\n00:26:44.020 --> 00:26:47.800\nThat virtual machine could be very busy\nusing that network, doing other things.\n\n520\n00:26:47.800 --> 00:26:49.637\nRight?\nIf I start copying big files over to it\n\n521\n00:26:49.637 --> 00:26:53.670\nthat takes away from its bandwidth that's\nbeen allocated to it for its networking.\n\n522\n00:26:53.670 --> 00:26:54.920\nThis doesn't use that.\n\n523\n00:26:54.920 --> 00:26:57.440\nSo it can still talk at full\nspeed doing whatever it's doing,\n\n524\n00:26:57.440 --> 00:26:59.570\nand I can still move files over to it.\n\n525\n00:26:59.570 --> 00:27:02.660\n>> Yeah, having multiple ways in which\nto connect your computers together so\n\n526\n00:27:02.660 --> 00:27:05.990\nthat you can share data between them,\nis never a bad thing.\n\n527\n00:27:05.990 --> 00:27:09.130\nAnd the fact that it's doing\nit kind of under the surface,\n\n528\n00:27:09.130 --> 00:27:11.240\nunder the covers as it were.\n\n529\n00:27:11.240 --> 00:27:14.090\nAnd not having to use your network and\nutilize that.\n\n530\n00:27:14.090 --> 00:27:16.680\nLot of times, networks, they're\ngetting saturated enough as they are.\n\n531\n00:27:16.680 --> 00:27:20.110\nThey don't need any help, especially\nif it's like a large file transfer.\n\n532\n00:27:20.110 --> 00:27:24.650\nIt might be more beneficial to go this way\nthan to try to use the old network and\n\n533\n00:27:24.650 --> 00:27:25.810\nsaturate that bandwidth.\n\n534\n00:27:25.810 --> 00:27:26.820\nSo, awesome stuff.\n\n535\n00:27:26.820 --> 00:27:28.880\nThey've done a lot of really cool things\n\n536\n00:27:28.880 --> 00:27:31.590\nwith the Hyper-V Virtualization\nManagement Software.\n\n537\n00:27:31.590 --> 00:27:33.420\nJust, gives you a lot of stuff.\n\n538\n00:27:33.420 --> 00:27:35.053\nObviously, we've gone\nthrough everything today.\n\n539\n00:27:35.053 --> 00:27:36.499\n>> [LAUGH]\n>> [LAUGH]\n\n540\n00:27:36.499 --> 00:27:37.062\n>> You wish.\n\n541\n00:27:37.062 --> 00:27:38.300\n>> Not quite yet.\n\n542\n00:27:38.300 --> 00:27:40.700\n>> If it was that easy,\nwe could take that exam right now.\n\n543\n00:27:40.700 --> 00:27:42.950\n>> That's right.\nWe just jump into the exam room.\n\n544\n00:27:42.950 --> 00:27:45.985\n>> But, I'm looking at the clock, and that\nmeans we're gonna have to do a part two\n\n545\n00:27:45.985 --> 00:27:49.510\ncuz we haven't even come close to\ngoing through all of the settings that\n\n546\n00:27:49.510 --> 00:27:51.340\nyou're going to need to know for\nyour examination.\n\n547\n00:27:51.340 --> 00:27:53.380\nSo hopefully, we'll see you in part two.\n\n548\n00:27:53.380 --> 00:27:55.070\nAs for this one,\nwe're gonna go ahead and sign off.\n\n549\n00:27:55.070 --> 00:27:57.930\nFor ITProTV,\nI've been your host Daniel Lowry.\n\n550\n00:27:57.930 --> 00:27:58.600\n>> And I'm Mike Rodrick.\n\n551\n00:27:58.600 --> 00:27:59.935\n>> And we'll see you next time.\n\n552\n00:27:59.935 --> 00:28:06.050\n[MUSIC]\n\n",
          "vimeoId": "137477818"
        },
        {
          "description": "In this episode Daniel and Mike continue their discussion on virtual machine settings.  Mike demonstrates the use of Enhanced Session Mode as well as many other features leveraging the use of virtual machines such as Gen 1 and Gen 2 VMs.",
          "length": "1307",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-7-1-virtual_machine_settings_pt2-082615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-7-1-virtual_machine_settings_pt2-082615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-7-1-virtual_machine_settings_pt2-082615-1-sm.jpg",
          "title": "Virtual Machine Settings Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.009 --> 00:00:10.381\n[MUSIC]\n\n2\n00:00:10.381 --> 00:00:15.780\nAll right, greetings everyone, and welcome\nto another exciting episode of ITProTV.\n\n3\n00:00:15.780 --> 00:00:19.630\nI'm your host Daniel Lowry and here with\nme, as usual, is Mister Mike Rodrick.\n\n4\n00:00:19.630 --> 00:00:20.410\nHow's it going, Mike?\n\n5\n00:00:20.410 --> 00:00:21.450\n>> Yeah, it's going great Daniel.\n\n6\n00:00:21.450 --> 00:00:26.306\nI'm exciting cuz we're still\ndoing our 7410 episodes.\n\n7\n00:00:26.306 --> 00:00:29.708\nAnd this one, we're gonna be\ncontinuing on with our VM settings, or\n\n8\n00:00:29.708 --> 00:00:31.600\nour virtual machine settings.\n\n9\n00:00:31.600 --> 00:00:34.080\nSo, if you missed the previous episode,\ngo back and watch that.\n\n10\n00:00:34.080 --> 00:00:36.460\nWe covered a lot of the settings,\nbut we have more.\n\n11\n00:00:36.460 --> 00:00:39.130\nSo, let's just dive right in and\nsee what we've got.\n\n12\n00:00:39.130 --> 00:00:42.530\nSome other things that we need to be able\nto configure with these virtual machines,\n\n13\n00:00:42.530 --> 00:00:45.090\none of them is going to be,\nthat they call out on the exam,\n\n14\n00:00:45.090 --> 00:00:48.180\nis our enhanced session mode, right?\n\n15\n00:00:48.180 --> 00:00:52.410\nAn enhanced session mode basically\ngives me the ability to use local\n\n16\n00:00:52.410 --> 00:00:56.420\nresources when I connect\nto a virtual machine.\n\n17\n00:00:56.420 --> 00:01:00.410\nThis probably is nothing new,\nif you've ever used Remote Desktop.\n\n18\n00:01:00.410 --> 00:01:04.770\nI wanna say it started in Remote Desktop\n6, but I'm not positive on that.\n\n19\n00:01:04.770 --> 00:01:05.686\nWe've had that ability, right?\n\n20\n00:01:05.686 --> 00:01:09.568\nWhen you go to create a Remote Desktop\nconnection, you can go to options, and\n\n21\n00:01:09.568 --> 00:01:12.913\nyou can choose to bring along your\nprinters, your clipboard, and\n\n22\n00:01:12.913 --> 00:01:14.247\na couple of other things.\n\n23\n00:01:14.247 --> 00:01:17.568\nEnhanced session mode lets me\ndo the same thing with these\n\n24\n00:01:17.568 --> 00:01:21.710\nvirtual machines in Hyper-V,\nif you use VMConnect, all right?\n\n25\n00:01:21.710 --> 00:01:23.520\nBut normally,\ndepending on how you connect,\n\n26\n00:01:23.520 --> 00:01:28.350\nif you right click on this machine,\nI can choose connect, and Hyper-V\n\n27\n00:01:28.350 --> 00:01:33.680\nuses that VMConnect in the background\nto connect to those virtual machines.\n\n28\n00:01:33.680 --> 00:01:35.450\nSo this little window pops up here.\n\n29\n00:01:36.460 --> 00:01:39.657\nAnd I can see, I get a few options,\nchoose the size of your desktop for\n\n30\n00:01:39.657 --> 00:01:41.550\ninteracting with the virtual machine.\n\n31\n00:01:41.550 --> 00:01:44.754\nSo it's gonna pop out at 1280x720.\n\n32\n00:01:44.754 --> 00:01:47.220\nIn other words,\nthere'll be a window on my desktop.\n\n33\n00:01:47.220 --> 00:01:49.630\nI can slide that all the way\nup to go full screen,\n\n34\n00:01:49.630 --> 00:01:54.350\nwhen I want to connect to it,\nit's gonna pop out and go full screen.\n\n35\n00:01:54.350 --> 00:01:58.070\nCool thing if I had multiple monitors, I\ncould actually take advantage of that, and\n\n36\n00:01:58.070 --> 00:02:03.180\nI can remote into this machine, and spread\nthat machine out across multiple monitors.\n\n37\n00:02:03.180 --> 00:02:07.071\nIf I click on show options,\nI get even more, right?\n\n38\n00:02:07.071 --> 00:02:10.763\nOne, this is where I can save my settings\nfor future connections as virtual machine.\n\n39\n00:02:10.763 --> 00:02:14.880\nI use that one feature right there\nmore than any of these others, right?\n\n40\n00:02:14.880 --> 00:02:18.900\nBecause every time I go to connect, it\nwants to put this thing in a window, and\n\n41\n00:02:18.900 --> 00:02:21.490\nI wanted to go full screen\nevery time I connect.\n\n42\n00:02:21.490 --> 00:02:25.810\nSo I can check here, save my settings for\nfuture connections in this machine, and\n\n43\n00:02:25.810 --> 00:02:27.510\nnow every time I right click connect,\n\n44\n00:02:27.510 --> 00:02:30.420\nit'll just go right into\nthat full screen mode.\n\n45\n00:02:30.420 --> 00:02:32.100\nI'll leave it in the default for\nus for now.\n\n46\n00:02:33.250 --> 00:02:37.370\nThen I've got my Local Resources, and\nthis is just like what you're used to with\n\n47\n00:02:37.370 --> 00:02:40.170\nRemote Desktop,\nif you've used that option before.\n\n48\n00:02:40.170 --> 00:02:43.206\nI can configure remote audio settings,\nalthough, I'll tell you, Daniel,\n\n49\n00:02:43.206 --> 00:02:44.501\nI've never done that in my life.\n\n50\n00:02:44.501 --> 00:02:45.662\n[LAUGH]\n>> [LAUGH] Yeah.\n\n51\n00:02:45.662 --> 00:02:49.024\nProbably when you're admining a server,\nthe last thing that's on your mind is\n\n52\n00:02:49.024 --> 00:02:51.142\nwanting to listen to your favorite R.E.M.\nCD.\n\n53\n00:02:51.142 --> 00:02:52.512\n[LAUGH]\n>> Right.\n\n54\n00:02:52.512 --> 00:02:54.138\n>> As catchy as they may be, Mike.\n\n55\n00:02:54.138 --> 00:02:56.780\n[LAUGH]\n>> Yeah, they do have some catchy tunes.\n\n56\n00:02:56.780 --> 00:03:00.635\nBut below that, this is where I've got\nmy important stuff, at least to me.\n\n57\n00:03:00.635 --> 00:03:04.775\nI've got my printers and my clipboard, and\nthose, you notice, are checked by default.\n\n58\n00:03:04.775 --> 00:03:07.085\nSo when you remote into\nthat virtual machine,\n\n59\n00:03:07.085 --> 00:03:08.695\nyou're gonna have access\nto your clipboard.\n\n60\n00:03:08.695 --> 00:03:12.625\nSo you can copy and\npaste stuff from your host machine, or\n\n61\n00:03:12.625 --> 00:03:16.965\nwhatever you're connecting from, into that\nvirtual machine, as well as any printer.\n\n62\n00:03:16.965 --> 00:03:19.485\nSo, if I have printers\nattached to my local machine,\n\n63\n00:03:19.485 --> 00:03:22.090\nI'm remoting into a virtual machine.\n\n64\n00:03:22.090 --> 00:03:25.360\nAnd keep in mind, this doesn't have\nto be done from the host, right.\n\n65\n00:03:25.360 --> 00:03:28.350\nThe host is probably a server\nin the server closet\n\n66\n00:03:28.350 --> 00:03:30.000\nrunning all these virtual machines.\n\n67\n00:03:30.000 --> 00:03:34.480\nI'm an employee sitting in my cubicle\non my Windows A1 desktop, and\n\n68\n00:03:34.480 --> 00:03:38.870\nI'm remoting in to one of those virtual\nmachines so I can administer it, right?\n\n69\n00:03:38.870 --> 00:03:42.210\nIf I've got a printer hooked up to\nmy little client in my cubicle,\n\n70\n00:03:42.210 --> 00:03:43.380\nI can bring that printer with me.\n\n71\n00:03:43.380 --> 00:03:46.730\nSo if I click print on something\ninside the virtual machine,\n\n72\n00:03:46.730 --> 00:03:49.770\nit's gonna print to the printer\nthat's sitting at my desktop.\n\n73\n00:03:49.770 --> 00:03:53.170\nI don't have to worry about whether\nthe virtual machine itself is\n\n74\n00:03:53.170 --> 00:03:54.760\nconnected to a printer.\n\n75\n00:03:54.760 --> 00:03:58.100\nIf I want more options, I can click More,\nand I get more options.\n\n76\n00:03:58.100 --> 00:03:59.440\nWe get a lot more.\n\n77\n00:03:59.440 --> 00:04:00.880\nWe can bring smart cards along.\n\n78\n00:04:00.880 --> 00:04:04.830\nMaybe we're using smart card readers for\nauthentication or something like that.\n\n79\n00:04:04.830 --> 00:04:07.590\nI've got a reader hooked up\nto my physical machine here.\n\n80\n00:04:07.590 --> 00:04:10.750\nThere's no reader hooked up\nto the virtual machine, but\n\n81\n00:04:10.750 --> 00:04:13.220\nI need access to it when I'm\nin that virtual machine.\n\n82\n00:04:13.220 --> 00:04:15.100\nI can bring that along with me.\n\n83\n00:04:15.100 --> 00:04:19.230\nIf I expand out drives, I can bring\nany drive that I have currently.\n\n84\n00:04:19.230 --> 00:04:23.560\nNow, my laptop here only has one\ndrive in it, so that's all I see.\n\n85\n00:04:23.560 --> 00:04:27.509\nIf I had multiple hard drives or\npartitions, I should say volumes,\n\n86\n00:04:27.509 --> 00:04:30.084\ninside my machine, I would see those here.\n\n87\n00:04:30.084 --> 00:04:31.477\nAnd maybe I need to copy a file.\n\n88\n00:04:31.477 --> 00:04:33.679\nRemember, I can't just drag a file and\n\n89\n00:04:33.679 --> 00:04:37.590\ndrop it onto the window that\ncontains that virtual machine.\n\n90\n00:04:37.590 --> 00:04:41.980\nI've gotta be connected through a network,\nI've got to set up a network share, and\n\n91\n00:04:41.980 --> 00:04:44.136\nI've got to move files around that way.\n\n92\n00:04:44.136 --> 00:04:48.990\nWith this,\nI can bring my local drive with me, and\n\n93\n00:04:48.990 --> 00:04:52.090\nit's gonna show up as a mapped drive\ninside the virtual machine, and\n\n94\n00:04:52.090 --> 00:04:54.200\nI'll show you what I mean\nhere in just a second.\n\n95\n00:04:54.200 --> 00:04:56.470\nI can also choose drives\nthat I plug in later.\n\n96\n00:04:56.470 --> 00:04:59.490\nMaybe I've got a USB hard drive\nthat's not plugged in now, but\n\n97\n00:04:59.490 --> 00:05:01.360\nI'm gonna plug it in in a minute and\nI need it.\n\n98\n00:05:01.360 --> 00:05:03.460\nI can choose to bring that along with.\n\n99\n00:05:03.460 --> 00:05:09.120\nAnd now, when I plug that USB hard\ndrive into my physical machine,\n\n100\n00:05:09.120 --> 00:05:12.550\nit's going to show up as a map\ndrive inside that virtual machine.\n\n101\n00:05:12.550 --> 00:05:14.763\n>> Yeah, Mike, I've actually had\nto deal with that a little bit.\n\n102\n00:05:14.763 --> 00:05:16.718\nYou think,\nthat's not a really big deal, right?\n\n103\n00:05:16.718 --> 00:05:19.880\nIt's just a thumb drive giving you\na little extra storage, maybe.\n\n104\n00:05:19.880 --> 00:05:24.040\nI could find other ways to get\nthe information on that drive\n\n105\n00:05:24.040 --> 00:05:27.800\nonto a computer if I need to,\nbut there are some third-party\n\n106\n00:05:27.800 --> 00:05:31.770\napplications out there that will put\nyour license key on a thumb drive.\n\n107\n00:05:31.770 --> 00:05:33.300\nIt's gotta be on that thumb drive.\n\n108\n00:05:33.300 --> 00:05:36.300\nIf you're running a completely\nvirtualized environment,\n\n109\n00:05:36.300 --> 00:05:38.640\nhow are you supposed to get\nthat thumb drive onto there?\n\n110\n00:05:38.640 --> 00:05:40.550\nAnd that's why they had to come\nup with something like that.\n\n111\n00:05:40.550 --> 00:05:44.530\nThings like that can happen, and\nhaving that integration built in, well,\n\n112\n00:05:44.530 --> 00:05:47.710\nit's gonna help you be able to\nuse all the same programs and\n\n113\n00:05:47.710 --> 00:05:51.330\nfeatures that you've used in the past\nwith your virtualized environment.\n\n114\n00:05:51.330 --> 00:05:51.986\n>> Absolutely.\nOtherwise,\n\n115\n00:05:51.986 --> 00:05:53.231\nI might not be able to\nvirtualize that solution.\n\n116\n00:05:53.231 --> 00:05:55.206\n>> Yeah, that's right.\n>> I'd have to keep it physical,\n\n117\n00:05:55.206 --> 00:05:58.190\nhave another server in there,\nso this gives us that ability.\n\n118\n00:05:58.190 --> 00:05:59.770\nThat's a great example.\n\n119\n00:05:59.770 --> 00:06:02.851\nAnd then down below,\nI've got other supportive plug and\n\n120\n00:06:02.851 --> 00:06:06.121\nplay devices, and I can choose\nif I had any plugged in now, or\n\n121\n00:06:06.121 --> 00:06:10.410\nif I was gonna bring some or plug some\nin later, I can choose that as well.\n\n122\n00:06:10.410 --> 00:06:11.350\nSo, lots of cool options.\n\n123\n00:06:11.350 --> 00:06:12.880\nI'll click okay on that.\n\n124\n00:06:12.880 --> 00:06:14.292\nNow it knows what I want to bring.\n\n125\n00:06:14.292 --> 00:06:18.830\nAnd now, if I need that thumb drive for\nthat key every time,\n\n126\n00:06:18.830 --> 00:06:22.920\nI can choose save my settings for future\nconnections to this virtual machine.\n\n127\n00:06:22.920 --> 00:06:25.683\nNow, every time I go to connect,\nI will have access to.\n\n128\n00:06:25.683 --> 00:06:30.086\nAnd let's do that drive that I plug\nin later, now I can save it, and\n\n129\n00:06:30.086 --> 00:06:35.134\nI won't have to go through this every\nsingle time I connect to that machine.\n\n130\n00:06:35.134 --> 00:06:37.763\nSo I'll go ahead and click Connect, and\n\n131\n00:06:37.763 --> 00:06:41.280\nthere we see it bumps it\nout to that 1280x720.\n\n132\n00:06:41.280 --> 00:06:43.080\nI'm gonna maximize it just for\n\n133\n00:06:43.080 --> 00:06:45.880\nthis demo cuz it's gonna look\nbetter on our screen here.\n\n134\n00:06:45.880 --> 00:06:51.707\nAnd then I'm gonna log in,\nI remember the password.\n\n135\n00:06:51.707 --> 00:06:58.370\nSo now I'm remoting in to that svr01,\nand if I open up file explorer.\n\n136\n00:07:01.104 --> 00:07:04.501\nYou know server manager's loading up so\nit's getting all irritated.\n\n137\n00:07:04.501 --> 00:07:07.430\n>> [LAUGH] It's fighting for\nresources right now.\n\n138\n00:07:07.430 --> 00:07:08.540\n>> Bringing everything along.\n\n139\n00:07:08.540 --> 00:07:09.540\nBut you can already see it.\n\n140\n00:07:09.540 --> 00:07:11.940\nYou can see it out here, and\nI'll show you over here.\n\n141\n00:07:11.940 --> 00:07:14.304\nC:onvmhost, right?\n\n142\n00:07:14.304 --> 00:07:16.070\nSo that's the local machine there.\n\n143\n00:07:16.070 --> 00:07:18.340\nNow, it's not my laptop.\n\n144\n00:07:18.340 --> 00:07:23.970\nI'm actually, [LAUGH] a little twisty\nhere, I'm remoted into the VM host,\n\n145\n00:07:23.970 --> 00:07:27.610\nand then, from the VM host,\nI'm remoting into the virtual machine.\n\n146\n00:07:27.610 --> 00:07:31.360\nSo this C on VM host,\nthat's the local drive on the host.\n\n147\n00:07:31.360 --> 00:07:35.160\nNormally, I'd be remoting directly\ninto that virtual machine,\n\n148\n00:07:35.160 --> 00:07:36.260\nI just don't have all that set up.\n\n149\n00:07:36.260 --> 00:07:38.140\nWe just created these VMs for\nthis lab, and\n\n150\n00:07:38.140 --> 00:07:41.410\nI haven't configured Remote Desktop and\nall of that.\n\n151\n00:07:41.410 --> 00:07:44.285\nAll right, but\nthe point is that I can see that drive.\n\n152\n00:07:44.285 --> 00:07:48.099\nSo if I had a file on the host machine,\nor the machine I was sitting at, I needed\n\n153\n00:07:48.099 --> 00:07:52.091\nto copy to the virtual machine, I can now\ndo that without having to set up a share,\n\n154\n00:07:52.091 --> 00:07:56.374\nmaking sure we're connected to the same\nnetwork, set up permissions, all of that.\n\n155\n00:07:56.374 --> 00:07:57.540\nOr vice versa.\n\n156\n00:07:57.540 --> 00:08:00.755\nI can go to this virtual machine,\nAnd let's say we've got,\n\n157\n00:08:00.755 --> 00:08:05.020\nI don't know, some important file\non there called New Text Document.\n\n158\n00:08:05.020 --> 00:08:09.240\nI can take that and copy it,\nand paste this on the drive.\n\n159\n00:08:10.635 --> 00:08:13.030\nAnd let's put it in here, just so\nI don't get any permissions issues.\n\n160\n00:08:15.260 --> 00:08:15.970\nAll right.\n\n161\n00:08:15.970 --> 00:08:16.534\nI can paste that.\n\n162\n00:08:16.534 --> 00:08:18.392\nNow that's on the host machine, right?\n\n163\n00:08:18.392 --> 00:08:19.622\nNot the VM.\n\n164\n00:08:19.622 --> 00:08:22.360\nSo an easy way to move things back and\nforth.\n\n165\n00:08:22.360 --> 00:08:23.980\nAgain, printers and all of that.\n\n166\n00:08:23.980 --> 00:08:26.622\nNow, to set this up to use\nthe enhanced session mode,\n\n167\n00:08:26.622 --> 00:08:29.164\nthere are some things that\nwe have to take a look at.\n\n168\n00:08:29.164 --> 00:08:34.852\nSo in fact, I'm gonna disconnect\nreal quick from that guy.\n\n169\n00:08:34.852 --> 00:08:36.176\nAll right.\n\n170\n00:08:36.176 --> 00:08:40.716\nIf I pull up the properties\nof the Hyper-V Server itself,\n\n171\n00:08:40.716 --> 00:08:45.640\nthere's two options in here,\nenhanced session mode policy.\n\n172\n00:08:45.640 --> 00:08:49.750\nAnd this is unchecked by default and\nI wouldn't get those options.\n\n173\n00:08:49.750 --> 00:08:54.190\nI can still connect using remote desktop,\nor that VM connect, but I wouldn't get\n\n174\n00:08:54.190 --> 00:08:57.670\nthose same options to bring my drive,\nmy printers, and things like that.\n\n175\n00:08:57.670 --> 00:09:02.610\nAlso there's another one down here\nunder user enhanced session mode,\n\n176\n00:09:02.610 --> 00:09:05.250\nuse if available, and\nthat has to be turned on as well.\n\n177\n00:09:05.250 --> 00:09:09.470\nSo both of those need to be turned on\nin order to get that enhanced session\n\n178\n00:09:09.470 --> 00:09:10.770\nmode capability.\n\n179\n00:09:10.770 --> 00:09:12.110\nBut really cool feature,\n\n180\n00:09:12.110 --> 00:09:16.780\nuse it a lot, makes working with\nthose virtual machines a lot easier\n\n181\n00:09:16.780 --> 00:09:19.750\nwhen you're connecting to different ones\nand having to move things back and forth.\n\n182\n00:09:20.880 --> 00:09:23.160\nAll right, so\nthat's the use enhance session mode.\n\n183\n00:09:23.160 --> 00:09:25.680\nThe next thing they call\nout on the objectives.\n\n184\n00:09:25.680 --> 00:09:30.510\nIt is gonna be working with Gen 1 and Gen\n2 virtual machines, or Generation 1 and\n\n185\n00:09:30.510 --> 00:09:32.544\nGeneration 2 virtual machines.\n\n186\n00:09:32.544 --> 00:09:36.165\nGeneration 1 is what we've always had,\nall right?\n\n187\n00:09:36.165 --> 00:09:40.889\nStarting with Server 2012,\nwe got Generation 2 virtual machines.\n\n188\n00:09:42.100 --> 00:09:44.600\nAnd, let's take a look at\nsome of the differences.\n\n189\n00:09:44.600 --> 00:09:48.760\nSo Generation 1, you're getting the same\nthing we've always had with Hyper-V\n\n190\n00:09:48.760 --> 00:09:50.980\nas long as Hyper-V's been out.\n\n191\n00:09:50.980 --> 00:09:53.710\nThere are some,\nthat's actually not true on there.\n\n192\n00:09:54.730 --> 00:09:56.989\nBut, let me show you what I mean here.\n\n193\n00:09:56.989 --> 00:10:01.076\nIf I go to create a new virtual machine,\nall right?\n\n194\n00:10:01.076 --> 00:10:04.320\nI'll click Next here, and I'll give it\na name, I'm just gonna call this one test.\n\n195\n00:10:06.140 --> 00:10:09.182\nAll right?\nThere's my Generation 1 and Generation 2,\n\n196\n00:10:09.182 --> 00:10:09.896\nall right?\n\n197\n00:10:09.896 --> 00:10:13.820\nAgain, Generation 1 is the one\nwe've always had, works just fine.\n\n198\n00:10:13.820 --> 00:10:17.746\nGeneration 2, however,\ngives me some cool new features, and\n\n199\n00:10:17.746 --> 00:10:19.830\nwe can see them listed here.\n\n200\n00:10:19.830 --> 00:10:24.030\nIt gives me the ability to do PXE boot\nusing a standard network adaptor.\n\n201\n00:10:24.030 --> 00:10:25.610\nThat's one of them.\n\n202\n00:10:25.610 --> 00:10:29.420\nIn the past, prior to 2012,\nprior to the Generation 2,\n\n203\n00:10:29.420 --> 00:10:34.585\nif I wanted to do a PXE boot,\nI had to install a legacy network adapter.\n\n204\n00:10:34.585 --> 00:10:37.725\nThe virtualized network adapter\nthat came in the Gen 1 machines\n\n205\n00:10:37.725 --> 00:10:42.605\nwasn't able to do PXE boot, so I couldn't\nboot to my deployment server and\n\n206\n00:10:42.605 --> 00:10:45.264\ninstall an image on a virtual machine,\nfor example.\n\n207\n00:10:45.264 --> 00:10:49.120\nWith the Generation 2,\nmy normal network adapters,\n\n208\n00:10:49.120 --> 00:10:52.080\nmy standard virtual network adapter,\nsupports PXE boot, so\n\n209\n00:10:52.080 --> 00:10:55.550\nI don't have to use those legacy\nnetwork adapters anymore.\n\n210\n00:10:55.550 --> 00:10:59.537\nYou can also boot from a SCSI disk,\nwhich you can't do with a Generation 1.\n\n211\n00:10:59.537 --> 00:11:03.019\nYou can boot from a SCSI DVD.\n\n212\n00:11:03.019 --> 00:11:08.458\nIf you have a virtual DVD connected to\nyour SCSI bus in your virtual settings,\n\n213\n00:11:08.458 --> 00:11:10.140\nit can now boot to that.\n\n214\n00:11:10.140 --> 00:11:13.910\nSo maybe I wanna install\nan operating system from the DVD.\n\n215\n00:11:15.030 --> 00:11:17.533\nSecure Boot is another\nthing it's provided, right?\n\n216\n00:11:17.533 --> 00:11:22.734\nIt gives us a support for the UEFI,\nin addition to the BioSpace systems.\n\n217\n00:11:22.734 --> 00:11:28.121\nSo we get that secure boot and\nthe UEFI firmware support.\n\n218\n00:11:28.121 --> 00:11:33.007\nNow, there is a couple limitations that\nwe need to be aware of with the Gen 2.\n\n219\n00:11:33.007 --> 00:11:37.627\nNo physical CD or DVD access, or DVD.\n\n220\n00:11:37.627 --> 00:11:39.200\nIn fact, let me see if I can show you.\n\n221\n00:11:39.200 --> 00:11:41.068\nLet me go ahead and\ncreate a Gen 2 machine here.\n\n222\n00:11:41.068 --> 00:11:46.451\nI'm just gonna use all the defaults,\njust not worrying about any of this,\n\n223\n00:11:46.451 --> 00:11:49.197\njust so that I can show you what I mean.\n\n224\n00:11:49.197 --> 00:11:52.647\nSo we'll let that create and\nthen I'm just gonna pull up properties or\n\n225\n00:11:52.647 --> 00:11:53.995\nthe settings for this guy.\n\n226\n00:11:53.995 --> 00:11:59.304\nAnd on my SCSI controller,\nyou can see I can add a hard drive or\n\n227\n00:11:59.304 --> 00:12:05.150\na DVD drive [COUGH] excuse me, but\nthere's no access to a physical.\n\n228\n00:12:05.150 --> 00:12:08.450\nLet's see if it'll, I'll go ahead and\nadd a DVD drive here.\n\n229\n00:12:08.450 --> 00:12:09.200\nAll right.\n\n230\n00:12:09.200 --> 00:12:12.980\nAnd notice on this screen,\nthere's no access to a physical.\n\n231\n00:12:12.980 --> 00:12:16.320\nIn other words, what we used to be\nable to do with a Generation 1,\n\n232\n00:12:16.320 --> 00:12:20.480\nif I had a physical DVD\ndrive in that server,\n\n233\n00:12:20.480 --> 00:12:24.400\nI could allow the virtual machine\nto access that physical DVD drive.\n\n234\n00:12:24.400 --> 00:12:27.740\nSo if I popped a disc in there,\nI could then go to the virtual machine,\n\n235\n00:12:27.740 --> 00:12:28.920\nand I could see that disc.\n\n236\n00:12:28.920 --> 00:12:31.370\nAnd I could run it,\nexecute it, what have you.\n\n237\n00:12:31.370 --> 00:12:32.390\nThat support is gone.\n\n238\n00:12:32.390 --> 00:12:35.720\nGeneration 2 only supports mounting ISOs.\n\n239\n00:12:35.720 --> 00:12:38.780\nYou can't use the physical DVD or\nCD drives any more.\n\n240\n00:12:38.780 --> 00:12:40.310\nAlso doesn't support RemoteFX,\n\n241\n00:12:40.310 --> 00:12:44.600\nwhich is something that we will\ntalk about here in just a minute.\n\n242\n00:12:44.600 --> 00:12:48.750\nWe haven't gone over that yet, but\nRemoteFX is not available on Generation 2\n\n243\n00:12:48.750 --> 00:12:53.010\nmachines, as well as the VHD format.\n\n244\n00:12:53.010 --> 00:12:55.580\nWe've talked I think already, and\nI think we're gonna talk again,\n\n245\n00:12:55.580 --> 00:12:58.140\nabout VHD versus VHDX.\n\n246\n00:12:59.290 --> 00:13:02.520\nThe VHD format is not supported in Gen 2.\n\n247\n00:13:02.520 --> 00:13:06.370\nOnly the VHDX is and\nthere's some advantages to VHDXs anyway.\n\n248\n00:13:06.370 --> 00:13:08.320\nWe really should stick with those.\n\n249\n00:13:08.320 --> 00:13:09.200\nSo a couple of things,\n\n250\n00:13:09.200 --> 00:13:11.020\ncouple of limitations there,\nthat we have to deal with.\n\n251\n00:13:11.020 --> 00:13:12.669\nSo which one to use?\n\n252\n00:13:12.669 --> 00:13:14.120\nReally doesn't matter.\n\n253\n00:13:14.120 --> 00:13:16.590\nIt depends on whether you need to take\nadvantage of some of those features.\n\n254\n00:13:16.590 --> 00:13:17.290\nIf you need UEFI,\n\n255\n00:13:17.290 --> 00:13:20.280\nif you need that secure boot,\nyou're gonna go with the Generation 2.\n\n256\n00:13:20.280 --> 00:13:21.880\nIf you need to be able to PXE boot.\n\n257\n00:13:21.880 --> 00:13:25.680\nThere's really, I can't think of a good\nreason to go with a Generation 1 other\n\n258\n00:13:25.680 --> 00:13:27.450\nthan access to a physical DVD.\n\n259\n00:13:27.450 --> 00:13:30.650\nIf that's something that you really need,\nthat's what you're gonna scale with.\n\n260\n00:13:30.650 --> 00:13:34.640\n>> Yeah, I've always been told that\nthe best way to try to figure out\n\n261\n00:13:34.640 --> 00:13:35.930\nwhat you're gonna go with.\n\n262\n00:13:35.930 --> 00:13:40.580\nIf you need to support anything\nother than 2012, and maybe, yeah,\n\n263\n00:13:40.580 --> 00:13:45.650\nso 2008 and back, you're probably gonna\nwanna go with that Gen 1, but if you're\n\n264\n00:13:45.650 --> 00:13:49.900\ngonna be in a completely 2012 environment,\ngo with that Gen 2 every single time.\n\n265\n00:13:49.900 --> 00:13:53.260\nNow, you can kind of give and\ntake if it comes to a couple other things,\n\n266\n00:13:53.260 --> 00:13:56.410\nbut those are good rules of\nthumb in which to guide you by.\n\n267\n00:13:56.410 --> 00:13:59.680\nIf I'm gonna need any kind\nof that legacy support for\n\n268\n00:13:59.680 --> 00:14:02.030\nolder environments,\nprobably gonna go with that Gen 1.\n\n269\n00:14:02.030 --> 00:14:05.690\nBut if I'm all 2012 all day long,\nI'd go ahead,\n\n270\n00:14:05.690 --> 00:14:07.608\nI should be safe if I stick with Gen 2.\n\n271\n00:14:07.608 --> 00:14:09.197\n>> Mm-hm, exactly.\n\n272\n00:14:09.197 --> 00:14:09.926\nAll right.\n\n273\n00:14:09.926 --> 00:14:12.340\nOh, and one other thing I wanted to\ntell you guys about that Gen 1, Gen 2,\n\n274\n00:14:12.340 --> 00:14:14.090\nyou can't change it after the fact, right?\n\n275\n00:14:14.090 --> 00:14:17.020\nOnce you've picked it,\nif you create that virtual machine and\n\n276\n00:14:17.020 --> 00:14:19.150\nyou chose Gen 1, that's it.\n\n277\n00:14:19.150 --> 00:14:22.870\nYou can't change it to a Gen 2, and\nyou can't go the other way either.\n\n278\n00:14:22.870 --> 00:14:25.460\nSo it's one of those things you gotta\nthink about, decide when you're\n\n279\n00:14:25.460 --> 00:14:28.021\ncreating a virtual machine,\nbecause you are stuck with your choice.\n\n280\n00:14:28.021 --> 00:14:29.785\n>> Every time you say Gen 2,\nI think of Linux.\n\n281\n00:14:29.785 --> 00:14:31.122\n>> [LAUGH]\n>> Gen 2 Linux.\n\n282\n00:14:31.122 --> 00:14:31.634\n>> Oh, right.\n\n283\n00:14:31.634 --> 00:14:32.331\nYeah, yeah, right.\n\n284\n00:14:32.331 --> 00:14:34.582\n>> [LAUGH]\n>> All right,\n\n285\n00:14:34.582 --> 00:14:37.320\nlast thing I wanna talk to you\nguys about is this RemoteFX.\n\n286\n00:14:37.320 --> 00:14:38.590\nI mentioned a minute ago.\n\n287\n00:14:38.590 --> 00:14:43.120\nIt's not available in your Gen 2, which is\nkind of odd to me because it's a feature\n\n288\n00:14:43.120 --> 00:14:45.300\nthat hasn't been around all that long.\n\n289\n00:14:45.300 --> 00:14:48.220\nIn the Generation 2 machines,\nit's going away.\n\n290\n00:14:48.220 --> 00:14:51.507\nBut RemoteFX is a way to provide,\nas Microsoft will say,\n\n291\n00:14:51.507 --> 00:14:55.286\na rich visual experience within\nyour virtual machines, right?\n\n292\n00:14:55.286 --> 00:14:58.946\nWhen we talk about virtualization,\nwe're virtualizing everything,\n\n293\n00:14:58.946 --> 00:15:01.466\nincluding the graphics adapter and\nall that, and\n\n294\n00:15:01.466 --> 00:15:05.495\nwe lost a lot of the ability to do this,\nlike 3D effects, and things like that.\n\n295\n00:15:05.495 --> 00:15:08.440\nSome transparencies, some of those.\n\n296\n00:15:08.440 --> 00:15:11.960\nAnd so we,\nRemote FX gave us the ability to do that.\n\n297\n00:15:11.960 --> 00:15:16.455\nRemote FX gives me the ability to do\nwhat we call host-side rendering.\n\n298\n00:15:16.455 --> 00:15:18.275\nIn other words, the host machine.\n\n299\n00:15:18.275 --> 00:15:23.115\nIt was really useful when you were\ndoing remote desktop services or\n\n300\n00:15:23.115 --> 00:15:24.925\na remote desktop infrastructure, right?\n\n301\n00:15:24.925 --> 00:15:28.085\nWhere, or VDI I should say,\nvirtual desktop infrastructure.\n\n302\n00:15:28.085 --> 00:15:31.205\nIf you're using terminal services or\nremote desktop services and\n\n303\n00:15:31.205 --> 00:15:36.070\nyour users come in and they sit at a thin\nclient or even in a full client but\n\n304\n00:15:36.070 --> 00:15:38.960\nthey're connecting to a virtual\ndesktop being hosted on\n\n305\n00:15:38.960 --> 00:15:42.100\nyour remote desktop server,\nthey wouldn't get a lot of those effects.\n\n306\n00:15:42.100 --> 00:15:45.550\nWindows, at this time it was like\nWindows 7, all the cool graphics,\n\n307\n00:15:45.550 --> 00:15:48.340\nthe transparencies, things like that,\nthey didn't come across.\n\n308\n00:15:48.340 --> 00:15:49.120\nThey weren't supported.\n\n309\n00:15:49.120 --> 00:15:53.933\nRemote FX gave us that ability, cuz what\nwould happen is that you do host rendering\n\n310\n00:15:53.933 --> 00:15:57.024\nand the host would be\ngenerating all those effects.\n\n311\n00:15:57.024 --> 00:16:01.806\nAnd then send a highly compressed bit\nmap back out to that machine to give\n\n312\n00:16:01.806 --> 00:16:03.430\nyou those effects.\n\n313\n00:16:03.430 --> 00:16:04.870\nSo host side rendering.\n\n314\n00:16:04.870 --> 00:16:06.890\nGPU virtualization.\n\n315\n00:16:06.890 --> 00:16:11.870\nSo if I can virtualize the GPU\nthe graphics processor unit.\n\n316\n00:16:11.870 --> 00:16:15.800\nNow the host machine needs\nto have a GPU in it.\n\n317\n00:16:15.800 --> 00:16:19.290\nOne that's support by RemoteFX as\na matter of fact, which, honestly,\n\n318\n00:16:19.290 --> 00:16:20.570\nmost of my servers don't have.\n\n319\n00:16:20.570 --> 00:16:25.610\nI mean, I don't go out and buy the latest\nATI or NVIDIA and throw it on my server.\n\n320\n00:16:25.610 --> 00:16:26.420\nHow about you?\n\n321\n00:16:26.420 --> 00:16:28.460\n>> No, not for the last time I checked.\n\n322\n00:16:28.460 --> 00:16:33.380\nUsually you're not really caring too much\nabout a pretty graphical environment.\n\n323\n00:16:33.380 --> 00:16:36.470\nWhen you're administrating servers,\nit's just not something you think about.\n\n324\n00:16:36.470 --> 00:16:39.060\nIt's the same thing we've talked\nabout with the whole RAM CD.\n\n325\n00:16:39.060 --> 00:16:41.050\nIt's not something that comes across.\n\n326\n00:16:41.050 --> 00:16:42.280\nBut Mike hit the nail on the head.\n\n327\n00:16:42.280 --> 00:16:45.490\nWhen it comes to our users,\ntheir end-user environment,\n\n328\n00:16:45.490 --> 00:16:49.280\nhaving that more of a regular\ndesktop look and feel,\n\n329\n00:16:49.280 --> 00:16:52.120\nwell it makes them feel like their\nnot being cheated out of something.\n\n330\n00:16:52.120 --> 00:16:55.970\nTrust me, people will complain\nabout some of the craziest things.\n\n331\n00:16:55.970 --> 00:16:59.117\nI guarantee this was one of them,\nenough that administrators were like,\n\n332\n00:16:59.117 --> 00:16:59.991\nMicrosoft save us.\n\n333\n00:16:59.991 --> 00:17:00.930\n[LAUGH]\n>> Help us, help us.\n\n334\n00:17:00.930 --> 00:17:01.940\nYeah.\nCuz they go home and\n\n335\n00:17:01.940 --> 00:17:04.190\nthey got their laptop and\nWindows 7 is beautiful.\n\n336\n00:17:04.190 --> 00:17:06.650\nOr in this case now,\nWindows 8 is beautiful.\n\n337\n00:17:06.650 --> 00:17:09.060\nThey come into work and\nthey're like, this looks like crap.\n\n338\n00:17:09.060 --> 00:17:10.390\nWhy are we stuck with this?\n\n339\n00:17:10.390 --> 00:17:11.710\nRight?\nI want a full machine.\n\n340\n00:17:11.710 --> 00:17:14.350\nI don't wanna use virtual\ndesktops anymore.\n\n341\n00:17:14.350 --> 00:17:17.220\nNow, we can give them that full\nexperience and half the time,\n\n342\n00:17:17.220 --> 00:17:19.875\nI won't even know that\nthey're on a thin client.\n\n343\n00:17:19.875 --> 00:17:21.260\n[COUGH] Excuse me.\n\n344\n00:17:21.260 --> 00:17:23.790\nSo, other things that RemoteFX\nbrings along with me.\n\n345\n00:17:23.790 --> 00:17:26.000\nIntelligent screen capture.\n\n346\n00:17:26.000 --> 00:17:26.980\nPretty self-explanatory.\n\n347\n00:17:26.980 --> 00:17:27.760\nIt's a way.\n\n348\n00:17:27.760 --> 00:17:29.760\nBasically.\nActually, it's not self-explanatory.\n\n349\n00:17:29.760 --> 00:17:30.990\nLet me explain it to you.\n\n350\n00:17:32.090 --> 00:17:36.220\nWhen you're doing the,\nsending that video across the network for\n\n351\n00:17:36.220 --> 00:17:40.310\nthese virtual desktops, it's able to\npick out just the changed pieces.\n\n352\n00:17:40.310 --> 00:17:44.520\nSo it's doesn't have to send the entire\ndesktop, which can really reduce\n\n353\n00:17:44.520 --> 00:17:49.070\nthe amount of bandwidth that's being\nutilized to send those desktop images out.\n\n354\n00:17:49.070 --> 00:17:50.990\nIf you've got hundreds of\npeople on thin clients,\n\n355\n00:17:50.990 --> 00:17:53.140\nyou know, that's something\nthat we've got to worry about,\n\n356\n00:17:53.140 --> 00:17:57.610\nand so intelligent screen capture just\nallows it to efficiently do that.\n\n357\n00:17:57.610 --> 00:18:01.330\nCapture the changed parts of the screen,\nand send those, and\n\n358\n00:18:01.330 --> 00:18:02.850\nnot have to send the entire thing.\n\n359\n00:18:02.850 --> 00:18:07.220\nThere's also the remote effects encoder\nand decoder, which is basically just used\n\n360\n00:18:07.220 --> 00:18:10.420\nto translate that information as\nit travels across the network.\n\n361\n00:18:10.420 --> 00:18:14.350\nAs far as requiring oh and\nthen remote effects USB re direction.\n\n362\n00:18:15.490 --> 00:18:18.420\nReally we have USB redirection\nin other places now so\n\n363\n00:18:18.420 --> 00:18:19.920\nit's not so important that it's here.\n\n364\n00:18:19.920 --> 00:18:23.430\nBut it is just another thing\nthat came along with RemoteFX.\n\n365\n00:18:23.430 --> 00:18:28.970\nAs far as requirements go for the server\nit needed to be slat enabled that\n\n366\n00:18:28.970 --> 00:18:34.590\nsecond level address translation which\nis what gosh I can't remember NPT and\n\n367\n00:18:34.590 --> 00:18:40.210\nyour AMV chips and EPT and\nyour Intel chips if I remember correctly.\n\n368\n00:18:40.210 --> 00:18:43.070\nBut second level address translation\n\n369\n00:18:43.070 --> 00:18:46.600\nis required to support\nthis as well as the GPU.\n\n370\n00:18:46.600 --> 00:18:47.640\nWhich kind of makes sense right?\n\n371\n00:18:47.640 --> 00:18:50.300\nWe're gonna be virtualizing\nGPU capability so\n\n372\n00:18:50.300 --> 00:18:52.380\nif my server needs\na supported GPU in there.\n\n373\n00:18:52.380 --> 00:18:59.940\nNow if we take a look on my machine,\nI've actually turned it on, the RemoteFX.\n\n374\n00:18:59.940 --> 00:19:03.000\nIn order to do the RemoteFX\nlet me show you that as well.\n\n375\n00:19:03.000 --> 00:19:07.390\nLet me flip back over to server manager,\ncuz it's not enabled by default and\n\n376\n00:19:07.390 --> 00:19:10.909\nyou have to go in and\ninstall a particular role service.\n\n377\n00:19:12.850 --> 00:19:15.200\nWell let me just cruise\nthrough this menu here.\n\n378\n00:19:16.950 --> 00:19:20.242\nUnderneath Remote Desktop I\nlied to you it's a feature.\n\n379\n00:19:22.397 --> 00:19:30.960\nUnderneath my remote administration\ntools well I am lying to you again.\n\n380\n00:19:31.970 --> 00:19:34.600\nLet me go back through that there,\nremote desktop services.\n\n381\n00:19:34.600 --> 00:19:36.830\nOh there, I just missed it, sorry.\n\n382\n00:19:36.830 --> 00:19:39.480\nIt is a role service.\n\n383\n00:19:39.480 --> 00:19:41.860\nIt's part of the remote\ndesktop services and\n\n384\n00:19:41.860 --> 00:19:44.340\nit's called\nRemote Desktop Virtualization Host.\n\n385\n00:19:44.340 --> 00:19:47.250\nThat's what I need to\nsupport the RemoteFX.\n\n386\n00:19:47.250 --> 00:19:51.650\nNow when I installed Hyper-V I wasn't\nsetting it up to support virtual desktop\n\n387\n00:19:51.650 --> 00:19:55.740\ninfrastructure VDI, so\nthat wasn't installed that role service so\n\n388\n00:19:55.740 --> 00:19:58.850\nwhen I went to enable RemoteFX,\nit was unavailable.\n\n389\n00:19:58.850 --> 00:20:02.660\nSo, if you were setting up a server for\nremote desktop services most likely,\n\n390\n00:20:02.660 --> 00:20:03.830\nyou'd already have this.\n\n391\n00:20:03.830 --> 00:20:06.780\nBut, if you're just doing remote\nremote desk or, I'm sorry, Hyper-V and\n\n392\n00:20:06.780 --> 00:20:10.360\nyou wanna try to use RemoteFX,\nyou're gonna have to come in here and\n\n393\n00:20:10.360 --> 00:20:14.820\ninstall that one role service\nRemote Desktop Virtualization Host.\n\n394\n00:20:14.820 --> 00:20:16.710\nOnce you've installed that now,\n\n395\n00:20:16.710 --> 00:20:20.702\nif I go back over into\nthe settings of my Hyper-V server.\n\n396\n00:20:20.702 --> 00:20:24.190\nAll right and\nlet me just bring that guy back up.\n\n397\n00:20:24.190 --> 00:20:24.970\nNow, I can see.\n\n398\n00:20:24.970 --> 00:20:25.505\nI've got my.\n\n399\n00:20:25.505 --> 00:20:27.730\nAh-duh-dunt-dunt-dun.\n\n400\n00:20:27.730 --> 00:20:30.230\nThere it is.\n\n401\n00:20:30.230 --> 00:20:30.780\nPhysical GPUs.\n\n402\n00:20:30.780 --> 00:20:34.370\nThis is where I can enable the RemoteFX.\n\n403\n00:20:34.370 --> 00:20:37.040\nBefore I installed that role,\nthis was all grayed out.\n\n404\n00:20:37.040 --> 00:20:39.010\nIt wasn't available.\n\n405\n00:20:39.010 --> 00:20:42.620\nNow that I've installed that role service,\nthis is available but\n\n406\n00:20:42.620 --> 00:20:48.440\nI don't have any GPUs that\nare supported in this virtual host so\n\n407\n00:20:48.440 --> 00:20:51.210\nI still can't pick anything, but\nI wanted to show you where that was.\n\n408\n00:20:51.210 --> 00:20:52.210\n>> Yeah, very good stuff.\n\n409\n00:20:52.210 --> 00:20:56.240\nSo if you do wanna have a more\ndesktop-like environment, a more live\n\n410\n00:20:56.240 --> 00:21:01.280\nenvironment, as you're getting into these\nvirtual machines and remote desktop and\n\n411\n00:21:01.280 --> 00:21:05.920\nin to virtual machines and all the other\nthings that we can do with these features.\n\n412\n00:21:05.920 --> 00:21:08.790\nWell, you might wanna go in here and\nnow you know how to turn those on,\n\n413\n00:21:08.790 --> 00:21:13.680\nget your audio up, get your graphics up\na little bit, and work with it that way.\n\n414\n00:21:13.680 --> 00:21:18.290\nGive you that more live at five feel,\nnot so much of a sterile work environment.\n\n415\n00:21:18.290 --> 00:21:19.900\nSo Mike, have we missed anything?\n\n416\n00:21:19.900 --> 00:21:21.680\nWe have anything else to show?\n\n417\n00:21:21.680 --> 00:21:22.430\n>> I don't think so.\n\n418\n00:21:22.430 --> 00:21:25.030\nI think we've covered most of the\nsettings, at least most of the settings\n\n419\n00:21:25.030 --> 00:21:27.270\nthat you're gonna need to be\nfamiliar with for the exam.\n\n420\n00:21:27.270 --> 00:21:30.210\nThere are other, definitely,\nother settings you can go through, but\n\n421\n00:21:30.210 --> 00:21:31.820\nfor the exam, focus on these.\n\n422\n00:21:31.820 --> 00:21:32.500\n>> Awesome.\n\n423\n00:21:32.500 --> 00:21:34.650\nWell, I guess that brings us to\nthe end of our show today and\n\n424\n00:21:34.650 --> 00:21:36.150\nI hope you guys have enjoyed it.\n\n425\n00:21:36.150 --> 00:21:39.320\nSigning off for ITProTV,\nI've been your host Daniel Lowery.\n\n426\n00:21:39.320 --> 00:21:40.130\n>> And I'm Mike Rodrick.\n\n427\n00:21:40.130 --> 00:21:42.170\n>> And we'll see you next time.\n\n428\n00:21:42.170 --> 00:21:47.170\n[SOUND]\n\n",
          "vimeoId": "137477817"
        },
        {
          "description": "**Errata - at 01:23 Mike mentions the max size of a .vhd is 2GB. The actual size limit for a .vhd is 2TB**\n\n\n\nIn this episode Daniel and Mike take a look at creating and configuring virtual machine storage. Mike begins with the creation of VHDs and working with differencing disks and parent disks.",
          "length": "1871",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-8-1-virtual_hard_drives-082615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-8-1-virtual_hard_drives-082615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-8-1-virtual_hard_drives-082615-1-sm.jpg",
          "title": "Virtual Hard Drives",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.210\n[MUSIC]\n\n2\n00:00:10.210 --> 00:00:14.870\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.870 --> 00:00:16.070\nI'm your host Daniel Lowrie.\n\n4\n00:00:16.070 --> 00:00:18.120\nHere with me today, Mr. Mike Rodrick.\n\n5\n00:00:18.120 --> 00:00:18.950\nHow's it going, Mike?\n\n6\n00:00:18.950 --> 00:00:20.310\n>> Oh, it's going fantastic, Daniel.\n\n7\n00:00:20.310 --> 00:00:21.560\nI'm excited to be here.\n\n8\n00:00:21.560 --> 00:00:23.724\nWe're continuing on\nwith our 7410 episodes.\n\n9\n00:00:23.724 --> 00:00:27.210\nAnd In this one we're gonna be\ntalking about virtual machine storage,\n\n10\n00:00:27.210 --> 00:00:29.140\nor virtual hard drive.\n\n11\n00:00:29.140 --> 00:00:31.020\nExciting stuff there.\n\n12\n00:00:31.020 --> 00:00:33.880\nNow, there really is a lot of things that\nwe have to consider when we're setting up\n\n13\n00:00:33.880 --> 00:00:35.010\nthese virtual machines.\n\n14\n00:00:35.010 --> 00:00:37.130\nWe have to understand\nwhat choices we have, so\n\n15\n00:00:37.130 --> 00:00:41.760\nthat when we implement our virtualization\nsolution we're picking the right ones.\n\n16\n00:00:41.760 --> 00:00:44.680\nSo let's start off talking about\nvirtual hard drives themselves.\n\n17\n00:00:44.680 --> 00:00:47.110\nIn the past, we really didn't\nhave a choice to make here.\n\n18\n00:00:47.110 --> 00:00:52.610\nWe had a, in a Microsoft land in Hyper-V,\nwe had what was called a .VHD.\n\n19\n00:00:52.610 --> 00:00:56.030\nThat was the extension on the file and\nthat was a virtual hard drive.\n\n20\n00:00:56.030 --> 00:00:59.770\nIt was just a file that resided on\n\n21\n00:00:59.770 --> 00:01:02.310\na partition that was\ntreated like a hard drive.\n\n22\n00:01:02.310 --> 00:01:06.120\nWe can put a file system on there,\nwe can install operating systems, and\n\n23\n00:01:06.120 --> 00:01:08.329\nthe whole nine, all right.\n\n24\n00:01:08.329 --> 00:01:10.040\nThose were .VHDs.\n\n25\n00:01:10.040 --> 00:01:10.690\nNow, we have two.\n\n26\n00:01:10.690 --> 00:01:14.280\nWe have .vhds and we have a .vhdx.\n\n27\n00:01:14.280 --> 00:01:19.788\nWe put a little x on the end and\nthose .vhdxs have some advantages.\n\n28\n00:01:19.788 --> 00:01:24.230\nWith a .vhd,\nwe had maxed out a 2GB in size.\n\n29\n00:01:24.230 --> 00:01:28.680\nSo the biggest drive I could\ncreate in that old format was 2GB,\n\n30\n00:01:28.680 --> 00:01:31.420\nand that's pretty good size,\nDaniel, yeah, it's not bad.\n\n31\n00:01:31.420 --> 00:01:35.622\nBut people wanted more, so\nMicrosoft gave us more,\n\n32\n00:01:35.622 --> 00:01:40.590\n.vhdx's are going to be max\nsize of 6 54 terabytes.\n\n33\n00:01:40.590 --> 00:01:42.750\nIt jumped up just a wee bit there.\n\n34\n00:01:43.850 --> 00:01:49.100\nThere are some other advantages\nto the .vhdx other than the size.\n\n35\n00:01:49.100 --> 00:01:52.130\nThe size is the biggest advantage I think.\n\n36\n00:01:52.130 --> 00:01:54.200\nBut it also handles power failures better.\n\n37\n00:01:54.200 --> 00:01:56.230\nWe're supposed to get less corruption.\n\n38\n00:01:56.230 --> 00:02:00.730\nIf a virtual machine experiences a power\nfailure, we can end up with corruption,\n\n39\n00:02:00.730 --> 00:02:05.240\nthings that were cached, waiting to write\nto that disk on those old VHD formats,\n\n40\n00:02:05.240 --> 00:02:08.050\nmuch more resilient on that VHDX format.\n\n41\n00:02:09.090 --> 00:02:15.150\n2012 and later is where we're\ngonna see those VHDX's.\n\n42\n00:02:15.150 --> 00:02:15.930\nAll right?\n\n43\n00:02:15.930 --> 00:02:16.910\nAnd let's take a look at that.\n\n44\n00:02:16.910 --> 00:02:20.120\nWhen we go to create a virtual hard drive,\nso\n\n45\n00:02:20.120 --> 00:02:22.410\nI've got Hyper-V manager pulled up here.\n\n46\n00:02:22.410 --> 00:02:25.700\nI'm gonna click on new and\nchoose hard disk.\n\n47\n00:02:25.700 --> 00:02:28.440\nThis is gonna create a new virtual drive.\n\n48\n00:02:28.440 --> 00:02:32.230\nI'll click Next on my wizard and\nthe first choice is right there.\n\n49\n00:02:32.230 --> 00:02:38.540\nEither a VHD or a VHDX, and you can see\nit tells you 2 GB in size max for VHD.\n\n50\n00:02:38.540 --> 00:02:44.050\nVHDX is 64TB in size, so\nI'm going to go ahead and choose that one.\n\n51\n00:02:44.050 --> 00:02:48.250\nFormat is not supported in operating\nsystems earlier than server 2012,\n\n52\n00:02:48.250 --> 00:02:51.950\nas far as what Hyper-V\nservers can use these on.\n\n53\n00:02:51.950 --> 00:02:52.610\nWe'll click Next.\n\n54\n00:02:54.260 --> 00:02:55.830\nAnd then I can choose whether or\n\n55\n00:02:55.830 --> 00:03:01.540\nnot I'm gonna do a fixed or\na dynamically expanding or a differencing.\n\n56\n00:03:01.540 --> 00:03:04.460\nFor now, I'm gonna come back and\ntalk about those differencing drives.\n\n57\n00:03:04.460 --> 00:03:08.340\nI want to talk about the fixed and\nthe dynamically expanding.\n\n58\n00:03:08.340 --> 00:03:13.660\nWith a fixed drive, if I make a drive and\nI haven't specified my size yet.\n\n59\n00:03:13.660 --> 00:03:19.040\nIf I make a drive that's say,\n20 GB in size and I choose to do fixed.\n\n60\n00:03:19.040 --> 00:03:24.030\nThat means it's gonna go grab 20\nGB of space and create that file.\n\n61\n00:03:24.030 --> 00:03:26.610\nSo that virtual hard drive,\neven though it's empty,\n\n62\n00:03:26.610 --> 00:03:30.610\nthere's no data in it,\nwill be 20 GB in size.\n\n63\n00:03:30.610 --> 00:03:32.520\nThere are some advantages to that,\n\n64\n00:03:32.520 --> 00:03:36.150\nthat means I don't have to worry about\nthat hard drive ever becoming fragmented.\n\n65\n00:03:36.150 --> 00:03:39.040\nCuz remember a virtual hard\ndrive is just a file, and\n\n66\n00:03:39.040 --> 00:03:43.280\njust like any other file on your\nphysical disk, it can become fragmented.\n\n67\n00:03:43.280 --> 00:03:46.766\nIt could located the more\nthe one spot on that hard drive.\n\n68\n00:03:46.766 --> 00:03:52.090\nWith a fixed size it\ngrabs 20 GB of contiguous\n\n69\n00:03:52.090 --> 00:03:56.840\ndisk space and it makes that virtual file,\nor rather that virtual hard drive.\n\n70\n00:03:56.840 --> 00:04:00.320\nPerformance wise too, that's great,\nbecause it doesn't have to grow, and\n\n71\n00:04:00.320 --> 00:04:02.790\nyou think, well wait,\nwhat is he talking about growing?\n\n72\n00:04:02.790 --> 00:04:05.670\nWell that's what dynamically\nexpanding is gonna do.\n\n73\n00:04:05.670 --> 00:04:08.820\nIf I create that same\nhard drive 20 GB in size.\n\n74\n00:04:08.820 --> 00:04:12.070\nAnd I choose to create it\ndynamically expanding.\n\n75\n00:04:12.070 --> 00:04:14.990\nWhen I create the drive it's\ngoing to be about 20 MB in size.\n\n76\n00:04:14.990 --> 00:04:18.900\nEven though I said 20\nGB virtual hard drive\n\n77\n00:04:18.900 --> 00:04:20.590\nit's going to start out at about 20 MB.\n\n78\n00:04:20.590 --> 00:04:24.600\nAnd then as I copy data into\nthat virtual hard drive,\n\n79\n00:04:24.600 --> 00:04:28.870\nit'll expand hence the name\ndynamically expanding.\n\n80\n00:04:28.870 --> 00:04:31.110\nSo that is great if space is a premium.\n\n81\n00:04:31.110 --> 00:04:36.010\nI don't have to go ahead and claim 20\nGB if I'm not using it, it's 20 MB and\n\n82\n00:04:36.010 --> 00:04:37.020\nas I put things in there.\n\n83\n00:04:37.020 --> 00:04:40.350\nIf I install an operating system, or\nif I'm using it as a data drive and\n\n84\n00:04:40.350 --> 00:04:43.400\nI start copying files in it,\nvirtual hard drive, it'll start growing.\n\n85\n00:04:43.400 --> 00:04:47.240\nBut I'm really only using physical\ndisk space that I'm actually using.\n\n86\n00:04:47.240 --> 00:04:48.910\nThere's no wasted space.\n\n87\n00:04:48.910 --> 00:04:50.460\nBut it has some issues, right?\n\n88\n00:04:50.460 --> 00:04:53.600\nBecause as it grows,\nwhen it needs to grow.\n\n89\n00:04:53.600 --> 00:04:55.470\nOne it could grow at an inopportune time.\n\n90\n00:04:55.470 --> 00:04:57.940\nThat server might be\nrunning out of space and\n\n91\n00:04:57.940 --> 00:05:02.870\nthe dynamically expanding drive is at its\nmax, and so it's gonna grow it some more.\n\n92\n00:05:02.870 --> 00:05:05.910\nIt has to stop everything that it's\ndoing and grow that hard drive.\n\n93\n00:05:05.910 --> 00:05:08.770\nThat's going to be a performance issue\nthat we're gonna have to deal with.\n\n94\n00:05:08.770 --> 00:05:12.970\nTwo, when it does grow, what if there's\nno more contiguous space on the drive?\n\n95\n00:05:12.970 --> 00:05:16.980\nIt has to jump to somewhere else on that\nplatter to write the rest of that drive.\n\n96\n00:05:16.980 --> 00:05:20.570\nNow my VHD itself is fragmented.\n\n97\n00:05:20.570 --> 00:05:23.220\nAnd that's gonna cuz\na performance issues as well.\n\n98\n00:05:23.220 --> 00:05:25.600\nSo we'll use differencing,\nI mean not differencing, but\n\n99\n00:05:25.600 --> 00:05:30.560\ndynamically expanding drive primarily in\ntest environments and things like that.\n\n100\n00:05:30.560 --> 00:05:34.420\nWhere performance isn't a premium and\ndisk space might be.\n\n101\n00:05:34.420 --> 00:05:38.370\nAnd on your setup by observers and\ngiven me 60 GB drives, you know,\n\n102\n00:05:38.370 --> 00:05:42.065\nI don't want to set up, and I don't have\nthat much disk space available right now.\n\n103\n00:05:42.065 --> 00:05:45.495\nI can use those dynamically\nexpanding drives and do just fine.\n\n104\n00:05:45.495 --> 00:05:48.125\nIn a test environment,\nI'm not worried about the performance.\n\n105\n00:05:48.125 --> 00:05:51.075\n>> Yeah, I'm the kind of person,\nI tend to stick to fixed drives for\n\n106\n00:05:51.075 --> 00:05:54.692\nmyself, just because it gives\nme all those performance boosts.\n\n107\n00:05:54.692 --> 00:05:59.882\nI normally am wanting to have as\nmuch performance as humanly possible\n\n108\n00:05:59.882 --> 00:06:02.322\nwhen it comes to my virtual machines,\nbecause well,\n\n109\n00:06:02.322 --> 00:06:06.562\nthey're already kind of optimized anyway,\nso I wanna keep that optimization going.\n\n110\n00:06:06.562 --> 00:06:08.582\nI don't wanna lose that advantage.\n\n111\n00:06:08.582 --> 00:06:10.732\nThere is some good, legitimate reasons for\n\n112\n00:06:10.732 --> 00:06:14.562\nusing those dynamic drives,\nespecially if you're low on space,\n\n113\n00:06:14.562 --> 00:06:18.950\nor you know it might need that amount\nof space but not right at this moment.\n\n114\n00:06:18.950 --> 00:06:20.480\nYou're not allocating all that space and\n\n115\n00:06:20.480 --> 00:06:23.350\njust sitting around doing\nnothing until you need it.\n\n116\n00:06:23.350 --> 00:06:26.850\nSo there is that benefit to that,\nbut for me,\n\n117\n00:06:26.850 --> 00:06:30.700\nespecially in a live environment,\nI stick with a fixed disk.\n\n118\n00:06:30.700 --> 00:06:35.330\n>> Yeah, fixed disk, if I can say that,\nis the only way to go in a production\n\n119\n00:06:35.330 --> 00:06:37.050\nenvironment because we\nneed that performance.\n\n120\n00:06:37.050 --> 00:06:38.230\nI'll go ahead and create one.\n\n121\n00:06:38.230 --> 00:06:42.280\nI'll do a fixed size here, and\njust to keep this quick and simple,\n\n122\n00:06:42.280 --> 00:06:48.250\nI'm going to call this one drive one,\nI'll click Next,\n\n123\n00:06:48.250 --> 00:06:51.940\nand I'm gonna make this about 5GB.\n\n124\n00:06:51.940 --> 00:06:55.930\nAll right, I'll click Next and Finish.\n\n125\n00:06:55.930 --> 00:06:59.170\nAnd then we're gonna make another\none as soon as it finishes.\n\n126\n00:06:59.170 --> 00:07:00.330\nNotice how long this is taking,\n\n127\n00:07:00.330 --> 00:07:04.400\neven though it's only a 5 GB\nvirtual hard drive, all right?\n\n128\n00:07:04.400 --> 00:07:06.090\nCuz it's claiming that space right now,\n\n129\n00:07:06.090 --> 00:07:10.180\nit's setting up this file,\nit's claiming 5GB of disk space.\n\n130\n00:07:10.180 --> 00:07:14.600\nIt's going really slow,\nit usually doesn't take quite this long.\n\n131\n00:07:14.600 --> 00:07:16.517\nI'm glad I didn't do\na 20 [CROSSTALK] drive.\n\n132\n00:07:16.517 --> 00:07:19.110\nWe would have been sitting here for\nquite some time.\n\n133\n00:07:19.110 --> 00:07:20.290\nSo we'll let this finish up.\n\n134\n00:07:20.290 --> 00:07:22.340\n>> I was gonna say, Mike, in Hyper-V.\n\n135\n00:07:22.340 --> 00:07:25.610\nI've worked with different\nvirtualizations in the past and\n\n136\n00:07:25.610 --> 00:07:28.150\nI'm not as familiar with Hyper-V\nas I am with the others.\n\n137\n00:07:28.150 --> 00:07:31.000\nAre you able,\nonce you've created that fixed disk,\n\n138\n00:07:31.000 --> 00:07:34.880\nare you able to later expand it out or\nis it always that size?\n\n139\n00:07:34.880 --> 00:07:36.000\n>> No, we can expand it.\n\n140\n00:07:36.000 --> 00:07:38.140\nWe can go back in and\nwe can modify that size.\n\n141\n00:07:38.140 --> 00:07:38.800\nSo very, very cool.\n\n142\n00:07:40.140 --> 00:07:40.930\nAll right, there it goes.\n\n143\n00:07:40.930 --> 00:07:43.800\nI'll click on new, hard disk.\n\n144\n00:07:43.800 --> 00:07:47.390\nI'm gonna do that one more time, and\nthis one I'm gonna do same VHDX.\n\n145\n00:07:47.390 --> 00:07:50.410\nThis time I'm gonna do\ndynamically expanding.\n\n146\n00:07:50.410 --> 00:07:51.384\nI'll click Next.\n\n147\n00:07:51.384 --> 00:07:54.519\nI'll call this drive2.\n\n148\n00:07:54.519 --> 00:07:55.934\nI'll click Next.\n\n149\n00:07:55.934 --> 00:07:59.534\nSame size, 5 GB.\n\n150\n00:07:59.534 --> 00:08:04.130\nAnd then finish, and\nnotice it's done almost immediately.\n\n151\n00:08:04.130 --> 00:08:04.826\nRight, let's go see why.\n\n152\n00:08:04.826 --> 00:08:09.633\nIf we take a look in Window File Explorer,\nand I created that inside VMs.\n\n153\n00:08:09.633 --> 00:08:10.770\nThere's drive1.\n\n154\n00:08:10.770 --> 00:08:12.990\nThat was my fixed 5 gigabyte.\n\n155\n00:08:12.990 --> 00:08:16.644\nNotice my file size is 5 gigabytes,\neven though there is no data in there.\n\n156\n00:08:16.644 --> 00:08:18.571\nI haven't even formatted it yet.\n\n157\n00:08:18.571 --> 00:08:21.950\nDrive 2 is only 4MB.\n\n158\n00:08:21.950 --> 00:08:26.825\nAll right, see I made the same size, but\net it's only taking up 4MB of space, so\n\n159\n00:08:26.825 --> 00:08:28.279\nbig difference there.\n\n160\n00:08:28.279 --> 00:08:32.436\nAnd that's again, that's the advantage\nif you're doing a sandbox or\n\n161\n00:08:32.436 --> 00:08:36.800\njust doing a quick test, you don't want\nto wait for that drive to be built or\n\n162\n00:08:36.800 --> 00:08:39.179\nwhat have you, those are good options.\n\n163\n00:08:40.800 --> 00:08:42.120\nAll right, so those are the two drives.\n\n164\n00:08:42.120 --> 00:08:44.880\nThe next thing I want to show you guys\nis something called differencing.\n\n165\n00:08:44.880 --> 00:08:48.429\nThere was this third option there,\nand that was a differencing drive.\n\n166\n00:08:48.429 --> 00:08:52.270\nAnd before I go in and make one,\nI want to explain what that is.\n\n167\n00:08:52.270 --> 00:08:57.960\nA differencing drive stores the changes\nthat are occurring, instead of writing\n\n168\n00:08:57.960 --> 00:09:02.620\nthem to, what's a good way to say this,\nto the what we call the parent hard drive.\n\n169\n00:09:02.620 --> 00:09:05.902\nFor example,\nI have a drive on this machine.\n\n170\n00:09:05.902 --> 00:09:12.650\nIf we navigate in here,\nC: > VMs > Parent, I've got a drive here,\n\n171\n00:09:12.650 --> 00:09:16.500\nthis is Windows Server 2012 R2 Eval,\nand it's been SYSPREPPED.\n\n172\n00:09:16.500 --> 00:09:19.580\nSo I created a Virtual Machine.\n\n173\n00:09:19.580 --> 00:09:21.930\nI installed this evaluation copy.\n\n174\n00:09:21.930 --> 00:09:25.330\nI ran SYSPREP on it, and\nI shut it down, all right?\n\n175\n00:09:25.330 --> 00:09:27.070\nSo now I've got this hard drive.\n\n176\n00:09:27.070 --> 00:09:29.889\nI'm going to use that as\nmy parent hard drive.\n\n177\n00:09:29.889 --> 00:09:31.611\nAnd then what I'm going to do is,\n\n178\n00:09:31.611 --> 00:09:35.140\nI'm going to make a differencing\ndrive based on that parent.\n\n179\n00:09:35.140 --> 00:09:37.930\nAnd I'm going to use that for\nmy actual virtual machine.\n\n180\n00:09:37.930 --> 00:09:43.120\nIf we look at svr01, svr01,\nlet me go back into here, all right,\n\n181\n00:09:46.110 --> 00:09:50.260\nhas a hard drive that\nis only 2 gigs in size.\n\n182\n00:09:50.260 --> 00:09:54.600\nNow there's no way that I've installed\nServer 2012 R2 in any roles, and\n\n183\n00:09:54.600 --> 00:09:57.295\nthat drive is only 2 gigabytes in size,\nright.\n\n184\n00:09:57.295 --> 00:09:59.640\nThat's because this is\na differencing drive.\n\n185\n00:09:59.640 --> 00:10:05.225\nWhat I did was I based this\nVHD off of that Parent VHD.\n\n186\n00:10:05.225 --> 00:10:07.961\nSo the only thing that's getting\nwritten to the differencing drive\n\n187\n00:10:07.961 --> 00:10:10.220\nare the changes that I'm making,\nthe modifications.\n\n188\n00:10:10.220 --> 00:10:12.800\nInstead of modifying that parent drive,\n\n189\n00:10:12.800 --> 00:10:16.650\nall changes are being stored\nin this differencing drive.\n\n190\n00:10:16.650 --> 00:10:19.520\nSo to run svr01, I need both hard drives.\n\n191\n00:10:19.520 --> 00:10:22.230\nI need that parent hard drive, right, and\n\n192\n00:10:22.230 --> 00:10:27.250\nI need that differencing drive to work\ntogether, to give me my virtual server.\n\n193\n00:10:27.250 --> 00:10:30.480\n>> Yeah, that parenting idea\nthat Mike is bringing out here,\n\n194\n00:10:30.480 --> 00:10:31.940\nthat you have a parent drive.\n\n195\n00:10:31.940 --> 00:10:35.424\nAnd if you think of\nthe differencing disks as a child,\n\n196\n00:10:35.424 --> 00:10:38.224\nyou can think of it in those terms, right?\n\n197\n00:10:38.224 --> 00:10:40.230\nA parent has the genetic code.\n\n198\n00:10:40.230 --> 00:10:42.370\nIts children get that genetic code,\n\n199\n00:10:42.370 --> 00:10:46.110\nand if they have even the differences,\nthey are also similar to their parents.\n\n200\n00:10:46.110 --> 00:10:49.700\nSo it can really help you figure out\nwhat's going on with these differencing\n\n201\n00:10:49.700 --> 00:10:52.820\ndisks to keep that straight in your mind,\nespecially when it comes to the exam.\n\n202\n00:10:52.820 --> 00:10:54.520\n>> Absolutely, absolutely,\nand we can make, and\n\n203\n00:10:54.520 --> 00:10:56.800\nI'm going to show you how to\nmake a differencing drive.\n\n204\n00:10:56.800 --> 00:11:00.150\nWhat's really cool, these would never\nbe used in production, all right?\n\n205\n00:11:00.150 --> 00:11:02.735\nThis is for your sandbox, for\nyour test environments, for\n\n206\n00:11:02.735 --> 00:11:04.856\nwhen you're using these\ndifferencing drives,\n\n207\n00:11:04.856 --> 00:11:07.455\nbecause the performance is going\nto be an issue with these.\n\n208\n00:11:07.455 --> 00:11:11.220\nAnd I'll explain that again\nas I make this new server.\n\n209\n00:11:11.220 --> 00:11:16.470\nSo what I'm going to do is I'm going\nto click New > Hard Disk > Next.\n\n210\n00:11:16.470 --> 00:11:17.620\nI'm going to do a VHDX.\n\n211\n00:11:17.620 --> 00:11:20.590\nNow the parent and\nthe child have to be the same format.\n\n212\n00:11:20.590 --> 00:11:23.970\nSo if that parent VHD was a VHD,\nand not a VHDX,\n\n213\n00:11:23.970 --> 00:11:27.080\nI would have to choose VHD for the child.\n\n214\n00:11:27.080 --> 00:11:30.173\nAll right, it's a VHDX so\nI'm going to leave it on there.\n\n215\n00:11:30.173 --> 00:11:33.930\nAnd I'm going to choose Differencing,\nand click Next.\n\n216\n00:11:33.930 --> 00:11:38.422\nAnd then I've got to give this one a name,\nand I'm going to call this svr02_0,\n\n217\n00:11:38.422 --> 00:11:41.710\nbecause that's going to be\nthe first drive for this server.\n\n218\n00:11:42.720 --> 00:11:48.066\nAnd I'm going to put that in a folder for\nsvr02.\n\n219\n00:11:48.066 --> 00:11:50.170\nAnd I'll click Next.\n\n220\n00:11:50.170 --> 00:11:53.550\nAnd then it wants to know, well,\nwhere is the parent drive?\n\n221\n00:11:53.550 --> 00:11:55.210\nAnd I'll click Browse.\n\n222\n00:11:55.210 --> 00:11:59.200\nAnd I'll go into my Parent folder,\nand I'll choose that SYSPREP version.\n\n223\n00:11:59.200 --> 00:12:05.720\nAnd I'll click Open, and\nI'll click Next, and then Finish.\n\n224\n00:12:05.720 --> 00:12:09.710\nAnd I now have a new server Well,\nin just a second.\n\n225\n00:12:09.710 --> 00:12:11.980\nOh, I'm sorry, now I have a new drive.\n\n226\n00:12:11.980 --> 00:12:14.140\nSo I've created that differencing drive.\n\n227\n00:12:14.140 --> 00:12:18.640\nNow I've got to create a virtual machine\nthat's based on that differencing disk.\n\n228\n00:12:18.640 --> 00:12:21.638\nBecause when you go through\nthe new Virtual Machine Wizard,\n\n229\n00:12:21.638 --> 00:12:26.068\nI'll click New > Virtual Machine > Next,\nand then I'm gonna call this one as svr02.\n\n230\n00:12:26.068 --> 00:12:29.774\nRight, and I am going to do a Gen 1,\n\n231\n00:12:29.774 --> 00:12:34.112\nI believe is what I use for\nthe other ones.\n\n232\n00:12:34.112 --> 00:12:40.047\nAnd I'll give it 2048 for my startup\nmemory, let it use dynamic memory.\n\n233\n00:12:40.047 --> 00:12:43.060\nI'm not worried about connecting\nto a network for this lab.\n\n234\n00:12:43.060 --> 00:12:47.708\nHere, notice the only option is have\nis Create a virtual hard disk, and\n\n235\n00:12:47.708 --> 00:12:51.204\nit's going to create\na dynamically expanding VHDX.\n\n236\n00:12:51.204 --> 00:12:55.256\nThat's the only option I get other than\nUse an existing virtual hard disk or\n\n237\n00:12:55.256 --> 00:12:56.635\nattach one later.\n\n238\n00:12:56.635 --> 00:13:00.585\nSo remember, we just said I don't\nwant to use a differencing disk for\n\n239\n00:13:00.585 --> 00:13:05.095\na production machine, or I don't want to\nuse a dynamically expanding drive for\n\n240\n00:13:05.095 --> 00:13:06.305\na production machine.\n\n241\n00:13:06.305 --> 00:13:09.205\nThat means you can't use this\nwizard to create the hard drive.\n\n242\n00:13:09.205 --> 00:13:13.465\nYou would create the hard drive ahead\nof time using the new disk, and\n\n243\n00:13:13.465 --> 00:13:18.240\nthen you would use an existing virtual\nhard drive to create your virtual machine.\n\n244\n00:13:18.240 --> 00:13:20.875\nSo I'm gonna just Use\nan existing virtual hard disk.\n\n245\n00:13:20.875 --> 00:13:23.934\nI'll click Browse, and\nI'll go to svr02's folder.\n\n246\n00:13:23.934 --> 00:13:27.111\nAnd I'll say I'm going\nto use that disc and\n\n247\n00:13:27.111 --> 00:13:30.561\nclick Open, and then Next,\nand then Finish.\n\n248\n00:13:30.561 --> 00:13:33.090\nAnd now I've got a new machine, right?\n\n249\n00:13:33.090 --> 00:13:34.270\nAnd I can fire this guy up.\n\n250\n00:13:36.700 --> 00:13:39.990\nBut that hard drive that I just\nattached was a blank drive, right?\n\n251\n00:13:39.990 --> 00:13:41.963\nIt was 4megabytes in size.\n\n252\n00:13:41.963 --> 00:13:47.190\nYet it is starting up,\nright, it's booting up.\n\n253\n00:13:47.190 --> 00:13:49.890\nSo, where's all its\noperating system files?\n\n254\n00:13:49.890 --> 00:13:51.480\nThey're in that parent drive.\n\n255\n00:13:51.480 --> 00:13:55.320\nAnd in fact, now I have two machines\nthat are pointing to that parent drive.\n\n256\n00:13:55.320 --> 00:13:59.605\nSvr01 and svr02 are both using\ndifferencing disks, right?\n\n257\n00:13:59.605 --> 00:14:01.540\nSvr01 has its own differencing disk.\n\n258\n00:14:01.540 --> 00:14:03.430\nLet me take a peek back in here.\n\n259\n00:14:04.700 --> 00:14:09.550\nAnd I go to VMs > svr01,\nright, there's its hard drive.\n\n260\n00:14:09.550 --> 00:14:14.200\nAgain, as I showed you, it was only a\nlittle over 2 gigs, almost 3 gigs in size.\n\n261\n00:14:14.200 --> 00:14:16.280\nWell, that's not the entire\noperating system, right?\n\n262\n00:14:16.280 --> 00:14:18.110\nThe rest of it resides in that parent.\n\n263\n00:14:18.110 --> 00:14:25.273\nSo I now have two machines that are both\nbased off of this hard drive here, right?\n\n264\n00:14:25.273 --> 00:14:29.060\nThings I do to svr01 are not\ngoing to affect svr02.\n\n265\n00:14:29.060 --> 00:14:32.760\nBecause any changes I make\nto svr01 are going to be\n\n266\n00:14:32.760 --> 00:14:35.280\nrecorded here in this differencing drive.\n\n267\n00:14:35.280 --> 00:14:39.735\nOnly the differences from that\nparent drive are stored in here.\n\n268\n00:14:39.735 --> 00:14:42.587\nSvr02 has its own hard drive.\n\n269\n00:14:42.587 --> 00:14:47.255\nNotice it's getting bigger [COUGH] because\nit's starting to have changes from that\n\n270\n00:14:47.255 --> 00:14:48.130\nbase, right?\n\n271\n00:14:48.130 --> 00:14:50.527\nIt's booting up,\nit's generating the unique information.\n\n272\n00:14:50.527 --> 00:14:52.949\nIt's got its own name,\nit's got its own IP.\n\n273\n00:14:52.949 --> 00:14:57.770\nAll of that stuff that's different\nfrom that base drive is being stored.\n\n274\n00:14:57.770 --> 00:15:01.430\nSo there you can see it growing\njust from booting that thing up.\n\n275\n00:15:01.430 --> 00:15:04.517\nRight, but I can make changes to either\none of these servers, and it won't affect\n\n276\n00:15:04.517 --> 00:15:07.870\nthe other one, because they are being\nstored in the differencing drive.\n\n277\n00:15:07.870 --> 00:15:11.350\nBut now you can see where the performance\nissue's going to come into play.\n\n278\n00:15:11.350 --> 00:15:15.960\nAll the files they have in common, all the\noperating system files, the system files,\n\n279\n00:15:15.960 --> 00:15:19.850\nthe DLLs, all that,\nall that's stored here.\n\n280\n00:15:19.850 --> 00:15:22.240\nSo, both of these machines\nare running at the same time.\n\n281\n00:15:22.240 --> 00:15:24.400\nBoth of them are hitting\ntheir differencing disks.\n\n282\n00:15:24.400 --> 00:15:28.050\nBoth of them are going through the\ndifferencing disks into that parent disk\n\n283\n00:15:28.050 --> 00:15:29.990\nto get those operating system files.\n\n284\n00:15:29.990 --> 00:15:32.540\nI've got contention for\nthat parent drive, right?\n\n285\n00:15:32.540 --> 00:15:35.440\nSo if base another server,\nI create a third server that's\n\n286\n00:15:35.440 --> 00:15:38.470\ngot a differencing disk that's\nbased off that same parent.\n\n287\n00:15:38.470 --> 00:15:41.660\nJust more contention going\nback to this parent drive, so\n\n288\n00:15:41.660 --> 00:15:43.060\nwhy would you ever use it?\n\n289\n00:15:43.060 --> 00:15:44.582\nWell, in a sandbox environment,\n\n290\n00:15:44.582 --> 00:15:47.581\nI don't want to install a server\nthree times to make three servers.\n\n291\n00:15:47.581 --> 00:15:52.489\nThis SYSPREP drive right here,\nI can blow away svr01 and svr02, right.\n\n292\n00:15:52.489 --> 00:15:53.511\nBlow them away.\nI'm done with that test.\n\n293\n00:15:53.511 --> 00:15:56.228\nTomorrow I need to test\nsomething else out.\n\n294\n00:15:56.228 --> 00:15:58.782\nI make a new differencing\ndisk based on that parent.\n\n295\n00:15:58.782 --> 00:16:03.722\nAnd I've got a server running 2012 R2 in\nminutes rather than 20 minutes waiting for\n\n296\n00:16:03.722 --> 00:16:04.900\na server to install.\n\n297\n00:16:04.900 --> 00:16:06.630\nRight, this guy's up and running.\n\n298\n00:16:06.630 --> 00:16:07.660\nHe's booting up.\n\n299\n00:16:07.660 --> 00:16:08.230\nHe's good to go.\n\n300\n00:16:08.230 --> 00:16:10.190\nNow that parent drive was sysprep.\n\n301\n00:16:10.190 --> 00:16:13.080\nSo it's gonna go through that\ninitial process if you've ever\n\n302\n00:16:13.080 --> 00:16:14.510\nsysprepped a machine.\n\n303\n00:16:14.510 --> 00:16:19.050\nBut it's really a quick, easy way to\nget a bunch of servers up and running.\n\n304\n00:16:19.050 --> 00:16:22.920\nFor the exam, the important thing is\nto understand those differencing disks\n\n305\n00:16:22.920 --> 00:16:25.850\nstore all the changes that\nare being made to that machine.\n\n306\n00:16:25.850 --> 00:16:28.840\nAnd you've got to create\nit using the new hard disk.\n\n307\n00:16:28.840 --> 00:16:32.590\nYou can’t create it when you’re\ncreating a virtual machine.\n\n308\n00:16:32.590 --> 00:16:36.240\n>> Yeah, this would be fantastic for\nsomething like a development environment\n\n309\n00:16:36.240 --> 00:16:40.590\nbecause a lot of times, developers,\nthey need a new server for\n\n310\n00:16:40.590 --> 00:16:43.430\nthem to be able to work with,\nplay around, do a lot of testing.\n\n311\n00:16:43.430 --> 00:16:47.360\nAnd if they have to install\na server operating system, and\n\n312\n00:16:47.360 --> 00:16:51.220\nthen all their platform stuff,\nit’s gonna take a lot of time and effort.\n\n313\n00:16:51.220 --> 00:16:55.177\nIf we just create these differencing\ndrives, these differencing disks,\n\n314\n00:16:55.177 --> 00:16:58.315\ncreate that parent hard drive\nwith all the tools they need,\n\n315\n00:16:58.315 --> 00:17:00.480\nwith the server environment they need.\n\n316\n00:17:00.480 --> 00:17:02.312\nAnd then they go, hey man,\n\n317\n00:17:02.312 --> 00:17:07.100\nI could really use an environment\nto program in, I don't know, Ruby.\n\n318\n00:17:07.100 --> 00:17:10.930\nOr I'm working in Java, and\nI need a test environment to work with.\n\n319\n00:17:10.930 --> 00:17:14.702\nYou can spin them up a test\nenvironment within minutes, and say,\n\n320\n00:17:14.702 --> 00:17:16.220\nhere's the server name.\n\n321\n00:17:16.220 --> 00:17:19.170\nGo ahead and log in, and\nyou're off to the races.\n\n322\n00:17:19.170 --> 00:17:22.340\nWithin minutes, they're already\ntesting and working with their code,\n\n323\n00:17:22.340 --> 00:17:23.710\ndoing everything they need to do.\n\n324\n00:17:23.710 --> 00:17:26.775\nYou're starting to see at that\npoint the real benefit of,\n\n325\n00:17:26.775 --> 00:17:29.405\neven though this isn't in\na production environment,\n\n326\n00:17:29.405 --> 00:17:34.005\nwe don't recommend using it that way, but\nfor testing purposes, it's fantastic.\n\n327\n00:17:34.005 --> 00:17:34.645\n>> Absolutely.\n\n328\n00:17:34.645 --> 00:17:37.585\nAnd I'm going to go ahead and\nfinish the install process here,\n\n329\n00:17:37.585 --> 00:17:40.370\nremember after it got sys prepped,\nI use this all the time.\n\n330\n00:17:40.370 --> 00:17:41.940\nI mean, to do these episodes,\n\n331\n00:17:41.940 --> 00:17:44.470\nI have to come up with new\nvirtual machines every day.\n\n332\n00:17:44.470 --> 00:17:47.290\nI don't install Server 2012 every night.\n\n333\n00:17:47.290 --> 00:17:49.840\nI've got a set of drives that\nI've saved that are sys prepped,\n\n334\n00:17:49.840 --> 00:17:54.000\na Server 2012 machine, a Windows\n8.1 machine, a Windows 10 machine.\n\n335\n00:17:54.000 --> 00:17:57.830\nAnd when I think about tomorrow's episode,\nand I say, I'm going to need a server and\n\n336\n00:17:57.830 --> 00:17:59.080\ntwo clients.\n\n337\n00:17:59.080 --> 00:18:02.030\nI just make differencing drives\nbased on those parent drives.\n\n338\n00:18:02.030 --> 00:18:03.710\nWhen I'm done with them, I blow them away.\n\n339\n00:18:03.710 --> 00:18:05.240\nThe parent drive was never changed.\n\n340\n00:18:05.240 --> 00:18:09.510\nIn fact, it's typically a good idea to\nset that parent drive as read-only,\n\n341\n00:18:09.510 --> 00:18:13.720\nbecause if that parent drive ever gets\nmodified, those servers are going to fail.\n\n342\n00:18:13.720 --> 00:18:14.820\nThey rely on that, right?\n\n343\n00:18:14.820 --> 00:18:18.320\nThe only thing that's in their little\ndifferencing drive are all the changes.\n\n344\n00:18:18.320 --> 00:18:20.070\nIf that parent drive ever changes,\n\n345\n00:18:20.070 --> 00:18:22.950\nif it gets modified they're gonna be like,\nwhere's my parent?\n\n346\n00:18:22.950 --> 00:18:23.516\nMy parent drive is gone.\n\n347\n00:18:23.516 --> 00:18:27.556\nThey're not going to recognize it anymore\nas their parent, and they will fail.\n\n348\n00:18:27.556 --> 00:18:31.245\nSo you can't let anything\nhappen to those parent drives.\n\n349\n00:18:31.245 --> 00:18:34.675\nLike I said,\nI typically mark those guys as read only.\n\n350\n00:18:34.675 --> 00:18:36.105\nBut now svr02 is up and running.\n\n351\n00:18:36.105 --> 00:18:38.675\nWhoops, let me log into this guy.\n\n352\n00:18:38.675 --> 00:18:42.095\nAll right.\n\n353\n00:18:45.605 --> 00:18:46.610\nAnd we'll get that guy going.\n\n354\n00:18:46.610 --> 00:18:49.078\nSo there's svr02, svr01 is running.\n\n355\n00:18:49.078 --> 00:18:55.888\nAnd I can connect over to this guy,\nand I'll log back into him.\n\n356\n00:18:55.888 --> 00:19:00.758\nAnd let's full screen that guy there, and\nI'm just gonna install a role on this.\n\n357\n00:19:00.758 --> 00:19:05.982\nI'm gonna go into roles, so\nthis is svr01, roles and features.\n\n358\n00:19:05.982 --> 00:19:09.918\nAnd we saw that his drive, I don't know\nif we're gonna see a drive change though\n\n359\n00:19:09.918 --> 00:19:12.088\nsince the roles aren't typically that big.\n\n360\n00:19:14.910 --> 00:19:18.570\nAll right, oops,\none too many clicks there.\n\n361\n00:19:18.570 --> 00:19:22.410\nAnd I'll install something like,\nsomething quick and easy.\n\n362\n00:19:22.410 --> 00:19:26.240\nActually, let's do Windows Server Backup,\nor let's do a role.\n\n363\n00:19:26.240 --> 00:19:29.100\nLet's do Wins,\nWins is everybody's favorite.\n\n364\n00:19:29.100 --> 00:19:33.755\nI was trying to think, Daniel,\nof something just real quick and easy.\n\n365\n00:19:33.755 --> 00:19:34.630\nFax Server, there we go.\n\n366\n00:19:36.460 --> 00:19:37.690\nThat won't take long to install.\n\n367\n00:19:40.590 --> 00:19:46.040\n[SOUND] All right, so\nthat's installing on svr01.\n\n368\n00:19:46.040 --> 00:19:50.800\nOn svr02, all right, I'll go over here.\n\n369\n00:19:50.800 --> 00:19:55.820\nRemember, svr02 is based on that same,\nhe's not stretching out for\n\n370\n00:19:55.820 --> 00:20:00.600\nme very nicely, but svr02 is not\ngonna have, what did I install?\n\n371\n00:20:00.600 --> 00:20:03.600\nThe Fax Server role, right,\nit's not gonna be on this guy.\n\n372\n00:20:03.600 --> 00:20:06.483\nSo, even though they're both\nbased on the same parent,\n\n373\n00:20:06.483 --> 00:20:10.640\nthat fact server role is being put on\nthe differencing drive for svr01, right.\n\n374\n00:20:10.640 --> 00:20:14.267\nSo that's the idea there with\nthose differencing drives.\n\n375\n00:20:14.267 --> 00:20:16.960\n>> Yeah, you gotta remember,\nany change that's being made to\n\n376\n00:20:16.960 --> 00:20:20.304\nwhatever server you're using, or\nyou're utilizing at that point,\n\n377\n00:20:20.304 --> 00:20:24.950\nis going to change on their differencing\ndrive, not the parent drive itself.\n\n378\n00:20:24.950 --> 00:20:27.773\nSo if they ask something\nto that effect on an exam,\n\n379\n00:20:27.773 --> 00:20:32.020\nyou know you're good to go if they say,\noh, you've created two servers.\n\n380\n00:20:32.020 --> 00:20:35.510\nAnd they're using differencing drives,\nand a change has been made on svr01.\n\n381\n00:20:35.510 --> 00:20:39.930\nDoes that happen on the parent drive,\nsvr01's drive, this drive, that drive?\n\n382\n00:20:39.930 --> 00:20:42.302\nYou know it's going to\nbe on svr01's drive,\n\n383\n00:20:42.302 --> 00:20:45.545\nso that way you're not confused\nif anything like that comes up.\n\n384\n00:20:45.545 --> 00:20:48.170\n>> And one more thing I'll point out,\nI mentioned in there, and\n\n385\n00:20:48.170 --> 00:20:50.190\nI don't know if I said\nit at the beginning.\n\n386\n00:20:50.190 --> 00:20:53.850\nSo remember we said don't use\ndynamically expanding drives for\n\n387\n00:20:53.850 --> 00:20:55.320\nyour production machines.\n\n388\n00:20:55.320 --> 00:20:59.290\nBut yet if I click New > Virtual Machine,\nthe only option was\n\n389\n00:20:59.290 --> 00:21:03.850\nto choose dynamically expanding or create\nthe drive later, or use an existing.\n\n390\n00:21:03.850 --> 00:21:07.906\nSo you might be asking Mike,\nhow do you create a fixed size drive for\n\n391\n00:21:07.906 --> 00:21:09.360\nyour virtual machine?\n\n392\n00:21:09.360 --> 00:21:10.600\nYou create it ahead of time, right.\n\n393\n00:21:10.600 --> 00:21:13.850\nIn fact, we did that earlier,\nbut I'll do it one more time.\n\n394\n00:21:13.850 --> 00:21:17.440\nWe'll call this one, oops wrong Wizard.\n\n395\n00:21:17.440 --> 00:21:23.810\nSay New > Hard Disk, and\nI'm gonna do a little VHDX.\n\n396\n00:21:23.810 --> 00:21:30.680\nAnd we'll do a fixed size, and I'll call\nthis a drive, we'll just call it Fixed.\n\n397\n00:21:35.800 --> 00:21:37.720\nAll right, and\nwe know it's gonna take a minute.\n\n398\n00:21:37.720 --> 00:21:41.557\nSo I'm just gonna do a small one, 5 gigs,\nwhich isn't gonna be large enough to\n\n399\n00:21:41.557 --> 00:21:43.750\ninstall the OS, so\nhopefully it will let me.\n\n400\n00:21:43.750 --> 00:21:46.701\nBut we'll let that create it, and then\nwanna do, once that's created, in fact,\n\n401\n00:21:46.701 --> 00:21:48.530\nI've already got that\nother one that's created.\n\n402\n00:21:48.530 --> 00:21:51.490\nRemember that one I created at\nthe beginning, Test 1 and Test 2?\n\n403\n00:21:51.490 --> 00:21:53.610\nThose were fixed drives, right?\n\n404\n00:21:53.610 --> 00:22:00.579\nSo now that I've created a fixed drive,\nwhen I go to create my new machine,\n\n405\n00:22:00.579 --> 00:22:04.800\nand I'll call it svr03, I'm sorry, 4.\n\n406\n00:22:04.800 --> 00:22:08.761\nI'll do a Gen 1, give it a 2048 for\n\n407\n00:22:08.761 --> 00:22:12.730\nstart up memory, we'll use dynamic.\n\n408\n00:22:12.730 --> 00:22:18.364\nAnd then when I get to here, because I\ndon't want a dynamically expanding drive,\n\n409\n00:22:18.364 --> 00:22:21.480\nI'll say use an existing\nvirtual hard disk.\n\n410\n00:22:21.480 --> 00:22:28.520\nAnd now I can browse and find that fixed\nsized drive, click Open > Next > Finish.\n\n411\n00:22:28.520 --> 00:22:32.510\nAnd now I've got a virtual machine\nthat's using a fixed drive.\n\n412\n00:22:32.510 --> 00:22:36.180\nThat's what I would wanna do if I was\nsetting up a machine for production.\n\n413\n00:22:36.180 --> 00:22:40.450\nI don't wanna use the wizard to create the\ndrive cuz the only option I get in there\n\n414\n00:22:40.450 --> 00:22:42.190\nis that dynamically expanded.\n\n415\n00:22:42.190 --> 00:22:43.955\n>> Yeah, and then fifth, like you said,\n\n416\n00:22:43.955 --> 00:22:46.480\nyou're going into production\nnot the way you wanna go.\n\n417\n00:22:46.480 --> 00:22:51.326\nFixed drives are the path to take when\nit comes to doing production virtual\n\n418\n00:22:51.326 --> 00:22:52.435\nmachines.\n\n419\n00:22:52.435 --> 00:22:54.695\nAll right, Mike, well what else do\nwe have on the plate for today?\n\n420\n00:22:54.695 --> 00:22:57.895\n>> Another thing they call out in\nour objectives is modifying VHDs.\n\n421\n00:22:57.895 --> 00:22:59.515\nWe've got these VHDs created.\n\n422\n00:22:59.515 --> 00:23:00.795\nWhat if I wanna change something?\n\n423\n00:23:00.795 --> 00:23:05.265\nWhat if I want to modify maybe the size\nof the VHD or something like that?\n\n424\n00:23:05.265 --> 00:23:06.995\nThere are a few things we can do.\n\n425\n00:23:06.995 --> 00:23:08.645\nSo let's take a look at that next.\n\n426\n00:23:08.645 --> 00:23:11.470\nActually we've got a couple\nof wizards over here.\n\n427\n00:23:11.470 --> 00:23:15.650\nI've got Inspect Disk and\nEdit Disk, all right.\n\n428\n00:23:15.650 --> 00:23:17.682\nWe'll start with the Inspect Disk, and\n\n429\n00:23:17.682 --> 00:23:20.590\nthis just lets me view\nthe properties of a drive.\n\n430\n00:23:20.590 --> 00:23:23.880\nSo I'm gonna come in here and\nI'm gonna grab, in fact let's go to svr01.\n\n431\n00:23:23.880 --> 00:23:26.210\nOur svr01's this server over here, right.\n\n432\n00:23:27.930 --> 00:23:31.140\nAnd I'll click Open, and\nit gives me these properties.\n\n433\n00:23:31.140 --> 00:23:35.350\nI can see that svr01,\ncuz how do I know if it's a VHD or a VHDX?\n\n434\n00:23:35.350 --> 00:23:38.740\nI could go look at the file extensions\nif I have permissions, right?\n\n435\n00:23:38.740 --> 00:23:42.510\nThose are on a SAN somewhere,\nI probably can't just browse to that part.\n\n436\n00:23:42.510 --> 00:23:44.438\nSo here I can see, oh, it's using a VHDX.\n\n437\n00:23:44.438 --> 00:23:48.638\nLook, it's a differencing virtual\nhard disk, where it's located,\n\n438\n00:23:48.638 --> 00:23:53.264\nwhat the actual file name is, the current\nsize, and what its maximum size is.\n\n439\n00:23:53.264 --> 00:23:55.214\nThat's nice to know as well.\n\n440\n00:23:55.214 --> 00:23:57.349\nAnd it also tells me who the parent is.\n\n441\n00:23:57.349 --> 00:24:01.960\nBecause this is a differencing disc,\nthis disc on its own, can't function.\n\n442\n00:24:01.960 --> 00:24:03.210\nIt has to have a parent.\n\n443\n00:24:03.210 --> 00:24:04.850\nShows you who the parent is.\n\n444\n00:24:04.850 --> 00:24:08.310\nEven gives the option to\ninspect parent from right here.\n\n445\n00:24:08.310 --> 00:24:11.660\nSo I can click that and there pulls up\nthe properties of the parent drive.\n\n446\n00:24:11.660 --> 00:24:15.140\nTells me that it's a dynamically\nexpanding drive EHDX.\n\n447\n00:24:15.140 --> 00:24:19.130\nWhere it's located,\ncurrent size, maximum size.\n\n448\n00:24:19.130 --> 00:24:22.700\nSo inspect, that's all read only, there's\nnothing I can do with that information, or\n\n449\n00:24:22.700 --> 00:24:25.300\nnothing I should say,\nI can change with that information.\n\n450\n00:24:25.300 --> 00:24:28.600\nSure I can do plenty with that\ninformation, but it's all read only.\n\n451\n00:24:28.600 --> 00:24:32.390\nSo that's the ability to inspect a disc,\nso if you've got questions about a drive.\n\n452\n00:24:32.390 --> 00:24:34.580\nAnd it doesn't have to be a drive\nthat is attached to a machine.\n\n453\n00:24:34.580 --> 00:24:38.600\nIf I click Inspect Disk,\nI can browse down here and find drive2,\n\n454\n00:24:38.600 --> 00:24:40.870\nthat's not being used by anything.\n\n455\n00:24:40.870 --> 00:24:45.220\nI can still pull all the properties\nback about that drive, alright?\n\n456\n00:24:45.220 --> 00:24:47.440\nNow if I wanna make changes to a drive,\n\n457\n00:24:47.440 --> 00:24:51.320\nthat's where I'm gonna have\nto go to Edit Disk, right?\n\n458\n00:24:51.320 --> 00:24:54.380\nLaunches this wizard, I'll click Next and\n\n459\n00:24:54.380 --> 00:24:56.790\nI have to tell it where\nthe drive is located.\n\n460\n00:24:56.790 --> 00:25:00.270\nYou know, I should have cancelled that\none but I'll pick another drive here.\n\n461\n00:25:01.280 --> 00:25:04.560\nWe'll take Drive1,\nI don't think it's in use right now.\n\n462\n00:25:06.290 --> 00:25:08.630\nSo now it knows where the drive is.\n\n463\n00:25:08.630 --> 00:25:12.450\nYou be careful [INAUDIBLE] tells you if\nyou start modifying drives you can end up\n\n464\n00:25:12.450 --> 00:25:14.210\nhurting data, you can cause problems.\n\n465\n00:25:14.210 --> 00:25:17.130\nIf you modify a parent drive, right.\n\n466\n00:25:17.130 --> 00:25:20.060\nThat means the child of that\ndifferencing disk is not gonna recognize\n\n467\n00:25:20.060 --> 00:25:21.145\nthe parent anymore.\n\n468\n00:25:21.145 --> 00:25:23.680\nYou've just lost all that data\nin that differencing drive.\n\n469\n00:25:23.680 --> 00:25:27.320\nIf you modify a child that has another\ndifferencing drive based off of that,\n\n470\n00:25:27.320 --> 00:25:30.830\ncuz you, something I didn’t mention,\nyou can have a differencing drive,\n\n471\n00:25:30.830 --> 00:25:33.820\nbased on a differencing drive,\nbased on parent drive.\n\n472\n00:25:33.820 --> 00:25:35.280\nRight?\nYou can have these things kinda\n\n473\n00:25:35.280 --> 00:25:36.250\ndaisy chained.\n\n474\n00:25:36.250 --> 00:25:37.740\nIn fact, that’s what checkpoints do, but\n\n475\n00:25:37.740 --> 00:25:39.860\nwe’re gonna come back to\ncheckpoints in just a little bit.\n\n476\n00:25:39.860 --> 00:25:43.130\nAll right, so let’s use that drive.\n\n477\n00:25:43.130 --> 00:25:43.889\nI’ll click Next.\n\n478\n00:25:45.050 --> 00:25:46.410\nAnd then what do I wanna do?\n\n479\n00:25:46.410 --> 00:25:47.490\nDo I wanna convert it?\n\n480\n00:25:47.490 --> 00:25:49.390\nOr do I want to expand it, right?\n\n481\n00:25:49.390 --> 00:25:52.390\nNow this one,\nis only showing me a couple of options.\n\n482\n00:25:52.390 --> 00:25:53.780\nWhat did I choose with that one?\n\n483\n00:25:53.780 --> 00:25:57.820\nI did a fix size drive on that one,\nI believe.\n\n484\n00:25:57.820 --> 00:26:00.700\nBut I can convert this over.\n\n485\n00:26:00.700 --> 00:26:04.530\nSo if I click next on the convert,\nyou'll see that currently It's a VH.\n\n486\n00:26:04.530 --> 00:26:06.790\nYou know what let's check on that.\n\n487\n00:26:06.790 --> 00:26:09.730\nWhat did I, I've completely forgot\nDaniel now, what I actually made.\n\n488\n00:26:11.650 --> 00:26:13.940\nSo let's work with test.\n\n489\n00:26:16.770 --> 00:26:18.400\nAnd let's view those extensions there.\n\n490\n00:26:18.400 --> 00:26:20.190\nSo, test was a VHDX.\n\n491\n00:26:20.190 --> 00:26:21.679\nAll right.\n\n492\n00:26:22.680 --> 00:26:23.970\nSo let's try that one more time.\n\n493\n00:26:23.970 --> 00:26:30.576\nI'm gonna go edit disk, I'll click next\nand I'll browse and find that drive.\n\n494\n00:26:32.561 --> 00:26:36.130\nI'll click next, and\nI see I've got a couple of options here.\n\n495\n00:26:36.130 --> 00:26:38.400\nI've got compact, convert, and expand.\n\n496\n00:26:38.400 --> 00:26:43.900\nCompact is a way that I can squeeze\nthe data that's inside that hard disk.\n\n497\n00:26:43.900 --> 00:26:49.240\nNow the hard disk size itself\ndoesn't change, all right?\n\n498\n00:26:49.240 --> 00:26:53.107\nBut as we add, remove data to that VHD,\nyou might have a,\n\n499\n00:26:53.107 --> 00:26:56.904\nlet's say you've got a drive\nthat the max size is 80.\n\n500\n00:26:56.904 --> 00:27:00.080\nIt's dynamically expanding and\nit's grown out.\n\n501\n00:27:00.080 --> 00:27:03.530\nYou know as you've added more data to it,\nit grows and grows and grows.\n\n502\n00:27:03.530 --> 00:27:07.280\nBut when you remove data,\nit doesn't necessarily shrink, all right.\n\n503\n00:27:07.280 --> 00:27:10.480\nSo it grows as you put more data\nin there but it doesn't shrink up.\n\n504\n00:27:10.480 --> 00:27:13.850\nSo that means it's taking up space\nthat I could use for something else.\n\n505\n00:27:13.850 --> 00:27:16.300\nAnd the whole reason I used\na dynamic drive in the first place,\n\n506\n00:27:16.300 --> 00:27:18.470\nwas probably cuz space was a premium,\nright.\n\n507\n00:27:18.470 --> 00:27:19.790\nIt's not for performance.\n\n508\n00:27:19.790 --> 00:27:23.750\nSo a compact will allow me to shrink\nthat up, compact that data in there.\n\n509\n00:27:23.750 --> 00:27:25.800\nThe max size isn't gonna change, but\n\n510\n00:27:25.800 --> 00:27:29.930\nthe physical size on the file on\nthe drive would actually change.\n\n511\n00:27:29.930 --> 00:27:33.220\nConvert allows me to convert\nbetween different types.\n\n512\n00:27:33.220 --> 00:27:34.380\nSo I can go click next.\n\n513\n00:27:34.380 --> 00:27:36.830\nI can change that to a VHD.\n\n514\n00:27:36.830 --> 00:27:37.440\nRight.\n\n515\n00:27:37.440 --> 00:27:41.710\nOr, I can convert it from a dynamically\nexpanding to a fixed size.\n\n516\n00:27:41.710 --> 00:27:44.430\nLet's say initially when I\nwas creating this server,\n\n517\n00:27:44.430 --> 00:27:46.040\nI set it up as a dynamically expanding.\n\n518\n00:27:46.040 --> 00:27:49.320\nCuz on my little machine here,\nI don't have a whole lot of disk space.\n\n519\n00:27:49.320 --> 00:27:51.220\nBut I'm setting up this production server.\n\n520\n00:27:51.220 --> 00:27:54.860\nBefore I move it to the production\nside and put it on my Hyper V server,\n\n521\n00:27:54.860 --> 00:27:58.280\nI need to change that to a fixed drive so\nI can get that performance.\n\n522\n00:27:58.280 --> 00:28:00.720\nThis would allow me to convert that.\n\n523\n00:28:00.720 --> 00:28:03.300\nNow, I will go and\nclaim all that space, right?\n\n524\n00:28:03.300 --> 00:28:07.070\nAs soon as we change it to a fixed.\n\n525\n00:28:08.120 --> 00:28:09.990\nWe can specify the location.\n\n526\n00:28:09.990 --> 00:28:12.940\nLet me go back to the other option there,\nexpand,\n\n527\n00:28:12.940 --> 00:28:16.580\nthis is what Daniel was asking about\nearlier, can I change the size of it?\n\n528\n00:28:16.580 --> 00:28:20.870\nAbsolutely, I can say the current\nsize is 128, I could make that up\n\n529\n00:28:20.870 --> 00:28:26.020\nto 64 terabytes in size, and\nit'll grow that max size.\n\n530\n00:28:26.020 --> 00:28:30.050\nNow, if it's a dynamically expanding,\nit's not gonna actually grab any space.\n\n531\n00:28:30.050 --> 00:28:33.790\nIt just changes what the maximum is,\nwhat it can grow up to, right?\n\n532\n00:28:33.790 --> 00:28:37.740\nIf it's a fixed drive, then it would\nactually have to go claim that space.\n\n533\n00:28:37.740 --> 00:28:41.000\nSo there's a few other things you can do\ndepending on the type of disk you start\n\n534\n00:28:41.000 --> 00:28:46.560\nwith, merge disks is another\none that I wanted to point out.\n\n535\n00:28:46.560 --> 00:28:50.600\nThat’s only available if you\nchoose a differencing drive.\n\n536\n00:28:50.600 --> 00:28:53.510\nOkay, so the last thing I wanna show you\non this wizard is how we can go about\n\n537\n00:28:53.510 --> 00:28:54.480\nmerging drives.\n\n538\n00:28:54.480 --> 00:28:56.935\nYou know we talked about\ndifferencing discs, and\n\n539\n00:28:56.935 --> 00:28:59.280\nhow we can have a performance\nissue with those.\n\n540\n00:28:59.280 --> 00:29:01.708\nWe would never use them in production, but\n\n541\n00:29:01.708 --> 00:29:05.900\nwhat if I've got one that I set up as\na test, I wan to move that production?\n\n542\n00:29:05.900 --> 00:29:08.390\nAnd now I don't want that\ndifferencing disc anymore.\n\n543\n00:29:08.390 --> 00:29:10.150\nI can actually merge them back together.\n\n544\n00:29:10.150 --> 00:29:11.940\nSo, I'm gonna click on here.\n\n545\n00:29:11.940 --> 00:29:15.070\nI'm gonna go find this drive for\nserver three.\n\n546\n00:29:15.070 --> 00:29:20.320\nThat's a differencing disk, so now\nnotice what drive I wanna work with and\n\n547\n00:29:20.320 --> 00:29:22.540\nnow notice the option merge,\ncomes available.\n\n548\n00:29:22.540 --> 00:29:24.320\nAnd when I've did that previous demo,\n\n549\n00:29:24.320 --> 00:29:27.510\nMerge wasn't there because I wasn't\nworking with different sync disk, right?\n\n550\n00:29:27.510 --> 00:29:28.970\nI clicked, Edit Disk.\n\n551\n00:29:28.970 --> 00:29:32.840\nAnd I selected a fixed or\na dynamically expanding drive.\n\n552\n00:29:32.840 --> 00:29:37.700\nThis time I selected a differencing disk,\nso the option for merge becomes available.\n\n553\n00:29:37.700 --> 00:29:43.040\nI click Merge, I click Next, and then when\nI merge it, I can choose what I want do.\n\n554\n00:29:43.040 --> 00:29:45.930\nIt’s got a parent drive, and\nit's got this differencing disc,\n\n555\n00:29:45.930 --> 00:29:49.060\ndo I just want to merge those\ntogether into one drive?\n\n556\n00:29:49.060 --> 00:29:50.150\nI could do that.\n\n557\n00:29:50.150 --> 00:29:53.570\nWhat if I have more than one server\nbased off of that parent though?\n\n558\n00:29:53.570 --> 00:29:56.810\nRemember, if that parent changes,\nall the childs that are based off it,\n\n559\n00:29:56.810 --> 00:29:59.275\nall the differencing\ndrives will then fail, so\n\n560\n00:29:59.275 --> 00:30:01.915\nI might want to merge it\ninto a brand new drive.\n\n561\n00:30:01.915 --> 00:30:03.935\nIt'll make a copy of the parent, and\n\n562\n00:30:03.935 --> 00:30:08.895\nthen merge the differencing disk into that\ncopy, thereby leaving the parent alone so\n\n563\n00:30:08.895 --> 00:30:12.780\nother VMs that are based off of that\nparent wouldn't be hurt, all right?\n\n564\n00:30:12.780 --> 00:30:14.310\nI'll go ahead and\ndo it to the parent cuz I know this is\n\n565\n00:30:14.310 --> 00:30:17.160\nthe only machine that's using\nthat particular parent drive.\n\n566\n00:30:17.160 --> 00:30:19.300\nI'll click Next, and finish.\n\n567\n00:30:20.900 --> 00:30:22.010\nAnd this might take it a minute.\n\n568\n00:30:22.010 --> 00:30:23.821\nI don't know if we really want,\nwe'll wait and see,\n\n569\n00:30:23.821 --> 00:30:26.220\nlet's see how fast this progress bar goes.\n\n570\n00:30:26.220 --> 00:30:28.960\nAnd it looks like it is going\nto end up taking a little bit\n\n571\n00:30:28.960 --> 00:30:30.850\nlonger than we probably want to wait here.\n\n572\n00:30:30.850 --> 00:30:33.520\nBut in the end,\ninstead of having a parent and\n\n573\n00:30:33.520 --> 00:30:37.100\na differencing disk,\nI'll have one drive for server three.\n\n574\n00:30:37.100 --> 00:30:38.940\n>> Very, very cool stuff, Mike.\n\n575\n00:30:38.940 --> 00:30:43.731\nVery good demo and we've gone a lot,\ngone through a lot of the features and\n\n576\n00:30:43.731 --> 00:30:47.040\nthe ways in which you can\nwork with these VHDs.\n\n577\n00:30:47.040 --> 00:30:49.550\nHopefully, you guys are getting\na lot out of that but guess what?\n\n578\n00:30:49.550 --> 00:30:52.370\nWe have a lot more to go through,\nso we're gonna have to go ahead and\n\n579\n00:30:52.370 --> 00:30:55.680\ndo another part two cuz, looking at\nthe clock and we've run out of time.\n\n580\n00:30:55.680 --> 00:30:57.780\nHopefully we'll see you\non that part two episode.\n\n581\n00:30:57.780 --> 00:31:00.110\nAs for this one though,\nwe're gonna go ahead and sign off.\n\n582\n00:31:00.110 --> 00:31:03.000\nFor ITProTV I've been your host,\nDaniel Lowry.\n\n583\n00:31:03.000 --> 00:31:03.850\n>> And I'm Mike Rodrick.\n\n584\n00:31:03.850 --> 00:31:05.265\n>> And we'll see you next time.\n\n585\n00:31:05.265 --> 00:31:10.970\n[MUSIC]\n\n",
          "vimeoId": "137598728"
        },
        {
          "description": "In this episode Daniel and Mike conclude their discussion of virtual machine storage. Mike talks about how and when to use pass-through disks and managing checkpoints for saving the current state of virtual machines.",
          "length": "1031",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-8-1-virtual_hard_drives_pt2-082615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-8-1-virtual_hard_drives_pt2-082615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-8-1-virtual_hard_drives_pt2-082615-1-sm.jpg",
          "title": "Virtual Hard Drives Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.213\n[MUSIC]\n\n2\n00:00:10.213 --> 00:00:14.180\nGreetings everyone and welcome to\nanother great episode of ITProTV.\n\n3\n00:00:14.180 --> 00:00:18.010\nI'm your host Daniel Lowery and\nhere with me today, Mr. Mike Rodrick.\n\n4\n00:00:18.010 --> 00:00:18.760\nHow's it going, Mike?\n\n5\n00:00:18.760 --> 00:00:19.570\n>> Oh, it's fantastic.\n\n6\n00:00:19.570 --> 00:00:20.530\nGoing fantastic Daniel.\n\n7\n00:00:20.530 --> 00:00:22.920\nExcited because we're\ndoing more of our 74-10.\n\n8\n00:00:22.920 --> 00:00:26.830\nIn fact we're continuing our discussion\non virtual hard drives cuz there's\n\n9\n00:00:26.830 --> 00:00:28.050\nmore to talk about.\n\n10\n00:00:28.050 --> 00:00:29.630\nSo let's just jump right back in to it.\n\n11\n00:00:29.630 --> 00:00:31.070\n>> I say we do it.\n\n12\n00:00:31.070 --> 00:00:33.250\n>> So the next thing I wanna call\nout on these virtual hard drives,\n\n13\n00:00:33.250 --> 00:00:36.030\none of these things they'll call out on\nthe exam and that we need to be familiar\n\n14\n00:00:36.030 --> 00:00:40.760\nwith, is something called configuring a,\nwhat's called a pass-through disk.\n\n15\n00:00:40.760 --> 00:00:44.770\nNow, normally when you create a virtual\nmachine, you create a virtual hard drive\n\n16\n00:00:44.770 --> 00:00:48.130\nfor that machine and\nthat's what it uses to store its data for\n\n17\n00:00:48.130 --> 00:00:51.900\nits operating system, files it creates,\nrole services, what-have-you.\n\n18\n00:00:51.900 --> 00:00:53.820\nThat all goes in that VHD.\n\n19\n00:00:53.820 --> 00:00:56.880\nBut we can also configure\na pass-through disk.\n\n20\n00:00:56.880 --> 00:01:00.420\nAnd what that means is I'm\ngonna take a physical disk and\n\n21\n00:01:00.420 --> 00:01:02.654\ngive that virtual machine access to it.\n\n22\n00:01:02.654 --> 00:01:06.320\nNow, this one is the best performance you\n\n23\n00:01:06.320 --> 00:01:08.690\ncan get because you're not\nvirtualizing anything?\n\n24\n00:01:08.690 --> 00:01:14.050\nRemember a virtual hard drive is a file\nlocated on a physical disk somewhere.\n\n25\n00:01:14.050 --> 00:01:15.560\nIf I give it a pass-through disk,\n\n26\n00:01:15.560 --> 00:01:19.970\nI'm saying you're gonna have direct\naccess to this physical hard drive?\n\n27\n00:01:19.970 --> 00:01:21.260\nAnd it's easy to do.\n\n28\n00:01:21.260 --> 00:01:24.450\nI can't do it in here because fortunately\nI don't have another drive in the server,\n\n29\n00:01:24.450 --> 00:01:26.140\nbut I wanna show where we would do that.\n\n30\n00:01:26.140 --> 00:01:32.170\nIf I pull up the settings for this virtual\nmachine I can go to my SCSI controller or\n\n31\n00:01:32.170 --> 00:01:33.830\nI could go to my ID controller.\n\n32\n00:01:33.830 --> 00:01:35.950\nEither one would actually work.\n\n33\n00:01:35.950 --> 00:01:37.700\nAnd I can add another hard drive.\n\n34\n00:01:37.700 --> 00:01:42.580\nIn fact let's go down to SCSI here and\nclick add another hard drive.\n\n35\n00:01:42.580 --> 00:01:45.730\nAnd when I do that, I'll have the option\nto create a virtual disk which is\n\n36\n00:01:45.730 --> 00:01:49.260\nnormally what we're doing,\nor a physical hard disk.\n\n37\n00:01:49.260 --> 00:01:51.870\nAnd that's how you\nconfigure a pass-through.\n\n38\n00:01:51.870 --> 00:01:56.180\nIf I had another physical drive\navailable in the Hyper V host,\n\n39\n00:01:56.180 --> 00:01:57.955\nI could give it access to that.\n\n40\n00:01:57.955 --> 00:02:03.300\nNow, couple things you're gonna do when\nyou're setting up a pass-through disk.\n\n41\n00:02:03.300 --> 00:02:08.380\nOne, the main thing is that the drive\ncannot be in use by anything else.\n\n42\n00:02:08.380 --> 00:02:09.830\nIt can't be shared, so\n\n43\n00:02:09.830 --> 00:02:13.890\nI can't set up a pass-through disk that\ntwo different virtual machines access.\n\n44\n00:02:13.890 --> 00:02:17.010\nIt also can't be in use by\nthe host operating system.\n\n45\n00:02:17.010 --> 00:02:21.490\nSo if I go and put another drive in my\nHyper-V server and I wanna use it as\n\n46\n00:02:21.490 --> 00:02:25.318\na pass-through disk, I have to go into\nDisk Management, make sure it shows up.\n\n47\n00:02:25.318 --> 00:02:28.810\nIf the Hyper-V host can't see that drive\nthen I won't be able to set it up as\n\n48\n00:02:28.810 --> 00:02:34.570\na pass-through, but it has to be showed up\nas offline in Disk Management on the host.\n\n49\n00:02:34.570 --> 00:02:36.310\nIt doesn't have to be in the host.\n\n50\n00:02:36.310 --> 00:02:40.080\nIt could be SCSI or it could be some\nother way that that's connected?\n\n51\n00:02:40.080 --> 00:02:41.790\nIt might be on a SAN somewhere.\n\n52\n00:02:41.790 --> 00:02:47.410\nThe host has to have access to it, but\nthe host has to see the drive as offline.\n\n53\n00:02:47.410 --> 00:02:50.540\nAnd once you have that when you\ncome in here, I could browse and\n\n54\n00:02:50.540 --> 00:02:52.490\nI could find those drives,\nand I could pick it.\n\n55\n00:02:52.490 --> 00:02:55.290\nAnd then the VM is gonna write\ndirectly to that hard drive,\n\n56\n00:02:55.290 --> 00:02:56.860\nrather than writing to a VHD.\n\n57\n00:02:56.860 --> 00:02:59.800\nIt is the best performance.\n\n58\n00:02:59.800 --> 00:03:02.390\nSo if you need something\nthat has requirements for\n\n59\n00:03:02.390 --> 00:03:05.825\nthat super fast disk access,\nthat is the way to go.\n\n60\n00:03:05.825 --> 00:03:08.820\n>> Yes, this is gonna be great for\nstuff like databases.\n\n61\n00:03:08.820 --> 00:03:11.330\nThey have super fast access.\n\n62\n00:03:11.330 --> 00:03:15.440\nA lot of IOs that go along with that disk\naccess when it comes to those databases so\n\n63\n00:03:15.440 --> 00:03:16.440\nprobably something you'd see there.\n\n64\n00:03:16.440 --> 00:03:21.430\nIt's interesting to know that we're kind\nof merging the two worlds of physical and\n\n65\n00:03:21.430 --> 00:03:25.460\nvirtual together and saying,\noh yes, yes, we can make this up.\n\n66\n00:03:25.460 --> 00:03:26.132\nWe can rebuild it.\n\n67\n00:03:26.132 --> 00:03:26.789\n>> [LAUGH] That's right.\n\n68\n00:03:26.789 --> 00:03:27.826\n>> Make it stronger.\n>> We have the technology.\n\n69\n00:03:27.826 --> 00:03:29.670\n[LAUGH]\n>> That's right, very cool stuff.\n\n70\n00:03:29.670 --> 00:03:32.290\n>> One of the other things they call\nout on our exam is working with\n\n71\n00:03:32.290 --> 00:03:35.640\ncheckpoints and\ncheckpoints are points in time that\n\n72\n00:03:35.640 --> 00:03:39.980\nwe can roll back to if something\nhappens on our virtual machine.\n\n73\n00:03:39.980 --> 00:03:42.410\nThey're very similar to what we used\nto use in our client operating systems,\n\n74\n00:03:42.410 --> 00:03:47.320\nour good old restore points and they can\nbe very handy in a test environment.\n\n75\n00:03:47.320 --> 00:03:48.617\nNot so much in a production environment,\n\n76\n00:03:48.617 --> 00:03:50.289\nI'll come back to that thought\nhere in just a second.\n\n77\n00:03:51.550 --> 00:03:54.470\n>> But if you're working with the server\nand you're getting ready to implement some\n\n78\n00:03:54.470 --> 00:03:59.290\nchange and you're worried that that change\nmight not work or might cause a problem.\n\n79\n00:03:59.290 --> 00:04:02.600\nYou can take a checkpoint first and\nthen if something happens,\n\n80\n00:04:02.600 --> 00:04:07.130\nif change doesn't work out,\nI can simply roll back to that checkpoint.\n\n81\n00:04:07.130 --> 00:04:10.560\nYou can take a checkpoint of\na machine that's not running and\n\n82\n00:04:10.560 --> 00:04:13.260\nthe checkpoint will include\ninformation about the state\n\n83\n00:04:13.260 --> 00:04:15.900\nof the virtual hard drive\nof that virtual machine.\n\n84\n00:04:15.900 --> 00:04:19.090\nIf you take a checkpoint on\na virtual machine that is running,\n\n85\n00:04:19.090 --> 00:04:22.910\nthe checkpoint will include the state\nof the virtual hard drives,\n\n86\n00:04:22.910 --> 00:04:24.630\nas well as the state of\nthe virtual machine.\n\n87\n00:04:24.630 --> 00:04:26.430\nThe configuration of that VM.\n\n88\n00:04:26.430 --> 00:04:28.620\nLet me show you what\ni'm talking about here.\n\n89\n00:04:28.620 --> 00:04:30.380\nSo I've got my Hyper-V Manager opened up.\n\n90\n00:04:30.380 --> 00:04:34.940\nI'm gonna simply right click on\nserver one, and choose checkpoint.\n\n91\n00:04:34.940 --> 00:04:39.820\nIt's going to whir and grind for a minute\nand it's gonna create this checkpoint.\n\n92\n00:04:39.820 --> 00:04:41.900\nNow I'm going to go back\nover to server one and\n\n93\n00:04:41.900 --> 00:04:43.592\nI'm going to make something change.\n\n94\n00:04:43.592 --> 00:04:47.650\nI'm gonna add roles and features and\nI'll real quick run through the wizard and\n\n95\n00:04:47.650 --> 00:04:50.830\nadd any old role,\ndoesn't really matter for this demo.\n\n96\n00:04:53.850 --> 00:04:55.760\nAnd we'll get that role installed.\n\n97\n00:04:55.760 --> 00:04:59.590\nNow while that role is installing, I wanna\nsee what happened to my virtual machine.\n\n98\n00:04:59.590 --> 00:05:01.240\n>> If we open up File Explorer and\n\n99\n00:05:01.240 --> 00:05:04.320\nwe go look at where that\nvirtual machine resides.\n\n100\n00:05:04.320 --> 00:05:04.900\nThere's server one.\n\n101\n00:05:04.900 --> 00:05:08.630\nYou'll see I have an AVHDX file?\n\n102\n00:05:08.630 --> 00:05:09.930\nThat is where the change is.\n\n103\n00:05:09.930 --> 00:05:12.760\nRemember it has to know what has changed\n\n104\n00:05:12.760 --> 00:05:15.670\nsince the time that I\nsaid make a checkpoint.\n\n105\n00:05:15.670 --> 00:05:17.930\nSo what it does is it just simply\nmakes a differencing drive.\n\n106\n00:05:17.930 --> 00:05:20.450\nIt says all right from this point on\n\n107\n00:05:20.450 --> 00:05:23.510\nall the changes are gonna be\nwritten to that differencing drive.\n\n108\n00:05:23.510 --> 00:05:27.410\nThat way if I decide to\nroll back to the checkpoint\n\n109\n00:05:27.410 --> 00:05:29.570\nall it has to do is throw\naway the differencing drive.\n\n110\n00:05:29.570 --> 00:05:33.140\nThat includes all the changes that\nI made since that checkpoint and\n\n111\n00:05:33.140 --> 00:05:38.720\nthen I'm back to the state of that machine\nbefore the checkpoint was created.\n\n112\n00:05:38.720 --> 00:05:41.980\nBut, that also shows you why I said\nnot good in a production environment.\n\n113\n00:05:41.980 --> 00:05:44.450\nRemember what we said about\ndifferencing in drives?\n\n114\n00:05:44.450 --> 00:05:47.560\nNow, I've got two hard drives that\nthat virtual machine has to read.\n\n115\n00:05:47.560 --> 00:05:51.380\nIf i make a second checkpoint,\nanother AVHD file gets created.\n\n116\n00:05:51.380 --> 00:05:53.540\nIf you start creating\nmultiple checkpoints,\n\n117\n00:05:53.540 --> 00:05:58.080\nyou're gonna have a lot of latency\nreading from those drives.\n\n118\n00:05:58.080 --> 00:06:00.660\nSo you can use checkpoints in\na production environment, but\n\n119\n00:06:00.660 --> 00:06:04.620\ntypically what we'll do is we'll get\nrid of them if the change worked.\n\n120\n00:06:04.620 --> 00:06:07.760\nSo if I create a checkpoint and\nI implemented change and\n\n121\n00:06:07.760 --> 00:06:10.905\nthat change didn't work out,\nI can rollback to the checkpoint.\n\n122\n00:06:10.905 --> 00:06:13.365\nThat throws away the AVHDX.\n\n123\n00:06:13.365 --> 00:06:18.215\nIf I like the change, I can just merge the\ncheckpoint back into the original drive,\n\n124\n00:06:18.215 --> 00:06:21.665\nand now I'm back to that one hard drive so\nI don't get that performance hit.\n\n125\n00:06:23.285 --> 00:06:24.395\n>> Yeah Mike,\n\n126\n00:06:24.395 --> 00:06:29.080\nI used to get the phone call from the boss\na lot just about this very thing because.\n\n127\n00:06:29.080 --> 00:06:31.810\n>> You're gonna install some software,\nmaybe do some upgrades,\n\n128\n00:06:31.810 --> 00:06:33.090\nsomething to that nature.\n\n129\n00:06:33.090 --> 00:06:37.370\nSo you take a checkpoint, making sure that\nif I do anything wrong or the software\n\n130\n00:06:37.370 --> 00:06:40.830\njust doesn't wanna play nice, I just\nroll back to that good old checkpoint.\n\n131\n00:06:40.830 --> 00:06:43.710\nWell, once you're done, you're like,\nman I spent a lot of time working on that.\n\n132\n00:06:43.710 --> 00:06:47.210\nIt was after hours,\nit was 2 AM when I finished up, well,\n\n133\n00:06:47.210 --> 00:06:48.590\nyou don't delete those check points.\n\n134\n00:06:48.590 --> 00:06:50.840\nThe next thing you know, you got\nthe boss breathing down your neck going,\n\n135\n00:06:50.840 --> 00:06:52.860\nwhy is our storage filling\nup with check points?\n\n136\n00:06:52.860 --> 00:06:55.590\nYou're like, yeah,\nI forgot to delete those, boss.\n\n137\n00:06:55.590 --> 00:06:57.020\nI'm going to get right on that for you.\n\n138\n00:06:57.020 --> 00:07:00.620\nSo you gotta remember, set yourself a\nreminder or whatever, make it part of your\n\n139\n00:07:00.620 --> 00:07:04.480\nprocedure, to once you know everything\nis working the way it's supposed to.\n\n140\n00:07:04.480 --> 00:07:07.420\nPart of that procedure is to remove\nthe checkpoints because you won't need\n\n141\n00:07:07.420 --> 00:07:08.240\nthem anymore.\n\n142\n00:07:08.240 --> 00:07:09.250\n>> Absolutely.\n\n143\n00:07:09.250 --> 00:07:10.080\nSo the role finished.\n\n144\n00:07:10.080 --> 00:07:11.760\nI'm gonna go ahead and\nclick close on that.\n\n145\n00:07:11.760 --> 00:07:15.720\nSo now this is a DNS server and\nI can see DNS is running.\n\n146\n00:07:15.720 --> 00:07:17.850\nLet's say I don't want that anymore.\n\n147\n00:07:17.850 --> 00:07:20.790\nI can come back over here and\nlet me close my connection to that guy.\n\n148\n00:07:20.790 --> 00:07:23.830\nHeck, I'm not even gonna shut it down.\n\n149\n00:07:23.830 --> 00:07:27.700\nI'm gonna right click on this and\nchoose to apply checkpoint.\n\n150\n00:07:28.790 --> 00:07:31.140\nNow are you sure you want\nto apply that checkpoint?\n\n151\n00:07:31.140 --> 00:07:34.570\nThe virtual machine's current state\nwill be lost and I'll go ahead.\n\n152\n00:07:34.570 --> 00:07:37.070\nNow you can choose create checkpoint and\n\n153\n00:07:37.070 --> 00:07:39.950\napply which is kind of\na recursive thing there.\n\n154\n00:07:39.950 --> 00:07:42.800\nYou're creating a checkpoint before\nyou roll back to a checkpoint.\n\n155\n00:07:44.010 --> 00:07:46.380\nBut I'm just gonna go ahead and\nclick apply.\n\n156\n00:07:46.380 --> 00:07:48.340\nAnd you'll see that it's\ngonna save the machine,\n\n157\n00:07:48.340 --> 00:07:50.080\nit's gonna roll it back to this point.\n\n158\n00:07:51.240 --> 00:07:52.039\nNow it says restoring.\n\n159\n00:07:55.150 --> 00:08:00.125\nAnd because the machine was running\nwhen the checkpoint was taken,\n\n160\n00:08:00.125 --> 00:08:03.550\nthen the machine should\nbe running right now.\n\n161\n00:08:03.550 --> 00:08:06.190\nIf the machine was shut down\nwhen I made the checkpoint,\n\n162\n00:08:06.190 --> 00:08:10.320\nif it was shutdown when I made\nthe checkpoint or running currently, and\n\n163\n00:08:10.320 --> 00:08:12.880\nI rolled it back to the checkpoint,\nthen it would be shut down.\n\n164\n00:08:12.880 --> 00:08:16.650\nWhatever state the machine was in\nwhen you created the checkpoint.\n\n165\n00:08:16.650 --> 00:08:18.050\nSo I'll go ahead and log in.\n\n166\n00:08:21.462 --> 00:08:24.850\nAnd you'll see that DNS\nis no longer installed.\n\n167\n00:08:24.850 --> 00:08:26.370\nSo it's like it never happened.\n\n168\n00:08:26.370 --> 00:08:28.540\nAll the changes DNS was\nactually installed,\n\n169\n00:08:28.540 --> 00:08:32.500\nbut it was being stored in that\nAVHDX file that got thrown away.\n\n170\n00:08:32.500 --> 00:08:38.610\nIf we go look at file explorer I can\ntake a look in that VM's folder.\n\n171\n00:08:38.610 --> 00:08:41.100\nOops, this is on the virtual machine.\n\n172\n00:08:41.100 --> 00:08:44.360\nLet's go into file explorer on\nthe VM host and I go into VMs and\n\n173\n00:08:44.360 --> 00:08:49.680\nI go into server one and you can\nsee that the file's still there but\n\n174\n00:08:49.680 --> 00:08:54.200\nit's no longer being used\nby that server there.\n\n175\n00:08:54.200 --> 00:08:56.058\nSo those are checkpoints.\n\n176\n00:08:56.058 --> 00:08:57.330\nGood stuff.\n\n177\n00:08:57.330 --> 00:09:02.470\nAgain, like Daniel said, they can cause an\nissue with space as well as performance,\n\n178\n00:09:02.470 --> 00:09:08.310\nso it's a good idea to get rid of\nthem if you're not going to use them.\n\n179\n00:09:08.310 --> 00:09:11.580\nYou can merge them in, you see\nthe option to delete the checkpoint.\n\n180\n00:09:11.580 --> 00:09:14.030\nNow if I no longer need that,\nI can just get rid of it.\n\n181\n00:09:15.410 --> 00:09:18.560\nIf I had a whole bunch of checkpoints I\ncan choose \"Delete check point subtree,\"\n\n182\n00:09:18.560 --> 00:09:21.319\nand it will get rid of\nall those checkpoints.\n\n183\n00:09:22.550 --> 00:09:25.350\nSo Daniel, the next thing they call\nout on the exam, or the objectives for\n\n184\n00:09:25.350 --> 00:09:28.550\nthe exam,\nis gonna be my fiber channel adapter.\n\n185\n00:09:28.550 --> 00:09:31.790\nA lot of organizations\nnow have gone to fiber.\n\n186\n00:09:31.790 --> 00:09:36.830\nIt's a very fast solution to\nconnect to our storage and\n\n187\n00:09:36.830 --> 00:09:40.190\nif we have spend all of this\nmoney on fiber channel SANS and\n\n188\n00:09:40.190 --> 00:09:44.470\nall of this, now we've decided to\ngo to a virtualized environment.\n\n189\n00:09:44.470 --> 00:09:46.210\nWhat am I supposed to do\nwith all that fiber stuff?\n\n190\n00:09:46.210 --> 00:09:47.510\nJust let it go to waste?\n\n191\n00:09:47.510 --> 00:09:50.740\n>> Yeah, no, we're definitely gonna\nmake sure we get our money's worth\n\n192\n00:09:50.740 --> 00:09:53.960\nout of that fiber channel system because,\nhey that's what it's for.\n\n193\n00:09:53.960 --> 00:09:57.640\nWe have all that speed so\nwe can increase the performance.\n\n194\n00:09:57.640 --> 00:10:01.940\nIf now our virtual environment is a\nbottleneck, well it doesn't make sense to\n\n195\n00:10:01.940 --> 00:10:05.440\ngo to a virtual environment but\nvirtualization's kind of the wave\n\n196\n00:10:05.440 --> 00:10:09.260\nof the future, so we wanna make sure that\nall these things are gonna work together.\n\n197\n00:10:09.260 --> 00:10:12.920\nMicrosoft has done that for us, they\nlooked at this and said you know what?\n\n198\n00:10:12.920 --> 00:10:15.100\nThat might be an issue, let's go ahead and\n\n199\n00:10:15.100 --> 00:10:19.370\nmake sure that our virtualization\nsoftware works well with fiber channels.\n\n200\n00:10:19.370 --> 00:10:22.830\nSo they've done that,\nthey've built it into the Hyper V System.\n\n201\n00:10:22.830 --> 00:10:25.380\nMike, all we gotta do now is know\nhow to configure it and set it up.\n\n202\n00:10:25.380 --> 00:10:26.147\n>> That's all you need.\n\n203\n00:10:26.147 --> 00:10:29.463\nNow, unfortunately I couldn't convince\nthe boss to buy us a Fiber Channel SAN.\n\n204\n00:10:29.463 --> 00:10:30.810\n>> Cheap. [LAUGH] >> And set all this up.\n\n205\n00:10:30.810 --> 00:10:33.494\nYou know that they are not that expensive.\n\n206\n00:10:33.494 --> 00:10:35.230\n>> [LAUGH]\n>> 20,000 to a 120,000.\n\n207\n00:10:35.230 --> 00:10:38.173\n>> Probably got that on me right now.\n\n208\n00:10:38.173 --> 00:10:39.246\n>> Just write you a check.\n\n209\n00:10:39.246 --> 00:10:40.540\n>> [LAUGH]\n>> Sorry, I don't have them, but\n\n210\n00:10:40.540 --> 00:10:41.990\nlet me show you where\nyou can configure this.\n\n211\n00:10:41.990 --> 00:10:48.550\nIf you go into the settings\non this virtual machine, and\n\n212\n00:10:48.550 --> 00:10:52.190\nMike's having trouble just finding\nsettings, I go to Add Hardware.\n\n213\n00:10:52.190 --> 00:10:54.750\nWe'll see that I do have\na fiber channel adaptor there.\n\n214\n00:10:54.750 --> 00:10:57.280\nNow this machines running,\nso I can't add any hardware.\n\n215\n00:10:57.280 --> 00:10:58.865\nLet me pull up another one real quick.\n\n216\n00:10:58.865 --> 00:11:04.810\nI'll go to settings, and there you\ncan see that Fibre Channel adapter.\n\n217\n00:11:04.810 --> 00:11:08.358\nThe problem is if I go to add this,\nit's gonna let me add it,\n\n218\n00:11:08.358 --> 00:11:12.335\nit's not actually gonna function, because\nthere are some requirements, and that is\n\n219\n00:11:12.335 --> 00:11:17.885\nthat the host machine actually has a fiber\nchannel HBA or a host-bussed adapter.\n\n220\n00:11:17.885 --> 00:11:21.925\nI can't virtualize one if\nthe host itself doesn't have one.\n\n221\n00:11:21.925 --> 00:11:23.755\nSo you would add your fiber channel,\n\n222\n00:11:23.755 --> 00:11:28.325\nyour host-bussed adapter fiber channel\nhost bussed adapters to your machine, and\n\n223\n00:11:28.325 --> 00:11:30.902\nthat would give you the ability to\nvirtualize it within your machines.\n\n224\n00:11:31.910 --> 00:11:35.420\n>> And now you just come into your virtual\nmachine and you add your fiber channel.\n\n225\n00:11:35.420 --> 00:11:38.420\nFiber channel adapter\nif I can say that and\n\n226\n00:11:38.420 --> 00:11:44.380\nyou could now allow your virtual machine\nto connect over fiber to that SAN.\n\n227\n00:11:44.380 --> 00:11:47.760\nSo this supports you know\nsetting up a virtual SANs,\n\n228\n00:11:47.760 --> 00:11:49.940\nlive migrations can go\nacross the fiber channel.\n\n229\n00:11:49.940 --> 00:11:52.180\nIf you got fiber between your host and\n\n230\n00:11:52.180 --> 00:11:55.090\nthings like that,\ntake advantage of that speed there.\n\n231\n00:11:55.090 --> 00:12:01.190\nDoing the Multipath Input/Output is\nsupported with the fiber channel, as well.\n\n232\n00:12:01.190 --> 00:12:04.320\nSo again, the requirements there,\nthe server does has to be running 2012.\n\n233\n00:12:04.320 --> 00:12:09.310\nThe host Machine has to be running 2012 or\nlater.\n\n234\n00:12:09.310 --> 00:12:14.060\nSo not supported in 2008 R2,\nHyper V, also have to have,\n\n235\n00:12:14.060 --> 00:12:18.940\nof course, at least one or\nmore fiber channel HBAs.\n\n236\n00:12:18.940 --> 00:12:21.510\nThe virtual machines,\nthen, we just add that\n\n237\n00:12:21.510 --> 00:12:25.410\nfiber channel adapter using these\nsettings on the virtual machine.\n\n238\n00:12:25.410 --> 00:12:31.490\nThe guest operating system has to be 2008\nor later, 2008, 2008 R2, 2012, 2012 R2.\n\n239\n00:12:31.490 --> 00:12:36.400\nAnd then we can take full advantage\nof all that money we've spent\n\n240\n00:12:36.400 --> 00:12:37.730\non that fiber channel setup.\n\n241\n00:12:37.730 --> 00:12:40.830\n>> Yeah, the good this is as you can\nsee it's not really that difficult,\n\n242\n00:12:40.830 --> 00:12:44.110\nas long as you have that HBA\ninstalled on your actual machine.\n\n243\n00:12:44.110 --> 00:12:47.800\nI hope you're noticing a trend here that\nif we want to virtualize something it\n\n244\n00:12:47.800 --> 00:12:51.150\nhelps if we actually have\nthe hardware to virtualize.\n\n245\n00:12:51.150 --> 00:12:53.040\nBut if you do have that HBA it's great.\n\n246\n00:12:53.040 --> 00:12:58.120\nYou go in there add that virtual fiber\nchannel adapter to your virtual machine,\n\n247\n00:12:58.120 --> 00:12:59.220\nconnect right in.\n\n248\n00:12:59.220 --> 00:13:00.390\nAll the settings are right there.\n\n249\n00:13:00.390 --> 00:13:03.950\nYou're gonna have all those settings\nthat you need as the tech or\n\n250\n00:13:03.950 --> 00:13:07.180\nthe administrator or whatever you are,\nand you just pop them right in, and\n\n251\n00:13:07.180 --> 00:13:09.930\nconnect up,\ntake advantage of that great speed.\n\n252\n00:13:09.930 --> 00:13:11.880\nNow Mike, have we gotten\nanything else we gotta go over?\n\n253\n00:13:11.880 --> 00:13:14.174\n>> We do.\nOne more thing I wanna talk about that\n\n254\n00:13:14.174 --> 00:13:17.904\nthey're gonna call on the exam is\nthat is using quality of service for\n\n255\n00:13:17.904 --> 00:13:19.982\nour storage in our virtual machines.\n\n256\n00:13:19.982 --> 00:13:22.860\nQOS, if you're familiar with that term,\nquality of service.\n\n257\n00:13:22.860 --> 00:13:27.616\nA lot of times when you think about it\nwith network traffic, shaping traffic,\n\n258\n00:13:27.616 --> 00:13:29.900\nlimiting a certain type of traffic.\n\n259\n00:13:29.900 --> 00:13:32.480\nSo then take up all the bandwidth.\n\n260\n00:13:32.480 --> 00:13:35.010\n>> We can do a very similar\nprocess here with the storage.\n\n261\n00:13:35.010 --> 00:13:37.684\n>> The storage a lot of times\nis gonna be shared storage,\n\n262\n00:13:37.684 --> 00:13:40.970\nthat's gonna be a SAN of some kind or\nsomething like that.\n\n263\n00:13:40.970 --> 00:13:42.620\nAnd I've gotta make sure,\n\n264\n00:13:42.620 --> 00:13:45.690\nthere's a couple things I can do with\nthe quality of service settings.\n\n265\n00:13:45.690 --> 00:13:48.840\nI can specify the maximum\ninput/outputs per second,\n\n266\n00:13:48.840 --> 00:13:52.040\nor IOPs per second,\nthat a virtual machine is allowed to do.\n\n267\n00:13:52.040 --> 00:13:54.910\nThis is very handy in a tenant situation.\n\n268\n00:13:54.910 --> 00:13:59.580\nLike if I'm a service provider, I don't\nwant one of my customer's virtual machines\n\n269\n00:13:59.580 --> 00:14:03.280\nhammering our storage solution,\ntaking up all of that and\n\n270\n00:14:03.280 --> 00:14:06.980\ncausing a performance issue for\nother virtual machines.\n\n271\n00:14:06.980 --> 00:14:10.150\nSo maybe I wanna set a maximum\ninput/output per second\n\n272\n00:14:10.150 --> 00:14:10.900\non a particular VM.\n\n273\n00:14:10.900 --> 00:14:13.585\nI can also set a minimum IOP or\n\n274\n00:14:13.585 --> 00:14:16.730\ninput/output per second\non a virtual machine.\n\n275\n00:14:16.730 --> 00:14:20.710\nMaybe I've got a service level\nagreement that says this is the least,\n\n276\n00:14:20.710 --> 00:14:23.290\nthis is the minimum that\nwe're gonna provide you.\n\n277\n00:14:23.290 --> 00:14:25.180\nWe're always gonna give you at least this,\nso\n\n278\n00:14:25.180 --> 00:14:29.360\nI can set that minimum\nIOPs to control that.\n\n279\n00:14:29.360 --> 00:14:32.120\nYou can also,\nwhen you set up a quality of service,\n\n280\n00:14:32.120 --> 00:14:37.570\nit does expose certain metrics that\nwe can access for seeing how much\n\n281\n00:14:37.570 --> 00:14:42.440\nthat virtual machine is writing, or what\nkind of input/output it's actually doing.\n\n282\n00:14:42.440 --> 00:14:46.690\nThose get exposed through WMI, or\nmy Windows Management Instrumentation.\n\n283\n00:14:46.690 --> 00:14:48.910\nI'm gonna show you where\nthose settings are.\n\n284\n00:14:48.910 --> 00:14:53.250\nIf I pull up the properties of one\nof these Virtual Machines here,\n\n285\n00:14:53.250 --> 00:14:56.670\nI'll see that I can go\nto the hard drive and\n\n286\n00:14:56.670 --> 00:14:59.090\nthose are the little plus\nsign next to the hard drive.\n\n287\n00:14:59.090 --> 00:15:02.790\nIf I expand that out I\nhave advanced features and\n\n288\n00:15:02.790 --> 00:15:05.510\nthis is where I can do\nmy qualitative service.\n\n289\n00:15:05.510 --> 00:15:06.700\nI simply have to turn it on.\n\n290\n00:15:06.700 --> 00:15:09.170\nEnable quality of service management and\n\n291\n00:15:09.170 --> 00:15:12.280\nthere's my minimum\nsettings that I can set.\n\n292\n00:15:12.280 --> 00:15:14.630\nAnd there's my maximum\nsettings that I can set.\n\n293\n00:15:15.720 --> 00:15:17.570\nAnd that's it,\nall I have to do is turn that on.\n\n294\n00:15:17.570 --> 00:15:19.410\nThat is a per machine basis.\n\n295\n00:15:19.410 --> 00:15:21.530\nSo any machine that I want to control or\n\n296\n00:15:21.530 --> 00:15:25.925\nuse that quality of service on, I'm gonna\nhave to come in here and change these.\n\n297\n00:15:25.925 --> 00:15:27.325\nOf course I guess we\ncould use PowerShell and\n\n298\n00:15:27.325 --> 00:15:30.965\nScripted but it does have to be\ndone on a per machine basis.\n\n299\n00:15:30.965 --> 00:15:34.745\n>> Yeah, this is great because\nyou're gonna have multiple different\n\n300\n00:15:34.745 --> 00:15:37.335\ntypes of servers in your environment.\n\n301\n00:15:37.335 --> 00:15:41.265\nAnd especially if you're working almost\nexclusively in a virtual environment\n\n302\n00:15:41.265 --> 00:15:44.585\nyou're gonna not need\nthe same amount of IOPs for\n\n303\n00:15:44.585 --> 00:15:49.860\njust maybe some third-party app that gets\nused by four people in your company.\n\n304\n00:15:49.860 --> 00:15:54.150\nWhereas a database might be being used\nby almost everybody in the company.\n\n305\n00:15:54.150 --> 00:15:57.010\nDatabases tend to use a lot of reads and\nwrites.\n\n306\n00:15:57.010 --> 00:16:00.340\nMight wanna set that quality of service a\nlittle bit higher, and I say a little bit,\n\n307\n00:16:00.340 --> 00:16:03.300\nI probably mean a lot of bit\nhigher when it comes to that guy.\n\n308\n00:16:03.300 --> 00:16:06.150\nAs where some third party app\nwho gets hit and miss here and\n\n309\n00:16:06.150 --> 00:16:09.040\nthere throughout a day doesn't\nneed that level of service.\n\n310\n00:16:09.040 --> 00:16:12.530\nSo you can keep it from\ntaking up all that time and\n\n311\n00:16:12.530 --> 00:16:17.230\nresource and let that go to\nthe services that actually need it.\n\n312\n00:16:17.230 --> 00:16:19.020\nThis is a good feature of Hyper V, Mike.\n\n313\n00:16:19.020 --> 00:16:21.170\n>> It really is it's something\nthat they've added recently and\n\n314\n00:16:21.170 --> 00:16:22.991\nit does help especially in\nthose share types environments.\n\n315\n00:16:24.040 --> 00:16:27.170\n>> Where I gotta make sure that\neveryone of my customers is getting\n\n316\n00:16:27.170 --> 00:16:30.400\nthe appropriate level services on\nthe machines that I'm hosting for them.\n\n317\n00:16:30.400 --> 00:16:31.825\n>> Yeah, very cool stuff.\n\n318\n00:16:31.825 --> 00:16:34.060\nWe're taking a look Mike,\nhave we missed anything?\n\n319\n00:16:34.060 --> 00:16:35.570\nI hope we haven't skipped anything.\n\n320\n00:16:35.570 --> 00:16:37.880\n>> I think we've covered just about\neverything we need for this exam.\n\n321\n00:16:37.880 --> 00:16:39.980\n>> A lot of good stuff though\nin this virtualization.\n\n322\n00:16:39.980 --> 00:16:42.090\nIt's definitely a really cool thing.\n\n323\n00:16:42.090 --> 00:16:45.850\nSo check out this episode multiple times,\nlook it up previous episodes as well.\n\n324\n00:16:45.850 --> 00:16:48.760\nGo over them, get really comfortable\nwith those settings where they are.\n\n325\n00:16:48.760 --> 00:16:52.740\nBe able to just off the top of your head,\npick out where that stuff lies, so\n\n326\n00:16:52.740 --> 00:16:54.150\nthat you can set those settings.\n\n327\n00:16:54.150 --> 00:16:57.210\nAsking you to think about on the exam,\nwell you're ready to go.\n\n328\n00:16:57.210 --> 00:16:59.320\nSo we're gonna go ahead and\nwrap up this episode then.\n\n329\n00:16:59.320 --> 00:17:00.850\nSigning off for ITProTV.\n\n330\n00:17:00.850 --> 00:17:02.840\nI've been your host Daniel Lowry.\n\n331\n00:17:02.840 --> 00:17:03.540\n>> And I'm Mike Roderick.\n\n332\n00:17:03.540 --> 00:17:10.277\n>> And we'll see you next time,\n>> [SOUND]\n\n",
          "vimeoId": "137598727"
        },
        {
          "description": "In this episode Daniel and Mike explain the use of virtual networks. Mike begins with an explanation of the different types of virtual switches. He also explains how to set static MAC addresses.",
          "length": "1374",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-9-1-virtual_networks-082815-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-9-1-virtual_networks-082815-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-9-1-virtual_networks-082815-1-sm.jpg",
          "title": "Virtual Networks",
          "transcript": "WEBVTT\n\n1\n00:00:00.749 --> 00:00:10.688\n[MUSIC]\n\n2\n00:00:10.688 --> 00:00:15.388\nAll right, greetings everyone, and welcome\nto another fantastic episode Of ItProTV,\n\n3\n00:00:15.388 --> 00:00:17.090\nI'm your host, Daniel Lowry.\n\n4\n00:00:17.090 --> 00:00:18.620\nHere with me is Mr. Mike Roderick.\n\n5\n00:00:18.620 --> 00:00:20.010\nHow's it going today Mike?\n\n6\n00:00:20.010 --> 00:00:21.580\n>> Oh, its going fantastic Daniel.\n\n7\n00:00:21.580 --> 00:00:22.450\nI'm excited to be here.\n\n8\n00:00:22.450 --> 00:00:24.390\nWe're continuing on with our 7410 series,\n\n9\n00:00:24.390 --> 00:00:29.160\nand in this one we are going to be\ntalking about virtual networks.\n\n10\n00:00:29.160 --> 00:00:30.930\nWe have done a lot with Hyper-V already,\n\n11\n00:00:30.930 --> 00:00:33.930\nand are now continuing on with that and\nvirtual networks,\n\n12\n00:00:33.930 --> 00:00:37.480\nI mean, without that our virtual\nmachines are pretty useless, really.\n\n13\n00:00:37.480 --> 00:00:38.068\nDon't you think?\n\n14\n00:00:38.068 --> 00:00:41.250\nThey're not gonna do a whole lot if you\ncan't attach these virtual machines\n\n15\n00:00:41.250 --> 00:00:43.630\nto a network,\nmake them talk to other stuff.\n\n16\n00:00:43.630 --> 00:00:45.130\nWell, because that's the way it's going.\n\n17\n00:00:45.130 --> 00:00:47.180\nWe want to have a virtualized environment.\n\n18\n00:00:47.180 --> 00:00:49.790\nVirtualized operating system,\nvirtualized hardware.\n\n19\n00:00:49.790 --> 00:00:52.000\nWell, let's virtualize that network, too.\n\n20\n00:00:52.000 --> 00:00:53.820\nIf I build all these virtual machines and\n\n21\n00:00:53.820 --> 00:00:58.190\nI can't attach them to my actual network,\nthey're not gonna do me a lot of good.\n\n22\n00:00:58.190 --> 00:00:59.400\nSo we gotta have a way to do that.\n\n23\n00:00:59.400 --> 00:01:01.020\nMicrosoft solves that problem for\n\n24\n00:01:01.020 --> 00:01:04.430\nus through their network\nvirtualization in the Hyper-V console.\n\n25\n00:01:04.430 --> 00:01:05.950\nMike, you're gonna walk us through this.\n\n26\n00:01:05.950 --> 00:01:07.340\nMake us networking champions.\n\n27\n00:01:07.340 --> 00:01:08.760\n>> Oh, yeah, that's the goal, anyway.\n\n28\n00:01:08.760 --> 00:01:10.150\nYeah, it really is amazing.\n\n29\n00:01:10.150 --> 00:01:15.550\nWe've got the network virtualization now\nand it gives us the ability to reconfigure\n\n30\n00:01:15.550 --> 00:01:18.320\nnetworks without having to touch\nthe actual cabling and things like that.\n\n31\n00:01:18.320 --> 00:01:19.710\nAnd it just makes sense right?\n\n32\n00:01:19.710 --> 00:01:22.910\nAll of our machines are virtual,\nwe're connecting them then to\n\n33\n00:01:22.910 --> 00:01:26.860\nvirtual networks and again\nthe flexibility that you get it just,\n\n34\n00:01:26.860 --> 00:01:29.412\nit's pretty easy to work\nwith once you figure it out.\n\n35\n00:01:29.412 --> 00:01:31.400\nAll right so let's dive in and\ntake a look at it.\n\n36\n00:01:31.400 --> 00:01:34.060\nFirst thing I want to talk about is just\nthe different types of networks that\n\n37\n00:01:34.060 --> 00:01:36.390\nare available within Hyper-V.\n\n38\n00:01:36.390 --> 00:01:37.410\nSo I'm going to come over here,\n\n39\n00:01:37.410 --> 00:01:40.610\nI've got my Hyper-V manager\nopened up on my VM host.\n\n40\n00:01:40.610 --> 00:01:45.390\nAnd over here on the righthand side I'm\ngoing to click on virtual switch manager.\n\n41\n00:01:45.390 --> 00:01:48.100\nAnd that's going to open up\nthis little dialogue box here.\n\n42\n00:01:48.100 --> 00:01:50.350\nI don't have any virtual networks yet.\n\n43\n00:01:50.350 --> 00:01:51.582\nThat's what we're going to do.\n\n44\n00:01:51.582 --> 00:01:55.030\nAll right, so the first thing\nI want to talk about then is\n\n45\n00:01:55.030 --> 00:01:57.070\nthe three different types\nof networks I see here.\n\n46\n00:01:57.070 --> 00:02:01.310\nThat's gonna be what type of virtual\nswitch do you want to create.\n\n47\n00:02:01.310 --> 00:02:04.860\nI can create an external,\ninternal, or private.\n\n48\n00:02:04.860 --> 00:02:06.660\nLet's kind of go through those there.\n\n49\n00:02:06.660 --> 00:02:11.490\nThe external means it's, when you\ncreate an external virtual switch,\n\n50\n00:02:11.490 --> 00:02:14.300\nthat external switch is gonna get bound to\n\n51\n00:02:14.300 --> 00:02:18.210\na physical network adapter\nin that VM host, all right?\n\n52\n00:02:18.210 --> 00:02:23.060\nAnd what that means is if I connect\nvirtual machines to that virtual switch,\n\n53\n00:02:23.060 --> 00:02:27.680\nthat external virtual switch, they're\ngonna have access to the physical network.\n\n54\n00:02:27.680 --> 00:02:28.560\nSo, with that external,\n\n55\n00:02:28.560 --> 00:02:34.120\nonce I attach that virtual machine to the\nexternal virtual switch that I've created,\n\n56\n00:02:34.120 --> 00:02:37.570\nthat's gonna give the VM access\nto the physical network.\n\n57\n00:02:37.570 --> 00:02:42.690\nThat means we could give it internet\naccess, it could connect to other virtual\n\n58\n00:02:42.690 --> 00:02:45.460\nmachines that are connected\nto that same virtual switch.\n\n59\n00:02:45.460 --> 00:02:47.870\nIt can talk to the VM host itself,\n\n60\n00:02:47.870 --> 00:02:50.570\nthe physical machine that's\nhosting the virtuals.\n\n61\n00:02:50.570 --> 00:02:52.870\nIt can talk to to other clients or\nother virtual machines.\n\n62\n00:02:52.870 --> 00:02:57.500\nSo for example, if you're running a DHCP\nserver as a virtual server, right,\n\n63\n00:02:57.500 --> 00:03:00.550\nor as a Hyper-V server here.\n\n64\n00:03:00.550 --> 00:03:03.950\nClients, physical machines on your\nnetwork, sitting in all the office,\n\n65\n00:03:03.950 --> 00:03:04.710\nthe cubicles,\n\n66\n00:03:04.710 --> 00:03:07.500\nthey have to be able to connect to that\nmachine to get their IP address, right?\n\n67\n00:03:07.500 --> 00:03:11.088\nSo that means that virtual machine needs\nto be able to connect to the actual,\n\n68\n00:03:11.088 --> 00:03:12.350\nphysical network.\n\n69\n00:03:12.350 --> 00:03:15.574\nThat's the type of switch that\nwe would use, is that external.\n\n70\n00:03:15.574 --> 00:03:21.444\nInternal is not bound to a physical\nnetwork adapter in the virtual host,\n\n71\n00:03:21.444 --> 00:03:25.510\nor the VM host,\nthe physical server, all right?\n\n72\n00:03:25.510 --> 00:03:30.740\nAn internal virtual switch,\nif I connect a virtual machine to that,\n\n73\n00:03:30.740 --> 00:03:35.360\nit's gonna have access to other virtual\nmachines that are connected to that same\n\n74\n00:03:35.360 --> 00:03:41.274\ninternal switch, as well as the host\nmachine, the one that's running Hyper-V.\n\n75\n00:03:41.274 --> 00:03:43.750\nBut not to the physical network, so\n\n76\n00:03:43.750 --> 00:03:47.900\nclients on my network couldn't connect to\nthat virtual server at that point, right?\n\n77\n00:03:47.900 --> 00:03:52.890\nOr, we can do a private network or\na private virtual switch.\n\n78\n00:03:52.890 --> 00:03:55.490\nA private virtual switch is just that.\n\n79\n00:03:55.490 --> 00:03:59.360\nIt's private to just the VMs,\nnot even the host,\n\n80\n00:03:59.360 --> 00:04:04.100\nthe one running Hyper-V, is going to be\ntalking to that private virtual switch.\n\n81\n00:04:04.100 --> 00:04:06.750\nSo it's not bound to\na physical network adapter.\n\n82\n00:04:06.750 --> 00:04:08.870\nAnd it's limited to just the VMs.\n\n83\n00:04:08.870 --> 00:04:12.170\nSo we'll talk more about where\nwe might wanna use that, but\n\n84\n00:04:12.170 --> 00:04:15.910\nit's a way that we can isolate\nthat virtual machine traffic.\n\n85\n00:04:15.910 --> 00:04:16.502\nAll right?\nSo\n\n86\n00:04:16.502 --> 00:04:18.550\nI got three different\ntypes that we can create.\n\n87\n00:04:18.550 --> 00:04:20.510\nAnd let's go ahead and create some.\n\n88\n00:04:20.510 --> 00:04:26.000\nAnd we're gonna see what it does here in\nHyper-V, as well as on my host machine.\n\n89\n00:04:26.000 --> 00:04:30.090\nNow I'm gonna go ahead and pull up my\nnetwork connections on my host machine,\n\n90\n00:04:30.090 --> 00:04:32.120\nif I can get my mouse to play along.\n\n91\n00:04:33.600 --> 00:04:37.820\nAnd right now I've got two physical\nnetwork adaptors in that host machine.\n\n92\n00:04:37.820 --> 00:04:39.400\nNow one of them doesn't have\na cable plugged into it.\n\n93\n00:04:39.400 --> 00:04:42.050\nTalk a little bit more about\nthat in just a second, but\n\n94\n00:04:42.050 --> 00:04:44.280\njust to show you what I've got.\n\n95\n00:04:44.280 --> 00:04:45.160\nI'm gonna go ahead and create,\n\n96\n00:04:45.160 --> 00:04:48.970\nthe first one I'm gonna create is\ngonna be an external virtual switch.\n\n97\n00:04:48.970 --> 00:04:50.780\nSo I'll select external, and it tells you,\n\n98\n00:04:50.780 --> 00:04:53.630\nif you guys forget what I was just\ntelling you, it tells you right here,\n\n99\n00:04:53.630 --> 00:04:57.280\nbinds it to a physical network adaptor,\nso they can access a physical network.\n\n100\n00:04:57.280 --> 00:04:59.240\nOf course you won't have that in the exam,\nso\n\n101\n00:04:59.240 --> 00:05:01.530\ntry to remember what I just told you,\nall right?\n\n102\n00:05:01.530 --> 00:05:04.080\nSo, I'm gonna go ahead and\nclick create virtual switch.\n\n103\n00:05:04.080 --> 00:05:10.740\nAnd I'll give it a name, I'm gonna call\nthis external one, just for giggles.\n\n104\n00:05:10.740 --> 00:05:12.800\nAnd then down below I've\ngot my external network.\n\n105\n00:05:12.800 --> 00:05:16.690\nNow, interesting thing about this wizard,\nright, I picked external and\n\n106\n00:05:16.690 --> 00:05:18.500\nthen I chose to create the switch.\n\n107\n00:05:18.500 --> 00:05:21.060\nWhen I come into here I can\nsee those radio buttons,\n\n108\n00:05:21.060 --> 00:05:23.510\nexternal, internal and private.\n\n109\n00:05:23.510 --> 00:05:26.410\nAnd yes I could,\neven though I selected external and\n\n110\n00:05:26.410 --> 00:05:30.190\nthen create switch, once I've got to this\nscreen, I can create internal or private.\n\n111\n00:05:30.190 --> 00:05:34.160\nIt doesn't really matter which one\nyou're on when you first start.\n\n112\n00:05:34.160 --> 00:05:37.390\nI don't know why that is, but\nthat's just the way it is, so.\n\n113\n00:05:37.390 --> 00:05:40.160\nBut it is nice that they give you\na description of each one as you\n\n114\n00:05:40.160 --> 00:05:42.480\nclick on them, so\nmaybe that's why they did that.\n\n115\n00:05:42.480 --> 00:05:43.720\nSo I'll choose External.\n\n116\n00:05:43.720 --> 00:05:44.910\nNow I've got two choices, right?\n\n117\n00:05:44.910 --> 00:05:48.930\nI've got two physical network\nadapters in that host machine.\n\n118\n00:05:48.930 --> 00:05:50.730\nI'm gonna call it VM Host from now on.\n\n119\n00:05:50.730 --> 00:05:54.530\nThat's VM Host is the one that's\nhosting these virtual servers and\n\n120\n00:05:54.530 --> 00:05:55.530\nvirtual machines.\n\n121\n00:05:55.530 --> 00:05:56.800\nThat's the one that's running Hyper-V.\n\n122\n00:05:56.800 --> 00:05:57.940\nAll right?\n\n123\n00:05:57.940 --> 00:06:00.450\nNow, here's one of the things\nyou've gotta keep in mind\n\n124\n00:06:00.450 --> 00:06:03.840\nwhen you're setting up an external\nnetwork virtual switch.\n\n125\n00:06:03.840 --> 00:06:04.530\nAll right?\n\n126\n00:06:04.530 --> 00:06:10.600\nIt will disrupt your communications on\nthat physical network adapter temporarily.\n\n127\n00:06:10.600 --> 00:06:15.730\nSo, if this guy's a production machine and\nyou're using that network adapter for\n\n128\n00:06:15.730 --> 00:06:18.680\nother things, maybe someone's\nremoted into that VM host or\n\n129\n00:06:18.680 --> 00:06:21.710\nthat VM host is providing other services.\n\n130\n00:06:21.710 --> 00:06:25.340\nWhen you create an external switch\nlike this it's going to temporarily\n\n131\n00:06:25.340 --> 00:06:26.750\ndisrupt those communications.\n\n132\n00:06:26.750 --> 00:06:31.820\nCuz what's it's gonna do,\nis it's gonna create this virtual switch,\n\n133\n00:06:31.820 --> 00:06:33.950\nbind it to that physical network adapter,\nand\n\n134\n00:06:33.950 --> 00:06:37.140\nthen it moves all the protocols\nover to that virtual switch.\n\n135\n00:06:37.140 --> 00:06:40.730\nAnd the only thing left on\nthe physical adapter is actually\n\n136\n00:06:40.730 --> 00:06:43.380\na virtual machine protocol.\n\n137\n00:06:43.380 --> 00:06:44.920\nAnd I'll show you what I mean here.\n\n138\n00:06:44.920 --> 00:06:48.890\nSo I'm gonna make sure I'm\nremoted into VM Host right now.\n\n139\n00:06:48.890 --> 00:06:51.970\nSo I wanna make sure I\nchoose the one that's not\n\n140\n00:06:51.970 --> 00:06:53.880\nthe one that I'm not using to connect to,\nright.\n\n141\n00:06:53.880 --> 00:06:56.120\nCuz all of a sudden I\nwould lose connectivity.\n\n142\n00:06:56.120 --> 00:07:00.110\nIt doesn't take long, 15 seconds or\nsomething like that for it to do it.\n\n143\n00:07:00.110 --> 00:07:02.470\nBut in a production environment\nthat could be critical, right?\n\n144\n00:07:02.470 --> 00:07:05.510\nYou could bring something down,\nyou interrupt those services and\n\n145\n00:07:05.510 --> 00:07:06.240\nthat could cause a problem.\n\n146\n00:07:06.240 --> 00:07:07.410\nSo, something to keep in mind.\n\n147\n00:07:08.420 --> 00:07:09.950\nSo let's use Intel Pro.\n\n148\n00:07:09.950 --> 00:07:12.290\nThat's the one I'm not\ncurrently connected to.\n\n149\n00:07:12.290 --> 00:07:15.260\nAnd I'm gonna go ahead and click OK.\n\n150\n00:07:15.260 --> 00:07:18.540\nAll right, and\nit gives you a big fat warning.\n\n151\n00:07:18.540 --> 00:07:21.190\nHey, this could interrupt\nyour communications.\n\n152\n00:07:21.190 --> 00:07:22.695\nWe'll say yes, we're aware of that.\n\n153\n00:07:24.461 --> 00:07:25.772\nAnd now I've got a new switch.\n\n154\n00:07:25.772 --> 00:07:28.301\nAnd if I go over to my\nnetwork connections,\n\n155\n00:07:28.301 --> 00:07:30.620\nI did leave that open I thought.\n\n156\n00:07:30.620 --> 00:07:34.990\nThere it is, we'll see that I've\ngot a new vEthernet, External1.\n\n157\n00:07:34.990 --> 00:07:36.700\nThat's the name I gave it.\n\n158\n00:07:36.700 --> 00:07:38.010\nAnd right now it's trying to identify.\n\n159\n00:07:38.010 --> 00:07:40.782\nAnd if I right-click on it and\npull up its Properties.\n\n160\n00:07:40.782 --> 00:07:44.940\nI'll see this is where all my\nprotocols are bound, IPv6, v4,\n\n161\n00:07:44.940 --> 00:07:48.060\nmy link layer, all of that is bound here.\n\n162\n00:07:48.060 --> 00:07:51.374\nIf I take a look at my actual\nphysical adapters properties,\n\n163\n00:07:51.374 --> 00:07:53.045\nnotice everything's gone.\n\n164\n00:07:53.045 --> 00:07:57.190\nOnly thing that's left is the Hyper-V\nextensible virtual switch.\n\n165\n00:07:57.190 --> 00:08:00.790\nSo that's what's happening\nwhen you create that, and\n\n166\n00:08:00.790 --> 00:08:05.768\nyou can only bind one External virtual\nswitch to a physical network adapter,\n\n167\n00:08:05.768 --> 00:08:11.090\nso I couldn't create another one and\nbind it to that same network adapter.\n\n168\n00:08:11.090 --> 00:08:14.990\nSo now that I've got that external switch,\nat this point I could connect, I'll\n\n169\n00:08:14.990 --> 00:08:19.400\nleave that open here for a little bit, and\nI can go connect one of my machines to it.\n\n170\n00:08:20.680 --> 00:08:21.910\nNow this guy, let's see here.\n\n171\n00:08:21.910 --> 00:08:23.810\nIf we pull up the settings.\n\n172\n00:08:23.810 --> 00:08:28.080\nI can come in here to the network\nadapter and I can choose to connect.\n\n173\n00:08:28.080 --> 00:08:31.270\nNotice it shows up on my list,\nI can connect this guy to there.\n\n174\n00:08:31.270 --> 00:08:33.520\nNow with these virtual machines, I think\nwe went over this on our other show,\n\n175\n00:08:33.520 --> 00:08:37.690\nkeep in mind I can't add network adapters\nwhile the virtual machine is running.\n\n176\n00:08:37.690 --> 00:08:41.150\nJust like you couldn't pop in a new\nnetwork adapter on a physical machine that\n\n177\n00:08:41.150 --> 00:08:45.700\nwas running, but I can change what network\nit's connected to while it's running.\n\n178\n00:08:45.700 --> 00:08:50.696\n>> So, Mike, for each one of the external\nnetworks that we create and that we attach\n\n179\n00:08:50.696 --> 00:08:55.711\na virtual adapter to an actual adapter,\nthey have to be a one to one correlation.\n\n180\n00:08:55.711 --> 00:08:57.850\nI can't do like three or can I?\n\n181\n00:08:57.850 --> 00:09:02.845\nWith three virtual adapters on one adapter\nwith an external network, can we do that?\n\n182\n00:09:02.845 --> 00:09:04.664\n>> Wait, say that again,\nI think I lost you there for a second.\n\n183\n00:09:04.664 --> 00:09:05.217\n>> [LAUGH] Yeah, no problem.\n\n184\n00:09:05.217 --> 00:09:08.017\n>> [LAUGH]\n>> It gets a little confusing, ladies and\n\n185\n00:09:08.017 --> 00:09:08.595\ngentlemen.\n\n186\n00:09:08.595 --> 00:09:11.365\nThis virtualization gets kind\nof up in the air a little bit.\n\n187\n00:09:11.365 --> 00:09:14.545\nSo let's say I had three virtual\nmachines on my virtual network.\n\n188\n00:09:14.545 --> 00:09:18.820\nI've created one external virtual switch.\n\n189\n00:09:18.820 --> 00:09:19.960\nAm I able to connect, and\n\n190\n00:09:19.960 --> 00:09:24.380\nI only have one actual hardware adapter\nin the box with the virtualization on it.\n\n191\n00:09:24.380 --> 00:09:28.470\nCan I attach all three of those virtual\nmachines to that external switch and\n\n192\n00:09:28.470 --> 00:09:30.625\nthen go through there, or\ndo they need their own adapters?\n\n193\n00:09:30.625 --> 00:09:31.920\n>> No, you can connect multiple ones.\n\n194\n00:09:31.920 --> 00:09:32.770\n>> Awesome.\n>> Like, I'll go ahead and\n\n195\n00:09:32.770 --> 00:09:37.410\nconnect this guy to it I'll click OK,\nand then I could go to\n\n196\n00:09:37.410 --> 00:09:42.280\nserver two's settings, and\nI could connect him to that guy as well.\n\n197\n00:09:42.280 --> 00:09:44.090\nAll right, we're gonna Undo.\n\n198\n00:09:44.090 --> 00:09:45.940\nWe're gonna talk about VLAN\nhere in just a little bit.\n\n199\n00:09:45.940 --> 00:09:47.220\nSo, I can definitely\nconnect more than one.\n\n200\n00:09:47.220 --> 00:09:51.810\nIn fact, you typically do connect\nmore than one machine to that, and\n\n201\n00:09:51.810 --> 00:09:53.470\nwe're gonna talk about\nnetwork optimization,\n\n202\n00:09:53.470 --> 00:09:56.600\ncuz that's a good question\nto bring up then, as well.\n\n203\n00:09:56.600 --> 00:09:58.270\nAll right, so that's my external network.\n\n204\n00:09:58.270 --> 00:09:58.880\nEasy enough.\n\n205\n00:09:58.880 --> 00:10:04.790\nNow what I wanna try to\ndo is create another one.\n\n206\n00:10:04.790 --> 00:10:08.400\nLet's go to,\nback into my virtual switch manager.\n\n207\n00:10:08.400 --> 00:10:11.490\nAnd let's see,\nlet's create an internal switch.\n\n208\n00:10:11.490 --> 00:10:12.130\nAll right?\n\n209\n00:10:12.130 --> 00:10:13.880\nSo I'll choose Internal.\n\n210\n00:10:13.880 --> 00:10:15.870\nCreate Virtual Switch.\n\n211\n00:10:15.870 --> 00:10:19.410\nAnd I'm gonna call this one Internal1.\n\n212\n00:10:21.660 --> 00:10:23.770\nInternal network is selected there.\n\n213\n00:10:23.770 --> 00:10:27.798\nAnd I'll go ahead and click OK.\n\n214\n00:10:27.798 --> 00:10:31.346\nNow, if we take a look at\nmy network connections,\n\n215\n00:10:31.346 --> 00:10:34.554\nnotice I have a new network adapter,\nright,\n\n216\n00:10:34.554 --> 00:10:39.660\nlisted in my network connections there,\nthat V ethernet Internal1.\n\n217\n00:10:39.660 --> 00:10:42.310\nThe reason that shows up in there is,\nbecause remember, even though it's not\n\n218\n00:10:42.310 --> 00:10:48.230\nbound to a physical network adapter,\nthe host can communicate across that.\n\n219\n00:10:48.230 --> 00:10:52.220\nSo, it shows up in here just like any\nother network adapter as far as the host,\n\n220\n00:10:52.220 --> 00:10:57.130\nthe VM host is concerned, but I can go and\nI can connect my machines to that as well.\n\n221\n00:10:57.130 --> 00:11:00.765\nIf I go back over to my server manager,\n[COUGH],\n\n222\n00:11:00.765 --> 00:11:05.616\npull up the Settings for server01,\nand I can go down here and\n\n223\n00:11:05.616 --> 00:11:10.209\nswitch him over to Internal1,\ncould Apply that change.\n\n224\n00:11:11.360 --> 00:11:15.040\nSwitch over to server two and\nI can connect him as well.\n\n225\n00:11:15.040 --> 00:11:19.947\nSo I can again,\nconnect more than one virtual machine to\n\n226\n00:11:19.947 --> 00:11:22.812\nthat virtual switch, all right.\n\n227\n00:11:22.812 --> 00:11:25.851\nThat would allow those two virtual\nmachines, and we'll test it out here in\n\n228\n00:11:25.851 --> 00:11:29.294\na minute, we'll start throwing some pings\nback and forth just to see what happens.\n\n229\n00:11:29.294 --> 00:11:32.938\nBut now the two virtual machines,\nthe two virtual servers I have,\n\n230\n00:11:32.938 --> 00:11:36.259\nserver one, server two could\ncommunicate with each other,\n\n231\n00:11:36.259 --> 00:11:38.947\nas well as communicate with VM host,\nall right.\n\n232\n00:11:38.947 --> 00:11:41.645\nAll right, so\nI'm going to ping that other server svr02.\n\n233\n00:11:42.990 --> 00:11:45.880\nAnd there we go, they're able to\ncommunicate because they're both connected\n\n234\n00:11:45.880 --> 00:11:47.640\nto that same internal network.\n\n235\n00:11:47.640 --> 00:11:51.867\nAnd remember, an internal network will let\nyou communicate with the VM host as well,\n\n236\n00:11:51.867 --> 00:11:52.876\nthe Hyper V server.\n\n237\n00:11:52.876 --> 00:12:00.376\nSo if I try to ping that guy, which is\n10.1.2.200, I don't get any response.\n\n238\n00:12:00.376 --> 00:12:03.368\nCuz wait, Mike, didn't you just tell\nme they should be able to communicate\n\n239\n00:12:03.368 --> 00:12:05.010\nwith a host, as well as other VMs?\n\n240\n00:12:05.010 --> 00:12:08.780\nThey can, but you've gotta remember\nto set the properties on the VM host.\n\n241\n00:12:08.780 --> 00:12:12.710\nRemember, when we set up this network\nit created that virtual switch\n\n242\n00:12:12.710 --> 00:12:16.200\nthat showed up in my network\nadapter settings on the host.\n\n243\n00:12:16.200 --> 00:12:17.080\nLet's go check that out.\n\n244\n00:12:17.080 --> 00:12:18.930\nIf I switch over here.\n\n245\n00:12:18.930 --> 00:12:20.540\nThere's that Internal1.\n\n246\n00:12:20.540 --> 00:12:23.120\nBoth of the VMs are connected\nto that virtual switch.\n\n247\n00:12:23.120 --> 00:12:25.390\nThey can communicate with\neach other just fine, but\n\n248\n00:12:25.390 --> 00:12:26.715\nlet's take a look at\nthe properties of this.\n\n249\n00:12:28.750 --> 00:12:34.140\nNotice that my host here, is trying to\nobtain an IP address automatically,\n\n250\n00:12:34.140 --> 00:12:36.160\nand I don't have a DHCP server set up.\n\n251\n00:12:36.160 --> 00:12:40.014\nSo he does not have an IP address that's\nvalid on that network switch, right, or\n\n252\n00:12:40.014 --> 00:12:43.829\non that particular sub-net, so all I had\nto do is assign this guy an IP address.\n\n253\n00:12:43.829 --> 00:12:48.021\n10.1.2.200, put him on the same subnet.\n\n254\n00:12:52.269 --> 00:12:54.708\nAnd now if I flip back\nover to server one and\n\n255\n00:12:54.708 --> 00:12:58.700\nI try to ping that host IP address\nagain there you go, all right.\n\n256\n00:12:58.700 --> 00:13:00.084\nSo something you gotta keep in mind.\n\n257\n00:13:00.084 --> 00:13:04.277\nYes an internal virtual switch will allow\nthe VMs to communicate with the host\n\n258\n00:13:04.277 --> 00:13:08.598\nmachine, but you have to make sure you set\nthe properties on that host machine or\n\n259\n00:13:08.598 --> 00:13:11.320\nthey're not gonna\ncommunicate all that well.\n\n260\n00:13:11.320 --> 00:13:13.120\n>> Yeah, don't wanna forget\nour networking 101 right,\n\n261\n00:13:13.120 --> 00:13:17.550\ngotta have IP addresses if you're\ngonna talk on an IP network.\n\n262\n00:13:17.550 --> 00:13:21.030\nAnd Mike's DHCP setting\nmight have been valid\n\n263\n00:13:21.030 --> 00:13:24.190\nif one of the servers was running DHCP,\nbut he didn't have that going,\n\n264\n00:13:24.190 --> 00:13:27.760\nso he would have to therefore go in and\nset those static settings.\n\n265\n00:13:27.760 --> 00:13:29.740\nSoon as you do that Mike it came right up.\n\n266\n00:13:29.740 --> 00:13:31.700\n>> Yeah.\n>> It's basic networking once you get\n\n267\n00:13:31.700 --> 00:13:32.620\nthese switches going.\n\n268\n00:13:32.620 --> 00:13:33.250\n>> It really is.\n\n269\n00:13:33.250 --> 00:13:35.502\nIt's the same as you would\ndo in a physical world.\n\n270\n00:13:35.502 --> 00:13:39.499\nAll right, so last type of switch that we\ncan create here, virtual switch manager.\n\n271\n00:13:39.499 --> 00:13:45.110\nI'm gonna go to Private and\nCreate Virtual Switch and\n\n272\n00:13:45.110 --> 00:13:48.362\nI'm gonna call it Private1.\n\n273\n00:13:48.362 --> 00:13:51.678\nAnd I'll click OK.\n\n274\n00:13:51.678 --> 00:13:55.198\nAnd let me switch those\nguys over to Private1.\n\n275\n00:13:55.198 --> 00:13:59.980\nI'll pull up the settings and I'm going\nto knock this guy over to Private1.\n\n276\n00:14:01.770 --> 00:14:03.500\nApply that change.\n\n277\n00:14:03.500 --> 00:14:06.261\nOne of the great things about these\nsettings is you don't have to close it and\n\n278\n00:14:06.261 --> 00:14:08.418\nopen it for each machine,\nyou can use your drop down list and\n\n279\n00:14:08.418 --> 00:14:09.600\nswitch to a different machine.\n\n280\n00:14:11.160 --> 00:14:15.210\nAnd then I'll change him\nto Private1 as well.\n\n281\n00:14:15.210 --> 00:14:20.515\nAll right, and now I should still\nbe able to ping server two because\n\n282\n00:14:20.515 --> 00:14:25.634\nprivate switches allow the VMs\nto communicate with each other,\n\n283\n00:14:25.634 --> 00:14:29.932\nbut I won't be able to ping 2.200,\nthe VM host.\n\n284\n00:14:29.932 --> 00:14:30.513\nAll right?\n\n285\n00:14:30.513 --> 00:14:33.009\nBecause if we go check out\nwhat happened on the host.\n\n286\n00:14:35.470 --> 00:14:38.767\nWhen I created that private switch,\nnotice nothing new popped up here.\n\n287\n00:14:38.767 --> 00:14:39.434\nRight?\n\n288\n00:14:39.434 --> 00:14:43.540\nIt doesn't give any communications to\nthe host or to the rest of the network.\n\n289\n00:14:43.540 --> 00:14:46.820\nIt's only for\nthe virtual machines themselves.\n\n290\n00:14:46.820 --> 00:14:48.341\nAll right?\n>> It's a good way to create a sandbox\n\n291\n00:14:48.341 --> 00:14:50.030\nenvironment, a test environment.\n\n292\n00:14:50.030 --> 00:14:53.435\nKeep anytime, especially when if you're\ndealing with something like malware,\n\n293\n00:14:53.435 --> 00:14:54.533\nthis is a great idea to do.\n\n294\n00:14:54.533 --> 00:14:57.432\nYou can drop it, if you have a virtual\nmachine, maybe it's been infected,\n\n295\n00:14:57.432 --> 00:15:00.241\ndrop it into a test lab private network,\nand you don't have to worry about\n\n296\n00:15:00.241 --> 00:15:02.440\nit propagating through\nthe rest of the machines.\n\n297\n00:15:02.440 --> 00:15:04.490\nYou can see what's going\non without worry of that.\n\n298\n00:15:04.490 --> 00:15:05.250\nThat's good stuff.\n\n299\n00:15:05.250 --> 00:15:06.220\n>> That's absolutely right.\n\n300\n00:15:06.220 --> 00:15:09.216\nThis is why you and I both play with\na lot of those security tools, and\n\n301\n00:15:09.216 --> 00:15:12.372\nsome of those things that aren't quite\nsafe to put on your network, and\n\n302\n00:15:12.372 --> 00:15:14.130\nthis is exactly where I put it, right.\n\n303\n00:15:14.130 --> 00:15:18.260\nI'm not running any antivirus and it's not\nconnected to anything except the other\n\n304\n00:15:18.260 --> 00:15:22.190\nvirtual machines, that way I don't\nbring down my own stuff at the house.\n\n305\n00:15:22.190 --> 00:15:25.860\nAll right so those are the three different\ntypes of Hyper V virtual switches that we\n\n306\n00:15:25.860 --> 00:15:26.850\ncan work with.\n\n307\n00:15:26.850 --> 00:15:29.560\nAnd as you can see,\nI can make multiple switches.\n\n308\n00:15:29.560 --> 00:15:31.430\nI'm not limited to picking one or\nthe other.\n\n309\n00:15:31.430 --> 00:15:33.690\nI can create as many as I need.\n\n310\n00:15:33.690 --> 00:15:37.060\nThe externals, however, remember\nyou need a physical network adapter\n\n311\n00:15:37.060 --> 00:15:40.620\nto bind that external to because you're\ngiving it access to the physical network.\n\n312\n00:15:40.620 --> 00:15:44.270\nSo it just makes sense that you would\nneed a physical network adapter there.\n\n313\n00:15:44.270 --> 00:15:48.360\nSo you can only make as many as\nyou have physical network adapters\n\n314\n00:15:48.360 --> 00:15:49.280\nin that Hyper V host.\n\n315\n00:15:49.280 --> 00:15:51.912\nIf you've got ten physical\nnetwork adapters in there,\n\n316\n00:15:51.912 --> 00:15:55.170\nyou can definitely make ten external\nnetworks and go to town with it.\n\n317\n00:15:55.170 --> 00:15:58.380\n>> Yeah, then attach all the VM's you\nneed, and you're off to the races.\n\n318\n00:15:58.380 --> 00:16:01.100\n>> Absolutely.\nAll right, so the next thing I call out on\n\n319\n00:16:01.100 --> 00:16:04.201\nour objectives is dealing\nwith the MAC addresses.\n\n320\n00:16:04.201 --> 00:16:09.091\nWith Hyper-V,\nwhat happens when you install Hyper-V,\n\n321\n00:16:09.091 --> 00:16:12.020\nit creates a pool of MAC adresses.\n\n322\n00:16:12.020 --> 00:16:15.780\nSo I've opened up my virtual switch\nmanager and I'm going over here to my\n\n323\n00:16:15.780 --> 00:16:19.680\nglobal network settings, and\nI can see this MAC address range.\n\n324\n00:16:19.680 --> 00:16:22.710\nYou guys remember MAC address media\naccess control address, right?\n\n325\n00:16:22.710 --> 00:16:26.240\nThat's that number that,\non a physical network adapter,\n\n326\n00:16:26.240 --> 00:16:30.890\nuniquely identifies that network adapter\nsupposedly globally, although I've heard\n\n327\n00:16:30.890 --> 00:16:34.442\na few things about that, but\nnot the time or the place for that.\n\n328\n00:16:34.442 --> 00:16:36.560\nSo, but what about my virtual\nnetwork adapters, right?\n\n329\n00:16:36.560 --> 00:16:37.470\nThey need a MAC address.\n\n330\n00:16:37.470 --> 00:16:40.470\nRemember, a lot of our communication\noccurs via MAC, right.\n\n331\n00:16:40.470 --> 00:16:45.610\nOnce IP gets it to the right network,\nor TCP/IP gets into the right subnet,\n\n332\n00:16:45.610 --> 00:16:49.350\nit calls upon ARP to resolve that to\na MAC address to finish that delivery.\n\n333\n00:16:49.350 --> 00:16:52.430\nWell my virtual machines need a MAC\naddress as well, so they can send and\n\n334\n00:16:52.430 --> 00:16:55.010\nreceive data and it gets it from here.\n\n335\n00:16:55.010 --> 00:17:01.160\nSo Hyper V is just gonna dynamically, by\ndefault, dynamically assign a MAC address.\n\n336\n00:17:01.160 --> 00:17:04.280\nAnd it pulls the MAC address\nfrom this range here.\n\n337\n00:17:04.280 --> 00:17:06.660\nSo a couple things that we're\ngoing to have to worry about.\n\n338\n00:17:06.660 --> 00:17:10.770\nOne is I've got to make sure I've got\nenough MAC addresses in this range\n\n339\n00:17:10.770 --> 00:17:13.760\nto support how ever many virtual\nmachines I plan on running.\n\n340\n00:17:13.760 --> 00:17:18.264\nAnd they give us a pretty good range,\nyou can see it's actually 00 to FF so\n\n341\n00:17:18.264 --> 00:17:22.840\nmy hexidecimal is off just a little\nbit but that's, yeah, I'm not going to\n\n342\n00:17:22.840 --> 00:17:24.990\nbother to even do that in my head,\n>> [LAUGH]\n\n343\n00:17:24.990 --> 00:17:27.640\n>> That's a lot of MAC addresses there\n\n344\n00:17:27.640 --> 00:17:30.550\navailable so,\nshould be good to go for that.\n\n345\n00:17:30.550 --> 00:17:35.880\nYou can change that though if you've\ngot reasons to change, maybe you've got\n\n346\n00:17:35.880 --> 00:17:39.980\nrules on your network environment that are\nfiltering by MAC address or something like\n\n347\n00:17:39.980 --> 00:17:44.160\nthat, you can come in here and change the\nrange of addresses that it's passing out.\n\n348\n00:17:44.160 --> 00:17:47.930\nYou can also change the MAC address on\nthe machines themselves, all right?\n\n349\n00:17:47.930 --> 00:17:52.980\nIf I go to the settings on one\nof these Virtual Machines and\n\n350\n00:17:52.980 --> 00:17:55.650\nI took a look at that network\nadapter's properties and\n\n351\n00:17:55.650 --> 00:17:59.750\nI go into the Advanced,\nhere I can see the MAC\n\n352\n00:17:59.750 --> 00:18:04.640\naddress that was actually signed to\nthis virtual machine by Hyper-V.\n\n353\n00:18:04.640 --> 00:18:06.430\nNow one, notice I can't change it.\n\n354\n00:18:06.430 --> 00:18:08.490\nThat's because the machine is up and\nrunning right now.\n\n355\n00:18:08.490 --> 00:18:11.810\nIf I turn it off, I could come in here and\nchoose static and\n\n356\n00:18:11.810 --> 00:18:13.610\nthen I could assign a MAC address.\n\n357\n00:18:13.610 --> 00:18:17.190\nSo maybe you've got a reason to have\na particular MAC address on that virtual\n\n358\n00:18:17.190 --> 00:18:20.100\nmachine, you can definitely\ncome in here and do that.\n\n359\n00:18:20.100 --> 00:18:23.420\nThat's one of the things we have to\ndeal with with those Mac addresses.\n\n360\n00:18:23.420 --> 00:18:25.270\nThe other thing that\nwe have to worry about\n\n361\n00:18:26.380 --> 00:18:31.020\nis if we have multiple Hyper-V\nservers on the same subnet.\n\n362\n00:18:31.020 --> 00:18:36.820\nBecause they generate this range, they're\nall going to be using the same range.\n\n363\n00:18:36.820 --> 00:18:39.420\nSo what happens, if you've got\nmore than one Hyper-V server,\n\n364\n00:18:39.420 --> 00:18:43.050\ndynamically passing out MAC addresses to\nthe virtual machines that are running on\n\n365\n00:18:43.050 --> 00:18:46.995\nit, they could be assigning the same MAC\naddress to two different virtual machines.\n\n366\n00:18:46.995 --> 00:18:51.345\nHyper-V server 1 assigns that\nfirst MAC address to VM1.\n\n367\n00:18:51.345 --> 00:18:56.660\nHyper-V server 2 assigns that same MAC\naddress to another virtual machine.\n\n368\n00:18:56.660 --> 00:19:00.220\nNow I've got a MAC address conflict on\nmy network and that's not gonna work.\n\n369\n00:19:00.220 --> 00:19:03.940\nSo we have to come in here and\nmake sure we modify those ranges, so\n\n370\n00:19:03.940 --> 00:19:07.395\nthat each Hyper-V server has its own\npool of MAC addresses to pull from,\n\n371\n00:19:07.395 --> 00:19:12.340\nthat'll eliminate that risk\nof MAC address duplication.\n\n372\n00:19:12.340 --> 00:19:16.270\nAlso, the other thing to keep in mind is\nonce you've set these, they don't change.\n\n373\n00:19:16.270 --> 00:19:18.510\nWhat's a good way to say this?\n\n374\n00:19:18.510 --> 00:19:22.360\nIf I come in here and make changes\nto this, that will apply to new\n\n375\n00:19:22.360 --> 00:19:26.020\nvirtual machines that I create,\nnot those ones that already exist.\n\n376\n00:19:26.020 --> 00:19:31.390\nIf I want to change it, if I need that\nsetting to change on one of these guys,\n\n377\n00:19:31.390 --> 00:19:33.038\nwhat i'm going to have\nto do is power it down.\n\n378\n00:19:33.038 --> 00:19:36.686\nAnd if I'm trying to do a static, I would\njust power it down, choose static, and\n\n379\n00:19:36.686 --> 00:19:37.451\nchange it here.\n\n380\n00:19:37.451 --> 00:19:41.066\nIf I was leaving it as dynamic but\nI wanted to pick up a MAC address from\n\n381\n00:19:41.066 --> 00:19:45.697\na different range, cuz I had modified the\nrange of addresses on that Hyper-V server,\n\n382\n00:19:45.697 --> 00:19:49.502\nI need to remove the network adapter and\nadd the network adapter again,\n\n383\n00:19:49.502 --> 00:19:53.689\nbecause that's when Hyper-V assigns\nthe MAC address to that network adapter\n\n384\n00:19:53.689 --> 00:19:57.270\nis when you add the network\nadapter to the virtual machine.\n\n385\n00:19:57.270 --> 00:20:01.080\nSo if you need that to change, you\ngotta pull the network adapter out, and\n\n386\n00:20:01.080 --> 00:20:03.630\nthen add a new network adapter.\n\n387\n00:20:03.630 --> 00:20:06.265\nSo that is our MAC addresses.\n\n388\n00:20:06.265 --> 00:20:11.130\n[COUGH] All right Daniel,\nlet's see what we got left here.\n\n389\n00:20:11.130 --> 00:20:16.350\nThe next thing I want to talk about is\noptimizing some network performance.\n\n390\n00:20:17.660 --> 00:20:22.060\nA couple of things that we can do to make\nsure that our virtual networks are working\n\n391\n00:20:22.060 --> 00:20:23.479\nat their peak or efficient.\n\n392\n00:20:24.810 --> 00:20:29.450\nFirst thing is you want to make sure you\nhave at least two network adapters in\n\n393\n00:20:29.450 --> 00:20:30.900\nthe virtual server itself.\n\n394\n00:20:30.900 --> 00:20:33.310\nAlright, in the Hyper-V or the VM host.\n\n395\n00:20:33.310 --> 00:20:38.380\nGood idea to dedicate one of those\nphysical network adapters in that host\n\n396\n00:20:38.380 --> 00:20:39.410\nto management.\n\n397\n00:20:39.410 --> 00:20:42.760\nMicrosoft, if you read their stuff they're\ngoing to call it the management OS,\n\n398\n00:20:42.760 --> 00:20:45.570\nI like to call it the Hyper-V host or\nthe VM host.\n\n399\n00:20:45.570 --> 00:20:46.550\nTalking about the same thing.\n\n400\n00:20:46.550 --> 00:20:50.890\nThe physical machine should have one\nnetwork adapter that's dedicated just to\n\n401\n00:20:50.890 --> 00:20:54.920\nit, so that I can remote in and\nwork with the Hyper-V Manager Console,\n\n402\n00:20:54.920 --> 00:20:58.625\nregardless of how much traffic is being\ngenerated by the virtual machines,\n\n403\n00:20:58.625 --> 00:21:02.825\ntheir traffic should be kept separate\nfrom that management network adapter.\n\n404\n00:21:02.825 --> 00:21:04.505\nI want to be able to remote\ninto that machine any time.\n\n405\n00:21:04.505 --> 00:21:07.705\nI don't need network congestion and\nthings like that.\n\n406\n00:21:07.705 --> 00:21:12.475\nSo one separate physical network\nadapter for management and then one or\n\n407\n00:21:12.475 --> 00:21:17.195\nmore for physical network adapters that\nare dedicated to the virtual machine.\n\n408\n00:21:17.195 --> 00:21:20.085\nWhether you're creating external or\ninternal, or you don't need\n\n409\n00:21:20.085 --> 00:21:25.260\nthem from internal, but when you're\ncreating those external virtual switches,\n\n410\n00:21:25.260 --> 00:21:29.600\nyou wanna make sure you got one or\nmore physical network adapters in there.\n\n411\n00:21:29.600 --> 00:21:31.870\n>> That makes sense if you\njust think about it, right?\n\n412\n00:21:31.870 --> 00:21:35.180\nIf you have one network that's\ndedicated for you to just login for\n\n413\n00:21:35.180 --> 00:21:38.250\nmanagement purposes, any kind of\nconfiguration changes you make to\n\n414\n00:21:38.250 --> 00:21:42.580\nthose other networks that maybe drop their\nnetwork connection, and depending on what\n\n415\n00:21:42.580 --> 00:21:45.680\nyou're doing, it doesn't affect you\nbecause you're not on that network.\n\n416\n00:21:45.680 --> 00:21:48.060\nSo it's a smart move to make right there.\n\n417\n00:21:48.060 --> 00:21:50.490\n>> Absolutely.\nAnd the other thing I wanna mention here,\n\n418\n00:21:50.490 --> 00:21:52.362\nwe already talked about it.\n\n419\n00:21:52.362 --> 00:21:58.460\nWhen you create a external, virtual\nswitch it is gonna temporarily disable or\n\n420\n00:21:58.460 --> 00:22:01.750\ndisrupt your communications, so you want\nto make sure you take that into account.\n\n421\n00:22:01.750 --> 00:22:05.000\nEither do it during off hours\nwhen that virtual service or\n\n422\n00:22:05.000 --> 00:22:08.900\nthe Hyper-V server is not\ndoing anything important.\n\n423\n00:22:08.900 --> 00:22:10.090\nAgain, if that's a second or\n\n424\n00:22:10.090 --> 00:22:13.160\nthird physical adapter in there,\nit doesn't matter, right.\n\n425\n00:22:13.160 --> 00:22:17.780\nLike right now, I'm able to create that\nexternal virtual switch binded to that\n\n426\n00:22:17.780 --> 00:22:21.900\nphysical network adapter and never lost\nconnectivity with the VM host, because\n\n427\n00:22:21.900 --> 00:22:28.370\nI've got a separate network adapter\ndedicated to management of that VM host.\n\n428\n00:22:28.370 --> 00:22:30.401\nAnd that's about all I've got for\nthat, Dan.\n\n429\n00:22:30.401 --> 00:22:33.260\nWe've got more that we need to go over but\nI know that we're a little low on time.\n\n430\n00:22:33.260 --> 00:22:33.820\n>> That's right.\n\n431\n00:22:33.820 --> 00:22:36.020\nThe time goes by so fast.\n\n432\n00:22:36.020 --> 00:22:38.630\nBut the great thing is we can\njust make another episode.\n\n433\n00:22:38.630 --> 00:22:39.790\nAnd that's exactly what we're going to do.\n\n434\n00:22:39.790 --> 00:22:41.740\nWe're going to have to make a part two for\nthis guy.\n\n435\n00:22:41.740 --> 00:22:43.950\nIt's definitely good stuff for\nyou guys out there.\n\n436\n00:22:43.950 --> 00:22:46.830\nSigning off for this one though,\nI've been your host, Daniel Lowry.\n\n437\n00:22:46.830 --> 00:22:47.610\n>> And I'm Mike Rodrick.\n\n438\n00:22:47.610 --> 00:22:49.650\n>> And we'll see you next time.\n\n",
          "vimeoId": "137828098"
        },
        {
          "description": "In this episode Daniel and Mike conclude their discussion on virtual machine networks. Mike talks about how to set VLAN IDs on VMs. He also explains why and when to use legacy versus synthetic network adapters in Hyper-V.",
          "length": "1311",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-9-1-virtual_networks_pt2-082815-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-9-1-virtual_networks_pt2-082815-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-9-1-virtual_networks_pt2-082815-1-sm.jpg",
          "title": "Virtual Networks Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.478\n[MUSIC]\n\n2\n00:00:10.478 --> 00:00:14.623\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.623 --> 00:00:16.121\nI'm your host Daniel Lowrie.\n\n4\n00:00:16.121 --> 00:00:18.230\nHere with me today is Mr. Mike Rodrick.\n\n5\n00:00:18.230 --> 00:00:19.120\nHow's it going today Mike?\n\n6\n00:00:19.120 --> 00:00:20.271\nOh, it's going great Daniel.\n\n7\n00:00:20.271 --> 00:00:21.291\nI'm excited to be here.\n\n8\n00:00:21.291 --> 00:00:24.290\nWe got more of our 70-410\nepisodes coming your way.\n\n9\n00:00:24.290 --> 00:00:27.680\nAnd in this one, we're gonna continue our\nlook at virtual networks, so if you missed\n\n10\n00:00:27.680 --> 00:00:31.290\nthat first part, make sure you go back and\ntune into that, and watch that episode.\n\n11\n00:00:31.290 --> 00:00:34.850\nWe're continuing on here, and the next\nthing we wanted to talk about was,\n\n12\n00:00:34.850 --> 00:00:39.370\nconfiguring network isolation, as one of\nthe objectives they call out on our exam.\n\n13\n00:00:39.370 --> 00:00:41.430\nAnd really when we talk\nabout network isolation,\n\n14\n00:00:41.430 --> 00:00:43.970\nthere's a couple of different\nways we can go about doing that.\n\n15\n00:00:43.970 --> 00:00:47.390\nThe easiest way, is to use that\nprivate virtual network, right?\n\n16\n00:00:47.390 --> 00:00:49.130\nWe saw on the previous episode,\n\n17\n00:00:49.130 --> 00:00:53.340\nhow I could create a virtual switch\nusing that private option, and\n\n18\n00:00:53.340 --> 00:00:57.050\nany machines I connect to that can\ntalk to each other, and that's it.\n\n19\n00:00:57.050 --> 00:00:59.170\nNo access to the host machine.\n\n20\n00:00:59.170 --> 00:01:01.280\nNo access to the physical network.\n\n21\n00:01:01.280 --> 00:01:06.020\nSo one way you can do isolation, is just\nby using those private virtual switches,\n\n22\n00:01:06.020 --> 00:01:07.290\nand you can create as many as you need.\n\n23\n00:01:07.290 --> 00:01:10.761\nAnd if you've got a group of machines that\nneed to communicate with each other, and\n\n24\n00:01:10.761 --> 00:01:12.820\nnobody else, that's what you would use.\n\n25\n00:01:12.820 --> 00:01:15.890\nYou could do that for what we were\ntalking about with Daniel earlier,\n\n26\n00:01:15.890 --> 00:01:18.490\nsetting up a sandbox, or\nplaying with stuff that you\n\n27\n00:01:18.490 --> 00:01:20.790\nwanna make sure doesn't get out\non the rest of your network.\n\n28\n00:01:20.790 --> 00:01:24.490\nOr running machines that aren't protected,\nand so you don't want them getting network\n\n29\n00:01:24.490 --> 00:01:27.570\naccess, cuz it's not running antivirus,\nor have their latest updates.\n\n30\n00:01:27.570 --> 00:01:30.560\nOr just a test, or\na development environment\n\n31\n00:01:30.560 --> 00:01:33.580\nthat you work with stuff before you move\nit into the production environment, so\n\n32\n00:01:33.580 --> 00:01:35.430\nyou get duplicate names of servers and\n\n33\n00:01:35.430 --> 00:01:38.875\nthings like that, where if you put them on\nthe same network, right, I can't do that.\n\n34\n00:01:38.875 --> 00:01:43.230\nWhereas with an isolated network\nlike that, I can use the same name,\n\n35\n00:01:43.230 --> 00:01:46.470\nsame IP address, and it won't cause\na problem with my actual network.\n\n36\n00:01:46.470 --> 00:01:49.240\nSo the easiest way Daniel,\nis just to make a private network.\n\n37\n00:01:49.240 --> 00:01:52.430\n>> Yeah, private networks are great, cuz\nthey give you that affordability to say,\n\n38\n00:01:52.430 --> 00:01:56.430\nI can do whatever I want,\nI can mess stuff up, I can go berserk and\n\n39\n00:01:56.430 --> 00:01:59.620\nmake sure all my settings are gonna\nbe the way I expect them to do.\n\n40\n00:01:59.620 --> 00:02:02.700\nAnd that's not the only time that\nwe would need to actually do some\n\n41\n00:02:02.700 --> 00:02:05.210\nnetwork segregation,\nas it would be called.\n\n42\n00:02:05.210 --> 00:02:09.401\nSometimes you do need to segregate\na production network for certain reasons.\n\n43\n00:02:09.401 --> 00:02:12.377\nSimple ones are, I've got an HR\ndepartment, and I've got R and\n\n44\n00:02:12.377 --> 00:02:13.104\nD Department.\n\n45\n00:02:13.104 --> 00:02:16.735\nHR has no reason to be in the R and\nD side of the business, so\n\n46\n00:02:16.735 --> 00:02:18.980\nI'll segregate those two out.\n\n47\n00:02:18.980 --> 00:02:22.940\nKeeps their traffic from\noverlapping on their network.\n\n48\n00:02:22.940 --> 00:02:27.910\nIt gives you that full capability on\ntheir network, no cross-pollination,\n\n49\n00:02:27.910 --> 00:02:31.430\ngiving them a little more efficiency\nwith that network traffic, right Mike?\n\n50\n00:02:31.430 --> 00:02:32.730\n>> Absolutely, you know, that's the thing.\n\n51\n00:02:32.730 --> 00:02:36.137\nIf you need them to still be able to\ncommunicate with outside resources,\n\n52\n00:02:36.137 --> 00:02:39.630\nbut you just want to segregate them\nfrom the rest of your network,\n\n53\n00:02:39.630 --> 00:02:42.530\nthen private networks are not gonna work,\nunless everything is virtual and\n\n54\n00:02:42.530 --> 00:02:44.160\nits connected to that private switch.\n\n55\n00:02:44.160 --> 00:02:45.780\nThat's where VLANs come into play.\n\n56\n00:02:45.780 --> 00:02:48.510\nJust like a VLAN that you\nlearned about in Network+,\n\n57\n00:02:48.510 --> 00:02:52.340\nthat we can do on our physical network, we\ncan implement it in our virtual networks.\n\n58\n00:02:52.340 --> 00:02:57.290\nWe assign a VLAN ID to those machines,\nand it puts that same VLAN\n\n59\n00:02:57.290 --> 00:03:01.580\ntag on those packets, and\nit will segregate that traffic.\n\n60\n00:03:01.580 --> 00:03:04.590\nAnd I'm gonna show you\na good example of that here.\n\n61\n00:03:04.590 --> 00:03:07.789\nAll right, so what I'm going to do is,\nI'm going to,\n\n62\n00:03:07.789 --> 00:03:10.655\nlet's make sure these\nguys are both connected.\n\n63\n00:03:10.655 --> 00:03:11.968\nWe'll go back and take a look at this.\n\n64\n00:03:11.968 --> 00:03:16.085\nSo server one has a network\nadapter that's connected,\n\n65\n00:03:16.085 --> 00:03:21.174\nI'm gonna connect him to Internal1,\nand I'll apply that change.\n\n66\n00:03:21.174 --> 00:03:23.834\nAnd then I'm gonna go over to server two,\nand\n\n67\n00:03:23.834 --> 00:03:27.200\nmake sure he is connected to\nthat same internal network.\n\n68\n00:03:27.200 --> 00:03:29.708\nNow notice on private,\nI don't get the option here.\n\n69\n00:03:29.708 --> 00:03:33.771\nI mean I, well I shouldn't say,\nI guess I can turn that on, but\n\n70\n00:03:33.771 --> 00:03:36.630\nanyway, privates, the need for a VLAN ID.\n\n71\n00:03:36.630 --> 00:03:38.430\nI guess you could segregate it out, right?\n\n72\n00:03:38.430 --> 00:03:41.960\nIf you had multiple computers connected\nto that same private virtual switch, but\n\n73\n00:03:41.960 --> 00:03:44.720\nyou didn't want some of\nthem to talk to others,\n\n74\n00:03:44.720 --> 00:03:46.300\nI would just create\na separate private switch.\n\n75\n00:03:46.300 --> 00:03:48.710\nBut you could still have them all\nconnected to the same private switch,\n\n76\n00:03:48.710 --> 00:03:49.620\nand VLAN tag that.\n\n77\n00:03:49.620 --> 00:03:53.870\nTypically you see it though with your\ninternals, or your external networks.\n\n78\n00:03:53.870 --> 00:03:55.070\nSo there I'm gonna go with my internal.\n\n79\n00:03:55.070 --> 00:03:58.050\nI'll go ahead and apply that,\nI'll click OK, and\n\n80\n00:03:58.050 --> 00:04:01.860\nnow let's just verify that\neverything is still working.\n\n81\n00:04:01.860 --> 00:04:07.770\nSo we're just gonna do ping svr02,\nand server one can talk to server two.\n\n82\n00:04:07.770 --> 00:04:12.820\nAnd I should be able to verify that server\none can talk to the host as well, right,\n\n83\n00:04:12.820 --> 00:04:18.320\nbecause an internal network,\nit gives me that internal virtual switch.\n\n84\n00:04:18.320 --> 00:04:22.822\nGives me access to other VMs connected to\nit, as well as the host operating system,\n\n85\n00:04:22.822 --> 00:04:23.890\nall right?\n\n86\n00:04:23.890 --> 00:04:27.798\nNow what I'm going to do, is I'm gonna\ngo back over to the settings for\n\n87\n00:04:27.798 --> 00:04:32.560\nsvr01, and I'm gonna turn on\n\n88\n00:04:33.650 --> 00:04:39.350\nVLAN IDs on this internal one here, and\nI'll just leave that default number 2,\n\n89\n00:04:39.350 --> 00:04:41.930\nthen I'll go ahead and\nclick OK to apply that.\n\n90\n00:04:41.930 --> 00:04:45.820\nNow if I go back over to server one, and\n\n91\n00:04:45.820 --> 00:04:51.030\nI try to ping server two, no love, right?\n\n92\n00:04:51.030 --> 00:04:54.360\nBecause he's on a VLAN,\nhe's got a VLAN ID, and\n\n93\n00:04:54.360 --> 00:04:57.800\nthat virtual switch is gonna\nkeep that traffic segregated.\n\n94\n00:04:57.800 --> 00:05:00.176\nIt only can talk now to other machines or\n\n95\n00:05:00.176 --> 00:05:05.151\nother traffic that has this same VLAN\nidentifier associated with it, all right?\n\n96\n00:05:05.151 --> 00:05:12.814\nSo let's see what happens if I switch\nserver two to that same VLAN ID.\n\n97\n00:05:12.814 --> 00:05:14.730\nI'll put in it on VLAN ID as well.\n\n98\n00:05:16.080 --> 00:05:20.620\nNow we go back over to server one,\nand we try to ping server two,\n\n99\n00:05:20.620 --> 00:05:23.400\nand all of a sudden we're getting replies.\n\n100\n00:05:23.400 --> 00:05:26.920\nSo as soon as I put them on that same\nVLAN, they're able to communicate.\n\n101\n00:05:26.920 --> 00:05:30.080\nSo you can see how, even though they're\nconnected to the same virtual switch,\n\n102\n00:05:30.080 --> 00:05:31.690\nI can segregate that traffic right?\n\n103\n00:05:31.690 --> 00:05:33.350\nI can keep those guys separate.\n\n104\n00:05:34.400 --> 00:05:36.140\nWhat about my host?\n\n105\n00:05:36.140 --> 00:05:38.486\nLet's check that out.\n\n106\n00:05:38.486 --> 00:05:41.679\nI still can't communicate with the host,\ncuz remember,\n\n107\n00:05:41.679 --> 00:05:44.163\nmy two virtual machines\nare not on VLAN ID2.\n\n108\n00:05:44.163 --> 00:05:47.591\nEven though the internal virtual\nswitch gives me access to the host,\n\n109\n00:05:47.591 --> 00:05:50.060\nthe host doesn't have the same VLAN ID.\n\n110\n00:05:50.060 --> 00:05:50.595\nSo let's check.\n\n111\n00:05:50.595 --> 00:05:52.570\nLet's see how we can set that up.\n\n112\n00:05:52.570 --> 00:05:55.790\nThat, we're gonna pull up\nthe Virtual Switch Manager, and\n\n113\n00:05:55.790 --> 00:06:00.470\nI'm gonna select that internal virtual\nswitch that I created, and I'm gonna\n\n114\n00:06:00.470 --> 00:06:04.395\nchoose Enable virtual LAN identification\nfrom management operating system.\n\n115\n00:06:04.395 --> 00:06:06.280\n[COUGH] Excuse me.\n\n116\n00:06:06.280 --> 00:06:10.290\nThat's gonna allow\nthe host operating system\n\n117\n00:06:10.290 --> 00:06:15.460\nto tag his packets with that VLAN ID as\nwell, so we'll click OK on those settings.\n\n118\n00:06:15.460 --> 00:06:17.070\nNow I go back over to server one,\n\n119\n00:06:17.070 --> 00:06:22.360\nand all of a sudden I can ping\nthe host again, all right?\n\n120\n00:06:22.360 --> 00:06:26.380\nSo it's just like you've learned\nabout VLANs in the physical world,\n\n121\n00:06:26.380 --> 00:06:28.530\nsame concept applies here.\n\n122\n00:06:28.530 --> 00:06:33.160\nYou just set the properties of the network\nadapter in the settings for the VM.\n\n123\n00:06:33.160 --> 00:06:37.820\nFor the host machine, you go to\nthat particular virtual switch, and\n\n124\n00:06:37.820 --> 00:06:41.490\nyou set the VLAN ID there for\nthe host machine.\n\n125\n00:06:41.490 --> 00:06:45.932\nSo those are gonna be your VLANs, another\nway that we can segregate that traffic.\n\n126\n00:06:45.932 --> 00:06:50.650\nAll right, next thing that they call out\non the exam, is gonna be our synthetic and\n\n127\n00:06:50.650 --> 00:06:52.820\nlegacy network adapters.\n\n128\n00:06:52.820 --> 00:06:58.214\nSo for that, we'll run back over\nto the settings on my VM here.\n\n129\n00:06:58.214 --> 00:07:02.840\nAnd when we go to add new hardware\nto a virtual machine, actually,\n\n130\n00:07:02.840 --> 00:07:04.030\nI need to shut this guy down.\n\n131\n00:07:04.030 --> 00:07:09.405\nSo let me shut this guy off, so\nthat we can actually take a look at those.\n\n132\n00:07:09.405 --> 00:07:11.870\nCuz just like with a physical machine,\nright, I can't go and\n\n133\n00:07:11.870 --> 00:07:14.750\nadd new hardware to a running VM.\n\n134\n00:07:14.750 --> 00:07:17.950\nI need to power him down so\nwe can mess with those settings.\n\n135\n00:07:17.950 --> 00:07:18.490\nSo there we go.\n\n136\n00:07:18.490 --> 00:07:19.480\nI've got him shut off.\n\n137\n00:07:19.480 --> 00:07:23.060\nWe'll pull up those settings, and\nwe'll look at this add hardware.\n\n138\n00:07:23.060 --> 00:07:25.531\nAnd you'll see I have a couple\nof options for Network Adapter.\n\n139\n00:07:25.531 --> 00:07:30.129\nI have Network Adapter, and\nI have Legacy Network Adapter, all right?\n\n140\n00:07:30.129 --> 00:07:35.914\nThe Legacy Network Adapter is what we\nhad all the way up and through 2008,\n\n141\n00:07:35.914 --> 00:07:40.276\nand basically it emulates,\nand if I remember that brand,\n\n142\n00:07:40.276 --> 00:07:45.470\nit's an Intel 21 140 based PCI\nfast ethernet card, right.\n\n143\n00:07:45.470 --> 00:07:47.100\nThat's what that's\nsupposed to be emulating.\n\n144\n00:07:47.100 --> 00:07:51.413\nAnd that's a network adapter that just\nabout every operating system has a driver\n\n145\n00:07:51.413 --> 00:07:52.944\nthat it can use, all right?\n\n146\n00:07:52.944 --> 00:07:57.564\nAnd so that's why they chose that one to\nemulate, and that was what we always had.\n\n147\n00:07:57.564 --> 00:08:02.471\nBut it was a An emulator\nwhich is not gonna give us\n\n148\n00:08:02.471 --> 00:08:07.020\nthe same performance\nfrom what we have now.\n\n149\n00:08:07.020 --> 00:08:10.260\nWhich is this, what they call\nthe objectives are gonna call it synthetic\n\n150\n00:08:10.260 --> 00:08:13.610\nnetwork adapter, you can see here\nit's just called network adapter.\n\n151\n00:08:13.610 --> 00:08:15.060\nIt's a software based network adapter.\n\n152\n00:08:15.060 --> 00:08:19.620\nIt was designed especially for Hyper-V,\nso it's not trying to emulate anything.\n\n153\n00:08:19.620 --> 00:08:22.130\nIt's a software based network adapter, and\n\n154\n00:08:22.130 --> 00:08:25.500\nthe performance is a lot better,\nall right?\n\n155\n00:08:25.500 --> 00:08:29.710\nNow I wanna say 2008, 2008 R2 is when they\nfirst came out with this network adapter.\n\n156\n00:08:29.710 --> 00:08:33.270\nAnd what you had was a situation\nwhere I would still use both of them.\n\n157\n00:08:33.270 --> 00:08:37.606\nIt was kinda odd, because one of the\nlimitations of that software based network\n\n158\n00:08:37.606 --> 00:08:40.520\nadapter when it first came out,\nit didn't do PXE Boot.\n\n159\n00:08:40.520 --> 00:08:45.230\nSo if I needed to connect to a deployment\nserver to pull an image down,\n\n160\n00:08:45.230 --> 00:08:47.890\nI had to drop a legacy network\nadapter in that machine,\n\n161\n00:08:47.890 --> 00:08:51.150\nbecause it supported doing that PXE Boot.\n\n162\n00:08:51.150 --> 00:08:51.900\nThis one did not.\n\n163\n00:08:51.900 --> 00:08:55.740\nAnd what you'd end up doing is\nputting both in the virtual machine,\n\n164\n00:08:55.740 --> 00:08:58.880\nyou'd add two network adapters,\none legacy and one synthetic.\n\n165\n00:08:58.880 --> 00:09:02.900\nAnd it would use the legacy to PXE Boot\nand then as soon as it realized it didn't\n\n166\n00:09:02.900 --> 00:09:07.890\nneed that any more, it would actually\nswitch over to the synthetic.\n\n167\n00:09:07.890 --> 00:09:11.430\nAnd if you go out there and do some\nreading, if you're reading an article\n\n168\n00:09:11.430 --> 00:09:15.370\nthat's written before 2012 R2,\nyou might still see that.\n\n169\n00:09:15.370 --> 00:09:17.850\nYou're gonna see people say,\nif you wanna PXE boot,\n\n170\n00:09:17.850 --> 00:09:20.790\nyou've gotta use that old\nlegacy network adapter.\n\n171\n00:09:20.790 --> 00:09:24.750\nBut understand that 2012 R2 changes that.\n\n172\n00:09:24.750 --> 00:09:25.660\nThe synthetic, or\n\n173\n00:09:25.660 --> 00:09:30.099\nthe network adapter they have listed\nhere now, that does support PXE Boot.\n\n174\n00:09:30.099 --> 00:09:33.230\nSo you no longer have,\nreally, much need for\n\n175\n00:09:33.230 --> 00:09:36.140\nthe legacy, except, here's the exception.\n\n176\n00:09:36.140 --> 00:09:40.670\nThat synthetic network adapter requires\nthe guest integration services.\n\n177\n00:09:40.670 --> 00:09:46.900\nRemember, those are what allow my VM to,\nwe saw that in another episode,\n\n178\n00:09:46.900 --> 00:09:51.440\nwe talked about those integration services\nallowing the operating system shutdown\n\n179\n00:09:51.440 --> 00:09:54.680\nfrom the hypervisor,\nlike I just did with server one.\n\n180\n00:09:54.680 --> 00:09:58.290\nIt does a graceful shutdown,\ntime synchronization, things like that.\n\n181\n00:09:58.290 --> 00:10:00.890\nThat's the synthetic network adapter,\n\n182\n00:10:00.890 --> 00:10:03.540\nrelies on these guest\nintegration services.\n\n183\n00:10:03.540 --> 00:10:07.260\nSo if you have an operating system\nthat you're virtualizing and for\n\n184\n00:10:07.260 --> 00:10:11.350\nsome reason that doesn't support\ninstalling those integration services,\n\n185\n00:10:11.350 --> 00:10:14.950\nyou won't be able to use the new\nnetwork adapter, that synthetic one.\n\n186\n00:10:14.950 --> 00:10:17.030\nYou'll have to fall back and\nuse that legacy.\n\n187\n00:10:17.030 --> 00:10:19.780\nSo that's really the only reason\nyou have to use it nowadays\n\n188\n00:10:19.780 --> 00:10:23.720\nis if the virtualized operating system\n\n189\n00:10:23.720 --> 00:10:27.770\ndoesn't support installing those\nguest integration services.\n\n190\n00:10:27.770 --> 00:10:31.410\nOtherwise you definitely wanna\nuse that synthetic, it's much,\n\n191\n00:10:31.410 --> 00:10:34.368\nmuch better as far as performance goes.\n\n192\n00:10:34.368 --> 00:10:38.790\nAll right [COUGH] so we've got those guys,\n\n193\n00:10:38.790 --> 00:10:41.710\nwe got the synthetic, we got\nthe legacy virtual network adapters.\n\n194\n00:10:41.710 --> 00:10:46.720\nLast thing I wanna talk about here is\ngoing to be our NIC teaming, right?\n\n195\n00:10:46.720 --> 00:10:49.290\nNow we should at this point\nunderstand NIC teaming.\n\n196\n00:10:49.290 --> 00:10:53.230\nWe've done that in our server classes,\nor in this particular class.\n\n197\n00:10:53.230 --> 00:10:56.465\nAnd I'm pretty sure we talk\nabout network plus as well.\n\n198\n00:10:56.465 --> 00:11:00.620\nNIC teaming is when you're gonna bond\nmore than one network adapter together.\n\n199\n00:11:00.620 --> 00:11:04.220\nYou're gonna create a team out of it and\nthat's gonna give me some,\n\n200\n00:11:04.220 --> 00:11:08.760\ndepending on how I configure it, give me\nsome load balancing and fault tolerance.\n\n201\n00:11:08.760 --> 00:11:12.240\nYou can do that through\nthe server operating system now.\n\n202\n00:11:12.240 --> 00:11:18.470\nIt supports a binding up to 32\nnetwork adapters into a NIC team.\n\n203\n00:11:18.470 --> 00:11:20.670\nAnd there's a couple different\nmodes you can set it in, right?\n\n204\n00:11:20.670 --> 00:11:24.020\nYou can set it in what I\nlike to call active-active,\n\n205\n00:11:24.020 --> 00:11:26.800\nwhat they call load balancing mode,\n\n206\n00:11:26.800 --> 00:11:30.640\nwhere both network adapters are active\nsending and receiving data.\n\n207\n00:11:30.640 --> 00:11:32.320\nSo you're going to double\nup on your bandwidth.\n\n208\n00:11:32.320 --> 00:11:36.440\nIf one of them fails your bandwidth drops\na little but you're still communicating.\n\n209\n00:11:36.440 --> 00:11:39.030\nYou can also do a hot spare or\n\n210\n00:11:39.030 --> 00:11:43.420\nstandby mode where only one of\nthe network adapters is actually working.\n\n211\n00:11:43.420 --> 00:11:46.770\nThe other network adapters in the team\nare just waiting for that one to fail and\n\n212\n00:11:46.770 --> 00:11:49.290\nthey'll immediately take over, right?\n\n213\n00:11:49.290 --> 00:11:52.720\nSo we can do that in\nthe server operating system,\n\n214\n00:11:52.720 --> 00:11:57.339\nwe can also now do that in virtualization\nso we can do the same thing here.\n\n215\n00:11:58.550 --> 00:12:01.910\nI'll tell you that it really depends\non how you want to configure this.\n\n216\n00:12:01.910 --> 00:12:05.050\nWe can virtualize this,\na lot of times though,\n\n217\n00:12:05.050 --> 00:12:09.490\nwe're actually doing it on\nthe VM host itself, where I have\n\n218\n00:12:09.490 --> 00:12:14.950\na in the physical machine,\nI've got two network adapters.\n\n219\n00:12:14.950 --> 00:12:18.840\nAnd I create a NIC eam out of\nthose two network adapters\n\n220\n00:12:18.840 --> 00:12:23.530\non the physical host through the operating\nsystem of the Hyper-V server, right.\n\n221\n00:12:23.530 --> 00:12:27.360\nThen when I go to create my virtual\nswitch, remember when you create\n\n222\n00:12:27.360 --> 00:12:30.200\nan external virtual switch you\nbind it to a network adapter.\n\n223\n00:12:30.200 --> 00:12:33.595\nYou bind it to the team instead of\none of the physical network adapters.\n\n224\n00:12:33.595 --> 00:12:37.060\nSo as far as Hyper-V's concerned\nit's not a team, right.\n\n225\n00:12:37.060 --> 00:12:42.270\nIt sees that one virtual switch,\nit's bound to this team but underneath it\n\n226\n00:12:42.270 --> 00:12:45.350\nyou've got more than one network adapter\ngiving you that fault tolerance.\n\n227\n00:12:45.350 --> 00:12:49.280\nAnd that's typically the way\nyou're going to see it done, but\n\n228\n00:12:49.280 --> 00:12:52.500\nyou can do it within\nvirtualization as well.\n\n229\n00:12:52.500 --> 00:12:56.320\nYou might have a scenario where you've got\nmultiple network adapters in your Hyper-V\n\n230\n00:12:56.320 --> 00:13:02.230\nserver, and you create multiple external\nvirtual switches inside Hyper-V.\n\n231\n00:13:02.230 --> 00:13:05.810\nOne external virtual switch\nper physical network adapter.\n\n232\n00:13:05.810 --> 00:13:10.610\nNow I could go to my virtual machine and\nI could create two network adapters in\n\n233\n00:13:10.610 --> 00:13:15.500\nthe virtual machine and connect one to\nthat first external virtual switch.\n\n234\n00:13:15.500 --> 00:13:20.830\nConnect the second one to that\nsecond external virtual switch.\n\n235\n00:13:20.830 --> 00:13:25.760\nAnd now I can create a NIC team\nwithin my guest operating system.\n\n236\n00:13:25.760 --> 00:13:27.590\nAnd I would end up\ngetting the same results.\n\n237\n00:13:27.590 --> 00:13:31.510\nIf one of those physical network\nadapters failed on the host,\n\n238\n00:13:31.510 --> 00:13:35.360\nthat takes down that external switch,\nthat virtual external switch.\n\n239\n00:13:35.360 --> 00:13:37.310\nBut the other physical network\nadapter is still up, so\n\n240\n00:13:37.310 --> 00:13:39.532\nthat external virtual switch is still up.\n\n241\n00:13:39.532 --> 00:13:42.590\nThat means the one network adapter\nin the guest operating system\n\n242\n00:13:42.590 --> 00:13:44.460\nis still able to connect and communicate.\n\n243\n00:13:44.460 --> 00:13:47.130\nSo you can really\naccomplish it either way.\n\n244\n00:13:47.130 --> 00:13:50.360\nNow in my server here I've\ngot two network adapters,\n\n245\n00:13:50.360 --> 00:13:53.850\nbut one of them is the one I'm\nusing to remote in to that machine.\n\n246\n00:13:53.850 --> 00:13:57.320\nSo I'm not gonna try to team\nit at the physical level,\n\n247\n00:13:57.320 --> 00:14:00.230\nbut I know you guys have seen\nthat in some other episodes.\n\n248\n00:14:00.230 --> 00:14:03.190\nBut I will show you how\nto do it in this virtual.\n\n249\n00:14:03.190 --> 00:14:06.630\nSo I have, let me start this guy,\nactually we can just use this guy.\n\n250\n00:14:06.630 --> 00:14:10.760\nIf we take a look at the settings here,\nI've got two network adapters\n\n251\n00:14:10.760 --> 00:14:14.880\ninstalled already on this virtual machine,\nall right.\n\n252\n00:14:14.880 --> 00:14:20.870\nSo what I'm gonna do is I'm going to\ncreate by using my virtual switch manager.\n\n253\n00:14:20.870 --> 00:14:22.854\nNow I'm gonna use internals, again,\n\n254\n00:14:22.854 --> 00:14:26.231\nbecause I've only got two physical\nnetwork adapters over there.\n\n255\n00:14:26.231 --> 00:14:32.570\nAnd I can't mess with one of them because\nthat's what we're using to make this show.\n\n256\n00:14:32.570 --> 00:14:34.722\nSo it's gonna show me an error later on.\n\n257\n00:14:34.722 --> 00:14:37.890\nIt's gonna say hey you don't\nhave any external connectivity.\n\n258\n00:14:37.890 --> 00:14:42.730\nI am okay with that I just want to show\nyou the process of creating this NIC team\n\n259\n00:14:42.730 --> 00:14:44.520\nwithin my virtualization.\n\n260\n00:14:44.520 --> 00:14:48.140\n>> Yeah, the concept will bleed over\neven though we're not using actual\n\n261\n00:14:48.140 --> 00:14:50.890\nphysical NICs with this,\non an external network.\n\n262\n00:14:50.890 --> 00:14:54.510\nAll the steps will be the same, everything\nwill work identically, except it's gonna\n\n263\n00:14:54.510 --> 00:14:58.120\nerror, or it's gonna complain that Mike's\nnot on a actually a physical network.\n\n264\n00:14:58.120 --> 00:15:01.756\n>> Exactly, and it won't, I could just\nswitch this from internal to external,\n\n265\n00:15:01.756 --> 00:15:02.980\nand it would be good to go.\n\n266\n00:15:02.980 --> 00:15:06.390\nRemember, I can only create one\nexternal virtual switch per\n\n267\n00:15:06.390 --> 00:15:09.582\nphysical network adapter, and\nI would lose connectivity for that.\n\n268\n00:15:09.582 --> 00:15:12.790\nAll right, so I've got Internal1, and\nall I'm gonna do is come over here and\n\n269\n00:15:12.790 --> 00:15:17.695\ncreate a new internal, and\nI'm gonna call it, you'll never guess.\n\n270\n00:15:20.105 --> 00:15:22.008\nInternal2 cuz I'm so creative.\n\n271\n00:15:22.008 --> 00:15:22.868\n>> Very creative, Mike.\n\n272\n00:15:22.868 --> 00:15:23.856\nI didn't see that coming.\n\n273\n00:15:23.856 --> 00:15:25.131\n>> I knew it, I knew.\n\n274\n00:15:25.131 --> 00:15:26.845\n>> I'm so sneaky like that.\n\n275\n00:15:26.845 --> 00:15:31.368\nAll right so I'm gonna leave that as\nan internal switch, and I'll go ahead and,\n\n276\n00:15:31.368 --> 00:15:33.107\nyou know what let me make sure.\n\n277\n00:15:33.107 --> 00:15:34.752\nLet's click Apply there and\n\n278\n00:15:34.752 --> 00:15:39.205\nget rid of any VLAN tagging I might\nhave on this guy from that last demo.\n\n279\n00:15:39.205 --> 00:15:41.582\nAll right, so I've got Internal1 and\n\n280\n00:15:41.582 --> 00:15:46.930\nInternal2 which are both internal virtual\nswitches, and I'll go ahead and click OK.\n\n281\n00:15:46.930 --> 00:15:50.980\nAll right, now I'm gonna go\nto server two's properties.\n\n282\n00:15:50.980 --> 00:15:53.376\nSo that was done in my\nvirtual switch manager.\n\n283\n00:15:53.376 --> 00:15:57.311\nNow I go to the properties for the VM and\nI'm gonna go to this first guy and\n\n284\n00:15:57.311 --> 00:16:00.077\nI'm going to undo my VLAN\nfrom that previous one.\n\n285\n00:16:00.077 --> 00:16:02.419\nAnd it's already connected Interal1.\n\n286\n00:16:02.419 --> 00:16:08.677\nGo to the second network adapter And\nconnected to Internal 2, all right.\n\n287\n00:16:08.677 --> 00:16:10.970\nAnd I'll go ahead and\nclick Apply on there.\n\n288\n00:16:10.970 --> 00:16:12.710\nAll right.\n\n289\n00:16:12.710 --> 00:16:19.420\nNext thing I need to do is I need to go\ninto my Advanced features down here for\n\n290\n00:16:19.420 --> 00:16:24.080\neach network adaptor and enable this\nnetwork adaptor to be part of a big team.\n\n291\n00:16:24.080 --> 00:16:28.400\nNow, I can actually go into server 2 and\nI could create a NIC team,\n\n292\n00:16:28.400 --> 00:16:31.810\nI could pick those two network adaptors,\ncreate a team out of it, and\n\n293\n00:16:31.810 --> 00:16:34.440\nfrom the guest OS, it would look fine.\n\n294\n00:16:34.440 --> 00:16:38.750\nBut if I don't come in here and select\nthis, if one of those physical network\n\n295\n00:16:38.750 --> 00:16:45.380\nadaptors fails, again you got to remember\nwe normally would be using external or\n\n296\n00:16:45.380 --> 00:16:50.070\nphysical network adaptors so\nit would be an external network.\n\n297\n00:16:50.070 --> 00:16:54.303\nBut if one of those physical adaptors\nfailed, I would still lose connectivity.\n\n298\n00:16:54.303 --> 00:16:58.070\nThe NIC team wouldn't do\nwhat it was supposed to do.\n\n299\n00:16:58.070 --> 00:17:02.330\nSo inside the guest OS it would look okay,\nit would like I set up a NIC team\n\n300\n00:17:02.330 --> 00:17:07.430\nsuccessfully, but if I don't choose this\noption it won't function like a NIC team.\n\n301\n00:17:07.430 --> 00:17:08.100\nSo I'm gonna go ahead and\n\n302\n00:17:08.100 --> 00:17:12.100\nchoose enable the network adapter to\nbe part of a NIC team, I'll apply that.\n\n303\n00:17:12.100 --> 00:17:14.410\nI'll go to the second network adapter and\n\n304\n00:17:14.410 --> 00:17:19.280\nmake sure that it is set to\nbe a part of a team as well.\n\n305\n00:17:19.280 --> 00:17:19.960\nAnd I'll click OK.\n\n306\n00:17:19.960 --> 00:17:21.580\nAll right?\n\n307\n00:17:21.580 --> 00:17:22.340\nDon't forget to do that.\n\n308\n00:17:22.340 --> 00:17:25.910\nIt's an easy one to forget,\nis to actually set those properties.\n\n309\n00:17:25.910 --> 00:17:30.200\nYou gotta go to Advanced and\nthen you gotta scroll down to see those.\n\n310\n00:17:30.200 --> 00:17:34.580\nNow, in my Guest OS,\njust like I would on a physical machine,\n\n311\n00:17:34.580 --> 00:17:39.720\nI'm gonna go to my Local Server,\nand wait for that guy to open up.\n\n312\n00:17:39.720 --> 00:17:44.360\nAnd you know what, let me statically\nmap this guy to an IP address as well.\n\n313\n00:17:44.360 --> 00:17:47.029\nActually it doesn't matter,\nbecause I'm creating a NIC team.\n\n314\n00:17:47.029 --> 00:17:49.033\nSo I'm going to click on NIC teaming.\n\n315\n00:17:58.266 --> 00:18:03.190\nAnd I'll go ahead and\ncreate a new team, and\n\n316\n00:18:03.190 --> 00:18:06.525\nI'm going to call it team 1.\n\n317\n00:18:07.860 --> 00:18:11.050\nAnd I'll choose my two network\nadapters that I have available and\n\n318\n00:18:11.050 --> 00:18:11.830\nI'll go ahead and click OK.\n\n319\n00:18:11.830 --> 00:18:15.850\n>> That's ten gig connectors\nyou got there, Mike.\n\n320\n00:18:15.850 --> 00:18:17.075\n[LAUGH]\n>> I know, you like those?\n\n321\n00:18:17.075 --> 00:18:17.960\n>> [LAUGH] That's fast.\n\n322\n00:18:17.960 --> 00:18:21.660\n>> That sad synthetic is a lot better\nthan a good old legacy network adapter.\n\n323\n00:18:21.660 --> 00:18:24.960\nNow, hopefully your network obviously\nhas to support that as well.\n\n324\n00:18:24.960 --> 00:18:27.480\nBut these network adapters,\nyeah, ten gigabits per second.\n\n325\n00:18:27.480 --> 00:18:28.380\n>> Yeah, they're no joke.\n\n326\n00:18:28.380 --> 00:18:31.130\nI tried to DDOS one one time.\n\n327\n00:18:31.130 --> 00:18:32.410\nIt just handled the traffic.\n\n328\n00:18:32.410 --> 00:18:35.665\nI was sending millions of\npackets at this thing.\n\n329\n00:18:35.665 --> 00:18:36.790\n>> [LAUGH]\n>> And it just kept rocking.\n\n330\n00:18:36.790 --> 00:18:41.750\nIt slowed it down a little bit, my web\nserver wasn't as crisp as it once was,\n\n331\n00:18:41.750 --> 00:18:43.880\nbut man that thing could,\nit would not go down.\n\n332\n00:18:43.880 --> 00:18:45.045\nIt was very awesome.\n\n333\n00:18:45.045 --> 00:18:47.430\n[LAUGH]\n>> Yeah, absolutely, absolutely.\n\n334\n00:18:47.430 --> 00:18:49.060\nAll right, so\nthis guy's taking his sweet time here.\n\n335\n00:18:49.060 --> 00:18:50.200\nEventually, there it goes, my team.\n\n336\n00:18:50.200 --> 00:18:53.000\nAll right, and that's the error I\nwas telling you I was gonna get.\n\n337\n00:18:53.000 --> 00:18:53.880\nIf I take a look at this,\n\n338\n00:18:53.880 --> 00:18:58.390\nit's telling me the virtual switch\nlacks external connectivity.\n\n339\n00:18:58.390 --> 00:19:02.430\nNormally, when you do this, you're not\ndoing it on an internal network, right?\n\n340\n00:19:02.430 --> 00:19:05.330\nYou're doing this on your network\ninterfaces that are connected to\n\n341\n00:19:05.330 --> 00:19:08.370\nthe rest of the world, the rest of your\ncorporate network, things like that.\n\n342\n00:19:08.370 --> 00:19:10.860\nSo he's not happy about that.\n\n343\n00:19:10.860 --> 00:19:15.120\nBut it would work the same way\nif those were external switches.\n\n344\n00:19:15.120 --> 00:19:17.370\nYou'd go through the exact same process.\n\n345\n00:19:17.370 --> 00:19:20.470\nAnd now I've got a NIC team, and\nso I've got this fault tolerance.\n\n346\n00:19:20.470 --> 00:19:22.890\nIn fact,\nServer Manager is just not refreshing yet.\n\n347\n00:19:22.890 --> 00:19:24.610\nLet's go ahead and refresh that guy.\n\n348\n00:19:24.610 --> 00:19:28.957\nAnd there I can see Team 1,\nnow he's not connected.\n\n349\n00:19:28.957 --> 00:19:31.750\nBut again, that's just cuz I\ndon't have that external access.\n\n350\n00:19:31.750 --> 00:19:33.660\nAnd that's it.\nNow I've got fault tolerance,\n\n351\n00:19:33.660 --> 00:19:38.320\nso if you think about it, if one of those,\nyou gotta imagine it this way.\n\n352\n00:19:38.320 --> 00:19:43.790\nI've got, normally what you would have\nwould be two external virtual switches.\n\n353\n00:19:43.790 --> 00:19:48.220\nOne connected to two, each physical\nadapter in the server, right.\n\n354\n00:19:48.220 --> 00:19:50.920\nAnd then I've got two\nvirtual network adapters,\n\n355\n00:19:50.920 --> 00:19:53.650\neach one connected to one\nof those external switches.\n\n356\n00:19:53.650 --> 00:19:56.370\nSo if one of the physical\nnetwork adapters fails,\n\n357\n00:19:56.370 --> 00:20:00.430\nthat causes that external virtual\nswitch to fail, which means the virtual\n\n358\n00:20:00.430 --> 00:20:04.140\nnetwork adapter that's connected to\nthat virtual switch is gonna fail.\n\n359\n00:20:04.140 --> 00:20:04.650\nRight?\n\n360\n00:20:04.650 --> 00:20:08.120\nBut now I've still got my other virtual\nnetwork adapter connected to the second\n\n361\n00:20:08.120 --> 00:20:12.800\nexternal virtual switch, which is bound\nto the second physical network adapter,\n\n362\n00:20:12.800 --> 00:20:16.510\nmeans I'm still communicating, maybe a\nlittle slower, but I'm still in business.\n\n363\n00:20:16.510 --> 00:20:18.950\nOur users can still connect\nto that server, right.\n\n364\n00:20:18.950 --> 00:20:19.820\nIt's that fault tolerance.\n\n365\n00:20:19.820 --> 00:20:20.690\nWe can't forget about that.\n\n366\n00:20:20.690 --> 00:20:23.820\nWe do a lot of things to\nprovide fault tolerance.\n\n367\n00:20:23.820 --> 00:20:27.150\nWe're running Virtual Machines,\nwe've set up Live Migration,\n\n368\n00:20:27.150 --> 00:20:31.510\nwe've got Sands in the background so those\nvirtual hard drives are always there.\n\n369\n00:20:31.510 --> 00:20:33.387\nYou can't forget about\nthe network connectivity,\n\n370\n00:20:33.387 --> 00:20:35.099\nproviding that fault\ntolerance at that level.\n\n371\n00:20:35.099 --> 00:20:38.986\nCuz you can do all you want, if the thing\nloses connectivity to the rest of\n\n372\n00:20:38.986 --> 00:20:41.110\nthe network, what good does it do you?\n\n373\n00:20:41.110 --> 00:20:42.150\n>> Yeah.\n\n374\n00:20:42.150 --> 00:20:45.300\nEven with the internal networks,\nit was complaining that Mike didn't have\n\n375\n00:20:45.300 --> 00:20:48.350\nan external connection, but\nthat's not necessarily a bad thing or\n\n376\n00:20:48.350 --> 00:20:52.200\na wrong thing, maybe he needs high\navailability for his internal network.\n\n377\n00:20:52.200 --> 00:20:54.949\nHe can set this NIC teaming up and\nlet it fly.\n\n378\n00:20:54.949 --> 00:20:57.628\nThat way, he knows, if I lose one,\nI'm still pretty good to go.\n\n379\n00:20:57.628 --> 00:21:00.319\nI'm not gonna,\nat least I'm not gonna lose connectivity.\n\n380\n00:21:01.430 --> 00:21:02.940\nThat's a big thing.\n\n381\n00:21:02.940 --> 00:21:07.326\nHigh availability traffic's gotta have\na way to get to where it's going.\n\n382\n00:21:07.326 --> 00:21:09.380\nAnd if they're gonna give you\na way to make that happen,\n\n383\n00:21:09.380 --> 00:21:10.810\nwhy not devail yourself of it?\n\n384\n00:21:10.810 --> 00:21:11.430\n>> Absolutely.\n\n385\n00:21:11.430 --> 00:21:13.220\nOr maybe I'm just doing it for\nthorough play, right?\n\n386\n00:21:13.220 --> 00:21:16.930\nMaybe that Virtual Machine is\nproviding something to that internal\n\n387\n00:21:16.930 --> 00:21:19.990\nvirtual switch for\nother machines that are connected to it.\n\n388\n00:21:19.990 --> 00:21:24.790\nAnd I need the bandwidth of two or three\nnetwork adapters all aggregated there.\n\n389\n00:21:24.790 --> 00:21:26.000\nSo, fantastic.\n\n390\n00:21:26.000 --> 00:21:30.050\nAnd the algorithms they use on those have\ngotten much better on the NIC teaming.\n\n391\n00:21:30.050 --> 00:21:31.270\nIt divides the traffic up.\n\n392\n00:21:31.270 --> 00:21:35.070\nWhen you do the load balancing mode it's\nmuch better now at dividing up the traffic\n\n393\n00:21:35.070 --> 00:21:38.000\nand making sure that the is balanced.\n\n394\n00:21:38.000 --> 00:21:41.140\nWhen you're doing it through\nthe host operating system,\n\n395\n00:21:41.140 --> 00:21:45.600\nit used to be that one virtual machine\nwould connect to one part of that team and\n\n396\n00:21:45.600 --> 00:21:46.790\nit would stick on that one.\n\n397\n00:21:46.790 --> 00:21:50.430\nIt's actually much better now at letting\nthe virtual machines move back and forth\n\n398\n00:21:50.430 --> 00:21:54.250\nbetween the network adapters that are part\nof that team to balance that workload.\n\n399\n00:21:54.250 --> 00:21:55.360\n>> Make them share the load.\n\n400\n00:21:55.360 --> 00:21:57.735\n>> That's right.\n>> Nobody gets a free lunch here NIC team.\n\n401\n00:21:57.735 --> 00:21:59.260\n>> [LAUGH] That's it.\n\n402\n00:21:59.260 --> 00:22:02.210\n>> All right Mike, what else do we got\non the plate for virtual networks?\n\n403\n00:22:02.210 --> 00:22:03.740\n>> You know, that pretty much covers it.\n\n404\n00:22:03.740 --> 00:22:08.010\nWe've gone over all the big concepts\nthat they're gonna call out on the exam.\n\n405\n00:22:08.010 --> 00:22:11.220\nWe really gotten to understand\nthe difference between those networks\n\n406\n00:22:11.220 --> 00:22:14.250\nthat I can create,\nthose virtual switches, right?\n\n407\n00:22:14.250 --> 00:22:18.780\nYou got the external to give access to\nthe external world as well as the host.\n\n408\n00:22:18.780 --> 00:22:22.070\nYou've got the internal,\nwhich is just the VMs in the host.\n\n409\n00:22:22.070 --> 00:22:24.470\nYou've got the private, which is VM only.\n\n410\n00:22:24.470 --> 00:22:26.480\nI can do network isolation with that.\n\n411\n00:22:26.480 --> 00:22:28.800\nThat's another thing they\ncall out on the exam.\n\n412\n00:22:28.800 --> 00:22:32.610\nWe talked about those MAC addresses and\nmaking sure that you've got enough,\n\n413\n00:22:32.610 --> 00:22:33.530\nfirst of all.\n\n414\n00:22:33.530 --> 00:22:37.330\nMake sure that pool is big enough for\nall the machines that you're virtualizing.\n\n415\n00:22:37.330 --> 00:22:39.040\nStatically map them if you need to.\n\n416\n00:22:39.040 --> 00:22:40.530\nAdjust that pool.\n\n417\n00:22:40.530 --> 00:22:44.060\nAlso, if you're gonna run more than\none Hyper-V Server on the same subnet,\n\n418\n00:22:44.060 --> 00:22:46.590\nyou've gotta worry about those\nMAC address conflicts, so\n\n419\n00:22:46.590 --> 00:22:50.470\nyou've gotta change those pools so\nthat you're not overlapping there.\n\n420\n00:22:50.470 --> 00:22:54.855\nWe talked about V-LANce as another way\nto segregate your network traffic.\n\n421\n00:22:54.855 --> 00:22:55.960\n[COUGH] Excuse me.\n\n422\n00:22:55.960 --> 00:22:58.310\nWe talked about the synthetic\nnetwork adapters,\n\n423\n00:22:58.310 --> 00:22:59.670\nas well as the legacy network adapters.\n\n424\n00:22:59.670 --> 00:23:03.830\nRemember those synthetics\nnow support PXE boot or\n\n425\n00:23:03.830 --> 00:23:06.600\nbooting to the network, so\nyou no longer need to throw a legacy\n\n426\n00:23:06.600 --> 00:23:10.760\nnetwork adapter in there just to support\nconnecting to your imaging server or\n\n427\n00:23:10.760 --> 00:23:13.720\nwhatever else you might be\ndoing with your PXE boot.\n\n428\n00:23:13.720 --> 00:23:16.480\nWe also talked about setting\nup those NIC teams, so\n\n429\n00:23:16.480 --> 00:23:18.130\nI think that pretty much covers it.\n\n430\n00:23:18.130 --> 00:23:22.940\n>> Well, it's definitely a large plate for\nus to peruse around and eat upon.\n\n431\n00:23:22.940 --> 00:23:25.930\nSo check out this episode,\nwatch it as many times as necessary.\n\n432\n00:23:25.930 --> 00:23:29.280\nRemember, it basically at its core,\nthis is just networking,\n\n433\n00:23:29.280 --> 00:23:32.470\nso you should be good to go with\nany of the networking concepts.\n\n434\n00:23:32.470 --> 00:23:35.940\nNow all it is is about\nlearning how Hyper-V\n\n435\n00:23:35.940 --> 00:23:39.520\nallows you to work with virtual\nmachines in a virtualized network.\n\n436\n00:23:39.520 --> 00:23:40.630\nVery cool stuff.\n\n437\n00:23:40.630 --> 00:23:43.060\nThat being said, we're gonna go ahead and\nwrap this episode up.\n\n438\n00:23:43.060 --> 00:23:44.250\nHopefully you guys have enjoyed it.\n\n439\n00:23:44.250 --> 00:23:46.030\nWe had a great time making it for you.\n\n440\n00:23:46.030 --> 00:23:49.270\nSo signing off for ITProTV,\nI've been your host, Daniel Lowrie.\n\n441\n00:23:49.270 --> 00:23:49.880\n>> And I'm Mike Rodrick.\n\n442\n00:23:49.880 --> 00:23:51.383\n>> And we'll see you next time.\n\n443\n00:23:51.383 --> 00:23:57.360\n[MUSIC]\n\n",
          "vimeoId": "137828097"
        }
      ],
      "title": "Configure Hyper-V"
    },
    {
      "episodes": [
        {
          "description": "In this episode Ronnie and Don explore the weird world of interoperability between IPv4 and IPv6. They demonstrate using ISATAP and Teredo tunnels to allow IPv4 and IPv6 clients to communicate with each other.",
          "length": "3335",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/023-Interoperability-with-IPv6.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/023-Interoperability-with-IPv6-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/023-Interoperability-with-IPv6-sm.jpg",
          "title": "Interoperability with IPv6",
          "transcript": "WEBVTT\n\n1\n00:00:00.087 --> 00:00:10.087\n[MUSIC]\n\n2\n00:00:15.320 --> 00:00:22.506\n[SOUND]\n\n3\n00:00:22.506 --> 00:00:32.506\n[MUSIC]\n\n4\n00:00:33.964 --> 00:00:37.010\nAlright, good morning, good afternoon,\ngood evening, and welcome back.\n\n5\n00:00:37.010 --> 00:00:40.801\nTo another episode of ITProTV,\nI'm you're host Don Pezet, today with Mr.\n\n6\n00:00:40.801 --> 00:00:41.510\nRonnie Wong.\n\n7\n00:00:41.510 --> 00:00:42.410\nHow's it going Ronnie?\n\n8\n00:00:42.410 --> 00:00:43.860\n>> It is going very well today.\n\n9\n00:00:43.860 --> 00:00:45.700\nI found out something.\n\n10\n00:00:45.700 --> 00:00:48.950\nI'm not in the same state as\nJustin Bieber, and that makes me happy.\n\n11\n00:00:48.950 --> 00:00:50.500\n>> The same geographical state?\n\n12\n00:00:50.500 --> 00:00:51.210\n>> Yes\n>> Or mental state?\n\n13\n00:00:51.210 --> 00:00:51.990\n>> Both.\n>> [LAUGH]\n\n14\n00:00:51.990 --> 00:00:53.680\n>> Yeah, it makes me very happy.\n\n15\n00:00:53.680 --> 00:00:57.666\n>> Now, I'm very mad at my attorney,\nfor talking about my girlfriend.\n\n16\n00:00:57.666 --> 00:00:59.840\n[LAUGH]\n>> Well [LAUGH]\n\n17\n00:00:59.840 --> 00:01:00.590\n>> All right, well,\n\n18\n00:01:00.590 --> 00:01:03.790\nwe've got a neat episode today,\nthat's probably going to be a little bit\n\n19\n00:01:03.790 --> 00:01:08.380\nshorter of a one because we're going\nto be tackling inoperability with IPv6.\n\n20\n00:01:08.380 --> 00:01:10.830\nAnd there was a slight\nside bet as to whether or\n\n21\n00:01:10.830 --> 00:01:12.960\nnot I was gonna be able to\npronounce inoperability today.\n\n22\n00:01:12.960 --> 00:01:14.597\nSo, I am [LAUGH] I'm [CROSSTALK]\n>> Good.\n\n23\n00:01:14.597 --> 00:01:15.160\n>> Winning today.\n\n24\n00:01:15.160 --> 00:01:15.870\n>> Good, good.\n>> I'm a winner.\n\n25\n00:01:15.870 --> 00:01:16.520\nI can feel it.\n>> Right.\n\n26\n00:01:17.740 --> 00:01:20.420\n>> So I know we've talked\nabout IPv6 in other episodes.\n\n27\n00:01:20.420 --> 00:01:23.520\nToday we're gonna focus on how\nwe kinda make that transition.\n\n28\n00:01:23.520 --> 00:01:26.110\nYou know,\nwhat do you do during that phase of time,\n\n29\n00:01:26.110 --> 00:01:30.370\nwhere you've got some machines running\nIPv4, some machines running IPv6 and\n\n30\n00:01:30.370 --> 00:01:34.070\nyou need them to talk to each other,\nsomehow right?\n\n31\n00:01:34.070 --> 00:01:35.430\n>> Yeah.\n>> How do we interoperate\n\n32\n00:01:35.430 --> 00:01:37.030\nwhile we're still migrating?\n\n33\n00:01:37.030 --> 00:01:39.160\n>> Well speaking of that of course,\nthere are many,\n\n34\n00:01:39.160 --> 00:01:42.170\nwhat we can transitional\ntechnologies out there.\n\n35\n00:01:42.170 --> 00:01:44.090\nSo IPv6 one of the advertisements for\n\n36\n00:01:44.090 --> 00:01:47.725\nit in the beginning was there was people\ncalling it transitional richness.\n\n37\n00:01:47.725 --> 00:01:49.220\n>> [LAUGH]\n>> And gotta love that term.\n\n38\n00:01:49.220 --> 00:01:52.730\nAnd that means we've got so many stinking\nways that we can actually try and\n\n39\n00:01:52.730 --> 00:01:53.840\nmake this work together.\n\n40\n00:01:55.260 --> 00:01:56.746\nHere to at least sum it up.\n\n41\n00:01:56.746 --> 00:02:01.230\nAnd so, for Windows, for us,\nwe're really focusing in on\n\n42\n00:02:01.230 --> 00:02:05.000\ntwo picker technologies in terms\nof demoing them for you, right?\n\n43\n00:02:05.000 --> 00:02:09.022\nWe're gonna talk about Toredo, or Toredo,\nhowever you want to pronounce it.\n\n44\n00:02:09.022 --> 00:02:11.620\nAnd then we're also gonna talk\nabout the idea of ISATAP as well.\n\n45\n00:02:11.620 --> 00:02:14.480\nAnd so\nthose are the ones that we do focus in on.\n\n46\n00:02:14.480 --> 00:02:16.065\n>> Yeah, now let me tell you guys.\n\n47\n00:02:16.065 --> 00:02:18.353\n>> [LAUGH]\n>> All of the transitional technologies\n\n48\n00:02:18.353 --> 00:02:22.287\nit will, will be the official [CROSSTALK]\nthey all pretty much suck [CROSSTALK] and\n\n49\n00:02:22.287 --> 00:02:25.634\nit's well known even, even by\nthe people who developed the stuff,\n\n50\n00:02:25.634 --> 00:02:28.239\nit's all designed to just\nbe a temporary solution.\n\n51\n00:02:28.239 --> 00:02:28.739\n[CROSSTALK]\n>> That's right.\n\n52\n00:02:28.739 --> 00:02:29.539\n>> A stop gap thing.\n\n53\n00:02:29.539 --> 00:02:32.034\nSo none of these are permanent technology.\n\n54\n00:02:32.034 --> 00:02:33.494\nSo if you look at one of these and\n\n55\n00:02:33.494 --> 00:02:36.484\nyou go, good God,\nthat's a horrible kludge to get this thing\n\n56\n00:02:36.484 --> 00:02:37.030\nto even work.\n\n57\n00:02:37.030 --> 00:02:37.659\n>> You're right.\n\n58\n00:02:37.659 --> 00:02:38.394\n>> That's exactly\n\n59\n00:02:38.394 --> 00:02:38.974\n>> [LAUGH]\n>> Right.\n\n60\n00:02:38.974 --> 00:02:40.414\nAnd even the people in the business will\n\n61\n00:02:40.414 --> 00:02:43.070\ntell you the same thing.\nThese are just supposed to get you by.\n\n62\n00:02:43.070 --> 00:02:48.170\nThe best solution, if you're doing\na migration is to simply run IPv4 and\n\n63\n00:02:48.170 --> 00:02:50.480\nIPv6 at the same time.\n\n64\n00:02:50.480 --> 00:02:54.010\nIf you run both of them at the same time,\nthen you're good to go, and\n\n65\n00:02:54.010 --> 00:02:57.198\nmost modern systems are what\nare called dual stack systems.\n\n66\n00:02:57.198 --> 00:02:59.040\n>> Yep.\n>> So, Windows,\n\n67\n00:02:59.040 --> 00:03:03.310\nstarting with Windows Vista,\nthat's really where it started.\n\n68\n00:03:03.310 --> 00:03:08.220\nIt runs IPv6 and IPv4, and\nin newer versions of Windows,\n\n69\n00:03:08.220 --> 00:03:11.450\nlike in Server 2012, and Windows 8.\n\n70\n00:03:11.450 --> 00:03:14.280\nIPv6 is actually the preferred protocol.\n\n71\n00:03:14.280 --> 00:03:15.680\nAlright, let me show you what I mean.\n\n72\n00:03:15.680 --> 00:03:17.620\nHere, I'll just take this\nserver as an example.\n\n73\n00:03:17.620 --> 00:03:19.940\nExample, yeah.\n\n74\n00:03:19.940 --> 00:03:24.830\nSo here I am, on a server and\nI'm just gonna go into my network and\n\n75\n00:03:24.830 --> 00:03:26.670\nsharing center here.\n\n76\n00:03:26.670 --> 00:03:29.780\nAnd I'll go into my adapter settings, and\n\n77\n00:03:29.780 --> 00:03:31.800\nI'll just take one of\nthese network adapters.\n\n78\n00:03:31.800 --> 00:03:33.324\nDo you think I have enough?\n\n79\n00:03:33.324 --> 00:03:37.115\nSo, [CROSSTALK],\nI'll take one of these, and here we go.\n\n80\n00:03:37.115 --> 00:03:39.178\nAnd so looking at this network adapter.\n\n81\n00:03:39.178 --> 00:03:39.738\nShoot.\n\n82\n00:03:39.738 --> 00:03:41.071\nThere's a bridge on this one.\n\n83\n00:03:41.071 --> 00:03:42.056\n>> [LAUGH]\n>> This,\n\n84\n00:03:42.056 --> 00:03:45.156\nthis server has Hyper-V installed,\nso it's got a bridge.\n\n85\n00:03:45.156 --> 00:03:45.880\nSo I guess I actually need this one.\n\n86\n00:03:48.121 --> 00:03:48.921\nThere we go.\n\n87\n00:03:48.921 --> 00:03:54.400\nSee how I've got IPv4 and\nIPv6 both of them are checked off.\n\n88\n00:03:54.400 --> 00:03:57.650\nI'm running both protocols\nat the same time.\n\n89\n00:03:57.650 --> 00:03:59.220\nAnd on the IPv4 one,\n\n90\n00:03:59.220 --> 00:04:02.770\nif I go in there I can see I've\ngot a static IPv4 address, great.\n\n91\n00:04:02.770 --> 00:04:07.700\nAnd if I go to IPv6, and I pull that up,\nwell I'm using auto configuration, but\n\n92\n00:04:07.700 --> 00:04:11.979\nI could come in here and manually say,\nall right, this guys gonna be you know,\n\n93\n00:04:11.979 --> 00:04:16.090\n2001 colon, colon 55 Right?\n\n94\n00:04:16.090 --> 00:04:20.070\nWith a sixty four bit, suffix or prefix.\n\n95\n00:04:20.070 --> 00:04:21.940\nAnd then I can specify my default gateway.\n\n96\n00:04:21.940 --> 00:04:24.470\nMaybe it's.\n2001 colon 1, colon comma 1.\n\n97\n00:04:24.470 --> 00:04:26.860\nAlright, so\nI can manually put those addresses.\n\n98\n00:04:26.860 --> 00:04:28.680\nIn there, and, and off we off go.\n\n99\n00:04:28.680 --> 00:04:30.530\nYou guys should've seen IPv6 addressed\n\n100\n00:04:30.530 --> 00:04:31.810\nby this point\n>> Yeah\n\n101\n00:04:31.810 --> 00:04:33.720\n>> If you did the, you know, the MCS 8 for\n\n102\n00:04:33.720 --> 00:04:35.700\nWindows 8, you've definitely seen it.\n\n103\n00:04:35.700 --> 00:04:39.840\nIf you haven't IPv6 addresses\nare usually a good bit longer than this.\n\n104\n00:04:39.840 --> 00:04:40.990\nRight?\n\n105\n00:04:40.990 --> 00:04:42.130\nSo let's see.\n\n106\n00:04:45.640 --> 00:04:52.750\nLet's see that is half of it [LAUGH]\n>> Yeah.\n\n107\n00:04:52.750 --> 00:04:53.700\n>> And let's see, did I?\n\n108\n00:04:57.180 --> 00:04:59.120\nNope.\nOne more, missing one more.\n\n109\n00:05:00.600 --> 00:05:01.250\nThere.\n\n110\n00:05:01.250 --> 00:05:04.530\nSo that would be like\na full length IPv6 address.\n\n111\n00:05:04.530 --> 00:05:07.270\nSo you know, you can manually put\nthat in there and now I've got\n\n112\n00:05:07.270 --> 00:05:11.448\na static IPv6 address that I can use\non the network and everything's great.\n\n113\n00:05:11.448 --> 00:05:15.340\nRight, everything is wonderful and\nthen I can put in my default gateway.\n\n114\n00:05:15.340 --> 00:05:16.380\nWho ever that is.\n\n115\n00:05:16.380 --> 00:05:18.590\nAnd I get kind of stuff put in there now.\n\n116\n00:05:18.590 --> 00:05:20.366\nI'm going to have a slight\nproblem in there,\n\n117\n00:05:20.366 --> 00:05:23.560\nI didn't portion my network exactly right.\n\n118\n00:05:23.560 --> 00:05:28.680\nSo let me fix that, there.\n\n119\n00:05:28.680 --> 00:05:29.360\nAlright.\n\n120\n00:05:29.360 --> 00:05:35.555\nSo now, my server is running IPv6 and\nIPv4 at the same time.\n\n121\n00:05:35.555 --> 00:05:39.670\n[LAUGH] And\nit's running a Microsoft command prompt.\n\n122\n00:05:39.670 --> 00:05:43.110\nSo if I want to communicate\nto IPv4 systems,\n\n123\n00:05:43.110 --> 00:05:45.720\nit will automatically make that switch for\nme.\n\n124\n00:05:45.720 --> 00:05:50.330\nAnd if I wanna talk to an IPv6 system, it\nwill automatically make that switch too.\n\n125\n00:05:50.330 --> 00:05:55.300\nIt's automatically flipping between\nthe protocols based on what I'm doing.\n\n126\n00:05:55.300 --> 00:05:58.490\nYou know,\nbased on who it is that I'm talking to.\n\n127\n00:05:58.490 --> 00:06:01.010\nAnd Windows is smart enough\nto bounce between these.\n\n128\n00:06:01.010 --> 00:06:02.650\nSo you know, here's my LAN and\n\n129\n00:06:02.650 --> 00:06:08.040\nthere's that static IPv6 address that I\nput in as well as my link local address.\n\n130\n00:06:08.040 --> 00:06:10.690\nYou know, those are being attached and\nthere's my IPv4 address.\n\n131\n00:06:10.690 --> 00:06:12.570\nSo I've got both.\n\n132\n00:06:12.570 --> 00:06:18.270\nAnd if I do ping,\nto a IPv4 address well, ping uses IPv4.\n\n133\n00:06:18.270 --> 00:06:22.040\nBut if I do ping to an IPv6 address,\n\n134\n00:06:22.040 --> 00:06:28.230\nlike this is the IPv6 loopback,\nthen ping uses IPv6!\n\n135\n00:06:28.230 --> 00:06:31.040\nAnd so it's automatically\nflipping between the protocols.\n\n136\n00:06:31.040 --> 00:06:35.030\nThis is the best solution for\nmigrating your systems.\n\n137\n00:06:35.030 --> 00:06:35.700\n>> Yep.\n\n138\n00:06:35.700 --> 00:06:38.640\n>> Run both until you get\neverybody running IPv6 and\n\n139\n00:06:38.640 --> 00:06:41.980\nthen you go back and\nremove IPv4 and you're done, right?\n\n140\n00:06:41.980 --> 00:06:42.990\n>> Yeah.\n[LAUGH]\n\n141\n00:06:42.990 --> 00:06:46.070\n>> That is a normal stable thing.\n\n142\n00:06:46.070 --> 00:06:49.200\nThe only negative is you might\nhave devices in your network.\n\n143\n00:06:49.200 --> 00:06:50.570\n>> Yeah.\n>> That don't support IPv6, and\n\n144\n00:06:50.570 --> 00:06:53.050\nif that's the case they\nneed to be replaced.\n\n145\n00:06:53.050 --> 00:06:55.670\nWell you might have a significant\nfinancial investment in that, so\n\n146\n00:06:55.670 --> 00:06:58.140\nit might be a while,\nbefore it can be replaced.\n\n147\n00:06:58.140 --> 00:07:00.660\nAnd that's where these\ntransitional technologies come in.\n\n148\n00:07:00.660 --> 00:07:01.940\n>> Yep.\n>> Alright, so\n\n149\n00:07:01.940 --> 00:07:04.560\nwhich do we wanna do first Ronnie?\n\n150\n00:07:04.560 --> 00:07:08.230\nDo we wanna talk about ISATAB first?\n\n151\n00:07:08.230 --> 00:07:08.810\nOr?\n\n152\n00:07:10.940 --> 00:07:11.440\n>> I,\n>> Lets,\n\n153\n00:07:11.440 --> 00:07:11.940\n>> I don't know [LAUGH]\n\n154\n00:07:11.940 --> 00:07:13.391\n>> Let's tackle ISATAB first because it's\n\n155\n00:07:13.391 --> 00:07:15.960\nthe one that's probably more realistic.\nNow you remember I said they all\n\n156\n00:07:15.960 --> 00:07:16.970\nkind of stink.\n\n157\n00:07:16.970 --> 00:07:20.210\nAnd the reason is you know, some of\nthem are varying levels of difficulty.\n\n158\n00:07:20.210 --> 00:07:23.902\nThey almost all require\nan intermediary system.\n\n159\n00:07:23.902 --> 00:07:28.670\nThe idea, let me, let me draw a picture.\n\n160\n00:07:28.670 --> 00:07:35.260\nThe idea is, that,\nyou might have a you know,\n\n161\n00:07:35.260 --> 00:07:38.360\na network that is all IPv6, right?\n\n162\n00:07:38.360 --> 00:07:41.610\nSo here's your home office and\nit's all IPv6.\n\n163\n00:07:42.830 --> 00:07:44.742\nAnd then you have a branch office and\n\n164\n00:07:44.742 --> 00:07:48.192\nbecause your progressive on your\nnetwork you know it's IPv6.\n\n165\n00:07:48.192 --> 00:07:50.201\nAlright.\n\n166\n00:07:50.201 --> 00:07:55.464\nBut they might be connected via, you know,\nwell you probably have a router and\n\n167\n00:07:55.464 --> 00:08:00.587\nsomething like that here, and\nthen they connect Via the internet, right?\n\n168\n00:08:00.587 --> 00:08:04.301\n>> Mm-hm.\n>> And, if that's the case.\n\n169\n00:08:04.301 --> 00:08:09.171\nIf they connect via the internet,\nour big problem is going to be that\n\n170\n00:08:09.171 --> 00:08:13.029\nthe internet is still predominantly IPv4,\nright?\n\n171\n00:08:13.029 --> 00:08:16.292\nNow there are IPv6 networks\non the internet right now,\n\n172\n00:08:16.292 --> 00:08:19.010\nbut if you take, like,\nmy house for example.\n\n173\n00:08:19.010 --> 00:08:23.960\nAt home I have a cable modem, and\nmy ISP only gives me an IPv4 address.\n\n174\n00:08:23.960 --> 00:08:28.540\nNo IPv6, so I, I actually can't\ncommunicate with IPv6 over\n\n175\n00:08:28.540 --> 00:08:33.030\nthe internet from my house because my\nISP doesn't support it, all right?\n\n176\n00:08:33.030 --> 00:08:38.440\nSo in a situation like, this, how can I\nget, how I get this network over here,\n\n177\n00:08:38.440 --> 00:08:43.202\nto talk to this network over here when\nthere's an IPv4 network in the way,\n\n178\n00:08:43.202 --> 00:08:44.360\nall right?\n\n179\n00:08:44.360 --> 00:08:47.590\nSo we need a transitional technology,\nand there's a couple of Choices.\n\n180\n00:08:47.590 --> 00:08:52.796\nI could,\nhave a firewall that is sitting here.\n\n181\n00:08:52.796 --> 00:08:55.390\nAnd a firewall sitting here.\n\n182\n00:08:55.390 --> 00:08:59.430\nAnd have them create a tunnel,\nbetween each other, all right.\n\n183\n00:08:59.430 --> 00:09:02.850\nAnd that type of a tunnel is generally\ncalled a six to four tunnel.\n\n184\n00:09:02.850 --> 00:09:06.640\nRight, but you can create several of\ndifferent types, even IPs have tunnels.\n\n185\n00:09:06.640 --> 00:09:11.720\nAnd you can take your IPv6 traffic,\nencapsulate it in that tunnel and send\n\n186\n00:09:11.720 --> 00:09:18.750\nit across so the internet would just see\nIPv4 traffic going across the internet.\n\n187\n00:09:18.750 --> 00:09:23.640\nBut at the ends of the, the tunnel\nyou would have IPv6 going in, and\n\n188\n00:09:23.640 --> 00:09:27.090\nthen IPv6 coming out, and you'd be able\nto communicate between those networks.\n\n189\n00:09:27.090 --> 00:09:28.440\nThat works really well.\n\n190\n00:09:28.440 --> 00:09:32.370\nBut it requires firewalls, or routers or\nservers that can build that tunnel and\n\n191\n00:09:32.370 --> 00:09:34.840\nput it into place, all right?\n\n192\n00:09:34.840 --> 00:09:36.600\nWhat if we don't have that though?\n\n193\n00:09:36.600 --> 00:09:41.200\nWhat if,\nI've got a corporate headquarters?\n\n194\n00:09:41.200 --> 00:09:43.010\nRight?\nSo maybe this network on the left here\n\n195\n00:09:43.010 --> 00:09:45.039\nis my corporate headquarters.\n\n196\n00:09:47.430 --> 00:09:52.790\nAnd on the right,\ninstead of having a IPv6 network,\n\n197\n00:09:52.790 --> 00:09:55.080\nmaybe what I actually have is,\nis like a hotel.\n\n198\n00:09:56.350 --> 00:09:59.610\nAnd I've got one of my employees\nout there with their laptop, and\n\n199\n00:09:59.610 --> 00:10:05.240\nthey sit down on this network, and\nman, it's a IPv4 network right there,\n\n200\n00:10:05.240 --> 00:10:09.780\nand so they're sitting on this network,\nand they're on this IPv4 network.\n\n201\n00:10:09.780 --> 00:10:13.150\nThey're going to cross an IPv4 internet,\nand\n\n202\n00:10:13.150 --> 00:10:15.190\nthey need to get into my IPv6 workplace.\n\n203\n00:10:15.190 --> 00:10:17.160\nWhat do we do then?\n\n204\n00:10:17.160 --> 00:10:20.840\nI can't call the hotel and say, hey, can\nyou put this firewall in for me, right?\n\n205\n00:10:20.840 --> 00:10:24.050\nSo, we have to have some kind\nof a solution, that can be done\n\n206\n00:10:24.050 --> 00:10:28.080\nfrom the work station itself to be\nable to communicate in, all right?\n\n207\n00:10:28.080 --> 00:10:31.870\nAnd those are the two types of\ntransitional technology that will show up\n\n208\n00:10:31.870 --> 00:10:33.110\non the exam.\n\n209\n00:10:33.110 --> 00:10:36.260\nThere's one that's\ncalled an isotap tunnel.\n\n210\n00:10:36.260 --> 00:10:40.070\nAnd that's where your system builds\na tunnel over an IPV4 network\n\n211\n00:10:40.070 --> 00:10:42.680\nto be able to communicate to IPV6 systems.\n\n212\n00:10:42.680 --> 00:10:46.220\nAnd the other type is what's called\na terito tunnel or the terito tunnel.\n\n213\n00:10:46.220 --> 00:10:49.650\nYou hear both, and that's where both ends\n\n214\n00:10:49.650 --> 00:10:53.080\nbuild the tunnel to meet each other in\nthe middle through an intermediary.\n\n215\n00:10:53.080 --> 00:10:57.720\nNeither one is a great solution, but they\ndo work in their temporary work around.\n\n216\n00:10:57.720 --> 00:11:01.060\nJust to get you pass these situations\nuntil the internet and the ISP.\n\n217\n00:11:01.060 --> 00:11:02.055\nPiece catch up.\n\n218\n00:11:02.055 --> 00:11:04.970\n>> Yeah.\nNow when you say that sounds like great\n\n219\n00:11:04.970 --> 00:11:09.620\nfun, the ability to actually do this it's\na great thing to actually be able to do..\n\n220\n00:11:09.620 --> 00:11:11.880\nBut it's a lot of work\nto actually set up and\n\n221\n00:11:11.880 --> 00:11:13.970\nwe're gonna actually be doing\na demo of both of these.\n\n222\n00:11:13.970 --> 00:11:16.000\nOr at least a partial demo of one and\n\n223\n00:11:16.000 --> 00:11:19.970\nthen we'll actually do the demo of,\nof the isoptap as well.\n\n224\n00:11:19.970 --> 00:11:20.860\nYeah.\n>> So Ryan.\n\n225\n00:11:20.860 --> 00:11:21.440\n>> Okay.\n\n226\n00:11:21.440 --> 00:11:22.322\n>> Why don't you give us an overview.\n>> Sure.\n\n227\n00:11:22.322 --> 00:11:23.693\n>> Of the isoptap tunnel and\nwe'll start there.\n\n228\n00:11:23.693 --> 00:11:24.343\n>> Yep.\n\n229\n00:11:24.343 --> 00:11:26.514\n>> And then then we'll talk\nabout the good old train.\n\n230\n00:11:26.514 --> 00:11:27.981\n>> All right.\nSo I made a, a,\n\n231\n00:11:27.981 --> 00:11:30.790\na diagram on my picker computer here.\n\n232\n00:11:30.790 --> 00:11:32.060\nAnd if I, did share up.\n\n233\n00:11:32.060 --> 00:11:32.650\nOkay.\n\n234\n00:11:32.650 --> 00:11:37.763\nSo here's the basic setup that I have,\nI created a, an IPv4 network over here\n\n235\n00:11:37.763 --> 00:11:42.802\non the left hand side, and then I actually\ndid a routing remote access server, and\n\n236\n00:11:42.802 --> 00:11:47.647\nI just created a router in the center\nhere that can handle both IPv4 and IPv6.\n\n237\n00:11:47.647 --> 00:11:54.495\nRemember that the interfaces are actually\nturned on for both protocols by default.\n\n238\n00:11:54.495 --> 00:11:58.705\nAnd then over on the right is actually\nrepresenting my IPv so that's six network.\n\n239\n00:11:58.705 --> 00:12:03.497\nSo what are we generally actually\ntrying to do here is that we want to\n\n240\n00:12:03.497 --> 00:12:08.289\nactually be able to, to take isotope,\nand create this ability for\n\n241\n00:12:08.289 --> 00:12:15.153\nan IPv4 to be able to translate or change\nand send information to that IPv6 network.\n\n242\n00:12:15.153 --> 00:12:19.062\nAnd so in the center here, we're gonna\nhave to be running what we call an isotap\n\n243\n00:12:19.062 --> 00:12:20.922\nrouter that will allow us to do this.\n\n244\n00:12:20.922 --> 00:12:23.920\nAll right, so that's a little\nbit strange in the very fact\n\n245\n00:12:23.920 --> 00:12:26.561\nthat it actually is going\nto create an IPv6 network,\n\n246\n00:12:26.561 --> 00:12:29.720\nthat's gonna actually extend\nout to whoever we want it to.\n\n247\n00:12:29.720 --> 00:12:34.170\nSo, it's actually putting everybody\non one big IPv6 network, and so\n\n248\n00:12:34.170 --> 00:12:36.380\nthat's what actually ends up happening.\n\n249\n00:12:36.380 --> 00:12:39.550\n>> And on that router in the middle\nof Ronnie's there where it says R1.\n\n250\n00:12:39.550 --> 00:12:41.106\nYeah.\n>> That's gonna be a Window's Server\n\n251\n00:12:41.106 --> 00:12:41.729\n2012 Box.\n\n252\n00:12:41.729 --> 00:12:43.424\n>> Yeah.\n>> A Windows Server 2012 can be\n\n253\n00:12:43.424 --> 00:12:44.338\nthe isotap router and\n\n254\n00:12:44.338 --> 00:12:48.060\nthat's really what shows up on the exam\nis that idea of setting up the router.\n\n255\n00:12:48.060 --> 00:12:51.430\nIn real life land, you can use\nCisco routers, juniper routers,\n\n256\n00:12:51.430 --> 00:12:53.790\nyou know a lot of a them will\ndo this right out of the box.\n\n257\n00:12:53.790 --> 00:12:55.870\nAnd they're a little better suited for it.\n\n258\n00:12:55.870 --> 00:12:58.490\nBut if you don't have that infrastructure,\nit's nice that you can just use\n\n259\n00:12:58.490 --> 00:13:01.750\nWindows to do it, bring it up that way,\nand, a, and off you go.\n\n260\n00:13:01.750 --> 00:13:03.540\nSo, so that's what we're\ngonna take a look at, and\n\n261\n00:13:03.540 --> 00:13:05.390\nthat's what we really need\nto be aware of for the exam.\n\n262\n00:13:05.390 --> 00:13:05.890\n>> Yup.\n\n263\n00:13:07.092 --> 00:13:08.850\n>> All right, so Ronnie,\nyou wanna show it in action?\n\n264\n00:13:08.850 --> 00:13:12.040\n>> Yup, let's, let's go ahead and,\nand show this in action.\n\n265\n00:13:12.040 --> 00:13:12.560\nOkay?\n\n266\n00:13:12.560 --> 00:13:16.840\nNow, I've already preconfigured\na little bit of this, for us here so\n\n267\n00:13:16.840 --> 00:13:23.680\nI wanna verify that on my my DC over here,\nthat I am just running IPv4,\n\n268\n00:13:23.680 --> 00:13:28.020\nand I wanna then turn this off so\nthat we actually know.\n\n269\n00:13:28.020 --> 00:13:31.590\nSo I go to my local server on\nthe actual Server Manager.\n\n270\n00:13:31.590 --> 00:13:35.770\nAnd then, down here,\nnotice it only shows the ID of IPv4, so\n\n271\n00:13:35.770 --> 00:13:40.900\nI did that and over on server one,\nI also just limited that to IPv6.\n\n272\n00:13:40.900 --> 00:13:44.730\nIn the middle, you actually will\nsee what it says, on the router.\n\n273\n00:13:44.730 --> 00:13:50.305\nWhere it actually shows IPv4 and IPv6.\n\n274\n00:13:50.305 --> 00:13:51.650\nAt least, I think it does.\n\n275\n00:13:51.650 --> 00:13:56.500\n>> [LAUGH]\nAnd the guy in the middle,\n\n276\n00:13:56.500 --> 00:13:59.470\nyou know,\nis gonna have to run IPv4 and IPv6.\n\n277\n00:13:59.470 --> 00:14:02.650\nThey can be on the same interface,\nbut normally if it's a router,\n\n278\n00:14:02.650 --> 00:14:05.245\nthat IPv4 interface would be\npointing like to the internet.\n\n279\n00:14:05.245 --> 00:14:06.570\n>> Mm-hm.\n>> And that IPv6 interface would be\n\n280\n00:14:06.570 --> 00:14:07.686\npointing to internal networks.\n\n281\n00:14:07.686 --> 00:14:08.770\nSo there's normally two interfaces.\n\n282\n00:14:08.770 --> 00:14:11.292\n>> Yep, so here's the two interfaces and,\n\n283\n00:14:11.292 --> 00:14:15.842\nthe one pointing to my PV4 network\nis going to be the 1921680.1.\n\n284\n00:14:15.842 --> 00:14:19.940\nThe one really pointing out bound is\nactually going to be the one pointing to\n\n285\n00:14:19.940 --> 00:14:20.990\nmy IPV6 network.\n\n286\n00:14:20.990 --> 00:14:24.270\nNow, running on that server though,\nI'm only running IPV6.\n\n287\n00:14:24.270 --> 00:14:28.470\nAnd there currently,\neven though I've got it turned off.\n\n288\n00:14:28.470 --> 00:14:35.450\nYou'll see that there's no actual IPv6\nnetwork on it except for the link\n\n289\n00:14:35.450 --> 00:14:39.410\nlocal address, and that's not enough for\nus to be able to do what we need to do.\n\n290\n00:14:39.410 --> 00:14:40.100\nOkay?\n\n291\n00:14:40.100 --> 00:14:42.020\nSo we need to go ahead and configure,\n\n292\n00:14:42.020 --> 00:14:48.190\nour lab here to ensure that we can\nactually do this correctly, okay?\n\n293\n00:14:48.190 --> 00:14:49.715\nSo the first thing that we're going to do,\n\n294\n00:14:49.715 --> 00:14:55.660\nis we'll need to go back to the router\nhere, and enable it for IPv6.\n\n295\n00:14:55.660 --> 00:15:00.450\nNow, right now if I go and, this is where\nthe, the issue comes in, at least for\n\n296\n00:15:00.450 --> 00:15:04.900\nme right, everything that's done in\nPowerShell so you have to learn these,\n\n297\n00:15:04.900 --> 00:15:08.770\nnet, net command lists, or powerShell\ncommand lists to make this work.\n\n298\n00:15:08.770 --> 00:15:12.360\nIf there was a GUI to it I would\nhave found it in a heartbeat, okay?\n\n299\n00:15:12.360 --> 00:15:13.925\nThere is no GUI to this, so\n>> Haha.\n\n300\n00:15:13.925 --> 00:15:17.570\n>> PowerShell is the way that you're\nactually going to go here, okay?\n\n301\n00:15:17.570 --> 00:15:21.730\nNow notice I've gone ahead, because I'm\nactually on, running as the administrator-\n\n302\n00:15:21.730 --> 00:15:24.820\nI am running in administrative\nmode here on the PowerShell.\n\n303\n00:15:24.820 --> 00:15:27.800\nAnd so what we want to do,\nis we want to actually go ahead and\n\n304\n00:15:27.800 --> 00:15:32.490\nadvertise a network out to,\nthese, the server what.\n\n305\n00:15:32.490 --> 00:15:33.090\nOkay.\n\n306\n00:15:33.090 --> 00:15:35.270\nSo what we do here is we\nactually create a new.\n\n307\n00:15:36.280 --> 00:15:37.070\nNetRoute.\n\n308\n00:15:39.140 --> 00:15:40.900\nAnd so, you can actually type it in,\n\n309\n00:15:40.900 --> 00:15:44.910\nI always press tab and let it actually\nfill in the command for me at this point.\n\n310\n00:15:44.910 --> 00:15:46.102\nAnd once I do that,\n\n311\n00:15:46.102 --> 00:15:50.364\nI need to actually be able to\nadvertise out a particular interface.\n\n312\n00:15:50.364 --> 00:15:53.454\nNow, in terms of that interface,\nlet me show you what I need here.\n\n313\n00:15:53.454 --> 00:15:57.221\nI'm gonna go ahead and\ndo ipconfig The one that I'm looking for\n\n314\n00:15:57.221 --> 00:16:01.670\nis the one facing my server,\nwhich is the one with the 10.1.0.1.\n\n315\n00:16:01.670 --> 00:16:06.100\nAnd it's actually this name that\nI'm looking for right here, okay?\n\n316\n00:16:06.100 --> 00:16:06.820\nSo that's the key.\n\n317\n00:16:06.820 --> 00:16:10.245\nSo new Net route.\n\n318\n00:16:10.245 --> 00:16:13.435\nAnd then I can do what's\ncalled an interface alias.\n\n319\n00:16:13.435 --> 00:16:20.005\nNow I've actually just start typing\nit in after a moment here, okay.\n\n320\n00:16:20.005 --> 00:16:23.475\nIt actually types it out for\nme, and I have to put it inside\n\n321\n00:16:25.375 --> 00:16:28.545\nof quotations here because of the space,\nI believe, okay.\n\n322\n00:16:28.545 --> 00:16:30.755\n>> Lotta room for typos in this stuff.\n\n323\n00:16:30.755 --> 00:16:33.060\n>> Yes, tons of room for typos\n>> And I guarantee you,\n\n324\n00:16:33.060 --> 00:16:34.670\nall you have to do is do one.\n\n325\n00:16:34.670 --> 00:16:36.190\nThe nice thing about a power shell is,\n\n326\n00:16:36.190 --> 00:16:39.020\nif you do a typo, it's gonna let\nyou know you've done it wrong.\n\n327\n00:16:39.020 --> 00:16:40.480\nSo, so we have this.\n\n328\n00:16:40.480 --> 00:16:41.150\nOkay.\n\n329\n00:16:41.150 --> 00:16:45.840\nThen I have to tell it what\nI want it to advertise out.\n\n330\n00:16:45.840 --> 00:16:48.600\nYou do a destination prefix here.\n\n331\n00:16:48.600 --> 00:16:52.400\nNow since, Dennis,\nI'm just making one up here.\n\n332\n00:16:59.220 --> 00:17:00.040\nSo here it is.\n\n333\n00:17:00.040 --> 00:17:03.340\nHere's my ticker prefix, and I'm going\nto run out of room on my screen here.\n\n334\n00:17:05.533 --> 00:17:08.040\nAnd then, / 64, and\n\n335\n00:17:08.040 --> 00:17:12.310\nbecause I'm telling it I need to actually\npublish this into my routing table.\n\n336\n00:17:12.310 --> 00:17:14.770\nPublish and then yes.\n\n337\n00:17:15.920 --> 00:17:17.550\nOops, see, there it is, there's the typo.\n\n338\n00:17:17.550 --> 00:17:18.460\nI misspelled something.\n\n339\n00:17:18.460 --> 00:17:20.910\n>> Yeah, I think you need a colon\ncolon at the end of that address.\n\n340\n00:17:20.910 --> 00:17:21.450\n>> I do.\nGosh.\n\n341\n00:17:21.450 --> 00:17:22.920\nYeah.\n>> You didn't do the whole.\n\n342\n00:17:22.920 --> 00:17:23.860\n>> I did not.\n\n343\n00:17:23.860 --> 00:17:24.430\nYou are correct.\n\n344\n00:17:27.450 --> 00:17:30.459\nColon colon.\nThere we go.\n\n345\n00:17:30.459 --> 00:17:31.320\nYep.\n\n346\n00:17:31.320 --> 00:17:34.580\nSo, once everything is actually done, you\nshould see where you get the destination\n\n347\n00:17:34.580 --> 00:17:37.900\nprefix here, and it shows that these\nroutes are actually in there, and\n\n348\n00:17:37.900 --> 00:17:41.890\ntheir ascent, they attach this\ninterface index that we see.\n\n349\n00:17:41.890 --> 00:17:44.800\nAnd so, that is pretty much\nthe first configurationer,\n\n350\n00:17:44.800 --> 00:17:48.820\nwhich is actually getting a route into the\nrouting table they wanna advertise out.\n\n351\n00:17:48.820 --> 00:17:51.250\nNow, or, or publish out there, okay.\n\n352\n00:17:51.250 --> 00:17:52.940\nNext thing we have to do is tell it hey,\n\n353\n00:17:52.940 --> 00:17:56.160\nthere's other machines out there\nthat are gonna actually dev,\n\n354\n00:17:56.160 --> 00:18:00.063\nor essentially derive their IP\naddress from this that I just had.\n\n355\n00:18:00.063 --> 00:18:04.120\nSo we have to actually add\nin another one here, and\n\n356\n00:18:04.120 --> 00:18:07.220\nthis is where we set net IP interface.\n\n357\n00:18:09.550 --> 00:18:12.550\nAnd once again we need\nthat interface alias here.\n\n358\n00:18:13.930 --> 00:18:15.540\nThe name of that interface.\n\n359\n00:18:15.540 --> 00:18:19.930\nNow you can do this with an interface\nindex number as well, as long as you have\n\n360\n00:18:19.930 --> 00:18:24.970\nthat inner that, that index number\nright here at the beginning, okay.\n\n361\n00:18:24.970 --> 00:18:27.260\nBut let's just do it\nusing this one instead.\n\n362\n00:18:27.260 --> 00:18:30.430\nBecause you may see both\nof them on the exam, okay.\n\n363\n00:18:31.590 --> 00:18:34.490\n>> And it, it's this functionality right\nhere that's really stolen the thunder\n\n364\n00:18:34.490 --> 00:18:35.175\nfrom DHCP.\n\n365\n00:18:35.175 --> 00:18:35.770\n>> Mm-hm.\n\n366\n00:18:35.770 --> 00:18:38.470\n>> I don't need to create DHCP pools,\nI can just advertise a\n\n367\n00:18:38.470 --> 00:18:39.940\n>> Prefix from a router.\n\n368\n00:18:39.940 --> 00:18:43.435\nThe workstations and servers on\nthe network will hear that prefix and\n\n369\n00:18:43.435 --> 00:18:47.540\nauto-generate their address to,\nto fall within that network.\n\n370\n00:18:47.540 --> 00:18:49.540\nSo that's basically what\nRonnie's setting up here.\n\n371\n00:18:49.540 --> 00:18:51.300\nIt's kind of a pseudo DHCP server.\n\n372\n00:18:51.300 --> 00:18:52.920\nNow he's not pushing options with it.\n\n373\n00:18:52.920 --> 00:18:54.840\nLike DNS server and stuff.\n\n374\n00:18:54.840 --> 00:18:57.030\nSo we still have a need for DHCP.\n\n375\n00:18:57.030 --> 00:18:59.460\nBut this, this kinda takes\nover that addressing part.\n\n376\n00:18:59.460 --> 00:19:02.610\n>> I'm trying to get a little bit above so\nwe can see a little bit more.\n\n377\n00:19:02.610 --> 00:19:04.550\nAnd then you need to advertise it out,\nokay.\n\n378\n00:19:04.550 --> 00:19:07.510\nSo it's actually got to push it\nout in the interface here, and\n\n379\n00:19:07.510 --> 00:19:11.020\nyou have to type in the keyword\nenable to make it actually work.\n\n380\n00:19:12.620 --> 00:19:13.280\nAlright.\n\n381\n00:19:13.280 --> 00:19:16.940\nSo once we have the actual\nadvertising going on, at this point,\n\n382\n00:19:16.940 --> 00:19:21.260\nit should be sending it out ethernet two,\nwhich is the one facing my server.\n\n383\n00:19:22.320 --> 00:19:26.410\nAnd so if I switch over to\nthe actual server, here,\n\n384\n00:19:26.410 --> 00:19:29.920\nremember that right now I have\nnothing on this interface.\n\n385\n00:19:29.920 --> 00:19:34.505\nI run an IP config now,\nnotice Is that it added in a natural IPV6\n\n386\n00:19:34.505 --> 00:19:38.855\naddress based on the number\nthat I actually typed in, okay?\n\n387\n00:19:38.855 --> 00:19:43.225\nSo, now we're getting the IPV6\naddress on that particular server.\n\n388\n00:19:43.225 --> 00:19:46.030\nSo, it can actually establish\ncommunication now with that router.\n\n389\n00:19:46.030 --> 00:19:47.890\nAnd it's important to\nknow that this is not,\n\n390\n00:19:47.890 --> 00:19:50.010\nthis isn't part of the,\nthe transitional technology.\n\n391\n00:19:50.010 --> 00:19:52.440\nThis is something that you're\ngonna do on any IPV6 network.\n\n392\n00:19:52.440 --> 00:19:52.940\n>> Right.\n\n393\n00:19:52.940 --> 00:19:55.720\n>> If you have a router, Ronny just\nhappens to be using a server as his\n\n394\n00:19:55.720 --> 00:19:57.240\nrouter, but if you had a physical router,\n\n395\n00:19:57.240 --> 00:19:59.840\nCisco router of whatever,\nyou would do the same exact thing.\n\n396\n00:19:59.840 --> 00:20:02.260\nYou would advertise your prefix so\n\n397\n00:20:02.260 --> 00:20:04.640\nthat your machines on the network\ncould learn it and find it.\n\n398\n00:20:04.640 --> 00:20:08.130\nSo, this would, would typically already\nbe done in a production environment.\n\n399\n00:20:08.130 --> 00:20:10.640\nHe's just Getting that IPV6 network in,\nin gear.\n\n400\n00:20:10.640 --> 00:20:11.370\n>> Yep.\n\n401\n00:20:11.370 --> 00:20:13.930\nSo once we're actually up here,\nnow we need to go in,\n\n402\n00:20:13.930 --> 00:20:18.120\nand because we're using isotap, we need\nto actually create a dns record for it.\n\n403\n00:20:18.120 --> 00:20:19.210\nOkay?\n\n404\n00:20:19.210 --> 00:20:24.000\nSo over on the domain controller,\nI need to actually go\n\n405\n00:20:24.000 --> 00:20:28.070\ninto my server manager And then the server\nmanager I pick the actual server.\n\n406\n00:20:28.070 --> 00:20:28.660\nWhich is DNS.\n\n407\n00:20:28.660 --> 00:20:33.120\nAnd then I right click and\nI go to the DNS manager.\n\n408\n00:20:34.550 --> 00:20:37.440\nAnd now I can go to my\nforward look up zone.\n\n409\n00:20:38.530 --> 00:20:39.490\nAnd the IT pro TV.\n\n410\n00:20:40.490 --> 00:20:43.310\nAnd, I already created that earlier cause\nI wanted to make sure that I got it in\n\n411\n00:20:43.310 --> 00:20:44.310\nthere and didn't do it wrong.\n\n412\n00:20:44.310 --> 00:20:44.830\n>> Didn't forget it.\n\n413\n00:20:44.830 --> 00:20:45.900\n>> Yeah, didn't forget it.\n\n414\n00:20:45.900 --> 00:20:46.680\nSo, there it is.\n\n415\n00:20:46.680 --> 00:20:52.530\nIt's just the word ISOTAP, and\nthe key is actually put in the,\n\n416\n00:20:52.530 --> 00:20:54.460\nrouter's interface here.\n\n417\n00:20:54.460 --> 00:20:57.070\nI know I put in the wrong IP address,\nand it doesn't work.\n\n418\n00:20:57.070 --> 00:21:01.440\nSo, getting the actual right router\ninterface It is actually the key in there.\n\n419\n00:21:01.440 --> 00:21:02.340\nOkay?\n\n420\n00:21:02.340 --> 00:21:05.330\n>> This, this setting right here,\nthis is the heart and soul of ISOTAP.\n\n421\n00:21:05.330 --> 00:21:08.700\n>> Yep.\n>> When you have an IPv4 host and\n\n422\n00:21:08.700 --> 00:21:13.270\nyou tell it to reach out to an IPv6 host,\nhow does it know what to do?\n\n423\n00:21:13.270 --> 00:21:14.440\nSo it says, you know what?\n\n424\n00:21:14.440 --> 00:21:17.290\nIf there's an ISOTAP router\nout there I can use it.\n\n425\n00:21:17.290 --> 00:21:18.810\nAnd so it does a DNS look up.\n\n426\n00:21:18.810 --> 00:21:20.170\nAnd it says, all right I'm in.\n\n427\n00:21:20.170 --> 00:21:22.000\nIn this case the Itpro.tv domain.\n\n428\n00:21:22.000 --> 00:21:24.990\nAll right, is there an ISOTAP router,\nso it does a look up for\n\n429\n00:21:24.990 --> 00:21:27.040\na DNS record called ISOTAP.\n\n430\n00:21:27.040 --> 00:21:28.860\nNow that name is really important.\n\n431\n00:21:28.860 --> 00:21:30.430\n>> Yep.\n>> You can't use any other name.\n\n432\n00:21:30.430 --> 00:21:33.530\n>> Nope.\nAnd if it finds a DNS record for isatap,\n\n433\n00:21:33.530 --> 00:21:39.130\nthat should have the IP V4 address of\nthe router that we can reach out to.\n\n434\n00:21:39.130 --> 00:21:44.010\nSo that's how are IP V4 hosts will\ndiscover the isatap router they can use\n\n435\n00:21:44.010 --> 00:21:48.410\nand then they'll reach out and they'll\nbuild that isatap tunnel with that router.\n\n436\n00:21:48.410 --> 00:21:49.850\n>> Mmm hmm.\n\n437\n00:21:49.850 --> 00:21:51.380\nSo that's what we actually have to enable.\n\n438\n00:21:51.380 --> 00:21:54.700\nNow by default though,\nyou've got to know that in Windows 2012.\n\n439\n00:21:54.700 --> 00:21:58.080\nAnd that may have began\nin even server 2008.\n\n440\n00:21:58.080 --> 00:22:03.435\nDNS is designed to block the look up for\nPlace ISATAP.\n\n441\n00:22:03.435 --> 00:22:06.035\nAnd so, in just a moment we're\ngoing to turn that back on.\n\n442\n00:22:06.035 --> 00:22:09.875\nSo you have to run another power shell\ncommand term and turn it back on.\n\n443\n00:22:09.875 --> 00:22:12.005\nIf you don't turn it back on,\nit won't work.\n\n444\n00:22:12.005 --> 00:22:12.645\nI guarantee it. [LAUGH] >> Yeah,\n\n445\n00:22:12.645 --> 00:22:17.430\nthey didn't want, they didn't want people\naccidentally bringing up ISATAP routers.\n\n446\n00:22:17.430 --> 00:22:21.310\nBecause what could happen is you\ncould inadvertently provide access to\n\n447\n00:22:21.310 --> 00:22:22.730\nan unwanted third party.\n\n448\n00:22:22.730 --> 00:22:25.075\nSo that's why they kinda\nblock that lookup by default.\n\n449\n00:22:25.075 --> 00:22:26.170\n>> Mm-hm.\nYep.\n\n450\n00:22:26.170 --> 00:22:29.600\nAll right now, now that we've got this\nset up we now need to actually go and\n\n451\n00:22:29.600 --> 00:22:33.090\ntell the router to really\nbecome an ISATAP router, okay.\n\n452\n00:22:33.090 --> 00:22:38.130\nSo that's what our next step is,\nif I go back to now, router one,\n\n453\n00:22:38.130 --> 00:22:44.690\nI can do my set net isa\ntap configuration here.\n\n454\n00:22:44.690 --> 00:22:45.422\nAnd then you have to do a dash router.\n\n455\n00:22:45.422 --> 00:22:50.930\nAnd then you have to tell the name.\n\n456\n00:22:50.930 --> 00:22:53.520\nOf, or the, then, IP address.\n\n457\n00:22:53.520 --> 00:22:54.560\nYou can do host name if you want to.\n\n458\n00:22:54.560 --> 00:22:57.800\nBut we're gonna actually just\ndo the IP address instead\n\n459\n00:22:57.800 --> 00:22:59.450\nof the actual router at this point.\n\n460\n00:22:59.450 --> 00:23:01.960\nNow, at this point I get\na little bit paranoid, so\n\n461\n00:23:01.960 --> 00:23:04.030\nI actually type in this verbose command.\n\n462\n00:23:04.030 --> 00:23:06.650\nThat lets me know [LAUGH]\nthat it actually did it.\n\n463\n00:23:06.650 --> 00:23:09.850\nSo after doing it several times here,\nand getting all these red things,\n\n464\n00:23:09.850 --> 00:23:13.960\nI went, I need to be able to verify before\nI do this, so I always try and do this.\n\n465\n00:23:13.960 --> 00:23:14.710\nAnd you don't have to,\n\n466\n00:23:14.710 --> 00:23:18.260\nbut that's just something else I added\nin here to ensure that was advertised.\n\n467\n00:23:18.260 --> 00:23:20.310\n>> Yeah.\nIf you leave verbose off when you press\n\n468\n00:23:20.310 --> 00:23:22.200\nEnter, it just gives you a blank line,\n\n469\n00:23:22.200 --> 00:23:24.740\nand you don't really know\nif it succeeded or not.\n\n470\n00:23:24.740 --> 00:23:27.580\n>> So it's just one of those things\nthat I've gotten used to saying,\n\n471\n00:23:27.580 --> 00:23:30.440\nlet me just make sure I've\ntyped it in correctly.\n\n472\n00:23:30.440 --> 00:23:31.660\nAt this bigger point.\n\n473\n00:23:31.660 --> 00:23:32.290\nOkay?\n\n474\n00:23:32.290 --> 00:23:36.050\nSo now that I have,\nhave that ready to go, okay?\n\n475\n00:23:36.050 --> 00:23:39.320\nThe router is set up,\nwe have our isotap server.\n\n476\n00:23:39.320 --> 00:23:42.990\nThe IPv6, server, has an IP address.\n\n477\n00:23:42.990 --> 00:23:46.550\nOne that's actually communicating\nwith the router already, so, so\n\n478\n00:23:46.550 --> 00:23:48.492\nwe've got it pretty much set up here.\n\n479\n00:23:48.492 --> 00:23:52.358\nNow, we still need to actually\nset the router interfaces up, and\n\n480\n00:23:52.358 --> 00:23:56.033\nI'll use what we call the isotap\ninterfaces instead, okay?\n\n481\n00:23:56.033 --> 00:23:59.629\nNow in terms of actually find\nout the isotap interfaces here.\n\n482\n00:23:59.629 --> 00:24:07.680\nThis is where we actually have\nto get our interfaces here.\n\n483\n00:24:07.680 --> 00:24:14.880\nSo i'm going to type in a get-net ip\naddress format-table and from here\n\n484\n00:24:14.880 --> 00:24:19.376\nI'm going to actually need my interface\nalias so I can actually see the name.\n\n485\n00:24:19.376 --> 00:24:25.070\nAnd then the index and\nthen the ipva6address.\n\n486\n00:24:25.070 --> 00:24:26.880\n>> Typo on the interfacealias.\n\n487\n00:24:26.880 --> 00:24:29.660\n>> Did I?\nThat would've gotten me.\n\n488\n00:24:30.790 --> 00:24:32.055\nOops.\nToo many aliases.\n\n489\n00:24:32.055 --> 00:24:34.060\n>> [LAUGH] Double secret alias.\n\n490\n00:24:34.060 --> 00:24:34.560\n>> That's right.\n\n491\n00:24:36.860 --> 00:24:39.307\nI normally put too many d's in\nthere is what happens there.\n\n492\n00:24:40.480 --> 00:24:40.980\nOkay.\n\n493\n00:24:42.130 --> 00:24:45.550\nSo now at this point notice that\nI have many interfaces here and\n\n494\n00:24:45.550 --> 00:24:50.510\nthat this interface index number, but\nthe one that we're looking for okay, is\n\n495\n00:24:50.510 --> 00:24:57.720\nthe one that is actually advertising out\nthe router that we actually set as ISATAP.\n\n496\n00:24:57.720 --> 00:25:00.280\n>> Mm-hm.\n>> Okay, so that is the actual\n\n497\n00:25:00.280 --> 00:25:04.590\ninterface that we're actually looking for\nwhat we actually need to do, okay?\n\n498\n00:25:04.590 --> 00:25:07.640\nAnd so now we're going to\nactually configure this router\n\n499\n00:25:07.640 --> 00:25:09.150\npretty much in the same way we did before,\n\n500\n00:25:09.150 --> 00:25:12.430\nwe're gonna advertise this route,\nnow we're going to publish route,\n\n501\n00:25:12.430 --> 00:25:16.440\nI should say, into the routing table, and\nthen we're going to advertise this out,\n\n502\n00:25:16.440 --> 00:25:20.967\nof this particular interface,\nwhich is an ISATAP interface.\n\n503\n00:25:20.967 --> 00:25:21.490\n'Kay.\n\n504\n00:25:21.490 --> 00:25:22.880\nNow, I could use the interface A list,\n\n505\n00:25:22.880 --> 00:25:25.486\nbut that means I have to copy\nall this stuff over here.\n\n506\n00:25:25.486 --> 00:25:29.910\n[LAUGH] On the left-hand side, so\nusing the interface index number\n\n507\n00:25:29.910 --> 00:25:33.490\nis actually gonna be the way to go, okay,\nfor us and is what we're gonna do here.\n\n508\n00:25:33.490 --> 00:25:35.020\nSo that's 15.\n\n509\n00:25:35.020 --> 00:25:38.270\n>> And, and keep in mind,\nit's 15 on Ronnie's server.\n\n510\n00:25:38.270 --> 00:25:40.270\n>> Yeah.\n>> On yours, it will be different.\n\n511\n00:25:40.270 --> 00:25:41.010\n>> Yeah, whatever it is.\n\n512\n00:25:41.010 --> 00:25:42.420\n>> It depends on what you've added and\nremoved.\n\n513\n00:25:42.420 --> 00:25:43.010\nIt can be very high.\n\n514\n00:25:43.010 --> 00:25:44.325\nIt can be very low.\n\n515\n00:25:44.325 --> 00:25:47.750\nAnd it's funny these isotope\ninterfaces they're present already.\n\n516\n00:25:47.750 --> 00:25:49.490\n>> Yeah.\n>> Even if you don't turn on isotope\n\n517\n00:25:49.490 --> 00:25:51.485\nbecause you might act\nas an isotope client.\n\n518\n00:25:51.485 --> 00:25:52.010\n>> Mm-hm.\n>> So\n\n519\n00:25:52.010 --> 00:25:53.530\nthere they're already\nthere on your system.\n\n520\n00:25:53.530 --> 00:25:56.510\nYou'll have at least one of\nthem in that interface number\n\n521\n00:25:56.510 --> 00:25:57.660\nthat may well be different.\n\n522\n00:25:57.660 --> 00:25:58.200\n>> Yep.\n\n523\n00:25:58.200 --> 00:25:59.390\nThat's true.\n\n524\n00:25:59.390 --> 00:26:02.500\nSo now we just need to\ndo our new net route.\n\n525\n00:26:02.500 --> 00:26:06.650\nNow when we actually start doing this,\nwe actually creating a new network,\n\n526\n00:26:06.650 --> 00:26:10.360\nthat we're actually going to publish\nout there into the routing table.\n\n527\n00:26:10.360 --> 00:26:14.680\nAnd this where we go for our interface\nindex and I'm gonna do fifteen.\n\n528\n00:26:15.780 --> 00:26:21.000\nAnd then we're do our destination prefix,\nand this is where we do our 2001, and\n\n529\n00:26:21.000 --> 00:26:26.060\nI'm just going to use the same\nscheme here, at least I think I am.\n\n530\n00:26:27.310 --> 00:26:31.610\nAnd instead I did a one before,\nI'm gonna do a two this time.\n\n531\n00:26:34.060 --> 00:26:37.630\n>> Now this network that he's putting in\nright now is gonna be a pseudo network.\n\n532\n00:26:37.630 --> 00:26:39.470\n>> Yep.\n>> That's gonna be created and\n\n533\n00:26:39.470 --> 00:26:43.380\nwhat's gonna happen is when\nyour IPv4 clients get connected\n\n534\n00:26:43.380 --> 00:26:46.830\nit's kind of like doing NAT, kind of\nlike doing network address translation.\n\n535\n00:26:46.830 --> 00:26:51.670\nThat we're gonna take their IPV4 address\nand convert it into an IPV6 address so\n\n536\n00:26:51.670 --> 00:26:52.745\nit can move over the network.\n\n537\n00:26:52.745 --> 00:26:54.600\n>> Mm-hm.\n>> And it's gonna start with whatever you\n\n538\n00:26:54.600 --> 00:26:55.890\ntype right here.\n\n539\n00:26:55.890 --> 00:26:58.755\nAnd it doesn't have to be contiguous.\n\n540\n00:26:58.755 --> 00:27:00.070\n>> Mm-hm.\n>> It doesn't have to be the next\n\n541\n00:27:00.070 --> 00:27:00.690\nnetwork in line.\n\n542\n00:27:00.690 --> 00:27:02.050\nRonnie did it, cuz it, it's neater\n>> Yeah.\n\n543\n00:27:02.050 --> 00:27:02.665\n>> That way.\n\n544\n00:27:02.665 --> 00:27:06.110\nBut you may have a completely separate\nnetwork that you use for that.\n\n545\n00:27:06.110 --> 00:27:07.759\nIt just depends on the organization.\n\n546\n00:27:07.759 --> 00:27:09.780\n>> Yep.\nI then just tag that keyword, verbose,\n\n547\n00:27:09.780 --> 00:27:10.395\nin there again.\n\n548\n00:27:10.395 --> 00:27:11.570\n>> [LAUGH].\n>> Because, I've done it wrong so\n\n549\n00:27:11.570 --> 00:27:12.620\nmany times.\n\n550\n00:27:12.620 --> 00:27:15.270\nAnd now,\nnotice that we now have that second\n\n551\n00:27:15.270 --> 00:27:17.190\nnetwork that we've actually put in there.\n\n552\n00:27:17.190 --> 00:27:18.560\nAnd it's actually,\n\n553\n00:27:18.560 --> 00:27:21.440\nwe can actually see everything\nthat's going on that we need here.\n\n554\n00:27:21.440 --> 00:27:22.470\nSo everything is good.\n\n555\n00:27:22.470 --> 00:27:23.800\nWe've now got it published,\n\n556\n00:27:23.800 --> 00:27:28.460\nwe now need to advertise that this is\nactually going to work at this point too.\n\n557\n00:27:28.460 --> 00:27:35.210\nSo now we can go ahead and\nget our interface here.\n\n558\n00:27:35.210 --> 00:27:37.698\nLet's see did, I didn't do the advertise\n[INAUDIBLE] No, I did not.\n\n559\n00:27:37.698 --> 00:27:38.505\nOkay.\n\n560\n00:27:38.505 --> 00:27:43.125\nSet-Net-IP Interface at\n\n561\n00:27:43.125 --> 00:27:48.500\nthis point and then I need to\nactually do that Interface Index and\n\n562\n00:27:48.500 --> 00:27:52.347\nI can see over here on left\nhand side is fifteen, and\n\n563\n00:27:52.347 --> 00:27:57.120\nthen advertising, enabled and\n\n564\n00:27:57.120 --> 00:28:01.518\nagain I just, just for\nthe sake of my sanity here.\n\n565\n00:28:01.518 --> 00:28:04.890\n>> [LAUGH] I go ahead and\nI set that in there.\n\n566\n00:28:04.890 --> 00:28:08.900\nSo now essentially just going through\nthat kicker interface, we're saying look.\n\n567\n00:28:08.900 --> 00:28:09.600\nGo ahead and\n\n568\n00:28:09.600 --> 00:28:14.440\nallow any client that needs to, to derive\ntheir particular address off of this.\n\n569\n00:28:14.440 --> 00:28:15.050\nOkay.\nSo\n\n570\n00:28:15.050 --> 00:28:18.060\nthis is actually a very good portion for\nus to remember.\n\n571\n00:28:18.060 --> 00:28:20.290\nNow when we start taking look at this,\n\n572\n00:28:20.290 --> 00:28:25.010\non the actual router itself there's\nreally no other commands that we need.\n\n573\n00:28:25.010 --> 00:28:28.930\nWe've now got our router set\nup to handle our regular ipv6.\n\n574\n00:28:28.930 --> 00:28:31.850\nWe've now got it set up to actually\nhandle the ISATAP, as well,\n\n575\n00:28:31.850 --> 00:28:36.070\nwe turned on the ISATAP router, telling it\nthat this is the IP address it's gonna do,\n\n576\n00:28:36.070 --> 00:28:39.760\nwe've now told it to publish that route.\n\n577\n00:28:39.760 --> 00:28:42.700\nWe've now told it to advertise\nout of that interface.\n\n578\n00:28:42.700 --> 00:28:47.490\nSo on the router itself, there's\nnot really a lot else for us to do.\n\n579\n00:28:47.490 --> 00:28:51.130\nNow, once we have this,\nif I do and ipconfig,\n\n580\n00:28:52.690 --> 00:28:57.970\nI can now see that there on that isotap,\nnotice it actually now has that\n\n581\n00:28:57.970 --> 00:29:03.848\naddress we just published into\nthe routing table, and it also appended.\n\n582\n00:29:03.848 --> 00:29:07.640\nThis 32-bit address here.\n\n583\n00:29:07.640 --> 00:29:11.440\n>> And\nremember an IPv6 address is 128 bits.\n\n584\n00:29:11.440 --> 00:29:13.550\nAnd they're written as\nhexadecimal numbers.\n\n585\n00:29:13.550 --> 00:29:16.350\nWell, what they've done here\nwith an isotep address,\n\n586\n00:29:16.350 --> 00:29:21.492\nthey take the first,\nwhat's 128 minus 32, a hundred and 90.\n\n587\n00:29:21.492 --> 00:29:22.972\n>> No.\n>> 700 and I don't know, whatever.\n\n588\n00:29:22.972 --> 00:29:23.780\n>> Yeah.\n[LAUGH]\n\n589\n00:29:23.780 --> 00:29:25.090\n>> So anyhow, so they take the.\n\n590\n00:29:25.090 --> 00:29:26.830\n>> 96th.\n>> I'm.\n\n591\n00:29:26.830 --> 00:29:27.330\n>> 96.\n>> 196?\n\n592\n00:29:27.330 --> 00:29:28.317\n>> No, it's to be at 96.\n\n593\n00:29:28.317 --> 00:29:28.880\n>> 96. All right. >> Yeah.\n\n594\n00:29:28.880 --> 00:29:30.160\n>> So [LAUGH].\n\n595\n00:29:30.160 --> 00:29:31.182\n>> [LAUGH]\n\n596\n00:29:31.182 --> 00:29:31.980\n>> That's\n\n597\n00:29:31.980 --> 00:29:35.110\nwhy I wasn't a math major in college.\nSo they take the first 96 bits, and\n\n598\n00:29:35.110 --> 00:29:37.100\nthey still write them as hexidecimal.\n>> Yep.\n\n599\n00:29:37.100 --> 00:29:38.580\n>> Cuz that IPv6 stuff, but\n\n600\n00:29:38.580 --> 00:29:40.720\nthen the last 32 bits, they go in and\n\n601\n00:29:40.720 --> 00:29:44.180\nwrite it in the traditional four\noctet format that we're used to.\n\n602\n00:29:44.180 --> 00:29:48.470\nSo it looks like an IPv4 address stuck\non the end of an IPv6 address, but\n\n603\n00:29:48.470 --> 00:29:50.830\nit's really just replacing\nthe last 32 bits.\n\n604\n00:29:50.830 --> 00:29:53.916\nThose are a hallmark sign\nof isotep connections.\n\n605\n00:29:53.916 --> 00:29:55.990\n>> Mm-hm.\n>> You'll spot them real easy like that\n\n606\n00:29:55.990 --> 00:29:59.240\nand you can see ' right\nthere on the screen.\n\n607\n00:29:59.240 --> 00:30:02.970\n>> Yep. Alright. So now, if I go back\nto the domain controller her Okay,\n\n608\n00:30:02.970 --> 00:30:08.620\nthis is where I need to run that command\nto tell DNS to allow the look up.\n\n609\n00:30:08.620 --> 00:30:09.385\n>> Okay.\n>> Yep.\n\n610\n00:30:09.385 --> 00:30:12.000\n>> Let's,so at this\npoint the router's done.\n\n611\n00:30:12.000 --> 00:30:12.520\n>> Right, yup.\n\n612\n00:30:12.520 --> 00:30:15.560\n>> And we needed to get that done and\nafter that it's all on the clients side?\n\n613\n00:30:15.560 --> 00:30:16.885\n>> Yup, that's it.\n\n614\n00:30:16.885 --> 00:30:18.870\n>> Okay,let's go ahead and do this one-\n>> Okay.\n\n615\n00:30:18.870 --> 00:30:20.510\n>> Then we'll stop and take a break.\n\n616\n00:30:20.510 --> 00:30:21.730\nOur time's winding down.\n\n617\n00:30:21.730 --> 00:30:22.880\nIt's hard to find a good place\n>> Yeah.\n\n618\n00:30:22.880 --> 00:30:26.000\n>> because there's so many commands\ninvolved with getting isotap going.\n\n619\n00:30:26.000 --> 00:30:27.990\nSo yeah, let's go ahead and\nget this one in there.\n\n620\n00:30:27.990 --> 00:30:30.610\n>> All right,\nnow this is the one that the,\n\n621\n00:30:31.780 --> 00:30:34.900\nthere's no way to verify until\nyou've actually typed it in.\n\n622\n00:30:34.900 --> 00:30:39.480\n[LAUGH] So it's a DNS CMB command and\nyou're telling it that you're configuring\n\n623\n00:30:39.480 --> 00:30:43.378\nthis, and what you have to do here, is\nactually go to what is called the global\n\n624\n00:30:43.378 --> 00:30:48.400\nquery block list.\n\n625\n00:30:48.400 --> 00:30:50.230\nAnd there it is.\n\n626\n00:30:50.230 --> 00:30:52.040\nOkay, so what is this?\n\n627\n00:30:52.040 --> 00:30:56.300\nIt is actually a list that's actually\nalready inside the actual DNS server.\n\n628\n00:30:56.300 --> 00:31:00.480\nThat says block all of these by default so\nnobody accidentally uses this here.\n\n629\n00:31:00.480 --> 00:31:03.830\nSo don't look it up, but\nby doing this here, we're resetting it,\n\n630\n00:31:03.830 --> 00:31:06.320\nsaying let it actually work here.\n\n631\n00:31:06.320 --> 00:31:10.080\nAnd at the end if you haven't\nnoticed it says registry, property,\n\n632\n00:31:10.080 --> 00:31:13.090\nglobal query block list\nsuccessfully reset and\n\n633\n00:31:13.090 --> 00:31:16.270\nthe command has now has\nnow actually been done.\n\n634\n00:31:16.270 --> 00:31:21.010\nSo this is pretty much for us here,\nit should be enabled at this point.\n\n635\n00:31:21.010 --> 00:31:24.260\n>> Yeah and that W pad value you might\nalready have that enabled on your\n\n636\n00:31:24.260 --> 00:31:24.785\nDNS server.\n\n637\n00:31:24.785 --> 00:31:25.920\n>> Mm-hm.\n>> That stands for\n\n638\n00:31:25.920 --> 00:31:27.890\nweb proxy auto discovery.\n\n639\n00:31:27.890 --> 00:31:28.470\n>> Right.\n>> So\n\n640\n00:31:28.470 --> 00:31:31.180\nif you've got a Proxy\nlike a web send server or\n\n641\n00:31:31.180 --> 00:31:33.870\nlike a Microsoft ISO server or whatever.\n\n642\n00:31:33.870 --> 00:31:37.740\nYou might already be using\na W pad value for those.\n\n643\n00:31:37.740 --> 00:31:39.190\nSo you might not need this command.\n\n644\n00:31:39.190 --> 00:31:41.620\nNow on the exam always\nassume you need the command.\n\n645\n00:31:41.620 --> 00:31:42.670\n>> Right.\n>> Cause you don't know.\n\n646\n00:31:42.670 --> 00:31:44.300\nBut in real life land it\nmight already been done.\n\n647\n00:31:44.300 --> 00:31:46.372\nJust because a lot of us already use that.\n\n648\n00:31:46.372 --> 00:31:49.757\nI don't know if you've ever noticed,\nyou fire up internet explorer and\n\n649\n00:31:49.757 --> 00:31:52.878\nit says down at the bottom like\ndiscovering proxy configuration.\n\n650\n00:31:52.878 --> 00:31:55.640\nIt's actually doing a W\npad look up against DNS.\n\n651\n00:31:55.640 --> 00:31:57.265\nWhere it may or may not find a record.\n\n652\n00:31:57.265 --> 00:31:59.994\nIf it doesn't,\nthen it just runs forward and uses that.\n\n653\n00:31:59.994 --> 00:32:03.190\nBut if it does find a value,\nit'll auto-configure the proxy.\n\n654\n00:32:03.190 --> 00:32:04.490\n>> Yeah.\n>> Well in this case,\n\n655\n00:32:04.490 --> 00:32:08.490\nwe want it to find the ISATAP record and\nauto-configure the proxy and\n\n656\n00:32:08.490 --> 00:32:09.710\nthat's turn off by default.\n\n657\n00:32:09.710 --> 00:32:11.410\n>> Yeah.\n>> So that's what Ronnie just fixed.\n\n658\n00:32:11.410 --> 00:32:12.580\nNow the servers pretty much done.\n\n659\n00:32:12.580 --> 00:32:14.190\n>> Yeah.\nThe only thing that I know that\n\n660\n00:32:14.190 --> 00:32:18.080\nI forgotten a lot of times is this one\ncommand [LAUGH] Turning off the actual,\n\n661\n00:32:18.080 --> 00:32:22.120\nblock list here I've done fairly well,\nbut then forgetting that I need to\n\n662\n00:32:22.120 --> 00:32:26.060\nactually tell the router to reset and\nrestart and make it work.\n\n663\n00:32:26.060 --> 00:32:27.700\n>> Not the router,\njus the DNS server, right?\n\n664\n00:32:27.700 --> 00:32:28.420\n>> Right, yes the DNS server.\n\n665\n00:32:28.420 --> 00:32:29.980\nYep, I'm sorry.\n>> Just DNS server needs restarted.\n\n666\n00:32:29.980 --> 00:32:32.090\nAnd that's if you are using\na windows DNS server.\n\n667\n00:32:32.090 --> 00:32:34.870\nIf you are using a Linux one,\nthen it is a slightly different process.\n\n668\n00:32:34.870 --> 00:32:38.910\nBut Window DNS server has to be restarted.\n\n669\n00:32:38.910 --> 00:32:39.417\n>> Yep.\n>> Alright, so\n\n670\n00:32:39.417 --> 00:32:40.800\nthat takes care of the server side!\n\n671\n00:32:40.800 --> 00:32:45.940\nSo now the, the, the router is done,\nthe DNS century is in place.\n\n672\n00:32:45.940 --> 00:32:48.155\nNow ready to see those\ntwo hosts communicate but\n\n673\n00:32:48.155 --> 00:32:50.090\nthis is a pretty good [CROSSTALK] so\nstop and\n\n674\n00:32:50.090 --> 00:32:53.538\ntake a break when we get back we're\ngonna see the client-side of things.\n\n675\n00:32:53.538 --> 00:32:57.352\nAnd hopefully be able to establish some\ncommunication between that I-P-V four\n\n676\n00:32:57.352 --> 00:32:59.420\nonly hose and the I-P-V six only hose.\n\n677\n00:32:59.420 --> 00:33:00.250\n>> Yep\n>> Alright so\n\n678\n00:33:00.250 --> 00:33:04.604\nstay tuned, more I-P-V six after this.\n\n679\n00:33:04.604 --> 00:33:07.716\n[SOUND] Alright welcome back everybody, so\n\n680\n00:33:07.716 --> 00:33:13.162\nat this point we've got our router set\nup so it's in business DNS is set up so\n\n681\n00:33:13.162 --> 00:33:16.879\nwe're good there all that's\nleft is our clients,\n\n682\n00:33:16.879 --> 00:33:22.080\nwe've done our server stuff so\nnow let's get our clients connecting.\n\n683\n00:33:22.080 --> 00:33:23.250\n>> Yep.\n\n684\n00:33:23.250 --> 00:33:26.250\nSo we've got one more command on this\ndomain server that we need to run so\n\n685\n00:33:26.250 --> 00:33:28.630\nthat we can essentially make it.\n\n686\n00:33:28.630 --> 00:33:31.000\nAnd an ISATAP client is what\nwe actually have to do.\n\n687\n00:33:31.000 --> 00:33:34.210\nAnd then we just need to verify that\nit's actually working and ready to go.\n\n688\n00:33:34.210 --> 00:33:34.780\nOkay.\n\n689\n00:33:34.780 --> 00:33:41.210\nSo, for us here on the router\nitself is gonna be net.\n\n690\n00:33:41.210 --> 00:33:42.380\nWhy can't I?\n\n691\n00:33:42.380 --> 00:33:43.380\n>> For the router or the server?\n\n692\n00:33:43.380 --> 00:33:45.240\n>> This is on the actual router itself.\n\n693\n00:33:45.240 --> 00:33:48.430\nSo we need to actually make sure\nthat it is actually enabled here.\n\n694\n00:33:48.430 --> 00:33:50.660\nIs what, net or set?\n\n695\n00:33:50.660 --> 00:33:51.380\nI can't remember.\nSet.\n\n696\n00:33:51.380 --> 00:33:53.260\n>> I think I got lost.\n\n697\n00:33:53.260 --> 00:33:55.460\nRonnie, you're on the,\nthis is the ISATAP router or\n\n698\n00:33:55.460 --> 00:33:56.660\nthis is the domain controller client?\n\n699\n00:33:56.660 --> 00:33:58.090\n>> This is the domain controller client.\n\n700\n00:33:58.090 --> 00:33:59.450\nSorry, my fault.\n\n701\n00:33:59.450 --> 00:34:00.210\n>> Okay.\n[LAUGH]\n\n702\n00:34:00.210 --> 00:34:01.100\n>> See, I'm\n\n703\n00:34:01.100 --> 00:34:02.860\nstarting to get it mixed up here.\n\n704\n00:34:02.860 --> 00:34:05.030\nAnd so I need to do state.\n\n705\n00:34:05.030 --> 00:34:07.670\nAnd here is that word enabled.\n\n706\n00:34:07.670 --> 00:34:11.570\nSo I know, I know I mean, you know, the\nidea of actually memorizing all of this is\n\n707\n00:34:11.570 --> 00:34:16.770\ngonna be of course top on the list of\neverybody's desire to actually do.\n\n708\n00:34:17.820 --> 00:34:18.830\nAnd so there it is, so\n\n709\n00:34:18.830 --> 00:34:23.340\nnow we actually have this,\nparticular aspect of it enabled here.\n\n710\n00:34:23.340 --> 00:34:31.617\nAt this point we should be ready to\nbe able to go over to the server now.\n\n711\n00:34:31.617 --> 00:34:33.453\nYou know I didn't actually,\n\n712\n00:34:33.453 --> 00:34:37.502\nI should actually verify that I\ndid get an ISATAP address on that.\n\n713\n00:34:37.502 --> 00:34:39.816\n>> Yeah.\nRemember the domain controller where\n\n714\n00:34:39.816 --> 00:34:41.770\nRonnie just ran that command.\n\n715\n00:34:41.770 --> 00:34:46.610\nThis is the one where it,\nit only had an IPv4 address prior to this.\n\n716\n00:34:46.610 --> 00:34:47.480\nIt was 192.168.0.10.\n\n717\n00:34:47.480 --> 00:34:52.290\nWhen he ran that command,\nthat turned on ISATAP,\n\n718\n00:34:52.290 --> 00:34:55.990\nand now you can see where\nit got the bigger address.\n\n719\n00:34:55.990 --> 00:34:58.800\nThe address that starts with IPv6 and\nends with IPv4.\n\n720\n00:34:58.800 --> 00:35:01.880\nThat's what he got when he enabled IPv6\n>> Yeah.\n\n721\n00:35:01.880 --> 00:35:05.770\nAnd so this is very important for\nus cuz if you don't have this,\n\n722\n00:35:05.770 --> 00:35:08.050\nit's not going to actually\ngo communicate with ISATAP.\n\n723\n00:35:08.050 --> 00:35:10.220\nSo this is why it's important and\nI need to verify that.\n\n724\n00:35:10.220 --> 00:35:13.650\nCuz, I've done this before and\nwell, it did not actually show up.\n\n725\n00:35:13.650 --> 00:35:15.210\nAnd hey, why didn't it work?\n\n726\n00:35:15.210 --> 00:35:16.710\nAnd so there we go, okay.\n\n727\n00:35:16.710 --> 00:35:19.280\nSo now over on this end here.\n\n728\n00:35:19.280 --> 00:35:23.500\n>> And this is the client that is\njust IPv6, no IPv4 on this guy.\n\n729\n00:35:23.500 --> 00:35:24.010\n>> Yep.\n\n730\n00:35:24.010 --> 00:35:26.460\nSo notice it's still not showing any IPv4,\nany IPv6 here.\n\n731\n00:35:26.460 --> 00:35:27.802\nIn theory, I should be able to ping.\n\n732\n00:35:27.802 --> 00:35:29.576\n>> [LAUGH] In theory.\n\n733\n00:35:29.576 --> 00:35:31.900\n>> [LAUGH] It's supposed to, yeah.\n\n734\n00:35:31.900 --> 00:35:34.050\nGot a ping.\n\n735\n00:35:34.050 --> 00:35:34.740\nLook at that.\n\n736\n00:35:34.740 --> 00:35:35.930\nHey, it worked.\n\n737\n00:35:35.930 --> 00:35:37.670\n>> So notice what he's doing.\n\n738\n00:35:37.670 --> 00:35:40.195\nHe's on an IPv6-only host\nwith no IPv4 support.\n\n739\n00:35:40.195 --> 00:35:41.120\n>> Mm-hm.\n\n740\n00:35:41.120 --> 00:35:44.860\n>> And he's pinging to what\nlooks like an IPv6 address.\n\n741\n00:35:44.860 --> 00:35:48.080\nThe ISATAP router strips\noff the IPv6 part,\n\n742\n00:35:48.080 --> 00:35:52.737\nconverts it to IPv4, and\nsends it on to 192.168.0.10.\n\n743\n00:35:52.737 --> 00:35:58.460\nThe ISATAP server or router is acting\nas a proxy between the IPv4 and\n\n744\n00:35:58.460 --> 00:36:01.395\nIPv6 networks, and\nnow we have that communication.\n\n745\n00:36:01.395 --> 00:36:02.110\n>> Yeah.\n\n746\n00:36:02.110 --> 00:36:03.420\nNow, we're not completely done yet.\n\n747\n00:36:03.420 --> 00:36:05.830\nLike anything else in our modern networks,\nright?\n\n748\n00:36:05.830 --> 00:36:08.540\nWithout DNS working we're toast.\n\n749\n00:36:08.540 --> 00:36:11.140\nOkay, so if I try and ping DC one.\n\n750\n00:36:14.290 --> 00:36:17.050\nWell, the reason why is\nbecause I have not yet\n\n751\n00:36:17.050 --> 00:36:22.190\nset up the server with\nthe proper IPv6 DNS entric.\n\n752\n00:36:22.190 --> 00:36:24.890\nSo if I go back to\nthe server's interface here.\n\n753\n00:36:28.052 --> 00:36:32.840\nLet me go through the server manager and\n\n754\n00:36:32.840 --> 00:36:36.330\nthen I right click on the interface and\n\n755\n00:36:36.330 --> 00:36:41.450\nI go to properties and\nI go into the IPv6 properties here.\n\n756\n00:36:42.760 --> 00:36:44.909\nNotice that I can leave that address,\n\n757\n00:36:46.050 --> 00:36:51.360\nI can manually now paste my IP my ISATAP\n\n758\n00:36:51.360 --> 00:36:55.807\nconfiguration here telling me telling the\nserver what the DNS server is gonna be.\n\n759\n00:36:58.190 --> 00:37:04.414\nAnd then I should be able to,\noops, or maybe not.\n\n760\n00:37:04.414 --> 00:37:08.360\n[LAUGH]\n>> [LAUGH]\n\n761\n00:37:08.360 --> 00:37:09.000\n>> It's in DC one?\n\n762\n00:37:10.130 --> 00:37:11.200\n>> I key my name.\n\n763\n00:37:11.200 --> 00:37:13.180\nAnd, and that's a key thing in IPv6.\n\n764\n00:37:13.180 --> 00:37:15.131\nYou do not want to have to\nto memorize these addresses.\n\n765\n00:37:15.131 --> 00:37:15.910\n>> [LAUGH] By far!\n\n766\n00:37:15.910 --> 00:37:18.590\n>> If you can use DNS,\nuse it by all means.\n\n767\n00:37:18.590 --> 00:37:19.640\nYeah.\n>> Yeah, yeah.\n\n768\n00:37:19.640 --> 00:37:22.665\nI'll tell you the truth,\njust doing IPv6 is not enough ever.\n\n769\n00:37:22.665 --> 00:37:24.480\n>> [LAUGH]\n>> Cuz I don't ever want to type in\n\n770\n00:37:24.480 --> 00:37:25.170\nthat address.\n\n771\n00:37:25.170 --> 00:37:26.490\nEver.\n[LAUGH]\n\n772\n00:37:26.490 --> 00:37:28.459\n>> So, what this allows us to do is that\n\n773\n00:37:28.459 --> 00:37:31.942\nwe can have some machines on our\nnetwork that were just IPv6 and\n\n774\n00:37:31.942 --> 00:37:35.031\nother machines on the network\nthat were just IPv4, and\n\n775\n00:37:35.031 --> 00:37:38.907\nthey can go through that ISATAP router\nto communicate to each other and\n\n776\n00:37:38.907 --> 00:37:43.205\nyou still have communications in this,\n[CROSSTALK] this segment of network.\n\n777\n00:37:43.205 --> 00:37:47.810\nThis is designed to be temporary,\nit's a pain in the butt to get it set up.\n\n778\n00:37:47.810 --> 00:37:51.920\nSo it's temporary until you can get those\nIPv4 hosts moved over to IPv6 also.\n\n779\n00:37:51.920 --> 00:37:52.790\n>> Yeah.\n\n780\n00:37:52.790 --> 00:37:57.810\n>> Now there's a couple of big\nlimiting factors on ISATAP, right.\n\n781\n00:37:57.810 --> 00:38:02.470\nThe biggest one Ronnie, how does ISATAP\ndo passing through a NAT router?\n\n782\n00:38:02.470 --> 00:38:03.120\n>> It doesn't.\n\n783\n00:38:03.120 --> 00:38:03.729\n>> It doesn't.\n\n784\n00:38:03.729 --> 00:38:06.096\nISATAP can not pass\nthrough a NAT router and\n\n785\n00:38:06.096 --> 00:38:09.940\nthat means that ISATAP is only\nsuitable inside of your environment.\n\n786\n00:38:09.940 --> 00:38:13.760\nInside of your corporate network.\n\n787\n00:38:13.760 --> 00:38:17.390\nYou can't push ISATAP traffic over the\ninternet unless you have all public IPs.\n\n788\n00:38:17.390 --> 00:38:18.020\n>> Right.\n\n789\n00:38:18.020 --> 00:38:21.070\n>> And if you got all public IPs then you\nprobably don't need this technology in\n\n790\n00:38:21.070 --> 00:38:21.791\nthe first place.\n\n791\n00:38:21.791 --> 00:38:23.065\n>> [LAUGH] That's true.\n\n792\n00:38:23.065 --> 00:38:25.679\n>> So, you know, keep that in mind,\nbig limitation there.\n\n793\n00:38:25.679 --> 00:38:28.780\nISATAP is a LAN only solution\n>> Mm-hm.\n\n794\n00:38:28.780 --> 00:38:29.990\n>> No WAN involvement there.\n\n795\n00:38:29.990 --> 00:38:30.520\n>> Yep.\n>> And\n\n796\n00:38:30.520 --> 00:38:33.810\nthat right off the bat will\npretty much cripple this utility.\n\n797\n00:38:35.030 --> 00:38:38.530\n>> Ya, sure.\n>> So what if it is a remote location?\n\n798\n00:38:38.530 --> 00:38:42.240\nWhat if I do need a deal with NAT,\nyou know passing across it.\n\n799\n00:38:42.240 --> 00:38:44.322\nWell, the problem there is net,\n\n800\n00:38:44.322 --> 00:38:48.690\nnetwork translation modifies the header of\nthose packets, and so we need something\n\n801\n00:38:48.690 --> 00:38:51.890\nthat can actually handle that a little\nbit better, and that's where comes in.\n\n802\n00:38:51.890 --> 00:38:53.710\nThat's, that's the next technology\nthat we're gonna talk about.\n\n803\n00:38:53.710 --> 00:38:56.930\nBut before we move on to that,\nI, I think, you were.\n\n804\n00:38:56.930 --> 00:38:58.001\n>> Yeah.\n[CROSSTALK] >> Pretty detailed there,\n\n805\n00:38:58.001 --> 00:38:59.648\nyou got anything else to add to the list?\n\n806\n00:38:59.648 --> 00:39:00.330\n>> [CROSSTALK].\n\n807\n00:39:00.330 --> 00:39:03.600\nRemember, the,\nthe router configuration is the key here.\n\n808\n00:39:03.600 --> 00:39:04.180\nOkay?\n\n809\n00:39:04.180 --> 00:39:08.380\nMaking sure that we get\nthe proper addressing.\n\n810\n00:39:08.380 --> 00:39:11.170\nRemember those last 32\nbits is going to help you.\n\n811\n00:39:11.170 --> 00:39:16.010\nAlso, the DNS entry has to be there, and\nmaking sure you remove that global block.\n\n812\n00:39:16.010 --> 00:39:17.240\n>> Mm.\n>> Yeah.\n\n813\n00:39:17.240 --> 00:39:19.310\n>> All right, so, so that, that's\n>> Yeah.\n\n814\n00:39:19.310 --> 00:39:21.803\n>> basically I step in a nutshell.\n\n815\n00:39:21.803 --> 00:39:23.040\nOn the exam\n>> Yeah.\n\n816\n00:39:23.040 --> 00:39:24.200\n>> You, you'll see ISATAP.\n\n817\n00:39:24.200 --> 00:39:26.890\nAnd so knowing some of those commands,\npretty handy.\n\n818\n00:39:26.890 --> 00:39:30.290\nRonnie, you had, like a Microsoft TechNet\narticle that showed all the steps, right?\n\n819\n00:39:30.290 --> 00:39:33.230\nWe should, we should post that with the\nepisode notes so you guys can review it.\n\n820\n00:39:33.230 --> 00:39:35.150\nYou can,\nyou can obviously rewatch the episode and\n\n821\n00:39:35.150 --> 00:39:37.280\nsee Ronnie but\nit's kinda nice to see it all written out.\n\n822\n00:39:37.280 --> 00:39:39.710\nSo we'll post that with the episode\nwhen it gets thrown online.\n\n823\n00:39:40.720 --> 00:39:43.005\nBut, but yeah,\nthere is a lot involved in it.\n\n824\n00:39:43.005 --> 00:39:43.610\n>> Mm-hm.\n\n825\n00:39:43.610 --> 00:39:46.330\n>> Just be aware of the general steps,\nwhat needs to be involved, and\n\n826\n00:39:46.330 --> 00:39:47.780\nremember some of those limitations.\n\n827\n00:39:47.780 --> 00:39:49.430\n>> Yeah.\n>> You can't go through NAT routers.\n\n828\n00:39:49.430 --> 00:39:49.965\nThat's a big deal.\n\n829\n00:39:49.965 --> 00:39:51.540\n>> Mm-hm.\n\n830\n00:39:51.540 --> 00:39:54.168\n>> Alright, so what if I have\nto pass through NAT routers?\n\n831\n00:39:54.168 --> 00:39:55.702\n>> [LAUGH]\n>> I've got to, you know,\n\n832\n00:39:55.702 --> 00:40:00.134\nI've got a remote location that's IPv6,\nI'm IPv6, but we're on the IPv4 internet.\n\n833\n00:40:00.134 --> 00:40:01.087\nWe need a way to get through.\n\n834\n00:40:01.087 --> 00:40:01.865\nAlright?\n\n835\n00:40:01.865 --> 00:40:06.717\nWell, what you can do, is you can use\nwhat's called a teredo tunnel instead.\n\n836\n00:40:06.717 --> 00:40:10.253\nAnd with a teredo tunnel,\nwhat you have is a,\n\n837\n00:40:10.253 --> 00:40:15.001\na host that's sitting out there\non the internet somewhere,\n\n838\n00:40:15.001 --> 00:40:20.699\nwith two continuous or\nadjacent IP addresses on the IPV4 network.\n\n839\n00:40:20.699 --> 00:40:27.531\nSo maybe it's got 209.251.133.186 and\ndot 187.\n\n840\n00:40:27.531 --> 00:40:28.948\nAll right, they can be next to each other.\n\n841\n00:40:28.948 --> 00:40:33.687\nAnd that host sits out there and it acts\nas what's called a teredo proxy, and\n\n842\n00:40:33.687 --> 00:40:36.723\nwhen your clients want to\nconnect to each other,\n\n843\n00:40:36.723 --> 00:40:39.110\nthey actually reach out to the proxy.\n\n844\n00:40:39.110 --> 00:40:41.360\nThey reach out to this known host.\n\n845\n00:40:41.360 --> 00:40:45.480\nAnd the host, client one says\nhey I'm connected, here I am.\n\n846\n00:40:45.480 --> 00:40:48.880\nAnd then client two connects, and\nsays, hey, I'm client two, here I am.\n\n847\n00:40:48.880 --> 00:40:53.570\nI want to talk to client one, and\nthen the proxy tells each of them, okay,\n\n848\n00:40:53.570 --> 00:40:57.180\nexpect a connection coming from\nthis IP on this port number, and\n\n849\n00:40:57.180 --> 00:40:59.220\nthen the clients are able\nto connect to each other.\n\n850\n00:40:59.220 --> 00:41:03.928\nThe teredo Proxy is really just\nan intermediary it's kinda like\n\n851\n00:41:03.928 --> 00:41:06.209\na like a matchmaker.\n\n852\n00:41:06.209 --> 00:41:08.490\n>> [CROSSTALK]\n>> It's like a dating service.\n\n853\n00:41:08.490 --> 00:41:12.421\n[LAUGH] The two clients are,\nare wanting to connect up and, and\n\n854\n00:41:12.421 --> 00:41:14.698\nthe teredo proxy lets that happen.\n\n855\n00:41:14.698 --> 00:41:16.841\nNow there is very little, and\n\n856\n00:41:16.841 --> 00:41:19.156\nby little I mean almost no-\n>> Nothing.\n\n857\n00:41:19.156 --> 00:41:21.782\nYeah.\n>> Documentation out there on anywhere,\n\n858\n00:41:21.782 --> 00:41:23.656\non how to set up a teredo proxy.\n\n859\n00:41:23.656 --> 00:41:26.280\nAnd even Microsoft says,\nMicrosoft invented it.\n\n860\n00:41:26.280 --> 00:41:27.040\n>> Yup.\n>> And so\n\n861\n00:41:27.040 --> 00:41:31.120\neven Microsoft says, it's not something\nany company is really going to want to do.\n\n862\n00:41:31.120 --> 00:41:32.410\nIt's a super pain.\n\n863\n00:41:32.410 --> 00:41:37.330\nIt's not a terribly stable technology, and\nit's what they call the last ditch effort.\n\n864\n00:41:37.330 --> 00:41:40.100\nIt's the absolutely last thing you\nwant to do, if you absolutely have to.\n\n865\n00:41:40.100 --> 00:41:42.050\nSo it's not a great technology.\n\n866\n00:41:42.050 --> 00:41:45.345\nSo to help with that Microsoft\nbrought up their own Teredo server.\n\n867\n00:41:45.345 --> 00:41:46.830\n>> Mm-hm.\n>> And it's on the internet and\n\n868\n00:41:46.830 --> 00:41:49.690\nit made it public so\nthat anybody can us it.\n\n869\n00:41:49.690 --> 00:41:53.630\nSo, when it comes to using Teredo\nservices, you don't build your own Teredo\n\n870\n00:41:53.630 --> 00:41:55.460\nserver, you just use Microsoft's\n>> Mm-hm.\n\n871\n00:41:55.460 --> 00:41:55.990\n>> Okay.\n\n872\n00:41:55.990 --> 00:42:00.550\nAnd and for the record here, let me, I've\ngot Microsoft's Teredo's article up here.\n\n873\n00:42:00.550 --> 00:42:03.455\nThey kinda detail all this stuff.\n\n874\n00:42:03.455 --> 00:42:06.800\nYeah, there we go and\nlets see if I can find it in here.\n\n875\n00:42:06.800 --> 00:42:11.519\nThe server,\nit's teredo.IPv6.microsoft.com and\n\n876\n00:42:11.519 --> 00:42:17.010\nsomewhere in this document they say that,\nwell whatever.\n\n877\n00:42:17.010 --> 00:42:19.750\nYou guys don't have to sit here and\nwatch me browse through an article.\n\n878\n00:42:19.750 --> 00:42:20.670\nBut it and I actually,\n\n879\n00:42:20.670 --> 00:42:24.630\nI won't be able to browse to it myself\nbecause I don't have an IPv6 address.\n\n880\n00:42:24.630 --> 00:42:29.355\nBut it is is\nteredo.IPB6.Microsoft dot com,\n\n881\n00:42:29.355 --> 00:42:34.265\nthat's the that's the server, and it's a\npublic server they host it at Microsoft's\n\n882\n00:42:34.265 --> 00:42:38.865\nnetwork and they make it available anybody\ncan connect up to it and and use it so\n\n883\n00:42:38.865 --> 00:42:41.210\nthe server side is not something\nwe have to worry about.\n\n884\n00:42:41.210 --> 00:42:46.190\nSo on the exam when it comes to dealing\nwith Teredo, what we need to know is, one,\n\n885\n00:42:46.190 --> 00:42:50.470\nhow to get our clients to connect to it,\nand two, know when to use it now.\n\n886\n00:42:50.470 --> 00:42:52.610\nWe use it when we have to pass the NAT.\n\n887\n00:42:52.610 --> 00:42:56.790\nIf you're passing through network address\ntranslation, Teredo is the only option.\n\n888\n00:42:56.790 --> 00:42:59.050\nAll right, and there is no other option.\n\n889\n00:42:59.050 --> 00:43:02.810\nIf you're not passing through a NAT\nrouter, then you can use Isotap and\n\n890\n00:43:02.810 --> 00:43:06.000\nthe other technologies, and they're more\nstable, and you have more control, so\n\n891\n00:43:06.000 --> 00:43:06.892\nthey're the better route to go.\n\n892\n00:43:06.892 --> 00:43:10.300\nAll right, so let's that I'm,\nI'm gonna use it, right.\n\n893\n00:43:10.300 --> 00:43:12.722\nSo I decide hey, I've,\nI've gotta use Teredo, it's,\n\n894\n00:43:12.722 --> 00:43:14.380\nit's just the way it's gotta be.\n\n895\n00:43:14.380 --> 00:43:15.130\nAll right.\n\n896\n00:43:15.130 --> 00:43:18.580\nWell, the setup is somewhat, annoying.\n\n897\n00:43:18.580 --> 00:43:20.130\n>> Yeah.\n>> Much like Ronnie was saying, you know,\n\n898\n00:43:20.130 --> 00:43:24.360\na lot of the stuff we have to do through\nthe, the PowerShell, or whatever.\n\n899\n00:43:24.360 --> 00:43:26.675\nWell, Teredo we actually\ndo with NSH commands.\n\n900\n00:43:26.675 --> 00:43:27.390\n>> [LAUGH]\n>> All right.\n\n901\n00:43:27.390 --> 00:43:32.657\nSo, if you've got a server, that has\nan IPv6 address, and let's see if I do.\n\n902\n00:43:32.657 --> 00:43:34.700\nYeah I assigned one at\nthe beginning of the show.\n\n903\n00:43:34.700 --> 00:43:38.680\nSo I've got a server, I've got an IPv6\naddress and I want to talk to some other\n\n904\n00:43:38.680 --> 00:43:42.540\nIPv6 hosts who might be spread out\nacross the internet or whatever.\n\n905\n00:43:42.540 --> 00:43:46.850\nSo I need to come in here and\nturn on, the trailer functionality.\n\n906\n00:43:46.850 --> 00:43:53.240\nNow when you do IP config, you'll see,\nlike, these ISO tap tunnel adaptors and\n\n907\n00:43:53.240 --> 00:43:56.800\nsometimes, like on the Windows clients\nyou'll also see the Teredo ones.\n\n908\n00:43:56.800 --> 00:44:00.210\nOn this one I am not seeing it, but\nthat doesn't mean they are not there.\n\n909\n00:44:00.210 --> 00:44:02.690\nBut but, when we can figure this,\n\n910\n00:44:02.690 --> 00:44:05.970\nwe're basically adding another one\nof these virtual tunnel interfaces.\n\n911\n00:44:05.970 --> 00:44:10.430\nSo, the, the first command that we do is,\nis kind of a, a long one.\n\n912\n00:44:10.430 --> 00:44:11.630\nCan I make this window wider?\n\n913\n00:44:11.630 --> 00:44:16.380\nLet me make this window wider,\nso I won't scroll around.\n\n914\n00:44:16.380 --> 00:44:18.470\nWhat is that layout.\n\n915\n00:44:18.470 --> 00:44:23.122\nAll right, there we go.\n\n916\n00:44:23.122 --> 00:44:26.330\nAll right, so the, the first command\nwe're gonna do is just kind of\n\n917\n00:44:26.330 --> 00:44:28.740\ntelling the server to be\naware that it can use Teredo.\n\n918\n00:44:28.740 --> 00:44:34.595\nSo I'm going to say Netsh interface\n\n919\n00:44:34.595 --> 00:44:39.290\nIPv6, set Teredo client.\n\n920\n00:44:39.290 --> 00:44:41.440\nAnd then the server I'm going\nto connect to, which for\n\n921\n00:44:41.440 --> 00:44:46.320\nme will be Teredo.IPv6.Microsoft.com.\n\n922\n00:44:46.320 --> 00:44:47.060\nOkay?\n\n923\n00:44:47.060 --> 00:44:49.440\nSo, now I'm telling my system hey,\n\n924\n00:44:49.440 --> 00:44:52.440\nif you need to contact an IPv6\nhost via the internet.\n\n925\n00:44:52.440 --> 00:44:56.690\nHere's the proxy server that you can use\nto find that other person, all right.\n\n926\n00:44:56.690 --> 00:44:58.790\nI would run this same\ncommand on the other end.\n\n927\n00:44:58.790 --> 00:45:00.450\nAnd the other end might\nbe a Windows 8 machine.\n\n928\n00:45:00.450 --> 00:45:02.781\nIt might be a Windows server machine,\nwhatever.\n\n929\n00:45:02.781 --> 00:45:06.156\nI'm telling it, hey, here's where that\nproxy server is, reach out to it.\n\n930\n00:45:06.156 --> 00:45:06.698\n>> Mm-hm.\n\n931\n00:45:06.698 --> 00:45:07.698\n>> All right.\n\n932\n00:45:07.698 --> 00:45:12.355\nThen, if we're on a domain, by default it\nassumes this is out on the internet and\n\n933\n00:45:12.355 --> 00:45:17.220\nit's not gonna send, like, domain\ntraffic for authentication and things.\n\n934\n00:45:17.220 --> 00:45:19.510\nBut if you are a domain,\nyou can use it for authentication.\n\n935\n00:45:19.510 --> 00:45:24.346\nYou would say, Netsh interface IPv6\n\n936\n00:45:24.346 --> 00:45:28.910\nset terado enterprise client.\n\n937\n00:45:28.910 --> 00:45:29.470\nAll right.\n\n938\n00:45:29.470 --> 00:45:31.840\nAnd that's going to allow you\nto authenticate the connection.\n\n939\n00:45:31.840 --> 00:45:34.730\nRemember with IPv6,\nit tries to use IP sec.\n\n940\n00:45:34.730 --> 00:45:37.360\nIt tries to do encryption and\nauthentication,\n\n941\n00:45:37.360 --> 00:45:41.090\nas part of the protocol, but in order to\ndo that you have to have certificates and,\n\n942\n00:45:41.090 --> 00:45:43.430\nand all, and this is what kind\nof enables that functionality.\n\n943\n00:45:45.122 --> 00:45:51.140\nAll right, and let's see there we go,\nthen we're pretty much done.\n\n944\n00:45:51.140 --> 00:45:51.870\n>> Yeah.\n>> I say pretty much.\n\n945\n00:45:51.870 --> 00:45:53.720\nThere's actually one more\nthing that we need to do.\n\n946\n00:45:53.720 --> 00:45:58.925\nIf I do a Netsh interface\nIPv6 show Teredo,\n\n947\n00:45:58.925 --> 00:46:02.450\nI can verify that it is setup.\n\n948\n00:46:02.450 --> 00:46:02.970\n>> There you go.\n\n949\n00:46:02.970 --> 00:46:05.100\n>> So there it is,\nI'm set as an enterprise client,\n\n950\n00:46:05.100 --> 00:46:09.250\nI've got teredo.IPv6.microsoft.com,\nso it is setup,\n\n951\n00:46:09.250 --> 00:46:12.015\nit's in place, it's,\nyou know, unrestricted.\n\n952\n00:46:12.015 --> 00:46:12.720\n>> Mm-hm.\n\n953\n00:46:12.720 --> 00:46:13.850\n>> NAT is restricted.\n\n954\n00:46:13.850 --> 00:46:15.720\nI am behind a NAT server right now.\n\n955\n00:46:15.720 --> 00:46:20.515\nAnd, and here's the internal and\nexternal IP I have, and, and so on, right?\n\n956\n00:46:20.515 --> 00:46:21.290\n>> Mm-hm.\n\n957\n00:46:21.290 --> 00:46:22.690\n>> So it's got this stuff setup.\n\n958\n00:46:22.690 --> 00:46:23.580\nIt should be ready to go.\n\n959\n00:46:23.580 --> 00:46:25.650\nI know our firewall is\nblocking that right now.\n\n960\n00:46:25.650 --> 00:46:27.360\nSo this is,\nwe'll have a little problem there.\n\n961\n00:46:27.360 --> 00:46:33.510\nBut but the one more thing I have to do,\nis right now I know that I've got\n\n962\n00:46:33.510 --> 00:46:36.700\na Teredo server out there, I know where\nour server is, and I know to contact it.\n\n963\n00:46:36.700 --> 00:46:40.260\nNow I need to tell it what\nIPv6 networks are out there,\n\n964\n00:46:40.260 --> 00:46:42.730\nwhat IPv6 networks\nare out along that line.\n\n965\n00:46:42.730 --> 00:46:46.300\nAnd the way I achieve that is by\nStatically mapping a route for\n\n966\n00:46:46.300 --> 00:46:49.360\nthe IPv6 networks that I\nused dradle with all right.\n\n967\n00:46:49.360 --> 00:46:54.950\nSo, before I can do that,\nI need to see my, my interfaces,\n\n968\n00:46:54.950 --> 00:47:01.200\nand so if I do like a net as\nage show interface, woops.\n\n969\n00:47:01.200 --> 00:47:03.300\nLets see, Netsh interface.\n\n970\n00:47:10.480 --> 00:47:12.200\nThere we go.\n\n971\n00:47:12.200 --> 00:47:14.420\nNetsh interface show interface.\n\n972\n00:47:14.420 --> 00:47:18.470\nWhat I'm look for is my interface ID, and\n\n973\n00:47:18.470 --> 00:47:20.440\nyou know it actually didn't\ngive it to me did it?\n\n974\n00:47:20.440 --> 00:47:25.160\nLet me scroll up.\n\n975\n00:47:25.160 --> 00:47:25.720\nLet's see here.\n\n976\n00:47:25.720 --> 00:47:26.402\nWell you know what?\n\n977\n00:47:26.402 --> 00:47:32.531\nLet me go route print.\n\n978\n00:47:32.531 --> 00:47:33.406\nWe will find that.\n\n979\n00:47:33.406 --> 00:47:34.906\nWe will find that Interface ID one way or\nanother.\n\n980\n00:47:34.906 --> 00:47:38.202\nSo, you know, in here you can see,\nI, I just did a route print so\n\n981\n00:47:38.202 --> 00:47:40.110\nI can see all my various interfaces.\n\n982\n00:47:40.110 --> 00:47:42.210\nSo, you know here, here they all are.\n\n983\n00:47:42.210 --> 00:47:46.340\nAnd, what I need to do is,\nI need to direct my, my traffic, my,\n\n984\n00:47:46.340 --> 00:47:50.165\nmy traffic that's for\nwhatever IPv6 network I have,\n\n985\n00:47:50.165 --> 00:47:54.538\nout to the interface number that\nmatches up with my Teredo network.\n\n986\n00:47:54.538 --> 00:47:59.137\nSo as I, I look at this, I've got to spot\nwhich one is my Teredo interface, and\n\n987\n00:47:59.137 --> 00:48:02.655\nI can see, like,\nsome link locals that I defined earlier.\n\n988\n00:48:02.655 --> 00:48:07.120\nHeres the address that I assigned, but the\neasy way to spot is if you can find the ip\n\n989\n00:48:07.120 --> 00:48:10.180\nsix address that you\ndidn't assign yourself.\n\n990\n00:48:10.180 --> 00:48:16.130\nAnd so, I've got actually more than one so\nwhich one is it going to be?\n\n991\n00:48:17.620 --> 00:48:20.250\nHang on, I'm forgetting a command.\n\n992\n00:48:21.520 --> 00:48:22.180\nLet's see.\n\n993\n00:48:24.230 --> 00:48:27.168\n>> If the trade interface we might\nbe able to just an ipconfig.\n\n994\n00:48:27.168 --> 00:48:32.160\nLet's find it.\n\n995\n00:48:32.160 --> 00:48:32.960\nWhat is it?\n\n996\n00:48:32.960 --> 00:48:33.700\nDid it pull one up?\n\n997\n00:48:33.700 --> 00:48:34.420\nTunnel adapter?\nNope.\n\n998\n00:48:34.420 --> 00:48:37.798\n>> Let's see, isotap\n>> It did not.\n\n999\n00:48:37.798 --> 00:48:40.130\n>> Well actually,\nthis tunnel adapter right here,\n\n1000\n00:48:40.130 --> 00:48:42.876\nthat is going to be my, my\n>> [INAUDIBLE]\n\n1001\n00:48:42.876 --> 00:48:43.580\n14\n>> Taredo.\n\n1002\n00:48:43.580 --> 00:48:46.190\nCause it, you know,\nthis wasn't here before so it's there now.\n\n1003\n00:48:46.190 --> 00:48:47.520\nAnd yeah, this is the one that it's 14.\n\n1004\n00:48:47.520 --> 00:48:50.490\nAnd I can see that cause I got that\nlittle zone number right there for 14.\n\n1005\n00:48:50.490 --> 00:48:53.290\nBut if I wanna verify that,\nI could look at this address.\n\n1006\n00:48:53.290 --> 00:48:59.060\nIt starts with 2001 and ends with 6047 and\nI can go back up here and find it.\n\n1007\n00:48:59.060 --> 00:49:00.580\nAnd so here.\n\n1008\n00:49:00.580 --> 00:49:03.920\nHere's the, the link local, but\nI could find the, the other one here.\n\n1009\n00:49:03.920 --> 00:49:05.190\nSo, yeah, there it is, 14.\n\n1010\n00:49:05.190 --> 00:49:08.890\nSo interface 14, that's the one\nthat my tunnel adapter is tied to.\n\n1011\n00:49:08.890 --> 00:49:14.810\nAnd so I'm just going to say,\nmessage interface IPV 6,\n\n1012\n00:49:14.810 --> 00:49:22.110\nat route colon, colon, slash zero and\nthat means all of my ipv6 traffic.\n\n1013\n00:49:22.110 --> 00:49:26.320\nIf it's somebody at home then they\nprobably don't have ipv6 locally so\n\n1014\n00:49:26.320 --> 00:49:29.450\nI'm going to say take all\nof my ipv6 traffic and\n\n1015\n00:49:29.450 --> 00:49:35.101\nsend it to interface equals 14\nwhich will be that Teredo tunnel.\n\n1016\n00:49:35.101 --> 00:49:38.600\nAlright, know If I had very\nspecific networks to work\n\n1017\n00:49:38.600 --> 00:49:40.270\nI would put those in here instead of this.\n\n1018\n00:49:40.270 --> 00:49:43.060\nSo, ::/0, that means everything.\n\n1019\n00:49:43.060 --> 00:49:45.370\nIf, what was the network you used earlier,\nRonnie?\n\n1020\n00:49:45.370 --> 00:49:51.000\nIt was like 2001-\n>> C zero A one, and then zero.\n\n1021\n00:49:52.480 --> 00:49:53.970\nAnd so it would be like that.\n\n1022\n00:49:53.970 --> 00:49:55.760\nThat was the network\nRonnie was using earlier.\n\n1023\n00:49:55.760 --> 00:49:58.220\nSo I'd say whenever I talk\nto a host in that network,\n\n1024\n00:49:58.220 --> 00:49:59.690\nsent it out the Teredo tunnel.\n\n1025\n00:49:59.690 --> 00:50:02.620\nAnd basically it will go to Microsoft\nserver and say hey, I'm looking for\n\n1026\n00:50:02.620 --> 00:50:04.510\nthis guy has anybody checked in?\n\n1027\n00:50:04.510 --> 00:50:06.640\nAnd the other side,\nhopefully has checked in, will say,\n\n1028\n00:50:06.640 --> 00:50:08.500\nyup, they're there,reach\nright out to them.\n\n1029\n00:50:08.500 --> 00:50:10.940\nWe can communicate and\nthen off we go, right?\n\n1030\n00:50:10.940 --> 00:50:12.710\n>> Yeah.\n>> So, so,\n\n1031\n00:50:12.710 --> 00:50:18.710\ninteresting system in that it depends on\nthis intermediary, this other server.\n\n1032\n00:50:18.710 --> 00:50:20.660\nAnd how do you know you\ncan trust the server?\n\n1033\n00:50:20.660 --> 00:50:21.160\nYou really dont.\n\n1034\n00:50:21.160 --> 00:50:22.650\n>> Yeah.\n>> And that's why Microsoft said,\n\n1035\n00:50:22.650 --> 00:50:23.340\njust, forget it.\n\n1036\n00:50:23.340 --> 00:50:25.940\nWe'll bring up our own,\nwe'll make it a free service.\n\n1037\n00:50:25.940 --> 00:50:28.800\nPartly because they know\nnobody's going use it, ight.\n\n1038\n00:50:28.800 --> 00:50:31.475\nBut, otherwise,\nit's pretty straightforward.\n\n1039\n00:50:31.475 --> 00:50:36.770\nSo there it is, and if I look at my\nroutes, I can see I've got some persistent\n\n1040\n00:50:36.770 --> 00:50:41.200\nroutes now for IPv6, and it says that\nthey're on link, which means that they're\n\n1041\n00:50:41.200 --> 00:50:45.900\nbeing sent directly to an interface,\nin this case that Teredo Tunnel.\n\n1042\n00:50:45.900 --> 00:50:49.280\nSo now, if I were to start to reach out to\nsome of these hosts that are out there,\n\n1043\n00:50:49.280 --> 00:50:51.120\nand, and\nthere's nobody checking in right now.\n\n1044\n00:50:51.120 --> 00:50:52.430\n>> Nope.\n>> So, I'm not gonna get anything.\n\n1045\n00:50:52.430 --> 00:50:56.645\nBut, if I try and reach out to one of\nthose hosts, it's actually gonna try.\n\n1046\n00:50:56.645 --> 00:50:59.070\n>> Mm-hm.\n>> And send it out the Teredo tunnel, and\n\n1047\n00:50:59.070 --> 00:51:03.551\nso right now, these communications,\nthey're actually going to Microsoft.\n\n1048\n00:51:03.551 --> 00:51:04.830\n>> [LAUGH]\n>> And they're saying, hey,\n\n1049\n00:51:04.830 --> 00:51:08.290\nI'm looking for\nsomebody that is 2001:Z0:A1::5.\n\n1050\n00:51:08.290 --> 00:51:11.700\nHave the checked in, and Microsoft is\nsaying no, they haven't checked in,\n\n1051\n00:51:11.700 --> 00:51:13.980\nsorry, and then my connection's dying off.\n\n1052\n00:51:13.980 --> 00:51:14.700\n>> Yep.\n>> All right.\n\n1053\n00:51:14.700 --> 00:51:16.820\nSo, it's a pretty neat system.\n\n1054\n00:51:16.820 --> 00:51:17.730\nMicrosoft will tell you.\n\n1055\n00:51:17.730 --> 00:51:18.890\n>> Yep.\n>> You find it all over their website.\n\n1056\n00:51:18.890 --> 00:51:22.400\nThey're like, this is the last of\nthe technologies you want to use.\n\n1057\n00:51:22.400 --> 00:51:24.160\nYeah.\n>> Because it depends on an intermediary,\n\n1058\n00:51:24.160 --> 00:51:27.270\nit's not secure and so\nyou've got various concerns there.\n\n1059\n00:51:27.270 --> 00:51:27.970\n>> Right.\n>> There.\n\n1060\n00:51:27.970 --> 00:51:30.710\nThe other thing is what if\nMicrosoft's Teredo server goes down?\n\n1061\n00:51:30.710 --> 00:51:32.642\n>> Yeah.\n>> Well, you're dead in the water.\n\n1062\n00:51:32.642 --> 00:51:34.872\n[CROSSTALK]\n>> All your clients are disconnected,\n\n1063\n00:51:34.872 --> 00:51:36.720\nso it's not the greatest solution.\n\n1064\n00:51:36.720 --> 00:51:37.890\nBut it is out there and\n\n1065\n00:51:37.890 --> 00:51:41.060\nso for the examine fortunately\nits not that many commands right?\n\n1066\n00:51:41.060 --> 00:51:43.420\nSo let's,\nlet's kind of review those commands.\n\n1067\n00:51:43.420 --> 00:51:45.370\nThe first one that I did was this.\n\n1068\n00:51:45.370 --> 00:51:46.924\nI needed to attach the,\n\n1069\n00:51:46.924 --> 00:51:51.610\nthe fact that I had a Teredo server\nout there to use to my Teredo client.\n\n1070\n00:51:51.610 --> 00:51:53.540\nSo that was, that was the first step.\n\n1071\n00:51:53.540 --> 00:51:56.070\nAnd then we set ourselves\nas an Enterprise client so\n\n1072\n00:51:56.070 --> 00:51:58.650\nthat we could authenticate against\nthe system on the other side.\n\n1073\n00:51:58.650 --> 00:52:02.420\nCause otherwise somebody else could\nbe guessing these same IPs, and\n\n1074\n00:52:02.420 --> 00:52:04.370\nwe would connect to somebody\nwe didn't even trust.\n\n1075\n00:52:04.370 --> 00:52:08.460\nSo this is gonna help us to ensure\nthat we are connecting trusted.\n\n1076\n00:52:08.460 --> 00:52:11.830\nThen, I, here we go.\n\n1077\n00:52:11.830 --> 00:52:14.890\nI attached a, a route,\nwe can just do a default route.\n\n1078\n00:52:14.890 --> 00:52:17.270\nFor IPv6 traffic to go out\nthat Teredo interface.\n\n1079\n00:52:17.270 --> 00:52:20.790\nAnd really those three commands,\nthat's what sets up the client, and\n\n1080\n00:52:20.790 --> 00:52:24.120\nif you do it on your servers, and then\nyou do it on your laptops or desktop or\n\n1081\n00:52:24.120 --> 00:52:27.020\nwhatever, then they're in business when\nthey're out there in the field and\n\n1082\n00:52:27.020 --> 00:52:29.840\nthey're on an IPv4 network they\ncan do this because they're\n\n1083\n00:52:29.840 --> 00:52:34.640\nboth contacting a remote server, and\nthey hit the remote server on two IP's.\n\n1084\n00:52:34.640 --> 00:52:36.910\nThe first IP and\nthen the next one in line.\n\n1085\n00:52:36.910 --> 00:52:39.810\nThey can validate what\nthey're being NAT'ed to so\n\n1086\n00:52:39.810 --> 00:52:43.890\nthe server can identify that and it's\nable to pass through those NAT firewalls.\n\n1087\n00:52:43.890 --> 00:52:46.080\nSo it's a neat technology.\n\n1088\n00:52:46.080 --> 00:52:47.560\nNot a whole lot to it.\n\n1089\n00:52:47.560 --> 00:52:49.800\nSo remember on the exam for\n\n1090\n00:52:49.800 --> 00:52:54.520\nisatap you'll see setting up the router\nas well as setting up the clients, but\n\n1091\n00:52:54.520 --> 00:52:57.370\non Teredo you'll really just see\nthe clients, you won't see the server.\n\n1092\n00:52:57.370 --> 00:52:57.870\n>> Yep.\n\n1093\n00:52:59.240 --> 00:53:00.650\n>> Alright, so those are the two.\n\n1094\n00:53:00.650 --> 00:53:02.440\nThere are other ones that are out there.\n\n1095\n00:53:02.440 --> 00:53:05.590\nThings like six to four tunnels and,\nand stuff like that.\n\n1096\n00:53:05.590 --> 00:53:07.270\nBut those are really\ndone on infrastructure.\n\n1097\n00:53:07.270 --> 00:53:09.140\ndone on hardware routers and\nother devices.\n\n1098\n00:53:09.140 --> 00:53:11.590\nSo Microsoft doesn't hit\non those on the exam.\n\n1099\n00:53:11.590 --> 00:53:13.910\nThere's probably seven different\ntechnologies there out there,\n\n1100\n00:53:13.910 --> 00:53:16.250\nprobably more,\nthere's seven that I know of.\n\n1101\n00:53:16.250 --> 00:53:19.690\nBut, those are the two main ones\nthat you see on the Microsoft exam.\n\n1102\n00:53:19.690 --> 00:53:20.190\nAlright.\n\n1103\n00:53:21.450 --> 00:53:24.540\nAlright.\nSo, remember, the end point of\n\n1104\n00:53:24.540 --> 00:53:28.650\nall this is that you put this kind\nof junk in place, and then in time,\n\n1105\n00:53:28.650 --> 00:53:32.840\nwhen the network's fully on converted over\nto IPV6, you don't need this anymore.\n\n1106\n00:53:32.840 --> 00:53:34.090\nSo for me at home,\n\n1107\n00:53:34.090 --> 00:53:37.640\nmy service provider only gives me\nan IPV4 address and that's it.\n\n1108\n00:53:37.640 --> 00:53:41.050\nSo I can use Teredo right now to\ncommunicate here to the office.\n\n1109\n00:53:41.050 --> 00:53:44.990\nAnd then when the service provider finally\nstarts giving me an IPv6 addresses, I can\n\n1110\n00:53:44.990 --> 00:53:48.550\njust disable Teredo and, and then I'm,\nI'm back in business and, and off I go.\n\n1111\n00:53:48.550 --> 00:53:50.500\nSo, so just keep that in mind.\n\n1112\n00:53:50.500 --> 00:53:53.340\nThese are transitional technologies.\n\n1113\n00:53:53.340 --> 00:53:53.840\n>> Yep.\n\n1114\n00:53:55.130 --> 00:53:55.980\n>> All right, Ronnie\n\n1115\n00:53:55.980 --> 00:53:58.440\ncan you think of anything else\nwe need to throw in on this one?\n\n1116\n00:53:58.440 --> 00:54:03.320\n>> No just again, remember that the very\nfact is it, it's taking a look at\n\n1117\n00:54:03.320 --> 00:54:07.420\nthose commands and just walking\nthrough them and understanding them.\n\n1118\n00:54:07.420 --> 00:54:08.890\nWhen you go through, okay.\n\n1119\n00:54:08.890 --> 00:54:12.740\nSo so again,\njust realize the context they're used in,\n\n1120\n00:54:12.740 --> 00:54:15.180\nand just practice the commands.\n\n1121\n00:54:15.180 --> 00:54:17.970\nYeah.\n>> Yeah, and, I'll, go ahead and post the,\n\n1122\n00:54:17.970 --> 00:54:21.940\nthe Teredo article on the site, and,\nand we'll post the Isotap article too.\n\n1123\n00:54:21.940 --> 00:54:23.530\nSo you can read the full Microsoft briefs.\n\n1124\n00:54:23.530 --> 00:54:25.290\n>> Yeah.\n>> They're really detailed.\n\n1125\n00:54:25.290 --> 00:54:28.160\nBut what we've shown here in this episode,\nthat's really what's on the inside.\n\n1126\n00:54:28.160 --> 00:54:29.080\n>> Right.\n\n1127\n00:54:29.080 --> 00:54:30.480\n>> So, alright.\n\n1128\n00:54:30.480 --> 00:54:33.515\nWell let me just remind you guys\nthat if you ever have any questions.\n\n1129\n00:54:33.515 --> 00:54:35.550\n>> Mm-hm.\n>> Live during the show you can\n\n1130\n00:54:35.550 --> 00:54:37.170\ngo to www.itprotv.com/live.\n\n1131\n00:54:37.170 --> 00:54:39.170\nYou'll see the chat box\nright beneath the video.\n\n1132\n00:54:39.170 --> 00:54:40.440\n>> Right.\n>> You post your questions there.\n\n1133\n00:54:40.440 --> 00:54:42.390\nWe monitor and answer during the show.\n\n1134\n00:54:42.390 --> 00:54:44.940\nIf you're watching a recorded,\nif you're watching this after the fact,\n\n1135\n00:54:44.940 --> 00:54:47.900\nyou can use the Q and\nA link at the top of every page.\n\n1136\n00:54:47.900 --> 00:54:50.660\nYou go there, you'll get into\nour question answer section.\n\n1137\n00:54:50.660 --> 00:54:52.660\nPost your questions and\nwe monitor and answer those.\n\n1138\n00:54:52.660 --> 00:54:55.940\nKind of nice because you have\naccess to it all the time, so.\n\n1139\n00:54:55.940 --> 00:54:57.360\nSo very cool stuff there.\n\n1140\n00:54:57.360 --> 00:54:59.010\nTake a minute to those resources,\nthey're there for\n\n1141\n00:54:59.010 --> 00:55:01.130\nyou, especially with\nharder topics like these.\n\n1142\n00:55:01.130 --> 00:55:04.770\nYou know, it's easy to get confused, so\nwe wanna make sure you guys have it,\n\n1143\n00:55:04.770 --> 00:55:07.180\nunder control so\nwhen you go into that exam booth,\n\n1144\n00:55:07.180 --> 00:55:09.020\nyou're going in with answers\ninstead of going in with questions.\n\n1145\n00:55:10.280 --> 00:55:10.780\n>> Right.\n>> Alright.\n\n1146\n00:55:10.780 --> 00:55:12.490\nWell, I hope you guys enjoyed this show.\n\n1147\n00:55:12.490 --> 00:55:14.750\nSigning off for ITProTV, I'm Don Pezet.\n\n1148\n00:55:14.750 --> 00:55:16.010\n>> And I'm Ronnie Wong, and\n\n1149\n00:55:16.010 --> 00:55:24.870\nwe'll see you next time.\n\n1150\n00:55:24.870 --> 00:55:29.217\n[MUSIC]\n\n1151\n00:55:29.217 --> 00:55:34.070\n[SOUND]\n\n",
          "vimeoId": "88992666"
        },
        {
          "description": "In this episode, Daniel and Mike cover DHCP. They discuss installing and configuring DHCP, creating scopes, reservations and options. They also discuss using a relay agent.",
          "length": "1886",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-11-1-install_and_configure_dhcp-071515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-11-1-install_and_configure_dhcp-071515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-11-1-install_and_configure_dhcp-071515-1-sm.jpg",
          "title": "Install and Configure DHCP",
          "transcript": "WEBVTT\n\n1\n00:00:00.053 --> 00:00:10.343\n[MUSIC]\n\n2\n00:00:10.343 --> 00:00:14.843\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.843 --> 00:00:16.173\nI'm your host, Daniel Lowrie.\n\n4\n00:00:16.173 --> 00:00:18.213\nHere with me today is none\nother than Mike Rodrick.\n\n5\n00:00:18.213 --> 00:00:18.963\nHow's it going today Mike?\n\n6\n00:00:18.963 --> 00:00:20.343\n>> It's going great, Daniel.\n\n7\n00:00:20.343 --> 00:00:21.383\nI'm glad to be here.\n\n8\n00:00:21.383 --> 00:00:24.974\nIn today's episode,\nwe're gonna be covering DHCP or\n\n9\n00:00:24.974 --> 00:00:27.635\nDynamic Host Configuration Protocol.\n\n10\n00:00:27.635 --> 00:00:31.322\nAnd it's one of those things that makes\nour life as an administrator a whole\n\n11\n00:00:31.322 --> 00:00:32.385\nlot easier, right?\n\n12\n00:00:32.385 --> 00:00:36.750\n>> Oh yeah, if you've ever had to sit\ndown and configure a PC or a laptop.\n\n13\n00:00:36.750 --> 00:00:40.421\nSo they could actually get on a network,\nyou had to type in that IP address,\n\n14\n00:00:40.421 --> 00:00:42.010\ndon't forget the subnet mask.\n\n15\n00:00:42.010 --> 00:00:43.720\nHey, you wanna get access to the Internet?\n\n16\n00:00:43.720 --> 00:00:45.810\nGotta have that Default Gateway memorized.\n\n17\n00:00:45.810 --> 00:00:49.440\nAnd hey, and if you even wanna\nuse maybe a DNS server or two, so\n\n18\n00:00:49.440 --> 00:00:53.670\nthat you can use those actual domain\nnames instead of an IP address.\n\n19\n00:00:53.670 --> 00:00:54.920\nTry to get somewhere like,\n\n20\n00:00:54.920 --> 00:00:57.640\nI don't know, google.com,\nitpro.tv, that's another great one.\n\n21\n00:00:57.640 --> 00:01:01.500\nIf you wanna use that, well you've gotta\nconfigure all that in the IP Settings.\n\n22\n00:01:01.500 --> 00:01:06.860\nAnd that's fine and dandy except for, what\nif I've got 150 computers on my network?\n\n23\n00:01:06.860 --> 00:01:09.900\nThat's when administration\nmight become a touch much for\n\n24\n00:01:09.900 --> 00:01:12.690\nus to handle on a day to day basis.\n\n25\n00:01:12.690 --> 00:01:14.560\nEnter DHCP, right Mike?\n\n26\n00:01:14.560 --> 00:01:15.290\n>> Exactly.\n\n27\n00:01:15.290 --> 00:01:18.100\nDHCP is gonna take care of all that for\nus.\n\n28\n00:01:18.100 --> 00:01:22.920\nAnd now we can, as Daniel said, we could\nmanually configure the IP configuration on\n\n29\n00:01:22.920 --> 00:01:25.260\nall our machines on our network and\nthat's fine, that'll work.\n\n30\n00:01:25.260 --> 00:01:28.980\nThat's what we call statically\nmapping the TCP/IP info.\n\n31\n00:01:28.980 --> 00:01:33.280\nThe problem is, as Daniel so\nwell pointed out, that's a pain in\n\n32\n00:01:33.280 --> 00:01:37.490\nthe butt if you've got 100, 1,000,\n5,000 or more machines on your network.\n\n33\n00:01:37.490 --> 00:01:39.380\nThat's gonna get old really fast.\n\n34\n00:01:39.380 --> 00:01:41.250\nAnd not to mention just the,\n\n35\n00:01:41.250 --> 00:01:45.850\nbesides the overall workload that's gonna\nput on you, what about human error, right?\n\n36\n00:01:45.850 --> 00:01:49.400\nIf I have to go enter the IP address and\nsubnet mask and default gateway and\n\n37\n00:01:49.400 --> 00:01:54.270\nDNS server address on, shoot for me,\nI have to do it on more than ten machine?\n\n38\n00:01:54.270 --> 00:01:57.840\nWhat are the odds that I\nmake a typo on one of those.\n\n39\n00:01:57.840 --> 00:01:59.160\nProbably about 100%.\n\n40\n00:01:59.160 --> 00:02:02.260\nAnd what's gonna happen if\nI duplicate an IP address?\n\n41\n00:02:02.260 --> 00:02:04.020\nOr mistype a subnet mask?\n\n42\n00:02:04.020 --> 00:02:07.080\nOr mistype a DNS server default gateway?\n\n43\n00:02:07.080 --> 00:02:08.670\nIt's gonna cause\ncommunication problems for\n\n44\n00:02:08.670 --> 00:02:10.870\nthat machine,\nif not more than one machine.\n\n45\n00:02:10.870 --> 00:02:12.180\nLike if we duplicate an IP address,\n\n46\n00:02:12.180 --> 00:02:15.410\nI could potentially have two machines that\ncan no longer communicate on the network.\n\n47\n00:02:15.410 --> 00:02:19.220\nSo the factor of human\nerror comes into play.\n\n48\n00:02:19.220 --> 00:02:21.450\nSo that's what DHCP does.\n\n49\n00:02:21.450 --> 00:02:24.262\nDHCP, dynamic host configuration protocol,\n\n50\n00:02:24.262 --> 00:02:28.430\nallows me to automate the assignment\nof that TCP/IP configuration.\n\n51\n00:02:28.430 --> 00:02:30.490\nNow, first thing I wanna\nmake sure we understand is,\n\n52\n00:02:30.490 --> 00:02:33.830\njust because we're running\nDHCP doesn't mean that\n\n53\n00:02:33.830 --> 00:02:37.720\neverybody has to get their IP\naddress from DHCP server, all right.\n\n54\n00:02:37.720 --> 00:02:40.640\nWe're still gonna have some machines on\nour network that are statically mapped.\n\n55\n00:02:40.640 --> 00:02:44.870\nYour domain controllers,\nmost of your servers in general, really.\n\n56\n00:02:44.870 --> 00:02:48.370\nYour print servers, you don't want\ntheir IP addresses ever changing.\n\n57\n00:02:48.370 --> 00:02:50.980\nSo we'll probably statically\nmap a lot of those.\n\n58\n00:02:50.980 --> 00:02:56.306\nBut when it comes to the client machines\nand things like that, we wanna automate\n\n59\n00:02:56.306 --> 00:03:01.250\nthat as much as possible, and\nthat's where DHCP is gonna come into play.\n\n60\n00:03:01.250 --> 00:03:04.670\nAlso wanna make sure at the very beginning\nwe're clear on some terminology.\n\n61\n00:03:04.670 --> 00:03:08.600\nDHCP is a client server protocol.\n\n62\n00:03:08.600 --> 00:03:12.820\nSo we say we've got a DHCP server, that's\nthe one that's gonna be doing the work,\n\n63\n00:03:12.820 --> 00:03:15.280\nthat's gonna be handing\nout the IP addresses.\n\n64\n00:03:15.280 --> 00:03:19.260\nAnd then we have DHCP clients that\nare connecting to that server\n\n65\n00:03:19.260 --> 00:03:22.320\nto retrieve their TCP/IP configuration.\n\n66\n00:03:22.320 --> 00:03:24.680\nWell, when I say DHCP client,\n\n67\n00:03:24.680 --> 00:03:28.350\ndo not automatically assume\nclient operating system.\n\n68\n00:03:28.350 --> 00:03:31.768\nI can have a server that's running,\nserver 2012R2, and\n\n69\n00:03:31.768 --> 00:03:35.130\nit can connect to a DHCP server and\nget an IP address just fine.\n\n70\n00:03:35.130 --> 00:03:40.420\nIn that case, it would be the DHCP\nclient connecting to the DHCP server.\n\n71\n00:03:40.420 --> 00:03:43.890\nWe talked about services like this,\nclient server models.\n\n72\n00:03:43.890 --> 00:03:47.900\nClient doesn't mean client operating\nsystem, client means the one that's\n\n73\n00:03:47.900 --> 00:03:52.970\nconsuming or using the service, so\njust make sure we're clear on that.\n\n74\n00:03:52.970 --> 00:03:53.758\nAll right, so\n\n75\n00:03:53.758 --> 00:03:58.170\nDHCP is gonna allow me to automate\nthe assignment of this TCP/IP information.\n\n76\n00:03:58.170 --> 00:04:00.520\nWe need to know how that process works.\n\n77\n00:04:00.520 --> 00:04:02.650\nIf something goes wrong or just for\n\n78\n00:04:02.650 --> 00:04:05.620\nexam purposes we need to\nunderstand what's going on there.\n\n79\n00:04:05.620 --> 00:04:09.140\nAnd the way it works, when a client\nstarts up or a machine starts up and\n\n80\n00:04:09.140 --> 00:04:10.640\nit needs an IP address,\n\n81\n00:04:10.640 --> 00:04:15.210\nbecause in the TCP/IP settings on that\noperating system, there's two options.\n\n82\n00:04:15.210 --> 00:04:19.270\nYou can choose to manually or\nstatically assign the IP address,\n\n83\n00:04:19.270 --> 00:04:22.410\nthat means I've typed it in myself and\nthat's what it's gonna use.\n\n84\n00:04:22.410 --> 00:04:26.260\nOr I can choose obtain an IP\naddress automatically and\n\n85\n00:04:26.260 --> 00:04:29.330\nobtain a DNS server address automatically.\n\n86\n00:04:29.330 --> 00:04:34.360\nThat's what turns that machine into\na DHCP client and when it starts up,\n\n87\n00:04:34.360 --> 00:04:35.960\ndoesn't have an IP address.\n\n88\n00:04:35.960 --> 00:04:40.560\nSo it's gonna holler out on the network,\nhello I'm looking for a DHCP server.\n\n89\n00:04:40.560 --> 00:04:45.730\nThat packet that it sends out\nis known as a discover packet.\n\n90\n00:04:45.730 --> 00:04:48.650\nIt's trying to discover a DHCP server.\n\n91\n00:04:48.650 --> 00:04:51.750\nFind a server that can give it\nthe information that it needs so\n\n92\n00:04:51.750 --> 00:04:52.990\nthat it can communicate on the network.\n\n93\n00:04:52.990 --> 00:04:58.030\nNow at this point the client\ndoes not have an IP address, so\n\n94\n00:04:58.030 --> 00:05:00.470\nit cannot send any unicast traffic.\n\n95\n00:05:00.470 --> 00:05:04.470\nIt doesn't have an address that it\ncan put as the source of the packet\n\n96\n00:05:04.470 --> 00:05:05.570\nthat's leaving it.\n\n97\n00:05:05.570 --> 00:05:08.610\nAnd the other end couldn't send\nany information back because\n\n98\n00:05:08.610 --> 00:05:10.810\nthere's no destination address, right.\n\n99\n00:05:10.810 --> 00:05:13.730\nSo that discover packet\nis a broadcast packet.\n\n100\n00:05:13.730 --> 00:05:17.670\nIt means it goes out to\neverybody on that subnet.\n\n101\n00:05:17.670 --> 00:05:22.240\nDHCP servers, their job is to listen for\nthat discover packet.\n\n102\n00:05:22.240 --> 00:05:23.580\nThat's what they do.\n\n103\n00:05:23.580 --> 00:05:25.980\nAnd once they hear a discover packet,\n\n104\n00:05:25.980 --> 00:05:30.580\nthey respond with what's\nknown as DHCP offer packet.\n\n105\n00:05:30.580 --> 00:05:34.240\nThat's them reaching into\ntheir bag of IP addresses and\n\n106\n00:05:34.240 --> 00:05:37.950\nsaying, here's an IP address\nthat you might want to use.\n\n107\n00:05:37.950 --> 00:05:42.640\nAll DHCP servers that hear that\ndiscover are going to respond to that.\n\n108\n00:05:42.640 --> 00:05:43.900\nThat's their job.\n\n109\n00:05:43.900 --> 00:05:47.160\nSo if there's more than one\nDHCP server on that subnet,\n\n110\n00:05:47.160 --> 00:05:51.530\nthe DHCP client would actually\nreceive more than one offer.\n\n111\n00:05:51.530 --> 00:05:56.290\nNow the clients don't look at the offers\nand say, this is an even number.\n\n112\n00:05:56.290 --> 00:05:58.240\nI like even numbers\nbetter than odd numbers.\n\n113\n00:05:58.240 --> 00:05:59.650\nI'm gonna take that one, all right.\n\n114\n00:05:59.650 --> 00:06:01.760\nThe first offer that makes it to him,\n\n115\n00:06:01.760 --> 00:06:06.280\nthe first one it receives,\nthat's the one he's gonna try to use.\n\n116\n00:06:06.280 --> 00:06:07.690\nBut he can't use it yet.\n\n117\n00:06:07.690 --> 00:06:08.750\nIt's not his.\n\n118\n00:06:08.750 --> 00:06:10.190\nHe's got the offer.\n\n119\n00:06:10.190 --> 00:06:15.956\nThe DHCP client is now going to respond\nto the offer with a DHCP request packet\n\n120\n00:06:15.956 --> 00:06:22.010\nsaying hey, I got your offer, I wanna go\nahead and start using that IP address.\n\n121\n00:06:22.010 --> 00:06:25.785\nAgain, if there was more than\none DHCP server on the network,\n\n122\n00:06:25.785 --> 00:06:29.720\nthey both sent offers,\nhe gonna accept the first one and reply.\n\n123\n00:06:29.720 --> 00:06:31.490\nThis is still broadcast traffic.\n\n124\n00:06:31.490 --> 00:06:33.320\nHe doesn't have an IP address yet and\n\n125\n00:06:33.320 --> 00:06:39.450\nthat's a good thing because let's say\nwe had DHCP server A and server B.\n\n126\n00:06:39.450 --> 00:06:41.290\nThey both send out offers.\n\n127\n00:06:41.290 --> 00:06:45.530\nA's offer gets to the client first,\nthat's the one he's gonna try to accept.\n\n128\n00:06:45.530 --> 00:06:49.680\nWell B needs to know that he's\nnot accepting his offer so\n\n129\n00:06:49.680 --> 00:06:52.570\nthat he can put that IP\naddress back in his bag and\n\n130\n00:06:52.570 --> 00:06:55.390\ngive it to somebody else when they ask for\nit, all right.\n\n131\n00:06:55.390 --> 00:06:56.970\nSo that's a request.\n\n132\n00:06:56.970 --> 00:06:58.920\nServer A then would get that request.\n\n133\n00:06:58.920 --> 00:07:01.250\nOh, you wanna use that IP address?\n\n134\n00:07:01.250 --> 00:07:05.750\nGreat, and he send back what's called\na DHCP acknowledgment saying, okay,\n\n135\n00:07:05.750 --> 00:07:07.430\nI'm gonna mark it as yours.\n\n136\n00:07:07.430 --> 00:07:11.090\nYou may now start using that IP address,\nright.\n\n137\n00:07:11.090 --> 00:07:15.797\nThat process, discover, offer,\nrequest, acknowledgment,\n\n138\n00:07:15.797 --> 00:07:19.270\nis know as the DORA process, D-O-R-A.\n\n139\n00:07:19.270 --> 00:07:22.250\nEasy way to remember that process,\nI know we were talking,\n\n140\n00:07:22.250 --> 00:07:24.660\nI always think of Dora the Explorer.\n\n141\n00:07:24.660 --> 00:07:26.490\nYou had to come up with a couple good one.\n\n142\n00:07:26.490 --> 00:07:28.180\n>> Yeah Dora the Transporter.\n\n143\n00:07:28.180 --> 00:07:29.255\nThat's a different show completely though.\n\n144\n00:07:29.255 --> 00:07:33.307\n[LAUGH]\n>> So whatever you want to use to memorize\n\n145\n00:07:33.307 --> 00:07:38.167\nthat we need to know that,\nthe process is discover, offer, request,\n\n146\n00:07:38.167 --> 00:07:42.470\nacknowledgement or dora and\nthey're all broadcast packets.\n\n147\n00:07:42.470 --> 00:07:46.599\nBecause not until that final\nacknowledgment is the DHCP client allowed\n\n148\n00:07:46.599 --> 00:07:48.540\nto actually use that IP address.\n\n149\n00:07:48.540 --> 00:07:51.578\nAnd we're going to come back to that in\na little bit because the fact that those\n\n150\n00:07:51.578 --> 00:07:52.761\nwere all broadcast packets.\n\n151\n00:07:52.761 --> 00:07:57.024\nIs gonna play into something else\nthat we've got to discuss, but for\n\n152\n00:07:57.024 --> 00:08:01.595\nnow we'll just keep it that, Dora,\nand we understand what's going on.\n\n153\n00:08:01.595 --> 00:08:07.692\nAll right so, DHCP is a role that I can\ninstall on a server 2012 R2 machine,\n\n154\n00:08:07.692 --> 00:08:10.880\nand it's not very difficult to install.\n\n155\n00:08:10.880 --> 00:08:13.860\nLike any of the rolls,\ninstalling them is very easy.\n\n156\n00:08:13.860 --> 00:08:16.990\nIt's all about being able to\nconfigure it after the fact, right?\n\n157\n00:08:16.990 --> 00:08:19.770\nBut let's take a look at adding DHCP here.\n\n158\n00:08:19.770 --> 00:08:24.620\nSo I've got a server 2012 machine up, and\nI'm just gonna click on my good old add\n\n159\n00:08:24.620 --> 00:08:29.870\nroles and features wizard, and I'll click\nnext through our intro screen here.\n\n160\n00:08:29.870 --> 00:08:31.970\nMake sure I've got\nthe right server selected.\n\n161\n00:08:31.970 --> 00:08:37.190\nAnd then the role I'm looking for\nis DHCP server.\n\n162\n00:08:37.190 --> 00:08:40.450\nOkay, it's gonna ask me if I want to\ninstall the consoles, of course I do.\n\n163\n00:08:41.550 --> 00:08:47.130\nI'll click next, and next,\nall the way through and Install.\n\n164\n00:08:47.130 --> 00:08:50.010\nSo relatively easy to get\nthis thing installed.\n\n165\n00:08:50.010 --> 00:08:53.530\nBut at this point,\nit's not a functional DHCP server.\n\n166\n00:08:53.530 --> 00:08:56.370\nThere's a couple of things,\nthat we're gonna have to do so\n\n167\n00:08:56.370 --> 00:09:00.200\nthat this will start to work and\ndo it's job on our network.\n\n168\n00:09:00.200 --> 00:09:02.020\nThe first thing we have to do,\n\n169\n00:09:02.020 --> 00:09:05.730\nis authorize the DHCP\nserver in active directory.\n\n170\n00:09:07.880 --> 00:09:09.720\nThe reason we have to authorize,\n\n171\n00:09:09.720 --> 00:09:13.900\nactive directory maintains a list\nof authorized DHCP servers.\n\n172\n00:09:13.900 --> 00:09:18.170\nAnd when a Windows based server\nboots up that's running DHCP,\n\n173\n00:09:18.170 --> 00:09:22.590\nbefore it starts the DHCP service, it's\ngonna contact active directory and say,\n\n174\n00:09:22.590 --> 00:09:29.320\nhey am I on the list, am I authorized to\nfunction on your network as a DHCP server.\n\n175\n00:09:29.320 --> 00:09:32.590\nAnd if active directory says yes, you're\non the list, it'll go ahead and fire up\n\n176\n00:09:32.590 --> 00:09:37.050\nthe service and it'll serve processing\nthose discover packets, and do its job.\n\n177\n00:09:37.050 --> 00:09:40.500\nIf it's not on the list,\nit won't, it'll say okay,\n\n178\n00:09:40.500 --> 00:09:42.740\nI'm not authorized, it will log an error.\n\n179\n00:09:42.740 --> 00:09:44.010\nAnd it won't start up the service, and\n\n180\n00:09:44.010 --> 00:09:46.920\nit will not respond to\nthose discover packets.\n\n181\n00:09:46.920 --> 00:09:48.230\nAnd the reason they do that is because,\n\n182\n00:09:48.230 --> 00:09:52.190\nwe don't want rogue DHCP\nservers on our network.\n\n183\n00:09:52.190 --> 00:09:56.159\nA rogue DHCP server is one that,\nmaybe somebody sets up intentionally or or\n\n184\n00:09:56.159 --> 00:09:57.230\nunintentionally.\n\n185\n00:09:57.230 --> 00:10:00.300\nI've seen it happen many times,\nunintentionally with like,\n\n186\n00:10:00.300 --> 00:10:04.050\nwireless access points that\nautomatically run a DHCP server, or\n\n187\n00:10:04.050 --> 00:10:06.120\nthose little home switches and routers.\n\n188\n00:10:06.120 --> 00:10:08.580\nThose little broadband\nrouters that do DHCP.\n\n189\n00:10:08.580 --> 00:10:12.065\nSo if you think about it,\nlet's say on my network,\n\n190\n00:10:12.065 --> 00:10:16.293\nwere running a 10.1.1.0/24 network,\nalright.\n\n191\n00:10:16.293 --> 00:10:21.478\nIf somebody fires up a DHCP server, and\nthey set up a pool of addresses and\n\n192\n00:10:21.478 --> 00:10:27.480\nthe 192 168.1.0/24 network,\nwell it'll start functioning.\n\n193\n00:10:27.480 --> 00:10:29.210\nAnd when my clients holler out say,\n\n194\n00:10:29.210 --> 00:10:34.650\nhey I'm trying to find a DHCP server,\nboth of those DHCP servers will reply.\n\n195\n00:10:34.650 --> 00:10:38.500\nAnd if that rogue DHCP server,\nif his offer gets there first.\n\n196\n00:10:38.500 --> 00:10:41.930\nMy client doesn't know any better and\nhe's gonna accept that IP address.\n\n197\n00:10:41.930 --> 00:10:44.220\nNow he is going to have an IP address\nthat is not valid on the sub net,\n\n198\n00:10:44.220 --> 00:10:46.780\nand he's not going to be able\nto communicate with anybody.\n\n199\n00:10:46.780 --> 00:10:50.850\nSo I could effectively do a denial of\nservice, by setting up a DHCP server and\n\n200\n00:10:50.850 --> 00:10:52.630\npassing out bogus IP addresses.\n\n201\n00:10:52.630 --> 00:10:56.170\n>> Yeah I remember when I was in college,\nand we were learning Windows Server\n\n202\n00:10:56.170 --> 00:11:00.140\noperating systems, and we got to this\npart where we're setting up DHCP,\n\n203\n00:11:00.140 --> 00:11:03.510\nour whole classroom is setting\nup DHCP servers, basically.\n\n204\n00:11:03.510 --> 00:11:07.610\nAnd all of a sudden,\none of the IT gentleman from my college,\n\n205\n00:11:07.610 --> 00:11:10.120\nhe comes running and he's like,\nwe're having a lot of problems with.\n\n206\n00:11:10.120 --> 00:11:13.140\nAre you guys having any issues\ngetting to the internet and\n\n207\n00:11:13.140 --> 00:11:15.790\nlosing connectivity with\nthe school network?\n\n208\n00:11:15.790 --> 00:11:17.410\nAnd no, we seem to be fine.\n\n209\n00:11:17.410 --> 00:11:19.340\nWe're having a lot of\nproblems going on in there.\n\n210\n00:11:19.340 --> 00:11:23.260\nWe're like, well we are setting up DHCP\nservers, so maybe we want to go ahead and\n\n211\n00:11:23.260 --> 00:11:25.510\nremove this classroom from the network.\n\n212\n00:11:25.510 --> 00:11:27.700\nSo that traffic doesn't get out\nthrough the switch actually.\n\n213\n00:11:27.700 --> 00:11:29.400\nThey were probably running\nhubs at that time.\n\n214\n00:11:29.400 --> 00:11:33.500\nSo it was really easy to pass that\ntraffic along to everybody else, and\n\n215\n00:11:33.500 --> 00:11:34.335\nthat's the danger.\n\n216\n00:11:34.335 --> 00:11:38.590\nIt can accidentally denial a service\npeople, and that's exactly what happened.\n\n217\n00:11:38.590 --> 00:11:42.590\nRandom people were having trouble\naccessing normal resources.\n\n218\n00:11:42.590 --> 00:11:45.150\nCuz they were getting our IP's\nfrom our little test network.\n\n219\n00:11:45.150 --> 00:11:48.870\nInstead of the one from the real\nDHCP server, on that network.\n\n220\n00:11:48.870 --> 00:11:49.710\n>> And it's a pain.\n\n221\n00:11:49.710 --> 00:11:53.430\nI can imagine your help desk technicians,\ntrying to troubleshoot that problem,\n\n222\n00:11:53.430 --> 00:11:56.540\nand the first thing to do when somebody\ncalls him up and says, I can't get access\n\n223\n00:11:56.540 --> 00:12:00.320\nto the network, let's do an ipconfig and\nthey read off the IP address.\n\n224\n00:12:00.320 --> 00:12:02.810\nAnd they're like,\nwhere did you get that IP address from?\n\n225\n00:12:02.810 --> 00:12:06.550\nNow I gotta try to figure out\nWhere that DHTP server is.\n\n226\n00:12:06.550 --> 00:12:08.990\nAnd I've got to run some\npacket cache utilities,\n\n227\n00:12:08.990 --> 00:12:10.970\nto see where those offers are coming from.\n\n228\n00:12:10.970 --> 00:12:12.910\nAnd trace it back through my network.\n\n229\n00:12:12.910 --> 00:12:15.100\nIt's not easy, so\nthat's why Windows does this.\n\n230\n00:12:15.100 --> 00:12:17.390\nNow, I will tell you that\nit's not the end all,\n\n231\n00:12:17.390 --> 00:12:22.130\nbecause Windows servers will check\nin to see if they're authorized.\n\n232\n00:12:22.130 --> 00:12:26.480\nLinux servers, those little d link\nrouters and things like that,\n\n233\n00:12:26.480 --> 00:12:28.420\ndo you think they're going to\ncheck active directory, Daniel?\n\n234\n00:12:28.420 --> 00:12:28.940\n>> Nope.\n\n235\n00:12:28.940 --> 00:12:29.630\nThey don't care.\n\n236\n00:12:29.630 --> 00:12:30.160\n>> They don't care.\n\n237\n00:12:30.160 --> 00:12:33.090\nSo they're just gonna start\npassing out IP addresses anyway.\n\n238\n00:12:33.090 --> 00:12:37.040\nSo this will help prevent rogue\nWindows based DHCP servers.\n\n239\n00:12:37.040 --> 00:12:40.020\nAnd I'll tell you, Daniel, most people\naren't setting up Windows based DHCP\n\n240\n00:12:40.020 --> 00:12:42.140\nservers, if they're trying\nto do something bad.\n\n241\n00:12:42.140 --> 00:12:44.500\nBut, anyway it's something\nthat we still have to do.\n\n242\n00:12:44.500 --> 00:12:47.360\nIf you don't authorize it,\nit won't function.\n\n243\n00:12:47.360 --> 00:12:49.840\nAll right, so here on my machine\nthe installation is completed,\n\n244\n00:12:49.840 --> 00:12:53.420\nand there's a few different ways\nI can authorize this server.\n\n245\n00:12:53.420 --> 00:12:55.650\nThe easiest way is right here\nat the end of the wizard.\n\n246\n00:12:55.650 --> 00:12:59.090\nI can click complete DHCP configuration.\n\n247\n00:12:59.090 --> 00:13:01.910\nIt's gonna pop up a window and say hey,\ndo you want me to go ahead and set up?\n\n248\n00:13:01.910 --> 00:13:04.970\nIt's gonna create two groups,\nthe DHCP Admins, and\n\n249\n00:13:04.970 --> 00:13:09.330\nif I add somebody to that group they'll\nhave full control over the DHCP console.\n\n250\n00:13:09.330 --> 00:13:12.120\nAlso creates a DHCP users group.\n\n251\n00:13:12.120 --> 00:13:13.630\nAnybody I add to that group,\n\n252\n00:13:13.630 --> 00:13:17.150\nwill have read only access\nto the DHCP server console.\n\n253\n00:13:17.150 --> 00:13:19.560\nGreat group to put your\nTier 1 help desk in,\n\n254\n00:13:19.560 --> 00:13:21.900\nso that you can at least start\nthe troubleshooting process.\n\n255\n00:13:21.900 --> 00:13:27.990\nAnd then those authorize DHCP server\non target computer, if domain joined.\n\n256\n00:13:27.990 --> 00:13:30.060\nSo I'll go ahead and click next.\n\n257\n00:13:30.060 --> 00:13:33.840\nAnd I have to be domain admin, or\n\n258\n00:13:33.840 --> 00:13:37.600\nin the domain admin's group in order\nto successfully authorize this server,\n\n259\n00:13:37.600 --> 00:13:40.040\nas well as an admin on the server itself,\nwhich I am.\n\n260\n00:13:40.040 --> 00:13:46.030\nSo, I'll just use my current credentials,\nand authorization failed, nice.\n\n261\n00:13:46.030 --> 00:13:48.510\nWe'll go figure that out\nhere in just a second.\n\n262\n00:13:48.510 --> 00:13:50.240\nI'll click close.\n\n263\n00:13:50.240 --> 00:13:51.140\nAnd we'll click close.\n\n264\n00:13:52.410 --> 00:13:54.930\nAll right so now I've got it installed.\n\n265\n00:13:54.930 --> 00:13:57.020\nI'll open up my DHCP console.\n\n266\n00:13:59.500 --> 00:14:01.290\nAnd this is running on\nthe domain controller, so\n\n267\n00:14:01.290 --> 00:14:04.570\nit's kinda strange that I got that\nerror that it was failed to authorize.\n\n268\n00:14:04.570 --> 00:14:05.980\nIt's like, wait, you are the one.\n\n269\n00:14:05.980 --> 00:14:08.910\nBut anyway,\nwe'll figure out what's going on here.\n\n270\n00:14:08.910 --> 00:14:10.950\nIn fact I think it actually succeeded.\n\n271\n00:14:10.950 --> 00:14:12.840\nBecause I see some green check marks here.\n\n272\n00:14:12.840 --> 00:14:15.350\nBut let me show you where else\nI can go to authorize this.\n\n273\n00:14:15.350 --> 00:14:18.820\nIf I didn't do it at that wizard,\nmaybe I'm adding the role.\n\n274\n00:14:18.820 --> 00:14:21.290\nBut I'm giving somebody\nelse DHCP admin rights.\n\n275\n00:14:21.290 --> 00:14:22.670\nAnd I want them to take care of all that.\n\n276\n00:14:22.670 --> 00:14:24.700\nSo I just skip that end phase.\n\n277\n00:14:24.700 --> 00:14:27.720\nWhat they would do is they would\ncome into their DHCP console,\n\n278\n00:14:27.720 --> 00:14:31.290\nright click on their server, and\nnotice here it says unauthorized?\n\n279\n00:14:31.290 --> 00:14:35.080\nThat's an indication that\nthe server is already authorized.\n\n280\n00:14:35.080 --> 00:14:38.810\nSo it did work even\nthough I got that error.\n\n281\n00:14:38.810 --> 00:14:39.408\n>> Thanks Microsoft.\n[LAUGH] >> Yeah, exactly. >> [LAUGH] And\n\n282\n00:14:39.408 --> 00:14:43.620\nit'll make me troubleshoot a non\nexistent problem, that's always good.\n\n283\n00:14:43.620 --> 00:14:44.790\nBut so he is up.\n\n284\n00:14:44.790 --> 00:14:48.670\nBut if this was not authorized yet,\nit would say authorized right there.\n\n285\n00:14:48.670 --> 00:14:50.170\nAnd I can just select that.\n\n286\n00:14:50.170 --> 00:14:54.810\nOne other way you can work with your\nDHCP authorization, is to select DHCP at\n\n287\n00:14:54.810 --> 00:15:00.480\nthe top here, and I can go to action,\nand manage authorized servers.\n\n288\n00:15:00.480 --> 00:15:04.030\nAnd here I can get a list of\nall authorized DHCP servers.\n\n289\n00:15:04.030 --> 00:15:08.390\nAnd I can add and remove, and unauthorize\nand authorize machines from here.\n\n290\n00:15:08.390 --> 00:15:14.030\nAll right, so\nnow we've got our DHCP server authorized.\n\n291\n00:15:14.030 --> 00:15:16.860\nHe's ready to start\npassing out IP addresses,\n\n292\n00:15:16.860 --> 00:15:19.970\nbut, there's something else\nthat weren't gonna have to do.\n\n293\n00:15:19.970 --> 00:15:23.050\nWe've got to create what we call a scope.\n\n294\n00:15:23.050 --> 00:15:25.730\nRemember I said he's gonna pull\nan IP address out of that bag, and\n\n295\n00:15:25.730 --> 00:15:26.960\nmake that offer.\n\n296\n00:15:26.960 --> 00:15:28.405\nWell, where's that bag, right?\n\n297\n00:15:28.405 --> 00:15:31.335\nHow does he know what IP\naddresses to pass out?\n\n298\n00:15:31.335 --> 00:15:34.485\nAnd that's done with\nsomething called a scope.\n\n299\n00:15:34.485 --> 00:15:37.205\nIt's just a pool of IP addresses.\n\n300\n00:15:37.205 --> 00:15:40.075\nI say just a pool though,\nit is a little more than that\n\n301\n00:15:40.075 --> 00:15:44.465\nbecause there's several options\nwe can configure along with that.\n\n302\n00:15:44.465 --> 00:15:47.395\nBefore I get into that, though,\nI wanna talk about those server options,\n\n303\n00:15:47.395 --> 00:15:50.830\ncuz there's different levels that\nwe can apply these options at.\n\n304\n00:15:50.830 --> 00:15:53.029\nWe've got what we call,\nserver level options.\n\n305\n00:15:53.029 --> 00:15:58.905\nAnd server level options would apply\nto all scopes on that DHCP server.\n\n306\n00:15:58.905 --> 00:16:03.167\nMy DHCP server can have\nseveral scopes on it.\n\n307\n00:16:03.167 --> 00:16:05.476\nMaybe I've got three different\nsubnets on my network.\n\n308\n00:16:05.476 --> 00:16:08.910\nI don't have to run three\ndifferent DHCP servers.\n\n309\n00:16:08.910 --> 00:16:13.760\nI can create all three scopes on here and\nhe can handle all three of those networks.\n\n310\n00:16:13.760 --> 00:16:18.920\nWe might run, maybe my DHCP server is\nmulti-homed as three network adapters.\n\n311\n00:16:18.920 --> 00:16:22.060\nAnd I've got each one of those\nnetwork adapters connected to\n\n312\n00:16:22.060 --> 00:16:23.480\neach one of those networks, right?\n\n313\n00:16:23.480 --> 00:16:25.500\nOne for one network etc., etc.\n\n314\n00:16:25.500 --> 00:16:28.700\nAnd he could listen for\ndiscover packets on any one of those.\n\n315\n00:16:28.700 --> 00:16:31.070\nSo I can set up more than one scope.\n\n316\n00:16:31.070 --> 00:16:33.840\nIf I wanna, let's go back for\n\n317\n00:16:33.840 --> 00:16:39.370\njust a second because THCP does so much\nmore than just passing out IP addresses.\n\n318\n00:16:39.370 --> 00:16:43.580\nIt can pass out so as we said subnet\nmask is gonna pass out to default\n\n319\n00:16:43.580 --> 00:16:47.890\ngateways it can pass out\na DNS server address.\n\n320\n00:16:47.890 --> 00:16:51.310\nNet bios node types, DNS suffixes.\n\n321\n00:16:51.310 --> 00:16:54.980\nThere are several,\nseveral options that we can configure.\n\n322\n00:16:54.980 --> 00:16:59.960\nIf I can configure a server level\noption that means no matter what scope.\n\n323\n00:16:59.960 --> 00:17:02.370\nThe client is getting the IP address from.\n\n324\n00:17:02.370 --> 00:17:04.430\nIt's going to receive that option.\n\n325\n00:17:04.430 --> 00:17:09.690\nA really good use for server level options\nthat I see see, or typically do, is DNS.\n\n326\n00:17:09.690 --> 00:17:13.450\nBecause I don't put DNS servers\non every single subnet.\n\n327\n00:17:13.450 --> 00:17:17.630\nSo no matter what subnet you're on, you're\nprobably using the same IP address for\n\n328\n00:17:17.630 --> 00:17:18.590\nDNS.\n\n329\n00:17:18.590 --> 00:17:23.680\nSo instead of configuring that for\neach individual scope on my DHCP server\n\n330\n00:17:23.680 --> 00:17:26.950\nI configure it once as\na server level option.\n\n331\n00:17:26.950 --> 00:17:30.720\nSo I give my server the IP address\nof DNS and then anytime somebody\n\n332\n00:17:30.720 --> 00:17:34.570\ngets an IP address from the server they're\ngonna get that DNS server's address.\n\n333\n00:17:36.200 --> 00:17:37.710\nSee if I can go down here and\nshow you guys.\n\n334\n00:17:37.710 --> 00:17:41.822\nHere's my server options and\nI'm just gonna right click and\n\n335\n00:17:41.822 --> 00:17:47.560\nchoose configure option, and, as you can\nsee, there are several options in here.\n\n336\n00:17:47.560 --> 00:17:54.060\nThe one I'm talking about right\nnow is going to be my 006, or DNS.\n\n337\n00:17:54.060 --> 00:17:58.053\nAnd I'm just gonna I'm gonna\ntype in the IP address,\n\n338\n00:17:58.053 --> 00:18:01.890\n10.1.1.200 in this case and click add.\n\n339\n00:18:01.890 --> 00:18:04.004\nAnd it's gonna make sure\nthat that is a DNS server so\n\n340\n00:18:04.004 --> 00:18:06.490\nthat I don't have to\ntroubleshoot that later.\n\n341\n00:18:06.490 --> 00:18:09.370\nAnd I click OK and\nnow I have a server level option.\n\n342\n00:18:09.370 --> 00:18:12.740\nSo any machine that gets\nan IP address from this\n\n343\n00:18:12.740 --> 00:18:16.620\nDHAB server will receive this IP address.\n\n344\n00:18:16.620 --> 00:18:18.430\nFor their DNS server.\n\n345\n00:18:18.430 --> 00:18:19.640\nAll right?\n\n346\n00:18:19.640 --> 00:18:23.240\nSo server level options apply to\nall scopes on the DHEB server.\n\n347\n00:18:23.240 --> 00:18:26.430\nNow I'm going to configure\na scope here in just a second.\n\n348\n00:18:26.430 --> 00:18:28.750\nThere are also scope level options.\n\n349\n00:18:28.750 --> 00:18:31.650\nScope level options apply\nto only that scope.\n\n350\n00:18:31.650 --> 00:18:34.940\nRemember I said I could have,\nmaybe I've got three scopes on the server.\n\n351\n00:18:34.940 --> 00:18:39.545\nMaybe I've got a 10 dot one\ndot one dot zero slash 24 and\n\n352\n00:18:39.545 --> 00:18:47.310\na 10.1.2.0/24 10.1.3.0/24 all\nthree scopes are on this server.\n\n353\n00:18:47.310 --> 00:18:53.550\nWell the nodes on the 10.1.1.0/24 network,\ntheir default gateway\n\n354\n00:18:53.550 --> 00:18:58.780\nis gonna be something like 10.1.1.1 right,\nor something on that same subnet.\n\n355\n00:18:58.780 --> 00:19:04.110\nThe guys on the second subnet 10.1.2.0\nthey can't use that IP address as\n\n356\n00:19:04.110 --> 00:19:08.120\nthe default gateway, the default gateway\nhas to be on the same subnet as you, so\n\n357\n00:19:08.120 --> 00:19:11.050\nthey're gonna have a different\ndefault gateway's IP address.\n\n358\n00:19:11.050 --> 00:19:13.690\nSo I can't configure this\nas server level option,\n\n359\n00:19:13.690 --> 00:19:16.750\nnot everybody is getting\nthe same default gateway.\n\n360\n00:19:16.750 --> 00:19:19.000\nThis is where I would\nuse my scope options.\n\n361\n00:19:19.000 --> 00:19:21.290\nI can figure the option\nat the scope level and\n\n362\n00:19:21.290 --> 00:19:24.940\nat each one of the scopes I can\nconfigure a different default gateway.\n\n363\n00:19:24.940 --> 00:19:28.410\nThat way when you get an IP\naddress from scope B for\n\n364\n00:19:28.410 --> 00:19:33.150\nexample, you get the right the fall\ngateway for your subnet, all right?\n\n365\n00:19:34.220 --> 00:19:37.020\nAll right, so let's go through here,\nand create a scope, and\n\n366\n00:19:37.020 --> 00:19:38.300\nwe're gonna stick with IPv4.\n\n367\n00:19:38.300 --> 00:19:44.150\nWe should understand though that DHCP\nwith 2012 R2 Fully supports IPv6..\n\n368\n00:19:44.150 --> 00:19:46.740\nYou can create your scopes.\n\n369\n00:19:46.740 --> 00:19:47.900\nYou've got these options.\n\n370\n00:19:47.900 --> 00:19:49.490\nMost of them are the same options.\n\n371\n00:19:50.820 --> 00:19:54.220\nWith IPv6 we don't use DHCP as much\n\n372\n00:19:54.220 --> 00:19:58.440\nbecause we've learned probably in Network\nPlus how a lot of it is auto-configured.\n\n373\n00:19:58.440 --> 00:20:00.889\nBut you still might pass\nout some of the options,\n\n374\n00:20:00.889 --> 00:20:03.770\neven if you're not passing\nout actual IPv6 addresses.\n\n375\n00:20:03.770 --> 00:20:09.360\nFor this exam,\nknow that DHCP fully supports IPv6.\n\n376\n00:20:09.360 --> 00:20:11.774\nWe're gonna stick with IPv4 and\nI'm gonna create,\n\n377\n00:20:11.774 --> 00:20:14.620\nnotice I've already got\none scope created here.\n\n378\n00:20:14.620 --> 00:20:21.500\nI've got my 10.1.1.0 network and I'm\ngonna pull up a properties of this scope.\n\n379\n00:20:21.500 --> 00:20:22.760\nAnd we'll take a look at it.\n\n380\n00:20:22.760 --> 00:20:24.080\nYou can give your scopes a name.\n\n381\n00:20:25.190 --> 00:20:25.960\nJust something.\n\n382\n00:20:25.960 --> 00:20:27.790\nThat doesn't do anything functionally, but\n\n383\n00:20:27.790 --> 00:20:30.310\nit allows you to differentiate\nbetween the different scopes.\n\n384\n00:20:30.310 --> 00:20:32.440\nYou've got the starting and\nending IP address.\n\n385\n00:20:32.440 --> 00:20:37.257\nEven though I'm using a slash 24 or\na class c or\n\n386\n00:20:37.257 --> 00:20:41.480\na 24-bt subnet mask, I've got what?\n\n387\n00:20:41.480 --> 00:20:43.355\n254 possible addresses,\n\n388\n00:20:43.355 --> 00:20:46.810\nI don't necessarily wanna\nuse all of those with DHCP.\n\n389\n00:20:46.810 --> 00:20:50.150\nRemember, some of my servers are\nstatically mapped and things like that.\n\n390\n00:20:50.150 --> 00:20:55.810\nSo I'm gonna say you can pass out\n1.100 all the way through 150.\n\n391\n00:20:55.810 --> 00:20:59.520\nNotice I can not change and\nI can change these.\n\n392\n00:20:59.520 --> 00:21:02.170\nNotice I can not change the sub net mask.\n\n393\n00:21:02.170 --> 00:21:06.060\nIf you ever have to change\nthe sub net mask on a scope.\n\n394\n00:21:06.060 --> 00:21:10.910\nThe only way to do it is to delete\nthe scope and recreate it, all right?\n\n395\n00:21:10.910 --> 00:21:13.090\nSo remember that if they ask\nthat on an exam or something.\n\n396\n00:21:13.090 --> 00:21:17.570\nYou've got to delete it, and recreate it,\nyou cannot change the subnet mask.\n\n397\n00:21:17.570 --> 00:21:21.550\nBelow that I've got my least duration,\nand that's actually something Danny I\n\n398\n00:21:21.550 --> 00:21:26.220\ndidn't mention earlier these IP\naddresses are not permanent, right?\n\n399\n00:21:26.220 --> 00:21:28.480\n>> No, they only last for so long.\n\n400\n00:21:28.480 --> 00:21:29.980\nNow we have the ability to change that.\n\n401\n00:21:29.980 --> 00:21:34.231\nAs you can see, there's, it's giving me\na duration, how long do I want to give\n\n402\n00:21:34.231 --> 00:21:38.730\nout an IP address and all that information\nto any one client that requests it.\n\n403\n00:21:38.730 --> 00:21:42.060\nThe default is normally eight days,\nand that's a good amount of time,\n\n404\n00:21:42.060 --> 00:21:46.160\nbecause any computer will probably be\non the network for at least a week.\n\n405\n00:21:46.160 --> 00:21:48.610\nAnd then if it needs a new IP address,\nwe can request another one.\n\n406\n00:21:48.610 --> 00:21:50.590\nAnd the server can hand it out.\n\n407\n00:21:50.590 --> 00:21:54.410\nThat way you're not constantly creating\ntraffic and constantly hitting the server,\n\n408\n00:21:54.410 --> 00:21:56.060\nsaying, I need another IP address.\n\n409\n00:21:56.060 --> 00:21:56.800\nOkay, it's another day.\n\n410\n00:21:56.800 --> 00:21:57.995\nI need another IP address.\n\n411\n00:21:57.995 --> 00:21:58.690\n>> [LAUGH]\n>> You say, you know what?\n\n412\n00:21:58.690 --> 00:22:00.720\nI'm gonna give you a week's worth,\nlittle more.\n\n413\n00:22:00.720 --> 00:22:02.475\nEven give you one extra, just for.\n\n414\n00:22:02.475 --> 00:22:04.740\n>> [COUGH]\n>> Good measure, right?\n\n415\n00:22:04.740 --> 00:22:06.160\nI'm gonna give you those eight days and\n\n416\n00:22:06.160 --> 00:22:09.240\nthen you have that whole week\nbefore you might need to request.\n\n417\n00:22:09.240 --> 00:22:13.170\nAnd even when you send the new request you\nmight even get the exact same IP address\n\n418\n00:22:13.170 --> 00:22:16.300\nagain because it's been released,\nit's back in the pool and\n\n419\n00:22:16.300 --> 00:22:19.865\nyou're gonna be requesting about the same\ntime it's been added back to the pool so\n\n420\n00:22:19.865 --> 00:22:21.515\nyou might even get the exact same address.\n\n421\n00:22:21.515 --> 00:22:23.215\nBut, we can set it to anything we want,\nright.\n\n422\n00:22:23.215 --> 00:22:24.275\n>> Exactly, we sure can.\n\n423\n00:22:24.275 --> 00:22:26.555\nAnd there are times when\nI wanna adjust this.\n\n424\n00:22:26.555 --> 00:22:30.492\nSomething else we really should\nunderstand is the way this process works.\n\n425\n00:22:30.492 --> 00:22:34.902\nAnd we talked about DORA and the way\nyou retrieve an IP address from DHCP.\n\n426\n00:22:34.902 --> 00:22:37.182\nYou're gonna get a lease and\nas you can see, as Daniel said and\n\n427\n00:22:37.182 --> 00:22:39.622\nas you can see here,\nthe default is eight days.\n\n428\n00:22:39.622 --> 00:22:44.530\nThat means the IP address is good for\neight days and if you, if you do not\n\n429\n00:22:44.530 --> 00:22:48.270\nrenew the address before that eight days\nis up, you no longer use the IP address.\n\n430\n00:22:48.270 --> 00:22:54.430\nYour computer will go back to good old\nAPIPA if there's no DHCP server available.\n\n431\n00:22:54.430 --> 00:22:57.760\nBut, your computers don't wait until\nthe eighth day to renew that lease.\n\n432\n00:22:58.790 --> 00:23:04.120\nThe renewal process actually starts at\nfifty percent of the lease duration.\n\n433\n00:23:04.120 --> 00:23:09.260\nSo if I set an eight day lease\nthat means the DHP clients\n\n434\n00:23:09.260 --> 00:23:13.400\non the fourth day are actually gonna\ntalk to the DHP server, say hey, you\n\n435\n00:23:13.400 --> 00:23:17.770\nknow I got this lease, I've only got four\ndays left, can I go ahead and renew it?\n\n436\n00:23:17.770 --> 00:23:20.460\nAnd the DHP server most\nlikely will say sure,\n\n437\n00:23:20.460 --> 00:23:23.500\nnobody else is, I mean you're still\nusing it right now so why not,\n\n438\n00:23:23.500 --> 00:23:27.540\nhere's another eight days and then four\ndays later, hey can renew my lease?\n\n439\n00:23:27.540 --> 00:23:31.730\nSure, here's another eight days and then\nfour days laterand so on and so forth.\n\n440\n00:23:31.730 --> 00:23:35.400\nWe might change that now and again.\n\n441\n00:23:35.400 --> 00:23:39.728\nLike, we've got a situation, I've been in\nsome situations where you've got a lot of\n\n442\n00:23:39.728 --> 00:23:43.937\nin and out traffic, a lot of people coming\ninto your network, and they're bringing\n\n443\n00:23:43.937 --> 00:23:48.383\nmobile devices, phones, tablets, laptops,\nand things like that Well they're gonna\n\n444\n00:23:48.383 --> 00:23:52.514\nget an IP address from your server, but\nthen they leave and they don't come back.\n\n445\n00:23:52.514 --> 00:23:56.890\nWell my pool of addresses, like one I've\ngot set up here only has 51 addresses.\n\n446\n00:23:56.890 --> 00:24:01.584\nSo if 25 people come in on Monday And they\nall get an IP Address from my server and\n\n447\n00:24:01.584 --> 00:24:02.648\nthen they leave.\n\n448\n00:24:02.648 --> 00:24:06.003\nWell, they're gonna connect to some\nother network when they get home or\n\n449\n00:24:06.003 --> 00:24:07.560\nwherever they're going.\n\n450\n00:24:07.560 --> 00:24:09.640\nAnd they're gonna get an IP\naddress on that network.\n\n451\n00:24:09.640 --> 00:24:11.940\nMy server doesn't know if\nthey're coming back or not.\n\n452\n00:24:11.940 --> 00:24:16.890\nSo he has to leave those addresses\nas used until the lease expires.\n\n453\n00:24:16.890 --> 00:24:18.790\nAnd that's eight days later, right?\n\n454\n00:24:18.790 --> 00:24:21.230\nSo then Tuesday, 25 more people come in.\n\n455\n00:24:21.230 --> 00:24:22.530\nAnd my pools exhausted, right?\n\n456\n00:24:22.530 --> 00:24:25.560\nEven though I only have\n25 people on my network,\n\n457\n00:24:25.560 --> 00:24:29.410\nthe other addresses are still looking\nlike they're used to the DHCP server.\n\n458\n00:24:29.410 --> 00:24:31.360\nSo you might shorten that lease up.\n\n459\n00:24:31.360 --> 00:24:35.248\nI've seen scenarios where we shortened\nit up to four days, all right?\n\n460\n00:24:35.248 --> 00:24:38.920\nWhere that way,\n\n461\n00:24:38.920 --> 00:24:44.720\nif the lease is only good for four days or\neven drop it down to two days.\n\n462\n00:24:44.720 --> 00:24:48.640\nThat which means I can free those\nIP addresses up a lot faster.\n\n463\n00:24:48.640 --> 00:24:50.130\nBut here's what you gotta remember.\n\n464\n00:24:50.130 --> 00:24:52.960\nIf you shorten that up to two days,\nall right.\n\n465\n00:24:52.960 --> 00:24:55.890\nWell that means they're gonna\nrenew their lease at 50%.\n\n466\n00:24:55.890 --> 00:24:59.890\nThat means every 24 hours,\nthey're gonna be renewing their lease.\n\n467\n00:24:59.890 --> 00:25:01.310\nThey're gonna get it for another two days.\n\n468\n00:25:01.310 --> 00:25:03.430\nBut 24 hours later they're\ngonna renew their lease.\n\n469\n00:25:03.430 --> 00:25:07.770\nSo by shortening the lease, yes you\nfree up the IP addresses faster but\n\n470\n00:25:07.770 --> 00:25:10.790\nyou also generate a lot more\nDHCP traffic on your network.\n\n471\n00:25:10.790 --> 00:25:14.890\nSo it's something that you've gotta\nfind that balance point there.\n\n472\n00:25:14.890 --> 00:25:17.500\nAll right, so I'm gonna leave it\nat the default eight days here.\n\n473\n00:25:17.500 --> 00:25:20.050\nAnd I'll take a look, well let's do this.\n\n474\n00:25:20.050 --> 00:25:21.720\nLet's go ahead and click OK.\n\n475\n00:25:21.720 --> 00:25:24.750\nAnd let's see if it works, all right?\n\n476\n00:25:24.750 --> 00:25:26.920\nI'm gonna fire up,\nI've got a client over here.\n\n477\n00:25:28.490 --> 00:25:30.840\nAnd it looks like he's gone to sleep,\nso I'll wake him up.\n\n478\n00:25:32.480 --> 00:25:34.160\nAnd get him back on the network here.\n\n479\n00:25:39.650 --> 00:25:41.005\nSorry, I'll get this guy going.\n\n480\n00:25:44.088 --> 00:25:45.845\nIf I can remember my\nsuper secret password.\n\n481\n00:25:51.997 --> 00:25:54.262\nAll right, and this guy,\nsince I've already turned on,\n\n482\n00:25:54.262 --> 00:25:55.565\nin fact you know what I should do.\n\n483\n00:25:55.565 --> 00:25:57.135\nWell, we'll just check it out and see.\n\n484\n00:25:57.135 --> 00:25:58.169\nI'm gonna open up Command Prompt.\n\n485\n00:26:01.454 --> 00:26:05.268\nAnd we'll do a little ipconfig /all.\n\n486\n00:26:09.062 --> 00:26:12.460\nAnd here I can see my\nTCP/IP configuration.\n\n487\n00:26:12.460 --> 00:26:18.928\nAnd what we'll see is that I do\nhave an IP address, 10.1.1.106.\n\n488\n00:26:18.928 --> 00:26:21.760\nDHCP is enabled on this client machine.\n\n489\n00:26:21.760 --> 00:26:23.790\nI can see who I got it from.\n\n490\n00:26:23.790 --> 00:26:27.094\nThat was that server we're\njust looking at, 1.200.\n\n491\n00:26:27.094 --> 00:26:33.121\nAnd there's my lease that I\npicked up at 1:50 PM on today.\n\n492\n00:26:33.121 --> 00:26:35.580\nAnd notice its good for eight days.\n\n493\n00:26:35.580 --> 00:26:38.220\nSo in eight days from now, it will expire.\n\n494\n00:26:40.470 --> 00:26:41.790\nSo yeah, that's DHCP.\n\n495\n00:26:41.790 --> 00:26:42.501\nIt reached out.\n\n496\n00:26:42.501 --> 00:26:43.450\nNow if we wanted to.\n\n497\n00:26:43.450 --> 00:26:45.127\nLet's see how we could do this Daniel.\n\n498\n00:26:45.127 --> 00:26:49.000\nI could flip back over here, and\nlet's stop this guy for just a second.\n\n499\n00:26:49.000 --> 00:26:50.740\nI'm gonna deactivate that scope.\n\n500\n00:26:53.115 --> 00:26:55.970\nCuz it is important to understand\nwhat happens to a client.\n\n501\n00:26:55.970 --> 00:26:59.150\nThe client is set to obtain\nan IP address automatically,\n\n502\n00:26:59.150 --> 00:27:03.330\nwhat happens if there is\nno DHCP server out there?\n\n503\n00:27:03.330 --> 00:27:05.320\nIf I have a lease and\nI want to give it up.\n\n504\n00:27:05.320 --> 00:27:12.670\nThe command is ipconfig /release.\n\n505\n00:27:12.670 --> 00:27:15.700\nAll right, and\nat this point I don't have an IP address.\n\n506\n00:27:15.700 --> 00:27:20.905\nIf I try to do an ipconfig /renew\nwhich means go get a lease,\n\n507\n00:27:20.905 --> 00:27:23.755\nit's gonna set here and spin and\nit's actually gonna take a minute or two.\n\n508\n00:27:23.755 --> 00:27:28.155\nI want to say it's four, eight, 12 and\n\n509\n00:27:28.155 --> 00:27:32.260\n24 seconds, don't quote me on those,\nbut it tries like four or five times.\n\n510\n00:27:32.260 --> 00:27:36.200\nAnd if it fails,\nit's gonna get a good old APIPA address.\n\n511\n00:27:36.200 --> 00:27:37.700\nYou remember that old acronym there?\n\n512\n00:27:37.700 --> 00:27:42.950\n>> The automatic IP, IP, IP address?\n\n513\n00:27:42.950 --> 00:27:43.610\n>> [LAUGH] Exactly.\n\n514\n00:27:43.610 --> 00:27:47.600\n>> Right? IP. Automatic IP addressing,\nsomething like that?\n\n515\n00:27:47.600 --> 00:27:48.580\n>> Yeah.\nThat's exactly right.\n\n516\n00:27:48.580 --> 00:27:51.830\nAutomatic Private IP Addressing or APIPA.\n\n517\n00:27:51.830 --> 00:27:57.080\nAnd it's important we\nunderstand what that range is,\n\n518\n00:27:57.080 --> 00:28:00.574\nyou should remember this\nfrom network class, right?\n\n519\n00:28:00.574 --> 00:28:05.530\n169.254.0.0/16, so it's\na 169.254.anything.anything basically.\n\n520\n00:28:05.530 --> 00:28:10.160\nIt'll randomly generate the last two\noctets, and that's called APIPA.\n\n521\n00:28:10.160 --> 00:28:11.990\nAnd the reason it's\nimportant to understand is,\n\n522\n00:28:11.990 --> 00:28:15.730\nif you're ever troubleshooting and you\ngo to a machine, you do an IP config and\n\n523\n00:28:15.730 --> 00:28:20.790\nyou see an address that starts with\n169.254, you immediately know something.\n\n524\n00:28:20.790 --> 00:28:24.780\nThe client is configured to obtain\nan IP address automatically and\n\n525\n00:28:24.780 --> 00:28:25.660\nit was unable to do so.\n\n526\n00:28:25.660 --> 00:28:27.665\nNow it doesn't tell you\nwhere the problem is.\n\n527\n00:28:27.665 --> 00:28:30.325\nCould be that the client\ncan't connect to the network.\n\n528\n00:28:30.325 --> 00:28:34.835\nBut it could be that the DHCP server has\nfailed or not connected to the network.\n\n529\n00:28:34.835 --> 00:28:36.755\nBut it gives you a good place to start,\nright.\n\n530\n00:28:38.015 --> 00:28:38.765\nAll right, so let's see.\n\n531\n00:28:38.765 --> 00:28:39.852\nHe's still trying.\n\n532\n00:28:39.852 --> 00:28:41.242\nHe should fail here in just a second.\n\n533\n00:28:41.242 --> 00:28:42.712\nIn fact I can probably.\n\n534\n00:28:42.712 --> 00:28:44.292\nYeah, let's just force a kill on that.\n\n535\n00:28:44.292 --> 00:28:49.362\nAnd let's do an ipconfig all and\nthere we go.\n\n536\n00:28:49.362 --> 00:28:53.432\nWe'll see that yes I am DHCP enabled, but\n\n537\n00:28:53.432 --> 00:28:58.162\nI was unable to obtain an IP address.\n\n538\n00:28:58.162 --> 00:29:01.850\nSo notice I've got an address\nthat starts at 169.254.\n\n539\n00:29:01.850 --> 00:29:04.920\nDot random number, dot random number.\n\n540\n00:29:04.920 --> 00:29:09.560\nNow, if I go back over to DHCP and\nI enable this guy again.\n\n541\n00:29:11.440 --> 00:29:17.459\nWe can switch back to the client,\nand I can do an IP config.\n\n542\n00:29:17.459 --> 00:29:18.372\nOops, if I could spell it.\n\n543\n00:29:18.372 --> 00:29:21.640\nSwitch renew.\n\n544\n00:29:21.640 --> 00:29:23.420\nTell him to go get a new lease.\n\n545\n00:29:23.420 --> 00:29:26.070\nAnd it shouldn't take long,\nhe's sending out the discover packet,\n\n546\n00:29:26.070 --> 00:29:29.840\nthe server's responding with an offer,\nhe's replying with a request,\n\n547\n00:29:29.840 --> 00:29:33.340\nthe server replies with\nan acknowledgement, and there you go.\n\n548\n00:29:33.340 --> 00:29:38.120\nAnd just like Daniel said, notice I get\nthe same IP address right back, all right?\n\n549\n00:29:38.120 --> 00:29:39.410\nThat might happen, that might not happen.\n\n550\n00:29:39.410 --> 00:29:42.590\nThere's no guarantee, but in the end,\nit doesn't really matter.\n\n551\n00:29:42.590 --> 00:29:44.350\nYou know, our servers, our print servers,\n\n552\n00:29:44.350 --> 00:29:46.630\nour domain controllers,\nwe statically map them.\n\n553\n00:29:46.630 --> 00:29:48.840\nIt's important that we know\nwhat their IP addresses are.\n\n554\n00:29:48.840 --> 00:29:51.590\nThere might be things mapped\nat their IP addresses,\n\n555\n00:29:51.590 --> 00:29:54.770\nservices that are depending on\nthose IP addresses not changing.\n\n556\n00:29:54.770 --> 00:29:55.940\nSo we don't mess with those.\n\n557\n00:29:55.940 --> 00:29:58.510\nBut for the other guys, for\nthe clients, I don't really,\n\n558\n00:29:58.510 --> 00:30:02.770\nit doesn't really matter to me what\nBob's computer gets for an IP address.\n\n559\n00:30:02.770 --> 00:30:06.720\nAs long as it's unique and valid and he\ncan connect to the network, I don't care.\n\n560\n00:30:06.720 --> 00:30:08.910\nIf it changes tomorrow who cares?\n\n561\n00:30:08.910 --> 00:30:11.930\nI never connect to Bob's\ncomputer via IP address.\n\n562\n00:30:11.930 --> 00:30:16.450\nSo, whether I get the same IP address back\nor not it really doesn't matter, right?\n\n563\n00:30:16.450 --> 00:30:19.020\n>> No, it's exactly what DHCP is for.\n\n564\n00:30:19.020 --> 00:30:21.090\nSo we don't have to worry\nabout IP addresses.\n\n565\n00:30:21.090 --> 00:30:24.230\nWe don't have to worry who's got what or\nwhere, it doesn't matter.\n\n566\n00:30:24.230 --> 00:30:27.280\nAll that matters is that they\nhave valid IP information and\n\n567\n00:30:27.280 --> 00:30:28.750\nthat they can get on the network.\n\n568\n00:30:28.750 --> 00:30:30.710\nAnd that's basically what\nwe've shown you today.\n\n569\n00:30:30.710 --> 00:30:33.700\nWe've showed you walking through\nwhat we see in the server,\n\n570\n00:30:33.700 --> 00:30:36.430\nunderstanding what DHCP does,\nhow it works.\n\n571\n00:30:36.430 --> 00:30:39.450\nSeeing how to get it running on your\n2012 server, which is obviously,\n\n572\n00:30:39.450 --> 00:30:40.220\na very important thing.\n\n573\n00:30:40.220 --> 00:30:42.320\nLooked at a little bit with the scopes,\nbut\n\n574\n00:30:42.320 --> 00:30:44.770\nguess what,\nthere's plenty more to this guy.\n\n575\n00:30:44.770 --> 00:30:48.550\nUnfortunately, we don't have the time\nin this episode to go through this, so\n\n576\n00:30:48.550 --> 00:30:50.680\nwe're gonna have to do a part two,\n\n577\n00:30:50.680 --> 00:30:53.690\nso you guys gonna have to\ndefinitely check that one out.\n\n578\n00:30:53.690 --> 00:30:56.040\nWe're gonna delve into\na little more detail and\n\n579\n00:30:56.040 --> 00:31:01.520\ndepth on what DHCP Service can do for\nus in the 2012 environment.\n\n580\n00:31:01.520 --> 00:31:05.395\nMike, I think we've successfully wrapped\nup yet another great show for our viewers.\n\n581\n00:31:05.395 --> 00:31:06.095\nWhat do you think?\n\n582\n00:31:06.095 --> 00:31:06.745\n>> Oh I think so.\n\n583\n00:31:06.745 --> 00:31:09.825\nYou know me, I could babble on about the\nissue for hours, but we are out of time.\n\n584\n00:31:09.825 --> 00:31:10.975\nAnd I know we get to do another one.\n\n585\n00:31:10.975 --> 00:31:12.627\n>> That's right.\n>> So, looking forward to that.\n\n586\n00:31:12.627 --> 00:31:13.875\n>> All right, so everybody out there,\n\n587\n00:31:13.875 --> 00:31:16.415\nwe're going to go ahead and\nsign off for ITProTV.\n\n588\n00:31:16.415 --> 00:31:18.375\nI've been your host Daniel Lowrie.\n\n589\n00:31:18.375 --> 00:31:19.205\n>> And I'm Mike Roderick.\n\n590\n00:31:19.205 --> 00:31:20.276\n>> And we'll see you next time.\n\n591\n00:31:20.276 --> 00:31:21.235\n[SOUND]\n\n",
          "vimeoId": "133665544"
        },
        {
          "description": "In this episode, Daniel and Mike conclude their discussion on DHCP. They wrap up talking about scopes and using reservations versus exclusions. They configure a relay agent and explain when to use one how it fits into a network.",
          "length": "1398",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-11-1-install_and_configure_dhcp_pt2-071515-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-11-1-install_and_configure_dhcp_pt2-071515-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-11-1-install_and_configure_dhcp_pt2-071515-1-sm.jpg",
          "title": "Install and Configure DHCP Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.670\n[MUSIC]\n\n2\n00:00:10.670 --> 00:00:15.600\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.600 --> 00:00:19.360\nI'm your host, Daniel Lowry, here with me\ntoday is my good friend, Mike Roderick.\n\n4\n00:00:19.360 --> 00:00:20.240\nHow is it going today, Mike?\n\n5\n00:00:20.240 --> 00:00:22.180\n>> It's going great Daniel,\nglad to be here.\n\n6\n00:00:22.180 --> 00:00:25.090\nWe're continuing our DHCP discussion.\n\n7\n00:00:25.090 --> 00:00:28.470\nIn our previous episode,\nwe looked at the basics of DHCP,\n\n8\n00:00:28.470 --> 00:00:32.400\nwe got it installed, we talked about\nwhat it is, why we wanna use it,\n\n9\n00:00:32.400 --> 00:00:35.330\neven got to see a little bit of\nhow it works and things like that.\n\n10\n00:00:35.330 --> 00:00:38.940\nAnd now we're gonna continue on and\ntake it a little bit further.\n\n11\n00:00:38.940 --> 00:00:41.650\nWhat I wanna do is what we didn't\ndo in the previous episode,\n\n12\n00:00:41.650 --> 00:00:42.830\nwe didn't get to create a scope.\n\n13\n00:00:42.830 --> 00:00:45.300\nSo I wanna show you guys how to do that.\n\n14\n00:00:45.300 --> 00:00:48.530\nAs well as talk about\nthe whole broadcast thing.\n\n15\n00:00:48.530 --> 00:00:51.570\nI hinted in the other episode that\nthere was more to it than that and\n\n16\n00:00:51.570 --> 00:00:53.410\nwe're gonna get to that as well.\n\n17\n00:00:53.410 --> 00:00:56.290\nSo let me start by just\npulling up the DHCP console.\n\n18\n00:00:56.290 --> 00:01:00.260\nYou should remember this, and I'm gonna\ngo ahead and actually before I create\n\n19\n00:01:00.260 --> 00:01:04.090\nthe scope, let's talk about that broad\nbroadcast thing for just a second.\n\n20\n00:01:04.090 --> 00:01:08.900\nRemember the DHCP process,\nthe DORA process right, discover, offer,\n\n21\n00:01:08.900 --> 00:01:10.640\nrequest, acknowledgement.\n\n22\n00:01:10.640 --> 00:01:14.220\nThat's all broadcast traffic because the\ncomputer, the node that's trying to get\n\n23\n00:01:14.220 --> 00:01:19.110\nan IP address, it doesn't have an IP\naddress so there is no, he can't send\n\n24\n00:01:19.110 --> 00:01:23.040\nunicast traffic, he doesn't have a source\naddress to fill in when he sends traffic.\n\n25\n00:01:23.040 --> 00:01:26.300\nAnd there's no destination to\nget traffic back to him, so\n\n26\n00:01:26.300 --> 00:01:28.490\nit all has to be done by broadcast,\n\n27\n00:01:28.490 --> 00:01:32.570\nwhich is fine until we introduce\nrouters into our network, right Daniel?\n\n28\n00:01:32.570 --> 00:01:36.810\n>> Yeah, routers, they do something\ncalled, well blocking broadcast traffic.\n\n29\n00:01:36.810 --> 00:01:40.790\nThey separate broadcast domains,\nit's the whole purpose of a router.\n\n30\n00:01:40.790 --> 00:01:43.890\nSo if I have a DHCP client, and\n\n31\n00:01:43.890 --> 00:01:48.890\nmy DHCP server is on the other side of\na router, you start to see the problem,\n\n32\n00:01:48.890 --> 00:01:53.076\nI can't get that broadcast traffic\nacross the network, or can I.\n\n33\n00:01:53.076 --> 00:01:53.713\n>> Or can I?\n\n34\n00:01:53.713 --> 00:01:57.750\n[LAUGH] That is a good question,\nand the answer is yes, yes we can.\n\n35\n00:01:57.750 --> 00:02:04.037\nNowadays the modern routers,\nthey're what we call RFC 1542 compliant,\n\n36\n00:02:04.037 --> 00:02:07.562\nthat's Request For Comment 1542, and\n\n37\n00:02:07.562 --> 00:02:13.060\nit means that the router supports\nsomething called DHCP relay.\n\n38\n00:02:13.060 --> 00:02:15.402\nCuz just as Daniel described,\nthat's what's gonna happen.\n\n39\n00:02:15.402 --> 00:02:19.645\nThat client's gonna send out this\nbroadcast, that discover packet, hello,\n\n40\n00:02:19.645 --> 00:02:21.605\nlooking for a DHCP server.\n\n41\n00:02:21.605 --> 00:02:24.905\nThe router is not gonna allow that\nbroadcast to go through to the other\n\n42\n00:02:24.905 --> 00:02:27.965\nsubnet where the DHCP server resides.\n\n43\n00:02:27.965 --> 00:02:32.195\nWell if it's 1542 compliant,\nthen we can tell it to allow that.\n\n44\n00:02:32.195 --> 00:02:35.555\nWe can actually run what's called\na relay agent on that router.\n\n45\n00:02:35.555 --> 00:02:40.100\nWe can tell the router the IP\naddress of the DHCP server.\n\n46\n00:02:40.100 --> 00:02:43.840\nAnd then when that client hollers out,\nI'm looking for a DHCP server,\n\n47\n00:02:43.840 --> 00:02:45.610\nwhen he gets that discover packet,\n\n48\n00:02:45.610 --> 00:02:50.500\nhe's gonna package it up, send it\non to the DHCP server as a unicast.\n\n49\n00:02:50.500 --> 00:02:53.860\nThe DHCP server actually\nresponds back to the router, and\n\n50\n00:02:53.860 --> 00:02:58.290\nthen the router will broadcast it back out\nto the subnet that the client is on, and\n\n51\n00:02:58.290 --> 00:03:01.730\nhe'll get his offer that he was\nsupposed to receive from the server.\n\n52\n00:03:01.730 --> 00:03:04.120\nAnd he really doesn't even know\nthat the router does this for him.\n\n53\n00:03:04.120 --> 00:03:06.450\nHe's completely oblivious\nof what's going on.\n\n54\n00:03:06.450 --> 00:03:10.264\nHe's just sending out the discover packet,\nhe waits, and he gets an offer.\n\n55\n00:03:10.264 --> 00:03:11.327\n>> Stupid clients.\n\n56\n00:03:11.327 --> 00:03:13.124\n>> [LAUGH]\n>> Stupid clients.\n\n57\n00:03:13.124 --> 00:03:17.990\n>> [LAUGH] So, you know, if you're RFC\n1542 compliant you can set it up and\n\n58\n00:03:17.990 --> 00:03:22.380\nnow your DHCP server can support subnets\nthat are on the other side of routers.\n\n59\n00:03:22.380 --> 00:03:23.920\nYou can still provide them IP addresses.\n\n60\n00:03:23.920 --> 00:03:26.500\nNow we need to set up scopes\nthat are appropriate for\n\n61\n00:03:26.500 --> 00:03:29.430\neach one of those subnets\non our DHCP server.\n\n62\n00:03:29.430 --> 00:03:34.050\nWhat if your router is\nnot RFC 1542 compliant?\n\n63\n00:03:34.050 --> 00:03:35.360\nWell, now we've got a problem.\n\n64\n00:03:35.360 --> 00:03:39.890\nWhat we can do is we can run\na relay agent within Windows.\n\n65\n00:03:39.890 --> 00:03:42.770\nNow I'm gonna show you how to do it,\nwe're gonna set it up.\n\n66\n00:03:42.770 --> 00:03:46.120\nI will tell you, Daniel, I don't know\nthat I've ever seen anybody do this.\n\n67\n00:03:46.120 --> 00:03:49.740\nBecause in order to create a relay\nagent in the Windows environment,\n\n68\n00:03:49.740 --> 00:03:54.560\nyou take a server, you multi-home it so\nit's working like a router, and\n\n69\n00:03:54.560 --> 00:03:58.120\nyou install the routing and\nremote access protocols, and\n\n70\n00:03:58.120 --> 00:04:02.535\nthen on top of that you install\nthe relay agent protocol.\n\n71\n00:04:02.535 --> 00:04:04.715\nAnd, It's a little overkill right?\n\n72\n00:04:04.715 --> 00:04:06.606\nI mean, I can just go buy a new\nrouter at that point [LAUGH].\n\n73\n00:04:06.606 --> 00:04:07.565\n>> [LAUGH] Yeah.\n\n74\n00:04:07.565 --> 00:04:10.370\n>> Or just multi-home my DHCP server or\nsomething.\n\n75\n00:04:10.370 --> 00:04:12.559\nI've never seen anyone do that have you?\n\n76\n00:04:12.559 --> 00:04:15.490\n>> No, I've never seen anyone\ndo that in practice but\n\n77\n00:04:15.490 --> 00:04:19.577\nit is a nice thing to have in our tool\nbag, our bag of tricks that if we were\n\n78\n00:04:19.577 --> 00:04:22.745\ncaught in a bind and\nhad an extra server laying around.\n\n79\n00:04:22.745 --> 00:04:24.695\nMaybe not even a server per se,\n\n80\n00:04:24.695 --> 00:04:28.740\njust a PC that had enough horsepower\nto get this up and running.\n\n81\n00:04:28.740 --> 00:04:33.520\nI have seen where we've had to use some\ntricks to get around some network issues.\n\n82\n00:04:33.520 --> 00:04:36.550\nThis might be one of those tricks that\nyou may need to call upon one day so\n\n83\n00:04:36.550 --> 00:04:38.270\nyou can get around this problem.\n\n84\n00:04:38.270 --> 00:04:39.990\nYou never know when it\nmight come in handy.\n\n85\n00:04:39.990 --> 00:04:41.560\nSo it is a good thing to learn.\n\n86\n00:04:41.560 --> 00:04:45.080\nPlus I'm pretty sure they might ask you\na question or two about this on the exam.\n\n87\n00:04:45.080 --> 00:04:46.790\n>> Yeah.\n>> So for that reason alone,\n\n88\n00:04:46.790 --> 00:04:49.660\nyou should at least understand the basics.\n\n89\n00:04:49.660 --> 00:04:53.578\nAnd see how to walk through it, and which\nMike is gonna show us how to do right now.\n\n90\n00:04:53.578 --> 00:04:56.550\n>> Well what I got here is just a diagram,\ncuz we've been talking about this.\n\n91\n00:04:56.550 --> 00:04:58.920\nI want to make sure you can\nvisualize what we're saying.\n\n92\n00:04:58.920 --> 00:05:03.210\nI've got a DHCP server sitting\nover here on this subnet 10.1.1.0.\n\n93\n00:05:03.210 --> 00:05:06.090\nThat was Client01,\nwe saw that in the previous episode.\n\n94\n00:05:06.090 --> 00:05:10.690\nHe was able to get an IP address from\nthat DHCP server, then I have a server\n\n95\n00:05:10.690 --> 00:05:14.570\nsitting here that's running routing\nremote access and he's multi-homed.\n\n96\n00:05:14.570 --> 00:05:17.935\nHe's got one network adapter\non the 10.1.1.0 network.\n\n97\n00:05:17.935 --> 00:05:23.003\nHe has the second network adapter\nconnected to the 10.1.2.0 network and\n\n98\n00:05:23.003 --> 00:05:28.459\nthen we've got Client02 that's also\nconnected to the 10.1.2.0 network.\n\n99\n00:05:28.459 --> 00:05:31.227\nSo what I'm getting ready to do is\nswitch over to this Client02 and\n\n100\n00:05:31.227 --> 00:05:32.502\nsee what's going on.\n\n101\n00:05:32.502 --> 00:05:37.660\nHe's gonna be attempting to get\nan IP address from my DHCP server.\n\n102\n00:05:37.660 --> 00:05:40.490\nSo let me switch over to our VMs here.\n\n103\n00:05:42.020 --> 00:05:43.340\nWe'll go grab Client02.\n\n104\n00:05:44.460 --> 00:05:49.849\nAnd first of all just do an ipconfig\nto verify what he has currently.\n\n105\n00:05:52.310 --> 00:05:57.622\nI will maximize this guy, and\nI can see that he is DHCP enabled,\n\n106\n00:05:57.622 --> 00:06:00.750\nyet he does not have an IP address.\n\n107\n00:06:00.750 --> 00:06:04.030\nSo similar to what we saw with\nclient one when I turned off DHCP,\n\n108\n00:06:04.030 --> 00:06:06.250\nhe's trying to get an IP address.\n\n109\n00:06:06.250 --> 00:06:10.690\nHe's unable to and that's because he's on\na different subnet over there, got that,\n\n110\n00:06:10.690 --> 00:06:12.140\nthat router sitting between them.\n\n111\n00:06:12.140 --> 00:06:15.370\nThat server two is running routing and\nremote access, so\n\n112\n00:06:15.370 --> 00:06:19.610\nhe will route traffic, but\nhe can't route broadcast traffic right?\n\n113\n00:06:19.610 --> 00:06:23.185\nBecause routers typically\ndrop broadcast traffic.\n\n114\n00:06:23.185 --> 00:06:25.545\nSo what we're gonna do is\nwe're gonna try to fix it.\n\n115\n00:06:25.545 --> 00:06:29.375\nThe way you set up a relay agent in\n\n116\n00:06:29.375 --> 00:06:34.075\nthe Windows Server 2012 operating system\nis you install routing and remote access.\n\n117\n00:06:34.075 --> 00:06:35.435\nNow, I've already installed it.\n\n118\n00:06:35.435 --> 00:06:38.775\nWhen you go through the Wizard,\nthe Add Roles and Features Wizard,\n\n119\n00:06:38.775 --> 00:06:44.445\nyou would choose the remote access option\nand you would just go through that Wizard.\n\n120\n00:06:44.445 --> 00:06:47.850\nWhen you come back in to configure it for\nthe first time, and\n\n121\n00:06:47.850 --> 00:06:50.920\nI've already done this ahead of time,\nbut I chose Configure and\n\n122\n00:06:50.920 --> 00:06:55.275\nEnable Routing and Remote Access, and\nall I really need is LAN routing.\n\n123\n00:06:55.275 --> 00:06:58.040\nAnd that might be different for\nyour scenario, but in this case,\n\n124\n00:06:58.040 --> 00:07:02.380\nall I need this router to do is to\nroute between those two subnets, right.\n\n125\n00:07:02.380 --> 00:07:04.610\nSo you can do Custom when\nyou do the configuration,\n\n126\n00:07:04.610 --> 00:07:08.320\nand then just check the LAN routing.\n\n127\n00:07:08.320 --> 00:07:13.060\nI don't need things like direct access,\nVPN or any of that.\n\n128\n00:07:13.060 --> 00:07:18.520\nSo now that I've got that installed, I'm\ngonna come down here and expand out IPv4.\n\n129\n00:07:18.520 --> 00:07:22.290\nAnd what you do is right-click,\nunderneath IPv4 I see General.\n\n130\n00:07:22.290 --> 00:07:26.180\nI'm gonna right-click on General and\nchose New Routing Protocol.\n\n131\n00:07:27.360 --> 00:07:29.180\nAnd then one of my protocols is, and\n\n132\n00:07:29.180 --> 00:07:33.470\nI'll un-highlight it for\na second, DHCP Relay Agent.\n\n133\n00:07:33.470 --> 00:07:35.298\nSo that's the one I'm gonna select.\n\n134\n00:07:35.298 --> 00:07:40.287\nI'll click OK, and I should see it\npop up right here underneath IPv4,\n\n135\n00:07:40.287 --> 00:07:42.630\nbut I still have to configure it.\n\n136\n00:07:42.630 --> 00:07:44.835\nSo now that I've installed that protocol,\n\n137\n00:07:44.835 --> 00:07:48.300\nI'm gonna right-click on DHCP\nrelay agent and choose Properties.\n\n138\n00:07:48.300 --> 00:07:51.643\nIt needs to know the IP\naddress of the DHCP server,\n\n139\n00:07:51.643 --> 00:07:53.880\nto remember what it's gonna do.\n\n140\n00:07:53.880 --> 00:07:57.880\nAnd I'm gonna flip back out\nto that little drawing here.\n\n141\n00:07:57.880 --> 00:08:02.170\nThis guy's gonna holler out and\nbroadcast, hello I need an IP address.\n\n142\n00:08:02.170 --> 00:08:06.200\nThat broadcast is gonna go to\neverybody on this subnet, all right.\n\n143\n00:08:06.200 --> 00:08:08.510\nServer two is on this subnet.\n\n144\n00:08:08.510 --> 00:08:12.550\nSo he's gonna hear that broadcast that\nrelay agent protocol's gonna grab that\n\n145\n00:08:12.550 --> 00:08:18.940\nbroadcast, package it up as a unicast and\nsend it directly to the DHCP server.\n\n146\n00:08:18.940 --> 00:08:21.940\nThe DHCP server sees this come in, but\n\n147\n00:08:21.940 --> 00:08:25.110\nthe return address is actually\nserver two over here.\n\n148\n00:08:25.110 --> 00:08:30.240\nSo he'll do his offer,\nsend it back, server 2 two then\n\n149\n00:08:30.240 --> 00:08:34.068\nbrings it over to this interface,\nand then broadcasts it back out.\n\n150\n00:08:34.068 --> 00:08:38.390\nAnd client two would hear that broadcast,\nthat offer, and he'll send back as\n\n151\n00:08:38.390 --> 00:08:43.470\na broadcast, the request,\npackage it up, send it as a unicast.\n\n152\n00:08:43.470 --> 00:08:48.010\nUnicast back to here, and then my\nacknowledgement gets broadcast back out.\n\n153\n00:08:48.010 --> 00:08:50.180\nClient two finally gets his IP address.\n\n154\n00:08:50.180 --> 00:08:51.970\nThat is what's supposed to happen.\n\n155\n00:08:51.970 --> 00:08:53.390\nSo let's see if we can make it work.\n\n156\n00:08:54.710 --> 00:08:57.940\nAnd actually,\nI'll switch back over to my router.\n\n157\n00:08:57.940 --> 00:09:00.080\nSo I do, as you saw in that diagram,\n\n158\n00:09:00.080 --> 00:09:03.540\nthe relay agent has to know\nthe IP address of the DHP server.\n\n159\n00:09:03.540 --> 00:09:09.010\nSo that's gonna be 10.1.200 in this case.\n\n160\n00:09:09.010 --> 00:09:12.149\nGo ahead and add that guy there,\nand I'll click okay.\n\n161\n00:09:14.040 --> 00:09:18.040\nThe next thing I'm going to do\nis I'm going to tell it what,\n\n162\n00:09:18.040 --> 00:09:22.660\nin fact the next thing I'm going to do\nis tell it what interface to listen on.\n\n163\n00:09:22.660 --> 00:09:26.670\nAlright, so if we flip back over to my\ndiagram he's got two network adapters\n\n164\n00:09:26.670 --> 00:09:30.530\nhe's acting as relay agent on this\ninterface, not this interface.\n\n165\n00:09:30.530 --> 00:09:33.580\nThis interface is on the subnet\nthat has this DHCP server\n\n166\n00:09:33.580 --> 00:09:35.840\nI don't need a relay agent over here.\n\n167\n00:09:35.840 --> 00:09:39.330\nBut, before I go set that\nup we need to make a scope.\n\n168\n00:09:39.330 --> 00:09:41.980\nBecause my DHCP server has a scope for\n\n169\n00:09:41.980 --> 00:09:46.290\nthe 10.1.1 network but it doesn't have\na scope for the 10.1.2 network so\n\n170\n00:09:46.290 --> 00:09:50.360\neven if it was able to connect he's not\ngoing to have an IP address to give.\n\n171\n00:09:50.360 --> 00:09:55.290\nSo, lets flip back over to the DHCP server\nand see how we can create our scope.\n\n172\n00:09:55.290 --> 00:09:59.010\nI'm just gonna right click on IVP four and\nchoose new scope.\n\n173\n00:10:00.490 --> 00:10:01.140\nWe'll click next.\n\n174\n00:10:02.670 --> 00:10:07.850\nI'll give it a name and I'll just call\nit subnet two just for this little lab.\n\n175\n00:10:07.850 --> 00:10:08.610\nI'll click next.\n\n176\n00:10:09.770 --> 00:10:17.000\nAnd my start IP address 10.1.2.,\nlet's say 100 through 10.1.2.150,\n\n177\n00:10:17.000 --> 00:10:22.525\nmy subnet mask is 24-bit.\n\n178\n00:10:22.525 --> 00:10:24.930\nI'll click next.\n\n179\n00:10:24.930 --> 00:10:26.240\nI can add exclusions.\n\n180\n00:10:26.240 --> 00:10:30.735\nExclusions allow me to exclude some\nof the IP addresses from the scope.\n\n181\n00:10:30.735 --> 00:10:34.933\nIf back here let's say I had\ngiven it 100 through 150, but\n\n182\n00:10:34.933 --> 00:10:40.690\nin the past somebody statically mapped\none of my printers to 10.1.2.125.,\n\n183\n00:10:40.690 --> 00:10:45.510\nright in the middle of my scope,\nwell if that printer is already using that\n\n184\n00:10:45.510 --> 00:10:51.245\naddress, I can't have my DHEB server\ngiving that address to some client, right?\n\n185\n00:10:51.245 --> 00:10:54.155\nThen I'd have duplicate IP addresses\non my network, that's not gonna work.\n\n186\n00:10:54.155 --> 00:10:58.395\nSo I might need to exclude some of the\naddresses within that range, I don't have\n\n187\n00:10:58.395 --> 00:11:01.695\nany, so I'm not going to, but you would\njust type them in here and click add.\n\n188\n00:11:02.700 --> 00:11:04.290\nI'll click next.\n\n189\n00:11:04.290 --> 00:11:07.130\nMy lease durations, default lease\nduration of eight days is fine.\n\n190\n00:11:07.130 --> 00:11:09.080\nWe'll go ahead and click next.\n\n191\n00:11:09.080 --> 00:11:11.940\nAnd then I can configure some\nof the options right now.\n\n192\n00:11:11.940 --> 00:11:14.717\nWe talked about those options\nin the previous episode,\n\n193\n00:11:14.717 --> 00:11:16.320\nmake sure you go check that out.\n\n194\n00:11:16.320 --> 00:11:22.423\nMy default gateway for\nthis subnet is 10.1.2.202.\n\n195\n00:11:22.423 --> 00:11:24.710\nI'll add that.\n\n196\n00:11:24.710 --> 00:11:25.700\nMake sure you click Add.\n\n197\n00:11:25.700 --> 00:11:28.720\nI see too many people type it in here,\nand then click Next.\n\n198\n00:11:28.720 --> 00:11:31.370\nIf you don't drop it down\ninto the box by clicking Add,\n\n199\n00:11:31.370 --> 00:11:33.790\nit will forget what you type as\nyou've moved through the wizard.\n\n200\n00:11:35.120 --> 00:11:38.330\nIt's already picked up the name of\nmy domain and the IP address of\n\n201\n00:11:38.330 --> 00:11:42.270\nthe DNS server on my network, so\nI'll just leave those and click next.\n\n202\n00:11:42.270 --> 00:11:44.000\nWe're not using Wins on this network.\n\n203\n00:11:44.000 --> 00:11:45.240\nI'll click Next.\n\n204\n00:11:45.240 --> 00:11:47.030\nAnd yeah I wanna go ahead and\nactivate the scope.\n\n205\n00:11:47.030 --> 00:11:51.740\nI'll click Next and Finish and\nnow I have another scope.\n\n206\n00:11:51.740 --> 00:11:54.880\nAnd I've got my address\npool from 100 to 150.\n\n207\n00:11:54.880 --> 00:11:56.300\nNo current leases.\n\n208\n00:11:56.300 --> 00:11:58.910\nNobody has actually picked\nup an IP address yet.\n\n209\n00:11:58.910 --> 00:12:01.290\nDidn't create any exceptions.\n\n210\n00:12:01.290 --> 00:12:03.940\nI'll come back and talk about\nreservations here in just a second.\n\n211\n00:12:05.350 --> 00:12:09.149\nAll right, so now that I've got a scope\nset up, it's back over to the relay agent.\n\n212\n00:12:10.220 --> 00:12:13.902\nSo we've already told it\nwho the DHCP server was,\n\n213\n00:12:13.902 --> 00:12:16.770\nor how to find the DHCP server.\n\n214\n00:12:16.770 --> 00:12:20.390\nLast thing I have to do is just tell\nit what interface to listen on.\n\n215\n00:12:20.390 --> 00:12:22.080\nSo I'll click New Interface.\n\n216\n00:12:22.080 --> 00:12:23.050\nI'm gonna choose Ethernet1,\n\n217\n00:12:23.050 --> 00:12:28.040\nwhich is the network adapter that's\nconnected to the 10.1.2 network.\n\n218\n00:12:28.040 --> 00:12:28.620\nI'll click OK.\n\n219\n00:12:28.620 --> 00:12:33.320\nAnd I can control the hop count\nthreshold and the boot threshold.\n\n220\n00:12:33.320 --> 00:12:37.970\nThis has to do with the fact that I might\nbe doing this as a fault-tolerant method.\n\n221\n00:12:37.970 --> 00:12:42.950\nMaybe I had a DHCP server on that subnet,\nbut if it ever fails\n\n222\n00:12:42.950 --> 00:12:46.590\nI want the relay agent to go ahead and\nforward it on to that other DHCP server.\n\n223\n00:12:46.590 --> 00:12:49.060\nSo we can play around with some\nnumbers there, control that.\n\n224\n00:12:49.060 --> 00:12:52.150\nI wouldn't want the relay agent\nimmediately forwarding it\n\n225\n00:12:52.150 --> 00:12:54.980\nif I already had a server,\nonly if that server fails.\n\n226\n00:12:54.980 --> 00:12:58.620\nSo I'd wanna give the server time to\nrespond and then if he didn't respond,\n\n227\n00:12:58.620 --> 00:13:00.710\nthat's when a relay wouldn't kick in,\nbut we don't need that for\n\n228\n00:13:00.710 --> 00:13:04.640\nthis particular scenario, so I'll just\ngo ahead click Okay, and there we go.\n\n229\n00:13:04.640 --> 00:13:07.070\nI've got my relay agent\nlistening in on ethernet 1,\n\n230\n00:13:07.070 --> 00:13:10.480\nand it knows the IP address\nof the DHCP server.\n\n231\n00:13:10.480 --> 00:13:11.590\nSo let's go see what happens.\n\n232\n00:13:11.590 --> 00:13:16.020\nI'm gonna flip over to client 2,\nand I'll do an IP config.\n\n233\n00:13:17.350 --> 00:13:20.820\nLet's just do a little clear screen here,\nget rid of some of this.\n\n234\n00:13:23.060 --> 00:13:26.000\nAnd do a little ipconfig, switch, renew.\n\n235\n00:13:27.170 --> 00:13:29.860\nAnd we'll see if we can't pick up\nan IP address from that server.\n\n236\n00:13:30.970 --> 00:13:35.190\nSo, what it should be doing is\nsending out his discover packet.\n\n237\n00:13:35.190 --> 00:13:37.260\nThat relay agent should be listening and\nhearing that.\n\n238\n00:13:37.260 --> 00:13:39.150\nLet's go see if we can tell.\n\n239\n00:13:39.150 --> 00:13:45.740\nAll right, there I can see requests\nreceived and requests discarded.\n\n240\n00:13:45.740 --> 00:13:47.440\nThat's always good.\n\n241\n00:13:47.440 --> 00:13:50.260\nAll right, so we'd wait a little bit\nlonger and sure enough there I can\n\n242\n00:13:50.260 --> 00:13:54.400\nsee that he's receiving the request and\nhe's actually receiving replies.\n\n243\n00:13:54.400 --> 00:13:59.630\nThat means the DHCP server is talking\nback to the relay agent and he's\n\n244\n00:13:59.630 --> 00:14:03.490\nsending information back, which should\nbe broadcast back out to the client.\n\n245\n00:14:03.490 --> 00:14:04.950\nLet's see if it worked.\n\n246\n00:14:04.950 --> 00:14:06.470\nFlip over to client two.\n\n247\n00:14:06.470 --> 00:14:09.753\nAnd sure enough, you can see I'm on a new\nnetwork because it's asking me how do I\n\n248\n00:14:09.753 --> 00:14:11.036\nwant to classify the network.\n\n249\n00:14:11.036 --> 00:14:13.403\nThere's my IP address, all right?\n\n250\n00:14:13.403 --> 00:14:19.470\nI just got 10.1.2.100 from my DHCP server,\nall right?\n\n251\n00:14:19.470 --> 00:14:23.220\nSo there we can see how we can\nactually allow those packets,\n\n252\n00:14:23.220 --> 00:14:28.790\nthose broadcast packets to go through that\nrouter and connect to that DHCP server,\n\n253\n00:14:28.790 --> 00:14:31.680\neven though that their broadcasting\nrouters typically drop those guys.\n\n254\n00:14:31.680 --> 00:14:33.590\n>> Yeah,\nthat's super cool to be able to do.\n\n255\n00:14:33.590 --> 00:14:36.800\nNever know when you just need to,\nmaybe a router went down somewhere,\n\n256\n00:14:36.800 --> 00:14:38.530\nmaybe in a satellite office.\n\n257\n00:14:38.530 --> 00:14:40.820\nGrab a laptop, a couple of USB NICs.\n\n258\n00:14:40.820 --> 00:14:42.783\nGet this up and running super quick and\n\n259\n00:14:42.783 --> 00:14:46.414\nget people back to working until\na new router can make it's way there.\n\n260\n00:14:46.414 --> 00:14:48.046\nIt's the kind of place that you\nwould use something that you would\n\n261\n00:14:48.046 --> 00:14:48.707\nuse something like this.\n\n262\n00:14:48.707 --> 00:14:52.392\nThis definitely, I wouldn't say I would\nuse this as a permanent solution, but\n\n263\n00:14:52.392 --> 00:14:55.307\na quick fix, put a band-aid on\na chest wound for a little bit and\n\n264\n00:14:55.307 --> 00:14:57.280\nthat'll definitely clear you up.\n\n265\n00:14:57.280 --> 00:15:00.580\nNow, Mike you talked about reservations.\n\n266\n00:15:00.580 --> 00:15:04.530\nAnd this is,\nthis was one of my favorite features of,\n\n267\n00:15:04.530 --> 00:15:09.810\nI used reservations extensively in my\nserver days, because they're super handy.\n\n268\n00:15:09.810 --> 00:15:13.370\nWe talked earlier about how\nnormally we set static IP addresses\n\n269\n00:15:13.370 --> 00:15:16.140\non things like servers or\nprinters, things like that,\n\n270\n00:15:16.140 --> 00:15:21.330\nthat need to continually have same IP\nbecause people expect it to be that.\n\n271\n00:15:21.330 --> 00:15:23.500\nAnd normally, you have to go through,\n\n272\n00:15:23.500 --> 00:15:27.700\nand if you wanna set a static, well you go\nto that machine, you set that static IP.\n\n273\n00:15:27.700 --> 00:15:32.310\nBut again, if I've got a hundred servers,\nthat's a real pain.\n\n274\n00:15:32.310 --> 00:15:34.925\nWhat I can do is,\nall I need Get MAC addresses, and\n\n275\n00:15:34.925 --> 00:15:38.215\nthen we can use reservations,\nmake things work a little bit easier.\n\n276\n00:15:38.215 --> 00:15:40.805\nSave some time instead of having\nto do everything, right Mike?\n\n277\n00:15:40.805 --> 00:15:42.565\n>> Exactly, exactly.\n\n278\n00:15:42.565 --> 00:15:45.659\nA reservation just like Daniel\nsaid is just a way to make\n\n279\n00:15:45.659 --> 00:15:49.967\nsure that everything every time a\nparticular node talks to the DHCP server,\n\n280\n00:15:49.967 --> 00:15:53.422\nrequests an IP address,\nit always gets the same IP address.\n\n281\n00:15:53.422 --> 00:15:58.042\nAnd that the DHCP server will never\ngive that IP address to anybody else.\n\n282\n00:15:58.042 --> 00:16:01.592\nWe're reserving that IP address for\nthat particular node.\n\n283\n00:16:01.592 --> 00:16:02.950\nSo let's see how to do it.\n\n284\n00:16:02.950 --> 00:16:06.778\nIf I flip over here to my DHCP console,\nI'm going to go back over to our\n\n285\n00:16:06.778 --> 00:16:10.500\nfirst scope here, scope one and\ntake a look at reservations.\n\n286\n00:16:10.500 --> 00:16:12.350\nAnd you can see, I don't have any.\n\n287\n00:16:12.350 --> 00:16:16.830\nNow, as Daniel stated, we've gotta have\nsome way to identify that node, right?\n\n288\n00:16:16.830 --> 00:16:18.320\nHere's the node, calling out DHCP,\n\n289\n00:16:18.320 --> 00:16:21.980\nand I want to make sure it gets\nthe same IP address every time.\n\n290\n00:16:21.980 --> 00:16:24.400\nWell, how do I identify that node, right?\n\n291\n00:16:24.400 --> 00:16:26.880\nI need a number or\nsome way to uniquely identify it.\n\n292\n00:16:26.880 --> 00:16:29.160\nHe doesn't have an IP address yet.\n\n293\n00:16:29.160 --> 00:16:30.410\nHe's trying to get one.\n\n294\n00:16:30.410 --> 00:16:31.990\nHis name could change.\n\n295\n00:16:31.990 --> 00:16:34.140\nI still want him to get\nthe same IP address.\n\n296\n00:16:34.140 --> 00:16:36.050\nAnd you gave it away, Daniel.\n\n297\n00:16:36.050 --> 00:16:38.520\nWhat number never changes\non that network adapter?\n\n298\n00:16:38.520 --> 00:16:42.680\n>> The MAC address that's printed,\nhard-coded into the network adapter.\n\n299\n00:16:42.680 --> 00:16:45.950\nIt's never gonna change, it's always\ngonna be the same, so it's a really good\n\n300\n00:16:45.950 --> 00:16:48.730\nthing to use, and that's why they\nemploy it here with reservations.\n\n301\n00:16:48.730 --> 00:16:50.610\nMake sure you always get the same thing.\n\n302\n00:16:50.610 --> 00:16:52.380\n>> Exactly, so\nlet's go over here and take a look.\n\n303\n00:16:52.380 --> 00:16:55.745\nI'm logging into that first client,\nand how do I get my MAC address?\n\n304\n00:16:55.745 --> 00:16:58.445\nWell we could just do it\nin ipconfig all real quick.\n\n305\n00:16:58.445 --> 00:17:03.435\nAnd I can see my physical address there or\nmy MAC address.\n\n306\n00:17:03.435 --> 00:17:05.125\nAnd Daniel I'm gonna\nhave to write this down.\n\n307\n00:17:05.125 --> 00:17:06.590\nI can't remember 12 numbers at once.\n\n308\n00:17:06.590 --> 00:17:14.752\nSo 000C29 foxtrot 38 delta 0 alpha.\n\n309\n00:17:14.752 --> 00:17:16.000\nAll right, so\nnow I've got the MAC address.\n\n310\n00:17:16.000 --> 00:17:19.860\nAnd remember, that MAC address is\ntied to the network adapter, so\n\n311\n00:17:19.860 --> 00:17:22.420\nyou're really identifying the network\nadapter, which is kind of funny.\n\n312\n00:17:22.420 --> 00:17:26.250\nIf I ever move that adapter, that\nreservation would follow it along if I\n\n313\n00:17:26.250 --> 00:17:28.880\nmoved it to a different node,\nbut we don't do that very often.\n\n314\n00:17:28.880 --> 00:17:30.040\nSo we're okay there.\n\n315\n00:17:30.040 --> 00:17:31.140\nSo back over to DHCP.\n\n316\n00:17:31.140 --> 00:17:32.580\nI just right-click.\n\n317\n00:17:32.580 --> 00:17:35.360\nNew reservation, all right?\n\n318\n00:17:35.360 --> 00:17:36.320\nI'll give the reservation a name.\n\n319\n00:17:36.320 --> 00:17:41.130\nI'll say this is for\nclient 1, if I can type.\n\n320\n00:17:42.540 --> 00:17:43.680\nAnd I wanna reserve for\n\n321\n00:17:43.680 --> 00:17:47.840\nhim, now the reserved IP address\ndoes have to fall within your scope,\n\n322\n00:17:47.840 --> 00:17:52.890\nmy scope went from 100 to 150, so\nI couldn't reserve for him 189, right?\n\n323\n00:17:52.890 --> 00:17:56.540\nIt has to be within that scope,\nI'll give him, let's do 145.\n\n324\n00:17:56.540 --> 00:17:58.650\nWe'll be able to see that pretty easy.\n\n325\n00:17:58.650 --> 00:18:00.990\nAnd then it wants the MAC address.\n\n326\n00:18:00.990 --> 00:18:01.920\nSo the MAC address.\n\n327\n00:18:01.920 --> 00:18:03.120\nYou don't have to put the dashes.\n\n328\n00:18:03.120 --> 00:18:04.660\nIt'll take care of that for you.\n\n329\n00:18:04.660 --> 00:18:09.653\nSo what do I got there?\n0 0 0 charlie, 2, niner, foxtrot,\n\n330\n00:18:09.653 --> 00:18:15.370\n3, 8, delta, 0, alpha should be right.\n\n331\n00:18:15.370 --> 00:18:20.150\nAnd I'll do it for both BOOTP and\nDHCP, and I'll click Add and\n\n332\n00:18:20.150 --> 00:18:23.300\nthen Close, and\nnow I've got a new reservation.\n\n333\n00:18:23.300 --> 00:18:25.770\nSo I'll switch over to the client.\n\n334\n00:18:25.770 --> 00:18:26.850\nAnd let's see what I got.\n\n335\n00:18:26.850 --> 00:18:28.580\nWe'll do a little test here.\n\n336\n00:18:28.580 --> 00:18:33.890\nipconfig, switch all,\nand he's still got 106.\n\n337\n00:18:33.890 --> 00:18:35.290\nAny guesses as to why?\n\n338\n00:18:37.050 --> 00:18:39.180\nBecause his lease was for\neight days, right?\n\n339\n00:18:39.180 --> 00:18:43.180\nSo he doesn't need, he's not\ntalking to DHCP every five minutes.\n\n340\n00:18:43.180 --> 00:18:48.790\nHe's gonna wait til the 50% mark on\nthe lease before he talks to DHCP again.\n\n341\n00:18:48.790 --> 00:18:53.080\nSo if I wanna test this out, what I need\nto do is get rid of that currently, so\n\n342\n00:18:53.080 --> 00:18:54.820\nipconfig /release.\n\n343\n00:18:54.820 --> 00:19:01.649\nAll right and now ipconfig switch\n/renew to go get a new lease.\n\n344\n00:19:05.167 --> 00:19:06.719\nAnd let's see what happens.\n\n345\n00:19:08.320 --> 00:19:11.460\n>> Now, while we're waiting for that, Rick\nin our chatroom made a really good point,\n\n346\n00:19:11.460 --> 00:19:14.600\nbecause we talked about how\nthe MAC address is static,\n\n347\n00:19:14.600 --> 00:19:17.890\nit's burned into the actual\nnetwork adapter card.\n\n348\n00:19:17.890 --> 00:19:20.900\nBut sometimes network adapters,\nthey do fail, or like Mike said,\n\n349\n00:19:20.900 --> 00:19:25.000\nfor some crazy reason I snatch that\nadapter out of that particular machine,\n\n350\n00:19:25.000 --> 00:19:26.350\nput it in something else.\n\n351\n00:19:26.350 --> 00:19:30.460\nSo it does need to be a part of your\nprocess that if you are replacing network\n\n352\n00:19:30.460 --> 00:19:34.365\nadapters, check reservations if there\nis one, make sure to update that.\n\n353\n00:19:34.365 --> 00:19:36.338\n[LAUGH]\n>> I can get a little, but\n\n354\n00:19:36.338 --> 00:19:41.530\nif you make sure you have an organized way\nin which you, a method, as it were, and\n\n355\n00:19:41.530 --> 00:19:44.960\nonce you do these things, the consistency\nwill keep you out of the weeds with that.\n\n356\n00:19:44.960 --> 00:19:47.260\nSo make sure you update\nthose when that happens.\n\n357\n00:19:47.260 --> 00:19:48.200\n>> Exactly.\n\n358\n00:19:48.200 --> 00:19:50.130\nAll right, so here we go,\nlet's take a look at the client again.\n\n359\n00:19:50.130 --> 00:19:52.533\nAnd sure enough, he got a new lease and\n\n360\n00:19:52.533 --> 00:19:56.756\ntake a look at what IP address\nhe received 10.1.1.145.\n\n361\n00:19:56.756 --> 00:20:00.770\nSo my reservation is doing\nexactly as it should.\n\n362\n00:20:00.770 --> 00:20:01.370\nAll right.\n\n363\n00:20:01.370 --> 00:20:05.250\nNow, a couple things I wanna talk\nabout these reservations here.\n\n364\n00:20:05.250 --> 00:20:07.120\nCuz a lot of you might be saying,\nwell wait a second, Mike.\n\n365\n00:20:07.120 --> 00:20:12.760\nIf you're gonna make sure that he gets\nthe same IP address every single time,\n\n366\n00:20:12.760 --> 00:20:15.670\nwhy don't you just go\nstatically map the darn thing?\n\n367\n00:20:15.670 --> 00:20:17.360\nAnd Daniel made one really good point.\n\n368\n00:20:17.360 --> 00:20:21.110\nIf I have hundreds of\nmachines to statically map,\n\n369\n00:20:21.110 --> 00:20:23.230\nmaybe I don't feel like going\nto each individual one.\n\n370\n00:20:23.230 --> 00:20:26.230\nI can sit in my console and\nmaybe I've already got a table.\n\n371\n00:20:26.230 --> 00:20:29.310\nWe keep a spreadsheet with all our\nMAC addresses and network adapters.\n\n372\n00:20:29.310 --> 00:20:33.250\nI could just sit here and fill that\ninformation in and be done with it and\n\n373\n00:20:33.250 --> 00:20:35.760\nnot have to go to each machine or\nanything like that.\n\n374\n00:20:35.760 --> 00:20:37.530\nThat's a very good idea.\n\n375\n00:20:37.530 --> 00:20:43.250\nThe other thing is, remember, DHCP passes\nout more than just the IP address.\n\n376\n00:20:43.250 --> 00:20:45.750\nIt passes out the subnet mask,\nthe default gateway,\n\n377\n00:20:45.750 --> 00:20:48.390\nthe NetBIOS node type, the DNS suffix.\n\n378\n00:20:48.390 --> 00:20:50.700\nI mean, any number of options.\n\n379\n00:20:50.700 --> 00:20:54.990\nMaybe I've got a kiosk machine out there\nin my lobby, and I really need to know\n\n380\n00:20:54.990 --> 00:20:58.620\nwhat its IP address is, because\nsometimes I have to connect to it, and\n\n381\n00:20:58.620 --> 00:21:01.570\nI wanna do it by IP address in case\nDNS is giving me issues, or whatever.\n\n382\n00:21:01.570 --> 00:21:03.460\nSo I always want it to\nhave the same IP address.\n\n383\n00:21:03.460 --> 00:21:07.420\nOr maybe I got scripts that hit that\nmachine, and they're based on IP address.\n\n384\n00:21:07.420 --> 00:21:09.130\nSo it can't change.\n\n385\n00:21:09.130 --> 00:21:10.360\nBut other things might change.\n\n386\n00:21:10.360 --> 00:21:12.300\nMy default gateway might change now and\nagain.\n\n387\n00:21:12.300 --> 00:21:14.270\nMy DNS server might change now and again.\n\n388\n00:21:14.270 --> 00:21:17.472\nWell, if it's a reservation,\nevery time he talks to DHCP,\n\n389\n00:21:17.472 --> 00:21:19.960\nhe's always gonna get the same IP address.\n\n390\n00:21:19.960 --> 00:21:24.150\nBut if one of those options got changed on\nthe DHCP server, the next time he renews\n\n391\n00:21:24.150 --> 00:21:28.080\nhis lease, you'll get the same IP address\nbut you'll get that updated option.\n\n392\n00:21:28.080 --> 00:21:31.820\nSo, that way all the other stuff\ndoesn't have to be static.\n\n393\n00:21:31.820 --> 00:21:36.390\nSo reservations are a way to provide\na static mapping to the IP address only.\n\n394\n00:21:36.390 --> 00:21:40.150\nAnd all the other options can still\nbe dynamically configured, and\n\n395\n00:21:40.150 --> 00:21:42.170\nit can be very convenient.\n\n396\n00:21:42.170 --> 00:21:47.140\n>> Yeah, and after you've typed in\nabout the 20th set of IP subnet mask,\n\n397\n00:21:47.140 --> 00:21:50.860\ndefault gateway, DNS information,\nwins information, you're gonna be like,\n\n398\n00:21:50.860 --> 00:21:53.645\nokay I'm going to reservations,\nthis is gonna be a whole lot easier.\n\n399\n00:21:53.645 --> 00:21:55.380\n[LAUGH]\n>> Absolutely, absolutely.\n\n400\n00:21:55.380 --> 00:22:00.570\nNow I'm gonna see if I can find,\nI don't even think that's in here.\n\n401\n00:22:00.570 --> 00:22:02.630\nAlright so, yeah DHCP,\nit's just fantastic.\n\n402\n00:22:02.630 --> 00:22:05.550\nIt makes our life as an admin so\nmuch easier,\n\n403\n00:22:05.550 --> 00:22:11.120\ngives us the ability to not have to go and\nstatically map all those guys.\n\n404\n00:22:11.120 --> 00:22:11.950\nEverything's dynamic.\n\n405\n00:22:11.950 --> 00:22:13.970\nI can adjust things from right here.\n\n406\n00:22:13.970 --> 00:22:17.850\nAnd Daniel,\nI think that's probably it for DHCP.\n\n407\n00:22:17.850 --> 00:22:20.390\nTrying to think if there's\nanything we left out.\n\n408\n00:22:20.390 --> 00:22:22.100\nI don't think so.\n\n409\n00:22:22.100 --> 00:22:22.630\n>> Nothing?\n\n410\n00:22:22.630 --> 00:22:23.180\nAll right.\n\n411\n00:22:23.180 --> 00:22:24.910\nWell, obviously,\n\n412\n00:22:24.910 --> 00:22:30.170\nDHCP is a wonderful piece of technology\nthat we use on a daily basis.\n\n413\n00:22:30.170 --> 00:22:34.310\nEven if you don't realize it, you're\nprobably using it, like Mike said earlier,\n\n414\n00:22:34.310 --> 00:22:38.220\nsome home routers and things like that,\nthey have built-in DHCP.\n\n415\n00:22:38.220 --> 00:22:40.810\nIt's just so much easier than for\nus to try and\n\n416\n00:22:40.810 --> 00:22:44.450\nget to a node and\ntype in all that information.\n\n417\n00:22:44.450 --> 00:22:45.450\nLet the server do that for you.\n\n418\n00:22:45.450 --> 00:22:49.290\nIt's all about automation, making our\nadministrative lives a whole lot easier,\n\n419\n00:22:49.290 --> 00:22:51.720\nso that we can focus on\nthings that are important.\n\n420\n00:22:51.720 --> 00:22:52.980\nFixing servers.\n\n421\n00:22:52.980 --> 00:22:56.740\nSetting up new types of technology\nthat are coming, learning.\n\n422\n00:22:56.740 --> 00:22:59.610\nThat is our job,\nnot typing in IP information.\n\n423\n00:22:59.610 --> 00:23:02.230\nSo thank you DHCP for all you do for us.\n\n424\n00:23:02.230 --> 00:23:03.390\n>> It is a wonderful thing.\n\n425\n00:23:03.390 --> 00:23:04.280\n>> It is.\nAll right,\n\n426\n00:23:04.280 --> 00:23:08.120\nMike, well looks like we've come to the\nend of another episode here at ITProTV.\n\n427\n00:23:08.120 --> 00:23:10.318\nSigning off, I've been your host,\nDaniel Lowry.\n\n428\n00:23:10.318 --> 00:23:11.201\n>> And I'm Mike Rodrick.\n\n429\n00:23:11.201 --> 00:23:12.386\n>> And we'll see you next time.\n\n430\n00:23:12.386 --> 00:23:18.420\n[MUSIC]\n\n",
          "vimeoId": "133653574"
        },
        {
          "description": "In this episode, Daniel and Mike discuss DNS. They explain the basics of DNS and how both internal and external name  resolution works.",
          "length": "1672",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-12-1-understanding_dns-072015-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-12-1-understanding_dns-072015-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-12-1-understanding_dns-072015-1-sm.jpg",
          "title": "Understanding DNS",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.702\n[MUSIC]\n\n2\n00:00:10.702 --> 00:00:14.751\n>> Greetings everyone and And welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.751 --> 00:00:16.580\nI'll be your host Daniel Lowrie and\n\n4\n00:00:16.580 --> 00:00:19.087\nhere with me today is no\nother than Mike Rodrick.\n\n5\n00:00:19.087 --> 00:00:19.954\nHow's it going today, Michael?\n\n6\n00:00:19.954 --> 00:00:23.963\n>> It's going fantastic Daniel,\nbecause we are getting ready to talk\n\n7\n00:00:23.963 --> 00:00:28.131\nabout one of my favorite topics and\nthat is DNS or domain named system.\n\n8\n00:00:28.131 --> 00:00:30.811\nAnd Daniel, it's one of those things\nthat we just can't do it without him.\n\n9\n00:00:30.811 --> 00:00:32.024\nI mean, it makes everything work, right?\n\n10\n00:00:32.024 --> 00:00:32.543\n>> Yeah, man.\n\n11\n00:00:32.543 --> 00:00:37.231\nIt's that lovely little piece of\nthe system that let's us say, hey,\n\n12\n00:00:37.231 --> 00:00:42.590\nI wanna go to itpro.tv, but I don't\nreally know the IP address for itpro.tv.\n\n13\n00:00:42.590 --> 00:00:43.866\nWould you mind doing that for me?\n\n14\n00:00:43.866 --> 00:00:45.200\nAnd it says, you know what?\n\n15\n00:00:45.200 --> 00:00:47.560\nI got your back.\nI've got you covered, not a problem.\n\n16\n00:00:47.560 --> 00:00:50.995\nAnd it maps those names together, so that\nwe can use that system instead of well,\n\n17\n00:00:50.995 --> 00:00:52.370\nI don't want you in my account.\n\n18\n00:00:52.370 --> 00:00:55.504\n>> [LAUGH]\n>> I couldn't remember the vast amounts\n\n19\n00:00:55.504 --> 00:00:59.370\nof IP addresses that I\nperuse on a daily bases.\n\n20\n00:00:59.370 --> 00:00:59.928\n>> Absolutely.\n\n21\n00:00:59.928 --> 00:01:04.330\nThere's no way, cuz things change first\nof all, but even if they didn't change.\n\n22\n00:01:04.330 --> 00:01:06.980\nYeah, how would you remember the IP\naddress of every resource you wanted\n\n23\n00:01:06.980 --> 00:01:07.552\nto connect to?\n\n24\n00:01:07.552 --> 00:01:09.110\nWhat if you've never been there before?\n\n25\n00:01:09.110 --> 00:01:12.002\nWhat if you wanted to go to newegg.com,\nwhat's their IP address?\n\n26\n00:01:12.002 --> 00:01:13.080\nHow do you find it?\n\n27\n00:01:13.080 --> 00:01:15.798\nCuz what we have to understand is\nthat computers when they connect to\n\n28\n00:01:15.798 --> 00:01:18.419\nother computers, when they\nestablish what's called a socket,\n\n29\n00:01:18.419 --> 00:01:19.813\nthere's three things they need.\n\n30\n00:01:19.813 --> 00:01:22.313\nA protocol that they're going\nto use to communicate with,\n\n31\n00:01:22.313 --> 00:01:25.530\nthe IP address they they are gonna\nconnect to and the port number.\n\n32\n00:01:25.530 --> 00:01:27.648\nNotice nowhere in there\ndid I say the name, yet\n\n33\n00:01:27.648 --> 00:01:30.973\neverything we do we type in names in\nour browsers, in our applications.\n\n34\n00:01:30.973 --> 00:01:34.454\nWhen we connect to file shares,\nwe're using the nice friendly names,\n\n35\n00:01:34.454 --> 00:01:36.960\ncuz it's very easy for\nus humans to remember that.\n\n36\n00:01:36.960 --> 00:01:40.523\nBut computers don't really care about the\nnames, all they need is the IP address.\n\n37\n00:01:40.523 --> 00:01:44.205\nAnd that's where DNS comes in,\nbecause we type in a name and\n\n38\n00:01:44.205 --> 00:01:48.553\nin the background our computer is\nreusing that DNS service to turn that\n\n39\n00:01:48.553 --> 00:01:53.700\nname we typed in into an IP address that,\nthat computer can then connect to.\n\n40\n00:01:53.700 --> 00:01:55.763\nSo without DNS, yeah,\nyou'd be kinda stuck.\n\n41\n00:01:55.763 --> 00:01:58.820\nYou wouldn't be going too terribly far.\n\n42\n00:01:58.820 --> 00:02:00.148\nSo let's talk about DNS and\n\n43\n00:02:00.148 --> 00:02:02.995\nlet's first make sure we\nunderstand really how it works.\n\n44\n00:02:02.995 --> 00:02:05.531\nCuz if we're gonna set it up,\nif we're gonna configure it,\n\n45\n00:02:05.531 --> 00:02:07.771\nif we're gonna use it within\nour corporate network,\n\n46\n00:02:07.771 --> 00:02:10.632\nwe've got to have a good understanding\nof how all this stuff works.\n\n47\n00:02:10.632 --> 00:02:15.383\nAnd it's not all that complex once\nyou see the basics of it, right?\n\n48\n00:02:15.383 --> 00:02:16.940\n>> Yeah.\nYeah, it's pretty simple.\n\n49\n00:02:16.940 --> 00:02:21.565\nAnd again, it's such a necessary component\nanymore, we do need to get at least\n\n50\n00:02:21.565 --> 00:02:25.165\na basic understanding of what's\ngoing when we do a DNS query.\n\n51\n00:02:25.165 --> 00:02:28.889\nIt's basically saying, hey,\nI don't know this stuff.\n\n52\n00:02:28.889 --> 00:02:31.775\nI know that you probably know it and\nif you don't,\n\n53\n00:02:31.775 --> 00:02:33.990\nyou probably find someone that does.\n\n54\n00:02:33.990 --> 00:02:36.059\nAnd that's basically what's going on here.\n\n55\n00:02:36.059 --> 00:02:38.460\nBut Mike, you're gonna break it\ndown a little bit more than that.\n\n56\n00:02:38.460 --> 00:02:41.406\n>> I'm going to try. [LAUGH] >>\nI gave you the 50,000 foot view.\n\n57\n00:02:41.406 --> 00:02:42.944\nMike's gonna go a little\nlower to the ground.\n\n58\n00:02:42.944 --> 00:02:43.610\n[LAUGH]\n>> We're gonna try.\n\n59\n00:02:43.610 --> 00:02:46.260\nWe're start up there and\nthen we kinda work our way down.\n\n60\n00:02:46.260 --> 00:02:48.369\nSo that is a couple of good\nterms you threw out there.\n\n61\n00:02:48.369 --> 00:02:51.575\nFirst of all, we have to understand\nwhen we use the word name,\n\n62\n00:02:51.575 --> 00:02:55.100\nwhat we're really talking about\nis a fully qualified domain name.\n\n63\n00:02:55.100 --> 00:02:58.430\nAnd if you think back to your\nnetwork plus stage, you remember,\n\n64\n00:02:58.430 --> 00:03:00.475\nyour computer has a name, a host name.\n\n65\n00:03:00.475 --> 00:03:03.250\nAnd when we join their\ncomputer to a domain,\n\n66\n00:03:03.250 --> 00:03:06.700\nit picks up that DNS suffix for\nthe name of that domain.\n\n67\n00:03:06.700 --> 00:03:13.222\nSo I have a machine named client1 and\nthe domain is named itpro.tv.\n\n68\n00:03:13.222 --> 00:03:18.500\nWe plug those together,\nwe get client01.itpro.tv.\n\n69\n00:03:18.500 --> 00:03:22.927\nThat whole thing is the fully qualified\ndomain name and that's what DNS does.\n\n70\n00:03:22.927 --> 00:03:28.127\nIt takes those fully qualified domain\nnames or FQDNs for short and it resolves\n\n71\n00:03:28.127 --> 00:03:33.652\nthem, that's the process of turning it\ninto, resolves them into an IP address.\n\n72\n00:03:33.652 --> 00:03:36.050\nSo that's we what we use DNS for.\n\n73\n00:03:36.050 --> 00:03:40.145\nAnd the query as Daniel mentioned,\nthat's the question.\n\n74\n00:03:40.145 --> 00:03:43.857\nWhen you type something in to\nyour browser, for example,\n\n75\n00:03:43.857 --> 00:03:48.690\nyour DNS client resolver takes that\nname and it formulates a question.\n\n76\n00:03:48.690 --> 00:03:52.388\nWhich in DNS LAN,\nwe're gonna call that a query and\n\n77\n00:03:52.388 --> 00:03:54.888\nit sends it over to its DNS server.\n\n78\n00:03:54.888 --> 00:03:56.190\nSo, I got an example here.\n\n79\n00:03:56.190 --> 00:03:58.007\nI've got a little drawing,\nI can show you guys.\n\n80\n00:03:58.007 --> 00:03:59.930\nWe can visualize this.\n\n81\n00:03:59.930 --> 00:04:02.822\nHere's a standard,\nhere's a client on our network.\n\n82\n00:04:02.822 --> 00:04:06.140\nAnd let's say, this is ITProTv's\nnetwork or something like that.\n\n83\n00:04:06.140 --> 00:04:10.113\nWell, on ITProTV, we've run a DNS server.\n\n84\n00:04:10.113 --> 00:04:14.690\nNow most companies either run their own\nDNS server or they might outsource it.\n\n85\n00:04:14.690 --> 00:04:16.868\nThey might have somebody like GoDaddy or\n\n86\n00:04:16.868 --> 00:04:19.246\nsome other company host their DNS for\nthem.\n\n87\n00:04:19.246 --> 00:04:22.612\nBut obviously, most companies\nare gonna run an internal DNS server,\n\n88\n00:04:22.612 --> 00:04:24.445\nbecause it's gonna speed things up.\n\n89\n00:04:24.445 --> 00:04:26.650\nThe DNS server's right here on my network.\n\n90\n00:04:26.650 --> 00:04:31.326\nCuz every time I type in a name\ninto my applications or my browser,\n\n91\n00:04:31.326 --> 00:04:36.777\nmy client is going to send that query or\nthat question over to the DNS server.\n\n92\n00:04:36.777 --> 00:04:41.550\nHe looks at his TCP/IP settings and says,\nwhat's the IP address of my DNS server?\n\n93\n00:04:41.550 --> 00:04:43.548\nAnd that's where he's\ngonna send that query to.\n\n94\n00:04:43.548 --> 00:04:48.610\nSo here you can see, I've got What is\nthe IP address of server01.itpro.tv?\n\n95\n00:04:48.610 --> 00:04:52.878\nThat's the question or the query that\ngets presented to that DNS server.\n\n96\n00:04:52.878 --> 00:04:55.642\nThe DNS server maintains this database.\n\n97\n00:04:55.642 --> 00:04:58.794\nWe're gonna talk much more about\nthat database in a little bit, but\n\n98\n00:04:58.794 --> 00:05:00.963\nthat's where it stores\nall the information.\n\n99\n00:05:00.963 --> 00:05:02.855\nHe's gonna look this name up.\n\n100\n00:05:02.855 --> 00:05:08.863\nServer01.itpro.tv and he's gonna pull\nthe IP address and then his answer,\n\n101\n00:05:08.863 --> 00:05:15.061\nhis response back to the client would\nbe the IP address of server01.itpro.tv.\n\n102\n00:05:15.061 --> 00:05:19.390\nAnd now my client machine can connect\nto that file server and I can,\n\n103\n00:05:19.390 --> 00:05:24.202\nI don't know, get resources,\naccess files or whatever the case may be.\n\n104\n00:05:24.202 --> 00:05:29.100\nSo that's name resolution in a nutshell,\nthat's kinda what's going on here.\n\n105\n00:05:29.100 --> 00:05:33.100\nAnd this is a look at what we would\ncall internal name resolution.\n\n106\n00:05:33.100 --> 00:05:36.032\nEach company maintains\ntheir own DNS server and\n\n107\n00:05:36.032 --> 00:05:38.090\nall the computers on my network.\n\n108\n00:05:38.090 --> 00:05:40.536\nAll my file servers, all my clients,\n\n109\n00:05:40.536 --> 00:05:44.930\nall everybody is going to have\ninformation in that database.\n\n110\n00:05:44.930 --> 00:05:46.274\nSo that this DNS server,\n\n111\n00:05:46.274 --> 00:05:49.989\nhe can look up any computer's IP\naddress that's part of my network.\n\n112\n00:05:49.989 --> 00:05:54.746\nIf it's part of the itpro.tv network,\nthat DNS server is going to be\n\n113\n00:05:54.746 --> 00:05:58.693\nable to return that IP address for\nyou and that's great.\n\n114\n00:05:58.693 --> 00:06:00.932\nAnd that means that inside\nmy corporate network,\n\n115\n00:06:00.932 --> 00:06:04.370\nwe can connect to any other machine and\nit's not just clients.\n\n116\n00:06:04.370 --> 00:06:06.453\nI mean, everything relies on DNS.\n\n117\n00:06:06.453 --> 00:06:07.730\nDomain controllers.\n\n118\n00:06:07.730 --> 00:06:08.854\nWhen you go to log on,\n\n119\n00:06:08.854 --> 00:06:12.239\nyour computer has to resolve\nthe name of the domain controller.\n\n120\n00:06:12.239 --> 00:06:13.860\nIt has to find a domain controller.\n\n121\n00:06:13.860 --> 00:06:17.350\nIt queries DNS and says, hey,\nwho's running Kerberos on this network?\n\n122\n00:06:17.350 --> 00:06:21.750\nThere's types of records that denote\nwhich machines are offering services.\n\n123\n00:06:21.750 --> 00:06:25.229\nWhen you go to send an email, it has to\nfind the mail server on your network.\n\n124\n00:06:25.229 --> 00:06:28.110\nIt queries DNS and says,\nhey, who's the mail server?\n\n125\n00:06:28.110 --> 00:06:30.086\nAnd it returns the IP\naddress of the mail server.\n\n126\n00:06:30.086 --> 00:06:32.586\nWhen domain controllers\nreplicate with each other,\n\n127\n00:06:32.586 --> 00:06:34.760\nthey have to find their\nreplication partner.\n\n128\n00:06:34.760 --> 00:06:37.309\nSo really, everything is relying on DNS.\n\n129\n00:06:37.309 --> 00:06:41.046\n>> Yeah, you can definitely see\nhow integrated DNS is into just\n\n130\n00:06:41.046 --> 00:06:46.027\nabout every system, especially if you're\nin a Microsoft network that really,\n\n131\n00:06:46.027 --> 00:06:48.705\nreally cares about namings conventions.\n\n132\n00:06:48.705 --> 00:06:53.682\nCuz the Active Directory system itself,\nactually integrates with DNS and\n\n133\n00:06:53.682 --> 00:06:57.167\none without the other is gonna\nbe a no go all day long.\n\n134\n00:06:57.167 --> 00:07:00.721\nAD relies heavily on DNS.\n\n135\n00:07:00.721 --> 00:07:02.950\nI mean,\nDNS could run without Active Directory.\n\n136\n00:07:02.950 --> 00:07:06.030\nBut what's the point of having a-\n>> [LAUGH]\n\n137\n00:07:06.030 --> 00:07:08.263\n>> Whole system wide of a Microsoft shop\n\n138\n00:07:08.263 --> 00:07:10.810\nif you're not gonna be running AD?\n\n139\n00:07:10.810 --> 00:07:14.026\nThat's the bread and\nbutter of the Microsoft world.\n\n140\n00:07:14.026 --> 00:07:17.225\nSo yeah, you definitely wanna make\nsure those guys are working together,\n\n141\n00:07:17.225 --> 00:07:18.866\ncuz I wanna be able to use those names.\n\n142\n00:07:18.866 --> 00:07:23.764\nI wanna be able to log in to this server\nnot try to memorize a whole list of\n\n143\n00:07:23.764 --> 00:07:27.705\nhave basically a telephone\ndirectory of IP addresses.\n\n144\n00:07:27.705 --> 00:07:28.361\n>> [LAUGH]\n>> It's crazy.\n\n145\n00:07:28.361 --> 00:07:29.853\nLet the server do it for me.\n\n146\n00:07:29.853 --> 00:07:31.109\n>> Absolutely, absolutely.\n\n147\n00:07:31.109 --> 00:07:34.228\nLet's make our life a little bit\neasier and that's what DNS does.\n\n148\n00:07:34.228 --> 00:07:37.438\nSo that's great for\ninternal name resolution.\n\n149\n00:07:37.438 --> 00:07:42.007\nAnd if my users never connected to\nany resources outside of itpro.tv,\n\n150\n00:07:42.007 --> 00:07:45.170\nwe could stop there, we'd be good to go.\n\n151\n00:07:45.170 --> 00:07:49.697\nBut the reality is that we connect to\na lot of resources that are outside of our\n\n152\n00:07:49.697 --> 00:07:53.308\nnetwork, either for\nwork reasons like business partners or\n\n153\n00:07:53.308 --> 00:07:56.316\nin product suppliers or\nwhatever the case may be.\n\n154\n00:07:56.316 --> 00:07:59.370\nWe've got to connect to resources\nthat are outside of my notwork.\n\n155\n00:07:59.370 --> 00:08:01.800\nWe've got to connect to those resources\nthat are outside of our network.\n\n156\n00:08:01.800 --> 00:08:03.768\nSo how do we go about that?\n\n157\n00:08:03.768 --> 00:08:06.608\nCuz my DNS server,\nif we go back to my drawing here.\n\n158\n00:08:06.608 --> 00:08:11.702\nMy DNS server only knows about\nthe computers that are part of my network,\n\n159\n00:08:11.702 --> 00:08:14.969\nall the names and\nIP addresses for ITPro.TV.\n\n160\n00:08:14.969 --> 00:08:20.027\nIt's considered authoritative for\nITPro.TV that portion of the name space,\n\n161\n00:08:20.027 --> 00:08:24.417\nbecause he knows about every computer and\nall of their ip addresses.\n\n162\n00:08:24.417 --> 00:08:27.960\nAnd if you need to know one of their IP\naddresses, that's the person you go to.\n\n163\n00:08:27.960 --> 00:08:31.300\nHe's authoritative for\nthat portion of the namespace.\n\n164\n00:08:31.300 --> 00:08:32.990\nNow what if I want to\nconnect to microsoft.com?\n\n165\n00:08:32.990 --> 00:08:37.090\nWell my DNS server is not\nauthoritative for microsoft.com.\n\n166\n00:08:37.090 --> 00:08:39.880\nHe doesn't know any of the names and\nIP addresses for\n\n167\n00:08:39.880 --> 00:08:43.000\nthe computers that reside\non microsoft.com's network.\n\n168\n00:08:43.000 --> 00:08:47.620\nSo I need to somehow connect\nto Microsoft's DNS server.\n\n169\n00:08:47.620 --> 00:08:50.090\nMicrosoft, just like\nevery other organization,\n\n170\n00:08:50.090 --> 00:08:53.160\nmaintains their own DNS servers\nthat have all the names and\n\n171\n00:08:53.160 --> 00:08:57.450\nIP addresses of the machines\nthat belong to microsoft.com.\n\n172\n00:08:57.450 --> 00:08:59.030\nSo how's this gonna work?\n\n173\n00:08:59.030 --> 00:09:00.940\nIt's really pretty fascinating.\n\n174\n00:09:00.940 --> 00:09:03.050\nCheck this out.\nSo here's my same scenario,\n\n175\n00:09:03.050 --> 00:09:07.750\nI've got just that same ITPro.TV network\ndown here, got my client machine.\n\n176\n00:09:07.750 --> 00:09:10.670\nAnd this time I'm gonna send\na query to my DNS server and\n\n177\n00:09:10.670 --> 00:09:14.190\nI'm gonna say what's the IP\naddress of www.microsoft.com?\n\n178\n00:09:14.190 --> 00:09:19.788\nWell my DNS server looks and he says I\ndon't know anything about microsoft.com.\n\n179\n00:09:19.788 --> 00:09:25.460\nI need to find the DNS server that\nis authoritative for microsoft.com.\n\n180\n00:09:25.460 --> 00:09:28.020\nHow does my DNS server\ngo about that process?\n\n181\n00:09:28.020 --> 00:09:32.890\nWell DNS is what we call\na distributed hierarchical database,\n\n182\n00:09:32.890 --> 00:09:35.450\nmeaning that it's broken\nup into smaller pieces.\n\n183\n00:09:35.450 --> 00:09:40.370\nThere is no one DNS server that knows\nabout every machine's name and IP address.\n\n184\n00:09:40.370 --> 00:09:42.990\nThat would be like having a phone book for\nthe entire world.\n\n185\n00:09:42.990 --> 00:09:47.810\nIt would be too big and unmanageable and\ntoo difficult to look anything up.\n\n186\n00:09:47.810 --> 00:09:49.830\nCould you imagine that big phone book?\n\n187\n00:09:49.830 --> 00:09:53.800\nSo just like the phone system chops\nup the numbers into smaller pieces.\n\n188\n00:09:53.800 --> 00:09:57.000\nI've got a Tampa phone book,\nI've got a Gainesville phone book, so\n\n189\n00:09:57.000 --> 00:10:00.530\nI can look up numbers that\nare in Gainesville, for example.\n\n190\n00:10:00.530 --> 00:10:02.220\nDNS does the same thing.\n\n191\n00:10:02.220 --> 00:10:04.340\nIt starts at the very top.\n\n192\n00:10:04.340 --> 00:10:07.940\nYou can almost imagine it like a pyramid,\nwhere we've got the root.\n\n193\n00:10:07.940 --> 00:10:10.670\nAt the end of fully qualified\ndomain names, there is a period.\n\n194\n00:10:10.670 --> 00:10:13.990\nMost people don't know this or\nwe assume that it's there.\n\n195\n00:10:13.990 --> 00:10:16.919\nBut I talked about an FQDN earlier,\n\n196\n00:10:16.919 --> 00:10:21.810\na fully qualified domain name,\nserver01.itpro.tv.\n\n197\n00:10:21.810 --> 00:10:26.548\nWell, there's actually a dot at the end,\nserver01.itpro.itv.\n\n198\n00:10:26.548 --> 00:10:28.270\nThat dot represents the very top.\n\n199\n00:10:28.270 --> 00:10:31.290\nThere will never be anything\npast that last dot,\n\n200\n00:10:31.290 --> 00:10:35.330\nand it's also referred to as the root,\nthe very top.\n\n201\n00:10:35.330 --> 00:10:40.080\nSo what my DNS server does, he doesn't\nknow www.microsoft.com's IP address.\n\n202\n00:10:40.080 --> 00:10:43.150\nSo he sends a query to the very top and\nsays,\n\n203\n00:10:43.150 --> 00:10:48.237\nhey root, do you know what the IP\naddress is of www.microsoft.com?\n\n204\n00:10:48.237 --> 00:10:49.590\nWell the root doesn't.\n\n205\n00:10:49.590 --> 00:10:52.255\nRemember, there is no one\nserver that knows it all.\n\n206\n00:10:52.255 --> 00:10:55.405\nBut what the root does\nknow is how to find these,\n\n207\n00:10:55.405 --> 00:10:58.715\nwhat we call top level, DNS servers.\n\n208\n00:10:58.715 --> 00:11:03.145\nThe .com DNS server,\nthe .gov, the .biz, the .edu,\n\n209\n00:11:03.145 --> 00:11:06.867\nthe .net, the .tv,\nall of those good things.\n\n210\n00:11:06.867 --> 00:11:11.978\nAnd he sends back a response to my DNS\nserver and says, hey, I don't know the IP\n\n211\n00:11:11.978 --> 00:11:17.090\naddress for www.microsoft.com, but\nsince it ends in .com, why don't you\n\n212\n00:11:17.090 --> 00:11:21.990\ngo check with that guy, here's his IP\naddress, and so my DNS server does.\n\n213\n00:11:21.990 --> 00:11:24.510\nHe says all right,\nI'll go check with him, and\n\n214\n00:11:24.510 --> 00:11:27.370\nhe sends the same query\nto the .com DNS server.\n\n215\n00:11:27.370 --> 00:11:32.328\nThese are publicly maintained DNS servers,\nnobody owns or runs these themselves.\n\n216\n00:11:32.328 --> 00:11:37.030\nAnd that .com DNS server doesn't\nknow the name of individual hosts\n\n217\n00:11:37.030 --> 00:11:39.410\non all these different .com networks.\n\n218\n00:11:39.410 --> 00:11:43.400\nBut he does know how to find\nthe authoritative DNS server for\n\n219\n00:11:43.400 --> 00:11:45.170\nall the .com names.\n\n220\n00:11:45.170 --> 00:11:49.480\nSo he says, well,\nI don't know www.microsoft.com, but\n\n221\n00:11:49.480 --> 00:11:52.710\nI do know the IP address for\nmicrosoft.com's DNS server.\n\n222\n00:11:52.710 --> 00:11:53.930\nWhy don't you go check with him?\n\n223\n00:11:53.930 --> 00:11:58.417\nAnd he sends back the IP address for\nmicrosoft.com's DNS server.\n\n224\n00:11:58.417 --> 00:12:01.690\nSo my DNS server then says,\nall right, let me go check with him.\n\n225\n00:12:01.690 --> 00:12:05.542\nDo you know the IP address for\nwww.microsoft.com?\n\n226\n00:12:05.542 --> 00:12:06.670\nAnd he does.\n\n227\n00:12:06.670 --> 00:12:10.620\nHe's the authoritative server from\nmicrosoft.com and he knows all the names\n\n228\n00:12:10.620 --> 00:12:14.670\nand IP addresses for all the machines\nthat reside on Microsoft's network.\n\n229\n00:12:14.670 --> 00:12:19.400\nAnd he can look up www and\nhe can send back the IP address.\n\n230\n00:12:19.400 --> 00:12:22.900\nNow my DNS server has the IP address for\nwww.microsoft.com,\n\n231\n00:12:22.900 --> 00:12:26.220\nand he finally returns\nthe answer to the client.\n\n232\n00:12:26.220 --> 00:12:27.730\nAnd my browser window opens.\n\n233\n00:12:27.730 --> 00:12:30.570\nAnd Daniel, all this happens in\nthe blink of an eye, pretty much.\n\n234\n00:12:30.570 --> 00:12:31.980\n>> Yeah it's pretty quick.\n\n235\n00:12:31.980 --> 00:12:33.010\nComputers are fast.\n\n236\n00:12:33.010 --> 00:12:37.310\nThey're able to calculate these things a\nwhole lot quicker than we can explain it.\n\n237\n00:12:37.310 --> 00:12:40.860\nObviously we're trying to walk you\nthrough each one of these steps and\n\n238\n00:12:40.860 --> 00:12:42.080\nuse human language to do so.\n\n239\n00:12:42.080 --> 00:12:44.210\nSo it takes a little time for\nus to explain it but\n\n240\n00:12:44.210 --> 00:12:48.410\nin the computer world,\nthis is done very, very, very quickly.\n\n241\n00:12:48.410 --> 00:12:50.330\nAnd depending on what kind\nof bandwidth you have, and\n\n242\n00:12:50.330 --> 00:12:52.660\nthings like that,\nit could be extremely quickly.\n\n243\n00:12:52.660 --> 00:12:55.130\nAnd sometimes you might\nsee a little bit of a lag,\n\n244\n00:12:55.130 --> 00:12:58.090\nif you've ever clicked on a website and\nyou're waiting for things to come up,\n\n245\n00:12:58.090 --> 00:13:00.880\nsometimes it's the website\njust taking forever to load.\n\n246\n00:13:00.880 --> 00:13:05.240\nSometimes you just got a lot of DNS\ninformation that it's having to resolve.\n\n247\n00:13:05.240 --> 00:13:09.010\nSo that could be also one of the problems,\nand that can help us in troubleshooting.\n\n248\n00:13:09.010 --> 00:13:10.870\nMaybe that is the problem we're having.\n\n249\n00:13:10.870 --> 00:13:15.140\nWe need to check out DNS, make sure\nthings are, are moving accordingly.\n\n250\n00:13:15.140 --> 00:13:19.670\nNow Mike, you were talking about\nthe authoritative servers that Microsoft\n\n251\n00:13:19.670 --> 00:13:24.524\nright, they have microsoft.com and the\n.com server knows about that [INAUDIBLE].\n\n252\n00:13:24.524 --> 00:13:28.050\n[INAUDIBLE] Says, I know about\nmicrosoft.com, here is its IP address for\n\n253\n00:13:28.050 --> 00:13:29.570\nthat authoritative server.\n\n254\n00:13:29.570 --> 00:13:30.700\nHow the heck does it know that?\n\n255\n00:13:30.700 --> 00:13:31.635\n>> It's a good question, Dan.\n\n256\n00:13:31.635 --> 00:13:34.280\nWhat's gonna happen when\nyou register your name?\n\n257\n00:13:34.280 --> 00:13:38.380\nLet's say you wanna start a new company,\nmycompany.com.\n\n258\n00:13:38.380 --> 00:13:42.520\nWell, I register that name with some,\nusually a reseller.\n\n259\n00:13:42.520 --> 00:13:44.100\nWe don't go directly to the registrars.\n\n260\n00:13:44.100 --> 00:13:48.110\nTypically we're going to GoDaddy or\nsomebody like that and we pay so\n\n261\n00:13:48.110 --> 00:13:51.950\nmuch money a month or a year to\nlease that portion of the namespace.\n\n262\n00:13:51.950 --> 00:13:53.000\nWell that's great.\n\n263\n00:13:53.000 --> 00:13:56.380\nThe next thing I have to do is\ndecide am I gonna host my own DNS or\n\n264\n00:13:56.380 --> 00:13:58.380\nam I gonna pay somebody to do that?\n\n265\n00:13:58.380 --> 00:14:01.700\nEither way you go, the next step,\nwhether you're hosting it or\n\n266\n00:14:01.700 --> 00:14:05.510\nsomebody else is,\nis to create what we call a delegation.\n\n267\n00:14:05.510 --> 00:14:08.320\nWe have to go to that .com server and\nsay hey,\n\n268\n00:14:08.320 --> 00:14:12.880\nI just started this new online\npresence mycompany.com.\n\n269\n00:14:12.880 --> 00:14:17.133\nHere's the IP address of the authoritative\nDNS server for mycompany.com.\n\n270\n00:14:17.133 --> 00:14:20.973\nCan you make a record up here, and\nif you'll show my screen, make a record up\n\n271\n00:14:20.973 --> 00:14:25.550\nhere on the .com server pointing to the IP\naddress of my authoritative DNS server.\n\n272\n00:14:25.550 --> 00:14:30.178\nNow if anybody ever asks, they'll go to\nthe root, it'll send him to the .com.\n\n273\n00:14:30.178 --> 00:14:33.463\nThe .com can say, sure enough,\nhere's the IP address for\n\n274\n00:14:33.463 --> 00:14:36.170\nmycompany.com's authoritative DNS server.\n\n275\n00:14:36.170 --> 00:14:38.810\nAnd they'll come to your DNS server\nwhether you're hosting it or\n\n276\n00:14:38.810 --> 00:14:39.880\nsomebody else is.\n\n277\n00:14:39.880 --> 00:14:41.560\nAnd that server will know the names and\n\n278\n00:14:41.560 --> 00:14:43.560\nIP addresses of all\nthe computers on your network.\n\n279\n00:14:43.560 --> 00:14:44.980\nSo that's what you have to do.\n\n280\n00:14:44.980 --> 00:14:47.760\nWhen you register that name,\nit's usually a day 24 hours,\n\n281\n00:14:47.760 --> 00:14:52.260\n48 hours before that delegation gets\ncreated and then anybody in the world\n\n282\n00:14:52.260 --> 00:14:55.650\ncan now find your, let's say,\nyour web server or something like that.\n\n283\n00:14:55.650 --> 00:14:56.670\nSo it's very, very cool.\n\n284\n00:14:56.670 --> 00:14:58.550\nNow something else I\nwanted to mention here,\n\n285\n00:14:58.550 --> 00:15:01.960\nyou notice on my drawing that I used\na couple of different colored arrows.\n\n286\n00:15:01.960 --> 00:15:04.980\nAnd that's because when we look at these\nqueries, there's actually different\n\n287\n00:15:04.980 --> 00:15:09.450\ntypes of queries that my computers,\nthese nodes these computers can generate.\n\n288\n00:15:09.450 --> 00:15:13.660\nThere's recursive queries and\nthen there's iterative queries.\n\n289\n00:15:13.660 --> 00:15:16.450\nRecursive queries require an answer.\n\n290\n00:15:16.450 --> 00:15:20.260\nThat means when I send that query, I'm\nexpecting an IP address to come back and\n\n291\n00:15:20.260 --> 00:15:22.720\nthat's all I'm going to\naccept as an answer.\n\n292\n00:15:22.720 --> 00:15:24.630\nNow, it might not be\nthe actual IP address.\n\n293\n00:15:24.630 --> 00:15:26.770\nIt might be something like,\nname not found, right?\n\n294\n00:15:26.770 --> 00:15:29.180\nIf it can't find it, but\nthat's what you're gonna get.\n\n295\n00:15:29.180 --> 00:15:31.342\nYou're gonna get an answer.\n\n296\n00:15:31.342 --> 00:15:35.960\nWhereas, an iterative query can\neither take the IP address, or\n\n297\n00:15:35.960 --> 00:15:40.490\nthe answer, or\na referral to another DNS server.\n\n298\n00:15:40.490 --> 00:15:44.120\nSo notice when my client\nqueries the local DNS server,\n\n299\n00:15:44.120 --> 00:15:48.630\nhe sends a recursive query, cuz my client,\nI've typed in a name into my browser.\n\n300\n00:15:48.630 --> 00:15:52.150\nAnd I don't need a referral or\na pointer or a hey, go ask this person.\n\n301\n00:15:52.150 --> 00:15:54.550\nI need the IP address, so\nthat my browser can open up.\n\n302\n00:15:54.550 --> 00:15:56.008\nThat's what I want.\n\n303\n00:15:56.008 --> 00:15:57.494\nSo I send a recursive query, and\n\n304\n00:15:57.494 --> 00:16:00.258\nsaid hey, don't come back until\nyou get the answer for me.\n\n305\n00:16:00.258 --> 00:16:03.813\nAll right, but my DNS server,\nwhen he's talking to the root,\n\n306\n00:16:03.813 --> 00:16:05.930\nhe sends an iterative query.\n\n307\n00:16:05.930 --> 00:16:07.684\nHey, can you give me the answer?\n\n308\n00:16:07.684 --> 00:16:10.690\nIf not, can you tell me\nsomewhere else I might go check.\n\n309\n00:16:10.690 --> 00:16:12.240\nCan you lead me in the right direction?\n\n310\n00:16:12.240 --> 00:16:15.490\nThat's what I mean by a DNS referral.\n\n311\n00:16:15.490 --> 00:16:19.010\nMy server is not gonna send\na recursive courier to the root and\n\n312\n00:16:19.010 --> 00:16:23.510\ntell him to go look it up and don't come\nback and tell you get the answer right?\n\n313\n00:16:23.510 --> 00:16:24.740\nThe root is gonna laugh at it.\n\n314\n00:16:24.740 --> 00:16:27.160\nHe's not gonna accept that responsibility.\n\n315\n00:16:27.160 --> 00:16:31.950\nSo when DNS servers talked to each\nother typically, they're iterative.\n\n316\n00:16:31.950 --> 00:16:35.020\nNot always, but for the majority of\nthe time they're going to be iterative.\n\n317\n00:16:35.020 --> 00:16:37.410\nHey help me out, give me the IP address.\n\n318\n00:16:37.410 --> 00:16:40.970\nIf you don't know it, give me the IP\naddress of somebody else I can go ask and\n\n319\n00:16:40.970 --> 00:16:42.925\nmaybe lead me in the right direction,\nright.\n\n320\n00:16:42.925 --> 00:16:45.525\nSo we've got recursive queries\nthat require an answer.\n\n321\n00:16:45.525 --> 00:16:49.275\nWe've got iterative queries that\nare either gonna take the answer or\n\n322\n00:16:49.275 --> 00:16:51.575\na referral to another DNS server.\n\n323\n00:16:51.575 --> 00:16:52.725\n>> I like what you did there Michael,\n\n324\n00:16:52.725 --> 00:16:56.696\nwith the red as the recursive and\nthe iterative is purple.\n\n325\n00:16:56.696 --> 00:16:58.342\n[LAUGH]\n>> Yeah, I know right.\n\n326\n00:16:58.342 --> 00:17:00.707\nWell it could be indigo maybe.\n\n327\n00:17:00.707 --> 00:17:03.052\n>> [LAUGH] I like that.\n\n328\n00:17:03.052 --> 00:17:05.792\n>> I always remember recursive requires,\nright?\n\n329\n00:17:05.792 --> 00:17:09.240\nAnd when I get into that exam recursive\nrequires, recursive requires.\n\n330\n00:17:09.240 --> 00:17:12.470\nThat way,\nyou know iterative can take a referral.\n\n331\n00:17:12.470 --> 00:17:13.250\nAll right, so that's it.\n\n332\n00:17:13.250 --> 00:17:15.880\nSo now we've looked at\ninternal name resolution.\n\n333\n00:17:15.880 --> 00:17:20.050\nWe've also seen how we can do external\nname resolution with the help of some of\n\n334\n00:17:20.050 --> 00:17:25.330\nthose publicly maintained DNS servers,\nthe root servers, the .coms, the .biz.\n\n335\n00:17:25.330 --> 00:17:30.190\nThe roots, there's actually,\nthey'll say 13 of these root servers.\n\n336\n00:17:30.190 --> 00:17:33.990\nThey're really, when we look at these\nroots, these are big massive server farms\n\n337\n00:17:33.990 --> 00:17:38.580\nthat are geographically distributed and\nso it's not 13 individual\n\n338\n00:17:38.580 --> 00:17:43.730\nDell 960s sitting there maintaining\nthe entire DNS infrastructure.\n\n339\n00:17:43.730 --> 00:17:46.450\nThese are big clusters\nof servers in there,\n\n340\n00:17:46.450 --> 00:17:48.180\nlike I said geographically distributed.\n\n341\n00:17:48.180 --> 00:17:52.590\nBut on the exam or in a book you might\nsee that there's 13 root servers.\n\n342\n00:17:52.590 --> 00:17:54.520\nWell there's 13 IP addresses.\n\n343\n00:17:54.520 --> 00:17:56.980\nThere's A through M if I get that right.\n\n344\n00:17:56.980 --> 00:18:00.020\nIt's either M or N, 13 letters up.\n\n345\n00:18:00.020 --> 00:18:03.860\nThere's A through M, each one of those\nletters represents a company that\n\n346\n00:18:03.860 --> 00:18:07.320\nmaintains one of those root servers.\n\n347\n00:18:07.320 --> 00:18:10.040\nBut within that one IP address\nit's load balanced again,\n\n348\n00:18:10.040 --> 00:18:13.060\nacross dozens, if not hundreds of servers.\n\n349\n00:18:13.060 --> 00:18:15.770\nAnd like I said,\nthey're geographically dispersed.\n\n350\n00:18:15.770 --> 00:18:20.338\nThen you've got all the top level domains,\nthat's the .coms, the .govs, the .net,\n\n351\n00:18:20.338 --> 00:18:23.540\nthe .tv, all those names that,\nthe last three,\n\n352\n00:18:23.540 --> 00:18:26.280\nor lately the last two,\nand even more now, Daniel.\n\n353\n00:18:26.280 --> 00:18:30.278\nI don't know if you've seen recently\nthey'd added things like .party and\n\n354\n00:18:30.278 --> 00:18:34.570\n.me and all kinds of .info and\nthings like that.\n\n355\n00:18:34.570 --> 00:18:38.380\nThat's all the IANA,\nThe Internet Assortium,\n\n356\n00:18:38.380 --> 00:18:43.970\nthe Internet Assign Names and Address,\nif I remember that one right.\n\n357\n00:18:43.970 --> 00:18:44.690\n>> ICANN?\n\n358\n00:18:44.690 --> 00:18:45.700\n>> ICANN.\n\n359\n00:18:45.700 --> 00:18:48.012\nInternet Consortium of Assigned Names and\nNumbers.\n\n360\n00:18:48.012 --> 00:18:50.913\n[CROSSTALK]\n>> Yeah, those guys, one bought the other,\n\n361\n00:18:50.913 --> 00:18:53.710\nnot bought, they're publicly maintained.\n\n362\n00:18:53.710 --> 00:18:57.600\nThe one of them got folded into the other\none and I can't remember which one is\n\n363\n00:18:57.600 --> 00:19:00.630\nactually left standing, but\nthose are all maintained.\n\n364\n00:19:00.630 --> 00:19:05.070\nAnd they add new top level\ndomains like .party as they see\n\n365\n00:19:05.070 --> 00:19:07.760\nfit because you can only have so\nmany .com names, right?\n\n366\n00:19:07.760 --> 00:19:12.230\nYou start running out so\nthey can add additional top-level domains.\n\n367\n00:19:12.230 --> 00:19:17.410\nAnd then like Microsoft or ITProTV, those\nare what we call second level domains.\n\n368\n00:19:17.410 --> 00:19:19.260\nThose are the ones that\nwe have to register.\n\n369\n00:19:19.260 --> 00:19:22.680\nBecause I don't want anybody\nelse using ITPro.tv.\n\n370\n00:19:22.680 --> 00:19:25.480\nSo, I go register that name and\nnow it's mine.\n\n371\n00:19:25.480 --> 00:19:29.110\nI own it, and I'll do the air quotes for\nthat because you're just leasing it.\n\n372\n00:19:29.110 --> 00:19:31.850\nIf you don't pay your bill it goes\nback into the public domain and\n\n373\n00:19:31.850 --> 00:19:34.585\nsomebody else can pick up that name and\nuse it if they want to.\n\n374\n00:19:34.585 --> 00:19:38.420\n[LAUGH] All right, so\nwe got internal, we got external.\n\n375\n00:19:38.420 --> 00:19:42.500\nNow, a couple of other things we wanna\ntalk about as we're just understanding how\n\n376\n00:19:42.500 --> 00:19:48.090\nDNS works, then the next one I wanna\ntalk about is forwarding, right.\n\n377\n00:19:48.090 --> 00:19:53.070\nWe just saw that my DNS server is\nauthoritative for ITPro.tv and\n\n378\n00:19:53.070 --> 00:19:58.492\nif I try to resolve any other name,\nlike Newegg.com or Microsoft.com or\n\n379\n00:19:58.492 --> 00:20:02.800\nContoso.com or what have you,\nhe's gonna have to go to that root and\n\n380\n00:20:02.800 --> 00:20:06.640\nwork it's way down to find\nthat authoritative DNS server.\n\n381\n00:20:06.640 --> 00:20:09.620\nWell that can put a lot of workload\non that DNS server, right.\n\n382\n00:20:09.620 --> 00:20:14.100\nThat DNS server is already handling\nall of my internal name resolutions.\n\n383\n00:20:14.100 --> 00:20:17.660\nAnd I've got thousands of clients\nresolving names constantly,\n\n384\n00:20:17.660 --> 00:20:20.030\nconnecting to file shares, logging in.\n\n385\n00:20:20.030 --> 00:20:21.760\nThat's a lot of work\nthe DNS server is doing.\n\n386\n00:20:21.760 --> 00:20:24.930\nNow all of a sudden you dump on top of\nthat, the fact that he's gotta resolve\n\n387\n00:20:24.930 --> 00:20:28.650\nall the external names, for\nwhen people are surfing the web,\n\n388\n00:20:28.650 --> 00:20:32.710\nor connecting to other companies,\nwith you know resources or what have you.\n\n389\n00:20:32.710 --> 00:20:36.560\nThat server can start getting a little\nbit busy, and if we slow that down,\n\n390\n00:20:36.560 --> 00:20:38.990\nthat just means we've gotta look at\nthat darn spinning cheerio right?\n\n391\n00:20:38.990 --> 00:20:42.310\nWaiting for those names to resolve,\nwaiting for us to connect.\n\n392\n00:20:42.310 --> 00:20:45.160\nSo what we can do,\nis we can setup a forwarder.\n\n393\n00:20:45.160 --> 00:20:49.320\nA forwarder is somebody that we're\ngonna forward the queries on to.\n\n394\n00:20:49.320 --> 00:20:53.720\nSo in this case, I've told my DNS server,\nhey if you don't know it,\n\n395\n00:20:53.720 --> 00:20:57.650\nif you're not authoritative, just\nforward it onto this other DNS server.\n\n396\n00:20:57.650 --> 00:21:01.930\nLet him go do all the work, he'll do\nthe root, and the .com, and in this case,\n\n397\n00:21:01.930 --> 00:21:05.740\nthe Microsoft.com, and\nhe'll return the answer to you.\n\n398\n00:21:05.740 --> 00:21:06.870\nThat's a forwarder.\n\n399\n00:21:06.870 --> 00:21:11.570\nNotice that the forwarder is\nsending a recursive query.\n\n400\n00:21:11.570 --> 00:21:15.410\nSo the client sends a query to my\nlocal DNS server on my network,\n\n401\n00:21:15.410 --> 00:21:18.880\nmy server says I don't know\nwho this microsoft.com is.\n\n402\n00:21:18.880 --> 00:21:23.090\nBut, somebody's given me the IP address\nof who I'm suppose to forward it to,\n\n403\n00:21:23.090 --> 00:21:24.520\nif I don't know it.\n\n404\n00:21:24.520 --> 00:21:27.430\nSo, instead of my DNS server trying\nto resolve the external name,\n\n405\n00:21:27.430 --> 00:21:29.590\nhe just sends it out\nhere to this DNS server.\n\n406\n00:21:29.590 --> 00:21:30.730\nThat's a recursive query.\n\n407\n00:21:30.730 --> 00:21:34.230\nHe says, here, you take it,\nyou go do all the work, and\n\n408\n00:21:34.230 --> 00:21:36.590\njust let me me know when you\nget the IP address, right.\n\n409\n00:21:36.590 --> 00:21:40.110\nAnd then this DNS server goes through\nthe process that we just talked about with\n\n410\n00:21:40.110 --> 00:21:44.940\nthe iterative queries, finally gets\nthe response back from Microsoft.com.\n\n411\n00:21:44.940 --> 00:21:47.608\nReturns the IP address\nto my local DNS server,\n\n412\n00:21:47.608 --> 00:21:52.300\nwho can then return the IP\naddress to the client.\n\n413\n00:21:52.300 --> 00:21:55.710\nIn this case, what I've drawn up here,\nis the ISP's DNS server.\n\n414\n00:21:55.710 --> 00:22:01.030\nThis is a very common scenario,\nbecause my ISP maintains DNS servers.\n\n415\n00:22:01.030 --> 00:22:03.950\nand these guys are big bad boys\nout there on the internet, right.\n\n416\n00:22:03.950 --> 00:22:07.870\nThey're really close to the back bone of\nthe internet most likely being my ISP, and\n\n417\n00:22:07.870 --> 00:22:10.030\nthey got the horsepower.\n\n418\n00:22:10.030 --> 00:22:14.016\nAnd they're not going to mind a few extra\nqueries going out to them because that's\n\n419\n00:22:14.016 --> 00:22:14.700\nthere job.\n\n420\n00:22:14.700 --> 00:22:18.490\nThey support customers, they've got\ncustomers all over the area that\n\n421\n00:22:18.490 --> 00:22:21.940\nare relying on the for DNS, so I'm just\ngoing to forward on everything to them.\n\n422\n00:22:21.940 --> 00:22:25.730\nThat way, my DNS server can focus\non those internal name resolution.\n\n423\n00:22:25.730 --> 00:22:28.650\nThe external name resolutions\ncan go out there.\n\n424\n00:22:28.650 --> 00:22:32.230\nThen, that's not the only scenario\nwe can use forwarding in.\n\n425\n00:22:32.230 --> 00:22:34.930\nAnother one might be something like this.\n\n426\n00:22:34.930 --> 00:22:39.950\nI might have several internal DNS servers\nlike I've got here and like I've got here.\n\n427\n00:22:39.950 --> 00:22:42.530\nThese guys do all my\ninternal name resolution.\n\n428\n00:22:42.530 --> 00:22:47.020\nI've got another DNS server that's\ngonna be sitting out here in my DMZ.\n\n429\n00:22:47.020 --> 00:22:51.520\nAnd what I've done is all my internal\nDNS servers inside my firewall,\n\n430\n00:22:51.520 --> 00:22:54.160\nthey're just doing local name resolution.\n\n431\n00:22:54.160 --> 00:22:57.150\nAnything they get that they don't know,\nthey're not authoritative over,\n\n432\n00:22:57.150 --> 00:23:01.820\nthey're just gonna forward it out to\nthe DNS server out here in my DMZ.\n\n433\n00:23:01.820 --> 00:23:04.150\nAnd let him go do all the work and\n\n434\n00:23:04.150 --> 00:23:07.210\nthen return the answers back\nto my internal DNS servers.\n\n435\n00:23:07.210 --> 00:23:09.180\nSo this can be done for security reasons.\n\n436\n00:23:09.180 --> 00:23:12.060\nMaybe I don't want these guys\ngoing out to the internet\n\n437\n00:23:12.060 --> 00:23:15.560\nresolving names cause there's a risk\nthat I could expose some of my\n\n438\n00:23:15.560 --> 00:23:19.620\ninternal DNS information to the outside\nworld, which I don't wanna do.\n\n439\n00:23:19.620 --> 00:23:24.800\nIt also can speed the whole process up,\nbecause of something called caching.\n\n440\n00:23:24.800 --> 00:23:27.499\nAnd we're gonna talk about\ncaching in a later episode, but\n\n441\n00:23:27.499 --> 00:23:32.300\nit could make that whole process\nwork a little bit faster as well.\n\n442\n00:23:32.300 --> 00:23:35.030\nSo either way you go it's\nstill call forwarding.\n\n443\n00:23:35.030 --> 00:23:38.560\nWe're just choosing another DNS\nserver to forward things to\n\n444\n00:23:38.560 --> 00:23:40.700\nwhen the DNS server\ndoesn't know the answer.\n\n445\n00:23:40.700 --> 00:23:42.990\nIf you can look it up in\nyour own database, fine.\n\n446\n00:23:42.990 --> 00:23:46.500\nIf you don't have it, forward it on to\nthis person and let them deal with it.\n\n447\n00:23:46.500 --> 00:23:49.960\nSend a recursive query, right.\n\n448\n00:23:49.960 --> 00:23:53.030\nSo that's gonna be our forwarding.\n\n449\n00:23:53.030 --> 00:23:56.764\nNow there is one more type of\nforwarding that we can talk about and\n\n450\n00:23:56.764 --> 00:23:59.958\nthat's something known as\nconditional forwarding.\n\n451\n00:23:59.958 --> 00:24:05.718\nAnd conditional forwarding is a kind of,\ntrying to think of the word to use,\n\n452\n00:24:05.718 --> 00:24:12.490\nan iteration of forwarding or a type of\nforwarding, but it's based on namespace.\n\n453\n00:24:12.490 --> 00:24:14.469\nWhat we'll do is we can\ngo to our DNS server.\n\n454\n00:24:14.469 --> 00:24:17.250\nLet's say, Contoso over here.\n\n455\n00:24:17.250 --> 00:24:21.836\nI do a lot of work with contoso.com, as\nwe're good business partners and my users\n\n456\n00:24:21.836 --> 00:24:26.800\nare constantly connecting to resources\nover there on contoso.com's network.\n\n457\n00:24:26.800 --> 00:24:29.934\nSo, they're typing in names\nthat end in contoso.com,\n\n458\n00:24:29.934 --> 00:24:32.806\nmy DNS server when they're\ntrying to connect to it,\n\n459\n00:24:32.806 --> 00:24:36.747\nis either going to the root, and\nthen to the com and then contoso.com.\n\n460\n00:24:36.747 --> 00:24:40.433\nOr, he's forwarding it on to the ISP and\nthe ISP's doing all the work but\n\n461\n00:24:40.433 --> 00:24:43.335\nit's still waiting on that\ninformation to come back, so\n\n462\n00:24:43.335 --> 00:24:45.970\nthey can give it back to the client.\n\n463\n00:24:45.970 --> 00:24:50.487\nOr, if I know, if I have a good working\nrelationship with Contoso, I could get\n\n464\n00:24:50.487 --> 00:24:54.935\nthe IP address of their DNS server from\nthem, and I could go to my DNS server and\n\n465\n00:24:54.935 --> 00:24:59.178\nI could set up a rule that says, hey,\nif the name you're trying to resolve\n\n466\n00:24:59.178 --> 00:25:03.851\nends in contoso.com, here's the IP\naddress of the authoritative DNS server.\n\n467\n00:25:03.851 --> 00:25:06.780\nNow, you can go straight to him, right?\n\n468\n00:25:06.780 --> 00:25:07.781\nCuz remember,\n\n469\n00:25:07.781 --> 00:25:12.713\nin the end, the whole point of DNS is\nto find that authoritative DNS server.\n\n470\n00:25:12.713 --> 00:25:16.930\nThat's why it goes to the root and\nthen to the .com is to find this guy.\n\n471\n00:25:16.930 --> 00:25:20.911\nIf I can go and tell him what the IP\naddress is, he could go straight to it and\n\n472\n00:25:20.911 --> 00:25:23.288\nnot have to go through\nany of that process and\n\n473\n00:25:23.288 --> 00:25:25.814\nhe can get the response\nback that much faster.\n\n474\n00:25:25.814 --> 00:25:29.318\nAnything else will still,\nif I go to Microsoft, well,\n\n475\n00:25:29.318 --> 00:25:32.316\nhe's not authoritative for microsoft.com.\n\n476\n00:25:32.316 --> 00:25:34.635\nI don't have a conditional\nforward setup for Microsoft, so\n\n477\n00:25:34.635 --> 00:25:35.733\nit'll still go to the root.\n\n478\n00:25:35.733 --> 00:25:39.950\nOr, it could still forward it\non to the ISP's DNS server.\n\n479\n00:25:39.950 --> 00:25:42.667\nBut, anytime they try to\nconnect to contoso.com,\n\n480\n00:25:42.667 --> 00:25:47.053\nthey can forward it straight over to\ncontoso.com's DNS server, get that answer,\n\n481\n00:25:47.053 --> 00:25:50.099\ngive it back to the client,\nbada bing, we're good to go.\n\n482\n00:25:50.099 --> 00:25:52.341\nSo, it just, again,\nspeeds up that process.\n\n483\n00:25:52.341 --> 00:25:56.422\n>> Now, Mike, that seems like\na fantastic way to reduce some overhead,\n\n484\n00:25:56.422 --> 00:25:59.604\nspeed things up a bit,\nhave some nice connectivity but\n\n485\n00:25:59.604 --> 00:26:02.737\nthere's only one inherent problem to that,\nright?\n\n486\n00:26:02.737 --> 00:26:06.057\nAnd that's if that DNS IP address changes,\nand\n\n487\n00:26:06.057 --> 00:26:10.210\nthen we have to change our\nconditional forward, correct?\n\n488\n00:26:10.210 --> 00:26:11.748\n>> Absolutely, yes,\nthat's a great point, Daniel.\n\n489\n00:26:11.748 --> 00:26:13.400\nConditional forwarding is very static.\n\n490\n00:26:13.400 --> 00:26:16.998\nI'm gonna show you how to do it later\nin another episode, and when you type,\n\n491\n00:26:16.998 --> 00:26:20.110\nyou have to type in the IP address\nof contoso.com's DNS server.\n\n492\n00:26:20.110 --> 00:26:25.100\nSo, as you say, if that ever changes, my\nconditional forwarding rule is gonna fail.\n\n493\n00:26:25.100 --> 00:26:28.682\nAnd we typically don't notice it\nuntil our clients start going hey,\n\n494\n00:26:28.682 --> 00:26:30.668\nI can't connect to Contoso any more.\n\n495\n00:26:30.668 --> 00:26:33.494\nAnd then, we go and we trouble shoot,\nand we find out, and\n\n496\n00:26:33.494 --> 00:26:37.362\nthen we have to call Cintoso, oh, yeah,\nwe swapped our network adapter out and\n\n497\n00:26:37.362 --> 00:26:40.290\nwe had to change the IP address,\nor some long story.\n\n498\n00:26:40.290 --> 00:26:44.452\nHere's the IP address, I go into my DNS,\nI update that conditional forwarding rule,\n\n499\n00:26:44.452 --> 00:26:47.256\nand then, all is well again,\nbut it is very static, yes.\n\n500\n00:26:47.256 --> 00:26:50.801\n>> Yeah, and DNS servers, probably,\nespecially the main ones that you would be\n\n501\n00:26:50.801 --> 00:26:53.555\npointing to, are probably not\ngonna change all that often.\n\n502\n00:26:53.555 --> 00:26:57.046\nSo, it's still a pretty safe\npractice to delve into.\n\n503\n00:26:57.046 --> 00:26:59.700\nBut just from time to time,\nbe aware that that might occur.\n\n504\n00:26:59.700 --> 00:27:00.465\nAll right,\n\n505\n00:27:00.465 --> 00:27:05.066\nMikey, have we started to unravel\nthe mystery of DNS for these people?\n\n506\n00:27:05.066 --> 00:27:06.650\n>> You know, I think so.\n\n507\n00:27:06.650 --> 00:27:10.567\nAt this point, we probably have a good\nworking idea of how DNS is actually\n\n508\n00:27:10.567 --> 00:27:12.378\nfunctioning in the background.\n\n509\n00:27:12.378 --> 00:27:16.232\nIn our episodes coming up, we're gonna\nstart taking a closer look at how it works\n\n510\n00:27:16.232 --> 00:27:20.030\nand actually, getting all of this set\nup and making all of that happen.\n\n511\n00:27:20.030 --> 00:27:20.655\n>> Excellent stuff.\n\n512\n00:27:20.655 --> 00:27:23.070\nWell, hopefully you guys\nare gonna watch those episodes.\n\n513\n00:27:23.070 --> 00:27:25.842\nThey're gonna be good stuff and\nstuff you'll need to know for\n\n514\n00:27:25.842 --> 00:27:28.733\nyour exam if you're gonna try to\nget that MCSA or anything else.\n\n515\n00:27:28.733 --> 00:27:34.480\nIt's good to know how actually Microsoft\nand Server 2012 deals with DNS.\n\n516\n00:27:34.480 --> 00:27:38.573\nHow to set it up, configure it, work with\nit, make it happen, get the magic going.\n\n517\n00:27:38.573 --> 00:27:42.000\nThat being said, we've wrapped up\nanother great episode here at ITProTV.\n\n518\n00:27:42.000 --> 00:27:44.183\nI've been your host, Daniel Lowery.\n\n519\n00:27:44.183 --> 00:27:45.010\n>> And I'm Mike Rodrick.\n\n520\n00:27:45.010 --> 00:27:46.211\n>> And we'll see you next time.\n\n521\n00:27:46.211 --> 00:27:51.980\n[MUSIC]\n\n",
          "vimeoId": "134089603"
        },
        {
          "description": "In this episode, Daniel and Mike demonstrate configuring DNS. They configure forwarders, conditional forwarding and root hints. They also discuss managing the DNS cache.",
          "length": "1726",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-12-2-configuring_dns-072015-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-12-2-configuring_dns-072015-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-12-2-configuring_dns-072015-1-sm.jpg",
          "title": "Configuring DNS",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.719\n[MUSIC]\n\n2\n00:00:10.719 --> 00:00:12.632\nAll right, greetings, everyone,\n\n3\n00:00:12.632 --> 00:00:16.010\nand welcome to another\ngreat episode of ITProTV.\n\n4\n00:00:16.010 --> 00:00:17.320\nI'm your host, Daniel Lowry.\n\n5\n00:00:17.320 --> 00:00:21.280\nHere with me today is the DNS Master\nhimself, Mr. Mike Rodrick.\n\n6\n00:00:21.280 --> 00:00:22.126\nHow's it going today, Mike?\n\n7\n00:00:22.126 --> 00:00:23.960\n>> [LAUGH] Very good, Daniel-San.\n\n8\n00:00:23.960 --> 00:00:24.953\nThank you very much.\n\n9\n00:00:24.953 --> 00:00:29.670\n[LAUGH] We are back talking about DNS, one\nof my favorite topics we're continuing on.\n\n10\n00:00:29.670 --> 00:00:31.940\nIf you've missed the previous episode\nmake sure you go and check it out.\n\n11\n00:00:31.940 --> 00:00:34.020\nWe talked about just some basics of DNS.\n\n12\n00:00:34.020 --> 00:00:36.890\nSo we had a good working knowledge\nof what's going on behind\n\n13\n00:00:36.890 --> 00:00:37.880\nthe scenes with DNS.\n\n14\n00:00:37.880 --> 00:00:40.320\nNow we're going to take a closer\nlook at at configuring.\n\n15\n00:00:40.320 --> 00:00:43.440\nActually making all of that stuff work,\nand how we can get it all set up.\n\n16\n00:00:43.440 --> 00:00:46.970\nSo this first thing you know I think we\nneed to talk about is installing DNS.\n\n17\n00:00:46.970 --> 00:00:47.800\nRight?\nIf we're gonna\n\n18\n00:00:47.800 --> 00:00:49.080\nrun it we need to get it installed.\n\n19\n00:00:49.080 --> 00:00:51.230\n>> Yeah.\nProbably got a Microsoft server Server or\n\n20\n00:00:51.230 --> 00:00:54.990\ntwo laying around, and if I want the\nactive directory services to be running,\n\n21\n00:00:54.990 --> 00:00:58.600\nI'm going to need DNS, or\nif I just want DNS in general to say, hey.\n\n22\n00:00:58.600 --> 00:01:01.080\nI've got a name and\na place on the old internet there,\n\n23\n00:01:01.080 --> 00:01:05.460\nI have to set up authoritative server for\nthat to happen.\n\n24\n00:01:05.460 --> 00:01:06.440\nI gotta be able to install it.\n\n25\n00:01:06.440 --> 00:01:10.560\nIt gotta get into the business of\nmaking DNS happen in my company,\n\n26\n00:01:10.560 --> 00:01:11.070\nwhat do I gotta do?\n\n27\n00:01:11.070 --> 00:01:11.840\nWhere do we start?\n\n28\n00:01:11.840 --> 00:01:13.080\n>> Yeah, we gotta get it installed.\n\n29\n00:01:13.080 --> 00:01:15.330\nSo there's really a couple of\nways you can install it, and\n\n30\n00:01:15.330 --> 00:01:18.370\nyou made a really good point Daniel,\nan active directory relies on DNS,\n\n31\n00:01:18.370 --> 00:01:20.720\nyou can't run active directory without it.\n\n32\n00:01:20.720 --> 00:01:23.550\nSo, you might imagine,\nthat's one of the places we can install.\n\n33\n00:01:23.550 --> 00:01:26.870\nWhen you install active directory\nas you go through the wizard,\n\n34\n00:01:26.870 --> 00:01:30.650\nthere's actually a check mark to include\nDNS, and it's checked by default.\n\n35\n00:01:30.650 --> 00:01:33.470\nSo if you don't uncheck it when\nyou install Active Directory,\n\n36\n00:01:33.470 --> 00:01:35.610\nyou're installing DNS as well.\n\n37\n00:01:35.610 --> 00:01:37.470\nYou can also install it separately.\n\n38\n00:01:37.470 --> 00:01:40.010\nYou don't have to install\nit with Active Directory.\n\n39\n00:01:40.010 --> 00:01:43.280\nYou might have additional servers that you\nwant to run DNS on that aren't the main\n\n40\n00:01:43.280 --> 00:01:44.180\ncontrollers.\n\n41\n00:01:44.180 --> 00:01:45.940\nAnd it's just like any other role.\n\n42\n00:01:45.940 --> 00:01:47.680\nIn fact, I can show you here.\n\n43\n00:01:47.680 --> 00:01:49.670\nI've got a server pulled up.\n\n44\n00:01:49.670 --> 00:01:50.710\nWho's not in the main controller.\n\n45\n00:01:50.710 --> 00:01:54.510\nCurrently he's not holding any roles\nother than the file services so\n\n46\n00:01:54.510 --> 00:01:58.980\nI'll click the old add roles and features\nwizard, and that's gonna launch and\n\n47\n00:01:58.980 --> 00:02:03.710\nI'll click next a couple of times here,\nit's gonna be roll based installation.\n\n48\n00:02:03.710 --> 00:02:08.040\nServer02 is the name of my machine,\nwe'll click next, and then for\n\n49\n00:02:08.040 --> 00:02:12.570\nthe roll, I'm just gonna choose DNS It's\ngonna ask me if I want the DNS consoles,\n\n50\n00:02:12.570 --> 00:02:14.580\nthe management tools, and of course I do.\n\n51\n00:02:14.580 --> 00:02:19.630\nSo we'll click add features, and\nthen it's pretty much just next,\n\n52\n00:02:19.630 --> 00:02:22.910\nall the way through,\nno additional features to install.\n\n53\n00:02:22.910 --> 00:02:26.800\nGives me a little note about DNS, and then\nsays, hey, this is what I'm gonna install.\n\n54\n00:02:26.800 --> 00:02:30.120\nWe click install, and\nit goes about doing it's business, and\n\n55\n00:02:30.120 --> 00:02:32.130\nit won't take it too terribly long.\n\n56\n00:02:32.130 --> 00:02:36.250\nSo now we're gonna have a DNS server,\nbut at this point,\n\n57\n00:02:36.250 --> 00:02:39.800\nonce DNS gets installed,\nI could point clients to it.\n\n58\n00:02:39.800 --> 00:02:42.320\nIn fact, that's what I should talk\nabout too is one of the first\n\n59\n00:02:42.320 --> 00:02:43.250\nthings they need to to,\n\n60\n00:02:43.250 --> 00:02:48.590\nyou put a new DNS server in, nobody's\ngonna use it until you tell them about it.\n\n61\n00:02:48.590 --> 00:02:50.120\nThink about your TCP/IP settings.\n\n62\n00:02:50.120 --> 00:02:53.190\nYou've got your IP address, your\nsubnet mask, your default gateway, and\n\n63\n00:02:53.190 --> 00:02:55.150\nthen right below that\nif you're in the GUI,\n\n64\n00:02:55.150 --> 00:02:58.410\nyou've got your preferred DNS server and\nyour alternate DNS server.\n\n65\n00:02:58.410 --> 00:03:01.920\nYou've gotta fill it, you've gotta take\nthat IP address of your DNS server you\n\n66\n00:03:01.920 --> 00:03:06.540\njust set up, and go to all your machines\nand add that as your preferred DNS server\n\n67\n00:03:06.540 --> 00:03:11.210\nor your alternate, or if we're using\nDHCP we can go add a scope option.\n\n68\n00:03:11.210 --> 00:03:14.480\nRight we could tell it hey, when you\ngive this person an IP address and\n\n69\n00:03:14.480 --> 00:03:18.680\na subnet mask and a default gateway,\nalso give them this DNS server.\n\n70\n00:03:18.680 --> 00:03:22.530\nWe have to configure everybody\nto actually use that DNS server.\n\n71\n00:03:23.840 --> 00:03:28.040\nOnce you've done that the DNS\nserver is up, it's running, but\n\n72\n00:03:28.040 --> 00:03:32.370\nhe's not going to do a whole lot at this\npoint because he doesn't have a zone file.\n\n73\n00:03:32.370 --> 00:03:35.180\nWhen you first install DNS\nthere is no database or\n\n74\n00:03:35.180 --> 00:03:37.530\nzone file, there's nothing for\nhim to look up.\n\n75\n00:03:37.530 --> 00:03:41.810\nIf you watch the previous episode we\ntalked about how Our DNS server here, for\n\n76\n00:03:41.810 --> 00:03:46.750\nexample, for itpro.tv has a database\nthat contains all the name and\n\n77\n00:03:46.750 --> 00:03:49.960\nIP addresses for\nall the computers here on ITProTV.\n\n78\n00:03:49.960 --> 00:03:53.960\nSo if you send him a query, he can\nlook it up and return the IP address.\n\n79\n00:03:53.960 --> 00:03:56.690\nWell, if I just installed DNS, in fact\nit's finished here, I'll go ahead and\n\n80\n00:03:56.690 --> 00:03:57.930\nclick close.\n\n81\n00:03:57.930 --> 00:04:03.660\nI can open up my DNS console And\n\n82\n00:04:03.660 --> 00:04:07.390\nif I expand it out, I'll take a look and\nthere's nothing configured yet.\n\n83\n00:04:07.390 --> 00:04:09.560\nSo it's not useless though,\n\n84\n00:04:09.560 --> 00:04:11.980\nthere is actually something you could\ndo with a DNS server like this.\n\n85\n00:04:11.980 --> 00:04:16.190\nIt would be known as what's\ncalled a caching only DNS server.\n\n86\n00:04:16.190 --> 00:04:18.990\nHe can't look anything up, but\nif you remember our earlier episode,\n\n87\n00:04:18.990 --> 00:04:20.890\nwe talked about them going\nout to the root, and\n\n88\n00:04:20.890 --> 00:04:24.890\nthen the dot com, to look up other\nnames out there, external names.\n\n89\n00:04:24.890 --> 00:04:28.100\nHe can still do that just fine\nassuming he's got connectivity.\n\n90\n00:04:28.100 --> 00:04:31.780\nHe just doesn't have anything to\nlook up on his own hard drive.\n\n91\n00:04:31.780 --> 00:04:32.510\nThere's nothing here.\n\n92\n00:04:32.510 --> 00:04:35.320\nSo that's a cache only DNS server, and\n\n93\n00:04:35.320 --> 00:04:39.630\nyou might do that at a branch office where\nyou know they've got to go across WAN link\n\n94\n00:04:39.630 --> 00:04:42.700\nto get back to the authoritative\nDNS server for your company.\n\n95\n00:04:42.700 --> 00:04:45.800\nYou don't want to replicate the entire\nzone out there to the branch office, and\n\n96\n00:04:45.800 --> 00:04:49.050\nwe'll talk about zones and\nthe databases here in a minute.\n\n97\n00:04:49.050 --> 00:04:50.850\nMaybe you just set up\na cache-only DNS server.\n\n98\n00:04:50.850 --> 00:04:53.550\nSo he still has to go across\nthe WAN to look things up, but\n\n99\n00:04:53.550 --> 00:04:56.920\nhe can cache the answers, another thing\nwe're gonna talk about in a little bit,\n\n100\n00:04:56.920 --> 00:04:59.970\nand then the next person that needs\nthe answer can get it from him,\n\n101\n00:04:59.970 --> 00:05:02.700\neven though he doesn't have\na database itself, but\n\n102\n00:05:02.700 --> 00:05:06.800\nnine times out of ten, you're gonna create\na zone file, give him somewhere to store\n\n103\n00:05:06.800 --> 00:05:10.340\nWhat we call resource records, so\nlet's look at how we can do that.\n\n104\n00:05:10.340 --> 00:05:14.590\nI've got my DNS console opened up, and I'm\njust gonna go up here to forward lookup\n\n105\n00:05:14.590 --> 00:05:18.060\nzones, that's probably next thing i guess,\nDanny, we should talk about.\n\n106\n00:05:18.060 --> 00:05:21.480\nThere are forward lookup zones and\nthere are reverse lookup zones,\n\n107\n00:05:21.480 --> 00:05:24.310\nand from the name you can almost\nfigure out what's going on, right?\n\n108\n00:05:24.310 --> 00:05:27.400\n>> It sounds like one of them\nactually does a forward type\n\n109\n00:05:27.400 --> 00:05:29.030\nof lookup where it's saying.\n\n110\n00:05:29.030 --> 00:05:32.280\nI have this type of record which is\nusually going to be, well not a record,\n\n111\n00:05:32.280 --> 00:05:34.230\nbut information, really.\n\n112\n00:05:34.230 --> 00:05:36.480\nIt's saying I have a name,\n\n113\n00:05:36.480 --> 00:05:40.230\nI know the name of somebody and\nI'm gonna resolve it to the IP address.\n\n114\n00:05:40.230 --> 00:05:43.910\nSo I've got a host name, and it's\nresolving the IP address, that's forward,\n\n115\n00:05:43.910 --> 00:05:47.665\nand then reverse is obvious, it's some\ncrazy witchcraft and skullduggery.\n\n116\n00:05:47.665 --> 00:05:48.300\n>> [LAUGH]\n>> And\n\n117\n00:05:48.300 --> 00:05:51.760\nit means nothing even close\nto what I just talked about.\n\n118\n00:05:51.760 --> 00:05:52.273\n>> That's right.\n\n119\n00:05:52.273 --> 00:05:52.825\n[LAUGH]\n>> [LAUGH]\n\n120\n00:05:52.825 --> 00:05:53.328\n>> He is exactly right.\n\n121\n00:05:53.328 --> 00:05:53.835\n>> [LAUGH]\n\n122\n00:05:53.835 --> 00:05:55.245\n>> Forward lookup means you know the name,\n\n123\n00:05:55.245 --> 00:05:57.085\nand that's what you do most of the time,\nright?\n\n124\n00:05:57.085 --> 00:05:59.005\nI've typed in a name into my application\n\n125\n00:05:59.005 --> 00:06:02.610\nor my browser, and I need the IP\naddress back so a forward lookup,\n\n126\n00:06:02.610 --> 00:06:05.680\nyou turn in the name, you query for\nthe name and it returns the IP address.\n\n127\n00:06:05.680 --> 00:06:09.700\nA reverse lookup would be as Daniel said\nwitch craft, but it's just the opposite.\n\n128\n00:06:09.700 --> 00:06:12.420\nI know the IP address I\nwant to return the name.\n\n129\n00:06:12.420 --> 00:06:16.540\nI have a separate zone, or\ndatabase if you will that does that.\n\n130\n00:06:16.540 --> 00:06:19.600\nSo you query here's the ip\naddress I want to know the name.\n\n131\n00:06:19.600 --> 00:06:21.910\nAgain I liken it back to\nthe phone systems right?\n\n132\n00:06:21.910 --> 00:06:24.230\nNormally you're dialing somebody by name.\n\n133\n00:06:24.230 --> 00:06:27.000\nYou look through your contacts and\nyou just touch their name\n\n134\n00:06:27.000 --> 00:06:30.550\nIt knows what number goes with that name,\ncuz it can't dial the name.\n\n135\n00:06:30.550 --> 00:06:31.080\nRight?\nBut\n\n136\n00:06:31.080 --> 00:06:34.710\nit knows the number that goes with that\nname, and it's able to make that phone\n\n137\n00:06:34.710 --> 00:06:39.550\nconnection, but sometimes you get a call,\nand it just has the phone number up there,\n\n138\n00:06:39.550 --> 00:06:42.600\nand so you might go to some website and\ntry to see who that\n\n139\n00:06:42.600 --> 00:06:46.650\nis that's trying to call you and not\nleaving those darn messages like I love.\n\n140\n00:06:46.650 --> 00:06:49.070\nYou're doing a reverse lookup basically.\n\n141\n00:06:49.070 --> 00:06:49.660\nSame thing here.\n\n142\n00:06:49.660 --> 00:06:53.050\nIn the computer world forward lookup\nzones are required I mean you gotta have\n\n143\n00:06:53.050 --> 00:06:56.650\nbecause people have to be able to turn\nTurn the name into an IP address.\n\n144\n00:06:56.650 --> 00:07:00.620\nReverse lookup zones not required,\nalthough they are useful sometimes.\n\n145\n00:07:00.620 --> 00:07:02.120\nLike for log files.\n\n146\n00:07:02.120 --> 00:07:04.610\nI might have entries in\na log file that shows the IP\n\n147\n00:07:04.610 --> 00:07:07.330\naddress that made a connection to\nthe server in the middle of the night, but\n\n148\n00:07:07.330 --> 00:07:08.750\nI wanna know the name of the client.\n\n149\n00:07:08.750 --> 00:07:12.020\nWho came in at one o'clock in the morning,\nand was sitting at their computer\n\n150\n00:07:12.020 --> 00:07:15.220\ntrying to do something or\ndid something malicious for example.\n\n151\n00:07:15.220 --> 00:07:19.770\nThe IP Set Console is another place where\nit'll show you the two computers, their IP\n\n152\n00:07:19.770 --> 00:07:24.580\naddresses, that are connected with a nice\nsecure IP Set conversation, but it doesn't\n\n153\n00:07:24.580 --> 00:07:28.290\nshow you the name, and I don't know the IP\naddresses of every client on my network.\n\n154\n00:07:28.290 --> 00:07:32.910\nSo I can turn on name resolution in that\nconsole, it will use that reverse lookup\n\n155\n00:07:32.910 --> 00:07:37.170\nzone if it exists, and it'll show me the\nnames of the computers that are connected\n\n156\n00:07:37.170 --> 00:07:39.680\ninstead of the IP addresses and\nthat can be very beneficial.\n\n157\n00:07:39.680 --> 00:07:42.760\nAll right so let's look at\ncreating that forward lookup zone.\n\n158\n00:07:42.760 --> 00:07:45.760\nI'm just gonna right click over here and\nchoose new zone And\n\n159\n00:07:45.760 --> 00:07:48.220\nbecause I right clicked\non forward lookup zone,\n\n160\n00:07:48.220 --> 00:07:51.236\nit's not asking me do you want\nto make a forward or reverse.\n\n161\n00:07:51.236 --> 00:07:55.567\nIf I had right clicked on my server and\nsaid new zone, it would first have to ask\n\n162\n00:07:55.567 --> 00:07:59.117\nme do you want to make a forward lookup or\na reverse lookup zone.\n\n163\n00:07:59.117 --> 00:08:03.746\nI'll click next on my wizard and\nthen we come to our zone types.\n\n164\n00:08:03.746 --> 00:08:05.156\nAnd I've got a couple of choices here.\n\n165\n00:08:05.156 --> 00:08:10.090\nI've got my primary, I've got secondary,\nand I've got something called stub.\n\n166\n00:08:10.090 --> 00:08:15.015\nAnd then grayed out down here at\nthe bottom is Active Directory-integrated.\n\n167\n00:08:15.015 --> 00:08:19.235\nAnd let's take a minute and\ntalk about these different types of zones.\n\n168\n00:08:19.235 --> 00:08:22.965\nSo I'm gonna pull up a drawing\nI've got for you guys here, and\n\n169\n00:08:22.965 --> 00:08:27.970\nwe're gonna talk about just what we call\nstandard primary and secondary zones.\n\n170\n00:08:27.970 --> 00:08:29.910\nSo a zone file is that database.\n\n171\n00:08:29.910 --> 00:08:33.900\nI've been using the word database to kinda\navoid using the word zone until we defined\n\n172\n00:08:33.900 --> 00:08:36.780\nit, but\nit really is called a zone file and\n\n173\n00:08:36.780 --> 00:08:39.290\nthat's a portion of the name space, right?\n\n174\n00:08:39.290 --> 00:08:42.420\nLike I said earlier,\nmy DNS server has a database, or\n\n175\n00:08:42.420 --> 00:08:45.100\na zone file,\nthat contains all the names and\n\n176\n00:08:45.100 --> 00:08:50.450\nIP addresses of the computers that exist\nhere on itpro.tv's network, all right?\n\n177\n00:08:50.450 --> 00:08:53.850\nIf we make a standard primary zone,\n\n178\n00:08:53.850 --> 00:08:57.935\nthen that is gonna be a read-write\ncopy of that zone file.\n\n179\n00:08:57.935 --> 00:09:00.545\nThat means I can read from it,\nI could send queries to it,\n\n180\n00:09:00.545 --> 00:09:03.035\nthey could look them up,\nreturn the IP address.\n\n181\n00:09:03.035 --> 00:09:04.355\nI can also write to it.\n\n182\n00:09:04.355 --> 00:09:06.889\nI can make new records\nin there if I need to.\n\n183\n00:09:06.889 --> 00:09:09.465\nI could modify existing records.\n\n184\n00:09:09.465 --> 00:09:12.986\nThe downside of a standard, and\nyou have to have one standard primary so\n\n185\n00:09:12.986 --> 00:09:15.399\nyou can create those\nrecords in the first place.\n\n186\n00:09:15.399 --> 00:09:19.070\nThe downside of the old\nstandard primaries, however,\n\n187\n00:09:19.070 --> 00:09:24.360\nyou can only have one primary,\none read-write copy of that zone file.\n\n188\n00:09:24.360 --> 00:09:27.996\nAnd we know from other classes, or\njust from our general knowledge,\n\n189\n00:09:27.996 --> 00:09:30.199\nthat one is probably not gonna be enough.\n\n190\n00:09:30.199 --> 00:09:33.640\nOne for workload as well as for\nfault tolerance.\n\n191\n00:09:33.640 --> 00:09:37.510\nIf I only have one copy of that zone\nfile on this one DNS server, and\n\n192\n00:09:37.510 --> 00:09:40.460\nhe goes down,\nnobody can resolve any names.\n\n193\n00:09:40.460 --> 00:09:43.566\nAnd remember, I have to be able to\nconnect to a DNS server to log in,\n\n194\n00:09:43.566 --> 00:09:44.964\nreplication requirements.\n\n195\n00:09:44.964 --> 00:09:46.870\nI mean, everything I do requires DNS.\n\n196\n00:09:46.870 --> 00:09:50.669\nSo, if he goes down everything pretty much\ngoes to a stand still until we can get\n\n197\n00:09:50.669 --> 00:09:51.543\nthat guy back up.\n\n198\n00:09:51.543 --> 00:09:55.761\nSo if I can only have one copy, or\none read-write copy, one primary,\n\n199\n00:09:55.761 --> 00:09:58.134\nhow do we provide the fault tolerance?\n\n200\n00:09:58.134 --> 00:10:01.224\nAnd what we would do is we\nwould create secondary zones.\n\n201\n00:10:01.224 --> 00:10:05.830\nSecondaries are read-only\ncopies of that zone file.\n\n202\n00:10:05.830 --> 00:10:08.860\nAnd I can have as many\nsecondaries as I need\n\n203\n00:10:08.860 --> 00:10:12.970\nto provide the level of fault tolerance or\nload balancing that I desire.\n\n204\n00:10:12.970 --> 00:10:17.690\nSo I can set up 1, 2, 5,\n20 secondaries, it doesn't matter.\n\n205\n00:10:17.690 --> 00:10:20.510\nNow because the secondaries are read-only,\nI can query it.\n\n206\n00:10:20.510 --> 00:10:23.160\nHe can respond to queries,\nhe can look things up.\n\n207\n00:10:23.160 --> 00:10:25.845\nBut he won't be able to\nchange any existing records.\n\n208\n00:10:25.845 --> 00:10:28.285\nAnd you won't be able to\ncreate any new records.\n\n209\n00:10:28.285 --> 00:10:31.145\nAnd the secondary needs to know\nwhere to get the information from.\n\n210\n00:10:31.145 --> 00:10:32.585\nCuz things are gonna change.\n\n211\n00:10:32.585 --> 00:10:36.000\nIP addresses change,\nnew records get created, what have you.\n\n212\n00:10:36.000 --> 00:10:39.525\nHe's gotta be kept up to date so\nhe can properly respond to queries.\n\n213\n00:10:39.525 --> 00:10:43.415\nThat means when we set up a secondary,\nwe have to give it a master.\n\n214\n00:10:43.415 --> 00:10:47.189\nWe have to point it to somebody\nto get the information from.\n\n215\n00:10:47.189 --> 00:10:51.770\nNow nine times out of ten, the master is\nthe primary, but it doesn't have to be.\n\n216\n00:10:51.770 --> 00:10:55.480\nI don't want you to confuse primary and\nmaster, right?\n\n217\n00:10:55.480 --> 00:11:01.510\nI could definitely set this up to\nwhere this server used this guy\n\n218\n00:11:01.510 --> 00:11:04.110\nas his master, all right?\n\n219\n00:11:04.110 --> 00:11:07.035\nBecause it doesn't matter\nwhere he's getting it from,\n\n220\n00:11:07.035 --> 00:11:08.830\nit doesn't have to be a writable copy.\n\n221\n00:11:08.830 --> 00:11:10.540\nHe just needs the information.\n\n222\n00:11:10.540 --> 00:11:12.950\nThe downside of doing it this way, though,\n\n223\n00:11:12.950 --> 00:11:17.760\nis the time it takes to propagate a\nchange, what we call the convergence time.\n\n224\n00:11:17.760 --> 00:11:21.080\nIf I make a new record here, it would\nfirst have to replicate out to this\n\n225\n00:11:21.080 --> 00:11:25.050\nsecondary, and then eventually it would\nreplicate over to this secondary here.\n\n226\n00:11:25.050 --> 00:11:27.700\nWhich means it took a little\nwhile to get that information out\n\n227\n00:11:27.700 --> 00:11:29.920\nto this third DNS server.\n\n228\n00:11:29.920 --> 00:11:35.160\nWhereas when I had it set up in\nthis manner, all right, I make\n\n229\n00:11:35.160 --> 00:11:39.810\na change here at the primary, and it could\nreplicate out to both secondaries there.\n\n230\n00:11:39.810 --> 00:11:43.370\nSo, typically, you see a hub and\nspoke type set up with your primary and\n\n231\n00:11:43.370 --> 00:11:44.220\nsecondaries.\n\n232\n00:11:44.220 --> 00:11:46.050\nJust understand that\nit doesn't have to be.\n\n233\n00:11:46.050 --> 00:11:49.090\nMaster and primary are not the same thing.\n\n234\n00:11:49.090 --> 00:11:51.970\nMaster is who the secondary\ngets its information from,\n\n235\n00:11:51.970 --> 00:11:55.160\nprimary is the read-write\ncopy of that DNS zone.\n\n236\n00:11:56.800 --> 00:11:59.420\nAll right, so we've got primaries,\nwe've got secondaries,\n\n237\n00:11:59.420 --> 00:12:02.950\nand this is the way we did it for\na long time until they\n\n238\n00:12:02.950 --> 00:12:07.402\ncame out with something called\nActive Directory-integrated zones.\n\n239\n00:12:07.402 --> 00:12:10.330\nActive Directory-integrated zones, again,\nit's another one of those things where if\n\n240\n00:12:10.330 --> 00:12:14.360\nwe stop and think about it,\nthe name kinda indicates a lot.\n\n241\n00:12:14.360 --> 00:12:20.050\nWe're gonna take the DNS information and\nintegrate it with Active Directory.\n\n242\n00:12:20.050 --> 00:12:21.662\nIf we have a domain controller,\n\n243\n00:12:21.662 --> 00:12:25.736\nthe domain controller has the Active\nDirectory database on it already, right?\n\n244\n00:12:25.736 --> 00:12:29.334\nThat's where it stores all the computers,\nand users, and groups, and printers, and\n\n245\n00:12:29.334 --> 00:12:31.430\nall that good stuff stored in there.\n\n246\n00:12:31.430 --> 00:12:35.720\nIf I go install DNS on that server,\nI could tell it hey,\n\n247\n00:12:35.720 --> 00:12:37.400\ndon't make a separate zone file.\n\n248\n00:12:37.400 --> 00:12:39.950\nDon't create a separate database for\nthe DNS info.\n\n249\n00:12:39.950 --> 00:12:43.875\nJust create an additional partition\nin the Active Directory database,\n\n250\n00:12:43.875 --> 00:12:45.688\nand put all the DNS info in there.\n\n251\n00:12:45.688 --> 00:12:48.807\nAnd that's what I've indicated\nwith this little red part up here.\n\n252\n00:12:48.807 --> 00:12:52.905\nThat would be\nan Active Directory-integrated DNS zone.\n\n253\n00:12:52.905 --> 00:12:57.676\nAnd there are several advantages of\ndoing Active Directory-integrated DNS.\n\n254\n00:12:57.676 --> 00:13:01.549\nFirst of all, when these standard\nzones replicate with each other,\n\n255\n00:13:01.549 --> 00:13:04.180\nthis data is not encrypted, all right?\n\n256\n00:13:04.180 --> 00:13:07.770\nAnd if you think about it,\nthe DNS is a map to your network.\n\n257\n00:13:07.770 --> 00:13:11.587\nIt's every machine's name and\nIP address, all of the services,\n\n258\n00:13:11.587 --> 00:13:16.292\nwhich computers are our mail servers,\nwhich computers are domain controllers,\n\n259\n00:13:16.292 --> 00:13:18.287\nwhich computers are DNS servers.\n\n260\n00:13:18.287 --> 00:13:22.984\nAll of that's in there, and to a bad guy,\nthat's a great map to your network.\n\n261\n00:13:22.984 --> 00:13:26.784\nBut there's no way built into\nDNS to encrypt this traffic, and\n\n262\n00:13:26.784 --> 00:13:28.373\nthat's not a good thing.\n\n263\n00:13:28.373 --> 00:13:33.245\nIt means anybody with a network capturer,\nlike WireShark, or something like that,\n\n264\n00:13:33.245 --> 00:13:37.060\ncould pick that information up and\nhave access to it.\n\n265\n00:13:37.060 --> 00:13:40.360\nActive Directory,\nif I do Active Directory-integrated,\n\n266\n00:13:40.360 --> 00:13:43.560\nwell Active Directory replication\nis encrypted already.\n\n267\n00:13:43.560 --> 00:13:45.660\nSo when I shove the DNS info in there,\n\n268\n00:13:45.660 --> 00:13:49.610\nit replicates along with Active Directory,\nand now it's encrypted as well.\n\n269\n00:13:49.610 --> 00:13:52.180\nSo I don't have to worry about an extra\nstep of trying to figure out how to\n\n270\n00:13:52.180 --> 00:13:57.500\nprotect that traffic as it's traveling\nacross the network, all right?\n\n271\n00:13:57.500 --> 00:13:59.200\nOther advantages with this,\n\n272\n00:13:59.200 --> 00:14:02.468\nActive Directory sets up its\nown replication topology.\n\n273\n00:14:02.468 --> 00:14:06.475\nSo I don't have to worry about setting up\nthe secondary, and the primary, and that\n\n274\n00:14:06.475 --> 00:14:10.450\nhub and spoke, and trying to eliminate\nsome of that convergence time there.\n\n275\n00:14:10.450 --> 00:14:14.919\nActive Directory sets up its own\nreplication topology, it uses the KCC,\n\n276\n00:14:14.919 --> 00:14:20.126\nthe Knowledge Consistency Checker, and\nit creates its own replications topology.\n\n277\n00:14:20.126 --> 00:14:22.584\nAnd now I'm just gonna take\nadvantage of that for DNS,\n\n278\n00:14:22.584 --> 00:14:24.623\nso it's one less thing\nI have to worry about.\n\n279\n00:14:24.623 --> 00:14:27.215\nIt's also one less replication topology,\nright?\n\n280\n00:14:27.215 --> 00:14:30.975\nIf I was doing standard, I'd have my\nActive Directory replication going across\n\n281\n00:14:30.975 --> 00:14:35.135\nthe network, plus I'd have a separate\ntopology for my DNS replication.\n\n282\n00:14:35.135 --> 00:14:39.142\nNow it's all tied together, I've got\none replication topology to deal with.\n\n283\n00:14:39.142 --> 00:14:42.462\nThird advantage, and I mean it\njust keeps going and going, right?\n\n284\n00:14:42.462 --> 00:14:45.143\nYou can do secure-only dynamic updates.\n\n285\n00:14:45.143 --> 00:14:48.671\nThe dynamic update is when we allow\nthe machines to create their own\n\n286\n00:14:48.671 --> 00:14:49.554\nrecords in DNS.\n\n287\n00:14:49.554 --> 00:14:53.055\nEvery time I get a new machine, or\na machine's IP address changes,\n\n288\n00:14:53.055 --> 00:14:56.866\ngotta make sure that the information\nin that DNS database is up to date, or\n\n289\n00:14:56.866 --> 00:14:58.167\na new record is created.\n\n290\n00:14:58.167 --> 00:15:01.962\nI don't wanna have to do that manually,\nso we allow dynamic updates.\n\n291\n00:15:01.962 --> 00:15:04.861\nWith standard primaries I can\nallow dynamic updates, but\n\n292\n00:15:04.861 --> 00:15:07.770\nanybody can connect to the DNS server and\ncreate a record.\n\n293\n00:15:07.770 --> 00:15:11.820\nThat includes vendors that come visit\nyour network, includes bad guys.\n\n294\n00:15:11.820 --> 00:15:15.720\nWith Active Directory-integrated,\nI can specify secure-only dynamic updates.\n\n295\n00:15:15.720 --> 00:15:18.450\nThat means the machines are gonna\nhave to be trusted in order for\n\n296\n00:15:18.450 --> 00:15:21.580\nthem to create a new record in DNS.\n\n297\n00:15:22.990 --> 00:15:27.049\nAnother advantage to these guys, I was\ntrying to think, multiple writable copies.\n\n298\n00:15:28.130 --> 00:15:33.370\nWhen we look at standard, I got one\nwritable copy of that DNS zone file.\n\n299\n00:15:33.370 --> 00:15:38.510\nIf this guy goes down,\nthe others can still respond to queries,\n\n300\n00:15:38.510 --> 00:15:41.940\nbut I won't be able to make any changes\nuntil the primary gets back up.\n\n301\n00:15:41.940 --> 00:15:45.852\nBecause Active Directory uses\nmulti-master replication, and\n\n302\n00:15:45.852 --> 00:15:50.486\nall copies are writable, now with my DNS,\nall of these copies are writable.\n\n303\n00:15:50.486 --> 00:15:53.129\nSo if one of these domain\ncontrollers is unavailable,\n\n304\n00:15:53.129 --> 00:15:55.431\nthe other one can still\nbe used to make changes.\n\n305\n00:15:55.431 --> 00:16:00.924\nSo several advantages of using\nActive Directory-integrated zones.\n\n306\n00:16:00.924 --> 00:16:03.504\nAll right,\nlet's go back over to my server here and\n\n307\n00:16:03.504 --> 00:16:06.140\nwe'll continue on with our wizard.\n\n308\n00:16:06.140 --> 00:16:07.750\nSo I'm gonna go ahead and\njust create a standard primary.\n\n309\n00:16:07.750 --> 00:16:09.880\nNotice Active Directory\nintegrated is grayed out.\n\n310\n00:16:09.880 --> 00:16:11.230\nAny guesses, as to why Daniel?\n\n311\n00:16:11.230 --> 00:16:13.920\n>> I'm guessing, it's because we don't\nhave the Active Directory Services\n\n312\n00:16:13.920 --> 00:16:16.180\ninstalled on this actual server.\n\n313\n00:16:16.180 --> 00:16:17.680\nIf it's not there, it's gonna say,\n\n314\n00:16:17.680 --> 00:16:21.880\nhey, well I can't really integrate with\nan active directory that doesn't exist.\n\n315\n00:16:21.880 --> 00:16:25.200\nSo I'm just gonna go ahead and remove\nthat as an option for you in the wizard.\n\n316\n00:16:25.200 --> 00:16:27.010\nWhich is so eloquently there for\nus right here.\n\n317\n00:16:27.010 --> 00:16:30.685\nAnd that's a good way to verify,\nwhether or not you actually installed\n\n318\n00:16:31.685 --> 00:16:34.705\nyour Active Directory Services correctly,\nit makes that easy.\n\n319\n00:16:34.705 --> 00:16:37.375\n>> Absolutely, so\nif you're not a domain controller,\n\n320\n00:16:37.375 --> 00:16:40.085\nyou can't very well integrate with\nthe Active Directory, that's right.\n\n321\n00:16:40.085 --> 00:16:42.810\nSo we'll do a standard primary,\nI'll go ahead and click Next.\n\n322\n00:16:42.810 --> 00:16:47.001\nAnd I'm gonna give it a name,\nwe'll call it something like contoso.com.\n\n323\n00:16:47.001 --> 00:16:51.100\nI'll click Next, and because it's\nnot active directory integrated,\n\n324\n00:16:51.100 --> 00:16:55.340\nit's gonna create that zone file,\nit's gonna call it contoso.com.dns.\n\n325\n00:16:55.340 --> 00:16:58.680\nI'll click Next, and notice secure only.\n\n326\n00:16:58.680 --> 00:17:01.340\nIs grayed out, because it is not\nactive directory integrated.\n\n327\n00:17:01.340 --> 00:17:06.060\nSo I'll say, do not allow dynamic\nupdates just for this lab environment.\n\n328\n00:17:06.060 --> 00:17:09.380\nI'll click next, and then finish.\n\n329\n00:17:09.380 --> 00:17:13.000\nAnd I now have a new zone file for\ncontoso.com.\n\n330\n00:17:13.000 --> 00:17:15.280\nAnd now, I can start creating records or\n\n331\n00:17:15.280 --> 00:17:18.800\nif I was allowing dynamic updates\nthey could be created automatically.\n\n332\n00:17:18.800 --> 00:17:22.110\nWe would be able to, that sign is\nthe inner server to our clients and\n\n333\n00:17:22.110 --> 00:17:25.490\nthey could start using it.\n\n334\n00:17:25.490 --> 00:17:26.670\nLets see what are we got next here.\n\n335\n00:17:26.670 --> 00:17:29.610\nDaniel, I talked about the zones,\n\n336\n00:17:29.610 --> 00:17:33.290\nlets talk about the records that\nexist inside this database next.\n\n337\n00:17:33.290 --> 00:17:36.500\nYou notice I just created the zone, right?\n\n338\n00:17:36.500 --> 00:17:38.900\nAnd there is already information in here.\n\n339\n00:17:38.900 --> 00:17:42.680\nThe first thing that gets created,\nany time you create a zone file\n\n340\n00:17:42.680 --> 00:17:46.960\nis what's called the start of\nauthority of the SOA for short.\n\n341\n00:17:46.960 --> 00:17:48.200\nAnd it's a special record.\n\n342\n00:17:48.200 --> 00:17:49.160\nWhen I double click on it,\n\n343\n00:17:49.160 --> 00:17:52.710\nIt actually pulls up\nthe properties of the zone itself.\n\n344\n00:17:52.710 --> 00:17:57.350\nI could've got there by right clicking on\nthe zone, and choosing properties, and\n\n345\n00:17:57.350 --> 00:17:58.930\nthen clicking on start of authority.\n\n346\n00:17:58.930 --> 00:18:01.150\nSame record, all right.\n\n347\n00:18:01.150 --> 00:18:03.500\nOn here,\nwe've got things like the serial number,\n\n348\n00:18:03.500 --> 00:18:07.740\nthis is what DNS servers use when\nthey replicate with each other.\n\n349\n00:18:07.740 --> 00:18:10.320\nOne DNS server,\nevery time a change occurs,\n\n350\n00:18:10.320 --> 00:18:12.340\nit'll increment that serial number.\n\n351\n00:18:12.340 --> 00:18:15.610\nAnd when they go to replicate,\nthey can compare serial numbers.\n\n352\n00:18:15.610 --> 00:18:18.040\nAnd if one servers serial number\nis higher than the other one,\n\n353\n00:18:18.040 --> 00:18:20.950\nit can say,\nyou've got some pages that I don't have.\n\n354\n00:18:20.950 --> 00:18:23.320\nWhy don't I go ahead and\nget a copy of that?\n\n355\n00:18:23.320 --> 00:18:26.519\nYou can see who the primary server is,\nfor this particular zone.\n\n356\n00:18:26.519 --> 00:18:31.520\nYou're supposed to change this to an email\naddress of somebody that I could contact,\n\n357\n00:18:31.520 --> 00:18:34.740\nif I was having trouble\nwith this DNS server.\n\n358\n00:18:34.740 --> 00:18:36.470\nGot my refresh interval.\n\n359\n00:18:36.470 --> 00:18:38.120\nWhen two DNS servers, like if we go back,\n\n360\n00:18:38.120 --> 00:18:40.510\nif we think about that standard\nprimary and secondary.\n\n361\n00:18:40.510 --> 00:18:44.830\nWell, that secondary has to get\nthose changes from that primary.\n\n362\n00:18:44.830 --> 00:18:48.910\nHe's gonna do that every 15 minutes,\nthat's what this refresh interval is for.\n\n363\n00:18:48.910 --> 00:18:52.020\nEvery 15 minutes, he says hey,\nsend me a copy of your SOA.\n\n364\n00:18:52.020 --> 00:18:54.942\nAnd he looks at the SOA and\nhe compares it and he says, okay,\n\n365\n00:18:54.942 --> 00:18:57.585\nyou just sent me your SOA,\nthe serial number is 15.\n\n366\n00:18:57.585 --> 00:19:01.950\nThe last time we talked 15 minutes ago,\nthe serial number was 13.\n\n367\n00:19:01.950 --> 00:19:05.435\nThere must have been some changes since\nwe talked, let's replicate, right?\n\n368\n00:19:05.435 --> 00:19:06.490\nSo that's how he knows.\n\n369\n00:19:06.490 --> 00:19:08.920\nAnd he does that every 15 minutes.\n\n370\n00:19:08.920 --> 00:19:14.370\nNow if the master is unavailable, he'll\ntry again in 10 minutes, and he'll keep\n\n371\n00:19:14.370 --> 00:19:18.990\ntrying every 10 minutes until he connects\nwith his master, and he can replicate.\n\n372\n00:19:18.990 --> 00:19:23.475\nThe expires after, if he continues on\nevery 10 minutes, for in this case\n\n373\n00:19:23.475 --> 00:19:28.290\n24 hours and that's the default, and\nhe still can't talk to his master.\n\n374\n00:19:28.290 --> 00:19:29.880\nHe's gonna stop responding to queries.\n\n375\n00:19:29.880 --> 00:19:32.280\nHe's gonna say, hey look,\nmy data is expired.\n\n376\n00:19:32.280 --> 00:19:35.130\nI haven't been able to talk\nto my master in 24 hours,\n\n377\n00:19:35.130 --> 00:19:36.410\nI can't trust this data anymore.\n\n378\n00:19:36.410 --> 00:19:39.800\nI don't know if it's still good,\nI'm just gonna stop responding to queries.\n\n379\n00:19:39.800 --> 00:19:42.190\nSo that's what that expired after does.\n\n380\n00:19:42.190 --> 00:19:43.574\nAnd then the TTL's the time to live.\n\n381\n00:19:43.574 --> 00:19:47.051\nWe'll talk a little bit about more\nabout that in our next episode,\n\n382\n00:19:47.051 --> 00:19:49.051\nwhen we start talking about hashing.\n\n383\n00:19:49.051 --> 00:19:52.770\nAll right, so that's the SOA.\n\n384\n00:19:52.770 --> 00:19:55.420\nThere's also an NS record and\nthere are several\n\n385\n00:19:55.420 --> 00:19:58.760\ntypes of records that we're gonna\nfind in his own file like this.\n\n386\n00:19:58.760 --> 00:20:01.580\nI'm going to go ahead and\ncreate a new record.\n\n387\n00:20:01.580 --> 00:20:04.780\nSo we can go new host, A or quad A.\n\n388\n00:20:04.780 --> 00:20:07.520\nThere are,\nlet's list some of these out for them.\n\n389\n00:20:07.520 --> 00:20:09.180\nI know there's A records.\n\n390\n00:20:09.180 --> 00:20:11.130\nThese are gonna be host records.\n\n391\n00:20:11.130 --> 00:20:14.970\nAnd these are a primary resource\nrecord type, when it comes to IPv4.\n\n392\n00:20:14.970 --> 00:20:19.120\nThey map fully qualified domain\nnames into IPv4 addresses.\n\n393\n00:20:19.120 --> 00:20:24.146\nSo if I put in here client 20,\n\n394\n00:20:24.146 --> 00:20:28.640\nI could type and\nmy two is just not functioning today.\n\n395\n00:20:28.640 --> 00:20:29.815\n>> It's that 20 starts with two, Mike.\n\n396\n00:20:29.815 --> 00:20:31.542\n[LAUGH]\n>> Yeah, doesn't it?\n\n397\n00:20:31.542 --> 00:20:34.560\nAnd then I can put, and notice it fills\nin the fully qualified domain name,\n\n398\n00:20:34.560 --> 00:20:37.190\nbecause I'm making it insidecontesto.com.\n\n399\n00:20:37.190 --> 00:20:41.290\nIt assumes that .contoso.com, and\nthere's that dot I talked about in\n\n400\n00:20:41.290 --> 00:20:44.230\nthe previous episode that represents\nthe root, after the word com.\n\n401\n00:20:44.230 --> 00:20:47.868\nAnd then for the IP address,\nmaybe I'll put in, I don't know,\n\n402\n00:20:47.868 --> 00:20:53.260\n10.2.3.4, and I'll click Add Host,\nand I'll click OK.\n\n403\n00:20:53.260 --> 00:20:54.530\nAnd done.\n\n404\n00:20:54.530 --> 00:21:00.030\nSo that's an A record, maps host fully\nqualified domain names to IPv4 addresses.\n\n405\n00:21:00.030 --> 00:21:03.470\nThere's also quad-A records,\nthat's for IPv6.\n\n406\n00:21:03.470 --> 00:21:08.985\nMaps fully qualified domain names,\nFQDN to IPv6 addresses.\n\n407\n00:21:08.985 --> 00:21:12.375\nThere are NS records to\nfind your name servers.\n\n408\n00:21:12.375 --> 00:21:17.115\nThere's MX records to find your mail\nservers or mail exchanger records.\n\n409\n00:21:17.115 --> 00:21:21.684\nThere's, what else, we got SRV records,\nwhich allow you to find services.\n\n410\n00:21:21.684 --> 00:21:25.490\nGosh, I'm trying to think\nof what else is there.\n\n411\n00:21:25.490 --> 00:21:27.100\n>> The pointer records.\n\n412\n00:21:27.100 --> 00:21:27.610\n>> PTR records, yeah.\n\n413\n00:21:27.610 --> 00:21:29.870\nYou can find those in\nyour reverse lookup zone.\n\n414\n00:21:29.870 --> 00:21:33.530\nMap that IP address,\nback to a fully qualified domain name.\n\n415\n00:21:34.570 --> 00:21:36.660\nSo lots of different types of,\nand that's just a small list.\n\n416\n00:21:36.660 --> 00:21:39.050\nThere's other types of records\nthat we'll find in here.\n\n417\n00:21:40.570 --> 00:21:44.580\nAll right, so let's take a look now,\nlet's see if all of this is working.\n\n418\n00:21:44.580 --> 00:21:46.470\nWe're going to test some of this out.\n\n419\n00:21:47.930 --> 00:21:48.980\nShoot, actually you know what?\n\n420\n00:21:48.980 --> 00:21:52.850\nI take that back, let's do this,\nlet's flip back over to DC1, and\n\n421\n00:21:52.850 --> 00:21:56.120\nwake this guy up, and let's do\nan Active Directory integrated zone.\n\n422\n00:21:58.500 --> 00:22:00.050\nI'll log back in here.\n\n423\n00:22:00.050 --> 00:22:02.306\nAnd I'm gonna open up my DNS console.\n\n424\n00:22:06.454 --> 00:22:09.620\nAnd I'll make a new forward lookup zone.\n\n425\n00:22:09.620 --> 00:22:10.560\nSo I'll right click new.\n\n426\n00:22:12.610 --> 00:22:16.560\nI'll click next on my wizard,\nbecause this is a domain controller.\n\n427\n00:22:16.560 --> 00:22:19.850\nNotice, I have the option to\nstore this in active directory.\n\n428\n00:22:19.850 --> 00:22:21.430\nSo, I'll click primary and\n\n429\n00:22:21.430 --> 00:22:23.680\nactive directory integrated and\nthat is also the default.\n\n430\n00:22:24.810 --> 00:22:27.010\nWhen I choose Active Directory integrated,\n\n431\n00:22:27.010 --> 00:22:29.700\nI also have to decide who\nI wanna replicate this to.\n\n432\n00:22:29.700 --> 00:22:33.420\nWhat other domain controllers are gonna\nget a copy of this zone, right.\n\n433\n00:22:33.420 --> 00:22:36.460\nCuz the Active Directory database\nis already replicating those\n\n434\n00:22:36.460 --> 00:22:37.160\ndomain controllers.\n\n435\n00:22:38.200 --> 00:22:41.400\nIf you watch the Active Directory class,\nsome of the partitions replicate to\n\n436\n00:22:41.400 --> 00:22:44.660\nall domain controllers in the forest,\nother partitions replicate to all domain\n\n437\n00:22:44.660 --> 00:22:47.520\ncontrollers in the domain and\nthat's kind of what we're choosing here.\n\n438\n00:22:47.520 --> 00:22:51.090\nDo I wanna go to all DNS servers running\non domain controllers in the forest,\n\n439\n00:22:51.090 --> 00:22:54.030\nall DNS servers that are running on\ndomain controllers in the domain, and\n\n440\n00:22:54.030 --> 00:22:57.240\nthere's a pre-Windows 2000 compatibility\nthat says all domain controllers,\n\n441\n00:22:57.240 --> 00:22:59.390\nwhether they're running in DNS or not.\n\n442\n00:22:59.390 --> 00:23:01.460\nI'm gonna just leave it on domain\ncontrollers for the domain.\n\n443\n00:23:01.460 --> 00:23:02.220\nI'll click next.\n\n444\n00:23:03.640 --> 00:23:08.058\nI've gotta give it a name, and\nI'll call it something like Fabricam.com.\n\n445\n00:23:08.058 --> 00:23:10.670\nI'll click next.\n\n446\n00:23:10.670 --> 00:23:16.380\nNow I can do the secure only dynamic\nupdates, I'll click next, and finish and\n\n447\n00:23:16.380 --> 00:23:20.950\nI now have a new zone for fabricam.com.\n\n448\n00:23:20.950 --> 00:23:24.390\nI got my SOA, cuz that's always\nthe first thing that gets created\n\n449\n00:23:24.390 --> 00:23:26.900\nany time you create a new zone.\n\n450\n00:23:26.900 --> 00:23:30.970\nAnd I'll make a dummy record in here,\nlet's do a new host.\n\n451\n00:23:30.970 --> 00:23:35.595\nAnd I'll say SVR23 is gonna be at 10.\n\n452\n00:23:35.595 --> 00:23:38.640\n3.4.5 or something goofy like that.\n\n453\n00:23:38.640 --> 00:23:41.158\nAdd host, OK, and done.\n\n454\n00:23:41.158 --> 00:23:44.440\nAll right, so that's\nan Active Directory integrated zone.\n\n455\n00:23:45.450 --> 00:23:49.627\nAnd if I switch over to my\nother domain controller,\n\n456\n00:23:49.627 --> 00:23:54.012\nwho's also running DNS,\nwe'll wake him up as well.\n\n457\n00:23:57.858 --> 00:24:02.430\nWe're gonna go tools, and then DNS.\n\n458\n00:24:02.430 --> 00:24:04.319\nWell, let's see if we've got it yet.\n\n459\n00:24:04.319 --> 00:24:08.750\nWe'll expand that out and expand out\nForward Lookup Zones, and sure enough.\n\n460\n00:24:08.750 --> 00:24:10.900\nThere it is by zone, from fabricam.com.\n\n461\n00:24:10.900 --> 00:24:13.460\nSo, you can see, it's already replicated\n\n462\n00:24:13.460 --> 00:24:16.010\nto the other domain\ncontrollers in my domain.\n\n463\n00:24:16.010 --> 00:24:19.220\nThere's that new record\nthat I just created.\n\n464\n00:24:19.220 --> 00:24:21.620\nThat created an NS record\ninstead of an A record?\n\n465\n00:24:21.620 --> 00:24:22.120\nInteresting.\n\n466\n00:24:24.350 --> 00:24:25.570\nSo there we go.\n\n467\n00:24:25.570 --> 00:24:27.990\nThat's active directory integrator.\n\n468\n00:24:27.990 --> 00:24:32.590\nWe don't have to set up the primary and\nthe mast or anything like that.\n\n469\n00:24:32.590 --> 00:24:33.470\nWe're good to go.\n\n470\n00:24:33.470 --> 00:24:35.610\nAnd I guess one more thing we should do,\nDaniel.\n\n471\n00:24:35.610 --> 00:24:38.100\nI should set up a secondary zone.\n\n472\n00:24:38.100 --> 00:24:39.140\nSo lets do that as well.\n\n473\n00:24:39.140 --> 00:24:39.930\nI'm going to right-click here.\n\n474\n00:24:39.930 --> 00:24:44.060\nRemember on that one server that was not\nrunning active directory I've got that\n\n475\n00:24:44.060 --> 00:24:48.410\nzone for contoso.com, but it was\na standard primary and he's the only one\n\n476\n00:24:48.410 --> 00:24:52.390\nthat's there so if it goes down I won't be\nable to resolve those contoso.com names.\n\n477\n00:24:52.390 --> 00:24:55.110\nSo I'm gonna create a secondary\nzone to provide some fall tones.\n\n478\n00:24:55.110 --> 00:24:55.970\nSo I'll go new zone.\n\n479\n00:24:58.220 --> 00:25:00.940\nAnd I'll click next and\nI'm gonna do a secondary.\n\n480\n00:25:00.940 --> 00:25:02.320\nAll right?\n\n481\n00:25:02.320 --> 00:25:05.230\nAnd I'm not gonna score, in fact you can't\nscore secondaries in active directory,\n\n482\n00:25:05.230 --> 00:25:06.820\nyou can't set up a read only.\n\n483\n00:25:06.820 --> 00:25:10.230\nBut I'm gonna show you, just because\nthis guys running active directory\n\n484\n00:25:10.230 --> 00:25:13.580\ndoesn't mean I have to do active\ndirectory integrated, all right.\n\n485\n00:25:13.580 --> 00:25:16.730\nI can do a primary and\nnot do Active Directory integrated.\n\n486\n00:25:16.730 --> 00:25:22.892\nI'm gonna do a secondary, I'll click next,\nand the zone name is contoso.com.\n\n487\n00:25:22.892 --> 00:25:27.070\nThen I'll click next, and\nthen it needs to know who my master is.\n\n488\n00:25:27.070 --> 00:25:29.240\nAnd you know Daniel, it's the server two.\n\n489\n00:25:29.240 --> 00:25:30.465\nLet's see if I can get this right.\n\n490\n00:25:30.465 --> 00:25:31.910\n10.1.\n\n491\n00:25:31.910 --> 00:25:36.140\n1.202 I think.\n\n492\n00:25:36.140 --> 00:25:38.100\nWe'll see if that is correct.\n\n493\n00:25:38.100 --> 00:25:40.611\n>> If only DNS would tell us.\n\n494\n00:25:40.611 --> 00:25:41.470\n[LAUGH]\n>> I know right.\n\n495\n00:25:41.470 --> 00:25:46.540\nAnd it would if I waited long enough,\nit should resolve that name.\n\n496\n00:25:46.540 --> 00:25:48.860\nI'll just go ahead and\nclick next and finish.\n\n497\n00:25:48.860 --> 00:25:54.160\nAnd if I come over here I'll\nsee something's gone awry.\n\n498\n00:25:54.160 --> 00:25:57.110\nI did not get a copy of www.contoso.com.\n\n499\n00:25:57.110 --> 00:25:59.260\nAnd that's because with standard,\nprimary, and\n\n500\n00:25:59.260 --> 00:26:03.885\nsecondaries you have to give permissions.\n\n501\n00:26:03.885 --> 00:26:08.395\nIn other words, server two here,\nhas a copy of contoso.com.\n\n502\n00:26:08.395 --> 00:26:12.805\nServer one now wants to host the secondary\ncopy of that zone so it's reaching out to\n\n503\n00:26:12.805 --> 00:26:16.817\nserver two saying, hey give me\na copy of that zone to contoso.com.\n\n504\n00:26:16.817 --> 00:26:18.747\nWell who says you can\nhave a copy of it right?\n\n505\n00:26:18.747 --> 00:26:21.037\nI Just told you guys there's some\nsensitive information in there.\n\n506\n00:26:21.037 --> 00:26:21.767\nIt's a map.\n\n507\n00:26:21.767 --> 00:26:23.257\nIt's my entire network.\n\n508\n00:26:23.257 --> 00:26:24.677\nSo I have to give it permissions.\n\n509\n00:26:24.677 --> 00:26:28.575\nI have to right click on this zone and\npull up it's properties and\n\n510\n00:26:28.575 --> 00:26:32.759\ngo to the zone transfers tab and\nby default it should say, actually,\n\n511\n00:26:32.759 --> 00:26:34.948\nI don't know why that's checked.\n\n512\n00:26:34.948 --> 00:26:37.228\nUsually by default that\nshould say nothing.\n\n513\n00:26:37.228 --> 00:26:39.208\nNo zone transfers are gonna be allowed.\n\n514\n00:26:39.208 --> 00:26:43.998\nI'll come over here and choose allow zone\ntransfers and I'll say only the following.\n\n515\n00:26:43.998 --> 00:26:44.638\nI'll click edit.\n\n516\n00:26:45.788 --> 00:26:49.054\nI'll type in that IP address 10.1.1.201.\n\n517\n00:26:50.180 --> 00:26:56.580\nAll right, so I've told it that 10.1.1.201\nis allowed to ask for a zone transfer.\n\n518\n00:26:56.580 --> 00:27:00.680\nSo now I've allowed that server to\nrequest a copy of the zone file.\n\n519\n00:27:00.680 --> 00:27:04.710\nI've switched back over to server one,\nand we'll try to refresh this zone.\n\n520\n00:27:06.590 --> 00:27:08.400\nAnd, we'll see what happens.\n\n521\n00:27:08.400 --> 00:27:11.610\nSometimes it can take it a minute\nto allow that to go through.\n\n522\n00:27:11.610 --> 00:27:13.400\nLooks like it has.\n\n523\n00:27:13.400 --> 00:27:14.230\nNot yet.\n\n524\n00:27:14.230 --> 00:27:18.050\nSo I'm going to choose\nto transfer from master.\n\n525\n00:27:18.050 --> 00:27:21.070\nDo a little refresh and there we go.\n\n526\n00:27:21.070 --> 00:27:23.370\nSo now I've got.\nNotice this is a read only copy.\n\n527\n00:27:23.370 --> 00:27:25.010\nMy new is gone.\n\n528\n00:27:25.010 --> 00:27:25.580\nAlright?\n\n529\n00:27:25.580 --> 00:27:29.310\nI can't make a new record if I try to\nopen up an existing record you see how\n\n530\n00:27:29.310 --> 00:27:30.130\neverything is grayed out.\n\n531\n00:27:30.130 --> 00:27:31.680\nI won't be able to make changes.\n\n532\n00:27:31.680 --> 00:27:33.770\nThis is a secondary zone.\n\n533\n00:27:33.770 --> 00:27:35.450\nIt's a read only copy of the zone file.\n\n534\n00:27:35.450 --> 00:27:38.670\nBut now I got some default tolerance for\nthat contoso.com zone.\n\n535\n00:27:38.670 --> 00:27:42.480\nIf server two that's hosting\nthe primary copy goes down,\n\n536\n00:27:42.480 --> 00:27:44.170\nserver one has a copy of it.\n\n537\n00:27:44.170 --> 00:27:47.460\nHe can still resolve names until\nI get that other server back up.\n\n538\n00:27:47.460 --> 00:27:51.690\nSo, a lot of different ways to set up DNS\njust depending on what we're trying to do.\n\n539\n00:27:51.690 --> 00:27:52.560\n>> Very cool stuff, Mike.\n\n540\n00:27:52.560 --> 00:27:53.760\nVery good information.\n\n541\n00:27:53.760 --> 00:27:58.235\nThis is definitely the stuff we need for\nthe exam, but it's also very practical.\n\n542\n00:27:58.235 --> 00:28:02.425\nThis is stuff that you are going to\nbe doing as a systems administrator\n\n543\n00:28:02.425 --> 00:28:04.195\nworking in a Windows Server environment,\n\n544\n00:28:04.195 --> 00:28:08.295\nit's a good thing, a good skill\nto have in the old trick bag for\n\n545\n00:28:08.295 --> 00:28:11.135\nwhen these kind of things,\nthese issues that will arise with them.\n\n546\n00:28:11.135 --> 00:28:15.495\nOr if you need to create a new DNS server,\nyou are now familiar with that type of\n\n547\n00:28:15.495 --> 00:28:19.700\ntechnology and the steps that are there\nthat need to be done to make that happen.\n\n548\n00:28:19.700 --> 00:28:22.570\nAll right, Mike.\nThat being said, I think that we've\n\n549\n00:28:22.570 --> 00:28:27.730\nmore fertilely opened up the flower,\nor whatever it is, that is DNS.\n\n550\n00:28:27.730 --> 00:28:32.010\nWe're not done, we have more DNS\nstuff coming up in a future episode.\n\n551\n00:28:32.010 --> 00:28:33.325\nCheck that one out as well.\n\n552\n00:28:33.325 --> 00:28:35.315\nFor this one.\nLooks like we've come to the end.\n\n553\n00:28:35.315 --> 00:28:38.765\nSo signing off for\nITProTV I've been your host, Daniel Lowry.\n\n554\n00:28:38.765 --> 00:28:39.755\n>> And I'm Mike Rodrick.\n\n555\n00:28:39.755 --> 00:28:40.645\n>> And we'll see you next time.\n\n556\n00:28:40.645 --> 00:28:46.450\n[MUSIC]\n\n",
          "vimeoId": "134089601"
        },
        {
          "description": "In this episode, Daniel and Mike demonstrate managing DNS. They demonstrate working with the DNS cache, configuring root hints, forwarders, and stub zones.",
          "length": "2064",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-12-3-Managing_dns-072015-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-12-3-Managing_dns-072015-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-12-3-Managing_dns-072015-1-sm.jpg",
          "title": "Managing DNS",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.843\n[MUSIC]\n\n2\n00:00:10.843 --> 00:00:14.587\n>> Greetings everyone and welcome to\nanother great episode of IT ITProTV,\n\n3\n00:00:14.587 --> 00:00:18.651\nI'll be your host Daniel Lawrey with me\ntoday is none other than Mike Rodrick.\n\n4\n00:00:18.651 --> 00:00:19.411\nHow's it going today, Mike?\n\n5\n00:00:19.411 --> 00:00:21.491\n>> It's going great Daniel,\ncuz I am excited.\n\n6\n00:00:21.491 --> 00:00:24.314\nWe are here talking about DNS.\n\n7\n00:00:24.314 --> 00:00:26.951\nWe're continuing on with DNS actually,\nwe've done a couple of episode.\n\n8\n00:00:26.951 --> 00:00:29.183\nSo if you missed those,\nmake sure you go back and check them out.\n\n9\n00:00:29.183 --> 00:00:33.502\nWe talked about the basics of DNS, getting\nyou comfortable with all the terminology,\n\n10\n00:00:33.502 --> 00:00:34.850\nthe way DNS works.\n\n11\n00:00:34.850 --> 00:00:39.536\nAnd then in our other episode,\nwe showed you how to get DNS installed.\n\n12\n00:00:39.536 --> 00:00:43.090\nGet it set up, get it working at least,\nget some zones created.\n\n13\n00:00:43.090 --> 00:00:47.073\nNow, I wanna talk about some\nmanagement that we have to do with DNS.\n\n14\n00:00:47.073 --> 00:00:49.584\nTrying to fine tune our\nDNS infrastructure,\n\n15\n00:00:49.584 --> 00:00:53.100\ntrying to make it work\na little more efficiently.\n\n16\n00:00:53.100 --> 00:00:55.390\nAnd the first thing we'll\ntalk about is the root hits.\n\n17\n00:00:55.390 --> 00:01:00.016\nRemember, in our first episode,\nwe showed you how DNS was a hierarchical\n\n18\n00:01:00.016 --> 00:01:04.939\ndistribute the database and that my DNS\nserver here at ITProTV, for example,\n\n19\n00:01:04.939 --> 00:01:09.564\nhas a zone file for itpro.tv and it has\nthe name and IP address mappings for\n\n20\n00:01:09.564 --> 00:01:12.650\nall the computers here on ITProTV network.\n\n21\n00:01:12.650 --> 00:01:16.512\nBut if I try to query for\nmicrosoft.com or newegg.com,\n\n22\n00:01:16.512 --> 00:01:19.901\nmy DNS server doesn't have\nhis own file for that.\n\n23\n00:01:19.901 --> 00:01:21.555\nHe's not authoritative.\n\n24\n00:01:21.555 --> 00:01:24.045\nSo he's gonna go out and\ntalk to the root servers.\n\n25\n00:01:24.045 --> 00:01:28.581\nThe very top of that DNS infrastructure\nand work his way down until he finds\n\n26\n00:01:28.581 --> 00:01:33.117\nthe microsoft.com DNS server, so\nhe can get that information I need, so\n\n27\n00:01:33.117 --> 00:01:36.511\nthat my browser can open\nup the www.microsoft.com.\n\n28\n00:01:36.511 --> 00:01:39.570\nSo the question is how the heck did it\nget to the root in the first place?\n\n29\n00:01:39.570 --> 00:01:41.580\nHow did he find the root to start?\n\n30\n00:01:41.580 --> 00:01:45.965\nBecause without that, if I can't get to\nthe top, I can't work my way down and\n\n31\n00:01:45.965 --> 00:01:49.420\nfind that authoritative server result and\nexternal names.\n\n32\n00:01:49.420 --> 00:01:56.201\nSo what we look at when we install DNS, we\nactually get a file called the root hints.\n\n33\n00:01:56.201 --> 00:02:01.841\nAnd on my screen here, I'll pull-up\nthe Properties of my DNS server and\n\n34\n00:02:01.841 --> 00:02:05.183\nI've got my Root Hints tab and\nthere we go.\n\n35\n00:02:05.183 --> 00:02:09.953\nThere's the IP address of those 13 root\nservers out there and this is what\n\n36\n00:02:09.953 --> 00:02:15.025\ngives my server the ability to resolve\nexternal names, then he doesn't know,\n\n37\n00:02:15.025 --> 00:02:19.358\nlike you can see over here on the left,\nI have a zone fabricam.com.\n\n38\n00:02:19.358 --> 00:02:24.013\nI have a zone for lab.net, but\nI don't have a zone for microsoft.com.\n\n39\n00:02:24.013 --> 00:02:28.067\nAnd so what he's gonna do is he's\ngonna use one of these root servers,\n\n40\n00:02:28.067 --> 00:02:29.371\ngo up at the very top and\n\n41\n00:02:29.371 --> 00:02:33.440\nwork his way down and find\nmicrosoft.com authoritative DNS server.\n\n42\n00:02:33.440 --> 00:02:35.152\nNow you could make changes to this.\n\n43\n00:02:35.152 --> 00:02:38.020\nI'll tell you that I never have,\nnever found the need to.\n\n44\n00:02:38.020 --> 00:02:39.715\nIt gets updated through Windows Update.\n\n45\n00:02:39.715 --> 00:02:40.844\nDaniel, have you ever got any?\n\n46\n00:02:40.844 --> 00:02:45.362\n>> I can't say that I've ever had a call\nto, actually update this like you said,\n\n47\n00:02:45.362 --> 00:02:47.495\nMicrosoft takes care of this for us.\n\n48\n00:02:47.495 --> 00:02:51.750\nIt's one of those nice features that\nthey just handle on the back side.\n\n49\n00:02:51.750 --> 00:02:54.120\nIt is nice that we do have\nthe ability to update it.\n\n50\n00:02:54.120 --> 00:02:57.783\nSo if maybe something ever got deleted\nto that effect and you needed to beat\n\n51\n00:02:57.783 --> 00:02:59.972\nMicrosoft's automation to the punch of-\n>> [LAUGH]\n\n52\n00:02:59.972 --> 00:03:01.430\n>> Getting all that stuff back in there,\n\n53\n00:03:01.430 --> 00:03:02.758\nyou can probably go back in there.\n\n54\n00:03:02.758 --> 00:03:04.495\nOr maybe you're just\nplaying around with it,\n\n55\n00:03:04.495 --> 00:03:07.358\nmaybe you're setting up your own root\nend server something to that effect.\n\n56\n00:03:07.358 --> 00:03:09.679\nBut normally in an every\nday business kind of thing,\n\n57\n00:03:09.679 --> 00:03:12.864\nI can't think of any reason you'd\nwant to play around with these guys.\n\n58\n00:03:12.864 --> 00:03:13.568\n>> Not at all.\n\n59\n00:03:13.568 --> 00:03:16.240\nIf you were really trying\nto prevent internet access.\n\n60\n00:03:16.240 --> 00:03:20.729\nIf you had a subnet or maybe your entire\ndomain that, didn't wanna go out in R and\n\n61\n00:03:20.729 --> 00:03:22.341\nd Department or something.\n\n62\n00:03:22.341 --> 00:03:24.250\nFor some reason,\nit just could not result, yet\n\n63\n00:03:24.250 --> 00:03:26.650\nyou didn't want to go out\nto the internet at all.\n\n64\n00:03:26.650 --> 00:03:28.562\nYou could host your own root zone.\n\n65\n00:03:28.562 --> 00:03:31.649\nYou would make a zone just like I\nshowed you in the other episode,\n\n66\n00:03:31.649 --> 00:03:32.870\nright-click new zone.\n\n67\n00:03:32.870 --> 00:03:34.617\nAnd instead of a name,\nyou just put a period.\n\n68\n00:03:34.617 --> 00:03:35.520\nA dot, that's all you do.\n\n69\n00:03:35.520 --> 00:03:37.360\nWell, that would represent the root.\n\n70\n00:03:37.360 --> 00:03:41.760\nAnd if your server thinks it's\nthe root,then it thinks it is the highest.\n\n71\n00:03:41.760 --> 00:03:44.758\nThere is nobody that knows any more\nthan it and it won't go at it.\n\n72\n00:03:44.758 --> 00:03:48.955\nSo you remove all these root hints, you\nsetup a root zone and you could in effect,\n\n73\n00:03:48.955 --> 00:03:52.690\nprevent all external name resolution,\nbut it's not real practical.\n\n74\n00:03:52.690 --> 00:03:55.847\nLike I said, certain high\nsecurity environments maybe, but\n\n75\n00:03:55.847 --> 00:03:58.772\nour users need access to\nexternal resources typically.\n\n76\n00:03:58.772 --> 00:04:00.460\nWebsites, other company's sites.\n\n77\n00:04:00.460 --> 00:04:01.125\n>> Yeah.\nNormally,\n\n78\n00:04:01.125 --> 00:04:03.682\npeople actually liken\ngetting into the internet,\n\n79\n00:04:03.682 --> 00:04:06.130\ncuz there's a lot of nice resources there.\n\n80\n00:04:06.130 --> 00:04:09.384\nSometimes you need to look something up,\nmaybe you wanna peruse a product.\n\n81\n00:04:09.384 --> 00:04:12.846\nWell, you need to be able to get to their\nwebsites, so that you can look at their\n\n82\n00:04:12.846 --> 00:04:15.850\nproduct information, pricing,\nthings of that nature.\n\n83\n00:04:15.850 --> 00:04:19.761\nMay be third party vendors that you\nalready work with that have a web portal.\n\n84\n00:04:19.761 --> 00:04:22.778\nThat's not on your local network,\nthat's on their local network and\n\n85\n00:04:22.778 --> 00:04:24.940\nyou're connected through the internet.\n\n86\n00:04:24.940 --> 00:04:29.811\nSo using root hints almost ubiquitously,\nall the time you're going to want that,\n\n87\n00:04:29.811 --> 00:04:32.398\nyou're gonna wanna keep those available.\n\n88\n00:04:32.398 --> 00:04:37.545\nAnd like Mike said, unless you're in some\nsort of crazy ultra secure environment,\n\n89\n00:04:37.545 --> 00:04:41.470\nwould you ever wanna disassociate\nyourself from the internet?\n\n90\n00:04:42.490 --> 00:04:43.345\n>> Exactly.\n\n91\n00:04:43.345 --> 00:04:46.053\nSo we got our root hints\ntaken care of again.\n\n92\n00:04:46.053 --> 00:04:48.782\nWe didn't really have to do\nanything when I installed DNS,\n\n93\n00:04:48.782 --> 00:04:50.481\nthere's a file called dns.cache.\n\n94\n00:04:50.481 --> 00:04:54.395\nIt's actually located in\nC:\\Windows\\System32\\dns and\n\n95\n00:04:54.395 --> 00:04:57.167\nthat's where the servers picking those up.\n\n96\n00:04:57.167 --> 00:05:00.434\nAnd as I said, Microsoft will update\nthat file through Windows updates,\n\n97\n00:05:00.434 --> 00:05:01.657\nif there's ever a change.\n\n98\n00:05:01.657 --> 00:05:04.530\nBut we do have the ability again,\nto manually edit that.\n\n99\n00:05:04.530 --> 00:05:06.792\nNext thing,\nI wanna talk about is forwarders.\n\n100\n00:05:06.792 --> 00:05:08.990\nAnother thing we talked about\nin the very first episode.\n\n101\n00:05:08.990 --> 00:05:10.161\nLet's refresh.\n\n102\n00:05:10.161 --> 00:05:13.590\nLet me go back over to our drawing here.\n\n103\n00:05:13.590 --> 00:05:17.234\nWhen we talked about forwarding, we were\nsaying, I'm gonna send a query to my\n\n104\n00:05:17.234 --> 00:05:20.343\nlocally configured DNS server and\nthen I'm gonna setup a folder.\n\n105\n00:05:20.343 --> 00:05:24.010\nI'm gonna tell my DNS server\nanything you don't know.\n\n106\n00:05:24.010 --> 00:05:26.550\nDon't go up to the root and\ntry to resolve it yourself.\n\n107\n00:05:26.550 --> 00:05:30.399\nJust forward it on to this other guy,\nlike this ISP's DNS server.\n\n108\n00:05:30.399 --> 00:05:32.780\nLet him go out and do all the work.\n\n109\n00:05:32.780 --> 00:05:36.604\nHe'll give you the answer back and then\nyou can return the answer to the client or\n\n110\n00:05:36.604 --> 00:05:40.312\nit might have been a thing, where I've\ngot multiple internal DNS servers and\n\n111\n00:05:40.312 --> 00:05:44.022\nI want the only one of my DNS servers\nthat's allowed to resolve external names\n\n112\n00:05:44.022 --> 00:05:45.071\nis this guy out here.\n\n113\n00:05:45.071 --> 00:05:48.382\nSo anything they don't know,\nanything other than itpro.tv,\n\n114\n00:05:48.382 --> 00:05:51.814\nthey just forward out to my external\nDNS server out there on my DMZ,\n\n115\n00:05:51.814 --> 00:05:54.720\nhe goes out there and does all the work.\n\n116\n00:05:54.720 --> 00:05:59.140\nBut either way,\nyou have got to configure these guys here.\n\n117\n00:05:59.140 --> 00:06:01.705\nThe internal DNS servers with\nthe IP address of this guy.\n\n118\n00:06:01.705 --> 00:06:03.245\nThey know where to send that query to.\n\n119\n00:06:03.245 --> 00:06:06.492\nOr in this case,\nI'd have to tell my DNS server,\n\n120\n00:06:06.492 --> 00:06:09.125\nthe IP address of my ISP's DNS server.\n\n121\n00:06:09.125 --> 00:06:11.029\nSo, I could forward it on to him and\n\n122\n00:06:11.029 --> 00:06:13.868\nthat's what we're doing\nhere in this situation.\n\n123\n00:06:13.868 --> 00:06:16.649\nSo back over to my DNS\nserver's Properties,\n\n124\n00:06:16.649 --> 00:06:21.275\nI'm gonna go to the Forwarders tab and\nI'll just click Edit.\n\n125\n00:06:21.275 --> 00:06:26.651\nAnd I'll type in, let's say,\nmy ISP is 8.8.8.8 and that's it.\n\n126\n00:06:26.651 --> 00:06:28.620\nNow these guys don't have external access.\n\n127\n00:06:28.620 --> 00:06:32.310\nThey don't have internet access, so this\nis gonna fail when it tries to resolve.\n\n128\n00:06:32.310 --> 00:06:35.808\nBut that's how you setup a Forwarder and\nyou can definitely setup more than one.\n\n129\n00:06:35.808 --> 00:06:42.020\nI can click and\ntype in another IP address, 4.2.2.1.\n\n130\n00:06:42.020 --> 00:06:46.640\nSo I could give in more that one\noption when it's forwarding that out.\n\n131\n00:06:46.640 --> 00:06:49.250\nNow the default setting.\n\n132\n00:06:49.250 --> 00:06:52.829\nIf I have decided to forward those queries\nout, anything my server does know,\n\n133\n00:06:52.829 --> 00:06:56.640\nI'm gonna forward it onto this other DNS\nserver, maybe like my ISP's DNS server.\n\n134\n00:06:56.640 --> 00:06:58.932\nWhat if my ISP's DNS\nserver isn't available?\n\n135\n00:06:58.932 --> 00:07:01.051\nWell, it'll still be\nable to resolve the name.\n\n136\n00:07:01.051 --> 00:07:06.443\nCuz by default, this use root hints if no\nforwarders are available will kick in.\n\n137\n00:07:06.443 --> 00:07:09.190\nSo, it's gonna try to\nforward it to this guy.\n\n138\n00:07:09.190 --> 00:07:11.527\nIf that doesn't work,\nit'll try to forward it to this guy.\n\n139\n00:07:11.527 --> 00:07:14.189\nIf that doesn't work,\nhe'll say, well all right,\n\n140\n00:07:14.189 --> 00:07:18.110\nI tried to pass the job to somebody else,\nbut nobody's helping me out.\n\n141\n00:07:18.110 --> 00:07:19.091\nI'll go do the work myself.\n\n142\n00:07:19.091 --> 00:07:22.470\nI'm gonna go up to the root and\nthen the .com and the microsoft.com and\n\n143\n00:07:22.470 --> 00:07:24.430\nI'll figure it out on my own.\n\n144\n00:07:24.430 --> 00:07:26.793\nIf you don't want that to happen,\n\n145\n00:07:26.793 --> 00:07:31.126\nlike in this situation where I've\ngot affording out to my ISP.\n\n146\n00:07:31.126 --> 00:07:35.490\nI might be doing this, cuz I just want\nthe bulk of the external name resolution.\n\n147\n00:07:35.490 --> 00:07:37.321\nI want that workload\npushed off onto this guy.\n\n148\n00:07:37.321 --> 00:07:40.450\nAll my clients when they're\nbrowsing the internet.\n\n149\n00:07:40.450 --> 00:07:45.014\nMy DNS server's having enough work just\ntrying to get everybody logged in.\n\n150\n00:07:45.014 --> 00:07:47.975\nResolving internal names and\nthings like that and so\n\n151\n00:07:47.975 --> 00:07:51.550\nI've forwarded all my external\nname resolutions out to here.\n\n152\n00:07:51.550 --> 00:07:55.184\nBut if he's not available, I still want my\nusers to be able to connect to internet\n\n153\n00:07:55.184 --> 00:07:57.170\nresources, so I would leave that checked.\n\n154\n00:07:57.170 --> 00:08:02.260\nIf the forwarder is unavailable, use your\nroute heads and resolve it yourself.\n\n155\n00:08:02.260 --> 00:08:03.586\nIn this scenario, though,\n\n156\n00:08:03.586 --> 00:08:06.250\nI don't want these guys going\nout to the Internet at all.\n\n157\n00:08:06.250 --> 00:08:08.837\nI don't want them resolving\nany external names,\n\n158\n00:08:08.837 --> 00:08:13.390\npotentially exposing some of my internal\nDNS information out to the Internet.\n\n159\n00:08:13.390 --> 00:08:17.755\nSo they're forwarding it on to my\nDNS server sitting in the DMZ, but\n\n160\n00:08:17.755 --> 00:08:21.545\nI'm gonna uncheck that check\nbar I'm gonna say, look,\n\n161\n00:08:21.545 --> 00:08:25.335\nif that forwarder's not out there,\nif you can't forward it out to him, sorry.\n\n162\n00:08:25.335 --> 00:08:28.465\nYou can't go out and\nresolve that name on your own.\n\n163\n00:08:28.465 --> 00:08:29.925\nI'll tell my users.\n\n164\n00:08:29.925 --> 00:08:31.035\nUntil that server gets back up,\n\n165\n00:08:31.035 --> 00:08:33.545\nyou're not gonna be able to\nresolve any external names.\n\n166\n00:08:33.545 --> 00:08:36.865\n>> Yeah, that would kinda defeat\nthe purpose of your DMZ server if\n\n167\n00:08:36.865 --> 00:08:39.390\nyou're all the sudden,\n>> going out into the internet with\n\n168\n00:08:39.390 --> 00:08:43.320\nservers that are internal, that\nare inside of the other side of that DMZ.\n\n169\n00:08:43.320 --> 00:08:47.510\nThat safe zone would then be gone, and\nyou're, like Mike said, exposing yourself.\n\n170\n00:08:47.510 --> 00:08:49.970\nVery dangerous practice, so\nshould uncheck that mark.\n\n171\n00:08:49.970 --> 00:08:51.070\n>> Absolutely.\n\n172\n00:08:51.070 --> 00:08:53.690\nAll right, so let's go ahead,\nI'm gonna go ahead and leave that set.\n\n173\n00:08:53.690 --> 00:08:57.640\nNow, the next thing I wanna show you,\nwe talked about conditional forwarding.\n\n174\n00:08:57.640 --> 00:09:00.630\nAnd let's refresh our\nmemory on that one as well.\n\n175\n00:09:00.630 --> 00:09:02.310\nSo I come over here to\nconditional forwarding.\n\n176\n00:09:03.430 --> 00:09:05.090\nRemember, I've got a client.\n\n177\n00:09:05.090 --> 00:09:08.450\nHe sends all his queries to my locally\nconfigured DNS server that has all\n\n178\n00:09:08.450 --> 00:09:13.030\nthe names and IP addresses of\nthe machines located on ITPro.TV.\n\n179\n00:09:13.030 --> 00:09:18.100\nAnything he doesn't know, he sends it to\nthe ISP, and lets the ISP do all the work.\n\n180\n00:09:18.100 --> 00:09:21.940\nIf you'd like to get to Microsoft, or\nNewegg, or Facebook, or what have you.\n\n181\n00:09:21.940 --> 00:09:24.120\nAnd he'll return the IP\naddress to my DNS server,\n\n182\n00:09:24.120 --> 00:09:27.110\nwho will then return it\nback down to that client.\n\n183\n00:09:27.110 --> 00:09:28.910\nBut what about Contoso?\n\n184\n00:09:28.910 --> 00:09:30.760\nWhat if I have a good\nworking relationship?\n\n185\n00:09:30.760 --> 00:09:34.260\nMaybe we have a tight business\nrelationship with contoso.com, and\n\n186\n00:09:34.260 --> 00:09:36.330\nI wanna speed the name\nresolution process up.\n\n187\n00:09:36.330 --> 00:09:38.740\nBecause anything I can do\nto make that faster, right?\n\n188\n00:09:38.740 --> 00:09:41.150\nMy users are trying to\nconnect to these resources.\n\n189\n00:09:41.150 --> 00:09:43.510\nIf I can speed that up,\nit's just a better experience.\n\n190\n00:09:43.510 --> 00:09:46.620\nWell, since I have a good working\nrelationship with Contoso,\n\n191\n00:09:46.620 --> 00:09:50.290\nI could call them up and say, hey,\nwhat's the IP address of your DNS server,\n\n192\n00:09:50.290 --> 00:09:53.730\nthey'd give that to me, and I can set\nup what we call conditional forwarding.\n\n193\n00:09:53.730 --> 00:09:59.580\nI could say look, anytime someone tries to\nresolve a name that ends in contoso.com,\n\n194\n00:09:59.580 --> 00:10:02.560\nhere's the IP address of\nthe authoritative DNS server.\n\n195\n00:10:02.560 --> 00:10:03.780\nForward it straight to them.\n\n196\n00:10:03.780 --> 00:10:07.610\nDon't worry about going to the root and\nthen the dot com and then contoso.com.\n\n197\n00:10:07.610 --> 00:10:11.110\nDon't worry about forwarding it out to\nthe ISP's DNS server and waiting for\n\n198\n00:10:11.110 --> 00:10:13.640\nhim to do all the work and\ngive you that answer back.\n\n199\n00:10:13.640 --> 00:10:15.030\nJust go straight to the horse's mouth.\n\n200\n00:10:15.030 --> 00:10:20.120\nGo right to contoso.com and get that\nIP address that you're looking for.\n\n201\n00:10:20.120 --> 00:10:22.290\nThat was that conditional forwarding.\n\n202\n00:10:22.290 --> 00:10:27.340\nTo set that up If ,I can remember\nhow to get back over to my virtuals,\n\n203\n00:10:27.340 --> 00:10:30.570\nwe're going to create\na conditional forwarded.\n\n204\n00:10:30.570 --> 00:10:32.790\nNow before I do this though,\nI want to take a look,\n\n205\n00:10:32.790 --> 00:10:35.080\nI want to show you guys\nthat it's actually working.\n\n206\n00:10:35.080 --> 00:10:36.170\nSo I'm gonna go over to my client,\n\n207\n00:10:36.170 --> 00:10:40.535\nremember Server Two, if you watch that\nprevious episode, we've got a zone for\n\n208\n00:10:40.535 --> 00:10:45.200\ncontoso.com and this is a standard\nprimary zone, all right.\n\n209\n00:10:45.200 --> 00:10:49.940\nMy client who has gone\nto sleep on me here.\n\n210\n00:10:51.030 --> 00:10:54.232\nI'll wake him up,\nshake like a, can't say that.\n\n211\n00:10:54.232 --> 00:10:57.660\n[LAUGH] We're going to wake him up.\n\n212\n00:10:57.660 --> 00:11:00.720\nAnd I'm going to,\nI'll show you his configuration here.\n\n213\n00:11:00.720 --> 00:11:01.470\nIP config.\n\n214\n00:11:02.930 --> 00:11:08.290\nSwitch all, and he's using 10.1.1.200,\n\n215\n00:11:08.290 --> 00:11:11.660\nthat was dc1, for his DNS server.\n\n216\n00:11:11.660 --> 00:11:16.335\nDC1 has no zones for contoso.com And\n\n217\n00:11:16.335 --> 00:11:20.865\nhe's got that folder out to my ISP,\nbut I don't have internet access.\n\n218\n00:11:20.865 --> 00:11:21.995\nSo that's not going to work either.\n\n219\n00:11:21.995 --> 00:11:23.845\nI'm not going to be able\nto use my root hits.\n\n220\n00:11:23.845 --> 00:11:26.205\nSo if I go back over to the client.\n\n221\n00:11:26.205 --> 00:11:26.845\nAll right.\n\n222\n00:11:26.845 --> 00:11:28.375\nAnd I do a little NS lookup.\n\n223\n00:11:30.225 --> 00:11:37.322\nAnd I try to resolve something\nlike client20.contoso.com.\n\n224\n00:11:37.322 --> 00:11:38.095\nRight.\n\n225\n00:11:38.095 --> 00:11:43.480\nTells me whom I'm using for DNS 1.1.200,\nand then my request times out.\n\n226\n00:11:43.480 --> 00:11:45.152\nDoesn't work at all.\n\n227\n00:11:45.152 --> 00:11:46.880\nAll right, so\nlet's see what happens if we do this.\n\n228\n00:11:46.880 --> 00:11:50.480\nI'm going to go to DC one, I'm going to\nright click on conditional forwarding,\n\n229\n00:11:50.480 --> 00:11:52.170\nchoose new conditional forward.\n\n230\n00:11:53.520 --> 00:11:59.300\nFor my DNS domain name, contoso.com,\n\n231\n00:11:59.300 --> 00:12:02.930\nand it will not work if you spell\nit incorrectly, so be warned.\n\n232\n00:12:02.930 --> 00:12:06.410\nAnd I'm gonna tell it hey if anybody\ntries to resolve a name that ends\n\n233\n00:12:06.410 --> 00:12:08.308\nin contoso.com,\n\n234\n00:12:08.308 --> 00:12:13.400\nsend it over to here, 10.1.1.202,\nthat's the name of that other DNS server.\n\n235\n00:12:13.400 --> 00:12:14.120\nRight?\n\n236\n00:12:14.120 --> 00:12:15.310\nI'll click okay.\n\n237\n00:12:15.310 --> 00:12:18.640\nI'll store an active directory, and\nthat way all of my active directory\n\n238\n00:12:18.640 --> 00:12:21.990\ndomain controllers slash DNS\nservers would have access.\n\n239\n00:12:21.990 --> 00:12:26.660\nOtherwise, you'd have to create that rule\non each one of your internal DNS servers.\n\n240\n00:12:26.660 --> 00:12:29.740\nI'll go and click okay on that,\nnow I've got a conditional query.\n\n241\n00:12:29.740 --> 00:12:33.900\nNow it knows the IP address of\nthe authoritative server for contoso.com.\n\n242\n00:12:33.900 --> 00:12:35.300\nSo, it shouldn't have\nto use its root heads,\n\n243\n00:12:35.300 --> 00:12:38.820\nit shouldn't forward it on, should be\nable to go straight to the horses mouth.\n\n244\n00:12:38.820 --> 00:12:40.470\nLet's see if that worked.\n\n245\n00:12:40.470 --> 00:12:43.830\nI'll go back over here, and\nI'm gonna do a couple things.\n\n246\n00:12:43.830 --> 00:12:47.730\nActually, you know what, before I do that,\nsince I changed a setting on my\n\n247\n00:12:47.730 --> 00:12:53.120\nDNS server, I am going to\nrecycle DNS here or I'm going to\n\n248\n00:12:53.120 --> 00:13:00.140\nstop that service and\nthen I'm going to restart DNS,\n\n249\n00:13:00.140 --> 00:13:05.070\njust to make sure that setting kicks in\n>> Now this is\n\n250\n00:13:05.070 --> 00:13:08.210\njust because we're working in a lab\nenvironment were time is a thing.\n\n251\n00:13:08.210 --> 00:13:09.720\nIf this was a production server,\n\n252\n00:13:09.720 --> 00:13:12.910\nprobably not one used unless\nyou've got multiple DNS servers.\n\n253\n00:13:12.910 --> 00:13:14.270\n>> Yeah\n>> Not a good idea if this is\n\n254\n00:13:14.270 --> 00:13:15.950\nyour primary DNS server\n>> Exactly,\n\n255\n00:13:15.950 --> 00:13:18.650\nyou want to make sure you give it\na down time, or something like that so\n\n256\n00:13:18.650 --> 00:13:21.722\nyou're not bringing down all your DNS,\nthat wouldn't be good.\n\n257\n00:13:21.722 --> 00:13:24.160\nAll right, then I'm going to\nflip over to my client, and\n\n258\n00:13:24.160 --> 00:13:25.580\nI'm also going to flush his cache.\n\n259\n00:13:25.580 --> 00:13:27.980\nWe're going to talk a little\nbit about that later.\n\n260\n00:13:27.980 --> 00:13:31.890\nLet's see, flush DNS, so\nwe'll get rid of that.\n\n261\n00:13:33.660 --> 00:13:34.710\nAnd now let's see what happens.\n\n262\n00:13:36.840 --> 00:13:37.670\nWe'll try it.\n\n263\n00:13:37.670 --> 00:13:39.040\nWe're gonna go back into NS look up.\n\n264\n00:13:39.040 --> 00:13:42.535\nWe're gonna say hey what's\nthe IP address of the client\n\n265\n00:13:42.535 --> 00:13:47.470\n20.contoso.com, and there we go.\n\n266\n00:13:47.470 --> 00:13:51.610\nYou can see that it's using\n10.1.1.200 to get the answer.\n\n267\n00:13:51.610 --> 00:13:53.190\nNotice what I've got.\n\n268\n00:13:53.190 --> 00:13:54.860\nI got the answer back, 10.2.3.4.\n\n269\n00:13:54.860 --> 00:13:59.350\nNotice what it says,\nnon-authoritative answer.\n\n270\n00:13:59.350 --> 00:14:02.030\nDC 1 is not authoritative\nwith contoso.com.\n\n271\n00:14:02.030 --> 00:14:05.530\nHe had to get the information\nfrom somebody else, so\n\n272\n00:14:05.530 --> 00:14:08.800\nI get that non-authoritative\nanswer there with nslookup.\n\n273\n00:14:08.800 --> 00:14:12.290\nBut that's conditional forwarding, so\nnow I can resolve names even though my\n\n274\n00:14:12.290 --> 00:14:16.818\nDNS server, the one I'm configured to use,\ndoesn't have a zone for contoso.com,\n\n275\n00:14:16.818 --> 00:14:20.790\nhe can still resolve contoso.com names\nwithout going to the root servers,\n\n276\n00:14:20.790 --> 00:14:22.295\nwithout forwarding it on to somebody else.\n\n277\n00:14:22.295 --> 00:14:25.015\nAnd that's just gonna\nspeed up connectivity\n\n278\n00:14:25.015 --> 00:14:27.685\nto all those resource over on contoso.com.\n\n279\n00:14:27.685 --> 00:14:31.845\nNow there is a downside,\nI know Danny we mentioned it in that\n\n280\n00:14:31.845 --> 00:14:34.755\nfirst episode about that\nconditional forwarding, right?\n\n281\n00:14:34.755 --> 00:14:38.675\n>> Oh yeah, that inherent problem, you've\nprobably even picked up on it by now and\n\n282\n00:14:38.675 --> 00:14:44.430\nthat is the fact that, well, what happens\nif contoso.com changes its DNS IP address.\n\n283\n00:14:44.430 --> 00:14:46.160\nWell then you're gonna\nhave a broken record.\n\n284\n00:14:46.160 --> 00:14:49.850\nThis conditional forwarding is\ngonna stop working at that point.\n\n285\n00:14:49.850 --> 00:14:53.650\nNot a huge deal other than\nyou won't know about it until\n\n286\n00:14:53.650 --> 00:14:55.395\nthe squeaky wheel starts squeaking.\n\n287\n00:14:55.395 --> 00:14:56.480\n>> [LAUGH]\n>> The phone is ringing.\n\n288\n00:14:56.480 --> 00:14:58.740\nPeople are saying I can't reach such and\n\n289\n00:14:58.740 --> 00:15:01.840\nsuch at contoso.com\n>> Trying to log into the website,\n\n290\n00:15:01.840 --> 00:15:02.810\nI've been trying to do this,\n\n291\n00:15:02.810 --> 00:15:06.730\nI have a resource there I can't get to it,\nwhat's going on with that?\n\n292\n00:15:06.730 --> 00:15:09.790\nYou start taking a look and\nyou see that this might be a DNS issue,\n\n293\n00:15:09.790 --> 00:15:13.550\nlet me go ahead and check that DNS IP,\nmaybe it's changed.\n\n294\n00:15:13.550 --> 00:15:15.840\nIt doesn't happen a lot,\nbut it does happen.\n\n295\n00:15:15.840 --> 00:15:16.450\n>> Absolutely.\n\n296\n00:15:16.450 --> 00:15:18.750\nYou know Contoso,\nI'm not on that network, right?\n\n297\n00:15:18.750 --> 00:15:21.010\nMaybe their DNS server failed,\nthey brough up another one,\n\n298\n00:15:21.010 --> 00:15:23.600\nit's got a different IP address,\n>> Who knows what happened.\n\n299\n00:15:23.600 --> 00:15:27.950\nSo it's statically mapped so\nI'd actually have to come in here and\n\n300\n00:15:27.950 --> 00:15:30.430\npull up the properties and\nI would have to edit\n\n301\n00:15:31.570 --> 00:15:35.930\nthat record to change that IP address\nto whatever Contoso had changed it to.\n\n302\n00:15:35.930 --> 00:15:37.830\nSo that is the downside of\nconditional forwarding.\n\n303\n00:15:37.830 --> 00:15:41.090\nIt is static, but we have another option.\n\n304\n00:15:41.090 --> 00:15:45.650\nWe have something calles Stub Zones and\nStub Zones are a pretty cool thing.\n\n305\n00:15:45.650 --> 00:15:49.310\nI like to think of Stub Zones as\ndynamic conditional forwarding.\n\n306\n00:15:49.310 --> 00:15:52.040\nWhat we're gonna do,\nin fact, I've got a drawing,\n\n307\n00:15:52.040 --> 00:15:53.280\nlet's see if I can find it real quick.\n\n308\n00:15:53.280 --> 00:15:54.840\nWell I'll just show you first.\n\n309\n00:15:54.840 --> 00:15:56.840\n>> Sounds like the unshaven stepbrother.\n\n310\n00:15:56.840 --> 00:16:00.644\n[CROSSTALK] [LAUGH]\n>> I'm gonna get rid of\n\n311\n00:16:00.644 --> 00:16:02.880\nthat conditional forwarding rule.\n\n312\n00:16:02.880 --> 00:16:05.050\nAll right.\n\n313\n00:16:05.050 --> 00:16:06.710\nAnd I'm gonna create a new zone.\n\n314\n00:16:06.710 --> 00:16:13.130\nI'm gonna right click new zone,\nand I'll click next on my wizard.\n\n315\n00:16:13.130 --> 00:16:16.220\nAnd I'm gonna choose stub zone this time.\n\n316\n00:16:16.220 --> 00:16:17.930\nThen I'll click next.\n\n317\n00:16:17.930 --> 00:16:18.770\nAnd I'll replicate it.\n\n318\n00:16:18.770 --> 00:16:21.760\nSame options we talked about in out\nprevious episode for replication.\n\n319\n00:16:21.760 --> 00:16:23.160\nI'll leave it on the default.\n\n320\n00:16:23.160 --> 00:16:24.230\nI'll click next.\n\n321\n00:16:24.230 --> 00:16:27.880\nThe zone name is gonna be contoso.com.\n\n322\n00:16:27.880 --> 00:16:30.740\nI'll click next, and\nthen who's the master?\n\n323\n00:16:30.740 --> 00:16:32.980\nSo just like setting up a secondary,\n\n324\n00:16:32.980 --> 00:16:35.520\nI've gotta tell it who to\nget this information from.\n\n325\n00:16:35.520 --> 00:16:36.440\nWho's the master?\n\n326\n00:16:36.440 --> 00:16:39.250\nIn this case that's 10.1.1.202,\n\n327\n00:16:39.250 --> 00:16:42.714\nthat DNS server that's\nhosting the zone contoso.com.\n\n328\n00:16:44.270 --> 00:16:46.580\nAnd I'll tell it to grab,\nget a master list.\n\n329\n00:16:46.580 --> 00:16:50.070\nI'm giving it one IP address for\ncontoso.com's authoritative DNS servers.\n\n330\n00:16:50.070 --> 00:16:53.320\nWhere they might have five, or\nsix, or ten, or what have you.\n\n331\n00:16:53.320 --> 00:16:55.820\nI can use that one server to\nget a list of all their DNS\n\n332\n00:16:55.820 --> 00:16:58.700\nservers that are hosting contoso.com.\n\n333\n00:16:58.700 --> 00:17:01.970\nI'll click Next, and then Finish.\n\n334\n00:17:01.970 --> 00:17:03.830\nAnd now I've got a zone for contoso.com.\n\n335\n00:17:03.830 --> 00:17:07.540\nAll right, we'll do a little refresh here.\n\n336\n00:17:07.540 --> 00:17:11.400\nAnd see, and sometimes it's gonna take\nit a minute to pick that information up,\n\n337\n00:17:11.400 --> 00:17:12.800\nwe'll see if it does.\n\n338\n00:17:12.800 --> 00:17:17.110\nThe idea here is that instead\nof me creating a static rule,\n\n339\n00:17:17.110 --> 00:17:21.190\nhere's the IP address of contoso.com's\nauthoritative DNS server.\n\n340\n00:17:21.190 --> 00:17:25.900\nI'm gonna create a zone and\nI'm get the information from contoso.com.\n\n341\n00:17:25.900 --> 00:17:27.250\nI can say hey contoso,\n\n342\n00:17:27.250 --> 00:17:30.860\ngive me a list of your DNS servers that\nare authoritative for contoso.com.\n\n343\n00:17:30.860 --> 00:17:32.220\nAnd I'll populate them here.\n\n344\n00:17:32.220 --> 00:17:33.110\nSame thing will happen.\n\n345\n00:17:33.110 --> 00:17:35.000\nThe client queries his own DNS server,\n\n346\n00:17:35.000 --> 00:17:38.770\nhe says hey what's the IP\naddress of client20.contoso.com?\n\n347\n00:17:38.770 --> 00:17:40.480\nHe comes in here and\nsays I'm not authoritative,\n\n348\n00:17:40.480 --> 00:17:44.190\nbut oh I've got the IP address of their\nDNS server, I can go straight to them.\n\n349\n00:17:44.190 --> 00:17:47.250\nI don't have to go to the root,\nI don't have to forward to anybody else.\n\n350\n00:17:47.250 --> 00:17:52.250\nWhat's cool is because I'm replicating\nthis information from contoso themselves.\n\n351\n00:17:52.250 --> 00:17:53.310\nIf their IP address or\n\n352\n00:17:53.310 --> 00:17:57.390\ntheir DNS servers ever changes,\nthe zone will get updated automatically.\n\n353\n00:17:57.390 --> 00:18:00.570\nAnd unlike a secondary,\nI don't have to have permissions.\n\n354\n00:18:00.570 --> 00:18:04.630\nI don't have to call them up, and say hey,\ncan you allow me to do a zone transfer?\n\n355\n00:18:04.630 --> 00:18:06.880\nI could host an entire\ncopy of their zone file.\n\n356\n00:18:06.880 --> 00:18:10.150\nI can set up a secondary here for\nwww.contoso.com.\n\n357\n00:18:10.150 --> 00:18:11.470\nThey're not going to let me do that.\n\n358\n00:18:11.470 --> 00:18:13.770\nThey're not going to want me to have\na copy of their entire zone file.\n\n359\n00:18:13.770 --> 00:18:17.490\nThat's every machine's name and\nIP address, all their SRV records,\n\n360\n00:18:17.490 --> 00:18:19.850\nand a lot of confidential\ninformation is in there.\n\n361\n00:18:19.850 --> 00:18:21.880\nPrivate information is in there.\n\n362\n00:18:21.880 --> 00:18:24.440\nThey don't have to give me\npermission to host a stub zone,\n\n363\n00:18:24.440 --> 00:18:28.230\nbecause the only thing I get in a stub\nzone is what's known as the glue records.\n\n364\n00:18:28.230 --> 00:18:29.330\nThere's the SOA,\n\n365\n00:18:29.330 --> 00:18:33.470\nthe start of authority, who the\nauthoritative server is for contoso.com.\n\n366\n00:18:33.470 --> 00:18:35.060\nThere's the NS records.\n\n367\n00:18:35.060 --> 00:18:38.210\nThe names of all their name servers,\nif there's more than one.\n\n368\n00:18:38.210 --> 00:18:42.540\nAnd then the quad a records so\nthat I can connect to those name servers.\n\n369\n00:18:42.540 --> 00:18:44.190\nBut nothing else.\n\n370\n00:18:44.190 --> 00:18:47.070\nNot all the other SRV records,\nnot all their A records for\n\n371\n00:18:47.070 --> 00:18:49.350\ntheir clients and file servers.\n\n372\n00:18:49.350 --> 00:18:51.100\nNone of that, all right?\n\n373\n00:18:51.100 --> 00:18:52.860\nSo let me refresh this guy one more time.\n\n374\n00:18:52.860 --> 00:18:57.820\nSometimes it's a little bit slow in\ntrying to pick this information up.\n\n375\n00:18:57.820 --> 00:18:58.810\nBut there we go.\n\n376\n00:18:58.810 --> 00:19:01.065\nSo now I've got a stub zone for\n\n377\n00:19:01.065 --> 00:19:04.870\ncontoso.com notice what I've\ngot the SOA and the NS record.\n\n378\n00:19:06.160 --> 00:19:10.630\nI don't have, we'll flip back over\nhere that's not all that's in there.\n\n379\n00:19:10.630 --> 00:19:13.339\nIf I look at contoso.com on\nthe authoritative server there's\n\n380\n00:19:13.339 --> 00:19:15.070\nan a record for client 20.\n\n381\n00:19:15.070 --> 00:19:16.260\nI didn't get that.\n\n382\n00:19:16.260 --> 00:19:18.100\nAll I get are those blue records.\n\n383\n00:19:18.100 --> 00:19:22.490\nBut if their IP address for\ntheir DNS server ever changes, my zone,\n\n384\n00:19:22.490 --> 00:19:24.370\nthe stub zone will get\nupdated automatically.\n\n385\n00:19:24.370 --> 00:19:29.590\nNow that was an example of using it like,\nwith an external business partner.\n\n386\n00:19:29.590 --> 00:19:35.014\nIt's also used internally for\nmy heavily domained forests,\n\n387\n00:19:35.014 --> 00:19:39.510\nif we can say that,\nI don't even know if that's a.\n\n388\n00:19:39.510 --> 00:19:42.380\nLet's save that real quick, just in case.\n\n389\n00:19:45.590 --> 00:19:50.990\nFor example here, I've got a forest\nthat has several domains in it.\n\n390\n00:19:50.990 --> 00:19:55.560\nYou could imagine being a user and sitting\nover here in support.west.microsoft.com.\n\n391\n00:19:55.560 --> 00:20:00.530\nAnd I'm trying to get to a resource over\nhere in training.eaststub.microsoft.com.\n\n392\n00:20:00.530 --> 00:20:05.720\nWell, if I don't have a stubzone my DNS\nserver in support.west.microsoft.com\n\n393\n00:20:05.720 --> 00:20:10.050\ndoesn't host a zone for this domain\nover here training.east.microsoft.com.\n\n394\n00:20:10.050 --> 00:20:14.750\nHe is going to have to send his query\nall the way up to the very top,\n\n395\n00:20:14.750 --> 00:20:15.890\nthis would be microsoft.com.\n\n396\n00:20:15.890 --> 00:20:20.740\nHe's going to say I'm not authoritative,\nbut he's going to have a delegation, and\n\n397\n00:20:20.740 --> 00:20:24.210\nit will redirect me to this domain.\n\n398\n00:20:24.210 --> 00:20:28.990\nI'll say I'm looking for\nclient20.training.east.microsoft.com.\n\n399\n00:20:28.990 --> 00:20:32.260\nHe's going to say that I'm\njust east.microsoft.com, but\n\n400\n00:20:32.260 --> 00:20:35.490\nI'll give you a delegate or a referral.\n\n401\n00:20:35.490 --> 00:20:36.740\nTo the DNS server down here and\n\n402\n00:20:36.740 --> 00:20:41.550\neventually I will find the authoritative\nserver for training.east.microsoft.com.\n\n403\n00:20:41.550 --> 00:20:45.980\nBut that took time, that was several\nextra queries that I\"m sending and\n\n404\n00:20:45.980 --> 00:20:48.120\nwhat if this DNS server was unavailable?\n\n405\n00:20:48.120 --> 00:20:50.000\nI wouldn't have got my\nreferral from this guy,\n\n406\n00:20:50.000 --> 00:20:52.550\nto get my referral to this\nguy to resolve that name.\n\n407\n00:20:52.550 --> 00:20:57.855\nA stub zone, I could set a stub zone\nup in support on their DNS server, and\n\n408\n00:20:57.855 --> 00:21:03.810\nsupport.west.microsoft.com, set up the\nstub zone for training.east.microsoft.com.\n\n409\n00:21:03.810 --> 00:21:07.840\nNow I know the IP address of their DNS\nserver, and I can go straight to it.\n\n410\n00:21:07.840 --> 00:21:12.480\nI don't have to go through all those other\nsteps, so again speeding up that process.\n\n411\n00:21:12.480 --> 00:21:15.550\nIn this case we eliminated some possible\n\n412\n00:21:15.550 --> 00:21:18.190\nfailures that could have impeded\nthat name resolution process.\n\n413\n00:21:18.190 --> 00:21:22.010\nSo, stub zones are really pretty cool.\n\n414\n00:21:22.010 --> 00:21:24.530\nAgain, I like to think of them as\ndynamic conditional forwarding,\n\n415\n00:21:24.530 --> 00:21:26.010\ncuz they do the same thing.\n\n416\n00:21:26.010 --> 00:21:27.260\nBut they could update it automatically.\n\n417\n00:21:27.260 --> 00:21:30.760\n>> Yeah, so it's all about basically\ntrying to out think any kind of problem,\n\n418\n00:21:30.760 --> 00:21:31.770\nand speed things up.\n\n419\n00:21:31.770 --> 00:21:35.630\nAlways reducing that overhead because\nthe faster we can get things done,\n\n420\n00:21:35.630 --> 00:21:39.290\nthe better off your networks gonna work,\nand everybody's gonna be pleased with it.\n\n421\n00:21:39.290 --> 00:21:42.670\nThe more inefficiently we do it,\nthe worst things are gonna run, and\n\n422\n00:21:42.670 --> 00:21:44.860\nyour phone is gonna ring off the hook.\n\n423\n00:21:44.860 --> 00:21:47.335\nSo it's all about making\nour own lives easier.\n\n424\n00:21:47.335 --> 00:21:48.200\n[LAUGH]\n>> Absolutely.\n\n425\n00:21:48.200 --> 00:21:50.690\nUsers do not like to wait for\ntheir resources, do they?\n\n426\n00:21:50.690 --> 00:21:51.455\n>> No they don't.\n\n427\n00:21:51.455 --> 00:21:52.590\n>> [LAUGH] All right,\n\n428\n00:21:52.590 --> 00:21:56.140\nwell the last thing I really wanna talk\nabout here is something called caching.\n\n429\n00:21:56.140 --> 00:22:00.920\nCaching is another thing that speeds\nup this name resolution process.\n\n430\n00:22:00.920 --> 00:22:05.190\nBefore we looked at the way\nthis process works.\n\n431\n00:22:05.190 --> 00:22:07.990\nIn fact let's go back there real quick.\n\n432\n00:22:07.990 --> 00:22:09.888\nUnderstanding DNS.\n\n433\n00:22:09.888 --> 00:22:15.440\nYeah, we'll save that just in case.\n\n434\n00:22:15.440 --> 00:22:17.630\nThis is just giving me all\nkinds of problems here.\n\n435\n00:22:17.630 --> 00:22:19.180\n>> Wanting you to save, Mike.\n\n436\n00:22:19.180 --> 00:22:21.780\n>> It really is and I did save but\nI don't think I made any changes to it.\n\n437\n00:22:21.780 --> 00:22:23.085\nBut opening does change it.\n\n438\n00:22:23.085 --> 00:22:24.800\n>> [LAUGH]\n>> All right so\n\n439\n00:22:24.800 --> 00:22:29.470\nhere we go back to the normal external\nname resolution process, right?\n\n440\n00:22:29.470 --> 00:22:34.060\nMy client sends a query to his\nlocally configured DNS server.\n\n441\n00:22:34.060 --> 00:22:36.150\nTrying to connect to Microsoft.com.\n\n442\n00:22:36.150 --> 00:22:39.040\nMy DNS server has to go to the root,\nand then the .com.\n\n443\n00:22:39.040 --> 00:22:42.710\nAnd then finally get to Microsoft.com,\nthe authoritative DNS server.\n\n444\n00:22:42.710 --> 00:22:44.830\nAnd he can get that IP address back.\n\n445\n00:22:44.830 --> 00:22:49.100\nOr maybe I set it up to where I forward\nit out to the ISP's DNS server.\n\n446\n00:22:49.100 --> 00:22:53.290\nAnd so\nagain my DNS server forwarded it out.\n\n447\n00:22:53.290 --> 00:22:56.090\nThe ISP's DNS server did all that work.\n\n448\n00:22:56.090 --> 00:22:59.120\nWe've got it set up to where we're\nforwarding it out to a server out in\n\n449\n00:22:59.120 --> 00:23:00.170\nthe DMZ.\n\n450\n00:23:00.170 --> 00:23:02.150\nHe's doing all the work.\n\n451\n00:23:02.150 --> 00:23:09.710\nEither way, any one of those ways that\nwe set this up, caching is taking place.\n\n452\n00:23:09.710 --> 00:23:12.680\nEvery DNS server, and\nevery client for that matter,\n\n453\n00:23:12.680 --> 00:23:17.500\nwhen they do a name resolution request\nthey're gonna cache that information.\n\n454\n00:23:17.500 --> 00:23:21.990\nWhat I mean by caching is they're gonna\nget the answer from that other DNS server,\n\n455\n00:23:21.990 --> 00:23:23.760\nand they're going to set the answer aside.\n\n456\n00:23:23.760 --> 00:23:26.950\nAnd they're gonna save it and they're\ngonna write it in some temporary spot.\n\n457\n00:23:26.950 --> 00:23:30.800\nAnd you gotta remember,\ncache is temporary.\n\n458\n00:23:30.800 --> 00:23:32.880\nIt's a lot like the cash in your wallet.\n\n459\n00:23:32.880 --> 00:23:34.800\nIt doesn't stay all that long.\n\n460\n00:23:34.800 --> 00:23:39.820\nIt times out pretty darn quick,\nespecially if you have a spouse.\n\n461\n00:23:39.820 --> 00:23:42.180\nBut caching definitely speeds things up.\n\n462\n00:23:42.180 --> 00:23:43.560\nBecause and let's take a look.\n\n463\n00:23:43.560 --> 00:23:45.150\nI'll show you what I mean here.\n\n464\n00:23:45.150 --> 00:23:53.120\nWe're gonna flip back over to this\nother drawing, if it'll let me.\n\n465\n00:23:53.120 --> 00:23:53.806\nAll right.\nSo,\n\n466\n00:23:53.806 --> 00:23:56.890\nthis over here kind of\nrepresents those other drawings.\n\n467\n00:23:56.890 --> 00:23:59.430\nAll that external process that's going on.\n\n468\n00:23:59.430 --> 00:24:02.750\nSo, let's say I've got my client and\nhe wants to connect to Microsoft.com.\n\n469\n00:24:02.750 --> 00:24:06.604\nso he sends his recursive query over\nto his locally configured DNS server,\n\n470\n00:24:06.604 --> 00:24:10.710\nhey I want to connect to\nwww.microsoft.com what's the IP address?\n\n471\n00:24:10.710 --> 00:24:13.910\nMy DNS server then goes to the root and\nthen the dot com and\n\n472\n00:24:13.910 --> 00:24:18.100\nthen Microsoft.com, and\nfinally gets the answer back, all right?\n\n473\n00:24:18.100 --> 00:24:21.660\nAnd when he gets the answer back,\nhe saves the answer and\n\n474\n00:24:21.660 --> 00:24:25.560\nthen gives the answer to the client,\nhe caches the answer.\n\n475\n00:24:25.560 --> 00:24:30.330\nThen when somebody else on my network\nconnects to my DNS server and says hey,\n\n476\n00:24:30.330 --> 00:24:32.970\nI want to go to www.microsoft.com,\n\n477\n00:24:32.970 --> 00:24:36.420\nmy DNS server doesn't have to go\nthrough this whole process over here.\n\n478\n00:24:36.420 --> 00:24:37.660\nWe can can cross that out.\n\n479\n00:24:37.660 --> 00:24:40.750\nHe's already got,\nhe just got the answer from client one,\n\n480\n00:24:40.750 --> 00:24:44.390\nit can just give the same\nanswer to client two.\n\n481\n00:24:44.390 --> 00:24:49.150\nAnd that's gonna speed that\nprocess up a whole lot.\n\n482\n00:24:49.150 --> 00:24:51.250\nThat's what caching is all about.\n\n483\n00:24:51.250 --> 00:24:54.100\nAnd again, it's really just\nabout speeding up that process.\n\n484\n00:24:54.100 --> 00:24:55.040\n>> Yeah.\nAgain,\n\n485\n00:24:55.040 --> 00:24:57.840\ntaking away that overhead\nto make things go faster.\n\n486\n00:24:57.840 --> 00:25:00.010\nIf the server says You know what?\n\n487\n00:25:00.010 --> 00:25:04.490\nEvery time somebody wants to go to\nmicrosoft.com, I gotta go to the root.\n\n488\n00:25:04.490 --> 00:25:07.974\nAnd it's gotta give me the,\nI can't think of the word,\n\n489\n00:25:07.974 --> 00:25:10.210\nthe .com server underneath that.\n\n490\n00:25:10.210 --> 00:25:12.420\nAnd I gotta get microsoft.com from them.\n\n491\n00:25:12.420 --> 00:25:13.880\nThen I gotta go to Microsoft.\n\n492\n00:25:13.880 --> 00:25:18.440\nIt's a lot of actual processing and\neven though it does it very quickly and\n\n493\n00:25:18.440 --> 00:25:22.680\nfor the most part, we've got fast internet\nnowadays, it's not like it was when this\n\n494\n00:25:22.680 --> 00:25:25.840\nin technology was developed where\ninternet was running a little bit slower.\n\n495\n00:25:25.840 --> 00:25:26.690\nWe do have that.\n\n496\n00:25:26.690 --> 00:25:28.780\nIt's still in nickel and dime things.\n\n497\n00:25:28.780 --> 00:25:33.280\nThe more things you're running,\nthe more clients you have on your network\n\n498\n00:25:33.280 --> 00:25:36.420\nthat are asking for\nresources outside of your network or\n\n499\n00:25:36.420 --> 00:25:40.100\neven inside of your network, it's gonna\nstart really bogging down that server.\n\n500\n00:25:40.100 --> 00:25:43.790\nSo anything that it can do for itself\nto try to speed up those replies, A,\n\n501\n00:25:43.790 --> 00:25:47.030\nit's great for us as end users\nbecause we don't see a lag, right?\n\n502\n00:25:47.030 --> 00:25:51.710\nWe get that nice speedy experience\nthat we are looking for\n\n503\n00:25:51.710 --> 00:25:55.500\nand that we want, and it takes a lot\nof overhead for me, this thing.\n\n504\n00:25:55.500 --> 00:25:57.490\nI don't have to do all that querying.\n\n505\n00:25:57.490 --> 00:25:58.950\nI've got it right here.\n\n506\n00:25:58.950 --> 00:26:00.120\nI'll give it to you.\n\n507\n00:26:00.120 --> 00:26:04.320\nI see that this is something that is\ngetting asked for, requested a lot, I'll\n\n508\n00:26:04.320 --> 00:26:07.170\njust go ahead and make a local copy of it,\nthat way I don't have to worry about it.\n\n509\n00:26:07.170 --> 00:26:10.450\nAnd every now and then I'll look out\nthere to see if it's still good.\n\n510\n00:26:10.450 --> 00:26:13.390\n>> Exactly, and\nthat's a great point, Daniel,\n\n511\n00:26:13.390 --> 00:26:15.920\nwhere you say that it's\ntemporary because of that fact.\n\n512\n00:26:15.920 --> 00:26:18.340\nYou might think, well,\nwhy not cache the answer forever,\n\n513\n00:26:18.340 --> 00:26:20.400\nwhy throw it out every so often?\n\n514\n00:26:20.400 --> 00:26:22.270\nBecause things change, right?\n\n515\n00:26:22.270 --> 00:26:24.990\nThe internet, World Wide Web,\nit's all dynamic.\n\n516\n00:26:24.990 --> 00:26:30.780\nThings change and if I cache an answer\nforever, if it changes, I'll never know.\n\n517\n00:26:30.780 --> 00:26:32.242\nI'll never be able to\nconnect to that again.\n\n518\n00:26:32.242 --> 00:26:34.010\nWe can't just say I've\nalready got the answer.\n\n519\n00:26:34.010 --> 00:26:35.340\nI'm just gonna try to connect.\n\n520\n00:26:35.340 --> 00:26:36.260\nAnd it fails.\n\n521\n00:26:36.260 --> 00:26:40.380\nAnd it'll never be able to connect so\nit's important to understand caching,\n\n522\n00:26:40.380 --> 00:26:44.710\nit's also very important to understand how\nto manage that cache cuz there are gonna\n\n523\n00:26:44.710 --> 00:26:48.810\nbe times we're gonna need to force it\nto throw it away before but first,\n\n524\n00:26:48.810 --> 00:26:51.610\nbefore I do that,\nlet's show you the caching.\n\n525\n00:26:51.610 --> 00:26:56.060\nI've got, this is just on my actual laptop\nhere cause my VMs don't have internet\n\n526\n00:26:56.060 --> 00:26:56.920\naccess at this point.\n\n527\n00:26:56.920 --> 00:26:59.690\nI'm gonna show you a couple things here.\n\n528\n00:26:59.690 --> 00:27:02.205\nFirst of all, to display your cache.\n\n529\n00:27:02.205 --> 00:27:08.844\nTo see the cache on your local machine,\nipconfig/displaydns.\n\n530\n00:27:08.844 --> 00:27:10.934\nAnd you do have to spell that correctly.\n\n531\n00:27:10.934 --> 00:27:14.160\nAnd now you can see, oop, I've got the\ntricaster, because I'm connecting to our\n\n532\n00:27:14.160 --> 00:27:16.530\nmachine here on the,\nactually it says name doesn't exist.\n\n533\n00:27:16.530 --> 00:27:17.730\nThat's kind of interesting.\n\n534\n00:27:17.730 --> 00:27:18.822\nNow, I'm gonna ping.\n\n535\n00:27:18.822 --> 00:27:20.636\nLet's see.\n\n536\n00:27:20.636 --> 00:27:22.851\nNewegg.com.\n\n537\n00:27:22.851 --> 00:27:29.700\nOr actually let's do www.newegg.com.\n\n538\n00:27:29.700 --> 00:27:33.030\nNow newegg might or\nmight not respond to my pings.\n\n539\n00:27:33.030 --> 00:27:35.060\nI don't really care about that.\n\n540\n00:27:35.060 --> 00:27:37.740\nWhat I can see is that\nwhen I pinged a name,\n\n541\n00:27:37.740 --> 00:27:41.472\nmy computer had to take that name and\nturn it into an IP address.\n\n542\n00:27:41.472 --> 00:27:44.470\nComputers cannot connect to names,\nonly to IP addresses.\n\n543\n00:27:44.470 --> 00:27:45.880\nNow, let's take a look at my cache.\n\n544\n00:27:45.880 --> 00:27:48.790\nIPconfig/displayDNS.\n\n545\n00:27:48.790 --> 00:27:53.870\nAnd in my cache is a record for\nnewegg.com.\n\n546\n00:27:53.870 --> 00:27:55.430\nSo, there's the IP address.\n\n547\n00:27:55.430 --> 00:27:58.020\nSo, if I go to ping it again,\nor open up my browser and\n\n548\n00:27:58.020 --> 00:28:01.360\nconnect to newegg.com, it doesn't\nhave to go look the IP address up.\n\n549\n00:28:01.360 --> 00:28:03.840\nIt already has the IP address.\n\n550\n00:28:03.840 --> 00:28:05.290\nThat speeds things up.\n\n551\n00:28:05.290 --> 00:28:08.870\nBut it has a time to live or a TTL.\n\n552\n00:28:08.870 --> 00:28:14.230\nThat's how long my computer's allowed to\ncache this answer and that's in seconds.\n\n553\n00:28:14.230 --> 00:28:14.840\nSo 161.\nIn fact,\n\n554\n00:28:14.840 --> 00:28:19.730\nif I do another display DNS We'll see\nit's down to 133 so Mike talked for\n\n555\n00:28:19.730 --> 00:28:22.730\nabout 30 seconds between\nthose two commands, right?\n\n556\n00:28:22.730 --> 00:28:24.780\nIt's slowly ticking down and\n\n557\n00:28:24.780 --> 00:28:28.140\nonce that gets to zero it will\nthrow that record out, and\n\n558\n00:28:28.140 --> 00:28:31.520\nif try to go to newegg again, it's gonna\nhave to go through those normal processes.\n\n559\n00:28:31.520 --> 00:28:34.120\nGo to the root,\nall that good stuff, right.\n\n560\n00:28:34.120 --> 00:28:36.030\nSo the clients cache thing on their end.\n\n561\n00:28:36.030 --> 00:28:39.410\nAnd you need to be able to flush that out.\n\n562\n00:28:39.410 --> 00:28:43.550\nYou know a common situation let's say I,\nlet's\n\n563\n00:28:43.550 --> 00:28:47.770\nsay in a corporate environment they've\nchanged the IP address of a file server.\n\n564\n00:28:47.770 --> 00:28:51.770\nHad a network adapter fail or\nsomething but DNS hasn't been updated.\n\n565\n00:28:51.770 --> 00:28:54.950\nI try to connect to it and\nit fails, all right?\n\n566\n00:28:54.950 --> 00:28:59.780\nWell then the admin on the network fixes\nthe problem, fixes the record in DNS,\n\n567\n00:28:59.780 --> 00:29:03.050\nI try to connect to it again,\nI still can't connect to it.\n\n568\n00:29:03.050 --> 00:29:05.410\nBecause I've cached the old answer right?\n\n569\n00:29:05.410 --> 00:29:09.530\nSo even though they fixed the problem\nin DNS, the user is still not going\n\n570\n00:29:09.530 --> 00:29:13.730\nto be able to connect to until that times\nout, or you manually flush that cache.\n\n571\n00:29:13.730 --> 00:29:18.370\nAnd on a client, its ipconfig/ flushdns.\n\n572\n00:29:18.370 --> 00:29:21.480\nAnd that will flush that resolver cache,\nright?\n\n573\n00:29:21.480 --> 00:29:25.060\nNow on the server side of things,\nit works a little bit differently.\n\n574\n00:29:25.060 --> 00:29:28.250\nThe DNS servers again they\nalso cache that information.\n\n575\n00:29:29.690 --> 00:29:33.960\nI don't get to see the cache here,\nbut I can go up to my view menu and\n\n576\n00:29:33.960 --> 00:29:37.950\nchoose my advanced view and\nnow I've got my cache look-ups.\n\n577\n00:29:37.950 --> 00:29:42.170\nAnd it's not going to be too much exciting\ninformation in here again because\n\n578\n00:29:42.170 --> 00:29:44.940\nthese guys don't have Internet access or\nanything like that.\n\n579\n00:29:44.940 --> 00:29:49.310\nBut it is important to understand\nthat we can flush this cache as well.\n\n580\n00:29:49.310 --> 00:29:53.520\nBecause, remember I'm querying my DNS\nserver, my DNS server is going out and\n\n581\n00:29:53.520 --> 00:29:54.840\nfinding the answer.\n\n582\n00:29:54.840 --> 00:29:58.930\nMy DNS server is caching it, so if\nanybody else asks he can give it to them.\n\n583\n00:29:58.930 --> 00:30:02.530\nAnd the client is caching it so that\nhe doesn't have to ask all over again.\n\n584\n00:30:02.530 --> 00:30:05.870\nSo, I need to be able to flush\nthe cache on the DNS server as well.\n\n585\n00:30:07.200 --> 00:30:10.590\nTwo, three ways we could really\nflush the cache on the DNS server.\n\n586\n00:30:10.590 --> 00:30:11.520\nI could do it right here.\n\n587\n00:30:11.520 --> 00:30:12.660\nI could right click.\n\n588\n00:30:12.660 --> 00:30:15.490\nOn cache look ups and\nI can choose clear cache.\n\n589\n00:30:15.490 --> 00:30:17.870\nThat would wipe the entire cache, right?\n\n590\n00:30:17.870 --> 00:30:19.640\nWhich might be a good thing, might not be.\n\n591\n00:30:19.640 --> 00:30:22.760\nRemember caching speeds things up so\n\n592\n00:30:22.760 --> 00:30:26.410\nmaybe you don't want to flush out\nthe entire cache, just the bad record.\n\n593\n00:30:26.410 --> 00:30:29.280\nYou can always if there was a record\nin here I could right click and\n\n594\n00:30:29.280 --> 00:30:31.020\ndelete just that one record.\n\n595\n00:30:31.020 --> 00:30:32.590\nAnd set a flush in the entire cache.\n\n596\n00:30:32.590 --> 00:30:36.410\nIf I'm gonna flush the DNS server's\ncache from the command prompt,\n\n597\n00:30:36.410 --> 00:30:39.290\nit's not IP config flush DNS.\n\n598\n00:30:39.290 --> 00:30:43.600\nThat's for the DNS resolver client,\nnot for the DNS server service.\n\n599\n00:30:43.600 --> 00:30:51.760\nThe DNS server service is\ngonna be DNS CMD/clear cache.\n\n600\n00:30:51.760 --> 00:30:55.760\nAnd that would flush the cache\non the server's service itself.\n\n601\n00:30:55.760 --> 00:31:01.029\nIf you wanted to do it from powershell,\nit would be\n\n602\n00:31:01.029 --> 00:31:06.730\nclear-DNS server,\nif I can spell that right.\n\n603\n00:31:08.310 --> 00:31:09.296\nCache.\n\n604\n00:31:09.296 --> 00:31:10.940\nAll right.\n\n605\n00:31:10.940 --> 00:31:13.680\nAnd that would,\nI know it's really small there.\n\n606\n00:31:13.680 --> 00:31:15.470\nIt's clear-dnsserver cache.\n\n607\n00:31:15.470 --> 00:31:19.706\nAnd that would flush the cache on\nthat DNS server service as well.\n\n608\n00:31:19.706 --> 00:31:21.985\nSo So a couple of different\nways you can flush that cache.\n\n609\n00:31:21.985 --> 00:31:25.995\nCaching is good,\nit's gonna speed up the process but\n\n610\n00:31:25.995 --> 00:31:28.645\nsometimes it can cause\nproblems if I get bad entries.\n\n611\n00:31:28.645 --> 00:31:31.555\nAnother thing is when\nthe name is not found, right?\n\n612\n00:31:31.555 --> 00:31:36.870\nI said that TTL tells you how long to\ncache it for, I don't get to decide.\n\n613\n00:31:36.870 --> 00:31:40.140\nThe server, the authoritative server,\nthe one that gave me the answer.\n\n614\n00:31:40.140 --> 00:31:42.190\nHe said here's the answer, and\n\n615\n00:31:42.190 --> 00:31:44.870\nin the answer it tells me\nhow long I can cache it for.\n\n616\n00:31:44.870 --> 00:31:48.120\nLike if I go back over here to my client.\n\n617\n00:31:48.120 --> 00:31:52.170\nWe saw Newegg gave me 161 seconds or so.\n\n618\n00:31:52.170 --> 00:31:57.220\nIf I try to ping Google.com.\n\n619\n00:31:57.220 --> 00:31:59.180\nAnd I do an ipconfig/displaydns.\n\n620\n00:31:59.180 --> 00:32:04.250\nThey're going to let me cache it for\n300 seconds.\n\n621\n00:32:04.250 --> 00:32:07.760\nOther companies might let you cache it for\na few hours.\n\n622\n00:32:07.760 --> 00:32:09.880\nBecause the longer you cache it,\n\n623\n00:32:09.880 --> 00:32:13.200\nthe less queries their DNS server\nis gonna have to deal with.\n\n624\n00:32:13.200 --> 00:32:15.170\nBut the longer you cache it,\n\n625\n00:32:15.170 --> 00:32:17.600\nthe more times we could have\nfailures if something changes.\n\n626\n00:32:17.600 --> 00:32:19.140\nGoogle wants you to have a very short TTL,\n\n627\n00:32:19.140 --> 00:32:21.850\nbecause they don't want you hitting\nthe same server every time.\n\n628\n00:32:21.850 --> 00:32:24.130\nThey have hundreds if not\nthousands of servers, and\n\n629\n00:32:24.130 --> 00:32:25.300\nthey want you hitting different servers.\n\n630\n00:32:25.300 --> 00:32:27.370\nThey really want to\nspread the workload out.\n\n631\n00:32:27.370 --> 00:32:28.700\nSo they give you a very short TTL so\n\n632\n00:32:28.700 --> 00:32:32.650\nyou're not hitting the same server\nover and over and over again.\n\n633\n00:32:32.650 --> 00:32:35.810\nSo the TTL's actually determined\nby that authoritative server.\n\n634\n00:32:35.810 --> 00:32:37.880\nBut if you get a result that says,\nname not found.\n\n635\n00:32:37.880 --> 00:32:38.950\nAll right.\n\n636\n00:32:38.950 --> 00:32:44.260\nFact if we scroll back up here,\nnotice on this one here,\n\n637\n00:32:44.260 --> 00:32:47.130\nwpad, name doesn't exist.\n\n638\n00:32:47.130 --> 00:32:47.910\nNotice there's no TTL.\n\n639\n00:32:47.910 --> 00:32:52.940\nIn other words, if you fail to resolve\na name for some reason, something was\n\n640\n00:32:52.940 --> 00:32:58.760\nwrong with DNS, and it says hey buddy,\nwww.google.com is, name doesn't exist.\n\n641\n00:32:58.760 --> 00:33:02.620\nYour computer will cache that,\nand it will not throw it away.\n\n642\n00:33:02.620 --> 00:33:06.730\nSo, even though if Google's back up and\nrunning your computer says well that name\n\n643\n00:33:06.730 --> 00:33:09.530\ndoesn't exist i'm not even going to\nbother trying to look at it again.\n\n644\n00:33:09.530 --> 00:33:12.650\nSo, you're going to have to manually\nflush that out because it doesn't\n\n645\n00:33:12.650 --> 00:33:14.100\nhave a TTL on it.\n\n646\n00:33:14.100 --> 00:33:17.620\nSo, just some things we gotta be\naware of when managing that cache.\n\n647\n00:33:17.620 --> 00:33:19.400\n>> Excellent stuff Michael.\n\n648\n00:33:19.400 --> 00:33:22.260\nWe've been talking about\nthis all through our DNS\n\n649\n00:33:22.260 --> 00:33:24.540\nepisodes that it's a very\nimportant service and\n\n650\n00:33:24.540 --> 00:33:27.220\nas you can see that there's a lot\nthat kind of goes on with this.\n\n651\n00:33:27.220 --> 00:33:29.030\nIt's not too difficult to understand, but\n\n652\n00:33:29.030 --> 00:33:32.420\nthere's a lot of aspects to it\nwhere things could go wrong.\n\n653\n00:33:32.420 --> 00:33:35.350\nSo you knowing how thing\nare supposed to work\n\n654\n00:33:35.350 --> 00:33:37.890\nwill help you troubleshoot\nwhen things go awry.\n\n655\n00:33:37.890 --> 00:33:40.480\nYou'll be like, well,\nthat's supposed to be caching that.\n\n656\n00:33:40.480 --> 00:33:42.900\nAnd if it's not doing that, maybe\nthere's something wrong with the cache,\n\n657\n00:33:42.900 --> 00:33:43.890\nand I go in there.\n\n658\n00:33:43.890 --> 00:33:46.340\nIf it's not resolving those\nforward lookup names,\n\n659\n00:33:46.340 --> 00:33:48.680\nlet me look in those forward lookup zones,\nI'll check that out.\n\n660\n00:33:48.680 --> 00:33:51.240\nAnd oh look, there's not a record in\nthere, something happened to that.\n\n661\n00:33:51.240 --> 00:33:52.300\nLet me recreate that.\n\n662\n00:33:52.300 --> 00:33:55.900\nSo that's what's going to help you get\nthrough the troubleshooting portions,\n\n663\n00:33:55.900 --> 00:33:57.130\nespecially on your exams.\n\n664\n00:33:57.130 --> 00:33:59.130\nThey're going to throw\nthat at you hardcore.\n\n665\n00:33:59.130 --> 00:34:02.550\nBut again in practicality,\nthis is some very good,\n\n666\n00:34:02.550 --> 00:34:06.970\nmust know knowledge when it comes to\nadministrating a server environment.\n\n667\n00:34:06.970 --> 00:34:10.730\nAlright Mike, it looks like we've\nwrapped up yet another great episode for\n\n668\n00:34:10.730 --> 00:34:14.630\nour viewers out here So we're gonna\ngo ahead and sign off for IT Pro TV.\n\n669\n00:34:14.630 --> 00:34:17.626\nI've been your host Daniel Lowery\n>> And I'm Mike Rodrick\n\n670\n00:34:17.626 --> 00:34:18.746\n>> And we'll see you next time.\n\n671\n00:34:18.746 --> 00:34:24.230\n[MUSIC]\n\n",
          "vimeoId": "134089602"
        }
      ],
      "title": "Deploy and configure core network services"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Mike get you ready to install Active Directory Domain Services. They cover domain and forest functional levels and ADPrep.",
          "length": "1433",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-13-1-preparing_ad_ds_installation-071615-2.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-13-1-preparing_ad_ds_installation-071615-2-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-13-1-preparing_ad_ds_installation-071615-2-sm.jpg",
          "title": "Preparing AD DS Installation",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.389 --> 00:00:15.120\nGreetings and\nwelcome to another episode of ITProTV.\n\n3\n00:00:15.120 --> 00:00:16.567\nI'm your host Daniel Lowery and\n\n4\n00:00:16.567 --> 00:00:18.605\nhere with me today is the AD Master-\n>> [LAUGH]\n\n5\n00:00:18.605 --> 00:00:19.128\n>> Mike Rodrick.\n\n6\n00:00:19.128 --> 00:00:19.925\nHow's it going today, Mike?\n\n7\n00:00:19.925 --> 00:00:23.684\n>> Oh, it's going great today,\nbecause we are getting ready to talk about\n\n8\n00:00:23.684 --> 00:00:27.150\nActive Directory and it is one of\nmy favorite topics to talk about.\n\n9\n00:00:27.150 --> 00:00:29.369\nAnd if you've seen the other episode,\nyou're probably thinking wait,\n\n10\n00:00:29.369 --> 00:00:30.236\nwasn't DNS your favorite?\n\n11\n00:00:30.236 --> 00:00:32.330\nWell, yeah, it's a tough call there.\n\n12\n00:00:32.330 --> 00:00:35.187\nI've got a couple favorites, but\nActive Directory is right up there,\n\n13\n00:00:35.187 --> 00:00:38.050\nbecause it's another one of those\nthings that makes everything work.\n\n14\n00:00:38.050 --> 00:00:40.244\nIt's the-\n>> The group-\n\n15\n00:00:40.244 --> 00:00:42.000\n>> The engine behind everything, yeah.\n\n16\n00:00:42.000 --> 00:00:46.602\n>> And Mike, AD and DNS are so integrated\nthat they rely so heavily on each other,\n\n17\n00:00:46.602 --> 00:00:49.136\nyou could say that they\nare one in the same.\n\n18\n00:00:49.136 --> 00:00:50.750\nIt's like electromagnetism maybe.\n\n19\n00:00:50.750 --> 00:00:51.356\n>> Right.\n>> Right,\n\n20\n00:00:51.356 --> 00:00:55.557\nthey're kind of the opposite sides of\nthe coin there, but the same entity.\n\n21\n00:00:55.557 --> 00:00:58.472\nSo DNS can still be his favorite and\nADN can be his favorite,\n\n22\n00:00:58.472 --> 00:01:00.933\nbecause without one,\nyou don't have the other.\n\n23\n00:01:00.933 --> 00:01:03.350\n>> There you go.\nI like that theory, I like it.\n\n24\n00:01:03.350 --> 00:01:05.641\nSo ADN and\nlet's just make sure we're clear here.\n\n25\n00:01:05.641 --> 00:01:09.540\nAD, we're talking about Active\nDirectory Domain Services in this case.\n\n26\n00:01:09.540 --> 00:01:12.035\nThere are several components\nto Active Directory and\n\n27\n00:01:12.035 --> 00:01:15.306\npeople that have been in the field\nlike Daniel and I for a little while,\n\n28\n00:01:15.306 --> 00:01:17.310\nwe like to refer to it\nas active directory.\n\n29\n00:01:17.310 --> 00:01:21.488\nBut ever since they've come out with\nActive Directory Federation services and\n\n30\n00:01:21.488 --> 00:01:25.810\nActive Directory lightweight\nDirectory Services in Active Directory.\n\n31\n00:01:25.810 --> 00:01:26.325\nWhat's the other ones?\n\n32\n00:01:26.325 --> 00:01:28.270\nRights Management Services.\n\n33\n00:01:28.270 --> 00:01:30.872\nActive Directory now has\nseveral components to it.\n\n34\n00:01:30.872 --> 00:01:32.363\nSo we really need to say,\n\n35\n00:01:32.363 --> 00:01:37.400\nActive Directory Domain Services when\nwe're talking about domain services.\n\n36\n00:01:37.400 --> 00:01:39.965\nI'll still call it\nActive Directory all day long, but\n\n37\n00:01:39.965 --> 00:01:41.990\nnow you guys know what I'm talking about.\n\n38\n00:01:41.990 --> 00:01:43.157\n>> Helps to make the distinction.\n\n39\n00:01:43.157 --> 00:01:43.657\n>> It does.\n>> [LAUGH]\n\n40\n00:01:43.657 --> 00:01:44.542\n>> It does,\n\n41\n00:01:44.542 --> 00:01:45.522\nit does.\nSo\n\n42\n00:01:45.522 --> 00:01:47.246\nthe first thing we\nreally wanna talk about.\n\n43\n00:01:47.246 --> 00:01:49.958\nIn this episode, we're gonna talk about\n\n44\n00:01:49.958 --> 00:01:54.608\nwhat it takes to install Active\nDirectory Domain Services and we need to\n\n45\n00:01:54.608 --> 00:02:00.110\nunderstand a concept called domain\nfunctionality and forest functionality.\n\n46\n00:02:00.110 --> 00:02:06.620\nThese are trying to think of a simpler\nway to say it, but they control what.\n\n47\n00:02:07.980 --> 00:02:09.130\nOh, what's a good way to put this, Daniel?\n\n48\n00:02:10.570 --> 00:02:14.683\nEvery time a new version of the operating\nsystem comes out, let's say,\n\n49\n00:02:14.683 --> 00:02:16.447\nwhen 2012 first came out.\n\n50\n00:02:16.447 --> 00:02:20.640\nWell, I that active directory had some\nnew features, some new capabilities.\n\n51\n00:02:20.640 --> 00:02:25.138\nThere were new attributes and other\nthings that made it different from 2008,\n\n52\n00:02:25.138 --> 00:02:26.839\nit's a new operating system.\n\n53\n00:02:26.839 --> 00:02:32.206\nWell, if you're in an existing network and\nlet's say, you've already got some 2008 R2\n\n54\n00:02:32.206 --> 00:02:37.810\ndomain controllers and then you go bring\nin a 20012 or 2012 R2 domain controller.\n\n55\n00:02:37.810 --> 00:02:40.261\nThat domain controller's\ngonna have capabilities or\n\n56\n00:02:40.261 --> 00:02:43.617\nunderstand things that those other\ndomain controllers just don't know,\n\n57\n00:02:43.617 --> 00:02:45.813\nbecause they're that\nolder operating system.\n\n58\n00:02:45.813 --> 00:02:49.755\nAnd so we have to have some way of\nlimiting those new features, so\n\n59\n00:02:49.755 --> 00:02:54.970\nthat the old domain controllers don't\nfreak out or fail or cause any problems.\n\n60\n00:02:54.970 --> 00:02:58.395\nAnd that's what these functional\nlevels are gonna do for us and\n\n61\n00:02:58.395 --> 00:03:02.142\nwe have to worry about it at two\ndifferent levels at the domain level,\n\n62\n00:03:02.142 --> 00:03:03.835\nas well as at the forest level.\n\n63\n00:03:03.835 --> 00:03:05.530\nSo we'll start out with the domain level.\n\n64\n00:03:05.530 --> 00:03:08.062\nIt's kinda easier place to start I think,\n\n65\n00:03:08.062 --> 00:03:11.931\nbut all you're doing is you're\nsimply looking at your domain and\n\n66\n00:03:11.931 --> 00:03:16.165\nall of the domain controllers and\nthat's important point number one.\n\n67\n00:03:16.165 --> 00:03:18.670\nIt's only referring to\nyour domain controllers.\n\n68\n00:03:18.670 --> 00:03:22.086\nYou could have Windows 2000 file\nservers and print servers for\n\n69\n00:03:22.086 --> 00:03:25.088\nall the functionality level cares,\nit doesn't matter.\n\n70\n00:03:25.088 --> 00:03:30.660\nWe're only talking about the operating\nsystem on your domain controllers.\n\n71\n00:03:30.660 --> 00:03:35.811\nAnd when you set your domain functional\nlevel, that becomes the limit or\n\n72\n00:03:35.811 --> 00:03:39.958\nreally the low bar for\ndomain controllers in that domain.\n\n73\n00:03:39.958 --> 00:03:44.420\nFor example, let's say, oh, here,\nI've got a little drawing here,\n\n74\n00:03:44.420 --> 00:03:49.500\nI think that Daniel so kindly pulled\nup for us, if I can find it here.\n\n75\n00:03:49.500 --> 00:03:53.050\nSo, I've got a little drawing here that\nDaniel so kindly whipped up for us and\n\n76\n00:03:53.050 --> 00:03:57.200\nI've got a domain pictured and\nI've got some domain controllers here.\n\n77\n00:03:57.200 --> 00:04:01.185\nAnd I can see I've got a domain controller\nthat's running 2012 R2, a domain\n\n78\n00:04:01.185 --> 00:04:06.000\ncontroller running Server 2003 and another\ndomain controller running Server 2008 R2.\n\n79\n00:04:06.000 --> 00:04:12.193\nWhat that means is my domain functional\nlevel is gonna be Server 2003.\n\n80\n00:04:12.193 --> 00:04:15.328\nNow there's different Different\nfunctional levels that Windows supports.\n\n81\n00:04:15.328 --> 00:04:19.636\nAnd you can see, it's basically every\ntime a new version of the operating\n\n82\n00:04:19.636 --> 00:04:22.972\nsystem comes out,\nwe get a new domain functional level,\n\n83\n00:04:22.972 --> 00:04:28.210\nbut my domain functional level can only be\nas high as the lowest operating system.\n\n84\n00:04:28.210 --> 00:04:32.396\nSo in this case, Server 2003 is the oldest\noperating system on my domain controllers.\n\n85\n00:04:32.396 --> 00:04:37.550\nMy domain functional level then has to\nbe Server 2003 domain functional level.\n\n86\n00:04:37.550 --> 00:04:41.942\nAnd that also means I won't be able to\ntake advantage of some of those features\n\n87\n00:04:41.942 --> 00:04:44.527\nthat I would get from 2008 and 2012.\n\n88\n00:04:44.527 --> 00:04:51.540\nNow once I come in here and let's say,\nwe upgraded this guy to 2008 R2.\n\n89\n00:04:53.090 --> 00:04:57.911\nWell, now the lowest domain controller\noperating system in my domain is\n\n90\n00:04:57.911 --> 00:05:02.731\n2008 R2 and I could actually raise\nmy domain functional level to and\n\n91\n00:05:02.731 --> 00:05:05.195\nlet me see if I can do this real quick.\n\n92\n00:05:05.195 --> 00:05:11.470\n2008 [SOUND] R2.\n\n93\n00:05:11.470 --> 00:05:16.210\nNow, couple things are gonna happen when\nI raise that domain functional level.\n\n94\n00:05:16.210 --> 00:05:20.206\nI'm gonna get to take advantage of some of\nthe features that were introduced in 2008\n\n95\n00:05:20.206 --> 00:05:23.023\nR2, like that Active Directory\nrecycle bin, for example.\n\n96\n00:05:23.023 --> 00:05:27.525\nWhat I won't be able to do is add any\ndomain controllers that are running\n\n97\n00:05:27.525 --> 00:05:30.463\nan operating system lower than 2008 R2.\n\n98\n00:05:30.463 --> 00:05:32.791\nIf I wanna bring up a new\ndomain controller, let's say,\n\n99\n00:05:32.791 --> 00:05:36.235\nI've got a member server that's running\n2008 and I decide I need another domain\n\n100\n00:05:36.235 --> 00:05:39.180\ncontroller for some reason and\nI wanna go ahead and promote it.\n\n101\n00:05:39.180 --> 00:05:43.770\nIt won't let me, because the domain\nfunctional level is at 2008 R2 and\n\n102\n00:05:43.770 --> 00:05:47.520\nall domain controllers are gonna\nhave to be there or higher.\n\n103\n00:05:49.020 --> 00:05:53.700\nOnce I've upgraded these guys,\nlet's say, we go through and\n\n104\n00:05:53.700 --> 00:05:59.722\ndo a major upgrade and all of my domain\ncontrollers are now running 2012 R2.\n\n105\n00:05:59.722 --> 00:06:05.971\nAt this point, I can go in and raise\nmy domain functional level to 2012 R2.\n\n106\n00:06:05.971 --> 00:06:07.695\nAgain, the same thing's gonna happen.\n\n107\n00:06:07.695 --> 00:06:12.187\nI will be able to take advantage of some\nof the new features that were available on\n\n108\n00:06:12.187 --> 00:06:15.874\n2012 R2, but I will not be able\nto add any domain controllers\n\n109\n00:06:15.874 --> 00:06:19.381\nthat are running an operating\nsystem less than 2012 R2.\n\n110\n00:06:19.381 --> 00:06:22.505\nSo when you look at raising\nyour domain functional level,\n\n111\n00:06:22.505 --> 00:06:25.320\nwhat you wanna keep in mind\nis what features do I get?\n\n112\n00:06:25.320 --> 00:06:29.010\nWhat are the advantages of\nmoving to that higher level?\n\n113\n00:06:29.010 --> 00:06:31.660\nAnd am I ever gonna need to add\n\n114\n00:06:31.660 --> 00:06:34.390\na domain controller that's running\nan older operating system?\n\n115\n00:06:35.830 --> 00:06:38.799\nSometimes, these domain function\nlevels don't bring a whole lot.\n\n116\n00:06:38.799 --> 00:06:42.902\nAnd so it might not be worth it, because\nall you're really doing is limiting\n\n117\n00:06:42.902 --> 00:06:46.299\nyourself to not being able to use\nsome of these older machines or\n\n118\n00:06:46.299 --> 00:06:49.790\nolder operating systems as\nyour domain controller.\n\n119\n00:06:49.790 --> 00:06:52.201\nSo that's at the domain level,\n\n120\n00:06:52.201 --> 00:06:56.499\nall of this is just referring\nto that individual domain.\n\n121\n00:06:56.499 --> 00:07:01.240\nWell, in your enterprise, in your forest,\nyou might have more than one domain and\n\n122\n00:07:01.240 --> 00:07:05.580\nthat's where we are going to get\ninto our forced functional levels.\n\n123\n00:07:05.580 --> 00:07:10.651\nAnd forcest functional levels work the\nsame way as the domain functional levels\n\n124\n00:07:10.651 --> 00:07:15.807\ndo, except it's on a per domain basis\ninstead of a per domain controller basis.\n\n125\n00:07:15.807 --> 00:07:22.050\nMy forcest functional level is determined\nby the lowest domain functional level.\n\n126\n00:07:22.050 --> 00:07:26.490\nSo this domain over here is still\nrunning at 2003 domain functional level.\n\n127\n00:07:26.490 --> 00:07:29.768\nThis guy is running a 2008\nR2 domain functional level,\n\n128\n00:07:29.768 --> 00:07:32.490\nthis guy is a 2012 R2 functional level.\n\n129\n00:07:32.490 --> 00:07:37.417\nThat means my forest can only\nbe 2003 functional level.\n\n130\n00:07:37.417 --> 00:07:39.468\nNow once they went through this domain and\n\n131\n00:07:39.468 --> 00:07:41.880\nupgraded each one of\nthese domain controllers.\n\n132\n00:07:41.880 --> 00:07:45.300\nLet's say, they through and\nupgraded them all to 2012,\n\n133\n00:07:45.300 --> 00:07:49.203\nthen they could raise their domain\nfunctional level to 2012 R2.\n\n134\n00:07:49.203 --> 00:07:51.772\nLet's say, they went to 2012 R2.\n\n135\n00:07:51.772 --> 00:07:55.396\nBut I still have domain\nthat's running 2008 R2, so\n\n136\n00:07:55.396 --> 00:08:00.317\nI could raise my forest to 2008 R2,\nbut I can't go any higher than that.\n\n137\n00:08:00.317 --> 00:08:02.987\nBecause one of the domains\nis still a 2008R2.\n\n138\n00:08:02.987 --> 00:08:09.471\nNow once they've finished upgrading all\nof their domain controllers to 2012R2,\n\n139\n00:08:09.471 --> 00:08:14.115\nand they raise their domain\nfunctional level to 2012R2,\n\n140\n00:08:14.115 --> 00:08:17.810\nthen I can go and\nraise the forest to 2012R2.\n\n141\n00:08:17.810 --> 00:08:20.610\nAnd it's the same scenario, right?\n\n142\n00:08:20.610 --> 00:08:22.650\nYou want to think about what\nfeatures am I gonna get.\n\n143\n00:08:22.650 --> 00:08:28.290\nWhat advantage do I get by going to\nthis 2012R2 forced functional level,\n\n144\n00:08:28.290 --> 00:08:29.410\nand do I want to?\n\n145\n00:08:29.410 --> 00:08:32.460\nBecause it's gonna mean that I\ncan never add another domain\n\n146\n00:08:32.460 --> 00:08:35.450\nthat's running anything less than 2012R2.\n\n147\n00:08:35.450 --> 00:08:38.040\n>> Yeah, Mike.\nWhat is sounds like is that the lower\n\n148\n00:08:38.040 --> 00:08:42.280\nlevel domains, either the domain\nfunction levels or the forest\n\n149\n00:08:42.280 --> 00:08:46.030\nfunction levels don't have the ability\nto ascend higher than what they are.\n\n150\n00:08:46.030 --> 00:08:48.140\nWe would have to go in and\ndo that for them.\n\n151\n00:08:48.140 --> 00:08:52.429\nBut if we have higher levels,\nif we had a 2012R2 domain level,\n\n152\n00:08:52.429 --> 00:08:57.263\nit could condescend down to that\n2003-2008, work in that level.\n\n153\n00:08:57.263 --> 00:09:00.328\nBut once we get everything up to snuff,\nwe kinda have to stick to it, right?\n\n154\n00:09:00.328 --> 00:09:00.931\n>> Exactly.\n\n155\n00:09:00.931 --> 00:09:03.630\nSo again,\nit is something you have to think about.\n\n156\n00:09:03.630 --> 00:09:04.990\nAnd I've got a website here.\n\n157\n00:09:04.990 --> 00:09:08.230\nI'll make sure I throw this link\nin the show notes for everyone.\n\n158\n00:09:08.230 --> 00:09:11.390\nBut it talks about the different\nfeatures that become available\n\n159\n00:09:11.390 --> 00:09:12.870\nat the different functional level.\n\n160\n00:09:12.870 --> 00:09:17.100\nSo this is a really good document to\nreference, one, when you're studying for\n\n161\n00:09:17.100 --> 00:09:21.420\nthe exam and as well as out there in\nthe real world if you're thinking about\n\n162\n00:09:21.420 --> 00:09:23.850\nraising your domain or\nforest functional level.\n\n163\n00:09:23.850 --> 00:09:27.920\nLike let's take a look here, the way this\nis laid out, I've got my features and\n\n164\n00:09:27.920 --> 00:09:31.010\nthen the supported operating\nsystems listed over there, and\n\n165\n00:09:31.010 --> 00:09:34.760\nas we scroll through here,\nsee if I can find a good example.\n\n166\n00:09:36.290 --> 00:09:39.930\nLike this 2012 domain functional level\n\n167\n00:09:39.930 --> 00:09:43.150\nbrought in the ability to\ndo KDC support for claims.\n\n168\n00:09:43.150 --> 00:09:45.820\nThis has to do with that\ndifferent authentication method,\n\n169\n00:09:45.820 --> 00:09:48.370\nwhere we can use claims for\nauthentication.\n\n170\n00:09:48.370 --> 00:09:52.800\nReally cool feature, but if you don't\nplan to use that in your environment,\n\n171\n00:09:52.800 --> 00:09:54.475\ndo you really want to go to this?\n\n172\n00:09:54.475 --> 00:09:56.870\nAnd I keep saying it's\ngoing to limit you and\n\n173\n00:09:56.870 --> 00:09:59.310\nyou think well why are you\nworried about that?\n\n174\n00:09:59.310 --> 00:10:02.896\nWhy would you ever want to bring an older\noperating system in as domain controller?\n\n175\n00:10:02.896 --> 00:10:06.370\nYou wouldn't think you would,\nbut it happens.\n\n176\n00:10:06.370 --> 00:10:09.250\nAll right, you need another\ndomain controller, right now, and\n\n177\n00:10:09.250 --> 00:10:13.930\nthe only one you've got is the 2008 member\nserver, and you need to promote it.\n\n178\n00:10:13.930 --> 00:10:17.440\nBut, if your functional level is already\nraised too high, you won't be able to.\n\n179\n00:10:17.440 --> 00:10:20.840\nBusiness mergers are another big problem.\n\n180\n00:10:20.840 --> 00:10:23.130\nOur network is all 2012R2.\n\n181\n00:10:23.130 --> 00:10:23.860\nWe're good to go.\n\n182\n00:10:23.860 --> 00:10:26.170\nWe've already raised our\ndomain functional level.\n\n183\n00:10:26.170 --> 00:10:28.420\nWe've raised our forest\nfunctional level up.\n\n184\n00:10:28.420 --> 00:10:28.920\nWe love it.\n\n185\n00:10:28.920 --> 00:10:31.070\nWe take advantage of all\nof those new features.\n\n186\n00:10:31.070 --> 00:10:34.320\nThen our boss comes to us and\nsays hey look, we're buying this company.\n\n187\n00:10:34.320 --> 00:10:39.990\nI need you to bring their domains into our\nforest because we're merging companies.\n\n188\n00:10:39.990 --> 00:10:44.120\nAnd you go and look at that other network\nand they've got 2008 domain controllers.\n\n189\n00:10:44.120 --> 00:10:46.700\nWell you can't bring that domain\ninto your forest anymore.\n\n190\n00:10:46.700 --> 00:10:49.420\nYou're going to have to go and\nupgrade all of their domain controllers.\n\n191\n00:10:49.420 --> 00:10:50.710\nThat means getting licenses and\n\n192\n00:10:50.710 --> 00:10:53.270\nall of that and that might not\nbe something they wanted to do.\n\n193\n00:10:53.270 --> 00:10:55.259\nSo, those are the kind of things\nyou've gotta think about.\n\n194\n00:10:55.259 --> 00:10:58.995\nWhen we look at forest functional levels,\nlike here 2008,\n\n195\n00:10:58.995 --> 00:11:01.494\nwell that's probably not a good example.\n\n196\n00:11:01.494 --> 00:11:03.247\nLet's look at 2012.\n\n197\n00:11:03.247 --> 00:11:09.590\nGoing to 2012 forest functional\nlevel gives you nothing.\n\n198\n00:11:09.590 --> 00:11:11.170\nNo additional features.\n\n199\n00:11:11.170 --> 00:11:12.080\nRight?\n\n200\n00:11:12.080 --> 00:11:17.580\nGoing to 2012R2 forest functional level\ngives you no additional features.\n\n201\n00:11:17.580 --> 00:11:23.400\nSo in my opinion, even if all my domains\nread 2012R2 domain functional level so\n\n202\n00:11:23.400 --> 00:11:26.360\nI could take advantage of some\nof those cool new features,\n\n203\n00:11:26.360 --> 00:11:28.060\nI'm not gonna raise my forest.\n\n204\n00:11:28.060 --> 00:11:31.150\nI'll leave it at 2008 because\n\n205\n00:11:31.150 --> 00:11:35.700\nI don't get anything from raising\nit to 2012, and I limit myself.\n\n206\n00:11:35.700 --> 00:11:38.840\nI ensure that I'll never\nbe able to add any domains\n\n207\n00:11:38.840 --> 00:11:40.950\nthat are a lower functional level.\n\n208\n00:11:40.950 --> 00:11:42.480\nSo hopefully that makes sense.\n\n209\n00:11:42.480 --> 00:11:45.860\nYou don't wanna just jump in and as\nsoon as you upgrade all of your domains,\n\n210\n00:11:45.860 --> 00:11:48.120\nyou'll wanna go and\nupgrade you forest functional level.\n\n211\n00:11:48.120 --> 00:11:49.170\nThere's really no need to.\n\n212\n00:11:49.170 --> 00:11:52.900\nYou wanna take time to consider, are there\nany cool features coming along with that?\n\n213\n00:11:52.900 --> 00:11:54.205\nAnything I'm gonna take advantage of?\n\n214\n00:11:54.205 --> 00:11:55.930\nIs it worth it?\n\n215\n00:11:55.930 --> 00:11:57.720\nBecause I am gonna be limiting myself.\n\n216\n00:11:57.720 --> 00:11:58.520\n>> Right.\n\n217\n00:11:58.520 --> 00:12:02.720\nNow Mike,\nonce we are ready to actually install and\n\n218\n00:12:02.720 --> 00:12:07.440\npromote a server into one of those\ndomain controllers that we love so much.\n\n219\n00:12:07.440 --> 00:12:09.600\nWe can't just kind of jump in that game,\nright?\n\n220\n00:12:09.600 --> 00:12:12.472\nWe have to do a little bit\nof preparation work, right?\n\n221\n00:12:12.472 --> 00:12:15.356\n>> We do.\nAnd for those of you that have done this\n\n222\n00:12:15.356 --> 00:12:19.050\nbefore you might be familiar\nwith the tool called AD Prep.\n\n223\n00:12:19.050 --> 00:12:24.940\nAnd AD Prep is a utility that's\nfound on the installation media.\n\n224\n00:12:24.940 --> 00:12:30.820\nSo when you go and get 2012R2 DVD,\nin the support folder is AD prep.\n\n225\n00:12:30.820 --> 00:12:33.420\nNow in the past, and I'll talk about\nwhat it is well, lets go ahead and\n\n226\n00:12:33.420 --> 00:12:34.840\ntalk about it is.\n\n227\n00:12:34.840 --> 00:12:39.120\nAD prep basically prepares\nActive Directory for\n\n228\n00:12:39.120 --> 00:12:40.680\nthose new feature, all right?\n\n229\n00:12:40.680 --> 00:12:43.380\nHere you are installing your first,\nwhen you install your\n\n230\n00:12:43.380 --> 00:12:48.630\nfirst 2012R2 domain controller,\nyou're gonna bring it in to that domain.\n\n231\n00:12:48.630 --> 00:12:53.316\nWell, there's new features,\nnew capabilities, that that 2012R2\n\n232\n00:12:53.316 --> 00:12:57.810\noperating system has that the older\noperating systems don't understand.\n\n233\n00:12:57.810 --> 00:13:00.550\nSo we've gotta prepare the environment for\nthat.\n\n234\n00:13:00.550 --> 00:13:05.150\nLike there's additions to the schema,\nand the schema is the blueprint for\n\n235\n00:13:05.150 --> 00:13:08.480\nall the objects that we can\ncreate in Active Directory.\n\n236\n00:13:08.480 --> 00:13:12.120\nWe have to prepare that, because this new\ndomain controller's gonna come in and\n\n237\n00:13:12.120 --> 00:13:13.260\nit's gonna have these features.\n\n238\n00:13:13.260 --> 00:13:16.560\nBut like I said, the older domain\ncontrollers don't understand them,\n\n239\n00:13:16.560 --> 00:13:18.930\nwon't know what's going on.\n\n240\n00:13:18.930 --> 00:13:21.200\nThere's several things that we have to do.\n\n241\n00:13:21.200 --> 00:13:26.240\nThere's AD prep forest prep which\nprepares the entire forest, basically is\n\n242\n00:13:26.240 --> 00:13:31.860\nchanging the schema to support the new\nattributes that 2012R2 brings with it.\n\n243\n00:13:31.860 --> 00:13:35.560\nThere's also AD prep domain prep,\n\n244\n00:13:35.560 --> 00:13:40.340\nwhich repairs the domain itself for\nthis new operating system.\n\n245\n00:13:40.340 --> 00:13:45.480\nThere's AD Prep group policy prep, or\nGP Prep, which prepares group policy for\n\n246\n00:13:45.480 --> 00:13:48.220\nsome of the new options that 2012 brings.\n\n247\n00:13:48.220 --> 00:13:53.380\nAnd there's also an AD Prep RODC\nprep which you need to run\n\n248\n00:13:53.380 --> 00:13:57.290\nif you're going to create any\nread only domain controllers.\n\n249\n00:13:58.390 --> 00:14:01.220\nNow in the past we had\nto run these manually.\n\n250\n00:14:01.220 --> 00:14:06.100\nSo I remember back when we first went\nto 2008 on our domain controllers.\n\n251\n00:14:06.100 --> 00:14:09.050\nI had to go to one of my\nexisting domain controllers,\n\n252\n00:14:09.050 --> 00:14:13.650\nI had to pop in that 2008 DVD and\nI had to run AD prep forest prep.\n\n253\n00:14:15.240 --> 00:14:20.360\nAnd to run AD prep forest prep, you had to\nbe in the enterprise admins group, you had\n\n254\n00:14:20.360 --> 00:14:26.100\nto be a member of the schema admins group\nas well as the domain admins group.\n\n255\n00:14:26.100 --> 00:14:27.856\nSo you had to be in all three of those,\n\n256\n00:14:27.856 --> 00:14:31.510\nbecause you're making a change to\nthe forest, not just one domain.\n\n257\n00:14:31.510 --> 00:14:34.700\nSo a domain admin on its own\ndoesn't have enough rights.\n\n258\n00:14:34.700 --> 00:14:36.470\nYou're modifying the schema.\n\n259\n00:14:36.470 --> 00:14:38.330\nAnd to make changes to the schema,\n\n260\n00:14:38.330 --> 00:14:41.120\nyou have to be a member of\nthe schema admins group and\n\n261\n00:14:41.120 --> 00:14:44.740\nthe enterprise admins group, again,\nto make changes to the entire forest.\n\n262\n00:14:44.740 --> 00:14:48.820\nSo you'd have to run that and\nthen you had to wait until that\n\n263\n00:14:48.820 --> 00:14:53.660\nhad replicated to all the domain\ncontrollers throughout your entire forest.\n\n264\n00:14:53.660 --> 00:14:58.453\nThen you'd have to go back, and in the\ndomain that we added that new 2008 Domain\n\n265\n00:14:58.453 --> 00:15:01.720\ncontroller too,\nI had to run AD prep domain prep.\n\n266\n00:15:01.720 --> 00:15:03.860\nAnd I had to be a domain\nadmin at this point,\n\n267\n00:15:03.860 --> 00:15:07.040\nbecause now you're only making\nchanges to that domain, and\n\n268\n00:15:07.040 --> 00:15:12.010\nthen your AD prep GP prep for\nthat group policy prep, right.\n\n269\n00:15:12.010 --> 00:15:16.130\nWhat's really cool about 2012R2 is\nwe don't have to do that anymore.\n\n270\n00:15:16.130 --> 00:15:18.927\nIt still has to be done,\ndon't get me wrong, but it's automatic.\n\n271\n00:15:18.927 --> 00:15:23.520\nWhen you go and install it,\nwhen you pop in that 2012R2 DVD.\n\n272\n00:15:23.520 --> 00:15:28.240\nAnd you go to create your first\n2012R2 domain controller,\n\n273\n00:15:28.240 --> 00:15:30.480\nor promote it to be a domain controller.\n\n274\n00:15:30.480 --> 00:15:32.800\nIt's going to go ahead and run those for\n\n275\n00:15:32.800 --> 00:15:37.230\nyou, which is really cool cuz it's one\nless thing that I have to worry about.\n\n276\n00:15:37.230 --> 00:15:40.640\nBut you still need the credentials,\nit will check the credentials.\n\n277\n00:15:40.640 --> 00:15:45.334\nWhen you're promoting that to a domain\ncontroller, it's gonna automatically\n\n278\n00:15:45.334 --> 00:15:49.623\nattempt to run AD prep forest prep,\nAD prep domain prep, AD prep GP prep.\n\n279\n00:15:49.623 --> 00:15:51.760\nBut if your credentials\naren't high enough,\n\n280\n00:15:51.760 --> 00:15:53.951\nif you're not in\nthe Enterprise Admins group,\n\n281\n00:15:53.951 --> 00:15:56.984\nif you're not in the Schema Admins group,\nit'll fail, right?\n\n282\n00:15:56.984 --> 00:15:58.376\nAnd it won't work.\n\n283\n00:15:58.376 --> 00:16:02.184\nYou can still run them independently.\n\n284\n00:16:02.184 --> 00:16:03.787\nIn fact here I can show you.\n\n285\n00:16:03.787 --> 00:16:07.220\nLet me pop out I think I\nalready got the dvd in here.\n\n286\n00:16:09.250 --> 00:16:14.070\nAlright so inside sources, I'm sorry\nnot sources, support is where I'm\n\n287\n00:16:14.070 --> 00:16:18.850\ngoing to find, if my computer will\nplay along it's sluggish today.\n\n288\n00:16:20.690 --> 00:16:22.540\nCome on baby, there we go.\n\n289\n00:16:22.540 --> 00:16:24.770\nThere's where I'm going to find AD prep.\n\n290\n00:16:24.770 --> 00:16:29.200\nAnd what you would do is you would\nopen up a command prompt, and\n\n291\n00:16:29.200 --> 00:16:33.009\nwe'll change over I think\nit's on my d drive, and\n\n292\n00:16:33.009 --> 00:16:39.031\nwe'll do a cd support/adprep.\n\n293\n00:16:39.031 --> 00:16:45.170\nAnd in here,\nwe'll find there's AD prep, and\n\n294\n00:16:45.170 --> 00:16:48.940\nhere I can see all the different\nparameters that I can use with that,\n\n295\n00:16:48.940 --> 00:16:53.320\nas well as some examples down\nhere of using those commands.\n\n296\n00:16:53.320 --> 00:16:56.460\nSo again 2012's going to run it for\nyou automatic.\n\n297\n00:16:56.460 --> 00:16:59.580\nBut let's say I need Joe Intern.\n\n298\n00:16:59.580 --> 00:17:01.290\nWell I guess I wouldn't have\nan intern doing this, would I?\n\n299\n00:17:01.290 --> 00:17:01.890\n>> [LAUGH]\n>> Probably not.\n\n300\n00:17:01.890 --> 00:17:06.090\nBut let's say I needed one\nof my IT admins to do this.\n\n301\n00:17:06.090 --> 00:17:09.970\nHe was going to go and set up that\nfirst 2012 R2 domain controller.\n\n302\n00:17:11.110 --> 00:17:13.050\nBut he's not an enterprise admin right?\n\n303\n00:17:13.050 --> 00:17:15.310\nAnd I'm not going to make\nhim an enterprise admin or\n\n304\n00:17:15.310 --> 00:17:18.610\nadd him to the scheme of admins\ngroup just to do this, right?\n\n305\n00:17:18.610 --> 00:17:21.130\nSo I might have to run this ahead of time.\n\n306\n00:17:21.130 --> 00:17:25.540\nI might come in and run\nAD Prep Force Prep, and then when I'm done\n\n307\n00:17:25.540 --> 00:17:29.370\nI can tell him, okay, now you can go ahead\nand make that 2012 domain controller.\n\n308\n00:17:29.370 --> 00:17:31.640\nSo you still can use the DVD and\n\n309\n00:17:31.640 --> 00:17:36.650\nyou still can run AD Prep separately\nfrom the install process.\n\n310\n00:17:38.470 --> 00:17:41.617\nIf the person doing the promotion is\nalready a member of all those groups,\n\n311\n00:17:41.617 --> 00:17:43.515\nthen you just don't\nhave to worry about it.\n\n312\n00:17:43.515 --> 00:17:45.591\nYou can just let it run and\nit will do it for you in the background,\n\n313\n00:17:45.591 --> 00:17:46.620\nwhich is pretty darn cool.\n\n314\n00:17:46.620 --> 00:17:50.650\n>> Yeah, I like automation and the fact\nthat they have put that in as an automated\n\n315\n00:17:50.650 --> 00:17:54.300\nfeature now, I don't have to go through\neach one of those processes myself.\n\n316\n00:17:54.300 --> 00:17:56.420\nI just let the Wizard handle it for me.\n\n317\n00:17:56.420 --> 00:17:57.650\nThat is a big help.\n\n318\n00:17:57.650 --> 00:17:58.720\nThank you, Microsoft.\n\n319\n00:17:58.720 --> 00:17:59.801\nKudos to you.\n\n320\n00:17:59.801 --> 00:18:00.885\n>> [LAUGH] Exactly.\n\n321\n00:18:00.885 --> 00:18:01.698\nExactly right.\n\n322\n00:18:01.698 --> 00:18:02.852\nAll right, let's see.\n\n323\n00:18:02.852 --> 00:18:04.460\nLet's take a look now.\n\n324\n00:18:04.460 --> 00:18:08.460\nAdd some of the installation\noptions we get\n\n325\n00:18:08.460 --> 00:18:10.700\nwhen we're installing a domain controller.\n\n326\n00:18:10.700 --> 00:18:13.710\nThere are some pre reqs to\ninstalling active directory.\n\n327\n00:18:13.710 --> 00:18:15.690\nDNS is required.\n\n328\n00:18:15.690 --> 00:18:17.760\nLike if you're setting up\nyour first domain controller.\n\n329\n00:18:17.760 --> 00:18:21.900\nLike if you're adding a domain controller\nat this point most of these are already,\n\n330\n00:18:21.900 --> 00:18:24.430\nand you're already going to have DNS,\nright, because you've already got domain\n\n331\n00:18:24.430 --> 00:18:26.750\ncontrollers, but\nyou're going to need the DNS,\n\n332\n00:18:26.750 --> 00:18:32.290\nyour domain controller the machine\nyou're making a domain controller\n\n333\n00:18:32.290 --> 00:18:37.298\nalso needs static IP addresses, so we need\nto manually assign those, cannot be DHCP.\n\n334\n00:18:37.298 --> 00:18:40.390\nIt needs TCP/IP.\n\n335\n00:18:40.390 --> 00:18:43.190\nI laugh sometimes when I read\nsome of Microsoft's pre-reqs.\n\n336\n00:18:43.190 --> 00:18:45.380\nOh, yeah, I didn't think about that.\n\n337\n00:18:45.380 --> 00:18:48.150\nI better make sure I've got\nnetwork connectivity on this guy.\n\n338\n00:18:48.150 --> 00:18:49.960\nYeah, you need network connectivity.\n\n339\n00:18:49.960 --> 00:18:51.830\nHopefully that's a no brainer for you.\n\n340\n00:18:51.830 --> 00:18:53.466\nAnd hopefully TCIP.\n\n341\n00:18:53.466 --> 00:18:55.133\nThere's another no-brainer,\n\n342\n00:18:55.133 --> 00:18:59.270\nunless you're not trying to set this up\non a network that's not running TCP/IP.\n\n343\n00:18:59.270 --> 00:19:01.760\n>> That's a strange network.\n\n344\n00:19:01.760 --> 00:19:04.360\n>> They do exist, but\nthat's a strange network.\n\n345\n00:19:04.360 --> 00:19:06.450\n>> I'm trying to get\nApple's little protocol.\n\n346\n00:19:06.450 --> 00:19:07.120\n>> Apple talk.\n\n347\n00:19:07.120 --> 00:19:07.840\nApple talking.\n\n348\n00:19:07.840 --> 00:19:11.150\nMaybe your running a domain\ncontroller on Apple.\n\n349\n00:19:11.150 --> 00:19:12.130\n>> Yeah, probably not.\n\n350\n00:19:12.130 --> 00:19:13.300\n>> Probably not.\n\n351\n00:19:13.300 --> 00:19:15.910\nAll right so what I want to do here\nthough, let me switch over to another\n\n352\n00:19:15.910 --> 00:19:20.061\nvirtual machine real quick if I\ncan get my guy to play along here.\n\n353\n00:19:20.061 --> 00:19:23.153\n[SOUND] And\nI'm going show you in another episode,\n\n354\n00:19:23.153 --> 00:19:27.202\nwe'll take a look at actually\ninstalling Active Directory, but\n\n355\n00:19:27.202 --> 00:19:31.929\nI know we're running out of time, but\nI want to show you some of the options.\n\n356\n00:19:31.929 --> 00:19:33.596\nSome of the things you've\ngot to think about,\n\n357\n00:19:33.596 --> 00:19:35.020\nremember you've got to plan this out.\n\n358\n00:19:35.020 --> 00:19:37.388\nYou don't want to just say oh,\nI'm going to make it a main controller,\n\n359\n00:19:37.388 --> 00:19:38.680\npop in the disc and go to town.\n\n360\n00:19:38.680 --> 00:19:40.460\nYou really want to think\nabout what you're doing.\n\n361\n00:19:40.460 --> 00:19:42.940\nWhat functional levels do you want to use?\n\n362\n00:19:42.940 --> 00:19:45.160\nYou've got to name that server, right?\n\n363\n00:19:45.160 --> 00:19:47.370\nYou can't change the name\nof a domain controller.\n\n364\n00:19:47.370 --> 00:19:49.880\nOnce again, I take that back,\nyou actually can now.\n\n365\n00:19:49.880 --> 00:19:53.290\nMicrosoft has changed that, but\nI don't know about you Daniel,\n\n366\n00:19:53.290 --> 00:19:55.190\nI would never want to.\n\n367\n00:19:55.190 --> 00:19:55.860\n>> Too many things.\n\n368\n00:19:55.860 --> 00:19:58.480\nA lot of times, especially when\nyou have a development team,\n\n369\n00:19:58.480 --> 00:20:01.830\nthey'll get ingrained with that\nwas the name of the server.\n\n370\n00:20:01.830 --> 00:20:04.650\nNow, we can do things like DNS aliases and\neverything like that, but\n\n371\n00:20:04.650 --> 00:20:08.350\nit's kind of a pain, especially if\nIf that's what people are used to.\n\n372\n00:20:08.350 --> 00:20:10.270\nAnd you don't want to create\nrecords if you don't have to, so\n\n373\n00:20:10.270 --> 00:20:14.640\nit's just easier to keep\nthe name convention the same.\n\n374\n00:20:14.640 --> 00:20:17.000\nLet that server always be that server.\n\n375\n00:20:17.000 --> 00:20:19.450\nIf you need a new server,\nyou call it something else and\n\n376\n00:20:19.450 --> 00:20:20.870\nyou start pointing stuff to it.\n\n377\n00:20:20.870 --> 00:20:23.930\nAnd if you need to you can\ncreate those DNS aliases and\n\n378\n00:20:23.930 --> 00:20:26.490\nstart pointing things to the new stuff.\n\n379\n00:20:26.490 --> 00:20:27.490\n>> Exactly.\nSo for prereqs for\n\n380\n00:20:27.490 --> 00:20:29.970\nthat the domain controller,\nmake sure you've already set the name for\n\n381\n00:20:29.970 --> 00:20:31.550\nthat domain controller.\n\n382\n00:20:31.550 --> 00:20:35.260\nMake sure you statically map that IP\naddress on that domain controller,\n\n383\n00:20:35.260 --> 00:20:36.990\nmake sure you got network connectivity,\n\n384\n00:20:36.990 --> 00:20:40.320\nmake sure you're running TCP/IP\non those network adapters.\n\n385\n00:20:40.320 --> 00:20:43.100\nI'm going to show you this process\nhere in just a minute, but\n\n386\n00:20:43.100 --> 00:20:45.390\nI wanted to pull this screen up\nto to show you these options,\n\n387\n00:20:45.390 --> 00:20:48.120\nbecause this is another thing\nthat you've got to think about.\n\n388\n00:20:48.120 --> 00:20:50.140\nWhen you're doing your installation,\n\n389\n00:20:50.140 --> 00:20:53.640\nwhere are you trying to put\nthis domain controller, right?\n\n390\n00:20:53.640 --> 00:20:55.720\nYou've got three choices basically.\n\n391\n00:20:55.720 --> 00:20:59.820\nYou've got your forest, and then you've\ngot your domains within your forest.\n\n392\n00:20:59.820 --> 00:21:04.140\nYou could be adding a domain\ncontroller to an existing domain.\n\n393\n00:21:04.140 --> 00:21:09.330\nSo I've already got a domain, lab.net, and\nI've got one domain controller in there.\n\n394\n00:21:09.330 --> 00:21:10.860\nWell, we want fall tolerance, so\n\n395\n00:21:10.860 --> 00:21:14.740\nI want to put a second domain controller\nin there in case the first one fails or\n\n396\n00:21:14.740 --> 00:21:20.240\nis unavailable, so I would be adding\na domain controller to an existing domain.\n\n397\n00:21:20.240 --> 00:21:23.960\nOr I might be trying to make\na new domain within my forest.\n\n398\n00:21:23.960 --> 00:21:28.870\nMaybe I'll want a child domain,\nlike east.lab.net, or\n\n399\n00:21:28.870 --> 00:21:31.640\nmaybe I want a separate tree in my forest.\n\n400\n00:21:31.640 --> 00:21:36.270\nAnd I want to make a fabricam.com,\na separate name space over there.\n\n401\n00:21:36.270 --> 00:21:39.110\nSo I'd be adding a new\ndomain to an existing force.\n\n402\n00:21:39.110 --> 00:21:42.710\nNow when you choose this option,\nit's going to ask you, well,\n\n403\n00:21:42.710 --> 00:21:43.310\nwhat are you doing?\n\n404\n00:21:43.310 --> 00:21:49.240\nAre you creating a child domain or are you\ncreating a new tree within your force?\n\n405\n00:21:49.240 --> 00:21:52.430\nAnd then the third option\nis adding a new forest.\n\n406\n00:21:52.430 --> 00:21:54.880\nMaybe I am setting up a brand new forest,\n\n407\n00:21:54.880 --> 00:21:59.550\na test forest that's going to mimic my\nproduction environment that we use for\n\n408\n00:21:59.550 --> 00:22:04.240\ntesting or development, or\nmaybe I'm lucky enough to be involved with\n\n409\n00:22:04.240 --> 00:22:07.910\na network that's getting set up from\nthe ground up, and I've got nothing.\n\n410\n00:22:07.910 --> 00:22:12.550\nThat first domain controller you create\nis going to create your first domain,\n\n411\n00:22:12.550 --> 00:22:13.640\nas well as your force.\n\n412\n00:22:13.640 --> 00:22:16.027\nSo you would choose the option\nto add a new force.\n\n413\n00:22:16.027 --> 00:22:18.350\nSo again,\nthings that you've got to think about.\n\n414\n00:22:18.350 --> 00:22:22.090\nNow if you're adding a domain controller\nto an existing domain, that means\n\n415\n00:22:22.090 --> 00:22:27.320\nthe domain already exists, then you need\nto be a domain admin in that domain.\n\n416\n00:22:27.320 --> 00:22:31.660\nDomain admin can add additional domain\ncontrollers to that existing domain.\n\n417\n00:22:31.660 --> 00:22:35.630\nYou also need to be\nan administrator on that server.\n\n418\n00:22:35.630 --> 00:22:38.940\nIf you're adding a new domain\nto an existing forest,\n\n419\n00:22:38.940 --> 00:22:40.635\nnow all of a sudden you need\nto be an enterprise admin,\n\n420\n00:22:40.635 --> 00:22:44.990\nbecause you're making changes to\nthe forest, not an individual domain.\n\n421\n00:22:44.990 --> 00:22:47.640\nAnd to add a new forest,\nyou don't need anything.\n\n422\n00:22:47.640 --> 00:22:51.280\nWell, you do need to be an admin on the\nlocal machine, but there is no domain yet,\n\n423\n00:22:51.280 --> 00:22:55.200\nthere is no forest yet, so\nthere is no forest enterprise admin and\n\n424\n00:22:55.200 --> 00:22:56.560\nthere is no domain admin.\n\n425\n00:22:56.560 --> 00:22:59.940\nYou would just need to be\nan administrator on that local machine.\n\n426\n00:22:59.940 --> 00:23:03.060\nSo again, all these are things\nthat you have to think about\n\n427\n00:23:03.060 --> 00:23:05.570\nwhen you're preparing to set\nup the domain controller.\n\n428\n00:23:07.420 --> 00:23:12.850\nAll right, and that's really,\nI think all we need to do to get ready for\n\n429\n00:23:12.850 --> 00:23:14.880\nit until we actually\nstart the installation.\n\n430\n00:23:14.880 --> 00:23:17.640\n>> Started pumping right\nthrough that old AD promotion.\n\n431\n00:23:17.640 --> 00:23:19.310\nAnd it's really not that difficult,\n\n432\n00:23:19.310 --> 00:23:19.810\nyou just --\n>> It's not.\n\n433\n00:23:19.810 --> 00:23:21.470\n>> It's basically nexting\nour way through wizard.\n\n434\n00:23:21.470 --> 00:23:24.272\nAnd answer some questions,\nhave some credentials ready,\n\n435\n00:23:24.272 --> 00:23:25.454\nyou should be good to go.\n\n436\n00:23:25.454 --> 00:23:28.542\n>> And there are several different\nways you can go about it though, so\n\n437\n00:23:28.542 --> 00:23:30.707\nwe'll take care of those\nin another episode.\n\n438\n00:23:30.707 --> 00:23:31.530\n>> Awesome.\n\n439\n00:23:31.530 --> 00:23:34.860\nWell, hopefully, you guys are getting\nyour feet wet with AD and\n\n440\n00:23:34.860 --> 00:23:38.100\nthese different levels and function\nlevels that we have for both of those and\n\n441\n00:23:38.100 --> 00:23:41.070\nare getting ready to do\nyour first AD promotion.\n\n442\n00:23:41.070 --> 00:23:43.070\nThat being said, though,\nwe have wrapped this episode up.\n\n443\n00:23:43.070 --> 00:23:45.454\nFor ITProTV,\nI've been you host Daniel Lowry.\n\n444\n00:23:45.454 --> 00:23:46.700\n>> And I'm Mike Roderick.\n\n445\n00:23:46.700 --> 00:23:47.575\n>> And we'll see you next time.\n\n446\n00:23:47.575 --> 00:23:52.930\n[MUSIC]\n\n",
          "vimeoId": "133747470"
        },
        {
          "description": "In this episode, Daniel and Mike discuss the different methods used to install Active Directory. They cover using Server Manager, promoting a core install, and discuss setting up Active Directory on Microsoft Azure.",
          "length": "1548",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-13-2-installing_ad_ds-071615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-13-2-installing_ad_ds-071615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-13-2-installing_ad_ds-071615-1-sm.jpg",
          "title": "Installing AD DS",
          "transcript": "WEBVTT\n\n1\n00:00:00.009 --> 00:00:10.087\n[MUSIC]\n\n2\n00:00:10.087 --> 00:00:14.662\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.662 --> 00:00:16.160\nI'm your host, Daniel Lowrie.\n\n4\n00:00:16.160 --> 00:00:20.820\nAnd here with my today is my good friend,\nmy colleague, the AD master himself.\n\n5\n00:00:20.820 --> 00:00:21.820\nThat's Mike Rodrick.\n\n6\n00:00:21.820 --> 00:00:22.660\nHow's it going today, Mike?\n\n7\n00:00:22.660 --> 00:00:24.050\n>> It's going great Daniel,\n\n8\n00:00:24.050 --> 00:00:27.730\ncuz we are continuing our\ndiscussion of active directory.\n\n9\n00:00:27.730 --> 00:00:32.320\nIn our previous episode, we had looked at\nwhat it took to make a domain controller.\n\n10\n00:00:32.320 --> 00:00:36.290\nWe talked about some of the pre-reqs,\nand domain functional levels,\n\n11\n00:00:36.290 --> 00:00:38.210\nand forest functional levels.\n\n12\n00:00:38.210 --> 00:00:41.785\nWe went over AD prep and things like that,\nso at this point we should be ready to\n\n13\n00:00:41.785 --> 00:00:45.130\ninstall a domain controller and\nthat's what we're gonna do.\n\n14\n00:00:45.130 --> 00:00:49.280\n>> Yeah and installing domain controllers\nis a lot of fun and it's not to difficult.\n\n15\n00:00:49.280 --> 00:00:53.200\nBut you do need to know some ins and outs\nto make sure that as you're going through\n\n16\n00:00:53.200 --> 00:00:56.100\nthe little wizards that they give you\nthat you're actually doing it correctly.\n\n17\n00:00:56.100 --> 00:01:00.490\nYou don't wanna have to do it again or\nblast anything and smoke some stuff.\n\n18\n00:01:00.490 --> 00:01:01.440\nThat's never a fun time.\n\n19\n00:01:01.440 --> 00:01:04.970\nWe want to make sure that you know all the\nthings that you definitely need to know\n\n20\n00:01:04.970 --> 00:01:09.120\nfor that exam when you take that 7410 or\nany other Microsoft exam.\n\n21\n00:01:09.120 --> 00:01:10.530\nThey ask you about active directory.\n\n22\n00:01:10.530 --> 00:01:12.500\nI want to make sure\nthat you're up on that,\n\n23\n00:01:12.500 --> 00:01:16.980\nand especially promotion\nof AD's domain controllers.\n\n24\n00:01:16.980 --> 00:01:17.840\nAlways a good time.\n\n25\n00:01:17.840 --> 00:01:21.820\n>> Absolutely, so let's take a look at\nsome of the different ways we can go about\n\n26\n00:01:21.820 --> 00:01:24.480\npromoting a server and\nmaking it a domain controller.\n\n27\n00:01:24.480 --> 00:01:28.480\nSo we're gonna start with a member server,\nthat's a server that's been joined to our\n\n28\n00:01:28.480 --> 00:01:32.190\ndomain, and we're gonna making\ninto a domain controller,\n\n29\n00:01:32.190 --> 00:01:36.620\nwhich means we're gonna install Active\nDirectory Domain Services on that server.\n\n30\n00:01:36.620 --> 00:01:39.530\nThat's what it means to promote\na server to a domain controller.\n\n31\n00:01:39.530 --> 00:01:43.850\nAnd as I said, there's several different\nways we can actually go about that.\n\n32\n00:01:43.850 --> 00:01:47.080\nThe first way that you can do\nit is simply through the GUI.\n\n33\n00:01:47.080 --> 00:01:52.840\nIt's one of the easier ways, but it's also\na way that's not really easy to automate.\n\n34\n00:01:52.840 --> 00:01:56.820\nBecause it is again using these\nwizards to act in the GUI, and\n\n35\n00:01:56.820 --> 00:01:57.820\nbut let's take a look at it.\n\n36\n00:01:57.820 --> 00:02:01.360\nSo here I am, I'm on a server and\ninstalling Active Directory or\n\n37\n00:02:01.360 --> 00:02:06.660\nmaking a domain controller I should say\nthis way is actually a two step process,\n\n38\n00:02:06.660 --> 00:02:07.970\nthere's two parts to it.\n\n39\n00:02:07.970 --> 00:02:11.540\nThe first thing you've gotta do it\nyou've gotta install the role itself.\n\n40\n00:02:11.540 --> 00:02:13.335\nAnd that gets installed\nlike any other role.\n\n41\n00:02:13.335 --> 00:02:15.590\nI;m gonna click my add roles and\nfeatures wizard here,\n\n42\n00:02:15.590 --> 00:02:19.400\nand I've already done it on this\nmachine cuz it can take a minute to do.\n\n43\n00:02:19.400 --> 00:02:21.560\nAnd I wanted to speed things up for\nour demo.\n\n44\n00:02:21.560 --> 00:02:23.010\nBut you would click add roles and\n\n45\n00:02:23.010 --> 00:02:27.230\nfeatures, I would click next\nto get past my intro screen,\n\n46\n00:02:27.230 --> 00:02:31.700\nrole based installation, server 01 is\nthe machine I'm on, I'm good to go.\n\n47\n00:02:31.700 --> 00:02:34.580\nAnd now when I get to my list of roles.\n\n48\n00:02:34.580 --> 00:02:38.060\nActive directory domain\nservices is one of my roles.\n\n49\n00:02:38.060 --> 00:02:42.750\nI would check that and I would basically\njust click next, next, next, install and\n\n50\n00:02:42.750 --> 00:02:44.580\nit would go and install that role.\n\n51\n00:02:44.580 --> 00:02:48.800\nBut once that role finishes installing,\nyou don't have a domain controller.\n\n52\n00:02:48.800 --> 00:02:52.120\nThat's just unpacking all\nthe role components and\n\n53\n00:02:52.120 --> 00:02:55.430\ngetting everything ready,\nTo make it into a domain controller.\n\n54\n00:02:55.430 --> 00:02:58.360\nWe still have to go back and\nactually configure it and\n\n55\n00:02:58.360 --> 00:03:00.030\nturn it into a domain controller.\n\n56\n00:03:00.030 --> 00:03:03.950\nAnd at the end of that wizard, there's\na link right in the middle of the results\n\n57\n00:03:03.950 --> 00:03:06.900\nthat says, Promote this server\nto a domain controller.\n\n58\n00:03:06.900 --> 00:03:08.480\nAnd you can definitely click on that.\n\n59\n00:03:08.480 --> 00:03:09.630\nIf you close the wizard,\n\n60\n00:03:09.630 --> 00:03:13.250\nthough, when it gets done running\nyou'll have a notification up here.\n\n61\n00:03:13.250 --> 00:03:17.930\nLike I do, cuz I've already run the wizard\nonce, so I can click on notifications, and\n\n62\n00:03:17.930 --> 00:03:21.760\nI can bring that, there's my\npost-deployment configuration and\n\n63\n00:03:21.760 --> 00:03:24.530\nthere's my link promote this\nserver to a domain controller.\n\n64\n00:03:24.530 --> 00:03:28.960\nSo it really doesn't matter if you click\non it at the end of the first wizard or\n\n65\n00:03:28.960 --> 00:03:32.160\nif you close that first wizard and\nyou come up here to your notifications.\n\n66\n00:03:32.160 --> 00:03:35.130\nAnd you click on it here,\neither way will work.\n\n67\n00:03:35.130 --> 00:03:37.409\nOne thing you will, or\nyou should, know though,\n\n68\n00:03:37.409 --> 00:03:41.097\nis that if you have done this before, if\nyou have worked with servers in the past,\n\n69\n00:03:41.097 --> 00:03:43.470\nwe used to use something called DC promo.\n\n70\n00:03:43.470 --> 00:03:47.210\nWe would go to the Command line,\ntype in DC promo.\n\n71\n00:03:47.210 --> 00:03:50.280\nAnd that would start the configuration,\nDC promo,\n\n72\n00:03:50.280 --> 00:03:52.580\nstanding for domain controller promotion.\n\n73\n00:03:52.580 --> 00:03:53.800\nThat's how we would make it.\n\n74\n00:03:53.800 --> 00:03:57.270\nThat has been depreciated in 2012 and\n2012 R2.\n\n75\n00:03:57.270 --> 00:04:02.060\nIt's still there because we can use it on\nserver core where we don't have the GUI.\n\n76\n00:04:02.060 --> 00:04:09.600\nBut in 2012 R2, again,\nit has been depreciated.\n\n77\n00:04:09.600 --> 00:04:15.650\nAnd instead we use this Active Directory\nDomain Service Configuration Wizard.\n\n78\n00:04:15.650 --> 00:04:19.525\nAnd, if I can get this to\nmove over just a little bit.\n\n79\n00:04:19.525 --> 00:04:22.585\nMy mouse doesn't seem to\nbe playing along very well.\n\n80\n00:04:23.585 --> 00:04:26.335\nAnyway, you've got three choices.\n\n81\n00:04:26.335 --> 00:04:29.455\nYou can chose add a domain\ncontroller to an existing domain.\n\n82\n00:04:29.455 --> 00:04:30.830\nMeans you've already got a domain.\n\n83\n00:04:30.830 --> 00:04:34.760\nIt already has domain controllers and you\njust want to add one for fault tolerance,\n\n84\n00:04:34.760 --> 00:04:38.000\nor redundancy, maybe something like that,\nor maybe for a geographic,\n\n85\n00:04:38.000 --> 00:04:41.220\nmaybe at a branch office,\nthat's part of the same domain.\n\n86\n00:04:41.220 --> 00:04:44.180\nOr you can add a new domain\nto an existing forest.\n\n87\n00:04:44.180 --> 00:04:46.300\nIf I'm adding a child domain.\n\n88\n00:04:46.300 --> 00:04:48.330\nFor a separate tree in my forest or\n\n89\n00:04:48.330 --> 00:04:51.370\nI could create a brand new\nforest if I have nothing.\n\n90\n00:04:51.370 --> 00:04:55.590\nOr I'm trying to create a new forest for\ntest purposes or something like that.\n\n91\n00:04:55.590 --> 00:04:59.465\nI'm gonna go ahead and choose add a domain\ncontroller to an existing domain.\n\n92\n00:04:59.465 --> 00:05:02.645\nAnd when I choose that,\nI have to tell it the name of the domain.\n\n93\n00:05:02.645 --> 00:05:03.465\nIt already exists.\n\n94\n00:05:03.465 --> 00:05:05.885\nI'm adding an additional\ndomain controller to it.\n\n95\n00:05:05.885 --> 00:05:07.915\nSo I would type in the name of the domain.\n\n96\n00:05:07.915 --> 00:05:09.595\nIt's already found that here.\n\n97\n00:05:09.595 --> 00:05:12.935\nIf I have more domains,\nI can click select and\n\n98\n00:05:12.935 --> 00:05:17.550\nit's gonna go look at my forest and give\nme a list of all the domains that exist.\n\n99\n00:05:17.550 --> 00:05:19.210\nI would take it from that list and\nclick OK.\n\n100\n00:05:19.210 --> 00:05:25.000\nAnd then I need my credentials, adding\na domain control to an existing domain,\n\n101\n00:05:25.000 --> 00:05:28.600\nI need to be a domain admin\nin that existing domain.\n\n102\n00:05:28.600 --> 00:05:32.260\nIf I was adding a new domain to an\nexisting force I would need to make sure\n\n103\n00:05:32.260 --> 00:05:35.210\nthat the credentials I used were\nin the enterprise admins group,\n\n104\n00:05:35.210 --> 00:05:38.910\nand if I was creating a new forest,\nwell, there are no real credentials to\n\n105\n00:05:38.910 --> 00:05:42.900\ncheck other than being a local\nadministrator on that server.\n\n106\n00:05:42.900 --> 00:05:44.550\nSo I am in the domain admins group.\n\n107\n00:05:44.550 --> 00:05:49.290\nI'm logged on as the domain administrator,\nso I'll ahead and leave it on add\n\n108\n00:05:49.290 --> 00:05:53.650\na domain controller, lab.net, lab slash\nadministrator for my credentials.\n\n109\n00:05:53.650 --> 00:06:01.770\nI'll click next and it's going to\neventually come to this next screen.\n\n110\n00:06:01.770 --> 00:06:04.520\nAnd now what it's going to do is\nit's gonna examine my network.\n\n111\n00:06:04.520 --> 00:06:09.470\nAnd see what I already have in place and\nIt takes it a second but\n\n112\n00:06:09.470 --> 00:06:11.120\nit's checking to see if I have DNS.\n\n113\n00:06:11.120 --> 00:06:15.550\nWe've said a couple times\nactive directory requires DNS.\n\n114\n00:06:15.550 --> 00:06:19.140\nSo if it doesn't find DNS,\nit's gonna want you to install it.\n\n115\n00:06:19.140 --> 00:06:21.560\nIf it does find DNS, you can uncheck it.\n\n116\n00:06:21.560 --> 00:06:24.360\nMaybe you're happy with your\ncurrent DNS infrastructure and\n\n117\n00:06:24.360 --> 00:06:26.940\nyou don't want another DNS server.\n\n118\n00:06:26.940 --> 00:06:27.890\nI'm gonna go ahead and leave it.\n\n119\n00:06:27.890 --> 00:06:30.230\nI always like putting Active Directory and\n\n120\n00:06:30.230 --> 00:06:34.620\nDNS on the same machine because\nActive Directory, again, relies on DNS.\n\n121\n00:06:34.620 --> 00:06:36.100\nSo if they're on the same machine,\n\n122\n00:06:36.100 --> 00:06:39.730\nthat way I know it should\nalways have access to DNS.\n\n123\n00:06:39.730 --> 00:06:42.150\nGlobal catalog,\nI'm gonna leave that for now.\n\n124\n00:06:42.150 --> 00:06:45.720\nWe'll come back and\ntalk about what a global catalog is.\n\n125\n00:06:45.720 --> 00:06:47.380\nI'll leave that checked.\n\n126\n00:06:47.380 --> 00:06:50.860\nI'm not making a read only domain\ncontrol at this point, another topic for\n\n127\n00:06:50.860 --> 00:06:52.130\nanother episode.\n\n128\n00:06:52.130 --> 00:06:54.580\nAgain, same thing with sites.\n\n129\n00:06:54.580 --> 00:06:57.060\nI don't have any additional\nsites to choose from.\n\n130\n00:06:57.060 --> 00:06:59.160\nSo, I'm going to leave\nthat default site there.\n\n131\n00:06:59.160 --> 00:07:02.340\nI do have to set the directory\nservice restore mode password.\n\n132\n00:07:03.400 --> 00:07:05.879\nWhen you promote a server\nto a domain controller,\n\n133\n00:07:05.879 --> 00:07:08.542\nyou lose access to the local\naccounts on that system.\n\n134\n00:07:08.542 --> 00:07:09.750\nOn a member server, or\n\n135\n00:07:09.750 --> 00:07:13.948\non a client that's part of the domain,\nyou can log on with a domain account, or\n\n136\n00:07:13.948 --> 00:07:17.528\nyou can log on with an account\nthat's stored in the local SAM file.\n\n137\n00:07:17.528 --> 00:07:19.581\nYou wouldn't have access\nto the main resources, but\n\n138\n00:07:19.581 --> 00:07:21.560\nyou could still log on to that machine.\n\n139\n00:07:21.560 --> 00:07:23.080\nDomain controllers are different.\n\n140\n00:07:23.080 --> 00:07:26.860\nYou can only log on to domain\ncontrollers with domain accounts.\n\n141\n00:07:26.860 --> 00:07:29.620\nYou lose access to that local SAM file.\n\n142\n00:07:29.620 --> 00:07:32.820\nAnd, so, what happens if\nActive Directory is broken.\n\n143\n00:07:32.820 --> 00:07:36.820\nWhat if I need to start this machine\nup and try to fix Active Directory.\n\n144\n00:07:36.820 --> 00:07:38.090\nThat's what this is for right here.\n\n145\n00:07:38.090 --> 00:07:41.690\nIt's kinda like safe mode for\nActive Directory.\n\n146\n00:07:41.690 --> 00:07:45.678\nYou would wanna use a good, long, strong\npassword because it's one of those things\n\n147\n00:07:45.678 --> 00:07:48.543\nthat you're probably never gonna change,\nyou rarely use,\n\n148\n00:07:48.543 --> 00:07:50.080\nyou're gonna forget about it.\n\n149\n00:07:51.240 --> 00:07:53.970\nSo make sure that's something long and\nstrong and\n\n150\n00:07:53.970 --> 00:07:57.160\nmake sure you document it somewhere so\nyou know what it is.\n\n151\n00:07:57.160 --> 00:08:01.749\nI'll click next and it's going\nto tell me that it cannot create\n\n152\n00:08:01.749 --> 00:08:07.080\na delegation because it can't find\nthe authoritative parent zone.\n\n153\n00:08:07.080 --> 00:08:10.490\nThat's because my virtual machines\ndon't have Internet access.\n\n154\n00:08:10.490 --> 00:08:14.259\nIf you remember back to the DNS episode,\nif you haven't watched it go check it out.\n\n155\n00:08:15.300 --> 00:08:16.330\nThe way DNS works.\n\n156\n00:08:16.330 --> 00:08:21.240\nI'll run my own DNS server here in my\ncompany to resolve internal names.\n\n157\n00:08:21.240 --> 00:08:25.430\nBut if I wanna resolve external names\nI have to go outside and use the root.\n\n158\n00:08:25.430 --> 00:08:29.070\nAnd if other people wanna connect to my\ndomain, maybe I'm running a web server.\n\n159\n00:08:29.070 --> 00:08:31.880\nWell they're gonna need\nto find my DNS server\n\n160\n00:08:31.880 --> 00:08:36.380\nwhich means that dot com server needs to\nknow information about my DNS server.\n\n161\n00:08:36.380 --> 00:08:37.790\nAnd that's what this would reach out and\ndo.\n\n162\n00:08:37.790 --> 00:08:39.550\nIt would create a delegation,\n\n163\n00:08:39.550 --> 00:08:43.310\nhey I'm a DNS server for\nlab.net wanted to make sure you know,\n\n164\n00:08:43.310 --> 00:08:47.830\nguess it'd be the .net server but it wants\nto make sure people outside can find me.\n\n165\n00:08:47.830 --> 00:08:50.280\nMy virtual machines don't\nhave Internet access so\n\n166\n00:08:50.280 --> 00:08:53.310\nit's an error that I can\ndeal with in this scenario.\n\n167\n00:08:53.310 --> 00:08:53.910\nI'll click Next.\n\n168\n00:08:56.240 --> 00:08:59.020\nWe're going to go over some of these\nadvanced options in a later episode.\n\n169\n00:08:59.020 --> 00:09:01.030\nInstall from media and replicate from.\n\n170\n00:09:01.030 --> 00:09:03.230\nSo I'm going to just go ahead and\nskip on past that.\n\n171\n00:09:06.340 --> 00:09:10.790\nThen I get to choose where my database\nis going, my log files, and sys vault.\n\n172\n00:09:10.790 --> 00:09:12.745\nThe database,\nthat's the active directory database.\n\n173\n00:09:12.745 --> 00:09:20.270\nNtds.dit is the name of that database, and\nyou'll find it by default C:Windows\\NTDS.\n\n174\n00:09:20.270 --> 00:09:28.255\nThe log files for that database\nare also located in C:Windows\\NTDS.\n\n175\n00:09:28.255 --> 00:09:29.945\nYou could move those if you wanted to.\n\n176\n00:09:29.945 --> 00:09:31.615\nIt might be a best practice.\n\n177\n00:09:31.615 --> 00:09:36.155\nPut those log files on a separate\ndrive from the database itself.\n\n178\n00:09:36.155 --> 00:09:38.885\nThat way if you lose the database,\nyou still got the logs.\n\n179\n00:09:38.885 --> 00:09:41.665\nWe can do a recovery and\nreplay some of those log files,\n\n180\n00:09:41.665 --> 00:09:44.435\ntry to gain some of that last\nbit of information back.\n\n181\n00:09:44.435 --> 00:09:49.225\nAnd SYSVOL is where things like\ngroup policies are stored.\n\n182\n00:09:49.225 --> 00:09:52.010\nIt replicates to all the other\ndomain controllers as well.\n\n183\n00:09:52.010 --> 00:09:54.620\nBy default, located C:\\Windows\\SYSVOL.\n\n184\n00:09:54.620 --> 00:09:55.890\nI can change any of those.\n\n185\n00:09:55.890 --> 00:09:57.830\nFor this demo I'm not going to.\n\n186\n00:09:57.830 --> 00:09:58.430\nI'll click Next.\n\n187\n00:10:00.370 --> 00:10:04.780\nAnd then it's gonna give me a chance to\nreview all the options that I just picked\n\n188\n00:10:04.780 --> 00:10:05.910\nin that wizard.\n\n189\n00:10:05.910 --> 00:10:09.090\nIf I'm satisfied that I did\neverything correctly, I can go on.\n\n190\n00:10:09.090 --> 00:10:11.710\nIf I see anything that I mistyped or\n\n191\n00:10:11.710 --> 00:10:15.680\ndidn't select I could always click\nPrevious and go back in the wizard.\n\n192\n00:10:15.680 --> 00:10:17.220\nI'll go ahead and\nclick Next cuz I'm happy.\n\n193\n00:10:17.220 --> 00:10:19.210\nOh, you know what?\nI wanna show you this option here, too.\n\n194\n00:10:20.360 --> 00:10:22.720\nThere's a little view\nscript button down here.\n\n195\n00:10:22.720 --> 00:10:26.080\nAnd if I click that, it's gonna\n\n196\n00:10:26.080 --> 00:10:31.120\nshow me a script that I can use to\ncreate future domain controllers.\n\n197\n00:10:31.120 --> 00:10:33.050\nMaybe I wanna start\nautomating this process and\n\n198\n00:10:33.050 --> 00:10:35.520\nI don't wanna go through\nthe wizard every time.\n\n199\n00:10:35.520 --> 00:10:39.860\nThese are all of the options that\nI just picked in that wizard.\n\n200\n00:10:39.860 --> 00:10:41.620\nIt's gonna store 'em as this file.\n\n201\n00:10:41.620 --> 00:10:44.720\nAnd then later on I could use\nPowerShell to call this script.\n\n202\n00:10:44.720 --> 00:10:48.780\nI could run the dcpromo or\ninstall active directory.\n\n203\n00:10:48.780 --> 00:10:50.150\nI could point at this script, and\n\n204\n00:10:50.150 --> 00:10:52.320\nI wouldn't have to provide\nall of that information.\n\n205\n00:10:52.320 --> 00:10:53.420\nSo really cool.\n\n206\n00:10:53.420 --> 00:10:58.330\nIn fact you can run this wizard, up to\nthis point, generate this script, and\n\n207\n00:10:58.330 --> 00:10:59.840\nthen cancel the wizard if you wanted to.\n\n208\n00:10:59.840 --> 00:11:02.750\nIt's an easy way to generate a script\nto create a domain controller.\n\n209\n00:11:02.750 --> 00:11:04.260\nI'll go ahead and click Next.\n\n210\n00:11:06.250 --> 00:11:08.750\nThen it's gonna go through the prereq\nchecks, and this'll take it just a second.\n\n211\n00:11:08.750 --> 00:11:12.160\nIt's gonna make sure that\nI have everything needed.\n\n212\n00:11:12.160 --> 00:11:15.935\nAnd we talked about in the other episode,\nstatic IP addresses,\n\n213\n00:11:15.935 --> 00:11:21.030\nTCP/IP, network connectivity, things like\nthat, and other things that it's checking,\n\n214\n00:11:22.150 --> 00:11:27.600\njust to make sure that I can successfully\ninstall Active Directory domain services.\n\n215\n00:11:27.600 --> 00:11:30.460\nAnd up at the top here, I'm gonna\nsee that I get a green check mark,\n\n216\n00:11:30.460 --> 00:11:34.020\nall pre-req checks passed successfully,\nand I can install.\n\n217\n00:11:34.020 --> 00:11:36.620\nDown below, I actually see some warnings.\n\n218\n00:11:36.620 --> 00:11:38.640\nBut they are warnings, not errors.\n\n219\n00:11:38.640 --> 00:11:41.190\nThat's why I get the green check mark,\nI can continue.\n\n220\n00:11:41.190 --> 00:11:42.230\nYou should make a note of them.\n\n221\n00:11:42.230 --> 00:11:46.840\nIn this case these are just some\nsettings about how 2012 R2 has some\n\n222\n00:11:46.840 --> 00:11:51.810\nsecurity settings and options that\nwon't be compatible with Windows NT 4.\n\n223\n00:11:51.810 --> 00:11:56.030\nWe don't have a lot of NT 4s servers\nlaying around so we should be good to go.\n\n224\n00:11:56.030 --> 00:11:56.942\n>> Maybe you don't Mike.\n\n225\n00:11:56.942 --> 00:12:00.230\n[LAUGH]\n>> [LAUGH] All right, so\n\n226\n00:12:00.230 --> 00:12:02.510\nwe'll go ahead and click install.\n\n227\n00:12:02.510 --> 00:12:07.170\nAnd that's going to begin the process\nof creating our domain controller.\n\n228\n00:12:07.170 --> 00:12:08.460\nSo this'll take it a minute.\n\n229\n00:12:08.460 --> 00:12:09.860\nIt shouldn't take it too long.\n\n230\n00:12:09.860 --> 00:12:11.500\nA couple of minutes at the most.\n\n231\n00:12:11.500 --> 00:12:16.380\nIt is gonna need to reboot to\nfinish this installation process.\n\n232\n00:12:16.380 --> 00:12:19.660\nAnd Madsen's creating a domain\ncontroller using the GUI.\n\n233\n00:12:19.660 --> 00:12:22.160\nSo, we'll give it a minute, we'll let\nit wrap up, we'll watch it reboot.\n\n234\n00:12:22.160 --> 00:12:25.400\nIn fact, actually what I'll do is\nwe can move on to the next one, and\n\n235\n00:12:25.400 --> 00:12:28.370\nwe can come back and\ncheck on this one in just minute.\n\n236\n00:12:28.370 --> 00:12:29.830\nHow's that sound?\n>> Yeah, it sounds great.\n\n237\n00:12:29.830 --> 00:12:32.460\nAs you can see,\nit really wasn't a difficult process.\n\n238\n00:12:32.460 --> 00:12:34.900\nAll Mike needed to know was\na few bits of information.\n\n239\n00:12:34.900 --> 00:12:37.970\nHaving that ability to co-generate\nthat script at the end,\n\n240\n00:12:37.970 --> 00:12:39.800\nthat is super nice, right?\n\n241\n00:12:39.800 --> 00:12:43.400\nJust be able to save that script and\nthen run it in the PowerShell.\n\n242\n00:12:43.400 --> 00:12:44.610\nI don't have to go through a wizard.\n\n243\n00:12:44.610 --> 00:12:45.680\nI don't have to do anything.\n\n244\n00:12:45.680 --> 00:12:49.470\nI just create a script, run it on\na server that I need to promote, and\n\n245\n00:12:49.470 --> 00:12:51.300\nget it running and I'm off to the races.\n\n246\n00:12:51.300 --> 00:12:53.800\nI didn't have to do anything except for\none time.\n\n247\n00:12:53.800 --> 00:12:58.730\nThat is a handy piece of technology\nthat's built into this type of server.\n\n248\n00:12:58.730 --> 00:13:01.660\nNow, Mike, we did the GUIing, and\nwe're going to have some other ways.\n\n249\n00:13:01.660 --> 00:13:04.860\nWhat are the other ways that we're going\nto be able to work with Active Directory\n\n250\n00:13:04.860 --> 00:13:05.650\nand promote to a DC?\n\n251\n00:13:05.650 --> 00:13:08.000\n>> Well, there's a couple\nother ways we can go about it,\n\n252\n00:13:08.000 --> 00:13:09.490\ninstalling Active Directory.\n\n253\n00:13:09.490 --> 00:13:11.020\nLet me show you another one.\n\n254\n00:13:11.020 --> 00:13:13.830\nHere I've got a server core installation.\n\n255\n00:13:13.830 --> 00:13:17.340\nThere's obviously no wizard, no server\nmanager, I can't just go and click\n\n256\n00:13:17.340 --> 00:13:21.560\nadd roles and features and go through\nit and make this a domain controller.\n\n257\n00:13:21.560 --> 00:13:23.570\nWe still can make a domain controller.\n\n258\n00:13:23.570 --> 00:13:26.300\nWhat we're gonna do is we're\ngoing to run DC Promo.\n\n259\n00:13:26.300 --> 00:13:30.400\nRemember I told you DC Promo had been\ndepreciated, but it's still around for\n\n260\n00:13:30.400 --> 00:13:35.970\nscripting purposes and another reason\nit's still here Is for server core.\n\n261\n00:13:35.970 --> 00:13:39.425\nSo let me go back out to my C drive here.\n\n262\n00:13:39.425 --> 00:13:40.630\nMm-hm.\n\n263\n00:13:40.630 --> 00:13:42.610\nAnd do a little DIR.\n\n264\n00:13:42.610 --> 00:13:48.439\nI've created a file ahead of time called\ndcpromo.txt and let me pull that guy up.\n\n265\n00:13:52.833 --> 00:13:55.900\nAnd this is basically an answer file,\nright?\n\n266\n00:13:55.900 --> 00:13:58.690\nThese are the same\nquestions we had to answer\n\n267\n00:13:58.690 --> 00:14:00.830\nin that wizard on that first server.\n\n268\n00:14:00.830 --> 00:14:04.530\nIf you look closely and in fact here\nlet me bump that font up a bit so\n\n269\n00:14:04.530 --> 00:14:06.110\nwe don't have to look quite as closely.\n\n270\n00:14:08.160 --> 00:14:10.750\nThere we go, create or join.\n\n271\n00:14:10.750 --> 00:14:13.410\nRemember one of the first things was\nare you adding a domain controller to\n\n272\n00:14:13.410 --> 00:14:14.720\nan existing domain?\n\n273\n00:14:14.720 --> 00:14:16.540\nAre you creating a new domain?\n\n274\n00:14:16.540 --> 00:14:17.330\nAll right.\n\n275\n00:14:17.330 --> 00:14:18.410\nWell I'm joining.\n\n276\n00:14:18.410 --> 00:14:21.350\nI'm adding a domain controller\nto an existing domain.\n\n277\n00:14:21.350 --> 00:14:24.900\nIs this a brand new forest?\n\n278\n00:14:24.900 --> 00:14:28.940\nWhere are we at here?\n\n279\n00:14:28.940 --> 00:14:30.160\nWell I'm joining and\n\n280\n00:14:30.160 --> 00:14:34.420\nthen my domain name that I want to add\nthat domain controller to is lab.net.\n\n281\n00:14:34.420 --> 00:14:40.030\nIt is a replica, which means I'm not\ncreating a new domain within that forest.\n\n282\n00:14:40.030 --> 00:14:42.739\nThe domain that I'm adding it to,\nI'm sorry,\n\n283\n00:14:42.739 --> 00:14:46.686\nthe credentials that I'm gonna\nuse are gonna lab/administrator.\n\n284\n00:14:46.686 --> 00:14:50.871\nSo there you can see user domain,\nuser name, there's my password.\n\n285\n00:14:50.871 --> 00:14:51.573\nDon't write that down.\n\n286\n00:14:51.573 --> 00:14:54.232\n[LAUGH]\n>> Too late, Mike.\n\n287\n00:14:54.232 --> 00:14:56.200\n>> Too late, it's out there.\n\n288\n00:14:56.200 --> 00:14:57.890\nInstall DNS?\n\n289\n00:14:57.890 --> 00:14:58.620\nYes.\n\n290\n00:14:58.620 --> 00:14:59.220\nConfirm GC?\n\n291\n00:14:59.220 --> 00:15:01.320\nThose are those two check marks.\n\n292\n00:15:01.320 --> 00:15:04.020\nDo I wanna include in\nDNS in the installation?\n\n293\n00:15:04.020 --> 00:15:07.620\nDo I wanna make this domain\ncontroller a global catalog server?\n\n294\n00:15:07.620 --> 00:15:09.370\nCreate DNS delegation?\n\n295\n00:15:09.370 --> 00:15:12.290\nI put no because remember\nthat errored out on that\n\n296\n00:15:12.290 --> 00:15:16.140\nother wizard because I don't have\nInternet access on these machines.\n\n297\n00:15:16.140 --> 00:15:21.245\nAnd then my SafeModeAdminPassword,\nagain my super secret password that I use,\n\n298\n00:15:21.245 --> 00:15:24.098\nplease, don't log into my bank account,\nI don't have a lot of money.\n\n299\n00:15:24.098 --> 00:15:26.545\n>> [LAUGH]\n>> So I've put all of this in this file.\n\n300\n00:15:26.545 --> 00:15:29.967\nAnd that very first line there,\nnotice it's an open bracket.\n\n301\n00:15:29.967 --> 00:15:31.642\nDCINstall].\n\n302\n00:15:31.642 --> 00:15:33.502\nSo that needs to be there.\n\n303\n00:15:35.642 --> 00:15:37.642\nSo now I'm gonna save that file.\n\n304\n00:15:37.642 --> 00:15:41.422\nI've saved it just to my C\ndrive here on this machine and\n\n305\n00:15:41.422 --> 00:15:43.642\nit doesn't have to be named DCPromo.\n\n306\n00:15:43.642 --> 00:15:46.602\nIt can named whatever you want\nbecause you're gonna call it\n\n307\n00:15:46.602 --> 00:15:47.552\nwhen you run the command.\n\n308\n00:15:47.552 --> 00:15:51.955\nAnd the command is simply\n\n309\n00:15:51.955 --> 00:15:57.197\ndcpromo/unattend:c: and\n\n310\n00:15:57.197 --> 00:16:02.023\nthen the path to that file.\n\n311\n00:16:02.023 --> 00:16:05.488\nI'm guessing in naming it something\ndescriptive like DCPromo is kind of\n\n312\n00:16:05.488 --> 00:16:06.010\nhelpful.\n\n313\n00:16:06.010 --> 00:16:08.150\nIf I named it fluffandother.text.\n\n314\n00:16:08.150 --> 00:16:11.160\nI might know what that is, but\n\n315\n00:16:11.160 --> 00:16:16.845\nmy other text may be if they were\nusing it as, for doing this purposes.\n\n316\n00:16:16.845 --> 00:16:19.035\nThey'd be like fluffandother.text doc.\n\n317\n00:16:19.035 --> 00:16:20.245\n>> Yeah.\n>> Where's the dcpromo.text?\n\n318\n00:16:20.245 --> 00:16:21.215\n>> Exactly.\n\n319\n00:16:21.215 --> 00:16:22.495\nSo give it a name.\n\n320\n00:16:22.495 --> 00:16:24.255\nGive it something descriptive and\nthen call it.\n\n321\n00:16:24.255 --> 00:16:26.322\nAnd also notice there's\nno spaces in there.\n\n322\n00:16:26.322 --> 00:16:29.920\nThat's forward /unattend:c:\\.\n\n323\n00:16:29.920 --> 00:16:31.420\nAnd then whatever that path was,\n\n324\n00:16:31.420 --> 00:16:33.770\nwhether it was in a sub folder or\nanything like that.\n\n325\n00:16:33.770 --> 00:16:36.000\nI should be able to hit enter, and\n\n326\n00:16:36.000 --> 00:16:40.610\nit's gonna go through, DCPromo unattend\noperation is replaced by the ADDS module.\n\n327\n00:16:40.610 --> 00:16:44.410\nIt's telling me it's depreciated,\nbut it's still there for scripting.\n\n328\n00:16:44.410 --> 00:16:47.150\nAnd it's gonna go through and\ninstall Active Directory.\n\n329\n00:16:47.150 --> 00:16:48.340\nAnother cool think about this.\n\n330\n00:16:48.340 --> 00:16:49.860\nNotice there was only one step.\n\n331\n00:16:49.860 --> 00:16:51.210\nI didn't have to add the role first.\n\n332\n00:16:51.210 --> 00:16:54.110\nLike add roles and\nfeatures I did on the other one.\n\n333\n00:16:54.110 --> 00:16:57.020\nI didn't have to go like,\nPowerShell command and\n\n334\n00:16:57.020 --> 00:17:01.260\nsay add that Windows feature,\nADDS or anything like that.\n\n335\n00:17:01.260 --> 00:17:03.900\nI just run DCPromo,\npoint it to that answer file.\n\n336\n00:17:03.900 --> 00:17:04.960\nThat's all it needs.\n\n337\n00:17:04.960 --> 00:17:06.690\nIt should take care of the rest.\n\n338\n00:17:06.690 --> 00:17:10.130\nAgain, it's gonna take it\na minute to do this installation.\n\n339\n00:17:10.130 --> 00:17:15.360\nWhile it's doing that, let's run back\nover to that first one I started,\n\n340\n00:17:15.360 --> 00:17:17.000\nand see what happened there.\n\n341\n00:17:17.000 --> 00:17:20.310\nSo back over on server one,\nI see that it's rebooted.\n\n342\n00:17:20.310 --> 00:17:21.710\nI'm gonna go to log back in.\n\n343\n00:17:21.710 --> 00:17:24.580\nIt says LAB\\administrator.\n\n344\n00:17:24.580 --> 00:17:26.955\nIf I try to click back and other user,\n\n345\n00:17:26.955 --> 00:17:31.280\njust trying to think how I could\nshow you guys this, .\\administrator.\n\n346\n00:17:31.280 --> 00:17:36.760\nSee this is how I do .\\, it does not\nchange that to the local machine context.\n\n347\n00:17:36.760 --> 00:17:39.250\nRight?\nIt doesn't say SVR01.\n\n348\n00:17:39.250 --> 00:17:43.680\nCannot log on locally,\non a domain controller.\n\n349\n00:17:43.680 --> 00:17:44.990\nSo I'll go ahead and log back in.\n\n350\n00:17:48.865 --> 00:17:50.375\nAnd we'll let Server Manager open up.\n\n351\n00:17:50.375 --> 00:17:54.095\nAnd we'll see that active\ndirectory should be listed,\n\n352\n00:17:54.095 --> 00:17:56.045\nas one of the roles this guy is running.\n\n353\n00:17:56.045 --> 00:18:00.285\nNow, there's some other things we can\ncheck to verify that the Active Directory\n\n354\n00:18:00.285 --> 00:18:05.045\ninstallation succeeded, and we'll come\nback to that in just a little bit.\n\n355\n00:18:07.825 --> 00:18:09.375\nAll right, so there we go.\n\n356\n00:18:09.375 --> 00:18:10.235\nIt's loading up.\n\n357\n00:18:11.985 --> 00:18:14.149\nAnd over here, on my list of roles,\n\n358\n00:18:14.149 --> 00:18:17.697\nhopefully we'll see\nActive Directory domain services.\n\n359\n00:18:19.855 --> 00:18:21.300\nGood old server manager.\n\n360\n00:18:21.300 --> 00:18:23.740\nLove watching that little blue bar go by.\n\n361\n00:18:23.740 --> 00:18:24.760\n>> He's got stuff to do.\n\n362\n00:18:24.760 --> 00:18:25.435\n>> Yeah.\n[LAUGH]\n\n363\n00:18:25.435 --> 00:18:25.935\n>> [LAUGH]\n\n364\n00:18:27.020 --> 00:18:28.157\n>> Yes all right, let's see,\n\n365\n00:18:28.157 --> 00:18:31.180\nwell while that's refreshing its info,\nwe'll check on serve 2.\n\n366\n00:18:31.180 --> 00:18:35.400\nAnd you can kinda see it going\nthrough that same information.\n\n367\n00:18:35.400 --> 00:18:37.410\nIt's neat to watch it.\n\n368\n00:18:37.410 --> 00:18:39.520\nActually, I always, I'm a geek, I know.\n\n369\n00:18:39.520 --> 00:18:42.520\nBut I kinda like to watch, so you can\nactually the steps its going through,\n\n370\n00:18:42.520 --> 00:18:45.400\nreplicating some of those partitions and\nActive Directory.\n\n371\n00:18:45.400 --> 00:18:46.850\nAnd there it tells me it's\nabout to be signed out,\n\n372\n00:18:46.850 --> 00:18:49.520\nbecause it does need to reboot\nto finish the installation.\n\n373\n00:18:49.520 --> 00:18:53.380\n>> Yeah, you do pick up a lot interesting\ninformation when you watch things like,\n\n374\n00:18:53.380 --> 00:18:55.590\ncommand prompt go through the motions.\n\n375\n00:18:55.590 --> 00:18:57.340\nAny kind of output that it'd generate.\n\n376\n00:18:57.340 --> 00:19:01.210\nSometimes you just learn interesting\nthings about your system,\n\n377\n00:19:01.210 --> 00:19:04.040\nfrom gleaning through that information.\n\n378\n00:19:04.040 --> 00:19:07.430\nIt can be very, very enlightening\non how your system is working.\n\n379\n00:19:07.430 --> 00:19:10.070\nSo don't be afraid to go the route.\n\n380\n00:19:10.070 --> 00:19:15.400\nI'm actually sitting here thinking, this\nmight be the way that you want to go for\n\n381\n00:19:15.400 --> 00:19:18.770\nuploading all your DCs\nin the future right,\n\n382\n00:19:18.770 --> 00:19:23.050\nbecause you just gotta the one computer\nthrough the GUI, create that file,\n\n383\n00:19:23.050 --> 00:19:27.520\nget everything you need,\npumped out into that little txt file.\n\n384\n00:19:27.520 --> 00:19:30.900\nThat was a whole lot simpler, we didn't\nhave to press any next, this, that,\n\n385\n00:19:30.900 --> 00:19:34.750\nthe other, it was all just in that file,\none command, and you're off to the races.\n\n386\n00:19:34.750 --> 00:19:41.510\nNow, Mike, that being said, is there an\nadvantage to using the GUI over the CLI.\n\n387\n00:19:41.510 --> 00:19:43.430\n>> Not really, I think it's easier.\n\n388\n00:19:43.430 --> 00:19:47.180\nSo if you're real familiar with all\nthe decisions you had to make, or\n\n389\n00:19:47.180 --> 00:19:48.980\nthe options you had to provide.\n\n390\n00:19:48.980 --> 00:19:50.670\nThe GUI walks you, a wizard.\n\n391\n00:19:50.670 --> 00:19:52.150\nYou're basically filling in fields.\n\n392\n00:19:52.150 --> 00:19:56.130\nYou've got a drop down list for\nthe site names and things like that.\n\n393\n00:19:56.130 --> 00:19:57.660\n>> So it's the safety net.\n\n394\n00:19:57.660 --> 00:20:00.190\n>> Yeah exactly, but\nif you want to automate it.\n\n395\n00:20:00.190 --> 00:20:03.470\nIf you've got to do it\non a bunch of machines.\n\n396\n00:20:03.470 --> 00:20:07.260\nThe scripting option is\na much easier way to go.\n\n397\n00:20:07.260 --> 00:20:08.380\nAnd there's really.\n\n398\n00:20:08.380 --> 00:20:11.750\nYou can do that on a GUI\nfront end as well.\n\n399\n00:20:11.750 --> 00:20:12.920\nWith your scripting options.\n\n400\n00:20:12.920 --> 00:20:13.490\nYou can automate.\n\n401\n00:20:13.490 --> 00:20:14.970\nYou don't have to use the wizard.\n\n402\n00:20:14.970 --> 00:20:16.720\nJust because you've got\na full installed server.\n\n403\n00:20:16.720 --> 00:20:18.130\n>> Cool.\n>> All right.\n\n404\n00:20:18.130 --> 00:20:19.460\nSo let's see what we've got here.\n\n405\n00:20:19.460 --> 00:20:20.650\nWe're gonna come back and talk.\n\n406\n00:20:20.650 --> 00:20:23.010\nThat's Server1, he's finished.\n\n407\n00:20:23.010 --> 00:20:24.750\nCore is done rebooting.\n\n408\n00:20:25.890 --> 00:20:27.610\nWe can log back in to that guy.\n\n409\n00:20:31.390 --> 00:20:34.330\nAnd just to prove to you guys,\nI'm gonna switch back over to DC1 here.\n\n410\n00:20:34.330 --> 00:20:38.460\nThat was my first domain controller, the\none that was installed before all of this.\n\n411\n00:20:38.460 --> 00:20:42.555\nRemember we've been creating additional\ndomain controllers in an existing domain.\n\n412\n00:20:42.555 --> 00:20:44.750\nThen I see ADDS listed.\n\n413\n00:20:44.750 --> 00:20:46.260\nAnd I'm gonna open up Active Directory.\n\n414\n00:20:46.260 --> 00:20:47.700\nOh, I am sorry, this is the first server.\n\n415\n00:20:47.700 --> 00:20:50.940\nI am gonna open up\nActive Directory real quick, and\n\n416\n00:20:50.940 --> 00:20:52.970\ntake a look at my domain controllers.\n\n417\n00:20:52.970 --> 00:20:55.590\nAnd there's server 1,\nand there's server 2.\n\n418\n00:20:55.590 --> 00:20:58.740\nServer 1 is the one we used\nthe GUI to install it with.\n\n419\n00:20:58.740 --> 00:21:02.840\nServer 2 is the one that we used,\nthere's the server core, so\n\n420\n00:21:02.840 --> 00:21:04.209\nthat we ran that script.\n\n421\n00:21:05.570 --> 00:21:10.060\nAlright now there's other things\nthat we can do when we go to install\n\n422\n00:21:10.060 --> 00:21:10.660\nActive Directory.\n\n423\n00:21:10.660 --> 00:21:13.210\nI think we'll probably move some of\nthat off to another episode Danny,\n\n424\n00:21:13.210 --> 00:21:16.400\nbecause I want to go back and show you\nguys some of the things that we can check\n\n425\n00:21:16.400 --> 00:21:19.340\nfor to make sure Active Directory\ninstalled properly.\n\n426\n00:21:19.340 --> 00:21:23.210\nBut to end this one up I want\nto talk about another option for\n\n427\n00:21:23.210 --> 00:21:24.700\ncreating a domain controller.\n\n428\n00:21:24.700 --> 00:21:26.340\nAnd that's in the Cloud, alright.\n\n429\n00:21:26.340 --> 00:21:29.050\nBecause, the Cloud is the way,\nit's the buzz right?\n\n430\n00:21:29.050 --> 00:21:30.810\nIt's the way everything's going.\n\n431\n00:21:30.810 --> 00:21:32.090\nAnd it does make sense,\n\n432\n00:21:32.090 --> 00:21:35.360\nit's got a lot of potential depending on,\non what your scenario is.\n\n433\n00:21:35.360 --> 00:21:39.915\nA lot of people use the Cloud as a,\nbasically a disaster recovery option.\n\n434\n00:21:39.915 --> 00:21:42.670\nAlright, where if I have my information,\nmy Active Directory.\n\n435\n00:21:42.670 --> 00:21:45.750\nIf part of it's up there in the Cloud and\nsomething happens to my building.\n\n436\n00:21:45.750 --> 00:21:46.400\nDisaster.\n\n437\n00:21:46.400 --> 00:21:48.010\nA hurricane blows us away.\n\n438\n00:21:48.010 --> 00:21:49.650\nThis can speed up the recovery time,\n\n439\n00:21:49.650 --> 00:21:52.370\nbecause I've still got\nActive Directory running.\n\n440\n00:21:52.370 --> 00:21:53.600\nIt's on Microsoft servers.\n\n441\n00:21:53.600 --> 00:21:57.520\nWe're talking about Microsoft Azure,\nthat's their Cloud services.\n\n442\n00:21:57.520 --> 00:22:00.620\nAnd you can create a domain\ncontroller in the Cloud as well.\n\n443\n00:22:00.620 --> 00:22:03.390\nYou can create an account\nwith Microsoft Azure.\n\n444\n00:22:04.400 --> 00:22:08.880\nAnd it's basically, it's called IaaS,\ninfrastructure as a Service.\n\n445\n00:22:08.880 --> 00:22:12.830\nAnd you can either use one of the Azure\nvirtual machines that they can\n\n446\n00:22:12.830 --> 00:22:14.170\nprovide for you.\n\n447\n00:22:14.170 --> 00:22:18.600\nAnd you can go through the same thing,\njust DCPromo it, or\n\n448\n00:22:18.600 --> 00:22:21.650\nuse your wizard and\nmake it a domain controller.\n\n449\n00:22:21.650 --> 00:22:26.920\nOr you can actually create your own\nvirtual domain controller onpremise, and\n\n450\n00:22:26.920 --> 00:22:32.380\nthen upload that hard drive to them, and\nthen they can add that for you as well.\n\n451\n00:22:32.380 --> 00:22:35.780\nAnd then you've got a couple of\nActive Directory in the Cloud.\n\n452\n00:22:35.780 --> 00:22:38.850\nThey have the tools\nnecessary to make a VPN\n\n453\n00:22:38.850 --> 00:22:40.930\nconnection back to your corporate network.\n\n454\n00:22:40.930 --> 00:22:44.210\nIf you want to, you know,\nif it was a separate forest.\n\n455\n00:22:44.210 --> 00:22:45.630\nMaybe you don't need the connectivity.\n\n456\n00:22:45.630 --> 00:22:49.290\nBut if you're adding an additional\ndomain controller to the same domain or\n\n457\n00:22:49.290 --> 00:22:53.770\na child domain, a test domain versus\nyour production, or something like that.\n\n458\n00:22:53.770 --> 00:22:55.070\nYou're gonna want those\ndomain controllers,\n\n459\n00:22:55.070 --> 00:22:57.050\nyour onpremise domain controllers, and\n\n460\n00:22:57.050 --> 00:23:00.470\nyour Cloud domain controllers to be\nable to replicate with each other.\n\n461\n00:23:00.470 --> 00:23:03.410\nSo you can create a site to site VPN, or\n\n462\n00:23:03.410 --> 00:23:08.460\na site to point VPN, from Microsoft Azure\nback to your onpremise location.\n\n463\n00:23:08.460 --> 00:23:11.600\nSo, just another option for\nsetting up a domain controller.\n\n464\n00:23:11.600 --> 00:23:14.960\n>> Yeah, and like you said Mike, it is\nthe way things are going nowadays, so\n\n465\n00:23:14.960 --> 00:23:19.770\nyou do need to get familiar, or\nfamiliarize yourself with Cloud computing.\n\n466\n00:23:19.770 --> 00:23:24.290\nMicrosoft Azure, obviously they're going\nto support their own operating systems.\n\n467\n00:23:24.290 --> 00:23:27.690\nAnd if you've ever played with it,\nyou can actually go to Microsoft Azure.\n\n468\n00:23:27.690 --> 00:23:31.570\nJust search that out, and\nthey'll give you a free test run.\n\n469\n00:23:31.570 --> 00:23:35.910\nYou can get you a login, and go ahead and\nstart creating a virtual machine in there.\n\n470\n00:23:35.910 --> 00:23:40.820\nYou can play with Microsoft Server\n2012 in there, build a server.\n\n471\n00:23:40.820 --> 00:23:45.050\nGet your little test environment going,\nand get some hands on experience in that\n\n472\n00:23:45.050 --> 00:23:49.210\nCloud environment, super easy to do,\nonce you jump into that dashboard,\n\n473\n00:23:49.210 --> 00:23:51.460\nyou're going to think, oh,\nthis is not hard at all.\n\n474\n00:23:51.460 --> 00:23:54.750\nAll of the mystery and\nmystique of it go away,\n\n475\n00:23:54.750 --> 00:23:56.760\nas soon as you launch into that dashboard.\n\n476\n00:23:56.760 --> 00:24:01.070\nVery simple and then you have\na domain controller, or servers,\n\n477\n00:24:01.070 --> 00:24:04.700\nor whatever you want to build in that\nCloud environment that you don't have to\n\n478\n00:24:04.700 --> 00:24:08.020\nworry about as much because it's\non Microsoft's equipment, right.\n\n479\n00:24:08.020 --> 00:24:10.940\nThey're running their power,\nthey're running their backups, and\n\n480\n00:24:10.940 --> 00:24:14.260\neverything is on them,\nbecause it's on their equipment.\n\n481\n00:24:14.260 --> 00:24:16.520\nSo it kind of takes a little\nbit of that headache.\n\n482\n00:24:16.520 --> 00:24:18.434\nAnd if that 2 o'clock call comes,\n\n483\n00:24:18.434 --> 00:24:21.868\nof the server is down,\nwell that's really not you.\n\n484\n00:24:21.868 --> 00:24:25.500\nYou'd call Azure and you say, hey,\nmy server is down, and they fix it.\n\n485\n00:24:25.500 --> 00:24:29.050\nYou don't have to run in to work and\ntry to replace a power supply or\n\n486\n00:24:29.050 --> 00:24:29.930\nanything like that.\n\n487\n00:24:29.930 --> 00:24:32.710\nThat domain controller is actually,\nit's probably never even going to go down.\n\n488\n00:24:32.710 --> 00:24:33.960\nYou're never gonna see it down.\n\n489\n00:24:33.960 --> 00:24:35.835\n>> [LAUGH]\n>> Because it would just going to get\n\n490\n00:24:35.835 --> 00:24:39.205\npushed over to a server that is still up,\nand then they would fix that computer.\n\n491\n00:24:39.205 --> 00:24:41.710\nYou would probably not\nsee that much down time.\n\n492\n00:24:41.710 --> 00:24:44.604\nUsing a Cloud service like Azure.\n\n493\n00:24:44.604 --> 00:24:47.130\n>> We hope not, yeah guess what, that's\nwhat we pay him for, 99.999 up time.\n\n494\n00:24:47.130 --> 00:24:48.870\n>> Yeah, that's right.\n\n495\n00:24:48.870 --> 00:24:50.039\nGive me that up time baby.\n\n496\n00:24:50.039 --> 00:24:52.055\n[LAUGH]\n>> All right Mike, so let's,\n\n497\n00:24:52.055 --> 00:24:56.781\nwe've talked about AD, we've definitely\ntalked about promoting a DC into that AD,\n\n498\n00:24:56.781 --> 00:24:59.623\nhave we covered our bases\non that on the [CROSSTALK].\n\n499\n00:24:59.623 --> 00:25:01.392\n>> I think so,\nwe still have a few different ways\n\n500\n00:25:01.392 --> 00:25:02.940\nto install Active Directory, right?\n\n501\n00:25:02.940 --> 00:25:06.470\nWe can take a member server and\nwe can use the Add Roles and\n\n502\n00:25:06.470 --> 00:25:08.820\nFeatures Wizard to promote\nit to a domain controller.\n\n503\n00:25:08.820 --> 00:25:13.430\nTo install the role and then we use\nthe Active Directory Configuration Wizard\n\n504\n00:25:13.430 --> 00:25:15.380\nto turn it into a domain controller.\n\n505\n00:25:15.380 --> 00:25:18.720\nOr if we're on server core,\nif we wanna automate it.\n\n506\n00:25:18.720 --> 00:25:20.230\nWe can use DCPromo.\n\n507\n00:25:20.230 --> 00:25:22.450\nThat gives us the ability to script it.\n\n508\n00:25:22.450 --> 00:25:26.720\nWe just provide an answer file,\nthat has all the same decisions and we\n\n509\n00:25:26.720 --> 00:25:30.750\nautomate it and run it from the PowerShell\nor run it from the command prompt.\n\n510\n00:25:30.750 --> 00:25:31.490\n>> Awesome.\n\n511\n00:25:31.490 --> 00:25:35.060\nWell, it looks like that concludes\nour episode here on installing\n\n512\n00:25:35.060 --> 00:25:35.980\nActive Directory.\n\n513\n00:25:35.980 --> 00:25:37.140\nHoping you guys enjoyed that.\n\n514\n00:25:37.140 --> 00:25:40.600\nSigning off for ITProTV,\nI've been your host Daniel Lowery.\n\n515\n00:25:40.600 --> 00:25:41.410\n>> And I'm Mike Rodrick.\n\n516\n00:25:41.410 --> 00:25:42.506\n>> And we'll see you next time.\n\n517\n00:25:42.506 --> 00:25:43.180\n[MUSIC]\n\n",
          "vimeoId": "133747471"
        },
        {
          "description": "In this episode, Daniel and Mike continue their discussion about installing Active Directory. They demonstrate how to use the Install from Media option. Then they verify AD installation, including srv record registration and the global catalog.",
          "length": "2010",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-13-2-installing_ad_ds_pt2-071615-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-13-2-installing_ad_ds_pt2-071615-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-13-2-installing_ad_ds_pt2-071615-1-sm.jpg",
          "title": "Installing AD DS Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.395\n[MUSIC]\n\n2\n00:00:10.395 --> 00:00:11.841\nAll right, everyone.\n\n3\n00:00:11.841 --> 00:00:14.990\nGreetings and welcome to another\ngreat Episode of ITProTV.\n\n4\n00:00:14.990 --> 00:00:16.750\nI'm your host Daniel Lowry.\n\n5\n00:00:16.750 --> 00:00:19.145\nHere with me today is none\nother than Mike Rodrick.\n\n6\n00:00:19.145 --> 00:00:20.110\nHow's it going today, Mike?\n\n7\n00:00:20.110 --> 00:00:21.030\n>> Fantastic.\n\n8\n00:00:21.030 --> 00:00:24.490\nWe are continuing our discussion\non Active Directory, and\n\n9\n00:00:24.490 --> 00:00:28.560\nlooking at more ways that we\ncan install Active Directory,\n\n10\n00:00:28.560 --> 00:00:31.690\nas well as verifying that\nour installation succeeded.\n\n11\n00:00:31.690 --> 00:00:33.800\nWhich is always a good thing to do, right?\n\n12\n00:00:33.800 --> 00:00:35.760\n>> Yeah.\nYou may want to actually take a look and\n\n13\n00:00:35.760 --> 00:00:39.590\nsee, did that Active Directory\ninstallation go through properly.\n\n14\n00:00:39.590 --> 00:00:43.080\nIf I've promoted a DC,\nis that working properly?\n\n15\n00:00:43.080 --> 00:00:45.960\nI gotta check these things out,\nbecause if you just go through it ,and\n\n16\n00:00:45.960 --> 00:00:50.140\nyou're thinking everything's hunky dory,\nand you don't actually verify, and\n\n17\n00:00:50.140 --> 00:00:54.390\nit doesn't on the off chance, something\ndidn't go correctly, then you're gonna be\n\n18\n00:00:54.390 --> 00:00:59.060\nwondering, why is that not working, why is\nthis working not the way I expect it to?\n\n19\n00:00:59.060 --> 00:01:01.570\nWell I should have done some\nverification after that.\n\n20\n00:01:01.570 --> 00:01:05.170\nThat is always a good thing to do after\nany kind of installation promotion,\n\n21\n00:01:05.170 --> 00:01:06.320\nthings of that nature.\n\n22\n00:01:06.320 --> 00:01:07.850\nSo Mike, where do we start with this?\n\n23\n00:01:07.850 --> 00:01:11.280\n>> Well on this one I wanna show you one\nof the more advanced options we can use\n\n24\n00:01:11.280 --> 00:01:12.820\nfor installing Active Directory, and\n\n25\n00:01:12.820 --> 00:01:17.150\nit really doesn't have anything to do with\ninstalling Active Directory itself, but\n\n26\n00:01:17.150 --> 00:01:22.590\nit helps us speed up the process and save\nsome network bandwidth, of all things.\n\n27\n00:01:22.590 --> 00:01:24.190\nAnd when you promote a domain controller,\n\n28\n00:01:24.190 --> 00:01:27.820\nlet's say you've already got your\nfirst domain controller set up, right?\n\n29\n00:01:27.820 --> 00:01:30.860\nAnd let's say we've got our corporate\noffice, and we've got a couple domain\n\n30\n00:01:30.860 --> 00:01:35.130\ncontrollers there, and now at our branch\noffice we want to put a domain controller\n\n31\n00:01:35.130 --> 00:01:39.060\nout there, because those people at\nthe branch office, when they go to log on,\n\n32\n00:01:39.060 --> 00:01:43.030\ntheir log on traffic is gonna cross that\nWAN link, hitting our domain controllers,\n\n33\n00:01:43.030 --> 00:01:47.430\nverifying their passwords, retrieving\ngroup policy, all that fun stuff.\n\n34\n00:01:47.430 --> 00:01:51.610\nAnd if the WAN link is down, that means,\nthey're not gonna be able to log on.\n\n35\n00:01:51.610 --> 00:01:52.800\nSo if it's slow or\n\n36\n00:01:52.800 --> 00:01:57.020\nunreliable, that's gonna cause issues\nout there at that branch office.\n\n37\n00:01:57.020 --> 00:02:00.750\nSo I've decided that I want to put\na domain controller, at the branch office.\n\n38\n00:02:00.750 --> 00:02:01.390\nGreat.\n\n39\n00:02:01.390 --> 00:02:02.730\nI've got a member server out there.\n\n40\n00:02:02.730 --> 00:02:04.840\nWe've got good physical security.\n\n41\n00:02:04.840 --> 00:02:08.262\nLet's dump one out there,\nthat'll make sure they can always log on,\n\n42\n00:02:08.262 --> 00:02:10.157\neven if that WAN link is unavailable.\n\n43\n00:02:10.157 --> 00:02:14.115\nThe problem with that is, when you\ninstall the domain controller, right?\n\n44\n00:02:14.115 --> 00:02:17.215\nIt gets a copy of\nthe Active Directory database.\n\n45\n00:02:17.215 --> 00:02:20.275\nThe Active Directory database,\nis where all that information is stored.\n\n46\n00:02:20.275 --> 00:02:22.675\nAll the user accounts,\nall the computer accounts,\n\n47\n00:02:22.675 --> 00:02:26.300\ngroup policies, network tropologies.\n\n48\n00:02:26.300 --> 00:02:27.940\nReplication for domain controllers.\n\n49\n00:02:27.940 --> 00:02:30.330\nA lot of stuff in that\nActive Directory database.\n\n50\n00:02:30.330 --> 00:02:34.940\nIt can grow over time, it can get\npretty big in large organizations.\n\n51\n00:02:34.940 --> 00:02:36.670\nAnd I've gotta replicate that, right?\n\n52\n00:02:36.670 --> 00:02:39.900\nIf I set up a new domain\ncontroller at that branch office,\n\n53\n00:02:39.900 --> 00:02:41.670\nit needs a copy of that database.\n\n54\n00:02:41.670 --> 00:02:44.210\nThat means it's gonna have\nto replicate that copy\n\n55\n00:02:44.210 --> 00:02:48.850\nfrom one of the domain controllers in my\ncorporate office across the WAN link,\n\n56\n00:02:48.850 --> 00:02:50.420\nout there to that branch office.\n\n57\n00:02:50.420 --> 00:02:53.230\nAnd if I've got a slow connection or\n\n58\n00:02:53.230 --> 00:02:56.730\nan unreliable connection\nthat's gonna pose a problem.\n\n59\n00:02:56.730 --> 00:03:03.650\nSo Microsoft gives us an option\ncalled IFM or Install From Media,\n\n60\n00:03:03.650 --> 00:03:08.300\nand what I do is we make a backup\nof the Active Directory database,\n\n61\n00:03:08.300 --> 00:03:11.740\nmake a special kind of backup of\nthe Active Directory database, and\n\n62\n00:03:11.740 --> 00:03:14.390\nthen we can put that on removable media.\n\n63\n00:03:14.390 --> 00:03:19.140\nUSB hard drive or something like that,\nand ship it out to the branch office.\n\n64\n00:03:19.140 --> 00:03:23.710\nThey can then go to that member server\nthat we're gonna promote, copy that backup\n\n65\n00:03:23.710 --> 00:03:28.220\nlocally onto that machine, and then when\nthey run through the promo, when they go\n\n66\n00:03:28.220 --> 00:03:32.370\nthrough the Active Directory configuration\nwizard, they can tell it, hey don't\n\n67\n00:03:32.370 --> 00:03:36.330\nreplicate from one of the existing domain\ncontrollers, that's the normal behavior.\n\n68\n00:03:36.330 --> 00:03:41.570\nInstead, replicate from this backup that's\nright here, on that local hard drive.\n\n69\n00:03:41.570 --> 00:03:45.250\nIt's gonna be much faster and\nI'm gonna eliminate most\n\n70\n00:03:45.250 --> 00:03:49.840\nof that replication traffic, because\nthere will be some replication traffic.\n\n71\n00:03:49.840 --> 00:03:55.140\nThat backup was made a couple hours ago,\nyesterday, last week, right?\n\n72\n00:03:55.140 --> 00:03:57.770\nIt depends on how long it\ntook me to ship it out there,\n\n73\n00:03:57.770 --> 00:04:00.910\nhow long it took them to get around\nto actually doing this installation.\n\n74\n00:04:00.910 --> 00:04:02.420\nSo there might be some changes.\n\n75\n00:04:02.420 --> 00:04:06.120\nAnd those will still have to\nreplicate across the network, but\n\n76\n00:04:06.120 --> 00:04:08.410\nyou can eliminate a good majority of it.\n\n77\n00:04:08.410 --> 00:04:10.250\nSave some of that bandwidth.\n\n78\n00:04:10.250 --> 00:04:11.700\nAlright.\n\n79\n00:04:11.700 --> 00:04:12.580\nSo let's take a look at it.\n\n80\n00:04:12.580 --> 00:04:14.750\nSo all we're gonna do,\nthe first thing you have to do is,\n\n81\n00:04:14.750 --> 00:04:16.240\nwe have to make that backup.\n\n82\n00:04:16.240 --> 00:04:18.350\nRight, we have to be able\nto ship that out there.\n\n83\n00:04:18.350 --> 00:04:21.550\nSo people, I pull up my screen right here\nand make sure I'm on the right machine.\n\n84\n00:04:21.550 --> 00:04:23.240\nI'm on DC1.\n\n85\n00:04:23.240 --> 00:04:26.200\nIt really doesn't matter which\ndomain controller you go to, right?\n\n86\n00:04:26.200 --> 00:04:28.280\nDomain controllers\nreplicate with each other,\n\n87\n00:04:28.280 --> 00:04:33.078\nthey should all have a copy of that\ndatabase in it, should be the same.\n\n88\n00:04:33.078 --> 00:04:35.930\nSo I'm gonna open up a command prompt.\n\n89\n00:04:38.570 --> 00:04:40.460\nAnd I'm gonna adjust that\nfont just a wee bit, so\n\n90\n00:04:40.460 --> 00:04:43.494\nyou guys can see these\ncommands I'm typing in.\n\n91\n00:04:46.382 --> 00:04:47.910\nY gives you that grey color.\n\n92\n00:04:47.910 --> 00:04:50.180\nThis doesn't show up well on there.\n\n93\n00:04:50.180 --> 00:04:53.060\n>> I think [CROSSTALK]\n>> I know you like change yours\n\n94\n00:04:53.060 --> 00:04:53.763\nto green, right.\n\n95\n00:04:53.763 --> 00:04:54.276\n>> I do.\n>> with a black\n\n96\n00:04:54.276 --> 00:04:55.030\nbackground, I like that too.\n\n97\n00:04:56.370 --> 00:05:01.097\n>> All right, so what we're gonna use,\nwe're gonna use ntds utility, or\n\n98\n00:05:01.097 --> 00:05:05.790\nntdsutil, so\nyou type in ntds utility, hit Enter.\n\n99\n00:05:05.790 --> 00:05:10.320\nThat brings you to the ntdsutil prompt,\nand from there we're gonna type in\n\n100\n00:05:10.320 --> 00:05:15.120\nactivate instance ntds.\n\n101\n00:05:15.120 --> 00:05:19.520\nI have to tell it,\nwhat I'm getting ready to work with.\n\n102\n00:05:19.520 --> 00:05:25.000\nNow we could have other copies of it,\noh what's a good way to say this,\n\n103\n00:05:25.000 --> 00:05:28.550\nthere's something called Active Directory\nLightweight Directory Services,\n\n104\n00:05:28.550 --> 00:05:33.620\nwhich allows you to create a directory\npartition, lightweight directory services.\n\n105\n00:05:33.620 --> 00:05:36.490\nMuch like Active Directory\nwithout the domain.\n\n106\n00:05:36.490 --> 00:05:39.240\nUseful for, not much I don't think.\n\n107\n00:05:39.240 --> 00:05:40.050\nAnyway, [LAUGH].\n\n108\n00:05:40.050 --> 00:05:43.180\nNo, it is something that can be used,\nthat's for another episode.\n\n109\n00:05:43.180 --> 00:05:47.540\nThe point is there could be more than\none ntds database on this machine.\n\n110\n00:05:47.540 --> 00:05:50.440\nNow there's only one Active Directory\ndomain services database,\n\n111\n00:05:50.440 --> 00:05:53.340\nbut I gotta make sure I point\nthis utility to that database.\n\n112\n00:05:53.340 --> 00:05:56.800\nSo that's what I'm doing there,\nactivate instance ntds.\n\n113\n00:05:56.800 --> 00:06:01.040\nAnd I can see, active instance set to,\nand DDS, alright?\n\n114\n00:06:01.040 --> 00:06:02.920\nSo now it knows what I want to work with.\n\n115\n00:06:02.920 --> 00:06:07.270\nThen I type in IFM and I hit enter,\nand that takes me to my IFM prompt.\n\n116\n00:06:07.270 --> 00:06:10.130\nRemember, ntts utility is\nan extremely powerful utility,\n\n117\n00:06:10.130 --> 00:06:13.965\nhas several different kind\nof tools built in to it.\n\n118\n00:06:13.965 --> 00:06:18.907\nSo typing in IFM takes me to the install\nfrom media portion of NTDS util,\n\n119\n00:06:18.907 --> 00:06:23.725\nthen I'm gonna type in the word create,\nand I don't have to tell it what I want\n\n120\n00:06:23.725 --> 00:06:27.660\nto copy, because I've already\nset my active instance to ntds.\n\n121\n00:06:27.660 --> 00:06:32.140\nSo it's create, and\nthen I can use the words sysvol, or not.\n\n122\n00:06:32.140 --> 00:06:33.300\nI'll explain here in just a second.\n\n123\n00:06:33.300 --> 00:06:35.570\nWell, let me go ahead and explain.\n\n124\n00:06:35.570 --> 00:06:37.630\nThere's two things that\nmake up Active Directory.\n\n125\n00:06:37.630 --> 00:06:41.326\nThere's the Active Directory\ndatabase itself,\n\n126\n00:06:41.326 --> 00:06:45.530\nntds.dit located at\nc:windows ntds by default.\n\n127\n00:06:45.530 --> 00:06:47.920\nAnd then there's the sysvol\nfolder structure,\n\n128\n00:06:47.920 --> 00:06:51.730\nwhich is where my group policies and\nsome other information gets stored.\n\n129\n00:06:51.730 --> 00:06:54.530\nThat also replicates to\nother domain controllers.\n\n130\n00:06:54.530 --> 00:06:57.120\nThat's located C: WINDOWS sysvol.\n\n131\n00:06:57.120 --> 00:06:59.340\nSo when I make a new domain controller,\n\n132\n00:06:59.340 --> 00:07:01.730\nthere's two things that have to\nreplicate across the network.\n\n133\n00:07:01.730 --> 00:07:05.320\nThe database itself, and\nthe sysvol folder structure.\n\n134\n00:07:05.320 --> 00:07:07.970\nWhen I make this special\nbackup I have to decide.\n\n135\n00:07:07.970 --> 00:07:10.380\nI'm always gonna get a copy\nof the database itself.\n\n136\n00:07:10.380 --> 00:07:14.270\nDo I want to include a copy of\nthe sysval folder structure?\n\n137\n00:07:14.270 --> 00:07:15.670\nIf I don't,\n\n138\n00:07:15.670 --> 00:07:18.675\nwell then the entire sysvals gonna\nhave to replicate across the network.\n\n139\n00:07:18.675 --> 00:07:21.965\nIf I include it, then just\nchanges that have occurred since,\n\n140\n00:07:21.965 --> 00:07:25.115\nwhenever I made this back\nup would have to replicate.\n\n141\n00:07:25.115 --> 00:07:28.115\nHonestly, I'll tell you sysvol\nis typically not that big, so\n\n142\n00:07:28.115 --> 00:07:29.355\nsome people will leave it off.\n\n143\n00:07:29.355 --> 00:07:31.785\nThey won't include it in this backup.\n\n144\n00:07:31.785 --> 00:07:34.835\nBut the command is gonna be create sysvol.\n\n145\n00:07:34.835 --> 00:07:40.020\nAnd then full if the domain controller\nat the branch office that I'm creating.\n\n146\n00:07:40.020 --> 00:07:42.870\nIs gonna be a full domain controller.\n\n147\n00:07:42.870 --> 00:07:47.450\nThe other option would be rodc.\n\n148\n00:07:47.450 --> 00:07:50.190\nIf I was making a read\nonly demand controller,\n\n149\n00:07:50.190 --> 00:07:53.300\nwhich from it's name you can\ninfer it's a domain controller,\n\n150\n00:07:53.300 --> 00:07:56.570\nwith a read only copy of\nthe Active Directory database.\n\n151\n00:07:56.570 --> 00:07:59.242\nNow we're gonna cover\nthat in depth later on.\n\n152\n00:07:59.242 --> 00:08:03.261\nFor now just know its got a read only\ncopy of the Active Directory database.\n\n153\n00:08:03.261 --> 00:08:09.550\nAnd it by default it doesn't conclude any\nsecrets, in other words, no passwords.\n\n154\n00:08:09.550 --> 00:08:12.950\nSo we have to tell it, hey I want to make\na copy of the Active Directory database,\n\n155\n00:08:12.950 --> 00:08:14.250\nbut don't include the passwords.\n\n156\n00:08:14.250 --> 00:08:16.020\nLeave those out of the copy.\n\n157\n00:08:16.020 --> 00:08:19.380\nAll right, so it depends on what I'm\ntrying to set up at the branch office.\n\n158\n00:08:19.380 --> 00:08:24.100\nSo let's say we're doing a full, and\n\n159\n00:08:24.100 --> 00:08:26.920\nthen where do I wanna put\nthis backup that I'm making?\n\n160\n00:08:26.920 --> 00:08:30.040\nI'm just gonna put it on my C\ndrive in a folder called IFM.\n\n161\n00:08:30.040 --> 00:08:35.950\nNow if I didn't want to include sysvol,\nI would just leave that word out.\n\n162\n00:08:35.950 --> 00:08:40.380\nCreate full or create RODC, and\nthen the path where I wanna make it,\n\n163\n00:08:40.380 --> 00:08:44.990\nif you wanna include sysvol,\nyou just add that guy in there.\n\n164\n00:08:44.990 --> 00:08:47.510\n>> Now Mike,\nthe folder that you've mentioned here,\n\n165\n00:08:47.510 --> 00:08:50.575\nyou've referenced that\n>> What is it the IFM folder.\n\n166\n00:08:50.575 --> 00:08:51.860\n>> Mm-hm.\n>> Is that already created?\n\n167\n00:08:51.860 --> 00:08:53.990\nDo I have to create that beforehand,\nor will it create it as.\n\n168\n00:08:53.990 --> 00:08:55.030\n>> It should create it for me.\n\n169\n00:08:55.030 --> 00:08:55.550\n>> Very cool.\n\n170\n00:08:55.550 --> 00:08:58.709\n>> Yep, absolutely, cuz I have not\ncreated it yet, so we'll find out.\n\n171\n00:08:58.709 --> 00:08:59.960\n>> [LAUGH] We'll see.\n\n172\n00:08:59.960 --> 00:09:01.620\n>> I'm pretty.\nIt will create it for me.\n\n173\n00:09:01.620 --> 00:09:05.380\nAnd this shouldn't take too long because\n>> This is a test database, or\n\n174\n00:09:05.380 --> 00:09:09.540\na test domain controller that doesn't\nhave any user accounts, or very few.\n\n175\n00:09:09.540 --> 00:09:11.650\nSo there we go,\nit went ahead and created it.\n\n176\n00:09:11.650 --> 00:09:14.310\nYou can see it kind of copying\nall of the different files.\n\n177\n00:09:15.880 --> 00:09:20.740\nIn the end, it says IFM media\ncreated successfully NC: IFM.\n\n178\n00:09:22.340 --> 00:09:22.920\nRight?\n\n179\n00:09:22.920 --> 00:09:26.030\nThen I can type in exit to get out of,\nor quit, sorry,\n\n180\n00:09:26.030 --> 00:09:30.040\nto get out of F, and\nthen quit to get out of NTDS.\n\n181\n00:09:30.040 --> 00:09:33.610\nAnd if I change over to, C: here and do\n\n182\n00:09:36.190 --> 00:09:39.710\na dir, I should see there's my IFM.\n\n183\n00:09:42.127 --> 00:09:48.360\nAnd there I can see my copy of Active\nDirectory as well as sysvol, all right.\n\n184\n00:09:48.360 --> 00:09:52.390\nWe could also take a peak in\nWindows Explorer if we really wanted to.\n\n185\n00:09:52.390 --> 00:09:55.330\nC:IFM, and there's my active\ndirectory database in there,\n\n186\n00:09:55.330 --> 00:10:01.930\nthere's NTDS.DIT as well as my sysvol,\nmy group policies, and things like that.\n\n187\n00:10:01.930 --> 00:10:03.410\nSo there we go, I've got that backup.\n\n188\n00:10:03.410 --> 00:10:08.720\nNow, in the real world I would be\ncopying that entire folder, C: IFM to\n\n189\n00:10:08.720 --> 00:10:13.630\nsome type of removable media so\nI can send it out to that branch office.\n\n190\n00:10:13.630 --> 00:10:15.050\nIn our little lab,\n\n191\n00:10:15.050 --> 00:10:18.590\nI'm just gonna copy it across the network\nwhich defeats the purpose, right?\n\n192\n00:10:18.590 --> 00:10:23.050\nBecause I did this so I could avoid\nthe network replication traffic.\n\n193\n00:10:23.050 --> 00:10:25.050\nBut again, this is a lab environment so\n\n194\n00:10:25.050 --> 00:10:30.600\nwe're gonna have to\ncheat just a little bit.\n\n195\n00:10:30.600 --> 00:10:34.230\nAll right, so all I'm going to do is\ncome over and I'm going to connect to.\n\n196\n00:10:34.230 --> 00:10:34.979\nWhere is that guy?\n\n197\n00:10:34.979 --> 00:10:38.140\nA C dollar.\n\n198\n00:10:39.220 --> 00:10:42.173\nAnd we'll connect to that and\nI'm gonna copy that entire folder.\n\n199\n00:10:44.262 --> 00:10:48.119\nAnd I'm gonna paste that\nhere on my local hard drive.\n\n200\n00:10:52.436 --> 00:10:55.690\nAll right, again, teeny, tiny database,\nso it didn't take very long there.\n\n201\n00:10:55.690 --> 00:10:57.960\nSo now I've got a local copy.\n\n202\n00:10:57.960 --> 00:11:01.680\nIf this was the real world, I would\nhave pulled that off of that USB drive,\n\n203\n00:11:01.680 --> 00:11:03.790\ncopied it over to the local machine.\n\n204\n00:11:03.790 --> 00:11:06.750\nSo here I am, on the server,\nat the branch office.\n\n205\n00:11:06.750 --> 00:11:08.150\nIt's a member server.\n\n206\n00:11:08.150 --> 00:11:10.130\nI've got the files from\nthe corporate office.\n\n207\n00:11:10.130 --> 00:11:12.455\nThey sent me that backup\nof Active Directory,\n\n208\n00:11:12.455 --> 00:11:14.305\nI've copied it over my local drive.\n\n209\n00:11:14.305 --> 00:11:17.495\nThen I went through and\nI did the ad roles and features wizard.\n\n210\n00:11:17.495 --> 00:11:20.659\nAnd I added the role,\nActive Directory domain services, right,\n\n211\n00:11:20.659 --> 00:11:22.704\nlike we've seen in our previous episode.\n\n212\n00:11:22.704 --> 00:11:24.972\nAnd at the very end of that,\nI told you guys earlier,\n\n213\n00:11:24.972 --> 00:11:28.215\nthat there's a link to promote\nthe server to a domain controller.\n\n214\n00:11:28.215 --> 00:11:32.395\nIf I had closed this wizard, I could\nalways go out to my notification and\n\n215\n00:11:32.395 --> 00:11:34.950\nchoose to promote this server\nto a domain controller.\n\n216\n00:11:34.950 --> 00:11:36.930\nDoesn't really matter which one you use,\nso\n\n217\n00:11:36.930 --> 00:11:38.580\nI click promote the server\nto a domain controller.\n\n218\n00:11:40.750 --> 00:11:46.110\nThat launches my Active Directory\ndomain service configuration wizard and\n\n219\n00:11:46.110 --> 00:11:49.440\nI'll be adding a domain controller\nto an existing domain again.\n\n220\n00:11:49.440 --> 00:11:51.530\nIt already sees my domain, lab.net.\n\n221\n00:11:51.530 --> 00:11:54.750\nIt already has the credentials that's\nwho I'm running this wizard as,\n\n222\n00:11:54.750 --> 00:11:55.880\nthose are perfect.\n\n223\n00:11:55.880 --> 00:11:59.630\nI'll click next and this is going to look\njust like our insulation we did before.\n\n224\n00:11:59.630 --> 00:12:02.545\nSo far no difference, right?\n\n225\n00:12:02.545 --> 00:12:06.880\nIt's going to check my network\nconfiguration and see if we've got DNS,\n\n226\n00:12:06.880 --> 00:12:09.876\nask me if i want to make\nit a global catalog server.\n\n227\n00:12:14.287 --> 00:12:17.320\nWait for\nit to verify my DNS configuration.\n\n228\n00:12:18.680 --> 00:12:20.830\nI'm gonna uncheck global catalog for now.\n\n229\n00:12:20.830 --> 00:12:23.550\nWe're gonna talk about\nthat in another episode.\n\n230\n00:12:23.550 --> 00:12:26.210\nI will set my DSRM password.\n\n231\n00:12:30.817 --> 00:12:33.510\nSo far again, no difference.\n\n232\n00:12:33.510 --> 00:12:37.550\nIt cannot connect to the Internet so I do\nnot get any DNS delegation, that's fine.\n\n233\n00:12:37.550 --> 00:12:40.080\nThis is where things change, all right?\n\n234\n00:12:40.080 --> 00:12:45.510\nNow I am going to specify install\nfrom media, or IFM options.\n\n235\n00:12:45.510 --> 00:12:48.242\nIn our previous demo,\nwe skipped this screen.\n\n236\n00:12:48.242 --> 00:12:50.580\nHere I'm gonna choose\ninstall from media and\n\n237\n00:12:50.580 --> 00:12:52.310\nall I have to do is tell it where it is.\n\n238\n00:12:52.310 --> 00:12:57.670\nI'll just click Browse, and I'll navigate\nover to that C drive and choose the IFM.\n\n239\n00:12:57.670 --> 00:13:01.190\nI don't have to navigate into the folder\nand actually select the database.\n\n240\n00:13:01.190 --> 00:13:03.630\nYou wanna select the IFM folder itself.\n\n241\n00:13:03.630 --> 00:13:05.350\nAnd you don't have to call the folder IFM.\n\n242\n00:13:05.350 --> 00:13:09.010\nI could've called it anything I wanted,\nit just makes sense in my brain.\n\n243\n00:13:09.010 --> 00:13:12.730\nSo I call it, there's all that info,\nwe'll click OK, and\n\n244\n00:13:12.730 --> 00:13:13.615\nthat's gonna take it a second.\n\n245\n00:13:13.615 --> 00:13:17.150\nIt's gonna read through that directory and\nmake sure all the pieces are there,\n\n246\n00:13:17.150 --> 00:13:19.980\neverything it needs to do this operation.\n\n247\n00:13:19.980 --> 00:13:22.470\nAnd you can also click verify.\n\n248\n00:13:22.470 --> 00:13:26.540\nVerify does the same thing really so\nit's kind of a redundant step, but\n\n249\n00:13:26.540 --> 00:13:28.610\nI always like doing this just in case.\n\n250\n00:13:28.610 --> 00:13:29.450\nYou know how Windows is.\n\n251\n00:13:31.240 --> 00:13:36.000\nSo it sees it, everything seems to\nbe fine, the verification worked.\n\n252\n00:13:36.000 --> 00:13:39.510\nThere's another option down\nhere that you can choose,\n\n253\n00:13:39.510 --> 00:13:42.560\nspecify additional replication options.\n\n254\n00:13:42.560 --> 00:13:45.620\nRemember I said, even though I've\ngot that backup of the database and\n\n255\n00:13:45.620 --> 00:13:47.910\nit's gonna pull all\nthe information from there.\n\n256\n00:13:47.910 --> 00:13:51.410\nThat backup might be a couple hours old,\nmight be a couple days old.\n\n257\n00:13:51.410 --> 00:13:54.990\nSo there are gonna be some changes that\nhave occurred since I made that backup.\n\n258\n00:13:54.990 --> 00:13:56.950\nThose will still have to replicate.\n\n259\n00:13:56.950 --> 00:14:02.160\nOr if I hadn't included sysvol in that\nspecial backup, if I had done create\n\n260\n00:14:02.160 --> 00:14:06.560\nfull in the path and left the word sysvol\nout, sysvol would have to replicate.\n\n261\n00:14:06.560 --> 00:14:09.540\nAnd by default it's set\nto any domain controller.\n\n262\n00:14:09.540 --> 00:14:11.870\nSo even though it's getting\nmost of it from here,\n\n263\n00:14:11.870 --> 00:14:15.647\nthere is some replication it still needs\nto do and it says any domain controller.\n\n264\n00:14:15.647 --> 00:14:18.420\nAnd it might pick any one.\n\n265\n00:14:18.420 --> 00:14:21.190\nThere might be a specific one that I want,\n\n266\n00:14:21.190 --> 00:14:25.830\nthere might be, maybe this is a second\ndomain controller at the branch office.\n\n267\n00:14:25.830 --> 00:14:30.500\nAnd I'm saying hey, replicate it from\nthis guy or here's another scenario.\n\n268\n00:14:30.500 --> 00:14:33.300\nLet's say I set this one up using IFM and\n\n269\n00:14:33.300 --> 00:14:36.860\nthen I want a second domain\ncontroller at the branch office.\n\n270\n00:14:36.860 --> 00:14:38.870\nI don't have to do the whole IFM thing.\n\n271\n00:14:38.870 --> 00:14:41.430\nIt's gonna be on the same LAN\nas that first domain controller\n\n272\n00:14:41.430 --> 00:14:42.480\nat the branch office, right?\n\n273\n00:14:42.480 --> 00:14:44.010\nSo I'm not worried about network traffic.\n\n274\n00:14:44.010 --> 00:14:45.970\nI could not do this option.\n\n275\n00:14:45.970 --> 00:14:49.000\nNot go through making another\nback up again and all that.\n\n276\n00:14:49.000 --> 00:14:53.330\nBut I could say hey,\nmake sure you get your replication from\n\n277\n00:14:53.330 --> 00:14:56.580\nthis domain controller that's on\nthe same local area network as you.\n\n278\n00:14:56.580 --> 00:14:59.140\nSo a couple cool options there,\nagain, trying to help you prevent\n\n279\n00:15:00.160 --> 00:15:03.780\nnetwork traffic or the replication\ntraffic that can get generated.\n\n280\n00:15:03.780 --> 00:15:08.210\nSo we'll go ahead and click next and\nthen it's back to the same old wizard.\n\n281\n00:15:08.210 --> 00:15:10.540\nThe rest of it is just like we saw before.\n\n282\n00:15:10.540 --> 00:15:14.670\nDefault locations for\nmy database log files and sysvol.\n\n283\n00:15:14.670 --> 00:15:16.230\nI get to review my selection.\n\n284\n00:15:16.230 --> 00:15:20.030\nAnd it's gonna go through and\ndo my prereq checks.\n\n285\n00:15:20.030 --> 00:15:21.340\nMake sure everything's okay.\n\n286\n00:15:21.340 --> 00:15:22.560\nAnd it's going to go\nthrough the installation.\n\n287\n00:15:22.560 --> 00:15:27.600\nSo really nothing else to see here,\nwe're not gonna notice any difference\n\n288\n00:15:27.600 --> 00:15:29.980\nunless we're monitoring\nour network bandwidth.\n\n289\n00:15:29.980 --> 00:15:33.830\nWe would see, we wouldn't see\na big spike in replication traffic\n\n290\n00:15:33.830 --> 00:15:37.810\ngoing across that WAN link\nas this wizard progresses.\n\n291\n00:15:37.810 --> 00:15:39.390\nSo very cool option.\n\n292\n00:15:39.390 --> 00:15:43.250\nUse this when you have replication.\n\n293\n00:15:43.250 --> 00:15:46.600\nYou're worried about that traffic\nthat's gonna get generated.\n\n294\n00:15:46.600 --> 00:15:50.570\nOr maybe you're setting up a domain\ncontroller in a test environment\n\n295\n00:15:50.570 --> 00:15:54.442\nthat doesn't have connectivity back\nto the other domain controllers.\n\n296\n00:15:54.442 --> 00:15:54.985\nAll right?\nSo\n\n297\n00:15:54.985 --> 00:15:57.791\nI can use this as a way to set\nup that domain controller and\n\n298\n00:15:57.791 --> 00:16:00.410\npopulate that Active Directory database.\n\n299\n00:16:00.410 --> 00:16:03.182\nEven though it can't replicate\nfrom other domain controllers, so\n\n300\n00:16:03.182 --> 00:16:04.309\nsomething that we can use.\n\n301\n00:16:04.309 --> 00:16:07.773\nI'll go ahead and click install and\nlet it run but like I said you don't\n\n302\n00:16:07.773 --> 00:16:11.960\nreally see anything different here it's\njust the network traffic that gets saved.\n\n303\n00:16:11.960 --> 00:16:12.500\n>> Very cool.\n\n304\n00:16:12.500 --> 00:16:18.050\nVery neat option for us to be able to use\nfor when those types of situation arise.\n\n305\n00:16:18.050 --> 00:16:21.990\nNow Mike, we also have to go through\na little more of that DNS business, right?\n\n306\n00:16:21.990 --> 00:16:25.520\nWe've gotta talk about a certain\ntype of record, right?\n\n307\n00:16:25.520 --> 00:16:27.220\n>> Yeah,\nthere's a few things we need to do,\n\n308\n00:16:27.220 --> 00:16:30.830\nreally, to verify that\nActive Directory installed, right?\n\n309\n00:16:30.830 --> 00:16:32.930\nAnd DNS is a big one.\n\n310\n00:16:32.930 --> 00:16:35.590\nLet me flip back over to that\nfirst domain controller I have,\n\n311\n00:16:35.590 --> 00:16:39.610\nsince I know he's done and\nfinished and everything is good.\n\n312\n00:16:39.610 --> 00:16:42.820\nFirst of all, or actually you know what,\nto heck with that, let's use server one.\n\n313\n00:16:42.820 --> 00:16:46.220\nThis is the one we set up\nin that previous episode.\n\n314\n00:16:46.220 --> 00:16:48.750\nWe had used our GUI to install this guy.\n\n315\n00:16:48.750 --> 00:16:52.500\nAnd now I want to make sure that\nActive Directory installed properly.\n\n316\n00:16:52.500 --> 00:16:54.030\nWell, a few different ways I can tell.\n\n317\n00:16:54.030 --> 00:16:57.640\nFirst of all, I see Active Directory\nDomain Services listed over here.\n\n318\n00:16:57.640 --> 00:17:00.200\nAnd then my computer goes to sleep.\n\n319\n00:17:00.200 --> 00:17:01.130\nAnd, we'll wake it back up.\n\n320\n00:17:02.620 --> 00:17:05.440\nAnd then i can see that active\ndirectory domain services\n\n321\n00:17:05.440 --> 00:17:08.300\nis listed over here in my server manager.\n\n322\n00:17:08.300 --> 00:17:12.340\nSo that's a good indication that\nit's running active directory.\n\n323\n00:17:12.340 --> 00:17:17.450\nI'll also notice that in my tools menu I\nnow have all of my active directory tools.\n\n324\n00:17:17.450 --> 00:17:21.150\nAnother indication that\nActive Directory installed correctly.\n\n325\n00:17:21.150 --> 00:17:26.050\nI can also go to the File Explorer,\nopen up the C drive,\n\n326\n00:17:26.050 --> 00:17:30.425\nand if I didn't change the defaults,\nI know that the database is\n\n327\n00:17:30.425 --> 00:17:35.930\nC:Windows NTDS and\nthere's my NTDS.dit database.\n\n328\n00:17:35.930 --> 00:17:38.490\nSo it's a copy of\nthe Active Directory database.\n\n329\n00:17:38.490 --> 00:17:39.310\nYou can also go down and\n\n330\n00:17:39.310 --> 00:17:44.990\nlook at c:windowssysball and\nmake sure that got replicated properly.\n\n331\n00:17:44.990 --> 00:17:48.150\nAnd sure enough there's my\nsysball folder structure.\n\n332\n00:17:48.150 --> 00:17:51.070\nSo these are all things that\nI can look at to make sure\n\n333\n00:17:51.070 --> 00:17:53.860\nthat the installation of\nActive Directory succeeded.\n\n334\n00:17:55.130 --> 00:18:01.800\nAll right, now and then what Daniel\nmentioned is the DNS records, right?\n\n335\n00:18:01.800 --> 00:18:03.590\nIf you've watched our DNS episode,\n\n336\n00:18:03.590 --> 00:18:09.280\nwe talked about a type of record called\nSRV records, or service locator records.\n\n337\n00:18:09.280 --> 00:18:14.150\nThese are records within DNS that clients\nuse when they're trying to find the server\n\n338\n00:18:14.150 --> 00:18:16.530\nthat's offering a particular service.\n\n339\n00:18:16.530 --> 00:18:20.872\nLike when you go to log in you need to\nfind the server that's running LDAP.\n\n340\n00:18:20.872 --> 00:18:24.510\nYou queried your machine queries DNS and\n\n341\n00:18:24.510 --> 00:18:28.100\nsays hey,\ngive me an LDAP server's IP address.\n\n342\n00:18:28.100 --> 00:18:30.610\nDNS then looks at those SRV records.\n\n343\n00:18:30.610 --> 00:18:34.030\nSo my domain controllers\nneed to register themselves.\n\n344\n00:18:34.030 --> 00:18:36.930\nThey need to create those records in DNS.\n\n345\n00:18:36.930 --> 00:18:37.770\nAnd let's take a look.\n\n346\n00:18:37.770 --> 00:18:40.760\nThis guy's running DNS, so\nwe'll just stay on this one.\n\n347\n00:18:40.760 --> 00:18:42.687\nAnd under Tools > DNS.\n\n348\n00:18:45.575 --> 00:18:49.230\nAnd as I expand my way down,\nI'm gonna go into my forward lookup zone.\n\n349\n00:18:49.230 --> 00:18:52.420\nThere's my domain, lab.net.\n\n350\n00:18:52.420 --> 00:18:58.130\nAnd then I've got my SRV\nrecords located in here.\n\n351\n00:18:58.130 --> 00:19:02.190\nNow there's a couple different places\nyou can actually see these SRV records.\n\n352\n00:19:02.190 --> 00:19:04.640\nWe'll talk more about\nthat in another episode.\n\n353\n00:19:04.640 --> 00:19:10.630\nBut here under TCP is a great place to\nstart, and we can see I have three, right?\n\n354\n00:19:10.630 --> 00:19:11.580\nCuz I had my DC1.\n\n355\n00:19:11.580 --> 00:19:14.410\nThat was already a domain controller.\n\n356\n00:19:14.410 --> 00:19:19.360\nAnd then I had SVR1 that we promoted\nto a domain controller, and SVR2.\n\n357\n00:19:19.360 --> 00:19:21.880\nAnd so\nI can see records like global catalog.\n\n358\n00:19:21.880 --> 00:19:24.170\nAll three of those guys\nare running as a global catalog.\n\n359\n00:19:24.170 --> 00:19:25.580\nThere's their SVR records.\n\n360\n00:19:25.580 --> 00:19:28.880\nSo somebody queries DNS and says hey,\nI need a global catalog server.\n\n361\n00:19:28.880 --> 00:19:31.720\nWell, he can come in here and\nfind this record and say, oh.\n\n362\n00:19:31.720 --> 00:19:33.090\nHere's a global catalogue server,\n\n363\n00:19:33.090 --> 00:19:37.980\nserver two, and then it would use the A\nrecord to get server two's IP address.\n\n364\n00:19:37.980 --> 00:19:40.650\nWell what if these records\ndon't get created?\n\n365\n00:19:40.650 --> 00:19:43.880\nAgain this is something we really should\ncheck because it's a common problem.\n\n366\n00:19:43.880 --> 00:19:45.600\nIf there was any connectivity,\n\n367\n00:19:45.600 --> 00:19:49.070\nwhat if I didn't install DNS on this\ndomain controller when I promoted it?\n\n368\n00:19:49.070 --> 00:19:52.650\nI'd just installed active directory,\nwell then it should\n\n369\n00:19:52.650 --> 00:19:56.850\nreach out to my DNS server that's on\nthe network And create these records.\n\n370\n00:19:56.850 --> 00:19:58.670\nWhat if it had a connectivity issue?\n\n371\n00:19:58.670 --> 00:20:00.970\nRight?\nWhat if there was a problem with DNS?\n\n372\n00:20:00.970 --> 00:20:03.480\nIt wouldn't have been able\nto create these records.\n\n373\n00:20:03.480 --> 00:20:06.030\nAnd then my domain controller\nwouldn't be usable.\n\n374\n00:20:06.030 --> 00:20:09.450\nIt's not that it's not running, but\nthere's no DNS records to point to it.\n\n375\n00:20:09.450 --> 00:20:10.850\nNobody would be able to find it.\n\n376\n00:20:10.850 --> 00:20:11.360\nRight?\n\n377\n00:20:11.360 --> 00:20:15.360\nBecause there's no records in DNS\nsaying hey I'm a domain controller,\n\n378\n00:20:15.360 --> 00:20:16.650\nI can log you on.\n\n379\n00:20:16.650 --> 00:20:17.780\nI'm a global catalogue server,\n\n380\n00:20:17.780 --> 00:20:20.460\nif you need to search the entire forest,\nhere I am, right?\n\n381\n00:20:20.460 --> 00:20:22.870\nThat's what these records are doing for\nus.\n\n382\n00:20:22.870 --> 00:20:24.380\nSo let's see how this process works.\n\n383\n00:20:24.380 --> 00:20:28.640\nThis is actually the records get\ncreated by the net logon service.\n\n384\n00:20:28.640 --> 00:20:34.740\nEvery time this machine starts,\nit reads this netlogon.dns file,\n\n385\n00:20:34.740 --> 00:20:39.460\nand that file is where the information\nabout these records is stored.\n\n386\n00:20:39.460 --> 00:20:39.960\nLet me show you.\n\n387\n00:20:42.300 --> 00:20:47.530\nOops, open up File Explorer and\nit's actually located\n\n388\n00:20:47.530 --> 00:20:54.860\nat C:WindowsSystem32 and then Config.\n\n389\n00:20:54.860 --> 00:20:57.249\nAnd there's my netlogon.dns.\n\n390\n00:20:57.249 --> 00:21:01.420\nAnd if I open that up,\nyou can just use notepad to open that up,\n\n391\n00:21:01.420 --> 00:21:02.520\nit's just a text file.\n\n392\n00:21:02.520 --> 00:21:06.420\nAnd I'll bump that font up just\na wee bit so you guys can see this.\n\n393\n00:21:11.740 --> 00:21:15.150\nSo these are all the records that\nthis particular domain controller\n\n394\n00:21:15.150 --> 00:21:16.460\nis supposed to register.\n\n395\n00:21:16.460 --> 00:21:18.280\nHe's running LDAP.\n\n396\n00:21:18.280 --> 00:21:22.930\nHere's a record saying, hey if you want\nto find me, I'm running LDAP via TCP.\n\n397\n00:21:22.930 --> 00:21:25.920\nHere's a record saying that,\nI'm also a member of this site so\n\n398\n00:21:25.920 --> 00:21:31.270\nif you're looking for an LDAP server\nvia TCP in this particular site.\n\n399\n00:21:31.270 --> 00:21:33.840\nHere's my, and here's my name, right.\n\n400\n00:21:33.840 --> 00:21:36.260\nHe's also running kerberos.\n\n401\n00:21:36.260 --> 00:21:38.320\nI've got some other ones\nthat are going into, again,\n\n402\n00:21:38.320 --> 00:21:42.990\nthese are just multiple service locator\nrecords that it's supposed to register.\n\n403\n00:21:42.990 --> 00:21:47.670\nSo when this service starts up,\nit reads this file and it calls up DNS and\n\n404\n00:21:47.670 --> 00:21:54.570\nsays hey, make all of these\nDNS entries for me, all right?\n\n405\n00:21:54.570 --> 00:21:57.170\nWhat happens if they\ndon't get created though?\n\n406\n00:21:57.170 --> 00:21:59.650\nLet me see how I can do this for you guys.\n\n407\n00:21:59.650 --> 00:22:03.710\nI'm gonna flip back over to DNS and\nI'm on server one I'm\n\n408\n00:22:03.710 --> 00:22:08.760\ngonna remove, let's find all the SPR1s.\n\n409\n00:22:08.760 --> 00:22:13.050\nIt's not gonna let me sort it by\nServer1 so I have to carefully pick and\n\n410\n00:22:13.050 --> 00:22:13.630\nchoose here.\n\n411\n00:22:13.630 --> 00:22:16.575\nServer1, Server1, Server1.\n\n412\n00:22:16.575 --> 00:22:17.585\nOn server one.\n\n413\n00:22:17.585 --> 00:22:20.105\nI think I got all of them, and\nI'll go ahead and delete those guys.\n\n414\n00:22:21.175 --> 00:22:21.685\nAll right.\n\n415\n00:22:21.685 --> 00:22:22.485\nSo now they're gone.\n\n416\n00:22:22.485 --> 00:22:27.635\nSo at this point if somebody's looking for\na domain controller, LDAP or Kerberos,\n\n417\n00:22:27.635 --> 00:22:32.534\nit can tell them DC one and server\ntwo that there's nothing indicating,\n\n418\n00:22:32.534 --> 00:22:34.935\nthere's no record for server one.\n\n419\n00:22:36.480 --> 00:22:40.980\nTo get this server to re-register, and\nthat's what we really need to know is\n\n420\n00:22:40.980 --> 00:22:45.860\nif for some reason, it doesn't create\nthose records, how do I get them created?\n\n421\n00:22:45.860 --> 00:22:47.590\nYou could just re-boot the server.\n\n422\n00:22:47.590 --> 00:22:52.890\nIt should, when it re-boots that\nnet logon service starts up and\n\n423\n00:22:52.890 --> 00:22:55.620\nit should create these records.\n\n424\n00:22:55.620 --> 00:22:59.450\nA lot of times though we don't\nwanna reboot our domain controllers\n\n425\n00:22:59.450 --> 00:23:02.250\nin the middle of production or\nin the middle of a workday, right.\n\n426\n00:23:02.250 --> 00:23:06.280\nWhat if this machine was doing other\nthings besides active directory?\n\n427\n00:23:06.280 --> 00:23:08.960\nI can't just shut it down in the middle\nof the day and reboot it, right.\n\n428\n00:23:08.960 --> 00:23:09.790\n>> It's frowned upon.\n\n429\n00:23:09.790 --> 00:23:12.090\n>> It is, just a little bit.\n\n430\n00:23:12.090 --> 00:23:14.600\nSo what I'm gonna do is I'm gonna\nopen up a command prompt and\n\n431\n00:23:14.600 --> 00:23:16.630\nthere's a couple of ways you can do this.\n\n432\n00:23:16.630 --> 00:23:19.640\nYou can do a net stop.\n\n433\n00:23:21.070 --> 00:23:22.140\nIf I could type here.\n\n434\n00:23:22.140 --> 00:23:23.770\nA net log off.\n\n435\n00:23:23.770 --> 00:23:27.910\nAnd that's going to stop\nthat logon service.\n\n436\n00:23:27.910 --> 00:23:29.630\nAnd I will bump this up so\nyou guys can see that.\n\n437\n00:23:33.140 --> 00:23:35.290\nI going to write me a script for\nthis part.\n\n438\n00:23:36.630 --> 00:23:40.330\nAlright, and there I can see\nthe netlogon service was stopped,\n\n439\n00:23:40.330 --> 00:23:42.120\nremember the records\nare gone at this point.\n\n440\n00:23:43.200 --> 00:23:46.010\nNow what I'm gonna do is\nrestart that service.\n\n441\n00:23:46.010 --> 00:23:49.359\nI'm gonna say netstart_netlogon.\n\n442\n00:23:52.845 --> 00:23:55.935\nAnd what should happen when that\nservice starts up, it reads that file.\n\n443\n00:23:55.935 --> 00:23:57.645\nAnd it verifies the records are there.\n\n444\n00:23:57.645 --> 00:24:00.215\nAnd if they're not there,\nit should create them.\n\n445\n00:24:00.215 --> 00:24:04.321\nSo we'll refresh my TCP folder here.\n\n446\n00:24:04.321 --> 00:24:06.405\nAnd sure enough, now I've got records.\n\n447\n00:24:06.405 --> 00:24:08.927\nLook there's SVR one, SVR one.\n\n448\n00:24:08.927 --> 00:24:12.321\nSVR1, SVR1.\n\n449\n00:24:12.321 --> 00:24:15.220\nSo that's one way to do it.\n\n450\n00:24:15.220 --> 00:24:18.830\nThe down side of that is you did\nhave to stop the net logon service.\n\n451\n00:24:18.830 --> 00:24:22.460\nNow, if the records aren't there,\nit's not logging anybody in anyway, so\n\n452\n00:24:22.460 --> 00:24:26.330\nI don't know that having that\nlogon service down for the five or\n\n453\n00:24:26.330 --> 00:24:29.400\nten seconds it took to do that,\nis that big of a deal.\n\n454\n00:24:29.400 --> 00:24:30.310\nLet's say it was, for\n\n455\n00:24:30.310 --> 00:24:34.080\nsome reason in your environment,\nyou can't just stop that Netlogon service.\n\n456\n00:24:34.080 --> 00:24:35.760\nI'll go ahead and\ndelete those records again.\n\n457\n00:24:37.280 --> 00:24:42.340\nThe other way you can do it without\nstopping that service is nltest.\n\n458\n00:24:42.340 --> 00:24:45.510\nAnd you do a /dsregdns.\n\n459\n00:24:45.510 --> 00:24:52.420\nSo, directory service register,\nDNS records.\n\n460\n00:24:52.420 --> 00:24:52.930\nI hit Enter.\n\n461\n00:24:55.040 --> 00:24:56.400\nAnd we'll see if it worked.\n\n462\n00:24:56.400 --> 00:24:58.000\nWe'll flip back over here.\n\n463\n00:24:58.000 --> 00:25:00.830\nWe'll refresh my TCP folder.\n\n464\n00:25:00.830 --> 00:25:05.150\nAnd sure enough, server one is\nlisted again in all its glory.\n\n465\n00:25:05.150 --> 00:25:08.950\nSo just another way we can make\nsure those records are registered.\n\n466\n00:25:08.950 --> 00:25:09.830\nAnd as you were saying, Danny,\n\n467\n00:25:09.830 --> 00:25:13.050\nwithout those records they're not gonna\nbe able to find the domain controller.\n\n468\n00:25:13.050 --> 00:25:14.750\n>> Yeah, makes it a little bit difficult,\n\n469\n00:25:14.750 --> 00:25:18.060\nat least from using\nthe actual name space for it.\n\n470\n00:25:18.060 --> 00:25:18.640\n[LAUGH].\n>> Yes.\n\n471\n00:25:18.640 --> 00:25:19.480\n>> Now let me say Mike,\n\n472\n00:25:19.480 --> 00:25:23.180\nthere has also been a term that we have\nkinda seen a little bit here and there\n\n473\n00:25:23.180 --> 00:25:26.640\nas we've been playing around with active\ndirectory and that's a global catalog.\n\n474\n00:25:26.640 --> 00:25:28.270\n>> Yeah.\n>> Tell us about this global catalog.\n\n475\n00:25:28.270 --> 00:25:30.960\n>> The global catalog\nis really cool feature,\n\n476\n00:25:30.960 --> 00:25:36.180\nI don't want to say it's a feature, but\nif your forest has a single domain,\n\n477\n00:25:36.180 --> 00:25:40.260\nthen the global catalog really\ndoesn't serve much of a purpose.\n\n478\n00:25:40.260 --> 00:25:44.280\nThe idea is that, if you're in a domain\nand you want to search active directory.\n\n479\n00:25:44.280 --> 00:25:46.610\nAnd everybody has read\naccess to active directory,\n\n480\n00:25:46.610 --> 00:25:49.130\nall users have read access\nto active directory, so\n\n481\n00:25:49.130 --> 00:25:54.470\nthey can search for coworkers,\nother users, and things like that.\n\n482\n00:25:54.470 --> 00:25:58.150\nBut my domain controller,\nlet's say we got domain A, all right?\n\n483\n00:25:58.150 --> 00:25:59.360\nWell, the domain controller for\n\n484\n00:25:59.360 --> 00:26:03.880\ndomain A, has a copy of domain A's\nactive directory database, and\n\n485\n00:26:03.880 --> 00:26:08.170\nin there is information about all\nthe users in domain A, and the computers.\n\n486\n00:26:08.170 --> 00:26:12.020\nAnd the printers, they can be published\nin active directory to make it easy for\n\n487\n00:26:12.020 --> 00:26:16.020\npeople to add printers to their computer,\nshares can be published in there,\n\n488\n00:26:16.020 --> 00:26:19.268\na lot of information in that active\ndirectory database that's very useful to\n\n489\n00:26:19.268 --> 00:26:19.950\nmy end user.\n\n490\n00:26:19.950 --> 00:26:21.020\nI mean, maybe not directly.\n\n491\n00:26:21.020 --> 00:26:23.480\nThey don't just go, hey,\nI want to browse active directory.\n\n492\n00:26:23.480 --> 00:26:26.550\nBut when they're adding a printer,\nit searches active directory and\n\n493\n00:26:26.550 --> 00:26:29.660\nit lists all the printers that have\nbeen published in active directory.\n\n494\n00:26:29.660 --> 00:26:32.320\nMakes it really easy for\nmy end user to add printers.\n\n495\n00:26:32.320 --> 00:26:35.620\nBut if I'm domain A, and I talk to\nthe domain controller for domain A,\n\n496\n00:26:35.620 --> 00:26:39.430\nI'm gonna see all the printers for\ndomain A That's great.\n\n497\n00:26:39.430 --> 00:26:41.520\nWhat if I have a multi-domain\nenvironment though.\n\n498\n00:26:41.520 --> 00:26:44.720\nWhat if I got domain A and domain B.\n\n499\n00:26:44.720 --> 00:26:50.150\nWell, domain A is domain controller,\nknows about all the printers in domain A.\n\n500\n00:26:50.150 --> 00:26:53.830\nDomain B is domain controller,\nhe has got domain B's database.\n\n501\n00:26:53.830 --> 00:26:56.250\nHe knows about all\nthe printers in domain B.\n\n502\n00:26:56.250 --> 00:27:00.060\nWhen I search for printers using\ndomain A's domain controller,\n\n503\n00:27:00.060 --> 00:27:02.480\nI'm not gonna see\nthe printers into domain B.\n\n504\n00:27:03.560 --> 00:27:08.240\nWhat the global catalogue is,\nis like an index for the entire force.\n\n505\n00:27:08.240 --> 00:27:10.760\nIt has index information\nabout all the objects\n\n506\n00:27:10.760 --> 00:27:13.410\nthroughout the entire force no\nmatter how many domains are on it.\n\n507\n00:27:13.410 --> 00:27:18.960\nSo, a global catalogue server is a domain\ncontroller that not only knows about\n\n508\n00:27:18.960 --> 00:27:21.280\nhis domain,\nthe domain that exists then, but\n\n509\n00:27:21.280 --> 00:27:23.680\nall the other domains\nthroughout the forest.\n\n510\n00:27:23.680 --> 00:27:27.050\nAnd it facilitates searching for\nobject throughout the forest.\n\n511\n00:27:28.210 --> 00:27:29.170\nSo that's what you're choosing.\n\n512\n00:27:29.170 --> 00:27:31.140\nBasically when you see\nthat little check mark,\n\n513\n00:27:31.140 --> 00:27:35.390\nwhen you do the Active Directory\nConfiguration Wizard, and\n\n514\n00:27:35.390 --> 00:27:38.490\nyou decide whether or not you're gonna\nmake that a global catalog server.\n\n515\n00:27:38.490 --> 00:27:42.210\nYou're saying do you want this\nto get a copy of all those\n\n516\n00:27:42.210 --> 00:27:45.000\nother domains' databases, right?\n\n517\n00:27:45.000 --> 00:27:47.910\nSo that you can facilitate\nsearching throughout the forest.\n\n518\n00:27:47.910 --> 00:27:51.960\nNow, if you saw that I could\nactually create that, or\n\n519\n00:27:51.960 --> 00:27:56.100\nI could decide that during\nthe Active Configuration Wizard, right?\n\n520\n00:27:56.100 --> 00:27:59.960\nI was able to say,\nI wanna make this a global catalog server.\n\n521\n00:27:59.960 --> 00:28:01.770\nOr I could've unchecked it.\n\n522\n00:28:01.770 --> 00:28:07.580\nAnd there are times, the Global Catalog\nis, again, you see the usefulness of it,\n\n523\n00:28:07.580 --> 00:28:10.740\nbut it does mean a lot\nof extra replication.\n\n524\n00:28:10.740 --> 00:28:12.700\nThat domain controller\nout of the branch office,\n\n525\n00:28:12.700 --> 00:28:15.700\nremember I unchecked\nthe Global Catalog option?\n\n526\n00:28:15.700 --> 00:28:19.860\nBecause it's already replicating\none domain's information,\n\n527\n00:28:19.860 --> 00:28:23.541\nif I make it a global catalog,\nnow it's replicating all the domains,\n\n528\n00:28:23.541 --> 00:28:26.540\ndomain information sort of it,\na sub set of it.\n\n529\n00:28:26.540 --> 00:28:27.520\nBut let's just, for now,\n\n530\n00:28:27.520 --> 00:28:30.250\nsay it's replicating all\nthe domains' domain information.\n\n531\n00:28:30.250 --> 00:28:34.320\nIf I've got ten domains in my forest,\nthat's a lot of information.\n\n532\n00:28:34.320 --> 00:28:38.570\nAnd that branch office has a really slow\nWAN link that I'm doing everything I can\n\n533\n00:28:38.570 --> 00:28:41.020\nto reduce the amount of\ntraffic going across it.\n\n534\n00:28:41.020 --> 00:28:43.890\nTo free it up from my end\nusers to do there job.\n\n535\n00:28:43.890 --> 00:28:47.480\nSo maybe I don't want to make\nit a global catalog server.\n\n536\n00:28:47.480 --> 00:28:49.390\nSo I unchecked it during that wizard.\n\n537\n00:28:49.390 --> 00:28:51.500\nYou can also change that after the fact.\n\n538\n00:28:51.500 --> 00:28:53.200\nIf I go to tools.\n\n539\n00:28:53.200 --> 00:28:55.720\nAnd then active directory sites and\n\n540\n00:28:55.720 --> 00:29:00.320\nservices, and\nI do this on a domain controller.\n\n541\n00:29:00.320 --> 00:29:02.430\nIt doesn't matter which domain controller.\n\n542\n00:29:02.430 --> 00:29:07.190\nAnd I come into sites and I expand\nout my site, I expand out my servers,\n\n543\n00:29:07.190 --> 00:29:09.660\nhere's all my domain controllers.\n\n544\n00:29:09.660 --> 00:29:13.660\nAnd if I go to that server out there,\nwhich one's on the branch off of server 4,\n\n545\n00:29:13.660 --> 00:29:16.180\nI can pull up the properties.\n\n546\n00:29:16.180 --> 00:29:18.240\nFor his NTDS settings.\n\n547\n00:29:18.240 --> 00:29:21.440\nAnd remember I didn't check global catalog\nwhen I installed active directory,\n\n548\n00:29:21.440 --> 00:29:23.600\nso you can see it's not checked.\n\n549\n00:29:23.600 --> 00:29:28.750\nIf I look at this guy over here,\nhe is a global catalog server.\n\n550\n00:29:28.750 --> 00:29:31.380\nSo if I don't want him to be\na global catalog server anymore,\n\n551\n00:29:31.380 --> 00:29:33.100\nI can just uncheck that.\n\n552\n00:29:33.100 --> 00:29:37.680\nIf I decide that we just got a nice\nfat pipe out to the branch office, so\n\n553\n00:29:37.680 --> 00:29:39.170\nI'm not worried about\nbandwidth anymore and\n\n554\n00:29:39.170 --> 00:29:41.630\nI wanna make this guy\na global catalog server now.\n\n555\n00:29:41.630 --> 00:29:43.250\nI just come in here and\ncheck that and click OK.\n\n556\n00:29:43.250 --> 00:29:45.820\nAnd he's now a global catalogue server.\n\n557\n00:29:45.820 --> 00:29:46.520\nIt's that easy.\n\n558\n00:29:46.520 --> 00:29:47.070\n>> Very cool.\n\n559\n00:29:47.070 --> 00:29:50.860\nSo it is important to understand\nthe difference between global catalogue\n\n560\n00:29:50.860 --> 00:29:54.920\nservers and why some would be set up\nthat way, and why some would not.\n\n561\n00:29:54.920 --> 00:29:59.110\nSometimes like Mike said, maybe it's just\ngonna saturate too much bandwidth for\n\n562\n00:29:59.110 --> 00:30:00.320\nthat satellite office,\n\n563\n00:30:00.320 --> 00:30:04.480\nor maybe you just are having too\nmuch bandwidth in general, and you\n\n564\n00:30:04.480 --> 00:30:08.790\nneed every one of your domain controllers\nto be setup as a global catalog server.\n\n565\n00:30:08.790 --> 00:30:11.660\nKinda wanna strategically\nplace those guys.\n\n566\n00:30:11.660 --> 00:30:12.920\nSo just be aware of how to do that.\n\n567\n00:30:12.920 --> 00:30:14.010\nIt's pretty simple.\n\n568\n00:30:14.010 --> 00:30:15.480\nJust a check mark on some of them.\n\n569\n00:30:15.480 --> 00:30:17.330\n>> Yeah.\nAnd there's definitely advantages\n\n570\n00:30:17.330 --> 00:30:20.040\nto making all your domain\ncontrollers global catalog servers.\n\n571\n00:30:20.040 --> 00:30:24.950\nIt is actually something that we'll\nrecommend but if you've got bandwidth\n\n572\n00:30:24.950 --> 00:30:29.050\nissues, you wanna think about it,\nespecially in a heavy, where you've got\n\n573\n00:30:29.050 --> 00:30:32.230\nmultiple domains because it will\ngenerate a lot of replication traffic.\n\n574\n00:30:32.230 --> 00:30:34.850\nAnother thing that a lot\nof people don't realize you\n\n575\n00:30:34.850 --> 00:30:37.910\nhave to be able to talk to\nglobal catalog server to log on.\n\n576\n00:30:37.910 --> 00:30:41.040\nMost people think as long as I can\ntalk to any domain controller,\n\n577\n00:30:41.040 --> 00:30:43.360\nI should be able to verify my password.\n\n578\n00:30:43.360 --> 00:30:47.240\nAnd I should be able to authenticate,\nwell the global catalog server\n\n579\n00:30:47.240 --> 00:30:50.580\nactually is where your universal\ngroup membership gets stored.\n\n580\n00:30:50.580 --> 00:30:53.700\nAnd when you log on,\nit builds your access token, and\n\n581\n00:30:53.700 --> 00:30:56.020\nit has to include all\nyour group membership.\n\n582\n00:30:56.020 --> 00:30:58.210\nIncluding your universal group membership.\n\n583\n00:30:58.210 --> 00:31:01.180\nSo if the domain controller\nyou're connecting to authenticate\n\n584\n00:31:01.180 --> 00:31:05.070\nis not a global catalogue server,\nit has to go talk to one that is\n\n585\n00:31:05.070 --> 00:31:07.810\nto retrieve your universal\ngroup membership caching.\n\n586\n00:31:07.810 --> 00:31:10.660\nAll right, I'm sorry,\nyour universal group membership, and\n\n587\n00:31:10.660 --> 00:31:15.150\nif it can't talk to a global catalog\nserver, it will deny your authentication.\n\n588\n00:31:15.150 --> 00:31:18.690\nSo it is a very important part of\nour network, that global catalog.\n\n589\n00:31:18.690 --> 00:31:23.485\n>> I think the fact that it is\nchecked by default in the AD.\n\n590\n00:31:23.485 --> 00:31:28.265\nThe installation speaks volumes of\nhow important Microsoft, actually\n\n591\n00:31:28.265 --> 00:31:32.765\nbelieves it is for not just them, but\nfor you as setting up an AD environment.\n\n592\n00:31:32.765 --> 00:31:35.195\nSo, food for thought.\n\n593\n00:31:35.195 --> 00:31:37.362\nWell, Mike we've done the Round Robin.\n\n594\n00:31:37.362 --> 00:31:38.582\n>> We really haven't.\n\n595\n00:31:38.582 --> 00:31:39.952\nI know we're running\nout of time down here,\n\n596\n00:31:39.952 --> 00:31:43.232\nthere's one more thing I want to mention,\nit's removing Active Directory.\n\n597\n00:31:43.232 --> 00:31:44.687\n>> Now,\nwhy would you ever want to do that?\n\n598\n00:31:44.687 --> 00:31:45.772\n[LAUGH].\n>> Yeah, I know, why would you\n\n599\n00:31:45.772 --> 00:31:46.832\nwant to do that?\n\n600\n00:31:46.832 --> 00:31:48.212\nI'm not gonna show you here,\nit's basically,\n\n601\n00:31:48.212 --> 00:31:50.322\ngoing through the removal wizard.\n\n602\n00:31:50.322 --> 00:31:53.002\nWe can run that Active Directory\nconfiguration wizard again,\n\n603\n00:31:53.002 --> 00:31:54.312\nwe can remove the role.\n\n604\n00:31:54.312 --> 00:31:57.350\nWhat I do want to stress to you though,\nis you do that.\n\n605\n00:31:57.350 --> 00:32:00.170\nOne of the things you do\nnot wanna do on a network,\n\n606\n00:32:00.170 --> 00:32:04.120\nis just take your domain controller and\nblow it away, right?\n\n607\n00:32:04.120 --> 00:32:05.700\nBecause here's the problem.\n\n608\n00:32:05.700 --> 00:32:08.200\nDomain controllers\nreplicate with each other.\n\n609\n00:32:08.200 --> 00:32:11.550\nThey know about all the other\ndomain controllers that exist, and\n\n610\n00:32:11.550 --> 00:32:14.720\nthey set up a nice replication\ntopology automatically.\n\n611\n00:32:14.720 --> 00:32:16.400\nIn the background.\n\n612\n00:32:16.400 --> 00:32:19.460\nIf you just blow away one of\nyour domain controllers one day,\n\n613\n00:32:19.460 --> 00:32:22.490\nthe other domain controllers are left\nwondering what happened to it.\n\n614\n00:32:22.490 --> 00:32:25.750\nAnd they're like, why haven't I been\nable to replicate with this guy?\n\n615\n00:32:25.750 --> 00:32:28.890\nAnd it makes a mess of your\nActive Directory information.\n\n616\n00:32:28.890 --> 00:32:31.410\nI don't know if you've ever\nhad to use NTDSUTIL to\n\n617\n00:32:31.410 --> 00:32:35.960\nclean up the metadata that gets left\nbehind from missing domain controller.\n\n618\n00:32:35.960 --> 00:32:37.050\nIt's a nightmare.\n\n619\n00:32:37.050 --> 00:32:38.080\n>> It ain't pretty [LAUGH].\n\n620\n00:32:38.080 --> 00:32:40.540\n>> If you're ever gonna\nremove a domain controller,\n\n621\n00:32:40.540 --> 00:32:43.508\nmake sure you remove\nactive directory properly.\n\n622\n00:32:43.508 --> 00:32:46.950\nBecause, during that remove active\ndirectory, it reaches out and\n\n623\n00:32:46.950 --> 00:32:48.690\ntells all the other domain controllers,\nhey,\n\n624\n00:32:48.690 --> 00:32:52.600\nI'm not a domain controller,\ndon't worry about replicating with me.\n\n625\n00:32:52.600 --> 00:32:53.850\nHook up with another partner.\n\n626\n00:32:53.850 --> 00:32:55.660\nI'm gonna be no good for you anymore.\n\n627\n00:32:55.660 --> 00:32:57.190\nIt just lets everybody know, right.\n\n628\n00:32:57.190 --> 00:32:58.290\nThat's the way to do it.\n\n629\n00:32:58.290 --> 00:32:59.640\nDon't just yank it out of your network.\n\n630\n00:32:59.640 --> 00:33:01.115\n>> Nice analogy Michael, nice analogy.\n\n631\n00:33:01.115 --> 00:33:01.732\n>> [LAUGH].\n\n632\n00:33:01.732 --> 00:33:05.965\n>> All right, looks like we've come to\nthe end of yet another episode here.\n\n633\n00:33:05.965 --> 00:33:08.555\nHopefully you guys have learned\na lot more, there's definitely some\n\n634\n00:33:08.555 --> 00:33:11.795\ninteresting features with Active Directory\nthat are involved in it anyway.\n\n635\n00:33:11.795 --> 00:33:14.715\nHopefully, you guys have learned\na lot more on this episode, and\n\n636\n00:33:14.715 --> 00:33:16.525\nas well as the previous episode.\n\n637\n00:33:16.525 --> 00:33:20.575\nThat being said, it is time to sign\noff ITProTV, I've been your host,\n\n638\n00:33:20.575 --> 00:33:21.285\nDaniel Lowery.\n\n639\n00:33:21.285 --> 00:33:22.137\n>> And, I'm Mike Roderick.\n\n640\n00:33:22.137 --> 00:33:23.230\n>> And, we'll see you next time.\n\n641\n00:33:23.230 --> 00:33:29.990\n[SOUND].\n\n",
          "vimeoId": "133747469"
        },
        {
          "description": "In this episode Daniel and Mike discuss creating Active Directory Users.",
          "length": "1527",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-14-1-creating_ad_users-071715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-14-1-creating_ad_users-071715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-14-1-creating_ad_users-071715-1-sm.jpg",
          "title": "Creating AD Users",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.363 --> 00:00:15.440\n>> Greetings, everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.440 --> 00:00:18.742\nI'm your host Daniel Lowrie and\nhere with me today is Mike Roderick.\n\n4\n00:00:18.742 --> 00:00:19.640\nHow's it going today, Mike?\n\n5\n00:00:19.640 --> 00:00:20.613\n>> Fantastic, Daniel.\n\n6\n00:00:20.613 --> 00:00:21.600\nI'm glad to be here.\n\n7\n00:00:21.600 --> 00:00:26.504\nWe got another exciting episode, as you\nsaid, we're gonna talk about users today\n\n8\n00:00:26.504 --> 00:00:29.389\nor creating user accounts\nin Active Directory.\n\n9\n00:00:29.389 --> 00:00:34.060\nThis is something that, it really,\nDaniel, another one of our major jobs.\n\n10\n00:00:34.060 --> 00:00:36.502\nI know we said that when we were\ntalking about NTFS permissions,\n\n11\n00:00:36.502 --> 00:00:37.598\nsame thing holds true here.\n\n12\n00:00:37.598 --> 00:00:38.300\nRight?\nYeah,\n\n13\n00:00:38.300 --> 00:00:41.842\nbecause they kind of go hand in hand,\nif I'm sending NTFS permissions,\n\n14\n00:00:41.842 --> 00:00:44.065\nI'm obviously sending them for something.\n\n15\n00:00:44.065 --> 00:00:48.865\nI have to have an account of some sort\nto say, it has permissions to it, so\n\n16\n00:00:48.865 --> 00:00:51.410\nthat inlays our major part of our job.\n\n17\n00:00:51.410 --> 00:00:54.900\nSending permissions for the users that we\nhave to create or the groups as well and\n\n18\n00:00:54.900 --> 00:00:56.630\nthat'll probably be in another show.\n\n19\n00:00:56.630 --> 00:00:59.794\nThis one, we're specifically\ngonna talk about user creation.\n\n20\n00:00:59.794 --> 00:01:03.701\nAnd when Mike says, it's a bulk part\nof our job, it was probably about-\n\n21\n00:01:03.701 --> 00:01:04.487\n>> [LAUGH]\n\n22\n00:01:04.487 --> 00:01:06.338\n>> At least 50% of part of my job\n\n23\n00:01:06.338 --> 00:01:09.410\nwhen I worked in a corporate environment.\n\n24\n00:01:09.410 --> 00:01:13.356\nAlways hiring new users, always either\npeople quit or they get fired or\n\n25\n00:01:13.356 --> 00:01:14.816\nwhatever the case may be.\n\n26\n00:01:14.816 --> 00:01:18.211\nSo you're always working with a user\naccount of some sort to get them to\n\n27\n00:01:18.211 --> 00:01:19.950\nbe able to do things they need to do.\n\n28\n00:01:19.950 --> 00:01:21.805\nThey're new,\nthey need to be able to login.\n\n29\n00:01:21.805 --> 00:01:25.087\nGain access to resources or they're\nold users we gotta get rid of them,\n\n30\n00:01:25.087 --> 00:01:28.479\nwe have to handle those old user accounts\nto make sure they stick around for\n\n31\n00:01:28.479 --> 00:01:30.740\na little while you can't\njust go deleting them.\n\n32\n00:01:30.740 --> 00:01:32.278\nWell, you can, but\nit's probably not a good idea.\n\n33\n00:01:32.278 --> 00:01:33.244\n[LAUGH]\n>> [LAUGH] It could end up causing you\n\n34\n00:01:33.244 --> 00:01:34.286\n[CROSSTALK] some problems down the road.\n\n35\n00:01:34.286 --> 00:01:37.110\n>> Yeah, just a little bit.\n\n36\n00:01:37.110 --> 00:01:38.518\n>> So let's start a discussion,\n\n37\n00:01:38.518 --> 00:01:41.068\nwe're just discussing what\nthe heck a user account is.\n\n38\n00:01:41.068 --> 00:01:43.840\nI think you guys probably\ncan figure that out,\n\n39\n00:01:43.840 --> 00:01:48.640\nbut we need to understand why do we\nhave user accounts in the first place?\n\n40\n00:01:48.640 --> 00:01:52.836\nBecause we could, in fact, how many of\nyou out there raise your hands, no, just\n\n41\n00:01:52.836 --> 00:01:57.121\nkidding, have a computer sitting at the\nhouse and it stays logged in all the time?\n\n42\n00:01:57.121 --> 00:02:01.163\nYou bought this computer, you set it up in\nyour study or in your office or part of\n\n43\n00:02:01.163 --> 00:02:05.430\nthe living room or something and everybody\nin the family uses that computer.\n\n44\n00:02:05.430 --> 00:02:09.389\nLike anybody can just sit down and surf\nthe internet or play a game or whatever.\n\n45\n00:02:09.389 --> 00:02:12.380\nNobody ever logs out,\nthere's one account on there.\n\n46\n00:02:12.380 --> 00:02:16.820\nAnd I would venture to guess that\na good majority of you have that,\n\n47\n00:02:16.820 --> 00:02:20.792\nI see it all the time and\nthere's nothing wrong with that.\n\n48\n00:02:20.792 --> 00:02:24.616\nBut in a corporate environment,\nthat's not gonna fly and\n\n49\n00:02:24.616 --> 00:02:27.765\nthe reason is we have no accountability.\n\n50\n00:02:27.765 --> 00:02:30.987\nIf everybody's using the same\nuser account, how do I say,\n\n51\n00:02:30.987 --> 00:02:34.802\nDaniel can get access to file, but\nMike cannot get access to the file?\n\n52\n00:02:34.802 --> 00:02:37.477\nIf we're all using the same account,\nI can't do that.\n\n53\n00:02:37.477 --> 00:02:39.618\nHow do I figure out who created that file?\n\n54\n00:02:39.618 --> 00:02:41.917\nWho deleted that folder?\n\n55\n00:02:41.917 --> 00:02:43.886\nWho logged in at 1 o'clock in the morning?\n\n56\n00:02:43.886 --> 00:02:47.897\nWell, if there's only one account, there's\nno way to tell or verify who it is.\n\n57\n00:02:47.897 --> 00:02:52.494\nSo that user account Out gives us\nthe ability to control the level of\n\n58\n00:02:52.494 --> 00:02:57.503\naccess that a person has as well as\nprovide us a level of accountability,\n\n59\n00:02:57.503 --> 00:03:01.549\nso we can track what that person\nis doing on those systems.\n\n60\n00:03:01.549 --> 00:03:04.050\nSo user accounts are very important.\n\n61\n00:03:04.050 --> 00:03:07.478\n>> I always like to call them the virtual\nrepresentations of the actual people we\n\n62\n00:03:07.478 --> 00:03:08.119\nwanna punch.\n\n63\n00:03:08.119 --> 00:03:10.670\n[LAUGH]\n>> [LAUGH] If you work help\n\n64\n00:03:10.670 --> 00:03:13.492\ndesk support long enough-\n>> You'll get that\n\n65\n00:03:13.492 --> 00:03:16.110\njoke [LAUGH]\n>> You'll know exactly what Daniel means\n\n66\n00:03:16.110 --> 00:03:17.030\nby that, yes.\n\n67\n00:03:17.030 --> 00:03:18.838\n[LAUGH] So when we go and\ncreate these user accounts,\n\n68\n00:03:18.838 --> 00:03:20.994\nwe've got a couple of different\naccounts we can talk about.\n\n69\n00:03:20.994 --> 00:03:22.860\nWe've got local accounts.\n\n70\n00:03:22.860 --> 00:03:25.873\nLocal accounts reside\non that local machine.\n\n71\n00:03:25.873 --> 00:03:30.189\nEvery machine has a local SAM filer,\nSecurity Account Manager and\n\n72\n00:03:30.189 --> 00:03:32.963\nI can go open up\nthe computer management and\n\n73\n00:03:32.963 --> 00:03:37.580\nI can create a local user and\nI can use it to log on to that machine.\n\n74\n00:03:37.580 --> 00:03:41.679\nBut the problem with that is or it's not\nreally a problem, but one of the things\n\n75\n00:03:41.679 --> 00:03:45.549\nwe've got to keep in mind is that\naccount only has access to that machine.\n\n76\n00:03:45.549 --> 00:03:48.769\nEach machine has its own\nsecurity account manager file or\n\n77\n00:03:48.769 --> 00:03:51.810\nSAM file and\nthey don't trust anybody else's.\n\n78\n00:03:51.810 --> 00:03:57.389\nSo if I make a local account on Daniel's\ncomputer, he can log on to his computer,\n\n79\n00:03:57.389 --> 00:04:01.584\nbut he wouldn't be able to\naccess resources on my computer.\n\n80\n00:04:01.584 --> 00:04:05.536\nI would have to have created a local\naccount here on my computer for Daniel and\n\n81\n00:04:05.536 --> 00:04:08.996\nthen he could connect to my computer\nremotely using that account,\n\n82\n00:04:08.996 --> 00:04:10.680\nthey're not the same account.\n\n83\n00:04:10.680 --> 00:04:13.662\nThat's another thing you've got to keep\nin mind even if I make them look exactly\n\n84\n00:04:13.662 --> 00:04:14.649\nthe same, you know what?\n\n85\n00:04:14.649 --> 00:04:17.020\nEach computer,\nI make an account for Daniel.\n\n86\n00:04:17.020 --> 00:04:20.250\nSame user name,\nsame password even, everything.\n\n87\n00:04:20.250 --> 00:04:23.680\nIt'll seem like they're the same account.\n\n88\n00:04:23.680 --> 00:04:26.516\nBut when Daniel changes his\npassword on his laptop,\n\n89\n00:04:26.516 --> 00:04:29.873\nit won't change the account I created for\nhim on my computer.\n\n90\n00:04:29.873 --> 00:04:31.970\nThey're separate accounts.\n\n91\n00:04:31.970 --> 00:04:36.788\nSo here's where we start run into the\nissue of managing all of these accounts,\n\n92\n00:04:36.788 --> 00:04:41.533\nbecause if you have an office of ten\npeople and they've each got a computer and\n\n93\n00:04:41.533 --> 00:04:45.275\nthey all need to share resources\non each other's computer.\n\n94\n00:04:45.275 --> 00:04:49.525\nThat means on my computer, I need to\nmake my account and an account for\n\n95\n00:04:49.525 --> 00:04:50.785\nnine other people.\n\n96\n00:04:50.785 --> 00:04:54.134\nThat's ten accounts on my computer and\neach person has to do that.\n\n97\n00:04:54.134 --> 00:04:57.104\nSo for an office with 10 people and\n10 computers,\n\n98\n00:04:57.104 --> 00:05:01.670\nnow I'm dealing with 100 user accounts\nall together and that's a nightmare.\n\n99\n00:05:01.670 --> 00:05:02.340\nThat's ridiculous.\n\n100\n00:05:02.340 --> 00:05:05.040\nIt just doesn't scale well.\n\n101\n00:05:05.040 --> 00:05:06.379\nIn come Active Directory.\n\n102\n00:05:06.379 --> 00:05:09.320\nWith Active Directory,\nwe centralize all that.\n\n103\n00:05:09.320 --> 00:05:12.653\nIn Active Directory,\nI can create a user account for you and\n\n104\n00:05:12.653 --> 00:05:15.468\nit's stored up there on\nthe domain controllers.\n\n105\n00:05:15.468 --> 00:05:19.374\nAnd when you go to login instead of your\ncomputer connecting to the local SAM file\n\n106\n00:05:19.374 --> 00:05:22.420\nto verify your password,\nit reaches out across the network.\n\n107\n00:05:22.420 --> 00:05:25.767\nIt connects to Active Directory and\nit verifies your account there and\n\n108\n00:05:25.767 --> 00:05:26.569\nyour password.\n\n109\n00:05:26.569 --> 00:05:30.007\nSo we've centralized that authentication,\nthat security process and\n\n110\n00:05:30.007 --> 00:05:32.780\nwe've centralized the storage\nof those accounts.\n\n111\n00:05:32.780 --> 00:05:36.661\nAnd now I make one account for Daniel and\nhe can access domain resources,\n\n112\n00:05:36.661 --> 00:05:39.841\nanywhere that we give him\npermission within that domain and\n\n113\n00:05:39.841 --> 00:05:42.462\nit makes management a whole lot easier,\nright?\n\n114\n00:05:42.462 --> 00:05:43.140\n>> Oh, yeah.\n\n115\n00:05:43.140 --> 00:05:47.109\nA whole lot easier to say, I've got\na centralized area to maintain and\n\n116\n00:05:47.109 --> 00:05:49.865\nyou've gotta remember,\nI don't have to go to or\n\n117\n00:05:49.865 --> 00:05:52.373\nany computer do I go to\nas an administrator.\n\n118\n00:05:52.373 --> 00:05:56.850\nI can gain access to that server and\nmanage the accounts from there.\n\n119\n00:05:56.850 --> 00:05:59.870\nI'm not locked into just one, I don't\nhave to go into the server environment.\n\n120\n00:05:59.870 --> 00:06:03.412\nI have a portal through the Active\nDirectory users and computers snap in\n\n121\n00:06:03.412 --> 00:06:07.560\nthat's built-in to AD to be able to,\nwherever I'm at, as long as I've got.\n\n122\n00:06:07.560 --> 00:06:10.650\nI'm logged in as me with my credentials\nand I have access to that snap in,\n\n123\n00:06:10.650 --> 00:06:13.200\nI should be able to manage\nthe server from wherever I'm at.\n\n124\n00:06:13.200 --> 00:06:17.707\nOr you can use remote login things\nto that nature, but the repository,\n\n125\n00:06:17.707 --> 00:06:22.516\nthe actual database of users is in one\nspot or it's in the Active Directory,\n\n126\n00:06:22.516 --> 00:06:25.270\nwhich centralizes it should I say.\n\n127\n00:06:25.270 --> 00:06:27.288\nAnd that gives me the ability to say,\nno problem.\n\n128\n00:06:27.288 --> 00:06:29.650\nI need to make some changes\non this user account.\n\n129\n00:06:29.650 --> 00:06:31.182\nNot a big deal, let me login there.\n\n130\n00:06:31.182 --> 00:06:33.930\nThere's the one user\naccount that's named M.\n\n131\n00:06:33.930 --> 00:06:38.418\nRodrick or whatever, D Lowrie and\nI can make the changes necessary and\n\n132\n00:06:38.418 --> 00:06:40.480\nthat effects them system wide.\n\n133\n00:06:40.480 --> 00:06:44.529\nNo matter what computer they sit down at,\nthey get the same credentials.\n\n134\n00:06:44.529 --> 00:06:46.310\nThey have the same access.\n\n135\n00:06:46.310 --> 00:06:49.429\nI'm not trying to manage ten accounts for\none person.\n\n136\n00:06:49.429 --> 00:06:52.004\nAD was the savior of us-\n>> [LAUGH]\n\n137\n00:06:52.004 --> 00:06:53.683\n>> When [LAUGH] this came out and\n\n138\n00:06:53.683 --> 00:06:55.460\nit has done us very well.\n\n139\n00:06:55.460 --> 00:06:56.580\n>> It really has.\n\n140\n00:06:56.580 --> 00:06:58.000\nSo let's take a look.\n\n141\n00:06:58.000 --> 00:07:01.314\nLet's dive into Active Directory and\nsee how we can go about creating a user\n\n142\n00:07:01.314 --> 00:07:03.853\naccount, cuz there's several\nways we can create them.\n\n143\n00:07:03.853 --> 00:07:06.245\nThere's different ways\nwe can manage them and\n\n144\n00:07:06.245 --> 00:07:09.380\nwe can even start to automate\nsome of these processes.\n\n145\n00:07:09.380 --> 00:07:11.052\nSo let's take a look at my computer here.\n\n146\n00:07:11.052 --> 00:07:13.332\nI've got Active Directory Users and\nComputers open and\n\n147\n00:07:13.332 --> 00:07:15.160\nwe're gonna make a user account.\n\n148\n00:07:15.160 --> 00:07:19.370\nSo, I'm gonna right-click and\nchoose New > User.\n\n149\n00:07:19.370 --> 00:07:22.635\nLet's go to launch a little\nNew Object-User dialogue box and\n\n150\n00:07:22.635 --> 00:07:24.907\nall I have to do is fill\nin some properties.\n\n151\n00:07:24.907 --> 00:07:27.340\nFirst name, last name.\n\n152\n00:07:28.800 --> 00:07:33.143\nGive them a user login name and\na pre-Windows 2000 log on name or\n\n153\n00:07:33.143 --> 00:07:35.358\nyour SAM account name down there.\n\n154\n00:07:35.358 --> 00:07:37.193\nIt by default, uses the same.\n\n155\n00:07:37.193 --> 00:07:41.317\nNotice when I typed Mike,\nit used Mike down there as well.\n\n156\n00:07:41.317 --> 00:07:44.710\nI'll click Next and\nthat one's already in use.\n\n157\n00:07:44.710 --> 00:07:48.199\nSo let's change that to,\nlet's just see here.\n\n158\n00:07:48.199 --> 00:07:52.465\nWe'll change that to Michael,\nwe'll do M Rodrick, first initial,\n\n159\n00:07:52.465 --> 00:07:53.853\nlast name type thing.\n\n160\n00:07:53.853 --> 00:08:02.652\nAnd I'll click Next and assign a password,\nAnd we got a couple options here.\n\n161\n00:08:02.652 --> 00:08:04.940\nI've got the one that's\nchecked by default,\n\n162\n00:08:04.940 --> 00:08:07.440\nuser must change password at next logon.\n\n163\n00:08:07.440 --> 00:08:09.480\nAnd usually we're gonna\nleave that checked, right,\n\n164\n00:08:09.480 --> 00:08:12.435\ncuz if I'm creating an account,\nlet's say I've hired somebody,\n\n165\n00:08:12.435 --> 00:08:16.530\nI've got to set up their account so\nthey'll be able to log in and do work.\n\n166\n00:08:16.530 --> 00:08:19.030\nI'm gonna create their\nobject in active directory.\n\n167\n00:08:19.030 --> 00:08:21.230\nI'm gonna set that initial password.\n\n168\n00:08:21.230 --> 00:08:25.450\nOnce they log on, I want them to\nchange it to something only they know.\n\n169\n00:08:25.450 --> 00:08:27.250\nThat's the way most environments are.\n\n170\n00:08:27.250 --> 00:08:31.240\nIf we don't get assigned a password, we\nget to pick our own password as long as it\n\n171\n00:08:31.240 --> 00:08:34.990\nfollows our password requirements,\nwhatever our security policy says.\n\n172\n00:08:34.990 --> 00:08:36.460\nSo I'll set it to something generic.\n\n173\n00:08:36.460 --> 00:08:39.280\nSomething that still has to\nmeet the security requirements.\n\n174\n00:08:39.280 --> 00:08:42.400\nBut I'll set a default password here,\nand then leave this checked.\n\n175\n00:08:42.400 --> 00:08:45.310\nUser must change password at next logon.\n\n176\n00:08:45.310 --> 00:08:48.280\nNow, these other options,\nuser cannot change password.\n\n177\n00:08:48.280 --> 00:08:53.570\nFirst of all, I cannot check that because\nI have user must change password.\n\n178\n00:08:53.570 --> 00:08:55.600\nSo I can't choose user must change,\n\n179\n00:08:55.600 --> 00:08:58.080\nas well as user cannot change password,\nright?\n\n180\n00:08:58.080 --> 00:09:01.950\nBut if I uncheck that I could choose\nuser can not change password.\n\n181\n00:09:01.950 --> 00:09:04.800\nThis isn't used all that\nmuch because like I said,\n\n182\n00:09:04.800 --> 00:09:06.670\nwe usually want them to\npick their own password.\n\n183\n00:09:06.670 --> 00:09:08.760\nBut there are some times when we use this.\n\n184\n00:09:08.760 --> 00:09:11.970\n>> Yeah, with standard users you're\nprobably not going to check this at\n\n185\n00:09:11.970 --> 00:09:14.440\nall but,\nif you're creating a service account\n\n186\n00:09:14.440 --> 00:09:18.790\nsomething like that a user account\nthat's meant to run a service.\n\n187\n00:09:18.790 --> 00:09:20.360\nThen you would probably check this off.\n\n188\n00:09:20.360 --> 00:09:22.820\nMake the password extremely strong.\n\n189\n00:09:22.820 --> 00:09:27.270\nLet's have a nice 25 character,\nup and down, numbers, letters,\n\n190\n00:09:27.270 --> 00:09:30.050\nyou name it it's all in there,\nkinda password thing going on.\n\n191\n00:09:30.050 --> 00:09:33.735\nUse that for the service accounts,\nbut a normal user, probably not.\n\n192\n00:09:33.735 --> 00:09:34.375\n>> No, typically not.\n\n193\n00:09:34.375 --> 00:09:36.575\nUnless you're in an environment\nwhere they assign your password,\n\n194\n00:09:36.575 --> 00:09:40.755\nthey tell you what your password is, and\nthey'll change it when they want to and\n\n195\n00:09:40.755 --> 00:09:42.195\ntell you what your new password is.\n\n196\n00:09:42.195 --> 00:09:43.925\nI've seen another example of\nwhere they have used this.\n\n197\n00:09:43.925 --> 00:09:47.575\nI used to work at a facility\nwhere we had students come in and\n\n198\n00:09:47.575 --> 00:09:49.605\ndo labs on our machines.\n\n199\n00:09:49.605 --> 00:09:54.620\nAnd there was a generic account called\nstudent that everybody logged on with and\n\n200\n00:09:54.620 --> 00:09:56.800\nthe password was just password right?\n\n201\n00:09:56.800 --> 00:10:00.150\nIt was separated from everything else,\nthere was no need for\n\n202\n00:10:00.150 --> 00:10:02.520\nany security on there,\nmade it nice and easy.\n\n203\n00:10:02.520 --> 00:10:05.700\nWell, one day students come in and\nnobody could log in.\n\n204\n00:10:05.700 --> 00:10:08.540\nAnd come to find out\na student had decided,\n\n205\n00:10:08.540 --> 00:10:11.790\nprobably just testing things,\nthey changed their own password right?\n\n206\n00:10:11.790 --> 00:10:14.840\nCtrl+Alt+Delete, click change\npassword on your lock screen.\n\n207\n00:10:14.840 --> 00:10:18.219\nAnd then they changed it, and\nnobody knew what they changed it to.\n\n208\n00:10:18.219 --> 00:10:20.406\nSo none of the students could\nlog in to do their labs.\n\n209\n00:10:20.406 --> 00:10:24.630\nSo after that, we went to the student\naccount, we set it back to password.\n\n210\n00:10:24.630 --> 00:10:26.510\nAnd it said user can not change password.\n\n211\n00:10:26.510 --> 00:10:30.780\nSo for public computers and things like\nthat, as Daniel said, lots of times for\n\n212\n00:10:30.780 --> 00:10:35.920\nservice accounts we might do something\nlike that, but typically not.\n\n213\n00:10:35.920 --> 00:10:38.470\nThe other option down here\npassword never expires.\n\n214\n00:10:38.470 --> 00:10:41.780\nSo another one that's really\nnot a good idea to use.\n\n215\n00:10:41.780 --> 00:10:45.650\nThere's a reason we change passwords\nbecause we don't wanna give the bad guy\n\n216\n00:10:45.650 --> 00:10:47.840\nforever to try to figure\nout what our password is.\n\n217\n00:10:47.840 --> 00:10:51.730\nWe wanna change it every so often so\nthat they have to start all over, right,\n\n218\n00:10:51.730 --> 00:10:53.190\ntrying to figure out our password is.\n\n219\n00:10:53.190 --> 00:10:56.190\nDaniel, another one you might use in\ncertain places but not very often?\n\n220\n00:10:56.190 --> 00:10:57.640\n>> Yeah, same kind of ordeal.\n\n221\n00:10:57.640 --> 00:10:59.740\nMaybe on a service account.\n\n222\n00:10:59.740 --> 00:11:04.510\nThe password strength on those tend\nto be to the point of absurdity.\n\n223\n00:11:04.510 --> 00:11:06.400\nSo the length of time it would take for\n\n224\n00:11:06.400 --> 00:11:10.210\na hacker to crack through that password\nis well beyond their life span.\n\n225\n00:11:10.210 --> 00:11:13.200\nSo you wouldn't have to worry\nabout that at that point.\n\n226\n00:11:13.200 --> 00:11:16.830\nAnd that user account might\neven be deleted at that time.\n\n227\n00:11:16.830 --> 00:11:19.830\nThey don't tend to stick around forever,\nso that's not a big deal.\n\n228\n00:11:19.830 --> 00:11:22.390\nOn a normal user account,\nMike is a 100% correct.\n\n229\n00:11:22.390 --> 00:11:23.900\nYou do not want to do this.\n\n230\n00:11:23.900 --> 00:11:25.670\nWe're gonna have password policy in place,\n\n231\n00:11:25.670 --> 00:11:30.500\nthat kind of thing as well but, just\nsaying, you need to change your password.\n\n232\n00:11:30.500 --> 00:11:34.110\nThat is good security, so we don't\nwant to set this on a standard user.\n\n233\n00:11:34.110 --> 00:11:35.510\n>> Well, we'll uncheck that one there.\n\n234\n00:11:35.510 --> 00:11:38.540\nThat's not a good idea, and\nthen this last one account is disabled.\n\n235\n00:11:38.540 --> 00:11:43.740\nThis is something you'll use a lot\nof times let's say I know, HR's\n\n236\n00:11:43.740 --> 00:11:47.690\ncome to me and said, hey look, next week,\nwe're gonna have ten new people coming in.\n\n237\n00:11:47.690 --> 00:11:50.460\nWell I don't wanna wait until Monday\nmorning and try to create those accounts.\n\n238\n00:11:50.460 --> 00:11:55.380\nSo Thursday, Friday the week before, I go\nahead and create those accounts for them.\n\n239\n00:11:55.380 --> 00:11:58.340\nWell, I put that generic password\nthat I've always used for\n\n240\n00:11:58.340 --> 00:12:01.930\nnew employees, that means all of my other\nemployees that currently work there\n\n241\n00:12:01.930 --> 00:12:04.870\nprobably remember what that\ngeneric password was, right?\n\n242\n00:12:04.870 --> 00:12:09.410\nSo if they say oh, I know they're\nhiring a guy named Bob Smith next week.\n\n243\n00:12:09.410 --> 00:12:10.556\nThey probably already created his account.\n\n244\n00:12:10.556 --> 00:12:15.010\nAnd if it's like anybody else it's gonna\nbe B Smith and here's his password.\n\n245\n00:12:15.010 --> 00:12:18.007\nAnd somebody could log\nin as that account and\n\n246\n00:12:18.007 --> 00:12:23.111\ntry to do something with no\naccountability, right, using that account.\n\n247\n00:12:23.111 --> 00:12:26.364\nAnd so we'll typically say account is\ndisabled, I'll go ahead and create\n\n248\n00:12:26.364 --> 00:12:30.028\nthe account, leave it disabled, then\nMonday morning, if and when they show-up,\n\n249\n00:12:30.028 --> 00:12:32.889\na lot of times people don't even\nshow up for the first day of work.\n\n250\n00:12:32.889 --> 00:12:37.110\nI'll choose to enable the account and\nI'll tell them what their password is, and\n\n251\n00:12:37.110 --> 00:12:39.450\nthey can log in, and\nthen they can change it.\n\n252\n00:12:39.450 --> 00:12:43.330\n>> It's also really good to have\nit disabled with new users because\n\n253\n00:12:43.330 --> 00:12:45.630\nlike Mike said, maybe they don't\nshow up for that first day of work.\n\n254\n00:12:45.630 --> 00:12:47.370\nIt happens from time to time.\n\n255\n00:12:47.370 --> 00:12:51.600\nBut you wanna know when they actually\ndo come in, that they are logging in.\n\n256\n00:12:51.600 --> 00:12:55.530\nThe new user is there,\ncuz sometimes users don't show up ever.\n\n257\n00:12:55.530 --> 00:12:58.300\nAnd no one tells you that\nthey never showed up.\n\n258\n00:12:58.300 --> 00:13:00.460\nSo it's a good thing to have\ndisabled right out of the gate.\n\n259\n00:13:00.460 --> 00:13:03.060\nThat way when they show up,\nthey call the help desk and say,\n\n260\n00:13:03.060 --> 00:13:06.530\nhey I'm trying to log in, and\nI need to have my account enabled.\n\n261\n00:13:06.530 --> 00:13:07.935\nIt says it's disabled.\n\n262\n00:13:07.935 --> 00:13:10.710\nWe know they're there, they're going to\ngo ahead and change their password, and\n\n263\n00:13:10.710 --> 00:13:11.500\neverything's fine.\n\n264\n00:13:11.500 --> 00:13:13.550\nYou can basically close\nthat work ticket out.\n\n265\n00:13:13.550 --> 00:13:17.420\nBut if they don't show up, if they never\nlog in, you've got this sitting around.\n\n266\n00:13:17.420 --> 00:13:20.430\nAt least you'll have a disabled\naccount that can't be used and\n\n267\n00:13:20.430 --> 00:13:23.630\nnot be hacked into while it's sitting\nthere before you realize hey,\n\n268\n00:13:23.630 --> 00:13:25.060\nno one's ever logged into this account.\n\n269\n00:13:25.060 --> 00:13:25.942\nLet me delete that.\n\n270\n00:13:25.942 --> 00:13:26.809\n>> [LAUGH] Yeah, right?\n\n271\n00:13:26.809 --> 00:13:27.479\nAnd it's too late.\n\n272\n00:13:27.479 --> 00:13:28.660\nSomebody's already used it for something.\n\n273\n00:13:28.660 --> 00:13:29.588\nSo.\n\n274\n00:13:29.588 --> 00:13:30.770\nAll right so I'll go ahead and\nfinish this up.\n\n275\n00:13:30.770 --> 00:13:32.804\nI'll set it back.\nI'm gonna uncheck user must\n\n276\n00:13:32.804 --> 00:13:34.870\nchange password simply for the demo.\n\n277\n00:13:34.870 --> 00:13:38.560\nI don't wanna have to go through the\nprocess of picking another password there.\n\n278\n00:13:38.560 --> 00:13:41.500\nAnd I'll click Next and then Finish.\n\n279\n00:13:41.500 --> 00:13:45.553\nAnd I now have a user account that I can\nuse to log in, and let's test it out.\n\n280\n00:13:45.553 --> 00:13:51.469\nIf I flip over to client one, and\nI log off here, if I wake it up,\n\n281\n00:13:51.469 --> 00:13:56.580\nor we'll just do a little switch user,\nwhy not?\n\n282\n00:13:56.580 --> 00:13:58.890\n>> That's why,\nthat's why black text on black background.\n\n283\n00:13:58.890 --> 00:14:00.630\n>> Exactly.\nI'll go ahead and\n\n284\n00:14:00.630 --> 00:14:05.530\nlog in as M Roderick with\nthat super secret password.\n\n285\n00:14:06.630 --> 00:14:10.060\nAssuming I typed that password correctly,\nI should log in,\n\n286\n00:14:10.060 --> 00:14:13.940\nand it's going to start building my\nprofile and all that wonderful stuff.\n\n287\n00:14:13.940 --> 00:14:14.550\nBut there you go.\n\n288\n00:14:14.550 --> 00:14:18.084\nSo I create an account in\nactive directory, I enabled it,\n\n289\n00:14:18.084 --> 00:14:19.525\nset that password, and\n\n290\n00:14:19.525 --> 00:14:24.085\nnow I can use that to log into any machine\nthat I have rights to on the domain.\n\n291\n00:14:24.085 --> 00:14:26.620\nSo, easy enough.\n\n292\n00:14:26.620 --> 00:14:31.190\nAll right, let me get back over\nto our domain controller, and\n\n293\n00:14:31.190 --> 00:14:34.150\nlet's take a look at\nthat user account here.\n\n294\n00:14:34.150 --> 00:14:37.860\nI'm just gonna double click on it, you can\nright click on it, pull up its properties\n\n295\n00:14:37.860 --> 00:14:41.720\nas well, and you'll see there's a whole\nlot of properties with this user account.\n\n296\n00:14:41.720 --> 00:14:46.100\nNow some of them I've already filled\nin because when I created that account.\n\n297\n00:14:46.100 --> 00:14:51.260\nOther stuff is not filled in,\nlike office and description.\n\n298\n00:14:51.260 --> 00:14:53.980\nIt's a good idea to fill\nin this information.\n\n299\n00:14:53.980 --> 00:14:57.930\nDaniel, I don't know about you,\nI know a lot of companies never bother\n\n300\n00:14:57.930 --> 00:15:02.550\nfilling in this information, and\nthere is no reason, you don't have to.\n\n301\n00:15:02.550 --> 00:15:04.950\nBut, if you are looking for\nthings, trying to search for\n\n302\n00:15:04.950 --> 00:15:08.570\nthings, the more of this that's\nfilled out, the easier it is, right?\n\n303\n00:15:08.570 --> 00:15:09.880\n>> Yeah, especially when it comes to,\n\n304\n00:15:09.880 --> 00:15:12.060\nI mean we're working with\nactive directory here.\n\n305\n00:15:12.060 --> 00:15:15.690\nThere's a lot of things that, that work\nwith active directory Microsoft products.\n\n306\n00:15:15.690 --> 00:15:18.590\nThings like Exchange right,\ntheir email server.\n\n307\n00:15:18.590 --> 00:15:22.360\nWhen you fill out some of this stuff,\nthat shows up in the global catalog there,\n\n308\n00:15:22.360 --> 00:15:24.840\nthat, that global address\nbook I should say.\n\n309\n00:15:24.840 --> 00:15:26.080\nIt shows all that information.\n\n310\n00:15:26.080 --> 00:15:28.070\nIf you have it already there,\nyou don't have to go look for it,\n\n311\n00:15:28.070 --> 00:15:29.950\nyou don't have to put it in.\n\n312\n00:15:29.950 --> 00:15:32.070\nIn Exchange, it all just integrates.\n\n313\n00:15:32.070 --> 00:15:34.390\nSo, if you put something here,\nall that's going to show up.\n\n314\n00:15:34.390 --> 00:15:35.595\nYou did it at one spot.\n\n315\n00:15:35.595 --> 00:15:37.610\nYou don't have to go all over the place.\n\n316\n00:15:37.610 --> 00:15:39.116\nYou got that one area in which to do it.\n\n317\n00:15:39.116 --> 00:15:41.510\nJust for showing up, like Mike said,\nif you want to search for people,\n\n318\n00:15:41.510 --> 00:15:43.200\nyou want to find out\ninformation about them.\n\n319\n00:15:43.200 --> 00:15:45.415\nThat's where you'd want to put it so\nthey can do it.\n\n320\n00:15:45.415 --> 00:15:49.090\n>> What if I'm looking for all the users\nthat work in the sales department?\n\n321\n00:15:49.090 --> 00:15:52.256\nWell, if I've never filled out the job\ntitle, it's going to be very difficult for\n\n322\n00:15:52.256 --> 00:15:55.173\nme to search active directory for\nall the people that work in sales, right?\n\n323\n00:15:55.173 --> 00:15:59.948\nOr by department, or by manager,\nor by state or office,\n\n324\n00:15:59.948 --> 00:16:02.340\nor whatever the case may be.\n\n325\n00:16:02.340 --> 00:16:06.750\nSo a lot of properties that we can\nfill on on these user accounts.\n\n326\n00:16:06.750 --> 00:16:09.830\nNow the next thing I want to talk about,\nI'm going to come over here and\n\n327\n00:16:09.830 --> 00:16:14.260\nI'm going to add this user\nto a couple of groups.\n\n328\n00:16:14.260 --> 00:16:17.240\nWe're going to talk a lot about\ngroups in future episodes.\n\n329\n00:16:17.240 --> 00:16:20.706\nSo I'm just going to do\nthis Really quick here,\n\n330\n00:16:20.706 --> 00:16:24.180\nI'm just going to grab\na couple random groups.\n\n331\n00:16:26.140 --> 00:16:28.490\nWe'll click OK and OK.\n\n332\n00:16:28.490 --> 00:16:31.376\nSo now you can see that this\nuser is in several groups,\n\n333\n00:16:31.376 --> 00:16:34.649\nbecause what I want to show you next is Or\nI want to talk about,\n\n334\n00:16:34.649 --> 00:16:38.010\nit's something known as the SID or\nthe security identifier.\n\n335\n00:16:38.010 --> 00:16:42.860\nEvery time you make an object in active\ndirectory, a number gets generated.\n\n336\n00:16:42.860 --> 00:16:46.660\nIt's called the SID or\nthe security Identifier, and\n\n337\n00:16:46.660 --> 00:16:50.655\nit's a unique number that\nidentifies that object.\n\n338\n00:16:50.655 --> 00:16:53.735\nRemember how when we talk about computers\nand networking we say the computers can\n\n339\n00:16:53.735 --> 00:16:56.915\nonly connect IP addresses,\nthey don't really care about names?\n\n340\n00:16:56.915 --> 00:16:59.295\nWell, when it comes to these\nobjects in active directory,\n\n341\n00:16:59.295 --> 00:17:00.005\nit's kind of the same thing.\n\n342\n00:17:00.005 --> 00:17:02.565\nThey don't really care about your\nfirst name or your last name or\n\n343\n00:17:02.565 --> 00:17:05.365\nyour display name or\nyour log on name or anything like that.\n\n344\n00:17:05.365 --> 00:17:09.100\nThey know you by that SID,\nthat number that identifies\n\n345\n00:17:09.100 --> 00:17:14.010\nthat object that is unique and\nit will never ever be re-used.\n\n346\n00:17:14.010 --> 00:17:15.600\nAnd I can show you what mine is.\n\n347\n00:17:15.600 --> 00:17:20.830\nIf I do a whoami command switch\nuser from my command prompt here,\n\n348\n00:17:20.830 --> 00:17:24.000\nthat's who I'm logged on as\nnow as the administrator.\n\n349\n00:17:24.000 --> 00:17:28.360\nAnd I can see that is the SID for\nthat account.\n\n350\n00:17:28.360 --> 00:17:29.230\nAll right.\n\n351\n00:17:29.230 --> 00:17:30.860\nI can pull up the SID for\n\n352\n00:17:30.860 --> 00:17:36.150\nthis account that I just created\nby looking at my attribute editor.\n\n353\n00:17:36.150 --> 00:17:43.990\nI can actually come down here and look\nat my, where is that, if I can find it.\n\n354\n00:17:43.990 --> 00:17:47.540\nPrimary group SID is not\nwhat I'm looking for.\n\n355\n00:17:47.540 --> 00:17:49.040\nThere is a lot of them, there it is.\n\n356\n00:17:49.040 --> 00:17:52.730\nObject SID,\nthat's the SID that's going to identify\n\n357\n00:17:52.730 --> 00:17:55.780\nthis particular object\nthat I just created.\n\n358\n00:17:55.780 --> 00:17:58.890\nThe reason I point that out,\nthe reason I want to talk about that is,\n\n359\n00:17:58.890 --> 00:18:01.370\nagain, that's what\nthe system knows you by.\n\n360\n00:18:01.370 --> 00:18:04.660\nSo you just saw me add this\naccount to several groups, right?\n\n361\n00:18:06.010 --> 00:18:09.870\nWhen you add an object to a group,\nwhen you add a user to a group like that,\n\n362\n00:18:09.870 --> 00:18:13.960\nif I go and look at, I can't remember\nwhat groups I added me to now,\n\n363\n00:18:13.960 --> 00:18:17.710\nlet's go look at one of those,\nwhen I look at this DHCP user's group, and\n\n364\n00:18:17.710 --> 00:18:22.780\nI take a look at that member's tab, there\nI am, I'm listed as Michael Roderick.\n\n365\n00:18:22.780 --> 00:18:25.460\nThat's actually just showing me that name.\n\n366\n00:18:25.460 --> 00:18:29.130\nThe membership of the group\nis actually my SID.\n\n367\n00:18:29.130 --> 00:18:30.960\nThat's what got added to group.\n\n368\n00:18:30.960 --> 00:18:34.772\nAnd when I pull up this pretty GUI, what\nActive Directory is doing is looking at\n\n369\n00:18:34.772 --> 00:18:38.560\nSID up and showing me\nthe friendly name for the object.\n\n370\n00:18:38.560 --> 00:18:42.330\nBut it's really the SID that's\nthe member of the group.\n\n371\n00:18:42.330 --> 00:18:45.440\nAnd here's why that's important.\n\n372\n00:18:45.440 --> 00:18:48.120\nWhat happens if I delete this account?\n\n373\n00:18:50.720 --> 00:18:52.570\nOops, it's gone right?\n\n374\n00:18:52.570 --> 00:18:56.000\nOh no, well I'll go ahead and\nrecreate that real quick so\n\n375\n00:18:56.000 --> 00:18:58.520\nthat nobody will know\nthat I ever deleted it.\n\n376\n00:18:59.860 --> 00:19:01.120\nCan't spell my own name there.\n\n377\n00:19:02.120 --> 00:19:03.090\n>> It's very difficult spelling.\n\n378\n00:19:03.090 --> 00:19:04.690\n>> It is a tricky name.\n\n379\n00:19:04.690 --> 00:19:07.550\nIt's not a very common name.\n\n380\n00:19:07.550 --> 00:19:09.510\nAll right and I'll set my password again.\n\n381\n00:19:09.510 --> 00:19:15.090\nAll right and there's the account.\n\n382\n00:19:15.090 --> 00:19:16.650\nNobody noticed that I deleted it.\n\n383\n00:19:16.650 --> 00:19:17.580\nThank God, right?\n\n384\n00:19:17.580 --> 00:19:18.593\nI'm not going to get fired.\n\n385\n00:19:18.593 --> 00:19:20.770\nWell, lets take a look at\nthe properties of this guy.\n\n386\n00:19:20.770 --> 00:19:22.870\n>> Michael,\nwe need to see you in the office please.\n\n387\n00:19:22.870 --> 00:19:23.375\n>> Yeah, right.\n\n388\n00:19:23.375 --> 00:19:25.030\n>> [LAUGH]\n>> It's exactly what's going to happen.\n\n389\n00:19:25.030 --> 00:19:30.770\nLook, because Michael is no longer in any\nof those groups that he use to be in.\n\n390\n00:19:30.770 --> 00:19:34.890\nBecause when you delete an object,\nyou lose the SID that was associated.\n\n391\n00:19:34.890 --> 00:19:37.870\nRemember, I said SIDS\nare never ever reused.\n\n392\n00:19:37.870 --> 00:19:40.320\nI should have made a note\nof what that SID was.\n\n393\n00:19:40.320 --> 00:19:45.230\nI wanna say that 2000 and\nsomething, but it ended in there.\n\n394\n00:19:45.230 --> 00:19:49.530\nBut this is not the same SID anymore, even\nthough I recreated the user account, with\n\n395\n00:19:49.530 --> 00:19:53.570\nthe exact same username, the exact same\ndisplay name, and all that good stuff,\n\n396\n00:19:53.570 --> 00:19:58.870\nwhen I created that new object, a new SID\nwas generated, and it was assigned to that\n\n397\n00:19:58.870 --> 00:20:04.110\nobject, so it might look the same to me,\nthe account is not the same to the system.\n\n398\n00:20:04.110 --> 00:20:05.690\nSo when you delete an object,\n\n399\n00:20:05.690 --> 00:20:09.730\nyou lose all the group membership\nthat was associated with that.\n\n400\n00:20:09.730 --> 00:20:13.660\nPermissions that were assigned\nto that user are gone.\n\n401\n00:20:13.660 --> 00:20:14.590\nYou lose all of that.\n\n402\n00:20:14.590 --> 00:20:15.976\nSo you want to be really,\n\n403\n00:20:15.976 --> 00:20:20.060\nreally careful about deleting\nthings out of Active Directory.\n\n404\n00:20:20.060 --> 00:20:25.990\nLet's say a user leaves, I might disable\ntheir account for a certain period.\n\n405\n00:20:25.990 --> 00:20:29.740\nA lot of companies have a period where,\nlet's say six months,\n\n406\n00:20:29.740 --> 00:20:33.510\nwhere they'll disable the account, and\nmove it to a disabled accounts section\n\n407\n00:20:33.510 --> 00:20:36.420\nof active directory, they'll just kind of\nset it aside, but the don't delete it.\n\n408\n00:20:36.420 --> 00:20:40.580\nAnd, that's because, what if that account\nhad access to some resource that nobody\n\n409\n00:20:40.580 --> 00:20:42.680\nelse had access to, and\nthey need to get into it?\n\n410\n00:20:42.680 --> 00:20:43.180\nYou know?\n\n411\n00:20:43.180 --> 00:20:47.140\nThere's just several things or\nyou can even reuse accounts.\n\n412\n00:20:47.140 --> 00:20:49.540\nLet's say I've got a sales\nmanager's account.\n\n413\n00:20:49.540 --> 00:20:51.770\nRight?\nAnd that sales manager's been with me for\n\n414\n00:20:51.770 --> 00:20:52.830\nten years and\n\n415\n00:20:52.830 --> 00:20:57.890\nhe has access to all the things that\na sales manager needs access to.\n\n416\n00:20:57.890 --> 00:20:59.060\nHe's in all the right groups,\n\n417\n00:20:59.060 --> 00:21:02.690\nhe's been added to all the right\naccess control lists and everything.\n\n418\n00:21:02.690 --> 00:21:04.400\nAnd then that sales manager leaves.\n\n419\n00:21:04.400 --> 00:21:06.960\nWell I'm going to hire\na new sales manager.\n\n420\n00:21:06.960 --> 00:21:07.570\nRight?\nAnd\n\n421\n00:21:07.570 --> 00:21:10.660\nthat new sales manager's going to need\naccess to all the same things the old\n\n422\n00:21:10.660 --> 00:21:12.020\nsales manager did.\n\n423\n00:21:12.020 --> 00:21:13.740\nI could just rename that account, right?\n\n424\n00:21:13.740 --> 00:21:17.750\nIf you rename the account that\ndoesn't change the access it has.\n\n425\n00:21:17.750 --> 00:21:21.180\nBecause remember, it's all about the SID.\n\n426\n00:21:21.180 --> 00:21:25.480\nI can come in here and\nchange this to whatever.\n\n427\n00:21:25.480 --> 00:21:26.840\nI'll put my middle name there.\n\n428\n00:21:26.840 --> 00:21:30.158\nI'll change my display\nname in there in there.\n\n429\n00:21:31.500 --> 00:21:32.030\nRight.\n\n430\n00:21:32.030 --> 00:21:34.683\nI can change my account logon.\n\n431\n00:21:38.444 --> 00:21:39.250\nAll right.\n\n432\n00:21:39.250 --> 00:21:43.231\nNone of that changed the group membership\nthat I would have belonged to.\n\n433\n00:21:46.530 --> 00:21:47.470\nAll right.\n\n434\n00:21:47.470 --> 00:21:50.490\nAnd it lets me change all those\nother places and there you go.\n\n435\n00:21:50.490 --> 00:21:52.940\nThis SID is still exactly the same.\n\n436\n00:21:52.940 --> 00:21:55.940\nSo changing those properties\ndoesn't modify the group again,\n\n437\n00:21:55.940 --> 00:21:57.020\nthat's really what I want to stress.\n\n438\n00:21:57.020 --> 00:22:00.070\nThe object is known by the SID,\n\n439\n00:22:00.070 --> 00:22:04.040\nnot the information that we're\nfilling in on that screen.\n\n440\n00:22:05.410 --> 00:22:08.080\nAll right, so we talked about\nwhy we've got a user account.\n\n441\n00:22:08.080 --> 00:22:10.490\nWe talked about the SID\nthat's associated with it.\n\n442\n00:22:11.760 --> 00:22:14.380\nDeleting an account, as you saw,\nis pretty straightforward.\n\n443\n00:22:14.380 --> 00:22:17.160\nI can just right-click on it and\nchoose delete.\n\n444\n00:22:17.160 --> 00:22:21.010\nBut again, want to try to avoid that for\nthe most part.\n\n445\n00:22:21.010 --> 00:22:23.260\nWe don't want to just\ndelete them right away.\n\n446\n00:22:23.260 --> 00:22:24.810\nYou can also disable accounts.\n\n447\n00:22:24.810 --> 00:22:28.660\nRight-click and disable, and\nthat will disable that account.\n\n448\n00:22:28.660 --> 00:22:31.140\nYou'll see that you can\nbarely make it out on there.\n\n449\n00:22:31.140 --> 00:22:34.100\nThere's a little black\ndownward pointing arrow now\n\n450\n00:22:34.100 --> 00:22:37.760\non that icon indicating that\nthat account has been disabled.\n\n451\n00:22:37.760 --> 00:22:39.710\nI can't use it to log on anymore.\n\n452\n00:22:39.710 --> 00:22:42.620\nRight.\nWe do that when somebody is on a vacation\n\n453\n00:22:42.620 --> 00:22:46.040\nmaybe or some kind of sabbatical or\n\n454\n00:22:46.040 --> 00:22:49.210\nsomething like that, when they leave for\na certain period of time.\n\n455\n00:22:49.210 --> 00:22:53.720\nAnd I don't want anybody using that\naccount while they are gone, so\n\n456\n00:22:53.720 --> 00:22:55.070\nI can disable the account.\n\n457\n00:22:55.070 --> 00:22:58.590\nTemporarily prevent that account\nfrom being used to log in.\n\n458\n00:22:58.590 --> 00:23:01.900\n>> One of my favorite events was to\nget the call on my phone, and it's HR.\n\n459\n00:23:01.900 --> 00:23:05.528\nAnd they say we need you to disable so\nand so's account now.\n\n460\n00:23:05.528 --> 00:23:09.370\n>> [LAUGH]\n>> That happens probably a lot more than\n\n461\n00:23:09.370 --> 00:23:12.410\nyou think, and that's exactly\nwhat that kind of thing is for.\n\n462\n00:23:12.410 --> 00:23:16.419\nProbably the primary usage of\ndisabling account is saying\n\n463\n00:23:16.419 --> 00:23:20.032\nI need you to not be able to\nhave access to our system.\n\n464\n00:23:20.032 --> 00:23:24.320\nWe don't want to delete you quite yet,\nbut I surely don't want you logging in.\n\n465\n00:23:24.320 --> 00:23:26.040\nRight click disable and\n\n466\n00:23:26.040 --> 00:23:29.600\nthen they're probably going to be\ngetting a visit from hr after that.\n\n467\n00:23:29.600 --> 00:23:32.416\n[LAUGH]\n>> Most companies your termination process\n\n468\n00:23:32.416 --> 00:23:33.888\nshould really include that.\n\n469\n00:23:33.888 --> 00:23:38.718\nIf you're going to let somebody go,\nthe procedure typically is let's call them\n\n470\n00:23:38.718 --> 00:23:42.920\ninto the office, and have that\nunfortunate conversation with them.\n\n471\n00:23:42.920 --> 00:23:45.240\nWell, while you're having\nthat conversation,\n\n472\n00:23:45.240 --> 00:23:47.440\nIT is disabling their account.\n\n473\n00:23:47.440 --> 00:23:50.600\nBecause they don't want that person\nwalking back to their office\n\n474\n00:23:50.600 --> 00:23:53.120\nall upset now because they got terminated.\n\n475\n00:23:53.120 --> 00:23:55.590\nLogging onto the system and\ndoing who knows what, right.\n\n476\n00:23:55.590 --> 00:23:58.320\nStarting deleting files on file servers or\nencrypting files and\n\n477\n00:23:58.320 --> 00:23:59.740\ndeleting their profile.\n\n478\n00:23:59.740 --> 00:24:01.650\nSo they lose their key and all of that.\n\n479\n00:24:01.650 --> 00:24:04.840\nSo yeah, that's typically one\nof the first things you do\n\n480\n00:24:04.840 --> 00:24:08.620\nwhile you know the person is not at\na terminal, you disable their account.\n\n481\n00:24:08.620 --> 00:24:12.090\nAnd then you walk them to their office and\nthen you walk them out the door typically.\n\n482\n00:24:12.090 --> 00:24:14.620\nThat's just unfortunately,\nthat's part of it.\n\n483\n00:24:14.620 --> 00:24:15.990\n>> How it goes.\n\n484\n00:24:15.990 --> 00:24:19.038\n>> All right So\nDaniel I think that's probably good.\n\n485\n00:24:19.038 --> 00:24:22.440\nI want to get into automating\nsome of the creation next, but\n\n486\n00:24:22.440 --> 00:24:25.210\nI know we, there's just so\nmuch I can show you with that.\n\n487\n00:24:25.210 --> 00:24:27.030\nI think we probably should save that, so.\n\n488\n00:24:27.030 --> 00:24:29.990\n>> Okay, well that's good,\nwe've definitely shown you\n\n489\n00:24:29.990 --> 00:24:34.220\nwhat a user account is, that's good to\nknow obviously, you need to get an idea of\n\n490\n00:24:34.220 --> 00:24:38.200\nhow the Microsoft Active Directory\nsees accounts with the SIDs,\n\n491\n00:24:38.200 --> 00:24:42.930\nand we saw how good that, that's a good\nthing, right, because if somebody got\n\n492\n00:24:43.940 --> 00:24:47.610\nmarried and their last name changes, you\ncan change the name on the user account.\n\n493\n00:24:47.610 --> 00:24:51.470\nAnd the SID stays the same, they keep all\ntheir permissions because the permissions\n\n494\n00:24:51.470 --> 00:24:56.200\nare tied to the SID, not the actual\nhuman readable names that we see.\n\n495\n00:24:56.200 --> 00:24:57.400\nSo that's a good thing.\n\n496\n00:24:57.400 --> 00:25:01.480\nWe also show you how to create them,\nhow to jump them into group membership.\n\n497\n00:25:01.480 --> 00:25:04.430\nReally normal stuff,\nto save the account, delete the account.\n\n498\n00:25:04.430 --> 00:25:09.150\nThis is typical things that you're\ngoing to do as a systems administrator\n\n499\n00:25:09.150 --> 00:25:10.520\nin a Windows environment.\n\n500\n00:25:10.520 --> 00:25:11.370\nSo great stuff Mike.\n\n501\n00:25:11.370 --> 00:25:12.540\nReally good demonstration.\n\n502\n00:25:12.540 --> 00:25:14.080\nHopefully you guys out there enjoyed that.\n\n503\n00:25:14.080 --> 00:25:15.490\nWe had a good time making it.\n\n504\n00:25:15.490 --> 00:25:17.350\nTime to sign off for ItProTV.\n\n505\n00:25:17.350 --> 00:25:18.680\nI've been your host Daniel Lowry.\n\n506\n00:25:18.680 --> 00:25:19.680\n>> And I'm Mike Rodrick.\n\n507\n00:25:19.680 --> 00:25:22.615\n>> And we'll see you next time.\n\n508\n00:25:22.615 --> 00:25:27.220\n[SOUND]\n\n",
          "vimeoId": "133973366"
        },
        {
          "description": "In this episode Daniel and Mike discuss the process of automating Active Directory User creation.",
          "length": "1714",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-14-2-automating_ad_user_creation-071715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-14-2-automating_ad_user_creation-071715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-14-2-automating_ad_user_creation-071715-1-sm.jpg",
          "title": "Automating AD User Creation",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:03.442\n[SOUND]\n\n2\n00:00:03.442 --> 00:00:10.501\n[MUSIC]\n\n3\n00:00:10.501 --> 00:00:15.390\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n4\n00:00:15.390 --> 00:00:19.160\nI'm your host Daniel Lowrie and\nhere with me, as always, is Mike Rodrick.\n\n5\n00:00:19.160 --> 00:00:19.990\nHow's it going today, Mike?\n\n6\n00:00:19.990 --> 00:00:21.380\n>> Oh, it's going great, Daniel.\n\n7\n00:00:21.380 --> 00:00:25.300\nWe are talking about Active Directory,\none of my favorite topics, and\n\n8\n00:00:25.300 --> 00:00:27.600\nwe're gonna talk more about user accounts.\n\n9\n00:00:27.600 --> 00:00:30.900\nOn a previous episode, we looked at,\nyou know, what our user account was,\n\n10\n00:00:30.900 --> 00:00:34.640\nwe talked about how we could\ncreate one and things like that.\n\n11\n00:00:34.640 --> 00:00:37.900\nBut now I wanna talk about other\nways we can go about creating it,\n\n12\n00:00:37.900 --> 00:00:41.810\nbecause if you think about it, if I have\nto make one or two user accounts, yeah.\n\n13\n00:00:41.810 --> 00:00:44.260\nEasy.\nRight-click new user.\n\n14\n00:00:44.260 --> 00:00:45.730\nI can fill in the properties.\n\n15\n00:00:45.730 --> 00:00:46.660\nNo big deal.\n\n16\n00:00:46.660 --> 00:00:47.966\nWhat if I have to make ten?\n\n17\n00:00:47.966 --> 00:00:49.336\n100?\n\n18\n00:00:49.336 --> 00:00:51.040\n1,000 user accounts, right?\n\n19\n00:00:51.040 --> 00:00:53.830\nIt starts to get a little bit tedious and\ntime consuming.\n\n20\n00:00:53.830 --> 00:00:58.180\n>> Yeah, you're gonna spend some time\nbehind that old AD graphical interface\n\n21\n00:00:58.180 --> 00:01:00.130\ndoing that, I mean, yeah like you said.\n\n22\n00:01:00.130 --> 00:01:02.860\nA couple of users not a big deal,\nmaybe even 10.\n\n23\n00:01:02.860 --> 00:01:07.120\nAfter that the old click finger\nstarts getting a little unhappy and\n\n24\n00:01:07.120 --> 00:01:08.350\nyou start making mistakes.\n\n25\n00:01:08.350 --> 00:01:09.750\nPeople's names get spelled wrong.\n\n26\n00:01:09.750 --> 00:01:11.570\nSo there's gotta be\na better way to do this.\n\n27\n00:01:11.570 --> 00:01:15.270\nThere's gotta be a way that I\ncan do bulk loads of users.\n\n28\n00:01:15.270 --> 00:01:17.860\nThings of that nature that make it\na little bit easier for me right Mike?\n\n29\n00:01:17.860 --> 00:01:21.570\n>> There is, so there's a few different\nways you can actually go about it.\n\n30\n00:01:21.570 --> 00:01:26.670\nThe first way I wanna show you is\nbasically what's called a user template.\n\n31\n00:01:26.670 --> 00:01:27.970\nWhen we look at a user account,\n\n32\n00:01:27.970 --> 00:01:30.970\nlike I'm gonna pull up my account here\nthat I made in the previous episode.\n\n33\n00:01:30.970 --> 00:01:33.230\nI'm gonna look at this members of,\nand I went ahead and\n\n34\n00:01:33.230 --> 00:01:36.710\nadded this user account to\nseveral different groups.\n\n35\n00:01:36.710 --> 00:01:40.830\nAnd let's say that as a host,\n\n36\n00:01:40.830 --> 00:01:44.370\nthe host needs to be a member of all of\nthese different groups in order to get\n\n37\n00:01:44.370 --> 00:01:47.530\naccess to the resources that\nthey need to do their job.\n\n38\n00:01:47.530 --> 00:01:51.630\nThat means every time I hire a new host,\nI've got to create their user account and\n\n39\n00:01:51.630 --> 00:01:54.975\nthen I've got to go and\nadd them to these different groups, right?\n\n40\n00:01:54.975 --> 00:01:56.505\nAnd that can get old.\n\n41\n00:01:56.505 --> 00:02:00.205\nSo what I can do is I can\ncreate what we call a template.\n\n42\n00:02:00.205 --> 00:02:03.245\nAnd a template is simply a user\naccount that we call a template.\n\n43\n00:02:03.245 --> 00:02:06.935\nIt's kind of funny, it's not\na special thing that you create or\n\n44\n00:02:06.935 --> 00:02:10.010\nanything like that, but\nlet me show you what I mean.\n\n45\n00:02:10.010 --> 00:02:12.420\nI'm going to go ahead and\njust click new user.\n\n46\n00:02:12.420 --> 00:02:14.620\nYou can do it any way you want.\n\n47\n00:02:14.620 --> 00:02:16.860\nI always like to do something like this.\n\n48\n00:02:16.860 --> 00:02:22.090\nFor the first name I'm\ngoing to put _hosts and\n\n49\n00:02:22.090 --> 00:02:27.070\nfor the last name I'm going to\nput _templates or template.\n\n50\n00:02:27.070 --> 00:02:27.840\nLike that.\n\n51\n00:02:27.840 --> 00:02:31.890\nSo I get this full name of _Host_Template,\nlog on name really doesn't matter,\n\n52\n00:02:31.890 --> 00:02:35.200\nI'm never gonna log on with this account.\n\n53\n00:02:35.200 --> 00:02:39.640\nI'll go ahead and click next and\nthen I'll set a generic password on this,\n\n54\n00:02:39.640 --> 00:02:42.500\nthe same one I use when I hire new people.\n\n55\n00:02:44.090 --> 00:02:45.410\nI'll fill that in all the way.\n\n56\n00:02:45.410 --> 00:02:48.240\nI'll leave user must change\npassword at next log on.\n\n57\n00:02:48.240 --> 00:02:50.810\nI'm also going to disable this account.\n\n58\n00:02:50.810 --> 00:02:53.880\nCuz, again,\nI'm not actually gonna use this to log in.\n\n59\n00:02:53.880 --> 00:02:56.730\nAnd I'll click next and finish.\n\n60\n00:02:56.730 --> 00:02:58.420\nAnd the reason I started\nwith the underscore,\n\n61\n00:02:58.420 --> 00:03:00.860\nis because I like the way it\nshows up at the top of the list.\n\n62\n00:03:00.860 --> 00:03:04.050\nYou can imagine hundreds of users in here,\nI don't want to scroll down and\n\n63\n00:03:04.050 --> 00:03:05.410\nfind that template.\n\n64\n00:03:05.410 --> 00:03:08.120\nNow I'm going to pull up\nthe properties of that template and\n\n65\n00:03:08.120 --> 00:03:09.730\nI'm going to set some properties in here.\n\n66\n00:03:09.730 --> 00:03:12.810\nI'm going to go to the members of,\nand I'm going to click add and\n\n67\n00:03:12.810 --> 00:03:15.190\nI'm going to do a fancy trick\nthat Daniel just showed me here,\n\n68\n00:03:15.190 --> 00:03:18.940\nI'm going to go grab all these groups\nthat I created earlier at one time.\n\n69\n00:03:20.630 --> 00:03:22.362\nJust to speed up this process.\n\n70\n00:03:24.775 --> 00:03:26.370\nAgain, not so\nimportant what I'm doing there.\n\n71\n00:03:26.370 --> 00:03:29.610\nBut this is what I want you to see is,\nokay now my template\n\n72\n00:03:29.610 --> 00:03:34.020\nis in all of those groups that\nall hosts have to be a part of.\n\n73\n00:03:34.020 --> 00:03:35.740\nI can also set other properties.\n\n74\n00:03:35.740 --> 00:03:39.660\nLike I wanna put, let's see,\nfor the Job Title,\n\n75\n00:03:39.660 --> 00:03:43.530\nmaybe I put in Hosts, all right.\n\n76\n00:03:43.530 --> 00:03:50.540\nFor the company I'll put in IT Pro TV,\nyou know, or something like that.\n\n77\n00:03:50.540 --> 00:03:53.500\nLike I said, managers properties and\nall of that I can set.\n\n78\n00:03:53.500 --> 00:03:55.650\nYou can even set things like addresses and\n\n79\n00:03:55.650 --> 00:03:58.750\nyou know it bugged me the first time\nI learned how to do this cuz like\n\n80\n00:03:58.750 --> 00:04:01.110\nwhy would I want every employee\nto have the same address?\n\n81\n00:04:01.110 --> 00:04:01.860\nThat makes no sense.\n\n82\n00:04:01.860 --> 00:04:04.520\nDo I hire everybody as\nlike a communal thing?\n\n83\n00:04:04.520 --> 00:04:07.930\nBut it might be like the branch office,\nor the company's office address, or\n\n84\n00:04:07.930 --> 00:04:08.930\nsomething like that.\n\n85\n00:04:08.930 --> 00:04:11.760\nBut, anyway, you fill out all\nthe properties that you want.\n\n86\n00:04:11.760 --> 00:04:13.050\nAnd you click okay.\n\n87\n00:04:13.050 --> 00:04:16.910\nAnd now I've got this template,\nand so when I hire a new host,\n\n88\n00:04:16.910 --> 00:04:21.610\nall I have to do is right-click and\nchoose copy, all right?\n\n89\n00:04:21.610 --> 00:04:26.840\nAnd now it opens up this Copy Object\noption and I'll type in Sean.\n\n90\n00:04:26.840 --> 00:04:31.220\nIf I spell his name there right.\n\n91\n00:04:31.220 --> 00:04:33.080\nSomething like that.\n\n92\n00:04:33.080 --> 00:04:34.258\nSean Oriyano.\n\n93\n00:04:34.258 --> 00:04:39.200\nI'll put Sean for his first, or\nhis log on name, set the password,\n\n94\n00:04:39.200 --> 00:04:42.310\nnotice the password doesn't copy over.\n\n95\n00:04:42.310 --> 00:04:46.260\nBut, notice what did copy, already,\nis the user must change password at\n\n96\n00:04:46.260 --> 00:04:50.830\nthe next log on, and the account is\ndisabled, and I'll click next, and\n\n97\n00:04:50.830 --> 00:04:54.710\nfinish, and there I go, I have a new\naccount, and let's take a look at it.\n\n98\n00:04:55.790 --> 00:04:58.220\nAll right.\nIf I look at the organization,\n\n99\n00:04:58.220 --> 00:05:00.240\nnotice the job title didn't copy.\n\n100\n00:05:00.240 --> 00:05:02.410\nSome properties don't copy over.\n\n101\n00:05:02.410 --> 00:05:04.050\nCompany, did copy over.\n\n102\n00:05:04.050 --> 00:05:08.300\nLet's take a look at that members of tab,\nand ta dah, there we go.\n\n103\n00:05:08.300 --> 00:05:14.770\nIt's already in all those groups that Sean\nneeds to access the resources as a host.\n\n104\n00:05:14.770 --> 00:05:17.350\nAnd honestly, I'll tell you,\nsome of the properties that do copy and\n\n105\n00:05:17.350 --> 00:05:19.050\ndon't copy are strange.\n\n106\n00:05:19.050 --> 00:05:22.930\nLike it will copy the city and\nthe state and\n\n107\n00:05:22.930 --> 00:05:25.700\nthe zip but not the PO Box,\nif I remember correctly.\n\n108\n00:05:25.700 --> 00:05:28.370\nSo again,\nyou kind of have to experiment with that.\n\n109\n00:05:28.370 --> 00:05:29.070\nAnd honestly Daniel,\n\n110\n00:05:29.070 --> 00:05:32.650\nI'll tell you that I wouldn't care\nif any of the other stuff copied.\n\n111\n00:05:32.650 --> 00:05:34.400\nAs long as that group membership copied.\n\n112\n00:05:34.400 --> 00:05:37.350\nBecause sometimes these accounts,\nthey need to be in 10,\n\n113\n00:05:37.350 --> 00:05:39.800\n15 different groups to get their job done.\n\n114\n00:05:39.800 --> 00:05:42.940\nAnd I have to remember what groups\ndo I have to add this person in\n\n115\n00:05:42.940 --> 00:05:43.980\nevery time I hire somebody?\n\n116\n00:05:43.980 --> 00:05:47.030\n>> Yeah.\nTemplates are a very practical application\n\n117\n00:05:47.030 --> 00:05:51.660\nfor using AD because a lot times\nwhat'll happen is you've got a user and\n\n118\n00:05:51.660 --> 00:05:55.060\nthen people will start copying\na user that has the same job.\n\n119\n00:05:55.060 --> 00:05:56.160\nWell, does that work?\n\n120\n00:05:56.160 --> 00:05:57.520\nYes, it does work.\n\n121\n00:05:57.520 --> 00:06:01.840\nThe problem is what if that user has some\nspecial group membership that it's in?\n\n122\n00:06:01.840 --> 00:06:03.450\nOr just something strange.\n\n123\n00:06:03.450 --> 00:06:05.670\nIt's really not the right way to do it.\n\n124\n00:06:05.670 --> 00:06:07.790\nTemplates, that's the right way to do it.\n\n125\n00:06:07.790 --> 00:06:10.605\nIf it's job role,\nyou define that in the template.\n\n126\n00:06:10.605 --> 00:06:12.565\nPull all the information necessary and\n\n127\n00:06:12.565 --> 00:06:17.085\nanybody that gets hired on to do that job,\nyou copy that specific template.\n\n128\n00:06:17.085 --> 00:06:21.395\nSo you're gonna make templates for just\nabout every type of job role that you have\n\n129\n00:06:21.395 --> 00:06:24.555\nor organizational role that\nyou have in your company so\n\n130\n00:06:24.555 --> 00:06:25.855\nthat you can use those templates.\n\n131\n00:06:25.855 --> 00:06:27.285\nIt makes things very fast.\n\n132\n00:06:27.285 --> 00:06:31.290\nI can create 10, 50 users,\nwhatever I need, really quickly.\n\n133\n00:06:31.290 --> 00:06:34.900\nHave all their own special attributes that\nthey need, things like their name, and\n\n134\n00:06:34.900 --> 00:06:36.990\na set password, things to that nature.\n\n135\n00:06:36.990 --> 00:06:38.860\nAnd I still get to stay in the GUI, right?\n\n136\n00:06:38.860 --> 00:06:42.060\nIt just removes some of that\nadministrative overhead that I have to\n\n137\n00:06:42.060 --> 00:06:44.880\ndive into if I was to do it one at a time.\n\n138\n00:06:44.880 --> 00:06:46.760\nKind of, do half the work for me and\n\n139\n00:06:46.760 --> 00:06:50.060\nthen all I've got to do is fill out some\nof the particulars and I'm good to go.\n\n140\n00:06:50.060 --> 00:06:52.790\n>> Exactly, love it, and\nas Hugh says, great point.\n\n141\n00:06:52.790 --> 00:06:55.740\nAnd I'll have a separate template for\nmy sales people.\n\n142\n00:06:55.740 --> 00:07:00.730\nI have a separate template for\nmy production people, because production,\n\n143\n00:07:00.730 --> 00:07:03.610\nthey need to be in different groups\nthan my sales people do, right.\n\n144\n00:07:03.610 --> 00:07:08.080\nSo a template for basically each\njob title, and you're good to go.\n\n145\n00:07:08.080 --> 00:07:09.210\nSo that's one way.\n\n146\n00:07:09.210 --> 00:07:10.356\nThat simplifies things.\n\n147\n00:07:10.356 --> 00:07:13.320\nIt's still a little bit of a manual\nprocess, right click copy and\n\n148\n00:07:13.320 --> 00:07:17.060\nyou're only making one user at a time but\nit does help.\n\n149\n00:07:18.110 --> 00:07:21.680\nNext thing i want to show you\nis something called CSVDE and\n\n150\n00:07:21.680 --> 00:07:23.620\nthis has been around forever.\n\n151\n00:07:23.620 --> 00:07:29.670\nAnd a CSVDE is by a CSV files\nare comma separated value.\n\n152\n00:07:29.670 --> 00:07:35.670\nAnd we can use a CSV file to import\nnew users into Active Directory,\n\n153\n00:07:35.670 --> 00:07:37.490\nand let me show you how\nwe're gonna do that.\n\n154\n00:07:37.490 --> 00:07:40.360\nI'm gonna come over here to my, I've got\na little folder called scripts here and\n\n155\n00:07:40.360 --> 00:07:43.080\nI've made up a script ahead of time.\n\n156\n00:07:43.080 --> 00:07:43.600\nAnd let's see.\n\n157\n00:07:43.600 --> 00:07:44.710\nLet's do this one first.\n\n158\n00:07:44.710 --> 00:07:46.110\nWe've got new hosts.\n\n159\n00:07:46.110 --> 00:07:48.170\nAlright?\nSo this, and let's bump up that font,\n\n160\n00:07:48.170 --> 00:07:49.880\nso you guys can see it out there.\n\n161\n00:07:53.900 --> 00:07:57.170\nSo this is my newHosts.csv file.\n\n162\n00:07:57.170 --> 00:08:01.929\nAnd this first line, right up here,\nis what we call our header for the CSV\n\n163\n00:08:01.929 --> 00:08:06.942\nfile and it's gonna define the order\nthat the attributes are gonna come in.\n\n164\n00:08:06.942 --> 00:08:13.227\nSo it's gonna be object class,\ndistinguish name, sam account name,\n\n165\n00:08:13.227 --> 00:08:19.120\nuser principal name, given name,\nand then surname, all right?\n\n166\n00:08:19.120 --> 00:08:22.330\nThese are the attributes in\nActive Directory that I wanna fill out\n\n167\n00:08:22.330 --> 00:08:25.920\non these users, and then on\nthe next line I have my first user.\n\n168\n00:08:25.920 --> 00:08:28.430\nObject class, I wanna make a new user.\n\n169\n00:08:28.430 --> 00:08:32.180\nWhat's the distinguish name for\nthat user and here's that dn for\n\n170\n00:08:32.180 --> 00:08:34.310\nthat Daniel's account\nthat we're gonna create.\n\n171\n00:08:34.310 --> 00:08:39.320\nAnd then, I've got his, what do we got,\nSAMAccountName is gonna be Daniel.\n\n172\n00:08:39.320 --> 00:08:42.670\nHis user principle name Daniel@lab.net.\n\n173\n00:08:42.670 --> 00:08:46.050\nGiven name which is his\nfirst name is Daniel.\n\n174\n00:08:46.050 --> 00:08:48.100\nLast name is Lowrie.\n\n175\n00:08:48.100 --> 00:08:51.700\nAll right, and then on the next\nrow I've got another object.\n\n176\n00:08:51.700 --> 00:08:55.659\nSo the way, and again it's for Ronnie and\nthen another one down here for Don.\n\n177\n00:08:55.659 --> 00:08:59.817\nSo the first line is my header row,\ndefines the order that the attributes\n\n178\n00:08:59.817 --> 00:09:02.408\nare gonna come in and\nthen each line after that\n\n179\n00:09:02.408 --> 00:09:06.930\nis a separate object with the attributes\nfor that object separated by commas.\n\n180\n00:09:06.930 --> 00:09:10.620\nAnd in the same order as this row here,\nright?\n\n181\n00:09:10.620 --> 00:09:13.290\nIf I switch Daniel and Lowrie around,\n\n182\n00:09:13.290 --> 00:09:17.690\nit would end up setting Lowrie as his\nfirst name and Daniel as his last name,\n\n183\n00:09:17.690 --> 00:09:20.760\nbecause it doesn't know what Daniel is,\nit doesn't know what Lowrie is.\n\n184\n00:09:20.760 --> 00:09:22.990\nThis rule up here is defining that right?\n\n185\n00:09:22.990 --> 00:09:26.620\nIt is saying that after this comma\nyou should find his given name and\n\n186\n00:09:26.620 --> 00:09:29.870\nafter this comma you\nshould find his surname.\n\n187\n00:09:29.870 --> 00:09:34.020\nSo that's how we do that,\nwe set this up and you know CSV files.\n\n188\n00:09:34.020 --> 00:09:35.770\nSeveral things that can create CSV files.\n\n189\n00:09:35.770 --> 00:09:36.630\nI used Notepad and\n\n190\n00:09:36.630 --> 00:09:41.360\njust typed it out, but let's say your\nHR department has a spreadsheet.\n\n191\n00:09:41.360 --> 00:09:45.210\nYou're going to be hiring\n30 new temp employees for\n\n192\n00:09:45.210 --> 00:09:47.140\nthe summer to do some data entry.\n\n193\n00:09:47.140 --> 00:09:49.930\nSo they've got an Excel spread sheet,\nand they got these columns.\n\n194\n00:09:49.930 --> 00:09:52.785\nYou can set up the columns for them,\nobject class, distinguish name, blah,\n\n195\n00:09:52.785 --> 00:09:53.313\nblah, blah.\n\n196\n00:09:53.313 --> 00:09:56.504\nThey fill all that information\nin in that Excel spreadsheet and\n\n197\n00:09:56.504 --> 00:09:58.259\nthen save it as a CSV file, right?\n\n198\n00:09:58.259 --> 00:10:00.396\nAnd it would generate this for you ,so.\n\n199\n00:10:00.396 --> 00:10:03.864\nOr you might have some other\nprogram that already had maybe\n\n200\n00:10:03.864 --> 00:10:08.830\nsome other authentication database that\ncould spit this data out as a CSV file.\n\n201\n00:10:08.830 --> 00:10:11.300\nMaybe you're transitioning\nto Active Directory.\n\n202\n00:10:11.300 --> 00:10:11.970\nAll right?\n\n203\n00:10:11.970 --> 00:10:14.810\nSo either way you get\nit out of the CSV file.\n\n204\n00:10:14.810 --> 00:10:20.256\nOnce you've got the CSV file,\nI'm gonna open up a command prompt.\n\n205\n00:10:20.256 --> 00:10:25.107\nAnd the command is simply CSVde.\n\n206\n00:10:25.107 --> 00:10:27.979\nAnd I'll go ahead and\ndo a little parameter search for it.\n\n207\n00:10:29.790 --> 00:10:32.530\nRight, and\nthere's a bunch of different parameters.\n\n208\n00:10:32.530 --> 00:10:35.640\nCSV can import objects\ninto Active Directory.\n\n209\n00:10:35.640 --> 00:10:38.484\nYou can create new objects\nby importing into.\n\n210\n00:10:38.484 --> 00:10:43.360\nYou can also export data out of\nActive Directory using CSVde.\n\n211\n00:10:43.360 --> 00:10:46.370\nWhat you can't do with CSVde, and\nthis is what you gotta remember.\n\n212\n00:10:46.370 --> 00:10:51.420\nYou cannot modify existing objects with\nCSVde, only create new objects, and\n\n213\n00:10:51.420 --> 00:10:54.600\nyou can't set the password with CSVde.\n\n214\n00:10:54.600 --> 00:10:58.240\nWhich means in Windows 2012 R2,\nif you create an account\n\n215\n00:10:58.240 --> 00:11:02.900\nthat does not have a password,\nit'll automatically be disabled, right?\n\n216\n00:11:02.900 --> 00:11:04.340\nSome important switches.\n\n217\n00:11:04.340 --> 00:11:08.450\nThe default is export,\nso as I type my command,\n\n218\n00:11:08.450 --> 00:11:11.840\nif I don't put a switch i,\nthen it's gonna be in export mode,\n\n219\n00:11:11.840 --> 00:11:15.450\nget data from Active Directory and\nput it in a CSV file.\n\n220\n00:11:15.450 --> 00:11:16.860\nI add the -i and\n\n221\n00:11:16.860 --> 00:11:22.270\nI turn it into import mode,\nimport from the CSV into Active Directory.\n\n222\n00:11:22.270 --> 00:11:26.715\nThe -f, for the filename, either what\nI'm trying to output the data to or\n\n223\n00:11:26.715 --> 00:11:28.685\nwhat I'm importing from.\n\n224\n00:11:28.685 --> 00:11:33.015\nThe other important ones are going to be,\nlet's see what else,\n\n225\n00:11:33.015 --> 00:11:36.250\nfor exporting, when you go to export,\n\n226\n00:11:36.250 --> 00:11:39.060\nyou might not want to export your\nentire active directory, right?\n\n227\n00:11:39.060 --> 00:11:41.370\nYou probably have hundreds of\nthousands of objects in there,\n\n228\n00:11:41.370 --> 00:11:43.360\nyou don't want to make this huge CSV file.\n\n229\n00:11:43.360 --> 00:11:47.420\nMaybe you just want to export all\nthe users from a particular OU,\n\n230\n00:11:47.420 --> 00:11:50.530\ncuz you're gonna make a phone list.\n\n231\n00:11:50.530 --> 00:11:53.690\nLet's say you wanted to export all\nthe users from the marketing OU,\n\n232\n00:11:53.690 --> 00:11:58.230\nand I just want their first name, last\nname, department, and extension, right?\n\n233\n00:11:58.230 --> 00:11:59.550\nMake some kind of phone list out of it.\n\n234\n00:11:59.550 --> 00:12:01.380\nYou can do some really\ncool things with this.\n\n235\n00:12:01.380 --> 00:12:04.610\nBut the root DN tells it where to\nstart the export process from.\n\n236\n00:12:05.830 --> 00:12:07.320\nThe filter, you could limit it.\n\n237\n00:12:07.320 --> 00:12:10.410\nMaybe I do want to search entire\nactive directory but only for\n\n238\n00:12:10.410 --> 00:12:13.280\npeople whose department equals sales.\n\n239\n00:12:13.280 --> 00:12:15.540\nYou can also do a search scope.\n\n240\n00:12:15.540 --> 00:12:19.775\nIf you pick an OU,\nwhat if there's nested OUs inside there?\n\n241\n00:12:19.775 --> 00:12:22.940\nSub-tree would let you do all nested OUs.\n\n242\n00:12:22.940 --> 00:12:25.960\nBase would not search the nested OUs.\n\n243\n00:12:25.960 --> 00:12:28.490\nOne level would just go on level deep.\n\n244\n00:12:28.490 --> 00:12:31.210\nAnd -L, list of attributes,\n\n245\n00:12:31.210 --> 00:12:35.570\nif when you're exporting the data you saw\na user account has hundreds of attributes.\n\n246\n00:12:35.570 --> 00:12:37.780\nI don't really need all of them, all I\nwant is the first name, last name, and\n\n247\n00:12:37.780 --> 00:12:39.282\ntheir phone number for example.\n\n248\n00:12:39.282 --> 00:12:44.430\nThe -L lets me list what attributes\nI want to actually export or\n\n249\n00:12:44.430 --> 00:12:48.250\nit might be easier to say which\nattributes I don't wanna include.\n\n250\n00:12:48.250 --> 00:12:50.470\nAnd that's what that -o is for.\n\n251\n00:12:50.470 --> 00:12:52.890\nThe -k is an interesting one.\n\n252\n00:12:53.930 --> 00:12:57.820\nImport will go on ignoring errors.\n\n253\n00:12:57.820 --> 00:12:59.320\nAnd you might think, well, why the heck,\n\n254\n00:12:59.320 --> 00:13:02.360\nMike, would you want to ignore\nerrors on your import process?\n\n255\n00:13:02.360 --> 00:13:05.310\nWell, let's say I've got a CSV file\nthat has a hundred users in there,\n\n256\n00:13:05.310 --> 00:13:10.140\nthat I'm trying to import, and that\nfourth one gets a duplicate name issue.\n\n257\n00:13:10.140 --> 00:13:12.260\nWell, I want it to continue\non with the other 96 or\n\n258\n00:13:12.260 --> 00:13:16.010\n95 and then I can go back and\nfix that one.\n\n259\n00:13:16.010 --> 00:13:17.862\nThat's what that -k would allow me to do.\n\n260\n00:13:17.862 --> 00:13:23.050\nAll right, so the command is going to be\nCSVde and I want to put it in import mode,\n\n261\n00:13:23.050 --> 00:13:26.930\nso that's the -i, and\nthen the -f for my file name.\n\n262\n00:13:26.930 --> 00:13:31.010\nAnd I just have to tell it\nwhere that CSV file is located.\n\n263\n00:13:31.010 --> 00:13:35.130\nSo I'll find that in my new\nhost.csv file and I'll go ahead and\n\n264\n00:13:35.130 --> 00:13:40.260\nhit Enter and I can see three\nentries were modified successfully.\n\n265\n00:13:40.260 --> 00:13:41.503\nWell, let's go see if it worked.\n\n266\n00:13:41.503 --> 00:13:45.216\nAnd then we'll flip back over\nto Active Directory, and\n\n267\n00:13:45.216 --> 00:13:48.537\nright there in my hosts,\nif I do a little refresh.\n\n268\n00:13:48.537 --> 00:13:49.211\nAll right.\n\n269\n00:13:49.211 --> 00:13:55.341\nRemember, earlier we made hosts template,\nand I made Mike Broderick and Sean Ariano.\n\n270\n00:13:55.341 --> 00:13:55.898\nBut now, look.\n\n271\n00:13:55.898 --> 00:13:59.103\nThere's Ronnie Wong,\nDon Pezet, and Daniel Lowery.\n\n272\n00:13:59.103 --> 00:14:02.750\nThose are the ones that were\ncoming out of that CSV file.\n\n273\n00:14:02.750 --> 00:14:07.178\nSo, you can image,\nwhat if I had a CSV file that had 20, 30,\n\n274\n00:14:07.178 --> 00:14:09.360\n50, 100 users in it, right?\n\n275\n00:14:09.360 --> 00:14:12.370\nOne command and\nI was able to create those users.\n\n276\n00:14:12.370 --> 00:14:15.144\nIf I pull up Daniel's account here.\n\n277\n00:14:15.144 --> 00:14:18.236\nThere it's got his first name,\nit's got his last name,\n\n278\n00:14:18.236 --> 00:14:21.170\nit's got his Sam account name,\ndaniel@lab.net.\n\n279\n00:14:21.170 --> 00:14:26.120\nIt's got his pre-Windows 2000 name, and\nI could actually list more attributes\n\n280\n00:14:26.120 --> 00:14:30.674\nin that distinguished, in that CSV file,\nI just have to go to that header row.\n\n281\n00:14:30.674 --> 00:14:34.699\nNow here's the one thing you do have\nto be careful about with CSVde is,\n\n282\n00:14:34.699 --> 00:14:39.030\nit's looking at these, you have to\nknow the names of the attributes.\n\n283\n00:14:39.030 --> 00:14:42.530\nAnd sometimes that's not as\neasy as you think, right?\n\n284\n00:14:42.530 --> 00:14:45.510\n>> I think the best thing to\ndo is go to Microsoft and\n\n285\n00:14:45.510 --> 00:14:47.940\nsearch out what are all\nthe attribute names.\n\n286\n00:14:47.940 --> 00:14:49.980\nThey have an area,\nI can't exactly remember where it is, but\n\n287\n00:14:49.980 --> 00:14:51.780\nif you do a search for it, it'll show up.\n\n288\n00:14:51.780 --> 00:14:55.450\nIt shows you all the attribute names,\nso then you can peruse that list,\n\n289\n00:14:55.450 --> 00:14:59.460\ngives you a nice description of what each\none of them is,and then you can add them\n\n290\n00:14:59.460 --> 00:15:00.590\nto your file here.\n\n291\n00:15:00.590 --> 00:15:03.910\n>> Yeah, because you might have noticed\nin my file here that I did weird things,\n\n292\n00:15:03.910 --> 00:15:08.780\nlike given name, and sn,\nwhat the heck is that, right?\n\n293\n00:15:08.780 --> 00:15:12.067\nBecause when you look at\nthe user's properties here,\n\n294\n00:15:12.067 --> 00:15:15.789\nif I can get back over to it,\nit's first name, and last name.\n\n295\n00:15:15.789 --> 00:15:18.089\nSo, why the heck to you type\nin given name and surname?\n\n296\n00:15:18.089 --> 00:15:20.440\nWell let's look at\nthe attribute editor over here.\n\n297\n00:15:20.440 --> 00:15:22.520\nAnd if I look for my first name attribute,\n\n298\n00:15:22.520 --> 00:15:25.990\nwell there's all my F's,\nfacsimile, and flags.\n\n299\n00:15:25.990 --> 00:15:28.160\nThere is no first name, right?\n\n300\n00:15:28.160 --> 00:15:31.520\nBut there is a given name,\nthat's what it's called.\n\n301\n00:15:31.520 --> 00:15:33.550\nThere is no last name.\n\n302\n00:15:33.550 --> 00:15:36.570\nSN is my last name.\n\n303\n00:15:36.570 --> 00:15:38.091\nWhat's another interesting one?\n\n304\n00:15:38.091 --> 00:15:39.206\nThere's, what's the L?\n\n305\n00:15:39.206 --> 00:15:40.343\nI forget, listed up here.\n\n306\n00:15:40.343 --> 00:15:41.540\nL is actually,\n\n307\n00:15:41.540 --> 00:15:46.610\ncity if I remember correctly\nbecause there is no city attribute.\n\n308\n00:15:48.270 --> 00:15:48.980\nYeah.\n\n309\n00:15:48.980 --> 00:15:50.370\nThere's no city.\n\n310\n00:15:50.370 --> 00:15:51.580\nIt's L for location.\n\n311\n00:15:51.580 --> 00:15:56.130\nSo you just gotta know what the attributes\nare actually called behind the scene,\n\n312\n00:15:56.130 --> 00:16:00.330\nnot the friendly name that we call them.\n\n313\n00:16:00.330 --> 00:16:03.990\nCo, if I remember right, is company,\nbut there are some weird ones.\n\n314\n00:16:03.990 --> 00:16:05.380\nJust be aware of that.\n\n315\n00:16:05.380 --> 00:16:09.052\nOtherwise, if you try first name, it's not\ngonna know where to populate that value.\n\n316\n00:16:09.052 --> 00:16:12.474\n>> Now remember to memorize every one\nof these because Of the entirety of\n\n317\n00:16:12.474 --> 00:16:15.190\nthe tests, is nothing but\nthese attributes.\n\n318\n00:16:15.190 --> 00:16:16.464\nThat is a joke [LAUGH].\n\n319\n00:16:16.464 --> 00:16:19.238\n>> Yeah and interesting,\nthere's a question there, in the chatroom,\n\n320\n00:16:19.238 --> 00:16:22.270\nnot a question but a statement,\ntalking about the pre-Windows 2000.\n\n321\n00:16:22.270 --> 00:16:24.220\nAnd it's kind of funny.\n\n322\n00:16:24.220 --> 00:16:26.980\nBut I'll tell you Daniel that\nmost people that I know-\n\n323\n00:16:26.980 --> 00:16:28.000\n>> Use the pre-Windows 2000?\n\n324\n00:16:28.000 --> 00:16:29.620\n>> Still log on with pre-Windows 2000.\n\n325\n00:16:29.620 --> 00:16:34.439\nHow many of you go to your machine and\nlog on with Daniel at blab.net?\n\n326\n00:16:34.439 --> 00:16:34.960\nRight?\n\n327\n00:16:34.960 --> 00:16:38.840\nMost people just type Daniel, and\nit's doing a pre-Windows 2000,\n\n328\n00:16:38.840 --> 00:16:41.890\nbecause the next line is the domain\nname right underneath there, or\n\n329\n00:16:41.890 --> 00:16:44.570\nyour password's under there and\nit assumes your domain name.\n\n330\n00:16:44.570 --> 00:16:46.340\nSo even though it's pre-Windows 2000,\n\n331\n00:16:46.340 --> 00:16:50.000\nit's still the way most people\nactually log on and it still works.\n\n332\n00:16:50.000 --> 00:16:53.867\n>> Where I worked before we would do first\nname period last name, so for me it was\n\n333\n00:16:53.867 --> 00:17:00.600\nDaniel.Lowrey that was my username,\nmy pre-Windows 2000 name was DLowery.\n\n334\n00:17:00.600 --> 00:17:03.560\nAnd a lot of people they're so\nused to that or so\n\n335\n00:17:03.560 --> 00:17:07.520\ningrained with that that even though we\ntold them they have a different username\n\n336\n00:17:07.520 --> 00:17:12.900\nthey would continue to use that pre-Win 2k\nformat because they're just so used to it.\n\n337\n00:17:12.900 --> 00:17:16.720\n>> You know if i go over here, let's see\nif i've still got that client running.\n\n338\n00:17:16.720 --> 00:17:18.250\nIt's less to type.\n\n339\n00:17:18.250 --> 00:17:19.440\nOh, he's paused.\n\n340\n00:17:19.440 --> 00:17:21.230\nYou know,\nI'd much rather go to my log on screen and\n\n341\n00:17:21.230 --> 00:17:24.810\njust type Mike than Mike@itpro.tv, right?\n\n342\n00:17:24.810 --> 00:17:25.810\nIt's easier to do.\n\n343\n00:17:25.810 --> 00:17:29.330\n>> You should be able to get\naway with just Mike, though.\n\n344\n00:17:29.330 --> 00:17:30.940\n>> Yeah,\nbecause that's my pre-Windows 2000.\n\n345\n00:17:30.940 --> 00:17:33.586\n>> If your username is Mike and\n\n346\n00:17:33.586 --> 00:17:38.770\nyour pre-Windows 2000 name was Muh,\n[LAUGH] you could use Mike.\n\n347\n00:17:38.770 --> 00:17:41.760\nIt will still let you use it.\n\n348\n00:17:41.760 --> 00:17:44.100\n>> Alright, now the other thing I want\nto point out here is that notice these\n\n349\n00:17:44.100 --> 00:17:49.140\naccounts that I've just created, Ronnie,\nDon, and Daniel, are all disabled.\n\n350\n00:17:49.140 --> 00:17:51.240\nI don't know if you can\nquite see that in there, but\n\n351\n00:17:51.240 --> 00:17:53.620\nthey've got that little\ndownward pointing arrow.\n\n352\n00:17:53.620 --> 00:17:56.750\nRemember CSVDE does not set the password,\nso\n\n353\n00:17:56.750 --> 00:17:59.270\nthe accounts are disabled\nwhen you create them.\n\n354\n00:17:59.270 --> 00:18:03.650\nSo I would have to go back in each one\nof those accounts, set the password, and\n\n355\n00:18:03.650 --> 00:18:05.110\nthen enable the account.\n\n356\n00:18:05.110 --> 00:18:06.660\nSo, good solution.\n\n357\n00:18:06.660 --> 00:18:09.240\nI mean,\nit's what we've had in the past to use.\n\n358\n00:18:09.240 --> 00:18:10.300\nIt definitely helps.\n\n359\n00:18:11.380 --> 00:18:15.260\nIt doesn't do everything\nwe'd like it to do though.\n\n360\n00:18:15.260 --> 00:18:17.023\n>> Well the future is here now Mike.\n\n361\n00:18:17.023 --> 00:18:18.149\n>> [LAUGH]\n>> The future is here.\n\n362\n00:18:18.149 --> 00:18:18.790\nThe future is now.\n\n363\n00:18:18.790 --> 00:18:22.660\nWe want to be able to do those things\nthat CSVDE won't let us do it.\n\n364\n00:18:22.660 --> 00:18:23.250\nCan we?\n\n365\n00:18:23.250 --> 00:18:23.960\n>> We can.\n\n366\n00:18:23.960 --> 00:18:25.580\nWe can.\nBut I'm gonna make you wait for\n\n367\n00:18:25.580 --> 00:18:27.020\nit cuz I wanna show you one rule.\n\n368\n00:18:27.020 --> 00:18:28.810\nI'm gonna stick in the past here.\n\n369\n00:18:28.810 --> 00:18:29.750\nI'm old school.\n\n370\n00:18:29.750 --> 00:18:31.740\nI do wanna show you one more thing.\n\n371\n00:18:31.740 --> 00:18:33.850\nThere's another tool that you can use.\n\n372\n00:18:33.850 --> 00:18:37.250\nRemember, one of the big caveats of CSVDE,\nbesides not being able to set\n\n373\n00:18:37.250 --> 00:18:40.460\nthe password, is the fact that I\ncan't modify existing objects.\n\n374\n00:18:40.460 --> 00:18:42.220\nI can only create new objects.\n\n375\n00:18:42.220 --> 00:18:48.972\nThere's another command lines utility\ncalled LDIFDE L-D-I-F-D-E and\n\n376\n00:18:48.972 --> 00:18:53.970\nif I take a look at the syntax,\nthe syntax is almost identical.\n\n377\n00:18:53.970 --> 00:18:58.220\nThe default is export, import is a dash I,\ndash F for the file name,\n\n378\n00:18:58.220 --> 00:19:02.770\nyou'll see just about\neverything is exactly the same.\n\n379\n00:19:02.770 --> 00:19:08.110\nBut here's the thing with LDIFDE I\ncan modify existing objects and\n\n380\n00:19:08.110 --> 00:19:11.920\nI can delete existing objects\nas well as create new.\n\n381\n00:19:11.920 --> 00:19:13.480\nIt still can't set the password.\n\n382\n00:19:13.480 --> 00:19:16.580\nSo the account will be disabled and\nthe format is different.\n\n383\n00:19:16.580 --> 00:19:22.040\nRemember CSVDE uses comma\nseparated values, whereas\n\n384\n00:19:22.040 --> 00:19:27.930\nLDIFDE uses line differentiated,\nis the way I like to remember it.\n\n385\n00:19:27.930 --> 00:19:32.440\nSo instead of having a header row\nthat defines the attributes, and\n\n386\n00:19:32.440 --> 00:19:37.250\nthen each row is its own object with\nattributes separated by commas, In here,\n\n387\n00:19:37.250 --> 00:19:39.940\nthe attribute's defined at\nthe beginning of the line, and\n\n388\n00:19:39.940 --> 00:19:41.570\nthen there's the distinguished name.\n\n389\n00:19:41.570 --> 00:19:42.160\nOops.\n\n390\n00:19:42.160 --> 00:19:46.880\nAnd then their surname, and Lowrie,\nand there's givenName and Daniel.\n\n391\n00:19:46.880 --> 00:19:51.830\nAnd then there's a blank line, and\nthen another object, distinguished name,\n\n392\n00:19:51.830 --> 00:19:55.230\nRonnie, surname, Long, givenName,\nRonnie, and then a blank line.\n\n393\n00:19:55.230 --> 00:19:58.630\nSo there's a blank line\nbetween each object.\n\n394\n00:19:58.630 --> 00:20:00.910\nSo the layout of the file's\na little different.\n\n395\n00:20:00.910 --> 00:20:04.800\nYou can change the change type,\nthis is why you can do some cool things.\n\n396\n00:20:04.800 --> 00:20:09.870\nOther than add, you can change that to\nremove, or you can change that to modify.\n\n397\n00:20:09.870 --> 00:20:13.020\nAnd I've used this myself\na couple of times.\n\n398\n00:20:13.020 --> 00:20:16.460\nI remember back when the area\ncodes needed were changing.\n\n399\n00:20:16.460 --> 00:20:21.050\nYou know, Florida was just two area codes\nand then they started as cell phones and\n\n400\n00:20:21.050 --> 00:20:24.920\nall that stuff, started dividing states\nup into smaller and smaller, more and\n\n401\n00:20:24.920 --> 00:20:25.420\nmore area codes.\n\n402\n00:20:25.420 --> 00:20:28.090\nWell, I had a school zone that needed to\n\n403\n00:20:28.090 --> 00:20:31.290\nupdate all those area codes on all\ntheir users through the school zone.\n\n404\n00:20:31.290 --> 00:20:33.820\nWell, I could go in Active Directory and\ndouble-click on each user,\n\n405\n00:20:33.820 --> 00:20:36.470\none at a time, and\nchange their phone number.\n\n406\n00:20:36.470 --> 00:20:39.710\nInstead what I did was I used LDIFDE\n\n407\n00:20:39.710 --> 00:20:44.330\nto export all that user account\ninformation, including their phone number.\n\n408\n00:20:44.330 --> 00:20:48.950\nAnd then I took that file and I gave it\nto somebody else and I said use your text\n\n409\n00:20:48.950 --> 00:20:53.730\neditor, use Word or Notepad and go through\nthere and fix all of those area codes.\n\n410\n00:20:53.730 --> 00:20:57.900\nWhen they were done, they gave me the file\nback and I did change type modify and\n\n411\n00:20:57.900 --> 00:21:01.030\njust imported right back into\nactive directory and I was done.\n\n412\n00:21:01.030 --> 00:21:04.290\nAnd so I pawned some off the work\noff onto somebody else but\n\n413\n00:21:04.290 --> 00:21:09.300\nI used LDIFDE to modify those accounts in\nbulk and that made it a whole lot easier.\n\n414\n00:21:09.300 --> 00:21:12.750\n>> Yeah, it can be a whole lot easier\njust to parse through a text file and\n\n415\n00:21:12.750 --> 00:21:16.200\nthen just jump through the fields and say-\n>> Find and replace-\n\n416\n00:21:16.200 --> 00:21:17.725\n>> [CROSSTALK] That whole regular\n\n417\n00:21:17.725 --> 00:21:21.210\nexpression thing can become really\nhandy in these types of things.\n\n418\n00:21:21.210 --> 00:21:24.927\nSo if you're good with a text editor, you\ncould probably bounce through this about\n\n419\n00:21:24.927 --> 00:21:28.326\nten times faster than you could just\ntrying to crank through the GUI change,\n\n420\n00:21:28.326 --> 00:21:29.460\nmake all those changes.\n\n421\n00:21:29.460 --> 00:21:30.620\nSo this should be pretty handy.\n\n422\n00:21:32.070 --> 00:21:36.920\n>> All right, so now, Daniel,\nwe'll start jumping into the future here.\n\n423\n00:21:36.920 --> 00:21:39.900\nI've got another CSV file, and this is my,\n\n424\n00:21:39.900 --> 00:21:44.770\nI've got some more accounts that it's\ngonna create, so the layout is similar.\n\n425\n00:21:44.770 --> 00:21:46.570\nI'll explain the differences\nin just a second, but\n\n426\n00:21:46.570 --> 00:21:49.080\nit's still a CSV file,\ncomma separated values.\n\n427\n00:21:49.080 --> 00:21:52.620\nYou might notice that my names\nup here are not correct, though.\n\n428\n00:21:52.620 --> 00:21:56.210\nRemember, I said the first\nname is actually given name.\n\n429\n00:21:56.210 --> 00:21:59.220\nLast name is actually SN, right?\n\n430\n00:21:59.220 --> 00:22:02.090\nWell, I have things like first name and\nlast name.\n\n431\n00:22:02.090 --> 00:22:04.680\nIf I tried to use CSV,\nthat would not work.\n\n432\n00:22:04.680 --> 00:22:08.190\nFname and lname,\nit would have no idea what those were.\n\n433\n00:22:08.190 --> 00:22:11.630\nBut I'm not using csvde to import this.\n\n434\n00:22:11.630 --> 00:22:14.120\nI'm gonna use PowerShell.\n\n435\n00:22:14.120 --> 00:22:18.720\nAnd PowerShell is,\nlet's just bump that up just a wee bit,\n\n436\n00:22:18.720 --> 00:22:21.340\nyou guys know what PowerShell is.\n\n437\n00:22:21.340 --> 00:22:26.100\nPowerShell has a command that\nallows me to, Import a CSV file.\n\n438\n00:22:26.100 --> 00:22:28.940\nAll right, so the command is\ngoing to be import dash CSV.\n\n439\n00:22:28.940 --> 00:22:33.930\nI'm going to do a get-help import-CSV.\n\n440\n00:22:35.170 --> 00:22:39.160\nAnd doesn't look like I've got\nthe updated help on this virtual machine.\n\n441\n00:22:39.160 --> 00:22:42.210\nThat's okay, I'll go ahead and\nsay no to that.\n\n442\n00:22:42.210 --> 00:22:43.960\nIt'll give me some of the syntax.\n\n443\n00:22:43.960 --> 00:22:48.530\nAnd it's basically you have to\npoint it to where that CSV file is.\n\n444\n00:22:48.530 --> 00:22:52.000\nAnd I've already got my script running,\nwell I mean not running, but created.\n\n445\n00:22:52.000 --> 00:22:53.650\nSo let's take a look at that.\n\n446\n00:22:53.650 --> 00:22:59.990\nI'm gonna edit this guy with my PowerShell\nISE and show you goes what I've done.\n\n447\n00:23:01.710 --> 00:23:03.649\nSo wait for\nthis guy to load up real quick.\n\n448\n00:23:05.890 --> 00:23:08.180\nAnd there is my script.\n\n449\n00:23:08.180 --> 00:23:11.130\nUsually this would all be on one line.\n\n450\n00:23:11.130 --> 00:23:15.440\nI've used my line continuation characters\nthe little back tick over there so\n\n451\n00:23:15.440 --> 00:23:17.620\nthat we could make this\na little bit easier to read.\n\n452\n00:23:17.620 --> 00:23:23.510\nBut my initial command inport-csv and\nthen the path to that CSV file.\n\n453\n00:23:23.510 --> 00:23:26.930\nThat's going to take that information\nthat's in the CSV file and\n\n454\n00:23:26.930 --> 00:23:30.430\nbasically load it up into memory, so\nthat PowerShell can manipulate it.\n\n455\n00:23:30.430 --> 00:23:34.232\nAll right, and then when you say foreach,\nwhich is a loop.\n\n456\n00:23:34.232 --> 00:23:39.782\nIt doesn't matter how many lines are in\nthat CSV file, it's gonna execute this\n\n457\n00:23:39.782 --> 00:23:46.465\ncommand new-ADuser for\neach line in that CSV file.\n\n458\n00:23:46.465 --> 00:23:47.645\nAnd then it's gonna say, and\n\n459\n00:23:47.645 --> 00:23:53.175\nif the new user command allows me to\nuse parameters like -name and -path,\n\n460\n00:23:53.175 --> 00:23:57.925\nwhere in active directory do I want\nto create it, -userprinciplename,\n\n461\n00:23:57.925 --> 00:24:01.870\nnotice I say -givenname and\nall I'm doing is telling it.\n\n462\n00:24:01.870 --> 00:24:05.704\nAll right,\nI want you to set the given name,\n\n463\n00:24:05.704 --> 00:24:09.029\nto whatever the CSV file calls Fname.\n\n464\n00:24:09.029 --> 00:24:14.210\nAnd this is why I can get away with\nusing any name I want in the CSV file.\n\n465\n00:24:14.210 --> 00:24:18.710\nI could've called it myname or\ntennisball, right?\n\n466\n00:24:18.710 --> 00:24:21.700\nI would've said use given name or\n\n467\n00:24:21.700 --> 00:24:25.550\nset the given name to whatever\nthe CSV file calls tennisball.\n\n468\n00:24:25.550 --> 00:24:26.720\nSo that's why you can use,\n\n469\n00:24:26.720 --> 00:24:29.670\nyou don't have to use the actual\nattribute names in there.\n\n470\n00:24:29.670 --> 00:24:34.640\nSo for each user, it's going to go and\ngrab those properties from the CSV\n\n471\n00:24:34.640 --> 00:24:39.240\nfile and set it to the property of\nthe new user account that it's creating.\n\n472\n00:24:39.240 --> 00:24:42.690\nAnd here's what Daniel was talking about,\ngetting into the future.\n\n473\n00:24:42.690 --> 00:24:46.230\nGuess what else I can do with PowerShell?\n\n474\n00:24:46.230 --> 00:24:47.952\nI can set the password.\n\n475\n00:24:47.952 --> 00:24:53.146\nYou can see I've got this -AccountPassword\nConvertTo-SecureString and\n\n476\n00:24:53.146 --> 00:24:57.040\nI've used my little generic\n\"P@ssw0rd!\" there and\n\n477\n00:24:57.040 --> 00:25:02.750\n-AsPlainText -Force and then I've also\nenabled the account -Enabled $True.\n\n478\n00:25:02.750 --> 00:25:06.510\nBecause if I set the password, I can go\nahead and enable that account, right?\n\n479\n00:25:06.510 --> 00:25:07.840\nSo let's see if this is gonna work.\n\n480\n00:25:07.840 --> 00:25:11.990\nI'll go ahead and run this script and\n\n481\n00:25:11.990 --> 00:25:16.530\nyou can see down here my ISE that it's\nloading up the active directory module, so\n\n482\n00:25:16.530 --> 00:25:19.700\nI can get access to that\nnew -ad user command.\n\n483\n00:25:19.700 --> 00:25:26.000\nAnd there we go, scrolling by, you can\nsee that it created three accounts.\n\n484\n00:25:26.000 --> 00:25:27.770\nThere's my account for, oops.\n\n485\n00:25:29.400 --> 00:25:32.950\nThere's my account that it made for\nNate, there's one for\n\n486\n00:25:32.950 --> 00:25:34.870\nJason and there's one for Titus.\n\n487\n00:25:34.870 --> 00:25:39.640\nThen we go and look over at active\ndirectory and I refresh my production OU.\n\n488\n00:25:41.190 --> 00:25:44.600\nThere's those three account and\nthey're already enabled.\n\n489\n00:25:44.600 --> 00:25:46.380\nThe password is already set on them.\n\n490\n00:25:46.380 --> 00:25:50.960\nSo PowerShell gives me the ability\nto take that CSV file and\n\n491\n00:25:50.960 --> 00:25:56.680\nuse PowerShell to import it and set the\naccount password and enable that password.\n\n492\n00:25:56.680 --> 00:26:01.440\nSo now I can almost fully automate,\nnot really automate the process but\n\n493\n00:26:01.440 --> 00:26:06.600\nif you get good with your PowerShell\nscripts, you could take this script and\n\n494\n00:26:06.600 --> 00:26:09.670\nset up parameters,\nbecause this might change, right?\n\n495\n00:26:09.670 --> 00:26:12.270\nThe location or the name of that CSV file.\n\n496\n00:26:12.270 --> 00:26:13.650\nEvery time you run this script,\n\n497\n00:26:13.650 --> 00:26:17.550\nyou don't have to use the ISE,\nI could have just gone to PowerShell and\n\n498\n00:26:17.550 --> 00:26:22.360\ncalled this script, typed in import CSV\nand told it where this was located right?\n\n499\n00:26:24.170 --> 00:26:27.540\nSo, I would call the actual\nscript import CSV.PS1.\n\n500\n00:26:27.540 --> 00:26:30.200\nI'm sorry is what I would've\ntyped in in PowerShell.\n\n501\n00:26:30.200 --> 00:26:34.620\nBut you could set up parameters so that\nevery time you ran this import csv.ps1,\n\n502\n00:26:34.620 --> 00:26:38.140\nit prompted you for the file location.\n\n503\n00:26:38.140 --> 00:26:39.960\nSo some really cool stuff\nyou can do with this.\n\n504\n00:26:39.960 --> 00:26:43.710\n>> Yeah, Windows does not leave you in the\nweeds when it comes to actually getting\n\n505\n00:26:43.710 --> 00:26:47.840\nusers and accounts created onto\nthe system in Active Directory.\n\n506\n00:26:47.840 --> 00:26:48.870\nAnd give you plenty of tools.\n\n507\n00:26:48.870 --> 00:26:51.920\nYou've got the GUI,\nwe've got the ability to create templates.\n\n508\n00:26:51.920 --> 00:26:56.210\nWe've got the ability to use just our good\nold command prompt which is available on\n\n509\n00:26:56.210 --> 00:26:58.390\njust about every Microsoft\noperating system.\n\n510\n00:26:58.390 --> 00:27:01.820\nI would say it is available on\nevery Microsoft operating system.\n\n511\n00:27:01.820 --> 00:27:05.400\nAnd we've got the new version with\nPowerShell, which is obviously very,\n\n512\n00:27:05.400 --> 00:27:09.170\nvery powerful, can definitely take\na lot of time off your hands when\n\n513\n00:27:09.170 --> 00:27:14.160\nit comes to doing bulk uploads of user\naccounts into the active directory system.\n\n514\n00:27:14.160 --> 00:27:14.680\nAnd I'll tell you,\n\n515\n00:27:14.680 --> 00:27:17.830\nI'm sure there's a lot of guys out\nthere that know the old school way.\n\n516\n00:27:18.940 --> 00:27:21.230\nThe CDE via, I can't\n>> CSVD?\n\n517\n00:27:21.230 --> 00:27:21.793\n>> Thank you!\n\n518\n00:27:21.793 --> 00:27:23.872\n>> [LAUGH]\n>> Say that three times fast.\n\n519\n00:27:23.872 --> 00:27:25.200\nAnd LDIFDE, right?\n\n520\n00:27:25.200 --> 00:27:29.565\nBut But the PowerShell obviously has the,\nit's more powerful so\n\n521\n00:27:29.565 --> 00:27:34.165\nit would be beneficial as a person that's\nalready getting in to 2012 Server,\n\n522\n00:27:34.165 --> 00:27:35.795\ngo ahead and learn the PowerShell.\n\n523\n00:27:35.795 --> 00:27:40.355\nDon't not learn the others, but you're\nprobably going to be using PowerShell and\n\n524\n00:27:40.355 --> 00:27:42.865\nit's scripting language\nto do this type of stuff.\n\n525\n00:27:42.865 --> 00:27:46.505\n>> I've been working with Server since\nServer 2000 so not that long but\n\n526\n00:27:46.505 --> 00:27:47.530\na little while.\n\n527\n00:27:47.530 --> 00:27:48.250\nAnd it used to be,\n\n528\n00:27:48.250 --> 00:27:53.230\nas you took these exams, CSBD and\nLDIFDE, we're called out on the exams.\n\n529\n00:27:53.230 --> 00:27:54.580\nThey're not as much anymore.\n\n530\n00:27:54.580 --> 00:27:56.750\nYou need to be familiar with them,\nyou need to know that they're there.\n\n531\n00:27:56.750 --> 00:28:00.560\nYou need to know their limitations,\nlike can't set the password.\n\n532\n00:28:00.560 --> 00:28:05.320\nKnow that LDIF can actually modify and\ndelete things.\n\n533\n00:28:05.320 --> 00:28:07.530\nBut really, it's PowerShell.\n\n534\n00:28:07.530 --> 00:28:11.160\nThat's what we need to be familiar\nwith is, to heck with using CSVDE.\n\n535\n00:28:11.160 --> 00:28:14.080\nI can take that CSV file, and\nuse PowerShell to import it.\n\n536\n00:28:14.080 --> 00:28:16.010\nAnd just do so much more.\n\n537\n00:28:16.010 --> 00:28:17.280\n>> Yep a whole lot better.\n\n538\n00:28:17.280 --> 00:28:22.500\nThat being said it looks like we've come\nto an end of another episode of ITProTV.\n\n539\n00:28:22.500 --> 00:28:25.430\nSigning off I'm your host Daniel Lowery.\n\n540\n00:28:25.430 --> 00:28:26.320\n>> And I'm Mike Rodrick.\n\n541\n00:28:26.320 --> 00:28:27.573\n>> And we'll see you next time.\n\n542\n00:28:27.573 --> 00:28:33.770\n[MUSIC]\n\n",
          "vimeoId": "133973367"
        },
        {
          "description": "In this episode Daniel and Mike discuss the tips and tricks to performing bulk operations when working with the Active Directory.",
          "length": "1700",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-14-3-ad_bulk_operation-071715-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-14-3-ad_bulk_operation-071715-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-14-3-ad_bulk_operation-071715-1-sm.jpg",
          "title": "AD Bulk Operation",
          "transcript": "WEBVTT\n\n1\n00:00:00.311 --> 00:00:10.289\n[MUSIC]\n\n2\n00:00:10.289 --> 00:00:14.950\nAll right, greetings everyone and welcome\nto another great episodes of ITProTV.\n\n3\n00:00:14.950 --> 00:00:18.422\nI'm your host, Daniel Lowery, here with\nme today, none other than Mike Roderick,\n\n4\n00:00:18.422 --> 00:00:19.690\nhow's it going today, Mike?\n\n5\n00:00:19.690 --> 00:00:22.860\n>> Oh, it's going fantastic,\nwe are talking about active directory,\n\n6\n00:00:22.860 --> 00:00:24.589\nwhich is one of my favorite topics..\n\n7\n00:00:24.589 --> 00:00:25.171\n>> That's always fun.\n\n8\n00:00:25.171 --> 00:00:29.387\n>> Yeah, it is, it's always fun, and we've\nbeen talking about user accounts, and\n\n9\n00:00:29.387 --> 00:00:33.302\nways that we can create user accounts,\nand ways we can speed up that process,\n\n10\n00:00:33.302 --> 00:00:36.133\nnow what I wanna talk about\nis how we can modify objects,\n\n11\n00:00:36.133 --> 00:00:39.460\nwhat Microsoft calls bulk\noperations in active directory.\n\n12\n00:00:39.460 --> 00:00:43.620\nAnd that just means I wanna change\nproperties on more than one object.\n\n13\n00:00:43.620 --> 00:00:47.550\nNow, we can go into active directory into\nthe GUI and we can double-click on a user\n\n14\n00:00:47.550 --> 00:00:52.760\nand we can set an attribute or a value,\nlike department or company, what have you.\n\n15\n00:00:52.760 --> 00:00:53.690\nBut that's one at a time.\n\n16\n00:00:53.690 --> 00:00:56.550\nIf I got one user to change,\nthat might work just fine.\n\n17\n00:00:56.550 --> 00:00:59.350\nWhat if I have multiple\nusers that I wanna change?\n\n18\n00:00:59.350 --> 00:01:00.910\nDo I have to do it one at a time?\n\n19\n00:01:00.910 --> 00:01:02.390\nClick on each user?\n\n20\n00:01:02.390 --> 00:01:03.650\nAnd the answer is no, we don't.\n\n21\n00:01:03.650 --> 00:01:07.560\nThere's ways we can work with properties\nfor multiple objects at the same time.\n\n22\n00:01:07.560 --> 00:01:08.740\n>> Well, Mike, this sounds like voodoo.\n\n23\n00:01:08.740 --> 00:01:12.630\nThis sounds like I've gotta do some\nsort of deal with a shady kinda guy.\n\n24\n00:01:12.630 --> 00:01:14.810\nBut, it's not really,\nit's a pretty simple process.\n\n25\n00:01:14.810 --> 00:01:15.450\n>> It really is.\n\n26\n00:01:15.450 --> 00:01:16.930\nIt really is.\nThere's a few different ways you can do\n\n27\n00:01:16.930 --> 00:01:18.830\nit, so\nlet's take a look at a couple of those.\n\n28\n00:01:18.830 --> 00:01:22.080\nThe first one I wanna show you here\nis just going through the GUI.\n\n29\n00:01:22.080 --> 00:01:25.660\nWe can actually select multiple\nobjects at the same time.\n\n30\n00:01:25.660 --> 00:01:29.850\nFor example, I got my Host's OU here,\nI got a few user accounts, and\n\n31\n00:01:29.850 --> 00:01:36.370\nall I'm gonna do is select them all and\nthen right-click and choose Properties.\n\n32\n00:01:36.370 --> 00:01:39.200\nAnd what you'll see is I don't\nget all of the properties, right?\n\n33\n00:01:39.200 --> 00:01:42.050\nIf I do this again,\nlet's select just one user real quick,\n\n34\n00:01:42.050 --> 00:01:46.110\na user account has lots and\nlots of properties that we can set.\n\n35\n00:01:46.110 --> 00:01:51.282\nBut when I select multiple objects, I\ndon't get that entire list because I can't\n\n36\n00:01:51.282 --> 00:01:54.870\nchange, some properties you can't change\nwhen you have multiple objects selected.\n\n37\n00:01:54.870 --> 00:01:58.060\nSome of it doesn't even make sense,\nlike logon name or SAM account name.\n\n38\n00:01:58.060 --> 00:02:01.800\nYou can't change every one of their\nSAM account names to be the same.\n\n39\n00:02:01.800 --> 00:02:02.878\nThat wouldn't work.\n\n40\n00:02:02.878 --> 00:02:06.870\nSo it's only showing me the attributes\nthat I can change when I have\n\n41\n00:02:06.870 --> 00:02:09.030\nmultiple items selected.\n\n42\n00:02:09.030 --> 00:02:10.450\nSo I've got multiple items selected,\n\n43\n00:02:10.450 --> 00:02:13.190\nI could go over here to Organization and\nthis is my Host's OU, and\n\n44\n00:02:13.190 --> 00:02:17.580\nI want to put all of those user\naccounts in the Host's Department.\n\n45\n00:02:17.580 --> 00:02:19.320\nSo I can just check that\nlittle check mark for\n\n46\n00:02:19.320 --> 00:02:23.080\nthe attribute that I want to change,\nand type in Hosts and click OK.\n\n47\n00:02:23.080 --> 00:02:28.230\nAnd now when I go look at one of these\nuser accounts, Hosts for the Department.\n\n48\n00:02:28.230 --> 00:02:33.000\nIf I take a look at another one,\nHosts for the Department.\n\n49\n00:02:33.000 --> 00:02:35.780\nSo I can select multiple\nobjects at the same time and\n\n50\n00:02:35.780 --> 00:02:37.390\nI can change those properties.\n\n51\n00:02:37.390 --> 00:02:39.980\nAnd that works well if they're\nall in the same OU, right?\n\n52\n00:02:39.980 --> 00:02:43.510\nI can get them all on the same screen or\nI can see them all at the same time.\n\n53\n00:02:43.510 --> 00:02:46.960\nWhat if I wanted to change properties\nthat had these user accounts, but\n\n54\n00:02:46.960 --> 00:02:49.240\nI also wanted to change\nthese guys over here?\n\n55\n00:02:49.240 --> 00:02:54.310\nWell I can't select these guys and\ngo back here and select these guys, right?\n\n56\n00:02:54.310 --> 00:02:57.410\nBecause now,\nthe other ones aren't selected anymore.\n\n57\n00:02:57.410 --> 00:02:59.720\nSo, how can I do that?\n\n58\n00:02:59.720 --> 00:03:00.840\nHow can we go and change objects?\n\n59\n00:03:00.840 --> 00:03:01.740\nAnd let me show you.\n\n60\n00:03:01.740 --> 00:03:04.320\nFirst, let me change,\nlet's do this one more time.\n\n61\n00:03:04.320 --> 00:03:09.500\nI'm just gonna set their Department\nas something like Production.\n\n62\n00:03:12.100 --> 00:03:12.820\nAnd, there we go.\n\n63\n00:03:12.820 --> 00:03:15.830\nAgain, changing properties for\nmultiple objects selected.\n\n64\n00:03:15.830 --> 00:03:19.380\nSo, if I wanna change properties for\nmultiple objects, but\n\n65\n00:03:19.380 --> 00:03:24.170\nthey're not all in the same OU, the best\nway to do that is to use PowerShell.\n\n66\n00:03:24.170 --> 00:03:28.800\nPowerShell gives me the ability to write\nqueries, so that I can select objectives\n\n67\n00:03:28.800 --> 00:03:31.640\nin active directory and\nthey don't all have to be together.\n\n68\n00:03:31.640 --> 00:03:35.830\nWe can select them based on different\nattributes of those user accounts.\n\n69\n00:03:35.830 --> 00:03:39.370\nFor example, let's see, I've got one\nthat I typed up a minute ago, so\n\n70\n00:03:39.370 --> 00:03:42.090\nyou guys wouldn't have to watch\nme fumble on the keyboard here.\n\n71\n00:03:42.090 --> 00:03:45.300\nHere's a simple command, get-aduser, and\n\n72\n00:03:45.300 --> 00:03:49.390\nI'm doing a -filter and\nlet's actually change that.\n\n73\n00:03:49.390 --> 00:03:54.550\nLet's start with something\na little bit simpler.\n\n74\n00:03:54.550 --> 00:03:56.600\nI'm gonna come back here and\nget rid of all of that.\n\n75\n00:03:56.600 --> 00:03:59.112\nI'm just gonna put an asterisk there.\n\n76\n00:03:59.112 --> 00:04:03.430\nSo -filter all, and\nI want to see the company properties,\n\n77\n00:04:03.430 --> 00:04:06.560\nsee what that's set to, and\nI've got this SearchBase.\n\n78\n00:04:06.560 --> 00:04:09.494\nThat tells it where do you\nwant to start the search.\n\n79\n00:04:09.494 --> 00:04:13.760\nAnd I'm telling it the employee's OU\nbecause I'm not worried about any accounts\n\n80\n00:04:13.760 --> 00:04:18.840\nthat might be in other OUs, so I'm\nlimiting the search to the employee's OU.\n\n81\n00:04:18.840 --> 00:04:23.190\nAnd then I'm telling it,\nthere's the path to the OU, OU=employees.\n\n82\n00:04:23.190 --> 00:04:28.392\nWhat a distinguished name for that OU, and\nthen SearchScope, include the Subtree,\n\n83\n00:04:28.392 --> 00:04:33.700\nwhich means if there's any nested OUs,\nit should include those in that search.\n\n84\n00:04:33.700 --> 00:04:37.560\nSo, I hit enter, and there, I can see my\nresults, and let's make that a little bit\n\n85\n00:04:37.560 --> 00:04:41.960\nbigger, I can scroll up, and you can see\nI've selected all those user accounts.\n\n86\n00:04:41.960 --> 00:04:48.540\nThe ones that were in the Hosts OU, and\nsee like, here's my template there,\n\n87\n00:04:48.540 --> 00:04:53.400\nhere's my account, that's in the Hosts OU,\nbut as I scroll through here,\n\n88\n00:04:53.400 --> 00:04:56.590\nhere's an account, Nate's account is\nactually in the Production OU, so\n\n89\n00:04:56.590 --> 00:05:01.950\nnow I've got a list of employees that\nare in different OUs, all right?\n\n90\n00:05:01.950 --> 00:05:04.330\nSo, that's the first step,\nyou gotta write the query.\n\n91\n00:05:04.330 --> 00:05:09.350\nAnd in this case,\nI used a simple filter, and all.\n\n92\n00:05:09.350 --> 00:05:12.150\nYou can do a filter, like I only\nwanted to see the users whose last\n\n93\n00:05:12.150 --> 00:05:14.740\nnames started with R, and\nor something like that.\n\n94\n00:05:14.740 --> 00:05:17.340\nHere I just left it as an asterisk,\nwhich means everything.\n\n95\n00:05:17.340 --> 00:05:19.260\nAnd it doesn't matter what OU they're in.\n\n96\n00:05:19.260 --> 00:05:21.790\nI'm telling it to search that Subtree.\n\n97\n00:05:21.790 --> 00:05:27.150\nSo, now that I've got a query that\nI can use to return those users,\n\n98\n00:05:27.150 --> 00:05:32.820\nPowerShell gives me the ability to take\nthat and pipe it in to another command.\n\n99\n00:05:32.820 --> 00:05:33.970\nVery, very cool.\n\n100\n00:05:33.970 --> 00:05:35.760\nSome very powerful stuff.\n\n101\n00:05:35.760 --> 00:05:40.470\nFor example, let's say I want\nto set the company to a value.\n\n102\n00:05:40.470 --> 00:05:43.300\nLike, if we look at all\nthese user accounts,\n\n103\n00:05:43.300 --> 00:05:46.180\ntheir company is blank, currently, right?\n\n104\n00:05:46.180 --> 00:05:48.520\nCompany, nothing set there.\n\n105\n00:05:48.520 --> 00:05:52.140\nThere is one though,\nif I scroll back up somewhere.\n\n106\n00:05:52.140 --> 00:05:55.490\nMy template actually has the company set.\n\n107\n00:05:55.490 --> 00:05:58.350\nSo lets say that I wanna set the company,\nbut\n\n108\n00:05:58.350 --> 00:06:00.950\nonly to those that have a blank company.\n\n109\n00:06:00.950 --> 00:06:06.020\nSo a way I can do that is I can take this\nfilter, I can rewrite that filter, and\n\n110\n00:06:06.020 --> 00:06:10.766\ninstead of just doing the asterisk,\nnotice what I am doing here, get-aduser,\n\n111\n00:06:10.766 --> 00:06:16.460\n-filter, where company\nis not like anything.\n\n112\n00:06:16.460 --> 00:06:20.250\nSo this is gonna give me a,\nanywhere where the company is blank, so\n\n113\n00:06:20.250 --> 00:06:26.095\nif I run that command, now I can see that\nthe template has been left out, because\n\n114\n00:06:26.095 --> 00:06:31.255\nthe company's template, or the template's\ncompany value, excuse me, was already set.\n\n115\n00:06:31.255 --> 00:06:35.605\nSo it left that out of my\nsearch results there, right?\n\n116\n00:06:35.605 --> 00:06:36.385\nSo that's the first step.\n\n117\n00:06:36.385 --> 00:06:40.165\nWhen you wanna do a bulk operation,\nthe first thing you have to figure out is,\n\n118\n00:06:40.165 --> 00:06:42.380\nhow do I select all of those objects?\n\n119\n00:06:42.380 --> 00:06:45.620\nAnd you do that by writing a query, right?\n\n120\n00:06:45.620 --> 00:06:49.240\nNow that I've got the query\nthat's gonna return the objects,\n\n121\n00:06:49.240 --> 00:06:54.770\nI can simply take that and\npipe it out into another command.\n\n122\n00:06:54.770 --> 00:06:59.960\nIn this case,\nI wanna do a set-aduser, right?\n\n123\n00:06:59.960 --> 00:07:05.650\nSo I'm gonna set a property and\nthe property that I wanna set,\n\n124\n00:07:05.650 --> 00:07:10.802\nI'm gonna do -company, and\nI wanna set it to ITProTV.\n\n125\n00:07:10.802 --> 00:07:11.750\nNow I go ahead and hit enter.\n\n126\n00:07:12.940 --> 00:07:17.090\nAnd I don't get any results back, but\nnow if I run that first command where\n\n127\n00:07:17.090 --> 00:07:22.210\ncompany not like anything,\nnotice I get nothing back, right?\n\n128\n00:07:22.210 --> 00:07:25.680\nBecause I just set all their property,\nor all of their companies.\n\n129\n00:07:25.680 --> 00:07:26.350\nLet's take a look at,\n\n130\n00:07:26.350 --> 00:07:29.830\nI can figure out a way to show you that,\nfind that asterisk one there.\n\n131\n00:07:31.700 --> 00:07:32.460\nAnd there you go.\n\n132\n00:07:32.460 --> 00:07:37.650\nCompany has been set to ITProTV\non each one of those accounts.\n\n133\n00:07:37.650 --> 00:07:39.770\nThat's very, very powerful stuff.\n\n134\n00:07:39.770 --> 00:07:42.504\nA lot of the time like, Dan,\nwe were talking the other day or\n\n135\n00:07:42.504 --> 00:07:46.280\nyesterday about going through active\ndirectory and reorganizing everything.\n\n136\n00:07:46.280 --> 00:07:49.796\nAnd we had said how, at the beginning of\nthis show, it's really important to set\n\n137\n00:07:49.796 --> 00:07:52.659\nall those properties, but\na lot of times, it doesn't get done.\n\n138\n00:07:52.659 --> 00:07:54.178\nWell, now we have ways we can go in and\n\n139\n00:07:54.178 --> 00:07:57.370\nfind all those accounts that nobody\never filled out the department.\n\n140\n00:07:57.370 --> 00:07:58.026\nAnd we can fill it out.\n\n141\n00:07:58.026 --> 00:08:00.941\n>> Yeah, I love that you can\nuse PowerShell to get it and\n\n142\n00:08:00.941 --> 00:08:02.140\nthen set it, right?\n\n143\n00:08:02.140 --> 00:08:05.880\nSo if you get a nice little mnemonic\nthere to help you remember that for\n\n144\n00:08:05.880 --> 00:08:09.350\nyour business, when you're out\nthere actually working with this,\n\n145\n00:08:09.350 --> 00:08:11.210\nkeeps that right at\nthe front of your mind.\n\n146\n00:08:11.210 --> 00:08:11.840\nI like that.\n\n147\n00:08:11.840 --> 00:08:12.630\n>> Absolutely.\n\n148\n00:08:12.630 --> 00:08:15.510\nNow I will give you one word of advice,\nall right.\n\n149\n00:08:15.510 --> 00:08:16.980\nAny time you're gonna do a set command,\n\n150\n00:08:16.980 --> 00:08:21.290\nlike you're gonna use a get command\nto retrieve a list of objects and\n\n151\n00:08:21.290 --> 00:08:25.470\nthen you're gonna pipe that into\na set command to change some value,\n\n152\n00:08:25.470 --> 00:08:29.820\nalways run your get command first\nwithout the set part, right?\n\n153\n00:08:29.820 --> 00:08:32.980\nLeave the pipe set thing off at first.\n\n154\n00:08:32.980 --> 00:08:36.570\nMake sure it's returning what\nyou expect it to return, right?\n\n155\n00:08:36.570 --> 00:08:39.450\nBecause, what if you made\na typo in that first part?\n\n156\n00:08:39.450 --> 00:08:42.610\nWhat if I forgot to limit\nit to that particular OU.\n\n157\n00:08:42.610 --> 00:08:44.820\nAnd here's an example,\nhere's something I've done.\n\n158\n00:08:44.820 --> 00:08:50.240\nYou can run a command,\nget -ADUser where last log on date\n\n159\n00:08:50.240 --> 00:08:54.470\nis less than, I don't know,\nJanuary of 2012 or something like that.\n\n160\n00:08:54.470 --> 00:08:58.300\nSo any account that hasn't logged\non since 2012, I wanna disable it.\n\n161\n00:08:58.300 --> 00:09:00.350\nWell, I might write that command out,\nvery easy to do,\n\n162\n00:09:00.350 --> 00:09:05.370\nand then just pipe that into a disabled\nAzure AD User Account or AD User.\n\n163\n00:09:05.370 --> 00:09:06.270\nOkay?\n\n164\n00:09:06.270 --> 00:09:07.550\nWell what if I wrote that wrong?\n\n165\n00:09:07.550 --> 00:09:13.100\nWhat if I said anybody that hasn't\nlogged on since January of 2016, right?\n\n166\n00:09:14.210 --> 00:09:18.970\nGet every account in active directory,\nand I pipe it out into a disable account,\n\n167\n00:09:18.970 --> 00:09:22.950\nI could end up disabling every account in\nactive directory with one simple click.\n\n168\n00:09:22.950 --> 00:09:25.900\nSo very powerful stuff, but\nyou have to respect the power, right?\n\n169\n00:09:25.900 --> 00:09:29.200\n>> Yeah, that would be bad, Mike,\nif you disabled everybody in AD,\n\n170\n00:09:29.200 --> 00:09:31.940\nespecially if it's your own account.\n\n171\n00:09:31.940 --> 00:09:32.920\n[LAUGH] which It can do it.\n\n172\n00:09:32.920 --> 00:09:33.980\nSo Mike's right.\n\n173\n00:09:33.980 --> 00:09:37.410\nYou need to trust yourself,\nbut also verify your work.\n\n174\n00:09:37.410 --> 00:09:39.580\nIt's easy to make a typo, make a mistake.\n\n175\n00:09:39.580 --> 00:09:41.720\nSo always verify everything before you,\n\n176\n00:09:41.720 --> 00:09:45.940\nespecially in a production environment,\nthat you're gonna make some major changes.\n\n177\n00:09:45.940 --> 00:09:46.540\nSomething like that,\n\n178\n00:09:46.540 --> 00:09:51.030\nyou're gonna go through an entire AD\nsystem maybe and put a company name.\n\n179\n00:09:51.030 --> 00:09:53.230\nWell you think that's not a big deal.\n\n180\n00:09:53.230 --> 00:09:55.760\nUntil you've accidentally\ndone something wrong and\n\n181\n00:09:55.760 --> 00:10:00.177\ntrust me you don't wanna have\nthe boss going, what have you done?\n\n182\n00:10:00.177 --> 00:10:02.740\n[LAUGH] Just verify your work\nbefore you go ahead with it.\n\n183\n00:10:02.740 --> 00:10:03.970\nBut we do have that power.\n\n184\n00:10:03.970 --> 00:10:05.890\nIt is there built into the power shaft.\n\n185\n00:10:05.890 --> 00:10:07.655\n>> Absolutely\n>> It's too easy to do, so\n\n186\n00:10:07.655 --> 00:10:10.345\nany time you're doing\na bulk operation make sure\n\n187\n00:10:10.345 --> 00:10:14.555\nyou test your commands before\nyou actually change anything.\n\n188\n00:10:14.555 --> 00:10:18.005\nAll right, so that's a couple of\ndifferent ways we can make changes to, or\n\n189\n00:10:18.005 --> 00:10:20.470\nwhat they call bulk operations\nin Active Directory.\n\n190\n00:10:20.470 --> 00:10:21.910\nWe saw we could do it in the GUI.\n\n191\n00:10:21.910 --> 00:10:24.390\nWe saw we could do it\nin PowerShell as well.\n\n192\n00:10:24.390 --> 00:10:27.870\nDon't forget from the other episode we\ncould use L div de that would modify\n\n193\n00:10:27.870 --> 00:10:29.860\nobjects as well.\n\n194\n00:10:29.860 --> 00:10:32.840\nAll right, next thing I want to\ntalk about is something called\n\n195\n00:10:33.970 --> 00:10:36.060\noffline domain join all right?\n\n196\n00:10:36.060 --> 00:10:38.700\nNow this is something\nrelatively new to Microsoft.\n\n197\n00:10:38.700 --> 00:10:41.930\nI wanna say 2012,\nmight have been in 2008 but,\n\n198\n00:10:41.930 --> 00:10:46.060\nit definitely a part of 2012 R2,\nso it could be on our exam.\n\n199\n00:10:46.060 --> 00:10:48.100\nAnd an offline domain join,\n\n200\n00:10:48.100 --> 00:10:53.140\nthe name kind of implies what\nwe're gonna be talking about.\n\n201\n00:10:53.140 --> 00:10:57.740\nNormally, when you join a computer to\nthe domain, it has to be able to contact\n\n202\n00:10:57.740 --> 00:11:02.210\nthe domain controller 'cuz it has to\ncreate an account in Active Directory or\n\n203\n00:11:02.210 --> 00:11:05.410\nit has to verify that there already\nis an account in Active Directory.\n\n204\n00:11:05.410 --> 00:11:09.880\nAnd that's when it establishes that\nlink between the physical computer and\n\n205\n00:11:09.880 --> 00:11:12.170\nthat object that exists\nin Active Directory.\n\n206\n00:11:12.170 --> 00:11:14.950\nThat's what you're doing when\nyou join a computer to domain.\n\n207\n00:11:14.950 --> 00:11:19.060\nSo if you do not have network connectivity\nyou won't be able to join that computer to\n\n208\n00:11:19.060 --> 00:11:20.810\nthe domain.\n\n209\n00:11:20.810 --> 00:11:21.870\nUntil now.\n\n210\n00:11:21.870 --> 00:11:26.260\nNow we have something known as offline\ndomain join and what's gonna happen is\n\n211\n00:11:26.260 --> 00:11:29.850\nwe're gonna be able to, we're gonna be\nable to join this computer to the domain\n\n212\n00:11:29.850 --> 00:11:33.030\neven though it doesn't have\nconnectivity to the domain controller.\n\n213\n00:11:33.030 --> 00:11:37.550\nThe way it works is we're gonna run one\ncommand on the domain controller and\n\n214\n00:11:37.550 --> 00:11:40.080\nthat's gonna provision\nthe computer account.\n\n215\n00:11:40.080 --> 00:11:43.720\nIt's gonna go ahead and\nprecreate the account for that computer.\n\n216\n00:11:43.720 --> 00:11:46.630\nAnd then we're going to go to the computer\nthat doesn't have connectivity to\n\n217\n00:11:46.630 --> 00:11:50.160\nthe domain controller and we're going\nto run another command over there\n\n218\n00:11:50.160 --> 00:11:53.880\nthat's going to basically\nprocess the data.\n\n219\n00:11:53.880 --> 00:11:57.120\nWell the output from the command\nwe run on the domain controller,\n\n220\n00:11:57.120 --> 00:11:58.300\nit generates a file.\n\n221\n00:11:58.300 --> 00:12:00.540\nWe take that file over\nto that client machine.\n\n222\n00:12:00.540 --> 00:12:03.650\nAnd when I say client it could be\na server, it doesn't have to be a client.\n\n223\n00:12:03.650 --> 00:12:08.570\nWe take that file over to that machine and\nwe run this DJoin command again and\n\n224\n00:12:08.570 --> 00:12:12.340\nthat basically tells that machine\nthat it's part of the domain.\n\n225\n00:12:12.340 --> 00:12:16.240\nSo at that point the domain\ncontroller knows about the computer,\n\n226\n00:12:16.240 --> 00:12:20.520\nthere's an object in Active Directory,\nthe computer knows that he's part of this\n\n227\n00:12:20.520 --> 00:12:24.580\ndomain, even though he's never actually\ntalked to the domain controller.\n\n228\n00:12:24.580 --> 00:12:28.680\nNow, the process isn't finished, until\nyou've established network connectivity.\n\n229\n00:12:28.680 --> 00:12:30.770\nOnce you connect the computer\nto the network, and\n\n230\n00:12:30.770 --> 00:12:34.200\nit can talk to the domain controller,\nit finishes up the process.\n\n231\n00:12:34.200 --> 00:12:39.090\nAnd, the idea is that when I'm deploying,\nlike the only really place I've seen this\n\n232\n00:12:39.090 --> 00:12:46.260\nuseful is when you're deploying hundreds\nof machines in, like, a data center.\n\n233\n00:12:46.260 --> 00:12:48.510\nSo you're whipping out all\nthese virtual machines and\n\n234\n00:12:48.510 --> 00:12:52.010\nmaybe you don't have connectivity\nback to the domain controller yet.\n\n235\n00:12:52.010 --> 00:12:55.430\nYou can do some of this stuff during\nthe installation process, and\n\n236\n00:12:55.430 --> 00:12:58.100\nin the end you can try to save\n\n237\n00:12:58.100 --> 00:13:02.240\none of the reboots that has to occur\nduring that domain join process.\n\n238\n00:13:02.240 --> 00:13:03.480\nOther than that, Daniel,\n\n239\n00:13:03.480 --> 00:13:06.740\nI haven't seen too many places where\nI've found this all that useful.\n\n240\n00:13:06.740 --> 00:13:09.470\n>> I've thought about it because we\nwere discussing this before the show and\n\n241\n00:13:09.470 --> 00:13:11.430\nwe were kind of having trouble, and\nI did think about it a little bit.\n\n242\n00:13:11.430 --> 00:13:15.860\nIt would be good for things like if\nI was putting up a new branch office.\n\n243\n00:13:15.860 --> 00:13:20.630\nThat could definitely, cuz I might not\nhave Internet connectivity at that office\n\n244\n00:13:20.630 --> 00:13:24.000\nquite yet, or maybe not WAN connectivity,\nmaybe just Internet connectivity.\n\n245\n00:13:24.000 --> 00:13:26.130\nSo I can't talk to my domain\ncontrollers at that point.\n\n246\n00:13:26.130 --> 00:13:29.280\nBut I could still go in that office,\nset up all the machines, and\n\n247\n00:13:29.280 --> 00:13:31.770\nas soon as that final step was done,\neverything's done.\n\n248\n00:13:31.770 --> 00:13:33.670\nAll you gotta do is do those reboots.\n\n249\n00:13:33.670 --> 00:13:35.180\nAnd so it could save you some time there.\n\n250\n00:13:35.180 --> 00:13:37.970\nYou're not waiting for\nsomething to be done.\n\n251\n00:13:37.970 --> 00:13:41.000\nYou can still do all your basic steps and\n\n252\n00:13:41.000 --> 00:13:43.080\nonly the last one is there waiting for\nyou.\n\n253\n00:13:43.080 --> 00:13:44.800\nSo it could be helpful in that.\n\n254\n00:13:44.800 --> 00:13:47.520\nSo that you're not sitting around,\nwaiting to get stuff done.\n\n255\n00:13:47.520 --> 00:13:53.210\nYou can do all the legwork and then once\nthat Internet connectivity comes in,\n\n256\n00:13:53.210 --> 00:13:55.290\nyou can talk to those domain controllers.\n\n257\n00:13:55.290 --> 00:13:56.110\nYou should be good to go.\n\n258\n00:13:56.110 --> 00:13:57.610\nSo that could be helpful there.\n\n259\n00:13:57.610 --> 00:13:59.090\n>> Yep.\nAll right, so let's try it out.\n\n260\n00:13:59.090 --> 00:14:00.830\nLet's take a look at how\nit's gonna work here.\n\n261\n00:14:00.830 --> 00:14:03.920\nI'm gonna on my,\nI'm on my domain controller right now and\n\n262\n00:14:03.920 --> 00:14:08.960\nI'm gonna open up a command prompt and\nI've already typed out the command.\n\n263\n00:14:08.960 --> 00:14:12.910\nThe command is DJOIN/provision,\ngo ahead and create the account.\n\n264\n00:14:12.910 --> 00:14:17.990\nFor the domain, in the domain\nlab.net the name of the machine is\n\n265\n00:14:17.990 --> 00:14:23.450\ngonna be client02 and then where do I\nwant to save the output of this command,\n\n266\n00:14:23.450 --> 00:14:28.770\nforward slash save file,\nc colon back slash, client 02 dot txt.\n\n267\n00:14:28.770 --> 00:14:30.450\nSo I'll go ahead and\nhit enter on that one.\n\n268\n00:14:31.570 --> 00:14:32.180\nAnd there we go.\n\n269\n00:14:32.180 --> 00:14:35.260\nProvisioning the computer,\nsuccessfully provisioned client 02.\n\n270\n00:14:35.260 --> 00:14:37.180\nYadda yadda yadda.\n\n271\n00:14:37.180 --> 00:14:39.470\nAnd now I'll flip over\nto active directory.\n\n272\n00:14:40.530 --> 00:14:43.450\nAnd let me refresh this\ncomputer's container and\n\n273\n00:14:43.450 --> 00:14:46.080\nthere I can see an account for Client 02.\n\n274\n00:14:46.080 --> 00:14:48.790\nSo it's already created\nthat computer account\n\n275\n00:14:48.790 --> 00:14:52.880\neven though that computer has not\ntalked to the domain controller yet.\n\n276\n00:14:52.880 --> 00:14:56.060\nAll right now what I'm gonna do is\nI'm gonna switch over to the client.\n\n277\n00:14:57.240 --> 00:15:01.180\nNow in the real world what I would\nnormally do is email that file\n\n278\n00:15:01.180 --> 00:15:04.420\nto the person out there at the branch\noffice or put it on a thumb drive and\n\n279\n00:15:04.420 --> 00:15:06.600\nsend it to them or something like that.\n\n280\n00:15:06.600 --> 00:15:09.540\nHere I'm gonna cheat, and\nI'm just gonna reach out and\n\n281\n00:15:09.540 --> 00:15:12.480\ncopy that file in this\nlittle lab environment.\n\n282\n00:15:12.480 --> 00:15:20.000\nSo DCA1, and what, C$, and\nthere's that output from that command.\n\n283\n00:15:20.000 --> 00:15:23.990\nSo I'm gonna copy that and I'm gonna\npaste it on my local C drive here.\n\n284\n00:15:28.721 --> 00:15:29.420\nIf it'll let me.\n\n285\n00:15:30.800 --> 00:15:34.430\nAnd I don't have permission so how about\nI put it, let me make a new folder,\n\n286\n00:15:34.430 --> 00:15:39.150\nthink it'll let me do that.\n\n287\n00:15:43.305 --> 00:15:44.243\nOkay, I put a file there,\n\n288\n00:15:44.243 --> 00:15:46.570\nbut I can't create a folder there\nunless there's a file there.\n\n289\n00:15:46.570 --> 00:15:47.490\n>> Interesting.\n\n290\n00:15:47.490 --> 00:15:48.002\n>> Oh go figure.\n\n291\n00:15:48.002 --> 00:15:51.053\nAll right, so like I said, in the real\nworld that probably would have got\n\n292\n00:15:51.053 --> 00:15:53.921\nemailed to me or come across on\na thumb drive or something like that.\n\n293\n00:15:53.921 --> 00:15:57.370\nBecause remember they don't have\nnetwork connectivity at this point.\n\n294\n00:15:57.370 --> 00:15:58.765\nIn fact, let's simulate that.\n\n295\n00:15:58.765 --> 00:16:01.930\nI'm gonna go up here to my-\n>> See in the real world,\n\n296\n00:16:01.930 --> 00:16:04.330\nyou would've probably been\ngoing out to that office.\n\n297\n00:16:04.330 --> 00:16:07.680\nAnd you have the thumb drive in your hand,\nand\n\n298\n00:16:07.680 --> 00:16:09.510\nyou would be doing it as an administrator.\n\n299\n00:16:09.510 --> 00:16:10.582\n>> Most likely.\n\n300\n00:16:10.582 --> 00:16:11.870\n[LAUGH]\n>> [LAUGH]\n\n301\n00:16:11.870 --> 00:16:12.603\n>> All right, so\n\n302\n00:16:12.603 --> 00:16:15.270\nI just disconnected my network adapter.\n\n303\n00:16:15.270 --> 00:16:21.992\nIn fact you can see down here that\nI have no network connectivity.\n\n304\n00:16:21.992 --> 00:16:25.100\nAll right, so I'm going to run\nthe command on the client side.\n\n305\n00:16:25.100 --> 00:16:28.830\nI've copied that file over to here or\nto the local drive.\n\n306\n00:16:28.830 --> 00:16:35.275\nI'm going to type in dejoin /requestodj,\nrequest offline domain join.\n\n307\n00:16:35.275 --> 00:16:36.740\n/loadfile.\n\n308\n00:16:36.740 --> 00:16:38.430\nAnd then the path, and\n\n309\n00:16:38.430 --> 00:16:41.880\nthat path is gonna change since\nI had to put it in that folder.\n\n310\n00:16:41.880 --> 00:16:45.280\nLet's do a little script.\n\n311\n00:16:45.280 --> 00:16:48.165\nDog-gone-it.\n\n312\n00:16:48.165 --> 00:16:53.395\nIt took away all my stuff, and\nthat was what client02.txt, and\n\n313\n00:16:53.395 --> 00:16:58.893\nthen the rest of that command\nis going to be /windows path.\n\n314\n00:16:58.893 --> 00:17:03.435\nYou have to tell it where\nthe operating system is C:\\windows.\n\n315\n00:17:03.435 --> 00:17:06.895\nAnd then you have to target the local OS.\n\n316\n00:17:09.410 --> 00:17:10.110\nAll right.\n\n317\n00:17:10.110 --> 00:17:13.800\nSo again it's request odj/load file.\n\n318\n00:17:13.800 --> 00:17:18.640\nAnd where ever you've copied that file to,\nforward slash Windows path, and\n\n319\n00:17:18.640 --> 00:17:21.090\nthen the path to the Windows directory.\n\n320\n00:17:21.090 --> 00:17:23.760\nAnd then forward slash local os.\n\n321\n00:17:23.760 --> 00:17:24.860\nAnd I should be able to hit enter.\n\n322\n00:17:26.680 --> 00:17:29.690\nAnd there we go, the provisioning\nrequest completed successfully,\n\n323\n00:17:29.690 --> 00:17:33.810\na reboot is required for the changes to be\napplied, operation completed successfully.\n\n324\n00:17:33.810 --> 00:17:37.480\nSo at this point,\nthis guy thinks he's part of the domain.\n\n325\n00:17:37.480 --> 00:17:42.200\nAnd we'll go ahead and\nreboot it to finish that,\n\n326\n00:17:42.200 --> 00:17:46.740\nwell, I mean at this point you could\ncontinue working with this machine.\n\n327\n00:17:46.740 --> 00:17:55.900\nThough, once we reboot this guy I'll give\nit a quick reboot, and we'll log back in.\n\n328\n00:17:55.900 --> 00:17:57.490\nAgain still no network connectivity,\nright?\n\n329\n00:17:57.490 --> 00:18:00.440\nSo it hasn't actually talked\nto the domain controller.\n\n330\n00:18:02.490 --> 00:18:07.300\nAnd this is where I sometimes have\na little issue with this request ODJ.\n\n331\n00:18:07.300 --> 00:18:10.840\nCuz what you're gonna see is this\ncomputer is not all that useful\n\n332\n00:18:10.840 --> 00:18:14.570\nuntil I actually talk to the domain\ncontroller and finish the process.\n\n333\n00:18:14.570 --> 00:18:16.620\nBut I'll show you what I mean\nhere as soon as this guy reboots.\n\n334\n00:18:18.370 --> 00:18:23.480\nSo it's loading back up, and\nonce I get to my log on screen.\n\n335\n00:18:25.480 --> 00:18:26.410\n>> Just so pretty.\n\n336\n00:18:26.410 --> 00:18:27.310\n>> It is, it is so nice.\n\n337\n00:18:27.310 --> 00:18:28.440\n>> A lovely little blue window.\n\n338\n00:18:28.440 --> 00:18:29.310\n>> I like that.\n\n339\n00:18:31.560 --> 00:18:35.890\n>> It's thinking about it here,\nit's taking its sweet time today,\n\n340\n00:18:35.890 --> 00:18:39.690\nof course, since I'm trying\nto show you guys something.\n\n341\n00:18:39.690 --> 00:18:41.640\nThere we go.\n\n342\n00:18:41.640 --> 00:18:43.230\nMaybe.\n\n343\n00:18:44.900 --> 00:18:47.590\nCome on baby, you can do it.\n\n344\n00:18:47.590 --> 00:18:49.880\nAnd again,\nit's processing up that information.\n\n345\n00:18:49.880 --> 00:18:53.400\nIt's basically processing that file.\n\n346\n00:18:53.400 --> 00:18:55.610\nThe name of the domain,\nand all that good stuff.\n\n347\n00:18:55.610 --> 00:18:57.860\n>> Now even though this thinks\nit's joining the domain,\n\n348\n00:18:57.860 --> 00:19:01.190\nwe're not gonna be able to like log in\nusing our domain credentials, right Mike?\n\n349\n00:19:01.190 --> 00:19:01.930\n>> Exactly.\n\n350\n00:19:01.930 --> 00:19:04.660\nAnd that's really my\nbig problem with this.\n\n351\n00:19:06.050 --> 00:19:08.580\nIs it really didn't speed anything up.\n\n352\n00:19:08.580 --> 00:19:10.490\nYou didn't save any time.\n\n353\n00:19:10.490 --> 00:19:12.510\nYou can't log on with domain credentials.\n\n354\n00:19:12.510 --> 00:19:15.640\nGroup policy is not gonna\nbe applied to this machine.\n\n355\n00:19:15.640 --> 00:19:19.050\nNone of that's gonna happen until I\nactually get the network connectivity.\n\n356\n00:19:19.050 --> 00:19:21.780\nSo in my mind,\nit's almost like why not just\n\n357\n00:19:21.780 --> 00:19:26.080\nwait until I get the network connectivity,\nand do the normal domain join process?\n\n358\n00:19:26.080 --> 00:19:29.200\nWhy take the time to\nship a file out there,\n\n359\n00:19:30.860 --> 00:19:34.260\nespecially when the file\nis unique to this machine?\n\n360\n00:19:34.260 --> 00:19:38.960\nIt's not like I could copy that\nfile to the 100 machines I have.\n\n361\n00:19:38.960 --> 00:19:44.430\nI need a separate file for each machine\ncuz it's got that machine name in there.\n\n362\n00:19:44.430 --> 00:19:48.050\nSo I struggle sometimes trying\nto find the usefulness of this,\n\n363\n00:19:48.050 --> 00:19:50.440\nbut Microsoft feels it is useful.\n\n364\n00:19:50.440 --> 00:19:51.450\nI'm sure it is somewhere.\n\n365\n00:19:51.450 --> 00:19:55.000\nI've never been in a big data center\nenvironment where I'm rolling out a 1000\n\n366\n00:19:55.000 --> 00:19:57.300\nvirtual machines at a time.\n\n367\n00:19:57.300 --> 00:19:59.210\nSo there's probably something there.\n\n368\n00:19:59.210 --> 00:20:00.380\nSomebody finds it useful.\n\n369\n00:20:00.380 --> 00:20:04.580\n>> Yeah I've literally never had\nto use this tool in practicality.\n\n370\n00:20:04.580 --> 00:20:08.070\nIt's just Like you said we can\njust sit behind the computer, and\n\n371\n00:20:08.070 --> 00:20:09.740\nyou got network connectivity.\n\n372\n00:20:09.740 --> 00:20:13.340\nAnd you right-click on\nthe System Properties, and go from there.\n\n373\n00:20:13.340 --> 00:20:17.390\nDo all the renaming, and the joining of\nthe domain, and you're good to go, and\n\n374\n00:20:17.390 --> 00:20:18.496\nit's done.\n\n375\n00:20:18.496 --> 00:20:23.490\nBut I guess, again,\nif it was having to roll out a bunch of\n\n376\n00:20:23.490 --> 00:20:28.580\nPCs is the only real, beneficial\nreason that we would want to use this.\n\n377\n00:20:28.580 --> 00:20:31.310\nAnd again, all those files are unique\nto each one of the computers.\n\n378\n00:20:31.310 --> 00:20:32.980\n>> Yeah.\n>> You're still going to have some\n\n379\n00:20:32.980 --> 00:20:33.780\nseat time.\n\n380\n00:20:33.780 --> 00:20:35.437\n>> You are.\n>> If you're waiting for\n\n381\n00:20:35.437 --> 00:20:39.700\nthat connectivity,\nthat would be the caveat, I believe.\n\n382\n00:20:39.700 --> 00:20:43.406\n>> Some of the things that I've read on\nMicrosoft's site talks about how during\n\n383\n00:20:43.406 --> 00:20:46.145\nthe creation of the computer\naccount on the domain side,\n\n384\n00:20:46.145 --> 00:20:49.530\nthat first command that I ran there\nwas no network traffic generated.\n\n385\n00:20:49.530 --> 00:20:52.470\nOn the client ends of things,\nwhen I ran that command over there,\n\n386\n00:20:52.470 --> 00:20:54.980\nthere was no network traffic generated.\n\n387\n00:20:54.980 --> 00:20:56.193\nOkay that's great, but\n\n388\n00:20:56.193 --> 00:20:59.733\nas soon as I plug it in, there's going\nto be network traffic generated.\n\n389\n00:20:59.733 --> 00:21:02.110\nSo it's like I'm just\nputting it off basically.\n\n390\n00:21:02.110 --> 00:21:03.370\n>> Right.\n>> I don't know.\n\n391\n00:21:03.370 --> 00:21:04.860\nWell this guy's taking his sweet time,\n\n392\n00:21:04.860 --> 00:21:07.540\nso we'll come back and\ncheck on him in just a second.\n\n393\n00:21:07.540 --> 00:21:10.945\nI'll show you what that\ndoes when it finishes up.\n\n394\n00:21:10.945 --> 00:21:12.220\nThink.\n\n395\n00:21:12.220 --> 00:21:15.290\n>> It teases you.\n\n396\n00:21:15.290 --> 00:21:16.850\n>> There it goes, finally, all right.\n\n397\n00:21:16.850 --> 00:21:20.040\n>> So here we go,\nthis guy has finished rebooting.\n\n398\n00:21:20.040 --> 00:21:21.630\nAnd that's my local account, right?\n\n399\n00:21:21.630 --> 00:21:24.610\nThe one I use when I logged on and\nran that command.\n\n400\n00:21:24.610 --> 00:21:26.780\nIf I click back and other user,\n\n401\n00:21:26.780 --> 00:21:29.830\nyou'll see that it thinks\nit's part of the lab domain.\n\n402\n00:21:29.830 --> 00:21:38.236\nEverything looks good, but\nif I try to log on as a lab/administrator.\n\n403\n00:21:38.236 --> 00:21:42.160\nThis is gonna take a minute too, but\n\n404\n00:21:42.160 --> 00:21:46.940\nit's gonna time out and\nsay no authentication servers available.\n\n405\n00:21:46.940 --> 00:21:48.840\nAnd it's gonna give me an error, so\n\n406\n00:21:48.840 --> 00:21:52.720\nI'm not gonna be a log, I could still\nlog on with that local account.\n\n407\n00:21:52.720 --> 00:21:54.260\nCan't log on with the domain\naccount at this point.\n\n408\n00:21:54.260 --> 00:21:57.140\nAll right so\n\n409\n00:21:57.140 --> 00:22:01.940\nwhat I'll do is I'll go ahead and\ngive this guy some network connectivity.\n\n410\n00:22:01.940 --> 00:22:06.420\nWell I better wait til that times out just\nto so I don't goof that process up here.\n\n411\n00:22:07.770 --> 00:22:11.030\nSo let's let that run for\njust a second, it will time out.\n\n412\n00:22:13.200 --> 00:22:14.950\n>> It's searching the whole world for\nyour DCL.\n\n413\n00:22:14.950 --> 00:22:17.820\n>> It is, it's really trying to find\nthat domain controller, it wants\n\n414\n00:22:17.820 --> 00:22:21.900\nto authenticate me, but I don't have\na network adapter enabled on this guy.\n\n415\n00:22:21.900 --> 00:22:24.910\nSo it's just not gonna work.\n\n416\n00:22:24.910 --> 00:22:28.590\nAnd like I said, I've struggled\nto find the usefulness of this.\n\n417\n00:22:28.590 --> 00:22:31.410\nIt can be on the exam,\nmake sure you know those commands.\n\n418\n00:22:32.950 --> 00:22:37.490\nThe Djoin Provision command that you\nrun on the domain controller, and\n\n419\n00:22:37.490 --> 00:22:41.510\nthe Djoin request ODJ that\nyou run on the client or\n\n420\n00:22:41.510 --> 00:22:45.050\nserver that's not connected and\nis trying to join the domain.\n\n421\n00:22:45.050 --> 00:22:50.020\n>> Are they gonna hit you with that\nlevel of specifics on the exam,\n\n422\n00:22:50.020 --> 00:22:53.660\nor just more of a generalized\nunderstanding of the tool?\n\n423\n00:22:53.660 --> 00:22:56.180\n>> Usually if they're going to ask you\na question on something like that,\n\n424\n00:22:56.180 --> 00:22:59.880\nit might be what would you use to\njoin a computer to the domain if\n\n425\n00:22:59.880 --> 00:23:01.170\nit doesn't have connectivity?\n\n426\n00:23:01.170 --> 00:23:04.910\nAnd you would wanna know that it was\nthat offline domain join as the process.\n\n427\n00:23:04.910 --> 00:23:07.300\nOr they might give you\na series of commands.\n\n428\n00:23:07.300 --> 00:23:11.820\nWhich command would you run on the client\nthat doesn't have network connectivity?\n\n429\n00:23:11.820 --> 00:23:16.450\nAnd it might be Djoin/requestJoin.\n\n430\n00:23:16.450 --> 00:23:22.020\nDjoin/requestobject, /requestODJ.\n\n431\n00:23:22.020 --> 00:23:24.310\nAnd you've gotta know it's the requestODJ.\n\n432\n00:23:24.310 --> 00:23:29.850\nSo being familiar with\nthe commands is typically enough.\n\n433\n00:23:29.850 --> 00:23:32.470\nUsually, although they\ncan give you simulations.\n\n434\n00:23:32.470 --> 00:23:33.210\n>> That's true.\n>> That could force\n\n435\n00:23:33.210 --> 00:23:33.930\nyou try to do something.\n\n436\n00:23:33.930 --> 00:23:37.190\nAll right, tell you what, instead of\nwaiting, this is going to time out.\n\n437\n00:23:37.190 --> 00:23:38.570\nIt's going to fail.\n\n438\n00:23:38.570 --> 00:23:40.090\nThere is one more thing I want to talk,\nthere it goes.\n\n439\n00:23:40.090 --> 00:23:43.580\nAs soon as I say I'm going to give up,\nit likes to jump in there.\n\n440\n00:23:43.580 --> 00:23:44.606\nAll right.\nIt hears me.\n\n441\n00:23:44.606 --> 00:23:49.331\nThere are currently no log on servers\navailable to service the log on request.\n\n442\n00:23:49.331 --> 00:23:51.820\nAll right, so I'm going to turn\nthe network adapter back on.\n\n443\n00:23:56.434 --> 00:23:58.841\nAnd I'm gonna try to log in again.\n\n444\n00:24:03.205 --> 00:24:07.056\nI probably should have waited until\nit actually Picked up an IP address,\n\n445\n00:24:07.056 --> 00:24:08.440\nthat was my fault there.\n\n446\n00:24:08.440 --> 00:24:09.900\n[LAUGH] Okay, I got you.\n\n447\n00:24:09.900 --> 00:24:13.150\nAlright, so now it's building my profile\ncuz it's the first time I've logged on.\n\n448\n00:24:13.150 --> 00:24:14.750\n>> These virtual environments are quick.\n\n449\n00:24:14.750 --> 00:24:16.560\n>> They are pretty quick.\n\n450\n00:24:16.560 --> 00:24:21.170\nAlright, so that's offline domain join\nagain, be familiar with those commands.\n\n451\n00:24:21.170 --> 00:24:25.280\nThe last thing I wanna talk about, Daniel,\nis user rights assignments, cuz they do\n\n452\n00:24:25.280 --> 00:24:28.880\ncall that out in particular objective\nwhen we're talking about, User accounts.\n\n453\n00:24:28.880 --> 00:24:31.570\nSo, let me show you guys what\nthey're referring to there.\n\n454\n00:24:31.570 --> 00:24:35.030\nI've got group policy opened up,\nmy group policy management console.\n\n455\n00:24:35.030 --> 00:24:36.380\nAnd we've got a whole episode or\n\n456\n00:24:36.380 --> 00:24:39.140\ntwo or more that we're going\nto deal with group policy.\n\n457\n00:24:39.140 --> 00:24:39.640\nTrust me.\n\n458\n00:24:41.030 --> 00:24:42.920\nIf you're not familiar with\ngroup policy don't worry.\n\n459\n00:24:42.920 --> 00:24:44.800\nWe'll be going over this.\n\n460\n00:24:44.800 --> 00:24:47.740\nBut I did want to show you\nwhat they're referring to\n\n461\n00:24:47.740 --> 00:24:50.380\nwhen they talk about user rights.\n\n462\n00:24:50.380 --> 00:24:52.510\nSo I'm just gonna edit one\nof my group policies here.\n\n463\n00:24:54.380 --> 00:24:59.305\nAnd I'm gonna navigate down into policies,\nWindows settings.\n\n464\n00:25:01.912 --> 00:25:03.300\nGive it a second to expand out.\n\n465\n00:25:04.930 --> 00:25:05.720\nSecurity settings.\n\n466\n00:25:06.760 --> 00:25:11.390\nOpen policies and\nthen user rights assignments.\n\n467\n00:25:11.390 --> 00:25:13.640\nIf I could make that a little\nbit bigger for you guys.\n\n468\n00:25:13.640 --> 00:25:14.870\nThere we go.\n\n469\n00:25:14.870 --> 00:25:16.310\nThese are what they're referring to.\n\n470\n00:25:16.310 --> 00:25:19.550\nThese are things that I can\nassign to users to give them\n\n471\n00:25:19.550 --> 00:25:20.710\nadditional rights, right?\n\n472\n00:25:20.710 --> 00:25:22.830\nRemember rights are additional\nfrom permissions.\n\n473\n00:25:22.830 --> 00:25:26.090\nPermissions are over a specific object,\nlike you have\n\n474\n00:25:26.090 --> 00:25:30.280\nright permissions over this folder,\nyou have read permissions over this file.\n\n475\n00:25:30.280 --> 00:25:37.740\nPermissions involve a single object,\nwhereas rights are typically system wide.\n\n476\n00:25:37.740 --> 00:25:39.620\nYou have the right to\nchange the system time,\n\n477\n00:25:39.620 --> 00:25:42.210\nor you have the right to\nshut that server down.\n\n478\n00:25:42.210 --> 00:25:44.040\nThat's what we mean by a user right.\n\n479\n00:25:44.040 --> 00:25:46.560\nAnd you can see there's\na whole list of them here.\n\n480\n00:25:46.560 --> 00:25:51.740\nLike change the time zone, or what's\nanother one, deny logon as a service.\n\n481\n00:25:51.740 --> 00:25:53.580\nOr deny logon locally.\n\n482\n00:25:53.580 --> 00:25:56.750\nThis is actually one that we'll\nuse in our server environment.\n\n483\n00:25:56.750 --> 00:26:01.480\nIt'll say my DHCP admins,\nI've got a group called DHCP admins,\n\n484\n00:26:01.480 --> 00:26:05.120\ngives them full control\nover the DHCP server.\n\n485\n00:26:05.120 --> 00:26:07.380\nBut they do all their management remotely.\n\n486\n00:26:07.380 --> 00:26:08.640\nThey sit at their cubicle.\n\n487\n00:26:08.640 --> 00:26:11.970\nThey've got their laptop,\nthey've got their DHCP console,\n\n488\n00:26:11.970 --> 00:26:15.830\nusing the remote server advent tools and\nthat's how they manage DHCP.\n\n489\n00:26:15.830 --> 00:26:18.810\nI don't want them to be able to\nget into the server closet and\n\n490\n00:26:18.810 --> 00:26:22.130\nphysically log on to that server\nbecause now they're at a desktop and\n\n491\n00:26:22.130 --> 00:26:24.760\nthey can get access to\nmuch more than DHCP.\n\n492\n00:26:24.760 --> 00:26:28.100\nSo that's definitely\none that we would use.\n\n493\n00:26:28.100 --> 00:26:30.620\nAccess deny logon locally.\n\n494\n00:26:30.620 --> 00:26:32.390\nWhat's another good one down here?\n\n495\n00:26:32.390 --> 00:26:34.840\n>> I'll tell you about the deny\nlogon locally as well.\n\n496\n00:26:34.840 --> 00:26:40.970\nUsually, a good security rule\nof thumb is create a regular\n\n497\n00:26:40.970 --> 00:26:45.010\nuser account even for administrators,\nand that's how you normally do work.\n\n498\n00:26:45.010 --> 00:26:48.700\nBut when you need to elevate to get\nthat domain admin privileges to do\n\n499\n00:26:48.700 --> 00:26:52.410\nadministrative work, you have a domain\nadmin account and that would be the one\n\n500\n00:26:52.410 --> 00:26:56.430\nthat you would give local log on rights\nto and not your regular user account.\n\n501\n00:26:56.430 --> 00:26:58.960\nThat way if anybody\ncompromises M Roderick, or\n\n502\n00:26:58.960 --> 00:27:02.630\nD Lowry, they don't really\nhave a whole lot to go on.\n\n503\n00:27:02.630 --> 00:27:04.910\nIf they got that domain account,\nit'd be a different story.\n\n504\n00:27:04.910 --> 00:27:05.940\nAnd they'd be able to log in.\n\n505\n00:27:05.940 --> 00:27:09.145\nBut just because they got my account,\nor Mike's account, doesn't mean they can\n\n506\n00:27:09.145 --> 00:27:12.875\nlogin to a server, and\nthat's a good reason to use that option.\n\n507\n00:27:12.875 --> 00:27:14.005\n>> Absolutely, absolutely.\n\n508\n00:27:14.005 --> 00:27:16.445\nSo lots of things that you can get,\nand you should go through here and\n\n509\n00:27:16.445 --> 00:27:20.395\nlook at some of these different options\nthat you can assign to user accounts.\n\n510\n00:27:20.395 --> 00:27:24.135\nBut that's what they mean\nby assigning user rights.\n\n511\n00:27:24.135 --> 00:27:25.325\n>> Very cool, Mike.\n\n512\n00:27:25.325 --> 00:27:27.785\nSo obviously there's a lot going on.\n\n513\n00:27:27.785 --> 00:27:29.475\nWhat we can do in the AD,\n\n514\n00:27:29.475 --> 00:27:32.740\nwe've got the GUI environment\nthat gives us a lot of power.\n\n515\n00:27:32.740 --> 00:27:36.410\nAnd it doesn't have as much power\nas the PowerShell, obviously.\n\n516\n00:27:36.410 --> 00:27:37.640\nVery good stuff there.\n\n517\n00:27:37.640 --> 00:27:43.040\nA lot more in depth granular control, so\nyou're gonna want to learn some of that.\n\n518\n00:27:43.040 --> 00:27:45.530\nAnd we do have PowerShell episodes,\nso you should check those out.\n\n519\n00:27:45.530 --> 00:27:47.630\nIt's going to help you out\nin your server environment.\n\n520\n00:27:47.630 --> 00:27:48.330\nBut, a lot of good stuff.\n\n521\n00:27:48.330 --> 00:27:50.120\nEspecially when it comes to users,\nthis is,\n\n522\n00:27:50.120 --> 00:27:55.440\nagain, something you're going to a lot of,\nof user management and administration.\n\n523\n00:27:55.440 --> 00:27:57.040\nIt's just, it takes up a lot of your day,\n\n524\n00:27:57.040 --> 00:28:01.340\nso be prepared knowing these types of\ntechniques are going to help with that.\n\n525\n00:28:01.340 --> 00:28:04.460\nMike, that being said,\nI think we've wrapped up another,\n\n526\n00:28:04.460 --> 00:28:05.840\nwe've come to the end of another episode.\n\n527\n00:28:05.840 --> 00:28:06.790\n>> I think we have.\n\n528\n00:28:06.790 --> 00:28:10.650\n>> Alright, we'll go ahead and\nsign off for ITProTV.\n\n529\n00:28:10.650 --> 00:28:12.460\nI've been your host Daniel Lowery.\n\n530\n00:28:12.460 --> 00:28:13.400\n>> And I'm Mike Roderick.\n\n531\n00:28:13.400 --> 00:28:14.489\n>> And we'll see you next time.\n\n532\n00:28:14.489 --> 00:28:20.140\n[MUSIC]\n\n",
          "vimeoId": "133973368"
        },
        {
          "description": "In this episode, Daniel and Mike introduce Active Directory Groups and how they can be used to administer a variety of policies to the correct departments or single users.",
          "length": "1908",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-15-1-active_directory_groups-072115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-15-1-active_directory_groups-072115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-15-1-active_directory_groups-072115-1-sm.jpg",
          "title": "Active Directory Groups",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.522\n[MUSIC]\n\n2\n00:00:10.522 --> 00:00:11.785\n>> All right, everyone.\n\n3\n00:00:11.785 --> 00:00:15.647\nThe greetings and welcome to\nanother great episode of ITProvTV.\n\n4\n00:00:15.647 --> 00:00:19.352\nI'm your host Daniel Lowrie and\nhere with me today, none other than Mr.\n\n5\n00:00:19.352 --> 00:00:20.150\nMike Rodrick.\n\n6\n00:00:20.150 --> 00:00:20.899\nHow's it going today, Mike?\n\n7\n00:00:20.899 --> 00:00:21.973\n>> It's going great, Daniel.\n\n8\n00:00:21.973 --> 00:00:25.053\nWe're gonna be talking a little\nbit more about Active Directory,\n\n9\n00:00:25.053 --> 00:00:27.368\nspecifically we're gonna\ntake a look at groups.\n\n10\n00:00:27.368 --> 00:00:30.229\nGroups are something we really\nhave to be familiar with,\n\n11\n00:00:30.229 --> 00:00:33.070\nif we're gonna be working\nin Active Directory.\n\n12\n00:00:33.070 --> 00:00:37.123\nThat's one of the major jobs as\nan IT admin or working with IT.\n\n13\n00:00:37.123 --> 00:00:39.230\nIt's assigning permissions and\nthings like that.\n\n14\n00:00:39.230 --> 00:00:42.721\nAnd we've hinted at it a couple\ntimes in a few other episodes,\n\n15\n00:00:42.721 --> 00:00:45.355\ngroups really do make all\nof that a lot easier.\n\n16\n00:00:45.355 --> 00:00:47.670\nIt makes it a lot easier to work with.\n\n17\n00:00:47.670 --> 00:00:51.352\nAssigning permissions, delegating\npermissions and things like that.\n\n18\n00:00:51.352 --> 00:00:54.560\nSo, I guess we should start\nwith defining your group.\n\n19\n00:00:54.560 --> 00:00:58.496\nMost of us probably have a pretty\ngood idea what it is, but\n\n20\n00:00:58.496 --> 00:01:01.947\na group is just a collection or\na membership list.\n\n21\n00:01:01.947 --> 00:01:06.249\nAnd it is important that we differentiate,\nbecause some people will think of\n\n22\n00:01:06.249 --> 00:01:09.704\ngroups and OUs as being similar and\nthey're really not an OU.\n\n23\n00:01:09.704 --> 00:01:12.806\nAnd if you don't know what an OU is don't\nworry we're gonna dive into that in\n\n24\n00:01:12.806 --> 00:01:13.540\na later episode.\n\n25\n00:01:13.540 --> 00:01:16.497\nBut within Active Directory,\nwe have these containers.\n\n26\n00:01:16.497 --> 00:01:21.541\nAnd that's a very descriptive term, it's\na container object you put an account or\n\n27\n00:01:21.541 --> 00:01:25.950\nan object in that container and\nit's a lot like the folders on your desk.\n\n28\n00:01:25.950 --> 00:01:30.127\nIf you have a piece of paper as you wanna\nput in your file system, that piece of\n\n29\n00:01:30.127 --> 00:01:34.330\npaper can only physically go in one\nfolder, cuz that folder is a container.\n\n30\n00:01:34.330 --> 00:01:37.021\nYou can move it from one\nfolder to the other, but\n\n31\n00:01:37.021 --> 00:01:40.602\nit can only be in one folder at a time,\ncuz that's a container.\n\n32\n00:01:40.602 --> 00:01:44.697\nA group is not a container, it's\na membership list and you can belong to as\n\n33\n00:01:44.697 --> 00:01:49.030\nmany groups as I want you to, because\nyour account doesn't go in the group.\n\n34\n00:01:49.030 --> 00:01:51.912\nThe group has a list of all\nthe people that belong to it.\n\n35\n00:01:51.912 --> 00:01:56.440\nSo just like a club that you belong to or\na newsletter that you sign up for.\n\n36\n00:01:56.440 --> 00:02:01.361\nYou can sign up for dozens or hundreds of\nthose and you can get each one of them,\n\n37\n00:02:01.361 --> 00:02:02.973\nsame thing with groups.\n\n38\n00:02:02.973 --> 00:02:05.277\nI can add an account to as\nmany groups as I need to,\n\n39\n00:02:05.277 --> 00:02:07.764\nto facilitate the management\nof Active Directory.\n\n40\n00:02:07.764 --> 00:02:08.747\n>> Yeah, just check my spam filter.\n\n41\n00:02:08.747 --> 00:02:10.764\n>> [LAUGH]\n>> [LAUGH] You'll see how many groups I'm\n\n42\n00:02:10.764 --> 00:02:11.962\nactually involved with.\n\n43\n00:02:11.962 --> 00:02:13.929\n>> [LAUGH]\n>> But that being said,\n\n44\n00:02:13.929 --> 00:02:15.438\nMike has hit the nail right on the head.\n\n45\n00:02:15.438 --> 00:02:19.930\nThe groups are kind of a logical\norganization of membership.\n\n46\n00:02:19.930 --> 00:02:24.320\nWho is a part of my members or\nare my group that give me access?\n\n47\n00:02:24.320 --> 00:02:26.670\nUsually, that's what we're using it for\nis to give access.\n\n48\n00:02:26.670 --> 00:02:30.148\nBut just being able to\ndifferentiate people and say, okay.\n\n49\n00:02:30.148 --> 00:02:35.440\nWell, this is them, cuz you might be\nmultiple members and we're an OUs.\n\n50\n00:02:35.440 --> 00:02:38.879\nI can only be in one OU,\nI can't be a multiple different OUs.\n\n51\n00:02:38.879 --> 00:02:40.033\nCan only be in one.\n\n52\n00:02:40.033 --> 00:02:42.641\nWith a group though,\nI can be in multiple groups and\n\n53\n00:02:42.641 --> 00:02:46.358\nthat allows me some flexibility to\ndo some other administrative tasks.\n\n54\n00:02:46.358 --> 00:02:47.957\nSo, it's very advantageous for\n\n55\n00:02:47.957 --> 00:02:51.050\nus to figure out exactly what is\nthe best way to use these groups?\n\n56\n00:02:51.050 --> 00:02:54.302\nHow can we implement the different types\nof groups that are available to us?\n\n57\n00:02:54.302 --> 00:02:56.490\nAnd do that most effectively.\n\n58\n00:02:56.490 --> 00:02:57.517\nSo Mike,\nyou're gonna help us out with that.\n\n59\n00:02:57.517 --> 00:02:58.371\nRight?\n>> I'm gonna try, anyway.\n\n60\n00:02:58.371 --> 00:02:59.174\n[LAUGH]\n>> [LAUGH] It's a job thing.\n\n61\n00:02:59.174 --> 00:03:02.115\n>> [LAUGH] Exactly.\n\n62\n00:03:02.115 --> 00:03:05.559\nSo groups,\nwhen you look at why we use groups.\n\n63\n00:03:05.559 --> 00:03:10.575\nGroups are primarily used for simplifying\nthe administration of permissions,\n\n64\n00:03:10.575 --> 00:03:12.647\nif I have dozens of sales people.\n\n65\n00:03:12.647 --> 00:03:16.581\nWell, all of those sales people have\nthe same role within my organization,\n\n66\n00:03:16.581 --> 00:03:21.510\nthey need the same sets of permissions\nover different resources to do their job.\n\n67\n00:03:21.510 --> 00:03:25.290\nIt doesn't matter which individually,\nthey all need that same permission.\n\n68\n00:03:25.290 --> 00:03:29.905\nSo rather than trying to assign permission\nto each individual sales person,\n\n69\n00:03:29.905 --> 00:03:33.597\nI'm gonna create a group called\nsales users, for example and\n\n70\n00:03:33.597 --> 00:03:36.725\nI'll put all of those sales\npeople into that group.\n\n71\n00:03:36.725 --> 00:03:39.887\nNow, I can just assign\nthe permission to the group and\n\n72\n00:03:39.887 --> 00:03:44.420\nanybody that's a member of that group\nis going to get that permission.\n\n73\n00:03:44.420 --> 00:03:48.184\nAnd that makes our life a whole lot\neasier, because of a few things.\n\n74\n00:03:48.184 --> 00:03:52.834\nOne, let's say, I had 20 salespeople.\n\n75\n00:03:52.834 --> 00:03:57.133\nIf I go to the access control list on\na resource and I go to that Security tab,\n\n76\n00:03:57.133 --> 00:04:01.175\nI don't wanna have to see 20\nindividual accounts listed there.\n\n77\n00:04:01.175 --> 00:04:04.495\nJust scrolling through that list and\nyou can multiply that in a larger company.\n\n78\n00:04:04.495 --> 00:04:08.815\nYou can get up to hundreds of sales people\nor whatever role we're talking about,\n\n79\n00:04:08.815 --> 00:04:10.095\nthat makes a long list.\n\n80\n00:04:10.095 --> 00:04:13.119\nAnd so to find anybody in that\nlist to change their permission,\n\n81\n00:04:13.119 --> 00:04:14.556\nI gotta scroll through that.\n\n82\n00:04:14.556 --> 00:04:16.512\nIf I put all those people in a group and\n\n83\n00:04:16.512 --> 00:04:20.550\nI put the group in that access control\nlist and I've got one entry in there for\n\n84\n00:04:20.550 --> 00:04:25.174\nthat particular group anyway, a lot easier\nto manage the access control list itself.\n\n85\n00:04:25.174 --> 00:04:27.280\nWhat if I hire a new salesperson?\n\n86\n00:04:27.280 --> 00:04:30.250\nWell gosh, there's hundreds of\nresources across my network\n\n87\n00:04:30.250 --> 00:04:33.070\nthat those sales people need\npermissions over to do their job.\n\n88\n00:04:33.070 --> 00:04:34.780\nSo every time I hire a new 1,\n\n89\n00:04:34.780 --> 00:04:38.300\nI've got to go modify 100\ndifferent access control lists?\n\n90\n00:04:38.300 --> 00:04:39.000\nNo.\n\n91\n00:04:39.000 --> 00:04:42.829\nBecause I assigned the permission to the\ngroup over those 100 different resources.\n\n92\n00:04:42.829 --> 00:04:45.513\nSo when I hire a new salesperson,\nI just put them in that group and\n\n93\n00:04:45.513 --> 00:04:49.570\nthey automatically get all the permissions\nfrom all the places I've used that group.\n\n94\n00:04:49.570 --> 00:04:52.022\nIf somebody leaves the sales department or\nthey get fired,\n\n95\n00:04:52.022 --> 00:04:53.698\nthey no longer need those permissions.\n\n96\n00:04:53.698 --> 00:04:57.212\nI can just pull them out of that group and\nnow they no longer get the permissions,\n\n97\n00:04:57.212 --> 00:05:00.098\ncuz the permissions weren't\nassigned directly to the account,\n\n98\n00:05:00.098 --> 00:05:01.580\nthey were assigned to the group.\n\n99\n00:05:01.580 --> 00:05:04.389\nAnd the only reason they had the\npermissions was because they were a member\n\n100\n00:05:04.389 --> 00:05:04.938\nof the group.\n\n101\n00:05:04.938 --> 00:05:07.410\nSo if I remove them,\nthey don't have the credentials anymore.\n\n102\n00:05:07.410 --> 00:05:10.560\nSo if we get this set up right and\nwe set it up from the beginning,\n\n103\n00:05:10.560 --> 00:05:14.247\nwe're really managing our permissions\nby changing group memberships,\n\n104\n00:05:14.247 --> 00:05:17.993\nwhich is a lot easier than managing\nindividual access control lists across\n\n105\n00:05:17.993 --> 00:05:20.390\nthousands of resources\nin your organization.\n\n106\n00:05:20.390 --> 00:05:21.680\n>> Yeah, how about this one, Mike?\n\n107\n00:05:21.680 --> 00:05:24.848\nJust say, you create a new resource for\nthe sales and\n\n108\n00:05:24.848 --> 00:05:27.153\nyou've been doing it Per user basis.\n\n109\n00:05:27.153 --> 00:05:29.847\nYou've gotta then go in and\ncreate all those users,\n\n110\n00:05:29.847 --> 00:05:31.980\ngive them access to that new resource.\n\n111\n00:05:31.980 --> 00:05:36.823\nEvery time you do something new, you're\ndoing it 10-fold, 50-fold, a 100-fold and\n\n112\n00:05:36.823 --> 00:05:38.309\nit's just way too much work.\n\n113\n00:05:38.309 --> 00:05:43.225\nIt's administratively prohibitive to use\nit or to set permissions at user level,\n\n114\n00:05:43.225 --> 00:05:45.030\ngroups are the way to go.\n\n115\n00:05:45.030 --> 00:05:47.190\nSet it on the group,\nyou put the person in the group and\n\n116\n00:05:47.190 --> 00:05:50.568\nthen they gain the permissions that they\nneed through being a member of that group.\n\n117\n00:05:50.568 --> 00:05:52.730\n>> That's it and Microsoft will recommend.\n\n118\n00:05:52.730 --> 00:05:57.076\nAnd Daniel, you and I both know from real\nworld experience, it is the way to go.\n\n119\n00:05:57.076 --> 00:06:00.540\nWe rarely assign permissions\ndirectly to a user account.\n\n120\n00:06:00.540 --> 00:06:03.618\nEven if I have one sales user,\nI'm a small organization.\n\n121\n00:06:03.618 --> 00:06:06.230\nI've got one sales person,\nI'm gonna create a group and\n\n122\n00:06:06.230 --> 00:06:09.948\nput that one person in there, because I\ndon't plan on remaining small forever.\n\n123\n00:06:09.948 --> 00:06:12.000\nWe're gonna grow,\nwe're gonna hire more people.\n\n124\n00:06:12.000 --> 00:06:13.023\nYou gotta think ahead.\n\n125\n00:06:13.023 --> 00:06:16.685\nSo setting it up properly in the first\nplace is gonna make the administration of\n\n126\n00:06:16.685 --> 00:06:19.982\nthe network a whole lot easier and\nthat's not all we can use group for.\n\n127\n00:06:19.982 --> 00:06:23.186\nBesides using them to assign permissions,\n\n128\n00:06:23.186 --> 00:06:26.831\nwe can also use them to\ndelegate administration.\n\n129\n00:06:26.831 --> 00:06:31.605\nWe can delegate administrative access\nto a group like let's say, we need\n\n130\n00:06:31.605 --> 00:06:36.533\nthe help desk to have administrative\naccess over a set of client computers or\n\n131\n00:06:36.533 --> 00:06:41.230\nwe want to help desk to be able to reset\nuser passwords or we can delegate.\n\n132\n00:06:41.230 --> 00:06:45.014\nI'm gonna show you guys how to do that, we\ncan delegate permissions to those groups.\n\n133\n00:06:45.014 --> 00:06:48.730\nWe can also use groups as\nemail distribution lists.\n\n134\n00:06:48.730 --> 00:06:51.193\nI'm sure most of you have probably\nused one before for that purpose,\n\n135\n00:06:51.193 --> 00:06:53.152\nif you've been in any kind\nof corporate environment.\n\n136\n00:06:53.152 --> 00:06:55.745\nIf I've got to send an email\nto all of those salespeople,\n\n137\n00:06:55.745 --> 00:06:59.579\nI don't wanna sit there and go through my\nglobal admin list and try to figure, okay,\n\n138\n00:06:59.579 --> 00:07:03.003\nhe's in sales, she's in sales,\nshe's in sales and try to find them all.\n\n139\n00:07:03.003 --> 00:07:06.950\nI'm gonna miss one or two or\ninclude somebody that's not in sales,\n\n140\n00:07:06.950 --> 00:07:08.170\nI have a group.\n\n141\n00:07:08.170 --> 00:07:09.794\nI can send the email to the group and\n\n142\n00:07:09.794 --> 00:07:11.868\neverybody in that group\nwill get the email.\n\n143\n00:07:11.868 --> 00:07:13.594\nMakes life a whole lot easier.\n\n144\n00:07:13.594 --> 00:07:16.474\nAlmost every company has\nthe all employees group, so\n\n145\n00:07:16.474 --> 00:07:18.330\nyou can send out that mass email.\n\n146\n00:07:18.330 --> 00:07:20.490\n>> Yeah, my favorite one is\npeople call me and ask me, hey,\n\n147\n00:07:20.490 --> 00:07:22.616\ncan you create a group for\nme that has these people in it?\n\n148\n00:07:22.616 --> 00:07:24.970\nEmail distribution list,\nthat's gonna make things really easy.\n\n149\n00:07:24.970 --> 00:07:28.730\nI'm like yeah, I can do that, but\ndo you realize you can do that as well?\n\n150\n00:07:28.730 --> 00:07:30.307\n>> [LAUGH]\n>> And you don't even have to delegate.\n\n151\n00:07:30.307 --> 00:07:33.351\nYou can create an Outlook DL\ninside Outlook,\n\n152\n00:07:33.351 --> 00:07:36.610\nput all your contacts\nthat you want in there.\n\n153\n00:07:36.610 --> 00:07:38.321\nHave your own DL specific for you.\n\n154\n00:07:38.321 --> 00:07:40.465\nNow if it's company wide though,\nlike Mike said.\n\n155\n00:07:40.465 --> 00:07:42.420\n>> [COUGH]\n>> You usually create one distribution\n\n156\n00:07:42.420 --> 00:07:46.204\nlist, so that you can send an email to\neveryone in your company just by sending\n\n157\n00:07:46.204 --> 00:07:47.558\nit to a distribution list.\n\n158\n00:07:47.558 --> 00:07:50.873\nIn IT, we tend to make our own\ndistribution lists as well, so\n\n159\n00:07:50.873 --> 00:07:53.993\nthat we can set things like alerts and\nthings like that and\n\n160\n00:07:53.993 --> 00:07:56.082\nsends it to that distribution lists.\n\n161\n00:07:56.082 --> 00:08:00.564\nEmail address and everybody in that list\ngets the email so no one is left out.\n\n162\n00:08:00.564 --> 00:08:01.539\nIt's a whole lot easier for you.\n\n163\n00:08:01.539 --> 00:08:03.109\n>> Absolutely, absolutely yeah, and\n\n164\n00:08:03.109 --> 00:08:06.102\nagain it's another one of those\nthings where things change, right?\n\n165\n00:08:06.102 --> 00:08:08.914\nI mean,\nwe hire employees we fire employees.\n\n166\n00:08:08.914 --> 00:08:13.587\nIf I've got a distribution list\nthat includes all IT admins, right?\n\n167\n00:08:13.587 --> 00:08:14.363\nAs I add new or\n\n168\n00:08:14.363 --> 00:08:18.684\nremove people from that, I still send\nthe email to that IT admins group.\n\n169\n00:08:18.684 --> 00:08:21.483\nIt doesn't matter who's been hired,\nwho's been fired, it's still gonna go\n\n170\n00:08:21.483 --> 00:08:24.138\nto all of them as long as they're keeping\nthat group membership up to date.\n\n171\n00:08:24.138 --> 00:08:27.730\nAll right, so let's take a look,\nlet's pop into Active Directory here.\n\n172\n00:08:27.730 --> 00:08:31.213\nI've got up on my screen\nmy domain controller.\n\n173\n00:08:31.213 --> 00:08:33.229\nI'm gonna open up Active Directory, and\n\n174\n00:08:33.229 --> 00:08:35.775\nwe'll talk about creating\nsome different groups.\n\n175\n00:08:35.775 --> 00:08:38.691\nThere's a few different ways we\ncan go about creating the groups,\n\n176\n00:08:38.691 --> 00:08:39.950\nyou can create it in the GUI.\n\n177\n00:08:39.950 --> 00:08:41.983\nYou can create it through PowerShell.\n\n178\n00:08:41.983 --> 00:08:44.126\nThere's even a command prompt,\n\n179\n00:08:44.126 --> 00:08:48.726\nold school ds commands that we can use\nto create groups that way as well.\n\n180\n00:08:48.726 --> 00:08:53.858\nI've got an OU here called Groups and\nI think, let's see what I've got already.\n\n181\n00:08:53.858 --> 00:08:56.627\nI'm gonna make some groups for\nmy sales department,\n\n182\n00:08:56.627 --> 00:08:58.790\nI wanna use to collect up my sales people.\n\n183\n00:08:58.790 --> 00:09:02.338\nI'll show you a couple of different\nways we can create it, as well as,\n\n184\n00:09:02.338 --> 00:09:05.886\ntalking about some of the different\noptions that we get when we go in and\n\n185\n00:09:05.886 --> 00:09:06.925\ncreate a new group.\n\n186\n00:09:06.925 --> 00:09:07.643\nAll right.\n\n187\n00:09:07.643 --> 00:09:09.910\nSo, to create a group through the GUI,\n\n188\n00:09:09.910 --> 00:09:13.298\nI could right-click on that OU\nwherever I want to make it.\n\n189\n00:09:13.298 --> 00:09:17.138\nI could right-click that,\nand I could go New > Group.\n\n190\n00:09:17.138 --> 00:09:21.571\nI can right-click out here in the white\nspace, assuming I've got the OU selected,\n\n191\n00:09:21.571 --> 00:09:23.013\nand I can go to New > Group.\n\n192\n00:09:23.013 --> 00:09:26.570\nThere's also a handy-dandy little\nbutton up here that you can click.\n\n193\n00:09:26.570 --> 00:09:28.440\nAnd you can choose New, or click on that.\n\n194\n00:09:28.440 --> 00:09:31.820\nAnd that opens up your new\ngroup dialog box as well.\n\n195\n00:09:31.820 --> 00:09:34.570\nSo several different\nways you can go about it.\n\n196\n00:09:34.570 --> 00:09:36.766\nAnd all you have to do,\nit's pretty straightforward here,\n\n197\n00:09:36.766 --> 00:09:38.111\nyou're gonna give the group a name.\n\n198\n00:09:38.111 --> 00:09:42.674\nAnd what did I set this one up to be,\nlet's see, let's call this one SalesUsers,\n\n199\n00:09:42.674 --> 00:09:43.350\nall right.\n\n200\n00:09:43.350 --> 00:09:46.250\nSo I give it a name, and then\n\n201\n00:09:46.250 --> 00:09:50.640\nunderneath here I've got some important\ndecisions to make about this group.\n\n202\n00:09:50.640 --> 00:09:55.180\nWe have different scopes and\ndifferent types when we create our group.\n\n203\n00:09:55.180 --> 00:09:58.540\nAnd let's talk about the type first that's\nprobably the easiest one to understand.\n\n204\n00:09:58.540 --> 00:09:59.480\nAnd there's two.\n\n205\n00:09:59.480 --> 00:10:03.260\nThere's security group and\nthere's a distribution group.\n\n206\n00:10:03.260 --> 00:10:05.530\nNow a distribution group is just that.\n\n207\n00:10:05.530 --> 00:10:08.300\nIt's used for e-mail applications, and\n\n208\n00:10:08.300 --> 00:10:11.870\nit allows me to quickly e-mail\neverybody that's a member of that.\n\n209\n00:10:11.870 --> 00:10:13.030\ndistribution group.\n\n210\n00:10:13.030 --> 00:10:17.720\nThe key to remember about distribution\ngroups is that it's only used for email.\n\n211\n00:10:17.720 --> 00:10:20.420\nIt does not get an SID, or\n\n212\n00:10:20.420 --> 00:10:24.070\na security identifier when I\ncreate a distribution group.\n\n213\n00:10:24.070 --> 00:10:27.280\nWhich means I can't add it\nto an access control list.\n\n214\n00:10:27.280 --> 00:10:31.000\nIt doesn't have an SID, so\nit's not a security principle.\n\n215\n00:10:31.000 --> 00:10:33.880\nSo I couldn't create a distribution group,\nand then go and\n\n216\n00:10:33.880 --> 00:10:37.110\ntry to go to a file or a folder and\npull up its properties.\n\n217\n00:10:37.110 --> 00:10:41.320\nAnd give this distribution group read or\nwrite or full control or\n\n218\n00:10:41.320 --> 00:10:42.310\nanything like that.\n\n219\n00:10:42.310 --> 00:10:44.500\nYou can't use it as a security group.\n\n220\n00:10:44.500 --> 00:10:47.690\nIt's only used for distribution.\n\n221\n00:10:47.690 --> 00:10:49.720\nA security group on the other hand,\n\n222\n00:10:49.720 --> 00:10:54.260\ndoes get an SID, a security identifier,\nwhich means it's a security principle.\n\n223\n00:10:54.260 --> 00:10:59.480\nAnd I can then use it in access\ncontrol lists to assign permissions.\n\n224\n00:10:59.480 --> 00:11:01.550\nAnd the cool thing about\nthese security groups,\n\n225\n00:11:01.550 --> 00:11:03.880\nwe can assign an email\naddress to a security group.\n\n226\n00:11:03.880 --> 00:11:06.830\nSo security groups can be used for\npermissions, and\n\n227\n00:11:06.830 --> 00:11:11.330\nemail distribution, distribution\ngroups only for email applications.\n\n228\n00:11:11.330 --> 00:11:12.280\nSo I don't know, Daniel.\n\n229\n00:11:12.280 --> 00:11:16.750\nI don't use the distribution groups\na whole lot because the security group\n\n230\n00:11:16.750 --> 00:11:17.570\nkind of does both.\n\n231\n00:11:17.570 --> 00:11:20.480\nI know some organizations,\nthey'll like those distribution groups.\n\n232\n00:11:20.480 --> 00:11:24.180\n>> Yeah, I tended to stay on\nif it's the distribution list,\n\n233\n00:11:24.180 --> 00:11:25.630\nthen I use the distribution group.\n\n234\n00:11:25.630 --> 00:11:28.810\nThat's how I work, and\nthen just to make things easy as I look\n\n235\n00:11:28.810 --> 00:11:34.000\nthrough AD I would name them like,\nDL, MailFrom, you know, whatever.\n\n236\n00:11:34.000 --> 00:11:35.020\nDL infrastructures.\n\n237\n00:11:35.020 --> 00:11:36.790\nThat way I know it's\na distributional list, or\n\n238\n00:11:36.790 --> 00:11:39.090\na distribution group up in maybe DG.\n\n239\n00:11:39.090 --> 00:11:41.260\nAnd it was for the infrastructure team.\n\n240\n00:11:41.260 --> 00:11:43.910\nAnd then with the security groups\nI'll do the same thing, SG.\n\n241\n00:11:43.910 --> 00:11:46.680\nAnd I would make those all for\njust permissioning.\n\n242\n00:11:46.680 --> 00:11:48.527\nI tried to keep my chocolate\nout of my peanut butter.\n\n243\n00:11:48.527 --> 00:11:49.850\n>> [LAUGH]\n>> When it came to\n\n244\n00:11:49.850 --> 00:11:51.820\nsecurity groups versus\ndistribution groups.\n\n245\n00:11:51.820 --> 00:11:53.170\n>> Oh,\nnot a fan of Reese's peanut butter cups?\n\n246\n00:11:53.170 --> 00:11:57.160\n>> I do love Reese's peanut butter, but\nwhen it comes to my computing environment,\n\n247\n00:11:57.160 --> 00:12:00.310\nseparation for me,\nit helps me keep things organized and\n\n248\n00:12:00.310 --> 00:12:03.380\ntherefore a little more-\n>> And another nice thing about those\n\n249\n00:12:03.380 --> 00:12:08.060\ndistribution groups is you could, let's\nsay you're creating a collection of people\n\n250\n00:12:08.060 --> 00:12:11.590\nthat you're never going to\nassign the same permission to.\n\n251\n00:12:11.590 --> 00:12:16.850\nYou've got the CEO and you've got the tier\none help desk people in that group.\n\n252\n00:12:16.850 --> 00:12:20.750\nYou don't want somebody using that group\nthinking oh this is my higher ups.\n\n253\n00:12:20.750 --> 00:12:23.000\nAnd let me give them\npermissions over this resource,\n\n254\n00:12:23.000 --> 00:12:26.065\nwhen it actually includes\nthe Help Desk tier one as well.\n\n255\n00:12:26.065 --> 00:12:28.400\nWho shouldn't have the same\nlevel of permissions.\n\n256\n00:12:28.400 --> 00:12:31.250\nCompletely different roles,\ncompletely different permissions needed.\n\n257\n00:12:31.250 --> 00:12:34.790\nSo distribution groups are handy\nbecause you can't accidentally\n\n258\n00:12:34.790 --> 00:12:38.920\nassign permissions using it, and\ntherefore maybe beef up your security.\n\n259\n00:12:38.920 --> 00:12:41.280\nSo that's a good use for those guys.\n\n260\n00:12:41.280 --> 00:12:43.160\nAll right.\nSo security or distribution.\n\n261\n00:12:43.160 --> 00:12:44.880\nI'm gonna create a security\ngroup in this case,\n\n262\n00:12:44.880 --> 00:12:46.790\nbecause it's gonna be my sales users.\n\n263\n00:12:46.790 --> 00:12:48.930\nAnd I wanna use it to assign permissions.\n\n264\n00:12:48.930 --> 00:12:51.440\nThe other one over here is my Group Scope.\n\n265\n00:12:51.440 --> 00:12:56.320\nAnd this one gets a little bit\ntrickier to grasp, I think.\n\n266\n00:12:56.320 --> 00:12:59.400\nIt gets a little confusing at first.\n\n267\n00:12:59.400 --> 00:13:01.760\nBut we're here to explain it to you guys.\n\n268\n00:13:01.760 --> 00:13:06.270\nThere's three scopes there, there's\nDomain Local, Global, and Universal.\n\n269\n00:13:06.270 --> 00:13:10.080\nUniversal came out, gosh,\nI wanna say in 2003,\n\n270\n00:13:10.080 --> 00:13:12.870\nis when we got access to\nthose universal group scopes.\n\n271\n00:13:12.870 --> 00:13:17.845\nBut what the scope involves is who\ncan be a member of that group?\n\n272\n00:13:17.845 --> 00:13:20.315\nAnd where I can use that group, right?\n\n273\n00:13:20.315 --> 00:13:22.435\nNow I'm gonna pull up,\nI've got a Microsoft page and\n\n274\n00:13:22.435 --> 00:13:28.135\nI've got this in the show notes for\nyou guys to refer to later.\n\n275\n00:13:28.135 --> 00:13:30.040\nThere's a nice little chart here.\n\n276\n00:13:30.040 --> 00:13:35.430\nThis is right off of Microsoft's Tech Net\npage, talking about the different groups.\n\n277\n00:13:35.430 --> 00:13:39.060\nLet's just go through this for a second,\nlet's start with domain local,\n\n278\n00:13:39.060 --> 00:13:41.030\nI always like starting with these guys.\n\n279\n00:13:41.030 --> 00:13:45.210\nDomain local can include\naccounts from any domain.\n\n280\n00:13:45.210 --> 00:13:50.560\nSo, in other words, if I have a forest\nthat has more than one domain in it.\n\n281\n00:13:50.560 --> 00:13:54.970\nI could create a domain\nlocal group in domain A, and\n\n282\n00:13:54.970 --> 00:14:00.080\nI can get a user from domain B, and\nI could put it in that group, right.\n\n283\n00:14:00.080 --> 00:14:05.170\nSo the membership can include\nuser accounts, or global groups,\n\n284\n00:14:05.170 --> 00:14:08.920\nor other universal groups\nfrom any domain in my forest.\n\n285\n00:14:08.920 --> 00:14:10.230\nAll right?\nSo, that's a nice,\n\n286\n00:14:10.230 --> 00:14:11.850\nconvenient thing about\ndomain local groups.\n\n287\n00:14:11.850 --> 00:14:14.030\nIs their membership is pretty wide open.\n\n288\n00:14:14.030 --> 00:14:18.420\nJust about anybody,\nin any domain from that forest.\n\n289\n00:14:18.420 --> 00:14:18.960\nAll right?\n\n290\n00:14:18.960 --> 00:14:24.690\nBut, they can only be used within\nthe domain that the group was created in.\n\n291\n00:14:24.690 --> 00:14:26.070\nIn other words,\n\n292\n00:14:26.070 --> 00:14:29.190\nonce I've added members from all those\ndifferent domains across my force into\n\n293\n00:14:29.190 --> 00:14:33.670\nthat domain local group, I can only use\nthat group in the domain I created it in.\n\n294\n00:14:33.670 --> 00:14:36.464\nSo if I go to a file or a folder and\npull up its properties,\n\n295\n00:14:36.464 --> 00:14:38.194\nI can use that domain local group.\n\n296\n00:14:38.194 --> 00:14:41.168\nIf I created that domain\nlocal group in domain A, and\n\n297\n00:14:41.168 --> 00:14:44.748\nI go to a resource in domain B,\nand I go to that security tab, and\n\n298\n00:14:44.748 --> 00:14:49.439\nI click add, I'm not gonna see that domain\nlocal group that I created in domain A.\n\n299\n00:14:49.439 --> 00:14:55.636\nHence the name domain local only be\nused in the domain that was created in.\n\n300\n00:14:55.636 --> 00:14:57.186\n>> There you go with\nyour logic again Mike.\n\n301\n00:14:57.186 --> 00:14:59.130\n>> I know, crazy talk.\n\n302\n00:14:59.130 --> 00:15:01.755\n>> Sometimes you can actually\napply logic to Microsoft thinking.\n\n303\n00:15:01.755 --> 00:15:05.435\nIts rare, but sometimes we can do it.\n\n304\n00:15:05.435 --> 00:15:09.750\nAll right, so that's domain local groups,\nthen we got global groups.\n\n305\n00:15:09.750 --> 00:15:14.990\nGlobal groups can only contain accounts\nfrom the same domain as the parent\n\n306\n00:15:14.990 --> 00:15:19.990\nglobal group, in other words the domain\nthat you've created that group in,\n\n307\n00:15:19.990 --> 00:15:22.510\nas well as global groups\nfrom the same domain.\n\n308\n00:15:22.510 --> 00:15:26.270\nSo I can nest one global group\ninside another global group.\n\n309\n00:15:26.270 --> 00:15:28.000\nSo a little bit restrictive there, right?\n\n310\n00:15:28.000 --> 00:15:30.860\nIt can only contain members\nfrom the same domain.\n\n311\n00:15:30.860 --> 00:15:32.840\nThe domain that it was created in.\n\n312\n00:15:32.840 --> 00:15:35.120\nBut I can use it anywhere.\n\n313\n00:15:35.120 --> 00:15:39.480\nRemember permissions can be\nassigned in any domain alright.\n\n314\n00:15:39.480 --> 00:15:43.090\nSo that's our global groups, and\nthen we got the universal group.\n\n315\n00:15:43.090 --> 00:15:45.300\nUniversal groups kinda fill the gap for\nus.\n\n316\n00:15:46.580 --> 00:15:49.860\nThe name Universal really\napplies a lot in this case.\n\n317\n00:15:49.860 --> 00:15:52.370\nAccounts from any domain\nwithin the forest.\n\n318\n00:15:52.370 --> 00:15:54.549\nGlobal groups from any\ndomain within the forest.\n\n319\n00:15:54.549 --> 00:15:57.024\nUniversal groups from any\ndomain within the forest.\n\n320\n00:15:57.024 --> 00:16:01.166\nSo, they can contain just\nabout anything from my forest.\n\n321\n00:16:01.166 --> 00:16:05.871\nAnd they can be used in any domain or\nforest, so\n\n322\n00:16:05.871 --> 00:16:09.015\nI can use them anywhere I want.\n\n323\n00:16:09.015 --> 00:16:10.740\nAll right, and that's universal group.\n\n324\n00:16:10.740 --> 00:16:14.560\nSo we've got three different scopes of\ngroups that we have to deal with, and\n\n325\n00:16:14.560 --> 00:16:19.860\nit's all about who can be a member of\nthe group and where I can use that group.\n\n326\n00:16:19.860 --> 00:16:23.230\nAll right, so\nthen the question becomes, well, why?\n\n327\n00:16:23.230 --> 00:16:25.300\nAnd we'll talk about that\nhere in just a second.\n\n328\n00:16:25.300 --> 00:16:29.820\nI'll explain Microsoft's logic of how\nwe should end up using these groups.\n\n329\n00:16:29.820 --> 00:16:33.480\nThere's a definite strategy that we\nshould follow, and we should know for\n\n330\n00:16:33.480 --> 00:16:36.220\nthe exam as well, hint hint.\n\n331\n00:16:36.220 --> 00:16:40.410\nAll right so, but before we do that let's\ngo back and finish creating this group.\n\n332\n00:16:40.410 --> 00:16:43.630\nI'm gonna go ahead and create\na global group, and I'll click Okay.\n\n333\n00:16:43.630 --> 00:16:45.710\nAnd now I've got a new group.\n\n334\n00:16:45.710 --> 00:16:47.040\nAnd if I double click on that group,\n\n335\n00:16:47.040 --> 00:16:52.360\nyou'll see it has properties where\nI can go to the Members tab,\n\n336\n00:16:52.360 --> 00:16:56.410\nthis would be the list, this is all of\nthe people that belong to this group.\n\n337\n00:16:56.410 --> 00:16:58.830\nA group also has a Member Of tab,\n\n338\n00:16:58.830 --> 00:17:02.540\nbecause this group could be\na member of other groups, right.\n\n339\n00:17:02.540 --> 00:17:05.550\nI can start nesting groups and\nwe do that a lot.\n\n340\n00:17:07.230 --> 00:17:11.600\nSales users versus sales managers, I might\ndecided that I've got a sales users group\n\n341\n00:17:11.600 --> 00:17:13.340\nthat includes all of my sales users.\n\n342\n00:17:13.340 --> 00:17:15.985\nI've got a separate group that\ncontains all of my sales managers,\n\n343\n00:17:15.985 --> 00:17:18.590\ncause they need different\npermissions than sales users.\n\n344\n00:17:18.590 --> 00:17:22.840\nBut the sales managers need all\nthe permissions that the sales users need,\n\n345\n00:17:22.840 --> 00:17:24.140\nand then some.\n\n346\n00:17:24.140 --> 00:17:27.420\nRather than having to assign it every\ntime, go okay make sure you add the sales\n\n347\n00:17:27.420 --> 00:17:31.460\nusers and make sure you add the sales\nmanagers to that access control list.\n\n348\n00:17:31.460 --> 00:17:36.360\nWhat if I just nested the sales managers\ngroup inside the sales users group.\n\n349\n00:17:36.360 --> 00:17:40.030\nNow every time I gave a permission to the\nsales users, it would automatically apply\n\n350\n00:17:40.030 --> 00:17:43.750\nto the sales managers group as well and\nall the managers that were in that group.\n\n351\n00:17:43.750 --> 00:17:45.620\nSo we can use that\nnesting to our advantage.\n\n352\n00:17:46.660 --> 00:17:50.050\nAll right, so that's how I create\na group through the gooey.\n\n353\n00:17:50.050 --> 00:17:53.380\nNext we're gonna go ahead and\ncreate a group through,\n\n354\n00:17:53.380 --> 00:17:56.500\nlet's do Power Shell here, all right.\n\n355\n00:17:56.500 --> 00:18:02.370\nPower Shell is,\nthe command is new-ADgroup, all right.\n\n356\n00:18:02.370 --> 00:18:04.050\nAnd all we have to do is give it a name,\n\n357\n00:18:04.050 --> 00:18:07.370\nyou're going to see it's the same stuff\nthat I filled out in the gooey, right.\n\n358\n00:18:07.370 --> 00:18:11.030\nI had to type in a name, so same thing\nhere, I'm going to call this one,\n\n359\n00:18:11.030 --> 00:18:15.039\nI've got a space in the name, so\nI'm going to put quotes around it.\n\n360\n00:18:16.160 --> 00:18:18.443\nIf you don't have spaces,\nyou really don't need those quotes.\n\n361\n00:18:18.443 --> 00:18:23.710\nSo I'm give it a name,\nnow I've got to choose my group category,\n\n362\n00:18:23.710 --> 00:18:28.330\nso we'll do group category,\nand how about we do security.\n\n363\n00:18:28.330 --> 00:18:30.840\nRemember my choices are security or\ndistribution.\n\n364\n00:18:30.840 --> 00:18:33.050\nI also need a group scope.\n\n365\n00:18:33.050 --> 00:18:38.115\nSo, these are all those radio buttons\nthat I just filled out in that GUI.\n\n366\n00:18:40.278 --> 00:18:44.130\nIt would help if I could\nspell that correctly.\n\n367\n00:18:44.130 --> 00:18:46.530\nAnd we're gonna do another global group.\n\n368\n00:18:46.530 --> 00:18:48.180\nAnd you can see\nPower Shell's smart enough,\n\n369\n00:18:48.180 --> 00:18:51.900\nI don't know if you notice while I'm\ntyping here, I'm doing my tab auto fill.\n\n370\n00:18:51.900 --> 00:18:55.500\nI did group C and tab auto fill,\nand it filled out category.\n\n371\n00:18:55.500 --> 00:18:59.570\nI typed S tab and it knows there's\nonly three categories, security,\n\n372\n00:18:59.570 --> 00:19:02.390\ndomain, I mean security or\ndistribution, there's only two.\n\n373\n00:19:02.390 --> 00:19:04.840\nSo I typed in S tab and\nit filled out security.\n\n374\n00:19:04.840 --> 00:19:09.920\nWhen it comes to group scope, I can type\nin D tab and it fills out domain local,\n\n375\n00:19:09.920 --> 00:19:14.440\nor I could type in U tab and\nit does my universal, and of course,\n\n376\n00:19:14.440 --> 00:19:16.300\nmy G tab for my global.\n\n377\n00:19:16.300 --> 00:19:20.270\nSo I've got my category, I've got my\nscope, and the last thing I need to do,\n\n378\n00:19:20.270 --> 00:19:23.555\nthis is where it differentiates from\nthe gooey because in the gooey I\n\n379\n00:19:23.555 --> 00:19:25.985\nwent to the location that I wanted\nto create the group, all right.\n\n380\n00:19:25.985 --> 00:19:30.965\nI right clicked in that sales OU,\nand I said new group.\n\n381\n00:19:30.965 --> 00:19:32.133\nSo it knew where I wanted to make it.\n\n382\n00:19:32.133 --> 00:19:36.319\nFrom Power Shell, it doesn't know\nwhere I wanna make that group so\n\n383\n00:19:36.319 --> 00:19:38.876\nI have to tell it and that's a dash path.\n\n384\n00:19:38.876 --> 00:19:39.549\nOops.\n\n385\n00:19:41.454 --> 00:19:46.802\nAnd I'm going to put that\ninside that sales OU.\n\n386\n00:19:46.802 --> 00:19:53.112\nSo we'll say ou=sales,\nwhich is inside the OU called,\n\n387\n00:19:53.112 --> 00:19:56.924\nwhat did I call that one, groups,\n\n388\n00:19:56.924 --> 00:20:02.850\nwhich is at the root, so\ndc=lab,dc=net, right.\n\n389\n00:20:02.850 --> 00:20:06.740\nThat's my distinguished name for\nthat object, that path to the object.\n\n390\n00:20:06.740 --> 00:20:08.230\nIf you're unfamiliar\nwith distinguished names,\n\n391\n00:20:08.230 --> 00:20:10.400\nI'm pretty sure we covered\nit in another episode.\n\n392\n00:20:10.400 --> 00:20:11.860\nReal quick rundown though,\n\n393\n00:20:11.860 --> 00:20:17.230\nthat's basically in the domain lab.net\nthere's an OU called groups, all right.\n\n394\n00:20:18.940 --> 00:20:21.720\nSo lab.net OU called groups.\n\n395\n00:20:21.720 --> 00:20:26.470\nInside groups is an OU called sales and\nthat's where I wanna make that object.\n\n396\n00:20:26.470 --> 00:20:31.130\n>> So we're basically just working our way\nbackwards through the organizational unit?\n\n397\n00:20:31.130 --> 00:20:31.780\n>> Exactly.\n\n398\n00:20:31.780 --> 00:20:32.750\nThat's exactly right.\n\n399\n00:20:32.750 --> 00:20:34.690\nThat's what they mean by\nthat distinguished name,\n\n400\n00:20:34.690 --> 00:20:36.640\nthat path in the database to that object.\n\n401\n00:20:36.640 --> 00:20:40.850\nSo we hit Enter, and I should've put\na pass-through on there, but good enough.\n\n402\n00:20:40.850 --> 00:20:42.702\nSo I get no text back.\n\n403\n00:20:42.702 --> 00:20:48.150\nPower Shell typically,\nunless you add a dash path pass-through,\n\n404\n00:20:48.150 --> 00:20:51.030\nyou get no results if it works,\nyou only get errors.\n\n405\n00:20:51.030 --> 00:20:56.260\nYou can always add a dash pass,\nif I can spell that.\n\n406\n00:20:58.180 --> 00:20:59.253\nWow.\n\n407\n00:20:59.253 --> 00:20:59.970\n>> Which you can not.\n\n408\n00:20:59.970 --> 00:21:01.085\n>> Yeah, and evidently I can't.\n\n409\n00:21:01.085 --> 00:21:04.105\n[LAUGH] You know what I'm trying to spell.\n\n410\n00:21:04.105 --> 00:21:05.534\n>> [LAUGH]\n>> Dash pass through there, and\n\n411\n00:21:05.534 --> 00:21:08.421\nthen you'll get results,\nyou'll actually see that there.\n\n412\n00:21:08.421 --> 00:21:09.495\nAll right, and let's see if it works.\n\n413\n00:21:09.495 --> 00:21:13.090\nI'm gonna go to my sales OU,\nand, no group.\n\n414\n00:21:13.090 --> 00:21:13.604\n>> Dun dun dun.\n\n415\n00:21:13.604 --> 00:21:16.580\n[LAUGH]\n>> [LAUGH] Yeah, remember Active Directory\n\n416\n00:21:16.580 --> 00:21:19.770\ndoesn't refresh automatically, so\nsince I already had it open I'm\n\n417\n00:21:19.770 --> 00:21:24.250\ngonna have to manually refresh, and sure\nenough, there's my sales managers group.\n\n418\n00:21:24.250 --> 00:21:27.050\nIt's got my name that I gave it and\n\n419\n00:21:27.050 --> 00:21:31.740\nit is a global security group,\njust like I typed in from the command.\n\n420\n00:21:31.740 --> 00:21:36.690\nSo easy enough to create those,\neither through the gooey or\n\n421\n00:21:36.690 --> 00:21:39.210\nif you want to start automating things or\nscripting things,\n\n422\n00:21:39.210 --> 00:21:43.400\nwe've got that Power Shell command that\nwe can use to create those groups.\n\n423\n00:21:43.400 --> 00:21:46.320\nAll right, now Daniel I think we should\nprobably talk about why we've got all\n\n424\n00:21:46.320 --> 00:21:50.900\nthose different types of groups and a good\nstrategy for using those groups, and\n\n425\n00:21:50.900 --> 00:21:53.920\nI've got a little diagram\nthat I've whipped up for us.\n\n426\n00:21:53.920 --> 00:21:55.170\n>> Diagrams.\n>> Yeah.\n\n427\n00:21:55.170 --> 00:21:58.755\nSo, let's see if I can find it here.\n\n428\n00:21:58.755 --> 00:22:04.084\n[NOISE] Let's see what we're doing,\nI believe it's that one.\n\n429\n00:22:04.084 --> 00:22:04.803\nThere we go.\n\n430\n00:22:06.381 --> 00:22:11.943\nAll right, so Microsoft has a strategy\nthat's AG [NOISE] I did it the old way.\n\n431\n00:22:11.943 --> 00:22:12.710\n>> You almost did it.\n\n432\n00:22:12.710 --> 00:22:14.110\n>> I did.\nAll right, I'll go ahead and\n\n433\n00:22:14.110 --> 00:22:20.430\ntell you guys, AGDLP is what I learned\nway back in the day, back in 2000.\n\n434\n00:22:20.430 --> 00:22:25.356\nIt's no longer ADDLP, it's now IGDLA.\n\n435\n00:22:25.356 --> 00:22:28.876\nAnd in fact, let's put that up there at\nthe top, I probably should have done that.\n\n436\n00:22:28.876 --> 00:22:29.630\n>> That way you won't forget.\n\n437\n00:22:29.630 --> 00:22:32.563\n[LAUGH]\n>> Yeah, exactly.\n\n438\n00:22:32.563 --> 00:22:34.295\n>> Old habits die hard, don't they?\n\n439\n00:22:34.295 --> 00:22:36.090\n>> They do, they really, really do.\n\n440\n00:22:36.090 --> 00:22:41.531\nLet's go ahead and put this up here, and\n\n441\n00:22:41.531 --> 00:22:46.830\nI'm gonna say IGDLA instead of AGDLP.\n\n442\n00:22:46.830 --> 00:22:50.030\nAlthough in the end it really\ndoes mean the same thing.\n\n443\n00:22:50.030 --> 00:22:51.920\nWhat they're saying there is identities.\n\n444\n00:22:51.920 --> 00:22:53.510\nThe I is for identities.\n\n445\n00:22:53.510 --> 00:22:56.250\nWe want to nest,\nwe want to take our identities and\n\n446\n00:22:56.250 --> 00:22:59.030\nput them into global groups, all right.\n\n447\n00:22:59.030 --> 00:23:04.820\nGlobal groups are most commonly used to\ngather up users that have the same role,\n\n448\n00:23:04.820 --> 00:23:06.860\nthat are gonna need the same permissions.\n\n449\n00:23:06.860 --> 00:23:10.515\nSo we make global groups based on,\nbasically job positions, right.\n\n450\n00:23:10.515 --> 00:23:12.655\nSales users, that's one global group.\n\n451\n00:23:12.655 --> 00:23:15.285\nHelp desk tier one,\nthat's one global group.\n\n452\n00:23:15.285 --> 00:23:17.815\nIT admins, that's another global group.\n\n453\n00:23:17.815 --> 00:23:19.795\nCEO, maybe that's a global group.\n\n454\n00:23:19.795 --> 00:23:24.090\nSo you make global groups to gather\nup the users that I wanna treat\n\n455\n00:23:24.090 --> 00:23:28.030\nas a single object, all right, people\nthat need the same sets of permission,\n\n456\n00:23:28.030 --> 00:23:30.810\npeople that have the same job role.\n\n457\n00:23:30.810 --> 00:23:35.080\nThat's what we use the global groups for,\nand we usually name them based on that.\n\n458\n00:23:35.080 --> 00:23:39.850\nLike here's my green circle is my\nglobal group on this diagram, and\n\n459\n00:23:39.850 --> 00:23:41.390\nI've called it Sales Users.\n\n460\n00:23:41.390 --> 00:23:43.460\nOther people know, other admins know,\n\n461\n00:23:43.460 --> 00:23:48.340\nhey I bet that that group contains people\nthat work in the sales department, right.\n\n462\n00:23:48.340 --> 00:23:50.292\nIt's nice and explanatory.\n\n463\n00:23:50.292 --> 00:23:54.872\nSo I take my identities and\nI put them in my global groups.\n\n464\n00:23:54.872 --> 00:23:57.574\nThat's the the IG, right.\n\n465\n00:23:57.574 --> 00:24:02.652\nThen the global groups, the g,\nThat goes into domain local groups.\n\n466\n00:24:02.652 --> 00:24:06.735\nDomain local groups, according to\nMicrosoft's recommendation, is gonna be,\n\n467\n00:24:06.735 --> 00:24:10.530\nwe use domain local groups to\nactually assign the permissions.\n\n468\n00:24:10.530 --> 00:24:13.570\nSo you could see I've made\na domain local group and\n\n469\n00:24:13.570 --> 00:24:16.860\nI've named it not over\nwho's gonna be a member.\n\n470\n00:24:16.860 --> 00:24:20.340\nBut the permission I'm gonna\nassign using this group.\n\n471\n00:24:20.340 --> 00:24:23.160\nThere's a folder called\nSales Report in this case and\n\n472\n00:24:23.160 --> 00:24:27.190\nI'm gonna use this group to give them\nread permissions over, all right?\n\n473\n00:24:27.190 --> 00:24:30.230\nAnd you're gonna take your\ndomain global group and\n\n474\n00:24:30.230 --> 00:24:32.390\nput it in your domain local group.\n\n475\n00:24:32.390 --> 00:24:34.460\nNow could you just take\nthe global group and\n\n476\n00:24:34.460 --> 00:24:36.900\ngive it read permission\nover that resource?\n\n477\n00:24:36.900 --> 00:24:37.430\nAbsolutely.\n\n478\n00:24:37.430 --> 00:24:38.270\nYou could.\n\n479\n00:24:38.270 --> 00:24:41.240\nBut here's what then Microsoft\nwants you to think about.\n\n480\n00:24:41.240 --> 00:24:45.670\nThey might not be the only ones that\nneed Read permission over that resource.\n\n481\n00:24:45.670 --> 00:24:49.290\nMy marketing people need to be\nable to read those sales reports.\n\n482\n00:24:49.290 --> 00:24:51.530\nThey can see how effective\nthe marketing is doing or whatever.\n\n483\n00:24:53.130 --> 00:24:57.140\nAnd if I start adding individual global\ngroups to this access control list,\n\n484\n00:24:57.140 --> 00:25:00.460\nwe start running into the same problem\nwe had when we we're using users\n\n485\n00:25:00.460 --> 00:25:01.670\nin that access control list.\n\n486\n00:25:01.670 --> 00:25:04.200\nRight?\nWe get too many groups listed in there.\n\n487\n00:25:04.200 --> 00:25:07.970\nSo you create this based on\nthe permission, And then if I,\n\n488\n00:25:07.970 --> 00:25:11.880\nif the boss comes to me and says marketing\nneeds read permission over that as well.\n\n489\n00:25:11.880 --> 00:25:14.930\nI've already probably have a group called\nmarketing users because I've done my job\n\n490\n00:25:14.930 --> 00:25:16.260\nwith my global groups.\n\n491\n00:25:16.260 --> 00:25:18.730\nAll I have to do is add it\nto the domain local group.\n\n492\n00:25:18.730 --> 00:25:20.355\nAnd badda bing,\nthey've got the permissions,\n\n493\n00:25:20.355 --> 00:25:23.295\nthey've got read access over sales\nreports, comes to me tomorrow and says,\n\n494\n00:25:23.295 --> 00:25:26.425\nyou know what, I don't want marketing to\nbe able to access those reports anymore.\n\n495\n00:25:26.425 --> 00:25:29.235\nAll I've got to do is pull\nmarketing out of that sales report\n\n496\n00:25:29.235 --> 00:25:32.645\nunderscore read folder, and\nthey no longer have that permission.\n\n497\n00:25:32.645 --> 00:25:38.705\nSo global groups get nested into my\ndomain local groups and then the access,\n\n498\n00:25:38.705 --> 00:25:43.275\nin this case read permission, is gonna\nbe assigned to the domain local group.\n\n499\n00:25:44.610 --> 00:25:47.570\nSo that's what we're gonna do for\nour group strategy, and\n\n500\n00:25:47.570 --> 00:25:50.700\nit works well, it works extremely\nwell as a matter of fact,\n\n501\n00:25:50.700 --> 00:25:53.000\nuntil we get into a multi\ndomain environment.\n\n502\n00:25:53.000 --> 00:25:55.800\nOnce we get into a multi domain\nenvironment, now we've got a little bit of\n\n503\n00:25:55.800 --> 00:26:02.420\na problem, because, I have sales\nusers in my other domain as well.\n\n504\n00:26:03.790 --> 00:26:07.540\nRemember, global groups cannot\ncontain users from other domains.\n\n505\n00:26:07.540 --> 00:26:09.949\nSo I can't take these little\npeeps down here, oops.\n\n506\n00:26:09.949 --> 00:26:10.730\n>> [LAUGH]\n>> And\n\n507\n00:26:10.730 --> 00:26:12.975\nstretch them out until\nthey're 20 feet tall.\n\n508\n00:26:12.975 --> 00:26:14.590\n[LAUGH]\n>> What have you done, Michael?\n\n509\n00:26:14.590 --> 00:26:19.460\n>> I can't take a user from domain b\ndown here and put it in this group for\n\n510\n00:26:19.460 --> 00:26:21.205\nsales users in domain a.\n\n511\n00:26:21.205 --> 00:26:23.880\nIt' s not allowed with my global groups.\n\n512\n00:26:23.880 --> 00:26:27.610\nThat's where universal groups\nare going to come into play.\n\n513\n00:26:27.610 --> 00:26:30.960\nOnce you get into a multi\ndomain environment\n\n514\n00:26:30.960 --> 00:26:34.050\nYou need to bring universal\ngroups into our strategy.\n\n515\n00:26:34.050 --> 00:26:36.490\nAnd so the strategy changes.\n\n516\n00:26:36.490 --> 00:26:37.100\nRight?\n\n517\n00:26:37.100 --> 00:26:42.190\nInstead of doing IGDLA\nwe're gonna come in here.\n\n518\n00:26:42.190 --> 00:26:43.370\nWe're gonna change this up.\n\n519\n00:26:43.370 --> 00:26:47.790\nWe're gonna say IGUDLA.\n\n520\n00:26:47.790 --> 00:26:51.830\nIdentities in a global groups,\nglobal groups in universal groups.\n\n521\n00:26:51.830 --> 00:26:54.040\nUniversal groups into domain local groups.\n\n522\n00:26:54.040 --> 00:26:55.640\nAccess is given to\nthe domain local groups.\n\n523\n00:26:55.640 --> 00:26:59.490\nWe're just going to slip the universal\ngroup in between global and domain local.\n\n524\n00:26:59.490 --> 00:27:01.840\nSo it's going to look something like this.\n\n525\n00:27:01.840 --> 00:27:04.620\nInstead of taking that global group and\nputting him over there,\n\n526\n00:27:04.620 --> 00:27:06.420\nwe're going to put him in here.\n\n527\n00:27:06.420 --> 00:27:06.960\nRight?\n\n528\n00:27:06.960 --> 00:27:10.860\nAnd then we're going to take this other.\n\n529\n00:27:10.860 --> 00:27:14.659\nWe're going to swing\nthis guy way around here.\n\n530\n00:27:15.870 --> 00:27:17.340\nOops.\n\n531\n00:27:17.340 --> 00:27:21.133\nWe'll end up snaking that guy around,\nmake that look a little better.\n\n532\n00:27:21.133 --> 00:27:26.423\nAnd we're gonna put that group\ninto this universal group up here.\n\n533\n00:27:26.423 --> 00:27:34.345\nAnd maybe this universal group is called\nsomething like All sales, alright.\n\n534\n00:27:34.345 --> 00:27:38.060\nAnd I know you guys probably\ncan't see that there we'll bump\n\n535\n00:27:38.060 --> 00:27:38.760\nthat up a little bit.\n\n536\n00:27:40.800 --> 00:27:42.160\nGood, cause that means all sales.\n\n537\n00:27:42.160 --> 00:27:46.400\nSales users from domain A,\nas well as sales users from domain B.\n\n538\n00:27:46.400 --> 00:27:53.800\nAnd in the access, or I'm gonna take\nthat universal group, I should say.\n\n539\n00:27:53.800 --> 00:27:59.170\nAnd I'm gonna drop that into\nthat domain local group.\n\n540\n00:27:59.170 --> 00:27:59.960\nAll right?\n\n541\n00:27:59.960 --> 00:28:03.330\nSo you see how I take the global groups\nand I put them inside the universal group.\n\n542\n00:28:03.330 --> 00:28:07.300\nAnd then the universal group is given,\nis put inside the domain local group.\n\n543\n00:28:07.300 --> 00:28:09.380\nThe domain local group is\nstill given the access.\n\n544\n00:28:09.380 --> 00:28:11.610\nAnd here's the advantage to this.\n\n545\n00:28:11.610 --> 00:28:17.060\nIf we, cuz it might seem like an extra\nstep, but here's what happens.\n\n546\n00:28:17.060 --> 00:28:19.760\nLet's say we do something like this.\n\n547\n00:28:21.290 --> 00:28:22.020\nIf it'll let me.\n\n548\n00:28:23.510 --> 00:28:29.640\nWhat if next week we pick up another\ndomain in our environment, right?\n\n549\n00:28:29.640 --> 00:28:30.890\nOh.\nEasy enough.\n\n550\n00:28:33.870 --> 00:28:37.999\nAll I have to do then because those\nsales people need that same access.\n\n551\n00:28:39.460 --> 00:28:41.610\nOne easy move.\n\n552\n00:28:41.610 --> 00:28:44.710\nWell, not so easy on my simple diagrams.\n\n553\n00:28:44.710 --> 00:28:45.220\nBut once you [INAUDIBLE].\n\n554\n00:28:45.220 --> 00:28:47.470\nAll I have to do is create that group.\n\n555\n00:28:47.470 --> 00:28:48.850\nPut them in the universal group.\n\n556\n00:28:48.850 --> 00:28:50.370\nAnd I'm done, right?\n\n557\n00:28:50.370 --> 00:28:52.375\nSo the expandability, the flexibility,\n\n558\n00:28:52.375 --> 00:28:55.385\nthe scalability that you get\nby following this solution.\n\n559\n00:28:55.385 --> 00:28:57.035\nThat's why Microsoft recommends it.\n\n560\n00:28:57.035 --> 00:28:59.825\nYes, when you're a small organization\nit's gonna seem like extra steps.\n\n561\n00:28:59.825 --> 00:29:02.505\nWhy the heck am I creating all\nof these different groups and\n\n562\n00:29:02.505 --> 00:29:04.440\ngroup types and blah,blah, blah?\n\n563\n00:29:04.440 --> 00:29:07.900\nBecause you're gonna grow,\nbecause you're going to scale, and\n\n564\n00:29:07.900 --> 00:29:11.550\nyou want your solution to scale with you.\n\n565\n00:29:11.550 --> 00:29:13.380\nI could make another example.\n\n566\n00:29:13.380 --> 00:29:19.210\nWhat if I took, let's see if it'll\nlet me copy this guy in there,\n\n567\n00:29:19.210 --> 00:29:24.840\ndun dun dum, let's say that it\nwon't let me grab that folder.\n\n568\n00:29:24.840 --> 00:29:29.160\nNow if I just move that out of the way for\njust a second.\n\n569\n00:29:29.160 --> 00:29:31.010\nNow I'm really gonna goof up that drawing.\n\n570\n00:29:31.010 --> 00:29:37.130\nAnyway, you know if we took that, let's\npretend there is another folder over here.\n\n571\n00:29:37.130 --> 00:29:39.480\nI'll just draw a new one, heck with it.\n\n572\n00:29:39.480 --> 00:29:44.510\nIf it will let me play along.\n\n573\n00:29:44.510 --> 00:29:50.920\n[SOUND] And, of course,\nI don't remember where that folder was.\n\n574\n00:29:50.920 --> 00:29:52.880\nBut, any who, there it is.\n\n575\n00:29:52.880 --> 00:29:55.480\nLet's say tomorrow we come up\na resource in this domain.\n\n576\n00:29:55.480 --> 00:29:57.920\nThat all those sales users need access to.\n\n577\n00:29:57.920 --> 00:29:58.650\nAll right?\n\n578\n00:29:58.650 --> 00:30:02.020\nWell, all I have to do is create\nanother domain local group.\n\n579\n00:30:02.020 --> 00:30:04.490\nAnd for some reason my copy is\nnot letting me play along here.\n\n580\n00:30:04.490 --> 00:30:08.420\nI can create another domain\nlocal group down here,\n\n581\n00:30:08.420 --> 00:30:13.340\ngive it access to that resource, dump that\nuniversal group in there, and I'm done.\n\n582\n00:30:13.340 --> 00:30:17.350\nAll sales people from all three domains\njust got permission over that resource\n\n583\n00:30:17.350 --> 00:30:20.270\nby doing two things, creating one\ndomain local group, three things,\n\n584\n00:30:20.270 --> 00:30:23.030\none domain local group,\nassigning the permission, and\n\n585\n00:30:23.030 --> 00:30:25.390\nthen adding that universal group\nto the domain local group.\n\n586\n00:30:25.390 --> 00:30:29.330\nSo that's what you get by following\nthis IGDLA or this IGUDLA.\n\n587\n00:30:31.050 --> 00:30:32.070\n>> Yeah, and don't worry.\n\n588\n00:30:32.070 --> 00:30:36.990\nIt's not like you're gonna see\nThree sales users or sales groups\n\n589\n00:30:36.990 --> 00:30:40.900\nfolders in your access control list and\ngo well, which one's which?\n\n590\n00:30:40.900 --> 00:30:45.140\nIt'll identify this one's from domain A,\nthis one's from domain B, and domain C and\n\n591\n00:30:45.140 --> 00:30:46.330\nso on and so forth.\n\n592\n00:30:46.330 --> 00:30:48.320\nSo even though they have the same names.\n\n593\n00:30:48.320 --> 00:30:49.300\nMike is right.\n\n594\n00:30:49.300 --> 00:30:53.920\nThat's gonna create a problem for us,\norganizationally in our brains, so\n\n595\n00:30:53.920 --> 00:30:56.120\nMicrosoft helps us out with that,\nthank goodness,\n\n596\n00:30:56.120 --> 00:30:58.120\nby putting those domains in front of it.\n\n597\n00:30:58.120 --> 00:31:02.500\nDoesn't that, Mike, this is basic group\nstrategy, showing them how to make a basic\n\n598\n00:31:02.500 --> 00:31:07.290\ngroup with universal groups and\nglobal groups and domain local groups.\n\n599\n00:31:07.290 --> 00:31:10.320\nThey all have their place, and\nit's all about that strategy.\n\n600\n00:31:10.320 --> 00:31:12.600\nHow's the best way to do this?\n\n601\n00:31:12.600 --> 00:31:15.780\nThank goodness they've\nactually vetted it out for us.\n\n602\n00:31:15.780 --> 00:31:17.320\n>> Yeah.\nAnd know that strategy.\n\n603\n00:31:17.320 --> 00:31:20.700\nCuz on the exam that's what Microsoft is\ngonna want you to use if they ask you any\n\n604\n00:31:20.700 --> 00:31:23.630\nquestions about setting permissions up or\nsomething like that.\n\n605\n00:31:23.630 --> 00:31:26.560\nAnd they'll tell you what groups you have\nThey're gonna wanna make sure you follow\n\n606\n00:31:26.560 --> 00:31:28.850\nthat IGDLA or that IGUDLA.\n\n607\n00:31:28.850 --> 00:31:30.924\n>> Yeah, they're sticklers for that.\n\n608\n00:31:30.924 --> 00:31:31.646\n[LAUGH]\n\n609\n00:31:31.646 --> 00:31:32.750\n>> [LAUGH]\n>> All right.\n\n610\n00:31:32.750 --> 00:31:34.760\nWell, that looks like we've\ncome to the end of yet\n\n611\n00:31:34.760 --> 00:31:36.840\nanother great episode here at ITProTV.\n\n612\n00:31:36.840 --> 00:31:39.030\nSo we're gonna go ahead and sign off.\n\n613\n00:31:39.030 --> 00:31:40.640\nI've been your host, Daniel Lowrie.\n\n614\n00:31:40.640 --> 00:31:41.430\n>> And I'm Mike Roderick.\n\n615\n00:31:41.430 --> 00:31:42.550\n>> And we'll see you next time.\n\n616\n00:31:42.550 --> 00:31:47.800\n[MUSIC]\n\n",
          "vimeoId": "134193106"
        },
        {
          "description": "In this episode Daniel and Mike conclude their discussion on Active Directory Groups.  They leverage PowerShell for creating groups and demonstrate how the use of policies can be used to restrict the use of certain groups.",
          "length": "1753",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-15-1-active_directory_groups_pt2-072115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-15-1-active_directory_groups_pt2-072115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-15-1-active_directory_groups_pt2-072115-1-sm.jpg",
          "title": "Active Directory Groups Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.924\n[MUSIC]\n\n2\n00:00:10.924 --> 00:00:11.461\nAll right.\n\n3\n00:00:11.461 --> 00:00:15.930\nGreetings everyone and welcome to yet\nanother great episode of ITProTV.\n\n4\n00:00:15.930 --> 00:00:18.500\nI'm your host today Daniel Larry and\nhere with me,\n\n5\n00:00:18.500 --> 00:00:22.070\nas always when it comes to Active\nDirectory, none other than Mike Rodrick.\n\n6\n00:00:22.070 --> 00:00:22.960\nHow's it going today Mike?\n\n7\n00:00:22.960 --> 00:00:24.050\n>> It's going fantastic.\n\n8\n00:00:24.050 --> 00:00:26.480\nWe are continuing our\ndiscussion on group chat.\n\n9\n00:00:26.480 --> 00:00:31.353\nYou thought we were done but\nno we there's more to learn about groups.\n\n10\n00:00:31.353 --> 00:00:32.905\n[LAUGH] That's right.\n\n11\n00:00:32.905 --> 00:00:35.545\n>> We pull you back in when\nyou think you're done.\n\n12\n00:00:35.545 --> 00:00:36.075\n>> That's right.\n\n13\n00:00:36.075 --> 00:00:37.125\nExactly.\n\n14\n00:00:37.125 --> 00:00:40.305\nIn that previous episode,\nif you missed it go check it out,\n\n15\n00:00:40.305 --> 00:00:41.615\nit was a good episode I thought.\n\n16\n00:00:41.615 --> 00:00:43.955\nBut we need to now that we've\ngot our groups created,\n\n17\n00:00:43.955 --> 00:00:47.515\nthey won't do us much good until we\nstart adding people to the groups.\n\n18\n00:00:47.515 --> 00:00:51.060\nWe talked about how a group\nwas a membership list.\n\n19\n00:00:51.060 --> 00:00:53.260\nWell we need to see how\nwe can add people or\n\n20\n00:00:53.260 --> 00:00:56.250\nadd them to that list so lets take a look.\n\n21\n00:00:56.250 --> 00:00:59.150\nOn my screen here,\nI've active directory opened up and\n\n22\n00:00:59.150 --> 00:01:02.478\nI'm gonna go with a couple of\nways you can do it as always.\n\n23\n00:01:02.478 --> 00:01:07.840\nThrough the GUI there's a couple of\nways even, i can go to the group itself\n\n24\n00:01:07.840 --> 00:01:13.510\nin the sales user and I can go to\nthe members tab and I can click add.\n\n25\n00:01:13.510 --> 00:01:16.540\nAnd that opens up my little dialogue\nbox and I can do a search and\n\n26\n00:01:16.540 --> 00:01:20.150\nI can find that person or\npersons or identities.\n\n27\n00:01:20.150 --> 00:01:22.900\nRemember it's not just users,\nit can be computers and\n\n28\n00:01:22.900 --> 00:01:24.760\nother groups that I'm adding.\n\n29\n00:01:24.760 --> 00:01:28.290\nOne thing that I do want to point out\nthough that this does not search for\n\n30\n00:01:28.290 --> 00:01:31.680\ncomputers by default\nbecause it's not as common.\n\n31\n00:01:31.680 --> 00:01:37.120\nSo if you pay attention here, users\nService accounts, groups, other objects.\n\n32\n00:01:37.120 --> 00:01:38.530\nA computer is not another object.\n\n33\n00:01:38.530 --> 00:01:40.410\nSo if you're ever looking for\na computer account.\n\n34\n00:01:40.410 --> 00:01:43.930\nFor example, I've got a computer\ncalled SVR01 out there.\n\n35\n00:01:43.930 --> 00:01:45.510\nI do a little check names.\n\n36\n00:01:45.510 --> 00:01:47.330\nIt says there's no such thing as SVR01.\n\n37\n00:01:48.510 --> 00:01:49.760\nWell I know there is.\n\n38\n00:01:49.760 --> 00:01:54.090\nIf I go to object types,\nI'll see that computers is not selected.\n\n39\n00:01:54.090 --> 00:01:55.330\nI click okay.\n\n40\n00:01:55.330 --> 00:01:58.000\nAnd now when I do check names,\nit finds it just fine.\n\n41\n00:01:58.000 --> 00:01:59.110\nSo something to keep in mind.\n\n42\n00:02:00.380 --> 00:02:03.415\nSo I could search for\nuser this way and this is handy.\n\n43\n00:02:03.415 --> 00:02:08.135\nIf I want to add more than one user\nto this group at the same time\n\n44\n00:02:08.135 --> 00:02:11.275\nI can separate them with semicolons\nin that little dialogue box.\n\n45\n00:02:11.275 --> 00:02:14.135\nI could just start listing them out there.\n\n46\n00:02:14.135 --> 00:02:18.195\nDo my little check names and\nI can add multiple users at the same time.\n\n47\n00:02:18.195 --> 00:02:20.515\nOr I can go to the user itself.\n\n48\n00:02:20.515 --> 00:02:25.140\nSo over here in sales I got everybody's\nfavorite salesperson, Mr. Al Bundy.\n\n49\n00:02:25.140 --> 00:02:29.760\nI can pull up his properties, and\nI can go to the Member of tab.\n\n50\n00:02:29.760 --> 00:02:32.650\nAnd here I can see what\ngroups this user belongs to,\n\n51\n00:02:32.650 --> 00:02:35.180\nand I've got an Add button as well.\n\n52\n00:02:35.180 --> 00:02:40.160\nSo if I wanna add this user to\nmore than one group in one step,\n\n53\n00:02:40.160 --> 00:02:41.230\nthis is a better way to go.\n\n54\n00:02:41.230 --> 00:02:45.430\nBecause I can again separate the names\nof the groups with semicolons here.\n\n55\n00:02:45.430 --> 00:02:47.750\nAnd add him to more than\none group at the same time.\n\n56\n00:02:47.750 --> 00:02:52.130\nSo I'll go ahead and\ndump old Al in that sales users group.\n\n57\n00:02:52.130 --> 00:02:54.020\nCheck Names, it finds it and\nunderlines it.\n\n58\n00:02:54.020 --> 00:02:57.290\nI love that Check Names option cuz\nyou can type a few characters and\n\n59\n00:02:57.290 --> 00:02:59.590\nit's gonna underline it if it finds it.\n\n60\n00:02:59.590 --> 00:03:01.540\nSo you know that you\ndidn't make any typos.\n\n61\n00:03:01.540 --> 00:03:03.950\nYou click OK, and there you go.\n\n62\n00:03:03.950 --> 00:03:06.819\nAl is now a member of\nthe sales users group.\n\n63\n00:03:07.970 --> 00:03:08.670\nAnd we'll click OK.\n\n64\n00:03:08.670 --> 00:03:12.110\nSo I couple of different ways I could do\nit through the GUI, I can go to the group\n\n65\n00:03:12.110 --> 00:03:16.410\nand go to the members tab, I can go to the\nuser account or the computer account and\n\n66\n00:03:16.410 --> 00:03:18.130\ngo to the member of tab.\n\n67\n00:03:18.130 --> 00:03:19.800\nAnd I can add them to a group that way.\n\n68\n00:03:19.800 --> 00:03:23.570\nAll right,\neither way will accomplish the same thing.\n\n69\n00:03:23.570 --> 00:03:28.340\nBut of course, we can use PowerShell\nas well, so let's see how to do that.\n\n70\n00:03:28.340 --> 00:03:31.920\nPowerShell's the up and\ncoming way to manage, I say up and coming,\n\n71\n00:03:31.920 --> 00:03:35.750\nit's been around for a little while and\nit's a great way to manage things,\n\n72\n00:03:35.750 --> 00:03:39.800\nespecially because it allows me to\nstart stripping and do that automation.\n\n73\n00:03:39.800 --> 00:03:44.258\nThe command is simply add-ADGroupMember.\n\n74\n00:03:44.258 --> 00:03:49.420\nWhen I add-ADGroupMember, the name of the\ngroup that you want to add this person to.\n\n75\n00:03:51.080 --> 00:03:54.340\nI'll do sales managers for this one,\nand then the account name.\n\n76\n00:03:55.970 --> 00:03:59.180\nAnd I'll do a Willy Lomen there,\nand we'll put him in that group.\n\n77\n00:03:59.180 --> 00:04:02.230\nAnd again,\nno red text is usually a good thing.\n\n78\n00:04:02.230 --> 00:04:06.020\nIf I take a look at my sales department,\nI pull up my sales managers groups\n\n79\n00:04:06.020 --> 00:04:09.240\nproperties, take a look\nat the member's tab.\n\n80\n00:04:09.240 --> 00:04:12.820\nAnd sure enough, there's Mr.\nLomen in that sales managers group.\n\n81\n00:04:12.820 --> 00:04:16.450\nSo another way that I can add a user\nto a group is using PowerShell.\n\n82\n00:04:18.070 --> 00:04:20.120\nAll right, so hold on for a second.\n\n83\n00:04:20.120 --> 00:04:21.900\nThere was something I had just thought of,\nDaniel and\n\n84\n00:04:21.900 --> 00:04:24.950\nI was gonna say there and then I lost it.\n\n85\n00:04:24.950 --> 00:04:27.950\nIt will pop back into my head here,\nin just a second, I'm sure.\n\n86\n00:04:27.950 --> 00:04:30.360\nIf it was important it\nwill come back to me.\n\n87\n00:04:30.360 --> 00:04:31.200\nAll right.\nSo\n\n88\n00:04:31.200 --> 00:04:34.735\nthe next thing I want to talk about\nis converting group types and\n\n89\n00:04:34.735 --> 00:04:38.685\nconverting group scopes cuz sometimes\nwe need to change things, right?\n\n90\n00:04:38.685 --> 00:04:42.085\nThings change or\nwe made a mistake when we first created.\n\n91\n00:04:42.085 --> 00:04:45.005\nRemember, when we created a group\nwe had two big decisions to make\n\n92\n00:04:45.005 --> 00:04:48.565\nother than the name of the group,\nand that was the group type.\n\n93\n00:04:48.565 --> 00:04:50.275\nWas it gonna be a distribution group?\n\n94\n00:04:50.275 --> 00:04:51.935\nWas it gonna be a security group?\n\n95\n00:04:51.935 --> 00:04:52.895\nAnd then the group scope.\n\n96\n00:04:52.895 --> 00:04:56.250\nWas it gonna be universal,\ndomain local, or global?\n\n97\n00:04:56.250 --> 00:04:59.860\nAnd if I start with one,\nI can change it to the other one.\n\n98\n00:04:59.860 --> 00:05:02.970\nIf I come in here and\nlook at the properties of this group,\n\n99\n00:05:02.970 --> 00:05:07.170\nI can see the same options I\nhad when I created the group,\n\n100\n00:05:07.170 --> 00:05:09.760\nyou can see security or distribution.\n\n101\n00:05:09.760 --> 00:05:11.740\nAnd I can change it to a distribution, but\n\n102\n00:05:11.740 --> 00:05:14.920\nDaniel, there's a downside of doing that,\nright?\n\n103\n00:05:14.920 --> 00:05:18.590\nYeah, once you take it out of the security\ngroup, we gotta remember, if you watched\n\n104\n00:05:18.590 --> 00:05:22.990\nour previous show, we talked about this\nwith those DLs, those distribution groups,\n\n105\n00:05:22.990 --> 00:05:26.150\nwell, they don't get to see it, right,\ncuz they are not a security object.\n\n106\n00:05:26.150 --> 00:05:29.310\nThere's not gonna be no\npermissioning with this object,\n\n107\n00:05:29.310 --> 00:05:32.410\nso if you're going into a distribution,\n\n108\n00:05:32.410 --> 00:05:36.430\nif you're changing from that security\ngroup and that distribution group, and\n\n109\n00:05:36.430 --> 00:05:39.520\nremember, you're not gonna be able to\nset any permissions on this anymore.\n\n110\n00:05:39.520 --> 00:05:42.500\nAnd any permissions that it\ndid have are gonna go away,\n\n111\n00:05:42.500 --> 00:05:46.670\nand now you gotta do a little bit of\nmanagement, a little control over there.\n\n112\n00:05:46.670 --> 00:05:48.500\nMake sure everything and\nits ducks are in a row.\n\n113\n00:05:48.500 --> 00:05:51.980\nAnd then of course, the opposite is\ngonna be true if you go the other way.\n\n114\n00:05:51.980 --> 00:05:53.700\n>> We can actually try to see that.\n\n115\n00:05:53.700 --> 00:05:57.860\nIf we look in here I never actually done\nthis but let's try it, what the heck,\n\n116\n00:05:57.860 --> 00:05:58.490\nwe'll do it on live tv.\n\n117\n00:05:58.490 --> 00:06:00.570\nHere is my object SID.\n\n118\n00:06:00.570 --> 00:06:04.890\nSo this is the security identifier\nassociated with this particular object.\n\n119\n00:06:04.890 --> 00:06:06.930\nI'm gonna go back out to that general tab,\n\n120\n00:06:06.930 --> 00:06:11.060\nand I'm gonna choose distribution and\nI'm gonna click apply.\n\n121\n00:06:11.060 --> 00:06:11.750\nActually, you know what?\n\n122\n00:06:11.750 --> 00:06:13.820\nBefore I do that,\nlet's make a note of that.\n\n123\n00:06:13.820 --> 00:06:18.680\nCuz another important thing to\nunderstand is the last four on this guy,\n\n124\n00:06:18.680 --> 00:06:21.100\nlet's help remember that,\neasy one, 16, 16.\n\n125\n00:06:21.100 --> 00:06:24.640\nSo there's my SID for\nthis particular group.\n\n126\n00:06:24.640 --> 00:06:27.830\nI'm gonna go to general and\nI'm gonna change that to distribution and\n\n127\n00:06:27.830 --> 00:06:28.490\nI'm gonna click apply.\n\n128\n00:06:28.490 --> 00:06:30.170\nAnd it warns me, hey,\n\n129\n00:06:30.170 --> 00:06:33.350\nyou're gonna lose any permissions\nthat were assigned to this group.\n\n130\n00:06:33.350 --> 00:06:36.550\nI'm gonna say yes, all right.\n\n131\n00:06:36.550 --> 00:06:39.490\nAnd now we're gonna take a look at\nthat attribute editor again, and\n\n132\n00:06:39.490 --> 00:06:41.590\ngo down to that object SID.\n\n133\n00:06:41.590 --> 00:06:45.410\nAnd it's actually still there,\nstill listed?\n\n134\n00:06:46.630 --> 00:06:49.030\nHuh, let's close that and\ngo back in there.\n\n135\n00:06:49.030 --> 00:06:53.080\nI'll just see if that is just a left over.\n\n136\n00:06:55.790 --> 00:06:58.836\n>> I wouldn't be surprised if it\nleads that kind of thing over.\n\n137\n00:06:58.836 --> 00:07:01.390\n>> It's still listed there.\n>> I've seen this a lot.\n\n138\n00:07:01.390 --> 00:07:04.880\nYou'll see on permissions in those ECLs.\n\n139\n00:07:04.880 --> 00:07:07.330\nThat there would just be\na security identifier number.\n\n140\n00:07:07.330 --> 00:07:12.280\nAnd that's usually when you've orphaned\nthe actual object from it's SID.\n\n141\n00:07:12.280 --> 00:07:16.940\nSo the SID kinda lingers around,\neven though you've changed or\n\n142\n00:07:16.940 --> 00:07:17.770\nremoved something.\n\n143\n00:07:17.770 --> 00:07:20.780\nSo that does happen in a Microsoft\nenvironment, so just be aware.\n\n144\n00:07:20.780 --> 00:07:23.470\n>> It's interesting, and\nit did leave the same SID,\n\n145\n00:07:23.470 --> 00:07:26.990\nI changed it back and\nit's still 16, anyway, for\n\n146\n00:07:26.990 --> 00:07:31.640\nthe exam, that you need to understand\nthat when you convert a security group,\n\n147\n00:07:31.640 --> 00:07:35.690\nwhich is a security principle, has an SID\nassociated with it, when you convert that\n\n148\n00:07:35.690 --> 00:07:38.690\nthrough distribution, you're going to\nlose that SID and all of the permissions.\n\n149\n00:07:38.690 --> 00:07:42.760\nYou saw the warning that popped up, all\nof the permissions that were associated.\n\n150\n00:07:42.760 --> 00:07:44.860\nWith that particular group\nwe're gonna be lost.\n\n151\n00:07:44.860 --> 00:07:47.850\nAnd even if you convert it back into\na security group, go oh my gosh,\n\n152\n00:07:47.850 --> 00:07:50.111\nI did the wrong thing,\nI'm gonna convert it back.\n\n153\n00:07:50.111 --> 00:07:51.760\nIt's gonna get a new SID.\n\n154\n00:07:51.760 --> 00:07:53.993\nIt's a new object in the active directory.\n\n155\n00:07:53.993 --> 00:07:57.339\nAnd it will not have any of\nthe permissions that it used to have.\n\n156\n00:07:57.339 --> 00:08:01.008\nAll right, so you can convert, it's\nsimple enough to convert from security to\n\n157\n00:08:01.008 --> 00:08:04.280\ndistribution you just have to\nremember that SID will be lost.\n\n158\n00:08:04.280 --> 00:08:09.200\nThe other one that we can change is group\nscope, maybe I started with a global and\n\n159\n00:08:09.200 --> 00:08:13.465\nI realize oh, you know what, I'm gonna use\nthis to assign permissions if I follow my\n\n160\n00:08:13.465 --> 00:08:18.170\nIGDLA,, this should have been a domain\nlocal group I wanna convert it.\n\n161\n00:08:18.170 --> 00:08:20.000\nSo you can convert from\none type to another.\n\n162\n00:08:20.000 --> 00:08:24.467\nBut when you look at this group it started\nout as a global group when I created it,\n\n163\n00:08:24.467 --> 00:08:26.480\nnotice domain local is grayed out.\n\n164\n00:08:26.480 --> 00:08:29.899\nYou can convert global to universal.\n\n165\n00:08:29.899 --> 00:08:33.479\nYou can convert a universal\nback to a global.\n\n166\n00:08:33.479 --> 00:08:36.959\nYou can convert a domain\nlocal to a universal.\n\n167\n00:08:36.959 --> 00:08:40.720\nYou can convert a universal\nback to a domain local.\n\n168\n00:08:40.720 --> 00:08:45.850\nWhat you can't do is go from global to\ndomain local or domain local to global.\n\n169\n00:08:45.850 --> 00:08:46.900\nAll right.\n\n170\n00:08:46.900 --> 00:08:48.922\n>> Why?\n>> But what you can do, I don't know why.\n\n171\n00:08:48.922 --> 00:08:49.940\n>> [LAUGH]\n>> That's a good question.\n\n172\n00:08:49.940 --> 00:08:51.271\n>> What made them do these things?\n\n173\n00:08:51.271 --> 00:08:53.344\n[LAUGH]\n>> And you can get around it actually.\n\n174\n00:08:53.344 --> 00:08:55.379\n>> Yeah.\n>> Because if you start with a global you\n\n175\n00:08:55.379 --> 00:08:57.640\ncan convert that to a universal.\n\n176\n00:08:57.640 --> 00:09:00.590\nOnce it's a universal you can\nconvert that to a domain local and\n\n177\n00:09:00.590 --> 00:09:05.220\nyou ended up in a long, roundabout way\nconverting your global to a domain local.\n\n178\n00:09:05.220 --> 00:09:08.940\nYou just can't do it in one step for\nsome reason, who knows why.\n\n179\n00:09:08.940 --> 00:09:12.008\n>> Microsoft likes to go around\ntheir elbow to get to their back.\n\n180\n00:09:12.008 --> 00:09:15.305\n[LAUGH]\n>> Yeah, exactly, their back.\n\n181\n00:09:15.305 --> 00:09:17.790\n[LAUGH] So, keep that in mind.\n\n182\n00:09:17.790 --> 00:09:20.780\nYou can't go straight from global\nto domain local or vice versa.\n\n183\n00:09:20.780 --> 00:09:22.110\nYou have to take the roundabout way.\n\n184\n00:09:22.110 --> 00:09:26.810\nBasically the universal group becomes\na transition point, right, or\n\n185\n00:09:26.810 --> 00:09:29.000\na mid-point there on\nthat conversion process.\n\n186\n00:09:29.000 --> 00:09:30.200\nThe other thing you have to keep in mind,\n\n187\n00:09:30.200 --> 00:09:32.270\nis you can't violate any of the rules,\nright.\n\n188\n00:09:32.270 --> 00:09:35.820\nIf you've got a universal group,\n\n189\n00:09:35.820 --> 00:09:39.040\nthat universal group can contain\nmembers from other domains.\n\n190\n00:09:39.040 --> 00:09:40.720\nThat you created it in.\n\n191\n00:09:40.720 --> 00:09:42.190\nRemember a global group cannot.\n\n192\n00:09:42.190 --> 00:09:45.770\nA global group can only contain\nmembers from the same domain.\n\n193\n00:09:45.770 --> 00:09:49.630\nSo if I try to convert a universal to a\nglobal group, and that universal group had\n\n194\n00:09:49.630 --> 00:09:52.860\nusers from different domains,\nthat process is gonna fail.\n\n195\n00:09:52.860 --> 00:09:56.200\nBecause I would violate the rules\nof what a global group can contain.\n\n196\n00:09:56.200 --> 00:09:59.520\nSo any of those rules that we talked about\nin that previous episode that apply to\n\n197\n00:09:59.520 --> 00:10:02.790\nthose group scopes,\nthose will prevent you from converting.\n\n198\n00:10:02.790 --> 00:10:06.480\nYou would have to remove the members,\nthen you could convert it, right.\n\n199\n00:10:06.480 --> 00:10:09.454\nAnd once you've got it down to\njust one domain's worth of users,\n\n200\n00:10:09.454 --> 00:10:11.739\nthen you could convert it\ninto that global group.\n\n201\n00:10:11.739 --> 00:10:14.984\n>> Now Mike, what would be\na good reason or a reason for\n\n202\n00:10:14.984 --> 00:10:18.210\nus to be converting from\none group to the other?\n\n203\n00:10:18.210 --> 00:10:22.010\n>> I think what I see most often is,\nthey didn't follow the strategy in\n\n204\n00:10:22.010 --> 00:10:25.150\nthe beginning and\nnow they're trying to get things in line.\n\n205\n00:10:25.150 --> 00:10:29.070\nMaybe they started out with a simple\ndomain, a one domain forest, and\n\n206\n00:10:29.070 --> 00:10:30.855\nthey didn't feel like\nfollowing that strategy.\n\n207\n00:10:30.855 --> 00:10:32.505\nAnd now they wish they would've.\n\n208\n00:10:32.505 --> 00:10:36.435\nAnd they're trying to convert all\nthose groups and setup their IGDLAs.\n\n209\n00:10:36.435 --> 00:10:37.865\n>> They're cleaning up their own mess.\n\n210\n00:10:37.865 --> 00:10:39.335\n>> Yeah, exactly.\n>> That makes sense.\n\n211\n00:10:39.335 --> 00:10:41.570\nI've seen some pretty bad ADs before.\n\n212\n00:10:41.570 --> 00:10:45.000\n>> Yep.\n>> And this kinda functionality makes\n\n213\n00:10:45.000 --> 00:10:48.660\ncleaning things up, ordering it up, making\nit tidy, a little bit easier for us.\n\n214\n00:10:48.660 --> 00:10:50.430\n>> It does.\nEspecially the universal groups.\n\n215\n00:10:50.430 --> 00:10:54.650\nBecause if I'm a one domain shop,\nI probably didn't bother with universal\n\n216\n00:10:54.650 --> 00:10:58.650\ngroups because that was another\nstep I had to do in that process.\n\n217\n00:10:58.650 --> 00:11:00.360\nBut now we've just bought another company,\n\n218\n00:11:00.360 --> 00:11:03.480\nwe've brought their domain into forest or\nwhatever the case may be.\n\n219\n00:11:03.480 --> 00:11:07.220\nOr we've decided to make another domain\nto separate out RND or what have you.\n\n220\n00:11:07.220 --> 00:11:10.590\nAnd now all the sudden I've got more\nthan one domain in my forest and\n\n221\n00:11:10.590 --> 00:11:12.430\nI wish I would have used\nthose universal groups.\n\n222\n00:11:12.430 --> 00:11:14.930\nAnd so now I've gotta go back and\nstart changing some things around.\n\n223\n00:11:14.930 --> 00:11:17.295\n>> Well we saw how hard it\nwas to create a new group.\n\n224\n00:11:17.295 --> 00:11:18.912\nI mean it just takes forever.\n\n225\n00:11:18.912 --> 00:11:19.933\n>> [LAUGH]\n>> It's crazy.\n\n226\n00:11:19.933 --> 00:11:22.685\n>> To do it the right way.\n\n227\n00:11:22.685 --> 00:11:23.705\n>> All right so.\n\n228\n00:11:23.705 --> 00:11:25.845\n>> [LAUGH]\n>> So we can convert the group scope.\n\n229\n00:11:25.845 --> 00:11:27.865\nWe can convert the group type.\n\n230\n00:11:27.865 --> 00:11:29.615\nNothing too terribly difficult there.\n\n231\n00:11:29.615 --> 00:11:32.815\nJust gotta remember we cannot\nviolate any of those rules.\n\n232\n00:11:32.815 --> 00:11:36.400\nNext thing I wanna talk about is\nwhat we call enumeration, right?\n\n233\n00:11:36.400 --> 00:11:40.310\nListing group membership one of the things\nthat we need to be able to do is determine\n\n234\n00:11:40.310 --> 00:11:45.210\nhey what groups does this user belong\nto or who's a member of this group or\n\n235\n00:11:45.210 --> 00:11:47.860\nwhat other groups are nested within here.\n\n236\n00:11:47.860 --> 00:11:48.540\nAnd believe it or\n\n237\n00:11:48.540 --> 00:11:52.540\nnot Daniel, it's actually not the easiest\nthing to do in Active Directory.\n\n238\n00:11:52.540 --> 00:11:55.280\nYou go out and\nstart searching Tech Net for things.\n\n239\n00:11:55.280 --> 00:11:57.600\nAnd I'm gonna show you\na couple of the techniques.\n\n240\n00:11:57.600 --> 00:11:59.190\nThey're a little bit limited.\n\n241\n00:11:59.190 --> 00:12:02.300\nAnd if you really want to get a good list,\n\n242\n00:12:02.300 --> 00:12:06.910\nyou have to get into VB or\nVBA and do some scripting.\n\n243\n00:12:06.910 --> 00:12:07.490\nIt's kinda crazy.\n\n244\n00:12:07.490 --> 00:12:08.974\nPower Shell has changed some of that.\n\n245\n00:12:08.974 --> 00:12:11.250\n>> Yeah.\n>> Has made it a little bit easier though.\n\n246\n00:12:11.250 --> 00:12:12.860\nAll right.\nSo a couple of ways we can do it.\n\n247\n00:12:12.860 --> 00:12:14.568\nObviously, I could use the GUI.\n\n248\n00:12:14.568 --> 00:12:19.470\nI can double-click on a group, and\nI can go to the members tab, and\n\n249\n00:12:19.470 --> 00:12:21.790\nI can see who's a member of that group.\n\n250\n00:12:21.790 --> 00:12:26.530\nSo you can imagine dozens or hundreds of\npeople being listed here in this group.\n\n251\n00:12:26.530 --> 00:12:28.800\nI can also go to the member of tab.\n\n252\n00:12:28.800 --> 00:12:31.450\nAnd see if this group\nbelongs to anybody else.\n\n253\n00:12:31.450 --> 00:12:35.160\nSo this is one way to\nstart enumerating it.\n\n254\n00:12:35.160 --> 00:12:38.960\nAnd also, one thing I'll point out there,\n\n255\n00:12:38.960 --> 00:12:42.450\nis when you're looking at a members,\nin fact let's nest a group.\n\n256\n00:12:42.450 --> 00:12:45.870\nLet's put the managers\nin that user's group.\n\n257\n00:12:48.110 --> 00:12:50.732\nGo off the beaten path here again.\n\n258\n00:12:50.732 --> 00:12:55.880\nAll right so now when I look at my users\ngroup members I can see sales managers.\n\n259\n00:12:55.880 --> 00:12:57.400\nI don't have to close this and\n\n260\n00:12:57.400 --> 00:13:01.100\nthen go look because okay,\nI see Al's in the sales users.\n\n261\n00:13:01.100 --> 00:13:03.810\nBut sales managers is also\npart of the sales users.\n\n262\n00:13:03.810 --> 00:13:05.270\nWho's in sales managers?\n\n263\n00:13:05.270 --> 00:13:07.980\nI could close this and\ngo find the sales managers group and\n\n264\n00:13:07.980 --> 00:13:08.930\npull up it's properties.\n\n265\n00:13:08.930 --> 00:13:11.390\nOr I could just double-click\non it right there and\n\n266\n00:13:11.390 --> 00:13:15.480\nI can actually jump right into the sales\nmanagers properties from here, alright?\n\n267\n00:13:15.480 --> 00:13:17.550\nThen I can pull up\nWilly Loman's properties.\n\n268\n00:13:17.550 --> 00:13:20.540\nSo remember that you're not stuck,\nwhen you're in those properties,\n\n269\n00:13:20.540 --> 00:13:23.742\nthis is actually a usable list\nhere that we're looking at.\n\n270\n00:13:23.742 --> 00:13:28.380\nAll right, so through the GUI, basically\njust pulling up the properties and\n\n271\n00:13:28.380 --> 00:13:28.970\nlooking at them, right?\n\n272\n00:13:28.970 --> 00:13:32.290\nYou've got the members and the members of\ntab depending on whether you're looking at\n\n273\n00:13:32.290 --> 00:13:34.860\na group or user account's properties.\n\n274\n00:13:34.860 --> 00:13:38.000\nI can do this from\na command prompt as well.\n\n275\n00:13:38.000 --> 00:13:42.180\nWith a command prompt you're doing\nwhoever you're logged in as, all right?\n\n276\n00:13:42.180 --> 00:13:49.480\nSo, the command is just a whoami and\nI can do a switch /groups.\n\n277\n00:13:49.480 --> 00:13:52.610\nAnd that'll list all the groups and\nthat's a pretty ugly layout there.\n\n278\n00:13:52.610 --> 00:13:55.840\nHow about we do a little format.\n\n279\n00:13:59.160 --> 00:14:01.060\nOops.\n\n280\n00:14:01.060 --> 00:14:01.960\nThere we go.\n\n281\n00:14:01.960 --> 00:14:05.710\nAnd there I can see all of the different\ngroups that my user account belongs to.\n\n282\n00:14:05.710 --> 00:14:09.430\nSo I'm part of the built in users group,\nthe administrators group,\n\n283\n00:14:09.430 --> 00:14:11.070\nthe everyone group.\n\n284\n00:14:11.070 --> 00:14:13.320\nI'm also a member of the,\nlet's see what else,\n\n285\n00:14:13.320 --> 00:14:18.020\nauthenticated users group, all kinds of\ngood things, the domain admins group.\n\n286\n00:14:18.020 --> 00:14:19.600\nSo a handy little command there.\n\n287\n00:14:19.600 --> 00:14:23.570\nThe only thing is it doesn't give you\nan opportunity to change the context.\n\n288\n00:14:23.570 --> 00:14:27.770\nSo I can't say, hey who's Daniel,\nshow me what groups Daniel's a member of.\n\n289\n00:14:27.770 --> 00:14:29.720\nI can't do that here\nfrom the command prompt.\n\n290\n00:14:31.290 --> 00:14:33.220\nAll right, so that was the who am I.\n\n291\n00:14:33.220 --> 00:14:35.130\nI can also, and\nI can't believe I closed that,\n\n292\n00:14:35.130 --> 00:14:39.550\nI can also do it from\nmy Power Shell screen.\n\n293\n00:14:39.550 --> 00:14:43.150\nAgain this is just the Active Directory\nmodule for Windows Power Shell.\n\n294\n00:14:43.150 --> 00:14:46.100\nRemember, ladies and gentlemen, when\nyou're working with Power Shell, if you\n\n295\n00:14:46.100 --> 00:14:52.040\nopen up Power Shell down here off your\ntask bar, that doesn't load up by default.\n\n296\n00:14:52.040 --> 00:14:53.890\nIt doesn't load up that\nActive Directory module.\n\n297\n00:14:53.890 --> 00:14:55.900\nRemember, Power Shell's very modular.\n\n298\n00:14:55.900 --> 00:14:59.340\nYou only get the commands where you've\nloaded up those particular modules.\n\n299\n00:14:59.340 --> 00:15:02.860\nThere are commands that I can do from here\nto pull in the Active Directory module.\n\n300\n00:15:02.860 --> 00:15:07.080\nIn fact, if I If I try to use\na command I'll try it for you here.\n\n301\n00:15:07.080 --> 00:15:12.530\nLet's do a little get-adUser or\nsomething like that.\n\n302\n00:15:12.530 --> 00:15:16.430\nIf I try to use a command like that\nyou'll see it does actually load it up\n\n303\n00:15:16.430 --> 00:15:17.035\nin the backgrounds.\n\n304\n00:15:17.035 --> 00:15:20.300\nCuz they okay he's gonna try to use\nsome Active Directory commands.\n\n305\n00:15:20.300 --> 00:15:23.160\nI'll go get that module and\nI'll load it up real quick.\n\n306\n00:15:23.160 --> 00:15:24.610\nAnd sometimes it'll take a minute.\n\n307\n00:15:24.610 --> 00:15:27.580\nYou'll sit here and wait, and\nwait, and wait for it to load up.\n\n308\n00:15:27.580 --> 00:15:31.100\nYou can also modify your\nprofile to include that\n\n309\n00:15:31.100 --> 00:15:34.260\nmodule automatically when you\nlaunch it from down here.\n\n310\n00:15:34.260 --> 00:15:38.080\nBut from server manager, you can just\nlaunch the Active Directory module for\n\n311\n00:15:38.080 --> 00:15:39.500\nWindows Power Shell.\n\n312\n00:15:39.500 --> 00:15:44.875\nAnd that way you know you've got access to\nall of those Active Directory commands.\n\n313\n00:15:44.875 --> 00:15:45.415\nAll right.\n\n314\n00:15:45.415 --> 00:15:49.188\nAnd the command is simply\nget-adgroupmember,\n\n315\n00:15:49.188 --> 00:15:53.241\nget-adgroupmember and\nthen the name of the group.\n\n316\n00:15:53.241 --> 00:15:55.390\nWe'll say sales managers.\n\n317\n00:15:58.370 --> 00:16:01.550\nAnd there I can get\na list of those groups.\n\n318\n00:16:01.550 --> 00:16:03.220\nNow there's also a recursion.\n\n319\n00:16:03.220 --> 00:16:08.610\nI don't have a lot of nested groups here,\nbut there's a recursive switch I can use.\n\n320\n00:16:08.610 --> 00:16:09.970\nAnd let's see, if I'm doing sales.\n\n321\n00:16:09.970 --> 00:16:12.510\nLet's do sales users because\nI put the managers in there.\n\n322\n00:16:14.040 --> 00:16:17.980\nSo, let's do sales users, and\nthere's a nested group in there, right.\n\n323\n00:16:17.980 --> 00:16:21.735\nI put the sales managers\ninside sales users, and\n\n324\n00:16:21.735 --> 00:16:25.280\nyou'll see I see Al Bundy,\nhe's part of the sales users, but\n\n325\n00:16:25.280 --> 00:16:29.230\nI also see Willy Loman,\nhe was part of the sales manager's group.\n\n326\n00:16:29.230 --> 00:16:31.410\nSo, that's what that recursive does,\nit says, wait.\n\n327\n00:16:31.410 --> 00:16:32.960\nThere's a group inside this group.\n\n328\n00:16:32.960 --> 00:16:35.790\nLet me go get all the members from that\ngroup as well cause they're gonna get\n\n329\n00:16:35.790 --> 00:16:37.265\nthe same permissions, right?\n\n330\n00:16:37.265 --> 00:16:39.260\nCuz that group is nested.\n\n331\n00:16:39.260 --> 00:16:43.760\nNotice it doesn't tell me that Willy\nhere is not in the sales users.\n\n332\n00:16:43.760 --> 00:16:46.310\nHe's actually in the sales managers,\nright?\n\n333\n00:16:46.310 --> 00:16:49.190\nSo it's a little bit deceptive there\nif you're not paying attention.\n\n334\n00:16:49.190 --> 00:16:51.510\nIt doesn't tell you why\nit's showing you that one.\n\n335\n00:16:51.510 --> 00:16:54.140\nIt doesn't show you the fact\nthat it's a nested group, so\n\n336\n00:16:54.140 --> 00:16:56.330\nsomething to keep in mind\nwhen you're doing that.\n\n337\n00:16:57.902 --> 00:17:01.650\nAll right, so that's some different\nways I can do that group enumeration.\n\n338\n00:17:01.650 --> 00:17:04.430\nSometimes I need to do that because I need\nto figure out why this person doesn't have\n\n339\n00:17:04.430 --> 00:17:08.490\nthe right permissions, or why they're not\ngetting access to a particular resource.\n\n340\n00:17:08.490 --> 00:17:09.920\nThis is one of the things I can do.\n\n341\n00:17:09.920 --> 00:17:11.300\nLet me see if you're in the right group,\n\n342\n00:17:11.300 --> 00:17:14.490\noh, somebody forgot to put you in\nthe sales manager's group, and\n\n343\n00:17:14.490 --> 00:17:17.290\nthat's why you only have read\naccess to sales report, right?\n\n344\n00:17:17.290 --> 00:17:18.340\n>> Yeah.\n>> Happens all the time.\n\n345\n00:17:18.340 --> 00:17:21.390\n>> A lot of times I'll find myself\njust sitting there with two\n\n346\n00:17:21.390 --> 00:17:25.105\nproperties dialog boxes side by side,\nlooking through for\n\n347\n00:17:25.105 --> 00:17:26.995\nthe rights to make sure\neverything is right.\n\n348\n00:17:26.995 --> 00:17:28.225\nIs that person in this group?\n\n349\n00:17:28.225 --> 00:17:29.845\nAnd you start looking through that.\n\n350\n00:17:29.845 --> 00:17:32.245\nAnd that tends to be the easiest\nvisual way to do it.\n\n351\n00:17:32.245 --> 00:17:36.205\nThere's also some free tools out there or\nmaybe even some VBScripts that you can\n\n352\n00:17:36.205 --> 00:17:38.255\ndownload off the Internet\nthat can be very helpful.\n\n353\n00:17:38.255 --> 00:17:43.975\nNot a VBScript, but a very helpful tool\nI've used in the past was LazyWinAdmin,\n\n354\n00:17:43.975 --> 00:17:46.350\nwhich was an amazing tool.\n\n355\n00:17:46.350 --> 00:17:50.590\nAnd made this kind of thing a whole lot\neasier, but in the Windows environment\n\n356\n00:17:50.590 --> 00:17:53.750\nprobably the easiest thing to do is\njust either use a PowerShell script or\n\n357\n00:17:53.750 --> 00:17:58.730\nthe tool or to just pop those boxes up\nside by side and let that rock that way.\n\n358\n00:17:58.730 --> 00:18:00.720\n>> Absolutely, and\ncheck out the scripting, guys.\n\n359\n00:18:00.720 --> 00:18:03.040\nI know they've got a lot of great scripts.\n\n360\n00:18:03.040 --> 00:18:05.550\nAnd get some good starting points\nto help you write your own scripts.\n\n361\n00:18:05.550 --> 00:18:08.830\nBecause PowerShell is very powerful,\nyou just have to know how to use it.\n\n362\n00:18:08.830 --> 00:18:11.800\nSo take advantage of some of the stuff\nyou see on their site as well.\n\n363\n00:18:12.862 --> 00:18:15.910\nAll right, so next thing I'm\ngoing talk about is another thing\n\n364\n00:18:15.910 --> 00:18:19.250\nthey talk about here is what\nwe call restrictive groups.\n\n365\n00:18:19.250 --> 00:18:24.170\nI want to be able to control some\ngroup membership through group policy.\n\n366\n00:18:24.170 --> 00:18:28.770\nA fantastic little capability, so I wanted\nto take a minute and show you here.\n\n367\n00:18:30.100 --> 00:18:34.786\nNow inside, oops, that's Active Directory,\nthat's not what I want,\n\n368\n00:18:34.786 --> 00:18:38.273\nlet's open up that group\npolicy management console.\n\n369\n00:18:38.273 --> 00:18:44.853\nRestricted groups is a setting that I\ncan use to control group membership.\n\n370\n00:18:44.853 --> 00:18:51.801\nI'm gonna quickly make a new GPO and\nI'm just gonna call it.\n\n371\n00:18:51.801 --> 00:18:53.713\nActually what I am going to use this for\none for.\n\n372\n00:18:53.713 --> 00:18:59.909\nLets do help desk or something.\n\n373\n00:18:59.909 --> 00:19:00.950\nAnd I'll click OK.\n\n374\n00:19:00.950 --> 00:19:03.150\nAnd if you're not familiar\nwith group policy don't worry.\n\n375\n00:19:03.150 --> 00:19:08.300\nI've got plenty of episodes we're\ngonna cover group policy in depth.\n\n376\n00:19:08.300 --> 00:19:12.940\nBut for right now we're gonna come\ndown in here to my oops, not there.\n\n377\n00:19:12.940 --> 00:19:18.580\nMy Windows settings after it\ntakes a minute to expand out.\n\n378\n00:19:18.580 --> 00:19:24.180\nAnd then my security settings and\nin here I've got my restricted groups.\n\n379\n00:19:24.180 --> 00:19:28.360\nThis allows me to control certain group\nmembership but the key is to understand\n\n380\n00:19:28.360 --> 00:19:31.360\nwhat I can do with this and\nwhat I can't do with this right?\n\n381\n00:19:31.360 --> 00:19:35.210\nThis allows me to control\nlocal group memberships.\n\n382\n00:19:35.210 --> 00:19:37.630\nNot domain groups right?\n\n383\n00:19:37.630 --> 00:19:39.060\nLocal group memberships.\n\n384\n00:19:39.060 --> 00:19:43.230\nBut it's extremely handy\nbecause we can use it.\n\n385\n00:19:43.230 --> 00:19:45.740\nOne of the places I worked\nat not too long ago,\n\n386\n00:19:45.740 --> 00:19:48.670\nwe had an account that\neverybody used to log.\n\n387\n00:19:48.670 --> 00:19:52.570\nIt was a training facility,\neverybody logged on as student, and\n\n388\n00:19:52.570 --> 00:19:54.950\nwe reimaged those machines once a week.\n\n389\n00:19:54.950 --> 00:19:57.390\nBecause after a class,\nthe machines were trashed.\n\n390\n00:19:57.390 --> 00:20:01.480\nWho knows what the student did with the\nthing last week, so we would reimage them.\n\n391\n00:20:01.480 --> 00:20:05.820\nWell I needed that student account to be a\nlocal admin on that machine, so they could\n\n392\n00:20:05.820 --> 00:20:09.780\ndo their labs and their exercises and\ninstall software if they needed to and\n\n393\n00:20:09.780 --> 00:20:13.390\nhose up the machines, so I could reimage\nit at the end of the week, right?\n\n394\n00:20:13.390 --> 00:20:16.960\nI didn't want to have to go,\nevery time I reimaged these classrooms,\n\n395\n00:20:16.960 --> 00:20:21.320\ngo to each machine and say okay I want\nto add this domain account student\n\n396\n00:20:21.320 --> 00:20:25.330\ninto that local administrator's\ngroup on every single machine.\n\n397\n00:20:25.330 --> 00:20:27.070\nI used a group policy instead.\n\n398\n00:20:27.070 --> 00:20:28.480\nThat's what we can do\nwith this kind of thing.\n\n399\n00:20:28.480 --> 00:20:29.720\nWe can control group membership.\n\n400\n00:20:29.720 --> 00:20:31.250\nLet me show you how.\n\n401\n00:20:31.250 --> 00:20:34.900\nI'm gonna right-click on\nRestricted Groups and choose Add Group.\n\n402\n00:20:34.900 --> 00:20:37.730\nAnd I need to tell it, all right,\nwhat group do I wanna control?\n\n403\n00:20:37.730 --> 00:20:41.570\nAgain, these are local groups,\nnot my domain-based groups.\n\n404\n00:20:41.570 --> 00:20:43.850\nAnd I'm just gonna put Administrators.\n\n405\n00:20:43.850 --> 00:20:46.040\nDid I spell that right?\n\n406\n00:20:46.040 --> 00:20:48.250\nCuz it won't work if you\ndon't spell it right.\n\n407\n00:20:48.250 --> 00:20:50.850\nSo, I told it I'm gonna work with\nthe administrator's group, right?\n\n408\n00:20:50.850 --> 00:20:54.490\nEvery one of my Windows machines has\na local admins group on it except for\n\n409\n00:20:54.490 --> 00:20:55.880\nmy domain controllers.\n\n410\n00:20:55.880 --> 00:21:00.200\nWhen I create that or\nwhen I typed in administrators and\n\n411\n00:21:00.200 --> 00:21:02.940\nclicked Add, I get this dialogue box here.\n\n412\n00:21:02.940 --> 00:21:05.550\nAnd it has two options and\nwe need to be really careful,\n\n413\n00:21:05.550 --> 00:21:07.910\nmake sure we're paying attention\nto which one we're using.\n\n414\n00:21:07.910 --> 00:21:10.280\nBecause they give us two add buttons,\nall right?\n\n415\n00:21:10.280 --> 00:21:14.230\nThe top half says members of this group.\n\n416\n00:21:14.230 --> 00:21:17.470\nIf I click Add,\nI'm going to be adding people\n\n417\n00:21:17.470 --> 00:21:22.220\nto the administrators group because that's\nthe group I selected when I created this.\n\n418\n00:21:22.220 --> 00:21:25.312\nDown below, this group is a member of,\n\n419\n00:21:25.312 --> 00:21:29.828\nI'd be taking that group and\nadding it to another group.\n\n420\n00:21:29.828 --> 00:21:31.354\nI'd be nesting groups.\n\n421\n00:21:31.354 --> 00:21:32.990\nAll right?\n\n422\n00:21:33.990 --> 00:21:38.900\nWhen we click Add On here,\n\n423\n00:21:38.900 --> 00:21:42.710\nI'm just gonna add, I've got\na couple groups in Active Directory.\n\n424\n00:21:42.710 --> 00:21:46.140\nLet's pop back over there for\na second In my Help Desk,\n\n425\n00:21:46.140 --> 00:21:49.640\nI've got Tier1 and I've got Tier2,\nand I want these guys,\n\n426\n00:21:49.640 --> 00:21:53.440\nI want both of them to be\nan admin on those local machines.\n\n427\n00:21:55.450 --> 00:21:59.890\nSo members of this group, I'm gonna click\nAdd, and I'm gonna click Browse, and\n\n428\n00:21:59.890 --> 00:22:06.100\nI'm gonna do Tier1 and separate\nthat with a semicolon and do Tier2.\n\n429\n00:22:07.480 --> 00:22:10.530\nAnd do a little check names and\nfound both of those groups.\n\n430\n00:22:10.530 --> 00:22:15.860\nI click okay and I click okay and\nnow they are listed in there.\n\n431\n00:22:15.860 --> 00:22:21.841\nWhat you want to be careful of though\nwith this top option here is it's a,\n\n432\n00:22:21.841 --> 00:22:25.678\nI got a link that I put in\nthe show notes for you.\n\n433\n00:22:25.678 --> 00:22:26.840\nAll right, so let's me show you guys.\n\n434\n00:22:26.840 --> 00:22:28.920\nI've gotta link over to Microsoft here.\n\n435\n00:22:28.920 --> 00:22:30.160\nI wanna make sure we're clear on,\n\n436\n00:22:30.160 --> 00:22:33.710\nbecause it can be a little confusing\nwith the way those two options work.\n\n437\n00:22:33.710 --> 00:22:35.530\nRight?\nThe two different add buttons.\n\n438\n00:22:35.530 --> 00:22:38.330\nThat top one,\nwhere you're talking about members, right?\n\n439\n00:22:38.330 --> 00:22:41.050\nYou're saying,\nI want these people or groups,\n\n440\n00:22:41.050 --> 00:22:45.010\nI can nest groups with this, are gonna\nbe a member of this particular group.\n\n441\n00:22:45.010 --> 00:22:47.670\nAnd in my case,\nI chose the administrators group.\n\n442\n00:22:47.670 --> 00:22:49.210\nA local admin's group.\n\n443\n00:22:49.210 --> 00:22:52.860\nAny current member of the group that is\nnot on the members list will be removed.\n\n444\n00:22:52.860 --> 00:22:58.170\nIn other words, the lists that I'm\ncreating in that group policy is final.\n\n445\n00:22:58.170 --> 00:22:58.770\nRight?\n\n446\n00:22:58.770 --> 00:23:03.180\nIf you had already added, let's say you\nwent to one of the local machines, or\n\n447\n00:23:03.180 --> 00:23:07.930\none of the machines and you added a local\naccount, to that local admins group,\n\n448\n00:23:07.930 --> 00:23:11.930\nwhen this group policy applies, if they're\nnot on this list, it'll remove them.\n\n449\n00:23:11.930 --> 00:23:13.100\nRight.\nIt'll take them out,\n\n450\n00:23:13.100 --> 00:23:15.750\nand then you have to be really careful\nwith that cuz they might, you know,\n\n451\n00:23:15.750 --> 00:23:18.340\nsomebody might have already done some\nthings with that local admins group,\n\n452\n00:23:18.340 --> 00:23:21.760\nthey've added a few people to it because\nthey needed administrative rights.\n\n453\n00:23:21.760 --> 00:23:25.280\nHere you go applying this policy, and\nyou'll end up yanking those people out.\n\n454\n00:23:25.280 --> 00:23:29.190\nAnd they might add them back,\nevery time policy refreshes,\n\n455\n00:23:29.190 --> 00:23:30.750\nevery 90 minutes by default.\n\n456\n00:23:30.750 --> 00:23:34.850\nEvery time they reboot that machine,\nit's gonna process this policy.\n\n457\n00:23:34.850 --> 00:23:38.630\nAnd it there's somebody in there that's\nnot on the list, it's gonna pull them out.\n\n458\n00:23:38.630 --> 00:23:39.970\nThey could remove people.\n\n459\n00:23:39.970 --> 00:23:42.910\nIf they were a local admin on that\nmachine, they could pull up local users\n\n460\n00:23:42.910 --> 00:23:45.620\nand groups, and\nthey could yank people out of that group.\n\n461\n00:23:45.620 --> 00:23:48.630\nEvery time this policy applies,\nit'll put them back, all right.\n\n462\n00:23:48.630 --> 00:23:53.047\nSo just remember that\ntop part is exclusive.\n\n463\n00:23:53.047 --> 00:23:56.650\nIn other words,\nonly the people that you put in that list.\n\n464\n00:23:56.650 --> 00:23:59.912\nBarring the local administrators\nthemselves, it won't remove them.\n\n465\n00:23:59.912 --> 00:24:03.370\nTheir the only people that\nare going to be part of that group.\n\n466\n00:24:03.370 --> 00:24:07.280\nThe bottom part where your nesting\ngroups typically the member of,\n\n467\n00:24:07.280 --> 00:24:08.760\nthat is cumulative.\n\n468\n00:24:08.760 --> 00:24:10.130\nIt won't remove anything, but\n\n469\n00:24:10.130 --> 00:24:13.190\nit will add to the existing\nmembership that's already there.\n\n470\n00:24:14.200 --> 00:24:18.340\nAll right so\nlets go back over here to that virtual and\n\n471\n00:24:18.340 --> 00:24:20.710\nagain, I've got LAB tier one and tier two.\n\n472\n00:24:20.710 --> 00:24:24.080\nI'm gonna add them to\nthe local admins group and\n\n473\n00:24:24.080 --> 00:24:26.630\nI'll click OK, and there's my policy.\n\n474\n00:24:26.630 --> 00:24:32.980\nSo I'm gonna close that, we'll minimize\nthat and that, we'll bring up this client\n\n475\n00:24:32.980 --> 00:24:37.180\nmachine that I've got over here, and\nwe'll wake it up since he's gone to sleep.\n\n476\n00:24:41.280 --> 00:24:43.540\nIt went all the way to sleep here.\n\n477\n00:24:43.540 --> 00:24:47.360\nLet's give this a second to\npull back up and we'll see.\n\n478\n00:24:47.360 --> 00:24:52.110\nIt's actually good because remember if you\nhaven't seen the group policy episode yet.\n\n479\n00:24:52.110 --> 00:24:56.240\nGroup policy applies when that computer\nstarts up as far as the computer portion.\n\n480\n00:24:56.240 --> 00:25:01.145\nWhen the computer starts up every ninety\nminutes thereafter with a random thirty\n\n481\n00:25:01.145 --> 00:25:03.821\nminute offset or\nif you do a GP update force.\n\n482\n00:25:03.821 --> 00:25:06.984\nSo in this case if I had\nalready started this machine,\n\n483\n00:25:06.984 --> 00:25:11.553\nthen I went and made that policy, I would\nhave had a manually refresh policy or\n\n484\n00:25:11.553 --> 00:25:15.094\nreboot the machine anyway to\nget that thing to take effect.\n\n485\n00:25:15.094 --> 00:25:15.670\nAnd in fact that brings up another point.\n\n486\n00:25:15.670 --> 00:25:16.860\nThat's what I was gonna remember.\n\n487\n00:25:16.860 --> 00:25:19.570\nRemember I said it would come\nback to me if it was important.\n\n488\n00:25:19.570 --> 00:25:22.260\nIt was important and\nit did come back to me.\n\n489\n00:25:22.260 --> 00:25:25.310\nGroup membership is another thing\nthat you've gotta understand\n\n490\n00:25:25.310 --> 00:25:27.010\nwhen that takes effect, alright?\n\n491\n00:25:27.010 --> 00:25:31.020\nWhen you log on, you present your\ncredentials to the domain controller,\n\n492\n00:25:31.020 --> 00:25:32.970\nit builds you an access token.\n\n493\n00:25:32.970 --> 00:25:36.770\nThat access token is what you\nuse to gain access to resources,\n\n494\n00:25:36.770 --> 00:25:39.320\nthat's got the SID for your user account.\n\n495\n00:25:39.320 --> 00:25:42.500\nAs well as the SID for\nall the groups you belong to.\n\n496\n00:25:42.500 --> 00:25:44.680\nSo if you've already logged on, and\n\n497\n00:25:44.680 --> 00:25:48.270\nthen I changed your group membership,\nyou call me up, you call the help desk,\n\n498\n00:25:48.270 --> 00:25:51.690\nyou go, hey look, I can't get access\nto this resource and I don't know why.\n\n499\n00:25:51.690 --> 00:25:55.520\nAnd I troubleshoot, I realize,oh, somebody\nforgot to put you in the sales users\n\n500\n00:25:55.520 --> 00:25:59.550\ngroup, here, let me add you real quick,\nnow try accessing the resource.\n\n501\n00:25:59.550 --> 00:26:00.600\nYou're not gonna get access.\n\n502\n00:26:00.600 --> 00:26:04.130\nWell wait I just added you to the group,\nwhy aren't you getting access?\n\n503\n00:26:04.130 --> 00:26:07.790\nBecause you already got your\naccess token when you logged in.\n\n504\n00:26:07.790 --> 00:26:12.300\nIn order to update your token, you're\ngonna need to log off and log back in and\n\n505\n00:26:12.300 --> 00:26:16.350\nbuild your new token, and now it will\ninclude your updated group membership.\n\n506\n00:26:16.350 --> 00:26:19.390\nSo remember that if you're\ntroubleshooting access problems and\n\n507\n00:26:19.390 --> 00:26:22.770\nyou're changing group membership, don't\nforget to get the user to log off and\n\n508\n00:26:22.770 --> 00:26:25.420\nlog back on so\nthey get an updated access token.\n\n509\n00:26:26.470 --> 00:26:27.780\n>> We used to have users call us and\n\n510\n00:26:27.780 --> 00:26:30.892\nsay, I've already rebooted\nthe computer three time like normal.\n\n511\n00:26:30.892 --> 00:26:31.850\n[LAUGH]\n>> [LAUGH]\n\n512\n00:26:31.850 --> 00:26:33.020\n>> We're like, oh okay good.\n\n513\n00:26:33.020 --> 00:26:35.203\nDid you hear about the fourth reboot?\n\n514\n00:26:35.203 --> 00:26:36.113\n[LAUGH]\n>> [LAUGH]\n\n515\n00:26:36.113 --> 00:26:37.282\n>> We're gonna try that today,\n\n516\n00:26:37.282 --> 00:26:39.710\nit's a new technique by Microsoft.\n\n517\n00:26:39.710 --> 00:26:40.540\n>> Nice.\n\n518\n00:26:40.540 --> 00:26:43.360\nYou know I waited for this thing and I\nthink I typed in the password incorrectly.\n\n519\n00:26:43.360 --> 00:26:47.730\nWe'll let this thing go real quick, it's\ngot to fail if I type in the password.\n\n520\n00:26:47.730 --> 00:26:49.280\nNo, there it went.\n\n521\n00:26:49.280 --> 00:26:49.790\nGood deal.\n\n522\n00:26:49.790 --> 00:26:51.130\nSo now we're going to take a look.\n\n523\n00:26:51.130 --> 00:26:55.844\nI'm over on my client machine and I'm just\ngoing to open up computer management.\n\n524\n00:26:59.606 --> 00:27:00.510\n>> Or so you think.\n\n525\n00:27:00.510 --> 00:27:01.110\n>> Yeah, or so I think.\n\n526\n00:27:01.110 --> 00:27:05.481\nWindows is being a little slow today\nhere on this little client VM.\n\n527\n00:27:07.431 --> 00:27:07.980\nAll right.\n\n528\n00:27:07.980 --> 00:27:09.310\nAnd what I'm gonna do\nis I'm gonna go verify.\n\n529\n00:27:09.310 --> 00:27:11.350\nI wanna see if that policy kicked in.\n\n530\n00:27:11.350 --> 00:27:15.600\nIt should have added tier one and\ntier two to the local admins group.\n\n531\n00:27:17.250 --> 00:27:19.720\nThey're waiting for my snap-in to load up.\n\n532\n00:27:19.720 --> 00:27:23.530\nIt's angry cuz I just started it up, and\nI'm already trying to make it do things.\n\n533\n00:27:23.530 --> 00:27:25.022\n>> It hasn't had its coffee yet.\n\n534\n00:27:25.022 --> 00:27:26.500\n>> [LAUGH] Exactly.\n\n535\n00:27:26.500 --> 00:27:27.150\nAll right.\n\n536\n00:27:27.150 --> 00:27:29.390\nSo we'll pull up that local admins group.\n\n537\n00:27:29.390 --> 00:27:32.010\nAnd sure enough there's tier one and\n\n538\n00:27:32.010 --> 00:27:34.950\nthere's tier two listed as\na member of that group.\n\n539\n00:27:34.950 --> 00:27:36.740\nSo that means I don't\nhave to worry about it.\n\n540\n00:27:36.740 --> 00:27:40.750\nAutomatically I know that tier one and\ntier two are gonna have administrative\n\n541\n00:27:40.750 --> 00:27:45.300\naccess to every machine wherever\nI apply that group policy anyway.\n\n542\n00:27:45.300 --> 00:27:47.470\nThat saves me a whole lot of work.\n\n543\n00:27:47.470 --> 00:27:48.050\nAnd remember,\n\n544\n00:27:48.050 --> 00:27:52.440\nevery time policy refreshes, it will\nmake sure that that still holds true.\n\n545\n00:27:52.440 --> 00:27:54.850\nWhat if one of my users comes in here and\nsays you know what,\n\n546\n00:27:54.850 --> 00:27:57.940\nI don't want the help desk to\nhave administrative access.\n\n547\n00:27:57.940 --> 00:27:58.790\nI'm gonna take them out.\n\n548\n00:27:58.790 --> 00:28:00.550\nWell, they can.\n\n549\n00:28:00.550 --> 00:28:01.590\nRight?\nI just removed them.\n\n550\n00:28:02.650 --> 00:28:03.880\nWell.\n>> Well, did you?\n\n551\n00:28:03.880 --> 00:28:06.540\n>> Except, I didn't run\nthe console as administrator so\n\n552\n00:28:06.540 --> 00:28:10.300\nit's not gonna let me do that, but if your\nuser had administrative rights on this\n\n553\n00:28:10.300 --> 00:28:12.240\nmachine, they could remove them,\nthinking, ha,\n\n554\n00:28:12.240 --> 00:28:15.490\nha I'm going to keep the help desk\nfrom having any access to my machine.\n\n555\n00:28:15.490 --> 00:28:18.000\nI don't want them seeing\nmy super secret stuff.\n\n556\n00:28:18.000 --> 00:28:21.160\nYeah, little do they know,as\nsoon as group policy reapplies,\n\n557\n00:28:21.160 --> 00:28:22.270\nit's going to put them right back.\n\n558\n00:28:22.270 --> 00:28:24.230\nAll right, so iIt's a fantastic thing.\n\n559\n00:28:24.230 --> 00:28:26.020\nI use it all over the place in my domain.\n\n560\n00:28:26.020 --> 00:28:27.900\nIt's a way to control group membership.\n\n561\n00:28:27.900 --> 00:28:28.890\n>> And I don't have to do anything.\n\n562\n00:28:28.890 --> 00:28:31.470\nI set that policy and\nI can sit back and forget about it, so\n\n563\n00:28:31.470 --> 00:28:32.380\nit's a wonderful thing.\n\n564\n00:28:32.380 --> 00:28:33.000\n>> That's right.\n\n565\n00:28:33.000 --> 00:28:37.280\nExcellent stuff today I mean if you've\nwatched both of these episodes on groups\n\n566\n00:28:37.280 --> 00:28:42.060\nyou should be pretty up to speed on\nhow to actually manage group system or\n\n567\n00:28:42.060 --> 00:28:44.470\ngroups within an active directory system.\n\n568\n00:28:44.470 --> 00:28:47.420\nNot too difficult, you just gotta\nunderstand some of the strategy and\n\n569\n00:28:47.420 --> 00:28:48.940\nthen some of the implications or\n\n570\n00:28:48.940 --> 00:28:52.310\nimplementations should I say\nof how to actually do that.\n\n571\n00:28:52.310 --> 00:28:54.140\nSo good stuff, Mike,\nvery good demonstrations.\n\n572\n00:28:54.140 --> 00:28:56.360\nI hope our users out there\ngot a lot from that.\n\n573\n00:28:56.360 --> 00:28:58.335\nI know it was edifying for myself.\n\n574\n00:28:58.335 --> 00:28:59.510\n>> [LAUGH]\n>> That being said,\n\n575\n00:28:59.510 --> 00:29:03.330\nwe have come to the end of yet\nanother cool episode here at ITProTV, so\n\n576\n00:29:03.330 --> 00:29:04.400\nsigning off.\n\n577\n00:29:04.400 --> 00:29:05.720\nI've been your host Daniel Lowrie.\n\n578\n00:29:05.720 --> 00:29:06.570\n>> And I'm Mike Rodrick.\n\n579\n00:29:06.570 --> 00:29:08.600\n>> And we'll see you next time.\n\n",
          "vimeoId": "134193104"
        },
        {
          "description": "In this episode, Daniel and Mike introduce us to the wonderful world of organizational units. They discuss the various containers and what is allowed and not allowed. They create some OUs and demonstrate their use.",
          "length": "2048",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-15-2-organizational_units-072115-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-15-2-organizational_units-072115-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-15-2-organizational_units-072115-1-sm.jpg",
          "title": "Organizational Units",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.460\n[MUSIC]\n\n2\n00:00:10.460 --> 00:00:15.091\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.091 --> 00:00:18.551\nI'll be your host Daniel Lowry, and\nhere with me as always is Mike Rodrick.\n\n4\n00:00:18.551 --> 00:00:19.660\nHow's it going today, Mike?\n\n5\n00:00:19.660 --> 00:00:21.660\n>> Oh, it's going great Daniel,\nI'm glad to be here.\n\n6\n00:00:21.660 --> 00:00:24.579\nWe are going to be talking about,\nwhat are we talking about today,\n\n7\n00:00:24.579 --> 00:00:26.260\norganizational units, [CROSSTALK].\n\n8\n00:00:26.260 --> 00:00:27.690\n>> Those lovely little things.\n\n9\n00:00:27.690 --> 00:00:29.280\n>> Yeah, it's good stuff, so.\n\n10\n00:00:29.280 --> 00:00:31.520\n>> Continuing on, really,\nwith Active Directory,\n\n11\n00:00:31.520 --> 00:00:36.380\nwe saw how to create user accounts, and\ncomputers in groups, and stuff like that.\n\n12\n00:00:36.380 --> 00:00:41.230\nNow we're gonna talk about those folders\nthat we see inside Active Directory, and\n\n13\n00:00:41.230 --> 00:00:43.490\nthose are organizational units.\n\n14\n00:00:43.490 --> 00:00:45.430\nSo let's talk about those guys.\n\n15\n00:00:45.430 --> 00:00:46.210\nI've got.\n\n16\n00:00:46.210 --> 00:00:47.794\n>> I love how you air quoted folders.\n\n17\n00:00:47.794 --> 00:00:48.730\n[LAUGH]\n>> I know right?\n\n18\n00:00:48.730 --> 00:00:53.430\nBecause they're not really folders, but\nin the end we understand folders, right?\n\n19\n00:00:53.430 --> 00:00:56.470\nWe've all worked with Windows Explorer,\nFile Explorer.\n\n20\n00:00:56.470 --> 00:01:00.270\nWe've created folders inside our\nMy Documents to organize things,\n\n21\n00:01:00.270 --> 00:01:01.750\nand when it comes down to it,\n\n22\n00:01:01.750 --> 00:01:05.120\na big part of organization units is\nthat's what they're doing as well.\n\n23\n00:01:05.120 --> 00:01:07.440\nThey are organizing my objects,\n\n24\n00:01:07.440 --> 00:01:10.100\nthey're units that I can use\nto organize things, right?\n\n25\n00:01:10.100 --> 00:01:12.380\nHence the name, organizational units.\n\n26\n00:01:12.380 --> 00:01:16.340\nSo, you really can think\nof them a lot like folders.\n\n27\n00:01:16.340 --> 00:01:18.840\nAnd in fact in the previous episode\nwe made a comparison there.\n\n28\n00:01:18.840 --> 00:01:23.070\nWe talked about how, these,\nthese OU's are containers.\n\n29\n00:01:23.070 --> 00:01:24.950\nAnd they contain objects.\n\n30\n00:01:24.950 --> 00:01:28.280\nAnd just like the folder you have\nthe file system in your desk.\n\n31\n00:01:28.280 --> 00:01:30.220\nYou put a piece of paper in there or\na report or\n\n32\n00:01:30.220 --> 00:01:34.570\nsomething, it can only go\nphysically in one folder, right?\n\n33\n00:01:34.570 --> 00:01:37.860\nYou can move it from one folder to\nthe other, but that folder's a container.\n\n34\n00:01:37.860 --> 00:01:40.930\nAnd that piece of paper can\nonly be in one container\n\n35\n00:01:40.930 --> 00:01:44.675\nunless you start swapping into other\ndimensions or something like that, right?\n\n36\n00:01:44.675 --> 00:01:46.510\n>> [LAUGH]\n>> Then maybe who knows what?\n\n37\n00:01:46.510 --> 00:01:49.050\nIt's the same thing with these\ncontainers with an active directory.\n\n38\n00:01:49.050 --> 00:01:50.630\nThey are container objects.\n\n39\n00:01:50.630 --> 00:01:54.200\nMeaning they contain\nobjects that we create and\n\n40\n00:01:54.200 --> 00:01:55.750\nthey can only be in one container.\n\n41\n00:01:55.750 --> 00:01:58.490\nI can move them from one\ncontainer to another, but\n\n42\n00:01:58.490 --> 00:02:01.660\nI can't put something in two different\ncontainers at the same time.\n\n43\n00:02:01.660 --> 00:02:03.650\nAll right, so let's take a look here.\n\n44\n00:02:03.650 --> 00:02:06.360\nFirst thing I want to do is,\nI've got active directory users and\n\n45\n00:02:06.360 --> 00:02:10.360\ncomputers opened up, and\nI want to take a look at what we get,\n\n46\n00:02:10.360 --> 00:02:15.930\nyou'll notice it's a little\ndifficult to see, on this screen.\n\n47\n00:02:15.930 --> 00:02:17.480\nBut when you're doing your labs,\n\n48\n00:02:17.480 --> 00:02:19.460\nyou're setting up your little sand box or\nwhatever.\n\n49\n00:02:19.460 --> 00:02:23.010\nYou're looking at active directory,\nyou're gonna see two different icons, and.\n\n50\n00:02:23.010 --> 00:02:24.350\nYou'll see why I call them folders right?\n\n51\n00:02:24.350 --> 00:02:28.000\nThey do look like little folder icons,\nbut there's two different ones.\n\n52\n00:02:28.000 --> 00:02:32.560\nThere's the one I call the plain\nmanila folder like this one here for\n\n53\n00:02:32.560 --> 00:02:35.200\nbuilt In or for, what's another one?\n\n54\n00:02:35.200 --> 00:02:38.870\nManager Services Accounts or\nLost and Found...\n\n55\n00:02:38.870 --> 00:02:41.610\nThose are what we call\nbuilt in containers.\n\n56\n00:02:41.610 --> 00:02:44.270\nThey're not organizational units, alright?\n\n57\n00:02:44.270 --> 00:02:45.610\nThere's a big difference.\n\n58\n00:02:45.610 --> 00:02:51.070\nThese other ones like groups or\ndomain controllers or client computers.\n\n59\n00:02:51.070 --> 00:02:53.250\nThey've got what's supposed\nto be a little book, or\n\n60\n00:02:53.250 --> 00:02:56.000\na little representation of\nactive directory on them.\n\n61\n00:02:56.000 --> 00:02:59.600\nI've never actually seen that,\nto me it just looks like a I don't know,\n\n62\n00:02:59.600 --> 00:03:02.350\nthat's too small for my old eyes\nto see what the heck it is anyway.\n\n63\n00:03:02.350 --> 00:03:05.000\nMicrosoft tells me it's a book.\n\n64\n00:03:05.000 --> 00:03:07.900\nThose are organizational units, right.\n\n65\n00:03:08.960 --> 00:03:10.580\nBoth are containers,\n\n66\n00:03:10.580 --> 00:03:15.322\norganizational units are just a special\ntype of container, all right?\n\n67\n00:03:17.185 --> 00:03:19.035\nAnd, the, the big difference,\n\n68\n00:03:19.035 --> 00:03:21.865\nwhat we have to understand about\nthe differences between the two,\n\n69\n00:03:21.865 --> 00:03:25.965\nthose built in containers, I can't\nnest other containers inside there.\n\n70\n00:03:25.965 --> 00:03:28.375\nSo I can't create a hierarchy of them.\n\n71\n00:03:28.375 --> 00:03:32.965\nLike when you go to computers here,\nwe might want to put inside here,\n\n72\n00:03:32.965 --> 00:03:34.405\nsome other containers, right?\n\n73\n00:03:34.405 --> 00:03:37.520\nWe might want to have one for\nlaptops and one for desktops.\n\n74\n00:03:37.520 --> 00:03:40.420\nI can't do that inside\nthese built in containers.\n\n75\n00:03:40.420 --> 00:03:41.570\nWon't allow me, all riht?\n\n76\n00:03:41.570 --> 00:03:43.180\nI also,\n\n77\n00:03:43.180 --> 00:03:48.250\ncan't link group policy to these built\nin containers and that's a huge problem.\n\n78\n00:03:48.250 --> 00:03:52.090\nI've got policies that I want to apply\nto these computers, for example.\n\n79\n00:03:52.090 --> 00:03:52.790\nCan't do it.\n\n80\n00:03:52.790 --> 00:03:55.750\nNot to this computer's container,\nall right?\n\n81\n00:03:55.750 --> 00:03:57.770\nThe other thing,\nyou cannot delegate control.\n\n82\n00:03:57.770 --> 00:04:01.040\nWe're gonna take a look at this\ndelegation that I refer to.\n\n83\n00:04:01.040 --> 00:04:04.070\nThe ability to delegate\ncertain levels of control or\n\n84\n00:04:04.070 --> 00:04:07.300\nfull control to other admins or\nother users.\n\n85\n00:04:07.300 --> 00:04:09.760\nI can't do that over the built\nin containers either.\n\n86\n00:04:09.760 --> 00:04:10.700\nAll right.\n\n87\n00:04:10.700 --> 00:04:14.170\nSo, the question you might be,\nwhy the heck do we even have them?\n\n88\n00:04:14.170 --> 00:04:15.340\nRight?\nWhy the heck are they there for?\n\n89\n00:04:15.340 --> 00:04:19.510\nWell, the answer really is,\nI'm not exactly sure.\n\n90\n00:04:19.510 --> 00:04:22.610\nNo.\nThey have to give us something to start.\n\n91\n00:04:22.610 --> 00:04:25.510\nWe don't get in, we get one OU by default.\n\n92\n00:04:25.510 --> 00:04:27.590\nAll these other OUs, members,\n\n93\n00:04:27.590 --> 00:04:32.300\nservers, groups, employees,\nclient computers, I created those.\n\n94\n00:04:32.300 --> 00:04:35.640\nI set those up for these demos that\nI'm planning to do for you guys.\n\n95\n00:04:35.640 --> 00:04:39.310\nThe only one you get of\nthe box is domain controllers.\n\n96\n00:04:39.310 --> 00:04:42.010\nIt's the only one you get when\nyou install Active Directory,\n\n97\n00:04:42.010 --> 00:04:46.230\nand that's because it contains your\ndomain controller computer accounts.\n\n98\n00:04:46.230 --> 00:04:49.670\nSo when you create that first domain\ncontroller, you install Active Directory.\n\n99\n00:04:49.670 --> 00:04:52.650\nIt creates that OU for you and\nit puts the computer account for\n\n100\n00:04:52.650 --> 00:04:55.260\nthat server that you just\npromoted to a domain controller.\n\n101\n00:04:55.260 --> 00:04:56.570\nIt moves it into there.\n\n102\n00:04:56.570 --> 00:04:58.010\nBut the rest of it's up to you.\n\n103\n00:04:58.010 --> 00:05:01.550\nIt's you that have to decide,\nhow do I want to organize my objects?\n\n104\n00:05:01.550 --> 00:05:03.470\nHow do I want to set up my OU's?\n\n105\n00:05:03.470 --> 00:05:04.990\nYou can do it any way you want.\n\n106\n00:05:04.990 --> 00:05:07.160\nSo that's why there's\nnothing there to begin with.\n\n107\n00:05:07.160 --> 00:05:10.300\nYou have to go and create them all.\n\n108\n00:05:10.300 --> 00:05:12.540\nAnd you can really do it any way you want,\n\n109\n00:05:12.540 --> 00:05:15.480\nit's up to you,\nhow you choose to organize those.\n\n110\n00:05:15.480 --> 00:05:17.710\nBut there are some strategies\nthat we should keep in mind,\n\n111\n00:05:17.710 --> 00:05:21.580\nand some things we should think about\nwhen we're creating our OU structure, and\n\n112\n00:05:21.580 --> 00:05:24.090\nthat is what we use them for.\n\n113\n00:05:24.090 --> 00:05:28.390\nWe want to think about delegating\npermissions when we're creating these OUs.\n\n114\n00:05:28.390 --> 00:05:29.830\nHow do I want to delegate it?\n\n115\n00:05:29.830 --> 00:05:33.660\nFor example, I have a client computers OU.\n\n116\n00:05:33.660 --> 00:05:36.630\nAnd inside there,\nI've subdivided it by location, so\n\n117\n00:05:36.630 --> 00:05:39.580\nI've got my Gainesville,\nmy Miami, and my Tampa office.\n\n118\n00:05:39.580 --> 00:05:44.190\nAnd then I've subdivided that\nby desktops and laptops.\n\n119\n00:05:44.190 --> 00:05:48.920\nAnd I did this because, when I'm thinking\nabout delegating control in the future,\n\n120\n00:05:48.920 --> 00:05:53.620\nthere's users down in the Tampa office\nthat I wanna give them administrative\n\n121\n00:05:53.620 --> 00:05:55.290\ncontrol over all those\ncomputers down there.\n\n122\n00:05:55.290 --> 00:05:58.010\nSo if something goes wrong\nin myTampa help desk.\n\n123\n00:05:58.010 --> 00:05:59.940\nI wanna delegate permissions to them.\n\n124\n00:05:59.940 --> 00:06:02.220\nI'm gonna do it just for\nthe Tampa computers.\n\n125\n00:06:02.220 --> 00:06:03.520\nSo I can do that here.\n\n126\n00:06:03.520 --> 00:06:06.520\nThat won't give them any control\nover the Miami computers.\n\n127\n00:06:06.520 --> 00:06:09.790\nI've got my Miami help desk that\nI can delegate control here.\n\n128\n00:06:09.790 --> 00:06:11.160\nSame thing for Gainesville.\n\n129\n00:06:11.160 --> 00:06:15.310\nIf I hadn't broken them down, it'd be much\nmore difficult to limit the Tampa help\n\n130\n00:06:15.310 --> 00:06:18.820\ndesk to having administrative\naccess to just the Tampa computers.\n\n131\n00:06:18.820 --> 00:06:20.500\nI'd have to do something\na little different.\n\n132\n00:06:20.500 --> 00:06:22.430\nSo, that's why I chose to break it down.\n\n133\n00:06:22.430 --> 00:06:25.600\nMaybe your company doesn't differentiate\nbetween desktops or laptops.\n\n134\n00:06:25.600 --> 00:06:28.800\nMaybe there's no need to take it\nto that next level of division.\n\n135\n00:06:28.800 --> 00:06:29.320\nRight?\n\n136\n00:06:29.320 --> 00:06:31.320\nBut it's up to you.\n\n137\n00:06:31.320 --> 00:06:32.910\nIf your company says you know what?\n\n138\n00:06:32.910 --> 00:06:36.060\nI have desktop help desk and\nI have laptop help desk.\n\n139\n00:06:36.060 --> 00:06:37.990\nAnd it doesn't matter\nwhere the location is.\n\n140\n00:06:37.990 --> 00:06:41.520\nMy desktop people can help people\nin Miami, Tampa, or Gainesville.\n\n141\n00:06:41.520 --> 00:06:43.170\nMaybe I do this the other way around.\n\n142\n00:06:43.170 --> 00:06:46.180\nMaybe under client computers,\nI do desktops.\n\n143\n00:06:46.180 --> 00:06:50.120\nAnd then inside desktops I do\nGainesville and Tampa and Miami.\n\n144\n00:06:50.120 --> 00:06:51.910\nAll right?\nMaybe that would make more sense for\n\n145\n00:06:51.910 --> 00:06:56.880\nthe way I plan to delegate administration\nsame thing with group policy.\n\n146\n00:06:56.880 --> 00:07:01.240\nIf I've got settings that apply to all\nthe computers in the Tampa office,\n\n147\n00:07:01.240 --> 00:07:04.650\nI can do it very easily by linking\nthat policy here, all right.\n\n148\n00:07:04.650 --> 00:07:08.850\nIf I've got settings that apply to all\nclient computers, I can link that here.\n\n149\n00:07:08.850 --> 00:07:13.410\nIf I wanna affect just desktops in Tampa,\nI can link that policy here.\n\n150\n00:07:13.410 --> 00:07:17.140\nI'm setting this up to support the way\nI plan on implementing group policy.\n\n151\n00:07:17.140 --> 00:07:19.560\nWhat if I wanna apply\na setting to all desktops, but\n\n152\n00:07:19.560 --> 00:07:22.090\nnot laptops, regardless of the location?\n\n153\n00:07:22.090 --> 00:07:23.790\nWell now I've gotta do it in\na couple of different places,\n\n154\n00:07:23.790 --> 00:07:25.660\nbecause of the way I broke it up.\n\n155\n00:07:25.660 --> 00:07:30.080\nMaybe I'd rather go client computers, then\ndesktops, and then geographic location.\n\n156\n00:07:30.080 --> 00:07:31.290\nIt's really, it's up to you.\n\n157\n00:07:31.290 --> 00:07:33.290\nAnd you're not stuck with it, right?\n\n158\n00:07:33.290 --> 00:07:35.880\nIf you set it up this way, and you think,\nthis is gonna work for me, and\n\n159\n00:07:35.880 --> 00:07:38.680\nit turns out it's not efficient,\nand you would've rather\n\n160\n00:07:38.680 --> 00:07:43.000\nhave done it by location first, or\ndesktop first and then location.\n\n161\n00:07:43.000 --> 00:07:44.350\nMove them around.\n\n162\n00:07:44.350 --> 00:07:46.120\nYou're free to move them.\n\n163\n00:07:46.120 --> 00:07:49.430\nKeep in mind that will change what\nyou've done as far as delegation,\n\n164\n00:07:49.430 --> 00:07:53.190\ngroup policy and linkage, but\nyou can move them after the fact.\n\n165\n00:07:54.250 --> 00:07:54.880\nAll right.\n\n166\n00:07:54.880 --> 00:07:57.888\nSo that's our basics about these OUs.\n\n167\n00:07:57.888 --> 00:08:00.425\nYou know, again,\nwhen you're talking about OUs at their,\n\n168\n00:08:00.425 --> 00:08:03.527\nat their most basic level, they're\njust used to organize your objects.\n\n169\n00:08:03.527 --> 00:08:05.735\nThink about your my pictures folder,\nright?\n\n170\n00:08:05.735 --> 00:08:08.100\nYou don't dump every\nsingle picture you have.\n\n171\n00:08:08.100 --> 00:08:09.521\nIn your My Pictures folder.\n\n172\n00:08:09.521 --> 00:08:10.639\nI hope you don't anyway.\n\n173\n00:08:10.639 --> 00:08:11.372\n[LAUGH] Right.\n\n174\n00:08:11.372 --> 00:08:15.814\nBecause you've got this big old long list\nof pictures that you're trying to scroll\n\n175\n00:08:15.814 --> 00:08:17.080\nthrough to find.\n\n176\n00:08:17.080 --> 00:08:20.280\nTypically most people make sub folders\nwithin their My Pictures, right?\n\n177\n00:08:20.280 --> 00:08:21.370\nThey organize it somehow.\n\n178\n00:08:21.370 --> 00:08:23.570\n>> Oh yeah.\nI'm an amateur photographer and\n\n179\n00:08:23.570 --> 00:08:27.110\nif I didn't make sub folders\nwithin that My Pictures folder\n\n180\n00:08:27.110 --> 00:08:31.540\ntake all my edited photos and my unedited\nphotos, I separate those out by that and\n\n181\n00:08:31.540 --> 00:08:36.320\nthen by the photo shoot itself say I did\nsome pictures for Mike, I'd be like, and\n\n182\n00:08:36.320 --> 00:08:38.450\nI just threw them in my pictures folder.\n\n183\n00:08:38.450 --> 00:08:39.590\nWell how do I know which one's Mike's?\n\n184\n00:08:39.590 --> 00:08:42.750\nI'd have to actually look through them,\nmaybe schedule by date or\n\n185\n00:08:42.750 --> 00:08:44.440\nsomething like that,\nbut it would be a pain.\n\n186\n00:08:44.440 --> 00:08:47.840\nIt's just easier to make a container for\nthat, for Mike's photos.\n\n187\n00:08:47.840 --> 00:08:48.740\nThrow them in there.\n\n188\n00:08:48.740 --> 00:08:51.050\nSame kind of idea when\nwe're working with OUs.\n\n189\n00:08:51.050 --> 00:08:52.100\nWanna use some structure.\n\n190\n00:08:52.100 --> 00:08:54.290\nWanna use some logic to make it easy for\n\n191\n00:08:54.290 --> 00:08:58.450\nus to maneuver our way around to\nthe active directory structure.\n\n192\n00:08:58.450 --> 00:08:59.140\n>> Absolutely.\nI mean,\n\n193\n00:08:59.140 --> 00:09:01.050\ncan you imagine going into\nyour client computer's OU and\n\n194\n00:09:01.050 --> 00:09:04.060\nyou got 10,000 computer accounts in there?\n\n195\n00:09:04.060 --> 00:09:05.380\nWhich ones are in Gainesville?\n\n196\n00:09:05.380 --> 00:09:06.920\nWhich ones are in Tampa?\n\n197\n00:09:06.920 --> 00:09:08.130\nRight?\nIt would be a nightmare.\n\n198\n00:09:08.130 --> 00:09:12.630\nSo using them for organization, hence\nthe name organizational units, right?\n\n199\n00:09:12.630 --> 00:09:16.660\nThat's one of their first\nresponsibilities, I guess.\n\n200\n00:09:16.660 --> 00:09:18.640\nIt's one of their uses.\n\n201\n00:09:18.640 --> 00:09:23.060\nAnd then delegation of administrative\ncontrol and then linking group policy.\n\n202\n00:09:23.060 --> 00:09:26.707\nSo three reasons we set up and\ncreate these OUs.\n\n203\n00:09:26.707 --> 00:09:29.480\nAnd as far as creating them goes,\nit's very easy.\n\n204\n00:09:29.480 --> 00:09:31.110\nI can just come up here\nin active directory.\n\n205\n00:09:31.110 --> 00:09:33.570\nI can go to that GMVOU.\n\n206\n00:09:33.570 --> 00:09:36.940\nI can click my little new button for\ncreate and\n\n207\n00:09:36.940 --> 00:09:42.010\nI could create a new organizational\nunit in there and I'll call its desktops\n\n208\n00:09:44.460 --> 00:09:48.420\nand then if I want to we also\ncreated it group our show\n\n209\n00:09:48.420 --> 00:09:54.100\nall open up by active directory module for\nwindows power is off of our server manager\n\n210\n00:09:54.100 --> 00:09:57.390\nopen up my Active Directory module for\nWindows PowerShell.\n\n211\n00:09:57.390 --> 00:09:59.287\nWait for this guy to load up.\n\n212\n00:09:59.287 --> 00:10:05.320\nOn a new dash AD organizational unit.\n\n213\n00:10:05.320 --> 00:10:07.170\nAnd I gotta give it a name.\n\n214\n00:10:07.170 --> 00:10:10.660\nI'll call it, we'll do a dash name.\n\n215\n00:10:10.660 --> 00:10:11.369\nLaptops.\n\n216\n00:10:13.220 --> 00:10:15.110\nAnd I got to tell it where\nI want to create it, right?\n\n217\n00:10:15.110 --> 00:10:18.070\nJust like we saw in that previous\nepisode when I was creating groups,\n\n218\n00:10:18.070 --> 00:10:22.038\nif I'm in the gooey, I'm right clicking\nwhere I want to create it, right?\n\n219\n00:10:22.038 --> 00:10:24.840\nIn the PowerShell, I'm not,\nit doesn't know where I want to create it,\n\n220\n00:10:24.840 --> 00:10:28.790\nI have to tell it and\nthat's going to be a dash half option, and\n\n221\n00:10:28.790 --> 00:10:33.190\nlet's make that guy inside that GNVOU so\nit's the distinguished name,\n\n222\n00:10:33.190 --> 00:10:37.100\nthe path to the object I'm going\nto make it inside that GNVOU,\n\n223\n00:10:38.360 --> 00:10:42.830\nwhich is already nested inside\nthat client computer's OU,\n\n224\n00:10:45.710 --> 00:10:49.100\nwhich is in the domain component,\nwhat do we call this one?\n\n225\n00:10:49.100 --> 00:10:53.780\nLab, which is in the other domain\ncomponent is going to be net\n\n226\n00:10:54.950 --> 00:10:56.350\nI'll end my quote for that pass.\n\n227\n00:10:56.350 --> 00:10:59.040\nAnd on this one I'll do\nthat good old pass through.\n\n228\n00:10:59.040 --> 00:11:02.164\nBecause I'm gonna do my tab autofill, so\nI don't have to try to spell it this time.\n\n229\n00:11:02.164 --> 00:11:04.594\n>> [LAUGH]\n>> And I'll hit enter.\n\n230\n00:11:04.594 --> 00:11:05.380\nAnd there we go.\n\n231\n00:11:05.380 --> 00:11:09.070\nI created a new OU called laptops.\n\n232\n00:11:09.070 --> 00:11:12.830\nIf I flip back over to active directory,\nand I refresh.\n\n233\n00:11:14.080 --> 00:11:15.320\nAnd there's my laptop's OU, all right?\n\n234\n00:11:16.320 --> 00:11:20.138\nSo now I've got my little\nstructure set up like I want it.\n\n235\n00:11:20.138 --> 00:11:23.250\nAll right, now another thing that we've\ngot to deal with when we're dealing\n\n236\n00:11:23.250 --> 00:11:25.340\nwith these OU's and\ndealing with Active Directory and\n\n237\n00:11:25.340 --> 00:11:29.280\nthat is the default location,\nwhere objects go by default.\n\n238\n00:11:29.280 --> 00:11:30.650\nWhen you join.\n\n239\n00:11:30.650 --> 00:11:32.340\nComputers to the domain.\n\n240\n00:11:32.340 --> 00:11:35.870\nYou're basically creating an object\nthat represents that computer in\n\n241\n00:11:35.870 --> 00:11:36.440\nactive directory.\n\n242\n00:11:36.440 --> 00:11:38.420\nRight?\nYou're creating an account for\n\n243\n00:11:38.420 --> 00:11:39.260\nthat computer.\n\n244\n00:11:39.260 --> 00:11:40.910\nThat's why you need permissions.\n\n245\n00:11:40.910 --> 00:11:44.020\nOr you might have an admin\npre-create the account\n\n246\n00:11:44.020 --> 00:11:46.410\nbefore you join\nthe computer to the domain.\n\n247\n00:11:46.410 --> 00:11:49.710\nWell if you just go and take a laptop,\nor a desktop, or a server, and\n\n248\n00:11:49.710 --> 00:11:52.790\nyou plug it into the network,\nand you join it to the domain?\n\n249\n00:11:52.790 --> 00:11:56.280\nBy default it's going in\nthis computer's container.\n\n250\n00:11:56.280 --> 00:11:58.580\nAnd we've already talked about\nthe computer's container.\n\n251\n00:11:58.580 --> 00:12:00.200\nI cannot link group policy to that.\n\n252\n00:12:00.200 --> 00:12:03.850\nI can't delegate administrative control so\nuntil I move these client,\n\n253\n00:12:03.850 --> 00:12:07.400\nthese computer accounts into\nthe appropriate OU, they're\n\n254\n00:12:07.400 --> 00:12:11.060\nnot picking up any of those important\nsettings that I'm using group policy for.\n\n255\n00:12:11.060 --> 00:12:13.010\nThey're not getting any of\nthe delegated permissions.\n\n256\n00:12:13.010 --> 00:12:16.580\nSo administrators might have\na hard time administering them.\n\n257\n00:12:16.580 --> 00:12:19.630\nI've got to come in here and\nmove them that's an extra step.\n\n258\n00:12:19.630 --> 00:12:24.599\nI can change that though,\nI can change the default location and\n\n259\n00:12:24.599 --> 00:12:30.715\nit's a redir cmp command redirect\ncomputers is how I remember but redir cmp.\n\n260\n00:12:30.715 --> 00:12:33.890\nAnd you can only have\none default location.\n\n261\n00:12:33.890 --> 00:12:34.490\nRight?\nSo,\n\n262\n00:12:34.490 --> 00:12:38.730\nhow do I pick do I go into the Miami OU or\nthe Tampa OU?\n\n263\n00:12:38.730 --> 00:12:39.960\nProbably not.\n\n264\n00:12:39.960 --> 00:12:43.320\nWhat I'm gonna do pick this\nclient computers over here.\n\n265\n00:12:43.320 --> 00:12:45.450\nNow, it might not get all of the settings,\n\n266\n00:12:45.450 --> 00:12:49.030\ncuz some settings are applied\ndown here at Miami desktops, but\n\n267\n00:12:49.030 --> 00:12:52.110\nthere are some settings that\nare common to all client computers.\n\n268\n00:12:52.110 --> 00:12:54.430\nSo at least it's getting those, right.\n\n269\n00:12:54.430 --> 00:12:57.030\nIt's better than being in\nthe client computers container\n\n270\n00:12:57.030 --> 00:12:59.270\nwhere I can't link to any GPOs, right.\n\n271\n00:12:59.270 --> 00:13:03.150\nAnd the command, like I said,\nit's pretty simple.\n\n272\n00:13:03.150 --> 00:13:07.820\nI'll open up a little command prompt\nhere and it's redircnp, right?\n\n273\n00:13:07.820 --> 00:13:11.650\nYou can do a switch question mark and\nget a little help on that command, but\n\n274\n00:13:11.650 --> 00:13:13.080\nit's a pretty straightforward one.\n\n275\n00:13:13.080 --> 00:13:15.850\nAll I've got to do is tell it where\nyou want that default to be, and\n\n276\n00:13:15.850 --> 00:13:17.880\nyou're going to use\nthe distinguished name.\n\n277\n00:13:17.880 --> 00:13:20.530\nSo, I'll do redircnp And for\n\n278\n00:13:20.530 --> 00:13:24.468\nmy distinguished name I'm gonna\ncall this one, let's see,\n\n279\n00:13:24.468 --> 00:13:34.570\n\"ou=client computers,dc=lab,dc=net\"\nend my quote.\n\n280\n00:13:34.570 --> 00:13:36.200\nAnd redirect was successful.\n\n281\n00:13:36.200 --> 00:13:38.700\nSo now if I join a computer to the domain\n\n282\n00:13:38.700 --> 00:13:43.510\nby default it's gonna show up in client\ncomputers not that computers container.\n\n283\n00:13:43.510 --> 00:13:46.560\nSo it saves me, again I still\ngotta move it at some point but\n\n284\n00:13:46.560 --> 00:13:49.220\nit's better than leaving it\nin that default container.\n\n285\n00:13:49.220 --> 00:13:52.300\n>> Yeah if you put it in a ou\nthat you created that you can,\n\n286\n00:13:52.300 --> 00:13:54.780\nlike Mike said\n>> So some group policy on.\n\n287\n00:13:54.780 --> 00:13:58.870\nWell and then you've taken care\nof things like running updates.\n\n288\n00:13:58.870 --> 00:14:01.980\nRight?\nCuz I can say must run WSUS updates.\n\n289\n00:14:01.980 --> 00:14:04.030\nGo after the server, check for updates.\n\n290\n00:14:04.030 --> 00:14:06.730\nIf you find any download them and\ninstall them and do that immediately.\n\n291\n00:14:06.730 --> 00:14:08.550\nAnd that's something you wanna do.\n\n292\n00:14:08.550 --> 00:14:10.930\nAny new computer that just gets built and\n\n293\n00:14:10.930 --> 00:14:13.160\njoined to your domain,\nit's a security flaw.\n\n294\n00:14:13.160 --> 00:14:17.000\nIt's a security risk at least and\nyou wanna patch that as soon as possible.\n\n295\n00:14:17.000 --> 00:14:20.410\nThrowing it into an organization\nunit that you have control over\n\n296\n00:14:20.410 --> 00:14:25.330\nis gonna allow you to delegate some of\nthat responsibility to the system and\n\n297\n00:14:25.330 --> 00:14:27.480\nnot even necessarily to a person.\n\n298\n00:14:27.480 --> 00:14:31.890\nAs long as it's just plugged in,\nturned on, attached to the network,\n\n299\n00:14:31.890 --> 00:14:34.290\nthe GP should set it, group policy.\n\n300\n00:14:34.290 --> 00:14:36.990\nIt'll see, oh,\nI need to check the WSUS server.\n\n301\n00:14:36.990 --> 00:14:42.990\n>> I'm in this WSUS group, maybe even add\nit to a WSUS group through that as well,\n\n302\n00:14:42.990 --> 00:14:47.890\ntake care of a lot of administrative\ntasks right off just having an OU that\n\n303\n00:14:47.890 --> 00:14:50.860\nis designated for computers that we can\n>> Control.\n\n304\n00:14:50.860 --> 00:14:54.120\n>> In fact, that's probably one of\nthe best examples you could have thrown\n\n305\n00:14:54.120 --> 00:14:57.290\nout there, because we know as soon\nas that Windows machine comes up,\n\n306\n00:14:57.290 --> 00:14:59.580\nit's gonna try to go get it's update,\nright?\n\n307\n00:14:59.580 --> 00:15:02.980\nWell if we're running WSUS that means\nwe've decided what updates it should get\n\n308\n00:15:02.980 --> 00:15:04.320\nand what it shouldn't get.\n\n309\n00:15:04.320 --> 00:15:06.610\nIf it's not getting that policy,\nguess where it's going.\n\n310\n00:15:06.610 --> 00:15:09.340\nOut to Microsoft, and they could approve,\nthey can get whatever updates they want,\n\n311\n00:15:09.340 --> 00:15:12.620\nand they might be updates that,\ncuz a blue screen on the computer because\n\n312\n00:15:12.620 --> 00:15:14.430\nof other software we're\nrunning in our environment.\n\n313\n00:15:14.430 --> 00:15:16.320\nSo, a great example there.\n\n314\n00:15:16.320 --> 00:15:20.830\nSo it gives you that ability to at least\napply your base policies until you\n\n315\n00:15:20.830 --> 00:15:24.970\ncan then go back in and move it and\nit's very easy to move these computers.\n\n316\n00:15:24.970 --> 00:15:27.410\nYou can do it a couple of different ways.\n\n317\n00:15:27.410 --> 00:15:30.200\nYou could right click on this computer.\n\n318\n00:15:30.200 --> 00:15:31.060\nAnd I could choose move.\n\n319\n00:15:31.060 --> 00:15:35.224\nAnd then I can pick the OU\nthat I want to move that into.\n\n320\n00:15:37.316 --> 00:15:40.770\nAnd click okay, and now, there it is.\n\n321\n00:15:40.770 --> 00:15:42.550\nI can also drag and drop.\n\n322\n00:15:42.550 --> 00:15:45.840\nI don't know if I ever made a, yeah,\nI did make a member server's OU there.\n\n323\n00:15:45.840 --> 00:15:48.820\nLet's say,\nI come back up here to computers.\n\n324\n00:15:48.820 --> 00:15:51.760\n>> And I want to move these guys\ninto that Gainesville office.\n\n325\n00:15:51.760 --> 00:15:56.310\nI could right click move or I can click\nand drag, and drop them over there.\n\n326\n00:15:57.720 --> 00:15:59.230\nWhere'd my little warning go?\n\n327\n00:15:59.230 --> 00:16:01.150\nI wanted you guys to see that warning.\n\n328\n00:16:01.150 --> 00:16:02.533\nI don't know why it went away so fast.\n\n329\n00:16:02.533 --> 00:16:07.948\nLet me try to move one of these back for\na second and see what it will do?\n\n330\n00:16:07.948 --> 00:16:10.750\nIt's not feeling like warning me anymore.\n\n331\n00:16:10.750 --> 00:16:13.970\nNormally you'll get a warning when\nyou drag and drop those things.\n\n332\n00:16:13.970 --> 00:16:16.750\nBecause Daniel, I don't know,\nhave you ever been moving a file in\n\n333\n00:16:16.750 --> 00:16:21.170\nWindows Explorer, and drop it a little\nbit too soon, and gone, where the heck.\n\n334\n00:16:21.170 --> 00:16:23.800\nWhat folder did I just\ndrop that file into?\n\n335\n00:16:23.800 --> 00:16:26.632\n>> [LAUGH] Yeah, you have to be ultra\ncareful when it comes to doing the drag\n\n336\n00:16:26.632 --> 00:16:29.740\nand drop, because, one missed step,\nand then you're like oh, no.\n\n337\n00:16:29.740 --> 00:16:30.340\nWhere did that go?\n\n338\n00:16:30.340 --> 00:16:32.020\nI mean you can search for it-\n>> You'll find it.\n\n339\n00:16:32.020 --> 00:16:36.130\nThere's search features, but you know,\nit can get a little hidden away.\n\n340\n00:16:36.130 --> 00:16:38.660\nAnd if you don't realize you dropped it,\nthat's what happens.\n\n341\n00:16:38.660 --> 00:16:40.980\nYou don't realize that you've\ndropped it in the wrong thing.\n\n342\n00:16:40.980 --> 00:16:44.540\nYou think, you're cranking and\nyou're dragging and you're dropping, and\n\n343\n00:16:44.540 --> 00:16:45.940\nyou drag one in.\n\n344\n00:16:45.940 --> 00:16:47.840\nWhen you're working with\nthese little things.\n\n345\n00:16:47.840 --> 00:16:48.870\nThey're tiny, man.\n\n346\n00:16:48.870 --> 00:16:50.290\nAnd you just hit the wrong one.\n\n347\n00:16:50.290 --> 00:16:52.140\nYou're not paying attention and it's gone.\n\n348\n00:16:52.140 --> 00:16:56.590\nAnd a couple of days later you go to check\nor the boss calls and says that computer\n\n349\n00:16:56.590 --> 00:16:59.705\nthat we just set up, that server you\njust set up, it's not getting updates.\n\n350\n00:16:59.705 --> 00:17:01.215\nWhat's up with that?\n\n351\n00:17:01.215 --> 00:17:03.055\nI accidentally dragged it to the wrong OU.\n\n352\n00:17:03.055 --> 00:17:03.865\n>> Yeah, exactly.\nEasy to do.\n\n353\n00:17:03.865 --> 00:17:05.435\nSo that's why it'll warn\nyou if you drag and\n\n354\n00:17:05.435 --> 00:17:08.055\ndrop it's gonna say are you\nsure you meant to do that?\n\n355\n00:17:08.055 --> 00:17:11.335\nCuz you could definitely\naccidentally drag and drop things.\n\n356\n00:17:11.335 --> 00:17:13.772\nRight-click, move, it's a little harder,\nhard to right-click,\n\n357\n00:17:13.772 --> 00:17:17.522\nmove, pick the OU, click OK, so\nit doesn't bother warning you there.\n\n358\n00:17:17.522 --> 00:17:20.032\nAll right, so easy enough to move\nthose guys around in Active Directory.\n\n359\n00:17:20.032 --> 00:17:24.062\nRemember, easy to move,\nthat will change, though, the policies.\n\n360\n00:17:24.062 --> 00:17:29.222\nLike if I move, I might have policies\nlinked to this Gainesville desktop's OU,\n\n361\n00:17:29.222 --> 00:17:31.102\ndifferent policies\nlinked to this Tampa OU.\n\n362\n00:17:31.102 --> 00:17:36.160\nSo if I move this computer from one OU\nto the other that changes what policies\n\n363\n00:17:36.160 --> 00:17:39.840\nare applying, what administrative control\nhas been delegated, so keep that in mind.\n\n364\n00:17:39.840 --> 00:17:43.590\nYou start moving things around, you're\ngonna end up changing the settings and\n\n365\n00:17:43.590 --> 00:17:44.580\nthe administration on those.\n\n366\n00:17:44.580 --> 00:17:48.105\nOr you can end up changing that as well.\n\n367\n00:17:48.105 --> 00:17:52.435\nAlright so we've seen how to create\nthese OU's, setup our structure.\n\n368\n00:17:52.435 --> 00:17:55.035\nRemember the structure you\ncreate is completely up to you.\n\n369\n00:17:55.035 --> 00:17:57.135\nThere is no right or wrong way.\n\n370\n00:17:57.135 --> 00:18:01.137\nI'll say there is more efficient and less\nefficient ways to do it, but, you know,\n\n371\n00:18:01.137 --> 00:18:05.227\nit's up to you, whatever works for you and\nyour organization, I guess I'll say.\n\n372\n00:18:05.227 --> 00:18:06.162\n>> I call that the wrong way.\n\n373\n00:18:06.162 --> 00:18:09.041\n[LAUGH] The least\nefficient is the wrong way.\n\n374\n00:18:09.041 --> 00:18:10.769\n[LAUGH]\n>> All right, so\n\n375\n00:18:10.769 --> 00:18:14.280\nthe next thing I wanna talk\nabout here is that delegation.\n\n376\n00:18:14.280 --> 00:18:19.240\nWe've mentioned that a couple of times and\nnow it's time to show you.\n\n377\n00:18:19.240 --> 00:18:22.000\nWhen I talk about delegating\nadministrative control that means I want\n\n378\n00:18:22.000 --> 00:18:25.470\nto give some level of permissions\nwithin active directory.\n\n379\n00:18:25.470 --> 00:18:28.190\nWe're not talking about file permissions,\nyou know, folder permissions,\n\n380\n00:18:28.190 --> 00:18:29.230\nNTFS permissions.\n\n381\n00:18:29.230 --> 00:18:31.320\nTalking about\nActive Directory permissions.\n\n382\n00:18:31.320 --> 00:18:36.370\nAlthough they behave almost identically to\nNTFS permissions as far as the way they\n\n383\n00:18:36.370 --> 00:18:41.570\ncan be inherited, the way they block\ninheritance, the way we assign them.\n\n384\n00:18:41.570 --> 00:18:44.270\nSo, they're almost the same, same concept.\n\n385\n00:18:44.270 --> 00:18:48.270\nPermissions are completely different,\nthere are dozens and\n\n386\n00:18:48.270 --> 00:18:51.808\ndozens of extremely granular\npermissions that you can set.\n\n387\n00:18:51.808 --> 00:18:54.980\nEvery single ad view like when\nyou look at a user account.\n\n388\n00:18:54.980 --> 00:18:57.360\nLet's find a user account here.\n\n389\n00:18:57.360 --> 00:19:01.920\nLet's go to employees and help desk and\nwe'll pull up good old Nick Burns there\n\n390\n00:19:01.920 --> 00:19:06.420\nand I'll take a look at\nthe attribute editor for example.\n\n391\n00:19:06.420 --> 00:19:08.300\nAlright these are all\nthe different attributes\n\n392\n00:19:09.390 --> 00:19:10.680\nthat describe that user account.\n\n393\n00:19:12.970 --> 00:19:15.925\nWell when you assign permissions in\nactive directory you can be very\n\n394\n00:19:15.925 --> 00:19:16.800\ngranular if you want.\n\n395\n00:19:16.800 --> 00:19:20.580\nYou an assign permissions about\njust one individual attribute.\n\n396\n00:19:20.580 --> 00:19:25.070\nI can give somebody the ability to\nmodify the telephone number but\n\n397\n00:19:25.070 --> 00:19:29.060\nnot the fax number or\nthe email or something like that.\n\n398\n00:19:29.060 --> 00:19:32.230\nYou can be very very specific in here.\n\n399\n00:19:32.230 --> 00:19:35.570\nThey way they do it, you can do\nindividual attributes, you can also do\n\n400\n00:19:35.570 --> 00:19:39.660\ngroups of attributes, like there might be\nthe address group that might include all\n\n401\n00:19:39.660 --> 00:19:43.000\nthe attributes that have to do with\naddresses or something like that.\n\n402\n00:19:43.000 --> 00:19:46.820\nOr you can give them control\nover the entire object.\n\n403\n00:19:46.820 --> 00:19:49.800\nAnd assigning permissions is\npretty much the same way.\n\n404\n00:19:49.800 --> 00:19:52.200\nLike I could pull up the properties again,\n\n405\n00:19:52.200 --> 00:19:54.130\nI should have left that\nopen Nick Burns here.\n\n406\n00:19:54.130 --> 00:19:55.730\nI can go to the security tab and\n\n407\n00:19:55.730 --> 00:19:59.780\njust like an NTFS object,\nit has an access control list.\n\n408\n00:19:59.780 --> 00:20:02.420\nBut I can add or remove people from.\n\n409\n00:20:02.420 --> 00:20:03.650\nHere's a list of those permissions.\n\n410\n00:20:03.650 --> 00:20:07.890\nRemember I said there's a few\nmore than you deal with in NTFS?\n\n411\n00:20:07.890 --> 00:20:08.640\nRight.\n\n412\n00:20:08.640 --> 00:20:09.570\nThere's a few.\n\n413\n00:20:09.570 --> 00:20:10.760\n>> Just one or two.\n\n414\n00:20:10.760 --> 00:20:14.290\n>> Right.\nAnd notice how they got phain, phain,\n\n415\n00:20:14.290 --> 00:20:17.530\nphone and mail options, phain is what\nyou get when you combine phone and mail,\n\n416\n00:20:17.530 --> 00:20:18.135\nyou get phain.\n\n417\n00:20:18.135 --> 00:20:19.790\n>> [LAUGH] That's right.\n\n418\n00:20:19.790 --> 00:20:23.230\n>> We can set options over groups of\nattributes like that or we can go in and\n\n419\n00:20:23.230 --> 00:20:25.770\nfind an individual attribute,\nso we click advanced.\n\n420\n00:20:28.080 --> 00:20:31.490\nEventually it'll pull up my advance\nsecurity dialogue box here.\n\n421\n00:20:31.490 --> 00:20:36.390\nAnd I can go in here and\nI can select some, let's see, let's\n\n422\n00:20:43.230 --> 00:20:45.910\nadd and\neventually it's a little slow here today.\n\n423\n00:20:45.910 --> 00:20:48.330\nYou know there's a bunch\nof those attributes.\n\n424\n00:20:48.330 --> 00:20:49.490\nIt's still populating.\n\n425\n00:20:49.490 --> 00:20:52.130\nIt's going a little slow.\n\n426\n00:20:52.130 --> 00:20:54.450\nBut I could, you know I could assign,\nlet's see, who do I got?\n\n427\n00:20:54.450 --> 00:20:56.470\nI know that I got Al Bundy out there,\nsomewhere.\n\n428\n00:20:56.470 --> 00:21:01.090\nYou know I can pick who I want\nto assign the permissions to,\n\n429\n00:21:01.090 --> 00:21:03.600\nand then do I want to allow or deny?\n\n430\n00:21:03.600 --> 00:21:06.130\nSo very similar to what we do with NTFS,\nright?\n\n431\n00:21:06.130 --> 00:21:07.730\nHere's where it's a little bit different.\n\n432\n00:21:07.730 --> 00:21:11.198\nWhen you do the applies to,\nyou see I get a few choices.\n\n433\n00:21:11.198 --> 00:21:15.020\nOne or two choices, right?\n\n434\n00:21:15.020 --> 00:21:17.990\nAll those things I was looking\nat that attribute list earlier.\n\n435\n00:21:17.990 --> 00:21:20.450\nBut the key ones are this right up here.\n\n436\n00:21:20.450 --> 00:21:25.630\nThis object and all descendent objects or\nall descendent objects or descendant\n\n437\n00:21:25.630 --> 00:21:30.040\naccount objects, descendent computer\nobject, you can get really specific.\n\n438\n00:21:30.040 --> 00:21:35.250\nYou might have an OU that has both\nusers and computers in there, right?\n\n439\n00:21:35.250 --> 00:21:38.580\nAnd I wanna give somebody permissions\nto make changes to user accounts, but\n\n440\n00:21:38.580 --> 00:21:39.800\nnot computer accounts.\n\n441\n00:21:39.800 --> 00:21:43.020\nWell, that's where I can use\nthat descendent user account,\n\n442\n00:21:43.020 --> 00:21:48.880\nif I scroll down it and\nfind descendent user objects, right?\n\n443\n00:21:48.880 --> 00:21:52.120\nOr I could choose just computers and they\nwouldn't have any permissions over users.\n\n444\n00:21:52.120 --> 00:21:54.440\nI especially like these over here.\n\n445\n00:21:54.440 --> 00:21:57.440\nIf I'm gonna give somebody\npermissions I want them to be able to\n\n446\n00:21:57.440 --> 00:22:02.398\ncreate new users and modify existing\nusers and delete users alright.\n\n447\n00:22:02.398 --> 00:22:05.830\nWell in NTFS when you assign permissions\nit applies to the folders and\n\n448\n00:22:05.830 --> 00:22:07.700\neverything inside it right?\n\n449\n00:22:07.700 --> 00:22:10.860\nWell in this case I wanna give them\npermissions over the objects inside\n\n450\n00:22:10.860 --> 00:22:13.720\nthe OU, but I don't wanna give them\npermissions over the OU itself.\n\n451\n00:22:13.720 --> 00:22:17.060\nI don't want them deleting the OU\nthat contains all those user\n\n452\n00:22:17.060 --> 00:22:19.370\naccounts accidentally,\nor something like that.\n\n453\n00:22:19.370 --> 00:22:21.950\nSo I can choose all descendant objects.\n\n454\n00:22:21.950 --> 00:22:26.250\nThat way these permissions I assign,\nI still get to do it at the OU level and\n\n455\n00:22:26.250 --> 00:22:28.020\nlet inheritance take care of it and\n\n456\n00:22:28.020 --> 00:22:30.770\nnot have to apply the permissions\nindividually on the objects.\n\n457\n00:22:30.770 --> 00:22:33.990\nBut I'm still not giving him\npermissions over that parent container.\n\n458\n00:22:33.990 --> 00:22:37.550\nSo very cool option there, a few\ndifferent ways that you can deal with\n\n459\n00:22:37.550 --> 00:22:40.290\nhow these permissions are applied and\ninherited.\n\n460\n00:22:40.290 --> 00:22:43.150\nYou also see again all the different\npermissions that I can assign.\n\n461\n00:22:43.150 --> 00:22:47.670\nAll right, so I'm gonna cancel\nout of that for right now.\n\n462\n00:22:47.670 --> 00:22:50.380\nAnd there's nothing wrong\nwith going in there and\n\n463\n00:22:50.380 --> 00:22:53.040\nassigning those permissions\nmanually like that.\n\n464\n00:22:53.040 --> 00:22:55.670\nI am going to tell you that\nwe're going to use groups and\n\n465\n00:22:55.670 --> 00:22:58.760\nnot users, just like we talked\nabout NTSF permissions.\n\n466\n00:22:58.760 --> 00:23:01.330\nYou never want to assign permissions\ndirectly to a user account.\n\n467\n00:23:01.330 --> 00:23:04.700\nYou always want to assign them to a group,\neven if it's one user.\n\n468\n00:23:04.700 --> 00:23:07.730\nPut that user in the group, and\nassign the permissions to the group,\n\n469\n00:23:07.730 --> 00:23:11.140\nbecause tomorrow, there might be somebody\nelse that needs those same permissions.\n\n470\n00:23:11.140 --> 00:23:12.200\nYou don't have to do it all over again.\n\n471\n00:23:12.200 --> 00:23:13.960\nYou just add them to the group.\n\n472\n00:23:13.960 --> 00:23:17.780\nThe next day they tell you hey, that guy\ndoesn't need those permissions anymore.\n\n473\n00:23:17.780 --> 00:23:20.700\nWell, I don't want to have to go and\nuncheck all those check marks or\n\n474\n00:23:20.700 --> 00:23:23.140\nremove that person from\nthe access control list.\n\n475\n00:23:23.140 --> 00:23:25.640\nI just take them out of the group and\nI'm done with it.\n\n476\n00:23:25.640 --> 00:23:27.310\nAlways do it to groups, not to users.\n\n477\n00:23:27.310 --> 00:23:28.470\nAll right.\n\n478\n00:23:28.470 --> 00:23:31.850\nNow there's a really cool wizard though\nthat'll help me assign these permissions.\n\n479\n00:23:31.850 --> 00:23:35.720\nCuz as you saw Active Directory\nPermissions can be confusing.\n\n480\n00:23:35.720 --> 00:23:39.080\nYou know, if I want to let somebody\nreset passwords, how the heck,\n\n481\n00:23:39.080 --> 00:23:41.170\nwhat permission do I give\nthem to be able to do that?\n\n482\n00:23:41.170 --> 00:23:44.630\nThere's probably more than one permission\nthey need to be able to reset passwords\n\n483\n00:23:44.630 --> 00:23:46.300\nand I'm not sure what it is, I can.\n\n484\n00:23:46.300 --> 00:23:48.612\n>> Just put them in the domain\nadmins group, Mike, it's easy.\n\n485\n00:23:48.612 --> 00:23:49.920\n[LAUGH]\n>> [LAUGH] And\n\n486\n00:23:49.920 --> 00:23:52.650\nunfortunately that's what we\nsee a lot of times, right?\n\n487\n00:23:52.650 --> 00:23:55.082\n>> It is.\nThe lazy domain admins are just like,\n\n488\n00:23:55.082 --> 00:23:56.729\nyeah, give them full control.\n\n489\n00:23:56.729 --> 00:23:58.511\nI remember I had this one company,\n\n490\n00:23:58.511 --> 00:24:01.820\nevery one of their users was\nin the domain admins group.\n\n491\n00:24:01.820 --> 00:24:02.809\nEvery one of them.\n>> Are you kidding me?\n\n492\n00:24:02.809 --> 00:24:03.836\n>> Every single employee.\n\n493\n00:24:03.836 --> 00:24:05.839\nIt was Crazy.\n\n494\n00:24:05.839 --> 00:24:08.217\nThis guy came to me and said,\nhe'd just got the job with this company.\n\n495\n00:24:08.217 --> 00:24:11.568\nAnd he said, I just found out that every\nuser is in the domain admin's group, and\n\n496\n00:24:11.568 --> 00:24:12.620\nI don't know what to do.\n\n497\n00:24:12.620 --> 00:24:14.831\nAnd I said, well,\nyou need to fix it, you know [LAUGH]\n\n498\n00:24:14.831 --> 00:24:16.169\n>> That's called the wrong way, Mike.\n\n499\n00:24:16.169 --> 00:24:19.420\n>> [LAUGH] Yeah, exactly,\nthat is the wrong way.\n\n500\n00:24:19.420 --> 00:24:24.320\nAll right, so lets look at delegating some\ncontrol because it's a pretty cool wizard\n\n501\n00:24:24.320 --> 00:24:25.500\nthat we can use and\n\n502\n00:24:25.500 --> 00:24:30.630\nit's gonna simplify our life when\nwe go to assign these permissions.\n\n503\n00:24:30.630 --> 00:24:31.530\nSo I'm gonna go up to,\n\n504\n00:24:31.530 --> 00:24:34.550\nlets start with the Employees OU,\nlet me collapse some of this up.\n\n505\n00:24:36.095 --> 00:24:38.255\nAll right, so over the Employees OU,\n\n506\n00:24:38.255 --> 00:24:42.745\nI want to give my Tier 1 Help Desk the\nability to reset user passwords, right?\n\n507\n00:24:42.745 --> 00:24:44.090\n[COUGH] Excuse me.\n\n508\n00:24:44.090 --> 00:24:48.070\nSo what I'm going to do is, I'm going to\nright click on this Employee's OU and\n\n509\n00:24:48.070 --> 00:24:52.340\nI'm going to choose delegate control,\nhow about that?\n\n510\n00:24:52.340 --> 00:24:55.200\nThat's going to launch\nmy Delegation Wizard and\n\n511\n00:24:55.200 --> 00:24:56.270\nI'll just walk through the steps here.\n\n512\n00:24:56.270 --> 00:24:58.990\nI'll click next on the Wizard and\nit's gonna say, first,\n\n513\n00:24:58.990 --> 00:25:01.650\nthe question is,\nwho are you trying to delegate to?\n\n514\n00:25:01.650 --> 00:25:03.950\nNow it will let you delegate to users, but\n\n515\n00:25:03.950 --> 00:25:05.480\nyou already know what we think about that,\nright?\n\n516\n00:25:05.480 --> 00:25:08.590\nSo you're gonna delegate,\nhere's another thing I like to say,\n\n517\n00:25:08.590 --> 00:25:13.170\nyou want to delegate to a group because\nthere is no un-delegate Wizard.\n\n518\n00:25:13.170 --> 00:25:16.420\nOnce you delegate to a user\nto remove those permissions,\n\n519\n00:25:16.420 --> 00:25:17.890\nyou've gotta do all of it manually.\n\n520\n00:25:17.890 --> 00:25:21.680\nYou could use the Wizard to assign them\nreal easy, but now how do you undo it?\n\n521\n00:25:21.680 --> 00:25:23.650\nThere's no magic Wizard to undo it.\n\n522\n00:25:23.650 --> 00:25:27.230\n>> They want you really invested in\nthe fact that this is person and/or\n\n523\n00:25:27.230 --> 00:25:29.590\ngroup that you want to\ndelegate control to.\n\n524\n00:25:29.590 --> 00:25:33.630\nBecause, like you said you could spend a\nlot of time to figure out, well they still\n\n525\n00:25:33.630 --> 00:25:36.520\nhave access to this thing, what do i\nhave to do to get this to go away?\n\n526\n00:25:36.520 --> 00:25:39.390\n>> Absolutely,\nwhat permissions did it really give them?\n\n527\n00:25:39.390 --> 00:25:41.120\nI've got to try to undo all of that.\n\n528\n00:25:41.120 --> 00:25:44.992\nSo I'm going to click Add and\nfind my Tier 1 group here.\n\n529\n00:25:48.207 --> 00:25:51.238\nSo now it knows who I'm\ntrying to delegate to.\n\n530\n00:25:51.238 --> 00:25:52.880\nI'll click next and\n\n531\n00:25:52.880 --> 00:25:57.080\nthen I get a really cool screen here,\ndelegate the following common tasks.\n\n532\n00:25:57.080 --> 00:26:00.730\nAnd there's 11 or so\ncommon tasks in here, things like create,\n\n533\n00:26:00.730 --> 00:26:02.690\ndelete, manage user accounts.\n\n534\n00:26:02.690 --> 00:26:04.580\nOr, reset user passwords and\n\n535\n00:26:04.580 --> 00:26:07.990\nforce passwords next Password\nchange at next log on.\n\n536\n00:26:07.990 --> 00:26:09.650\nManage group policy links.\n\n537\n00:26:09.650 --> 00:26:12.470\nCreate and delete manage groups or users.\n\n538\n00:26:12.470 --> 00:26:15.630\nSo some really cool common tasks but\nthere's only 11 of them,\n\n539\n00:26:15.630 --> 00:26:17.240\nthere's not that many.\n\n540\n00:26:17.240 --> 00:26:18.880\nSo one of the cool things that you can do.\n\n541\n00:26:20.000 --> 00:26:24.690\nAll of these common tasks are actually\npulled from something called delegwiz.inf.\n\n542\n00:26:24.690 --> 00:26:29.975\nIt's a file located at\nC:windows/system32/inf.\n\n543\n00:26:29.975 --> 00:26:33.010\nActually, I take that back, I think they\nmoved it out, it's C:windows/system32.\n\n544\n00:26:33.010 --> 00:26:37.420\nIt used to be C:windows/inf,\nnow it's in the system 32 folder.\n\n545\n00:26:37.420 --> 00:26:39.020\nAnd you go in there,\n\n546\n00:26:39.020 --> 00:26:43.700\nand you'll find this file, and\nthat's where its getting those tasks from.\n\n547\n00:26:43.700 --> 00:26:48.970\nIf I choose reset passwords, how does\nit know what permissions to assign?\n\n548\n00:26:48.970 --> 00:26:50.750\nIt's that file, all right?\n\n549\n00:26:50.750 --> 00:26:53.270\nWell you can actually go out to Microsoft,\nand\n\n550\n00:26:53.270 --> 00:26:58.920\nI'll throw this link in the show notes,\nand you can download this.\n\n551\n00:26:58.920 --> 00:27:03.770\nAll, you just basically copy all of this,\nand you paste it in your delegwiz file, or\n\n552\n00:27:03.770 --> 00:27:07.899\nreplace, rename your old one so\njust in case, rename it delegwiz.old.\n\n553\n00:27:07.899 --> 00:27:10.790\nCreate your new file,\npaste all of this in there.\n\n554\n00:27:10.790 --> 00:27:13.870\nAnd like here's that first one\nwe saw on that list; create,\n\n555\n00:27:13.870 --> 00:27:15.920\ndelete, manage user accounts.\n\n556\n00:27:15.920 --> 00:27:18.200\nScope is over user objects.\n\n557\n00:27:18.200 --> 00:27:20.540\nAnd it's assigning these\ndifferent permissions, GA.\n\n558\n00:27:20.540 --> 00:27:23.540\nAnd you could actually\nmodify this yourself.\n\n559\n00:27:23.540 --> 00:27:27.322\nYou could do that yourself if\nyou understood all of this, so,\n\n560\n00:27:27.322 --> 00:27:28.760\nmore power to you.\n\n561\n00:27:28.760 --> 00:27:35.675\nBut, in this file- Scroll down to\nthe bottom here, there's actually\n\n562\n00:27:35.675 --> 00:27:40.730\nsomething like 70 different tasks,\nso you can add a lot to that wizard.\n\n563\n00:27:40.730 --> 00:27:44.250\nAll you do is replace that file, and\nall of a sudden your wizard will\n\n564\n00:27:44.250 --> 00:27:49.110\nhave 70 different common tasks that you've\nbeen assigned, and some of them are very,\n\n565\n00:27:49.110 --> 00:27:49.960\nvery useful.\n\n566\n00:27:49.960 --> 00:27:53.620\nSo if you want to improve\nthat wizard's capabilities,\n\n567\n00:27:53.620 --> 00:27:55.410\ngo grab that file from Microsoft.\n\n568\n00:27:55.410 --> 00:27:58.341\nReplace your delegwiz file on your server,\n\n569\n00:27:58.341 --> 00:28:04.120\nin that C:windows/system32, and\nyou will have all those cool tasks.\n\n570\n00:28:04.120 --> 00:28:06.530\nAll right, so Tier 1 is going to\nbe able to reset user passwords.\n\n571\n00:28:06.530 --> 00:28:11.100\nI'm going to click Next and Finish, whew.\n\n572\n00:28:11.100 --> 00:28:11.770\n>> That was hard Mike.\n\n573\n00:28:11.770 --> 00:28:12.700\n>> That was crazy.\n\n574\n00:28:12.700 --> 00:28:14.412\n>> It was too much for\nme to ever comprehend.\n\n575\n00:28:14.412 --> 00:28:15.260\n[LAUGH]\n>> [LAUGH] All right,\n\n576\n00:28:15.260 --> 00:28:17.472\nI'll do it a little slower this time.\n\n577\n00:28:17.472 --> 00:28:20.536\n>> Please. [LAUGH] >> All right, let's see\nif we can figure out what the heck it did.\n\n578\n00:28:20.536 --> 00:28:22.450\nIf I right-click on that\nemployee Employees OU, and\n\n579\n00:28:22.450 --> 00:28:26.400\nI choose Properties, I take a look at\nthat Security tab, there's Tier 1,\n\n580\n00:28:26.400 --> 00:28:29.590\nit also doesn't look like\nanything was assigned.\n\n581\n00:28:29.590 --> 00:28:31.980\nExcept for\nthis Special Permissions down here.\n\n582\n00:28:31.980 --> 00:28:37.900\nSo, I'll click Advanced and\nthen I'm gonna go ahead and find, you see\n\n583\n00:28:37.900 --> 00:28:43.840\nTier 1 has this Access permission to reset\npassword over descendant user objects.\n\n584\n00:28:43.840 --> 00:28:47.650\nAnd they've got something else here, that\nI really don't even know what it is, but\n\n585\n00:28:47.650 --> 00:28:50.280\nevidently they needed that to\nbe able to reset passwords.\n\n586\n00:28:51.340 --> 00:28:52.230\nAnd I can click Edit.\n\n587\n00:28:53.590 --> 00:28:56.740\nAnd I could go in and\nfigure out what that permission was, but\n\n588\n00:28:56.740 --> 00:28:58.920\nlet's see here if it'll show me.\n\n589\n00:29:00.450 --> 00:29:06.340\nShow me, so there's my Tier 1, and yeah,\nI don't even see the permission here.\n\n590\n00:29:06.340 --> 00:29:08.630\nThat's nice of you Microsoft,\nthank you very much.\n\n591\n00:29:08.630 --> 00:29:10.980\nSo again,\ngoes back to what we were saying,\n\n592\n00:29:10.980 --> 00:29:14.510\ntrying to undo something that you've done,\ncould be very difficult.\n\n593\n00:29:14.510 --> 00:29:15.870\n[LAUGH]\n>> [LAUGH] Apparently so.\n\n594\n00:29:15.870 --> 00:29:18.780\nMike, I think we need to, once\nthe shows over, we'll get together, and\n\n595\n00:29:18.780 --> 00:29:21.070\ncreate the Undelegate tool,\nmake a million bucks.\n\n596\n00:29:21.070 --> 00:29:21.650\nWhat do you think?\n\n597\n00:29:21.650 --> 00:29:22.150\n[LAUGH]\n>> I think so.\n\n598\n00:29:22.150 --> 00:29:24.010\nI think that'd probably be a good idea.\n\n599\n00:29:24.010 --> 00:29:26.930\nAll right, so that's the delegation,\nthat's one way to do this,\n\n600\n00:29:26.930 --> 00:29:27.850\nDelegation Wizard.\n\n601\n00:29:27.850 --> 00:29:29.870\nIn fact, I'm gonna run through it again,\n\n602\n00:29:29.870 --> 00:29:31.910\nsince Andrew said I went\na little too too fast there.\n\n603\n00:29:31.910 --> 00:29:35.450\nI want to give Tier 2 full\ncontrol over the Employees OU.\n\n604\n00:29:35.450 --> 00:29:39.050\nTier 1 can only reset passwords,\nall right?\n\n605\n00:29:39.050 --> 00:29:43.820\nBut I want Tier 2 to be able to modify\nanything about a user, delete a user.\n\n606\n00:29:43.820 --> 00:29:44.750\nSo same process.\n\n607\n00:29:44.750 --> 00:29:48.058\nDelegate control, Next, and\n\n608\n00:29:48.058 --> 00:29:53.284\nI'll click Add and\nI want to do Tier 2 this time.\n\n609\n00:29:53.284 --> 00:29:56.811\nThen I'll click Next and\nI'm gonna give them Create,\n\n610\n00:29:56.811 --> 00:30:01.805\ndelete, and manager user accounts,\nCreate, delete, and manage groups.\n\n611\n00:30:01.805 --> 00:30:04.787\nWhat else should I give them?\n\n612\n00:30:04.787 --> 00:30:12.265\nEh, this should probably be good,\nI'll click Next- And Finish.\n\n613\n00:30:12.265 --> 00:30:16.050\nAnd same thing, its that easy,\npick who your trying to delegate to,\n\n614\n00:30:16.050 --> 00:30:20.440\npick what you want to delegate to them and\nclick Finish and you're good to go.\n\n615\n00:30:20.440 --> 00:30:22.910\nNow one more thing i want to\nshow you though because, one,\n\n616\n00:30:22.910 --> 00:30:26.601\nyou can delegate more than once and\nI'm that's exactly what I'm gonna do here.\n\n617\n00:30:26.601 --> 00:30:29.648\nI'm gonna right-click on\nEmployees OU again and\n\n618\n00:30:29.648 --> 00:30:31.760\nI'm gonna chose Delegate control.\n\n619\n00:30:31.760 --> 00:30:35.380\nNow there aren't any computer accounts in\nhere, but I'm doing this for a purpose,\n\n620\n00:30:35.380 --> 00:30:38.890\nI wanna show you that you can run\nthrough the Wizard more than once and\n\n621\n00:30:38.890 --> 00:30:41.610\nsometimes you might need to.\n\n622\n00:30:41.610 --> 00:30:45.410\nSo I'm gonna do Next and\nI'm gonna grab Tier 2 again.\n\n623\n00:30:45.410 --> 00:30:50.770\nSo I'll click Add,\nfind my Tier 2 group, click Next.\n\n624\n00:30:50.770 --> 00:30:53.830\nAnd I've already given full\ncontrol over user accounts and\n\n625\n00:30:53.830 --> 00:30:55.590\ngroups, what did I forget?\n\n626\n00:30:55.590 --> 00:30:57.703\nWhat is another object\nthat might be in there?\n\n627\n00:30:57.703 --> 00:30:58.270\n>> Computers.\n\n628\n00:30:58.270 --> 00:31:02.840\n>> Computer accounts, yeah and you'll\nnotice that there is no common task for\n\n629\n00:31:02.840 --> 00:31:04.540\ncomputer accounts, all right?\n\n630\n00:31:04.540 --> 00:31:06.131\nSo what I have to do is\ncreate a custom task,\n\n631\n00:31:06.131 --> 00:31:08.290\nthat's what this radio\nbutton down here is for.\n\n632\n00:31:08.290 --> 00:31:09.830\nIf the common tasks don't cut it for\n\n633\n00:31:09.830 --> 00:31:14.330\nyou, you can always click Create\ncustom tasks to delegate.\n\n634\n00:31:14.330 --> 00:31:19.400\nThen I'll click Next and I can choose\nthis folder and Existing object,\n\n635\n00:31:19.400 --> 00:31:24.310\nor I can choose Only the following objects\nand then I can choose Computer accounts.\n\n636\n00:31:24.310 --> 00:31:26.515\nAnd you'll see that list\nis pretty extensive,\n\n637\n00:31:26.515 --> 00:31:30.053\nthat's all those attributes we deal\nwith for the different objects.\n\n638\n00:31:30.053 --> 00:31:33.905\nI'm gonna say Create selected objects and\nI can also give them Delete if I want,\n\n639\n00:31:33.905 --> 00:31:35.125\nto selected objects.\n\n640\n00:31:35.125 --> 00:31:40.195\nSo it'd just be over Computer Accounts\nin this case, I'll click Next and\n\n641\n00:31:40.195 --> 00:31:42.125\nthen what do I want to give them?\n\n642\n00:31:42.125 --> 00:31:44.205\nDo I want to give full control?\n\n643\n00:31:44.205 --> 00:31:44.885\nThat's what I'll do for\n\n644\n00:31:44.885 --> 00:31:48.780\nthis one, I'll click Next and\nthen Finish and there we go.\n\n645\n00:31:48.780 --> 00:31:51.900\nSo again, I wanted to show you\nthe fact that, two things there, one,\n\n646\n00:31:51.900 --> 00:31:53.350\nyou can run through the wizard twice for\n\n647\n00:31:53.350 --> 00:31:56.690\nthe same group depending on\nwhat you're trying to assign.\n\n648\n00:31:56.690 --> 00:31:59.107\nAnd two, sometimes the common\ntasks don't cut it and so\n\n649\n00:31:59.107 --> 00:32:00.856\nyou're gonna have to do a custom task and\n\n650\n00:32:00.856 --> 00:32:04.090\nmanually pick and choose the permissions\nyou want to assign to them.\n\n651\n00:32:04.090 --> 00:32:07.030\nIt's also why going to get that\nnew delegwiz file can be helpful,\n\n652\n00:32:07.030 --> 00:32:10.250\nbecause I'm sure Computer Accounts are\nactually included in that, amongst those\n\n653\n00:32:10.250 --> 00:32:13.484\n70 tasks that you can add to that Wizard\n>> Yeah,\n\n654\n00:32:13.484 --> 00:32:15.780\nobviously delegation is a great thing,\nright?\n\n655\n00:32:15.780 --> 00:32:19.540\nIt's obviously a very helpful, handy dandy\nitem for us to have, that way we can say,\n\n656\n00:32:19.540 --> 00:32:23.220\nhey you know what Help Desk, why don't you\ntake over some of this responsibility,\n\n657\n00:32:23.220 --> 00:32:25.140\nlet me get back to managing servers.\n\n658\n00:32:25.140 --> 00:32:28.100\nMike you look like you just thought\nof the greatest thing ever.\n\n659\n00:32:28.100 --> 00:32:28.880\n>> Could you tell?\n\n660\n00:32:28.880 --> 00:32:33.360\n[LAUGH] There is one thing that\nI wanted to point out as well.\n\n661\n00:32:33.360 --> 00:32:35.340\nThe delegation wizard is very specific.\n\n662\n00:32:35.340 --> 00:32:40.270\nI right clicked over the Employees OU and\nI gave Tier 1 permissions, I gave Tier 2\n\n663\n00:32:40.270 --> 00:32:44.700\npermissions, they have permissions over\nthe Employees OU, anything inside there.\n\n664\n00:32:44.700 --> 00:32:46.090\nBut nothing else, right?\n\n665\n00:32:46.090 --> 00:32:47.160\nIt is very specific.\n\n666\n00:32:47.160 --> 00:32:49.410\nNow if I delegate it at the domain level,\n\n667\n00:32:49.410 --> 00:32:51.660\nthose permissions would inherit\nall the way down, right?\n\n668\n00:32:51.660 --> 00:32:55.730\nSo you might have it where I wanna give\nthem permissions to reset employee\n\n669\n00:32:55.730 --> 00:32:59.470\npasswords but\nnot administrator passwords, right?\n\n670\n00:32:59.470 --> 00:33:03.460\nSo if you do it over the right OU,\njust understand that It's very specific,\n\n671\n00:33:03.460 --> 00:33:04.780\nIt's not blanket permissions.\n\n672\n00:33:04.780 --> 00:33:08.190\nIt all depends on where you\nlaunch that Delegation Wizard,\n\n673\n00:33:08.190 --> 00:33:12.620\nthat's what's gonna control what objects\nare getting those permissions over.\n\n674\n00:33:12.620 --> 00:33:14.130\nI just wanted to make sure\nI pointed that out as well.\n\n675\n00:33:14.130 --> 00:33:15.410\n>> That's a very good point, too.\n\n676\n00:33:15.410 --> 00:33:17.490\nSo, wise words from Mr. Roderick.\n\n677\n00:33:17.490 --> 00:33:20.060\nMake sure you get them tattooed\nacross your, well, not your forehead,\n\n678\n00:33:20.060 --> 00:33:21.005\nprobably not a good place for that.\n\n679\n00:33:21.005 --> 00:33:22.980\n>> [LAUGH]\n>> But memorize them at the very least, so\n\n680\n00:33:22.980 --> 00:33:26.580\nthat when you're actually in a Windows\nServer environment you're able to take\n\n681\n00:33:26.580 --> 00:33:29.070\nadvantage of some of these things\nthat we're trying to show you.\n\n682\n00:33:29.070 --> 00:33:31.810\nAnd also, for\nwhen you're in that testing booth and\n\n683\n00:33:31.810 --> 00:33:36.240\nthey start asking you questions about this\nstuff you're not a babe lost in the woods,\n\n684\n00:33:36.240 --> 00:33:39.070\nyou actually know this stuff so\nit's always good for us.\n\n685\n00:33:39.070 --> 00:33:42.580\nAll right Mike, that being said we've gone\nover organization units, how it's a good\n\n686\n00:33:42.580 --> 00:33:46.420\nidea to keep things structured, keep\nthings logical, this is gonna help us out.\n\n687\n00:33:46.420 --> 00:33:49.660\nAnd how to delegate control over\nthose units, very good stuff.\n\n688\n00:33:49.660 --> 00:33:50.790\nHave we missed anything?\n\n689\n00:33:50.790 --> 00:33:51.752\n>> I think we got it all.\n\n690\n00:33:51.752 --> 00:33:55.040\n>> All right, well that being said,\nlooks like we've come to the end of yet\n\n691\n00:33:55.040 --> 00:33:57.660\nanother cool episode here at ITProTV.\n\n692\n00:33:57.660 --> 00:33:59.600\nSinging off,\nI've been your host Daniel Lowery.\n\n693\n00:33:59.600 --> 00:34:00.450\n>> And I'm Mike Roderick.\n\n694\n00:34:00.450 --> 00:34:02.975\n>> And we'll see you next time.\n\n695\n00:34:02.975 --> 00:34:07.930\n[MUSIC]\n\n",
          "vimeoId": "134193105"
        },
        {
          "description": "In this episode Nate and Don examine deploying an Active Directory domain controller inside of the Microsoft Azure cloud data center. They demonstrate securely connecting a local network with a private cloud network using a VPN and then install and promote an Active Directory domain controller.",
          "length": "4367",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/021-Windows-Azure.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/021-Windows-Azure-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/mcsa70410/021-Windows-Azure-sm.jpg",
          "title": "Microsoft Azure",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:34.453 --> 00:00:35.857\nAll right.\nGood morning, good afternoon, and\n\n3\n00:00:35.857 --> 00:00:36.387\ngood evening.\n\n4\n00:00:36.387 --> 00:00:39.998\nAnd welcome back to another episode\nof ITProTV, I'm your host Don Pezet,\n\n5\n00:00:39.998 --> 00:00:41.561\ntoday with Mr. Nate Copeland.\n\n6\n00:00:41.561 --> 00:00:42.092\nHow's it going Nate?\n\n7\n00:00:42.092 --> 00:00:43.680\n>> Pretty good Don, pretty good today.\n\n8\n00:00:43.680 --> 00:00:44.784\n>> Yeah?\n\n9\n00:00:44.784 --> 00:00:47.952\nShould be, right, because we're dealing\nwith one of your exciting topics.\n\n10\n00:00:47.952 --> 00:00:50.700\n>> [LAUGH]\n>> Cloud services,\n\n11\n00:00:50.700 --> 00:00:52.506\nit is the buzz word today.\n\n12\n00:00:52.506 --> 00:00:55.393\nEverybody wants to you, put it in\nthe cloud, the cloud, it's great,\n\n13\n00:00:55.393 --> 00:00:56.176\nit's wonderful.\n\n14\n00:00:56.176 --> 00:00:59.354\nWell, today,\nwe're gonna put it in the cloud, right?\n\n15\n00:00:59.354 --> 00:01:02.755\nSo, we're gonna follow all\nthe marketing buzz lying out there, and\n\n16\n00:01:02.755 --> 00:01:04.704\nwe're gonna do what they tell us to do.\n\n17\n00:01:04.704 --> 00:01:06.296\nAnd put our stuff in the cloud.\n\n18\n00:01:06.296 --> 00:01:07.902\n[LAUGH]\n>> Yeah, and\n\n19\n00:01:07.902 --> 00:01:11.983\nthe stuff we're putting in the cloud,\nI mean this is gonna be our\n\n20\n00:01:11.983 --> 00:01:16.611\nentire Active Directory, I mean,\nyeah, a lot of great stuff up there.\n\n21\n00:01:16.611 --> 00:01:19.342\nI mean,\nnot just your Dropbox stuff in there,\n\n22\n00:01:19.342 --> 00:01:20.022\nbut-\n>> Yeah.\n\n23\n00:01:20.022 --> 00:01:21.205\n>> Your whole directory.\n\n24\n00:01:21.205 --> 00:01:23.720\n>> So, let's start out really general,\nbecause for\n\n25\n00:01:23.720 --> 00:01:27.690\na lot of people this might be your\nfirst exposure to cloud services.\n\n26\n00:01:27.690 --> 00:01:29.199\nYou probably use them all the time.\n\n27\n00:01:29.199 --> 00:01:32.400\nI mean, in a way, when you watch our\nepisodes you are using a cloud service.\n\n28\n00:01:32.400 --> 00:01:35.180\nYou don't have the episodes to downloaded,\nyou're watching them from our site.\n\n29\n00:01:35.180 --> 00:01:40.550\nBut Microsoft has a service platform\nthat is called Windows Azure.\n\n30\n00:01:40.550 --> 00:01:42.855\nNow, the pronunciation on that.\n\n31\n00:01:42.855 --> 00:01:45.442\nCuz I called it Windows Azure for\na long time.\n\n32\n00:01:45.442 --> 00:01:48.728\nBut then I actually, talked to one\nof the guys on the Dev team for\n\n33\n00:01:48.728 --> 00:01:51.580\nWindows Azure, and\nhe said, no, it's Azure.\n\n34\n00:01:51.580 --> 00:01:52.938\nSo, apparently, that's how they say it.\n\n35\n00:01:52.938 --> 00:01:54.019\nBut-\n>> But well,\n\n36\n00:01:54.019 --> 00:01:56.058\nwhat were you doing with the Dev team?\n\n37\n00:01:56.058 --> 00:01:57.044\nHow'd you get that close?\n\n38\n00:01:57.044 --> 00:01:59.550\n>> It was a Microsoft,\nthey do these little,\n\n39\n00:01:59.550 --> 00:02:04.299\nlike Microsoft camps from time to time,\nand they invite the MCTs and stuff to go.\n\n40\n00:02:04.299 --> 00:02:04.982\nI was one of those.\n\n41\n00:02:04.982 --> 00:02:06.213\n>> Like computer camp.\n\n42\n00:02:06.213 --> 00:02:09.288\n>> Kind of [CROSSTALK] like computer camp,\nI suppose, but yeah.\n\n43\n00:02:09.288 --> 00:02:10.855\n>> Okay.\n>> We didn't get any cool t-shirts.\n\n44\n00:02:10.855 --> 00:02:11.573\n>> All right.\n\n45\n00:02:11.573 --> 00:02:12.867\n>> But it's sad, normally,\nyou get a t-shirt.\n\n46\n00:02:12.867 --> 00:02:14.054\nWhere's my t-shirt?\n\n47\n00:02:14.054 --> 00:02:16.727\nSo, [LAUGH] we've got bumper stickers,\nwhich I'm not gonna put\n\n48\n00:02:16.727 --> 00:02:17.767\na Windows Azure bumper\n>> [LAUGH]\n\n49\n00:02:17.767 --> 00:02:18.730\n>> Sticker on my car.\n\n50\n00:02:18.730 --> 00:02:23.828\nBut anyhow, Windows Azure is\nMicrosoft's online platform,\n\n51\n00:02:23.828 --> 00:02:27.302\nwhere they provide a lot of stuff, right?\n\n52\n00:02:27.302 --> 00:02:31.391\nThey provide platform as a service,\ninfrastructure as a service, and\n\n53\n00:02:31.391 --> 00:02:35.420\nsoftware as a service,\ndirectly through their site.\n\n54\n00:02:35.420 --> 00:02:39.485\nIf you're familiar with services,\nlike Rackspace, hosted servers, or\n\n55\n00:02:39.485 --> 00:02:43.365\nAmazon Web Services, AWS,\nthat's probably, the biggest example.\n\n56\n00:02:43.365 --> 00:02:45.837\nWindows Azure is a direct competitor for\nthat.\n\n57\n00:02:45.837 --> 00:02:46.858\nAll right.\n\n58\n00:02:46.858 --> 00:02:51.481\nSo, now maybe we should describe the\ndifferences between platform as a service,\n\n59\n00:02:51.481 --> 00:02:56.305\nsoftware as a service, and infrastructure\nas a service, before we jump into Azure.\n\n60\n00:02:56.305 --> 00:02:59.585\n>> Yeah.\nWell, yeah, infrastructure as a service,\n\n61\n00:02:59.585 --> 00:03:02.629\nI guess,\njust jump down there to the very end,\n\n62\n00:03:02.629 --> 00:03:07.740\nthis is everything a hardware,\na everything is hosted up in the cloud.\n\n63\n00:03:07.740 --> 00:03:12.787\nSo, the virtual machines will be up there,\nso you would be managing everything up\n\n64\n00:03:12.787 --> 00:03:17.924\nthere in the cloud, as infrastructure,\nas a service, so everything is up there.\n\n65\n00:03:17.924 --> 00:03:23.710\nThe software as a service is,\nthe hardware is being managed.\n\n66\n00:03:23.710 --> 00:03:25.668\nThat's been spun up, up there, and\n\n67\n00:03:25.668 --> 00:03:28.690\nthen you just manage\nthe software side of things.\n\n68\n00:03:28.690 --> 00:03:33.356\nAnd Don that'll be just like remote\ndesktop into something, and managing,\n\n69\n00:03:33.356 --> 00:03:36.800\nI guess, the server settings,\nthe client setting, and\n\n70\n00:03:36.800 --> 00:03:38.763\nthose sorts of things up there.\n\n71\n00:03:38.763 --> 00:03:39.342\n>> Right.\n>> Correct?\n\n72\n00:03:39.342 --> 00:03:41.106\n>> Yep.\n\n73\n00:03:41.106 --> 00:03:41.844\n>> Yep.\n\n74\n00:03:41.844 --> 00:03:45.886\nAnd platform as a service,\nwell so platform is a service,\n\n75\n00:03:45.886 --> 00:03:48.690\nso we'd be stepping down a bit more, and\n\n76\n00:03:48.690 --> 00:03:53.326\nit would just be the individual\nsoftware pieces that are up there.\n\n77\n00:03:53.326 --> 00:03:56.910\nSo, would you say it would\nlike exchange online, or\n\n78\n00:03:56.910 --> 00:03:59.860\nsomething like that a SharePoint online.\n\n79\n00:03:59.860 --> 00:04:03.643\nWould you count something like that,\nas a software to service?\n\n80\n00:04:03.643 --> 00:04:07.239\n>> Absolutely, yep, so I'm trying to jot\nthese notes down real quick while you're\n\n81\n00:04:07.239 --> 00:04:11.210\ntalking, but software to service is the\nmost common one that we deal with, right?\n\n82\n00:04:11.210 --> 00:04:15.595\nIf you are using, Gmail, or\nHotmail, Outlook.com, Yahoo Mail.\n\n83\n00:04:15.595 --> 00:04:19.854\nIf you're using any of those email\nservices, they're providing the hardware,\n\n84\n00:04:19.854 --> 00:04:23.450\nthe mail service, the web interface,\nthe software, everything.\n\n85\n00:04:23.450 --> 00:04:25.017\nYou just log in, and use it.\n\n86\n00:04:25.017 --> 00:04:27.780\nYou don't have to worry about\nany configuration, whatsoever.\n\n87\n00:04:27.780 --> 00:04:30.174\nSo, software as a service\nis the most convenient.\n\n88\n00:04:30.174 --> 00:04:37.200\nThey provide the hardware, OS, and\nthe software, you manage nothing.\n\n89\n00:04:37.200 --> 00:04:39.684\nWell, I should say,\nyou manage the billing, right?\n\n90\n00:04:39.684 --> 00:04:41.485\n>> [LAUGH]\n>> [LAUGH] As long as you pay them,\n\n91\n00:04:41.485 --> 00:04:44.019\nthey'll cover everything else you need.\n\n92\n00:04:44.019 --> 00:04:47.020\nSo, that's kinda the most convenient,\nall right?\n\n93\n00:04:47.020 --> 00:04:50.706\nOther vendors, like Amazon Web Services,\nand Windows Azure,\n\n94\n00:04:50.706 --> 00:04:54.270\nmore commonly provide what's\ncalled platform as a service.\n\n95\n00:04:54.270 --> 00:04:58.942\nAnd with platform as a service,\nthey provide the operating system, and\n\n96\n00:04:58.942 --> 00:05:01.900\nyou just throw your software on top of it.\n\n97\n00:05:01.900 --> 00:05:06.800\nAnd so you see that pretty commonly, but\nsome of these will also do infrastructures\n\n98\n00:05:06.800 --> 00:05:10.377\nservice, where thety basically\nprovide you the hardware.\n\n99\n00:05:10.377 --> 00:05:13.344\nYou manage everything else, you manage\nthe OS, you manage the software,\n\n100\n00:05:13.344 --> 00:05:15.350\nyou manage the experience, and all that.\n\n101\n00:05:15.350 --> 00:05:17.854\nIf the hard drive fails,\nthat's their problem, but\n\n102\n00:05:17.854 --> 00:05:21.039\nif a bad update applies to Windows,\nthat's your problem, right?\n\n103\n00:05:21.039 --> 00:05:24.568\nSo, you get the least amount\nof support with IAS, but\n\n104\n00:05:24.568 --> 00:05:27.400\nyou get the most amount\nof control with it.\n\n105\n00:05:27.400 --> 00:05:28.501\nSo, you get, that's what you're trading.\n\n106\n00:05:28.501 --> 00:05:31.125\nYou're trading control for\nease of use, and for\n\n107\n00:05:31.125 --> 00:05:34.040\nmost of us we want\nthe easiest thing possible.\n\n108\n00:05:34.040 --> 00:05:36.568\nWell, Windows Azure can actually\nprovide all three of these.\n\n109\n00:05:36.568 --> 00:05:39.230\nIt just depends on what it is you're\nlooking for in your organization.\n\n110\n00:05:40.310 --> 00:05:41.971\n>> Yeah.\nAnd my little rundown I, oops,\n\n111\n00:05:41.971 --> 00:05:44.030\nI got those two backwards.\n\n112\n00:05:44.030 --> 00:05:48.137\nThe software, and the platform I put those\nback, but yeah, that's the correct way-\n\n113\n00:05:48.137 --> 00:05:48.809\n>> Okay.\n\n114\n00:05:48.809 --> 00:05:49.531\n>> Just to call that out.\n>> All right.\n\n115\n00:05:49.531 --> 00:05:50.821\nIs it right my notes?\n\n116\n00:05:50.821 --> 00:05:52.434\nDid I get it wrong?\n\n117\n00:05:52.434 --> 00:05:53.359\nOr hardware, that's right.\n\n118\n00:05:53.359 --> 00:05:54.674\n[CROSSTALK]\n>> That's good.\n\n119\n00:05:54.674 --> 00:05:58.082\n>> I'm going to rearrange\nthese a little bit based on,\n\n120\n00:05:58.082 --> 00:06:02.887\nI'm move them from like least service\nto most service, or whatever, but\n\n121\n00:06:02.887 --> 00:06:08.078\nSAAS, software as a service, that is\nthe one that most of us are familiar with,\n\n122\n00:06:08.078 --> 00:06:10.125\nthat we use on a regular basis.\n\n123\n00:06:10.125 --> 00:06:12.254\nMy email is done through Google, and so\n\n124\n00:06:12.254 --> 00:06:15.358\nI don't even run email software\non my computer anymore.\n\n125\n00:06:15.358 --> 00:06:17.320\nAll through them,\nI let them worry about it.\n\n126\n00:06:17.320 --> 00:06:18.062\nI just use it.\n\n127\n00:06:18.062 --> 00:06:19.060\nI love that kind of stuff.\n\n128\n00:06:19.060 --> 00:06:19.803\nRight?\n\n129\n00:06:19.803 --> 00:06:23.440\nBut what if you want to\nuse a cloud service,\n\n130\n00:06:23.440 --> 00:06:28.392\nnot so much to just completely\nprovide you a function, but\n\n131\n00:06:28.392 --> 00:06:31.715\nto serve as a redundant copy, right?\n\n132\n00:06:31.715 --> 00:06:35.321\nSo, we talk about the importance of\nhaving multiple domain controllers, and\n\n133\n00:06:35.321 --> 00:06:38.338\nActive Directory, and\nhaving multiple physical data centers.\n\n134\n00:06:38.338 --> 00:06:41.361\nSo, if one data center goes down,\nyou can switch over to another one,\n\n135\n00:06:41.361 --> 00:06:42.860\nthat costs a lot of money.\n\n136\n00:06:42.860 --> 00:06:43.690\nA lot of small and\n\n137\n00:06:43.690 --> 00:06:47.202\nmedium organizations can't afford\nto have that second data center.\n\n138\n00:06:47.202 --> 00:06:51.647\nSo, wouldn't it be nice, if we could\njust rent a little bit of access from\n\n139\n00:06:51.647 --> 00:06:56.200\nMicrosoft, from Windows Azure, and\nhave our servers host it up there?\n\n140\n00:06:56.200 --> 00:06:58.769\nWe might still have our\non-premise equipment, right?\n\n141\n00:06:58.769 --> 00:07:02.027\nOn-premise equipment, that's stuff that's\nright here in the building with you, and\n\n142\n00:07:02.027 --> 00:07:04.080\nthat you own, and you control.\n\n143\n00:07:04.080 --> 00:07:07.706\nAnd if we have a hybrid environment,\nwhere some of our stuff is here, and\n\n144\n00:07:07.706 --> 00:07:11.094\nsome of our stuff is up there in\nthe cloud, if we lose our facility for\n\n145\n00:07:11.094 --> 00:07:14.735\nsome reason, our cloud services\nare still there, we're up and going.\n\n146\n00:07:14.735 --> 00:07:18.120\nAnd if the cloud services screw u,\ncuz it does happen, right?\n\n147\n00:07:18.120 --> 00:07:21.555\nThen we still have our on-premise\nequipment that we manage, and so\n\n148\n00:07:21.555 --> 00:07:23.131\nwe get the best of both worlds.\n\n149\n00:07:23.131 --> 00:07:24.040\nAll right.\n\n150\n00:07:24.040 --> 00:07:25.990\nNow, that's not what\nAmazon wants you to do,\n\n151\n00:07:25.990 --> 00:07:28.191\nbecause they make money\nwhen you use their servers.\n\n152\n00:07:28.191 --> 00:07:29.960\nThey want you to put everything up there,\nright?\n\n153\n00:07:29.960 --> 00:07:32.358\nBut Microsoft gives you\nthe flexibility because they know,\n\n154\n00:07:32.358 --> 00:07:35.131\n[LAUGH] if you're running the servers\nlocally you're still paying for\n\n155\n00:07:35.131 --> 00:07:36.555\nthose operating system licenses.\n\n156\n00:07:36.555 --> 00:07:40.469\nWhen you run the stuff up there,\nthey cover the operating system licenses,\n\n157\n00:07:40.469 --> 00:07:43.052\nand baked into the ongoing\nprices of the servers.\n\n158\n00:07:43.052 --> 00:07:44.493\nSo, you can actually,\n\n159\n00:07:44.493 --> 00:07:48.397\nsave some money by throwing your\nservers up into Windows Azure.\n\n160\n00:07:48.397 --> 00:07:52.922\n>> So, Don do you think, that there would\nbe a point to where some company would\n\n161\n00:07:52.922 --> 00:07:55.765\nhave All the infrastructure,\nup in the cloud.\n\n162\n00:07:55.765 --> 00:07:57.692\n>> Yeah, they can, I mean,\nif you think about it,\n\n163\n00:07:57.692 --> 00:07:59.904\nif you're going to build\nyour own data center, right?\n\n164\n00:07:59.904 --> 00:08:02.530\nIf you're going to have just two servers.\n\n165\n00:08:02.530 --> 00:08:05.790\nYou might as well just buy the two servers\nand run them clean and that's that, right.\n\n166\n00:08:05.790 --> 00:08:08.710\nBut if you have a mission critical\nenvironment where you need your servers to\n\n167\n00:08:08.710 --> 00:08:12.960\nbe up 24 hours a day, 7 days a week,\n365 days a year, right.\n\n168\n00:08:12.960 --> 00:08:17.010\nWell, the Windows Azure data centers,\nthere's like six of them across the world,\n\n169\n00:08:17.010 --> 00:08:21.245\nand, so right off the bat, you get access\nto 6 data centers, not just the one.\n\n170\n00:08:21.245 --> 00:08:25.210\nThey've got insanely redundant\nair conditioning systems.\n\n171\n00:08:25.210 --> 00:08:29.210\nThat got like five different ISPs\nproviding Internet connectivity into them.\n\n172\n00:08:29.210 --> 00:08:32.120\nTwo different power grids\ngoing into each data center.\n\n173\n00:08:32.120 --> 00:08:37.740\nUPSs, diesel generators, some of\nthe highest-paid networking engineers,\n\n174\n00:08:37.740 --> 00:08:39.700\nand hardware engineers in the business.\n\n175\n00:08:39.700 --> 00:08:42.890\n>> All working there as\ntheir full time job.\n\n176\n00:08:42.890 --> 00:08:46.520\nAnd so when you rent a server\nfrom Microsoft for $50 a month,\n\n177\n00:08:46.520 --> 00:08:49.020\nthat's what you're getting.\n\n178\n00:08:49.020 --> 00:08:52.420\nAnd just compared to an electric bill,\nit breaks even.\n\n179\n00:08:52.420 --> 00:08:55.810\nSo for a small business or\na medium business that\n\n180\n00:08:55.810 --> 00:09:00.450\ndoesn't want to have a local IT department\nor whatever, It makes sense to just shift\n\n181\n00:09:00.450 --> 00:09:03.680\nall of that stuff up into the cloud,\nnot manage it yourself.\n\n182\n00:09:03.680 --> 00:09:08.990\nBut if you already have an ID department\nand if you already have a data center,\n\n183\n00:09:08.990 --> 00:09:11.580\nyou know server infrastructure and\nstuff then it may make sense for\n\n184\n00:09:11.580 --> 00:09:13.840\nyou to just keep it local and\nnot push it into the cloud.\n\n185\n00:09:13.840 --> 00:09:14.780\nAll right.\n\n186\n00:09:14.780 --> 00:09:15.520\n>> And the other thing is,\n\n187\n00:09:15.520 --> 00:09:19.690\nwhen you put a server into the cloud\nyou're usually paying an hourly fee.\n\n188\n00:09:19.690 --> 00:09:24.080\nBecause you're basically renting processor\nand memory and hard drive space for\n\n189\n00:09:24.080 --> 00:09:25.540\nset amounts of time.\n\n190\n00:09:25.540 --> 00:09:30.190\nAnd so if you're running servers 24 hours\na day, 365 days a year, there does come\n\n191\n00:09:30.190 --> 00:09:34.330\na point financially where it makes\nsense to just have the servers locally.\n\n192\n00:09:34.330 --> 00:09:37.700\nBut then it's up to you to do redundancy,\nbackup, and\n\n193\n00:09:37.700 --> 00:09:40.755\nall that other stuff that\nWindows Azure would do for you.\n\n194\n00:09:40.755 --> 00:09:47.122\n>> Now there's two types of this\nWindows Azure active directory.\n\n195\n00:09:47.122 --> 00:09:51.780\nSo there's the Windows Azure\nactive directly, and\n\n196\n00:09:51.780 --> 00:09:55.070\nthat more of a software type of serve and\n\n197\n00:09:55.070 --> 00:10:00.880\nthen there's the Windows Server 2012\ndomain services in Windows Azure.\n\n198\n00:10:00.880 --> 00:10:04.080\nAnd that's the one that we will\nbe focusing most on today.\n\n199\n00:10:04.080 --> 00:10:04.730\n>> Yeah.\n\n200\n00:10:04.730 --> 00:10:08.380\nYou know if you decide to put servers up\ninto Windows Azure, you're going to need\n\n201\n00:10:08.380 --> 00:10:11.110\nto be able to authenticate in to them,\nright, to, to be able to log in.\n\n202\n00:10:11.110 --> 00:10:14.830\nAnd so you're more than likely going to\nwant to extend your active directory.\n\n203\n00:10:14.830 --> 00:10:15.540\nYour active directory,\n\n204\n00:10:15.540 --> 00:10:19.640\nif it's local, you'll want to extend that\nout to the Cloud, and those two choices,\n\n205\n00:10:19.640 --> 00:10:22.120\nthis is one of the first\ndecisions we have to make.\n\n206\n00:10:22.120 --> 00:10:25.700\nIf you don't want a lot of hassle,\nif you want things to be easy,\n\n207\n00:10:25.700 --> 00:10:29.850\nthey provide a software service Active\ndirectory right in Windows Azure,\n\n208\n00:10:29.850 --> 00:10:34.050\nthey can spawn up an active\ndirectory domain and forest for you.\n\n209\n00:10:34.050 --> 00:10:35.190\nYou don't even see the servers.\n\n210\n00:10:35.190 --> 00:10:37.640\nIt's all just invisible,\nthe domain is created.\n\n211\n00:10:37.640 --> 00:10:41.530\nAnd then you can create\na federated services link\n\n212\n00:10:41.530 --> 00:10:45.690\nbetween your local forest and\nthis forest up in Windows Azure.\n\n213\n00:10:45.690 --> 00:10:48.950\nAnd when that's done, now you can\nauthenticate between the two, and go.\n\n214\n00:10:48.950 --> 00:10:49.560\nAll right?\n\n215\n00:10:49.560 --> 00:10:51.490\nThat federated services link.\n\n216\n00:10:51.490 --> 00:10:54.136\nThat's covered on the 70-412 exam and so\n\n217\n00:10:54.136 --> 00:10:57.600\nwhen we get into that 70-412\nshow we'll tackle that.\n\n218\n00:10:57.600 --> 00:11:02.210\nBut on the 70-410 side,\nthey say let's not worry about federated\n\n219\n00:11:02.210 --> 00:11:06.400\nservices instead what if we just wanted\nto take one of our domain controllers.\n\n220\n00:11:06.400 --> 00:11:08.760\nAnd stick it up there in Windows azure.\n\n221\n00:11:08.760 --> 00:11:09.400\nAll right.\n\n222\n00:11:09.400 --> 00:11:12.430\nThat's no longer software as a service\ncause we're managing the server.\n\n223\n00:11:12.430 --> 00:11:14.580\nRight?\nSo it's more of like a infrastructure or\n\n224\n00:11:14.580 --> 00:11:15.770\nplatform as a server.\n\n225\n00:11:15.770 --> 00:11:18.370\nWe have to spawn up that virtual machine.\n\n226\n00:11:18.370 --> 00:11:21.860\nFire it up, join it to our domain,\npromote it to a domain controller.\n\n227\n00:11:21.860 --> 00:11:24.440\nYou know we've gotta do all\nof that stuff ourselves.\n\n228\n00:11:24.440 --> 00:11:25.600\nTo get that set up.\n\n229\n00:11:25.600 --> 00:11:29.680\nWe have a lot more control over it\nthat way and it's our actual domain.\n\n230\n00:11:29.680 --> 00:11:30.940\nIt's not a federated domain,\n\n231\n00:11:30.940 --> 00:11:35.431\nit's not a separate it's our domain\nextended out into Windows Azure.\n\n232\n00:11:35.431 --> 00:11:38.307\nAnd that's pretty cool,\nit's a neat thing to have.\n\n233\n00:11:38.307 --> 00:11:42.770\n>> You know, Don, in how I read it,\nwith the Windows Azure active directly,\n\n234\n00:11:42.770 --> 00:11:47.980\nthat kind of push would be best for\n>> Just like I didn't imagine it,\n\n235\n00:11:47.980 --> 00:11:48.920\nthat sort of thing.\n\n236\n00:11:48.920 --> 00:11:54.600\nThat if your company uses some of the\nonline services such as exchange online,\n\n237\n00:11:54.600 --> 00:11:57.570\nSharePoint online\n>> Office 365.\n\n238\n00:11:57.570 --> 00:12:00.440\nIf you want your users to use the same\n\n239\n00:12:01.850 --> 00:12:06.045\nidentity on your internal sources\nas well as all your online stuff.\n\n240\n00:12:06.045 --> 00:12:10.670\nThen something like that would\nbe the ideal way to go..\n\n241\n00:12:10.670 --> 00:12:13.910\n>> Another great way to use that\nthe one that is hosted right?\n\n242\n00:12:13.910 --> 00:12:18.110\nThe software service solution is, lets\nsay you've come up with a great idea for\n\n243\n00:12:18.110 --> 00:12:19.140\nthe next great app.\n\n244\n00:12:19.140 --> 00:12:21.065\nYou've just come up with an idea for\nthe next twitter.\n\n245\n00:12:21.065 --> 00:12:22.120\nRight?\n\n246\n00:12:22.120 --> 00:12:25.350\nWell you need people to be able\nto log in to your new service.\n\n247\n00:12:25.350 --> 00:12:29.120\nAnd so you can use that completely hosted\nactive directory for your authentication,\n\n248\n00:12:29.120 --> 00:12:30.190\nfor your new web app.\n\n249\n00:12:30.190 --> 00:12:33.355\nAnd now people go to a website,\nthis hosted in and\n\n250\n00:12:33.355 --> 00:12:37.612\nthey're authenticating against secured\nservers that Microsoft manages for you.\n\n251\n00:12:37.612 --> 00:12:40.270\nIt really provides a higher\nlevel of security.\n\n252\n00:12:40.270 --> 00:12:41.316\nAll right.\n\n253\n00:12:41.316 --> 00:12:44.110\nWhat we're going to do though is we're\ngoing to use a traditional domain control\n\n254\n00:12:44.110 --> 00:12:48.210\nin Windows Azure and so\nthe security is up to us.\n\n255\n00:12:48.210 --> 00:12:52.170\nNow, if we just wanted to run a DC up\nthere on a server or fire up a web server,\n\n256\n00:12:52.170 --> 00:12:54.240\nthen we could really go\nthe platform as a service model.\n\n257\n00:12:54.240 --> 00:12:56.930\nLet them give us a configured OS and\nwe'll throw our stuff on there and\n\n258\n00:12:56.930 --> 00:12:58.700\nmake it publicly available.\n\n259\n00:12:58.700 --> 00:13:04.070\nBut, if we want a domain controller\nto securely replicate from the Azure\n\n260\n00:13:04.070 --> 00:13:08.130\ndata center to our data center, then\nwe've got to take some extra precautions.\n\n261\n00:13:08.130 --> 00:13:10.170\nWe need to create a private network.\n\n262\n00:13:10.170 --> 00:13:13.000\nYou don't want your domain controller\nexposed to the internet, right?\n\n263\n00:13:13.000 --> 00:13:16.170\nWe've got to create a private\nnetwork in Windows Azure and\n\n264\n00:13:16.170 --> 00:13:22.540\ncreate a VPN tunnel between our private\nAzure network and our local network.\n\n265\n00:13:22.540 --> 00:13:26.420\nSo that our local machines can communicate\nvia the VPN tunnel to that server and\n\n266\n00:13:26.420 --> 00:13:30.980\ncommunicate just fine but the general\ninternet as a whole will not be able to\n\n267\n00:13:30.980 --> 00:13:34.630\ncommunicate that domain server at all,\nthat gives you security.\n\n268\n00:13:34.630 --> 00:13:39.430\nThe other thing is you don't know what\nhardware these systems are running on so\n\n269\n00:13:39.430 --> 00:13:42.430\nwhen you deploy servers\ninto Windows Azure.\n\n270\n00:13:42.430 --> 00:13:46.160\nYou're typically sharing hardware\nwith other customers that are there.\n\n271\n00:13:46.160 --> 00:13:47.550\nCustomers you don't know, so\n\n272\n00:13:47.550 --> 00:13:50.730\nwe want make sure that our data\nis encrypted and protected.\n\n273\n00:13:50.730 --> 00:13:54.100\nNow fortunately the Active Directory does\na lot of that for us, but it is just\n\n274\n00:13:54.100 --> 00:13:56.960\nan extra concern that we need to watch\nout for when we send our data up there.\n\n275\n00:13:58.500 --> 00:13:59.020\n>> All right.\n\n276\n00:13:59.020 --> 00:13:59.940\n>> All right.\n\n277\n00:13:59.940 --> 00:14:03.630\nSo, let's take a look at what's\ninvolved in getting this spun up.\n\n278\n00:14:03.630 --> 00:14:06.020\nNow, we're going to go through\nthis with Windows Azure.\n\n279\n00:14:06.020 --> 00:14:09.670\nThe steps are actually the same if you\nwant to do this in Amazon web services or\n\n280\n00:14:09.670 --> 00:14:11.030\nsome of the other vendors out there.\n\n281\n00:14:11.030 --> 00:14:13.620\nThe screens will look different but\nthe basic steps are the same.\n\n282\n00:14:13.620 --> 00:14:16.140\nSo, don't feel like you're\nlocked in to Azure.\n\n283\n00:14:16.140 --> 00:14:17.236\nOn the exam you are, though, right?\n\n284\n00:14:17.236 --> 00:14:18.360\n>> [LAUGH]\n>> On the exam you'll just see\n\n285\n00:14:18.360 --> 00:14:19.350\nWindows Azure.\n\n286\n00:14:19.350 --> 00:14:22.070\nAnd so we wanted to show you an example\nof how that works and what it does.\n\n287\n00:14:23.240 --> 00:14:26.280\n>> All right.\nSo, what I did is before the show I set up\n\n288\n00:14:26.280 --> 00:14:29.080\na demo account with Windows Azure.\n\n289\n00:14:29.080 --> 00:14:34.460\nAnybody can request a,\na one month demo and it's funny.\n\n290\n00:14:34.460 --> 00:14:38.720\nNormally it's a 30 day demo I\ncreated mine here in February, so\n\n291\n00:14:38.720 --> 00:14:40.950\nit created a 27 day demo.\n\n292\n00:14:40.950 --> 00:14:41.520\n>> Yeah.\n>> So\n\n293\n00:14:41.520 --> 00:14:43.590\nyou get kind of shorted if\nyou do it in February, but\n\n294\n00:14:43.590 --> 00:14:45.685\nif you do it in another\nmonth,you'll get a 30 day demo.\n\n295\n00:14:45.685 --> 00:14:47.970\n>> [LAUGH]\n>> And anyhow, so\n\n296\n00:14:47.970 --> 00:14:51.670\nyou get a demo, and\nonce you've got that demo up,\n\n297\n00:14:51.670 --> 00:14:54.810\nyou can create some servers and networks\nand stuff, and do it free of charge.\n\n298\n00:14:54.810 --> 00:14:58.570\nThere's a chance for you to learn and\nkind of experience Windows Azure and\n\n299\n00:14:58.570 --> 00:15:00.050\nsee if it's right for you.\n\n300\n00:15:00.050 --> 00:15:04.140\nAt the end of the 27 days, if you delete\nall your virtual machines that you\n\n301\n00:15:04.140 --> 00:15:07.080\ncreated, then the account just ends and\nthat's it.\n\n302\n00:15:07.080 --> 00:15:09.720\nBut if you leave them running,\nthey start to bill you.\n\n303\n00:15:09.720 --> 00:15:10.530\nAll right?\n\n304\n00:15:10.530 --> 00:15:11.530\nSo, just be aware of that.\n\n305\n00:15:11.530 --> 00:15:14.130\nIf you create a demo account,\nwhen your demo ends,\n\n306\n00:15:14.130 --> 00:15:16.430\nmake sure you delete all\nof your virtual machines.\n\n307\n00:15:16.430 --> 00:15:19.380\nAnd after this episode I'll\ndelete my virtual machines and\n\n308\n00:15:19.380 --> 00:15:21.050\nthen forget about this account.\n\n309\n00:15:21.050 --> 00:15:23.500\nBut just keep in mind\nyou can create a demo.\n\n310\n00:15:23.500 --> 00:15:25.834\nIt's a great way to learn it and\nget exposure to it if you want.\n\n311\n00:15:25.834 --> 00:15:29.560\nWell Don there seems to be a whole\nlot of things to do in here.\n\n312\n00:15:29.560 --> 00:15:32.220\nThere's the Visual Studio online.\n\n313\n00:15:32.220 --> 00:15:33.470\nMedia services.\n\n314\n00:15:33.470 --> 00:15:34.940\nBiz Talk Services.\n\n315\n00:15:34.940 --> 00:15:36.220\n>> [LAUGH] Yeah.\n>> There's quite a bit\n\n316\n00:15:36.220 --> 00:15:37.500\nto monkey around in this place.\n\n317\n00:15:37.500 --> 00:15:39.139\n>> And most of this is that\nsoftware as a service stuff, right?\n\n318\n00:15:39.139 --> 00:15:43.177\nSo if I want to create a SQL server,\nyou know, a SQL database,\n\n319\n00:15:43.177 --> 00:15:47.682\ninstead of having to set up\nWindows Server, install SQL on top of it,\n\n320\n00:15:47.682 --> 00:15:51.205\ncreate my databases I can\ndo a fully hosted solution.\n\n321\n00:15:51.205 --> 00:15:55.344\nMicrosoft manages the server and\nthe databases, I just go in and\n\n322\n00:15:55.344 --> 00:15:57.422\ndefine my databases and use it.\n\n323\n00:15:57.422 --> 00:16:00.354\nI don't know about SQL,\nI don't know about the underlying OS,\n\n324\n00:16:00.354 --> 00:16:01.560\nit's all hidden from me.\n\n325\n00:16:01.560 --> 00:16:04.120\nI just create a database,\nso that they've got that.\n\n326\n00:16:04.120 --> 00:16:08.140\nOr I could go to virtual machines and\ncreate my own Windows server.\n\n327\n00:16:08.140 --> 00:16:10.520\nAnd I could manually install\nMicrosoft SQL on there.\n\n328\n00:16:10.520 --> 00:16:12.900\nI could manually create my\ndatabases transaction logs and\n\n329\n00:16:12.900 --> 00:16:15.920\nall that good stuff and\nhave it where I have full control.\n\n330\n00:16:15.920 --> 00:16:17.625\nSo you've really got two choices.\n\n331\n00:16:17.625 --> 00:16:20.575\nUnder virtual machines,\nthat's platform is a service.\n\n332\n00:16:20.575 --> 00:16:22.455\nThat's where they're giving, or\nreally infrastructure is a service,\n\n333\n00:16:22.455 --> 00:16:26.315\nthey're giving you hardware that\nalready has Windows installed on it.\n\n334\n00:16:26.315 --> 00:16:28.215\nYou can then do whatever\nyou want with Windows.\n\n335\n00:16:29.332 --> 00:16:30.462\nThese other ones,\n\n336\n00:16:30.462 --> 00:16:33.742\nthey're giving you servers that you\ncan't see because they're managing it.\n\n337\n00:16:33.742 --> 00:16:36.774\nAnd they've already got\nsomething on them like SQL,\n\n338\n00:16:36.774 --> 00:16:39.092\nor active record is in\nhere somewhere isn't it?\n\n339\n00:16:39.092 --> 00:16:40.132\nWhere is that?\n\n340\n00:16:40.132 --> 00:16:41.312\nYeah, towards the bottom I believe.\n\n341\n00:16:41.312 --> 00:16:42.540\nThere we go, active directory.\n\n342\n00:16:42.540 --> 00:16:43.420\nSo active directory.\n\n343\n00:16:43.420 --> 00:16:46.950\nHere's where I can create active\ndirectory forests and domains, but\n\n344\n00:16:46.950 --> 00:16:48.520\nI never see the underlying servers.\n\n345\n00:16:48.520 --> 00:16:51.130\nThis is all hosted by Windows Azure, and\n\n346\n00:16:51.130 --> 00:16:52.950\nthat's the one where you\nneed federated services.\n\n347\n00:16:54.385 --> 00:16:56.010\n>> So like SQL stuff, right?\n\n348\n00:16:56.010 --> 00:16:58.120\nSo it isn't writing into databases.\n\n349\n00:16:58.120 --> 00:17:01.163\nCan it be pretty disk IO intensive?\n\n350\n00:17:01.163 --> 00:17:05.980\nSo do you think of having the database\nhosted on something like this would be\n\n351\n00:17:05.980 --> 00:17:06.901\na good thing?\n\n352\n00:17:06.901 --> 00:17:12.740\nI'm sure there are probably, and\nsome crazy just setups out there.\n\n353\n00:17:12.740 --> 00:17:15.240\nLike you'd get better performance,\nperhaps?\n\n354\n00:17:15.240 --> 00:17:18.610\n>> It depends on what you're doing,\nso usually yes.\n\n355\n00:17:18.610 --> 00:17:22.729\nBecause these database servers are being\nmanaged by Microsoft SQL server\n\n356\n00:17:22.729 --> 00:17:23.599\nspecialists.\n\n357\n00:17:23.599 --> 00:17:28.313\nPeople that actually work for Microsoft\nthat know SQL server inside and out, and\n\n358\n00:17:28.313 --> 00:17:31.170\nthe odds are you don't\nknow it better than them.\n\n359\n00:17:31.170 --> 00:17:33.580\nThat they know how to tune it better.\n\n360\n00:17:33.580 --> 00:17:39.658\nI don't kid myself, I'm trying to\nremember my SQL server certification.\n\n361\n00:17:39.658 --> 00:17:44.570\nSo, I got my MCDBA in SQL back\nin SQL 2000, actually SQL seven.\n\n362\n00:17:44.570 --> 00:17:46.980\nI think it was Sequel seven certified.\n\n363\n00:17:46.980 --> 00:17:47.590\nWhatever.\n\n364\n00:17:47.590 --> 00:17:49.850\n>> Sequel 87, or?\n>> 7.0, yeah.\n\n365\n00:17:49.850 --> 00:17:52.100\n>> Right, just kidding.\n\n366\n00:17:52.100 --> 00:17:54.290\n>> You know,\nSQL is one of Microsoft's oldest products.\n\n367\n00:17:54.290 --> 00:17:55.550\nIt actually was out in the 80s.\n\n368\n00:17:55.550 --> 00:17:57.860\n>> Really?\n>> Yeah, it's a very old product.\n\n369\n00:17:57.860 --> 00:18:03.650\nAll right, any how, but\nI've been working with SQL since SQL 7 and\n\n370\n00:18:03.650 --> 00:18:07.060\nSQL 2000 and each of the versions\nthat come out since then.\n\n371\n00:18:07.060 --> 00:18:08.250\nI've got a lot of SQL experience.\n\n372\n00:18:08.250 --> 00:18:09.390\nI'm really good at it.\n\n373\n00:18:09.390 --> 00:18:12.150\nBut that's not what I do for a living.\n\n374\n00:18:12.150 --> 00:18:15.970\nThese guys, they do it for a living\nevery single day they work in SQL, and\n\n375\n00:18:15.970 --> 00:18:18.700\nthat's all they work in,\nthey're gonna know it better than me.\n\n376\n00:18:18.700 --> 00:18:20.720\nI have no doubt.\n\n377\n00:18:20.720 --> 00:18:21.774\nI'd be really disappointed if they didn't.\n\n378\n00:18:21.774 --> 00:18:22.490\n>> [LAUGH]\n>> But\n\n379\n00:18:22.490 --> 00:18:24.840\nI have no doubt that they\nknow more about it than I do.\n\n380\n00:18:24.840 --> 00:18:25.670\nSo that's what you're doing.\n\n381\n00:18:25.670 --> 00:18:27.460\nYou're turning that over to them and\nsaying hey, run it.\n\n382\n00:18:27.460 --> 00:18:30.110\nAnd so\nyou may get better performance for that.\n\n383\n00:18:30.110 --> 00:18:32.640\nThe other thing is, what if you\nhave like a shopping cart website?\n\n384\n00:18:32.640 --> 00:18:34.550\nSo you have a website\nwith a bunch of products.\n\n385\n00:18:34.550 --> 00:18:38.580\nAnd when users come, they search your\nproducts to find what they're looking for.\n\n386\n00:18:38.580 --> 00:18:41.570\nWell, if that SQL database is in Azure and\n\n387\n00:18:41.570 --> 00:18:45.290\nyour website is in Azure They're\nright there on the same network.\n\n388\n00:18:45.290 --> 00:18:49.310\nYou're gonna get better response times\nthan if the website is in Azure and\n\n389\n00:18:49.310 --> 00:18:51.450\nthe database is back at your office,\nright?\n\n390\n00:18:51.450 --> 00:18:54.050\nSo, you know,\nlikely you will get better performance.\n\n391\n00:18:54.050 --> 00:18:57.140\nThere are times where you might get worse\nperformance which is if you're getting\n\n392\n00:18:57.140 --> 00:18:58.570\nhuge resultant sets.\n\n393\n00:18:58.570 --> 00:19:01.920\nYou're now downloading it over a public\nnetwork as opposed to downloading it over\n\n394\n00:19:01.920 --> 00:19:02.990\nyour local network.\n\n395\n00:19:02.990 --> 00:19:04.020\nSo you do have to be aware of that,\n\n396\n00:19:04.020 --> 00:19:06.965\nthat we're not normally dealing with\nhuge resultant sets with, with SQL.\n\n397\n00:19:06.965 --> 00:19:08.350\n>> Mm-hm, nice.\n\n398\n00:19:08.350 --> 00:19:11.305\n>> So hey,\nlong answer to a short question.\n\n399\n00:19:11.305 --> 00:19:12.475\n>> [LAUGH]\n>> I could have just said yes.\n\n400\n00:19:12.475 --> 00:19:14.421\n[LAUGH]\n>> Like,\n\n401\n00:19:14.421 --> 00:19:16.770\nlike all the other answers you give me?\n\n402\n00:19:16.770 --> 00:19:17.370\n>> That's right.\n\n403\n00:19:17.370 --> 00:19:21.100\n>> So Don, I got this really something,\nwhatever, and [INAUDIBLE] yeah, yes.\n\n404\n00:19:21.100 --> 00:19:23.215\n>> Normally my answer is,\nNo Nate, you're wrong.\n\n405\n00:19:23.215 --> 00:19:25.133\n[LAUGH] Don't do what Nate just said.\n\n406\n00:19:25.133 --> 00:19:29.780\nNow if we want to start\n\n407\n00:19:29.780 --> 00:19:34.780\ncreating private servers in Windows Azure,\none of the first steps we need,\n\n408\n00:19:34.780 --> 00:19:38.145\nsome people get really excited and they\njust go straight for virtual machines.\n\n409\n00:19:38.145 --> 00:19:41.440\nJump into virtual machines\nstart to whip up that server.\n\n410\n00:19:41.440 --> 00:19:42.970\nThe problem is,\n\n411\n00:19:42.970 --> 00:19:48.050\nany virtual machine you create here by\ndefault is a public virtual machine.\n\n412\n00:19:48.050 --> 00:19:51.490\nOne that's exposed to the internet and\n\n413\n00:19:51.490 --> 00:19:55.520\nthen it is susceptible to the exposure\nthat comes along with that, right?\n\n414\n00:19:55.520 --> 00:19:57.810\nSo if we're gonna do\nprivate servers up there,\n\n415\n00:19:57.810 --> 00:20:01.580\none of the first things we need to\ndo is to create a private network.\n\n416\n00:20:01.580 --> 00:20:05.830\nAnd if you scroll down on the left side,\nyou'll find in here somewhere Networks.\n\n417\n00:20:05.830 --> 00:20:07.300\nThere we go, Networks.\n\n418\n00:20:07.300 --> 00:20:10.445\nAnd I created some of these before\nthe show, so I'll show kinda how we create\n\n419\n00:20:10.445 --> 00:20:14.720\nthem now, but we're gonna create\na network for our corporate systems.\n\n420\n00:20:15.960 --> 00:20:18.810\nSo I'll go down here and\njust click this nice big New button.\n\n421\n00:20:18.810 --> 00:20:20.700\nAll right.\n\n422\n00:20:20.700 --> 00:20:22.180\nAnd we're gonna create\na virtual network and\n\n423\n00:20:22.180 --> 00:20:24.980\nyou'll see some of the choices\nthat we've got like quick create.\n\n424\n00:20:24.980 --> 00:20:28.220\nI'll tell you guys, for quick create,\nyou don't normally want to use it.\n\n425\n00:20:28.220 --> 00:20:32.930\nThat's useful if you're going with kind of\nthe default template of a public server.\n\n426\n00:20:32.930 --> 00:20:36.050\nBut if you want something private,\nquick create is not gonna be good for you.\n\n427\n00:20:37.130 --> 00:20:42.630\nSo I'm gonna do a custom create, and\nnow we're gonna create a virtual network.\n\n428\n00:20:42.630 --> 00:20:46.660\nAnd so I might call this my\ncorporate Azure network so\n\n429\n00:20:46.660 --> 00:20:48.160\nI can remember that that's what it is.\n\n430\n00:20:48.160 --> 00:20:50.500\nAnd when you create the network,\n\n431\n00:20:50.500 --> 00:20:53.500\nthis is your chance to pick\nwhat's called an affinity group.\n\n432\n00:20:53.500 --> 00:20:55.490\nNow, what is an affinity group?\n\n433\n00:20:55.490 --> 00:20:59.820\nI mention how Microsoft has multiple\nAzure data centers around the world.\n\n434\n00:20:59.820 --> 00:21:02.940\nIf you put some of your\nservers in one data center and\n\n435\n00:21:02.940 --> 00:21:06.010\nother servers in another data center\nyou can get better redundancy.\n\n436\n00:21:06.010 --> 00:21:09.140\nIf one data center goes down you still\nhave servers in the other one, Right?\n\n437\n00:21:09.140 --> 00:21:10.780\nWell those are your affinity groups.\n\n438\n00:21:10.780 --> 00:21:13.630\nAffinity groups are defining\nwhat data center these servers\n\n439\n00:21:13.630 --> 00:21:15.170\nare going to end up in.\n\n440\n00:21:15.170 --> 00:21:17.790\nIf I create a new one, so\nI can create a new one,\n\n441\n00:21:17.790 --> 00:21:22.560\nI'll call it my CorporateAzureEast.\n\n442\n00:21:22.560 --> 00:21:23.190\n>> How original.\n\n443\n00:21:23.190 --> 00:21:24.620\n>> I know, psychic.\n\n444\n00:21:24.620 --> 00:21:28.700\nAnd if I drop it down I'll see all of\nthe data centers, and you know I said six,\n\n445\n00:21:28.700 --> 00:21:30.760\nlooks like there's seven now, or eight.\n\n446\n00:21:30.760 --> 00:21:31.460\nThey've added some.\n\n447\n00:21:33.220 --> 00:21:34.380\nSo anyhow we can the different ones.\n\n448\n00:21:34.380 --> 00:21:38.580\nThere's East Asia, East US,\nJapan East, Japan West, North Europe,\n\n449\n00:21:38.580 --> 00:21:41.650\nSouth Wast Asia,\nWest Europe, West US, Right?\n\n450\n00:21:41.650 --> 00:21:46.060\nSo I might have one for East US and\none for West US, since I'm in the US.\n\n451\n00:21:46.060 --> 00:21:50.030\nIt doesn't really make sense to have one\nin Europe or whatever, but if I was doing\n\n452\n00:21:50.030 --> 00:21:53.490\nvideo streaming or a website where I\nwanted to optimize performance for\n\n453\n00:21:53.490 --> 00:21:56.710\nmy European visitors or whatever,\nI might put one over there.\n\n454\n00:21:56.710 --> 00:21:59.100\nYou know who gets the short\nend of the stick on this one?\n\n455\n00:21:59.100 --> 00:22:00.410\n>> Australia?\n>> Australia.\n\n456\n00:22:00.410 --> 00:22:01.440\nYeah.\n>> Australia really gets\n\n457\n00:22:01.440 --> 00:22:02.080\nthe short end of the stick.\n\n458\n00:22:02.080 --> 00:22:04.415\nThey never put data centers\nin Australia for some reason.\n\n459\n00:22:04.415 --> 00:22:05.550\n>> [LAUGH]\n>> Anyway, so.\n\n460\n00:22:06.570 --> 00:22:09.122\n>> Should write them an email.\n\n461\n00:22:09.122 --> 00:22:11.670\n>> Dear Microsoft.\n\n462\n00:22:11.670 --> 00:22:13.050\nSo I'll create one called East US.\n\n463\n00:22:13.050 --> 00:22:17.130\nI might create another one later\ncalled CorporateAzureWest.\n\n464\n00:22:17.130 --> 00:22:20.950\nAnd as I create new servers, I'll be able\nto pick where I want them to go but for\n\n465\n00:22:20.950 --> 00:22:22.650\nright now I'm just gonna go East US.\n\n466\n00:22:22.650 --> 00:22:23.570\nWe're in Florida, so\n\n467\n00:22:23.570 --> 00:22:26.409\nthis would be the closest data\ncenter to our physical location.\n\n468\n00:22:29.917 --> 00:22:34.930\nThen, it's gonna run DHCP inside\nof this virtual network, and\n\n469\n00:22:34.930 --> 00:22:37.770\nso I need to tell it what\nDNS servers to give out.\n\n470\n00:22:37.770 --> 00:22:41.810\nIf these are gonna be public servers, then\nyou would put public DNS servers here.\n\n471\n00:22:41.810 --> 00:22:44.790\nBut because this is on\nmy corporate network,\n\n472\n00:22:44.790 --> 00:22:49.570\nI would probably want to put DNS servers\nthat are for my internal machines.\n\n473\n00:22:49.570 --> 00:22:56.580\nNow, here in the IT ProTV network,\nmy server,\n\n474\n00:22:56.580 --> 00:23:02.074\nif I put in ITProTV-DC2, right?\n\n475\n00:23:02.074 --> 00:23:07.600\nWould be 10.1.230.201 I think is its IP.\n\n476\n00:23:07.600 --> 00:23:09.110\nAnd so I can put that in, and\n\n477\n00:23:09.110 --> 00:23:12.160\nnow when machines spin up,\nthey'll be set to use that for their DNS.\n\n478\n00:23:13.490 --> 00:23:17.990\nOf if I've got a DNS server in Azure\nalready, I might choose to put that one.\n\n479\n00:23:17.990 --> 00:23:21.500\nI can come back and change these later on,\nso I'll just put that one for right now.\n\n480\n00:23:22.610 --> 00:23:24.065\nNow here's the important part.\n\n481\n00:23:24.065 --> 00:23:25.780\n>> [LAUGH]\n>> On the right side,\n\n482\n00:23:25.780 --> 00:23:28.570\nI can specify to configure a VPN.\n\n483\n00:23:28.570 --> 00:23:33.120\nYou can do this,\nWhen you create the network.\n\n484\n00:23:33.120 --> 00:23:36.210\nAfter you create the network,\nyou cannot change this.\n\n485\n00:23:36.210 --> 00:23:38.957\nSo if you don't do it now,\ntough luck you can't have it later.\n\n486\n00:23:38.957 --> 00:23:41.981\nYou'll have to delete the network and\nrecreate it and it's a pain in the butt.\n\n487\n00:23:41.981 --> 00:23:47.383\n[LAUGH] It's not convenient so If you're\ngonna do a VPN, now is the time to do it.\n\n488\n00:23:47.383 --> 00:23:50.018\nAnd it's got point-to-site VPNs.\n\n489\n00:23:50.018 --> 00:23:53.693\nThat's where you run a VPN client\non your laptop or desktop and\n\n490\n00:23:53.693 --> 00:23:55.740\nyou VPN into this network.\n\n491\n00:23:55.740 --> 00:23:58.570\nBut more commonly you want site-to-site.\n\n492\n00:23:58.570 --> 00:24:00.470\nI wanna connect the building here.\n\n493\n00:24:00.470 --> 00:24:03.985\nThe ITpro TV studio with this\ncorporate Azure network.\n\n494\n00:24:03.985 --> 00:24:06.410\n>> Mm-hm.\n\n495\n00:24:06.410 --> 00:24:09.700\n>> And normally we have to come down\nhere and specify a new local network.\n\n496\n00:24:09.700 --> 00:24:12.890\nI had created one before the show,\nthat's why it already knew who I was.\n\n497\n00:24:12.890 --> 00:24:16.040\nBut you would specify a new local network,\nand\n\n498\n00:24:16.040 --> 00:24:18.645\non the next screen it's gonna\nask you about those networks.\n\n499\n00:24:18.645 --> 00:24:19.750\n>> Mm-hm.\n\n500\n00:24:19.750 --> 00:24:20.480\nSo Don, so tell me,\n\n501\n00:24:20.480 --> 00:24:24.670\nwith a site-to-site VPN, would you be\nable to use something like routing and\n\n502\n00:24:24.670 --> 00:24:30.770\nremote access server as a site-to-site,\nlike have that as your gateway point?\n\n503\n00:24:30.770 --> 00:24:31.460\n>> Yeah you can.\n\n504\n00:24:31.460 --> 00:24:34.090\nWe'll actually see on\nthe screen up here in a bit\n\n505\n00:24:34.090 --> 00:24:36.830\nthat there's a ton of different\nplatforms that are supported.\n\n506\n00:24:36.830 --> 00:24:40.500\nSo, you know, here we have a Cisco ASA,\na Cisco firewall.\n\n507\n00:24:40.500 --> 00:24:46.150\nAnd so, we build the VPN from that Cisco\nfirewall to the Windows Azure data center.\n\n508\n00:24:46.150 --> 00:24:46.675\nRight.\n>> Mm-hm.\n\n509\n00:24:46.675 --> 00:24:47.730\n>> And that's what connects\n\n510\n00:24:47.730 --> 00:24:50.650\nour networking Windows Azure\nwith our studio here.\n\n511\n00:24:50.650 --> 00:24:53.600\nBut in your office you might have\na Juniper firewall, you might\n\n512\n00:24:53.600 --> 00:24:57.760\nhave a Checkpoint firewall, you might just\nhave a Cisco router not a, not a firewall.\n\n513\n00:24:57.760 --> 00:25:01.710\nAnd you build a VPN tunnel on those or\na routing or remote access server.\n\n514\n00:25:01.710 --> 00:25:04.180\nJust a regular Windows server\nsetup to perform that role.\n\n515\n00:25:04.180 --> 00:25:07.065\nThe only thing is it just has\nto have a public IP, right?\n\n516\n00:25:07.065 --> 00:25:09.290\n>> Mm-hm.\n>> To properly build a site to site\n\n517\n00:25:09.290 --> 00:25:10.915\nVPN tunnel you can't be natted.\n\n518\n00:25:10.915 --> 00:25:13.885\nSo you've gotta have\na public IP on that system.\n\n519\n00:25:13.885 --> 00:25:20.145\n>> Mm, and you could use your\nLinksys your gosh, you WRT54?\n\n520\n00:25:20.145 --> 00:25:23.355\n>> Not with the stock firmware,\nbut with DDWRT, you could.\n\n521\n00:25:23.355 --> 00:25:28.020\nYeah, it you know, it supports IKE\nversion 1, IP sec tunnels, and,\n\n522\n00:25:28.020 --> 00:25:31.170\nand, really a lot of stuff out\nthere supports IKE version 1.\n\n523\n00:25:31.170 --> 00:25:34.140\nSo it's a fairly common thing,\nyou know you could do it.\n\n524\n00:25:34.140 --> 00:25:37.050\nAnd just because your device isn't listed\nby Microsoft doesn't mean it isn't\n\n525\n00:25:37.050 --> 00:25:37.660\nsupported.\n\n526\n00:25:37.660 --> 00:25:40.887\nYou could more than likely configure\na non-supported device to connect too.\n\n527\n00:25:40.887 --> 00:25:41.600\n>> All right.\nSweet.\n\n528\n00:25:41.600 --> 00:25:43.880\n>> All right, so I'll hit next.\n\n529\n00:25:43.880 --> 00:25:45.790\nNow, I chose to specify\na new local network, so\n\n530\n00:25:45.790 --> 00:25:47.260\nnow I've got to pick a few things.\n\n531\n00:25:48.340 --> 00:25:53.020\nIt's asking me what's the IP\naddress of the, the VPN endpoint.\n\n532\n00:25:53.020 --> 00:25:56.500\nNow this is not the endpoint in Azure,\nit's the endpoint at our center.\n\n533\n00:25:56.500 --> 00:26:00.330\nSo, if you've got a,\na router or firewall or\n\n534\n00:26:00.330 --> 00:26:03.700\nwhatever is going to build this tunnel,\nhere's where you need to name it, right.\n\n535\n00:26:03.700 --> 00:26:08.940\nSo I,\nI might call this the ITPRO-TV router and\n\n536\n00:26:08.940 --> 00:26:11.420\nthen I put in whatever it's public IP is,\nright.\n\n537\n00:26:11.420 --> 00:26:15.250\nSo you know, maybe it's that, right?\n\n538\n00:26:15.250 --> 00:26:17.810\n>> Mm-hm.\n>> So I punch in whatever the public IP is\n\n539\n00:26:17.810 --> 00:26:21.670\nthen I need to tell it what\nnetwork is here in the building.\n\n540\n00:26:21.670 --> 00:26:22.300\nOkay?\n>> Mm-hm.\n\n541\n00:26:22.300 --> 00:26:24.284\n>> Now, I already created one\nwith the right number, so\n\n542\n00:26:24.284 --> 00:26:25.750\nI'll have to put some fake numbers in.\n\n543\n00:26:25.750 --> 00:26:30.340\nBut for example here,\nwe might have the 172.17.0.0/24 network.\n\n544\n00:26:30.340 --> 00:26:31.960\nThere, all right.\n\n545\n00:26:31.960 --> 00:26:37.796\nSo, that's the network\nthat's here at our local\n\n546\n00:26:37.796 --> 00:26:44.000\nlocation, all right.\n\n547\n00:26:44.000 --> 00:26:47.880\nAnd you'll see down here, the diagram\nis trying to help you out to show that.\n\n548\n00:26:47.880 --> 00:26:50.510\nWe're not talking about\nCorporate Azure right now.\n\n549\n00:26:50.510 --> 00:26:52.335\nWe're talking about ITProTV router.\n\n550\n00:26:52.335 --> 00:26:53.035\nThis system.\n\n551\n00:26:53.035 --> 00:26:53.915\nThe remote system.\n\n552\n00:26:53.915 --> 00:26:55.235\nWhat network is over there.\n\n553\n00:26:55.235 --> 00:26:59.690\n>> Mm-hm.\n\n554\n00:26:59.690 --> 00:27:01.960\n>> Alright, when that's done,\n\n555\n00:27:01.960 --> 00:27:06.470\nnow we specify what IP addresses we're\ngonna use here at corporate Azure.\n\n556\n00:27:06.470 --> 00:27:10.250\nIn the Azure data center, what IP address\nrange do I want my server to have?\n\n557\n00:27:10.250 --> 00:27:17.744\nWell I've got 172.17 here, so\nmaybe I'll use 172.18 up here.\n\n558\n00:27:20.404 --> 00:27:21.114\nAll right.\n\n559\n00:27:21.114 --> 00:27:23.044\nAnd I'll make that a slash 16.\n\n560\n00:27:24.834 --> 00:27:26.924\nI will try and make it a /16.\n\n561\n00:27:29.200 --> 00:27:29.780\nThere we go.\n\n562\n00:27:31.070 --> 00:27:34.520\nFrom there,\nwe need to do two more things, all right?\n\n563\n00:27:34.520 --> 00:27:39.990\nThat is the overall address space for\nmy Windows Azure network.\n\n564\n00:27:39.990 --> 00:27:43.340\nI can create more than one\nsubnet inside of it if I want.\n\n565\n00:27:43.340 --> 00:27:45.150\nSo, here's like subnet one.\n\n566\n00:27:45.150 --> 00:27:49.820\nWhich I might call my production servers,\nall right.\n\n567\n00:27:49.820 --> 00:27:56.830\nAnd so I might want my production\nservers to be 172.18.1.0/24.\n\n568\n00:27:56.830 --> 00:27:58.080\nWe'll do class Cs.\n\n569\n00:27:58.080 --> 00:27:58.870\nAll right.\n\n570\n00:27:58.870 --> 00:28:04.079\nAnd then I might add another\nserver network which might be my,\n\n571\n00:28:04.079 --> 00:28:06.210\ntest or staging servers.\n\n572\n00:28:06.210 --> 00:28:07.040\nHow about Staging Servers?\n\n573\n00:28:11.210 --> 00:28:11.960\nAll right.\n\n574\n00:28:11.960 --> 00:28:17.920\nAnd I might make them 172.18.2.0/24.\n\n575\n00:28:17.920 --> 00:28:19.870\nSo I can create as many of\nthose subnets as I want.\n\n576\n00:28:19.870 --> 00:28:22.080\nI'm just dividing up that big network.\n\n577\n00:28:22.080 --> 00:28:24.260\nI created one big slash 16.\n\n578\n00:28:24.260 --> 00:28:25.915\nAnd now I'm dividing it up\ninto these smaller networks.\n\n579\n00:28:25.915 --> 00:28:26.649\n>> Mm-hm.\n>> Right.\n\n580\n00:28:26.649 --> 00:28:27.213\n>> All right.\n\n581\n00:28:27.213 --> 00:28:31.800\n>> But these networks, in order to\nconnect to ours, they have to get routed.\n\n582\n00:28:31.800 --> 00:28:34.750\nAnd so Microsoft is gonna spin\nup a virtual router for us, and\n\n583\n00:28:34.750 --> 00:28:35.970\nit's called a gateway.\n\n584\n00:28:35.970 --> 00:28:38.160\nAnd so we do have to add a gateway subnet.\n\n585\n00:28:38.160 --> 00:28:41.600\nSo you've always gotta leave room for\nthat.\n\n586\n00:28:41.600 --> 00:28:44.770\nAnd I left the 172.18.0 network for\nthat, so I'll leave that for my gateway.\n\n587\n00:28:44.770 --> 00:28:46.760\nIf you don't have a gateway,\nyou can't get routed.\n\n588\n00:28:46.760 --> 00:28:48.990\nYou won't have any connectivity\nto that data site.\n\n589\n00:28:48.990 --> 00:28:51.030\n>> Right, so this gateway subnet,\n\n590\n00:28:51.030 --> 00:28:55.720\nwould it kind of be like a DMV or\nnot at this point?\n\n591\n00:28:55.720 --> 00:28:57.715\n>> Not really,\nit's what we call a transit network.\n\n592\n00:28:57.715 --> 00:28:58.530\n>> Mm-hm.\n\n593\n00:28:58.530 --> 00:28:59.750\n>> You won't put any servers on\n\n594\n00:28:59.750 --> 00:29:00.470\nthat network,\n>> Right.\n\n595\n00:29:00.470 --> 00:29:03.230\n>> But traffic will pass through it.\n\n596\n00:29:03.230 --> 00:29:07.330\nSo all traffic from my production servers\nand my staging servers will both pass\n\n597\n00:29:07.330 --> 00:29:12.230\nthrough this network on the way to here,\nright on the way to this building.\n\n598\n00:29:12.230 --> 00:29:15.990\nAnd when we reply back we'll reply through\nthis gateway network to get to all these\n\n599\n00:29:15.990 --> 00:29:17.245\nsubnets over there, right.\n\n600\n00:29:17.245 --> 00:29:19.520\n>> Mm-hm.\n>> So it's just a transit network for\n\n601\n00:29:19.520 --> 00:29:22.840\nthe, the interface IPs of the router\nthat Microsoft is creating.\n\n602\n00:29:22.840 --> 00:29:23.410\n>> Right.\n\n603\n00:29:23.410 --> 00:29:23.910\n>> Yes.\n>> Nice.\n\n604\n00:29:25.420 --> 00:29:28.670\nAll right, so\nwhen that's done we can check that off.\n\n605\n00:29:28.670 --> 00:29:30.187\nAnd it's gonna create that network.\n\n606\n00:29:30.187 --> 00:29:31.620\nAll right?\n\n607\n00:29:31.620 --> 00:29:32.890\nNow for those of you watching live,\n\n608\n00:29:32.890 --> 00:29:36.050\nyou might have noticed our show\nstarted a little late today.\n\n609\n00:29:36.050 --> 00:29:38.370\nAnd that's because I created\na network earlier, and\n\n610\n00:29:38.370 --> 00:29:40.660\nit took forever and do\n>> [LAUGH]\n\n611\n00:29:40.660 --> 00:29:42.510\n>> You see what just happened right there?\n\n612\n00:29:42.510 --> 00:29:44.070\nIt created in like seconds.\n\n613\n00:29:44.070 --> 00:29:46.424\nIt literally took 20 minutes earlier\n>> [LAUGH]\n\n614\n00:29:46.424 --> 00:29:48.013\n>> To create the daggum network.\n\n615\n00:29:48.013 --> 00:29:51.110\nSo, sometimes as your data centers\nget a little busy, and your,\n\n616\n00:29:51.110 --> 00:29:54.810\nyour connection actually gets huge,\nyou get put in line with other people.\n\n617\n00:29:54.810 --> 00:29:57.900\nSo we had to wait in line a long time\nbefore the show when I created this\n\n618\n00:29:57.900 --> 00:29:59.020\nnetwork down here.\n\n619\n00:29:59.020 --> 00:30:00.790\nBut the one above just created instantly.\n\n620\n00:30:00.790 --> 00:30:04.180\nNow, there is one more step\nthat does take a while also.\n\n621\n00:30:04.180 --> 00:30:07.230\nThe network is up, but the gateway,\n\n622\n00:30:07.230 --> 00:30:10.710\nthe virtual router they created,\nis not actually running.\n\n623\n00:30:10.710 --> 00:30:13.585\nI need to start it before\nthe network will function.\n\n624\n00:30:13.585 --> 00:30:14.320\n>> Um-hm.\n\n625\n00:30:14.320 --> 00:30:18.390\n>> So, I'm just gonna go into\nthat corporate Azure network, and\n\n626\n00:30:18.390 --> 00:30:19.970\nsee how my gateway is red right here?\n\n627\n00:30:19.970 --> 00:30:22.080\nThat lets me know it's not running.\n\n628\n00:30:22.080 --> 00:30:26.270\nAnd somewhere in here I can\nclick the button to start it.\n\n629\n00:30:26.270 --> 00:30:27.520\nWhere is it?\n>> Is that a create gateway?\n\n630\n00:30:27.520 --> 00:30:29.320\nThe little plus sign at the bottom?\n\n631\n00:30:29.320 --> 00:30:32.770\n>> Yep, there we go.\nSo I gotta create my gateway and\n\n632\n00:30:32.770 --> 00:30:34.770\nwe'll just do static routing because we,\nyou know,\n\n633\n00:30:34.770 --> 00:30:36.315\nwe don't have networks that are changing.\n\n634\n00:30:36.315 --> 00:30:37.224\n>> Mm-hm.\n\n635\n00:30:39.110 --> 00:30:41.480\nAll right, and it's just saying\ndo you wanna create a gateway.\n\n636\n00:30:41.480 --> 00:30:42.820\nOf course,\nthat's why I clicked that button.\n\n637\n00:30:43.920 --> 00:30:45.348\nYou think it would know that by now.\n\n638\n00:30:45.348 --> 00:30:49.170\nSo, all right,there we go,\nnow it's creating that gateway,\n\n639\n00:30:49.170 --> 00:30:53.380\nthis also took like another 20\nminutes prior to this show and\n\n640\n00:30:53.380 --> 00:30:55.530\nwe'll see it'll probably\nhappen instantly now.\n\n641\n00:30:55.530 --> 00:30:59.440\nBut until that gateway is started and\nrunning that's your router.\n\n642\n00:30:59.440 --> 00:31:03.900\nThink of it as home, if you power your\nrouter off you can't get to the internet.\n\n643\n00:31:03.900 --> 00:31:07.760\nThat's how this gateway is, if the gateway\nis powered off your VPN won't work and\n\n644\n00:31:07.760 --> 00:31:10.810\nyour systems won't be able\nto get out to communicate.\n\n645\n00:31:10.810 --> 00:31:12.565\nSo we've gotta wait for that.\n\n646\n00:31:12.565 --> 00:31:13.065\n>> Mm-hm.\n>> All right.\n\n647\n00:31:13.065 --> 00:31:13.576\n>> So Don,\n\n648\n00:31:13.576 --> 00:31:18.112\nwould you think that because we are in\na trial subscription that perhaps we\n\n649\n00:31:18.112 --> 00:31:22.280\nare getting placed in the queue\n>> As opposed to if we were, you know,\n\n650\n00:31:22.280 --> 00:31:25.130\nlike, like actual true\nsubscribers to this that\n\n651\n00:31:25.130 --> 00:31:28.650\nmaybe we would have a bit more of\na priority when creating things like this.\n\n652\n00:31:28.650 --> 00:31:30.555\n>> You know, you might think that,\nbut Microsoft actually doesn't do it.\n\n653\n00:31:30.555 --> 00:31:33.567\nAnd the reason is if you're trying\nthis out, they want to make sure you\n\n654\n00:31:33.567 --> 00:31:37.012\nhave a good experience otherwise you're\nnot gonna use their service, right.\n\n655\n00:31:37.012 --> 00:31:42.065\n[LAUGH] So they actually don't do things,\nI mean there is a You do wait in line but\n\n656\n00:31:42.065 --> 00:31:46.678\nit's the same line that you're\nwaiting in with the paying customers.\n\n657\n00:31:46.678 --> 00:31:49.202\nWell looking at the clock,\nit's about time for a break anyway,\n\n658\n00:31:49.202 --> 00:31:52.990\nso while we're waiting on that gateway to\nstart, why don't we just stop right here.\n\n659\n00:31:52.990 --> 00:31:58.040\nAnd when we get back,\nwe've created our virtual network.\n\n660\n00:31:58.040 --> 00:32:00.070\nNow, we're ready to\nactually start using it, so\n\n661\n00:32:00.070 --> 00:32:03.940\nwe'll get a chance to see that, and\nwe'll continue to work with the system.\n\n662\n00:32:03.940 --> 00:32:04.810\n>> Sounds good.\n\n663\n00:32:04.810 --> 00:32:06.955\n>> All right, we'll stop here, and\nwe'll see you guys back after this.\n\n664\n00:32:06.955 --> 00:32:10.855\n[SOUND] All right,\n\n665\n00:32:10.855 --> 00:32:16.575\nwelcome back everybody.\n\n666\n00:32:16.575 --> 00:32:19.701\nSo during the break the gateway\nfinished creating and\n\n667\n00:32:19.701 --> 00:32:23.939\nnow we're kind of at that point where\nwhat we need to do is link the network\n\n668\n00:32:23.939 --> 00:32:28.310\nat the Windows Azure data center\nwith our network here, all right.\n\n669\n00:32:28.310 --> 00:32:30.880\nFortunately Microsoft\nmakes this really easy for\n\n670\n00:32:30.880 --> 00:32:35.240\nus, because they know people usually\nhave firewalls or different devices and\n\n671\n00:32:35.240 --> 00:32:37.230\nso they actually give you\nconfiguration files for it.\n\n672\n00:32:37.230 --> 00:32:38.830\nSo, let me show you what I mean.\n\n673\n00:32:38.830 --> 00:32:42.350\nSo here I am just still\nright on that same system,\n\n674\n00:32:42.350 --> 00:32:46.070\nI can see my gateway and\nnotice how the gateway is not linked?\n\n675\n00:32:46.070 --> 00:32:47.330\nSee how it says connecting?\n\n676\n00:32:47.330 --> 00:32:49.130\nIt's kind of sitting here broken.\n\n677\n00:32:49.130 --> 00:32:51.110\nThat's because I haven't\nconfigured the other side.\n\n678\n00:32:51.110 --> 00:32:53.490\nAnd if I need to configure it,\n\n679\n00:32:53.490 --> 00:32:58.750\ndown the page a little bit is this link\nthat says download VPN device script.\n\n680\n00:32:58.750 --> 00:33:02.030\nAnd they give you the configuration\nsettings for your device,\n\n681\n00:33:02.030 --> 00:33:03.720\ndepending on what your device is.\n\n682\n00:33:03.720 --> 00:33:08.030\nSo for example, we have an ASA 5500,\nand so I was able to download that.\n\n683\n00:33:08.030 --> 00:33:13.010\nNow we're running the 9.1 or whatever\nless on it, so I wasn't able to apply\n\n684\n00:33:13.010 --> 00:33:17.690\nthe script directly, I had to\ninterpret it a bit, but you can pick.\n\n685\n00:33:17.690 --> 00:33:20.120\nThey got Cisco, Juniper, here's Microsoft.\n\n686\n00:33:20.120 --> 00:33:21.150\nAnd if you're using routing or\n\n687\n00:33:21.150 --> 00:33:24.160\nremote access, here it gives\nyou the information for using\n\n688\n00:33:24.160 --> 00:33:28.800\na Windows Server 2012 box on this end\nto terminate the other end of that VPN.\n\n689\n00:33:28.800 --> 00:33:35.015\nBut if you got like a Juniper SSG then\nyou can go in here and find the SSGs.\n\n690\n00:33:35.015 --> 00:33:38.750\nAnd what version of ScreenOS you've\ngot and, and go from there, right?\n\n691\n00:33:38.750 --> 00:33:41.900\nAnd even on the Cisco side,\nthey support not just the ASAs, but\n\n692\n00:33:41.900 --> 00:33:45.620\nyou also see some of the ISRs,\nthe integrated services routers.\n\n693\n00:33:45.620 --> 00:33:50.180\nAnd so you can pick one of the ISRs and\nyour iOS version and go from there.\n\n694\n00:33:50.180 --> 00:33:54.948\nSo, once you do that, you check it off and\nit generates a script,\n\n695\n00:33:54.948 --> 00:34:00.697\nwhich is this guy right here and you know\nit's going to be a little hard to read.\n\n696\n00:34:03.131 --> 00:34:04.630\nThat was convenient wasn't it?\n\n697\n00:34:04.630 --> 00:34:06.260\nWhat's the keyboard shortcut for that?\n\n698\n00:34:08.000 --> 00:34:13.061\nWell, anyhow, I was kind of\nhoping to make this semi-legible.\n\n699\n00:34:13.061 --> 00:34:16.020\nBut basically if it's a Cisco device,\n\n700\n00:34:16.020 --> 00:34:19.020\nthis is designed where you can practically\ncut and paste it into your system.\n\n701\n00:34:19.020 --> 00:34:21.860\nNow, there's things you'll have to\ndouble check and make sure, but\n\n702\n00:34:21.860 --> 00:34:26.360\nit'll give the IP address and\nthe gateway and the pre-shared key and\n\n703\n00:34:26.360 --> 00:34:28.600\nall the stuff you'll need\nto be able to get in there.\n\n704\n00:34:28.600 --> 00:34:30.310\nAnd connect to that network, all right?\n\n705\n00:34:30.310 --> 00:34:33.200\nNow, this is information\nyou need to keep secret.\n\n706\n00:34:33.200 --> 00:34:36.770\nIf somebody gets this, they'll be able to\nconnect into your private network, and\n\n707\n00:34:36.770 --> 00:34:38.650\nyou probably don't want that, right?\n\n708\n00:34:38.650 --> 00:34:41.050\nSo, you might ask yourself, Don,\nwhy are you showing us this?\n\n709\n00:34:41.050 --> 00:34:44.440\nAnd the reason is, I'm not actually gonna\nput a server in this, and even if I did\n\n710\n00:34:44.440 --> 00:34:47.820\nI'm going to delete it after the show, so\nI'm not too terribly worried about it.\n\n711\n00:34:47.820 --> 00:34:50.070\nBut for your own sake, these private keys,\n\n712\n00:34:50.070 --> 00:34:53.290\nthat's the key to the network, that's\nwhat will let somebody get in there.\n\n713\n00:34:53.290 --> 00:34:54.380\nSo you've gotta be careful with that.\n\n714\n00:34:55.630 --> 00:34:59.450\n>> So then Don, even if you didn't have\none of these supported devices on here,\n\n715\n00:34:59.450 --> 00:35:03.860\nsince this is just generating this script,\ncould you then, in theory,\n\n716\n00:35:03.860 --> 00:35:08.100\njust grab one of these scripts, and\ngrab these pre-assured key, and\n\n717\n00:35:08.100 --> 00:35:11.900\ngrab the IP addresses and information and\njust key it in to your own device?\n\n718\n00:35:11.900 --> 00:35:13.720\n>> Yeah, the information's in here, right?\n\n719\n00:35:13.720 --> 00:35:18.720\nSo, it's showing it's going to use\nAES256 with Sha 1 for the signatures.\n\n720\n00:35:18.720 --> 00:35:20.970\nIt's doing Diffie Hellman group two.\n\n721\n00:35:20.970 --> 00:35:22.340\nAll the information you need for\n\n722\n00:35:22.340 --> 00:35:25.480\nsetting up a VPN is in here,\nif how to set up VPNs.\n\n723\n00:35:25.480 --> 00:35:28.830\nIf you know what to look for, and\nthat's kind of what I had to do.\n\n724\n00:35:28.830 --> 00:35:30.420\nNate, you watched me before the show.\n\n725\n00:35:30.420 --> 00:35:32.970\nBecause our ASA was running\na different version of the software,\n\n726\n00:35:32.970 --> 00:35:34.443\nI couldn't just copy and paste this.\n\n727\n00:35:34.443 --> 00:35:36.140\nSo, what I did was that I printed it out.\n\n728\n00:35:36.140 --> 00:35:38.770\nAnd then I just went through and\nconfigured it in the new system using\n\n729\n00:35:38.770 --> 00:35:41.290\nthe data that from in here,\nso you may have to do that.\n\n730\n00:35:41.290 --> 00:35:42.730\nBut it's all in here.\n\n731\n00:35:42.730 --> 00:35:46.430\nThe lifetimes, the volume,\nthe data volumes, all this stuff,\n\n732\n00:35:46.430 --> 00:35:47.540\nit's right in here.\n\n733\n00:35:47.540 --> 00:35:54.103\nPunch it into your VPN software and\nyou'll probably be fine.\n\n734\n00:35:54.103 --> 00:35:56.924\nAll right, when that's done, when the VPN\nis up, it'll connect over to your other\n\n735\n00:35:56.924 --> 00:35:59.700\nsystem, and I'm going to switch, this is\nthe network I created before the show.\n\n736\n00:35:59.700 --> 00:36:01.480\nITProTVLab.\n\n737\n00:36:01.480 --> 00:36:04.990\nNotice how the gateway and\nthe VPN are connected, that means it's\n\n738\n00:36:04.990 --> 00:36:10.070\nactually connected to my firewall here and\nI can see data moving over it right.\n\n739\n00:36:10.070 --> 00:36:14.890\nI've sent 689KB of data there and\nI've received 1.2 megs of\n\n740\n00:36:14.890 --> 00:36:19.570\ndata from the other side, not much data,\nbut the VPN tunnel is up and happy.\n\n741\n00:36:19.570 --> 00:36:21.260\nThat's what it looks like.\n\n742\n00:36:21.260 --> 00:36:22.070\n>> All right.\n\n743\n00:36:22.070 --> 00:36:26.560\nWhen that tunnel is up, your local network\nshould now be able to communicate with\n\n744\n00:36:26.560 --> 00:36:31.040\nthe network in Windows Azure using\nprivate IPs via the VPN tunnel.\n\n745\n00:36:31.040 --> 00:36:32.100\nAll right?\n\n746\n00:36:32.100 --> 00:36:35.105\nSo the last step for\njust getting ready, sadly.\n\n747\n00:36:35.105 --> 00:36:36.752\n>> [LAUGH]\n>> The last step for\n\n748\n00:36:36.752 --> 00:36:40.370\ngetting ready,\nis to actually create a server.\n\n749\n00:36:40.370 --> 00:36:42.810\nIf we were doing the software as\na service, we would have just used\n\n750\n00:36:42.810 --> 00:36:45.240\nthe active directory button in the very\nbeginning and be done with it.\n\n751\n00:36:45.240 --> 00:36:48.070\nBut we need to create a server so\nthat we have that control.\n\n752\n00:36:48.070 --> 00:36:53.510\nSo you go up to virtual machines,\nand, add a new virtual machine.\n\n753\n00:36:54.910 --> 00:36:59.140\nNow when you create a virtual machine, the\ntemptation is there to use quick create,\n\n754\n00:36:59.140 --> 00:37:02.170\nbecause it will let you spawn\na virtual machine really fast.\n\n755\n00:37:02.170 --> 00:37:04.440\nBut it won't let you pick\nwhat network it's on and\n\n756\n00:37:04.440 --> 00:37:06.030\nthat means it'll be a public server.\n\n757\n00:37:06.030 --> 00:37:07.270\nAnd that's not what we want.\n\n758\n00:37:07.270 --> 00:37:12.510\nSo you will need to choose to create\na virtual machine from a gallery, and\n\n759\n00:37:12.510 --> 00:37:16.070\nin the gallery you're basically\npicking what it is you want.\n\n760\n00:37:16.070 --> 00:37:19.290\nAnd you'll see Windows server\nR2 data server edition,\n\n761\n00:37:19.290 --> 00:37:21.940\nor not R2, Windows server 2008.\n\n762\n00:37:21.940 --> 00:37:25.040\nSo you've got several different\nchoices to pick from.\n\n763\n00:37:25.040 --> 00:37:28.235\nThey even got SharePoint and\nSQLl that are pre-setup for you.\n\n764\n00:37:28.235 --> 00:37:33.200\nThere's Oracle data base server,\nAbunto if you want to go the Linux route.\n\n765\n00:37:33.200 --> 00:37:37.020\nSo you got all sorts of choices in here\nand you can filter and look over here.\n\n766\n00:37:37.020 --> 00:37:41.364\nSo, if I want a Santo S server,\nI can find one and run with it.\n\n767\n00:37:41.364 --> 00:37:45.480\nBut I want Windows Server\n2012 R2 data center.\n\n768\n00:37:45.480 --> 00:37:50.580\nSo I'll pick that and\nwe don't have to worry about the license.\n\n769\n00:37:50.580 --> 00:37:52.520\nRight?\nThat license is covered by Microsoft so\n\n770\n00:37:52.520 --> 00:37:55.480\nit's not like we have to pay more for\npicking data center versus enterprise or\n\n771\n00:37:55.480 --> 00:37:57.555\nstandard and\nthat's why you didn't see the other one.\n\n772\n00:37:57.555 --> 00:38:00.915\nYou didn't see web server edition\nbecause since it's all covered,\n\n773\n00:38:00.915 --> 00:38:03.515\nthey give you the full data center,\nthe one with all the features.\n\n774\n00:38:05.545 --> 00:38:06.625\nThen we just give it a name.\n\n775\n00:38:06.625 --> 00:38:11.720\nSo I might call this one ITPROTV REMOTEDC\nor whatever it is I wanna call it.\n\n776\n00:38:11.720 --> 00:38:12.608\nToo long.\n\n777\n00:38:12.608 --> 00:38:14.382\nHow's that?\n\n778\n00:38:15.990 --> 00:38:17.340\nOne character too long.\n\n779\n00:38:17.340 --> 00:38:20.570\nHere we go, and\nthen here we pick the size.\n\n780\n00:38:20.570 --> 00:38:23.320\nNow, what we're telling it\nis how many processors and\n\n781\n00:38:23.320 --> 00:38:24.640\nhow much memory we want it to have.\n\n782\n00:38:24.640 --> 00:38:26.230\nAnd the temptation is to just go crazy.\n\n783\n00:38:26.230 --> 00:38:29.870\nI want eight colors and\n560 gigs or 56 gigs of RAM.\n\n784\n00:38:29.870 --> 00:38:32.150\nRight, but you're gonna pay for it.\n\n785\n00:38:32.150 --> 00:38:36.430\nYou pay by the amount of cpu and\nmemory that you consume, so\n\n786\n00:38:36.430 --> 00:38:38.430\nyou want to pick what you actually need.\n\n787\n00:38:38.430 --> 00:38:41.275\nA normal domain controller, one core and\n\n788\n00:38:41.275 --> 00:38:43.850\n1.75 gigs of memory is probably enough,\nright.\n\n789\n00:38:43.850 --> 00:38:45.829\nBut I might step up to two cores and\n\n790\n00:38:45.829 --> 00:38:49.954\nthree and a half gigs of memory just\nto be on the safe side, all right?\n\n791\n00:38:49.954 --> 00:38:52.894\nThen we need to creat a local\nuser name for this system, so\n\n792\n00:38:52.894 --> 00:38:55.482\nI might create one for\nme, I'll do deep Lisette.\n\n793\n00:38:55.482 --> 00:39:02.768\nAnd whatever I want my super\nsecret password to be, all right.\n\n794\n00:39:02.768 --> 00:39:06.249\nAnd then we can move forward,\nand here's the important part,\n\n795\n00:39:06.249 --> 00:39:10.122\nif you don't choose a network here,\nit's gonna pick one for you, and\n\n796\n00:39:10.122 --> 00:39:14.410\nhopefully it'll be right, but\nif it's wrong, you can't change it later.\n\n797\n00:39:14.410 --> 00:39:18.150\nYou have to delete the server and recreate\nit to put it on the correct network.\n\n798\n00:39:18.150 --> 00:39:22.220\nSo we've gotta pay attention when we\nlook in here, we have a server name, and\n\n799\n00:39:22.220 --> 00:39:23.090\nall that.\n\n800\n00:39:23.090 --> 00:39:27.640\nUnder the Affinity, we need to pick\nthe network we defined before.\n\n801\n00:39:27.640 --> 00:39:31.060\nSo if I wanted to go on Corporate Azure,\nI need to choose that here.\n\n802\n00:39:31.060 --> 00:39:32.283\nI can't change it later.\n\n803\n00:39:32.283 --> 00:39:35.250\nRight and then I can pick what subnet.\n\n804\n00:39:35.250 --> 00:39:38.760\nSo if I want it to be on the production\nservers or the staging servers,\n\n805\n00:39:38.760 --> 00:39:40.465\nhere is where I make that choice.\n\n806\n00:39:40.465 --> 00:39:43.809\nAnd if we've got a storage account,\nI'm not gonna worry about those.\n\n807\n00:39:43.809 --> 00:39:45.330\nAvailability sets?\n\n808\n00:39:45.330 --> 00:39:48.460\nThat's if you've got redundant servers,\nlike a cluster.\n\n809\n00:39:48.460 --> 00:39:51.520\nOne fails, the other takes over,\nand we can attach this to a set.\n\n810\n00:39:51.520 --> 00:39:54.695\nI didn't set any of that up, and that's\nkinda beyond what they want on the exam.\n\n811\n00:39:54.695 --> 00:39:56.340\nMm-hm.\n\n812\n00:39:56.340 --> 00:39:59.660\nAll right, when that's done, we can\njust check that off, and you'll see,\n\n813\n00:39:59.660 --> 00:40:03.130\nhere's the ports that are gonna be open\nto allow us to connect to by default,\n\n814\n00:40:03.130 --> 00:40:04.760\nRemote Desktop and PowerShell.\n\n815\n00:40:04.760 --> 00:40:06.310\nYou might need to open up other ports.\n\n816\n00:40:06.310 --> 00:40:09.450\nThis is like, easy firewall control.\n\n817\n00:40:09.450 --> 00:40:11.610\n>> Mm hm.\n>> And then we'll just finish.\n\n818\n00:40:11.610 --> 00:40:13.310\nAnd it's gonna spin that server up.\n\n819\n00:40:13.310 --> 00:40:14.210\n>> Mm hm.\n>> All right.\n\n820\n00:40:14.210 --> 00:40:16.900\nNow spinning the server\nup can take a good ten or\n\n821\n00:40:16.900 --> 00:40:20.380\nfifteen minutes depending,\nit's gonna happen instantly, isn't it?\n\n822\n00:40:20.380 --> 00:40:22.520\nBut, they, it can take a little while.\n\n823\n00:40:22.520 --> 00:40:25.480\nThat's why I went ahead and\nset some of this stuff up early.\n\n824\n00:40:25.480 --> 00:40:29.250\nI created a server, they, doing the same\nexact steps that we just did there.\n\n825\n00:40:29.250 --> 00:40:33.240\nAnd I also set up the VPN because I\nneeded to configure our firewall here and\n\n826\n00:40:33.240 --> 00:40:34.648\nI didn't wanna do a Cisco show today.\n\n827\n00:40:34.648 --> 00:40:37.400\nSo so the VPN tunnel is already up and\n\n828\n00:40:37.400 --> 00:40:39.638\nI've got this domain controller\nfired up that we're gonna use.\n\n829\n00:40:39.638 --> 00:40:40.236\n>> Hm-mm.\n\n830\n00:40:40.236 --> 00:40:41.040\n>> All right.\n\n831\n00:40:41.040 --> 00:40:45.850\nOnce the server comes up you\ncan click on the server and\n\n832\n00:40:45.850 --> 00:40:48.210\non the status screen right here,\n\n833\n00:40:48.210 --> 00:40:53.360\nyou can what the internal IP\naddress of that server is.\n\n834\n00:40:53.360 --> 00:40:56.287\nThis sever is 172.16.1.4.\n\n835\n00:40:56.287 --> 00:40:57.075\nAll right?\n\n836\n00:40:57.075 --> 00:40:57.665\n>> Hm-mm.\n\n837\n00:40:57.665 --> 00:41:01.430\n>> So once I know that,\nI can fire up remote desk top, and\n\n838\n00:41:01.430 --> 00:41:03.170\nI can remote into that server.\n\n839\n00:41:03.170 --> 00:41:04.210\nAnd so I'm gonna do that.\n\n840\n00:41:06.390 --> 00:41:07.035\nThere we go.\n\n841\n00:41:07.035 --> 00:41:07.950\nMm-hm.\n\n842\n00:41:07.950 --> 00:41:12.030\n>> So I've now remoted into this\nserver that's in Windows Azure, and\n\n843\n00:41:12.030 --> 00:41:14.530\nit's just a straight up server,\nyou know, here it is.\n\n844\n00:41:14.530 --> 00:41:18.040\nI, I can see it, it even gives me a nice\nlittle summary screen here of the IP,\n\n845\n00:41:18.040 --> 00:41:18.580\nand, and storage.\n\n846\n00:41:18.580 --> 00:41:19.830\n>> Hm.\n>> And all that stuff.\n\n847\n00:41:19.830 --> 00:41:21.900\nI can see the system and\nI can work with it.\n\n848\n00:41:21.900 --> 00:41:24.715\nIt's a full installation\nof Windows Server 2012.\n\n849\n00:41:24.715 --> 00:41:28.010\n>> Mm-hm.\nSo then Don, so it's it's public IP there\n\n850\n00:41:28.010 --> 00:41:32.350\nso, what so, can we key that in then and,\nand connect directly to it?\n\n851\n00:41:32.350 --> 00:41:34.690\nOr is that IP going to\nthat gateway subnet?\n\n852\n00:41:34.690 --> 00:41:36.535\n>> Because we put it on a private network.\n\n853\n00:41:36.535 --> 00:41:37.520\n>> Hm-mm.\n>> By default,\n\n854\n00:41:37.520 --> 00:41:39.760\nthat's not gonna be accessible, all right.\n\n855\n00:41:39.760 --> 00:41:44.600\nIf this machine browses to the internet,\nit will get NAT'd to that IP and\n\n856\n00:41:44.600 --> 00:41:47.110\nit'll browse out to the internet and\naccess things, right.\n\n857\n00:41:47.110 --> 00:41:50.080\nBut if somebody from the internet tries\nto access this machine on that IP\n\n858\n00:41:50.080 --> 00:41:50.980\nit won't work.\n\n859\n00:41:50.980 --> 00:41:53.860\nSo it's completely blocked off,\naccess is only on that private network.\n\n860\n00:41:53.860 --> 00:41:57.260\nNow you can adjust that, you can open\nup little holes in the firewall.\n\n861\n00:41:57.260 --> 00:41:59.010\nIt's in the settings inside\nof Windows Azure but\n\n862\n00:41:59.010 --> 00:42:00.235\nby default they'll be blocked off.\n\n863\n00:42:00.235 --> 00:42:00.780\n>> Mh-hm.\n\n864\n00:42:00.780 --> 00:42:03.340\n>> So\nWhat I should see is that IP right there.\n\n865\n00:42:03.340 --> 00:42:07.950\nIf I were to fire up Internet Explorer,\nand go to,\n\n866\n00:42:07.950 --> 00:42:10.520\n>> IP Chicken.\n\n867\n00:42:10.520 --> 00:42:12.530\n>> Do we want IP Chicken or\nIP Monkey today?\n\n868\n00:42:12.530 --> 00:42:15.970\nThere's so\nmany choices we have in the IP business.\n\n869\n00:42:15.970 --> 00:42:16.840\n>> Chicken.\nIP Chicken, alright.\n\n870\n00:42:16.840 --> 00:42:20.410\nSo I'm going to go to IPchicken.com,\n\n871\n00:42:20.410 --> 00:42:25.130\nthe internet authority on IP addresses,\nand there we go.\n\n872\n00:42:25.130 --> 00:42:30.350\n>> I see that public IP and that matches\nwhat we're showing on the desktop.\n\n873\n00:42:30.350 --> 00:42:32.750\nSo that's what I'm getting NAT'd\nto when I go out to the internet.\n\n874\n00:42:32.750 --> 00:42:33.520\n>> Mm hm.\n\n875\n00:42:33.520 --> 00:42:36.605\n>> And if I don't trust them,\nI can always go to IP Monkey to verify.\n\n876\n00:42:36.605 --> 00:42:38.826\n>> [LAUGH]\n>> And and\n\n877\n00:42:38.826 --> 00:42:39.820\nsure enough,\n>> Mm hm.\n\n878\n00:42:39.820 --> 00:42:42.665\n>> IP Monkey tells me the same thing.\n\n879\n00:42:42.665 --> 00:42:43.980\n[LAUGH]\n>> All right it is confirmed.\n\n880\n00:42:43.980 --> 00:42:45.303\n>> You know because some\npeople don't trust poultry.\n\n881\n00:42:45.303 --> 00:42:47.970\n[LAUGH]\n>> [LAUGH]\n\n882\n00:42:47.970 --> 00:42:49.650\n>> Like nope, I only take my\n\n883\n00:42:49.650 --> 00:42:50.835\nIP information from mammals.\n\n884\n00:42:50.835 --> 00:42:53.480\n[LAUGH]\n>> And and so we have that choice.\n\n885\n00:42:53.480 --> 00:42:57.660\nAll right, so, but I do have my\ninternal IP, that 172.16.104, and\n\n886\n00:42:57.660 --> 00:42:59.805\nhere's the really cool part.\n\n887\n00:42:59.805 --> 00:43:00.680\n>> Hm-mm.\n\n888\n00:43:00.680 --> 00:43:02.570\n>> On the IT Pro TV Network,\n\n889\n00:43:02.570 --> 00:43:05.880\nour domain controller here,\nit's on the 10.1.230 network.\n\n890\n00:43:05.880 --> 00:43:08.190\nAnd that's a private network, right?\n\n891\n00:43:08.190 --> 00:43:09.820\nA private IP address.\n\n892\n00:43:09.820 --> 00:43:11.780\nIt's not routable on the internet.\n\n893\n00:43:11.780 --> 00:43:20.260\nBut because of the VPN tunnel, this\nmachine can ping into my 10.1.230 network.\n\n894\n00:43:20.260 --> 00:43:24.350\nAnd you can see it hitting our domain\ncontroller here, via private IPs.\n\n895\n00:43:24.350 --> 00:43:27.300\nThat's going over the VPN tunnel\nto get to our server right\n\n896\n00:43:27.300 --> 00:43:29.770\nhere in the building with us, all right?\n\n897\n00:43:29.770 --> 00:43:33.810\nWhat that means, is now it's just\nlike having a server internally.\n\n898\n00:43:33.810 --> 00:43:38.010\nI can go through the normal routine of\nadding the active directory role, and\n\n899\n00:43:38.010 --> 00:43:38.760\npromoting it.\n\n900\n00:43:38.760 --> 00:43:41.190\nYou know, getting it connected\nup to the active directory.\n\n901\n00:43:41.190 --> 00:43:42.940\nSynchronizing it into it and\nall that stuff.\n\n902\n00:43:42.940 --> 00:43:43.490\nAll right.\n\n903\n00:43:43.490 --> 00:43:47.610\nSo, from here on out, we kind of\nforget that it's in Windows Azure and\n\n904\n00:43:47.610 --> 00:43:50.542\nwe manage it like a normal server\n>> Mm Hm.\n\n905\n00:43:50.542 --> 00:43:52.840\n>> So let's do that.\n\n906\n00:43:52.840 --> 00:43:55.515\nI'm gonna go in here and\nadd roles and features.\n\n907\n00:43:55.515 --> 00:43:57.910\n>> Mm-hm.\n\n908\n00:43:57.910 --> 00:44:03.865\n>> And we're just gonna do a role-based\ninstall for the IT Pro TV Lab DC machine.\n\n909\n00:44:03.865 --> 00:44:06.130\n>> Mm-hm.\n\n910\n00:44:06.130 --> 00:44:09.520\n>> And I'm going to add active\ndirectory domain services.\n\n911\n00:44:09.520 --> 00:44:12.025\nAnd it's got, you know,\nsome administrative stuff I need to add.\n\n912\n00:44:12.025 --> 00:44:12.525\n>> Mm-hm.\n\n913\n00:44:13.820 --> 00:44:15.600\n>> Stuff, right, just junk.\n\n914\n00:44:15.600 --> 00:44:17.690\n>> Technology.\n>> [LAUGH] Alright,\n\n915\n00:44:17.690 --> 00:44:19.930\nI'm not going to add any of these other\ncrazy things, I don't need them right now,\n\n916\n00:44:19.930 --> 00:44:21.630\nso I'll just hit next.\n\n917\n00:44:21.630 --> 00:44:22.415\nAnd, we'll let that install.\n\n918\n00:44:22.415 --> 00:44:23.780\n>> Hm-mm.\n\n919\n00:44:23.780 --> 00:44:29.060\n>> Now, if it's been a while since you've\nwatched our active directory episode.\n\n920\n00:44:29.060 --> 00:44:32.620\nThen, you might not remember, but but\nwhat it's doing here is it's installing\n\n921\n00:44:32.620 --> 00:44:36.680\nthe tools to manage and\nparticipate in the active directory.\n\n922\n00:44:36.680 --> 00:44:39.360\nIt's not actually making\nus a domain controller yet.\n\n923\n00:44:39.360 --> 00:44:42.080\nIn fact,t his machine is not\neven joined to my domain, so\n\n924\n00:44:42.080 --> 00:44:44.990\nit doesn't know about my active\ndirectory environment at all.\n\n925\n00:44:44.990 --> 00:44:47.160\nWhen this is done,\nI'll need to go through and\n\n926\n00:44:47.160 --> 00:44:49.437\ndo the active directory\npromotion stuff Mm-hm.\n\n927\n00:44:49.437 --> 00:44:52.340\nNo.\nWell yeah, so sure enough then, that,\n\n928\n00:44:52.340 --> 00:44:55.590\nat this point, I mean, it, it would yeah,\nit'd just be as if it was a,\n\n929\n00:44:55.590 --> 00:44:59.630\na local, a local server you know,\nhere in our place, and we just treat\n\n930\n00:44:59.630 --> 00:45:02.840\nit as such even though it's [INAUDIBLE],\nyou know, being hosted up in the cloud.\n\n931\n00:45:02.840 --> 00:45:03.790\n>> Yeah.\n>> Yeah.\n\n932\n00:45:03.790 --> 00:45:05.080\n>> The only real difference, I mean.\n\n933\n00:45:05.080 --> 00:45:11.020\nThe, couple of differences, I supposed,\non one hand it is remote so depending\n\n934\n00:45:11.020 --> 00:45:13.970\non your internet connectivity, your\nconnection might be a little bit slower.\n\n935\n00:45:13.970 --> 00:45:16.500\nSo this is going over a wide area network.\n\n936\n00:45:16.500 --> 00:45:19.240\nThe other thing is you have no\nreal access to the hardware.\n\n937\n00:45:19.240 --> 00:45:21.795\nSo you don't know if a hard drive fails,\npower supply fails,\n\n938\n00:45:21.795 --> 00:45:22.705\nyou don't know any of that, right?\n\n939\n00:45:22.705 --> 00:45:25.815\nMicrosoft's managing that whole piece,\nbut the rest of it's the same.\n\n940\n00:45:25.815 --> 00:45:27.065\nIt's on our network.\n\n941\n00:45:27.065 --> 00:45:29.445\nWe can install antivirus\nsoftware on here if we wanted,\n\n942\n00:45:29.445 --> 00:45:33.158\nany monitoring software that we might\nhave, you know maybe use IBM Tivoli.\n\n943\n00:45:33.158 --> 00:45:37.065\nInstall it on there and you'll be able to\nmanage that server, monitor its memory\n\n944\n00:45:37.065 --> 00:45:41.165\nusage, you know, all the other things\nwe've done during this show, for, for\n\n945\n00:45:41.165 --> 00:45:43.060\ngetting ready for the 74 10 exam.\n\n946\n00:45:43.060 --> 00:45:46.020\nAll that works in a Windows Azure\nbox just as well as it does\n\n947\n00:45:46.020 --> 00:45:47.480\non your own local systems.\n\n948\n00:45:47.480 --> 00:45:48.489\n>> Mm hm.\nSo you put on your\n\n949\n00:45:48.489 --> 00:45:51.356\nyour torrent client on there and\njust have that seed all day.\n\n950\n00:45:51.356 --> 00:45:55.090\n>> You know there, there's actually\nsomething going on right now where people\n\n951\n00:45:55.090 --> 00:45:57.090\nare doing like BitCoin miners.\n\n952\n00:45:57.090 --> 00:45:57.620\n>> Mm hm.\n>> And\n\n953\n00:45:57.620 --> 00:46:02.070\nwhat they'll do is they'll sign up with a,\na demo account like this,\n\n954\n00:46:02.070 --> 00:46:05.822\nthey'll spawn a bunch of\nmachines with like 56 cores.\n\n955\n00:46:05.822 --> 00:46:08.030\n>> [LAUGH]\n>> And then they'll run bitcoin miners\n\n956\n00:46:08.030 --> 00:46:09.640\nand, and try and mine bitcoin.\n\n957\n00:46:09.640 --> 00:46:12.440\nAnd and so Microsoft has really\nhad to crack down on that, so\n\n958\n00:46:12.440 --> 00:46:15.654\nany time they see a demo account\nwith like a massive spike of CPU.\n\n959\n00:46:15.654 --> 00:46:16.720\n>> [LAUGH]\n>> They check it.\n\n960\n00:46:16.720 --> 00:46:18.190\n>> And they, they shut that down.\n\n961\n00:46:18.190 --> 00:46:18.690\nYeah.\n>> Hm-mm.\n\n962\n00:46:18.690 --> 00:46:20.790\n>> So, so there are people that do that.\n\n963\n00:46:20.790 --> 00:46:22.350\n>> Hm.\n>> You know, just keep in mind when,\n\n964\n00:46:22.350 --> 00:46:26.470\nwhen you open up that demo account,\nyou have to provide a credit card,\n\n965\n00:46:26.470 --> 00:46:30.090\neven though it's a free demo, they want\nthat credit card because if you forget to\n\n966\n00:46:30.090 --> 00:46:33.140\nshut your machines down at the end of\nthe demo, they need to bill you, right?\n\n967\n00:46:33.140 --> 00:46:35.200\nSo, it's kinda hard to fake an account.\n\n968\n00:46:35.200 --> 00:46:36.620\nYou really have to have\na stolen credit card, and\n\n969\n00:46:36.620 --> 00:46:37.650\nthat's what these people were doing.\n\n970\n00:46:37.650 --> 00:46:38.805\nThey used a stolen credit card.\n\n971\n00:46:38.805 --> 00:46:40.875\n>> Mm-hm.\n>> And they fire up their BitCoin miners.\n\n972\n00:46:40.875 --> 00:46:41.880\n>> Mm-hm.\n\n973\n00:46:41.880 --> 00:46:44.320\nYeah.\nI guess they just go to the the cache of\n\n974\n00:46:44.320 --> 00:46:45.565\ntarget cards and just have your.\n\n975\n00:46:45.565 --> 00:46:46.450\n>> [LAUGH]\n>> Have your pick.\n\n976\n00:46:46.450 --> 00:46:46.962\n>> Good, good point.\n>> [LAUGH]\n\n977\n00:46:46.962 --> 00:46:47.462\n>> There you go.\n\n978\n00:46:47.462 --> 00:46:48.700\nThey're, they're readily available.\n\n979\n00:46:48.700 --> 00:46:51.310\n>> 'Kay.\n>> [LAUGH] We're turning the IT Pro Team\n\n980\n00:46:51.310 --> 00:46:52.591\ncommunity\n>> [LAUGH]\n\n981\n00:46:52.591 --> 00:46:54.560\n>> Into illegal BitCoin miners.\n\n982\n00:46:54.560 --> 00:46:56.140\n>> [LAUGH]\n>> All right.\n\n983\n00:46:56.140 --> 00:47:00.280\nNow I've installed the active directory\nrole and immediately my, my panel here.\n\n984\n00:47:00.280 --> 00:47:02.400\nI've got a bunch of red down here and, and\n\n985\n00:47:02.400 --> 00:47:06.050\nwarnings It's letting me know that I\nneed to do some configuration, right.\n\n986\n00:47:06.050 --> 00:47:07.780\nJust installing the role is not enough, so\n\n987\n00:47:07.780 --> 00:47:10.320\nhere we've got promote this\nserver to a domain controller.\n\n988\n00:47:10.320 --> 00:47:11.465\nWe'll go ahead and do that now.\n\n989\n00:47:11.465 --> 00:47:13.083\n>> Mm-hm.\n>> Nate got on to me earlier.\n\n990\n00:47:13.083 --> 00:47:14.510\n>> [LAUGH]\n>> Because I called this DCPromo.\n\n991\n00:47:14.510 --> 00:47:17.080\n>> [LAUGH]\n>> For the old school viewers out there,\n\n992\n00:47:17.080 --> 00:47:20.890\nright, this used to be the domain\ncontroller promotion, or DCPromo utility.\n\n993\n00:47:20.890 --> 00:47:22.810\nNow, it's just the promotion wizard.\n\n994\n00:47:22.810 --> 00:47:24.260\nIt doesn't have a stupid name anymore.\n\n995\n00:47:24.260 --> 00:47:28.180\nSo I still call it DC promo.\n\n996\n00:47:28.180 --> 00:47:31.160\n>> Yeah if you try to run DCPromo\nin the command line it'll give you\n\n997\n00:47:31.160 --> 00:47:31.970\na little message.\n\n998\n00:47:31.970 --> 00:47:33.090\n>> Yeah, it gripes at you.\n\n999\n00:47:33.090 --> 00:47:35.760\n>> Yeah, it's saying hey what\nare you doing don't do this.\n\n1000\n00:47:35.760 --> 00:47:36.920\n>> Yeah I hate it when they do that.\n\n1001\n00:47:36.920 --> 00:47:40.523\nAlright so I'm going to promote it through\na domain controller and normally if I\n\n1002\n00:47:40.523 --> 00:47:43.801\ncreated a server on Windows Azure it\nwould be on an island all by itself and\n\n1003\n00:47:43.801 --> 00:47:46.792\nthat would be the end of it But\nin this case, I've got it up there.\n\n1004\n00:47:46.792 --> 00:47:49.224\nIt's pointed to my DNS server down here.\n\n1005\n00:47:49.224 --> 00:47:54.190\nI can tell it to add a domain\ncontroller to an existing domain.\n\n1006\n00:47:54.190 --> 00:47:59.520\nAnd I can specify that domain name,\nours is lab.itpro.tv.\n\n1007\n00:47:59.520 --> 00:48:00.160\nAll right.\n\n1008\n00:48:00.160 --> 00:48:01.960\nSo I'm just gonna punch that one in there.\n\n1009\n00:48:01.960 --> 00:48:04.890\nIt's gonna need some security\ncredentials to connect to that domain so\n\n1010\n00:48:04.890 --> 00:48:10.120\nnow I've got to remember my password,\nwhich is going to be lab/don, and one\n\n1011\n00:48:10.120 --> 00:48:17.660\nof my super secret passwords that no one\nwould ever guess [LAUGH] it's kind of sad.\n\n1012\n00:48:17.660 --> 00:48:21.360\nAnyhow, so I need to specify that and\nwhen I hit Next,\n\n1013\n00:48:21.360 --> 00:48:25.360\nit's gonna do a DNS look-up, which is\ngonna happen against my server here, and\n\n1014\n00:48:25.360 --> 00:48:28.730\nit'll find the domain\nin the 10.1.230 subnet.\n\n1015\n00:48:28.730 --> 00:48:32.375\nIt'll reach out to it and it's going to\ninitiate the domain controller promotion.\n\n1016\n00:48:32.375 --> 00:48:34.210\n>> Mm-hm.\n\n1017\n00:48:34.210 --> 00:48:36.050\nNow, now, so Don, so\nlet me ask you this, so\n\n1018\n00:48:36.050 --> 00:48:38.885\non our choices about adding\nthis to an existing domain.\n\n1019\n00:48:38.885 --> 00:48:41.250\n>> Mm-hm.\n>> Or add it to an existing forest.\n\n1020\n00:48:41.250 --> 00:48:45.600\nAt what point would you, I guess\nlike fork off your domain and do it?\n\n1021\n00:48:45.600 --> 00:48:49.571\nAnd call this, I don't know,\njust something else.\n\n1022\n00:48:49.571 --> 00:48:52.682\nI guess this isn't a show on\ncharacter design or whatnot.\n\n1023\n00:48:52.682 --> 00:48:53.495\n>> Yeah.\n\n1024\n00:48:53.495 --> 00:48:56.009\nWell, know normally what you\ndo is you base it on how\n\n1025\n00:48:56.009 --> 00:48:58.010\nmany IT departments you have.\n\n1026\n00:48:58.010 --> 00:49:02.410\nIf you only have one IT department you\nreally only need one domain right.\n\n1027\n00:49:02.410 --> 00:49:04.450\nBut if you have multiple\nIT departments and\n\n1028\n00:49:04.450 --> 00:49:07.780\nyou want one department to have full\ncontrol over a certain set of your system,\n\n1029\n00:49:07.780 --> 00:49:10.760\nand another department have control\nover a second set then you want to go\n\n1030\n00:49:10.760 --> 00:49:14.300\ntwo domains so that you can create that\nsecurity boundary between the two right.\n\n1031\n00:49:14.300 --> 00:49:18.680\nThere's no performance benefit going\nfrom one to two to 20 domains, right,\n\n1032\n00:49:18.680 --> 00:49:20.440\nperformance is the same across the board.\n\n1033\n00:49:20.440 --> 00:49:24.000\nSo you always want to go with\none domain whenever possible.\n\n1034\n00:49:24.000 --> 00:49:28.180\nNow, because this server is up in Windows\nAzure and not here in the building with\n\n1035\n00:49:28.180 --> 00:49:33.380\nus, I don't want machines here to\nauthenticate against the server up there\n\n1036\n00:49:33.380 --> 00:49:36.770\nunless they absolutely have to, like\nif the DC is down here in Gainesville,\n\n1037\n00:49:36.770 --> 00:49:40.045\nit'd be nice if we went and authenticated\nagainst this server that would be up,\n\n1038\n00:49:40.045 --> 00:49:43.220\nright, but we can use active\ndirectory sites to define that.\n\n1039\n00:49:43.220 --> 00:49:44.310\nWe don't need domains.\n\n1040\n00:49:44.310 --> 00:49:46.040\nWe can use sites to\nmanage authentication and\n\n1041\n00:49:46.040 --> 00:49:48.420\nreplication, that's the better way to go,\nright?\n\n1042\n00:49:48.420 --> 00:49:52.130\n>> Nice.\n>> All right, now because this DC is going\n\n1043\n00:49:52.130 --> 00:49:57.830\nto be up in Windows Azure, if I'm\nuntrustworthy of the network up there, I\n\n1044\n00:49:57.830 --> 00:50:01.730\nmight want to make this a read-only domain\ncontroller so that if somebody gets into\n\n1045\n00:50:01.730 --> 00:50:05.380\nit they can't create new accounts, it's\na great instance where you might do that.\n\n1046\n00:50:05.380 --> 00:50:06.800\nIn my case though I trust it.\n\n1047\n00:50:06.800 --> 00:50:07.461\nI'll let it go.\n>> Hm.\n\n1048\n00:50:07.461 --> 00:50:08.204\nMm-hm.\n\n1049\n00:50:08.204 --> 00:50:09.090\n>> All right.\n\n1050\n00:50:09.090 --> 00:50:12.312\nAnd we need to specify\na password to use for\n\n1051\n00:50:12.312 --> 00:50:16.833\nActive Directory Recovery if\nwe get into that situation.\n\n1052\n00:50:18.505 --> 00:50:19.440\nAll right.\n\n1053\n00:50:19.440 --> 00:50:22.690\nAnd if I've already defined\na site I can pick it right here.\n\n1054\n00:50:22.690 --> 00:50:23.995\nWe'll define one afterwards.\n\n1055\n00:50:23.995 --> 00:50:26.530\n>> Mm-hm.\n\n1056\n00:50:26.530 --> 00:50:32.510\n>> Alright, then we got our DNS options if\nwe wanted to create a DNS server on here.\n\n1057\n00:50:32.510 --> 00:50:34.830\nI can add one later, so\nI won't worry about it.\n\n1058\n00:50:34.830 --> 00:50:38.020\nIt's angry at me anyway, so\nI'll just get past that.\n\n1059\n00:50:38.020 --> 00:50:38.520\nAll right.\n\n1060\n00:50:39.760 --> 00:50:41.460\nAnd now we'll see the IFM screen.\n\n1061\n00:50:42.670 --> 00:50:44.505\nNow, Nate, you want to cover this one, or?\n\n1062\n00:50:44.505 --> 00:50:45.180\n>> Mm-hm, yeah.\n\n1063\n00:50:45.180 --> 00:50:50.160\nSo with the install from media,\nso what we can do, so\n\n1064\n00:50:50.160 --> 00:50:53.610\nthe first time that these domain\ncontrollers are going to replicate,\n\n1065\n00:50:53.610 --> 00:50:56.110\nthey're going to sync up\nall their information and\n\n1066\n00:50:56.110 --> 00:51:00.490\ndepending on the size of the directory, it\ncould take a considerable amount of time.\n\n1067\n00:51:00.490 --> 00:51:05.460\nIf you have a slow land link it can\nreally choke off the services for\n\n1068\n00:51:05.460 --> 00:51:08.590\nthe rest of the users, what not.\n\n1069\n00:51:08.590 --> 00:51:12.630\nWhat we can do, we can package\nall of our directory information.\n\n1070\n00:51:12.630 --> 00:51:17.820\nInto a, I guess a media file, and\nwe can just send that up there,\n\n1071\n00:51:17.820 --> 00:51:21.570\nand unpack that on to our server for\nthe initial replication.\n\n1072\n00:51:21.570 --> 00:51:22.090\n>> Yeah.\n\n1073\n00:51:22.090 --> 00:51:24.800\nYou basically take a backup of the active\ndirectory from one of your existing\n\n1074\n00:51:24.800 --> 00:51:28.320\ndomain controllers, and then you ship\nit up here through whatever means and\n\n1075\n00:51:28.320 --> 00:51:32.040\nwhen you do that promotion,\nyou use the backup for your basis so\n\n1076\n00:51:32.040 --> 00:51:34.200\nthat when it's done promoting\nit just has to get the changes.\n\n1077\n00:51:34.200 --> 00:51:36.640\nReally handy when you're going\nover a WAN link like this.\n\n1078\n00:51:36.640 --> 00:51:37.170\nAll right?\n\n1079\n00:51:37.170 --> 00:51:39.340\nNow we have a pretty decent\ninternet connection here.\n\n1080\n00:51:39.340 --> 00:51:40.420\nWe're just gonna replicate over it.\n\n1081\n00:51:40.420 --> 00:51:42.350\nWe also have a very\nsmall active directory.\n\n1082\n00:51:42.350 --> 00:51:44.470\nBut big ADs might have\nto worry about that.\n\n1083\n00:51:44.470 --> 00:51:46.960\nSo just keep in mind that is an option.\n\n1084\n00:51:46.960 --> 00:51:50.400\nAnd you can even pick which domain\ncontroller you want to replicated from,\n\n1085\n00:51:50.400 --> 00:51:54.320\nif we had more than one,\nyou could pick a specific one to target.\n\n1086\n00:51:54.320 --> 00:51:55.020\nWe just have the one.\n\n1087\n00:51:55.020 --> 00:51:56.550\nSo I'm not too worried about that.\n\n1088\n00:51:56.550 --> 00:51:59.440\n>> Hm.\nSo I guess if we were to spin up a second\n\n1089\n00:51:59.440 --> 00:52:03.500\ndomain controller up there then we\ncould have it replicate from the domain\n\n1090\n00:52:03.500 --> 00:52:04.840\ncontroller that's all ready up there-\n>> Yeah.\n\n1091\n00:52:04.840 --> 00:52:05.390\n>> Instead of this one.\n\n1092\n00:52:05.390 --> 00:52:06.310\n>> And that would absolutely-\n>> Mm-hm.\n\n1093\n00:52:06.310 --> 00:52:08.010\n>> Make sense.\nYou wouldn't want it to have to reach all\n\n1094\n00:52:08.010 --> 00:52:10.658\nthe way down here to get something that\nwas all ready up there in the Azure cloud.\n\n1095\n00:52:10.658 --> 00:52:12.526\n>> Mm-hm, nice.\n\n1096\n00:52:12.526 --> 00:52:16.600\n>> All right, then it's really\nnormal promotion after that, right.\n\n1097\n00:52:16.600 --> 00:52:20.519\nWe see our paths right here where it's\ngonna store the active directory in the.\n\n1098\n00:52:20.519 --> 00:52:24.485\nWe can review our options and\nnow it's going to get ready to go.\n\n1099\n00:52:24.485 --> 00:52:26.540\nIt's gonna do a prerequisite check.\n\n1100\n00:52:26.540 --> 00:52:30.120\nOnce it's sure that everything is fine,\nit's gonna do the promotion, and\n\n1101\n00:52:30.120 --> 00:52:30.684\nthen it'll reboot.\n\n1102\n00:52:30.684 --> 00:52:31.632\n>> Mm-hm.\n\n1103\n00:52:31.632 --> 00:52:32.595\n>> All right.\n>> Sweet.\n\n1104\n00:52:32.595 --> 00:52:36.795\n>> So, let's see, looking at the clock,\nit is pretty close to our break time.\n\n1105\n00:52:36.795 --> 00:52:37.815\n>> Mm-hm.\n>> So why don't we do this.\n\n1106\n00:52:37.815 --> 00:52:40.145\n>> Mm-hm.\n>> Why don't we let this run.\n\n1107\n00:52:40.145 --> 00:52:41.570\n>> Mm-hm.\n>> And\n\n1108\n00:52:41.570 --> 00:52:44.730\nit takes a little while to do\nthe promotion and the replication, and\n\n1109\n00:52:44.730 --> 00:52:47.900\nthen it reboots, and so\nwe'll let it do that during the break.\n\n1110\n00:52:47.900 --> 00:52:51.220\nAnd when we get back we'll see the domain\ncontroller when it comes up for\n\n1111\n00:52:51.220 --> 00:52:54.840\nthe first time, and we'll just take\ncare of the little site designation and,\n\n1112\n00:52:54.840 --> 00:52:57.725\nthen, we'll have an active domain\ncontroller in Windows Azure.\n\n1113\n00:52:57.725 --> 00:52:58.650\n>> Mm-hm, sounds good.\n\n1114\n00:52:58.650 --> 00:53:02.040\n>> Alright, so ladies and gentleman\nstay tuned when we get back the exciting\n\n1115\n00:53:02.040 --> 00:53:07.080\nconclusion to Windows Azure and sticking\nan active directory server in the cloud.\n\n1116\n00:53:07.080 --> 00:53:08.885\nSo see you then, after this.\n\n1117\n00:53:08.885 --> 00:53:17.093\n[MUSIC]\n\n1118\n00:53:17.093 --> 00:53:18.580\nAll right, welcome back everybody.\n\n1119\n00:53:18.580 --> 00:53:20.595\nSo during the break the server rebooted.\n\n1120\n00:53:20.595 --> 00:53:21.110\n>> Mm-hm.\n\n1121\n00:53:21.110 --> 00:53:25.920\n>> And, once it came back up, I was able\nto log in and I'm pretty sure it worked.\n\n1122\n00:53:25.920 --> 00:53:28.680\nMy first hint was that I wasn't\nable to log in with that local user\n\n1123\n00:53:28.680 --> 00:53:29.790\naccount any more.\n\n1124\n00:53:29.790 --> 00:53:31.540\nI logged in with my domain account.\n\n1125\n00:53:31.540 --> 00:53:34.400\nSo the fact that I was able to log in\nwith my domain account is a pretty good\n\n1126\n00:53:34.400 --> 00:53:37.430\nindicator that our domain\ncontroller is up and happy.\n\n1127\n00:53:37.430 --> 00:53:40.560\nBut we need to go through our\nverification to ensure that\n\n1128\n00:53:40.560 --> 00:53:42.030\nthings are working properly.\n\n1129\n00:53:42.030 --> 00:53:45.645\nAll right, when I deal with with\na new domain controller like this and\n\n1130\n00:53:45.645 --> 00:53:49.385\none of my first tests is to\ncreate a user account and\n\n1131\n00:53:49.385 --> 00:53:51.625\nsee if it shows up on my other\ndomain controller right.\n\n1132\n00:53:51.625 --> 00:53:53.875\nTo make sure the replication\nis going fine.\n\n1133\n00:53:53.875 --> 00:53:58.600\nSo here's what I'm gonna do, I'm gonna go\nup to tools and active directory users and\n\n1134\n00:53:58.600 --> 00:54:00.140\ncomputers.\n\n1135\n00:54:00.140 --> 00:54:02.540\nAnd this is on my Windows Azure server.\n\n1136\n00:54:02.540 --> 00:54:03.830\nThe server that's up there in the cloud.\n\n1137\n00:54:05.920 --> 00:54:12.060\nAnd I'll go under lab.itpro.tv and [LAUGH]\nyeah, for when we did the band kiss.\n\n1138\n00:54:12.060 --> 00:54:13.790\nIn fact, here,\nwe can come up with a new band.\n\n1139\n00:54:13.790 --> 00:54:14.290\nWho do we wanna?\n\n1140\n00:54:15.960 --> 00:54:21.050\nHere we'll create, we'll do Anthrax.\n\n1141\n00:54:21.050 --> 00:54:22.835\nEverybody likes Anthrax, right?\n\n1142\n00:54:22.835 --> 00:54:27.150\nAnd so in Anthrax we've gotta\ncreate some user accounts here.\n\n1143\n00:54:27.150 --> 00:54:32.681\nNow I'm an Anthrax fan but from the John\nBush era which a lot of people hate but\n\n1144\n00:54:32.681 --> 00:54:37.019\nwe'll our director\napparently is one of those.\n\n1145\n00:54:37.019 --> 00:54:41.174\n[LAUGH] And so I'll create him an account.\n\n1146\n00:54:46.533 --> 00:54:48.715\nAll right, so I created that account and\nthen I can go through and\n\n1147\n00:54:48.715 --> 00:54:50.125\ncreate whatever other accounts I want.\n\n1148\n00:54:50.125 --> 00:54:52.220\nBut the point is just to create something.\n\n1149\n00:54:52.220 --> 00:54:55.080\nCreate OU, create a user account,\ncreate whatever.\n\n1150\n00:54:55.080 --> 00:54:58.197\nSo that you've got something to\nsee if it's replicating down,\n\n1151\n00:54:58.197 --> 00:54:59.879\nso I'll create one for Scott Ian.\n\n1152\n00:55:05.319 --> 00:55:07.110\nAnd I think I typed the password wrong.\n\n1153\n00:55:08.335 --> 00:55:12.091\nI did. Dag gummit. There.\n\n1154\n00:55:12.091 --> 00:55:13.415\nI did it wrong twice.\n\n1155\n00:55:13.415 --> 00:55:14.361\nHow is that possible?\n\n1156\n00:55:16.622 --> 00:55:19.235\nThat looks better.\n\n1157\n00:55:19.235 --> 00:55:22.295\nNow I created those on\nthe domain controller here.\n\n1158\n00:55:22.295 --> 00:55:29.555\nAnd I can see my active directory users\nand computers if I can click on that.\n\n1159\n00:55:29.555 --> 00:55:30.460\nThere we go.\n>> Mm-hm.\n\n1160\n00:55:30.460 --> 00:55:33.910\n>> See how it shows that I\nam connected to ITProTV-DC2,\n\n1161\n00:55:33.910 --> 00:55:38.035\nthat's the domain controller\nhere in Gainesville, all right.\n\n1162\n00:55:38.035 --> 00:55:43.266\nI'm gonna right-click on here and\nchoose, change domain controller and\n\n1163\n00:55:43.266 --> 00:55:47.583\nI'm gonna connect to the domain\ncontroller up here in Azure,\n\n1164\n00:55:47.583 --> 00:55:50.085\nwhich is not showing up on the list.\n\n1165\n00:55:50.085 --> 00:55:51.658\nSo, that's not a good sign, is it.\n\n1166\n00:55:54.996 --> 00:55:58.449\nHm.\nAll right, so let's cancel that.\n\n1167\n00:55:58.449 --> 00:56:03.220\nSo I'm gonna do a few other\nverifications here just to see if our\n\n1168\n00:56:03.220 --> 00:56:05.400\ndomain promoted properly.\n\n1169\n00:56:05.400 --> 00:56:07.730\nSo I'm gonna browse to the C Drive.\n\n1170\n00:56:07.730 --> 00:56:10.060\nWhen you promote a domain controller,\n\n1171\n00:56:10.060 --> 00:56:13.470\nit creates two folders\ninside of C:\\Windows, right.\n\n1172\n00:56:13.470 --> 00:56:16.150\nOne is the Sysvol,\nwhere the system volume is stored.\n\n1173\n00:56:16.150 --> 00:56:18.490\nAnd another one is the NTDS directory,\n\n1174\n00:56:18.490 --> 00:56:20.470\nwhere the actual active\ndirectory is stored.\n\n1175\n00:56:20.470 --> 00:56:26.520\nSo I'm browse into NTDS, and, I'm not\nan admin, so I'll continue on that.\n\n1176\n00:56:26.520 --> 00:56:29.210\nAnd we should see ntds.dit.\n\n1177\n00:56:29.210 --> 00:56:30.760\nThat's the active directory database.\n\n1178\n00:56:30.760 --> 00:56:33.340\nIf you don't see that,\nyou are not a domain controller,\n\n1179\n00:56:33.340 --> 00:56:37.138\nso that's a good indicator there\nthat I am a DC, so that's good.\n\n1180\n00:56:37.138 --> 00:56:38.160\n>> Mm-hm.\n\n1181\n00:56:38.160 --> 00:56:39.760\n>> All right.\n\n1182\n00:56:39.760 --> 00:56:44.420\nAnd if I browse to myself, which,\n\n1183\n00:56:44.420 --> 00:56:49.100\nI called this server,\nwhat did I call this server?\n\n1184\n00:56:49.100 --> 00:56:49.910\n>> Lab DC?\n\n1185\n00:56:49.910 --> 00:56:51.250\n>> That's my own laptop.\n\n1186\n00:56:51.250 --> 00:56:54.300\nI know what I called my laptop.\n\n1187\n00:56:56.040 --> 00:56:56.680\nAll right.\n\n1188\n00:56:56.680 --> 00:57:01.424\nSo we called this one itprotv-labdc.\n\n1189\n00:57:03.630 --> 00:57:08.280\nIf I browse to that, ITPROTV-LABDC we\n\n1190\n00:57:08.280 --> 00:57:13.050\nshould see our Sysvol folder but\nI don't see that, and that's probably\n\n1191\n00:57:13.050 --> 00:57:18.010\nbecause network sharing is disabled\non Windows Azure servers by default.\n\n1192\n00:57:18.010 --> 00:57:20.370\nSo that's gonna be a slight issue for me.\n\n1193\n00:57:20.370 --> 00:57:23.440\nThere's certain functions here that\nare not working that's apparently blocking\n\n1194\n00:57:23.440 --> 00:57:25.110\nthe active directory from connecting.\n\n1195\n00:57:25.110 --> 00:57:27.090\nThere's gonna be things like\nWindows Remote Management,\n\n1196\n00:57:27.090 --> 00:57:29.380\nwhere we need to open that up,\nand a few other things.\n\n1197\n00:57:29.380 --> 00:57:32.070\nSo just a few things that\nneed to get taken care of\n\n1198\n00:57:32.070 --> 00:57:34.830\nto get this server operational, right?\n\n1199\n00:57:34.830 --> 00:57:42.215\nSo for example,\nwe'll do the old WinRM Quick config.\n\n1200\n00:57:42.215 --> 00:57:44.400\nIs it quick config, is that right?\n\n1201\n00:57:45.490 --> 00:57:47.360\nThere we go.\n\n1202\n00:57:47.360 --> 00:57:51.270\nWINRM quick config, it's a quick\nshortcut for us, thus the name, that\n\n1203\n00:57:51.270 --> 00:57:55.898\nopens up our various management ports to\nallow that to communicate so there we go.\n\n1204\n00:57:55.898 --> 00:57:58.370\nCreated.\n\n1205\n00:57:58.370 --> 00:57:59.120\nThat should be good.\n\n1206\n00:57:59.120 --> 00:58:00.390\n>> Mm-hm.\n\n1207\n00:58:00.390 --> 00:58:02.790\n>> And the other thing is I\nneed to adjust my sharing.\n\n1208\n00:58:06.860 --> 00:58:10.730\nAnd we need to change\nadvanced sharing settings.\n\n1209\n00:58:10.730 --> 00:58:15.540\nAnd I'll see on a domain, actually I do\nhave file and printer sharing turned on.\n\n1210\n00:58:19.540 --> 00:58:21.908\nWell, we'll turn on network discovery too,\njust to make sure.\n\n1211\n00:58:21.908 --> 00:58:22.854\n>> Mm- hm.\n\n1212\n00:58:22.854 --> 00:58:25.510\nAnd then, I'm just going to\ndouble check my services and\n\n1213\n00:58:25.510 --> 00:58:27.810\nmake sure that everything\nis started properly.\n\n1214\n00:58:31.790 --> 00:58:34.890\nAnd this is all stuff I\nwould do on a local DC also.\n\n1215\n00:58:34.890 --> 00:58:38.826\nIf I create one here, it's [art of\nthe verification process to make sure\n\n1216\n00:58:38.826 --> 00:58:42.457\nthat the active directory installed\nproperly and is operational.\n\n1217\n00:58:42.457 --> 00:58:45.125\nI'm just going to look at my automatic\nstartup type services here and\n\n1218\n00:58:45.125 --> 00:58:46.605\nmake sure that they're all running.\n\n1219\n00:58:46.605 --> 00:58:48.528\nI've got a few that aren't.\n\n1220\n00:58:48.528 --> 00:58:51.557\nSoftware protection I'm\nnot too worried about.\n\n1221\n00:58:51.557 --> 00:58:53.514\nRemote registry I'm not too\nworried about either, but for\n\n1222\n00:58:53.514 --> 00:58:55.053\nmanagement purposes I'll probably need it.\n\n1223\n00:58:55.053 --> 00:58:58.312\nThe reason it's not started here\nis I ran WinRM quick config, but\n\n1224\n00:58:58.312 --> 00:59:00.005\nI haven't rebooted since then.\n\n1225\n00:59:00.005 --> 00:59:02.470\nSo it's kind of doing it's thing.\n\n1226\n00:59:03.510 --> 00:59:07.227\nAll right, and so\nwe should be all right there.\n\n1227\n00:59:07.227 --> 00:59:09.398\nLet's just redo our little test.\n\n1228\n00:59:16.455 --> 00:59:20.546\nAnd still no Sysvol shares, so\nthat is going to be a problem, so\n\n1229\n00:59:20.546 --> 00:59:25.830\nwe might actually have to run a repair\non this one because that's missing.\n\n1230\n00:59:25.830 --> 00:59:29.380\nLet me just see if it actually\ncreated the share in the first place.\n\n1231\n00:59:29.380 --> 00:59:30.840\nIf you ever want to verify your shares,\n\n1232\n00:59:30.840 --> 00:59:35.290\nyou can go into Computer Management and\nin the computer management screen,\n\n1233\n00:59:35.290 --> 00:59:39.770\nunder shared folders, you can see\nthe shares that have been defined and\n\n1234\n00:59:39.770 --> 00:59:42.970\nyou'll notice here that I'm\nactually missing my sysvol share.\n\n1235\n00:59:42.970 --> 00:59:46.630\nThat means that there was more than\nlikely an issue during promotion and\n\n1236\n00:59:46.630 --> 00:59:48.710\nit didn't create that shared folder for\nme.\n\n1237\n00:59:48.710 --> 00:59:50.370\nSo that is going to be a problem.\n\n1238\n00:59:50.370 --> 00:59:53.340\nMy active directory is going\nto be broken on this system.\n\n1239\n00:59:53.340 --> 00:59:56.100\nAnd that's why I'm not able\nto connect to it here.\n\n1240\n00:59:56.100 --> 01:00:00.900\nWhen I try and connect, let's give this\nanother shot, that domain controller is\n\n1241\n01:00:00.900 --> 01:00:05.930\nnot even in the list, and if I go here\nunder the domain controller's O.U.,\n\n1242\n01:00:05.930 --> 01:00:08.930\nwell, it actually shows there, so\nit at least did a partial promotion.\n\n1243\n01:00:11.990 --> 01:00:14.870\nLet's double check our site configuration,\nlet's see what it did.\n\n1244\n01:00:14.870 --> 01:00:17.600\nWe might just be missing the Sysvol\nfolder and that might be it.\n\n1245\n01:00:17.600 --> 01:00:19.750\nAnd if that's the case,\nthere's ways to rebuild that.\n\n1246\n01:00:20.920 --> 01:00:24.850\nLet's go into computer management,\nno, shoot, that's not what I wanted.\n\n1247\n01:00:24.850 --> 01:00:26.960\nI wanted active directory sites and\nservices.\n\n1248\n01:00:26.960 --> 01:00:29.340\nLet's see if we can add it in here.\n\n1249\n01:00:30.520 --> 01:00:35.095\nFor replication to occur between Domain\ncontrollers, active directory sites and\n\n1250\n01:00:35.095 --> 01:00:36.555\nservices where it defines all that.\n\n1251\n01:00:36.555 --> 01:00:38.705\nSo we have to have proper\nconnections defined there.\n\n1252\n01:00:38.705 --> 01:00:40.435\nIf these were missing then\nwe've got a real problem.\n\n1253\n01:00:42.407 --> 01:00:46.780\nAll right, so I just have one site right\nnow, the default for site name, and\n\n1254\n01:00:46.780 --> 01:00:49.000\ninside of that I should\nsee my two servers.\n\n1255\n01:00:50.015 --> 01:00:52.940\nWell, three cuz we have an old\none that doesn't exist any more.\n\n1256\n01:00:52.940 --> 01:00:57.171\nBut there it is, ITPROTV-LABDC and\nlet's just take a look at its replication\n\n1257\n01:00:57.171 --> 01:01:00.389\nconnections, which it has none,\nthat's not a good sign.\n\n1258\n01:01:05.443 --> 01:01:10.650\nAll right, so we have a classic case\nof unidirectional synchronization.\n\n1259\n01:01:10.650 --> 01:01:14.010\nSo, What I've got here,\nif we look at this.\n\n1260\n01:01:14.010 --> 01:01:16.400\nLet me zoom in so you guys can see\nthis a little better, all right.\n\n1261\n01:01:20.080 --> 01:01:21.790\nIf I look under servers and\n\n1262\n01:01:21.790 --> 01:01:25.820\nunder ITPROTV-DC2, that's our\nserver right here in the building.\n\n1263\n01:01:25.820 --> 01:01:27.480\nWhen I click on NTDS settings,\n\n1264\n01:01:27.480 --> 01:01:29.970\nit will show me the replication\nlinks that it's got.\n\n1265\n01:01:29.970 --> 01:01:31.422\nAnd I see a link.\n\n1266\n01:01:31.422 --> 01:01:37.500\nFrom ITPROTV-DC2 that's\nconnecting to ITPROTV-LABDC,\n\n1267\n01:01:37.500 --> 01:01:41.540\nso I'm sending data to LABDC, all right?\n\n1268\n01:01:41.540 --> 01:01:47.620\nBut if I look at LABDC,\nit has no connections, all right?\n\n1269\n01:01:47.620 --> 01:01:49.010\nSo there's no connection there.\n\n1270\n01:01:49.010 --> 01:01:49.960\nIt's missing.\n\n1271\n01:01:49.960 --> 01:01:51.680\nThat's gonna be a problem, all right?\n\n1272\n01:01:51.680 --> 01:01:56.140\nNow there's two possible\nsolutions to this, and one is,\n\n1273\n01:01:56.140 --> 01:02:00.300\nI may have just been impatient and jumped\nright in before it finished all it's work.\n\n1274\n01:02:00.300 --> 01:02:04.590\nThe other one is I might be able to\nreboot and it might fix these for me.\n\n1275\n01:02:04.590 --> 01:02:07.090\nIf those don't fix,\nthen I'm going to have to\n\n1276\n01:02:07.090 --> 01:02:10.250\ncorrect these myself before this domain\ncontroller will be functionable.\n\n1277\n01:02:10.250 --> 01:02:12.200\nRight now I do have a DC.\n\n1278\n01:02:12.200 --> 01:02:15.050\nIt's in the Azure data center but\nit's not a functional DC.\n\n1279\n01:02:15.050 --> 01:02:19.560\n>> So, then Don, so since this is\nall the active directory integrated,\n\n1280\n01:02:19.560 --> 01:02:24.320\nit's not like we have to go in and\nallow replication to something or\n\n1281\n01:02:24.320 --> 01:02:30.570\nto add this domain controller to some kind\nof, I don't know, allow list or anything.\n\n1282\n01:02:30.570 --> 01:02:33.201\nBecause it's all in the active\ndirectory integrated it should just\n\n1283\n01:02:33.201 --> 01:02:34.134\nbe automatic correct?\n\n1284\n01:02:34.134 --> 01:02:35.936\n>> it should be, right,\nit's supposed to be.\n\n1285\n01:02:35.936 --> 01:02:37.760\nThat's kind of our whole goal.\n\n1286\n01:02:37.760 --> 01:02:40.720\nBut there's always weird\nthings that can pop up.\n\n1287\n01:02:40.720 --> 01:02:42.210\nAn easy way for trouble shooting,\n\n1288\n01:02:42.210 --> 01:02:46.410\nif we go back into our server manager\nto active directory, directory services\n\n1289\n01:02:46.410 --> 01:02:49.850\nyou can filter to the events, and I can\nsee I've got quite a few errors in here.\n\n1290\n01:02:49.850 --> 01:02:51.150\nLet's see if we can spot some of these.\n\n1291\n01:02:51.150 --> 01:02:52.850\nThey're replication errors,\nwhich kind of makes sense.\n\n1292\n01:02:54.135 --> 01:02:57.340\nAnd if I double click, is it not going to.\n\n1293\n01:02:58.960 --> 01:03:00.240\nNo, that would be crazy talk.\n\n1294\n01:03:00.240 --> 01:03:03.670\nTo actually zoom in and\nshow me the nice big window.\n\n1295\n01:03:03.670 --> 01:03:08.150\nBut we can read in here, so let's see.\n\n1296\n01:03:08.150 --> 01:03:10.200\nMy partner is ITProTV-DC2.\n\n1297\n01:03:10.200 --> 01:03:11.430\nThe service will retry.\n\n1298\n01:03:11.430 --> 01:03:15.520\nThere are no more endpoints\navailable from the endpoint mapper.\n\n1299\n01:03:17.710 --> 01:03:22.630\nSo I'm trying to replicate but\napparently I'm having an issue there.\n\n1300\n01:03:23.640 --> 01:03:25.550\nEncountered an error\ncommunicating with partner for\n\n1301\n01:03:25.550 --> 01:03:28.590\nreplication group domain system volume.\n\n1302\n01:03:28.590 --> 01:03:31.820\nSo I'm not connecting to the system\nvolume on the server down here so this\n\n1303\n01:03:31.820 --> 01:03:36.130\nmight actually be a problem on our server\nhere in house and not the remote server.\n\n1304\n01:03:36.130 --> 01:03:39.030\nBasically what this error is\ntelling me is that we're trying to\n\n1305\n01:03:39.030 --> 01:03:42.500\nconnect to the server down here to\nreplicate some information, And\n\n1306\n01:03:42.500 --> 01:03:44.920\nwe're getting an error saying\nthere's no more endpoints.\n\n1307\n01:03:44.920 --> 01:03:46.630\nWe're not able to connect.\n\n1308\n01:03:46.630 --> 01:03:49.180\nSo it looks like we may\nactually have an issue here.\n\n1309\n01:03:50.940 --> 01:03:52.030\nSo, all right.\n\n1310\n01:03:52.030 --> 01:03:52.808\nSo we'll have to troubleshoot that.\n\n1311\n01:03:52.808 --> 01:03:54.057\nLet me just test here.\n\n1312\n01:03:54.057 --> 01:03:59.086\nI'm gonna try and browse\n\n1313\n01:03:59.086 --> 01:04:04.360\nto ITPROTV-DC2 [SOUND].\n\n1314\n01:04:04.360 --> 01:04:05.701\nI can get into the cis ball.\n\n1315\n01:04:05.701 --> 01:04:08.730\nSo this is the cis ball\ninto the server here.\n\n1316\n01:04:08.730 --> 01:04:10.340\nSo it looks like I can\nget there from Azure.\n\n1317\n01:04:10.340 --> 01:04:12.733\nSo that shouldn't be block, but\nit certainly looks that way.\n\n1318\n01:04:12.733 --> 01:04:14.188\nI'm gonna do this.\n\n1319\n01:04:14.188 --> 01:04:16.945\nI'm gonna do the old classic reboot,\nright?\n\n1320\n01:04:16.945 --> 01:04:18.342\n>> Mm-hm.\n>> Sometimes you reboot,\n\n1321\n01:04:18.342 --> 01:04:19.410\nand it, it takes care of that.\n\n1322\n01:04:19.410 --> 01:04:22.000\nSo it should've created that share,\nand set up our application, but\n\n1323\n01:04:22.000 --> 01:04:23.440\napparently it didn't.\n\n1324\n01:04:23.440 --> 01:04:27.170\nI'm also gonna make sure that I can\nstill ping that server from here.\n\n1325\n01:04:27.170 --> 01:04:28.818\nAnd I can, good.\n\n1326\n01:04:28.818 --> 01:04:33.240\nAll right, yep, let's give it a reboot and\nwe'll see what happens from there.\n\n1327\n01:04:33.240 --> 01:04:35.598\n>> Mm-hm.\n\n1328\n01:04:43.515 --> 01:04:44.903\n>> I know, I picked a-\n>> You, you picked a reason?\n\n1329\n01:04:44.903 --> 01:04:46.180\n[LAUGH]\n>> I just picked one at random.\n\n1330\n01:04:46.180 --> 01:04:47.913\nYou have to pick one, you know?\n\n1331\n01:04:47.913 --> 01:04:49.880\nOtherwise, it won't let you reboot.\n\n1332\n01:04:49.880 --> 01:04:53.715\nBut yeah, I just picked one at random.\n\n1333\n01:04:53.715 --> 01:04:54.236\n[LAUGH].\n>> Mm-hm.\n\n1334\n01:04:54.236 --> 01:04:56.987\n>> I, I know I'm never going to back in\nand look at the logs here and say, why,\n\n1335\n01:04:56.987 --> 01:04:59.175\nwhy did I reboot at that time\non that server that I deleted?\n\n1336\n01:04:59.175 --> 01:05:01.470\n[LAUGH]\n>> You know so\n\n1337\n01:05:01.470 --> 01:05:05.080\nthe other host here you know,\nMike Rodrick, that he's gone through and\n\n1338\n01:05:05.080 --> 01:05:10.550\ncreated the custom messages in in,\nin his test they had built up before.\n\n1339\n01:05:10.550 --> 01:05:12.490\nSo he'd create you know,\nthe little custom ones so\n\n1340\n01:05:12.490 --> 01:05:16.630\nthat he would select which reason that\nhe was rebooting a, a controller.\n\n1341\n01:05:16.630 --> 01:05:18.648\n>> And they were reasons like, who cares?\n\n1342\n01:05:18.648 --> 01:05:21.020\n>> [LAUGH]\n>> Never gonna look at this.\n\n1343\n01:05:21.020 --> 01:05:23.840\n>> I'm pretty sure that there\nwere like legit reasons.\n\n1344\n01:05:23.840 --> 01:05:24.380\n>> Yeah?\n\n1345\n01:05:24.380 --> 01:05:25.506\n>> You know?\n>> You know, it,\n\n1346\n01:05:25.506 --> 01:05:28.836\nin an environment where you have many\nIT people, those reasons are nice.\n\n1347\n01:05:28.836 --> 01:05:32.055\nBecause if somebody sees that a server\nhas rebooted, they can go and\n\n1348\n01:05:32.055 --> 01:05:35.004\nlook in the logs, and\nthey can see the reason why it rebooted.\n\n1349\n01:05:35.004 --> 01:05:38.173\nSo that,\nthat's kind of a nice feature to have.\n\n1350\n01:05:38.173 --> 01:05:42.477\nBut, if you don't use it, it's just\nkind of an annoyance, you know, that,\n\n1351\n01:05:42.477 --> 01:05:43.600\nto have that.\n\n1352\n01:05:43.600 --> 01:05:47.450\nAnd so there's actually a group policy\nsetting you can change that disables that,\n\n1353\n01:05:47.450 --> 01:05:50.220\nthat reboot confirmation\nthe shutdown message.\n\n1354\n01:05:50.220 --> 01:05:52.455\nAnd so you can turn that\noff if you don't like it.\n\n1355\n01:05:52.455 --> 01:05:53.120\n>> Mm-hm.\n\n1356\n01:05:53.120 --> 01:05:55.085\n>> I, I should turn it off,\nbut it was a new server, so.\n\n1357\n01:05:55.085 --> 01:05:56.380\n>> Mm-hm.\n>> All right, you know,\n\n1358\n01:05:56.380 --> 01:05:58.500\nwhile we're waiting on\nthat server to reboot,\n\n1359\n01:05:58.500 --> 01:06:03.830\nlet me just take a quick peek over at DC2,\nand see if there's any issues over here.\n\n1360\n01:06:05.320 --> 01:06:07.391\nI just want to see if.\n\n1361\n01:06:09.640 --> 01:06:12.391\nHm, where's my server manager?\n\n1362\n01:06:12.391 --> 01:06:16.719\n[LAUGH].\n\n1363\n01:06:16.719 --> 01:06:18.390\nThat's fun.\n\n1364\n01:06:18.390 --> 01:06:19.820\nSo my server manager is missing.\n\n1365\n01:06:19.820 --> 01:06:20.990\nNate, what have you done to this server?\n\n1366\n01:06:20.990 --> 01:06:22.059\n>> No, I haven't logged into it.\n\n1367\n01:06:23.080 --> 01:06:24.370\nIs, yeah.\n>> This is definitely not your\n\n1368\n01:06:24.370 --> 01:06:24.890\nfault, right?\n\n1369\n01:06:24.890 --> 01:06:25.784\nThis is.\n\n1370\n01:06:25.784 --> 01:06:26.910\n>> [LAUGH]\n>> Yeah.\n\n1371\n01:06:26.910 --> 01:06:27.920\nNo, you guys used it last.\n\n1372\n01:06:27.920 --> 01:06:28.550\nWhat'd you use it for?\n\n1373\n01:06:30.110 --> 01:06:31.070\n>> Shoot, you know what?\n\n1374\n01:06:31.070 --> 01:06:34.810\nThey were like, software restriction\npolicies and all those other things.\n\n1375\n01:06:34.810 --> 01:06:36.480\nI will bet that this server is broken.\n\n1376\n01:06:36.480 --> 01:06:40.310\nYeah, so, you know, our domain controller\nup in the Azure cloud is up, and\n\n1377\n01:06:40.310 --> 01:06:40.900\nit's happy.\n\n1378\n01:06:40.900 --> 01:06:43.160\nBut I'm connecting to this server,\nand this server's got some problems.\n\n1379\n01:06:43.160 --> 01:06:46.070\nMy server manager is missing and,\nand yeah,\n\n1380\n01:06:46.070 --> 01:06:49.910\nit is just not, not quite what I want.\n\n1381\n01:06:49.910 --> 01:06:51.855\nAnd, you know, let's.\n\n1382\n01:06:51.855 --> 01:06:52.749\n[LAUGH].\n\n1383\n01:06:52.749 --> 01:06:54.650\n>> [LAUGH]\n>> All right.\n\n1384\n01:06:54.650 --> 01:06:59.132\n>> Is this, is this for, where we revisit\nthat thing where I was supposed to write\n\n1385\n01:06:59.132 --> 01:07:02.000\nwrite that thing to roll back\nto the snapshot before it.\n\n1386\n01:07:02.000 --> 01:07:03.477\n>> Yeah, where's your,\ndid you do a change ticket?\n\n1387\n01:07:03.477 --> 01:07:05.090\n>> [LAUGH]\n>> Where, where's the change ticket?\n\n1388\n01:07:05.090 --> 01:07:06.690\nAnd we can look at what you changed.\n\n1389\n01:07:06.690 --> 01:07:09.105\n>> Yes.\n>> And kinda sort it from there.\n\n1390\n01:07:09.105 --> 01:07:10.240\n[LAUGH].\n\n1391\n01:07:10.240 --> 01:07:13.400\nAll right, well, anyhow, you know, I,\nI'm not too terribly worried about it.\n\n1392\n01:07:13.400 --> 01:07:15.642\nIt's the, the process though is,\nis, is done.\n\n1393\n01:07:15.642 --> 01:07:18.240\nWe've brought up that domain\ncontrol on the other side.\n\n1394\n01:07:18.240 --> 01:07:21.620\nIt is up, I am able to log\nin with my domain account.\n\n1395\n01:07:21.620 --> 01:07:24.990\nSo it, it did replicate, it's just,\nyou know, having a problem with,\n\n1396\n01:07:24.990 --> 01:07:26.870\nwith continuing that connection.\n\n1397\n01:07:26.870 --> 01:07:29.500\nSo, so it is up,\nit is a domain controller.\n\n1398\n01:07:29.500 --> 01:07:32.440\nIf your domain controllers\ndown here are not broken,\n\n1399\n01:07:32.440 --> 01:07:34.670\nthen the domain controllers\nup there will work just fine.\n\n1400\n01:07:34.670 --> 01:07:37.580\nPoint being, we have a VPN\ntunnel between here and there.\n\n1401\n01:07:37.580 --> 01:07:41.200\nWe now have DCs up there,\nand a DC down here.\n\n1402\n01:07:41.200 --> 01:07:44.580\nThe only other step,\nthe only other thing that we need to do\n\n1403\n01:07:44.580 --> 01:07:48.230\nis to configure our\nActive Directory Sites and Services, so\n\n1404\n01:07:48.230 --> 01:07:51.310\nthat we can minimize the amount of\nreplication between here and there.\n\n1405\n01:07:51.310 --> 01:07:55.440\nIf we leave it the way it is with\nthe default site, anytime we make a change\n\n1406\n01:07:55.440 --> 01:07:58.100\nit's gonna immediately replicate\nthat up to the other side.\n\n1407\n01:07:58.100 --> 01:08:01.360\nSo we just need to go into our sites and\nseparate those out.\n\n1408\n01:08:01.360 --> 01:08:02.760\nIt's really not a, a big deal.\n\n1409\n01:08:02.760 --> 01:08:05.120\nAnd you know, I'm,\nI'm kind of waiting on that system.\n\n1410\n01:08:05.120 --> 01:08:08.400\nBut I can do it down here on our local DC.\n\n1411\n01:08:08.400 --> 01:08:10.655\nIf we go into Active Directory Sites and\nServices.\n\n1412\n01:08:10.655 --> 01:08:13.340\n>> Hm-hm.\n\n1413\n01:08:13.340 --> 01:08:17.658\n>> And in here, what I'll do is I'll take\nthat default site name, and you know, the,\n\n1414\n01:08:17.658 --> 01:08:22.510\nthe default first site has that really\ngeneric name, Default First Site.\n\n1415\n01:08:22.510 --> 01:08:28.170\nAnd so I might wanna rename that, and I'll\ncall that the IT Pro TV Studio, right?\n\n1416\n01:08:28.170 --> 01:08:30.580\nSo that's right here in the studio.\n\n1417\n01:08:30.580 --> 01:08:34.460\nAnd I'll create another\nsite which I will call\n\n1418\n01:08:34.460 --> 01:08:41.170\nthe Windows Azure, all right?\n\n1419\n01:08:41.170 --> 01:08:43.298\nAnd it replicates via IP,\nit's my only choice.\n\n1420\n01:08:43.298 --> 01:08:44.777\n>> Mm-hm.\n\n1421\n01:08:44.777 --> 01:08:49.098\n>> And it can't have a space,\nso I'll make that a hyphen.\n\n1422\n01:08:51.765 --> 01:08:54.865\nOkay, all right, so\nnow I've got two sites.\n\n1423\n01:08:54.865 --> 01:08:55.410\n>> Mm-hm.\n\n1424\n01:08:55.410 --> 01:09:00.750\n>> Then I can take my server,\nIT Pro TV lab DC, and\n\n1425\n01:09:00.750 --> 01:09:06.000\nI can move it to the Windows Azure site,\nalright.\n\n1426\n01:09:06.000 --> 01:09:11.200\nSo now I've got some servers here,\nand some servers in Windows Azure.\n\n1427\n01:09:11.200 --> 01:09:14.830\nThe only other thing I need to\ndo is to adjust my IP subnets.\n\n1428\n01:09:14.830 --> 01:09:19.126\nSo up here I can define my subnets and\nso I've got a subnet of\n\n1429\n01:09:19.126 --> 01:09:24.250\n10.1.230.0 slash 24 here in the studio.\n\n1430\n01:09:26.270 --> 01:09:27.980\nHm, all right.\n\n1431\n01:09:27.980 --> 01:09:32.850\nAnd I've got a subnet of\n172.16.0.0/16 up in Windows Azure.\n\n1432\n01:09:35.180 --> 01:09:41.270\nAnd now, whenever I spin up a server or\na workstation,\n\n1433\n01:09:41.270 --> 01:09:45.760\nif they have an IP address of 10.1.230,\nthey'll try and authenticate against\n\n1434\n01:09:45.760 --> 01:09:50.910\na server here first, unless none is\navailable, and then they'll go to Azure.\n\n1435\n01:09:50.910 --> 01:09:53.205\nBut if I spin up a system\nin Windows Azure,\n\n1436\n01:09:53.205 --> 01:09:56.941\nit'll get an IP address\nof 172.16.something.\n\n1437\n01:09:56.941 --> 01:10:00.210\nAnd it'll authenticate from a DC there,\nup in Windows Azure,\n\n1438\n01:10:00.210 --> 01:10:02.760\nin what's known as available,\nand then they'll come down here.\n\n1439\n01:10:02.760 --> 01:10:05.440\nSo, it keeps people\nauthenticating locally.\n\n1440\n01:10:05.440 --> 01:10:09.480\nIt's a good idea to define this, get it\nin place, and then you're in business.\n\n1441\n01:10:09.480 --> 01:10:09.998\n>> Hm, mm-hm.\n\n1442\n01:10:09.998 --> 01:10:12.070\n>> All right, so\nthat's really the last step.\n\n1443\n01:10:12.070 --> 01:10:16.049\nWell, the last step for\nus is to fix IT Pro TV DC2 the one here.\n\n1444\n01:10:16.049 --> 01:10:17.847\n>> [LAUGH]\n>> But you know, assuming our,\n\n1445\n01:10:17.847 --> 01:10:21.545\nour local DC wasn't, wasn't host,\nthen then at this point, we, we'd be done.\n\n1446\n01:10:21.545 --> 01:10:24.920\nWe'd have a DC up there,\nfully functional, DC down here.\n\n1447\n01:10:24.920 --> 01:10:27.720\nAs you make changes,\nthey replicate up and back.\n\n1448\n01:10:27.720 --> 01:10:28.680\nEverybody's happy, right?\n\n1449\n01:10:28.680 --> 01:10:32.890\nWe now have a functional domain\nextension into Windows Azure.\n\n1450\n01:10:32.890 --> 01:10:33.800\n>> Mm-hm.\n\n1451\n01:10:33.800 --> 01:10:34.330\nNice.\n\n1452\n01:10:34.330 --> 01:10:37.060\nThere we go.\nSo now, now we are in the cloud.\n\n1453\n01:10:37.060 --> 01:10:37.660\n>> Yeah, yeah.\n\n1454\n01:10:37.660 --> 01:10:38.380\n>> Mmhm.\n\n1455\n01:10:38.380 --> 01:10:41.380\n>> Now, I'll be honest with you guys, we\njust did three segments on Windows Azure.\n\n1456\n01:10:41.380 --> 01:10:44.500\nIt's way more than what Microsoft\nwants you to know on the exam.\n\n1457\n01:10:44.500 --> 01:10:47.980\nOn the exam what they're really concerned\nwith you understanding is that if you put\n\n1458\n01:10:47.980 --> 01:10:52.190\na DC in Windows Azure,\nit needs to be on a private network, and\n\n1459\n01:10:52.190 --> 01:10:55.830\nit needs to have a VPN connection down\nto your local network to communicate.\n\n1460\n01:10:55.830 --> 01:10:57.940\nIt needs to be secure.\n\n1461\n01:10:57.940 --> 01:10:59.640\nThat's the important part.\n\n1462\n01:10:59.640 --> 01:11:03.100\nDon't just throw it on a Windows Azure\nbox, cuz it's gonna be public, right?\n\n1463\n01:11:03.100 --> 01:11:05.590\nYou gotta define that network first and\ncreate a VPN,\n\n1464\n01:11:05.590 --> 01:11:07.060\nwhat we did in the beginning of the show.\n\n1465\n01:11:07.060 --> 01:11:08.490\nThat's the key component.\n\n1466\n01:11:08.490 --> 01:11:10.050\nAfter that,\nit's a normal domain controller.\n\n1467\n01:11:10.050 --> 01:11:12.780\nYou just promote it,\nput it into a site, and off you go.\n\n1468\n01:11:12.780 --> 01:11:13.600\nYou're in business, right?\n\n1469\n01:11:13.600 --> 01:11:14.334\nSo pretty straight forward.\n\n1470\n01:11:14.334 --> 01:11:16.560\n>> Mm-hm, nice.\n\n1471\n01:11:16.560 --> 01:11:17.400\nSounds good Dawn.\n\n1472\n01:11:17.400 --> 01:11:21.045\n>> All right any other pearls of wisdom\nwe want to impart upon our viewers?\n\n1473\n01:11:21.045 --> 01:11:22.420\n>> No, you know it was,\n\n1474\n01:11:22.420 --> 01:11:26.150\nactually it wasn't that painless of\na of a a step to go in there, you know?\n\n1475\n01:11:26.150 --> 01:11:30.170\nI, I think that you know, perhaps if,\nif you wanted to branch off whatever into\n\n1476\n01:11:30.170 --> 01:11:35.834\nWindows Azure, that that you could consult\nme and I could advise on the the steps.\n\n1477\n01:11:35.834 --> 01:11:36.450\n>> [LAUGH]\n>> And\n\n1478\n01:11:36.450 --> 01:11:39.230\nthe planning necessary to\nexpand into the cloud.\n\n1479\n01:11:39.230 --> 01:11:40.385\n>> Well, good to know, so.\n\n1480\n01:11:40.385 --> 01:11:42.560\n[LAUGH]\n>> [LAUGH]\n\n1481\n01:11:42.560 --> 01:11:44.530\n>> All right, well, as always,\n\n1482\n01:11:44.530 --> 01:11:49.100\nif you guys have any questions live during\nthe show, you can go to ITPro.TV/live.\n\n1483\n01:11:49.100 --> 01:11:52.600\nYou can post your questions in\nthe chat room right beneath the video.\n\n1484\n01:11:52.600 --> 01:11:54.600\nWe monitor and answer during the show.\n\n1485\n01:11:54.600 --> 01:11:57.630\nIf you have questions after the show,\nif you're watching this recorded, for\n\n1486\n01:11:57.630 --> 01:12:00.470\nexample, then on the top of\nall of our ITPro TV pages,\n\n1487\n01:12:00.470 --> 01:12:01.770\nthere's a link that says Q&A.\n\n1488\n01:12:01.770 --> 01:12:03.350\nYou can click on that.\n\n1489\n01:12:03.350 --> 01:12:05.160\nIt'll take you to the Question and\nAnswers page.\n\n1490\n01:12:05.160 --> 01:12:06.100\nPost your questions there.\n\n1491\n01:12:06.100 --> 01:12:07.150\nWe monitor and answer.\n\n1492\n01:12:07.150 --> 01:12:09.590\nRonny and I have a bit of a contest\ngoing right now who can get the most\n\n1493\n01:12:09.590 --> 01:12:10.650\npoints answering.\n\n1494\n01:12:10.650 --> 01:12:12.596\nNate, you're too far\nbehind to even compete.\n\n1495\n01:12:12.596 --> 01:12:13.209\n>> Yeah, I know.\n>> So.\n\n1496\n01:12:13.209 --> 01:12:15.870\n[LAUGH].\nSo, so so definitely jump in there,\n\n1497\n01:12:15.870 --> 01:12:17.110\nwe love to answer your questions, and\n\n1498\n01:12:17.110 --> 01:12:20.215\nmake sure that you get the information\nyou need to be successful.\n\n1499\n01:12:20.215 --> 01:12:21.540\n>> Mm-hm.\n\n1500\n01:12:21.540 --> 01:12:23.190\n>> All right,\nwell I hope you guys enjoyed the show.\n\n1501\n01:12:23.190 --> 01:12:26.280\nSigning off for IT Pro TV, I'm Don Pezet.\n\n1502\n01:12:26.280 --> 01:12:27.440\n>> And I'm Nathan Copeland.\n\n1503\n01:12:27.440 --> 01:12:29.056\n>> And we'll see you next time.\n\n1504\n01:12:29.056 --> 01:12:32.839\n[MUSIC]\n\n",
          "vimeoId": "87767067"
        }
      ],
      "title": "Install and administer Active Directory"
    },
    {
      "episodes": [
        {
          "description": "In this episode, Daniel and Mike work with ADMX/ADML files and show how to configure a central store, as well as show how to import administrative templates. Then they discuss using starter GPOs.",
          "length": "1730",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-16-1-create_group_policy_objects-072215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-16-1-create_group_policy_objects-072215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-16-1-create_group_policy_objects-072215-1-sm.jpg",
          "title": "Create Group Policy Objects",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.228 --> 00:00:14.681\nGreetings everyone and welcome to\nanother great episode of ITProTV.\n\n3\n00:00:14.681 --> 00:00:19.100\nI'm your host Daniel Larry and here with\nme today is none other than Mike Rodrick.\n\n4\n00:00:19.100 --> 00:00:19.920\nHow's it going today Mike?\n\n5\n00:00:19.920 --> 00:00:21.410\n>> It's going fantastic Daniel.\n\n6\n00:00:21.410 --> 00:00:25.680\nWe are going to be talking about\ngroup policy, I guess in a way.\n\n7\n00:00:25.680 --> 00:00:30.580\nThis is a in 74 tenor, in this particular\nexam, we're looking at group policy but\n\n8\n00:00:30.580 --> 00:00:32.280\nkind of at a high level, right?\n\n9\n00:00:32.280 --> 00:00:37.005\nIn our next set of shows,\nwe get into that next MCSA exam,\n\n10\n00:00:37.005 --> 00:00:39.350\nwe'll take a much closer\nlook at group policies.\n\n11\n00:00:39.350 --> 00:00:40.310\nThis is a.\n\n12\n00:00:40.310 --> 00:00:43.050\nAnd this is a high level overview,\nbut great information none the less.\n\n13\n00:00:43.050 --> 00:00:43.870\nReally exciting stuff.\n\n14\n00:00:43.870 --> 00:00:47.250\nI think I love group policy,\nbecause this is where the power comes in.\n\n15\n00:00:47.250 --> 00:00:52.060\nThis is what allows me to centralize\nthe administration on my network, right?\n\n16\n00:00:52.060 --> 00:00:52.670\n>> Oh, yeah, yeah,\n\n17\n00:00:52.670 --> 00:00:57.540\nthis is where the real control comes in,\nin a Microsoft Windows server environment.\n\n18\n00:00:57.540 --> 00:01:02.080\nBeing able to use group policy to\nset basically any security settings,\n\n19\n00:01:02.080 --> 00:01:03.990\ndesktop settings, user settings.\n\n20\n00:01:03.990 --> 00:01:09.100\nLet me just go ahead and warn you,\nthere are multitudes upon multitudes\n\n21\n00:01:09.100 --> 00:01:12.000\nof different types of settings\nthat you can use in group policy.\n\n22\n00:01:12.000 --> 00:01:16.350\nAnd I remember one of my favorite\nlittle stories about group policy was,\n\n23\n00:01:16.350 --> 00:01:19.970\nI had one of our old instructors back\nin the place Mike and I actually\n\n24\n00:01:19.970 --> 00:01:24.770\nused to work together before this, and he\nhad tried to play around with my desktop.\n\n25\n00:01:24.770 --> 00:01:25.660\nWell it didn't actually work.\n\n26\n00:01:25.660 --> 00:01:29.388\nAnd he was gonna get into a real war with\nme, and I said I've got two words for you.\n\n27\n00:01:29.388 --> 00:01:29.905\nGroup.\n\n28\n00:01:29.905 --> 00:01:30.524\nPolicy.\n\n29\n00:01:30.524 --> 00:01:33.475\n>> [LAUGH]\n>> He said, you win, and walked away.\n\n30\n00:01:33.475 --> 00:01:35.390\n>> [LAUGH]\n>> So if that lets you know up to\n\n31\n00:01:35.390 --> 00:01:40.930\nthe level and scope of which you'll have\ncontrol, then hopefull I've done my job.\n\n32\n00:01:40.930 --> 00:01:43.140\n>> And\neverything he said is absolutely true.\n\n33\n00:01:43.140 --> 00:01:47.060\nThere are thousands and thousands\nof settings in there, and you can\n\n34\n00:01:47.060 --> 00:01:51.560\nconfigure just about any setting you can\nthink of, almost, using group policy.\n\n35\n00:01:51.560 --> 00:01:55.540\nAnd its fantastic, because its what we'll\ncall centralized configuration management.\n\n36\n00:01:55.540 --> 00:01:58.800\nI don't want to have to run around,\nif I've got thousands of machines\n\n37\n00:01:58.800 --> 00:02:02.030\naround my network, they may not all\nbe in the same physical location,\n\n38\n00:02:02.030 --> 00:02:04.300\nI don't need to run around and\ntouch every one of them.\n\n39\n00:02:04.300 --> 00:02:06.680\nI can do it from right\nhere with group policy.\n\n40\n00:02:06.680 --> 00:02:08.870\nSo let's take our first\nlook at group policy.\n\n41\n00:02:08.870 --> 00:02:12.070\nOne of the first things that I want to\ntalk about that they call out in this\n\n42\n00:02:12.070 --> 00:02:15.440\nparticular set of objectives is\nsomething known as a central store.\n\n43\n00:02:15.440 --> 00:02:19.270\nAnd we need a little bit of background\ninformation before we dive into that,\n\n44\n00:02:19.270 --> 00:02:20.390\nbut let's just take a look.\n\n45\n00:02:20.390 --> 00:02:23.790\nWhat I've gonna do on my domain\ncontrol here is I'm gonna open up my\n\n46\n00:02:23.790 --> 00:02:25.180\ngroup policy management console.\n\n47\n00:02:27.030 --> 00:02:29.730\nAnd this is where you work with\ngroup policy, hence the name,\n\n48\n00:02:29.730 --> 00:02:31.110\ngroup policy management.\n\n49\n00:02:31.110 --> 00:02:34.920\nI'm going to expand out my forest over\nhere, and expand out domains, and\n\n50\n00:02:34.920 --> 00:02:39.060\nexpand out my particular domain\nthat i want to work with, lab.net.\n\n51\n00:02:39.060 --> 00:02:41.220\nAnd I want to take a look at,\n\n52\n00:02:41.220 --> 00:02:45.100\ni'm just going to use this default\ndomain policy as my example.\n\n53\n00:02:45.100 --> 00:02:46.440\nAnd I just right clicked on it and\nchose Edit.\n\n54\n00:02:46.440 --> 00:02:48.380\nAnd again,\ndon't worry about some of this stuff,\n\n55\n00:02:48.380 --> 00:02:53.370\nit's gonna be covered in much more detail\nin later episodes and in another series.\n\n56\n00:02:53.370 --> 00:02:57.150\nWhat I want to show you though,\nis when I expand my way down through here,\n\n57\n00:02:57.150 --> 00:03:00.190\nthere's a node known as\nthe administrative templates.\n\n58\n00:03:00.190 --> 00:03:02.950\nThese administrative templates, these\n\n59\n00:03:02.950 --> 00:03:07.990\nare settings that you can configure in\nthe registry on your different machines.\n\n60\n00:03:07.990 --> 00:03:11.660\nYou can see categories like control panel,\nand server, and\n\n61\n00:03:11.660 --> 00:03:14.820\nstart menu, there's also\nadministrative templates down here.\n\n62\n00:03:14.820 --> 00:03:17.610\nThis is the computer configuration,\nthese would be settings that\n\n63\n00:03:17.610 --> 00:03:22.100\napply to the computer itself, down here\nat the bottom, I have user configuration.\n\n64\n00:03:22.100 --> 00:03:26.506\nThere's also administrative templates\ndown here where I can apply to\n\n65\n00:03:26.506 --> 00:03:29.053\nthe users are logging onto the machine.\n\n66\n00:03:29.053 --> 00:03:33.865\nAnd just as a quick example, it's showing\nyou what Daniel was talking about.\n\n67\n00:03:33.865 --> 00:03:37.437\nIf I go to All Settngs up here,\nI can see down on the bottom for corner,\n\n68\n00:03:37.437 --> 00:03:38.989\n1,984 settings there.\n\n69\n00:03:38.989 --> 00:03:40.771\nAnd that's just the computer half.\n\n70\n00:03:40.771 --> 00:03:44.650\nAnd then you go to the user half and\nyou've got another 1,500 settings.\n\n71\n00:03:44.650 --> 00:03:48.420\nSo there's roughly 3,500 settings or\nso, and that's just what comes with it.\n\n72\n00:03:48.420 --> 00:03:49.090\nYou can go out and\n\n73\n00:03:49.090 --> 00:03:52.720\nimport more, which I'm gonna show\nyou how to do in just a little bit.\n\n74\n00:03:52.720 --> 00:03:55.340\nBut again,\nthat's not really what we're here to see.\n\n75\n00:03:55.340 --> 00:04:01.220\nWhat I want to show you is when I\nhover over administrative templates,\n\n76\n00:04:01.220 --> 00:04:04.540\nyou're gonna see it says,\npolicy definitions,\n\n77\n00:04:04.540 --> 00:04:10.000\nADMX files tetrieve from\nthe local computet.\n\n78\n00:04:10.000 --> 00:04:12.420\nAnd that's something that\nwe wanna pay attention to.\n\n79\n00:04:12.420 --> 00:04:13.890\nPut that in the back\nof your brain just for\n\n80\n00:04:13.890 --> 00:04:16.390\na second,\ncuz we're gonna come back to that.\n\n81\n00:04:16.390 --> 00:04:20.510\nFirst I'm gonna show you what the heck\nthese ADMX files are all about.\n\n82\n00:04:20.510 --> 00:04:24.550\nSo I'm just gonna close Group Policy for\nnow.\n\n83\n00:04:24.550 --> 00:04:26.470\nAnd I'm gonna open up File Explorer.\n\n84\n00:04:28.210 --> 00:04:34.280\nAnd I'm gonna navigate it to C: Windows,\nand then PolicyDefinitions.\n\n85\n00:04:35.570 --> 00:04:37.160\nIn here is a slew of files.\n\n86\n00:04:37.160 --> 00:04:41.930\nYou can see I've got a pretty good scroll\nbar over there on the side of this window.\n\n87\n00:04:41.930 --> 00:04:45.320\nAnd notice these are all ADMX extensions.\n\n88\n00:04:45.320 --> 00:04:49.070\nThese are the administrative templates,\nis what they're called, and\n\n89\n00:04:49.070 --> 00:04:52.310\nthese are the files that give\nus all of those settings.\n\n90\n00:04:52.310 --> 00:04:56.730\nAnd it's important to see how these work,\ncuz it's changed since 2008.\n\n91\n00:04:56.730 --> 00:05:01.210\nPrior to 2008 we had ADML files,\nor I'm sorry, ADM files.\n\n92\n00:05:01.210 --> 00:05:04.885\nThat's what the administrative\ntemplates were comprised of.\n\n93\n00:05:04.885 --> 00:05:09.330\nThere's a single file for each one of\nthese, and ADM file instead of ADMX.\n\n94\n00:05:09.330 --> 00:05:12.230\nAnd they were difficult to work with.\n\n95\n00:05:12.230 --> 00:05:15.190\nYou know, it was written in a language\nthat was very difficult to go in and\n\n96\n00:05:15.190 --> 00:05:17.400\nmodify or make changes.\n\n97\n00:05:17.400 --> 00:05:18.630\nThey weren't easy to work with.\n\n98\n00:05:18.630 --> 00:05:23.360\nStarting with 2008, they changed\nthe system to this ADMX and ADML file.\n\n99\n00:05:23.360 --> 00:05:26.450\nThere's now actually two parts\nto each one of these files.\n\n100\n00:05:26.450 --> 00:05:27.890\nAnd let me show you what I mean.\n\n101\n00:05:27.890 --> 00:05:30.025\nIf I find a, let's do this one right here.\n\n102\n00:05:30.025 --> 00:05:32.010\nControlPanelDisplay.admx.\n\n103\n00:05:32.010 --> 00:05:35.270\nAll right,\nI'm gonna double-click on it, and\n\n104\n00:05:35.270 --> 00:05:38.030\nI'm just gonna use\nNotepad to open this up.\n\n105\n00:05:38.030 --> 00:05:39.790\nIt is an XML file, right?\n\n106\n00:05:39.790 --> 00:05:42.950\nHence that X on the end of it,\nADMX for XML.\n\n107\n00:05:42.950 --> 00:05:47.295\nAnd if we look in here, I can find\nthings like, what's a good one here?\n\n108\n00:05:47.295 --> 00:05:48.730\nCPL_Display_Disable.\n\n109\n00:05:48.730 --> 00:05:52.530\nYou can see this policy name right here.\n\n110\n00:05:52.530 --> 00:05:57.208\nAnd it says, the displayName=,\nand it's this crazy variable,\n\n111\n00:05:57.208 --> 00:06:00.314\n$(string.CPL_Display_Disable).\n\n112\n00:06:00.314 --> 00:06:04.955\nThe explain text,\n$(string.CPL_Display_Disable_Help).\n\n113\n00:06:04.955 --> 00:06:08.660\nAnd then, below that is the actual key.\n\n114\n00:06:08.660 --> 00:06:09.620\nThis is what tells it.\n\n115\n00:06:09.620 --> 00:06:13.132\nIf I go into a group policy, and\nI choose to enable the setting,\n\n116\n00:06:13.132 --> 00:06:16.520\ndisable the display settings\nin the control panel.\n\n117\n00:06:16.520 --> 00:06:19.960\nHow does group policy know\nwhat to change in the registry\n\n118\n00:06:19.960 --> 00:06:22.160\non the machines the policy is applying to?\n\n119\n00:06:22.160 --> 00:06:23.340\nThis is how it knows.\n\n120\n00:06:23.340 --> 00:06:28.693\nIt's saying hey, go find the key\nSoftware\\Microsoft\\Windows\\CurrentVersion-\n\n121\n00:06:28.693 --> 00:06:34.310\n\\Policies\\System, and\nset that key to a value of NodeDispCPO.\n\n122\n00:06:35.665 --> 00:06:39.425\nSo these are basically\nthe instructions on how to apply\n\n123\n00:06:39.425 --> 00:06:40.975\nthe group policy setting, right?\n\n124\n00:06:40.975 --> 00:06:43.825\nSo when that policy gets applied to\nthat local machine, it says, oh,\n\n125\n00:06:43.825 --> 00:06:46.955\nI'm supposed to go into the registry and\nchange this key.\n\n126\n00:06:46.955 --> 00:06:50.535\nBut notice there's no actual\nhealp information here.\n\n127\n00:06:50.535 --> 00:06:53.521\nThat all comes, I'm gonna close this file.\n\n128\n00:06:53.521 --> 00:06:57.740\nRemember, this was\nControlPanelDisplay.admx.\n\n129\n00:06:57.740 --> 00:06:59.170\nI'm gonna close that.\n\n130\n00:06:59.170 --> 00:07:05.380\nI'm gonna jump into this en-US folder, and\nI'm gonna find ControlPanelDisplay.adml.\n\n131\n00:07:05.380 --> 00:07:09.090\nSo this is the counterpart\nfile to that ADMX file.\n\n132\n00:07:09.090 --> 00:07:13.490\nIt's also written in XML, and\nI'm gonna open it up with Notepad, and\n\n133\n00:07:13.490 --> 00:07:15.290\nI'm gonna find that same thing.\n\n134\n00:07:15.290 --> 00:07:18.470\nRight here it is, CPL_Display_Disable.\n\n135\n00:07:18.470 --> 00:07:21.550\nThis is the string that,\nthat other one was calling.\n\n136\n00:07:22.550 --> 00:07:25.530\nSo in that other one it said,\nhey, go find for the title.\n\n137\n00:07:25.530 --> 00:07:27.050\nGo find this string.\n\n138\n00:07:27.050 --> 00:07:31.180\nAnd there's the actual string,\ndisable the display control panel.\n\n139\n00:07:31.180 --> 00:07:35.880\nAnd then it called this one,\nstring ID CPL display disable help.\n\n140\n00:07:35.880 --> 00:07:40.960\nHere's the actual help that's gonna show\nup when we're editing that group policy,\n\n141\n00:07:40.960 --> 00:07:42.400\nthe instructions.\n\n142\n00:07:42.400 --> 00:07:43.112\nAnd I'll show you that.\n\n143\n00:07:43.112 --> 00:07:46.550\nSo, but what I want you to see right now\nis, they're separate from each other.\n\n144\n00:07:46.550 --> 00:07:48.815\nSo the setting versus the language.\n\n145\n00:07:48.815 --> 00:07:49.949\nAnd the reason this is so\n\n146\n00:07:49.949 --> 00:07:53.296\nbeneficial is because, let's say\nI've got an office in Madrid, and\n\n147\n00:07:53.296 --> 00:07:57.056\nthe administrators over there would love\nto be able to work with group policy.\n\n148\n00:07:57.056 --> 00:07:59.401\nBut Spanish is their primary language,\nright?\n\n149\n00:07:59.401 --> 00:08:03.396\nIt would be nice if they opened up a group\npolicy and all the explain text and\n\n150\n00:08:03.396 --> 00:08:05.230\neverything was in Spanish.\n\n151\n00:08:05.230 --> 00:08:06.040\nWell we can do that.\n\n152\n00:08:06.040 --> 00:08:08.050\nWe can just swap out those ADML files.\n\n153\n00:08:08.050 --> 00:08:12.570\nWe can go get the ESP or whatever they\ncall their their Spanish set of files and\n\n154\n00:08:12.570 --> 00:08:13.490\nswap those out.\n\n155\n00:08:13.490 --> 00:08:14.720\nThe setting itself doesn't change.\n\n156\n00:08:14.720 --> 00:08:15.790\nRight?\nThe key that it needs to\n\n157\n00:08:15.790 --> 00:08:19.800\nchange in the registry doesn't change\njust because I changed the language.\n\n158\n00:08:19.800 --> 00:08:23.680\nSo, the admx files are what\nwe call language independent.\n\n159\n00:08:23.680 --> 00:08:27.230\nAnd you can easily change the language\nthat's being used when you open up that\n\n160\n00:08:27.230 --> 00:08:31.830\nconsole just by getting a new set of\nADML files and importing those in there.\n\n161\n00:08:31.830 --> 00:08:33.280\nSo very, very cool.\n\n162\n00:08:33.280 --> 00:08:36.230\nAnd because it's XML,\nit's very easy to work with.\n\n163\n00:08:36.230 --> 00:08:37.600\nYou see I opened it up with Notepad.\n\n164\n00:08:37.600 --> 00:08:39.240\nI can come in here and change this.\n\n165\n00:08:39.240 --> 00:08:41.440\nIf I wanted to goof with\nmy fellow administrators,\n\n166\n00:08:41.440 --> 00:08:43.660\nwhen they looked at the explain text,\nI could put.\n\n167\n00:08:43.660 --> 00:08:45.170\nMike was here, right?\n\n168\n00:08:45.170 --> 00:08:47.230\nSo you could do little\nEaster eggs like that.\n\n169\n00:08:47.230 --> 00:08:48.610\nNo, that's not what it's for.\n\n170\n00:08:48.610 --> 00:08:52.580\nThe point is though,\nit's very easy to edit these files.\n\n171\n00:08:52.580 --> 00:08:55.940\nAll right, so that's the ADMX and\nthe ADML files,\n\n172\n00:08:55.940 --> 00:09:01.610\nagain located c:windows policydefinitions.\n\n173\n00:09:01.610 --> 00:09:08.130\nNow, with these files, it's easy to edit\nthem, but we have an issue with this.\n\n174\n00:09:08.130 --> 00:09:12.280\nNotice, I told you where they're located,\nc:windows/policydefinitions.\n\n175\n00:09:12.280 --> 00:09:17.210\nWell I also said that I can go out and\nI can get new ADMX and ADML files.\n\n176\n00:09:17.210 --> 00:09:20.490\nI'm gonna show you an example of\nthat here in just a little bit.\n\n177\n00:09:20.490 --> 00:09:23.750\nBut I can import new ADMX and ADML files.\n\n178\n00:09:23.750 --> 00:09:26.440\nI can extend the functionality\nof group policy.\n\n179\n00:09:26.440 --> 00:09:28.780\nI can write my own ADMX files and\n\n180\n00:09:28.780 --> 00:09:32.080\nmaybe I wanna change a certain\nregistry value to something.\n\n181\n00:09:32.080 --> 00:09:35.140\nI can actually create\na new setting myself.\n\n182\n00:09:35.140 --> 00:09:37.900\nAdd that file in there and\nit will show up in group policy.\n\n183\n00:09:37.900 --> 00:09:39.880\nSo you can really extend\nthe functionality,\n\n184\n00:09:39.880 --> 00:09:43.410\nit's fantastic but it's local right?\n\n185\n00:09:43.410 --> 00:09:46.735\nThis domain control, if I go in here and\nedit one of these files or\n\n186\n00:09:46.735 --> 00:09:50.760\nimport some new ADMX and\nADML files on this domain controller.\n\n187\n00:09:50.760 --> 00:09:52.130\nIt's the only one that has it.\n\n188\n00:09:52.130 --> 00:09:54.200\nAll the other machines don't have it.\n\n189\n00:09:54.200 --> 00:09:58.940\nIn fact every Windows machine has\nit's own copy of these files.\n\n190\n00:09:58.940 --> 00:10:01.110\nCheck this out,\nif I go back over to client one,\n\n191\n00:10:01.110 --> 00:10:04.570\nso this is just my Windows box here.\n\n192\n00:10:04.570 --> 00:10:08.710\nAnd I'll wake this guy up and\nlog on as good old Nick here.\n\n193\n00:10:12.680 --> 00:10:14.660\nAnd hopefully it will go\na little bit quicker.\n\n194\n00:10:14.660 --> 00:10:16.430\nI logged on him before our demo so\n\n195\n00:10:16.430 --> 00:10:20.730\nwe wouldn't have to wait for\nhim to build his profile.\n\n196\n00:10:20.730 --> 00:10:26.690\nAnd I'll navigate over to my desktop,\nand wait for my task board to come up.\n\n197\n00:10:26.690 --> 00:10:31.264\nFire up Windows Explorer and\n\n198\n00:10:31.264 --> 00:10:36.994\nnavigate into C: it's chugging.\n\n199\n00:10:36.994 --> 00:10:41.718\nIt's mad cuz I just woke it up, and\nI'm making it do all this work here.\n\n200\n00:10:41.718 --> 00:10:43.138\nC:Windows.\n\n201\n00:10:46.888 --> 00:10:49.260\nSlowly but surely.\n\n202\n00:10:49.260 --> 00:10:53.760\nAnd then I'll jump down to the Papas,\nthe Ps and there is is policy definitions.\n\n203\n00:10:53.760 --> 00:10:58.530\nAnd there's the same files, so\neach Windows machine has its own copy.\n\n204\n00:10:58.530 --> 00:11:01.640\nThat means if I make changes in\none place all the other machines\n\n205\n00:11:01.640 --> 00:11:02.640\ndon't have that change.\n\n206\n00:11:02.640 --> 00:11:04.210\nIf I add new settings,\n\n207\n00:11:04.210 --> 00:11:06.560\nnone of my other domain controllers\nwould have those same settings.\n\n208\n00:11:06.560 --> 00:11:09.330\nIf I edited group policy on\na different domain controller,\n\n209\n00:11:09.330 --> 00:11:11.650\nI'd be, where's the settings I just added?\n\n210\n00:11:11.650 --> 00:11:14.350\nThey're not gonna be there,\nbecause each one is independent.\n\n211\n00:11:14.350 --> 00:11:18.750\nSo we have a version issue with\nthese ADMX and these ADML files.\n\n212\n00:11:18.750 --> 00:11:21.250\nBut it's extremely easy to fix.\n\n213\n00:11:21.250 --> 00:11:23.950\nAnd in fact,\nI think it's one of those things that\n\n214\n00:11:23.950 --> 00:11:26.080\npeople should do immediately\non every network.\n\n215\n00:11:26.080 --> 00:11:29.600\nIt's very, very beneficial,\nand it's so easy to do.\n\n216\n00:11:30.610 --> 00:11:31.680\nWhat do they say?\n\n217\n00:11:31.680 --> 00:11:32.460\nOh.\nA caveman\n\n218\n00:11:32.460 --> 00:11:33.650\ncould-\n>> Can you do it?\n\n219\n00:11:33.650 --> 00:11:35.050\n>> Better I shouldn't say that.\n\n220\n00:11:35.050 --> 00:11:36.290\nI take that back.\n\n221\n00:11:36.290 --> 00:11:39.170\n>> A caveman could process this and\nmake it happen if he wanted to.\n\n222\n00:11:39.170 --> 00:11:39.950\n>> Yes, there you go!\n\n223\n00:11:39.950 --> 00:11:41.050\nThank you.\n[LAUGH]\n\n224\n00:11:41.050 --> 00:11:41.724\n>> [LAUGH]\n\n225\n00:11:41.724 --> 00:11:42.330\n>> All right,\n\n226\n00:11:42.330 --> 00:11:46.000\nso all we have to do,\nget how easy this is.\n\n227\n00:11:46.000 --> 00:11:49.030\nI'm on my domain controller, I'm on DC1.\n\n228\n00:11:49.030 --> 00:11:52.050\nAnd I'm in c:windowspolicydefinitions.\n\n229\n00:11:52.050 --> 00:11:56.570\nAnd I'm gonna copy that entire\npolicy definitions folder.\n\n230\n00:11:56.570 --> 00:11:58.800\nSo that's the ADMX files and\n\n231\n00:11:58.800 --> 00:12:02.130\nthat ENUS folder that's inside\nthere with the ADML files.\n\n232\n00:12:02.130 --> 00:12:06.052\nAll right?\nNow I'm gonna navigate down to c:windows\n\n233\n00:12:06.052 --> 00:12:13.300\nSYSVOL and I'm gonna navigate into SYSVOL\nagain so it's the SYSVOL inside SYSVOL.\n\n234\n00:12:14.510 --> 00:12:18.890\nAnd in my domain lab.net,\nand then policies, and\n\n235\n00:12:18.890 --> 00:12:23.540\nI'm gonna paste that policy\ndefinitions in there, all right?\n\n236\n00:12:23.540 --> 00:12:25.100\nSo pretty complex so far, right?\n\n237\n00:12:25.100 --> 00:12:30.680\nI copied that folder and I pasted it\ninto this Policies folder inside SYSVOL.\n\n238\n00:12:30.680 --> 00:12:32.120\nAll right.\n\n239\n00:12:32.120 --> 00:12:33.310\nNow I'm gonna go and\nedit this policy again.\n\n240\n00:12:37.590 --> 00:12:39.350\nWe'll make that a little bit bigger.\n\n241\n00:12:39.350 --> 00:12:41.510\nWe'll expand out Policies.\n\n242\n00:12:41.510 --> 00:12:43.560\nWe're gonna hover over\nAdministrative Templates.\n\n243\n00:12:45.240 --> 00:12:46.810\nAnd notice what it says.\n\n244\n00:12:46.810 --> 00:12:49.220\nInstead of retrieve\nfrom the local machine,\n\n245\n00:12:49.220 --> 00:12:52.030\nit now says retrieve\nfrom the central store.\n\n246\n00:12:52.030 --> 00:12:52.820\nThat was it.\n\n247\n00:12:52.820 --> 00:12:57.040\nIt immediately detected that policy\ndefinition folder inside SYSVOL.\n\n248\n00:12:57.040 --> 00:13:00.470\nAnd it says ooh, I'm gonna use\nthat one instead of my local copy,\n\n249\n00:13:00.470 --> 00:13:04.520\nand then SYSVOL replicates\nto all domain controllers.\n\n250\n00:13:04.520 --> 00:13:07.720\nSo if I make changes\nto those ADMX files or\n\n251\n00:13:07.720 --> 00:13:12.420\nI import new ADML files, every domain\ncontroller will have access to those.\n\n252\n00:13:12.420 --> 00:13:14.700\nWe're no longer using independent copy.\n\n253\n00:13:14.700 --> 00:13:18.770\nSo, easy to do, you saw how easy it was,\njust took me a second, and\n\n254\n00:13:18.770 --> 00:13:21.770\nI don't understand why you wouldn't\ndo that in the first place.\n\n255\n00:13:21.770 --> 00:13:24.300\n>> Yeah, if it's that simple,\nwhy the heck not?\n\n256\n00:13:24.300 --> 00:13:28.923\nYou're always getting the better copy and\nit's running the I always\n\n257\n00:13:28.923 --> 00:13:33.273\nthought the central store was the general\nstore that is on a military base.\n\n258\n00:13:33.273 --> 00:13:34.011\n[LAUGH]\n>> From the PX. Yeah, exactly.\n\n259\n00:13:34.011 --> 00:13:35.107\n[LAUGH]\n>> So, that's what it sound like, oh,\n\n260\n00:13:35.107 --> 00:13:37.875\nthe central store, that's strange.\n\n261\n00:13:37.875 --> 00:13:40.390\n[LAUGH] What else do we got Mike?\n\n262\n00:13:40.390 --> 00:13:42.580\n>> Well, so now we've got those set up.\n\n263\n00:13:42.580 --> 00:13:44.420\nNext thing I want to do is\nshow you how to create or\n\n264\n00:13:44.420 --> 00:13:49.450\nactually import additional ADMX and\nADML files, to extend that functionality.\n\n265\n00:13:49.450 --> 00:13:53.120\nBut I wanted to get ahead and set up the\ncentral store first, because why import\n\n266\n00:13:53.120 --> 00:13:56.610\nthose templates if none of my other domain\ncontrollers are gonna have them, right?\n\n267\n00:13:56.610 --> 00:13:58.920\nI could have done it after the fact,\nand things like that, but\n\n268\n00:13:58.920 --> 00:14:01.690\nI thought it made more\nsense to do that first.\n\n269\n00:14:01.690 --> 00:14:07.980\nSo again I'm in this group policy and if I\nlook under Administrative Templates here,\n\n270\n00:14:07.980 --> 00:14:12.450\nyou notice I don't have any settings\nthat allow me to configure Office.\n\n271\n00:14:12.450 --> 00:14:13.700\nRight?\n\n272\n00:14:13.700 --> 00:14:19.400\nUnder the user half, Policies,\nAdministrative Templates, and nothing\n\n273\n00:14:19.400 --> 00:14:24.460\nthat looks like it has anything to do with\nMicrosoft Office their productivity suite.\n\n274\n00:14:24.460 --> 00:14:25.720\nSo nothing there.\n\n275\n00:14:25.720 --> 00:14:31.460\nSo I'm gonna close Group Policy and\nwhat I did was I went out to Microsoft and\n\n276\n00:14:31.460 --> 00:14:37.280\nI downloaded a set of ADMX files and\nADML files for Office, right?\n\n277\n00:14:37.280 --> 00:14:39.250\nAnd there you can actually\nsee all the other,\n\n278\n00:14:39.250 --> 00:14:41.820\ncuz they don't know what language I\nmight be using when I downloaded these,\n\n279\n00:14:41.820 --> 00:14:45.280\nso you can see they included\nall those other languages.\n\n280\n00:14:45.280 --> 00:14:51.610\nI'm gonna grab all of these ADMX files,\nas well as the ENUS folder.\n\n281\n00:14:51.610 --> 00:14:52.770\nAnd I'm gonna copy them.\n\n282\n00:14:52.770 --> 00:14:56.040\nSo again,\nthis is a free download from Microsoft and\n\n283\n00:14:56.040 --> 00:14:59.835\nI am going to navigate over to where\nI just created that central store,\n\n284\n00:14:59.835 --> 00:15:09.610\nC:/Windows/SYSVOL SYSVOL again, my domain.\n\n285\n00:15:09.610 --> 00:15:13.190\n>> It's like a Russian doll,\nSYSVOL inside a SYSVOL, inside [LAUGH].\n\n286\n00:15:13.190 --> 00:15:16.470\n>> You know I never really understood\nthat, but hey that's Microsoft, right?\n\n287\n00:15:17.720 --> 00:15:19.155\nPolicies, policy definitions.\n\n288\n00:15:19.155 --> 00:15:21.615\nDefinitions, and\nI'm just gonna paste that stuff in there.\n\n289\n00:15:21.615 --> 00:15:25.485\nNow it should merge the two ENUS folders,\nso I'll click Paste.\n\n290\n00:15:25.485 --> 00:15:30.615\nAlright, and\nthere you can see all of the new ADMX\n\n291\n00:15:30.615 --> 00:15:35.665\nfiles I just imported in,\nthere's one for Excel, if I scroll,\n\n292\n00:15:35.665 --> 00:15:40.645\nthere's one for Access, and the same thing\nis going to be inside of this ENUS folder.\n\n293\n00:15:40.645 --> 00:15:44.050\nI should have,\nthere's an Access ADML file now.\n\n294\n00:15:44.050 --> 00:15:47.710\nI can probably find my excel.adml file so\nthat was it.\n\n295\n00:15:47.710 --> 00:15:50.900\nI just imported those ADMX and\nthose ADML files.\n\n296\n00:15:50.900 --> 00:15:52.747\nI'll close File Explorer.\n\n297\n00:15:52.747 --> 00:15:57.445\nI'll go ahead and edit my policy again and\n\n298\n00:15:57.445 --> 00:16:04.170\nI'll expand out Policies and\nAdministrative Templates.\n\n299\n00:16:04.170 --> 00:16:05.865\nAnd look at there.\n\n300\n00:16:05.865 --> 00:16:08.418\nI'll make this a little bit wider.\n\n301\n00:16:08.418 --> 00:16:12.760\nI can see info path, link, 2013, machine.\n\n302\n00:16:12.760 --> 00:16:15.953\nIf I go down to users, and\nadministrative templates.\n\n303\n00:16:19.331 --> 00:16:22.940\nAnd there's all my settings for Excel.\n\n304\n00:16:22.940 --> 00:16:27.760\nSo now, I can change the default number\nof spreadsheets that shows up in\n\n305\n00:16:27.760 --> 00:16:29.320\na workbook when you open up Excel.\n\n306\n00:16:29.320 --> 00:16:31.130\nI could change the default font,\n\n307\n00:16:31.130 --> 00:16:34.150\nlike hey, in my company we want\neverybody to use this particular\n\n308\n00:16:34.150 --> 00:16:37.660\nfont when they're using Word and\nthey're creating company documents.\n\n309\n00:16:37.660 --> 00:16:38.360\nRight?\n\n310\n00:16:38.360 --> 00:16:40.560\nI can now set that through group policy.\n\n311\n00:16:40.560 --> 00:16:43.560\nI don't have to teach each user or\ngo to every machine or\n\n312\n00:16:43.560 --> 00:16:46.490\ntry to set it manually or\nhope they do it right.\n\n313\n00:16:46.490 --> 00:16:48.050\nI can actually set it\nthrough group policy and\n\n314\n00:16:48.050 --> 00:16:50.800\nhave that setting applied to\nall the machines on my network.\n\n315\n00:16:50.800 --> 00:16:51.690\nIt was that easy.\n\n316\n00:16:51.690 --> 00:16:52.420\nI just added.\n\n317\n00:16:52.420 --> 00:16:54.020\nIn fact, let's see if I can\ntell how many I've added.\n\n318\n00:16:54.020 --> 00:17:00.602\nIf I go back to administrative templates,\nwe were at 1,500 on the user side.\n\n319\n00:17:00.602 --> 00:17:02.693\nI'm now at 3,700.\n\n320\n00:17:02.693 --> 00:17:07.860\nSo we added another 1,200\nsettings there to the user half.\n\n321\n00:17:07.860 --> 00:17:11.470\nIf we do the same thing under there\nwe're at 19, so didn't add too many.\n\n322\n00:17:11.470 --> 00:17:15.060\nOnly a hundred or so on the computer half.\n\n323\n00:17:15.060 --> 00:17:18.190\n>> Well, I'll tel you what Mike, this is\nprobably one of the coolest features about\n\n324\n00:17:18.190 --> 00:17:21.250\ngroup policy is to be able to use\nthese administrative templates.\n\n325\n00:17:21.250 --> 00:17:25.160\nAs you can see, it's very modular,\nit's very customizable.\n\n326\n00:17:25.160 --> 00:17:30.770\nI can say, here is my environment, let's\nsee if there's any, basically plug-ins for\n\n327\n00:17:30.770 --> 00:17:33.430\nsome of these third-party\npieces of software that I have.\n\n328\n00:17:33.430 --> 00:17:37.340\nNow, obviously we use some\nMicrosoft products and\n\n329\n00:17:37.340 --> 00:17:40.050\nthey're gonna have their own plug-ins for\nthat, so that's very good.\n\n330\n00:17:40.050 --> 00:17:42.230\nAnd you just go out there and grab them,\n\n331\n00:17:42.230 --> 00:17:45.060\ndownload them from Microsoft,\nstart using what it is you need.\n\n332\n00:17:45.060 --> 00:17:50.160\nExpands the already massive capabilities\nof the Group Policy Management system and\n\n333\n00:17:50.160 --> 00:17:51.440\nGroup Policy Objects.\n\n334\n00:17:51.440 --> 00:17:52.320\nVery good idea.\n\n335\n00:17:52.320 --> 00:17:53.040\n>> Yeah, absolutely.\n\n336\n00:17:53.040 --> 00:17:54.450\nAnd it's so easy to work with.\n\n337\n00:17:54.450 --> 00:17:58.250\nIf you had, like you said there's third\nparties, you know, software vendors.\n\n338\n00:17:58.250 --> 00:17:59.010\nHardware vendors.\n\n339\n00:17:59.010 --> 00:18:01.860\nThey might make admx files\nthat you can go get.\n\n340\n00:18:01.860 --> 00:18:03.070\nYou can make your own, though.\n\n341\n00:18:03.070 --> 00:18:05.490\nIf you know the registry key\nthat you want to change,\n\n342\n00:18:05.490 --> 00:18:09.830\nall you got to do is kind of use one of\nthose other admx files as a template.\n\n343\n00:18:09.830 --> 00:18:15.850\nAnd see how they use the syntax in there\ncuz XML is just a markup language, right.\n\n344\n00:18:15.850 --> 00:18:17.767\nRelatively easy to work with and\n\n345\n00:18:17.767 --> 00:18:22.453\nwith a few tries you could make your own\npolicies to customize, I don't know,\n\n346\n00:18:22.453 --> 00:18:26.003\nthird party software that\nyou've got installed on there.\n\n347\n00:18:26.003 --> 00:18:30.854\nI remember setting up, oh what was,\nwe were using a type B and C.\n\n348\n00:18:30.854 --> 00:18:33.030\nAnd there were some firewall\nsettings that needed to be done.\n\n349\n00:18:33.030 --> 00:18:36.890\nWell, I could create a group policy\ntemplate that would allow other admins to\n\n350\n00:18:36.890 --> 00:18:40.535\ngo in and say yeah, I want to apply that\nto this particular OU or these machines.\n\n351\n00:18:40.535 --> 00:18:41.845\nI want to go ahead and\ncreate that setting.\n\n352\n00:18:41.845 --> 00:18:44.485\nAnd so instead of having to\nmanually go into the registry and\n\n353\n00:18:44.485 --> 00:18:46.895\nmake those changes,\nthey can make a template that did it.\n\n354\n00:18:46.895 --> 00:18:50.615\nSo real easy to work with and\nit's kinda fun.\n\n355\n00:18:50.615 --> 00:18:54.100\n>> Yeah, it does make you feel a little\nmore like you had some control\n\n356\n00:18:54.100 --> 00:18:58.100\nover the thing and that you know something\nthat maybe not everybody knows and\n\n357\n00:18:58.100 --> 00:18:59.355\nyou're kinda like on the inside.\n\n358\n00:18:59.355 --> 00:19:00.630\n[LAUGH]\n>> Exactly.\n\n359\n00:19:00.630 --> 00:19:01.160\nI like it.\n\n360\n00:19:01.160 --> 00:19:01.800\nI like it.\n\n361\n00:19:01.800 --> 00:19:02.410\nAll right.\n\n362\n00:19:02.410 --> 00:19:04.770\nWell, let's see what else we\nwant to talk about here, Daniel.\n\n363\n00:19:04.770 --> 00:19:07.460\nAs we talked about our central store and\n\n364\n00:19:07.460 --> 00:19:11.130\nthose ADMX and those ADML files,\nshowed you how to create that.\n\n365\n00:19:11.130 --> 00:19:15.290\nNext thing I want to take a look at\nis something called Starter GPOs.\n\n366\n00:19:16.330 --> 00:19:22.050\nAnd a Starter GPO is basically a template.\n\n367\n00:19:22.050 --> 00:19:23.840\nWhen we go to create a group policy,\n\n368\n00:19:23.840 --> 00:19:27.760\nyou saw how many settings were in\nthose administrative templates there.\n\n369\n00:19:27.760 --> 00:19:35.770\nAnd maybe I've got certain settings\nthat I want to include in all new GPOs.\n\n370\n00:19:35.770 --> 00:19:41.500\nOr I wanna make a, I've got a complex\nset of settings that I want.\n\n371\n00:19:41.500 --> 00:19:45.190\nAnd I want other people to go and\ncreate these new GPOs and attach them or\n\n372\n00:19:45.190 --> 00:19:46.550\nscope them wherever.\n\n373\n00:19:46.550 --> 00:19:48.900\nBut I don't wanna tell them all\nthe different settings that\n\n374\n00:19:48.900 --> 00:19:49.490\nneed to be in there.\n\n375\n00:19:49.490 --> 00:19:51.100\nThey can add their own settings, but\n\n376\n00:19:51.100 --> 00:19:54.130\nthese certain settings need\nto be a part of that GPO.\n\n377\n00:19:54.130 --> 00:19:55.840\nWell, that's what starter GPOs are for.\n\n378\n00:19:55.840 --> 00:19:58.755\nThey allow me to basically\ncreate a template.\n\n379\n00:19:58.755 --> 00:20:03.816\nAnd when I go create a new GPO,\nI can base it off of that starter GPO.\n\n380\n00:20:03.816 --> 00:20:07.956\nAnd that will include all of,\nthat way the new GPO will include all\n\n381\n00:20:07.956 --> 00:20:12.090\nof the settings that I\nconfigured in that starter GPO.\n\n382\n00:20:12.090 --> 00:20:15.151\nAnd so let's take a look at\nhow we can do that, again,\n\n383\n00:20:15.151 --> 00:20:17.681\nI am in my\nGroup Policy Management console.\n\n384\n00:20:17.681 --> 00:20:20.191\nAnd I'm gonna open up or\nI'm gonna click on starter GPO.\n\n385\n00:20:20.191 --> 00:20:26.032\nNow when you first click on this, so this\nis a new install of Active Directory here,\n\n386\n00:20:26.032 --> 00:20:28.990\nI can see create starter GPO folder.\n\n387\n00:20:28.990 --> 00:20:33.326\nYou actually don't have to,\nyou can right-click on starter GPO and\n\n388\n00:20:33.326 --> 00:20:36.330\nchoose New, and\ngo right into making your GPO.\n\n389\n00:20:36.330 --> 00:20:39.241\nIf you do click create starter GPO,\n\n390\n00:20:39.241 --> 00:20:44.782\nit actually unpacks a whole bunch\nof Microsoft built starter GPOs.\n\n391\n00:20:44.782 --> 00:20:47.940\nAnd you can see there that\nthey're a little odd.\n\n392\n00:20:47.940 --> 00:20:52.090\nThere's like group policy remote update\nfirewall port, that's a pretty cool one.\n\n393\n00:20:52.090 --> 00:20:54.231\nGroup policy reporting firewall ports.\n\n394\n00:20:54.231 --> 00:20:59.872\nAnd if I look at one of these,\nI'll just right click on this guy and\n\n395\n00:20:59.872 --> 00:21:05.734\nI'll take a look at what settings\nare included in this starter GPO.\n\n396\n00:21:05.734 --> 00:21:09.148\nAnd I'll go ahead and\nadd this page to my trusted sites.\n\n397\n00:21:09.148 --> 00:21:13.829\nAll right, these reports are HTML based\nand they use some active X table to\n\n398\n00:21:13.829 --> 00:21:19.060\nexpand and collapse things, and\nwe've got to trust them on our servers.\n\n399\n00:21:19.060 --> 00:21:23.940\nSo, if I expand everything out, I'll see\nthere's setting like inbound rule for\n\n400\n00:21:23.940 --> 00:21:29.470\nrpcss service to allow rcptcp traffic for\nthe task scheduler service.\n\n401\n00:21:29.470 --> 00:21:33.601\nHere's one for\nremotely managed task scheduler, and\n\n402\n00:21:33.601 --> 00:21:38.370\nwmitraffic for\nWindows remote management instrumentation.\n\n403\n00:21:39.380 --> 00:21:44.410\nAnd then there's a few down here\nunderneath the extra registry settings.\n\n404\n00:21:44.410 --> 00:21:47.060\nSo this is a template\nthat Microsoft created,\n\n405\n00:21:47.060 --> 00:21:52.490\nthat I could use to create my own group\npolicies, and include these settings.\n\n406\n00:21:52.490 --> 00:21:53.360\nAll right?\n\n407\n00:21:53.360 --> 00:21:57.570\nIn fact, something like this I might\njust use it on it's own just about.\n\n408\n00:21:57.570 --> 00:21:59.440\nI might have other firewall\nsettings that I want to include.\n\n409\n00:21:59.440 --> 00:22:01.800\n>> Yeah, they've done a lot of\nleg work for us all ready so\n\n410\n00:22:01.800 --> 00:22:03.910\nit's like,\nwhy wouldn't I go ahead and use that?\n\n411\n00:22:03.910 --> 00:22:07.910\nIt's already there so it's obviously, it\nprobably is a pretty good idea to go ahead\n\n412\n00:22:07.910 --> 00:22:10.550\nand right out of the gate when you\nstart working with this, go ahead and\n\n413\n00:22:10.550 --> 00:22:13.910\nbuild that folder and let it populate\nstuff you might actually need.\n\n414\n00:22:13.910 --> 00:22:14.540\n>> Absolutely.\n\n415\n00:22:14.540 --> 00:22:16.680\nYou gotta go and\nconfigure all those firewall rules for\n\n416\n00:22:16.680 --> 00:22:18.177\nremote management on your machines.\n\n417\n00:22:18.177 --> 00:22:20.835\nWell here's a template that\nconfigure most of them for you.\n\n418\n00:22:20.835 --> 00:22:21.800\nYou don't even have to think about it.\n\n419\n00:22:21.800 --> 00:22:22.658\nSo, pretty nice.\n\n420\n00:22:22.658 --> 00:22:23.320\n>> Thank you, Microsoft.\n\n421\n00:22:23.320 --> 00:22:24.515\n>> Exactly.\n\n422\n00:22:24.515 --> 00:22:26.550\nBut then you see the rest of them though.\n\n423\n00:22:26.550 --> 00:22:28.560\nI see Windows Vista EC,\n\n424\n00:22:28.560 --> 00:22:33.490\nwhich is enterprise client,\ncomputer enterprise client user, and\n\n425\n00:22:33.490 --> 00:22:38.220\nthen there's this SSLF and I'm trying\nto remember what that stood for.\n\n426\n00:22:38.220 --> 00:22:41.010\nSecure Server something.\n\n427\n00:22:41.010 --> 00:22:42.480\nIt's a little higher security.\n\n428\n00:22:42.480 --> 00:22:48.100\nEnterprise Client is what we call\na medium security template and\n\n429\n00:22:48.100 --> 00:22:52.380\nthe SS is a more secure set of\nsettings that you could apply.\n\n430\n00:22:52.380 --> 00:22:55.500\nBut mostly they've only got Vista and\nWindows XP Service Pack 2.\n\n431\n00:22:55.500 --> 00:23:00.770\nSo they've created these starter\nGPOs back when Vista came out.\n\n432\n00:23:00.770 --> 00:23:02.970\nAnd they included some for\nXP service packages,\n\n433\n00:23:02.970 --> 00:23:04.760\nbecause we all know that XP\nhad some vulnerabilities.\n\n434\n00:23:04.760 --> 00:23:08.230\nSo it was really nice of them to\ngive us these templates that could\n\n435\n00:23:08.230 --> 00:23:11.510\nclose some of that and hopefully make\nit a more secure operating system.\n\n436\n00:23:11.510 --> 00:23:13.315\n>> I think they did\nthe same thing with SP3.\n\n437\n00:23:13.315 --> 00:23:15.800\n[LAUGH] For SP3.\n\n438\n00:23:15.800 --> 00:23:16.980\n>> Pretty much.\n\n439\n00:23:17.980 --> 00:23:20.300\nBut, and the funny thing is,\nif you go out and try to do a search.\n\n440\n00:23:20.300 --> 00:23:22.330\nLike okay, where's my Windows 7 templates?\n\n441\n00:23:22.330 --> 00:23:23.850\nWhere's my Windows 8 templates?\n\n442\n00:23:23.850 --> 00:23:25.890\nRight?\nWhere's my server 2012 templates?\n\n443\n00:23:25.890 --> 00:23:26.400\nThey didn't bother.\n\n444\n00:23:27.610 --> 00:23:31.640\nSo I don't know if they just lost\ninterest in the whole starter GPO thing.\n\n445\n00:23:31.640 --> 00:23:33.650\nYou go out and\nread some of these blogs, and\n\n446\n00:23:33.650 --> 00:23:36.150\nthese Microsoft people will\njump in on these blogs.\n\n447\n00:23:36.150 --> 00:23:41.010\nAnd they say, well there's a whole slew of\nnew settings within the group policy that\n\n448\n00:23:41.010 --> 00:23:44.660\nhave all the new Windows 7 features and\nWindows 8 features and things like that.\n\n449\n00:23:44.660 --> 00:23:46.730\nAnd the person in the forum will respond,\n\n450\n00:23:46.730 --> 00:23:51.000\nyes I realize that but if you'd answer my\nquestion, where's the new starter GPOs?\n\n451\n00:23:51.000 --> 00:23:52.910\nDon't you have any pre-built templates?\n\n452\n00:23:52.910 --> 00:23:54.616\nWell you should really\nexplore the group policy,\n\n453\n00:23:54.616 --> 00:23:56.898\nthere's a lot of settings in there\nthat have to do with Windows 8.\n\n454\n00:23:56.898 --> 00:23:59.985\nSo you can't really get a straight\nanswer from them, I don't know.\n\n455\n00:23:59.985 --> 00:24:03.219\nBut anyway, I wanted to show you that\nthose were there just in case you're\n\n456\n00:24:03.219 --> 00:24:04.897\nsupporting some down level clients.\n\n457\n00:24:04.897 --> 00:24:05.756\nThanks, Microsoft.\n\n458\n00:24:05.756 --> 00:24:06.463\n>> Yeah.\n\n459\n00:24:06.463 --> 00:24:07.277\n>> [LAUGH]\n>> Thanks.\n\n460\n00:24:07.277 --> 00:24:08.391\n>> [LAUGH]\n>> Well, what we can do is,\n\n461\n00:24:08.391 --> 00:24:09.180\nwe can create our own.\n\n462\n00:24:09.180 --> 00:24:13.479\nLike I said, I really didn't have to\ncreate that Create Folder button,\n\n463\n00:24:13.479 --> 00:24:17.360\nand it wouldn't have imported\nall these pre-built templates.\n\n464\n00:24:17.360 --> 00:24:21.319\nNow if I wanna make my own, I'll\nright-click > New and I'll give it a name.\n\n465\n00:24:21.319 --> 00:24:27.127\nI'll call this, IE,\nI don't know basic or something,\n\n466\n00:24:27.127 --> 00:24:33.057\nlike or baseline maybe,\nbaseline settings, all right?\n\n467\n00:24:33.057 --> 00:24:35.599\nSo now I've got this starter GPO.\n\n468\n00:24:35.599 --> 00:24:40.241\nAnd we're gonna learn about going in and\nconfiguring the GPO in the settings and\n\n469\n00:24:40.241 --> 00:24:42.406\nthings like that in a later episode.\n\n470\n00:24:42.406 --> 00:24:45.120\nSo we're just gonna pretend for right\nnow that there are some really important\n\n471\n00:24:45.120 --> 00:24:46.770\nsettings in there that have to do with IE.\n\n472\n00:24:46.770 --> 00:24:49.510\nAnd when these admins make new GPO's,\n\n473\n00:24:49.510 --> 00:24:52.490\nI wanna make sure they include\nthese Internet Explorer settings.\n\n474\n00:24:52.490 --> 00:24:56.440\nSo I create a starter GPO and I put\nall those important settings in there.\n\n475\n00:24:56.440 --> 00:25:01.342\nNow when another admin goes to make\na new GPO, let's say I've gotta know you\n\n476\n00:25:01.342 --> 00:25:05.790\nup here, so\n\n477\n00:25:05.790 --> 00:25:11.187\nlet's say I'll make a new group policy\nobject and I'm gonna call it GNV Baseline.\n\n478\n00:25:14.700 --> 00:25:15.810\nAll right?\n\n479\n00:25:15.810 --> 00:25:21.540\nSo all the settings that I want apply\nto all computers in that GNV location.\n\n480\n00:25:21.540 --> 00:25:27.830\nAnd right here I've got Source Starter\nGPO, and I'll hit my dropdown list.\n\n481\n00:25:27.830 --> 00:25:32.190\nThere's my IE Baseline Settings,\nand I click OK.\n\n482\n00:25:32.190 --> 00:25:34.340\nAnd now I've got a new GPO.\n\n483\n00:25:34.340 --> 00:25:36.410\nAnd if I had actually configured,\nwhere'd it go?\n\n484\n00:25:36.410 --> 00:25:37.690\nThere he is.\n\n485\n00:25:37.690 --> 00:25:40.610\nIf I had configured any\nsettings in that starter GPO,\n\n486\n00:25:40.610 --> 00:25:43.920\nthose would now be included\nin that GNV baseline.\n\n487\n00:25:43.920 --> 00:25:47.970\nAnd I could edit GNV baseline and add\nadditional settings, but at least I know\n\n488\n00:25:47.970 --> 00:25:51.770\nthat that person already included all\nthose Internet Explorer settings.\n\n489\n00:25:51.770 --> 00:25:56.360\n>> So basically, the advantageousness\nof using these baselines,\n\n490\n00:25:56.360 --> 00:25:58.795\noh I'm sorry baselines,\nyou got me saying that.\n\n491\n00:25:58.795 --> 00:26:02.420\n>> [LAUGH] These templates is that,\nwell I might have\n\n492\n00:26:02.420 --> 00:26:06.580\na couple of OU's where some of the\nsettings are gonna be very similar, but\n\n493\n00:26:06.580 --> 00:26:09.970\nnot similar enough that I\nwould let things filter down.\n\n494\n00:26:09.970 --> 00:26:12.330\nI might wanna use a baseline on this one,\n\n495\n00:26:12.330 --> 00:26:15.130\nmake the settings as I\nneed after the fact.\n\n496\n00:26:15.130 --> 00:26:16.960\nAnd over here,\nmake the different settings over there.\n\n497\n00:26:16.960 --> 00:26:20.185\nAnd that helps me,\nkeeps all the generalized legwork done and\n\n498\n00:26:20.185 --> 00:26:22.922\nall I gotta do is focus in\non the laser beam settings.\n\n499\n00:26:22.922 --> 00:26:24.442\nWhat is, what's different here?\n\n500\n00:26:24.442 --> 00:26:27.026\n>> Specifically this particular-\n>> Right, yeah, exactly.\n\n501\n00:26:27.026 --> 00:26:31.449\n>> And another cool thing you can do with\nthese is you can actually export them.\n\n502\n00:26:31.449 --> 00:26:36.261\nI might have multiple domains in my forest\nand I want, we just added a new child\n\n503\n00:26:36.261 --> 00:26:40.460\ndomain, and I want them to have\nthose same baseline settings.\n\n504\n00:26:40.460 --> 00:26:45.014\nWell I can come in here to this IE\nBaseline Settings, the one I just created,\n\n505\n00:26:45.014 --> 00:26:48.000\nand I can choose Save as Cabinet,\nor Cab File, and\n\n506\n00:26:48.000 --> 00:26:50.795\nI can export this out as\nIE Baseline Settings.\n\n507\n00:26:50.795 --> 00:26:54.335\nAnd I'll click Save, and that should\nhave dumped out into My Documents.\n\n508\n00:26:54.335 --> 00:26:56.437\nLet's verify that.\n\n509\n00:26:56.437 --> 00:26:57.740\nAnd there it is.\n\n510\n00:26:57.740 --> 00:27:01.010\nSo now I could email this or\nput it up in a share somewhere,\n\n511\n00:27:01.010 --> 00:27:04.370\nwhere the admins from that\nother domain can access it.\n\n512\n00:27:04.370 --> 00:27:06.910\nThey can take this and\nturn around and import it.\n\n513\n00:27:06.910 --> 00:27:09.840\nIf they go into their group,\nI'm gonna change the name of that,\n\n514\n00:27:09.840 --> 00:27:15.070\nsee if it'll let me so\nit doesn't think it's the same thing.\n\n515\n00:27:15.070 --> 00:27:18.810\nThey could turn around in their domain,\ncome into their group policy management\n\n516\n00:27:18.810 --> 00:27:23.580\nconsole, load Cabinet,\nbrowse and find that Cab file.\n\n517\n00:27:25.780 --> 00:27:28.538\nAll right.\nAnd it's gonna pull in those settings and\n\n518\n00:27:28.538 --> 00:27:29.227\nI click OK.\n\n519\n00:27:29.227 --> 00:27:32.740\nAnd it says blah, blah, blah,\nit's gonna overwrite some of that.\n\n520\n00:27:32.740 --> 00:27:34.530\nI'll click OK.\n\n521\n00:27:34.530 --> 00:27:35.290\nIt didn't like it.\n\n522\n00:27:35.290 --> 00:27:39.796\nThe fact that I renamed the file, didn't\nrename the actual Starter GPO name, so\n\n523\n00:27:39.796 --> 00:27:43.388\nit saw it as the same thing and\nit told me it was gonna override it.\n\n524\n00:27:43.388 --> 00:27:45.140\nBut in another domain, right,\nthey wouldn't have that yet.\n\n525\n00:27:45.140 --> 00:27:47.046\nSo they would be able to import that and\n\n526\n00:27:47.046 --> 00:27:51.233\nthen they could create new group policies\nbased off of that same starter template.\n\n527\n00:27:51.233 --> 00:27:53.120\nSo it makes it very portable,\nthese settings.\n\n528\n00:27:53.120 --> 00:27:56.740\nAgain, it's really for your crucial or\nyour important settings are the settings\n\n529\n00:27:56.740 --> 00:28:00.570\nthat you wanna kind of standardize across\nall your GPOs and across your domains.\n\n530\n00:28:00.570 --> 00:28:02.105\n>> Starter GPO party, woo-hoo!\n\n531\n00:28:02.105 --> 00:28:02.614\nRight?\n>> [LAUGH]\n\n532\n00:28:02.614 --> 00:28:03.614\n>> Everybody gets together and\n\n533\n00:28:03.614 --> 00:28:04.712\nthey're trading G, no.\n\n534\n00:28:04.712 --> 00:28:05.947\n>> [LAUGH] Yeah, right?\n\n535\n00:28:05.947 --> 00:28:07.392\n>> Forget it, it's a bad idea.\n\n536\n00:28:07.392 --> 00:28:08.500\n>> [LAUGH]\n>> All right,\n\n537\n00:28:08.500 --> 00:28:10.460\nMikey, what else do we got\non the plate for today?\n\n538\n00:28:10.460 --> 00:28:11.900\n>> You know,\nI've got a lot more to go over, but\n\n539\n00:28:11.900 --> 00:28:14.670\nI think it's gonna take a little bit too\nlong for the time that we've got left.\n\n540\n00:28:14.670 --> 00:28:15.380\n>> Okay.\nNo problem.\n\n541\n00:28:15.380 --> 00:28:17.567\nWell, this has definitely\nbeen a fantastic episode.\n\n542\n00:28:17.567 --> 00:28:20.193\nIf you guys have never seen\nthe starter GPOs before,\n\n543\n00:28:20.193 --> 00:28:23.905\nobviously they're very very helpful so\ncheck that out, play with them.\n\n544\n00:28:23.905 --> 00:28:27.190\nIf you got a sandbox to run around\nin somewhere, go ahead and jump and\n\n545\n00:28:27.190 --> 00:28:28.526\ncreate some starter GPOs.\n\n546\n00:28:28.526 --> 00:28:31.565\nMess around with that little bit,\ndo some exporting some importing,\n\n547\n00:28:31.565 --> 00:28:34.209\nget it underneath the belt and\nmake it a part of your toolkit.\n\n548\n00:28:34.209 --> 00:28:36.958\nThat being said,\nI think we've come to the end of yet\n\n549\n00:28:36.958 --> 00:28:39.468\nanother very cool episode\nof ITProTV Studios.\n\n550\n00:28:39.468 --> 00:28:42.980\nSo we're gonna go ahead and sign off,\nI've been your host Daniel Lowery.\n\n551\n00:28:42.980 --> 00:28:43.890\n>> And I'm Mike Roderick.\n\n552\n00:28:43.890 --> 00:28:45.752\n>> And we'll see you next time.\n\n553\n00:28:45.752 --> 00:28:50.170\n[MUSIC]\n\n",
          "vimeoId": "134296849"
        },
        {
          "description": "In this episode, Daniel and Mike work with GPO links. They also demonstrate working with multiple local policies.",
          "length": "1956",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-16-1-create_group_policy_objects-pt2-072215-2.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-16-1-create_group_policy_objects-pt2-072215-2-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-16-1-create_group_policy_objects-pt2-072215-2-sm.jpg",
          "title": "Create Group Policy Objects Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.130 --> 00:00:10.800\n[MUSIC]\n\n2\n00:00:10.800 --> 00:00:15.170\nAll right, greetings everyone and welcome\nto another great episode of ITProTV.\n\n3\n00:00:15.170 --> 00:00:18.430\nI'm your host Daniel Lowrie, and\nhere with me as always is Mike Rodrick.\n\n4\n00:00:18.430 --> 00:00:19.190\nHow's it going today, Mike?\n\n5\n00:00:19.190 --> 00:00:20.400\n>> Oh, it's going great, Daniel.\n\n6\n00:00:20.400 --> 00:00:21.580\nGlad to be here.\n\n7\n00:00:21.580 --> 00:00:25.770\nWe are talking about group policy and\nin this one we're gonna be looking\n\n8\n00:00:25.770 --> 00:00:29.790\nspecifically at group policy links,\ngroup policy links.\n\n9\n00:00:29.790 --> 00:00:33.240\n>> So we're going to be linking\npolicies together in a lovely chain,\n\n10\n00:00:33.240 --> 00:00:35.790\nwe're going to wrap it around- no\n>> Group policy links.\n\n11\n00:00:35.790 --> 00:00:38.180\n>> What are we doing\nwith these links Mike?\n\n12\n00:00:38.180 --> 00:00:39.120\n>> It's close.\nThat is close.\n\n13\n00:00:39.120 --> 00:00:40.450\n>> [LAUGH]\n>> So when we look at our group policy\n\n14\n00:00:40.450 --> 00:00:43.300\nconsole we have group policy objects,\nand again we're going to\n\n15\n00:00:43.300 --> 00:00:47.970\ncover group policy objects in much\ngreater detail in some later episodes.\n\n16\n00:00:47.970 --> 00:00:52.080\nRight now I just wanna focus on\nthe links cuz they're an important part\n\n17\n00:00:52.080 --> 00:00:54.220\nof working with group policy.\n\n18\n00:00:54.220 --> 00:00:58.090\nSo let's give you a little\nbackground information here, GPO, or\n\n19\n00:00:58.090 --> 00:01:03.300\ngroup policy object, is a collection\nof settings that I want to apply\n\n20\n00:01:03.300 --> 00:01:08.400\nto maybe all the machines on my network,\nor just the machines in the sales OU,\n\n21\n00:01:08.400 --> 00:01:12.810\nor all of the users, or\njust the IT admins, right?\n\n22\n00:01:12.810 --> 00:01:16.370\nSo a GPO is a collection of\nsettings that I wanna apply or,\n\n23\n00:01:16.370 --> 00:01:19.880\nin Microsoft land,\nI have to configure the scope.\n\n24\n00:01:19.880 --> 00:01:25.050\nWhen I say configure the scope of a GPO,\ndecide who the GPO applies to.\n\n25\n00:01:25.050 --> 00:01:31.670\nAnd we do that by linking the GPO\nwithin that active directory structure.\n\n26\n00:01:31.670 --> 00:01:36.360\nNow if you remember our episode where we\ntalked about OUs, Organizational Units,\n\n27\n00:01:36.360 --> 00:01:39.910\nwe said within active directory\nwe've got some built-in containers.\n\n28\n00:01:39.910 --> 00:01:43.060\nThat are like a plain yellow folder,\nthey don't have anything on them.\n\n29\n00:01:43.060 --> 00:01:45.500\nAnd then we've got\nthe organizational units,\n\n30\n00:01:45.500 --> 00:01:48.040\nwhich have that little book icon on them.\n\n31\n00:01:48.040 --> 00:01:51.330\nAnd I said you can't link\nGPOs to built-in containers.\n\n32\n00:01:51.330 --> 00:01:54.840\nYou can only link the GPOs to the OUs.\n\n33\n00:01:54.840 --> 00:01:57.920\nAnd that's true, there are a couple\nother places you can link a GPO.\n\n34\n00:01:57.920 --> 00:02:02.210\nYou can link a GPO to the site,\nwhich comes up in a later episode,\n\n35\n00:02:02.210 --> 00:02:03.350\nwe'll talk about that.\n\n36\n00:02:03.350 --> 00:02:07.180\nYou can also link a GPO\nto the domain itself.\n\n37\n00:02:07.180 --> 00:02:10.800\nIf I wanted to apply to every\nsingle user out there or\n\n38\n00:02:10.800 --> 00:02:15.060\nevery single computer out there\nI can scope it to the domain.\n\n39\n00:02:15.060 --> 00:02:19.030\nSo it will filter down and\napply to everybody out there, or\n\n40\n00:02:19.030 --> 00:02:20.720\nevery computer out there.\n\n41\n00:02:20.720 --> 00:02:25.910\nOr maybe I just want it to apply to\nthe computers in GNV, or in Miami.\n\n42\n00:02:25.910 --> 00:02:27.740\nWell if I've set up my\nOU structure properly,\n\n43\n00:02:27.740 --> 00:02:32.050\nremember we talked about that, I can now\nscope it or link it to that Miami OU,\n\n44\n00:02:32.050 --> 00:02:36.010\nand it will inherit down to just\nthe things inside that Miami OU.\n\n45\n00:02:36.010 --> 00:02:38.240\nSo that's the way we use the links.\n\n46\n00:02:38.240 --> 00:02:41.710\nThey give us the ability\nto scope the GPOs.\n\n47\n00:02:41.710 --> 00:02:46.430\nNow the links are separate\nobjects within Active Directory.\n\n48\n00:02:46.430 --> 00:02:50.960\nThey've got their own sets of properties\nor attributes that we can configure.\n\n49\n00:02:50.960 --> 00:02:52.120\nSo let's take a look here.\n\n50\n00:02:52.120 --> 00:02:57.150\nI'm gonna show you a couple things\nabout these links, starting with and\n\n51\n00:02:57.150 --> 00:03:01.700\nI've got an OU structure set up here,\nI've got my client computer's OU and\n\n52\n00:03:01.700 --> 00:03:06.650\nthen within that I've got my two different\nphysical locations, GNV and Miami and\n\n53\n00:03:06.650 --> 00:03:12.240\ninside there I've got desktops and laptops\nunderneath each one of those, alright?\n\n54\n00:03:12.240 --> 00:03:16.600\nAnd if I want to link a GPO, I've got\nseveral group policy objects that I\n\n55\n00:03:16.600 --> 00:03:21.170\ncreated like I've got my GNV\nbaseline I've got my lab baseline,\n\n56\n00:03:21.170 --> 00:03:23.320\nthat's the name of my domain\nin this little sandbox.\n\n57\n00:03:23.320 --> 00:03:28.240\nAnd then I've got my laptop\nbaseline down here as well.\n\n58\n00:03:28.240 --> 00:03:30.640\nAnd I'm gonna link, so this lab baseline,\n\n59\n00:03:30.640 --> 00:03:35.590\nthese are settings that I wanna apply\nto all computers throughout my domain.\n\n60\n00:03:35.590 --> 00:03:39.370\nIt's my domain baseline settings\nthat all computers need.\n\n61\n00:03:39.370 --> 00:03:45.760\nSo all I have to do is right-click on\nlab.net and choose link an existing GPO.\n\n62\n00:03:45.760 --> 00:03:50.090\nAnd that gives me a list of all\nthe GPOs that I've got created.\n\n63\n00:03:50.090 --> 00:03:52.950\nI select lab baseline and I click OK.\n\n64\n00:03:54.745 --> 00:03:57.625\nAnd now you'll see that it is linked.\n\n65\n00:03:57.625 --> 00:04:00.755\nNow I want you to take\na close look at these icons,\n\n66\n00:04:00.755 --> 00:04:03.075\nthey're a little difficult to\npick up on our screen here,\n\n67\n00:04:03.075 --> 00:04:06.935\nso if you've got your sandbox\nenvironment you know check this out.\n\n68\n00:04:06.935 --> 00:04:10.285\nYou'll notice underneath group\npolicy objects these are all of my\n\n69\n00:04:10.285 --> 00:04:11.920\nactual group policies.\n\n70\n00:04:11.920 --> 00:04:14.980\nSo these are the GPOs that I've created,\nexcept for those two,\n\n71\n00:04:14.980 --> 00:04:18.420\nthe default domain controllers policy and\nthe default domain policies.\n\n72\n00:04:18.420 --> 00:04:20.110\nThose come by default.\n\n73\n00:04:20.110 --> 00:04:22.030\nHence the name, default.\n\n74\n00:04:22.030 --> 00:04:23.690\nThe other three I created myself.\n\n75\n00:04:23.690 --> 00:04:27.130\nAnd if you look at the icon, it looks like\na little scroll, like a piece of paper,\n\n76\n00:04:27.130 --> 00:04:29.020\nlike an old parchment scroll.\n\n77\n00:04:29.020 --> 00:04:31.410\nThat's the actual GPO.\n\n78\n00:04:31.410 --> 00:04:34.980\nAnd there is that lab\nbaseline right there.\n\n79\n00:04:34.980 --> 00:04:39.580\nNow when I link that GPO to lab.net,\nnotice what it's got up here.\n\n80\n00:04:39.580 --> 00:04:43.240\nAnd I'll explain that little dialogue\nthat came up in just a second.\n\n81\n00:04:43.240 --> 00:04:45.600\nIf you can see the icon, it's different.\n\n82\n00:04:45.600 --> 00:04:50.070\nIt has a little arrow down\nin the corner of that icon.\n\n83\n00:04:50.070 --> 00:04:53.370\nAnd most of you, if you think\nabout it hard enough, you can say,\n\n84\n00:04:53.370 --> 00:04:55.916\nwait a second I know what\nthat little indicate, right?\n\n85\n00:04:55.916 --> 00:04:59.210\nThat little arrow on the corner,\nwhere have we seen that before, Daniel?\n\n86\n00:04:59.210 --> 00:05:01.270\n>> Usually with the shortcut,\nright, on your desktop.\n\n87\n00:05:01.270 --> 00:05:03.140\nYou put a little shortcut there.\n\n88\n00:05:03.140 --> 00:05:06.900\nIt's letting you know this isn't\nthe actual executable icon, right.\n\n89\n00:05:06.900 --> 00:05:08.660\nThis isn't the real EXE.\n\n90\n00:05:08.660 --> 00:05:12.310\nWe're pointing to it, or letting you\nknow that by putting this little arrow.\n\n91\n00:05:12.310 --> 00:05:14.800\nMicrosoft does this throughout\nits operating system,\n\n92\n00:05:14.800 --> 00:05:16.340\nanytime it links to something, or\n\n93\n00:05:16.340 --> 00:05:20.070\nit's pointing to something other than\nwhat you're actually working with.\n\n94\n00:05:20.070 --> 00:05:24.250\nIt usually puts that little arrow\nthere to let you know, this is a link.\n\n95\n00:05:24.250 --> 00:05:25.480\n>> Exactly right, and\n\n96\n00:05:25.480 --> 00:05:28.790\nthat's the same thing it means here in\nthe group policy management console.\n\n97\n00:05:28.790 --> 00:05:31.700\nIt is link to the policy itself.\n\n98\n00:05:31.700 --> 00:05:32.840\nNow why did we do that?\n\n99\n00:05:32.840 --> 00:05:37.270\nWhy not just actually\nattach the GPO to lab.net?\n\n100\n00:05:37.270 --> 00:05:41.970\nBecause I just scope that GPO to\nseveral different locations, right?\n\n101\n00:05:41.970 --> 00:05:44.690\nI have a policy down here\ncalled laptop baseline.\n\n102\n00:05:44.690 --> 00:05:48.750\nI want to apply this to all of my\nlaptops throughout my organization.\n\n103\n00:05:48.750 --> 00:05:51.190\nWell I've got a laptop OU underneath GNV,\n\n104\n00:05:51.190 --> 00:05:54.700\nbut I've got other laptops\nthat are down in Miami.\n\n105\n00:05:54.700 --> 00:05:56.690\nWhen I set up my OU structure,\n\n106\n00:05:56.690 --> 00:06:00.720\nI decided that the majority of the time\nI deal with settings based on location.\n\n107\n00:06:00.720 --> 00:06:03.410\nBut there are times I need to\nbase it on the type of machine so\n\n108\n00:06:03.410 --> 00:06:06.560\nI subdivided each\nlocation by machine type.\n\n109\n00:06:06.560 --> 00:06:10.060\nWell, I want this to apply to all laptops,\nno matter where they are.\n\n110\n00:06:10.060 --> 00:06:10.960\nSo, I am going to come up here,\n\n111\n00:06:10.960 --> 00:06:16.060\nright click on laptops, link an existing\nGPO, and choose my laptop baseline.\n\n112\n00:06:17.282 --> 00:06:20.080\nAlright, and if I expand that out,\nyou will see it is a link there.\n\n113\n00:06:20.080 --> 00:06:21.979\nThen I can go to Miami's laptops.\n\n114\n00:06:23.010 --> 00:06:27.670\nLink an existing GPO,\nchoose Laptop Baseline and click OK.\n\n115\n00:06:27.670 --> 00:06:31.940\nSo now the same policy is linked\nto two different locations\n\n116\n00:06:31.940 --> 00:06:34.110\nwithin that active director structure.\n\n117\n00:06:34.110 --> 00:06:39.040\nAnd that's why we get those links where\nwe're actually linking back to the policy.\n\n118\n00:06:39.040 --> 00:06:40.875\nAnd that's what this little\nwarning is telling me.\n\n119\n00:06:40.875 --> 00:06:44.820\nAnytime I click on one of those little\nshortcut icons or those link icons there.\n\n120\n00:06:44.820 --> 00:06:48.830\nI'm getting a message that says you have\nselected a link to a group policy object.\n\n121\n00:06:48.830 --> 00:06:53.340\nExcept for changes to the link properties\nitself, changes you make here are global\n\n122\n00:06:53.340 --> 00:06:59.020\nto the GPO and will impact all other\nlocations where this GPO is linked.\n\n123\n00:06:59.020 --> 00:06:59.610\nAll right.\n\n124\n00:06:59.610 --> 00:07:01.750\nNow, I can choose,\ndon't show this message again, and\n\n125\n00:07:01.750 --> 00:07:04.050\nI won't get that message any more.\n\n126\n00:07:04.050 --> 00:07:07.280\nI did want to show you guys\nthat message once at least.\n\n127\n00:07:08.280 --> 00:07:11.600\nWhat that's telling me is,\nwhat if I'm an ad man for GNV, and\n\n128\n00:07:11.600 --> 00:07:15.070\nI come in to my group policy management\nconsole, and I've got some settings\n\n129\n00:07:15.070 --> 00:07:19.940\nthat I want to apply to the laptops here\nin the GNV location and I say, oh, look.\n\n130\n00:07:19.940 --> 00:07:22.480\nThere's already a policy\nlinked to my laptop's OU,\n\n131\n00:07:22.480 --> 00:07:26.450\nI'll just put those settings in here\nrather than create a separate policy.\n\n132\n00:07:26.450 --> 00:07:30.770\nNot realizing that policy is also\nlinked to the Miami laptops.\n\n133\n00:07:30.770 --> 00:07:32.450\nAnd whatever settings I just applied,\n\n134\n00:07:32.450 --> 00:07:35.180\nthinking is only affecting my\nGainesville laptops is now\n\n135\n00:07:35.180 --> 00:07:39.070\nalso applying to the Miami laptops and\nthat might cause a problem for them.\n\n136\n00:07:39.070 --> 00:07:40.530\nSo that's what it's reminding you.\n\n137\n00:07:40.530 --> 00:07:44.400\nHey, this is a link, and it very well\ncould be linked to other locations,\n\n138\n00:07:44.400 --> 00:07:45.170\nso keep that in mind.\n\n139\n00:07:45.170 --> 00:07:48.760\nAnd any setting you apply is gonna go to\neverywhere else that's linked as well.\n\n140\n00:07:48.760 --> 00:07:49.960\nSo just a little warning for you.\n\n141\n00:07:49.960 --> 00:07:53.570\n>> Yeah, so really what you'd wanna\ndo instead would be to create one of\n\n142\n00:07:53.570 --> 00:07:55.296\nthose started GPOs, right?\n\n143\n00:07:55.296 --> 00:07:56.950\n>> Mm-hm.\n>> Create one of those.\n\n144\n00:07:56.950 --> 00:07:59.727\nUse that as a template instead of\nmessing around with that link.\n\n145\n00:07:59.727 --> 00:08:02.306\nCuz like Mike says,\nif you start messing with that link,\n\n146\n00:08:02.306 --> 00:08:05.155\nit's gonna change it for\nevery Object that it's linked to, so\n\n147\n00:08:05.155 --> 00:08:07.429\nyou gotta be really careful\nwhen it comes to that.\n\n148\n00:08:07.429 --> 00:08:12.115\nWhen I was watching you do this, the first\nthing that I thought of was, why don't you\n\n149\n00:08:12.115 --> 00:08:16.340\njust link it to the GPO above it, right,\nor not the GPO, but the OU above it.\n\n150\n00:08:16.340 --> 00:08:18.600\nBut the problem there is,\n\n151\n00:08:18.600 --> 00:08:22.010\nthe computer doesn't know the difference\nbetween a laptop and a desktop.\n\n152\n00:08:22.010 --> 00:08:26.400\nIf Mike wants specific laptop settings,\nbecause of them being laptops.\n\n153\n00:08:26.400 --> 00:08:29.300\nMike knows what a laptop is,\nhe can go through those settings and\n\n154\n00:08:29.300 --> 00:08:32.220\nsay, here are the settings that\nwould be beneficial for a laptop.\n\n155\n00:08:32.220 --> 00:08:34.530\nThe system doesn't know\nthat kind of thing, so\n\n156\n00:08:34.530 --> 00:08:39.110\nif you put it above that, it really\nhelps when you start getting horizontal,\n\n157\n00:08:39.110 --> 00:08:43.120\nwhen it comes to your organizational\nunit structure, your AD structure.\n\n158\n00:08:43.120 --> 00:08:46.600\nAnd to use these links in this\nway because of things like that.\n\n159\n00:08:46.600 --> 00:08:50.000\nIt doesn't understand the difference\nbetween some certain things that\n\n160\n00:08:50.000 --> 00:08:51.400\nyou may be wanting so\n\n161\n00:08:51.400 --> 00:08:54.600\nyou gotta be really strategic about\nwhere you link these things up.\n\n162\n00:08:54.600 --> 00:08:57.410\n>> Exactly, and it comes back to what we\ntalked about in that previous episode.\n\n163\n00:08:57.410 --> 00:09:01.100\nSetting up your OU structure so\nthat you can do things like this.\n\n164\n00:09:01.100 --> 00:09:03.150\nIf I didn't separate out laptops and\n\n165\n00:09:03.150 --> 00:09:06.330\ndesktops, how would I apply\na setting to just laptops?\n\n166\n00:09:06.330 --> 00:09:11.236\nAs Daniel said, the system doesn't know\nthat it's a laptop or it's a desktop.\n\n167\n00:09:11.236 --> 00:09:15.940\nAll right, and I, and as Daniel\nsaid I could apply out of here, and\n\n168\n00:09:15.940 --> 00:09:20.760\nI do have a policy where I put a GNV based\nline, so this is a policy that has my\n\n169\n00:09:20.760 --> 00:09:27.250\nsettings apply to all computers in GNV\nwhether they're laptops or desktops.\n\n170\n00:09:27.250 --> 00:09:31.670\nI can link that to the GNV OU itself.\n\n171\n00:09:31.670 --> 00:09:32.630\nAll right.\n\n172\n00:09:32.630 --> 00:09:35.910\nThat way that applies to\neverything inside JNV.\n\n173\n00:09:35.910 --> 00:09:38.160\nIt won't affect my Miami computers.\n\n174\n00:09:38.160 --> 00:09:38.660\nRight?\n\n175\n00:09:38.660 --> 00:09:42.580\nBut it will apply to all JNV computers\nwhether they're desktops or laptops.\n\n176\n00:09:42.580 --> 00:09:44.070\nAll right?\n\n177\n00:09:44.070 --> 00:09:47.130\nI might have another one that\napplies to all client computers.\n\n178\n00:09:47.130 --> 00:09:52.370\nSo let's call it,\nlet's do a little client baseline.\n\n179\n00:09:53.890 --> 00:09:57.880\nSo these might be settings that I want\nto apply to all computers, laptops, or\n\n180\n00:09:57.880 --> 00:10:02.000\ndesktops, and any location but\nnot servers, alright?\n\n181\n00:10:02.000 --> 00:10:06.010\nBecause the one I applied up here to\nthe domain, it doesn't remember, just like\n\n182\n00:10:06.010 --> 00:10:09.310\nDanny was saying, this isn't gonna know\nthe difference between a client and\n\n183\n00:10:09.310 --> 00:10:12.270\na server, so\nwhen I link it to the domain itself.\n\n184\n00:10:12.270 --> 00:10:14.810\nIt's gonna inherit down\nto everything in here.\n\n185\n00:10:14.810 --> 00:10:16.880\nIncluding my member servers OU.\n\n186\n00:10:16.880 --> 00:10:18.780\nIncluding my domain controllers OU.\n\n187\n00:10:18.780 --> 00:10:22.530\nThese are probably settings, that I don't\nwant to apply to my domain controllers.\n\n188\n00:10:22.530 --> 00:10:26.000\nSo I can take my client baseline and\nlink it to client computers.\n\n189\n00:10:26.000 --> 00:10:29.940\nAnd now that will inherit,\nif I can find it, there it is.\n\n190\n00:10:29.940 --> 00:10:32.830\nThat will inherit down to\nall the compliant computers,\n\n191\n00:10:32.830 --> 00:10:34.270\nno matter what location.\n\n192\n00:10:34.270 --> 00:10:37.630\nNo matter what type of computer, but\nit won't apply to my servers and\n\n193\n00:10:37.630 --> 00:10:38.780\nmy domain controllers.\n\n194\n00:10:38.780 --> 00:10:41.080\nSo as Daniel said,\nyou've gotta plan this out.\n\n195\n00:10:41.080 --> 00:10:44.680\nYou gotta have a little bit of\na strategy on how you want to apply it.\n\n196\n00:10:44.680 --> 00:10:49.502\nAnd now, hopefully, you can go back and\nthink about that OU episode again.\n\n197\n00:10:49.502 --> 00:10:53.670\nAnd realize, now I see what he's saying\nlike, depending on how I wanna apply group\n\n198\n00:10:53.670 --> 00:10:57.430\npolicy, that's gonna determine\nhow I create that OU structure.\n\n199\n00:10:57.430 --> 00:11:00.310\nWhat nested infrastructure I make and\nthings like that.\n\n200\n00:11:01.710 --> 00:11:04.700\nAll right, so, now we've got\nthe whole linking thing down.\n\n201\n00:11:06.360 --> 00:11:10.010\nLet's talk about, remember I said\nthe links have properties themselves?\n\n202\n00:11:10.010 --> 00:11:10.820\nRight?\n\n203\n00:11:10.820 --> 00:11:12.342\nSo let's take a look at that next.\n\n204\n00:11:12.342 --> 00:11:15.760\nI'm gonna right click on this client\nbaseline that I just linked to\n\n205\n00:11:15.760 --> 00:11:16.970\nthe client computers.\n\n206\n00:11:16.970 --> 00:11:18.690\nAnd you'll see I've got\na couple of options here.\n\n207\n00:11:18.690 --> 00:11:20.840\nOne, I can edit the GPO itself.\n\n208\n00:11:20.840 --> 00:11:22.900\nThat we're gonna cover in another show.\n\n209\n00:11:24.310 --> 00:11:27.510\nBelow that though,\nI've got this option for enforced, and\n\n210\n00:11:27.510 --> 00:11:29.000\nthen I've got the link enabled.\n\n211\n00:11:29.000 --> 00:11:32.580\nThese two properties effect the link and\n\n212\n00:11:32.580 --> 00:11:37.140\nI, let me pick a better example here,\nbecause I've got one, where is it?\n\n213\n00:11:37.140 --> 00:11:42.550\nLet's see laptop baseline is linked\ntwo different locations, right.\n\n214\n00:11:42.550 --> 00:11:45.570\nIt's linked to my laptop's OU,\nas well as my,\n\n215\n00:11:45.570 --> 00:11:50.150\nthe laptop's OU inside of GNV,\nas well as my laptop's OU inside Miami.\n\n216\n00:11:50.150 --> 00:11:54.380\nWell I can right click on this,\nand I can undo this check mark.\n\n217\n00:11:54.380 --> 00:11:58.160\nI can click link enabled to disable it.\n\n218\n00:11:58.160 --> 00:12:00.230\nAnd, probably hard to see on your screen,\nbut\n\n219\n00:12:00.230 --> 00:12:03.030\nwhen you get in your little test\nenvironment, check this out.\n\n220\n00:12:03.030 --> 00:12:07.470\nThe icon is actually a little bit grayed\nout now or kind of washed out, and\n\n221\n00:12:07.470 --> 00:12:10.520\nthat's indicating that\nthat link is disabled.\n\n222\n00:12:10.520 --> 00:12:15.070\nThat means these settings will no longer\napply to those Gainesville laptops.\n\n223\n00:12:15.070 --> 00:12:19.050\nIt's like temporarily\ngetting rid of that policy.\n\n224\n00:12:19.050 --> 00:12:20.760\nThe cool thing is it's still linked there.\n\n225\n00:12:20.760 --> 00:12:23.780\nSo this is really useful when\nI'm troubleshooting, and\n\n226\n00:12:23.780 --> 00:12:27.520\nI'm trying to determine if this\nparticular policy is causing a problem or\n\n227\n00:12:27.520 --> 00:12:29.140\na conflict with something else.\n\n228\n00:12:29.140 --> 00:12:33.600\nI can just come in here and disable the\nlink and see if that fixes things, right.\n\n229\n00:12:33.600 --> 00:12:34.940\nAnd if it doesn't fix anything, and\n\n230\n00:12:34.940 --> 00:12:38.590\nI know it's not the policy, I can just\ncome in here and turn it back on.\n\n231\n00:12:38.590 --> 00:12:40.820\nNotice it didn't disable it here.\n\n232\n00:12:40.820 --> 00:12:44.290\nIt's still liked to the Miami laptop's OU.\n\n233\n00:12:44.290 --> 00:12:46.050\nThose settings are still in effect.\n\n234\n00:12:46.050 --> 00:12:49.840\nSo I'm saying,\neach link is it's own independent object.\n\n235\n00:12:49.840 --> 00:12:53.080\nSo you can disable one\nwithout disabling the other.\n\n236\n00:12:53.080 --> 00:12:57.330\nI'll go ahead and turn that back on,\nand enable that again.\n\n237\n00:12:57.330 --> 00:13:02.640\nSo, we can disable them and we can,\nlike I said, good for trouble shooting.\n\n238\n00:13:02.640 --> 00:13:06.490\nNow, another thing we've gotta\nunderstand is precedence, and\n\n239\n00:13:06.490 --> 00:13:11.440\nthis will be covered\nagain in our 411 series.\n\n240\n00:13:11.440 --> 00:13:13.780\nWe'll take a closer look at this,\nbut I wanna go ahead and\n\n241\n00:13:13.780 --> 00:13:17.410\ngive you a peek at it cuz it\nreally is a property of the link.\n\n242\n00:13:17.410 --> 00:13:21.020\nSo it makes sense to talk about it here.\n\n243\n00:13:21.020 --> 00:13:21.560\nAll right?\n\n244\n00:13:21.560 --> 00:13:25.900\nNow, when I go down to laptops,\nunderneath GNV here.\n\n245\n00:13:25.900 --> 00:13:26.720\nAnd I take a look,\n\n246\n00:13:26.720 --> 00:13:32.570\nI can see out here in the details area\nthat this OU has one policy linked to it.\n\n247\n00:13:32.570 --> 00:13:34.340\nThe laptop baseline.\n\n248\n00:13:34.340 --> 00:13:37.860\nBut if I go to this tab, group policy\ninheritance, I'll see there's actually\n\n249\n00:13:37.860 --> 00:13:42.300\nseveral policies that are in effect for\nthese laptops in Gainesville,\n\n250\n00:13:42.300 --> 00:13:45.940\nbecause they're linked at higher locations\nand they're inheriting down, right.\n\n251\n00:13:45.940 --> 00:13:47.940\nI've got these two that\nare linked up here at the domain,\n\n252\n00:13:47.940 --> 00:13:51.090\nthe default domain policy,\nand the lab baseline.\n\n253\n00:13:51.090 --> 00:13:54.590\nI've got one linked at the client\ncomputers which is inheriting down.\n\n254\n00:13:54.590 --> 00:13:59.270\nI've got another one linked at the GNV OU\nwhich is inheriting down, right.\n\n255\n00:13:59.270 --> 00:14:03.070\nAnd then out here, I see all those\npolicies that are inheriting down.\n\n256\n00:14:03.070 --> 00:14:05.380\nAnd you notice I've got\nthis precedence order.\n\n257\n00:14:05.380 --> 00:14:06.220\nAll right?\n\n258\n00:14:06.220 --> 00:14:10.310\nThis determines the order that\nthe policies are being applied in,\n\n259\n00:14:10.310 --> 00:14:14.740\nand that's a very important thing when\nit comes to working with group policies.\n\n260\n00:14:14.740 --> 00:14:17.770\nBecause policies that are applied later\n\n261\n00:14:17.770 --> 00:14:21.340\ncan override settings\nthat are applied earlier.\n\n262\n00:14:21.340 --> 00:14:26.400\nLike maybe at the GNV level,\nI set the screensaver timeout.\n\n263\n00:14:26.400 --> 00:14:29.800\nTo 15 minutes for all computers,\ndesktops or laptops.\n\n264\n00:14:29.800 --> 00:14:33.450\nBut then for my laptops, I wanna have\na five minute screensaver timeout,\n\n265\n00:14:33.450 --> 00:14:35.010\nbecause a lot of times they're on battery,\nand\n\n266\n00:14:35.010 --> 00:14:37.500\nI want them to go to sleep\na little bit faster.\n\n267\n00:14:37.500 --> 00:14:42.110\nWell at GNV, I could apply that 15 minute\nscreensaver timeout, which would apply\n\n268\n00:14:42.110 --> 00:14:46.700\nto all computers, but when it applied\nthe laptop baseline, it said, no, no, no.\n\n269\n00:14:46.700 --> 00:14:48.860\nFive minute screen saver time out.\n\n270\n00:14:48.860 --> 00:14:50.340\nIt's applying later.\n\n271\n00:14:50.340 --> 00:14:53.900\nThat will override that 15\nminute screen saver time out,\n\n272\n00:14:53.900 --> 00:14:55.427\nthat I set at the GNV level.\n\n273\n00:14:55.427 --> 00:14:57.940\nSo the order is very important, and\n\n274\n00:14:57.940 --> 00:15:01.050\nit's all about the order that\nyou link them in, right.\n\n275\n00:15:01.050 --> 00:15:05.000\nSo most of these places only have\na single policy link to them but\n\n276\n00:15:05.000 --> 00:15:09.680\nup here in the domain, I do have two\npolicies linked to the same location.\n\n277\n00:15:09.680 --> 00:15:11.970\nLet me see how I can show you this.\n\n278\n00:15:11.970 --> 00:15:18.340\nSo, notice with this precedence,\nI can't change the order here, all right.\n\n279\n00:15:18.340 --> 00:15:22.060\nBut, I can go to wherever\nthe policy's are actually linked.\n\n280\n00:15:22.060 --> 00:15:25.350\nSo, on the inheritance tab,\nI can't change anything.\n\n281\n00:15:25.350 --> 00:15:27.560\nBut, if I go here,\nI've got some little buttons,\n\n282\n00:15:27.560 --> 00:15:29.240\nthat will allow me to change the order.\n\n283\n00:15:29.240 --> 00:15:33.300\nNow, there's only one policy linked\ndirectly to the laptop's OU.\n\n284\n00:15:33.300 --> 00:15:36.480\nThere's nowhere to move it,\nbut if I go up to the lab.net\n\n285\n00:15:36.480 --> 00:15:41.860\nwhere I've got two policies linked, here I\ncan actually move these policies around.\n\n286\n00:15:41.860 --> 00:15:42.850\nSo let's take a look.\n\n287\n00:15:42.850 --> 00:15:45.660\nWhen I go back down the laptop's OU, and\n\n288\n00:15:45.660 --> 00:15:50.320\nI go to group policy inheritance, I'll\nsee that the order these are processed,\n\n289\n00:15:50.320 --> 00:15:54.010\nI should actually tell you that too,\nshouldn't I?\n\n290\n00:15:54.010 --> 00:15:56.720\nThe lower the number,\nthe higher the presidence.\n\n291\n00:15:56.720 --> 00:15:57.270\nAll right?\n\n292\n00:15:57.270 --> 00:15:59.430\nMicrosoft loves to do\nthings backwards like that.\n\n293\n00:15:59.430 --> 00:16:01.651\nJust about everything you\nlook at is done that way.\n\n294\n00:16:01.651 --> 00:16:04.740\nLike a 1 is a higher\npriority than a 99 somehow.\n\n295\n00:16:04.740 --> 00:16:08.267\nLike on your printers,\nbut, so a lower number.\n\n296\n00:16:08.267 --> 00:16:09.155\nHigher precedence.\n\n297\n00:16:09.155 --> 00:16:12.230\nSo in other words, this one with a 5,\nit's going to get applied first.\n\n298\n00:16:15.640 --> 00:16:20.080\nAnd then the one with the 4, and then this\none and then this one and then this one.\n\n299\n00:16:20.080 --> 00:16:22.140\nSo that's the order it's\ngoing to be applied.\n\n300\n00:16:22.140 --> 00:16:25.540\nNotice GNV Baseline, or\nactually let's look at my domain ones.\n\n301\n00:16:25.540 --> 00:16:29.440\nLab Baseline gets applied\nbefore Default Domain Policy.\n\n302\n00:16:31.100 --> 00:16:35.889\nWell, if I go up to my domains for\nmy lab.net here, and\n\n303\n00:16:35.889 --> 00:16:39.025\nI switch these guys around,\nnotice the same thing.\n\n304\n00:16:39.025 --> 00:16:41.674\nLab's applied first,\nit's got a precedence of 2 and\n\n305\n00:16:41.674 --> 00:16:45.314\nthen Default Domain Policy applied second,\nit's got a precedence of 1.\n\n306\n00:16:45.314 --> 00:16:46.330\nI'm gonna switch them around.\n\n307\n00:16:48.080 --> 00:16:52.135\nSo now the Default Domain Policy applies\nfirst, it's got the higher number, and\n\n308\n00:16:52.135 --> 00:16:53.149\nthen Lab Baseline.\n\n309\n00:16:53.149 --> 00:16:56.667\nIf I go back to Laptops,\nI'll see that reflected here as well.\n\n310\n00:16:56.667 --> 00:17:00.770\nI'll see the Default Domain Policy\napplies first, and then the Lab Baseline.\n\n311\n00:17:00.770 --> 00:17:04.820\nNow I'll talk more about the way these\npolicies combine when you got multiple\n\n312\n00:17:04.820 --> 00:17:09.130\npolicies being applied when we get\ninto that part of our objectives.\n\n313\n00:17:09.130 --> 00:17:12.996\nFor now, I just want you to see that it's\nthe link that determines that precedence\n\n314\n00:17:12.996 --> 00:17:16.748\norder, and you can change that order when\nyou have more than one policy linked to\n\n315\n00:17:16.748 --> 00:17:17.718\nthe same location.\n\n316\n00:17:17.718 --> 00:17:23.770\nI can change that using that\nLinked Group Policy Objects tab.\n\n317\n00:17:23.770 --> 00:17:26.472\nAnd I can use my little buttons over here.\n\n318\n00:17:26.472 --> 00:17:29.330\nOops, let me get back over to right place.\n\n319\n00:17:29.330 --> 00:17:32.790\nI can use my little buttons over here\nto move those policies up and down and\n\n320\n00:17:32.790 --> 00:17:33.990\nchange the order.\n\n321\n00:17:33.990 --> 00:17:38.560\nAnd that order that I change will reflect\nwhere they're being inherited as well.\n\n322\n00:17:40.160 --> 00:17:43.550\nAll right, so we can link these guys,\n\n323\n00:17:43.550 --> 00:17:47.290\nwe can disable the link temporarily for\ntrouble-shooting.\n\n324\n00:17:47.290 --> 00:17:51.600\nWe saw how we can look at that link\norder to determine their precedence.\n\n325\n00:17:51.600 --> 00:17:54.050\nWhat else do I want to show you guys here?\n\n326\n00:17:54.050 --> 00:17:57.585\nOh, let's talk about enforcing a policy.\n\n327\n00:17:57.585 --> 00:18:02.540\nNow as I just said, when we look\nat this group policy inheritance,\n\n328\n00:18:02.540 --> 00:18:06.160\nthe last one to apply has\nthe highest precedence.\n\n329\n00:18:06.160 --> 00:18:07.935\nOne is the highest precedence.\n\n330\n00:18:07.935 --> 00:18:12.610\nSo this Lab Baseline gets applied first,\nthat means any of its settings could\n\n331\n00:18:12.610 --> 00:18:16.940\nbe overwritten by this policy or\nthis policy or this policy or this policy.\n\n332\n00:18:16.940 --> 00:18:19.200\nWhat if there's some really\nimportant settings in there.\n\n333\n00:18:20.340 --> 00:18:23.720\nI can block,\nwe'll save blocking for later.\n\n334\n00:18:23.720 --> 00:18:25.482\nI can enforce this guy.\n\n335\n00:18:25.482 --> 00:18:30.205\nAnd what that's gonna do, if I go up to\nthis Lab Baseline and I right-click on it,\n\n336\n00:18:30.205 --> 00:18:32.885\nnotice I've got the option to Enforce.\n\n337\n00:18:32.885 --> 00:18:37.834\nNow if you've been working with servers in\nthe past, what did they used to call this\n\n338\n00:18:37.834 --> 00:18:42.656\none, oh gosh, it'll come back to me now,\nit wasn't called Enforced earlier.\n\n339\n00:18:42.656 --> 00:18:44.775\nThere was another name for\nit, but same thing.\n\n340\n00:18:44.775 --> 00:18:49.347\nI turn on Enforced, and\nyou see it get a little lock icon there.\n\n341\n00:18:50.505 --> 00:18:52.195\nNow when I go down to Laptops,\n\n342\n00:18:53.720 --> 00:18:55.590\nnotice it automatically jumped\nto the top of the list.\n\n343\n00:18:55.590 --> 00:18:57.440\nIt's got the highest precedence, so\n\n344\n00:18:57.440 --> 00:19:00.450\nit will now override all\nthese other policies.\n\n345\n00:19:00.450 --> 00:19:03.650\nSo enforcing a GPO is a way to\n\n346\n00:19:05.770 --> 00:19:11.600\nincrease its precedence, to automatically\nmake it the highest precedent in the list.\n\n347\n00:19:11.600 --> 00:19:13.380\nI hinted at blocking and\nI'm gonna go ahead and show you.\n\n348\n00:19:13.380 --> 00:19:15.460\nI know it's not called out in\nthese objectives specifically,\n\n349\n00:19:15.460 --> 00:19:17.630\nbut we might as well while we're here.\n\n350\n00:19:17.630 --> 00:19:22.060\nI'm gonna right-click on Laptops,\nand I can choose Block Inheritance.\n\n351\n00:19:22.060 --> 00:19:25.910\nThis is really a property of the OU,\nnot a property of the link.\n\n352\n00:19:25.910 --> 00:19:28.830\nBut I wanna show it to you now\nbecause the properties on the links\n\n353\n00:19:28.830 --> 00:19:30.730\ncan actually affect this.\n\n354\n00:19:30.730 --> 00:19:32.970\nSo if I block inheritance,\nwhat that does is it says,\n\n355\n00:19:32.970 --> 00:19:38.060\nhey, all those policies that are linked\nhigher than me, like at the GNV level or\n\n356\n00:19:38.060 --> 00:19:39.820\nthe client computers level,\nor the domain itself.\n\n357\n00:19:39.820 --> 00:19:41.220\nI want you to block them.\n\n358\n00:19:41.220 --> 00:19:42.770\nI don't want you to inherit them down.\n\n359\n00:19:42.770 --> 00:19:46.320\nA lot of times we'll do this for special\ndepartments like R&D, and I don't want all\n\n360\n00:19:46.320 --> 00:19:50.910\nof my standard policies that I apply to\nall my other computers applying to theirs.\n\n361\n00:19:50.910 --> 00:19:52.400\nSo we might block inheritance and\n\n362\n00:19:52.400 --> 00:19:56.100\nthen let them create their own\nGPOs that affect just them.\n\n363\n00:19:56.100 --> 00:19:58.890\nWhen you block inheritance,\nit blocks all policies.\n\n364\n00:19:58.890 --> 00:20:00.200\nYou can't selectively block.\n\n365\n00:20:00.200 --> 00:20:03.370\nI can't say I wanna block\nthe Default Domain Policy but\n\n366\n00:20:03.370 --> 00:20:05.350\nnot the Lab Baseline policy.\n\n367\n00:20:05.350 --> 00:20:08.790\nSo when you block inheritance,\nyou block all policies.\n\n368\n00:20:08.790 --> 00:20:14.110\nBut if I enforce a policy, that will\nautomatically go through any blocks.\n\n369\n00:20:15.650 --> 00:20:17.870\nThey say it'll blast through any blocks.\n\n370\n00:20:17.870 --> 00:20:20.430\nSo notice even though\nI've blocked inheritance,\n\n371\n00:20:20.430 --> 00:20:24.650\nall those other policies disappeared\nexcept for Lab Baseline.\n\n372\n00:20:24.650 --> 00:20:29.691\nBecause it's enforced, it automatically\ngets the highest precedent and\n\n373\n00:20:29.691 --> 00:20:32.018\nit goes right through that block.\n\n374\n00:20:32.018 --> 00:20:34.118\nSo a lot of different\nthings we configure just,\n\n375\n00:20:34.118 --> 00:20:36.651\nwe haven't even looked at\npolicy settings themselves.\n\n376\n00:20:36.651 --> 00:20:39.238\nWe're just dealing with\nscoping the policies,\n\n377\n00:20:39.238 --> 00:20:42.025\nlinking them to that location\nin Active Directory.\n\n378\n00:20:42.025 --> 00:20:45.249\n>> Yeah, hopefully you're seeing\nthe importance of, again,\n\n379\n00:20:45.249 --> 00:20:49.651\nwe've been talking about this throughout\nall of these episodes especially comes to\n\n380\n00:20:49.651 --> 00:20:53.600\nthe Active Directory, OU structure,\nand with group policy objects.\n\n381\n00:20:53.600 --> 00:20:57.920\nStrategy, figuring out where\nthe best place to put a policy.\n\n382\n00:20:57.920 --> 00:20:58.790\nWhere should I link this?\n\n383\n00:20:58.790 --> 00:21:00.590\nShould I block it, should I enforce it?\n\n384\n00:21:00.590 --> 00:21:01.980\nShould I do this, should I do that?\n\n385\n00:21:01.980 --> 00:21:06.770\nIs gonna be really the hard part\nabout setting this stuff up.\n\n386\n00:21:06.770 --> 00:21:09.700\nCreating a group policy object,\nthat's really not that difficult.\n\n387\n00:21:09.700 --> 00:21:12.520\nSetting and linking a group policy object,\nthat's not that difficult.\n\n388\n00:21:12.520 --> 00:21:15.810\nDoing any of the options that we're\nshowing you today, not very difficult.\n\n389\n00:21:15.810 --> 00:21:19.880\nIt's putting them in the right spot,\nthe most effective spot.\n\n390\n00:21:19.880 --> 00:21:23.240\nThat is where it gets be to be like,\nif you ever master that,\n\n391\n00:21:23.240 --> 00:21:25.980\nyou can basically say this is\nhow much money I would like and\n\n392\n00:21:25.980 --> 00:21:28.361\nI'll need you to pay that to me,\nplease [LAUGH].\n\n393\n00:21:28.361 --> 00:21:30.551\n>> [LAUGH] I need to find that out.\n\n394\n00:21:30.551 --> 00:21:31.895\nWhere is that at?\n\n395\n00:21:31.895 --> 00:21:33.128\n>> Get better at your group policies,\nMike [LAUGH].\n\n396\n00:21:33.128 --> 00:21:34.581\n>> Yeah, right [LAUGH].\n\n397\n00:21:34.581 --> 00:21:39.813\nAll right, so the next thing I wanna\nshow you guys, we want to talk about\n\n398\n00:21:39.813 --> 00:21:45.180\nlocal policies, because every\nWindows machine has a local policy.\n\n399\n00:21:45.180 --> 00:21:49.800\nIt's very similar to a GPO except for\nthe fact that it's local.\n\n400\n00:21:49.800 --> 00:21:55.280\nIt only applies to that one machine, but\nit does allow to me configure settings.\n\n401\n00:21:55.280 --> 00:21:56.830\nAnd you might think, well, why?\n\n402\n00:21:56.830 --> 00:21:58.530\nIf it only applies to that one machine,\n\n403\n00:21:58.530 --> 00:22:00.380\nwhy don't I just go into the registry and\ndo it?\n\n404\n00:22:00.380 --> 00:22:03.650\nWell, it's a little bit easier than\nworking directly with the registry.\n\n405\n00:22:03.650 --> 00:22:06.670\nI can also start to import and\nexport these things and move them from one\n\n406\n00:22:06.670 --> 00:22:11.090\nmachine to another, which is another\nreason we might use these local policies.\n\n407\n00:22:12.690 --> 00:22:18.170\nBut normally in a domain environment, we\ndon't use the local policies that often,\n\n408\n00:22:18.170 --> 00:22:23.200\nbecause when I'm applying settings,\nI'm not thinking about a single machine.\n\n409\n00:22:23.200 --> 00:22:25.780\nI want to apply it to all the servers, or\n\n410\n00:22:25.780 --> 00:22:27.720\nall the computers in the sales department,\nor\n\n411\n00:22:27.720 --> 00:22:32.230\nall the computers in the Miami location,\nor all the users that work in IT, right?\n\n412\n00:22:32.230 --> 00:22:36.330\nWe're thinking change\nmanagement on a grand scale.\n\n413\n00:22:36.330 --> 00:22:38.200\nI don't want to do things individually.\n\n414\n00:22:38.200 --> 00:22:41.180\nThat's when you wear out the sneaker net,\nyou're running from machine to machine to\n\n415\n00:22:41.180 --> 00:22:44.070\nmachine, putting holes in the bottom\nof your tennis shoes doing all\n\n416\n00:22:44.070 --> 00:22:48.100\nthis running around, and\nyou end up with inconsistencies.\n\n417\n00:22:48.100 --> 00:22:50.310\nYou know,\nI got nine of the ten machines but\n\n418\n00:22:50.310 --> 00:22:53.590\nI didn't see that one in the corner and\nI didn't configure it properly.\n\n419\n00:22:53.590 --> 00:22:55.978\nNow it's in violation\nof my security policy.\n\n420\n00:22:55.978 --> 00:22:58.634\nOr I didn't get the setting done\non this person's machine and\n\n421\n00:22:58.634 --> 00:23:02.040\nnow they're calling the help desk\nbecause something's not working.\n\n422\n00:23:02.040 --> 00:23:05.540\nSo we like domain-based\npolicies where I can apply them\n\n423\n00:23:05.540 --> 00:23:07.480\nconsistently across many machines.\n\n424\n00:23:07.480 --> 00:23:09.322\nBut that doesn't meant we\ndon't use local polices.\n\n425\n00:23:09.322 --> 00:23:12.580\nThere are times when I've\ngot one-off machines.\n\n426\n00:23:12.580 --> 00:23:15.930\nThat kiosk that's sitting out in\nthe lobby, I've only got one of them.\n\n427\n00:23:15.930 --> 00:23:17.970\nAnd configuring a group policy and\n\n428\n00:23:17.970 --> 00:23:22.640\ndomain to only apply to a single\ncomputer is actually a little more work.\n\n429\n00:23:22.640 --> 00:23:24.370\nOr I could just go to that one machine and\n\n430\n00:23:24.370 --> 00:23:27.640\nconfigure its local policy, or\nthe two conference room machines I have,\n\n431\n00:23:27.640 --> 00:23:31.050\nit might be easier to just\ndo it with a local policy.\n\n432\n00:23:32.550 --> 00:23:34.690\nOr you might be in a situation\nwhere you don't have a domain.\n\n433\n00:23:34.690 --> 00:23:36.440\nMaybe you're on a workgroup\nwhere you've only got four or\n\n434\n00:23:36.440 --> 00:23:39.080\nfive computers,\nthen the local policy is all you've got.\n\n435\n00:23:39.080 --> 00:23:42.230\nYou don't have Active Directory, you don't\nhave those domain-based group policies.\n\n436\n00:23:42.230 --> 00:23:44.360\nSo we do need to be familiar\nwith the local GPOs,\n\n437\n00:23:44.360 --> 00:23:46.440\nand I wanna show you\nhow to work with them.\n\n438\n00:23:46.440 --> 00:23:49.690\nThey've changed a little bit\nstarting with Windows Vista.\n\n439\n00:23:49.690 --> 00:23:55.630\nPrior to Windows Vista, every Windows\nmachine had a single local policy.\n\n440\n00:23:55.630 --> 00:23:59.408\nIn that policy we had computer settings,\nwe had user settings, and\n\n441\n00:23:59.408 --> 00:24:02.073\nyou could work with it\nseveral different ways.\n\n442\n00:24:02.073 --> 00:24:09.030\nOne of the easiest ways was just to type\nin gpedit.msc and that would load up.\n\n443\n00:24:10.060 --> 00:24:13.231\nA Microsoft management console that\nalready had local group policy in there.\n\n444\n00:24:13.231 --> 00:24:16.070\nAnd you can see it looks very similar,\nright?\n\n445\n00:24:16.070 --> 00:24:20.140\nI've got my administrative templates for\nexample and all those computer settings.\n\n446\n00:24:20.140 --> 00:24:22.060\nIn fact so yeah 1969.\n\n447\n00:24:22.060 --> 00:24:25.480\nSo just about all of\nthe same settings are there.\n\n448\n00:24:25.480 --> 00:24:27.800\nSo it works the same way and\n\n449\n00:24:27.800 --> 00:24:31.100\nit would apply to everybody\nthat logs on to this machine,\n\n450\n00:24:31.100 --> 00:24:36.250\nwhether it's a domain user, whether it's\na local user, it'll apply these settings.\n\n451\n00:24:36.250 --> 00:24:38.830\nNow starting with Vista and\n\n452\n00:24:38.830 --> 00:24:43.370\never since then, we have additional\nlocal policies that we can work with.\n\n453\n00:24:43.370 --> 00:24:47.350\nWe still have the local GPO, as you just\nsaw, this is a Windows 8 1 box here,\n\n454\n00:24:47.350 --> 00:24:52.610\nwe still have that policy, but we also\nhave an administrator's local policy.\n\n455\n00:24:52.610 --> 00:24:57.990\nA non-administrator's local policy,\nand a user specific local policy.\n\n456\n00:24:57.990 --> 00:25:00.030\nWhich is really, really cool.\n\n457\n00:25:00.030 --> 00:25:05.020\nThe administrator's local policy only\napplies if you log on with a user\n\n458\n00:25:05.020 --> 00:25:06.846\nthat's in the local admins group.\n\n459\n00:25:06.846 --> 00:25:10.380\nThe non-administrators then would\napply when you log in with a user\n\n460\n00:25:10.380 --> 00:25:12.100\nthat's not in the local admins group.\n\n461\n00:25:12.100 --> 00:25:13.870\nAnd it doesn't matter if\nit's a local account or\n\n462\n00:25:13.870 --> 00:25:17.700\na domain account, if it's in\nthe administrator's group on that machine,\n\n463\n00:25:17.700 --> 00:25:20.060\nthat administrator's\nlocal policy will apply.\n\n464\n00:25:20.060 --> 00:25:24.010\nIf it's not, then the non-administrator's\nlocal policy will apply.\n\n465\n00:25:24.010 --> 00:25:27.300\nI can also create a user\nspecific local policy.\n\n466\n00:25:27.300 --> 00:25:30.370\nI've got this one setting\nthat I wanna apply\n\n467\n00:25:30.370 --> 00:25:32.230\nevery time Daniel logs on to this machine.\n\n468\n00:25:32.230 --> 00:25:33.190\nNobody else.\n\n469\n00:25:33.190 --> 00:25:36.170\nWhen Daniel logs on,\nI want this setting to apply.\n\n470\n00:25:36.170 --> 00:25:40.045\nI can create a user specific\nlocal policy and accomplish that.\n\n471\n00:25:40.045 --> 00:25:43.550\nThat gives us a good amount of\nflexibility with those local policies.\n\n472\n00:25:43.550 --> 00:25:46.445\n>> Is that where that Winnie the Pooh\nbackground screen saver came from Michael?\n\n473\n00:25:46.445 --> 00:25:47.060\n>> [LAUGH] Dang.\n\n474\n00:25:47.060 --> 00:25:48.010\nMy secret's out now.\n\n475\n00:25:48.010 --> 00:25:48.560\nI knew I shouldn't have said that.\n\n476\n00:25:48.560 --> 00:25:49.480\n>> I knew something was up.\n\n477\n00:25:49.480 --> 00:25:51.820\n>> [LAUGH]\n>> All right.\n\n478\n00:25:51.820 --> 00:25:53.981\nSo, let me show you how to\nwork with those though,\n\n479\n00:25:53.981 --> 00:25:56.460\nbecause it's not as easy as the local G,\nbut it's easy.\n\n480\n00:25:56.460 --> 00:25:58.240\nBut you just have to know how.\n\n481\n00:25:58.240 --> 00:25:59.080\nSo let me show you here.\n\n482\n00:25:59.080 --> 00:26:01.810\nI'm gonna right-click,\nand I'm gonna choose Run.\n\n483\n00:26:01.810 --> 00:26:05.460\nAnd I'm gonna type in MMC and hit Enter.\n\n484\n00:26:05.460 --> 00:26:09.470\nThat's gonna open up what we call\na Microsoft management console.\n\n485\n00:26:09.470 --> 00:26:10.500\nIt's a blank console.\n\n486\n00:26:10.500 --> 00:26:13.400\nIt's the same as all those pre-built\ntools, there's just nothing in it.\n\n487\n00:26:13.400 --> 00:26:14.190\nRight?\n\n488\n00:26:14.190 --> 00:26:17.020\nAnd I get to add snap-ins\nto add my functionality.\n\n489\n00:26:17.020 --> 00:26:19.974\nSo I'm gonna do File >\nAdd/Remove Snap-in and\n\n490\n00:26:19.974 --> 00:26:24.310\nI'm gonna find my group policy object\neditor and I'm gonna click Add.\n\n491\n00:26:24.310 --> 00:26:27.017\nNow when I do that, I'm gonna do,\nthe first one a default so\n\n492\n00:26:27.017 --> 00:26:28.490\nit's just the local computer.\n\n493\n00:26:28.490 --> 00:26:30.750\nAnd that is the one we've always had.\n\n494\n00:26:30.750 --> 00:26:33.880\nAnd I'm gonna go ahead and say,\nyes that's the one I want to add and\n\n495\n00:26:33.880 --> 00:26:35.170\nI'll click Finish.\n\n496\n00:26:35.170 --> 00:26:35.860\nAll right?\n\n497\n00:26:35.860 --> 00:26:38.510\nThen I'm gonna turn around and\nadd the same snap in again.\n\n498\n00:26:39.680 --> 00:26:42.200\nBut this time I'm going to click Browse.\n\n499\n00:26:42.200 --> 00:26:43.430\nAnd I'm going to say this computer.\n\n500\n00:26:43.430 --> 00:26:46.060\nOr, actually I'm going to go to user,\nsorry.\n\n501\n00:26:46.060 --> 00:26:48.760\nAnd I'm going to choose not administrator,\nbe careful here.\n\n502\n00:26:48.760 --> 00:26:50.800\nI want administrators.\n\n503\n00:26:50.800 --> 00:26:53.740\nThat's for\neverybody in the local admin's group.\n\n504\n00:26:53.740 --> 00:26:54.440\nAnd I'll click OK.\n\n505\n00:26:54.440 --> 00:26:57.810\nAnd I'll click Finish.\n\n506\n00:26:57.810 --> 00:27:03.075\nThen I'm gonna add it again,\nclick Browse, go to users,\n\n507\n00:27:03.075 --> 00:27:10.180\nand choose the non-administrators local\nGPL, and click OK and then Finish.\n\n508\n00:27:10.180 --> 00:27:12.858\nAnd then for\ngiggles I'll do it one more time,\n\n509\n00:27:12.858 --> 00:27:16.810\nand I'll click Add, and\nI'll click Browse, and Users.\n\n510\n00:27:16.810 --> 00:27:19.650\nNow, remember I said you could\ncreate a user specific GPO, but\n\n511\n00:27:19.650 --> 00:27:23.410\nnotice nowhere in here does it say\nuser specific or anything like that.\n\n512\n00:27:23.410 --> 00:27:28.060\nWhat it shows me is all the people that\nhave logged onto this machine before.\n\n513\n00:27:28.060 --> 00:27:30.190\nAll right?\n\n514\n00:27:30.190 --> 00:27:32.020\nExcept I don't see good\nold Nick in the list here.\n\n515\n00:27:32.020 --> 00:27:33.080\nInteresting.\n\n516\n00:27:33.080 --> 00:27:37.740\nSo, the point of this is,\nin order to make a user specific GPO,\n\n517\n00:27:37.740 --> 00:27:40.860\nthe person has to have logged\nonto a machine at least once.\n\n518\n00:27:40.860 --> 00:27:43.240\nThey have to have\na profile on this machine.\n\n519\n00:27:43.240 --> 00:27:46.397\nAnd once they have a profile,\nthey'll show up in this list, and\n\n520\n00:27:46.397 --> 00:27:48.860\nthen I can make a policy\nthat applies just to them.\n\n521\n00:27:48.860 --> 00:27:52.590\nI'll go ahead and grab Nate there,\nand I'll click OK, and Finish.\n\n522\n00:27:52.590 --> 00:27:55.220\nSo now I've actually added\nthat snap in four times.\n\n523\n00:27:55.220 --> 00:27:58.760\nBut I pointed it to\na different GPO each time.\n\n524\n00:27:58.760 --> 00:28:00.940\nI'll click OK.\n\n525\n00:28:00.940 --> 00:28:01.550\nAnd there we go.\n\n526\n00:28:02.632 --> 00:28:05.070\nAll right so now we've got those\nsnap ins add to our console,\n\n527\n00:28:05.070 --> 00:28:06.800\nlet's make some changes to the policies.\n\n528\n00:28:06.800 --> 00:28:09.780\nI'm going to modify this\nadministrators policy, and\n\n529\n00:28:09.780 --> 00:28:12.420\nI'm going to navigate in\nto user configuration.\n\n530\n00:28:12.420 --> 00:28:15.040\nAdministrative templates,\ncontrol panel, and\n\n531\n00:28:15.040 --> 00:28:18.580\nI'll do something like personalization,\njust something we can see really easy so\n\n532\n00:28:18.580 --> 00:28:19.550\nwe can tell the difference here.\n\n533\n00:28:19.550 --> 00:28:24.860\nAnd I'll change that screen saver\ntimeout for the administrators.\n\n534\n00:28:24.860 --> 00:28:31.810\nI'm gonna set that to, oh,\nlet's do something like 600 seconds.\n\n535\n00:28:31.810 --> 00:28:34.510\nAnd I'll click OK,\nthat's what, ten minutes?\n\n536\n00:28:34.510 --> 00:28:35.140\nRight?\n\n537\n00:28:35.140 --> 00:28:37.190\nIf I can do my math really quick.\n\n538\n00:28:37.190 --> 00:28:40.942\nThen I'm gonna go to\nthe non-administrators.\n\n539\n00:28:40.942 --> 00:28:45.660\nSame setting,\nControl Panel>Personalization, and\n\n540\n00:28:45.660 --> 00:28:53.430\nI'm just gonna double that for\nsimplicity sakes, we'll say 1,200 seconds.\n\n541\n00:28:53.430 --> 00:28:55.450\nAgain, not a great real world example,\n\n542\n00:28:55.450 --> 00:28:58.920\njust want us to see the difference\nin how these policies apply.\n\n543\n00:28:58.920 --> 00:29:01.400\nSo they should have a 20\nminute screen saver time out.\n\n544\n00:29:01.400 --> 00:29:04.778\nSo then my administrators should have\na ten minute screen saver time out,\n\n545\n00:29:04.778 --> 00:29:07.890\nnon-administrators 20 minute\nscreen saver time out.\n\n546\n00:29:07.890 --> 00:29:12.760\nLet's see if it worked,\nI'm going to log off, and\n\n547\n00:29:12.760 --> 00:29:19.010\nI'm going to log on as a user\nthat's in the local admin's group.\n\n548\n00:29:19.010 --> 00:29:22.980\nAnd remember it can be a domain account or\na non-domain account.\n\n549\n00:29:22.980 --> 00:29:27.020\nIt's all about is it a member of\nthe Local Administrators group?\n\n550\n00:29:27.020 --> 00:29:31.930\nSo I'm gonna log in as, I got a user\nnamed Nick, who is in the admin's group.\n\n551\n00:29:36.930 --> 00:29:38.780\nWe'll give that guy a second to log in.\n\n552\n00:29:38.780 --> 00:29:41.440\n>> You know Mike if you wanted to be\nreally descriptive when you create this\n\n553\n00:29:41.440 --> 00:29:45.501\npolicy, call it the most annoying\ngroup policy object ever.\n\n554\n00:29:45.501 --> 00:29:46.030\n>> [LAUGH]\n>> Right?\n\n555\n00:29:46.030 --> 00:29:47.929\nTen minute time out and\nthen your screen goes blank.\n\n556\n00:29:47.929 --> 00:29:49.349\n>> Yeah right.\n\n557\n00:29:49.349 --> 00:29:50.640\n[CROSSTALK] And you gotta re-enter\nyour password every time.\n\n558\n00:29:50.640 --> 00:29:51.400\n>> That's right.\n\n559\n00:29:51.400 --> 00:29:53.020\n>> Oh of course.\n\n560\n00:29:53.020 --> 00:29:56.020\nAll right we'll give my desktop\na chance to load up here.\n\n561\n00:29:56.020 --> 00:29:58.840\nI'll right click on my background and\ngo to Personalize.\n\n562\n00:29:59.980 --> 00:30:05.830\nAnd then I'm gonna go to that screen saver\nsettings and sure enough ten minutes,\n\n563\n00:30:05.830 --> 00:30:10.290\nso log on as an administrator and\nI have a ten minute screen saver timeout.\n\n564\n00:30:10.290 --> 00:30:11.240\n>> And you can't change it.\n\n565\n00:30:11.240 --> 00:30:12.510\n>> And I can't change it, that's right,\n\n566\n00:30:12.510 --> 00:30:15.180\nbecause the policy is\nenforcing that setting.\n\n567\n00:30:15.180 --> 00:30:15.900\nSo I'm gonna log out.\n\n568\n00:30:18.680 --> 00:30:21.060\nAnd yes I'm bad about not closing\nmy Windows when I log out.\n\n569\n00:30:21.060 --> 00:30:22.695\nI figure it's gonna do it for\nme anyway, right?\n\n570\n00:30:22.695 --> 00:30:26.725\n[LAUGH] And even if I hadn't saved\na document, I know it's gonna pop up that\n\n571\n00:30:26.725 --> 00:30:30.235\nlittle window, would you like to\nsave this before you close it?\n\n572\n00:30:30.235 --> 00:30:31.555\n>> I just pull the plug out of the wall.\n\n573\n00:30:31.555 --> 00:30:36.090\n>> [LAUGH] All right,\nnow I'm gonna log in as good old Dilbert.\n\n574\n00:30:36.090 --> 00:30:38.830\nDilbert is not in the local admin's group.\n\n575\n00:30:41.340 --> 00:30:41.950\n>> Poor guy.\n\n576\n00:30:41.950 --> 00:30:43.060\n>> Poor guy.\n\n577\n00:30:43.060 --> 00:30:44.410\nIf he could iron his tie,\n\n578\n00:30:44.410 --> 00:30:46.805\nmake it flatten out a little bit,\nmaybe I'd let him be an admin.\n\n579\n00:30:46.805 --> 00:30:50.910\n[LAUGH]\nAnd we'll switch over to his desktop.\n\n580\n00:30:52.980 --> 00:30:54.870\nWait for that thing to fire up.\n\n581\n00:30:54.870 --> 00:30:57.070\nRight click, Personalize.\n\n582\n00:31:00.310 --> 00:31:05.230\nScreen saver and 20 minutes.\n\n583\n00:31:05.230 --> 00:31:08.455\nSo there you go, you can see that now\nMicrosoft gives me the ability to\n\n584\n00:31:08.455 --> 00:31:12.347\nconfigure settings based on whether you're\nin the local administrator group, or\n\n585\n00:31:12.347 --> 00:31:14.360\nnot in the local administrator's group.\n\n586\n00:31:14.360 --> 00:31:16.960\nRemember, only one of those\npolicies is gonna apply.\n\n587\n00:31:16.960 --> 00:31:19.870\nThe local policy,\nthe one that computer settings and\n\n588\n00:31:19.870 --> 00:31:21.870\nuser settings applies every time.\n\n589\n00:31:21.870 --> 00:31:24.640\nNo matter who you are,\nif you're logging onto that machine,\n\n590\n00:31:24.640 --> 00:31:26.290\nthat policy will be in effect.\n\n591\n00:31:26.290 --> 00:31:29.800\nAnd then it's either the administrators or\nthe non-administrators.\n\n592\n00:31:29.800 --> 00:31:34.400\nYou cannot log in with an account that's\nboth in the administrators group and,\n\n593\n00:31:34.400 --> 00:31:36.920\nat the same time,\nnot in the administrators group, right?\n\n594\n00:31:36.920 --> 00:31:39.956\nSo it's one or\nthe other is going to be in effect, and\n\n595\n00:31:39.956 --> 00:31:42.510\nthen you might have\na user specific policy.\n\n596\n00:31:42.510 --> 00:31:45.330\nA policy that only\napplies when you log on.\n\n597\n00:31:45.330 --> 00:31:50.400\nSo there could be up to three local GPO's\nin effect when you log in to that machine\n\n598\n00:31:50.400 --> 00:31:51.300\nat any time.\n\n599\n00:31:51.300 --> 00:31:53.020\nAnd that's new starting\nwith Windows Vista.\n\n600\n00:31:53.020 --> 00:31:56.736\n>> Yeah, something we definitely need to\nget our little minds wrapped around, so\n\n601\n00:31:56.736 --> 00:32:00.680\nthey'll probably ask you something about\nthat on one of those exams that they give.\n\n602\n00:32:00.680 --> 00:32:01.850\n>> One of those testy questions.\n\n603\n00:32:01.850 --> 00:32:03.786\n>> Always wanting you to know stuff.\n\n604\n00:32:03.786 --> 00:32:06.219\n[LAUGH] Well, we looked at linking GPOs,\nthat's good stuff.\n\n605\n00:32:06.219 --> 00:32:09.425\nObviously, that's gonna be helpful\nin a real-world environment, and\n\n606\n00:32:09.425 --> 00:32:14.715\nthese local policies as well can also save\nyour gravy wherever you might be going at.\n\n607\n00:32:14.715 --> 00:32:16.820\nSo get that done, get that down.\n\n608\n00:32:16.820 --> 00:32:20.480\n>> That being said, looks Mike like we've\ngone through all the objectives here for\n\n609\n00:32:20.480 --> 00:32:23.138\nabout GPOs, at least for this show.\n\n610\n00:32:23.138 --> 00:32:26.490\nThat being said I guess we should\ngo ahead and sign off for ITProTV.\n\n611\n00:32:26.490 --> 00:32:28.270\nI've been your host, Daniel Lowry.\n\n612\n00:32:28.270 --> 00:32:29.010\n>> And I'm Mike Rodrick.\n\n613\n00:32:29.010 --> 00:32:30.430\n>> And we'll see you next time.\n\n614\n00:32:30.430 --> 00:32:35.560\n[SOUND]\n\n",
          "vimeoId": "134296850"
        },
        {
          "description": "In this episode, Daniel and Mike cover using a GPO to assign User Rights Assignment and Security Options. They also discuss Audit Policy settings within a GPO.",
          "length": "1562",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-17-1-configure_security_policies-072215-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-17-1-configure_security_policies-072215-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server70410-17-1-configure_security_policies-072215-1-sm.jpg",
          "title": "Configure Security Policies",
          "transcript": "WEBVTT\n\n1\n00:00:00.304 --> 00:00:10.148\n[MUSIC]\n\n2\n00:00:10.148 --> 00:00:12.494\nAll right, greetings, everyone, and\n\n3\n00:00:12.494 --> 00:00:15.187\nwelcome to another great\nepisode of ITProTV.\n\n4\n00:00:15.187 --> 00:00:19.270\nI'm your host Daniel Lowrie and here with\nme today is none other than Mike Rodrick.\n\n5\n00:00:19.270 --> 00:00:20.300\nHow's it going today, Mike?\n\n6\n00:00:20.300 --> 00:00:21.370\n>> Fantastic, Daniel.\n\n7\n00:00:21.370 --> 00:00:22.519\nGlad to be here.\n\n8\n00:00:22.519 --> 00:00:26.681\nIn this episode we're gonna be\nlooking at security polices and\n\n9\n00:00:26.681 --> 00:00:28.730\nsome of our security options.\n\n10\n00:00:28.730 --> 00:00:32.750\nSo we're gonna take our group policies but\ndive in to a specific section of them.\n\n11\n00:00:32.750 --> 00:00:35.200\n>> Yes,\nwe've got to be able to secure these\n\n12\n00:00:35.200 --> 00:00:36.940\nlittle things we call computers out there.\n\n13\n00:00:36.940 --> 00:00:39.850\nAnd unfortunately,\nour users aren't that great at it.\n\n14\n00:00:39.850 --> 00:00:43.280\nBut fortunately,\nMicrosoft has realized that's a problem,\n\n15\n00:00:43.280 --> 00:00:47.410\ngiven us a nice little portal in which\nwe can set different security policies.\n\n16\n00:00:47.410 --> 00:00:49.846\nAnd, well, they call it security policies,\nright, Mike?\n\n17\n00:00:49.846 --> 00:00:51.600\n[LAUGH]\n>> It's crazy, right, it's crazy.\n\n18\n00:00:51.600 --> 00:00:53.940\nSometimes Microsoft actually makes sense.\n\n19\n00:00:53.940 --> 00:00:54.844\nThere's some logic to it.\n\n20\n00:00:54.844 --> 00:00:55.775\nI like it.\n\n21\n00:00:55.775 --> 00:00:59.174\nAll right, so what I've got here, I've\ngot my domain controller opened up and\n\n22\n00:00:59.174 --> 00:01:01.930\nI've got my group policy management\nconsole opened up on that.\n\n23\n00:01:01.930 --> 00:01:07.527\nAnd as I said earlier, in the 7410\nthey don't go deep into group policy.\n\n24\n00:01:07.527 --> 00:01:10.851\nIn 7411 they take a much\ndeeper look at group policy,\n\n25\n00:01:10.851 --> 00:01:15.698\nbut they do call out on this exam some of,\nlike I said, the security settings that we\n\n26\n00:01:15.698 --> 00:01:20.330\nneed to be familiar with within a GPO or\nwithin our group policy object.\n\n27\n00:01:20.330 --> 00:01:26.397\nSo on my screen here, I'm going to just\nright-click on one of these policies and\n\n28\n00:01:26.397 --> 00:01:29.690\nchoose Edit to open that guy up.\n\n29\n00:01:29.690 --> 00:01:31.560\nAnd I'm gonna show you\nwhere these settings are.\n\n30\n00:01:31.560 --> 00:01:33.740\nSo I'm gonna expand out Policies.\n\n31\n00:01:33.740 --> 00:01:35.390\nIt's under the computer half.\n\n32\n00:01:35.390 --> 00:01:37.538\nAnd then I'm gonna expand\nout Windows Settings.\n\n33\n00:01:37.538 --> 00:01:43.160\nAnd sometimes it takes a minute, you\nhave to give it a second to expand out.\n\n34\n00:01:43.160 --> 00:01:47.610\nAnd then underneath there I'm gonna\nexpand out Security Settings.\n\n35\n00:01:47.610 --> 00:01:51.260\nAnd underneath there,\nI've got a whole bunch of settings.\n\n36\n00:01:51.260 --> 00:01:56.410\nBut what they really focus on in this\nparticular exam is going to be my\n\n37\n00:01:56.410 --> 00:02:00.460\nUser Rights Assignments, my\nSecurity Options, and my Audit Policies.\n\n38\n00:02:00.460 --> 00:02:03.400\nAnd you can see all of these\nfall underneath this node called\n\n39\n00:02:03.400 --> 00:02:04.255\nLocal Policies,\n\n40\n00:02:04.255 --> 00:02:09.270\ncuz these are gonna apply to each\nmachine that we scope this policy to.\n\n41\n00:02:09.270 --> 00:02:13.540\nNow keep in mind, we can configure\nthese on an actual local policy.\n\n42\n00:02:13.540 --> 00:02:18.195\nI could go to a Windows 8.1 machine or\na 2012 R 2 machine, and I could pull up\n\n43\n00:02:18.195 --> 00:02:23.020\nits local policy with gpedit.msc,\nand I would see these same options.\n\n44\n00:02:23.020 --> 00:02:25.960\nI'm just in a domain-based policy\ncuz when I configure these settings\n\n45\n00:02:25.960 --> 00:02:29.220\nin an enterprise, I don't wanna\nhave to touch every single machine.\n\n46\n00:02:29.220 --> 00:02:33.470\nI wanna be able to do it one place and\nhave it apply to all the machines,\n\n47\n00:02:33.470 --> 00:02:37.740\nor all of the client machines, or\nall of the clients in Miami, or\n\n48\n00:02:37.740 --> 00:02:40.840\nthe laptops in Miami or\nwhatever the case may be.\n\n49\n00:02:40.840 --> 00:02:43.080\nWhich we can do with our\ngroup policy objects.\n\n50\n00:02:43.080 --> 00:02:43.785\nSo let me show you,\n\n51\n00:02:43.785 --> 00:02:47.360\nand like I said, the first thing they\ncall it is User Rights Assignments.\n\n52\n00:02:47.360 --> 00:02:50.880\nAnd in here we've got settings\nthat basically control\n\n53\n00:02:50.880 --> 00:02:55.830\nhow a user can log on to a system and\nthe different ways.\n\n54\n00:02:55.830 --> 00:02:59.700\nIf we look through these settings,\naccess this computer from the network.\n\n55\n00:02:59.700 --> 00:03:02.910\nMaybe I want to prevent somebody\nfrom being able to reach out and\n\n56\n00:03:02.910 --> 00:03:04.630\nconnect to this machine over the network.\n\n57\n00:03:04.630 --> 00:03:08.390\nThey actually have to physically\nbe there and log in locally.\n\n58\n00:03:08.390 --> 00:03:11.960\nOr maybe I don't want to\nallow them to log on locally.\n\n59\n00:03:11.960 --> 00:03:15.200\nI can come in and\ndisable that and prevent them.\n\n60\n00:03:15.200 --> 00:03:20.560\nMy DHCP admins, they're going to set\nat their little Windows 8.1 machine and\n\n61\n00:03:20.560 --> 00:03:25.320\nthey're going to use their remote server\nadmin tools to manage the DHCP server.\n\n62\n00:03:25.320 --> 00:03:28.220\nThey don't need to log onto\nthe actual server, be able to go\n\n63\n00:03:28.220 --> 00:03:32.560\ninto the server closet and log into it and\nget access to the entire desktop.\n\n64\n00:03:32.560 --> 00:03:36.533\nI just want them doing it remotely and\nonly having access to DHCP.\n\n65\n00:03:36.533 --> 00:03:41.510\nSo those are the kind of things that I can\nset using these user rights assignments.\n\n66\n00:03:41.510 --> 00:03:45.128\nAnd you can see,\nnow there's my deny logon locally.\n\n67\n00:03:45.128 --> 00:03:48.090\nAnd any one of these settings\nare basically just a list.\n\n68\n00:03:48.090 --> 00:03:50.720\nI come in here,\ndefine these policy settings, and\n\n69\n00:03:50.720 --> 00:03:52.370\nI would add a user or a group.\n\n70\n00:03:52.370 --> 00:03:59.250\nAnd I could browse and I can find\nan account, like Dilbert, I click OK.\n\n71\n00:03:59.250 --> 00:04:00.780\nDilbert's now on that list.\n\n72\n00:04:00.780 --> 00:04:04.596\nAnd he would not be\nable to log on locally.\n\n73\n00:04:04.596 --> 00:04:07.990\nHe could still connect remotely,\ncouldn't log on locally.\n\n74\n00:04:07.990 --> 00:04:11.300\nAnd as you can see,\nthere are several settings within here.\n\n75\n00:04:11.300 --> 00:04:13.460\nAnd you don't have to know\nevery single setting.\n\n76\n00:04:13.460 --> 00:04:17.224\nWhat you have to know is where would I\ngo to configure user rights assignments?\n\n77\n00:04:17.224 --> 00:04:18.187\nAnd now you know.\n\n78\n00:04:18.187 --> 00:04:21.996\nComputer Configuration >\nPolicies > Windows Settings\n\n79\n00:04:21.996 --> 00:04:26.960\n> Security Settings > Local Policies\n> User Rights Assignment.\n\n80\n00:04:26.960 --> 00:04:28.721\nBuried way down in there, right?\n\n81\n00:04:28.721 --> 00:04:29.814\n>> At least it's a short path.\n\n82\n00:04:29.814 --> 00:04:33.054\n>> [LAUGH]\n>> It's not too deeply buried in there.\n\n83\n00:04:33.054 --> 00:04:34.621\nYeah, it does get a little buried.\n\n84\n00:04:34.621 --> 00:04:39.560\nSome of these things are definitely\nsquared away in a dark corner somewhere.\n\n85\n00:04:39.560 --> 00:04:42.670\nBut the more you mess with it, the more\nthat you go in and go, you know what,\n\n86\n00:04:42.670 --> 00:04:45.092\nI want to play with the user\nrights assignments today.\n\n87\n00:04:45.092 --> 00:04:46.640\nYou go in there, the more you do that,\n\n88\n00:04:46.640 --> 00:04:49.070\nit's just going to start\nbecoming ingrained in your brain.\n\n89\n00:04:49.070 --> 00:04:52.950\nEven visually, you'll have a nice visual\nin your mind, right here, here, here,\n\n90\n00:04:52.950 --> 00:04:54.470\nhere and here, and that's where it is.\n\n91\n00:04:54.470 --> 00:04:56.020\n>> Exactly, and when you think about it,\n\n92\n00:04:56.020 --> 00:04:57.870\nWindows Settings are settings\nI want to apply to Windows,\n\n93\n00:04:57.870 --> 00:05:01.030\nand these are security settings, and\nthere's a node called Security Settings.\n\n94\n00:05:01.030 --> 00:05:02.980\nSo you should be able to\nnavigate there pretty easily.\n\n95\n00:05:02.980 --> 00:05:04.805\nAnd you know what I'm going\nto do actually, Daniel?\n\n96\n00:05:04.805 --> 00:05:09.470\nWhy don't we undo this and\nlet's do it different.\n\n97\n00:05:09.470 --> 00:05:13.640\nCuz this was the Lab Baseline\nscoped to the entire domain.\n\n98\n00:05:13.640 --> 00:05:17.540\nLet's go find one that's linked to GNV.\n\n99\n00:05:17.540 --> 00:05:18.540\nLet's verify, so\n\n100\n00:05:18.540 --> 00:05:22.150\nwhat I'm gonna go is I'm gonna open up\nActive Directory Users and Computers.\n\n101\n00:05:23.710 --> 00:05:26.200\nAnd let me just make sure\nthat that client machine.\n\n102\n00:05:26.200 --> 00:05:28.060\nLet's see what OU he is in.\n\n103\n00:05:28.060 --> 00:05:30.750\nI've got client1, and there he is.\n\n104\n00:05:30.750 --> 00:05:35.400\nHe's in that desktops OU,\nunderneath GNV, Client Computers.\n\n105\n00:05:35.400 --> 00:05:39.370\nSo what I'll do is back in my\nGroup Policy Management console,\n\n106\n00:05:39.370 --> 00:05:40.990\nI think I have a GPO link there.\n\n107\n00:05:40.990 --> 00:05:41.580\nI do not.\n\n108\n00:05:41.580 --> 00:05:43.650\nWell, we'll use the GNV baseline.\n\n109\n00:05:43.650 --> 00:05:45.910\nSo I'm gonna right-click on that and\nchoose Edit.\n\n110\n00:05:47.500 --> 00:05:49.677\nAnd we're gonna do the same thing.\n\n111\n00:05:49.677 --> 00:05:52.750\nWe're gonna go into Policies\n> Windows Settings.\n\n112\n00:05:55.769 --> 00:05:58.004\nPatiently wait again, and\n\n113\n00:05:58.004 --> 00:06:04.140\nthen Security Settings > Local Policies\n> User Rights Assignment.\n\n114\n00:06:04.140 --> 00:06:06.070\nI'm gonna choose Deny log on locally.\n\n115\n00:06:06.070 --> 00:06:11.400\nI'm gonna double-click on it, define\nthe Policy Settings, Add User or Group.\n\n116\n00:06:11.400 --> 00:06:13.090\nIn this case I'm just going to do a user.\n\n117\n00:06:14.500 --> 00:06:15.850\nNormally I would be doing groups.\n\n118\n00:06:15.850 --> 00:06:18.780\nWe've talked about that before, but\njust for lab environment simplicity,\n\n119\n00:06:18.780 --> 00:06:20.710\nI'm gonna use a user account.\n\n120\n00:06:20.710 --> 00:06:22.484\nClick OK and OK.\n\n121\n00:06:22.484 --> 00:06:27.284\nNow that policy again is linked to\nthat GNV OU which includes that client\n\n122\n00:06:27.284 --> 00:06:28.450\ncomputer.\n\n123\n00:06:28.450 --> 00:06:30.890\nSo let's close the editor.\n\n124\n00:06:30.890 --> 00:06:32.340\nI'll minimize that for a second.\n\n125\n00:06:32.340 --> 00:06:34.230\nWe're gonna switch over to the client.\n\n126\n00:06:34.230 --> 00:06:37.370\nNow again, this is something that we're\ngonna talk a lot more about when we get\n\n127\n00:06:37.370 --> 00:06:42.480\ninto our group policy objects\nepisode which is gonna come in 7411.\n\n128\n00:06:42.480 --> 00:06:47.113\nBut that particular policy was a computer\nsetting, so I need to reboot the computer.\n\n129\n00:06:50.433 --> 00:06:54.770\nSo hopefully, this is a really quick\nupdate that's available for it.\n\n130\n00:06:54.770 --> 00:06:55.960\nWe'll find out here.\n\n131\n00:06:55.960 --> 00:07:00.100\n>> I've always said needing to\nreboot a computer requires more\n\n132\n00:07:00.100 --> 00:07:02.250\npatience than a doctor, man, it's just-\n>> Yeah.\n\n133\n00:07:02.250 --> 00:07:03.973\n>> They take forever sometimes.\n\n134\n00:07:03.973 --> 00:07:08.113\n>> I probably should have just done a GP\nupdate, which is another way I can refresh\n\n135\n00:07:08.113 --> 00:07:11.140\npolicy without actually having\nto reboot this machine.\n\n136\n00:07:11.140 --> 00:07:18.521\nWhile that guy's rebooting,\nI'm gonna show you back over to DC01 and\n\n137\n00:07:18.521 --> 00:07:24.704\nI'm gonna open up my local\npolicy editor with gpedit.msc.\n\n138\n00:07:26.150 --> 00:07:31.059\nAnd just to show you the same settings\nare available in your local GPO.\n\n139\n00:07:31.059 --> 00:07:36.180\nSo if you're not in a domain environment\nand you don't have a group policy.\n\n140\n00:07:36.180 --> 00:07:38.209\nOr if you've got a one-off machine and\n\n141\n00:07:38.209 --> 00:07:41.530\nyou want the settings to only apply\nto that one machine, it might\n\n142\n00:07:41.530 --> 00:07:46.340\nbe easy enough just to use your local\npolicy instead of a domain-based policy.\n\n143\n00:07:46.340 --> 00:07:48.990\nAnd here you can see those\nsame settings are available.\n\n144\n00:07:48.990 --> 00:07:52.475\nIn fact, you can see a lot of these\nsettings are configured on this domain\n\n145\n00:07:52.475 --> 00:07:55.519\ncontroller, and\nthat's because it's a domain controller.\n\n146\n00:07:55.519 --> 00:08:01.884\nThere's that Deny logon locally,\nI can Dilbert is already in there.\n\n147\n00:08:01.884 --> 00:08:04.830\nAll right, so I'll go ahead and\nminimize that.\n\n148\n00:08:04.830 --> 00:08:06.680\nAll right, so we've set that policy.\n\n149\n00:08:06.680 --> 00:08:08.800\nWhat I'm gonna see now,\nI'm gonna come over to the client and\n\n150\n00:08:08.800 --> 00:08:10.320\nI'm gonna try to log on as Dilbert.\n\n151\n00:08:12.440 --> 00:08:14.210\nUse his super secret password.\n\n152\n00:08:15.510 --> 00:08:16.200\nAnd there we go.\n\n153\n00:08:16.200 --> 00:08:19.750\nThe sign-on method you're\ntrying to use isn't allowed.\n\n154\n00:08:19.750 --> 00:08:23.000\nSo, that's an example of what we can\ndo with those user rights assignments.\n\n155\n00:08:23.000 --> 00:08:26.433\nIt's all about controlling the different\nways they're allowed to work with\n\n156\n00:08:26.433 --> 00:08:27.762\nthe machines on our network.\n\n157\n00:08:27.762 --> 00:08:31.880\nWhether I can connect locally, whether I\nconnect remotely, and things like that.\n\n158\n00:08:31.880 --> 00:08:36.080\nSo, user rights assignments,\nagain, in that GPO.\n\n159\n00:08:37.182 --> 00:08:39.640\nAll right, now the next thing I want\nto talk about is security options, and\n\n160\n00:08:39.640 --> 00:08:41.090\nreally, same place.\n\n161\n00:08:41.090 --> 00:08:44.020\nIf I go back in and edit this GPO, and\n\n162\n00:08:44.020 --> 00:08:48.840\nI take a look, we're going to expand our\nway down, policies, windows settings.\n\n163\n00:08:50.810 --> 00:08:52.056\nWait patiently.\n\n164\n00:08:52.056 --> 00:08:55.044\nSecurity settings, local policies, and\n\n165\n00:08:55.044 --> 00:08:58.950\nwe were just looking at those\nuser rights assignments.\n\n166\n00:08:58.950 --> 00:09:02.720\nThat's where I said,\ndeny logon locally for Dilbert there.\n\n167\n00:09:02.720 --> 00:09:05.550\nNext one down is my security options.\n\n168\n00:09:05.550 --> 00:09:08.030\nThere's several categories\nof security options in here.\n\n169\n00:09:08.030 --> 00:09:11.720\nI've got accounts, and you can kind of\nsee at the beginning of each one of these\n\n170\n00:09:11.720 --> 00:09:13.070\nlines it starts with accounts.\n\n171\n00:09:13.070 --> 00:09:15.120\nAnd then I've got Audit and then D comm.\n\n172\n00:09:15.120 --> 00:09:20.540\nAnd you can see some domain members, and\ninteractive log on, and things like that.\n\n173\n00:09:20.540 --> 00:09:25.100\nThese really control the behavior\nof the local computer,\n\n174\n00:09:25.100 --> 00:09:29.030\nthe way it is gonna work when\nsomebody does log on to it.\n\n175\n00:09:29.030 --> 00:09:32.100\nAgain, another one that I can use.\n\n176\n00:09:32.100 --> 00:09:33.480\nThe local policy core.\n\n177\n00:09:33.480 --> 00:09:36.000\nIf I only want to apply these\nsetting to a single machine.\n\n178\n00:09:36.000 --> 00:09:38.220\nI could open up the local\npolicy on the machine and\n\n179\n00:09:38.220 --> 00:09:40.130\nedit those security options there.\n\n180\n00:09:40.130 --> 00:09:42.940\nIf I want to apply this setting\nto more than one machine\n\n181\n00:09:42.940 --> 00:09:46.510\nI'm typically gonna be using a domain\npolicy and setting it there.\n\n182\n00:09:46.510 --> 00:09:47.310\nAnd so let's do one.\n\n183\n00:09:47.310 --> 00:09:49.480\nLet's pick one that'll\nbe easy to identify.\n\n184\n00:09:50.800 --> 00:09:54.380\nSo I'm going to choose interactive log on.\n\n185\n00:09:54.380 --> 00:09:58.860\nWe'll do message text for\nusers attempting to logon.\n\n186\n00:09:58.860 --> 00:10:00.500\nI'll define these policy settings, and\n\n187\n00:10:00.500 --> 00:10:02.960\nthis is a common one in\nthe corporate environment.\n\n188\n00:10:02.960 --> 00:10:03.990\nA lot of times we have,\n\n189\n00:10:03.990 --> 00:10:07.170\nthis is right before you logon there\nis a message that's going to pop-up.\n\n190\n00:10:07.170 --> 00:10:09.490\nA lot of times companies will\nput things like, you know,\n\n191\n00:10:09.490 --> 00:10:14.540\nthis is a company computer,\nuse of this computer implies that\n\n192\n00:10:14.540 --> 00:10:17.390\nyou're consenting to all their policies or\nwhatever.\n\n193\n00:10:17.390 --> 00:10:20.240\nUse by anybody outside the company\nis prohibited, that kind of thing.\n\n194\n00:10:20.240 --> 00:10:23.380\nThose little disclaimers that\nyou might wanna put on there.\n\n195\n00:10:23.380 --> 00:10:28.573\nAnd I'll say something like,\n\n196\n00:10:28.573 --> 00:10:32.765\nuse of this If I can type,\n\n197\n00:10:32.765 --> 00:10:41.569\nof this computer by\nunauthorized personnel is Pro.\n\n198\n00:10:43.845 --> 00:10:45.640\nSomething like that, right?\n\n199\n00:10:45.640 --> 00:10:47.280\nAnd I go ahead and click OK.\n\n200\n00:10:47.280 --> 00:10:48.585\n>> Sounds very authoritative.\n\n201\n00:10:48.585 --> 00:10:49.650\n[LAUGH]\n>> I know, right?\n\n202\n00:10:49.650 --> 00:10:51.940\nAnd I also have a message title.\n\n203\n00:10:51.940 --> 00:10:53.825\nThis'll just be the title bar.\n\n204\n00:10:53.825 --> 00:10:55.335\nAnd I'll just put Company Policy or\n\n205\n00:10:55.335 --> 00:11:00.405\nsomething like that, just so\nwe can see it in there.\n\n206\n00:11:00.405 --> 00:11:02.995\nAnd I'll go ahead and click OK.\n\n207\n00:11:02.995 --> 00:11:05.981\nAll right, so\nnow I will flip over to our client.\n\n208\n00:11:08.322 --> 00:11:12.342\nAnd I'm going to log on.\n\n209\n00:11:12.342 --> 00:11:16.672\nAnd again, it's a computer setting, so\nI really need to refresh that policy.\n\n210\n00:11:16.672 --> 00:11:18.986\nSo, let me quickly jump in here.\n\n211\n00:11:18.986 --> 00:11:21.626\nLog on as the admin and\nupdate that policy.\n\n212\n00:11:23.486 --> 00:11:24.286\nI say, quickly.\n\n213\n00:11:24.286 --> 00:11:26.456\nI'll wait for\nWindows to load on my profile.\n\n214\n00:11:29.946 --> 00:11:31.666\nAnd it's chugging along here.\n\n215\n00:11:33.076 --> 00:11:34.566\nAnyway.\nAnd while we're waiting for that,\n\n216\n00:11:34.566 --> 00:11:36.466\nthere it goes, as soon as I say that.\n\n217\n00:11:36.466 --> 00:11:40.086\nAnd we'll go ahead and\nopen up a command prompt.\n\n218\n00:11:40.086 --> 00:11:44.878\nNow, we're gonna teach\nyou guys all about Update\n\n219\n00:11:44.878 --> 00:11:49.070\na group policy when we get\ninto the 7411 objectives.\n\n220\n00:11:49.070 --> 00:11:55.180\nSo, we'll update policy and wait for that.\n\n221\n00:11:58.310 --> 00:12:01.780\nSo, what it's doing right now is\nthe client is reaching out to the domain\n\n222\n00:12:01.780 --> 00:12:05.610\ncontroller saying, hey, do you have\nany policies that are new or changed?\n\n223\n00:12:05.610 --> 00:12:07.280\nThat I need to apply.\n\n224\n00:12:07.280 --> 00:12:12.080\nIt's pulling those back and it's\napplying them, and now I'll go ahead and\n\n225\n00:12:12.080 --> 00:12:13.734\nlog off as the admin here.\n\n226\n00:12:20.654 --> 00:12:21.750\nAnd then we'll log back on.\n\n227\n00:12:21.750 --> 00:12:25.480\nOr we'll go to log back on and we'll see\nif we don't get our handy dandy message.\n\n228\n00:12:25.480 --> 00:12:30.720\n>> You wouldn't think signing out would be\nsuch a difficult process would you right?\n\n229\n00:12:30.720 --> 00:12:32.000\n>> I had so many things open and\n\n230\n00:12:32.000 --> 00:12:34.660\nrunning it was just taking\nforever to close it all.\n\n231\n00:12:34.660 --> 00:12:36.540\n>> I know.\n>> And there you go company policy, right?\n\n232\n00:12:36.540 --> 00:12:37.790\nThat was my title.\n\n233\n00:12:37.790 --> 00:12:41.940\nUse of this computer by unauthorized\npersonnel is prohibited, and\n\n234\n00:12:41.940 --> 00:12:44.070\nI can click OK to that.\n\n235\n00:12:44.070 --> 00:12:46.180\nAnd then I come to my log on screen.\n\n236\n00:12:46.180 --> 00:12:49.030\nSo that's a way I can use\nthose security options.\n\n237\n00:12:49.030 --> 00:12:50.760\nAnd like I said,\nthat's a pretty common one.\n\n238\n00:12:50.760 --> 00:12:54.270\nAnd there's many,\nmany others that we could use.\n\n239\n00:12:54.270 --> 00:12:57.830\nFor the exam it's just important\nto know where these options are.\n\n240\n00:12:57.830 --> 00:13:02.140\nKnowing that it went into computer\nconfiguration policies Windows settings,\n\n241\n00:13:02.140 --> 00:13:05.330\nsecurity settings and\nthen security options.\n\n242\n00:13:05.330 --> 00:13:09.210\nAnd maybe you wanna requires smart card,\nif their gonna log in interactively,\n\n243\n00:13:09.210 --> 00:13:12.580\nthat means their touching the computer,\nthen you've gotta have a smart card.\n\n244\n00:13:12.580 --> 00:13:13.750\nYou're connecting remotely.\n\n245\n00:13:13.750 --> 00:13:14.500\nMaybe you don't need one.\n\n246\n00:13:14.500 --> 00:13:17.390\nBut if you're going to sit down to\nthat terminal, you better have one.\n\n247\n00:13:17.390 --> 00:13:21.180\n>> That network access is probably\npretty important one there, huh Mike?\n\n248\n00:13:21.180 --> 00:13:23.080\n>> Absolutely, absolutely.\n\n249\n00:13:23.080 --> 00:13:26.050\nAll these network access ones\nthat we've got down here,\n\n250\n00:13:26.050 --> 00:13:31.140\nalso your UAC settings are gonna be\nfound underneath your security options.\n\n251\n00:13:31.140 --> 00:13:37.110\nThe good old user account control, and how\nI can configure the behavior of the UAC.\n\n252\n00:13:37.110 --> 00:13:40.160\nWhether it prompts me or requires for\ndifferent inner credentials,\n\n253\n00:13:40.160 --> 00:13:41.830\nor I want to try to disable or\n\n254\n00:13:41.830 --> 00:13:45.200\nto reduce the number of prompts\nthat appear from that good old UAC.\n\n255\n00:13:45.200 --> 00:13:47.250\nSo we got a few things we've looked at.\n\n256\n00:13:47.250 --> 00:13:49.350\nWe've looked at the user\nrights assignments.\n\n257\n00:13:49.350 --> 00:13:52.360\nWe've also looked at\nthese security options.\n\n258\n00:13:52.360 --> 00:13:56.100\nAnother one that they're gonna call\nout is going to be my audit policies.\n\n259\n00:13:56.100 --> 00:13:59.230\nSo let's take a peak at\nthat while we're in here.\n\n260\n00:14:00.400 --> 00:14:04.430\nYour audit policies is how you set\nup your auditing settings, right?\n\n261\n00:14:04.430 --> 00:14:06.510\nAuditing means I'm gonna\ntrack what's going on.\n\n262\n00:14:06.510 --> 00:14:13.130\nI wanna log events, these are all gonna\nshow up in my security log on my system.\n\n263\n00:14:13.130 --> 00:14:17.180\nAnd you can see I have several options\nhere, audit, account log on, events.\n\n264\n00:14:17.180 --> 00:14:21.830\nWhat if I want to know every time\nsomebody makes a change to an account,\n\n265\n00:14:21.830 --> 00:14:24.710\nlike account management,\nI've got object access,\n\n266\n00:14:24.710 --> 00:14:29.790\nlike file and folders, policy change,\nanytime somebody makes a change.\n\n267\n00:14:29.790 --> 00:14:33.750\nTo our policy if I have\nsomebody uses a privilege\n\n268\n00:14:33.750 --> 00:14:36.420\nthat I've assigned to them\nI can audit these events.\n\n269\n00:14:36.420 --> 00:14:40.440\nAnd these are the things that is\ndecided by your company's audit policy.\n\n270\n00:14:40.440 --> 00:14:43.890\nThe higher-ups get together\nthey say look according to\n\n271\n00:14:43.890 --> 00:14:48.310\nHIPPA we've got to have a record of every\ntime the topic is accessed by anybody.\n\n272\n00:14:48.310 --> 00:14:52.690\nAnd it is our job to take whatever those\npolicies are that they develop, and\n\n273\n00:14:52.690 --> 00:14:54.990\nimplement them in our networks.\n\n274\n00:14:54.990 --> 00:14:55.820\nThis is how we do it.\n\n275\n00:14:55.820 --> 00:14:57.390\nWe use our audit policies.\n\n276\n00:14:58.500 --> 00:15:02.770\nThey've added, starting I think it was\nin 2008, it's here in 2012 as well.\n\n277\n00:15:02.770 --> 00:15:07.510\nWe've always had these audit policies,\nthese nine categories we have here.\n\n278\n00:15:07.510 --> 00:15:11.170\nBut recently, or in 2008,\nthey've added we now have my\n\n279\n00:15:11.170 --> 00:15:14.170\nAudit Auto Policy Configuration\ndown here towards the bottom.\n\n280\n00:15:16.450 --> 00:15:19.850\nAnd if I expand that out and\nthen expand out Audit Policies there,\n\n281\n00:15:19.850 --> 00:15:23.640\nyou'll see I have several\nnew auditing categories.\n\n282\n00:15:23.640 --> 00:15:25.980\nIn fact,\neach one of these can have several.\n\n283\n00:15:25.980 --> 00:15:32.170\nThere's I think another 50-something\nodd options that I can use to audit.\n\n284\n00:15:32.170 --> 00:15:35.260\nSo it's just a matter of finding what\nyou want, what you need to audit.\n\n285\n00:15:35.260 --> 00:15:40.305\nWhat is it that my company needs to\nkeep a record Of, like logons or\n\n286\n00:15:40.305 --> 00:15:45.105\nlogoffs or object access or, and you\ncan see they get very specific in here.\n\n287\n00:15:45.105 --> 00:15:48.208\nAudit file shares, audit filesystem, so\n\n288\n00:15:48.208 --> 00:15:53.563\na lot of different things that we can\nconfigure in our auditing settings.\n\n289\n00:15:53.563 --> 00:15:55.001\nOne thing I do want to point out,\n\n290\n00:15:55.001 --> 00:15:58.157\nthere's a couple of things that\nare a little bit confusing, I think.\n\n291\n00:15:58.157 --> 00:16:01.382\nWhen we look at the old categories for\naudit policy,\n\n292\n00:16:01.382 --> 00:16:06.340\nI've got Audit account logon events,\nand I also have Audit logon events.\n\n293\n00:16:06.340 --> 00:16:10.430\nA lot of people are confused about what\nthe difference is between those two.\n\n294\n00:16:10.430 --> 00:16:12.390\nAnd the logon events,\n\n295\n00:16:12.390 --> 00:16:18.410\nthis type of event is recorded on the\nsystem that you're actually logging onto.\n\n296\n00:16:18.410 --> 00:16:22.980\nSo when I go to my laptop here that's\npart of my domain and I logon.\n\n297\n00:16:22.980 --> 00:16:27.075\nMy laptop, if it's configured to do so,\nwill audit that log on event.\n\n298\n00:16:27.075 --> 00:16:28.890\nHey, somebody just logged onto me, and\n\n299\n00:16:28.890 --> 00:16:31.740\nI'll make a record in my security log,\nright?\n\n300\n00:16:31.740 --> 00:16:34.438\nAccount log on events\nare recorded by the system\n\n301\n00:16:34.438 --> 00:16:38.559\nthat's actually doing the verification,\ndoing the authentication.\n\n302\n00:16:38.559 --> 00:16:42.410\nSo again if I'm here on my laptop,\nthat's part of my domain, and I'm auditing\n\n303\n00:16:42.410 --> 00:16:46.380\naccount log on events, that would be\nrecorded by the domain controller, right?\n\n304\n00:16:46.380 --> 00:16:48.967\nThe domain controller's the one\nthat's verifying my password and\n\n305\n00:16:48.967 --> 00:16:50.850\ndetermining whether I can log on.\n\n306\n00:16:50.850 --> 00:16:53.060\nIf this was not a member of the domain,\n\n307\n00:16:53.060 --> 00:16:56.850\nthen my credentials would be verified\nby the local security account manager.\n\n308\n00:16:56.850 --> 00:16:58.940\nAnd so the logon event and\n\n309\n00:16:58.940 --> 00:17:02.700\nthe account logon event would be\nrecorded right here on my laptop.\n\n310\n00:17:02.700 --> 00:17:06.070\nSo a little bit of confusion there\nwhat's the difference between the two?\n\n311\n00:17:06.070 --> 00:17:09.190\nLog On Events is the machine\nyou're actually logging onto.\n\n312\n00:17:09.190 --> 00:17:13.490\nAccount log on events is the machine\nthat's doing the authentication process.\n\n313\n00:17:13.490 --> 00:17:17.660\nAnd I would have to create a GPO and\nscope it to domain controller's OU.\n\n314\n00:17:17.660 --> 00:17:21.520\nIf I wanna record Account Log On Events\nfor domain accounts,\n\n315\n00:17:21.520 --> 00:17:25.040\nthen I need to tell my domain controllers\nto audit account log on events.\n\n316\n00:17:25.040 --> 00:17:26.240\nNot my laptop, right?\n\n317\n00:17:26.240 --> 00:17:29.140\nMy laptop's not doing the authentication,\nit's a domain account.\n\n318\n00:17:29.140 --> 00:17:33.320\nMy laptop would fire the log on events but\nnot the account log on events.\n\n319\n00:17:33.320 --> 00:17:36.965\nAll right so you gotta think about what\nit is you're trying to capture and\n\n320\n00:17:36.965 --> 00:17:41.410\nthen scope the GPO properly or to\nthe correct location and active directory.\n\n321\n00:17:41.410 --> 00:17:45.220\nAnother one that's a little bit different\nin here is this audit object access,\n\n322\n00:17:45.220 --> 00:17:46.850\nsomething we need to be familiar with.\n\n323\n00:17:46.850 --> 00:17:50.980\nIt's really using this old\nschool object access policy,\n\n324\n00:17:50.980 --> 00:17:53.990\nit's a two-step process, right?\n\n325\n00:17:53.990 --> 00:17:57.070\nIf I come in here and tell it to audit\nobject access, let's say, in fact,\n\n326\n00:17:57.070 --> 00:17:57.930\nyou know what, let's do this.\n\n327\n00:17:59.630 --> 00:18:03.050\nLet's go, I've got a member server's OU,\nand let's see,\n\n328\n00:18:03.050 --> 00:18:05.600\nI think I've got a couple\nof servers in there.\n\n329\n00:18:05.600 --> 00:18:10.484\nI'm gonna create a new GPO real quick and\n\n330\n00:18:10.484 --> 00:18:13.940\nI'll call it Audit Policy.\n\n331\n00:18:13.940 --> 00:18:18.766\nAll right, and then I'm gonna go and\nmake changes to that policy and\n\n332\n00:18:18.766 --> 00:18:22.840\nI'm going to expand out policies and\nmy Windows settings\n\n333\n00:18:27.539 --> 00:18:29.270\nAnd my security settings.\n\n334\n00:18:30.420 --> 00:18:32.670\nLocal policies and then my audit policy.\n\n335\n00:18:32.670 --> 00:18:35.770\nI'm gonna double click on\nthis Audit object access.\n\n336\n00:18:35.770 --> 00:18:39.290\nAnd I'm gonna turn it on to\nfind these policy settings.\n\n337\n00:18:39.290 --> 00:18:42.400\nNow, all of these different auditing\ncategories, when you come in here you look\n\n338\n00:18:42.400 --> 00:18:45.440\nat it, you turn it on by choosing\nto find these policy settings.\n\n339\n00:18:45.440 --> 00:18:47.458\nAnd then you've got Success and Failure.\n\n340\n00:18:47.458 --> 00:18:50.000\nAnd you gotta think about what it\nis that you're trying to honor.\n\n341\n00:18:50.000 --> 00:18:54.399\nAgain, what does your company policy\nsay you need to keep track of,\n\n342\n00:18:54.399 --> 00:18:56.340\nsuccess or failure, right?\n\n343\n00:18:56.340 --> 00:18:59.919\nFor example,\nlet's say we're doing logon events.\n\n344\n00:18:59.919 --> 00:19:01.170\nYou might think, well,\n\n345\n00:19:01.170 --> 00:19:05.610\nI don't wanna audit success because I\ndon't care when people actually log in.\n\n346\n00:19:05.610 --> 00:19:08.310\nI need to know when people fail to log\nin cuz that can be an indicator that\n\n347\n00:19:08.310 --> 00:19:11.960\nsomebody's doing some password guessing or\nsomething like that.\n\n348\n00:19:11.960 --> 00:19:14.670\nSo I'm just gonna audit failure,\nnot success.\n\n349\n00:19:14.670 --> 00:19:17.430\nSo what happens is,\nyou look at your log file one day, and\n\n350\n00:19:17.430 --> 00:19:20.400\nat two o'clock in the morning you see\na bunch of audits where it's saying\n\n351\n00:19:20.400 --> 00:19:23.250\nlogon failure, logon failure,\nlogon failure.\n\n352\n00:19:23.250 --> 00:19:26.850\nOh, somebody's trying to access one of my\ncomputers at two o'clock in the morning.\n\n353\n00:19:26.850 --> 00:19:28.890\nAt 2:15, they stop, right?\n\n354\n00:19:28.890 --> 00:19:30.769\nNo more logon failures.\n\n355\n00:19:30.769 --> 00:19:35.079\nIf you weren't auditing success, you don't\nknow if the person gave up and left or\n\n356\n00:19:35.079 --> 00:19:39.270\nif they succeeded in logging on and\nactually got access to your system, right?\n\n357\n00:19:39.270 --> 00:19:42.430\nBecause you wasnt auditing successful\nlog on maybe he successfully guessed\n\n358\n00:19:42.430 --> 00:19:43.500\nthe password.\n\n359\n00:19:43.500 --> 00:19:46.580\nSo those are the kinda things you really\nhave to consider when your developing\n\n360\n00:19:46.580 --> 00:19:47.770\nthese polices.\n\n361\n00:19:47.770 --> 00:19:50.240\nThe one I wanna show you here\nthe object to access one,\n\n362\n00:19:50.240 --> 00:19:55.300\nlets say I wanna audit both Success and\nFailure for object access and I click OK.\n\n363\n00:19:55.300 --> 00:19:57.400\nThat actually is not gonna be enough.\n\n364\n00:19:57.400 --> 00:20:00.500\nI can scope that to that files server OU,\nright?\n\n365\n00:20:00.500 --> 00:20:04.750\nAnd that's gonna tell the file serves,\nyou need to audit object access both\n\n366\n00:20:04.750 --> 00:20:07.380\nsuccess and failure, but\nit doesn't know what objects.\n\n367\n00:20:07.380 --> 00:20:10.180\nYou still have to specify\nthe actual objects.\n\n368\n00:20:10.180 --> 00:20:14.240\nSo what I would end up doing\nonce I had turned it on.\n\n369\n00:20:14.240 --> 00:20:18.670\nNow, the server knows he's allowed to\naudit and that he should audit success and\n\n370\n00:20:18.670 --> 00:20:23.800\nfailure on object access but\nhe doesn't know what objects, right?\n\n371\n00:20:23.800 --> 00:20:29.330\nSo, the second part then,\nwould be to come in here and\n\n372\n00:20:29.330 --> 00:20:33.460\nfind the object that I wanted to, and\nI'm just gonna use this one as an example.\n\n373\n00:20:33.460 --> 00:20:35.860\nPull up the Properties of some folder or\n\n374\n00:20:35.860 --> 00:20:40.830\nfile and go to the Security tab and\non the Security tab I'm gonna click\n\n375\n00:20:40.830 --> 00:20:46.265\nAdvanced to open up my Advanced Security\ndialogue box and there's my Auditing tab.\n\n376\n00:20:46.265 --> 00:20:51.142\nAnd here's where I'm going to say,\nI'll click Add, and I want to audit,\n\n377\n00:20:51.142 --> 00:20:53.385\nand who do I want to audit?\n\n378\n00:20:53.385 --> 00:20:55.905\nMaybe I just want to audit my contractors.\n\n379\n00:20:55.905 --> 00:20:58.962\nMaybe this is a folder that my\nemployees should be able to get to but\n\n380\n00:20:58.962 --> 00:21:01.512\nmy contractors cannot, right?\n\n381\n00:21:01.512 --> 00:21:06.804\nOr maybe I want to audit my sales people,\nor maybe I wanna audit everyone, right?\n\n382\n00:21:06.804 --> 00:21:10.072\nIt's really, just again,\nall about your security policy,\n\n383\n00:21:10.072 --> 00:21:11.900\nwhat is it you need to keep track of.\n\n384\n00:21:11.900 --> 00:21:15.653\nSo you gotta tell it who you want to\naudit, you want to audit success,\n\n385\n00:21:15.653 --> 00:21:17.610\nfailure or all, which means both?\n\n386\n00:21:17.610 --> 00:21:22.506\nNow if I choose fail, but in my GPO I\nonly put a checkmark next to success,\n\n387\n00:21:22.506 --> 00:21:24.529\nit wont audit those, right?\n\n388\n00:21:24.529 --> 00:21:26.694\nYou have to give it\nthe ability to audit first,\n\n389\n00:21:26.694 --> 00:21:30.970\nthen you can come back in here and\npick what you really actually wanna audit.\n\n390\n00:21:30.970 --> 00:21:32.930\nAnd then I can choose what permissions.\n\n391\n00:21:32.930 --> 00:21:35.790\nMaybe they're supposed to be\nable to read this document, so\n\n392\n00:21:35.790 --> 00:21:37.590\nI don't really care if they read it.\n\n393\n00:21:37.590 --> 00:21:39.650\nI need to know if they make changes to it.\n\n394\n00:21:39.650 --> 00:21:42.419\nI want to audit just write permissions,\nright?\n\n395\n00:21:42.419 --> 00:21:44.300\nAnd I can click OK.\n\n396\n00:21:44.300 --> 00:21:46.840\nAnd now I've got my auto policy set.\n\n397\n00:21:46.840 --> 00:21:50.200\nSo remember with that particular\ncategory it's really a two step process.\n\n398\n00:21:50.200 --> 00:21:51.890\nYou gotta enable the auditing.\n\n399\n00:21:51.890 --> 00:21:55.680\nScope that to the appropriate GPO or\nto the appropriate OU.\n\n400\n00:21:55.680 --> 00:21:57.600\nThen you gotta go to the server itself and\n\n401\n00:21:57.600 --> 00:22:01.040\ndecide what object it is you\nreally wanna audit or objects.\n\n402\n00:22:01.040 --> 00:22:03.110\nYou can do multiple objects of course.\n\n403\n00:22:03.110 --> 00:22:06.668\nNow there are some in\nthose new categories,\n\n404\n00:22:06.668 --> 00:22:09.370\nthey make it a little bit easier.\n\n405\n00:22:09.370 --> 00:22:14.453\nIf I go back over to DC1 and\nI do Advanced Audit Policy and\n\n406\n00:22:14.453 --> 00:22:20.310\nI expand out my audit policies and\nI take a look at object access.\n\n407\n00:22:21.430 --> 00:22:26.702\nHere I can do Audit File System.\n\n408\n00:22:26.702 --> 00:22:30.717\nAnd if I turn this one on,\nit will audit all access to all objects,\n\n409\n00:22:30.717 --> 00:22:32.479\nI don't have to go specify.\n\n410\n00:22:32.479 --> 00:22:37.071\nBut be careful with that, I mean you\nwill generate a ton of log entries\n\n411\n00:22:37.071 --> 00:22:41.439\nif you're not careful so\nreally this involves a lot of planning.\n\n412\n00:22:41.439 --> 00:22:46.005\nAnd when you're developing your auditing\nstrategy you want to line up with whatever\n\n413\n00:22:46.005 --> 00:22:49.862\nyour corporate policy says you need\nto keep track of, it's really easy\n\n414\n00:22:49.862 --> 00:22:53.910\nto over audit and what happens is,\nyou generate too many log entries.\n\n415\n00:22:53.910 --> 00:22:57.090\nAnd then it's very difficult to find the\nimportant stuff, the stuff you're looking\n\n416\n00:22:57.090 --> 00:23:02.080\nfor in that log file, cuz there's so many\nlog entries, you miss the important ones.\n\n417\n00:23:02.080 --> 00:23:06.160\nIt's also very easy to under audit because\nyou're afraid to generate these log files.\n\n418\n00:23:06.160 --> 00:23:09.047\nSo you're very particular\nabout what you're auditing and\n\n419\n00:23:09.047 --> 00:23:12.799\nthen you miss important events that maybe\nyour company says you have to have or\n\n420\n00:23:12.799 --> 00:23:16.280\neven worse, government or\nindustry regulation says you have to have.\n\n421\n00:23:16.280 --> 00:23:20.295\nAnd they come in and audit you and\nyour auditing isn't correct, and\n\n422\n00:23:20.295 --> 00:23:22.770\nthen you get the fines or worse, right?\n\n423\n00:23:22.770 --> 00:23:25.765\n>> Yeah, that's one of\nthe unfortunate side effects of\n\n424\n00:23:25.765 --> 00:23:27.885\nbeing part of the job, right?\n\n425\n00:23:27.885 --> 00:23:31.775\nThat you have to do some auditing,\nyou have to figure out what's enough, but\n\n426\n00:23:31.775 --> 00:23:32.565\nnot too much.\n\n427\n00:23:32.565 --> 00:23:35.495\nHate to be looking for\na needle in a stack of needles, right?\n\n428\n00:23:35.495 --> 00:23:38.447\nIt's very difficult to figure out\nwhat it is you're looking for.\n\n429\n00:23:38.447 --> 00:23:42.146\nAnd you don't wanna start getting,\nwell you turn a deaf ear to the alerts,\n\n430\n00:23:42.146 --> 00:23:43.567\n[LAUGH] that start coming in.\n\n431\n00:23:43.567 --> 00:23:46.727\nLike, yeah, yeah, yeah that's not nothing,\nI don't need to worry about that.\n\n432\n00:23:46.727 --> 00:23:50.348\nYou do need to pay attention if you have\nset up auditing on something it's probably\n\n433\n00:23:50.348 --> 00:23:52.760\nfor a good reason and\nyou need to start looking at that,\n\n434\n00:23:52.760 --> 00:23:55.383\nmaking sure that it is doing\nexactly what you need it to do and\n\n435\n00:23:55.383 --> 00:23:59.319\nthen if something happens well there's the\ninformation that you're gonna need because\n\n436\n00:23:59.319 --> 00:24:01.550\nauditing seems lame,\nuntil you need it, right?\n\n437\n00:24:01.550 --> 00:24:02.059\n>> [LAUGH]\n>> And\n\n438\n00:24:02.059 --> 00:24:06.058\nthen it's the most awesome thing on earth\nthat you actually did enable some auditing\n\n439\n00:24:06.058 --> 00:24:09.220\nand get that information you\nneed to track down the problem.\n\n440\n00:24:09.220 --> 00:24:11.915\n>> Absolutely and for prosecuting people,\n\n441\n00:24:11.915 --> 00:24:15.310\nthat maybe somebody has\ncompromised your network.\n\n442\n00:24:15.310 --> 00:24:18.830\nYou go into a court of law and you've\ngot to have proof that this happened.\n\n443\n00:24:18.830 --> 00:24:24.080\nAnd you've gotta show that your auditing\npolicy's been in place for some time.\n\n444\n00:24:24.080 --> 00:24:25.240\nSo there's a lot to it.\n\n445\n00:24:25.240 --> 00:24:27.530\nVery, very important part, as you said.\n\n446\n00:24:27.530 --> 00:24:28.750\nIt's gotta be done.\n\n447\n00:24:28.750 --> 00:24:31.945\nAnd I know a couple of the viewers\nout there in chatroom are mentioning,\n\n448\n00:24:31.945 --> 00:24:35.820\nthere are a lot third-party tools\nthat'll help you crunch those log files.\n\n449\n00:24:35.820 --> 00:24:38.190\nIt's better to get too much\nthan not enough, right?\n\n450\n00:24:38.190 --> 00:24:41.620\nBecause you can always find a way,\nthe event viewer system in Windows\n\n451\n00:24:41.620 --> 00:24:45.600\nhas great filtering capabilities, so\nI can get it down to what I need.\n\n452\n00:24:45.600 --> 00:24:47.380\nIf I didn't capture it in the first place,\n\n453\n00:24:47.380 --> 00:24:49.310\nthere's no way to get that\ninformation back, right?\n\n454\n00:24:49.310 --> 00:24:53.866\nSo over audit it at first and then ween it\ndown, don't under audit and then realize,\n\n455\n00:24:53.866 --> 00:24:56.963\noh gosh, I wish I would have\ncaptured that information.\n\n456\n00:24:56.963 --> 00:24:58.023\n>> [LAUGH] How lame would that be?\n\n457\n00:24:58.023 --> 00:25:01.604\n>> [LAUGH]\n>> I think of a really good practical\n\n458\n00:25:01.604 --> 00:25:07.864\nthing for auditing is, say me and\nMike are both administrators, right?\n\n459\n00:25:07.864 --> 00:25:09.424\nSay Mike doesn't really like me.\n\n460\n00:25:09.424 --> 00:25:09.988\n>> [LAUGH]\n>> And\n\n461\n00:25:09.988 --> 00:25:13.310\nhe does some stuff that he\nshouldn't do and says, I did it.\n\n462\n00:25:13.310 --> 00:25:16.470\nWell that audit log is gonna\nprove that it wasn't me.\n\n463\n00:25:16.470 --> 00:25:18.600\nSo when people start pointing fingers and\nsaying, well, who did this?\n\n464\n00:25:18.600 --> 00:25:19.380\nWho did that?\n\n465\n00:25:19.380 --> 00:25:20.440\nWho's logging on here?\n\n466\n00:25:20.440 --> 00:25:22.318\nWho's making changes there?\n\n467\n00:25:22.318 --> 00:25:26.670\nThat audit trail, that's gonna be\nyour savor right there to say, well,\n\n468\n00:25:26.670 --> 00:25:30.390\nit wasn't me and we can look at the audit\nlog and we can see that it wasn't you.\n\n469\n00:25:30.390 --> 00:25:31.410\nIt'll save you a lot.\n\n470\n00:25:31.410 --> 00:25:32.390\nI've seen it happen.\n\n471\n00:25:32.390 --> 00:25:34.490\n>> Absolutely, absolutely.\n\n472\n00:25:34.490 --> 00:25:37.830\nAll right, well, I know we got more to do,\nDaniel, but I see that look in your eye.\n\n473\n00:25:37.830 --> 00:25:40.449\nYou're getting ready to tell me I'm out\nof time, I've talked too much, right?\n\n474\n00:25:40.449 --> 00:25:41.569\n>> [LAUGH]\n>> [LAUGH]\n\n475\n00:25:41.569 --> 00:25:42.478\n>> Unfortunately,\n\n476\n00:25:42.478 --> 00:25:44.659\nthere's only x amount\nof time in the day and\n\n477\n00:25:44.659 --> 00:25:47.029\nwe've come to the end of\nours here at ITProTV.\n\n478\n00:25:47.029 --> 00:25:48.680\nHopefully it was a great show for\nyou guys.\n\n479\n00:25:48.680 --> 00:25:50.510\nWe had a lot of fun making it.\n\n480\n00:25:50.510 --> 00:25:53.650\nSo signing off for ITProTV,\nI've been your host Daniel Lawry.\n\n481\n00:25:53.650 --> 00:25:54.389\n>> And I'm Mike Rodrick.\n\n482\n00:25:54.389 --> 00:25:55.530\n>> And we'll see you next time.\n\n483\n00:25:55.530 --> 00:26:01.660\n[SOUND]\n\n",
          "vimeoId": "134296848"
        },
        {
          "description": "134407938",
          "length": "2107",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server7410-17-1-configure_security_policies_pt2-072315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server7410-17-1-configure_security_policies_pt2-072315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server7410-17-1-configure_security_policies_pt2-072315-1-sm.jpg",
          "title": "Configure Security Policies Part 2",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.000\n[MUSIC]\n\n2\n00:00:11.443 --> 00:00:15.850\nGreetings everyone, and welcome to\nanother great episode of ITPro TV.\n\n3\n00:00:15.850 --> 00:00:19.210\nI'm your host, Daniel Lowry, and\nhere with me as always is Mike Rodrick.\n\n4\n00:00:19.210 --> 00:00:20.220\nHow's it going today, Mike?\n\n5\n00:00:20.220 --> 00:00:22.860\n>> It's going great Daniel,\ncuz we are talking about security,\n\n6\n00:00:22.860 --> 00:00:25.820\nanother one of my favorite topics.\n\n7\n00:00:25.820 --> 00:00:27.660\n>> Who's not favorite,\nthat is a great topic.\n\n8\n00:00:27.660 --> 00:00:28.340\n>> It really is.\n\n9\n00:00:28.340 --> 00:00:30.230\n>> We love to secure things around here.\n\n10\n00:00:30.230 --> 00:00:32.870\n>> Today,\nI'm gonna show you how we can simplify\n\n11\n00:00:32.870 --> 00:00:34.770\nthe application of security settings.\n\n12\n00:00:34.770 --> 00:00:39.200\nThere's many different ways we can go\nabout applying security configurations and\n\n13\n00:00:39.200 --> 00:00:41.260\nsecurity settings to our machines and\n\n14\n00:00:41.260 --> 00:00:43.690\nI'm gonna demonstrate a couple of them for\nyou.\n\n15\n00:00:43.690 --> 00:00:47.020\nThe first one I wanna talk about is\nsomething called security templates.\n\n16\n00:00:47.020 --> 00:00:50.680\nNow, we've seen group policies and I know\nyou might not have seen the group policy\n\n17\n00:00:50.680 --> 00:00:54.740\nepisode yet but within group policy,\nthere are a bunch of security settings.\n\n18\n00:00:54.740 --> 00:00:58.570\nIf you expand out Computer Configuration\nand then Windows Settings,\n\n19\n00:00:58.570 --> 00:01:01.810\nthen you can see Security Settings,\nand in there are dozens and\n\n20\n00:01:01.810 --> 00:01:05.340\ndozens of settings and I can go in and\nI can configure those there.\n\n21\n00:01:05.340 --> 00:01:10.450\nThe security template is actually just\nthe security settings out of the GPO.\n\n22\n00:01:10.450 --> 00:01:14.150\nIt's like we just took that one little\npart of the GPO, took all those settings,\n\n23\n00:01:14.150 --> 00:01:16.730\nand said let's put these\nin a security template.\n\n24\n00:01:18.240 --> 00:01:21.860\nThey do that because it can be\neasier when we're getting in\n\n25\n00:01:21.860 --> 00:01:24.650\nthese large organizations,\nthere's more than one person.\n\n26\n00:01:24.650 --> 00:01:28.070\nI know in small organizations,\nI wear all the hats,\n\n27\n00:01:28.070 --> 00:01:30.280\nI do everything from top to bottom.\n\n28\n00:01:30.280 --> 00:01:34.110\nBut in larger companies, we start\ndelegating responsibilities out, and\n\n29\n00:01:34.110 --> 00:01:38.390\nI might have somebody that I want to\ngenerate these security templates but they\n\n30\n00:01:38.390 --> 00:01:43.290\ndon't have the rights to go in and make\ngroup policies and link group policies.\n\n31\n00:01:43.290 --> 00:01:45.420\nSomebody else is responsible for that.\n\n32\n00:01:45.420 --> 00:01:48.970\nThey can take the security template,\nthey can configure all these settings.\n\n33\n00:01:48.970 --> 00:01:51.665\nWe tell them though,\nthis is our company's policy.\n\n34\n00:01:51.665 --> 00:01:55.355\nThese are the settings that we need to\napply to, let's say, all client machines.\n\n35\n00:01:55.355 --> 00:01:57.455\nI want you to create\na template that we can use.\n\n36\n00:01:57.455 --> 00:02:00.015\nThey can go in there and they can\nwork with these security templates\n\n37\n00:02:00.015 --> 00:02:02.725\neven though they don't have permissions\nto work inside a group policy.\n\n38\n00:02:02.725 --> 00:02:07.240\nWe can later take that template and\nwe can import it into a group policy, so\n\n39\n00:02:07.240 --> 00:02:11.500\nit gives us the ability to make sure\nthese settings are applied consistently\n\n40\n00:02:11.500 --> 00:02:13.880\nacross the board wherever\nwe're trying to apply them.\n\n41\n00:02:13.880 --> 00:02:15.882\n>> Get somebody else to do that job,\nright, Mike?\n\n42\n00:02:15.882 --> 00:02:16.564\n[LAUGH]\n>> Absolutely.\n\n43\n00:02:16.564 --> 00:02:17.720\n>> I gotta do all the work around here.\n\n44\n00:02:17.720 --> 00:02:20.550\n[LAUGH]\n>> Any time I can delegate part of my job,\n\n45\n00:02:20.550 --> 00:02:22.105\nthat's a good thing.\n\n46\n00:02:22.105 --> 00:02:24.620\n[LAUGH]\n>> Amen.\n\n47\n00:02:24.620 --> 00:02:27.652\nThe first thing I'm gonna do is I'm going\nto create a Microsoft management console.\n\n48\n00:02:27.652 --> 00:02:32.910\nI right-click on my logo down here,\nrun MMC for Microsoft management console.\n\n49\n00:02:32.910 --> 00:02:36.460\nOpens up my blank console and\nthen I'm going to add a couple of snapins,\n\n50\n00:02:36.460 --> 00:02:39.800\nI do a little file, add, remove snapin.\n\n51\n00:02:39.800 --> 00:02:43.830\nThe one I want is my security template\nsnapin, so I'll add that one.\n\n52\n00:02:43.830 --> 00:02:47.390\nI'm also gonna add this other one,\nsecurity configuration and analysis.\n\n53\n00:02:47.390 --> 00:02:51.270\nI'll show you how it kind of works right\nalong with that security template.\n\n54\n00:02:51.270 --> 00:02:55.460\nI'll click OK and\nnow I've got my new console here.\n\n55\n00:02:55.460 --> 00:02:57.200\nI'll expand that over, so\nwe can see everything and\n\n56\n00:02:57.200 --> 00:02:59.110\nI'll expand out Security Templates.\n\n57\n00:02:59.110 --> 00:03:02.310\nHere's the default location of where it's\ngonna store the templates that I create,\n\n58\n00:03:02.310 --> 00:03:07.260\nand all I'm gonna do is right-click and\nchoose New Template.\n\n59\n00:03:07.260 --> 00:03:13.377\nI'll give it a baseline, and\nI'm gonna call this one Laptop Baseline.\n\n60\n00:03:15.746 --> 00:03:16.520\nI'll click Okay.\n\n61\n00:03:18.270 --> 00:03:22.460\nIf I expand that out, there's my\nnew template that I just created.\n\n62\n00:03:22.460 --> 00:03:25.860\nNow nothing is configured in it yet, so\nthat's the next step is to go in and\n\n63\n00:03:25.860 --> 00:03:26.940\nconfigure some settings.\n\n64\n00:03:26.940 --> 00:03:30.390\nI expand this out and\nthis is that subset I was talking about.\n\n65\n00:03:30.390 --> 00:03:35.310\nIf you look inside a group policy,\nyou will see these exact same nodes ccount\n\n66\n00:03:35.310 --> 00:03:38.430\npolicies, local policies,\nevent log, etc, etc.\n\n67\n00:03:38.430 --> 00:03:40.010\nLet's make a couple changes here.\n\n68\n00:03:40.010 --> 00:03:42.400\nI'll go ahead and\nexpand out local policies and\n\n69\n00:03:42.400 --> 00:03:46.230\nmaybe I want to change some of my\nauditing settings on my laptop.\n\n70\n00:03:46.230 --> 00:03:48.170\nI want to audit log on events.\n\n71\n00:03:48.170 --> 00:03:52.190\nI want to know anytime somebody\nlogs onto that laptop.\n\n72\n00:03:52.190 --> 00:03:55.030\nI'll set that for success and failure.\n\n73\n00:03:55.030 --> 00:03:58.260\nMaybe we wanna take a look at,\nwhat's another one?\n\n74\n00:03:59.510 --> 00:04:05.455\nWe'll audit system events on those\nlaptops for troubleshooting purposes.\n\n75\n00:04:05.455 --> 00:04:07.710\nWe'll make a couple changes there, and\n\n76\n00:04:07.710 --> 00:04:10.730\nlet's say we go down to\nour security options.\n\n77\n00:04:12.420 --> 00:04:17.010\nLet's pop up a message on those laptops,\nso if somebody tries to grab this laptop\n\n78\n00:04:17.010 --> 00:04:20.050\nand goes to log in,\nI want them to see a little message.\n\n79\n00:04:20.050 --> 00:04:25.745\nI'm gonna put something like-\n>> Drop this laptop you bad bad man.\n\n80\n00:04:25.745 --> 00:04:26.330\n[LAUGH]\n>> There we go.\n\n81\n00:04:26.330 --> 00:04:31.499\nWe'll say drop this laptop,\nshould put a comma,\n\n82\n00:04:31.499 --> 00:04:34.829\nyou bad, bad man, there we go.\n\n83\n00:04:34.829 --> 00:04:42.250\n>> I like it [LAUGH], simple,\nyet it gets the point across.\n\n84\n00:04:42.250 --> 00:04:42.810\nIt really does.\n\n85\n00:04:42.810 --> 00:04:45.960\nThat's where a lot of companies will put\nthings like, you know this is company\n\n86\n00:04:45.960 --> 00:04:50.800\nproperty, only to be used by authorized\npersonnel and used by any other than\n\n87\n00:04:50.800 --> 00:04:55.180\nthe authorized personnel is a violation\nblah blah blah or something like that.\n\n88\n00:04:55.180 --> 00:04:58.000\nThat's that disclaimer that\nwe can pop up there that\n\n89\n00:04:58.000 --> 00:05:00.700\nhelps us prosecute people in the future.\n\n90\n00:05:00.700 --> 00:05:02.740\nI made a couple of changes in here and\n\n91\n00:05:02.740 --> 00:05:05.040\nnow I'm gonna save it, and\nthis is an important step.\n\n92\n00:05:05.040 --> 00:05:08.270\nIt doesn't save this automatically,\nyou have to be real careful with this.\n\n93\n00:05:08.270 --> 00:05:12.540\nIf you try to close this console,\nit should warn you but here it's saying,\n\n94\n00:05:12.540 --> 00:05:14.300\nSave console settings.\n\n95\n00:05:14.300 --> 00:05:17.810\nThat's not my template,\nthat's the console itself.\n\n96\n00:05:17.810 --> 00:05:18.600\nYou want to be careful.\n\n97\n00:05:18.600 --> 00:05:22.720\nYou want to make sure that you right-click\non that template that you just created,\n\n98\n00:05:22.720 --> 00:05:28.180\nand you chose Save and that's going\nto save it at that default location.\n\n99\n00:05:28.180 --> 00:05:33.350\nIf I go take a look, I should be\nable to navigate into my documents,\n\n100\n00:05:33.350 --> 00:05:37.140\nSecurity Templates, and\nthere's my Laptop Baseline.\n\n101\n00:05:38.150 --> 00:05:39.760\nNow we've got a template and\n\n102\n00:05:39.760 --> 00:05:42.650\nI can apply this template in\na couple of different ways.\n\n103\n00:05:42.650 --> 00:05:47.360\nIn a small environment, maybe I don't have\na domain, I can't use group policy, so\n\n104\n00:05:47.360 --> 00:05:51.530\nmaybe I take this template and\nI apply it directly to this machine or\n\n105\n00:05:51.530 --> 00:05:54.590\nI put it up in a shared folder and\nI can apply it to other machines,\n\n106\n00:05:54.590 --> 00:06:01.610\nother work group members on my network or\nI can import it into a group policy.\n\n107\n00:06:01.610 --> 00:06:02.830\nLet me show you what I mean here.\n\n108\n00:06:02.830 --> 00:06:05.200\nI'm gonna copy that,\nI should have left that open.\n\n109\n00:06:05.200 --> 00:06:09.230\nLet's go copy that out,\nmake it a little bit easier to grab.\n\n110\n00:06:09.230 --> 00:06:11.900\nThis is my little sandbox.\n\n111\n00:06:11.900 --> 00:06:16.130\nIn a real world, I might put this up\non a share or I might email it over to\n\n112\n00:06:17.230 --> 00:06:20.230\nwhoever was responsible for\ncreating the group policies.\n\n113\n00:06:20.230 --> 00:06:22.870\nHere's the template I was\nassigned with creating,\n\n114\n00:06:22.870 --> 00:06:24.980\nnow you can do whatever it\nis you want to do with it.\n\n115\n00:06:24.980 --> 00:06:27.670\n>> Are these do these template\nfiles get very big at all, Mike?\n\n116\n00:06:27.670 --> 00:06:29.020\n>> They're not, they're teeny tiny.\n\n117\n00:06:29.020 --> 00:06:31.920\nIn fact, that one I just did is\none kilobyte which is just because\n\n118\n00:06:31.920 --> 00:06:34.340\nit didn't take up a full sector on there.\n\n119\n00:06:34.340 --> 00:06:36.880\nSo they're teeny tiny, they are IMF files,\n\n120\n00:06:36.880 --> 00:06:39.590\nanother good thing to know about\nthose generates an IMF file.\n\n121\n00:06:39.590 --> 00:06:43.190\nI'm gonna flip over to\nmy domain controller and\n\n122\n00:06:43.190 --> 00:06:46.500\nI'll open up my file explorer,\ngo ahead and go grab that.\n\n123\n00:06:47.750 --> 00:06:52.360\nWe'll go to that c drive,\nand we'll grab that guy and\n\n124\n00:06:52.360 --> 00:06:55.050\njust paste it over here real quick,\nso I can find it.\n\n125\n00:06:58.280 --> 00:07:03.035\nThen what I would do, let's see,\nthat was for my laptop, so\n\n126\n00:07:03.035 --> 00:07:07.062\nmaybe I make a new GPO and\nI call it Laptop Settings.\n\n127\n00:07:11.009 --> 00:07:15.870\nThen I can edit that GPO,\njust right-click > Edit.\n\n128\n00:07:15.870 --> 00:07:17.980\nI'll navigate into those\nsecurity settings, so\n\n129\n00:07:17.980 --> 00:07:23.100\nI'll open up Computer Configuration\n> Policies > Windows Settings and\n\n130\n00:07:23.100 --> 00:07:24.430\nthen into my security settings.\n\n131\n00:07:27.080 --> 00:07:30.360\nIf you think about it, right there, we\nsee those same things, account policies,\n\n132\n00:07:30.360 --> 00:07:32.080\nlocal policies, event logs.\n\n133\n00:07:32.080 --> 00:07:33.250\nNot all of the settings but\n\n134\n00:07:33.250 --> 00:07:37.590\nthe good majority of them are available in\nthat template and to apply that template,\n\n135\n00:07:37.590 --> 00:07:40.880\nI just right-click on Security Settings\nand choose Import Policy.\n\n136\n00:07:42.640 --> 00:07:47.702\nThen I'll browse and find that and\nI dump that in my downloads folder there.\n\n137\n00:07:54.693 --> 00:07:58.268\nThere it is, so I open that up and\nnow if I take a look at my GPO,\n\n138\n00:07:58.268 --> 00:08:02.708\nwhich I haven't configured any settings\non my GPO yet, it was a blank one.\n\n139\n00:08:02.708 --> 00:08:06.298\nI expand out Local Policies and\nthen Audit Policy.\n\n140\n00:08:06.298 --> 00:08:09.590\nThere I can see my logon\nevents are gonna be audited.\n\n141\n00:08:09.590 --> 00:08:10.620\nMy system events.\n\n142\n00:08:10.620 --> 00:08:13.320\nIf we take a look at my security options.\n\n143\n00:08:13.320 --> 00:08:14.880\nThere's Daniel's message.\n\n144\n00:08:14.880 --> 00:08:18.420\nDrop this laptop you bad, bad man.\n\n145\n00:08:18.420 --> 00:08:19.280\nAll right.\n\n146\n00:08:19.280 --> 00:08:22.290\nSo now, one person created this\ntemplate on their Windows 8 machine,\n\n147\n00:08:22.290 --> 00:08:23.730\non their little client machine,\n\n148\n00:08:23.730 --> 00:08:27.680\ngenerated that INF file,\ngave it over to the appropriate people.\n\n149\n00:08:27.680 --> 00:08:30.120\nThey can then take that,\nimport it into a GPO,\n\n150\n00:08:30.120 --> 00:08:32.980\nand apply it to all\nthe laptops on my network.\n\n151\n00:08:32.980 --> 00:08:35.390\nThey didn't have to go through and\nconfigure the settings,\n\n152\n00:08:35.390 --> 00:08:37.140\nit was already done with that template.\n\n153\n00:08:37.140 --> 00:08:39.140\nSo pretty cool little tool there.\n\n154\n00:08:39.140 --> 00:08:40.930\n>> Yeah, I could see where that\nwould come in super handy,\n\n155\n00:08:40.930 --> 00:08:44.180\nlike say you owned a business,\nor you worked for a business and\n\n156\n00:08:44.180 --> 00:08:48.000\nthey acquired another company, you guys\nto start merging together, or maybe you\n\n157\n00:08:48.000 --> 00:08:52.530\ncontinue to keep your own domains, you\njust create a forest kind of environment.\n\n158\n00:08:52.530 --> 00:08:54.980\nYou could create these security templates,\njumping over there and\n\n159\n00:08:54.980 --> 00:08:58.910\nnow they're just as,\nthey're in line with your security policy.\n\n160\n00:08:58.910 --> 00:09:01.100\nAll you had to do was import\nthat security template.\n\n161\n00:09:01.100 --> 00:09:02.430\nMade things a whole lot easier.\n\n162\n00:09:02.430 --> 00:09:03.760\n>> Oh, absolutely, absolutely.\n\n163\n00:09:03.760 --> 00:09:05.580\nAll right,\nlet me flip back over to the client.\n\n164\n00:09:05.580 --> 00:09:08.450\nThe next one I wanna show you here\nis that other snap-in I added.\n\n165\n00:09:08.450 --> 00:09:11.320\nThat's a security configuration and\nanalysis.\n\n166\n00:09:11.320 --> 00:09:16.840\nThis is really useful in small shops when\nyou're not gonna be using group policies,\n\n167\n00:09:16.840 --> 00:09:19.790\nsay to apply this to all\nthe laptops on the network.\n\n168\n00:09:19.790 --> 00:09:23.340\nIt allows me to, or for\njust making the template in general,\n\n169\n00:09:23.340 --> 00:09:25.050\nthat's another good use for this.\n\n170\n00:09:25.050 --> 00:09:28.720\nWhat it allows me to do\nis take a template and\n\n171\n00:09:28.720 --> 00:09:32.850\ncompare it side by side with\nthe current settings on this machine.\n\n172\n00:09:32.850 --> 00:09:35.670\nMaybe instead of starting with\nthe template and going through and\n\n173\n00:09:35.670 --> 00:09:39.630\nconfiguring all those options, maybe I've\nalready configured this particular laptop,\n\n174\n00:09:39.630 --> 00:09:43.680\nwith all of the settings that I want,\nright, and now I want to make a template.\n\n175\n00:09:43.680 --> 00:09:47.220\nOr, I've made a template, and I want to\nmake sure I didn't miss any settings.\n\n176\n00:09:47.220 --> 00:09:48.070\nAll you have to do is,\n\n177\n00:09:48.070 --> 00:09:51.180\nyou're gonna right-click, you have to\ncreate what they call a database, and\n\n178\n00:09:51.180 --> 00:09:54.400\nit's just a temporary work space for\nit to load that template up.\n\n179\n00:09:54.400 --> 00:09:55.570\nI'll click Open Database.\n\n180\n00:09:56.590 --> 00:09:59.200\nI don't have one, so\nit will end up creating one and\n\n181\n00:09:59.200 --> 00:10:01.585\nI'll call it Laptop Baseline.\n\n182\n00:10:01.585 --> 00:10:04.680\nOr I'll call it Laptop so I don't\nconflict with that other name there.\n\n183\n00:10:05.810 --> 00:10:08.780\nAll right, and then I'll tell it\nwhat template I wanna import as my\n\n184\n00:10:08.780 --> 00:10:10.330\nLaptop Baseline and I click Open.\n\n185\n00:10:11.720 --> 00:10:15.414\nRight, and then once you've got\nthe database created and you told it what\n\n186\n00:10:15.414 --> 00:10:19.180\ntemplate that you want to use,\nyou right-click > Analyze Computer Now.\n\n187\n00:10:19.180 --> 00:10:22.012\nAnd then you have to tell it where you\nwant to put the log file if there's\n\n188\n00:10:22.012 --> 00:10:22.780\nany errors.\n\n189\n00:10:22.780 --> 00:10:23.430\nYou click OK.\n\n190\n00:10:25.120 --> 00:10:28.130\nAnd we'll just put it somewhere\nelse that it can find.\n\n191\n00:10:28.130 --> 00:10:32.820\nWe'll just dump it right\nthere in that Templates.\n\n192\n00:10:32.820 --> 00:10:35.920\nRight, and we'll click OK,\nand there we go.\n\n193\n00:10:35.920 --> 00:10:40.580\nExpand out Security Configuration and\nI can go into my Local Policies and\n\n194\n00:10:40.580 --> 00:10:42.390\nmy Audit Policy, and\n\n195\n00:10:42.390 --> 00:10:47.070\non this middle column here,\nDatabase Settings, this is the template.\n\n196\n00:10:47.070 --> 00:10:50.320\nThe template is said to audit,\nsuccess and failure.\n\n197\n00:10:50.320 --> 00:10:55.270\nIt's also gonna do success and failure on\nthe audit systems or the system events.\n\n198\n00:10:55.270 --> 00:10:58.960\nOn the right column here this is what\nthe current computers configure.\n\n199\n00:10:58.960 --> 00:11:02.710\nAnd it's really nice cuz it gives you the\nlittle check marks here, cuz some of these\n\n200\n00:11:02.710 --> 00:11:06.260\ncould be rather long and I maybe don't\nwant to go and scroll through everything.\n\n201\n00:11:06.260 --> 00:11:07.890\nThis shows me where, hey,\n\n202\n00:11:07.890 --> 00:11:13.430\nyour current settings don't match\nyour template settings, right.\n\n203\n00:11:13.430 --> 00:11:16.640\nAnd another really neat thing about\nthis is I don't have to go back\n\n204\n00:11:16.640 --> 00:11:20.720\nto the template and edit it since it's got\nthat template loaded up in that database.\n\n205\n00:11:20.720 --> 00:11:24.000\nI can actually edit it here, so\nif I wanted to add something,\n\n206\n00:11:24.000 --> 00:11:28.000\nlike if I go to user right assignment or\nwhat's that one we did, Security Options.\n\n207\n00:11:30.060 --> 00:11:34.280\nWe had that Drop this laptop,\nbut we didn't put a title for\n\n208\n00:11:34.280 --> 00:11:36.490\nthe window so maybe I want to add that.\n\n209\n00:11:36.490 --> 00:11:39.600\nI can just double click on it and\nconfigure it from right here,\n\n210\n00:11:39.600 --> 00:11:41.170\nshows me what the computer setting is.\n\n211\n00:11:41.170 --> 00:11:43.790\nI can actually copy and\npaste it down there.\n\n212\n00:11:43.790 --> 00:11:46.770\nAnd we'll say Logon Message.\n\n213\n00:11:47.930 --> 00:11:48.630\nAnd I'll click OK.\n\n214\n00:11:48.630 --> 00:11:52.720\nAnd so now I'm making change\nto that template through this.\n\n215\n00:11:52.720 --> 00:11:57.400\nAnd if I wanted to configure this\nparticular machine with that template,\n\n216\n00:11:57.400 --> 00:11:59.995\nall I have to do now is right-click and\n\n217\n00:11:59.995 --> 00:12:04.245\nchoose configure computer now and\nit would apply those settings.\n\n218\n00:12:04.245 --> 00:12:08.995\nAnd it's really not liking the fact\nthat that log folder's not there.\n\n219\n00:12:08.995 --> 00:12:11.345\nWe'll just find that one, this works.\n\n220\n00:12:11.345 --> 00:12:14.555\nAnd now it's taking that template and\nit's applying it to this machine.\n\n221\n00:12:14.555 --> 00:12:16.625\nSo if I go and\nanalyze this computer again.\n\n222\n00:12:21.042 --> 00:12:23.857\nAnd I take a look at my Local Policies and\nmy User Rights, or\n\n223\n00:12:23.857 --> 00:12:26.640\nactually what's a good one,\nthe Audit Policy.\n\n224\n00:12:26.640 --> 00:12:28.580\nNow you can see I've got\ngreen check marks on both,\n\n225\n00:12:28.580 --> 00:12:32.100\nbecause the computer settings\nnow match the template settings.\n\n226\n00:12:32.100 --> 00:12:36.330\nSo again not real useful in it, well it\ndepends I guess on how you're doing this.\n\n227\n00:12:36.330 --> 00:12:40.220\nIn a domain environment, I'm probably\nnot configuring individual machines.\n\n228\n00:12:40.220 --> 00:12:41.160\nBut I like I said,\n\n229\n00:12:41.160 --> 00:12:44.240\nmaybe you've got a machine that's already\nconfigured the way you want it and\n\n230\n00:12:44.240 --> 00:12:47.920\nyou want to see if this template lines\nup with that machine's settings.\n\n231\n00:12:47.920 --> 00:12:49.420\nNow I can see them side by side, and\n\n232\n00:12:49.420 --> 00:12:52.850\nI can copy those machine settings right\ninto the template to update my template.\n\n233\n00:12:52.850 --> 00:12:54.990\nSo very cool little tool\nthey give us there.\n\n234\n00:12:54.990 --> 00:12:59.160\nThat was the security configuration and\nanalysis snap-in.\n\n235\n00:12:59.160 --> 00:13:01.966\n>> Well, Mike, this is not the end\nof the security game as far as\n\n236\n00:13:01.966 --> 00:13:03.961\nthe Microsoft Server goes though, is it.\n\n237\n00:13:03.961 --> 00:13:07.155\nIt's got a neat little tool,\na wizard as we like to say, right Mike?\n\n238\n00:13:07.155 --> 00:13:08.480\n>> [LAUGH]\n>> It does, it does, so\n\n239\n00:13:08.480 --> 00:13:10.200\nlet's go take a look at that next.\n\n240\n00:13:10.200 --> 00:13:13.860\nSo another thing that we always talk\nabout when we talk about security\n\n241\n00:13:13.860 --> 00:13:17.461\nis hardening your servers, right,\nmaking sure that your servers are secure.\n\n242\n00:13:17.461 --> 00:13:21.625\nAnd hardening a server involves\napplying all of your updates,\n\n243\n00:13:21.625 --> 00:13:24.165\nof course, and\nthen changing most of your default,\n\n244\n00:13:24.165 --> 00:13:27.295\nyou don't want to leave settings\nin their default state.\n\n245\n00:13:27.295 --> 00:13:32.415\nRemoving any unnecessary services,\nclosing any ports that aren't necessary.\n\n246\n00:13:32.415 --> 00:13:34.865\nThat's what we mean by hardening a server.\n\n247\n00:13:34.865 --> 00:13:36.685\nAnd let's wake this guy back up.\n\n248\n00:13:39.777 --> 00:13:42.379\nAnd let's add, I don't think this\nguy is running, you know what,\n\n249\n00:13:42.379 --> 00:13:44.400\nI'm gonna do this on my\ndomain controller instead.\n\n250\n00:13:44.400 --> 00:13:47.350\nIt might be an interesting\none to try this on.\n\n251\n00:13:47.350 --> 00:13:51.930\nI'll close some windows there,\ncuz this guy's running some services.\n\n252\n00:13:51.930 --> 00:13:54.280\nSo, what I am gonna do,\nis I'm gonna go to Tools, and\n\n253\n00:13:54.280 --> 00:13:56.729\nthen my Security Configuration Wizard.\n\n254\n00:13:57.770 --> 00:14:02.000\nNow what this is, this guy is gonna\nanalyze the server that I'm running this\n\n255\n00:14:02.000 --> 00:14:05.650\non, and it's gonna look at what\nroles are currently running and\n\n256\n00:14:05.650 --> 00:14:10.100\nit's got this database that tells it\nwhat firewall rules are necessary.\n\n257\n00:14:10.100 --> 00:14:13.720\nWhat ports need to be open,\nwhat services need to be running for\n\n258\n00:14:13.720 --> 00:14:16.230\nthe different roles that might\nbe installed on this machine.\n\n259\n00:14:16.230 --> 00:14:20.660\nAnd it's gonna make recommendations,\nit's gonna help me harden my server.\n\n260\n00:14:20.660 --> 00:14:22.240\nLet me show you how it does it.\n\n261\n00:14:22.240 --> 00:14:24.415\nYou do want to be careful\nwith this wizard.\n\n262\n00:14:24.415 --> 00:14:27.210\nCuz you can lock your machine\ndown to the point where\n\n263\n00:14:27.210 --> 00:14:28.660\nyou can't get access to it anymore.\n\n264\n00:14:28.660 --> 00:14:31.180\nIt's going to warn you\nseveral times through here.\n\n265\n00:14:31.180 --> 00:14:32.610\nMake sure you're paying attention.\n\n266\n00:14:32.610 --> 00:14:35.618\nThe first thing you need to do is\nmake sure the server is configured.\n\n267\n00:14:35.618 --> 00:14:40.010\nIf you're gonna run this wizard, let's say\nyou plan on making this a DHCP server,\n\n268\n00:14:40.010 --> 00:14:45.100\nwell, if you run this wizard before you\ninstall DHCP, then it didn't detect DHCP.\n\n269\n00:14:45.100 --> 00:14:47.550\nAnd didn't create the firewall\nrules necessary for DHCP.\n\n270\n00:14:47.550 --> 00:14:52.020\nIt didn't allow the services\nthat DHCP needs to run.\n\n271\n00:14:52.020 --> 00:14:55.110\nSo you wanna configure\nthe machine completely first,\n\n272\n00:14:55.110 --> 00:14:57.110\nthen you wanna run this wizard.\n\n273\n00:14:57.110 --> 00:14:59.310\nSo I'll click Next on the wizard.\n\n274\n00:14:59.310 --> 00:15:01.000\nAnd I'm going to create\na new Security Policy, but\n\n275\n00:15:01.000 --> 00:15:04.160\nI also have the option to\nedit an existing policy.\n\n276\n00:15:04.160 --> 00:15:09.820\nI could apply an existing policy, and\nI could roll back the last applied policy,\n\n277\n00:15:09.820 --> 00:15:14.930\nwhich is a really nice feature, just in\ncase I screw things up too bad, right.\n\n278\n00:15:14.930 --> 00:15:19.260\n>> That's right and it's always a pleasure\nto be able to go, this did not work as I\n\n279\n00:15:19.260 --> 00:15:22.630\nexpected it to and things are kind\nof freaking out on me here.\n\n280\n00:15:22.630 --> 00:15:24.260\nLet me just go ahead and\nroll that back real quick.\n\n281\n00:15:24.260 --> 00:15:28.350\nBecause before we had this, it was what,\nbasically grab your backups.\n\n282\n00:15:28.350 --> 00:15:29.631\n>> Pretty much.\n\n283\n00:15:29.631 --> 00:15:30.666\n>> [LAUGH]\n>> Back in 2003,\n\n284\n00:15:30.666 --> 00:15:31.926\nthey didn't have that option, and\n\n285\n00:15:31.926 --> 00:15:35.213\nif you did something wrong and applied it,\n>> Yeah, you were doing exactly that,\n\n286\n00:15:35.213 --> 00:15:36.498\nDanny, go into your backups.\n\n287\n00:15:36.498 --> 00:15:40.140\nAll right so, we'll create a new\nsecurity policy and I'll click Next and\n\n288\n00:15:40.140 --> 00:15:41.980\nit wants to know which\nserver I want to use.\n\n289\n00:15:41.980 --> 00:15:46.040\nI could actually use a remote server,\nI could do this on a different server.\n\n290\n00:15:46.040 --> 00:15:52.455\nI'll click Next and it's gonna open up\nthis Security Configuration Database, and\n\n291\n00:15:52.455 --> 00:15:57.895\nit gives me the option to view\nthe database, I'll open that up as well.\n\n292\n00:15:57.895 --> 00:15:59.990\nJust so\nI can show you what's going on here.\n\n293\n00:15:59.990 --> 00:16:01.066\nThis is the database it uses.\n\n294\n00:16:01.066 --> 00:16:05.468\nThis is how it knows about all\nthe different roles and features and\n\n295\n00:16:05.468 --> 00:16:06.840\nwhat they require.\n\n296\n00:16:06.840 --> 00:16:12.340\nFor example, if I come in here and look at\nDHCP, there's how it knows what services\n\n297\n00:16:12.340 --> 00:16:17.440\nDHCP requires what firewall\nrules DHCP requires, all right?\n\n298\n00:16:17.440 --> 00:16:18.570\nYou don't make changes in here.\n\n299\n00:16:18.570 --> 00:16:22.210\nThis is the database that it uses\nas we run through the wizard.\n\n300\n00:16:22.210 --> 00:16:25.080\nYou do want to make sure you've\ngot all your latest updates,\n\n301\n00:16:25.080 --> 00:16:29.800\nbecause like if a service changes, I\nremember a big one when Exchange went from\n\n302\n00:16:29.800 --> 00:16:33.460\none version to the next, you had to\nmake sue you updated this wizard so\n\n303\n00:16:33.460 --> 00:16:34.910\nit knew about some of those do feature.\n\n304\n00:16:34.910 --> 00:16:38.130\nExchange went from that you know one\nserver model to like three server\n\n305\n00:16:38.130 --> 00:16:40.890\nmodel where everything was on separate\nmachines and you really had to make\n\n306\n00:16:40.890 --> 00:16:43.870\nsure you updated this or\nit would close your exchange setup.\n\n307\n00:16:43.870 --> 00:16:46.120\n>> Yeah and that's never a good thing.\n\n308\n00:16:46.120 --> 00:16:49.150\nWhen those when the email stops,\nyour phone starts.\n\n309\n00:16:49.150 --> 00:16:50.245\n>> That's right.\n\n310\n00:16:50.245 --> 00:16:51.769\n>> [LAUGH]\n>> All right so I'll click next.\n\n311\n00:16:52.780 --> 00:16:53.860\nAnd we go through the processes.\n\n312\n00:16:53.860 --> 00:16:57.710\nBasically it got four phases that\nthis wizard is gonna go through.\n\n313\n00:16:57.710 --> 00:17:00.160\nAnd it gives you a big fat warning\nthat I was already telling you about.\n\n314\n00:17:00.160 --> 00:17:04.990\nAnswering these questions incorrectly\nmight disable desired functionality or\n\n315\n00:17:04.990 --> 00:17:07.190\nenable undesired functionality.\n\n316\n00:17:07.190 --> 00:17:09.520\nMake sure you know what the heck\nyou are doing before you use it.\n\n317\n00:17:09.520 --> 00:17:11.130\nI mean that's not what it says.\n\n318\n00:17:11.130 --> 00:17:14.650\nBefore proceeding, make sure that you\nhave a through knowledge of the roles and\n\n319\n00:17:14.650 --> 00:17:16.420\nother features performed by the server.\n\n320\n00:17:16.420 --> 00:17:20.030\nCuz if you don't know that this guy\nhappens to be running as a print server,\n\n321\n00:17:20.030 --> 00:17:23.200\nand you didn't know that, you could\nend up closing all those down and\n\n322\n00:17:23.200 --> 00:17:25.800\ndisabling those firewall rules,\nand then all of the sudden\n\n323\n00:17:25.800 --> 00:17:29.090\nnobody can print anymore and\nyou've gotta come out and figure out why.\n\n324\n00:17:29.090 --> 00:17:30.550\nMake sure you know what you're doing.\n\n325\n00:17:30.550 --> 00:17:32.080\nClick Next.\n\n326\n00:17:32.080 --> 00:17:34.840\nAnd then it shows me okay these\nare the roles that it detected.\n\n327\n00:17:35.930 --> 00:17:38.410\nLike DFS, this guy's a DHCP server.\n\n328\n00:17:38.410 --> 00:17:41.180\nThis is a file server,\nit's also a domain controller.\n\n329\n00:17:41.180 --> 00:17:42.890\nThis is where you wanna be really careful.\n\n330\n00:17:42.890 --> 00:17:45.380\nYou should know what\nthis sever is doing and\n\n331\n00:17:45.380 --> 00:17:49.110\nyou wanna look here and\nmake sure that it found everything.\n\n332\n00:17:49.110 --> 00:17:51.808\nWhat if it didn't pick up DHCP for\nsome reason?\n\n333\n00:17:51.808 --> 00:17:55.030\nMaybe the DHCP service isn't running,\nsomething had failed, and\n\n334\n00:17:55.030 --> 00:17:57.630\nI'm running this wizard and\nit didn't detect that.\n\n335\n00:17:57.630 --> 00:18:01.460\nI need to make sure that I come in here\nand put a check mark next to DHCP.\n\n336\n00:18:01.460 --> 00:18:04.050\nThey've got a little drop\ndown list at the top.\n\n337\n00:18:04.050 --> 00:18:08.480\nThis doesn't change what's selected,\nit only changes the view down here.\n\n338\n00:18:08.480 --> 00:18:10.680\nRight now I'm looking at installed roles.\n\n339\n00:18:10.680 --> 00:18:11.760\nI could look at all roles.\n\n340\n00:18:12.870 --> 00:18:16.950\nI could look at uninstalled roles, or\njust the roles that the wizard selected.\n\n341\n00:18:16.950 --> 00:18:20.370\nSo all you're doing is filtering your\nview there, you're not changing anything.\n\n342\n00:18:20.370 --> 00:18:24.100\nIf I'm happy with everything\nI'll click next, and\n\n343\n00:18:24.100 --> 00:18:25.849\nthen it goes through the same\nthing with features.\n\n344\n00:18:26.980 --> 00:18:29.110\nAgain, in the real world,\nI would take my time.\n\n345\n00:18:29.110 --> 00:18:30.490\nI would scroll through this list.\n\n346\n00:18:30.490 --> 00:18:32.890\nI would make sure that\nit found everything.\n\n347\n00:18:32.890 --> 00:18:34.580\nI'm just gonna go ahead and click Next.\n\n348\n00:18:34.580 --> 00:18:37.440\nSame thing for my Administration and\nOther Options.\n\n349\n00:18:37.440 --> 00:18:39.690\nGo through and\nmake sure it found everything.\n\n350\n00:18:39.690 --> 00:18:40.600\nWe'll click Next.\n\n351\n00:18:41.670 --> 00:18:43.660\nSame thing for my Additional Services.\n\n352\n00:18:43.660 --> 00:18:45.210\nI'll click Next.\n\n353\n00:18:45.210 --> 00:18:47.340\nAnd this is another important screen here.\n\n354\n00:18:47.340 --> 00:18:49.040\nWhat do you want the wizard to do?\n\n355\n00:18:49.040 --> 00:18:52.030\nIf it sees the service and\nit doesn't know what it is, right.\n\n356\n00:18:52.030 --> 00:18:54.440\nYou could say disable the service.\n\n357\n00:18:54.440 --> 00:18:56.470\nBut just because the wizard\ndoesn't know what it is,\n\n358\n00:18:56.470 --> 00:19:01.140\ndoesn't mean it's not necessary right,\nyou might have some third party software\n\n359\n00:19:01.140 --> 00:19:05.100\nrunning on here that the wizard doesn't\nknow about, so you don't want to,\n\n360\n00:19:05.100 --> 00:19:08.840\nI like to just say if you don't know what\nit is don't mess with it Mr. Wizard.\n\n361\n00:19:08.840 --> 00:19:10.710\nThat's typically the safest way to go.\n\n362\n00:19:10.710 --> 00:19:11.400\n>> That's right.\n\n363\n00:19:11.400 --> 00:19:12.890\nDon't cut off my Call of Duty.\n\n364\n00:19:12.890 --> 00:19:14.360\n>> That's right.\n>> I got to have that.\n\n365\n00:19:14.360 --> 00:19:16.496\nThat's how I stay sane at work, Mike.\n\n366\n00:19:16.496 --> 00:19:17.710\n[LAUGH]\n>> So\n\n367\n00:19:17.710 --> 00:19:21.370\nI'll leave it on do not change the start\nup mode if you don't recognize it.\n\n368\n00:19:21.370 --> 00:19:22.620\nI'll click next.\n\n369\n00:19:22.620 --> 00:19:25.560\nAnd here it's gonna show me all\nthe services it's gonna change.\n\n370\n00:19:25.560 --> 00:19:28.430\nAnd you can see a good majority\nof them were set to manual.\n\n371\n00:19:28.430 --> 00:19:29.970\nThat means they weren't running.\n\n372\n00:19:29.970 --> 00:19:34.890\nRemember, manual means that it could be\nstarted any time programmatically, or\n\n373\n00:19:34.890 --> 00:19:38.330\nsomebody could go in and\njust start the service up.\n\n374\n00:19:38.330 --> 00:19:40.170\nThis is gonna change those to disable,\n\n375\n00:19:40.170 --> 00:19:42.930\nthat way it can't be\nstarted programmatically.\n\n376\n00:19:42.930 --> 00:19:46.120\nYou're gonna have to go and enable it\nfirst, and then try to start it up.\n\n377\n00:19:46.120 --> 00:19:48.840\nYou'll see a lot of these\nare getting turned off.\n\n378\n00:19:48.840 --> 00:19:51.120\nMost of them are getting disabled here.\n\n379\n00:19:51.120 --> 00:19:52.610\nI could do this manually.\n\n380\n00:19:52.610 --> 00:19:54.580\nRight?\nI could go through my services console and\n\n381\n00:19:54.580 --> 00:19:58.590\nlook at every single little service and\ntry to figure out do I need that,\n\n382\n00:19:58.590 --> 00:20:00.100\ndo I not need that.\n\n383\n00:20:00.100 --> 00:20:01.530\nThe wizard is doing it for me.\n\n384\n00:20:01.530 --> 00:20:03.190\nThat's a good thing.\n\n385\n00:20:03.190 --> 00:20:05.380\nAll right?\nSo I would double check everything.\n\n386\n00:20:05.380 --> 00:20:06.920\nI'd go ahead and click next.\n\n387\n00:20:06.920 --> 00:20:09.560\nThen I move into phase two,\nwhich is network security.\n\n388\n00:20:09.560 --> 00:20:13.290\nAnd it warns me, hey if you goof this up\nyou might prevent your computer, this\n\n389\n00:20:13.290 --> 00:20:16.390\nserver, from being able to communicate\nwith other machines on the network.\n\n390\n00:20:16.390 --> 00:20:17.170\nI'll click Next.\n\n391\n00:20:19.540 --> 00:20:21.260\nI thought I clicked Next, there we go.\n\n392\n00:20:21.260 --> 00:20:24.009\nAnd it's gonna show me\nthe current rules that I have.\n\n393\n00:20:26.200 --> 00:20:28.070\nAnd then it's going to set up.\n\n394\n00:20:28.070 --> 00:20:31.010\nYou also have a drop down list up here,\nyou can change your view.\n\n395\n00:20:32.250 --> 00:20:35.280\nIt's kind of flipping out on me there,\none second.\n\n396\n00:20:35.280 --> 00:20:38.790\nRules from selected roles, so there\nI can see all the rules that apply to\n\n397\n00:20:38.790 --> 00:20:41.810\nthose roles that were selected on\nthat first phase of the wizard.\n\n398\n00:20:43.130 --> 00:20:45.530\nRules autogenerated by SCW, look at that.\n\n399\n00:20:45.530 --> 00:20:48.630\nIt's gonna actually\ncreate additional rules.\n\n400\n00:20:48.630 --> 00:20:52.720\nLooks like mostly for\nthe SCW itself, but so\n\n401\n00:20:52.720 --> 00:20:56.070\nI'll click next,\nthen I've got my registry settings.\n\n402\n00:20:56.070 --> 00:20:59.780\nYou can skip, if I don't want this wizard\nto mess with any registry settings, for\n\n403\n00:20:59.780 --> 00:21:03.520\nexample, I can actually\nchoose skip this section and\n\n404\n00:21:03.520 --> 00:21:06.980\nthat way it won't analyze the registry and\nit won't make any changes.\n\n405\n00:21:06.980 --> 00:21:09.710\nIf I want to go through it,\nI can uncheck that, click Next.\n\n406\n00:21:09.710 --> 00:21:15.270\nAnd it's going to make a few changes,\nits got some options there for\n\n407\n00:21:15.270 --> 00:21:17.130\ndown level servers,\n\n408\n00:21:17.130 --> 00:21:21.310\nI could make sure that's compatible\nwith some older operating systems.\n\n409\n00:21:21.310 --> 00:21:23.270\nI'm just going to kind\nof click through here.\n\n410\n00:21:23.270 --> 00:21:26.170\nThe settings are not all that\nimportant for this demonstration,\n\n411\n00:21:26.170 --> 00:21:27.770\nit's how to use this wizard.\n\n412\n00:21:27.770 --> 00:21:32.180\nIt's going to change in your environment\nso don't try to mimic what I'm picking.\n\n413\n00:21:32.180 --> 00:21:35.120\nI'll click Next all the way\nthrough my registry settings and\n\n414\n00:21:35.120 --> 00:21:38.000\nyou see it's gonna make a couple\nof changes to my registry.\n\n415\n00:21:38.000 --> 00:21:41.380\nI'll click Next and\nthen I get into my audit policy.\n\n416\n00:21:41.380 --> 00:21:44.560\nAnd we've talked about\nauditing in our other episode,\n\n417\n00:21:44.560 --> 00:21:47.830\nwhere I can audit events that\nare occurring on my system.\n\n418\n00:21:47.830 --> 00:21:51.410\nAnd it, by default,\nit wants to audit successful activities.\n\n419\n00:21:51.410 --> 00:21:54.570\nMaybe I want it to do both success and\nfailure.\n\n420\n00:21:54.570 --> 00:21:57.770\nI'll click Next.\nAnd there I can see it's changing\n\n421\n00:21:57.770 --> 00:22:01.730\nthe policy setting for\nall those different audit categories.\n\n422\n00:22:01.730 --> 00:22:02.500\nI'll click Next.\n\n423\n00:22:04.010 --> 00:22:05.380\nAnd then Next.\n\n424\n00:22:05.380 --> 00:22:06.830\nAnd it allows me to save it,\n\n425\n00:22:06.830 --> 00:22:12.020\nby default it's gonna put it\nC:\\Windows\\security\\msscw\\Policies.\n\n426\n00:22:12.020 --> 00:22:17.720\nAnd all I have to do is give it a name and\nI'll call it my DC policy.\n\n427\n00:22:20.610 --> 00:22:22.600\nI can also include a security template.\n\n428\n00:22:22.600 --> 00:22:26.270\nThat thing we made earlier that I\nimported into the group policy, I could,\n\n429\n00:22:26.270 --> 00:22:31.100\nmaybe I made one that I want to push out\nusing this, instead of using group policy?\n\n430\n00:22:31.100 --> 00:22:35.770\nSo, I could always go and import\na security template, those INF files,\n\n431\n00:22:35.770 --> 00:22:39.640\nclick next, and then I'm gonna\ngo ahead and apply it later,\n\n432\n00:22:39.640 --> 00:22:44.057\nbecause I don't want to hose up this\ndomain controller on our broadcast [LAUGH]\n\n433\n00:22:44.057 --> 00:22:44.810\n>> Live TV\n\n434\n00:22:44.810 --> 00:22:45.830\n>> Because I wasn't paying\n\n435\n00:22:45.830 --> 00:22:48.910\nreal close attention to all of\nthe settings he was picking there.\n\n436\n00:22:48.910 --> 00:22:51.000\nAnd I'll click finish.\n\n437\n00:22:51.000 --> 00:22:57.701\nAnd now if we take a look\nc:windows/security/msscw/policies and\n\n438\n00:22:57.701 --> 00:22:59.780\nthere's my dc policy.\n\n439\n00:22:59.780 --> 00:23:04.866\nSo none of them got that policy.\n\n440\n00:23:04.866 --> 00:23:09.090\nAnd that was an XML file right?\n\n441\n00:23:09.090 --> 00:23:10.660\nSecurity templates are .INF.\n\n442\n00:23:10.660 --> 00:23:16.420\nThe security policy that this\nwizard creates is an XML file,\n\n443\n00:23:16.420 --> 00:23:19.040\nwhich does mean I can actually go in and\nmodify it with Notepad.\n\n444\n00:23:19.040 --> 00:23:20.490\n>> Yeah.\n>> It is an XML file.\n\n445\n00:23:20.490 --> 00:23:23.420\nAnd then what I would do is I\nwould put that up in a share, and\n\n446\n00:23:23.420 --> 00:23:27.150\nany server that was running\nthe same services, right?\n\n447\n00:23:27.150 --> 00:23:29.000\nThat's where you gotta be really careful.\n\n448\n00:23:29.000 --> 00:23:31.960\nI mean Microsoft wants you to,\nthe idea is like that it's portable right?\n\n449\n00:23:31.960 --> 00:23:36.290\nI can do this once and\napply it to multiple servers.\n\n450\n00:23:36.290 --> 00:23:39.610\nRemember that's turning off services,\nit's creating firewall rules,\n\n451\n00:23:39.610 --> 00:23:45.020\nit's disabling firewall rules based on\nthe roles that it found on that server.\n\n452\n00:23:45.020 --> 00:23:49.007\nSo if I run this on a server that's\nrunning Active Directory in DNS and\n\n453\n00:23:49.007 --> 00:23:53.201\nthen I take it to a server that's\nrunning active directory DNS and DHCP,\n\n454\n00:23:53.201 --> 00:23:55.920\nthat's not going to work out so\ngood, right?\n\n455\n00:23:55.920 --> 00:24:00.611\nBecause in the wizard I ran it on\na machine that wasn't running DHCP, so\n\n456\n00:24:00.611 --> 00:24:02.578\nit's gonna block port 67.\n\n457\n00:24:02.578 --> 00:24:04.310\nIt's gonna disable those services.\n\n458\n00:24:04.310 --> 00:24:09.640\nSo you wanna make sure that the services\nare running the same services.\n\n459\n00:24:09.640 --> 00:24:12.085\nLarge organizations though\nthat's very common, right?\n\n460\n00:24:12.085 --> 00:24:14.565\nWe roll out multiple\nservers to provide and\n\n461\n00:24:14.565 --> 00:24:19.215\nload balancing that are running\nthe exact same configuration.\n\n462\n00:24:19.215 --> 00:24:22.265\nSo if I wanna apply that\nI would go to tools and\n\n463\n00:24:22.265 --> 00:24:25.050\nmy security configuration wizard.\n\n464\n00:24:25.050 --> 00:24:29.570\nI could click next and\nthen apply an existing security policy.\n\n465\n00:24:29.570 --> 00:24:31.610\nI would go browse and find that guy.\n\n466\n00:24:31.610 --> 00:24:33.020\nThere's my DC policy open.\n\n467\n00:24:33.020 --> 00:24:35.890\nAnd I would just click next and\nI would apply it.\n\n468\n00:24:35.890 --> 00:24:38.880\nIt would go through and\nchange all of those services and\n\n469\n00:24:38.880 --> 00:24:40.296\nsettings and I would be done.\n\n470\n00:24:40.296 --> 00:24:43.460\n>> Now a super-easy way to\ndo a lot of administration,\n\n471\n00:24:43.460 --> 00:24:46.060\na lot of especially security hardening for\n\n472\n00:24:46.060 --> 00:24:49.530\nyour server environment on a basically,\na one stop shopping page.\n\n473\n00:24:49.530 --> 00:24:51.090\nIt's gonna ask you a bunch of questions.\n\n474\n00:24:51.090 --> 00:24:54.120\nYou've got to know some things about\nyour server, what it is your doing.\n\n475\n00:24:54.120 --> 00:24:57.150\nAnd then you don't have to go through and\nindividually click everything.\n\n476\n00:24:57.150 --> 00:24:59.800\nYou just gotta say, here's what I need,\nhere's what I don't need.\n\n477\n00:24:59.800 --> 00:25:01.180\nThe wizard takes care of the rest.\n\n478\n00:25:01.180 --> 00:25:05.810\nIt has a super-convenient\npiece of technology inside of\n\n479\n00:25:05.810 --> 00:25:07.270\nthe Server 2012 environment.\n\n480\n00:25:07.270 --> 00:25:09.200\nVery cool stuff, Mike.\n\n481\n00:25:09.200 --> 00:25:09.700\n>> Absolutely.\n\n482\n00:25:09.700 --> 00:25:11.980\nI've got a couple more things I\nthink we can probably squeeze in.\n\n483\n00:25:11.980 --> 00:25:13.090\n>> Yeah, I'd say we can squeeze in.\n\n484\n00:25:13.090 --> 00:25:14.710\n>> All right, let's do that.\n\n485\n00:25:14.710 --> 00:25:17.490\nAlso in these objectives that\nthey call it, they call out\n\n486\n00:25:17.490 --> 00:25:21.690\nConfiguring local users and groups,\nand then work with the good old UAC.\n\n487\n00:25:21.690 --> 00:25:24.100\nSo let me show you guys\na little bit about that.\n\n488\n00:25:24.100 --> 00:25:26.100\nIf I go back over here to my client.\n\n489\n00:25:26.100 --> 00:25:32.026\nYou know honestly Daniel local users and\ngroups don't use it that\n\n490\n00:25:32.026 --> 00:25:37.170\noften, but in smaller environments maybe,\nyou know, I don't know.\n\n491\n00:25:37.170 --> 00:25:40.320\nI was trying to think of the last\ntime I really had to work\n\n492\n00:25:40.320 --> 00:25:41.880\nwith local users and groups.\n\n493\n00:25:41.880 --> 00:25:42.490\n>> I vaguely remember.\n\n494\n00:25:42.490 --> 00:25:47.630\nSometimes it happens from time to time\nwhere you'll actually need to add domain\n\n495\n00:25:47.630 --> 00:25:52.185\naccounts to a local user environment for\npermissions to work correctly.\n\n496\n00:25:52.185 --> 00:25:53.610\n>> Mm-hm.\n>> Sometimes that'll happen.\n\n497\n00:25:53.610 --> 00:25:55.614\nSo maybe that's what\nthey're talking about, or\n\n498\n00:25:55.614 --> 00:25:57.006\nmaybe you just need to [CROSSTALK].\n\n499\n00:25:57.006 --> 00:25:57.990\n>> Work group, I guess?\n\n500\n00:25:57.990 --> 00:26:00.510\n>> Maybe a service account that's\ngonna be like a standalone?\n\n501\n00:26:00.510 --> 00:26:01.390\nThat kind of thing.\n\n502\n00:26:01.390 --> 00:26:03.860\nIt's always a good idea to know\neverything there is to know\n\n503\n00:26:03.860 --> 00:26:05.350\nabout your server environment.\n\n504\n00:26:05.350 --> 00:26:07.410\nYou never know when something's\ngonna come in handy.\n\n505\n00:26:07.410 --> 00:26:08.220\n>> So let's take a peak.\n\n506\n00:26:08.220 --> 00:26:09.230\nIt's pretty straightforward, right.\n\n507\n00:26:09.230 --> 00:26:11.650\nAll I have to do,\nI'm over here on my 8.1 box, and\n\n508\n00:26:11.650 --> 00:26:14.990\nI can do this on a members server as well,\nit would be the exact same thing.\n\n509\n00:26:14.990 --> 00:26:17.190\nThe only place I couldn't do this\nwould be a domain controller.\n\n510\n00:26:17.190 --> 00:26:21.820\nCuz you lose access to the local SAM\nfile when you install Active Directory.\n\n511\n00:26:23.750 --> 00:26:25.250\nSo, it's thinking about it here.\n\n512\n00:26:25.250 --> 00:26:28.000\nComputer Management sometimes a little\nslow to load up cuz it's got a lot\n\n513\n00:26:28.000 --> 00:26:30.070\nof stuff that is gonna populate in there.\n\n514\n00:26:30.070 --> 00:26:31.490\nBut inside Computer Management,\n\n515\n00:26:31.490 --> 00:26:34.360\nI'll be able to work with\nmy local users and groups.\n\n516\n00:26:34.360 --> 00:26:38.170\nSo as Daniel said, if you had a reason to\nmake an account on this machine that you\n\n517\n00:26:38.170 --> 00:26:40.870\ndidn't need on any other machine,\nand it didn't need access to any\n\n518\n00:26:40.870 --> 00:26:44.040\ndomain resources,\nmaybe you do just create a local account.\n\n519\n00:26:44.040 --> 00:26:47.530\nMaybe you're in a work group environment,\nand we could do that, or\n\n520\n00:26:47.530 --> 00:26:49.270\nwe would end up using these as well,\nright?\n\n521\n00:26:49.270 --> 00:26:53.290\nCuz then we wouldn't have active\ndirectory to create those accounts in.\n\n522\n00:26:53.290 --> 00:26:55.230\nTell you what.\nThat client is taking his sweet time.\n\n523\n00:26:55.230 --> 00:26:56.880\nI know it's got some updates pending.\n\n524\n00:26:56.880 --> 00:26:59.810\nSo I'm just gonna switch over to\nmy server and do the same thing.\n\n525\n00:26:59.810 --> 00:27:01.010\nI'm gonna go into computer management.\n\n526\n00:27:04.003 --> 00:27:07.400\nAnd see if it wants to open up computer\nmanagement any faster than my client.\n\n527\n00:27:07.400 --> 00:27:08.560\nThere we go.\n\n528\n00:27:08.560 --> 00:27:12.680\nAnd in here, we simply go into\nLocal Users and Groups, and\n\n529\n00:27:12.680 --> 00:27:15.590\nhere's my local groups\nthat I can work with.\n\n530\n00:27:15.590 --> 00:27:17.320\nThat's another thing I\nguess I didn't think about.\n\n531\n00:27:17.320 --> 00:27:21.550\nThere are a lot of groups that we do\nuse within our domain environment\n\n532\n00:27:21.550 --> 00:27:22.940\nthat are actually local groups.\n\n533\n00:27:22.940 --> 00:27:26.540\nThe remote desktop users group\nis a really good example.\n\n534\n00:27:26.540 --> 00:27:28.390\nThat's not a domain-based group.\n\n535\n00:27:28.390 --> 00:27:32.110\nEach Windows machine has its\nremote desktop users group.\n\n536\n00:27:32.110 --> 00:27:36.170\nI can use group policy to take domain\naccounts and populate these local groups.\n\n537\n00:27:36.170 --> 00:27:38.430\nRemember that episode that we\ntalked about restricted groups?\n\n538\n00:27:39.510 --> 00:27:40.600\nSo maybe that's a good use.\n\n539\n00:27:40.600 --> 00:27:43.730\nSo this is where I would go, I'm not\ngonna do anything, just going to show you\n\n540\n00:27:43.730 --> 00:27:47.660\nwhere you would access that, because you\nmight need to work with local groups.\n\n541\n00:27:47.660 --> 00:27:52.100\nYou can also create user accounts\non that local machine as well.\n\n542\n00:27:52.100 --> 00:27:54.630\nAlright, the last thing I want\nto show you is the UAC and for\n\n543\n00:27:54.630 --> 00:27:56.680\nthat one I am going to click\nback over to the client.\n\n544\n00:27:56.680 --> 00:27:58.690\nAnd now you've finally got\ncomputer management open,\n\n545\n00:27:58.690 --> 00:28:00.470\nnow that I don't need it anymore.\n\n546\n00:28:00.470 --> 00:28:02.910\nWe'll go ahead and\nminimize it just in case.\n\n547\n00:28:02.910 --> 00:28:05.870\nI actually wanna work with\nmy local group policy.\n\n548\n00:28:05.870 --> 00:28:06.980\nYou guys remember the UAC?\n\n549\n00:28:06.980 --> 00:28:10.810\nI know you've dealt with it a couple of\ntimes in your own personal experience.\n\n550\n00:28:10.810 --> 00:28:14.050\nAlright, if I launch this\ncommand prompt admin, right,\n\n551\n00:28:14.050 --> 00:28:15.870\nwell that requires administrative access.\n\n552\n00:28:15.870 --> 00:28:19.600\nI'm logged on as the admin,\nnotice it didn't pop anything up.\n\n553\n00:28:19.600 --> 00:28:23.150\nIf I let me switch user accounts here and\nshow you guys.\n\n554\n00:28:26.018 --> 00:28:29.853\nNow we'll keep our fingers crossed that\nnone of those Windows updates want to\n\n555\n00:28:29.853 --> 00:28:32.080\napply during this process.\n\n556\n00:28:32.080 --> 00:28:36.280\nBut let me log in with an account that\ndoesn't have administrative access.\n\n557\n00:28:36.280 --> 00:28:38.290\nSo I'll do a little switch user here.\n\n558\n00:28:41.920 --> 00:28:42.420\nEventually.\n\n559\n00:28:44.410 --> 00:28:46.442\nYou know, I said I could get this\ndone in just a couple minutes,\n\n560\n00:28:46.442 --> 00:28:46.961\n>> [LAUGH]\n\n561\n00:28:46.961 --> 00:28:48.295\n>> I kinda lied to you didn't I?\n\n562\n00:28:48.295 --> 00:28:48.875\n>> You liar, sir.\n\n563\n00:28:48.875 --> 00:28:50.367\n>> [LAUGH] I tell you what, there it goes.\n\n564\n00:28:50.367 --> 00:28:53.060\n>> Actually the computer\nis making you a liar.\n\n565\n00:28:53.060 --> 00:28:54.490\n[LAUGH]\n>> It really is.\n\n566\n00:28:54.490 --> 00:28:56.930\nI know it's got some Windows\nupdates pending, and\n\n567\n00:28:56.930 --> 00:29:00.170\nI don't update my test, my sandbox.\n\n568\n00:29:00.170 --> 00:29:01.760\nSo that, I'm sure, that's probably why.\n\n569\n00:29:01.760 --> 00:29:03.640\nI'm gonna login with a local account.\n\n570\n00:29:03.640 --> 00:29:08.220\nSo I'm gonna do the trick, .backslash\nto switch to that local context.\n\n571\n00:29:08.220 --> 00:29:11.570\nI gotta use the name Mike that I'm\npretty sure has logged in before, so\n\n572\n00:29:11.570 --> 00:29:15.110\nI shouldn't have to wait for\nthat profile to kick in.\n\n573\n00:29:15.110 --> 00:29:17.314\nMike is in the local admins group.\n\n574\n00:29:19.638 --> 00:29:22.270\nWell, get it logged in\nhere in just a second.\n\n575\n00:29:22.270 --> 00:29:26.560\nAgain, the UAC, we've talked about it\nI know in other classes, all right?\n\n576\n00:29:26.560 --> 00:29:28.595\nThat's there to protect us,\nto keep us safe.\n\n577\n00:29:28.595 --> 00:29:31.000\nNormally, when you log\non to administrator,\n\n578\n00:29:31.000 --> 00:29:35.850\nit doesn't run everything with\nadministrative access blanket.\n\n579\n00:29:35.850 --> 00:29:39.280\nIf any time you do something, you get\nbasically, you get a standard user token.\n\n580\n00:29:39.280 --> 00:29:42.630\nAnd then any time you do something\nthat requires administrative access,\n\n581\n00:29:42.630 --> 00:29:45.890\nit asks you, hey, did you mean to do this,\nand you just say yes or no.\n\n582\n00:29:45.890 --> 00:29:49.500\nIf you are logged on with a user account\nthat's not in the administrators group and\n\n583\n00:29:49.500 --> 00:29:52.140\nyou try to do something that\nrequires administrative access,\n\n584\n00:29:52.140 --> 00:29:55.040\nthat's when it's gonna give you\nthe user name and password dialog box.\n\n585\n00:29:55.040 --> 00:29:57.820\nSo that you can authenticate\nas an administrator and\n\n586\n00:29:57.820 --> 00:30:00.600\ntemporarily raise your credentials\njust for that one activity.\n\n587\n00:30:00.600 --> 00:30:03.970\nSo it's trying to keep us safe and\nif I flip back over here.\n\n588\n00:30:03.970 --> 00:30:04.840\n>> It's annoyingly.\n\n589\n00:30:04.840 --> 00:30:06.022\n>> Yeah.\n>> Trying to keep us safe.\n\n590\n00:30:06.022 --> 00:30:06.749\n[LAUGH]\n>> It is.\n\n591\n00:30:06.749 --> 00:30:08.230\nYou know, you get used to it.\n\n592\n00:30:08.230 --> 00:30:12.370\nIt's not all that much,\nwow, this guy, there we go.\n\n593\n00:30:12.370 --> 00:30:15.540\nSo there's the UAC, so\nagain I'm in the local admins group so\n\n594\n00:30:15.540 --> 00:30:17.710\nit's not making me type in\nanother username and password.\n\n595\n00:30:17.710 --> 00:30:20.922\nIt knows that my password does\nhave administrative access, but\n\n596\n00:30:20.922 --> 00:30:22.890\nI got a standard token when I logged on.\n\n597\n00:30:22.890 --> 00:30:28.704\nAnd I can click yes, and if we take\na look notice how everything grayed out,\n\n598\n00:30:28.704 --> 00:30:31.710\nand then that UAC prompt came up.\n\n599\n00:30:31.710 --> 00:30:33.730\nAnd now I've got my\nadministrator command prompt.\n\n600\n00:30:33.730 --> 00:30:35.610\nIf I take a look at\nTask Manager real quick.\n\n601\n00:30:35.610 --> 00:30:43.200\nI ain't doing anything real\nquick on this machine evidently.\n\n602\n00:30:43.200 --> 00:30:47.556\nAnd I look at my details here.\n\n603\n00:30:50.064 --> 00:30:51.650\nHow painfully slow.\n\n604\n00:30:51.650 --> 00:30:55.140\nWhat I want to show you is that most of\nthis stuff is running as Mike, right,\n\n605\n00:30:55.140 --> 00:30:56.760\nthat's my user account.\n\n606\n00:30:56.760 --> 00:30:58.825\nIf I find my command prompt though.\n\n607\n00:30:58.825 --> 00:31:02.885\nAll right, there's that guy.\n\n608\n00:31:02.885 --> 00:31:06.125\nActually, I don't think I'm gonna be able\nto tell cuz Mike is in the admins group.\n\n609\n00:31:06.125 --> 00:31:09.245\nI should have used a different\nname when I got in there.\n\n610\n00:31:09.245 --> 00:31:10.245\nBut that's okay.\n\n611\n00:31:10.245 --> 00:31:12.855\nThe point I wanted to make\nis that just this one,\n\n612\n00:31:12.855 --> 00:31:15.085\njust the command prompt is running\nwith administrative access.\n\n613\n00:31:15.085 --> 00:31:17.995\nEverything else is still\nrunning as a standard user.\n\n614\n00:31:17.995 --> 00:31:23.490\nNow, as Daniel said, You find the mmc or\n\n615\n00:31:23.490 --> 00:31:24.760\nthe, I'm sorry, the-\n>> The UAC.\n\n616\n00:31:24.760 --> 00:31:27.340\n>> Yeah, the UAC a little annoying, huh?\n\n617\n00:31:27.340 --> 00:31:31.350\n>> Yeah, there are some programs from\ntime to time that you're in them, and\n\n618\n00:31:31.350 --> 00:31:32.790\nyou're out of it, you're in it and\nyou're out of it.\n\n619\n00:31:32.790 --> 00:31:34.510\nAnd if it's uac prompt,\n\n620\n00:31:34.510 --> 00:31:37.500\nyou're getting prompted every\ntime you open the stinking thing.\n\n621\n00:31:37.500 --> 00:31:41.040\nIt can get a little annoying but\nIt is there for our protection.\n\n622\n00:31:41.040 --> 00:31:44.980\nIt's there to make sure that we're\nnot running any kind of software\n\n623\n00:31:44.980 --> 00:31:46.650\nthat we didn't intend to run.\n\n624\n00:31:46.650 --> 00:31:50.276\nThat was basically the problem,\nis before it didn't say anything.\n\n625\n00:31:50.276 --> 00:31:54.896\nAny program I wanted to run It would run\nit, no prompt, you wouldn't have any idea.\n\n626\n00:31:54.896 --> 00:31:58.520\nWe've got things like Drive-by Downloads,\nand Malware, started getting installed.\n\n627\n00:31:58.520 --> 00:32:03.760\nSo they came up with this idea to make\nsure that kinda mitigate a lot of that.\n\n628\n00:32:03.760 --> 00:32:07.280\nOh, there we go, finally in the\nbackground, my Local Group Policy Editor\n\n629\n00:32:07.280 --> 00:32:10.320\nopened it up, and I'm just gonna show\nyou some of these settings real quick.\n\n630\n00:32:10.320 --> 00:32:13.130\nIf I come down, oops,\ninto my Computer Configuration,\n\n631\n00:32:13.130 --> 00:32:14.990\nand then my Windows Settings.\n\n632\n00:32:19.239 --> 00:32:23.372\nInto my Security Settings, that's\nwhere I'm gonna find my UAC policies.\n\n633\n00:32:23.372 --> 00:32:25.324\nSo, let's expand out Windows Settings.\n\n634\n00:32:27.832 --> 00:32:30.036\nAnd then we'll expand out\nour Security Settings.\n\n635\n00:32:35.284 --> 00:32:36.370\nMaybe, today.\n\n636\n00:32:36.370 --> 00:32:37.090\nMaybe, tomorrow.\n\n637\n00:32:37.090 --> 00:32:37.900\nI don't know.\n\n638\n00:32:37.900 --> 00:32:39.220\nWe'll see.\n\n639\n00:32:39.220 --> 00:32:40.740\nIt doesn't want me to show you this.\n\n640\n00:32:40.740 --> 00:32:44.300\n>> If you got updates waiting, man,\nyou can just forget your life.\n\n641\n00:32:44.300 --> 00:32:45.200\n>> It really does.\n\n642\n00:32:45.200 --> 00:32:46.693\nThey want you to do those updates.\n\n643\n00:32:46.693 --> 00:32:48.760\nI'm gonna expand out Local Policies.\n\n644\n00:32:48.760 --> 00:32:50.730\nAnd then Security Options.\n\n645\n00:32:50.730 --> 00:32:53.040\nAnd down at the bottom of this guy,\n\n646\n00:32:53.040 --> 00:32:55.750\nis where I'm gonna find my\nUser Account Control Settings.\n\n647\n00:32:55.750 --> 00:32:57.980\nAnd there's a few of them.\n\n648\n00:32:57.980 --> 00:33:01.330\nAnd these allow me to just\ntry to stop annoying Daniel.\n\n649\n00:33:01.330 --> 00:33:03.570\nRight?\nI can control that prompt behavior.\n\n650\n00:33:03.570 --> 00:33:06.010\nIf I'm logged on as the admin,\ndon't prompt me at all.\n\n651\n00:33:06.010 --> 00:33:07.890\nI don't even want to have click yes or\nno, right?\n\n652\n00:33:07.890 --> 00:33:11.310\nOr maybe I don't even want users\nto have to deal with that.\n\n653\n00:33:11.310 --> 00:33:14.322\nSo you can change most of\nthose Prompting Settings.\n\n654\n00:33:14.322 --> 00:33:17.613\nI'm gonna do one just to show you,\ncuz it's an easy one to see.\n\n655\n00:33:17.613 --> 00:33:22.839\nThis one here, Switch to\nthe secure desktop when prompting,\n\n656\n00:33:22.839 --> 00:33:28.080\nnormally, when that UAC pops up,\nit grays everything else.\n\n657\n00:33:28.080 --> 00:33:30.830\nThat's what they call them,\nModal Dialogue Box.\n\n658\n00:33:30.830 --> 00:33:34.921\nSo you can't click on anything until you\ndecide yes or no or type in a username and\n\n659\n00:33:34.921 --> 00:33:35.860\npassword.\n\n660\n00:33:35.860 --> 00:33:39.110\nOn some older systems,\nthe graying out of everything\n\n661\n00:33:39.110 --> 00:33:42.470\nactually takes a lot of processing\npower or graphics power and\n\n662\n00:33:42.470 --> 00:33:45.900\nmaybe that's slowing things down\nto where the point is unusable.\n\n663\n00:33:45.900 --> 00:33:47.180\nSo I can turn that off.\n\n664\n00:33:47.180 --> 00:33:52.293\nAnd now, if I go and I launch that\nAdministrative Command Prompt,\n\n665\n00:33:52.293 --> 00:33:55.961\nnotice the UAC popped up,\nbut it's not Modal.\n\n666\n00:33:55.961 --> 00:33:57.489\nI can actually launch other things,\n\n667\n00:33:57.489 --> 00:34:00.652\nif this computer didn't have Windows\nupdates waiting for it, there we go.\n\n668\n00:34:00.652 --> 00:34:02.213\n>> [LAUGH]\n>> You can do other things,\n\n669\n00:34:02.213 --> 00:34:04.290\nwhile that dialog box is sitting there.\n\n670\n00:34:04.290 --> 00:34:07.380\nThat is not a recommended option,\nbecause that is less secure.\n\n671\n00:34:07.380 --> 00:34:12.280\nThe whole idea is lock everything else out\nand force you to either say yes or no, or\n\n672\n00:34:12.280 --> 00:34:14.049\nforce you to type in a username and\n\n673\n00:34:14.049 --> 00:34:18.190\npassword that has administrative access,\nso this is not a recommended thing, but\n\n674\n00:34:18.190 --> 00:34:20.400\non some systems that are slow,\nyou could do that.\n\n675\n00:34:20.400 --> 00:34:23.910\nAnd again, really the point of this was\nto show you, hey, I can control the UAC.\n\n676\n00:34:23.910 --> 00:34:26.080\nI can go in there and say,\nyou know what, this annoys me.\n\n677\n00:34:26.080 --> 00:34:27.210\nI'm gonna turn this off.\n\n678\n00:34:27.210 --> 00:34:30.010\nOr slow some of those prompts down.\n\n679\n00:34:30.010 --> 00:34:30.810\nLots of settings you can do.\n\n680\n00:34:30.810 --> 00:34:33.290\nAnd you can do it at the domain level,\nobviously, and\n\n681\n00:34:33.290 --> 00:34:34.910\nnot have to do every single machine.\n\n682\n00:34:34.910 --> 00:34:35.460\n>> Yeah.\n\n683\n00:34:35.460 --> 00:34:38.110\nThat's very,\nvery helpful doing at the domain level,\n\n684\n00:34:38.110 --> 00:34:41.040\ninstead of every single\nmachine that you sign on to.\n\n685\n00:34:41.040 --> 00:34:42.260\nThat makes it a whole lot easier.\n\n686\n00:34:42.260 --> 00:34:44.080\nAll right, Michael, very good content.\n\n687\n00:34:44.080 --> 00:34:45.370\nVery cool stuff and\n\n688\n00:34:45.370 --> 00:34:48.890\ndefinitely important if you're\nstudying to take any Microsoft exam.\n\n689\n00:34:48.890 --> 00:34:50.500\nThey find these things to\nbe a little important.\n\n690\n00:34:50.500 --> 00:34:52.330\nI don't know what they're thinking,\nbut it's good stuff.\n\n691\n00:34:52.330 --> 00:34:53.419\n>> It is.\n>> That being said,\n\n692\n00:34:53.419 --> 00:34:56.739\nit looks like we've wrapped up yet\nanother show here at ITProTV studios.\n\n693\n00:34:56.739 --> 00:34:59.270\nSo signing off,\nI've been your host, Daniel Lowry.\n\n694\n00:34:59.270 --> 00:35:00.083\n>> And I'm Mike Rodrick.\n\n695\n00:35:00.083 --> 00:35:01.616\n>> And we'll see you next time.\n\n696\n00:35:01.616 --> 00:35:07.260\n[SOUND]\n\n",
          "vimeoId": "134407938"
        },
        {
          "description": "In this episode, Daniel and Mike discuss and demonstrate application restriction policies. They compare and demonstrate the uses between AppLocker and Software Restriction Policies. They wrap up with explaining situations on when theses rules and policies should be used.",
          "length": "1752",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server7410-18-1-application_restriction_policies-072315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server7410-18-1-application_restriction_policies-072315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server7410-18-1-application_restriction_policies-072315-1-sm.jpg",
          "title": "Application Restriction Policies",
          "transcript": "WEBVTT\n\n1\n00:00:00.000 --> 00:00:10.191\n[MUSIC]\n\n2\n00:00:10.191 --> 00:00:11.061\nAll right.\n\n3\n00:00:11.061 --> 00:00:14.920\nGreetings everyone and welcome to\nanother great episode of ITPro TV.\n\n4\n00:00:14.920 --> 00:00:16.140\nI'm your host Daniel Lowery, and\n\n5\n00:00:16.140 --> 00:00:20.060\nhere with me as always is the wonderful,\nthe magnificent, the Mike Roderick.\n\n6\n00:00:20.060 --> 00:00:20.940\nHow's it going today, Mike?\n\n7\n00:00:20.940 --> 00:00:22.750\n>> I don't know about all that but\nI'm doing pretty good.\n\n8\n00:00:22.750 --> 00:00:26.250\nI'm doing pretty good cuz we're\ngoing to take a look at some\n\n9\n00:00:26.250 --> 00:00:29.590\npretty cool products that we\nhave available in server that\n\n10\n00:00:29.590 --> 00:00:34.110\nallow us to control what\napplications our users can run and\n\n11\n00:00:34.110 --> 00:00:37.790\ncannot run, which is an important\npart of keeping our network secure.\n\n12\n00:00:37.790 --> 00:00:41.750\n>> Yeah, I can think of some pretty good\nuse for that, because well unfortunately,\n\n13\n00:00:41.750 --> 00:00:46.165\nour users have a tendency to say,\nI really need World of Warcraft for\n\n14\n00:00:46.165 --> 00:00:48.565\nme to be productive in my environment.\n\n15\n00:00:48.565 --> 00:00:50.645\nAnd we're like, no, no you don't.\n\n16\n00:00:50.645 --> 00:00:53.745\nAnd you walk by and 9 times out of\n10 they're playing some game or\n\n17\n00:00:53.745 --> 00:00:58.275\ndoing something, got some application\nthat we didn't really give approval to.\n\n18\n00:00:58.275 --> 00:01:00.685\nAnd it could be causing\na problem on the network, even.\n\n19\n00:01:00.685 --> 00:01:01.245\n>> Absolutely.\n\n20\n00:01:01.245 --> 00:01:04.655\nIt could be just wasting their time,\nand not being very productive.\n\n21\n00:01:04.655 --> 00:01:07.720\nOr it could be an application that\nhas known vulnerabilities and\n\n22\n00:01:07.720 --> 00:01:11.320\nI don’t want it on my network, and\nit’s opened up huge security holes.\n\n23\n00:01:11.320 --> 00:01:13.260\nAnd here they are installing\nit without permission,\n\n24\n00:01:13.260 --> 00:01:16.340\nso good to be able to\ncontrol their applications.\n\n25\n00:01:16.340 --> 00:01:19.010\nSo let’s take a look at what\nMicrosoft gives us to do this.\n\n26\n00:01:19.010 --> 00:01:22.172\nThe first thing I wanna look at It's\nwhat we call AppLocker Policies.\n\n27\n00:01:22.172 --> 00:01:27.251\nAnd if I'm going to open up my group\npolicy management console here on my\n\n28\n00:01:27.251 --> 00:01:32.430\ndomain controller, and let's create,\nlet's see what we can do here.\n\n29\n00:01:32.430 --> 00:01:36.630\nI'll just go up to my domain and\ncreate a new GPO for this one,\n\n30\n00:01:36.630 --> 00:01:40.710\nand I'll call it, Application Restriction.\n\n31\n00:01:43.700 --> 00:01:44.250\n>> Great descriptor.\n\n32\n00:01:44.250 --> 00:01:46.380\n>> Yeah, I like that, okay.\n\n33\n00:01:46.380 --> 00:01:52.400\nWe'll right click on that and choose edit\nso we can make our changes to that policy.\n\n34\n00:01:52.400 --> 00:01:56.310\nAnd once I get in here I'm gonna as\nalways, as for our security step, expand\n\n35\n00:01:56.310 --> 00:02:02.030\nout computers, Configuration, expand out\nPolicies, expand out Windows Settings.\n\n36\n00:02:02.030 --> 00:02:03.959\nLet that works its way down.\n\n37\n00:02:03.959 --> 00:02:07.130\nAnd then expand out Security Settings.\n\n38\n00:02:07.130 --> 00:02:10.070\nAnd then down here I've got my\nApplication Control Policies.\n\n39\n00:02:10.070 --> 00:02:10.860\nNow it's very strange,\n\n40\n00:02:10.860 --> 00:02:15.970\nthis is one that, it's not gonna look like\nany policy that you've worked with before,\n\n41\n00:02:15.970 --> 00:02:20.510\nit's gonna take it a minute to load up\nhere and you'll see why in just a second.\n\n42\n00:02:20.510 --> 00:02:25.410\nIt's kinda cool, because it says that,\nthat took forever to load that up.\n\n43\n00:02:25.410 --> 00:02:26.390\n>> I'm really working on this.\n\n44\n00:02:26.390 --> 00:02:27.998\n[LAUGH]\n>> What you have to do is you\n\n45\n00:02:27.998 --> 00:02:31.713\nexpand out application control policies,\nI'll make this a little wider here, and\n\n46\n00:02:31.713 --> 00:02:34.170\nunderneath there you've got App Locker.\n\n47\n00:02:34.170 --> 00:02:39.480\nAnd once I select that the screen\nturns white and it's fantastic.\n\n48\n00:02:39.480 --> 00:02:40.000\nNo.\nIn here and\n\n49\n00:02:40.000 --> 00:02:42.320\nyou can see this doesn't look\nlike any other GPO, right,\n\n50\n00:02:42.320 --> 00:02:44.290\nthat I've ever double-clicked on.\n\n51\n00:02:44.290 --> 00:02:47.998\nIt's got these links out here and\ncolors, and yada yada.\n\n52\n00:02:47.998 --> 00:02:49.708\nIt's different.\n\n53\n00:02:49.708 --> 00:02:53.420\nBut let's take a look at what\nwe can do with this guy.\n\n54\n00:02:53.420 --> 00:02:57.250\nSo this is kind of, when you click on\nAppLocker, this is the overview for\n\n55\n00:02:57.250 --> 00:02:59.210\nthis whole AppLocker policy.\n\n56\n00:02:59.210 --> 00:03:01.170\nYou've got this whole Getting Started and\n\n57\n00:03:01.170 --> 00:03:06.360\nyou've got links to more about AppLocker\nand some information about it.\n\n58\n00:03:06.360 --> 00:03:09.920\nYou can also click on these links\nlike Configure Rule Enforcement.\n\n59\n00:03:09.920 --> 00:03:12.880\nDown here I can jump to\nthese particular sections.\n\n60\n00:03:12.880 --> 00:03:16.840\nSo it's kinda like a dashboard for\nthe AppLocker policies that I'm creating.\n\n61\n00:03:16.840 --> 00:03:21.310\nBut I don't have to use these links,\nI can expand out AppLocker and\n\n62\n00:03:21.310 --> 00:03:23.790\nI can see there my executable rules,\nright?\n\n63\n00:03:23.790 --> 00:03:26.410\nMy Windows Installer rules, etc.\n\n64\n00:03:26.410 --> 00:03:30.030\nSo the way AppLocker breaks it down, when\nyou're gonna go block an application or\n\n65\n00:03:30.030 --> 00:03:32.660\nallow an application,\nlet's talk about that first.\n\n66\n00:03:32.660 --> 00:03:34.120\nI can block or I can allow.\n\n67\n00:03:35.260 --> 00:03:41.540\nAppLocker works as a, by default,\nit works as an allow list.\n\n68\n00:03:41.540 --> 00:03:45.480\nAnd what that means is I have to\nallow everything that I want to run.\n\n69\n00:03:45.480 --> 00:03:47.720\nIf it's not on the list,\nit's gonna block it.\n\n70\n00:03:47.720 --> 00:03:50.520\nIt's an implicit deny system, all right?\n\n71\n00:03:50.520 --> 00:03:52.690\nThat's the first thing we've\nreally gotta understand.\n\n72\n00:03:52.690 --> 00:03:53.990\nYou've gotta be careful with this.\n\n73\n00:03:53.990 --> 00:03:56.620\nYou can hose things up pretty quickly.\n\n74\n00:03:56.620 --> 00:04:00.610\nBut if I go take a look at my executable\nrules for example, I don't have any.\n\n75\n00:04:00.610 --> 00:04:01.330\nWe can actually,\n\n76\n00:04:01.330 --> 00:04:05.690\nthere's five categories even though you\nonly see four here, that we can block.\n\n77\n00:04:05.690 --> 00:04:10.650\nWe can block executables, we can block\nWindows Installers or .MSI files,\n\n78\n00:04:10.650 --> 00:04:15.140\nwe can block scripts and\nwe can block Packaged App Rules.\n\n79\n00:04:15.140 --> 00:04:21.076\nThat was just recently added in 2012 and\nWindows 8.\n\n80\n00:04:21.076 --> 00:04:26.230\nThat covers those Windows Store apps,\nthose .app exes.\n\n81\n00:04:26.230 --> 00:04:29.930\nAnd it is a little restrictive I guess?\n\n82\n00:04:29.930 --> 00:04:31.490\nLet me make sure we clarify that as well.\n\n83\n00:04:31.490 --> 00:04:35.780\nWhen I say executables they are talking\nabout .exe's and .com's and that's it.\n\n84\n00:04:35.780 --> 00:04:39.630\nI know there's other executables,\nwhen we talk about scripts it's VBS,\n\n85\n00:04:39.630 --> 00:04:44.790\nJava Script, Power Shell Scripts,\n.ps1 files, dot bat files.\n\n86\n00:04:44.790 --> 00:04:46.210\nI know there's other scripting languages,\n\n87\n00:04:46.210 --> 00:04:50.020\nbut AppLocker only works\nwith those particular ones.\n\n88\n00:04:50.020 --> 00:04:53.880\nWindows Installer's would be .MSI's,\n.MST's, and .MSP's.\n\n89\n00:04:55.150 --> 00:04:57.760\nPackaged apps was the .APPX.\n\n90\n00:04:57.760 --> 00:04:58.537\nWhat else?\n\n91\n00:04:58.537 --> 00:05:04.489\nDLL's, that's OCX's and .dll files.\n\n92\n00:05:04.489 --> 00:05:07.789\nThose are what we can work with,\nand I'm gonna come down and\n\n93\n00:05:07.789 --> 00:05:12.620\nI'm gonna right click on AppLocker and\nI'm gonna choose Properties.\n\n94\n00:05:12.620 --> 00:05:17.480\nAnd that's gonna open up this AppLocker\nproperties and my Enforcements tab.\n\n95\n00:05:17.480 --> 00:05:23.420\nAnd here, I've got my categories\nwhenever they call rule collections.\n\n96\n00:05:23.420 --> 00:05:23.980\nAll right?\n\n97\n00:05:23.980 --> 00:05:26.450\nAnd I can choose to enable these guys.\n\n98\n00:05:26.450 --> 00:05:29.560\nIt's very strange, but\nif you don't configure them,\n\n99\n00:05:29.560 --> 00:05:31.440\nthey're actually being applied anyway.\n\n100\n00:05:31.440 --> 00:05:32.570\nThat's just Microsoft.\n\n101\n00:05:32.570 --> 00:05:34.280\nThat's the way they do things there.\n\n102\n00:05:34.280 --> 00:05:37.200\nBut you can choose which\nones you want to configure.\n\n103\n00:05:37.200 --> 00:05:40.590\nMaybe I'm interested in blocking\nsome executables, right?\n\n104\n00:05:40.590 --> 00:05:42.030\nSo I can put a check mark there.\n\n105\n00:05:42.030 --> 00:05:44.080\nAnd then I get a drop down list and\n\n106\n00:05:44.080 --> 00:05:49.280\nI've got enforce rules as one option,\nand audit only as another option.\n\n107\n00:05:49.280 --> 00:05:53.120\nAnd enforce rules means whatever rules\nI create, it's gonna enforce them.\n\n108\n00:05:53.120 --> 00:05:57.290\nSo if I choose to block World of Warcraft,\nthen it's gonna block World of Warcraft.\n\n109\n00:05:57.290 --> 00:06:01.330\nIf I choose the audit only, it would\nstill allow World of Warcraft, but\n\n110\n00:06:01.330 --> 00:06:05.560\nit would log an entry saying\nsomebody launched World of Warcraft.\n\n111\n00:06:05.560 --> 00:06:07.550\nNow you might think, well why,\nwhat's the purpose of that, right?\n\n112\n00:06:07.550 --> 00:06:10.940\nIf you're going to make this rule to\nblock a program, you want to block it.\n\n113\n00:06:10.940 --> 00:06:12.960\nMaybe I'm not using it to block a program.\n\n114\n00:06:12.960 --> 00:06:15.230\nMaybe I need to see how\nmany people are using it.\n\n115\n00:06:15.230 --> 00:06:17.526\nMaybe I need to control my licenses and\n\n116\n00:06:17.526 --> 00:06:20.981\nmake sure I'm not using too\nmany copies of this program.\n\n117\n00:06:20.981 --> 00:06:24.558\nOr maybe it's something that I want to\nsee how many people are using it and\n\n118\n00:06:24.558 --> 00:06:28.560\nI'll make it a part of my image or I'll go\nbuy licenses for it and stuff like that.\n\n119\n00:06:28.560 --> 00:06:32.740\nSo that's what that auditing is for, it's\njust to see how many people are actually\n\n120\n00:06:32.740 --> 00:06:36.180\nusing the program or\nif anybody is using the application.\n\n121\n00:06:36.180 --> 00:06:37.860\nI'll go ahead and leave it on enforce.\n\n122\n00:06:37.860 --> 00:06:41.390\nAnd remember I said there's five\ncategories but you only see four here?\n\n123\n00:06:41.390 --> 00:06:45.980\nIf I go over to this Advanced tab,\nI can turn on DLL, but as it tells you,\n\n124\n00:06:45.980 --> 00:06:48.370\nDLL rules can affect system performance.\n\n125\n00:06:48.370 --> 00:06:51.080\nEverything really uses DLL\nfiles in the background, right?\n\n126\n00:06:51.080 --> 00:06:52.791\nThose dynamic link libraries.\n\n127\n00:06:52.791 --> 00:06:56.457\nAnd if you start making it check,\nevery time it goes to get a DLL file,\n\n128\n00:06:56.457 --> 00:07:00.902\nif it's allowed or not, that can really\nslow down the performance on your system.\n\n129\n00:07:00.902 --> 00:07:03.600\nSo if you need it, it's there.\n\n130\n00:07:03.600 --> 00:07:08.460\nYou would just turn it on, enable the DLL\nrule collection and if I apply that,\n\n131\n00:07:08.460 --> 00:07:14.240\nnow I want to go back to enforcement,\nyou see I've got the option for DLL rules.\n\n132\n00:07:14.240 --> 00:07:16.530\nNow just to make sure I\ndon't hamper my performance,\n\n133\n00:07:16.530 --> 00:07:18.450\nI'm going to turn that back off.\n\n134\n00:07:18.450 --> 00:07:20.576\nIt shouldn't bother it because\nI didn't make any rules but\n\n135\n00:07:20.576 --> 00:07:21.859\nI'm gonna turn it off just in case.\n\n136\n00:07:21.859 --> 00:07:23.709\n>> Yeah.\nYou don't need any help with the machine.\n\n137\n00:07:23.709 --> 00:07:26.985\n[LAUGH] Having got issues\nwith performance, Mike.\n\n138\n00:07:26.985 --> 00:07:28.020\n[LAUGH]\n>> I tell you what.\n\n139\n00:07:28.020 --> 00:07:30.810\nMy virtual machines have been\nslow in the last day or two here.\n\n140\n00:07:30.810 --> 00:07:31.620\nAll right.\n\n141\n00:07:31.620 --> 00:07:34.280\nSo I'm gonna go ahead and\nenable these rules.\n\n142\n00:07:34.280 --> 00:07:35.630\nAnd I'll click OK.\n\n143\n00:07:35.630 --> 00:07:39.540\nI'll do the executables for\nthis one, right?\n\n144\n00:07:39.540 --> 00:07:43.570\nNow I can go up to executables,\nI can right click, and I can choose\n\n145\n00:07:43.570 --> 00:07:49.090\nCreate New Rule, Automatically Generate\nRules, and Create Default Rules.\n\n146\n00:07:49.090 --> 00:07:52.430\nNow the Create Default Rules,\nthis is very important.\n\n147\n00:07:52.430 --> 00:07:53.290\nRemember what I said.\n\n148\n00:07:53.290 --> 00:07:55.400\nThis works on an implicit deny.\n\n149\n00:07:55.400 --> 00:07:58.881\nSo if I start making rules, I wanna\nblock World of Warcraft, that's great.\n\n150\n00:07:58.881 --> 00:08:00.461\nI can make a rule, right?\n\n151\n00:08:00.461 --> 00:08:01.714\nWhat about everything else, right?\n\n152\n00:08:01.714 --> 00:08:02.736\nIt's an implicit act.\n\n153\n00:08:02.736 --> 00:08:08.570\nWindows itself has executables that it\nneeds to run to be my operating system.\n\n154\n00:08:08.570 --> 00:08:11.890\nSo you really wanna make sure\nyou create those default rules.\n\n155\n00:08:11.890 --> 00:08:15.060\nSo I'm gonna go ahead and\nclick, Create Default Rules.\n\n156\n00:08:15.060 --> 00:08:18.410\nAnd we'll see that that's\ngonna create three rules.\n\n157\n00:08:18.410 --> 00:08:23.980\nOne, everyone can run anything\nlocated in the program files folder.\n\n158\n00:08:23.980 --> 00:08:27.670\nSo all those things are already installed\non the machine, this is gonna allow those\n\n159\n00:08:27.670 --> 00:08:31.440\nto run, and then I can go and pick and\nchoose if I need to block any of those.\n\n160\n00:08:31.440 --> 00:08:36.540\nThe next one, all files located in\nthe Windows folder can be run by everyone.\n\n161\n00:08:36.540 --> 00:08:40.010\nThis is so I can actually use my system,\nright, so that Windows will actually run.\n\n162\n00:08:40.010 --> 00:08:41.080\n>> That could be helpful.\n\n163\n00:08:41.080 --> 00:08:43.450\n>> It definitely makes it easier to use,\nright?\n\n164\n00:08:43.450 --> 00:08:47.160\nAnd then the last one is a free pass for\nanybody in the administrators group.\n\n165\n00:08:47.160 --> 00:08:49.200\nThey can run all files.\n\n166\n00:08:49.200 --> 00:08:49.770\nAll right?\nSo\n\n167\n00:08:49.770 --> 00:08:52.980\nif you're in the local admins group,\nthese rules won't apply to you.\n\n168\n00:08:52.980 --> 00:08:54.260\nYou can run everything.\n\n169\n00:08:54.260 --> 00:08:56.430\nSo now that I've.\nAnd you have to make the default rules for\n\n170\n00:08:56.430 --> 00:08:57.340\neach category.\n\n171\n00:08:57.340 --> 00:09:00.790\nLike if I was going to\nblock some MSI files,\n\n172\n00:09:00.790 --> 00:09:03.990\nI would wanna create the default rules for\nthat category as well.\n\n173\n00:09:03.990 --> 00:09:05.280\nAll right?\n\n174\n00:09:05.280 --> 00:09:06.530\nWe'll just stick with executables.\n\n175\n00:09:06.530 --> 00:09:10.210\nNow that I've got my default rules built,\nI'll right click again and\n\n176\n00:09:10.210 --> 00:09:11.560\nI've got those two options.\n\n177\n00:09:11.560 --> 00:09:14.150\nAutomatically generate rules or\ncreate new rule.\n\n178\n00:09:14.150 --> 00:09:17.020\nThis is a new feature to AppBlocker.\n\n179\n00:09:17.020 --> 00:09:19.810\nWhat this allows you to\ndo is launch a wizard.\n\n180\n00:09:19.810 --> 00:09:23.620\nAnd I can point it to a directory\nwhere a program resides and\n\n181\n00:09:23.620 --> 00:09:25.870\nit can build rules based\non what it sees in there.\n\n182\n00:09:25.870 --> 00:09:28.380\nGrab the name of the executable,\nfor example.\n\n183\n00:09:28.380 --> 00:09:31.210\nAny DLLs that it might have\nin there that it needs.\n\n184\n00:09:31.210 --> 00:09:32.050\nThings like that.\n\n185\n00:09:32.050 --> 00:09:33.570\nSo that's a pretty cool option.\n\n186\n00:09:33.570 --> 00:09:34.550\nI'm going to cancel that out.\n\n187\n00:09:34.550 --> 00:09:39.480\nAnd I'm just going to go ahead and\ncreate a new rule from scratch, all right?\n\n188\n00:09:39.480 --> 00:09:40.630\nLaunches another wizard.\n\n189\n00:09:40.630 --> 00:09:42.830\nWe know Microsoft loves their wizard.\n\n190\n00:09:42.830 --> 00:09:44.600\nAnd I'll click Next.\n\n191\n00:09:44.600 --> 00:09:45.538\nYou shall not pass.\n\n192\n00:09:45.538 --> 00:09:47.075\n[LAUGH]\n>> Right.\n\n193\n00:09:47.075 --> 00:09:52.120\nAnd the first thing I chose,\nam I making an Allow rule or a Deny rule?\n\n194\n00:09:52.120 --> 00:09:54.410\nI'm gonna go ahead and choose Deny.\n\n195\n00:09:54.410 --> 00:09:55.860\nCuz we made those default rules.\n\n196\n00:09:55.860 --> 00:09:59.070\nThat means that anything that's already\ninstalled Should be allowed to run.\n\n197\n00:09:59.070 --> 00:10:01.060\nWindows will be allowed to run.\n\n198\n00:10:01.060 --> 00:10:04.580\nSo, I'll choose Deny and\nthen I could pick who I wanna deny.\n\n199\n00:10:04.580 --> 00:10:07.490\nI could deny just the people in marketing,\nfor example.\n\n200\n00:10:07.490 --> 00:10:10.650\nWe could pick a security group or Daniel.\n\n201\n00:10:10.650 --> 00:10:11.830\nI'm gonna block World of Warcraft.\n\n202\n00:10:11.830 --> 00:10:15.740\nHe's the only one silly enough to\ntry to install World of Warcraft\n\n203\n00:10:15.740 --> 00:10:19.568\non his work machine and he's giving me\na very funny he's like no don't do it.\n\n204\n00:10:19.568 --> 00:10:23.290\n[LAUGH] All right I'll leave it on\ndeny everyone for this laugh and\n\n205\n00:10:23.290 --> 00:10:26.400\nI'll click next and then I've gotta define\n\n206\n00:10:26.400 --> 00:10:30.180\nhow am I going to identify\nthe executable that I'm trying to block?\n\n207\n00:10:30.180 --> 00:10:34.955\nI can do it by publisher, I can do it\nby path, or I can do it by file hash.\n\n208\n00:10:34.955 --> 00:10:40.700\nAll right publisher would be whoever wrote\nthat program, like Microsoft or Adobe.\n\n209\n00:10:40.700 --> 00:10:44.170\nAnd you can get very specific,\nlet me see if it'll let me show you here.\n\n210\n00:10:44.170 --> 00:10:47.170\nIf I go Publisher, and\nlet me see what I've got,\n\n211\n00:10:47.170 --> 00:10:50.770\nI don't have anything\nreally installed on here.\n\n212\n00:10:50.770 --> 00:10:54.150\nWe'll do VMware, and\nmy VMware tools maybe, and\n\n213\n00:10:54.150 --> 00:10:57.760\nI'll grab some application in here.\n\n214\n00:10:57.760 --> 00:11:00.028\nI don't see any executables.\n\n215\n00:11:00.028 --> 00:11:08.290\nSee if I'll see if that\nexecute was in here.\n\n216\n00:11:08.290 --> 00:11:09.040\nNot really.\n\n217\n00:11:09.040 --> 00:11:11.800\nWell, I'll just grab one of these and\nsee, if it'll let me use one of those.\n\n218\n00:11:11.800 --> 00:11:15.630\nAnd once I grab that it's\npulling information from there.\n\n219\n00:11:15.630 --> 00:11:17.630\nI get this great little slider.\n\n220\n00:11:17.630 --> 00:11:22.060\nYou can see it's filled in the publisher,\nthe product name, the file name,\n\n221\n00:11:22.060 --> 00:11:27.300\nwhich is that VMA, it looks like a help\nfile .exe, and then the file version.\n\n222\n00:11:27.300 --> 00:11:29.460\nSo I can get very specific.\n\n223\n00:11:29.460 --> 00:11:32.060\nOr maybe I just want to block\nI don't really care, but\n\n224\n00:11:32.060 --> 00:11:33.770\nwhat if they come out with 9.9.1?\n\n225\n00:11:33.770 --> 00:11:37.520\nThat wouldn't be blocked, all right?\n\n226\n00:11:37.520 --> 00:11:40.110\nOr 9.8.\nIf somebody put an older version on here,\n\n227\n00:11:40.110 --> 00:11:42.170\nthat wouldn't be blocked.\n\n228\n00:11:42.170 --> 00:11:43.560\nSo I can slide that up.\n\n229\n00:11:43.560 --> 00:11:46.770\nIf I don't wanna be so specific,\nsee how it changes to an asterisk?\n\n230\n00:11:46.770 --> 00:11:49.680\nSo now it's any version\nof that executable.\n\n231\n00:11:49.680 --> 00:11:52.250\nOr maybe I wanna just say VMware tools.\n\n232\n00:11:52.250 --> 00:11:55.870\nSo now you can see the asterisk there,\nthat wild card.\n\n233\n00:11:55.870 --> 00:12:00.170\nOr I can slide that up further and\nanything created by VMware inc,\n\n234\n00:12:00.170 --> 00:12:02.530\nwhether it's VMware tools or\nwhatever the case may be.\n\n235\n00:12:02.530 --> 00:12:04.940\nSo you've got some pretty\ncool options here.\n\n236\n00:12:04.940 --> 00:12:07.180\nI love this little slider that I can do.\n\n237\n00:12:07.180 --> 00:12:11.520\nI can also do custom values, and I can\nactually type in my own values there.\n\n238\n00:12:11.520 --> 00:12:14.020\nThe other option is a path option.\n\n239\n00:12:14.020 --> 00:12:15.030\nAll right?\n\n240\n00:12:15.030 --> 00:12:18.650\nNow path is just like you would think,\nright?\n\n241\n00:12:18.650 --> 00:12:21.860\nWhere is that executable located at?\n\n242\n00:12:21.860 --> 00:12:24.550\nWell, this one works well, right?\n\n243\n00:12:24.550 --> 00:12:27.580\nBut it isn't the easiest one for\nyour users to bypass\n\n244\n00:12:27.580 --> 00:12:31.710\ncuz you guys know if I block either of\nWorld of Warcraft and Stalls, right?\n\n245\n00:12:31.710 --> 00:12:34.830\nSo you go into programs files,\nWOW whatever, I can figure that out, and\n\n246\n00:12:34.830 --> 00:12:36.120\nI could block that executable.\n\n247\n00:12:36.120 --> 00:12:39.070\nDaniel, what are you gonna do if you find\nout that I'm blocking that, by the way?\n\n248\n00:12:39.070 --> 00:12:41.740\n>> I'm gonna install the software\nto a different path?\n\n249\n00:12:41.740 --> 00:12:42.550\n>> Right?\nIt's that easy,\n\n250\n00:12:42.550 --> 00:12:46.180\nin most applications when you install it,\nit gives you the default path, but\n\n251\n00:12:46.180 --> 00:12:47.660\nyou can always change it.\n\n252\n00:12:47.660 --> 00:12:49.510\nAnd so\nif he installed it in another drive or\n\n253\n00:12:49.510 --> 00:12:53.090\nsimply in another folder,\nthis rule wouldn't work, right?\n\n254\n00:12:53.090 --> 00:12:54.380\nSo it is an easy one for\n\n255\n00:12:54.380 --> 00:12:58.100\nyour user to get around if they\nhave any type of computer sense.\n\n256\n00:12:58.100 --> 00:13:03.610\nNow the last one is a file hash, which is\none that you could use which is simply\n\n257\n00:13:03.610 --> 00:13:07.040\nwhat you do is you click next and you go\nfind that file and it will run a hash.\n\n258\n00:13:07.040 --> 00:13:13.680\nIt will run a hash, and\nit will generate a hash value for that.\n\n259\n00:13:13.680 --> 00:13:15.320\nLet's see if it will let me do that.\n\n260\n00:13:15.320 --> 00:13:16.500\nI don't wanna actually do that.\n\n261\n00:13:16.500 --> 00:13:18.246\nI'm actually using VMware and just laugh.\n\n262\n00:13:18.246 --> 00:13:21.330\n[LAUGH] I don't wanna block that,\nbut it'll generate a hash value.\n\n263\n00:13:21.330 --> 00:13:23.640\nThey're just showing me\nwhat that hash value is.\n\n264\n00:13:23.640 --> 00:13:27.520\nAnd then anytime somebody tries to run\nsomething that matches that hash value,\n\n265\n00:13:27.520 --> 00:13:29.975\nit will block that, all right.\n\n266\n00:13:29.975 --> 00:13:33.305\nSo I'm going to simply do a path one for\nthis.\n\n267\n00:13:33.305 --> 00:13:34.155\nI'll click next.\n\n268\n00:13:35.375 --> 00:13:39.635\nYou can browse files and you can\nbrowse folders when you do the path.\n\n269\n00:13:39.635 --> 00:13:43.645\nIf I browse file,\nthen I can go pick the executable and\n\n270\n00:13:43.645 --> 00:13:45.770\nit will block just that one executable.\n\n271\n00:13:45.770 --> 00:13:49.640\nThere could be other executables\nin that folder that I wanna allow.\n\n272\n00:13:49.640 --> 00:13:53.300\nIf I choose browse folders,\nI'll picked the folder itself, and\n\n273\n00:13:53.300 --> 00:13:57.680\nthen any executable in that folder\nwould be blocked all right?\n\n274\n00:13:57.680 --> 00:14:01.500\nI'm gonna do browse files cuz what I wanna\ndo is navigate into something we can\n\n275\n00:14:01.500 --> 00:14:02.480\ntest here.\n\n276\n00:14:02.480 --> 00:14:08.440\nAnd we'll jump down into,\nfind something that's easy to verify,\n\n277\n00:14:12.970 --> 00:14:17.020\ngood old Notepad, and I'll open that.\n\n278\n00:14:17.020 --> 00:14:18.990\nNow if I had chose folder,\n\n279\n00:14:18.990 --> 00:14:22.300\nit would block every executable\nin the system 32 folder, right?\n\n280\n00:14:22.300 --> 00:14:23.950\nProbably not a good idea.\n\n281\n00:14:23.950 --> 00:14:25.510\nSo I'll choose the file.\n\n282\n00:14:25.510 --> 00:14:26.870\nI'll click Open.\n\n283\n00:14:26.870 --> 00:14:27.775\n>> Would it block itself?\n\n284\n00:14:27.775 --> 00:14:29.120\n>> [LAUGH] Yeah, right?\n\n285\n00:14:29.120 --> 00:14:33.320\nAlright we'll click notepad.exe,\nor select notpad.exe.\n\n286\n00:14:33.320 --> 00:14:34.770\nI'll go ahead and click next.\n\n287\n00:14:34.770 --> 00:14:38.880\nI could add an exception.\n\n288\n00:14:38.880 --> 00:14:42.910\nMaybe if that was located somewhere else,\nor if a different publisher made\n\n289\n00:14:42.910 --> 00:14:45.850\nthat particular program I\ncan add exceptions for that.\n\n290\n00:14:45.850 --> 00:14:47.010\nI'll click Next.\n\n291\n00:14:47.010 --> 00:14:48.060\nI don't have any.\n\n292\n00:14:48.060 --> 00:14:50.780\nGive the rule a name,\nI typically just leave the default.\n\n293\n00:14:50.780 --> 00:14:53.100\nWhatever it generates is fine with me.\n\n294\n00:14:53.100 --> 00:14:54.530\nAnd I'll go ahead and click create.\n\n295\n00:14:54.530 --> 00:14:59.840\nAnd now you'll see deny everyone\nfrom running system32/notepad.exe.\n\n296\n00:14:59.840 --> 00:15:03.978\n>> Well, good luck modifying\nthose batch files, right?\n\n297\n00:15:03.978 --> 00:15:06.840\n[LAUGH]\n>> [LAUGH] All right, so there we go.\n\n298\n00:15:06.840 --> 00:15:08.540\nWe've got that AppBlocker rule.\n\n299\n00:15:08.540 --> 00:15:13.660\nLet's see what else I wanna talk about\nwhile I'm in here, another good thing\n\n300\n00:15:13.660 --> 00:15:21.120\nthat you guys need to see is,\nI'll show you that on this machine.\n\n301\n00:15:21.120 --> 00:15:25.150\nOr actually we could use our group\npolicy to do this couldn't we?\n\n302\n00:15:25.150 --> 00:15:27.929\nIf I go back up into my service.\n\n303\n00:15:29.440 --> 00:15:31.760\nThere's a service that\nAppLocker relies on.\n\n304\n00:15:31.760 --> 00:15:34.660\nIt's known as the application\nidentity service.\n\n305\n00:15:34.660 --> 00:15:38.680\nIf this service is not running,\nthen AppLocker can't work.\n\n306\n00:15:38.680 --> 00:15:42.020\nThis is the service that detects\nwhat the user's clicking on or\n\n307\n00:15:42.020 --> 00:15:45.550\ntrying to run and decides whether or\nnot it should block it.\n\n308\n00:15:45.550 --> 00:15:47.130\nSo I need to make sure that's running.\n\n309\n00:15:47.130 --> 00:15:49.120\nWell, they could simply\ndisable that service.\n\n310\n00:15:49.120 --> 00:15:52.190\nIf they were an admin on their machine,\nthey can try to turn that service off,\n\n311\n00:15:52.190 --> 00:15:54.510\nand AppLocker wouldn't work, and\n\n312\n00:15:54.510 --> 00:15:57.070\nthey could run whatever\nprograms I was trying to block.\n\n313\n00:15:57.070 --> 00:16:01.772\nSo, typically, you use a group\npolicy to enable that service.\n\n314\n00:16:01.772 --> 00:16:05.820\nSo, I'm going to go ahead and say that\nservice should be set to automatic.\n\n315\n00:16:05.820 --> 00:16:07.172\nAnd I'll click OK.\n\n316\n00:16:07.172 --> 00:16:08.658\nSo I've created my rule.\n\n317\n00:16:08.658 --> 00:16:10.495\nI've created my default rules.\n\n318\n00:16:10.495 --> 00:16:12.420\nI created my custom rule.\n\n319\n00:16:12.420 --> 00:16:13.910\nI enabled that service.\n\n320\n00:16:13.910 --> 00:16:18.090\nAnd then remember, I went in here,\nand I pulled up my properties, and\n\n321\n00:16:18.090 --> 00:16:20.840\nI turned those on cuz that's\nan easy step to forget right there.\n\n322\n00:16:20.840 --> 00:16:24.840\nYou go through the process of creating all\nthose rules, you enable that service, and\n\n323\n00:16:24.840 --> 00:16:26.810\nthen you forget to actually put\nthe check mark for configure,\n\n324\n00:16:26.810 --> 00:16:29.340\nand it doesn't do anything, right?\n\n325\n00:16:29.340 --> 00:16:32.953\nSo you gotta make sure you configure it,\nand then decide if you're gonna enforce or\n\n326\n00:16:32.953 --> 00:16:33.530\naudit only.\n\n327\n00:16:33.530 --> 00:16:36.670\nAnd at that point,\nwe should be good to go.\n\n328\n00:16:36.670 --> 00:16:39.940\nSo I'll close my\nGroup Policy Management Editor.\n\n329\n00:16:41.342 --> 00:16:45.238\nAnd now we're gonna do, I'm gonna switch\nover to server one here, wake this guy up.\n\n330\n00:16:49.880 --> 00:16:52.030\nIf I type the right password.\n\n331\n00:16:54.140 --> 00:16:58.399\nAnd let me close some windows here,\nand I'm gonna update group policy.\n\n332\n00:16:58.399 --> 00:17:02.440\nAll right.\nSo it'll do a little GP update.\n\n333\n00:17:03.760 --> 00:17:09.360\nSwitch force, and we'll refresh policies\nsince I just created a new policy.\n\n334\n00:17:09.360 --> 00:17:11.740\nAnd we'll test this out, and\nwe'll see if it's going to work.\n\n335\n00:17:11.740 --> 00:17:14.040\nNow this is one that I\nwill tell you real world,\n\n336\n00:17:14.040 --> 00:17:19.060\nsometimes it takes more than one refresh\nof policy before it seems to kick\n\n337\n00:17:19.060 --> 00:17:22.230\nin cuz the policy's telling you\nto turn that service on, right?\n\n338\n00:17:22.230 --> 00:17:24.205\nBut it might not turn that\nservice on right away.\n\n339\n00:17:24.205 --> 00:17:25.931\nRight?\nAnd the next time I reboot and\n\n340\n00:17:25.931 --> 00:17:29.990\nthe policy's already in place,\nthat service should kick in.\n\n341\n00:17:29.990 --> 00:17:32.780\nSo, we'll try it here, and\nwe'll see what happens.\n\n342\n00:17:32.780 --> 00:17:40.310\nLet's do a little notepad.exe, and\nNotepad, sure enough, did launch.\n\n343\n00:17:40.310 --> 00:17:43.465\nSo, let's just reboot\nthis server real quick.\n\n344\n00:17:45.882 --> 00:17:47.850\nAnd we'll see what happens.\n\n345\n00:17:47.850 --> 00:17:50.430\nAll right, so that is my AppLocker.\n\n346\n00:17:50.430 --> 00:17:54.920\nNow, AppLocker only applies to Windows 7,\n\n347\n00:17:54.920 --> 00:17:59.900\nServer 2008, and later, all right?\n\n348\n00:17:59.900 --> 00:18:03.830\nBut, if we've got some downlevel clients,\nwe're not left out in the dark.\n\n349\n00:18:03.830 --> 00:18:06.620\nWe have what we call software\nrestriction policies.\n\n350\n00:18:06.620 --> 00:18:10.280\nThese came out in Windows XP and\n\n351\n00:18:10.280 --> 00:18:15.070\nServer 2003, and they'll apply to any\noperating system later than that.\n\n352\n00:18:15.070 --> 00:18:17.170\nThey're called software\nrestriction policies.\n\n353\n00:18:17.170 --> 00:18:19.030\nThey're not quite as.\n\n354\n00:18:19.030 --> 00:18:20.360\nAppLocker is basically the new and\n\n355\n00:18:20.360 --> 00:18:23.060\nimproved version of software\nrestriction policies.\n\n356\n00:18:23.060 --> 00:18:28.150\nBut again, they're not gonna be\nrecognized by XP, Windows Vista, or 2003.\n\n357\n00:18:28.150 --> 00:18:31.750\nSo if you need to block programs\non those older operating systems,\n\n358\n00:18:31.750 --> 00:18:36.540\nyou're gonna either use both AppLocker for\nWindows 7, 2008, and later,\n\n359\n00:18:36.540 --> 00:18:41.830\nand then SRP, software restriction\npolicies for prior to that.\n\n360\n00:18:41.830 --> 00:18:43.453\nOr, you could just use SRPs for\n\n361\n00:18:43.453 --> 00:18:47.330\neverything because they will be\napplied by any operating system.\n\n362\n00:18:47.330 --> 00:18:49.309\nThose downlevel clients though,\nthey'll ignore.\n\n363\n00:18:49.309 --> 00:18:53.840\nThey don't understand AppLocker,\nso they won't be in effect.\n\n364\n00:18:55.430 --> 00:18:59.226\nSo let's see what happens now\nif we type in notepad.exe.\n\n365\n00:19:02.660 --> 00:19:03.740\nAnd it still launches.\n\n366\n00:19:03.740 --> 00:19:06.367\nThat's nice.\nSo we'll do another GP update, and\n\n367\n00:19:06.367 --> 00:19:08.326\nwe'll test that one more time.\n\n368\n00:19:09.957 --> 00:19:17.550\n[SOUND] Oh, you know what?\n\n369\n00:19:18.600 --> 00:19:20.876\nDaniel, I tell you what,\na little brain cramp there.\n\n370\n00:19:20.876 --> 00:19:22.952\nGuess what?\n\n371\n00:19:22.952 --> 00:19:25.260\n>> You didn't.\n\n372\n00:19:25.260 --> 00:19:25.920\nI created it for you.\n\n373\n00:19:25.920 --> 00:19:31.160\n>> Think about the default rules, and\nwhat was that last default rule there?\n\n374\n00:19:31.160 --> 00:19:33.090\n>> What was the last default rule?\n\n375\n00:19:33.090 --> 00:19:35.510\n>> Administrators get a free pass.\n\n376\n00:19:35.510 --> 00:19:37.660\n>> And I'm logged on as-\n>> Guess what you're logged in as?\n\n377\n00:19:37.660 --> 00:19:38.480\n>> Yeah, exactly.\n\n378\n00:19:38.480 --> 00:19:39.528\nSo let me-\n>> We get so used to the power Mike.\n\n379\n00:19:39.528 --> 00:19:41.269\n[LAUGH]\n>> [SOUND] I'll tell you what,\n\n380\n00:19:41.269 --> 00:19:43.314\nthat would have taken me a few tries.\n\n381\n00:19:43.314 --> 00:19:44.442\nI'm like wait, why isn't this working?\n\n382\n00:19:44.442 --> 00:19:46.690\n>> [LAUGH]\n>> Let me go in here real quick and\n\n383\n00:19:46.690 --> 00:19:48.780\nmake sure I've got another account.\n\n384\n00:19:48.780 --> 00:19:50.400\nI'll use good old Dilbert there.\n\n385\n00:19:50.400 --> 00:19:54.130\nHe's not in the admins group.\n\n386\n00:19:54.130 --> 00:19:54.950\nSo let me log off.\n\n387\n00:19:56.760 --> 00:19:58.976\nThat was an example of how\nthe administrator gets a free pass.\n\n388\n00:19:58.976 --> 00:20:00.525\n>> [LAUGH]\n>> That's one of those default rules that\n\n389\n00:20:00.525 --> 00:20:01.120\nwe've created.\n\n390\n00:20:01.120 --> 00:20:02.110\n>> That's right.\nYou did that purposefully.\n\n391\n00:20:02.110 --> 00:20:03.100\n>> Yes, exactly.\n>> You know\n\n392\n00:20:03.100 --> 00:20:05.800\nwhat's interesting about this though\nis that it really does a good job.\n\n393\n00:20:05.800 --> 00:20:09.370\nI mean, there are third-party applications\nout there that will do this exact same\n\n394\n00:20:09.370 --> 00:20:11.670\nthing and probably a whole lot better,\nto be honest with you.\n\n395\n00:20:11.670 --> 00:20:15.771\nThere's Shavlik, Dell KACE, all these\nother pieces of software that allow you to\n\n396\n00:20:15.771 --> 00:20:19.123\ncontrol software, management,\nupdates, all whole nine yards.\n\n397\n00:20:19.123 --> 00:20:22.140\nVery expensive, very upper level.\n\n398\n00:20:22.140 --> 00:20:25.390\nThe fact that this has something that's\nvery similar to that, does give you\n\n399\n00:20:25.390 --> 00:20:28.920\na pretty good amount of control,\nactually, even in like an XP environment.\n\n400\n00:20:28.920 --> 00:20:33.690\nIf you're just running a small work group,\nyou still have this ability to do this.\n\n401\n00:20:33.690 --> 00:20:37.850\nThat's a really smart idea from Microsoft,\nin my humble opinion.\n\n402\n00:20:37.850 --> 00:20:38.560\n>> I like it too.\n\n403\n00:20:38.560 --> 00:20:40.500\nI think it was a good, and\nyou know something that we need.\n\n404\n00:20:40.500 --> 00:20:42.330\n>> Yeah.\n>> Because our users tend to do things\n\n405\n00:20:42.330 --> 00:20:45.000\nthat aren't so good for our systems.\n\n406\n00:20:45.000 --> 00:20:45.600\nThere we go.\n\n407\n00:20:45.600 --> 00:20:47.280\nAnd that's the message we're looking for.\n\n408\n00:20:47.280 --> 00:20:48.934\nSee what happens when you\ndon't log on as administrator?\n\n409\n00:20:48.934 --> 00:20:50.090\n>> [LAUGH].\n>> Right?\n\n410\n00:20:50.090 --> 00:20:52.270\nYour system administrator\nhas blocked this program.\n\n411\n00:20:52.270 --> 00:20:55.440\nFor more information,\ncontact your system administrator.\n\n412\n00:20:55.440 --> 00:20:57.470\nSo that's what AppLocker is gonna do.\n\n413\n00:20:57.470 --> 00:20:59.330\nIt's gonna block whatever program.\n\n414\n00:20:59.330 --> 00:21:03.255\nYou create those default rules to make\nsure everything is allowed, and then you\n\n415\n00:21:03.255 --> 00:21:07.795\ngo back in and you start denying whatever\nit is that you don't want to allow to run.\n\n416\n00:21:07.795 --> 00:21:09.005\nOr if you just want to audit.\n\n417\n00:21:10.055 --> 00:21:11.965\nAll right, now, the next thing,\n\n418\n00:21:11.965 --> 00:21:14.175\nI do want to show you the software\nrestriction policies.\n\n419\n00:21:14.175 --> 00:21:16.275\nAgain, that's the older version, but\n\n420\n00:21:16.275 --> 00:21:21.005\nlet's take a look at it cuz you\nmight need it in your environment.\n\n421\n00:21:22.270 --> 00:21:26.370\nSo we'll open up that group policy\nmanagement console again, and\n\n422\n00:21:26.370 --> 00:21:29.700\nI'm just gonna use that same policy\nthere in my application restriction.\n\n423\n00:21:29.700 --> 00:21:33.330\nActually I shouldn't do that cuz\nlet me tell you a best practice or\n\n424\n00:21:33.330 --> 00:21:35.991\nactually not a best practice something\nthat you need to be aware of.\n\n425\n00:21:35.991 --> 00:21:40.825\nAgain, AppLocker, software restriction\npolicies, they kinda do the same thing.\n\n426\n00:21:40.825 --> 00:21:44.470\nAppLocker's just the new and\nimproved version.\n\n427\n00:21:44.470 --> 00:21:46.640\nIf you're gonna use both,\n\n428\n00:21:46.640 --> 00:21:50.840\nif you've got XP machines that you need to\nblock applications on or Vista machines\n\n429\n00:21:50.840 --> 00:21:54.185\nand you've got Windows 7 machines, you're\ngonna end up creating both most likely.\n\n430\n00:21:54.185 --> 00:21:57.500\nAppLocker for the latest operating\nsystems, software restriction for\n\n431\n00:21:57.500 --> 00:22:02.870\nthose downlevel clients, but if you try\nto put both of them in the same GPO,\n\n432\n00:22:02.870 --> 00:22:04.640\nit will ignore the software\nrestriction policies.\n\n433\n00:22:04.640 --> 00:22:07.135\nAnd it will only apply\nthe AppLocker policies.\n\n434\n00:22:07.135 --> 00:22:08.155\nSo you need to create,\n\n435\n00:22:08.155 --> 00:22:11.987\nif you're gonna do both,\nyou really need to use separate GPOs.\n\n436\n00:22:11.987 --> 00:22:13.215\nAll right?\n\n437\n00:22:13.215 --> 00:22:16.395\nSo let me just make it,\nlet me do a separate GPO.\n\n438\n00:22:16.395 --> 00:22:18.655\nAnd I'm gonna call this SRP or\n\n439\n00:22:18.655 --> 00:22:23.035\nSoftware Restricting policies, and\nI'll right click and choose edit.\n\n440\n00:22:24.375 --> 00:22:26.105\nJust to show you where these guys are and\n\n441\n00:22:26.105 --> 00:22:29.739\nshow you the differences under the\ncomputer configuration, Windows settings.\n\n442\n00:22:33.176 --> 00:22:34.440\nAnd then security settings.\n\n443\n00:22:36.090 --> 00:22:38.450\nAnd down here I have my software\nrestriction policies, right?\n\n444\n00:22:38.450 --> 00:22:42.700\nWe were in the AppLocker or\napplication control policies earlier, and\n\n445\n00:22:42.700 --> 00:22:45.139\nnow we're gonna be in our\nsoftware restriction policies.\n\n446\n00:22:46.900 --> 00:22:49.473\nAnd it didn't like the fact\nthat I clicked on that, so-\n\n447\n00:22:49.473 --> 00:22:50.268\n>> How dare you sir.\n\n448\n00:22:50.268 --> 00:22:50.876\n>> That's crazy.\n\n449\n00:22:50.876 --> 00:22:54.080\nWe'll go back over here to\nsoftware restriction policies.\n\n450\n00:22:54.080 --> 00:22:55.400\nAnd it kinda starts out the same way.\n\n451\n00:22:55.400 --> 00:22:57.670\nRight?\nThere's nothing to find out here.\n\n452\n00:22:57.670 --> 00:23:00.842\nI'm gonna right click\nNew Software Restriction Policy, and\n\n453\n00:23:00.842 --> 00:23:03.040\nit's gonna generate a couple nodes here.\n\n454\n00:23:03.040 --> 00:23:08.050\nI've got these security levels,\nunrestricted, basic user, and disallowed.\n\n455\n00:23:08.050 --> 00:23:11.080\nDisallowed, software will not\nrun regardless of the access\n\n456\n00:23:11.080 --> 00:23:12.260\nrights of the user.\n\n457\n00:23:12.260 --> 00:23:17.785\nBasic allows programs to execute as a user\nthat does not have administrator access.\n\n458\n00:23:17.785 --> 00:23:20.240\nCan still access normal resources.\n\n459\n00:23:20.240 --> 00:23:21.800\nAnd the last one unrestricted.\n\n460\n00:23:21.800 --> 00:23:23.800\nAnybody can run anything, basically.\n\n461\n00:23:23.800 --> 00:23:25.860\nAnd then you've got your\nadditional rules down here.\n\n462\n00:23:25.860 --> 00:23:27.730\nThese are the actual rules, and\n\n463\n00:23:27.730 --> 00:23:32.940\nthis is allowing a couple things that\nmake sure Windows will still function.\n\n464\n00:23:32.940 --> 00:23:34.750\nBut the process is pretty much the same.\n\n465\n00:23:34.750 --> 00:23:36.696\nWe can create a.\n\n466\n00:23:36.696 --> 00:23:40.060\nLet's see what we got here.\n\n467\n00:23:40.060 --> 00:23:43.550\nMy rules, I'll right click, and\nyou see the categories are different.\n\n468\n00:23:43.550 --> 00:23:45.790\nSoftware restriction policies, same thing,\n\n469\n00:23:45.790 --> 00:23:48.480\nyou have to identify the application\nthat you're gonna block.\n\n470\n00:23:48.480 --> 00:23:51.250\nBut how you identified the application\nwas slightly different.\n\n471\n00:23:51.250 --> 00:23:52.390\nThere was a certificate rule.\n\n472\n00:23:52.390 --> 00:23:56.485\nSo if that application had been assigned\na certificate, digitally signed,\n\n473\n00:23:56.485 --> 00:23:58.946\nI could use that to\nidentify the application.\n\n474\n00:23:58.946 --> 00:24:01.243\nI could do a hash rule,\nsame thing we have in AppLocker.\n\n475\n00:24:01.243 --> 00:24:02.683\nWe run a hash on the file.\n\n476\n00:24:02.683 --> 00:24:03.763\nAnd use that.\n\n477\n00:24:03.763 --> 00:24:07.473\nYou've got the path rule,\nwhich is the same as app logger policies.\n\n478\n00:24:07.473 --> 00:24:09.780\nLocation of where the executable is.\n\n479\n00:24:09.780 --> 00:24:12.410\nThe one that's different\nthat's not available anymore\n\n480\n00:24:12.410 --> 00:24:13.800\nis the network zone rule.\n\n481\n00:24:13.800 --> 00:24:15.330\nIt was kinda a weird one.\n\n482\n00:24:15.330 --> 00:24:18.550\nWhen you go to Internet Explorer and\nyou look at your security settings.\n\n483\n00:24:18.550 --> 00:24:21.040\nIt's divided up into\nfour different places.\n\n484\n00:24:21.040 --> 00:24:25.968\nYou've got your restricted sites,\nyour trusted sites, your local sites and\n\n485\n00:24:25.968 --> 00:24:28.280\nthen your Internet zone.\n\n486\n00:24:28.280 --> 00:24:30.780\nAnything that wasn't in one of the other\nthree went in that Internet zone.\n\n487\n00:24:30.780 --> 00:24:33.890\nAnd what this would say was where\ndid you get the program from?\n\n488\n00:24:33.890 --> 00:24:38.670\nIf you downloaded it from the Internet\nthen I could base this on\n\n489\n00:24:38.670 --> 00:24:42.530\nI'm gonna not allow any programs\ndownloaded form the Internet zone or I'm\n\n490\n00:24:42.530 --> 00:24:46.150\nnot gonna allow any programs to run that\nwere downloaded from a restricted site.\n\n491\n00:24:47.170 --> 00:24:48.280\nRight?\nSo kind of a weird one.\n\n492\n00:24:48.280 --> 00:24:50.470\nI never used it in\na production environment.\n\n493\n00:24:50.470 --> 00:24:53.340\nAnd that could be why,\nnot because I didn't use it,\n\n494\n00:24:53.340 --> 00:24:56.240\nbut you know Microsoft said\nit's just not all that useful.\n\n495\n00:24:56.240 --> 00:24:59.220\n>> Mike Roderick's not using this product,\nwe're just going to nix it right now.\n\n496\n00:24:59.220 --> 00:25:00.590\n>> Exactly.\nIf I'm not using it,\n\n497\n00:25:00.590 --> 00:25:01.790\nwhy would you want it?\n\n498\n00:25:01.790 --> 00:25:04.350\nNo, but I mean, a lot of people\ndon't use Internet Explorer, right?\n\n499\n00:25:04.350 --> 00:25:05.040\n>> That's true.\n\n500\n00:25:05.040 --> 00:25:08.530\n>> And the other products don't\nuse the same zones like that,\n\n501\n00:25:08.530 --> 00:25:11.720\nso it didn't pan out all that well,\nI don't think.\n\n502\n00:25:11.720 --> 00:25:13.270\nBut the process is pretty much the same.\n\n503\n00:25:13.270 --> 00:25:16.830\nNew path rule and\nI would go find my program.\n\n504\n00:25:16.830 --> 00:25:20.390\nAnd then I can choose disallow\nbasic user or unrestricted.\n\n505\n00:25:20.390 --> 00:25:23.070\nThat was those security levels\nthat we just looked at.\n\n506\n00:25:23.070 --> 00:25:23.640\nAll right?\n\n507\n00:25:23.640 --> 00:25:25.270\nAnd so here I'll do the same thing.\n\n508\n00:25:25.270 --> 00:25:27.790\nI'll go find what have we got?\n\n509\n00:25:27.790 --> 00:25:31.784\nSQL, then Windows System 32.\n\n510\n00:25:35.174 --> 00:25:37.542\nAnd then my little Notepad down there.\n\n511\n00:25:41.791 --> 00:25:47.085\nScroll, scroll, scroll,\nscroll, scroll, scroll.\n\n512\n00:25:47.085 --> 00:25:48.432\nOkay, maybe that was not a good one.\n\n513\n00:25:48.432 --> 00:25:53.279\nThere we go, notepad.exe and\nI'll click okay, so there's my path and\n\n514\n00:25:53.279 --> 00:25:56.388\nI could say disallowed and\nI could click okay.\n\n515\n00:25:56.388 --> 00:26:00.928\nAnd so you can see now I've got that\nnew rule that should block notepad, but\n\n516\n00:26:00.928 --> 00:26:04.244\nthis one will block it on Windows XP and\nWindows VIsta,\n\n517\n00:26:04.244 --> 00:26:06.480\nwhere as my ad blocker policy.\n\n518\n00:26:06.480 --> 00:26:11.500\nWould only block it on Windows 7 and\nlater and Server 2008 and later.\n\n519\n00:26:11.500 --> 00:26:14.340\nSo, there's another way that\nwe can go in and block and\n\n520\n00:26:14.340 --> 00:26:19.710\nyou can also create, new secure\nmaybe they won't let you anymore.\n\n521\n00:26:19.710 --> 00:26:20.700\nNope.\nYou're stuck with the ones\n\n522\n00:26:20.700 --> 00:26:21.680\nthat they give you.\n\n523\n00:26:21.680 --> 00:26:24.970\nSo, that's software restriction\npolicies that's the older way to do it.\n\n524\n00:26:24.970 --> 00:26:29.670\nIf you've got down level clients, though,\nyou might need to create some of those and\n\n525\n00:26:29.670 --> 00:26:32.150\nkeep in mind what I said\nabout them working together.\n\n526\n00:26:32.150 --> 00:26:34.230\nNo problems using them both\nin your domain environment.\n\n527\n00:26:34.230 --> 00:26:38.185\nDon't put them in the same GPO,\nbecause it will completely ignore\n\n528\n00:26:38.185 --> 00:26:42.125\nthe software restriction policies and\nonly apply the app logger policy.\n\n529\n00:26:42.125 --> 00:26:43.734\n>> That's a good reason to go ahead and\n\n530\n00:26:43.734 --> 00:26:46.374\njust update your entire network\n[LAUGH] if at all possible.\n\n531\n00:26:46.374 --> 00:26:50.693\nIt really is a good idea to have\neverything homogenous, right?\n\n532\n00:26:50.693 --> 00:26:52.527\nIf you're running Windows 7,\nrun Windows 7.\n\n533\n00:26:52.527 --> 00:26:54.005\nIf you're running Windows 8,\nrun Windows 8.\n\n534\n00:26:54.005 --> 00:26:57.450\nWe understand that there is times\nthat when you got some XP machines\n\n535\n00:26:57.450 --> 00:26:59.430\nlying around,\nthey're still on the network.\n\n536\n00:26:59.430 --> 00:27:04.160\nSo when that does happen, they do offer\nyou backwards compatibility, but you gotta\n\n537\n00:27:04.160 --> 00:27:09.520\nheed Mike's warning about using that mixed\nenvironment when you apply these settings.\n\n538\n00:27:09.520 --> 00:27:10.030\nGood stuff, Mike.\n\n539\n00:27:10.030 --> 00:27:11.570\nAnything else we need to know?\n\n540\n00:27:11.570 --> 00:27:12.710\n>> Yeah.\nLet me mention too,\n\n541\n00:27:12.710 --> 00:27:16.120\nthe software restriction policies\ndon't support exceptions, so\n\n542\n00:27:16.120 --> 00:27:20.140\nlike we were able to do with the AppLocker\npolicies, I could say nobody can run\n\n543\n00:27:20.140 --> 00:27:23.990\nNotepad, except Daniel cuz I know\nthat's his favorite text editor or\n\n544\n00:27:23.990 --> 00:27:27.210\nmaybe the IT people need Notepad,\njust as an example.\n\n545\n00:27:27.210 --> 00:27:29.440\nSo, you can make exceptions\nwithin AppLocker.\n\n546\n00:27:29.440 --> 00:27:32.190\nYou can't do that in software\nrestriction policies.\n\n547\n00:27:32.190 --> 00:27:37.010\nAlso, you can import and\nexport rules from AppLocker.\n\n548\n00:27:37.010 --> 00:27:41.940\nSo if I created a bunch of rules and I\nwanted to use those rules in another GPO,\n\n549\n00:27:41.940 --> 00:27:46.680\nmaybe I scoped that GPO to the client's OU\nand I wanted to scope to, I wanted to make\n\n550\n00:27:46.680 --> 00:27:51.710\nthose same settings on another OU,\nI could actually export those rules.\n\n551\n00:27:51.710 --> 00:27:54.190\nYou can't do it on a per rule basis.\n\n552\n00:27:54.190 --> 00:27:55.930\nBut you can do it on a rule collections.\n\n553\n00:27:55.930 --> 00:28:00.160\nLike all your executables or\nall your Windows installer files.\n\n554\n00:28:00.160 --> 00:28:02.340\nYou can export the entire\nrule collection and\n\n555\n00:28:02.340 --> 00:28:04.580\nthen you can import it into another GPO.\n\n556\n00:28:04.580 --> 00:28:06.200\nSoftware restriction policies you cannot.\n\n557\n00:28:06.200 --> 00:28:08.794\nSo if you wanted to make another\npolicy that had the same settings,\n\n558\n00:28:08.794 --> 00:28:12.260\nyou have to do that manually, or copy\nthe policy, I guess you could do that.\n\n559\n00:28:12.260 --> 00:28:15.941\n>> It's a very good thing,\nit's something we need to know for, well,\n\n560\n00:28:15.941 --> 00:28:19.306\nto restrict software,\nbecause like we said in the beginning,\n\n561\n00:28:19.306 --> 00:28:22.760\nusers have a really fond way of,\nthey just love to do this.\n\n562\n00:28:22.760 --> 00:28:26.930\nIs to install things on our systems\nthat can either A cause problems or\n\n563\n00:28:26.930 --> 00:28:29.790\nB just make them unproductive or\nC maybe even both.\n\n564\n00:28:29.790 --> 00:28:32.640\n>> Yeah, or they're illegally\nobtained copies of software\n\n565\n00:28:32.640 --> 00:28:34.740\nthat we don't have licenses for, right?\n\n566\n00:28:34.740 --> 00:28:37.590\nAnd it's like I know that somebody's\nrunning Dreamweaver out there, or\n\n567\n00:28:37.590 --> 00:28:39.640\nyou know something like that or Photoshop.\n\n568\n00:28:39.640 --> 00:28:40.270\n>> Yeah.\n\n569\n00:28:40.270 --> 00:28:44.000\n>> I need to find that and\nsee who it is or and make sure I block it.\n\n570\n00:28:44.000 --> 00:28:45.390\n>> Then we'll see them in HR.\n\n571\n00:28:45.390 --> 00:28:47.490\nAnd that'll be a fun talk.\n\n572\n00:28:47.490 --> 00:28:49.310\nAll right,\nwell this has been awesome content.\n\n573\n00:28:49.310 --> 00:28:50.830\nHopefully you guys got a lot out of it,\n\n574\n00:28:50.830 --> 00:28:54.260\ncuz this is definitely gonna help you\nout when it comes to the exam and\n\n575\n00:28:54.260 --> 00:28:57.430\nreally in the real world,\nthis is stuff that you're gonna be doing.\n\n576\n00:28:57.430 --> 00:28:59.120\nBeing said Mike it looks\nlike we wrapped up yet\n\n577\n00:28:59.120 --> 00:29:01.000\nanother excellent episode here ITProTV.\n\n578\n00:29:01.000 --> 00:29:02.960\nSo we're signing off.\n\n579\n00:29:02.960 --> 00:29:04.528\nI've been your host Daniel Lowry.\n\n580\n00:29:04.528 --> 00:29:06.293\n>> And I'm Mike Rodrick and\nwe'll see you next time.\n\n581\n00:29:06.293 --> 00:29:07.287\n[SOUND]\n\n",
          "vimeoId": "134407940"
        },
        {
          "description": "In this episode, Daniel and Mike talk about the built-in firewall to Windows Server 2012 R2. They show how to configure the firewall to allow and block different types of traffic depending on the needs of the server.",
          "length": "1808",
          "thumbnail": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server7410-19-1-configure_windows_Firewalls-072315-1.png",
          "thumbnailMed": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server7410-19-1-configure_windows_Firewalls-072315-1-med.jpg",
          "thumbnailSm": "https://itprotv-image-bucket.s3.amazonaws.com/microsoft-server70410/microsoft-server7410-19-1-configure_windows_Firewalls-072315-1-sm.jpg",
          "title": "Configure Windows Firewalls",
          "transcript": "WEBVTT\n\n1\n00:00:00.428 --> 00:00:10.563\n[MUSIC]\n\n2\n00:00:10.563 --> 00:00:14.590\nAll right, greetings everyone, and welcome\nto another great episode of ITProTV.\n\n3\n00:00:14.590 --> 00:00:16.720\nI'll be your host today, Daniel Lowery,\n\n4\n00:00:16.720 --> 00:00:19.910\nand here with me the AD\nmaster that is Mike Rodrick.\n\n5\n00:00:19.910 --> 00:00:21.060\nWhat's going on, Mike?\n\n6\n00:00:21.060 --> 00:00:22.970\n>> Not much, not much, excited to be here.\n\n7\n00:00:22.970 --> 00:00:25.650\nWe are gonna talk about firewalls today.\n\n8\n00:00:25.650 --> 00:00:30.340\nCreating firewall rules and exceptions,\nand some connections security rules.\n\n9\n00:00:30.340 --> 00:00:31.740\nMight even do a little IPsec in there.\n\n10\n00:00:31.740 --> 00:00:33.840\n>> Well, that ought to be a very\ninteresting show there, Michael.\n\n11\n00:00:33.840 --> 00:00:36.750\n>> Yeah?\nWell, stay tuned, [INAUDIBLE].\n\n12\n00:00:36.750 --> 00:00:37.383\n>> So the Windows firewall,\n\n13\n00:00:37.383 --> 00:00:39.150\nthat's what everybody's,\nwhat we're talking about there, right?\n\n14\n00:00:39.150 --> 00:00:39.660\n>> Exactly. Yep. >> And\n\n15\n00:00:39.660 --> 00:00:43.580\nif you've worked with any kind of Windows\nenvironment that's pretty standard stuff.\n\n16\n00:00:43.580 --> 00:00:45.520\n>> You go into the Control Panel,\na little firewall business,\n\n17\n00:00:45.520 --> 00:00:46.600\nand we can set some settings.\n\n18\n00:00:46.600 --> 00:00:50.950\n>> Exactly, and so at this point we\nshould definitely be familiar with it.\n\n19\n00:00:50.950 --> 00:00:54.515\nWhat I want to stress here and what they\nmight call out on the exam is a couple of\n\n20\n00:00:54.515 --> 00:00:56.856\nadvanced things that I can\ndo with a firewall, and\n\n21\n00:00:56.856 --> 00:01:00.915\nmaking sure that we understand that we can\nuse group policy to create firewall rules.\n\n22\n00:01:00.915 --> 00:01:03.745\nBecause if I've got hundreds or\nthousands of clients and servers and\n\n23\n00:01:03.745 --> 00:01:06.836\nthings like that, I don't wanna have\nto touch every machine, all right.\n\n24\n00:01:06.836 --> 00:01:10.433\nAnd I don't wanna have to go to each\none and configure those rules so\n\n25\n00:01:10.433 --> 00:01:11.212\nwhat do we do?\n\n26\n00:01:11.212 --> 00:01:15.312\nJust like everything else we use our\ncentralized change management and we're,\n\n27\n00:01:15.312 --> 00:01:18.203\nconfiguration management,\nI'm sorry, and we do our,\n\n28\n00:01:18.203 --> 00:01:20.511\nuse our group policy to\ncreate these things.\n\n29\n00:01:20.511 --> 00:01:22.897\n>> Yeah, going to each one of\nthose different machines and\n\n30\n00:01:22.897 --> 00:01:25.399\nsetting the firewall up,\nthat would be a little tedious.\n\n31\n00:01:25.399 --> 00:01:29.915\nSo, luckily we have the group policy\nmanagement to do all this work for us.\n\n32\n00:01:29.915 --> 00:01:32.458\nWe'll go in there, set some policy,\npush it out to everyone.\n\n33\n00:01:32.458 --> 00:01:34.013\nMakes our lives a little easier.\n\n34\n00:01:34.013 --> 00:01:35.058\n>> Exactly.\n\n35\n00:01:35.058 --> 00:01:37.833\nSo I'm going to open up my group policy\nmanagement console on my screen here.\n\n36\n00:01:37.833 --> 00:01:40.618\nAnd it's gonna take it a minute to,\nyou know what?\n\n37\n00:01:40.618 --> 00:01:43.974\nIt's a strange thing about the,\nI'll give you a little tip.\n\n38\n00:01:43.974 --> 00:01:45.680\n>> Behind the scenes action there.\n\n39\n00:01:45.680 --> 00:01:49.159\n>> Yeah, there's several times I opened\nup group policy management console and\n\n40\n00:01:49.159 --> 00:01:50.280\nyou get this.\n\n41\n00:01:50.280 --> 00:01:53.600\nAnd yet I can still probably go\nover here and expand things out.\n\n42\n00:01:53.600 --> 00:01:56.540\nAnd that little guy is still running\nin the background over there.\n\n43\n00:01:56.540 --> 00:01:57.870\nClose it, don't worry about it.\n\n44\n00:01:57.870 --> 00:01:58.740\nI don't know what it is.\n\n45\n00:01:58.740 --> 00:02:01.230\nIt's just quirk about the group\npolicy management console.\n\n46\n00:02:01.230 --> 00:02:03.620\nSometimes that progress bar gets stuck and\nit just stays there.\n\n47\n00:02:03.620 --> 00:02:05.540\nSo there's you a little extra tidbit for\ntoday.\n\n48\n00:02:05.540 --> 00:02:07.950\n>> That is a good tip,\nbecause in practicality,\n\n49\n00:02:07.950 --> 00:02:10.980\nif that was the first time you're really\ndoing this, and you're on your own and\n\n50\n00:02:10.980 --> 00:02:12.920\nthat happened,\nyou'd think something was wrong.\n\n51\n00:02:12.920 --> 00:02:14.240\n[LAUGH]\n>> You walk away from your computer,\n\n52\n00:02:14.240 --> 00:02:16.140\nthe dang progress bar is just going and\ngoing and\n\n53\n00:02:16.140 --> 00:02:18.670\ngoing, and it's never going to go away.\n\n54\n00:02:18.670 --> 00:02:19.740\nAll right, so here we are.\n\n55\n00:02:19.740 --> 00:02:21.360\nI'm gonna come in and then tell you what,\n\n56\n00:02:21.360 --> 00:02:23.940\nI'll use my Lab Baseline policy for\nthis one.\n\n57\n00:02:23.940 --> 00:02:25.579\nI'll go ahead and click Edit.\n\n58\n00:02:28.017 --> 00:02:34.379\nAnd in here, I'll expand out underneath\nthe computer half, expand out Policies,\n\n59\n00:02:34.379 --> 00:02:39.139\nexpand out Windows Settings,\nexpand out Security Settings.\n\n60\n00:02:39.139 --> 00:02:45.434\nAnd then under here you'll see Windows\nfirewall with Advanced Security and\n\n61\n00:02:45.434 --> 00:02:52.235\nwhen I expand that out, you' will see\nWindows Firewall with Advanced Security.\n\n62\n00:02:52.235 --> 00:02:52.919\n>> I don't believe you.\n\n63\n00:02:52.919 --> 00:02:53.499\n>> What?\n\n64\n00:02:53.499 --> 00:02:58.380\nIt actually is listed there twice,\nbut if I make this a little bit wider\n\n65\n00:02:58.380 --> 00:03:03.531\nyou'll see that this is actually\nparticular to this particular domain.\n\n66\n00:03:03.531 --> 00:03:08.650\nThat there's, I guess we could have others\nin here that we might be working with.\n\n67\n00:03:08.650 --> 00:03:11.390\nRemember, you can work with\nmultiple sites, anyway,\n\n68\n00:03:11.390 --> 00:03:14.180\nin the group policy management console,\nbut It's kind of quirky.\n\n69\n00:03:14.180 --> 00:03:17.290\nBut yeah, expand them both out and\nthen underneath there, you'll see inbound,\n\n70\n00:03:17.290 --> 00:03:21.270\noutbound and connection security rules and\nthat should look really familiar.\n\n71\n00:03:21.270 --> 00:03:25.760\nIf I go over to the server here and I open\nup my firewall with advanced security\n\n72\n00:03:27.430 --> 00:03:29.450\nand we take a look at this console.\n\n73\n00:03:29.450 --> 00:03:34.240\nInbound, outbound and connection security\nrules, so it's exactly the same,\n\n74\n00:03:34.240 --> 00:03:37.110\nI'm just doing it within a group policy.\n\n75\n00:03:37.110 --> 00:03:40.080\nAnd I can come in here and\nI can make inbound rules.\n\n76\n00:03:40.080 --> 00:03:41.880\nI can make outbound rules.\n\n77\n00:03:41.880 --> 00:03:44.430\nAnd I can make connection security rules.\n\n78\n00:03:44.430 --> 00:03:49.030\nI'm gonna actually use the local\nmachine because I wanna set this up for\n\n79\n00:03:49.030 --> 00:03:51.210\nour connection security rules lab.\n\n80\n00:03:51.210 --> 00:03:53.130\nBut let me make one here and\n\n81\n00:03:53.130 --> 00:03:57.180\nthen I'll just disable it, just to show\nyou the wizard is exactly the same.\n\n82\n00:03:57.180 --> 00:04:03.470\nI've got New Rule, I right-clicked\non Inbound Rules > New Rule.\n\n83\n00:04:03.470 --> 00:04:05.350\nAnd eventually a wizard will pop up.\n\n84\n00:04:06.980 --> 00:04:08.190\nThere we go.\n\n85\n00:04:08.190 --> 00:04:11.280\nAnd like I said, this is the same one you\nwould see if you go to your Window 8.1\n\n86\n00:04:11.280 --> 00:04:14.690\nmachine and\nopen up your firewall advanced security.\n\n87\n00:04:14.690 --> 00:04:15.230\nI can pick,\n\n88\n00:04:15.230 --> 00:04:18.150\nnow when you set up these rules,\nI get several different options here.\n\n89\n00:04:18.150 --> 00:04:21.640\nI got program port, predefined and custom.\n\n90\n00:04:21.640 --> 00:04:25.840\nProgram allows me to allow or\nblock a particular program.\n\n91\n00:04:25.840 --> 00:04:29.450\nIf I click Next, I can do all programs or\n\n92\n00:04:29.450 --> 00:04:34.610\nI can say this program path and I can go\nfind the executable for that program.\n\n93\n00:04:34.610 --> 00:04:38.920\nThat's useful when you have a program\nthat uses some dynamic ports,\n\n94\n00:04:38.920 --> 00:04:41.146\nit's not consistent about\nwhat ports it's using.\n\n95\n00:04:41.146 --> 00:04:44.750\nDoing it by doing it by executable,\nthat way, a lot of these things,\n\n96\n00:04:44.750 --> 00:04:48.220\nthey'll open up one main port,\nbut then to speed things up or\n\n97\n00:04:48.220 --> 00:04:50.750\nto add multiple threads,\nthey'll open up a few other ports.\n\n98\n00:04:50.750 --> 00:04:52.550\nAnd so this, let's just say,\n\n99\n00:04:52.550 --> 00:04:56.840\nanything that this particular executable\nlaunches, go ahead and allow.\n\n100\n00:04:56.840 --> 00:04:59.270\nSo you can do it by program.\n\n101\n00:04:59.270 --> 00:05:03.820\nThe other options here are,\nby port number, and\n\n102\n00:05:03.820 --> 00:05:07.180\nthat's pretty self explanatory,\nTCP or UDP.\n\n103\n00:05:07.180 --> 00:05:09.690\nAll local ports or a specific port.\n\n104\n00:05:09.690 --> 00:05:13.140\nSo I knew a port number that I\nwanted to open up I can open it up.\n\n105\n00:05:13.140 --> 00:05:16.420\nThis is advantageous when maybe more\nthan one thing uses that port, right?\n\n106\n00:05:16.420 --> 00:05:18.387\nYou know that this program\nneeds that port but\n\n107\n00:05:18.387 --> 00:05:20.467\nyou think other programs\nuse that port as well.\n\n108\n00:05:20.467 --> 00:05:26.060\nInstead of doing five different program\nexceptions, make that port exception.\n\n109\n00:05:26.060 --> 00:05:29.230\nSo doing it by port there\nis a downside though here.\n\n110\n00:05:29.230 --> 00:05:31.910\nWhen you do it by port\nthat port is always open.\n\n111\n00:05:31.910 --> 00:05:35.401\nAll right?\nSo if I come in here and I say, let's say,\n\n112\n00:05:35.401 --> 00:05:38.190\nI don't know, World of Warcraft for\n\n113\n00:05:38.190 --> 00:05:42.386\nit's updates uses port,\nI don't know, you remember what?\n\n114\n00:05:42.386 --> 00:05:44.672\n>> 2072.\n>> There you go, 2072.\n\n115\n00:05:44.672 --> 00:05:47.460\nAll right, if I come in here and\ndo it by port number,\n\n116\n00:05:47.460 --> 00:05:50.250\nI could list that in here, right?\n\n117\n00:05:50.250 --> 00:05:53.210\nBut that port would always be open.\n\n118\n00:05:53.210 --> 00:05:55.210\nIf I do it by program,\n\n119\n00:05:55.210 --> 00:05:58.570\nthat port's only open when that\nprogram needs to use that port.\n\n120\n00:05:58.570 --> 00:06:01.100\nIf anything else tries to hit\nthat port it won't be open.\n\n121\n00:06:01.100 --> 00:06:05.660\nSo it's a little more secure if you do it\nby program, but it is also more limiting.\n\n122\n00:06:05.660 --> 00:06:09.120\nCuz it's only gonna be open for\nthat particular program.\n\n123\n00:06:09.120 --> 00:06:10.670\nThe predefineds are very nice.\n\n124\n00:06:10.670 --> 00:06:14.380\nThere's a whole list in here of\nthings that I commonly need to make\n\n125\n00:06:14.380 --> 00:06:15.600\nexceptions for.\n\n126\n00:06:15.600 --> 00:06:21.510\nRemote event log management, for example,\nor DNS service or NSNP trap, right?\n\n127\n00:06:21.510 --> 00:06:25.400\nSo these are one where I can\njust pick the actual program,\n\n128\n00:06:25.400 --> 00:06:27.180\nwhatever it is and I go, Next.\n\n129\n00:06:27.180 --> 00:06:29.510\nAnd it knows exactly what I need.\n\n130\n00:06:29.510 --> 00:06:33.410\nI didn't have to come in here and\nmake all ten of these different rules.\n\n131\n00:06:33.410 --> 00:06:36.410\nI said, hey I wanna do file and\nprinter sharing, and it knows what I need.\n\n132\n00:06:36.410 --> 00:06:38.980\nSo sometimes those predefined\nrules are very handy.\n\n133\n00:06:38.980 --> 00:06:42.320\nThe custom just gives you\nevery single option, right?\n\n134\n00:06:42.320 --> 00:06:45.500\nAll the options that are set for\nprogram, port, and\n\n135\n00:06:45.500 --> 00:06:50.630\npredefine, well now you can see program,\nports, scope, action profile name.\n\n136\n00:06:50.630 --> 00:06:53.730\nSo custom says, I'm gonna go through\nevery page in the wizard, and\n\n137\n00:06:53.730 --> 00:06:56.700\nyou can just pick and\nchoose whatever you want.\n\n138\n00:06:56.700 --> 00:06:59.310\nNow when we're creating, let's go back,\nI'm gonna go back up here,\n\n139\n00:06:59.310 --> 00:07:04.270\nand let's set that back to,\nI don't know, we'll do Predefined and\n\n140\n00:07:04.270 --> 00:07:07.185\nI'll do Remote Desktop, all right?\n\n141\n00:07:07.185 --> 00:07:09.910\nCuz I just want to make my way to\nthe next page in this wizard here,\n\n142\n00:07:09.910 --> 00:07:13.510\nso there's the rules it's gonna create,\nI'll click next.\n\n143\n00:07:13.510 --> 00:07:18.630\nHere, allow the connection or\nallow the connection if secure, all right?\n\n144\n00:07:18.630 --> 00:07:21.520\nIf you allow the connection,\nthen it'll allow it,\n\n145\n00:07:21.520 --> 00:07:24.800\nno matter who is trying to use that,\nit'll go ahead and allow it.\n\n146\n00:07:24.800 --> 00:07:29.510\nIf you allow the connection if secure, now\nit's gonna kick in your IPSec policies.\n\n147\n00:07:29.510 --> 00:07:30.820\nAnd we require authentication.\n\n148\n00:07:30.820 --> 00:07:35.030\nFor example, if I say allow it if secure,\nI can then choose Customize and\n\n149\n00:07:35.030 --> 00:07:38.630\nI can say if it's authenticated and\nintegrity-protected, in other words\n\n150\n00:07:38.630 --> 00:07:41.060\nthey've run checksums on it and\nI can make sure things aren't modified.\n\n151\n00:07:42.220 --> 00:07:44.910\nRequire the connection to\nbe encrypted if I want to.\n\n152\n00:07:44.910 --> 00:07:50.160\nAllow the connection to use null\nencapsulation, override block rules.\n\n153\n00:07:50.160 --> 00:07:52.810\nSo I've got a few options\nI can do with that.\n\n154\n00:07:52.810 --> 00:07:56.960\nI'm gonna leave that Allow the connection\nfor this one, or I could be blocking it.\n\n155\n00:07:56.960 --> 00:07:59.678\nRight?\nMaybe I don't wanna allow remote desktop\n\n156\n00:07:59.678 --> 00:08:01.287\nor whatever the case may be.\n\n157\n00:08:01.287 --> 00:08:04.490\nI could choose to block that port as well.\n\n158\n00:08:04.490 --> 00:08:08.128\nAnd I'll go ahead and click Finish.\n\n159\n00:08:08.128 --> 00:08:13.810\nAnd because that was a predefined rule, I\ndid not get to see, here's another quirk.\n\n160\n00:08:13.810 --> 00:08:17.610\nWhen I clicked finish, notice it didn't\ntake me back to the policy I was editing.\n\n161\n00:08:17.610 --> 00:08:20.160\nIt took me back to the group\npolicy management consul.\n\n162\n00:08:20.160 --> 00:08:23.150\nThe policy's still open,\nit's behind it now.\n\n163\n00:08:23.150 --> 00:08:24.330\nThere it is.\n\n164\n00:08:24.330 --> 00:08:26.990\nSo, don't ask me why, it's just one\nof those things you get use to after\n\n165\n00:08:26.990 --> 00:08:28.125\nyou've done this for a little while.\n\n166\n00:08:28.125 --> 00:08:31.905\n>> Bad quality assurance at Microsoft man,\nthey've gotta step up their game.\n\n167\n00:08:31.905 --> 00:08:32.510\n[LAUGH].\n>> So when\n\n168\n00:08:32.510 --> 00:08:35.570\nI look at these rules that it\nended up creating, here they are.\n\n169\n00:08:35.570 --> 00:08:38.270\nNotice it says profile all.\n\n170\n00:08:38.270 --> 00:08:40.228\nThat's something else that\nwe need to be familiar with.\n\n171\n00:08:40.228 --> 00:08:45.750\nYou probably learned this stuff when\nyou were taking your Windows 8 class.\n\n172\n00:08:45.750 --> 00:08:49.680\nBut let me make another rule, and for\nthis one, I won't use predefined.\n\n173\n00:08:49.680 --> 00:08:52.160\nI'll do just a particular port number.\n\n174\n00:08:52.160 --> 00:08:58.000\nAnd I'll say a specific port, and\nI'll use your 2072 there, or whatever.\n\n175\n00:08:58.000 --> 00:09:01.580\nAnd I'll click Next, and\nthen I'll allow that connection.\n\n176\n00:09:01.580 --> 00:09:02.700\nThen I come to this profile page.\n\n177\n00:09:02.700 --> 00:09:06.922\nAnd it's important to understand\nthe way Windows defines the profiles.\n\n178\n00:09:06.922 --> 00:09:09.540\nIt is very cool that we get this option.\n\n179\n00:09:09.540 --> 00:09:14.210\nBecause in the past, a while ago, way back\nwith Windows XP, we didn't have this.\n\n180\n00:09:14.210 --> 00:09:17.500\nBut with these profiles,\nit allows me to open up these ports\n\n181\n00:09:17.500 --> 00:09:20.240\ndepending on the type of\nnetwork I'm connected to.\n\n182\n00:09:20.240 --> 00:09:23.990\nI've got three options here,\ndomain, private and public.\n\n183\n00:09:23.990 --> 00:09:28.480\nDomain, if your computer is\nconnected to a network, and\n\n184\n00:09:28.480 --> 00:09:31.200\nit detects a domain controller or\nit's part of that domain,\n\n185\n00:09:31.200 --> 00:09:35.200\nit will automatically\napply the domain profile.\n\n186\n00:09:35.200 --> 00:09:38.610\nOf the other two, private and\npublic, you get to choose.\n\n187\n00:09:38.610 --> 00:09:40.120\nThe first time, you've seen this.\n\n188\n00:09:40.120 --> 00:09:41.930\nThe first time you connect to a network,\n\n189\n00:09:41.930 --> 00:09:44.430\nin Windows 8 you get that\nbar that runs down the side.\n\n190\n00:09:44.430 --> 00:09:48.520\nNow unfortunately,\nit doesn't say private or public.\n\n191\n00:09:48.520 --> 00:09:50.170\nThat would be too easy.\n\n192\n00:09:50.170 --> 00:09:54.730\nWhat it says is, would you like to find\nother computers on this network, and\n\n193\n00:09:54.730 --> 00:09:56.410\nallow them to find you?\n\n194\n00:09:56.410 --> 00:09:58.230\nAnd you can say yes or no.\n\n195\n00:09:58.230 --> 00:10:01.840\nIf you say yes, it's gonna\nclassify it as a private network,\n\n196\n00:10:01.840 --> 00:10:08.020\nwhich is more restrictive than the domain,\nbut not as restrictive as public.\n\n197\n00:10:08.020 --> 00:10:11.580\nAnd this is what you use\non a home network or\n\n198\n00:10:11.580 --> 00:10:16.030\nany trusted network that you're\nconnecting to, you typically put private.\n\n199\n00:10:16.030 --> 00:10:17.210\nYou don't get to pick domain.\n\n200\n00:10:17.210 --> 00:10:19.480\nWhen you connect to a network\nyou don't get to chose domain.\n\n201\n00:10:19.480 --> 00:10:20.490\nThat's done automatically.\n\n202\n00:10:20.490 --> 00:10:23.370\nBut you can pick private,\nwhich is similar to domain.\n\n203\n00:10:23.370 --> 00:10:27.795\nPublic, if you said no to that when\nthat bar pops up on Windows 8.\n\n204\n00:10:27.795 --> 00:10:32.270\nIf you choose no, it's going to\napply the public profile, and\n\n205\n00:10:32.270 --> 00:10:34.040\nthat'd be the most restrictive profile.\n\n206\n00:10:34.040 --> 00:10:37.110\nThis is like when you're connecting to\npublic hot spots, like the airport or\n\n207\n00:10:37.110 --> 00:10:39.900\nStarbucks or things like that,\nyou could use public.\n\n208\n00:10:39.900 --> 00:10:44.830\nAnd notice I have the option, when I\napply this rule, I can choose all three.\n\n209\n00:10:44.830 --> 00:10:45.800\nOr I can say, you know what?\n\n210\n00:10:45.800 --> 00:10:48.830\nI only want to allow that\non the domain profile.\n\n211\n00:10:48.830 --> 00:10:53.550\nSo when I connected the network at\nStarbucks, it's not gonna be allowed.\n\n212\n00:10:53.550 --> 00:10:54.970\nAnd that's a very cool thing.\n\n213\n00:10:54.970 --> 00:10:56.820\nI might want to allow remote desktop.\n\n214\n00:10:56.820 --> 00:10:59.810\nIn fact, this guy says any for\nthese remote desktops,\n\n215\n00:10:59.810 --> 00:11:02.760\nI could actually edit these guys and\ncome into that.\n\n216\n00:11:02.760 --> 00:11:06.134\nNot the scope, I, where are we at here?\n\n217\n00:11:06.134 --> 00:11:11.259\nMy programs and port services,\nmy remote computers.\n\n218\n00:11:13.769 --> 00:11:14.744\nThere we go.\n\n219\n00:11:14.744 --> 00:11:16.940\nOn that Advanced tab,\nI could say, you know what?\n\n220\n00:11:16.940 --> 00:11:21.440\nI don't want anybody trying to connect to\n3389 when I'm sitting at the hotel, or\n\n221\n00:11:21.440 --> 00:11:23.130\nwhen I'm at that airport.\n\n222\n00:11:23.130 --> 00:11:25.380\nI only want it on domain and private.\n\n223\n00:11:25.380 --> 00:11:29.550\nSo that gives us the ability to not only\ncreate exceptions in our firewall, but\n\n224\n00:11:29.550 --> 00:11:33.140\ncontrol Windows exceptions are allowed\ndepending on the network we're connecting.\n\n225\n00:11:33.140 --> 00:11:36.150\n>> That's a very nice little\nfeature to have, because\n\n226\n00:11:36.150 --> 00:11:40.290\nespecially if you're a mobile user, this\nis something that really comes into play.\n\n227\n00:11:40.290 --> 00:11:44.760\nAnd as administrators, we gotta understand\nthat we got just standard desktop users.\n\n228\n00:11:44.760 --> 00:11:47.460\nAnd then, our mobile users are probably\ngonna be a whole lot different,\n\n229\n00:11:47.460 --> 00:11:50.530\ncuz they're gonna be going in and\nout of different networks.\n\n230\n00:11:50.530 --> 00:11:53.170\nAnd that's where these firewall\nrules come very handy.\n\n231\n00:11:53.170 --> 00:11:55.030\nWe have to understand, well,\n\n232\n00:11:55.030 --> 00:11:58.140\nif they're on a public network,\nI need to start blocking this.\n\n233\n00:11:58.140 --> 00:12:00.250\nI basically need to go block crazy, and\n\n234\n00:12:00.250 --> 00:12:03.200\nonly give them access to\nthe things that they really need.\n\n235\n00:12:03.200 --> 00:12:05.520\nThe necessities to get them connected,\n\n236\n00:12:05.520 --> 00:12:08.200\nthrough maybe a VPN tunnel,\nthings like that.\n\n237\n00:12:08.200 --> 00:12:10.385\nNow if they're on all private networks,\nit's not as bad.\n\n238\n00:12:10.385 --> 00:12:14.255\nWe understand there's a little more\nsecurity behind that, so we can lax off.\n\n239\n00:12:14.255 --> 00:12:16.285\nAnd if they're in our domain,\nwell that's just easy.\n\n240\n00:12:16.285 --> 00:12:18.611\nThey've attached the domain,\nthe computer sees that, and\n\n241\n00:12:18.611 --> 00:12:20.225\nthe domain group policy takes over.\n\n242\n00:12:20.225 --> 00:12:22.290\nThose firewall settings\nget set from there.\n\n243\n00:12:22.290 --> 00:12:24.580\nAnd it's easy peasy lemon squeezy.\n\n244\n00:12:24.580 --> 00:12:25.810\nNothing too difficult about that.\n\n245\n00:12:25.810 --> 00:12:26.920\n>> That is exactly right.\n\n246\n00:12:26.920 --> 00:12:30.090\nYou know, I don't wanna have to change my\nfirewall settings every time I connect to\n\n247\n00:12:30.090 --> 00:12:31.010\na different network.\n\n248\n00:12:31.010 --> 00:12:32.090\nOh, I'm at the hotel.\n\n249\n00:12:32.090 --> 00:12:34.040\nLet me turn off remote desktop.\n\n250\n00:12:34.040 --> 00:12:35.110\nOh, I'm back at work.\n\n251\n00:12:35.110 --> 00:12:37.520\nLet me turn remote desktop\nexception back on, right?\n\n252\n00:12:37.520 --> 00:12:38.900\nI'm probably not gonna do that.\n\n253\n00:12:38.900 --> 00:12:42.560\nI'm just gonna end up being very unsecure\nwhen I'm on these public networks.\n\n254\n00:12:42.560 --> 00:12:44.412\nSo, fantastic they let us do that.\n\n255\n00:12:44.412 --> 00:12:47.750\nAll right, the next thing I wanna talk\nabout is connection security rules.\n\n256\n00:12:47.750 --> 00:12:52.970\nAnd connection security rules define\nwhen I want to either authenticate or\n\n257\n00:12:52.970 --> 00:12:55.190\nencrypt traffic.\n\n258\n00:12:55.190 --> 00:12:59.280\nAnd what's nice, what Microsoft did, I\nthink they did this back in Windows Vista\n\n259\n00:12:59.280 --> 00:13:04.610\nor Windows 7, but it's definitely\npresent in Windows 8 and Server 2012 R2.\n\n260\n00:13:04.610 --> 00:13:08.630\nIs they've given us that Windows Firewall\nwith advanced security console.\n\n261\n00:13:08.630 --> 00:13:12.240\nAnd the difference, because there's\nstill the Windows Firewall console,\n\n262\n00:13:12.240 --> 00:13:14.210\nthen there's the Windows Firewall\nwith advanced security.\n\n263\n00:13:14.210 --> 00:13:17.750\nAnd the difference is,\nwith the Windows Firewall console,\n\n264\n00:13:17.750 --> 00:13:20.900\nyou can allow programs or deny programs.\n\n265\n00:13:20.900 --> 00:13:24.450\nWith this, you've got inbound rules and\noutbound rules.\n\n266\n00:13:24.450 --> 00:13:27.020\nThey're separate, so\nthat gives me much more control.\n\n267\n00:13:27.020 --> 00:13:29.910\nAnd I've got the connection security\nrules all in the same console.\n\n268\n00:13:29.910 --> 00:13:33.250\nIn fact,\nlet me close the group policy here and\n\n269\n00:13:33.250 --> 00:13:37.410\nflip back over to my server where\nI've got that advanced firewall open.\n\n270\n00:13:37.410 --> 00:13:41.420\nAnd you can see, Inbound Rules,\nthis is traffic coming into my computer.\n\n271\n00:13:41.420 --> 00:13:44.570\nI've got Outbound Rules,\ntraffic leaving my computer.\n\n272\n00:13:44.570 --> 00:13:46.570\nAnd then I've got\nconnection security rules.\n\n273\n00:13:46.570 --> 00:13:48.690\nAnd it's cool that they put\nthese in the same console,\n\n274\n00:13:48.690 --> 00:13:51.740\nbecause before I had two separate tools\nthat I had to remember to open up.\n\n275\n00:13:51.740 --> 00:13:57.250\nThe firewall allows traffic in and out of\nyour computer, but it doesn't secure it.\n\n276\n00:13:57.250 --> 00:14:01.210\nThe connection security rules will define\nwhat types of traffic I need to secure,\n\n277\n00:14:01.210 --> 00:14:03.300\nbut it won't let it in or\nout of the firewall.\n\n278\n00:14:03.300 --> 00:14:04.410\nSo you have to do both.\n\n279\n00:14:04.410 --> 00:14:06.262\nYou have to create the firewalI.\n\n280\n00:14:06.262 --> 00:14:08.880\nLet's say I wanna allow FTP traffic,\nand I wanna make it secure.\n\n281\n00:14:08.880 --> 00:14:11.987\nWe'll I've got to make\nthe exception in the firewall, and\n\n282\n00:14:11.987 --> 00:14:15.720\nI've gotta make it a policy in\nmy connection security rules.\n\n283\n00:14:15.720 --> 00:14:17.570\nNow that they're in both,\nso you have to do both.\n\n284\n00:14:17.570 --> 00:14:22.160\nSo now they're in the both, say the same\nconsole, makes it much easier for me.\n\n285\n00:14:22.160 --> 00:14:24.208\nSo let's take a look at these\nconnection security rules.\n\n286\n00:14:24.208 --> 00:14:27.680\nI'm gonna right-click on this guy,\nand just go ahead and choose New Rule.\n\n287\n00:14:29.540 --> 00:14:31.680\nI'm gonna launch my\nconnection security rule.\n\n288\n00:14:31.680 --> 00:14:36.530\nIn fact, before I do this,\nlet's do one other thing.\n\n289\n00:14:36.530 --> 00:14:39.550\nLet me switch over to the client.\n\n290\n00:14:39.550 --> 00:14:42.420\nAnd I wanna ping after I wake him up.\n\n291\n00:14:45.220 --> 00:14:50.740\nAfter I give focus to the password option.\n\n292\n00:14:50.740 --> 00:14:54.140\nAnd I'm gonna ping SVR 01.\n\n293\n00:14:54.140 --> 00:14:55.260\nAnd there we go.\n\n294\n00:14:55.260 --> 00:14:57.080\nI'm getting my replies from server 1.\n\n295\n00:14:57.080 --> 00:15:00.750\nSo now I'm gonna switch\nback over to server 1, and\n\n296\n00:15:00.750 --> 00:15:03.630\nI've got this new connection\nsecurity rule wizard.\n\n297\n00:15:03.630 --> 00:15:05.360\nAnd I've got a few different options here.\n\n298\n00:15:05.360 --> 00:15:10.430\nIsolation, I can say, all right,\nI'm gonna only allow connections\n\n299\n00:15:10.430 --> 00:15:15.600\nfrom other domain members, so I can\nisolate it from the rest of the world.\n\n300\n00:15:15.600 --> 00:15:18.360\nThere's authentication exemptions,\nwhich I'm actually gonna come and\n\n301\n00:15:18.360 --> 00:15:20.130\ntalk about here in just a second.\n\n302\n00:15:20.130 --> 00:15:21.660\nI've got server to server rules,\n\n303\n00:15:21.660 --> 00:15:26.010\nI've got tunnel rules, and\nthen I've got my custom rules.\n\n304\n00:15:26.010 --> 00:15:28.430\nAnd I'm gonna go ahead and\ndo a custom rule here.\n\n305\n00:15:28.430 --> 00:15:32.380\nI'm going to click Next, cuz custom\nlets me see all the options basically.\n\n306\n00:15:32.380 --> 00:15:36.020\nI'm defining which\ncomputers are in M.1 and\n\n307\n00:15:36.020 --> 00:15:39.370\nM.2, where the traffic is coming to or\ngoing from.\n\n308\n00:15:39.370 --> 00:15:40.530\nDid I say that right?\n\n309\n00:15:40.530 --> 00:15:41.330\nComing from or going to.\n\n310\n00:15:41.330 --> 00:15:43.408\nI'm sorry, I want to get that right.\n\n311\n00:15:43.408 --> 00:15:46.479\nAnd I'm gonna leave it on any/any,\nand I'll click Next.\n\n312\n00:15:47.490 --> 00:15:51.160\nAnd then, requirements,\nI'm gonna say require authentication for\n\n313\n00:15:51.160 --> 00:15:54.450\ninbound connections,\nrequest authentication for outbound.\n\n314\n00:15:54.450 --> 00:15:57.050\nI've got request for both,\ninbound and outbound.\n\n315\n00:15:57.050 --> 00:16:03.746\nRequire inbound, request outbound, I have\nrequire both or do not authenticate.\n\n316\n00:16:03.746 --> 00:16:07.873\nIf I choose, when you say require,\nthat means If the person trying to connect\n\n317\n00:16:07.873 --> 00:16:11.710\ndoesn't agree to secure the connection\nyou won't be able to connect.\n\n318\n00:16:11.710 --> 00:16:15.370\nIf it's a request, then it's,\nhey lets secure the connection.\n\n319\n00:16:15.370 --> 00:16:20.810\nOh you don't want to, okay well at least\nI tried, I'll let you connect anyway.\n\n320\n00:16:20.810 --> 00:16:25.830\nTypically on your servers, you might\nput it as require authentication for\n\n321\n00:16:25.830 --> 00:16:28.090\ninbound, request authentication for\noutbound.\n\n322\n00:16:28.090 --> 00:16:32.350\nThat mean anybody connecting to that\nserver is gonna require them to\n\n323\n00:16:32.350 --> 00:16:33.830\nauthenticate in this case.\n\n324\n00:16:33.830 --> 00:16:34.380\nAlright?\n\n325\n00:16:34.380 --> 00:16:37.490\nOn your clients probably not\nbecause they make a lot of\n\n326\n00:16:37.490 --> 00:16:39.370\nunsecure connections and I don't.\n\n327\n00:16:39.370 --> 00:16:42.090\nIf I choose require authentication\nthey're not gonna be able to connect to\n\n328\n00:16:42.090 --> 00:16:43.252\nmuch right?\n\n329\n00:16:43.252 --> 00:16:45.410\nAs we'll require authentication for\ninbound connections,\n\n330\n00:16:45.410 --> 00:16:47.320\nrequest authentication route bound.\n\n331\n00:16:47.320 --> 00:16:48.820\nI'll click Next.\n\n332\n00:16:48.820 --> 00:16:51.470\nFor authentication do I want to\nauthenticate the computer and\n\n333\n00:16:51.470 --> 00:16:56.020\nthe user, just the computer, or I can\nspecify alternate authentication methods.\n\n334\n00:16:56.020 --> 00:16:58.280\nI'm gonna do just\nthe computer in this case.\n\n335\n00:16:58.280 --> 00:16:59.780\nI'll click Next.\n\n336\n00:16:59.780 --> 00:17:03.620\nAnd then to which ports and\nprotocols does this rule apply.\n\n337\n00:17:03.620 --> 00:17:08.380\nI'm gonna use ICMP because it's\neasy to test using ping so\n\n338\n00:17:08.380 --> 00:17:11.890\nI can show you guys the results\nof what we're doing here.\n\n339\n00:17:11.890 --> 00:17:12.970\nAlright so we'll do ICMP before.\n\n340\n00:17:12.970 --> 00:17:15.490\nI'll go ahead and click Next.\n\n341\n00:17:15.490 --> 00:17:17.660\nAnd I'm going to apply this\nto all three profiles, but\n\n342\n00:17:17.660 --> 00:17:22.390\nagain I get the option too maybe I want to\nallow unsecured pings when I'm on the main\n\n343\n00:17:22.390 --> 00:17:25.850\nnetwork but not when I'm on a public\nnetwork, that kind of thing.\n\n344\n00:17:25.850 --> 00:17:29.390\nI'm gonna leave all three selected and\nthen I'm gonna give at a bit of a rule.\n\n345\n00:17:29.390 --> 00:17:35.110\nI'm gonna say test, connection, security.\n\n346\n00:17:37.530 --> 00:17:41.280\nFor this one and\nI'll click finish and again so\n\n347\n00:17:41.280 --> 00:17:44.420\nthat firewall loves to jump behind\neverything when you're done with it.\n\n348\n00:17:44.420 --> 00:17:47.840\nThere it is I now have my\nconnection security rule in place.\n\n349\n00:17:47.840 --> 00:17:48.340\nAll right.\n\n350\n00:17:49.810 --> 00:17:53.800\nSo what I'm gonna do is I'm\ngonna flip over to the client.\n\n351\n00:17:53.800 --> 00:17:55.450\nAnd we're going to ping server one.\n\n352\n00:17:55.450 --> 00:18:00.030\nAnd it's not looking good for\nthe home team is it?\n\n353\n00:18:00.030 --> 00:18:01.790\n>> Rocking those pings.\n\n354\n00:18:01.790 --> 00:18:05.644\n>> Exactly, and that is because with\nconnection security rules, unlike fire\n\n355\n00:18:05.644 --> 00:18:09.750\nwall rules when you apply a fire wall\nrule, you're applying it to that machine.\n\n356\n00:18:09.750 --> 00:18:11.300\nIt doesn't matter who's talking to him.\n\n357\n00:18:11.300 --> 00:18:13.070\nIf I open the port it's open.\n\n358\n00:18:13.070 --> 00:18:14.550\nIf I close the port it's close.\n\n359\n00:18:14.550 --> 00:18:16.630\nRight?\nThat's what that firewall rule is doing.\n\n360\n00:18:16.630 --> 00:18:20.190\nIP set, both ends of\nthe conversation have to agree.\n\n361\n00:18:20.190 --> 00:18:23.070\nThey have to say what they want to use,\n\n362\n00:18:23.070 --> 00:18:27.080\nif they're going to do authentication,\nor authentication and encryption.\n\n363\n00:18:27.080 --> 00:18:31.090\nWhat they're gonna use for the\nauthentication, what they're gonna use for\n\n364\n00:18:31.090 --> 00:18:34.570\nencryption, it's like saying they\nboth have to speak the same language.\n\n365\n00:18:34.570 --> 00:18:37.290\nIf the server is saying, hey,\nI wanna authenticate the computer and\n\n366\n00:18:37.290 --> 00:18:39.700\nthe user, but\nthe client that's connecting says,\n\n367\n00:18:39.700 --> 00:18:42.350\nI just wanna authenticate the computer,\nit's not gonna work.\n\n368\n00:18:42.350 --> 00:18:43.270\nThey're not agreeing.\n\n369\n00:18:43.270 --> 00:18:46.930\nThey can't negotiate\nsecurity successfully, so\n\n370\n00:18:46.930 --> 00:18:50.430\nwe have to make sure that both ends of\nthe conversation have a policy in place.\n\n371\n00:18:50.430 --> 00:18:53.470\nAnd in this case I didn't\nset it up on the client.\n\n372\n00:18:53.470 --> 00:18:55.220\nThis is why I didn't\ndo it in group policy.\n\n373\n00:18:55.220 --> 00:18:58.890\nThis is normally configured through group\npolicy cuz I want the same settings\n\n374\n00:18:58.890 --> 00:19:01.290\napplied across all my machines right?\n\n375\n00:19:01.290 --> 00:19:06.010\nI've got policy scope to the server's\nOU that requires security,\n\n376\n00:19:06.010 --> 00:19:09.820\nI've got a policy scope to the client's\nOU that requests security.\n\n377\n00:19:09.820 --> 00:19:12.340\nAnd I do it in there and\nI don't have to touch every machine.\n\n378\n00:19:12.340 --> 00:19:16.210\nI did it in here, because I wanted to\nshow you where one is configured and\n\n379\n00:19:16.210 --> 00:19:18.450\none isn't so we could see what happens.\n\n380\n00:19:18.450 --> 00:19:21.010\n>> So basically your workstation is\n\n381\n00:19:21.010 --> 00:19:24.050\noperating outside of our\ncompany security policy.\n\n382\n00:19:24.050 --> 00:19:27.430\nTo show you what would happen if an\noutside came in, plugged into the network,\n\n383\n00:19:27.430 --> 00:19:30.840\nthey're operating outside of our security\npolicy, starts trying to ping stuff.\n\n384\n00:19:30.840 --> 00:19:31.650\nThis is what's going to happen.\n\n385\n00:19:31.650 --> 00:19:32.710\n>> Exactly.\nI get requests right now.\n\n386\n00:19:32.710 --> 00:19:36.440\nBecause that server's over there saying,\nhey I see your traffic coming in,\n\n387\n00:19:36.440 --> 00:19:38.260\nI require authentication.\n\n388\n00:19:38.260 --> 00:19:41.500\nAnd the client's saying, authentication,\nwhat the heck is authentication?\n\n389\n00:19:41.500 --> 00:19:42.150\nI have no idea.\n\n390\n00:19:42.150 --> 00:19:44.830\nBecause he doesn't have a policy in place.\n\n391\n00:19:44.830 --> 00:19:45.330\nAlright.\n\n392\n00:19:45.330 --> 00:19:46.330\nSo let's fix it.\n\n393\n00:19:46.330 --> 00:19:51.480\nOn the client here I'm going\nto open up that Windows\n\n394\n00:19:51.480 --> 00:19:57.860\nfirewall with advanced security alright.\n\n395\n00:19:57.860 --> 00:20:01.680\nAnd there's the, remember I said\nthe Windows firewall is still there?\n\n396\n00:20:01.680 --> 00:20:05.940\nThis is the basic firewall settings,\nwhere you can add applications, or\n\n397\n00:20:05.940 --> 00:20:09.880\nallow or block applications and you can\nalways get to your advanced settings.\n\n398\n00:20:13.600 --> 00:20:18.605\nAnd then eventually it will open up my\nWindows firewall advanced security.\n\n399\n00:20:18.605 --> 00:20:20.625\n[CROSSTALK]\n>> After the lethargy quits.\n\n400\n00:20:20.625 --> 00:20:22.045\n[LAUGH]\n>> I know, right?\n\n401\n00:20:22.045 --> 00:20:22.785\nAll right.\n\n402\n00:20:22.785 --> 00:20:24.238\nI'm gonna come down to\nConnection Security Rules.\n\n403\n00:20:24.238 --> 00:20:29.760\nI'll right click New Rule.\n\n404\n00:20:29.760 --> 00:20:31.650\nThat's gonna launch\nthat exact same wizard.\n\n405\n00:20:33.240 --> 00:20:34.550\nAnd I'll basically do the same thing.\n\n406\n00:20:34.550 --> 00:20:36.706\nI'm gonna do custom, and I'll click Next.\n\n407\n00:20:36.706 --> 00:20:40.836\nAny IP address to any IP address.\n\n408\n00:20:43.996 --> 00:20:48.996\nAnd I'm going to choose request\nauthentication for in bound and out bound,\n\n409\n00:20:48.996 --> 00:20:50.960\nand on the server we did what?\n\n410\n00:20:50.960 --> 00:20:53.910\nWe authenticated the computer,\non this one I'm going to authenticate and\n\n411\n00:20:53.910 --> 00:20:56.350\nI'll do the authenticate\nthe computer as well.\n\n412\n00:20:56.350 --> 00:20:57.000\nI'll click Next.\n\n413\n00:20:57.000 --> 00:20:59.750\nLet's see if this works.\n\n414\n00:20:59.750 --> 00:21:03.850\nI'll do computer and user, because\nthe client is just doing a request, and\n\n415\n00:21:03.850 --> 00:21:08.850\nthe server is requiring computer,\nthe client can do both computer and user.\n\n416\n00:21:08.850 --> 00:21:10.360\nIt should still allow me to.\n\n417\n00:21:10.360 --> 00:21:11.130\nLet's see if it does.\n\n418\n00:21:11.130 --> 00:21:12.630\nLet's test it out here.\n\n419\n00:21:15.660 --> 00:21:17.520\nWe'll do ICMP again, we'll click Next.\n\n420\n00:21:18.530 --> 00:21:20.930\nI'll apply it to all three profiles,\nI'll click Next.\n\n421\n00:21:20.930 --> 00:21:24.626\nI'll give it a name and\nI'll say connect, what do we do, secure,\n\n422\n00:21:24.626 --> 00:21:26.750\nI'll call it secure Ping on this guy.\n\n423\n00:21:30.130 --> 00:21:32.210\nCuz Ping is a very dangerous thing,\nwe need to secure that.\n\n424\n00:21:32.210 --> 00:21:34.170\n>> [LAUGH] You'd be surprised.\n\n425\n00:21:34.170 --> 00:21:35.630\n>> I know right, it can be.\n\n426\n00:21:35.630 --> 00:21:37.980\nAll right, let's see what\nhappens when I try to Ping now.\n\n427\n00:21:39.100 --> 00:21:41.640\nAnd notice it's not actually pinging.\n\n428\n00:21:41.640 --> 00:21:43.380\nI'm still getting requests timed out.\n\n429\n00:21:43.380 --> 00:21:46.470\nOh wait a second, I've got connection\nsecurity rules on both ends.\n\n430\n00:21:46.470 --> 00:21:47.760\nIt should work.\n\n431\n00:21:47.760 --> 00:21:49.320\nBut they don't match.\n\n432\n00:21:49.320 --> 00:21:51.040\nThey're not able to negotiate.\n\n433\n00:21:51.040 --> 00:21:52.820\nThe client is saying.\n\n434\n00:21:52.820 --> 00:21:55.360\nIt's a request on the client and\nhe's saying if I'm\n\n435\n00:21:55.360 --> 00:21:58.500\ngoing to authenticate it's gonna\nbe both the computer and the user.\n\n436\n00:21:58.500 --> 00:22:01.790\nThe server is saying I only wanna do\ncomputer and you would kind of think that\n\n437\n00:22:01.790 --> 00:22:05.910\nokay one's doing a little stronger so\nhe could just step down a little bit.\n\n438\n00:22:05.910 --> 00:22:10.310\nIt doesn't work that way they have to\nagree on what they're going to do so\n\n439\n00:22:10.310 --> 00:22:11.730\nlets go back here and fix that.\n\n440\n00:22:11.730 --> 00:22:17.660\nI could just open this back up right, go\nback to authentication do computer only,\n\n441\n00:22:19.890 --> 00:22:25.130\nGo back over to my command prompt and\nbadda bing and there we go.\n\n442\n00:22:25.130 --> 00:22:25.960\n>> The magic has happened.\n\n443\n00:22:25.960 --> 00:22:28.400\n>> There you've got pings happening\n>> That's very nice thing.\n\n444\n00:22:28.400 --> 00:22:29.920\n>> And those pings are authenticated.\n\n445\n00:22:29.920 --> 00:22:33.220\nNot encrypted, I didn't choose to encrypt,\nbut I did do the authentication.\n\n446\n00:22:33.220 --> 00:22:35.270\nAnother thing,\nyou can see in this console,\n\n447\n00:22:35.270 --> 00:22:37.500\nis you've got this monitoring note.\n\n448\n00:22:37.500 --> 00:22:40.700\nAnd this can be extremely handy\nwhen you're trouble shooting\n\n449\n00:22:40.700 --> 00:22:42.700\nthese connection security rules.\n\n450\n00:22:42.700 --> 00:22:46.360\nMonitoring, click on\nConnection Security Rules, and\n\n451\n00:22:46.360 --> 00:22:50.700\nI can see what IP sec policy or\nconnection security rule is in place.\n\n452\n00:22:50.700 --> 00:22:51.230\nAll right.\n\n453\n00:22:51.230 --> 00:22:52.160\nThat's the first thing I've got to do.\n\n454\n00:22:52.160 --> 00:22:55.420\nMake sure that the client, if I come in\nhere and I don't see anything listed,\n\n455\n00:22:55.420 --> 00:22:58.390\nthat mean's the client doesn't know,\nor the server, or whatever machine\n\n456\n00:22:58.390 --> 00:23:01.590\ndoesn't know that he's supposed to\nbe doing connection security rules.\n\n457\n00:23:01.590 --> 00:23:04.220\nSo I gotta figure out why\nit's not being listed here.\n\n458\n00:23:04.220 --> 00:23:06.370\nBelow that,\nI've got my security associations.\n\n459\n00:23:06.370 --> 00:23:08.800\nI've got my main mode and my quick mode.\n\n460\n00:23:08.800 --> 00:23:13.822\nAnd there I can see that there is a secure\nconnection established between 1.106,\n\n461\n00:23:13.822 --> 00:23:16.040\nthat's my client, and 1.201.\n\n462\n00:23:16.040 --> 00:23:20.969\nAnd they're authenticating using Kerberos\nand I left off the second authentication\n\n463\n00:23:20.969 --> 00:23:24.160\nmethod, and\nif I was encrypting it would use AES.\n\n464\n00:23:24.160 --> 00:23:25.870\nMy integrity is being done with SHA1.\n\n465\n00:23:25.870 --> 00:23:28.730\nThen there is a quick mode.\n\n466\n00:23:28.730 --> 00:23:30.260\nI can see also a quick mode set up,\n\n467\n00:23:30.260 --> 00:23:33.150\nand this is where it's\ndefining what port numbers.\n\n468\n00:23:33.150 --> 00:23:36.200\nRemember I said any IP\naddress to any IP address.\n\n469\n00:23:36.200 --> 00:23:40.950\nICMPv4 is the protocol that I am\nrequiring the authentication on.\n\n470\n00:23:40.950 --> 00:23:42.040\nNow, the main mode, and quick mode,\n\n471\n00:23:42.040 --> 00:23:46.950\nwhat this is the main mode is this\ninitial security negotiation that's going\n\n472\n00:23:46.950 --> 00:23:50.530\non between the two nodes that are trying\nto setup this secure connection.\n\n473\n00:23:50.530 --> 00:23:54.872\nThat's them going through all their\noptions and saying, all right, here's\n\n474\n00:23:54.872 --> 00:23:59.694\nhow we're going to authenticate or encrypt\nor whatever it is I setup in there, right?\n\n475\n00:23:59.694 --> 00:24:02.353\nThen the quick mode association over here.\n\n476\n00:24:02.353 --> 00:24:06.774\nIs where we actually generate the key that\nwe're gonna use and we start encrypting or\n\n477\n00:24:06.774 --> 00:24:10.214\nauthenticating, whatever it is,\nagain, that we've chosen.\n\n478\n00:24:10.214 --> 00:24:13.045\nThe quick mode doesn't last very long,\nin fact, if we had time,\n\n479\n00:24:13.045 --> 00:24:15.430\nwe could sit around here for\nabout five to ten minutes.\n\n480\n00:24:15.430 --> 00:24:16.805\nThe quick mode would go away.\n\n481\n00:24:16.805 --> 00:24:18.610\nThe main mode would remain.\n\n482\n00:24:18.610 --> 00:24:22.041\nBy default, I think, the main mode\nremains for eight hours, I'm not sure.\n\n483\n00:24:22.041 --> 00:24:25.420\nI'd have to double check on what\nmy settings are on these guys.\n\n484\n00:24:25.420 --> 00:24:29.836\nBut the main mode stays there, and the\nreason is, this will speed the process up.\n\n485\n00:24:29.836 --> 00:24:32.562\nIf I had to go through\nthat security negotiation\n\n486\n00:24:32.562 --> 00:24:36.866\nevery time I made a connection to that\nserver, that's gonna slow it down.\n\n487\n00:24:36.866 --> 00:24:39.813\nI mean, I have to wait for it,\nevery time I click on a file or\n\n488\n00:24:39.813 --> 00:24:43.940\na folder on that file server,\nit's gotta go through that negotiation.\n\n489\n00:24:43.940 --> 00:24:46.630\nWith this set up,\nit can do that initial negotiation and\n\n490\n00:24:46.630 --> 00:24:50.006\njust hold on to that information,\nand then, any time I connect to that\n\n491\n00:24:50.006 --> 00:24:53.840\nserver throughout that day as long as the\nmain mode is still there, it just has to\n\n492\n00:24:53.840 --> 00:24:57.586\ndo that last part where they create\nthe key, and start talking to each other.\n\n493\n00:24:57.586 --> 00:24:59.500\nAnd, so it's a much faster process.\n\n494\n00:24:59.500 --> 00:25:03.301\nNow, tomorrow, the main mode would be\ngone, and I'd have to do that all over\n\n495\n00:25:03.301 --> 00:25:07.279\nagain, but that definitely speeds the\nprocess up, and I wanted to show you again\n\n496\n00:25:07.279 --> 00:25:10.344\nwhere we can do this monitoring,\nbecause this is important.\n\n497\n00:25:10.344 --> 00:25:13.223\nI've got to make sure that these\npolicies are in place, and\n\n498\n00:25:13.223 --> 00:25:17.139\nI've got to make sure that the settings\nin these policies match on either end, or\n\n499\n00:25:17.139 --> 00:25:19.250\nthey won't be communicating.\n\n500\n00:25:19.250 --> 00:25:22.189\nAnother tip I'll give you for\ntroubleshooting connection security rules.\n\n501\n00:25:22.189 --> 00:25:24.760\nFirst thing you should do, disable it.\n\n502\n00:25:24.760 --> 00:25:25.410\nAll right?\n\n503\n00:25:25.410 --> 00:25:28.900\nDisable the connection security rule and\nsee if you can ping the other end.\n\n504\n00:25:28.900 --> 00:25:31.938\nYou do not wanna spend an hour\nbanging your head against the desk,\n\n505\n00:25:31.938 --> 00:25:35.642\ntroubleshooting a connection security\nrule when a network cable's unplugged\n\n506\n00:25:35.642 --> 00:25:36.260\nsomewhere.\n\n507\n00:25:36.260 --> 00:25:36.804\nYou know?\n\n508\n00:25:36.804 --> 00:25:39.510\nOr, a network adapter has failed,\nor there's a switch problem.\n\n509\n00:25:39.510 --> 00:25:43.524\nMake sure you've got network connectivity\nfirst, then turn it back on and\n\n510\n00:25:43.524 --> 00:25:46.147\ntroubleshoot your\nconnection security rules.\n\n511\n00:25:46.147 --> 00:25:49.730\n>> Yeah, I've seen too many administrators\njust pulling their hair out and\n\n512\n00:25:49.730 --> 00:25:52.520\nsnatching out their fingernails going,\nwhat is wrong?\n\n513\n00:25:52.520 --> 00:25:53.689\nThey're looking through the rules.\n\n514\n00:25:53.689 --> 00:25:56.617\nThey're trying to verify everything,\nand it's like, you know what,\n\n515\n00:25:56.617 --> 00:25:59.400\njust turn the thing off and\nsee if that's even your problem.\n\n516\n00:25:59.400 --> 00:26:02.785\nAnd just like Mike said, it could just\nbe that the cable got removed, and\n\n517\n00:26:02.785 --> 00:26:06.173\nyou've spent an hour trying to\ntroubleshoot something that should have\n\n518\n00:26:06.173 --> 00:26:08.522\ntaken you a minute really,\nto be honest with you.\n\n519\n00:26:08.522 --> 00:26:11.130\nSo yeah, he's exactly right.\n\n520\n00:26:11.130 --> 00:26:12.246\nEvery now and then you just the rule.\n\n521\n00:26:12.246 --> 00:26:15.350\nIf you're having trouble, shut the rule\noff, see if everything starts working.\n\n522\n00:26:15.350 --> 00:26:19.537\nThen at least you know whether it is the\nrule or not, or the firewall or not, and\n\n523\n00:26:19.537 --> 00:26:21.511\nyou save yourself a lot of headache.\n\n524\n00:26:21.511 --> 00:26:22.642\n[LAUGH]\n>> Exactly.\n\n525\n00:26:22.642 --> 00:26:25.922\nAll right, one more thing that I\nwant to show you guys, and that's\n\n526\n00:26:25.922 --> 00:26:30.161\nthe authentication exception, or exemption\nis what they call it in Microsoftland.\n\n527\n00:26:30.161 --> 00:26:33.000\nSo, what I'm gonna do is\nI'm gonna delete this rule.\n\n528\n00:26:33.000 --> 00:26:34.288\nMake sure I'm still on the client.\n\n529\n00:26:34.288 --> 00:26:36.870\nI'm gonna remove the rule from\nthe client end of things.\n\n530\n00:26:39.020 --> 00:26:42.909\nOkay, and so now, the server has that\nrule in place but the client doesn't, so\n\n531\n00:26:42.909 --> 00:26:45.884\nwe know what's gonna happen when I try and\nping that server.\n\n532\n00:26:48.770 --> 00:26:52.164\nIt's not going to work, because\nthey can't negotiate that security.\n\n533\n00:26:52.164 --> 00:26:55.596\nAnd now, what I'm going to do is I'm\ngoing to go over to the server, and\n\n534\n00:26:55.596 --> 00:26:57.385\nI'm going to modify this rule here.\n\n535\n00:26:57.385 --> 00:26:58.164\nAll right.\n\n536\n00:26:58.164 --> 00:27:00.647\nActually, I'm sorry, I'm not going to\nmodify it, I'm going to create a new rule.\n\n537\n00:27:00.647 --> 00:27:04.767\nI'm going to right click, New Rule.\n\n538\n00:27:04.767 --> 00:27:08.734\nAnd I'm gonna create\nan authentication exemption rule.\n\n539\n00:27:08.734 --> 00:27:12.059\nI'll click Next, and\non which computers, I'll click Add and\n\n540\n00:27:12.059 --> 00:27:15.150\nwhat's really cool is you\ncan do this by subnet.\n\n541\n00:27:15.150 --> 00:27:16.741\nYou can do it by IP address.\n\n542\n00:27:16.741 --> 00:27:20.434\nYou can do a particular range if\nit's more than one address but\n\n543\n00:27:20.434 --> 00:27:24.050\nnot the entire subnet or\npredefined set of computers.\n\n544\n00:27:24.050 --> 00:27:26.301\nYou see like DHCP or local subnet.\n\n545\n00:27:26.301 --> 00:27:28.700\nSo, this is what it exactly\nlooks my DHCP server.\n\n546\n00:27:28.700 --> 00:27:32.312\nI don't need them trying to authenticate\nevery time they're doing their DORA\n\n547\n00:27:32.312 --> 00:27:33.194\nprocess, right?\n\n548\n00:27:33.194 --> 00:27:37.729\nSo, I could remove them from this,\nmake an exception for them, and\n\n549\n00:27:37.729 --> 00:27:41.310\njust to so we can see it how it works,\nI'll go ahead and\n\n550\n00:27:41.310 --> 00:27:46.581\nuse that client 10.1.1.106,\nif I remember correctly, click OK.\n\n551\n00:27:46.581 --> 00:27:48.277\nAll right, so, I've added them in there.\n\n552\n00:27:48.277 --> 00:27:51.374\nI'll click Next,\nI could apply it to whatever profile.\n\n553\n00:27:51.374 --> 00:27:52.419\nI'll click Next.\n\n554\n00:27:52.419 --> 00:27:56.720\nI'll give it a name and I'll just\ncall this the client 01 exemption.\n\n555\n00:27:56.720 --> 00:27:59.009\nI'll click Finish, all right?\n\n556\n00:27:59.009 --> 00:28:03.993\nSo, now, I've got my rule that says,\nhey, anytime I'm requiring any traffic\n\n557\n00:28:03.993 --> 00:28:08.100\ncoming across the ICMP before\nhas to be authenticated.\n\n558\n00:28:08.100 --> 00:28:09.863\nUnless you're client 01.\n\n559\n00:28:09.863 --> 00:28:13.950\nAnd then,\nyou're exempt from having to authenticate.\n\n560\n00:28:13.950 --> 00:28:14.921\nSo, let's see if that works.\n\n561\n00:28:14.921 --> 00:28:16.430\nI'll flip back over to our client 01.\n\n562\n00:28:16.430 --> 00:28:18.696\nRemember it failed when\nI removed that rule.\n\n563\n00:28:18.696 --> 00:28:20.140\nNow, I've created my exemption.\n\n564\n00:28:22.460 --> 00:28:24.773\nAnd bada bing, it starts working again.\n\n565\n00:28:24.773 --> 00:28:28.634\nSo, these are useful for things,\nthose exemptions make it very easy to,\n\n566\n00:28:28.634 --> 00:28:31.250\nlike I said,\nallow DHCP to work without requiring\n\n567\n00:28:31.250 --> 00:28:35.930\nthat overhead of authenticating every\nsingle packet that's going in and out.\n\n568\n00:28:35.930 --> 00:28:37.768\nI was trying to think of another,\n\n569\n00:28:37.768 --> 00:28:41.262\nyou might have devices that\ndon't understand IPsec, right?\n\n570\n00:28:41.262 --> 00:28:45.730\nThat you can't create a policy on, and\nthey need to connect to that server.\n\n571\n00:28:45.730 --> 00:28:48.231\nWell, that server's saying,\nhey look, he doesn't know, he said,\n\n572\n00:28:48.231 --> 00:28:50.660\nanything that comes across this board,\nI require authentication.\n\n573\n00:28:50.660 --> 00:28:52.928\nWell now, I can make exceptions or\nexemptions for\n\n574\n00:28:52.928 --> 00:28:55.215\nthose devices that don't understand IPsec.\n\n575\n00:28:55.215 --> 00:28:58.993\n>> So, this is basically, like creating\na whitelist of devices that say, hey,\n\n576\n00:28:58.993 --> 00:29:01.852\nI do trust this, I know it's good to go,\nlet's go ahead and\n\n577\n00:29:01.852 --> 00:29:03.537\njust allow the traffic from them.\n\n578\n00:29:03.537 --> 00:29:07.286\nThe only way it would actually be\na problem is if you had a compromise or\n\n579\n00:29:07.286 --> 00:29:10.275\nsomething like that on one\nof your trusted computers.\n\n580\n00:29:10.275 --> 00:29:12.978\nBut hopefully,\nyou'll be watching that in other ways and\n\n581\n00:29:12.978 --> 00:29:15.414\nyou'll notice that there's\na problem after that.\n\n582\n00:29:15.414 --> 00:29:17.450\nOther than that though,\nwe just say, hey you know what?\n\n583\n00:29:17.450 --> 00:29:20.759\nI'm just going to allow these computers\nto go ahead and send their traffic.\n\n584\n00:29:20.759 --> 00:29:21.501\n>> Exactly.\n\n585\n00:29:21.501 --> 00:29:23.060\n>> Well, Mike, this is awesome stuff.\n\n586\n00:29:23.060 --> 00:29:26.054\nThe firewall, it seems like it's\nsomething that's like, yeah, okay,\n\n587\n00:29:26.054 --> 00:29:27.917\nthere's a firewall that's blocking stuff.\n\n588\n00:29:27.917 --> 00:29:29.360\nPeople don't really mess with it.\n\n589\n00:29:29.360 --> 00:29:32.042\nBut that's what separates us\nfrom just a regular user.\n\n590\n00:29:32.042 --> 00:29:36.224\nWe're administrators, we know how to\nset it, how to use it as a tool in our\n\n591\n00:29:36.224 --> 00:29:40.879\ntool kit that we need to have full control\nover, so that we can get things working as\n\n592\n00:29:40.879 --> 00:29:44.270\nwe need them, or\nblock things as we need them as well.\n\n593\n00:29:44.270 --> 00:29:47.081\nMike, great demonstrations,\nawesome content for today's show.\n\n594\n00:29:47.081 --> 00:29:50.290\nWell that looks like we've come\nto the end of it, unfortunately.\n\n595\n00:29:50.290 --> 00:29:51.296\nWe love security shows.\n\n596\n00:29:51.296 --> 00:29:53.991\n[CROSSTALK] We hate to see\na security show end every time.\n\n597\n00:29:53.991 --> 00:29:56.060\nBut we all, unfortunately, have to.\n\n598\n00:29:56.060 --> 00:30:00.150\nSo, signing off for ITProTV,\nI've been your host Daniel Lowery.\n\n599\n00:30:00.150 --> 00:30:01.008\n>> And I'm Mike Rodrick.\n\n600\n00:30:01.008 --> 00:30:02.123\n>> And we'll see you next time.\n\n601\n00:30:02.123 --> 00:30:07.980\n[MUSIC]\n\n",
          "vimeoId": "134407939"
        }
      ],
      "title": "Create and manage Group Policy"
    }
  ],
  "url": "mcsa-windows-server-2012-reshoot",
  "vLab": true
}
